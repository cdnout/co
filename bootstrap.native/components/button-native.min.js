!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Button=t()}(this,function(){"use strict";function r(e,t){t=t&&t instanceof Element?t:document;return e instanceof Element?e:t.querySelector(e)}function l(e){this&&this.dispatchEvent(e)}return function(n){var i,t,c,s=(c=new CustomEvent("change"+".bs."+"button",{cancelable:!0}),void 0!==t&&Object.keys(t).forEach(function(e){Object.defineProperty(c,e,{value:t[e]})}),c);function o(e){var c="LABEL"===e.target.tagName?e.target:e.target.closest("LABEL")?e.target.closest("LABEL"):null,t=c&&c.getElementsByTagName("INPUT")[0];if(t){if(l.call(t,s),l.call(n,s),"checkbox"===t.type){if(s.defaultPrevented)return;t.checked?(c.classList.remove("active"),t.getAttribute("checked"),t.removeAttribute("checked"),t.checked=!1):(c.classList.add("active"),t.getAttribute("checked"),t.setAttribute("checked","checked"),t.checked=!0),n.toggled||(n.toggled=!0)}if("radio"===t.type&&!n.toggled){if(s.defaultPrevented)return;t.checked&&(0!==e.screenX||0!=e.screenY)||(c.classList.add("active"),c.classList.add("focus"),t.setAttribute("checked","checked"),t.checked=!0,n.toggled=!0,Array.from(i).map(function(e){var t=e.getElementsByTagName("INPUT")[0];e!==c&&e.classList.contains("active")&&(l.call(t,s),e.classList.remove("active"),t.removeAttribute("checked"),t.checked=!1)}))}setTimeout(function(){n.toggled=!1},50)}}function a(e){32===(e.which||e.keyCode)&&e.target===document.activeElement&&o(e)}function d(e){32===(e.which||e.keyCode)&&e.preventDefault()}function u(e){var t;"INPUT"===e.target.tagName&&(t="focusin"===e.type?"add":"remove",e.target.closest(".btn").classList[t]("focus"))}function e(e){n[e=e?"addEventListener":"removeEventListener"]("click",o,!1),n[e]("keyup",a,!1),n[e]("keydown",d,!1),n[e]("focusin",u,!1),n[e]("focusout",u,!1)}this.dispose=function(){e(),delete n.Button},(n=r(n)).Button&&n.Button.dispose(),(i=n.getElementsByClassName("btn")).length&&(n.Button||e(1),n.toggled=!1,n.Button=this,Array.from(i).map(function(e){!e.classList.contains("active")&&r("input:checked",e)&&e.classList.add("active"),e.classList.contains("active")&&!r("input:checked",e)&&e.classList.remove("active")}))}});