var mouseHoverEvents="onmouseleave"in document?["mouseenter","mouseleave"]:["mouseover","mouseout"],supportPassive=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e,t)},t)}catch(e){}return e}(),passiveHandler=!!supportPassive&&{passive:!0},supportTransition="webkitTransition"in document.head.style||"transition"in document.head.style,transitionDuration="webkitTransition"in document.head.style?"webkitTransitionDuration":"transitionDuration",transitionProperty="webkitTransition"in document.head.style?"webkitTransitionProperty":"transitionProperty";function getElementTransitionDuration(e){var t=getComputedStyle(e),n=t[transitionProperty],i=supportTransition&&n&&"none"!==n?parseFloat(t[transitionDuration]):0;return isNaN(i)?0:1e3*i}var transitionEndEvent="webkitTransition"in document.head.style?"webkitTransitionEnd":"transitionend";function emulateTransitionEnd(e,t){var n=0;getElementTransitionDuration(e)?e.addEventListener(transitionEndEvent,function i(s){!n&&t(s),n=1,e.removeEventListener(transitionEndEvent,i)}):setTimeout(function(){!n&&t(),n=1},17)}function isElementInScrollRange(e){var t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight;return t.top<=n&&t.bottom>=0}function queryElement(e,t){var n=t&&t instanceof Element?t:document;return e instanceof Element?e:n.querySelector(e)}function bootstrapCustomEvent(e,t,n){var i=new CustomEvent(e+".bs."+t,{cancelable:!0});return void 0!==n&&Object.keys(n).forEach(function(e){Object.defineProperty(i,e,{value:n[e]})}),i}function dispatchCustomEvent(e){this&&this.dispatchEvent(e)}function Carousel(e,t){t=t||{};var n,i,s,o,a,r,c,l,u,d=this;function v(){!1===i.interval||e.classList.contains("paused")||(e.classList.add("paused"),!n.isSliding&&(clearInterval(n.timer),n.timer=null))}function m(){!1!==i.interval&&e.classList.contains("paused")&&(e.classList.remove("paused"),!n.isSliding&&(clearInterval(n.timer),n.timer=null),!n.isSliding&&d.cycle())}function h(e){if(e.preventDefault(),!n.isSliding){var t=e.target;if(!t||t.classList.contains("active")||!t.getAttribute("data-slide-to"))return!1;n.index=parseInt(t.getAttribute("data-slide-to")),d.slideTo(n.index)}}function f(e){if(e.preventDefault(),!n.isSliding){var t=e.currentTarget||e.srcElement;t===c?n.index++:t===r&&n.index--,d.slideTo(n.index)}}function g(e){var t=e.which;if(!n.isSliding){switch(t){case 39:n.index++;break;case 37:n.index--;break;default:return}d.slideTo(n.index)}}function p(t){t=t?"addEventListener":"removeEventListener",i.pause&&i.interval&&(e[t](mouseHoverEvents[0],v,!1),e[t](mouseHoverEvents[1],m,!1),e[t]("touchstart",v,passiveHandler),e[t]("touchend",m,passiveHandler)),i.touch&&a.length>1&&e[t]("touchstart",T,passiveHandler),c&&c[t]("click",f,!1),r&&r[t]("click",f,!1),l&&l[t]("click",h,!1),i.keyboard&&window[t]("keydown",g,!1)}function E(t){e[t=t?"addEventListener":"removeEventListener"]("touchmove",y,passiveHandler),e[t]("touchend",L,passiveHandler)}function T(t){n.isTouch||(n.touchPosition.startX=t.changedTouches[0].pageX,e.contains(t.target)&&(n.isTouch=!0,E(1)))}function y(e){if(n.isTouch)return n.touchPosition.currentX=e.changedTouches[0].pageX,"touchmove"===e.type&&e.changedTouches.length>1?(e.preventDefault(),!1):void 0;e.preventDefault()}function L(t){if(n.isTouch&&!n.isSliding&&(n.touchPosition.endX=n.touchPosition.currentX||t.changedTouches[0].pageX,n.isTouch)){if((!e.contains(t.target)||!e.contains(t.relatedTarget))&&Math.abs(n.touchPosition.startX-n.touchPosition.endX)<75)return!1;n.touchPosition.currentX<n.touchPosition.startX?n.index++:n.touchPosition.currentX>n.touchPosition.startX&&n.index--,n.isTouch=!1,d.slideTo(n.index),E()}}function b(e){Array.from(u).map(function(e){e.classList.remove("active")}),u[e]&&u[e].classList.add("active")}function x(t){if(n.touchPosition){var s=n.index,r=t&&t.target!==a[s]?1e3*t.elapsedTime+100:20,c=d.getActiveIndex(),l="left"===n.direction?"next":"prev";n.isSliding&&setTimeout(function(){n.touchPosition&&(n.isSliding=!1,a[s].classList.add("active"),a[c].classList.remove("active"),a[s].classList.remove("carousel-item-"+l),a[s].classList.remove("carousel-item-"+n.direction),a[c].classList.remove("carousel-item-"+n.direction),dispatchCustomEvent.call(e,o),document.hidden||!i.interval||e.classList.contains("paused")||d.cycle())},r)}}if(d.cycle=function(){n.timer&&(clearInterval(n.timer),n.timer=null),n.timer=setInterval(function(){var t=n.index||d.getActiveIndex();isElementInScrollRange(e)&&(t++,d.slideTo(t))},i.interval)},d.slideTo=function(t){if(!n.isSliding){var r,c,l=d.getActiveIndex();l!==t&&(l<t||0===l&&t===a.length-1?n.direction="left":(l>t||l===a.length-1&&0===t)&&(n.direction="right"),t<0?t=a.length-1:t>=a.length&&(t=0),r="left"===n.direction?"next":"prev",c={relatedTarget:a[t],direction:n.direction,from:l,to:t},s=bootstrapCustomEvent("slide","carousel",c),o=bootstrapCustomEvent("slid","carousel",c),dispatchCustomEvent.call(e,s),s.defaultPrevented||(n.index=t,n.isSliding=!0,clearInterval(n.timer),n.timer=null,b(t),getElementTransitionDuration(a[t])&&e.classList.contains("slide")?(a[t].classList.add("carousel-item-"+r),a[t].offsetWidth,a[t].classList.add("carousel-item-"+n.direction),a[l].classList.add("carousel-item-"+n.direction),emulateTransitionEnd(a[t],x)):(a[t].classList.add("active"),a[t].offsetWidth,a[l].classList.remove("active"),setTimeout(function(){n.isSliding=!1,i.interval&&e&&!e.classList.contains("paused")&&d.cycle(),dispatchCustomEvent.call(e,o)},100))))}},d.getActiveIndex=function(){return Array.from(a).indexOf(e.getElementsByClassName("carousel-item active")[0])||0},d.dispose=function(){var t=["left","right","prev","next"];Array.from(a).map(function(e,n){e.classList.contains("active")&&b(n),t.map(function(t){return e.classList.remove("carousel-item-"+t)})}),clearInterval(n.timer),p(),n={},i={},delete e.Carousel},(e=queryElement(e)).Carousel&&e.Carousel.dispose(),a=e.getElementsByClassName("carousel-item"),r=e.getElementsByClassName("carousel-control-prev")[0],c=e.getElementsByClassName("carousel-control-next")[0],l=e.getElementsByClassName("carousel-indicators")[0],u=l&&l.getElementsByTagName("LI")||[],!(a.length<2)){var C=e.getAttribute("data-interval"),P="false"===C?0:parseInt(C),k="false"===e.getAttribute("data-touch")?0:1,S="hover"===e.getAttribute("data-pause")||!1,I="true"===e.getAttribute("data-keyboard")||!1,X=t.interval,w=t.touch;(i={}).keyboard=!0===t.keyboard||I,i.pause=!("hover"!==t.pause&&!S)&&"hover",i.touch=w||k,i.interval="number"==typeof X?X:!1===X||0===P||!1===P?0:isNaN(P)?5e3:P,d.getActiveIndex()<0&&(a.length&&a[0].classList.add("active"),u.length&&b(0)),(n={}).direction="left",n.index=0,n.timer=null,n.isSliding=!1,n.isTouch=!1,n.touchPosition={startX:0,currentX:0,endX:0},p(1),i.interval&&d.cycle(),e.Carousel=d}}export default Carousel;