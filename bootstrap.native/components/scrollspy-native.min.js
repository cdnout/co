!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).ScrollSpy=t()}(this,function(){"use strict";var u=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e,t)},t)}catch(e){}return e}()&&{passive:!0};function m(e,t){t=t&&t instanceof Element?t:document;return e instanceof Element?e:t.querySelector(e)}return function(a,e){e=e||{};var f,t,s,n,o,i=this,d={};function r(e){var t,s,n=f.items[e],o=f.targets[e],i=n.classList.contains("dropdown-item")&&n.closest(".dropdown-menu"),r=i&&i.previousElementSibling,c=n.nextElementSibling,l=c&&c.getElementsByClassName("active").length,i=f.isWindow&&o.getBoundingClientRect(),c=n.classList.contains("active")||!1,o=(f.isWindow?i.top+f.scrollOffset:o.offsetTop)-d.offset,i=f.isWindow?i.bottom+f.scrollOffset-d.offset:f.targets[e+1]?f.targets[e+1].offsetTop-d.offset:a.scrollHeight,l=l||f.scrollOffset>=o&&i>f.scrollOffset;!c&&l?(n.classList.add("active"),r&&!r.classList.contains("active")&&r.classList.add("active"),function(e){this&&this.dispatchEvent(e)}.call(a,(o="activate",i="scrollspy",t={relatedTarget:f.items[e]},s=new CustomEvent(o+".bs."+i,{cancelable:!0}),void 0!==t&&Object.keys(t).forEach(function(e){Object.defineProperty(s,e,{value:t[e]})}),s))):c&&!l&&(n.classList.remove("active"),r&&r.classList.contains("active")&&!n.parentNode.getElementsByClassName("active").length&&r.classList.remove("active"))}function c(){var e;e=n.getElementsByTagName("A"),f.length!==e.length&&(f.items=[],f.targets=[],Array.from(e).map(function(e){var t=e.getAttribute("href"),t=t&&"#"===t.charAt(0)&&"#"!==t.slice(-1)&&m(t);t&&(f.items.push(e),f.targets.push(t))}),f.length=e.length),f.scrollOffset=f.isWindow?[window.pageYOffset||document.documentElement.scrollTop,window.pageXOffset||document.documentElement.scrollLeft][0]:a.scrollTop,f.items.map(function(e,t){return r(t)})}function l(e){o[e=e?"addEventListener":"removeEventListener"]("scroll",i.refresh,u),window[e]("resize",i.refresh,u)}i.refresh=function(){c()},i.dispose=function(){l(),delete a.ScrollSpy},(a=m(a)).ScrollSpy&&a.ScrollSpy.dispose(),t=a.getAttribute("data-target"),s=a.getAttribute("data-offset"),n=m(e.target||t),o=a.offsetHeight<a.scrollHeight?a:window,n&&(d.target=n,d.offset=parseInt(e.offset||s)||10,(f={length:0,items:[],targets:[]}).isWindow=o===window,a.ScrollSpy||l(1),i.refresh(),a.ScrollSpy=i)}});