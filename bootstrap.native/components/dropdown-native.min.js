!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Dropdown=t()}(this,function(){"use strict";function w(e,t){t=t&&t instanceof Element?t:document;return e instanceof Element?e:t.querySelector(e)}function g(e,t,n){var o=new CustomEvent(e+".bs."+t,{cancelable:!0});return void 0!==n&&Object.keys(n).forEach(function(e){Object.defineProperty(o,e,{value:n[e]})}),o}function b(e){this&&this.dispatchEvent(e)}function N(e){e.focus?e.focus():e.setActive()}return function(d,e){var t,n,o,i,r,a,c=this,s=null,l=[];function u(e){(e.href&&"#"===e.href.slice(-1)||e.parentNode&&e.parentNode.href&&"#"===e.parentNode.href.slice(-1))&&this.preventDefault()}function f(){var e=d.open?"addEventListener":"removeEventListener";document[e]("click",p,!1),document[e]("keydown",m,!1),document[e]("keyup",v,!1),document[e]("focus",p,!1)}function p(e){var t=e.target,n=t&&(t.getAttribute("data-toggle")||t.parentNode&&t.parentNode.getAttribute&&t.parentNode.getAttribute("data-toggle"));"focus"===e.type&&(t===d||t===r||r.contains(t))||(t===r||r.contains(t))&&(a||n)||(s=t===d||d.contains(t)?d:null,c.hide(),u.call(e,t))}function h(e){s=d,c.show(),u.call(e,e.target)}function m(e){var t=e.which||e.keyCode;38!==t&&40!==t||e.preventDefault()}function v(e){var t=e.which||e.keyCode,n=document.activeElement,o=n===d,i=r.contains(n),e=n.parentNode===r||n.parentNode.parentNode===r,n=l.indexOf(n);e&&(n=o?0:38===t?1<n?n-1:0:40===t&&n<l.length-1?n+1:n,l[n]&&N(l[n])),(l.length&&e||!l.length&&(i||o)||!i)&&d.open&&27===t&&(c.toggle(),s=null)}c.show=function(){t=g("show","dropdown",{relatedTarget:s}),b.call(i,t),t.defaultPrevented||(r.classList.add("show"),i.classList.add("show"),d.setAttribute("aria-expanded",!0),d.open=!0,d.removeEventListener("click",h,!1),setTimeout(function(){N(r.getElementsByTagName("INPUT")[0]||d),f(),n=g("shown","dropdown",{relatedTarget:s}),b.call(i,n)},1))},c.hide=function(){o=g("hide","dropdown",{relatedTarget:s}),b.call(i,o),o.defaultPrevented||(r.classList.remove("show"),i.classList.remove("show"),d.setAttribute("aria-expanded",!1),d.open=!1,f(),N(d),setTimeout(function(){d.Dropdown&&d.addEventListener("click",h,!1)},1),o=g("hidden","dropdown",{relatedTarget:s}),b.call(i,o))},c.toggle=function(){i.classList.contains("show")&&d.open?c.hide():c.show()},c.dispose=function(){i.classList.contains("show")&&d.open&&c.hide(),d.removeEventListener("click",h,!1),delete d.Dropdown},(d=w(d)).Dropdown&&d.Dropdown.dispose(),i=d.parentNode,r=w(".dropdown-menu",i),Array.from(r.children).map(function(e){e.children.length&&"A"===e.children[0].tagName&&l.push(e.children[0]),"A"===e.tagName&&l.push(e)}),d.Dropdown||("tabindex"in r||r.setAttribute("tabindex","0"),d.addEventListener("click",h,!1)),a=!0===e||"true"===d.getAttribute("data-persist")||!1,d.open=!1,d.Dropdown=c}});