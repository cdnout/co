"use strict";var __extends=this&&this.__extends||function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};return function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),__decorate=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(s<3?n(o):3<s?n(t,r,o):n(t,r))||o);return 3<s&&o&&Object.defineProperty(t,r,o),o},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var component_1=require("../../widgets/component"),utils_1=require("../../utils"),context_1=require("../../context/context"),filterManager_1=require("../../filter/filterManager"),AnimateSlideCellRenderer=function(t){function r(){var e=t.call(this,r.TEMPLATE)||this;return e.refreshCount=0,e.eCurrent=e.queryForHtmlElement(".ag-value-slide-current"),e}return __extends(r,t),r.prototype.init=function(e){this.params=e,this.refresh(e)},r.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var t=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=utils_1._.loadTemplate('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){t===e.refreshCount&&utils_1._.addCssClass(e.ePrevious,"ag-value-slide-out-end")},50),window.setTimeout(function(){t===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)},3e3)},r.prototype.refresh=function(e){var t=e.value;if(utils_1._.missing(t)&&(t=""),t!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering())return this.addSlideAnimation(),this.lastValue=t,utils_1._.exists(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:utils_1._.exists(e.value)?this.eCurrent.innerHTML=t:utils_1._.clearElement(this.eCurrent),!0},r.TEMPLATE='<span><span class="ag-value-slide-current"></span></span>',__decorate([context_1.Autowired("filterManager"),__metadata("design:type",filterManager_1.FilterManager)],r.prototype,"filterManager",void 0),r}(component_1.Component);exports.AnimateSlideCellRenderer=AnimateSlideCellRenderer;