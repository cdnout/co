"use strict";var __extends=this&&this.__extends||function(){var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};return function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),__decorate=this&&this.__decorate||function(e,t,r,o){var a,n=arguments.length,p=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,t,r,o);else for(var i=e.length-1;0<=i;i--)(a=e[i])&&(p=(n<3?a(p):3<n?a(t,r,p):a(t,r))||p);return 3<n&&p&&Object.defineProperty(t,r,p),p},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var LoadingType,gridOptionsWrapper_1=require("../../gridOptionsWrapper"),context_1=require("../../context/context"),component_1=require("../../widgets/component"),userComponentFactory_1=require("../../components/framework/userComponentFactory"),componentAnnotations_1=require("../../widgets/componentAnnotations"),utils_1=require("../../utils");!function(e){e[e.Loading=0]="Loading",e[e.NoRows=1]="NoRows"}(LoadingType=LoadingType||{});var OverlayWrapperComponent=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return __extends(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.addLayoutElement(this.eOverlayWrapper),this.setDisplayed(!1)},t.prototype.setWrapperTypeClass=function(e){utils_1._.addOrRemoveCssClass(this.eOverlayWrapper,"ag-overlay-loading-wrapper",e===LoadingType.Loading),utils_1._.addOrRemoveCssClass(this.eOverlayWrapper,"ag-overlay-no-rows-wrapper",e===LoadingType.NoRows)},t.prototype.showLoadingOverlay=function(){var t=this;this.setWrapperTypeClass(LoadingType.Loading),this.destroyActiveOverlay();var e={api:this.gridOptionsWrapper.getApi()};this.userComponentFactory.newLoadingOverlayComponent(e).then(function(e){t.eOverlayWrapper.appendChild(e.getGui()),t.activeOverlay=e}),this.setDisplayed(!0)},t.prototype.showNoRowsOverlay=function(){var t=this;this.setWrapperTypeClass(LoadingType.NoRows),this.destroyActiveOverlay();var e={api:this.gridOptionsWrapper.getApi()};this.userComponentFactory.newNoRowsOverlayComponent(e).then(function(e){t.eOverlayWrapper.appendChild(e.getGui()),t.activeOverlay=e}),this.setDisplayed(!0)},t.prototype.destroyActiveOverlay=function(){this.activeOverlay&&(this.activeOverlay.destroy&&this.activeOverlay.destroy(),this.activeOverlay=void 0,utils_1._.clearElement(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.destroyActiveOverlay()},t.TEMPLATE='<div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],t.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("userComponentFactory"),__metadata("design:type",userComponentFactory_1.UserComponentFactory)],t.prototype,"userComponentFactory",void 0),__decorate([componentAnnotations_1.RefSelector("eOverlayWrapper"),__metadata("design:type",HTMLElement)],t.prototype,"eOverlayWrapper",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],t.prototype,"postConstruct",null),t}(component_1.Component);exports.OverlayWrapperComponent=OverlayWrapperComponent;