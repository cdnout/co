"use strict";var __extends=this&&this.__extends||function(){var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),__decorate=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;0<=c;c--)(n=e[c])&&(a=(i<3?n(a):3<i?n(t,o,a):n(t,o))||a);return 3<i&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var popupComponent_1=require("../../widgets/popupComponent"),constants_1=require("../../constants"),context_1=require("../../context/context"),gridOptionsWrapper_1=require("../../gridOptionsWrapper"),valueFormatterService_1=require("../valueFormatterService"),utils_1=require("../../utils"),SelectCellEditor=function(t){function e(){var e=t.call(this,'<div class="ag-cell-edit-input"><select class="ag-cell-edit-input"/></div>')||this;return e.eSelect=e.getGui().querySelector("select"),e}return __extends(e,t),e.prototype.init=function(n){var i=this;this.focusAfterAttached=n.cellStartedEdit,utils_1._.missing(n.values)?console.warn("ag-Grid: no values found for select cellEditor"):(n.values.forEach(function(e){var t=document.createElement("option");t.value=e;var o=i.valueFormatterService.formatValue(n.column,null,null,e),r=null!=o;t.text=r?o:e,n.value===e&&(t.selected=!0),i.eSelect.appendChild(t)}),this.gridOptionsWrapper.isFullRowEdit()||this.addDestroyableEventListener(this.eSelect,"change",function(){return n.stopEditing()}),this.addDestroyableEventListener(this.eSelect,"keydown",function(e){e.keyCode!==constants_1.Constants.KEY_UP&&e.keyCode!==constants_1.Constants.KEY_DOWN||e.stopPropagation()}),this.addDestroyableEventListener(this.eSelect,"mousedown",function(e){e.stopPropagation()}))},e.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.focus()},e.prototype.focusIn=function(){this.eSelect.focus()},e.prototype.getValue=function(){return this.eSelect.value},e.prototype.isPopup=function(){return!1},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],e.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("valueFormatterService"),__metadata("design:type",valueFormatterService_1.ValueFormatterService)],e.prototype,"valueFormatterService",void 0),e}(popupComponent_1.PopupComponent);exports.SelectCellEditor=SelectCellEditor;