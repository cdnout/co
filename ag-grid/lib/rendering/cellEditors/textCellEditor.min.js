"use strict";var __extends=this&&this.__extends||function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var constants_1=require("../../constants"),popupComponent_1=require("../../widgets/popupComponent"),utils_1=require("../../utils"),TextCellEditor=function(e){function n(){var t=e.call(this,n.TEMPLATE)||this;return t.eInput=t.getGui().querySelector("input"),t}return __extends(n,e),n.prototype.init=function(t){this.params=t;var e,n=this.eInput;t.cellStartedEdit?(this.focusAfterAttached=!0,t.keyPress===constants_1.Constants.KEY_BACKSPACE||t.keyPress===constants_1.Constants.KEY_DELETE?e="":t.charPress?e=t.charPress:(e=this.getStartValue(t),t.keyPress!==constants_1.Constants.KEY_F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,e=this.getStartValue(t)),utils_1._.exists(e)&&(n.value=e),this.addDestroyableEventListener(n,"keydown",function(t){var e=t.keyCode===constants_1.Constants.KEY_PAGE_UP,n=t.keyCode===constants_1.Constants.KEY_PAGE_DOWN;(e||n)&&t.preventDefault()})},n.prototype.afterGuiAttached=function(){var t,e;this.focusAfterAttached&&((t=this.eInput).focus(),this.highlightAllOnFocus?t.select():0<(e=t.value?t.value.length:0)&&t.setSelectionRange(e,e))},n.prototype.focusIn=function(){var t=this.eInput;t.focus(),t.select()},n.prototype.getValue=function(){var t=this.eInput;return this.params.parseValue(t.value)},n.prototype.getStartValue=function(t){return t.useFormatter||t.column.getColDef().refData?t.formatValue(t.value):t.value},n.prototype.isPopup=function(){return!1},n.TEMPLATE='<div class="ag-input-wrapper" role="presentation"><input class="ag-cell-edit-input" type="text"/></div>',n}(popupComponent_1.PopupComponent);exports.TextCellEditor=TextCellEditor;