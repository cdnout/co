"use strict";var __extends=this&&this.__extends||function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var column_1=require("../../entities/column"),beanStub_1=require("../../context/beanStub"),constants_1=require("../../constants"),utils_1=require("../../utils"),SetLeftFeature=function(r){function t(t,e,n,o){var i=r.call(this)||this;return i.columnOrGroup=t,i.eCell=e,i.colsSpanning=o,i.beans=n,i.printLayout=n.gridOptionsWrapper.getDomLayout()===constants_1.Constants.DOM_LAYOUT_PRINT,i}return __extends(t,r),t.prototype.setColsSpanning=function(t){this.colsSpanning=t,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?utils_1._.last(this.colsSpanning):this.columnOrGroup},t.prototype.init=function(){this.addDestroyableEventListener(this.columnOrGroup,column_1.Column.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime()},t.prototype.setLeftFirstTime=function(){var t=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),e=utils_1._.exists(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&e&&!t?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var t=this,e=this.getColumnOrGroup().getLeft(),n=this.getColumnOrGroup().getOldLeft();this.setLeft(n),this.actualLeft=e,this.beans.columnAnimationService.executeNextVMTurn(function(){t.actualLeft===e&&t.setLeft(e)})},t.prototype.onLeftChanged=function(){var t=this.getColumnOrGroup(),e=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,e),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(t,e){return!this.printLayout||t.getPinned()===column_1.Column.PINNED_LEFT?e:t.getPinned()!==column_1.Column.PINNED_RIGHT?this.beans.columnController.getPinnedLeftContainerWidth()+e:this.beans.columnController.getPinnedLeftContainerWidth()+this.beans.columnController.getBodyContainerWidth()+e},t.prototype.setLeft=function(t){utils_1._.exists(t)&&(this.eCell.style.left=t+"px")},t}(beanStub_1.BeanStub);exports.SetLeftFeature=SetLeftFeature;