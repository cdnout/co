"use strict";var __decorate=this&&this.__decorate||function(e,t,r,o){var i,a=arguments.length,n=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,o);else for(var p=e.length-1;0<=p;p--)(i=e[p])&&(n=(a<3?i(n):3<a?i(t,r,n):i(t,r))||n);return 3<a&&n&&Object.defineProperty(t,r,n),n},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var context_1=require("../context/context"),gridOptionsWrapper_1=require("../gridOptionsWrapper"),expressionService_1=require("../valueService/expressionService"),ValueFormatterService=function(){function e(){}return e.prototype.formatValue=function(e,t,r,o){var i=e.getColDef(),a=t&&t.rowPinned&&i.pinnedRowValueFormatter||i.valueFormatter,n=null;if(a){e={value:o,node:t,data:t?t.data:null,colDef:e.getColDef(),column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};e.$scope=r,n=this.expressionService.evaluate(a,e)}else if(i.refData)return i.refData[o]||"";return null==n&&Array.isArray(o)&&(n=o.join(", ")),n},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],e.prototype,"gridOptionsWrapper",void 0),__decorate([context_1.Autowired("expressionService"),__metadata("design:type",expressionService_1.ExpressionService)],e.prototype,"expressionService",void 0),__decorate([context_1.Bean("valueFormatterService")],e)}();exports.ValueFormatterService=ValueFormatterService;