"use strict";var __decorate=this&&this.__decorate||function(e,t,r,o){var n,l=arguments.length,i=l<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(i=(l<3?n(i):3<l?n(t,r,i):n(t,r))||i);return 3<l&&i&&Object.defineProperty(t,r,i),i},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var RegisteredComponentSource,textCellEditor_1=require("../../rendering/cellEditors/textCellEditor"),context_1=require("../../context/context"),dateFilter_1=require("../../filter/dateFilter"),headerComp_1=require("../../headerRendering/header/headerComp"),headerGroupComp_1=require("../../headerRendering/headerGroup/headerGroupComp"),floatingFilter_1=require("../../filter/floatingFilter"),componentResolver_1=require("./componentResolver"),groupCellRenderer_1=require("../../rendering/cellRenderers/groupCellRenderer"),animateShowChangeCellRenderer_1=require("../../rendering/cellRenderers/animateShowChangeCellRenderer"),animateSlideCellRenderer_1=require("../../rendering/cellRenderers/animateSlideCellRenderer"),loadingCellRenderer_1=require("../../rendering/cellRenderers/loadingCellRenderer"),selectCellEditor_1=require("../../rendering/cellEditors/selectCellEditor"),popupTextCellEditor_1=require("../../rendering/cellEditors/popupTextCellEditor"),popupSelectCellEditor_1=require("../../rendering/cellEditors/popupSelectCellEditor"),largeTextCellEditor_1=require("../../rendering/cellEditors/largeTextCellEditor"),textFilter_1=require("../../filter/textFilter"),numberFilter_1=require("../../filter/numberFilter"),loadingOverlayComponent_1=require("../../rendering/overlays/loadingOverlayComponent"),noRowsOverlayComponent_1=require("../../rendering/overlays/noRowsOverlayComponent"),tooltipComponent_1=require("../../rendering/tooltipComponent"),utils_1=require("../../utils");!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.REGISTERED=1]="REGISTERED"}(RegisteredComponentSource=exports.RegisteredComponentSource||(exports.RegisteredComponentSource={}));var ComponentProvider=function(){function e(){this.agGridDefaults={agDateInput:dateFilter_1.DefaultDateComponent,agColumnHeader:headerComp_1.HeaderComp,agColumnGroupHeader:headerGroupComp_1.HeaderGroupComp,agSetColumnFloatingFilter:floatingFilter_1.SetFloatingFilterComp,agTextColumnFloatingFilter:floatingFilter_1.TextFloatingFilterComp,agNumberColumnFloatingFilter:floatingFilter_1.NumberFloatingFilterComp,agDateColumnFloatingFilter:floatingFilter_1.DateFloatingFilterComp,agAnimateShowChangeCellRenderer:animateShowChangeCellRenderer_1.AnimateShowChangeCellRenderer,agAnimateSlideCellRenderer:animateSlideCellRenderer_1.AnimateSlideCellRenderer,agGroupCellRenderer:groupCellRenderer_1.GroupCellRenderer,agGroupRowRenderer:groupCellRenderer_1.GroupCellRenderer,agLoadingCellRenderer:loadingCellRenderer_1.LoadingCellRenderer,agCellEditor:textCellEditor_1.TextCellEditor,agTextCellEditor:textCellEditor_1.TextCellEditor,agSelectCellEditor:selectCellEditor_1.SelectCellEditor,agPopupTextCellEditor:popupTextCellEditor_1.PopupTextCellEditor,agPopupSelectCellEditor:popupSelectCellEditor_1.PopupSelectCellEditor,agLargeTextCellEditor:largeTextCellEditor_1.LargeTextCellEditor,agTextColumnFilter:textFilter_1.TextFilter,agNumberColumnFilter:numberFilter_1.NumberFilter,agDateColumnFilter:dateFilter_1.DateFilter,agLoadingOverlay:loadingOverlayComponent_1.LoadingOverlayComponent,agNoRowsOverlay:noRowsOverlayComponent_1.NoRowsOverlayComponent,agTooltipComponent:tooltipComponent_1.TooltipComponent},this.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},this.jsComponents={},this.frameworkComponents={}}return e.prototype.init=function(){var t=this,e=this.context.getEnterpriseDefaultComponents();e&&utils_1._.forEach(e,function(e){t.registerDefaultComponent(e.componentName,e.theClass)}),null!=this.gridOptions.components&&Object.keys(this.gridOptions.components).forEach(function(e){t.registerComponent(e,t.gridOptions.components[e])}),null!=this.gridOptions.frameworkComponents&&Object.keys(this.gridOptions.frameworkComponents).forEach(function(e){t.registerFwComponent(e,t.gridOptions.frameworkComponents[e])})},e.prototype.registerDefaultComponent=function(e,t,r){void 0===r&&(r=!0);e=this.translateIfDeprecated(e);this.agGridDefaults[e]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[e]=t},e.prototype.registerComponent=function(e,t){e=this.translateIfDeprecated(e);this.frameworkComponents[e]?console.error("Trying to register a component that you have already registered for frameworks: "+e):this.jsComponents[e]=t},e.prototype.registerFwComponent=function(e,t){e=this.translateIfDeprecated(e);this.jsComponents[e]?console.error("Trying to register a component that you have already registered for plain javascript: "+e):this.frameworkComponents[e]=t},e.prototype.retrieve=function(e){e=this.translateIfDeprecated(e);return this.frameworkComponents[e]?{type:componentResolver_1.ComponentType.FRAMEWORK,component:this.frameworkComponents[e],source:RegisteredComponentSource.REGISTERED}:this.jsComponents[e]?{type:componentResolver_1.ComponentType.AG_GRID,component:this.jsComponents[e],source:RegisteredComponentSource.REGISTERED}:this.agGridDefaults[e]?this.agGridDefaults[e]?{type:componentResolver_1.ComponentType.AG_GRID,component:this.agGridDefaults[e],source:RegisteredComponentSource.DEFAULT}:null:(Object.keys(this.agGridDefaults).indexOf(e)<0&&console.warn("ag-grid: Looking for component ["+e+"] but it wasn't found."),null)},e.prototype.translateIfDeprecated=function(e){var t=this.agDeprecatedNames[e];return null!=t?(utils_1._.doOnce(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+t.propertyHolder+":"+e+" to "+t.propertyHolder+":"+t.newComponentName)},"DEPRECATE_COMPONENT_"+e),t.newComponentName):e},__decorate([context_1.Autowired("gridOptions"),__metadata("design:type",Object)],e.prototype,"gridOptions",void 0),__decorate([context_1.Autowired("context"),__metadata("design:type",context_1.Context)],e.prototype,"context",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],e.prototype,"init",null),__decorate([context_1.Bean("componentProvider")],e)}();exports.ComponentProvider=ComponentProvider;