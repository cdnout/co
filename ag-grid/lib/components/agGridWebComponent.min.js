"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var componentUtil_1=require("./componentUtil"),grid_1=require("../grid"),registered=!1;function initialiseAgGridWithWebComponents(){var t,e;console.warn("ag-grid: initialiseAgGridWithWebComponents is deprecated. Please use the ag-grid-webcomponent dependency instead. "),registered||(registered=!0,"undefined"!=typeof document&&document.registerElement||console.error("ag-Grid: unable to find document.registerElement() function, unable to initialise ag-Grid as a Web Component"),t=Object.create(HTMLElement.prototype),componentUtil_1.ComponentUtil.ALL_PROPERTIES.forEach(function(e){Object.defineProperty(t,e,{set:function(t){this.__agGridSetProperty(e,t)},get:function(){return this.__agGridGetProperty(e)},enumerable:!0,configurable:!0})}),(e=t).__agGridSetProperty=function(t,e){this.__attributes||(this.__attributes={}),this.__attributes[t]=e;var i={};i[t]={currentValue:e},this.onChange(i)},e.onChange=function(t){this._initialised&&componentUtil_1.ComponentUtil.processOnChange(t,this._gridOptions,this.api,this.columnApi)},e.__agGridGetProperty=function(t){return this.__attributes||(this.__attributes={}),this.__attributes[t]},e.setGridOptions=function(t){var e=this.globalEventListener.bind(this);this._gridOptions=componentUtil_1.ComponentUtil.copyAttributesToGridOptions(t,this);e={globalEventListener:e};this._agGrid=new grid_1.Grid(this,this._gridOptions,e),this.api=t.api,this.columnApi=t.columnApi,this._initialised=!0},e.createdCallback=function(){for(var t=0;t<this.attributes.length;t++){var e=this.attributes[t];this.setPropertyFromAttribute(e)}},e.setPropertyFromAttribute=function(t){var e=toCamelCase(t.nodeName),t=t.nodeValue;0<=componentUtil_1.ComponentUtil.ALL_PROPERTIES.indexOf(e)&&(this[e]=t)},e.attachedCallback=function(t){},e.detachedCallback=function(t){},e.attributeChangedCallback=function(t){t=this.attributes[t];this.setPropertyFromAttribute(t)},e.globalEventListener=function(t,e){var i=t.toLowerCase(),t=new Event(i);t.agGridDetails=e,this.dispatchEvent(t);i="on"+i;"function"==typeof this[i]&&this[i](t)},document.registerElement("ag-grid",{prototype:t}))}function toCamelCase(t){return"string"!=typeof t?t:t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})}exports.initialiseAgGridWithWebComponents=initialiseAgGridWithWebComponents;