"use strict";var __decorate=this&&this.__decorate||function(o,t,e,r){var n,i=arguments.length,l=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(o,t,e,r);else for(var s=o.length-1;0<=s;s--)(n=o[s])&&(l=(i<3?n(l):3<i?n(t,e,l):n(t,e))||l);return 3<i&&l&&Object.defineProperty(t,e,l),l},__metadata=this&&this.__metadata||function(o,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(o,t)};Object.defineProperty(exports,"__esModule",{value:!0});var dragAndDropService_1=require("../dragAndDrop/dragAndDropService"),columnController_1=require("../columnController/columnController"),context_1=require("../context/context"),gridOptionsWrapper_1=require("../gridOptionsWrapper"),BodyDropPivotTarget=function(){function o(o){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=o}return o.prototype.onDragEnter=function(o){var t=this;this.clearColumnsList(),this.gridOptionsWrapper.isFunctionsReadOnly()||o.dragItem.columns.forEach(function(o){o.isPrimary()&&(o.isAnyFunctionActive()||(o.isAllowValue()?t.columnsToAggregate.push(o):o.isAllowRowGroup()?t.columnsToGroup.push(o):o.isAllowRowGroup()&&t.columnsToPivot.push(o)))})},o.prototype.getIconName=function(){return 0<this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length?this.pinned?dragAndDropService_1.DragAndDropService.ICON_PINNED:dragAndDropService_1.DragAndDropService.ICON_MOVE:null},o.prototype.onDragLeave=function(o){this.clearColumnsList()},o.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},o.prototype.onDragging=function(o){},o.prototype.onDragStop=function(o){0<this.columnsToAggregate.length&&this.columnController.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),0<this.columnsToGroup.length&&this.columnController.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),0<this.columnsToPivot.length&&this.columnController.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},__decorate([context_1.Autowired("columnController"),__metadata("design:type",columnController_1.ColumnController)],o.prototype,"columnController",void 0),__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],o.prototype,"gridOptionsWrapper",void 0),o}();exports.BodyDropPivotTarget=BodyDropPivotTarget;