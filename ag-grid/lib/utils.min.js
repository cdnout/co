"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var constants_1=require("./constants"),FUNCTION_STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,FUNCTION_ARGUMENT_NAMES=/([^\s,]+)/g,AG_GRID_STOP_PROPAGATION="__ag_Grid_Stop_Propagation",Timer=function(){function e(){this.timestamp=(new Date).getTime()}return e.prototype.print=function(e){var t=(new Date).getTime()-this.timestamp;console.info(e+" = "+t),this.timestamp=(new Date).getTime()},e}();exports.Timer=Timer;var HTML_ESCAPES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},reUnescapedHtml=/[&<>"']/g,Utils=function(){function c(){}return c.doIeFocusHack=function(e){(exports._.isBrowserIE()||exports._.isBrowserEdge())&&(!exports._.missing(document.activeElement)&&document.activeElement!==document.body||e.focus())},c.doOnce=function(e,t){this.doOnceFlags[t]||(e(),this.doOnceFlags[t]=!0)},c.isLeftClick=function(e){return"buttons"in e?1==e.buttons:1==(e.which||e.button)},c.areEventsNear=function(e,t,n){if(0===n)return!1;var r=Math.abs(e.clientX-t.clientX),t=Math.abs(e.clientY-t.clientY);return Math.max(r,t)<=n},c.jsonEquals=function(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)},c.shallowCompare=function(e,t){if(this.missing(e)&&this.missing(t))return!0;if(this.missing(e)||this.missing(t))return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},c.getNameOfClass=function(e){e=e.toString(),e=/function (.{1,})\(/.exec(e);return e&&1<e.length?e[1]:""},c.values=function(e){var n=[];return this.iterateObject(e,function(e,t){n.push(t)}),n},c.getValueUsingField=function(e,t,n){if(t&&e){if(n){for(var r=t.split("."),i=e,o=0;o<r.length;o++)if(i=i[r[o]],this.missing(i))return null;return i}return e[t]}},c.getElementSize=function(e){var t=window.getComputedStyle(e),n=t.height,r=t.width,i=t.paddingTop,o=t.paddingRight,s=t.paddingBottom,a=t.paddingLeft,u=t.marginTop,l=t.marginRight,c=t.marginBottom,e=t.marginLeft,t=t.boxSizing;return{height:parseFloat(n),width:parseFloat(r),paddingTop:parseFloat(i),paddingRight:parseFloat(o),paddingBottom:parseFloat(s),paddingLeft:parseFloat(a),marginTop:parseFloat(u),marginRight:parseFloat(l),marginBottom:parseFloat(c),marginLeft:parseFloat(e),boxSizing:t}},c.getInnerHeight=function(e){e=this.getElementSize(e);return"border-box"===e.boxSizing?e.height-e.paddingTop-e.paddingBottom:e.height},c.getInnerWidth=function(e){e=this.getElementSize(e);return"border-box"===e.boxSizing?e.width-e.paddingLeft-e.paddingRight:e.width},c.getAbsoluteHeight=function(e){var t=this.getElementSize(e),t=t.marginBottom+t.marginTop;return Math.ceil(e.offsetHeight+t)},c.getAbsoluteWidth=function(e){var t=this.getElementSize(e),t=t.marginLeft+t.marginRight;return Math.ceil(e.offsetWidth+t)},c.getScrollLeft=function(e,t){var n=e.scrollLeft;return t&&(n=Math.abs(n),this.isBrowserChrome()&&(n=e.scrollWidth-e.clientWidth-n)),n},c.cleanNumber=function(e){return"string"==typeof e&&(e=parseInt(e,10)),e="number"==typeof e?Math.floor(e):null},c.setScrollLeft=function(e,t,n){n&&((this.isBrowserSafari()||this.isBrowserChrome())&&(t=e.scrollWidth-e.clientWidth-t),this.isBrowserFirefox()&&(t*=-1)),e.scrollLeft=t},c.iterateNamedNodeMap=function(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n];t(r.name,r.value)}},c.iterateObject=function(e,n){if(e&&!this.missing(e))if(Array.isArray(e))e.forEach(function(e,t){n(t+"",e)});else for(var t=Object.keys(e),r=0;r<t.length;r++){var i=t[r],o=e[i];n(i,o)}},c.cloneObject=function(e){for(var t={},n=Object.keys(e),r=0;r<n.length;r++){var i=n[r],o=e[i];t[i]=o}return t},c.deepCloneObject=function(e){return JSON.parse(JSON.stringify(e))},c.map=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=t(e[r],r);n.push(i)}return n},c.mapObject=function(e,n){var r=[];return c.iterateObject(e,function(e,t){r.push(n(t))}),r},c.forEach=function(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n],n)},c.filter=function(e,t){var n=[];return e.forEach(function(e){t(e)&&n.push(e)}),n},c.getAllKeysInObjects=function(e){var t={};return e.forEach(function(e){e&&Object.keys(e).forEach(function(e){return t[e]=null})}),Object.keys(t)},c.mergeDeep=function(r,e){this.exists(e)&&this.iterateObject(e,function(e,t){var n=r[e];n!==t&&("object"==typeof n&&"object"==typeof t?c.mergeDeep(n,t):r[e]=t)})},c.assign=function(n){for(var t=this,e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.forEach(function(e){t.exists(e)&&t.iterateObject(e,function(e,t){n[e]=t})}),n},c.flatten=function(e){return[].concat.apply([],e)},c.parseYyyyMmDdToDate=function(e,t){try{if(!e)return null;if(-1===e.indexOf(t))return null;var n=e.split(t);return 3!=n.length?null:new Date(Number(n[0]),Number(n[1])-1,Number(n[2]))}catch(e){return null}},c.serializeDateToYyyyMmDd=function(e,t){return e?e.getFullYear()+t+c.pad(e.getMonth()+1,2)+t+c.pad(e.getDate(),2):null},c.pad=function(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n},c.pushAll=function(t,e){this.missing(e)||this.missing(t)||e.forEach(function(e){return t.push(e)})},c.createArrayOfNumbers=function(e,t){for(var n=[],r=e;r<=t;r++)n.push(r);return n},c.getFunctionParameters=function(e){e=e.toString().replace(FUNCTION_STRIP_COMMENTS,""),e=e.slice(e.indexOf("(")+1,e.indexOf(")")).match(FUNCTION_ARGUMENT_NAMES);return null===e?[]:e},c.find=function(e,t,n){if(null==e)return null;if(!Array.isArray(e)){var r=this.values(e);return this.find(r,t,n)}for(var i=e,o=null,s=0;s<i.length;s++){var a=i[s];if("string"==typeof t){if(a[t]===n){o=a;break}}else if(t(a)){o=a;break}}return o},c.toStrings=function(e){return this.map(e,function(e){return null!=e&&e.toString?e.toString():null})},c.iterateArray=function(e,t){for(var n=0;n<e.length;n++)t(e[n],n)},c.isNode=function(e){return"function"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},c.isElement=function(e){return"function"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},c.isNodeOrElement=function(e){return this.isNode(e)||this.isElement(e)},c.copyNodeList=function(e){for(var t=e?e.length:0,n=[],r=0;r<t;r++)n.push(e[r]);return n},c.isEventFromPrintableCharacter=function(e){var t=String.fromCharCode(e.charCode);if(this.isKeyPressed(e,constants_1.Constants.KEY_NEW_LINE))return!1;if(e.altKey||e.ctrlKey)return!1;if(exports._.exists(e.key)){var n=1===e.key.length,e=c.isNumpadDelWithNumlockOnForEdgeOrIe(e);return n||e}return 0<=c.PRINTABLE_CHARACTERS.indexOf(t)},c.isUserSuppressingKeyboardEvent=function(e,t,n,r,i){var o=e.getSuppressKeyboardEventFunc(),s=r.getColDef().suppressKeyboardEvent;if(!o&&!s)return!1;e={event:t,editing:i,column:r,api:e.getApi(),node:n,data:n.data,colDef:r.getColDef(),context:e.getContext(),columnApi:e.getColumnApi()};if(s&&s(e))return!0;return!!o&&o(e)},c.getCellCompForEvent=function(e,t){for(var n=this.getTarget(t);n;){var r=e.getDomData(n,"cellComp");if(r)return r;n=n.parentElement}return null},c.addChangeListener=function(e,t){e.addEventListener("changed",t),e.addEventListener("paste",t),e.addEventListener("input",t),e.addEventListener("keydown",t),e.addEventListener("keyup",t)},c.makeNull=function(e){return null==e||""===e?null:e},c.missing=function(e){return!this.exists(e)},c.missingOrEmpty=function(e){return!e||this.missing(e)||0===e.length},c.missingOrEmptyObject=function(e){return this.missing(e)||0===Object.keys(e).length},c.exists=function(e,t){return void 0===t&&(t=!1),null!=e&&(""!==e||t)},c.firstExistingValue=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;n++){var r=e[n];if(exports._.exists(r))return r}return null},c.anyExists=function(e){if(e)for(var t=0;t<e.length;t++)if(this.exists(e[t]))return!0;return!1},c.existsAndNotEmpty=function(e){return null!=e&&this.exists(e)&&0<e.length},c.clearElement=function(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)},c.removeElement=function(e,t){this.removeFromParent(e.querySelector(t))},c.removeFromParent=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},c.isVisible=function(e){return null!==e.offsetParent},c.callIfPresent=function(e){e&&e()},c.loadTemplate=function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild},c.appendHtml=function(e,t){e.lastChild?e.insertAdjacentHTML("afterbegin",t):e.innerHTML=t},c.addOrRemoveCssClass=function(e,t,n){n?this.addCssClass(e,t):this.removeCssClass(e,t)},c.radioCssClass=function(e,t,n){for(var r=e.parentElement.firstChild;r;)exports._.addOrRemoveCssClass(r,t,n?r!==e:r===e),r=r.nextSibling},c.addCssClass=function(t,e){var n,r=this;e&&0!==e.length&&(0<=e.indexOf(" ")?e.split(" ").forEach(function(e){return r.addCssClass(t,e)}):t.classList?t.classList.contains(e)||t.classList.add(e):t.className&&0<t.className.length?(n=t.className.split(" ")).indexOf(e)<0&&(n.push(e),t.setAttribute("class",n.join(" "))):t.setAttribute("class",e))},c.removeCssClass=function(e,t){if(e.classList)e.classList.contains(t)&&e.classList.remove(t);else if(e.className&&0<e.className.length){var n=e.className.split(" ");if(0<=n.indexOf(t)){for(;0<=n.indexOf(t);)n.splice(n.indexOf(t),1);e.setAttribute("class",n.join(" "))}}},c.containsClass=function(e,t){if(e.classList)return e.classList.contains(t);if(e.className){var n=e.className===t,r=0<=e.className.indexOf(" "+t+" "),i=0===e.className.indexOf(t+" "),t=e.className.lastIndexOf(" "+t)===e.className.length-t.length-1;return n||r||i||t}return!1},c.getElementAttribute=function(e,t){return e.attributes&&e.attributes[t]?e.attributes[t].value:null},c.offsetHeight=function(e){return e&&e.clientHeight?e.clientHeight:0},c.offsetWidth=function(e){return e&&e.clientWidth?e.clientWidth:0},c.sortNumberArray=function(e){e.sort(function(e,t){return e-t})},c.removeRepeatsFromArray=function(e,t){if(e)for(var n=e.length-2;0<=n;n--){var r=e[n]===t,i=e[n+1]===t;r&&i&&e.splice(n+1,1)}},c.removeFromArray=function(e,t){t=e.indexOf(t);0<=t&&e.splice(t,1)},c.removeAllFromArray=function(t,e){e.forEach(function(e){e=t.indexOf(e);0<=e&&t.splice(e,1)})},c.insertIntoArray=function(e,t,n){e.splice(n,0,t)},c.insertArrayIntoArray=function(e,t,n){if(!this.missing(e)&&!this.missing(t))for(var r=t.length-1;0<=r;r--){var i=t[r];this.insertIntoArray(e,i,n)}},c.moveInArray=function(t,e,n){var r=this;e.forEach(function(e){r.removeFromArray(t,e)}),e.slice().reverse().forEach(function(e){r.insertIntoArray(t,e,n)})},c.defaultComparator=function(t,n,e){void 0===e&&(e=!1);var r=null==t,i=null==n;if(t&&t.toNumber&&(t=t.toNumber()),n&&n.toNumber&&(n=n.toNumber()),r&&i)return 0;if(r)return-1;if(i)return 1;if("string"==typeof t){if(!e)return o(t,n);try{return t.localeCompare(n)}catch(e){return o(t,n)}}return t<n?-1:n<t?1:0;function o(e,t){return t<e?1:e<t?-1:0}},c.last=function(e){if(e&&e.length)return e[e.length-1]},c.compareArrays=function(e,t){if(this.missing(e)&&this.missing(t))return!0;if(this.missing(e)||this.missing(t)||!e||!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},c.ensureDomOrder=function(e,t,n){n&&n.nextSibling===t||(n?n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))},c.insertWithDomOrder=function(e,t,n){n?n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},c.insertTemplateWithDomOrder=function(e,t,n){e=n?(n.insertAdjacentHTML("afterend",t),n.nextSibling):(e.firstChild?e.insertAdjacentHTML("afterbegin",t):e.innerHTML=t,e.firstChild);return e},c.every=function(e,t){if(!e||0===e.length)return!0;for(var n=0;n<e.length;n++)if(!t(e[n]))return!1;return!0},c.toStringOrNull=function(e){return this.exists(e)&&e.toString?e.toString():null},c.formatSize=function(e){return"number"==typeof e?e+"px":e},c.formatNumberTwoDecimalPlacesAndCommas=function(e){return"number"!=typeof e?"":(Math.round(100*e)/100).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},c.formatNumberCommas=function(e){return"number"!=typeof e?"":e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},c.prependDC=function(e,t){this.exists(e.firstChild)?e.insertBefore(t,e.firstChild):e.appendChild(t)},c.createIcon=function(e,t,n){t=this.createIconNoSpan(e,t,n);if(-1<t.className.indexOf("ag-icon"))return t;n=document.createElement("span");return n.appendChild(t),n},c.createIconNoSpan=function(e,t,n){var r=null,n=n&&n.getColDef().icons?n.getColDef().icons:null;if(n&&(r=n[e]),!r&&t.getIcons()&&(r=t.getIcons()[e]),r){var i=void 0;if("function"==typeof r)i=r();else{if("string"!=typeof r)throw new Error("icon from grid options needs to be a string or a function");i=r}if("string"==typeof i)return this.loadTemplate(i);if(this.isNodeOrElement(i))return i;throw new Error("iconRenderer should return back a string or a dom object")}r=document.createElement("span"),i=this.iconNameClassMap[e];if(!i)throw new Error(e+" did not find class");return r.setAttribute("class","ag-icon ag-icon-"+i),r.setAttribute("unselectable","on"),r},c.addStylesToElement=function(n,r){var i=this;r&&Object.keys(r).forEach(function(e){var t=i.hyphenToCamelCase(e);t&&(n.style[t]=r[e])})},c.isHorizontalScrollShowing=function(e){return e.clientWidth<e.scrollWidth},c.isVerticalScrollShowing=function(e){return e.clientHeight<e.scrollHeight},c.getMaxDivHeight=function(){if(!document.body)return-1;var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=this.loadTemplate("<div/>");for(document.body.appendChild(n);;){var r=2*e;if(n.style.height=r+"px",t<r||n.clientHeight!==r)break;e=r}return document.body.removeChild(n),e},c.getScrollbarWidth=function(){var e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);e=t.offsetWidth-t.clientWidth;return t.parentNode&&t.parentNode.removeChild(t),e},c.hasOverflowScrolling=function(){var e=["webkit","moz","o","ms"],t=document.createElement("div"),n=!1;document.getElementsByTagName("body")[0].appendChild(t),t.setAttribute("style",e.map(function(e){return"-"+e+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var r=window.getComputedStyle(t);if("touch"===r.overflowScrolling&&(n=!0),!n)for(var i=0,o=e;i<o.length;i++)if("touch"===r[o[i]+"OverflowScrolling"]){n=!0;break}return t.parentNode&&t.parentNode.removeChild(t),n},c.isKeyPressed=function(e,t){return(e.which||e.keyCode)===t},c.setVisible=function(e,t){this.addOrRemoveCssClass(e,"ag-hidden",!t)},c.setHidden=function(e,t){this.addOrRemoveCssClass(e,"ag-invisible",t)},c.setFixedWidth=function(e,t){t=this.formatSize(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t},c.setFixedHeight=function(e,t){t=this.formatSize(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t},c.isBrowserIE=function(){return void 0===this.isIE&&(this.isIE=!!document.documentMode),this.isIE},c.isBrowserEdge=function(){return void 0===this.isEdge&&(this.isEdge=!this.isBrowserIE()&&!!window.StyleMedia),this.isEdge},c.isBrowserSafari=function(){var e;return void 0===this.isSafari&&(e=window,this.isSafari=0<Object.prototype.toString.call(e.HTMLElement).indexOf("Constructor")||!!(e=!e.safari||e.safari.pushNotification)&&"[object SafariRemoteNotification]"===e.toString()),this.isSafari},c.isBrowserChrome=function(){var e;return void 0===this.isChrome&&(e=window,this.isChrome=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)),this.isChrome},c.isBrowserFirefox=function(){var e;return void 0===this.isFirefox&&(e=window,this.isFirefox=void 0!==e.InstallTrigger),this.isFirefox},c.isUserAgentIPad=function(){return void 0===this.isIPad&&(this.isIPad=null!=navigator.userAgent.match(/iPad|iPhone/i)),this.isIPad},c.getTarget=function(e){return e.target||e.srcElement},c.isElementChildOfClass=function(e,t,n){for(var r=0;e;){if(this.containsClass(e,t))return!0;if(e=e.parentElement,n&&++r>n)break}return!1},c.isElementInEventPath=function(e,t){return!(!t||!e)&&0<=exports._.getEventPath(t).indexOf(e)},c.isFunction=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},c.createEventPath=function(e){for(var t=[],n=exports._.getTarget(e);n;)t.push(n),n=n.parentElement;return t},c.addAgGridEventPath=function(e){e.__agGridEventPath=this.getEventPath(e)},c.getEventPath=function(e){var t=e;return t.deepPath?t.deepPath():t.path||(t.composedPath?t.composedPath():t.__agGridEventPath||this.createEventPath(e))},c.forEachSnapshotFirst=function(e,t){e&&e.slice(0).forEach(t)},c.getBodyWidth=function(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1},c.getBodyHeight=function(){return document.body?document.body.clientHeight:window.innerHeight||(document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1)},c.setCheckboxState=function(e,t){"boolean"==typeof t?(e.checked=t,e.indeterminate=!1):e.indeterminate=!0},c.traverseNodesWithKey=function(e,r){var i=[];!function n(e){e.forEach(function(e){var t;(e.group||e.hasChildren())&&(i.push(e.key),t=i.join("|"),r(e,t),n(e.childrenAfterGroup),i.pop())})}(e)},c.camelCaseToHyphen=function(e){return null==e?null:e.replace(/([A-Z])/g,function(e){return"-"+e[0].toLowerCase()})},c.hyphenToCamelCase=function(e){return null==e?null:e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})},c.capitalise=function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()},c.cssStyleObjectToMarkup=function(e){var n=this;if(!e)return"";var r=[];return this.iterateObject(e,function(e,t){e=n.camelCaseToHyphen(e);r.push(e+": "+t+";")}),r.join(" ")},c.isNumeric=function(e){return""!==e&&(!isNaN(parseFloat(e))&&isFinite(e))},c.escape=function(e){return null!=e&&e.replace?e.replace(reUnescapedHtml,function(e){return HTML_ESCAPES[e]}):e},c.normalizeWheel=function(e){var t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,i=10*n,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||i)&&e.deltaMode&&(1==e.deltaMode?(r*=40,i*=40):(r*=800,i*=800)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}},c.debounce=function(i,o,s){var a;return void 0===s&&(s=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this,r=s&&!a;window.clearTimeout(a),a=window.setTimeout(function(){a=null,s||i.apply(n,e)},o),r&&i.apply(n,e)}},c.stopPropagationForAgGrid=function(e){e[AG_GRID_STOP_PROPAGATION]=!0},c.isStopPropagationForAgGrid=function(e){return!0===e[AG_GRID_STOP_PROPAGATION]},c.executeInAWhile=function(e){this.executeAfter(e,400)},c.executeNextVMTurn=function(e){this.executeAfter(e,0)},c.executeAfter=function(e,t){0<e.length&&window.setTimeout(function(){e.forEach(function(e){return e()})},t)},c.referenceCompare=function(e,t){return null==e&&null==t||(null!=e||!t)&&((!e||null!=t)&&e===t)},c.get=function(e,t,n){if(null==e)return n;if(-1<t.indexOf(".")){var r=t.split("."),i=e[r[0]];return null!=i?c.get(i,r.slice(1,r.length).join("."),n):n}t=e[t];return null!=t?t:n},c.addSafePassiveEventListener=function(e,t,n,r){var i=0<=c.PASSIVE_EVENTS.indexOf(n)?{passive:!0}:void 0;0<=c.OUTSIDE_ANGULAR_EVENTS.indexOf(n)?e.addEventListenerOutsideAngular(t,n,r,i):t.addEventListener(n,r,i)},c.camelCaseToHumanText=function(e){if(!e||null==e)return null;return e.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map(function(e){return e.substring(0,1).toUpperCase()+(1<e.length?e.substring(1,e.length):"")}).join(" ")},c.message=function(e){var t=document.createElement("div");t.innerHTML=e;e=document.querySelector("#__ag__message");e||(e=this.loadTemplate('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(e)),e.insertBefore(t,e.children[0])},c.sortRowNodesByOrder=function(e,s){if(e){for(var t=function(e,t){var n=s[e.id],r=s[t.id],i=void 0!==n,o=void 0!==r;return i&&o?n-r:!i&&!o?e.__objectId-t.__objectId:i?1:-1},n=!1,r=0;r<e.length-1;r++)if(0<t(e[r],e[r+1])){n=!0;break}n&&e.sort(t)}},c.fuzzyCheckStrings=function(e,n,t){var r=this,i={},e=e.filter(function(t){return!n.some(function(e){return e===t})});return 0<e.length&&e.forEach(function(e){return i[e]=r.fuzzySuggestions(e,n,t)}),i},c.fuzzySuggestions=function(n,e,t){t=t.slice(0);return t.sort(function(e,t){e=exports._.string_similarity(e.toLowerCase(),n.toLowerCase()),t=exports._.string_similarity(t.toLowerCase(),n.toLowerCase());return t<e?-1:e===t?0:1}),t},c.get_bigrams=function(e){for(var t,n=e.toLowerCase(),r=new Array(n.length-1),i=t=0,o=r.length;t<=o;i=t+=1)r[i]=n.slice(i,i+2);return r},c.isNumpadDelWithNumlockOnForEdgeOrIe=function(e){return!(!c.isBrowserEdge()&&!c.isBrowserIE())&&(e.key===c.NUMPAD_DEL_NUMLOCK_ON_KEY&&e.charCode===c.NUMPAD_DEL_NUMLOCK_ON_CHARCODE)},c.bindCellRendererToHtmlElement=function(e,t){e.then(function(e){e=e.getGui();null!=e&&("object"==typeof e?t.appendChild(e):t.innerHTML=e)})},c.PASSIVE_EVENTS=["touchstart","touchend","touchmove","touchcancel"],c.OUTSIDE_ANGULAR_EVENTS=["mouseover","mouseout","mouseenter","mouseleave"],c.PRINTABLE_CHARACTERS="qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM1234567890!\"£$%^&*()_+-=[];'#,./\\|<>?:@~{}",c.NUMPAD_DEL_NUMLOCK_ON_KEY="Del",c.NUMPAD_DEL_NUMLOCK_ON_CHARCODE=46,c.doOnceFlags={},c.compose=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce(function(e,t){return t(e)},e)}},c.decToHex=function(e,t){for(var n="",r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n},c.utf8_encode=function(e){var n=String.fromCharCode;function r(e,t){return n(e>>t&63|128)}function t(e){if(0==(4294967168&e))return n(e);var t="";return 0==(4294965248&e)?t=n(e>>6&31|192):0==(4294901760&e)?(function(e){if(55296<=e&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}(e),t=n(e>>12&15|224),t+=r(e,6)):0==(4292870144&e)&&(t=n(e>>18&7|240),t+=r(e,12),t+=r(e,6)),t+=n(63&e|128)}for(var i=function(e){for(var t,n,r=[],i=0,o=e.length;i<o;)55296<=(t=e.charCodeAt(i++))&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}(e),o=i.length,s=-1,a="";++s<o;)a+=t(i[s]);return a},c.iconNameClassMap={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnMovePin:"pin",columnMoveAdd:"plus",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"expanded",groupExpanded:"contracted",chart:"chart",checkboxChecked:"checkbox-checked",checkboxUnchecked:"checkbox-unchecked",checkboxIndeterminate:"checkbox-indeterminate",checkboxCheckedReadOnly:"checkbox-checked-readonly",checkboxUncheckedReadOnly:"checkbox-unchecked-readonly",checkboxIndeterminateReadOnly:"checkbox-indeterminate-readonly",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",groupLoading:"loading",data:"data",menu:"menu",filter:"filter",columns:"columns",maximze:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"column-drag",rowDrag:"row-drag",save:"save",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"},c.string_similarity=function(e,t){if(0<e.length&&0<t.length){for(var n=c.get_bigrams(e),r=c.get_bigrams(t),t=n.length+r.length,i=0,o=void 0,o=0,s=n.length;o<s;o++)for(var a=n[o],u=void 0,u=0,l=r.length;u<l;u++)a===r[u]&&i++;if(0<i)return 2*i/t}return 0},c}();exports.Utils=Utils;var PromiseStatus,NumberSequence=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=1),this.nextValue=e,this.step=t}return e.prototype.next=function(){var e=this.nextValue;return this.nextValue+=this.step,e},e.prototype.peek=function(){return this.nextValue},e.prototype.skip=function(e){this.nextValue+=e},e}();exports.NumberSequence=NumberSequence,exports._=Utils,function(e){e[e.IN_PROGRESS=0]="IN_PROGRESS",e[e.RESOLVED=1]="RESOLVED"}(PromiseStatus=exports.PromiseStatus||(exports.PromiseStatus={}));var Promise=function(){function r(e){this.status=PromiseStatus.IN_PROGRESS,this.resolution=null,this.listOfWaiters=[],e(this.onDone.bind(this),this.onReject.bind(this))}return r.all=function(e){return new r(function(n){var r=[],i=e.length;e.forEach(function(e,t){e.then(function(e){i--,r[t]=e,0==i&&n(r)}),r.push(null)})})},r.resolve=function(t){return new r(function(e){return e(t)})},r.external=function(){var t;return{promise:new r(function(e){t=e}),resolve:function(e){t(e)}}},r.prototype.then=function(e){this.status===PromiseStatus.IN_PROGRESS?this.listOfWaiters.push(e):e(this.resolution)},r.prototype.firstOneOnly=function(e){this.status===PromiseStatus.IN_PROGRESS?0===this.listOfWaiters.length&&this.listOfWaiters.push(e):e(this.resolution)},r.prototype.map=function(n){var e=this;return new r(function(t){e.then(function(e){t(n(e))})})},r.prototype.resolveNow=function(e,t){return this.status==PromiseStatus.IN_PROGRESS?e:t(this.resolution)},r.prototype.onDone=function(t){this.status=PromiseStatus.RESOLVED,this.resolution=t,this.listOfWaiters.forEach(function(e){return e(t)})},r.prototype.onReject=function(e){console.warn("TBI")},r}();exports.Promise=Promise;