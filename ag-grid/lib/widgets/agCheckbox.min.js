"use strict";var __extends=this&&this.__extends||function(){var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};return function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;0<=c;c--)(o=t[c])&&(s=(r<3?o(s):3<r?o(e,n,s):o(e,n))||s);return 3<r&&s&&Object.defineProperty(e,n,s),s},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(exports,"__esModule",{value:!0});var context_1=require("../context/context"),gridOptionsWrapper_1=require("../gridOptionsWrapper"),agAbstractInputField_1=require("./agAbstractInputField"),agAbstractField_1=require("./agAbstractField"),utils_1=require("../utils"),AgCheckbox=function(e){function n(){var t=e.call(this)||this;return t.className="ag-checkbox",t.displayTag="input",t.inputType="checkbox",t.labelAlignment="right",t.iconMap={selected:"checkboxChecked",unselected:"checkboxUnchecked",indeterminate:"checkboxIndeterminate"},t.selected=!1,t.readOnly=!1,t.passive=!1,t.setTemplate(t.TEMPLATE.replace(/%displayField%/g,t.displayTag)),t}return __extends(n,e),n.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),utils_1._.addCssClass(this.eInput,"ag-hidden"),this.addIconsPlaceholder(),this.updateIcons()},n.prototype.addInputListeners=function(){var e=this;this.addDestroyableEventListener(this.getGui(),"click",function(t){return e.onClick(t)}),this.addDestroyableEventListener(this.eInput,"change",function(t){return e.setValue(t.target.checked,!0)})},n.prototype.addIconsPlaceholder=function(){var t=document.createElement("div");this.eWrapper.appendChild(t),this.eIconEl=t},n.prototype.onClick=function(t){utils_1._.addAgGridEventPath(t),this.readOnly||this.toggle()},n.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},n.prototype.setPassive=function(t){this.passive=t},n.prototype.setReadOnly=function(t){this.readOnly=t,this.updateIcons()},n.prototype.isReadOnly=function(){return this.readOnly},n.prototype.isSelected=function(){return this.selected},n.prototype.toggle=function(){var t,e=this.getNextValue();this.passive?(t={type:n.EVENT_CHANGED,selected:e},this.dispatchEvent(t)):this.setValue(e)},n.prototype.setSelected=function(t,e){this.selected!==t&&(this.selected="boolean"==typeof t?t:void 0,this.eInput.checked=this.selected,this.updateIcons(),e||(e={type:agAbstractField_1.AgAbstractField.EVENT_CHANGED,selected:this.selected},this.dispatchEvent(e)))},n.prototype.getIconName=function(){var t=this.getValue(),e=void 0===t?"indeterminate":t?"selected":"unselected",t=this.isReadOnly()?"ReadOnly":"";return this.iconMap[e]+t},n.prototype.updateIcons=function(){utils_1._.clearElement(this.eIconEl),this.eIconEl.appendChild(utils_1._.createIconNoSpan(this.getIconName(),this.gridOptionsWrapper,null))},n.prototype.getValue=function(){return this.isSelected()},n.prototype.setValue=function(t,e){return this.setSelected(t,e),this},__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],n.prototype,"gridOptionsWrapper",void 0),n}(agAbstractInputField_1.AgAbstractInputField);exports.AgCheckbox=AgCheckbox;