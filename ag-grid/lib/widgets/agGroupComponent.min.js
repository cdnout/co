"use strict";var __extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};return function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),__decorate=this&&this.__decorate||function(e,t,o,n){var s,p=arguments.length,r=p<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;0<=i;i--)(s=e[i])&&(r=(p<3?s(r):3<p?s(t,o,r):s(t,o))||r);return 3<p&&r&&Object.defineProperty(t,o,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var component_1=require("./component"),componentAnnotations_1=require("./componentAnnotations"),context_1=require("../context/context"),gridOptionsWrapper_1=require("../gridOptionsWrapper"),agCheckbox_1=require("./agCheckbox"),utils_1=require("../utils"),AgGroupComponent=function(r){function i(e){var t=r.call(this,i.TEMPLATE)||this;t.suppressEnabledCheckbox=!0,t.suppressOpenCloseIcons=!1;var o=(e=e||{}).title,n=e.enabled,s=e.items,p=e.suppressEnabledCheckbox,e=e.suppressOpenCloseIcons;return t.title=o,t.enabled=null==n||n,t.items=s||[],null!=p&&(t.suppressEnabledCheckbox=p),null!=e&&(t.suppressOpenCloseIcons=e),t}return __extends(i,r),i.prototype.postConstruct=function(){this.items.length&&(e=this.items,this.items=[],this.addItems(e));var e=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(e("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract()},i.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(utils_1._.createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(utils_1._.createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.setOpenClosedIcons(),this.addDestroyableEventListener(this.groupTitle,"click",function(){return e.toggleGroupExpand()})},i.prototype.setOpenClosedIcons=function(){var e=this.expanded;utils_1._.setDisplayed(this.eGroupClosedIcon,!e),utils_1._.setDisplayed(this.eGroupOpenedIcon,e)},i.prototype.isExpanded=function(){return this.expanded},i.prototype.toggleGroupExpand=function(e){var t=this.getGui();return this.suppressOpenCloseIcons?(this.expanded=!0,utils_1._.removeCssClass(t,"ag-collapsed"),this):(e=null!=e?e:!this.expanded,this.expanded===e||(this.expanded=e,this.setOpenClosedIcons(),utils_1._.addOrRemoveCssClass(t,"ag-collapsed",!e),this.expanded&&this.dispatchEvent({type:"expanded"})),this)},i.prototype.addItems=function(e){var t=this;e.forEach(function(e){return t.addItem(e)})},i.prototype.addItem=function(e){var t=this.groupContainer,e=e instanceof component_1.Component?e.getGui():e;utils_1._.addCssClass(e,"ag-group-item"),t.appendChild(e),this.items.push(e)},i.prototype.setTitle=function(e){return this.lbGroupTitle.innerText=e,this},i.prototype.setEnabled=function(e,t){return this.enabled=e,utils_1._.addOrRemoveCssClass(this.getGui(),"ag-disabled",!e),this.toggleGroupExpand(e),t||this.cbGroupEnabled.setValue(e),this},i.prototype.isEnabled=function(){return this.enabled},i.prototype.onEnableChange=function(t){var o=this;return this.cbGroupEnabled.onValueChange(function(e){o.setEnabled(e,!0),t(e)}),this},i.prototype.hideEnabledCheckbox=function(e){return utils_1._.addOrRemoveCssClass(this.eToolbar,"ag-hidden",e),this},i.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,utils_1._.addOrRemoveCssClass(this.getGui(),"ag-collapsible",!e),e&&this.toggleGroupExpand(!0),this},i.TEMPLATE='<div class="ag-group-component">\n            <div class="ag-group-component-title-bar" ref="groupTitle">\n                 <span class="ag-column-group-icons">\n                    <span class="ag-column-group-closed-icon" ref="eGroupOpenedIcon"></span>\n                    <span class="ag-column-group-opened-icon" ref="eGroupClosedIcon"></span>\n                </span>\n                <span ref="lbGroupTitle" class="ag-group-component-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-component-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-component-container"></div>\n        </div>',__decorate([context_1.Autowired("gridOptionsWrapper"),__metadata("design:type",gridOptionsWrapper_1.GridOptionsWrapper)],i.prototype,"gridOptionsWrapper",void 0),__decorate([componentAnnotations_1.RefSelector("groupTitle"),__metadata("design:type",HTMLElement)],i.prototype,"groupTitle",void 0),__decorate([componentAnnotations_1.RefSelector("eGroupOpenedIcon"),__metadata("design:type",HTMLElement)],i.prototype,"eGroupOpenedIcon",void 0),__decorate([componentAnnotations_1.RefSelector("eGroupClosedIcon"),__metadata("design:type",HTMLElement)],i.prototype,"eGroupClosedIcon",void 0),__decorate([componentAnnotations_1.RefSelector("eToolbar"),__metadata("design:type",HTMLElement)],i.prototype,"eToolbar",void 0),__decorate([componentAnnotations_1.RefSelector("cbGroupEnabled"),__metadata("design:type",agCheckbox_1.AgCheckbox)],i.prototype,"cbGroupEnabled",void 0),__decorate([componentAnnotations_1.RefSelector("lbGroupTitle"),__metadata("design:type",HTMLElement)],i.prototype,"lbGroupTitle",void 0),__decorate([componentAnnotations_1.RefSelector("eContainer"),__metadata("design:type",HTMLElement)],i.prototype,"groupContainer",void 0),__decorate([context_1.PostConstruct,__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],i.prototype,"postConstruct",null),i}(component_1.Component);exports.AgGroupComponent=AgGroupComponent;