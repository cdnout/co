!function(t,e){"function"==typeof define&&define.amd?define(["cldr","../globalize","cldr/event"],e):"object"==typeof exports?module.exports=e(require("cldrjs"),require("../globalize")):e(t.Cldr,t.Globalize)}(this,function(n,t){var d,e,r,v=t._alwaysArray,o=t._createError,a=t._isPlainObject,y=t._runtimeBind,g=t._validateDefaultLocale,A=t._validate,F=t._validateParameterPresence,_=t._validateParameterType,i=t._validateParameterTypePlainObject;function qt(t,e,r,n,o,a){this.message=t,this.expected=e,this.found=r,this.offset=n,this.line=o,this.column=a,this.name="SyntaxError"}function u(){this.constructor=e}function p(t,e){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(t))return e?e+"."+t:t;var r=JSON.stringify(t);return e?e+"["+r+"]":r}function f(t,e,r){if(this.lc=[t],this.runtime.pluralFuncs={},this.runtime.pluralFuncs[this.lc[0]]=e,this.runtime.fmt={},r)for(var n in r)this.runtime.fmt[n]=r[n]}f._parse=(e=qt,r=Error,u.prototype=r.prototype,e.prototype=new u,function(i){var t,e=1<arguments.length?arguments[1]:{},u={},r={start:Pt},n=Pt,o=function(t){return{type:"messageFormatPattern",statements:t}},s=u,l="{",c={type:"literal",value:"{",description:'"{"'},p=null,f=",",h={type:"literal",value:",",description:'","'},m="}",d={type:"literal",value:"}",description:'"}"'},v=function(t,e){var r={type:"messageFormatElement",argumentIndex:t};return e&&e.length?r.elementFormat=e[1]:r.output=!0,r},y="plural",g={type:"literal",value:"plural",description:'"plural"'},A=function(t,e){return{type:"elementFormat",key:t,val:e}},F="selectordinal",_={type:"literal",value:"selectordinal",description:'"selectordinal"'},b="select",w={type:"literal",value:"select",description:'"select"'},x=function(t,e){return{type:"elementFormat",key:t,val:e}},a=function(t,e){return{type:"pluralFormatPattern",pluralForms:e,offset:t||0}},j="offset",S={type:"literal",value:"offset",description:'"offset"'},C=":",E={type:"literal",value:":",description:'":"'},P=function(t){return t},k=function(t,e){return{key:t,val:e}},I=function(t){return t},O="=",N={type:"literal",value:"=",description:'"="'},G=function(t){return{type:"selectFormatPattern",pluralForms:t}},M=function(t){return t},R="#",z={type:"literal",value:"#",description:'"#"'},$=function(){return{type:"octothorpe"}},J=function(t){return{type:"string",val:t.join("")}},L={type:"other",description:"identifier"},Z=/^[0-9a-zA-Z$_]/,B={type:"class",value:"[0-9a-zA-Z$_]",description:"[0-9a-zA-Z$_]"},D=/^[^ \t\n\r,.+={}]/,U={type:"class",value:"[^ \\t\\n\\r,.+={}]",description:"[^ \\t\\n\\r,.+={}]"},q=function(t){return t},T=function(t){return t.join("")},V=/^[^{}#\\\0-\x1F \t\n\r]/,H={type:"class",value:"[^{}#\\\\\\0-\\x1F \\t\\n\\r]",description:"[^{}#\\\\\\0-\\x1F \\t\\n\\r]"},K=function(t){return t},Q="\\\\",W={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},X=function(){return"\\"},Y="\\#",tt={type:"literal",value:"\\#",description:'"\\\\#"'},et=function(){return"#"},rt="\\{",nt={type:"literal",value:"\\{",description:'"\\\\{"'},ot=function(){return"{"},at="\\}",it={type:"literal",value:"\\}",description:'"\\\\}"'},ut=function(){return"}"},st="\\u",lt={type:"literal",value:"\\u",description:'"\\\\u"'},ct=function(t,e,r,n){return String.fromCharCode(parseInt("0x"+t+e+r+n))},pt=/^[0-9]/,ft={type:"class",value:"[0-9]",description:"[0-9]"},ht=function(t){return parseInt(t.join(""),10)},mt=/^[0-9a-fA-F]/,dt={type:"class",value:"[0-9a-fA-F]",description:"[0-9a-fA-F]"},vt={type:"other",description:"whitespace"},yt=function(t){return t.join("")},gt=/^[ \t\n\r]/,At={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},Ft=0,_t=0,bt={line:1,column:1,seenCR:!1},wt=0,xt=[],jt=0;if("startRule"in e){if(!(e.startRule in r))throw new Error("Can't start parsing from rule \""+e.startRule+'".');n=r[e.startRule]}function St(t){return _t!==t&&(t<_t&&(_t=0,bt={line:1,column:1,seenCR:!1}),function(t,e,r){for(var n,o=e;o<r;o++)"\n"===(n=i.charAt(o))?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===n||"\u2028"===n||"\u2029"===n?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}(bt,_t,t),_t=t),bt}function Ct(t){Ft<wt||(wt<Ft&&(wt=Ft,xt=[]),xt.push(t))}function Et(t,e,r){var n=St(r),o=r<i.length?i.charAt(r):null;return null!==e&&function(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}(e),new qt(null!==t?t:function(t,e){for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=t[n].description;function o(t){return t.charCodeAt(0).toString(16).toUpperCase()}return"Expected "+(1<t.length?r.slice(0,-1).join(", ")+" or "+r[t.length-1]:r[0])+" but "+(e?'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+o(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+o(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+o(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+o(t)})+'"':"end of input")+" found."}(e,o),e,o,r,n.line,n.column)}function Pt(){return kt()}function kt(){var t=[],e=It();for(e===u&&(e=zt())===u&&(e=Rt());e!==u;)t.push(e),(e=It())===u&&(e=zt())===u&&(e=Rt());return t!==u&&(t=o(t)),t}function It(){var t,e,r,n,o,a=Ft;return 123===i.charCodeAt(Ft)?(t=l,Ft++):(t=u,0===jt&&Ct(c)),a=t!==u&&Dt()!==u&&(e=$t())!==u?(r=Ft,44===i.charCodeAt(Ft)?(n=f,Ft++):(n=u,0===jt&&Ct(h)),(r=n!==u&&(o=function(){var t,e,r,n,o,a;if(t=Ft,(t=(e=Dt())!==u?(i.substr(Ft,6)===y?(r=y,Ft+=6):(r=u,0===jt&&Ct(g)),r!==u&&(n=Dt())!==u?(44===i.charCodeAt(Ft)?(o=f,Ft++):(o=u,0===jt&&Ct(h)),o!==u&&Dt()!==u&&(a=Ot())!==u&&Dt()!==u?e=A(r,a):(Ft=t,s)):(Ft=t,s)):(Ft=t,s))===u&&(t=Ft,e=Dt(),(t=e!==u?(i.substr(Ft,13)===F?(r=F,Ft+=13):(r=u,0===jt&&Ct(_)),r!==u&&(n=Dt())!==u?(44===i.charCodeAt(Ft)?(o=f,Ft++):(o=u,0===jt&&Ct(h)),o!==u&&Dt()!==u&&(a=Ot())!==u&&Dt()!==u?e=A(r,a):(Ft=t,s)):(Ft=t,s)):(Ft=t,s))===u&&(t=Ft,e=Dt(),(t=e!==u?(i.substr(Ft,6)===b?(r=b,Ft+=6):(r=u,0===jt&&Ct(w)),r!==u&&(n=Dt())!==u?(44===i.charCodeAt(Ft)?(o=f,Ft++):(o=u,0===jt&&Ct(h)),o!==u&&Dt()!==u&&(a=function(){var t,e;if(t=[],(e=Gt())!==u)for(;e!==u;)t.push(e),e=Gt();else t=s;return t!==u&&(t=G(t)),t}())!==u&&Dt()!==u?e=A(r,a):(Ft=t,s)):(Ft=t,s)):(Ft=t,s))===u)))if(t=Ft,(e=Dt())!==u)if((r=$t())!==u){for(n=[],o=Mt();o!==u;)n.push(o),o=Mt();t=n!==u?e=x(r,n):(Ft=t,s)}else Ft=t,t=s;else Ft=t,t=s;return t}())!==u?n=[n,o]:(Ft=r,s))===u&&(r=p),r!==u&&(n=Dt())!==u?(125===i.charCodeAt(Ft)?(o=m,Ft++):(o=u,0===jt&&Ct(d)),o!==u?t=v(e,r):(Ft=a,s)):(Ft=a,s)):(Ft=a,s)}function Ot(){var t,e,r=Ft,n=function(){var t,e,r,n;return t=Ft,t=Dt()!==u?(i.substr(Ft,6)===j?(e=j,Ft+=6):(e=u,0===jt&&Ct(S)),e!==u&&Dt()!==u?(58===i.charCodeAt(Ft)?(r=C,Ft++):(r=u,0===jt&&Ct(E)),r!==u&&Dt()!==u&&(n=Zt())!==u&&Dt()!==u?P(n):(Ft=t,s)):(Ft=t,s)):(Ft=t,s)}();if(n===u&&(n=p),n!==u){if(t=[],(e=Nt())!==u)for(;e!==u;)t.push(e),e=Nt();else t=s;r=t!==u?n=a(n,t):(Ft=r,s)}else Ft=r,r=s;return r}function Nt(){var t,e,r,n,o=Ft,a=Dt();return o=a!==u&&(t=function(){var t,e,r;return t=Ft,(e=$t())!==u&&(e=I(e)),(t=e)===u&&(t=Ft,61===i.charCodeAt(Ft)?(e=O,Ft++):(e=u,0===jt&&Ct(N)),t=e!==u&&(r=Zt())!==u?e=P(r):(Ft=t,s)),t}())!==u&&Dt()!==u?(123===i.charCodeAt(Ft)?(e=l,Ft++):(e=u,0===jt&&Ct(c)),e!==u&&Dt()!==u&&(r=kt())!==u&&Dt()!==u?(125===i.charCodeAt(Ft)?(n=m,Ft++):(n=u,0===jt&&Ct(d)),n!==u?a=k(t,r):(Ft=o,s)):(Ft=o,s)):(Ft=o,s)}function Gt(){var t,e,r,n,o=Ft,a=Dt();return o=a!==u&&(t=$t())!==u&&Dt()!==u?(123===i.charCodeAt(Ft)?(e=l,Ft++):(e=u,0===jt&&Ct(c)),e!==u&&Dt()!==u&&(r=kt())!==u&&Dt()!==u?(125===i.charCodeAt(Ft)?(n=m,Ft++):(n=u,0===jt&&Ct(d)),n!==u?a=k(t,r):(Ft=o,s)):(Ft=o,s)):(Ft=o,s)}function Mt(){var t,e,r=Ft,n=Dt();return r=n!==u?(44===i.charCodeAt(Ft)?(t=f,Ft++):(t=u,0===jt&&Ct(h)),t!==u&&Dt()!==u&&(e=$t())!==u&&Dt()!==u?n=M(e):(Ft=r,s)):(Ft=r,s)}function Rt(){var t;return 35===i.charCodeAt(Ft)?(t=R,Ft++):(t=u,0===jt&&Ct(z)),t!==u&&(t=$()),t}function zt(){var t=[],e=Jt();if(e===u&&(e=Ut()),e!==u)for(;e!==u;)t.push(e),(e=Jt())===u&&(e=Ut());else t=s;return t!==u&&(t=J(t)),t}function $t(){var t,e,r,n,o,a;if(jt++,t=Ft,Dt()!==u){if(r=e=Ft,Z.test(i.charAt(Ft))?(n=i.charAt(Ft),Ft++):(n=u,0===jt&&Ct(B)),n!==u){for(o=[],D.test(i.charAt(Ft))?(a=i.charAt(Ft),Ft++):(a=u,0===jt&&Ct(U));a!==u;)o.push(a),D.test(i.charAt(Ft))?(a=i.charAt(Ft),Ft++):(a=u,0===jt&&Ct(U));r=o!==u?n=[n,o]:(Ft=r,s)}else Ft=r,r=s;r!==u&&(r=i.substring(e,Ft)),t=(e=r)!==u&&(r=Dt())!==u?q(e):(Ft=t,s)}else Ft=t,t=s;return jt--,t===u&&0===jt&&Ct(L),t}function Jt(){var t=[],e=Lt();if(e!==u)for(;e!==u;)t.push(e),e=Lt();else t=s;return t!==u&&(t=T(t)),t}function Lt(){var t,e,r,n,o,a=Ft;return V.test(i.charAt(Ft))?(t=i.charAt(Ft),Ft++):(t=u,0===jt&&Ct(H)),t!==u&&(t=K(t)),(a=t)===u&&(a=Ft,i.substr(Ft,2)===Q?(t=Q,Ft+=2):(t=u,0===jt&&Ct(W)),t!==u&&(t=X()),(a=t)===u&&(a=Ft,i.substr(Ft,2)===Y?(t=Y,Ft+=2):(t=u,0===jt&&Ct(tt)),t!==u&&(t=et()),(a=t)===u&&(a=Ft,i.substr(Ft,2)===rt?(t=rt,Ft+=2):(t=u,0===jt&&Ct(nt)),t!==u&&(t=ot()),(a=t)===u&&(a=Ft,i.substr(Ft,2)===at?(t=at,Ft+=2):(t=u,0===jt&&Ct(it)),t!==u&&(t=ut()),(a=t)===u&&(a=Ft,i.substr(Ft,2)===st?(t=st,Ft+=2):(t=u,0===jt&&Ct(lt)),a=t!==u&&(e=Bt())!==u&&(r=Bt())!==u&&(n=Bt())!==u&&(o=Bt())!==u?t=ct(e,r,n,o):(Ft=a,s)))))),a}function Zt(){var t,e=[];if(pt.test(i.charAt(Ft))?(t=i.charAt(Ft),Ft++):(t=u,0===jt&&Ct(ft)),t!==u)for(;t!==u;)e.push(t),pt.test(i.charAt(Ft))?(t=i.charAt(Ft),Ft++):(t=u,0===jt&&Ct(ft));else e=s;return e!==u&&(e=ht(e)),e}function Bt(){var t;return mt.test(i.charAt(Ft))?(t=i.charAt(Ft),Ft++):(t=u,0===jt&&Ct(dt)),t}function Dt(){var t,e,r;for(jt++,t=Ft,e=[],r=Ut();r!==u;)e.push(r),r=Ut();return e!==u&&(e=yt(e)),jt--,(t=e)===u&&(e=u,0===jt&&Ct(vt)),t}function Ut(){var t;return gt.test(i.charAt(Ft))?(t=i.charAt(Ft),Ft++):(t=u,0===jt&&Ct(At)),t}if((t=n())!==u&&Ft===i.length)return t;throw t!==u&&Ft<i.length&&Ct({type:"end",description:"end of input"}),Et(null,xt,wt)}),f.plurals={},f.formatters={},f.prototype.runtime={number:function(t,e){if(isNaN(t))throw new Error("'"+t+"' isn't a number.");return t-(e||0)},plural:function(t,e,r,n,o){if({}.hasOwnProperty.call(n,t))return n[t]();e&&(t-=e);var a=r(t,o);return a in n?n[a]():n.other()},select:function(t,e){return{}.hasOwnProperty.call(e,t)?e[t]():e.other()},pluralFuncs:{},fmt:{},toString:function(){var i=function(t,e){if("object"!=typeof t){var r=t.toString().replace(/^(function )\w*/,"$1");return(a=/([ \t]*)\S.*$/.exec(r))?r.replace(new RegExp("^"+a[1],"mg"),""):r}var n=[];for(var o in t)"toString"!=o&&(0==e?n.push("var "+o+" = "+i(t[o],e+1)+";\n"):n.push(p(o)+": "+i(t[o],e+1)));if(0==e)return n.join("");if(0==n.length)return"{}";for(var a="  ";--e;)a+="  ";return"{\n"+n.join(",\n").replace(/^/gm,a)+"\n}"};return i(this,0)}},f.prototype._precompile=function(t,e){e=e||{keys:{},offset:{}};var r,n=[],o=[];switch(t.type){case"messageFormatPattern":for(i=0;i<t.statements.length;++i)n.push(this._precompile(t.statements[i],e));return r=n.join(" + ")||'""',e.pf_count?r:"function(d) { return "+r+"; }";case"messageFormatElement":return e.pf_count=e.pf_count||0,t.output?p(t.argumentIndex,"d"):(e.keys[e.pf_count]=t.argumentIndex,this._precompile(t.elementFormat,e));case"elementFormat":switch(o=[p(e.keys[e.pf_count],"d")],t.key){case"select":return o.push(this._precompile(t.val,e)),"select("+o.join(", ")+")";case"selectordinal":return"plural("+(o=o.concat([0,p(this.lc[0],"pluralFuncs"),this._precompile(t.val,e),1])).join(", ")+")";case"plural":return e.offset[e.pf_count||0]=t.val.offset||0,"plural("+(o=o.concat([e.offset[e.pf_count]||0,p(this.lc[0],"pluralFuncs"),this._precompile(t.val,e)])).join(", ")+")";default:return this.withIntlSupport&&!(t.key in this.runtime.fmt)&&t.key in f.formatters&&(r=f.formatters[t.key],this.runtime.fmt[t.key]="function"==typeof r(this)?r(this):r),o.push(JSON.stringify(this.lc)),t.val&&t.val.length&&o.push(JSON.stringify(1==t.val.length?t.val[0]:t.val)),"fmt."+t.key+"("+o.join(", ")+")"}case"pluralFormatPattern":case"selectFormatPattern":e.pf_count=e.pf_count||0,"selectFormatPattern"==t.type&&(e.offset[e.pf_count]=0);for(var a=!0,i=0;i<t.pluralForms.length;++i){var u=t.pluralForms[i].key;"other"===u&&(a=!1);var s=JSON.parse(JSON.stringify(e));s.pf_count++,n.push(p(u)+": function() { return "+this._precompile(t.pluralForms[i].val,s)+";}")}if(a)throw new Error("No 'other' form found in "+t.type+" "+e.pf_count);return"{ "+n.join(", ")+" }";case"string":return JSON.stringify(t.val||"");case"octothorpe":return e.pf_count?(o=[p(e.keys[e.pf_count-1],"d")],e.offset[e.pf_count-1]&&o.push(e.offset[e.pf_count-1]),"number("+o.join(", ")+")"):'"#"';default:throw new Error("Bad AST type: "+t.type)}},f.prototype.compile=function(t,e){function r(t,e){try{var r=f._parse(e);return t._precompile(r)}catch(t){throw new Error((r?"Precompiler":"Parser")+" error: "+t.toString())}}var n={},o=this.lc,i=function(t,e){if(e=e||0,"object"!=typeof t)return t;for(var r=[],n="",o=0;o<e;++o)n+="  ";for(var a in t)r.push("\n"+n+"  "+p(a)+": "+i(t[a],e+1));return"{"+r.join(",")+"\n"+n+"}"};if("string"==typeof t)return new Function("number, plural, select, pluralFuncs, fmt","return "+r(this,t))(this.runtime.number,this.runtime.plural,this.runtime.select,this.runtime.pluralFuncs,this.runtime.fmt);for(var a in e=e||{},t)if(e.locale&&(this.lc=e.locale[a]&&[].concat(e.locale[a])||o),"string"==typeof t[a])try{n[a]=r(this,t[a])}catch(t){throw t.message=t.message.replace(":"," with `"+a+"`:"),t}else for(var u in n[a]={},t[a])try{n[a][u]=r(this,t[a][u])}catch(t){throw t.message=t.message.replace(":"," with `"+u+"` in `"+a+"`:"),t}this.lc=o;var s=this.runtime.toString()+"\n";switch(e.global||""){case"exports":var l=[];for(var c in n)l.push(p(c,"exports")+" = "+i(n[c]));return new Function(s+l.join(";\n"));case"module.exports":return new Function(s+"module.exports = "+i(n));case"":return new Function(s+"return "+i(n));default:return new Function("G",s+p(e.global,"G")+" = "+i(n))}},d=f;function b(){return o("E_MISSING_PLURAL_MODULE","Plural module not loaded.")}function w(r){return function(t){var e;return"number"!=typeof t&&"string"!=typeof t||(t=[].slice.call(arguments,0)),_(e=t,"variables",void 0===e||a(e)||Array.isArray(e),"Array or Plain Object"),r(t)}}var x=[].slice;return t.loadMessages=function(t){var e,r={"globalize-messages":t,main:{}};for(e in F(t,"json"),i(t,"json"),t)t.hasOwnProperty(e)&&(r.main[e]={});n.load(r)},t.messageFormatter=t.prototype.messageFormatter=function(t){var e,r,n,o,a,i,u,s,l,c,p,f,h,m=x.call(arguments,0);return F(t,"path"),_(t,"path","string"==typeof t||Array.isArray(t),"a String nor an Array"),t=v(t),e=this.cldr,g(e),A("E_MISSING_MESSAGE_BUNDLE","Missing message bundle for locale `{locale}`.",(i=e).attributes.bundle&&void 0!==i.get("globalize-messages/{bundle}"),{locale:i.locale}),n=e.get(["globalize-messages/{bundle}"].concat(t)),s=n,u=(u=t).join("/"),A("E_MISSING_MESSAGE","Missing required message content `{path}`.",void 0!==s,{path:u}),Array.isArray(n)&&(n=n.join(" ")),c=n,l=(l=t).join("/"),A("E_INVALID_MESSAGE","Invalid message content `{path}`. {expected} expected.","string"==typeof c,{expected:"a string",path:l}),o=void 0!==this.plural?this.pluralGenerator():b,r=new d(e.locale,o).compile(n),a=w(r),y(m,e,a,[(p=r,f=e.locale,h=p.toString,p.toString=function(){var e={},t=h.call(p);return/number\(/.test(t)&&(e.number="messageFormat.number"),/plural\(/.test(t)&&(e.plural="messageFormat.plural"),/select\(/.test(t)&&(e.select="messageFormat.select"),t.replace(/pluralFuncs(\[([^\]]+)\]|\.([a-zA-Z]+))/,function(t){return e.pluralFuncs='{"'+f+'": Globalize("'+f+'").pluralGenerator()}',t}),"(function( "+Object.keys(e).join(", ")+" ) {\n  return "+t+"\n})("+Object.keys(e).map(function(t){return e[t]}).join(", ")+")"},p),o]),a},t.formatMessage=t.prototype.formatMessage=function(t){return this.messageFormatter(t).apply({},x.call(arguments,1))},t});