!function(e,n){"use strict";"function"==typeof define&&define.amd?define(n):"object"==typeof exports?module.exports=n():e.Globalize=n()}(this,function(){function a(e,t){return e=e.replace(/{[0-9a-zA-Z-_. ]+}/g,function(e){return e=e.replace(/^{([^}]*)}$/,"$1"),"string"==typeof(n=t[e])?n:"number"==typeof n?""+n:JSON.stringify(n);var n})}function i(e,n,t){var r;return n=e+(n?": "+a(n,t):""),(r=new Error(n)).code=e,function(){var t=arguments[0];[].slice.call(arguments,1).forEach(function(e){var n;for(n in e)t[n]=e[n]})}(r,t),r}function u(e,n,t){e.length&&e[e.length-1].type===n?e[e.length-1].value+=t:e.push({type:n,value:t})}function o(e,n,t,r){if(!t)throw i(e,n,r)}function t(e,n,t,r){o("E_INVALID_PAR_TYPE","Invalid `{name}` parameter ({value}). {expected} expected.",t,{expected:r,name:n,value:e})}var n=function(e,n){o("E_MISSING_PARAMETER","Missing required parameter `{name}`.",void 0!==e,{name:n})},r=function(e,n){t(e,n,void 0===e||"string"==typeof e,"a string")};function c(e){if(!(this instanceof c))return new c(e);n(e,"locale"),r(e,"locale"),this._locale=e}return c.locale=function(e){return r(e,"locale"),arguments.length&&(this._locale=e),this._locale},c._createError=i,c._formatMessage=a,c._formatMessageToParts=function(r,a){var i=0,o=[];return r.replace(/{[0-9a-zA-Z-_. ]+}/g,function(e,n){var t=e.slice(1,-1);u(o,"literal",r.slice(i,n)),u(o,"variable",a[t]),o[o.length-1].name=t,i+=n+e.length}),o.filter(function(e){return""!==e.value})},c._partsJoin=function(e){return e.map(function(e){return e.value}).join("")},c._partsPush=u,c._regexpEscape=function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},c._runtimeKey=function(e,n,t,r){var a,i,o;return r=r||(i=t,JSON.stringify(i,function(e,n){return n&&n.runtimeKey?n.runtimeKey:n})),o=e+n+r,0<(a=[].reduce.call(o,function(e,n){return 0|(e=(e<<5)-e+n.charCodeAt(0))},0))?"a"+a:"b"+Math.abs(a)},c._stringPad=function(e,n,t){var r;for("string"!=typeof e&&(e=String(e)),r=e.length;r<n;r+=1)e=t?e+"0":"0"+e;return e},c._validateParameterPresence=n,c._validateParameterTypeString=r,c._validateParameterType=t,c});