!function(e,r){"use strict";"function"==typeof define&&define.amd?define(["../globalize-runtime"],r):"object"==typeof exports?module.exports=r(require("../globalize-runtime")):r(e.Globalize)}(this,function(r){function k(e){return a("E_UNSUPPORTED","Unsupported {feature}.",{feature:e})}function n(e,r){c(e,r,void 0===e||"number"==typeof e,"Number")}function B(e,r,t){var n;return 0===e?e:(n=Math.ceil(Math.log(Math.abs(e))/Math.log(10)),t(e,{exponent:n-=r}))}function w(e){return e[0]+e[e.length-1]!=="''"?e:"''"===e?"'":e.replace(/''/g,"'").slice(1,-1)}function u(e,r,t){r[1];var n,u,a,i,o,c,l,f,p,s,m,b,g,F,v,h,N=r[2],x=r[3],P=r[4],y=r[5],_=r[6],d=r[7],E=r[8],D=r[9],S=r[15],M=r[16],A=r[17],T=r[18],C=r[19],j=r[20];return isNaN(e)?[{type:"nan",value:A}]:(o=e<0?(a=r[12],u=r[13],r[14]):(a=r[11],u=r[0],r[10]),u=(i=function(e){var t="integer",n=[];return e.replace(/('([^']|'')+'|'')|./g,function(e,r){r?O(n,"literal",w(r)):"¤"!==e?(e=(e=e.replace(/[.,\-+E%\u2030]/,function(e){return"."===e&&(t="fraction"),O(n,$[e],T[e]),""})).replace(/[0-9]/,function(e){return C&&(e=C[+e]),O(n,t,e),""})).replace(/./,function(e){O(n,"literal",e)}):O(n,"currency",e)}),n})(u),o=i(o),isFinite(e)?(-1!==a.indexOf("%")?e*=100:-1!==a.indexOf("‰")&&(e*=1e3),j&&(p=Math.abs(Math.floor(e)).toString().length-1,3<=(p=Math.min(p,j.maxExponent))&&(c=j[p]&&j[p].other),"0"===c?c=null:c&&(f=p-(c.split("0").length-1-1),e/=Math.pow(10,f))),e=isNaN(y*_)?(m=e,b=N,g=x,v=S,h=d,m=(F=P)?v(m,h||{exponent:-F}):v(m),m=String(m),F&&/e-/.test(m)&&(m=(+m).toFixed(F).replace(/0+$/,"").replace(/\.$/,"")),g&&((m=m.split("."))[1]=U(m[1]||"",g,!0),m=m.join(".")),b&&((m=m.split("."))[0]=U(m[0],b),m=m.join(".")),m):function(e,r,t,n){var u,a;if(t<r&&(t=r),e=(+(e=+(u=B(e,r,n))==+(a=B(e,t,n))?u:a)).toString(10),/e/.test(e))throw k({feature:"integers out of (1e21, 1e-7)"});return 0<r-e.replace(/^0+|\./g,"").length&&((e=e.split("."))[1]=U(e[1]||"",r-e[0].replace(/^0+/,"").length,!0),e=e.join(".")),e}(e,y,_,S),j&&c&&(s=t?t(+e):"other",l=(c=j[p][s]||c).match(z),n=function(e){var n=[];return e.replace(/(\s+)|([^\s0]+)/g,function(e,r,t){r?O(n,"literal",r):t&&O(n,"compact",t)}),n},u=u.concat(n(l[1])),o=n(l[3]).concat(o)),e=e.replace(/^-/,""),E&&(e=function(e,r,t){for(var n=r,u="",a=!!t,i=(e=String(e).split("."))[0].length;n<i;)u=e[0].slice(i-n,i)+(u.length?",":"")+u,i-=n,a&&(n=t,a=!1);return e[0]=e[0].slice(0,i)+(u.length?",":"")+u,e.join(".")}(e,E,D)),u.concat(i(e),o)):u.concat({type:"infinity",value:M},o))}function s(e){return e.replace(p,"").replace(m,"-").replace(b," ")}function t(e,r){var t,n,u,a,i,o,c,l,f,p;return t=[["nan"],["prefix","infinity","suffix"],["prefix","number","suffix"],["negativePrefix","infinity","negativeSuffix"],["negativePrefix","number","negativeSuffix"]],u=r[0],n=r[1]||{},f=r[2],e=s(e),p=e,!t.some(function(e){var t=p;return e.every(function(e){return null!==t.match(f[e])&&(t=t.replace(f[e],(r=e,function(e){switch(e=e.split("").map(function(e){return u[e]||n[e]||e}).join(""),r){case"infinity":i=1/0;break;case"nan":i=NaN;break;case"number":e=e.replace(/,/g,""),i=+e;break;case"prefix":case"negativePrefix":o=e;break;case"suffix":l=e;break;case"negativeSuffix":l=e,a=!0;break;default:throw new Error("Internal error")}return""})),!0);var r})&&!t.length})||isNaN(i)?NaN:(-1!==(c=""+o+l).indexOf("%")?i/=100:-1!==c.indexOf("‰")&&(i/=1e3),a&&(i*=-1),i)}function e(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)}var a=r._createError,i=r._partsJoin,O=r._partsPush,o=(r._regexpEscape,r._runtimeKey),U=r._stringPad,c=r._validateParameterType,l=r._validateParameterPresence,f=r._validateParameterTypeString,z=/^([^0]*)(0+)([^0]*)$/,$={".":"decimal",",":"group","%":"percentSign","+":"plusSign","-":"minusSign",E:"exponential","‰":"perMille"},p=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/g,m=/[\-\u058A\u05BE\u1400\u1806\u2010-\u2015\u2E17\u2E1A\u2E3A\u2E3B\u2E40\u301C\u3030\u30A0\uFE31\uFE32\uFE58\uFE63\uFF0D\u2212]/g,b=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/g;function g(e){return r[e].runtimeKey=e,r[e]}return r._createErrorUnsupportedFeature=k,r._looseMatching=s,r._numberFormat=u,r._numberFormatterFn=function(r){return function(e){return i(r(e))}},r._numberParse=t,r._numberParserFn=function(r){return function(e){return l(e,"value"),f(e,"value"),t(e,r)}},r._numberRound=function(u){return u="truncate"===(u=u||"round")?e:Math[u],function(e,r){var t,n;if(e=+e,isNaN(e))return NaN;if("object"==typeof r&&r.exponent){if(n=1,0===(t=+r.exponent))return u(e);if("number"!=typeof t||t%1!=0)return NaN}else{if(1===(n=+r||1))return u(e);if(isNaN(n))return NaN;t=+(n=n.toExponential().split("e"))[1],n=+n[0]}return(e=e.toString().split("e"))[0]=e[0]/n,e[1]=e[1]?e[1]-t:-t,(e=(e=u(+(e[0]+"e"+e[1]))).toString().split("e"))[0]=e[0]*n,e[1]=e[1]?+e[1]+t:t,+(e[0]+"e"+e[1])}},r._numberToPartsFormatterFn=function(r,t){return function(e){return l(e,"value"),n(e,"value"),u(e,r,t)}},r._removeLiteralQuotes=w,r._validateParameterPresence=l,r._validateParameterTypeNumber=n,r._validateParameterTypeString=f,r.numberFormatter=r.prototype.numberFormatter=function(e){return e=e||{},g(o("numberFormatter",this._locale,[e]))},r.numberToPartsFormatter=r.prototype.numberToPartsFormatter=function(e){return e=e||{},g(o("numberToPartsFormatter",this._locale,[e]))},r.numberParser=r.prototype.numberParser=function(e){return e=e||{},r[o("numberParser",this._locale,[e])]},r.formatNumber=r.prototype.formatNumber=function(e,r){return l(e,"value"),n(e,"value"),this.numberFormatter(r)(e)},r.formatNumberToParts=r.prototype.formatNumberToParts=function(e,r){return l(e,"value"),n(e,"value"),this.numberFormatter(r)(e)},r.parseNumber=r.prototype.parseNumber=function(e,r){return l(e,"value"),f(e,"value"),this.numberParser(r)(e)},r});