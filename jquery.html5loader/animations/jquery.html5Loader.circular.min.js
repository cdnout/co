!function(e){"use strict";e.fn.extend({LoaderAnimation:function(t){var n={lineWidth:20,color:"#ffffff",glowColor:"#00aeff",radius:40,font:"normal 14px Arial",onComplete:null},o=e(this),i=e.extend(n,t),r=this,a=i.lineWidth,c=i.color,f=i.glowColor,l=i.radius,d=i.font;this.currentPercentage=0;var u,s,h,w=e(window),g=Math.PI,p=1.5*g,m=0,x=!!document.createElement("canvas").getContext,C=e(window).width(),P=e(window).height(),v=function(){s.text((0|r.currentPercentage)+"%")},y=function(){return x&&h.clearRect(0,0,C,P),!0},A=function(){var e=.02*r.currentPercentage,t=C/2,n=P/2;m=e*g+p,y(),h.restore(),h.beginPath(),h.font=d,h.fillStyle=c,h.textAlign="center",h.textBaseline="middle",h.fillText((0|r.currentPercentage)+"%",t,n),h.lineWidth=a,h.strokeStyle=c,f&&(h.shadowOffsetX=0,h.shadowOffsetY=0,h.shadowBlur=20,h.shadowColor=f),h.arc(t,n,l,p,m,!1),h.stroke(),h.save()},k=function(){100===r.currentPercentage&&(o.delay(1e3).fadeOut(function(){o.remove(),"function"==typeof i.onComplete&&i.onComplete()}),w.off("resize.preloader"))},O=function(){C=e(window).width(),P=e(window).height(),x&&(u[0].width=C,u[0].height=P),o.width(C),o.height(P)};return r.init=function(){x?(u=e("<canvas>"),o.append(u),h=u[0].getContext("2d")):(s=e("<i class='fallback'></i>"),o.append(s)),O(),w.on("resize.preloader",O)},r.update=function(t){e.Animation(r,{currentPercentage:t},{duration:3e3}).stop(!0,!1).progress(function(){x?A():v()}).done(k)},this.init(),this}})}(jQuery);