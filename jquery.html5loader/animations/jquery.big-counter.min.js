!function(e){"use strict";e.fn.extend({LoaderAnimation:function(t){var n={lineWidth:20,color:"#ffffff",glowColor:null,radius:40,font:"normal 100px Lobster Two",onComplete:null},o=e(this),i=e.extend(n,t),r=this,a=(i.lineWidth,i.color),l=i.glowColor,c=(i.radius,i.font);this.currentPercentage=0;var d,f,s,u=e(window),h=!!document.createElement("canvas").getContext,w=e(window).width(),g=e(window).height(),p=function(){f.text((0|r.currentPercentage)+"%")},m=function(){return h&&s.clearRect(0,0,w,g),!0},x=function(){var e=w,t=g,n=w/2,o=g/2,i=e/100*r.currentPercentage;m(),s.clearRect(0,0,e,t),s.restore(),s.beginPath(),s.font=c,s.fillStyle=a,s.textAlign="center",s.textBaseline="middle",s.fillText((0|r.currentPercentage)+"%",n-8,o-15),s.lineWidth=t,s.strokeStyle=a,l&&(s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowBlur=10,s.shadowColor=l),s.moveTo(n-e/2,o),s.lineTo(i,o),s.globalCompositeOperation="xor",s.stroke(),s.restore()},C=function(){100===r.currentPercentage&&(o.delay(1e3).fadeOut(function(){o.remove(),"function"==typeof i.onComplete&&i.onComplete()}),u.off("resize.preloader"))},v=function(){w=e(window).width(),g=e(window).height(),h&&(d[0].width=w,d[0].height=g),o.width(w),o.height(g)};return r.init=function(){h?(d=e("<canvas>"),o.append(d),s=d[0].getContext("2d")):(f=e("<i class='fallback'></i>"),o.append(f)),v(),u.on("resize.preloader",v)},r.update=function(t){e.Animation(r,{currentPercentage:t},{duration:3e3}).stop(!0,!1).progress(function(){h?x():p()}).done(C)},this.init(),this}})}(jQuery);