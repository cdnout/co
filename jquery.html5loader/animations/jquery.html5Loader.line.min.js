!function(e){"use strict";e.fn.extend({LoaderAnimation:function(t){var n={lineWidth:1,color:"#333333",glowColor:null,radius:40,font:"normal 23px Lobster Two",onComplete:null},o=e(this),i=e.extend(n,t),r=this,a=i.lineWidth,c=i.color,l=i.glowColor,d=(i.radius,i.font);this.currentPercentage=0;var u,s,f,h=e(window),w=!!document.createElement("canvas").getContext,g=e(window).width(),p=e(window).height(),m=function(){s.text((0|r.currentPercentage)+"%")},v=function(){return w&&f.clearRect(0,0,g,p),!0},x=function(){var e=g,t=g/2,n=p/2,o=e/100*r.currentPercentage;v(),f.restore(),f.beginPath(),f.font=d,f.fillStyle=c,f.textAlign="center",f.fillText((0|r.currentPercentage)+"%",t,n-(a+10)),f.lineWidth=a,f.strokeStyle=c,l&&(f.shadowOffsetX=0,f.shadowOffsetY=0,f.shadowBlur=10,f.shadowColor=l),f.moveTo(t-e/2,n),f.lineTo(o,n),f.stroke(),f.save()},C=function(){100===r.currentPercentage&&(o.delay(1e3).fadeOut(function(){o.remove(),"function"==typeof i.onComplete&&i.onComplete()}),h.off("resize.preloader"))},P=function(){g=e(window).width(),p=e(window).height(),w&&(u[0].width=g,u[0].height=p),o.width(g),o.height(p)};return r.init=function(){w?(u=e("<canvas>"),o.append(u),f=u[0].getContext("2d")):(s=e("<i class='fallback'></i>"),o.append(s)),P(),h.on("resize.preloader",P)},r.update=function(t){e.Animation(r,{currentPercentage:t},{duration:3e3}).stop(!0,!1).progress(function(){w?x():m()}).done(C)},this.init(),this}})}(jQuery);