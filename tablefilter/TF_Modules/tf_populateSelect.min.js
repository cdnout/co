TF.prototype.PopulateSelect=function(b,c,a){this.EvtManager(this.Evt.name.populateselect,{slcIndex:b,slcExternal:c,slcId:a})};TF.prototype._PopulateSelect=function(q,c,r,b){r=(r==undefined)?false:r;var n=this.fltIds[q];if(tf_Id(n)==null&&!r){return}if(tf_Id(b)==null&&r){return}var d=(!r)?tf_Id(n):tf_Id(b);var s=this,f=this.tbl.rows;var A=this.slcFillingMethod.tf_LCase();var p=[],z="",F;var i=(this.hasCustomSlcOptions&&this.customSlcOptions.cols.tf_Has(q));var E=[];var B;if(c&&this.activeFilterId){B=this.activeFilterId.split("_")[0];B=B.split(this.prfxFlt)[1]}var l=[],x=[];if(this.rememberGridValues){l=tf_CookieValueArray(this.fltsValuesCookie,this.separator);if(l!=undefined&&l.toString().tf_Trim()!=""){if(this.hasCustomSlcOptions&&this.customSlcOptions.cols.tf_Has(q)){x.push(l[q])}else{x=l[q].split(" "+s.orOperator+" ")}}}var m=null,D=null;if(c&&this.disableExcludedOptions){m=[];D=[]}for(var w=this.refRow;w<this.nbRows;w++){if(this.hasVisibleRows&&this.visibleRows.tf_Has(w)&&!this.paging){continue}var a=f[w].cells;var t=a.length;if(t==this.nbCells&&!i){for(var y=0;y<t;y++){if((q==y&&(!c||(c&&this.disableExcludedOptions)))||(q==y&&c&&((f[w].style.display==""&&!this.paging)||(this.paging&&(!this.validRowsIndex||(this.validRowsIndex&&this.validRowsIndex.tf_Has(w)))&&((B==undefined||B==q)||(B!=q&&this.validRowsIndex.tf_Has(w))))))){var h=this.GetCellData(y,a[y]);var v=h.tf_MatchCase(this.matchCase);if(!p.tf_Has(v,this.matchCase)){p.push(h)}if(c&&this.disableExcludedOptions){if(!D[y]){D[y]=this.GetFilteredDataCol(y)}if(!D[y].tf_Has(v,this.matchCase)&&!m.tf_Has(v,this.matchCase)&&!this.isFirstLoad){m.push(h)}}}}}}if(i){var u=this.__getCustomValues(q);p=u[0];E=u[1]}if(this.sortSlc&&!i){if(!this.matchCase){p.sort(tf_IgnoreCaseSort);if(m){m.sort(tf_IgnoreCaseSort)}}else{p.sort();if(m){m.sort()}}}if(this.sortNumAsc&&this.sortNumAsc.tf_Has(q)){try{p.sort(tf_NumSortAsc);if(m){m.sort(tf_NumSortAsc)}if(i){E.sort(tf_NumSortAsc)}}catch(C){p.sort();if(m){m.sort()}if(i){E.sort()}}}if(this.sortNumDesc&&this.sortNumDesc.tf_Has(q)){try{p.sort(tf_NumSortDesc);if(m){m.sort(tf_NumSortDesc)}if(i){E.sort(tf_NumSortDesc)}}catch(C){p.sort();if(m){m.sort()}if(i){E.sort()}}}G();function g(){if(A=="innerhtml"){z+='<option value="">'+s.displayAllText+"</option>"}else{var k=tf_CreateOpt((!s.enableSlcResetFilter?"":s.displayAllText),"");if(!s.enableSlcResetFilter){k.style.display="none"}d.appendChild(k);if(s.enableEmptyOption){var j=tf_CreateOpt(s.emptyText,s.emOperator);d.appendChild(j)}if(s.enableNonEmptyOption){var e=tf_CreateOpt(s.nonEmptyText,s.nmOperator);d.appendChild(e)}}}function G(){var j=d.value;d.innerHTML="";g();for(var J=0;J<p.length;J++){if(p[J]==""){continue}var I=p[J];var o=(i)?E[J]:p[J];var e=false;if(c&&s.disableExcludedOptions&&m.tf_Has(I.tf_MatchCase(s.matchCase),s.matchCase)){e=true}if(A=="innerhtml"){var H="";if(s.fillSlcOnDemand&&j==p[J]){H='selected="selected"'}z+='<option value="'+I+'" '+H+(e?'disabled="disabled"':"")+">"+o+"</option>"}else{var k;if(s.fillSlcOnDemand&&j==p[J]&&s["col"+q]==s.fltTypeSlc){k=tf_CreateOpt(o,I,true)}else{if(s["col"+q]!=s.fltTypeMulti){k=tf_CreateOpt(o,I,(l[q]!=" "&&I==l[q])?true:false)}else{k=tf_CreateOpt(o,I,(x.tf_Has(p[J].tf_MatchCase(s.matchCase),s.matchCase)||x.toString().indexOf(I)!=-1)?true:false)}}if(e){k.disabled=true}d.appendChild(k)}}if(A=="innerhtml"){d.innerHTML+=z}d.setAttribute("filled","1")}};TF.prototype.__deferMultipleSelection=function(d,a,c){if(d.nodeName.tf_LCase()!="select"){return}var b=(c==undefined)?false:c;var e=this;window.setTimeout(function(){d.options[0].selected=false;if(d.options[a].value==""){d.options[a].selected=false}else{d.options[a].selected=true}if(b){e.Filter()}},0.1)};TF.prototype.__getCustomValues=function(h){if(h==undefined){return}var g=(this.hasCustomSlcOptions&&this.customSlcOptions.cols.tf_Has(h));if(!g){return}var c=[],e=[];var d=this.customSlcOptions.cols.tf_IndexByValue(h);var i=this.customSlcOptions.values[d];var b=this.customSlcOptions.texts[d];var f=this.customSlcOptions.sorts[d];for(var a=0;a<i.length;a++){e.push(i[a]);if(b[a]!=undefined){c.push(b[a])}else{c.push(i[a])}}if(f){e.sort();c.sort()}return[e,c]};function tf_CreateOpt(e,d,a){var b=a?true:false;var c=(b)?tf_CreateElm("option",["value",d],["selected","true"]):tf_CreateElm("option",["value",d]);c.appendChild(tf_CreateText(e));return c};