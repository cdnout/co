if(typeof Object.create!=="function"){Object.create=function(t){function n(){}n.prototype=t;return new n}}(function(s,r,t,p){"use strict";var e={init:function(t,n){var e=this;e.elem=n;e.$elem=s(n);e.opt=s.extend({},this.opt,t);e.headers=e.$elem.find(e.opt.headers);e.previous=0;if(e.headers.length!==0){e.first=parseInt(e.headers.prop("nodeName").substring(1),null)}e.build();for(var a=0;a<e.opt.navElements.length;a++){var i=e.opt.navElements[a];s(e.opt.navigation).children().clone(true).appendTo(i)}},opt:{navigation:".anchorific",headers:"h1, h2, h3, h4, h5, h6",speed:200,anchorClass:"anchor",anchorText:"#",top:".top",spy:true,position:"append",spyOffset:!0,navElements:[]},build:function(){var n=this,t,e=function(){};if(n.opt.navigation){s(n.opt.navigation).append("<ul />");n.previous=s(n.opt.navigation).find("ul").last();e=function(t){return n.navigations(t)}}for(var a=0;a<n.headers.length;a++){t=n.headers.eq(a);e(t);n.anchor(t)}if(n.opt.spy)n.spy();if(n.opt.top)n.back()},navigations:function(t){var n=this,e,a,i,o=n.name(t);if(t.attr("id")!==p)o=t.attr("id");e=s("<a />").attr("href","#"+o).text(t.text());a=s("<li />").append(e);i=parseInt(t.prop("nodeName").substring(1),null);a.attr("data-tag",i);n.subheadings(i,a);n.first=i},subheadings:function(t,n){var e=this,a=s(e.opt.navigation).find("ul"),i=s(e.opt.navigation).find("li");if(t===e.first){e.previous.append(n)}else if(t>e.first){i.last().append("<ul />");s(e.opt.navigation).find("ul").last().append(n);e.previous=n.parent()}else{s("li[data-tag="+t+"]").last().parent().append(n);e.previous=n.parent()}},name:function(t){var n=t.text().replace(/[^\w\s]/gi,"").replace(/\s+/g,"-").toLowerCase();return n},anchor:function(t){var n=this,e=n.name(t),a,i=n.opt.anchorText,o=n.opt.anchorClass,r;if(t.attr("id")===p)t.attr("id",e);r=t.attr("id");a=s("<a />").attr("href","#"+r).html(i).addClass(o);if(n.opt.position==="append"){t.append(a)}else{t.prepend(a)}},back:function(){var n=this,e=s("body, html"),t=s(n.opt.top);t.on("click",function(t){t.preventDefault();e.animate({scrollTop:0},n.opt.speed)})},top:function(t){var n=this,e=n.opt.top,a;if(e!==false){a=s(t).scrollTop()>200?s(e).fadeIn():s(e).fadeOut()}},spy:function(){var n=this,t,e,a,i,o;s(r).scroll(function(t){n.top(this);e=n.headers.map(function(t){if(s(this).offset().top-s(r).scrollTop()<n.opt.spyOffset){return this}});e=s(e).eq(e.length-1);if(e&&e.length){a=s('li:has(a[href="#'+e.attr("id")+'"])');if(o!==p){o.removeClass("active")}a.addClass("active");o=a}})}};s.fn.anchorific=function(n){return this.each(function(){if(!s.data(this,"anchorific")){var t=Object.create(e);t.init(n,this);s.data(this,"anchorific",t)}})}})(jQuery,window,document);