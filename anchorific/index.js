"function"!=typeof Object.create&&(Object.create=function(t){function n(){}return n.prototype=t,new n}),function(p,o,s){"use strict";var a={init:function(t,n){var a=this;a.elem=n,a.$elem=p(n),a.opt=p.extend({},this.opt,t),a.headers=a.$elem.find(a.opt.headers),(a.previous=0)!==a.headers.length&&(a.first=parseInt(a.headers.prop("nodeName").substring(1),null)),a.build();for(var e=0;e<a.opt.navElements.length;e++){var i=a.opt.navElements[e];p(a.opt.navigation).children().clone(!0).appendTo(i)}},opt:{navigation:".anchorific",headers:"h1, h2, h3, h4, h5, h6",speed:200,anchorClass:"anchor",anchorText:"#",top:".top",spy:!0,position:"append",spyOffset:!0,navElements:[]},build:function(){var t,n=this,a=function(){};n.opt.navigation&&(p(n.opt.navigation).append("<ul />"),n.previous=p(n.opt.navigation).find("ul").last(),a=function(t){return n.navigations(t)});for(var e=0;e<n.headers.length;e++)a(t=n.headers.eq(e)),n.anchor(t);n.opt.spy&&n.spy(),n.opt.top&&n.back()},navigations:function(t){var n,a,e,i=this,o=i.name(t);t.attr("id")!==s&&(o=t.attr("id")),n=p("<a />").attr("href","#"+o).text(t.text()),a=p("<li />").append(n),e=parseInt(t.prop("nodeName").substring(1),null),a.attr("data-tag",e),i.subheadings(e,a),i.first=e},subheadings:function(t,n){var a=this,e=(p(a.opt.navigation).find("ul"),p(a.opt.navigation).find("li"));t===a.first?a.previous.append(n):(t>a.first?(e.last().append("<ul />"),p(a.opt.navigation).find("ul").last().append(n)):p("li[data-tag="+t+"]").last().parent().append(n),a.previous=n.parent())},name:function(t){return t.text().replace(/[^\w\s]/gi,"").replace(/\s+/g,"-").toLowerCase()},anchor:function(t){var n,a,e=this,i=e.name(t),o=e.opt.anchorText,r=e.opt.anchorClass;t.attr("id")===s&&t.attr("id",i),a=t.attr("id"),n=p("<a />").attr("href","#"+a).html(o).addClass(r),"append"===e.opt.position?t.append(n):t.prepend(n)},back:function(){var n=this,a=p("body, html");p(n.opt.top).on("click",function(t){t.preventDefault(),a.animate({scrollTop:0},n.opt.speed)})},top:function(t){var n=this.opt.top;!1!==n&&(200<p(t).scrollTop()?p(n).fadeIn():p(n).fadeOut())},spy:function(){var n,a,e,i=this;p(o).scroll(function(t){i.top(this),n=i.headers.map(function(t){if(p(this).offset().top-p(o).scrollTop()<i.opt.spyOffset)return this}),(n=p(n).eq(n.length-1))&&n.length&&(a=p('li:has(a[href="#'+n.attr("id")+'"])'),e!==s&&e.removeClass("active"),a.addClass("active"),e=a)})}};p.fn.anchorific=function(n){return this.each(function(){var t;p.data(this,"anchorific")||((t=Object.create(a)).init(n,this),p.data(this,"anchorific",t))})}}(jQuery,window,void document);