!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3")):"function"==typeof define&&define.amd?define(["d3"],e):"object"==typeof exports?exports.Plottable=e(require("d3")):t.Plottable=e(t.d3)}(this,function(n){return o={},r.m=i=[function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"__assign",function(){return i}),e.__rest=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]]);return n},e.__decorate=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(o<3?i(a):3<o?i(e,n,a):i(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a},e.__param=function(n,r){return function(t,e){r(t,e,n)}},e.__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},e.__awaiter=function(o,a,s,u){return new(s=s||Promise)(function(t,e){function n(t){try{i(u.next(t))}catch(t){e(t)}}function r(t){try{i(u.throw(t))}catch(t){e(t)}}function i(e){e.done?t(e.value):new s(function(t){t(e.value)}).then(n,r)}i((u=u.apply(o,a||[])).next())})},e.__generator=function(n,r){var i,o,a,t,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=o[2&e[0]?"return":e[0]?"throw":"next"])&&!(a=a.call(o,e[1])).done)return a;switch(o=0,a&&(e=[0,a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=r.call(n,s)}catch(t){e=[6,t],o=0}finally{i=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},e.__exportStar=function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},e.__values=o,e.__read=a,e.__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t},e.__await=h,e.__asyncGenerator=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=n.apply(t,e||[]),a=[];return i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i;function r(r){o[r]&&(i[r]=function(n){return new Promise(function(t,e){1<a.push([r,n,t,e])||s(r,n)})})}function s(t,e){try{(n=o[t](e)).value instanceof h?Promise.resolve(n.value.v).then(u,c):l(a[0][2],n)}catch(t){l(a[0][3],t)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),a.shift(),a.length&&s(a[0][0],a[0][1])}},e.__asyncDelegator=function(r){var t,i;return t={},e("next"),e("throw",function(t){throw t}),e("return"),t[Symbol.iterator]=function(){return this},t;function e(e,n){r[e]&&(t[e]=function(t){return(i=!i)?{value:h(r[e](t)),done:"return"===e}:n?n(t):t})}},e.__asyncValues=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):o(t)},e.__makeTemplateObject=function(t,e){Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e;return t};var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};var i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function o(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function h(t){return this instanceof h?(this.v=t,this):new h(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(114);e.Array=i;var o=n(117);e.Color=o;var a=n(59);e.DOM=a;var s=n(60);e.Math=s;var u=n(61);e.RTree=u;var c=n(122);e.Stacking=c;var l=n(37);e.Window=l,r.__exportStar(n(115),e),r.__exportStar(n(116),e),r.__exportStar(n(13),e),r.__exportStar(n(118),e),r.__exportStar(n(119),e),r.__exportStar(n(120),e),r.__exportStar(n(62),e),r.__exportStar(n(123),e)},function(t,e){t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),a=n(2),i=n(9),h=n(1),o=n(55),s=n(21),u=n(6),c=n(19),l=n(8),p=n(10),f=n(13),d=n(11),_=n(56);e.Renderer=d.makeEnum(["svg","canvas"]);var y,m=(y=u.Component,r.__extends(g,y),g.getTotalDrawTime=function(n,t){return t.reduce(function(t,e){return t+e.animator.totalTime(n.length)},0)},g.applyDrawSteps=function(t,i){return t.map(function(t){var r=t.attrToProjector,e={};return Object.keys(r).forEach(function(n){e[n]=function(t,e){return r[n](t,e,i)}}),{attrToAppliedProjector:e,animator:t.animator}})},g.prototype.anchor=function(t){return t=f.coerceExternalD3(t),y.prototype.anchor.call(this,t),this._dataChanged=!0,this._resetEntityStore(),this._updateExtents(),this},g.prototype._setup=function(){var e=this;this._isSetup||(y.prototype._setup.call(this),null!=this._canvas&&this._appendCanvasNode(),this._renderArea=this.content().append("g").classed("render-area",!0),this.datasets().forEach(function(t){return e._createNodesForDataset(t)}))},g.prototype._appendCanvasNode=function(){var t=this.element().select(".plot-canvas-container");t.empty()&&(t=this.element().append("div").classed("plot-canvas-container",!0)).node().appendChild(this._canvas.node())},g.prototype.setBounds=function(t,e,n,r){var i,o,a,s,u;return y.prototype.setBounds.call(this,t,e,n,r),this._updateExtents(),null!=this._canvas&&(this._bufferCanvas&&!this._bufferCanvasValid&&(this._bufferCanvas.attr("width",this._canvas.attr("width")),this._bufferCanvas.attr("height",this._canvas.attr("height")),(i=this._bufferCanvas.node().getContext("2d"))&&(0<(o=this._canvas.node()).width&&0<o.height?0<i.canvas.width&&0<i.canvas.height&&i.drawImage(o,0,0):console.warn("Failed to fill buffer canvas with with 0x0 canvas")),this._bufferCanvasValid=!0),a=null!=window.devicePixelRatio?window.devicePixelRatio:1,this._canvas.attr("width",t*a),this._canvas.attr("height",e*a),(s=this._canvas.node().getContext("2d"))&&(s.setTransform(a,0,0,a,0,0),this._bufferCanvas&&(0<(u=this._bufferCanvas.node()).width&&0<u.height?0<s.canvas.width&&0<s.canvas.height&&s.drawImage(u,0,0,t,e):console.warn("Failed to fill canvas with 0x0 buffer canvas")))),this},g.prototype.destroy=function(){var e=this;y.prototype.destroy.call(this),this._scales().forEach(function(t){return t.offUpdate(e._renderCallback)}),this.datasets([])},g.prototype._createNodesForDataset=function(t){var e=this._datasetToDrawer.get(t);return"svg"===this.renderer()?e.useSVG(this._renderArea):e.useCanvas(this._canvas),e},g.prototype._createDrawer=function(t){return new l.ProxyDrawer(function(){return new p.SVGDrawer("path","")},function(t){return new c.CanvasDrawer(t,function(){})})},g.prototype._getAnimator=function(t){return this._animateOnNextRender()&&this._animators[t]||new i.Null},g.prototype._onDatasetUpdate=function(){this._updateExtents(),this._dataChanged=!0,this._resetEntityStore(),this.renderLowPriority()},g.prototype.attr=function(t,e,n){return null==e?this._attrBindings.get(t):(this._bindAttr(t,e,n),this.render(),this)},g.prototype._bindProperty=function(t,e,n,r){var i=this._propertyBindings.get(t),o=null!=i?i.scale:null,a="function"==typeof e?e:function(){return e};this._propertyBindings.set(t,{accessor:a,scale:n,postScale:r}),null!=o&&this._uninstallScaleForKey(o,t),null!=n&&this._installScaleForKey(n,t),this._clearAttrToProjectorCache()},g.prototype._bindAttr=function(t,e,n){var r=this._attrBindings.get(t),i=null!=r?r.scale:null,o="function"==typeof e?e:function(){return e};this._attrBindings.set(t,{accessor:o,scale:n}),null!=i&&this._uninstallScaleForKey(i,t),null!=n&&this._installScaleForKey(n,t),this._clearAttrToProjectorCache()},g.prototype._clearAttrToProjectorCache=function(){delete this._cachedAttrToProjector},g.prototype._getAttrToProjector=function(){var t;return null==this._cachedAttrToProjector&&(t=this._generateAttrToProjector(),g.OPTIMIZE_MEMOIZE_PROJECTORS&&(t=s.memoizeProjectors(t)),this._cachedAttrToProjector=t),h.assign({},this._cachedAttrToProjector)},g.prototype._generateAttrToProjector=function(){var n={};this._attrBindings.each(function(t,e){n[e]=g._scaledAccessor(t)});var e=this._propertyProjectors();return Object.keys(e).forEach(function(t){null==n[t]&&(n[t]=e[t])}),n},g.prototype.renderImmediately=function(){return y.prototype.renderImmediately.call(this),this._isAnchored&&(this._paint(),this._dataChanged=!1),this},g.prototype.renderLowPriority=function(){return this._renderCallback(),this},g.prototype.animated=function(t){return null==t?this._animate:(this._animate=t,this)},g.prototype.detach=function(){return y.prototype.detach.call(this),this._updateExtents(),this},g.prototype._scales=function(){var r=[];return this._attrBindings.each(function(t,e){var n=t.scale;null!=n&&-1===r.indexOf(n)&&r.push(n)}),this._propertyBindings.each(function(t,e){var n=t.scale;null!=n&&-1===r.indexOf(n)&&r.push(n)}),r},g.prototype._updateExtents=function(){var e=this;this._resetEntityStore(),this._scales().forEach(function(t){return t.addIncludedValuesProvider(e._includedValuesProvider)})},g.prototype._filterForProperty=function(t){return null},g.prototype.getExtentsForAttr=function(t){var e,n=this;return null==this._attrExtents[t]&&(e=s.memThunk(function(){return n.datasets()},function(){return n._attrBindings.get(t)},function(t,e){return null==e||null==e.accessor?null:t.map(function(t){return v(t,e,null)})}),this._attrExtents[t]=e),this._attrExtents[t]()},g.prototype.getExtentsForProperty=function(t){var e,n=this;return null==this._propertyExtents[t]&&(e=s.memThunk(function(){return n.datasets()},function(){return n._propertyBindings.get(t)},function(){return n._filterForProperty(t)},function(t,e,n){return null==e||null==e.accessor?null:t.map(function(t){return v(t,e,n)})}),this._propertyExtents[t]=e),this._propertyExtents[t]()},g.prototype._includedValuesForScale=function(r,t){var i=this;if(!this._isAnchored&&!t)return[];var o=[];return this._attrBindings.each(function(t,e){var n;t.scale!==r||null!=(n=i.getExtentsForAttr(e))&&(o=o.concat(a.merge(n)))}),this._propertyBindings.each(function(t,e){var n;t.scale!==r||null!=(n=i.getExtentsForProperty(e))&&(o=o.concat(a.merge(n)))}),o},g.prototype.animator=function(t,e){return void 0===e?this._animators[t]:(this._animators[t]=e,this)},g.prototype.renderer=function(t){var e=this;return void 0===t?null==this._canvas?"svg":"canvas":(null==this._canvas&&"canvas"===t?(this._canvas=a.select(document.createElement("canvas")).classed("plot-canvas",!0),this._bufferCanvas=a.select(document.createElement("canvas")),null!=this.element()&&this._appendCanvasNode(),this._datasetToDrawer.forEach(function(t){t.useCanvas(e._canvas)}),this.render()):null!=this._canvas&&"svg"==t&&(this._canvas.remove(),this._canvas=null,this._bufferCanvas=null,this._datasetToDrawer.forEach(function(t){t.useSVG(e._renderArea)}),this.render()),this)},g.prototype.addDataset=function(t){return this._addDataset(t),this._onDatasetUpdate(),this},g.prototype._addDataset=function(t){this._removeDataset(t);var e=this._createDrawer(t);return this._datasetToDrawer.set(t,e),this._isSetup&&this._createNodesForDataset(t),t.onUpdate(this._onDatasetUpdateCallback),this},g.prototype.removeDataset=function(t){return this._removeDataset(t),this._onDatasetUpdate(),this},g.prototype._removeDataset=function(t){return-1===this.datasets().indexOf(t)||(this._removeDatasetNodes(t),t.offUpdate(this._onDatasetUpdateCallback),this._datasetToDrawer.delete(t)),this},g.prototype._removeDatasetNodes=function(t){this._datasetToDrawer.get(t).remove()},g.prototype.datasets=function(t){var e=this,n=[];return this._datasetToDrawer.forEach(function(t,e){return n.push(e)}),null==t?n:(n.forEach(function(t){return e._removeDataset(t)}),t.forEach(function(t){return e._addDataset(t)}),this._onDatasetUpdate(),this)},g.prototype._generateDrawSteps=function(){return[{attrToProjector:this._getAttrToProjector(),animator:new i.Null}]},g.prototype._additionalPaint=function(t){},g.prototype._buildLightweightPlotEntities=function(t){var c=this,l=[];return t.forEach(function(i,o){for(var a=c._datasetToDrawer.get(i),s=0,u=i.data(),t=u.length,e=function(t){var e=u[t],n=c._pixelPoint(e,t,i);if(h.Math.isNaN(n.x)||h.Math.isNaN(n.y))return"continue";var r=c;l.push({datum:e,get position(){return r._pixelPoint.call(r,e,t,i)},index:t,dataset:i,datasetIndex:o,component:c,drawer:a,validDatumIndex:s}),s++},n=0;n<t;n++)e(n)}),l},g.prototype._getDataToDraw=function(){var e=new h.Map;return this.datasets().forEach(function(t){return e.set(t,t.data())}),e},g.prototype._paint=function(){var e=this;delete this._cachedAttrToProjector;var t,r=this._generateDrawSteps(),i=this._getDataToDraw(),o=this.datasets().map(function(t){return e._datasetToDrawer.get(t)});"canvas"===this.renderer()&&((t=this._canvas.node()).getContext("2d").clearRect(0,0,t.clientWidth,t.clientHeight),this._bufferCanvasValid=!1),this.datasets().forEach(function(t,e){var n=g.applyDrawSteps(r,t);o[e].draw(i.get(t),n)});var n=this.datasets().map(function(t,e){return g.getTotalDrawTime(i.get(t),r)}),a=h.Math.max(n,0);this._additionalPaint(a)},g.prototype.selections=function(t){var r=this;if(void 0===t&&(t=this.datasets()),"canvas"===this.renderer())return a.selectAll();var i=[];return t.forEach(function(t){var e,n=r._datasetToDrawer.get(t);null!=n&&(e=n.getVisualPrimitives(),i.push.apply(i,e))}),a.selectAll(i)},g.prototype.entities=function(t){var e=this;return this._getEntityStore(t).entities().map(function(t){return e._lightweightPlotEntityToPlotEntity(t)})},g.prototype.filterEntities=function(t){var e=this;return this._getEntityStore().entities().filter(t).map(function(t){return e._lightweightPlotEntityToPlotEntity(t)})},g.prototype._getEntityStore=function(t){function e(t){return r._entityBounds(t)}var n,r=this;return void 0!==t?((n=new h.EntityStore).addAll(this._buildLightweightPlotEntities(t),e,this._localOriginBounds()),n):(void 0===this._cachedEntityStore&&((n=new h.EntityStore).addAll(this._buildLightweightPlotEntities(this.datasets()),e,this._localOriginBounds()),this._cachedEntityStore=n),this._cachedEntityStore)},g.prototype._localOriginBounds=function(){return{topLeft:{x:0,y:0},bottomRight:{x:this.width(),y:this.height()}}},g.prototype._entityBounds=function(t){var e=t.datum,n=t.index,r=t.dataset,i=this._pixelPoint(e,n,r);return{x:i.x,y:i.y,width:0,height:0}},g.prototype._lightweightPlotEntityToPlotEntity=function(t){return{bounds:this._entityBounds(t),component:t.component,dataset:t.dataset,datasetIndex:t.datasetIndex,datum:t.datum,index:t.index,position:t.position,selection:a.select(t.drawer.getVisualPrimitiveAtIndex(t.validDatumIndex))}},g.prototype.entitiesAt=function(t){throw new Error("plots must implement entitiesAt")},g.prototype.entityNearest=function(t){var e=this._getEntityStore().entityNearest(t);return void 0===e?void 0:this._lightweightPlotEntityToPlotEntity(e)},g.prototype.entitiesIn=function(t,e){var n;return n=null==e?{x:t.topLeft.x,y:t.topLeft.y,width:t.bottomRight.x-t.topLeft.x,height:t.bottomRight.y-t.topLeft.y}:{x:t.min,y:e.min,width:t.max-t.min,height:e.max-e.min},this.entitiesInBounds(n)},g.prototype.entitiesInBounds=function(t){var e=this,n=this._getEntityStore().entitiesInBounds(t);if(n)return n.map(function(t){return e._lightweightPlotEntityToPlotEntity(t)})},g.prototype.entitiesInXBounds=function(t){var e=this,n=this._getEntityStore().entitiesInXBounds(t);if(n)return n.map(function(t){return e._lightweightPlotEntityToPlotEntity(t)})},g.prototype.entitiesInYBounds=function(t){var e=this,n=this._getEntityStore().entitiesInYBounds(t);if(n)return n.map(function(t){return e._lightweightPlotEntityToPlotEntity(t)})},g.prototype._uninstallScaleForKey=function(t,e){t.offUpdate(this._renderCallback),t.offUpdate(this._deferredResetEntityStore),t.removeIncludedValuesProvider(this._includedValuesProvider)},g.prototype._installScaleForKey=function(t,e){t.onUpdate(this._renderCallback),t.onUpdate(this._deferredResetEntityStore),t.addIncludedValuesProvider(this._includedValuesProvider)},g.prototype._propertyProjectors=function(){return{}},g._scaledAccessor=function(t){var r=t.scale,i=t.accessor,o=t.postScale,a=null==r?i:function(t,e,n){return r.scale(i(t,e,n))};return null==o?a:function(t,e,n){return o(a(t,e,n),t,e,n)}},g.prototype._pixelPoint=function(t,e,n){return{x:0,y:0}},g.prototype._animateOnNextRender=function(){return this._animate&&this._dataChanged},g.OPTIMIZE_MEMOIZE_PROJECTORS=!1,g._ANIMATION_MAX_DURATION=600,g);function g(){var n=y.call(this)||this;n._dataChanged=!1,n._attrExtents={},n._animate=!1,n._animators={},n._propertyExtents={},n._resetEntityStore=function(){n._cachedEntityStore=void 0},n._overflowHidden=!0,n.addClass("plot"),n._datasetToDrawer=new h.Map,n._attrBindings=a.map(),n._includedValuesProvider=function(t,e){return n._includedValuesForScale(t,e)},n._renderCallback=function(){return n.render()},n._onDatasetUpdateCallback=function(){return n._onDatasetUpdate()},n._propertyBindings=a.map();var t=(new i.Easing).maxTotalDuration(g._ANIMATION_MAX_DURATION);return n.animator(o.Animator.MAIN,t),n.animator(o.Animator.RESET,new i.Null),n._deferredResetEntityStore=h.Window.debounce(_.DeferredRenderer.DEFERRED_RENDERING_DELAY,n._resetEntityStore),n}function v(n,t,r){var i=t.accessor,e=t.scale;if(null==e)return[];var o=n.data();null!=r&&(o=o.filter(function(t,e){return r(t,e,n)}));var a=o.map(function(t,e){return i(t,e,n)});return e.extentOfValues(a)}e.Plot=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(112);e.TickGenerators=i,r.__exportStar(n(58),e),r.__exportStar(n(107),e),r.__exportStar(n(108),e),r.__exportStar(n(109),e),r.__exportStar(n(110),e),r.__exportStar(n(111),e),r.__exportStar(n(113),e);var o=n(58),a=n(12);e.isTransformable=function(t){return t instanceof a.QuantitativeScale||t instanceof o.Category}},function(t,n,e){"use strict";function r(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}Object.defineProperty(n,"__esModule",{value:!0}),r(e(64)),r(e(67)),r(e(140)),r(e(22)),r(e(69)),r(e(29))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=n(32),h=n(1),o=n(38),a=n(13),s=n(11);e.XAlignment=s.makeEnum(["left","center","right"]),e.YAlignment=s.makeEnum(["top","center","bottom"]);var u=(p.prototype.anchor=function(t){if(t=a.coerceExternalD3(t),this._destroyed)throw new Error("Can't reuse destroy()-ed Components!");return this.isRoot()&&(this._rootElement=t,this._rootElement.classed("plottable",!0)),null!=this._element?t.node().appendChild(this._element.node()):(this._element=t.append("div"),this._setup()),this._isAnchored=!0,this._onAnchorCallbacks.callCallbacks(this),this},p.prototype.onAnchor=function(t){return this._isAnchored&&t(this),this._onAnchorCallbacks.add(t),this},p.prototype.offAnchor=function(t){return this._onAnchorCallbacks.delete(t),this},p.prototype._setup=function(){var e=this;this._isSetup||(this._cssClasses.forEach(function(t){e._element.classed(t,!0)}),this._cssClasses=new h.Set,this._backgroundContainer=this._element.append("svg").classed("background-container",!0),this._content=this._element.append("svg").classed("content",!0),this._foregroundContainer=this._element.append("svg").classed("foreground-container",!0),this._overflowHidden?this._content.classed("component-overflow-hidden",!0):this._content.classed("component-overflow-visible",!0),this._isSetup=!0)},p.prototype.requestedSpace=function(t,e){return{minWidth:0,minHeight:0}},p.prototype.computeLayout=function(t,e,n){if(null==t||null==e||null==n){if(null==this._element)throw new Error("anchor() must be called before computeLayout()");if(null==this._rootElement)throw new Error("null arguments cannot be passed to computeLayout() on a non-root, unanchored node");t={x:0,y:0};var r=this._rootElement.node();e=h.DOM.elementWidth(r),n=h.DOM.elementHeight(r)}var i=this._sizeFromOffer(e,n),o=i.height,a=i.width,s=p._xAlignToProportion[this._xAlignment],u=p._yAlignToProportion[this._yAlignment],c=t.x+(e-a)*s,l=t.y+(n-o)*u;return this.setBounds(a,o,c,l),this},p.prototype.setBounds=function(t,e,n,r){return void 0===n&&(n=0),void 0===r&&(r=0),this._width=t,this._height=e,this._origin={x:n,y:r},null!=this._element&&this._element.styles({left:n+"px",height:e+"px",top:r+"px",width:t+"px"}),null!=this._resizeHandler&&this._resizeHandler({width:t,height:e}),this},p.prototype._sizeFromOffer=function(t,e){var n=this.requestedSpace(t,e);return{width:this.fixedWidth()?Math.min(t,n.minWidth):t,height:this.fixedHeight()?Math.min(e,n.minHeight):e}},p.prototype.render=function(){return this._isAnchored&&this._isSetup&&0<=this.width()&&0<=this.height()&&i.registerToRender(this),this},p.prototype.renderLowPriority=function(){return this.render()},p.prototype._scheduleComputeLayout=function(){this._isAnchored&&this._isSetup&&i.registerToComputeLayoutAndRender(this)},p.prototype.onResize=function(t){return this._resizeHandler=t,this},p.prototype.renderImmediately=function(){return this},p.prototype.redraw=function(){return this._isAnchored&&this._isSetup&&(this.isRoot()?this._scheduleComputeLayout():this.parent().redraw()),this},p.prototype.invalidateCache=function(){},p.prototype.renderTo=function(t){if(this.detach(),null!=t){var e=void 0;if(!(e="string"==typeof t||o.isElement(t)?r.select(t):a.coerceExternalD3(t)).node()||null==e.node().nodeName)throw new Error("Plottable requires a valid Element to renderTo");if("svg"===e.node().nodeName)throw new Error("Plottable 3.x and later can only renderTo an HTML component; pass a div instead!");this.anchor(e)}if(null==this._element)throw new Error("If a Component has never been rendered before, then renderTo must be given a node to render to, or a d3.Selection, or a selector string");return i.registerToComputeLayoutAndRender(this),i.flush(),this},p.prototype.xAlignment=function(t){if(null==t)return this._xAlignment;if(t=t.toLowerCase(),null==p._xAlignToProportion[t])throw new Error("Unsupported alignment: "+t);return this._xAlignment=t,this.redraw(),this},p.prototype.yAlignment=function(t){if(null==t)return this._yAlignment;if(t=t.toLowerCase(),null==p._yAlignToProportion[t])throw new Error("Unsupported alignment: "+t);return this._yAlignment=t,this.redraw(),this},p.prototype.hasClass=function(t){return null!=t&&(null==this._element?this._cssClasses.has(t):this._element.classed(t))},p.prototype.addClass=function(t){return null==t||(null==this._element?this._cssClasses.add(t):this._element.classed(t,!0)),this},p.prototype.removeClass=function(t){return null==t||(null==this._element?this._cssClasses.delete(t):this._element.classed(t,!1)),this},p.prototype.fixedWidth=function(){return!1},p.prototype.fixedHeight=function(){return!1},p.prototype.detach=function(){return this.parent(null),this._isAnchored&&this._element.remove(),this._isAnchored=!1,this._onDetachCallbacks.callCallbacks(this),this},p.prototype.onDetach=function(t){return this._onDetachCallbacks.add(t),this},p.prototype.offDetach=function(t){return this._onDetachCallbacks.delete(t),this},p.prototype.parent=function(t){if(void 0===t)return this._parent;if(null!==t&&!t.has(this))throw new Error("Passed invalid parent");return this._parent=t,this},p.prototype.bounds=function(){var t=this.origin();return{topLeft:t,bottomRight:{x:t.x+this.width(),y:t.y+this.height()}}},p.prototype.destroy=function(){this._destroyed=!0,this.detach()},p.prototype.width=function(){return this._width},p.prototype.height=function(){return this._height},p.prototype.origin=function(){return{x:this._origin.x,y:this._origin.y}},p.prototype.originToRoot=function(){for(var t=this.origin(),e=this.parent();null!=e;){var n=e.origin();t.x+=n.x,t.y+=n.y,e=e.parent()}return t},p.prototype.root=function(){for(var t=this;!t.isRoot();)t=t.parent();return t},p.prototype.isRoot=function(){return null==this.parent()},p.prototype.foreground=function(){return this._foregroundContainer},p.prototype.content=function(){return this._content},p.prototype.element=function(){return this._element},p.prototype.rootElement=function(){return this.root()._rootElement},p.prototype.background=function(){return this._backgroundContainer},p._xAlignToProportion={left:0,center:.5,right:1},p._yAlignToProportion={top:0,center:.5,bottom:1},p);function p(){this._overflowHidden=!1,this._origin={x:0,y:0},this._xAlignment="left",this._yAlignment="top",this._isSetup=!1,this._isAnchored=!1,this._cssClasses=new h.Set,this._destroyed=!1,this._onAnchorCallbacks=new h.CallbackSet,this._onDetachCallbacks=new h.CallbackSet,this._cssClasses.add("component")}e.Component=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=n(2);function o(e){return void 0===e&&(e=3),r(e),function(t){return t.toFixed(e)}}function r(t){if(t<0||20<t)throw new RangeError("Formatter precision must be between 0 and 20");if(t!==Math.floor(t))throw new RangeError("Formatter precision must be an integer")}e.currency=function(t,n,r){void 0===t&&(t=2),void 0===n&&(n="$"),void 0===r&&(r=!0);var i=o(t);return function(t){var e=i(Math.abs(t));return""!==e&&(r?e=n+e:e+=n,t<0&&(e="-"+e)),e}},e.fixed=o,e.general=function(n){return void 0===n&&(n=3),r(n),function(t){if("number"!=typeof t)return String(t);var e=Math.pow(10,n);return String(Math.round(t*e)/e)}},e.identity=function(){return function(t){return String(t)}},e.percentage=function(t){void 0===t&&(t=0);var i=o(t);return function(t){var e=100*t,n=t.toString(),r=Math.pow(10,n.length-(n.indexOf(".")+1)),e=parseInt((e*r).toString(),10)/r;return i(e)+"%"}},e.siSuffix=function(e){return void 0===e&&(e=3),r(e),function(t){return c.format("."+e+"s")(t)}},e.shortScale=function(t){void 0===t&&(t=3),r(t);var i="KMBTQ",o=c.format("."+t+"e"),a=c.format("."+t+"f"),s=Math.pow(10,3*(i.length+1)),u=Math.pow(10,-t);return function(t){var e=Math.abs(t);if((e<u||s<=e)&&0!==e)return o(t);for(var n=-1;e>=Math.pow(1e3,n+2)&&n<i.length-1;)n++;var r="",r=-1===n?a(t):a(t/Math.pow(1e3,n+1))+i[n];return(0<t&&"1000"===r.substr(0,4)||t<0&&"-1000"===r.substr(0,5))&&(r=n<i.length-1?(n++,a(t/Math.pow(1e3,n+1))+i[n]):o(t)),r}},e.multiTime=function(){var r=[{specifier:".%L",predicate:function(t){return 0!==t.getMilliseconds()}},{specifier:":%S",predicate:function(t){return 0!==t.getSeconds()}},{specifier:"%I:%M",predicate:function(t){return 0!==t.getMinutes()}},{specifier:"%I %p",predicate:function(t){return 0!==t.getHours()}},{specifier:"%a %d",predicate:function(t){return 0!==t.getDay()&&1!==t.getDate()}},{specifier:"%b %d",predicate:function(t){return 1!==t.getDate()}},{specifier:"%b",predicate:function(t){return 0!==t.getMonth()}}];return function(e){var t=r.filter(function(t){return t.predicate(e)}),n=0<t.length?t[0].specifier:"%Y";return c.timeFormat(n)(e)}},e.time=function(t,e){return void 0===e&&(e=!1),e?c.utcFormat(t):c.timeFormat(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(i.prototype.useSVG=function(t){null!=this._currentDrawer&&this._currentDrawer.remove();var e=this._svgDrawerFactory();e.attachTo(t),this._currentDrawer=e},i.prototype.useCanvas=function(t){null!=this._currentDrawer&&this._currentDrawer.remove(),this._currentDrawer=this._canvasDrawerFactory(t.node().getContext("2d"))},i.prototype.getDrawer=function(){return this._currentDrawer},i.prototype.remove=function(){null!=this._currentDrawer&&this._currentDrawer.remove()},i.prototype.draw=function(t,e){this._currentDrawer.draw(t,e)},i.prototype.getVisualPrimitives=function(){return this._currentDrawer.getVisualPrimitives()},i.prototype.getVisualPrimitiveAtIndex=function(t){return this._currentDrawer.getVisualPrimitiveAtIndex(t)},i);function i(t,e){this._svgDrawerFactory=t,this._canvasDrawerFactory=e}e.ProxyDrawer=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);r.__exportStar(n(74),e),r.__exportStar(n(75),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),s=n(1),i=(o.prototype.draw=function(n,r){var i=this;this._createAndDestroyDOMElements(n);for(var o=0,t=r.length,e=function(t){var e=r[t];s.Window.setTimeout(function(){return i._drawStep(e)},o),o+=e.animator.totalTime(n.length)},a=0;a<t;a++)e(a)},o.prototype.getVisualPrimitives=function(){return null==this._cachedVisualPrimitivesNodes&&(this._cachedVisualPrimitivesNodes=this._selection.nodes()),this._cachedVisualPrimitivesNodes},o.prototype.getVisualPrimitiveAtIndex=function(t){return null==this._cachedVisualPrimitivesNodeMap?null:this._cachedVisualPrimitivesNodeMap.get(t)},o.prototype.remove=function(){this._root.remove()},o.prototype.attachTo=function(t){t.node().appendChild(this._root.node())},o.prototype.getRoot=function(){return this._root},o.prototype.selector=function(){return this._svgElementName},o.prototype._applyDefaultAttributes=function(t){},o.prototype._createAndDestroyDOMElements=function(t){var e=t.map(function(t,e){return null!=t?{d:t,i:e}:null}).filter(function(t){return null!=t}),n=this._root.selectAll(this.selector()).data(e);this._selection=n.enter().append(this._svgElementName).merge(n),n.exit().remove();var r=new s.Map;this._selection.each(function(t){r.set(t.i,this)}),this._cachedVisualPrimitivesNodeMap=r,this._cachedVisualPrimitivesNodes=null,this._selection.data(this._selection.data().map(function(t){return t.d})),null!=this._className&&this._selection.classed(this._className,!0),this._applyDefaultAttributes(this._selection)},o.prototype._drawStep=function(e){var n=this;["fill","stroke"].forEach(function(t){null!=e.attrToAppliedProjector[t]&&n._selection.attr(t,e.attrToAppliedProjector[t])}),e.animator.animate(this._selection,e.attrToAppliedProjector),null!=this._className&&this._selection.classed(this._className,!0)},o);function o(t,e){this._root=r.select(document.createElementNS("http://www.w3.org/2000/svg","g")),this._className=e,this._svgElementName=t}e.SVGDrawer=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeEnum=function(t){return t.reduce(function(t,e){return t[e]=e,t},{})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=n(2),a=n(27),s=n(1),u=n(18),c=(r=u.Scale,i.__extends(l,r),l.prototype.autoDomain=function(){return this._domainMin=null,this._domainMax=null,r.prototype.autoDomain.call(this),this},l.prototype.autoDomainIfAutomaticMode=function(){if(null==this._domainMin||null==this._domainMax){var t=this._getExtent();if(null!=this._domainMin){var e=t[1];return this._domainMin>=e&&(e=this._expandSingleValueDomain([this._domainMin,this._domainMin])[1]),void this._setDomain([this._domainMin,e])}if(null!=this._domainMax){var n=t[0];return this._domainMax<=n&&(n=this._expandSingleValueDomain([this._domainMax,this._domainMax])[0]),void this._setDomain([n,this._domainMax])}r.prototype.autoDomainIfAutomaticMode.call(this)}else this._setDomain([this._domainMin,this._domainMax])},l.prototype._getUnboundedExtent=function(t){void 0===t&&(t=!1);var e,n=this._getAllIncludedValues(t),r=this._defaultExtent();return 0!==n.length&&(e=[s.Math.min(n,r[0]),s.Math.max(n,r[1])],r=this._padDomain(e)),r},l.prototype._getExtent=function(){var t=this._getUnboundedExtent();return null!=this._domainMin&&(t[0]=this._domainMin),null!=this._domainMax&&(t[1]=this._domainMax),t},l.prototype.addPaddingExceptionsProvider=function(t){return this._paddingExceptionsProviders.add(t),this.autoDomainIfAutomaticMode(),this},l.prototype.removePaddingExceptionsProvider=function(t){return this._paddingExceptionsProviders.delete(t),this.autoDomainIfAutomaticMode(),this},l.prototype.padProportion=function(t){if(null==t)return this._padProportion;if(t<0)throw new Error("padProportion must be non-negative");return this._padProportion=t,this.autoDomainIfAutomaticMode(),this},l.prototype._padDomain=function(t){var e=this;if(t[0].valueOf()===t[1].valueOf())return this._expandSingleValueDomain(t);if(0===this._padProportion)return t;var n=this._padProportion/2,r=t[0],i=t[1],o=!1,a=!1;this._paddingExceptionsProviders.forEach(function(t){t(e).forEach(function(t){t.valueOf()===r.valueOf()&&(o=!0),t.valueOf()===i.valueOf()&&(a=!0)})});var s=this._backingScaleDomain();this._backingScaleDomain(t);var u=o?r:this.invert(this.scale(r)-(this.scale(i)-this.scale(r))*n),c=a?i:this.invert(this.scale(i)+(this.scale(i)-this.scale(r))*n);return this._backingScaleDomain(s),this._snappingDomainEnabled?this._niceDomain([u,c]):[u,c]},l.prototype.snappingDomainEnabled=function(t){return null==t?this._snappingDomainEnabled:(this._snappingDomainEnabled=t,this.autoDomainIfAutomaticMode(),this)},l.prototype._expandSingleValueDomain=function(t){return t},l.prototype.invert=function(t){throw new Error("Subclasses should override invert")},l.prototype.domain=function(t){return null!=t&&(this._domainMin=t[0],this._domainMax=t[1]),r.prototype.domain.call(this,t)},l.prototype.domainMin=function(t){return null==t?this.domain()[0]:(this._domainMin=t,this.autoDomainIfAutomaticMode(),this)},l.prototype.domainMax=function(t){return null==t?this.domain()[1]:(this._domainMax=t,this.autoDomainIfAutomaticMode(),this)},l.prototype.extentOfValues=function(t){var e=o.extent(t.filter(function(t){return s.Math.isValidNumber(+t)}));return null==e[0]||null==e[1]?[]:e},l.prototype.zoom=function(e,n){var r=this;this.domain(this.range().map(function(t){return r.invert(a.zoomOut(t,e,n))}))},l.prototype.pan=function(e){var n=this;this.domain(this.range().map(function(t){return n.invert(t+e)}))},l.prototype.scaleTransformation=function(t){throw new Error("Subclasses should override scaleTransformation")},l.prototype.invertedTransformation=function(t){throw new Error("Subclasses should override invertedTransformation")},l.prototype.getTransformationExtent=function(){throw new Error("Subclasses should override getTransformationExtent")},l.prototype.getTransformationDomain=function(){throw new Error("Subclasses should override getTransformationDomain")},l.prototype.setTransformationDomain=function(t){throw new Error("Subclasses should override setTransformationDomain")},l.prototype._setDomain=function(t){function e(t){return s.Math.isNaN(t)||t===1/0||t===-1/0}e(t[0])||e(t[1])?s.Window.warn("Warning: QuantitativeScales cannot take NaN or Infinity as a domain value. Ignoring."):r.prototype._setDomain.call(this,t)},l.prototype.defaultTicks=function(){throw new Error("Subclasses should override _getDefaultTicks")},l.prototype.ticks=function(){return this._tickGenerator(this)},l.prototype._niceDomain=function(t,e){throw new Error("Subclasses should override _niceDomain")},l.prototype._defaultExtent=function(){throw new Error("Subclasses should override _defaultExtent")},l.prototype.tickGenerator=function(t){return null==t?this._tickGenerator:(this._tickGenerator=t,this)},l._DEFAULT_NUM_TICKS=10,l);function l(){var t=r.call(this)||this;return t._tickGenerator=function(t){return t.defaultTicks()},t._padProportion=.05,t._snappingDomainEnabled=!0,t._paddingExceptionsProviders=new s.Set,t}e.QuantitativeScale=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);e.coerceExternalD3=function(t){if(null!=t.attrs)return t;if(null!=t.nodes)return r.selectAll(t.nodes());var e=[];return t.each(function(){e.push(this)}),r.selectAll(e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);r.__exportStar(n(87),e),r.__exportStar(n(88),e),r.__exportStar(n(89),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);r.__exportStar(n(48),e),r.__exportStar(n(49),e),r.__exportStar(n(50),e),r.__exportStar(n(19),e),r.__exportStar(n(8),e),r.__exportStar(n(35),e),r.__exportStar(n(36),e),r.__exportStar(n(51),e),r.__exportStar(n(10),e),r.__exportStar(n(52),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(i.prototype.attachTo=function(t){return this._disconnect(),this._componentAttachedTo=t,this._connect(),this},i.prototype.detachFrom=function(t){return this.detach()},i.prototype.detach=function(){return this._disconnect(),this._componentAttachedTo=null,this},i.prototype.enabled=function(t){return null==t?this._enabled:(this._enabled=t,this._enabled?this._connect():this._disconnect(),this)},i.prototype._anchor=function(t){this._isAnchored=!0},i.prototype._unanchor=function(){this._isAnchored=!1},i.prototype._translateToComponentSpace=function(t){var e=this._componentAttachedTo.originToRoot();return{x:t.x-e.x,y:t.y-e.y}},i.prototype._isInsideComponent=function(t){return 0<=t.x&&0<=t.y&&t.x<=this._componentAttachedTo.width()&&t.y<=this._componentAttachedTo.height()},i.prototype._connect=function(){this.enabled()&&null!=this._componentAttachedTo&&!this._isAnchored&&this._componentAttachedTo.onAnchor(this._anchorCallback)},i.prototype._disconnect=function(){this._isAnchored&&this._unanchor(),null!=this._componentAttachedTo&&this._componentAttachedTo.offAnchor(this._anchorCallback)},i);function i(){var e=this;this._anchorCallback=function(t){return e._anchor(t)},this._enabled=!0}e.Interaction=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,r=n(0),u=n(4),l=n(1),o=n(56),h=n(3),i=(s=h.Plot,r.__extends(a,s),a.prototype.render=function(){return this.deferredRendering()&&this._deferredRenderer.resetTransforms(),s.prototype.render.call(this)},a.prototype.deferredRendering=function(t){return null==t?this._deferredRendering:(t&&(e=this.x()&&this.x().scale,n=this.y()&&this.y().scale,this._deferredRenderer.setDomains(e,n)),this._deferredRendering=t,this);var e,n},a.prototype.x=function(t,e,n){if(null==t)return this._propertyBindings.get(a._X_KEY);this._bindProperty(a._X_KEY,t,e,n);var r=this.width();return null!=e&&null!=r&&e.range([0,r]),this._autoAdjustYScaleDomain&&this._updateYExtentsAndAutodomain(),this.render(),this},a.prototype.y=function(t,e,n){if(null==t)return this._propertyBindings.get(a._Y_KEY);this._bindProperty(a._Y_KEY,t,e,n);var r=this.height();return null!=e&&null!=r&&(e instanceof u.Category?e.range([0,r]):e.range([r,0])),this._autoAdjustXScaleDomain&&this._updateXExtentsAndAutodomain(),this.render(),this},a.prototype._filterForProperty=function(t){return"x"===t&&this._autoAdjustXScaleDomain?this._makeFilterByProperty("y"):"y"!==t&&"y0"!==t||!this._autoAdjustYScaleDomain?null:this._makeFilterByProperty("x")},a.prototype._makeFilterByProperty=function(t){var e=this._propertyBindings.get(t);if(null!=e){var i=e.accessor,o=e.scale;if(null!=o)return function(t,e,n){var r=o.range();return l.Math.inRange(o.scale(i(t,e,n)),r[0],r[1])}}return null},a.prototype._uninstallScaleForKey=function(t,e){s.prototype._uninstallScaleForKey.call(this,t,e);var n=e===a._X_KEY?this._adjustYDomainOnChangeFromXCallback:this._adjustXDomainOnChangeFromYCallback;t.offUpdate(n)},a.prototype._installScaleForKey=function(t,e){s.prototype._installScaleForKey.call(this,t,e);var n=e===a._X_KEY?this._adjustYDomainOnChangeFromXCallback:this._adjustXDomainOnChangeFromYCallback;t.onUpdate(n)},a.prototype.destroy=function(){return s.prototype.destroy.call(this),this.x().scale&&this.x().scale.offUpdate(this._adjustYDomainOnChangeFromXCallback),this.y().scale&&this.y().scale.offUpdate(this._adjustXDomainOnChangeFromYCallback),this},a.prototype.autorangeMode=function(t){if(null==t)return this._autoAdjustXScaleDomain?"x":this._autoAdjustYScaleDomain?"y":"none";switch(t){case"x":this._autoAdjustXScaleDomain=!0,this._autoAdjustYScaleDomain=!1,this._adjustXDomainOnChangeFromY();break;case"y":this._autoAdjustXScaleDomain=!1,this._autoAdjustYScaleDomain=!0,this._adjustYDomainOnChangeFromX();break;case"none":this._autoAdjustXScaleDomain=!1,this._autoAdjustYScaleDomain=!1;break;default:throw new Error("Invalid scale name '"+t+"', must be 'x', 'y' or 'none'")}return this},a.prototype.computeLayout=function(t,e,n){s.prototype.computeLayout.call(this,t,e,n);var r=this.x(),i=r&&r.scale;null!=i&&i.range([0,this.width()]);var o=this.y(),a=o&&o.scale;return null!=a&&(a instanceof u.Category?a.range([0,this.height()]):a.range([this.height(),0])),this},a.prototype._updateXExtentsAndAutodomain=function(){var t=this.x().scale;null!=t&&t.autoDomain()},a.prototype._updateYExtentsAndAutodomain=function(){var t=this.y().scale;null!=t&&t.autoDomain()},a.prototype.showAllData=function(){return this._updateXExtentsAndAutodomain(),this._updateYExtentsAndAutodomain(),this},a.prototype._adjustYDomainOnChangeFromX=function(){this._projectorsReady()&&this._autoAdjustYScaleDomain&&this._updateYExtentsAndAutodomain()},a.prototype._adjustXDomainOnChangeFromY=function(){this._projectorsReady()&&this._autoAdjustXScaleDomain&&this._updateXExtentsAndAutodomain()},a.prototype._projectorsReady=function(){var t=this.x(),e=this.y();return null!=t&&null!=t.accessor&&null!=e&&null!=e.accessor},a.prototype._pixelPoint=function(t,e,n){var r=h.Plot._scaledAccessor(this.x()),i=h.Plot._scaledAccessor(this.y());return{x:r(t,e,n),y:i(t,e,n)}},a.prototype._getDataToDraw=function(){var u=this,t=s.prototype._getDataToDraw.call(this),c=this.attr("defined");return this.datasets().forEach(function(s){t.set(s,t.get(s).filter(function(t,e){return n=t,r=e,i=s,o=h.Plot._scaledAccessor(u.x())(n,r,i),a=h.Plot._scaledAccessor(u.y())(n,r,i),(!c||!1!==c.accessor(n,r,i))&&l.Math.isValidNumber(o)&&l.Math.isValidNumber(a);var n,r,i,o,a}))}),t},a._X_KEY="x",a._Y_KEY="y",a);function a(){var i=s.call(this)||this;return i._autoAdjustXScaleDomain=!1,i._autoAdjustYScaleDomain=!1,i._deferredRendering=!1,i._applyDeferredRenderingTransform=function(t,e,n,r){i._isAnchored&&(null!=i._renderArea&&i._renderArea.attr("transform","translate("+t+", "+e+") scale("+n+", "+r+")"),null!=i._canvas&&i._canvas.style("transform","translate("+t+"px, "+e+"px) scale("+n+", "+r+")"))},i.addClass("xy-plot"),i._adjustYDomainOnChangeFromXCallback=function(t){return i._adjustYDomainOnChangeFromX()},i._adjustXDomainOnChangeFromYCallback=function(t){return i._adjustXDomainOnChangeFromY()},i._renderCallback=function(){var t,e;i.deferredRendering()?(t=i.x()&&i.x().scale,e=i.y()&&i.y().scale,i._deferredRenderer.updateDomains(t,e)):i.render()},i._deferredRenderer=new o.DeferredRenderer(function(){return i.render()},i._applyDeferredRenderingTransform),i}e.XYPlot=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=(o.prototype.extentOfValues=function(t){return[]},o.prototype._getAllIncludedValues=function(n){var r=this;void 0===n&&(n=!1);var i=[];return this._includedValuesProviders.forEach(function(t){var e=t(r,n);i=i.concat(e)}),i},o.prototype._getExtent=function(){return[]},o.prototype.onUpdate=function(t){return this._callbacks.add(t),this},o.prototype.offUpdate=function(t){return this._callbacks.delete(t),this},o.prototype._dispatchUpdate=function(){this._updateId++,this._callbacks.callCallbacks(this)},o.prototype.autoDomain=function(){return this._autoDomainAutomatically=!0,this._setDomain(this._getExtent()),this},o.prototype.autoDomainIfAutomaticMode=function(){this._autoDomainAutomatically&&this.autoDomain()},o.prototype.scale=function(t){throw new Error("Subclasses should override scale")},o.prototype.ticks=function(){return this.domain()},o.prototype.domain=function(t){return null==t?this._getDomain():(this._autoDomainAutomatically=!1,this._setDomain(t),this)},o.prototype._getDomain=function(){throw new Error("Subclasses should override _getDomain")},o.prototype._setDomain=function(t){this._domainModificationInProgress||(this._domainModificationInProgress=!0,this._backingScaleDomain(t),this._dispatchUpdate(),this._domainModificationInProgress=!1)},o.prototype._backingScaleDomain=function(t){throw new Error("Subclasses should override _backingDomain")},o.prototype.range=function(t){return null==t?this._getRange():(this._setRange(t),this)},o.prototype._getRange=function(){throw new Error("Subclasses should override _getRange")},o.prototype._setRange=function(t){throw new Error("Subclasses should override _setRange")},o.prototype.addIncludedValuesProvider=function(t){return this._includedValuesProviders.add(t),this.autoDomainIfAutomaticMode(),this},o.prototype.removeIncludedValuesProvider=function(t){return this._includedValuesProviders.delete(t),this.autoDomainIfAutomaticMode(),this},o.prototype.updateId=function(){return this._updateId},o);function o(){this._autoDomainAutomatically=!0,this._domainModificationInProgress=!1,this._updateId=0,this._callbacks=new r.CallbackSet,this._includedValuesProviders=new r.Set}e.Scale=i},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var c=e(2),n=(r.prototype.getDrawStep=function(){return this._drawStep},r.prototype.draw=function(t,e){var n=e[e.length-1].attrToAppliedProjector;this._context.save(),this._drawStep(this._context,t,n),this._context.restore()},r.prototype.getVisualPrimitives=function(){return[]},r.prototype.getVisualPrimitiveAtIndex=function(t){return null},r.prototype.remove=function(){},r);function r(t,e){this._context=t,this._drawStep=e}function o(t,e,n,r){for(var i={},o=0,a=e;o<a.length;o++){var s=a[o];t.hasOwnProperty(s)&&(i[s]=t[s](n,r))}return i}function l(t){return null!=t["stroke-width"]?parseFloat(t["stroke-width"]):1}function h(t){var e=t["stroke-dasharray"];if(null!=e)try{return e.split(/[ ,]+/).map(function(t){return parseInt(t,10)})}catch(t){return console.error("getStrokeDashArray failed with: "+t),[]}return[]}function a(t,e){var n,r,i,o,a,s,u;e.stroke&&(t.lineWidth=l(e),n=c.color(e.stroke),r=h(e),t.setLineDash(r),n.opacity*=(o=null!=(i=e).opacity?parseFloat(i.opacity):1,(null!=i["stroke-opacity"]?parseFloat(i["stroke-opacity"]):1)*o),t.strokeStyle=n.toString(),t.stroke()),e.fill&&((a=c.color(e.fill)).opacity*=(u=null!=(s=e).opacity?parseFloat(s.opacity):1,(null!=s["fill-opacity"]?parseFloat(s["fill-opacity"]):1)*u),t.fillStyle=a.toString(),t.fill())}i.CanvasDrawer=n,i.ContextStyleAttrs=["fill-opacity","fill","opacity","stroke-opacity","stroke-width","stroke","stroke-dasharray"],i.resolveAttributesSubsetWithStyles=function(t,e,n,r){return o(t,i.ContextStyleAttrs.concat(e),n,r)},i.resolveAttributes=o,i.getStrokeWidth=l,i.getStrokeDashArray=h,i.renderArea=function(t,e,n,r){t.save(),t.beginPath(),e.context(t),e(n),t.lineJoin="round",a(t,r),t.restore()},i.renderLine=function(t,e,n,r){t.save(),t.beginPath(),e.context(t),e(n),t.lineJoin="round",a(t,r),t.restore()},i.renderPathWithStyle=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);r.__exportStar(n(54),e),r.__exportStar(n(28),e),r.__exportStar(n(55),e),r.__exportStar(n(99),e),r.__exportStar(n(57),e),r.__exportStar(n(100),e),r.__exportStar(n(101),e),r.__exportStar(n(102),e),r.__exportStar(n(103),e),r.__exportStar(n(104),e),r.__exportStar(n(105),e),r.__exportStar(n(106),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);r.__exportStar(n(97),e),r.__exportStar(n(98),e),r.__exportStar(n(96),e);var i=n(53);e.sign=i.sign},function(t,n,e){"use strict";function r(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}Object.defineProperty(n,"__esModule",{value:!0}),r(e(141)),r(e(142)),r(e(143)),r(e(144))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),b=n(2),i=n(5),o=n(6),a=n(7),x=n(1),s=n(11);e.AxisOrientation=s.makeEnum(["bottom","left","right","top"]);var u,c=(u=o.Component,r.__extends(w,u),w.prototype.destroy=function(){u.prototype.destroy.call(this),this._scale.offUpdate(this._rescaleCallback)},w.prototype.tickLabelDataOnElement=function(t){if(null!=t){for(var e;null!=t&&t.classList&&void 0===e;)t.classList.contains(w.TICK_LABEL_CLASS)?e=t:t=t.parentNode;return void 0===t?void 0:b.select(t).datum()}},w.prototype._computeWidth=function(){return this._maxLabelTickLength()},w.prototype._computeHeight=function(){return this._maxLabelTickLength()},w.prototype.requestedSpace=function(t,e){var n=0,r=0;return this.isHorizontal()?(r=this._computeHeight()+this._margin,this.annotationsEnabled()&&(r+=(this._annotationMeasurer.measure().height+2*w._ANNOTATION_LABEL_PADDING)*this.annotationTierCount())):(n=this._computeWidth()+this._margin,this.annotationsEnabled()&&(n+=(this._annotationMeasurer.measure().height+2*w._ANNOTATION_LABEL_PADDING)*this.annotationTierCount())),{minWidth:n,minHeight:r}},w.prototype.fixedHeight=function(){return this.isHorizontal()},w.prototype.fixedWidth=function(){return!this.isHorizontal()},w.prototype._rescale=function(){this.render()},w.prototype.computeLayout=function(t,e,n){return u.prototype.computeLayout.call(this,t,e,n),this.isHorizontal()?this._scale.range([0,this.width()]):this._scale.range([this.height(),0]),this},w.prototype._sizeFromOffer=function(t,e){var n=this.requestedSpace(t,e);return this.isHorizontal()?{width:t,height:n.minHeight}:{height:e,width:n.minWidth}},w.prototype._setup=function(){u.prototype._setup.call(this),this._tickMarkContainer=this.content().append("g").classed(w.TICK_MARK_CLASS+"-container",!0),this._tickLabelContainer=this.content().append("g").classed(w.TICK_LABEL_CLASS+"-container",!0),this._baseline=this.content().append("line").classed("baseline",!0),this._annotationContainer=this.content().append("g").classed("annotation-container",!0),this._annotationContainer.append("g").classed("annotation-line-container",!0),this._annotationContainer.append("g").classed("annotation-circle-container",!0),this._annotationContainer.append("g").classed("annotation-rect-container",!0);var t=this._annotationContainer.append("g").classed("annotation-label-container",!0),e=new i.SvgContext(t.node());this._annotationMeasurer=new i.CacheMeasurer(e),this._annotationWriter=new i.Writer(this._annotationMeasurer,e)},w.prototype._getTickValues=function(){return[]},w.prototype.renderImmediately=function(){var t=this._getTickValues(),e=this._tickMarkContainer.selectAll("."+w.TICK_MARK_CLASS).data(t),n=e.enter().append("line").classed(w.TICK_MARK_CLASS,!0).merge(e);return n.attrs(this._generateTickMarkAttrHash()),b.select(n.nodes()[0]).classed(w.END_TICK_MARK_CLASS,!0).attrs(this._generateTickMarkAttrHash(!0)),b.select(n.nodes()[t.length-1]).classed(w.END_TICK_MARK_CLASS,!0).attrs(this._generateTickMarkAttrHash(!0)),e.exit().remove(),this._baseline.attrs(this._generateBaselineAttrHash()),this.annotationsEnabled()?this._drawAnnotations():this._removeAnnotations(),this},w.prototype.annotatedTicks=function(t){return null==t?this._annotatedTicks:(this._annotatedTicks=t,this.render(),this)},w.prototype.annotationFormatter=function(t){return null==t?this._annotationFormatter:(this._annotationFormatter=t,this.render(),this)},w.prototype.annotationsEnabled=function(t){return null==t?this._annotationsEnabled:(this._annotationsEnabled=t,this.redraw(),this)},w.prototype.annotationTierCount=function(t){if(null==t)return this._annotationTierCount;if(t<0)throw new Error("annotationTierCount cannot be negative");return this._annotationTierCount=t,this.redraw(),this},w.prototype._drawAnnotations=function(){var r=this,i=w._ANNOTATION_LABEL_PADDING,o=new x.Map,a=this._annotatedTicksToRender();a.forEach(function(t){var e=r._annotationMeasurer.measure(r.annotationFormatter()(t)),n={width:e.width+2*i,height:e.height+2*i};o.set(t,n)});var t,e=this._annotationMeasurer.measure().height+2*i,n=this._annotationToTier(o),s=new x.Set,u=this.isHorizontal()?this.height():this.width(),c=this._coreSize(),l=Math.min(this.annotationTierCount(),Math.floor((u-c)/e));function h(t,e,n){var r=t.selectAll("."+n).data(a),i=r.enter().append(e).classed(n,!0).merge(r);return r.exit().remove(),i}function p(t){switch(r.orientation()){case"bottom":case"right":return n.get(t)*e+c;case"top":case"left":return u-c-n.get(t)*e}}function f(t){return r._scale.scale(t)}function d(t){return s.has(t)?"hidden":"visible"}switch(n.forEach(function(t,e){(-1===t||l<=t)&&s.add(e)}),this.orientation()){case"bottom":case"right":t=0;break;case"top":t=this.height();break;case"left":t=this.width()}var _=this.isHorizontal();function y(t){switch(r.orientation()){case"bottom":case"right":return p(t);case"top":case"left":return p(t)-o.get(t).height}}h(this._annotationContainer.select(".annotation-line-container"),"line",w.ANNOTATION_LINE_CLASS).attrs({x1:_?f:t,x2:_?f:p,y1:_?t:f,y2:_?p:f,visibility:d}),h(this._annotationContainer.select(".annotation-circle-container"),"circle",w.ANNOTATION_CIRCLE_CLASS).attrs({cx:_?f:t,cy:_?t:f,r:3}),h(this._annotationContainer.select(".annotation-rect-container"),"rect",w.ANNOTATION_RECT_CLASS).attrs({x:_?f:y,y:_?y:f,width:_?function(t){return o.get(t).width}:function(t){return o.get(t).height},height:_?function(t){return o.get(t).height}:function(t){return o.get(t).width},visibility:d});var m=this._annotationWriter,g=this.annotationFormatter(),v=h(this._annotationContainer.select(".annotation-label-container"),"g",w.ANNOTATION_LABEL_CLASS);v.selectAll(".text-container").remove(),v.attrs({transform:function(t){return"translate("+(_?f:y)(t)+","+(_?y:f)(t)+")"},visibility:d}).each(function(t){m.write(g(t),_?o.get(t).width:o.get(t).height,_?o.get(t).height:o.get(t).width,{xAlign:"center",yAlign:"center",textRotation:_?0:90},b.select(this).node())})},w.prototype._annotatedTicksToRender=function(){var e=this,n=this._scale.range();return x.Array.uniq(this.annotatedTicks().filter(function(t){return null!=t&&x.Math.inRange(e._scale.scale(t),n[0],n[1])}))},w.prototype._coreSize=function(){var t=this.isHorizontal()?this.height():this.width(),e=this.isHorizontal()?this._computeHeight():this._computeWidth();return Math.min(e,t)},w.prototype._annotationTierHeight=function(){return this._annotationMeasurer.measure().height+2*w._ANNOTATION_LABEL_PADDING},w.prototype._annotationToTier=function(o){var a=this,n=[[]],s=new x.Map,u=this.isHorizontal()?this.width():this.height();return this._annotatedTicksToRender().forEach(function(t){var r=a._scale.scale(t),i=o.get(t).width;if(r<0||u<r+i)s.set(t,-1);else{for(var e=0;n[e].some(function(t){var e=a._scale.scale(t),n=o.get(t).width;return e<=r+i&&r<=e+n});)e++,n.length===e&&n.push([]);n[e].push(t),s.set(t,e)}}),s},w.prototype._removeAnnotations=function(){this._annotationContainer.selectAll(".annotation-line").remove(),this._annotationContainer.selectAll(".annotation-circle").remove(),this._annotationContainer.selectAll(".annotation-rect").remove(),this._annotationContainer.selectAll(".annotation-label").remove()},w.prototype._generateBaselineAttrHash=function(){var t={x1:0,y1:0,x2:0,y2:0};switch(this._orientation){case"bottom":t.x2=this.width();break;case"top":t.x2=this.width(),t.y1=this.height(),t.y2=this.height();break;case"left":t.x1=this.width(),t.x2=this.width(),t.y2=this.height();break;case"right":t.y2=this.height()}return t},w.prototype._generateTickMarkAttrHash=function(t){var e=this;function n(t){return e._scale.scale(t)}void 0===t&&(t=!1);var r={x1:0,y1:0,x2:0,y2:0};this.isHorizontal()?(r.x1=n,r.x2=n):(r.y1=n,r.y2=n);var i=t?this._endTickLength:this._innerTickLength;switch(this._orientation){case"bottom":r.y2=i;break;case"top":r.y1=this.height(),r.y2=this.height()-i;break;case"left":r.x1=this.width(),r.x2=this.width()-i;break;case"right":r.x2=i}return r},w.prototype._setDefaultAlignment=function(){switch(this._orientation){case"bottom":this.yAlignment("top");break;case"top":this.yAlignment("bottom");break;case"left":this.xAlignment("right");break;case"right":this.xAlignment("left")}},w.prototype.isHorizontal=function(){return"top"===this._orientation||"bottom"===this._orientation},w.prototype.getScale=function(){return this._scale},w.prototype.formatter=function(t){return null==t?this._formatter:(this._formatter=t,this.redraw(),this)},w.prototype.innerTickLength=function(t){if(null==t)return this._innerTickLength;if(t<0)throw new Error("inner tick length must be positive");return this._innerTickLength=t,this.redraw(),this},w.prototype.endTickLength=function(t){if(null==t)return this._endTickLength;if(t<0)throw new Error("end tick length must be positive");return this._endTickLength=t,this.redraw(),this},w.prototype._maxLabelTickLength=function(){return this.showEndTickLabels()?Math.max(this.innerTickLength(),this.endTickLength()):this.innerTickLength()},w.prototype.tickLabelPadding=function(t){if(null==t)return this._tickLabelPadding;if(t<0)throw new Error("tick label padding must be positive");return this._tickLabelPadding=t,this.redraw(),this},w.prototype.margin=function(t){if(null==t)return this._margin;if(t<0)throw new Error("margin size must be positive");return this._margin=t,this.redraw(),this},w.prototype.orientation=function(t){if(null==t)return this._orientation;var e=t.toLowerCase();if("top"!==e&&"bottom"!==e&&"left"!==e&&"right"!==e)throw new Error("unsupported orientation");return this._orientation=e,this.redraw(),this},w.prototype.showEndTickLabels=function(t){return null==t?this._showEndTickLabels:(this._showEndTickLabels=t,this.render(),this)},w.prototype._showAllTickMarks=function(){this._tickMarkContainer.selectAll("."+w.TICK_MARK_CLASS).each(function(){b.select(this).style("visibility","inherit")})},w.prototype._showAllTickLabels=function(){this._tickLabelContainer.selectAll("."+w.TICK_LABEL_CLASS).each(function(){b.select(this).style("visibility","inherit")})},w.prototype._hideOverflowingTickLabels=function(){var n=this.element().node().getBoundingClientRect(),t=this._tickLabelContainer.selectAll("."+w.TICK_LABEL_CLASS);t.empty()||t.each(function(t,e){x.DOM.clientRectInside(this.getBoundingClientRect(),n)||b.select(this).style("visibility","hidden")})},w.prototype._hideTickMarksWithoutLabel=function(){var t=this._tickMarkContainer.selectAll("."+w.TICK_MARK_CLASS),n=this._tickLabelContainer.selectAll("."+w.TICK_LABEL_CLASS).filter(function(t,e){var n=b.select(this).style("visibility");return"inherit"===n||"visible"===n}).data();t.each(function(t,e){-1===n.indexOf(t)&&b.select(this).style("visibility","hidden")})},w.prototype.invalidateCache=function(){u.prototype.invalidateCache.call(this),this._annotationMeasurer.reset()},w.END_TICK_MARK_CLASS="end-tick-mark",w.TICK_MARK_CLASS="tick-mark",w.TICK_LABEL_CLASS="tick-label",w.ANNOTATION_LINE_CLASS="annotation-line",w.ANNOTATION_RECT_CLASS="annotation-rect",w.ANNOTATION_CIRCLE_CLASS="annotation-circle",w.ANNOTATION_LABEL_CLASS="annotation-label",w._ANNOTATION_LABEL_PADDING=4,w);function w(t,e){var n=u.call(this)||this;if(n._endTickLength=5,n._innerTickLength=5,n._tickLabelPadding=10,n._margin=15,n._showEndTickLabels=!1,n._annotationsEnabled=!1,n._annotationTierCount=1,null==t||null==e)throw new Error("Axis requires a scale and orientation");return n._scale=t,n.orientation(e),n._setDefaultAlignment(),n.addClass("axis"),n.isHorizontal()?n.addClass("x-axis"):n.addClass("y-axis"),n.formatter(a.identity()),n._rescaleCallback=function(t){return n._rescale()},n._scale.onUpdate(n._rescaleCallback),n._annotatedTicks=[],n._annotationFormatter=a.identity(),n}e.Axis=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHOW_WARNINGS=!0,e.ADD_TITLE_ELEMENTS=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=(o.prototype._hasNoCallbacks=function(){for(var t=Object.keys(this._eventNameToCallbackSet),e=0;e<t.length;e++)if(0!==this._eventNameToCallbackSet[t[e]].size)return!1;return!0},o.prototype._connect=function(){var r=this;this._connected||(Object.keys(this._eventToProcessingFunction).forEach(function(t){var e=r._eventToProcessingFunction[t],n="wheel"===t?{passive:!1}:void 0;r._eventTarget.addEventListener(t,e,n)}),this._connected=!0)},o.prototype._disconnect=function(){var n=this;this._connected&&this._hasNoCallbacks()&&(Object.keys(this._eventToProcessingFunction).forEach(function(t){var e=n._eventToProcessingFunction[t];n._eventTarget.removeEventListener(t,e)}),this._connected=!1)},o.prototype._addCallbackForEvent=function(t,e){null==this._eventNameToCallbackSet[t]&&(this._eventNameToCallbackSet[t]=new r.CallbackSet),this._eventNameToCallbackSet[t].add(e),this._connect()},o.prototype._removeCallbackForEvent=function(t,e){null!=this._eventNameToCallbackSet[t]&&this._eventNameToCallbackSet[t].delete(e),this._disconnect()},o.prototype._callCallbacksForEvent=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this._eventNameToCallbackSet[t];null!=r&&r.callCallbacks.apply(r,e)},o);function o(){this._eventToProcessingFunction={},this._eventTarget=document,this._eventNameToCallbackSet={},this._connected=!1}e.Dispatcher=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);r.__exportStar(n(92),e),r.__exportStar(n(93),e),r.__exportStar(n(43),e),r.__exportStar(n(94),e),r.__exportStar(n(95),e);var i=n(27);e.zoomOut=i.zoomOut},function(t,e,n){"use strict";function g(t,e,n){return n-(n-t)*e}function v(t,e,n){return(t*e-n)/(e-1)}function s(t,e,n,r){var i=1<e,o=i?r:n;if(null==o)return e;var a=t.getTransformationDomain(),s=a[0],u=a[1],c=Math.abs(u-s);return(i?Math.min:Math.max)(e,o/c)}function u(t,e,n,r,i){if(e<=1)return{centerPoint:n,zoomAmount:e};if(null==r&&null==i)return{centerPoint:n,zoomAmount:e};var o,a=b(t),s=(o=t.getTransformationDomain())[1]<o[0];r=null==r?s?1/0:-1/0:r,i=null==i?s?-1/0:1/0:i;var u=t.getTransformationDomain(),c=u[0],l=u[1],h=t.scaleTransformation(i),p=t.scaleTransformation(l),f=g(p,e,n),d=t.scaleTransformation(r),_=t.scaleTransformation(c),y=g(_,e,n);if(Math.abs(h-d)<Math.abs(f-y)){var m=(h-d)/(p-_);return 1==m?{centerPoint:n,zoomAmount:m}:{centerPoint:v(p,m,h),zoomAmount:m}}return h<f!=a?{centerPoint:v(p,e,h),zoomAmount:e}:y<d!=a?{centerPoint:v(_,e,d),zoomAmount:e}:{centerPoint:n,zoomAmount:e}}function b(t){var e=t.range();return e[1]<e[0]}Object.defineProperty(e,"__esModule",{value:!0}),e.zoomOut=g,e.constrainedZoom=function(t,e,n,r,i,o,a){return u(t,e=s(t,e,r,i),n,o,a)},e.constrainZoomExtents=s,e.constrainZoomValues=u,e.constrainedTranslation=function(t,e,n,r){var i,o,a,s,u,c=t.getTransformationDomain(),l=c[0],h=c[1],p=b(t);return 0<e!==p?null!=(a=r)&&(i=t.scaleTransformation(h),o=t.scaleTransformation(a),e=(p?Math.max:Math.min)(i+e,o)-i):null!=(a=n)&&(s=t.scaleTransformation(l),u=t.scaleTransformation(a),e=(p?Math.min:Math.max)(s+e,u)-s),e}},function(t,d,e){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var n=e(0),c=e(2),a=e(5),r=e(9),i=e(7),o=e(15),s=e(8),u=e(36),l=e(21),h=e(4),p=e(12),f=e(1),_=e(11),y=e(20),m=e(3),g=e(17);d.BarOrientation=_.makeEnum(["vertical","horizontal"]),d.LabelsPosition=_.makeEnum(["start","middle","end","outside"]),d.BarAlignment=_.makeEnum(["start","middle","end"]);var v,b=(v=g.XYPlot,n.__extends(x,v),x.prototype.computeLayout=function(t,e,n){return v.prototype.computeLayout.call(this,t,e,n),this._updateExtents(),this},x.prototype.x=function(t,e){return null==t?v.prototype.x.call(this):(null==e?v.prototype.x.call(this,t):v.prototype.x.call(this,t,e),this._updateThicknessAttr(),this._updateLengthScale(),this)},x.prototype.y=function(t,e){return null==t?v.prototype.y.call(this):(null==e?v.prototype.y.call(this,t):v.prototype.y.call(this,t,e),this._updateLengthScale(),this)},x.prototype.length=function(){return this._isVertical?this.y():this.x()},x.prototype.position=function(){return this._isVertical?this.x():this.y()},x.prototype.barEnd=function(t){if(null==t)return this._propertyBindings.get(x._BAR_END_KEY);var e=this.position(),n=e&&e.scale;return this._bindProperty(x._BAR_END_KEY,t,n),this._updateThicknessAttr(),this._updateLengthScale(),this.render(),this},x.prototype.barAlignment=function(t){return null==t?this._barAlignment:(this._barAlignment=t,this._clearAttrToProjectorCache(),this.render(),this)},x.prototype.orientation=function(){return this._isVertical?"vertical":"horizontal"},x.prototype._createDrawer=function(){return new s.ProxyDrawer(function(){return new u.RectangleSVGDrawer(x._BAR_AREA_CLASS)},function(t){return new o.RectangleCanvasDrawer(t)})},x.prototype._setup=function(){v.prototype._setup.call(this),this._baseline=this._renderArea.append("line").classed("baseline",!0)},x.prototype.baselineValue=function(t){if(null!=t)return this._baselineValue=t,this._updateLengthScale(),this._clearAttrToProjectorCache(),this.render(),this;if(null!=this._baselineValue)return this._baselineValue;if(!this._projectorsReady())return 0;var e=this.length().scale;return e&&e instanceof h.Time?new Date(0):0},x.prototype.addDataset=function(t){return v.prototype.addDataset.call(this,t),this},x.prototype._addDataset=function(t){return v.prototype._addDataset.call(this,t),this},x.prototype.removeDataset=function(t){return v.prototype.removeDataset.call(this,t),this},x.prototype._removeDataset=function(t){return v.prototype._removeDataset.call(this,t),this},x.prototype.datasets=function(t){return null==t?v.prototype.datasets.call(this):(v.prototype.datasets.call(this,t),this)},x.prototype.labelsEnabled=function(t,e){return null==t?this._labelsEnabled:(this._labelsEnabled=t,null!=e&&(this._labelsPosition=e),this._clearAttrToProjectorCache(),this.render(),this)},x.prototype.labelFormatter=function(t){return null==t?this._labelFormatter:(this._labelFormatter=t,this._clearAttrToProjectorCache(),this.render(),this)},x.prototype._createNodesForDataset=function(t){var e=v.prototype._createNodesForDataset.call(this,t),n=this._renderArea.append("g").classed(x._LABEL_AREA_CLASS,!0),r=new a.SvgContext(n.node()),i=new a.CacheMeasurer(r),o=new a.Writer(i,r);return this._labelConfig.set(t,{labelArea:n,measurer:i,writer:o}),e},x.prototype._removeDatasetNodes=function(t){v.prototype._removeDatasetNodes.call(this,t);var e=this._labelConfig.get(t);null!=e&&(e.labelArea.remove(),this._labelConfig.delete(t))},x.prototype.entityNearest=function(e){function t(){var t=n._isVertical?n._getEntityStore().entityNearestX(e):n._getEntityStore().entityNearestY(e);return void 0===t?void 0:n._lightweightPlotEntityToPlotEntity(t)}var n=this;return this._fixedBarPixelThickness?this._computeBarPixelThickness.doLocked(t):t()},x.prototype.entitiesAt=function(t){function e(){return n._entitiesIntersecting(t.x,t.y)}var n=this;return this._fixedBarPixelThickness?this._computeBarPixelThickness.doLocked(e):e()},x.prototype.entitiesInBounds=function(t){function e(){return v.prototype.entitiesInBounds.call(n,t)}var n=this;return this._fixedBarPixelThickness?this._computeBarPixelThickness.doLocked(e):e()},x.prototype.entitiesInXBounds=function(t){function e(){return v.prototype.entitiesInXBounds.call(n,t)}var n=this;return this._fixedBarPixelThickness?this._computeBarPixelThickness.doLocked(e):e()},x.prototype.entitiesInYBounds=function(t){function e(){return v.prototype.entitiesInYBounds.call(n,t)}var n=this;return this._fixedBarPixelThickness?this._computeBarPixelThickness.doLocked(e):e()},x.prototype._entitiesIntersecting=function(t,e){for(var n=[],r=this._getEntityStore().entities(),i=r.length,o=0;o<i;o++){var a=r[o];f.DOM.intersectsBBox(t,e,this._entityBounds(a))&&n.push(this._lightweightPlotEntityToPlotEntity(a))}return n},x.prototype._updateLengthScale=function(){var t;!this._projectorsReady()||(t=this.length().scale)instanceof p.QuantitativeScale&&(t.addPaddingExceptionsProvider(this._baselineValueProvider),t.addIncludedValuesProvider(this._baselineValueProvider))},x.prototype.renderImmediately=function(){var t=this;return this._barPixelThickness(),this._computeBarPixelThickness.doLocked(function(){return v.prototype.renderImmediately.call(t)})},x.prototype._additionalPaint=function(t){var e=this,n=this.length().scale.scale(this.baselineValue()),r={x1:this._isVertical?0:n,y1:this._isVertical?n:0,x2:this._isVertical?this.width():n,y2:this._isVertical?n:this.height()};this._getAnimator("baseline").animate(this._baseline,r),this.datasets().forEach(function(t){return e._labelConfig.get(t).labelArea.selectAll("g").remove()}),this._labelsEnabled&&f.Window.setTimeout(function(){return e._drawLabels()},t)},x.prototype.getExtentsForProperty=function(t){var e,n=this,r=v.prototype.getExtentsForProperty.call(this,t);if("x"===t&&this._isVertical)e=this.x();else{if("y"!==t||this._isVertical)return r;e=this.y()}if(!(e&&e.scale&&e.scale instanceof p.QuantitativeScale))return r;var i=e.scale,o=this._barPixelThickness();return r=r.map(function(t){return c.extent([i.invert(n._getPositionAttr(i.scale(t[0]),o)),i.invert(n._getPositionAttr(i.scale(t[0]),o)+o),i.invert(n._getPositionAttr(i.scale(t[1]),o)),i.invert(n._getPositionAttr(i.scale(t[1]),o)+o)])})},x.prototype._getPositionAttr=function(t,e){switch(this._isVertical||(t-=e,e*=-1),this._barAlignment){case"start":return t;case"end":return t-e;case"middle":default:return t-e/2}},x.prototype._drawLabels=function(){var r=this,t=this._getDataToDraw(),i=this._getAttrToProjector(),e=this.datasets().some(function(n){return t.get(n).some(function(t,e){return null!=t&&r._drawLabel(t,e,n,i)})});this._hideBarsIfAnyAreTooWide&&e&&this.datasets().forEach(function(t){return r._labelConfig.get(t).labelArea.selectAll("g").remove()})},x.prototype._drawLabel=function(t,e,n,r){var i=this._labelConfig.get(n),o=i.labelArea,a=i.measurer,s=i.writer,u=(0,this.length().accessor)(t,e,n),c=this.length().scale,l=null!=c?c.scale(u):u,h=null!=c?c.scale(this.baselineValue()):this.baselineValue(),p={x:r.x(t,e,n),y:r.y(t,e,n)},f={width:r.width(t,e,n),height:r.height(t,e,n)},d=this._labelFormatter(u,t,e,n),_=a.measure(d),y=this._shouldShowLabelOnBar(p,f,_),m=this._isVertical?l<=h:l<h,g=this._calculateLabelProperties(p,f,_,y,m),v=g.containerDimensions,b=g.labelContainerOrigin,x=g.labelOrigin,w=g.alignment,E=r.fill(t,e,n),A=this._createLabelContainer(o,b,x,_,y,E),S={xAlign:w.x,yAlign:w.y};return s.write(d,v.width,v.height,S,A.node()),this._isVertical?f.width<_.width:f.height<_.height},x.prototype._shouldShowLabelOnBar=function(t,e,n){if(this._labelsPosition===d.LabelsPosition.outside)return!1;var r=this._isVertical?t.y:t.x,i=this._isVertical?e.height:e.width,o=this._isVertical?this.height():this.width(),a=r+i,s=i;return o<a?s=o-r:r<0&&(s=a),(this._isVertical?n.height:n.width)+x._LABEL_MARGIN_INSIDE_BAR<=s},x.prototype._calculateLabelProperties=function(t,e,n,r,i){function o(t){switch(t){case"topLeft":return l=a._isVertical?"top":"left",p+=x._LABEL_MARGIN_INSIDE_BAR,void(f+=x._LABEL_MARGIN_INSIDE_BAR);case"center":return void(f+=(u+c)/2);case"bottomRight":return l=a._isVertical?"bottom":"right",p-=x._LABEL_MARGIN_INSIDE_BAR,void(f+=h-x._LABEL_MARGIN_INSIDE_BAR-c)}}var a=this,s=this._isVertical?t.y:t.x,u=this._isVertical?e.height:e.width,c=this._isVertical?n.height:n.width,l="center",h=u,p=s,f=s;if(r)switch(this._labelsPosition){case d.LabelsPosition.start:o(i?"bottomRight":"topLeft");break;case d.LabelsPosition.middle:o("center");break;case d.LabelsPosition.end:o(i?"topLeft":"bottomRight")}else i?(l=this._isVertical?"top":"left",h=u+x._LABEL_MARGIN_INSIDE_BAR+c,p-=x._LABEL_MARGIN_INSIDE_BAR+c,f-=x._LABEL_MARGIN_INSIDE_BAR+c):(l=this._isVertical?"bottom":"right",h=u+x._LABEL_MARGIN_INSIDE_BAR+c,f+=u+x._LABEL_MARGIN_INSIDE_BAR);return{containerDimensions:{width:this._isVertical?e.width:h,height:this._isVertical?h:e.height},labelContainerOrigin:{x:this._isVertical?t.x:p,y:this._isVertical?p:t.y},labelOrigin:{x:this._isVertical?t.x+e.width/2-n.width/2:f,y:this._isVertical?f:t.y+e.height/2-n.height/2},alignment:{x:this._isVertical?"center":l,y:this._isVertical?l:"center"}}},x.prototype._createLabelContainer=function(t,e,n,r,i,o){var a,s=t.append("g").attr("transform","translate("+e.x+", "+e.y+")");return i?(s.classed("on-bar-label",!0),a=1.6*f.Color.contrast("white",o)<f.Color.contrast("black",o),s.classed(a?"dark-label":"light-label",!0)):s.classed("off-bar-label",!0),s},x.prototype._generateDrawSteps=function(){var t,e,n,r,i=[];return this._animateOnNextRender()&&(t=this._getAttrToProjector(),e=this.length().scale.scale(this.baselineValue()),n=this._isVertical?"y":"x",r=this._isVertical?"height":"width",t[n]=function(){return e},t[r]=function(){return 0},i.push({attrToProjector:t,animator:this._getAnimator(y.Animator.RESET)})),i.push({attrToProjector:this._getAttrToProjector(),animator:this._getAnimator(y.Animator.MAIN)}),i},x.prototype._generateAttrToProjector=function(){function t(t,e,n){return Math.abs(i-s(t,e,n))}var r=this,e=v.prototype._generateAttrToProjector.call(this),i=this.length().scale.scale(this.baselineValue()),n=this._isVertical?"y":"x",o=this._isVertical?"x":"y",a=m.Plot._scaledAccessor(this.position()),s=m.Plot._scaledAccessor(this.length()),u=e[x._BAR_THICKNESS_KEY],c=e.gap,l=null==c?u:function(t,e,n){var r=u(t,e,n);return r<x._BAR_GAPLESS_THRESHOLD_PX?r:r-c(t,e,n)};return e.width=this._isVertical?l:t,e.height=this._isVertical?t:l,e[n]=function(t,e,n){var r=s(t,e,n);return i<r?i:r},e[o]=function(t,e,n){return r._getPositionAttr(a(t,e,n),u(t,e,n))},e},x.prototype._updateThicknessAttr=function(){var t=this,o=this.position(),a=this.barEnd();null!=o&&null!=a?(this._fixedBarPixelThickness=!1,this.attr(x._BAR_THICKNESS_KEY,function(t,e,n){var r=o.accessor(t,e,n),i=a.accessor(t,e,n),r=o.scale?o.scale.scale(r):r,i=a.scale?a.scale.scale(i):i;return Math.abs(i-r)})):(this._fixedBarPixelThickness=!0,this.attr(x._BAR_THICKNESS_KEY,function(){return t._barPixelThickness()}))},x.prototype._barPixelThickness=function(){return this._fixedBarPixelThickness&&this._projectorsReady()?this._computeBarPixelThickness(this.position(),this.datasets(),this._isVertical?this.width():this.height()):0},x.prototype.entities=function(t){return void 0===t&&(t=this.datasets()),this._projectorsReady()?v.prototype.entities.call(this,t):[]},x.prototype._entityBounds=function(t){var e=t.datum,n=t.index,r=t.dataset;return this._pixelBounds(e,n,r)},x.prototype._pixelBounds=function(t,e,n){var r=this._getAttrToProjector();return{x:r.x(t,e,n),y:r.y(t,e,n),width:r.width(t,e,n),height:r.height(t,e,n)}},x.prototype._pixelPoint=function(t,e,n){var r=this._pixelBounds(t,e,n),i=(this._isVertical?m.Plot._scaledAccessor(this.y()):m.Plot._scaledAccessor(this.x()))(t,e,n),o=(this._isVertical?this.y().scale:this.x().scale).scale(this.baselineValue());return this._pixelPointBar(i,o,r)},x.prototype._pixelPointBar=function(t,e,n){var r,i=this._isVertical?(r=n.x+n.width/2,t<=e?n.y:n.y+n.height):(r=e<=t?n.x+n.width:n.x,n.y+n.height/2);return{x:r,y:i}},x.prototype._uninstallScaleForKey=function(t,e){v.prototype._uninstallScaleForKey.call(this,t,e)},x.prototype._getDataToDraw=function(){var r=this,e=new f.Map,i=this._getAttrToProjector(),o=this.width(),a=this.height();return this.datasets().forEach(function(n){var t=n.data().map(function(t,e){return r._isDatumOnScreen(i,o,a,t,e,n)?t:null});e.set(n,t)}),e},x.prototype._isDatumOnScreen=function(t,e,n,r,i,o){var a=t.x(r,i,o),s=t.y(r,i,o),u=t.width(r,i,o),c=t.height(r,i,o);return!!(f.Math.isValidNumber(a)&&f.Math.isValidNumber(s)&&f.Math.isValidNumber(u)&&f.Math.isValidNumber(c))&&f.Math.boundsIntersects(a,s,u,c,0,0,e,n)},x.prototype.invalidateCache=function(){var e=this;v.prototype.invalidateCache.call(this),this.datasets().forEach(function(t){return e._labelConfig.get(t).measurer.reset()})},x._BAR_THICKNESS_RATIO=.95,x._BAR_GAPLESS_THRESHOLD_PX=3,x._SINGLE_BAR_DIMENSION_RATIO=.4,x._BAR_AREA_CLASS="bar-area",x._BAR_END_KEY="barEnd",x._BAR_THICKNESS_KEY="width",x._LABEL_AREA_CLASS="bar-label-text-area",x._LABEL_MARGIN_INSIDE_BAR=10,x);function x(t){void 0===t&&(t="vertical");var e=v.call(this)||this;if(e._labelFormatter=i.identity(),e._labelsEnabled=!1,e._labelsPosition=d.LabelsPosition.end,e._hideBarsIfAnyAreTooWide=!0,e._barAlignment="middle",e._computeBarPixelThickness=l.memoize(w),e._fixedBarPixelThickness=!0,e.addClass("bar-plot"),"vertical"!==t&&"horizontal"!==t)throw new Error(t+" is not a valid orientation for Plots.Bar");return e._isVertical="vertical"===t,e.animator("baseline",new r.Null),e.attr("fill",(new h.Color).range()[0]),e.attr(x._BAR_THICKNESS_KEY,function(){return e._barPixelThickness()}),e._labelConfig=new f.Map,e._baselineValueProvider=function(){return[e.baselineValue()]},e}function w(t,e,n){var r,i,o,a,s,u=t.scale;return u instanceof h.Category?s=u.rangeBand():(r=t.accessor,(i=c.set(f.Array.flatten(e.map(function(n){return n.data().map(function(t,e){return r(t,e,n)}).filter(function(t){return null!=t}).map(function(t){return t.valueOf()})}))).values().map(function(t){return+t})).sort(function(t,e){return t-e}),o=i.map(function(t){return u.scale(t)}),a=c.pairs(o),s=f.Math.min(a,function(t,e){return Math.abs(t[1]-t[0])},n*b._SINGLE_BAR_DIMENSION_RATIO),s*=b._BAR_THICKNESS_RATIO),s}d.Bar=b},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}(e(146))},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e(0),d=e(2),i=e(5),o=e(7),a=e(4),_=e(1),s=e(11),y=e(23);n.TimeInterval=s.makeEnum(["second","minute","hour","day","week","month","year"]),n.TimeAxisOrientation=s.makeEnum(["top","bottom"]),n.TierLabelPosition=s.makeEnum(["between","center"]);var u,c,l=(u=y.Axis,r.__extends(h,u),h.prototype.tierLabelPositions=function(t){if(null==t)return this._tierLabelPositions;if(!t.every(function(t){return"between"===t.toLowerCase()||"center"===t.toLowerCase()}))throw new Error("Unsupported position for tier labels");return this._tierLabelPositions=t,this.redraw(),this},h.prototype.maxTimeIntervalPrecision=function(t){return null==t?this._maxTimeIntervalPrecision:(this._maxTimeIntervalPrecision=t,this.redraw(),this)},h.prototype.currentAxisConfiguration=function(){return this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex]},h.prototype.axisConfigurations=function(t){if(null==t)return this._possibleTimeAxisConfigurations;this._possibleTimeAxisConfigurations=t,this._numTiers=_.Math.max(this._possibleTimeAxisConfigurations.map(function(t){return t.length}),0),this._isAnchored&&this._setupDomElements();for(var e=this.tierLabelPositions(),n=[],r=0;r<this._numTiers;r++)n.push(e[r]||"between");return this.tierLabelPositions(n),this.redraw(),this},h.prototype._getMostPreciseConfigurationIndex=function(){var n=this,r=this._possibleTimeAxisConfigurations.length;return this._possibleTimeAxisConfigurations.forEach(function(t,e){e<r&&t.every(function(t){return n._checkTimeAxisTierConfiguration(t)})&&(r=e)}),r===this._possibleTimeAxisConfigurations.length&&(_.Window.warn("zoomed out too far: could not find suitable interval to display labels"),--r),r},h.prototype.orientation=function(t){if(t&&("right"===t.toLowerCase()||"left"===t.toLowerCase()))throw new Error(t+" is not a supported orientation for TimeAxis - only horizontal orientations are supported");return u.prototype.orientation.call(this,t)},h.prototype._computeHeight=function(){var t=this._measurer.measure().height;this._tierHeights=[];for(var e=0;e<this._numTiers;e++)this._tierHeights.push(t+this.tickLabelPadding()+("between"===this._tierLabelPositions[e]?0:this._maxLabelTickLength()));return d.sum(this._tierHeights)},h.prototype._getIntervalLength=function(t){var e=this._scale.domain()[0],n=a.Time.timeIntervalToD3Time(t.interval,this._useUTC).offset(e,t.step);return n>this._scale.domain()[1]?this.width():Math.abs(this._scale.scale(n)-this._scale.scale(e))},h.prototype._maxWidthForInterval=function(t){return this._measurer.measure(t.formatter(h._LONG_DATE)).width},h.prototype._checkTimeAxisTierConfiguration=function(t){if(null!=this._maxTimeIntervalPrecision){var e=h._SORTED_TIME_INTERVAL_INDEX[this._maxTimeIntervalPrecision],n=h._SORTED_TIME_INTERVAL_INDEX[t.interval];if(null!=e&&null!=n&&n<e)return!1}var r=this._maxWidthForInterval(t)+2*this.tickLabelPadding();return Math.min(this._getIntervalLength(t),this.width())>=r},h.prototype._sizeFromOffer=function(t,e){var i=u.prototype._sizeFromOffer.call(this,t,e),n=this._tierHeights.reduce(function(t,e,n,r){return t+e>i.height?t:t+e}),r=this.margin()+(this.annotationsEnabled()?this.annotationTierCount()*this._annotationTierHeight():0);return i.height=Math.min(i.height,n+r),i},h.prototype._setup=function(){u.prototype._setup.call(this),this._setupDomElements()},h.prototype._setupDomElements=function(){this.content().selectAll("."+h.TIME_AXIS_TIER_CLASS).remove(),this._tierLabelContainers=[],this._tierMarkContainers=[],this._tierBaselines=[],this._tickLabelContainer.remove(),this._baseline.remove();for(var t=0;t<this._numTiers;++t){var e=this.content().append("g").classed(h.TIME_AXIS_TIER_CLASS,!0);this._tierLabelContainers.push(e.append("g").classed(y.Axis.TICK_LABEL_CLASS+"-container",!0)),this._tierMarkContainers.push(e.append("g").classed(y.Axis.TICK_MARK_CLASS+"-container",!0)),this._tierBaselines.push(e.append("line").classed("baseline",!0))}var n=new i.SvgContext(this._tierLabelContainers[0].node());this._measurer=new i.CacheMeasurer(n)},h.prototype._getTickIntervalValues=function(t){return this._scale.tickInterval(t.interval,t.step,this._useUTC)},h.prototype._getTickValues=function(){var n=this;return this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex].reduce(function(t,e){return t.concat(n._getTickIntervalValues(e))},[])},h.prototype._cleanTiers=function(){for(var t=0;t<this._tierLabelContainers.length;t++)this._tierLabelContainers[t].selectAll("."+y.Axis.TICK_LABEL_CLASS).remove(),this._tierMarkContainers[t].selectAll("."+y.Axis.TICK_MARK_CLASS).remove(),this._tierBaselines[t].style("visibility","hidden")},h.prototype._getTickValuesForConfiguration=function(t){var e=this._scale.tickInterval(t.interval,t.step,this._useUTC),n=this._scale.domain(),r=e.map(function(t){return t.valueOf()});return-1===r.indexOf(n[0].valueOf())&&e.unshift(n[0]),-1===r.indexOf(n[1].valueOf())&&e.push(n[1]),e},h.prototype._renderTierLabels=function(t,e,n){var r=this,i=this._getTickValuesForConfiguration(e),o=[];"between"===this._tierLabelPositions[n]&&1===e.step?i.map(function(t,e){e+1>=i.length||o.push(new Date((i[e+1].valueOf()-i[e].valueOf())/2+i[e].valueOf()))}):o=i;var a=t.selectAll("."+y.Axis.TICK_LABEL_CLASS).data(o,function(t){return String(t.valueOf())}),s=a.enter().append("g").classed(y.Axis.TICK_LABEL_CLASS,!0);s.append("text");var u="center"===this._tierLabelPositions[n]||1===e.step?0:this.tickLabelPadding(),c="bottom"===this.orientation()?d.sum(this._tierHeights.slice(0,n+1))-this.tickLabelPadding():"center"===this._tierLabelPositions[n]?this.height()-d.sum(this._tierHeights.slice(0,n))-this.tickLabelPadding()-this._maxLabelTickLength():this.height()-d.sum(this._tierHeights.slice(0,n))-this.tickLabelPadding(),l=a.merge(s),h=l.selectAll("text");0<h.size()&&h.attr("transform","translate("+u+","+c+")"),a.exit().remove(),l.attr("transform",function(t){return"translate("+r._scale.scale(t)+",0)"});var p="center"===this._tierLabelPositions[n]||1===e.step?"middle":"start";l.selectAll("text").text(e.formatter).style("text-anchor",p)},h.prototype._renderTickMarks=function(t,e){var n=this._tierMarkContainers[e].selectAll("."+y.Axis.TICK_MARK_CLASS).data(t),r=n.enter().append("line").classed(y.Axis.TICK_MARK_CLASS,!0).merge(n),i=this._generateTickMarkAttrHash(),o=this._tierHeights.slice(0,e).reduce(function(t,e){return t+e},0);"bottom"===this.orientation()?(i.y1=o,i.y2=o+("center"===this._tierLabelPositions[e]?this.innerTickLength():this._tierHeights[e])):(i.y1=this.height()-o,i.y2=this.height()-(o+("center"===this._tierLabelPositions[e]?this.innerTickLength():this._tierHeights[e]))),r.attrs(i),"bottom"===this.orientation()?(i.y1=o,i.y2=o+("center"===this._tierLabelPositions[e]?this.endTickLength():this._tierHeights[e])):(i.y1=this.height()-o,i.y2=this.height()-(o+("center"===this._tierLabelPositions[e]?this.endTickLength():this._tierHeights[e]))),d.select(r.nodes()[0]).attrs(i),d.select(r.nodes()[r.size()-1]).attrs(i),d.select(r.nodes()[0]).classed(y.Axis.END_TICK_MARK_CLASS,!0),d.select(r.nodes()[r.size()-1]).classed(y.Axis.END_TICK_MARK_CLASS,!0),n.exit().remove()},h.prototype._renderLabellessTickMarks=function(t){var e=this._tickMarkContainer.selectAll("."+y.Axis.TICK_MARK_CLASS).data(t),n=e.enter().append("line").classed(y.Axis.TICK_MARK_CLASS,!0).merge(e),r=this._generateTickMarkAttrHash();r.y2="bottom"===this.orientation()?this.tickLabelPadding():this.height()-this.tickLabelPadding(),n.attrs(r),e.exit().remove()},h.prototype._generateLabellessTicks=function(){return this._mostPreciseConfigIndex<1?[]:this._getTickIntervalValues(this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex-1][0])},h.prototype.renderImmediately=function(){var n=this;this._mostPreciseConfigIndex=this._getMostPreciseConfigurationIndex();var t=this._possibleTimeAxisConfigurations[this._mostPreciseConfigIndex];this._cleanTiers(),t.forEach(function(t,e){return n._renderTierLabels(n._tierLabelContainers[e],t,e)});for(var e=t.map(function(t,e){return n._getTickValuesForConfiguration(t)}),r=0,i=0;i<Math.max(t.length,1);++i){var o=this._generateBaselineAttrHash();o.y1+="bottom"===this.orientation()?r:-r,o.y2=o.y1,this._tierBaselines[i].attrs(o).style("visibility","inherit"),r+=this._tierHeights[i]}var a=[],s=this._scale.domain(),u=this._scale.scale(s[1])-this._scale.scale(s[0]);for(1.5*this._getIntervalLength(t[0])>=u&&(a=this._generateLabellessTicks()),this._renderLabellessTickMarks(a),this._hideOverflowingTiers(),i=0;i<t.length;++i)this._renderTickMarks(e[i],i),this._hideOverlappingAndCutOffLabels(i);return this.annotationsEnabled()?this._drawAnnotations():this._removeAnnotations(),this},h.prototype._hideOverflowingTiers=function(){var n=this,r=this.height(),i=0;this.content().selectAll("."+h.TIME_AXIS_TIER_CLASS).attr("visibility",function(t,e){return(i+=n._tierHeights[e])<=r?"inherit":"hidden"})},h.prototype._hideOverlappingAndCutOffLabels=function(t){var l,h=this,p=this.element().node().getBoundingClientRect(),f=this._tierMarkContainers[t].selectAll("."+y.Axis.TICK_MARK_CLASS).filter(function(t,e){var n=d.select(this).style("visibility");return"visible"===n||"inherit"===n}).nodes().map(function(t){return t.getBoundingClientRect()});this._tierLabelContainers[t].selectAll("."+y.Axis.TICK_LABEL_CLASS).filter(function(t,e){var n=d.select(this).style("visibility");return"visible"===n||"inherit"===n}).each(function(t,e){var n,r=this.getBoundingClientRect(),i=d.select(this),o=f[e],a=f[e+1],s=null!=l&&_.DOM.clientRectsOverlap(r,l),u=null!=o&&_.DOM.clientRectsOverlap(r,o),c=null!=a&&_.DOM.clientRectsOverlap(r,a);n=r,!(Math.floor(p.left)<=Math.ceil(n.left)&&Math.floor(p.top)<=Math.ceil(n.top)&&Math.floor(n.right)<=Math.ceil(p.left+h.width())&&Math.floor(n.bottom)<=Math.ceil(p.top+h.height()))||s||u||c?i.style("visibility","hidden"):(l=r,i.style("visibility","inherit"))})},h.prototype.invalidateCache=function(){u.prototype.invalidateCache.call(this),this._measurer.reset()},h.TIME_AXIS_TIER_CLASS="time-axis-tier",h._SORTED_TIME_INTERVAL_INDEX=((c={})[n.TimeInterval.second]=0,c[n.TimeInterval.minute]=1,c[n.TimeInterval.hour]=2,c[n.TimeInterval.day]=3,c[n.TimeInterval.week]=4,c[n.TimeInterval.month]=5,c[n.TimeInterval.year]=6,c),h._DEFAULT_TIME_AXIS_CONFIGURATIONS=function(e){function t(t){return o.time(t,e)}return[[{interval:n.TimeInterval.second,step:1,formatter:t("%I:%M:%S %p")},{interval:n.TimeInterval.day,step:1,formatter:t("%B %e, %Y")}],[{interval:n.TimeInterval.second,step:5,formatter:t("%I:%M:%S %p")},{interval:n.TimeInterval.day,step:1,formatter:t("%B %e, %Y")}],[{interval:n.TimeInterval.second,step:10,formatter:t("%I:%M:%S %p")},{interval:n.TimeInterval.day,step:1,formatter:t("%B %e, %Y")}],[{interval:n.TimeInterval.second,step:15,formatter:t("%I:%M:%S %p")},{interval:n.TimeInterval.day,step:1,formatter:t("%B %e, %Y")}],[{interval:n.TimeInterval.second,step:30,formatter:t("%I:%M:%S %p")},{interval:n.TimeInterval.day,step:1,formatter:t("%B %e, %Y")}],[{interval:n.TimeInterval.minute,step:1,formatter:t("%I:%M %p")},{interval:n.TimeInterval.day,step:1,formatter:t("%B %e, %Y")}],[{interval:n.TimeInterval.minute,step:5,formatter:t("%I:%M %p")},{interval:n.TimeInterval.day,step:1,formatter:t("%B %e, %Y")}],[{interval:n.TimeInterval.minute,step:10,formatter:t("%I:%M %p")},{interval:n.TimeInterval.day,step:1,formatter:t("%B %e, %Y")}],[{interval:n.TimeInterval.minute,step:15,formatter:t("%I:%M %p")},{interval:n.TimeInterval.day,step:1,formatter:t("%B %e, %Y")}],[{interval:n.TimeInterval.minute,step:30,formatter:t("%I:%M %p")},{interval:n.TimeInterval.day,step:1,formatter:t("%B %e, %Y")}],[{interval:n.TimeInterval.hour,step:1,formatter:t("%I %p")},{interval:n.TimeInterval.day,step:1,formatter:t("%B %e, %Y")}],[{interval:n.TimeInterval.hour,step:3,formatter:t("%I %p")},{interval:n.TimeInterval.day,step:1,formatter:t("%B %e, %Y")}],[{interval:n.TimeInterval.hour,step:6,formatter:t("%I %p")},{interval:n.TimeInterval.day,step:1,formatter:t("%B %e, %Y")}],[{interval:n.TimeInterval.hour,step:12,formatter:t("%I %p")},{interval:n.TimeInterval.day,step:1,formatter:t("%B %e, %Y")}],[{interval:n.TimeInterval.day,step:1,formatter:t("%a %e")},{interval:n.TimeInterval.month,step:1,formatter:t("%B %Y")}],[{interval:n.TimeInterval.day,step:1,formatter:t("%e")},{interval:n.TimeInterval.month,step:1,formatter:t("%B %Y")}],[{interval:n.TimeInterval.month,step:1,formatter:t("%B")},{interval:n.TimeInterval.year,step:1,formatter:t("%Y")}],[{interval:n.TimeInterval.month,step:1,formatter:t("%b")},{interval:n.TimeInterval.year,step:1,formatter:t("%Y")}],[{interval:n.TimeInterval.month,step:3,formatter:t("%b")},{interval:n.TimeInterval.year,step:1,formatter:t("%Y")}],[{interval:n.TimeInterval.month,step:6,formatter:t("%b")},{interval:n.TimeInterval.year,step:1,formatter:t("%Y")}],[{interval:n.TimeInterval.year,step:1,formatter:t("%Y")}],[{interval:n.TimeInterval.year,step:1,formatter:t("%y")}],[{interval:n.TimeInterval.year,step:5,formatter:t("%Y")}],[{interval:n.TimeInterval.year,step:25,formatter:t("%Y")}],[{interval:n.TimeInterval.year,step:50,formatter:t("%Y")}],[{interval:n.TimeInterval.year,step:100,formatter:t("%Y")}],[{interval:n.TimeInterval.year,step:200,formatter:t("%Y")}],[{interval:n.TimeInterval.year,step:500,formatter:t("%Y")}],[{interval:n.TimeInterval.year,step:1e3,formatter:t("%Y")}]]},h._LONG_DATE=new Date(9999,8,29,12,59,9999),h);function h(t,e,n){var r=u.call(this,t,e)||this;return r._maxTimeIntervalPrecision=null,r._tierLabelPositions=[],r._useUTC=n,r.addClass("time-axis"),r.tickLabelPadding(5),r.axisConfigurations(h._DEFAULT_TIME_AXIS_CONFIGURATIONS(r._useUTC)),r.annotationFormatter(o.time("%a %b %d, %Y",r._useUTC)),r}n.Time=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=n(13),a=n(6),s=(r=a.Component,i.__extends(u,r),u.prototype.anchor=function(t){var e=this;return t=o.coerceExternalD3(t),r.prototype.anchor.call(this,t),this._forEach(function(t){return t.anchor(e.element())}),this},u.prototype.render=function(){return this._forEach(function(t){return t.render()}),this},u.prototype.has=function(t){throw new Error("has() is not implemented on ComponentContainer")},u.prototype._adoptAndAnchor=function(t){t.parent(this),t.onDetach(this._detachCallback),this._isAnchored&&t.anchor(this.element())},u.prototype.remove=function(t){return this.has(t)&&(t.offDetach(this._detachCallback),this._remove(t),t.detach(),this.redraw()),this},u.prototype._remove=function(t){return!1},u.prototype._forEach=function(t){throw new Error("_forEach() is not implemented on ComponentContainer")},u.prototype.destroy=function(){r.prototype.destroy.call(this),this._forEach(function(t){return t.destroy()})},u.prototype.invalidateCache=function(){this._forEach(function(t){return t.invalidateCache()})},u);function u(){var e=r.call(this)||this;return e._detachCallback=function(t){return e.remove(t)},e}e.ComponentContainer=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(11),o=n(42),a=new r.Set,s=new r.Set,u=!1,c=!1;e.Policy=i.makeEnum(["immediate","animationFrame","timeout"]);var l=new o.AnimationFrame;function h(t){s.add(t),a.add(t),p()}function p(){u||(u=!0,l.render())}e.renderPolicy=function(t){if(null==t)return l;switch(t){case e.Policy.immediate:l=new o.Immediate;break;case e.Policy.animationFrame:l=new o.AnimationFrame;break;case e.Policy.timeout:l=new o.Timeout;break;default:r.Window.warn("Unrecognized renderPolicy: "+t)}},e.registerToRender=function(t){c&&r.Window.warn("Registered to render while other components are flushing: request may be ignored"),a.add(t),p()},e.registerToComputeLayoutAndRender=h,e.registerToComputeLayout=function(t){h(t)},e.flush=function(){var n;u&&(s.forEach(function(t){return t.computeLayout()}),a.forEach(function(t){return t.render()}),c=!0,n=new r.Set,a.forEach(function(e){try{e.renderImmediately()}catch(t){window.setTimeout(function(){throw t},0),n.add(e)}}),s=new r.Set,a=n,c=u=!1)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);e.circle=function(){return function(t){return r.symbol().type(r.symbolCircle).size(Math.PI*Math.pow(t/2,2))}},e.square=function(){return function(t){return r.symbol().type(r.symbolSquare).size(Math.pow(t,2))}},e.cross=function(){return function(t){return r.symbol().type(r.symbolCross).size(5/9*Math.pow(t,2))}},e.diamond=function(){return function(t){return r.symbol().type(r.symbolDiamond).size(Math.tan(Math.PI/6)*Math.pow(t,2)/2)}},e.triangle=function(){return function(t){return r.symbol().type(r.symbolTriangle).size(Math.sqrt(3)*Math.pow(t/2,2))}};e.star=function(){return function(t){return r.symbol().type(r.symbolStar).size(.8908130915292852*Math.pow(t/2,2))}};var i=3*(1/Math.sqrt(12)/2+1);e.wye=function(){return function(t){return r.symbol().type(r.symbolWye).size(i*Math.pow(t/2.4,2))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(0),i=n(26),a=n(1),s=n(13),f=n(40),u=n(47),c=(o=u.SelectionBoxLayer,r.__extends(l,o),l.prototype._setUpCallbacks=function(){function t(t){i=u._getResizingEdges(t);var e=u.bounds(),n=e.topLeft.x<=t.x&&t.x<=e.bottomRight.x&&e.topLeft.y<=t.y&&t.y<=e.bottomRight.y;u.boxVisible()&&(i.top||i.bottom||i.left||i.right)?p=l:u.boxVisible()&&u.movable()&&n?p=h:(p=c,u._setBounds({topLeft:t,bottomRight:t}),u._xBoundsMode===f.PropertyMode.VALUE&&null!=u.xScale()&&u._setXExtent([u.xScale().invert(t.x),u.xScale().invert(t.x)]),u._yBoundsMode===f.PropertyMode.VALUE&&null!=u.yScale()&&u._setYExtent([u.yScale().invert(t.y),u.yScale().invert(t.y)]),u.render()),u.boxVisible(!0),e=u.bounds(),o={x:e.topLeft.x,y:e.topLeft.y},a={x:e.bottomRight.x,y:e.bottomRight.y},s=t,u._dragStartCallbacks.callCallbacks(e)}function e(t,e){switch(p){case c:a.x=e.x,a.y=e.y;break;case l:i.bottom?a.y=e.y:i.top&&(o.y=e.y),i.right?a.x=e.x:i.left&&(o.x=e.x);break;case h:var n=e.x-s.x,r=e.y-s.y;o.x+=n,o.y+=r,a.x+=n,a.y+=r,s=e}u._setBounds({topLeft:o,bottomRight:a}),u._xBoundsMode===f.PropertyMode.VALUE&&null!=u.xScale()&&u._setXExtent([u.xScale().invert(o.x),u.xScale().invert(a.x)]),u._yBoundsMode===f.PropertyMode.VALUE&&null!=u.yScale()&&u._setYExtent([u.yScale().invert(o.y),u.yScale().invert(a.y)]),u.render(),u._dragCallbacks.callCallbacks(u.bounds())}function n(t,e){p===c&&t.x===e.x&&t.y===e.y&&u.boxVisible(!1),u._dragEndCallbacks.callCallbacks(u.bounds())}var i,o,a,s,u=this,c=0,l=1,h=2,p=c;this._dragInteraction.onDragStart(t),this._dragInteraction.onDrag(e),this._dragInteraction.onDragEnd(n),this._disconnectInteraction=function(){u._dragInteraction.offDragStart(t),u._dragInteraction.offDrag(e),u._dragInteraction.offDragEnd(n),u._dragInteraction.detach()}},l.prototype._setup=function(){var t,e=this;function n(){return e._box.append("line").styles({opacity:0,stroke:"pink","pointer-events":"visibleStroke"})}o.prototype._setup.call(this),this._detectionEdgeT=n().classed("drag-edge-tb",!0),this._detectionEdgeB=n().classed("drag-edge-tb",!0),this._detectionEdgeL=n().classed("drag-edge-lr",!0),this._detectionEdgeR=n().classed("drag-edge-lr",!0),this._hasCorners&&(t=function(){return e._box.append("circle").styles({opacity:0,fill:"pink","pointer-events":"visibleFill"})},this._detectionCornerTL=t().classed("drag-corner-tl",!0),this._detectionCornerTR=t().classed("drag-corner-tr",!0),this._detectionCornerBL=t().classed("drag-corner-bl",!0),this._detectionCornerBR=t().classed("drag-corner-br",!0))},l.prototype._getResizingEdges=function(t){var e={top:!1,bottom:!1,left:!1,right:!1};if(!this.resizable())return e;var n=this.bounds(),r=n.topLeft.y,i=n.bottomRight.y,o=n.topLeft.x,a=n.bottomRight.x,s=this._detectionRadius;return o-s<=t.x&&t.x<=a+s&&(e.top=r-s<=t.y&&t.y<=r+s,e.bottom=i-s<=t.y&&t.y<=i+s),r-s<=t.y&&t.y<=i+s&&(e.left=o-s<=t.x&&t.x<=o+s,e.right=a-s<=t.x&&t.x<=a+s),e},l.prototype.renderImmediately=function(){var t,e,n,r,i;return o.prototype.renderImmediately.call(this),this.boxVisible()&&(e=(t=this.bounds()).topLeft.y,n=t.bottomRight.y,r=t.topLeft.x,i=t.bottomRight.x,this._detectionEdgeT.attrs({x1:r,y1:e,x2:i,y2:e,"stroke-width":2*this._detectionRadius}),this._detectionEdgeB.attrs({x1:r,y1:n,x2:i,y2:n,"stroke-width":2*this._detectionRadius}),this._detectionEdgeL.attrs({x1:r,y1:e,x2:r,y2:n,"stroke-width":2*this._detectionRadius}),this._detectionEdgeR.attrs({x1:i,y1:e,x2:i,y2:n,"stroke-width":2*this._detectionRadius}),this._hasCorners&&(this._detectionCornerTL.attrs({cx:r,cy:e,r:this._detectionRadius}),this._detectionCornerTR.attrs({cx:i,cy:e,r:this._detectionRadius}),this._detectionCornerBL.attrs({cx:r,cy:n,r:this._detectionRadius}),this._detectionCornerBR.attrs({cx:i,cy:n,r:this._detectionRadius}))),this},l.prototype.detectionRadius=function(t){if(null==t)return this._detectionRadius;if(t<0)throw new Error("detection radius cannot be negative.");return this._detectionRadius=t,this.render(),this},l.prototype.resizable=function(t){return null==t?this._resizable:(this._resizable=t,this._setResizableClasses(t),this)},l.prototype._setResizableClasses=function(t){t&&this.enabled()?(this.addClass("x-resizable"),this.addClass("y-resizable")):(this.removeClass("x-resizable"),this.removeClass("y-resizable"))},l.prototype.movable=function(t){return null==t?this._movable:(this._movable=t,this._setMovableClass(),this)},l.prototype._setMovableClass=function(){this.movable()&&this.enabled()?this.addClass("movable"):this.removeClass("movable")},l.prototype.onDragStart=function(t){return this._dragStartCallbacks.add(t),this},l.prototype.offDragStart=function(t){return this._dragStartCallbacks.delete(t),this},l.prototype.onDrag=function(t){return this._dragCallbacks.add(t),this},l.prototype.offDrag=function(t){return this._dragCallbacks.delete(t),this},l.prototype.onDragEnd=function(t){return this._dragEndCallbacks.add(t),this},l.prototype.offDragEnd=function(t){return this._dragEndCallbacks.delete(t),this},l.prototype.dragInteraction=function(){return this._dragInteraction},l.prototype.enabled=function(t){return null==t?this._dragInteraction.enabled():(this._dragInteraction.enabled(t),this._setResizableClasses(this.resizable()),this._setMovableClass(),this)},l.prototype.destroy=function(){var e=this;o.prototype.destroy.call(this),this._dragStartCallbacks.forEach(function(t){return e._dragCallbacks.delete(t)}),this._dragCallbacks.forEach(function(t){return e._dragCallbacks.delete(t)}),this._dragEndCallbacks.forEach(function(t){return e._dragEndCallbacks.delete(t)}),this._disconnectInteraction()},l.prototype.detach=function(){return this._resetState(),this._dragInteraction.detach(),o.prototype.detach.call(this),this},l.prototype.anchor=function(t){return t=s.coerceExternalD3(t),this._dragInteraction.attachTo(this),o.prototype.anchor.call(this,t),this},l.prototype._resetState=function(){this.bounds({topLeft:{x:0,y:0},bottomRight:{x:0,y:0}})},l);function l(){var t=o.call(this)||this;return t._detectionRadius=3,t._resizable=!1,t._movable=!1,t._hasCorners=!0,t.addClass("drag-box-layer"),t._dragInteraction=new i.Drag,t._setUpCallbacks(),t._dragInteraction.attachTo(t),t._dragStartCallbacks=new a.CallbackSet,t._dragCallbacks=new a.CallbackSet,t._dragEndCallbacks=new a.CallbackSet,t}e.DragBoxLayer=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=n(19),a=n(10),s=(r=a.SVGDrawer,i.__extends(u,r),u.prototype._applyDefaultAttributes=function(t){t.style("fill","none")},u.prototype.getVisualPrimitiveAtIndex=function(t){return r.prototype.getVisualPrimitiveAtIndex.call(this,0)},u);function u(){return r.call(this,"path","line")||this}e.LineSVGDrawer=s;var c=["opacity","stroke-opacity","stroke-width","stroke","stroke-dasharray"];e.makeLineCanvasDrawStep=function(i){return function(t,e,n){var r=o.resolveAttributes(n,c,e[0],0);o.renderLine(t,i(),e[0],r)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),s=n(19),o=n(10),a=(r=o.SVGDrawer,i.__extends(u,r),u);function u(t){void 0===t&&(t="");var e=r.call(this,"rect","")||this;return e._rootClassName=t,e._root.classed(e._rootClassName,!0),e}e.RectangleSVGDrawer=a;var c=s.ContextStyleAttrs.concat(["x","y","width","height"]);e.RectangleCanvasDrawStep=function(t,e,n){t.save();for(var r=e.length,i=0;i<r;i++){var o,a=e[i];null!=a&&(o=s.resolveAttributes(n,c,a,i),t.beginPath(),t.rect(o.x,o.y,o.width,o.height),s.renderPathWithStyle(t,o))}t.restore()};var l,h=(l=s.CanvasDrawer,i.__extends(p,l),p);function p(t){return l.call(this,t,e.RectangleCanvasDrawStep)||this}e.RectangleCanvasDrawer=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(24);function i(t){r.SHOW_WARNINGS&&console.warn(t)}function a(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return 0===e?(t(n),-1):window.setTimeout(t,e,n)}e.warn=i,e.setTimeout=a,e.debounce=function(t,e,n){function r(){e.apply(n,o)}var i=null,o=[];return function(){o=Array.prototype.slice.call(arguments),clearTimeout(i),i=a(r,t)}},e.deprecated=function(t,e,n){void 0===n&&(n=""),i("Method "+t+" has been deprecated in version "+e+". Please refer to the release notes. "+n)}},function(t,H,z){(function(W,U){var Y;(function(){var oa,aa="Expected a function",sa="__lodash_hash_undefined__",ua="__lodash_placeholder__",ca=128,la=9007199254740991,ha=NaN,pa=4294967295,fa=[["ary",ca],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],da="[object Arguments]",_a="[object Array]",ya="[object Boolean]",ma="[object Date]",ga="[object Error]",va="[object Function]",ba="[object GeneratorFunction]",xa="[object Map]",wa="[object Number]",Ea="[object Object]",Aa="[object Promise]",Sa="[object RegExp]",Ca="[object Set]",Ta="[object String]",ka="[object Symbol]",Pa="[object WeakMap]",Ma="[object ArrayBuffer]",Da="[object DataView]",La="[object Float32Array]",Ia="[object Float64Array]",Oa="[object Int8Array]",Ra="[object Int16Array]",Na="[object Int32Array]",Ba="[object Uint8Array]",ja="[object Uint8ClampedArray]",Va="[object Uint16Array]",Fa="[object Uint32Array]",Wa=/\b__p \+= '';/g,Ua=/\b(__p \+=) '' \+/g,Ya=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ha=/&(?:amp|lt|gt|quot|#39);/g,za=/[&<>"']/g,Ka=RegExp(Ha.source),Xa=RegExp(za.source),Ga=/<%-([\s\S]+?)%>/g,qa=/<%([\s\S]+?)%>/g,Za=/<%=([\s\S]+?)%>/g,$a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qa=/^\w*$/,Ja=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ts=/[\\^$.*+?()[\]{}|]/g,es=RegExp(ts.source),ns=/^\s+|\s+$/g,rs=/^\s+/,is=/\s+$/,os=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,as=/\{\n\/\* \[wrapped with (.+)\] \*/,ss=/,? & /,us=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,cs=/\\(\\)?/g,ls=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,hs=/\w*$/,ps=/^[-+]0x[0-9a-f]+$/i,fs=/^0b[01]+$/i,ds=/^\[object .+?Constructor\]$/,_s=/^0o[0-7]+$/i,ys=/^(?:0|[1-9]\d*)$/,ms=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,gs=/($^)/,vs=/['\n\r\u2028\u2029\\]/g,t="\\ud800-\\udfff",e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",i="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\ufe0e\\ufe0f",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="[']",u="["+t+"]",c="["+a+"]",l="["+e+"]",h="\\d+",p="["+n+"]",f="["+r+"]",d="[^"+t+a+h+n+r+i+"]",_="\\ud83c[\\udffb-\\udfff]",y="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="["+i+"]",b="\\u200d",x="(?:"+f+"|"+d+")",w="(?:"+v+"|"+d+")",E="(?:['](?:d|ll|m|re|s|t|ve))?",A="(?:['](?:D|LL|M|RE|S|T|VE))?",S="(?:"+l+"|"+_+")"+"?",C="["+o+"]?",T=C+S+("(?:"+b+"(?:"+[y,m,g].join("|")+")"+C+S+")*"),k="(?:"+[p,m,g].join("|")+")"+T,P="(?:"+[y+l+"?",l,m,g,u].join("|")+")",bs=RegExp(s,"g"),xs=RegExp(l,"g"),M=RegExp(_+"(?="+_+")|"+P+T,"g"),ws=RegExp([v+"?"+f+"+"+E+"(?="+[c,v,"$"].join("|")+")",w+"+"+A+"(?="+[c,v+x,"$"].join("|")+")",v+"?"+x+"+"+E,v+"+"+A,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",h,k].join("|"),"g"),D=RegExp("["+b+t+e+o+"]"),Es=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,As=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ss=-1,Cs={};Cs[La]=Cs[Ia]=Cs[Oa]=Cs[Ra]=Cs[Na]=Cs[Ba]=Cs[ja]=Cs[Va]=Cs[Fa]=!0,Cs[da]=Cs[_a]=Cs[Ma]=Cs[ya]=Cs[Da]=Cs[ma]=Cs[ga]=Cs[va]=Cs[xa]=Cs[wa]=Cs[Ea]=Cs[Sa]=Cs[Ca]=Cs[Ta]=Cs[Pa]=!1;var Ts={};Ts[da]=Ts[_a]=Ts[Ma]=Ts[Da]=Ts[ya]=Ts[ma]=Ts[La]=Ts[Ia]=Ts[Oa]=Ts[Ra]=Ts[Na]=Ts[xa]=Ts[wa]=Ts[Ea]=Ts[Sa]=Ts[Ca]=Ts[Ta]=Ts[ka]=Ts[Ba]=Ts[ja]=Ts[Va]=Ts[Fa]=!0,Ts[ga]=Ts[va]=Ts[Pa]=!1;var L={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ks=parseFloat,Ps=parseInt,I="object"==typeof W&&W&&W.Object===Object&&W,O="object"==typeof self&&self&&self.Object===Object&&self,Ms=I||O||Function("return this")(),R="object"==typeof H&&H&&!H.nodeType&&H,N=R&&"object"==typeof U&&U&&!U.nodeType&&U,Ds=N&&N.exports===R,B=Ds&&I.process,j=function(){try{var t=N&&N.require&&N.require("util").types;return t?t:B&&B.binding&&B.binding("util")}catch(t){}}(),Ls=j&&j.isArrayBuffer,Is=j&&j.isDate,Os=j&&j.isMap,Rs=j&&j.isRegExp,Ns=j&&j.isSet,Bs=j&&j.isTypedArray;function js(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Vs(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function Fs(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Ws(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Us(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ys(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Hs(t,e){return!!(null==t?0:t.length)&&-1<Js(t,e,0)}function zs(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Ks(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Xs(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Gs(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function qs(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Zs(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var V=ru("length");function $s(t,r,e){var i;return e(t,function(t,e,n){if(r(t,e,n))return i=e,!1}),i}function Qs(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Js(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Qs(t,eu,n)}function tu(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function eu(t){return t!=t}function nu(t,e){var n=null==t?0:t.length;return n?ou(t,e)/n:ha}function ru(e){return function(t){return null==t?oa:t[e]}}function F(e){return function(t){return null==e?oa:e[t]}}function iu(t,r,i,o,e){return e(t,function(t,e,n){i=o?(o=!1,t):r(i,t,e,n)}),i}function ou(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==oa&&(n=n===oa?o:n+o)}return n}function au(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function su(e){return function(t){return e(t)}}function uu(e,t){return Ks(t,function(t){return e[t]})}function cu(t,e){return t.has(e)}function lu(t,e){for(var n=-1,r=t.length;++n<r&&-1<Js(e,t[n],0););return n}function hu(t,e){for(var n=t.length;n--&&-1<Js(e,t[n],0););return n}var pu=F({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),fu=F({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function du(t){return"\\"+L[t]}function _u(t){return D.test(t)}function yu(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function mu(e,n){return function(t){return e(n(t))}}function gu(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==ua||(t[n]=ua,o[i++]=n)}return o}function vu(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function bu(t){return(_u(t)?function(t){var e=M.lastIndex=0;for(;M.test(t);)++e;return e}:V)(t)}function xu(t){return _u(t)?t.match(M)||[]:t.split("")}var wu=F({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Eu=function t(e){var n,S=(e=null==e?Ms:Eu.defaults(Ms.Object(),e,Eu.pick(Ms,As))).Array,r=e.Date,i=e.Error,y=e.Function,o=e.Math,x=e.Object,m=e.RegExp,l=e.String,v=e.TypeError,a=S.prototype,s=y.prototype,h=x.prototype,u=e["__core-js_shared__"],c=s.toString,w=h.hasOwnProperty,p=0,f=(n=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",d=h.toString,_=c.call(x),g=Ms._,b=m("^"+c.call(w).replace(ts,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=Ds?e.Buffer:oa,A=e.Symbol,C=e.Uint8Array,T=E?E.allocUnsafe:oa,k=mu(x.getPrototypeOf,x),P=x.create,M=h.propertyIsEnumerable,D=a.splice,L=A?A.isConcatSpreadable:oa,I=A?A.iterator:oa,O=A?A.toStringTag:oa,R=function(){try{var t=Yn(x,"defineProperty");return t({},"",{}),t}catch(t){}}(),N=e.clearTimeout!==Ms.clearTimeout&&e.clearTimeout,B=r&&r.now!==Ms.Date.now&&r.now,j=e.setTimeout!==Ms.setTimeout&&e.setTimeout,V=o.ceil,F=o.floor,W=x.getOwnPropertySymbols,U=E?E.isBuffer:oa,Y=e.isFinite,H=a.join,z=mu(x.keys,x),K=o.max,X=o.min,G=r.now,q=e.parseInt,Z=o.random,$=a.reverse,Q=Yn(e,"DataView"),J=Yn(e,"Map"),tt=Yn(e,"Promise"),et=Yn(e,"Set"),nt=Yn(e,"WeakMap"),rt=Yn(x,"create"),it=nt&&new nt,ot={},at=mr(Q),st=mr(J),ut=mr(tt),ct=mr(et),lt=mr(nt),ht=A?A.prototype:oa,pt=ht?ht.valueOf:oa,ft=ht?ht.toString:oa;function dt(t){if(Oi(t)&&!Ei(t)&&!(t instanceof vt)){if(t instanceof gt)return t;if(w.call(t,"__wrapped__"))return gr(t)}return new gt(t)}var _t=function(t){if(!Ii(t))return{};if(P)return P(t);yt.prototype=t;var e=new yt;return yt.prototype=oa,e};function yt(){}function mt(){}function gt(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=oa}function vt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pa,this.__views__=[]}function bt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function xt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function wt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Et(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new wt;++e<n;)this.add(t[e])}function At(t){var e=this.__data__=new xt(t);this.size=e.size}function St(t,e){var n=Ei(t),r=!n&&wi(t),i=!n&&!r&&Ti(t),o=!n&&!r&&!i&&Ui(t),a=n||r||i||o,s=a?au(t.length,l):[],u=s.length;for(var c in t)!e&&!w.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Zn(c,u))||s.push(c);return s}function Ct(t){var e=t.length;return e?t[Ee(0,e-1)]:oa}function Tt(t,e){return pr(on(t),Nt(e,0,t.length))}function kt(t){return pr(on(t))}function Pt(t,e,n){(n===oa||vi(t[e],n))&&(n!==oa||e in t)||Ot(t,e,n)}function Mt(t,e,n){var r=t[e];w.call(t,e)&&vi(r,n)&&(n!==oa||e in t)||Ot(t,e,n)}function Dt(t,e){for(var n=t.length;n--;)if(vi(t[n][0],e))return n;return-1}function Lt(t,r,i,o){return Wt(t,function(t,e,n){r(o,t,i(t),n)}),o}function It(t,e){return t&&an(e,lo(e),t)}function Ot(t,e,n){"__proto__"==e&&R?R(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Rt(t,e){for(var n=-1,r=e.length,i=S(r),o=null==t;++n<r;)i[n]=o?oa:oo(t,e[n]);return i}function Nt(t,e,n){return t==t&&(n!==oa&&(t=t<=n?t:n),e!==oa&&(t=e<=t?t:e)),t}function Bt(n,r,i,t,e,o){var a,s=1&r,u=2&r,c=4&r;if(i&&(a=e?i(n,t,e,o):i(n)),a!==oa)return a;if(!Ii(n))return n;var l,h,p,f,d,_,y=Ei(n);if(y){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&w.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(n),!s)return on(n,a)}else{var m=Kn(n),g=m==va||m==ba;if(Ti(n))return Qe(n,s);if(m==Ea||m==da||g&&!e){if(a=u||g?{}:Gn(n),!s)return u?(_=p=n,f=(d=a)&&an(_,ho(_),d),an(p,zn(p),f)):(h=It(a,l=n),an(l,Hn(l),h))}else{if(!Ts[m])return e?n:{};a=function(t,e,n){var r=t.constructor;switch(e){case Ma:return Je(t);case ya:case ma:return new r(+t);case Da:return function(t,e){var n=e?Je(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case La:case Ia:case Oa:case Ra:case Na:case Ba:case ja:case Va:case Fa:return tn(t,n);case xa:return new r;case wa:case Ta:return new r(t);case Sa:return function(t){var e=new t.constructor(t.source,hs.exec(t));return e.lastIndex=t.lastIndex,e}(t);case Ca:return new r;case ka:return function(t){return pt?x(pt.call(t)):{}}(t)}}(n,m,s)}}var v=(o=o||new At).get(n);if(v)return v;o.set(n,a),Vi(n)?n.forEach(function(t){a.add(Bt(t,r,i,t,n,o))}):Ri(n)&&n.forEach(function(t,e){a.set(e,Bt(t,r,i,e,n,o))});var b=y?oa:(c?u?Nn:Rn:u?ho:lo)(n);return Fs(b||n,function(t,e){b&&(t=n[e=t]),Mt(a,e,Bt(t,r,i,e,n,o))}),a}function jt(t,e,n){var r=n.length;if(null==t)return!r;for(t=x(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===oa&&!(i in t)||!o(a))return!1}return!0}function Vt(t,e,n){if("function"!=typeof t)throw new v(aa);return ur(function(){t.apply(oa,n)},e)}function Ft(t,e,n,r){var i=-1,o=Hs,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=Ks(e,su(n))),r?(o=zs,a=!1):200<=e.length&&(o=cu,a=!1,e=new Et(e));t:for(;++i<s;){var l=t[i],h=null==n?l:n(l),l=r||0!==l?l:0;if(a&&h==h){for(var p=c;p--;)if(e[p]===h)continue t;u.push(l)}else o(e,h,r)||u.push(l)}return u}dt.templateSettings={escape:Ga,evaluate:qa,interpolate:Za,variable:"",imports:{_:dt}},(dt.prototype=mt.prototype).constructor=dt,(gt.prototype=_t(mt.prototype)).constructor=gt,(vt.prototype=_t(mt.prototype)).constructor=vt,bt.prototype.clear=function(){this.__data__=rt?rt(null):{},this.size=0},bt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},bt.prototype.get=function(t){var e=this.__data__;if(rt){var n=e[t];return n===sa?oa:n}return w.call(e,t)?e[t]:oa},bt.prototype.has=function(t){var e=this.__data__;return rt?e[t]!==oa:w.call(e,t)},bt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=rt&&e===oa?sa:e,this},xt.prototype.clear=function(){this.__data__=[],this.size=0},xt.prototype.delete=function(t){var e=this.__data__,n=Dt(e,t);return!(n<0)&&(n==e.length-1?e.pop():D.call(e,n,1),--this.size,!0)},xt.prototype.get=function(t){var e=this.__data__,n=Dt(e,t);return n<0?oa:e[n][1]},xt.prototype.has=function(t){return-1<Dt(this.__data__,t)},xt.prototype.set=function(t,e){var n=this.__data__,r=Dt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},wt.prototype.clear=function(){this.size=0,this.__data__={hash:new bt,map:new(J||xt),string:new bt}},wt.prototype.delete=function(t){var e=Wn(this,t).delete(t);return this.size-=e?1:0,e},wt.prototype.get=function(t){return Wn(this,t).get(t)},wt.prototype.has=function(t){return Wn(this,t).has(t)},wt.prototype.set=function(t,e){var n=Wn(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Et.prototype.add=Et.prototype.push=function(t){return this.__data__.set(t,sa),this},Et.prototype.has=function(t){return this.__data__.has(t)},At.prototype.clear=function(){this.__data__=new xt,this.size=0},At.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},At.prototype.get=function(t){return this.__data__.get(t)},At.prototype.has=function(t){return this.__data__.has(t)},At.prototype.set=function(t,e){var n=this.__data__;if(n instanceof xt){var r=n.__data__;if(!J||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new wt(r)}return n.set(t,e),this.size=n.size,this};var Wt=cn(qt),Ut=cn(Zt,!0);function Yt(t,r){var i=!0;return Wt(t,function(t,e,n){return i=!!r(t,e,n)}),i}function Ht(t,e,n){for(var r=-1,i=t.length;++r<i;){var o,a,s=t[r],u=e(s);null!=u&&(o===oa?u==u&&!Wi(u):n(u,o))&&(o=u,a=s)}return a}function zt(t,r){var i=[];return Wt(t,function(t,e,n){r(t,e,n)&&i.push(t)}),i}function Kt(t,e,n,r,i){var o=-1,a=t.length;for(n=n||qn,i=i||[];++o<a;){var s=t[o];0<e&&n(s)?1<e?Kt(s,e-1,n,r,i):Xs(i,s):r||(i[i.length]=s)}return i}var Xt=ln(),Gt=ln(!0);function qt(t,e){return t&&Xt(t,e,lo)}function Zt(t,e){return t&&Gt(t,e,lo)}function $t(e,t){return Ys(t,function(t){return Mi(e[t])})}function Qt(t,e){for(var n=0,r=(e=Ge(e,t)).length;null!=t&&n<r;)t=t[yr(e[n++])];return n&&n==r?t:oa}function Jt(t,e,n){var r=e(t);return Ei(t)?r:Xs(r,n(t))}function te(t){return null==t?t===oa?"[object Undefined]":"[object Null]":O&&O in x(t)?function(t){var e=w.call(t,O),n=t[O];try{t[O]=oa;var r=!0}catch(t){}var i=d.call(t);r&&(e?t[O]=n:delete t[O]);return i}(t):(e=t,d.call(e));var e}function ee(t,e){return e<t}function ne(t,e){return null!=t&&w.call(t,e)}function re(t,e){return null!=t&&e in x(t)}function ie(t,e,n){for(var r=n?zs:Hs,i=t[0].length,o=t.length,a=o,s=S(o),u=1/0,c=[];a--;){var l=t[a];a&&e&&(l=Ks(l,su(e))),u=X(l.length,u),s[a]=!n&&(e||120<=i&&120<=l.length)?new Et(a&&l):oa}l=t[0];var h=-1,p=s[0];t:for(;++h<i&&c.length<u;){var f=l[h],d=e?e(f):f,f=n||0!==f?f:0;if(!(p?cu(p,d):r(c,d,n))){for(a=o;--a;){var _=s[a];if(!(_?cu(_,d):r(t[a],d,n)))continue t}p&&p.push(d),c.push(f)}}return c}function oe(t,e,n){var r=null==(t=or(t,e=Ge(e,t)))?t:t[yr(Pr(e))];return null==r?oa:js(r,t,n)}function ae(t){return Oi(t)&&te(t)==da}function se(t,e,n,r,i){return t===e||(null==t||null==e||!Oi(t)&&!Oi(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var a=Ei(t),s=Ei(e),u=a?_a:Kn(t),c=s?_a:Kn(e),l=(u=u==da?Ea:u)==Ea,h=(c=c==da?Ea:c)==Ea,p=u==c;if(p&&Ti(t)){if(!Ti(e))return!1;l=!(a=!0)}if(p&&!l)return o=o||new At,a||Ui(t)?In(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case Da:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Ma:return t.byteLength==e.byteLength&&o(new C(t),new C(e))?!0:!1;case ya:case ma:case wa:return vi(+t,+e);case ga:return t.name==e.name&&t.message==e.message;case Sa:case Ta:return t==e+"";case xa:var s=yu;case Ca:var u=1&r;if(s=s||vu,t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var l=In(s(t),s(e),r,i,o,a);return a.delete(t),l;case ka:if(pt)return pt.call(t)==pt.call(e)}return!1}(t,e,u,n,r,i,o);if(!(1&n)){var f=l&&w.call(t,"__wrapped__"),d=h&&w.call(e,"__wrapped__");if(f||d){var _=f?t.value():t,y=d?e.value():e;return o=o||new At,i(_,y,n,r,o)}}return p&&(o=o||new At,function(t,e,n,r,i,o){var a=1&n,s=Rn(t),u=s.length,c=Rn(e).length;if(u!=c&&!a)return!1;var l=u;for(;l--;){var h=s[l];if(!(a?h in e:w.call(e,h)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var f=!0;o.set(t,e),o.set(e,t);var d=a;for(;++l<u;){h=s[l];var _,y=t[h],m=e[h];if(r&&(_=a?r(m,y,h,e,t,o):r(y,m,h,t,e,o)),!(_===oa?y===m||i(y,m,n,r,o):_)){f=!1;break}d=d||"constructor"==h}{var g,v;f&&!d&&(g=t.constructor,v=e.constructor,g!=v&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof v&&v instanceof v)&&(f=!1))}return o.delete(t),o.delete(e),f}(t,e,n,r,i,o))}(t,e,n,r,se,i))}function ue(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=x(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var u=(s=n[i])[0],c=t[u],l=s[1];if(a&&s[2]){if(c===oa&&!(u in t))return!1}else{var h,p=new At;if(r&&(h=r(c,l,u,t,e,p)),!(h===oa?se(l,c,3,r,p):h))return!1}}return!0}function ce(t){return!(!Ii(t)||f&&f in t)&&(Mi(t)?b:ds).test(mr(t))}function le(t){return"function"==typeof t?t:null==t?Bo:"object"==typeof t?Ei(t)?ye(t[0],t[1]):_e(t):Ko(t)}function he(t){if(!er(t))return z(t);var e=[];for(var n in x(t))w.call(t,n)&&"constructor"!=n&&e.push(n);return e}function pe(t){if(!Ii(t))return function(t){var e=[];if(null!=t)for(var n in x(t))e.push(n);return e}(t);var e=er(t),n=[];for(var r in t)("constructor"!=r||!e&&w.call(t,r))&&n.push(r);return n}function fe(t,e){return t<e}function de(t,r){var i=-1,o=Si(t)?S(t.length):[];return Wt(t,function(t,e,n){o[++i]=r(t,e,n)}),o}function _e(e){var n=Un(e);return 1==n.length&&n[0][2]?rr(n[0][0],n[0][1]):function(t){return t===e||ue(t,e,n)}}function ye(n,r){return Qn(n)&&nr(r)?rr(yr(n),r):function(t){var e=oo(t,n);return e===oa&&e===r?ao(t,n):se(r,e,3)}}function me(r,i,o,a,s){r!==i&&Xt(i,function(t,e){var n;s=s||new At,Ii(t)?function(t,e,n,r,i,o,a){var s=ar(t,n),u=ar(e,n),c=a.get(u);if(c)return Pt(t,n,c);var l=o?o(s,u,n+"",t,e,a):oa,h=l===oa;{var p,f,d;h&&(p=Ei(u),f=!p&&Ti(u),d=!p&&!f&&Ui(u),l=u,p||f||d?l=Ei(s)?s:Ci(s)?on(s):f?Qe(u,!(h=!1)):d?tn(u,!(h=!1)):[]:Bi(u)||wi(u)?wi(l=s)?l=Zi(s):Ii(s)&&!Mi(s)||(l=Gn(u)):h=!1)}h&&(a.set(u,l),i(l,u,r,o,a),a.delete(u));Pt(t,n,l)}(r,i,e,o,me,a,s):((n=a?a(ar(r,e),t,e+"",r,i,s):oa)===oa&&(n=t),Pt(r,e,n))},ho)}function ge(t,e){var n=t.length;if(n)return Zn(e+=e<0?n:0,n)?t[e]:oa}function ve(t,r,n){var i=-1;return r=Ks(r.length?r:[Bo],su(Fn())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(de(t,function(e,t,n){return{criteria:Ks(r,function(t){return t(e)}),index:++i,value:e}}),function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;for(;++r<a;){var u=en(i[r],o[r]);if(u){if(s<=r)return u;var c=n[r];return u*("desc"==c?-1:1)}}return t.index-e.index}(t,e,n)})}function be(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=Qt(t,a);n(s,a)&&ke(o,Ge(a,t),s)}return o}function xe(t,e,n,r){var i=r?tu:Js,o=-1,a=e.length,s=t;for(t===e&&(e=on(e)),n&&(s=Ks(t,su(n)));++o<a;)for(var u=0,c=e[o],l=n?n(c):c;-1<(u=i(s,l,u,r));)s!==t&&D.call(s,u,1),D.call(t,u,1);return t}function we(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i,o=e[n];n!=r&&o===i||(Zn(i=o)?D.call(t,o,1):Fe(t,o))}return t}function Ee(t,e){return t+F(Z()*(e-t+1))}function Ae(t,e){var n="";if(!t||e<1||la<e)return n;for(;e%2&&(n+=t),(e=F(e/2))&&(t+=t),e;);return n}function Se(t,e){return cr(ir(t,e,Bo),t+"")}function Ce(t){return Ct(bo(t))}function Te(t,e){var n=bo(t);return pr(n,Nt(e,0,n.length))}function ke(t,e,n,r){if(!Ii(t))return t;for(var i=-1,o=(e=Ge(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var u,c=yr(e[i]),l=n;i!=a&&(u=s[c],(l=r?r(u,c,s):oa)===oa&&(l=Ii(u)?u:Zn(e[i+1])?[]:{})),Mt(s,c,l),s=s[c]}return t}var Pe=it?function(t,e){return it.set(t,e),t}:Bo,Me=R?function(t,e){return R(t,"toString",{configurable:!0,enumerable:!1,value:Oo(e),writable:!0})}:Bo;function De(t){return pr(bo(t))}function Le(t,e,n){var r=-1,i=t.length;e<0&&(e=i<-e?0:i+e),(n=i<n?i:n)<0&&(n+=i),i=n<e?0:n-e>>>0,e>>>=0;for(var o=S(i);++r<i;)o[r]=t[r+e];return o}function Ie(t,r){var i;return Wt(t,function(t,e,n){return!(i=r(t,e,n))}),!!i}function Oe(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Wi(a)&&(n?a<=e:a<e)?r=1+o:i=o}return i}return Re(t,e,Bo,n)}function Re(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!=e,s=null===e,u=Wi(e),c=e===oa;i<o;){var l=F((i+o)/2),h=n(t[l]),p=h!==oa,f=null===h,d=h==h,_=Wi(h),y=a?r||d:c?d&&(r||p):s?d&&p&&(r||!f):u?d&&p&&!f&&(r||!_):!f&&!_&&(r?h<=e:h<e);y?i=l+1:o=l}return X(o,4294967294)}function Ne(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a,s=t[n],u=e?e(s):s;n&&vi(u,a)||(a=u,o[i++]=0===s?0:s)}return o}function Be(t){return"number"==typeof t?t:Wi(t)?ha:+t}function je(t){if("string"==typeof t)return t;if(Ei(t))return Ks(t,je)+"";if(Wi(t))return ft?ft.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ve(t,e,n){var r=-1,i=Hs,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=zs;else if(200<=o){var c=e?null:Tn(t);if(c)return vu(c);a=!1,i=cu,u=new Et}else u=e?[]:s;t:for(;++r<o;){var l=t[r],h=e?e(l):l,l=n||0!==l?l:0;if(a&&h==h){for(var p=u.length;p--;)if(u[p]===h)continue t;e&&u.push(h),s.push(l)}else i(u,h,n)||(u!==s&&u.push(h),s.push(l))}return s}function Fe(t,e){return null==(t=or(t,e=Ge(e,t)))||delete t[yr(Pr(e))]}function We(t,e,n,r){return ke(t,e,n(Qt(t,e)),r)}function Ue(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Le(t,r?0:o,r?o+1:i):Le(t,r?o+1:0,r?i:o)}function Ye(t,e){var n=t;return n instanceof vt&&(n=n.value()),Gs(e,function(t,e){return e.func.apply(e.thisArg,Xs([t],e.args))},n)}function He(t,e,n){var r=t.length;if(r<2)return r?Ve(t[0]):[];for(var i=-1,o=S(r);++i<r;)for(var a=t[i],s=-1;++s<r;)s!=i&&(o[i]=Ft(o[i]||a,t[s],e,n));return Ve(Kt(o,1),e,n)}function ze(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:oa;n(a,t[r],s)}return a}function Ke(t){return Ci(t)?t:[]}function Xe(t){return"function"==typeof t?t:Bo}function Ge(t,e){return Ei(t)?t:Qn(t,e)?[t]:_r($i(t))}var qe=Se;function Ze(t,e,n){var r=t.length;return n=n===oa?r:n,!e&&r<=n?t:Le(t,e,n)}var $e=N||function(t){return Ms.clearTimeout(t)};function Qe(t,e){if(e)return t.slice();var n=t.length,r=T?T(n):new t.constructor(n);return t.copy(r),r}function Je(t){var e=new t.constructor(t.byteLength);return new C(e).set(new C(t)),e}function tn(t,e){var n=e?Je(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function en(t,e){if(t!==e){var n=t!==oa,r=null===t,i=t==t,o=Wi(t),a=e!==oa,s=null===e,u=e==e,c=Wi(e);if(!s&&!c&&!o&&e<t||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function nn(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,u=e.length,c=K(o-a,0),l=S(u+c),h=!r;++s<u;)l[s]=e[s];for(;++i<a;)(h||i<o)&&(l[n[i]]=t[i]);for(;c--;)l[s++]=t[i++];return l}function rn(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,u=-1,c=e.length,l=K(o-s,0),h=S(l+c),p=!r;++i<l;)h[i]=t[i];for(var f=i;++u<c;)h[f+u]=e[u];for(;++a<s;)(p||i<o)&&(h[f+n[a]]=t[i++]);return h}function on(t,e){var n=-1,r=t.length;for(e=e||S(r);++n<r;)e[n]=t[n];return e}function an(t,e,n,r){var i=!n;n=n||{};for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):oa;u===oa&&(u=t[s]),(i?Ot:Mt)(n,s,u)}return n}function sn(i,o){return function(t,e){var n=Ei(t)?Vs:Lt,r=o?o():{};return n(t,i,Fn(e,2),r)}}function un(s){return Se(function(t,e){var n=-1,r=e.length,i=1<r?e[r-1]:oa,o=2<r?e[2]:oa,i=3<s.length&&"function"==typeof i?(r--,i):oa;for(o&&$n(e[0],e[1],o)&&(i=r<3?oa:i,r=1),t=x(t);++n<r;){var a=e[n];a&&s(t,a,n,i)}return t})}function cn(o,a){return function(t,e){if(null==t)return t;if(!Si(t))return o(t,e);for(var n=t.length,r=a?n:-1,i=x(t);(a?r--:++r<n)&&!1!==e(i[r],r,i););return t}}function ln(u){return function(t,e,n){for(var r=-1,i=x(t),o=n(t),a=o.length;a--;){var s=o[u?a:++r];if(!1===e(i[s],s,i))break}return t}}function hn(i){return function(t){var e=_u(t=$i(t))?xu(t):oa,n=e?e[0]:t.charAt(0),r=e?Ze(e,1).join(""):t.slice(1);return n[i]()+r}}function pn(e){return function(t){return Gs(Do(Eo(t).replace(bs,"")),e,"")}}function fn(r){return function(){var t=arguments;switch(t.length){case 0:return new r;case 1:return new r(t[0]);case 2:return new r(t[0],t[1]);case 3:return new r(t[0],t[1],t[2]);case 4:return new r(t[0],t[1],t[2],t[3]);case 5:return new r(t[0],t[1],t[2],t[3],t[4]);case 6:return new r(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new r(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var e=_t(r.prototype),n=r.apply(e,t);return Ii(n)?n:e}}function dn(a,s,u){var c=fn(a);return function t(){for(var e=arguments.length,n=S(e),r=e,i=Vn(t);r--;)n[r]=arguments[r];var o=e<3&&n[0]!==i&&n[e-1]!==i?[]:gu(n,i);return(e-=o.length)<u?Sn(a,s,mn,t.placeholder,oa,n,o,oa,oa,u-e):js(this&&this!==Ms&&this instanceof t?c:a,this,n)}}function _n(a){return function(t,e,n){var r,i=x(t);Si(t)||(r=Fn(e,3),t=lo(t),e=function(t){return r(i[t],t,i)});var o=a(t,e,n);return-1<o?i[r?t[o]:o]:oa}}function yn(u){return On(function(i){var o=i.length,t=o,e=gt.prototype.thru;for(u&&i.reverse();t--;){var n=i[t];if("function"!=typeof n)throw new v(aa);e&&!s&&"wrapper"==jn(n)&&(s=new gt([],!0))}for(t=s?t:o;++t<o;)var r=jn(n=i[t]),a="wrapper"==r?Bn(n):oa,s=a&&Jn(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?s[jn(a[0])].apply(s,a[3]):1==n.length&&Jn(n)?s[r]():s.thru(n);return function(){var t=arguments,e=t[0];if(s&&1==t.length&&Ei(e))return s.plant(e).value();for(var n=0,r=o?i[n].apply(this,t):e;++n<o;)r=i[n].call(this,r);return r}})}function mn(c,l,h,p,f,d,_,y,m,g){var v=l&ca,b=1&l,x=2&l,w=24&l,E=512&l,A=x?oa:fn(c);return function t(){for(var e,n,r=S(u=arguments.length),i=u;i--;)r[i]=arguments[i];if(w&&(n=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(r,e=Vn(t))),p&&(r=nn(r,p,f,w)),d&&(r=rn(r,d,_,w)),u-=n,w&&u<g){var o=gu(r,e);return Sn(c,l,mn,t.placeholder,h,r,o,y,m,g-u)}var a=b?h:this,s=x?a[c]:c,u=r.length;return y?r=function(t,e){for(var n=t.length,r=X(e.length,n),i=on(t);r--;){var o=e[r];t[r]=Zn(o,n)?i[o]:oa}return t}(r,y):E&&1<u&&r.reverse(),v&&m<u&&(r.length=m),this&&this!==Ms&&this instanceof t&&(s=A||fn(s)),s.apply(a,r)}}function gn(a,s){return function(t,e){return n=t,r=a,i=s(e),o={},qt(n,function(t,e,n){r(o,i(t),e,n)}),o;var n,r,i,o}}function vn(r,i){return function(t,e){var n;if(t===oa&&e===oa)return i;if(t!==oa&&(n=t),e!==oa){if(n===oa)return e;e="string"==typeof t||"string"==typeof e?(t=je(t),je(e)):(t=Be(t),Be(e)),n=r(t,e)}return n}}function bn(r){return On(function(t){return t=Ks(t,su(Fn())),Se(function(e){var n=this;return r(t,function(t){return js(t,n,e)})})})}function xn(t,e){var n=(e=e===oa?" ":je(e)).length;if(n<2)return n?Ae(e,t):e;var r=Ae(e,V(t/bu(e)));return _u(e)?Ze(xu(r),0,t).join(""):r.slice(0,t)}function wn(s,t,u,c){var l=1&t,h=fn(s);return function t(){for(var e=-1,n=arguments.length,r=-1,i=c.length,o=S(i+n),a=this&&this!==Ms&&this instanceof t?h:s;++r<i;)o[r]=c[r];for(;n--;)o[r++]=arguments[++e];return js(a,l?u:this,o)}}function En(r){return function(t,e,n){return n&&"number"!=typeof n&&$n(t,e,n)&&(e=n=oa),t=Ki(t),e===oa?(e=t,t=0):e=Ki(e),function(t,e,n,r){for(var i=-1,o=K(V((e-t)/(n||1)),0),a=S(o);o--;)a[r?o:++i]=t,t+=n;return a}(t,e,n=n===oa?t<e?1:-1:Ki(n),r)}}function An(n){return function(t,e){return"string"==typeof t&&"string"==typeof e||(t=qi(t),e=qi(e)),n(t,e)}}function Sn(t,e,n,r,i,o,a,s,u,c){var l=8&e;e|=l?32:64,4&(e&=~(l?64:32))||(e&=-4);var h=[t,e,i,l?o:oa,l?a:oa,l?oa:o,l?oa:a,s,u,c],p=n.apply(oa,h);return Jn(t)&&sr(p,h),p.placeholder=r,lr(p,t,e)}function Cn(t){var r=o[t];return function(t,e){if(t=qi(t),(e=null==e?0:X(Xi(e),292))&&Y(t)){var n=($i(t)+"e").split("e");return+((n=($i(r(n[0]+"e"+(+n[1]+e)))+"e").split("e"))[0]+"e"+(n[1]-e))}return r(t)}}var Tn=et&&1/vu(new et([,-0]))[1]==1/0?function(t){return new et(t)}:Uo;function kn(a){return function(t){var e,n,r,i,o=Kn(t);return o==xa?yu(t):o==Ca?(e=t,n=-1,r=Array(e.size),e.forEach(function(t){r[++n]=[t,t]}),r):Ks(a(i=t),function(t){return[t,i[t]]})}}function Pn(t,e,n,r,i,o,a,s){var u=2&e;if(!u&&"function"!=typeof t)throw new v(aa);var c,l,h=r?r.length:0;h||(e&=-97,r=i=oa),a=a===oa?a:K(Xi(a),0),s=s===oa?s:Xi(s),h-=i?i.length:0,64&e&&(c=r,l=i,r=i=oa);var p,f,d,_,y,m=u?oa:Bn(t),g=[t,e,n,r,i,c,l,o,a,s];return m&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,a=r==ca&&8==n||r==ca&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!a)return;1&r&&(t[2]=e[2],i|=1&n?0:4);var s=e[3];{var u;s&&(u=t[3],t[3]=u?nn(u,s,e[4]):s,t[4]=u?gu(t[3],ua):e[4])}(s=e[5])&&(u=t[5],t[5]=u?rn(u,s,e[6]):s,t[6]=u?gu(t[5],ua):e[6]);(s=e[7])&&(t[7]=s);r&ca&&(t[8]=null==t[8]?e[8]:X(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(g,m),t=g[0],e=g[1],n=g[2],r=g[3],i=g[4],!(s=g[9]=g[9]===oa?u?0:t.length:K(g[9]-h,0))&&24&e&&(e&=-25),p=e&&1!=e?8==e||16==e?dn(t,e,s):32!=e&&33!=e||i.length?mn.apply(oa,g):wn(t,e,n,r):(d=n,_=1&e,y=fn(f=t),function t(){return(this&&this!==Ms&&this instanceof t?y:f).apply(_?d:this,arguments)}),lr((m?Pe:sr)(p,g),t,e)}function Mn(t,e,n,r){return t===oa||vi(t,h[n])&&!w.call(r,n)?e:t}function Dn(t,e,n,r,i,o){return Ii(t)&&Ii(e)&&(o.set(e,t),me(t,e,oa,Dn,o),o.delete(e)),t}function Ln(t){return Bi(t)?oa:t}function In(t,e,n,r,i,o){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&s<u))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var l=-1,h=!0,p=2&n?new Et:oa;for(o.set(t,e),o.set(e,t);++l<s;){var f,d=t[l],_=e[l];if(r&&(f=a?r(_,d,l,e,t,o):r(d,_,l,t,e,o)),f!==oa){if(f)continue;h=!1;break}if(p){if(!Zs(e,function(t,e){return!cu(p,e)&&(d===t||i(d,t,n,r,o))&&p.push(e)})){h=!1;break}}else if(d!==_&&!i(d,_,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function On(t){return cr(ir(t,oa,Ar),t+"")}function Rn(t){return Jt(t,lo,Hn)}function Nn(t){return Jt(t,ho,zn)}var Bn=it?function(t){return it.get(t)}:Uo;function jn(t){for(var e=t.name+"",n=ot[e],r=w.call(ot,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Vn(t){return(w.call(dt,"placeholder")?dt:t).placeholder}function Fn(){var t=(t=dt.iteratee||jo)===jo?le:t;return arguments.length?t(arguments[0],arguments[1]):t}function Wn(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Un(t){for(var e=lo(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,nr(i)]}return e}function Yn(t,e){var n,r,i=(r=e,null==(n=t)?oa:n[r]);return ce(i)?i:oa}var Hn=W?function(e){return null==e?[]:(e=x(e),Ys(W(e),function(t){return M.call(e,t)}))}:qo,zn=W?function(t){for(var e=[];t;)Xs(e,Hn(t)),t=k(t);return e}:qo,Kn=te;function Xn(t,e,n){for(var r=-1,i=(e=Ge(e,t)).length,o=!1;++r<i;){var a=yr(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Li(i)&&Zn(a,i)&&(Ei(t)||wi(t))}function Gn(t){return"function"!=typeof t.constructor||er(t)?{}:_t(k(t))}function qn(t){return Ei(t)||wi(t)||!!(L&&t&&t[L])}function Zn(t,e){var n=typeof t;return!!(e=null==e?la:e)&&("number"==n||"symbol"!=n&&ys.test(t))&&-1<t&&t%1==0&&t<e}function $n(t,e,n){if(Ii(n)){var r=typeof e;return("number"==r?Si(n)&&Zn(e,n.length):"string"==r&&e in n)&&vi(n[e],t)}}function Qn(t,e){if(!Ei(t)){var n=typeof t;return"number"==n||"symbol"==n||"boolean"==n||null==t||Wi(t)||(Qa.test(t)||!$a.test(t)||null!=e&&t in x(e))}}function Jn(t){var e=jn(t),n=dt[e];if("function"==typeof n&&e in vt.prototype){if(t===n)return 1;var r=Bn(n);return r&&t===r[0]}}(Q&&Kn(new Q(new ArrayBuffer(1)))!=Da||J&&Kn(new J)!=xa||tt&&Kn(tt.resolve())!=Aa||et&&Kn(new et)!=Ca||nt&&Kn(new nt)!=Pa)&&(Kn=function(t){var e=te(t),n=e==Ea?t.constructor:oa,r=n?mr(n):"";if(r)switch(r){case at:return Da;case st:return xa;case ut:return Aa;case ct:return Ca;case lt:return Pa}return e});var tr=u?Mi:Zo;function er(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||h)}function nr(t){return t==t&&!Ii(t)}function rr(e,n){return function(t){return null!=t&&(t[e]===n&&(n!==oa||e in x(t)))}}function ir(o,a,s){return a=K(a===oa?o.length-1:a,0),function(){for(var t=arguments,e=-1,n=K(t.length-a,0),r=S(n);++e<n;)r[e]=t[a+e];e=-1;for(var i=S(a+1);++e<a;)i[e]=t[e];return i[a]=s(r),js(o,this,i)}}function or(t,e){return e.length<2?t:Qt(t,Le(e,0,-1))}function ar(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var sr=hr(Pe),ur=j||function(t,e){return Ms.setTimeout(t,e)},cr=hr(Me);function lr(t,e,n){var r,i,o,a=e+"";return cr(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(1<n?"& ":"")+e[r],e=e.join(2<n?", ":" "),t.replace(os,"{\n/* [wrapped with "+e+"] */\n")}(a,(o=a.match(as),r=o?o[1].split(ss):[],i=n,Fs(fa,function(t){var e="_."+t[0];i&t[1]&&!Hs(r,e)&&r.push(e)}),r.sort())))}function hr(n){var r=0,i=0;return function(){var t=G(),e=16-(t-i);if(i=t,0<e){if(800<=++r)return arguments[0]}else r=0;return n.apply(oa,arguments)}}function pr(t,e){var n=-1,r=t.length,i=r-1;for(e=e===oa?r:e;++n<e;){var o=Ee(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var fr,dr,_r=(dr=(fr=fi(function(t){var i=[];return 46===t.charCodeAt(0)&&i.push(""),t.replace(Ja,function(t,e,n,r){i.push(n?r.replace(cs,"$1"):e||t)}),i},function(t){return 500===dr.size&&dr.clear(),t})).cache,fr);function yr(t){if("string"==typeof t||Wi(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function mr(t){if(null!=t){try{return c.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function gr(t){if(t instanceof vt)return t.clone();var e=new gt(t.__wrapped__,t.__chain__);return e.__actions__=on(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var vr=Se(function(t,e){return Ci(t)?Ft(t,Kt(e,1,Ci,!0)):[]}),br=Se(function(t,e){var n=Pr(e);return Ci(n)&&(n=oa),Ci(t)?Ft(t,Kt(e,1,Ci,!0),Fn(n,2)):[]}),xr=Se(function(t,e){var n=Pr(e);return Ci(n)&&(n=oa),Ci(t)?Ft(t,Kt(e,1,Ci,!0),oa,n):[]});function wr(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Xi(n);return i<0&&(i=K(r+i,0)),Qs(t,Fn(e,3),i)}function Er(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==oa&&(i=Xi(n),i=n<0?K(r+i,0):X(i,r-1)),Qs(t,Fn(e,3),i,!0)}function Ar(t){return(null==t?0:t.length)?Kt(t,1):[]}function Sr(t){return t&&t.length?t[0]:oa}var Cr=Se(function(t){var e=Ks(t,Ke);return e.length&&e[0]===t[0]?ie(e):[]}),Tr=Se(function(t){var e=Pr(t),n=Ks(t,Ke);return e===Pr(n)?e=oa:n.pop(),n.length&&n[0]===t[0]?ie(n,Fn(e,2)):[]}),kr=Se(function(t){var e=Pr(t),n=Ks(t,Ke);return(e="function"==typeof e?e:oa)&&n.pop(),n.length&&n[0]===t[0]?ie(n,oa,e):[]});function Pr(t){var e=null==t?0:t.length;return e?t[e-1]:oa}var Mr=Se(Dr);function Dr(t,e){return t&&t.length&&e&&e.length?xe(t,e):t}var Lr=On(function(t,e){var n=null==t?0:t.length,r=Rt(t,e);return we(t,Ks(e,function(t){return Zn(t,n)?+t:t}).sort(en)),r});function Ir(t){return null==t?t:$.call(t)}var Or=Se(function(t){return Ve(Kt(t,1,Ci,!0))}),Rr=Se(function(t){var e=Pr(t);return Ci(e)&&(e=oa),Ve(Kt(t,1,Ci,!0),Fn(e,2))}),Nr=Se(function(t){var e="function"==typeof(e=Pr(t))?e:oa;return Ve(Kt(t,1,Ci,!0),oa,e)});function Br(e){if(!e||!e.length)return[];var n=0;return e=Ys(e,function(t){return Ci(t)&&(n=K(t.length,n),1)}),au(n,function(t){return Ks(e,ru(t))})}function jr(t,e){if(!t||!t.length)return[];var n=Br(t);return null==e?n:Ks(n,function(t){return js(e,oa,t)})}var Vr=Se(function(t,e){return Ci(t)?Ft(t,e):[]}),Fr=Se(function(t){return He(Ys(t,Ci))}),Wr=Se(function(t){var e=Pr(t);return Ci(e)&&(e=oa),He(Ys(t,Ci),Fn(e,2))}),Ur=Se(function(t){var e="function"==typeof(e=Pr(t))?e:oa;return He(Ys(t,Ci),oa,e)}),Yr=Se(Br);var Hr=Se(function(t){var e=t.length,n="function"==typeof(n=1<e?t[e-1]:oa)?(t.pop(),n):oa;return jr(t,n)});function zr(t){var e=dt(t);return e.__chain__=!0,e}function Kr(t,e){return e(t)}var Xr=On(function(e){function t(t){return Rt(t,e)}var n=e.length,r=n?e[0]:0,i=this.__wrapped__;return!(1<n||this.__actions__.length)&&i instanceof vt&&Zn(r)?((i=i.slice(r,+r+(n?1:0))).__actions__.push({func:Kr,args:[t],thisArg:oa}),new gt(i,this.__chain__).thru(function(t){return n&&!t.length&&t.push(oa),t})):this.thru(t)});var Gr=sn(function(t,e,n){w.call(t,n)?++t[n]:Ot(t,n,1)});var qr=_n(wr),Zr=_n(Er);function $r(t,e){return(Ei(t)?Fs:Wt)(t,Fn(e,3))}function Qr(t,e){return(Ei(t)?Ws:Ut)(t,Fn(e,3))}var Jr=sn(function(t,e,n){w.call(t,n)?t[n].push(e):Ot(t,n,[e])});var ti=Se(function(t,e,n){var r=-1,i="function"==typeof e,o=Si(t)?S(t.length):[];return Wt(t,function(t){o[++r]=i?js(e,t,n):oe(t,e,n)}),o}),ei=sn(function(t,e,n){Ot(t,n,e)});function ni(t,e){return(Ei(t)?Ks:de)(t,Fn(e,3))}var ri=sn(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var ii=Se(function(t,e){if(null==t)return[];var n=e.length;return 1<n&&$n(t,e[0],e[1])?e=[]:2<n&&$n(e[0],e[1],e[2])&&(e=[e[0]]),ve(t,Kt(e,1),[])}),oi=B||function(){return Ms.Date.now()};function ai(t,e,n){return e=n?oa:e,e=t&&null==e?t.length:e,Pn(t,ca,oa,oa,oa,oa,e)}function si(t,e){var n;if("function"!=typeof e)throw new v(aa);return t=Xi(t),function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=oa),n}}var ui=Se(function(t,e,n){var r,i=1;return n.length&&(r=gu(n,Vn(ui)),i|=32),Pn(t,i,e,n,r)}),ci=Se(function(t,e,n){var r,i=3;return n.length&&(r=gu(n,Vn(ci)),i|=32),Pn(e,i,t,n,r)});function li(r,i,t){var o,a,s,u,c,l,h=0,p=!1,f=!1,e=!0;if("function"!=typeof r)throw new v(aa);function d(t){var e=o,n=a;return o=a=oa,h=t,u=r.apply(n,e)}function _(t){var e=t-l;return l===oa||i<=e||e<0||f&&s<=t-h}function y(){var t,e,n=oi();if(_(n))return m(n);c=ur(y,(e=i-((t=n)-l),f?X(e,s-(t-h)):e))}function m(t){return c=oa,e&&o?d(t):(o=a=oa,u)}function n(){var t,e=oi(),n=_(e);if(o=arguments,a=this,l=e,n){if(c===oa)return h=t=l,c=ur(y,i),p?d(t):u;if(f)return $e(c),c=ur(y,i),d(l)}return c===oa&&(c=ur(y,i)),u}return i=qi(i)||0,Ii(t)&&(p=!!t.leading,s=(f="maxWait"in t)?K(qi(t.maxWait)||0,i):s,e="trailing"in t?!!t.trailing:e),n.cancel=function(){c!==oa&&$e(c),h=0,o=l=a=c=oa},n.flush=function(){return c===oa?u:m(oi())},n}var hi=Se(function(t,e){return Vt(t,1,e)}),pi=Se(function(t,e,n){return Vt(t,qi(e)||0,n)});function fi(i,o){if("function"!=typeof i||null!=o&&"function"!=typeof o)throw new v(aa);var a=function(){var t=arguments,e=o?o.apply(this,t):t[0],n=a.cache;if(n.has(e))return n.get(e);var r=i.apply(this,t);return a.cache=n.set(e,r)||n,r};return a.cache=new(fi.Cache||wt),a}function di(e){if("function"!=typeof e)throw new v(aa);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}fi.Cache=wt;var _i=qe(function(r,i){var o=(i=1==i.length&&Ei(i[0])?Ks(i[0],su(Fn())):Ks(Kt(i,1),su(Fn()))).length;return Se(function(t){for(var e=-1,n=X(t.length,o);++e<n;)t[e]=i[e].call(this,t[e]);return js(r,this,t)})}),yi=Se(function(t,e){var n=gu(e,Vn(yi));return Pn(t,32,oa,e,n)}),mi=Se(function(t,e){var n=gu(e,Vn(mi));return Pn(t,64,oa,e,n)}),gi=On(function(t,e){return Pn(t,256,oa,oa,oa,e)});function vi(t,e){return t===e||t!=t&&e!=e}var bi=An(ee),xi=An(function(t,e){return e<=t}),wi=ae(function(){return arguments}())?ae:function(t){return Oi(t)&&w.call(t,"callee")&&!M.call(t,"callee")},Ei=S.isArray,Ai=Ls?su(Ls):function(t){return Oi(t)&&te(t)==Ma};function Si(t){return null!=t&&Li(t.length)&&!Mi(t)}function Ci(t){return Oi(t)&&Si(t)}var Ti=U||Zo,ki=Is?su(Is):function(t){return Oi(t)&&te(t)==ma};function Pi(t){if(!Oi(t))return!1;var e=te(t);return e==ga||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Bi(t)}function Mi(t){if(!Ii(t))return!1;var e=te(t);return e==va||e==ba||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Di(t){return"number"==typeof t&&t==Xi(t)}function Li(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=la}function Ii(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Oi(t){return null!=t&&"object"==typeof t}var Ri=Os?su(Os):function(t){return Oi(t)&&Kn(t)==xa};function Ni(t){return"number"==typeof t||Oi(t)&&te(t)==wa}function Bi(t){if(!Oi(t)||te(t)!=Ea)return!1;var e=k(t);if(null===e)return!0;var n=w.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==_}var ji=Rs?su(Rs):function(t){return Oi(t)&&te(t)==Sa};var Vi=Ns?su(Ns):function(t){return Oi(t)&&Kn(t)==Ca};function Fi(t){return"string"==typeof t||!Ei(t)&&Oi(t)&&te(t)==Ta}function Wi(t){return"symbol"==typeof t||Oi(t)&&te(t)==ka}var Ui=Bs?su(Bs):function(t){return Oi(t)&&Li(t.length)&&!!Cs[te(t)]};var Yi=An(fe),Hi=An(function(t,e){return t<=e});function zi(t){if(!t)return[];if(Si(t))return(Fi(t)?xu:on)(t);if(I&&t[I])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[I]());var e=Kn(t);return(e==xa?yu:e==Ca?vu:bo)(t)}function Ki(t){return t?(t=qi(t))!==1/0&&t!==-1/0?t==t?t:0:17976931348623157e292*(t<0?-1:1):0===t?t:0}function Xi(t){var e=Ki(t),n=e%1;return e==e?n?e-n:e:0}function Gi(t){return t?Nt(Xi(t),0,pa):0}function qi(t){if("number"==typeof t)return t;if(Wi(t))return ha;var e;if(Ii(t)&&(t=Ii(e="function"==typeof t.valueOf?t.valueOf():t)?e+"":e),"string"!=typeof t)return 0===t?t:+t;t=t.replace(ns,"");var n=fs.test(t);return n||_s.test(t)?Ps(t.slice(2),n?2:8):ps.test(t)?ha:+t}function Zi(t){return an(t,ho(t))}function $i(t){return null==t?"":je(t)}var Qi=un(function(t,e){if(er(e)||Si(e))an(e,lo(e),t);else for(var n in e)w.call(e,n)&&Mt(t,n,e[n])}),Ji=un(function(t,e){an(e,ho(e),t)}),to=un(function(t,e,n,r){an(e,ho(e),t,r)}),eo=un(function(t,e,n,r){an(e,lo(e),t,r)}),no=On(Rt);var ro=Se(function(t,e){t=x(t);var n=-1,r=e.length,i=2<r?e[2]:oa;for(i&&$n(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=ho(o),s=-1,u=a.length;++s<u;){var c=a[s],l=t[c];(l===oa||vi(l,h[c])&&!w.call(t,c))&&(t[c]=o[c])}return t}),io=Se(function(t){return t.push(oa,Dn),js(fo,oa,t)});function oo(t,e,n){var r=null==t?oa:Qt(t,e);return r===oa?n:r}function ao(t,e){return null!=t&&Xn(t,e,re)}var so=gn(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=d.call(e)),t[e]=n},Oo(Bo)),uo=gn(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=d.call(e)),w.call(t,e)?t[e].push(n):t[e]=[n]},Fn),co=Se(oe);function lo(t){return(Si(t)?St:he)(t)}function ho(t){return Si(t)?St(t,!0):pe(t)}var po=un(function(t,e,n){me(t,e,n)}),fo=un(function(t,e,n,r){me(t,e,n,r)}),_o=On(function(e,t){var n={};if(null==e)return n;var r=!1;t=Ks(t,function(t){return t=Ge(t,e),r=r||1<t.length,t}),an(e,Nn(e),n),r&&(n=Bt(n,7,Ln));for(var i=t.length;i--;)Fe(n,t[i]);return n});var yo=On(function(t,e){return null==t?{}:be(n=t,e,function(t,e){return ao(n,e)});var n});function mo(t,n){if(null==t)return{};var e=Ks(Nn(t),function(t){return[t]});return n=Fn(n),be(t,e,function(t,e){return n(t,e[0])})}var go=kn(lo),vo=kn(ho);function bo(t){return null==t?[]:uu(t,lo(t))}var xo=pn(function(t,e,n){return e=e.toLowerCase(),t+(n?wo(e):e)});function wo(t){return Mo($i(t).toLowerCase())}function Eo(t){return(t=$i(t))&&t.replace(ms,pu).replace(xs,"")}var Ao=pn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),So=pn(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Co=hn("toLowerCase");var To=pn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var ko=pn(function(t,e,n){return t+(n?" ":"")+Mo(e)});var Po=pn(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Mo=hn("toUpperCase");function Do(t,e,n){return t=$i(t),(e=n?oa:e)===oa?(r=t,Es.test(r)?t.match(ws)||[]:t.match(us)||[]):t.match(e)||[];var r}var Lo=Se(function(t,e){try{return js(t,oa,e)}catch(t){return Pi(t)?t:new i(t)}}),Io=On(function(e,t){return Fs(t,function(t){t=yr(t),Ot(e,t,ui(e[t],e))}),e});function Oo(t){return function(){return t}}var Ro=yn(),No=yn(!0);function Bo(t){return t}function jo(t){return le("function"==typeof t?t:Bt(t,1))}var Vo=Se(function(e,n){return function(t){return oe(t,e,n)}}),Fo=Se(function(e,n){return function(t){return oe(e,t,n)}});function Wo(r,e,t){var n=lo(e),i=$t(e,n);null!=t||Ii(e)&&(i.length||!n.length)||(t=e,e=r,r=this,i=$t(e,lo(e)));var o=!(Ii(t)&&"chain"in t&&!t.chain),a=Mi(r);return Fs(i,function(t){var n=e[t];r[t]=n,a&&(r.prototype[t]=function(){var t=this.__chain__;if(o||t){var e=r(this.__wrapped__);return(e.__actions__=on(this.__actions__)).push({func:n,args:arguments,thisArg:r}),e.__chain__=t,e}return n.apply(r,Xs([this.value()],arguments))})}),r}function Uo(){}var Yo=bn(Ks),Ho=bn(Us),zo=bn(Zs);function Ko(t){return Qn(t)?ru(yr(t)):(e=t,function(t){return Qt(t,e)});var e}var Xo=En(),Go=En(!0);function qo(){return[]}function Zo(){return!1}var $o=vn(function(t,e){return t+e},0),Qo=Cn("ceil"),Jo=vn(function(t,e){return t/e},1),ta=Cn("floor");var ea,na=vn(function(t,e){return t*e},1),ra=Cn("round"),ia=vn(function(t,e){return t-e},0);return dt.after=function(t,e){if("function"!=typeof e)throw new v(aa);return t=Xi(t),function(){if(--t<1)return e.apply(this,arguments)}},dt.ary=ai,dt.assign=Qi,dt.assignIn=Ji,dt.assignInWith=to,dt.assignWith=eo,dt.at=no,dt.before=si,dt.bind=ui,dt.bindAll=Io,dt.bindKey=ci,dt.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ei(t)?t:[t]},dt.chain=zr,dt.chunk=function(t,e,n){e=(n?$n(t,e,n):e===oa)?1:K(Xi(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=S(V(r/e));i<r;)a[o++]=Le(t,i,i+=e);return a},dt.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},dt.concat=function(){var t=arguments.length;if(!t)return[];for(var e=S(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Xs(Ei(n)?on(n):[n],Kt(e,1))},dt.cond=function(r){var i=null==r?0:r.length,e=Fn();return r=i?Ks(r,function(t){if("function"!=typeof t[1])throw new v(aa);return[e(t[0]),t[1]]}):[],Se(function(t){for(var e=-1;++e<i;){var n=r[e];if(js(n[0],this,t))return js(n[1],this,t)}})},dt.conforms=function(t){return e=Bt(t,1),n=lo(e),function(t){return jt(t,e,n)};var e,n},dt.constant=Oo,dt.countBy=Gr,dt.create=function(t,e){var n=_t(t);return null==e?n:It(n,e)},dt.curry=function t(e,n,r){var i=Pn(e,8,oa,oa,oa,oa,oa,n=r?oa:n);return i.placeholder=t.placeholder,i},dt.curryRight=function t(e,n,r){var i=Pn(e,16,oa,oa,oa,oa,oa,n=r?oa:n);return i.placeholder=t.placeholder,i},dt.debounce=li,dt.defaults=ro,dt.defaultsDeep=io,dt.defer=hi,dt.delay=pi,dt.difference=vr,dt.differenceBy=br,dt.differenceWith=xr,dt.drop=function(t,e,n){var r=null==t?0:t.length;return r?Le(t,(e=n||e===oa?1:Xi(e))<0?0:e,r):[]},dt.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Le(t,0,(e=r-(e=n||e===oa?1:Xi(e)))<0?0:e):[]},dt.dropRightWhile=function(t,e){return t&&t.length?Ue(t,Fn(e,3),!0,!0):[]},dt.dropWhile=function(t,e){return t&&t.length?Ue(t,Fn(e,3),!0):[]},dt.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&$n(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=Xi(n))<0&&(n=i<-n?0:i+n),(r=r===oa||i<r?i:Xi(r))<0&&(r+=i),r=r<n?0:Gi(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},dt.filter=function(t,e){return(Ei(t)?Ys:zt)(t,Fn(e,3))},dt.flatMap=function(t,e){return Kt(ni(t,e),1)},dt.flatMapDeep=function(t,e){return Kt(ni(t,e),1/0)},dt.flatMapDepth=function(t,e,n){return n=n===oa?1:Xi(n),Kt(ni(t,e),n)},dt.flatten=Ar,dt.flattenDeep=function(t){return(null==t?0:t.length)?Kt(t,1/0):[]},dt.flattenDepth=function(t,e){return(null==t?0:t.length)?Kt(t,e=e===oa?1:Xi(e)):[]},dt.flip=function(t){return Pn(t,512)},dt.flow=Ro,dt.flowRight=No,dt.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},dt.functions=function(t){return null==t?[]:$t(t,lo(t))},dt.functionsIn=function(t){return null==t?[]:$t(t,ho(t))},dt.groupBy=Jr,dt.initial=function(t){return(null==t?0:t.length)?Le(t,0,-1):[]},dt.intersection=Cr,dt.intersectionBy=Tr,dt.intersectionWith=kr,dt.invert=so,dt.invertBy=uo,dt.invokeMap=ti,dt.iteratee=jo,dt.keyBy=ei,dt.keys=lo,dt.keysIn=ho,dt.map=ni,dt.mapKeys=function(t,r){var i={};return r=Fn(r,3),qt(t,function(t,e,n){Ot(i,r(t,e,n),t)}),i},dt.mapValues=function(t,r){var i={};return r=Fn(r,3),qt(t,function(t,e,n){Ot(i,e,r(t,e,n))}),i},dt.matches=function(t){return _e(Bt(t,1))},dt.matchesProperty=function(t,e){return ye(t,Bt(e,1))},dt.memoize=fi,dt.merge=po,dt.mergeWith=fo,dt.method=Vo,dt.methodOf=Fo,dt.mixin=Wo,dt.negate=di,dt.nthArg=function(e){return e=Xi(e),Se(function(t){return ge(t,e)})},dt.omit=_o,dt.omitBy=function(t,e){return mo(t,di(Fn(e)))},dt.once=function(t){return si(2,t)},dt.orderBy=function(t,e,n,r){return null==t?[]:(Ei(e)||(e=null==e?[]:[e]),Ei(n=r?oa:n)||(n=null==n?[]:[n]),ve(t,e,n))},dt.over=Yo,dt.overArgs=_i,dt.overEvery=Ho,dt.overSome=zo,dt.partial=yi,dt.partialRight=mi,dt.partition=ri,dt.pick=yo,dt.pickBy=mo,dt.property=Ko,dt.propertyOf=function(e){return function(t){return null==e?oa:Qt(e,t)}},dt.pull=Mr,dt.pullAll=Dr,dt.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?xe(t,e,Fn(n,2)):t},dt.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?xe(t,e,oa,n):t},dt.pullAt=Lr,dt.range=Xo,dt.rangeRight=Go,dt.rearg=gi,dt.reject=function(t,e){return(Ei(t)?Ys:zt)(t,di(Fn(e,3)))},dt.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Fn(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return we(t,i),n},dt.rest=function(t,e){if("function"!=typeof t)throw new v(aa);return Se(t,e=e===oa?e:Xi(e))},dt.reverse=Ir,dt.sampleSize=function(t,e,n){return e=(n?$n(t,e,n):e===oa)?1:Xi(e),(Ei(t)?Tt:Te)(t,e)},dt.set=function(t,e,n){return null==t?t:ke(t,e,n)},dt.setWith=function(t,e,n,r){return r="function"==typeof r?r:oa,null==t?t:ke(t,e,n,r)},dt.shuffle=function(t){return(Ei(t)?kt:De)(t)},dt.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n=n&&"number"!=typeof n&&$n(t,e,n)?(e=0,r):(e=null==e?0:Xi(e),n===oa?r:Xi(n)),Le(t,e,n)):[]},dt.sortBy=ii,dt.sortedUniq=function(t){return t&&t.length?Ne(t):[]},dt.sortedUniqBy=function(t,e){return t&&t.length?Ne(t,Fn(e,2)):[]},dt.split=function(t,e,n){return n&&"number"!=typeof n&&$n(t,e,n)&&(e=n=oa),(n=n===oa?pa:n>>>0)?(t=$i(t))&&("string"==typeof e||null!=e&&!ji(e))&&!(e=je(e))&&_u(t)?Ze(xu(t),0,n):t.split(e,n):[]},dt.spread=function(r,i){if("function"!=typeof r)throw new v(aa);return i=null==i?0:K(Xi(i),0),Se(function(t){var e=t[i],n=Ze(t,0,i);return e&&Xs(n,e),js(r,this,n)})},dt.tail=function(t){var e=null==t?0:t.length;return e?Le(t,1,e):[]},dt.take=function(t,e,n){return t&&t.length?Le(t,0,(e=n||e===oa?1:Xi(e))<0?0:e):[]},dt.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Le(t,(e=r-(e=n||e===oa?1:Xi(e)))<0?0:e,r):[]},dt.takeRightWhile=function(t,e){return t&&t.length?Ue(t,Fn(e,3),!1,!0):[]},dt.takeWhile=function(t,e){return t&&t.length?Ue(t,Fn(e,3)):[]},dt.tap=function(t,e){return e(t),t},dt.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new v(aa);return Ii(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),li(t,e,{leading:r,maxWait:e,trailing:i})},dt.thru=Kr,dt.toArray=zi,dt.toPairs=go,dt.toPairsIn=vo,dt.toPath=function(t){return Ei(t)?Ks(t,yr):Wi(t)?[t]:on(_r($i(t)))},dt.toPlainObject=Zi,dt.transform=function(t,r,i){var e,n=Ei(t),o=n||Ti(t)||Ui(t);return r=Fn(r,4),null==i&&(e=t&&t.constructor,i=o?n?new e:[]:Ii(t)&&Mi(e)?_t(k(t)):{}),(o?Fs:qt)(t,function(t,e,n){return r(i,t,e,n)}),i},dt.unary=function(t){return ai(t,1)},dt.union=Or,dt.unionBy=Rr,dt.unionWith=Nr,dt.uniq=function(t){return t&&t.length?Ve(t):[]},dt.uniqBy=function(t,e){return t&&t.length?Ve(t,Fn(e,2)):[]},dt.uniqWith=function(t,e){return e="function"==typeof e?e:oa,t&&t.length?Ve(t,oa,e):[]},dt.unset=function(t,e){return null==t||Fe(t,e)},dt.unzip=Br,dt.unzipWith=jr,dt.update=function(t,e,n){return null==t?t:We(t,e,Xe(n))},dt.updateWith=function(t,e,n,r){return r="function"==typeof r?r:oa,null==t?t:We(t,e,Xe(n),r)},dt.values=bo,dt.valuesIn=function(t){return null==t?[]:uu(t,ho(t))},dt.without=Vr,dt.words=Do,dt.wrap=function(t,e){return yi(Xe(e),t)},dt.xor=Fr,dt.xorBy=Wr,dt.xorWith=Ur,dt.zip=Yr,dt.zipObject=function(t,e){return ze(t||[],e||[],Mt)},dt.zipObjectDeep=function(t,e){return ze(t||[],e||[],ke)},dt.zipWith=Hr,dt.entries=go,dt.entriesIn=vo,dt.extend=Ji,dt.extendWith=to,Wo(dt,dt),dt.add=$o,dt.attempt=Lo,dt.camelCase=xo,dt.capitalize=wo,dt.ceil=Qo,dt.clamp=function(t,e,n){return n===oa&&(n=e,e=oa),n!==oa&&(n=(n=qi(n))==n?n:0),e!==oa&&(e=(e=qi(e))==e?e:0),Nt(qi(t),e,n)},dt.clone=function(t){return Bt(t,4)},dt.cloneDeep=function(t){return Bt(t,5)},dt.cloneDeepWith=function(t,e){return Bt(t,5,e="function"==typeof e?e:oa)},dt.cloneWith=function(t,e){return Bt(t,4,e="function"==typeof e?e:oa)},dt.conformsTo=function(t,e){return null==e||jt(t,e,lo(e))},dt.deburr=Eo,dt.defaultTo=function(t,e){return null==t||t!=t?e:t},dt.divide=Jo,dt.endsWith=function(t,e,n){t=$i(t),e=je(e);var r=t.length,i=n=n===oa?r:Nt(Xi(n),0,r);return 0<=(n-=e.length)&&t.slice(n,i)==e},dt.eq=vi,dt.escape=function(t){return(t=$i(t))&&Xa.test(t)?t.replace(za,fu):t},dt.escapeRegExp=function(t){return(t=$i(t))&&es.test(t)?t.replace(ts,"\\$&"):t},dt.every=function(t,e,n){var r=Ei(t)?Us:Yt;return n&&$n(t,e,n)&&(e=oa),r(t,Fn(e,3))},dt.find=qr,dt.findIndex=wr,dt.findKey=function(t,e){return $s(t,Fn(e,3),qt)},dt.findLast=Zr,dt.findLastIndex=Er,dt.findLastKey=function(t,e){return $s(t,Fn(e,3),Zt)},dt.floor=ta,dt.forEach=$r,dt.forEachRight=Qr,dt.forIn=function(t,e){return null==t?t:Xt(t,Fn(e,3),ho)},dt.forInRight=function(t,e){return null==t?t:Gt(t,Fn(e,3),ho)},dt.forOwn=function(t,e){return t&&qt(t,Fn(e,3))},dt.forOwnRight=function(t,e){return t&&Zt(t,Fn(e,3))},dt.get=oo,dt.gt=bi,dt.gte=xi,dt.has=function(t,e){return null!=t&&Xn(t,e,ne)},dt.hasIn=ao,dt.head=Sr,dt.identity=Bo,dt.includes=function(t,e,n,r){t=Si(t)?t:bo(t),n=n&&!r?Xi(n):0;var i=t.length;return n<0&&(n=K(i+n,0)),Fi(t)?n<=i&&-1<t.indexOf(e,n):!!i&&-1<Js(t,e,n)},dt.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Xi(n);return i<0&&(i=K(r+i,0)),Js(t,e,i)},dt.inRange=function(t,e,n){return e=Ki(e),n===oa?(n=e,e=0):n=Ki(n),t=qi(t),(r=t)>=X(i=e,o=n)&&r<K(i,o);var r,i,o},dt.invoke=co,dt.isArguments=wi,dt.isArray=Ei,dt.isArrayBuffer=Ai,dt.isArrayLike=Si,dt.isArrayLikeObject=Ci,dt.isBoolean=function(t){return!0===t||!1===t||Oi(t)&&te(t)==ya},dt.isBuffer=Ti,dt.isDate=ki,dt.isElement=function(t){return Oi(t)&&1===t.nodeType&&!Bi(t)},dt.isEmpty=function(t){if(null==t)return!0;if(Si(t)&&(Ei(t)||"string"==typeof t||"function"==typeof t.splice||Ti(t)||Ui(t)||wi(t)))return!t.length;var e=Kn(t);if(e==xa||e==Ca)return!t.size;if(er(t))return!he(t).length;for(var n in t)if(w.call(t,n))return!1;return!0},dt.isEqual=function(t,e){return se(t,e)},dt.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:oa)?n(t,e):oa;return r===oa?se(t,e,oa,n):!!r},dt.isError=Pi,dt.isFinite=function(t){return"number"==typeof t&&Y(t)},dt.isFunction=Mi,dt.isInteger=Di,dt.isLength=Li,dt.isMap=Ri,dt.isMatch=function(t,e){return t===e||ue(t,e,Un(e))},dt.isMatchWith=function(t,e,n){return n="function"==typeof n?n:oa,ue(t,e,Un(e),n)},dt.isNaN=function(t){return Ni(t)&&t!=+t},dt.isNative=function(t){if(tr(t))throw new i("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ce(t)},dt.isNil=function(t){return null==t},dt.isNull=function(t){return null===t},dt.isNumber=Ni,dt.isObject=Ii,dt.isObjectLike=Oi,dt.isPlainObject=Bi,dt.isRegExp=ji,dt.isSafeInteger=function(t){return Di(t)&&-la<=t&&t<=la},dt.isSet=Vi,dt.isString=Fi,dt.isSymbol=Wi,dt.isTypedArray=Ui,dt.isUndefined=function(t){return t===oa},dt.isWeakMap=function(t){return Oi(t)&&Kn(t)==Pa},dt.isWeakSet=function(t){return Oi(t)&&"[object WeakSet]"==te(t)},dt.join=function(t,e){return null==t?"":H.call(t,e)},dt.kebabCase=Ao,dt.last=Pr,dt.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==oa&&(i=(i=Xi(n))<0?K(r+i,0):X(i,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):Qs(t,eu,i,!0)},dt.lowerCase=So,dt.lowerFirst=Co,dt.lt=Yi,dt.lte=Hi,dt.max=function(t){return t&&t.length?Ht(t,Bo,ee):oa},dt.maxBy=function(t,e){return t&&t.length?Ht(t,Fn(e,2),ee):oa},dt.mean=function(t){return nu(t,Bo)},dt.meanBy=function(t,e){return nu(t,Fn(e,2))},dt.min=function(t){return t&&t.length?Ht(t,Bo,fe):oa},dt.minBy=function(t,e){return t&&t.length?Ht(t,Fn(e,2),fe):oa},dt.stubArray=qo,dt.stubFalse=Zo,dt.stubObject=function(){return{}},dt.stubString=function(){return""},dt.stubTrue=function(){return!0},dt.multiply=na,dt.nth=function(t,e){return t&&t.length?ge(t,Xi(e)):oa},dt.noConflict=function(){return Ms._===this&&(Ms._=g),this},dt.noop=Uo,dt.now=oi,dt.pad=function(t,e,n){t=$i(t);var r=(e=Xi(e))?bu(t):0;if(!e||e<=r)return t;var i=(e-r)/2;return xn(F(i),n)+t+xn(V(i),n)},dt.padEnd=function(t,e,n){t=$i(t);var r=(e=Xi(e))?bu(t):0;return e&&r<e?t+xn(e-r,n):t},dt.padStart=function(t,e,n){t=$i(t);var r=(e=Xi(e))?bu(t):0;return e&&r<e?xn(e-r,n)+t:t},dt.parseInt=function(t,e,n){return e=n||null==e?0:e&&+e,q($i(t).replace(rs,""),e||0)},dt.random=function(t,e,n){var r;if(n&&"boolean"!=typeof n&&$n(t,e,n)&&(e=n=oa),n===oa&&("boolean"==typeof e?(n=e,e=oa):"boolean"==typeof t&&(n=t,t=oa)),t===oa&&e===oa?(t=0,e=1):(t=Ki(t),e===oa?(e=t,t=0):e=Ki(e)),e<t&&(r=t,t=e,e=r),n||t%1||e%1){var i=Z();return X(t+i*(e-t+ks("1e-"+((i+"").length-1))),e)}return Ee(t,e)},dt.reduce=function(t,e,n){var r=Ei(t)?Gs:iu,i=arguments.length<3;return r(t,Fn(e,4),n,i,Wt)},dt.reduceRight=function(t,e,n){var r=Ei(t)?qs:iu,i=arguments.length<3;return r(t,Fn(e,4),n,i,Ut)},dt.repeat=function(t,e,n){return e=(n?$n(t,e,n):e===oa)?1:Xi(e),Ae($i(t),e)},dt.replace=function(){var t=arguments,e=$i(t[0]);return t.length<3?e:e.replace(t[1],t[2])},dt.result=function(t,e,n){var r=-1,i=(e=Ge(e,t)).length;for(i||(i=1,t=oa);++r<i;){var o=null==t?oa:t[yr(e[r])];o===oa&&(r=i,o=n),t=Mi(o)?o.call(t):o}return t},dt.round=ra,dt.runInContext=t,dt.sample=function(t){return(Ei(t)?Ct:Ce)(t)},dt.size=function(t){if(null==t)return 0;if(Si(t))return Fi(t)?bu(t):t.length;var e=Kn(t);return e==xa||e==Ca?t.size:he(t).length},dt.snakeCase=To,dt.some=function(t,e,n){var r=Ei(t)?Zs:Ie;return n&&$n(t,e,n)&&(e=oa),r(t,Fn(e,3))},dt.sortedIndex=function(t,e){return Oe(t,e)},dt.sortedIndexBy=function(t,e,n){return Re(t,e,Fn(n,2))},dt.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Oe(t,e);if(r<n&&vi(t[r],e))return r}return-1},dt.sortedLastIndex=function(t,e){return Oe(t,e,!0)},dt.sortedLastIndexBy=function(t,e,n){return Re(t,e,Fn(n,2),!0)},dt.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Oe(t,e,!0)-1;if(vi(t[n],e))return n}return-1},dt.startCase=ko,dt.startsWith=function(t,e,n){return t=$i(t),n=null==n?0:Nt(Xi(n),0,t.length),e=je(e),t.slice(n,n+e.length)==e},dt.subtract=ia,dt.sum=function(t){return t&&t.length?ou(t,Bo):0},dt.sumBy=function(t,e){return t&&t.length?ou(t,Fn(e,2)):0},dt.template=function(a,t,e){var n=dt.templateSettings;e&&$n(a,t,e)&&(t=oa),a=$i(a),t=to({},t,n,Mn);var s,u,r=to({},t.imports,n.imports,Mn),i=lo(r),o=uu(r,i),c=0,l=t.interpolate||gs,h="__p += '",p=m((t.escape||gs).source+"|"+l.source+"|"+(l===Za?ls:gs).source+"|"+(t.evaluate||gs).source+"|$","g"),f="//# sourceURL="+(w.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Ss+"]")+"\n";a.replace(p,function(t,e,n,r,i,o){return n=n||r,h+=a.slice(c,o).replace(vs,du),e&&(s=!0,h+="' +\n__e("+e+") +\n'"),i&&(u=!0,h+="';\n"+i+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=o+t.length,t}),h+="';\n";var d=w.call(t,"variable")&&t.variable;d||(h="with (obj) {\n"+h+"\n}\n"),h=(u?h.replace(Wa,""):h).replace(Ua,"$1").replace(Ya,"$1;"),h="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var _=Lo(function(){return y(i,f+"return "+h).apply(oa,o)});if(_.source=h,Pi(_))throw _;return _},dt.times=function(t,e){if((t=Xi(t))<1||la<t)return[];var n=pa,r=X(t,pa);e=Fn(e),t-=pa;for(var i=au(r,e);++n<t;)e(n);return i},dt.toFinite=Ki,dt.toInteger=Xi,dt.toLength=Gi,dt.toLower=function(t){return $i(t).toLowerCase()},dt.toNumber=qi,dt.toSafeInteger=function(t){return t?Nt(Xi(t),-la,la):0===t?t:0},dt.toString=$i,dt.toUpper=function(t){return $i(t).toUpperCase()},dt.trim=function(t,e,n){if((t=$i(t))&&(n||e===oa))return t.replace(ns,"");if(!t||!(e=je(e)))return t;var r=xu(t),i=xu(e);return Ze(r,lu(r,i),hu(r,i)+1).join("")},dt.trimEnd=function(t,e,n){if((t=$i(t))&&(n||e===oa))return t.replace(is,"");if(!t||!(e=je(e)))return t;var r=xu(t);return Ze(r,0,hu(r,xu(e))+1).join("")},dt.trimStart=function(t,e,n){if((t=$i(t))&&(n||e===oa))return t.replace(rs,"");if(!t||!(e=je(e)))return t;var r=xu(t);return Ze(r,lu(r,xu(e))).join("")},dt.truncate=function(t,e){var n,r=30,i="...";Ii(e)&&(n="separator"in e?e.separator:n,r="length"in e?Xi(e.length):r,i="omission"in e?je(e.omission):i);var o,a=(t=$i(t)).length;if(_u(t)&&(a=(o=xu(t)).length),a<=r)return t;var s=r-bu(i);if(s<1)return i;var u,c=o?Ze(o,0,s).join(""):t.slice(0,s);if(n===oa)return c+i;if(o&&(s+=c.length-s),ji(n)){if(t.slice(s).search(n)){var l,h=c;for(n.global||(n=m(n.source,$i(hs.exec(n))+"g")),n.lastIndex=0;l=n.exec(h);)var p=l.index;c=c.slice(0,p===oa?s:p)}}else t.indexOf(je(n),s)==s||-1<(u=c.lastIndexOf(n))&&(c=c.slice(0,u));return c+i},dt.unescape=function(t){return(t=$i(t))&&Ka.test(t)?t.replace(Ha,wu):t},dt.uniqueId=function(t){var e=++p;return $i(t)+e},dt.upperCase=Po,dt.upperFirst=Mo,dt.each=$r,dt.eachRight=Qr,dt.first=Sr,Wo(dt,(ea={},qt(dt,function(t,e){w.call(dt.prototype,e)||(ea[e]=t)}),ea),{chain:!1}),dt.VERSION="4.17.15",Fs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){dt[t].placeholder=dt}),Fs(["drop","take"],function(n,r){vt.prototype[n]=function(t){t=t===oa?1:K(Xi(t),0);var e=this.__filtered__&&!r?new vt(this):this.clone();return e.__filtered__?e.__takeCount__=X(t,e.__takeCount__):e.__views__.push({size:X(t,pa),type:n+(e.__dir__<0?"Right":"")}),e},vt.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),Fs(["filter","map","takeWhile"],function(t,e){var n=e+1,r=1==n||3==n;vt.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Fn(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),Fs(["head","last"],function(t,e){var n="take"+(e?"Right":"");vt.prototype[t]=function(){return this[n](1).value()[0]}}),Fs(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");vt.prototype[t]=function(){return this.__filtered__?new vt(this):this[n](1)}}),vt.prototype.compact=function(){return this.filter(Bo)},vt.prototype.find=function(t){return this.filter(t).head()},vt.prototype.findLast=function(t){return this.reverse().find(t)},vt.prototype.invokeMap=Se(function(e,n){return"function"==typeof e?new vt(this):this.map(function(t){return oe(t,e,n)})}),vt.prototype.reject=function(t){return this.filter(di(Fn(t)))},vt.prototype.slice=function(t,e){t=Xi(t);var n=this;return n.__filtered__&&(0<t||e<0)?new vt(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==oa&&(n=(e=Xi(e))<0?n.dropRight(-e):n.take(e-t)),n)},vt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},vt.prototype.toArray=function(){return this.take(pa)},qt(vt.prototype,function(h,t){var p=/^(?:filter|find|map|reject)|While$/.test(t),f=/^(?:head|last)$/.test(t),d=dt[f?"take"+("last"==t?"Right":""):t],_=f||/^find/.test(t);d&&(dt.prototype[t]=function(){function t(t){var e=d.apply(dt,Xs([t],n));return f&&a?e[0]:e}var e=this.__wrapped__,n=f?[1]:arguments,r=e instanceof vt,i=n[0],o=r||Ei(e);o&&p&&"function"==typeof i&&1!=i.length&&(r=o=!1);var a=this.__chain__,s=!!this.__actions__.length,u=_&&!a,c=r&&!s;if(_||!o)return u&&c?h.apply(this,n):(l=this.thru(t),u?f?l.value()[0]:l.value():l);e=c?e:new vt(this);var l=h.apply(e,n);return l.__actions__.push({func:Kr,args:[t],thisArg:oa}),new gt(l,a)})}),Fs(["pop","push","shift","sort","splice","unshift"],function(t){var n=a[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);dt.prototype[t]=function(){var e=arguments;if(!i||this.__chain__)return this[r](function(t){return n.apply(Ei(t)?t:[],e)});var t=this.value();return n.apply(Ei(t)?t:[],e)}}),qt(vt.prototype,function(t,e){var n,r=dt[e];r&&(n=r.name+"",w.call(ot,n)||(ot[n]=[]),ot[n].push({name:e,func:r}))}),ot[mn(oa,2).name]=[{name:"wrapper",func:oa}],vt.prototype.clone=function(){var t=new vt(this.__wrapped__);return t.__actions__=on(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=on(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=on(this.__views__),t},vt.prototype.reverse=function(){var t;return this.__filtered__?((t=new vt(this)).__dir__=-1,t.__filtered__=!0):(t=this.clone()).__dir__*=-1,t},vt.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ei(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=X(e,t+a);break;case"takeRight":t=K(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,h=l.length,p=0,f=X(u,this.__takeCount__);if(!n||!r&&i==u&&f==u)return Ye(t,this.__actions__);var d=[];t:for(;u--&&p<f;){for(var _=-1,y=t[c+=e];++_<h;){var m=l[_],g=m.iteratee,v=m.type,b=g(y);if(2==v)y=b;else if(!b){if(1==v)continue t;break t}}d[p++]=y}return d},dt.prototype.at=Xr,dt.prototype.chain=function(){return zr(this)},dt.prototype.commit=function(){return new gt(this.value(),this.__chain__)},dt.prototype.next=function(){this.__values__===oa&&(this.__values__=zi(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?oa:this.__values__[this.__index__++]}},dt.prototype.plant=function(t){for(var e,n=this;n instanceof mt;){var r=gr(n);r.__index__=0,r.__values__=oa,e?i.__wrapped__=r:e=r;var i=r,n=n.__wrapped__}return i.__wrapped__=t,e},dt.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof vt){var e=t;return this.__actions__.length&&(e=new vt(this)),(e=e.reverse()).__actions__.push({func:Kr,args:[Ir],thisArg:oa}),new gt(e,this.__chain__)}return this.thru(Ir)},dt.prototype.toJSON=dt.prototype.valueOf=dt.prototype.value=function(){return Ye(this.__wrapped__,this.__actions__)},dt.prototype.first=dt.prototype.head,I&&(dt.prototype[I]=function(){return this}),dt}();Ms._=Eu,(Y=function(){return Eu}.call(H,z,H,U))===oa||(U.exports=Y)}).call(this)}).call(H,z(147),z(148)(t))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(i.prototype.measure=function(t){return void 0===t&&(t=i.HEIGHT_TEXT),this.ruler(t)},i);function i(t){null!=t.createRuler?this.ruler=t.createRuler():this.ruler=t}r.HEIGHT_TEXT="bdpql",e.AbstractMeasurer=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);r.__exportStar(n(34),e),r.__exportStar(n(78),e),r.__exportStar(n(79),e),r.__exportStar(n(44),e),r.__exportStar(n(45),e),r.__exportStar(n(80),e),r.__exportStar(n(46),e),r.__exportStar(n(81),e),r.__exportStar(n(82),e),r.__exportStar(n(47),e),r.__exportStar(n(83),e),r.__exportStar(n(84),e),r.__exportStar(n(85),e),r.__exportStar(n(86),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=0,o=(a.prototype.onUpdate=function(t){return this._callbacks.add(t),this},a.prototype.offUpdate=function(t){return this._callbacks.delete(t),this},a.prototype.data=function(t){return null==t?this._data:(this._data=t,this._dispatchUpdate(),this)},a.prototype.metadata=function(t){return null==t?this._metadata:(this._metadata=t,this._dispatchUpdate(),this)},a.prototype.updateId=function(){return this._updateId},a.prototype._dispatchUpdate=function(){this._updateId=i++,this._callbacks.callCallbacks(this)},a);function a(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._updateId=i++,this._data=t,this._metadata=e,this._callbacks=new r.CallbackSet}e.Dataset=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(32),o=(a.prototype.render=function(){i.flush()},a);function a(){}e.Immediate=o;var s=(u.prototype.render=function(){r.DOM.requestAnimationFramePolyfill(i.flush)},u);function u(){}e.AnimationFrame=s;var c=(l.prototype.render=function(){setTimeout(i.flush,this._timeoutMsec)},l);function l(){this._timeoutMsec=r.DOM.SCREEN_REFRESH_RATE_MILLISECONDS}e.Timeout=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=n(14),a=n(1),s=n(16),u=(r=s.Interaction,i.__extends(c,r),c.prototype._anchor=function(t){r.prototype._anchor.call(this,t),this._positionDispatcher=o.Mouse.getDispatcher(this._componentAttachedTo),this._positionDispatcher.onMouseMove(this._mouseMoveCallback),this._keyDispatcher=o.Key.getDispatcher(),this._keyDispatcher.onKeyDown(this._keyDownCallback),this._keyDispatcher.onKeyUp(this._keyUpCallback)},c.prototype._unanchor=function(){r.prototype._unanchor.call(this),this._positionDispatcher.offMouseMove(this._mouseMoveCallback),this._positionDispatcher=null,this._keyDispatcher.offKeyDown(this._keyDownCallback),this._keyDispatcher.offKeyUp(this._keyUpCallback),this._keyDispatcher=null},c.prototype._handleKeyDownEvent=function(t,e){var n=this._translateToComponentSpace(this._positionDispatcher.lastMousePosition());this._isInsideComponent(n)&&!e.repeat&&(this._keyPressCallbacks[t]&&this._keyPressCallbacks[t].callCallbacks(t),this._downedKeys.add(t))},c.prototype._handleKeyUpEvent=function(t){this._downedKeys.has(t)&&this._keyReleaseCallbacks[t]&&this._keyReleaseCallbacks[t].callCallbacks(t),this._downedKeys.delete(t)},c.prototype.onKeyPress=function(t,e){return this._keyPressCallbacks[t]||(this._keyPressCallbacks[t]=new a.CallbackSet),this._keyPressCallbacks[t].add(e),this},c.prototype.offKeyPress=function(t,e){return this._keyPressCallbacks[t].delete(e),0===this._keyPressCallbacks[t].size&&delete this._keyPressCallbacks[t],this},c.prototype.onKeyRelease=function(t,e){return this._keyReleaseCallbacks[t]||(this._keyReleaseCallbacks[t]=new a.CallbackSet),this._keyReleaseCallbacks[t].add(e),this},c.prototype.offKeyRelease=function(t,e){return this._keyReleaseCallbacks[t].delete(e),0===this._keyReleaseCallbacks[t].size&&delete this._keyReleaseCallbacks[t],this},c);function c(){var n=null!==r&&r.apply(this,arguments)||this;return n._keyPressCallbacks={},n._keyReleaseCallbacks={},n._mouseMoveCallback=function(t){return!1},n._downedKeys=new a.Set,n._keyDownCallback=function(t,e){return n._handleKeyDownEvent(t,e)},n._keyUpCallback=function(t){return n._handleKeyUpEvent(t)},n}e.Key=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(0),o=n(1),a=n(31),s=(i=a.ComponentContainer,r.__extends(u,i),u.prototype._forEach=function(t){this.components().forEach(t)},u.prototype.has=function(t){return 0<=this._components.indexOf(t)},u.prototype.requestedSpace=function(e,n){var t=this._components.map(function(t){return t.requestedSpace(e,n)});return{minWidth:o.Math.max(t,function(t){return t.minWidth},0),minHeight:o.Math.max(t,function(t){return t.minHeight},0)}},u.prototype.computeLayout=function(t,e,n){var r=this;return i.prototype.computeLayout.call(this,t,e,n),this._forEach(function(t){t.computeLayout({x:0,y:0},r.width(),r.height())}),this},u.prototype._sizeFromOffer=function(t,e){return{width:t,height:e}},u.prototype.fixedWidth=function(){return this._components.every(function(t){return t.fixedWidth()})},u.prototype.fixedHeight=function(){return this._components.every(function(t){return t.fixedHeight()})},u.prototype.components=function(){return this._components.slice()},u.prototype.append=function(t){return null==t||this.has(t)||(t.detach(),this._components.push(t),this._adoptAndAnchor(t),this.redraw()),this},u.prototype._remove=function(t){var e=this._components.indexOf(t);return 0<=e&&(this._components.splice(e,1),!0)},u);function u(t){void 0===t&&(t=[]);var e=i.call(this)||this;return e._components=[],e.addClass("component-group"),t.forEach(function(t){return e.append(t)}),e}e.Group=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n(0),a=n(1),s=n(6);(i=r=r||{})[i.VALUE=0]="VALUE",i[i.PIXEL=1]="PIXEL";var u,c=(u=s.Component,o.__extends(l,u),l.prototype._setup=function(){u.prototype._setup.call(this),this._guideLine=this.content().append("line").classed("guide-line",!0)},l.prototype._sizeFromOffer=function(t,e){return{width:t,height:e}},l.prototype._isVertical=function(){return this._orientation===l.ORIENTATION_VERTICAL},l.prototype.fixedWidth=function(){return!0},l.prototype.fixedHeight=function(){return!0},l.prototype.computeLayout=function(t,e,n){return u.prototype.computeLayout.call(this,t,e,n),null!=this.scale()&&(this._isVertical()?this.scale().range([0,this.width()]):this.scale().range([this.height(),0])),this},l.prototype.renderImmediately=function(){return u.prototype.renderImmediately.call(this),this._syncPixelPositionAndValue(),this._guideLine.attrs({x1:this._isVertical()?this.pixelPosition():0,y1:this._isVertical()?0:this.pixelPosition(),x2:this._isVertical()?this.pixelPosition():this.width(),y2:this._isVertical()?this.height():this.pixelPosition()}),this},l.prototype._syncPixelPositionAndValue=function(){null!=this.scale()&&(this._mode===r.VALUE&&null!=this.value()?this._pixelPosition=this.scale().scale(this.value()):this._mode===r.PIXEL&&null!=this.pixelPosition()&&(this._value=this.scale().invert(this.pixelPosition())))},l.prototype._setPixelPositionWithoutChangingMode=function(t){this._pixelPosition=t,null!=this.scale()&&(this._value=this.scale().invert(this.pixelPosition())),this.render()},l.prototype.scale=function(t){if(null==t)return this._scale;var e=this._scale;return null!=e&&e.offUpdate(this._scaleUpdateCallback),this._scale=t,this._scale.onUpdate(this._scaleUpdateCallback),this._syncPixelPositionAndValue(),this.redraw(),this},l.prototype.value=function(t){return null==t?this._value:(this._value=t,this._mode=r.VALUE,this._syncPixelPositionAndValue(),this.render(),this)},l.prototype.pixelPosition=function(t){if(null==t)return this._pixelPosition;if(!a.Math.isValidNumber(t))throw new Error("pixelPosition must be a finite number");return this._pixelPosition=t,this._mode=r.PIXEL,this._syncPixelPositionAndValue(),this.render(),this},l.prototype.destroy=function(){u.prototype.destroy.call(this),null!=this.scale()&&this.scale().offUpdate(this._scaleUpdateCallback)},l.ORIENTATION_VERTICAL="vertical",l.ORIENTATION_HORIZONTAL="horizontal",l);function l(t){var e=u.call(this)||this;if(e._mode=r.VALUE,t!==l.ORIENTATION_VERTICAL&&t!==l.ORIENTATION_HORIZONTAL)throw new Error(t+" is not a valid orientation for GuideLineLayer");return e._orientation=t,e._overflowHidden=!0,e.addClass("guide-line-layer"),e._isVertical()?e.addClass("vertical"):e.addClass("horizontal"),e._scaleUpdateCallback=function(){e._syncPixelPositionAndValue(),e.render()},e}e.GuideLineLayer=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,r=n(0),i=n(5),o=n(6),s=(a=o.Component,r.__extends(u,a),u.prototype.requestedSpace=function(t,e){var n=this._measurer.measure(this._text);return{minWidth:(0===this.angle()?n.width:n.height)+2*this.padding(),minHeight:(0===this.angle()?n.height:n.width)+2*this.padding()}},u.prototype._setup=function(){a.prototype._setup.call(this),this._textContainer=this.content().append("g");var t=new i.SvgContext(this._textContainer.node());this._measurer=new i.CacheMeasurer(t),this._wrapper=new i.Wrapper,this._writer=new i.Writer(this._measurer,t,this._wrapper),this.text(this._text)},u.prototype.text=function(t){if(null==t)return this._text;if("string"!=typeof t)throw new Error("Label.text() only takes strings as input");return this._text=t,this.redraw(),this},u.prototype.angle=function(t){if(null==t)return this._angle;if(180<(t%=360)?t-=360:t<-180&&(t+=360),-90!==t&&0!==t&&90!==t)throw new Error(t+" is not a valid angle for Label");return this._angle=t,this.redraw(),this},u.prototype.padding=function(t){if(null==t)return this._padding;if((t=+t)<0)throw new Error(t+" is not a valid padding value. Cannot be less than 0.");return this._padding=t,this.redraw(),this},u.prototype.fixedWidth=function(){return!0},u.prototype.fixedHeight=function(){return!0},u.prototype.renderImmediately=function(){a.prototype.renderImmediately.call(this),this._textContainer.selectAll("g").remove();var t=this._measurer.measure(this._text),e=Math.max(Math.min((this.height()-t.height)/2,this.padding()),0),n=Math.max(Math.min((this.width()-t.width)/2,this.padding()),0);this._textContainer.attr("transform","translate("+n+","+e+")");var r=this.width()-2*n,i=this.height()-2*e,o={xAlign:this.xAlignment(),yAlign:this.yAlignment(),textRotation:this.angle()};return this._writer.write(this._text,r,i,o),this},u.prototype.invalidateCache=function(){a.prototype.invalidateCache.call(this),this._measurer.reset()},u);function u(t,e){void 0===t&&(t=""),void 0===e&&(e=0);var n=a.call(this)||this;return n.addClass("label"),n.text(t),n.angle(e),n.xAlignment("center").yAlignment("center"),n._padding=0,n}e.Label=s;var c,l=(c=s,r.__extends(h,c),h.TITLE_LABEL_CLASS="title-label",h);function h(t,e){var n=c.call(this,t,e)||this;return n.addClass(h.TITLE_LABEL_CLASS),n}e.TitleLabel=l;var p,f=(p=s,r.__extends(d,p),d.AXIS_LABEL_CLASS="axis-label",d);function d(t,e){var n=p.call(this,t,e)||this;return n.addClass(d.AXIS_LABEL_CLASS),n}e.AxisLabel=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n(0),a=n(1),s=n(6);(i=r=e.PropertyMode||(e.PropertyMode={}))[i.VALUE=0]="VALUE",i[i.PIXEL=1]="PIXEL";var u,c=(u=s.Component,o.__extends(l,u),l.prototype._setup=function(){u.prototype._setup.call(this),this._box=this.content().append("g").classed("selection-box",!0).remove(),this._boxArea=this._box.append("rect").classed("selection-area",!0)},l.prototype._sizeFromOffer=function(t,e){return{width:t,height:e}},l.prototype.bounds=function(t){return null==t?this._getBounds():(this._setBounds(t),this._xBoundsMode=r.PIXEL,this._yBoundsMode=r.PIXEL,this.render(),this)},l.prototype._setBounds=function(t){var e={x:Math.min(t.topLeft.x,t.bottomRight.x),y:Math.min(t.topLeft.y,t.bottomRight.y)},n={x:Math.max(t.topLeft.x,t.bottomRight.x),y:Math.max(t.topLeft.y,t.bottomRight.y)};this._boxBounds={topLeft:e,bottomRight:n}},l.prototype._getBounds=function(){return{topLeft:{x:this._xBoundsMode===r.PIXEL?this._boxBounds.topLeft.x:null==this._xScale?0:Math.min(this.xScale().scale(this.xExtent()[0]),this.xScale().scale(this.xExtent()[1])),y:this._yBoundsMode===r.PIXEL?this._boxBounds.topLeft.y:null==this._yScale?0:Math.min(this.yScale().scale(this.yExtent()[0]),this.yScale().scale(this.yExtent()[1]))},bottomRight:{x:this._xBoundsMode===r.PIXEL?this._boxBounds.bottomRight.x:null==this._xScale?0:Math.max(this.xScale().scale(this.xExtent()[0]),this.xScale().scale(this.xExtent()[1])),y:this._yBoundsMode===r.PIXEL?this._boxBounds.bottomRight.y:null==this._yScale?0:Math.max(this.yScale().scale(this.yExtent()[0]),this.yScale().scale(this.yExtent()[1]))}}},l.prototype.renderImmediately=function(){if(u.prototype.renderImmediately.call(this),this._boxVisible){var t=this.bounds(),e=t.topLeft.y,n=t.bottomRight.y,r=t.topLeft.x,i=t.bottomRight.x;if(!(a.Math.isValidNumber(e)&&a.Math.isValidNumber(n)&&a.Math.isValidNumber(r)&&a.Math.isValidNumber(i)))throw new Error("bounds have not been properly set");this._boxArea.attrs({x:r,y:e,width:i-r,height:n-e}),this.content().node().appendChild(this._box.node())}else this._box.remove();return this},l.prototype.boxVisible=function(t){return null==t?this._boxVisible:(this._boxVisible=t,this.render(),this)},l.prototype.fixedWidth=function(){return!0},l.prototype.fixedHeight=function(){return!0},l.prototype.xScale=function(t){return null==t?this._xScale:(null!=this._xScale&&this._xScale.offUpdate(this._adjustBoundsCallback),this._xScale=t,this._xBoundsMode=r.VALUE,this._xScale.onUpdate(this._adjustBoundsCallback),this.render(),this)},l.prototype.yScale=function(t){return null==t?this._yScale:(null!=this._yScale&&this._yScale.offUpdate(this._adjustBoundsCallback),this._yScale=t,this._yBoundsMode=r.VALUE,this._yScale.onUpdate(this._adjustBoundsCallback),this.render(),this)},l.prototype.xExtent=function(t){return null==t?this._getXExtent():(this._setXExtent(t),this._xBoundsMode=r.VALUE,this.render(),this)},l.prototype._getXExtent=function(){return this._xBoundsMode===r.VALUE?this._xExtent:null==this._xScale?[void 0,void 0]:[this._xScale.invert(this._boxBounds.topLeft.x),this._xScale.invert(this._boxBounds.bottomRight.x)]},l.prototype._setXExtent=function(t){this._xExtent=t},l.prototype.yExtent=function(t){return null==t?this._getYExtent():(this._setYExtent(t),this._yBoundsMode=r.VALUE,this.render(),this)},l.prototype._getYExtent=function(){return this._yBoundsMode===r.VALUE?this._yExtent:null==this._yScale?[void 0,void 0]:[this._yScale.invert(this._boxBounds.topLeft.y),this._yScale.invert(this._boxBounds.bottomRight.y)]},l.prototype._setYExtent=function(t){this._yExtent=t},l.prototype.destroy=function(){u.prototype.destroy.call(this),null!=this._xScale&&this.xScale().offUpdate(this._adjustBoundsCallback),null!=this._yScale&&this.yScale().offUpdate(this._adjustBoundsCallback)},l);function l(){var t=u.call(this)||this;return t._boxVisible=!1,t._boxBounds={topLeft:{x:0,y:0},bottomRight:{x:0,y:0}},t._xBoundsMode=r.PIXEL,t._yBoundsMode=r.PIXEL,t.addClass("selection-box-layer"),t._adjustBoundsCallback=function(){t.render()},t._overflowHidden=!0,t._xExtent=[void 0,void 0],t._yExtent=[void 0,void 0],t}e.SelectionBoxLayer=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=n(10),a=(r=o.SVGDrawer,i.__extends(s,r),s.prototype._applyDefaultAttributes=function(t){t.style("stroke","none")},s);function s(){return r.call(this,"path","arc fill")||this}e.ArcSVGDrawer=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=n(10),a=(r=o.SVGDrawer,i.__extends(s,r),s.prototype._applyDefaultAttributes=function(t){t.style("fill","none")},s);function s(){return r.call(this,"path","arc outline")||this}e.ArcOutlineSVGDrawer=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),s=n(19),o=n(10),a=(r=o.SVGDrawer,i.__extends(u,r),u.prototype._applyDefaultAttributes=function(t){t.style("stroke","none")},u.prototype.getVisualPrimitiveAtIndex=function(t){return r.prototype.getVisualPrimitiveAtIndex.call(this,0)},u);function u(){return r.call(this,"path","area")||this}e.AreaSVGDrawer=a;var c=["opacity","fill","fill-opacity"],l=["opacity","stroke","stroke-width"];e.makeAreaCanvasDrawStep=function(o,a){return function(t,e,n){var r=s.resolveAttributes(n,c,e[0],0);s.renderArea(t,o(),e[0],r);var i=s.resolveAttributes(n,l,e[0],0);s.renderLine(t,a(),e[0],i)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=n(10),a=(r=o.SVGDrawer,i.__extends(s,r),s);function s(){return r.call(this,"line","")||this}e.SegmentSVGDrawer=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),M=n(19),D=n(90),o=n(10),a=(r=o.SVGDrawer,i.__extends(s,r),s);function s(){return r.call(this,"path","symbol")||this}e.SymbolSVGDrawer=a;var L=M.ContextStyleAttrs.concat(["x","y"]);function I(t,e,n){if(null==t)return!1;for(var r=0;r<n.length;r++){var i=n[r];if(t[i]!=e[i])return!1}return!0}e.makeSymbolCanvasDrawStep=function(S,C,T,k){var P=this;return function(t,e,n){for(var r,i,o,a,s,u=t.canvas,c=u.clientWidth,l=u.clientHeight,h=void 0===k?new D.CanvasBuffer(0,0):k,p=C(),f=T(),d=null,_=null,y=null,m=0;m<e.length;m++){var g,v,b,x,w,E,A=e[m];null!=A&&(g=M.resolveAttributes(n,L,A,m),v=f(A,m,S),r=c,i=l,o=g.x,a=g.y,0<=o+(s=v)&&o-s<=r&&0<=a+s&&a-s<=i&&(b=I(d,g,M.ContextStyleAttrs),x=p(A,m,P._dataset),b&&y==v&&_==x||(((w=v+M.getStrokeWidth(g)+1)>h.screenWidth||w>h.screenHeight)&&h.resize(w,w,!0),h.clear(),(E=h.ctx).beginPath(),x(v).context(E)(null),E.closePath(),M.renderPathWithStyle(E,g),_=x,y=v,d=g),h.blitCenter(t,g.x,g.y)))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(135),o=n(41),a=n(18);function s(t){return t instanceof f?t:t instanceof Date?l(t.valueOf()):(t instanceof a.Scale?u:t instanceof o.Dataset?c:i(t)?p:Array.isArray(t)?h:l)(t)}function u(t){return p({domain:t.domain(),range:t.range(),updateId:t.updateId(),ref:l(t)})}function c(t){return p({ref:l(t),updateId:t.updateId()})}function l(t){return new v(t)}function h(t){return new y(t.map(s))}function p(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=s(t[n]));return new w(e)}e.sign=s,e.signScale=u,e.signDataset=c,e.signRef=l,e.signArray=h,e.signObj=p;var f=(d.prototype.isDifferent=function(t){return!(t instanceof this.constructor)||this.isSignatureDifferent(t)},d);function d(){}e.Signature=f;var _,y=(_=f,r.__extends(m,_),m.prototype.isSignatureDifferent=function(t){if(t.array.length!==this.array.length)return!0;for(var e=0;e<this.array.length;e++)if(this.array[e].isDifferent(t.array[e]))return!0;return!1},m);function m(t){var e=_.call(this)||this;return e.array=t,e}e.ArraySignature=y;var g,v=(g=f,r.__extends(b,g),b.prototype.isSignatureDifferent=function(t){return this.ref!==t.ref},b);function b(t){var e=g.call(this)||this;return e.ref=t,e}e.ReferenceSignature=v;var x,w=(x=f,r.__extends(E,x),E.prototype.isSignatureDifferent=function(t){var e=Object.keys(this.obj),n=Object.keys(t.obj);if(e.length!==n.length)return!0;for(var r=0,i=e;r<i.length;r++){var o=i[r];if(!t.obj.hasOwnProperty(o))return!0;if(this.obj[o].isDifferent(t.obj[o]))return!0}return!1},E);function E(t){var e=x.call(this)||this;return e.obj=t,e}e.ObjectSignature=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=n(0),s=n(2),i=n(4),u=n(1),c=n(15),l=n(50),h=n(8),a=n(35),p=n(20),f=n(57),d=n(3),_=(o=f.Line,r.__extends(y,o),y.prototype.y=function(t,e){return null==t?o.prototype.y.call(this):(null==e?o.prototype.y.call(this,t):o.prototype.y.call(this,t,e),null!=e&&(null!=(n=this.y0().accessor)&&this._bindProperty(y._Y0_KEY,n,e),this._updateYScale()),this);var n},y.prototype.y0=function(t){if(null==t)return this._propertyBindings.get(y._Y0_KEY);var e=this.y(),n=e&&e.scale;return this._bindProperty(y._Y0_KEY,t,n),this._updateYScale(),this.render(),this},y.prototype._onDatasetUpdate=function(){o.prototype._onDatasetUpdate.call(this),this._updateYScale()},y.prototype._addDataset=function(n){var r=this;return this._lineDrawers.set(n,new c.ProxyDrawer(function(){return new a.LineSVGDrawer},function(t){return new c.CanvasDrawer(t,a.makeLineCanvasDrawStep(function(){var t=d.Plot._scaledAccessor(r.x()),e=d.Plot._scaledAccessor(r.y());return r._d3LineFactory(n,t,e)}))})),o.prototype._addDataset.call(this,n),this},y.prototype._createNodesForDataset=function(t){o.prototype._createNodesForDataset.call(this,t);var e=this._lineDrawers.get(t);return"svg"===this.renderer()?e.useSVG(this._renderArea):e.useCanvas(this._canvas),e},y.prototype._removeDatasetNodes=function(t){o.prototype._removeDatasetNodes.call(this,t),this._lineDrawers.get(t).remove()},y.prototype._additionalPaint=function(){var n=this,r=this._generateLineDrawSteps(),i=this._getDataToDraw();this.datasets().forEach(function(t){var e=d.Plot.applyDrawSteps(r,t);n._lineDrawers.get(t).draw(i.get(t),e)})},y.prototype._generateLineDrawSteps=function(){var t,e=[];return this._animateOnNextRender()&&((t=this._generateLineAttrToProjector()).d=this._constructLineProjector(d.Plot._scaledAccessor(this.x()),this._getResetYFunction()),e.push({attrToProjector:t,animator:this._getAnimator(p.Animator.RESET)})),e.push({attrToProjector:this._generateLineAttrToProjector(),animator:this._getAnimator(p.Animator.MAIN)}),e},y.prototype._generateLineAttrToProjector=function(){var t=this._getAttrToProjector();return t.d=this._constructLineProjector(d.Plot._scaledAccessor(this.x()),d.Plot._scaledAccessor(this.y())),t},y.prototype._createDrawer=function(o){var a=this;return new h.ProxyDrawer(function(){return new l.AreaSVGDrawer},function(t){return new c.CanvasDrawer(t,l.makeAreaCanvasDrawStep(function(){var t=a._coordinateProjectors(),e=t[0],n=t[1],r=t[2],i=a._createDefinedProjector(e,n);return a._createAreaGenerator(e,n,r,i,o)},function(){var t=a._coordinateProjectors(),e=t[0],n=t[1],r=a._createDefinedProjector(e,n);return a._createTopLineGenerator(e,n,r,o)}))})},y.prototype._generateDrawSteps=function(){var t,e=[];return this._animateOnNextRender()&&((t=this._getAttrToProjector()).d=this._constructAreaProjector(d.Plot._scaledAccessor(this.x()),this._getResetYFunction(),d.Plot._scaledAccessor(this.y0())),e.push({attrToProjector:t,animator:this._getAnimator(p.Animator.RESET)})),e.push({attrToProjector:this._getAttrToProjector(),animator:this._getAnimator(p.Animator.MAIN)}),e},y.prototype._updateYScale=function(){var t=this.getExtentsForProperty("y0"),e=u.Array.flatten(t),n=u.Array.uniq(e),r=1===n.length?n[0]:null,i=this.y(),o=i&&i.scale;null!=o&&(null!=this._constantBaselineValueProvider&&(o.removePaddingExceptionsProvider(this._constantBaselineValueProvider),this._constantBaselineValueProvider=null),null!=r&&(this._constantBaselineValueProvider=function(){return[r]},o.addPaddingExceptionsProvider(this._constantBaselineValueProvider)))},y.prototype._getResetYFunction=function(){return d.Plot._scaledAccessor(this.y0())},y.prototype._coordinateProjectors=function(){return[d.Plot._scaledAccessor(this.x()),d.Plot._scaledAccessor(this.y()),d.Plot._scaledAccessor(this.y0())]},y.prototype._propertyProjectors=function(){var t=o.prototype._propertyProjectors.call(this),e=this._coordinateProjectors(),n=e[0],r=e[1],i=e[2];return t.d=this._constructAreaProjector(n,r,i),t},y.prototype.selections=function(t){var e=this;if(void 0===t&&(t=this.datasets()),"canvas"===this.renderer())return s.selectAll();var n=o.prototype.selections.call(this,t).nodes();return t.map(function(t){return e._lineDrawers.get(t)}).filter(function(t){return null!=t}).forEach(function(t){return n.push.apply(n,t.getVisualPrimitives())}),s.selectAll(n)},y.prototype._constructAreaProjector=function(r,i,o){var a=this,s=this._createDefinedProjector(d.Plot._scaledAccessor(this.x()),d.Plot._scaledAccessor(this.y()));return function(t,e,n){return a._createAreaGenerator(r,i,o,s,n)(t)}},y.prototype._createDefinedProjector=function(o,a){return function(t,e,n){var r=o(t,e,n),i=a(t,e,n);return u.Math.isValidNumber(r)&&u.Math.isValidNumber(i)}},y.prototype._createAreaGenerator=function(n,r,i,o,a){var t=this._getCurveFactory();return s.area().x(function(t,e){return n(t,e,a)}).y1(function(t,e){return r(t,e,a)}).y0(function(t,e){return i(t,e,a)}).curve(t).defined(function(t,e){return o(t,e,a)})},y.prototype._createTopLineGenerator=function(n,r,i,o){var t=this._getCurveFactory();return s.line().x(function(t,e){return n(t,e,o)}).y(function(t,e){return r(t,e,o)}).curve(t).defined(function(t,e){return i(t,e,o)})},y._Y0_KEY="y0",y);function y(){var t=o.call(this)||this;return t.addClass("area-plot"),t.y0(0),t.attr("fill-opacity",.25),t.attr("fill",(new i.Color).range()[0]),t._lineDrawers=new u.Map,t}e.Area=_},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),(r=e.Animator||(e.Animator={})).MAIN="main",r.RESET="reset"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(i.prototype.reset=function(){this.scale=1,this.translate=0,this.cachedDomain=this.lastSeenDomain},i.prototype.setDomain=function(t){this.cachedDomain=t.getTransformationDomain()},i);function i(){var r=this;this.scale=0,this.translate=0,this.cachedDomain=[null,null],this.lastSeenDomain=[null,null],this.updateDomain=function(t){r.lastSeenDomain=t.getTransformationDomain();var e=t.scaleTransformation(r.cachedDomain[1])-t.scaleTransformation(r.cachedDomain[0]),n=t.scaleTransformation(r.lastSeenDomain[1])-t.scaleTransformation(r.lastSeenDomain[0]);r.scale=e/n||1,r.translate=t.scaleTransformation(r.cachedDomain[0])-t.scaleTransformation(r.lastSeenDomain[0])*r.scale||0}}var o=(a.prototype.setDomains=function(t,e){t&&this.domainTransformX.setDomain(t),e&&this.domainTransformY.setDomain(e),this.renderDeferred()},a.prototype.updateDomains=function(t,e){t&&this.domainTransformX.updateDomain(t),e&&this.domainTransformY.updateDomain(e),this.renderDeferred()},a.prototype.resetTransforms=function(){this.domainTransformX.reset(),this.domainTransformY.reset(),this.applyTransform()},a.prototype.applyTransform=function(){this.applyTransformCallback(this.domainTransformX.translate,this.domainTransformY.translate,this.domainTransformX.scale,this.domainTransformY.scale)},a.DEFERRED_RENDERING_DELAY=200,a);function a(t,e){var n=this;this.renderCallback=t,this.applyTransformCallback=e,this.domainTransformX=new r,this.domainTransformY=new r,this.renderDeferred=function(){n.applyTransform(),clearTimeout(n.timeoutToken),n.timeoutToken=setTimeout(function(){n.renderCallback()},a.DEFERRED_RENDERING_DELAY)}}e.DeferredRenderer=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(2),o=n(9),a=n(15),s=n(8),u=n(35),c=n(4),m=n(12),d=n(1),l=n(11),h=n(20),x=n(3),p=n(17),f={linear:i.curveLinear,linearClosed:i.curveLinearClosed,step:i.curveStep,stepBefore:i.curveStepBefore,stepAfter:i.curveStepAfter,basis:i.curveBasis,basisOpen:i.curveBasisOpen,basisClosed:i.curveBasisClosed,bundle:i.curveBundle,cardinal:i.curveCardinal,cardinalOpen:i.curveCardinalOpen,cardinalClosed:i.curveCardinalClosed,monotone:i.curveMonotoneX};e.CurveName=l.makeEnum(["linear","linearClosed","step","stepBefore","stepAfter","basis","basisOpen","basisClosed","bundle","cardinal","cardinalOpen","cardinalClosed","monotone"]);var _,y=(_=p.XYPlot,r.__extends(g,_),g.prototype.x=function(t,e,n){return null==t?_.prototype.x.call(this):(_.prototype.x.call(this,t,e,n),this._setScaleSnapping(),this)},g.prototype.y=function(t,e,n){return null==t?_.prototype.y.call(this):(_.prototype.y.call(this,t,e,n),this._setScaleSnapping(),this)},g.prototype.autorangeMode=function(t){return null==t?_.prototype.autorangeMode.call(this):(_.prototype.autorangeMode.call(this,t),this._setScaleSnapping(),this)},g.prototype.autorangeSmooth=function(t){return null==t?this._autorangeSmooth:(this._autorangeSmooth=t,this._setScaleSnapping(),this)},g.prototype._setScaleSnapping=function(){"x"===this.autorangeMode()&&this.x()&&this.x().scale&&this.x().scale instanceof m.QuantitativeScale&&this.x().scale.snappingDomainEnabled(!this.autorangeSmooth()),"y"===this.autorangeMode()&&this.y()&&this.y().scale&&this.y().scale instanceof m.QuantitativeScale&&this.y().scale.snappingDomainEnabled(!this.autorangeSmooth())},g.prototype.curve=function(t){return null==t?this._curve:(this._curve=t,this.render(),this)},g.prototype.downsamplingEnabled=function(t){return null==t?this._downsamplingEnabled:(this._downsamplingEnabled=t,this)},g.prototype.croppedRenderingEnabled=function(t){return null==t?this._croppedRenderingEnabled:(this._croppedRenderingEnabled=t,this.render(),this)},g.prototype.collapseDenseLinesEnabled=function(t){return null==t?this._collapseDenseVerticalLinesEnabled:(this._collapseDenseVerticalLinesEnabled=t,this.render(),this)},g.prototype._createDrawer=function(e){var n=this;return new s.ProxyDrawer(function(){return new u.LineSVGDrawer},function(t){return new a.CanvasDrawer(t,u.makeLineCanvasDrawStep(function(){return n._d3LineFactory(e)}))})},g.prototype.getExtentsForProperty=function(t){var e=_.prototype.getExtentsForProperty.call(this,t);if(!this._autorangeSmooth)return e;if(this.autorangeMode()!==t)return e;if("x"!==this.autorangeMode()&&"y"!==this.autorangeMode())return e;var n=this._getEdgeIntersectionPoints(),r="y"===this.autorangeMode()?n.left.concat(n.right).map(function(t){return t.y}):n.top.concat(n.bottom).map(function(t){return t.x});return e.map(function(t){return i.extent(i.merge([t,r]))})},g.prototype._getEdgeIntersectionPoints=function(){var c=this;if(!(this.y().scale instanceof m.QuantitativeScale&&this.x().scale instanceof m.QuantitativeScale))return{left:[],right:[],top:[],bottom:[]};var l=this.y().scale,h=this.x().scale,p={left:[],right:[],top:[],bottom:[]},f=h.scale(h.domain()[0]),d=h.scale(h.domain()[1]),_=l.scale(l.domain()[0]),y=l.scale(l.domain()[1]);return this.datasets().forEach(function(t){for(var e,n,r,i,o,a,s=t.data(),u=1;u<s.length;u++)r=o||h.scale(c.x().accessor(s[u-1],u-1,t)),i=a||l.scale(c.y().accessor(s[u-1],u-1,t)),o=h.scale(c.x().accessor(s[u],u,t)),a=l.scale(c.y().accessor(s[u],u,t)),r<f==f<=o&&(n=(e=f-r)*(a-i)/(o-r),p.left.push({x:f,y:l.invert(i+n)})),r<d==d<=o&&(n=(e=d-r)*(a-i)/(o-r),p.right.push({x:d,y:l.invert(i+n)})),i<y==y<=a&&(e=(n=y-i)*(o-r)/(a-i),p.top.push({x:h.invert(r+e),y:y})),i<_==_<=a&&(e=(n=_-i)*(o-r)/(a-i),p.bottom.push({x:h.invert(r+e),y:_}))}),p},g.prototype._getResetYFunction=function(){var t=this.y().scale.domain(),e=Math.max(t[0],t[1]),n=Math.min(t[0],t[1]),r=e<0&&e||0<n&&n||0,i=this.y().scale.scale(r);return function(t,e,n){return i}},g.prototype._generateDrawSteps=function(){var t,e=[];return this._animateOnNextRender()&&((t=this._getAttrToProjector()).d=this._constructLineProjector(x.Plot._scaledAccessor(this.x()),this._getResetYFunction()),e.push({attrToProjector:t,animator:this._getAnimator(h.Animator.RESET)})),e.push({attrToProjector:this._getAttrToProjector(),animator:this._getAnimator(h.Animator.MAIN)}),e},g.prototype._generateAttrToProjector=function(){var e=_.prototype._generateAttrToProjector.call(this);return Object.keys(e).forEach(function(t){var r;"d"!==t&&(r=e[t],e[t]=function(t,e,n){return 0<t.length?r(t[0],e,n):null})}),e},g.prototype.entitiesAt=function(t){var e=this.entityNearestByXThenY(t);return null!=e?[e]:[]},g.prototype.entityNearestByXThenY=function(t){for(var e,n=1/0,r=1/0,i=this.bounds(),o=this.entities(),a=o.length,s=0;s<a;s++){var u,c,l=o[s];d.Math.within(l.position,i)&&(u=Math.abs(t.x-l.position.x),c=Math.abs(t.y-l.position.y),(u<n||u===n&&c<r)&&(e=l,n=u,r=c))}return e},g.prototype._propertyProjectors=function(){var t=_.prototype._propertyProjectors.call(this);return t.d=this._constructLineProjector(x.Plot._scaledAccessor(this.x()),x.Plot._scaledAccessor(this.y())),t},g.prototype._constructLineProjector=function(r,i){var o=this;return function(t,e,n){return o._d3LineFactory(n,r,i)(t)}},g.prototype._d3LineFactory=function(s,u,c){return void 0===u&&(u=x.Plot._scaledAccessor(this.x())),void 0===c&&(c=x.Plot._scaledAccessor(this.y())),i.line().x(function(t,e){return u(t,e,s)}).y(function(t,e){return c(t,e,s)}).curve(this._getCurveFactory()).defined(function(t,e){return o=u(n=t,r=e,i=s),a=c(n,r,i),d.Math.isValidNumber(o)&&d.Math.isValidNumber(a);var n,r,i,o,a})},g.prototype._getCurveFactory=function(){var t=this.curve();if("string"!=typeof t)return t;var e=f[t];return null==e?f.linear:e},g.prototype._getDataToDraw=function(){var u=this,c=new d.Map;return this.datasets().forEach(function(t){var e=t.data();if(u._croppedRenderingEnabled||u._downsamplingEnabled){for(var n=[],r=e.length,i=0;i<r;i++)n[i]=i;u._croppedRenderingEnabled&&(n=u._filterCroppedRendering(t,n)),u._downsamplingEnabled&&(n=u._filterDownsampling(t,n)),u._collapseDenseVerticalLinesEnabled&&(n=u._filterDenseLines(t,n));for(var o=[],a=n.length,i=0;i<a;i++){var s=n[i];o[i]=e[s]}c.set(t,[o])}else c.set(t,[e])}),c},g.prototype._filterCroppedRendering=function(t,e){for(var n=this,r=x.Plot._scaledAccessor(this.x()),i=x.Plot._scaledAccessor(this.y()),o=t.data(),a=[],s=function(t,e){return d.Math.inRange(t,0,n.width())&&d.Math.inRange(e,0,n.height())},u=0;u<e.length;u++){var c,l,h,p,f=s(r(o[e[u]],e[u],t),i(o[e[u]],e[u],t));f||null==e[u-1]||null==o[e[u-1]]||(c=r(o[e[u-1]],e[u-1],t),l=i(o[e[u-1]],e[u-1],t),f=f||s(c,l)),f||null==e[u+1]||null==o[e[u+1]]||(h=r(o[e[u+1]],e[u+1],t),p=i(o[e[u+1]],e[u+1],t),f=f||s(h,p)),f&&a.push(e[u])}return a},g.prototype._filterDownsampling=function(s,u){if(0===u.length)return[];for(var c=s.data(),l=x.Plot._scaledAccessor(this.x()),h=x.Plot._scaledAccessor(this.y()),t=[u[0]],e=function(t,e){var n=l(c[u[t]],u[t],s),r=h(c[u[t]],u[t],s),i=l(c[u[t+1]],u[t+1],s),o=h(c[u[t+1]],u[t+1],s);if(e===1/0)return Math.floor(n)===Math.floor(i);var a=r+(i-n)*e;return Math.floor(o)===Math.floor(a)},n=0;n<u.length-1;){for(var r=u[n],i=l(c[u[n]],u[n],s),o=h(c[u[n]],u[n],s),a=l(c[u[n+1]],u[n+1],s),p=h(c[u[n+1]],u[n+1],s),f=Math.floor(i)===Math.floor(a)?1/0:(p-o)/(a-i),d=u[n],_=f==1/0?o:i,y=d,m=_,g=!0;n<u.length-1&&(g||e(n,f));){g=!1;var v=(f==1/0?h:l)(c[u[++n]],u[n],s);m<v&&(m=v,y=u[n]),v<_&&(_=v,d=u[n])}var b=u[n];d!==r&&t.push(d),y!==d&&y!==r&&t.push(y),b!==r&&b!==d&&b!==y&&t.push(b)}return t},g.prototype._filterDenseLines=function(e,t){if(0===t.length)return[];var n=e.data(),r=x.Plot._scaledAccessor(this.x()),i=x.Plot._scaledAccessor(this.y());return this._bucketByX(e,t,function(t){return r(n[t],t,e)},function(t){return i(n[t],t,e)})},g.prototype._bucketByX=function(t,e,n,r){for(var i=[],o=t.data(),a=null,s=e.length,u=0;u<=s;++u){var c,l,h=e[u];null!=o[h]&&(c=Math.floor(n(h)),l=r(h),null==a?a=new d.Bucket(h,c,l):a.isInBucket(c)?a.addToBucket(l,h):(i.push.apply(i,a.getUniqueIndices()),a=new d.Bucket(h,c,l)))}return null!=a&&i.push.apply(i,a.getUniqueIndices()),i},g);function g(){var t=_.call(this)||this;t._curve="linear",t._autorangeSmooth=!1,t._croppedRenderingEnabled=!0,t._collapseDenseVerticalLinesEnabled=!1,t._downsamplingEnabled=!1,t.addClass("line-plot");var e=new o.Easing;return e.stepDuration(x.Plot._ANIMATION_MAX_DURATION),e.easingMode("expInOut"),e.maxTotalDuration(x.Plot._ANIMATION_MAX_DURATION),t.animator(h.Animator.MAIN,e),t.attr("stroke",(new c.Color).range()[0]),t.attr("stroke-width","2px"),t}e.Line=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),c=n(2),o=n(27),a=n(1),s=n(18),u=[0,1],l=(r=s.Scale,i.__extends(h,r),h.prototype.cloneWithoutProviders=function(){var t=(new h).domain(this.domain()).range(this.range()).innerPadding(this.innerPadding()).outerPadding(this.outerPadding());return t._d3TransformationScale.domain(this._d3TransformationScale.domain()),t},h.prototype.extentOfValues=function(t){return a.Array.uniq(t)},h.prototype._getExtent=function(){return a.Array.uniq(this._getAllIncludedValues())},h.prototype.domain=function(t){return r.prototype.domain.call(this,t)},h.prototype.invertRange=function(t){var e=this;void 0===t&&(t=this.range());var n=this._d3Scale.bandwidth(),r=this.invertedTransformation(t[0]),i=this.invertedTransformation(t[1]),o=this._d3Scale.domain(),a=o.map(function(t){return e._d3Scale(t)+n/2}),s=c.bisect(a,r),u=c.bisect(a,i);return o.slice(s,u)},h.prototype.range=function(t){return r.prototype.range.call(this,t)},h._convertToPlottableInnerPadding=function(t){return 1/(1-t)-1},h._convertToPlottableOuterPadding=function(t,e){return t/(1-e)},h.prototype._setBands=function(){var t=1-1/(1+this.innerPadding()),e=this.outerPadding()/(1+this.innerPadding());this._d3Scale.paddingInner(t),this._d3Scale.paddingOuter(e)},h.prototype.rangeBand=function(){return this._rescaleBand(this._d3Scale.bandwidth())},h.prototype.stepWidth=function(){return this._rescaleBand(this._d3Scale.bandwidth()*(1+this.innerPadding()))},h.prototype.ticks=function(){return this.domain()},h.prototype.innerPadding=function(t){return null==t?this._innerPadding:(this._innerPadding=t,this.range(this.range()),this._dispatchUpdate(),this)},h.prototype.outerPadding=function(t){return null==t?this._outerPadding:(this._outerPadding=t,this.range(this.range()),this._dispatchUpdate(),this)},h.prototype.scale=function(t){var e=this._d3Scale(t)+this._d3Scale.bandwidth()/2;return this._d3TransformationScale(e)},h.prototype.zoom=function(e,n){var r=this;this._d3TransformationScale.domain(this._d3TransformationScale.range().map(function(t){return r._d3TransformationScale.invert(o.zoomOut(t,e,n))})),this._dispatchUpdate()},h.prototype.pan=function(e){var n=this;this._d3TransformationScale.domain(this._d3TransformationScale.range().map(function(t){return n._d3TransformationScale.invert(t+e)})),this._dispatchUpdate()},h.prototype.scaleTransformation=function(t){return this._d3TransformationScale(t)},h.prototype.invertedTransformation=function(t){return this._d3TransformationScale.invert(t)},h.prototype.getTransformationExtent=function(){return u},h.prototype.getTransformationDomain=function(){return this._d3TransformationScale.domain()},h.prototype.setTransformationDomain=function(t){this._d3TransformationScale.domain(t),this._dispatchUpdate()},h.prototype._getDomain=function(){return this._backingScaleDomain()},h.prototype._backingScaleDomain=function(t){return null==t?this._d3Scale.domain():(this._d3Scale.domain(t),this._setBands(),this)},h.prototype._getRange=function(){return this._range},h.prototype._setRange=function(t){this._range=t,this._d3TransformationScale.range(t),this._setBands()},h.prototype._rescaleBand=function(t){return Math.abs(this._d3TransformationScale(t)-this._d3TransformationScale(0))},h);function h(){var t=r.call(this)||this;t._range=[0,1],t._d3Scale=c.scaleBand(),t._d3Scale.range(u),t._d3TransformationScale=c.scaleLinear(),t._d3TransformationScale.domain(u);return t._innerPadding=h._convertToPlottableInnerPadding(.3),t._outerPadding=h._convertToPlottableOuterPadding(.5,.3),t}e.Category=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=window.Math;function o(t){var e;try{e=t.node().getBBox()}catch(t){e={x:0,y:0,width:0,height:0}}return e}e.contains=function(t,e){for(var n=e;null!=n&&n!==t;)n=n.parentNode;return n===t},e.elementBBox=o,e.entityBounds=function(t){if(t instanceof SVGElement)return o(r.select(t));if(t instanceof HTMLElement){var e=t.getBoundingClientRect();return{x:e.left,y:e.top,width:e.width,height:e.height}}return{x:0,y:0,width:0,height:0}},e.SCREEN_REFRESH_RATE_MILLISECONDS=1e3/60,e.requestAnimationFramePolyfill=function(t){null!=window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,e.SCREEN_REFRESH_RATE_MILLISECONDS)},e.elementWidth=function(t){var e=t instanceof r.selection?t.node():t,n=window.getComputedStyle(e);return f(n,"width")+f(n,"padding-left")+f(n,"padding-right")+f(n,"border-left-width")+f(n,"border-right-width")},e.elementHeight=function(t){var e=t instanceof r.selection?t.node():t,n=window.getComputedStyle(e);return f(n,"height")+f(n,"padding-top")+f(n,"padding-bottom")+f(n,"border-top-width")+f(n,"border-bottom-width")};var a="\\s",s="(?:[-+]?[0-9]*\\.?[0-9]+)",u="(?:(?:\\s+,?\\s*)|(?:,\\s*))",c=new RegExp("translate\\s*\\(\\s*("+s+")(?:"+u+"("+s+"))?"+a+"*\\)"),l=new RegExp("rotate\\s*\\(\\s*("+s+")"+a+"*\\)"),h=new RegExp("scale\\s*\\(\\s*("+s+")(?:"+u+"("+s+"))?"+a+"*\\)");function p(t){if("number"==typeof t)return{min:t,max:t};if(t instanceof Object&&"min"in t&&"max"in t)return t;throw new Error("input '"+t+"' can't be parsed as an Range")}function f(t,e){var n=t.getPropertyValue(e);return parseFloat(n)||0}e.getTranslateValues=function(t){var e=c.exec(t.attr("transform"));if(null==e)return[0,0];var n=e[1],r=e[2];return[+n,+(void 0===r?0:r)]},e.getRotate=function(t){var e=l.exec(t.attr("transform"));return null==e?0:+e[1]},e.getScaleValues=function(t){var e=h.exec(t.attr("transform"));if(null==e)return[0,0];var n=e[1],r=e[2];return[+n,null==r?+n:+r]},e.clientRectsOverlap=function(t,e){return!(i.floor(t.right)<=i.ceil(e.left))&&(!(i.ceil(t.left)>=i.floor(e.right))&&(!(i.floor(t.bottom)<=i.ceil(e.top))&&!(i.ceil(t.top)>=i.floor(e.bottom))))},e.expandRect=function(t,e){return{left:t.left-e,top:t.top-e,right:t.right+e,bottom:t.bottom+e,width:t.width+2*e,height:t.height+2*e}},e.clientRectInside=function(t,e){return i.floor(e.left)<=i.ceil(t.left)&&i.floor(e.top)<=i.ceil(t.top)&&i.floor(t.right)<=i.ceil(e.right)&&i.floor(t.bottom)<=i.ceil(e.bottom)},e.intersectsBBox=function(t,e,n,r){void 0===r&&(r=.5);var i=p(t),o=p(e);return n.x+n.width>=i.min-r&&n.x<=i.max+r&&n.y+n.height>=o.min-r&&n.y<=o.max+r},e.getHtmlElementAncestors=function(t){for(var e=[];t&&t instanceof HTMLElement;)e.push(t),t=t.parentElement;return e},e.getElementTransform=function(t){var e=window.getComputedStyle(t,null);return function(t){if(null==t||"none"===t)return null;var e=t.match(d);if(null==e||e.length<2)return null;var n=e[1].split(_).map(function(t){return parseFloat(t)});return 6==n.length?n:null}(e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform"))};var d=/^matrix\(([^)]+)\)$/,_=/[, ]+/},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),p=n(59),s=window.Math,f=[1,0,0,1,0,0];function d(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}function _(t,e){return[t[0],t[1],t[2],t[3],t[0]*e[0]+t[2]*e[1]+t[4],t[1]*e[0]+t[3]*e[1]+t[5]]}function y(t){var e=t[0]*t[3]-t[1]*t[2];if(0==e)throw new Error("singular matrix");var n=1/e;return[n*t[3],n*-t[1],n*-t[2],n*t[0],n*(-t[3]*t[4]+t[2]*t[5]),n*(t[1]*t[4]+-t[0]*t[5])]}e.inRange=function(t,e,n){return s.min(e,n)<=t&&t<=s.max(e,n)},e.clamp=function(t,e,n){return s.min(s.max(e,t),n)},e.max=function(t,e,n){var r="function"==typeof e?e:null,i=null==r?e:n,o=null==r?a.max(t):a.max(t,r);return void 0!==o?o:i},e.min=function(t,e,n){var r="function"==typeof e?e:null,i=null==r?e:n,o=null==r?a.min(t):a.min(t,r);return void 0!==o?o:i},e.isNaN=function(t){return t!=t},e.isValidNumber=function(t){return"number"==typeof t&&t-t<1},e.range=function(t,e,n){if(void 0===n&&(n=1),0===n)throw new Error("step cannot be 0");for(var r=s.max(s.ceil((e-t)/n),0),i=[],o=0;o<r;++o)i[o]=t+n*o;return i},e.distanceSquared=function(t,e){return s.pow(e.y-t.y,2)+s.pow(e.x-t.x,2)},e.degreesToRadians=function(t){return t/360*s.PI*2},e.within=function(t,e){return e.topLeft.x<=t.x&&e.bottomRight.x>=t.x&&e.topLeft.y<=t.y&&e.bottomRight.y>=t.y},e.boundsIntersects=function(t,e,n,r,i,o,a,s){return t<=i+a&&i<=t+n&&e<=o+s&&o<=e+r},e.getCumulativeTransform=function(t){for(var e=p.getHtmlElementAncestors(t),n=f,r=null,i=0,o=e;i<o.length;i++){var a,s,u=o[i],c=p.getElementTransform(u);null!=c&&(n=_(n,[a=u.clientWidth/2,s=u.clientHeight/2]),n=_(n=d(n,y(c)),[-a,-s]));var l=u.scrollLeft,h=u.scrollTop;null!==r&&u!==r||(l-=u.offsetLeft+u.clientLeft,h-=u.offsetTop+u.clientTop,r=u.offsetParent),n=_(n,[l,h])}return n},e.multiplyMatrix=d,e.premultiplyTranslate=function(t,e){return[e[0],e[1],e[2],e[3],e[4]+t[0],e[5]+t[1]]},e.multiplyTranslate=_,e.invertMatrix=y,e.applyTransform=function(t,e){return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c,r,i=n(121),o=new i.SplitStrategyLinear;function a(r,i,o){var a=1/0,s=1/0,u=1/0;return function(t){var e=i(t.bounds,r),n=o(t.bounds,r);return null!=t.value?e<a?(s=a=e,u=n,c.PASS_AND_OVERWRITE):e===a?c.PASS:c.FAIL:u<e?c.FAIL:(s=Math.min(e,s),u=Math.max(n,u),c.PASS)}}function s(n,r){return function(t,e){return r(e.bounds,n)-r(t.bounds,n)}}(r=c=e.QueryPredicateResult||(e.QueryPredicateResult={}))[r.PASS=0]="PASS",r[r.FAIL=1]="FAIL",r[r.PASS_AND_OVERWRITE=2]="PASS_AND_OVERWRITE",e.createMinimizingNodePredicate=a,e.createNodeSort=s;var u=(l.prototype.getRoot=function(){return this.root},l.prototype.clear=function(){this.root=new h(!0),this.size=0},l.prototype.insert=function(t,e){for(var n=this.root;!n.leaf;)n=n.subtree(t);var r=h.valueNode(t,e);for(n.insert(r),this.size+=1;n.overflow(this.maxNodeChildren);)null==(n=n.split(this.splitStrategy)).parent&&(this.root=n);return r},l.prototype.locate=function(e){return this.query(function(t){return t.contains(e)})},l.prototype.locateNearest=function(t){var e=a(t,f.distanceSquaredToNearEdge,f.distanceSquaredToFarEdge);return this.queryNodes(e).map(function(t){return t.value})},l.prototype.locateNearestX=function(t){var e=a(t,f.absoluteDistanceToNearEdgeX,f.absoluteDistanceToFarEdgeX),n=this.queryNodes(e);return n.sort(s(t,f.absoluteDistanceToNearEdgeY)),n.map(function(t){return t.value})},l.prototype.locateNearestY=function(t){var e=a(t,f.absoluteDistanceToNearEdgeY,f.absoluteDistanceToFarEdgeY),n=this.queryNodes(e);return n.sort(s(t,f.absoluteDistanceToNearEdgeX)),n.map(function(t){return t.value})},l.prototype.intersect=function(e){return this.query(function(t){return f.isBoundsOverlapBounds(t,e)})},l.prototype.intersectX=function(e){return this.query(function(t){return f.isBoundsOverlapX(t,e)})},l.prototype.intersectY=function(e){return this.query(function(t){return f.isBoundsOverlapY(t,e)})},l.prototype.query=function(t){var e=[];if(null!=this.root.bounds&&!t(this.root.bounds))return e;for(var n=[this.root];0<n.length;)for(var r=n.shift(),i=0;i<r.entries.length;i++){var o=r.entries[i];t(o.bounds)&&(r.leaf?e.push(o.value):n.push(o))}return e},l.prototype.queryNodes=function(t){var e=[];if(null!=this.root.bounds&&t(this.root)===c.FAIL)return e;for(var n=[this.root];0<n.length;)for(var r=n.shift(),i=0;i<r.entries.length;i++){var o=r.entries[i],a=t(o);a===c.PASS_AND_OVERWRITE&&(e=[]),a!==c.PASS&&a!==c.PASS_AND_OVERWRITE||(r.leaf?e.push(o):n.push(o))}return e},l);function l(t,e){void 0===t&&(t=5),void 0===e&&(e=o),this.maxNodeChildren=t,this.splitStrategy=e,this.root=new h(!0),this.size=0}e.RTree=u;var h=(p.valueNode=function(t,e){var n=new p(!0);return n.bounds=t,n.value=e,n},p.prototype.overflow=function(t){return this.entries.length>t},p.prototype.insert=function(t){this.entries.push(t);for(var e=t.parent=this;null!=e;)e.bounds=f.unionAll([e.bounds,t.bounds]),e=e.parent;return this},p.prototype.remove=function(t){var e=this.entries.indexOf(t);if(0<=e){this.entries.splice(e,1);for(var n=this;null!=n;)n.bounds=f.unionAll(n.entries.map(function(t){return t.bounds})),n=n.parent}return this},p.prototype.subtree=function(t){for(var e=null,n=0;n<this.entries.length;n++){var r=this.entries[n],i=r.unionAreaDifference(t);(i<1/0||i===1/0&&null!=e&&r.entries.length<e.entries.length)&&(e=r)}return e},p.prototype.split=function(t){null!=this.parent&&this.parent.remove(this);var e=[new p(this.leaf),new p(this.leaf)];t.split(this.entries,e);var n=null!=this.parent?this.parent:new p(!1);return n.insert(e[0]),n.insert(e[1]),n.leaf=!1,n},p.prototype.unionAreaDifference=function(t){return Math.abs(f.union(this.bounds,t).area()-this.bounds.area())},p.prototype.maxDepth=function(){return this.leaf?1:1+this.entries.map(function(t){return t.maxDepth()}).reduce(function(t,e){return Math.max(t,e)})},p);function p(t){this.leaf=t,this.bounds=null,this.entries=[],this.parent=null,this.value=null}e.RTreeNode=h;var f=(d.xywh=function(t,e,n,r){return new d(t,e,t+n,e+r)},d.entityBounds=function(t){return new d(t.x,t.y,t.x+t.width,t.y+t.height)},d.bounds=function(t){return d.pointPair(t.topLeft,t.bottomRight)},d.pointPair=function(t,e){return new d(Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y))},d.points=function(t){if(t.length<2)throw new Error("need at least 2 points to create bounds");var e=t.map(function(t){return t.x}),n=t.map(function(t){return t.y});return new d(e.reduce(function(t,e){return Math.min(t,e)}),n.reduce(function(t,e){return Math.min(t,e)}),e.reduce(function(t,e){return Math.max(t,e)}),n.reduce(function(t,e){return Math.max(t,e)}))},d.union=function(t,e){return new d(Math.min(t.xl,e.xl),Math.min(t.yl,e.yl),Math.max(t.xh,e.xh),Math.max(t.yh,e.yh))},d.unionAll=function(t){return 0===(t=t.filter(function(t){return null!=t})).length?null:t.reduce(function(t,e){return d.union(t,e)})},d.isBoundsOverlapBounds=function(t,e){return d.isBoundsOverlapX(t,e)&&d.isBoundsOverlapY(t,e)},d.isBoundsOverlapX=function(t,e){return!(t.xh<e.xl||t.xl>e.xh)},d.isBoundsOverlapY=function(t,e){return!(t.yh<e.yl||t.yl>e.yh)},d.absoluteDistanceToNearEdgeX=function(t,e){var n=t.width/2,r=t.xl+n;return Math.max(Math.abs(e.x-r)-n,0)},d.absoluteDistanceToNearEdgeY=function(t,e){var n=t.height/2,r=t.yl+n;return Math.max(Math.abs(e.y-r)-n,0)},d.absoluteDistanceToFarEdgeX=function(t,e){var n=d.absoluteDistanceToNearEdgeX(t,e);return 0===n?0:n+t.width},d.absoluteDistanceToFarEdgeY=function(t,e){var n=d.absoluteDistanceToNearEdgeY(t,e);return 0===n?0:n+t.height},d.distanceSquaredToNearEdge=function(t,e){var n=d.absoluteDistanceToNearEdgeX(t,e),r=d.absoluteDistanceToNearEdgeY(t,e);return n*n+r*r},d.distanceSquaredToFarEdge=function(t,e){var n=d.absoluteDistanceToFarEdgeX(t,e),r=d.absoluteDistanceToFarEdgeY(t,e);return n*n+r*r},d.prototype.area=function(){return null==this.areaCached&&(this.areaCached=(this.xh-this.xl)*(this.yh-this.yl)),this.areaCached},d.prototype.contains=function(t){return this.xl<=t.x&&this.xh>=t.x&&this.yl<=t.y&&this.yh>=t.y},d);function d(t,e,n,r){this.xl=t,this.yl=e,this.xh=n,this.yh=r,this.width=this.xh-this.xl,this.height=this.yh-this.yl}e.RTreeBounds=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(i.prototype.add=function(t){return null!=this._es6Set?(this._es6Set.add(t),this.size=this._es6Set.size):this.has(t)||(this._values.push(t),this.size=this._values.length),this},i.prototype.delete=function(t){if(null!=this._es6Set){var e=this._es6Set.delete(t);return this.size=this._es6Set.size,e}var n=this._values.indexOf(t);return-1!==n&&(this._values.splice(n,1),this.size=this._values.length,!0)},i.prototype.has=function(t){return null!=this._es6Set?this._es6Set.has(t):-1!==this._values.indexOf(t)},i.prototype.forEach=function(n,r){var i=this;null==this._es6Set?this._values.forEach(function(t){n.call(r,t,t,i)}):this._es6Set.forEach(function(t,e){return n.call(r,t,e,i)},r)},i);function i(){"function"==typeof window.Set?this._es6Set=new window.Set:this._values=[],this.size=0}e.Set=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=(o.append=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=o.create.apply(o,[e].concat(n));return t.appendChild(i),i},o.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=document.createElement(t);return o.addClasses.apply(o,[r].concat(e)),r},o.addClasses=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t=t.filter(function(t){return null!=t}),null!=e.classList?t.forEach(function(t){e.classList.add(t)}):e.setAttribute("class",t.join(" "))},o.getDimensions=function(t){if(t.getBoundingClientRect)try{var e=t.getBoundingClientRect();return{width:e.width,height:e.height}}catch(t){}return{height:0,width:0}},o);function o(){}e.HtmlUtils=s;var r=(i.prototype.setAddTitle=function(t){this.addTitle=t},i.prototype.createHtmlLinePen=function(a){return{write:function(t,e,n,r,i){var o=s.append(a,"div","text-line");o.textContent=t,o.style.width=e+"px",o.style.textAlign=n,o.style.position="absolute",o.style.whiteSpace="nowrap",o.style.top=i+"px",o.style.left=r+"px"}}},i);function i(t,e,n){void 0===n&&(n=!1);var i=this;this.element=t,this.className=e,this.addTitle=n,this.createRuler=function(){return function(t){var e=s.append(i.element,"span","text-tmp",i.className);e.textContent=t;var n=s.getDimensions(e);return i.element.removeChild(e),n}},this.createPen=function(t,e,n){null==n&&(n=i.element);var r=s.append(n,"div","text-block",i.className);return r.style.position="relative",r.style.transform="translate(0, -1em) translate("+e.translate[0]+"px, "+e.translate[1]+"px) rotate("+e.rotate+"deg)",r.style.transformOrigin="0 1.2em",i.addTitle&&r.setAttribute("title",t),i.createHtmlLinePen(r)}}e.HtmlContext=r},function(t,n,e){"use strict";function r(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}Object.defineProperty(n,"__esModule",{value:!0}),r(e(138)),r(e(137)),r(e(63))},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(22),s=n(66),u=(o=s.CharacterMeasurer,i(c,o),c.prototype._measureCharacterNotFromCache=function(t){return o.prototype._measureCharacter.call(this,t)},c.prototype._measureCharacter=function(t){return this.cache.get(t)},c.prototype.reset=function(){this.cache.clear()},c);function c(t,e){var n=o.call(this,t,e)||this;return n.cache=new a.Cache(function(t){return n._measureCharacterNotFromCache(t)}),n}e.CacheCharacterMeasurer=u},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(68),s=(o=a.Measurer,i(u,o),u.prototype._measureCharacter=function(t){return o.prototype._measureLine.call(this,t)},u.prototype._measureLine=function(t){var e=this,n=t.split("").map(function(t){return e._measureCharacter(t)});return{height:n.reduce(function(t,e){return Math.max(t,e.height)},0),width:n.reduce(function(t,e){return t+e.width},0)}},u);function u(){return null!==o&&o.apply(this,arguments)||this}e.CharacterMeasurer=s},function(t,n,e){"use strict";function r(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}Object.defineProperty(n,"__esModule",{value:!0}),r(e(39)),r(e(65)),r(e(139)),r(e(66)),r(e(68))},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(39),s=(o=a.AbstractMeasurer,i(u,o),u.prototype._addGuards=function(t){return a.AbstractMeasurer.HEIGHT_TEXT+t+a.AbstractMeasurer.HEIGHT_TEXT},u.prototype._measureLine=function(t,e){void 0===e&&(e=!1);var n=this.useGuards||e||/^[\t ]$/.test(t),r=n?this._addGuards(t):t,i=o.prototype.measure.call(this,r);return i.width-=n?2*this.getGuardWidth():0,i},u.prototype.measure=function(t){var e=this;if(void 0===t&&(t=a.AbstractMeasurer.HEIGHT_TEXT),""===t.trim())return{width:0,height:0};var n=t.trim().split("\n").map(function(t){return e._measureLine(t)});return{height:n.reduce(function(t,e){return t+e.height},0),width:n.reduce(function(t,e){return Math.max(t,e.width)},0)}},u.prototype.getGuardWidth=function(){return null==this.guardWidth&&(this.guardWidth=o.prototype.measure.call(this).width),this.guardWidth},u);function u(t,e){void 0===e&&(e=!1);var n=o.call(this,t)||this;return n.useGuards=e,n}e.Measurer=s},function(t,n,e){"use strict";function r(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}Object.defineProperty(n,"__esModule",{value:!0}),r(e(145)),r(e(70))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=n(22),r=(i.prototype.maxLines=function(t){return null==t?this._maxLines:(this._maxLines=t,this)},i.prototype.textTrimming=function(t){if(null==t)return this._textTrimming;if("ellipsis"!==t&&"none"!==t)throw new Error(t+" - unsupported text trimming option.");return this._textTrimming=t,this},i.prototype.allowBreakingWords=function(t){return null==t?this._allowBreakingWords:(this._allowBreakingWords=t,this)},i.prototype.wrap=function(t,r,e,n){var i=this;void 0===n&&(n=1/0);var o={noBrokeWords:0,noLines:0,originalText:t,truncatedText:"",wrappedText:""},a={availableLines:Math.min(Math.floor(n/r.measure().height),this._maxLines),availableWidth:e,canFitText:!0,currentLine:"",wrapping:o},s=t.split("\n");return s.reduce(function(t,e,n){return i.breakLineToFitWidth(t,e,n!==s.length-1,r)},a).wrapping},i.prototype.breakLineToFitWidth=function(t,e,n,r){var i=this;t.canFitText||""===t.wrapping.truncatedText||(t.wrapping.truncatedText+="\n"),t=this._tokenizer.tokenize(e).reduce(function(t,e){return i.wrapNextToken(e,t,r)},t);var o=c.StringMethods.trimEnd(t.currentLine);return t.wrapping.noLines+=+(""!==o),t.wrapping.noLines===t.availableLines&&"none"!==this._textTrimming&&n?t.canFitText=!1:t.wrapping.wrappedText+=o,t.currentLine="\n",t},i.prototype.canFitToken=function(n,e,r){var i=this,t=n.split("").map(function(t,e){return e!==n.length-1?t+i._breakingCharacter:t});return r.measure(n).width<=e||t.every(function(t){return r.measure(t).width<=e})},i.prototype.addEllipsis=function(t,e,n){if("none"===this._textTrimming)return{remainingToken:"",wrappedToken:t};var r=t.substring(0).trim(),i=n.measure(r).width,o=n.measure("...").width,a=0<t.length&&"\n"===t[0]?"\n":"";if(e<=o){var s=o/3,u=Math.floor(e/s);return{remainingToken:t,wrappedToken:a+"...".substr(0,u)}}for(;e<i+o;)r=c.StringMethods.trimEnd(r.substr(0,r.length-1)),i=n.measure(r).width;return{remainingToken:c.StringMethods.trimEnd(t.substring(r.length),"-").trim(),wrappedToken:a+r+"..."}},i.prototype.wrapNextToken=function(t,e,n){if(!e.canFitText||e.availableLines===e.wrapping.noLines||!this.canFitToken(t,e.availableWidth,n))return this.finishWrapping(t,e,n);for(var r=t;r;){var i=this.breakTokenToFitInWidth(r,e.currentLine,e.availableWidth,n);if(e.currentLine=i.line,null!=(r=i.remainingToken)){if(e.wrapping.noBrokeWords+=+i.breakWord,++e.wrapping.noLines,e.availableLines===e.wrapping.noLines){var o=this.addEllipsis(e.currentLine,e.availableWidth,n);return e.wrapping.wrappedText+=o.wrappedToken,e.wrapping.truncatedText+=o.remainingToken+r,e.currentLine="\n",e}e.wrapping.wrappedText+=c.StringMethods.trimEnd(e.currentLine),e.currentLine="\n"}}return e},i.prototype.finishWrapping=function(t,e,n){var r;return e.canFitText&&e.availableLines!==e.wrapping.noLines&&"none"!==this._textTrimming?(r=this.addEllipsis(e.currentLine+t,e.availableWidth,n),e.wrapping.wrappedText+=r.wrappedToken,e.wrapping.truncatedText+=r.remainingToken,e.wrapping.noBrokeWords+=+(r.remainingToken.length<t.length),e.wrapping.noLines+=+(0<r.wrappedToken.length),e.currentLine=""):e.wrapping.truncatedText+=t,e.canFitText=!1,e},i.prototype.breakTokenToFitInWidth=function(t,e,n,r,i){if(void 0===i&&(i=this._breakingCharacter),r.measure(e+t).width<=n)return{breakWord:!1,line:e+t,remainingToken:null};if(""===t.trim())return{breakWord:!1,line:e,remainingToken:""};if(!this._allowBreakingWords&&""!==e.trim())return{breakWord:!1,line:e,remainingToken:t};for(var o=0;o<t.length&&r.measure(e+t.substring(0,o+1)+i).width<=n;)++o;var a=0<o?i:"";return{breakWord:0<o,line:e+t.substring(0,o)+a,remainingToken:t.substring(o)}},i);function i(){this.maxLines(1/0),this.textTrimming("ellipsis"),this.allowBreakingWords(!1),this._tokenizer=new c.Tokenizer,this._breakingCharacter="-"}e.Wrapper=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);r.__exportStar(n(76),e),r.__exportStar(n(77),e),r.__exportStar(n(30),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.version="3.9.0"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),a=r,i=r;a.selection.prototype.attrs=function(t){return("function"==typeof t?function(t,r){return t.each(function(){var t=r.apply(this,arguments),e=a.select(this);for(var n in t)e.attr(n,t[n])})}:function(t,e){for(var n in e)t.attr(n,e[n]);return t})(this,t)},a.selection.prototype.styles=function(t,e){return("function"==typeof t?function(t,r,i){return t.each(function(){var t=r.apply(this,arguments),e=a.select(this);for(var n in t)e.style(n,t[n],i)})}:function(t,e,n){for(var r in e)t.style(r,e[r],n);return t})(this,t,null==e?"":e)},a.selection.prototype.properties=function(t){return("function"==typeof t?function(t,r){return t.each(function(){var t=r.apply(this,arguments),e=a.select(this);for(var n in t)e.property(n,t[n])})}:function(t,e){for(var n in e)t.property(n,e[n]);return t})(this,t)},i.transition.prototype.attrs=function(t){return("function"==typeof t?function(r,i){return r.each(function(){var t=i.apply(this,arguments),e=a.select(this).transition(r);for(var n in t)e.attr(n,t[n])})}:function(t,e){for(var n in e)t.attr(n,e[n]);return t})(this,t)},i.transition.prototype.styles=function(t,e){return("function"==typeof t?function(r,i,o){return r.each(function(){var t=i.apply(this,arguments),e=a.select(this).transition(r);for(var n in t)e.style(n,t[n],o)})}:function(t,e,n){for(var r in e)t.style(r,e[r],n);return t})(this,t,null==e?"":e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(124),o=n(13),i=n(11),a={linear:r.easeLinear,quad:r.easeQuad,quadIn:r.easeQuadIn,quadOut:r.easeQuadOut,quadInOut:r.easeQuadInOut,cubic:r.easeCubic,cubicIn:r.easeCubicIn,cubicOut:r.easeCubicOut,cubicInOut:r.easeCubicInOut,poly:r.easePoly,polyIn:r.easePolyIn,polyOut:r.easePolyOut,polyInOut:r.easePolyInOut,sin:r.easeSin,sinIn:r.easeSinIn,sinOut:r.easeSinOut,sinInOut:r.easeSinInOut,exp:r.easeExp,expIn:r.easeExpIn,expOut:r.easeExpOut,expInOut:r.easeExpInOut,circle:r.easeCircle,circleIn:r.easeCircleIn,circleOut:r.easeCircleOut,circleInOut:r.easeCircleInOut,bounce:r.easeBounce,bounceIn:r.easeBounceIn,bounceOut:r.easeBounceOut,bounceInOut:r.easeBounceInOut,back:r.easeBack,backIn:r.easeBackIn,backOut:r.easeBackOut,backInOut:r.easeBackInOut,elastic:r.easeElastic,elasticIn:r.easeElasticIn,elasticOut:r.easeElasticOut,elasticInOut:r.easeElasticInOut};e.EaseName=i.makeEnum(["linear","quad","quadIn","quadOut","quadInOut","cubic","cubicIn","cubicOut","cubicInOut","poly","polyIn","polyOut","polyInOut","sin","sinIn","sinOut","sinInOut","exp","expIn","expOut","expInOut","circle","circleIn","circleOut","circleInOut","bounce","bounceIn","bounceOut","bounceInOut","back","backIn","backOut","backInOut","elastic","elasticIn","elasticOut","elasticInOut"]);var s=(u.prototype.totalTime=function(t){var e=this._getAdjustedIterativeDelay(t);return this.startDelay()+e*Math.max(t-1,0)+this.stepDuration()},u.prototype.animate=function(t,e){var n=this,r=(t=o.coerceExternalD3(t)).size(),i=this._getAdjustedIterativeDelay(r);return t.transition().ease(this._getEaseFactory()).duration(this.stepDuration()).delay(function(t,e){return n.startDelay()+i*e}).attrs(e)},u.prototype.startDelay=function(t){return null==t?this._startDelay:(this._startDelay=t,this)},u.prototype.stepDuration=function(t){return null==t?Math.min(this._stepDuration,this._maxTotalDuration):(this._stepDuration=t,this)},u.prototype.stepDelay=function(t){return null==t?this._stepDelay:(this._stepDelay=t,this)},u.prototype.maxTotalDuration=function(t){return null==t?this._maxTotalDuration:(this._maxTotalDuration=t,this)},u.prototype.easingMode=function(t){return null==t?this._easingMode:(this._easingMode=t,this)},u.prototype._getEaseFactory=function(){var t=this.easingMode();if("string"!=typeof t)return t;var e=a[t];return null==e?a.linear:e},u.prototype._getAdjustedIterativeDelay=function(t){var e=this.maxTotalDuration()-this.stepDuration(),n=(e=Math.max(e,0))/Math.max(t-1,1);return Math.min(this.stepDelay(),n)},u._DEFAULT_START_DELAY_MILLISECONDS=0,u._DEFAULT_STEP_DURATION_MILLISECONDS=300,u._DEFAULT_ITERATIVE_DELAY_MILLISECONDS=15,u._DEFAULT_MAX_TOTAL_DURATION_MILLISECONDS=1/0,u._DEFAULT_EASING_MODE="expOut",u);function u(){this._startDelay=u._DEFAULT_START_DELAY_MILLISECONDS,this._stepDuration=u._DEFAULT_STEP_DURATION_MILLISECONDS,this._stepDelay=u._DEFAULT_ITERATIVE_DELAY_MILLISECONDS,this._maxTotalDuration=u._DEFAULT_MAX_TOTAL_DURATION_MILLISECONDS,this._easingMode=u._DEFAULT_EASING_MODE}e.Easing=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),i=(o.prototype.totalTime=function(t){return 0},o.prototype.animate=function(t,e){return(t=r.coerceExternalD3(t)).attrs(e)},o);function o(){}e.Null=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l,r=n(0),_=n(2),i=n(5),o=n(6),y=n(1),h=n(23),a=(l=h.Axis,r.__extends(s,l),Object.defineProperty(s.prototype,"_wrapper",{get:function(){var t=new i.Wrapper;return null!=this._tickLabelMaxLines&&t.maxLines(this._tickLabelMaxLines),t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_writer",{get:function(){return new i.Writer(this._measurer,this._typesetterContext,this._wrapper)},enumerable:!0,configurable:!0}),s.prototype._setup=function(){l.prototype._setup.call(this),this._typesetterContext=new i.SvgContext(this._tickLabelContainer.node()),this._measurer=new i.CacheMeasurer(this._typesetterContext)},s.prototype._rescale=function(){return this.redraw()},s.prototype.requestedSpace=function(t,e){var n,r=this.isHorizontal()?0:this._tickSpaceRequired()+this.margin(),i=this.isHorizontal()?this._tickSpaceRequired()+this.margin():0;if(0===this._scale.domain().length)return{minWidth:0,minHeight:0};this.annotationsEnabled()&&(n=this._annotationTierHeight()*this.annotationTierCount(),this.isHorizontal()?i+=n:r+=n);var o=this._measureTickLabels(t,e);return{minWidth:o.usedWidth+r,minHeight:o.usedHeight+i}},s.prototype._coreSize=function(){var t=this.isHorizontal()?this.height():this.width(),e=(this.isHorizontal()?this.requestedSpace(this.width(),this.height()).minHeight:this.requestedSpace(this.width(),this.height()).minWidth)-(this.margin()+this._annotationTierHeight());return Math.min(e,t)},s.prototype._getTickValues=function(){return this.getDownsampleInfo().domain},s.prototype._sizeFromOffer=function(t,e){return o.Component.prototype._sizeFromOffer.call(this,t,e)},s.prototype.getDownsampleInfo=function(t,e){void 0===t&&(t=this._scale),void 0===e&&(e=t.invertRange());var n=0===this._tickLabelAngle?1:1/Math.cos(this._tickLabelShearAngle/180*Math.PI),r=s._MINIMUM_WIDTH_PER_LABEL_PX*n,i=Math.ceil(r/t.stepWidth());return{domain:e.filter(function(t,e){return e%i==0}),stepWidth:i*t.stepWidth()}},s.prototype.tickLabelAngle=function(t){if(null==t)return this._tickLabelAngle;if(0!==t&&90!==t&&-90!==t)throw new Error("Angle "+t+" not supported; only 0, 90, and -90 are valid values");return this._tickLabelAngle=t,this.redraw(),this},s.prototype.tickLabelShearAngle=function(t){if(null==t)return this._tickLabelShearAngle;if(t<-80||80<t)throw new Error("Angle "+t+" not supported; Must be between [-80, 80]");return this._tickLabelShearAngle=t,this.redraw(),this},s.prototype.tickLabelMaxWidth=function(t){return 0===arguments.length?this._tickLabelMaxWidth:(this._tickLabelMaxWidth=t,this.redraw(),this)},s.prototype.tickLabelMaxLines=function(t){return 0===arguments.length?this._tickLabelMaxLines:(this._tickLabelMaxLines=t,this.redraw(),this)},s.prototype._tickSpaceRequired=function(){return this._maxLabelTickLength()+this.tickLabelPadding()},s.prototype._drawTicks=function(s,t){var u,c,l=this;switch(this.tickLabelAngle()){case 0:u={left:"right",right:"left",top:"center",bottom:"center"},c={left:"center",right:"center",top:"bottom",bottom:"top"};break;case 90:u={left:"center",right:"center",top:"right",bottom:"left"},c={left:"top",right:"bottom",top:"center",bottom:"center"};break;case-90:u={left:"center",right:"center",top:"left",bottom:"right"},c={left:"bottom",right:"top",top:"center",bottom:"center"}}t.each(function(t){var e,n,r=_.select(this),i=l.isHorizontal()?s:l.width()-l._tickSpaceRequired(),o=l.isHorizontal()?l.height()-l._tickSpaceRequired():s,a={xAlign:u[l.orientation()],yAlign:c[l.orientation()],textRotation:l.tickLabelAngle(),textShear:l.tickLabelShearAngle()};null!=l._tickLabelMaxWidth&&("left"===l.orientation()&&i>l._tickLabelMaxWidth&&(e=i-l._tickLabelMaxWidth,n=r.attr("transform")+" translate("+e+", 0)",r.attr("transform",n)),i=Math.min(i,l._tickLabelMaxWidth)),l._writer.write(l.formatter()(t),i,o,a,r.node())})},s.prototype._measureTickLabels=function(t,e){var n=this,r=this._scale.cloneWithoutProviders().range([0,this.isHorizontal()?t:e]),i=this.getDownsampleInfo(r),o=i.domain,a=i.stepWidth,s=t-this._tickSpaceRequired();this.isHorizontal()&&(s=a,0!==this._tickLabelAngle&&(s=e-this._tickSpaceRequired()),s=Math.max(s,0));var u=a;this.isHorizontal()&&(u=e-this._tickSpaceRequired(),0!==this._tickLabelAngle&&(u=t-this._tickSpaceRequired()),u=Math.max(u,0)),null!=this._tickLabelMaxWidth&&(s=Math.min(s,this._tickLabelMaxWidth));var c,l=o.map(function(t){return n._wrapper.wrap(n.formatter()(t),n._measurer,s,u)}),h=this.isHorizontal()&&0===this._tickLabelAngle?_.sum:y.Math.max,p=this.isHorizontal()&&0===this._tickLabelAngle?y.Math.max:_.sum,f=h(l,function(t){return n._measurer.measure(t.wrappedText).width},0),d=p(l,function(t){return n._measurer.measure(t.wrappedText).height},0);return 0!==this._tickLabelAngle&&(f=(c=[d,f])[0],d=c[1]),{usedWidth:f,usedHeight:d}},s.prototype.renderImmediately=function(){var r=this;l.prototype.renderImmediately.call(this);var i=this._scale,t=this.getDownsampleInfo(i),e=t.domain,n=t.stepWidth,o=n;this.isHorizontal()&&null!=this._tickLabelMaxWidth&&(o=Math.min(o,this._tickLabelMaxWidth));var a=this._tickLabelContainer.selectAll("."+h.Axis.TICK_LABEL_CLASS).data(e),s=a.enter().append("g").classed(h.Axis.TICK_LABEL_CLASS,!0).merge(a);a.exit().remove(),s.attr("transform",function(t,e){var n=i.scale(t)-o/2;return"translate("+(r.isHorizontal()?n:0)+","+(r.isHorizontal()?0:n)+")"}),s.text(""),this._drawTicks(n,s);var u="right"===this.orientation()?this._tickSpaceRequired():0,c="bottom"===this.orientation()?this._tickSpaceRequired():0;return this._tickLabelContainer.attr("transform","translate("+u+","+c+")"),this._showAllTickMarks(),this._showAllTickLabels(),this._hideTickMarksWithoutLabel(),this},s.prototype.computeLayout=function(t,e,n){return l.prototype.computeLayout.call(this,t,e,n),this.isHorizontal()||this._scale.range([0,this.height()]),this},s.prototype.invalidateCache=function(){l.prototype.invalidateCache.call(this),this._measurer.reset()},s._MINIMUM_WIDTH_PER_LABEL_PX=15,s);function s(t,e){void 0===e&&(e="bottom");var n=l.call(this,t,e)||this;return n._tickLabelAngle=0,n._tickLabelShearAngle=0,n.addClass("category-axis"),n}e.Category=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f,r=n(0),i=n(2),o=n(5),a=n(7),s=n(1),d=n(23),u=(f=d.Axis,r.__extends(c,f),c.prototype._setup=function(){f.prototype._setup.call(this);var t=new o.SvgContext(this._tickLabelContainer.node(),d.Axis.TICK_LABEL_CLASS);this._measurer=new o.CacheMeasurer(t),this._wrapper=(new o.Wrapper).maxLines(1)},c.prototype._computeWidth=function(){var t=this._usesTextWidthApproximation?this._computeApproximateTextWidth():this._computeExactTextWidth();return"center"===this._tickLabelPositioning?this._maxLabelTickLength()+this.tickLabelPadding()+t:Math.max(this._maxLabelTickLength(),this.tickLabelPadding()+t)},c.prototype._computeExactTextWidth=function(){var n=this,t=this._getTickValues().map(function(t){var e=n.formatter()(t);return n._measurer.measure(e).width});return s.Math.max(t,0)},c.prototype._computeApproximateTextWidth=function(){var e=this,t=this._getTickValues(),n=this._measurer.measure("M").width,r=t.map(function(t){return e.formatter()(t).length*n});return s.Math.max(r,0)},c.prototype._computeHeight=function(){var t=this._measurer.measure().height;return"center"===this._tickLabelPositioning?this._maxLabelTickLength()+this.tickLabelPadding()+t:Math.max(this._maxLabelTickLength(),this.tickLabelPadding()+t)},c.prototype._getTickValues=function(){var t=this._scale,e=t.domain(),n=e[0]<=e[1]?e[0]:e[1],r=e[0]>=e[1]?e[0]:e[1];return t.ticks().filter(function(t){return n<=t&&t<=r})},c.prototype._rescale=function(){if(this._isSetup){if(!this.isHorizontal()){var t=this._computeWidth();if(t>this.width()||t<this.width()-this.margin())return void this.redraw()}this.render()}},c.prototype.renderImmediately=function(){var e=this;f.prototype.renderImmediately.call(this);var t={x:0,y:0,dx:"0em",dy:"0.3em"},n=this._maxLabelTickLength(),r=this.tickLabelPadding(),i="middle",o=0,a=0,s=0,u=0;if(this.isHorizontal())switch(this._tickLabelPositioning){case"left":i="end",o=-r,u=r;break;case"center":u=n+r;break;case"right":i="start",u=o=r}else switch(this._tickLabelPositioning){case"top":t.dy="-0.3em",a=-(s=r);break;case"center":s=n+r;break;case"bottom":t.dy="1em",a=s=r}var c=this._generateTickMarkAttrHash();switch(this.orientation()){case"bottom":t.x=c.x1,t.dy="0.95em",a=c.y1+u;break;case"top":t.x=c.x1,t.dy="-.25em",a=c.y1-u;break;case"left":i="end",o=c.x1-s,t.y=c.y1;break;case"right":i="start",o=c.x1+s,t.y=c.y1}var l=this._getTickValues(),h=this._tickLabelContainer.selectAll("."+d.Axis.TICK_LABEL_CLASS).data(l);h.exit().remove(),h.enter().append("text").classed(d.Axis.TICK_LABEL_CLASS,!0).merge(h).style("text-anchor",i).style("visibility","inherit").attrs(t).text(function(t){return e.formatter()(t)});var p="translate("+o+", "+a+")";return this._tickLabelContainer.attr("transform",p),this._showAllTickMarks(),this.showEndTickLabels()||this._hideEndTickLabels(),this._hideOverflowingTickLabels(),this._hideOverlappingTickLabels(),"center"!==this._tickLabelPositioning&&this._hideTickMarksWithoutLabel(),this},c.prototype.tickLabelPosition=function(t){if(null==t)return this._tickLabelPositioning;var e=t.toLowerCase();if(this.isHorizontal()){if("left"!==e&&"center"!==e&&"right"!==e)throw new Error(e+" is not a valid tick label position for a horizontal NumericAxis")}else if("top"!==e&&"center"!==e&&"bottom"!==e)throw new Error(e+" is not a valid tick label position for a vertical NumericAxis");return this._tickLabelPositioning=e,this.redraw(),this},c.prototype.usesTextWidthApproximation=function(t){return null==t?this._usesTextWidthApproximation:(this._usesTextWidthApproximation=t,this)},c.prototype._hideEndTickLabels=function(){var t,e,n=this.element().node().getBoundingClientRect(),r=this._tickLabelContainer.selectAll("."+d.Axis.TICK_LABEL_CLASS);0!==r.size()&&(t=r.nodes()[0],s.DOM.clientRectInside(t.getBoundingClientRect(),n)||i.select(t).style("visibility","hidden"),e=r.nodes()[r.size()-1],s.DOM.clientRectInside(e.getBoundingClientRect(),n)||i.select(e).style("visibility","hidden"))},c.prototype._hideOverlappingTickLabels=function(){for(var t=this._tickLabelContainer.selectAll("."+d.Axis.TICK_LABEL_CLASS).filter(function(t,e){var n=i.select(this).style("visibility");return"inherit"===n||"visible"===n}),e=t.nodes().map(function(t){return t.getBoundingClientRect()}),r=1;!this._hasOverlapWithInterval(r,e)&&r<e.length;)r+=1;t.each(function(t,e){var n=i.select(this);e%r!=0&&n.style("visibility","hidden")})},c.prototype._hasOverlapWithInterval=function(t,e){for(var n="center"===this._tickLabelPositioning?this.tickLabelPadding():3*this.tickLabelPadding(),r=e.map(function(t){return s.DOM.expandRect(t,n)}),i=0;i<r.length-t;i+=t){var o=r[i],a=r[i+t];if(s.DOM.clientRectsOverlap(o,a))return!1}return!0},c.prototype.invalidateCache=function(){f.prototype.invalidateCache.call(this),this._measurer.reset()},c);function c(t,e){var n=f.call(this,t,e)||this;return n._tickLabelPositioning="center",n._usesTextWidthApproximation=!1,n.formatter(a.general()),n}e.Numeric=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,r=n(0),i=n(45),s=n(26),u=n(1),o=(a=i.GuideLineLayer,r.__extends(c,a),c.prototype._setup=function(){a.prototype._setup.call(this),this._detectionEdge=this.content().append("line").styles({opacity:0,stroke:"pink","pointer-events":"visibleStroke"}).classed("drag-edge",!0)},c.prototype.renderImmediately=function(){return a.prototype.renderImmediately.call(this),this._detectionEdge.attrs({x1:this._isVertical()?this.pixelPosition():0,y1:this._isVertical()?0:this.pixelPosition(),x2:this._isVertical()?this.pixelPosition():this.width(),y2:this._isVertical()?this.height():this.pixelPosition(),"stroke-width":2*this._detectionRadius}),this},c.prototype.detectionRadius=function(t){if(null==t)return this._detectionRadius;if(t<0)throw new Error("detection radius cannot be negative.");return this._detectionRadius=t,this.render(),this},c.prototype.enabled=function(t){return null==t?this._enabled:((this._enabled=t)?this.addClass("enabled"):this.removeClass("enabled"),this._dragInteraction.enabled(t),this)},c.prototype.onDragStart=function(t){return this._dragStartCallbacks.add(t),this},c.prototype.offDragStart=function(t){return this._dragStartCallbacks.delete(t),this},c.prototype.onDrag=function(t){return this._dragCallbacks.add(t),this},c.prototype.offDrag=function(t){return this._dragCallbacks.delete(t),this},c.prototype.onDragEnd=function(t){return this._dragEndCallbacks.add(t),this},c.prototype.offDragEnd=function(t){return this._dragEndCallbacks.delete(t),this},c.prototype.destroy=function(){var e=this;a.prototype.destroy.call(this),this._dragStartCallbacks.forEach(function(t){return e._dragStartCallbacks.delete(t)}),this._dragCallbacks.forEach(function(t){return e._dragCallbacks.delete(t)}),this._dragEndCallbacks.forEach(function(t){return e._dragEndCallbacks.delete(t)}),this._disconnectInteraction()},c);function c(t){var n=a.call(this,t)||this;n._detectionRadius=3,n._enabled=!0,n.addClass("drag-line-layer"),n.addClass("enabled"),n._dragInteraction=new s.Drag,n._dragInteraction.attachTo(n);function e(t){var e;e=t,(n._isVertical()&&n.pixelPosition()-n.detectionRadius()<=e.x&&e.x<=n.pixelPosition()+n.detectionRadius()||!n._isVertical()&&n.pixelPosition()-n.detectionRadius()<=e.y&&e.y<=n.pixelPosition()+n.detectionRadius())&&(r=!0,n._dragStartCallbacks.callCallbacks(n))}var r=!1;n._dragInteraction.onDragStart(e);function i(t,e){r&&(n._setPixelPositionWithoutChangingMode(n._isVertical()?e.x:e.y),n._dragCallbacks.callCallbacks(n))}n._dragInteraction.onDrag(i);function o(t,e){r&&(r=!1,n._dragEndCallbacks.callCallbacks(n))}return n._dragInteraction.onDragEnd(o),n._disconnectInteraction=function(){n._dragInteraction.offDragStart(e),n._dragInteraction.offDrag(i),n._dragInteraction.offDragEnd(o),n._dragInteraction.detach()},n._dragStartCallbacks=new u.CallbackSet,n._dragCallbacks=new u.CallbackSet,n._dragEndCallbacks=new u.CallbackSet,n}e.DragLineLayer=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(6);function o(i,o,t){var a={};if(void 0!==t)for(var e=0;e<t.length;e++){var n=t[e-1],r=t[e];a[r]=n}return function(t){var e,n=i.scale(t);if(!o)return n;var r=void 0===a[t]?void 0:i.scale(a[t]);return void 0!==r&&(e=r+(n-r)/2),e}}var a,s=(a=i.Component,r.__extends(u,a),u.prototype.betweenX=function(t){return void 0===t?this._betweenX:(t!==this._betweenX&&(this._betweenX=t,this.render()),this)},u.prototype.betweenY=function(t){return void 0===t?this._betweenY:(t!==this._betweenY&&(this._betweenY=t,this.render()),this)},u.prototype.destroy=function(){return a.prototype.destroy.call(this),this._xScale&&this._xScale.offUpdate(this._renderCallback),this._yScale&&this._yScale.offUpdate(this._renderCallback),this},u.prototype._setup=function(){a.prototype._setup.call(this),this._xLinesContainer=this.content().append("g").classed("x-gridlines",!0),this._yLinesContainer=this.content().append("g").classed("y-gridlines",!0)},u.prototype.renderImmediately=function(){return a.prototype.renderImmediately.call(this),this._redrawXLines(),this._redrawYLines(),this},u.prototype.computeLayout=function(t,e,n){return a.prototype.computeLayout.call(this,t,e,n),null!=this._xScale&&this._xScale.range([0,this.width()]),null!=this._yScale&&this._yScale.range([this.height(),0]),this},u.prototype._redrawXLines=function(){var t,e,n;this._xScale&&(t=this.betweenX(),e=this._xScale.ticks().slice(t?1:0),(n=this._xLinesContainer.selectAll("line").data(e)).enter().append("line").merge(n).attr("x1",o(this._xScale,t,this._xScale.ticks())).attr("y1",0).attr("x2",o(this._xScale,t,this._xScale.ticks())).attr("y2",this.height()).classed("betweenline",t).classed("zeroline",function(t){return 0===t}),n.exit().remove())},u.prototype._redrawYLines=function(){var t,e,n;this._yScale&&(t=this.betweenY(),e=this._yScale.ticks().slice(t?1:0),(n=this._yLinesContainer.selectAll("line").data(e)).enter().append("line").merge(n).attr("x1",0).attr("y1",o(this._yScale,t,this._yScale.ticks())).attr("x2",this.width()).attr("y2",o(this._yScale,t,this._yScale.ticks())).classed("betweenline",t).classed("zeroline",function(t){return 0===t}),n.exit().remove())},u);function u(t,e){var n=a.call(this)||this;return n.addClass("gridlines"),n._xScale=t,n._yScale=e,n._renderCallback=function(t){return n.render()},n._xScale&&n._xScale.onUpdate(n._renderCallback),n._yScale&&n._yScale.onUpdate(n._renderCallback),n}e.Gridlines=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var C,r=n(0),i=n(5),T=n(24),o=n(7),l=n(1),a=n(6),s=(C=a.Component,r.__extends(h,C),h.prototype.destroy=function(){C.prototype.destroy.call(this),this._scale.offUpdate(this._redrawCallback)},h.prototype.formatter=function(t){return void 0===t?this._formatter:(this._formatter=t,this.redraw(),this)},h.prototype.expands=function(t){return null==t?this._expands:(this._expands=t,this.redraw(),this)},h._ensureOrientation=function(t){if("horizontal"===(t=t.toLowerCase())||"left"===t||"right"===t)return t;throw new Error('"'+t+'" is not a valid orientation for InterpolatedColorLegend')},h.prototype.orientation=function(t){return null==t?this._orientation:(this._orientation=h._ensureOrientation(t),this.redraw(),this)},h.prototype.fixedWidth=function(){return!this.expands()||this._isVertical()},h.prototype.fixedHeight=function(){return!this.expands()||!this._isVertical()},h.prototype._generateTicks=function(t){void 0===t&&(t=h._DEFAULT_NUM_SWATCHES);var e=this._scale.domain();if(1===t)return[e[0]];for(var n=(e[1]-e[0])/(t-1),r=[],i=0;i<t;i++)r.push(e[0]+n*i);return r},h.prototype._setup=function(){C.prototype._setup.call(this),this._swatchContainer=this.content().append("g").classed("swatch-container",!0),this._swatchBoundingBox=this.content().append("rect").classed("swatch-bounding-box",!0),this._lowerLabel=this.content().append("g").classed(h.LEGEND_LABEL_CLASS,!0),this._upperLabel=this.content().append("g").classed(h.LEGEND_LABEL_CLASS,!0);var t=new i.SvgContext(this.content().node());this._measurer=new i.Measurer(t),this._wrapper=new i.Wrapper,this._writer=new i.Writer(this._measurer,t,this._wrapper)},h.prototype.requestedSpace=function(t,e){var n,r,i,o=this,a=this._measurer.measure().height,s=a,u=this._scale.domain().map(function(t){return o._measurer.measure(o._formatter(t)).width}),c=h._DEFAULT_NUM_SWATCHES;return this._isVertical()?(n=l.Math.max(u,0),r=s+a+this._textPadding+n+this._textPadding,i=c*a):(i=s+a+s,r=this._textPadding+u[0]+c*a+u[1]+this._textPadding),{minWidth:r,minHeight:i}},h.prototype._isVertical=function(){return"horizontal"!==this._orientation},h.prototype.renderImmediately=function(){var n=this;C.prototype.renderImmediately.call(this);var t,e,r,i,o,a,s,u=this._scale.domain(),c=this._formatter(u[0]),l=this._measurer.measure(c).width,h=this._formatter(u[1]),p=this._measurer.measure(h).width,f=this._measurer.measure().height,d=this._textPadding,_={x:0,y:0},y={x:0,y:0},m={xAlign:"center",yAlign:"center",textRotation:0},g={xAlign:"center",yAlign:"center",textRotation:0},v={x:0,y:0,width:0,height:0};this._isVertical()?(e=Math.floor(this.height()),r=Math.max(l,p),i=(this.width()-r-2*this._textPadding)/2,o=Math.max(this.width()-i-2*d-r,0),a=1,s=function(t,e){return n.height()-(e+1)},g.yAlign="top",_.y=0,m.yAlign="bottom",y.y=0,"left"===this._orientation?(t=function(t,e){return d+r+d},g.xAlign="right",_.x=-(i+o+d),m.xAlign="right",y.x=-(i+o+d)):(t=function(t,e){return i},g.xAlign="left",_.x=i+o+d,m.xAlign="left",y.x=i+o+d),v.width=o,v.height=e*a):(i=Math.max(d,(this.height()-f)/2),e=Math.max(Math.floor(this.width()-4*d-l-p),0),o=1,a=Math.max(this.height()-2*i,0),t=function(t,e){return Math.floor(l+2*d)+e},s=function(t,e){return i},g.xAlign="right",_.x=-d,m.xAlign="left",y.x=d,v.y=i,v.width=e*o,v.height=a),v.x=t(null,0),this._upperLabel.text(""),this._writer.write(h,this.width(),this.height(),g,this._upperLabel.node());var b="translate("+_.x+", "+_.y+")";this._upperLabel.attr("transform",b),this._lowerLabel.text(""),this._writer.write(c,this.width(),this.height(),m,this._lowerLabel.node());var x="translate("+y.x+", "+y.y+")";this._lowerLabel.attr("transform",x),this._swatchBoundingBox.attrs(v);var w=this._generateTicks(e),E=this._swatchContainer.selectAll("rect.swatch").data(w),A=E.enter().append("rect").classed("swatch",!0),S=E.merge(A);return E.exit().remove(),S.attrs({fill:function(t,e){return n._scale.scale(t)},width:o,height:a,x:t,y:s,"shape-rendering":"crispEdges"}),T.ADD_TITLE_ELEMENTS&&A.append("title").text(function(t){return n._formatter(t)}),this},h._DEFAULT_NUM_SWATCHES=11,h.LEGEND_LABEL_CLASS="legend-label",h);function h(t){var e=C.call(this)||this;if(e._textPadding=5,null==t)throw new Error("InterpolatedColorLegend requires a interpolatedColorScale");return e._scale=t,e._redrawCallback=function(t){return e.redraw()},e._scale.onUpdate(e._redrawCallback),e._formatter=o.general(),e._orientation="horizontal",e._expands=!1,e.addClass("legend"),e.addClass("interpolated-color-legend"),e}e.InterpolatedColorLegend=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),f=n(2),i=n(5),o=n(24),a=n(7),s=n(33),d=n(1),u=n(6),p=(c.prototype.addColumn=function(t){var e=t.width,n=this.getWidthAvailable();t.width=Math.min(n,e),this.columns.push(t)},c.prototype.getBounds=function(t){for(var e=this.columns[t],n=0,r=0;r<t;r++)n+=this.columns[r].width;return{topLeft:{x:n,y:0},bottomRight:{x:n+e.width,y:e.height}}},c.prototype.getHeight=function(){return d.Math.max(this.columns.map(function(t){return t.height}),0)+this.bottomPadding},c.prototype.getWidth=function(){return Math.min(this.columns.reduce(function(t,e){return t+e.width},0),this.maxWidth)},c.prototype.getWidthAvailable=function(){var t=this.getWidth();return Math.max(this.maxWidth-t,0)},c);function c(t,e,n){void 0===t&&(t=[]),void 0===e&&(e=0),void 0===n&&(n=1/0),this.columns=t,this.bottomPadding=e,this.maxWidth=n}var _=(l.prototype.addRow=function(t){t.maxWidth=this.maxWidth-2*this.padding,this.rows.push(t)},l.prototype.getColumnBounds=function(t,e){var n=this.getRowBounds(t),r=this.rows[t].getBounds(e);return r.topLeft.x+=n.topLeft.x,r.bottomRight.x+=n.topLeft.x,r.topLeft.y+=n.topLeft.y,r.bottomRight.y+=n.topLeft.y,r},l.prototype.getRowBounds=function(t){for(var e=this.padding,n=this.padding,r=0;r<t;r++)n+=this.rows[r].getHeight();return{topLeft:{x:e,y:n},bottomRight:{x:e+this.rows[t].getWidth(),y:n+this.rows[t].getHeight()}}},l.prototype.getHeight=function(){return Math.min(this.rows.reduce(function(t,e){return t+e.getHeight()},0)+2*this.padding,this.maxHeight)},l.prototype.getWidth=function(){return Math.min(d.Math.max(this.rows.map(function(t){return t.getWidth()}),0)+2*this.padding,this.maxWidth)},l);function l(t,e,n,r){void 0===t&&(t=1/0),void 0===e&&(e=1/0),void 0===n&&(n=0),void 0===r&&(r=[]),this.maxWidth=t,this.maxHeight=e,this.padding=n,this.rows=r}var h,y=(h=u.Component,r.__extends(m,h),m.prototype._setup=function(){h.prototype._setup.call(this);var t=this.content().append("g").classed(m.LEGEND_ROW_CLASS,!0);t.append("g").classed(m.LEGEND_ENTRY_CLASS,!0).append("text");var e=new i.SvgContext(t.node(),null,o.ADD_TITLE_ELEMENTS);this._measurer=new i.CacheMeasurer(e),this._wrapper=(new i.Wrapper).maxLines(this.maxLinesPerEntry()),this._writer=new i.Writer(this._measurer,e,this._wrapper)},m.prototype.formatter=function(t){return null==t?this._formatter:(this._formatter=t,this.redraw(),this)},m.prototype.maxEntriesPerRow=function(t){return null==t?this._maxEntriesPerRow:(this._maxEntriesPerRow=t,this.redraw(),this)},m.prototype.maxLinesPerEntry=function(t){return null==t?this._maxLinesPerEntry:(this._maxLinesPerEntry=t,this.redraw(),this)},m.prototype.maxWidth=function(t){return null==t?this._maxWidth:(this._maxWidth=t,this.redraw(),this)},m.prototype.comparator=function(t){return null==t?this._comparator:(this._comparator=t,this.redraw(),this)},m.prototype.colorScale=function(t){return null!=t?(this._colorScale.offUpdate(this._redrawCallback),this._colorScale=t,this._colorScale.onUpdate(this._redrawCallback),this.redraw(),this):this._colorScale},m.prototype.destroy=function(){h.prototype.destroy.call(this),this._colorScale.offUpdate(this._redrawCallback)},m.prototype._buildLegendTable=function(t,e){var u=this,c=this._measurer.measure().height,l=new _(t,e,this._padding),n=this._colorScale.domain().slice().sort(function(t,e){return u._comparator(u._formatter(t),u._formatter(e))}),h=new p;return l.addRow(h),h.bottomPadding=this._rowBottomPadding,n.forEach(function(t,e){h.columns.length/2===u.maxEntriesPerRow()&&((h=new p).bottomPadding=u._rowBottomPadding,l.addRow(h));var n=h.getWidthAvailable(),r=u._formatter(t),i=u._measurer.measure(r).width;n-c-i<0&&1<h.columns.length&&((h=new p).bottomPadding=u._rowBottomPadding,l.addRow(h));var o={width:c,height:c,data:{name:t,type:"symbol"}};h.addColumn(o),n=h.getWidthAvailable();var a=Math.min(n,i);u._wrapper.maxLines(u.maxLinesPerEntry());var s={width:a,height:u._wrapper.wrap(r,u._measurer,a).noLines*c,data:{name:t,type:"text"}};h.addColumn(s)}),l},m.prototype.requestedSpace=function(t,e){var n=this._buildLegendTable(d.Math.min([this.maxWidth(),t],t),e);return{minHeight:n.getHeight(),minWidth:n.getWidth()}},m.prototype.entitiesAt=function(l){var h=this;if(!this._isSetup)return[];var p=this._buildLegendTable(this.width(),this.height());return p.rows.reduce(function(t,e,c){if(0!==t.length)return t;var n=p.getRowBounds(c);return d.Math.within(l,n)?e.columns.reduce(function(t,e,n){var r=p.getColumnBounds(c,n);if(d.Math.within(l,r)){var i=h.content().selectAll("."+m.LEGEND_ROW_CLASS).nodes()[c],o=f.select(i).selectAll("."+m.LEGEND_ENTRY_CLASS).nodes()[Math.floor(n/2)],a=f.select(o).select("."+m.LEGEND_SYMBOL_CLASS),s=d.DOM.getTranslateValues(f.select(i)),u=d.DOM.getTranslateValues(a);return[{bounds:d.DOM.elementBBox(f.select(i)),datum:e.data.name,position:{x:s[0]+u[0],y:s[1]+u[1]},selection:f.select(o),component:h}]}return t},t):t},[])},m.prototype.renderImmediately=function(){h.prototype.renderImmediately.call(this);var a=this._buildLegendTable(this.width(),this.height());this.content().selectAll("*").remove();var t=this.content().selectAll("g."+m.LEGEND_ROW_CLASS).data(a.rows),e=t.enter().append("g").classed(m.LEGEND_ROW_CLASS,!0).merge(t);t.exit().remove(),e.attr("transform",function(t,e){var n=a.getRowBounds(e);return"translate("+n.topLeft.x+", "+n.topLeft.y+")"});var s=this;return e.each(function(t,i){for(var e=[],n=0;n<t.columns.length;n+=2)e.push([t.columns[n],t.columns[n+1]]);var r=f.select(this).selectAll("g."+m.LEGEND_ENTRY_CLASS).data(e),o=r.enter().append("g").classed(m.LEGEND_ENTRY_CLASS,!0).merge(r);o.append("path").attr("d",function(t,e){var n=t[0];return s.symbol()(n.data.name,i)(.6*n.height)(null)}).attr("transform",function(t,e){var n=t[0],r=a.rows[i].columns.indexOf(n);return"translate("+(a.getColumnBounds(i,r).topLeft.x+n.width/2)+", "+n.height/2+")"}).attr("fill",function(t){return s._colorScale.scale(t[0].data.name)}).attr("opacity",function(t,e){return s.symbolOpacity()(t[0].data.name,i)}).classed(m.LEGEND_SYMBOL_CLASS,!0),o.append("g").classed("text-container",!0).attr("transform",function(t,e){var n=t[1],r=a.rows[i].columns.indexOf(n);return"translate("+a.getColumnBounds(i,r).topLeft.x+", 0)"}).each(function(t,e,n){var r=f.select(this),i=t[1];s._writer.write(s._formatter(i.data.name),i.width,s.height(),{xAlign:"left",yAlign:"top",textRotation:0},r.node())}),r.exit().remove()}),this},m.prototype.symbol=function(t){return null==t?this._symbolFactoryAccessor:(this._symbolFactoryAccessor=t,this.render(),this)},m.prototype.symbolOpacity=function(t){return null==t?this._symbolOpacityAccessor:(this._symbolOpacityAccessor="number"==typeof t?function(){return t}:t,this.render(),this)},m.prototype.fixedWidth=function(){return!0},m.prototype.fixedHeight=function(){return!0},m.prototype.invalidateCache=function(){h.prototype.invalidateCache.call(this),this._measurer.reset()},m.LEGEND_ROW_CLASS="legend-row",m.LEGEND_ENTRY_CLASS="legend-entry",m.LEGEND_SYMBOL_CLASS="legend-symbol",m);function m(t){var r=h.call(this)||this;if(r._padding=5,r._rowBottomPadding=3,r.addClass("legend"),r.maxEntriesPerRow(1),null==t)throw new Error("Legend requires a colorScale");return r._colorScale=t,r._redrawCallback=function(t){return r.redraw()},r._colorScale.onUpdate(r._redrawCallback),r._formatter=a.identity(),r.maxLinesPerEntry(1),r.xAlignment("right").yAlignment("top"),r.comparator(function(t,e){var n=r._colorScale.domain().slice().map(function(t){return r._formatter(t)});return n.indexOf(t)-n.indexOf(e)}),r._symbolFactoryAccessor=function(){return s.circle()},r._symbolOpacityAccessor=function(){return 1},r}e.Legend=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=n(3),a=n(1),s=n(44),u=(r=s.Group,i.__extends(c,r),c.prototype.entityNearest=function(r){var i,o=1/0;return this.components().forEach(function(t){var e,n=t.entityNearest(r);null==n||(e=a.Math.distanceSquared(n.position,r))<=o&&(o=e,i=n)}),i},c.prototype.append=function(t){if(null!=t&&!(t instanceof o.Plot))throw new Error("Plot Group only accepts plots");return r.prototype.append.call(this,t),this},c);function c(){return null!==r&&r.apply(this,arguments)||this}e.PlotGroup=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l,r=n(0),T=n(2),k=n(1),i=n(31),o=(l=i.ComponentContainer,r.__extends(P,l),P.prototype._forEach=function(t){for(var e=0;e<this._nRows;e++)for(var n=0;n<this._nCols;n++)null!=this._rows[e][n]&&t(this._rows[e][n])},P.prototype.has=function(t){for(var e=0;e<this._nRows;e++)for(var n=0;n<this._nCols;n++)if(this._rows[e][n]===t)return!0;return!1},P.prototype.componentAt=function(t,e){return t<0||t>=this._nRows||e<0||e>=this._nCols?null:this._rows[t][e]},P.prototype.add=function(t,e,n){if(null==t)throw Error("Cannot add null to a table cell");if(!this.has(t)){if(null!=(this._rows[e]&&this._rows[e][n]))throw new Error("cell is occupied");t.detach(),this._nRows=Math.max(e+1,this._nRows),this._nCols=Math.max(n+1,this._nCols),this._padTableToSize(this._nRows,this._nCols),this._rows[e][n]=t,this._adoptAndAnchor(t),this.redraw()}return this},P.prototype._remove=function(t){for(var e=0;e<this._nRows;e++)for(var n=0;n<this._nCols;n++)if(this._rows[e][n]===t)return!(this._rows[e][n]=null);return!1},P.prototype._iterateLayout=function(t,e,n){void 0===n&&(n=!1);for(var r=this._rows,i=T.transpose(this._rows),o=t-this._columnPadding*(this._nCols-1),a=e-this._rowPadding*(this._nRows-1),s=P._calcComponentWeights(this._rowWeights,r,function(t){return null==t||t.fixedHeight()}),u=P._calcComponentWeights(this._columnWeights,i,function(t){return null==t||t.fixedWidth()}),c=u.map(function(t){return 0===t?.5:t}),l=s.map(function(t){return 0===t?.5:t}),h=P._calcProportionalSpace(c,o),p=P._calcProportionalSpace(l,a),f=k.Array.createFilledArray(0,this._nCols),d=k.Array.createFilledArray(0,this._nRows),_=0;;){var y,m=k.Array.add(d,p),g=k.Array.add(f,h),f=(y=this._determineGuarantees(g,m,n)).guaranteedWidths,d=y.guaranteedHeights,v=y.wantsWidthArr.some(function(t){return t}),b=y.wantsHeightArr.some(function(t){return t}),x=E,w=A,E=o-T.sum(y.guaranteedWidths),A=a-T.sum(y.guaranteedHeights),S=void 0,S=v?(S=y.wantsWidthArr.map(function(t){return t?.1:0}),k.Array.add(S,u)):u,C=void 0,C=b?(C=y.wantsHeightArr.map(function(t){return t?.1:0}),k.Array.add(C,s)):s,h=P._calcProportionalSpace(S,E),p=P._calcProportionalSpace(C,A);if(_++,!(0<E&&E!==x||0<A&&A!==w))break;if(5<_)break}return E=o-T.sum(y.guaranteedWidths),A=a-T.sum(y.guaranteedHeights),{colProportionalSpace:h=P._calcProportionalSpace(u,E),rowProportionalSpace:p=P._calcProportionalSpace(s,A),guaranteedWidths:y.guaranteedWidths,guaranteedHeights:y.guaranteedHeights,wantsWidth:v,wantsHeight:b}},P.prototype._determineGuarantees=function(u,c,l){void 0===l&&(l=!1);var h=k.Array.createFilledArray(0,this._nCols),p=k.Array.createFilledArray(0,this._nRows),f=k.Array.createFilledArray(!1,this._nCols),d=k.Array.createFilledArray(!1,this._nRows);return this._rows.forEach(function(t,s){t.forEach(function(t,e){var n=null!=t?t.requestedSpace(u[e],c[s]):{minWidth:0,minHeight:0},r=l?Math.min(n.minWidth,u[e]):n.minWidth;h[e]=Math.max(h[e],r);var i=l?Math.min(n.minHeight,c[s]):n.minHeight;p[s]=Math.max(p[s],i);var o=n.minWidth>u[e];f[e]=f[e]||o;var a=n.minHeight>c[s];d[s]=d[s]||a})}),{guaranteedWidths:h,guaranteedHeights:p,wantsWidthArr:f,wantsHeightArr:d}},P.prototype.requestedSpace=function(t,e){return this._calculatedLayout=this._iterateLayout(t,e),{minWidth:T.sum(this._calculatedLayout.guaranteedWidths),minHeight:T.sum(this._calculatedLayout.guaranteedHeights)}},P.prototype.computeLayout=function(t,e,n){var i=this;l.prototype.computeLayout.call(this,t,e,n);var r=T.sum(this._calculatedLayout.guaranteedWidths),o=T.sum(this._calculatedLayout.guaranteedHeights),a=this._calculatedLayout;(r>this.width()||o>this.height())&&(a=this._iterateLayout(this.width(),this.height(),!0));var s=0,u=k.Array.add(a.rowProportionalSpace,a.guaranteedHeights),c=k.Array.add(a.colProportionalSpace,a.guaranteedWidths);return this._rows.forEach(function(t,n){var r=0;t.forEach(function(t,e){null!=t&&t.computeLayout({x:r,y:s},c[e],u[n]),r+=c[e]+i._columnPadding}),s+=u[n]+i._rowPadding}),this},P.prototype.rowPadding=function(t){if(null==t)return this._rowPadding;if(!k.Math.isValidNumber(t)||t<0)throw Error("rowPadding must be a non-negative finite value");return this._rowPadding=t,this.redraw(),this},P.prototype.columnPadding=function(t){if(null==t)return this._columnPadding;if(!k.Math.isValidNumber(t)||t<0)throw Error("columnPadding must be a non-negative finite value");return this._columnPadding=t,this.redraw(),this},P.prototype.rowWeight=function(t,e){if(null==e)return this._rowWeights[t];if(!k.Math.isValidNumber(e)||e<0)throw Error("rowWeight must be a non-negative finite value");return this._rowWeights[t]=e,this.redraw(),this},P.prototype.columnWeight=function(t,e){if(null==e)return this._columnWeights[t];if(!k.Math.isValidNumber(e)||e<0)throw Error("columnWeight must be a non-negative finite value");return this._columnWeights[t]=e,this.redraw(),this},P.prototype.fixedWidth=function(){var t=T.transpose(this._rows);return P._fixedSpace(t,function(t){return null==t||t.fixedWidth()})},P.prototype.fixedHeight=function(){return P._fixedSpace(this._rows,function(t){return null==t||t.fixedHeight()})},P.prototype._padTableToSize=function(t,e){for(var n=0;n<t;n++){void 0===this._rows[n]&&(this._rows[n]=[],this._rowWeights[n]=null);for(var r=0;r<e;r++)void 0===this._rows[n][r]&&(this._rows[n][r]=null)}for(r=0;r<e;r++)void 0===this._columnWeights[r]&&(this._columnWeights[r]=null)},P._calcComponentWeights=function(t,n,r){return t.map(function(t,e){return null!=t?t:n[e].map(r).reduce(function(t,e){return t&&e},!0)?0:1})},P._calcProportionalSpace=function(t,e){var n=T.sum(t);return 0===n?k.Array.createFilledArray(0,t.length):t.map(function(t){return e*t/n})},P._fixedSpace=function(t,e){function n(t){return t.reduce(function(t,e){return t&&e},!0)}return n(t.map(function(t){return n(t.map(e))}))},P);function P(t){void 0===t&&(t=[]);var r=l.call(this)||this;return r._rowPadding=0,r._columnPadding=0,r._rows=[],r._rowWeights=[],r._columnWeights=[],r._nRows=0,r._nCols=0,r._calculatedLayout=null,r.addClass("table"),t.forEach(function(t,n){t.forEach(function(t,e){null!=t&&r.add(t,n,e)})}),r}e.Table=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=n(46),a=(r=o.Label,i.__extends(s,r),s.prototype.requestedSpace=function(t,e){this._wrapper.maxLines(this._maxLines);var n=0===this.angle()?t:e;0===n&&(n=1/0);var r=this._wrapper.wrap(this._text,this._measurer,n),i=this._measurer.measure(r.wrappedText);return{minWidth:(0===this.angle()?i.width:i.height)+2*this.padding(),minHeight:(0===this.angle()?i.height:i.width)+2*this.padding()}},s.prototype.maxLines=function(t){return 0===arguments.length?this._maxLines:(this._maxLines=t,this.redraw(),this)},s);function s(){var t=null!==r&&r.apply(this,arguments)||this;return t._maxLines=2,t}e.WrappedLabel=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=n(34),a=(r=o.DragBoxLayer,i.__extends(s,r),s.prototype.computeLayout=function(t,e,n){return r.prototype.computeLayout.call(this,t,e,n),this._setBounds(this.bounds()),this},s.prototype._setBounds=function(t){r.prototype._setBounds.call(this,{topLeft:{x:t.topLeft.x,y:0},bottomRight:{x:t.bottomRight.x,y:this.height()}})},s.prototype._setResizableClasses=function(t){t&&this.enabled()?this.addClass("x-resizable"):this.removeClass("x-resizable")},s.prototype.yScale=function(t){if(null==t)return r.prototype.yScale.call(this);throw new Error("yScales cannot be set on an XDragBoxLayer")},s.prototype.yExtent=function(t){if(null==t)return r.prototype.yExtent.call(this);throw new Error("XDragBoxLayer has no yExtent")},s);function s(){var t=r.call(this)||this;return t.addClass("x-drag-box-layer"),t._hasCorners=!1,t}e.XDragBoxLayer=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=n(34),a=(r=o.DragBoxLayer,i.__extends(s,r),s.prototype.computeLayout=function(t,e,n){return r.prototype.computeLayout.call(this,t,e,n),this._setBounds(this.bounds()),this},s.prototype._setBounds=function(t){r.prototype._setBounds.call(this,{topLeft:{x:0,y:t.topLeft.y},bottomRight:{x:this.width(),y:t.bottomRight.y}})},s.prototype._setResizableClasses=function(t){t&&this.enabled()?this.addClass("y-resizable"):this.removeClass("y-resizable")},s.prototype.xScale=function(t){if(null==t)return r.prototype.xScale.call(this);throw new Error("xScales cannot be set on an YDragBoxLayer")},s.prototype.xExtent=function(t){if(null==t)return r.prototype.xExtent.call(this);throw new Error("YDragBoxLayer has no xExtent")},s);function s(){var t=r.call(this)||this;return t.addClass("y-drag-box-layer"),t._hasCorners=!1,t}e.YDragBoxLayer=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=n(25),a=(r=o.Dispatcher,i.__extends(s,r),s.getDispatcher=function(){var t=document[s._DISPATCHER_KEY];return null==t&&(t=new s,document[s._DISPATCHER_KEY]=t),t},s.prototype._processKeydown=function(t){this._callCallbacksForEvent(s._KEYDOWN_EVENT_NAME,t.keyCode,t)},s.prototype._processKeyup=function(t){this._callCallbacksForEvent(s._KEYUP_EVENT_NAME,t.keyCode,t)},s.prototype.onKeyDown=function(t){return this._addCallbackForEvent(s._KEYDOWN_EVENT_NAME,t),this},s.prototype.offKeyDown=function(t){return this._removeCallbackForEvent(s._KEYDOWN_EVENT_NAME,t),this},s.prototype.onKeyUp=function(t){return this._addCallbackForEvent(s._KEYUP_EVENT_NAME,t),this},s.prototype.offKeyUp=function(t){return this._removeCallbackForEvent(s._KEYUP_EVENT_NAME,t),this},s._DISPATCHER_KEY="__Plottable_Dispatcher_Key",s._KEYDOWN_EVENT_NAME="keydown",s._KEYUP_EVENT_NAME="keyup",s);function s(){var e=r.call(this)||this;return e._eventToProcessingFunction[s._KEYDOWN_EVENT_NAME]=function(t){return e._processKeydown(t)},e._eventToProcessingFunction[s._KEYUP_EVENT_NAME]=function(t){return e._processKeyup(t)},e}e.Key=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=n(1),a=n(25),s=(r=a.Dispatcher,i.__extends(u,r),u.getDispatcher=function(t){var e=t.root().rootElement(),n=e[u._DISPATCHER_KEY];return null==n&&(n=new u(t),e[u._DISPATCHER_KEY]=n),n},u.prototype.onMouseMove=function(t){return this._addCallbackForEvent(u._MOUSEMOVE_EVENT_NAME,t),this},u.prototype.offMouseMove=function(t){return this._removeCallbackForEvent(u._MOUSEMOVE_EVENT_NAME,t),this},u.prototype.onMouseDown=function(t){return this._addCallbackForEvent(u._MOUSEDOWN_EVENT_NAME,t),this},u.prototype.offMouseDown=function(t){return this._removeCallbackForEvent(u._MOUSEDOWN_EVENT_NAME,t),this},u.prototype.onMouseUp=function(t){return this._addCallbackForEvent(u._MOUSEUP_EVENT_NAME,t),this},u.prototype.offMouseUp=function(t){return this._removeCallbackForEvent(u._MOUSEUP_EVENT_NAME,t),this},u.prototype.onWheel=function(t){return this._addCallbackForEvent(u._WHEEL_EVENT_NAME,t),this},u.prototype.offWheel=function(t){return this._removeCallbackForEvent(u._WHEEL_EVENT_NAME,t),this},u.prototype.onDblClick=function(t){return this._addCallbackForEvent(u._DBLCLICK_EVENT_NAME,t),this},u.prototype.offDblClick=function(t){return this._removeCallbackForEvent(u._DBLCLICK_EVENT_NAME,t),this},u.prototype._measureAndDispatch=function(t,e,n,r){if(void 0===r&&(r="element"),"page"!==r&&"element"!==r)throw new Error("Invalid scope '"+r+"', must be 'element' or 'page'");var i;"page"!==r&&!this.eventInside(t,e)||(i=this._translator.computePosition(e.clientX,e.clientY),this._lastMousePosition=i,this._callCallbacksForEvent(n,this.lastMousePosition(),e))},u.prototype.eventInside=function(t,e){return o.Translator.isEventInside(t,e)},u.prototype.lastMousePosition=function(){return this._lastMousePosition},u._DISPATCHER_KEY="__Plottable_Dispatcher_Mouse",u._MOUSEOVER_EVENT_NAME="mouseover",u._MOUSEMOVE_EVENT_NAME="mousemove",u._MOUSEOUT_EVENT_NAME="mouseout",u._MOUSEDOWN_EVENT_NAME="mousedown",u._MOUSEUP_EVENT_NAME="mouseup",u._WHEEL_EVENT_NAME="wheel",u._DBLCLICK_EVENT_NAME="dblclick",u);function u(e){var n=r.call(this)||this;n._lastMousePosition={x:-1,y:-1},n._translator=o.getTranslator(e);function t(t){return n._measureAndDispatch(e,t,u._MOUSEMOVE_EVENT_NAME,"page")}return n._eventToProcessingFunction[u._MOUSEOVER_EVENT_NAME]=t,n._eventToProcessingFunction[u._MOUSEMOVE_EVENT_NAME]=t,n._eventToProcessingFunction[u._MOUSEOUT_EVENT_NAME]=t,n._eventToProcessingFunction[u._MOUSEDOWN_EVENT_NAME]=function(t){return n._measureAndDispatch(e,t,u._MOUSEDOWN_EVENT_NAME)},n._eventToProcessingFunction[u._MOUSEUP_EVENT_NAME]=function(t){return n._measureAndDispatch(e,t,u._MOUSEUP_EVENT_NAME,"page")},n._eventToProcessingFunction[u._WHEEL_EVENT_NAME]=function(t){return n._measureAndDispatch(e,t,u._WHEEL_EVENT_NAME)},n._eventToProcessingFunction[u._DBLCLICK_EVENT_NAME]=function(t){return n._measureAndDispatch(e,t,u._DBLCLICK_EVENT_NAME)},n}e.Mouse=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=n(1),a=n(25),s=(r=a.Dispatcher,i.__extends(u,r),u.getDispatcher=function(t){var e=t.root().rootElement(),n=e[u._DISPATCHER_KEY];return null==n&&(n=new u(t),e[u._DISPATCHER_KEY]=n),n},u.prototype.onTouchStart=function(t){return this._addCallbackForEvent(u._TOUCHSTART_EVENT_NAME,t),this},u.prototype.offTouchStart=function(t){return this._removeCallbackForEvent(u._TOUCHSTART_EVENT_NAME,t),this},u.prototype.onTouchMove=function(t){return this._addCallbackForEvent(u._TOUCHMOVE_EVENT_NAME,t),this},u.prototype.offTouchMove=function(t){return this._removeCallbackForEvent(u._TOUCHMOVE_EVENT_NAME,t),this},u.prototype.onTouchEnd=function(t){return this._addCallbackForEvent(u._TOUCHEND_EVENT_NAME,t),this},u.prototype.offTouchEnd=function(t){return this._removeCallbackForEvent(u._TOUCHEND_EVENT_NAME,t),this},u.prototype.onTouchCancel=function(t){return this._addCallbackForEvent(u._TOUCHCANCEL_EVENT_NAME,t),this},u.prototype.offTouchCancel=function(t){return this._removeCallbackForEvent(u._TOUCHCANCEL_EVENT_NAME,t),this},u.prototype._measureAndDispatch=function(t,e,n,r){if(void 0===r&&(r="element"),"page"!==r&&"element"!==r)throw new Error("Invalid scope '"+r+"', must be 'element' or 'page'");if("element"!==r||this.eventInside(t,e)){for(var i=e.changedTouches,o={},a=[],s=0;s<i.length;s++){var u=i[s],c=u.identifier,l=this._translator.computePosition(u.clientX,u.clientY);null!=l&&(o[c]=l,a.push(c))}0<a.length&&this._callCallbacksForEvent(n,a,o,e)}},u.prototype.eventInside=function(t,e){return o.Translator.isEventInside(t,e)},u._DISPATCHER_KEY="__Plottable_Dispatcher_Touch",u._TOUCHSTART_EVENT_NAME="touchstart",u._TOUCHMOVE_EVENT_NAME="touchmove",u._TOUCHEND_EVENT_NAME="touchend",u._TOUCHCANCEL_EVENT_NAME="touchcancel",u);function u(e){var n=r.call(this)||this;return n._translator=o.getTranslator(e),n._eventToProcessingFunction[u._TOUCHSTART_EVENT_NAME]=function(t){return n._measureAndDispatch(e,t,u._TOUCHSTART_EVENT_NAME,"page")},n._eventToProcessingFunction[u._TOUCHMOVE_EVENT_NAME]=function(t){return n._measureAndDispatch(e,t,u._TOUCHMOVE_EVENT_NAME,"page")},n._eventToProcessingFunction[u._TOUCHEND_EVENT_NAME]=function(t){return n._measureAndDispatch(e,t,u._TOUCHEND_EVENT_NAME,"page")},n._eventToProcessingFunction[u._TOUCHCANCEL_EVENT_NAME]=function(t){return n._measureAndDispatch(e,t,u._TOUCHCANCEL_EVENT_NAME,"page")},n}e.Touch=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(i.sizePixels=function(t,e,n,r){var i=t.canvas;i.width=e*r,i.height=n*r,i.style.width=e+"px",i.style.height=n+"px",t.setTransform(1,0,0,1,0,0),t.scale(r,r)},i.prototype.blit=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0),t.drawImage(this.canvas,e,n,this.screenWidth,this.screenHeight)},i.prototype.blitCenter=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0),this.blit(t,Math.floor(e-this.screenWidth/2),Math.floor(n-this.screenHeight/2))},i.prototype.resize=function(t,e,n){void 0===n&&(n=!1);var r=this.devicePixelRatio;return this.screenWidth=t,this.screenHeight=e,this.pixelWidth=t*r,this.pixelHeight=e*r,i.sizePixels(this.ctx,t,e,r),n&&this.ctx.translate(t/2,t/2),this},i.prototype.clear=function(t){var e=this.pixelWidth,n=this.pixelHeight,r=this.ctx;return r.save(),r.setTransform(1,0,0,1,0,0),null==t?r.clearRect(0,0,e,n):(r.fillStyle=t,r.fillRect(0,0,e,n)),r.restore(),this},i.prototype.getImageData=function(){return this.ctx.getImageData(0,0,this.pixelWidth,this.pixelHeight)},i);function i(t,e,n){void 0===n&&(n=window.devicePixelRatio),this.screenWidth=t,this.screenHeight=e,this.devicePixelRatio=n,this.pixelWidth=t*n,this.pixelHeight=e*n,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),i.sizePixels(this.ctx,t,e,n)}e.CanvasBuffer=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);n(73);var i=n(9);e.Animators=i;var o=n(71);e.Axes=o;var a=n(40);e.Components=a;var s=n(24);e.Configs=s;var u=n(7);e.Formatters=u;var c=n(32);e.RenderController=c;var l=n(42);e.RenderPolicies=l;var h=n(33);e.SymbolFactories=h;var p=n(14);e.Dispatchers=p;var f=n(15);e.Drawers=f;var d=n(26);e.Interactions=d;var _=n(20);e.Plots=_;var y=n(4);e.Scales=y;var m=n(1);e.Utils=m,r.__exportStar(n(23),e);var g=n(30);e.TimeInterval=g.TimeInterval,r.__exportStar(n(6),e),r.__exportStar(n(31),e),r.__exportStar(n(41),e);var v=n(72);e.version=v.version,r.__exportStar(n(25),e),r.__exportStar(n(8),e),r.__exportStar(n(16),e),r.__exportStar(n(43),e),r.__exportStar(n(17),e),r.__exportStar(n(3),e),r.__exportStar(n(12),e),r.__exportStar(n(18),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(0),o=n(14),a=n(1),s=n(16),u=(i=s.Interaction,r.__extends(c,i),c.prototype._anchor=function(t){i.prototype._anchor.call(this,t),this._mouseDispatcher=o.Mouse.getDispatcher(t),this._mouseDispatcher.onMouseDown(this._mouseDownCallback),this._mouseDispatcher.onMouseUp(this._mouseUpCallback),this._mouseDispatcher.onDblClick(this._dblClickCallback),this._touchDispatcher=o.Touch.getDispatcher(t),this._touchDispatcher.onTouchStart(this._touchStartCallback),this._touchDispatcher.onTouchEnd(this._touchEndCallback),this._touchDispatcher.onTouchCancel(this._touchCancelCallback)},c.prototype._unanchor=function(){i.prototype._unanchor.call(this),this._mouseDispatcher.offMouseDown(this._mouseDownCallback),this._mouseDispatcher.offMouseUp(this._mouseUpCallback),this._mouseDispatcher.offDblClick(this._dblClickCallback),this._mouseDispatcher=null,this._touchDispatcher.offTouchStart(this._touchStartCallback),this._touchDispatcher.offTouchEnd(this._touchEndCallback),this._touchDispatcher.offTouchCancel(this._touchCancelCallback),this._touchDispatcher=null},c.prototype._handleClickDown=function(t,e){var n=this._translateToComponentSpace(t);this._isInsideComponent(n)&&(this._clickedDown=!0,this._clickedPoint=n)},c.prototype._handleClickUp=function(t,e){var n=this,r=this._translateToComponentSpace(t);this._clickedDown&&c._pointsEqual(r,this._clickedPoint)&&setTimeout(function(){n._doubleClicking||n._onClickCallbacks.callCallbacks(r,e)},0),this._clickedDown=!1},c.prototype._handleDblClick=function(t,e){var n=this,r=this._translateToComponentSpace(t);this._doubleClicking=!0,this._onDoubleClickCallbacks.callCallbacks(r,e),setTimeout(function(){return n._doubleClicking=!1},0)},c._pointsEqual=function(t,e){return t.x===e.x&&t.y===e.y},c.prototype.onClick=function(t){return this._onClickCallbacks.add(t),this},c.prototype.offClick=function(t){return this._onClickCallbacks.delete(t),this},c.prototype.onDoubleClick=function(t){return this._onDoubleClickCallbacks.add(t),this},c.prototype.offDoubleClick=function(t){return this._onDoubleClickCallbacks.delete(t),this},c);function c(){var r=null!==i&&i.apply(this,arguments)||this;return r._clickedDown=!1,r._doubleClicking=!1,r._onClickCallbacks=new a.CallbackSet,r._onDoubleClickCallbacks=new a.CallbackSet,r._mouseDownCallback=function(t,e){return r._handleClickDown(t,e)},r._mouseUpCallback=function(t,e){return r._handleClickUp(t,e)},r._dblClickCallback=function(t,e){return r._handleDblClick(t,e)},r._touchStartCallback=function(t,e,n){return r._handleClickDown(e[t[0]],n)},r._touchEndCallback=function(t,e,n){return r._handleClickUp(e[t[0]],n)},r._touchCancelCallback=function(t,e){return r._clickedDown=!1},r}e.Click=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(0),o=n(14),a=n(1),s=n(16),u=(i=s.Interaction,r.__extends(c,i),c.prototype._anchor=function(t){i.prototype._anchor.call(this,t),this._mouseDispatcher=o.Mouse.getDispatcher(this._componentAttachedTo),this._mouseDispatcher.onMouseDown(this._mouseDownCallback),this._mouseDispatcher.onMouseMove(this._mouseMoveCallback),this._mouseDispatcher.onMouseUp(this._mouseUpCallback),this._touchDispatcher=o.Touch.getDispatcher(this._componentAttachedTo),this._touchDispatcher.onTouchStart(this._touchStartCallback),this._touchDispatcher.onTouchMove(this._touchMoveCallback),this._touchDispatcher.onTouchEnd(this._touchEndCallback)},c.prototype._unanchor=function(){i.prototype._unanchor.call(this),this._mouseDispatcher.offMouseDown(this._mouseDownCallback),this._mouseDispatcher.offMouseMove(this._mouseMoveCallback),this._mouseDispatcher.offMouseUp(this._mouseUpCallback),this._mouseDispatcher=null,this._touchDispatcher.offTouchStart(this._touchStartCallback),this._touchDispatcher.offTouchMove(this._touchMoveCallback),this._touchDispatcher.offTouchEnd(this._touchEndCallback),this._touchDispatcher=null},c.prototype._translateAndConstrain=function(t){var e=this._translateToComponentSpace(t);return this._constrainedToComponent?{x:a.Math.clamp(e.x,0,this._componentAttachedTo.width()),y:a.Math.clamp(e.y,0,this._componentAttachedTo.height())}:e},c.prototype._startDrag=function(t,e){var n;e instanceof MouseEvent&&!this._mouseFilter(e)||(n=this._translateToComponentSpace(t),this._isInsideComponent(n)&&(e.preventDefault(),this._dragging=!0,this._dragOrigin=n,this._dragStartCallbacks.callCallbacks(this._dragOrigin)))},c.prototype._doDrag=function(t,e){this._dragging&&this._dragCallbacks.callCallbacks(this._dragOrigin,this._translateAndConstrain(t))},c.prototype._endDrag=function(t,e){e instanceof MouseEvent&&e.button!==this._mouseButton||this._dragging&&(this._dragging=!1,this._dragEndCallbacks.callCallbacks(this._dragOrigin,this._translateAndConstrain(t)))},c.prototype.constrainedToComponent=function(t){return null==t?this._constrainedToComponent:(this._constrainedToComponent=t,this)},c.prototype.mouseFilter=function(t){return 0===arguments.length?this._mouseFilter:(this._mouseFilter=t,this)},c.prototype.onDragStart=function(t){return this._dragStartCallbacks.add(t),this},c.prototype.offDragStart=function(t){return this._dragStartCallbacks.delete(t),this},c.prototype.onDrag=function(t){return this._dragCallbacks.add(t),this},c.prototype.offDrag=function(t){return this._dragCallbacks.delete(t),this},c.prototype.onDragEnd=function(t){return this._dragEndCallbacks.add(t),this},c.prototype.offDragEnd=function(t){return this._dragEndCallbacks.delete(t),this},c._DEFAULT_MOUSE_FILTER=function(t){return 0===t.button},c);function c(t){var r=i.call(this)||this;return r._dragging=!1,r._constrainedToComponent=!0,r._mouseFilter=c._DEFAULT_MOUSE_FILTER,r._dragStartCallbacks=new a.CallbackSet,r._dragCallbacks=new a.CallbackSet,r._dragEndCallbacks=new a.CallbackSet,r._mouseDownCallback=function(t,e){return r._startDrag(t,e)},r._mouseMoveCallback=function(t,e){return r._doDrag(t,e)},r._mouseUpCallback=function(t,e){return r._endDrag(t,e)},r._touchStartCallback=function(t,e,n){return r._startDrag(e[t[0]],n)},r._touchMoveCallback=function(t,e,n){return r._doDrag(e[t[0]],n)},r._touchEndCallback=function(t,e,n){return r._endDrag(e[t[0]],n)},r._mouseButton=void 0!==t?t:0,r}e.Drag=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(0),o=n(2),a=n(14),s=n(4),u=n(1),c=n(26),l=n(16),h=n(27),p=(i=l.Interaction,r.__extends(g,i),g.prototype.dragInteraction=function(){return this._dragInteraction},g.prototype.wheelFilter=function(t){return 0===arguments.length?this._wheelFilter:(this._wheelFilter=t,this)},g.prototype.pan=function(e){var n=this;this.xScales().forEach(function(t){t.pan(n._constrainedTranslation(t,e.x))}),this.yScales().forEach(function(t){t.pan(n._constrainedTranslation(t,e.y))}),this._panZoomUpdateCallbacks.callCallbacks()},g.prototype.zoom=function(r,t,e){var i,o,n=this;return void 0===e&&(e=!0),null!=t&&(i=t.x,o=t.y,e&&(this.xScales().forEach(function(t){var e=n._constrainedZoom(t,r,i);i=e.centerPoint,r=e.zoomAmount}),this.yScales().forEach(function(t){var e=n._constrainedZoom(t,r,o);o=e.centerPoint,r=e.zoomAmount}))),this.xScales().forEach(function(t){var e=t.range(),n=null==i?(e[1]+e[0])/2:i;t.zoom(r,n)}),this.yScales().forEach(function(t){var e=t.range(),n=null==o?(e[1]+e[0])/2:o;t.zoom(r,n)}),this._panZoomUpdateCallbacks.callCallbacks(),{zoomAmount:r,centerValue:{centerX:i,centerY:o}}},g.prototype._anchor=function(t){i.prototype._anchor.call(this,t),this._dragInteraction.attachTo(t),this._mouseDispatcher=a.Mouse.getDispatcher(this._componentAttachedTo),this._mouseDispatcher.onWheel(this._wheelCallback),this._touchDispatcher=a.Touch.getDispatcher(this._componentAttachedTo),this._touchDispatcher.onTouchStart(this._touchStartCallback),this._touchDispatcher.onTouchMove(this._touchMoveCallback),this._touchDispatcher.onTouchEnd(this._touchEndCallback),this._touchDispatcher.onTouchCancel(this._touchCancelCallback)},g.prototype._unanchor=function(){i.prototype._unanchor.call(this),this._mouseDispatcher.offWheel(this._wheelCallback),this._mouseDispatcher=null,this._touchDispatcher.offTouchStart(this._touchStartCallback),this._touchDispatcher.offTouchMove(this._touchMoveCallback),this._touchDispatcher.offTouchEnd(this._touchEndCallback),this._touchDispatcher.offTouchCancel(this._touchCancelCallback),this._touchDispatcher=null,this._dragInteraction.detach()},g.prototype._handleTouchStart=function(t,e,n){for(var r=0;r<t.length&&this._touchIds.size()<2;r++){var i=t[r];this._touchIds.set(i.toString(),this._translateToComponentSpace(e[i]))}},g.prototype._handlePinch=function(t,e,n){var r,i,o,a,s,u,c,l,h,p,f,d,_,y,m=this;this._touchIds.size()<2||(r=this._touchIds.values(),this._isInsideComponent(this._translateToComponentSpace(r[0]))&&this._isInsideComponent(this._translateToComponentSpace(r[1]))&&0!==(i=g._pointDistance(r[0],r[1]))&&(t.forEach(function(t){m._touchIds.has(t.toString())&&m._touchIds.set(t.toString(),m._translateToComponentSpace(e[t]))}),o=this._touchIds.values(),0!==(a=g._pointDistance(o[0],o[1]))&&(s=i/a,u=o.map(function(t,e){return{x:(t.x-r[e].x)/s,y:(t.y-r[e].y)/s}}),c=g.centerPoint(r[0],r[1]),h=(l=this.zoom(s,c)).centerValue,p=l.zoomAmount,f=h.centerX,d=h.centerY,y={x:f-((_=r.map(function(t,e){return{x:u[e].x*p+t.x,y:u[e].y*p+t.y}}))[0].x+_[1].x)/2,y:d-(_[0].y+_[1].y)/2},this.pan(y))))},g.centerPoint=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y);return{x:(n+r)/2,y:(Math.max(t.y,e.y)+i)/2}},g._pointDistance=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y);return Math.sqrt(Math.pow(r-n,2)+Math.pow(o-i,2))},g.prototype._handleTouchEnd=function(t,e,n){var r=this;t.forEach(function(t){r._touchIds.remove(t.toString())}),0<this._touchIds.size()&&this._zoomEndCallbacks.callCallbacks()},g.prototype._handleWheelEvent=function(t,e){var n,r,i;this._wheelFilter(e)&&(n=this._translateToComponentSpace(t),this._isInsideComponent(n)&&(e.preventDefault(),r=(0!==e.deltaY?e.deltaY:e.deltaX)*(e.deltaMode?g._PIXELS_PER_LINE:1),i=Math.pow(2,.002*r),this.zoom(i,n),this._zoomEndCallbacks.callCallbacks()))},g.prototype._constrainedZoom=function(t,e,n){return h.constrainedZoom(t,e,n,this.minDomainExtent(t),this.maxDomainExtent(t),this.minDomainValue(t),this.maxDomainValue(t))},g.prototype._constrainedTranslation=function(t,e){return h.constrainedTranslation(t,e,this.minDomainValue(t),this.maxDomainValue(t))},g.prototype._setupDragInteraction=function(){var r,i=this;this._dragInteraction.constrainedToComponent(!1),this._dragInteraction.onDragStart(function(){return r=null}),this._dragInteraction.onDrag(function(t,e){var n;2<=i._touchIds.size()||(n={x:(null==r?t.x:r.x)-e.x,y:(null==r?t.y:r.y)-e.y},i.pan(n),r=e)}),this._dragInteraction.onDragEnd(function(){return i._panEndCallbacks.callCallbacks()})},g.prototype._nonLinearScaleWithExtents=function(t){return!(null==this.minDomainExtent(t)||null==this.maxDomainExtent(t)||t instanceof s.Linear||t instanceof s.Time)},g.prototype.xScales=function(t){var e=this;if(null!=t)return this._xScales=new u.Set,t.forEach(function(t){e.addXScale(t)}),this;var n=[];return this._xScales.forEach(function(t){n.push(t)}),n},g.prototype.yScales=function(t){var e=this;if(null!=t)return this._yScales=new u.Set,t.forEach(function(t){e.addYScale(t)}),this;var n=[];return this._yScales.forEach(function(t){n.push(t)}),n},g.prototype.addXScale=function(t){return this._xScales.add(t),this},g.prototype.removeXScale=function(t){return this._xScales.delete(t),this._minDomainExtents.delete(t),this._maxDomainExtents.delete(t),this._minDomainValues.delete(t),this._maxDomainValues.delete(t),this},g.prototype.addYScale=function(t){return this._yScales.add(t),this},g.prototype.removeYScale=function(t){return this._yScales.delete(t),this._minDomainExtents.delete(t),this._maxDomainExtents.delete(t),this._minDomainValues.delete(t),this._maxDomainValues.delete(t),this},g.prototype.minDomainExtent=function(t,e){if(null==e)return this._minDomainExtents.get(t);if(e.valueOf()<0)throw new Error("extent must be non-negative");var n=this.maxDomainExtent(t);if(null!=n&&n.valueOf()<e.valueOf())throw new Error("minDomainExtent must be smaller than maxDomainExtent for the same Scale");return this._nonLinearScaleWithExtents(t)&&u.Window.warn("Panning and zooming with extents on a nonlinear scale may have unintended behavior."),this._minDomainExtents.set(t,e),this},g.prototype.maxDomainExtent=function(t,e){if(null==e)return this._maxDomainExtents.get(t);if(e.valueOf()<=0)throw new Error("extent must be positive");var n=this.minDomainExtent(t);if(null!=n&&e.valueOf()<n.valueOf())throw new Error("maxDomainExtent must be larger than minDomainExtent for the same Scale");return this._nonLinearScaleWithExtents(t)&&u.Window.warn("Panning and zooming with extents on a nonlinear scale may have unintended behavior."),this._maxDomainExtents.set(t,e),this},g.prototype.minDomainValue=function(t,e){return null==e?this._minDomainValues.get(t):(this._minDomainValues.set(t,e),this)},g.prototype.maxDomainValue=function(t,e){return null==e?this._maxDomainValues.get(t):(this._maxDomainValues.set(t,e),this)},g.prototype.setMinMaxDomainValuesTo=function(t){this._minDomainValues.delete(t),this._maxDomainValues.delete(t);var e=t.getTransformationDomain(),n=e[0],r=e[1];return this.minDomainValue(t,n),this.maxDomainValue(t,r),this},g.prototype.onPanEnd=function(t){return this._panEndCallbacks.add(t),this},g.prototype.offPanEnd=function(t){return this._panEndCallbacks.delete(t),this},g.prototype.onZoomEnd=function(t){return this._zoomEndCallbacks.add(t),this},g.prototype.offZoomEnd=function(t){return this._zoomEndCallbacks.delete(t),this},g.prototype.onPanZoomUpdate=function(t){return this._panZoomUpdateCallbacks.add(t),this},g.prototype.offPanZoomUpdate=function(t){return this._panZoomUpdateCallbacks.delete(t),this},g._PIXELS_PER_LINE=120,g);function g(t,e){var r=i.call(this)||this;return r._wheelFilter=function(t){return!0},r._wheelCallback=function(t,e){return r._handleWheelEvent(t,e)},r._touchStartCallback=function(t,e,n){return r._handleTouchStart(t,e,n)},r._touchMoveCallback=function(t,e,n){return r._handlePinch(t,e,n)},r._touchEndCallback=function(t,e,n){return r._handleTouchEnd(t,e,n)},r._touchCancelCallback=function(t,e,n){return r._handleTouchEnd(t,e,n)},r._panEndCallbacks=new u.CallbackSet,r._zoomEndCallbacks=new u.CallbackSet,r._panZoomUpdateCallbacks=new u.CallbackSet,r._xScales=new u.Set,r._yScales=new u.Set,r._dragInteraction=new c.Drag,r._setupDragInteraction(),r._touchIds=o.map(),r._minDomainExtents=new u.Map,r._maxDomainExtents=new u.Map,r._minDomainValues=new u.Map,r._maxDomainValues=new u.Map,null!=t&&r.addXScale(t),null!=e&&r.addYScale(e),r}e.PanZoom=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(0),o=n(14),a=n(1),s=n(16),u=(i=s.Interaction,r.__extends(c,i),c.prototype._anchor=function(t){i.prototype._anchor.call(this,t),this._mouseDispatcher=o.Mouse.getDispatcher(this._componentAttachedTo),this._mouseDispatcher.onMouseMove(this._mouseMoveCallback),this._touchDispatcher=o.Touch.getDispatcher(this._componentAttachedTo),this._touchDispatcher.onTouchStart(this._touchStartCallback)},c.prototype._unanchor=function(){i.prototype._unanchor.call(this),this._mouseDispatcher.offMouseMove(this._mouseMoveCallback),this._mouseDispatcher=null,this._touchDispatcher.offTouchStart(this._touchStartCallback),this._touchDispatcher=null},c.prototype._handleMouseEvent=function(t,e){var n=this._mouseDispatcher.eventInside(this._componentAttachedTo,e);this._handlePointerEvent(t,n)},c.prototype._handleTouchEvent=function(t,e){var n=this._touchDispatcher.eventInside(this._componentAttachedTo,e);this._handlePointerEvent(t,n)},c.prototype._handlePointerEvent=function(t,e){var n=this._translateToComponentSpace(t),r=this._isInsideComponent(n);r&&e?(this._overComponent||this._pointerEnterCallbacks.callCallbacks(n),this._pointerMoveCallbacks.callCallbacks(n)):this._overComponent&&this._pointerExitCallbacks.callCallbacks(n),this._overComponent=r&&e},c.prototype.onPointerEnter=function(t){return this._pointerEnterCallbacks.add(t),this},c.prototype.offPointerEnter=function(t){return this._pointerEnterCallbacks.delete(t),this},c.prototype.onPointerMove=function(t){return this._pointerMoveCallbacks.add(t),this},c.prototype.offPointerMove=function(t){return this._pointerMoveCallbacks.delete(t),this},c.prototype.onPointerExit=function(t){return this._pointerExitCallbacks.add(t),this},c.prototype.offPointerExit=function(t){return this._pointerExitCallbacks.delete(t),this},c);function c(){var r=null!==i&&i.apply(this,arguments)||this;return r._overComponent=!1,r._pointerEnterCallbacks=new a.CallbackSet,r._pointerMoveCallbacks=new a.CallbackSet,r._pointerExitCallbacks=new a.CallbackSet,r._mouseMoveCallback=function(t,e){return r._handleMouseEvent(t,e)},r._touchStartCallback=function(t,e,n){return r._handleTouchEvent(e[t[0]],n)},r}e.Pointer=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(21);e.memThunk=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.slice(0,-1),r=t[t.length-1],i=o.memoize(r);return function(){var e=this,t=n.map(function(t){return t.apply(e)});return i.apply(void 0,t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=n(53);e.memoize=function(r){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(a)return i;var n=u.signArray(t);return void 0===o||o.isDifferent(n)?(s&&console.warn("cache miss! computing"),o=n,i=r.apply(this,t)):s&&console.warn("cache hit!"),i}var i,o=void 0,a=!1,s=!1;return t.doLocked=function(t){if(a)throw new Error("Locking an already locked memoize function!");a=!0;var e=t.apply(this);return a=!1,e},t.logPerformance=function(t){return void 0===t&&(t=!0),s=t,this},t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(38),i=(o.prototype.delete=function(t){return delete this.map[t],delete this.exists[t],!0},o.prototype.get=function(t){return this.map[t]},o.prototype.has=function(t){return!!this.exists[t]},o.prototype.set=function(t,e){return this.map[t]=e,this.exists[t]=!0,this},o);function o(){this.map=Object.create(null),this.exists=Object.create(null)}var a=(s.prototype.get=function(t){return this.map.get(t[0]).get(t[1])},s.prototype.has=function(t){return this.map.has(t[0])&&this.map.get(t[0]).has(t[1])},s.prototype.set=function(t,e){return this.map.has(t[0])||this.map.set(t[0],new i),this.map.get(t[0]).set(t[1],e),this},s.prototype.delete=function(t){return this.map.has(t[0])&&this.map.get(t[0]).delete(t[1]),!0},s.prototype.clear=function(){this.map=new i},s.resolver=function(t,e,n){return[n.updateId(),e]},s);function s(){this.map=new i}function u(t){var e=r.memoize(t,a.resolver);return e.cache=new a,e}e.memoizeProjector=u,e.memoizeProjectors=function(e){return Object.keys(e).forEach(function(t){e[t]=u(e[t])}),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,r=n(0),i=n(4),o=n(1),s=n(28),u=n(3),c=(a=s.Bar,r.__extends(l,a),l.prototype._generateAttrToProjector=function(){function t(t,e){return n.rangeBand()}var r=this,e=a.prototype._generateAttrToProjector.call(this),n=this._makeInnerScale();e.width=this._isVertical?t:e.width,e.height=this._isVertical?e.height:t;var i=e.x,o=e.y;return e.x=this._isVertical?function(t,e,n){return i(t,e,n)+r._clusterOffsets.get(n)}:function(t,e,n){return i(t,e,n)},e.y=this._isVertical?function(t,e,n){return o(t,e,n)}:function(t,e,n){return o(t,e,n)+r._clusterOffsets.get(n)},e},l.prototype._updateClusterPosition=function(){var n=this,r=this._makeInnerScale();this.datasets().forEach(function(t,e){return n._clusterOffsets.set(t,r.scale(String(e))-r.rangeBand()/2)})},l.prototype._makeInnerScale=function(){var t=new i.Category;t.domain(this.datasets().map(function(t,e){return String(e)}));var e=u.Plot._scaledAccessor(this.attr(s.Bar._BAR_THICKNESS_KEY));return t.range([0,e(null,0,null)]),t},l.prototype._getDataToDraw=function(){return this._updateClusterPosition(),a.prototype._getDataToDraw.call(this)},l);function l(t){void 0===t&&(t="vertical");var e=a.call(this,t)||this;return e._clusterOffsets=new o.Map,e}e.ClusteredBar=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,r=n(0),s=n(2),i=n(5),o=n(9),u=n(7),c=n(4),A=n(1),l=n(48),h=n(49),p=n(8),f=n(37),d=n(3),_=(a=d.Plot,r.__extends(y,a),y.prototype._setup=function(){var e=this;a.prototype._setup.call(this),this._strokeDrawers.forEach(function(t){return t.attachTo(e._renderArea)})},y.prototype.computeLayout=function(t,e,n){a.prototype.computeLayout.call(this,t,e,n);var r=this._pieCenter();this._renderArea.attr("transform","translate("+r.x+","+r.y+")");var i=Math.min(Math.max(this.width()-r.x,r.x),Math.max(this.height()-r.y,r.y));return null!=this.innerRadius().scale&&this.innerRadius().scale.range([0,i]),null!=this.outerRadius().scale&&this.outerRadius().scale.range([0,i]),this},y.prototype.addDataset=function(t){return a.prototype.addDataset.call(this,t),this},y.prototype._addDataset=function(t){if(1===this.datasets().length)return A.Window.warn("Only one dataset is supported in Pie plots"),this;this._updatePieAngles(),a.prototype._addDataset.call(this,t);var e=new h.ArcOutlineSVGDrawer;return this._isSetup&&e.attachTo(this._renderArea),this._strokeDrawers.set(t,e),this},y.prototype.removeDataset=function(t){return a.prototype.removeDataset.call(this,t),this},y.prototype._removeDatasetNodes=function(t){a.prototype._removeDatasetNodes.call(this,t),this._strokeDrawers.get(t).remove()},y.prototype._removeDataset=function(t){return a.prototype._removeDataset.call(this,t),this._strokeDrawers.delete(t),this._startAngles=[],this._endAngles=[],this},y.prototype.selections=function(t){var n=this;void 0===t&&(t=this.datasets());var r=a.prototype.selections.call(this,t).nodes();return t.forEach(function(t){var e=n._strokeDrawers.get(t);null!=e&&r.push.apply(r,e.getVisualPrimitives())}),s.selectAll(r)},y.prototype._onDatasetUpdate=function(){a.prototype._onDatasetUpdate.call(this),this._updatePieAngles(),this.render()},y.prototype._createDrawer=function(){return new p.ProxyDrawer(function(){return new l.ArcSVGDrawer},function(){return f.warn("canvas renderer is not supported on Pie Plot!"),null})},y.prototype.entities=function(t){var r=this;return void 0===t&&(t=this.datasets()),a.prototype.entities.call(this,t).map(function(t){t.position.x+=r.width()/2,t.position.y+=r.height()/2;var e=s.select(r._strokeDrawers.get(t.dataset).getVisualPrimitiveAtIndex(t.index)),n=t;return n.strokeSelection=e,n})},y.prototype.sectorValue=function(t,e){return null==t?this._propertyBindings.get(y._SECTOR_VALUE_KEY):(this._bindProperty(y._SECTOR_VALUE_KEY,t,e),this._updatePieAngles(),this.render(),this)},y.prototype.innerRadius=function(t,e){return null==t?this._propertyBindings.get(y._INNER_RADIUS_KEY):(this._bindProperty(y._INNER_RADIUS_KEY,t,e),this.render(),this)},y.prototype.outerRadius=function(t,e){return null==t?this._propertyBindings.get(y._OUTER_RADIUS_KEY):(this._bindProperty(y._OUTER_RADIUS_KEY,t,e),this.render(),this)},y.prototype.startAngle=function(t){return null==t?this._startAngle:(this._startAngle=t,this._updatePieAngles(),this.render(),this)},y.prototype.endAngle=function(t){return null==t?this._endAngle:(this._endAngle=t,this._updatePieAngles(),this.render(),this)},y.prototype.labelsEnabled=function(t){return null==t?this._labelsEnabled:(this._labelsEnabled=t,this.render(),this)},y.prototype.labelFormatter=function(t){return null==t?this._labelFormatter:(this._labelFormatter=t,this.render(),this)},y.prototype.entitiesAt=function(t){var e=this.width()/2,n=this.height()/2,r={x:t.x-e,y:t.y-n},i=this._sliceIndexForPoint(r);return null==i?[]:[this.entities()[i]]},y.prototype._propertyProjectors=function(){var r=this,t=a.prototype._propertyProjectors.call(this),i=d.Plot._scaledAccessor(this.innerRadius()),o=d.Plot._scaledAccessor(this.outerRadius());return t.d=function(t,e,n){return s.arc().innerRadius(i(t,e,n)).outerRadius(o(t,e,n)).startAngle(r._startAngles[e]).endAngle(r._endAngles[e])(t,e)},t},y.prototype._updatePieAngles=function(){var n,r,t,e;null!=this.sectorValue()&&0!==this.datasets().length&&(n=d.Plot._scaledAccessor(this.sectorValue()),r=this.datasets()[0],t=this._getDataToDraw().get(r),e=s.pie().sort(null).startAngle(this._startAngle).endAngle(this._endAngle).value(function(t,e){return n(t,e,r)})(t),this._startAngles=e.map(function(t){return t.startAngle}),this._endAngles=e.map(function(t){return t.endAngle}))},y.prototype._pieCenter=function(){var t,e,n,r,i=this._startAngle<this._endAngle?this._startAngle:this._endAngle,o=this._startAngle<this._endAngle?this._endAngle:this._startAngle,a=Math.sin(i),s=Math.cos(i),u=Math.sin(o),c=Math.cos(o);return 0<=a&&0<=u?0<=s&&0<=c?(t=s,r=e=0,n=u):s<0&&c<0?(e=-c,r=t=0,n=a):0<=s&&c<0?(t=s,e=-c,r=0,n=a):s<0&&0<=c&&(r=e=t=1,n=Math.max(a,u)):0<=a&&u<0?0<=s&&0<=c?(t=Math.max(s,c),n=r=e=1):s<0&&c<0?(t=0,e=1,r=-u,n=a):0<=s&&c<0?(t=s,r=-u,n=e=1):s<0&&0<=c&&(t=c,r=e=1,n=a):a<0&&0<=u?0<=s&&0<=c?(t=1,e=0,r=-a,n=u):s<0&&c<0?(t=1,e=Math.max(-s,-c),n=r=1):0<=s&&c<0?(e=-c,r=-a,n=t=1):s<0&&0<=c&&(e=-s,r=t=1,n=u):a<0&&u<0&&(0<=s&&0<=c?(t=c,r=-a,n=e=0):s<0&&c<0?(e=-s,r=-u,n=t=0):0<=s&&c<0?(e=t=1,r=Math.max(s,-c),n=1):s<0&&0<=c&&(t=c,e=-s,r=1,n=0)),{x:r+n==0?0:r/(r+n)*this.width(),y:t+e==0?0:t/(t+e)*this.height()}},y.prototype._getDataToDraw=function(){var t=a.prototype._getDataToDraw.call(this);if(0===this.datasets().length)return t;var n=d.Plot._scaledAccessor(this.sectorValue()),r=this.datasets()[0],e=t.get(r).filter(function(t,e){return y._isValidData(n(t,e,r))});return t.set(r,e),t},y._isValidData=function(t){return A.Math.isValidNumber(t)&&0<=t},y.prototype._pixelPoint=function(t,e,r){var i=d.Plot._scaledAccessor(this.sectorValue());if(!y._isValidData(i(t,e,r)))return{x:NaN,y:NaN};var n=(d.Plot._scaledAccessor(this.innerRadius())(t,e,r)+d.Plot._scaledAccessor(this.outerRadius())(t,e,r))/2,o=s.pie().sort(null).value(function(t,e){var n=i(t,e,r);return y._isValidData(n)?n:0}).startAngle(this._startAngle).endAngle(this._endAngle)(r.data()),a=(o[e].startAngle+o[e].endAngle)/2;return{x:n*Math.sin(a),y:-n*Math.cos(a)}},y.prototype._additionalPaint=function(t){var n=this;this._renderArea.select(".label-area").remove(),this._labelsEnabled&&A.Window.setTimeout(function(){return n._drawLabels()},t);var r=this._generateStrokeDrawSteps(),i=this._getDataToDraw();this.datasets().forEach(function(t){var e=d.Plot.applyDrawSteps(r,t);n._strokeDrawers.get(t).draw(i.get(t),e)})},y.prototype._generateStrokeDrawSteps=function(){return[{attrToProjector:this._getAttrToProjector(),animator:new o.Null}]},y.prototype._sliceIndexForPoint=function(t){var e,n=Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2)),r=Math.acos(-t.y/n);t.x<0&&(r=2*Math.PI-r);for(var i=0;i<this._startAngles.length;i++)if(this._startAngles[i]<r&&this._endAngles[i]>r){e=i;break}if(void 0!==e){var o=this.datasets()[0],a=o.data()[e],s=this.innerRadius().accessor(a,e,o),u=this.outerRadius().accessor(a,e,o);if(s<n&&n<u)return e}return null},y.prototype._drawLabels=function(){for(var y=this,m=this._getAttrToProjector(),g=this._renderArea.append("g").classed("label-area",!0),t=new i.SvgContext(g.node()),v=new i.CacheMeasurer(t),b=new i.Writer(v,t),x=this.datasets()[0],w=this._getDataToDraw().get(x),e=w.length,n=function(e){var t=w[e],n=E.sectorValue().accessor(t,e,x);if(!A.Math.isValidNumber(n))return"continue";n=E._labelFormatter(n,t,e,x);var r=v.measure(n),i=(E._endAngles[e]+E._startAngles[e])/2,o=E.outerRadius().accessor(t,e,x);E.outerRadius().scale&&(o=E.outerRadius().scale.scale(o));var a=E.innerRadius().accessor(t,e,x);E.innerRadius().scale&&(a=E.innerRadius().scale.scale(a));var s=(o+a)/2,u=Math.sin(i)*s-r.width/2,c=-Math.cos(i)*s-r.height/2,l=[{x:u,y:c},{x:u,y:c+r.height},{x:u+r.width,y:c},{x:u+r.width,y:c+r.height}],h=l.every(function(t){return Math.abs(t.x)<=y.width()/2&&Math.abs(t.y)<=y.height()/2});h=h&&l.map(function(t){return y._sliceIndexForPoint(t)}).every(function(t){return t===e});var p=m.fill(t,e,x),f=1.6*A.Color.contrast("white",p)<A.Color.contrast("black",p),d=g.append("g").attr("transform","translate("+u+","+c+")"),_=f?"dark-label":"light-label";d.classed(_,!0),d.style("visibility",h?"inherit":"hidden"),b.write(n,r.width,r.height,{xAlign:"center",yAlign:"center"},d.node())},E=this,r=0;r<e;r++)n(r)},y._INNER_RADIUS_KEY="inner-radius",y._OUTER_RADIUS_KEY="outer-radius",y._SECTOR_VALUE_KEY="sector-value",y);function y(){var e=a.call(this)||this;return e._startAngle=0,e._endAngle=2*Math.PI,e._labelFormatter=u.identity(),e._labelsEnabled=!1,e.innerRadius(0),e.outerRadius(function(){var t=e._pieCenter();return Math.min(Math.max(e.width()-t.x,t.x),Math.max(e.height()-t.y,t.y))}),e.addClass("pie-plot"),e.attr("fill",function(t,e){return String(e)},new c.Color),e._strokeDrawers=new A.Map,e}e.Pie=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h,r=n(0),a=n(2),D=n(5),i=n(9),o=n(15),s=n(8),u=n(36),c=n(4),L=n(1),p=n(3),l=n(17),f=(h=l.XYPlot,r.__extends(d,h),d.prototype._createDrawer=function(){return new s.ProxyDrawer(function(){return new u.RectangleSVGDrawer},function(t){return new o.RectangleCanvasDrawer(t)})},d.prototype._generateAttrToProjector=function(){var r=this,i=h.prototype._generateAttrToProjector.call(this),o=p.Plot._scaledAccessor(this.x()),a=i[d._X2_KEY],s=p.Plot._scaledAccessor(this.y()),u=i[d._Y2_KEY],c=this.x().scale,l=this.y().scale;return null!=a?(i.width=function(t,e,n){return Math.abs(a(t,e,n)-o(t,e,n))},i.x=function(t,e,n){return Math.min(a(t,e,n),o(t,e,n))}):(i.width=function(t,e,n){return r._rectangleWidth(c)},i.x=function(t,e,n){return o(t,e,n)-.5*i.width(t,e,n)}),null!=u?(i.height=function(t,e,n){return Math.abs(u(t,e,n)-s(t,e,n))},i.y=function(t,e,n){return Math.max(u(t,e,n),s(t,e,n))-i.height(t,e,n)}):(i.height=function(t,e,n){return r._rectangleWidth(l)},i.y=function(t,e,n){return s(t,e,n)-.5*i.height(t,e,n)}),delete i[d._X2_KEY],delete i[d._Y2_KEY],i},d.prototype._generateDrawSteps=function(){return[{attrToProjector:this._getAttrToProjector(),animator:this._getAnimator("rectangles")}]},d.prototype._filterForProperty=function(t){return"x2"===t?h.prototype._filterForProperty.call(this,"x"):"y2"===t?h.prototype._filterForProperty.call(this,"y"):h.prototype._filterForProperty.call(this,t)},d.prototype.x=function(t,e,n){return null==t?h.prototype.x.call(this):(null==e?h.prototype.x.call(this,t):h.prototype.x.call(this,t,e,n),null==e||null!=(i=(r=this.x2())&&r.accessor)&&this._bindProperty(d._X2_KEY,i,e,r.postScale),e instanceof c.Category&&e.innerPadding(0).outerPadding(0),this);var r,i},d.prototype.x2=function(t,e){if(null==t)return this._propertyBindings.get(d._X2_KEY);var n=this.x(),r=n&&n.scale;return this._bindProperty(d._X2_KEY,t,r,e),this.render(),this},d.prototype.y=function(t,e,n){return null==t?h.prototype.y.call(this):(null==e?h.prototype.y.call(this,t):h.prototype.y.call(this,t,e,n),null==e||null!=(i=(r=this.y2())&&r.accessor)&&this._bindProperty(d._Y2_KEY,i,e,r.postScale),e instanceof c.Category&&e.innerPadding(0).outerPadding(0),this);var r,i},d.prototype.y2=function(t,e){if(null==t)return this._propertyBindings.get(d._Y2_KEY);var n=this.y(),r=n&&n.scale;return this._bindProperty(d._Y2_KEY,t,r,e),this.render(),this},d.prototype.entitiesAt=function(u){var c=this._getAttrToProjector();return this.entities().filter(function(t){var e=t.datum,n=t.index,r=t.dataset,i=c.x(e,n,r),o=c.y(e,n,r),a=c.width(e,n,r),s=c.height(e,n,r);return i<=u.x&&u.x<=i+a&&o<=u.y&&u.y<=o+s})},d.prototype._entityBounds=function(t){var e=t.datum,n=t.index,r=t.dataset;return this._entityBBox(e,n,r,this._getAttrToProjector())},d.prototype._entityBBox=function(t,e,n,r){return{x:r.x(t,e,n),y:r.y(t,e,n),width:r.width(t,e,n),height:r.height(t,e,n)}},d.prototype.label=function(t){return null==t?this._label:(this._label=t,this.render(),this)},d.prototype.labelsEnabled=function(t){return null==t?this._labelsEnabled:(this._labelsEnabled=t,this.render(),this)},d.prototype._propertyProjectors=function(){var t=h.prototype._propertyProjectors.call(this);return null!=this.x2()&&(t.x2=p.Plot._scaledAccessor(this.x2())),null!=this.y2()&&(t.y2=p.Plot._scaledAccessor(this.y2())),t},d.prototype._pixelPoint=function(t,e,n){var r=this._getAttrToProjector(),i=r.x(t,e,n),o=r.y(t,e,n);return{x:i+r.width(t,e,n)/2,y:o+r.height(t,e,n)/2}},d.prototype._rectangleWidth=function(t){if(t instanceof c.Category)return t.rangeBand();var r=t===this.x().scale?this.x().accessor:this.y().accessor,e=a.set(L.Array.flatten(this.datasets().map(function(n){return n.data().map(function(t,e){return r(t,e,n).valueOf()})}))).values().map(function(t){return+t}),n=L.Math.min(e,0),i=L.Math.max(e,0),o=t.scale(n);return(t.scale(i)-o)/Math.abs(i-n)},d.prototype._getDataToDraw=function(){var e=new L.Map,r=this._getAttrToProjector();return this.datasets().forEach(function(n){var t=n.data().map(function(t,e){return L.Math.isValidNumber(r.x(t,e,n))&&L.Math.isValidNumber(r.y(t,e,n))&&L.Math.isValidNumber(r.width(t,e,n))&&L.Math.isValidNumber(r.height(t,e,n))?t:null});e.set(n,t)}),e},d.prototype._additionalPaint=function(t){var e=this;this._renderArea.selectAll(".label-area").remove(),this._labelsEnabled&&null!=this.label()&&L.Window.setTimeout(function(){return e._drawLabels()},t)},d.prototype._drawLabels=function(){var n=this,r=this._getDataToDraw();this.datasets().forEach(function(t,e){return n._drawLabel(r,t,e)})},d.prototype._drawLabel=function(t,e,n){for(var r=this._getAttrToProjector(),i=this._renderArea.append("g").classed("label-area",!0),o=new D.SvgContext(i.node()),a=new D.CacheMeasurer(o),s=new D.Writer(a,o),u=this.x().scale.range(),c=this.y().scale.range(),l=Math.min.apply(null,u),h=Math.max.apply(null,u),p=Math.min.apply(null,c),f=Math.max.apply(null,c),d=t.get(e),_=d.length,y=0;y<_;y++){var m=d[y];if(null!=m){var g=""+this.label()(m,y,e),v=a.measure(g),b=r.x(m,y,e),x=r.y(m,y,e),w=r.width(m,y,e),E=r.height(m,y,e);if(v.height<=E&&v.width<=w){var A=(w-v.width)/2;x+=(E-v.height)/2;var S={min:b+=A,max:b+v.width},C={min:x,max:x+v.height};if(S.min<l||h<S.max||C.min<p||f<C.max)continue;if(this._overlayLabel(S,C,y,n,t))continue;var T=r.fill(m,y,e),k=1.6*L.Color.contrast("white",T)<L.Color.contrast("black",T),P=i.append("g").attr("transform","translate("+b+","+x+")"),M=k?"dark-label":"light-label";P.classed(M,!0),s.write(g,v.width,v.height,{xAlign:"center",yAlign:"center"},P.node())}}}},d.prototype._overlayLabel=function(t,e,n,r,i){for(var o=this._getAttrToProjector(),a=this.datasets(),s=r;s<a.length;s++)for(var u=a[s],c=i.get(u),l=c.length,h=s===r?n+1:0;h<l;h++)if(L.DOM.intersectsBBox(t,e,this._entityBBox(c[h],h,u,o)))return!0;return!1},d._X2_KEY="x2",d._Y2_KEY="y2",d);function d(){var t=h.call(this)||this;return t._labelsEnabled=!1,t._label=null,t.animator("rectangles",new i.Null),t.addClass("rectangle-plot"),t.attr("fill",(new c.Color).range()[0]),t}e.Rectangle=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,r=n(0),s=n(5),i=n(7),o=n(33),u=n(8),c=n(52),l=n(9),h=n(15),p=n(4),f=n(1),d=n(20),v=n(3),_=n(17),y=(a=_.XYPlot,r.__extends(m,a),m.prototype._buildLightweightPlotEntities=function(t){var n=this;return a.prototype._buildLightweightPlotEntities.call(this,t).map(function(t){var e=v.Plot._scaledAccessor(n.size())(t.datum,t.index,t.dataset);return t.diameter=e,t})},m.prototype._createDrawer=function(e){var n=this;return new u.ProxyDrawer(function(){return new c.SymbolSVGDrawer},function(t){return new h.CanvasDrawer(t,c.makeSymbolCanvasDrawStep(e,function(){return v.Plot._scaledAccessor(n.symbol())},function(){return v.Plot._scaledAccessor(n.size())}))})},m.prototype.size=function(t,e){return null==t?this._propertyBindings.get(m._SIZE_KEY):(this._bindProperty(m._SIZE_KEY,t,e),this.render(),this)},m.prototype.symbol=function(t){return null==t?this._propertyBindings.get(m._SYMBOL_KEY):(this._propertyBindings.set(m._SYMBOL_KEY,{accessor:t}),this.render(),this)},m.prototype._generateDrawSteps=function(){var t,r,e=[];return this._animateOnNextRender()&&(t=this._getAttrToProjector(),r=v.Plot._scaledAccessor(this.symbol()),t.d=function(t,e,n){return r(t,e,n)(0)(null)},e.push({attrToProjector:t,animator:this._getAnimator(d.Animator.RESET)})),e.push({attrToProjector:this._getAttrToProjector(),animator:this._getAnimator(d.Animator.MAIN)}),e},m.prototype._propertyProjectors=function(){var t=a.prototype._propertyProjectors.call(this),r=v.Plot._scaledAccessor(this.x()),i=v.Plot._scaledAccessor(this.y());return t.x=r,t.y=i,t.transform=function(t,e,n){return"translate("+r(t,e,n)+","+i(t,e,n)+")"},t.d=this._constructSymbolGenerator(),t},m.prototype._constructSymbolGenerator=function(){var r=v.Plot._scaledAccessor(this.symbol()),i=v.Plot._scaledAccessor(this.size());return function(t,e,n){return r(t,e,n)(i(t,e,n))(null)}},m.prototype._entityBounds=function(t){return{x:t.position.x-t.diameter/2,y:t.position.y-t.diameter/2,width:t.diameter,height:t.diameter}},m.prototype._entityVisibleOnPlot=function(t,e){var n={min:e.topLeft.x,max:e.bottomRight.x},r={min:e.topLeft.y,max:e.bottomRight.y},i=this._entityBounds(t);return f.DOM.intersectsBBox(n,r,i)},m.prototype.entitiesAt=function(s){var u=v.Plot._scaledAccessor(this.x()),c=v.Plot._scaledAccessor(this.y()),l=v.Plot._scaledAccessor(this.size());return this.entities().filter(function(t){var e=t.datum,n=t.index,r=t.dataset,i=u(e,n,r),o=c(e,n,r),a=l(e,n,r);return i-a/2<=s.x&&s.x<=i+a/2&&o-a/2<=s.y&&s.y<=o+a/2})},m.prototype.labelsEnabled=function(t){return null==t?this._labelsEnabled:(this._labelsEnabled=t,this._clearAttrToProjectorCache(),this.render(),this)},m.prototype._createNodesForDataset=function(t){var e=a.prototype._createNodesForDataset.call(this,t),n=this._renderArea.append("g").classed(m._LABEL_AREA_CLASS,!0),r=new s.SvgContext(n.node()),i=new s.CacheMeasurer(r),o=new s.Writer(i,r);return this._labelConfig.set(t,{labelArea:n,measurer:i,writer:o}),e},m.prototype._removeDatasetNodes=function(t){a.prototype._removeDatasetNodes.call(this,t);var e=this._labelConfig.get(t);null!=e&&(e.labelArea.remove(),this._labelConfig.delete(t))},m.prototype._additionalPaint=function(t){var e=this;this.datasets().forEach(function(t){return e._labelConfig.get(t).labelArea.selectAll("g").remove()}),this._labelsEnabled&&f.Window.setTimeout(function(){return e._drawLabels()},t)},m.prototype._drawLabels=function(){var o=this,a=this._getDataToDraw(),s=this._getAttrToProjector();this.datasets().forEach(function(t){for(var e=a.get(t),n=e.length,r=0;r<n;r++){var i=e[r];null!=i&&o._drawLabel(i,r,t,s)}})},m.prototype._drawLabel=function(t,e,n,r){var i,o,a,s,u,c,l,h,p,f,d,_,y,m,g;null!=t.label&&(o=(i=this._labelConfig.get(n)).labelArea,a=i.measurer,s=i.writer,u={x:r.x(t,e,n),y:r.y(t,e,n)},c=v.Plot._scaledAccessor(this.size())(t,e,n),l=this._labelFormatter(t.label,t,e,n),h=a.measure(l),f=(p=this._calculateLabelProperties(u,c,h)).containerDimensions,d=p.labelContainerOrigin,_=p.labelOrigin,y=p.alignment,m=this._createLabelContainer(o,d,_,h),g={xAlign:y.x,yAlign:y.y},s.write(l,f.width,f.height,g,m.node()))},m.prototype._calculateLabelProperties=function(t,e,n){var r=e<n.height?e/2+m._LABEL_MARGIN_FROM_BUBBLE:0;return{containerDimensions:{width:n.width,height:n.height},labelContainerOrigin:{x:t.x-n.width/2,y:t.y-n.height/2+r},labelOrigin:{x:t.x,y:t.y},alignment:{x:"center",y:"center"}}},m.prototype._createLabelContainer=function(t,e,n,r){var i=t.append("g").attr("transform","translate("+e.x+", "+e.y+")");return i.classed("on-bar-label",!0),i},m._SIZE_KEY="size",m._SYMBOL_KEY="symbol",m._LABEL_AREA_CLASS="scatter-label-text-area",m._LABEL_MARGIN_FROM_BUBBLE=15,m);function m(){var t=a.call(this)||this;t._labelFormatter=i.identity(),t._labelsEnabled=!1,t.addClass("scatter-plot");var e=new l.Easing;e.startDelay(5),e.stepDuration(250),e.maxTotalDuration(v.Plot._ANIMATION_MAX_DURATION),t.animator(d.Animator.MAIN,e),t.attr("opacity",.6),t.attr("fill",(new p.Color).range()[0]),t.size(6);var n=o.circle();return t.symbol(function(){return n}),t._labelConfig=new f.Map,t}e.Scatter=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(0),o=n(9),a=n(8),s=n(51),u=n(4),c=n(37),l=n(3),h=n(17),p=(i=h.XYPlot,r.__extends(f,i),f.prototype._createDrawer=function(){return new a.ProxyDrawer(function(){return new s.SegmentSVGDrawer},function(){return c.warn("canvas renderer is not supported on Segment Plot!"),null})},f.prototype._generateDrawSteps=function(){return[{attrToProjector:this._getAttrToProjector(),animator:new o.Null}]},f.prototype._filterForProperty=function(t){return"x2"===t?i.prototype._filterForProperty.call(this,"x"):"y2"===t?i.prototype._filterForProperty.call(this,"y"):i.prototype._filterForProperty.call(this,t)},f.prototype.x=function(t,e){return null==t?i.prototype.x.call(this):(null==e?i.prototype.x.call(this,t):(i.prototype.x.call(this,t,e),null!=(r=(n=this.x2())&&n.accessor)&&this._bindProperty(f._X2_KEY,r,e)),this);var n,r},f.prototype.x2=function(t){if(null==t)return this._propertyBindings.get(f._X2_KEY);var e=this.x(),n=e&&e.scale;return this._bindProperty(f._X2_KEY,t,n),this.render(),this},f.prototype.y=function(t,e){return null==t?i.prototype.y.call(this):(null==e?i.prototype.y.call(this,t):(i.prototype.y.call(this,t,e),null!=(r=(n=this.y2())&&n.accessor)&&this._bindProperty(f._Y2_KEY,r,e)),this);var n,r},f.prototype.y2=function(t){if(null==t)return this._propertyBindings.get(f._Y2_KEY);var e=this.y(),n=e&&e.scale;return this._bindProperty(f._Y2_KEY,t,n),this.render(),this},f.prototype._propertyProjectors=function(){var t=i.prototype._propertyProjectors.call(this);return t.x1=l.Plot._scaledAccessor(this.x()),t.x2=null==this.x2()?l.Plot._scaledAccessor(this.x()):l.Plot._scaledAccessor(this.x2()),t.y1=l.Plot._scaledAccessor(this.y()),t.y2=null==this.y2()?l.Plot._scaledAccessor(this.y()):l.Plot._scaledAccessor(this.y2()),t},f.prototype.entitiesAt=function(t){var e=this.entityNearest(t);return null!=e?[e]:[]},f.prototype.entitiesIn=function(t,e){var n,r;return r=null==e?(n={min:t.topLeft.x,max:t.bottomRight.x},{min:t.topLeft.y,max:t.bottomRight.y}):(n=t,e),this._entitiesIntersecting(n,r)},f.prototype._entitiesIntersecting=function(t,e){for(var n=[],r=this._getAttrToProjector(),i=this.entities(),o=i.length,a=0;a<o;a++){var s=i[a];this._lineIntersectsBox(s,t,e,r)&&n.push(s)}return n},f.prototype._lineIntersectsBox=function(t,e,n,r){var i=this,o=r.x1(t.datum,t.index,t.dataset),a=r.x2(t.datum,t.index,t.dataset),s=r.y1(t.datum,t.index,t.dataset),u=r.y2(t.datum,t.index,t.dataset);if(e.min<=o&&o<=e.max&&n.min<=s&&s<=n.max||e.min<=a&&a<=e.max&&n.min<=u&&u<=n.max)return!0;var c={x:o,y:s},l={x:a,y:u},h=[{x:e.min,y:n.min},{x:e.min,y:n.max},{x:e.max,y:n.max},{x:e.max,y:n.min}];return 0<h.filter(function(t,e){return 0!==e&&i._lineIntersectsSegment(c,l,t,h[e-1])&&i._lineIntersectsSegment(t,h[e-1],c,l)}).length},f.prototype._lineIntersectsSegment=function(t,e,n,r){function i(t,e,n){return(e.x-t.x)*(n.y-e.y)-(e.y-t.y)*(n.x-e.x)}return i(t,e,n)*i(t,e,r)<0},f._X2_KEY="x2",f._Y2_KEY="y2",f);function f(){var t=i.call(this)||this;return t.addClass("segment-plot"),t.attr("stroke",(new u.Color).range()[0]),t.attr("stroke-width","2px"),t}e.Segment=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,r=n(0),i=n(2),o=n(9),a=n(21),c=n(1),u=n(54),l=n(3),h=(s=u.Area,r.__extends(p,s),p.prototype.croppedRenderingEnabled=function(t){return null==t?s.prototype.croppedRenderingEnabled.call(this):t?(c.Window.warn("Warning: Stacked Area Plot does not support cropped rendering."),this):s.prototype.croppedRenderingEnabled.call(this,t)},p.prototype._getAnimator=function(t){return new o.Null},p.prototype._setup=function(){s.prototype._setup.call(this),this._baseline=this._renderArea.append("line").classed("baseline",!0)},p.prototype.x=function(t,e){return null==t?s.prototype.x.call(this):(null==e?s.prototype.x.call(this,t):s.prototype.x.call(this,t,e),this._checkSameDomain(),this)},p.prototype.y=function(t,e){return null==t?s.prototype.y.call(this):(null==e?s.prototype.y.call(this,t):s.prototype.y.call(this,t,e),this._checkSameDomain(),this)},p.prototype.yOffset=function(t,e){var n=this._stackingResult();if(null!=n){var r=n.get(t);if(null!=r){var i=r.get(String(e));if(null!=i)return i.offset}}},p.prototype.stackingOrder=function(t){return null==t?this._stackingOrder:(this._stackingOrder=t,this._onDatasetUpdate(),this)},p.prototype.downsamplingEnabled=function(t){return null==t?s.prototype.downsamplingEnabled.call(this):(c.Window.warn("Warning: Stacked Area Plot does not support downsampling"),this)},p.prototype._additionalPaint=function(){var t=this.y().scale.scale(this._baselineValue),e={x1:0,y1:t,x2:this.width(),y2:t};this._getAnimator("baseline").animate(this._baseline,e)},p.prototype._updateYScale=function(){var t=this.y(),e=t&&t.scale;null!=e&&(e.addPaddingExceptionsProvider(this._baselineValueProvider),e.addIncludedValuesProvider(this._baselineValueProvider))},p.prototype._onDatasetUpdate=function(){return this._checkSameDomain(),s.prototype._onDatasetUpdate.call(this),this},p.prototype.getExtentsForProperty=function(t){return"y"===t?[this._stackedExtent()]:s.prototype.getExtentsForProperty.call(this,t)},p.prototype._checkSameDomain=function(){var t,r,e,n;this._projectorsReady()&&(t=this.datasets(),r=this.x().accessor,e=t.map(function(n){return i.set(n.data().map(function(t,e){return c.Stacking.normalizeKey(r(t,e,n))})).values()}),n=p._domainKeys(t,r),e.some(function(t){return t.length!==n.length})&&c.Window.warn("the domains across the datasets are not the same. Plot may produce unintended behavior."))},p._domainKeys=function(t,o){var a=i.set();return t.forEach(function(t){for(var e=t.data(),n=e.length,r=0;r<n;r++){var i=e[r];a.add(o(i,r,t))}}),a.values()},p.prototype._coordinateProjectors=function(){function o(t,e,n){return c.Stacking.normalizeKey(r(t,e,n))}var a=this,t=l.Plot._scaledAccessor(this.x()),s=this.y().accessor,r=this.x().accessor,u=this._stackingResult();return[t,function(t,e,n){var r=+s(t,e,n),i=u.get(n).get(o(t,e,n)).offset;return a.y().scale.scale(r+i)},function(t,e,n){var r=u.get(n).get(o(t,e,n)).offset;return a.y().scale.scale(r)}]},p.prototype._propertyProjectors=function(){var t=s.prototype._propertyProjectors.call(this),e=this._coordinateProjectors(),n=e[0],r=e[1],i=e[2];return t.d=this._constructAreaProjector(n,r,i),t},p.prototype._pixelPoint=function(t,e,n){var r=s.prototype._pixelPoint.call(this,t,e,n),i=this.x().accessor(t,e,n),o=this.y().accessor(t,e,n),a=this.y().scale.scale(+o+this._stackingResult().get(n).get(c.Stacking.normalizeKey(i)).offset);return{x:r.x,y:a}},p);function p(){var t=s.call(this)||this;return t._stackingResult=a.memThunk(function(){return t.datasets()},function(){return t.x().accessor},function(){return t.y().accessor},function(){return t._stackingOrder},function(t,e,n,r){return c.Stacking.stack(t,e,n,r)}),t._stackedExtent=a.memThunk(t._stackingResult,function(){return t.x().accessor},function(){return t._filterForProperty("y")},function(t,e,n){return c.Stacking.stackedExtent(t,e,n)}),t._baselineValue=0,t._stackingOrder="bottomup",t.addClass("stacked-area-plot"),t._baselineValueProvider=function(){return[t._baselineValue]},t.croppedRenderingEnabled(!1),t}e.StackedArea=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f,r=n(0),i=n(5),o=n(7),a=n(21),d=n(1),L=n(28),I=n(3),s=(f=L.Bar,r.__extends(u,f),u.prototype.stackingOrder=function(t){return null==t?this._stackingOrder:(this._stackingOrder=t,this._onDatasetUpdate(),this)},u.prototype.extremaFormatter=function(t){return 0===arguments.length?this._extremaFormatter:(this._extremaFormatter=t,this.render(),this)},u.prototype._setup=function(){f.prototype._setup.call(this),this._labelArea=this._renderArea.append("g").classed(L.Bar._LABEL_AREA_CLASS,!0);var t=new i.SvgContext(this._labelArea.node());this._measurer=new i.CacheMeasurer(t),this._writer=new i.Writer(this._measurer,t)},u.prototype._drawLabels=function(){var T=this;function t(t,E){var A=T._generateAttrToProjector(),S=T.width(),C=T.height();t.forEach(function(t){if(t.extent!==k){var e=T.extremaFormatter()(t.extent),n=T._measurer.measure(e),r=t.stackedDatum,i=r.originalDatum,o=r.originalIndex,a=r.originalDataset;if(!T._isDatumOnScreen(A,S,C,i,o,a))return;var s=I.Plot._scaledAccessor(T.attr(L.Bar._BAR_THICKNESS_KEY))(i,o,a),u=M.scale(t.extent),c=T._getPositionAttr(P.scale(t.axisValue),s)+s/2,l=T._isVertical?{x:c,y:u}:{x:u,y:c},h=E(l,n,s),p=(f=e,d={topLeft:h,bottomRight:{x:h.x+n.width,y:h.y+n.height}},_=s,m=d.topLeft,g=m.x,v=m.y,b=d.bottomRight.x-d.topLeft.x,x=d.bottomRight.y-d.topLeft.y,(w=T._isVertical?_<b:_<x)||((y=T._labelArea.append("g").attr("transform","translate("+g+", "+v+")")).classed("stacked-bar-label",!0),T._writer.write(f,b,x,{xAlign:"center",yAlign:"center"},y.node())),w);D.push(p)}var f,d,_,y,m,g,v,b,x,w})}f.prototype._drawLabels.call(this),this._labelArea.selectAll("g").remove();var k=+this.baselineValue(),P=this.position().scale,M=this.length().scale,e=d.Stacking.stackedExtents(this._stackingResult()),n=e.maximumExtents,r=e.minimumExtents,D=[];t(n,function(t,e,n){var r=T._isVertical?e.width:e.height,i=T._isVertical?e.height:e.width;return{x:T._isVertical?t.x-r/2:t.x+u._EXTREMA_LABEL_MARGIN_FROM_BAR,y:T._isVertical?t.y-i:t.y-r/2}}),t(r,function(t,e,n){var r=T._isVertical?e.width:e.height,i=T._isVertical?e.height:e.width;return{x:T._isVertical?t.x-r/2:t.x-i,y:T._isVertical?t.y+u._EXTREMA_LABEL_MARGIN_FROM_BAR:t.y-r/2}}),D.some(function(t){return t})&&this._labelArea.selectAll("g").remove()},u.prototype._generateAttrToProjector=function(){function r(t,e,n){return d.Stacking.normalizeKey(l(t,e,n))}function i(t,e,n){return u.scale(h.get(n).get(r(t,e,n)).offset)}function o(t,e,n){return u.scale(+c(t,e,n)+h.get(n).get(r(t,e,n)).offset)}function a(t,e,n){return Math.abs(o(t,e,n)-i(t,e,n))}var s=this,t=f.prototype._generateAttrToProjector.call(this),e=this._isVertical?"y":"x",u=this.length().scale,c=this.length().accessor,l=this.position().accessor,h=this._stackingResult();function p(t,e,n){return(+c(t,e,n)<0?i:o)(t,e,n)}return t[this._isVertical?"height":"width"]=a,t[e]=function(t,e,n){return s._isVertical?p(t,e,n):p(t,e,n)-a(t,e,n)},t},u.prototype.getExtentsForProperty=function(t){return t===(this._isVertical?"y":"x")?[this._stackedExtent()]:f.prototype.getExtentsForProperty.call(this,t)},u.prototype.invalidateCache=function(){f.prototype.invalidateCache.call(this),this._measurer.reset()},u._EXTREMA_LABEL_MARGIN_FROM_BAR=5,u);function u(t){void 0===t&&(t="vertical");var e=f.call(this,t)||this;return e._extremaFormatter=o.identity(),e._stackingResult=a.memThunk(function(){return e.datasets()},function(){return e.position().accessor},function(){return e.length().accessor},function(){return e._stackingOrder},function(t,e,n,r){return d.Stacking.stack(t,e,n,r)}),e._stackedExtent=a.memThunk(e._stackingResult,function(){return e.position().accessor},function(){return e._filterForProperty(e._isVertical?"y":"x")},function(t,e,n){return d.Stacking.stackedExtent(t,e,n)}),e.addClass("stacked-bar-plot"),e._stackingOrder="bottomup",e}e.StackedBar=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=n(1),a=n(28),l=n(3),s=(r=a.Bar,i.__extends(h,r),h.prototype.connectorsEnabled=function(t){return null==t?this._connectorsEnabled:(this._connectorsEnabled=t,this)},h.prototype.total=function(t){return null==t?this._propertyBindings.get(h._TOTAL_KEY):(this._bindProperty(h._TOTAL_KEY,t,null),this)},h.prototype._additionalPaint=function(t){var e=this;this._connectorArea.selectAll("line").remove(),this._connectorsEnabled&&o.Window.setTimeout(function(){return e._drawConnectors()},t)},h.prototype._createNodesForDataset=function(t){var e=r.prototype._createNodesForDataset.call(this,t);return this._connectorArea=this._renderArea.append("g").classed(h._CONNECTOR_AREA_CLASS,!0),e},h.prototype.getExtentsForProperty=function(t){return"y"===t?[this._extent]:r.prototype.getExtentsForProperty.call(this,t)},h.prototype._generateAttrToProjector=function(){var s=this,t=r.prototype._generateAttrToProjector.call(this),u=this.y().scale,c=l.Plot._scaledAccessor(this.total());return null==this.attr("y")&&(t.y=function(t,e,n){var r=s.y().accessor(t,e,n);if(c(t,e,n))return Math.min(u.scale(r),u.scale(0));var i=s._subtotals[e];if(0===e)return r<0?u.scale(i-r):u.scale(i);var o=s._subtotals[e-1];return o<i?u.scale(i):u.scale(o)}),null==this.attr("height")&&(t.height=function(t,e,n){var r=c(t,e,n),i=s.y().accessor(t,e,n);if(r)return Math.abs(u.scale(i)-u.scale(0));var o=s._subtotals[e];if(0===e)return Math.abs(u.scale(o)-u.scale(o-i));var a=s._subtotals[e-1];return Math.abs(u.scale(o)-u.scale(a))}),t.class=function(t,e,n){var r="";return null!=s.attr("class")&&(r=s.attr("class").accessor(t,e,n)+" "),c(t,e,n)?r+h._BAR_TOTAL_CLASS:r+(0<s.y().accessor(t,e,n)?h._BAR_GROWTH_CLASS:h._BAR_DECLINE_CLASS)},t},h.prototype._onDatasetUpdate=function(){return this._updateSubtotals(),r.prototype._onDatasetUpdate.call(this),this},h.prototype._calculateSubtotalsAndExtent=function(t){for(var e=Number.MAX_VALUE,n=Number.MIN_VALUE,r=0,i=!1,o=t.data(),a=o.length,s=0;s<a;s++){var u=o[s],c=this.y().accessor(u,s,t),l=this.total().accessor(u,s,t);if(l&&0!==s||(r+=c),this._subtotals.push(r),r<e&&(e=r),n<r&&(n=r),l&&(c<e&&(e=c),n<c&&(n=c)),!i&&l){for(var h=c-r,p=0;p<this._subtotals.length;p++)this._subtotals[p]+=h;i=!0,r+=h,e+=h,n+=h}}this._extent=[e,n]},h.prototype._drawConnectors=function(){for(var t=this._getAttrToProjector(),e=this.datasets()[0],n=1;n<e.data().length;n++){var r=n-1,i=e.data()[n],o=e.data()[r],a=t.x(o,r,e),s=t.x(i,n,e)+t.width(i,n,e),u=t.y(i,n,e);(0<this._subtotals[n]&&this._subtotals[n]>this._subtotals[r]||this._subtotals[n]<0&&this._subtotals[n]>=this._subtotals[r])&&(u=t.y(i,n,e)+t.height(i,n,e)),this._connectorArea.append("line").classed(h._CONNECTOR_CLASS,!0).attr("x1",a).attr("x2",s).attr("y1",u).attr("y2",u)}},h.prototype._updateSubtotals=function(){var t,e=this.datasets();0<e.length&&(t=e[e.length-1],this._subtotals=new Array,this._calculateSubtotalsAndExtent(t))},h._BAR_DECLINE_CLASS="waterfall-decline",h._BAR_GROWTH_CLASS="waterfall-growth",h._BAR_TOTAL_CLASS="waterfall-total",h._CONNECTOR_CLASS="connector",h._CONNECTOR_AREA_CLASS="connector-area",h._TOTAL_KEY="total",h);function h(){var t=r.call(this)||this;return t._connectorsEnabled=!1,t.addClass("waterfall-plot"),t}e.Waterfall=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(2),a=n(1),i=n(18),s=(u.prototype.getIndex=function(t){if(null!=this.tracker[t])return this.tracker[t];var e=this.count;return this.tracker[t]=e,this.count+=1,e},u.prototype.clear=function(){this.count=0,this.tracker={}},u);function u(){this.count=0,this.tracker={}}var c,l=(c=i.Scale,r.__extends(h,c),h.prototype.extentOfValues=function(t){return a.Array.uniq(t)},h.prototype._getExtent=function(){return a.Array.uniq(this._getAllIncludedValues())},h.invalidateColorCache=function(){h._plottableColorCache=null},h._getPlottableColors=function(){for(var t=[],e=o.select("body").append("plottable-color-tester"),n=a.Color.colorTest(e,""),r=0,i=a.Color.colorTest(e,"plottable-colors-0");null!=i&&r<this._MAXIMUM_COLORS_FROM_CSS&&(i!==n||i!==t[t.length-1]);)t.push(i),r++,i=a.Color.colorTest(e,"plottable-colors-"+r);return e.remove(),t},h.prototype.scale=function(t){var e=this._d3Scale(t),n=this._tracker.getIndex(t),r=Math.floor(n/this._rangeLength);if(0===r)return e;var i=Math.log(r*h._LOOP_LIGHTEN_FACTOR+1);return a.Color.lightenColor(e,i)},h.prototype._getDomain=function(){return this._backingScaleDomain()},h.prototype._backingScaleDomain=function(t){return null==t?this._d3Scale.domain():(this._d3Scale.domain(t),this._tracker.clear(),this)},h.prototype._getRange=function(){return this._d3Scale.range()},h.prototype._setRange=function(t){this._d3Scale.range(t),this._rangeLength=t.length},h._LOOP_LIGHTEN_FACTOR=1.6,h._MAXIMUM_COLORS_FROM_CSS=256,h);function h(t){var e,n=c.call(this)||this;switch(n._rangeLength=1,n._tracker=new s,t){case null:case void 0:null==h._plottableColorCache&&(h._plottableColorCache=h._getPlottableColors()),e=o.scaleOrdinal().range(h._plottableColorCache);break;case"Category10":case"category10":case"10":e=o.scaleOrdinal(o.schemeCategory10);break;case"Category20":case"category20":case"20":e=o.scaleOrdinal(o.schemeCategory20);break;case"Category20b":case"category20b":case"20b":e=o.scaleOrdinal(o.schemeCategory20b);break;case"Category20c":case"category20c":case"20c":e=o.scaleOrdinal(o.schemeCategory20c);break;default:throw new Error("Unsupported ColorScale type")}return n._d3Scale=e,n._rangeLength=n._d3Scale.range().length,n}e.Color=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),a=n(2),o=n(1),s=n(18),u=(r=s.Scale,i.__extends(c,r),c.prototype.extentOfValues=function(t){var e=a.extent(t);return null==e[0]||null==e[1]?[]:e},c.prototype._d3InterpolatedScale=function(){return this._colorScale.range([0,1]).interpolate(this._interpolateColors())},c.prototype._interpolateColors=function(){var o=this._colorRange;if(o.length<2)throw new Error("Color scale arrays must have at least two elements.");return function(t,e){return function(t){var e=(t=Math.max(0,Math.min(1,t)))*(o.length-1),n=Math.floor(e),r=Math.ceil(e),i=e-n;return a.interpolateLab(o[n],o[r])(i)}}},c.prototype._resetScale=function(){this._d3Scale=this._d3InterpolatedScale(),this.autoDomainIfAutomaticMode(),this._dispatchUpdate()},c.prototype.autoDomain=function(){var t=this._getAllIncludedValues();return 0<t.length&&this._setDomain([o.Math.min(t,0),o.Math.max(t,0)]),this},c.prototype.scale=function(t){return this._d3Scale(t)},c.prototype._getDomain=function(){return this._backingScaleDomain()},c.prototype._backingScaleDomain=function(t){return null==t?this._d3Scale.domain():(this._d3Scale.domain(t),this)},c.prototype._getRange=function(){return this._colorRange},c.prototype._setRange=function(t){this._colorRange=t,this._resetScale()},c.REDS=["#FFFFFF","#FFF6E1","#FEF4C0","#FED976","#FEB24C","#FD8D3C","#FC4E2A","#E31A1C","#B10026"],c.BLUES=["#FFFFFF","#CCFFFF","#A5FFFD","#85F7FB","#6ED3EF","#55A7E0","#417FD0","#2545D3","#0B02E1"],c.POSNEG=["#0B02E1","#2545D3","#417FD0","#55A7E0","#6ED3EF","#85F7FB","#A5FFFD","#CCFFFF","#FFFFFF","#FFF6E1","#FEF4C0","#FED976","#FEB24C","#FD8D3C","#FC4E2A","#E31A1C","#B10026"],c);function c(t){void 0===t&&(t="linear");var e=r.call(this)||this;switch(t){case"linear":e._colorScale=a.scaleLinear();break;case"log":e._colorScale=a.scaleLog();break;case"sqrt":e._colorScale=a.scaleSqrt();break;case"pow":e._colorScale=a.scalePow()}if(null==e._colorScale)throw new Error("unknown QuantitativeScale scale type "+t);return e.range(c.REDS),e}e.InterpolatedColor=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=n(2),a=n(12),s=(r=a.QuantitativeScale,i.__extends(u,r),u.prototype._defaultExtent=function(){return[0,1]},u.prototype._expandSingleValueDomain=function(t){return t[0]===t[1]?[t[0]-1,t[1]+1]:t},u.prototype.scale=function(t){return this._d3Scale(t)},u.prototype.scaleTransformation=function(t){return this.scale(t)},u.prototype.invertedTransformation=function(t){return this.invert(t)},u.prototype.getTransformationExtent=function(){return this._getUnboundedExtent(!0)},u.prototype.getTransformationDomain=function(){return this.domain()},u.prototype.setTransformationDomain=function(t){this.domain(t)},u.prototype._getDomain=function(){return this._backingScaleDomain()},u.prototype._backingScaleDomain=function(t){return null==t?this._d3Scale.domain():(this._d3Scale.domain(t),this)},u.prototype._getRange=function(){return this._d3Scale.range()},u.prototype._setRange=function(t){this._d3Scale.range(t)},u.prototype.invert=function(t){return this._d3Scale.invert(t)},u.prototype.defaultTicks=function(){return this._d3Scale.ticks(u._DEFAULT_NUM_TICKS)},u.prototype._niceDomain=function(t,e){return this._d3Scale.copy().domain(t).nice(e).domain()},u);function u(){var t=r.call(this)||this;return t._d3Scale=o.scaleLinear(),t}e.Linear=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=n(2),a=n(12),s=(r=a.QuantitativeScale,i.__extends(u,r),u.prototype._defaultExtent=function(){return[1,this._d3Scale.base()]},u.prototype._expandSingleValueDomain=function(t){return t[0]===t[1]?[t[0]/this._d3Scale.base(),t[1]*this._d3Scale.base()]:t},u.prototype.scale=function(t){return this._d3Scale(t)},u.prototype.scaleTransformation=function(t){return this.scale(t)},u.prototype.invertedTransformation=function(t){return this.invert(t)},u.prototype.getTransformationExtent=function(){return this._getUnboundedExtent(!0)},u.prototype.getTransformationDomain=function(){return this.domain()},u.prototype.setTransformationDomain=function(t){this.domain(t)},u.prototype._getDomain=function(){return this._backingScaleDomain()},u.prototype._backingScaleDomain=function(t){return null==t?this._d3Scale.domain():(this._d3Scale.domain(t),this)},u.prototype._getRange=function(){return this._d3Scale.range()},u.prototype._setRange=function(t){this._d3Scale.range(t)},u.prototype.invert=function(t){return this._d3Scale.invert(t)},u.prototype.defaultTicks=function(){return this._d3Scale.ticks(u._DEFAULT_NUM_TICKS)},u.prototype._niceDomain=function(t,e){return this._d3Scale.copy().domain(t).nice().domain()},u);function u(t){void 0===t&&(t=10);var e=r.call(this)||this;return e._d3Scale=o.scaleLog().base(t),e._setDomain(e._defaultExtent()),e}e.Log=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),_=n(2),y=n(1),m=n(4),o=n(12),a=(r=o.QuantitativeScale,i.__extends(s,r),s.prototype._adjustedLog=function(t){var e=t<0?-1:1;return(t*=e)<this._pivot&&(t+=(this._pivot-t)/this._pivot),t=Math.log(t)/Math.log(this._base),t*=e},s.prototype._invertedAdjustedLog=function(t){var e=t<0?-1:1;return t*=e,(t=Math.pow(this._base,t))<this._pivot&&(t=this._pivot*(t-1)/(this._pivot-1)),t*=e},s.prototype.scale=function(t){return this._d3Scale(this._adjustedLog(t))},s.prototype.invert=function(t){return this._invertedAdjustedLog(this._d3Scale.invert(t))},s.prototype.scaleTransformation=function(t){return this.scale(t)},s.prototype.invertedTransformation=function(t){return this.invert(t)},s.prototype.getTransformationExtent=function(){return this._getUnboundedExtent(!0)},s.prototype.getTransformationDomain=function(){return this.domain()},s.prototype.setTransformationDomain=function(t){this.domain(t)},s.prototype._getDomain=function(){return this._untransformedDomain},s.prototype._setDomain=function(t){this._untransformedDomain=t;var e=[this._adjustedLog(t[0]),this._adjustedLog(t[1])];r.prototype._setDomain.call(this,e)},s.prototype._backingScaleDomain=function(t){return null==t?this._d3Scale.domain():(this._d3Scale.domain(t),this)},s.prototype._logTicks=function(e,n){var r=this,t=this._howManyTicks(e,n);if(0===t)return[];var i=Math.floor(Math.log(e)/Math.log(this._base)),o=Math.ceil(Math.log(n)/Math.log(this._base)),a=_.range(o,i,-Math.ceil((o-i)/t)),s=_.range(this._base,1,-(this._base-1)).map(Math.floor),u=y.Array.uniq(s),c=a.map(function(e){return u.map(function(t){return Math.pow(r._base,e-1)*t})});return y.Array.flatten(c).filter(function(t){return e<=t&&t<=n}).sort(function(t,e){return t-e})},s.prototype._howManyTicks=function(t,e){var n=this._adjustedLog(y.Math.min(this._untransformedDomain,0)),r=this._adjustedLog(y.Math.max(this._untransformedDomain,0)),i=this._adjustedLog(t),o=(this._adjustedLog(e)-i)/(r-n);return Math.ceil(o*m.ModifiedLog._DEFAULT_NUM_TICKS)},s.prototype._niceDomain=function(t,e){return t},s.prototype._defaultExtent=function(){return[0,this._base]},s.prototype._expandSingleValueDomain=function(t){if(t[0]!==t[1])return t;var e=t[0];return 0<e?[e/this._base,e*this._base]:0===e?[-this._base,this._base]:[e*this._base,e/this._base]},s.prototype._getRange=function(){return this._d3Scale.range()},s.prototype._setRange=function(t){this._d3Scale.range(t)},s.prototype.defaultTicks=function(){return this._d3Scale.ticks(m.ModifiedLog._DEFAULT_NUM_TICKS)},s);function s(t){void 0===t&&(t=10);var d=r.call(this)||this;if(d._logTickGenerator=function(t){function e(t,e,n){return[t,e,n].sort(function(t,e){return t-e})[1]}var n=y.Math.min(d._untransformedDomain,0),r=y.Math.max(d._untransformedDomain,0),i=n,o=e(n,r,-d._pivot),a=e(n,r,d._pivot),s=r,u=d._logTicks(-o,-i).map(function(t){return-t}).reverse(),c=d._logTicks(a,s),l=Math.max(n,-d._pivot),h=Math.min(r,d._pivot),p=_.scaleLinear().domain([l,h]).ticks(d._howManyTicks(l,h)),f=u.concat(p).concat(c);return f.length<=1&&(f=_.scaleLinear().domain([n,r]).ticks(m.ModifiedLog._DEFAULT_NUM_TICKS)),f},d._d3Scale=_.scaleLinear(),d._base=t,d._pivot=d._base,d._setDomain(d._defaultExtent()),d.tickGenerator(d._logTickGenerator),t<=1)throw new Error("ModifiedLogScale: The base must be > 1");return d}e.ModifiedLog=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=n(1);e.intervalTickGenerator=function(c){if(c<=0)throw new Error("interval must be positive number");return function(t){var e=t.domain(),n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=Math.ceil(n/c)*c,o=Math.floor((r-i)/c)+1,a=n%c==0?[]:[n],s=l.Math.range(0,o).map(function(t){return i+t*c}),u=r%c==0?[]:[r];return a.concat(s).concat(u)}},e.integerTickGenerator=function(){return function(t){var n=t.defaultTicks();return n.filter(function(t,e){return t%1==0||0===e||e===n.length-1})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=n(2),a=n(30),s=n(12),u=(r=s.QuantitativeScale,i.__extends(c,r),c.prototype.tickInterval=function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);var r=o.scaleTime(),i=c.timeIntervalToD3Time(t,n).every(e);return r.domain(this.domain()),r.range(this.range()),r.ticks(i)},c.prototype._setDomain=function(t){if(t[1]<t[0])throw new Error("Scale.Time domain values must be in chronological order");return r.prototype._setDomain.call(this,t)},c.prototype._defaultExtent=function(){return[new Date("1970-01-01"),new Date("1970-01-02")]},c.prototype._expandSingleValueDomain=function(t){var e=t[0].getTime(),n=t[1].getTime();if(e!==n)return t;var r=new Date(e);r.setDate(r.getDate()-1);var i=new Date(n);return i.setDate(i.getDate()+1),[r,i]},c.prototype.scale=function(t){return this._d3Scale(t)},c.prototype.scaleTransformation=function(t){return this.scale(new Date(t))},c.prototype.invertedTransformation=function(t){return this.invert(t).getTime()},c.prototype.getTransformationExtent=function(){var t=this._getUnboundedExtent(!0);return[t[0].valueOf(),t[1].valueOf()]},c.prototype.getTransformationDomain=function(){var t=this.domain();return[t[0].valueOf(),t[1].valueOf()]},c.prototype.setTransformationDomain=function(t){var e=t[0],n=t[1];this.domain([new Date(e),new Date(n)])},c.prototype._getDomain=function(){return this._backingScaleDomain()},c.prototype._backingScaleDomain=function(t){return null==t?this._d3Scale.domain():(this._d3Scale.domain(t),this)},c.prototype._getRange=function(){return this._d3Scale.range()},c.prototype._setRange=function(t){this._d3Scale.range(t)},c.prototype.invert=function(t){return this._d3Scale.invert(t)},c.prototype.defaultTicks=function(){return this._d3Scale.ticks(c._DEFAULT_NUM_TICKS)},c.prototype._niceDomain=function(t){return this._d3Scale.copy().domain(t).nice().domain()},c.timeIntervalToD3Time=function(t,e){switch(t){case a.TimeInterval.second:return e?o.utcSecond:o.timeSecond;case a.TimeInterval.minute:return e?o.utcMinute:o.timeMinute;case a.TimeInterval.hour:return e?o.utcHour:o.timeHour;case a.TimeInterval.day:return e?o.utcDay:o.timeDay;case a.TimeInterval.week:return e?o.utcWeek:o.timeWeek;case a.TimeInterval.month:return e?o.utcMonth:o.timeMonth;case a.TimeInterval.year:return e?o.utcYear:o.timeYear;default:throw Error("TimeInterval specified does not exist: "+t)}},c);function c(){var t=r.call(this)||this;return t._d3Scale=o.scaleTime(),t.autoDomain(),t}e.Time=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=window.Array;e.add=function(n,r){if(n.length!==r.length)throw new Error("attempted to add arrays of unequal length");return n.map(function(t,e){return n[e]+r[e]})},e.uniq=function(t){var e=r.set(),n=[];return t.forEach(function(t){e.has(String(t))||(e.add(String(t)),n.push(t))}),n},e.flatten=function(t){return i.prototype.concat.apply([],t)},e.createFilledArray=function(t,e){for(var n=[],r=0;r<e;r++)n[r]="function"==typeof t?t(r):t;return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(i.prototype.isInBucket=function(t){return t==this.bucketValue},i.prototype.addToBucket=function(t,e){t<this.minValue&&(this.minValue=t,this.minIndex=e),t>this.maxValue&&(this.maxValue=t,this.maxIndex=e),this.exitIndex=e},i.prototype.getUniqueIndices=function(){var n=[this.entryIndex,this.maxIndex,this.minIndex,this.exitIndex];return n.filter(function(t,e){return 0==e||t!=n[e-1]})},i);function i(t,e,n){this.entryIndex=t,this.exitIndex=t,this.minIndex=t,this.maxIndex=t,this.bucketValue=e,this.minValue=n,this.maxValue=n}e.Bucket=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(0),o=n(62),a=(r=o.Set,i.__extends(s,r),s.prototype.callCallbacks=function(){for(var e=this,n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return this.forEach(function(t){t.apply(e,n)}),this},s);function s(){return null!==r&&r.apply(this,arguments)||this}e.CallbackSet=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=window.Math;function o(t){function e(t){return(t/=255)<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4)}var n=r.rgb(t);return.2126*e(n.r)+.7152*e(n.g)+.0722*e(n.b)}e.contrast=function(t,e){var n=o(t)+.05,r=o(e)+.05;return r<n?n/r:r/n},e.lightenColor=function(t,e){return r.color(t).brighter(e).rgb().toString()},e.colorTest=function(t,e){t.classed(e,!0);var n=t.style("background-color");if("transparent"===n)return null;var r=/\((.+)\)/.exec(n);if(!r)return null;var i=r[1].split(",").map(function(t){var e=+t,n=e.toString(16);return e<16?"0"+n:n});if(4===i.length&&"00"===i[3])return null;var o="#"+i.join("");return t.classed(e,!1),o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(61),r=(i.prototype.addAll=function(t,e,n){if(this._entities=this._entities.concat(t),void 0!==n)for(var r=s.RTreeBounds.bounds(n),i=0;i<t.length;i++){var o=t[i],a=s.RTreeBounds.entityBounds(e(o));s.RTreeBounds.isBoundsOverlapBounds(r,a)&&this._rtree.insert(a,o)}else for(i=0;i<t.length;i++)o=t[i],a=s.RTreeBounds.entityBounds(e(o)),this._rtree.insert(a,o)},i.prototype.entityNearest=function(t){return this._rtree.locateNearest(t).pop()},i.prototype.entityNearestX=function(t){return this._rtree.locateNearestX(t).pop()},i.prototype.entityNearestY=function(t){return this._rtree.locateNearestY(t).pop()},i.prototype.entitiesInBounds=function(t){return this._rtree.intersect(s.RTreeBounds.entityBounds(t))},i.prototype.entitiesInXBounds=function(t){return this._rtree.intersectX(s.RTreeBounds.entityBounds(t))},i.prototype.entitiesInYBounds=function(t){return this._rtree.intersectY(s.RTreeBounds.entityBounds(t))},i.prototype.entities=function(){return this._entities},i);function i(){this._entities=[],this._rtree=new s.RTree}e.EntityStore=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(60),i=(o.prototype.set=function(t,e){if(r.isNaN(t))throw new Error("NaN may not be used as a key to the Map");if(null!=this._es6Map)return this._es6Map.set(t,e),this;for(var n=0;n<this._keyValuePairs.length;n++)if(this._keyValuePairs[n].key===t)return this._keyValuePairs[n].value=e,this;return this._keyValuePairs.push({key:t,value:e}),this},o.prototype.get=function(t){if(null!=this._es6Map)return this._es6Map.get(t);for(var e=0;e<this._keyValuePairs.length;e++)if(this._keyValuePairs[e].key===t)return this._keyValuePairs[e].value},o.prototype.has=function(t){if(null!=this._es6Map)return this._es6Map.has(t);for(var e=0;e<this._keyValuePairs.length;e++)if(this._keyValuePairs[e].key===t)return!0;return!1},o.prototype.forEach=function(n,r){var i=this;null==this._es6Map?this._keyValuePairs.forEach(function(t){n.call(r,t.value,t.key,i)}):this._es6Map.forEach(function(t,e){return n.call(r,t,e,i)},r)},o.prototype.delete=function(t){if(null!=this._es6Map)return this._es6Map.delete(t);for(var e=0;e<this._keyValuePairs.length;e++)if(this._keyValuePairs[e].key===t)return this._keyValuePairs.splice(e,1),!0;return!1},o);function o(){"function"==typeof window.Map?this._es6Map=new window.Map:this._keyValuePairs=[]}e.Map=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assign=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0,i=t;r<i.length;r++)for(var o=i[r],a=0,s=Object.keys(o);a<s.length;a++){var u=s[a];n[u]=o[u]}return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(i.prototype.split=function(t,e){for(var n=Math.ceil(t.length/2),r=0;r<n;r++)e[0].insert(t[r]);for(r=n;r<t.length;r++)e[1].insert(t[r])},i);function i(){}e.SplitStrategyTrivial=r;var o=(a.prototype.split=function(t,e){for(t=t.slice(),this.chooseFirstSplit(t,e);0<t.length;)this.addNext(t,e)},a.prototype.chooseFirstSplit=function(t,e){for(var n=0,r=0,i=t.length-1,o=t.length-1,a=1;a<t.length-1;a++){var s=t[a];s.bounds.xl>t[i].bounds.xl?i=a:s.bounds.xh<t[n].bounds.xh&&(n=a),s.bounds.yl>t[o].bounds.yl?o=a:s.bounds.yh<t[r].bounds.yh&&(r=a)}var u=Math.abs(t[n].bounds.xh-t[i].bounds.xl),c=Math.abs(t[r].bounds.yh-t[o].bounds.yl)<u?[n,i]:[r,o],l=c[0],h=c[1];l===h&&(l=0,h=t.length-1),e[0].insert(t.splice(Math.max(l,h),1)[0]),e[1].insert(t.splice(Math.min(l,h),1)[0])},a.prototype.addNext=function(t,e){for(var n=null,r=null,i=null,o=0;o<t.length;o++){var a=t[o],s=e[0].unionAreaDifference(a.bounds),u=e[1].unionAreaDifference(a.bounds);(s<r||null==n)&&(n=o,r=s,i=e[0]),u<r&&(n=o,r=u,i=e[1])}i.insert(t.splice(n,1)[0])},a);function a(){}e.SplitStrategyLinear=o},function(t,b,e){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var x=e(2),n=e(38),w=e(1),r=e(11);b.IStackingOrder=r.makeEnum(["topdown","bottomup"]);var i=window.Math;b.stack=function(t,e,n,r){void 0===r&&(r="bottomup");var i=x.map(),o=x.map(),a=new w.Map;"topdown"===r&&(t=t.slice()).reverse();for(var s=0,u=t;s<u.length;s++){for(var c=u[s],l=new w.Map,h=c.data(),p=h.length,f=0;f<p;f++){var d=h[f],_=e(d,f,c),y=b.normalizeKey(_),m=+n(d,f,c),g=void 0,v=0<=m?i:o;v.has(y)?(g=v.get(y),v.set(y,g+m)):(g=0,v.set(y,m)),l.set(y,{offset:g,value:m,axisValue:_,originalDatum:d,originalDataset:c,originalIndex:f})}a.set(c,l)}return a},b.stackedExtents=function(t){var a=new w.Map,s=new w.Map;return t.forEach(function(t){t.forEach(function(t,e){var n=t.offset+t.value,r=w.Math.max([n,t.offset],t.offset),i=w.Math.min([n,t.offset],t.offset),o=t.axisValue;(!a.has(e)||a.get(e).extent<r)&&a.set(e,{extent:r,axisValue:o,stackedDatum:t}),(!s.has(e)||s.get(e).extent>i)&&s.set(e,{extent:i,axisValue:o,stackedDatum:t})})}),{maximumExtents:a,minimumExtents:s}},b.stackedExtent=function(t,s,u){var c=[];t.forEach(function(t,e){for(var n=e.data(),r=n.length,i=0;i<r;i++){var o,a=n[i];null!=u&&!u(a,i,e)||(o=t.get(b.normalizeKey(s(a,i,e))),c.push(o.value+o.offset))}});var e=w.Math.max(c,0),n=w.Math.min(c,0);return[i.min(n,0),i.max(0,e)]},b.normalizeKey=n.memoize(function(t){return String(t)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r="__Plottable_ClientTranslator";e.getTranslator=function(t){var e=t.root().rootElement().node(),n=e[r];return null==n&&(n=new o(e),e[r]=n),n};var o=(a.prototype.computePosition=function(t,e){var n={x:t,y:e},r=i.Math.getCumulativeTransform(this._rootElement);return null==r?n:i.Math.applyTransform(r,n)},a.isEventInside=function(t,e){return i.DOM.contains(t.root().rootElement().node(),e.target)},a);function a(t){this._rootElement=t}e.Translator=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(131);n.d(e,"easeLinear",function(){return r.a});var i=n(133);n.d(e,"easeQuad",function(){return i.a}),n.d(e,"easeQuadIn",function(){return i.b}),n.d(e,"easeQuadOut",function(){return i.c}),n.d(e,"easeQuadInOut",function(){return i.a});var o=n(128);n.d(e,"easeCubic",function(){return o.a}),n.d(e,"easeCubicIn",function(){return o.b}),n.d(e,"easeCubicOut",function(){return o.c}),n.d(e,"easeCubicInOut",function(){return o.a});var a=n(132);n.d(e,"easePoly",function(){return a.a}),n.d(e,"easePolyIn",function(){return a.b}),n.d(e,"easePolyOut",function(){return a.c}),n.d(e,"easePolyInOut",function(){return a.a});var s=n(134);n.d(e,"easeSin",function(){return s.a}),n.d(e,"easeSinIn",function(){return s.b}),n.d(e,"easeSinOut",function(){return s.c}),n.d(e,"easeSinInOut",function(){return s.a});var u=n(130);n.d(e,"easeExp",function(){return u.a}),n.d(e,"easeExpIn",function(){return u.b}),n.d(e,"easeExpOut",function(){return u.c}),n.d(e,"easeExpInOut",function(){return u.a});var c=n(127);n.d(e,"easeCircle",function(){return c.a}),n.d(e,"easeCircleIn",function(){return c.b}),n.d(e,"easeCircleOut",function(){return c.c}),n.d(e,"easeCircleInOut",function(){return c.a});var l=n(126);n.d(e,"easeBounce",function(){return l.a}),n.d(e,"easeBounceIn",function(){return l.b}),n.d(e,"easeBounceOut",function(){return l.a}),n.d(e,"easeBounceInOut",function(){return l.c});var h=n(125);n.d(e,"easeBack",function(){return h.a}),n.d(e,"easeBackIn",function(){return h.b}),n.d(e,"easeBackOut",function(){return h.c}),n.d(e,"easeBackInOut",function(){return h.a});var p=n(129);n.d(e,"easeElastic",function(){return p.a}),n.d(e,"easeElasticIn",function(){return p.b}),n.d(e,"easeElasticOut",function(){return p.a}),n.d(e,"easeElasticInOut",function(){return p.c})},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o});var r=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),i=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),o=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158)},function(t,e,n){"use strict";e.b=function(t){return 1-f(1-t)},e.a=f,e.c=function(t){return((t*=2)<=1?1-f(1-t):f(t-1)+1)/2};var r=4/11,i=6/11,o=8/11,a=.75,s=9/11,u=10/11,c=.9375,l=21/22,h=63/64,p=1/r/r;function f(t){return(t=+t)<r?p*t*t:t<o?p*(t-=i)*t+a:t<u?p*(t-=s)*t+c:p*(t-=l)*t+h}},function(t,e,n){"use strict";e.b=function(t){return 1-Math.sqrt(1-t*t)},e.c=function(t){return Math.sqrt(1- --t*t)},e.a=function(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}},function(t,e,n){"use strict";e.b=function(t){return t*t*t},e.c=function(t){return--t*t*t+1},e.a=function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i}),n.d(e,"c",function(){return a});var o=2*Math.PI,r=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=o);function t(t){return n*Math.pow(2,10*--t)*Math.sin((i-t)/r)}return t.amplitude=function(t){return e(t,r*o)},t.period=function(t){return e(n,t)},t}(1,.3),i=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=o);function t(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/r)}return t.amplitude=function(t){return e(t,r*o)},t.period=function(t){return e(n,t)},t}(1,.3),a=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=o);function t(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((i-t)/r):2-n*Math.pow(2,-10*t)*Math.sin((i+t)/r))/2}return t.amplitude=function(t){return e(t,r*o)},t.period=function(t){return e(n,t)},t}(1,.3)},function(t,e,n){"use strict";e.b=function(t){return Math.pow(2,10*t-10)},e.c=function(t){return 1-Math.pow(2,-10*t)},e.a=function(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}},function(t,e,n){"use strict";e.a=function(t){return+t}},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o});var r=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),i=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),o=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3)},function(t,e,n){"use strict";e.b=function(t){return t*t},e.c=function(t){return t*(2-t)},e.a=function(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}},function(t,e,n){"use strict";e.b=function(t){return 1-Math.cos(t*i)},e.c=function(t){return Math.sin(t*i)},e.a=function(t){return(1-Math.cos(r*t))/2};var r=Math.PI,i=r/2},function(t,e,n){"use strict";var r=n(136);function i(t){return!0===r(t)&&"[object Object]"===Object.prototype.toString.call(t)}t.exports=function(t){var e,n;return!1!==i(t)&&("function"==typeof(e=t.constructor)&&(!1!==i(n=e.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},function(t,e,n){"use strict";t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(29),r=(i.prototype.createCanvasPen=function(o){var a=this;return{destroy:function(){o.restore()},write:function(t,e,n,r,i){r+=e*s.Writer.XOffsetFactor[n],o.textAlign=n,null!=a.style.font&&(o.font=a.style.font),null!=a.style.fill&&(o.fillStyle=a.style.fill,o.fillText(t,r,i)),null!=a.style.stroke&&(o.strokeStyle=a.style.fill,o.strokeText(t,r,i))}}},i);function i(t,e,n){void 0===e&&(e=10),void 0===n&&(n={});var r=this;this.ctx=t,this.lineHeight=e,this.style=n,this.createRuler=function(){return function(t){return r.ctx.font=r.style.font,{width:r.ctx.measureText(t).width,height:r.lineHeight}}},this.createPen=function(t,e,n){return null==n&&(n=r.ctx),n.save(),n.translate(e.translate[0],e.translate[1]),n.rotate(e.rotate*Math.PI/180),r.createCanvasPen(n)},void 0===this.style.fill&&(this.style.fill="#444")}e.CanvasContext=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(29),i=n(63),u=(o.append=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=o.create.apply(o,[e].concat(n));return t.appendChild(i),i},o.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=document.createElementNS(o.SVG_NS,t);return i.HtmlUtils.addClasses.apply(i.HtmlUtils,[r].concat(e)),r},o.getDimensions=function(t){if(t.getBBox)try{var e=t.getBBox();return{width:e.width,height:e.height}}catch(t){}return{height:0,width:0}},o);function o(){}u.SVG_NS="http://www.w3.org/2000/svg",e.SvgUtils=u;var r=(c.prototype.setAddTitleElement=function(t){this.addTitleElement=t},c.prototype.createSvgLinePen=function(a){return{write:function(t,e,n,r,i){r+=e*s.Writer.XOffsetFactor[n];var o=u.append(a,"text","text-line");o.textContent=t,o.setAttribute("text-anchor",c.AnchorMap[n]),o.setAttribute("transform","translate("+r+","+i+")"),o.setAttribute("y","-0.25em")}}},c.prototype.getTextElements=function(t){if("text"===t.tagName)return null==(e=t.parentElement)&&(e=t.parentNode),e.removeChild(t),{containerElement:t,parentElement:e,textElement:t};var e,n=t.querySelector("text");if(null!=n)return null==(e=n.parentElement)&&(e=n.parentNode),e.removeChild(n),{containerElement:n,parentElement:e,textElement:n};var r=u.create("text",this.className);return{containerElement:r,parentElement:t,textElement:r}},c);function c(t,e,n){void 0===n&&(n=!1);var o=this;this.element=t,this.className=e,this.addTitleElement=n,this.createRuler=function(){var t=o.getTextElements(o.element),n=t.parentElement,r=t.containerElement,i=t.textElement;return function(t){n.appendChild(r),i.textContent=t;var e=u.getDimensions(i);return n.removeChild(r),e}},this.createPen=function(t,e,n){null==n&&(n=o.element);var r=u.append(n,"g","text-container",o.className);o.addTitleElement&&(u.append(r,"title").textContent=t,r.setAttribute("title",t));var i=u.append(r,"g","text-area");return i.setAttribute("transform","translate("+e.translate[0]+","+e.translate[1]+")rotate("+e.rotate+")"),o.createSvgLinePen(i)}}r.AnchorMap={center:"middle",left:"start",right:"end"},e.SvgContext=r},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(22),s=n(39),u=n(65),c=(o=u.CacheCharacterMeasurer,i(l,o),l.prototype._measureNotFromCache=function(t){return o.prototype.measure.call(this,t)},l.prototype.measure=function(t){return void 0===t&&(t=s.AbstractMeasurer.HEIGHT_TEXT),this.dimCache.get(t)},l.prototype.reset=function(){this.dimCache.clear(),o.prototype.reset.call(this)},l);function l(t){var e=o.call(this,t)||this;return e.dimCache=new a.Cache(function(t){return e._measureNotFromCache(t)}),e}e.CacheMeasurer=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(64),i=n(67),o=n(69),a=n(29),s=(u.svg=function(t,e,n){return new u(new r.SvgContext(t,e,n))},u.canvas=function(t,e,n){return new u(new r.CanvasContext(t,e,n))},u.html=function(t,e,n){return new u(new r.HtmlContext(t,e,n))},u.prototype.write=function(t,e,n,r,i){this.writer.write(t,e,n,r,i)},u.prototype.clearMeasurerCache=function(){this.measurer.reset()},u);function u(t){this.context=t,this.measurer=new i.CacheMeasurer(this.context),this.wrapper=new o.Wrapper,this.writer=new a.Writer(this.measurer,this.context,this.wrapper)}e.Typesetter=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(i.prototype.get=function(t){return this.cache.hasOwnProperty(t)||(this.cache[t]=this.compute(t)),this.cache[t]},i.prototype.clear=function(){return this.cache={},this},i);function i(t){this.cache={},this.compute=t}e.Cache=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(a.arrayEq=function(t,e){if(null==t||null==e)return t===e;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},a.objEq=function(e,n){if(null==e||null==n)return e===n;var t=Object.keys(e).sort(),r=Object.keys(n).sort(),i=t.map(function(t){return e[t]}),o=r.map(function(t){return n[t]});return a.arrayEq(t,r)&&a.arrayEq(i,o)},a.strictEq=function(t,e){return t===e},a.defaults=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(null==t)throw new TypeError("Cannot convert undefined or null to object");var r=Object(t);return e.forEach(function(t){if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}),r},a);function a(){}e.Methods=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(i.combineWhitespace=function(t){return t.replace(/[ \t]+/g," ")},i.isNotEmptyString=function(t){return t&&""!==t.trim()},i.trimStart=function(t,e){if(!t)return t;var n=t.split(""),r=e?function(t){return t.split(e).some(i.isNotEmptyString)}:i.isNotEmptyString;return n.reduce(function(t,e){return r(t+e)?t+e:t},"")},i.trimEnd=function(t,e){if(!t)return t;var n=t.split("");return n.reverse(),(n=i.trimStart(n.join(""),e).split("")).reverse(),n.join("")},i);function i(){}e.StringMethods=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(i.prototype.tokenize=function(t){var n=this;return t.split("").reduce(function(t,e){return t.slice(0,-1).concat(n.shouldCreateNewToken(t[t.length-1],e))},[""])},i.prototype.shouldCreateNewToken=function(t,e){if(!t)return[e];var n=t[t.length-1];return this.WhitespaceRegExp.test(n)&&this.WhitespaceRegExp.test(e)||!(this.WhitespaceRegExp.test(n)||this.WhitespaceRegExp.test(e)||this.WordDividerRegExp.test(n)&&n!==e)?[t+e]:[t,e]},i);function i(){this.WordDividerRegExp=new RegExp("\\W"),this.WhitespaceRegExp=new RegExp("\\s")}e.Tokenizer=r},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var p,o=n(70),a=(p=o.Wrapper,i(f,p),f.prototype.wrap=function(e,n,t,r){var i=this;if(void 0===r&&(r=1/0),1<e.split("\n").length)throw new Error("SingleLineWrapper is designed to work only on single line");function o(t){return p.prototype.wrap.call(i,e,n,t,r)}var a=o(t);if(a.noLines<2)return a;for(var s=0,u=t,c=0;c<f.NO_WRAP_ITERATIONS&&s<u;++c){var l=(u+s)/2,h=o(l);this.areSameResults(a,h)?(u=l,a=h):s=l}return a},f.prototype.areSameResults=function(t,e){return t.noLines===e.noLines&&t.truncatedText===e.truncatedText},f);function f(){return null!==p&&p.apply(this,arguments)||this}a.NO_WRAP_ITERATIONS=5,e.SingleLineWrapper=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var b=n(22),x={textRotation:0,textShear:0,xAlign:"left",yAlign:"top"},r=(w.prototype.measurer=function(t){return this._measurer=t,this},w.prototype.wrapper=function(t){return this._wrapper=t,this},w.prototype.penFactory=function(t){return this._penFactory=t,this},w.prototype.write=function(t,e,n,r,i){if(void 0===r&&(r={}),r=b.Methods.defaults({},x,r),-1===w.SupportedRotation.indexOf(r.textRotation))throw new Error("unsupported rotation - "+r.textRotation+". Supported rotations are "+w.SupportedRotation.join(", "));if(null!=r.textShear&&r.textShear<-80||80<r.textShear)throw new Error("unsupported shear angle - "+r.textShear+". Must be between -80 and 80");var o=45<Math.abs(Math.abs(r.textRotation)-90),a=o?e:n,s=o?n:e,u=r.textShear,c=u*Math.PI/180,l=this._measurer.measure().height,h=l*Math.tan(c),p=a/Math.cos(c)-Math.abs(h),f=s*Math.cos(c),d=b.StringMethods.combineWhitespace(t),_=(this._wrapper?this._wrapper.wrap(d,this._measurer,p,f).wrappedText:d).split("\n"),y=w.XOffsetFactor[r.xAlign]*p*Math.sin(c)-w.YOffsetFactor[r.yAlign]*(f-_.length*l),m=[0,0],g=r.textRotation+u;switch(r.textRotation){case 90:m=[e+y,0];break;case-90:m=[-y,n];break;case 180:m=[e,n+y];break;default:m=[0,-y]}var v=this._penFactory.createPen(t,{translate:m,rotate:g},i);this.writeLines(_,v,p,l,h,r.xAlign),null!=v.destroy&&v.destroy()},w.prototype.writeLines=function(t,r,i,o,a,s){t.forEach(function(t,e){var n=0<a?(e+1)*a:e*a;r.write(t,i,s,n,(e+1)*o)})},w);function w(t,e,n){this._measurer=t,this._penFactory=e,this._wrapper=n}r.XOffsetFactor={center:.5,left:0,right:1},r.YOffsetFactor={bottom:1,center:.5,top:0},r.SupportedRotation=[-90,0,180,90],e.Writer=r},function(t,e){var n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}],r.c=o,r.i=function(t){return t},r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=91);function r(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var i,o});