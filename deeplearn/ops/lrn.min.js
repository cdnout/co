"use strict";var __decorate=this&&this.__decorate||function(e,r,o,n){var t,a=arguments.length,i=a<3?r:null===n?n=Object.getOwnPropertyDescriptor(r,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,r,o,n);else for(var s=e.length-1;0<=s;s--)(t=e[s])&&(i=(a<3?t(i):3<a?t(r,o,i):t(r,o))||i);return 3<a&&i&&Object.defineProperty(r,o,i),i};Object.defineProperty(exports,"__esModule",{value:!0});var doc_1=require("../doc"),environment_1=require("../environment"),util=require("../util"),operation_1=require("./operation"),LRNOps=function(){function e(){}return e.localResponseNormalization=function(e,r,o,n,t,a){void 0===r&&(r=5),void 0===o&&(o=1),void 0===n&&(n=1),void 0===t&&(t=.5),void 0===a&&(a="acrossChannels"),util.assert(4===e.rank||3===e.rank,"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+e.rank+"."),util.assert(util.isInt(r),"Error in localResponseNormalization3D: radius must be an integer\n                     but got radius "+r+".");var i=e,s=!1;3===e.rank&&(s=!0,i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var l=environment_1.ENV.engine.runKernel(function(e){return e.localResponseNormalization4D(i,r,o,n,t,a)},{x4D:i});return s?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l},__decorate([doc_1.doc({heading:"Operations",subheading:"Normalization"}),operation_1.operation],e,"localResponseNormalization",null),e}();exports.LRNOps=LRNOps;