"use strict";var __extends=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var globals_1=require("../../globals"),conv_util=require("../../ops/conv_util"),util=require("../../util"),op_1=require("./op"),MaxPool=function(s){function e(e,t,o,r,i){void 0===r&&(r=1);var n=s.call(this)||this;return n.xTensor=e,n.yTensor=t,n.fieldSize=o,n.stride=r,n.pad=null!=i?i:conv_util.computeDefaultPad(e.shape,n.fieldSize,n.stride),util.assert(util.isInt(n.pad),"The zero padding ("+n.pad+") must be an integer. Change the stride and/or zero pad parameters"),n}return __extends(e,s),e.prototype.feedForward=function(e,t){var o=this,r=t.get(this.xTensor);globals_1.tidy(function(){t.set(o.yTensor,globals_1.keep(e.maxPool(r,o.fieldSize,o.stride,o.pad)))})},e.prototype.backProp=function(e,t,o){var r=this,i=t.get(this.xTensor),n=o.get(this.yTensor);globals_1.tidy(function(){o.add(r.xTensor,e.maxPoolBackprop(n,i,r.fieldSize,r.stride,r.pad))})},e}(op_1.Operation);exports.MaxPool=MaxPool;