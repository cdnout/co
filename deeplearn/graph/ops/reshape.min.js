"use strict";var __extends=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var globals_1=require("../../globals"),util=require("../../util"),op_1=require("./op"),Reshape=function(n){function e(e,t){var o=n.call(this)||this;o.xTensor=e,o.yTensor=t;var r=util.sizeFromShape(e.shape),s=util.sizeFromShape(t.shape);return util.assert(r===s,"The input size ("+r+") and output size ("+s+") must match"),o}return __extends(e,n),e.prototype.feedForward=function(e,t){var o=this,r=t.get(this.xTensor),s=e.clone(r);globals_1.tidy(function(){t.set(o.yTensor,globals_1.keep(s.reshape(o.yTensor.shape)))})},e.prototype.backProp=function(e,t,o){var r=this,s=o.get(this.yTensor),n=e.clone(s);globals_1.tidy(function(){o.add(r.xTensor,n.reshape(r.xTensor.shape))})},e}(op_1.Operation);exports.Reshape=Reshape;