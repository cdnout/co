"use strict";var __extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(t,n){function e(){this.constructor=t}o(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}();Object.defineProperty(exports,"__esModule",{value:!0});var globals_1=require("../../globals"),activation_functions_1=require("../activation_functions"),op_1=require("./op"),ElementWiseActivation=function(i){function t(t,n,e){var o=i.call(this)||this;return o.xTensor=t,o.yTensor=n,o.func=e,o}return __extends(t,i),t.prototype.feedForward=function(t,n){var e=this,o=n.get(this.xTensor);globals_1.tidy(function(){n.set(e.yTensor,globals_1.keep(e.func.output(t,o)))})},t.prototype.backProp=function(n,t,e){var o=this,i=t.get(this.xTensor),r=t.get(this.yTensor),s=e.get(this.yTensor);globals_1.tidy(function(){var t=o.func.der(n,i,r);e.add(o.xTensor,n.elementWiseMul(s,t)),t.dispose()})},t.prototype.dispose=function(){this.func.dispose()},t}(op_1.Operation),ReLU=function(e){function t(t,n){return e.call(this,t,n,new activation_functions_1.ReLUFunc)||this}return __extends(t,e),t}(exports.ElementWiseActivation=ElementWiseActivation);exports.ReLU=ReLU;var LeakyReLU=function(o){function t(t,n,e){return o.call(this,t,n,new activation_functions_1.LeakyReluFunc(e))||this}return __extends(t,o),t}(ElementWiseActivation);exports.LeakyReLU=LeakyReLU;var TanH=function(e){function t(t,n){return e.call(this,t,n,new activation_functions_1.TanHFunc)||this}return __extends(t,e),t}(ElementWiseActivation);exports.TanH=TanH;var Sigmoid=function(e){function t(t,n){return e.call(this,t,n,new activation_functions_1.SigmoidFunc)||this}return __extends(t,e),t}(ElementWiseActivation);exports.Sigmoid=Sigmoid;var Square=function(e){function t(t,n){return e.call(this,t,n,new activation_functions_1.SquareFunc)||this}return __extends(t,e),t}(ElementWiseActivation);exports.Square=Square;var Elu=function(e){function t(t,n){return e.call(this,t,n,new activation_functions_1.EluFunc)||this}return __extends(t,e),t}(ElementWiseActivation);exports.Elu=Elu;var PReLU=function(i){function t(t,n,e){var o=i.call(this)||this;return o.xTensor=t,o.alphaTensor=n,o.yTensor=e,o}return __extends(t,i),t.prototype.feedForward=function(t,n){var e=this,o=n.get(this.xTensor),i=n.get(this.alphaTensor);globals_1.tidy(function(){n.set(e.yTensor,globals_1.keep(t.prelu(o,i)))})},t.prototype.backProp=function(t,n,e){throw new Error("Not implemented")},t}(op_1.Operation);exports.PReLU=PReLU;