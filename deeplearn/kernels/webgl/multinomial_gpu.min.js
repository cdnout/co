"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var MultinomialProgram=function(){function n(n,t,e){this.variableNames=["probs"],this.outputShape=[n,e],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    "}return n.prototype.getCustomSetupFunc=function(e){var o=this;return function(n,t){null==o.seedLoc&&(o.seedLoc=n.getUniformLocation(t,"seed")),n.gl.uniform1f(o.seedLoc,e)}},n}();exports.MultinomialProgram=MultinomialProgram;