"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var shader_compiler_1=require("./shader_compiler"),TransposeProgram=function(r,e){this.variableNames=["A"];for(var t=new Array(r.length),o=0;o<t.length;o++)t[o]=r[e[o]];this.outputShape=t,this.rank=t.length;var s=shader_compiler_1.getCoordsDataType(this.rank),a=getSwitchedCoords(e);this.userCode="\n    void main() {\n      "+s+" resRC = getOutputCoords();\n      setOutput(getA("+a+"));\n    }\n    "};function getSwitchedCoords(r){var e=r.length;if(4<e)throw Error("Transpose for rank "+e+" is not yet supported");for(var t=["resRC.x","resRC.y","resRC.z","resRC.w"],o=new Array(e),s=0;s<r.length;s++)o[r[s]]=t[s];return o.join()}exports.TransposeProgram=TransposeProgram;