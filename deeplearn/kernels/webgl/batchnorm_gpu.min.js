"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var broadcast_util=require("../../ops/broadcast_util"),BatchNormProgram=function(t,a,e,s,r,o){this.outputShape=[],this.supportsBroadcasting=!0,this.variableNames=["x","mean","variance"],broadcast_util.assertAndGetBroadcastShape(t,a),broadcast_util.assertAndGetBroadcastShape(t,e);var n="0.0";null!=s&&(broadcast_util.assertAndGetBroadcastShape(t,s),this.variableNames.push("offset"),n="getOffsetAtOutCoords()");var i="1.0";null!=r&&(broadcast_util.assertAndGetBroadcastShape(t,r),this.variableNames.push("scale"),i="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+n+";\n        float scale = "+i+";\n        float inv = scale / sqrt(variance + float("+o+"));\n        setOutput((x - mean) * inv + offset);\n      }\n    "};exports.BatchNormProgram=BatchNormProgram;