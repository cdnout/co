"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var shader_compiler_1=require("./shader_compiler"),WhereProgram=function(e,r,t){var s,o;if(this.variableNames=["c","a","b"],this.outputShape=r,4<t)throw Error("Where for rank "+t+" is not yet supported");if(1===t)s=o="resRC";else{for(var a=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],n=[],u=0;u<r.length;u++)n.push(""+a[u]),u<e&&i.push(""+a[u]);s=i.join(),o=n.join()}var p=shader_compiler_1.getCoordsDataType(t);this.userCode="\n      void main() {\n        "+p+" resRC = getOutputCoords();\n        float cVal = getC("+s+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+o+"));\n        } else {\n          setOutput(getB("+o+"));\n        }\n      }\n    "};exports.WhereProgram=WhereProgram;