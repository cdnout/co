!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","react","prop-types"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).reactDropzone={},e.React,e.PropTypes)}(this,function(e,X,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=n(X),r=n(t);function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){Y(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ee(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};for(var n,r={},o=Object.keys(e),i=0;i<o.length;i++)n=o[i],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),i=0;i<o.length;i++)n=o[i],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(e,t)||ne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){if(e){if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,a,u,c){return new(u=u||Promise)(function(n,t){function r(e){try{i(c.next(e))}catch(e){t(e)}}function o(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof u?t:new u(function(e){e(t)})).then(r,o)}i((c=c.apply(e,a||[])).next())})}function l(n,r){var o,i,a,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=2&t[0]?i.return:t[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,t[1])).done)return a;switch(i=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,i=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(a=0<(a=u.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){u.label=t[1];break}if(6===t[0]&&u.label<a[1]){u.label=a[1],a=t;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(t);break}a[2]&&u.ops.pop(),u.trys.pop();continue}t=r.call(n,u)}catch(e){t=[6,e],i=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}var a=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function u(e,t){var n,r,r=((r=(n=e).name)&&-1!==r.lastIndexOf(".")&&!n.type&&(r=r.split(".").pop().toLowerCase(),(r=a.get(r))&&Object.defineProperty(n,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})),n);return"string"!=typeof r.path&&(n=e.webkitRelativePath,Object.defineProperty(r,"path",{value:"string"==typeof t?t:"string"==typeof n&&0<n.length?n:e.name,writable:!1,configurable:!1,enumerable:!0})),r}var f=[".DS_Store","Thumbs.db"];function s(e){return e.filter(function(e){return-1===f.indexOf(e.name)})}function p(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function d(e){if("function"!=typeof e.webkitGetAsEntry)return g(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?y(t):g(e)}function g(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");t=u(t);return Promise.resolve(t)}function v(t){return c(this,void 0,void 0,function(){return l(this,function(e){return[2,(t.isDirectory?y:function(r){return c(this,void 0,void 0,function(){return l(this,function(e){return[2,new Promise(function(t,n){r.file(function(e){e=u(e,r.fullPath);t(e)},function(e){n(e)})})]})})})(t)]})})}function y(e){var t=e.createReader();return new Promise(function(i,a){var u=[];!function o(){var e=this;t.readEntries(function(r){return c(e,void 0,void 0,function(){var t,n;return l(this,function(e){switch(e.label){case 0:if(r.length)return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Promise.all(u)];case 2:return t=e.sent(),i(t),[3,4];case 3:return n=e.sent(),a(n),[3,4];case 4:return[3,6];case 5:n=Promise.all(r.map(v)),u.push(n),o(),e.label=6;case 6:return[2]}})})},function(e){a(e)})}()})}var m=(O=((t=(O={exports:{}}).exports).__esModule=!0,t.default=function(e,t){if(e&&t){var t=Array.isArray(t)?t:t.split(","),n=e.name||"",r=e.type||"",o=r.replace(/\/.*$/,"");return t.some(function(e){e=e.trim();return"."===e.charAt(0)?n.toLowerCase().endsWith(e.toLowerCase()):e.endsWith("/*")?o===e.replace(/\/.*$/,""):r===e})}return!0},O.exports))&&O.__esModule&&Object.prototype.hasOwnProperty.call(O,"default")?O.default:O,b=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;e=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(e)}},h=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," bytes")}},D=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," bytes")}},oe={code:"too-many-files",message:"Too many files"};function ie(e,t){e="application/x-moz-file"===e.type||m(e,t);return[e,e?null:b(t)]}function ae(e,t,n){if(w(e.size))if(w(t)&&w(n)){if(e.size>n)return[!1,h(n)];if(e.size<t)return[!1,D(t)]}else{if(w(t)&&e.size<t)return[!1,D(t)];if(w(n)&&e.size>n)return[!1,h(n)]}return[!0,null]}function w(e){return null!=e}function ue(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function ce(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(e){return"Files"===e||"application/x-moz-file"===e}):e.target&&e.target.files}function le(e){e.preventDefault()}function fe(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];return function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return o.some(function(e){return!ue(t)&&e&&e.apply(void 0,[t].concat(n)),ue(t)})}}var O=X.forwardRef(function(e,t){var n=e.children,e=F(ee(e,["children"])),r=e.open,e=ee(e,["open"]);return X.useImperativeHandle(t,function(){return{open:r}},[r]),o.default.createElement(X.Fragment,null,n(Z(Z({},e),{},{open:r})))}),se={disabled:!(O.displayName="Dropzone"),getFilesFromEvent:function(t){return c(this,void 0,void 0,function(){return l(this,function(e){return[2,t.dataTransfer&&t.dataTransfer?function(n,r){return c(this,void 0,void 0,function(){var t;return l(this,function(e){switch(e.label){case 0:return n.items?(t=p(n.items).filter(function(e){return"file"===e.kind}),"drop"!==r?[2,t]:[4,Promise.all(t.map(d))]):[3,2];case 1:return[2,s(function n(e){return e.reduce(function(e,t){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}(arguments[t]));return e}(e,Array.isArray(t)?n(t):[t])},[])}(e.sent()))];case 2:return[2,s(p(n.files).map(function(e){return u(e)}))]}})})}(t.dataTransfer,t.type):(null!==t.target&&t.target.files?p(t.target.files):[]).map(function(e){return u(e)})]})})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1};O.defaultProps=se;var pe={isFocused:!(O.propTypes={children:r.default.func,accept:r.default.oneOfType([r.default.string,r.default.arrayOf(r.default.string)]),multiple:r.default.bool,preventDropOnDocument:r.default.bool,noClick:r.default.bool,noKeyboard:r.default.bool,noDrag:r.default.bool,noDragEventsBubbling:r.default.bool,minSize:r.default.number,maxSize:r.default.number,maxFiles:r.default.number,disabled:r.default.bool,getFilesFromEvent:r.default.func,onFileDialogCancel:r.default.func,onDragEnter:r.default.func,onDragLeave:r.default.func,onDragOver:r.default.func,onDrop:r.default.func,onDropAccepted:r.default.func,onDropRejected:r.default.func}),isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function F(){function e(){E&&setTimeout(function(){F.current&&(F.current.files.length||(x({type:"closeDialog"}),"function"==typeof y&&y()))},300)}var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=Z(Z({},se),t),u=n.accept,f=n.disabled,r=n.getFilesFromEvent,c=n.maxSize,l=n.minSize,o=n.multiple,s=n.maxFiles,i=n.onDragEnter,a=n.onDragLeave,p=n.onDragOver,d=n.onDrop,g=n.onDropAccepted,v=n.onDropRejected,y=n.onFileDialogCancel,m=n.preventDropOnDocument,b=n.noClick,h=n.noKeyboard,D=n.noDrag,w=n.noDragEventsBubbling,O=X.useRef(null),F=X.useRef(null),j=te(X.useReducer(de,pe),2),A=j[0],x=j[1],k=A.isFocused,E=A.isFileDialogActive,P=A.draggedFiles,S=X.useCallback(function(){F.current&&(x({type:"openDialog"}),F.current.value=null,F.current.click())},[x]);function C(e){O.current&&O.current.contains(e.target)||(e.preventDefault(),I.current=[])}X.useEffect(function(){return window.addEventListener("focus",e,!1),function(){window.removeEventListener("focus",e,!1)}},[F,E,y]);var z=X.useCallback(function(e){O.current&&O.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),S()))},[O,F]),R=X.useCallback(function(){x({type:"focus"})},[]),T=X.useCallback(function(){x({type:"blur"})},[]),L=X.useCallback(function(){b||(function(){var e,t=window.navigator.userAgent;return-1!==(e=t).indexOf("MSIE")||-1!==e.indexOf("Trident/")||-1!==t.indexOf("Edge/")}()?setTimeout(S,0):S())},[F,b]),I=X.useRef([]);function K(e){return f?null:e}function B(e){return h?null:K(e)}function M(e){return D?null:K(e)}X.useEffect(function(){return m&&(document.addEventListener("dragover",le,!1),document.addEventListener("drop",C,!1)),function(){m&&(document.removeEventListener("dragover",le),document.removeEventListener("drop",C))}},[O,m]);var _,q,G,$=X.useCallback(function(t){var e;t.preventDefault(),t.persist(),U(t),I.current=[].concat(function(e){if(Array.isArray(e))return re(e)}(e=I.current)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t.target]),ce(t)&&Promise.resolve(r(t)).then(function(e){ue(t)&&!w||(x({draggedFiles:e,isDragActive:!0,type:"setDraggedFiles"}),i&&i(t))})},[r,i,w]),N=X.useCallback(function(e){if(e.preventDefault(),e.persist(),U(e),e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return ce(e)&&p&&p(e),!1},[p,w]),W=X.useCallback(function(e){e.preventDefault(),e.persist(),U(e);var t=I.current.filter(function(e){return O.current&&O.current.contains(e)}),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),0<(I.current=t).length||(x({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),ce(e)&&a&&a(e))},[O,a,w]),H=X.useCallback(function(t){t.preventDefault(),t.persist(),U(t),I.current=[],ce(t)&&Promise.resolve(r(t)).then(function(e){var i,a;ue(t)&&!w||(i=[],a=[],e.forEach(function(e){var t=te(ie(e,u),2),n=t[0],r=t[1],o=te(ae(e,l,c),2),t=o[0],o=o[1];n&&t?i.push(e):(o=[r,o].filter(function(e){return e}),a.push({file:e,errors:o}))}),(!o&&1<i.length||o&&1<=s&&i.length>s)&&(i.forEach(function(e){a.push({file:e,errors:[oe]})}),i.splice(0)),x({acceptedFiles:i,fileRejections:a,type:"setFiles"}),d&&d(i,a,t),0<a.length&&v&&v(a,t),0<i.length&&g&&g(i,t))}),x({type:"reset"})},[o,u,l,c,s,r,d,g,v,w]),U=function(e){w&&e.stopPropagation()},J=X.useMemo(function(){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onKeyDown,o=e.onFocus,i=e.onBlur,a=e.onClick,u=e.onDragEnter,c=e.onDragOver,l=e.onDragLeave,t=e.onDrop,e=ee(e,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return Z(Z(Y({onKeyDown:B(fe(r,z)),onFocus:B(fe(o,R)),onBlur:B(fe(i,T)),onClick:K(fe(a,L)),onDragEnter:M(fe(u,$)),onDragOver:M(fe(c,N)),onDragLeave:M(fe(l,W)),onDrop:M(fe(t,H))},n,O),f||h?{}:{tabIndex:0}),e)}},[O,z,R,T,L,$,N,W,H,h,D,f]),Q=X.useCallback(function(e){e.stopPropagation()},[]),t=X.useMemo(function(){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onChange,t=e.onClick,e=ee(e,["refKey","onChange","onClick"]);return Z(Z({},Y({accept:u,multiple:o,type:"file",style:{display:"none"},onChange:K(fe(r,H)),onClick:K(fe(t,Q)),autoComplete:"off",tabIndex:-1},n,F)),e)}},[F,u,o,H,f]),n=P.length,V=0<n&&(V=(j={files:P,accept:u,minSize:l,maxSize:c,multiple:o,maxFiles:s}).files,_=j.accept,q=j.minSize,G=j.maxSize,P=j.maxFiles,!(!(j=j.multiple)&&1<V.length||j&&1<=P&&V.length>P)&&V.every(function(e){var t=te(ie(e,_),1)[0],e=te(ae(e,q,G),1)[0];return t&&e})),n=0<n&&!V;return Z(Z({},A),{},{isDragAccept:V,isDragReject:n,isFocused:k&&!f,getRootProps:J,getInputProps:t,rootRef:O,inputRef:F,open:K(S)})}function de(e,t){switch(t.type){case"focus":return Z(Z({},e),{},{isFocused:!0});case"blur":return Z(Z({},e),{},{isFocused:!1});case"openDialog":return Z(Z({},e),{},{isFileDialogActive:!0});case"closeDialog":return Z(Z({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive,r=t.draggedFiles;return Z(Z({},e),{},{draggedFiles:r,isDragActive:n});case"setFiles":return Z(Z({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Z(Z({},e),{},{isFileDialogActive:!1,isDragActive:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]});default:return e}}e.default=O,e.useDropzone=F,Object.defineProperty(e,"__esModule",{value:!0})});