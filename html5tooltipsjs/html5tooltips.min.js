!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.html5tooltips=e()}(this,function(){"use strict";var t='<div class="html5tooltip" style="box-sizing:border-box;position:fixed;z-index:2147483647">  <div class="html5tooltip-box" box>    <div class="html5tooltip-text" text></div>    <div class="html5tooltip-more" style="overflow:hidden;" more>      <div class="html5tooltip-text" more-text></div>    </div>  </div></div>',d={animateFunction:{fadeIn:"fadein",foldIn:"foldin",foldOut:"foldout",roll:"roll",scaleIn:"scalein",slideIn:"slidein",spin:"spin"},color:{daffodil:{r:255,g:230,b:23},daisy:{r:250,g:211,b:28},mustard:{r:253,g:183,b:23},"citrus zest":{r:250,g:170,b:33},pumpkin:{r:241,g:117,b:63},tangerine:{r:237,g:87,b:36},salmon:{r:240,g:70,b:57},persimmon:{r:234,g:40,b:48},rouge:{r:188,g:35,b:38},scarlet:{r:140,g:12,b:3},"hot pink":{r:229,g:24,b:93},princess:{r:243,g:132,b:174},petal:{r:250,g:198,b:210},lilac:{r:178,g:150,b:199},lavender:{r:123,g:103,b:174},violet:{r:95,g:53,b:119},cloud:{r:195,g:222,b:241},dream:{r:85,g:190,b:237},gulf:{r:49,g:168,b:224},turquoise:{r:35,g:138,b:204},sky:{r:13,g:96,b:174},indigo:{r:20,g:59,b:134},navy:{r:0,g:27,b:74},"sea foam":{r:125,g:205,b:194},teal:{r:0,g:168,b:168},peacock:{r:18,g:149,b:159},ceadon:{r:193,g:209,b:138},olive:{r:121,g:145,b:85},bamboo:{r:128,g:188,b:66},grass:{r:74,g:160,b:63},kelly:{r:22,g:136,b:74},forrest:{r:0,g:63,b:46},chocolate:{r:56,g:30,b:17},"terra cotta":{r:192,g:92,b:32},camel:{r:191,g:155,b:107},linen:{r:233,g:212,b:167},stone:{r:231,g:230,b:225},smoke:{r:207,g:208,b:210},steel:{r:138,g:139,b:143},slate:{r:119,g:133,b:144},charcoal:{r:71,g:77,b:77},black:{r:5,g:6,b:8},white:{r:255,g:255,b:255},"metalic silver":{r:152,g:162,b:171},"metalic gold":{r:159,g:135,b:89},"metalic copper":{r:140,g:102,b:65}},stickTo:{bottom:"bottom",left:"left",right:"right",top:"top"}},m={animateDuration:300,animateFunction:d.animateFunction.fadeIn,delay:500,disableAnimation:!1,hideDelay:300,persistent:!1,stickTo:d.stickTo.bottom,stickDistance:10};function f(t,e){function r(t,e){return Array.prototype.slice.call(t,e)}function n(t){var e=r(t).map(function(t){return typeof t}),n={};if("object"===e[0])n=t[0];else if("string"===e[0]){var i=t[0].split(" ");for(var o in i)n[i[o]]=t[1]}else"function"===e[0]&&(n={"":t[0]});return n}function i(e){clearTimeout(s[e]),s[e]=setTimeout(function(){for(var t in a[e])try{a[e][t](o.model[e])}catch(t){}if(a[""])for(var t in a[""])a[""][t]()})}var o=this,l={},a={},s={};if(o.anchors=[],o.elements=[],o.model={},o.publ=t||{},o.destroy=function(){o.unmount()},o.dispatch=function(e){var n=r(arguments,1);setTimeout(function(){for(var t in l[e])l[e][t].apply(o.publ,n)})},o.onModelUpdate=function(){var t=n(arguments);for(var e in t)o.model[e]=o.model[e]||null,a[e]=a[e]||[],a[e].push(t[e]),i(e)},o.mount=function(t){t=t||document.body;try{for(var e,n=0;e=o.elements[n++];)t.appendChild(e)}catch(t){throw"Could not mount component: "+t.message}},o.set=function(){var t=n(arguments);for(var e in t)o.model[e]=t[e],i(e)},o.unmount=function(){for(var t,e=0;t=o.elements[e++];)t.parentNode&&t.parentNode.removeChild(t)},Object.defineProperty(o,"element",{configurable:!0,enumerable:!0,get:function(){return o.elements[0]},set:function(t){o.elements[0]=t}}),["element","elements","model","set"].forEach(function(e){Object.defineProperty(o.publ,e,{configurable:!0,enumerable:!0,get:function(){return o[e]},set:function(t){o[e]=t}})}),o.publ.destroy=function(){o.destroy()},o.publ.mount=function(t){o.mount(t)},o.publ.on=function(){var t=n(arguments);for(var e in t)l[e]=l[e]||[],l[e].push(t[e])},o.publ.unmount=function(){o.unmount()},e&&document){var c=document.createElement("div");c.innerHTML=e,o.elements=r(c.children),function t(e,n){for(var i,o=0;o<e.length;o++){for(var r=0;r<e[o].attributes.length;r++)n[i=e[o].attributes.item(r).name.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})]=n[i]||[],n[i].push(e[o]);t(e[o].children,n)}}(o.elements,o.anchors)}}function c(){function e(t,e){u.disableAnimation?e():(t.getBoundingClientRect(),t.classList.add("animating"),e&&e(),setTimeout(function(){t.classList.remove("animating")},u.animateDuration))}function n(t,e,n,i){u.disableAnimation?i&&i():(t.classList.add(e),t.getBoundingClientRect(),t.classList.add("animating"),t.classList.remove(e),t.classList.add(n),setTimeout(function(){t.classList.remove("animating"),t.classList.remove(n),i&&i()},u.animateDuration))}function i(){"collapse"!==s.style.visibility&&(s.style.visibility="collapse"),s.style.left="-9999px",s.style.top="-9999px","none"!==a.style.display&&(a.style.display="none",a.style.visibility="collapse",a.style.height="auto")}function o(){var t,e;if(r.model.target&&"visible"===s.style.visibility){s.style.width="auto",e=s.getBoundingClientRect();var n=parseInt(u.maxWidth);switch(n&&(s.style.width=e.width>n?n+"px":"auto"),t=r.model.target.getBoundingClientRect(),e=s.getBoundingClientRect(),u.stickTo){case d.stickTo.bottom:s.style.left=t.left+parseInt((t.width-e.width)/2)+"px",s.style.top=t.top+t.height+parseInt(u.stickDistance)+"px";break;case d.stickTo.left:s.style.left=t.left-e.width-parseInt(u.stickDistance)+"px",s.style.top=t.top+(t.height-e.height)/2+"px";break;case d.stickTo.right:s.style.left=t.left+t.width+parseInt(u.stickDistance)+"px",s.style.top=t.top+(t.height-e.height)/2+"px";break;case d.stickTo.top:s.style.left=t.left+(t.width-e.width)/2+"px",s.style.top=t.top-e.height-parseInt(u.stickDistance)+"px"}}}var r=new f(this,t),l=r.anchors.box[0],a=(r.anchors.text[0],r.anchors.more[0]),s=(r.anchors.moreText[0],r.elements[0]),c=!1;i(),"undefined"!=typeof window&&(window.addEventListener("resize",o,!1),window.addEventListener("scroll",o,!1)),r.set(m);var u=r.model;r.onModelUpdate({color:function(t){d.color[t]&&(t="rgb("+(t=d.color[t]).r+", "+t.g+", "+t.b+")"),l.style.backgroundColor=t},contentText:function(t){r.anchors.text[0].innerHTML=t},contentMore:function(t){r.anchors.moreText[0].innerHTML=t},stickTo:function(t){r.elements[0].className="html5tooltip-"+t}}),this.hide=function(t){return c=!0,n(l,u.animateFunction+"-to",u.animateFunction+"-from",function(){c&&(i(),t&&t())}),this},this.show=function(){return c=!1,"visible"!==s.style.visibility&&(s.style.visibility="visible",setTimeout(function(){o(),n(l,u.animateFunction+"-from",u.animateFunction+"-to")})),this},this.showMore=function(){if("visible"!==s.style.visibility)s.style.visibility="visible",n(l,u.animateFunction+"-from",u.animateFunction+"-to"),u.contentMore&&(a.style.display="block",a.style.visibility="visible"),o();else if("block"!==a.style.display&&u.contentMore){a.style.display="block",e(s),o();var t=a.getBoundingClientRect().height;a.style.visibility="visible",a.style.height="0px",e(a,function(){a.style.height=0<t?t+"px":"auto"})}return this},this.moveTooltip=o,r.publ.destroy=function(){"undefined"!=typeof window&&(window.removeEventListener("resize",o),window.removeEventListener("scroll",o)),r.destroy()},r.publ.unmount=function(){i(),r.unmount()}}var n=[],i=[];function o(t,e,n){for(var i,o,r,l=n.length;l--;)if(n[l].model.target===t){i=n[l];break}function a(){t!==o&&i.element!==o&&(i.model.persistent?i.hide(function(){i.unmount()}):i.unmount())}function s(){o=null,t!==r&&(i.model.persistent?setTimeout(a,i.model.hideDelay):a())}i||(i=new c,n.push(i)),i.set(e),i.set("target",t),t.addEventListener("mouseenter",function(){this!==o&&this!==r&&(o=this,setTimeout(function(){this===o&&(i.mount(),i.show())}.bind(this),i.model.delay))}),t.addEventListener("mouseleave",s),t.addEventListener("focus",function(){-1===["INPUT","TEXTAREA"].indexOf(this.tagName)&&null===this.getAttribute("contenteditable")||(r=this,i.mount(),i.showMore())}),t.addEventListener("blur",function(){r=null,o!==i.element&&i.unmount()}),i.element.addEventListener("mouseenter",function(){o=this}),i.element.addEventListener("mouseleave",s)}function e(t,e,n){for(var i=t.getAttribute(e),o=t;!i&&(o=o.parentNode)&&o.getAttribute;)i=o.getAttribute(e);return i||n}function r(){(function(t,e){for(var n,i=(e||document).getElementsByTagName("*"),o=[],r=0;n=i[r];r++)n.getAttribute(t)&&o.push(n);return o})("data-tooltip").forEach(function(t){l(t)})}function l(t){o(t,{disableAnimation:e(t,"data-tooltip-disable-animation",m.disableAnimation),animateFunction:e(t,"data-tooltip-animate-function",m.animateFunction),color:e(t,"data-tooltip-color",""),contentMore:e(t,"data-tooltip-more",""),contentText:e(t,"data-tooltip",""),delay:e(t,"data-tooltip-delay",m.delay),hideDelay:e(t,"data-tooltip-hide-delay",m.delay),maxWidth:e(t,"data-tooltip-maxwidth","auto"),persistent:e(t,"data-tooltip-persistent",m.persistent),stickTo:e(t,"data-tooltip-stickto",m.stickTo)},i)}function a(t){t.forEach(function(e){var t=[];e.targetSelector&&(t=function(t,e){var n=[];try{n=Array.prototype.slice.call((e||document).querySelectorAll(t))}catch(t){}return n}(e.targetSelector)),t.forEach(function(t){o(t,e,n)})})}var s=function(t){Array.isArray(t)||(t=[t]),a(t)};function u(){document.removeEventListener("DOMContentLoaded",u,!1),window.removeEventListener("load",u,!1),s.refresh()}return s.autoinit=s.refresh=function(){r()},s.createDefaultTooltip=function(t){l(t)},s.getTooltipByTarget=function(t){for(var e=n.length;e--;)if(n[e].model.target===t)return n[e];for(e=i.length;e--;)if(i[e].model.target===t)return i[e]},"undefined"!=typeof window&&("complete"===document.readyState?u():(document.addEventListener("DOMContentLoaded",u,!1),window.addEventListener("load",u,!1)),window.html5tooltipsPredefined||(window.html5tooltipsPredefined=d,window.HTML5TooltipUIComponent=c)),s});