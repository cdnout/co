/*! Qoopido.js library 3.7.4, 2015-08-14 | https://github.com/dlueth/qoopido.js | (c) 2015 Dirk Lueth */
!function(e,t){var n=["../base","../function/unique/uuid","../hook/css","./event"];t.CustomEvent||n.push("../polyfill/window/customevent"),t.addEventListener||n.push("../polyfill/window/addeventlistener"),t.removeEventListener||n.push("../polyfill/window/removeeventlistener"),t.dispatchEvent||n.push("../polyfill/window/dispatchevent"),Element.prototype.matches||n.push("../polyfill/element/matches"),document.querySelector||n.push("../polyfill/document/queryselector"),document.querySelectorAll||n.push("../polyfill/document/queryselectorall"),String.prototype.trim||n.push("../polyfill/string/trim"),t.qoopido.register("dom/element",e,n)}(function(e,t,n,r){"use strict";function i(e){var t,n,r;for(t in A)n=A[t],(!n.regex||n.regex.test(e))&&(r=n);return r}function s(e,t,n){var r=this,s=i(e),o=a.createEvent(s.type);o[s.method](e,"load"===e?!1:!0,!0,t),n&&(o._quid=n,o.isDelegate=!0),r.element.dispatchEvent(o)}function o(e){var t;if("string"==typeof e)try{g.test(e)===!0?(t=e.replace(g,"$1").toLowerCase(),e=a.createElement(t)):e=a.querySelector(e)}catch(n){e=null}if(!e)throw new Error("[Qoopido.js] Element could not be resolved");return e}function l(e){return Array.prototype.concat.apply([],Array.prototype.splice.call(e,0)).join(" ").split(b)}function u(e,t){for(var n,i=0;(n=e.path[i])!==r;i++){if(n.matches(t))return e.currentTarget=n,!0;if(n===e.currentTarget)break}return!1}var a=n.document,c="object",f="string",m=e["function/unique/uuid"],p=a.getElementsByTagName("head")[0],d="textContent"in a.createElement("a")?"textContent":"innerText",h="undefined"!=typeof p.previousElementSibling?function(){return this.previousElementSibling}:function(){for(var e=this;e=e.previousSibling;)if(1===e.nodeType)return e},v="undefined"!=typeof p.nextElementSibling?function(){return this.nextElementSibling}:function(){for(var e=this;e=e.nextSibling;)if(1===e.nodeType)return e},g=new RegExp("^<(\\w+)\\s*/>$"),y=new RegExp("^[^-]+"),b=new RegExp(" +","g"),E=e["pool/module"]&&e["pool/module"].create(e["dom/event"],null,!0)||null,S=e["hook/css"],C={},A={custom:{type:"CustomEvent",method:"initCustomEvent"},html:{regex:new RegExp("^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$"),type:"HTMLEvents",method:"initEvent"},mouse:{regex:new RegExp("^(?:mouse|pointer|contextmenu|touch|click|dblclick|drag|drop)"),type:"MouseEvents",method:"initMouseEvent"}};return e.base.extend({type:null,element:null,_listener:null,_constructor:function(e,t,n){var r,i=this;return e=o(e),r=e._quid,r?i=C[r]:(r=e._quid=m(),i.type=e.tagName,i.element=e,i._listener={},C[r]=i),"object"==typeof t&&null!==t&&i.setAttributes(t),"object"==typeof n&&null!==n&&i.setStyles(n),i!==this&&this.dispose&&this.dispose(),i},_obtain:function(e,t,n){this._constructor(e,t,n)},_dispose:function(){var e,t,n=this;for(e in n._listener)t=e.match(y),n.element.removeEventListener(t,n._listener[e]),delete n._listener[e];n.type=null,n.element=null},getContent:function(e){var t=this.element;return e&&e!==!1?t.innerHTML:t[d]},setContent:function(e,t){var n=this,r=n.element;return t&&t!==!1?r.innerHTML=e:r[d]=e,n},getAttribute:function(e){var t=this;return e&&typeof e===f?t.element.getAttribute(e):void 0},getAttributes:function(){for(var e,t=this,n={},i=l(arguments),s=0;(e=i[s])!==r;s++)n[e]=t.element.getAttribute(e);return n},setAttribute:function(e,t){var n=this;return e&&typeof e===f&&n.element.setAttribute(e,t),n},setAttributes:function(e){var t,n=this;if(e&&typeof e===c&&!e.length)for(t in e)n.element.setAttribute(t,e[t]);return n},removeAttribute:function(e){var t=this;return e&&typeof e===f&&t.element.removeAttribute(e),t},removeAttributes:function(){for(var e,t=this,n=l(arguments),i=0;(e=n[i])!==r;i++)t.element.removeAttribute(e);return t},getStyle:function(e){var t=this;return e&&typeof e===f?S.process("get",t.element,e):void 0},getStyles:function(){for(var e,t=this,n={},i=l(arguments),s=0;(e=i[s])!==r;s++)n[e]=S.process("get",t.element,e);return n},setStyle:function(e,t){var n=this;return e&&typeof e===f&&S.process("set",n.element,e,t),n},setStyles:function(e){var t,n=this;if(e&&typeof e===c&&!e.length)for(t in e)S.process("set",n.element,t,e[t]);return n},removeStyle:function(e){var t=this;return e&&typeof e===f&&t.setStyle(e,""),t},removeStyles:function(){for(var e,t=this,n=l(arguments),i=0;(e=n[i])!==r;i++)t.setStyle(e,"");return t},siblings:function(e){for(var t=this.element,n=t.parentNode.firstChild,r=[];n;n=v.call(n))n===t||e&&!n.matches(e)||r.push(n);return r},siblingsBefore:function(e){for(var t=this.element.previousSibling,n=[];t;t=h.call(t))(!e||t.matches(e))&&n.push(t);return n},siblingsAfter:function(e){for(var t=this.element.nextSibling,n=[];t;t=v.call(t))(!e||t.matches(e))&&n.push(t);return n},previous:function(e){var t=h.call(this.element);if(!e)return t;for(;t;t=h.call(t))if(t.matches(e))return t},next:function(e){var t=v.call(this.element);if(!e)return t;for(;t;t=v.call(t))if(t.matches(e))return t},find:function(e){var t,n,r=this.element;return e=e.trim(),">"===e.charAt(0)?(t=r._quid,r.setAttribute("data-quid",t),e='[data-quid="'+t+'"] '+e,n=r.parentNode.querySelectorAll(e),r.removeAttribute("data-quid")):n=r.querySelectorAll(e),n},parent:function(e){var t;if(!e)return this.element.parentNode;for(t=this.element;t;t=t.parentNode)if(t.matches(e))return t},parents:function(e){for(var t=this.element.parentNode,n=[];t;t=t.parentNode){if(9===t.nodeType)return n;1===t.nodeType&&(!e||t.matches(e))&&n.push(t)}},isVisible:function(){var e=this,t=e.element;return!(t.offsetWidth<=0&&t.offsetHeight<=0||"hidden"===e.getStyle("visibility")||e.getStyle("opacity")<=0)},hasClass:function(e){return e?new RegExp("(?:^|\\s)"+e+"(?:\\s|$)").test(this.element.className):!1},addClass:function(e){var t=this;return e&&!t.hasClass(e)&&(t.element.className+=t.element.className?" "+e:e),t},removeClass:function(e){var t=this;return e&&t.hasClass(e)&&(t.element.className=t.element.className.replace(new RegExp("(?:^|\\s)"+e+"(?!\\S)"),"")),t},toggleClass:function(e){var t=this;return e&&(t.hasClass(e)?t.removeClass(e):t.addClass(e)),t},prepend:function(e){var t=this,n=t.element;if(e)try{e=e.element||o(e),n.firstChild?n.insertBefore(e,n.firstChild):t.append(e)}catch(r){n.insertAdjacentHTML("afterBegin",e)}return t},append:function(e){var t=this,n=t.element;if(e)try{n.appendChild(e.element||o(e))}catch(r){n.insertAdjacentHTML("beforeEnd",e)}return t},prependTo:function(e){var t=this,n=t.element;return e&&((e=e.element||o(e)).firstChild?e.insertBefore(n,e.firstChild):t.appendTo(e)),t},appendTo:function(e){var t=this;return e&&(e.element||o(e)).appendChild(t.element),t},insertBefore:function(e){var t=this,n=t.element;return e&&(e=e.element||o(e)).parentNode.insertBefore(n,e),t},insertAfter:function(e){var t=this,n=t.element;return e&&((e=e.element||o(e)).nextSibling?e.parentNode.insertBefore(n,e.nextSibling):t.appendTo(e.parentNode)),t},replace:function(e){var t=this,n=t.element;return e&&(e=e.element||o(e)).parentNode.replaceChild(n,e),t},replaceWith:function(e){var t=this,n=t.element;return e&&(e=e.element||o(e),n.parentNode.replaceChild(e,n)),t},remove:function(){var e=this,t=e.element;return t.parentNode.removeChild(t),e},on:function(t){var n,i=this,o=i.element,l=arguments.length>2?arguments[1]:null,a=arguments.length>2?arguments[2]:arguments[1],c=a._quid||(a._quid=m()),f=0;for(t=t.split(" ");(n=t[f])!==r;f++){var p=n+"-"+c,d=function(t){var n;t=E&&E.obtain(t)||e["dom/event"].create(t),t.isPropagationStopped||(n=t.delegate,t._quid=m(),(!l||u(t,l))&&a.call(t.currentTarget,t,t.originalEvent.detail),n&&(delete t.delegate,s.call(i,n))),t.dispose&&t.dispose()};d.type=n,i._listener[p]=d,o.addEventListener(n,d)}return i},one:function(e){var t=this,n=arguments.length>3||"string"==typeof arguments[1]?arguments[1]:null,r=arguments.length>3||"function"==typeof arguments[2]?arguments[2]:arguments[1],i=(arguments.length>3?arguments[3]:arguments[2])!==!1,s=function(n){t.off(i===!0?n.type:e,s),r.call(this,n,n.originalEvent.detail)};return r._quid=s._quid=m(),n?t.on(e,n,s):t.on(e,s),t},off:function(e,t){var n,i,s,o=this,l=o.element,u=0;for(e=e.split(" ");(n=e[u])!==r;u++)i=t._quid&&n+"-"+t._quid||null,s=i&&o._listener[i]||null,s?(l.removeEventListener(n,s),delete o._listener[i]):l.removeEventListener(n,t);return o},emit:function(e,t){var n=this;return s.call(n,e,t),n}})},this);