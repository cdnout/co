/*! Qoopido.js library 3.7.4, 2015-08-14 | https://github.com/dlueth/qoopido.js | (c) 2015 Dirk Lueth */
!function(e,t){t.qoopido.registerSingleton("hook/event",e,["../base"])}(function(e,t,r,n){"use strict";function o(e,t,r){for(var o,a=0;(o=r[a])!==n;a++)e[o]=t[o];e._properties=e._properties.concat(r)}var a=r.document,c={general:{properties:"type altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which path".split(" "),process:function(e,t){var n;if(e.originalEvent=t,e.isDefaultPrevented=t.defaultPrevented?!0:!1,e.isPropagationStopped=t.cancelBubble?!0:!1,e.metaKey=t.metaKey&&t.metaKey!==!1?!0:!1,e.target||(e.target=t.srcElement||a),3===e.target.nodeType&&(e.target=e.target.parentNode),!e.path){e.path=[],n=e.target;do e.path.push(n);while(n=n.parentNode);e.path.push(r)}}},mouse:{regex:new RegExp("^(?:mouse|pointer|contextmenu|touch|click|dblclick|drag|drop)"),properties:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement dataTransfer".split(" "),process:function(e,t){var r,o,c;o=t.fromElement,c=t.button,null===e.pageX&&null!==t.clientX&&(r=e.target.ownerDocument||a,r=r.documentElement||r.body,e.pageX=t.clientX+(r.scrollLeft||0)-(r.clientLeft||0),e.pageY=t.clientY+(r.scrollTop||0)-(r.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||c===n||(e.which=1&c?1:2&c?3:4&c?2:0)}},key:{regex:new RegExp("^(?:key)"),properties:"char charCode key keyCode".split(" "),process:function(e,t){null===e.which&&(e.which=null!==t.charCode?t.charCode:t.keyCode)}}};return e.base.extend({add:function(e,t){return e&&t&&c[e]&&(c[e]=t),this},get:function(e){return e&&c[e]?c[e]:null},process:function(e,t){var r,n,a;for(r in c)n=c[r],a=!n.regex||n.regex.test(t.type),a&&(n.properties&&o(e,t,n.properties),n.process&&n.process(e,t),n.delegate&&(e.delegate=n.delegate))}})},this);