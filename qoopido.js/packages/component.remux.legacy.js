/*! Qoopido.js library 3.7.4, 2015-08-14 | https://github.com/dlueth/qoopido.js | (c) 2015 Dirk Lueth */
!function(e,t){t.register?t.register("polyfill/object/defineproperty",e):(t.modules=t.modules||{})["polyfill/object/defineproperty"]=e()}(function(e,t,r,n){"use strict";if(!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var o=Object.defineProperty,i=Object.prototype.__defineGetter__,c=Object.prototype.__defineSetter__;Object.defineProperty=function(e,t,r){if(o)try{return o(e,t,r)}catch(n){}if(e!==Object(e))throw new TypeError("Object.defineProperty called on non-object");return i&&"get"in r&&i.call(e,t,r.get),c&&"set"in r&&c.call(e,t,r.set),"value"in r&&(e[t]=r.value),e}}return Object.defineProperty},this.qoopido=this.qoopido||{}),function(e,t){if(t.register){var r=[];Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()||r.push("./defineproperty"),t.register("polyfill/object/defineproperties",e,r)}else(t.modules=t.modules||{})["polyfill/object/defineproperties"]=e()}(function(e,t,r,n){"use strict";return Object.defineProperties||(Object.defineProperties=function(e,t){if(e!==Object(e))throw new TypeError("Object.defineProperties called on non-object");var r;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&Object.defineProperty(e,r,t[r]);return e}),Object.defineProperties},this.qoopido=this.qoopido||{}),function(e,t){if(t.register){var r=[];Object.defineProperties||r.push("./defineproperties"),t.register("polyfill/object/create",e,r)}else(t.modules=t.modules||{})["polyfill/object/create"]=e()}(function(e,t,r,n){"use strict";return Object.create||(Object.create=function(e,t){function r(){}if("object"!=typeof e)throw new TypeError;r.prototype=e;var n=new r;if(e&&(n.constructor=r),arguments.length>1){if(t!==Object(t))throw new TypeError;Object.defineProperties(n,t)}return n}),Object.create},this.qoopido=this.qoopido||{}),function(e,t){t.register?t.register("polyfill/object/getownpropertynames",e):(t.modules=t.modules||{})["polyfill/object/getownpropertynames"]=e()}(function(e,t,r,n){"use strict";return Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw new TypeError("Object.getOwnPropertyNames called on non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}),Object.getOwnPropertyNames},this.qoopido=this.qoopido||{}),function(e,t){t.register?t.register("polyfill/object/getownpropertydescriptor",e):(t.modules=t.modules||{})["polyfill/object/getownpropertydescriptor"]=e()}(function(e,t,r,n){"use strict";if(!Object.getOwnPropertyDescriptor||!function(){try{return Object.getOwnPropertyDescriptor({x:0},"x"),!0}catch(e){return!1}}()){var o=Object.getOwnPropertyDescriptor;Object.getOwnPropertyDescriptor=function(e,t){if(e!==Object(e))throw new TypeError;try{return o.call(Object,e,t)}catch(r){}return Object.prototype.hasOwnProperty.call(e,t)?{value:e[t],enumerable:!0,writable:!0,configurable:!0}:void 0}}return Object.getOwnPropertyDescriptor},this.qoopido=this.qoopido||{}),function(e,t,r){"use strict";function n(e,n,o,c){var l,p=e.split("/");return a[e]?a[e]:(l=function(){if(o)for(var l,f,d=p.slice(0,-1).join("/"),m=0;(l=o[m])!==r;m++)f=u.test(l),f&&(l=i(d+"/"+l)),!a[l]&&arguments[m]&&(a[l]=arguments[m]),f&&!a[l]&&"undefined"!=typeof console&&console.error("".concat("[Qoopido.js] ",e,": Could not load dependency ",l));return a[e]=n(a,s,t,r),c&&c(a[e]),a[e]},void("undefined"!=typeof module&&module.exports?module.exports=define(l):"function"==typeof define&&define.amd?o?define(o,l):define(l):l()))}function o(e,t,r){n(e,t,r,function(t){a[e]=t.create()})}function i(e){for(var t;(t=e.replace(p,""))!==e;)e=t;return e.replace(f,"")}var c=t.qoopido||(t.qoopido={}),s=c.shared||(c.shared={}),a=c.modules||(c.modules={}),l=[],u=new RegExp("^\\.+\\/"),p=new RegExp("(?:\\/|)[^\\/]*\\/\\.\\."),f=new RegExp("(^\\/)|\\.\\/","g");c.register=n,c.registerSingleton=o,Object.create||l.push("./polyfill/object/create"),Object.getOwnPropertyNames||l.push("./polyfill/object/getownpropertynames"),Object.getOwnPropertyDescriptor&&function(){try{return Object.getOwnPropertyDescriptor({x:0},"x"),!0}catch(e){return!1}}()||l.push("./polyfill/object/getownpropertydescriptor"),n("base",e,l)}(function(e,t,r,n){"use strict";function o(e){for(var t,r={},o=Object.getOwnPropertyNames(e),i=0;(t=o[i])!==n;i++)r[t]=Object.getOwnPropertyDescriptor(e,t);return r}function i(){throw new Error("[Qoopido.js] Operation prohibited")}return{create:function(){var e,t=Object.create(this,o(this));return t._constructor&&(e=t._constructor.apply(t,arguments)),t.create=t.extend=i,e||t},extend:function(e,t){var r;return e=e||{},t=t===!0,e._parent=this,r=Object.create(this,o(e)),t===!0&&(r.extend=i),r}}},this),function(e,t){t.qoopido.register("polyfill/window/getcomputedstyle",e)}(function(e,t,r,n){"use strict";if(r.getComputedStyle)return r.getComputedStyle;var o=new RegExp("(\\-([a-z]){1})","g"),i=function(){return arguments[2].toUpperCase()};return function(e,t){var r=this;return r.getPropertyValue=function(t){return"float"===t&&(t="styleFloat"),o.test(t)&&(t=t.replace(o,i)),e.currentStyle[t]||null},r}},this),function(e,t){var r=[];t.getComputedStyle||r.push("polyfill/window/getcomputedstyle"),Array.prototype.indexOf||r.push("../array/indexof"),t.qoopido.register("polyfill/window/matchmedia",e,r)}(function(e,t,r,n){"use strict";function o(){var e=r.innerWidth||d.clientWidth,t=r.innerHeight||d.clientHeight,n=r.screen.width,o=r.screen.height,i=r.screen.colorDepth,c=r.devicePixelRatio;y.width=e,y.height=t,y["aspect-ratio"]=(e/t).toFixed(2),y.color=i,y["color-index"]=Math.pow(2,i),y["device-aspect-ratio"]=(n/o).toFixed(2),y["device-height"]=o,y["device-width"]=n,y["device-pixel-ratio"]=c||1,y.resolution=c&&96*c||r.screen.deviceXDPI||96,y.orientation=t>=e?"portrait":"landscape"}function i(e){var t,r,o={matches:!1,media:e,addListener:function(e){e&&r.push(e)},removeListener:function(e){for(var t,o=0;(t=r[o])!==n;o++)t===e&&r.splice(o,1)}};return o.matches=""===e?!0:c(e),m.push({mql:o,listeners:[]}),t=m.length-1,h[e]=t,r=m[t].listeners,o}function c(e){var t=-1!==e.indexOf(",")&&e.split(",")||[e],r=t.length-1,n=r,o=null,i=null,c="",s=0,a=!1,l="",u="",p=null,f=0,d=0,m=null,h="",b="",w="",O="",j="",v=!1;if(""===e)return!0;do if(o=t[n-r],a=!1,i=o.match(g.type),i&&(c=i[0],s=i.index),!i||-1===o.substring(0,s).indexOf("(")&&(s||!i[3]&&c!==i.input))v=!1;else{if(u=o,a="not"===i[1],s||(l=i[2],u=o.substring(c.length)),v=l===y.type||"all"===l||""===l,p=-1!==u.indexOf(" and ")&&u.split(" and ")||[u],f=p.length-1,d=f,v&&f>=0&&""!==u)do{if(m=p[f].match(g.media),!m||!y[m[3]]){v=!1;break}if(h=m[2],b=m[5],O=b,w=m[7],j=y[m[3]],w&&(O="px"===w?Number(b):"em"===w||"rem"===w?16*b:m[8]?(b/m[8]).toFixed(2):"dppx"===w?96*b:"dpcm"===w?.3937*b:Number(b)),v="min-"===h&&O?j>=O:"max-"===h&&O?O>=j:O?j===O:!!j,!v)break}while(f--);if(v)break}while(r--);return a?!v:v}function s(){var e,t,i=!1,s=0,a=0;if(m.length>0)for(o();(e=m[s])!==n;s++)if(i=c(e.mql.media),(i&&!e.mql.matches||!i&&e.mql.matches)&&(e.mql.matches=i,e.listeners))for(;(t=e.listeners[a])!==n;a++)t.call(r,e.mql)}function a(){r.clearTimeout(u),u=r.setTimeout(s,10)}function l(){var t,o=f.getElementsByTagName("script")[0],i=f.createElement("style"),c=["screen","print","speech","projection","handheld","tv","braille","embossed","tty"],s="#"+p+" { position: relative; z-index: 0; }",l="",u=r.addEventListener||(l="on")&&r.attachEvent,d=0;for(i.type="text/css",i.id=p,o.parentNode.insertBefore(i,o);(t=c[d])!==n;d++)s+="@media "+t+" { #"+p+" { position: relative; z-index: "+d+" } }";i.styleSheet?i.styleSheet.cssText=s:i.textContent=s,y.type=c[1*(r.getComputedStyle||e["polyfill/window/getcomputedstyle"])(i).zIndex||0],i.parentNode.removeChild(i),u(l+"resize",a),u(l+"orientationchange",a)}var u,p="qoopidoPolyfillWindowMatchmedia",f=r.document,d=f.documentElement,m=[],h={},y={},g={type:/\s*(only|not)?\s*(screen|print|[a-z\-]+)\s*(and)?\s*/i,media:/^\s*\(\s*(-[a-z]+-)?(min-|max-)?([a-z\-]+)\s*(:?\s*([0-9]+(\.[0-9]+)?|portrait|landscape)(px|em|dppx|dpcm|rem|%|in|cm|mm|ex|pt|pc|\/([0-9]+(\.[0-9]+)?))?)?\s*\)\s*$/};return r.matchMedia||(l(),o(),r.matchMedia=function(e){var t=h[e]||!1;return t===!1?i(e):m[t].mql}),r.matchMedia},this),function(e,t){t.qoopido.register("emitter",e,["./base"])}(function(e,t,r,n){"use strict";function o(e,t){var r=t.charAt(0).toUpperCase()+t.slice(1);return e._mapped[t]=e[t],function(){var n,o=Array.prototype.slice.call(arguments);return e.emit.apply(e,["pre"+r,o]),n=e._mapped[t].apply(e,o),e.emit.apply(e,["post"+r,o,n]),n}}var i=/^(_|extend$|create$|on$|one$|off$|emit$|get.+)/;return e.base.extend({_mapped:null,_listener:null,_temp:null,_constructor:function(){var e,t=this;t._mapped={},t._listener={};for(e in t)"function"==typeof t[e]&&i.test(e)===!1&&(t[e]=o(t,e));return t},on:function(e,t){var r,o=this,i=0;for(e=e.split(" ");(r=e[i])!==n;i++)(o._listener[r]=o._listener[r]||[]).push(t);return o},one:function(e,t,r){r=r!==!1;var n=this;return n.on(e,function o(i){n.off(r===!0?i:e,o),t.apply(this,arguments)}),n},off:function(e,t){var r,o,i,c=this,s=0;if(e)for(e=e.split(" ");(r=e[s])!==n;s++)if(c._listener[r]=c._listener[r]||[],t)for(o=0;(i=c._listener[r][o])!==n;o++)i===t&&(c._listener[r].splice(o,1),o--);else c._listener[r].length=0;else for(r in c._listener)c._listener[r].length=0;return c},emit:function(e){var t,r=this,o=0;if(e!==n){for(r._listener[e]=r._listener[e]||[],r._temp=r._listener[e].slice();(t=r._temp[o])!==n;o++)t.apply(r,arguments);r._temp.length=0}return r}})},this),function(e,t){var r=["../emitter"];t.matchMedia||r.push("../polyfill/window/matchmedia"),t.qoopido.register("component/sense",e,r)}(function(e,t,r,n){"use strict";function o(){var e=this,t=e.mql;e.emit(t.matches===!0?"matched":"dematched")}var i,c={};return i=e.emitter.extend({mql:null,_constructor:function(e){var t=i._parent._constructor.call(this),n=t.mql=c[e]||(c[e]=r.matchMedia(e)),s=function(){o.call(t)};return n.addListener(s),r.setTimeout(s,0),t},matches:function(){return this.mql.matches}})},this),function(e,t){t.qoopido.registerSingleton("component/remux",e,["../emitter","./sense"])}(function(e,t,r,n){"use strict";function o(e,t){var n=this;return e&&t&&(s.className=e,s.style.fontSize=t+"px",l.layout=e,l.fontsize=t,(u.fontsize!==l.fontsize||u.layout!==l.layout)&&(l.ratio.device=r.devicePixelRatio||1,l.ratio.fontsize=l.fontsize/a,l.ratio.total=l.ratio.device*l.ratio.fontsize,u.layout!==l.layout&&n.emit("layoutchanged",l),u.fontsize!==l.fontsize&&n.emit("fontsizechanged",l),n.emit("statechanged",l),u.fontsize=l.fontsize,u.layout=l.layout)),n}function i(t,n,i){var c=this;r.setTimeout(function(){e["component/sense"].create(t).on("matched",function(){o.call(c,n,i)})},0)}var c,s=document.getElementsByTagName("html")[0],a=16,l={fontsize:null,layout:null,ratio:{}},u={fontsize:null,layout:null};return c=e.emitter.extend({_constructor:function(){var e=c._parent._constructor.call(this),t=parseInt(s.getAttribute("data-base"),10);return isNaN(t)===!1&&(a=t),e},getState:function(){return l},getLayout:function(){return l.layout},getFontsize:function(){return l.fontsize},setLayout:function(e,t){var r=this;return o.call(r,e,t),r},addLayout:function(e,t){var r,n,o,c,s,l,u,p,f=this;arguments.length>1?(r={},r[e]=t):r=arguments[0];for(n in r)for(o=r[n],c=o.min;c<=o.max;c++)u=Math.round(o.width*(c/a)),p=Math.round(o.width*((c+1)/a))-1,i.call(f,"screen and (min-width: "+u+"px) and (max-width: "+p+"px )",n,c),s=!s||u<s.width?{width:u,fontsize:c,layout:n}:s,l=!l||p>=l.width?{width:p,fontsize:c,layout:n}:l;return i.call(f,"screen and (max-width: "+(s.width-1)+"px)",s.layout,s.fontsize),i.call(f,"screen and (min-width: "+(l.width+1)+"px)",l.layout,l.fontsize),f}})},this);