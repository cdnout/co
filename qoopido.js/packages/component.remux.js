/*! Qoopido.js library 3.7.4, 2015-08-14 | https://github.com/dlueth/qoopido.js | (c) 2015 Dirk Lueth */
!function(e,t,n){"use strict";function i(e,i,r,a){var l,d=e.split("/");return c[e]?c[e]:(l=function(){if(r)for(var l,p,f=d.slice(0,-1).join("/"),m=0;(l=r[m])!==n;m++)p=u.test(l),p&&(l=o(f+"/"+l)),!c[l]&&arguments[m]&&(c[l]=arguments[m]),p&&!c[l]&&"undefined"!=typeof console&&console.error("".concat("[Qoopido.js] ",e,": Could not load dependency ",l));return c[e]=i(c,s,t,n),a&&a(c[e]),c[e]},void("undefined"!=typeof module&&module.exports?module.exports=define(l):"function"==typeof define&&define.amd?r?define(r,l):define(l):l()))}function r(e,t,n){i(e,t,n,function(t){c[e]=t.create()})}function o(e){for(var t;(t=e.replace(d,""))!==e;)e=t;return e.replace(p,"")}var a=t.qoopido||(t.qoopido={}),s=a.shared||(a.shared={}),c=a.modules||(a.modules={}),l=[],u=new RegExp("^\\.+\\/"),d=new RegExp("(?:\\/|)[^\\/]*\\/\\.\\."),p=new RegExp("(^\\/)|\\.\\/","g");a.register=i,a.registerSingleton=r,Object.create||l.push("./polyfill/object/create"),Object.getOwnPropertyNames||l.push("./polyfill/object/getownpropertynames"),Object.getOwnPropertyDescriptor&&function(){try{return Object.getOwnPropertyDescriptor({x:0},"x"),!0}catch(e){return!1}}()||l.push("./polyfill/object/getownpropertydescriptor"),i("base",e,l)}(function(e,t,n,i){"use strict";function r(e){for(var t,n={},r=Object.getOwnPropertyNames(e),o=0;(t=r[o])!==i;o++)n[t]=Object.getOwnPropertyDescriptor(e,t);return n}function o(){throw new Error("[Qoopido.js] Operation prohibited")}return{create:function(){var e,t=Object.create(this,r(this));return t._constructor&&(e=t._constructor.apply(t,arguments)),t.create=t.extend=o,e||t},extend:function(e,t){var n;return e=e||{},t=t===!0,e._parent=this,n=Object.create(this,r(e)),t===!0&&(n.extend=o),n}}},this),function(e,t){var n=[];t.getComputedStyle||n.push("polyfill/window/getcomputedstyle"),Array.prototype.indexOf||n.push("../array/indexof"),t.qoopido.register("polyfill/window/matchmedia",e,n)}(function(e,t,n,i){"use strict";function r(){var e=n.innerWidth||f.clientWidth,t=n.innerHeight||f.clientHeight,i=n.screen.width,r=n.screen.height,o=n.screen.colorDepth,a=n.devicePixelRatio;y.width=e,y.height=t,y["aspect-ratio"]=(e/t).toFixed(2),y.color=o,y["color-index"]=Math.pow(2,o),y["device-aspect-ratio"]=(i/r).toFixed(2),y["device-height"]=r,y["device-width"]=i,y["device-pixel-ratio"]=a||1,y.resolution=a&&96*a||n.screen.deviceXDPI||96,y.orientation=t>=e?"portrait":"landscape"}function o(e){var t,n,r={matches:!1,media:e,addListener:function(e){e&&n.push(e)},removeListener:function(e){for(var t,r=0;(t=n[r])!==i;r++)t===e&&n.splice(r,1)}};return r.matches=""===e?!0:a(e),m.push({mql:r,listeners:[]}),t=m.length-1,h[e]=t,n=m[t].listeners,r}function a(e){var t=-1!==e.indexOf(",")&&e.split(",")||[e],n=t.length-1,i=n,r=null,o=null,a="",s=0,c=!1,l="",u="",d=null,p=0,f=0,m=null,h="",v="",x="",w="",_="",z=!1;if(""===e)return!0;do if(r=t[i-n],c=!1,o=r.match(g.type),o&&(a=o[0],s=o.index),!o||-1===r.substring(0,s).indexOf("(")&&(s||!o[3]&&a!==o.input))z=!1;else{if(u=r,c="not"===o[1],s||(l=o[2],u=r.substring(a.length)),z=l===y.type||"all"===l||""===l,d=-1!==u.indexOf(" and ")&&u.split(" and ")||[u],p=d.length-1,f=p,z&&p>=0&&""!==u)do{if(m=d[p].match(g.media),!m||!y[m[3]]){z=!1;break}if(h=m[2],v=m[5],w=v,x=m[7],_=y[m[3]],x&&(w="px"===x?Number(v):"em"===x||"rem"===x?16*v:m[8]?(v/m[8]).toFixed(2):"dppx"===x?96*v:"dpcm"===x?.3937*v:Number(v)),z="min-"===h&&w?_>=w:"max-"===h&&w?w>=_:w?_===w:!!_,!z)break}while(p--);if(z)break}while(n--);return c?!z:z}function s(){var e,t,o=!1,s=0,c=0;if(m.length>0)for(r();(e=m[s])!==i;s++)if(o=a(e.mql.media),(o&&!e.mql.matches||!o&&e.mql.matches)&&(e.mql.matches=o,e.listeners))for(;(t=e.listeners[c])!==i;c++)t.call(n,e.mql)}function c(){n.clearTimeout(u),u=n.setTimeout(s,10)}function l(){var t,r=p.getElementsByTagName("script")[0],o=p.createElement("style"),a=["screen","print","speech","projection","handheld","tv","braille","embossed","tty"],s="#"+d+" { position: relative; z-index: 0; }",l="",u=n.addEventListener||(l="on")&&n.attachEvent,f=0;for(o.type="text/css",o.id=d,r.parentNode.insertBefore(o,r);(t=a[f])!==i;f++)s+="@media "+t+" { #"+d+" { position: relative; z-index: "+f+" } }";o.styleSheet?o.styleSheet.cssText=s:o.textContent=s,y.type=a[1*(n.getComputedStyle||e["polyfill/window/getcomputedstyle"])(o).zIndex||0],o.parentNode.removeChild(o),u(l+"resize",c),u(l+"orientationchange",c)}var u,d="qoopidoPolyfillWindowMatchmedia",p=n.document,f=p.documentElement,m=[],h={},y={},g={type:/\s*(only|not)?\s*(screen|print|[a-z\-]+)\s*(and)?\s*/i,media:/^\s*\(\s*(-[a-z]+-)?(min-|max-)?([a-z\-]+)\s*(:?\s*([0-9]+(\.[0-9]+)?|portrait|landscape)(px|em|dppx|dpcm|rem|%|in|cm|mm|ex|pt|pc|\/([0-9]+(\.[0-9]+)?))?)?\s*\)\s*$/};return n.matchMedia||(l(),r(),n.matchMedia=function(e){var t=h[e]||!1;return t===!1?o(e):m[t].mql}),n.matchMedia},this),function(e,t){t.qoopido.register("emitter",e,["./base"])}(function(e,t,n,i){"use strict";function r(e,t){var n=t.charAt(0).toUpperCase()+t.slice(1);return e._mapped[t]=e[t],function(){var i,r=Array.prototype.slice.call(arguments);return e.emit.apply(e,["pre"+n,r]),i=e._mapped[t].apply(e,r),e.emit.apply(e,["post"+n,r,i]),i}}var o=/^(_|extend$|create$|on$|one$|off$|emit$|get.+)/;return e.base.extend({_mapped:null,_listener:null,_temp:null,_constructor:function(){var e,t=this;t._mapped={},t._listener={};for(e in t)"function"==typeof t[e]&&o.test(e)===!1&&(t[e]=r(t,e));return t},on:function(e,t){var n,r=this,o=0;for(e=e.split(" ");(n=e[o])!==i;o++)(r._listener[n]=r._listener[n]||[]).push(t);return r},one:function(e,t,n){n=n!==!1;var i=this;return i.on(e,function r(o){i.off(n===!0?o:e,r),t.apply(this,arguments)}),i},off:function(e,t){var n,r,o,a=this,s=0;if(e)for(e=e.split(" ");(n=e[s])!==i;s++)if(a._listener[n]=a._listener[n]||[],t)for(r=0;(o=a._listener[n][r])!==i;r++)o===t&&(a._listener[n].splice(r,1),r--);else a._listener[n].length=0;else for(n in a._listener)a._listener[n].length=0;return a},emit:function(e){var t,n=this,r=0;if(e!==i){for(n._listener[e]=n._listener[e]||[],n._temp=n._listener[e].slice();(t=n._temp[r])!==i;r++)t.apply(n,arguments);n._temp.length=0}return n}})},this),function(e,t){var n=["../emitter"];t.matchMedia||n.push("../polyfill/window/matchmedia"),t.qoopido.register("component/sense",e,n)}(function(e,t,n,i){"use strict";function r(){var e=this,t=e.mql;e.emit(t.matches===!0?"matched":"dematched")}var o,a={};return o=e.emitter.extend({mql:null,_constructor:function(e){var t=o._parent._constructor.call(this),i=t.mql=a[e]||(a[e]=n.matchMedia(e)),s=function(){r.call(t)};return i.addListener(s),n.setTimeout(s,0),t},matches:function(){return this.mql.matches}})},this),function(e,t){t.qoopido.registerSingleton("component/remux",e,["../emitter","./sense"])}(function(e,t,n,i){"use strict";function r(e,t){var i=this;return e&&t&&(s.className=e,s.style.fontSize=t+"px",l.layout=e,l.fontsize=t,(u.fontsize!==l.fontsize||u.layout!==l.layout)&&(l.ratio.device=n.devicePixelRatio||1,l.ratio.fontsize=l.fontsize/c,l.ratio.total=l.ratio.device*l.ratio.fontsize,u.layout!==l.layout&&i.emit("layoutchanged",l),u.fontsize!==l.fontsize&&i.emit("fontsizechanged",l),i.emit("statechanged",l),u.fontsize=l.fontsize,u.layout=l.layout)),i}function o(t,i,o){var a=this;n.setTimeout(function(){e["component/sense"].create(t).on("matched",function(){r.call(a,i,o)})},0)}var a,s=document.getElementsByTagName("html")[0],c=16,l={fontsize:null,layout:null,ratio:{}},u={fontsize:null,layout:null};return a=e.emitter.extend({_constructor:function(){var e=a._parent._constructor.call(this),t=parseInt(s.getAttribute("data-base"),10);return isNaN(t)===!1&&(c=t),e},getState:function(){return l},getLayout:function(){return l.layout},getFontsize:function(){return l.fontsize},setLayout:function(e,t){var n=this;return r.call(n,e,t),n},addLayout:function(e,t){var n,i,r,a,s,l,u,d,p=this;arguments.length>1?(n={},n[e]=t):n=arguments[0];for(i in n)for(r=n[i],a=r.min;a<=r.max;a++)u=Math.round(r.width*(a/c)),d=Math.round(r.width*((a+1)/c))-1,o.call(p,"screen and (min-width: "+u+"px) and (max-width: "+d+"px )",i,a),s=!s||u<s.width?{width:u,fontsize:a,layout:i}:s,l=!l||d>=l.width?{width:d,fontsize:a,layout:i}:l;return o.call(p,"screen and (max-width: "+(s.width-1)+"px)",s.layout,s.fontsize),o.call(p,"screen and (min-width: "+(l.width+1)+"px)",l.layout,l.fontsize),p}})},this);