/*! Qoopido.js library 3.7.4, 2015-08-14 | https://github.com/dlueth/qoopido.js | (c) 2015 Dirk Lueth */
!function(t,n){n.qoopido.registerSingleton("component/remux",t,["../emitter","./sense"])}(function(t,n,e,i){"use strict";function o(t,n){var i=this;return t&&n&&(r.className=t,r.style.fontSize=n+"px",l.layout=t,l.fontsize=n,(c.fontsize!==l.fontsize||c.layout!==l.layout)&&(l.ratio.device=e.devicePixelRatio||1,l.ratio.fontsize=l.fontsize/s,l.ratio.total=l.ratio.device*l.ratio.fontsize,c.layout!==l.layout&&i.emit("layoutchanged",l),c.fontsize!==l.fontsize&&i.emit("fontsizechanged",l),i.emit("statechanged",l),c.fontsize=l.fontsize,c.layout=l.layout)),i}function a(n,i,a){var u=this;e.setTimeout(function(){t["component/sense"].create(n).on("matched",function(){o.call(u,i,a)})},0)}var u,r=document.getElementsByTagName("html")[0],s=16,l={fontsize:null,layout:null,ratio:{}},c={fontsize:null,layout:null};return u=t.emitter.extend({_constructor:function(){var t=u._parent._constructor.call(this),n=parseInt(r.getAttribute("data-base"),10);return isNaN(n)===!1&&(s=n),t},getState:function(){return l},getLayout:function(){return l.layout},getFontsize:function(){return l.fontsize},setLayout:function(t,n){var e=this;return o.call(e,t,n),e},addLayout:function(t,n){var e,i,o,u,r,l,c,f,d=this;arguments.length>1?(e={},e[t]=n):e=arguments[0];for(i in e)for(o=e[i],u=o.min;u<=o.max;u++)c=Math.round(o.width*(u/s)),f=Math.round(o.width*((u+1)/s))-1,a.call(d,"screen and (min-width: "+c+"px) and (max-width: "+f+"px )",i,u),r=!r||c<r.width?{width:c,fontsize:u,layout:i}:r,l=!l||f>=l.width?{width:f,fontsize:u,layout:i}:l;return a.call(d,"screen and (max-width: "+(r.width-1)+"px)",r.layout,r.fontsize),a.call(d,"screen and (min-width: "+(l.width+1)+"px)",l.layout,l.fontsize),d}})},this);