/*! Qoopido.js library 3.7.4, 2015-08-14 | https://github.com/dlueth/qoopido.js | (c) 2015 Dirk Lueth */
!function(e,t){t.qoopido.registerSingleton("renderer",e,["./emitter","./support","./dom/element"])}(function(e,t,i,n){"use strict";function r(e){return i.setTimeout(e,w)}function a(){var e=this;p[k]?m&&(c=(new Date).getTime(),e.paused=!0,T(m),m=null,e.emit("suspend")):m||(e.paused=!1,c&&(u=(new Date).getTime()-c,d+=u,s+=u,e.emit("resume",u)),e._tick())}var o,c,u,m,s,l,d,g,p=i.document,f=e.support,h=e["dom/element"].create(p),_=i[f.getMethod("requestAnimationFrame")]||r,T=i[f.getMethod("cancelAnimationFrame")]||clearTimeout,k=f.getProperty("hidden",p),v=60,w=1e3/v,D=0;return o=e.emitter.extend({framerate:0,ratio:1,paused:!1,_tick:null,_constructor:function(){var e=o._parent._constructor.call(this);return s=d=(new Date).getTime(),e._tick=function(){e.paused===!1&&(l=(new Date).getTime(),g=l-s,e.ratio=(l-d)/w,e.framerate=v/e.ratio,g>=1e3&&(s=l,D=0),d=l,D+=1,e.emit("tick",e.framerate,e.ratio),m=_(e._tick))},h.on("".concat("visibilitychange ",f.getPrefix()[0],"visibilitychange"),function(){a.call(e)}),a.call(e),e}})},this);