/*! Qoopido.js library 3.7.4, 2015-08-14 | https://github.com/dlueth/qoopido.js | (c) 2015 Dirk Lueth */
!function(e,t){var r=["./base","./promise/all","./promise/defer"];String.prototype.ucfirst||r.push("./polyfill/string/ucfirst"),String.prototype.lcfirst||r.push("./polyfill/string/lcfirst"),t.qoopido.registerSingleton("support",e,r)}(function(e,t,r,s){"use strict";function o(e){return e.replace(u,"$1").lcfirst().replace(f,"").replace(a,m)}var i=r.document,p=e["promise/all"],n=e["promise/defer"],l=new RegExp("^(Moz|WebKit|Khtml|ms|O|Icab)(?=[A-Z])"),u=new RegExp("^(?:webkit|khtml|icab|moz|ms|o)([A-Z])"),f=new RegExp("^-(?:webkit|khtml|icab|moz|ms|o)-"),a=new RegExp("-([a-z])","gi"),c=new RegExp("([A-Z])","g"),m=function(){return arguments[1].ucfirst()},h={prefix:null,method:{},property:{},css:{},promises:{prefix:null,method:{},property:{},css:{},test:{}}};return e.base.extend({test:{},pool:t.pool&&t.pool.dom,testMultiple:function(){for(var e,t=[],r=0;(e=arguments[r])!==s;r++)switch(typeof e){case"string":t.push(this.test[e]());break;case"boolean":var o=new n;e?o.resolve():o.reject(),t.push(o.promise);break;default:t.push(e)}return new p(t)},getPrefix:function(){var e,t=this,r=h.prefix||null;if(null===r){var s=t.pool?t.pool.obtain("div"):i.createElement("div"),o=s.style;r=!1;for(e in o)l.test(e)&&(r=e.match(l)[0]);r===!1&&"WebkitOpacity"in o&&(r="WebKit"),r===!1&&"KhtmlOpacity"in o&&(r="Khtml"),r=h.prefix=r===!1?!1:[r.toLowerCase(),r.toLowerCase().ucfirst(),r],s.dispose&&s.dispose()}return r},getMethod:function(e,t){e=o(e),t=t||r;var i=t.tagName,p=h.method[i]=h.method[i]||{},n=p[e]=h.method[i][e]||null;if(null===n){n=!1;var l,u,f=0,a=e.ucfirst(),c=this.getPrefix();for(l=c!==!1?(e+" "+a+" "+c.join(a+" ")+a).split(" "):[e];(u=l[f])!==s;f++)if(t[u]!==s&&("function"==typeof t[u]||"object"==typeof t[u])){n=u;break}h.method[i][e]=n}return n},getProperty:function(e,t){e=o(e),t=t||r;var i=t.tagName,p=h.property[i]=h.property[i]||{},n=p[e]=h.property[i][e]||null;if(null===n){n=!1;var l,u,f=0,a=e.ucfirst(),c=this.getPrefix();for(l=c!==!1?(e+" "+a+" "+c.join(a+" ")+a).split(" "):[e],f;(u=l[f])!==s;f++)if(t[u]!==s){n=u;break}h.property[i][e]=n}return n},getCssProperty:function(e){e=o(e);var t=this,r=h.css[e]||null;if(null===r){r=!1;var p,n=0,l=t.pool?t.pool.obtain("div"):i.createElement("div"),u=e.ucfirst(),f=this.getPrefix()||[],a=(e+" "+u+" "+f.join(u+" ")+u).split(" "),m="";for(n;(p=a[n])!==s;n++)if(l.style[p]!==s){r=p,n>0&&(m="-");break}r=h.css[e]=r!==!1?[m+r.replace(c,"-$1").toLowerCase(),r]:!1,l.dispose&&l.dispose()}return r},supportsPrefix:function(){return!!this.getPrefix()},supportsMethod:function(e,t){return!!this.getMethod(e,t)},supportsProperty:function(e,t){return!!this.getProperty(e,t)},supportsCssProperty:function(e){return!!this.getCssProperty(e)},testPrefix:function(){var e=h.promises.prefix;if(null===e){var t=new n,r=this.getPrefix();r?t.resolve(r):t.reject(),e=h.promises.prefix=t.promise}return e},testMethod:function(e,t){t=t||r;var s=t.tagName,o=h.promises.method[s]=h.promises.method[s]||{},i=o[e]=h.promises.method[s][e]||null;if(null===i){var p=new n,l=this.getMethod(e,t);l?p.resolve(l):p.reject(),i=h.promises.method[s][e]=p.promise}return i},testProperty:function(e,t){t=t||r;var s=t.tagName,o=h.promises.property[s]=h.promises.property[s]||{},i=o[e]=h.promises.property[s][e]||null;if(null===i){var p=new n,l=this.getProperty(e,t);l?p.resolve(l):p.reject(),i=h.promises.property[s][e]=p.promise}return i},testCssProperty:function(e){var t=h.promises.css[e]||null;if(null===t){var r=new n,s=this.getCssProperty(e);s?r.resolve(s):r.reject(),t=h.promises.css[e]=r.promise}return t},addTest:function(e,t){return this.test[e]=function(){var r=h.promises.test[e]||null;if(null===r){var s=new n,o=Array.prototype.slice.call(arguments);o.splice(0,0,s),t.apply(null,o),r=h.promises.test[e]=s.promise}return r}}})},this);