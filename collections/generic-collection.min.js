"use strict";function GenericCollection(){throw new Error("Can't construct. GenericCollection is a mixin.")}module.exports=GenericCollection;var DOMTokenList=global.DOMTokenList||function(){};GenericCollection.EmptyArray=Object.freeze([]),GenericCollection.prototype.addEach=function(t,n,o){if(t&&(t instanceof Array||t instanceof DOMTokenList||t instanceof String))if(n)for(var e=0;e<t.length;e++)this.add(n.call(o,t[e]),e);else for(e=0;e<t.length;e++)this.add(t[e],e);else if(t&&Object(t)===t)if("function"==typeof t.forEach)n?t.map(n,o).forEach(this.add,this):t.forEach(this.add,this);else if("function"==typeof t.next){var r,e=0;if(n)for(;r=t.next().value;)this.add(n.call(o,r),e++);else for(;r=t.next().value;)this.add(r,e++)}else if("number"==typeof t.length)if(n)for(e=0;e<t.length;e++)this.add(n.call(o,t[e]),e);else for(e=0;e<t.length;e++)this.add(t[e],e);else n?Object.keys(t).forEach(function(e){this.add(n.call(o,t[e]),e)},this):Object.keys(t).forEach(function(e){this.add(t[e],e)},this);return this},GenericCollection.prototype.deleteEach=function(e,t){return e.forEach(function(e){this.delete(e,t)},this),this},GenericCollection.prototype.forEach=function(i){var c=arguments[1];return this.reduce(function(e,t,n,o,r){i.call(c,t,n,o,r)},void 0)},GenericCollection.prototype.map=function(i){var c=arguments[1],l=[];return this.reduce(function(e,t,n,o,r){l.push(i.call(c,t,n,o,r))},void 0),l},GenericCollection.prototype.enumerate=function(n){null==n&&(n=0);var o=[];return this.reduce(function(e,t){o.push([n++,t])},void 0),o},GenericCollection.prototype.group=function(i,c,l){l=l||Object.equals;var u=[],s=[];return this.forEach(function(e,t,n){var o,t=i.call(c,e,t,n),r=s.indexOf(t,l);-1===r?(o=[],u.push([t,o]),s.push(t)):o=u[r][1],o.push(e)}),u},GenericCollection.prototype.toArray=function(){return this.map(Function.identity)},GenericCollection.prototype.toObject=function(){var o={};return this.reduce(function(e,t,n){o[n]=t},void 0),o},GenericCollection.from=function(){return this.apply(this,arguments)},GenericCollection.prototype.filter=function(i){var c=arguments[1],l=this.constructClone();return this.reduce(function(e,t,n,o,r){i.call(c,t,n,o,r)&&l.add(t,n)},void 0),l},GenericCollection.prototype.every=function(i){var c=arguments[1];return this.reduce(function(e,t,n,o,r){return e&&i.call(c,t,n,o,r)},!0)},GenericCollection.prototype.some=function(i){var c=arguments[1];return this.reduce(function(e,t,n,o,r){return e||i.call(c,t,n,o,r)},!1)},GenericCollection.prototype.all=function(){return this.every(Boolean)},GenericCollection.prototype.any=function(){return this.some(Boolean)},GenericCollection.prototype.min=function(n){n=n||this.contentCompare||Object.compare;var o=!0;return this.reduce(function(e,t){return o?(o=!1,t):n(t,e)<0?t:e},void 0)},GenericCollection.prototype.max=function(n){n=n||this.contentCompare||Object.compare;var o=!0;return this.reduce(function(e,t){return o?(o=!1,t):0<n(t,e)?t:e},void 0)},GenericCollection.prototype.sum=function(e){return e=void 0===e?0:e,this.reduce(function(e,t){return e+t},e)},GenericCollection.prototype.average=function(e){var n=void 0===e?0:e,o=void 0===e?0:e;return this.reduce(function(e,t){n+=t,o+=1},void 0),n/o},GenericCollection.prototype.concat=function(){for(var e=this.constructClone(this),t=0;t<arguments.length;t++)e.addEach(arguments[t]);return e},GenericCollection.prototype.flatten=function(){var n=this;return this.reduce(function(e,t){return t.forEach(function(e){this.push(e)},e,n),e},[])},GenericCollection.prototype.zip=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(this),Array.unzip(e)},GenericCollection.prototype.join=function(n){return this.reduce(function(e,t){return void 0===e?t:e+n+t},void 0)},GenericCollection.prototype.sorted=function(n,t,o){return(n=n||this.contentCompare||Object.compare).by?(t=n.by,n=n.compare||this.contentCompare||Object.compare):t=t||Function.identity,void 0===o&&(o=1),this.map(function(e){return{by:t(e),value:e}}).sort(function(e,t){return n(e.by,t.by)*o}).map(function(e){return e.value})},GenericCollection.prototype.reversed=function(){return this.constructClone(this).reverse()},GenericCollection.prototype.clone=function(n,o){if(void 0===n)n=1/0;else if(0===n)return this;var r=this.constructClone();return this.forEach(function(e,t){r.add(Object.clone(e,n-1,o),t)},this),r},GenericCollection.prototype.only=function(){if(1===this.length)return this.one()},GenericCollection.prototype.iterator=function(){return this.iterate.apply(this,arguments)},GenericCollection._sizePropertyDescriptor={get:function(){return this.length},enumerable:!1,configurable:!0},Object.defineProperty(GenericCollection.prototype,"size",GenericCollection._sizePropertyDescriptor),require("./shim-array");