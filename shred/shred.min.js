var Ax=require("ax"),CookieJarLib=require("cookiejar"),CookieJar=CookieJarLib.CookieJar,Shred=function(e){e=e||{},this.agent=e.agent,this.defaults=e.defaults||{},this.log=e.logger||new Ax({level:"info"}),this._sharedCookieJar=new CookieJar,this.logCurl=e.logCurl||!1};Shred.Request=require("./shred/request"),Shred.Response=require("./shred/response"),Shred.registerProcessor=require("./shred/content").registerProcessor,Shred.prototype={request:function(e){e.logger=e.logger||this.log,e.logCurl=e.logCurl||this.logCurl,e.cookieJar="cookieJar"in e?e.cookieJar:this._sharedCookieJar,e.agent=e.agent||this.agent;for(var r in this.defaults)this.defaults.hasOwnProperty(r)&&!e[r]&&(e[r]=this.defaults[r]);return new Shred.Request(e)}},"get put post delete".split(" ").forEach(function(e){Shred.prototype[e]=function(r){return r.method=e,this.request(r)}}),module.exports=Shred;