!function(){"use strict";function a(e,t){if(void 0===t.series&&(t.series=[]),d(e))for(var r=0;r<e.length;r++)t.series[r]?t.series[r].values=e[r]:t.series.push({values:e[r]});else t.series[0]?t.series[0].values=e:t.series.push({values:e});return t}function c(e,t){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])}function d(e){return Array.isArray(e[0])}angular.module("zingchart-angularjs",[]).directive("zingchart",[function(){var e=1;return{restrict:"EA",scope:{id:"@",zcValues:"=",zcJson:"=",zcRender:"="},controller:["$scope","$element","$attrs",function(r,s,i){var t;i.id?-1<i.id.indexOf("{{")?(t=r.id,s.attr("id",t)):t=i.id:(t="zingchart-auto-"+e,e++,i.id=t,s.attr("id",t));var n={json:!0,values:!0,render:!0};r.$watchCollection("zcValues",function(){n.values?n.values=!n.values:r.zcValues&&(d(r.zcValues)?zingchart.exec(t,"setseriesvalues",{values:r.zcValues}):zingchart.exec(t,"setseriesvalues",{values:[r.zcValues]}))}),r.$watch("zcJson",function(){var e;n.json?n.json=!n.json:i.zcJson&&(e=r.zcJson,r.zcValues&&a(r.zcValues,e),-1===JSON.stringify(e).indexOf("type")?e.type="line":e.type=i.zcType?i.zcType:e.type,zingchart.exec(t,"setdata",{data:e}))},!0),r.$watch("zcRender",function(e,t,r){n.render?n.render=!n.render:(zingchart.exec(r.id,"destroy"),r.zcRender=e,r.renderChart())},!0),r.renderChart=function(){var e=s.attr("id"),t={data:{type:"line",series:[]},width:600,height:400};r.zcRender&&c(r.zcRender,t),r.zcJson&&c(r.zcJson,t.data),r.zcValues&&a(r.zcValues,t.data),t.data.type=i.zcType?i.zcType:t.data.type,t.height=i.zcHeight?i.zcHeight:t.height,t.width=i.zcWidth?i.zcWidth:t.width,t.id=e,"100%"!==t.width||s.css("width")||s.css("width","100%"),"100%"!==t.height||s.css("height")||s.css("height","100%"),zingchart.render(t)},r.$on("$destroy",function(){zingchart.exec(r.id,"destroy")})}],link:function(e){e.renderChart()}}}])}();