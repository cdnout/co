!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3-selection"),require("d3-array"),require("d3-scale"),require("d3-axis"),require("d3-time"),require("d3-shape"),require("d3-format"),require("d3-ease"),require("d3-dispatch"),require("d3-time-format"),require("d3-interpolate"),require("d3-transition"),require("d3-collection"),require("d3-color"),require("d3-zoom"),require("d3-voronoi"),require("d3-brush")):"function"==typeof define&&define.amd?define(["d3-selection","d3-array","d3-scale","d3-axis","d3-time","d3-shape","d3-format","d3-ease","d3-dispatch","d3-time-format","d3-interpolate","d3-transition","d3-collection","d3-color","d3-zoom","d3-voronoi","d3-brush"],e):"object"==typeof exports?exports.britecharts=e(require("d3-selection"),require("d3-array"),require("d3-scale"),require("d3-axis"),require("d3-time"),require("d3-shape"),require("d3-format"),require("d3-ease"),require("d3-dispatch"),require("d3-time-format"),require("d3-interpolate"),require("d3-transition"),require("d3-collection"),require("d3-color"),require("d3-zoom"),require("d3-voronoi"),require("d3-brush")):t.britecharts=e(t["d3-selection"],t["d3-array"],t["d3-scale"],t["d3-axis"],t["d3-time"],t["d3-shape"],t["d3-format"],t["d3-ease"],t["d3-dispatch"],t["d3-time-format"],t["d3-interpolate"],t["d3-transition"],t["d3-collection"],t["d3-color"],t["d3-zoom"],t["d3-voronoi"],t["d3-brush"])}(window,(function(t,e,n,r,a,o,i,c,l,s,u,f,d,h,p,g,m){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=36)}([function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e){t.exports=n},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(26),a=n(27),o=n(20),i=n(28);t.exports=function(t){return r(t)||a(t)||o(t)||i()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=r},function(t,e){t.exports=a},function(t,e){t.exports=o},function(t,e){t.exports=i},function(t,e){t.exports=c},function(t,e,n){var r=n(32),a=n(33),o=n(20),i=n(34);t.exports=function(t,e){return r(t)||a(t,e)||o(t,e)||i()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=l},function(t,e){t.exports=s},function(t,e){t.exports=u},function(t,e){t.exports=f},function(t,e){t.exports=d},function(t,e){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=h},function(t,e){t.exports=p},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(19);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){(function(t,r){var a;/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */!function(o){var i=e,c=(t&&t.exports,"object"==typeof r&&r);c.global!==c&&c.window;var l=function(t){this.message=t};(l.prototype=new Error).name="InvalidCharacterError";var s=function(t){throw new l(t)},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=/[\t\n\f\r ]/g,d={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&s("The string to be encoded contains characters outside of the Latin1 range.");for(var e,n,r,a,o=t.length%3,i="",c=-1,l=t.length-o;++c<l;)e=t.charCodeAt(c)<<16,n=t.charCodeAt(++c)<<8,r=t.charCodeAt(++c),i+=u.charAt((a=e+n+r)>>18&63)+u.charAt(a>>12&63)+u.charAt(a>>6&63)+u.charAt(63&a);return 2==o?(e=t.charCodeAt(c)<<8,n=t.charCodeAt(++c),i+=u.charAt((a=e+n)>>10)+u.charAt(a>>4&63)+u.charAt(a<<2&63)+"="):1==o&&(a=t.charCodeAt(c),i+=u.charAt(a>>2)+u.charAt(a<<4&63)+"=="),i},decode:function(t){var e=(t=String(t).replace(f,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&s("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,a=0,o="",i=-1;++i<e;)r=u.indexOf(t.charAt(i)),n=a%4?64*n+r:r,a++%4&&(o+=String.fromCharCode(255&n>>(-2*a&6)));return o},version:"0.1.0"};void 0===(a=function(){return d}.call(e,n,e,t))||(t.exports=a)}()}).call(this,n(30)(t),n(31))},function(t,e){t.exports=function(){"use strict";var t={BASE:!0,HEAD:!0,HTML:!0,META:!0,NOFRAME:!0,NOSCRIPT:!0,PARAM:!0,SCRIPT:!0,STYLE:!0,TITLE:!0},e=["A","ABBR","ADDRESS","AREA","ARTICLE","ASIDE","AUDIO","B","BASE","BDI","BDO","BLOCKQUOTE","BODY","BR","BUTTON","CANVAS","CAPTION","CENTER","CITE","CODE","COL","COLGROUP","COMMAND","DATALIST","DD","DEL","DETAILS","DFN","DIV","DL","DT","EM","EMBED","FIELDSET","FIGCAPTION","FIGURE","FONT","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEAD","HEADER","HGROUP","HR","HTML","I","IFRAME","IMG","INPUT","INS","KBD","LABEL","LEGEND","LI","LINK","MAP","MARK","MATH","MENU","META","METER","NAV","NOBR","NOSCRIPT","OBJECT","OL","OPTION","OPTGROUP","OUTPUT","P","PARAM","PRE","PROGRESS","Q","RP","RT","RUBY","S","SAMP","SCRIPT","SECTION","SELECT","SMALL","SOURCE","SPAN","STRONG","STYLE","SUB","SUMMARY","SUP","SVG","TABLE","TBODY","TD","TEXTAREA","TFOOT","TH","THEAD","TIME","TITLE","TR","TRACK","U","UL","VAR","VIDEO","WBR"],n=function(t){var e={},n=document.body.appendChild(document.createElement(t)),r=window.getComputedStyle(n);return[].forEach.call(r,(function(t){e[t]=r[t]})),document.body.removeChild(n),e};return{initializeSerializer:function(){var r={};return[].forEach.call(e,(function(e){t[e]||(r[e]=n(e))})),function(e){var a,o,i,c,l=[];if(e&&e.nodeType===Node.ELEMENT_NODE)return l=[],a=e.querySelectorAll("*"),[].forEach.call(a,(function(e,a){var c;t[e.tagName]||(o=window.getComputedStyle(e),c=(c=e.tagName).toUpperCase(),r[c]||(r[c]=n(c)),i=r[c],l[a]=e.style.cssText,[].forEach.call(o,(function(t){o[t]!==i[t]&&(e.style[t]=o[t])})))})),c=e.outerHTML,a=[].map.call(a,(function(t,e){return t.style.cssText=l[e],t})),c}}}}()},function(t,e,n){var r=n(35);t.exports=function(t,e){if(null==t)return{};var n,a,o=r(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=g},function(t,e){t.exports=m},function(t,e,n){var r=n(19);t.exports=function(t){if(Array.isArray(t))return r(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";function r(t){return t=Array.isArray(t)?t:Array.prototype.slice.call(arguments),{asList:function(){return t.join(" ")},asSelector:function(){return"."+t.join(".")}}}n.r(e),n.d(e,"classArray",(function(){return r})),e.default={classArray:r}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n.r(e),n.d(e,"bar",(function(){return Bt})),n.d(e,"donut",(function(){return _t})),n.d(e,"legend",(function(){return Ht})),n.d(e,"line",(function(){return be})),n.d(e,"loadingStates",(function(){return tt})),n.d(e,"tooltip",(function(){return xe})),n.d(e,"miniTooltip",(function(){return ve})),n.d(e,"sparkline",(function(){return Ae})),n.d(e,"stackedArea",(function(){return Ce})),n.d(e,"scatterPlot",(function(){return Ee})),n.d(e,"groupedBar",(function(){return Re})),n.d(e,"stackedBar",(function(){return Ne})),n.d(e,"heatmap",(function(){return qe})),n.d(e,"step",(function(){return Ye})),n.d(e,"brush",(function(){return Ze})),n.d(e,"bullet",(function(){return Je})),n.d(e,"colors",(function(){return T}));var r=n(4),a=n.n(r),o=n(3),i=n.n(o),c=n(1),l=n(9),s=n(5),u=n(17),f=n(11),d=n(8),h=n(2),p=n(0);n(14);function g(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var y=1.2,b=10,x=.9,v=.6,O="value",j="label",w=function(t,e,n,r){var a,o=Object(p.select)(r),i=o.text().split(/\s+/).reverse(),c=[],l=0,s=y*x,u=o.attr("y"),f=parseFloat(o.attr("dy")),d=e*v,h=o.text(null).append("tspan").attr("x",t).attr("y",u-5).attr("dy",f+"em").classed(O,!0).style("font-size",e+"px");for(h.text(i.pop()),h=o.append("tspan").classed(j,!0).attr("x",t).attr("y",u+b).attr("dy",++l*s+f+"em").style("font-size",d+"px");a=i.pop();)c.push(a),h.text(c.join(" ")),h.node()&&h.node().getComputedTextLength()>n-50&&(c.pop(),h.text(c.join(" ")),c=[a],h=o.append("tspan").classed(j,!0).attr("x",t).attr("y",u+b).attr("dy",++l*s+f+"em").text(a).style("font-size",d+"px"))},A=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;t.each((function(){var a,o,i,c,l,s,u;for(a=(t=Object(p.select)(this)).text().split(/\s+/).reverse(),i=[],c=0,1.2,l=t.attr("y"),s=parseFloat(t.attr("dy")),u=t.text(null).append("tspan").attr("x",n).attr("y",l).attr("dy",s+"em");o=a.pop();)if(i.push(o),u.text(i.join(" ")),u.node()&&u.node().getComputedTextLength()>e){if(i.pop(),u.text(i.join(" ")),!(c<r-1)){i.push("..."),u.text(i.join(" "));break}i=[o],u=t.append("tspan").attr("x",n).attr("y",l).attr("dy",1.2*++c+s+"em").text(o),t.classed("adjust-upwards",!0)}}))},k=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Arial",r=document.createElement("canvas"),a=r.getContext("2d");return a.font=e+"px "+n,a.measureText(t).width},M=function(t,e,n){var r,a=[],o=1,i=g(t.split(/\s+/).reverse());try{for(i.s();!(r=i.n()).done;){var c=r.value;a.push(c),k(a.join(" "),e,"Karla, sans-serif")>n&&(a.pop(),a=[c],++o)}}catch(t){i.e(t)}finally{i.f()}return o},S=n(16),C=n.n(S),D=n(21),P=n.n(D),L={britecharts:["#6aedc7","#39c2c9","#ffce00","#ffa71a","#f866b9","#998ce3"],grey:["#F8F8FA","#EFF2F5","#D2D6DF","#C3C6CF","#ADB0B6","#666A73","#45494E","#363A43","#282C35"],orange:["#fcc870","#ffa71a","#fb8825","#f6682f","#db5a2c","#bf4c28","#a43b1c","#892a10","#f9e9c5"],blueGreen:["#ccf7f6","#70e4e0","#00d8d2","#00acaf","#007f8c","#005e66","#003c3f","#002d2f","#0d2223"],teal:["#ccfffe","#94f7f4","#00fff8","#1de1e1","#39c2c9","#2e9a9d","#227270","#1a5957","#133f3e"],green:["#edfff7","#d7ffef","#c0ffe7","#95f5d7","#6aedc7","#59c3a3","#479980","#34816a","#206953"],yellow:["#f9f2b3","#fbe986","#fce05a","#fed72d","#ffce00","#fcc11c","#f9b438","#eda629","#e09819"],pink:["#fdd1ea","#fb9cd2","#f866b9","#fc40b6","#ff1ab3","#e3239d","#c62c86","#a62073","#85135f"],purple:["#ddd6fc","#bbb1f0","#998ce3","#8e6bc1","#824a9e","#77337f","#6b1c60","#591650","#470f3f"],red:["#ffd8d4","#ffb5b0","#ff938c","#ff766c","#ff584c","#f04b42","#e03d38","#be2e29","#9c1e19"]},T={colorSchemas:L,colorSchemasHuman:{britecharts:"Britecharts Default",grey:"Britecharts Grey",orange:"Orange",blueGreen:"Blue",teal:"Light Blue",green:"Green",yellow:"Yellow",pink:"Pink",purple:"Purple",red:"Red"},colorGradients:{greenBlue:["#39C7EA","#4CDCBA"],orangePink:["#FBC670","#F766B8"],bluePurple:["#3DC3C9","#824a9e"]},colorGradientsHuman:{greenBlue:"Green to Blue",orangePink:"Orange to Pink",bluePurple:"Blue to Purple"},singleColors:{aloeGreen:["#7bdcc0"],greenColor:["#6aedc7"],blueColor:["#39c2c9"],yellowColor:["#ffce00"],orangeColor:["#ffa71a"],pinkColor:["#f866b9"],purpleColor:["#998ce3"]},singleColorsHuman:{aloeGreen:"Aloe Green",greenColor:"Green",blueColor:"Blue",yellowColor:"Yellow",orangeColor:"Orange",pinkColor:"Pink",purpleColor:"Purple"}},E=n(22),B=n.n(E),F="undefined"!=typeof window,R=navigator.msSaveOrOpenBlob,I=F&&window.btoa;I||(I=P.a.encode);var _={styleClass:"britechartStyle",defaultFilename:"britechart.png",chartBackground:"white",imageSourceBase:"data:image/svg+xml;base64,",titleFontSize:"15px",titleFontFamily:"‘Helvetica Neue’, Helvetica, Arial, sans-serif",titleTopOffset:15,get styleBackgroundString(){return"<style>svg{background:".concat(this.chartBackground,";}</style>")}};function N(t,e,n){var r=this;return R?(console.error("Sorry, this feature is not available for IE. If you require this to work, check this issue https://github.com/eventbrite/britecharts/pull/652"),!1):Y(z.call(this,t,n)).then((function(t){return{canvas:H(r.width(),r.height()),img:t}})).then((function(t){var n=t.canvas,r=t.img;return G.call(r,n,e)}))}function z(t,e){if(t){t.attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg");var n=B.a.initializeSerializer()(t.node());return n=function(t){if(navigator.userAgent.search("FireFox")>-1)return t.replace(/url.*&quot;\)/,'url(&quot;linearGradient[id*="-gradient-"]&quot;);');return t}(n),n=function(t){return t.replace(">",">".concat(_.styleBackgroundString))}(n=V.call(this,n,e,parseInt(t.attr("width"),10)))}}function H(t,e){var n=document.createElement("canvas");return n.height=e,n.width=t,n}function q(t,e){var n=new Image;if(e){if("function"!=typeof e)throw new Error("The callback provided should be a function, we got a ".concat(C()(e)," instead."));e(n)}return n.src="".concat(_.imageSourceBase).concat(I(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode("0x"+e)})))),n}function U(t,e){return e.getContext("2d").drawImage(t,0,0),e}function G(t,e){!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.defaultFilename,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/png",r=t.toDataURL(n),a=document.createElement("a");a.href=r,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a)}(U(this,t),e)}function Y(t){return new Promise((function(e,n){q(t,(function(t){t.addEventListener("load",(function(){return e(t)})),t.addEventListener("error",(function(t){return n(t)}))}))}))}function V(t,e,n){if(!e||!n)return t;var r=L.grey;return t=t.replace(/<g/,'<text x="'.concat(this.margin().left,'" y="').concat(_.titleTopOffset,'" font-family="').concat(_.titleFontFamily,'" font-size="').concat(_.titleFontSize,'" fill="').concat(r[6],'"> ').concat(e," </text><g "))}var Q='\n        <defs>\n            <linearGradient id="lgrad" x1="0%" y1="50%" x2="100%" y2="50%" >\n                <stop offset="0" stop-color="#ffffff" stop-opacity="0.8" />\n                <stop offset="33.33%" stop-color="#ffffff" stop-opacity="0.8" />\n                <stop offset="50%" stop-color="#ffffff" stop-opacity="0" />\n                <stop offset="66.66%" stop-color="#ffffff" stop-opacity="0.8" />\n                <stop offset="100%" stop-color="#ffffff" stop-opacity="0.8" />\n            </linearGradient>\n        </defs>\n    ',W='\n        <svg class="load-state bar-load-state" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 711 325">\n            '.concat(Q,'\n            <g fill="none" fill-rule="evenodd">\n                <g transform="translate(-15 29)">\n                    <g stroke="#EFF2F5" stroke-dasharray="4 4">\n                        <path d="M.400592911 200.302477L710.674315 200.302477M.400592884 131.172748L710.674315 131.172748M.324410282 64.2071321L710.621499 64.2071321M.291004517.563888874L709.82431.563888889"/>\n                    </g>\n                    <g fill="#D2D6DF" transform="translate(63.08 11)">\n                        <polygon points="-.08 176 23.92 176 23.92 255 -.08 255"/>\n                        <polygon points="50.829 147 74.829 147 74.829 255 50.829 255"/>\n                        <polygon points="254.465 0 278.465 0 278.465 255 254.465 255"/>\n                        <polygon points="458.102 169 482.102 169 482.102 255 458.102 255"/>\n                        <polygon points="152.647 82 176.647 82 176.647 255 152.647 255"/>\n                        <polygon points="356.283 66 380.283 66 380.283 255 356.283 255"/>\n                        <polygon points="559.92 229 583.92 229 583.92 255 559.92 255"/>\n                        <polygon points="101.738 115 125.738 115 125.738 255 101.738 255"/>\n                        <polygon points="305.374 42 329.374 42 329.374 255 305.374 255"/>\n                        <polygon points="509.011 201 533.011 201 533.011 255 509.011 255"/>\n                        <polygon points="203.556 19 227.556 19 227.556 255 203.556 255"/>\n                        <polygon points="407.192 115 431.192 115 431.192 255 407.192 255"/>\n                    </g>\n                </g>\n                <polygon fill="#D2D6DF" fill-rule="nonzero" points="0 295 711 295 711 294 0 294"/>\n            </g>\n            <rect class="chart-filter" fill="url(#lgrad)" x="-100%" y="0" width="300%" height="100%"></rect>\n        </svg>\n    '),Z='\n        <svg class="load-state donut-load-state" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 376 331">\n            '.concat(Q,'\n            <g fill="none" fill-rule="evenodd">\n                <g transform="translate(116 107)">\n                    <circle cx="72" cy="72" r="72" stroke="#EFF2F5" stroke-linecap="round" stroke-width="9.6"/>\n                    <path stroke="#D2D6DF" stroke-width="19.2" d="M126.153559,119.524055 C137.264629,106.845712 144,90.2321371 144,72.0444604 C144,32.2554036 111.764502,0 72,0"/>\n                    <circle cx="72" cy="72" r="67.2" fill="#FFF"/>\n                </g>\n            </g>\n            <rect class="chart-filter" fill="url(#lgrad)" x="-100%" y="0" width="300%" height="100%"></rect>\n        </svg>\n    '),K='\n        <svg\n            class="load-state line-load-state"\n            xmlns="http://www.w3.org/2000/svg"\n            viewBox="0 0 711 325"\n        >\n            '.concat(Q,'\n            <g transform="translate(-10 -10)">\n                <path\n                    id="chart-bg"\n                    class="chart-bg"\n                    style="stroke:#C3C6CF;"\n                    d="M3.4,216.5h707.3 M3.4,160.5h707.3 M3.3,103.5h707.3 M3.3,48.5h707.6 M0.4,276.6H710H0.4z"\n                />\n                <polyline\n                    id="chart-line"\n                    class="chart-line"\n                    style="stroke:#C3C6CF;stroke-width:4;fill:none;"\n                    points="8.8,175.8 62.4,237.7 116.1,184.7 169.7,175.8 223.3,57 277,176.8 330.6,176.8 384.3,122.5 437.9,176.8 491.6,176.8 545.2,218.4 598.8,122.5 652.5,184.7 706.1,135.1 "\n                />\n            </g>\n            <rect class="chart-filter" fill="url(#lgrad)" x="-100%" y="0" width="300%" height="100%"></rect>\n        </svg>\n    '),X='\n        <svg\n            class="load-state stacked-area-load-state"\n            xmlns="http://www.w3.org/2000/svg"\n            viewBox="0 0 711 325"\n        >\n            '.concat(Q,'\n            <path\n                id="chart-bg"\n                class="chart-bg"\n                style="stroke:#C3C6CF;"\n                d="M3.4,216.5h707.3 M3.4,160.5h707.3 M3.3,103.5h707.3 M3.3,48.5h707.6 M0.4,276.6H710H0.4z"\n            />\n            <g transform="translate(20 53)">\n                <path\n                    id="chart-area"\n                    strokeLinecap="square"\n                    d="M0.34233103,0.593688165 L709.977885,0.593688189"\n                    transform="translate(.01 227.976)"\n                />\n                <path fill="#C3C6CF" d="M0.528124801,224.014648 L0.528124801,177.734375 L53.3834796,177.734375 C71.5390789,177.734375 86.8277373,168.972754 101.240241,151.662202 C112.578335,138.044258 121.139826,123.110227 136.974507,91.596773 C137.343842,90.8617404 139.300293,86.9654028 139.856735,85.8583549 C155.041692,55.6476711 163.354313,41.0906306 174.319873,27.7179171 C188.951312,9.87459412 204.885845,0.5 223.830634,0.5 C242.123071,0.5 257.291724,8.27027858 270.907992,23.1359289 C281.228683,34.4036118 289.135925,47.1272372 302.542017,72.085092 C303.275893,73.4513345 306.289669,79.0766612 307.063369,80.5168656 C321.41025,107.222876 330.088083,120.97663 341.470704,132.92446 C355.88994,148.05969 371.908861,155.792969 391.654853,155.792969 C412.142049,155.792969 428.763593,152.325614 442.880698,145.765582 C454.197328,140.506893 463.373931,133.679865 473.786035,123.626931 C476.528659,120.978915 486.44777,110.911455 488.791866,108.6483 C502.907223,95.0203436 514.194325,88.9355469 530.135322,88.9355469 C546.532652,88.9355469 559.505909,97.338499 575.973261,115.41103 C579.723508,119.526837 593.103621,135.086814 592.915496,134.871799 C605.09738,148.794859 614.368835,157.635549 625.072091,164.58539 C638.386599,173.230769 652.701021,177.734375 669.279853,177.734375 L673.779853,177.734375 L673.779853,224.014648 L0.528124801,224.014648 Z" />\n            </g>\n            <rect class="chart-filter" fill="url(#lgrad)" x="-100%" y="0" width="300%" height="100%"></rect>\n        </svg>\n    '),J='\n        <svg\n            class="load-state sparkline-load-state"\n            xmlns="http://www.w3.org/2000/svg"\n            viewBox="0 0 711 325"\n        >\n            '.concat(Q,'\n            <g transform="translate(0 50)">\n                <path fill="#C3C6CF" d="M0.528124801,224.014648 L0.528124801,177.734375 L53.3834796,177.734375 C71.5390789,177.734375 86.8277373,168.972754 101.240241,151.662202 C112.578335,138.044258 121.139826,123.110227 136.974507,91.596773 C137.343842,90.8617404 139.300293,86.9654028 139.856735,85.8583549 C155.041692,55.6476711 163.354313,41.0906306 174.319873,27.7179171 C188.951312,9.87459412 204.885845,0.5 223.830634,0.5 C242.123071,0.5 257.291724,8.27027858 270.907992,23.1359289 C281.228683,34.4036118 289.135925,47.1272372 302.542017,72.085092 C303.275893,73.4513345 306.289669,79.0766612 307.063369,80.5168656 C321.41025,107.222876 330.088083,120.97663 341.470704,132.92446 C355.88994,148.05969 371.908861,155.792969 391.654853,155.792969 C412.142049,155.792969 428.763593,152.325614 442.880698,145.765582 C454.197328,140.506893 463.373931,133.679865 473.786035,123.626931 C476.528659,120.978915 486.44777,110.911455 488.791866,108.6483 C502.907223,95.0203436 514.194325,88.9355469 530.135322,88.9355469 C546.532652,88.9355469 559.505909,97.338499 575.973261,115.41103 C579.723508,119.526837 593.103621,135.086814 592.915496,134.871799 C605.09738,148.794859 614.368835,157.635549 625.072091,164.58539 C638.386599,173.230769 652.701021,177.734375 669.279853,177.734375 L773.779853,177.734375 L773.77853,204.014648 L0.528124801,204.014648 Z"/>    \n            </g>\n            <rect class="chart-filter" fill="url(#lgrad)" x="-100%" y="0" width="300%" height="100%"></rect>\n        </svg>\n    '),$='\n        <svg\n            class="load-state brush-load-state"\n            xmlns="http://www.w3.org/2000/svg"\n            viewBox="0 0 711 325"\n        >\n            '.concat(Q,'\n            <g transform="translate(0 50)">\n                <path\n                    id="chart-area"\n                    strokeLinecap="square"\n                    d="M0.34233103,0.593688165 L709.977885,0.593688189"\n                    transform="translate(.01 227.976)"\n                />\n                <path fill="#C3C6CF" d="M0.528124801,224.014648 L0.528124801,177.734375 L53.3834796,177.734375 C71.5390789,177.734375 86.8277373,168.972754 101.240241,151.662202 C112.578335,138.044258 121.139826,123.110227 136.974507,91.596773 C137.343842,90.8617404 139.300293,86.9654028 139.856735,85.8583549 C155.041692,55.6476711 163.354313,41.0906306 174.319873,27.7179171 C188.951312,9.87459412 204.885845,0.5 223.830634,0.5 C242.123071,0.5 257.291724,8.27027858 270.907992,23.1359289 C281.228683,34.4036118 289.135925,47.1272372 302.542017,72.085092 C303.275893,73.4513345 306.289669,79.0766612 307.063369,80.5168656 C321.41025,107.222876 330.088083,120.97663 341.470704,132.92446 C355.88994,148.05969 371.908861,155.792969 391.654853,155.792969 C412.142049,155.792969 428.763593,152.325614 442.880698,145.765582 C454.197328,140.506893 463.373931,133.679865 473.786035,123.626931 C476.528659,120.978915 486.44777,110.911455 488.791866,108.6483 C502.907223,95.0203436 514.194325,88.9355469 530.135322,88.9355469 C546.532652,88.9355469 559.505909,97.338499 575.973261,115.41103 C579.723508,119.526837 593.103621,135.086814 592.915496,134.871799 C605.09738,148.794859 614.368835,157.635549 625.072091,164.58539 C638.386599,173.230769 652.701021,177.734375 669.279853,177.734375 L673.779853,177.734375 L673.779853,224.014648 L0.528124801,224.014648 Z" />\n            </g>\n            <rect class="chart-filter" fill="url(#lgrad)" x="-100%" y="0" width="300%" height="100%"></rect>\n        </svg>\n    '),tt={linearGradient:Q,barLoadingMarkup:W,donutLoadingMarkup:Z,lineLoadingMarkup:K,brushLoadingMarkup:$,sparkLineLoadingMarkup:J,stackedAreaLoadingMarkup:X},et=0,nt={small:{limit:10,format:Object(d.format)("")},medium:{limit:1e3,format:Object(d.format)("")},large:{limit:null,format:Object(d.format)(".2s")}},rt={small:{limit:10,format:Object(d.format)(".3f")},medium:{limit:100,format:Object(d.format)(".1f")},large:{limit:null,format:Object(d.format)(".2s")}},at=function(t,e){var n="large";return t<e.small.limit?n="small":t<e.medium.limit&&(n="medium"),n},ot=function(t){var e=t.length,n=0,r=0,a=0,o=0;t.forEach((function(t){n+=t.x,r+=t.y,a+=t.x*t.y,o+=t.x*t.x}));var i=e*o-n*n,l=(r*o-n*a)/i,s=(e*a-n*r)/i,u=Object(c.min)(t,(function(t){return t.x})),f=Object(c.max)(t,(function(t){return t.x}));return{x1:u,y1:s*e+l,x2:f,y2:s*f+l}},it=function(t,e,n){var r=e?t/e*100:0;return Object(d.format)(n)(r)},ct=function(t){return t%1==0},lt=function(t){var e=at(t,rt);return(0,rt[e].format)(t)},st=function(t){var e=at(t,nt);return(0,nt[e].format)(t)},ut=function(t){var e=++et;return"".concat(t.toString(),"-").concat(e)},ft=["decimal","thousands","grouping","currency"],dt=function(t){if(ht(t))return d.formatDefaultLocale(t);throw new Error("Please pass in a valid locale object definition")},ht=function(t){return"object"==C()(t)&&ft.every((function(e){return t.hasOwnProperty(e)}))},pt=function(t){console.warn('This method is being deprecated! Please modify your data to use "'.concat(t,'" as the key.'))},gt=n(7),mt=n(6),yt={MINUTE_HOUR:"minute-hour",HOUR_DAY:"hour-daymonth",DAY_MONTH:"day-month",MONTH_YEAR:"month-year",CUSTOM:"custom"},bt={ONE_AND_A_HALF_YEARS:47304e6,ONE_YEAR:31536000365,ONE_DAY:86400001},xt=["00h","01h","02h","03h","04h","05h","06h","07h","08h","09h","10h","11h","12h","13h","14h","15h","16h","17h","18h","19h","20h","21h","22h","23h"],vt=1200,Ot={linear:gt.curveLinear,basis:gt.curveBasis,cardinal:gt.curveCardinal,catmullRom:gt.curveCatmullRom,monotoneX:gt.curveMonotoneX,monotoneY:gt.curveMonotoneY,natural:gt.curveNatural,step:gt.curveStep,stepAfter:gt.curveStepAfter,stepBefore:gt.curveStepBefore},jt=[{quantity:1,percentage:100}],wt={timeMillisecond:mt.timeMillisecond,utcMillisecond:mt.utcMillisecond,timeSecond:mt.timeSecond,utcSecond:mt.utcSecond,timeMinute:mt.timeMinute,utcMinute:mt.utcMinute,timeHour:mt.timeHour,utcHour:mt.utcHour,timeDay:mt.timeDay,utcDay:mt.utcDay,timeWeek:mt.timeWeek,utcWeek:mt.utcWeek,timeSunday:mt.timeSunday,utcSunday:mt.utcSunday,timeMonday:mt.timeMonday,utcMonday:mt.utcMonday,timeTuesday:mt.timeTuesday,utcTuesday:mt.utcTuesday,timeWednesday:mt.timeWednesday,utcWednesday:mt.utcWednesday,timeThursday:mt.timeThursday,utcThursday:mt.utcThursday,timeFriday:mt.timeFriday,utcFriday:mt.utcFriday,timeSaturday:mt.timeSaturday,utcSaturday:mt.utcSaturday,timeMonth:mt.timeMonth,utcMonth:mt.utcMonth,timeYear:mt.timeYear,utcYear:mt.utcYear},At=(n(2).scaleLinear,n(29).classArray),kt="horizontal",Mt="vertical";function St(t){return function(e){return+t(e)+.5}}function Ct(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e+.5}}function Dt(t,e){var n=[0,1],r=0,o=0,i=!1,c=null,l=null,s=At("grid",t),u=t===kt?"x":"y",f=t===kt?"y":"x";function d(t){var a=function(){var t=!0===i||"both"===i||"first"===i,n=!0===i||"both"===i||"last"===i,r=null===l?function(){var t;t=e.ticks?e.ticks.apply(e,c?[c]:[]):e.domain();return t.slice()}():l.slice();t&&r.shift();n&&r.pop();return r}(),d=(e.bandwidth?Ct:St)(e.copy()),h=n[n.length-1]>=n[0]?1:-1,p=t.selection?t.selection():t,g=p.selectAll(s.asSelector()).data([null]),m=g.merge(g.enter().append("g").attr("class",s.asList())),y=m.selectAll("line").data(a,e).order(),b=y.exit(),x=y.enter().append("line").attr("class","grid-line");if(y=y.merge(x),t!==p){var v=function(t){return function(e){return isFinite(e=d(e))?e:this.getAttribute(t)}},O=function(t){var e=this.parentNode.__pos;return e&&isFinite(e=e(t))?e:d(t)};y=y.transition(t),b=b.transition(t).attr("opacity",1e-6).attr(f+"1",v(f+"1")).attr(f+"2",v(f+"2")),x=x.attr("opacity",1e-6).attr(f+"1",O).attr(f+"2",O)}b.remove(),y.attr("opacity",1).attr(u+"1",+n[0]-h*r).attr(u+"2",+n[n.length-1]+h*o).attr(f+"1",(function(t){return d(t)})).attr(f+"2",(function(t){return d(t)})),m.each((function(){this.__pos=d}))}return d.scale=function(t){return arguments.length?(e=t,d):e},d.range=function(t){return arguments.length?(n=t,d):n},d.offsetStart=function(t){return arguments.length?(r=t,d):r},d.offsetEnd=function(t){return arguments.length?(o=t,d):o},d.hideEdges=function(t){return arguments.length?(i=t,d):i},d.ticks=function(t){return arguments.length?(c=t,d):c},d.tickValues=function(t){return arguments.length?(l=null===t?null:a()(t).slice(),d):l&&l.slice()},d}function Pt(t){return Dt(kt,t)}function Lt(t){return Dt(Mt,t)}function Tt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tt(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Bt(){var t,e,n,r,o,g,m,y,b,x,v,O,j={top:20,right:20,bottom:30,left:40},w=960,k=500,M=!1,S=T.singleColors.aloeGreen,C=null,D=null,P=ut("bar-gradient"),L=5,E=5,B=1,F=",f",R=!1,I=7,_=",f",z=12,H=.1,q=0,U=0,G=10,Y=!1,V=!0,Q=!1,Z=l.easeQuadInOut,K=vt,X=function(t,e){return 70*e},J=function(t){return t.attr("fill",(function(t){var e=t.name;return Object(u.color)(D?D[1]:C[e]).darker()}))},$="value",tt="name",et=null,nt=null,rt=30,at=null,ot=null,it=-30,ct=!0,lt=null,st=d,ft=Object(f.dispatch)("customMouseOver","customMouseOut","customMouseMove","customClick"),ht=function(t){return t.name},gt=function(t){return t.value},mt=function(t){var e=t.value;return o(e)+I},yt=function(t){var e=t.name;return g(e)+g.bandwidth()/2+z*(3/8)},bt=function(t){var e=t.name;return o(e)},xt=function(t){var e=t.value;return g(e)-I};function Ot(l){lt&&(st=dt(lt)),l.each((function(l){n=w-j.left-j.right-1.2*G,r=k-j.top-j.bottom;var u,f=function(t){var e=t.data,n=t.dataZeroed;v&&(e.sort(v),n.sort(v));return{data:e,dataZeroed:n}}(function(t){var e=t.reduce((function(t,e){return e.value=+e[$],e.name=String(e[tt]),[].concat(a()(t),[e])}),[]),n=e.map((function(t){return{value:0,name:String(t[tt])}}));return{data:e,dataZeroed:n}}(l));(t=f.data,e=f.dataZeroed,function(t){x||(x=Object(p.select)(t).append("svg").classed("britechart bar-chart",!0),function(){var t=x.append("g").classed("container-group",!0).attr("transform","translate(".concat(j.left+G,", ").concat(j.top,")"));x.append("g").classed("loading-state-group",!0),t.append("g").classed("grid-lines-group",!0),t.append("g").classed("chart-group",!0),t.append("g").classed("x-axis-group axis",!0).append("g").classed("x-axis-label",!0),t.append("g").attr("transform","translate(".concat(-1*G,", 0)")).classed("y-axis-group axis",!0).append("g").classed("y-axis-label",!0),t.append("g").classed("metadata-group",!0)}());x.attr("viewBox",[0,0,w,k]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",w).attr("height",k)}(this),M)?x.select(".loading-state-group").html(W):(x.select(".loading-state-group svg").remove(),function(){var e=function(){var e=new Set(t.map(gt));if(1===e.size&&e.has(0))return B;return Math.min(B*Object(c.max)(t,gt))}();Y?(o=Object(h.scaleLinear)().domain([0,e]).rangeRound([0,n]),g=Object(h.scaleBand)().domain(t.map(ht)).rangeRound([0,r]).padding(H)):(o=Object(h.scaleBand)().domain(t.map(ht)).rangeRound([0,n]).padding(H),g=Object(h.scaleLinear)().domain([0,e]).rangeRound([r,0]));ct?t.map((function(t){return t})).reverse().map((function(t,e){return{name:t.name,color:S[e%S.length]}})):t.map((function(t){return t})).map((function(t,e){return{name:t.name,color:S[e%S.length]}}));C=C||t.map((function(t){return t})).reduce((function(t,e,n){var r=e.name;return Et(Et({},t),{},i()({},r,S[n%S.length]))}),{})}(),function(t){Y?(y=Object(s.axisBottom)(o).ticks(E,t.format(F)).tickSizeInner([-r]),b=Object(s.axisLeft)(g).ticks(L,t.format(F))):(y=Object(s.axisBottom)(o),b=Object(s.axisLeft)(g).ticks(L,t.format(F)))}(st),!m&&D&&(m=x.select(".metadata-group").append("linearGradient").attr("id",P).attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","100%").attr("gradientUnits","userSpaceOnUse").selectAll("stop").data([{offset:"0%",color:D[0]},{offset:"50%",color:D[1]}]).enter().append("stop").attr("offset",(function(t){return t.offset})).attr("stop-color",(function(t){return t.color}))),x.select(".grid-lines-group").selectAll("grid").remove(),Y?(Lt(o).range([0,r]).hideEdges("first").ticks(E)(x.select(".grid-lines-group")),x.select(".grid-lines-group").selectAll("line.extended-y-line").data([0]).enter().append("line").attr("class","extended-y-line").attr("y1",U).attr("y2",r).attr("x1",0).attr("x2",0)):(Pt(g).range([0,n]).hideEdges("first").ticks(L)(x.select(".grid-lines-group")),x.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",q).attr("x2",n).attr("y1",r).attr("y2",r)),x.select(".x-axis-group.axis").attr("transform","translate(0, ".concat(r,")")).call(y),x.select(".y-axis-group.axis").call(b),x.selectAll(".y-axis-group .tick text").call(wt,j.left-G),ot&&(at&&at.remove(),at=x.select(".y-axis-label").append("text").classed("y-axis-label-text",!0).attr("x",-r/2).attr("y",it).attr("text-anchor","middle").attr("transform","rotate(270 0 0)").text(ot)),nt&&(et&&et.remove(),et=x.select(".x-axis-label").append("text").attr("y",rt).attr("text-anchor","middle").classed("x-axis-label-text",!0).attr("x",n/2).text(nt)),Q?(u=x.select(".chart-group").selectAll(".bar").data(e),Y?At(u):kt(u),u=x.select(".chart-group").selectAll(".bar").data(t),Y?function(t){t.enter().append("rect").classed("bar",!0).attr("x",0).attr("y",r).attr("height",g.bandwidth()).attr("width",(function(t){var e=t.value;return o(e)})).on("mouseover",(function(t,e,a){Mt(this,t,a,n,r)})).on("mousemove",(function(t){St(this,t,n,r)})).on("mouseout",(function(t,e,a){Ct(this,t,a,n,r)})).on("click",(function(t){Dt(this,t,n,r)})),t.attr("x",0).attr("y",(function(t){var e=t.name;return g(e)})).attr("height",g.bandwidth()).attr("fill",(function(t){return jt(t.name)})).transition().duration(K).delay(X).ease(Z).attr("width",(function(t){var e=t.value;return o(e)}))}(u):function(t){t.enter().append("rect").classed("bar",!0).attr("x",n).attr("y",(function(t){var e=t.value;return g(e)})).attr("width",o.bandwidth()).attr("height",(function(t){var e=t.value;return r-g(e)})).on("mouseover",(function(t,e,a){Mt(this,t,a,n,r)})).on("mousemove",(function(t){St(this,t,n,r)})).on("mouseout",(function(t,e,a){Ct(this,t,a,n,r)})).on("click",(function(t){Dt(this,t,n,r)})).merge(t).attr("x",(function(t){var e=t.name;return o(e)})).attr("width",o.bandwidth()).attr("fill",(function(t){return jt(t.name)})).transition().duration(K).delay(X).ease(Z).attr("y",(function(t){var e=t.value;return g(e)})).attr("height",(function(t){var e=t.value;return r-g(e)}))}(u),u.exit().transition().style("opacity",0).remove()):(u=x.select(".chart-group").selectAll(".bar").data(t),Y?At(u):kt(u),u.exit().remove()),R&&function(e){var n=Y?mt:bt,r=Y?yt:xt;O&&x.selectAll(".percentage-label-group").remove();(O=x.select(".metadata-group").append("g").classed("percentage-label-group",!0).selectAll("text").data(t.reverse()).enter().append("text")).classed("percentage-label",!0).attr("x",n).attr("y",r).text((function(t){var n=t.value;return e.format(_)(n)})).attr("font-size",z+"px")}(st))}))}function jt(t){return D?"url(#".concat(P,")"):C[t]}function wt(t,e){A(t,e,0,1)}function At(t){t.enter().append("rect").classed("bar",!0).attr("y",r).attr("x",0).attr("height",g.bandwidth()).attr("width",(function(t){var e=t.value;return o(e)})).on("mouseover",(function(t,e,a){Mt(this,t,a,n,r)})).on("mousemove",(function(t){St(this,t,n,r)})).on("mouseout",(function(t,e,a){Ct(this,t,a,n,r)})).on("click",(function(t){Dt(this,t,n,r)})).merge(t).attr("x",0).attr("y",(function(t){var e=t.name;return g(e)})).attr("height",g.bandwidth()).attr("width",(function(t){var e=t.value;return o(e)})).attr("fill",(function(t){return jt(t.name)}))}function kt(t){t.enter().append("rect").classed("bar",!0).attr("x",n).attr("y",(function(t){var e=t.value;return g(e)})).attr("width",o.bandwidth()).attr("height",(function(t){var e=t.value;return r-g(e)})).on("mouseover",(function(t,e,a){Mt(this,t,a,n,r)})).on("mousemove",(function(t){St(this,t,n,r)})).on("mouseout",(function(t,e,a){Ct(this,t,a,n,r)})).on("click",(function(t){Dt(this,t,n,r)})).merge(t).attr("x",(function(t){var e=t.name;return o(e)})).attr("y",(function(t){var e=t.value;return g(e)})).attr("width",o.bandwidth()).attr("height",(function(t){var e=t.value;return r-g(e)})).attr("fill",(function(t){return jt(t.name)}))}function Mt(t,e,n,r,a){ft.call("customMouseOver",t,e,Object(p.mouse)(t),[r,a]),J=J||function(){},V?J(Object(p.select)(t)):n.forEach((function(e){e!==t&&J(Object(p.select)(e))}))}function St(t,e,n,r){ft.call("customMouseMove",t,e,Object(p.mouse)(t),[n,r])}function Ct(t,e,n,r,a){ft.call("customMouseOut",t,e,Object(p.mouse)(t),[r,a]),n.forEach((function(t){Object(p.select)(t).attr("fill",(function(t){return jt(t.name)}))}))}function Dt(t,e,n,r){ft.call("customClick",t,e,Object(p.mouse)(t),[n,r])}return Ot.animationDuration=function(t){return arguments.length?(K=t,this):K},Ot.betweenBarsPadding=function(t){return arguments.length?(H=t,this):H},Ot.chartGradient=function(t){return arguments.length?(D=t,this):D},Ot.colorMap=function(t){return arguments.length?(C=t,this):C},Ot.colorSchema=function(t){return arguments.length?(S=t,this):S},Ot.enableLabels=function(t){return arguments.length?(R=t,this):R},Ot.exportChart=function(t,e){return N.call(Ot,x,t,e)},Ot.hasPercentage=function(t){return arguments.length?(F=t?"%":",f",this):"%"===F},Ot.hasSingleBarHighlight=function(t){return arguments.length?(V=t,this):V},Ot.height=function(t){return arguments.length?(k=t,this):k},Ot.highlightBarFunction=function(t){return arguments.length?(J=t,this):J},Ot.isAnimated=function(t){return arguments.length?(Q=t,this):Q},Ot.isHorizontal=function(t){return arguments.length?(Y=t,this):Y},Ot.labelsMargin=function(t){return arguments.length?(I=t,this):I},Ot.labelsNumberFormat=function(t){return arguments.length?(_=t,this):_},Ot.labelsSize=function(t){return arguments.length?(z=t,this):z},Ot.isLoading=function(t){return arguments.length?(M=t,this):M},Ot.margin=function(t){return arguments.length?(j=Et(Et({},j),t),this):j},Ot.nameLabel=function(t){return arguments.length?(tt=t,pt("name"),this):tt},Ot.numberFormat=function(t){return arguments.length?(F=t,this):F},Ot.on=function(){var t=ft.on.apply(ft,arguments);return t===ft?Ot:t},Ot.percentageAxisToMaxRatio=function(t){return arguments.length?(B=t,this):B},Ot.shouldReverseColorList=function(t){return arguments.length?(ct=t,this):ct},Ot.orderingFunction=function(t){return arguments.length?(v=t,this):v},Ot.valueLabel=function(t){return arguments.length?($=t,pt("value"),this):$},Ot.valueLocale=function(t){return arguments.length?(lt=t,this):lt},Ot.width=function(t){return arguments.length?(w=t,this):w},Ot.xAxisLabel=function(t){return arguments.length?(nt=t,this):nt},Ot.xAxisLabelOffset=function(t){return arguments.length?(rt=t,this):rt},Ot.xTicks=function(t){return arguments.length?(E=t,this):E},Ot.yAxisLabel=function(t){return arguments.length?(ot=t,this):ot},Ot.yAxisLabelOffset=function(t){return arguments.length?(it=t,this):it},Ot.yAxisPaddingBetweenChart=function(t){return arguments.length?(G=t,this):G},Ot.yTicks=function(t){return arguments.length?(L=t,this):L},Ot}var Ft=n(13);function Rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rt(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _t(){var t,e,n,r,o,i,c,s,u,d,g,m={top:0,right:0,bottom:0,left:0},y=300,b=300,x=!1,v=l.easeCubicInOut,O=vt,j=12,A=140,k=45.5,M=A+k,S=!1,C=!1,D=!1,P=!0,L=!1,E=null,B={emptySliceColor:"#EFF2F5",showEmptySlice:!1},F=".1f",R=!0,I=null,_=T.colorSchemas.britecharts,z=function(t){return"".concat(t.percentage,"% ").concat(t.name)},H=function(t){this._current=t},q=function(t){t.outerRadius=A-j},U=function(t,e){return e.quantity-t.quantity},G=function(t){return t.quantity},Y=function(t){return t.name},V=function(t){var e=t.data;return I[e.name]},Q=Object(f.dispatch)("customMouseOver","customMouseOut","customMouseMove","customClick");function W(l){l.each((function(l){e=y-m.left-m.right,n=b-m.top-m.bottom,t=function(t){var e=t.reduce((function(t,e){return void 0===e.quantity||null===e.quantity?t:(e.quantity=+e.quantity,e.name=String(e.name),e.percentage=e.percentage||null,[].concat(a()(t),[e]))}),[]),n=function(t){return t.reduce((function(t,e){return e.quantity+t}),0)}(e);0===n&&B.showEmptySlice&&(C=!0);return e.map((function(t){return t.percentage=String(t.percentage||it(t.quantity,n,F)),t}))}(l),function(t){c||(c=Object(p.select)(t).append("svg").classed("britechart donut-chart",!0),function(){var t=c.append("g").classed("container-group",!0).attr("transform","translate(".concat(y/2,", ").concat(b/2,")"));c.append("g").classed("loading-state-group",!0),t.append("g").classed("chart-group",!0),t.append("g").classed("legend-group",!0)}());c.attr("viewBox",[0,0,y,b]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",y).attr("height",b)}(this),x?c.select(".loading-state-group").html(Z):(c.select(".loading-state-group svg").remove(),r=Object(gt.pie)().padAngle(0).value(G).sort(U),_&&(g=Object(h.scaleOrdinal)().range(_),I=I||g.domain(t.map(Y)).domain().reduce((function(t,e){return t[e]=g(e),t}),{})),o=Object(gt.arc)().innerRadius(k).padRadius(A),function(){i&&c.selectAll("g.arc").remove();var a=(i=c.select(".chart-group").selectAll("g.arc").data(r(t))).enter().append("g").each(H).each(q).classed("arc",!0).append("path");S?a.merge(i).attr("fill",V).on("mouseover",(function(t){J(this,t,e,n)})).on("mousemove",(function(t){$(this,t,e,n)})).on("mouseout",(function(t){tt(this,t,e,n)})).on("click",(function(t){et(this,t,e,n)})).transition().ease(v).duration(O).attrTween("d",rt):a.merge(i).attr("fill",V).attr("d",o).on("mouseover",(function(t){J(this,t,e,n)})).on("mousemove",(function(t){$(this,t,e,n)})).on("mouseout",(function(t){tt(this,t,e,n)})).on("click",(function(t){et(this,t,e,n)}));i.exit().remove()}(),c.select(".legend-group").append("text").attr("class","donut-text"),s&&(u=c.selectAll(".chart-group .arc path").select(X).node())&&(K(u.__data__),nt(u,A,O)),C&&B.showEmptySlice&&function(){i&&c.selectAll("g.arc").remove();(i=c.select(".chart-group").selectAll("g.arc").data(r(jt))).enter().append("g").each(H).each(q).classed("arc",!0).append("path").merge(i).attr("fill",B.emptySliceColor).attr("d",o).transition().ease(v).duration(O).attrTween("d",rt),i.exit().remove()}())}))}function K(t){t.data&&R&&(c.select(".donut-text").text((function(){return z(t.data)})).attr("dy",".2em").attr("text-anchor","middle"),c.select(".donut-text").call(at,M))}function X(t){if(t.data.id===s)return this}function J(t,e,n,r){K(e),Q.call("customMouseOver",t,e,Object(p.mouse)(t),[n,r]),P&&(E&&t!==E&&nt(E,A-j,150),u&&t!==u&&nt(u,A-j),nt(t,A))}function $(t,e,n,r){Q.call("customMouseMove",t,e,Object(p.mouse)(t),[n,r])}function tt(t,e,n,r){c.select(".donut-text").text(""),u&&D&&!L&&(K(u.__data__),nt(u,A)),(t!==u||!D&&t===u)&&nt(t,A-j,150),L&&(K(t.__data__),nt(t,A),E=t),Q.call("customMouseOut",t,e,Object(p.mouse)(t),[n,r])}function et(t,e,n,r){Q.call("customClick",t,e,Object(p.mouse)(t),[n,r])}function nt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(p.select)(t).transition().delay(n).attrTween("d",(function(t){var n=Object(Ft.interpolate)(t.outerRadius,e);return function(e){return t.outerRadius=n(e),o(t)}}))}function rt(t){var e;return t.innerRadius=0,e=Object(Ft.interpolate)({startAngle:0,endAngle:0},t),function(t){return o(e(t))}}function at(t,e){w.call(null,0,A/5,e,t.node())}return W.animationDuration=function(t){return arguments.length?(O=t,this):O},W.centeredTextFunction=function(t){return arguments.length?(z=t,this):z},W.colorMap=function(t){return arguments.length?(I=t,this):I},W.colorSchema=function(t){return arguments.length?(_=t,this):_},W.emptyDataConfig=function(t){return arguments.length?(B=t,this):B},W.exportChart=function(t,e){return N.call(W,c,t,e)},W.externalRadius=function(t){return arguments.length?(A=t,this):A},W.hasCenterLegend=function(t){return arguments.length?(R=t,this):R},W.hasHoverAnimation=function(t){return arguments.length?(P=t,this):P},W.hasFixedHighlightedSlice=function(t){return arguments.length?(D=t,this):D},W.hasLastHoverSliceHighlighted=function(t){return arguments.length?(L=t,this):L},W.height=function(t){return arguments.length?(b=t,this):b},W.highlightSliceById=function(t){return arguments.length?(s=t,this):s},W.internalRadius=function(t){return arguments.length?(k=t,this):k},W.isAnimated=function(t){return arguments.length?(S=t,this):S},W.isLoading=function(t){return arguments.length?(x=t,this):x},W.margin=function(t){return arguments.length?(m=It(It({},m),t),this):m},W.numberFormat=function(t){return arguments.length?(d=t,this):d},W.on=function(){var t=Q.on.apply(Q,arguments);return t===Q?W:t},W.orderingFunction=function(t){return arguments.length?(U=t,this):U},W.percentageFormat=function(t){return arguments.length?(F=t,this):F},W.radiusHoverOffset=function(t){return arguments.length?(j=t,this):j},W.width=function(t){return arguments.length?(y=t,this):y},W}function Nt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nt(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ht(){var t,e,n,r,o,i,c={top:5,right:5,bottom:5,left:5},l=320,s=180,u=16,f=1.5,g="s",m="",y=!1,b=null,x=!0,v=null,O=T.colorSchemas.britecharts,j=function(t){return t.id},w=function(t){return t.name},A=function(t){var e=t.quantity;return Object(d.format)(g)(e)+m},M=function(e){var n=e.name;return null!==v&&v[n]?v[n]:t(n)},S=function(t){var e=t.quantity;return"number"==typeof e||"string"==typeof e};function C(f){f.each((function(f){var d,g,m,v,C,T,E,B,F,R;n=l-c.left-c.right,r=s-c.top-c.bottom,o=function(t){return x=t.filter(S).length===t.length,t.reduce((function(t,e){return void 0!==e.quantity&&null!==e.quantity&&(e.quantity=+e.quantity),e.name=String(e.name),e.id=+e.id,[].concat(a()(t),[e])}),[])}(f),t=Object(h.scaleOrdinal)().range(O),function(t){i||(i=Object(p.select)(t).append("svg").classed("britechart britechart-legend",!0)).append("g").classed("legend-container-group",!0).attr("transform","translate(".concat(c.left,",").concat(c.top,")")).append("g").classed("legend-group",!0);i.attr("viewBox",[0,0,l,s]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",l).attr("height",s)}(this),y?(R=u,i.select(".legend-group").selectAll("g").remove(),i.select(".legend-group").append("g").classed("legend-line",!0),(e=i.select(".legend-line").selectAll("g.legend-entry").data(o)).enter().append("g").classed("legend-entry",!0).attr("data-item",j).attr("transform",(function(t){var e=t.name,n=R,a=r/2,o=k(e,12);return R+=u+2*L()+o,"translate(".concat(n,",").concat(a,")")})).merge(e).append("circle").classed("legend-circle",!0).attr("cx",u/2).attr("cy",-5).attr("r",u/2).style("fill",M).style("stroke-width",1),i.select(".legend-group").selectAll("g.legend-entry").append("text").classed("legend-entry-name",!0).text(w).attr("x",L()).style("font-size","".concat(12,"px")).style("letter-spacing","".concat(.5,"px")),i.select(".legend-group").selectAll("g.legend-entry").exit().transition().style("opacity",0).remove(),F=i.select(".legend-line").node().getBoundingClientRect().width+u,n-F<=0&&(d=i.selectAll(".legend-entry"),g=d.size(),m=r/2*1.7,v=i.select(".legend-group").append("g").classed("legend-line",!0).attr("transform","translate(0, ".concat(m,")")),(C=d.filter(":nth-child(".concat(g,")"))).attr("transform","translate(".concat(u,",0)")),v.append((function(){return C.node()}))),T=i.select("g.legend-container-group").node().getBoundingClientRect().width+L(),B=(E=l-T)/2,E>0&&i.select("g.legend-container-group").attr("transform","translate(".concat(B,",0)"))):function(){i.select(".legend-group").selectAll("g").remove(),(e=i.select(".legend-group").selectAll("g.legend-line").data(o)).enter().append("g").classed("legend-line",!0).append("g").classed("legend-entry",!0).attr("data-item",j).attr("transform",(function(t,e){var n=u+L(),a=(e+1)*(r/(o.length+1));return"translate(".concat(n,",").concat(a,")")})).merge(e).append("circle").classed("legend-circle",!0).attr("cx",u/2).attr("cy",-5).attr("r",u/2).style("fill",M).style("stroke-width",1),i.select(".legend-group").selectAll("g.legend-line").selectAll("g.legend-entry").append("text").classed("legend-entry-name",!0).text(w).attr("x",L()).style("font-size","".concat(12,"px")).style("letter-spacing","".concat(.5,"px")),x?i.select(".legend-group").selectAll("g.legend-line").selectAll("g.legend-entry").append("text").classed("legend-entry-value",!0).text(A).attr("x",n-40).style("font-size","".concat(12,"px")).style("letter-spacing","".concat(.8,"px")).style("text-anchor","end").style("startOffset","100%"):function(){var t=i.select("g.legend-container-group").node().getBoundingClientRect().width,e=l-t,n=e/2-t/2;e>0&&i.select("g.legend-container-group").attr("transform","translate(".concat(n,",0)"))}();i.select(".legend-group").selectAll("g.legend-line").exit().transition().style("opacity",0).remove()}(),b&&(D(),P(b))}))}function D(){i.select(".legend-group").selectAll("g.legend-entry").classed("is-faded",!1)}function P(t){var e=i.select('[data-item="'.concat(t,'"]'));e.nodes().length&&(i.select(".legend-group").selectAll("g.legend-entry").classed("is-faded",!0),e.classed("is-faded",!1))}function L(){return f*u}return C.clearHighlight=function(){D()},C.colorMap=function(t){return arguments.length?(v=t,this):v},C.colorSchema=function(t){return arguments.length?(O=t,this):O},C.height=function(t){return arguments.length?(s=t,this):s},C.highlight=function(t){D(),P(t)},C.highlightEntryById=function(t){return arguments.length?(b=t,this):b},C.isHorizontal=function(t){return arguments.length?(y=t,this):y},C.margin=function(t){return arguments.length?(c=zt(zt({},c),t),this):c},C.marginRatio=function(t){return arguments.length?(f=t,this):f},C.markerSize=function(t){return arguments.length?(u=t,this):u},C.numberFormat=function(t){return arguments.length?(g=t,this):g},C.unit=function(t){return arguments.length?(m=t,this):m},C.width=function(t){return arguments.length?(l=t,this):l},C}var qt,Ut=n(10),Gt=n.n(Ut),Yt=n(23),Vt=n.n(Yt),Qt=n(15),Wt=n(12),Zt={minute:{minute:"numeric"},hour:{hour:"numeric"},day:{day:"numeric"},daymonth:{day:"numeric",month:"short"},month:{month:"short"},year:{year:"numeric"}},Kt=function(t,e){var n=new Date(t);return n.setDate(n.getDate()+e),String(n)},Xt=function(t,e){return Math.ceil(Math.abs((new Date(t).getTime()-new Date(e).getTime())/864e5))},Jt=function(t){return Math.ceil(t/864e5)},$t=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day",n=Zt[e],r=new Intl.DateTimeFormat(t,n);return function(t){return r.format(t)}},te={minute:Object(Wt.timeFormat)("%M m"),hour:Object(Wt.timeFormat)("%H %p"),day:Object(Wt.timeFormat)("%e"),daymonth:Object(Wt.timeFormat)("%d %b"),month:Object(Wt.timeFormat)("%b"),year:Object(Wt.timeFormat)("%Y")},ee=(qt={},i()(qt,yt.MINUTE_HOUR,mt.timeHour.every(1)),i()(qt,yt.HOUR_DAY,mt.timeDay.every(1)),i()(qt,yt.DAY_MONTH,mt.timeMonth.every(1)),i()(qt,yt.MONTH_YEAR,mt.timeYear.every(1)),qt),ne=function(t){return t<bt.ONE_DAY?yt.HOUR_DAY:t<bt.ONE_YEAR?yt.DAY_MONTH:yt.MONTH_YEAR},re=function(t,e){var n=Math.ceil(t/70);return e<5?mt.timeDay:Math.min(e,n)},ae=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=new Date(t[0].date),o=new Date(t[t.length-1].date),i=o-a;r&&("undefined"==typeof Intl||"object"===("undefined"==typeof Intl?"undefined":C()(Intl))&&!Intl.DateTimeFormat)&&(r=null),n||(n=ne(i));var c=n.split("-"),l=Gt()(c,2),s=l[0],u=l[1],f=ee[n],d=re(e,Jt(i));return{minor:{format:r?$t(r,s):te[s],tick:d},major:{format:r?$t(r,u):te[u],tick:f}}},oe=function(t,e){var n=t[0].date;return{tick:function(t,e){var n=Math.ceil(t/70);return Math.min(e,n)}(e,t[t.length-1].date-n)}},ie=ae,ce="highlight-filter",le=function(t){return t.append("defs").append("filter").attr("id",ce)},se=function(t){t.attr("x","-500%").attr("y","-500%").attr("width","1800%").attr("height","1800%"),t.append("feColorMatrix").attr("type","matrix").attr("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"),t.append("feGaussianBlur").attr("stdDeviation","1").attr("result","coloredBlur").attr("in","SourceGraphic");var e=t.append("feMerge");return e.append("feMergeNode").attr("in","coloredBlur"),e.append("feMergeNode").attr("in","SourceGraphic"),ce},ue=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*n,a=100,o=50;t.transition().ease(e).duration(a).attr("r",r).transition().ease(e).delay(o).duration(a).attr("r",n)},fe=function(t,e){return"number"===e?Number(t):new Date(t)},de=function(t){return null!=t},he=["dates"];function pe(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ge(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function ge(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function me(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ye(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?me(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function be(){var t,e,n,r,o,i,u,g,m,y,b,x,v,O,j,w,A,k,M={top:60,right:30,bottom:40,left:70},S=960,C=500,D=!1,P=480,L=15,E=0,B=T.colorSchemas.britecharts,F=null,R=T.colorGradients.greenBlue,I=ut("one-line-gradient"),_=null,z=null,H="date",q="linear",U=null,G=null,Y=null,V=!1,Q=!1,W=l.easeQuadInOut,Z=vt,X="linear",J="date",$="value",tt="topic",et=null,nt=null,rt=null,at=null,ot=36,it=5,ft=!1,dt=[],ht=T.colorSchemas.grey[3],mt=null,bt={},xt=function(t){return t.date},jt=function(t){return t.value},wt=function(t){return t.topic},At=function(t){return t.topicName},kt=Object(f.dispatch)("customMouseOver","customMouseOut","customMouseMove","customDataEntryClick","customTouchMove");function Mt(l){l.each((function(l){var f,d,k=function(t){var e=t.dataByTopic,n=t.dataSorted,r=t.data;if(!e&&!r)throw new Error("Data needs to have a dataByTopic or data property. See more in http://britecharts.github.io/britecharts/global.html#LineChartData__anchor");e?(r=e.reduce((function(t,e){return e.dates.forEach((function(n){t.push({topicName:e.topicName,name:e[tt],date:n[J],value:n[$]})})),t}),[]),console.debug("Lookout! You are using an old data shape (dataByTopic), please use the new flatter version as this one will be deprecated in version 4")):e=Object(Qt.nest)().key(At).entries(r).map((function(t){return{topic:t.values[0].name,topicName:t.key,dates:t.values}}));return n=Object(Qt.nest)().key(xt).entries(r).map((function(t){return{date:fe(t.key,H),topics:t.values}})),{dataByTopic:e.reduce((function(t,e){var n=e.dates,r=Vt()(e,he),a=n.map((function(t){return{date:fe(t[J],H),value:(e=t[$],null===e?null:+e)};var e}));return t.push(ye({dates:a},r)),t}),[]),dataSorted:n}}(l);(v=k.dataByTopic,O=k.dataSorted,n=S-M.left-M.right,r=C-M.top-M.bottom,function(e){t||(t=Object(p.select)(e).append("svg").classed("britechart line-chart",!0),function(){var e=t.append("g").classed("container-group",!0).attr("transform","translate(".concat(M.left,",").concat(M.top,")"));t.append("g").classed("loading-state-group",!0),e.append("g").classed("x-axis-group",!0).append("g").classed("axis x",!0),e.selectAll(".x-axis-group").append("g").classed("axis sub-x",!0),e.append("g").classed("y-axis-group",!0).append("g").classed("axis y",!0),e.append("g").classed("grid-lines-group",!0),e.append("g").classed("custom-lines-group",!0),e.append("g").classed("chart-group",!0),e.append("g").classed("metadata-group",!0)}());t.attr("viewBox",[0,0,S,C]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",S).attr("height",C)}(this),D)?t.select(".loading-state-group").html(K):(t.select(".loading-state-group svg").remove(),function(){s=Object(c.min)(v,(function(t){var e=t.dates;return Object(c.min)(e,xt)})),f=Object(c.max)(v,(function(t){var e=t.dates;return Object(c.max)(e,xt)})),o="number"===H?"logarithmic"===q?Object(h.scaleLog)().domain([s,f]).rangeRound([0,n]):Object(h.scaleLinear)().domain([s,f]).rangeRound([0,n]):Object(h.scaleTime)().domain([s,f]).rangeRound([0,n]),t=Object(c.max)(v,(function(t){var e=t.dates;return Object(c.max)(e,jt)})),e=Object(c.min)(v,(function(t){var e=t.dates;return Object(c.min)(e,jt)})),a=e<0||ft?e:0,l=0===e&&0===t?1:t,i=Object(h.scaleLinear)().domain([a,l]).rangeRound([r,0]).nice();var t,e,a,l;var s,f;var d=(u=Object(h.scaleOrdinal)().range(B).domain(v.map(wt))).range();F=F||u.domain().reduce((function(t,e,n){return t[e]=d[n],t}),{})}(),function(){var e,a;if("number"===H)e=oe(O,S),a=null,g="logarithmic"===q?Object(s.axisBottom)(o).ticks(e.tick,"e").tickFormat((function(t){var e=Math.log(t)/Math.LN10;return Math.abs(Math.round(e)-e)<1e-6?"10^"+Math.round(e):""})):Object(s.axisBottom)(o).ticks(e.tick).tickFormat(Ct);else{if("custom"===U&&"string"==typeof Y)e={tick:G,format:Object(Wt.timeFormat)(Y)},a=null;else{var l=ae(O,S,U,x);e=l.minor,a=l.major,m=Object(s.axisBottom)(o).ticks(a.tick).tickSize(0,0).tickFormat(a.format)}g=Object(s.axisBottom)(o).ticks(e.tick).tickSize(10,0).tickPadding(5).tickFormat(e.format)}y=Object(s.axisLeft)(i).ticks(it).tickSize([0]).tickPadding(5).tickFormat(Ct),function(e,a){t.select(".grid-lines-group").selectAll("grid").remove();var l=Object(c.min)(v,(function(t){var e=t.dates;return Object(c.min)(e,jt)}))<0;"horizontal"!==mt&&"full"!==mt||(!function(e){Pt(i).range([0,n]).hideEdges("first").ticks(e)(t.select(".grid-lines-group")),t.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",0).attr("x2",n).attr("y1",r).attr("y2",r)}(a),l&&t.select(".horizontal").selectAll(".grid-line").attr("class",(function(t){return 0===t?"grid-line horizontal-grid-line--highlighted":"grid-line"})));"vertical"!==mt&&"full"!==mt||function(e){Lt(o).range([0,r]).hideEdges("first").ticks(e)(t.select(".grid-lines-group")),t.select(".grid-lines-group").selectAll("line.extended-y-line").data([0]).enter().append("line").attr("class","extended-y-line").attr("y1",E).attr("y2",r).attr("x1",0).attr("x2",0)}(e)}(e.tick,it),function(){t.select(".custom-lines-group").selectAll(".custom-line").remove(),t.select(".custom-lines-group").selectAll(".custom-line-annotation").remove();var e=dt.map((function(t){return t.y}));t.select(".custom-lines-group").selectAll("line.custom-line").data(e).enter().append("line").attr("class","custom-line").attr("x1",0).attr("x2",n).attr("y1",(function(t){return i(t)})).attr("y2",(function(t){return i(t)})).attr("stroke",(function(t){return e=t,dt.find((function(t){return t.y===e})).color||ht;var e})).attr("fill","none");var r,a=pe(dt);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.name&&t.select(".custom-lines-group").append("text").attr("x",n).attr("y",i(o.y)-6).attr("class","custom-line-annotation").attr("text-anchor","end").attr("dominant-baseline","baseline").text(o.name)}}catch(t){a.e(t)}finally{a.f()}}()}(),function(){t.select(".x-axis-group .axis.x").attr("transform","translate(0, ".concat(r,")")).call(g),"custom"!==U&&"number"!==H&&t.select(".x-axis-group .axis.sub-x").attr("transform","translate(0, ".concat(r+30,")")).call(m);if(et){nt&&t.selectAll(".x-axis-label").remove();var e=n/2,a=r+30+36;nt=t.select(".x-axis-group").append("text").attr("x",e).attr("y",a).attr("text-anchor","middle").attr("class","x-axis-label").text(et)}if(t.select(".y-axis-group .axis.y").attr("transform","translate(".concat(-L,", 0)")).call(y).call(St),rt){at&&t.selectAll(".y-axis-label").remove();var o=-ot-L,i=-r/2;at=t.select(".y-axis-group").append("text").attr("x",i).attr("y",o).attr("text-anchor","middle").attr("transform","rotate(270)").attr("class","y-axis-label").text(rt)}}(),b||(b=t.select(".metadata-group").append("linearGradient").attr("id",I).attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","0%").attr("gradientUnits","userSpaceOnUse").selectAll("stop").data([{offset:"0%",color:R[0]},{offset:"100%",color:R[1]}]).enter().append("stop").attr("offset",(function(t){return t.offset})).attr("stop-color",(function(t){return t.color}))),bt={},d=Object(gt.line)().curve(Ot[X]).x((function(t){var e=t.date;return o(e)})).defined((function(t){return null!==t.value})).y((function(t){var e=t.value;return i(e)})),f=t.select(".chart-group").selectAll(".line").data(v,wt),e=f.enter().append("g").attr("class","topic").append("path").attr("class","line").merge(f).attr("id",(function(t){return t.topic})).attr("d",(function(t){var e=t.dates;return d(e)})).attr("stroke",(function(t){return 1===v.length?"url(#".concat(I,")"):(e=t.topic,F[e]);var e})).attr("fill","none"),f.exit().remove(),function(){if(Q){var t=e.nodes().reduce(Dt,0);e.attr("stroke-dasharray",t+" "+3*t).style("will-change","stroke-dasharray").attr("stroke-dashoffset",t).transition().duration(Z).ease(W).attr("stroke-dashoffset",10)}}(),S>P&&(j||(j=t.select(".metadata-group").append("rect").attr("class","overlay").attr("y1",0).attr("y2",C).attr("height",r).attr("width",n).attr("fill","rgba(0, 0, 0, 0)").style("display","none")),w||(w=t.select(".metadata-group").append("g").attr("class","hover-marker vertical-marker-container").attr("transform","translate(9999, 0)"),A=w.selectAll("path").data([{x1:0,y1:0,x2:0,y2:0}]).enter().append("line").classed("vertical-marker",!0).attr("x1",0).attr("y1",r).attr("x2",0).attr("y2",0)),t.on("mouseover",(function(t){!function(t,e){j.style("display","block"),A.classed("bc-is-active",!0),kt.call("customMouseOver",t,e,Object(p.mouse)(t))}(this,t)})).on("mouseout",(function(t){!function(t,e){j.style("display","none"),A.classed("bc-is-active",!1),w.attr("transform","translate(9999, 0)"),kt.call("customMouseOut",t,e,Object(p.mouse)(t))}(this,t)})).on("mousemove",(function(n){var r,a,i,l,s,u,f,d,h,g,m,y,b,x,v,j,A;h=this,m=Object(p.mouse)(h),y=Gt()(m,2),b=y[0],x=y[1],v=-M.left,r=b+v,s=o.invert(r),u=(0,Object(c.bisector)(xt).left)(O,s,1),f=O[u],d=O[u-1],(j=d&&f?(a=s,i=f,l=d,"number"===H?a-i.date>l.date-a?i:l:new Date(a).getTime()-new Date(i.date).getTime()>new Date(l.date).getTime()-new Date(a).getTime()?i:l):f)&&(g=o(new Date(j.date)),A=g,w.attr("transform","translate(".concat(A,",0)")),function(n){w.selectAll(".circle-container").remove();var r=e.nodes().reduce((function(t,e){return t[e.id]=e,t}),{}),a=n.topics.map((function(t){return{topic:t,node:r[t.name]}})).filter((function(t){return!!t.topic})).sort((function(t,e){return F[t.topic.name]<F[e.topic.name]}));n.topics=a.map((function(t){return t.topic})),n.topics.forEach((function(e,r){var i=w.append("g").classed("circle-container",!0).append("circle").classed("data-point-highlighter",!0).attr("cx",12).attr("cy",0).attr("r",5).style("stroke-width",(function(){return V?5:2})).style("stroke",F[e.name]).style("cursor","pointer").on("click",(function(){!function(e){_||(_=le(t.select(".metadata-group")),z=se(_));var n=Object(p.select)(e);n.style("stroke-width",5).style("stroke-opacity",.6).attr("filter","url(#".concat(z,")")),ue(n,W,5)}(this),function(t,e){kt.call("customDataEntryClick",t,e,Object(p.mouse)(t))}(this,e)})).on("mouseout",(function(){var t;t=this,Object(p.select)(t).attr("filter","none")})),c=a[r].node,l=Tt(o(new Date(n.topics[r].date)),c,e.name);i.attr("transform","translate( ".concat(-12,", ").concat(l," )"))}))}(j),kt.call("customMouseMove",h,j,F,g,x))}))),V&&function(){t.select(".chart-group").selectAll(".data-points-container").remove();var n=e.nodes().reduce((function(t,e){return t[e.id]=e,t}),{}),r=O.reduce((function(t,e){var r=e.topics.map((function(t){return{topic:t,node:n[t.name]}}));return t=[].concat(a()(t),a()(r))}),[]);t.select(".chart-group").append("g").classed("data-points-container",!0).selectAll("circle").data(r).enter().append("circle").classed("data-point-mark",!0).attr("r",5).style("stroke-width",2).style("stroke",(function(t){return F[t.topic.name]})).style("cursor","pointer").attr("cx",(function(t){return o(new Date(t.topic.date))})).attr("cy",(function(t){return Tt(o(new Date(t.topic.date)),t.node,t.topic.name)}))}(),t.on("touchmove",(function(t){!function(t,e){kt.call("customTouchMove",t,e,Object(p.touch)(t))}(this,t)})))}))}function St(t){t.selectAll(".tick text").attr("transform","translate(0, -7)")}function Ct(t){var e;return e=ct(t)?st:lt,k&&(e=Object(d.format)(k)),e(t)}function Dt(t,e){return t>e.getTotalLength()?t:e.getTotalLength()}function Tt(t,e,n,r){var a="".concat(n,"-").concat(t);if(a in bt)return bt[a];r=r||.01;var o,i=0,c=e.getTotalLength();try{o=e.getPointAtLength((c+i)/2)}catch(t){o={x:0,y:0}}for(var l=0;t<o.x-r||t>o.x+r;){var s=(i+c)/2;try{o=e.getPointAtLength(s)}catch(t){o={x:0,y:0}}if(t<o.x?c=s:i=s,100<(l+=1))break}return bt[a]=o.y,bt[a]}return Mt.animationDuration=function(t){return arguments.length?(Z=t,this):Z},Mt.axisTimeCombinations=yt,Mt.xAxisLabel=function(t){return arguments.length?(et=t,this):et},Mt.yAxisLabel=function(t){return arguments.length?(rt=t,this):rt},Mt.colorSchema=function(t){return arguments.length?(B=t,this):B},Mt.colorMap=function(t){return arguments.length?(F=t,this):F},Mt.dateLabel=function(t){return arguments.length?(J=t,pt("date"),this):J},Mt.xAxisCustomFormat=function(t){return arguments.length?(Y=t,this):Y},Mt.xAxisFormat=function(t){return arguments.length?(U=t,this):U},Mt.xTicks=function(t){return arguments.length?(G=t,this):G},Mt.grid=function(t){return arguments.length?(mt=t,this):mt},Mt.hasMinimumValueScale=function(t){return arguments.length?(ft=t,this):ft},Mt.height=function(t){return arguments.length?(C=t,this):C},Mt.isAnimated=function(t){return arguments.length?(Q=t,this):Q},Mt.lines=function(t){return arguments.length?(dt=t,this):dt},Mt.lineCurve=function(t){return arguments.length?(X=t,this):X},Mt.lineGradient=function(t){return arguments.length?(R=t,this):R},Mt.isLoading=function(t){return arguments.length?(D=t,this):D},Mt.locale=function(t){return arguments.length?(x=t,this):x},Mt.margin=function(t){return arguments.length?(M=ye(ye({},M),t),this):M},Mt.numberFormat=function(t){return arguments.length?(k=t,this):k},Mt.shouldShowAllDataPoints=function(t){return arguments.length?(V=t,this):V},Mt.tooltipThreshold=function(t){return arguments.length?(P=t,this):P},Mt.topicLabel=function(t){return arguments.length?(tt=t,pt("topic"),this):tt},Mt.valueLabel=function(t){return arguments.length?($=t,pt("value"),this):$},Mt.yAxisLabelPadding=function(t){return arguments.length?(ot=t,this):ot},Mt.yTicks=function(t){return arguments.length?(it=t,this):it},Mt.width=function(t){return arguments.length?(S=t,this):S},Mt.exportChart=function(e,n){return N.call(Mt,t,e,n)},Mt.on=function(){var t=kt.on.apply(kt,arguments);return t===kt?Mt:t},Mt.xAxisValueType=function(t){return arguments.length?(H=t,this):H},Mt.xAxisScale=function(t){return arguments.length?(q=t,this):q},Mt}function xe(){var t,e,n,r,a,o,i,c,s,u=2,f=2,h=2,g=2,m="Tooltip title",y=!0,b={y:-55,x:0},x=48,v=0,O=37,j=0,w=l.easeQuadInOut,A="date",S="value",D="name",P="topics",L=yt.DAY_MONTH,T="date",E=null,B=null,F=[],R=null,I=null,_=Object(Wt.timeFormat)("%b %d, %Y"),N=Object(Wt.timeFormat)("%b %d, %I %p");function z(a){a.each((function(a){250-g-f,45-u-h,a,function(a){s||((s=Object(p.select)(a).append("g").classed("britechart britechart-tooltip",!0).style("visibility","hidden")).append("g").classed("tooltip-container-group select-disable",!0).attr("transform","translate( ".concat(g,", ").concat(u,")")).append("g").classed("tooltip-group",!0),e=s.selectAll(".tooltip-group").append("g").classed("tooltip-text",!0),t=e.append("rect").classed("tooltip-background",!0).attr("x",-50.5).attr("y",0).attr("width",250).attr("height",x).attr("rx",3).attr("ry",3),r=e.append("text").classed("tooltip-title",!0).attr("x",Y()).attr("dy","0em").attr("y",24).style("fill","#6D717A"),n=e.append("g").classed("tooltip-body",!0).style("fill","#282C35"),o=V(Date.now()),(i=M(o,16,230))>1&&(j=17*(i-1)));var o,i;s.transition().attr("width",250).attr("height",45),z.hide()}(this)}))}function H(t){var e=t[S];return t.missingValue?"-":function(t){if(null!==I)return I(t);var e=lt;return t?(null!==R?e=Object(d.format)(R):ct(t)&&(e=st),e(t)):0}(e).toString()}function q(t){var e,r,c,l,s=t[D];r=t.topicName||s,c=H(t),l=n.append("text").classed("tooltip-left-text",!0).attr("dy","1em").attr("x",v).attr("y",O).style("fill","#000000").text(r).call(Q,170,-22),e=n.append("text").classed("tooltip-right-text",!0).attr("dy","1em").attr("x",v).attr("y",O).style("fill","#000000").text(c),a=l.node().getBBox().height?l.node().getBBox().height:a,x+=a+5,o=e.node().getBBox().width?e.node().getBBox().width:o,e.attr("x",250-o-10-62.5),n.append("circle").classed("tooltip-circle",!0).attr("cx",-32.5).attr("cy",O+8).attr("r",4).style("fill",i[s]).style("stroke-width",1),O+=a+7}function U(e,n){var r,a,o,i=(r=[e,n],a=Gt()(r,2),o=a[0],a[1],[o-250<0?65:-215,b.y]),c=Gt()(i,2),l=c[0],u=c[1];s.transition().duration(100).ease(w).style("opacity",1),t.attr("width",250).attr("height",x),s.selectAll(".tooltip-group").transition().duration(100).ease(w).attr("transform","translate(".concat(l,", ").concat(u,")"))}function G(t){return"number"===T?Number(t):function(t){var e=E||L,n=null,r={month:"short",day:"numeric"};e===yt.DAY_MONTH||e===yt.MONTH_YEAR?(n=_,r.year="numeric"):e===yt.HOUR_DAY||e===yt.MINUTE_HOUR?(n=N,r.hour="numeric"):e===yt.CUSTOM&&"string"==typeof B&&(n=Object(Wt.timeFormat)(B));if(c&&"undefined"!=typeof Intl&&"object"===("undefined"==typeof Intl?"undefined":C()(Intl))&&Intl.DateTimeFormat){return Intl.DateTimeFormat(c,r).format(t)}return n(t)}(new Date(t))}function Y(){return-38.5}function V(t){var e=m,n=G(t);return e.length?y&&(e="".concat(e," - ").concat(n)):e=n,e}function Q(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t.each((function(){var r,a,o,i,c,l,s;for(r=(t=Object(p.select)(this)).text().split(/\s+/).reverse(),o=[],i=0,1.2,c=t.attr("y"),l=parseFloat(t.attr("dy")),s=t.text(null).append("tspan").attr("x",n).attr("y",c).attr("dy",l+"em");a=r.pop();){o.push(a),s.text(o.join(" ")),k(o.join(" "),16,"Karla, sans-serif")>e&&(o.pop(),s.text(o.join(" ")),i<2&&(o=[a],s=t.append("tspan").attr("x",n).attr("y",c).attr("dy",1.2*++i+l+"em").text(a)))}}))}function W(t){var e=t[P];F.length?e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F;return e.map((function(e){return t.filter((function(t){return t.name===e}))[0]}))}(e):e.length&&e[0].name&&(e=function(t){return t.map((function(t){return t})).sort((function(t,e){return t.name>e.name?1:t.name===e.name?0:-1}))}(e)),n.selectAll("text").remove(),n.selectAll("circle").remove(),function(t){var e=V(t[A]);r.text(e).call(Q,230,-38.5)}(t),x=48+j+12,O=37+j,v=0,e.forEach(q)}function Z(t,e,n){W(t),U(e,n)}return z.axisTimeCombinations=yt,z.dateFormat=function(t){return arguments.length?(E=t,this):E||L},z.dateCustomFormat=function(t){return arguments.length?(B=t,this):B},z.dateLabel=function(t){return arguments.length?(A=t,pt("date"),this):A},z.hide=function(){return s.style("visibility","hidden"),this},z.locale=function(t){return arguments.length?(c=t,this):c},z.nameLabel=function(t){return arguments.length?(D=t,pt("name"),this):D},z.numberFormat=function(t){return arguments.length?(R=t,this):R},z.valueFormatter=function(t){return arguments.length?(I=t,this):I},z.shouldShowDateInTitle=function(t){return arguments.length?(y=t,this):y},z.show=function(){return s.style("visibility","visible").style("opacity",0),this},z.title=function(t){return arguments.length?(m=t,this):m},z.tooltipOffset=function(t){return arguments.length?(b=t,this):b},z.topicsOrder=function(t){return arguments.length?(F=t,this):F},z.topicLabel=function(t){return arguments.length?(P=t,pt("topic"),this):P},z.update=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return i=e,Z(t,n,r),this},z.valueLabel=function(t){return arguments.length?(S=t,pt("value"),this):S},z.xAxisValueType=function(t){return arguments.length?(T=t,this):T},z}function ve(){var t,e,n,r,a,o=12,i=12,s=12,u=12,f="",h="value",g="name",m=l.easeQuadInOut,y=0,b=20,x=".2f",v=function(t){return Object(d.format)(x)(t)};function O(c){c.each((function(){n=100-u-i,r=100-o-s,function(t){a||(a=Object(p.select)(t).append("g").classed("britechart britechart-mini-tooltip",!0)).append("g").classed("tooltip-container-group",!0).attr("transform","translate( ".concat(u,", ").concat(o,")")).append("g").classed("tooltip-group",!0);a.transition().attr("width",100).attr("height",100),O.hide()}(this),e=a.selectAll(".tooltip-group").append("g").classed("tooltip-text select-disable",!0),t=e.append("rect").classed("tooltip-background",!0).attr("width",100).attr("height",100).attr("rx",2).attr("ry",2).attr("y",-o).attr("x",-u).style("pointer-events","none")}))}function j(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.filter((function(t){return!!t})).map((function(t){return t.node().getBBox().width}));return Object(c.max)(r)}function w(t,e){var a=Gt()(t,2),c=a[0],l=a[1],f=Gt()(e,2),d=f[0],h=f[1];return[function(t,e){return t-u-i-n-e>0}(d,c)?c+b:c-n-b-i,function(t,e){return t-o-s-r-e>0}(h,l)?l+y:l-r-y-s]}function A(){var t,a,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=i[h]||"",l=i[g]||"",s=21,u=31.86,d="1em",p=0;e.selectAll("text").remove(),f&&(o=e.append("text").classed("mini-tooltip-title",!0).attr("dy",d).attr("y",0).style("fill","#666a73").style("font-size",14).text(f),p=s+p),l&&(a=e.append("text").classed("mini-tooltip-name",!0).attr("dy",d).attr("y",p||0).style("fill","#666a73").style("font-size",14).text(l),p=s+p),de(c)&&(t=e.append("text").classed("mini-tooltip-value",!0).attr("dy",d).attr("y",p||0).style("fill","#45494E").style("font-size",27).style("font-weight",200).text(v(c)),p=u+p),n=j(a,o,t),r=p}function k(e,c,l){var f,d,h,p;A(e),f=w(c,l),d=Gt()(f,2),h=d[0],p=d[1],a.transition().duration(200).ease(m).style("opacity",1).attr("height",r+o+s).attr("width",n+u+i).attr("transform","translate(".concat(h,",").concat(p,")")),t.attr("height",r+o+s).attr("width",n+u+i)}return O.hide=function(){return a.style("visibility","hidden"),this},O.nameLabel=function(t){return arguments.length?(g=t,pt("name"),this):g},O.numberFormat=function(t){return arguments.length?(x=t,this):x},O.valueFormatter=function(t){return arguments.length?(v=t,this):v},O.show=function(){return A(),a.style("visibility","visible").style("opacity",0),this},O.title=function(t){return arguments.length?(f=t,this):f},O.update=function(t,e,n){return k(t,e,n),this},O.valueLabel=function(t){return arguments.length?(h=t,pt("value"),this):h},O}function Oe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oe(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var we={"font-size":"22px","font-family":"sans-serif","font-style":"normal","font-weight":0};function Ae(){var t,e,n,r,o,i,s,u,f,d,g,m,y,b,x={left:5,right:5,top:5,bottom:5},v=100,O=30,j=!1,w=["#F5FDFF","#F6FEFC"],A=ut("sparkline-area-gradient"),k=T.colorGradients.greenBlue,M=ut("sparkline-line-gradient"),S=ut("maskingClip"),C=!1,D=vt,P=l.easeQuadInOut,L=we,E="value",B="date",F=function(t){return t.date},R=function(t){return t.value};function I(l){l.each((function(l){s=v-x.left-x.right,u=O-x.top-x.bottom,f=l.reduce((function(t,e){return e.date=new Date(e[B]),e.value=+e[E],[].concat(a()(t),[e])}),[]),function(t){i||(i=Object(p.select)(t).append("svg").classed("britechart sparkline",!0),function(){var t=i.append("g").classed("container-group",!0).attr("transform","translate(".concat(x.left,",").concat(x.top,")"));i.append("g").classed("loading-state-group",!0),t.append("g").classed("text-group",!0),t.append("g").classed("chart-group",!0),t.append("g").classed("metadata-group",!0)}());i.attr("viewBox",[0,0,v,O]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",v).attr("height",O)}(this),j?i.select(".loading-state-group").html(J):(i.select(".loading-state-group svg").remove(),t=Object(h.scaleLinear)().domain(Object(c.extent)(f,F)).range([0,s]),e=Object(h.scaleLinear)().domain(Object(c.extent)(f,R)).range([u,0]),function(){var e=i.select(".metadata-group");(n||r)&&(i.selectAll("#".concat(A)).remove(),i.selectAll("#".concat(M)).remove());n=e.append("linearGradient").attr("id",A).attr("class","area-gradient").attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("x2",t(f[f.length-1].date)).attr("y1",0).attr("y2",0).selectAll("stop").data([{offset:"0%",color:w[0]},{offset:"100%",color:w[1]}]).enter().append("stop").attr("offset",(function(t){return t.offset})).attr("stop-color",(function(t){return t.color})),r=e.append("linearGradient").attr("id",M).attr("class","line-gradient").attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("x2",t(f[f.length-1].date)).attr("y1",0).attr("y2",0).selectAll("stop").data([{offset:"0%",color:k[0]},{offset:"100%",color:k[1]}]).enter().append("stop").attr("offset",(function(t){return t.offset})).attr("stop-color",(function(t){return t.color}))}(),function(){o&&i.selectAll("#".concat(S)).remove();C&&(o=i.select(".metadata-group").append("clipPath").attr("id",S).attr("class","clip-path").append("rect").attr("width",0).attr("height",O),Object(p.select)("#".concat(S," rect")).transition().ease(P).duration(D).attr("width",v))}(),function(){g&&i.selectAll(".sparkline-area").remove();g=Object(gt.area)().x((function(e){var n=e.date;return t(n)})).y0((function(){return e(0)+1})).y1((function(t){var n=t.value;return e(n)})).curve(gt.curveBasis),i.select(".chart-group").append("path").datum(f).attr("class","sparkline-area").attr("fill","url(#".concat(A,")")).attr("d",g).attr("clip-path","url(#".concat(S,")"))}(),function(){d&&i.selectAll(".line").remove();d=Object(gt.line)().curve(gt.curveBasis).x((function(e){var n=e.date;return t(n)})).y((function(t){var n=t.value;return e(n)})),i.select(".chart-group").append("path").datum(f).attr("class","line").attr("stroke","url(#".concat(M,")")).attr("d",d).attr("clip-path","url(#".concat(S,")")).attr("fill","none")}(),function(){m&&i.selectAll(".sparkline-circle").remove();m=i.selectAll(".chart-group").append("circle").attr("class","sparkline-circle").attr("cx",t(f[f.length-1].date)).attr("cy",e(f[f.length-1].value)).attr("r",1.5)}(),b&&function(){y&&i.selectAll(".sparkline-text").remove();y=i.selectAll(".text-group").append("text").attr("x",s/2).attr("y",u/6).attr("text-anchor","middle").attr("class","sparkline-text").style("font-size",L["font-size"]||we["font-size"]).style("fill",L.fill||k[0]).style("font-family",L["font-family"]||we["font-family"]).style("font-weight",L["font-weight"]||we["font-weight"]).style("font-style",L["font-style"]||we["font-style"]).text(b)}())}))}return I.animationDuration=function(t){return arguments.length?(D=t,this):D},I.areaGradient=function(t){return arguments.length?(w=t,this):w},I.dateLabel=function(t){return arguments.length?(B=t,pt("date"),this):B},I.exportChart=function(t,e){return N.call(I,i,t,e)},I.height=function(t){return arguments.length?(O=t,this):O},I.isAnimated=function(t){return arguments.length?(C=t,this):C},I.lineGradient=function(t){return arguments.length?(k=t,this):k},I.isLoading=function(t){return arguments.length?(j=t,this):j},I.margin=function(t){return arguments.length?(x=je(je({},x),t),this):x},I.titleText=function(t){return arguments.length?(b=t,this):b},I.titleTextStyle=function(t){return arguments.length?(L=t,this):L},I.valueLabel=function(t){return arguments.length?(E=t,pt("value"),this):E},I.width=function(t){return arguments.length?(v=t,this):v},I}function ke(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Me(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ke(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Se=function(t){return t.filter((function(t,e,n){return n.indexOf(t)===e}))};function Ce(){var t,e,n,r,o,u,d,g,m,y,b,x,v,O,j,w,A,k,M,S,C,D,P,L,E,B,F={top:70,right:30,bottom:60,left:70},R=960,I=500,_=!1,z="date",H="linear",q=5,U=0,G=-60,Y=T.colorSchemas.britecharts,V=T.colorGradients.greenBlue,Q=null,W=null,Z=null,K=.24,J=null,$=null,tt=null,et="monotoneX",nt=Object(c.range)(20,200,20),rt=!1,at=l.easeQuadInOut,ot=vt,it=!0,ut=null,ft=480,dt=15,ht=0,mt="date",bt="value",xt="name",jt={minDate:new Date((new Date).setDate((new Date).getDate()-30)),maxDate:new Date,minY:0,maxY:500},wt=!1,At=function(t){return t.name},kt=function(t){return t.date},Mt=Object(f.dispatch)("customMouseOver","customMouseOut","customMouseMove","customDataEntryClick","customTouchMove");function St(l){l.each((function(l){var f,T,N,W,Z,ct,lt;(C=R-F.left-F.right,D=I-F.top-F.bottom,P=(N=0===(N=l).length?(f=Xt(jt.minDate,jt.maxDate),T=Array.apply(null,Array(f)),wt=!0,[].concat(a()(T.map((function(t,e){var n;return n={},i()(n,mt,Kt(jt.minDate,e)),i()(n,bt,0),i()(n,xt,"1"),n}))),a()(T.map((function(t,e){var n;return n={},i()(n,mt,Kt(jt.minDate,e)),i()(n,bt,0),i()(n,xt,"2"),n}))))):N).reduce((function(t,e){return e.date=fe(e[mt],z),e.value=+e[bt],[].concat(a()(t),[e])}),[]),L=function(t){return Object(Qt.nest)().key(kt).entries(t.sort((function(t,e){return t.date-e.date}))).map((function(t){return Object.assign({},t,{date:fe(t.key,z)})}))}(P),function(t){S||(S=Object(p.select)(t).append("svg").classed("britechart stacked-area",!0),function(){var t=S.append("g").classed("container-group",!0).attr("transform","translate(".concat(F.left,",").concat(F.top,")"));S.append("g").classed("loading-state-group",!0),t.append("g").classed("x-axis-group",!0).append("g").classed("x axis",!0),t.selectAll(".x-axis-group").append("g").classed("axis sub-x",!0),t.append("g").classed("y-axis-group axis",!0),t.append("g").classed("grid-lines-group",!0),t.append("g").classed("y-axis-label",!0),t.append("g").classed("chart-group",!0),t.append("g").classed("metadata-group",!0)}());S.attr("viewBox",[0,0,R,I]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",R).attr("height",I)}(this),_)?S.select(".loading-state-group").html(X):(S.select(".loading-state-group svg").remove(),function(){E=L.map((function(t){return Object.assign({},t,t.values)})).map((function(t){return Object.keys(t).forEach((function(e){var n=t[e];n&&n.name&&(t[n.name]=n.value)})),Object.assign({},t,{date:fe(t.key,z)})})),B=L.map((function(t){return Object.assign({},t,t.values)})).map((function(t){return Object.keys(t).forEach((function(e){var n=t[e];n&&n.name&&(t[n.name]=0)})),Object.assign({},t,{date:fe(t.key,z)})}));var t=Se(P.map(At)).reduce((function(t,e){return Object.assign({},t,i()({},e,0))}),{}),e=P.reduce((function(t,e){return Object.assign({},t,i()({},e.name,t[e.name]+=e.value))}),t);g=m||function(t){var e=Object.keys(t).sort((function(e,n){return t[e]>t[n]?-1:t[e]===t[n]?0:1})),n=e.indexOf("Other");if(n>=0){var r=e.splice(n,1);e=e.concat(r)}return e}(e);var n=Object(gt.stack)().keys(g).order(gt.stackOrderNone).offset(gt.stackOffsetNone);v=n(B),b=function(t){if(0===U)return t;return t=t.map((function(t){return t.map((function(t){return t[0]=U,t})),t}))}(n(E))}(),t="number"===z?"logarithmic"===H?Object(h.scaleLog)().domain(Object(c.extent)(L,(function(t){return t.date}))).rangeRound([0,C]):Object(h.scaleLinear)().domain(Object(c.extent)(L,(function(t){return t.date}))).rangeRound([0,C]):Object(h.scaleTime)().domain(Object(c.extent)(L,(function(t){return t.date}))).rangeRound([0,C]),ct=Tt(),lt=wt?jt.maxY:Object(c.max)([(W=Se(P.map((function(t){return t.name}))),Z=Object(c.max)(E,(function(t){var e=W.map((function(e){return t[e]}));return Object(c.sum)(e)})),Z),U]),r=Object(h.scaleLinear)().domain([ct,lt]).rangeRound([D,0]).nice(),Q=Q||g.reduce((function(t,e,n){return Object.assign({},t,i()({},e,Y[n]))}),{}),function(){var a,i;if("number"===z)a=oe(L,R),i=null,e="logarithmic"===H?Object(s.axisBottom)(t).ticks(a.tick,"e").tickFormat((function(t){var e=Math.log(t)/Math.LN10;return Math.abs(Math.round(e)-e)<1e-6?"10^"+Math.round(e):""})):Object(s.axisBottom)(t).ticks(a.tick).tickFormat(Ct);else{if("custom"===J&&"string"==typeof tt)a={tick:$,format:Object(Wt.timeFormat)(tt)},i=null;else{var c=ae(L,R,J,y);a=c.minor,i=c.major,n=Object(s.axisBottom)(t).ticks(i.tick).tickSize(0,0).tickFormat(i.format)}e=Object(s.axisBottom)(t).ticks(a.tick).tickSize(10,0).tickPadding(5).tickFormat(a.format)}o=Object(s.axisRight)(r).ticks(q).tickSize([0]).tickPadding(5).tickFormat(Ct),function(){S.select(".grid-lines-group").selectAll("grid").remove();var e=Tt()<0;"horizontal"!==ut&&"full"!==ut||(Pt(r).range([0,C]).hideEdges("first").ticks(q)(S.select(".grid-lines-group")),S.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",0).attr("x2",C).attr("y1",D).attr("y2",D),e&&S.select(".horizontal").selectAll(".grid-line").attr("class",(function(t){return 0===t?"grid-line horizontal-grid-line--highlighted":"grid-line"})));"vertical"!==ut&&"full"!==ut||(Lt(t).range([0,D]).hideEdges("first").ticks($)(S.select(".grid-lines-group")),S.select(".grid-lines-group").selectAll("line.extended-y-line").data([0]).enter().append("line").attr("class","extended-y-line").attr("y1",ht).attr("y2",D).attr("x1",0).attr("x2",0))}(a.tick)}(),function(){S.select(".x-axis-group .axis.x").attr("transform","translate( 0, ".concat(D," )")).call(e),"custom"!==J&&"number"!==z&&S.select(".x-axis-group .axis.sub-x").attr("transform","translate(0, ".concat(D+30,")")).call(n);S.select(".y-axis-group.axis").attr("transform","translate( ".concat(-dt,", 0)")).call(o).call(Dt),u&&(d&&S.selectAll(".y-axis-label-text").remove(),d=S.select(".y-axis-label").append("text").classed("y-axis-label-text",!0).attr("x",-D/2).attr("y",G).attr("text-anchor","middle").attr("transform","rotate(270 0 0)").text(u))}(),function(){x&&(S.selectAll(".layer-container").remove(),S.selectAll(".layer").remove(),S.selectAll(".area-outline").remove());if(wt)return e=Object(gt.line)().x((function(e){return t(e.date)})).y((function(){return r(0)-1})),(n=S.select(".chart-group")).append("path").attr("class","empty-data-line").attr("d",e(E)).style("stroke","url(#empty-data-line-gradient)"),void n.append("linearGradient").attr("id","empty-data-line-gradient").attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("x2",t(P[P.length-1].date)).attr("y1",0).attr("y2",0).selectAll("stop").data([{offset:"0%",color:V[0]},{offset:"100%",color:V[1]}]).enter().append("stop").attr("offset",(function(t){return t.offset})).attr("stop-color",(function(t){return t.color}));var e,n;O=Object(gt.area)().curve(Ot[et]).x((function(e){var n=e.data;return t(n.date)})).y0((function(t){return r(t[0])})).y1((function(t){return r(t[1])})),j=Object(gt.line)().curve(O.curve()).x((function(e){var n=e.data;return t(n.date)})).y((function(t){return r(t[1])})),rt?((x=S.select(".chart-group").selectAll(".layer").data(v,At).enter().append("g").classed("layer-container",!0)).append("path").attr("class","layer").attr("d",O).style("opacity",K).attr("fill",(function(t){var e=t.key;return Q[e]})),x.append("path").attr("class","area-outline").attr("d",j).style("stroke",(function(t){var e=t.key;return Q[e]})).attr("fill","none"),S.select(".chart-group").selectAll(".layer").data(b).transition().delay((function(t,e){return nt[e]})).duration(ot).ease(at).attr("d",O).style("opacity",K).attr("fill",(function(t){var e=t.key;return Q[e]})),S.select(".chart-group").selectAll(".area-outline").data(b).transition().delay((function(t,e){return nt[e]})).duration(ot).ease(at).attr("d",j).attr("fill","none")):((x=S.select(".chart-group").selectAll(".layer").data(b).enter().append("g").classed("layer-container",!0)).append("path").attr("class","layer").attr("d",O).style("opacity",K).attr("fill",(function(t){var e=t.key;return Q[e]})),x.append("path").attr("class","area-outline").attr("d",j).style("stroke",(function(t){var e=t.key;return Q[e]})),S.select(".chart-group").selectAll(".layer").attr("d",O).style("opacity",K).attr("fill",(function(t){var e=t.key;return Q[e]})),S.select(".chart-group").selectAll(".area-outline").attr("class","area-outline").attr("d",j).style("stroke",(function(t){var e=t.key;return Q[e]})));it||S.select(".chart-group").selectAll(".area-outline").style("display","none");x.exit().transition().style("opacity",0).remove()}(),S.on("touchmove",(function(t){!function(t,e){Mt.call("customTouchMove",t,e,Object(p.touch)(t))}(this,t)})),R>ft&&!wt&&(!function(){w&&S.selectAll(".overlay").remove();w=S.select(".metadata-group").append("rect").attr("class","overlay").attr("y1",0).attr("y2",D).attr("height",D).attr("width",C).attr("fill","rgba(0, 0, 0, 0)").style("display","none")}(),function(){A&&S.selectAll(".vertical-marker-container").remove();A=S.select(".metadata-group").append("g").attr("class","vertical-marker-container").attr("transform","translate(9999, 0)"),k=A.selectAll("path").data([{x1:0,y1:0,x2:0,y2:0}]).enter().append("line").classed("vertical-marker",!0).attr("x1",0).attr("y1",D).attr("x2",0).attr("y2",0)}(),S.on("mouseover",(function(t){!function(t,e){w.style("display","block"),k.classed("bc-is-active",!0),Mt.call("customMouseOver",t,e,Object(p.mouse)(t))}(this,t)})).on("mouseout",(function(t){!function(t,e){w.style("display","none"),k.classed("bc-is-active",!1),A.attr("transform","translate(9999, 0)"),Mt.call("customMouseOut",t,e,Object(p.mouse)(t))}(this,t)})).on("mousemove",(function(e){!function(e){M||Bt();var n,r=Object(p.mouse)(e),a=Gt()(r,2),o=a[0],i=a[1],c=Et(o-F.left);c&&(Rt(n=t(new Date(c.key))),Ft(c),Mt.call("customMouseMove",e,c,Q,n,i))}(this)}))))}))}function Ct(t){return(ct(t)?st:lt)(t)}function Dt(t){t.selectAll(".tick text").attr("transform","translate(".concat(-20,", ").concat(-8,")"))}function Tt(){return wt?jt.minY:Object(c.min)([Object(c.min)(P.map((function(t){return t.value}))),(t=Se(P.map((function(t){return t.name}))),Object(c.min)(E,(function(e){var n=t.map((function(t){return e[t]}));return Object(c.sum)(n)}))),U,0]);var t}function Et(e){var n=L.filter((function(n){var r=n.date;return Math.abs(t(r)-e)<=M}));if(n.length)return n[0]}function Bt(){var e=L.map((function(t){return t.date}));M=(t(e[1])-t(e[0]))/2}function Ft(t){var e=t.values,n=0;A.selectAll(".circle-container").remove();var o=g.reduce((function(t,n){return[].concat(a()(t),[e.find((function(t){return t.name===n}))])}),[]);o.forEach((function(t,e){var a=A.append("g").classed("circle-container",!0).append("circle").classed("data-point-highlighter",!0).attr("cx",12).attr("cy",0).attr("r",5).style("stroke-width",1.2).style("stroke",Q[t.name]).style("cursor","pointer").on("click",(function(){!function(t){W||(W=le(S.select(".metadata-group")),Z=se(W));var e=Object(p.select)(t);e.style("stroke-width",5).style("stroke-opacity",.6).attr("filter","url(#".concat(Z,")")),ue(e,at,7)}(this),function(t,e){Mt.call("customDataEntryClick",t,e,Object(p.mouse)(t))}(this,t)})).on("mouseout",(function(){var t;t=this,Object(p.select)(t).attr("filter","none")}));n+=o[e][bt],a.attr("transform","translate( ".concat(-12,", ").concat(r(n)," )"))}))}function Rt(t){A.attr("transform","translate(".concat(t,",0)"))}return St.animationDuration=function(t){return arguments.length?(ot=t,this):ot},St.areaCurve=function(t){return arguments.length?(et=t,this):et},St.areaOpacity=function(t){return arguments.length?(K=t,this):K},St.axisTimeCombinations=yt,St.colorMap=function(t){return arguments.length?(Q=t,this):Q},St.colorSchema=function(t){return arguments.length?(Y=t,this):Y},St.dateLabel=function(t){return arguments.length?(mt=t,pt("date"),this):mt},St.emptyDataConfig=function(t){return arguments.length?(jt=t,this):jt},St.grid=function(t){return arguments.length?(ut=t,this):ut},St.hasOutline=function(t){return arguments.length?(it=t,this):it},St.height=function(t){return arguments.length?(I=t,this):I},St.isAnimated=function(t){return arguments.length?(rt=t,this):rt},St.keyLabel=function(t){return arguments.length?(xt=t,pt("name"),this):xt},St.margin=function(t){return arguments.length?(F=Me(Me({},F),t),this):F},St.tooltipThreshold=function(t){return arguments.length?(ft=t,this):ft},St.topicsOrder=function(t){return arguments.length?(m=t,this):m},St.isLoading=function(t){return arguments.length?(_=t,this):_},St.locale=function(t){return arguments.length?(y=t,this):y},St.exportChart=function(t,e){return N.call(St,S,t,e)},St.on=function(){var t=Mt.on.apply(Mt,arguments);return t===Mt?St:t},St.valueLabel=function(t){return arguments.length?(bt=t,pt("value"),this):bt},St.width=function(t){return arguments.length?(R=t,this):R},St.xAxisCustomFormat=function(t){return arguments.length?(tt=t,this):tt},St.xAxisFormat=function(t){return arguments.length?(J=t,this):J},St.xAxisValueType=function(t){return arguments.length?(z=t,this):z},St.xAxisScale=function(t){return arguments.length?(H=t,this):H},St.xTicks=function(t){return arguments.length?($=t,this):$},St.yAxisLabel=function(t){return arguments.length?(u=t,this):u},St.yAxisLabelOffset=function(t){return arguments.length?(G=t,this):G},St.yTicks=function(t){return arguments.length?(q=t,this):q},St.yAxisBaseline=function(t){return arguments.length?(U=t,this):U},St}var De=n(24),Pe=n(18);function Le(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Le(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ee(){var t,e,n,r,o,i,u,g,m,y,b,x,v,O,j,w,A,k,M,S,C,D,P,L={top:20,right:10,bottom:20,left:40},E=960,B=500,F=null,R=6,I=null,_=null,z="number",H="",q="",U=-50,G=-50,Y=gt.curveBasis,V=-45,Q=0,W=0,Z=.24,K=1,X=1,J=null,$=Z,tt=10,et=T.colorSchemas.britecharts,nt=!1,rt=!1,at=!1,it=!1,ct=l.easeCircleIn,lt=vt,st=!1,ut=null,ft=d,ht=Object(f.dispatch)("customClick","customMouseMove","customMouseOver","customMouseOut"),pt=function(t){return t.name},mt=function(t){return t.data};function yt(l){ut&&(ft=dt(ut)),l.each((function(l){t=l.reduce((function(t,e){return e.name=String(e.name),e.x=e.x,e.y=e.y,[].concat(a()(t),[e])}),[]),D=E-L.left-L.right,P=B-L.top-L.bottom,function(){var e=[Object(c.min)(t,(function(t){return t.x})),Object(c.min)(t,(function(t){return t.y}))],n=e[0],a=e[1],i=[Object(c.max)(t,(function(t){return t.x})),Object(c.max)(t,(function(t){return t.y}))],l=i[0],s=i[1],f=Math.abs(a)<0?Math.abs(a):0;o=r=Object(h.scaleLinear)().domain([n,l]).rangeRound([0,D]).nice(),g=u=Object(h.scaleLinear)().domain([f,s]).rangeRound([P,0]).nice(),y=Object(h.scaleOrdinal)().domain(t.map(pt)).range(et),m=Object(h.scaleSqrt)().domain([f,s]).range([0,tt]);var d=y.range();F=F||y.domain().reduce((function(t,e,n){return t[e]=d[n],t}),{})}(),function(t){C||(C=Object(p.select)(t).append("svg").classed("britechart scatter-plot",!0),function(){var t=C.append("g").classed("container-group",!0).attr("transform","translate(".concat(L.left,", ").concat(L.top,")"));t.append("g").classed("grid-lines-group",!0),t.append("g").classed("chart-group",!0),t.append("g").classed("x-axis-group",!0).append("g").classed("axis x",!0),t.append("g").classed("y-axis-group",!0).append("g").classed("axis y",!0),t.append("g").classed("axis-labels-group",!0),t.append("g").classed("metadata-group",!0)}());C.attr("viewBox",[0,0,E,B]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",E).attr("height",B)}(this),function(t){n=Object(s.axisBottom)(r).ticks(R).tickPadding(5).tickFormat(Ot()),i=Object(s.axisLeft)(u).ticks(I).tickPadding(5).tickFormat(t.format(q))}(ft),e=Object(De.voronoi)().x((function(t){return r(t.x)})).y((function(t){return u(t.y)})).extent([[0,0],[D,P]])(t),C.select(".x-axis-group .axis.x").attr("transform","translate(0, ".concat(P,")")).call(n),C.select(".y-axis-group .axis.y").call(i),b&&(x&&C.selectAll(".y-axis-label-text").remove(),x=C.select(".axis-labels-group").append("g").attr("class","y-axis-label").append("text").classed("y-axis-label-text",!0).attr("x",-P/2).attr("y",U-Q).attr("text-anchor","middle").attr("transform","rotate(270 0 0)").text(b)),v&&(O&&C.selectAll(".x-axis-label-text").remove(),O=C.selectAll(".axis-labels-group").append("g").attr("class","x-axis-label").append("text").classed("x-axis-label-text",!0).attr("x",D/2).attr("y",P-G).attr("text-anchor","middle").text(v)),function(){C.select(".grid-lines-group").selectAll("grid").remove(),("horizontal"===_||"full"===_)&&(Pt(u).range([0,D]).hideEdges("first").ticks(I)(C.select(".grid-lines-group")),C.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",Q).attr("x2",D).attr("y1",P).attr("y2",P));"vertical"!==_&&"full"!==_||(Lt(r).range([0,P]).hideEdges("first").ticks(R)(C.select(".grid-lines-group")),C.select(".grid-lines-group").selectAll("line.extended-y-line").data([0]).enter().append("line").attr("class","extended-y-line").attr("y1",W).attr("y2",P).attr("x1",0).attr("x2",0))}(),function(){J=C.select(".metadata-group").selectAll("circle.highlight-circle").data([1]).enter().append("circle").attr("class","highlight-circle").attr("cursor","pointer"),rt&&(M=C.select(".chart-group").append("g").attr("class","crosshair-lines-container"),S=C.select(".metadata-group").append("g").attr("class","crosshair-labels-container"),M.selectAll("line.highlight-y-line").data([1]).enter().append("line").attr("class","highlight-y-line"),M.selectAll("line.highlight-x-line").data([1]).enter().append("line").attr("class","highlight-x-line"),S.selectAll("text.highlight-y-legend").data([1]).enter().append("text").attr("class","highlight-y-legend"),S.selectAll("text.highlight-x-legend").data([1]).enter().append("text").attr("class","highlight-x-legend"),S.selectAll("text.highlight-x-legend").data([1]).enter().append("text").attr("class","highlight-x-legend"));J.exit().remove()}(),function(){var e=C.select(".chart-group").attr("clip-path","url(#".concat("scatter-clip-path",")")).selectAll("circle").data(t).enter();nt?e.append("circle").attr("class","data-point").transition().delay(500).duration(lt).ease(ct).attr("stroke-opacity",K).attr("stroke-width",X).style("stroke",(function(t){return F[t.name]})).attr("fill",(function(t){return st?"#fff":F[t.name]})).attr("fill-opacity",Z).attr("r",(function(t){return m(t.y)})).attr("cx",(function(t){return r(t.x)})).attr("cy",(function(t){return u(t.y)})).style("cursor","pointer"):e.append("circle").attr("class","data-point").attr("stroke-opacity",K).attr("stroke-width",X).style("stroke",(function(t){return F[t.name]})).attr("fill",(function(t){return st?"#fff":F[t.name]})).attr("fill-opacity",Z).attr("r",(function(t){return m(t.y)})).attr("cx",(function(t){return r(t.x)})).attr("cy",(function(t){return u(t.y)})).style("cursor","pointer");e.exit().remove()}(),C.selectAll(".chart-group").append("clipPath").attr("id","scatter-clip-path").append("rect").attr("width",D).attr("height",P).attr("x",0).attr("y",-1*tt),function(){if(!it)return;var t=Object(Pe.zoom)();t.scaleExtent([.5,20]).extent([[0,0],[E,B]]).on("zoom",bt),C.append("rect").attr("class","zoom").attr("width",D).attr("height",P).style("fill","none").style("pointer-events","all").attr("transform","translate(".concat(L.left,", ").concat(L.top,")")).call(t)}(),at&&function(t){j&&j.remove();var e=[{x:t.x1,y:t.y1},{x:t.x2,y:t.y2}],n=Object(gt.line)().curve(Y).x((function(t){var e=t.x;return r(e)})).y((function(t){var e=t.y;return u(e)})),a=(j=C.selectAll(".chart-group").append("path").attr("class","scatter-trendline").attr("d",n(e)).attr("stroke",et[0]).attr("stroke-width","2").attr("fill","none")).node().getTotalLength();j.attr("stroke-dasharray","".concat(a," ").concat(a)).attr("stroke-dashoffset",a).transition().delay(1500).duration(2e3).ease(ct).attr("stroke-dashoffset",0)}(ot(t)),C.on("mousemove",(function(t){var e,n,a,o;a=xt(e=this),o=mt(a),rt&&(n=o,wt(!0),M.selectAll("line.highlight-y-line").attr("stroke",F[n.name]).attr("class","highlight-y-line").attr("x1",r(n.x)-m(n.y)).attr("x2",0).attr("y1",u(n.y)).attr("y2",u(n.y)),M.selectAll("line.highlight-x-line").attr("stroke",F[n.name]).attr("class","highlight-x-line").attr("x1",r(n.x)).attr("x2",r(n.x)).attr("y1",u(n.y)+m(n.y)).attr("y2",P),S.selectAll("text.highlight-y-legend").attr("text-anchor","middle").attr("fill",F[n.name]).attr("class","highlight-y-legend").attr("y",u(n.y)+m(n.y)/2).attr("x",V).text("".concat(ft.format(q)(n.y))),S.selectAll("text.highlight-x-legend").attr("text-anchor","middle").attr("fill",F[n.name]).attr("class","highlight-x-legend").attr("transform","translate(0, ".concat(P-V,")")).attr("x",r(n.x)-m(n.y)/2).text("".concat(Ot()(n.x)))),function(t){w=t,jt(),A||(A=le(C.select(".metadata-group")),k=se(A)),J.attr("opacity",1).attr("stroke",(function(){return F[t.name]})).attr("fill",(function(){return F[t.name]})).attr("fill-opacity",Z).attr("cx",(function(){return r(t.x)})).attr("cy",(function(){return u(t.y)})).attr("r",(function(){return m(t.y)})).style("stroke-width",10).style("stroke-opacity",$),J.attr("filter","url(#".concat(k,")"))}(o),ht.call("customMouseMove",e,o,Object(p.mouse)(e),[D,P])})).on("mouseover",(function(t){!function(t,e){ht.call("customMouseOver",t,e,Object(p.mouse)(t))}(this,t)})).on("mouseout",(function(t){!function(t,e){jt(),rt&&wt(!1),ht.call("customMouseOut",t,e,Object(p.mouse)(t))}(this,t)})).on("click",(function(){var t,e,n,r;e=xt(t=this),n=mt(e),ue(J,ct,m((r=n).y),m(2*r.y)),ht.call("customClick",t,n,Object(p.mouse)(t),[D,P])}))}))}function bt(t,e,a){var c=Object(Pe.zoomTransform)(a[0]);r=c.rescaleX(o),u=c.rescaleY(g),n.scale(r),i.scale(u),C.select(".x-axis-group .axis.x").call(n),C.select(".y-axis-group .axis.y").call(i),C.select(".chart-group").selectAll("circle").attr("cx",(function(t){return r(t.x)})).attr("cy",(function(t){return u(t.y)})),J.attr("cx",(function(){return r(w.x)})).attr("cy",(function(){return u(w.y)}))}function xt(t){var n=Object(p.mouse)(t);return n[0]-=L.left,n[1]-=L.top,e.find(n[0],n[1])}function Ot(){return"number"===z?d.format(H):Object(Wt.timeFormat)(H)}function jt(){C.selectAll("circle.highlight-circle").attr("opacity",0)}function wt(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t?1:0;M.attr("opacity",e),S.attr("opacity",e)}return yt.animationDuration=function(t){return arguments.length?(lt=t,this):lt},yt.circleStrokeOpacity=function(t){return arguments.length?(K=t,this):K},yt.circleStrokeWidth=function(t){return arguments.length?(X=t,this):X},yt.circleOpacity=function(t){return arguments.length?(Z=t,this):Z},yt.colorMap=function(t){return arguments.length?(F=t,this):F},yt.colorSchema=function(t){return arguments.length?(et=t,this):et},yt.exportChart=function(t,e){return N.call(yt,C,t,e)},yt.grid=function(t){return arguments.length?(_=t,this):_},yt.hasCrossHairs=function(t){return arguments.length?(rt=t,this):rt},yt.hasHollowCircles=function(t){return arguments.length?(st=t,this):st},yt.hasTrendline=function(t){return arguments.length?(at=t,this):at},yt.enableZoom=function(t){return arguments.length?(it=t,this):it},yt.height=function(t){return arguments.length?(B=t,this):B},yt.highlightTextLegendOffset=function(t){return arguments.length?(V=t,this):V},yt.isAnimated=function(t){return arguments.length?(nt=t,this):nt},yt.margin=function(t){return arguments.length?(L=Te(Te({},L),t),this):L},yt.maxCircleArea=function(t){return arguments.length?(tt=t,this):tt},yt.on=function(){var t=ht.on.apply(ht,arguments);return t===ht?yt:t},yt.valueLocale=function(t){return arguments.length?(ut=t,this):ut},yt.width=function(t){return arguments.length?(E=t,this):E},yt.xAxisLabel=function(t){return arguments.length?(v=t,this):v},yt.xAxisLabelOffset=function(t){return arguments.length?(G=t,this):G},yt.xAxisFormat=function(t){return arguments.length?(H=t,this):H},yt.xAxisFormatType=function(t){return arguments.length?(z=t,this):z},yt.xTicks=function(t){return arguments.length?(R=t,this):R},yt.yAxisFormat=function(t){return arguments.length?(q=t,this):q},yt.yAxisLabel=function(t){return arguments.length?(b=t,this):b},yt.yAxisLabelOffset=function(t){return arguments.length?(U=t,this):U},yt.yTicks=function(t){return arguments.length?(I=t,this):I},yt}function Be(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Be(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Re(){var t,e,n,r,o,i,g,m,y,b,x,v,O,j,w,A,k,M,S={top:40,right:30,bottom:60,left:70},C=960,D=500,P=!1,L={y:-8,x:-20},E=5,B=5,F=T.colorSchemas.britecharts,R=null,I=null,_=d,z=l.easeQuadInOut,H=!1,q=480,U=0,G=0,Y=-60,V=vt,Q=null,Z="name",K="value",X="group",J=",f",$=.1,tt=.1,et=function(t){return t.name},nt=function(t){return t.value},rt=function(t){return t.group},at=!1,ot=Object(f.dispatch)("customMouseOver","customMouseOut","customMouseMove","customClick");function it(l){I&&(_=dt(I)),l.each((function(l){b=C-S.left-S.right,x=D-S.top-S.bottom,v=l.reduce((function(t,e){return e.value=+e[K],e.group=e[X],e.topicName=e[X],e.name=e[Z],[].concat(a()(t),[e])}),[]),function(t){y||(y=Object(p.select)(t).append("svg").classed("britechart grouped-bar",!0),function(){var t=y.append("g").classed("container-group",!0).attr("transform","translate(".concat(S.left,",").concat(S.top,")"));y.append("g").classed("loading-state-group",!0),t.append("g").classed("x-axis-group",!0).append("g").classed("x axis",!0),t.append("g").classed("y-axis-group axis",!0),t.append("g").classed("y-axis-label",!0),t.append("g").classed("grid-lines-group",!0),t.append("g").classed("chart-group",!0),t.append("g").classed("metadata-group",!0)}());y.attr("viewBox",[0,0,C,D]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",C).attr("height",D)}(this),P?y.select(".loading-state-group").html(W):(function(t){e=t.map(rt),O=e.filter((function(t,e,n){return n.indexOf(t)==e})),w=Object(Qt.nest)().key(et).rollup((function(t){var e={};return t.forEach((function(t){t&&t[X]&&(e[t[X]]=nt(t))})),e.values=t,e})).entries(t).map((function(t){return Object.assign({},{total:Object(c.sum)(Object(c.permute)(t.value,O)),key:t.key},t.value)}));var e}(v),function(){var n=(a=new Set(v.map(nt)),1===a.size&&a.has(0)?1:Object(c.max)(v.map(nt)));var a;H?(t=Object(h.scaleLinear)().domain([0,n]).rangeRound([0,b-1]),r=Object(h.scaleBand)().domain(v.map(et)).rangeRound([x,0]).padding(tt),o=Object(h.scaleBand)().domain(v.map(rt)).rangeRound([r.bandwidth(),0]).padding($)):(t=Object(h.scaleBand)().domain(v.map(et)).rangeRound([0,b]).padding(tt),e=Object(h.scaleBand)().domain(v.map(rt)).rangeRound([0,t.bandwidth()]).padding(tt),r=Object(h.scaleLinear)().domain([0,n]).rangeRound([x,0]).nice());g=Object(h.scaleOrdinal)().range(F).domain(v.map(rt)),R=R||g.domain(v.map(et)).domain().reduce((function(t,e){return v.forEach((function(n){var r=n.name,a=n.group;r==e&&(t[a]=g(a))})),t}),{})}(),m=w.map((function(t){var e={};return O.forEach((function(n){e[n]=t[n]})),Object.assign({},t,e)})),y.select(".loading-state-group svg").remove(),function(){y.select(".grid-lines-group").selectAll("grid").remove(),("horizontal"===Q||"full"===Q)&&lt();"vertical"!==Q&&"full"!==Q||st();H?st():lt()}(),function(e){H?(n=Object(s.axisBottom)(t).ticks(B,e.format(J)),i=Object(s.axisLeft)(r)):(n=Object(s.axisBottom)(t),i=Object(s.axisLeft)(r).ticks(E,e.format(J)))}(_),function(){H?(y.select(".x-axis-group .axis.x").attr("transform","translate( 0, ".concat(x," )")).call(n),y.select(".y-axis-group.axis").attr("transform","translate( ".concat(-U,", 0)")).call(i)):(y.select(".x-axis-group .axis.x").attr("transform","translate( 0, ".concat(x," )")).call(n),y.select(".y-axis-group.axis").attr("transform","translate( ".concat(-U,", 0)")).call(i).call(ct));A&&(k&&y.selectAll(".y-axis-label-text").remove(),k=y.select(".y-axis-label").append("text").classed("y-axis-label-text",!0).attr("x",-x/2).attr("y",Y).attr("text-anchor","middle").attr("transform","rotate(270 0 0)").text(A))}(),function(){j&&y.selectAll(".layer").remove();var n=y.select(".chart-group").selectAll(".layer");M=Object(c.range)(20,20*(O.length+1),20),H?(a=n.data(m),i=(j=a.enter().append("g").attr("transform",(function(t){var e=t.key;return"translate(0,".concat(r(e),")")})).classed("layer",!0)).selectAll(".bar").data((function(t){return t.values})).enter().append("rect").classed("bar",!0).attr("x",1).attr("y",(function(t){return o(rt(t))})).attr("height",o.bandwidth()).attr("fill",(function(t){var e=t.group;return R[e]})),at?i.style("opacity",.24).transition().delay((function(t,e){return M[e]})).duration(V).ease(z).tween("attr.width",gt):i.attr("width",(function(e){return t(nt(e))}))):function(n){var a=n.data(m),o=(j=a.enter().append("g").attr("transform",(function(e){var n=e.key;return"translate(".concat(t(n),",0)")})).classed("layer",!0)).selectAll(".bar").data((function(t){return t.values})).enter().append("rect").classed("bar",!0).attr("x",(function(t){return e(rt(t))})).attr("y",(function(t){var e=t.value;return r(e)})).attr("width",e.bandwidth).attr("fill",(function(t){var e=t.group;return R[e]}));at?o.style("opacity",.24).transition().delay((function(t,e){return M[e]})).duration(V).ease(z).tween("attr.height",mt):o.attr("height",(function(t){return x-r(nt(t))}))}(n);var a,i;n.exit().transition().style("opacity",0).remove()}(),function(){C>q&&y.select(".chart-group").on("mouseover",(function(t){!function(t,e){ot.call("customMouseOver",t,e,Object(p.mouse)(t))}(this,t)})).on("mouseout",(function(t){!function(t,e){y.select(".metadata-group").attr("transform","translate(9999, 0)"),ot.call("customMouseOut",t,e,Object(p.mouse)(t))}(this,t)})).on("mousemove",(function(n){var a,o,i,c,l,s,u,f,d,h;c=ut(a=this),l=Gt()(c,2),s=l[0],u=l[1],(f=H?ht(u):ft(s))&&(H?(o=s-S.left,i=r(f.key)+r.bandwidth()/2):(o=t(f.key)+e(f[X]),i=u-S.bottom),d=o,h=i,y.select(".metadata-group").attr("transform","translate(".concat(d,",").concat(h,")")),ot.call("customMouseMove",a,f,R,o,i))})).on("click",(function(t){var e,n,r,a,o,i;n=ut(e=this),r=Gt()(n,2),a=r[0],o=r[1],i=H?ht(o):ft(a),ot.call("customClick",e,i,Object(p.mouse)(e))}));y.selectAll(".bar").on("mouseover",(function(t){!function(t,e){Object(p.select)(t).attr("fill",(function(){return Object(u.color)(R[e.group]).darker()}))}(this,t)})).on("mouseout",(function(t){!function(t,e){Object(p.select)(t).attr("fill",(function(){return R[e.group]}))}(this,t)}))}())}))}function ct(t){t.selectAll(".tick text").attr("transform","translate(".concat(L.x,", ").concat(L.y,")"))}function lt(){Pt(r).range([0,b]).hideEdges("first").ticks(E)(y.select(".grid-lines-group")),y.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",U).attr("x2",b).attr("y1",x).attr("y2",x)}function st(){Lt(t).range([0,x]).hideEdges("first").ticks(B)(y.select(".grid-lines-group")),y.select(".grid-lines-group").selectAll("line.extended-y-line").data([0]).enter().append("line").attr("class","extended-y-line").attr("y1",G).attr("y2",x).attr("x1",0).attr("x2",0)}function ut(t){return Object(p.mouse)(t)}function ft(n){var r=n-S.left,a=e.bandwidth(),o=[];return m.forEach((function(n){var i=n.values.find((function(n){return Math.abs(r>=t(n[Z])+e(n[X]))&&Math.abs(r-e(n[X])-t(n[Z])<=a)}));i&&(i.values=n.values,i.key=i.name,o.push(i))})),o.length?o[0]:void 0}function ht(t){var e=t-S.bottom,n=r.bandwidth(),a=[];return m.map((function(t){var o=t.values.find((function(t){return Math.abs(e>=r(t[Z]))&&Math.abs(e-r(t[Z])<=2*n)}));o&&(o.values=t.values,o.key=o.name,a.push(o))})),a.length?a[0]:void 0}function gt(e){var n=Object(p.select)(this),r=Object(Ft.interpolateRound)(0,t(nt(e))),a=Object(Ft.interpolateNumber)(0,1);return function(t){n.attr("width",r(t)).style("opacity",a(t))}}function mt(t){var e=Object(p.select)(this),n=Object(Ft.interpolateRound)(0,x-r(nt(t))),a=Object(Ft.interpolateRound)(x,r(nt(t))),o=Object(Ft.interpolateNumber)(0,1);return function(t){e.attr("y",a(t)).attr("height",n(t)).style("opacity",o(t))}}return it.animationDuration=function(t){return arguments.length?(V=t,this):V},it.betweenBarsPadding=function(t){return arguments.length?($=t,this):$},it.betweenGroupsPadding=function(t){return arguments.length?(tt=t,this):tt},it.colorMap=function(t){return arguments.length?(R=t,this):R},it.colorSchema=function(t){return arguments.length?(F=t,this):F},it.exportChart=function(t,e){return N.call(it,y,t,e)},it.groupLabel=function(t){return arguments.length?(X=t,pt("group"),this):X},it.grid=function(t){return arguments.length?(Q=t,this):Q},it.height=function(t){return arguments.length?(D=t,this):D},it.isHorizontal=function(t){return arguments.length?(H=t,this):H},it.isAnimated=function(t){return arguments.length?(at=t,this):at},it.isLoading=function(t){return arguments.length?(P=t,this):P},it.margin=function(t){return arguments.length?(S=Fe(Fe({},S),t),this):S},it.nameLabel=function(t){return arguments.length?(Z=t,pt("name"),this):Z},it.numberFormat=function(t){return arguments.length?(J=t,this):J},it.on=function(){var t=ot.on.apply(ot,arguments);return t===ot?it:t},it.tooltipThreshold=function(t){return arguments.length?(q=t,this):q},it.valueLabel=function(t){return arguments.length?(K=t,pt("value"),this):K},it.valueLocale=function(t){return arguments.length?(I=t,this):I},it.width=function(t){return arguments.length?(C=t,this):C},it.xTicks=function(t){return arguments.length?(B=t,this):B},it.yAxisLabel=function(t){return arguments.length?(A=t,this):A},it.yAxisLabelOffset=function(t){return arguments.length?(Y=t,this):Y},it.yTicks=function(t){return arguments.length?(E=t,this):E},it.yTickTextOffset=function(t){return arguments.length?(L=t,this):L},it}function Ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _e(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ie(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ne(){var t,e,n,r,o,i,g,m,y,b,x,v,O,j,w,A,k={top:40,right:30,bottom:60,left:70},M=960,S=500,C=!1,D=.1,P=null,L=d,E=5,B=5,F=1,R=T.colorSchemas.britecharts,I=null,_=l.easeQuadInOut,z=!1,H=!1,q=480,U=-60,G=0,Y=0,V=vt,Q=null,Z="name",K="value",X="stack",J=",f",$=function(t){return t[Z]},tt=function(t){return t[X]},et=function(t){return isNaN(t)||t<0?0:t},nt=!1,rt=Object(f.dispatch)("customMouseOver","customMouseOut","customMouseMove","customClick");function at(l){P&&(L=dt(P)),l.each((function(l){var u,f;(m=M-k.left-k.right,y=S-k.top-k.bottom,function(t){v=function(t){return t.filter((function(t,e,n){return n.indexOf(t)==e}))}(t.map((function(t){return t.stack}))),H&&(v=v.reverse());x=Object(Qt.nest)().key($).rollup((function(t){var e={};return t.forEach((function(t){t&&t[X]&&(e[t[X]]=function(t){return t[K]}(t))})),e.values=t,e})).entries(t).map((function(t){return Object.assign({},{total:Object(c.sum)(Object(c.permute)(t.value,v)),key:t.key},t.value)}))}(b=l.reduce((function(t,e){return e.value=+e[K],e.stack=e[X],e.topicName=e[X],e.name=e[Z],[].concat(a()(t),[e])}),[])),function(t){g||(g=Object(p.select)(t).append("svg").classed("britechart stacked-bar",!0),function(){var t=g.append("g").classed("container-group",!0).attr("transform","translate(".concat(k.left,",").concat(k.top,")"));g.append("g").classed("loading-state-group",!0),t.append("g").classed("x-axis-group",!0).append("g").classed("x axis",!0),t.append("g").classed("y-axis-group axis",!0),t.append("g").classed("grid-lines-group",!0),t.append("g").classed("chart-group",!0),t.append("g").classed("y-axis-label",!0),t.append("g").classed("metadata-group",!0)}());g.attr("viewBox",[0,0,M,S]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",M).attr("height",S)}(this),C)?g.select(".loading-state-group").html(W):(g.select(".loading-state-group svg").remove(),function(){var e=(r=new Set(x.map((function(t){return t.total}))),1===r.size&&r.has(0)?1:Object(c.max)(x.map((function(t){return t.total}))));var r;z?(t=Object(h.scaleLinear)().domain([0,e]).rangeRound([0,m-1]),n=Object(h.scaleBand)().domain(b.map($)).rangeRound([y,0]).padding(D)):(t=Object(h.scaleBand)().domain(b.map($)).rangeRound([0,m]).padding(D),n=Object(h.scaleLinear)().domain([0,e]).rangeRound([y,0]).nice());o=Object(h.scaleOrdinal)().range(R).domain(b.map(tt)),I=I||o.domain(b.map(tt)).domain().reduce((function(t,e){return t[e]=o(e),t}),{})}(),u=Object(gt.stack)().keys(v),f=x.map((function(t){var e={};return v.forEach((function(n){e[n]=t[n]})),Object.assign({},t,e)})),i=u(f),function(){g.select(".grid-lines-group").selectAll("grid").remove(),("horizontal"===Q||"full"===Q)&&it();"vertical"!==Q&&"full"!==Q||ct();z?ct():it()}(),function(a){z?(e=Object(s.axisBottom)(t).ticks(B,a.format(J)),r=Object(s.axisLeft)(n)):(e=Object(s.axisBottom)(t),r=Object(s.axisLeft)(n).ticks(E,a.format(J)))}(L),function(){z?(g.select(".x-axis-group .axis.x").attr("transform","translate( 0, ".concat(y," )")).call(e),g.select(".y-axis-group.axis").attr("transform","translate( ".concat(-G,", 0)")).call(r)):(g.select(".x-axis-group .axis.x").attr("transform","translate( 0, ".concat(y," )")).call(e),g.select(".y-axis-group.axis").attr("transform","translate( ".concat(-G,", 0)")).call(r).call(ot));j&&(w&&g.selectAll(".y-axis-label-text").remove(),w=g.select(".y-axis-label").append("text").classed("y-axis-label-text",!0).attr("x",-y/2).attr("y",U).attr("text-anchor","middle").attr("transform","rotate(270 0 0)").text(j))}(),function(){O&&g.selectAll(".layer").remove();var e=g.select(".chart-group").selectAll(".layer");A=Object(c.range)(20,20*(i[0].length+1),20),z?(r=e.data(i),a=(O=r.enter().append("g").attr("fill",(function(t){var e=t.key;return I[e]})).classed("layer",!0)).selectAll(".bar").data((function(t){return lt(t)})).enter().append("rect").classed("bar",!0).attr("x",(function(e){return t(e[0])})).attr("y",(function(t){return n(t.data.key)})).attr("height",n.bandwidth()),nt?a.style("opacity",.24).transition().delay((function(t,e){return A[e]})).duration(V).ease(_).tween("attr.width",yt):a.attr("width",(function(e){return t(e[1]-e[0])}))):function(e){var r=e.data(i),a=(O=r.enter().append("g").attr("fill",(function(t){var e=t.key;return I[e]})).classed("layer",!0)).selectAll(".bar").data((function(t){return lt(t)})).enter().append("rect").classed("bar",!0).attr("x",(function(e){return t(e.data.key)})).attr("y",(function(t){return n(t[1])})).attr("width",t.bandwidth);nt?a.style("opacity",.24).transition().delay((function(t,e){return A[e]})).duration(V).ease(_).tween("attr.height",bt):a.attr("height",(function(t){return n(t[0])-n(t[1])}))}(e);var r,a;e.exit().transition().style("opacity",0).remove()}(),function(){M>q&&g.select(".chart-group").on("mouseover",(function(t){!function(t,e){rt.call("customMouseOver",t,e,Object(p.mouse)(t))}(this,t)})).on("mouseout",(function(t){!function(t,e){g.select(".metadata-group").attr("transform","translate(9999, 0)"),rt.call("customMouseOut",t,e,Object(p.mouse)(t))}(this,t)})).on("mousemove",(function(e){var r,a,o,i,c,l,s,u,f,d;i=st(r=this),c=Gt()(i,2),l=c[0],s=c[1],(u=z?ft(s):ut(l))&&(z?(a=l-k.left,o=n(u.key)+n.bandwidth()/2):(a=t(u.key)+k.left,o=s-k.bottom),f=a,d=o,g.select(".metadata-group").attr("transform","translate(".concat(f,",").concat(d,")")),rt.call("customMouseMove",r,u,I,a,o))})).on("click",(function(t){var e,n,r,a,o,i;n=st(e=this),r=Gt()(n,2),a=r[0],o=r[1],i=z?ft(o):ut(a),rt.call("customClick",e,i,Object(p.mouse)(e))}));g.selectAll(".bar").on("mouseover",ht).on("mouseout",mt)}())}))}function ot(t){t.selectAll(".tick text").attr("transform","translate(".concat(-20,", ").concat(-8,")"))}function it(){Pt(n).range([0,m]).hideEdges("first").ticks(E)(g.select(".grid-lines-group")),g.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",G).attr("x2",m).attr("y1",y).attr("y2",y)}function ct(){Lt(t).range([0,y]).hideEdges("first").ticks(B)(g.select(".grid-lines-group")),g.select(".grid-lines-group").selectAll("line.extended-y-line").data([0]).enter().append("line").attr("class","extended-y-line").attr("y1",Y).attr("y2",y).attr("x1",0).attr("x2",0)}function lt(t){return t.map((function(t){for(var e=0;e<t.length;e++)t[e]=et(t[e]);return t}))}function st(t){return Object(p.mouse)(t)}function ut(e){var n=e-k.left;return x.find((function(e){var r=e.key,a=t(r),o=a+t.bandwidth();return n>=a&&n<o}))}function ft(t){var e=t-k.top;return x.find((function(t){var r=t.key,a=n(r),o=a+n.bandwidth();return e>=a&&e<o}))}function ht(){var t=this;Object(p.select)(this).attr("fill",(function(){return Object(u.color)(Object(p.select)(t.parentNode).attr("fill")).darker()}))}function mt(){var t=this;Object(p.select)(this).attr("fill",(function(){return Object(p.select)(t.parentNode).attr("fill")}))}function yt(e){var n=Object(p.select)(this),r=Object(Ft.interpolateRound)(0,t(e[1]-e[0])),a=Object(Ft.interpolateNumber)(0,1);return function(t){n.attr("width",r(t)).style("opacity",a(t))}}function bt(t){var e=n(t[0])-n(t[1]),r=Object(p.select)(this),a=Object(Ft.interpolateRound)(0,et(e)),o=Object(Ft.interpolateNumber)(0,1);return function(t){r.attr("height",a(t)).style("opacity",o(t))}}return at.animationDuration=function(t){return arguments.length?(V=t,this):V},at.betweenBarsPadding=function(t){return arguments.length?(D=t,this):D},at.colorMap=function(t){return arguments.length?(I=t,this):I},at.colorSchema=function(t){return arguments.length?(R=t,this):R},at.exportChart=function(t,e){return N.call(at,g,t,e)},at.grid=function(t){return arguments.length?(Q=t,this):Q},at.hasPercentage=function(t){return arguments.length?(J=t?"%":",f",this):"%"===J},at.height=function(t){return arguments.length?(S=t,this):S},at.hasReversedStacks=function(t){return arguments.length?(H=t,this):H},at.isAnimated=function(t){return arguments.length?(nt=t,this):nt},at.isHorizontal=function(t){return arguments.length?(z=t,this):z},at.isLoading=function(t){return arguments.length?(C=t,this):C},at.margin=function(t){return arguments.length?(k=_e(_e({},k),t),this):k},at.nameLabel=function(t){return arguments.length?(Z=t,pt("name"),this):Z},at.numberFormat=function(t){return arguments.length?(J=t,this):J},at.on=function(){var t=rt.on.apply(rt,arguments);return t===rt?at:t},at.percentageAxisToMaxRatio=function(t){return arguments.length?(F=t,this):F},at.stackLabel=function(t){return arguments.length?(X=t,pt("stack"),this):X},at.tooltipThreshold=function(t){return arguments.length?(q=t,this):q},at.valueLabel=function(t){return arguments.length?(K=t,pt("value"),this):K},at.valueLocale=function(t){return arguments.length?(P=t,this):P},at.width=function(t){return arguments.length?(M=t,this):M},at.xTicks=function(t){return arguments.length?(B=t,this):B},at.yAxisLabel=function(t){return arguments.length?(j=t,this):j},at.yAxisLabelOffset=function(t){return arguments.length?(U=t,this):U},at.yTicks=function(t){return arguments.length?(E=t,this):E},at}function ze(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function He(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ze(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function qe(){var t,e,n,r,o,i,l={top:40,right:20,bottom:20,left:40},s=780,u=270,d=30,g=T.colorSchemas.red,m=vt,y=!1,b=["Mo","Tu","We","Th","Fr","Sa","Su"],x=Object(f.dispatch)("customMouseOver","customMouseOut","customMouseMove","customClick"),v=function(t){return t.value};function O(f){f.each((function(f){var O,j,w;e=f.reduce((function(t,e){var n=e.day,r=e.hour,o=e.value;return[].concat(a()(t),[{day:+n,hour:+r,value:+o}])}),[]),n=s-l.left-l.right,r=u-l.top-l.bottom,o=Object(h.scaleLinear)().range([g[0],g[g.length-1]]).domain(Object(c.extent)(e,v)).interpolate(Ft.interpolateHcl),function(e){t||(t=Object(p.select)(e).append("svg").classed("britechart heatmap",!0),function(){var e=t.append("g").classed("container-group",!0).attr("transform","translate(".concat(l.left,", ").concat(l.top,")"));e.append("g").classed("chart-group",!0),e.append("g").classed("day-labels-group",!0),e.append("g").classed("hour-labels-group",!0),e.append("g").classed("metadata-group",!0)}());t.attr("viewBox",[0,0,s,u]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",s).attr("height",u)}(this),O=t.select(".day-labels-group"),j=i||b,t.select(".day-labels-group").selectAll(".day-label").data(j).enter().append("text").text((function(t){return t})).attr("x",0).attr("y",(function(t,e){return e*d})).style("text-anchor","start").style("dominant-baseline","central").attr("class","day-label y-axis-label"),O.attr("transform","translate(-".concat(30,", ").concat(d/2,")")),w=t.select(".hour-labels-group"),t.select(".hour-labels-group").selectAll(".hour-label").data(xt).enter().append("text").text((function(t){return t})).attr("y",0).attr("x",(function(t,e){return e*d})).style("text-anchor","middle").style("dominant-baseline","central").attr("class","hour-label"),w.attr("transform","translate(".concat(d/2,", -").concat(20,")")),function(){var a=t.select(".chart-group").selectAll(".box").data(e).enter().append("rect").classed("box",!0).attr("width",d).attr("height",d).attr("x",(function(t){return t.hour*d})).attr("y",(function(t){return t.day*d})).style("opacity",.2).style("fill","#BBBBBB").style("stroke","#FFFFFF").style("stroke-width",2).on("mouseover",(function(t,e,a){!function(t,e,n,r,a){x.call("customMouseOver",t,e,Object(p.mouse)(t),[r,a])}(this,t,0,n,r)})).on("mousemove",(function(t){!function(t,e,n,r){x.call("customMouseMove",t,e,Object(p.mouse)(t),[n,r])}(this,t,n,r)})).on("mouseout",(function(t,e,a){!function(t,e,n,r,a){x.call("customMouseOut",t,e,Object(p.mouse)(t),[r,a])}(this,t,0,n,r)})).on("click",(function(t){!function(t,e,n,r){x.call("customClick",t,e,Object(p.mouse)(t),[n,r])}(this,t,n,r)}));y?a.transition().duration(m).style("fill",(function(t){var e=t.value;return o(e)})).style("opacity",1):a.style("fill",(function(t){var e=t.value;return o(e)})).style("opacity",1);a.exit().remove()}()}))}return O.animationDuration=function(t){return arguments.length?(m=t,this):m},O.boxSize=function(t){return arguments.length?(d=t,this):d},O.colorSchema=function(t){return arguments.length?(g=t,this):g},O.exportChart=function(e,n){N.call(O,t,e,n)},O.height=function(t){return arguments.length?(u=t,this):u},O.isAnimated=function(t){return arguments.length?(y=t,this):y},O.margin=function(t){return arguments.length?(l=He(He({},l),t),this):l},O.on=function(){var t=x.on.apply(x,arguments);return t===x?O:t},O.yAxisLabels=function(t){return arguments.length?(i=t,this):i},O.width=function(t){return arguments.length?(s=t,this):s},O}function Ue(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ge(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ue(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ye(){var t,e,n,r,o,i,u,g,m,y,b,x,v,O,j={top:20,right:20,bottom:30,left:40},w=960,A=500,k=!1,M=l.easeQuadInOut,S=6,C=80,D=-20,P=0,L=Object(f.dispatch)("customMouseOver","customMouseOut","customMouseMove"),T=Object(d.format)(".3"),E=function(t){return t.key},B=function(t){return t.value};function F(l){l.each((function(l){var f;(e=w-j.left-j.right,n=A-j.top-j.bottom,t=l.reduce((function(t,e){return e.value=+e.value,e.key=String(e.key),[].concat(a()(t),[e])}),[]),console.warn('The Step Chart is being deprecated! Please use a line chart with lineCurve "step" for your visualization!'),function(t){x||(x=Object(p.select)(t).append("svg").classed("britechart step-chart",!0),function(){var t=x.append("g").classed("container-group",!0).attr("transform","translate(".concat(j.left,", ").concat(j.top,")"));x.append("g").classed("loading-state-group",!0),t.append("g").classed("grid-lines-group",!0),t.append("g").classed("chart-group",!0),t.append("g").classed("x-axis-group axis",!0).append("g").classed("x-axis-label",!0),t.append("g").classed("y-axis-group axis",!0).append("g").classed("y-axis-label",!0),t.append("g").classed("metadata-group",!0)}());x.attr("viewBox",[0,0,w,A]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",w).attr("height",A)}(this),k)?x.select(".loading-state-group").html(W):(x.select(".loading-state-group svg").remove(),r=Object(h.scaleBand)().domain(t.map(E)).rangeRound([0,e]).paddingInner(0),o=Object(h.scaleLinear)().domain([0,Object(c.max)(t,B)]).rangeRound([n,0]),i=Object(s.axisBottom)(r),m=Object(s.axisLeft)(o).ticks(S).tickPadding(8).tickFormat(T),function(){v&&x.selectAll(".horizontal-grid-line").remove();O&&x.selectAll(".extended-x-line").remove();v=x.select(".grid-lines-group").selectAll("line.horizontal-grid-line").data(o.ticks(S)).enter().append("line").attr("class","horizontal-grid-line").attr("x1",P).attr("x2",e).attr("y1",(function(t){return o(t)})).attr("y2",(function(t){return o(t)})),O&&x.selectAll(".extended-x-line").remove();O=x.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",P).attr("x2",e).attr("y1",n).attr("y2",n)}(),(f=x.select(".chart-group").selectAll(".step").data(t)).enter().append("rect").classed("step",!0).attr("x",e).attr("y",(function(t){var e=t.value;return o(e)})).attr("width",r.bandwidth()).attr("height",(function(t){return n-o(t.value)})).on("mouseover",(function(t){!function(t,e,n,r){L.call("customMouseOver",t,e,Object(p.mouse)(t),[n,r])}(this,t,e,n)})).on("mousemove",(function(t){!function(t,e,n,r){L.call("customMouseMove",t,e,Object(p.mouse)(t),[n,r])}(this,t,e,n)})).on("mouseout",(function(t){!function(t,e,n,r){L.call("customMouseOut",t,e,Object(p.mouse)(t),[n,r])}(this,t,e,n)})).merge(f).transition().ease(M).attr("x",(function(t){var e=t.key;return r(e)})).attr("y",(function(t){return o(t.value)})).attr("width",r.bandwidth()).attr("height",(function(t){return n-o(t.value)})),f.exit().transition().style("opacity",0).remove(),function(){x.select(".x-axis-group.axis").attr("transform","translate(0, ".concat(n,")")).call(i),x.selectAll(".x-axis-group .tick text").style("text-anchor","start").attr("transform","rotate(45 -1 10)"),u&&(g&&x.selectAll(".x-axis-label-text").remove(),g=x.select(".x-axis-label").append("text").attr("y",C).attr("text-anchor","middle").classed("x-axis-label-text",!0).attr("x",e/2).text(u));x.select(".y-axis-group.axis").call(m),y&&(b&&x.selectAll(".y-axis-label-text").remove(),b=x.select(".y-axis-label").append("text").classed("y-axis-label-text",!0).attr("x",-n/2).attr("y",D).attr("text-anchor","middle").attr("transform","rotate(270 0 0)").text(y))}())}))}return F.exportChart=function(t){return N.call(F,x,t)},F.margin=function(t){return arguments.length?(j=Ge(Ge({},j),t),this):j},F.yTicks=function(t){return arguments.length?(S=t,this):S},F.height=function(t){return arguments.length?(A=t,this):A},F.isLoading=function(t){return arguments.length?(k=t,this):k},F.on=function(){var t=L.on.apply(L,arguments);return t===L?F:t},F.width=function(t){return arguments.length?(w=t,this):w},F.xAxisLabel=function(t){return arguments.length?(u=t,this):u},F.xAxisLabelOffset=function(t){return arguments.length?(C=t,this):C},F.yAxisLabel=function(t){return arguments.length?(y=t,this):y},F.yAxisLabelOffset=function(t){return arguments.length?(D=t,this):D},F}var Ve=n(25);function Qe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function We(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qe(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ze(){var t,e,n,r,o,i,l,u,d,g,m,y,b,x,v={top:20,right:20,bottom:30,left:20},O=960,j=500,w=!1,A=!1,k=vt,M=[null,null],S=!1,C=null,D=null,P=null,L="monotoneX",E=T.colorGradients.greenBlue,B=ut("brush-area-gradient"),F="timeDay",R=Object(f.dispatch)("customBrushStart","customBrushEnd"),I=function(t){return t.value},_=function(t){return t.date};function N(f){f.each((function(f){var g,M;(r=O-v.left-v.right,o=j-v.top-v.bottom,t=function(t){var n=t.reduce((function(t,e){var n;return e.date=new Date(e.date),e.value=null===(n=e.value)?null:+n,[].concat(a()(t),[e])}),[]);return e=n.map((function(t){return We(We({},t),{},{value:null===t.value?null:0})})),n}((g=f,JSON.parse(JSON.stringify(g)))),function(t){n||(n=Object(p.select)(t).append("svg").classed("britechart brush-chart",!0),function(){var t=n.append("g").classed("container-group",!0).attr("transform","translate(".concat(v.left,", ").concat(v.top,")"));n.append("g").classed("loading-state-group",!0),t.append("g").classed("chart-group",!0),t.append("g").classed("x-axis-group",!0).append("g").classed("x axis",!0),t.selectAll(".x-axis-group").append("g").classed("axis sub-x",!0),t.append("g").classed("brush-group",!0),t.append("g").classed("metadata-group",!0)}());n.attr("viewBox",[0,0,O,j]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",O).attr("height",j)}(this),w)?n.select(".loading-state-group").html($):(i=Object(h.scaleTime)().domain(Object(c.extent)(t,_)).range([0,r]),l=Object(h.scaleLinear)().domain([0,Object(c.max)(t,I)]).range([o,0]),function(){var e,a;if("custom"===C&&"string"==typeof P)e={tick:D,format:Object(Wt.timeFormat)(P)},a=null;else{var c=ie(t,O,C);e=c.minor,a=c.major,d=Object(s.axisBottom)(i).ticks(a.tick).tickSize(0,0).tickFormat(a.format)}u=Object(s.axisBottom)(i).ticks(e.tick).tickSize(10,0).tickPadding([5]).tickFormat(e.format),n.select(".x-axis-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",0).attr("x2",r).attr("y1",o).attr("y2",o)}(),n.select(".loading-state-group svg").remove(),x||(x=n.select(".metadata-group").append("linearGradient").attr("id",B).attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("x2",i(t[t.length-1].date)).attr("y1",0).attr("y2",0).selectAll("stop").data([{offset:"0%",color:E[0]},{offset:"100%",color:E[1]}]).enter().append("stop").attr("offset",(function(t){return t.offset})).attr("stop-color",(function(t){return t.color}))),m=Object(Ve.brushX)().extent([[0,0],[r,o]]).on("brush",z).on("end",H),function(){b&&(n.selectAll(".brush-area").remove(),n.selectAll(".missing-brush-area").remove());b=Object(gt.area)().defined((function(t){var e=t.value;return!isNaN(parseInt(e,10))})).x((function(t){var e=t.date;return i(e)})).y0(o).y1((function(t){var e=t.value;return l(e)})).curve(Ot[L]),A?(e.filter(b.defined()).length!==e.length&&(n.select(".chart-group").append("path").datum(e.filter(b.defined())).attr("class","missing-brush-area").attr("d",b),n.select(".chart-group").selectAll(".missing-brush-area").datum(t.filter(b.defined())).transition().duration(k).attr("d",b)),n.select(".chart-group").append("path").datum(e).attr("class","brush-area").attr("d",b),n.select(".chart-group").selectAll(".brush-area").datum(t).transition().duration(k).attr("d",b)):(t.filter(b.defined()).length!==t.length&&n.select(".chart-group").append("path").datum(t.filter(b.defined())).attr("class","missing-brush-area").attr("d",b),n.select(".chart-group").append("path").datum(t).attr("class","brush-area").attr("d",b))}(),n.select(".x-axis-group .axis.x").attr("transform","translate(0, ".concat(o,")")).call(u),"custom"!==C&&n.select(".x-axis-group .axis.sub-x").attr("transform","translate(0, ".concat(o+30,")")).call(d),function(){y=n.select(".brush-group").call(m),A&&(y.style("opacity",0),setTimeout((function(){y.transition().duration(k).style("opacity",1)}),0));y.selectAll("rect").classed("brush-rect",!0).attr("height",o),y.selectAll(".selection").attr("fill","url(#".concat(B,")"))}(),M=T.colorSchemasHuman.grey[1],y.selectAll(".handle.brush-rect").style("fill",M))}))}function z(){var t,e=p.event.selection;if(e){if(S){var n=Math.floor(i(new Date(M[1]))-i(new Date(M[0]))),r=Math.floor(e[1]-e[0]);r<n||r>n?(t=[Math.floor(e[0]),Math.floor(e[0])+n],m.move(y,t)):t=e}else t=e;R.call("customBrushStart",this,t.map(i.invert))}}function H(){if(p.event.sourceEvent){var t=[null,null],e=p.event.selection;if(e){var n=e.map(i.invert);(t=n.map(wt[F].round))[0]>=t[1]&&(t[0]=wt[F].floor(n[0]),t[1]=wt[F].offset(t[0])),Object(p.select)(this).transition().call(p.event.target.move,t.map(i))}else S&&q.apply(void 0,a()(M));R.call("customBrushEnd",this,t)}}function q(t,e){var n=null;null!==t&&(new Date(t)<new Date(e)?n=[i(new Date(t)),i(new Date(e))]:console.error("dateRange Error: End date should be posterior to startDate!")),m.move(y,n)}return N.animationDuration=function(t){return arguments.length?(k=t,this):k},N.areaCurve=function(t){return arguments.length?(L=t,this):L},N.axisTimeCombinations=yt,N.dateRange=function(t){return arguments.length?(M=t,Array.isArray(M)&&q.apply(void 0,a()(M)),this):M},N.gradient=function(t){return arguments.length?(E=t,this):E},N.height=function(t){return arguments.length?(j=t,this):j},N.isAnimated=function(t){return arguments.length?(A=t,this):A},N.isLoading=function(t){return arguments.length?(w=t,this):w},N.isLocked=function(t){return arguments.length?(S=t,this):S},N.locale=function(t){return arguments.length?(g=t,this):g},N.margin=function(t){return arguments.length?(v=We(We({},v),t),this):v},N.on=function(){var t=R.on.apply(R,arguments);return t===R?N:t},N.width=function(t){return arguments.length?(O=t,this):O},N.xAxisCustomFormat=function(t){return arguments.length?(P=t,this):P},N.xAxisFormat=function(t){return arguments.length?(C=t,this):C},N.xTicks=function(t){return arguments.length?(D=t,this):D},N.roundingTimeInterval=function(t){return arguments.length?(F=t,this):F},N}function Ke(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ke(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Je(){var t,e,n,r,o,i,c,l,u,f,g,m,y,b,x,v,O,j,w,A,k,M,S={top:20,right:20,bottom:30,left:20},C=960,D=150,P=T.colorSchemas.britecharts,L="",E=6,B=5,F=.5,R=!1,I=[],_=[],z=[],H=function(){return j||w},q=function(){return e/3};function U(T){T.each((function(T){t=C-S.left-S.right,e=D-S.top-S.bottom;var N,U,G=(N=T,{ranges:a()(N.ranges).sort().reverse(),measures:a()(N.measures).sort().reverse(),markers:N.markers.length?a()(N.markers).sort().reverse():[],subtitle:N.subtitle,title:N.title});j=G.title,A=G.subtitle,I=G.ranges,z=G.measures,_=G.markers,H()&&(t-=100),function(){var e=R?[t,0]:[0,t];n=Object(h.scaleLinear)().domain([0,Math.max.apply(Math,a()(I).concat(a()(_),a()(z)))]).rangeRound(e).nice(),s=n,u=s(0),g=function(t){return Math.abs(s(t)-u)},r=I.map((function(t,e){return F-.2*e})).reverse(),o=I.map((function(t,e){return.9-.3*e})).reverse();var s,u;var f=P,d=Gt()(f,3);i=d[0],c=d[1],l=d[2]}(),function(t){M||(M=Object(p.select)(t).append("svg").classed("britechart bullet-chart",!0),function(){var t=M.append("g").classed("container-group",!0).attr("transform","translate(".concat(S.left,", ").concat(S.top,")"));t.append("g").classed("chart-group",!0),t.append("g").classed("axis-group",!0),t.append("g").classed("metadata-group",!0),H()&&t.selectAll(".chart-group").attr("transform","translate(".concat(100,", 0)"))}());M.attr("viewBox",[0,0,C,D]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",C).attr("height",D)}(this),f=Object(s.axisBottom)(n).ticks(E).tickPadding(5).tickFormat(Object(d.format)(L)),function(){x&&x.remove();v&&v.remove();O&&O.remove();x=M.select(".chart-group").selectAll("rect.range").data(I).enter().append("rect").attr("fill",i).attr("opacity",(function(t,e){return r[e]})).attr("class",(function(t,e){return"range r".concat(e)})).attr("width",g).attr("height",e).attr("x",R?n:0),v=M.select(".chart-group").selectAll("rect.measure").data(z).enter().append("rect").attr("fill",c).attr("fill-opacity",(function(t,e){return o[e]})).attr("class",(function(t,e){return"measure m".concat(e)})).attr("width",g).attr("height",q).attr("x",R?n:0).attr("y",q),_.length&&(O=M.select(".chart-group").selectAll("line.marker-line").data(_).enter().append("line").attr("class","marker-line").attr("stroke",l).attr("stroke-width",5).attr("opacity",o[0]).attr("x1",n).attr("x2",n).attr("y1",0).attr("y2",e))}(),H()&&(m&&m.remove(),m=M.select(".metadata-group").append("g").classed("legend-group",!0).attr("transform","translate(0, ".concat(e/2,")")),w&&(j=w),y&&y.remove(),y=m.selectAll("text.bullet-title").data([1]).enter().append("text").attr("class","bullet-title x-axis-label").text(j),(A||k)&&(k&&(A=k),b&&b.remove(),b=m.selectAll("text.bullet-subtitle").data([1]).enter().append("text").attr("class","bullet-subtitle x-axis-label").attr("y",15).text(A))),U=H()?100:0,M.select(".axis-group").attr("transform","translate(".concat(U,", ").concat(e+B,")")).call(f),u&&u.remove(),u=M.select(".axis-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",0).attr("x2",t)}))}return U.colorSchema=function(t){return arguments.length?(P=t,this):P},U.customTitle=function(t){return arguments.length?(w=t,this):w},U.customSubtitle=function(t){return arguments.length?(k=t,this):k},U.exportChart=function(t,e){return N.call(U,M,t,e)},U.height=function(t){return arguments.length?(D=t,this):D},U.isReverse=function(t){return arguments.length?(R=t,this):R},U.margin=function(t){return arguments.length?(S=Xe(Xe({},S),t),this):S},U.numberFormat=function(t){return arguments.length?(L=t,this):L},U.paddingBetweenAxisAndChart=function(t){return arguments.length?(B=t,this):B},U.startMaxRangeOpacity=function(t){return arguments.length?(F=t,this):F},U.ticks=function(t){return arguments.length?(E=t,this):E},U.width=function(t){return arguments.length?(C=t,this):C},U}var $e={bar:Bt,donut:_t,legend:Ht,line:be,loadingStates:tt,tooltip:xe,miniTooltip:ve,sparkline:Ae,stackedArea:Ce,scatterPlot:Ee,groupedBar:Re,stackedBar:Ne,heatmap:qe,step:Ye,brush:Ze,bullet:Je,colors:T};e.default=$e}]).default}));
//# sourceMappingURL=britecharts.bundled.min.js.map