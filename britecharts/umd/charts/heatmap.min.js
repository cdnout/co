!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("d3-time"),require("d3-shape"),require("d3-selection"),require("d3-array"),require("d3-scale"),require("d3-transition"),require("d3-dispatch"),require("d3-interpolate")):"function"==typeof define&&define.amd?define(["d3-time","d3-shape","d3-selection","d3-array","d3-scale","d3-transition","d3-dispatch","d3-interpolate"],t):"object"==typeof exports?exports.heatmap=t(require("d3-time"),require("d3-shape"),require("d3-selection"),require("d3-array"),require("d3-scale"),require("d3-transition"),require("d3-dispatch"),require("d3-interpolate")):(e.britecharts=e.britecharts||{},e.britecharts.heatmap=t(e["d3-time"],e["d3-shape"],e["d3-selection"],e["d3-array"],e["d3-scale"],e["d3-transition"],e["d3-dispatch"],e["d3-interpolate"]))}(window,(function(e,t,r,n,o,a,c,u){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=53)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t){e.exports=r},,function(e,t){e.exports=n},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"f",(function(){return c})),r.d(t,"d",(function(){return u})),r.d(t,"e",(function(){return i})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return f})),r.d(t,"g",(function(){return s}));var n=r(1),o=r(0),a={MINUTE_HOUR:"minute-hour",HOUR_DAY:"hour-daymonth",DAY_MONTH:"day-month",MONTH_YEAR:"month-year",CUSTOM:"custom"},c={ONE_AND_A_HALF_YEARS:47304e6,ONE_YEAR:31536000365,ONE_DAY:86400001},u=["00h","01h","02h","03h","04h","05h","06h","07h","08h","09h","10h","11h","12h","13h","14h","15h","16h","17h","18h","19h","20h","21h","22h","23h"],i={duration:1200},l={linear:n.curveLinear,basis:n.curveBasis,cardinal:n.curveCardinal,catmullRom:n.curveCatmullRom,monotoneX:n.curveMonotoneX,monotoneY:n.curveMonotoneY,natural:n.curveNatural,step:n.curveStep,stepAfter:n.curveStepAfter,stepBefore:n.curveStepBefore},f=[{quantity:1,percentage:100}],s={timeMillisecond:o.timeMillisecond,utcMillisecond:o.utcMillisecond,timeSecond:o.timeSecond,utcSecond:o.utcSecond,timeMinute:o.timeMinute,utcMinute:o.utcMinute,timeHour:o.timeHour,utcHour:o.utcHour,timeDay:o.timeDay,utcDay:o.utcDay,timeWeek:o.timeWeek,utcWeek:o.utcWeek,timeSunday:o.timeSunday,utcSunday:o.utcSunday,timeMonday:o.timeMonday,utcMonday:o.utcMonday,timeTuesday:o.timeTuesday,utcTuesday:o.utcTuesday,timeWednesday:o.timeWednesday,utcWednesday:o.utcWednesday,timeThursday:o.timeThursday,utcThursday:o.utcThursday,timeFriday:o.timeFriday,utcFriday:o.utcFriday,timeSaturday:o.timeSaturday,utcSaturday:o.utcSaturday,timeMonth:o.timeMonth,utcMonth:o.utcMonth,timeYear:o.timeYear,utcYear:o.utcYear}},function(e,t){e.exports=o},function(e,t,r){"use strict";r.r(t),r.d(t,"colorGradients",(function(){return n})),r.d(t,"colorGradientsHuman",(function(){return o})),r.d(t,"britecharts",(function(){return a})),r.d(t,"grey",(function(){return c})),r.d(t,"orange",(function(){return u})),r.d(t,"blueGreen",(function(){return i})),r.d(t,"teal",(function(){return l})),r.d(t,"green",(function(){return f})),r.d(t,"yellow",(function(){return s})),r.d(t,"pink",(function(){return d})),r.d(t,"purple",(function(){return p})),r.d(t,"red",(function(){return h})),r.d(t,"colorSchemas",(function(){return y})),r.d(t,"colorSchemasHuman",(function(){return m})),r.d(t,"aloeGreen",(function(){return b})),r.d(t,"greenColor",(function(){return g})),r.d(t,"blueColor",(function(){return v})),r.d(t,"yellowColor",(function(){return A})),r.d(t,"orangeColor",(function(){return O}));var n={greenBlue:["#39C7EA","#4CDCBA"],orangePink:["#FBC670","#F766B8"],bluePurple:["#3DC3C9","#824a9e"]},o={greenBlue:"Green to Blue",orangePink:"Orange to Pink",bluePurple:"Blue to Purple"},a=["#6aedc7","#39c2c9","#ffce00","#ffa71a","#f866b9","#998ce3"],c=["#F8F8FA","#EFF2F5","#D2D6DF","#C3C6CF","#ADB0B6","#666A73","#45494E","#363A43","#282C35"],u=["#fcc870","#ffa71a","#fb8825","#f6682f","#db5a2c","#bf4c28","#a43b1c","#892a10","#f9e9c5"],i=["#ccf7f6","#70e4e0","#00d8d2","#00acaf","#007f8c","#005e66","#003c3f","#002d2f","#0d2223"],l=["#ccfffe","#94f7f4","#00fff8","#1de1e1","#39c2c9","#2e9a9d","#227270","#1a5957","#133f3e"],f=["#edfff7","#d7ffef","#c0ffe7","#95f5d7","#6aedc7","#59c3a3","#479980","#34816a","#206953"],s=["#f9f2b3","#fbe986","#fce05a","#fed72d","#ffce00","#fcc11c","#f9b438","#eda629","#e09819"],d=["#fdd1ea","#fb9cd2","#f866b9","#fc40b6","#ff1ab3","#e3239d","#c62c86","#a62073","#85135f"],p=["#ddd6fc","#bbb1f0","#998ce3","#8e6bc1","#824a9e","#77337f","#6b1c60","#591650","#470f3f"],h=["#ffd8d4","#ffb5b0","#ff938c","#ff766c","#ff584c","#f04b42","#e03d38","#be2e29","#9c1e19"],y={britecharts:a,grey:c,orange:u,blueGreen:i,teal:l,green:f,yellow:s,pink:d,purple:p,red:h},m={britecharts:"Britecharts Default",grey:"Britecharts Grey",orange:"Orange",blueGreen:"Blue",teal:"Light Blue",green:"Green",yellow:"Yellow",pink:"Pink",purple:"Purple",red:"Red"},b=["#7bdcc0"],g=["#6aedc7"],v=["#39c2c9"],A=["#ffce00"],O=["#ffa71a"],S={aloeGreen:b,greenColor:g,blueColor:v,yellowColor:A,orangeColor:O,pinkColor:["#f866b9"],purpleColor:["#998ce3"]};t.default={colorSchemas:y,colorSchemasHuman:m,colorGradients:n,colorGradientsHuman:o,singleColors:S,singleColorsHuman:{aloeGreen:"Aloe Green",greenColor:"Green",blueColor:"Blue",yellowColor:"Yellow",orangeColor:"Orange",pinkColor:"Pink",purpleColor:"Purple"}}},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(25),o=r(26),a=r(15),c=r(27);e.exports=function(e){return n(e)||o(e)||a(e)||c()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},,,function(e,t,r){var n=r(12);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},,,function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(10),o=r.n(n),a=r(19),c=r.n(a),u=r(7),i=r(20),l=r.n(i),f="undefined"!=typeof window,s=navigator.msSaveOrOpenBlob,d=f&&window.btoa;d||(d=c.a.encode);var p={styleClass:"britechartStyle",defaultFilename:"britechart.png",chartBackground:"white",imageSourceBase:"data:image/svg+xml;base64,",titleFontSize:"15px",titleFontFamily:"‘Helvetica Neue’, Helvetica, Arial, sans-serif",titleTopOffset:15,get styleBackgroundString(){return"<style>svg{background:".concat(this.chartBackground,";}</style>")}};function h(e,t,r){var n=this;return s?(console.error("Sorry, this feature is not available for IE. If you require this to work, check this issue https://github.com/eventbrite/britecharts/pull/652"),!1):A(y.call(this,e,r)).then((function(e){return{canvas:m(n.width(),n.height()),img:e}})).then((function(e){var r=e.canvas,n=e.img;return v.call(n,r,t)}))}function y(e,t){if(e){e.attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg");var r=l.a.initializeSerializer()(e.node());return r=function(e){if(navigator.userAgent.search("FireFox")>-1)return e.replace(/url.*&quot;\)/,'url(&quot;linearGradient[id*="-gradient-"]&quot;);');return e}(r),r=function(e){return e.replace(">",">".concat(p.styleBackgroundString))}(r=O.call(this,r,t,parseInt(e.attr("width"),10)))}}function m(e,t){var r=document.createElement("canvas");return r.height=t,r.width=e,r}function b(e,t){var r=new Image;if(t){if("function"!=typeof t)throw new Error("The callback provided should be a function, we got a ".concat(o()(t)," instead."));t(r)}return r.src="".concat(p.imageSourceBase).concat(d(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))),r}function g(e,t){return t.getContext("2d").drawImage(e,0,0),t}function v(e,t){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.defaultFilename,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/png",n=e.toDataURL(r),o=document.createElement("a");o.href=n,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o)}(g(this,e),t)}function A(e){return new Promise((function(t,r){b(e,(function(e){e.addEventListener("load",(function(){return t(e)})),e.addEventListener("error",(function(e){return r(e)}))}))}))}function O(e,t,r){if(!t||!r)return e;var n=u.colorSchemas.grey;return e=e.replace(/<g/,'<text x="'.concat(this.margin().left,'" y="').concat(p.titleTopOffset,'" font-family="').concat(p.titleFontFamily,'" font-size="').concat(p.titleFontSize,'" fill="').concat(n[6],'"> ').concat(t," </text><g "))}},function(e,t,r){(function(e,n){var o;/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */!function(a){var c=t,u=(e&&e.exports,"object"==typeof n&&n);u.global!==u&&u.window;var i=function(e){this.message=e};(i.prototype=new Error).name="InvalidCharacterError";var l=function(e){throw new i(e)},f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=/[\t\n\f\r ]/g,d={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&l("The string to be encoded contains characters outside of the Latin1 range.");for(var t,r,n,o,a=e.length%3,c="",u=-1,i=e.length-a;++u<i;)t=e.charCodeAt(u)<<16,r=e.charCodeAt(++u)<<8,n=e.charCodeAt(++u),c+=f.charAt((o=t+r+n)>>18&63)+f.charAt(o>>12&63)+f.charAt(o>>6&63)+f.charAt(63&o);return 2==a?(t=e.charCodeAt(u)<<8,r=e.charCodeAt(++u),c+=f.charAt((o=t+r)>>10)+f.charAt(o>>4&63)+f.charAt(o<<2&63)+"="):1==a&&(o=e.charCodeAt(u),c+=f.charAt(o>>2)+f.charAt(o<<4&63)+"=="),c},decode:function(e){var t=(e=String(e).replace(s,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&l("Invalid character: the string to be decoded is not correctly encoded.");for(var r,n,o=0,a="",c=-1;++c<t;)n=f.indexOf(e.charAt(c)),r=o%4?64*r+n:n,o++%4&&(a+=String.fromCharCode(255&r>>(-2*o&6)));return a},version:"0.1.0"};void 0===(o=function(){return d}.call(t,r,t,e))||(e.exports=o)}()}).call(this,r(29)(e),r(30))},function(e,t){e.exports=function(){"use strict";var e={BASE:!0,HEAD:!0,HTML:!0,META:!0,NOFRAME:!0,NOSCRIPT:!0,PARAM:!0,SCRIPT:!0,STYLE:!0,TITLE:!0},t=["A","ABBR","ADDRESS","AREA","ARTICLE","ASIDE","AUDIO","B","BASE","BDI","BDO","BLOCKQUOTE","BODY","BR","BUTTON","CANVAS","CAPTION","CENTER","CITE","CODE","COL","COLGROUP","COMMAND","DATALIST","DD","DEL","DETAILS","DFN","DIV","DL","DT","EM","EMBED","FIELDSET","FIGCAPTION","FIGURE","FONT","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEAD","HEADER","HGROUP","HR","HTML","I","IFRAME","IMG","INPUT","INS","KBD","LABEL","LEGEND","LI","LINK","MAP","MARK","MATH","MENU","META","METER","NAV","NOBR","NOSCRIPT","OBJECT","OL","OPTION","OPTGROUP","OUTPUT","P","PARAM","PRE","PROGRESS","Q","RP","RT","RUBY","S","SAMP","SCRIPT","SECTION","SELECT","SMALL","SOURCE","SPAN","STRONG","STYLE","SUB","SUMMARY","SUP","SVG","TABLE","TBODY","TD","TEXTAREA","TFOOT","TH","THEAD","TIME","TITLE","TR","TRACK","U","UL","VAR","VIDEO","WBR"],r=function(e){var t={},r=document.body.appendChild(document.createElement(e)),n=window.getComputedStyle(r);return[].forEach.call(n,(function(e){t[e]=n[e]})),document.body.removeChild(r),t};return{initializeSerializer:function(){var n={};return[].forEach.call(t,(function(t){e[t]||(n[t]=r(t))})),function(t){var o,a,c,u,i=[];if(t&&t.nodeType===Node.ELEMENT_NODE)return i=[],o=t.querySelectorAll("*"),[].forEach.call(o,(function(t,o){var u;e[t.tagName]||(a=window.getComputedStyle(t),u=(u=t.tagName).toUpperCase(),n[u]||(n[u]=r(u)),c=n[u],i[o]=t.style.cssText,[].forEach.call(a,(function(e){a[e]!==c[e]&&(t.style[e]=a[e])})))})),u=t.outerHTML,o=[].map.call(o,(function(e,t){return e.style.cssText=i[t],e})),u}}}}()},,function(e,t){e.exports=a},function(e,t){e.exports=c},,function(e,t,r){var n=r(12);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){e.exports=u},,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return e}));var n=r(8),o=r.n(n),a=r(9),c=r.n(a),u=r(4),i=r(2),l=r(6),f=r(31),s=r(23),d=(r(22),r(18)),p=r(7),h=r(5);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function e(){var e,t,r,n,o,a,y={top:40,right:20,bottom:20,left:40},b=780,g=270,v=30,A=p.default.colorSchemas.red,O=h.e.duration,S=!1,x=["Mo","Tu","We","Th","Fr","Sa","Su"],E=Object(s.dispatch)("customMouseOver","customMouseOut","customMouseMove","customClick"),T=function(e){return e.value};function C(s){s.each((function(s){var d,p,m;t=s.reduce((function(e,t){var r=t.day,n=t.hour,o=t.value;return[].concat(c()(e),[{day:+r,hour:+n,value:+o}])}),[]),r=b-y.left-y.right,n=g-y.top-y.bottom,o=Object(l.scaleLinear)().range([A[0],A[A.length-1]]).domain(Object(u.extent)(t,T)).interpolate(f.interpolateHcl),function(t){e||(e=Object(i.select)(t).append("svg").classed("britechart heatmap",!0),function(){var t=e.append("g").classed("container-group",!0).attr("transform","translate(".concat(y.left,", ").concat(y.top,")"));t.append("g").classed("chart-group",!0),t.append("g").classed("day-labels-group",!0),t.append("g").classed("hour-labels-group",!0),t.append("g").classed("metadata-group",!0)}());e.attr("viewBox",[0,0,b,g]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",b).attr("height",g)}(this),d=e.select(".day-labels-group"),p=a||x,e.select(".day-labels-group").selectAll(".day-label").data(p).enter().append("text").text((function(e){return e})).attr("x",0).attr("y",(function(e,t){return t*v})).style("text-anchor","start").style("dominant-baseline","central").attr("class","day-label y-axis-label"),d.attr("transform","translate(-".concat(30,", ").concat(v/2,")")),m=e.select(".hour-labels-group"),e.select(".hour-labels-group").selectAll(".hour-label").data(h.d).enter().append("text").text((function(e){return e})).attr("y",0).attr("x",(function(e,t){return t*v})).style("text-anchor","middle").style("dominant-baseline","central").attr("class","hour-label"),m.attr("transform","translate(".concat(v/2,", -").concat(20,")")),function(){var a=e.select(".chart-group").selectAll(".box").data(t).enter().append("rect").classed("box",!0).attr("width",v).attr("height",v).attr("x",(function(e){return e.hour*v})).attr("y",(function(e){return e.day*v})).style("opacity",.2).style("fill","#BBBBBB").style("stroke","#FFFFFF").style("stroke-width",2).on("mouseover",(function(e,t,o){!function(e,t,r,n,o){E.call("customMouseOver",e,t,Object(i.mouse)(e),[n,o])}(this,e,0,r,n)})).on("mousemove",(function(e){!function(e,t,r,n){E.call("customMouseMove",e,t,Object(i.mouse)(e),[r,n])}(this,e,r,n)})).on("mouseout",(function(e,t,o){!function(e,t,r,n,o){E.call("customMouseOut",e,t,Object(i.mouse)(e),[n,o])}(this,e,0,r,n)})).on("click",(function(e){!function(e,t,r,n){E.call("customClick",e,t,Object(i.mouse)(e),[r,n])}(this,e,r,n)}));S?a.transition().duration(O).style("fill",(function(e){var t=e.value;return o(t)})).style("opacity",1):a.style("fill",(function(e){var t=e.value;return o(t)})).style("opacity",1);a.exit().remove()}()}))}return C.animationDuration=function(e){return arguments.length?(O=e,this):O},C.boxSize=function(e){return arguments.length?(v=e,this):v},C.colorSchema=function(e){return arguments.length?(A=e,this):A},C.exportChart=function(t,r){d.a.call(C,e,t,r)},C.height=function(e){return arguments.length?(g=e,this):g},C.isAnimated=function(e){return arguments.length?(S=e,this):S},C.margin=function(e){return arguments.length?(y=m(m({},y),e),this):y},C.on=function(){var e=E.on.apply(E,arguments);return e===E?C:e},C.yAxisLabels=function(e){return arguments.length?(a=e,this):a},C.width=function(e){return arguments.length?(b=e,this):b},C}}]).default}));
//# sourceMappingURL=heatmap.min.js.map