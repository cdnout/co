!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("d3-selection"),require("d3-format"),require("d3-scale"),require("d3-axis"),require("d3-transition")):"function"==typeof define&&define.amd?define(["d3-selection","d3-format","d3-scale","d3-axis","d3-transition"],t):"object"==typeof exports?exports.bullet=t(require("d3-selection"),require("d3-format"),require("d3-scale"),require("d3-axis"),require("d3-transition")):(e.britecharts=e.britecharts||{},e.britecharts.bullet=t(e["d3-selection"],e["d3-format"],e["d3-scale"],e["d3-axis"],e["d3-transition"]))}(window,(function(e,t,r,n,o){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=50)}([,,function(t,r){t.exports=e},function(e,r){e.exports=t},,,function(e,t){e.exports=r},function(e,t,r){"use strict";r.r(t),r.d(t,"colorGradients",(function(){return n})),r.d(t,"colorGradientsHuman",(function(){return o})),r.d(t,"britecharts",(function(){return a})),r.d(t,"grey",(function(){return c})),r.d(t,"orange",(function(){return i})),r.d(t,"blueGreen",(function(){return u})),r.d(t,"teal",(function(){return l})),r.d(t,"green",(function(){return f})),r.d(t,"yellow",(function(){return s})),r.d(t,"pink",(function(){return d})),r.d(t,"purple",(function(){return p})),r.d(t,"red",(function(){return h})),r.d(t,"colorSchemas",(function(){return g})),r.d(t,"colorSchemasHuman",(function(){return b})),r.d(t,"aloeGreen",(function(){return m})),r.d(t,"greenColor",(function(){return y})),r.d(t,"blueColor",(function(){return x})),r.d(t,"yellowColor",(function(){return v})),r.d(t,"orangeColor",(function(){return A}));var n={greenBlue:["#39C7EA","#4CDCBA"],orangePink:["#FBC670","#F766B8"],bluePurple:["#3DC3C9","#824a9e"]},o={greenBlue:"Green to Blue",orangePink:"Orange to Pink",bluePurple:"Blue to Purple"},a=["#6aedc7","#39c2c9","#ffce00","#ffa71a","#f866b9","#998ce3"],c=["#F8F8FA","#EFF2F5","#D2D6DF","#C3C6CF","#ADB0B6","#666A73","#45494E","#363A43","#282C35"],i=["#fcc870","#ffa71a","#fb8825","#f6682f","#db5a2c","#bf4c28","#a43b1c","#892a10","#f9e9c5"],u=["#ccf7f6","#70e4e0","#00d8d2","#00acaf","#007f8c","#005e66","#003c3f","#002d2f","#0d2223"],l=["#ccfffe","#94f7f4","#00fff8","#1de1e1","#39c2c9","#2e9a9d","#227270","#1a5957","#133f3e"],f=["#edfff7","#d7ffef","#c0ffe7","#95f5d7","#6aedc7","#59c3a3","#479980","#34816a","#206953"],s=["#f9f2b3","#fbe986","#fce05a","#fed72d","#ffce00","#fcc11c","#f9b438","#eda629","#e09819"],d=["#fdd1ea","#fb9cd2","#f866b9","#fc40b6","#ff1ab3","#e3239d","#c62c86","#a62073","#85135f"],p=["#ddd6fc","#bbb1f0","#998ce3","#8e6bc1","#824a9e","#77337f","#6b1c60","#591650","#470f3f"],h=["#ffd8d4","#ffb5b0","#ff938c","#ff766c","#ff584c","#f04b42","#e03d38","#be2e29","#9c1e19"],g={britecharts:a,grey:c,orange:i,blueGreen:u,teal:l,green:f,yellow:s,pink:d,purple:p,red:h},b={britecharts:"Britecharts Default",grey:"Britecharts Grey",orange:"Orange",blueGreen:"Blue",teal:"Light Blue",green:"Green",yellow:"Yellow",pink:"Pink",purple:"Purple",red:"Red"},m=["#7bdcc0"],y=["#6aedc7"],x=["#39c2c9"],v=["#ffce00"],A=["#ffa71a"],O={aloeGreen:m,greenColor:y,blueColor:x,yellowColor:v,orangeColor:A,pinkColor:["#f866b9"],purpleColor:["#998ce3"]};t.default={colorSchemas:g,colorSchemasHuman:b,colorGradients:n,colorGradientsHuman:o,singleColors:O,singleColorsHuman:{aloeGreen:"Aloe Green",greenColor:"Green",blueColor:"Blue",yellowColor:"Yellow",orangeColor:"Orange",pinkColor:"Pink",purpleColor:"Purple"}}},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(25),o=r(26),a=r(15),c=r(27);e.exports=function(e){return n(e)||o(e)||a(e)||c()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=n},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},,,function(e,t,r){var n=r(12);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(33),o=r(34),a=r(15),c=r(35);e.exports=function(e,t){return n(e)||o(e,t)||a(e,t)||c()},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(10),o=r.n(n),a=r(19),c=r.n(a),i=r(7),u=r(20),l=r.n(u),f="undefined"!=typeof window,s=navigator.msSaveOrOpenBlob,d=f&&window.btoa;d||(d=c.a.encode);var p={styleClass:"britechartStyle",defaultFilename:"britechart.png",chartBackground:"white",imageSourceBase:"data:image/svg+xml;base64,",titleFontSize:"15px",titleFontFamily:"‘Helvetica Neue’, Helvetica, Arial, sans-serif",titleTopOffset:15,get styleBackgroundString(){return"<style>svg{background:".concat(this.chartBackground,";}</style>")}};function h(e,t,r){var n=this;return s?(console.error("Sorry, this feature is not available for IE. If you require this to work, check this issue https://github.com/eventbrite/britecharts/pull/652"),!1):v(g.call(this,e,r)).then((function(e){return{canvas:b(n.width(),n.height()),img:e}})).then((function(e){var r=e.canvas,n=e.img;return x.call(n,r,t)}))}function g(e,t){if(e){e.attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg");var r=l.a.initializeSerializer()(e.node());return r=function(e){if(navigator.userAgent.search("FireFox")>-1)return e.replace(/url.*&quot;\)/,'url(&quot;linearGradient[id*="-gradient-"]&quot;);');return e}(r),r=function(e){return e.replace(">",">".concat(p.styleBackgroundString))}(r=A.call(this,r,t,parseInt(e.attr("width"),10)))}}function b(e,t){var r=document.createElement("canvas");return r.height=t,r.width=e,r}function m(e,t){var r=new Image;if(t){if("function"!=typeof t)throw new Error("The callback provided should be a function, we got a ".concat(o()(t)," instead."));t(r)}return r.src="".concat(p.imageSourceBase).concat(d(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))),r}function y(e,t){return t.getContext("2d").drawImage(e,0,0),t}function x(e,t){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.defaultFilename,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/png",n=e.toDataURL(r),o=document.createElement("a");o.href=n,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o)}(y(this,e),t)}function v(e){return new Promise((function(t,r){m(e,(function(e){e.addEventListener("load",(function(){return t(e)})),e.addEventListener("error",(function(e){return r(e)}))}))}))}function A(e,t,r){if(!t||!r)return e;var n=i.colorSchemas.grey;return e=e.replace(/<g/,'<text x="'.concat(this.margin().left,'" y="').concat(p.titleTopOffset,'" font-family="').concat(p.titleFontFamily,'" font-size="').concat(p.titleFontSize,'" fill="').concat(n[6],'"> ').concat(t," </text><g "))}},function(e,t,r){(function(e,n){var o;/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */!function(a){var c=t,i=(e&&e.exports,"object"==typeof n&&n);i.global!==i&&i.window;var u=function(e){this.message=e};(u.prototype=new Error).name="InvalidCharacterError";var l=function(e){throw new u(e)},f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=/[\t\n\f\r ]/g,d={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&l("The string to be encoded contains characters outside of the Latin1 range.");for(var t,r,n,o,a=e.length%3,c="",i=-1,u=e.length-a;++i<u;)t=e.charCodeAt(i)<<16,r=e.charCodeAt(++i)<<8,n=e.charCodeAt(++i),c+=f.charAt((o=t+r+n)>>18&63)+f.charAt(o>>12&63)+f.charAt(o>>6&63)+f.charAt(63&o);return 2==a?(t=e.charCodeAt(i)<<8,r=e.charCodeAt(++i),c+=f.charAt((o=t+r)>>10)+f.charAt(o>>4&63)+f.charAt(o<<2&63)+"="):1==a&&(o=e.charCodeAt(i),c+=f.charAt(o>>2)+f.charAt(o<<4&63)+"=="),c},decode:function(e){var t=(e=String(e).replace(s,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&l("Invalid character: the string to be decoded is not correctly encoded.");for(var r,n,o=0,a="",c=-1;++c<t;)n=f.indexOf(e.charAt(c)),r=o%4?64*r+n:n,o++%4&&(a+=String.fromCharCode(255&r>>(-2*o&6)));return a},version:"0.1.0"};void 0===(o=function(){return d}.call(t,r,t,e))||(e.exports=o)}()}).call(this,r(29)(e),r(30))},function(e,t){e.exports=function(){"use strict";var e={BASE:!0,HEAD:!0,HTML:!0,META:!0,NOFRAME:!0,NOSCRIPT:!0,PARAM:!0,SCRIPT:!0,STYLE:!0,TITLE:!0},t=["A","ABBR","ADDRESS","AREA","ARTICLE","ASIDE","AUDIO","B","BASE","BDI","BDO","BLOCKQUOTE","BODY","BR","BUTTON","CANVAS","CAPTION","CENTER","CITE","CODE","COL","COLGROUP","COMMAND","DATALIST","DD","DEL","DETAILS","DFN","DIV","DL","DT","EM","EMBED","FIELDSET","FIGCAPTION","FIGURE","FONT","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEAD","HEADER","HGROUP","HR","HTML","I","IFRAME","IMG","INPUT","INS","KBD","LABEL","LEGEND","LI","LINK","MAP","MARK","MATH","MENU","META","METER","NAV","NOBR","NOSCRIPT","OBJECT","OL","OPTION","OPTGROUP","OUTPUT","P","PARAM","PRE","PROGRESS","Q","RP","RT","RUBY","S","SAMP","SCRIPT","SECTION","SELECT","SMALL","SOURCE","SPAN","STRONG","STYLE","SUB","SUMMARY","SUP","SVG","TABLE","TBODY","TD","TEXTAREA","TFOOT","TH","THEAD","TIME","TITLE","TR","TRACK","U","UL","VAR","VIDEO","WBR"],r=function(e){var t={},r=document.body.appendChild(document.createElement(e)),n=window.getComputedStyle(r);return[].forEach.call(n,(function(e){t[e]=n[e]})),document.body.removeChild(r),t};return{initializeSerializer:function(){var n={};return[].forEach.call(t,(function(t){e[t]||(n[t]=r(t))})),function(t){var o,a,c,i,u=[];if(t&&t.nodeType===Node.ELEMENT_NODE)return u=[],o=t.querySelectorAll("*"),[].forEach.call(o,(function(t,o){var i;e[t.tagName]||(a=window.getComputedStyle(t),i=(i=t.tagName).toUpperCase(),n[i]||(n[i]=r(i)),c=n[i],u[o]=t.style.cssText,[].forEach.call(a,(function(e){a[e]!==c[e]&&(t.style[e]=a[e])})))})),i=t.outerHTML,o=[].map.call(o,(function(e,t){return e.style.cssText=u[t],e})),i}}}}()},,function(e,t){e.exports=o},,,function(e,t,r){var n=r(12);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},,,function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);c=!0);}catch(e){i=!0,o=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw o}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},,,,,,,,,,,,,,,function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return e}));var n=r(8),o=r.n(n),a=r(16),c=r.n(a),i=r(9),u=r.n(i),l=r(11),f=r(3),s=r(6),d=r(2),p=(r(22),r(18)),h=r(7);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function e(){var e,t,r,n,o,a,i,g,m,y,x,v,A,O,S,E,C,w,T,P,M,B,R={top:20,right:20,bottom:30,left:20},I=960,D=150,F=h.default.colorSchemas.britecharts,j="",k=6,L=5,_=.5,N=!1,G=[],H=[],U=[],q=function(){return w||T},z=function(){return t/3};function Y(p){p.each((function(p){e=I-R.left-R.right,t=D-R.top-R.bottom;var h,b,Y=(h=p,{ranges:u()(h.ranges).sort().reverse(),measures:u()(h.measures).sort().reverse(),markers:h.markers.length?u()(h.markers).sort().reverse():[],subtitle:h.subtitle,title:h.title});w=Y.title,P=Y.subtitle,G=Y.ranges,U=Y.measures,H=Y.markers,q()&&(e-=100),function(){var t=N?[e,0]:[0,e];r=Object(s.scaleLinear)().domain([0,Math.max.apply(Math,u()(G).concat(u()(H),u()(U)))]).rangeRound(t).nice(),l=r,f=l(0),x=function(e){return Math.abs(l(e)-f)},n=G.map((function(e,t){return _-.2*t})).reverse(),o=G.map((function(e,t){return.9-.3*t})).reverse();var l,f;var d=F,p=c()(d,3);a=p[0],i=p[1],g=p[2]}(),function(e){B||(B=Object(d.select)(e).append("svg").classed("britechart bullet-chart",!0),function(){var e=B.append("g").classed("container-group",!0).attr("transform","translate(".concat(R.left,", ").concat(R.top,")"));e.append("g").classed("chart-group",!0),e.append("g").classed("axis-group",!0),e.append("g").classed("metadata-group",!0),q()&&e.selectAll(".chart-group").attr("transform","translate(".concat(100,", 0)"))}());B.attr("viewBox",[0,0,I,D]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",I).attr("height",D)}(this),y=Object(l.axisBottom)(r).ticks(k).tickPadding(5).tickFormat(Object(f.format)(j)),function(){S&&S.remove();E&&E.remove();C&&C.remove();S=B.select(".chart-group").selectAll("rect.range").data(G).enter().append("rect").attr("fill",a).attr("opacity",(function(e,t){return n[t]})).attr("class",(function(e,t){return"range r".concat(t)})).attr("width",x).attr("height",t).attr("x",N?r:0),E=B.select(".chart-group").selectAll("rect.measure").data(U).enter().append("rect").attr("fill",i).attr("fill-opacity",(function(e,t){return o[t]})).attr("class",(function(e,t){return"measure m".concat(t)})).attr("width",x).attr("height",z).attr("x",N?r:0).attr("y",z),H.length&&(C=B.select(".chart-group").selectAll("line.marker-line").data(H).enter().append("line").attr("class","marker-line").attr("stroke",g).attr("stroke-width",5).attr("opacity",o[0]).attr("x1",r).attr("x2",r).attr("y1",0).attr("y2",t))}(),q()&&(v&&v.remove(),v=B.select(".metadata-group").append("g").classed("legend-group",!0).attr("transform","translate(0, ".concat(t/2,")")),T&&(w=T),A&&A.remove(),A=v.selectAll("text.bullet-title").data([1]).enter().append("text").attr("class","bullet-title x-axis-label").text(w),(P||M)&&(M&&(P=M),O&&O.remove(),O=v.selectAll("text.bullet-subtitle").data([1]).enter().append("text").attr("class","bullet-subtitle x-axis-label").attr("y",15).text(P))),b=q()?100:0,B.select(".axis-group").attr("transform","translate(".concat(b,", ").concat(t+L,")")).call(y),m&&m.remove(),m=B.select(".axis-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",0).attr("x2",e)}))}return Y.colorSchema=function(e){return arguments.length?(F=e,this):F},Y.customTitle=function(e){return arguments.length?(T=e,this):T},Y.customSubtitle=function(e){return arguments.length?(M=e,this):M},Y.exportChart=function(e,t){return p.a.call(Y,B,e,t)},Y.height=function(e){return arguments.length?(D=e,this):D},Y.isReverse=function(e){return arguments.length?(N=e,this):N},Y.margin=function(e){return arguments.length?(R=b(b({},R),e),this):R},Y.numberFormat=function(e){return arguments.length?(j=e,this):j},Y.paddingBetweenAxisAndChart=function(e){return arguments.length?(L=e,this):L},Y.startMaxRangeOpacity=function(e){return arguments.length?(_=e,this):_},Y.ticks=function(e){return arguments.length?(k=e,this):k},Y.width=function(e){return arguments.length?(I=e,this):I},Y}}]).default}));
//# sourceMappingURL=bullet.min.js.map