import{sortLayout}from"./sort-layout";export const getMasonryLayout=(t,o)=>{const s=[],n=sortLayout(t),i=new Array(o).fill(0);for(const t of n){t.width>o&&(t.width=o);const n=getMinItemColumn(t,i,o),e=Object.assign(Object.assign({},t),n);s.push(e);for(let o=n.posX;o<n.posX+t.width;o++)i[o]+=t.height}return s};const getMinItemColumn=(t,o,s)=>{if(1===t.width){const t=Math.min(...o);return{posX:o.indexOf(t),posY:t}}const n=[],i=s+1-t.width;for(let s=0;s<i;s++){const i=o.slice(s,s+t.width);n[s]=Math.max(...i)}const e=Math.min(...n);return{posX:n.indexOf(e),posY:e}};