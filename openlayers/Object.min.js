var __extends=this&&this.__extends||function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();import{getUid}from"./util.js";import ObjectEventType from"./ObjectEventType.js";import Observable from"./Observable.js";import Event from"./events/Event.js";import{assign}from"./obj.js";var ObjectEvent=function(r){function t(t,e,n){t=r.call(this,t)||this;return t.key=e,t.oldValue=n,t}return __extends(t,r),t}(Event),BaseObject=function(n){function t(t){var e=n.call(this)||this;return getUid(e),e.values_={},void 0!==t&&e.setProperties(t),e}return __extends(t,n),t.prototype.get=function(t){var e;return e=this.values_.hasOwnProperty(t)?this.values_[t]:e},t.prototype.getKeys=function(){return Object.keys(this.values_)},t.prototype.getProperties=function(){return assign({},this.values_)},t.prototype.notify=function(t,e){var n=getChangeEventType(t);this.dispatchEvent(new ObjectEvent(n,t,e)),n=ObjectEventType.PROPERTYCHANGE,this.dispatchEvent(new ObjectEvent(n,t,e))},t.prototype.set=function(t,e,n){n?this.values_[t]=e:(n=this.values_[t])!==(this.values_[t]=e)&&this.notify(t,n)},t.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},t.prototype.unset=function(t,e){var n;t in this.values_&&(n=this.values_[t],delete this.values_[t],e||this.notify(t,n))},t}(Observable),changeEventTypeCache={};function getChangeEventType(t){return changeEventTypeCache.hasOwnProperty(t)?changeEventTypeCache[t]:changeEventTypeCache[t]="change:"+t}export default BaseObject;export{ObjectEvent,getChangeEventType};