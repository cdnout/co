var __extends=this&&this.__extends||function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};return function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();import{getUid}from"./util.js";import Tile from"./Tile.js";import TileState from"./TileState.js";import{createCanvasContext2D}from"./dom.js";var VectorRenderTile=function(s){function t(t,e,r,o,n,i){t=s.call(this,t,e,{transition:0})||this;return t.context_={},t.executorGroups={},t.loadingSourceTiles=0,t.errorSourceTileKeys={},t.replayState_={},t.wantedResolution,t.getSourceTiles_=n,t.removeSourceTiles_=i,t.sourceTileGrid_=o,t.sourceZ=-1,t.hifi=!1,t.wrappedTileCoord=r,t}return __extends(t,s),t.prototype.disposeInternal=function(){for(var t in this.removeSourceTiles_(this),this.context_){var e=this.context_[t].canvas;e.width=e.height=0}for(var t in this.executorGroups)for(var r=this.executorGroups[t],o=0,n=r.length;o<n;++o)r[o].disposeInternal();this.setState(TileState.ABORT),s.prototype.disposeInternal.call(this)},t.prototype.getContext=function(t){t=getUid(t);return t in this.context_||(this.context_[t]=createCanvasContext2D()),this.context_[t]},t.prototype.hasContext=function(t){return getUid(t)in this.context_},t.prototype.getImage=function(t){return this.hasContext(t)?this.getContext(t).canvas:null},t.prototype.getReplayState=function(t){t=getUid(t);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedZ:-1,renderedTileZ:-1}),this.replayState_[t]},t.prototype.load=function(){this.getSourceTiles_(this)},t}(Tile);export default VectorRenderTile;