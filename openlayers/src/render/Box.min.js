import Disposable from"../Disposable.js";import Polygon from"../geom/Polygon.js";class RenderBox extends Disposable{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){var e=this.startPixel_,t=this.endPixel_,s="px";const i=this.element_.style;i.left=Math.min(e[0],t[0])+s,i.top=Math.min(e[1],t[1])+s,i.width=Math.abs(t[0]-e[0])+s,i.height=Math.abs(t[1]-e[1])+s}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left=t.top=t.width=t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){var e=this.startPixel_,t=this.endPixel_;const s=[e,[e[0],t[1]],t,[t[0],e[1]]],i=s.map(this.map_.getCoordinateFromPixel,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new Polygon([i])}getGeometry(){return this.geometry_}}export default RenderBox;