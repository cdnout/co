import ImageBase from"./ImageBase.js";import ImageState from"./ImageState.js";class ImageCanvas extends ImageBase{constructor(t,a,e,s,r){super(t,a,e,void 0!==r?ImageState.IDLE:ImageState.LOADED),this.loader_=void 0!==r?r:null,this.canvas_=s,this.error_=null}getError(){return this.error_}handleLoad_(t){t?(this.error_=t,this.state=ImageState.ERROR):this.state=ImageState.LOADED,this.changed()}load(){this.state==ImageState.IDLE&&(this.state=ImageState.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}export default ImageCanvas;