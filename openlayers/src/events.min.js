import{clear}from"./obj.js";function listen(e,t,n,i,r){if(i&&i!==e&&(n=n.bind(i)),r){const s=n;n=function(){e.removeEventListener(t,n),s.apply(this,arguments)}}i={target:e,type:t,listener:n};return e.addEventListener(t,n),i}function listenOnce(e,t,n,i){return listen(e,t,n,i,!0)}function unlistenByKey(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),clear(e))}export{listen,listenOnce,unlistenByKey};