import{easeOut}from"../easing.js";import{shiftKeyOnly}from"../events/condition.js";import{createOrUpdateFromCoordinates,getBottomLeft,getCenter,getTopRight,scaleFromCenter}from"../extent.js";import DragBox from"./DragBox.js";class DragZoom extends DragBox{constructor(t){t=t||{};super({condition:t.condition||shiftKeyOnly,className:t.className||"ol-dragzoom",minArea:t.minArea,onBoxEnd:onBoxEnd}),this.duration_=void 0!==t.duration?t.duration:200,this.out_=void 0!==t.out&&t.out}}function onBoxEnd(){const t=this.getMap(),e=t.getView();var o=t.getSize();let n=this.getGeometry().getExtent();this.out_&&(i=e.calculateExtentInternal(o),r=createOrUpdateFromCoordinates([t.getPixelFromCoordinate(getBottomLeft(n)),t.getPixelFromCoordinate(getTopRight(n))]),r=e.getResolutionForExtentInternal(r,o),scaleFromCenter(i,1/r),n=i);var r=e.getConstrainedResolution(e.getResolutionForExtentInternal(n,o)),i=e.getConstrainedCenter(getCenter(n),r);e.animateInternal({resolution:r,center:i,duration:this.duration_,easing:easeOut})}export default DragZoom;