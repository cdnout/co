import{asString}from"../color.js";class IconImageCache{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const c in this.cache_){const h=this.cache_[c];0!=(3&e++)||h.hasListener()||(delete this.cache_[c],--this.cacheSize_)}}}get(e,c,h){e=getKey(e,c,h);return e in this.cache_?this.cache_[e]:null}set(e,c,h,t){e=getKey(e,c,h);this.cache_[e]=t,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function getKey(e,c,h){return c+":"+e+":"+(h?asString(h):"null")}export default IconImageCache;const shared=new IconImageCache;export{shared};