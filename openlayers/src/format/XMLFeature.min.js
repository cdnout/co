import{abstract}from"../util.js";import{extend}from"../array.js";import FeatureFormat from"../format/Feature.js";import FormatType from"../format/FormatType.js";import{isDocument,parse}from"../xml.js";class XMLFeature extends FeatureFormat{constructor(){super(),this.xmlSerializer_=new XMLSerializer}getType(){return FormatType.XML}readFeature(e,r){var t;return e?"string"==typeof e?(t=parse(e),this.readFeatureFromDocument(t,r)):isDocument(e)?this.readFeatureFromDocument(e,r):this.readFeatureFromNode(e,r):null}readFeatureFromDocument(e,r){e=this.readFeaturesFromDocument(e,r);return 0<e.length?e[0]:null}readFeatureFromNode(e,r){return null}readFeatures(e,r){var t;return e?"string"==typeof e?(t=parse(e),this.readFeaturesFromDocument(t,r)):isDocument(e)?this.readFeaturesFromDocument(e,r):this.readFeaturesFromNode(e,r):[]}readFeaturesFromDocument(r,t){var o=[];for(let e=r.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&extend(o,this.readFeaturesFromNode(e,t));return o}readFeaturesFromNode(e,r){return abstract()}readGeometry(e,r){var t;return e?"string"==typeof e?(t=parse(e),this.readGeometryFromDocument(t,r)):isDocument(e)?this.readGeometryFromDocument(e,r):this.readGeometryFromNode(e,r):null}readGeometryFromDocument(e,r){return null}readGeometryFromNode(e,r){return null}readProjection(e){var r;return e?"string"==typeof e?(r=parse(e),this.readProjectionFromDocument(r)):isDocument(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e):null}readProjectionFromDocument(e){return this.dataProjection}readProjectionFromNode(e){return this.dataProjection}writeFeature(e,r){e=this.writeFeatureNode(e,r);return this.xmlSerializer_.serializeToString(e)}writeFeatureNode(e,r){return null}writeFeatures(e,r){e=this.writeFeaturesNode(e,r);return this.xmlSerializer_.serializeToString(e)}writeFeaturesNode(e,r){return null}writeGeometry(e,r){e=this.writeGeometryNode(e,r);return this.xmlSerializer_.serializeToString(e)}writeGeometryNode(e,r){return null}}export default XMLFeature;