import{cosh}from"../math.js";import Projection from"./Projection.js";import Units from"./Units.js";const RADIUS=6378137,HALF_SIZE=Math.PI*RADIUS,EXTENT=[-HALF_SIZE,-HALF_SIZE,HALF_SIZE,HALF_SIZE],WORLD_EXTENT=[-180,-85,180,85];class EPSG3857Projection extends Projection{constructor(t){super({code:t,units:Units.METERS,extent:EXTENT,global:!0,worldExtent:WORLD_EXTENT,getPointResolution:function(t,o){return t/cosh(o[1]/RADIUS)}})}}const PROJECTIONS=[new EPSG3857Projection("EPSG:3857"),new EPSG3857Projection("EPSG:102100"),new EPSG3857Projection("EPSG:102113"),new EPSG3857Projection("EPSG:900913"),new EPSG3857Projection("urn:ogc:def:crs:EPSG:6.18:3:3857"),new EPSG3857Projection("urn:ogc:def:crs:EPSG::3857"),new EPSG3857Projection("http://www.opengis.net/gml/srs/epsg.xml#3857")];function fromEPSG4326(n,t,o){var e=n.length,r=1<o?o:2;let E=t;void 0===E&&(E=2<r?n.slice():new Array(e));var P=HALF_SIZE;for(let o=0;o<e;o+=r){E[o]=P*n[o]/180;let t=RADIUS*Math.log(Math.tan(Math.PI*(+n[o+1]+90)/360));t>P?t=P:t<-P&&(t=-P),E[o+1]=t}return E}function toEPSG4326(o,t,n){var e=o.length,r=1<n?n:2;let E=t;void 0===E&&(E=2<r?o.slice():new Array(e));for(let t=0;t<e;t+=r)E[t]=180*o[t]/HALF_SIZE,E[t+1]=360*Math.atan(Math.exp(o[t+1]/RADIUS))/Math.PI-90;return E}export{RADIUS,HALF_SIZE,EXTENT,WORLD_EXTENT,PROJECTIONS,fromEPSG4326,toEPSG4326};