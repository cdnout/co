import{abstract}from"../util.js";import BaseObject from"../Object.js";import LayerProperty from"./Property.js";import{clamp}from"../math.js";import{assign}from"../obj.js";import{assert}from"../asserts.js";class BaseLayer extends BaseObject{constructor(t){super();const e=assign({},t);e[LayerProperty.OPACITY]=void 0!==t.opacity?t.opacity:1,assert("number"==typeof e[LayerProperty.OPACITY],64),e[LayerProperty.VISIBLE]=void 0===t.visible||t.visible,e[LayerProperty.Z_INDEX]=t.zIndex,e[LayerProperty.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,e[LayerProperty.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,e[LayerProperty.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,e[LayerProperty.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,this.className_=void 0!==e.className?t.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getClassName(){return this.className_}getLayerState(t){const e=this.state_||{layer:this,managed:void 0===t||t,hasOverlay:!1};return e.opacity=clamp(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=this.getZIndex()||(!1===e.managed?1/0:0),e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e}getLayersArray(t){return abstract()}getLayerStatesArray(t){return abstract()}getExtent(){return this.get(LayerProperty.EXTENT)}getMaxResolution(){return this.get(LayerProperty.MAX_RESOLUTION)}getMinResolution(){return this.get(LayerProperty.MIN_RESOLUTION)}getMinZoom(){return this.get(LayerProperty.MIN_ZOOM)}getMaxZoom(){return this.get(LayerProperty.MAX_ZOOM)}getOpacity(){return this.get(LayerProperty.OPACITY)}getSourceState(){return abstract()}getVisible(){return this.get(LayerProperty.VISIBLE)}getZIndex(){return this.get(LayerProperty.Z_INDEX)}setExtent(t){this.set(LayerProperty.EXTENT,t)}setMaxResolution(t){this.set(LayerProperty.MAX_RESOLUTION,t)}setMinResolution(t){this.set(LayerProperty.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(LayerProperty.MAX_ZOOM,t)}setMinZoom(t){this.set(LayerProperty.MIN_ZOOM,t)}setOpacity(t){assert("number"==typeof t,64),this.set(LayerProperty.OPACITY,t)}setVisible(t){this.set(LayerProperty.VISIBLE,t)}setZIndex(t){this.set(LayerProperty.Z_INDEX,t)}}export default BaseLayer;