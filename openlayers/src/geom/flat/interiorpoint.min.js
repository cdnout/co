import{numberSafeCompareFunction}from"../../array.js";import{linearRingsContainsXY}from"./contains.js";function getInteriorPointOfArray(n,e,o,i,r,t,a){let f,s,l,u,g,m,h;var p=r[t+1];const c=[];for(let r=0,t=o.length;r<t;++r){var y=o[r];for(u=n[y-i],m=n[y-i+1],f=e;f<y;f+=i)g=n[f],h=n[f+1],(p<=m&&h<=p||m<=p&&p<=h)&&(l=(p-m)/(h-m)*(g-u)+u,c.push(l)),u=g,m=h}let A=NaN,I=-1/0;for(c.sort(numberSafeCompareFunction),u=c[0],f=1,s=c.length;f<s;++f){g=c[f];var O=Math.abs(g-u);O>I&&(l=(u+g)/2,linearRingsContainsXY(n,e,o,i,l,p)&&(A=l,I=O)),u=g}return isNaN(A)&&(A=r[t]),a?(a.push(A,p,I),a):[A,p,I]}function getInteriorPointsOfMultiArray(n,e,o,i,a){let f=[];for(let r=0,t=o.length;r<t;++r){var s=o[r];f=getInteriorPointOfArray(n,e,s,i,a,2*r,f),e=s[s.length-1]}return f}export{getInteriorPointOfArray,getInteriorPointsOfMultiArray};