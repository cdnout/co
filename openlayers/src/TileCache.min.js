import LRUCache from"./structs/LRUCache.js";import{fromKey,getKey}from"./tilecoord.js";class TileCache extends LRUCache{constructor(e){super(e)}expireCache(e){for(;this.canExpireCache();){const t=this.peekLast();if(t.getKey()in e)break;this.pop().dispose()}}pruneExceptNewestZ(){if(0!==this.getCount()){var e=this.peekFirstKey();const t=fromKey(e)[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(getKey(e.tileCoord)),e.dispose())}.bind(this))}}}export default TileCache;