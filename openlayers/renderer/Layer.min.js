var __extends=this&&this.__extends||function(){var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();import{abstract}from"../util.js";import ImageState from"../ImageState.js";import Observable from"../Observable.js";import EventType from"../events/EventType.js";import SourceState from"../source/State.js";var LayerRenderer=function(r){function t(t){var e=r.call(this)||this;return e.boundHandleImageChange_=e.handleImageChange_.bind(e),e.layer_=t,e}return __extends(t,r),t.prototype.prepareFrame=function(t){return abstract()},t.prototype.renderFrame=function(t,e){return abstract()},t.prototype.loadedTileCallback=function(t,e,r){t[e]||(t[e]={}),t[e][r.tileCoord.toString()]=r},t.prototype.createLoadedTileFinder=function(n,a,o){return function(t,e){var r=this.loadedTileCallback.bind(this,o,t);return n.forEachLoadedTile(a,t,e,r)}.bind(this)},t.prototype.forEachFeatureAtCoordinate=function(t,e,r,n,a){},t.prototype.getDataAtPixel=function(t,e,r){return abstract()},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(t){t.target.getState()===ImageState.LOADED&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(t){var e=t.getState();return e!=ImageState.LOADED&&e!=ImageState.ERROR&&t.addEventListener(EventType.CHANGE,this.boundHandleImageChange_),e==ImageState.IDLE&&(t.load(),e=t.getState()),e==ImageState.LOADED},t.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==SourceState.READY&&t.changed()},t}(Observable);export default LayerRenderer;