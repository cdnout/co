import{numberSafeCompareFunction}from"../../array.js";import{linearRingsContainsXY}from"./contains.js";function getInteriorPointOfArray(r,n,t,o,a,i,e){for(var f,s,u,g=a[i+1],l=[],m=0,h=t.length;m<h;++m)for(var p=t[m],v=r[p-o],y=r[p-o+1],c=n;c<p;c+=o)O=r[c],u=r[c+1],(g<=y&&u<=g||y<=g&&g<=u)&&l.push(s=(g-y)/(u-y)*(O-v)+v),v=O,y=u;var A=NaN,I=-1/0;for(l.sort(numberSafeCompareFunction),v=l[0],c=1,f=l.length;c<f;++c){var O=l[c],P=Math.abs(O-v);I<P&&linearRingsContainsXY(r,n,t,o,s=(v+O)/2,g)&&(A=s,I=P),v=O}return isNaN(A)&&(A=a[i]),e?(e.push(A,g,I),e):[A,g,I]}function getInteriorPointsOfMultiArray(r,n,t,o,a){for(var i=[],e=0,f=t.length;e<f;++e){var s=t[e],i=getInteriorPointOfArray(r,n,s,o,a,2*e,i);n=s[s.length-1]}return i}export{getInteriorPointOfArray,getInteriorPointsOfMultiArray};