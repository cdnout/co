var __extends=this&&this.__extends||function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)};return function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();import Control from"./Control.js";import{CLASS_CONTROL,CLASS_HIDDEN,CLASS_UNSELECTABLE}from"../css.js";import{easeOut}from"../easing.js";import EventType from"../events/EventType.js";var Rotate=function(r){function t(t){var e=this,t=t||{},e=r.call(this,{element:document.createElement("div"),render:t.render||render,target:t.target})||this,o=void 0!==t.className?t.className:"ol-rotate",a=void 0!==t.label?t.label:"â‡§",a=(e.label_=null,"string"==typeof a?(e.label_=document.createElement("span"),e.label_.className="ol-compass",e.label_.textContent=a):(e.label_=a,e.label_.classList.add("ol-compass")),t.tipLabel||"Reset rotation"),n=document.createElement("button"),a=(n.className=o+"-reset",n.setAttribute("type","button"),n.title=a,n.appendChild(e.label_),n.addEventListener(EventType.CLICK,e.handleClick_.bind(e),!1),o+" "+CLASS_UNSELECTABLE+" "+CLASS_CONTROL),o=e.element;return o.className=a,o.appendChild(n),e.callResetNorth_=t.resetNorth||void 0,e.duration_=void 0!==t.duration?t.duration:250,e.autoHide_=void 0===t.autoHide||t.autoHide,e.rotation_=void 0,e.autoHide_&&e.element.classList.add(CLASS_HIDDEN),e}return __extends(t,r),t.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},t.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(0<this.duration_?t.animate({rotation:0,duration:this.duration_,easing:easeOut}):t.setRotation(0))},t}(Control);function render(t){var e,o,t=t.frameState;t&&((t=t.viewState.rotation)!=this.rotation_&&(e="rotate("+t+"rad)",this.autoHide_&&((o=this.element.classList.contains(CLASS_HIDDEN))||0!==t?o&&0!==t&&this.element.classList.remove(CLASS_HIDDEN):this.element.classList.add(CLASS_HIDDEN)),this.label_.style.transform=e),this.rotation_=t)}export default Rotate;export{render};