var __extends=this&&this.__extends||function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();import{VOID}from"../functions.js";import MapEventType from"../MapEventType.js";import BaseObject from"../Object.js";import{removeNode}from"../dom.js";import{listen,unlistenByKey}from"../events.js";var Control=function(n){function t(t){var e=n.call(this)||this;return e.element=t.element||null,e.target_=null,e.map_=null,e.listenerKeys=[],e.render=t.render||VOID,t.target&&e.setTarget(t.target),e}return __extends(t,n),t.prototype.disposeInternal=function(){removeNode(this.element),n.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(t){this.map_&&removeNode(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)unlistenByKey(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_||t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==VOID&&this.listenerKeys.push(listen(t,MapEventType.POSTRENDER,this.render,this)),t.render())},t.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},t}(BaseObject);export default Control;