var __extends=this&&this.__extends||function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}();import Tile from"../Tile.js";import TileState from"../TileState.js";import{createCanvasContext2D}from"../dom.js";import{toSize}from"../size.js";import XYZ from"./XYZ.js";import{getKeyZXY}from"../tilecoord.js";var LabeledTile=function(o){function t(t,e,i){t=o.call(this,t,TileState.LOADED)||this;return t.tileSize_=e,t.text_=i,t.canvas_=null,t}return __extends(t,o),t.prototype.getImage=function(){var t,e;return this.canvas_||(t=this.tileSize_,(e=createCanvasContext2D(t[0],t[1])).strokeStyle="grey",e.strokeRect(.5,.5,t[0]+.5,t[1]+.5),e.fillStyle="grey",e.strokeStyle="white",e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.lineWidth=4,e.strokeText(this.text_,t[0]/2,t[1]/2,t[0]),e.fillText(this.text_,t[0]/2,t[1]/2,t[0]),this.canvas_=e.canvas,e.canvas)},t.prototype.load=function(){},t}(Tile),TileDebug=function(e){function t(t){t=t||{};return e.call(this,{opaque:!1,projection:t.projection,tileGrid:t.tileGrid,wrapX:void 0===t.wrapX||t.wrapX,zDirection:t.zDirection})||this}return __extends(t,e),t.prototype.getTile=function(t,e,i){var o,r,n=getKeyZXY(t,e,i);return this.tileCache.containsKey(n)?this.tileCache.get(n):(o=toSize(this.tileGrid.getTileSize(t)),r=void 0,r=(e=this.getTileCoordForTileUrlFunction(t=[t,e,i]))?"z:"+e[0]+" x:"+e[1]+" y:"+e[2]:"none",i=new LabeledTile(t,o,r),this.tileCache.set(n,i),i)},t}(XYZ);export default TileDebug;