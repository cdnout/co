import{clear}from"./obj.js";function listen(e,t,n,r,i){r&&r!==e&&(n=n.bind(r)),i&&(s=n,n=function(){e.removeEventListener(t,n),s.apply(this,arguments)});var s,r={target:e,type:t,listener:n};return e.addEventListener(t,n),r}function listenOnce(e,t,n,r){return listen(e,t,n,r,!0)}function unlistenByKey(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),clear(e))}export{listen,listenOnce,unlistenByKey};