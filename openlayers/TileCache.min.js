var __extends=this&&this.__extends||function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)};return function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();import LRUCache from"./structs/LRUCache.js";import{fromKey,getKey}from"./tilecoord.js";var TileCache=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.expireCache=function(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().dispose()}},t.prototype.pruneExceptNewestZ=function(){var t,e;0!==this.getCount()&&(t=this.peekFirstKey(),e=fromKey(t)[0],this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove(getKey(t.tileCoord)),t.dispose())}.bind(this)))},t}(LRUCache);export default TileCache;