import Mmenu from"../../core/oncanvas/mmenu.oncanvas";import*as DOM from"../../_modules/dom";export default function(e){var t,a,n,r,i=this,m=DOM.create("a.mm-navbar__title"),o=DOM.create("span");m.append(o),e.append(m),this.bind("openPanel:start",function(e){e.parentElement.matches(".mm-listitem_vertical")||((n=e.querySelector("."+i.conf.classNames.navbars.panelTitle))||(n=e.querySelector(".mm-navbar__title span")),(t=n&&n.closest("a")?n.closest("a").getAttribute("href"):"")?m.setAttribute("href",t):m.removeAttribute("href"),a=n?n.innerHTML:"",o.innerHTML=a)}),this.bind("openPanel:start:sr-aria",function(e){if(i.opts.screenReader.text){if(!r)DOM.children(i.node.menu,".mm-navbars_top, .mm-navbars_bottom").forEach(function(e){var t=e.querySelector(".mm-btn_prev");t&&(r=t)});if(r){var t=!0;"parent"==i.opts.navbar.titleLink&&(t=!r.matches(".mm-hidden")),Mmenu.sr_aria(m,"hidden",t)}}})};