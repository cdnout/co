import Mmenu from"../../core/oncanvas/mmenu.oncanvas";import*as DOM from"../../_modules/dom";export default function(e){var n,t,r,a=this,i=DOM.create("a.mm-btn.mm-btn_prev.mm-navbar__btn");e.append(i),this.bind("initNavbar:after",function(e){DOM.children(e,".mm-navbar")[0].classList.add("mm-hidden")}),this.bind("openPanel:start",function(e){e.parentElement.matches(".mm-listitem_vertical")||((n=e.querySelector("."+a.conf.classNames.navbars.panelPrev))||(n=e.querySelector(".mm-navbar__btn.mm-btn_prev")),t=n?n.getAttribute("href"):"",r=n?n.innerHTML:"",t?i.setAttribute("href",t):i.removeAttribute("href"),i.classList[t||r?"remove":"add"]("mm-hidden"),i.innerHTML=r)}),this.bind("initNavbar:after:sr-aria",function(e){Mmenu.sr_aria(e.querySelector(".mm-navbar"),"hidden",!0)}),this.bind("openPanel:start:sr-aria",function(e){Mmenu.sr_aria(i,"hidden",i.matches(".mm-hidden")),Mmenu.sr_aria(i,"owns",(i.getAttribute("href")||"").slice(1))})};