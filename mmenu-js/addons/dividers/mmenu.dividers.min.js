import Mmenu from"../../core/oncanvas/mmenu.oncanvas";import options from"./_options";import{extendShorthandOptions}from"./_options";import*as DOM from"../../_modules/dom";import{extend}from"../../_modules/helpers";Mmenu.options.dividers=options,Mmenu.configs.classNames.divider="Divider";export default function(){var i=this,e=extendShorthandOptions(this.opts.dividers);this.opts.dividers=extend(e,Mmenu.options.dividers),this.bind("initListview:after",function(e){DOM.children(e).forEach(function(e){DOM.reClass(e,i.conf.classNames.divider,"mm-divider"),e.matches(".mm-divider")&&e.classList.remove("mm-listitem")})}),e.add&&this.bind("initListview:after",function(i){if(i.matches(e.addTo)){DOM.find(i,".mm-divider").forEach(function(i){i.remove()});var t="",o=DOM.children(i);DOM.filterLI(o).forEach(function(e){var o=DOM.children(e,".mm-listitem__text")[0].textContent.trim().toLowerCase()[0];if(o.length&&o!=t){t=o;var n=DOM.create("li.mm-divider");n.textContent=o,i.insertBefore(n,e)}})}})};