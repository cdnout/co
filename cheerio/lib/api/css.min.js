"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.css=void 0;var utils_1=require("../utils");function css(e,r){return null!=e&&null!=r||"object"==typeof e&&!Array.isArray(e)?utils_1.domEach(this,function(t,s){utils_1.isTag(t)&&setCss(t,e,r,s)}):getCss(this[0],e)}function setCss(e,r,t,s){var i;"string"==typeof r?(i=getCss(e),""===(t="function"==typeof t?t.call(e,s,i[r]):t)?delete i[r]:null!=t&&(i[r]=t),e.attribs.style=stringify(i)):"object"==typeof r&&Object.keys(r).forEach(function(t,s){setCss(e,t,r[t],s)})}function getCss(t,s){if(t&&utils_1.isTag(t)){var e=parse(t.attribs.style);if("string"==typeof s)return e[s];if(Array.isArray(s)){var r={};return s.forEach(function(t){null!=e[t]&&(r[t]=e[t])}),r}return e}}function stringify(e){return Object.keys(e).reduce(function(t,s){return t+(t?" ":"")+s+": "+e[s]+";"},"")}function parse(t){return(t=(t||"").trim())?t.split(";").reduce(function(t,s){var e=s.indexOf(":");return e<1||e===s.length-1||(t[s.slice(0,e).trim()]=s.slice(e+1).trim()),t},{}):{}}exports.css=css;