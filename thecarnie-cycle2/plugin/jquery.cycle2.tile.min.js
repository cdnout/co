/* Plugin for Cycle2; Copyright (c) 2012 M. Alsup; v20210125 */

!function(k){"use strict";k.fn.cycle.transitions.tileSlide=k.fn.cycle.transitions.tileBlind={before:function(i,e,t,n){i.API.stackSlides(e,t,n),k(e).css({display:"block",visibility:"visible"}),i.container.css("overflow","hidden"),i.tileDelay=i.tileDelay||"tileSlide"==i.fx?100:125,i.tileCount=i.tileCount||7,i.tileVertical=!1!==i.tileVertical,i.container.data("cycleTileInitialized")||(i.container.on("cycle-destroyed",k.proxy(this.onDestroy,i.API)),i.container.data("cycleTileInitialized",!0))},transition:function(t,i,e,n,l){t.slides.not(i).not(e).css("visibility","hidden");var o,s,a,c,d,r=k(),f=k(i),y=k(e),p=t.tileCount,v=t.tileVertical,h=t.container.height(),i=t.container.width();v?(c=i-(s=Math.floor(i/p))*(p-1),a=d=h):(s=c=i,d=h-(a=Math.floor(h/p))*(p-1)),t.container.find(".cycle-tiles-container").remove();var b={left:0,top:0,overflow:"hidden",position:"absolute",margin:0,padding:0},u=v?"tileSlide"==t.fx?{top:h}:{width:0}:"tileSlide"==t.fx?{left:i}:{height:0},g=k('<div class="cycle-tiles-container"></div>');g.css({zIndex:f.css("z-index"),overflow:"visible",position:"absolute",top:0,left:0,direction:"ltr"}),g.insertBefore(e);for(var m=0;m<p;m++)o=k("<div></div>").css(b).css({width:p-1===m?c:s,height:p-1===m?d:a,marginLeft:v?m*s:0,marginTop:v?0:m*a}).append(f.clone().css({position:"relative",maxWidth:"none",width:f.width(),margin:0,padding:0,marginLeft:v?-m*s:0,marginTop:v?0:-m*a})),r=r.add(o);g.append(r),f.css("visibility","hidden"),y.css({opacity:1,display:"block",visibility:"visible"}),function i(e){r.eq(e).animate(u,{duration:t.speed,easing:t.easing,complete:function(){(n?p-1===e:0===e)&&t._tileAniCallback()}});setTimeout(function(){(n?p-1!==e:0!==e)&&i(n?e+1:e-1)},t.tileDelay)}(n?0:p-1),t._tileAniCallback=function(){y.css({display:"block",visibility:"visible"}),f.css("visibility","hidden"),g.remove(),l()}},stopTransition:function(i){i.container.find("*").stop(!0,!0),i._tileAniCallback&&i._tileAniCallback()},onDestroy:function(i){this.opts().container.find(".cycle-tiles-container").remove()}}}(jQuery);