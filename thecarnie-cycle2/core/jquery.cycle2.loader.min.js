/* Plugin for Cycle2; Copyright (c) 2012 M. Alsup; v20210125 */

!function(f){"use strict";f.extend(f.fn.cycle.defaults,{loader:!1}),f(document).on("cycle-bootstrap",function(e,d){var s;d.loader&&(s=d.API.add,d.API.add=function(e,o){var r=[];if("string"==f.fn.cycle.varType(e))e=e.trim();else if("array"===f.fn.cycle.varType(e))for(var n=0;n<e.length;n++)e[n]=f(e[n])[0];var l=(e=f(e)).length;if(!l)return;e.css("visibility","hidden").appendTo("body").each(function(e){var i=0,a=f(this),n=a.is("img")?a:a.find("img");if(a.data("index",e),!(n=n.filter(":not(.cycle-loader-ignore)").filter(':not([src=""])')).length)return--l,void r.push(a);function t(){var e,n;0==--i&&(--l,e=a,"wait"==d.loader?(r.push(e),0===l&&(r.sort(c),s.apply(d.API,[r,o]),d.container.removeClass("cycle-loading"))):(n=f(d.slides[d.currSlide]),s.apply(d.API,[e,o]),n.show(),d.container.removeClass("cycle-loading")))}i=n.length,n.each(function(){this.complete?t():f(this).on("load",function(){t()}).on("error",function(){0==--i&&(d.API.log("slide skipped; img not loaded:",this.src),0==--l&&"wait"==d.loader&&s.apply(d.API,[r,o]))})})}),l&&d.container.addClass("cycle-loading");function c(e,n){return e.data("index")-n.data("index")}})})}(jQuery);