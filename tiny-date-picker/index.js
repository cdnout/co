var L=Object.defineProperty,J=t=>L(t,"__esModule",{value:!0}),K=(t,e)=>{for(var a in J(t),e)L(t,a,{get:e[a],enumerable:!0})};K(exports,{default:()=>B,defaultOptions:()=>y});var U=t=>t&&"object"==typeof t&&!Array.isArray(t)&&!(t instanceof NodeList)&&!(t instanceof Node)&&!(t.el instanceof Node);function X(n,o){return o&&n&&Object.keys(n).forEach(t=>{let e=n[t];var a;"class"===t||"className"===t?(a=e&&e.trim().split(/[\s]+/))&&a.length&&o.classList.add(...a):"innerHTML"===t||"textContent"===t||"function"==typeof e||t.startsWith("$")?o[t]=e:!1!==e&&void 0!==e&&null!==e&&o.setAttribute(t,e)}),o}function H(t,e){t&&(t.forEach?t.forEach&&t.forEach(t=>H(t,e)):e.append(t))}function p(t,...e){let[a,...n]=t.split("."),o=document.createElement(a||"div"),r=e[0],s=U(r)&&r;return n.length&&(o.className=n.join(" ")),X(s,o),H(s?e.slice(1):e,o),o}function d(t,e,a,n){return t.addEventListener(e,a,n),()=>t.removeEventListener(e,a,n)}var T=n=>t=>{let e=0<n?"nextElementSibling":"previousElementSibling",a=t.target[e];for(let t=0;a&&t<Math.abs(n)-1;++t)a=a[e];a&&a.focus()};function f(t,a){let n={ArrowLeft:T(-1),ArrowUp:T(-t),ArrowRight:T(1),ArrowDown:T(t)};return t=>{let e=a&&a[t.code]||n[t.code];e&&(t.preventDefault(),e(t))}}function m(t,e,a){return p("button",{tabindex:-1,type:"button",...e,className:t},a)}var _=t=>`00${t}`.slice(-2),O=(t,e)=>{e=12===e.timeFormat;return`${t.getHours()%(e?12:24)||(e?12:0)}`},S=t=>_(t.getMinutes()),A=t=>t.target.select();function Y(t,e){var a=24===e.timeFormat?"":12<=t.getHours()?" PM":" AM";return O(t,e)+":"+S(t)+a}function F(t,e){var a=e.getHours();return{hh:O(e,t),mm:S(e),ampm:12<=a?"pm":"am"}}function z(t,e){var a=parseInt(t.hh||"0",10);return e?a%12+("pm"===t.ampm?12:0):a}function N(e){let t=e["opts"],a=t["lang"],n=12===t.timeFormat,o=F(t,e.selectedDate||e.currentDate),r=()=>{let t=new Date(e.currentDate);t.setHours(z(o,n),parseInt(o.mm||"0",10)),e.goto(t)},s=t=>{"Enter"===t.code&&(t.preventDefault(),t.target.onchange(t),e.apply())},i=p("input.dp-txt-time.dp-txt-hh",{type:"text",placeholder:"hh",maxlength:2,onfocus:A,onkeydown:s,onchange(t){o.hh=t.target.value,r()},value:o.hh}),c=p("input.dp-txt-time.dp-txt-mm",{placeholder:"mm",type:"text",maxlength:2,onfocus:A,onkeydown:s,onchange(t){o.mm=t.target.value,r()},value:o.mm}),l=m("dp-ampm",{tabindex:"auto",onclick(t){o.ampm="pm"===o.ampm?"am":"pm",t.target.textContent=o.ampm,r()}},o.ampm),u=p("footer.dp-time-footer",i,":",c,n?l:"",a.applyText&&m("dp-apply",{tabindex:"auto",onclick(){e.apply()}},a.applyText));return d(e.root,"selecteddatechange",()=>{e.selectedDate&&(Object.assign(o,F(e.opts,e.selectedDate)),i.value=o.hh,c.value=o.mm,l.textContent=o.ampm)}),u}function y(){let n={lang:{applyText:"Apply",days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"]},timeFormat:12,highlightedDate:new Date,format(t){return t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear()+(n.pickTime?" "+Y(t,n):"")},parse(t){t=new Date(t);return isNaN(t)?void 0:t},dateClass(){return""},inRange(t){var{min:e,max:a}=n;return(!e||e<=t)&&(!a||t<=a)},appendTo:document.body,dayOffset:0};return n}function D(){var t=new Date;return t.setHours(0,0,0,0),t}function x(t,e){return(t&&t.toDateString())===(e&&e.toDateString())}function g(t,e){return(t=new Date(t)).setDate(t.getDate()+e),t}function v(t,e,a){var n=(t=new Date(t)).getDate(),e=t.getMonth()+e;return t.setDate(1),t.setMonth(a?(12+e)%12:e),t.setDate(n),t.getDate()<n&&t.setDate(0),t}function w(t,e){return(t=new Date(t)).setFullYear(t.getFullYear()+e),t}function C(t,e){return(t=new Date(t)).setFullYear(e),t}function j(t,e){return v(t,e-t.getMonth())}function E(t,e,a){return t&&(e&&t<e?e:a&&a<t?a:t)}function $(a){let{opts:t,currentDate:n}=a,e=t.lang["months"],o=n.getMonth(),r=p(".dp-months.dp-submenu",{onclick:t=>t.stopPropagation(),onkeydown:f(3)},e.map((t,e)=>m(`dp-month${o===e?" dp-selected":""}`,{onclick:()=>a.goto(j(n,e))},t)));a.submenu(r);let s=r.querySelector(".dp-selected");s&&s.focus()}function G(t){let e=[],{max:a,min:n}=t.opts,o=(a?new Date(a):w(D(),25)).getFullYear(),r=(n?new Date(n):w(D(),-25)).getFullYear();for(let t=r;t<=o;++t)e.push(t);return e}function I(e){let{currentDate:a,selectedDate:t}=e,n=a.getFullYear(),o=t?.getFullYear(),r=p(".dp-years.dp-submenu",{onclick:t=>t.stopPropagation(),onkeydown:f(1)},G(e).map(t=>m(`dp-year${n===t?" dp-selected":""}${o===t?" dp-selected":""}`,{onclick:()=>e.goto(C(a,t))},t)));e.submenu(r);let s=r.querySelector(".dp-selected");s&&s.focus()}function Q(t,e){let a=[],n=new Date(t);n.setDate(1),n.setDate(1-n.getDay()+e),e&&n.getDate()===e+1&&n.setDate(e-6);for(let t=0;t<42;++t)a.push(new Date(n)),n.setDate(n.getDate()+1);return a}function M(r,t){let{opts:s,currentDate:i,selectedDate:c}=r,{days:a,months:e}=s.lang,l=i.getMonth(),d=D();return p(`.dp-body.${t}`,p("header.dp-cal-header",m("dp-cal-month",{onclick:t=>{t.stopPropagation(),$(r)}},e[l]),m("dp-cal-year",{onclick:t=>{t.stopPropagation(),I(r)}},i.getFullYear())),p(".dp-days",{onkeydown:f(7,{ArrowLeft(t){r.goto(g(new Date(parseInt(t.target.dataset.date)),-1))},ArrowUp(t){r.goto(g(new Date(parseInt(t.target.dataset.date)),-7))},ArrowRight(t){r.goto(g(new Date(parseInt(t.target.dataset.date)),1))},ArrowDown(t){r.goto(g(new Date(parseInt(t.target.dataset.date)),7))}})},a.map((t,e)=>p("span.dp-col-header",a[(e+s.dayOffset)%a.length])),Q(i,s.dayOffset).map(t=>{var e=t.getMonth()!==l,a=!s.inRange(t),n=x(t,d),o=x(t,i);return m("dp-day"+(e?" dp-edge-day":"")+(o?" dp-current":"")+(x(t,c)?" dp-selected":"")+(a?" dp-day-disabled":"")+(n?" dp-day-today":"")+s.dateClass(t),{disabled:a,onclick(){s.pickTime?r.setSelectedDate(t):r.apply(t)},tabindex:o?"":-1,"data-date":t.getTime()},t.getDate())})))}function V(t){return p(".dp-cal",{tabindex:-1},p(".dp-cal-header-placeholder"),m("dp-prev",{onclick:()=>t.goto(v(t.currentDate,-1)),"aria-label":"Prev"},"‹"),m("dp-next",{onclick:()=>t.goto(v(t.currentDate,1)),"aria-label":"Next"},"›"),M(t,""))}var P=class{constructor(t){this.opts=t,this.currentDate=t.highlightedDate,this.root=V(this),t.pickTime&&this.root.append(N(this)),d(this.root,"click",()=>this.submenu())}redraw(t){this.root.querySelector(".dp-body").replaceWith(t),this.submenu()}setOpts(t){Object.assign(this.opts,t),this.selectedDate=E(this.selectedDate,t.min,t.max),this.currentDate=E(this.currentDate,t.min,t.max),this.redraw(M(this,""))}submenu(t){let e=this.root.querySelectorAll(".dp-submenu");!t&&!e.length||(e.forEach(t=>t.remove()),t?this.root.appendChild(t):this.root.querySelector(".dp-current").focus())}goto(t){var e=this.currentDate!==t,a=this.currentDate<t,n=this.currentDate.getMonth()===t.getMonth()&&this.currentDate.getFullYear()===t.getFullYear();this.currentDate=t,this.redraw(M(this,n?"":a?"dp-body-next":"dp-body-prev")),e&&this.root.dispatchEvent(new CustomEvent("currentdatechange",{detail:t})),setTimeout(()=>{this.root.contains(document.activeElement)||this.root.querySelector(".dp-current").focus()})}setSelectedDate(t){this.selectedDate=E(t||this.currentDate,this.opts.min,this.opts.max),this.goto(this.selectedDate),this.root.dispatchEvent(new CustomEvent("selecteddatechange",{detail:this.selectedDate}))}apply(t){this.setSelectedDate(t),this.root.dispatchEvent(new CustomEvent("apply",{detail:this}))}};function q(t,e){let{root:a,opts:n}=t,o=[],r=()=>{o.forEach(t=>t()),o=[],a.remove()},s=()=>p(".tab-catcher",{tabindex:"0",onfocus(){e.focus(),r()}}),i=()=>{a.isConnected||(t.setSelectedDate(t.opts.parse(e.value)),a.classList.add("dp-flyout"),n.appendTo.append(a),Z(e,t),a.querySelector(".dp-current").focus(),o=[d(document.body,"focus",t=>{t.target===document.body||t.target===e||a.contains(t.target)||r()},!0),d(document.body,"mousedown",t=>{t.target===e||a.contains(t.target)||r()})])};a.prepend(s()),a.append(s()),d(e,"click",i),d(e,"focus",i),d(a,"apply",()=>{e.value=t.selectedDate?n.format(t.selectedDate):"",e.focus(),r()})}function Z(t,e){let a=document.documentElement,n=e.root,o=window.scrollX,r=window.scrollY,s=t.getBoundingClientRect(),i=n.getBoundingClientRect(),c=s.left+o,l=s.bottom+r+8,d={left:`${c}px`},u={top:`${l+8}px`};l+i.height>a.clientHeight+r&&(u={top:`${Math.max(8,r+s.top-8-i.height)}px`}),c+i.width>a.clientWidth+o&&(d={left:`${Math.max(8,o+a.clientWidth-i.width-8)}px`}),Object.assign(n.style,u,d),e.root.style.visibility=""}function B(t){let e=Object.assign(y(),t);e.lang=Object.assign(y().lang,t?.lang);t=new P(e);return e.input&&q(t,e.input),t}