import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import*as React from"react";var useDraggable=function(t){var r=t.onDragFinish,t=React.useState(!1),t=_slicedToArray(t,2),e=t[0],a=t[1],n=React.useRef(null),t=React.useState([]),t=_slicedToArray(t,2),s=t[0],o=t[1],t=React.useState(0),t=_slicedToArray(t,2),i=t[0],l=t[1],t=React.useState(0),t=_slicedToArray(t,2),c=t[0],u=t[1],t=React.useState(0),t=_slicedToArray(t,2),f=t[0],d=t[1],t=React.useState(void 0),t=_slicedToArray(t,2),g=t[0],m=t[1];return{onDragStart:function(){var t,e,r=n.current;r&&(a(!0),t=[],e=(t=null!=(e=r.parentElement)&&e.childNodes?Array.from(r.parentElement.children):t).indexOf(r),l(e),u(e),o(t),d(0))},onDragMove:function(t){t.originalEvent.preventDefault();var o,e=n.current;e&&(e.style.transform="translateY(".concat(t.shiftY,"px)"),o=e.getBoundingClientRect(),m(f-t.shiftY<0?"down":"up"),d(t.shiftY),u(i),s.forEach(function(t,e){var r=t.getBoundingClientRect(),a=r.height/2,n=o.bottom>r.top+a,r=o.top<r.bottom-a;i<e?(n&&("down"===g&&(t.style.transform="translateY(-100%)"),u(function(t){return t+1})),r&&"up"===g&&(t.style.transform="translateY(0)")):e<i&&(r&&("up"===g&&(t.style.transform="translateY(100%)"),u(function(t){return t-1})),n&&"down"===g&&(t.style.transform="translateY(0)"))}))},onDragEnd:function(){var t=i,e=c;s.forEach(function(t){t.style.transform=""}),o([]),u(0),l(0),m(void 0),d(0),a(!1),r&&r({from:t,to:e})},dragging:e,rootElRef:n}};export{useDraggable};