import _extends from"@babel/runtime/helpers/extends";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["activeStory","tabbar","children","viewWidth"];import{createScopedElement}from"../../lib/jsxRuntime";import*as React from"react";import{getClassName}from"../../helpers/getClassName";import{usePlatform}from"../../hooks/usePlatform";import{withAdaptivity,ViewWidth}from"../../hoc/withAdaptivity";import{ScrollSaver}from"./ScrollSaver";import{getNavId}from"../../lib/getNavId";import{warnOnce}from"../../lib/warnOnce";import"./Epic.css";var warn=warnOnce("Epic"),Epic=function(e){var t=usePlatform(),r=React.useRef({}).current,i=e.activeStory,o=e.tabbar,a=e.children,c=e.viewWidth,e=_objectWithoutProperties(e,_excluded),a=("development"===process.env.NODE_ENV&&!o&&c<ViewWidth.SMALL_TABLET&&warn("Using Epic without tabbar is not recommended on mobile"),null!=(c=React.Children.toArray(a).find(function(e){return React.isValidElement(e)&&getNavId(e.props,warn)===i}))?c:null);return createScopedElement("div",_extends({},e,{vkuiClass:getClassName("Epic",t)}),createScopedElement(ScrollSaver,{key:i,initialScroll:r[i]||0,saveScroll:function(e){return r[i]=e}},a),o)};export default withAdaptivity(Epic,{viewWidth:!0});export{Epic};