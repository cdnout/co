import _extends from"@babel/runtime/helpers/extends";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["children","toggleRef","closing","popupDirection","onClose","className","style"];import{createScopedElement}from"../../lib/jsxRuntime";import*as React from"react";import{getClassName}from"../../helpers/getClassName";import{classNames}from"../../lib/classNames";import{useDOM}from"../../lib/dom";import{usePlatform}from"../../hooks/usePlatform";import{useEffectDev}from"../../hooks/useEffectDev";import{useAdaptivity}from"../../hooks/useAdaptivity";import{isRefObject}from"../../lib/isRefObject";import{warnOnce}from"../../lib/warnOnce";import{useEventListener}from"../../hooks/useEventListener";import{FocusTrap}from"../FocusTrap/FocusTrap";import{Popper}from"../Popper/Popper";import"./ActionSheet.css";var warn=warnOnce("ActionSheet");function getEl(e){return e&&"current"in e?e.current:e}var ActionSheetDropdownDesktop=function(e){var t=e.children,o=e.toggleRef,r=(e.closing,e.popupDirection),s=e.onClose,n=e.className,i=e.style,e=_objectWithoutProperties(e,_excluded),c=useDOM().document,a=usePlatform(),p=useAdaptivity().sizeY,u=React.useRef(null),m=(useEffectDev(function(){getEl(o)||warn("toggleRef not passed","error")},[o]),React.useMemo(function(){return"top"===r||"function"==typeof r&&"top"===r(u)},[r,u])),l=useEventListener("click",function(e){var t=null==u?void 0:u.current;t&&!t.contains(e.target)&&null!=s&&s()}),f=(React.useEffect(function(){setTimeout(function(){l.add(c.body)})},[l,c]),React.useCallback(function(e){return e.stopPropagation()},[])),d=React.useMemo(function(){return isRefObject(o)?o:{current:o}},[o]);return createScopedElement(Popper,{targetRef:d,offsetDistance:0,placement:m?"top-end":"bottom-end",vkuiClass:classNames(getClassName("ActionSheet",a),"ActionSheet--desktop","ActionSheet--sizeY-".concat(p)),className:n,style:i,getRef:u,forcePortal:!1},createScopedElement(FocusTrap,_extends({onClose:s},e,{onClick:f}),t))};export{ActionSheetDropdownDesktop};