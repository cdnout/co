import _extends from"@babel/runtime/helpers/extends";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["popout","modal","viewWidth","viewHeight","hasMouse","children","getRootRef"];import{createScopedElement}from"../../lib/jsxRuntime";import*as React from"react";import{withAdaptivity,ViewWidth,ViewHeight}from"../../hoc/withAdaptivity";import{AppRootPortal}from"../AppRoot/AppRootPortal";import{blurActiveElement,useDOM}from"../../lib/dom";import"./PopoutRoot.css";var PopoutRootComponent=function(o){var t=o.popout,e=o.modal,i=o.viewWidth,p=o.viewHeight,r=o.hasMouse,u=o.children,m=o.getRootRef,o=_objectWithoutProperties(o,_excluded),a=useDOM().document,i=i>=ViewWidth.SMALL_TABLET&&(r||p>=ViewHeight.MEDIUM);return React.useEffect(function(){t&&blurActiveElement(a)},[a,t]),createScopedElement("div",_extends({},o,{vkuiClass:"PopoutRoot",ref:m}),u,createScopedElement(AppRootPortal,null,!!t&&createScopedElement("div",{vkuiClass:i?"PopoutRoot--absolute":"PopoutRoot__popout"},t),!!e&&createScopedElement("div",{vkuiClass:"PopoutRoot__modal"},e)))},PopoutRoot=(PopoutRootComponent.displayName="PopoutRoot",withAdaptivity(PopoutRootComponent,{viewWidth:!0,viewHeight:!0,hasMouse:!0}));export{PopoutRootComponent,PopoutRoot};