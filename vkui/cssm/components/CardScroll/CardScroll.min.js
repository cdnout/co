import _extends from"@babel/runtime/helpers/extends";import _defineProperty from"@babel/runtime/helpers/defineProperty";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["children","size","showArrows","withSpaces"];import{createScopedElement}from"../../lib/jsxRuntime";import*as React from"react";import{classNames}from"../../lib/classNames";import{getClassName}from"../../helpers/getClassName";import{useAdaptivity}from"../../hooks/useAdaptivity";import{usePlatform}from"../../hooks/usePlatform";import{HorizontalScroll}from"../HorizontalScroll/HorizontalScroll";import{useDOM}from"../../lib/dom";import"./CardScroll.css";var CardScroll=function(e){var r=e.children,t=e.size,t=void 0===t?"s":t,o=e.showArrows,o=void 0===o||o,i=e.withSpaces,i=void 0===i||i,e=_objectWithoutProperties(e,_excluded),l=usePlatform(),s=useAdaptivity().sizeX,c=React.useRef(null),a=React.useRef(null),n=useDOM().window;return createScopedElement("div",_extends({},e,{vkuiClass:classNames(getClassName("CardScroll",l),"CardScroll--sizeX-".concat(s),"CardScroll--".concat(t),_defineProperty({},"CardScroll--withSpaces",i))}),createScopedElement(HorizontalScroll,{getScrollToLeft:function(r){if(!c.current||!a.current)return r;var e=c.current.offsetWidth,t=Array.from(c.current.children).findIndex(function(e){return 0<=e.offsetLeft+e.offsetWidth+parseInt(n.getComputedStyle(e).marginRight)-r});return-1===t?r:0===t?0:(t=c.current.children[t],(e=t.offsetLeft-(e-t.offsetWidth)+a.current.offsetWidth)<=2*a.current.offsetWidth?0:e)},getScrollToRight:function(r){if(!c.current||!a.current)return r;var t=c.current.offsetWidth,e=Array.prototype.find.call(c.current.children,function(e){return e.offsetLeft+e.offsetWidth-r>t});return e?e.offsetLeft-a.current.offsetWidth:r},showArrows:o},createScopedElement("div",{vkuiClass:"CardScroll__in",ref:c},createScopedElement("span",{vkuiClass:"CardScroll__gap",ref:a}),r,createScopedElement("span",{vkuiClass:"CardScroll__gap"}))))};export{CardScroll};