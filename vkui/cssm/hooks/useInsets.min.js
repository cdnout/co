import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import _objectSpread from"@babel/runtime/helpers/objectSpread2";import*as React from"react";import vkBridge from"@vkontakte/vk-bridge";import{useIsomorphicLayoutEffect}from"../lib/useIsomorphicLayoutEffect";var initialState={bottom:null,top:null,left:null,right:null};function resolveInsets(e){var e=e.detail,t=e.type,r=e.data;switch(t){case"VKWebAppUpdateConfig":case"VKWebAppUpdateInsets":var o=r.insets;if(o)return _objectSpread(_objectSpread({},o),{},{bottom:150<o.bottom?0:o.bottom})}return null}function useInsets(){var e=React.useState(initialState),e=_slicedToArray(e,2),t=e[0],r=e[1];return useIsomorphicLayoutEffect(function(){function e(e){e=resolveInsets(e);e&&r(e)}return vkBridge.subscribe(e),function(){vkBridge.unsubscribe(e)}},[]),t}vkBridge.subscribe(function(e){e=resolveInsets(e);e&&(initialState=e)});export{useInsets};