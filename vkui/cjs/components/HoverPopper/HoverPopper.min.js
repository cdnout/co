"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault").default,_interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard").default,_jsxRuntime=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.HoverPopper=void 0,require("../../lib/jsxRuntime")),_extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),React=_interopRequireWildcard(require("react")),_Popper=require("../Popper/Popper"),_useEventListener=require("../../hooks/useEventListener"),_useTimeout=require("../../hooks/useTimeout"),_usePatchChildrenRef3=require("../../hooks/usePatchChildrenRef"),_useIsomorphicLayoutEffect=require("../../lib/useIsomorphicLayoutEffect"),_excluded=["getRef","content","children","onShownChange","shown","showDelay","hideDelay"],HoverPopper=function(e){function r(e){"boolean"!=typeof s&&d(e),"function"==typeof n&&n(e)}function t(){f.clear(),h.set()}var o=e.getRef,u=e.content,i=e.children,n=e.onShownChange,s=e.shown,a=e.showDelay,a=void 0===a?150:a,l=e.hideDelay,l=void 0===l?150:l,e=(0,_objectWithoutProperties2.default)(e,_excluded),c=React.useState(s||!1),c=(0,_slicedToArray2.default)(c,2),p=c[0],d=c[1],c="boolean"==typeof s?s:p,f=(0,_useTimeout.useTimeout)(function(){r(!0)},a),h=(0,_useTimeout.useTimeout)(function(){r(!1)},l),p=(0,_usePatchChildrenRef3.usePatchChildrenRef)(i),a=(0,_slicedToArray2.default)(p,2),_=a[0],l=a[1],R=(0,_useEventListener.useEventListener)("pointerenter",function(){h.clear(),f.set()}),m=(0,_useEventListener.useEventListener)("pointerleave",t);return(0,_useIsomorphicLayoutEffect.useIsomorphicLayoutEffect)(function(){_.current&&(R.add(_.current),m.add(_.current))},[]),(0,_jsxRuntime.createScopedElement)(React.Fragment,null,l,c&&(0,_jsxRuntime.createScopedElement)(_Popper.Popper,(0,_extends2.default)({},e,{onMouseOver:h.clear,onMouseOut:t,getRef:o,targetRef:_}),u))};exports.HoverPopper=HoverPopper;