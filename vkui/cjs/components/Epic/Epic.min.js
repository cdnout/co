"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault").default,_interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard").default,_jsxRuntime=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Epic=void 0,require("../../lib/jsxRuntime")),_extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),React=_interopRequireWildcard(require("react")),_getClassName=require("../../helpers/getClassName"),_usePlatform=require("../../hooks/usePlatform"),_withAdaptivity=require("../../hoc/withAdaptivity"),_ScrollSaver=require("./ScrollSaver"),_getNavId=require("../../lib/getNavId"),_warnOnce=require("../../lib/warnOnce"),_excluded=["activeStory","tabbar","children","viewWidth"],warn=(0,_warnOnce.warnOnce)("Epic"),Epic=function(e){var t=(0,_usePlatform.usePlatform)(),r=React.useRef({}).current,i=e.activeStory,a=e.tabbar,l=e.children,u=e.viewWidth,e=(0,_objectWithoutProperties2.default)(e,_excluded),l=("development"===process.env.NODE_ENV&&!a&&u<_withAdaptivity.ViewWidth.SMALL_TABLET&&warn("Using Epic without tabbar is not recommended on mobile"),null!=(u=React.Children.toArray(l).find(function(e){return React.isValidElement(e)&&(0,_getNavId.getNavId)(e.props,warn)===i}))?u:null);return(0,_jsxRuntime.createScopedElement)("div",(0,_extends2.default)({},e,{vkuiClass:(0,_getClassName.getClassName)("Epic",t)}),(0,_jsxRuntime.createScopedElement)(_ScrollSaver.ScrollSaver,{key:i,initialScroll:r[i]||0,saveScroll:function(e){return r[i]=e}},l),a)},_default=(exports.Epic=Epic,(0,_withAdaptivity.withAdaptivity)(Epic,{viewWidth:!0}));exports.default=_default;