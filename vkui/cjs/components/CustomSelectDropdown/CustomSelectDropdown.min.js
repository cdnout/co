"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault").default,_interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard").default,_jsxRuntime=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.CustomSelectDropdown=void 0,require("../../lib/jsxRuntime")),_extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),React=_interopRequireWildcard(require("react")),_CustomScrollView=_interopRequireDefault(require("../CustomScrollView/CustomScrollView")),_classNames=require("../../lib/classNames"),_Popper=require("../Popper/Popper"),_Spinner=_interopRequireDefault(require("../Spinner/Spinner")),_excluded=["children","targetRef","scrollBoxRef","placement","fetching","onPlacementChange","offsetDistance","sameWidth","forcePortal"],calcIsTop=function(e){return null==e?void 0:e.includes("top")},CustomSelectDropdown=function(e){var t=e.children,r=e.targetRef,o=e.scrollBoxRef,i=e.placement,l=e.fetching,n=e.onPlacementChange,u=e.offsetDistance,u=void 0===u?0:u,s=e.sameWidth,s=void 0===s||s,a=e.forcePortal,a=void 0===a||a,e=(0,_objectWithoutProperties2.default)(e,_excluded),c=React.useState(function(){return calcIsTop(i)}),c=(0,_slicedToArray2.default)(c,2),p=c[0],d=c[1],c=React.useCallback(function(e){e=e.placement;d(calcIsTop(e)),null!=n&&n(e)},[n,d]);return(0,_jsxRuntime.createScopedElement)(_Popper.Popper,(0,_extends2.default)({targetRef:r,offsetDistance:u,sameWidth:s,onPlacementChange:c,placement:i,vkuiClass:(0,_classNames.classNames)("CustomSelectDropdown__options",p&&"CustomSelectDropdown__options--popupDirectionTop",0<u&&"CustomSelectDropdown__options--not-adjacent",s&&"CustomSelectDropdown__options--same-width"),forcePortal:a},e),(0,_jsxRuntime.createScopedElement)(_CustomScrollView.default,{boxRef:o,vkuiClass:"CustomSelectDropdown__CustomScrollView"},l?(0,_jsxRuntime.createScopedElement)("div",{vkuiClass:"CustomSelectDropdown__fetching"},(0,_jsxRuntime.createScopedElement)(_Spinner.default,{size:"small"})):t))};exports.CustomSelectDropdown=CustomSelectDropdown;