"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault").default,_interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard").default,_jsxRuntime=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.CalendarDays=void 0,require("../../lib/jsxRuntime")),_extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),React=_interopRequireWildcard(require("react")),_date=require("../../lib/date"),_CalendarDay=require("../CalendarDay/CalendarDay"),_calendar=require("../../lib/calendar"),_LocaleProviderContext=require("../LocaleProviderContext/LocaleProviderContext"),_classNames=require("../../lib/classNames"),_Caption=require("../Typography/Caption/Caption"),_excluded=["viewDate","value","weekStartsOn","onDayChange","isDaySelected","isDayActive","isDaySelectionEnd","isDaySelectionStart","onDayEnter","onDayLeave","isDayHinted","isHintedDaySelectionStart","isHintedDaySelectionEnd","isDayFocused","isDayDisabled","size","showNeighboringMonth"],CalendarDays=function(e){var i=e.viewDate,a=(e.value,e.weekStartsOn),t=e.onDayChange,r=e.isDaySelected,n=e.isDayActive,s=e.isDaySelectionEnd,l=e.isDaySelectionStart,o=e.onDayEnter,d=e.onDayLeave,u=e.isDayHinted,c=e.isHintedDaySelectionStart,y=e.isHintedDaySelectionEnd,D=e.isDayFocused,_=e.isDayDisabled,p=e.size,C=e.showNeighboringMonth,v=void 0!==C&&C,C=(0,_objectWithoutProperties2.default)(e,_excluded),m=React.useContext(_LocaleProviderContext.LocaleProviderContext),S=React.useRef(null),e=React.useState(new Date),h=(0,_slicedToArray2.default)(e,1)[0],e=React.useMemo(function(){return(0,_calendar.getWeeks)(i,a)},[a,i]),b=React.useMemo(function(){return(0,_calendar.getDaysNames)(h,a,m)},[m,h,a]),R=React.useCallback(function(e){t(e),null!=(e=S.current)&&e.focus()},[t]);return(0,_jsxRuntime.createScopedElement)("div",(0,_extends2.default)({},C,{vkuiClass:"CalendarDays",ref:S}),(0,_jsxRuntime.createScopedElement)("div",{vkuiClass:(0,_classNames.classNames)("CalendarDays__row","CalendarDays__row--size-".concat(p))},b.map(function(e){return(0,_jsxRuntime.createScopedElement)(_Caption.Caption,{level:"1",weight:"regular",vkuiClass:"CalendarDays__weekday",key:e},e)})),e.map(function(e,a){return(0,_jsxRuntime.createScopedElement)("div",{vkuiClass:(0,_classNames.classNames)("CalendarDays__row","CalendarDays__row--size-".concat(p)),key:a},e.map(function(e,a){var t=(0,_date.isSameMonth)(e,i);return(0,_jsxRuntime.createScopedElement)(_CalendarDay.CalendarDay,{key:e.toISOString(),day:e,today:(0,_date.isSameDay)(e,h),active:n(e),onChange:R,hidden:!v&&!t,disabled:_(e),selectionStart:l(e,a),selectionEnd:s(e,a),hintedSelectionStart:null==c?void 0:c(e,a),hintedSelectionEnd:null==y?void 0:y(e,a),selected:null==r?void 0:r(e),focused:D(e),onEnter:o,onLeave:d,hinted:null==u?void 0:u(e),sameMonth:t,size:p})}))}))};exports.CalendarDays=CalendarDays;