"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault").default,_interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard").default,_jsxRuntime=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("../../lib/jsxRuntime")),_extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),React=_interopRequireWildcard(require("react")),_classNames=require("../../lib/classNames"),_FormField=require("../FormField/FormField"),_withAdaptivity=require("../../hoc/withAdaptivity"),_getClassName=require("../../helpers/getClassName"),_useEnsuredControl3=require("../../hooks/useEnsuredControl"),_useExternRef=require("../../hooks/useExternRef"),_usePlatform=require("../../hooks/usePlatform"),_excluded=["defaultValue","grow","style","onResize","className","getRootRef","getRef","sizeY","rows"],Textarea=React.memo(function(e){var t=e.defaultValue,t=void 0===t?"":t,r=e.grow,s=void 0===r||r,r=e.style,a=e.onResize,i=e.className,l=e.getRootRef,u=e.getRef,o=e.sizeY,d=e.rows,d=void 0===d?2:d,e=(0,_objectWithoutProperties2.default)(e,_excluded),t=(0,_useEnsuredControl3.useEnsuredControl)(e,{defaultValue:t}),t=(0,_slicedToArray2.default)(t,2),n=t[0],t=t[1],c=React.useRef(),f=(0,_useExternRef.useExternRef)(u),u=(0,_usePlatform.usePlatform)();return React.useEffect(function(){var e=f.current;s&&null!=e&&e.offsetParent&&(e.style.height="",e.style.height="".concat(e.scrollHeight,"px"),e.scrollHeight!==c.current&&a&&(a(e),c.current=e.scrollHeight))},[s,n,o,f,a]),(0,_jsxRuntime.createScopedElement)(_FormField.FormField,{vkuiClass:(0,_classNames.classNames)((0,_getClassName.getClassName)("Textarea",u),"Textarea--sizeY-".concat(o)),className:i,style:r,getRootRef:l,disabled:e.disabled},(0,_jsxRuntime.createScopedElement)("textarea",(0,_extends2.default)({},e,{rows:d,vkuiClass:"Textarea__el",value:n,onChange:t,ref:f})))}),_default=(0,_withAdaptivity.withAdaptivity)(Textarea,{sizeY:!0});exports.default=_default;