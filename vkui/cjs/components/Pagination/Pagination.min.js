"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault").default,_interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard").default,_jsxRuntime=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.Pagination=void 0,require("../../lib/jsxRuntime")),_extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),React=_interopRequireWildcard(require("react")),_icons=require("@vkontakte/icons"),_classNames=require("../../lib/classNames"),_useAdaptivity2=require("../../hooks/useAdaptivity"),_usePagination=require("../../hooks/usePagination"),_Tappable=_interopRequireDefault(require("../Tappable/Tappable")),_Button=require("../Button/Button"),_excluded=["currentPage","siblingCount","boundaryCount","totalPages","disabled","getPageAriaLabel","prevButtonAriaLabel","nextButtonAriaLabel","getRootRef","onChange"];function getPageAriaLabelDefault(e,a){return a?"".concat(e," страница"):"Перейти на ".concat(e," страницу")}var Pagination=function(e){var a=e.currentPage,t=void 0===a?1:a,a=e.siblingCount,a=void 0===a?1:a,i=e.boundaryCount,i=void 0===i?1:i,n=e.totalPages,n=void 0===n?1:n,r=e.disabled,o=e.getPageAriaLabel,u=void 0===o?getPageAriaLabelDefault:o,o=e.prevButtonAriaLabel,o=void 0===o?"Перейти на предыдущую страницу":o,s=e.nextButtonAriaLabel,s=void 0===s?"Перейти на следующую страницу":s,l=e.getRootRef,c=e.onChange,e=(0,_objectWithoutProperties2.default)(e,_excluded),d=(0,_useAdaptivity2.useAdaptivity)().sizeY,a=(0,_usePagination.usePagination)({currentPage:t,totalPages:n,siblingCount:a,boundaryCount:i}),p=1===t,_=t===n,i=React.useCallback(function(){c&&!p&&c(t-1)},[t,p,c]),g=React.useCallback(function(e){e=e.currentTarget.dataset.page||"1";null!=c&&c(Number(e))},[c]),n=React.useCallback(function(){c&&!_&&c(t+1)},[t,_,c]),b=React.useCallback(function(e){switch(e){case"start-ellipsis":case"end-ellipsis":return(0,_jsxRuntime.createScopedElement)("li",{key:e},(0,_jsxRuntime.createScopedElement)("div",{vkuiClass:(0,_classNames.classNames)("Pagination__page","Pagination__page--type-ellipsis","Pagination__page--sizeY-".concat(d),r&&"Pagination__page--disabled")},"..."));default:var a=e===t;return(0,_jsxRuntime.createScopedElement)("li",{key:e},(0,_jsxRuntime.createScopedElement)(_Tappable.default,{vkuiClass:(0,_classNames.classNames)("Pagination__page","Pagination__page--sizeY-".concat(d),a&&"Pagination__page--current",r&&"Pagination__page--disabled"),activeMode:"Pagination__page--state-active",hoverMode:"Pagination__page--state-hover",hasActive:!a,hasHover:!a,focusVisibleMode:"outside",disabled:r,"data-page":e,"aria-current":a||void 0,"aria-label":u(e,a),onClick:g},e))}},[d,t,r,u,g]);return(0,_jsxRuntime.createScopedElement)("nav",(0,_extends2.default)({vkuiClass:"Pagination",role:"navigation","aria-label":"Навигация по страницам",ref:l},e),(0,_jsxRuntime.createScopedElement)("ul",{vkuiClass:"Pagination__list"},(0,_jsxRuntime.createScopedElement)("li",{vkuiClass:"Pagination__prevButtonContainer"},(0,_jsxRuntime.createScopedElement)(_Button.Button,{size:"l",before:(0,_jsxRuntime.createScopedElement)(_icons.Icon24ChevronCompactLeft,{width:24}),appearance:"accent",mode:"tertiary",stretched:!0,disabled:p||r,"aria-label":o,onClick:i})),a.map(b),(0,_jsxRuntime.createScopedElement)("li",{vkuiClass:"Pagination__nextButtonContainer"},(0,_jsxRuntime.createScopedElement)(_Button.Button,{size:"l",after:(0,_jsxRuntime.createScopedElement)(_icons.Icon24ChevronCompactRight,{width:24}),appearance:"accent",mode:"tertiary",stretched:!0,disabled:_||r,"aria-label":s,onClick:n}))))};exports.Pagination=Pagination;