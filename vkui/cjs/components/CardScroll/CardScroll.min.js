"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault").default,_interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard").default,_jsxRuntime=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.CardScroll=void 0,require("../../lib/jsxRuntime")),_extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),React=_interopRequireWildcard(require("react")),_classNames2=require("../../lib/classNames"),_getClassName=require("../../helpers/getClassName"),_useAdaptivity2=require("../../hooks/useAdaptivity"),_usePlatform=require("../../hooks/usePlatform"),_HorizontalScroll=require("../HorizontalScroll/HorizontalScroll"),_dom=require("../../lib/dom"),_excluded=["children","size","showArrows","withSpaces"],CardScroll=function(e){var r=e.children,t=e.size,t=void 0===t?"s":t,i=e.showArrows,i=void 0===i||i,l=e.withSpaces,l=void 0===l||l,e=(0,_objectWithoutProperties2.default)(e,_excluded),o=(0,_usePlatform.usePlatform)(),s=(0,_useAdaptivity2.useAdaptivity)().sizeX,u=React.useRef(null),a=React.useRef(null),n=(0,_dom.useDOM)().window;return(0,_jsxRuntime.createScopedElement)("div",(0,_extends2.default)({},e,{vkuiClass:(0,_classNames2.classNames)((0,_getClassName.getClassName)("CardScroll",o),"CardScroll--sizeX-".concat(s),"CardScroll--".concat(t),(0,_defineProperty2.default)({},"CardScroll--withSpaces",l))}),(0,_jsxRuntime.createScopedElement)(_HorizontalScroll.HorizontalScroll,{getScrollToLeft:function(r){if(!u.current||!a.current)return r;var e=u.current.offsetWidth,t=Array.from(u.current.children).findIndex(function(e){return 0<=e.offsetLeft+e.offsetWidth+parseInt(n.getComputedStyle(e).marginRight)-r});return-1===t?r:0===t?0:(t=u.current.children[t],(e=t.offsetLeft-(e-t.offsetWidth)+a.current.offsetWidth)<=2*a.current.offsetWidth?0:e)},getScrollToRight:function(r){if(!u.current||!a.current)return r;var t=u.current.offsetWidth,e=Array.prototype.find.call(u.current.children,function(e){return e.offsetLeft+e.offsetWidth-r>t});return e?e.offsetLeft-a.current.offsetWidth:r},showArrows:i},(0,_jsxRuntime.createScopedElement)("div",{vkuiClass:"CardScroll__in",ref:u},(0,_jsxRuntime.createScopedElement)("span",{vkuiClass:"CardScroll__gap",ref:a}),r,(0,_jsxRuntime.createScopedElement)("span",{vkuiClass:"CardScroll__gap"}))))};exports.CardScroll=CardScroll;