"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault").default,_interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard").default,_objectSpread2=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.useChipsSelect=void 0,_interopRequireDefault(require("@babel/runtime/helpers/objectSpread2"))),_toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray")),_createForOfIteratorHelper2=_interopRequireDefault(require("@babel/runtime/helpers/createForOfIteratorHelper")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),React=_interopRequireWildcard(require("react")),_useChipsInput2=require("../ChipsInput/useChipsInput"),_excluded=["fieldValue","selectedOptions"],useChipsSelect=function(e){var t=e.options,r=e.filterFn,u=e.getOptionLabel,l=e.getOptionValue,i=React.useState(!1),i=(0,_slicedToArray2.default)(i,2),a=i[0],n=i[1],i=React.useState(0),i=(0,_slicedToArray2.default)(i,2),o=i[0],s=i[1],i=React.useState(null),i=(0,_slicedToArray2.default)(i,2),p=i[0],i=i[1],e=(0,_useChipsInput2.useChipsInput)(e),d=e.fieldValue,c=e.selectedOptions,f=(0,_objectWithoutProperties2.default)(e,_excluded),_=React.useMemo(function(){return r?t.filter(function(e){return r(d,e,u)}):t},[t,r,d,u]),_=React.useMemo(function(){if(!_.length)return _;var e,t=new Set(_),r=c.map(function(e){return l(e)}),u=(0,_createForOfIteratorHelper2.default)(t);try{for(u.s();!(e=u.n()).done;){var i=e.value;r.includes(l(i))&&t.delete(i)}}catch(e){u.e(e)}finally{u.f()}return(0,_toConsumableArray2.default)(t)},[_,c,l]);return(0,_objectSpread2.default)((0,_objectSpread2.default)({},f),{},{fieldValue:d,handleInputChange:function(e){e&&(f.handleInputChange(e),a||(n(!0),s(0)))},opened:a,setOpened:n,filteredOptions:_,focusedOptionIndex:o,setFocusedOptionIndex:s,focusedOption:p,setFocusedOption:i,selectedOptions:c})};exports.useChipsSelect=useChipsSelect;