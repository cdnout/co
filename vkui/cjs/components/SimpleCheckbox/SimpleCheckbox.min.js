"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault").default,_interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard").default,_jsxRuntime=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.SimpleCheckbox=void 0,require("../../lib/jsxRuntime")),_extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),React=_interopRequireWildcard(require("react")),_Tappable=_interopRequireWildcard(require("../Tappable/Tappable")),_getClassName=require("../../helpers/getClassName"),_classNames=require("../../lib/classNames"),_platform=require("../../lib/platform"),_icons=require("@vkontakte/icons"),_usePlatform=require("../../hooks/usePlatform"),_useAdaptivity2=require("../../hooks/useAdaptivity"),_useExternRef=require("../../hooks/useExternRef"),_withAdaptivity=require("../../hoc/withAdaptivity"),_warnOnce=require("../../lib/warnOnce"),_excluded=["className","style","getRootRef","getRef","indeterminate","defaultIndeterminate","onChange"],warn=(0,_warnOnce.warnOnce)("SimpleCheckbox"),IS_DEV="development"===process.env.NODE_ENV,SimpleCheckbox=function(e){var t=e.className,i=e.style,r=e.getRootRef,a=e.getRef,n=e.indeterminate,o=e.defaultIndeterminate,c=e.onChange,l=(0,_objectWithoutProperties2.default)(e,_excluded),e=(0,_useAdaptivity2.useAdaptivity)().sizeY,u=(0,_usePlatform.usePlatform)(),s=(0,_useExternRef.useExternRef)(a),a=(React.useEffect(function(){s.current&&(s.current.indeterminate=Boolean(void 0===n?o:n))},[o,n,s]),React.useCallback(function(e){void 0!==o&&void 0===n&&void 0===l.checked&&s.current&&(s.current.indeterminate=!1),void 0!==n&&s.current&&(s.current.indeterminate=n),c&&c(e)},[o,n,l.checked,c,s]));return IS_DEV&&(o&&l.defaultChecked&&warn("defaultIndeterminate и defaultChecked не могут быть true одновременно","error"),n&&l.checked&&warn("indeterminate и checked не могут быть true одновременно","error"),l.defaultChecked&&l.checked&&warn("defaultChecked и checked не могут быть true одновременно","error")),(0,_jsxRuntime.createScopedElement)(_Tappable.default,{Component:"label",vkuiClass:(0,_classNames.classNames)((0,_getClassName.getClassName)("SimpleCheckbox",u),"SimpleCheckbox--sizeY-".concat(e)),className:t,style:i,disabled:l.disabled,activeMode:u===_platform.VKCOM?"SimpleCheckbox--active":"background",hoverMode:u===_platform.VKCOM?"SimpleCheckbox--hover":"background",activeEffectDelay:u===_platform.IOS?100:_Tappable.ACTIVE_EFFECT_DELAY,getRootRef:r},(0,_jsxRuntime.createScopedElement)("input",(0,_extends2.default)({},l,{onChange:a,type:"checkbox",vkuiClass:"SimpleCheckbox__input",ref:s})),(0,_jsxRuntime.createScopedElement)("div",{vkuiClass:"SimpleCheckbox__container"},(0,_jsxRuntime.createScopedElement)("div",{vkuiClass:"SimpleCheckbox__icon SimpleCheckbox__icon--on"},e===_withAdaptivity.SizeType.COMPACT||u===_platform.VKCOM?(0,_jsxRuntime.createScopedElement)(_icons.Icon20CheckBoxOn,null):(0,_jsxRuntime.createScopedElement)(_icons.Icon24CheckBoxOn,null)),(0,_jsxRuntime.createScopedElement)("div",{vkuiClass:"SimpleCheckbox__icon SimpleCheckbox__icon--off"},e===_withAdaptivity.SizeType.COMPACT||u===_platform.VKCOM?(0,_jsxRuntime.createScopedElement)(_icons.Icon20CheckBoxOff,null):(0,_jsxRuntime.createScopedElement)(_icons.Icon24CheckBoxOff,null)),(0,_jsxRuntime.createScopedElement)("div",{vkuiClass:"SimpleCheckbox__icon SimpleCheckbox__icon--indeterminate"},(0,_jsxRuntime.createScopedElement)(_icons.Icon20CheckBoxIndetermanate,{width:e===_withAdaptivity.SizeType.COMPACT||u===_platform.VKCOM?20:24,height:e===_withAdaptivity.SizeType.COMPACT||u===_platform.VKCOM?20:24}))),u===_platform.VKCOM&&(0,_jsxRuntime.createScopedElement)("div",{"aria-hidden":!0,vkuiClass:"SimpleCheckbox__activeShadow"}),u===_platform.VKCOM&&(0,_jsxRuntime.createScopedElement)("div",{"aria-hidden":!0,vkuiClass:"SimpleCheckbox__hoverShadow"}))};exports.SimpleCheckbox=SimpleCheckbox;