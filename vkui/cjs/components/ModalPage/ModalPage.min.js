"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault").default,_interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard").default,_jsxRuntime=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("../../lib/jsxRuntime")),_extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),React=_interopRequireWildcard(require("react")),_getClassName=require("../../helpers/getClassName"),_classNames=require("../../lib/classNames"),_ModalRootContext=require("../ModalRoot/ModalRootContext"),_usePlatform=require("../../hooks/usePlatform"),_useOrientationChange=require("../../hooks/useOrientationChange"),_withAdaptivity=require("../../hoc/withAdaptivity"),_ModalDismissButton=_interopRequireDefault(require("../ModalDismissButton/ModalDismissButton")),_utils=require("../../lib/utils"),_types=require("../ModalRoot/types"),_getNavId=require("../../lib/getNavId"),_warnOnce=require("../../lib/warnOnce"),_excluded=["children","header","viewWidth","viewHeight","sizeX","hasMouse","onOpen","onOpened","onClose","onClosed","settlingHeight","dynamicContentHeight","getModalContentRef","nav"],warn=(0,_warnOnce.warnOnce)("ModalPage"),ModalPage=function(e){var t=React.useContext(_ModalRootContext.ModalRootContext).updateModalHeight,i=e.children,a=e.header,o=e.viewWidth,n=e.viewHeight,r=e.sizeX,s=e.hasMouse,l=(e.onOpen,e.onOpened,e.onClose),d=(e.onClosed,e.settlingHeight,e.dynamicContentHeight,e.getModalContentRef),u=(e.nav,(0,_objectWithoutProperties2.default)(e,_excluded)),_=(0,_usePlatform.usePlatform)(),c=(0,_useOrientationChange.useOrientationChange)(),c=(React.useEffect(t,[i,c,t]),o>=_withAdaptivity.ViewWidth.SMALL_TABLET&&(s||n>=_withAdaptivity.ViewHeight.MEDIUM)),t=o>=_withAdaptivity.ViewWidth.SMALL_TABLET,s=React.useContext(_ModalRootContext.ModalRootContext),n=(0,_ModalRootContext.useModalRegistry)((0,_getNavId.getNavId)(e,warn),_types.ModalType.PAGE).refs;return(0,_jsxRuntime.createScopedElement)("div",(0,_extends2.default)({},u,{vkuiClass:(0,_classNames.classNames)((0,_getClassName.getClassName)("ModalPage",_),"ModalPage--sizeX-".concat(r),{"ModalPage--desktop":c})}),(0,_jsxRuntime.createScopedElement)("div",{vkuiClass:"ModalPage__in-wrap",ref:n.innerElement},(0,_jsxRuntime.createScopedElement)("div",{vkuiClass:"ModalPage__in"},(0,_jsxRuntime.createScopedElement)("div",{vkuiClass:"ModalPage__header",ref:n.headerElement},a),(0,_jsxRuntime.createScopedElement)("div",{vkuiClass:"ModalPage__content-wrap"},(0,_jsxRuntime.createScopedElement)("div",{vkuiClass:"ModalPage__content",ref:(0,_utils.multiRef)(n.contentElement,d)},(0,_jsxRuntime.createScopedElement)("div",{vkuiClass:"ModalPage__content-in"},i))),t&&(0,_jsxRuntime.createScopedElement)(_ModalDismissButton.default,{onClick:l||s.onClose}))))},_default=(ModalPage.defaultProps={settlingHeight:75},(0,_withAdaptivity.withAdaptivity)(ModalPage,{viewWidth:!0,viewHeight:!0,sizeX:!0,hasMouse:!0}));exports.default=_default;