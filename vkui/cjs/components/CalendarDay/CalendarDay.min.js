"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault").default,_interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard").default,_jsxRuntime=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.CalendarDay=void 0,require("../../lib/jsxRuntime")),React=_interopRequireWildcard(require("react")),_classNames=require("../../lib/classNames"),_Tappable=_interopRequireDefault(require("../Tappable/Tappable")),_useKeyboardInputTracker=require("../../hooks/useKeyboardInputTracker"),_LocaleProviderContext=require("../LocaleProviderContext/LocaleProviderContext"),CalendarDay=React.memo(function(e){var a=e.day,t=e.today,n=e.selected,r=e.onChange,l=e.hidden,i=e.disabled,d=e.active,s=e.selectionStart,o=e.selectionEnd,c=e.focused,u=e.onEnter,_=e.onLeave,C=e.hinted,y=e.hintedSelectionStart,m=e.hintedSelectionEnd,v=e.sameMonth,e=e.size,p=React.useContext(_LocaleProviderContext.LocaleProviderContext),D=React.useRef(null),b=React.useCallback(function(){return r(a)},[a,r]),R=React.useCallback(function(){return null==u?void 0:u(a)},[a,u]),h=React.useCallback(function(){return null==_?void 0:_(a)},[a,_]);return React.useEffect(function(){c&&D.current&&(D.current.dispatchEvent(new Event(_useKeyboardInputTracker.ENABLE_KEYBOARD_INPUT_EVENT_NAME,{bubbles:!0})),D.current.focus())},[c]),l?(0,_jsxRuntime.createScopedElement)("div",{vkuiClass:"CalendarDay__hidden"}):(0,_jsxRuntime.createScopedElement)(_Tappable.default,{vkuiClass:(0,_classNames.classNames)("CalendarDay","CalendarDay--size-".concat(e),{"CalendarDay--today":t,"CalendarDay--selected":n&&!i,"CalendarDay--active":d&&!i,"CalendarDay--selection-start":s,"CalendarDay--selection-end":o,"CalendarDay--disabled":i,"CalendarDay--not-same-month":!v}),hoverMode:d?"CalendarDay--active-hover":"CalendarDay--hover",hasActive:!1,onClick:b,disabled:i,"aria-label":new Intl.DateTimeFormat(p,{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(a),tabIndex:-1,getRootRef:D,focusVisibleMode:d?"outside":"inside",onEnter:R,onLeave:h},(0,_jsxRuntime.createScopedElement)("div",{vkuiClass:(0,_classNames.classNames)("CalendarDay__hinted",{"CalendarDay__hinted--active":C,"CalendarDay__hinted--selection-start":y,"CalendarDay__hinted--selection-end":m})},(0,_jsxRuntime.createScopedElement)("div",{vkuiClass:(0,_classNames.classNames)("CalendarDay__inner",{"CalendarDay__inner--active":d&&!i})},(0,_jsxRuntime.createScopedElement)("div",{vkuiClass:"CalendarDay__day-number"},a.getDate()))))});(exports.CalendarDay=CalendarDay).displayName="CalendarDay";