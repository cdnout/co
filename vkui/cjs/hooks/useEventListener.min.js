"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard").default,_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault").default,_objectSpread2=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.useEventListener=useEventListener,_interopRequireDefault(require("@babel/runtime/helpers/objectSpread2"))),React=_interopRequireWildcard(require("react")),_utils=require("../lib/utils"),_dom=require("../lib/dom"),_useIsomorphicLayoutEffect=require("../lib/useIsomorphicLayoutEffect");function useEventListener(t,e,u){var r=React.useRef(e),i=((0,_useIsomorphicLayoutEffect.useIsomorphicLayoutEffect)(function(){r.current=e},[e]),React.useCallback(function(e){return r.current&&r.current(e)},[])),n=React.useRef(_utils.noop),c=React.useCallback(function(){n.current(),n.current=_utils.noop},[]),o=React.useCallback(function(e){var r;_dom.canUseDOM&&(c(),e&&(r=(0,_objectSpread2.default)({},u),e.addEventListener(t,i,r),n.current=function(){return e.removeEventListener(t,i,r)}))},[u,i,t,c]);return React.useEffect(function(){return c},[c]),{add:o,remove:c}}