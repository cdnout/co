import _extends from"@babel/runtime/helpers/extends";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["children","targetRef","scrollBoxRef","placement","fetching","onPlacementChange","offsetDistance","sameWidth","forcePortal"];import{createScopedElement}from"../../lib/jsxRuntime";import*as React from"react";import CustomScrollView from"../CustomScrollView/CustomScrollView";import{classNames}from"../../lib/classNames";import{Popper}from"../Popper/Popper";import Spinner from"../Spinner/Spinner";var calcIsTop=function(e){return null==e?void 0:e.includes("top")},CustomSelectDropdown=function(e){var o=e.children,t=e.targetRef,r=e.scrollBoxRef,c=e.placement,l=e.fetching,n=e.onPlacementChange,s=e.offsetDistance,s=void 0===s?0:s,i=e.sameWidth,i=void 0===i||i,a=e.forcePortal,a=void 0===a||a,e=_objectWithoutProperties(e,_excluded),p=React.useState(function(){return calcIsTop(c)}),p=_slicedToArray(p,2),m=p[0],u=p[1],p=React.useCallback(function(e){e=e.placement;u(calcIsTop(e)),null!=n&&n(e)},[n,u]);return createScopedElement(Popper,_extends({targetRef:t,offsetDistance:s,sameWidth:i,onPlacementChange:p,placement:c,vkuiClass:classNames("CustomSelectDropdown__options",m&&"CustomSelectDropdown__options--popupDirectionTop",0<s&&"CustomSelectDropdown__options--not-adjacent",i&&"CustomSelectDropdown__options--same-width"),forcePortal:a},e),createScopedElement(CustomScrollView,{boxRef:r,vkuiClass:"CustomSelectDropdown__CustomScrollView"},l?createScopedElement("div",{vkuiClass:"CustomSelectDropdown__fetching"},createScopedElement(Spinner,{size:"small"})):o))};export{CustomSelectDropdown};