import _extends from"@babel/runtime/helpers/extends";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["getRef","content","children","onShownChange","shown","showDelay","hideDelay"];import{createScopedElement}from"../../lib/jsxRuntime";import*as React from"react";import{Popper}from"../Popper/Popper";import{useEventListener}from"../../hooks/useEventListener";import{useTimeout}from"../../hooks/useTimeout";import{usePatchChildrenRef}from"../../hooks/usePatchChildrenRef";import{useIsomorphicLayoutEffect}from"../../lib/useIsomorphicLayoutEffect";var HoverPopper=function(e){function o(e){"boolean"!=typeof u&&f(e),"function"==typeof s&&s(e)}function t(){l.clear(),h.set()}var r=e.getRef,n=e.content,i=e.children,s=e.onShownChange,u=e.shown,c=e.showDelay,c=void 0===c?150:c,a=e.hideDelay,a=void 0===a?150:a,e=_objectWithoutProperties(e,_excluded),p=React.useState(u||!1),p=_slicedToArray(p,2),m=p[0],f=p[1],p="boolean"==typeof u?u:m,l=useTimeout(function(){o(!0)},c),h=useTimeout(function(){o(!1)},a),m=usePatchChildrenRef(i),c=_slicedToArray(m,2),d=c[0],a=c[1],y=useEventListener("pointerenter",function(){h.clear(),l.set()}),b=useEventListener("pointerleave",t);return useIsomorphicLayoutEffect(function(){d.current&&(y.add(d.current),b.add(d.current))},[]),createScopedElement(React.Fragment,null,a,p&&createScopedElement(Popper,_extends({},e,{onMouseOver:h.clear,onMouseOut:t,getRef:r,targetRef:d}),n))};export{HoverPopper};