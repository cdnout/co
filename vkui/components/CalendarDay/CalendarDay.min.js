import{createScopedElement}from"../../lib/jsxRuntime";import*as React from"react";import{classNames}from"../../lib/classNames";import Tappable from"../Tappable/Tappable";import{ENABLE_KEYBOARD_INPUT_EVENT_NAME}from"../../hooks/useKeyboardInputTracker";import{LocaleProviderContext}from"../LocaleProviderContext/LocaleProviderContext";var CalendarDay=React.memo(function(e){var a=e.day,n=e.today,t=e.selected,r=e.onChange,l=e.hidden,o=e.disabled,d=e.active,i=e.selectionStart,c=e.selectionEnd,s=e.focused,C=e.onEnter,m=e.onLeave,u=e.hinted,y=e.hintedSelectionStart,v=e.hintedSelectionEnd,D=e.sameMonth,e=e.size,E=React.useContext(LocaleProviderContext),p=React.useRef(null),_=React.useCallback(function(){return r(a)},[a,r]),b=React.useCallback(function(){return null==C?void 0:C(a)},[a,C]),f=React.useCallback(function(){return null==m?void 0:m(a)},[a,m]);return React.useEffect(function(){s&&p.current&&(p.current.dispatchEvent(new Event(ENABLE_KEYBOARD_INPUT_EVENT_NAME,{bubbles:!0})),p.current.focus())},[s]),l?createScopedElement("div",{vkuiClass:"CalendarDay__hidden"}):createScopedElement(Tappable,{vkuiClass:classNames("CalendarDay","CalendarDay--size-".concat(e),{"CalendarDay--today":n,"CalendarDay--selected":t&&!o,"CalendarDay--active":d&&!o,"CalendarDay--selection-start":i,"CalendarDay--selection-end":c,"CalendarDay--disabled":o,"CalendarDay--not-same-month":!D}),hoverMode:d?"CalendarDay--active-hover":"CalendarDay--hover",hasActive:!1,onClick:_,disabled:o,"aria-label":new Intl.DateTimeFormat(E,{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(a),tabIndex:-1,getRootRef:p,focusVisibleMode:d?"outside":"inside",onEnter:b,onLeave:f},createScopedElement("div",{vkuiClass:classNames("CalendarDay__hinted",{"CalendarDay__hinted--active":u,"CalendarDay__hinted--selection-start":y,"CalendarDay__hinted--selection-end":v})},createScopedElement("div",{vkuiClass:classNames("CalendarDay__inner",{"CalendarDay__inner--active":d&&!o})},createScopedElement("div",{vkuiClass:"CalendarDay__day-number"},a.getDate()))))});CalendarDay.displayName="CalendarDay";export{CalendarDay};