import _extends from"@babel/runtime/helpers/extends";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["getRootRef","icon","header","subheader","children","actions","actionsLayout","viewWidth","hasMouse","viewHeight","onClose","dismissLabel"];import{createScopedElement}from"../../lib/jsxRuntime";import{hasReactNode}from"../../lib/utils";import{Title}from"../Typography/Title/Title";import Headline from"../Typography/Headline/Headline";import{classNames}from"../../lib/classNames";import{getClassName}from"../../helpers/getClassName";import{usePlatform}from"../../hooks/usePlatform";import{ViewHeight,ViewWidth,withAdaptivity}from"../../hoc/withAdaptivity";import{PanelHeaderButton}from"../PanelHeaderButton/PanelHeaderButton";import{ANDROID,IOS}from"../../lib/platform";import ModalDismissButton from"../ModalDismissButton/ModalDismissButton";import{Icon24Dismiss}from"@vkontakte/icons";import{useKeyboard}from"../../hooks/useKeyboard";var ModalCardBase=withAdaptivity(function(e){var a=e.getRootRef,t=e.icon,o=e.header,i=e.subheader,s=e.children,r=e.actions,d=e.actionsLayout,l=e.viewWidth,m=e.hasMouse,n=e.viewHeight,c=e.onClose,h=e.dismissLabel,h=void 0===h?"Скрыть":h,e=_objectWithoutProperties(e,_excluded),p=usePlatform(),m=l>=ViewWidth.SMALL_TABLET&&(m||n>=ViewHeight.MEDIUM),n=useKeyboard().isOpened,l=l>=ViewWidth.SMALL_TABLET,u=p===IOS&&!l;return createScopedElement("div",_extends({},e,{vkuiClass:classNames(getClassName("ModalCardBase",p),{"ModalCardBase--desktop":m}),ref:a}),createScopedElement("div",{vkuiClass:classNames("ModalCardBase__container",{"ModalCardBase__container--softwareKeyboardOpened":n})},hasReactNode(t)&&createScopedElement("div",{vkuiClass:"ModalCardBase__icon"},t),hasReactNode(o)&&createScopedElement(Title,{level:"2",weight:p===ANDROID?"2":"1",vkuiClass:"ModalCardBase__header"},o),hasReactNode(i)&&createScopedElement(Headline,{weight:"regular",vkuiClass:"ModalCardBase__subheader"},i),s,hasReactNode(r)&&createScopedElement("div",{vkuiClass:classNames("ModalCardBase__actions",{"ModalCardBase__actions--v":"vertical"===d})},r),l&&createScopedElement(ModalDismissButton,{onClick:c}),u&&createScopedElement(PanelHeaderButton,{"aria-label":h,vkuiClass:"ModalCardBase__dismiss",onClick:c},createScopedElement(Icon24Dismiss,null))))},{viewWidth:!0,viewHeight:!0,hasMouse:!0});export{ModalCardBase};