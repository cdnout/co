import _extends from"@babel/runtime/helpers/extends";import _objectWithoutProperties from"@babel/runtime/helpers/objectWithoutProperties";var _excluded=["currentPage","siblingCount","boundaryCount","totalPages","disabled","getPageAriaLabel","prevButtonAriaLabel","nextButtonAriaLabel","getRootRef","onChange"];import{createScopedElement}from"../../lib/jsxRuntime";import*as React from"react";import{Icon24ChevronCompactLeft,Icon24ChevronCompactRight}from"@vkontakte/icons";import{classNames}from"../../lib/classNames";import{useAdaptivity}from"../../hooks/useAdaptivity";import{usePagination}from"../../hooks/usePagination";import Tappable from"../Tappable/Tappable";import{Button}from"../Button/Button";function getPageAriaLabelDefault(e,a){return a?"".concat(e," страница"):"Перейти на ".concat(e," страницу")}var Pagination=function(e){var a=e.currentPage,t=void 0===a?1:a,a=e.siblingCount,a=void 0===a?1:a,i=e.boundaryCount,i=void 0===i?1:i,o=e.totalPages,o=void 0===o?1:o,n=e.disabled,r=e.getPageAriaLabel,l=void 0===r?getPageAriaLabelDefault:r,r=e.prevButtonAriaLabel,r=void 0===r?"Перейти на предыдущую страницу":r,c=e.nextButtonAriaLabel,c=void 0===c?"Перейти на следующую страницу":c,s=e.getRootRef,p=e.onChange,e=_objectWithoutProperties(e,_excluded),u=useAdaptivity().sizeY,a=usePagination({currentPage:t,totalPages:o,siblingCount:a,boundaryCount:i}),d=1===t,g=t===o,i=React.useCallback(function(){p&&!d&&p(t-1)},[t,d,p]),m=React.useCallback(function(e){e=e.currentTarget.dataset.page||"1";null!=p&&p(Number(e))},[p]),o=React.useCallback(function(){p&&!g&&p(t+1)},[t,g,p]),b=React.useCallback(function(e){switch(e){case"start-ellipsis":case"end-ellipsis":return createScopedElement("li",{key:e},createScopedElement("div",{vkuiClass:classNames("Pagination__page","Pagination__page--type-ellipsis","Pagination__page--sizeY-".concat(u),n&&"Pagination__page--disabled")},"..."));default:var a=e===t;return createScopedElement("li",{key:e},createScopedElement(Tappable,{vkuiClass:classNames("Pagination__page","Pagination__page--sizeY-".concat(u),a&&"Pagination__page--current",n&&"Pagination__page--disabled"),activeMode:"Pagination__page--state-active",hoverMode:"Pagination__page--state-hover",hasActive:!a,hasHover:!a,focusVisibleMode:"outside",disabled:n,"data-page":e,"aria-current":a||void 0,"aria-label":l(e,a),onClick:m},e))}},[u,t,n,l,m]);return createScopedElement("nav",_extends({vkuiClass:"Pagination",role:"navigation","aria-label":"Навигация по страницам",ref:s},e),createScopedElement("ul",{vkuiClass:"Pagination__list"},createScopedElement("li",{vkuiClass:"Pagination__prevButtonContainer"},createScopedElement(Button,{size:"l",before:createScopedElement(Icon24ChevronCompactLeft,{width:24}),appearance:"accent",mode:"tertiary",stretched:!0,disabled:d||n,"aria-label":r,onClick:i})),a.map(b),createScopedElement("li",{vkuiClass:"Pagination__nextButtonContainer"},createScopedElement(Button,{size:"l",after:createScopedElement(Icon24ChevronCompactRight,{width:24}),appearance:"accent",mode:"tertiary",stretched:!0,disabled:g||n,"aria-label":c,onClick:o}))))};export{Pagination};