import _defineProperty from"@babel/runtime/helpers/defineProperty";import*as React from"react";import{useExternRef}from"./useExternRef";import{warnOnce}from"../lib/warnOnce";var isDOMTypeElement=function(e){return"string"==typeof e.type},warn=warnOnce("usePatchChildrenRef"),usePatchChildrenRef=function(e){var r=React.isValidElement(e)&&(isDOMTypeElement(e)?e.ref:e.props.getRootRef),t=useExternRef(r);return React.useEffect(function(){t.current||"development"!==process.env.NODE_ENV||warn("Кажется, в children передан компонент, который не поддерживает свойство getRootRef. Мы не можем получить ссылку на корневой dom-элемент этого компонента","error")},[null==e?void 0:e.type,t]),[t,React.isValidElement(e)?React.cloneElement(e,_defineProperty({},isDOMTypeElement(e)?"ref":"getRootRef",t)):e]};export{usePatchChildrenRef};