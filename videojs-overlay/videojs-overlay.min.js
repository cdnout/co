/**
 * videojs-overlay
 * @version 1.1.4
 * @copyright 2017 Brightcove, Inc.
 * @license Apache-2.0
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojsOverlay=e()}}(function(){return function e(t,n,o){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(r)return r(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return i(n||e)},l,l.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){(function(e){"undefined"!=typeof window?t.exports=window:void 0!==e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){t.exports=function(e){for(var t="",n=0;n<arguments.length;n++)t+=e[n]+(arguments[n+1]||"");return t.replace(/\s+/g," ").trim()}},{}],3:[function(e,t,n){(function(o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=function(e,t,n){for(var o=!0;o;){var i=e,r=t,s=n;o=!1,null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,r);if(void 0!==a){if("value"in a)return a.value;var u=a.get;if(void 0===u)return;return u.call(s)}var d=Object.getPrototypeOf(i);if(null===d)return;e=d,t=r,n=s,o=!0,a=d=void 0}},l=a(['\n      created, listening to "','" for "start" and\n      "','" for "end"\n    '],['\n      created, listening to "','" for "start" and\n      "','" for "end"\n    ']),f=a(["\n          hiding; "," is an integer and overlay should not show at this time\n        "],["\n          hiding; "," is an integer and overlay should not show at this time\n        "]),h=a(["\n          hiding; show point (",") is before now (",") and end\n          point (",") is an event\n        "],["\n          hiding; show point (",") is before now (",") and end\n          point (",") is an event\n        "]),c=e("tsmlj"),p=i(c),v="undefined"!=typeof window?window.videojs:void 0!==o?o.videojs:null,y=i(v),g=e("global/window"),w=i(g),_={align:"top-left",class:"",content:"This overlay will show up while the video is playing",debug:!1,showBackground:!0,attachToControlBar:!1,overlays:[{start:"playing",end:"paused"}]},b=y.default.getComponent("Component"),m=y.default.dom||y.default,O=y.default.registerPlugin||y.default.plugin,E=function(e){return"number"==typeof e&&e===e},j=function(e){return"string"==typeof e&&/^\S+$/.test(e)},k=function(e){function t(e,n){var o=this;r(this,t),d(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),["start","end"].forEach(function(e){var t=o.options_[e];if(E(t))o[e+"Event_"]="timeupdate";else if(j(t))o[e+"Event_"]=t;else if("start"===e)throw new Error('invalid "start" option; expected number or string')}),["endListener_","rewindListener_","startListener_"].forEach(function(e){o[e]=function(n){return t.prototype[e].call(o,n)}}),"timeupdate"===this.startEvent_&&this.on(e,"timeupdate",this.rewindListener_),this.debug((0,p.default)(l,this.startEvent_,this.endEvent_||"nothing")),this.hide()}return s(t,e),u(t,[{key:"createEl",value:function(){var e=this.options_,t=e.content,n=e.showBackground?"vjs-overlay-background":"vjs-overlay-no-background",o=m.createEl("div",{className:"\n        vjs-overlay\n        vjs-overlay-"+e.align+"\n        "+e.class+"\n        "+n+"\n        vjs-hidden\n      "});return"string"==typeof t?o.innerHTML=t:t instanceof w.default.DocumentFragment?o.appendChild(t):m.appendContent(o,t),o}},{key:"debug",value:function(){if(this.options_.debug){for(var e=y.default.log,t=e,n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];e.hasOwnProperty(o[0])&&"function"==typeof e[o[0]]&&(t=e[o.shift()]),t.apply(void 0,["overlay#"+this.id()+": "].concat(o))}}},{key:"hide",value:function(){return d(Object.getPrototypeOf(t.prototype),"hide",this).call(this),this.debug("hidden"),this.debug('bound `startListener_` to "'+this.startEvent_+'"'),this.endEvent_&&(this.debug('unbound `endListener_` from "'+this.endEvent_+'"'),this.off(this.player(),this.endEvent_,this.endListener_)),this.on(this.player(),this.startEvent_,this.startListener_),this}},{key:"shouldHide_",value:function(e,t){var n=this.options_.end;return E(n)?e>=n:n===t}},{key:"show",value:function(){return d(Object.getPrototypeOf(t.prototype),"show",this).call(this),this.off(this.player(),this.startEvent_,this.startListener_),this.debug("shown"),this.debug('unbound `startListener_` from "'+this.startEvent_+'"'),this.endEvent_&&(this.debug('bound `endListener_` to "'+this.endEvent_+'"'),this.on(this.player(),this.endEvent_,this.endListener_)),this}},{key:"shouldShow_",value:function(e,t){var n=this.options_.start,o=this.options_.end;return E(n)?E(o)?e>=n&&e<o:this.hasShownSinceSeek_?Math.floor(e)===n:(this.hasShownSinceSeek_=!0,e>=n):n===t}},{key:"startListener_",value:function(e){var t=this.player().currentTime();this.shouldShow_(t,e.type)&&this.show()}},{key:"endListener_",value:function(e){var t=this.player().currentTime();this.shouldHide_(t,e.type)&&this.hide()}},{key:"rewindListener_",value:function(e){var t=this.player().currentTime(),n=this.previousTime_,o=this.options_.start,i=this.options_.end;t<n&&(this.debug("rewind detected"),E(i)&&!this.shouldShow_(t)?(this.debug((0,p.default)(f,i)),this.hasShownSinceSeek_=!1,this.hide()):j(i)&&t<o&&(this.debug((0,p.default)(h,o,t,i)),this.hasShownSinceSeek_=!1,this.hide())),this.previousTime_=t}}]),t}(b);y.default.registerComponent("Overlay",k);var S=function(e){var t=this,n=y.default.mergeOptions(_,e);Array.isArray(this.overlays_)&&this.overlays_.forEach(function(e){t.removeChild(e),t.controlBar&&t.controlBar.removeChild(e),e.dispose()});var o=n.overlays;delete n.overlays,this.overlays_=o.map(function(e){var o=y.default.mergeOptions(n,e);return o.attachToControlBar&&t.controlBar&&-1!==o.align.indexOf("bottom")?t.controlBar.addChild("overlay",o):t.addChild("overlay",o)})};S.VERSION="1.1.4",O("overlay",S),n.default=S,t.exports=n.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/window":1,tsmlj:2}]},{},[3])(3)});