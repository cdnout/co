!function(h,b){var n=/^key/,c=/-([a-z])/g,o=/^(?:mouse|contextmenu)|click/;function i(e,t){return t.toUpperCase()}h.fn.simulate=function(e,t){return this.each(function(){new h.simulate(this,e,t)})},h.simulate=function(e,t,n){var o=("simulate-"+t).replace(c,i);this.target=e,this.options=n,this[o]?this[o]():this.simulateEvent(e,t,n)},h.extend(h.simulate,{keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},buttonCode:{LEFT:0,MIDDLE:1,RIGHT:2}}),h.extend(h.simulate.prototype,{simulateEvent:function(e,t,n){var o=this.createEvent(t,n);this.dispatchEvent(e,t,o,n)},createEvent:function(e,t){return n.test(e)?this.keyEvent(e,t):o.test(e)?this.mouseEvent(e,t):void 0},mouseEvent:function(e,t){var n,o,c,i;return t=h.extend({bubbles:!0,cancelable:"mousemove"!==e,view:window,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:b},t),document.createEvent?((n=document.createEvent("MouseEvents")).initMouseEvent(e,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||document.body.parentNode),0===n.pageX&&0===n.pageY&&Object.defineProperty&&(o=n.relatedTarget.ownerDocument||document,c=o.documentElement,i=o.body,Object.defineProperty(n,"pageX",{get:function(){return t.clientX+(c&&c.scrollLeft||i&&i.scrollLeft||0)-(c&&c.clientLeft||i&&i.clientLeft||0)}}),Object.defineProperty(n,"pageY",{get:function(){return t.clientY+(c&&c.scrollTop||i&&i.scrollTop||0)-(c&&c.clientTop||i&&i.clientTop||0)}}))):document.createEventObject&&(n=document.createEventObject(),h.extend(n,t),n.button={0:1,1:4,2:2}[n.button]||(-1===n.button?0:n.button)),n},keyEvent:function(t,n){var o;if(n=h.extend({bubbles:!0,cancelable:!0,view:window,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:0,charCode:b},n),document.createEvent)try{(o=document.createEvent("KeyEvents")).initKeyEvent(t,n.bubbles,n.cancelable,n.view,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.keyCode,n.charCode)}catch(e){(o=document.createEvent("Events")).initEvent(t,n.bubbles,n.cancelable),h.extend(o,{view:n.view,ctrlKey:n.ctrlKey,altKey:n.altKey,shiftKey:n.shiftKey,metaKey:n.metaKey,keyCode:n.keyCode,charCode:n.charCode})}else document.createEventObject&&(o=document.createEventObject(),h.extend(o,n));return!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())&&"[object Opera]"!=={}.toString.call(window.opera)||(o.keyCode=0<n.charCode?n.charCode:n.keyCode,o.charCode=b),o},dispatchEvent:function(e,t,n){e.dispatchEvent?e.dispatchEvent(n):"click"===t&&e.click&&"input"===e.nodeName.toLowerCase()?e.click():e.fireEvent&&e.fireEvent("on"+t,n)},simulateFocus:function(){var e,t=!1,n=h(this.target);function o(){t=!0}n.on("focus",o),n[0].focus(),t||((e=h.Event("focusin")).preventDefault(),n.trigger(e),n.triggerHandler("focus")),n.off("focus",o)},simulateBlur:function(){var e,t=!1,n=h(this.target);function o(){t=!0}n.on("blur",o),n[0].blur(),setTimeout(function(){n[0].ownerDocument.activeElement===n[0]&&n[0].ownerDocument.body.focus(),t||((e=h.Event("focusout")).preventDefault(),n.trigger(e),n.triggerHandler("blur")),n.off("blur",o)},1)}}),h.extend(h.simulate.prototype,{simulateDrag:function(){var e,t,n,o,c,i,r=0,a=this.target,u=a.ownerDocument,l=this.options,s="corner"===l.handle?(i=h((o=a).ownerDocument),{x:(c=(o=h(o)).offset()).left-i.scrollLeft(),y:c.top-i.scrollTop()}):(n=h((e=a).ownerDocument),{x:(t=(e=h(e)).offset()).left+e.outerWidth()/2-n.scrollLeft(),y:t.top+e.outerHeight()/2-n.scrollTop()}),d=Math.floor(s.x),f=Math.floor(s.y),E={clientX:d,clientY:f},m=l.dx||(l.x!==b?l.x-d:0),v=l.dy||(l.y!==b?l.y-f:0),y=l.moves||3;for(this.simulateEvent(a,"mousedown",E);r<y;r++)d+=m/y,f+=v/y,E={clientX:Math.round(d),clientY:Math.round(f)},this.simulateEvent(u,"mousemove",E);h.contains(u,a)?(this.simulateEvent(a,"mouseup",E),this.simulateEvent(a,"click",E)):this.simulateEvent(u,"mouseup",E)}})}(jQuery);