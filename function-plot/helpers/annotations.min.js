"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const d3_shape_1=require("d3-shape"),d3_selection_1=require("d3-selection");function annotations(t){const i=t.owner.meta.xScale,c=t.owner.meta.yScale;var u=d3_shape_1.line().x(function(t){return t[0]}).y(function(t){return t[1]});return function(t){t.each(function(){const t=d3_selection_1.select(this),e=t.selectAll("g.annotations").data(function(t){return t.annotations||[]});var n=e.enter().append("g").attr("class","annotations"),r=c.range(),a=i.range();const o=e.merge(n).selectAll("path").data(function(t){return"x"in t?[[[0,r[0]],[0,r[1]]]]:[[[a[0],0],[a[1],0]]]});o.enter().append("path").attr("stroke","#eee").attr("d",u),o.exit().remove();const s=e.merge(n).selectAll("text").data(function(t){return[{text:t.text||"",hasX:"x"in t}]});s.enter().append("text").attr("y",function(t){return t.hasX?3:0}).attr("x",function(t){return t.hasX?0:3}).attr("dy",function(t){return t.hasX?5:-5}).attr("text-anchor",function(t){return t.hasX?"end":""}).attr("transform",function(t){return t.hasX?"rotate(-90)":""}).text(function(t){return t.text}),s.exit().remove(),e.merge(n).attr("transform",function(t){return"x"in t?"translate("+i(t.x)+", 0)":"translate(0, "+c(t.y)+")"}),e.exit().remove()})}}exports.default=annotations;