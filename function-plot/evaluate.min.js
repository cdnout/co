"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const globals_1=__importDefault(require("./globals")),samplers_1=require("./samplers"),evalTypeFn={interval:samplers_1.interval,builtIn:samplers_1.builtIn};function computeEndpoints(e,t){t=t.range||[-1/0,1/0];return[Math.max(e.domain()[0],t[0]),Math.min(e.domain()[1],t[1])]}function evaluate(e,t){var a=computeEndpoints(e.meta.xScale,t);const l=evalTypeFn[t.sampler];a=l(e,t,a,t.nSamples||Math.min(globals_1.default.MAX_ITERATIONS,globals_1.default.DEFAULT_ITERATIONS||2*e.meta.width));return e.emit("eval",a,t.index,t.isHelper),a}exports.default=evaluate;