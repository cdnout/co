"use strict";var __importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});const d3_selection_1=require("d3-selection"),d3_color_1=require("d3-color"),utils_1=__importDefault(require("../utils")),evaluate_1=__importDefault(require("../evaluate"));function scatter(t){const e=t.meta.xScale,r=t.meta.yScale;return function(a){a.each(function(a){let l,o;const i=a.index,c=utils_1.default.color(a,i),u=evaluate_1.default(t,a),n=[];for(l=0;l<u.length;l+=1)for(o=0;o<u[l].length;o+=1)n.push(u[l][o]);const s=d3_selection_1.select(this).selectAll(":scope > circle").data(n),_=s.enter().append("circle"),f=s.merge(_).attr("fill",d3_color_1.hsl(c.toString()).brighter(1.5).hex()).attr("stroke",c).attr("opacity",.7).attr("r",1).attr("cx",function(t){return e(t[0])}).attr("cy",function(t){return r(t[1])});if(a.attr)for(let t in a.attr)a.attr.hasOwnProperty(t)&&f.attr(t,a.attr[t]);s.exit().remove()})}}exports.default=scatter;