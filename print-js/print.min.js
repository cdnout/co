!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.printJS=t():e.printJS=t()}(window,function(){return r={},o.m=n={"./src/index.js":function(e,t,n){"use strict";n.r(t);n("./src/sass/index.scss");var r=n("./src/js/init.js").default.init;"undefined"!=typeof window&&(window.printJS=r),t.default=r},"./src/js/browser.js":function(e,t,n){"use strict";n.r(t);var r={isFirefox:function(){return"undefined"!=typeof InstallTrigger},isIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode},isEdge:function(){return!r.isIE()&&!!window.StyleMedia},isChrome:function(e){return!!(0<arguments.length&&void 0!==e?e:window).chrome},isSafari:function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")||-1!==navigator.userAgent.toLowerCase().indexOf("safari")},isIOSChrome:function(){return-1!==navigator.userAgent.toLowerCase().indexOf("crios")}};t.default=r},"./src/js/functions.js":function(e,t,n){"use strict";n.r(t),n.d(t,"addWrapper",function(){return a}),n.d(t,"capitalizePrint",function(){return l}),n.d(t,"collectStyles",function(){return s}),n.d(t,"addHeader",function(){return c}),n.d(t,"cleanUp",function(){return u}),n.d(t,"isRawHTML",function(){return f});var o=n("./src/js/modal.js"),i=n("./src/js/browser.js");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return'<div style="'+("font-family:"+t.font+" !important; font-size: "+t.font_size+" !important; width:100%;")+'">'+e+"</div>"}function l(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e,t){for(var n="",r=(document.defaultView||window).getComputedStyle(e,""),o=0;o<r.length;o++)(-1!==t.targetStyles.indexOf("*")||-1!==t.targetStyle.indexOf(r[o])||d(t.targetStyles,r[o]))&&r.getPropertyValue(r[o])&&(n+=r[o]+":"+r.getPropertyValue(r[o])+";");return n+="max-width: "+t.maxWidth+"px !important; font-size: "+t.font_size+" !important;"}function d(e,t){for(var n=0;n<e.length;n++)if("object"===r(t)&&-1!==t.indexOf(e[n]))return 1}function c(e,t){var n,r,o=document.createElement("div");f(t.header)?o.innerHTML=t.header:(n=document.createElement("h1"),r=document.createTextNode(t.header),n.appendChild(r),n.setAttribute("style",t.headerStyle),o.appendChild(n)),e.insertBefore(o,e.childNodes[0])}function u(n){n.showModal&&o.default.close(),n.onLoadingEnd&&n.onLoadingEnd(),(n.showModal||n.onLoadingStart)&&window.URL.revokeObjectURL(n.printable);var r="mouseover";(i.default.isChrome()||i.default.isFirefox())&&(r="focus");window.addEventListener(r,function e(){window.removeEventListener(r,e),n.onPrintDialogClose();var t=document.getElementById(n.frameId);t&&t.remove()})}function f(e){return new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>").test(e)}},"./src/js/html.js":function(e,t,n){"use strict";n.r(t);var l=n("./src/js/functions.js"),r=n("./src/js/print.js");t.default={print:function(e,t){var n=document.getElementById(e.printable);n?(e.printableElement=function e(t,n){var r=t.cloneNode();var o=Array.prototype.slice.call(t.childNodes);for(var i=0;i<o.length;i++){var a;-1===n.ignoreElements.indexOf(o[i].id)&&(a=e(o[i],n),r.appendChild(a))}n.scanStyles&&1===t.nodeType&&r.setAttribute("style",Object(l.collectStyles)(t,n));switch(t.tagName){case"SELECT":r.value=t.value;break;case"CANVAS":r.getContext("2d").drawImage(t,0,0)}return r}(n,e),e.header&&Object(l.addHeader)(e.printableElement,e),r.default.send(e,t)):window.console.error("Invalid HTML element id: "+e.printable)}}},"./src/js/image.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/js/functions.js"),i=n("./src/js/print.js"),a=n("./src/js/browser.js");t.default={print:function(o,e){o.printable.constructor!==Array&&(o.printable=[o.printable]),o.printableElement=document.createElement("div"),o.printable.forEach(function(e){var t,n=document.createElement("img");n.setAttribute("style",o.imageStyle),n.src=e,a.default.isFirefox()&&(t=n.src,n.src=t);var r=document.createElement("div");r.appendChild(n),o.printableElement.appendChild(r)}),o.header&&Object(r.addHeader)(o.printableElement,o),i.default.send(o,e)}}},"./src/js/init.js":function(e,t,n){"use strict";n.r(t);var l=n("./src/js/browser.js"),s=n("./src/js/modal.js"),d=n("./src/js/pdf.js"),c=n("./src/js/html.js"),u=n("./src/js/raw-html.js"),f=n("./src/js/image.js"),p=n("./src/js/json.js");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=["pdf","html","image","json","raw-html"];t.default={init:function(e,t){var n={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(e){throw e},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},r=e;if(void 0===r)throw new Error("printJS expects at least 1 attribute.");switch(m(r)){case"string":n.printable=encodeURI(r),n.fallbackPrintable=n.printable,n.type=t||n.type;break;case"object":for(var o in n.printable=r.printable,n.fallbackPrintable=void 0!==r.fallbackPrintable?r.fallbackPrintable:n.printable,n.fallbackPrintable=n.base64?"data:application/pdf;base64,".concat(n.fallbackPrintable):n.fallbackPrintable,n)"printable"!==o&&"fallbackPrintable"!==o&&(n[o]=void 0!==r[o]?r[o]:n[o]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+m(r))}if(!n.printable)throw new Error("Missing printable information.");if(!n.type||"string"!=typeof n.type||-1===b.indexOf(n.type.toLowerCase()))throw new Error("Invalid print type. Available types are: pdf, html, image and json.");n.showModal&&s.default.show(n),n.onLoadingStart&&n.onLoadingStart();var i=document.getElementById(n.frameId);i&&i.parentNode.removeChild(i);var a=document.createElement("iframe");switch(l.default.isFirefox()?a.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):a.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),a.setAttribute("id",n.frameId),"pdf"!==n.type&&(a.srcdoc="<html><head><title>"+n.documentTitle+"</title>",n.css&&(Array.isArray(n.css)||(n.css=[n.css]),n.css.forEach(function(e){a.srcdoc+='<link rel="stylesheet" href="'+e+'">'})),a.srcdoc+="</head><body></body></html>"),n.type){case"pdf":if(l.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer."),window.open(n.fallbackPrintable,"_blank").focus(),n.onIncompatibleBrowser()}catch(e){n.onError(e)}finally{n.showModal&&s.default.close(),n.onLoadingEnd&&n.onLoadingEnd()}else d.default.print(n,a);break;case"image":f.default.print(n,a);break;case"html":c.default.print(n,a);break;case"raw-html":u.default.print(n,a);break;case"json":p.default.print(n,a)}}}},"./src/js/json.js":function(e,t,n){"use strict";n.r(t);var c=n("./src/js/functions.js"),r=n("./src/js/print.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.default={print:function(t,e){if("object"!==o(t.printable))throw new Error("Invalid javascript data object (JSON).");if("boolean"!=typeof t.repeatTableHeader)throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!t.properties||!Array.isArray(t.properties))throw new Error("Invalid properties array for your JSON data.");t.properties=t.properties.map(function(e){return{field:"object"===o(e)?e.field:e,displayName:"object"===o(e)?e.displayName:e,columnSize:"object"===o(e)&&e.columnSize?e.columnSize+";":100/t.properties.length+"%;"}}),t.printableElement=document.createElement("div"),t.header&&Object(c.addHeader)(t.printableElement,t),t.printableElement.innerHTML+=function(e){var t=e.printable,n=e.properties,r='<table style="border-collapse: collapse; width: 100%;">';e.repeatTableHeader&&(r+="<thead>");r+="<tr>";for(var o=0;o<n.length;o++)r+='<th style="width:'+n[o].columnSize+";"+e.gridHeaderStyle+'">'+Object(c.capitalizePrint)(n[o].displayName)+"</th>";r+="</tr>",e.repeatTableHeader&&(r+="</thead>");r+="<tbody>";for(var i=0;i<t.length;i++){r+="<tr>";for(var a=0;a<n.length;a++){var l=t[i],s=n[a].field.split(".");if(1<s.length)for(var d=0;d<s.length;d++)l=l[s[d]];else l=l[n[a].field];r+='<td style="width:'+n[a].columnSize+e.gridStyle+'">'+l+"</td>"}r+="</tr>"}return r+="</tbody></table>"}(t),r.default.send(t,e)}}},"./src/js/modal.js":function(e,t,n){"use strict";n.r(t);var a={show:function(e){var t=document.createElement("div");t.setAttribute("style","font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;"),t.setAttribute("id","printJS-Modal");var n=document.createElement("div");n.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var r=document.createElement("div");r.setAttribute("class","printClose"),r.setAttribute("id","printClose"),n.appendChild(r);var o=document.createElement("span");o.setAttribute("class","printSpinner"),n.appendChild(o);var i=document.createTextNode(e.modalMessage);n.appendChild(i),t.appendChild(n),document.getElementsByTagName("body")[0].appendChild(t),document.getElementById("printClose").addEventListener("click",function(){a.close()})},close:function(){var e=document.getElementById("printJS-Modal");e&&e.parentNode.removeChild(e)}};t.default=a},"./src/js/pdf.js":function(e,t,n){"use strict";n.r(t);var o=n("./src/js/print.js"),i=n("./src/js/functions.js");function a(e,t,n){var r=new window.Blob([n],{type:"application/pdf"}),r=window.URL.createObjectURL(r);t.setAttribute("src",r),o.default.send(e,t)}t.default={print:function(e,t){var n,r;e.base64?(n=Uint8Array.from(atob(e.printable),function(e){return e.charCodeAt(0)}),a(e,t,n)):(e.printable=/^(blob|http|\/\/)/i.test(e.printable)?e.printable:window.location.origin+("/"!==e.printable.charAt(0)?"/"+e.printable:e.printable),(r=new window.XMLHttpRequest).responseType="arraybuffer",r.addEventListener("error",function(){Object(i.cleanUp)(e),e.onError(r.statusText)}),r.addEventListener("load",function(){if(-1===[200,201].indexOf(r.status))return Object(i.cleanUp)(e),void e.onError(r.statusText);a(e,t,r.response)}),r.open("GET",e.printable,!0),r.send())}}},"./src/js/print.js":function(e,t,n){"use strict";n.r(t);var l=n("./src/js/browser.js"),r=n("./src/js/functions.js"),o={send:function(i,e){document.getElementsByTagName("body")[0].appendChild(e);var a=document.getElementById(i.frameId);a.onload=function(){var e,t,n,r,o;"pdf"!==i.type?((e=a.contentWindow||a.contentDocument).document&&(e=e.document),e.body.appendChild(i.printableElement),"pdf"!==i.type&&i.style&&((t=document.createElement("style")).innerHTML=i.style,e.head.appendChild(t)),0<(n=e.getElementsByTagName("img")).length?(r=Array.from(n),o=r.map(function(e){if(e.src&&e.src!==window.location.href)return n=e,new Promise(function(t){!function e(){n&&void 0!==n.naturalWidth&&0!==n.naturalWidth&&n.complete?t():setTimeout(e,500)}()});var n}),Promise.all(o).then(function(){return s(a,i)})):s(a,i)):l.default.isFirefox()?setTimeout(function(){return s(a,i)},1e3):s(a,i)}}};function s(t,n){try{if(t.focus(),l.default.isEdge()||l.default.isIE())try{t.contentWindow.document.execCommand("print",!1,null)}catch(e){t.contentWindow.print()}else t.contentWindow.print()}catch(e){n.onError(e)}finally{l.default.isFirefox()&&(t.style.visibility="hidden",t.style.left="-1px"),Object(r.cleanUp)(n)}}t.default=o},"./src/js/raw-html.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/js/print.js");t.default={print:function(e,t){e.printableElement=document.createElement("div"),e.printableElement.setAttribute("style","width:100%"),e.printableElement.innerHTML=e.printable,r.default.send(e,t)}}},"./src/sass/index.scss":function(e,t,n){},0:function(e,t,n){e.exports=n("./src/index.js")}},o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0).default;function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,r});