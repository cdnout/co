angular.module("ui.bootstrap.datetimepicker",["ui.bootstrap.dateparser","ui.bootstrap.datepicker","ui.bootstrap.timepicker"]).directive("datepickerPopup",function(){return{restrict:"EAC",require:"ngModel",link:function(e,t,n,a){a.$formatters.shift()}}}).directive("datetimepicker",[function(){return 1===angular.version.major&&(angular.version.minor>4||4===angular.version.minor&&angular.version.dot>=4)?{restrict:"EA",require:"ngModel",scope:{ngModel:"=",ngChange:"&",dayFormat:"=",monthFormat:"=",yearFormat:"=",minTime:"=",maxTime:"=",dayHeaderFormat:"=",dayTitleFormat:"=",monthTitleFormat:"=",yearRange:"=",showButtonBar:"=",dateOptions:"=?",dateDisabled:"&",dateNgClick:"&",dateNgFocus:"&",hourStep:"=",dateOpened:"=",minuteStep:"=",showMeridian:"=",meredians:"=",mousewheel:"=",readonlyTime:"=",readonlyDate:"=",disabledDate:"=",hiddenTime:"=",hiddenDate:"=",datepickerTemplateUrl:"@",datepickerPopupTemplateUrl:"@",timepickerTemplateUrl:"@"},template:function(e,t){function n(e){return e.replace(/[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()})}function a(e,a){var i=angular.isDefined(a)?a:e;return t[i]?n(e)+'="'+i+'" ':i in t?i+" ":""}function i(e,a,i,r){var o=angular.isDefined(i)?i:e;return t[o]?n(e)+'="'+o+"({"+a+'})" ':angular.isDefined(r)?n(e)+'="'+r+'"':""}function r(e,a){var i=angular.isDefined(a)?a:e;return t[i]?n(e)+'="'+t[i]+'" ':n(e)+" "}function o(e,t){return e+a.apply(null,t)}return'<ng-form name="datetimepickerForm" isolate-form>'+('<div class="datetimepicker-wrapper"><input class="form-control" type="text" name="datepicker"ng-change="date_change($event)" is-open="innerDateOpened" datepicker-options="dateOptions" uib-datepicker-popup="{{dateFormat}}"ng-model="ngModel" '+[["dayFormat"],["monthFormat"],["yearFormat"],["dayHeaderFormat"],["dayTitleFormat"],["monthTitleFormat"],["yearRange"],["required"],["showButtonBar"],["ngHide","hiddenDate"],["ngReadonly","readonlyDate"],["ngDisabled","disabledDate"]].reduce(o,"")+i("ngClick","$event: $event, opened: opened","dateNgClick","open($event)")+i("ngFocus","$event: $event, opened: opened","dateNgFocus","open($event)")+r("currentText","currentText")+r("datepickerTemplateUrl","datepickerTemplateUrl")+r("datepickerPopupTemplateUrl","datepickerPopupTemplateUrl")+r("clearText","clearText")+r("datepickerAppendToBody","datepickerAppendToBody")+r("closeText","closeText")+r("placeholder","placeholder")+"/>\n</div>\n")+('<div class="datetimepicker-wrapper" name="timepicker" ng-model="time" ng-change="time_change()" style="display:inline-block">\n<div uib-timepicker min="minDate" max="maxDate" '+[["hourStep"],["minuteStep"],["showMeridian"],["required"],["meredians"],["mousewheel"],["ngHide","hiddenTime"],["ngDisabled","readonlyTime"]].reduce(o,"")+r("showSpinners","showSpinners")+r("templateUrl","timepickerTemplateUrl")+"></div>\n</div>")+"</ng-form>"},controller:["$scope","$attrs",function(e,t){e.date_change=function(){var t=e.time;e.ngModel&&e.time&&(e.ngModel.setHours(t.getHours(),t.getMinutes(),0,0),e.ngModel=new Date(e.ngModel))},e.time_change=function(){e.ngModel&&e.time&&(e.ngModel.setHours(e.time.getHours(),e.time.getMinutes(),0,0),e.ngModel=new Date(e.ngModel))},e.open=function(t){t.preventDefault(),t.stopPropagation(),e.innerDateOpened=!0},t.$observe("dateFormat",function(t,n){e.dateFormat=t}),e.dateOptions=angular.isDefined(e.dateOptions)?e.dateOptions:{},e.dateOptions.dateDisabled=e.dateDisabled}],link:function(e,t,n,a){var i=function(){e.ngModel&&(e.minTime?(e.minDate=new Date(e.ngModel.getFullYear(),e.ngModel.getMonth(),e.ngModel.getDate(),e.minTime.getHours(),e.minTime.getMinutes(),0),e.dateOptions.minDate&&e.dateOptions.minDate>e.minDate&&(e.minDate=e.dateOptions.minDate)):e.minDate=e.dateOptions.minDate)},r=function(){e.ngModel&&(e.maxTime?(e.maxDate=new Date(e.ngModel.getFullYear(),e.ngModel.getMonth(),e.ngModel.getDate(),e.maxTime.getHours(),e.maxTime.getMinutes(),0),e.dateOptions.maxDate&&e.dateOptions.maxDate<e.maxDate&&(e.maxDate=e.dateOptions.maxDate)):e.maxDate=e.dateOptions.maxDate)},o=!0;e.$watch(function(){return e.ngModel},function(n){!e.ngModel||e.ngModel instanceof Date||(e.ngModel=new Date(e.ngModel));var a=t[0].querySelector("[name=timepicker]");if(a&&!a.contains(document.activeElement)){if(null===n||""===n){if(!o)return e.time=null,void(e.ngChange&&e.$eval(e.ngChange));(n=new Date).setHours(0,0,0,0)}n=new Date(n),!1===isNaN(n.getTime())&&(e.time=n,o&&(o=!1))}i(),r(),e.ngChange&&e.$eval(e.ngChange)},!0),e.$watch(function(){return e.datetimepickerForm&&Object.keys(e.datetimepickerForm.$error)},function(e){angular.isUndefined(e)||(Object.keys(a.$error).forEach(function(e){a.$setValidity(e,!0)}),e.forEach(function(e){a.$setValidity(e,!1)}))},!0),e.$watch(function(){return e.datetimepickerForm&&(e.datetimepickerForm.timepicker.$touched||e.datetimepickerForm.datepicker.$touched)},function(e){e&&a.$setTouched()}),e.$watch(function(){return e.datetimepickerForm&&e.datetimepickerForm.$dirty},function(e){e&&a.$setDirty()}),e.$watch("dateOpened",function(t){e.innerDateOpened=t}),e.$watch("innerDateOpened",function(t){angular.isDefined(e.dateOpened)&&(e.dateOpened=t)}),e.$watch("dateOptions.minDate",function(e){i()}),e.$watch("timeMin",function(e){i()}),e.$watch("dateOptions.maxDate",function(e){r()}),e.$watch("timeMax",function(e){r()})}}:{restrict:"EA",template:'<div class="alert alert-danger">Angular 1.4.4 or above is required for datetimepicker to work correctly</div>'}}]).directive("isolateForm",[function(){return{restrict:"A",require:"?form",link:function(e,t,n,a){if(a&&(a.$$parentForm.$removeControl(a),a.$$parentForm)){var i=a.$setValidity;a.$setValidity=function(e,t,n){i.call(a,e,t,n),a.$$parentForm.$setValidity(e,!0,this)}}}}}]);