L.Yandex.addInitHook(function(){var e=this._controlOptionsDefault;this.options.panorama&&e&&(this._controlOptionsDefault=L.extend({},e,{typeSelector:L.extend({},e.typeSelector,{panoramasItemMode:"on"})}))}),L.Yandex.addInitHook("on","load",function(){this.options.panorama&&this._yandex.getPanoramaManager().done(function(t){t._playerOptions={hotkeysEnabled:!0,controls:["closeControl","panoramaName","zoomControl"]},"enableLookup"===this.options.panorama&&t.enableLookup(),t.events.add("openplayer",function(){var e=this._map.keyboard;e&&e.disable();var n=t.getPlayer();n._engine._toggleFullscreen(),n.events.add("fullscreenexit",function(){setTimeout(t.closePlayer.bind(t))}),this._isOverlay&&this._yandex.setType("yandex#map"),n.events.add("destroy",function(){this._isOverlay&&this._yandex.setType(this._mapType()),this._resyncView(),e&&e.enable()},this)},this)},this)});