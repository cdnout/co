!function(){var e=L.Marker.prototype._setPos;L.Marker.include({_updateImg:function(o,t,i){var n="";n+=" translate("+-(t=L.point(i).divideBy(2)._subtract(L.point(t))).x+"px, "+-t.y+"px)",n+=" rotate("+this.options.iconAngle+"deg)",n+=" translate("+t.x+"px, "+t.y+"px)",o.style[L.DomUtil.TRANSFORM]+=n,o.style[L.DomUtil.TRANSFORM+"Origin"]="50% 50%"},_getShortestEndDegree:function(o,t){var i=Math.abs(t-o);return i<=180?t:o+(360-i)*(0<=t-o?-1:1)},setIconAngle:function(o){this.options.iconAngle=this._getShortestEndDegree(this.options.iconAngle||0,o),this._map&&this.update()},_setPos:function(o){var t,i,n,s;this._icon&&(this._icon.style[L.DomUtil.TRANSFORM]=""),this._shadow&&(this._shadow.style[L.DomUtil.TRANSFORM]=""),e.apply(this,[o]),this.options.iconAngle&&(t=new L.Icon.Default,i=this.options.icon.options.iconAnchor||t.options.iconAnchor,n=this.options.icon.options.iconSize||t.options.iconSize,this._icon&&(s=this._icon,this._updateImg(s,i,n)),this._shadow&&(this.options.icon.options.shadowAnchor&&(i=this.options.icon.options.shadowAnchor),n=this.options.icon.options.shadowSize,s=this._shadow,this._updateImg(s,i,n)))}})}();