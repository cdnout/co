L.Control.Layers.include({_loadScripts:function(e,a,t){if(!e||0===e.length)return a(t);var r,i,s=this,d=e.pop();function n(){s._loadScripts(e,a,t)}void 0===(r=L.Control.Layers._script_cache[d])&&(r={url:d,wait:[]},(i=document.createElement("script")).src=d,i.type="text/javascript",i.onload=function(){for(var e=0,e=0;e<r.wait.length;e++)r.wait[e]()},r.e=i,document.getElementsByTagName("head")[0].appendChild(i)),r.wait.push(n),"completed"===r.e.readyState&&n(),L.Control.Layers._script_cache[d]=r},addLayerDef:function(e,a){void 0===this._layer_defs&&(this._layer_defs={}),this._layer_defs[e]=a},addLayerDefs:function(e){void 0===this._layer_defs&&(this._layer_defs={}),L.Util.extend(this._layer_defs,e)},loadLayer:function(e,a){var t=this,e=this._layer_defs[e];e.default=a,this._loadScripts(e.js.reverse(),function(e){t._loadLayer(e)},e)},_loadLayer:function(e){var a=e.init();e.default&&this._map&&this._map.addLayer(a),e.overlay?this.addOverlay(a,e.name):this.addBaseLayer(a,e.name)}}),L.Control.Layers._script_cache={};