!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.htm=e()}(this,function(){var o=function(n,e,t,u){var s;e[0]=0;for(var r=1;r<e.length;r++){var p=e[r++],h=e[r]?(e[0]|=p?1:2,t[e[r++]]):e[++r];3===p?u[0]=h:4===p?u[1]=Object.assign(u[1]||{},h):5===p?(u[1]=u[1]||{})[e[++r]]=h:6===p?u[1][e[++r]]+=h+"":p?(s=n.apply(h,o(n,h,t,["",null])),u.push(s),h[0]?e[0]|=2:(e[r-2]=0,e[r]=s)):u.push(h)}return u},t=new Map;return function(n){var e=t.get(this);return e||(e=new Map,t.set(this,e)),1<(e=o(this,e.get(n)||(e.set(n,e=function(n){function e(n){1===s&&(n||(r=r.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?h.push(0,n,r):3===s&&(n||r)?(h.push(3,n,r),s=2):2===s&&"..."===r&&n?h.push(4,n,0):2===s&&r&&!n?h.push(5,0,!0,r):5<=s&&((r||!n&&5===s)&&(h.push(s,0,r,u),s=6),n&&(h.push(s,n,0,u),s=6)),r=""}for(var t,u,s=1,r="",p="",h=[0],o=0;o<n.length;o++){o&&(1===s&&e(),e(o));for(var f=0;f<n[o].length;f++)t=n[o][f],1===s?"<"===t?(e(),h=[h],s=3):r+=t:4===s?r="--"===r&&">"===t?(s=1,""):t+r[0]:p?t===p?p="":r+=t:'"'===t||"'"===t?p=t:">"===t?(e(),s=1):s&&("="===t?(s=5,u=r,r=""):"/"===t&&(s<5||">"===n[o][f+1])?(e(),3===s&&(h=h[0]),(h=(s=h)[0]).push(2,0,s),s=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(e(),s=2):r+=t),3===s&&"!--"===r&&(s=4,h=h[0])}return e(),h}(n)),e),arguments,[])).length?e:e[0]}});