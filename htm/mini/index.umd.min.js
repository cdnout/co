!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.htm=n()}(this,function(){return function(e){function n(e){1===i&&(e||(s=s.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?l.push(e?f[e]:s):3===i&&(e||s)?(l[1]=e?f[e]:s,i=2):2===i&&"..."===s&&e?l[2]=Object.assign(l[2]||{},f[e]):2===i&&s&&!e?(l[2]=l[2]||{})[s]=!0:5<=i&&(5===i?((l[2]=l[2]||{})[o]=e?s?s+f[e]:f[e]:s,i=6):(e||s)&&(l[2][o]+=e?s+f[e]:s)),s=""}for(var t,o,f=arguments,i=1,s="",u="",l=[0],r=0;r<e.length;r++){r&&(1===i&&n(),n(r));for(var c=0;c<e[r].length;c++)t=e[r][c],1===i?"<"===t?(n(),l=[l,"",null],i=3):s+=t:4===i?s="--"===s&&">"===t?(i=1,""):t+s[0]:u?t===u?u="":s+=t:'"'===t||"'"===t?u=t:">"===t?(n(),i=1):i&&("="===t?(i=5,o=s,s=""):"/"===t&&(i<5||">"===e[r][c+1])?(n(),3===i&&(l=l[0]),(l=(i=l)[0]).push(this.apply(null,i.slice(1))),i=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(n(),i=2):s+=t),3===i&&"!--"===s&&(i=4,l=l[0])}return n(),2<l.length?l.slice(1):l[1]}});