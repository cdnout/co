const KEY_LEFT=37,KEY_RIGHT=39;"undefined"!=typeof navigator&&/Mac/.test(navigator.userAgent);const latin_convert={"æ":"ae","ⱥ":"a","ø":"o"};new RegExp(Object.keys(latin_convert).join("|"),"g");const parentMatch=(e,t,n)=>{if(!n||n.contains(e))for(;e&&e.matches;){if(e.matches(t))return e;e=e.parentNode}},nodeIndex=(e,t)=>{if(!e)return-1;t=t||e.nodeName;for(var n=0;e=e.previousElementSibling;)e.matches(t)&&n++;return n};function plugin(){var o=this,i=o.onKeyDown;o.hook("instead","onKeyDown",e=>{var t,n,a;return!o.isOpen||e.keyCode!==KEY_LEFT&&e.keyCode!==KEY_RIGHT?i.call(o,e):(a=parentMatch(o.activeOption,"[data-group]"),t=nodeIndex(o.activeOption,"[data-selectable]"),void((a=a&&(e.keyCode===KEY_LEFT?a.previousSibling:a.nextSibling))&&(n=(n=a.querySelectorAll("[data-selectable]"))[Math.min(n.length-1,t)])&&o.setActiveOption(n)))})}export{plugin as default};