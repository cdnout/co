const latin_convert={"æ":"ae","ⱥ":"a","ø":"o"};new RegExp(Object.keys(latin_convert).join("|"),"g");const iterate=(e,t)=>{if(Array.isArray(e))e.forEach(t);else for(var r in e)e.hasOwnProperty(r)&&t(e[r],r)},removeClasses=(e,...t)=>{var r=classesArray(t);(e=castAsArray(e)).map(t=>{r.map(e=>{t.classList.remove(e)})})},classesArray=e=>{var t=[];return iterate(e,e=>{"string"==typeof e&&(e=e.trim().split(/[\11\12\14\15\40]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},castAsArray=e=>e=Array.isArray(e)?e:[e],nodeIndex=(e,t)=>{if(!e)return-1;t=t||e.nodeName;for(var r=0;e=e.previousElementSibling;)e.matches(t)&&r++;return r};function plugin(){var a=this;a.hook("instead","setCaret",r=>{"single"!==a.settings.mode&&a.control.contains(a.control_input)?(r=Math.max(0,Math.min(a.items.length,r)))==a.caretPos||a.isPending||a.controlChildren().forEach((e,t)=>{t<r?a.control_input.insertAdjacentElement("beforebegin",e):a.control.appendChild(e)}):r=a.items.length,a.caretPos=r}),a.hook("instead","moveCaret",e=>{var t,r;a.isFocused&&((t=a.getLastActive(e))?(r=nodeIndex(t),a.setCaret(0<e?r+1:r),a.setActiveItem(),removeClasses(t,"last-active")):a.setCaret(a.caretPos+e))})}export{plugin as default};