!function(t){"use strict";var r={};(function(s){"use strict";var p={},n=-1,u="*";function o(t){var r;for(r in t)if(Object.prototype.hasOwnProperty.call(t,r))return true;return false}function i(r){return function t(){throw r}}function c(t,r,e){try{t(r,e)}catch(t){setTimeout(i(t),0)}}function f(t,r,e){t(r,e)}function a(t,r,e,n){var o=p[r],i=n?f:c,u;if(!Object.prototype.hasOwnProperty.call(p,r))return;for(u in o)if(Object.prototype.hasOwnProperty.call(o,u))i(o[u],t,e)}function l(n,o,i){return function t(){var r=String(n),e=r.lastIndexOf(".");a(n,n,o,i);while(e!==-1){r=r.substr(0,e);e=r.lastIndexOf(".");a(n,r,o,i)}a(n,u,o,i)}}function b(t){var r=String(t),e=Boolean(Object.prototype.hasOwnProperty.call(p,r)&&o(p[r]));return e}function y(t){var r=String(t),e=b(r)||b(u),n=r.lastIndexOf(".");while(!e&&n!==-1){r=r.substr(0,n);n=r.lastIndexOf(".");e=b(r)}return e}function e(t,r,e,n){t=typeof t==="symbol"?t.toString():t;var o=l(t,r,n),i=y(t);if(!i)return false;if(e===true)o();else setTimeout(o,0);return true}s.publish=function(t,r){return e(t,r,false,s.immediateExceptions)},s.publishSync=function(t,r){return e(t,r,true,s.immediateExceptions)},s.subscribe=function(t,r){if(typeof r!=="function")return false;t=typeof t==="symbol"?t.toString():t;if(!Object.prototype.hasOwnProperty.call(p,t))p[t]={};var e="uid_"+String(++n);p[t][e]=r;return e},s.subscribeAll=function(t){return s.subscribe(u,t)},s.subscribeOnce=function(t,r){var e=s.subscribe(t,function(){s.unsubscribe(e);r.apply(this,arguments)});return s},s.clearAllSubscriptions=function t(){p={}},s.clearSubscriptions=function t(r){var e;for(e in p)if(Object.prototype.hasOwnProperty.call(p,e)&&e.indexOf(r)===0)delete p[e]},s.countSubscriptions=function t(r){var e;var n=0;for(e in p)if(Object.prototype.hasOwnProperty.call(p,e)&&e.indexOf(r)===0)n++;return n},s.getSubscriptions=function t(r){var e;var n=[];for(e in p)if(Object.prototype.hasOwnProperty.call(p,e)&&e.indexOf(r)===0)n.push(e);return n},s.unsubscribe=function(t){var r=function(t){var r;for(r in p)if(Object.prototype.hasOwnProperty.call(p,r)&&r.indexOf(t)===0)return true;return false},e=typeof t==="string"&&(Object.prototype.hasOwnProperty.call(p,t)||r(t)),n=!e&&typeof t==="string",o=typeof t==="function",i=false,u,c,f;if(e){s.clearSubscriptions(t);return}for(u in p)if(Object.prototype.hasOwnProperty.call(p,u)){c=p[u];if(n&&c[t]){delete c[t];i=t;break}if(o)for(f in c)if(Object.prototype.hasOwnProperty.call(c,f)&&c[f]===t){delete c[f];i=true}}return i}})(t.PubSub=r),"object"==typeof exports?(void 0!==module&&module.exports&&(exports=module.exports=r),exports.PubSub=r,module.exports=exports=r):"function"==typeof define&&define.amd&&define(function(){return r})}("object"==typeof window&&window||this);