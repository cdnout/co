function require(f,d,g){var a=require.resolve(f);if(null==a){g=g||f;d=d||"root";var e=new Error('Failed to require "'+g+'" from "'+d+'"');e.path=g;e.parent=d;e.require=true;throw e}var c=require.modules[a];if(!c._resolving&&!c.exports){var b={};b.exports={};b.client=b.component=true;c._resolving=true;c.call(this,b.exports,require.relative(a),b);delete c._resolving;c.exports=b.exports}return c.exports}require.modules={};require.aliases={};require.resolve=function(b){if(b.charAt(0)==="/"){b=b.slice(1)}var c=[b,b+".js",b+".json",b+"/index.js",b+"/index.json"];for(var a=0;a<c.length;a++){var b=c[a];if(require.modules.hasOwnProperty(b)){return b}if(require.aliases.hasOwnProperty(b)){return require.aliases[b]}}};require.normalize=function(d,c){var a=[];if("."!=c.charAt(0)){return c}d=d.split("/");c=c.split("/");for(var b=0;b<c.length;++b){if(".."==c[b]){d.pop()}else{if("."!=c[b]&&""!=c[b]){a.push(c[b])}}}return d.concat(a).join("/")};require.register=function(b,a){require.modules[b]=a};require.alias=function(b,a){if(!require.modules.hasOwnProperty(b)){throw new Error('Failed to alias "'+b+'", it does not exist')}require.aliases[a]=b};require.relative=function(b){var d=require.normalize(b,"..");function a(e,g){var f=e.length;while(f--){if(e[f]===g){return f}}return -1}function c(f){var e=c.resolve(f);return require(e,b,f)}c.resolve=function(g){var h=g.charAt(0);if("/"==h){return g.slice(1)}if("."==h){return require.normalize(d,g)}var e=b.split("/");var f=a(e,"deps")+1;if(!f){f=0}g=e.slice(0,f+1).join("/")+"/deps/"+g;return g};c.exists=function(e){return require.modules.hasOwnProperty(c.resolve(e))};return c};require.register("component-emitter/index.js",function(b,c,d){d.exports=e;function e(f){if(f){return a(f)}}function a(g){for(var f in e.prototype){g[f]=e.prototype[f]}return g}e.prototype.on=e.prototype.addEventListener=function(g,f){this._callbacks=this._callbacks||{};(this._callbacks[g]=this._callbacks[g]||[]).push(f);return this};e.prototype.once=function(i,h){var g=this;this._callbacks=this._callbacks||{};function f(){g.off(i,f);h.apply(this,arguments)}f.fn=h;this.on(i,f);return this};e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(l,h){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var j=this._callbacks[l];if(!j){return this}if(1==arguments.length){delete this._callbacks[l];return this}var f;for(var g=0;g<j.length;g++){f=j[g];if(f===h||f.fn===h){j.splice(g,1);break}}return this};e.prototype.emit=function(l){this._callbacks=this._callbacks||{};var g=[].slice.call(arguments,1),j=this._callbacks[l];if(j){j=j.slice(0);for(var h=0,f=j.length;h<f;++h){j[h].apply(this,g)}}return this};e.prototype.listeners=function(f){this._callbacks=this._callbacks||{};return this._callbacks[f]||[]};e.prototype.hasListeners=function(f){return !!this.listeners(f).length}});require.register("side-comments/js/main.js",function(a,d,e){var c=d("./vendor/lodash-custom.js");var g=d("./section.js");var f=d("emitter");var b=new f;function h(j,i,l){this.$el=$(j);this.$body=$("body");this.eventPipe=b;this.currentUser=c.clone(i)||null;this.existingComments=c.cloneDeep(l)||[];this.sections=[];this.activeSection=null;this.eventPipe.on("showComments",c.bind(this.showComments,this));this.eventPipe.on("hideComments",c.bind(this.hideComments,this));this.eventPipe.on("sectionSelected",c.bind(this.sectionSelected,this));this.eventPipe.on("sectionDeselected",c.bind(this.sectionDeselected,this));this.eventPipe.on("commentPosted",c.bind(this.commentPosted,this));this.eventPipe.on("commentDeleted",c.bind(this.commentDeleted,this));this.eventPipe.on("addCommentAttempted",c.bind(this.addCommentAttempted,this));this.$body.on("click",c.bind(this.bodyClick,this));this.initialize(this.existingComments)}f(h.prototype);h.prototype.initialize=function(i){c.each(this.$el.find(".commentable-section"),function(n){var m=$(n);var l=m.data("section-id").toString();var j=c.find(this.existingComments,{sectionId:l});this.sections.push(new g(this.eventPipe,m,this.currentUser,j))},this)};h.prototype.showComments=function(){this.$el.addClass("side-comments-open")};h.prototype.hideComments=function(){if(this.activeSection){this.activeSection.deselect();this.activeSection=null}this.$el.removeClass("side-comments-open")};h.prototype.sectionSelected=function(i){this.showComments();if(this.activeSection){this.activeSection.deselect()}this.activeSection=i};h.prototype.sectionDeselected=function(i){this.hideComments();this.activeSection=null};h.prototype.commentPosted=function(i){this.emit("commentPosted",i)};h.prototype.commentDeleted=function(i){this.emit("commentDeleted",i)};h.prototype.addCommentAttempted=function(){this.emit("addCommentAttempted")};h.prototype.insertComment=function(j){var i=c.find(this.sections,{id:j.sectionId});i.insertComment(j)};h.prototype.removeComment=function(j,i){var l=c.find(this.sections,{id:j});l.removeComment(i)};h.prototype.deleteComment=function(j,i){var l=c.find(this.sections,{id:j});l.deleteComment(i)};h.prototype.commentsAreVisible=function(){return this.$el.hasClass("side-comments-open")};h.prototype.bodyClick=function(j){var i=$(j.target);if(i.closest(".side-comment").length<1&&i.closest("body").length>0){if(this.activeSection){this.activeSection.deselect()}this.hideComments()}};h.prototype.setCurrentUser=function(i){this.hideComments();this.currentUser=i;c.each(this.sections,function(j){j.currentUser=this.currentUser;j.render()})};h.prototype.removeCurrentUser=function(){this.hideComments();this.currentUser=null;c.each(this.sections,function(i){i.currentUser=null;i.render()})};h.prototype.destroy=function(){this.hideComments();this.$el.off()};e.exports=h});require.register("side-comments/js/section.js",function(a,c,d){var b=c("./vendor/lodash-custom.js");var f=c("../templates/section.html");var g=c("../templates/comment.html");function e(i,j,h,l){this.eventPipe=i;this.$el=j;this.comments=l?l.comments:[];this.currentUser=h||null;this.id=j.data("section-id");this.$el.on("click",".side-comment .marker",b.bind(this.markerClick,this));this.$el.on("click",".side-comment .add-comment",b.bind(this.addCommentClick,this));this.$el.on("click",".side-comment .post",b.bind(this.postCommentClick,this));this.$el.on("click",".side-comment .cancel",b.bind(this.cancelCommentClick,this));this.$el.on("click",".side-comment .delete",b.bind(this.deleteCommentClick,this));this.render()}e.prototype.markerClick=function(h){h.preventDefault();if(this.isSelected()){this.deselect();this.eventPipe.emit("sectionDeselected",this)}else{this.select();this.eventPipe.emit("sectionSelected",this)}};e.prototype.addCommentClick=function(h){h.preventDefault();if(this.currentUser){this.showCommentForm()}else{this.eventPipe.emit("addCommentAttempted")}};e.prototype.showCommentForm=function(){if(this.comments.length>0){this.$el.find(".add-comment").addClass("hide");this.$el.find(".comment-form").addClass("active")}this.focusCommentBox()};e.prototype.hideCommentForm=function(){if(this.comments.length>0){this.$el.find(".add-comment").removeClass("hide");this.$el.find(".comment-form").removeClass("active")}this.$el.find(".comment-box").empty()};e.prototype.focusCommentBox=function(){this.$el.find(".comment-box").get(0).focus()};e.prototype.cancelCommentClick=function(h){h.preventDefault();this.cancelComment()};e.prototype.cancelComment=function(){if(this.comments.length>0){this.hideCommentForm()}else{this.deselect();this.eventPipe.emit("hideComments")}};e.prototype.postCommentClick=function(h){h.preventDefault();this.postComment()};e.prototype.postComment=function(){this.$el.find(".comment-box").children().not("br").each(function(){$(this).replaceWith(this.innerHTML)});var h=this.$el.find(".comment-box").html();var i={sectionId:this.id,comment:h,authorAvatarUrl:this.currentUser.avatarUrl,authorName:this.currentUser.name,authorId:this.currentUser.id};this.eventPipe.emit("commentPosted",i)};e.prototype.insertComment=function(i){this.comments.push(i);var h=b.template(g,{comment:i,currentUser:this.currentUser});this.$el.find(".comments").append(h);this.$el.find(".side-comment").addClass("has-comments");this.updateCommentCount();this.hideCommentForm()};e.prototype.updateCommentCount=function(){this.$el.find(".marker span").text(this.comments.length)};e.prototype.deleteCommentClick=function(i){i.preventDefault();var h=$(i.target).closest("li").data("comment-id");if(window.confirm("Are you sure you want to delete this comment?")){this.deleteComment(h)}};e.prototype.deleteComment=function(h){var i=b.find(this.comments,{id:h});i.sectionId=this.id;this.eventPipe.emit("commentDeleted",i)};e.prototype.removeComment=function(h){this.comments=b.reject(this.comments,{id:h});this.$el.find('.side-comment .comments li[data-comment-id="'+h+'"]').remove();this.updateCommentCount();if(this.comments.length<1){this.$el.find(".side-comment").removeClass("has-comments")}};e.prototype.select=function(){this.$el.find(".side-comment").addClass("active");if(this.comments.length===0&&this.currentUser){this.focusCommentBox()}};e.prototype.deselect=function(){this.$el.find(".side-comment").removeClass("active");this.hideCommentForm()};e.prototype.isSelected=function(){return this.$el.find(".side-comment").hasClass("active")};e.prototype.sectionClasses=function(){var h="";if(this.comments.length>0){h=h+" has-comments"}if(!this.currentUser){h=h+" no-current-user"}return h};e.prototype.render=function(){this.$el.find(".side-comment").remove();$(b.template(f,{commentTemplate:g,comments:this.comments,sectionClasses:this.sectionClasses(),currentUser:this.currentUser})).appendTo(this.$el)};e.prototype.destroy=function(){this.$el.off()};d.exports=e});require.register("side-comments/js/vendor/lodash-custom.js",function(a,b,c){(function(){var x;var al=[];var af={};var ac=40;var am=/\b__p \+= '';/g,ab=/\b(__p \+=) '' \+/g,u=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var f=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var aq=/\w*$/;var ak=/^\s*function[ \n\r\t]+\w/;var N=/<%=([\s\S]+?)%>/g;var aA=/($^)/;var g=/\bthis\b/;var o=/['\n\r\t\u2028\u2029\\]/g;var L=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];var A=0;var i="[object Arguments]",I="[object Array]",au="[object Boolean]",q="[object Date]",aW="[object Error]",t="[object Function]",az="[object Number]",aD="[object Object]",aG="[object RegExp]",U="[object String]";var aa={};aa[t]=false;aa[i]=aa[I]=aa[au]=aa[q]=aa[az]=aa[aD]=aa[aG]=aa[U]=true;var aT={configurable:false,enumerable:false,value:null,writable:false};var Y={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:false};var at={"boolean":false,"function":true,object:true,number:false,string:false,"undefined":false};var P={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"};var aN=(at[typeof window]&&window)||this;var v=at[typeof a]&&a&&!a.nodeType&&a;var Q=at[typeof c]&&c&&!c.nodeType&&c;var aY=Q&&Q.exports===v&&v;var aw=at[typeof global]&&global;if(aw&&(aw.global===aw||aw.window===aw)){aN=aw}function aH(a4){return"\\"+P[a4]}function a0(){return al.pop()||[]}function W(a4){return typeof a4.toString!="function"&&typeof(a4+"")=="string"}function aI(a4){a4.length=0;if(al.length<ac){al.push(a4)}}function z(a9,a8,a5){a8||(a8=0);if(typeof a5=="undefined"){a5=a9?a9.length:0}var a6=-1,a7=a5-a8||0,a4=Array(a7<0?0:a7);while(++a6<a7){a4[a6]=a9[a8+a6]}return a4}var m=[];var l=Error.prototype,aP=Object.prototype,ae=String.prototype;var ar=aP.toString;var p=RegExp("^"+String(ar).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");var y=Function.prototype.toString,ai=aP.hasOwnProperty,h=m.push,ah=aP.propertyIsEnumerable,aR=m.unshift;var w=(function(){try{var a7={},a5=R(a5=Object.defineProperty)&&a5,a4=a5(a7,a7,a7)&&a5}catch(a6){}return a4}());var S=R(S=Object.create)&&S,s=R(s=Array.isArray)&&s,aZ=R(aZ=Object.keys)&&aZ;var aj={};aj[I]=Array;aj[au]=Boolean;aj[q]=Date;aj[t]=Function;aj[aD]=Object;aj[az]=Number;aj[aG]=RegExp;aj[U]=String;var aC={};aC[I]=aC[q]=aC[az]={constructor:true,toLocaleString:true,toString:true,valueOf:true};aC[au]=aC[U]={constructor:true,toString:true,valueOf:true};aC[aW]=aC[t]=aC[aG]={constructor:true,toString:true};aC[aD]={constructor:true};(function(){var a6=L.length;while(a6--){var a4=L[a6];for(var a5 in aC){if(ai.call(aC,a5)&&!ai.call(aC[a5],a4)){aC[a5][a4]=false}}}}());function B(){}var aQ=B.support={};(function(){var a7=function(){this.x=1},a4={"0":1,length:1},a6=[];a7.prototype={valueOf:1,y:1};for(var a5 in new a7){a6.push(a5)}for(a5 in arguments){}aQ.argsClass=ar.call(arguments)==i;aQ.argsObject=arguments.constructor==Object&&!(arguments instanceof Array);aQ.enumErrorProps=ah.call(l,"message")||ah.call(l,"name");aQ.enumPrototypes=ah.call(a7,"prototype");aQ.funcDecomp=!R(aN.WinRTError)&&g.test(function(){return this});aQ.funcNames=typeof Function.name=="string";aQ.nonEnumArgs=a5!=0;aQ.nonEnumShadows=!/valueOf/.test(a6);aQ.spliceObjects=(m.splice.call(a4,0,1),!a4[0]);aQ.unindexedChars=("x"[0]+Object("x")[0])!="xx";try{aQ.nodeClass=!(ar.call(document)==aD&&!({toString:0}+""))}catch(a8){aQ.nodeClass=true}}(1));B.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:N,variable:"",imports:{_:B}};var ag=function(a6){var a4="var index, iterable = "+(a6.firstArg)+", result = "+(a6.init)+";\nif (!iterable) return result;\n"+(a6.top)+";";if(a6.array){a4+="\nvar length = iterable.length; index = -1;\nif ("+(a6.array)+") {  ";if(aQ.unindexedChars){a4+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "}a4+="\n  while (++index < length) {\n    "+(a6.loop)+";\n  }\n}\nelse {  "}else{if(aQ.nonEnumArgs){a4+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+(a6.loop)+";\n    }\n  } else {  "}}if(aQ.enumPrototypes){a4+="\n  var skipProto = typeof iterable == 'function';\n  "}if(aQ.enumErrorProps){a4+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  "}var a5=[];if(aQ.enumPrototypes){a5.push('!(skipProto && index == "prototype")')}if(aQ.enumErrorProps){a5.push('!(skipErrorProps && (index == "message" || index == "name"))')}if(a6.useHas&&a6.keys){a4+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n";if(a5.length){a4+="    if ("+(a5.join(" && "))+") {\n  "}a4+=(a6.loop)+";    ";if(a5.length){a4+="\n    }"}a4+="\n  }  "}else{a4+="\n  for (index in iterable) {\n";if(a6.useHas){a5.push("hasOwnProperty.call(iterable, index)")}if(a5.length){a4+="    if ("+(a5.join(" && "))+") {\n  "}a4+=(a6.loop)+";    ";if(a5.length){a4+="\n    }"}a4+="\n  }    ";if(aQ.nonEnumShadows){a4+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ";for(k=0;k<7;k++){a4+="\n    index = '"+(a6.shadowedProps[k])+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))";if(!a6.useHas){a4+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"}a4+=") {\n      "+(a6.loop)+";\n    }      "}a4+="\n  }    "}}if(a6.array||aQ.nonEnumArgs){a4+="\n}"}a4+=(a6.bottom)+";\nreturn result";return a4};function H(a8){var a7=a8[0],a5=a8[2],a4=a8[4];function a6(){if(a5){var bb=z(a5);h.apply(bb,arguments)}if(this instanceof a6){var ba=r(a7.prototype),a9=a7.apply(ba,bb||arguments);return F(a9)?a9:ba}return a7.apply(a4,bb||arguments)}aX(a6,a8);return a6}function av(bd,ba,be,a8,a6){if(be){var bf=be(bd);if(typeof bf!="undefined"){return bf}}var a7=F(bd);if(a7){var bb=ar.call(bd);if(!aa[bb]||(!aQ.nodeClass&&W(bd))){return bd}var bc=aj[bb];switch(bb){case au:case q:return new bc(+bd);case az:case U:return new bc(bd);case aG:bf=bc(bd.source,aq.exec(bd));bf.lastIndex=bd.lastIndex;return bf}}else{return bd}var a9=d(bd);if(ba){var a5=!a8;a8||(a8=a0());a6||(a6=a0());var a4=a8.length;while(a4--){if(a8[a4]==bd){return a6[a4]}}bf=a9?bc(bd.length):{}}else{bf=a9?z(bd):aL({},bd)}if(a9){if(ai.call(bd,"index")){bf.index=bd.index}if(ai.call(bd,"input")){bf.input=bd.input}}if(!ba){return bf}a8.push(bd);a6.push(bf);(a9?O:ad)(bd,function(bg,bh){bf[bh]=av(bg,ba,be,a8,a6)});if(a5){aI(a8);aI(a6)}return bf}function r(a4,a5){return F(a4)?S(a4):{}}if(!S){r=(function(){function a4(){}return function(a6){if(F(a6)){a4.prototype=a6;var a5=new a4;a4.prototype=null}return a5||aN.Object()}}())}function a3(a5,a4,a8){if(typeof a5!="function"){return X}if(typeof a4=="undefined"||!("prototype" in a5)){return a5}var a7=a5.__bindData__;if(typeof a7=="undefined"){if(aQ.funcNames){a7=!a5.name}a7=a7||!aQ.funcDecomp;if(!a7){var a6=y.call(a5);if(!aQ.funcNames){a7=!ak.test(a6)}if(!a7){a7=g.test(a6);aX(a5,a7)}}}if(a7===false||(a7!==true&&a7[1]&1)){return a5}switch(a8){case 1:return function(a9){return a5.call(a4,a9)};case 2:return function(ba,a9){return a5.call(a4,ba,a9)};case 3:return function(ba,a9,bb){return a5.call(a4,ba,a9,bb)};case 4:return function(a9,bb,ba,bc){return a5.call(a4,a9,bb,ba,bc)}}return aO(a5,a4)}function T(a7){var a9=a7[0],a6=a7[1],bb=a7[2],a5=a7[3],be=a7[4],a4=a7[5];var a8=a6&1,bg=a6&2,bd=a6&4,bc=a6&8,bf=a9;function ba(){var bi=a8?be:this;if(bb){var bj=z(bb);h.apply(bj,arguments)}if(a5||bd){bj||(bj=z(arguments));if(a5){h.apply(bj,a5)}if(bd&&bj.length<a4){a6|=16&~32;return T([a9,(bc?a6:a6&~3),bj,null,be,a4])}}bj||(bj=arguments);if(bg){a9=bi[bf]}if(this instanceof ba){bi=r(a9.prototype);var bh=a9.apply(bi,bj);return F(bh)?bh:bi}return a9.apply(bi,bj)}aX(ba,a7);return ba}function aK(bm,bl,bb,bi,bo,bn){if(bb){var bg=bb(bm,bl);if(typeof bg!="undefined"){return !!bg}}if(bm===bl){return bm!==0||(1/bm==1/bl)}var ba=typeof bm,a8=typeof bl;if(bm===bm&&!(bm&&at[ba])&&!(bl&&at[a8])){return false}if(bm==null||bl==null){return bm===bl}var a5=ar.call(bm),be=ar.call(bl);if(a5==i){a5=aD}if(be==i){be=aD}if(a5!=be){return false}switch(a5){case au:case q:return +bm==+bl;case az:return(bm!=+bm)?bl!=+bl:(bm==0?(1/bm==1/bl):bm==+bl);case aG:case U:return bm==String(bl)}var bc=a5==I;if(!bc){var bh=ai.call(bm,"__wrapped__"),a4=ai.call(bl,"__wrapped__");if(bh||a4){return aK(bh?bm.__wrapped__:bm,a4?bl.__wrapped__:bl,bb,bi,bo,bn)}if(a5!=aD||(!aQ.nodeClass&&(W(bm)||W(bl)))){return false}var a9=!aQ.argsObject&&e(bm)?Object:bm.constructor,a6=!aQ.argsObject&&e(bl)?Object:bl.constructor;if(a9!=a6&&!(aJ(a9)&&a9 instanceof a9&&aJ(a6)&&a6 instanceof a6)&&("constructor" in bm&&"constructor" in bl)){return false}}var bf=!bo;bo||(bo=a0());bn||(bn=a0());var a7=bo.length;while(a7--){if(bo[a7]==bm){return bn[a7]==bl}}var bj=0;bg=true;bo.push(bm);bn.push(bl);if(bc){a7=bm.length;bj=bl.length;bg=bj==a7;if(bg||bi){while(bj--){var bd=a7,bk=bl[bj];if(bi){while(bd--){if((bg=aK(bm[bd],bk,bb,bi,bo,bn))){break}}}else{if(!(bg=aK(bm[bj],bk,bb,bi,bo,bn))){break}}}}}else{an(bl,function(br,bq,bp){if(ai.call(bp,bq)){bj++;return(bg=ai.call(bm,bq)&&aK(bm[bq],br,bb,bi,bo,bn))}});if(bg&&!bi){an(bm,function(br,bq,bp){if(ai.call(bp,bq)){return(bg=--bj>-1)}})}}bo.pop();bn.pop();if(bf){aI(bo);aI(bn)}return bg}function G(ba,a7,bb,a6,bg,a4){var a9=a7&1,bh=a7&2,be=a7&4,bd=a7&8,a5=a7&16,bc=a7&32;if(!bh&&!aJ(ba)){throw new TypeError}if(a5&&!bb.length){a7&=~16;a5=bb=false}if(bc&&!a6.length){a7&=~32;bc=a6=false}var a8=ba&&ba.__bindData__;if(a8&&a8!==true){a8=z(a8);if(a8[2]){a8[2]=z(a8[2])}if(a8[3]){a8[3]=z(a8[3])}if(a9&&!(a8[1]&1)){a8[4]=bg}if(!a9&&a8[1]&1){a7|=8}if(be&&!(a8[1]&4)){a8[5]=a4}if(a5){h.apply(a8[2]||(a8[2]=[]),bb)}if(bc){aR.apply(a8[3]||(a8[3]=[]),a6)}a8[1]|=a7;return G.apply(null,a8)}var bf=(a7==1||a7===17)?H:T;return bf([ba,a7,bb,a6,bg,a4])}function ay(){Y.shadowedProps=L;Y.array=Y.bottom=Y.loop=Y.top="";Y.init="iterable";Y.useHas=true;for(var a7,a6=0;a7=arguments[a6];a6++){for(var a8 in a7){Y[a8]=a7[a8]}}var a5=Y.args;Y.firstArg=/^[^,]+/.exec(a5)[0];var a4=Function("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+a5+") {\n"+ag(Y)+"\n}");return a4(a3,aW,l,ai,af,e,d,aU,Y.keys,aP,at,aC,U,ae,ar)}function a1(a4){return aM[a4]}function R(a4){return typeof a4=="function"&&p.test(a4)}var aX=!w?aE:function(a4,a5){aT.value=a5;w(a4,"__bindData__",aT)};function e(a4){return a4&&typeof a4=="object"&&typeof a4.length=="number"&&ar.call(a4)==i||false}if(!aQ.argsClass){e=function(a4){return a4&&typeof a4=="object"&&typeof a4.length=="number"&&ai.call(a4,"callee")&&!ah.call(a4,"callee")||false}}var d=s||function(a4){return a4&&typeof a4=="object"&&typeof a4.length=="number"&&ar.call(a4)==I||false};var Z=ay({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"});var K=!aZ?Z:function(a4){if(!F(a4)){return[]}if((aQ.enumPrototypes&&typeof a4=="function")||(aQ.nonEnumArgs&&a4.length&&e(a4))){return Z(a4)}return aZ(a4)};var aV={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:K,loop:"if (callback(iterable[index], index, collection) === false) return result"};var J={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:K,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"};var ap={top:"if (!objectTypes[typeof iterable]) return result;\n"+aV.top,array:false};var aM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var j=RegExp("["+K(aM).join("")+"]","g");var O=ay(aV);var aL=ay(J,{top:J.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"});function D(a6,a5,a7,a4){if(typeof a5!="boolean"&&a5!=null){a4=a7;a7=a5;a5=false}return av(a6,a5,typeof a7=="function"&&a3(a7,a4,1))}function aB(a5,a6,a4){return av(a5,true,typeof a6=="function"&&a3(a6,a4,1))}var V=ay(J);var an=ay(aV,ap,{useHas:false});var ad=ay(aV,ap);function aJ(a4){return typeof a4=="function"}if(aJ(/x/)){aJ=function(a4){return typeof a4=="function"&&ar.call(a4)==t}}function F(a4){return !!(a4&&at[typeof a4])}function aU(a4){return typeof a4=="string"||a4&&typeof a4=="object"&&ar.call(a4)==U||false}function C(a6){var a5=-1,a7=K(a6),a8=a7.length,a4=Array(a8);while(++a5<a8){a4[a5]=a6[a7[a5]]}return a4}function E(a9,ba,a5){var a4=[];ba=B.createCallback(ba,a5,3);if(d(a9)){var a6=-1,a7=a9.length;while(++a6<a7){var a8=a9[a6];if(ba(a8,a6,a9)){a4.push(a8)}}}else{O(a9,function(bc,bb,bd){if(ba(bc,bb,bd)){a4.push(bc)}})}return a4}function a2(a9,ba,a5){ba=B.createCallback(ba,a5,3);if(d(a9)){var a6=-1,a7=a9.length;while(++a6<a7){var a8=a9[a6];if(ba(a8,a6,a9)){return a8}}}else{var a4;O(a9,function(bc,bb,bd){if(ba(bc,bb,bd)){a4=bc;return false}});return a4}}function aF(a7,a8,a4){if(a8&&typeof a4=="undefined"&&d(a7)){var a5=-1,a6=a7.length;while(++a5<a6){if(a8(a7[a5],a5,a7)===false){break}}}else{O(a7,a8,a4)}return a7}function ao(a5,a6,a4){a6=B.createCallback(a6,a4,3);return E(a5,function(a8,a7,a9){return !a6(a8,a7,a9)})}function aO(a5,a4){return arguments.length>2?G(a5,17,z(arguments,2),null,a4):G(a5,1,null,null,a4)}function n(a9,a5,ba){var a8=typeof a9;if(a9==null||a8=="function"){return a3(a9,a5,ba)}if(a8!="object"){return ax(a9)}var a7=K(a9),a6=a7[0],a4=a9[a6];if(a7.length==1&&a4===a4&&!F(a4)){return function(bc){var bb=bc[a6];return a4===bb&&(a4!==0||(1/a4==1/bb))}}return function(bc){var bd=a7.length,bb=false;while(bd--){if(!(bb=aK(bc[a7[bd]],a9[a7[bd]],null,true))){break}}return bb}}function aS(a4){return a4==null?"":String(a4).replace(j,a1)}function X(a4){return a4}function aE(){}function ax(a4){return function(a5){return a5[a4]}}function M(bh,bb,bk){var a8=B.templateSettings;bh=String(bh||"");bk=V({},bk,a8);var a6=V({},bk.imports,a8.imports),bc=K(a6),a7=C(a6);var bg,bd=0,bf=bk.interpolate||aA,a5="__p += '";var bj=RegExp((bk.escape||aA).source+"|"+bf.source+"|"+(bf===N?f:aA).source+"|"+(bk.evaluate||aA).source+"|$","g");bh.replace(bj,function(bl,bp,bn,bm,bo,bq){bn||(bn=bm);a5+=bh.slice(bd,bq).replace(o,aH);if(bp){a5+="' +\n__e("+bp+") +\n'"}if(bo){bg=true;a5+="';\n"+bo+";\n__p += '"}if(bn){a5+="' +\n((__t = ("+bn+")) == null ? '' : __t) +\n'"}bd=bq+bl.length;return bl});a5+="';\n";var a9=bk.variable,ba=a9;if(!ba){a9="obj";a5="with ("+a9+") {\n"+a5+"\n}\n"}a5=(bg?a5.replace(am,""):a5).replace(ab,"$1").replace(u,"$1;");a5="function("+a9+") {\n"+(ba?"":a9+" || ("+a9+" = {});\n")+"var __t, __p = '', __e = _.escape"+(bg?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+a5+"return __p\n}";var a4="\n/*\n//# sourceURL="+(bk.sourceURL||"/lodash/template/source["+(A++)+"]")+"\n*/";try{var bi=Function(bc,"return "+a5+a4).apply(x,a7)}catch(be){be.source=a5;throw be}if(bb){return bi(bb)}bi.source=a5;return bi}B.assign=aL;B.bind=aO;B.createCallback=n;B.defaults=V;B.filter=E;B.forEach=aF;B.forIn=an;B.forOwn=ad;B.keys=K;B.property=ax;B.reject=ao;B.values=C;B.each=aF;B.extend=aL;B.select=E;B.clone=D;B.cloneDeep=aB;B.escape=aS;B.find=a2;B.identity=X;B.isArguments=e;B.isArray=d;B.isFunction=aJ;B.isObject=F;B.isString=aU;B.noop=aE;B.template=M;B.detect=a2;B.findWhere=a2;B.VERSION="2.4.1";if(v&&Q){if(aY){(Q.exports=B)._=B}else{v._=B}}}.call(this))});require.register("side-comments/js/helpers/mobile-check.js",function(a,b,c){c.exports=function(){var d=false;(function(e){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))){d=true}})(navigator.userAgent||navigator.vendor||window.opera);return d}});require.register("side-comments/templates/section.html",function(a,b,c){c.exports='<div class="side-comment <%= sectionClasses %>">\n  <a href="#" class="marker">\n    <span><%= comments.length %></span>\n  </a>\n  \n  <div class="comments-wrapper">\n    <ul class="comments">\n      <% _.each(comments, function( comment ){ %>\n        <%= _.template(commentTemplate, { comment: comment, currentUser: currentUser }) %>\n      <% }) %>\n    </ul>\n    \n    <a href="#" class="add-comment">Leave a comment</a>\n    \n    <% if (currentUser){ %>\n      <div class="comment-form">\n        <div class="author-avatar">\n          <img src="<%= currentUser.avatarUrl %>">\n        </div>\n        <p class="author-name">\n          <%= currentUser.name %>\n        </p>\n        <div class="comment-box" contenteditable="true" data-placeholder-content="Leave a comment..."></div>\n        <div class="actions">\n          <a href="#" class="action-link post">Post</a>\n          <a href="#" class="action-link cancel">Cancel</a>\n        </div>\n      </div>\n    <% } %>\n  </div>\n</div>'});require.register("side-comments/templates/comment.html",function(a,b,c){c.exports='<li data-comment-id="<%= comment.id %>">\n  <div class="author-avatar">\n    <img src="<%= comment.authorAvatarUrl %>">\n  </div>\n  <p class="author-name">\n    <%= comment.authorName %>\n  </p>\n  <p class="comment">\n    <%= comment.comment %>\n  </p>\n  <% if (currentUser && comment.authorId === currentUser.id){ %>\n  <a href="#" class="action-link delete">Delete</a>\n  <% } %>\n</li>'});require.alias("component-emitter/index.js","side-comments/deps/emitter/index.js");require.alias("component-emitter/index.js","emitter/index.js");require.alias("side-comments/js/main.js","side-comments/index.js");