(function(a){var i,n,$,o,t,s,e=this;if("undefined"!=typeof global&&(e=global),"undefined"!=typeof window&&(e=window),"log"in(i="object"==typeof e.console?e.console:null==e.console?e.console={}:{})||(i.log=function(){}),"warn"in i||(i.warn=i.log),void 0!==this.Opal)return i.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var h=this.Opal={};((h.global=e).Opal=h).config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var l=Object.hasOwnProperty,c=Function.prototype.bind,f=Object.setPrototypeOf,u=Array.prototype.slice,r=4;function p(t,e,r){"string"==typeof t?t[e]=r:Object.defineProperty(t,e,{value:r,enumerable:!1,configurable:!0,writable:!0})}function _(t,e){if(t)return t.$$const[e]}function d(t,e){var r,n,i;if(null!=t)for(r=0,n=(i=h.ancestors(t)).length;r<n;r++)if(i[r].$$const&&l.call(i[r].$$const,e))return i[r].$$const[e]}function m(t,e,r){if(!r)return(t||o).$const_missing(e)}function y(t){return t.hasOwnProperty("$$iclass")&&t.hasOwnProperty("$$root")}function g(t){var e=b(t);return t.$$is_module&&t.$$iclasses.push(e),e}function b(t){var e={},r=t.prototype;r.hasOwnProperty("$$dummy")&&(r=r.$$define_methods_on);var n,i=Object.getOwnPropertyNames(r),$=i.length;for(n=0;n<$;n++){var a=i[n];p(e,a,r[a])}return p(e,"$$iclass",!0),p(e,"$$module",t),e}function v(t){var e=t.length,r=t[0];if(p(r,"$$root",!0),1===e)return{first:r,last:r};for(var n=r,i=1;i<e;i++){var $=t[i];f(n,$),n=$}return{first:t[0],last:t[e-1]}}function x(t){if(!t.hasOwnProperty("$$dummy"))return t.hasOwnProperty("$$iclass")?t.$$module:t.hasOwnProperty("$$class")?t.$$class:void 0}function k(t){return"function"==typeof t&&!t.$$stub}h.uid=function(){return r+=2},h.id=function(t){return t.$$is_number?2*t+1:(null!=t.$$id||p(t,"$$id",h.uid()),t.$$id)},h.gvars={},h.exit=function(t){h.gvars.DEBUG&&i.log("Exited with status "+t)},h.exceptions=[],h.pop_exception=function(){h.gvars["!"]=h.exceptions.pop()||n},h.inspect=function(t){return t===a?"undefined":null===t?"null":t.$$class?t.$inspect():t.toString()},h.defineProperty=p,h.slice=u,h.truthy=function(t){return t!==n&&null!=t&&(!t.$$is_boolean||1==t)},h.falsy=function(t){return t===n||null==t||t.$$is_boolean&&0==t},h.const_get_local=function(t,e,r){var n;if(null!=t){if("::"===t&&(t=o),!t.$$is_module&&!t.$$is_class)throw new h.TypeError(t.toString()+" is not a class/module");return null!=(n=_(t,e))?n:null!=(n=m(t,e,r))?n:void 0}},h.const_get_qualified=function(t,e,r){var n,i,$,a=h.const_cache_version;if(null!=t){if("::"===t&&(t=o),!t.$$is_module&&!t.$$is_class)throw new h.TypeError(t.toString()+" is not a class/module");return null==(i=t.$$const_cache)&&(p(t,"$$const_cache",Object.create(null)),i=t.$$const_cache),null==($=i[e])||$[0]!==a?(null!=(n=_(t,e))||(n=d(t,e)),i[e]=[a,n]):n=$[1],null!=n?n:m(t,e,r)}},h.const_cache_version=1,h.const_get_relative=function(t,e,r){var n,i,$,a=t[0],s=h.const_cache_version;return null==(i=t.$$const_cache)&&(p(t,"$$const_cache",Object.create(null)),i=t.$$const_cache),null==($=i[e])||$[0]!==s?(null!=(n=_(a,e))||null!=(n=function(t,e){var r,n,i;if(0!==t.length)for(r=0,n=t.length;r<n;r++)if(null!=(i=t[r].$$const[e]))return i}(t,e))||null!=(n=d(a,e))||(n=function(t,e){if(null==t||t.$$is_module)return d(o,e)}(a,e)),i[e]=[s,n]):n=$[1],null!=n?n:m(a,e,r)},h.const_set=function(t,e,r){return null!=t&&"::"!==t||(t=o),r.$$is_a_module&&(null!=r.$$name&&r.$$name!==n||(r.$$name=e),null==r.$$base_module&&(r.$$base_module=t)),t.$$const=t.$$const||Object.create(null),t.$$const[e]=r,t.$$=t.$$const,h.const_cache_version++,t===o&&(h[e]=r),p(t,e,r),r},h.constants=function(t,e){null==e&&(e=!0);var r,n,i,$,a=[t],s={};for(e&&(a=a.concat(h.ancestors(t))),e&&t.$$is_module&&(a=a.concat([h.Object]).concat(h.ancestors(h.Object))),n=0,i=a.length;n<i&&(r=a[n],t===o||r!=o);n++)for($ in r.$$const)s[$]=!0;return Object.keys(s)},h.const_remove=function(t,e){if(h.const_cache_version++,null!=t.$$const[e]){var r=t.$$const[e];return delete t.$$const[e],r}if(null!=t.$$autoload&&null!=t.$$autoload[e])return delete t.$$autoload[e],n;throw h.NameError.$new("constant "+t+"::"+t.$name()+" not defined")},h.allocate_class=function(t,r,e){var n=e;return null!=r&&r.$$bridge&&(n=function(){var t=u.call(arguments),e=new(c.apply(r,[null].concat(t)));return f(e,n.prototype),e}),p(n,"$$name",t),p(n,"$$const",{}),p(n,"$$is_class",!0),p(n,"$$is_a_module",!0),p(n,"$$super",r),p(n,"$$cvars",{}),p(n,"$$own_included_modules",[]),p(n,"$$own_prepended_modules",[]),p(n,"$$ancestors",[]),p(n,"$$ancestors_cache_version",null),p(n.prototype,"$$class",n),h.Class&&f(n,h.Class.prototype),null!=r&&(f(n.prototype,r.prototype),r!==h.Module&&r.$$meta&&h.build_class_singleton_class(n)),n},h.klass=function(t,e,r,n){var i;null==t?t=o:t.$$is_class||t.$$is_module||(t=t.$$class),null==e||e.hasOwnProperty("$$is_class")||(i=e,e=o);var $=function(t,e){var r=_(t,e);if(r){if(!r.$$is_class)throw h.TypeError.$new(e+" is not a class");return r}}(t,r);return $?e&&function(t,e){if(t.$$super!==e)throw h.TypeError.$new("superclass mismatch for class "+t.$$name)}($,e):(null==e&&(e=o),i?(h.bridge(i),$=i,h.const_set(t,r,$)):($=h.allocate_class(r,e,n),h.const_set(t,r,$),e.$inherited&&e.$inherited($))),$},h.allocate_module=function(t,e){var r=e;return p(r,"$$name",t),p(r,"$$const",{}),p(r,"$$is_module",!0),p(r,"$$is_a_module",!0),p(r,"$$cvars",{}),p(r,"$$iclasses",[]),p(r,"$$own_included_modules",[]),p(r,"$$own_prepended_modules",[]),p(r,"$$ancestors",[r]),p(r,"$$ancestors_cache_version",null),f(r,h.Module.prototype),r},h.module=function(t,e,r){var n;return null==t?t=o:t.$$is_class||t.$$is_module||(t=t.$$class),(n=function(t,e){var r=_(t,e);if(null==r&&t===o&&(r=d(o,e)),r&&!r.$$is_module&&r!==o)throw h.TypeError.$new(e+" is not a module");return r}(t,e))||(n=h.allocate_module(e,r),h.const_set(t,e,n)),n},h.get_singleton_class=function(t){return t.$$meta?t.$$meta:t.hasOwnProperty("$$is_class")?h.build_class_singleton_class(t):t.hasOwnProperty("$$is_module")?h.build_module_singletin_class(t):h.build_object_singleton_class(t)},h.build_class_singleton_class=function(t){var e,r;return t.$$meta?t.$$meta:(e=t===$?s:h.get_singleton_class(t.$$super),p(r=h.allocate_class(null,e,function(){}),"$$is_singleton",!0),p(r,"$$singleton_of",t),p(t,"$$meta",r),f(t,r.prototype),p(t,"$$class",h.Class),r)},h.build_module_singletin_class=function(t){if(t.$$meta)return t.$$meta;var e=h.allocate_class(null,h.Module,function(){});return p(e,"$$is_singleton",!0),p(e,"$$singleton_of",t),p(t,"$$meta",e),f(t,e.prototype),p(t,"$$class",h.Module),e},h.build_object_singleton_class=function(t){var e=t.$$class,r=h.allocate_class(n,e,function(){});return p(r,"$$is_singleton",!0),p(r,"$$singleton_of",t),delete r.prototype.$$class,p(t,"$$meta",r),f(t,t.$$meta.prototype),r},h.is_method=function(t){return"$"===t[0]&&"$"!==t[1]},h.instance_methods=function(t){for(var e=[],r=[],n=h.ancestors(t),i=0,$=n.length;i<$;i++){var a=n[i].prototype;a.hasOwnProperty("$$dummy")&&(a=a.$$define_methods_on);for(var s=Object.getOwnPropertyNames(a),o=0,l=s.length;o<l;o++){var c=s[o];if(h.is_method(c)){var u=c.slice(1),_=a[c];_.$$stub&&-1===e.indexOf(u)&&e.push(u),_.$$stub||-1!==r.indexOf(u)||-1!==e.indexOf(u)||r.push(u)}}}return r},h.own_instance_methods=function(t){var e=[],r=t.prototype;r.hasOwnProperty("$$dummy")&&(r=r.$$define_methods_on);for(var n=Object.getOwnPropertyNames(r),i=0,$=n.length;i<$;i++){var a=n[i];if(h.is_method(a))if(!r[a].$$stub){var s=a.slice(1);e.push(s)}}return e},h.methods=function(t){return h.instance_methods(h.get_singleton_class(t))},h.own_methods=function(t){return h.own_instance_methods(h.get_singleton_class(t))},h.receiver_methods=function(t){var e=h.get_singleton_class(t),r=h.own_instance_methods(e),n=h.own_instance_methods(e.$$super);return r.concat(n)},h.class_variables=function(t){var e,r=h.ancestors(t),n={};for(e=r.length-1;0<=e;e--){var i=r[e];for(var $ in i.$$cvars)n[$]=i.$$cvars[$]}return n},h.class_variable_set=function(t,e,r){var n,i=h.ancestors(t);for(n=i.length-2;0<=n;n--){var $=i[n];if(l.call($.$$cvars,e))return $.$$cvars[e]=r}return t.$$cvars[e]=r},h.append_features=function(t,e){var r=h.ancestors(t),n=[];if(-1!==r.indexOf(e))throw h.ArgumentError.$new("cyclic include detected");for(var i=0,$=r.length;i<$;i++){var a=g(r[i]);p(a,"$$included",!0),n.push(a)}var s,o,l=h.ancestors(e),c=v(n);if(-1===l.indexOf(t))s=e.prototype,o=Object.getPrototypeOf(e.prototype);else{for(var u=e.prototype,_=Object.getPrototypeOf(u);null!=_&&(!y(_)||_.$$module!==t);)u=_,_=Object.getPrototypeOf(_);for(var d=Object.getPrototypeOf(_);d.hasOwnProperty("$$iclass")&&!y(d);)d=Object.getPrototypeOf(d);s=u,o=d}f(s,c.first),f(c.last,o),e.$$own_included_modules=function(t){for(var e,r=[],n=Object.getPrototypeOf(t.prototype);n&&!n.hasOwnProperty("$$class");)(e=x(n))&&r.push(e),n=Object.getPrototypeOf(n);return r}(e),h.const_cache_version++},h.prepend_features=function(t,e){var r=h.ancestors(t),n=[];if(-1!==r.indexOf(e))throw h.ArgumentError.$new("cyclic prepend detected");for(var i=0,$=r.length;i<$;i++){var a=g(r[i]);p(a,"$$prepended",!0),n.push(a)}var s,o,l,c=v(n),u=e.prototype,_=Object.getPrototypeOf(u);if(u.hasOwnProperty("$$dummy")?s=u.$$define_methods_on:(s=b(e),function(t){for(var e=t.prototype,r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n];h.is_method(i)&&delete e[i]}}(e),p(u,"$$dummy",!0),p(u,"$$define_methods_on",s),f(u,s),f(s,_)),-1!==h.ancestors(e).indexOf(t))throw h.RuntimeError.$new("Prepending a module multiple times is not supported");for(o=u,l=Object.getPrototypeOf(u);null!=l&&!l.hasOwnProperty("$$root")&&l!==s&&l.hasOwnProperty("$$iclass");)l=Object.getPrototypeOf(l);f(o,c.first),f(c.last,l),e.$$own_prepended_modules=function(t){var e,r=[],n=Object.getPrototypeOf(t.prototype);if(t.prototype.hasOwnProperty("$$dummy"))for(;n&&n!==t.prototype.$$define_methods_on;)(e=x(n))&&r.push(e),n=Object.getPrototypeOf(n);return r}(e),h.const_cache_version++},h.bridge=function(t,e){if(t.hasOwnProperty("$$bridge"))throw h.ArgumentError.$new("already bridged");var r,n;n=null==e?(r=h.Object,t):r=e,f(t.prototype,r.prototype),p(t.prototype,"$$class",n),p(t,"$$bridge",!0),p(t,"$$is_class",!0),p(t,"$$is_a_module",!0),p(t,"$$super",r),p(t,"$$const",{}),p(t,"$$own_included_modules",[]),p(t,"$$own_prepended_modules",[]),p(t,"$$ancestors",[]),p(t,"$$ancestors_cache_version",null),f(t,h.Class.prototype)},h.ancestors=function(t){if(!t)return[];if(t.$$ancestors_cache_version===h.const_cache_version)return t.$$ancestors;var e,r,n,i,$=[];for(e=0,n=(r=(i=t).$$own_prepended_modules.concat([i]).concat(i.$$own_included_modules)).length;e<n;e++)$.push(r[e]);if(t.$$super)for(e=0,n=(r=h.ancestors(t.$$super)).length;e<n;e++)$.push(r[e]);return t.$$ancestors_cache_version=h.const_cache_version,t.$$ancestors=$},h.included_modules=function(t){for(var e=[],r=null,n=Object.getPrototypeOf(t.prototype);n&&Object.getPrototypeOf(n);n=Object.getPrototypeOf(n))(r=x(n))&&r.$$is_module&&n.$$iclass&&n.$$included&&e.push(r);return e},h.add_stubs=function(t){for(var e=h.BasicObject.prototype,r=0,n=t.length;r<n;r++){var i=t[r],$=e[i];(null==$||$.$$stub)&&h.add_stub_for(e,i)}},h.add_stub_for=function(t,e){p(t,e,h.stub_for(e))},h.stub_for=function(n){function i(){this.$method_missing.$$p=i.$$p,i.$$p=null;for(var t=new Array(arguments.length),e=0,r=t.length;e<r;e++)t[e]=arguments[e];return this.$method_missing.apply(this,[n.slice(1)].concat(t))}return i.$$stub=!0,i},h.ac=function(t,e,r,n){var i="";throw r.$$is_a_module?i+=r.$$name+".":i+=r.$$class.$$name+"#",i+=n,h.ArgumentError.$new("["+i+"] wrong number of arguments("+t+" for "+e+")")},h.block_ac=function(t,e,r){var n="`block in "+r+"'";throw h.ArgumentError.$new(n+": wrong number of arguments ("+t+" for "+e+")")},h.find_super_dispatcher=function(t,e,r,n,i){for(var $,a,s="$"+e,o=($=t.hasOwnProperty("$$meta")?h.ancestors(t.$$meta):h.ancestors(t.$$class)).indexOf(r.$$owner)+1;o<$.length;o++){var l=$[o].prototype;if(l.hasOwnProperty("$$dummy")&&(l=l.$$define_methods_on),l.hasOwnProperty(s)){var c=l[s];c.$$stub||(a=c);break}}if(!n&&null==a&&h.Kernel.$method_missing===t.$method_missing)throw h.NoMethodError.$new("super: no superclass method `"+e+"' for "+t,e);return a},h.find_iter_super_dispatcher=function(t,e,r,n,i){var $=e;if(!r)throw h.RuntimeError.$new("super called outside of method");if(i&&r.$$define_meth)throw h.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return r.$$def&&($=r.$$jsid),h.find_super_dispatcher(t,$,r,n)},h.ret=function(t){throw h.returner.$v=t,h.returner},h.brk=function(t,e){throw e.$v=t,e},h.new_brk=function(){return new Error("unexpected break")},h.yield1=function(t,e){if("function"!=typeof t)throw h.LocalJumpError.$new("no block given");var r=t.$$has_top_level_mlhs_arg,n=t.$$has_trailing_comma_in_args;return(1<t.length||(r||n)&&1===t.length)&&(e=h.to_ary(e)),(1<t.length||n&&1===t.length)&&e.$$is_array?t.apply(null,e):t(e)},h.yieldX=function(t,e){if("function"!=typeof t)throw h.LocalJumpError.$new("no block given");if(1<t.length&&1===e.length&&e[0].$$is_array)return t.apply(null,e[0]);if(e.$$is_array)return t.apply(null,e);for(var r=new Array(e.length),n=0,i=r.length;n<i;n++)r[n]=e[n];return t.apply(null,r)},h.rescue=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];if(n.$$is_array){var i=h.rescue(t,n);if(i)return i}else{if(n===h.JS.Error)return n;if(n["$==="](t))return n}}return null},h.is_a=function(t,e){if(null!=e&&t.$$meta===e||t.$$class===e)return!0;if(t.$$is_number&&e.$$is_number_class)return!0;var r,n,i=h.ancestors(t.$$is_class?h.get_singleton_class(t):t.$$meta||t.$$class);for(r=0,n=i.length;r<n;r++)if(i[r]===e)return!0;return!1},h.to_hash=function(t){if(t.$$is_hash)return t;if(t["$respond_to?"]("to_hash",!0)){var e=t.$to_hash();if(e.$$is_hash)return e;throw h.TypeError.$new("Can't convert "+t.$$class+" to Hash ("+t.$$class+"#to_hash gives "+e.$$class+")")}throw h.TypeError.$new("no implicit conversion of "+t.$$class+" into Hash")},h.to_ary=function(t){if(t.$$is_array)return t;if(t["$respond_to?"]("to_ary",!0)){var e=t.$to_ary();if(e===n)return[t];if(e.$$is_array)return e;throw h.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_ary gives "+e.$$class+")")}return[t]},h.to_a=function(t){if(t.$$is_array)return t.slice();if(t["$respond_to?"]("to_a",!0)){var e=t.$to_a();if(e===n)return[t];if(e.$$is_array)return e;throw h.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_a gives "+e.$$class+")")}return[t]},h.extract_kwargs=function(t){var e=t[t.length-1];return null!=e&&e["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(t,t.length-1,1),e.$to_hash()):h.hash2([],{})},h.kwrestargs=function(t,e){var r=[],n={},i=null,$=t.$$smap;for(i in $)e[i]||(r.push(i),n[i]=$[i]);return h.hash2(r,n)},h.send=function(t,e,r,n){var i="string"==typeof e?t["$"+e]:e;return null!=i?("function"==typeof n&&(i.$$p=n),i.apply(t,r)):t.$method_missing.apply(t,[e].concat(r))},h.lambda=function(t){return t.$$is_lambda=!0,t},h.def=function(t,e,r){t===h.top?h.defn(h.Object,e,r):!t.$$eval&&t.$$is_a_module?h.defn(t,e,r):h.defs(t,e,r)},h.defn=function(t,e,r){var n=(r.$$owner=t).prototype;if(n.hasOwnProperty("$$dummy")&&(n=n.$$define_methods_on),p(n,e,r),t.$$is_module){t.$$module_function&&h.defs(t,e,r);for(var i=0,$=t.$$iclasses,a=$.length;i<a;i++){p($[i],e,r)}}var s=t.$$singleton_of;!t.$method_added||t.$method_added.$$stub||s?s&&s.$singleton_method_added&&!s.$singleton_method_added.$$stub&&s.$singleton_method_added(e.substr(1)):t.$method_added(e.substr(1))},h.defs=function(t,e,r){t.$$is_string||t.$$is_number||h.defn(h.get_singleton_class(t),e,r)},h.rdef=function(t,e){if(!l.call(t.prototype,e))throw h.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());delete t.prototype[e],t.$$is_singleton?t.prototype.$singleton_method_removed&&!t.prototype.$singleton_method_removed.$$stub&&t.prototype.$singleton_method_removed(e.substr(1)):t.$method_removed&&!t.$method_removed.$$stub&&t.$method_removed(e.substr(1))},h.udef=function(t,e){if(!t.prototype[e]||t.prototype[e].$$stub)throw h.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());h.add_stub_for(t.prototype,e),t.$$is_singleton?t.prototype.$singleton_method_undefined&&!t.prototype.$singleton_method_undefined.$$stub&&t.prototype.$singleton_method_undefined(e.substr(1)):t.$method_undefined&&!t.$method_undefined.$$stub&&t.$method_undefined(e.substr(1))},h.alias=function(t,e,r){var i,n="$"+e,$="$"+r,a=t.prototype["$"+r];if(t.$$eval)return h.alias(h.get_singleton_class(t),e,r);if(!k(a)){for(var s=t.$$super;"function"!=typeof a&&s;)a=s[$],s=s.$$super;if(!k(a)&&t.$$is_module&&(a=h.Object.prototype[$]),!k(a))throw h.NameError.$new("undefined method `"+r+"' for class `"+t.$name()+"'")}return a.$$alias_of&&(a=a.$$alias_of),(i=function(){var t,e,r,n=i.$$p;for(t=new Array(arguments.length),e=0,r=arguments.length;e<r;e++)t[e]=arguments[e];return null!=n&&(i.$$p=null),h.send(this,a,t,n)}).displayName=e,i.length=a.length,i.$$arity=a.$$arity,i.$$parameters=a.$$parameters,i.$$source_location=a.$$source_location,i.$$alias_of=a,i.$$alias_name=e,h.defn(t,n,i),t},h.alias_native=function(t,e,r){var n="$"+e,i=t.prototype[r];if("function"!=typeof i||i.$$stub)throw h.NameError.$new("undefined native method `"+r+"' for class `"+t.$name()+"'");return h.defn(t,n,i),t},h.hash_init=function(t){t.$$smap=Object.create(null),t.$$map=Object.create(null),t.$$keys=[]},h.hash_clone=function(t,e){e.$$none=t.$$none,e.$$proc=t.$$proc;for(var r,n,i=0,$=t.$$keys,a=t.$$smap,s=$.length;i<s;i++)(r=$[i]).$$is_string?n=a[r]:(n=r.value,r=r.key),h.hash_put(e,r,n)},h.hash_put=function(t,e,r){if(e.$$is_string)return l.call(t.$$smap,e)||t.$$keys.push(e),void(t.$$smap[e]=r);var n,i,$;if(n=t.$$by_identity?h.id(e):e.$hash(),!l.call(t.$$map,n))return i={key:e,key_hash:n,value:r},t.$$keys.push(i),void(t.$$map[n]=i);for(i=t.$$map[n];i;){if(e===i.key||e["$eql?"](i.key)){$=a,i.value=r;break}i=($=i).next}$&&(i={key:e,key_hash:n,value:r},t.$$keys.push(i),$.next=i)},h.hash_get=function(t,e){if(e.$$is_string)return l.call(t.$$smap,e)?t.$$smap[e]:void 0;var r,n;if(r=t.$$by_identity?h.id(e):e.$hash(),l.call(t.$$map,r))for(n=t.$$map[r];n;){if(e===n.key||e["$eql?"](n.key))return n.value;n=n.next}},h.hash_delete=function(t,e){var r,n,i=t.$$keys,$=i.length;if(e.$$is_string){if(!l.call(t.$$smap,e))return;for(r=0;r<$;r++)if(i[r]===e){i.splice(r,1);break}return n=t.$$smap[e],delete t.$$smap[e],n}var a=e.$hash();if(l.call(t.$$map,a))for(var s,o=t.$$map[a];o;){if(e===o.key||e["$eql?"](o.key)){for(n=o.value,r=0;r<$;r++)if(i[r]===o){i.splice(r,1);break}return s&&o.next?s.next=o.next:s?delete s.next:o.next?t.$$map[a]=o.next:delete t.$$map[a],n}o=(s=o).next}},h.hash_rehash=function(t){for(var e,r,n,i=0,$=t.$$keys.length;i<$;i++)if(!t.$$keys[i].$$is_string&&(e=t.$$keys[i].key.$hash())!==t.$$keys[i].key_hash){for(r=t.$$map[t.$$keys[i].key_hash],n=a;r;){if(r===t.$$keys[i]){n&&r.next?n.next=r.next:n?delete n.next:r.next?t.$$map[t.$$keys[i].key_hash]=r.next:delete t.$$map[t.$$keys[i].key_hash];break}r=(n=r).next}if(t.$$keys[i].key_hash=e,l.call(t.$$map,e)){for(r=t.$$map[e],n=a;r;){if(r===t.$$keys[i]){n=a;break}r=(n=r).next}n&&(n.next=t.$$keys[i])}else t.$$map[e]=t.$$keys[i]}},h.hash=function(){var t,e,r,n,i,$,a=arguments.length;if(1===a&&arguments[0].$$is_hash)return arguments[0];if(e=new h.Hash,h.hash_init(e),1===a&&arguments[0].$$is_array){for(n=(t=arguments[0]).length,r=0;r<n;r++){if(2!==t[r].length)throw h.ArgumentError.$new("value not of length 2: "+t[r].$inspect());i=t[r][0],$=t[r][1],h.hash_put(e,i,$)}return e}if(1===a){for(i in t=arguments[0])l.call(t,i)&&($=t[i],h.hash_put(e,i,$));return e}if(a%2!=0)throw h.ArgumentError.$new("odd number of arguments for Hash");for(r=0;r<a;r+=2)i=arguments[r],$=arguments[r+1],h.hash_put(e,i,$);return e},h.hash2=function(t,e){var r=new h.Hash;return r.$$smap=e,r.$$map=Object.create(null),r.$$keys=t,r},h.range=function(t,e,r){var n=new h.Range;return n.begin=t,n.end=e,n.excl=r,n},h.ivar=function(t){return"constructor"===t||"displayName"===t||"__count__"===t||"__noSuchMethod__"===t||"__parent__"===t||"__proto__"===t||"hasOwnProperty"===t||"valueOf"===t?t+"$":t},h.escape_regexp=function(t){return t.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},h.global_regexp=function(t){return t.global?t:(null==t.$$g?t.$$g=new RegExp(t.source,(t.multiline?"gm":"g")+(t.ignoreCase?"i":"")):t.$$g.lastIndex=null,t.$$g)},h.global_multiline_regexp=function(t){var e;if(t.multiline){if(t.global)return t;e=null!=t.$$g?t.$$g:t.$$g=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""))}else e=null!=t.$$gm?t.$$gm:t.$$gm=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));return e.lastIndex=null,e},h.modules={},h.loaded_features=["corelib/runtime"],h.current_dir=".",h.require_table={"corelib/runtime":!0},h.normalize=function(t){var e,r,n=[];"."!==h.current_dir&&(t=h.current_dir.replace(/\/*$/,"/")+t);for(var i=0,$=(e=(t=(t=t.replace(/^\.\//,"")).replace(/\.(rb|opal|js)$/,"")).split("/")).length;i<$;i++)""!==(r=e[i])&&(".."===r?n.pop():n.push(r));return n.join("/")},h.loaded=function(t){var e,r,n;for(e=0,r=t.length;e<r;e++)n=h.normalize(t[e]),h.require_table[n]||(h.loaded_features.push(n),h.require_table[n]=!0)},h.load=function(t){t=h.normalize(t),h.loaded([t]);var e=h.modules[t];if(e)e(h);else{var r=h.config.missing_require_severity,n="cannot load such file -- "+t;if("error"===r)throw h.LoadError?h.LoadError.$new(n):n;"warning"===r&&i.warn("WARNING: LoadError: "+n)}return!0},h.require=function(t){return t=h.normalize(t),!h.require_table[t]&&h.load(t)},h.BasicObject=$=h.allocate_class("BasicObject",null,function(){}),h.Object=o=h.allocate_class("Object",h.BasicObject,function(){}),h.Module=t=h.allocate_class("Module",h.Object,function(){}),h.Class=s=h.allocate_class("Class",h.Module,function(){}),f(h.BasicObject,h.Class.prototype),f(h.Object,h.Class.prototype),f(h.Module,h.Class.prototype),f(h.Class,h.Class.prototype),$.$$const.BasicObject=$,h.const_set(o,"BasicObject",$),h.const_set(o,"Object",o),h.const_set(o,"Module",t),h.const_set(o,"Class",s),$.$$class=s,o.$$class=s,(t.$$class=s).$$class=s,p(o.prototype,"toString",function(){var t=this.$to_s();return t.$$is_string&&"object"==typeof t?t.valueOf():t}),p(o.prototype,"$require",h.require),h.$$=o.$$,h.top=new o,h.top.$to_s=h.top.$inspect=function(){return"main"},h.NilClass=h.allocate_class("NilClass",h.Object,function(){}),h.const_set(o,"NilClass",h.NilClass),(n=h.nil=new h.NilClass).$$id=4,n.call=n.apply=function(){throw h.LocalJumpError.$new("no block given")},h.breaker=new Error("unexpected break (old)"),h.returner=new Error("unexpected return"),TypeError.$$super=Error}).call(this),Opal.loaded(["corelib/runtime.js"]),Opal.modules["corelib/helpers"]=function(g){g.top;var b=[],v=g.nil,x=(g.const_get_qualified,g.const_get_relative),k=(g.breaker,g.slice,g.module),w=g.truthy;return g.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$coerce_to!","$!=","$[]","$upcase"]),function(t,e){function r(){}var n,i,$,a,s,o,l,c,u,_,d,h,f,p,m=r=k(b[0],"Opal",r),y=(m.prototype,[m].concat(e));g.defs(m,"$bridge",n=function(t,e){return g.bridge(t,e)},n.$$arity=2),g.defs(m,"$type_error",i=function(t,e,r,n){var i;return null==r&&(r=v),null==n&&(n=v),w(w(i=r)?n:i)?x(y,"TypeError").$new("can't convert "+t.$class()+" into "+e+" ("+t.$class()+"#"+r+" gives "+n.$class()+")"):x(y,"TypeError").$new("no implicit conversion of "+t.$class()+" into "+e)},i.$$arity=-3),g.defs(m,"$coerce_to",$=function(t,e,r){return w(e["$==="](t))?t:(w(t["$respond_to?"](r))||this.$raise(this.$type_error(t,e)),t.$__send__(r))},$.$$arity=3),g.defs(m,"$coerce_to!",a=function(t,e,r){var n;return n=this.$coerce_to(t,e,r),w(e["$==="](n))||this.$raise(this.$type_error(t,e,r,n)),n},a.$$arity=3),g.defs(m,"$coerce_to?",s=function(t,e,r){var n=v;return w(t["$respond_to?"](r))?(n=this.$coerce_to(t,e,r),w(n["$nil?"]())?v:(w(e["$==="](n))||this.$raise(this.$type_error(t,e,r,n)),n)):v},s.$$arity=3),g.defs(m,"$try_convert",o=function(t,e,r){return w(e["$==="](t))?t:w(t["$respond_to?"](r))?t.$__send__(r):v},o.$$arity=3),g.defs(m,"$compare",l=function(t,e){var r;return r=t["$<=>"](e),w(r===v)&&this.$raise(x(y,"ArgumentError"),"comparison of "+t.$class()+" with "+e.$class()+" failed"),r},l.$$arity=2),g.defs(m,"$destructure",c=function(t){if(1==t.length)return t[0];if(t.$$is_array)return t;for(var e=new Array(t.length),r=0,n=e.length;r<n;r++)e[r]=t[r];return e},c.$$arity=1),g.defs(m,"$respond_to?",u=function(t,e,r){return null==r&&(r=!1),!(null==t||!t.$$class)&&t["$respond_to?"](e,r)},u.$$arity=-3),g.defs(m,"$inspect_obj",_=function(t){return g.inspect(t)},_.$$arity=1),g.defs(m,"$instance_variable_name!",d=function(t){return t=x(y,"Opal")["$coerce_to!"](t,x(y,"String"),"to_str"),w(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(t))||this.$raise(x(y,"NameError").$new("'"+t+"' is not allowed as an instance variable name",t)),t},d.$$arity=1),g.defs(m,"$class_variable_name!",h=function(t){return t=x(y,"Opal")["$coerce_to!"](t,x(y,"String"),"to_str"),w(t.length<3||"@@"!==t.slice(0,2))&&this.$raise(x(y,"NameError").$new("`"+t+"' is not allowed as a class variable name",t)),t},h.$$arity=1),g.defs(m,"$const_name!",f=function(t){return t=x(y,"Opal")["$coerce_to!"](t,x(y,"String"),"to_str"),w(t["$[]"](0)["$!="](t["$[]"](0).$upcase()))&&this.$raise(x(y,"NameError"),"wrong constant name "+t),t},f.$$arity=1),g.defs(m,"$pristine",p=function(t,e){for(var r,n,i,$=(r=g.slice.call(arguments,1,arguments.length)).length-1;0<=$;$--)n=r[$],(i=t.prototype["$"+n])&&!i.$$stub&&(i.$$pristine=!0);return v},p.$$arity=-2)}(0,b)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $rb_gt(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$send=Opal.send,$truthy=Opal.truthy,$lambda=Opal.lambda,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$module_eval","$to_proc","$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$class_variable_name!","$new","$const_name!","$=~","$inject","$split","$const_get","$==","$!~","$start_with?","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$any?","$prepend_features","$prepended","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$parent_nesting){function $Module(){}var self=$Module=$klass($base,$super,"Module",$Module),def=self.prototype,$nesting=[self].concat($parent_nesting),TMP_Module_allocate_1,TMP_Module_inherited_2,TMP_Module_initialize_3,TMP_Module_$eq$eq$eq_4,TMP_Module_$lt_5,TMP_Module_$lt$eq_6,TMP_Module_$gt_7,TMP_Module_$gt$eq_8,TMP_Module_$lt$eq$gt_9,TMP_Module_alias_method_10,TMP_Module_alias_native_11,TMP_Module_ancestors_12,TMP_Module_append_features_13,TMP_Module_attr_accessor_14,TMP_Module_attr_reader_15,TMP_Module_attr_writer_16,TMP_Module_autoload_17,TMP_Module_class_variables_18,TMP_Module_class_variable_get_19,TMP_Module_class_variable_set_20,TMP_Module_class_variable_defined$q_21,TMP_Module_remove_class_variable_22,TMP_Module_constants_23,TMP_Module_constants_24,TMP_Module_nesting_25,TMP_Module_const_defined$q_26,TMP_Module_const_get_27,TMP_Module_const_missing_29,TMP_Module_const_set_30,TMP_Module_public_constant_31,TMP_Module_define_method_32,TMP_Module_remove_method_34,TMP_Module_singleton_class$q_35,TMP_Module_include_36,TMP_Module_included_modules_37,TMP_Module_include$q_38,TMP_Module_instance_method_39,TMP_Module_instance_methods_40,TMP_Module_included_41,TMP_Module_extended_42,TMP_Module_extend_object_43,TMP_Module_method_added_44,TMP_Module_method_removed_45,TMP_Module_method_undefined_46,TMP_Module_module_eval_47,TMP_Module_module_exec_49,TMP_Module_method_defined$q_50,TMP_Module_module_function_51,TMP_Module_name_52,TMP_Module_prepend_53,TMP_Module_prepend_features_54,TMP_Module_prepended_55,TMP_Module_remove_const_56,TMP_Module_to_s_57,TMP_Module_undef_method_58,TMP_Module_instance_variables_59,TMP_Module_dup_60,TMP_Module_copy_class_variables_61,TMP_Module_copy_constants_62;return Opal.defs(self,"$allocate",TMP_Module_allocate_1=function(){return Opal.allocate_module(nil,function(){})},TMP_Module_allocate_1.$$arity=0),Opal.defs(self,"$inherited",TMP_Module_inherited_2=function(e){e.$allocate=function(){var t=Opal.allocate_module(nil,function(){});return Object.setPrototypeOf(t,e.prototype),t}},TMP_Module_inherited_2.$$arity=1),Opal.def(self,"$initialize",TMP_Module_initialize_3=function(){var t=TMP_Module_initialize_3.$$p,e=t||nil;return t&&(TMP_Module_initialize_3.$$p=null),t&&(TMP_Module_initialize_3.$$p=null),e!==nil?$send(this,"module_eval",[],e.$to_proc()):nil},TMP_Module_initialize_3.$$arity=0),Opal.def(self,"$===",TMP_Module_$eq$eq$eq_4=function(t){return!$truthy(null==t)&&Opal.is_a(t,this)},TMP_Module_$eq$eq$eq_4.$$arity=1),Opal.def(self,"$<",TMP_Module_$lt_5=function(t){$truthy($$($nesting,"Module")["$==="](t))||this.$raise($$($nesting,"TypeError"),"compared with non class/module");var e,r,n;if(this===t)return!1;for(r=0,n=(e=Opal.ancestors(this)).length;r<n;r++)if(e[r]===t)return!0;for(r=0,n=(e=Opal.ancestors(t)).length;r<n;r++)if(e[r]===this)return!1;return nil},TMP_Module_$lt_5.$$arity=1),Opal.def(self,"$<=",TMP_Module_$lt$eq_6=function(t){var e;return $truthy(e=this["$equal?"](t))?e:$rb_lt(this,t)},TMP_Module_$lt$eq_6.$$arity=1),Opal.def(self,"$>",TMP_Module_$gt_7=function(t){return $truthy($$($nesting,"Module")["$==="](t))||this.$raise($$($nesting,"TypeError"),"compared with non class/module"),$rb_lt(t,this)},TMP_Module_$gt_7.$$arity=1),Opal.def(self,"$>=",TMP_Module_$gt$eq_8=function(t){var e;return $truthy(e=this["$equal?"](t))?e:$rb_gt(this,t)},TMP_Module_$gt$eq_8.$$arity=1),Opal.def(self,"$<=>",TMP_Module_$lt$eq$gt_9=function(t){var e=nil;return this===t?0:$truthy($$($nesting,"Module")["$==="](t))?(e=$rb_lt(this,t),$truthy(e["$nil?"]())?nil:$truthy(e)?-1:1):nil},TMP_Module_$lt$eq$gt_9.$$arity=1),Opal.def(self,"$alias_method",TMP_Module_alias_method_10=function(t,e){return Opal.alias(this,t,e),this},TMP_Module_alias_method_10.$$arity=2),Opal.def(self,"$alias_native",TMP_Module_alias_native_11=function(t,e){return null==e&&(e=t),Opal.alias_native(this,t,e),this},TMP_Module_alias_native_11.$$arity=-2),Opal.def(self,"$ancestors",TMP_Module_ancestors_12=function(){return Opal.ancestors(this)},TMP_Module_ancestors_12.$$arity=0),Opal.def(self,"$append_features",TMP_Module_append_features_13=function(t){return Opal.append_features(this,t),this},TMP_Module_append_features_13.$$arity=1),Opal.def(self,"$attr_accessor",TMP_Module_attr_accessor_14=function(t){var e;return e=Opal.slice.call(arguments,0,arguments.length),$send(this,"attr_reader",Opal.to_a(e)),$send(this,"attr_writer",Opal.to_a(e))},TMP_Module_attr_accessor_14.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.def(self,"$attr_reader",TMP_Module_attr_reader_15=function(t){var e;e=Opal.slice.call(arguments,0,arguments.length);for(var r=this.prototype,n=e.length-1;0<=n;n--){var i=e[n],$="$"+i,a=Opal.ivar(i),s=function(t){return function(){return null==this[t]?nil:this[t]}}(a);Opal.defineProperty(r,a,nil),s.$$parameters=[],s.$$arity=0,Opal.defn(this,$,s)}return nil},TMP_Module_attr_reader_15.$$arity=-1),Opal.def(self,"$attr_writer",TMP_Module_attr_writer_16=function(t){var e;e=Opal.slice.call(arguments,0,arguments.length);for(var r=this.prototype,n=e.length-1;0<=n;n--){var i=e[n],$="$"+i+"=",a=Opal.ivar(i),s=function(e){return function(t){return this[e]=t}}(a);s.$$parameters=[["req"]],s.$$arity=1,Opal.defineProperty(r,a,nil),Opal.defn(this,$,s)}return nil},TMP_Module_attr_writer_16.$$arity=-1),Opal.def(self,"$autoload",TMP_Module_autoload_17=function(t,e){return null==this.$$autoload&&(this.$$autoload={}),Opal.const_cache_version++,this.$$autoload[t]=e,nil},TMP_Module_autoload_17.$$arity=2),Opal.def(self,"$class_variables",TMP_Module_class_variables_18=function(){return Object.keys(Opal.class_variables(this))},TMP_Module_class_variables_18.$$arity=0),Opal.def(self,"$class_variable_get",TMP_Module_class_variable_get_19=function(t){t=$$($nesting,"Opal")["$class_variable_name!"](t);var e=Opal.class_variables(this)[t];return null==e&&this.$raise($$($nesting,"NameError").$new("uninitialized class variable "+t+" in "+this,t)),e},TMP_Module_class_variable_get_19.$$arity=1),Opal.def(self,"$class_variable_set",TMP_Module_class_variable_set_20=function(t,e){return t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variable_set(this,t,e)},TMP_Module_class_variable_set_20.$$arity=2),Opal.def(self,"$class_variable_defined?",TMP_Module_class_variable_defined$q_21=function(t){return t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.class_variables(this).hasOwnProperty(t)},TMP_Module_class_variable_defined$q_21.$$arity=1),Opal.def(self,"$remove_class_variable",TMP_Module_remove_class_variable_22=function(t){var e=this;if(t=$$($nesting,"Opal")["$class_variable_name!"](t),Opal.hasOwnProperty.call(e.$$cvars,t)){var r=e.$$cvars[t];return delete e.$$cvars[t],r}e.$raise($$($nesting,"NameError"),"cannot remove "+t+" for "+e)},TMP_Module_remove_class_variable_22.$$arity=1),Opal.def(self,"$constants",TMP_Module_constants_23=function(t){return null==t&&(t=!0),Opal.constants(this,t)},TMP_Module_constants_23.$$arity=-1),Opal.defs(self,"$constants",TMP_Module_constants_24=function(t){if(null!=t)return Opal.constants(this,t);var e,r,n,i=(this.$$nesting||[]).concat(Opal.Object),$={};for(r=0,n=i.length;r<n;r++)for(e in i[r].$$const)$[e]=!0;return Object.keys($)},TMP_Module_constants_24.$$arity=-1),Opal.defs(self,"$nesting",TMP_Module_nesting_25=function(){return this.$$nesting||[]},TMP_Module_nesting_25.$$arity=0),Opal.def(self,"$const_defined?",TMP_Module_const_defined$q_26=function(t,e){null==e&&(e=!0),t=$$($nesting,"Opal")["$const_name!"](t),$truthy(t["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||this.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t));var r,n,i=[this];for(e&&(i=i.concat(Opal.ancestors(this)),this.$$is_module&&(i=i.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object)))),r=0,n=i.length;r<n;r++)if(null!=i[r].$$const[t])return!0;return!1},TMP_Module_const_defined$q_26.$$arity=-2),Opal.def(self,"$const_get",TMP_Module_const_get_27=function(t,e){var r,n=this;return null==e&&(e=!0),0===(t=$$($nesting,"Opal")["$const_name!"](t)).indexOf("::")&&"::"!==t&&(t=t.slice(2)),$truthy(-1!=t.indexOf("::")&&"::"!=t)?$send(t.$split("::"),"inject",[n],((r=function(t,e){r.$$s;return null==t&&(t=nil),null==e&&(e=nil),t.$const_get(e)}).$$s=n,r.$$arity=2,r)):($truthy(t["$=~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))||n.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t)),e?$$([n],t):Opal.const_get_local(n,t))},TMP_Module_const_get_27.$$arity=-2),Opal.def(self,"$const_missing",TMP_Module_const_missing_29=function(t){var e,r=this;if(r.$$autoload){var n=r.$$autoload[t];if(n)return r.$require(n),r.$const_get(t)}return e=r["$=="]($$($nesting,"Object"))?t:r+"::"+t,r.$raise($$($nesting,"NameError").$new("uninitialized constant "+e,t))},TMP_Module_const_missing_29.$$arity=1),Opal.def(self,"$const_set",TMP_Module_const_set_30=function(t,e){var r;return t=$$($nesting,"Opal")["$const_name!"](t),$truthy($truthy(r=t["$!~"]($$$($$($nesting,"Opal"),"CONST_NAME_REGEXP")))?r:t["$start_with?"]("::"))&&this.$raise($$($nesting,"NameError").$new("wrong constant name "+t,t)),Opal.const_set(this,t,e),e},TMP_Module_const_set_30.$$arity=2),Opal.def(self,"$public_constant",TMP_Module_public_constant_31=function(t){return nil},TMP_Module_public_constant_31.$$arity=1),Opal.def(self,"$define_method",TMP_Module_define_method_32=function(t,i){var e,$,r=TMP_Module_define_method_32.$$p,n=r||nil,a=this,s=nil;r&&(TMP_Module_define_method_32.$$p=null),r&&(TMP_Module_define_method_32.$$p=null),$truthy(void 0===i&&n===nil)&&a.$raise($$($nesting,"ArgumentError"),"tried to create a Proc object without a block");var o="$"+t;return(n=$truthy(e=n)?e:(s=i,$$($nesting,"Proc")["$==="](s)?i:$$($nesting,"Method")["$==="](s)?i.$to_proc().$$unbound:$$($nesting,"UnboundMethod")["$==="](s)?$lambda((($=function(t){var e,r,n=$.$$s||this;return e=Opal.slice.call(arguments,0,arguments.length),r=i.$bind(n),$send(r,"call",Opal.to_a(e))}).$$s=a,$.$$arity=-1,$)):a.$raise($$($nesting,"TypeError"),"wrong argument type "+n.$class()+" (expected Proc/Method)"))).$$jsid=t,n.$$s=null,(n.$$def=n).$$define_meth=!0,Opal.defn(a,o,n),t},TMP_Module_define_method_32.$$arity=-2),Opal.def(self,"$remove_method",TMP_Module_remove_method_34=function(t){for(var e,r=0,n=(e=Opal.slice.call(arguments,0,arguments.length)).length;r<n;r++)Opal.rdef(this,"$"+e[r]);return this},TMP_Module_remove_method_34.$$arity=-1),Opal.def(self,"$singleton_class?",TMP_Module_singleton_class$q_35=function(){return!!this.$$is_singleton},TMP_Module_singleton_class$q_35.$$arity=0),Opal.def(self,"$include",TMP_Module_include_36=function(t){for(var e,r=(e=Opal.slice.call(arguments,0,arguments.length)).length-1;0<=r;r--){var n=e[r];n.$$is_module||this.$raise($$($nesting,"TypeError"),"wrong argument type "+n.$class()+" (expected Module)"),n.$append_features(this),n.$included(this)}return this},TMP_Module_include_36.$$arity=-1),Opal.def(self,"$included_modules",TMP_Module_included_modules_37=function(){return Opal.included_modules(this)},TMP_Module_included_modules_37.$$arity=0),Opal.def(self,"$include?",TMP_Module_include$q_38=function(t){t.$$is_module||this.$raise($$($nesting,"TypeError"),"wrong argument type "+t.$class()+" (expected Module)");var e,r,n,i=Opal.ancestors(this);for(e=0,r=i.length;e<r;e++)if((n=i[e])===t&&n!==this)return!0;return!1},TMP_Module_include$q_38.$$arity=1),Opal.def(self,"$instance_method",TMP_Module_instance_method_39=function(t){var e=this,r=e.prototype["$"+t];return r&&!r.$$stub||e.$raise($$($nesting,"NameError").$new("undefined method `"+t+"' for class `"+e.$name()+"'",t)),$$($nesting,"UnboundMethod").$new(e,r.$$owner||e,r,t)},TMP_Module_instance_method_39.$$arity=1),Opal.def(self,"$instance_methods",TMP_Module_instance_methods_40=function(t){return null==t&&(t=!0),$truthy(t)?Opal.instance_methods(this):Opal.own_instance_methods(this)},TMP_Module_instance_methods_40.$$arity=-1),Opal.def(self,"$included",TMP_Module_included_41=function(t){return nil},TMP_Module_included_41.$$arity=1),Opal.def(self,"$extended",TMP_Module_extended_42=function(t){return nil},TMP_Module_extended_42.$$arity=1),Opal.def(self,"$extend_object",TMP_Module_extend_object_43=function(t){return nil},TMP_Module_extend_object_43.$$arity=1),Opal.def(self,"$method_added",TMP_Module_method_added_44=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},TMP_Module_method_added_44.$$arity=-1),Opal.def(self,"$method_removed",TMP_Module_method_removed_45=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},TMP_Module_method_removed_45.$$arity=-1),Opal.def(self,"$method_undefined",TMP_Module_method_undefined_46=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},TMP_Module_method_undefined_46.$$arity=-1),Opal.def(self,"$module_eval",TMP_Module_module_eval_47=function $$module_eval($a){var $iter=TMP_Module_module_eval_47.$$p,block=$iter||nil,$post_args,args,$b,TMP_48,self=this,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil;$iter&&(TMP_Module_module_eval_47.$$p=null),$iter&&(TMP_Module_module_eval_47.$$p=null),$post_args=Opal.slice.call(arguments,0,arguments.length),args=$post_args,$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$($nesting,"Opal").$compile(string,compiling_options),block=$send($$($nesting,"Kernel"),"proc",[],(TMP_48=function(){var self=TMP_48.$$s||this;return function(self){return eval(compiled)}(self)},TMP_48.$$s=self,TMP_48.$$arity=0,TMP_48))):$truthy(args["$any?"]())&&$$($nesting,"Kernel").$raise($$($nesting,"ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},TMP_Module_module_eval_47.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.def(self,"$module_exec",TMP_Module_module_exec_49=function(t){var e,r=TMP_Module_module_exec_49.$$p,n=r||nil;r&&(TMP_Module_module_exec_49.$$p=null),r&&(TMP_Module_module_exec_49.$$p=null),e=Opal.slice.call(arguments,0,arguments.length),n===nil&&this.$raise($$($nesting,"LocalJumpError"),"no block given");var i,$=n.$$s;return n.$$s=null,i=n.apply(this,e),n.$$s=$,i},TMP_Module_module_exec_49.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.def(self,"$method_defined?",TMP_Module_method_defined$q_50=function(t){var e=this.prototype["$"+t];return!!e&&!e.$$stub},TMP_Module_method_defined$q_50.$$arity=1),Opal.def(self,"$module_function",TMP_Module_module_function_51=function(t){var e;if(0===(e=Opal.slice.call(arguments,0,arguments.length)).length)this.$$module_function=!0;else for(var r=0,n=e.length;r<n;r++){var i="$"+e[r],$=this.prototype[i];Opal.defs(this,i,$)}return this},TMP_Module_module_function_51.$$arity=-1),Opal.def(self,"$name",TMP_Module_name_52=function(){if(this.$$full_name)return this.$$full_name;for(var t=[],e=this;e;){if(e.$$name===nil||null==e.$$name)return nil;if(t.unshift(e.$$name),(e=e.$$base_module)===Opal.Object)break}return 0===t.length?nil:this.$$full_name=t.join("::")},TMP_Module_name_52.$$arity=0),Opal.def(self,"$prepend",TMP_Module_prepend_53=function(t){var e,r=this;0===(e=Opal.slice.call(arguments,0,arguments.length)).length&&r.$raise($$($nesting,"ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var n=e.length-1;0<=n;n--){var i=e[n];i.$$is_module||r.$raise($$($nesting,"TypeError"),"wrong argument type "+i.$class()+" (expected Module)"),i.$prepend_features(r),i.$prepended(r)}return r},TMP_Module_prepend_53.$$arity=-1),Opal.def(self,"$prepend_features",TMP_Module_prepend_features_54=function(t){var e=this;return e.$$is_module||e.$raise($$($nesting,"TypeError"),"wrong argument type "+e.$class()+" (expected Module)"),Opal.prepend_features(e,t),e},TMP_Module_prepend_features_54.$$arity=1),Opal.def(self,"$prepended",TMP_Module_prepended_55=function(t){return nil},TMP_Module_prepended_55.$$arity=1),Opal.def(self,"$remove_const",TMP_Module_remove_const_56=function(t){return Opal.const_remove(this,t)},TMP_Module_remove_const_56.$$arity=1),Opal.def(self,"$to_s",TMP_Module_to_s_57=function(){var t;return $truthy(t=Opal.Module.$name.call(this))?t:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},TMP_Module_to_s_57.$$arity=0),Opal.def(self,"$undef_method",TMP_Module_undef_method_58=function(t){for(var e,r=0,n=(e=Opal.slice.call(arguments,0,arguments.length)).length;r<n;r++)Opal.udef(this,"$"+e[r]);return this},TMP_Module_undef_method_58.$$arity=-1),Opal.def(self,"$instance_variables",TMP_Module_instance_variables_59=function(){var t=nil;Opal.Module.$$nesting=$nesting,t=this.$constants();var e=[];for(var r in this)this.hasOwnProperty(r)&&"$"!==r.charAt(0)&&"constructor"!==r&&!t["$include?"](r)&&e.push("@"+r);return e},TMP_Module_instance_variables_59.$$arity=0),Opal.def(self,"$dup",TMP_Module_dup_60=function(){var t,e=TMP_Module_dup_60.$$p,r=nil,n=nil,i=nil;for(e&&(TMP_Module_dup_60.$$p=null),i=0,t=arguments.length,n=new Array(t);i<t;i++)n[i]=arguments[i];return(r=$send(this,Opal.find_super_dispatcher(this,"dup",TMP_Module_dup_60,!1),n,e)).$copy_class_variables(this),r.$copy_constants(this),r},TMP_Module_dup_60.$$arity=0),Opal.def(self,"$copy_class_variables",TMP_Module_copy_class_variables_61=function(t){for(var e in t.$$cvars)this.$$cvars[e]=t.$$cvars[e]},TMP_Module_copy_class_variables_61.$$arity=1),Opal.def(self,"$copy_constants",TMP_Module_copy_constants_62=function(t){var e,r=t.$$const;for(e in r)Opal.const_set(this,e,r[e])},TMP_Module_copy_constants_62.$$arity=1),nil&&"copy_constants"}($nesting[0],null,$nesting)},Opal.modules["corelib/class"]=function(d){var t=d.top,h=[],f=d.nil,p=(d.const_get_qualified,d.const_get_relative),m=(d.breaker,d.slice,d.klass),y=d.send;return d.add_stubs(["$require","$class_eval","$to_proc","$initialize_copy","$allocate","$name","$to_s"]),t.$require("corelib/module"),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u=n=m(h[0],null,"Class",n),_=(u.prototype,[u].concat(r));return d.defs(u,"$new",i=function(t){var e=i.$$p,r=e||f;if(e&&(i.$$p=null),e&&(i.$$p=null),null==t&&(t=p(_,"Object")),!t.$$is_class)throw d.TypeError.$new("superclass must be a Class");var n=d.allocate_class(f,t,function(){});return t.$inherited(n),r!==f&&y(n,"class_eval",[],r.$to_proc()),n},i.$$arity=-1),d.def(u,"$allocate",$=function(){var t=new this;return t.$$id=d.uid(),t},$.$$arity=0),d.def(u,"$inherited",a=function(t){return f},a.$$arity=1),d.def(u,"$initialize_dup",s=function(t){this.$initialize_copy(t),this.$$name=null,this.$$full_name=null},s.$$arity=1),d.def(u,"$new",o=function(t){var e,r=o.$$p,n=r||f;r&&(o.$$p=null),r&&(o.$$p=null),e=d.slice.call(arguments,0,arguments.length);var i=this.$allocate();return d.send(i,i.$initialize,e,n),i},o.$$arity=-1),d.def(u,"$superclass",l=function(){return this.$$super||f},l.$$arity=0),d.def(u,"$to_s",c=function(){var t=c.$$p;t&&(c.$$p=null);var e=this.$$singleton_of;return e&&e.$$is_a_module?"#<Class:"+e.$name()+">":e?"#<Class:#<"+e.$$class.$name()+":0x"+d.id(e).$to_s(16)+">>":y(this,d.find_super_dispatcher(this,"to_s",c,!1),[],null)},c.$$arity=0),f&&"to_s"}(0,0,h)},Opal.modules["corelib/basic_object"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$$$=Opal.const_get_qualified,$$=Opal.const_get_relative,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$any?","$inspect","$new"]),function($base,$super,$parent_nesting){function $BasicObject(){}var self=$BasicObject=$klass($base,$super,"BasicObject",$BasicObject),def=self.prototype,$nesting=[self].concat($parent_nesting),TMP_BasicObject_initialize_1,TMP_BasicObject_$eq$eq_2,TMP_BasicObject_eql$q_3,TMP_BasicObject___id___4,TMP_BasicObject___send___5,TMP_BasicObject_$B_6,TMP_BasicObject_$B$eq_7,TMP_BasicObject_instance_eval_8,TMP_BasicObject_instance_exec_10,TMP_BasicObject_singleton_method_added_11,TMP_BasicObject_singleton_method_removed_12,TMP_BasicObject_singleton_method_undefined_13,TMP_BasicObject_class_14,TMP_BasicObject_method_missing_15;return Opal.def(self,"$initialize",TMP_BasicObject_initialize_1=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},TMP_BasicObject_initialize_1.$$arity=-1),Opal.def(self,"$==",TMP_BasicObject_$eq$eq_2=function(t){return this===t},TMP_BasicObject_$eq$eq_2.$$arity=1),Opal.def(self,"$eql?",TMP_BasicObject_eql$q_3=function(t){return this["$=="](t)},TMP_BasicObject_eql$q_3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.def(self,"$__id__",TMP_BasicObject___id___4=function(){return null!=this.$$id||Opal.defineProperty(this,"$$id",Opal.uid()),this.$$id},TMP_BasicObject___id___4.$$arity=0),Opal.def(self,"$__send__",TMP_BasicObject___send___5=function(t,e){var r,n=TMP_BasicObject___send___5.$$p,i=n||nil,$=this;n&&(TMP_BasicObject___send___5.$$p=null),n&&(TMP_BasicObject___send___5.$$p=null),r=Opal.slice.call(arguments,1,arguments.length);var a=$["$"+t];return a?(i!==nil&&(a.$$p=i),a.apply($,r)):(i!==nil&&($.$method_missing.$$p=i),$.$method_missing.apply($,[t].concat(r)))},TMP_BasicObject___send___5.$$arity=-2),Opal.def(self,"$!",TMP_BasicObject_$B_6=function(){return!1},TMP_BasicObject_$B_6.$$arity=0),Opal.def(self,"$!=",TMP_BasicObject_$B$eq_7=function(t){return this["$=="](t)["$!"]()},TMP_BasicObject_$B$eq_7.$$arity=1),Opal.def(self,"$instance_eval",TMP_BasicObject_instance_eval_8=function $$instance_eval($a){var $iter=TMP_BasicObject_instance_eval_8.$$p,block=$iter||nil,$post_args,args,$b,TMP_9,self=this,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil;$iter&&(TMP_BasicObject_instance_eval_8.$$p=null),$iter&&(TMP_BasicObject_instance_eval_8.$$p=null),$post_args=Opal.slice.call(arguments,0,arguments.length),args=$post_args,$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=$$$("::","Opal").$compile(string,compiling_options),block=$send($$$("::","Kernel"),"proc",[],(TMP_9=function(){var self=TMP_9.$$s||this;return function(self){return eval(compiled)}(self)},TMP_9.$$s=self,TMP_9.$$arity=0,TMP_9))):$truthy(args["$any?"]())&&$$$("::","Kernel").$raise($$$("::","ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)");var old=block.$$s,result;if(block.$$s=null,self.$$is_a_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},TMP_BasicObject_instance_eval_8.$$arity=-1),Opal.def(self,"$instance_exec",TMP_BasicObject_instance_exec_10=function(t){var e,r=TMP_BasicObject_instance_exec_10.$$p,n=r||nil,i=this;r&&(TMP_BasicObject_instance_exec_10.$$p=null),r&&(TMP_BasicObject_instance_exec_10.$$p=null),e=Opal.slice.call(arguments,0,arguments.length),$truthy(n)||$$$("::","Kernel").$raise($$$("::","ArgumentError"),"no block given");var $,a=n.$$s;if(n.$$s=null,i.$$is_a_module){i.$$eval=!0;try{$=n.apply(i,e)}finally{i.$$eval=!1}}else $=n.apply(i,e);return n.$$s=a,$},TMP_BasicObject_instance_exec_10.$$arity=-1),Opal.def(self,"$singleton_method_added",TMP_BasicObject_singleton_method_added_11=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},TMP_BasicObject_singleton_method_added_11.$$arity=-1),Opal.def(self,"$singleton_method_removed",TMP_BasicObject_singleton_method_removed_12=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},TMP_BasicObject_singleton_method_removed_12.$$arity=-1),Opal.def(self,"$singleton_method_undefined",TMP_BasicObject_singleton_method_undefined_13=function(t){return Opal.slice.call(arguments,0,arguments.length),nil},TMP_BasicObject_singleton_method_undefined_13.$$arity=-1),Opal.def(self,"$class",TMP_BasicObject_class_14=function(){return this.$$class},TMP_BasicObject_class_14.$$arity=0),Opal.def(self,"$method_missing",TMP_BasicObject_method_missing_15=function(t,e){var r,n=TMP_BasicObject_method_missing_15.$$p,i=this;return n&&(TMP_BasicObject_method_missing_15.$$p=null),n&&(TMP_BasicObject_method_missing_15.$$p=null),Opal.slice.call(arguments,1,arguments.length),r=$truthy(i.$inspect&&!i.$inspect.$$stub)?"undefined method `"+t+"' for "+i.$inspect()+":"+i.$$class:"undefined method `"+t+"' for "+i.$$class,$$$("::","Kernel").$raise($$$("::","NoMethodError").$new(r,t))},TMP_BasicObject_method_missing_15.$$arity=-2),nil&&"method_missing"}($nesting[0],null,$nesting)},Opal.modules["corelib/kernel"]=function(mt){mt.top;var yt=[],gt=mt.nil,bt=mt.const_get_qualified,vt=mt.const_get_relative,xt=(mt.breaker,mt.slice,mt.module),kt=mt.truthy,wt=mt.gvars,Et=mt.hash2,At=mt.send,a=mt.klass;return mt.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$empty?","$pop","$call","$coerce_to","$append_features","$extend_object","$extended","$length","$respond_to?","$[]","$nil?","$to_a","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$to_s","$__id__","$instance_variable_name!","$coerce_to!","$===","$enum_for","$result","$any?","$print","$format","$puts","$each","$<=","$exception","$is_a?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$new_seed","$srand","$sym","$arg","$open","$include"]),function(t,e){function r(){}var i,n,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k,w,E,A,O,S,R,C,T,M,I,N,P,z,L,D,F,B,q,j,U,H,Y,G,W,X,V,K,J,Z,Q,tt,et,rt,nt,it,$t,at,st,ot,lt,ct,ut,_t,dt,ht,ft=r=xt(yt[0],"Kernel",r),pt=(ft.prototype,[ft].concat(e));mt.def(ft,"$method_missing",i=function(t,e){var r,n=i.$$p;return n&&(i.$$p=null),n&&(i.$$p=null),r=mt.slice.call(arguments,1,arguments.length),this.$raise(vt(pt,"NoMethodError").$new("undefined method `"+t+"' for "+this.$inspect(),t,r))},i.$$arity=-2),mt.def(ft,"$=~",n=function(t){return!1},n.$$arity=1),mt.def(ft,"$!~",$=function(t){return this["$=~"](t)["$!"]()},$.$$arity=1),mt.def(ft,"$===",a=function(t){var e;return kt(e=this.$object_id()["$=="](t.$object_id()))?e:this["$=="](t)},a.$$arity=1),mt.def(ft,"$<=>",s=function(t){this.$$comparable=!0;var e=this["$=="](t);return e&&e!==gt?0:gt},s.$$arity=1),mt.def(ft,"$method",o=function(t){var e=this,r=e["$"+t];return r&&!r.$$stub||e.$raise(vt(pt,"NameError").$new("undefined method `"+t+"' for class `"+e.$class()+"'",t)),vt(pt,"Method").$new(e,r.$$owner||e.$class(),r,t)},o.$$arity=1),mt.def(ft,"$methods",l=function(t){return null==t&&(t=!0),kt(t)?mt.methods(this):mt.own_methods(this)},l.$$arity=-1),mt.def(ft,"$public_methods",c=function(t){return null==t&&(t=!0),kt(t)?mt.methods(this):mt.receiver_methods(this)},c.$$arity=-1),mt.def(ft,"$Array",u=function(t){var e;return t===gt?[]:t.$$is_array?t:(e=vt(pt,"Opal")["$coerce_to?"](t,vt(pt,"Array"),"to_ary"))!==gt?e:(e=vt(pt,"Opal")["$coerce_to?"](t,vt(pt,"Array"),"to_a"))!==gt?e:[t]},u.$$arity=1),mt.def(ft,"$at_exit",_=function(){var t,e=_.$$p,r=e||gt;return null==wt.__at_exit__&&(wt.__at_exit__=gt),e&&(_.$$p=null),e&&(_.$$p=null),wt.__at_exit__=kt(t=wt.__at_exit__)?t:[],wt.__at_exit__["$<<"](r)},_.$$arity=0),mt.def(ft,"$caller",d=function(t){return mt.slice.call(arguments,0,arguments.length),[]},d.$$arity=-1),mt.def(ft,"$class",h=function(){return this.$$class},h.$$arity=0),mt.def(ft,"$copy_instance_variables",f=function(t){var e,r,n,i=Object.keys(t);for(e=0,r=i.length;e<r;e++)"$"!==(n=i[e]).charAt(0)&&t.hasOwnProperty(n)&&(this[n]=t[n])},f.$$arity=1),mt.def(ft,"$copy_singleton_methods",p=function(t){var e,r,n,i;if(t.hasOwnProperty("$$meta")){var $=mt.get_singleton_class(t),a=mt.get_singleton_class(this);for(e=0,i=(n=Object.getOwnPropertyNames($.prototype)).length;e<i;e++)r=n[e],mt.is_method(r)&&(a.prototype[r]=$.prototype[r]);a.$$const=Object.assign({},$.$$const),Object.setPrototypeOf(a.prototype,Object.getPrototypeOf($.prototype))}for(e=0,i=(n=Object.getOwnPropertyNames(t)).length;e<i;e++)"$"===(r=n[e]).charAt(0)&&"$"!==r.charAt(1)&&t.hasOwnProperty(r)&&(this[r]=t[r])},p.$$arity=1),mt.def(ft,"$clone",m=function(t){var e=gt;if(null==t)t=Et([],{});else if(!t.$$is_hash)throw mt.ArgumentError.$new("expected kwargs");return null==t.$$smap.freeze&&!0,(e=this.$class().$allocate()).$copy_instance_variables(this),e.$copy_singleton_methods(this),e.$initialize_clone(this),e},m.$$arity=-1),mt.def(ft,"$initialize_clone",y=function(t){return this.$initialize_copy(t)},y.$$arity=1),mt.def(ft,"$define_singleton_method",g=function(t,e){var r=g.$$p,n=r||gt;return r&&(g.$$p=null),r&&(g.$$p=null),At(this.$singleton_class(),"define_method",[t,e],n.$to_proc())},g.$$arity=-2),mt.def(ft,"$dup",b=function(){var t=gt;return(t=this.$class().$allocate()).$copy_instance_variables(this),t.$initialize_dup(this),t},b.$$arity=0),mt.def(ft,"$initialize_dup",v=function(t){return this.$initialize_copy(t)},v.$$arity=1),mt.def(ft,"$enum_for",x=function(t,e){var r,n,i,$=x.$$p,a=$||gt,s=this;return $&&(x.$$p=null),$&&(x.$$p=null),0<(r=mt.slice.call(arguments,0,arguments.length)).length&&(n=r[0],r.splice(0,1)),null==n&&(n="each"),i=r,At(vt(pt,"Enumerator"),"for",[s,n].concat(mt.to_a(i)),a.$to_proc())},x.$$arity=-1),mt.alias(ft,"to_enum","enum_for"),mt.def(ft,"$equal?",k=function(t){return this===t},k.$$arity=1),mt.def(ft,"$exit",w=function(t){var e;for(null==wt.__at_exit__&&(wt.__at_exit__=gt),null==t&&(t=!0),wt.__at_exit__=kt(e=wt.__at_exit__)?e:[];!kt(wt.__at_exit__["$empty?"]());)wt.__at_exit__.$pop().$call();return t=t.$$is_boolean?t?0:1:vt(pt,"Opal").$coerce_to(t,vt(pt,"Integer"),"to_int"),mt.exit(t),gt},w.$$arity=-1),mt.def(ft,"$extend",E=function(t){var e,r=this;e=mt.slice.call(arguments,0,arguments.length);for(var n=r.$singleton_class(),i=e.length-1;0<=i;i--){var $=e[i];$.$$is_module||r.$raise(vt(pt,"TypeError"),"wrong argument type "+$.$class()+" (expected Module)"),$.$append_features(n),$.$extend_object(r),$.$extended(r)}return r},E.$$arity=-1),mt.def(ft,"$format",A=function(n,t){var e,r,i=this,$=gt;null==wt.DEBUG&&(wt.DEBUG=gt),e=mt.slice.call(arguments,1,arguments.length),kt((r=e).$length()["$=="](1)?r["$[]"](0)["$respond_to?"]("to_ary"):r.$length()["$=="](1))&&($=vt(pt,"Opal")["$coerce_to?"](r["$[]"](0),vt(pt,"Array"),"to_ary"),kt($["$nil?"]())||(r=$.$to_a()));var a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x="",k=0,w=n.length,E=1,A=0,O=32,S=128;function R(){v&O&&i.$raise(vt(pt,"ArgumentError"),"flag after width"),v&S&&i.$raise(vt(pt,"ArgumentError"),"flag after precision")}function C(){v&O&&i.$raise(vt(pt,"ArgumentError"),"width given twice"),v&S&&i.$raise(vt(pt,"ArgumentError"),"width after precision")}function T(t){return t>=r.length&&i.$raise(vt(pt,"ArgumentError"),"too few arguments"),r[t]}function M(){switch(A){case-1:i.$raise(vt(pt,"ArgumentError"),"unnumbered("+E+") mixed with numbered");case-2:i.$raise(vt(pt,"ArgumentError"),"unnumbered("+E+") mixed with named")}return T((A=E++)-1)}function I(t){return 0<A&&i.$raise(vt(pt,"ArgumentError"),"numbered("+t+") after unnumbered("+A+")"),-2===A&&i.$raise(vt(pt,"ArgumentError"),"numbered("+t+") after named"),t<1&&i.$raise(vt(pt,"ArgumentError"),"invalid index - "+t+"$"),A=-1,T(t-1)}function N(){return void 0===b?M():b}function P(t){for(var e,r="";;s++){if(s===w&&i.$raise(vt(pt,"ArgumentError"),"malformed format string - %*[0-9]"),n.charCodeAt(s)<48||57<n.charCodeAt(s))return s--,2147483647<(e=parseInt(r,10)||0)&&i.$raise(vt(pt,"ArgumentError"),t+" too big"),e;r+=n.charAt(s)}}function z(t){var e=P(t);return("$"===n.charAt(s+1)?(s++,I(e)):M()).$to_int()}for(s=n.indexOf("%");-1!==s;s=n.indexOf("%",s)){switch(l=void 0,_=u=-1,b=void(v=0),a=s,s++,n.charAt(s)){case"%":k=s;case"":case"\n":case"\0":s++;continue}t:for(;s<w;s++)switch(n.charAt(s)){case" ":R(),v|=16;continue t;case"#":R(),v|=1;continue t;case"+":R(),v|=4;continue t;case"-":R(),v|=2;continue t;case"0":R(),v|=8;continue t;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(d=P("width"),"$"===n.charAt(s+1)){if(s+2===w){l="%",s++;break t}void 0!==b&&i.$raise(vt(pt,"ArgumentError"),"value given twice - %"+d+"$"),b=I(d),s++}else C(),v|=O,u=d;continue t;case"<":case"{":for(f="<"===n.charAt(s)?">":"}",h="",s++;;s++){if(s===w&&i.$raise(vt(pt,"ArgumentError"),"malformed name - unmatched parenthesis"),n.charAt(s)===f){if(0<A&&i.$raise(vt(pt,"ArgumentError"),"named "+h+" after unnumbered("+A+")"),-1===A&&i.$raise(vt(pt,"ArgumentError"),"named "+h+" after numbered"),A=-2,void 0!==r[0]&&r[0].$$is_hash||i.$raise(vt(pt,"ArgumentError"),"one hash required"),b=r[0].$fetch(h),">"===f)continue t;if(l=b.toString(),-1!==_&&(l=l.slice(0,_)),2&v)for(;l.length<u;)l+=" ";else for(;l.length<u;)l=" "+l;break t}h+=n.charAt(s)}case"*":s++,C(),v|=O,(u=z("width"))<0&&(v|=2,u=-u);continue t;case".":if(v&S&&i.$raise(vt(pt,"ArgumentError"),"precision given twice"),v|=64|S,_=0,s++,"*"===n.charAt(s)){s++,(_=z("precision"))<0&&(v&=-65);continue t}_=P("precision");continue t;case"d":case"i":case"u":if(0<=(o=i.$Integer(N()))){for(l=o.toString();l.length<_;)l="0"+l;if(2&v)for((4&v||16&v)&&(l=(4&v?"+":" ")+l);l.length<u;)l+=" ";else if(8&v&&-1===_){for(;l.length<u-(4&v||16&v?1:0);)l="0"+l;(4&v||16&v)&&(l=(4&v?"+":" ")+l)}else for((4&v||16&v)&&(l=(4&v?"+":" ")+l);l.length<u;)l=" "+l}else{for(l=(-o).toString();l.length<_;)l="0"+l;if(2&v)for(l="-"+l;l.length<u;)l+=" ";else if(8&v&&-1===_){for(;l.length<u-1;)l="0"+l;l="-"+l}else for(l="-"+l;l.length<u;)l=" "+l}break t;case"b":case"B":case"o":case"x":case"X":switch(n.charAt(s)){case"b":case"B":p=2,m="0b",y=/^1+/,g="1";break;case"o":p=8,m="0",y=/^3?7+/,g="7";break;case"x":case"X":p=16,m="0x",y=/^f+/,g="f"}if(0<=(o=i.$Integer(N()))){for(l=o.toString(p);l.length<_;)l="0"+l;if(2&v)for((4&v||16&v)&&(l=(4&v?"+":" ")+l),1&v&&0!==o&&(l=m+l);l.length<u;)l+=" ";else if(8&v&&-1===_){for(;l.length<u-(4&v||16&v?1:0)-(1&v&&0!==o?m.length:0);)l="0"+l;1&v&&0!==o&&(l=m+l),(4&v||16&v)&&(l=(4&v?"+":" ")+l)}else for(1&v&&0!==o&&(l=m+l),(4&v||16&v)&&(l=(4&v?"+":" ")+l);l.length<u;)l=" "+l}else if(4&v||16&v){for(l=(-o).toString(p);l.length<_;)l="0"+l;if(2&v)for(1&v&&(l=m+l),l="-"+l;l.length<u;)l+=" ";else if(8&v&&-1===_){for(;l.length<u-1-(1&v?2:0);)l="0"+l;1&v&&(l=m+l),l="-"+l}else for(1&v&&(l=m+l),l="-"+l;l.length<u;)l=" "+l}else{for(l=(o>>>0).toString(p).replace(y,g);l.length<_-2;)l=g+l;if(2&v)for(l=".."+l,1&v&&(l=m+l);l.length<u;)l+=" ";else if(8&v&&-1===_){for(;l.length<u-2-(1&v?m.length:0);)l=g+l;l=".."+l,1&v&&(l=m+l)}else for(l=".."+l,1&v&&(l=m+l);l.length<u;)l=" "+l}n.charAt(s)===n.charAt(s).toUpperCase()&&(l=l.toUpperCase());break t;case"f":case"e":case"E":case"g":case"G":if(0<=(o=i.$Float(N()))||isNaN(o)){if(o===1/0)l="Inf";else switch(n.charAt(s)){case"f":l=o.toFixed(-1===_?6:_);break;case"e":case"E":l=o.toExponential(-1===_?6:_);break;case"g":case"G":l=o.toExponential(),(c=parseInt(l.split("e")[1],10))<-4||(-1===_?6:_)<=c||(l=o.toPrecision(-1===_?1&v?6:void 0:_))}if(2&v)for((4&v||16&v)&&(l=(4&v?"+":" ")+l);l.length<u;)l+=" ";else if(8&v&&o!==1/0&&!isNaN(o)){for(;l.length<u-(4&v||16&v?1:0);)l="0"+l;(4&v||16&v)&&(l=(4&v?"+":" ")+l)}else for((4&v||16&v)&&(l=(4&v?"+":" ")+l);l.length<u;)l=" "+l}else{if(o===-1/0)l="Inf";else switch(n.charAt(s)){case"f":l=(-o).toFixed(-1===_?6:_);break;case"e":case"E":l=(-o).toExponential(-1===_?6:_);break;case"g":case"G":l=(-o).toExponential(),(c=parseInt(l.split("e")[1],10))<-4||(-1===_?6:_)<=c||(l=(-o).toPrecision(-1===_?1&v?6:void 0:_))}if(2&v)for(l="-"+l;l.length<u;)l+=" ";else if(8&v&&o!==-1/0){for(;l.length<u-1;)l="0"+l;l="-"+l}else for(l="-"+l;l.length<u;)l=" "+l}n.charAt(s)!==n.charAt(s).toUpperCase()||o===1/0||o===-1/0||isNaN(o)||(l=l.toUpperCase()),l=l.replace(/([eE][-+]?)([0-9])$/,"$10$2");break t;case"a":case"A":i.$raise(vt(pt,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if((o=N())["$respond_to?"]("to_ary")&&(o=o.$to_ary()[0]),1!==(l=o["$respond_to?"]("to_str")?o.$to_str():String.fromCharCode(vt(pt,"Opal").$coerce_to(o,vt(pt,"Integer"),"to_int"))).length&&i.$raise(vt(pt,"ArgumentError"),"%c requires a character"),2&v)for(;l.length<u;)l+=" ";else for(;l.length<u;)l=" "+l;break t;case"p":if(l=N().$inspect(),-1!==_&&(l=l.slice(0,_)),2&v)for(;l.length<u;)l+=" ";else for(;l.length<u;)l=" "+l;break t;case"s":if(l=N().$to_s(),-1!==_&&(l=l.slice(0,_)),2&v)for(;l.length<u;)l+=" ";else for(;l.length<u;)l=" "+l;break t;default:i.$raise(vt(pt,"ArgumentError"),"malformed format string - %"+n.charAt(s))}void 0===l&&i.$raise(vt(pt,"ArgumentError"),"malformed format string - %"),x+=n.slice(k,a)+l,k=s+1}return wt.DEBUG&&0<=A&&E<r.length&&i.$raise(vt(pt,"ArgumentError"),"too many arguments for format string"),x+n.slice(k)},A.$$arity=-2),mt.def(ft,"$hash",O=function(){return this.$__id__()},O.$$arity=0),mt.def(ft,"$initialize_copy",S=function(t){return gt},S.$$arity=1),mt.def(ft,"$inspect",R=function(){return this.$to_s()},R.$$arity=0),mt.def(ft,"$instance_of?",C=function(t){return t.$$is_class||t.$$is_module||this.$raise(vt(pt,"TypeError"),"class or module required"),this.$$class===t},C.$$arity=1),mt.def(ft,"$instance_variable_defined?",T=function(t){return t=vt(pt,"Opal")["$instance_variable_name!"](t),mt.hasOwnProperty.call(this,t.substr(1))},T.$$arity=1),mt.def(ft,"$instance_variable_get",M=function(t){t=vt(pt,"Opal")["$instance_variable_name!"](t);var e=this[mt.ivar(t.substr(1))];return null==e?gt:e},M.$$arity=1),mt.def(ft,"$instance_variable_set",I=function(t,e){return t=vt(pt,"Opal")["$instance_variable_name!"](t),this[mt.ivar(t.substr(1))]=e},I.$$arity=2),mt.def(ft,"$remove_instance_variable",N=function(t){t=vt(pt,"Opal")["$instance_variable_name!"](t);var e,r=mt.ivar(t.substr(1));return this.hasOwnProperty(r)?(e=this[r],delete this[r],e):this.$raise(vt(pt,"NameError"),"instance variable "+t+" not defined")},N.$$arity=1),mt.def(ft,"$instance_variables",P=function(){var t,e=[];for(var r in this)this.hasOwnProperty(r)&&"$"!==r.charAt(0)&&(t="$"===r.substr(-1)?r.slice(0,r.length-1):r,e.push("@"+t));return e},P.$$arity=0),mt.def(ft,"$Integer",z=function(n,i){var t,e,r,$=this;return n.$$is_string?"0"===n?0:(void 0===i?i=0:(1===(i=vt(pt,"Opal").$coerce_to(i,vt(pt,"Integer"),"to_int"))||i<0||36<i)&&$.$raise(vt(pt,"ArgumentError"),"invalid radix "+i),e=(e=(e=n.toLowerCase()).replace(/(\d)_(?=\d)/g,"$1")).replace(/^(\s*[+-]?)(0[bodx]?)/,function(t,e,r){switch(r){case"0b":if(0===i||2===i)return i=2,e;case"0":case"0o":if(0===i||8===i)return i=8,e;case"0d":if(0===i||10===i)return i=10,e;case"0x":if(0===i||16===i)return i=16,e}$.$raise(vt(pt,"ArgumentError"),'invalid value for Integer(): "'+n+'"')}),r="0-"+((i=0===i?10:i)<=10?i-1:"9a-"+String.fromCharCode(i-11+97)),new RegExp("^\\s*[+-]?["+r+"]+\\s*$").test(e)||$.$raise(vt(pt,"ArgumentError"),'invalid value for Integer(): "'+n+'"'),t=parseInt(e,i),isNaN(t)&&$.$raise(vt(pt,"ArgumentError"),'invalid value for Integer(): "'+n+'"'),t):(void 0!==i&&$.$raise(vt(pt,"ArgumentError"),"base specified for non string value"),n===gt&&$.$raise(vt(pt,"TypeError"),"can't convert nil into Integer"),n.$$is_number?((n===1/0||n===-1/0||isNaN(n))&&$.$raise(vt(pt,"FloatDomainError"),n),Math.floor(n)):n["$respond_to?"]("to_int")&&(t=n.$to_int())!==gt?t:vt(pt,"Opal")["$coerce_to!"](n,vt(pt,"Integer"),"to_i"))},z.$$arity=-2),mt.def(ft,"$Float",L=function(t){var e;return t===gt&&this.$raise(vt(pt,"TypeError"),"can't convert nil into Float"),t.$$is_string?(e=(e=t.toString()).replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(e)?this.$Integer(e):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(e)||this.$raise(vt(pt,"ArgumentError"),'invalid value for Float(): "'+t+'"'),parseFloat(e))):vt(pt,"Opal")["$coerce_to!"](t,vt(pt,"Float"),"to_f")},L.$$arity=1),mt.def(ft,"$Hash",D=function(t){var e;return kt(kt(e=t["$nil?"]())?e:t["$=="]([]))?Et([],{}):kt(vt(pt,"Hash")["$==="](t))?t:vt(pt,"Opal")["$coerce_to!"](t,vt(pt,"Hash"),"to_hash")},D.$$arity=1),mt.def(ft,"$is_a?",F=function(t){return t.$$is_class||t.$$is_module||this.$raise(vt(pt,"TypeError"),"class or module required"),mt.is_a(this,t)},F.$$arity=1),mt.def(ft,"$itself",B=function(){return this},B.$$arity=0),mt.alias(ft,"kind_of?","is_a?"),mt.def(ft,"$lambda",q=function(){var t=q.$$p,e=t||gt;return t&&(q.$$p=null),t&&(q.$$p=null),mt.lambda(e)},q.$$arity=0),mt.def(ft,"$load",j=function(t){return t=vt(pt,"Opal")["$coerce_to!"](t,vt(pt,"String"),"to_str"),mt.load(t)},j.$$arity=1),mt.def(ft,"$loop",U=function(){var t,e=U.$$p,r=e||gt,n=gt;if(e&&(U.$$p=null),r===gt)return At(this,"enum_for",["loop"],((t=function(){t.$$s;return bt(vt(pt,"Float"),"INFINITY")}).$$s=this,t.$$arity=0,t));for(;kt(!0);)try{mt.yieldX(r,[])}catch(t){if(!mt.rescue(t,[vt(pt,"StopIteration")]))throw t;n=t;try{return n.$result()}finally{mt.pop_exception()}}return this},U.$$arity=0),mt.def(ft,"$nil?",H=function(){return!1},H.$$arity=0),mt.alias(ft,"object_id","__id__"),mt.def(ft,"$printf",Y=function(t){var e,r;return e=mt.slice.call(arguments,0,arguments.length),kt((r=e)["$any?"]())&&this.$print(At(this,"format",mt.to_a(r))),gt},Y.$$arity=-1),mt.def(ft,"$proc",G=function(){var t=G.$$p,e=t||gt;return t&&(G.$$p=null),t&&(G.$$p=null),kt(e)||this.$raise(vt(pt,"ArgumentError"),"tried to create Proc object without a block"),e.$$is_lambda=!1,e},G.$$arity=0),mt.def(ft,"$puts",W=function(t){var e;return null==wt.stdout&&(wt.stdout=gt),e=mt.slice.call(arguments,0,arguments.length),At(wt.stdout,"puts",mt.to_a(e))},W.$$arity=-1),mt.def(ft,"$p",X=function(t){var e,r,n,i,$;return e=mt.slice.call(arguments,0,arguments.length),At(r=e,"each",[],((n=function(t){n.$$s;return null==wt.stdout&&(wt.stdout=gt),null==t&&(t=gt),wt.stdout.$puts(t.$inspect())}).$$s=this,n.$$arity=1,n)),kt((i=r.$length(),$=1,"number"==typeof i&&"number"==typeof $?i<=$:i["$<="]($)))?r["$[]"](0):r},X.$$arity=-1),mt.def(ft,"$print",V=function(t){var e;return null==wt.stdout&&(wt.stdout=gt),e=mt.slice.call(arguments,0,arguments.length),At(wt.stdout,"print",mt.to_a(e))},V.$$arity=-1),mt.def(ft,"$warn",K=function(t){var e,r;return null==wt.VERBOSE&&(wt.VERBOSE=gt),null==wt.stderr&&(wt.stderr=gt),e=mt.slice.call(arguments,0,arguments.length),kt(kt(r=wt.VERBOSE["$nil?"]())?r:e["$empty?"]())?gt:At(wt.stderr,"puts",mt.to_a(e))},K.$$arity=-1),mt.def(ft,"$raise",J=function(t,e,r){if(null==wt["!"]&&(wt["!"]=gt),null==e&&(e=gt),null==r&&(r=gt),null==t&&wt["!"]!==gt)throw wt["!"];throw null==t?t=vt(pt,"RuntimeError").$new():t.$$is_string?t=vt(pt,"RuntimeError").$new(t):t.$$is_class&&t["$respond_to?"]("exception")?t=t.$exception(e):t["$is_a?"](vt(pt,"Exception"))||(t=vt(pt,"TypeError").$new("exception class/object expected")),wt["!"]!==gt&&mt.exceptions.push(wt["!"]),wt["!"]=t},J.$$arity=-1),mt.alias(ft,"fail","raise"),mt.def(ft,"$rand",Z=function(t){return void 0===t?bt(vt(pt,"Random"),"DEFAULT").$rand():(t.$$is_number&&(t<0&&(t=Math.abs(t)),t%1!=0&&(t=t.$to_i()),0===t&&(t=void 0)),bt(vt(pt,"Random"),"DEFAULT").$rand(t))},Z.$$arity=-1),mt.def(ft,"$respond_to?",Q=function(t,e){if(null==e&&(e=!1),kt(this["$respond_to_missing?"](t,e)))return!0;var r=this["$"+t];return"function"==typeof r&&!r.$$stub},Q.$$arity=-2),mt.def(ft,"$respond_to_missing?",tt=function(t,e){return null==e&&(e=!1),!1},tt.$$arity=-2),mt.def(ft,"$require",et=function(t){return t=vt(pt,"Opal")["$coerce_to!"](t,vt(pt,"String"),"to_str"),mt.require(t)},et.$$arity=1),mt.def(ft,"$require_relative",rt=function(t){return vt(pt,"Opal")["$try_convert!"](t,vt(pt,"String"),"to_str"),t=vt(pt,"File").$expand_path(vt(pt,"File").$join(mt.current_file,"..",t)),mt.require(t)},rt.$$arity=1),mt.def(ft,"$require_tree",nt=function(t){var e=[];for(var r in t=vt(pt,"File").$expand_path(t),"."===(t=mt.normalize(t))&&(t=""),mt.modules)r["$start_with?"](t)&&e.push([r,mt.require(r)]);return e},nt.$$arity=1),mt.alias(ft,"send","__send__"),mt.alias(ft,"public_send","__send__"),mt.def(ft,"$singleton_class",it=function(){return mt.get_singleton_class(this)},it.$$arity=0),mt.def(ft,"$sleep",$t=function(t){null==t&&(t=gt),t===gt&&this.$raise(vt(pt,"TypeError"),"can't convert NilClass into time interval"),t.$$is_number||this.$raise(vt(pt,"TypeError"),"can't convert "+t.$class()+" into time interval"),t<0&&this.$raise(vt(pt,"ArgumentError"),"time interval must be positive");for(var e=mt.global.performance?function(){return performance.now()}:function(){return new Date},r=e();e()-r<=1e3*t;);return t},$t.$$arity=-1),mt.alias(ft,"sprintf","format"),mt.def(ft,"$srand",at=function(t){return null==t&&(t=vt(pt,"Random").$new_seed()),vt(pt,"Random").$srand(t)},at.$$arity=-1),mt.def(ft,"$String",st=function(t){var e;return kt(e=vt(pt,"Opal")["$coerce_to?"](t,vt(pt,"String"),"to_str"))?e:vt(pt,"Opal")["$coerce_to!"](t,vt(pt,"String"),"to_s")},st.$$arity=1),mt.def(ft,"$tap",ot=function(){var t=ot.$$p,e=t||gt;return t&&(ot.$$p=null),t&&(ot.$$p=null),mt.yield1(e,this),this},ot.$$arity=0),mt.def(ft,"$to_proc",lt=function(){return this},lt.$$arity=0),mt.def(ft,"$to_s",ct=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},ct.$$arity=0),mt.def(ft,"$catch",ut=function(e){var t=ut.$$p,r=t||gt,n=this,i=gt;t&&(ut.$$p=null);try{return mt.yieldX(r,[])}catch(t){if(!mt.rescue(t,[vt(pt,"UncaughtThrowError")]))throw t;i=t;try{return i.$sym()["$=="](e)?i.$arg():n.$raise()}finally{mt.pop_exception()}}},ut.$$arity=1),mt.def(ft,"$throw",_t=function(t){var e;return e=mt.slice.call(arguments,0,arguments.length),this.$raise(vt(pt,"UncaughtThrowError"),e)},_t.$$arity=-1),mt.def(ft,"$open",dt=function(t){var e,r=dt.$$p,n=r||gt;return r&&(dt.$$p=null),r&&(dt.$$p=null),e=mt.slice.call(arguments,0,arguments.length),At(vt(pt,"File"),"open",mt.to_a(e),n.$to_proc())},dt.$$arity=-1),mt.def(ft,"$yield_self",ht=function(){var t,e=ht.$$p,r=e||gt;return e&&(ht.$$p=null),r===gt?At(this,"enum_for",["yield_self"],((t=function(){t.$$s;return 1}).$$s=this,t.$$arity=0,t)):mt.yield1(r,this)},ht.$$arity=0)}(0,yt),function(t,e,r){function n(){}var i=n=a(yt[0],null,"Object",n),$=(i.prototype,[i].concat(r));return i.$include(vt($,"Kernel"))}(0,0,yt)},Opal.modules["corelib/error"]=function(m){m.top;var y=[],g=m.nil,b=(m.const_get_qualified,m.const_get_relative),v=(m.breaker,m.slice,m.klass),x=m.send,k=m.truthy,$=m.module,c=m.hash2;return m.add_stubs(["$new","$clone","$to_s","$empty?","$class","$raise","$+","$attr_reader","$[]","$>","$length","$inspect"]),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h=n=v(y[0],e,"Exception",n),f=h.prototype,p=[h].concat(r);f.message=g,m.defs(h,"$new",i=function(t){var e,r=0<(e=m.slice.call(arguments,0,arguments.length)).length?e[0]:g,n=new this(r);return n.name=this.$$name,n.message=r,m.send(n,n.$initialize,e),m.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(n,d),n},i.$$arity=-1),d=h.$new,m.defs(h,"$exception",$=function(t){var e;return e=m.slice.call(arguments,0,arguments.length),x(this,"new",m.to_a(e))},$.$$arity=-1),m.def(h,"$initialize",a=function(t){var e;return e=m.slice.call(arguments,0,arguments.length),this.message=0<e.length?e[0]:g},a.$$arity=-1),m.def(h,"$backtrace",s=function(){if(this.backtrace)return this.backtrace;var t=this.stack;return"string"==typeof t?t.split("\n").slice(0,15):t?t.slice(0,15):[]},s.$$arity=0),m.def(h,"$exception",o=function(t){if(null==t&&(t=g),t===g||this===t)return this;var e=this.$clone();return e.message=t,e},o.$$arity=-1),m.def(h,"$message",l=function(){return this.$to_s()},l.$$arity=0),m.def(h,"$inspect",c=function(){var t=g;return t=this.$to_s(),k(t["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},c.$$arity=0),m.def(h,"$set_backtrace",u=function(t){var e,r,n=!0;if(t===g)this.backtrace=g;else if(t.$$is_string)this.backtrace=[t];else{if(t.$$is_array){for(e=0,r=t.length;e<r;e++)if(!t[e].$$is_string){n=!1;break}}else n=!1;!1===n&&this.$raise(b(p,"TypeError"),"backtrace must be Array of String"),this.backtrace=t}return t},u.$$arity=1),m.def(h,"$to_s",_=function(){var t,e;return k(t=k(e=this.message)?this.message.$to_s():e)?t:this.$class().$to_s()},_.$$arity=0)}(0,Error,y),function(t,e,r){function n(){}var i=n=v(t,e,"ScriptError",n);i.prototype,[i].concat(r)}(y[0],b(y,"Exception"),y),function(t,e,r){function n(){}var i=n=v(t,e,"SyntaxError",n);i.prototype,[i].concat(r)}(y[0],b(y,"ScriptError"),y),function(t,e,r){function n(){}var i=n=v(t,e,"LoadError",n);i.prototype,[i].concat(r)}(y[0],b(y,"ScriptError"),y),function(t,e,r){function n(){}var i=n=v(t,e,"NotImplementedError",n);i.prototype,[i].concat(r)}(y[0],b(y,"ScriptError"),y),function(t,e,r){function n(){}var i=n=v(t,e,"SystemExit",n);i.prototype,[i].concat(r)}(y[0],b(y,"Exception"),y),function(t,e,r){function n(){}var i=n=v(t,e,"NoMemoryError",n);i.prototype,[i].concat(r)}(y[0],b(y,"Exception"),y),function(t,e,r){function n(){}var i=n=v(t,e,"SignalException",n);i.prototype,[i].concat(r)}(y[0],b(y,"Exception"),y),function(t,e,r){function n(){}var i=n=v(t,e,"Interrupt",n);i.prototype,[i].concat(r)}(y[0],b(y,"Exception"),y),function(t,e,r){function n(){}var i=n=v(t,e,"SecurityError",n);i.prototype,[i].concat(r)}(y[0],b(y,"Exception"),y),function(t,e,r){function n(){}var i=n=v(t,e,"StandardError",n);i.prototype,[i].concat(r)}(y[0],b(y,"Exception"),y),function(t,e,r){function n(){}var i=n=v(t,e,"EncodingError",n);i.prototype,[i].concat(r)}(y[0],b(y,"StandardError"),y),function(t,e,r){function n(){}var i=n=v(t,e,"ZeroDivisionError",n);i.prototype,[i].concat(r)}(y[0],b(y,"StandardError"),y),function(t,e,r){function n(){}var i=n=v(t,e,"NameError",n);i.prototype,[i].concat(r)}(y[0],b(y,"StandardError"),y),function(t,e,r){function n(){}var i=n=v(t,e,"NoMethodError",n);i.prototype,[i].concat(r)}(y[0],b(y,"NameError"),y),function(t,e,r){function n(){}var i=n=v(t,e,"RuntimeError",n);i.prototype,[i].concat(r)}(y[0],b(y,"StandardError"),y),function(t,e,r){function n(){}var i=n=v(t,e,"FrozenError",n);i.prototype,[i].concat(r)}(y[0],b(y,"RuntimeError"),y),function(t,e,r){function n(){}var i=n=v(t,e,"LocalJumpError",n);i.prototype,[i].concat(r)}(y[0],b(y,"StandardError"),y),function(t,e,r){function n(){}var i=n=v(t,e,"TypeError",n);i.prototype,[i].concat(r)}(y[0],b(y,"StandardError"),y),function(t,e,r){function n(){}var i=n=v(t,e,"ArgumentError",n);i.prototype,[i].concat(r)}(y[0],b(y,"StandardError"),y),function(t,e,r){function n(){}var i=n=v(t,e,"IndexError",n);i.prototype,[i].concat(r)}(y[0],b(y,"StandardError"),y),function(t,e,r){function n(){}var i=n=v(t,e,"StopIteration",n);i.prototype,[i].concat(r)}(y[0],b(y,"IndexError"),y),function(t,e,r){function n(){}var i=n=v(t,e,"KeyError",n);i.prototype,[i].concat(r)}(y[0],b(y,"IndexError"),y),function(t,e,r){function n(){}var i=n=v(t,e,"RangeError",n);i.prototype,[i].concat(r)}(y[0],b(y,"StandardError"),y),function(t,e,r){function n(){}var i=n=v(t,e,"FloatDomainError",n);i.prototype,[i].concat(r)}(y[0],b(y,"RangeError"),y),function(t,e,r){function n(){}var i=n=v(t,e,"IOError",n);i.prototype,[i].concat(r)}(y[0],b(y,"StandardError"),y),function(t,e,r){function n(){}var i=n=v(t,e,"SystemCallError",n);i.prototype,[i].concat(r)}(y[0],b(y,"StandardError"),y),function(t,e){function r(){}var n=r=$(y[0],"Errno",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function $(){}var a,n=$=v(t,e,"EINVAL",$);n.prototype,[n].concat(r);m.defs(n,"$new",a=function(t){var e,r,n=a.$$p,i=g;return n&&(a.$$p=null),null==t&&(t=g),i="Invalid argument",k(t)&&(r=" - "+t,i="number"==typeof(e=i)&&"number"==typeof r?e+r:e["$+"](r)),x(this,m.find_super_dispatcher(this,"new",a,!1,$),[i],null)},a.$$arity=-1)}(i[0],b(i,"SystemCallError"),i)}(0,y),function(t,e,r){function n(){}var $,i=n=v(t,e,"UncaughtThrowError",n),a=i.prototype;[i].concat(r);a.sym=g,i.$attr_reader("sym","arg"),m.def(i,"$initialize",$=function(t){var e,r,n=$.$$p,i=this;return n&&($.$$p=null),i.sym=t["$[]"](0),k((e=t.$length(),r=1,"number"==typeof e&&"number"==typeof r?r<e:e["$>"](r)))&&(i.arg=t["$[]"](1)),x(i,m.find_super_dispatcher(i,"initialize",$,!1),["uncaught throw "+i.sym.$inspect()],null)},$.$$arity=1)}(y[0],b(y,"ArgumentError"),y),function(t,e,r){function n(){}var i,$=n=v(y[0],null,"NameError",n);$.prototype,[$].concat(r);$.$attr_reader("name"),m.def($,"$initialize",i=function(t,e){var r=i.$$p;return r&&(i.$$p=null),null==e&&(e=g),x(this,m.find_super_dispatcher(this,"initialize",i,!1),[t],null),this.name=e},i.$$arity=-2)}(0,0,y),function(t,e,r){function n(){}var i,$=n=v(y[0],null,"NoMethodError",n);$.prototype,[$].concat(r);$.$attr_reader("args"),m.def($,"$initialize",i=function(t,e,r){var n=i.$$p;return n&&(i.$$p=null),null==e&&(e=g),null==r&&(r=[]),x(this,m.find_super_dispatcher(this,"initialize",i,!1),[t,e],null),this.args=r},i.$$arity=-2)}(0,0,y),function(t,e,r){function n(){}var i=n=v(y[0],null,"StopIteration",n);i.prototype,[i].concat(r);i.$attr_reader("result")}(0,0,y),function(t,e,r){function n(){}var $,i,a,s=n=v(y[0],null,"KeyError",n),o=s.prototype,l=[s].concat(r);o.receiver=o.key=g,m.def(s,"$initialize",$=function(t,e){var r,n,i=$.$$p;if(i&&($.$$p=null),null==e)e=c([],{});else if(!e.$$is_hash)throw m.ArgumentError.$new("expected kwargs");return null==(r=e.$$smap.receiver)&&(r=g),null==(n=e.$$smap.key)&&(n=g),x(this,m.find_super_dispatcher(this,"initialize",$,!1),[t],null),this.receiver=r,this.key=n},$.$$arity=-2),m.def(s,"$receiver",i=function(){var t;return k(t=this.receiver)?t:this.$raise(b(l,"ArgumentError"),"no receiver is available")},i.$$arity=0),m.def(s,"$key",a=function(){var t;return k(t=this.key)?t:this.$raise(b(l,"ArgumentError"),"no key is available")},a.$$arity=0)}(0,0,y),function(t,e){function r(){}var n=r=$(y[0],"JS",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var i=n=v(t,null,"Error",n);i.prototype,[i].concat(r)}(i[0],0,i)}(0,y)},Opal.modules["corelib/constants"]=function(t){t.top;var e=[],r=(t.nil,t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.const_set(e[0],"RUBY_PLATFORM","opal"),t.const_set(e[0],"RUBY_ENGINE","opal"),t.const_set(e[0],"RUBY_VERSION","2.5.1"),t.const_set(e[0],"RUBY_ENGINE_VERSION","0.11.99.dev"),t.const_set(e[0],"RUBY_RELEASE_DATE","2018-12-25"),t.const_set(e[0],"RUBY_PATCHLEVEL",0),t.const_set(e[0],"RUBY_REVISION",0),t.const_set(e[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2018 Adam Beynon and the Opal contributors"),t.const_set(e[0],"RUBY_DESCRIPTION","opal "+r(e,"RUBY_ENGINE_VERSION")+" ("+r(e,"RUBY_RELEASE_DATE")+" revision "+r(e,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("corelib/runtime"),e.$require("corelib/helpers"),e.$require("corelib/module"),e.$require("corelib/class"),e.$require("corelib/basic_object"),e.$require("corelib/kernel"),e.$require("corelib/error"),e.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(E){E.top;var A=[],O=E.nil,S=(E.const_get_qualified,E.const_get_relative),R=(E.breaker,E.slice,E.klass),C=E.hash2,T=E.truthy;return E.add_stubs(["$raise","$name","$new","$>","$length","$Rational"]),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x=n=R(A[0],null,"NilClass",n),k=x.prototype,w=[x].concat(r);k.$$meta=x,function(t,e){t.prototype;var r,n=[t].concat(e);E.def(t,"$allocate",r=function(){return this.$raise(S(n,"TypeError"),"allocator undefined for "+this.$name())},r.$$arity=0),E.udef(t,"$new")}(E.get_singleton_class(x),w),E.def(x,"$!",i=function(){return!0},i.$$arity=0),E.def(x,"$&",$=function(t){return!1},$.$$arity=1),E.def(x,"$|",a=function(t){return!1!==t&&t!==O},a.$$arity=1),E.def(x,"$^",s=function(t){return!1!==t&&t!==O},s.$$arity=1),E.def(x,"$==",o=function(t){return t===O},o.$$arity=1),E.def(x,"$dup",l=function(){return O},l.$$arity=0),E.def(x,"$clone",c=function(t){if(null==t)t=C([],{});else if(!t.$$is_hash)throw E.ArgumentError.$new("expected kwargs");return null==t.$$smap.freeze&&!0,O},c.$$arity=-1),E.def(x,"$inspect",u=function(){return"nil"},u.$$arity=0),E.def(x,"$nil?",_=function(){return!0},_.$$arity=0),E.def(x,"$singleton_class",d=function(){return S(w,"NilClass")},d.$$arity=0),E.def(x,"$to_a",h=function(){return[]},h.$$arity=0),E.def(x,"$to_h",f=function(){return E.hash()},f.$$arity=0),E.def(x,"$to_i",p=function(){return 0},p.$$arity=0),E.alias(x,"to_f","to_i"),E.def(x,"$to_s",m=function(){return""},m.$$arity=0),E.def(x,"$to_c",y=function(){return S(w,"Complex").$new(0,0)},y.$$arity=0),E.def(x,"$rationalize",g=function(t){var e,r,n;return e=E.slice.call(arguments,0,arguments.length),T((r=e.$length(),n=1,"number"==typeof r&&"number"==typeof n?n<r:r["$>"](n)))&&this.$raise(S(w,"ArgumentError")),this.$Rational(0,1)},g.$$arity=-1),E.def(x,"$to_r",b=function(){return this.$Rational(0,1)},b.$$arity=0),E.def(x,"$instance_variables",v=function(){return[]},v.$$arity=0)}(0,0,A),E.const_set(A[0],"NIL",O)},Opal.modules["corelib/boolean"]=function(p){p.top;var m=[],y=p.nil,g=(p.const_get_qualified,p.const_get_relative),b=(p.breaker,p.slice,p.klass),v=p.hash2;return p.add_stubs(["$raise","$name"]),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h=n=b(m[0],e,"Boolean",n),f=(h.prototype,[h].concat(r));p.defineProperty(Boolean.prototype,"$$is_boolean",!0),p.defineProperty(Boolean.prototype,"$$meta",h),function(t,e){t.prototype;var r,n=[t].concat(e);p.def(t,"$allocate",r=function(){return this.$raise(g(n,"TypeError"),"allocator undefined for "+this.$name())},r.$$arity=0),p.udef(t,"$new")}(p.get_singleton_class(h),f),p.def(h,"$__id__",i=function(){return this.valueOf()?2:0},i.$$arity=0),p.alias(h,"object_id","__id__"),p.def(h,"$!",$=function(){return 1!=this},$.$$arity=0),p.def(h,"$&",a=function(t){return 1==this&&(!1!==t&&t!==y)},a.$$arity=1),p.def(h,"$|",s=function(t){return 1==this||!1!==t&&t!==y},s.$$arity=1),p.def(h,"$^",o=function(t){return 1==this?!1===t||t===y:!1!==t&&t!==y},o.$$arity=1),p.def(h,"$==",l=function(t){return 1==this===t.valueOf()},l.$$arity=1),p.alias(h,"equal?","=="),p.alias(h,"eql?","=="),p.def(h,"$singleton_class",c=function(){return g(f,"Boolean")},c.$$arity=0),p.def(h,"$to_s",u=function(){return 1==this?"true":"false"},u.$$arity=0),p.def(h,"$dup",_=function(){return this},_.$$arity=0),p.def(h,"$clone",d=function(t){if(null==t)t=v([],{});else if(!t.$$is_hash)throw p.ArgumentError.$new("expected kwargs");return null==t.$$smap.freeze&&!0,this},d.$$arity=-1)}(0,Boolean,m),p.const_set(m[0],"TrueClass",g(m,"Boolean")),p.const_set(m[0],"FalseClass",g(m,"Boolean")),p.const_set(m[0],"TRUE",!0),p.const_set(m[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(d){function h(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function f(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}d.top;var p=[],m=d.nil,y=(d.const_get_qualified,d.const_get_relative),g=(d.breaker,d.slice,d.module),b=d.truthy;return d.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(t,e){function r(){}var n,i,$,a,s,o,l,c,u=r=g(p[0],"Comparable",r),_=(u.prototype,[u].concat(e));d.defs(u,"$normalize",n=function(t){return b(y(_,"Integer")["$==="](t))?t:b(h(t,0))?1:b(f(t,0))?-1:0},n.$$arity=1),d.def(u,"$==",i=function(t){var e=this,r=m;try{return!!b(e["$equal?"](t))||e["$<=>"]!=d.Kernel["$<=>"]&&(e.$$comparable?(delete e.$$comparable,!1):!!b(r=e["$<=>"](t))&&0==y(_,"Comparable").$normalize(r))}catch(t){if(!d.rescue(t,[y(_,"StandardError")]))throw t;try{return!1}finally{d.pop_exception()}}},i.$$arity=1),d.def(u,"$>",$=function(t){var e;return b(e=this["$<=>"](t))||this.$raise(y(_,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),0<y(_,"Comparable").$normalize(e)},$.$$arity=1),d.def(u,"$>=",a=function(t){var e;return b(e=this["$<=>"](t))||this.$raise(y(_,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),0<=y(_,"Comparable").$normalize(e)},a.$$arity=1),d.def(u,"$<",s=function(t){var e;return b(e=this["$<=>"](t))||this.$raise(y(_,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),y(_,"Comparable").$normalize(e)<0},s.$$arity=1),d.def(u,"$<=",o=function(t){var e;return b(e=this["$<=>"](t))||this.$raise(y(_,"ArgumentError"),"comparison of "+this.$class()+" with "+t.$class()+" failed"),y(_,"Comparable").$normalize(e)<=0},o.$$arity=1),d.def(u,"$between?",l=function(t,e){return!f(this,t)&&!h(this,e)},l.$$arity=2),d.def(u,"$clamp",c=function(t,e){var r,n=this;return r=t["$<=>"](e),b(r)||n.$raise(y(_,"ArgumentError"),"comparison of "+t.$class()+" with "+e.$class()+" failed"),b(h(y(_,"Comparable").$normalize(r),0))&&n.$raise(y(_,"ArgumentError"),"min argument must be smaller than max argument"),b(f(y(_,"Comparable").$normalize(n["$<=>"](t)),0))?t:b(h(y(_,"Comparable").$normalize(n["$<=>"](e)),0))?e:n},c.$$arity=2)}(0,p)},Opal.modules["corelib/regexp"]=function(g){g.top;var b=[],v=g.nil,x=(g.const_get_qualified,g.const_get_relative),k=(g.breaker,g.slice,g.klass),w=g.send,E=g.truthy,A=g.gvars;return g.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$=~","$attr_reader","$===","$inspect","$to_a"]),function(t,e,r){function n(){}var i=n=k(t,e,"RegexpError",n);i.prototype,[i].concat(r)}(b[0],x(b,"StandardError"),b),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h=n=k(b[0],e,"Regexp",n),f=(h.prototype,[h].concat(r));g.const_set(f[0],"IGNORECASE",1),g.const_set(f[0],"EXTENDED",2),g.const_set(f[0],"MULTILINE",4),g.defineProperty(RegExp.prototype,"$$is_regexp",!0),function(t,e){t.prototype;var $,r,n,i,a,l=[t].concat(e);g.def(t,"$allocate",$=function(){var t,e=$.$$p,r=v,n=v,i=v;for(e&&($.$$p=null),i=0,t=arguments.length,n=new Array(t);i<t;i++)n[i]=arguments[i];return(r=w(this,g.find_super_dispatcher(this,"allocate",$,!1),n,e)).uninitialized=!0,r},$.$$arity=0),g.def(t,"$escape",r=function(t){return g.escape_regexp(t)},r.$$arity=1),g.def(t,"$last_match",n=function(t){return null==A["~"]&&(A["~"]=v),null==t&&(t=v),E(t["$nil?"]())?A["~"]:A["~"]["$[]"](t)},n.$$arity=-1),g.alias(t,"quote","escape"),g.def(t,"$union",i=function(t){var e,r,n,i,$,a,s=this;if(0==(e=g.slice.call(arguments,0,arguments.length)).length)return/(?!)/;if(1==e.length&&e[0].$$is_regexp)return e[0];r=e[0].$$is_array,1<e.length&&r&&s.$raise(x(l,"TypeError"),"no implicit conversion of Array into String"),r&&(e=e[0]),$=void 0,n=[];for(var o=0;o<e.length;o++)(i=e[o]).$$is_string?n.push(s.$escape(i)):i.$$is_regexp?(a=i.$options(),null!=$&&$!=a&&s.$raise(x(l,"TypeError"),"All expressions must use the same options"),$=a,n.push("("+i.source+")")):n.push(s.$escape(i.$to_str()));return s.$new(n.$join("|"),$)},i.$$arity=-1),g.def(t,"$new",a=function(t,e){if(t.$$is_regexp)return new RegExp(t);if("\\"===(t=x(l,"Opal")["$coerce_to!"](t,x(l,"String"),"to_str")).charAt(t.length-1)&&"\\"!==t.charAt(t.length-2)&&this.$raise(x(l,"RegexpError"),"too short escape sequence: /"+t+"/"),void 0===e||e["$!"]())return new RegExp(t);if(e.$$is_number){var r="";x(l,"IGNORECASE")&e&&(r+="i"),x(l,"MULTILINE")&e&&(r+="m"),e=r}else e="i";return new RegExp(t,e)},a.$$arity=-2)}(g.get_singleton_class(h),f),g.def(h,"$==",i=function(t){return t instanceof RegExp&&this.toString()===t.toString()},i.$$arity=1),g.def(h,"$===",$=function(t){return this.$match(x(f,"Opal")["$coerce_to?"](t,x(f,"String"),"to_str"))!==v},$.$$arity=1),g.def(h,"$=~",a=function(t){var e;return null==A["~"]&&(A["~"]=v),E(e=this.$match(t))?A["~"].$begin(0):e},a.$$arity=1),g.alias(h,"eql?","=="),g.def(h,"$inspect",s=function(){var t=this.toString(),e=/^\/(.*)\/([^\/]*)$/.exec(t);if(e){for(var r=e[1],n=e[2],i=r.split(""),$=i.length,a=!1,s="",o=0;o<$;o++){var l=i[o];a||"/"!=l||(s=s.concat("\\")),s=s.concat(l),a="\\"==l&&!a}return"/"+s+"/"+n}return t},s.$$arity=0),g.def(h,"$match",o=function(t,e){var r=o.$$p,n=r||v,i=this;if(null==A["~"]&&(A["~"]=v),r&&(o.$$p=null),r&&(o.$$p=null),i.uninitialized&&i.$raise(x(f,"TypeError"),"uninitialized Regexp"),void 0===e){if(t===v)return A["~"]=v;var $=i.exec(x(f,"Opal").$coerce_to(t,x(f,"String"),"to_str"));return $?(A["~"]=x(f,"MatchData").$new(i,$),n===v?A["~"]:g.yield1(n,A["~"])):A["~"]=v}if(e=x(f,"Opal").$coerce_to(e,x(f,"Integer"),"to_int"),t===v)return A["~"]=v;if(t=x(f,"Opal").$coerce_to(t,x(f,"String"),"to_str"),e<0&&(e+=t.length)<0)return A["~"]=v;for(var a,s=g.global_regexp(i);;){if(null===(a=s.exec(t)))return A["~"]=v;if(a.index>=e)return A["~"]=x(f,"MatchData").$new(s,a),n===v?A["~"]:g.yield1(n,A["~"]);s.lastIndex=a.index+1}},o.$$arity=-2),g.def(h,"$match?",l=function(t,e){var r;return this.uninitialized&&this.$raise(x(f,"TypeError"),"uninitialized Regexp"),void 0===e?t!==v&&this.test(x(f,"Opal").$coerce_to(t,x(f,"String"),"to_str")):(e=x(f,"Opal").$coerce_to(e,x(f,"Integer"),"to_int"),t!==v&&(t=x(f,"Opal").$coerce_to(t,x(f,"String"),"to_str"),!(e<0&&(e+=t.length)<0)&&!(null===(r=g.global_regexp(this).exec(t))||r.index<e)))},l.$$arity=-2),g.def(h,"$~",c=function(){return null==A._&&(A._=v),this["$=~"](A._)},c.$$arity=0),g.def(h,"$source",u=function(){return this.source},u.$$arity=0),g.def(h,"$options",_=function(){this.uninitialized&&this.$raise(x(f,"TypeError"),"uninitialized Regexp");var t=0;return this.multiline&&(t|=x(f,"MULTILINE")),this.ignoreCase&&(t|=x(f,"IGNORECASE")),t},_.$$arity=0),g.def(h,"$casefold?",d=function(){return this.ignoreCase},d.$$arity=0),g.alias(h,"to_s","source")}(0,RegExp,b),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p=n=k(b[0],null,"MatchData",n),m=p.prototype,y=[p].concat(r);return m.matches=v,p.$attr_reader("post_match","pre_match","regexp","string"),g.def(p,"$initialize",i=function(t,e){var r=this;(A["~"]=r).regexp=t,r.begin=e.index,r.string=e.input,r.pre_match=e.input.slice(0,e.index),r.post_match=e.input.slice(e.index+e[0].length),r.matches=[];for(var n=0,i=e.length;n<i;n++){var $=e[n];null==$?r.matches.push(v):r.matches.push($)}},i.$$arity=2),g.def(p,"$[]",$=function(t){var e;return e=g.slice.call(arguments,0,arguments.length),w(this.matches,"[]",g.to_a(e))},$.$$arity=-1),g.def(p,"$offset",a=function(t){return 0!==t&&this.$raise(x(y,"ArgumentError"),"MatchData#offset only supports 0th element"),[this.begin,this.begin+this.matches[t].length]},a.$$arity=1),g.def(p,"$==",s=function(t){var e,r,n,i,$=this;return!!E(x(y,"MatchData")["$==="](t))&&(E(e=E(r=E(n=E(i=$.string==t.string)?$.regexp.toString()==t.regexp.toString():i)?$.pre_match==t.pre_match:n)?$.post_match==t.post_match:r)?$.begin==t.begin:e)},s.$$arity=1),g.alias(p,"eql?","=="),g.def(p,"$begin",o=function(t){return 0!==t&&this.$raise(x(y,"ArgumentError"),"MatchData#begin only supports 0th element"),this.begin},o.$$arity=1),g.def(p,"$end",l=function(t){return 0!==t&&this.$raise(x(y,"ArgumentError"),"MatchData#end only supports 0th element"),this.begin+this.matches[t].length},l.$$arity=1),g.def(p,"$captures",c=function(){return this.matches.slice(1)},c.$$arity=0),g.def(p,"$inspect",u=function(){for(var t="#<MatchData "+this.matches[0].$inspect(),e=1,r=this.matches.length;e<r;e++)t+=" "+e+":"+this.matches[e].$inspect();return t+">"},u.$$arity=0),g.def(p,"$length",_=function(){return this.matches.length},_.$$arity=0),g.alias(p,"size","length"),g.def(p,"$to_a",d=function(){return this.matches},d.$$arity=0),g.def(p,"$to_s",h=function(){return this.matches[0]},h.$$arity=0),g.def(p,"$values_at",f=function(t){var e;e=g.slice.call(arguments,0,arguments.length);var r,n,i,$=[];for(r=0;r<e.length;r++)e[r].$$is_range&&((n=e[r].$to_a()).unshift(r,1),Array.prototype.splice.apply(e,n)),(i=x(y,"Opal")["$coerce_to!"](e[r],x(y,"Integer"),"to_int"))<0&&(i+=this.matches.length)<0?$.push(v):$.push(this.matches[i]);return $},f.$$arity=-1),v&&"values_at"}(0,0,b)},Opal.modules["corelib/string"]=function(Rt){function Ct(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function Tt(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var t=Rt.top,Mt=[],It=Rt.nil,Nt=(Rt.const_get_qualified,Rt.const_get_relative),Pt=(Rt.breaker,Rt.slice,Rt.klass),zt=Rt.truthy,Lt=Rt.send,Dt=Rt.gvars;return Rt.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$force_encoding","$casecmp","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$match?","$captures","$proc","$succ","$escape"]),t.$require("corelib/comparable"),t.$require("corelib/regexp"),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k,w,E,A,O,S,R,C,T,M,I,N,P,z,L,D,F,B,q,j,U,H,Y,G,W,X,V,K,J,Z,Q,tt,et,rt,nt,it,$t,at,st,ot,lt,ct,ut,_t,dt,ht,ft,pt,mt,yt,gt,bt,vt,xt,kt,wt,Et,At=n=Pt(Mt[0],e,"String",n),Ot=(At.prototype,[At].concat(r));function St(t){function e(t){var e,r,n,i,$,a,s="",o=t.length;for(e=0;e<o;e++)if("-"===(r=t.charAt(e))&&0<e&&e<o-1&&!n){for(i=t.charCodeAt(e-1),($=t.charCodeAt(e+1))<i&&At.$raise(Nt(Ot,"ArgumentError"),'invalid range "'+i+"-"+$+'" in string transliteration'),a=i+1;a<$+1;a++)s+=String.fromCharCode(a);n=!0,e++}else n="\\"===r,s+=r;return s}function r(t,e){if(0===t.length)return e;var r,n,i="",$=t.length;for(r=0;r<$;r++)n=t.charAt(r),-1!==e.indexOf(n)&&(i+=n);return i}var n,i,$,a,s,o,l="",c="";for(n=0,i=t.length;n<i;n++)$=e((a="^"===($=Nt(Ot,"Opal").$coerce_to(t[n],Nt(Ot,"String"),"to_str")).charAt(0)&&1<$.length)?$.slice(1):$),a?c=r(c,$):l=r(l,$);if(0<l.length&&0<c.length){for(o="",n=0,i=l.length;n<i;n++)s=l.charAt(n),-1===c.indexOf(s)&&(o+=s);l=o,c=""}return 0<l.length?"["+Nt(Ot,"Regexp").$escape(l)+"]":0<c.length?"[^"+Nt(Ot,"Regexp").$escape(c)+"]":null}At.$include(Nt(Ot,"Comparable")),Rt.defineProperty(String.prototype,"$$is_string",!0),Rt.defineProperty(String.prototype,"$$cast",function(t){var e=this.$$class;return e===String?t:new e(t)}),Rt.def(At,"$__id__",i=function(){return this.toString()},i.$$arity=0),Rt.alias(At,"object_id","__id__"),Rt.defs(At,"$try_convert",$=function(t){return Nt(Ot,"Opal")["$coerce_to?"](t,Nt(Ot,"String"),"to_str")},$.$$arity=1),Rt.defs(At,"$new",a=function(t){return null==t&&(t=""),new this(t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"String"),"to_str"))},a.$$arity=-1),Rt.def(At,"$initialize",s=function(t){return void 0===t?this:this.$raise(Nt(Ot,"NotImplementedError"),"Mutable strings are not supported in Opal.")},s.$$arity=-1),Rt.def(At,"$%",o=function(t){var e=this;return zt(Nt(Ot,"Array")["$==="](t))?Lt(e,"format",[e].concat(Rt.to_a(t))):e.$format(e,t)},o.$$arity=1),Rt.def(At,"$*",l=function(t){var e=this;if((t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"Integer"),"to_int"))<0&&e.$raise(Nt(Ot,"ArgumentError"),"negative argument"),0===t)return e.$$cast("");var r="",n=e.toString();for(n.length*t>=1<<28&&e.$raise(Nt(Ot,"RangeError"),"multiply count must not overflow maximum string size");1==(1&t)&&(r+=n),0!==(t>>>=1);)n+=n;return e.$$cast(r)},l.$$arity=1),Rt.def(At,"$+",c=function(t){return this+(t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"String"),"to_str")).$to_s()},c.$$arity=1),Rt.def(At,"$<=>",u=function(t){if(zt(t["$respond_to?"]("to_str")))return(t=t.$to_str().$to_s())<this?1:this<t?-1:0;var e=t["$<=>"](this);return e===It?It:0<e?-1:e<0?1:0},u.$$arity=1),Rt.def(At,"$==",_=function(t){return t.$$is_string?this.toString()===t.toString():!!Nt(Ot,"Opal")["$respond_to?"](t,"to_str")&&t["$=="](this)},_.$$arity=1),Rt.alias(At,"eql?","=="),Rt.alias(At,"===","=="),Rt.def(At,"$=~",d=function(t){return t.$$is_string&&this.$raise(Nt(Ot,"TypeError"),"type mismatch: String given"),t["$=~"](this)},d.$$arity=1),Rt.def(At,"$[]",h=function(t,e){var r,n=this,i=n.length;if(t.$$is_range)return r=t.excl,e=Nt(Ot,"Opal").$coerce_to(t.end,Nt(Ot,"Integer"),"to_int"),t=Nt(Ot,"Opal").$coerce_to(t.begin,Nt(Ot,"Integer"),"to_int"),Math.abs(t)>i?It:(t<0&&(t+=i),e<0&&(e+=i),r||(e+=1),(e-=t)<0&&(e=0),n.$$cast(n.substr(t,e)));if(t.$$is_string)return null!=e&&n.$raise(Nt(Ot,"TypeError")),-1!==n.indexOf(t)?n.$$cast(t):It;if(t.$$is_regexp){var $=n.match(t);return null===$?Dt["~"]=It:(Dt["~"]=Nt(Ot,"MatchData").$new(t,$),null==e?n.$$cast($[0]):(e=Nt(Ot,"Opal").$coerce_to(e,Nt(Ot,"Integer"),"to_int"))<0&&-e<$.length?n.$$cast($[e+=$.length]):0<=e&&e<$.length?n.$$cast($[e]):It)}return(t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"Integer"),"to_int"))<0&&(t+=i),null==e?i<=t||t<0?It:n.$$cast(n.substr(t,1)):(e=Nt(Ot,"Opal").$coerce_to(e,Nt(Ot,"Integer"),"to_int"))<0?It:i<t||t<0?It:n.$$cast(n.substr(t,e))},h.$$arity=-2),Rt.alias(At,"byteslice","[]"),Rt.def(At,"$b",f=function(){return this.$force_encoding("binary")},f.$$arity=0),Rt.def(At,"$capitalize",p=function(){return this.$$cast(this.charAt(0).toUpperCase()+this.substr(1).toLowerCase())},p.$$arity=0),Rt.def(At,"$casecmp",m=function(t){var e=this;if(!zt(t["$respond_to?"]("to_str")))return It;t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"String"),"to_str").$to_s();var r=/^[\x00-\x7F]*$/;return r.test(e)&&r.test(t)&&(e=e.toLowerCase(),t=t.toLowerCase()),e["$<=>"](t)},m.$$arity=1),Rt.def(At,"$casecmp?",y=function(t){var e=this.$casecmp(t);return e===It?It:0===e},y.$$arity=1),Rt.def(At,"$center",g=function(t,e){var r=this;if(null==e&&(e=" "),t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"Integer"),"to_int"),e=Nt(Ot,"Opal").$coerce_to(e,Nt(Ot,"String"),"to_str").$to_s(),zt(e["$empty?"]())&&r.$raise(Nt(Ot,"ArgumentError"),"zero width padding"),zt(t<=r.length))return r;var n=r.$ljust(Ct(Tt(t,r.length),2).$ceil(),e),i=r.$rjust(Ct(Tt(t,r.length),2).$floor(),e);return r.$$cast(i+n.slice(r.length))},g.$$arity=-2),Rt.def(At,"$chars",b=function(){var t=b.$$p,e=t||It;return t&&(b.$$p=null),t&&(b.$$p=null),zt(e)?Lt(this,"each_char",[],e.$to_proc()):this.$each_char().$to_a()},b.$$arity=0),Rt.def(At,"$chomp",v=function(t){var e,r=this;if(null==Dt["/"]&&(Dt["/"]=It),null==t&&(t=Dt["/"]),zt(t===It||0===r.length))return r;if("\n"===(t=Nt(Ot,"Opal")["$coerce_to!"](t,Nt(Ot,"String"),"to_str").$to_s()))e=r.replace(/\r?\n?$/,"");else if(""===t)e=r.replace(/(\r?\n)+$/,"");else if(r.length>t.length){r.substr(r.length-t.length,t.length)===t&&(e=r.substr(0,r.length-t.length))}return null!=e?r.$$cast(e):r},v.$$arity=-1),Rt.def(At,"$chop",x=function(){var t,e=this,r=e.length;return t=r<=1?"":"\n"===e.charAt(r-1)&&"\r"===e.charAt(r-2)?e.substr(0,r-2):e.substr(0,r-1),e.$$cast(t)},x.$$arity=0),Rt.def(At,"$chr",k=function(){return this.charAt(0)},k.$$arity=0),Rt.def(At,"$clone",w=function(){var t=It;return(t=this.slice()).$copy_singleton_methods(this),t.$initialize_clone(this),t},w.$$arity=0),Rt.def(At,"$dup",E=function(){var t=It;return(t=this.slice()).$initialize_dup(this),t},E.$$arity=0),Rt.def(At,"$count",A=function(t){var e;0===(e=Rt.slice.call(arguments,0,arguments.length)).length&&this.$raise(Nt(Ot,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var r=St(e);return null===r?0:this.length-this.replace(new RegExp(r,"g"),"").length},A.$$arity=-1),Rt.def(At,"$delete",O=function(t){var e;0===(e=Rt.slice.call(arguments,0,arguments.length)).length&&this.$raise(Nt(Ot,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var r=St(e);return null===r?this:this.$$cast(this.replace(new RegExp(r,"g"),""))},O.$$arity=-1),Rt.def(At,"$delete_prefix",S=function(t){return t.$$is_string||(t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"String"),"to_str")),this.slice(0,t.length)===t?this.$$cast(this.slice(t.length)):this},S.$$arity=1),Rt.def(At,"$delete_suffix",R=function(t){var e=this;return t.$$is_string||(t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"String"),"to_str")),e.slice(e.length-t.length)===t?e.$$cast(e.slice(0,e.length-t.length)):e},R.$$arity=1),Rt.def(At,"$downcase",C=function(){return this.$$cast(this.toLowerCase())},C.$$arity=0),Rt.def(At,"$each_char",T=function(){var t,e=T.$$p,r=e||It,n=this;if(e&&(T.$$p=null),e&&(T.$$p=null),r===It)return Lt(n,"enum_for",["each_char"],((t=function(){return(t.$$s||this).$size()}).$$s=n,t.$$arity=0,t));for(var i=0,$=n.length;i<$;i++)Rt.yield1(r,n.charAt(i));return n},T.$$arity=0),Rt.def(At,"$each_line",M=function(t){var e,r,n,i,$,a,s,o=M.$$p,l=o||It,c=this;if(null==Dt["/"]&&(Dt["/"]=It),o&&(M.$$p=null),o&&(M.$$p=null),null==t&&(t=Dt["/"]),l===It)return c.$enum_for("each_line",t);if(t===It)return Rt.yield1(l,c),c;if(0===(t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"String"),"to_str")).length){for(r=0,n=(e=c.split(/(\n{2,})/)).length;r<n;r+=2)if(e[r]||e[r+1]){var u=(e[r]||"")+(e[r+1]||"");Rt.yield1(l,c.$$cast(u))}return c}for($=c.$chomp(t),a=c.length!=$.length,r=0,i=(s=$.split(t)).length;r<i;r++)r<i-1||a?Rt.yield1(l,c.$$cast(s[r]+t)):Rt.yield1(l,c.$$cast(s[r]));return c},M.$$arity=-1),Rt.def(At,"$empty?",I=function(){return 0===this.length},I.$$arity=0),Rt.def(At,"$end_with?",N=function(t){for(var e,r=0,n=(e=Rt.slice.call(arguments,0,arguments.length)).length;r<n;r++){var i=Nt(Ot,"Opal").$coerce_to(e[r],Nt(Ot,"String"),"to_str").$to_s();if(this.length>=i.length&&this.substr(this.length-i.length,i.length)==i)return!0}return!1},N.$$arity=-1),Rt.alias(At,"equal?","==="),Rt.def(At,"$gsub",P=function(t,e){var r=P.$$p,n=r||It,i=this;if(r&&(P.$$p=null),r&&(P.$$p=null),void 0===e&&n===It)return i.$enum_for("gsub",t);var $,a,s,o="",l=It,c=0;for(t=t.$$is_regexp?Rt.global_multiline_regexp(t):(t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"String"),"to_str"),new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(null===($=t.exec(i))){Dt["~"]=It,o+=i.slice(c);break}l=Nt(Ot,"MatchData").$new(t,$),void 0===e?(s=t.lastIndex,a=n($[0]),t.lastIndex=s):a=e.$$is_hash?e["$[]"]($[0]).$to_s():(e.$$is_string||(e=Nt(Ot,"Opal").$coerce_to(e,Nt(Ot,"String"),"to_str")),e.replace(/([\\]+)([0-9+&`'])/g,function(t,e,r){if(e.length%2==0)return t;switch(r){case"+":for(var n=$.length-1;0<n;n--)if(void 0!==$[n])return e.slice(1)+$[n];return"";case"&":return e.slice(1)+$[0];case"`":return e.slice(1)+i.slice(0,$.index);case"'":return e.slice(1)+i.slice($.index+$[0].length);default:return e.slice(1)+($[r]||"")}}).replace(/\\\\/g,"\\")),t.lastIndex===$.index?(o+=a+i.slice(c,$.index+1),t.lastIndex+=1):o+=i.slice(c,$.index)+a,c=t.lastIndex}return Dt["~"]=l,i.$$cast(o)},P.$$arity=-2),Rt.def(At,"$hash",z=function(){return this.toString()},z.$$arity=0),Rt.def(At,"$hex",L=function(){return this.$to_i(16)},L.$$arity=0),Rt.def(At,"$include?",D=function(t){return t.$$is_string||(t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"String"),"to_str")),-1!==this.indexOf(t)},D.$$arity=1),Rt.def(At,"$index",F=function(t,e){var r,n,i;if(void 0===e)e=0;else if((e=Nt(Ot,"Opal").$coerce_to(e,Nt(Ot,"Integer"),"to_int"))<0&&(e+=this.length)<0)return It;if(t.$$is_regexp)for(i=Rt.global_multiline_regexp(t);;){if(null===(n=i.exec(this))){Dt["~"]=It,r=-1;break}if(n.index>=e){Dt["~"]=Nt(Ot,"MatchData").$new(i,n),r=n.index;break}i.lastIndex=n.index+1}else r=0===(t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"String"),"to_str")).length&&e>this.length?-1:this.indexOf(t,e);return-1===r?It:r},F.$$arity=-2),Rt.def(At,"$inspect",B=function(){var e={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(t){return e[t]||"\\u"+("0000"+t.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},B.$$arity=0),Rt.def(At,"$intern",q=function(){return this.toString()},q.$$arity=0),Rt.def(At,"$lines",j=function(t){var e=j.$$p,r=e||It,n=It;return null==Dt["/"]&&(Dt["/"]=It),e&&(j.$$p=null),e&&(j.$$p=null),null==t&&(t=Dt["/"]),n=Lt(this,"each_line",[t],r.$to_proc()),zt(r)?this:n.$to_a()},j.$$arity=-1),Rt.def(At,"$length",U=function(){return this.length},U.$$arity=0),Rt.def(At,"$ljust",H=function(t,e){var r=this;if(null==e&&(e=" "),t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"Integer"),"to_int"),e=Nt(Ot,"Opal").$coerce_to(e,Nt(Ot,"String"),"to_str").$to_s(),zt(e["$empty?"]())&&r.$raise(Nt(Ot,"ArgumentError"),"zero width padding"),zt(t<=r.length))return r;var n=-1,i="";for(t-=r.length;++n<t;)i+=e;return r.$$cast(r+i.slice(0,t))},H.$$arity=-2),Rt.def(At,"$lstrip",Y=function(){return this.replace(/^\s*/,"")},Y.$$arity=0),Rt.def(At,"$ascii_only?",G=function(){return this.match(/[ -~\n]*/)[0]===this},G.$$arity=0),Rt.def(At,"$match",W=function(t,e){var r,n=W.$$p,i=n||It;return n&&(W.$$p=null),n&&(W.$$p=null),zt(zt(r=Nt(Ot,"String")["$==="](t))?r:t["$respond_to?"]("to_str"))&&(t=Nt(Ot,"Regexp").$new(t.$to_str())),zt(Nt(Ot,"Regexp")["$==="](t))||this.$raise(Nt(Ot,"TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),Lt(t,"match",[this,e],i.$to_proc())},W.$$arity=-2),Rt.def(At,"$match?",X=function(t,e){var r;return zt(zt(r=Nt(Ot,"String")["$==="](t))?r:t["$respond_to?"]("to_str"))&&(t=Nt(Ot,"Regexp").$new(t.$to_str())),zt(Nt(Ot,"Regexp")["$==="](t))||this.$raise(Nt(Ot,"TypeError"),"wrong argument type "+t.$class()+" (expected Regexp)"),t["$match?"](this,e)},X.$$arity=-2),Rt.def(At,"$next",V=function(){var t=this,e=t.length;if(0===e)return t.$$cast("");for(var r,n=t,i=t.search(/[a-zA-Z0-9]/),$=!1;e--;){if(48<=(r=t.charCodeAt(e))&&r<=57||65<=r&&r<=90||97<=r&&r<=122)switch(r){case 57:$=!0,r=48;break;case 90:$=!0,r=65;break;case 122:$=!0,r=97;break;default:$=!1,r+=1}else-1===i?255===r?($=!0,r=0):($=!1,r+=1):$=!0;if(n=n.slice(0,e)+String.fromCharCode(r)+n.slice(e+1),$&&(0===e||e===i)){switch(r){case 65:case 97:break;default:r+=1}n=0===e?String.fromCharCode(r)+n:n.slice(0,e)+String.fromCharCode(r)+n.slice(e),$=!1}if(!$)break}return t.$$cast(n)},V.$$arity=0),Rt.def(At,"$oct",K=function(){var t,e=this,i=8;return/^\s*_/.test(e)?0:(e=e.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(t,e,r,n){switch(n.charAt(0)){case"+":case"-":return t;case"0":if("x"===n.charAt(1)&&"0x"===r)return t}switch(r){case"0b":i=2;break;case"0":case"0o":i=8;break;case"0d":i=10;break;case"0x":i=16}return e+n}),t=parseInt(e.replace(/_(?!_)/g,""),i),isNaN(t)?0:t)},K.$$arity=0),Rt.def(At,"$ord",J=function(){return this.charCodeAt(0)},J.$$arity=0),Rt.def(At,"$partition",Z=function(t){var e,r,n=this;return-1===(e=t.$$is_regexp?null===(r=t.exec(n))?-1:(Nt(Ot,"MatchData").$new(t,r),t=r[0],r.index):(t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"String"),"to_str"),n.indexOf(t)))?[n,"",""]:[n.slice(0,e),n.slice(e,e+t.length),n.slice(e+t.length)]},Z.$$arity=1),Rt.def(At,"$reverse",Q=function(){return this.split("").reverse().join("")},Q.$$arity=0),Rt.def(At,"$rindex",tt=function(t,e){var r,n,i,$;if(void 0===e)e=this.length;else if((e=Nt(Ot,"Opal").$coerce_to(e,Nt(Ot,"Integer"),"to_int"))<0&&(e+=this.length)<0)return It;if(t.$$is_regexp){for(n=null,i=Rt.global_multiline_regexp(t);!(null===($=i.exec(this))||$.index>e);)n=$,i.lastIndex=n.index+1;r=null===n?(Dt["~"]=It,-1):(Nt(Ot,"MatchData").$new(i,n),n.index)}else t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"String"),"to_str"),r=this.lastIndexOf(t,e);return-1===r?It:r},tt.$$arity=-2),Rt.def(At,"$rjust",et=function(t,e){var r=this;if(null==e&&(e=" "),t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"Integer"),"to_int"),e=Nt(Ot,"Opal").$coerce_to(e,Nt(Ot,"String"),"to_str").$to_s(),zt(e["$empty?"]())&&r.$raise(Nt(Ot,"ArgumentError"),"zero width padding"),zt(t<=r.length))return r;var n=Math.floor(t-r.length),i=Math.floor(n/e.length),$=Array(i+1).join(e),a=n-$.length;return r.$$cast($+e.slice(0,a)+r)},et.$$arity=-2),Rt.def(At,"$rpartition",rt=function(t){var e,r,n,i,$=this;if(t.$$is_regexp){for(r=null,n=Rt.global_multiline_regexp(t);null!==(i=n.exec($));)r=i,n.lastIndex=r.index+1;e=null===r?-1:(Nt(Ot,"MatchData").$new(n,r),t=r[0],r.index)}else t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"String"),"to_str"),e=$.lastIndexOf(t);return-1===e?["","",$]:[$.slice(0,e),$.slice(e,e+t.length),$.slice(e+t.length)]},rt.$$arity=1),Rt.def(At,"$rstrip",nt=function(){return this.replace(/[\s\u0000]*$/,"")},nt.$$arity=0),Rt.def(At,"$scan",it=function(t){var e=it.$$p,r=e||It;e&&(it.$$p=null),e&&(it.$$p=null);var n,i=[],$=It;for(t=t.$$is_regexp?Rt.global_multiline_regexp(t):(t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"String"),"to_str"),new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(n=t.exec(this));)$=Nt(Ot,"MatchData").$new(t,n),r===It?1==n.length?i.push(n[0]):i.push($.$captures()):1==n.length?r(n[0]):r.call(this,$.$captures()),t.lastIndex===n.index&&(t.lastIndex+=1);return Dt["~"]=$,r!==It?this:i},it.$$arity=1),Rt.alias(At,"size","length"),Rt.alias(At,"slice","[]"),Rt.def(At,"$split",$t=function(t,e){var r,n=this;if(null==Dt[";"]&&(Dt[";"]=It),0===n.length)return[];if(void 0===e)e=0;else if(1===(e=Nt(Ot,"Opal")["$coerce_to!"](e,Nt(Ot,"Integer"),"to_int")))return[n];void 0!==t&&t!==It||(t=zt(r=Dt[";"])?r:" ");var i,$,a,s=[],o=n.toString(),l=0;if(t.$$is_regexp?t=Rt.global_multiline_regexp(t):" "===(t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"String"),"to_str").$to_s())?(t=/\s+/gm,o=o.replace(/^\s+/,"")):t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"),1===(s=o.split(t)).length&&s[0]===o)return[n.$$cast(s[0])];for(;-1!==($=s.indexOf(void 0));)s.splice($,1);function c(){for($=0;$<s.length;$++)s[$]=n.$$cast(s[$])}if(0===e){for(;""===s[s.length-1];)s.length-=1;return c(),s}if(i=t.exec(o),e<0){if(null!==i&&""===i[0]&&-1===t.source.indexOf("(?="))for($=0,a=i.length;$<a;$++)s.push("");return c(),s}if(null!==i&&""===i[0])return s.splice(e-1,s.length-1,s.slice(e-1).join("")),c(),s;if(e>=s.length)return c(),s;for($=0;null!==i&&($++,l=t.lastIndex,$+1!==e);)i=t.exec(o);return s.splice(e-1,s.length-1,o.slice(l)),c(),s},$t.$$arity=-1),Rt.def(At,"$squeeze",at=function(t){var e,r=this;if(0===(e=Rt.slice.call(arguments,0,arguments.length)).length)return r.$$cast(r.replace(/(.)\1+/g,"$1"));var n=St(e);return null===n?r:r.$$cast(r.replace(new RegExp("("+n+")\\1+","g"),"$1"))},at.$$arity=-1),Rt.def(At,"$start_with?",st=function(t){for(var e,r=0,n=(e=Rt.slice.call(arguments,0,arguments.length)).length;r<n;r++){var i=Nt(Ot,"Opal").$coerce_to(e[r],Nt(Ot,"String"),"to_str").$to_s();if(0===this.indexOf(i))return!0}return!1},st.$$arity=-1),Rt.def(At,"$strip",ot=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},ot.$$arity=0),Rt.def(At,"$sub",lt=function(t,e){var r=lt.$$p,n=r||It,i=this;r&&(lt.$$p=null),r&&(lt.$$p=null),t.$$is_regexp||(t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"String"),"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var $,a=t.exec(i);return $=null===a?(Dt["~"]=It,i.toString()):(Nt(Ot,"MatchData").$new(t,a),void 0===e?(n===It&&i.$raise(Nt(Ot,"ArgumentError"),"wrong number of arguments (1 for 2)"),i.slice(0,a.index)+n(a[0])+i.slice(a.index+a[0].length)):e.$$is_hash?i.slice(0,a.index)+e["$[]"](a[0]).$to_s()+i.slice(a.index+a[0].length):(e=(e=Nt(Ot,"Opal").$coerce_to(e,Nt(Ot,"String"),"to_str")).replace(/([\\]+)([0-9+&`'])/g,function(t,e,r){if(e.length%2==0)return t;switch(r){case"+":for(var n=a.length-1;0<n;n--)if(void 0!==a[n])return e.slice(1)+a[n];return"";case"&":return e.slice(1)+a[0];case"`":return e.slice(1)+i.slice(0,a.index);case"'":return e.slice(1)+i.slice(a.index+a[0].length);default:return e.slice(1)+(a[r]||"")}}).replace(/\\\\/g,"\\"),i.slice(0,a.index)+e+i.slice(a.index+a[0].length))),i.$$cast($)},lt.$$arity=-2),Rt.alias(At,"succ","next"),Rt.def(At,"$sum",ct=function(t){null==t&&(t=16),t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"Integer"),"to_int");for(var e=0,r=this.length,n=0;n<r;n++)e+=this.charCodeAt(n);return t<=0?e:e&Math.pow(2,t)-1},ct.$$arity=-1),Rt.def(At,"$swapcase",ut=function(){var t=this.replace(/([a-z]+)|([A-Z]+)/g,function(t,e,r){return e?t.toUpperCase():t.toLowerCase()});return this.constructor===String?t:this.$class().$new(t)},ut.$$arity=0),Rt.def(At,"$to_f",_t=function(){if("_"===this.charAt(0))return 0;var t=parseFloat(this.replace(/_/g,""));return isNaN(t)||t==1/0||t==-1/0?0:t},_t.$$arity=0),Rt.def(At,"$to_i",dt=function(t){null==t&&(t=10);var e,r=this.toLowerCase(),i=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"Integer"),"to_int");return(1===i||i<0||36<i)&&this.$raise(Nt(Ot,"ArgumentError"),"invalid radix "+i),/^\s*_/.test(r)?0:(r=r.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(t,e,r,n){switch(n.charAt(0)){case"+":case"-":return t;case"0":if("x"===n.charAt(1)&&"0x"===r&&(0===i||16===i))return t}switch(r){case"0b":if(0===i||2===i)return i=2,e+n;break;case"0":case"0o":if(0===i||8===i)return i=8,e+n;break;case"0d":if(0===i||10===i)return i=10,e+n;break;case"0x":if(0===i||16===i)return i=16,e+n}return t}),e=parseInt(r.replace(/_(?!_)/g,""),i),isNaN(e)?0:e)},dt.$$arity=-1),Rt.def(At,"$to_proc",ht=function(){var s,o,t=ht.$$p;return t&&(ht.$$p=null),o=Tt("$",this.valueOf()),Lt(this,"proc",[],((s=function(t){var e,r=s.$$s||this,n=s.$$p,i=n||It;n&&(s.$$p=null),0===(e=Rt.slice.call(arguments,0,arguments.length)).length&&r.$raise(Nt(Ot,"ArgumentError"),"no receiver given");var $=e[0];null==$&&($=It);var a=$[o];return a?("function"==typeof i&&(a.$$p=i),1===e.length?a.call($):a.apply($,e.slice(1))):$.$method_missing.apply($,e)}).$$s=this,s.$$arity=-1,s))},ht.$$arity=0),Rt.def(At,"$to_s",ft=function(){return this.toString()},ft.$$arity=0),Rt.alias(At,"to_str","to_s"),Rt.alias(At,"to_sym","intern"),Rt.def(At,"$tr",pt=function(t,e){var r,n,i,$,a,s,o,l=this;if(t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"String"),"to_str").$to_s(),e=Nt(Ot,"Opal").$coerce_to(e,Nt(Ot,"String"),"to_str").$to_s(),0==t.length||t===e)return l;var c={},u=t.split(""),_=u.length,d=e.split(""),h=d.length,f=!1,p=null;"^"===u[0]&&1<u.length&&(f=!0,u.shift(),p=d[h-1],_-=1);var m=[],y=null;for(n=!1,r=0;r<_;r++)if($=u[r],null==y)y=$,m.push($);else if("-"===$)"-"===y?(m.push("-"),m.push("-")):r==_-1?m.push("-"):n=!0;else if(n){for(a=y.charCodeAt(0),(s=$.charCodeAt(0))<a&&l.$raise(Nt(Ot,"ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(s)+'" in string transliteration'),i=a+1;i<s;i++)m.push(String.fromCharCode(i));m.push($),y=n=null}else m.push($);if(_=(u=m).length,f)for(r=0;r<_;r++)c[u[r]]=!0;else{if(0<h){var g=[],b=null;for(n=!1,r=0;r<h;r++)if($=d[r],null==b)b=$,g.push($);else if("-"===$)"-"===b?(g.push("-"),g.push("-")):r==h-1?g.push("-"):n=!0;else if(n){for(a=b.charCodeAt(0),(s=$.charCodeAt(0))<a&&l.$raise(Nt(Ot,"ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(s)+'" in string transliteration'),i=a+1;i<s;i++)g.push(String.fromCharCode(i));g.push($),b=n=null}else g.push($);h=(d=g).length}var v=_-h;if(0<v){var x=0<h?d[h-1]:"";for(r=0;r<v;r++)d.push(x)}for(r=0;r<_;r++)c[u[r]]=d[r]}var k="";for(r=0,o=l.length;r<o;r++){var w=c[$=l.charAt(r)];k+=f?null==w?p:$:null!=w?w:$}return l.$$cast(k)},pt.$$arity=2),Rt.def(At,"$tr_s",mt=function(t,e){var r,n,i,$,a,s,o,l=this;if(t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"String"),"to_str").$to_s(),e=Nt(Ot,"Opal").$coerce_to(e,Nt(Ot,"String"),"to_str").$to_s(),0==t.length)return l;var c={},u=t.split(""),_=u.length,d=e.split(""),h=d.length,f=!1,p=null;"^"===u[0]&&1<u.length&&(f=!0,u.shift(),p=d[h-1],_-=1);var m=[],y=null;for(n=!1,r=0;r<_;r++)if($=u[r],null==y)y=$,m.push($);else if("-"===$)"-"===y?(m.push("-"),m.push("-")):r==_-1?m.push("-"):n=!0;else if(n){for(a=y.charCodeAt(0),(s=$.charCodeAt(0))<a&&l.$raise(Nt(Ot,"ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(s)+'" in string transliteration'),i=a+1;i<s;i++)m.push(String.fromCharCode(i));m.push($),y=n=null}else m.push($);if(_=(u=m).length,f)for(r=0;r<_;r++)c[u[r]]=!0;else{if(0<h){var g=[];for(n=!1,r=0;r<h;r++)if($=d[r],null==y)y=$,g.push($);else if("-"===$)r==h-1?g.push("-"):n=!0;else if(n){for(a=y.charCodeAt(0),(s=$.charCodeAt(0))<a&&l.$raise(Nt(Ot,"ArgumentError"),'invalid range "'+String.fromCharCode(a)+"-"+String.fromCharCode(s)+'" in string transliteration'),i=a+1;i<s;i++)g.push(String.fromCharCode(i));g.push($),y=n=null}else g.push($);h=(d=g).length}var b=_-h;if(0<b){var v=0<h?d[h-1]:"";for(r=0;r<b;r++)d.push(v)}for(r=0;r<_;r++)c[u[r]]=d[r]}var x="",k=null;for(r=0,o=l.length;r<o;r++){var w=c[$=l.charAt(r)];f?null==w?null==k&&(x+=p,k=!0):(x+=$,k=null):null!=w?null!=k&&k===w||(x+=w,k=w):(x+=$,k=null)}return l.$$cast(x)},mt.$$arity=2),Rt.def(At,"$upcase",yt=function(){return this.$$cast(this.toUpperCase())},yt.$$arity=0),Rt.def(At,"$upto",gt=function(t,e){var r=gt.$$p,n=r||It;if(r&&(gt.$$p=null),r&&(gt.$$p=null),null==e&&(e=!1),n===It)return this.$enum_for("upto",t,e);t=Nt(Ot,"Opal").$coerce_to(t,Nt(Ot,"String"),"to_str");var i,$,a=this.toString();if(1===a.length&&1===t.length)for(i=a.charCodeAt(0),$=t.charCodeAt(0);i<=$&&(!e||i!==$);)n(String.fromCharCode(i)),i+=1;else if(parseInt(a,10).toString()===a&&parseInt(t,10).toString()===t)for(i=parseInt(a,10),$=parseInt(t,10);i<=$&&(!e||i!==$);)n(i.toString()),i+=1;else for(;a.length<=t.length&&a<=t&&(!e||a!==t);)n(a),a=a.$succ();return this},gt.$$arity=-2),Rt.def(At,"$instance_variables",bt=function(){return[]},bt.$$arity=0),Rt.defs(At,"$_load",vt=function(t){var e;return e=Rt.slice.call(arguments,0,arguments.length),Lt(this,"new",Rt.to_a(e))},vt.$$arity=-1),Rt.def(At,"$unicode_normalize",xt=function(t){return this.toString()},xt.$$arity=-1),Rt.def(At,"$unicode_normalized?",kt=function(t){return!0},kt.$$arity=-1),Rt.def(At,"$unpack",wt=function(t){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},wt.$$arity=1),Rt.def(At,"$unpack1",Et=function(t){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},Et.$$arity=1)}(0,String,Mt),Rt.const_set(Mt[0],"Symbol",Nt(Mt,"String"))},Opal.modules["corelib/enumerable"]=function(tt){function et(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function rt(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function nt(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function it(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}tt.top;var $t=[],at=tt.nil,st=tt.const_get_qualified,ot=tt.const_get_relative,lt=(tt.breaker,tt.slice,tt.module),ct=tt.truthy,ut=tt.send,_t=tt.falsy,dt=tt.hash2,ht=tt.lambda;return tt.add_stubs(["$each","$public_send","$destructure","$to_enum","$enumerator_size","$new","$yield","$raise","$slice_when","$!","$enum_for","$flatten","$map","$warn","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$ceil","$/","$size","$__send__","$length","$<=","$[]","$push","$<<","$[]=","$===","$inspect","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$dup","$to_a","$sort!","$map!","$key?","$values","$zip"]),function(t,e){function r(){}var s,o,n,i,$,a,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k,w,E,A,O,S,R,C,T,M,I,N,P,z,L,D,F,B,q,j,U,H,Y,G,W,X,V,K,J=r=lt($t[0],"Enumerable",r),Z=(J.prototype,[J].concat(e));function Q(t){return 0===t.length&&(t=[at]),1<t.length&&(t=[t]),t}tt.def(J,"$all?",s=function(r){try{var n,i,$,t=s.$$p,a=t||at,e=this;return t&&(s.$$p=null),t&&(s.$$p=null),ct(void 0!==r)?ut(e,"each",[],((n=function(t){var e;n.$$s;if(e=Q(tt.slice.call(arguments,0,arguments.length)),ct(ut(r,"public_send",["==="].concat(tt.to_a(e)))))return at;tt.ret(!1)}).$$s=e,n.$$arity=-1,n)):ut(e,"each",[],a!==at?((i=function(t){var e;i.$$s;if(e=tt.slice.call(arguments,0,arguments.length),ct(tt.yieldX(a,tt.to_a(e))))return at;tt.ret(!1)}).$$s=e,i.$$arity=-1,i):(($=function(t){var e;$.$$s;if(e=tt.slice.call(arguments,0,arguments.length),ct(ot(Z,"Opal").$destructure(e)))return at;tt.ret(!1)}).$$s=e,$.$$arity=-1,$)),!0}catch(t){if(t===tt.returner)return t.$v;throw t}},s.$$arity=-1),tt.def(J,"$any?",o=function(r){try{var n,i,$,t=o.$$p,a=t||at,e=this;return t&&(o.$$p=null),t&&(o.$$p=null),ct(void 0!==r)?ut(e,"each",[],((n=function(t){var e;n.$$s;if(e=Q(tt.slice.call(arguments,0,arguments.length)),!ct(ut(r,"public_send",["==="].concat(tt.to_a(e)))))return at;tt.ret(!0)}).$$s=e,n.$$arity=-1,n)):ut(e,"each",[],a!==at?((i=function(t){var e;i.$$s;if(e=tt.slice.call(arguments,0,arguments.length),!ct(tt.yieldX(a,tt.to_a(e))))return at;tt.ret(!0)}).$$s=e,i.$$arity=-1,i):(($=function(t){var e;$.$$s;if(e=tt.slice.call(arguments,0,arguments.length),!ct(ot(Z,"Opal").$destructure(e)))return at;tt.ret(!0)}).$$s=e,$.$$arity=-1,$)),!1}catch(t){if(t===tt.returner)return t.$v;throw t}},o.$$arity=-1),tt.def(J,"$chunk",n=function(){var t,$,e=n.$$p,a=e||at;return e&&(n.$$p=null),e&&(n.$$p=null),a===at?ut(this,"to_enum",["chunk"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t)):ut(st("::","Enumerator"),"new",[],(($=function(t){var e=$.$$s||this;null==t&&(t=at);var r=at,n=[];function i(){0<n.length&&t.$yield(r,n)}e.$each.$$p=function(t){var e=tt.yield1(a,t);r=e===at?(i(),n=[],at):(r===at||r===e?n.push(t):(i(),n=[t]),e)},e.$each(),i()}).$$s=this,$.$$arity=1,$))},n.$$arity=0),tt.def(J,"$chunk_while",i=function(){var r,t=i.$$p,n=t||at;return t&&(i.$$p=null),t&&(i.$$p=null),n!==at||this.$raise(ot(Z,"ArgumentError"),"no block given"),ut(this,"slice_when",[],((r=function(t,e){r.$$s;return null==t&&(t=at),null==e&&(e=at),tt.yieldX(n,[t,e])["$!"]()}).$$s=this,r.$$arity=2,r))},i.$$arity=0),tt.def(J,"$collect",$=function(){var t,e=$.$$p,r=e||at;if(e&&($.$$p=null),e&&($.$$p=null),r===at)return ut(this,"enum_for",["collect"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t));var n=[];return this.$each.$$p=function(){var t=tt.yieldX(r,arguments);n.push(t)},this.$each(),n},$.$$arity=0),tt.def(J,"$collect_concat",a=function(){var t,e,r=a.$$p,n=r||at;return r&&(a.$$p=null),r&&(a.$$p=null),n===at?ut(this,"enum_for",["collect_concat"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t)):ut(this,"map",[],(e=function(t){e.$$s;return null==t&&(t=at),tt.yield1(n,t)},e.$$s=this,e.$$arity=1,e)).$flatten(1)},a.$$arity=0),tt.def(J,"$count",l=function(r){var n,t,i,e=l.$$p,$=e||at,a=this,s=at;return e&&(l.$$p=null),e&&(l.$$p=null),s=0,null!=r&&$!==at&&a.$warn("warning: given block not used"),ct(null!=r)?$=ut(a,"proc",[],((n=function(t){var e;n.$$s;return e=tt.slice.call(arguments,0,arguments.length),ot(Z,"Opal").$destructure(e)["$=="](r)}).$$s=a,n.$$arity=-1,n)):ct($["$nil?"]())&&($=ut(a,"proc",[],((t=function(){t.$$s;return!0}).$$s=a,t.$$arity=0,t))),ut(a,"each",[],((i=function(t){var e;i.$$s;return e=tt.slice.call(arguments,0,arguments.length),ct(tt.yieldX($,e))?s++:at}).$$s=a,i.$$arity=-1,i)),s},l.$$arity=-1),tt.def(J,"$cycle",c=function(n){var i,t=c.$$p,e=t||at;if(t&&(c.$$p=null),t&&(c.$$p=null),null==n&&(n=at),e===at)return ut(this,"enum_for",["cycle",n],((i=function(){var t,e,r=i.$$s||this;return ct(n["$nil?"]())?ct(r["$respond_to?"]("size"))?st(ot(Z,"Float"),"INFINITY"):at:(n=ot(Z,"Opal")["$coerce_to!"](n,ot(Z,"Integer"),"to_int"),ct(et(n,0))?(t=r.$enumerator_size(),e=n,"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)):0)}).$$s=this,i.$$arity=0,i));if(ct(n["$nil?"]()));else if(n=ot(Z,"Opal")["$coerce_to!"](n,ot(Z,"Integer"),"to_int"),ct(n<=0))return at;var r,$,a=[];if(this.$each.$$p=function(){var t=ot(Z,"Opal").$destructure(arguments);tt.yield1(e,t);a.push(t)},this.$each(),0===a.length)return at;if(n===at)for(;;)for(r=0,$=a.length;r<$;r++)tt.yield1(e,a[r]);else for(;1<n;){for(r=0,$=a.length;r<$;r++)tt.yield1(e,a[r]);n--}},c.$$arity=-1),tt.def(J,"$detect",u=function(t){try{var n,e=u.$$p,i=e||at;return e&&(u.$$p=null),e&&(u.$$p=null),i===at?this.$enum_for("detect",t):(ut(this,"each",[],((n=function(t){var e,r;n.$$s;if(e=tt.slice.call(arguments,0,arguments.length),r=ot(Z,"Opal").$destructure(e),!ct(tt.yield1(i,r)))return at;tt.ret(r)}).$$s=this,n.$$arity=-1,n)),void 0!==t?"function"==typeof t?t():t:at)}catch(t){if(t===tt.returner)return t.$v;throw t}},u.$$arity=-1),tt.def(J,"$drop",_=function(t){t=ot(Z,"Opal").$coerce_to(t,ot(Z,"Integer"),"to_int"),ct(t<0)&&this.$raise(ot(Z,"ArgumentError"),"attempt to drop negative size");var e=[],r=0;return this.$each.$$p=function(){t<=r&&e.push(ot(Z,"Opal").$destructure(arguments)),r++},this.$each(),e},_.$$arity=1),tt.def(J,"$drop_while",d=function(){var t=d.$$p,r=t||at;if(t&&(d.$$p=null),t&&(d.$$p=null),r===at)return this.$enum_for("drop_while");var n=[],i=!0;return this.$each.$$p=function(){var t=ot(Z,"Opal").$destructure(arguments);if(i){var e=tt.yield1(r,t);_t(e)&&(i=!1,n.push(t))}else n.push(t)},this.$each(),n},d.$$arity=0),tt.def(J,"$each_cons",h=function($){var a,t=h.$$p,e=t||at,r=this;if(t&&(h.$$p=null),t&&(h.$$p=null),ct(1!=arguments.length)&&r.$raise(ot(Z,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),$=ot(Z,"Opal").$try_convert($,ot(Z,"Integer"),"to_int"),ct($<=0)&&r.$raise(ot(Z,"ArgumentError"),"invalid size"),e===at)return ut(r,"enum_for",["each_cons",$],((a=function(){var t,e,r,n=a.$$s||this,i=at;return i=n.$enumerator_size(),ct(i["$nil?"]())?at:ct(ct(t=i["$=="](0))?t:(r=$,"number"==typeof(e=i)&&"number"==typeof r?e<r:e["$<"](r)))?0:rt(nt(i,$),1)}).$$s=r,a.$$arity=0,a));var n=[],i=at;return r.$each.$$p=function(){var t=ot(Z,"Opal").$destructure(arguments);n.push(t),n.length>$&&n.shift(),n.length==$&&tt.yield1(e,n.slice(0,$))},r.$each(),i},h.$$arity=1),tt.def(J,"$each_entry",f=function(t){var e,r,n=f.$$p,i=n||at,$=this;return n&&(f.$$p=null),n&&(f.$$p=null),e=tt.slice.call(arguments,0,arguments.length),i===at?ut($,"to_enum",["each_entry"].concat(tt.to_a(e)),((r=function(){return(r.$$s||this).$enumerator_size()}).$$s=$,r.$$arity=0,r)):($.$each.$$p=function(){var t=ot(Z,"Opal").$destructure(arguments);tt.yield1(i,t)},$.$each.apply($,e),$)},f.$$arity=-1),tt.def(J,"$each_slice",p=function(n){var i,t=p.$$p,e=t||at,r=this;if(t&&(p.$$p=null),t&&(p.$$p=null),n=ot(Z,"Opal").$coerce_to(n,ot(Z,"Integer"),"to_int"),ct(n<=0)&&r.$raise(ot(Z,"ArgumentError"),"invalid slice size"),e===at)return ut(r,"enum_for",["each_slice",n],((i=function(){var t,e,r=i.$$s||this;return ct(r["$respond_to?"]("size"))?(t=r.$size(),e=n,"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)).$ceil():at}).$$s=r,i.$$arity=0,i));var $=[];return r.$each.$$p=function(){var t=ot(Z,"Opal").$destructure(arguments);$.push(t),$.length===n&&(tt.yield1(e,$),$=[])},r.$each(),0<$.length&&tt.yield1(e,$),at},p.$$arity=1),tt.def(J,"$each_with_index",m=function(t){var e,r,n=m.$$p,i=n||at,$=this;if(n&&(m.$$p=null),n&&(m.$$p=null),e=tt.slice.call(arguments,0,arguments.length),i===at)return ut($,"enum_for",["each_with_index"].concat(tt.to_a(e)),((r=function(){return(r.$$s||this).$enumerator_size()}).$$s=$,r.$$arity=0,r));var a=0;return $.$each.$$p=function(){var t=ot(Z,"Opal").$destructure(arguments);i(t,a),a++},$.$each.apply($,e),$},m.$$arity=-1),tt.def(J,"$each_with_object",y=function(e){var t,r=y.$$p,n=r||at;return r&&(y.$$p=null),r&&(y.$$p=null),n===at?ut(this,"enum_for",["each_with_object",e],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t)):(this.$each.$$p=function(){var t=ot(Z,"Opal").$destructure(arguments);n(t,e)},this.$each(),e)},y.$$arity=1),tt.def(J,"$entries",g=function(t){var e;e=tt.slice.call(arguments,0,arguments.length);var r=[];return this.$each.$$p=function(){r.push(ot(Z,"Opal").$destructure(arguments))},this.$each.apply(this,e),r},g.$$arity=-1),tt.alias(J,"find","detect"),tt.def(J,"$find_all",b=function(){var t,e=b.$$p,r=e||at;if(e&&(b.$$p=null),e&&(b.$$p=null),r===at)return ut(this,"enum_for",["find_all"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t));var n=[];return this.$each.$$p=function(){var t=ot(Z,"Opal").$destructure(arguments),e=tt.yield1(r,t);ct(e)&&n.push(t)},this.$each(),n},b.$$arity=0),tt.def(J,"$find_index",v=function(r){try{var n,i,t=v.$$p,$=t||at,e=this,a=at;return t&&(v.$$p=null),t&&(v.$$p=null),ct(void 0===r&&$===at)?e.$enum_for("find_index"):(null!=r&&$!==at&&e.$warn("warning: given block not used"),a=0,ct(null!=r)?ut(e,"each",[],((n=function(t){var e;n.$$s;return e=tt.slice.call(arguments,0,arguments.length),ot(Z,"Opal").$destructure(e)["$=="](r)&&tt.ret(a),a+=1}).$$s=e,n.$$arity=-1,n)):ut(e,"each",[],((i=function(t){var e;i.$$s;return e=tt.slice.call(arguments,0,arguments.length),ct(tt.yieldX($,tt.to_a(e)))&&tt.ret(a),a+=1}).$$s=e,i.$$arity=-1,i)),at)}catch(t){if(t===tt.returner)return t.$v;throw t}},v.$$arity=-1),tt.def(J,"$first",x=function(r){try{var e,n,t=this,i=at,$=at;return ct(void 0===r)?ut(t,"each",[],((e=function(t){e.$$s;null==t&&(t=at),tt.ret(t)}).$$s=t,e.$$arity=1,e)):(i=[],r=ot(Z,"Opal").$coerce_to(r,ot(Z,"Integer"),"to_int"),ct(r<0)&&t.$raise(ot(Z,"ArgumentError"),"attempt to take negative size"),ct(0==r)?[]:($=0,ut(t,"each",[],((n=function(t){var e;n.$$s;if(e=tt.slice.call(arguments,0,arguments.length),i.push(ot(Z,"Opal").$destructure(e)),!ct(r<=++$))return at;tt.ret(i)}).$$s=t,n.$$arity=-1,n)),i))}catch(t){if(t===tt.returner)return t.$v;throw t}},x.$$arity=-1),tt.alias(J,"flat_map","collect_concat"),tt.def(J,"$grep",k=function(n){var i,t=k.$$p,$=t||at,a=at;return t&&(k.$$p=null),t&&(k.$$p=null),a=[],ut(this,"each",[],((i=function(t){var e,r;i.$$s;return r=Q(e=tt.slice.call(arguments,0,arguments.length)),ct(ut(n,"__send__",["==="].concat(tt.to_a(r))))?($!==at?(ct(et(e.$length(),1))&&(e=[e]),e=tt.yieldX($,tt.to_a(e))):ct(it(e.$length(),1))&&(e=e["$[]"](0)),a.$push(e)):at}).$$s=this,i.$$arity=-1,i)),a},k.$$arity=1),tt.def(J,"$grep_v",w=function(n){var i,t=w.$$p,$=t||at,a=at;return t&&(w.$$p=null),t&&(w.$$p=null),a=[],ut(this,"each",[],((i=function(t){var e,r;i.$$s;return r=Q(e=tt.slice.call(arguments,0,arguments.length)),ct(ut(n,"__send__",["==="].concat(tt.to_a(r))))?at:($!==at?(ct(et(e.$length(),1))&&(e=[e]),e=tt.yieldX($,tt.to_a(e))):ct(it(e.$length(),1))&&(e=e["$[]"](0)),a.$push(e))}).$$s=this,i.$$arity=-1,i)),a},w.$$arity=1),tt.def(J,"$group_by",E=function(){var t,r,e=E.$$p,n=e||at,i=at,$=at;return e&&(E.$$p=null),e&&(E.$$p=null),n===at?ut(this,"enum_for",["group_by"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t)):(i=dt([],{}),this.$each.$$p=function(){var t=ot(Z,"Opal").$destructure(arguments),e=tt.yield1(n,t);(ct(r=i["$[]"](e))?r:($=[e,[]],ut(i,"[]=",tt.to_a($)),$[nt($.length,1)]))["$<<"](t)},this.$each(),i)},E.$$arity=0),tt.def(J,"$include?",A=function(r){try{var n;return ut(this,"each",[],((n=function(t){var e;n.$$s;if(e=tt.slice.call(arguments,0,arguments.length),!ot(Z,"Opal").$destructure(e)["$=="](r))return at;tt.ret(!0)}).$$s=this,n.$$arity=-1,n)),!1}catch(t){if(t===tt.returner)return t.$v;throw t}},A.$$arity=1),tt.def(J,"$inject",O=function(t,e){var r=O.$$p,n=r||at;r&&(O.$$p=null),r&&(O.$$p=null);var i=t;return this.$each.$$p=n!==at&&void 0===e?function(){var t=ot(Z,"Opal").$destructure(arguments);i=(void 0!==i&&(t=tt.yieldX(n,[i,t])),t)}:(void 0===e&&(ot(Z,"Symbol")["$==="](t)||this.$raise(ot(Z,"TypeError"),t.$inspect()+" is not a Symbol"),e=t,i=void 0),function(){var t=ot(Z,"Opal").$destructure(arguments);i=void 0!==i?i.$__send__(e,t):t}),this.$each(),null==i?at:i},O.$$arity=-1),tt.def(J,"$lazy",S=function(){var n;return ut(st(ot(Z,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],((n=function(t,e){var r;n.$$s;return null==t&&(t=at),r=tt.slice.call(arguments,1,arguments.length),ut(t,"yield",tt.to_a(r))}).$$s=this,n.$$arity=-2,n))},S.$$arity=0),tt.def(J,"$enumerator_size",R=function(){return ct(this["$respond_to?"]("size"))?this.$size():at},R.$$arity=0),tt.alias(J,"map","collect"),tt.def(J,"$max",C=function(t){var e,r,n=C.$$p,i=n||at,$=this;return n&&(C.$$p=null),n&&(C.$$p=null),void 0===t||t===at?($.$each.$$p=function(){var t=ot(Z,"Opal").$destructure(arguments);void 0!==e?((r=i!==at?tt.yieldX(i,[t,e]):t["$<=>"](e))===at&&$.$raise(ot(Z,"ArgumentError"),"comparison failed"),0<r&&(e=t)):e=t},$.$each(),void 0===e?at:e):(t=ot(Z,"Opal").$coerce_to(t,ot(Z,"Integer"),"to_int"),ut($,"sort",[],i.$to_proc()).$reverse().$first(t))},C.$$arity=-1),tt.def(J,"$max_by",T=function(){var t,r,n,e=T.$$p,i=e||at;return e&&(T.$$p=null),e&&(T.$$p=null),ct(i)?(this.$each.$$p=function(){var t=ot(Z,"Opal").$destructure(arguments),e=tt.yield1(i,t);if(void 0===r)return r=t,void(n=e);0<e["$<=>"](n)&&(r=t,n=e)},this.$each(),void 0===r?at:r):ut(this,"enum_for",["max_by"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t))},T.$$arity=0),tt.alias(J,"member?","include?"),tt.def(J,"$min",M=function(){var r,t=M.$$p,n=t||at,i=this;return t&&(M.$$p=null),t&&(M.$$p=null),i.$each.$$p=n!==at?function(){var t=ot(Z,"Opal").$destructure(arguments);if(void 0!==r){var e=n(t,r);e===at&&i.$raise(ot(Z,"ArgumentError"),"comparison failed"),e<0&&(r=t)}else r=t}:function(){var t=ot(Z,"Opal").$destructure(arguments);void 0!==r?ot(Z,"Opal").$compare(t,r)<0&&(r=t):r=t},i.$each(),void 0===r?at:r},M.$$arity=0),tt.def(J,"$min_by",I=function(){var t,r,n,e=I.$$p,i=e||at;return e&&(I.$$p=null),e&&(I.$$p=null),ct(i)?(this.$each.$$p=function(){var t=ot(Z,"Opal").$destructure(arguments),e=tt.yield1(i,t);if(void 0===r)return r=t,void(n=e);e["$<=>"](n)<0&&(r=t,n=e)},this.$each(),void 0===r?at:r):ut(this,"enum_for",["min_by"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t))},I.$$arity=0),tt.def(J,"$minmax",N=function(){var t,r,e=N.$$p,n=e||at,i=this;e&&(N.$$p=null),e&&(N.$$p=null),n=ct(t=n)?t:ut(i,"proc",[],((r=function(t,e){r.$$s;return null==t&&(t=at),null==e&&(e=at),t["$<=>"](e)}).$$s=i,r.$$arity=2,r));var $=at,a=at,s=!0;return i.$each.$$p=function(){var t=ot(Z,"Opal").$destructure(arguments);if(s)$=a=t,s=!1;else{var e=n.$call($,t);e===at?i.$raise(ot(Z,"ArgumentError"),"comparison failed"):0<e&&($=t);var r=n.$call(a,t);r===at?i.$raise(ot(Z,"ArgumentError"),"comparison failed"):r<0&&(a=t)}},i.$each(),[$,a]},N.$$arity=0),tt.def(J,"$minmax_by",P=function(){var t=P.$$p;return t&&(P.$$p=null),t&&(P.$$p=null),this.$raise(ot(Z,"NotImplementedError"))},P.$$arity=0),tt.def(J,"$none?",z=function(r){try{var n,i,$,t=z.$$p,a=t||at,e=this;return t&&(z.$$p=null),t&&(z.$$p=null),ct(void 0!==r)?ut(e,"each",[],((n=function(t){var e;n.$$s;if(e=Q(tt.slice.call(arguments,0,arguments.length)),!ct(ut(r,"public_send",["==="].concat(tt.to_a(e)))))return at;tt.ret(!1)}).$$s=e,n.$$arity=-1,n)):ut(e,"each",[],a!==at?((i=function(t){var e;i.$$s;if(e=tt.slice.call(arguments,0,arguments.length),!ct(tt.yieldX(a,tt.to_a(e))))return at;tt.ret(!1)}).$$s=e,i.$$arity=-1,i):(($=function(t){var e,r;$.$$s;if(e=tt.slice.call(arguments,0,arguments.length),r=ot(Z,"Opal").$destructure(e),!ct(r))return at;tt.ret(!1)}).$$s=e,$.$$arity=-1,$)),!0}catch(t){if(t===tt.returner)return t.$v;throw t}},z.$$arity=-1),tt.def(J,"$one?",L=function(r){try{var n,i,$,t=L.$$p,a=t||at,e=this,s=at;return t&&(L.$$p=null),t&&(L.$$p=null),ct(void(s=0)!==r)?ut(e,"each",[],((n=function(t){var e;n.$$s;return e=Q(tt.slice.call(arguments,0,arguments.length)),ct(ut(r,"public_send",["==="].concat(tt.to_a(e))))?(s=rt(s,1),ct(et(s,1))?void tt.ret(!1):at):at}).$$s=e,n.$$arity=-1,n)):ut(e,"each",[],a!==at?((i=function(t){var e;i.$$s;return e=tt.slice.call(arguments,0,arguments.length),ct(tt.yieldX(a,tt.to_a(e)))?(s=rt(s,1),ct(et(s,1))?void tt.ret(!1):at):at}).$$s=e,i.$$arity=-1,i):(($=function(t){var e;$.$$s;return e=tt.slice.call(arguments,0,arguments.length),ct(ot(Z,"Opal").$destructure(e))?(s=rt(s,1),ct(et(s,1))?void tt.ret(!1):at):at}).$$s=e,$.$$arity=-1,$)),s["$=="](1)}catch(t){if(t===tt.returner)return t.$v;throw t}},L.$$arity=-1),tt.def(J,"$partition",D=function(){var t,e=D.$$p,r=e||at;if(e&&(D.$$p=null),e&&(D.$$p=null),r===at)return ut(this,"enum_for",["partition"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t));var n=[],i=[];return this.$each.$$p=function(){var t=ot(Z,"Opal").$destructure(arguments),e=tt.yield1(r,t);ct(e)?n.push(t):i.push(t)},this.$each(),[n,i]},D.$$arity=0),tt.alias(J,"reduce","inject"),tt.def(J,"$reject",F=function(){var t,e=F.$$p,r=e||at;if(e&&(F.$$p=null),e&&(F.$$p=null),r===at)return ut(this,"enum_for",["reject"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t));var n=[];return this.$each.$$p=function(){var t=ot(Z,"Opal").$destructure(arguments),e=tt.yield1(r,t);_t(e)&&n.push(t)},this.$each(),n},F.$$arity=0),tt.def(J,"$reverse_each",B=function(){var t,e=B.$$p,r=e||at;if(e&&(B.$$p=null),e&&(B.$$p=null),r===at)return ut(this,"enum_for",["reverse_each"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t));var n=[];this.$each.$$p=function(){n.push(arguments)},this.$each();for(var i=n.length-1;0<=i;i--)tt.yieldX(r,n[i]);return n},B.$$arity=0),tt.alias(J,"select","find_all"),tt.def(J,"$slice_before",q=function(i){var e,t=q.$$p,$=t||at;return t&&(q.$$p=null),t&&(q.$$p=null),ct(void 0===i&&$===at)&&this.$raise(ot(Z,"ArgumentError"),"both pattern and block are given"),ct(void 0!==i&&$!==at||1<arguments.length)&&this.$raise(ot(Z,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),ut(ot(Z,"Enumerator"),"new",[],((e=function(r){var t=e.$$s||this;null==r&&(r=at);var n=[];t.$each.$$p=$!==at?void 0===i?function(){var t=ot(Z,"Opal").$destructure(arguments),e=tt.yield1($,t);ct(e)&&0<n.length&&(r["$<<"](n),n=[]),n.push(t)}:function(){var t=ot(Z,"Opal").$destructure(arguments),e=$(t,i.$dup());ct(e)&&0<n.length&&(r["$<<"](n),n=[]),n.push(t)}:function(){var t=ot(Z,"Opal").$destructure(arguments),e=i["$==="](t);ct(e)&&0<n.length&&(r["$<<"](n),n=[]),n.push(t)},t.$each(),0<n.length&&r["$<<"](n)}).$$s=this,e.$$arity=1,e))},q.$$arity=-1),tt.def(J,"$slice_after",j=function(e){var r,i,t=j.$$p,$=t||at,n=this;return t&&(j.$$p=null),t&&(j.$$p=null),ct(void 0===e&&$===at)&&n.$raise(ot(Z,"ArgumentError"),"both pattern and block are given"),ct(void 0!==e&&$!==at||1<arguments.length)&&n.$raise(ot(Z,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),ct(void 0!==e)&&($=ut(n,"proc",[],((r=function(t){r.$$s;return null==t&&(t=at),e["$==="](t)}).$$s=n,r.$$arity=1,r))),ut(ot(Z,"Enumerator"),"new",[],((i=function(r){var n,t=i.$$s||this;null==r&&(r=at),t.$each.$$p=function(){var t=ot(Z,"Opal").$destructure(arguments),e=tt.yield1($,t);null==n&&(n=[]),ct(e)?(n.push(t),r.$yield(n),n=null):n.push(t)},t.$each(),null!=n&&r.$yield(n)}).$$s=n,i.$$arity=1,i))},j.$$arity=-1),tt.def(J,"$slice_when",U=function(){var e,t=U.$$p,s=t||at;return t&&(U.$$p=null),t&&(U.$$p=null),s!==at||this.$raise(ot(Z,"ArgumentError"),"wrong number of arguments (0 for 1)"),ut(ot(Z,"Enumerator"),"new",[],((e=function(i){var t=e.$$s||this;null==i&&(i=at);var $=at,a=at;t.$each_cons.$$p=function(){var t=ot(Z,"Opal").$destructure(arguments),e=t[0],r=t[1],n=tt.yieldX(s,[e,r]);a=r,$===at&&($=[]),ct(n)?($.push(e),i.$yield($),$=[]):$.push(e)},t.$each_cons(2),$!==at&&($.push(a),i.$yield($))}).$$s=this,e.$$arity=1,e))},U.$$arity=0),tt.def(J,"$sort",H=function(){var r,t,e=H.$$p,n=e||at;return e&&(H.$$p=null),e&&(H.$$p=null),t=this.$to_a(),n!==at||(n=ht(((r=function(t,e){r.$$s;return null==t&&(t=at),null==e&&(e=at),t["$<=>"](e)}).$$s=this,r.$$arity=2,r))),ut(t,"sort",[],n.$to_proc())},H.$$arity=0),tt.def(J,"$sort_by",Y=function(){var t,e,r,n,i,$=Y.$$p,a=$||at,s=this;return $&&(Y.$$p=null),$&&(Y.$$p=null),a===at?ut(s,"enum_for",["sort_by"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=s,t.$$arity=0,t)):(i=ut(s,"map",[],((e=function(){var t;e.$$s;return t=ot(Z,"Opal").$destructure(arguments),[tt.yield1(a,t),t]}).$$s=s,e.$$arity=0,e)),ut(i,"sort!",[],((r=function(t,e){r.$$s;return null==t&&(t=at),null==e&&(e=at),t[0]["$<=>"](e[0])}).$$s=s,r.$$arity=2,r)),ut(i,"map!",[],((n=function(t){n.$$s;return null==t&&(t=at),t[1]}).$$s=s,n.$$arity=1,n)))},Y.$$arity=0),tt.def(J,"$sum",G=function(t){var i,e=G.$$p,$=e||at,a=at;return e&&(G.$$p=null),null==t&&(t=0),a=t,ut(this,"each",[],((i=function(t){var e,r,n;i.$$s;return e=tt.slice.call(arguments,0,arguments.length),r=e,n=$!==at?tt.yieldX($,tt.to_a(r)):ot(Z,"Opal").$destructure(r),a=rt(a,n)}).$$s=this,i.$$arity=-1,i)),a},G.$$arity=-1),tt.def(J,"$take",W=function(t){return this.$first(t)},W.$$arity=1),tt.def(J,"$take_while",X=function(){try{var n,t=X.$$p,i=t||at,$=at;return t&&(X.$$p=null),t&&(X.$$p=null),ct(i)?($=[],ut(this,"each",[],((n=function(t){var e,r;n.$$s;return e=tt.slice.call(arguments,0,arguments.length),r=ot(Z,"Opal").$destructure(e),ct(tt.yield1(i,r))||tt.ret($),$.push(r)}).$$s=this,n.$$arity=-1,n))):this.$enum_for("take_while")}catch(t){if(t===tt.returner)return t.$v;throw t}},X.$$arity=0),tt.def(J,"$uniq",V=function(){var $,t=V.$$p,a=t||at,s=at;return t&&(V.$$p=null),t&&(V.$$p=null),s=dt([],{}),ut(this,"each",[],(($=function(t){$.$$s;var e,r,n,i=at;return e=tt.slice.call(arguments,0,arguments.length),r=ot(Z,"Opal").$destructure(e),n=a!==at?tt.yield1(a,r):r,ct(s["$key?"](n))?at:(i=[n,r],ut(s,"[]=",tt.to_a(i)),i[nt(i.length,1)])}).$$s=this,$.$$arity=-1,$)),s.$values()},V.$$arity=0),tt.alias(J,"to_a","entries"),tt.def(J,"$zip",K=function(t){var e,r=K.$$p;return r&&(K.$$p=null),r&&(K.$$p=null),e=tt.slice.call(arguments,0,arguments.length),ut(this.$to_a(),"zip",tt.to_a(e))},K.$$arity=-1)}(0,$t)},Opal.modules["corelib/enumerator"]=function(v){function x(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function k(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var t=v.top,_=[],w=v.nil,E=(v.const_get_qualified,v.const_get_relative),d=v.breaker,h=v.slice,A=v.klass,O=v.truthy,S=v.send,R=v.falsy;return v.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$any?","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),t.$require("corelib/enumerable"),function(t,e,r){function n(){}var l,i,a,$,s,o,b=n=A(_[0],null,"Enumerator",n),c=b.prototype,u=[b].concat(r);return c.size=c.args=c.object=c.method=w,b.$include(E(u,"Enumerable")),c.$$is_enumerator=!0,v.defs(b,"$for",l=function(t,e,r){var n,i,$,a=l.$$p,s=a||w;a&&(l.$$p=null),a&&(l.$$p=null),0<(n=v.slice.call(arguments,1,arguments.length)).length&&(i=n[0],n.splice(0,1)),null==i&&(i="each"),$=n;var o=this.$allocate();return o.object=t,o.size=s,o.method=i,o.args=$,o},l.$$arity=-2),v.def(b,"$initialize",i=function(t){var e=i.$$p,r=e||w,n=this;return e&&(i.$$p=null),e&&(i.$$p=null),v.slice.call(arguments,0,arguments.length),O(r)?(n.object=S(E(u,"Generator"),"new",[],r.$to_proc()),n.method="each",n.args=[],n.size=t||w,O(n.size)?n.size=E(u,"Opal").$coerce_to(n.size,E(u,"Integer"),"to_int"):w):(n.object=t,n.method=arguments[1]||"each",n.args=h.call(arguments,2),n.size=w)},i.$$arity=-1),v.def(b,"$each",a=function(t){var e,r,n=a.$$p,i=n||w,$=this;return n&&(a.$$p=null),n&&(a.$$p=null),e=v.slice.call(arguments,0,arguments.length),O(O(r=i["$nil?"]())?e["$empty?"]():r)?$:(e=x($.args,e),O(i["$nil?"]())?S($.$class(),"new",[$.object,$.method].concat(v.to_a(e))):S($.object,"__send__",[$.method].concat(v.to_a(e)),i.$to_proc()))},a.$$arity=-1),v.def(b,"$size",$=function(){return O(E(u,"Proc")["$==="](this.size))?S(this.size,"call",v.to_a(this.args)):this.size},$.$$arity=0),v.def(b,"$with_index",s=function(t){var e,r=s.$$p,n=r||w;if(r&&(s.$$p=null),r&&(s.$$p=null),null==t&&(t=0),t=O(t)?E(u,"Opal").$coerce_to(t,E(u,"Integer"),"to_int"):0,!O(n))return S(this,"enum_for",["with_index",t],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));var i=t;return this.$each.$$p=function(){var t=E(u,"Opal").$destructure(arguments),e=n(t,i);return i++,e},this.$each()},s.$$arity=-1),v.alias(b,"with_object","each_with_object"),v.def(b,"$inspect",o=function(){var t=this,e=w;return e="#<"+t.$class()+": "+t.object.$inspect()+":"+t.method,O(t.args["$any?"]())&&(e=x(e,"("+t.args.$inspect()["$[]"](E(u,"Range").$new(1,-2))+")")),x(e,">")},o.$$arity=0),function(t,e,r){function n(){}var i,$,a=n=A(t,null,"Generator",n),s=a.prototype,o=[a].concat(r);s.block=w,a.$include(E(o,"Enumerable")),v.def(a,"$initialize",i=function(){var t=i.$$p,e=t||w;return t&&(i.$$p=null),t&&(i.$$p=null),O(e)||this.$raise(E(o,"LocalJumpError"),"no block given"),this.block=e},i.$$arity=0),v.def(a,"$each",$=function(t){var e,r,n=$.$$p,i=n||w;n&&($.$$p=null),n&&($.$$p=null),e=v.slice.call(arguments,0,arguments.length),r=S(E(o,"Yielder"),"new",[],i.$to_proc());try{e.unshift(r),v.yieldX(this.block,e)}catch(t){if(t===d)return d.$v;throw t}return this},$.$$arity=-1)}(u[0],0,u),function(t,e,r){function n(){}var i,$,a,s=n=A(t,null,"Yielder",n),o=s.prototype;[s].concat(r);o.block=w,v.def(s,"$initialize",i=function(){var t=i.$$p,e=t||w;return t&&(i.$$p=null),t&&(i.$$p=null),this.block=e},i.$$arity=0),v.def(s,"$yield",$=function(t){var e;e=v.slice.call(arguments,0,arguments.length);var r=v.yieldX(this.block,e);if(r===d)throw d;return r},$.$$arity=-1),v.def(s,"$<<",a=function(t){var e;return e=v.slice.call(arguments,0,arguments.length),S(this,"yield",v.to_a(e)),this},a.$$arity=-1)}(u[0],0,u),function(t,e,r){function n(){}var i,$,a,l,s,o,c,u,_,d,h,f,p,m=n=A(t,b,"Lazy",n),y=m.prototype,g=[m].concat(r);return y.enumerator=w,function(t,e,r){function n(){}var i=n=A(t,e,"StopLazyError",n);i.prototype,[i].concat(r)}(g[0],E(g,"Exception"),g),v.def(m,"$initialize",i=function($,t){var a,e=i.$$p,s=e||w,r=this;return e&&(i.$$p=null),e&&(i.$$p=null),null==t&&(t=w),s!==w||r.$raise(E(g,"ArgumentError"),"tried to call lazy new without a block"),r.enumerator=$,S(r,v.find_super_dispatcher(r,"initialize",i,!1),[t],((a=function(r,t){var e,n,i=a.$$s||this;null==r&&(r=w),e=v.slice.call(arguments,1,arguments.length);try{return S($,"each",v.to_a(e),((n=function(t){var e;n.$$s;(e=v.slice.call(arguments,0,arguments.length)).unshift(r),v.yieldX(s,e)}).$$s=i,n.$$arity=-1,n))}catch(t){if(!v.rescue(t,[E(g,"Exception")]))throw t;try{return w}finally{v.pop_exception()}}}).$$s=r,a.$$arity=-2,a))},i.$$arity=-2),v.alias(m,"force","to_a"),v.def(m,"$lazy",$=function(){return this},$.$$arity=0),v.def(m,"$collect",a=function(){var i,t=a.$$p,$=t||w;return t&&(a.$$p=null),t&&(a.$$p=null),O($)||this.$raise(E(g,"ArgumentError"),"tried to call lazy map without a block"),S(E(g,"Lazy"),"new",[this,this.$enumerator_size()],((i=function(t,e){var r;i.$$s;null==t&&(t=w),r=v.slice.call(arguments,1,arguments.length);var n=v.yieldX($,r);t.$yield(n)}).$$s=this,i.$$arity=-2,i))},a.$$arity=0),v.def(m,"$collect_concat",l=function(){var s,t=l.$$p,o=t||w;return t&&(l.$$p=null),t&&(l.$$p=null),O(o)||this.$raise(E(g,"ArgumentError"),"tried to call lazy map without a block"),S(E(g,"Lazy"),"new",[this,w],((s=function(e,t){var r,n,i,$=s.$$s||this;null==e&&(e=w),r=v.slice.call(arguments,1,arguments.length);var a=v.yieldX(o,r);a["$respond_to?"]("force")&&a["$respond_to?"]("each")?S(a,"each",[],((n=function(t){n.$$s;return null==t&&(t=w),e.$yield(t)}).$$s=$,n.$$arity=1,n)):E(g,"Opal").$try_convert(a,E(g,"Array"),"to_ary")===w?e.$yield(a):S(a,"each",[],((i=function(t){i.$$s;return null==t&&(t=w),e.$yield(t)}).$$s=$,i.$$arity=1,i))}).$$s=this,s.$$arity=-2,s))},l.$$arity=0),v.def(m,"$drop",s=function(n){var i,t,e,$=w;return n=E(g,"Opal").$coerce_to(n,E(g,"Integer"),"to_int"),O(k(n,0))&&this.$raise(E(g,"ArgumentError"),"attempt to drop negative size"),t=this.$enumerator_size(),e=O(E(g,"Integer")["$==="](t))&&O(k(n,t))?n:t,$=0,S(E(g,"Lazy"),"new",[this,e],((i=function(t,e){var r;i.$$s;return null==t&&(t=w),r=v.slice.call(arguments,1,arguments.length),O(k($,n))?$=x($,1):S(t,"yield",v.to_a(r))}).$$s=this,i.$$arity=-2,i))},s.$$arity=1),v.def(m,"$drop_while",o=function(){var i,t=o.$$p,$=t||w,a=w;return t&&(o.$$p=null),t&&(o.$$p=null),O($)||this.$raise(E(g,"ArgumentError"),"tried to call lazy drop_while without a block"),a=!0,S(E(g,"Lazy"),"new",[this,w],((i=function(t,e){var r;i.$$s;if(null==t&&(t=w),r=v.slice.call(arguments,1,arguments.length),!O(a))return S(t,"yield",v.to_a(r));var n=v.yieldX($,r);R(n)&&(a=!1,S(t,"yield",v.to_a(r)))}).$$s=this,i.$$arity=-2,i))},o.$$arity=0),v.def(m,"$enum_for",c=function(t,e){var r,n,i,$=c.$$p,a=$||w,s=this;return $&&(c.$$p=null),$&&(c.$$p=null),0<(r=v.slice.call(arguments,0,arguments.length)).length&&(n=r[0],r.splice(0,1)),null==n&&(n="each"),i=r,S(s.$class(),"for",[s,n].concat(v.to_a(i)),a.$to_proc())},c.$$arity=-1),v.def(m,"$find_all",u=function(){var i,t=u.$$p,$=t||w;return t&&(u.$$p=null),t&&(u.$$p=null),O($)||this.$raise(E(g,"ArgumentError"),"tried to call lazy select without a block"),S(E(g,"Lazy"),"new",[this,w],((i=function(t,e){var r;i.$$s;null==t&&(t=w),r=v.slice.call(arguments,1,arguments.length);var n=v.yieldX($,r);O(n)&&S(t,"yield",v.to_a(r))}).$$s=this,i.$$arity=-2,i))},u.$$arity=0),v.alias(m,"flat_map","collect_concat"),v.def(m,"$grep",_=function($){var a,s,t=_.$$p,o=t||w;return t&&(_.$$p=null),t&&(_.$$p=null),O(o)?S(E(g,"Lazy"),"new",[this,w],((a=function(t,e){var r;a.$$s;null==t&&(t=w),r=v.slice.call(arguments,1,arguments.length);var n=E(g,"Opal").$destructure(r),i=$["$==="](n);O(i)&&(i=v.yield1(o,n),t.$yield(v.yield1(o,n)))}).$$s=this,a.$$arity=-2,a)):S(E(g,"Lazy"),"new",[this,w],((s=function(t,e){var r;s.$$s;null==t&&(t=w),r=v.slice.call(arguments,1,arguments.length);var n=E(g,"Opal").$destructure(r),i=$["$==="](n);O(i)&&t.$yield(n)}).$$s=this,s.$$arity=-2,s))},_.$$arity=1),v.alias(m,"map","collect"),v.alias(m,"select","find_all"),v.def(m,"$reject",d=function(){var i,t=d.$$p,$=t||w;return t&&(d.$$p=null),t&&(d.$$p=null),O($)||this.$raise(E(g,"ArgumentError"),"tried to call lazy reject without a block"),S(E(g,"Lazy"),"new",[this,w],((i=function(t,e){var r;i.$$s;null==t&&(t=w),r=v.slice.call(arguments,1,arguments.length);var n=v.yieldX($,r);R(n)&&S(t,"yield",v.to_a(r))}).$$s=this,i.$$arity=-2,i))},d.$$arity=0),v.def(m,"$take",h=function(i){var $,t,e,a=w;return i=E(g,"Opal").$coerce_to(i,E(g,"Integer"),"to_int"),O(k(i,0))&&this.$raise(E(g,"ArgumentError"),"attempt to take negative size"),t=this.$enumerator_size(),e=O(E(g,"Integer")["$==="](t))&&O(k(i,t))?i:t,a=0,S(E(g,"Lazy"),"new",[this,e],(($=function(t,e){var r,n=$.$$s||this;return null==t&&(t=w),r=v.slice.call(arguments,1,arguments.length),O(k(a,i))?(S(t,"yield",v.to_a(r)),a=x(a,1)):n.$raise(E(g,"StopLazyError"))}).$$s=this,$.$$arity=-2,$))},h.$$arity=1),v.def(m,"$take_while",f=function(){var $,t=f.$$p,a=t||w;return t&&(f.$$p=null),t&&(f.$$p=null),O(a)||this.$raise(E(g,"ArgumentError"),"tried to call lazy take_while without a block"),S(E(g,"Lazy"),"new",[this,w],(($=function(t,e){var r,n=$.$$s||this;null==t&&(t=w),r=v.slice.call(arguments,1,arguments.length);var i=v.yieldX(a,r);O(i)?S(t,"yield",v.to_a(r)):n.$raise(E(g,"StopLazyError"))}).$$s=this,$.$$arity=-2,$))},f.$$arity=0),v.alias(m,"to_enum","enum_for"),v.def(m,"$inspect",p=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},p.$$arity=0),w&&"inspect"}(u[0],0,u)}(0,0,_)},Opal.modules["corelib/numeric"]=function(U){function H(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function Y(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function G(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function W(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var t=U.top,X=[],V=U.nil,K=U.const_get_qualified,J=U.const_get_relative,Z=(U.breaker,U.slice,U.klass),Q=U.truthy,tt=U.hash2;return U.add_stubs(["$require","$include","$instance_of?","$class","$Float","$respond_to?","$coerce","$__send__","$===","$raise","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$to_i","$truncate","$>"]),t.$require("corelib/comparable"),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k,w,E,A,O,S,R,C,T,M,I,N,P,z,L,D,F,B,q=n=Z(X[0],null,"Numeric",n),j=(q.prototype,[q].concat(r));return q.$include(J(j,"Comparable")),U.def(q,"$coerce",i=function(t){return Q(t["$instance_of?"](this.$class()))?[t,this]:[this.$Float(t),this.$Float(this)]},i.$$arity=1),U.def(q,"$__coerced__",$=function(t,e){var r,n,i=this,$=V,a=V,s=V;return Q(e["$respond_to?"]("coerce"))?(n=e.$coerce(i),$=null==(r=U.to_ary(n))[0]?V:r[0],a=null==r[1]?V:r[1],$.$__send__(t,a)):"+"["$==="](s=t)||"-"["$==="](s)||"*"["$==="](s)||"/"["$==="](s)||"%"["$==="](s)||"&"["$==="](s)||"|"["$==="](s)||"^"["$==="](s)||"**"["$==="](s)?i.$raise(J(j,"TypeError"),e.$class()+" can't be coerced into Numeric"):">"["$==="](s)||">="["$==="](s)||"<"["$==="](s)||"<="["$==="](s)||"<=>"["$==="](s)?i.$raise(J(j,"ArgumentError"),"comparison of "+i.$class()+" with "+e.$class()+" failed"):V},$.$$arity=2),U.def(q,"$<=>",a=function(t){return Q(this["$equal?"](t))?0:V},a.$$arity=1),U.def(q,"$+@",s=function(){return this},s.$$arity=0),U.def(q,"$-@",o=function(){return H(0,this)},o.$$arity=0),U.def(q,"$%",l=function(t){return H(this,Y(t,this.$div(t)))},l.$$arity=1),U.def(q,"$abs",c=function(){return G(this,0)?this["$-@"]():this},c.$$arity=0),U.def(q,"$abs2",u=function(){return Y(this,this)},u.$$arity=0),U.def(q,"$angle",_=function(){return G(this,0)?K(J(j,"Math"),"PI"):0},_.$$arity=0),U.alias(q,"arg","angle"),U.def(q,"$ceil",d=function(t){return null==t&&(t=0),this.$to_f().$ceil(t)},d.$$arity=-1),U.def(q,"$conj",h=function(){return this},h.$$arity=0),U.alias(q,"conjugate","conj"),U.def(q,"$denominator",f=function(){return this.$to_r().$denominator()},f.$$arity=0),U.def(q,"$div",p=function(t){return t["$=="](0)&&this.$raise(J(j,"ZeroDivisionError"),"divided by o"),W(this,t).$floor()},p.$$arity=1),U.def(q,"$divmod",m=function(t){return[this.$div(t),this["$%"](t)]},m.$$arity=1),U.def(q,"$fdiv",y=function(t){return W(this.$to_f(),t)},y.$$arity=1),U.def(q,"$floor",g=function(t){return null==t&&(t=0),this.$to_f().$floor(t)},g.$$arity=-1),U.def(q,"$i",b=function(){return this.$Complex(0,this)},b.$$arity=0),U.def(q,"$imag",v=function(){return 0},v.$$arity=0),U.alias(q,"imaginary","imag"),U.def(q,"$integer?",x=function(){return!1},x.$$arity=0),U.alias(q,"magnitude","abs"),U.alias(q,"modulo","%"),U.def(q,"$nonzero?",k=function(){return Q(this["$zero?"]())?V:this},k.$$arity=0),U.def(q,"$numerator",w=function(){return this.$to_r().$numerator()},w.$$arity=0),U.alias(q,"phase","arg"),U.def(q,"$polar",E=function(){return[this.$abs(),this.$arg()]},E.$$arity=0),U.def(q,"$quo",A=function(t){return W(J(j,"Opal")["$coerce_to!"](this,J(j,"Rational"),"to_r"),t)},A.$$arity=1),U.def(q,"$real",O=function(){return this},O.$$arity=0),U.def(q,"$real?",S=function(){return!0},S.$$arity=0),U.def(q,"$rect",R=function(){return[this,0]},R.$$arity=0),U.alias(q,"rectangular","rect"),U.def(q,"$round",C=function(t){return this.$to_f().$round(t)},C.$$arity=-1),U.def(q,"$to_c",T=function(){return this.$Complex(this,0)},T.$$arity=0),U.def(q,"$to_int",M=function(){return this.$to_i()},M.$$arity=0),U.def(q,"$truncate",I=function(t){return null==t&&(t=0),this.$to_f().$truncate(t)},I.$$arity=-1),U.def(q,"$zero?",N=function(){return this["$=="](0)},N.$$arity=0),U.def(q,"$positive?",P=function(){var t,e;return e=0,"number"==typeof(t=this)&&"number"==typeof e?e<t:t["$>"](e)},P.$$arity=0),U.def(q,"$negative?",z=function(){return G(this,0)},z.$$arity=0),U.def(q,"$dup",L=function(){return this},L.$$arity=0),U.def(q,"$clone",D=function(t){if(null==t)t=tt([],{});else if(!t.$$is_hash)throw U.ArgumentError.$new("expected kwargs");return null==t.$$smap.freeze&&!0,this},D.$$arity=-1),U.def(q,"$finite?",F=function(){return!0},F.$$arity=0),U.def(q,"$infinite?",B=function(){return V},B.$$arity=0),V&&"infinite?"}(0,0,X)},Opal.modules["corelib/array"]=function(Wt){function Xt(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}var t=Wt.top,Vt=[],Kt=Wt.nil,Jt=Wt.const_get_qualified,Zt=Wt.const_get_relative,Qt=(Wt.breaker,Wt.slice,Wt.klass),te=Wt.truthy,ee=Wt.hash2,re=Wt.send,ne=Wt.gvars;return Wt.add_stubs(["$require","$include","$to_a","$warn","$raise","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$===","$join","$to_str","$class","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$bsearch_index","$to_proc","$nil?","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$map","$equal?","$dup","$each","$[]","$dig","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$to_s","$new","$max","$min","$!","$>=","$**","$delete_if","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$<","$sort","$sort_by","$!=","$times","$[]=","$-","$<<","$values","$is_a?","$last","$first","$upto","$reject","$pristine","$singleton_class"]),t.$require("corelib/enumerable"),t.$require("corelib/numeric"),function(t,e,r){function n(){}var i,s,$,a,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k,w,E,A,O,S,R,C,T,M,I,N,P,z,L,D,F,B,q,j,U,H,Y,G,W,X,V,K,J,Z,Q,tt,et,rt,nt,it,$t,at,st,ot,lt,ct,ut,_t,dt,ht,ft,pt,mt,yt,gt,bt,vt,xt,kt,wt,Et,At,Ot,St,Rt,Ct,Tt,Mt,It,Nt,Pt,zt,Lt,Dt,Ft,Bt,qt,jt,Ut=n=Qt(Vt[0],e,"Array",n),Ht=(Ut.prototype,[Ut].concat(r));function Yt(t,e){return e.$$name===Wt.Array?t:e.$allocate().$replace(t.$to_a())}function Gt(t,e){return t===e||0===e?1:0<e&&e<t?Gt(t-1,e-1)+Gt(t-1,e):0}return Ut.$include(Zt(Ht,"Enumerable")),Wt.defineProperty(Array.prototype,"$$is_array",!0),Wt.defs(Ut,"$[]",i=function(t){return Yt(Wt.slice.call(arguments,0,arguments.length),this)},i.$$arity=-1),Wt.def(Ut,"$initialize",s=function(t,e){var r,n,i=s.$$p,$=i||Kt,a=this;if(i&&(s.$$p=null),i&&(s.$$p=null),null==t&&(t=Kt),null==e&&(e=Kt),e!==Kt&&$!==Kt&&a.$warn("warning: block supersedes default value argument"),t>Jt(Zt(Ht,"Integer"),"MAX")&&a.$raise(Zt(Ht,"ArgumentError"),"array size too big"),2<arguments.length&&a.$raise(Zt(Ht,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return a.splice(0,a.length),a;if(1===arguments.length){if(t.$$is_array)return a.$replace(t.$to_a()),a;if(t["$respond_to?"]("to_ary"))return a.$replace(t.$to_ary()),a}if((t=Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Integer"),"to_int"))<0&&a.$raise(Zt(Ht,"ArgumentError"),"negative array size"),a.splice(0,a.length),$===Kt)for(r=0;r<t;r++)a.push(e);else for(r=0;r<t;r++)n=$(r),a[r]=n;return a},s.$$arity=-1),Wt.defs(Ut,"$try_convert",$=function(t){return Zt(Ht,"Opal")["$coerce_to?"](t,Zt(Ht,"Array"),"to_ary")},$.$$arity=1),Wt.def(Ut,"$&",a=function(t){t=te(Zt(Ht,"Array")["$==="](t))?t.$to_a():Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Array"),"to_ary").$to_a();var e,r,n,i=[],$=ee([],{});for(e=0,r=t.length;e<r;e++)Wt.hash_put($,t[e],!0);for(e=0,r=this.length;e<r;e++)n=this[e],void 0!==Wt.hash_delete($,n)&&i.push(n);return i},a.$$arity=1),Wt.def(Ut,"$|",o=function(t){t=te(Zt(Ht,"Array")["$==="](t))?t.$to_a():Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Array"),"to_ary").$to_a();var e,r,n=ee([],{});for(e=0,r=this.length;e<r;e++)Wt.hash_put(n,this[e],!0);for(e=0,r=t.length;e<r;e++)Wt.hash_put(n,t[e],!0);return n.$keys()},o.$$arity=1),Wt.def(Ut,"$*",l=function(t){if(te(t["$respond_to?"]("to_str")))return this.$join(t.$to_str());t=Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Integer"),"to_int"),te(t<0)&&this.$raise(Zt(Ht,"ArgumentError"),"negative argument");for(var e=[],r=this.$to_a(),n=0;n<t;n++)e=e.concat(r);return Yt(e,this.$class())},l.$$arity=1),Wt.def(Ut,"$+",c=function(t){return t=te(Zt(Ht,"Array")["$==="](t))?t.$to_a():Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Array"),"to_ary").$to_a(),this.concat(t)},c.$$arity=1),Wt.def(Ut,"$-",u=function(t){if(t=te(Zt(Ht,"Array")["$==="](t))?t.$to_a():Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Array"),"to_ary").$to_a(),te(0===this.length))return[];if(te(0===t.length))return this.slice();var e,r,n,i=[],$=ee([],{});for(e=0,r=t.length;e<r;e++)Wt.hash_put($,t[e],!0);for(e=0,r=this.length;e<r;e++)n=this[e],void 0===Wt.hash_get($,n)&&i.push(n);return i},u.$$arity=1),Wt.def(Ut,"$<<",_=function(t){return this.push(t),this},_.$$arity=1),Wt.def(Ut,"$<=>",d=function(t){if(te(Zt(Ht,"Array")["$==="](t)))t=t.$to_a();else{if(!te(t["$respond_to?"]("to_ary")))return Kt;t=t.$to_ary().$to_a()}if(this.$hash()===t.$hash())return 0;for(var e=Math.min(this.length,t.length),r=0;r<e;r++){var n=this[r]["$<=>"](t[r]);if(0!==n)return n}return this.length["$<=>"](t.length)},d.$$arity=1),Wt.def(Ut,"$==",h=function(t){var s={};return function t(e,r){var n,i,$,a;if(e===r)return!0;if(!r.$$is_array)return!!Zt(Ht,"Opal")["$respond_to?"](r,"to_ary")&&r["$=="](e);if(e.constructor!==Array&&(e=e.$to_a()),r.constructor!==Array&&(r=r.$to_a()),e.length!==r.length)return!1;for(s[e.$object_id()]=!0,n=0,i=e.length;n<i;n++)if($=e[n],a=r[n],$.$$is_array){if(a.$$is_array&&a.length!==$.length)return!1;if(!s.hasOwnProperty($.$object_id())&&!t($,a))return!1}else if(!$["$=="](a))return!1;return!0}(this,t)},h.$$arity=1),Wt.def(Ut,"$[]",f=function(t,e){var r,n,i,$,a,s,o,l,c,u;return t.$$is_range?(s=t,u=(a=this).length,o=s.excl,l=Wt.Opal.$coerce_to(s.begin,Wt.Integer,"to_int"),c=Wt.Opal.$coerce_to(s.end,Wt.Integer,"to_int"),l<0&&(l+=u)<0?Kt:u<l?Kt:c<0&&(c+=u)<0?[]:(o||(c+=1),Yt(a.slice(l,c),a.$class()))):(n=t,i=e,$=(r=this).length,(n=Wt.Opal.$coerce_to(n,Wt.Integer,"to_int"))<0&&(n+=$)<0?Kt:void 0===i?$<=n||n<0?Kt:r[n]:(i=Wt.Opal.$coerce_to(i,Wt.Integer,"to_int"))<0||$<n||n<0?Kt:Yt(r.slice(n,n+i),r.$class()))},f.$$arity=-2),Wt.def(Ut,"$[]=",p=function(t,e,r){var n,i,$=this,a=Kt,s=Kt,o=$.length;if(te(Zt(Ht,"Range")["$==="](t))){a=te(Zt(Ht,"Array")["$==="](e))?e.$to_a():te(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e];var l=t.excl,c=Zt(Ht,"Opal").$coerce_to(t.begin,Zt(Ht,"Integer"),"to_int"),u=Zt(Ht,"Opal").$coerce_to(t.end,Zt(Ht,"Integer"),"to_int");if(c<0&&(c+=o)<0&&$.$raise(Zt(Ht,"RangeError"),t.$inspect()+" out of range"),u<0&&(u+=o),l||(u+=1),o<c)for(n=o;n<c;n++)$[n]=Kt;return u<0?$.splice.apply($,[c,0].concat(a)):$.splice.apply($,[c,u-c].concat(a)),e}if(te(void 0===r)?s=1:(s=e,e=r,a=te(Zt(Ht,"Array")["$==="](e))?e.$to_a():te(e["$respond_to?"]("to_ary"))?e.$to_ary().$to_a():[e]),t=Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Integer"),"to_int"),s=Zt(Ht,"Opal").$coerce_to(s,Zt(Ht,"Integer"),"to_int"),t<0&&(i=t,(t+=o)<0&&$.$raise(Zt(Ht,"IndexError"),"index "+i+" too small for array; minimum "+-$.length)),s<0&&$.$raise(Zt(Ht,"IndexError"),"negative length ("+s+")"),o<t)for(n=o;n<t;n++)$[n]=Kt;return void 0===r?$[t]=e:$.splice.apply($,[t,s].concat(a)),e},p.$$arity=-3),Wt.def(Ut,"$any?",m=function(t){var e,r=m.$$p,n=Kt,i=Kt;for(r&&(m.$$p=null),i=0,e=arguments.length,n=new Array(e);i<e;i++)n[i]=arguments[i];return r&&(m.$$p=null),0!==this.length&&re(this,Wt.find_super_dispatcher(this,"any?",m,!1),n,r)},m.$$arity=-1),Wt.def(Ut,"$assoc",y=function(t){for(var e,r=0,n=this.length;r<n;r++)if((e=this[r]).length&&e[0]["$=="](t))return e;return Kt},y.$$arity=1),Wt.def(Ut,"$at",g=function(t){return(t=Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Integer"),"to_int"))<0&&(t+=this.length),t<0||t>=this.length?Kt:this[t]},g.$$arity=1),Wt.def(Ut,"$bsearch_index",b=function(){var t=b.$$p,e=t||Kt;if(t&&(b.$$p=null),t&&(b.$$p=null),e===Kt)return this.$enum_for("bsearch_index");for(var r,n,i,$=0,a=this.length,s=!1,o=Kt;$<a;){if(n=this[r=$+Math.floor((a-$)/2)],!0===(i=Wt.yield1(e,n)))o=r,s=!0;else if(!1===i||i===Kt)s=!1;else if(i.$$is_number){if(0===i)return r;s=i<0}else this.$raise(Zt(Ht,"TypeError"),"wrong argument type "+i.$class()+" (must be numeric, true, false or nil)");s?a=r:$=r+1}return o},b.$$arity=0),Wt.def(Ut,"$bsearch",v=function(){var t,e=v.$$p,r=e||Kt;return e&&(v.$$p=null),e&&(v.$$p=null),r===Kt?this.$enum_for("bsearch"):null!=(t=re(this,"bsearch_index",[],r.$to_proc()))&&t.$$is_number?this[t]:t},v.$$arity=0),Wt.def(Ut,"$cycle",x=function(n){var i,t,e,r,$=x.$$p,a=$||Kt;if($&&(x.$$p=null),$&&(x.$$p=null),null==n&&(n=Kt),a===Kt)return re(this,"enum_for",["cycle",n],((i=function(){var t,e,r=i.$$s||this;return te(n["$nil?"]())?Jt(Zt(Ht,"Float"),"INFINITY"):(n=Zt(Ht,"Opal")["$coerce_to!"](n,Zt(Ht,"Integer"),"to_int"),te(Xt(n,0))?(t=r.$enumerator_size(),e=n,"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)):0)}).$$s=this,i.$$arity=0,i));if(te(te(t=this["$empty?"]())?t:n["$=="](0)))return Kt;if(n===Kt)for(;;)for(e=0,r=this.length;e<r;e++)Wt.yield1(a,this[e]);else{if((n=Zt(Ht,"Opal")["$coerce_to!"](n,Zt(Ht,"Integer"),"to_int"))<=0)return this;for(;0<n;){for(e=0,r=this.length;e<r;e++)Wt.yield1(a,this[e]);n--}}return this},x.$$arity=-1),Wt.def(Ut,"$clear",k=function(){return this.splice(0,this.length),this},k.$$arity=0),Wt.def(Ut,"$count",w=function(t){var e,r,n=w.$$p,i=n||Kt,$=Kt,a=Kt;for(n&&(w.$$p=null),a=0,r=arguments.length,$=new Array(r);a<r;a++)$[a]=arguments[a];return n&&(w.$$p=null),null==t&&(t=Kt),te(te(e=t)?e:i)?re(this,Wt.find_super_dispatcher(this,"count",w,!1),$,n):this.$size()},w.$$arity=-1),Wt.def(Ut,"$initialize_copy",E=function(t){return this.$replace(t)},E.$$arity=1),Wt.def(Ut,"$collect",A=function(){var t,e=A.$$p,r=e||Kt;if(e&&(A.$$p=null),e&&(A.$$p=null),r===Kt)return re(this,"enum_for",["collect"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n=[],i=0,$=this.length;i<$;i++){var a=Wt.yield1(r,this[i]);n.push(a)}return n},A.$$arity=0),Wt.def(Ut,"$collect!",O=function(){var t,e=O.$$p,r=e||Kt;if(e&&(O.$$p=null),e&&(O.$$p=null),r===Kt)return re(this,"enum_for",["collect!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n=0,i=this.length;n<i;n++){var $=Wt.yield1(r,this[n]);this[n]=$}return this},O.$$arity=0),Wt.def(Ut,"$combination",S=function(t){var e,r,n,i,$,a,s,o,l,c=S.$$p,u=c||Kt,_=this;if(c&&(S.$$p=null),r=Zt(Ht,"Opal")["$coerce_to!"](t,Zt(Ht,"Integer"),"to_int"),u===Kt)return re(_,"enum_for",["combination",r],((e=function(){return Gt((e.$$s||this).length,r)}).$$s=_,e.$$arity=0,e));if(0===r)Wt.yield1(u,[]);else if(1===r)for(n=0,i=_.length;n<i;n++)Wt.yield1(u,[_[n]]);else if(r===_.length)Wt.yield1(u,_.slice());else if(0<=r&&r<_.length){for($=[],n=0;n<=r+1;n++)$.push(0);for(o=!(a=[]),$[s=0]=-1;!o;){for(a[s]=_[$[s+1]];s<r-1;)l=$[++s+1]=$[s]+1,a[s]=_[l];for(Wt.yield1(u,a.slice()),s++;o=0===s,$[s]++,$[--s+1]+r===_.length+s+1;);}}return _},S.$$arity=1),Wt.def(Ut,"$repeated_combination",R=function(t){var e,r,n=R.$$p,s=n||Kt;if(n&&(R.$$p=null),r=Zt(Ht,"Opal")["$coerce_to!"](t,Zt(Ht,"Integer"),"to_int"),s===Kt)return re(this,"enum_for",["repeated_combination",r],((e=function(){return Gt((e.$$s||this).length+r-1,r)}).$$s=this,e.$$arity=0,e));return 0<=r&&function t(e,r,n,i){if(n.length!=e)for(var $=r;$<i.length;$++)n.push(i[$]),t(e,$,n,i),n.pop();else{var a=n.slice();Wt.yield1(s,a)}}(r,0,[],this),this},R.$$arity=1),Wt.def(Ut,"$compact",C=function(){for(var t,e=[],r=0,n=this.length;r<n;r++)(t=this[r])!==Kt&&e.push(t);return e},C.$$arity=0),Wt.def(Ut,"$compact!",T=function(){for(var t=this.length,e=0,r=this.length;e<r;e++)this[e]===Kt&&(this.splice(e,1),r--,e--);return this.length===t?Kt:this},T.$$arity=0),Wt.def(Ut,"$concat",M=function(t){var e,r,n,i;return e=Wt.slice.call(arguments,0,arguments.length),r=re(r=e,"map",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=Kt),t=te(Zt(Ht,"Array")["$==="](t))?t.$to_a():Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Array"),"to_ary").$to_a(),te(t["$equal?"](e))&&(t=t.$dup()),t}).$$s=this,n.$$arity=1,n)),re(r,"each",[],((i=function(t){var e=i.$$s||this;null==t&&(t=Kt);for(var r=0,n=t.length;r<n;r++)e.push(t[r])}).$$s=this,i.$$arity=1,i)),this},M.$$arity=-1),Wt.def(Ut,"$delete",I=function(t){var e=I.$$p,r=e||Kt;e&&(I.$$p=null);for(var n=this.length,i=0,$=n;i<$;i++)this[i]["$=="](t)&&(this.splice(i,1),$--,i--);return this.length===n?r!==Kt?Wt.yieldX(r,[]):Kt:t},I.$$arity=1),Wt.def(Ut,"$delete_at",N=function(t){if((t=Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Integer"),"to_int"))<0&&(t+=this.length),t<0||t>=this.length)return Kt;var e=this[t];return this.splice(t,1),e},N.$$arity=1),Wt.def(Ut,"$delete_if",P=function(){var t,e=P.$$p,r=e||Kt;if(e&&(P.$$p=null),e&&(P.$$p=null),r===Kt)return re(this,"enum_for",["delete_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i=0,$=this.length;i<$;i++)!1!==(n=r(this[i]))&&n!==Kt&&(this.splice(i,1),$--,i--);return this},P.$$arity=0),Wt.def(Ut,"$dig",z=function(t,e){var r,n=Kt;return r=Wt.slice.call(arguments,1,arguments.length),(n=this["$[]"](t))===Kt||0===r.length?n:(te(n["$respond_to?"]("dig"))||this.$raise(Zt(Ht,"TypeError"),n.$class()+" does not have #dig method"),re(n,"dig",Wt.to_a(r)))},z.$$arity=-2),Wt.def(Ut,"$drop",L=function(t){return t<0&&this.$raise(Zt(Ht,"ArgumentError")),this.slice(t)},L.$$arity=1),Wt.def(Ut,"$dup",D=function(){var t,e=D.$$p,r=Kt,n=Kt;for(e&&(D.$$p=null),n=0,t=arguments.length,r=new Array(t);n<t;n++)r[n]=arguments[n];return this.$$class===Wt.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):re(this,Wt.find_super_dispatcher(this,"dup",D,!1),r,e)},D.$$arity=0),Wt.def(Ut,"$each",F=function(){var t,e=F.$$p,r=e||Kt;if(e&&(F.$$p=null),e&&(F.$$p=null),r===Kt)return re(this,"enum_for",["each"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n=0,i=this.length;n<i;n++)Wt.yield1(r,this[n]);return this},F.$$arity=0),Wt.def(Ut,"$each_index",B=function(){var t,e=B.$$p,r=e||Kt;if(e&&(B.$$p=null),e&&(B.$$p=null),r===Kt)return re(this,"enum_for",["each_index"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n=0,i=this.length;n<i;n++)Wt.yield1(r,n);return this},B.$$arity=0),Wt.def(Ut,"$empty?",q=function(){return 0===this.length},q.$$arity=0),Wt.def(Ut,"$eql?",j=function(t){var s={};return function t(e,r){var n,i,$,a;if(!r.$$is_array)return!1;if(r=r.$to_a(),e.length!==r.length)return!1;for(s[e.$object_id()]=!0,n=0,i=e.length;n<i;n++)if($=e[n],a=r[n],$.$$is_array){if(a.$$is_array&&a.length!==$.length)return!1;if(!s.hasOwnProperty($.$object_id())&&!t($,a))return!1}else if(!$["$eql?"](a))return!1;return!0}(this,t)},j.$$arity=1),Wt.def(Ut,"$fetch",U=function(t,e){var r=U.$$p,n=r||Kt;r&&(U.$$p=null),r&&(U.$$p=null);var i=t;return(t=Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Integer"),"to_int"))<0&&(t+=this.length),0<=t&&t<this.length?this[t]:(n!==Kt&&null!=e&&this.$warn("warning: block supersedes default value argument"),n!==Kt?n(i):null!=e?e:void(0===this.length?this.$raise(Zt(Ht,"IndexError"),"index "+i+" outside of array bounds: 0...0"):this.$raise(Zt(Ht,"IndexError"),"index "+i+" outside of array bounds: -"+this.length+"..."+this.length)))},U.$$arity=-2),Wt.def(Ut,"$fill",H=function(t){var e,r,n,i,$,a=H.$$p,s=a||Kt,o=this,l=Kt,c=Kt,u=Kt,_=Kt,d=Kt;if(a&&(H.$$p=null),a&&(H.$$p=null),e=Wt.slice.call(arguments,0,arguments.length),c=te(s)?(te(2<e.length)&&o.$raise(Zt(Ht,"ArgumentError"),"wrong number of arguments ("+e.$length()+" for 0..2)"),n=e,l=null==(r=Wt.to_ary(n))[0]?Kt:r[0],null==r[1]?Kt:r[1]):(te(0==e.length)?o.$raise(Zt(Ht,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):te(3<e.length)&&o.$raise(Zt(Ht,"ArgumentError"),"wrong number of arguments ("+e.$length()+" for 1..3)"),n=e,u=null==(r=Wt.to_ary(n))[0]?Kt:r[0],l=null==r[1]?Kt:r[1],null==r[2]?Kt:r[2]),te(Zt(Ht,"Range")["$==="](l))){if(te(c)&&o.$raise(Zt(Ht,"TypeError"),"length invalid with range"),_=Zt(Ht,"Opal").$coerce_to(l.$begin(),Zt(Ht,"Integer"),"to_int"),te(_<0)&&(_+=this.length),te(_<0)&&o.$raise(Zt(Ht,"RangeError"),l.$inspect()+" out of range"),d=Zt(Ht,"Opal").$coerce_to(l.$end(),Zt(Ht,"Integer"),"to_int"),te(d<0)&&(d+=this.length),te(l["$exclude_end?"]())||(d+=1),te(d<=_))return o}else if(te(l))if(_=Zt(Ht,"Opal").$coerce_to(l,Zt(Ht,"Integer"),"to_int"),te(_<0)&&(_+=this.length),te(_<0)&&(_=0),te(c)){if(d=Zt(Ht,"Opal").$coerce_to(c,Zt(Ht,"Integer"),"to_int"),te(0==d))return o;d+=_}else d=this.length;else _=0,d=this.length;if(te(_>this.length))for(i=this.length;i<d;i++)o[i]=Kt;if(te(d>this.length)&&(this.length=d),te(s))for(this.length;_<d;_++)$=s(_),o[_]=$;else for(this.length;_<d;_++)o[_]=u;return o},H.$$arity=-1),Wt.def(Ut,"$first",Y=function(t){return null==t?0===this.length?Kt:this[0]:((t=Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Integer"),"to_int"))<0&&this.$raise(Zt(Ht,"ArgumentError"),"negative array size"),this.slice(0,t))},Y.$$arity=-1),Wt.def(Ut,"$flatten",G=function(t){var o=this;return void 0!==t&&(t=Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Integer"),"to_int")),Yt(function t(e,r){var n,i,$,a,s=[];for(n=0,i=(e=e.$to_a()).length;n<i;n++)if($=e[n],Zt(Ht,"Opal")["$respond_to?"]($,"to_ary",!0))if((a=$.$to_ary())!==Kt)switch(a.$$is_array||o.$raise(Zt(Ht,"TypeError")),a===o&&o.$raise(Zt(Ht,"ArgumentError")),r){case void 0:s=s.concat(t(a));break;case 0:s.push(a);break;default:s.push.apply(s,t(a,r-1))}else s.push($);else s.push($);return s}(o,t),o.$class())},G.$$arity=-1),Wt.def(Ut,"$flatten!",W=function(t){var e=this.$flatten(t);if(this.length==e.length){for(var r=0,n=this.length;r<n&&this[r]===e[r];r++);if(r==n)return Kt}return this.$replace(e),this},W.$$arity=-1),Wt.def(Ut,"$hash",X=function(){var t,e,r,n=void 0===Wt.hash_ids,i=["A"],$=this.$object_id();try{if(n&&(Wt.hash_ids=Object.create(null)),Wt.hash_ids[$])return"self";for(r in Wt.hash_ids)if(t=Wt.hash_ids[r],this["$eql?"](t))return"self";for(Wt.hash_ids[$]=this,e=0;e<this.length;e++)t=this[e],i.push(t.$hash());return i.join(",")}finally{n&&(Wt.hash_ids=void 0)}},X.$$arity=0),Wt.def(Ut,"$include?",V=function(t){for(var e=0,r=this.length;e<r;e++)if(this[e]["$=="](t))return!0;return!1},V.$$arity=1),Wt.def(Ut,"$index",K=function(t){var e,r,n,i=K.$$p,$=i||Kt;if(i&&(K.$$p=null),i&&(K.$$p=null),null!=t&&$!==Kt&&this.$warn("warning: given block not used"),null!=t){for(e=0,r=this.length;e<r;e++)if(this[e]["$=="](t))return e}else{if($===Kt)return this.$enum_for("index");for(e=0,r=this.length;e<r;e++)if(!1!==(n=$(this[e]))&&n!==Kt)return e}return Kt},K.$$arity=-1),Wt.def(Ut,"$insert",J=function(t,e){var r;if(r=Wt.slice.call(arguments,1,arguments.length),t=Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Integer"),"to_int"),0<r.length){if(t<0&&(t+=this.length+1)<0&&this.$raise(Zt(Ht,"IndexError"),t+" is out of bounds"),t>this.length)for(var n=this.length;n<t;n++)this.push(Kt);this.splice.apply(this,[t,0].concat(r))}return this},J.$$arity=-2),Wt.def(Ut,"$inspect",Z=function(){for(var t=[],e=this.$__id__(),r=0,n=this.length;r<n;r++){var i=this["$[]"](r);i.$__id__()===e?t.push("[...]"):t.push(i.$inspect())}return"["+t.join(", ")+"]"},Z.$$arity=0),Wt.def(Ut,"$join",Q=function(t){if(null==ne[","]&&(ne[","]=Kt),null==t&&(t=Kt),te(0===this.length))return"";te(t===Kt)&&(t=ne[","]);var e,r,n,i,$=[];for(e=0,r=this.length;e<r;e++)n=this[e],Zt(Ht,"Opal")["$respond_to?"](n,"to_str")&&(i=n.$to_str())!==Kt?$.push(i.$to_s()):Zt(Ht,"Opal")["$respond_to?"](n,"to_ary")&&((i=n.$to_ary())===this&&this.$raise(Zt(Ht,"ArgumentError")),i!==Kt)?$.push(i.$join(t)):Zt(Ht,"Opal")["$respond_to?"](n,"to_s")&&(i=n.$to_s())!==Kt?$.push(i):this.$raise(Zt(Ht,"NoMethodError").$new(Wt.inspect(n)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return t===Kt?$.join(""):$.join(Zt(Ht,"Opal")["$coerce_to!"](t,Zt(Ht,"String"),"to_str").$to_s())},Q.$$arity=-1),Wt.def(Ut,"$keep_if",tt=function(){var t,e=tt.$$p,r=e||Kt;if(e&&(tt.$$p=null),e&&(tt.$$p=null),r===Kt)return re(this,"enum_for",["keep_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i=0,$=this.length;i<$;i++)!1!==(n=r(this[i]))&&n!==Kt||(this.splice(i,1),$--,i--);return this},tt.$$arity=0),Wt.def(Ut,"$last",et=function(t){return null==t?0===this.length?Kt:this[this.length-1]:((t=Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Integer"),"to_int"))<0&&this.$raise(Zt(Ht,"ArgumentError"),"negative array size"),t>this.length&&(t=this.length),this.slice(this.length-t,this.length))},et.$$arity=-1),Wt.def(Ut,"$length",rt=function(){return this.length},rt.$$arity=0),Wt.alias(Ut,"map","collect"),Wt.alias(Ut,"map!","collect!"),Wt.def(Ut,"$max",nt=function(t){var e=nt.$$p,r=e||Kt;return e&&(nt.$$p=null),e&&(nt.$$p=null),re(this.$each(),"max",[t],r.$to_proc())},nt.$$arity=-1),Wt.def(Ut,"$min",it=function(){var t=it.$$p,e=t||Kt;return t&&(it.$$p=null),t&&(it.$$p=null),re(this.$each(),"min",[],e.$to_proc())},it.$$arity=0),Wt.def(Ut,"$permutation",$t=function(e){var r,s,t,o,n=$t.$$p,i=n||Kt,l=this,$=Kt,a=Kt;if(n&&($t.$$p=null),n&&($t.$$p=null),i===Kt)return re(l,"enum_for",["permutation",e],((r=function(){var t=r.$$s||this;return function(t,e){for(var r=0<=e?1:0;e;)r*=t,t--,e--;return r}(t.length,void 0===e?t.length:e)}).$$s=l,r.$$arity=0,r));if((e=void 0===e?l.length:Zt(Ht,"Opal").$coerce_to(e,Zt(Ht,"Integer"),"to_int"))<0||l.length<e);else if(0===e)Wt.yield1(i,[]);else if(1===e)for(var c=0;c<l.length;c++)Wt.yield1(i,[l[c]]);else $=Zt(Ht,"Array").$new(e),a=Zt(Ht,"Array").$new(l.length,!1),s=function(t,e,r,n,i){l=this;for(var $=0;$<l.length;$++)if(n["$[]"]($)["$!"]())if(e[r]=$,r<t-1)n[$]=!0,s.call(l,t,e,r+1,n,i),n[$]=!1;else{o=[];for(var a=0;a<e.length;a++)o.push(l[e[a]]);Wt.yield1(i,o)}},i!==Kt?(t=l.slice(),s.call(t,e,$,0,a,i)):s.call(l,e,$,0,a,i);return l},$t.$$arity=-1),Wt.def(Ut,"$repeated_permutation",at=function(t){var n,i,e=at.$$p,a=e||Kt;if(e&&(at.$$p=null),i=Zt(Ht,"Opal")["$coerce_to!"](t,Zt(Ht,"Integer"),"to_int"),a===Kt)return re(this,"enum_for",["repeated_permutation",i],((n=function(){var t,e,r=n.$$s||this;return te((e=0,"number"==typeof(t=i)&&"number"==typeof e?e<=t:t["$>="](e)))?r.$size()["$**"](i):0}).$$s=this,n.$$arity=0,n));return function t(e,r,n){if(r.length!=e)for(var i=0;i<n.length;i++)r.push(n[i]),t(e,r,n),r.pop();else{var $=r.slice();Wt.yield1(a,$)}}(i,[],this.slice()),this},at.$$arity=1),Wt.def(Ut,"$pop",st=function(t){var e=this;return te(void 0===t)?te(0===e.length)?Kt:e.pop():(t=Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Integer"),"to_int"),te(t<0)&&e.$raise(Zt(Ht,"ArgumentError"),"negative array size"),te(0===e.length)?[]:te(t>e.length)?e.splice(0,e.length):e.splice(e.length-t,e.length))},st.$$arity=-1),Wt.def(Ut,"$product",ot=function(t){var e,r,n=ot.$$p,i=n||Kt;n&&(ot.$$p=null),n&&(ot.$$p=null),e=Wt.slice.call(arguments,0,arguments.length);var $,a,s,o,l=i!==Kt?null:[],c=(r=e).length+1,u=new Array(c),_=new Array(c),d=new Array(c),h=1;for(d[0]=this,$=1;$<c;$++)d[$]=Zt(Ht,"Opal").$coerce_to(r[$-1],Zt(Ht,"Array"),"to_ary");for($=0;$<c;$++){if(0===(o=d[$].length))return l||this;2147483647<(h*=o)&&this.$raise(Zt(Ht,"RangeError"),"too big to product"),_[$]=o,u[$]=0}t:for(;;){for(s=[],$=0;$<c;$++)s.push(d[$][u[$]]);for(l?l.push(s):Wt.yield1(i,s),u[a=c-1]++;u[a]===_[a];){if(u[a]=0,--a<0)break t;u[a]++}}return l||this},ot.$$arity=-1),Wt.def(Ut,"$push",lt=function(t){for(var e,r=0,n=(e=Wt.slice.call(arguments,0,arguments.length)).length;r<n;r++)this.push(e[r]);return this},lt.$$arity=-1),Wt.alias(Ut,"append","push"),Wt.def(Ut,"$rassoc",ct=function(t){for(var e,r=0,n=this.length;r<n;r++)if((e=this[r]).length&&void 0!==e[1]&&e[1]["$=="](t))return e;return Kt},ct.$$arity=1),Wt.def(Ut,"$reject",ut=function(){var t,e=ut.$$p,r=e||Kt;if(e&&(ut.$$p=null),e&&(ut.$$p=null),r===Kt)return re(this,"enum_for",["reject"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i=[],$=0,a=this.length;$<a;$++)!1!==(n=r(this[$]))&&n!==Kt||i.push(this[$]);return i},ut.$$arity=0),Wt.def(Ut,"$reject!",_t=function(){var t,e,r=_t.$$p,n=r||Kt;return r&&(_t.$$p=null),r&&(_t.$$p=null),n===Kt?re(this,"enum_for",["reject!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(e=this.$length(),re(this,"delete_if",[],n.$to_proc()),this.$length()["$=="](e)?Kt:this)},_t.$$arity=0),Wt.def(Ut,"$replace",dt=function(t){return t=te(Zt(Ht,"Array")["$==="](t))?t.$to_a():Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Array"),"to_ary").$to_a(),this.splice(0,this.length),this.push.apply(this,t),this},dt.$$arity=1),Wt.def(Ut,"$reverse",ht=function(){return this.slice(0).reverse()},ht.$$arity=0),Wt.def(Ut,"$reverse!",ft=function(){return this.reverse()},ft.$$arity=0),Wt.def(Ut,"$reverse_each",pt=function(){var t,e=pt.$$p,r=e||Kt;return e&&(pt.$$p=null),e&&(pt.$$p=null),r===Kt?re(this,"enum_for",["reverse_each"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(re(this.$reverse(),"each",[],r.$to_proc()),this)},pt.$$arity=0),Wt.def(Ut,"$rindex",mt=function(t){var e,r,n=mt.$$p,i=n||Kt;if(n&&(mt.$$p=null),n&&(mt.$$p=null),null!=t&&i!==Kt&&this.$warn("warning: given block not used"),null!=t){for(e=this.length-1;0<=e&&!(e>=this.length);e--)if(this[e]["$=="](t))return e}else if(i!==Kt){for(e=this.length-1;0<=e&&!(e>=this.length);e--)if(!1!==(r=i(this[e]))&&r!==Kt)return e}else if(null==t)return this.$enum_for("rindex");return Kt},mt.$$arity=-1),Wt.def(Ut,"$rotate",yt=function(t){var e,r,n,i;return null==t&&(t=1),t=Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Integer"),"to_int"),1===this.length?this.slice():0===this.length?[]:(r=t%(e=this.slice()).length,n=e.slice(r),i=e.slice(0,r),n.concat(i))},yt.$$arity=-1),Wt.def(Ut,"$rotate!",gt=function(t){var e;return null==t&&(t=1),0===this.length||1===this.length?this:(t=Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Integer"),"to_int"),e=this.$rotate(t),this.$replace(e))},gt.$$arity=-1),function(t,e,r){function n(){}var i,$,a=n=Qt(t,null,"SampleRandom",n),s=a.prototype,o=[a].concat(r);s.rng=Kt,Wt.def(a,"$initialize",i=function(t){return this.rng=t},i.$$arity=1),Wt.def(a,"$rand",$=function(t){var e;return e=Zt(o,"Opal").$coerce_to(this.rng.$rand(t),Zt(o,"Integer"),"to_int"),te(e<0)&&this.$raise(Zt(o,"RangeError"),"random value must be >= 0"),te(e<t)||this.$raise(Zt(o,"RangeError"),"random value must be less than Array size"),e},$.$$arity=1)}(Ht[0],0,Ht),Wt.def(Ut,"$sample",bt=function(t,e){var r,n,i,$,a,s,o,l,c,u=this,_=Kt,d=Kt;if(te(void 0===t))return u.$at(Zt(Ht,"Kernel").$rand(u.length));if(te(void 0===e)?t=te(_=Zt(Ht,"Opal")["$coerce_to?"](t,Zt(Ht,"Hash"),"to_hash"))?(e=_,Kt):(e=Kt,Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Integer"),"to_int")):(t=Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Integer"),"to_int"),e=Zt(Ht,"Opal").$coerce_to(e,Zt(Ht,"Hash"),"to_hash")),te(te(r=t)?t<0:r)&&u.$raise(Zt(Ht,"ArgumentError"),"count must be greater than 0"),te(e)&&(d=e["$[]"]("random")),d=te(te(r=d)?d["$respond_to?"]("rand"):r)?Zt(Ht,"SampleRandom").$new(d):Zt(Ht,"Kernel"),!te(t))return u[d.$rand(u.length)];switch(t>u.length&&(t=u.length),t){case 0:return[];case 1:return[u[d.$rand(u.length)]];case 2:return(a=d.$rand(u.length))===(s=d.$rand(u.length))&&(s=0===a?a+1:a-1),[u[a],u[s]];default:if(3<u.length/t){for(n=!1,i=0,a=1,($=Zt(Ht,"Array").$new(t))[0]=d.$rand(u.length);a<t;){for(o=d.$rand(u.length),s=0;s<a;){for(;o===$[s];){if(100<++i){n=!0;break}o=d.$rand(u.length)}if(n)break;s++}if(n)break;$[a]=o,a++}if(!n){for(a=0;a<t;)$[a]=u[$[a]],a++;return $}}$=u.slice();for(var h=0;h<t;h++)l=d.$rand(u.length),c=$[h],$[h]=$[l],$[l]=c;return t===u.length?$:$["$[]"](0,t)}},bt.$$arity=-1),Wt.def(Ut,"$select",vt=function(){var t,e=vt.$$p,r=e||Kt;if(e&&(vt.$$p=null),e&&(vt.$$p=null),r===Kt)return re(this,"enum_for",["select"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$=[],a=0,s=this.length;a<s;a++)n=this[a],i=Wt.yield1(r,n),Wt.truthy(i)&&$.push(n);return $},vt.$$arity=0),Wt.def(Ut,"$select!",xt=function(){var t,e=xt.$$p,r=e||Kt;if(e&&(xt.$$p=null),e&&(xt.$$p=null),r===Kt)return re(this,"enum_for",["select!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));var n=this.length;return re(this,"keep_if",[],r.$to_proc()),this.length===n?Kt:this},xt.$$arity=0),Wt.def(Ut,"$shift",kt=function(t){return te(void 0===t)?te(0===this.length)?Kt:this.shift():(t=Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Integer"),"to_int"),te(t<0)&&this.$raise(Zt(Ht,"ArgumentError"),"negative array size"),te(0===this.length)?[]:this.splice(0,t))},kt.$$arity=-1),Wt.alias(Ut,"size","length"),Wt.def(Ut,"$shuffle",wt=function(t){return this.$dup().$to_a()["$shuffle!"](t)},wt.$$arity=-1),Wt.def(Ut,"$shuffle!",Et=function(t){var e,r,n,i=this.length;for(void 0!==t&&(t=Zt(Ht,"Opal")["$coerce_to?"](t,Zt(Ht,"Hash"),"to_hash"))!==Kt&&(t=t["$[]"]("random"))!==Kt&&t["$respond_to?"]("rand")&&(e=t);i;)e?((r=e.$rand(i).$to_int())<0&&this.$raise(Zt(Ht,"RangeError"),"random number too small "+r),i<=r&&this.$raise(Zt(Ht,"RangeError"),"random number too big "+r)):r=this.$rand(i),n=this[--i],this[i]=this[r],this[r]=n;return this},Et.$$arity=-1),Wt.alias(Ut,"slice","[]"),Wt.def(Ut,"$slice!",At=function(t,e){var r=this,n=Kt,i=Kt,$=Kt,a=Kt,s=Kt;if(n=Kt,te(void 0===e))if(te(Zt(Ht,"Range")["$==="](t))){i=t,n=r["$[]"](i),$=Zt(Ht,"Opal").$coerce_to(i.$begin(),Zt(Ht,"Integer"),"to_int"),a=Zt(Ht,"Opal").$coerce_to(i.$end(),Zt(Ht,"Integer"),"to_int"),$<0&&($+=r.length),a<0?a+=r.length:a>=r.length&&(a=r.length-1,i.excl&&(a+=1));var o=a-$;i.excl?a-=1:o+=1,$<r.length&&0<=$&&a<r.length&&0<=a&&0<o&&r.splice($,o)}else{if((s=Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Integer"),"to_int"))<0&&(s+=r.length),s<0||s>=r.length)return Kt;n=r[s],0===s?r.shift():r.splice(s,1)}else{if(s=Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Integer"),"to_int"),(e=Zt(Ht,"Opal").$coerce_to(e,Zt(Ht,"Integer"),"to_int"))<0)return Kt;n=r["$[]"](s,e),s<0&&(s+=r.length),s+e>r.length&&(e=r.length-s),s<r.length&&0<=s&&r.splice(s,e)}return n},At.$$arity=-2),Wt.def(Ut,"$sort",Ot=function(){var t=Ot.$$p,$=t||Kt,a=this;return t&&(Ot.$$p=null),t&&(Ot.$$p=null),te(1<a.length)?($===Kt&&($=function(t,e){return t["$<=>"](e)}),a.slice().sort(function(t,e){var r,n,i=$(t,e);return i===Kt&&a.$raise(Zt(Ht,"ArgumentError"),"comparison of "+t.$inspect()+" with "+e.$inspect()+" failed"),Xt(i,0)?1:(n=0,("number"==typeof(r=i)&&"number"==typeof n?r<n:r["$<"](n))?-1:0)})):a},Ot.$$arity=0),Wt.def(Ut,"$sort!",St=function(){var t,e=St.$$p,r=e||Kt;e&&(St.$$p=null),e&&(St.$$p=null),t=r!==Kt?re(this.slice(),"sort",[],r.$to_proc()):this.slice().$sort();for(var n=this.length=0,i=t.length;n<i;n++)this.push(t[n]);return this},St.$$arity=0),Wt.def(Ut,"$sort_by!",Rt=function(){var t,e=Rt.$$p,r=e||Kt;return e&&(Rt.$$p=null),e&&(Rt.$$p=null),r===Kt?re(this,"enum_for",["sort_by!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):this.$replace(re(this,"sort_by",[],r.$to_proc()))},Rt.$$arity=0),Wt.def(Ut,"$take",Ct=function(t){return t<0&&this.$raise(Zt(Ht,"ArgumentError")),this.slice(0,t)},Ct.$$arity=1),Wt.def(Ut,"$take_while",Tt=function(){var t=Tt.$$p,e=t||Kt;t&&(Tt.$$p=null),t&&(Tt.$$p=null);for(var r,n,i=[],$=0,a=this.length;$<a;$++){if(!1===(n=e(r=this[$]))||n===Kt)return i;i.push(r)}return i},Tt.$$arity=0),Wt.def(Ut,"$to_a",Mt=function(){return this},Mt.$$arity=0),Wt.alias(Ut,"to_ary","to_a"),Wt.def(Ut,"$to_h",It=function(){var t,e,r,n,i=this.length,$=ee([],{});for(t=0;t<i;t++)(e=Zt(Ht,"Opal")["$coerce_to?"](this[t],Zt(Ht,"Array"),"to_ary")).$$is_array||this.$raise(Zt(Ht,"TypeError"),"wrong element type "+e.$class()+" at "+t+" (expected array)"),2!==e.length&&this.$raise(Zt(Ht,"ArgumentError"),"wrong array length at "+t+" (expected 2, was "+e.$length()+")"),r=e[0],n=e[1],Wt.hash_put($,r,n);return $},It.$$arity=0),Wt.alias(Ut,"to_s","inspect"),Wt.def(Ut,"$transpose",Nt=function(){var r,s=Kt,n=Kt;return te(this["$empty?"]())?[]:(s=[],n=Kt,re(this,"each",[],((r=function($){var t,a,e=r.$$s||this;return null==$&&($=Kt),$=te(Zt(Ht,"Array")["$==="]($))?$.$to_a():Zt(Ht,"Opal").$coerce_to($,Zt(Ht,"Array"),"to_ary").$to_a(),n=te(t=n)?t:$.length,te($.length["$!="](n))&&e.$raise(Zt(Ht,"IndexError"),"element size differs ("+$.length+" should be "+n+")"),re($.length,"times",[],((a=function(t){a.$$s;var e,r,n,i=Kt;return null==t&&(t=Kt),(te(e=s["$[]"](t))?e:(i=[t,[]],re(s,"[]=",Wt.to_a(i)),i[(r=i.length,n=1,"number"==typeof r&&"number"==typeof n?r-n:r["$-"](n))]))["$<<"]($.$at(t))}).$$s=e,a.$$arity=1,a))}).$$s=this,r.$$arity=1,r)),s)},Nt.$$arity=0),Wt.def(Ut,"$uniq",Pt=function(){var t=Pt.$$p,e=t||Kt;t&&(Pt.$$p=null),t&&(Pt.$$p=null);var r,n,i,$,a=ee([],{});if(e===Kt)for(r=0,n=this.length;r<n;r++)i=this[r],void 0===Wt.hash_get(a,i)&&Wt.hash_put(a,i,i);else for(r=0,n=this.length;r<n;r++)i=this[r],$=Wt.yield1(e,i),void 0===Wt.hash_get(a,$)&&Wt.hash_put(a,$,i);return Yt(a.$values(),this.$class())},Pt.$$arity=0),Wt.def(Ut,"$uniq!",zt=function(){var t=zt.$$p,e=t||Kt;t&&(zt.$$p=null),t&&(zt.$$p=null);var r,n,i,$,a=this.length,s=ee([],{});for(r=0,n=a;r<n;r++)i=this[r],$=e===Kt?i:Wt.yield1(e,i),void 0!==Wt.hash_get(s,$)?(this.splice(r,1),n--,r--):Wt.hash_put(s,$,i);return this.length===a?Kt:this},zt.$$arity=0),Wt.def(Ut,"$unshift",Lt=function(t){for(var e,r=(e=Wt.slice.call(arguments,0,arguments.length)).length-1;0<=r;r--)this.unshift(e[r]);return this},Lt.$$arity=-1),Wt.alias(Ut,"prepend","unshift"),Wt.def(Ut,"$values_at",Dt=function(t){var e,a,s=Kt;return e=Wt.slice.call(arguments,0,arguments.length),s=[],re(e,"each",[],((a=function(t){var r,e=a.$$s||this,n=Kt,i=Kt,$=Kt;return null==t&&(t=Kt),te(t["$is_a?"](Zt(Ht,"Range")))?(n=Zt(Ht,"Opal").$coerce_to(t.$last(),Zt(Ht,"Integer"),"to_int"),(i=Zt(Ht,"Opal").$coerce_to(t.$first(),Zt(Ht,"Integer"),"to_int"))<0?(i+=e.length,Kt):(n<0&&(n+=e.length),t["$exclude_end?"]()&&n--,n<i?Kt:re(i,"upto",[n],((r=function(t){var e=r.$$s||this;return null==t&&(t=Kt),s["$<<"](e.$at(t))}).$$s=e,r.$$arity=1,r)))):($=Zt(Ht,"Opal").$coerce_to(t,Zt(Ht,"Integer"),"to_int"),s["$<<"](e.$at($)))}).$$s=this,a.$$arity=1,a)),s},Dt.$$arity=-1),Wt.def(Ut,"$zip",Ft=function(t){var e,r,n=Ft.$$p,i=n||Kt;n&&(Ft.$$p=null),n&&(Ft.$$p=null),e=Wt.slice.call(arguments,0,arguments.length);var $,a,s,o,l,c=[],u=this.length;for(o=0,l=e.length;o<l;o++)(a=e[o]).$$is_array||(a.$$is_enumerator?a.$size()===1/0?e[o]=a.$take(u):e[o]=a.$to_a():e[o]=(te(r=Zt(Ht,"Opal")["$coerce_to?"](a,Zt(Ht,"Array"),"to_ary"))?r:Zt(Ht,"Opal")["$coerce_to!"](a,Zt(Ht,"Enumerator"),"each")).$to_a());for(s=0;s<u;s++){for($=[this[s]],o=0,l=e.length;o<l;o++)null==(a=e[o][s])&&(a=Kt),$[o+1]=a;c[s]=$}if(i===Kt)return c;for(s=0;s<u;s++)i(c[s]);return Kt},Ft.$$arity=-1),Wt.defs(Ut,"$inherited",Bt=function(t){t.prototype.$to_a=function(){return this.slice(0,this.length)}},Bt.$$arity=1),Wt.def(Ut,"$instance_variables",qt=function(){var r,t,e=qt.$$p,n=Kt,i=Kt;for(e&&(qt.$$p=null),i=0,t=arguments.length,n=new Array(t);i<t;i++)n[i]=arguments[i];return re(re(this,Wt.find_super_dispatcher(this,"instance_variables",qt,!1),n,e),"reject",[],((r=function(t){var e;r.$$s;return null==t&&(t=Kt),te(e=/^@\d+$/.test(t))?e:t["$=="]("@length")}).$$s=this,r.$$arity=1,r))},qt.$$arity=0),Zt(Ht,"Opal").$pristine(Ut.$singleton_class(),"allocate"),Zt(Ht,"Opal").$pristine(Ut,"copy_instance_variables","initialize_dup"),Wt.def(Ut,"$pack",jt=function(t){return Wt.slice.call(arguments,0,arguments.length),this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},jt.$$arity=-1),Kt&&"pack"}(0,Array,Vt)},Opal.modules["corelib/hash"]=function(pt){function mt(t,e){return"number"==typeof t&&"number"==typeof e?e<=t:t["$>="](e)}function yt(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var t=pt.top,gt=[],bt=pt.nil,vt=(pt.const_get_qualified,pt.const_get_relative),xt=(pt.breaker,pt.slice,pt.klass),kt=pt.send,wt=pt.hash2,Et=pt.truthy;return pt.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$compare_by_identity","$lambda?","$abs","$arity","$enum_for","$size","$respond_to?","$class","$dig","$new","$inspect","$map","$to_proc","$flatten","$eql?","$default","$dup","$default_proc","$default_proc=","$-","$default=","$proc"]),t.$require("corelib/enumerable"),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k,w,E,A,O,S,R,C,T,M,I,N,P,z,L,D,F,B,q,j,U,H,Y,G,W,X,V,K,J,Z,Q,tt,et,rt,nt,it,$t,at,st,ot,lt,ct,ut,_t,dt=n=xt(gt[0],null,"Hash",n),ht=dt.prototype,ft=[dt].concat(r);return dt.$include(vt(ft,"Enumerable")),ht.$$is_hash=!0,pt.defs(dt,"$[]",i=function(t){var e,r,n,i=(e=pt.slice.call(arguments,0,arguments.length)).length;if(1===i){if((r=vt(ft,"Opal")["$coerce_to?"](e["$[]"](0),vt(ft,"Hash"),"to_hash"))!==bt)return this.$allocate()["$merge!"](r);for((e=vt(ft,"Opal")["$coerce_to?"](e["$[]"](0),vt(ft,"Array"),"to_ary"))===bt&&this.$raise(vt(ft,"ArgumentError"),"odd number of arguments for Hash"),i=e.length,r=this.$allocate(),n=0;n<i;n++)if(e[n].$$is_array)switch(e[n].length){case 1:r.$store(e[n][0],bt);break;case 2:r.$store(e[n][0],e[n][1]);break;default:this.$raise(vt(ft,"ArgumentError"),"invalid number of elements ("+e[n].length+" for 1..2)")}return r}for(i%2!=0&&this.$raise(vt(ft,"ArgumentError"),"odd number of arguments for Hash"),r=this.$allocate(),n=0;n<i;n+=2)r.$store(e[n],e[n+1]);return r},i.$$arity=-1),pt.defs(dt,"$allocate",$=function(){var t=new this;return pt.hash_init(t),t.$$none=bt,t.$$proc=bt,t},$.$$arity=0),pt.defs(dt,"$try_convert",a=function(t){return vt(ft,"Opal")["$coerce_to?"](t,vt(ft,"Hash"),"to_hash")},a.$$arity=1),pt.def(dt,"$initialize",s=function(t){var e=s.$$p,r=e||bt;return e&&(s.$$p=null),e&&(s.$$p=null),void 0!==t&&r!==bt&&this.$raise(vt(ft,"ArgumentError"),"wrong number of arguments (1 for 0)"),this.$$none=void 0===t?bt:t,this.$$proc=r,this},s.$$arity=-1),pt.def(dt,"$==",o=function(t){if(this===t)return!0;if(!t.$$is_hash)return!1;if(this.$$keys.length!==t.$$keys.length)return!1;for(var e,r,n,i=0,$=this.$$keys,a=$.length;i<a;i++)if(void 0===(n=(e=$[i]).$$is_string?(r=this.$$smap[e],t.$$smap[e]):(r=e.value,pt.hash_get(t,e.key)))||!r["$eql?"](n))return!1;return!0},o.$$arity=1),pt.def(dt,"$>=",l=function(t){var i,$=bt;return t=vt(ft,"Opal")["$coerce_to!"](t,vt(ft,"Hash"),"to_hash"),!(this.$$keys.length<t.$$keys.length)&&($=!0,kt(t,"each",[],((i=function(t,e){var r,n=i.$$s||this;null==t&&(t=bt),null==e&&(e=bt),null!=(r=n.$fetch(t,null))&&r===e||($=!1)}).$$s=this,i.$$arity=2,i)),$)},l.$$arity=1),pt.def(dt,"$>",c=function(t){return t=vt(ft,"Opal")["$coerce_to!"](t,vt(ft,"Hash"),"to_hash"),!(this.$$keys.length<=t.$$keys.length)&&mt(this,t)},c.$$arity=1),pt.def(dt,"$<",u=function(t){var e,r;return t=vt(ft,"Opal")["$coerce_to!"](t,vt(ft,"Hash"),"to_hash"),r=this,"number"==typeof(e=t)&&"number"==typeof r?r<e:e["$>"](r)},u.$$arity=1),pt.def(dt,"$<=",_=function(t){return mt(t=vt(ft,"Opal")["$coerce_to!"](t,vt(ft,"Hash"),"to_hash"),this)},_.$$arity=1),pt.def(dt,"$[]",d=function(t){var e=pt.hash_get(this,t);return void 0!==e?e:this.$default(t)},d.$$arity=1),pt.def(dt,"$[]=",h=function(t,e){return pt.hash_put(this,t,e),e},h.$$arity=2),pt.def(dt,"$assoc",f=function(t){for(var e,r=0,n=this.$$keys,i=n.length;r<i;r++)if((e=n[r]).$$is_string){if(e["$=="](t))return[e,this.$$smap[e]]}else if(e.key["$=="](t))return[e.key,e.value];return bt},f.$$arity=1),pt.def(dt,"$clear",p=function(){return pt.hash_init(this),this},p.$$arity=0),pt.def(dt,"$clone",m=function(){var t=new this.$$class;return pt.hash_init(t),pt.hash_clone(this,t),t},m.$$arity=0),pt.def(dt,"$compact",y=function(){for(var t,e,r=pt.hash(),n=0,i=this.$$keys,$=i.length;n<$;n++)(t=i[n]).$$is_string?e=this.$$smap[t]:(e=t.value,t=t.key),e!==bt&&pt.hash_put(r,t,e);return r},y.$$arity=0),pt.def(dt,"$compact!",g=function(){for(var t,e,r=!1,n=0,i=this.$$keys,$=i.length;n<$;n++)(t=i[n]).$$is_string?e=this.$$smap[t]:(e=t.value,t=t.key),e===bt&&void 0!==pt.hash_delete(this,t)&&(r=!0,$--,n--);return r?this:bt},g.$$arity=0),pt.def(dt,"$compare_by_identity",b=function(){var t,e,r,n,i=this,$=i.$$keys;if(i.$$by_identity)return i;if(0===i.$$keys.length)return i.$$by_identity=!0,i;for(n=wt([],{}).$compare_by_identity(),t=0,e=$.length;t<e;t++)(r=$[t]).$$is_string||(r=r.key),pt.hash_put(n,r,pt.hash_get(i,r));return i.$$by_identity=!0,i.$$map=n.$$map,i.$$smap=n.$$smap,i},b.$$arity=0),pt.def(dt,"$compare_by_identity?",v=function(){return!0===this.$$by_identity},v.$$arity=0),pt.def(dt,"$default",x=function(t){return void 0!==t&&this.$$proc!==bt&&void 0!==this.$$proc?this.$$proc.$call(this,t):void 0===this.$$none?bt:this.$$none},x.$$arity=-1),pt.def(dt,"$default=",k=function(t){return this.$$proc=bt,this.$$none=t},k.$$arity=1),pt.def(dt,"$default_proc",w=function(){return void 0!==this.$$proc?this.$$proc:bt},w.$$arity=0),pt.def(dt,"$default_proc=",E=function(t){var e=t;return e!==bt&&(e=vt(ft,"Opal")["$coerce_to!"](e,vt(ft,"Proc"),"to_proc"))["$lambda?"]()&&2!==e.$arity().$abs()&&this.$raise(vt(ft,"TypeError"),"default_proc takes two arguments"),this.$$none=bt,this.$$proc=e,t},E.$$arity=1),pt.def(dt,"$delete",A=function(t){var e=A.$$p,r=e||bt;e&&(A.$$p=null),e&&(A.$$p=null);var n=pt.hash_delete(this,t);return void 0!==n?n:r!==bt?pt.yield1(r,t):bt},A.$$arity=1),pt.def(dt,"$delete_if",O=function(){var t,e=O.$$p,r=e||bt;if(e&&(O.$$p=null),e&&(O.$$p=null),!Et(r))return kt(this,"enum_for",["delete_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$,a=0,s=this.$$keys,o=s.length;a<o;a++)(n=s[a]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),!1!==($=r(n,i))&&$!==bt&&void 0!==pt.hash_delete(this,n)&&(o--,a--);return this},O.$$arity=0),pt.alias(dt,"dup","clone"),pt.def(dt,"$dig",S=function(t,e){var r,n=bt;return r=pt.slice.call(arguments,1,arguments.length),(n=this["$[]"](t))===bt||0===r.length?n:(Et(n["$respond_to?"]("dig"))||this.$raise(vt(ft,"TypeError"),n.$class()+" does not have #dig method"),kt(n,"dig",pt.to_a(r)))},S.$$arity=-2),pt.def(dt,"$each",R=function(){var t,e=R.$$p,r=e||bt;if(e&&(R.$$p=null),e&&(R.$$p=null),!Et(r))return kt(this,"enum_for",["each"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$=0,a=this.$$keys,s=a.length;$<s;$++)(n=a[$]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),pt.yield1(r,[n,i]);return this},R.$$arity=0),pt.def(dt,"$each_key",C=function(){var t,e=C.$$p,r=e||bt;if(e&&(C.$$p=null),e&&(C.$$p=null),!Et(r))return kt(this,"enum_for",["each_key"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i=0,$=this.$$keys,a=$.length;i<a;i++)r((n=$[i]).$$is_string?n:n.key);return this},C.$$arity=0),pt.alias(dt,"each_pair","each"),pt.def(dt,"$each_value",T=function(){var t,e=T.$$p,r=e||bt;if(e&&(T.$$p=null),e&&(T.$$p=null),!Et(r))return kt(this,"enum_for",["each_value"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i=0,$=this.$$keys,a=$.length;i<a;i++)r((n=$[i]).$$is_string?this.$$smap[n]:n.value);return this},T.$$arity=0),pt.def(dt,"$empty?",M=function(){return 0===this.$$keys.length},M.$$arity=0),pt.alias(dt,"eql?","=="),pt.def(dt,"$fetch",I=function(t,e){var r=I.$$p,n=r||bt;r&&(I.$$p=null),r&&(I.$$p=null);var i=pt.hash_get(this,t);return void 0!==i?i:n!==bt?n(t):void 0!==e?e:this.$raise(vt(ft,"KeyError").$new("key not found: "+t.$inspect(),wt(["key","receiver"],{key:t,receiver:this})))},I.$$arity=-2),pt.def(dt,"$fetch_values",N=function(t){var e,r,n=N.$$p,i=n||bt;return n&&(N.$$p=null),n&&(N.$$p=null),e=pt.slice.call(arguments,0,arguments.length),kt(e,"map",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=bt),kt(e,"fetch",[t],i.$to_proc())}).$$s=this,r.$$arity=1,r))},N.$$arity=-1),pt.def(dt,"$flatten",P=function(t){null==t&&(t=1),t=vt(ft,"Opal")["$coerce_to!"](t,vt(ft,"Integer"),"to_int");for(var e,r,n=[],i=0,$=this.$$keys,a=$.length;i<a;i++)if((e=$[i]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),n.push(e),r.$$is_array){if(1===t){n.push(r);continue}n=n.concat(r.$flatten(t-2))}else n.push(r);return n},P.$$arity=-1),pt.def(dt,"$has_key?",z=function(t){return void 0!==pt.hash_get(this,t)},z.$$arity=1),pt.def(dt,"$has_value?",L=function(t){for(var e,r=0,n=this.$$keys,i=n.length;r<i;r++)if(((e=n[r]).$$is_string?this.$$smap[e]:e.value)["$=="](t))return!0;return!1},L.$$arity=1),pt.def(dt,"$hash",D=function(){var t,e,r=void 0===pt.hash_ids,n=this.$object_id(),i=["Hash"];try{if(r&&(pt.hash_ids=Object.create(null)),pt[n])return"self";for(t in pt.hash_ids)if(e=pt.hash_ids[t],this["$eql?"](e))return"self";pt.hash_ids[n]=this;for(var $=0,a=this.$$keys,s=a.length;$<s;$++)(t=a[$]).$$is_string?i.push([t,this.$$smap[t].$hash()]):i.push([t.key_hash,t.value.$hash()]);return i.sort().join()}finally{r&&(pt.hash_ids=void 0)}},D.$$arity=0),pt.alias(dt,"include?","has_key?"),pt.def(dt,"$index",F=function(t){for(var e,r,n=0,i=this.$$keys,$=i.length;n<$;n++)if((e=i[n]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return e;return bt},F.$$arity=1),pt.def(dt,"$indexes",B=function(t){for(var e,r,n,i=[],$=0,a=(e=pt.slice.call(arguments,0,arguments.length)).length;$<a;$++)r=e[$],void 0!==(n=pt.hash_get(this,r))?i.push(n):i.push(this.$default());return i},B.$$arity=-1),pt.alias(dt,"indices","indexes"),pt.def(dt,"$inspect",q=function(){var t=void 0===_t,e=this.$object_id(),r=[];try{if(t&&(_t={}),_t.hasOwnProperty(e))return"{...}";_t[e]=!0;for(var n,i,$=0,a=this.$$keys,s=a.length;$<s;$++)(n=a[$]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),r.push(n.$inspect()+"=>"+i.$inspect());return"{"+r.join(", ")+"}"}finally{t&&(_t=void 0)}},q.$$arity=0),pt.def(dt,"$invert",j=function(){for(var t,e,r=pt.hash(),n=0,i=this.$$keys,$=i.length;n<$;n++)(t=i[n]).$$is_string?e=this.$$smap[t]:(e=t.value,t=t.key),pt.hash_put(r,e,t);return r},j.$$arity=0),pt.def(dt,"$keep_if",U=function(){var t,e=U.$$p,r=e||bt;if(e&&(U.$$p=null),e&&(U.$$p=null),!Et(r))return kt(this,"enum_for",["keep_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$,a=0,s=this.$$keys,o=s.length;a<o;a++)(n=s[a]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),!1!==($=r(n,i))&&$!==bt||void 0!==pt.hash_delete(this,n)&&(o--,a--);return this},U.$$arity=0),pt.alias(dt,"key","index"),pt.alias(dt,"key?","has_key?"),pt.def(dt,"$keys",H=function(){for(var t,e=[],r=0,n=this.$$keys,i=n.length;r<i;r++)(t=n[r]).$$is_string?e.push(t):e.push(t.key);return e},H.$$arity=0),pt.def(dt,"$length",Y=function(){return this.$$keys.length},Y.$$arity=0),pt.alias(dt,"member?","has_key?"),pt.def(dt,"$merge",G=function(t){var e=G.$$p,r=e||bt;return e&&(G.$$p=null),e&&(G.$$p=null),kt(this.$dup(),"merge!",[t],r.$to_proc())},G.$$arity=1),pt.def(dt,"$merge!",W=function(t){var e=W.$$p,r=e||bt;e&&(W.$$p=null),e&&(W.$$p=null),t.$$is_hash||(t=vt(ft,"Opal")["$coerce_to!"](t,vt(ft,"Hash"),"to_hash"));var n,i,$,a,s=t.$$keys,o=s.length;if(r===bt){for(n=0;n<o;n++)(i=s[n]).$$is_string?a=t.$$smap[i]:(a=i.value,i=i.key),pt.hash_put(this,i,a);return this}for(n=0;n<o;n++)(i=s[n]).$$is_string?a=t.$$smap[i]:(a=i.value,i=i.key),void 0!==($=pt.hash_get(this,i))?pt.hash_put(this,i,r(i,$,a)):pt.hash_put(this,i,a);return this},W.$$arity=1),pt.def(dt,"$rassoc",X=function(t){for(var e,r,n=0,i=this.$$keys,$=i.length;n<$;n++)if((e=i[n]).$$is_string?r=this.$$smap[e]:(r=e.value,e=e.key),r["$=="](t))return[e,r];return bt},X.$$arity=1),pt.def(dt,"$rehash",V=function(){return pt.hash_rehash(this),this},V.$$arity=0),pt.def(dt,"$reject",K=function(){var t,e=K.$$p,r=e||bt;if(e&&(K.$$p=null),e&&(K.$$p=null),!Et(r))return kt(this,"enum_for",["reject"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$,a=pt.hash(),s=0,o=this.$$keys,l=o.length;s<l;s++)(n=o[s]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),!1!==($=r(n,i))&&$!==bt||pt.hash_put(a,n,i);return a},K.$$arity=0),pt.def(dt,"$reject!",J=function(){var t,e=J.$$p,r=e||bt;if(e&&(J.$$p=null),e&&(J.$$p=null),!Et(r))return kt(this,"enum_for",["reject!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$,a=!1,s=0,o=this.$$keys,l=o.length;s<l;s++)(n=o[s]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),!1!==($=r(n,i))&&$!==bt&&void 0!==pt.hash_delete(this,n)&&(a=!0,l--,s--);return a?this:bt},J.$$arity=0),pt.def(dt,"$replace",Z=function(t){var e=bt;t=vt(ft,"Opal")["$coerce_to!"](t,vt(ft,"Hash"),"to_hash"),pt.hash_init(this);for(var r,n,i=0,$=t.$$keys,a=$.length;i<a;i++)(r=$[i]).$$is_string?n=t.$$smap[r]:(n=r.value,r=r.key),pt.hash_put(this,r,n);return Et(t.$default_proc())?(e=[t.$default_proc()],kt(this,"default_proc=",pt.to_a(e))):(e=[t.$default()],kt(this,"default=",pt.to_a(e))),e[yt(e.length,1)],this},Z.$$arity=1),pt.def(dt,"$select",Q=function(){var t,e=Q.$$p,r=e||bt;if(e&&(Q.$$p=null),e&&(Q.$$p=null),!Et(r))return kt(this,"enum_for",["select"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$,a=pt.hash(),s=0,o=this.$$keys,l=o.length;s<l;s++)(n=o[s]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),!1!==($=r(n,i))&&$!==bt&&pt.hash_put(a,n,i);return a},Q.$$arity=0),pt.def(dt,"$select!",tt=function(){var t,e=tt.$$p,r=e||bt;if(e&&(tt.$$p=null),e&&(tt.$$p=null),!Et(r))return kt(this,"enum_for",["select!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$,a=bt,s=0,o=this.$$keys,l=o.length;s<l;s++)(n=o[s]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),!1!==($=r(n,i))&&$!==bt||(void 0!==pt.hash_delete(this,n)&&(l--,s--),a=this);return a},tt.$$arity=0),pt.def(dt,"$shift",et=function(){var t,e=this.$$keys;return 0<e.length?[t=(t=e[0]).$$is_string?t:t.key,pt.hash_delete(this,t)]:this.$default(bt)},et.$$arity=0),pt.alias(dt,"size","length"),pt.def(dt,"$slice",rt=function(t){var e;e=pt.slice.call(arguments,0,arguments.length);for(var r=pt.hash(),n=0,i=e.length;n<i;n++){var $=e[n],a=pt.hash_get(this,$);void 0!==a&&pt.hash_put(r,$,a)}return r},rt.$$arity=-1),pt.alias(dt,"store","[]="),pt.def(dt,"$to_a",nt=function(){for(var t,e,r=[],n=0,i=this.$$keys,$=i.length;n<$;n++)(t=i[n]).$$is_string?e=this.$$smap[t]:(e=t.value,t=t.key),r.push([t,e]);return r},nt.$$arity=0),pt.def(dt,"$to_h",it=function(){if(this.$$class===pt.Hash)return this;var t=new pt.Hash;return pt.hash_init(t),pt.hash_clone(this,t),t},it.$$arity=0),pt.def(dt,"$to_hash",$t=function(){return this},$t.$$arity=0),pt.def(dt,"$to_proc",at=function(){var r;return kt(this,"proc",[],((r=function(t){var e=r.$$s||this;return null==t&&e.$raise(vt(ft,"ArgumentError"),"no key given"),e["$[]"](t)}).$$s=this,r.$$arity=-1,r))},at.$$arity=0),pt.alias(dt,"to_s","inspect"),pt.def(dt,"$transform_keys",st=function(){var t,e=st.$$p,r=e||bt;if(e&&(st.$$p=null),e&&(st.$$p=null),!Et(r))return kt(this,"enum_for",["transform_keys"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$=pt.hash(),a=0,s=this.$$keys,o=s.length;a<o;a++)(n=s[a]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),n=pt.yield1(r,n),pt.hash_put($,n,i);return $},st.$$arity=0),pt.def(dt,"$transform_keys!",ot=function(){var t,e=ot.$$p,r=e||bt;if(e&&(ot.$$p=null),e&&(ot.$$p=null),!Et(r))return kt(this,"enum_for",["transform_keys!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));var n,i,$,a,s=pt.slice.call(this.$$keys),o=s.length;for(n=0;n<o;n++)(i=s[n]).$$is_string?$=this.$$smap[i]:($=i.value,i=i.key),a=pt.yield1(r,i),pt.hash_delete(this,i),pt.hash_put(this,a,$);return this},ot.$$arity=0),pt.def(dt,"$transform_values",lt=function(){var t,e=lt.$$p,r=e||bt;if(e&&(lt.$$p=null),e&&(lt.$$p=null),!Et(r))return kt(this,"enum_for",["transform_values"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$=pt.hash(),a=0,s=this.$$keys,o=s.length;a<o;a++)(n=s[a]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),i=pt.yield1(r,i),pt.hash_put($,n,i);return $},lt.$$arity=0),pt.def(dt,"$transform_values!",ct=function(){var t,e=ct.$$p,r=e||bt;if(e&&(ct.$$p=null),e&&(ct.$$p=null),!Et(r))return kt(this,"enum_for",["transform_values!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var n,i,$=0,a=this.$$keys,s=a.length;$<s;$++)(n=a[$]).$$is_string?i=this.$$smap[n]:(i=n.value,n=n.key),i=pt.yield1(r,i),pt.hash_put(this,n,i);return this},ct.$$arity=0),pt.alias(dt,"update","merge!"),pt.alias(dt,"value?","has_value?"),pt.alias(dt,"values_at","indexes"),pt.def(dt,"$values",ut=function(){for(var t,e=[],r=0,n=this.$$keys,i=n.length;r<i;r++)(t=n[r]).$$is_string?e.push(this.$$smap[t]):e.push(t.value);return e},ut.$$arity=0),bt&&"values"}(0,0,gt)},Opal.modules["corelib/number"]=function(wt){function Et(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function At(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function Ot(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function St(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function Rt(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function Ct(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var t=wt.top,e=[],Tt=wt.nil,Mt=wt.const_get_qualified,It=wt.const_get_relative,Nt=(wt.breaker,wt.slice,wt.klass),Pt=wt.truthy,zt=wt.send,Lt=wt.hash2;return wt.add_stubs(["$require","$bridge","$raise","$name","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$%","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$truncate","$-@","$size","$<=","$>=","$<=>","$compare","$any?"]),t.$require("corelib/numeric"),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k,w,E,A,O,S,R,C,T,M,I,N,P,z,L,D,F,B,q,j,U,H,Y,G,W,X,V,K,J,Z,Q,tt,et,rt,nt,it,$t,at,st,ot,lt,ct,ut,_t,dt,ht,ft,pt,mt,yt,gt,bt,vt,xt=n=Nt(t,e,"Number",n),kt=(xt.prototype,[xt].concat(r));It(kt,"Opal").$bridge(Number,xt),wt.defineProperty(Number.prototype,"$$is_number",!0),xt.$$is_number_class=!0,function(t,e){t.prototype;var r,n=[t].concat(e);wt.def(t,"$allocate",r=function(){return this.$raise(It(n,"TypeError"),"allocator undefined for "+this.$name())},r.$$arity=0),wt.udef(t,"$new")}(wt.get_singleton_class(xt),kt),wt.def(xt,"$coerce",i=function(t){if(t===Tt)this.$raise(It(kt,"TypeError"),"can't convert "+t.$class()+" into Float");else{if(t.$$is_string)return[this.$Float(t),this];if(t["$respond_to?"]("to_f"))return[It(kt,"Opal")["$coerce_to!"](t,It(kt,"Float"),"to_f"),this];if(t.$$is_number)return[t,this];this.$raise(It(kt,"TypeError"),"can't convert "+t.$class()+" into Float")}},i.$$arity=1),wt.def(xt,"$__id__",$=function(){return 2*this+1},$.$$arity=0),wt.alias(xt,"object_id","__id__"),wt.def(xt,"$+",a=function(t){return t.$$is_number?this+t:this.$__coerced__("+",t)},a.$$arity=1),wt.def(xt,"$-",s=function(t){return t.$$is_number?this-t:this.$__coerced__("-",t)},s.$$arity=1),wt.def(xt,"$*",o=function(t){return t.$$is_number?this*t:this.$__coerced__("*",t)},o.$$arity=1),wt.def(xt,"$/",l=function(t){return t.$$is_number?this/t:this.$__coerced__("/",t)},l.$$arity=1),wt.alias(xt,"fdiv","/"),wt.def(xt,"$%",c=function(t){return t.$$is_number?t==-1/0?t:0!=t?t<0||this<0?(this%t+t)%t:this%t:void this.$raise(It(kt,"ZeroDivisionError"),"divided by 0"):this.$__coerced__("%",t)},c.$$arity=1),wt.def(xt,"$&",u=function(t){return t.$$is_number?this&t:this.$__coerced__("&",t)},u.$$arity=1),wt.def(xt,"$|",_=function(t){return t.$$is_number?this|t:this.$__coerced__("|",t)},_.$$arity=1),wt.def(xt,"$^",d=function(t){return t.$$is_number?this^t:this.$__coerced__("^",t)},d.$$arity=1),wt.def(xt,"$<",h=function(t){return t.$$is_number?this<t:this.$__coerced__("<",t)},h.$$arity=1),wt.def(xt,"$<=",f=function(t){return t.$$is_number?this<=t:this.$__coerced__("<=",t)},f.$$arity=1),wt.def(xt,"$>",p=function(t){return t.$$is_number?t<this:this.$__coerced__(">",t)},p.$$arity=1),wt.def(xt,"$>=",m=function(t){return t.$$is_number?t<=this:this.$__coerced__(">=",t)},m.$$arity=1);wt.def(xt,"$<=>",y=function(t){var e,r;try{return e=this,(r=t).$$is_number?isNaN(e)||isNaN(r)?Tt:r<e?1:e<r?-1:0:e.$__coerced__("<=>",r)}catch(t){if(!wt.rescue(t,[It(kt,"ArgumentError")]))throw t;try{return Tt}finally{wt.pop_exception()}}},y.$$arity=1),wt.def(xt,"$<<",g=function(t){return 0<(t=It(kt,"Opal")["$coerce_to!"](t,It(kt,"Integer"),"to_int"))?this<<t:this>>-t},g.$$arity=1),wt.def(xt,"$>>",b=function(t){return 0<(t=It(kt,"Opal")["$coerce_to!"](t,It(kt,"Integer"),"to_int"))?this>>t:this<<-t},b.$$arity=1),wt.def(xt,"$[]",v=function(t){return(t=It(kt,"Opal")["$coerce_to!"](t,It(kt,"Integer"),"to_int"))<0?0:32<=t?this<0?1:0:this>>t&1},v.$$arity=1),wt.def(xt,"$+@",x=function(){return+this},x.$$arity=0),wt.def(xt,"$-@",k=function(){return-this},k.$$arity=0),wt.def(xt,"$~",w=function(){return~this},w.$$arity=0),wt.def(xt,"$**",E=function(t){var e,r;return Pt(It(kt,"Integer")["$==="](t))?Pt(Pt(e=It(kt,"Integer")["$==="](this)["$!"]())?e:Et(t,0))?Math.pow(this,t):It(kt,"Rational").$new(this,1)["$**"](t):Pt((e=At(this,0))?Pt(r=It(kt,"Float")["$==="](t))?r:It(kt,"Rational")["$==="](t):At(this,0))?It(kt,"Complex").$new(this,0)["$**"](t.$to_f()):Pt(null!=t.$$is_number)?Math.pow(this,t):this.$__coerced__("**",t)},E.$$arity=1),wt.def(xt,"$===",A=function(t){return t.$$is_number?this.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](this)},A.$$arity=1),wt.def(xt,"$==",O=function(t){return t.$$is_number?this.valueOf()===t.valueOf():!!t["$respond_to?"]("==")&&t["$=="](this)},O.$$arity=1),wt.def(xt,"$abs",S=function(){return Math.abs(this)},S.$$arity=0),wt.def(xt,"$abs2",R=function(){return Math.abs(this*this)},R.$$arity=0),wt.def(xt,"$allbits?",C=function(t){return(this&(t=It(kt,"Opal")["$coerce_to!"](t,It(kt,"Integer"),"to_int")))==t},C.$$arity=1),wt.def(xt,"$anybits?",T=function(t){return 0!=(this&(t=It(kt,"Opal")["$coerce_to!"](t,It(kt,"Integer"),"to_int")))},T.$$arity=1),wt.def(xt,"$angle",M=function(){return Pt(this["$nan?"]())?this:0==this?0<1/this?0:Math.PI:this<0?Math.PI:0},M.$$arity=0),wt.alias(xt,"arg","angle"),wt.alias(xt,"phase","angle"),wt.def(xt,"$bit_length",I=function(){if(Pt(It(kt,"Integer")["$==="](this))||this.$raise(It(kt,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length")),0===this||-1===this)return 0;for(var t=0,e=this<0?~this:this;0!=e;)t+=1,e>>>=1;return t},I.$$arity=0),wt.def(xt,"$ceil",N=function(t){null==t&&(t=0);var e=this.$to_f();if(e%1==0&&0<=t)return e;var r=Math.pow(10,t),n=Math.ceil(e*r)/r;return e%1==0&&(n=Math.round(n)),n},N.$$arity=-1),wt.def(xt,"$chr",P=function(t){return String.fromCharCode(this)},P.$$arity=-1),wt.def(xt,"$denominator",z=function(){var t,e,r=z.$$p,n=Tt,i=Tt;for(r&&(z.$$p=null),i=0,e=arguments.length,n=new Array(e);i<e;i++)n[i]=arguments[i];return Pt(Pt(t=this["$nan?"]())?t:this["$infinite?"]())?1:zt(this,wt.find_super_dispatcher(this,"denominator",z,!1),n,r)},z.$$arity=0),wt.def(xt,"$downto",L=function(e){var r,t=L.$$p,n=t||Tt;if(t&&(L.$$p=null),t&&(L.$$p=null),n===Tt)return zt(this,"enum_for",["downto",e],((r=function(){var t=r.$$s||this;return Pt(It(kt,"Numeric")["$==="](e))||t.$raise(It(kt,"ArgumentError"),"comparison of "+t.$class()+" with "+e.$class()+" failed"),Pt(Et(e,t))?0:Ot(St(t,e),1)}).$$s=this,r.$$arity=0,r));e.$$is_number||this.$raise(It(kt,"ArgumentError"),"comparison of "+this.$class()+" with "+e.$class()+" failed");for(var i=this;e<=i;i--)n(i);return this},L.$$arity=1),wt.alias(xt,"eql?","=="),wt.def(xt,"$equal?",D=function(t){var e;return Pt(e=this["$=="](t))?e:isNaN(this)&&isNaN(t)},D.$$arity=1),wt.def(xt,"$even?",F=function(){return this%2==0},F.$$arity=0),wt.def(xt,"$floor",B=function(t){null==t&&(t=0);var e=this.$to_f();if(e%1==0&&0<=t)return e;var r=Math.pow(10,t),n=Math.floor(e*r)/r;return e%1==0&&(n=Math.round(n)),n},B.$$arity=-1),wt.def(xt,"$gcd",q=function(t){Pt(It(kt,"Integer")["$==="](t))||this.$raise(It(kt,"TypeError"),"not an integer");for(var e=Math.abs(this),r=Math.abs(t);0<e;){var n=e;e=r%e,r=n}return r},q.$$arity=1),wt.def(xt,"$gcdlcm",j=function(t){return[this.$gcd(),this.$lcm()]},j.$$arity=1),wt.def(xt,"$integer?",U=function(){return this%1==0},U.$$arity=0),wt.def(xt,"$is_a?",H=function(t){var e,r=H.$$p,n=Tt,i=Tt;for(r&&(H.$$p=null),i=0,e=arguments.length,n=new Array(e);i<e;i++)n[i]=arguments[i];return!!Pt(t["$=="](It(kt,"Integer"))?It(kt,"Integer")["$==="](this):t["$=="](It(kt,"Integer")))||(!!Pt(t["$=="](It(kt,"Integer"))?It(kt,"Integer")["$==="](this):t["$=="](It(kt,"Integer")))||(!!Pt(t["$=="](It(kt,"Float"))?It(kt,"Float")["$==="](this):t["$=="](It(kt,"Float")))||zt(this,wt.find_super_dispatcher(this,"is_a?",H,!1),n,r)))},H.$$arity=1),wt.alias(xt,"kind_of?","is_a?"),wt.def(xt,"$instance_of?",Y=function(t){var e,r=Y.$$p,n=Tt,i=Tt;for(r&&(Y.$$p=null),i=0,e=arguments.length,n=new Array(e);i<e;i++)n[i]=arguments[i];return!!Pt(t["$=="](It(kt,"Integer"))?It(kt,"Integer")["$==="](this):t["$=="](It(kt,"Integer")))||(!!Pt(t["$=="](It(kt,"Integer"))?It(kt,"Integer")["$==="](this):t["$=="](It(kt,"Integer")))||(!!Pt(t["$=="](It(kt,"Float"))?It(kt,"Float")["$==="](this):t["$=="](It(kt,"Float")))||zt(this,wt.find_super_dispatcher(this,"instance_of?",Y,!1),n,r)))},Y.$$arity=1),wt.def(xt,"$lcm",G=function(t){return Pt(It(kt,"Integer")["$==="](t))||this.$raise(It(kt,"TypeError"),"not an integer"),0==this||0==t?0:Math.abs(this*t/this.$gcd(t))},G.$$arity=1),wt.alias(xt,"magnitude","abs"),wt.alias(xt,"modulo","%"),wt.def(xt,"$next",W=function(){return this+1},W.$$arity=0),wt.def(xt,"$nobits?",X=function(t){return 0==(this&(t=It(kt,"Opal")["$coerce_to!"](t,It(kt,"Integer"),"to_int")))},X.$$arity=1),wt.def(xt,"$nonzero?",V=function(){return 0==this?Tt:this},V.$$arity=0),wt.def(xt,"$numerator",K=function(){var t,e,r=K.$$p,n=Tt,i=Tt;for(r&&(K.$$p=null),i=0,e=arguments.length,n=new Array(e);i<e;i++)n[i]=arguments[i];return Pt(Pt(t=this["$nan?"]())?t:this["$infinite?"]())?this:zt(this,wt.find_super_dispatcher(this,"numerator",K,!1),n,r)},K.$$arity=0),wt.def(xt,"$odd?",J=function(){return this%2!=0},J.$$arity=0),wt.def(xt,"$ord",Z=function(){return this},Z.$$arity=0),wt.def(xt,"$pow",Q=function(t,e){return 0==this&&this.$raise(It(kt,"ZeroDivisionError"),"divided by 0"),void 0===e?this["$**"](t):(It(kt,"Integer")["$==="](t)||this.$raise(It(kt,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),t<0&&this.$raise(It(kt,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),It(kt,"Integer")["$==="](e)||this.$raise(It(kt,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),0===e&&this.$raise(It(kt,"ZeroDivisionError"),"divided by 0"),this["$**"](t)["$%"](e))},Q.$$arity=-2),wt.def(xt,"$pred",tt=function(){return this-1},tt.$$arity=0),wt.def(xt,"$quo",et=function(t){var e,r=et.$$p,n=Tt,i=Tt;for(r&&(et.$$p=null),i=0,e=arguments.length,n=new Array(e);i<e;i++)n[i]=arguments[i];return Pt(It(kt,"Integer")["$==="](this))?zt(this,wt.find_super_dispatcher(this,"quo",et,!1),n,r):Rt(this,t)},et.$$arity=1),wt.def(xt,"$rationalize",rt=function(t){var e,r,n=Tt,i=Tt;return 1<arguments.length&&this.$raise(It(kt,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),Pt(It(kt,"Integer")["$==="](this))?It(kt,"Rational").$new(this,1):Pt(this["$infinite?"]())?this.$raise(It(kt,"FloatDomainError"),"Infinity"):Pt(this["$nan?"]())?this.$raise(It(kt,"FloatDomainError"),"NaN"):Pt(null==t)?(r=It(kt,"Math").$frexp(this),n=null==(e=wt.to_ary(r))[0]?Tt:e[0],i=null==e[1]?Tt:e[1],n=It(kt,"Math").$ldexp(n,Mt(It(kt,"Float"),"MANT_DIG")).$to_i(),i=St(i,Mt(It(kt,"Float"),"MANT_DIG")),It(kt,"Rational").$new(Ct(2,n),1["$<<"](St(1,i))).$rationalize(It(kt,"Rational").$new(1,1["$<<"](St(1,i))))):this.$to_r().$rationalize(t)},rt.$$arity=-1),wt.def(xt,"$remainder",nt=function(t){return St(this,Ct(t,Rt(this,t).$truncate()))},nt.$$arity=1),wt.def(xt,"$round",it=function(t){var e,r,n,i,$,a,s=this,o=Tt;if(Pt(It(kt,"Integer")["$==="](s))){if(Pt(null==t))return s;if(Pt(Pt(e=It(kt,"Float")["$==="](t))?t["$infinite?"]():e)&&s.$raise(It(kt,"RangeError"),"Infinity"),t=It(kt,"Opal")["$coerce_to!"](t,It(kt,"Integer"),"to_int"),Pt(At(t,Mt(It(kt,"Integer"),"MIN")))&&s.$raise(It(kt,"RangeError"),"out of bounds"),Pt(0<=t))return s;if(.415241*(t=t["$-@"]())-.125>s.$size())return 0;var l=Math.pow(10,t),c=Math.floor((Math.abs(c)+l/2)/l)*l;return s<0?-c:c}if(Pt(Pt(e=s["$nan?"]())?null==t:e)&&s.$raise(It(kt,"FloatDomainError"),"NaN"),t=It(kt,"Opal")["$coerce_to!"](t||0,It(kt,"Integer"),"to_int"),Pt((a=0,"number"==typeof($=t)&&"number"==typeof a?$<=a:$["$<="](a))))Pt(s["$nan?"]())?s.$raise(It(kt,"RangeError"),"NaN"):Pt(s["$infinite?"]())&&s.$raise(It(kt,"FloatDomainError"),"Infinity");else{if(t["$=="](0))return Math.round(s);if(Pt(Pt(e=s["$nan?"]())?e:s["$infinite?"]()))return s}return r=It(kt,"Math").$frexp(s),null==(e=wt.to_ary(r))[0]?Tt:e[0],o=null==e[1]?Tt:e[1],Pt((n=t,i=St(Ot(Mt(It(kt,"Float"),"DIG"),2),Pt(Et(o,0))?Rt(o,4):St(Rt(o,3),1)),"number"==typeof n&&"number"==typeof i?i<=n:n["$>="](i)))?s:Pt(At(t,(Pt(Et(o,0))?Ot(Rt(o,3),1):Rt(o,4))["$-@"]()))?0:Math.round(s*Math.pow(10,t))/Math.pow(10,t)},it.$$arity=-1),wt.def(xt,"$step",$t=function(t,e,r){var n,i,$,a,s,o,l,c=$t.$$p,u=c||Tt,_=this,d=Tt,h=Tt;if(c&&($t.$$p=null),c&&($t.$$p=null),n=wt.slice.call(arguments,0,arguments.length),null==(i=wt.extract_kwargs(n)))i=Lt([],{});else if(!i.$$is_hash)throw wt.ArgumentError.$new("expected kwargs");function f(){void 0!==s&&($=s),void 0===$&&($=Tt),a===Tt&&_.$raise(It(kt,"TypeError"),"step must be numeric"),0===a&&_.$raise(It(kt,"ArgumentError"),"step can't be 0"),void 0!==o&&(a=o),a!==Tt&&null!=a||(a=1);var t=a["$<=>"](0);t===Tt&&_.$raise(It(kt,"ArgumentError"),"0 can't be coerced into "+a.$class()),$!==Tt&&null!=$||($=0<t?Mt(It(kt,"Float"),"INFINITY"):Mt(It(kt,"Float"),"INFINITY")["$-@"]()),It(kt,"Opal").$compare(_,$)}function p(){if(0<a&&$<_||a<0&&_<$)return 0;if(a===1/0||a===-1/0)return 1;var t=Math.abs,e=Math.floor,r=(t(_)+t($)+t($-_))/t(a)*Mt(It(kt,"Float"),"EPSILON");return r===1/0||r===-1/0?0:(.5<r&&(r=.5),e(($-_)/a+r)+1)}if(0<n.length&&($=n[0],n.splice(0,1)),0<n.length&&(a=n[0],n.splice(0,1)),s=i.$$smap.to,o=i.$$smap.by,void 0!==$&&void 0!==s&&_.$raise(It(kt,"ArgumentError"),"to is given twice"),void 0!==a&&void 0!==o&&_.$raise(It(kt,"ArgumentError"),"step is given twice"),u===Tt)return d=[],h=Lt([],{}),void 0!==$&&d.push($),void 0!==a&&d.push(a),void 0!==s&&wt.hash_put(h,"to",s),void 0!==o&&wt.hash_put(h,"by",o),h["$any?"]()&&d.push(h),zt(_,"enum_for",["step"].concat(wt.to_a(d)),((l=function(){l.$$s;return function(){if(f(),0===a)return 1/0;if(a%1!=0)return p();if(0<a&&$<_||a<0&&_<$)return 0;var t=Math.ceil,e=Math.abs;return t((e(_-$)+1)/e(a))}()}).$$s=_,l.$$arity=0,l));if(f(),0===a)for(;;)u(_);if(_%1!=0||$%1!=0||a%1!=0){var m=p();if(0<m)if(a===1/0||a===-1/0)u(_);else{var y,g=0;if(0<a)for(;g<m;)$<(y=g*a+_)&&(y=$),u(y),g+=1;else for(;g<m;)(y=g*a+_)<$&&(y=$),u(y),g+=1}}else{var b=_;if(0<a)for(;b<=$;)u(b),b+=a;else for(;$<=b;)u(b),b+=a}return _},$t.$$arity=-1),wt.alias(xt,"succ","next"),wt.def(xt,"$times",at=function(){var t,e=at.$$p,r=e||Tt;if(e&&(at.$$p=null),e&&(at.$$p=null),!Pt(r))return zt(this,"enum_for",["times"],((t=function(){return t.$$s||this}).$$s=this,t.$$arity=0,t));for(var n=0;n<this;n++)r(n);return this},at.$$arity=0),wt.def(xt,"$to_f",st=function(){return this},st.$$arity=0),wt.def(xt,"$to_i",ot=function(){return parseInt(this,10)},ot.$$arity=0),wt.alias(xt,"to_int","to_i"),wt.def(xt,"$to_r",lt=function(){var t,e,r=Tt,n=Tt;return Pt(It(kt,"Integer")["$==="](this))?It(kt,"Rational").$new(this,1):(e=It(kt,"Math").$frexp(this),r=null==(t=wt.to_ary(e))[0]?Tt:t[0],n=null==t[1]?Tt:t[1],r=It(kt,"Math").$ldexp(r,Mt(It(kt,"Float"),"MANT_DIG")).$to_i(),n=St(n,Mt(It(kt,"Float"),"MANT_DIG")),Ct(r,Mt(It(kt,"Float"),"RADIX")["$**"](n)).$to_r())},lt.$$arity=0),wt.def(xt,"$to_s",ct=function(t){var e;return null==t&&(t=10),t=It(kt,"Opal")["$coerce_to!"](t,It(kt,"Integer"),"to_int"),Pt(Pt(e=At(t,2))?e:Et(t,36))&&this.$raise(It(kt,"ArgumentError"),"invalid radix "+t),this.toString(t)},ct.$$arity=-1),wt.def(xt,"$truncate",ut=function(t){null==t&&(t=0);var e=this.$to_f();if(e%1==0&&0<=t)return e;var r=Math.pow(10,t),n=parseInt(e*r,10)/r;return e%1==0&&(n=Math.round(n)),n},ut.$$arity=-1),wt.alias(xt,"inspect","to_s"),wt.def(xt,"$digits",_t=function(t){null==t&&(t=10),At(this,0)&&this.$raise(Mt(It(kt,"Math"),"DomainError"),"out of domain"),t=It(kt,"Opal")["$coerce_to!"](t,It(kt,"Integer"),"to_int"),Pt(At(t,2))&&this.$raise(It(kt,"ArgumentError"),"invalid radix "+t);for(var e=this,r=[];0!==e;)r.push(e%t),e=parseInt(e/t,10);return r},_t.$$arity=-1),wt.def(xt,"$divmod",dt=function(t){var e,r,n=dt.$$p,i=Tt,$=Tt;for(n&&(dt.$$p=null),$=0,r=arguments.length,i=new Array(r);$<r;$++)i[$]=arguments[$];return Pt(Pt(e=this["$nan?"]())?e:t["$nan?"]())?this.$raise(It(kt,"FloatDomainError"),"NaN"):Pt(this["$infinite?"]())?this.$raise(It(kt,"FloatDomainError"),"Infinity"):zt(this,wt.find_super_dispatcher(this,"divmod",dt,!1),i,n)},dt.$$arity=1),wt.def(xt,"$upto",ht=function(e){var r,t=ht.$$p,n=t||Tt;if(t&&(ht.$$p=null),t&&(ht.$$p=null),n===Tt)return zt(this,"enum_for",["upto",e],((r=function(){var t=r.$$s||this;return Pt(It(kt,"Numeric")["$==="](e))||t.$raise(It(kt,"ArgumentError"),"comparison of "+t.$class()+" with "+e.$class()+" failed"),Pt(At(e,t))?0:Ot(St(e,t),1)}).$$s=this,r.$$arity=0,r));e.$$is_number||this.$raise(It(kt,"ArgumentError"),"comparison of "+this.$class()+" with "+e.$class()+" failed");for(var i=this;i<=e;i++)n(i);return this},ht.$$arity=1),wt.def(xt,"$zero?",ft=function(){return 0==this},ft.$$arity=0),wt.def(xt,"$size",pt=function(){return 4},pt.$$arity=0),wt.def(xt,"$nan?",mt=function(){return isNaN(this)},mt.$$arity=0),wt.def(xt,"$finite?",yt=function(){return this!=1/0&&this!=-1/0&&!isNaN(this)},yt.$$arity=0),wt.def(xt,"$infinite?",gt=function(){return this==1/0?1:this==-1/0?-1:Tt},gt.$$arity=0),wt.def(xt,"$positive?",bt=function(){return 0!=this&&(this==1/0||0<1/this)},bt.$$arity=0),wt.def(xt,"$negative?",vt=function(){return this==-1/0||1/this<0},vt.$$arity=0)}(e[0],It(e,"Numeric"),e),wt.const_set(e[0],"Fixnum",It(e,"Number")),function(t,e,r){function n(){}var i=n=Nt(t,e,"Integer",n),$=(i.prototype,[i].concat(r));i.$$is_number_class=!0,function(t,e){t.prototype;var r,n,i,$=[t].concat(e);wt.def(t,"$allocate",r=function(){return this.$raise(It($,"TypeError"),"allocator undefined for "+this.$name())},r.$$arity=0),wt.udef(t,"$new"),wt.def(t,"$===",n=function(t){return!!t.$$is_number&&t%1==0},n.$$arity=1),wt.def(t,"$sqrt",i=function(t){return(t=It($,"Opal")["$coerce_to!"](t,It($,"Integer"),"to_int"))<0&&this.$raise(Mt(It($,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(t),10)},i.$$arity=1)}(wt.get_singleton_class(i),$),wt.const_set($[0],"MAX",Math.pow(2,30)-1),wt.const_set($[0],"MIN",-Math.pow(2,30))}(e[0],It(e,"Numeric"),e),function(t,e,r){function n(){}var i=n=Nt(t,e,"Float",n),$=(i.prototype,[i].concat(r));return i.$$is_number_class=!0,function(t,e){t.prototype;var r,n,i=[t].concat(e);wt.def(t,"$allocate",r=function(){return this.$raise(It(i,"TypeError"),"allocator undefined for "+this.$name())},r.$$arity=0),wt.udef(t,"$new"),wt.def(t,"$===",n=function(t){return!!t.$$is_number},n.$$arity=1)}(wt.get_singleton_class(i),$),wt.const_set($[0],"INFINITY",1/0),wt.const_set($[0],"MAX",Number.MAX_VALUE),wt.const_set($[0],"MIN",Number.MIN_VALUE),wt.const_set($[0],"NAN",NaN),wt.const_set($[0],"DIG",15),wt.const_set($[0],"MANT_DIG",53),wt.const_set($[0],"RADIX",2),wt.const_set($[0],"EPSILON",Number.EPSILON||2220446049250313e-31)}(e[0],It(e,"Numeric"),e)},Opal.modules["corelib/range"]=function(E){function A(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function O(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function S(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function R(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var t=E.top,C=[],T=E.nil,M=E.const_get_qualified,I=E.const_get_relative,N=(E.breaker,E.slice,E.klass),P=E.truthy,z=E.send;return E.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$include?","$<=","$<","$enum_for","$upto","$to_proc","$respond_to?","$class","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-","$abs","$to_i","$coerce_to!","$ceil","$/","$size","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),t.$require("corelib/enumerable"),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x=n=N(C[0],null,"Range",n),k=x.prototype,w=[x].concat(r);return k.begin=k.end=k.excl=T,x.$include(I(w,"Enumerable")),k.$$is_range=!0,x.$attr_reader("begin","end"),E.def(x,"$initialize",i=function(t,e,r){return null==r&&(r=!1),P(this.begin)&&this.$raise(I(w,"NameError"),"'initialize' called twice"),P(t["$<=>"](e))||this.$raise(I(w,"ArgumentError"),"bad value for range"),this.begin=t,this.end=e,this.excl=r},i.$$arity=-3),E.def(x,"$==",$=function(t){return!!t.$$is_range&&(this.excl===t.excl&&this.begin==t.begin&&this.end==t.end)},$.$$arity=1),E.def(x,"$===",a=function(t){return this["$include?"](t)},a.$$arity=1),E.def(x,"$cover?",s=function(t){var e,r,n;return r=this.begin["$<=>"](t),!!P(P(e=r)?A(r,0):e)&&(n=t["$<=>"](this.end),P(this.excl)?P(e=n)?O(n,0):e:P(e=n)?A(n,0):e)},s.$$arity=1),E.def(x,"$each",o=function(){var t,e,r,n,i=o.$$p,$=i||T,a=this,s=T;if(i&&(o.$$p=null),i&&(o.$$p=null),$===T)return a.$enum_for("each");if(a.begin.$$is_number&&a.end.$$is_number){for(a.begin%1==0&&a.end%1==0||a.$raise(I(w,"TypeError"),"can't iterate from Float"),r=a.begin,n=a.end+(P(a.excl)?0:1);r<n;r++)$(r);return a}if(a.begin.$$is_string&&a.end.$$is_string)return z(a.begin,"upto",[a.end,a.excl],$.$to_proc()),a;for(s=a.begin,e=a.end,P(s["$respond_to?"]("succ"))||a.$raise(I(w,"TypeError"),"can't iterate from "+s.$class());P(O(s["$<=>"](e),0));)E.yield1($,s),s=s.$succ();return P(P(t=a.excl["$!"]())?s["$=="](e):t)&&E.yield1($,s),a},o.$$arity=0),E.def(x,"$eql?",l=function(t){var e,r;return!!P(I(w,"Range")["$==="](t))&&(P(e=P(r=this.excl["$==="](t["$exclude_end?"]()))?this.begin["$eql?"](t.$begin()):r)?this.end["$eql?"](t.$end()):e)},l.$$arity=1),E.def(x,"$exclude_end?",c=function(){return this.excl},c.$$arity=0),E.def(x,"$first",u=function(t){var e,r=u.$$p,n=T,i=T;for(r&&(u.$$p=null),i=0,e=arguments.length,n=new Array(e);i<e;i++)n[i]=arguments[i];return P(null==t)?this.begin:z(this,E.find_super_dispatcher(this,"first",u,!1),n,r)},u.$$arity=-1),E.alias(x,"include?","cover?"),E.def(x,"$last",_=function(t){return P(null==t)?this.end:this.$to_a().$last(t)},_.$$arity=-1),E.def(x,"$max",d=function(){var t,e,r=d.$$p,n=r||T,i=this,$=T,a=T;for(r&&(d.$$p=null),a=0,e=arguments.length,$=new Array(e);a<e;a++)$[a]=arguments[a];return n!==T?z(i,E.find_super_dispatcher(i,"max",d,!1),$,r):P(S(i.begin,i.end))?T:P(P(t=i.excl)?i.begin["$=="](i.end):t)?T:i.excl?i.end-1:i.end},d.$$arity=0),E.alias(x,"member?","cover?"),E.def(x,"$min",h=function(){var t,e,r=h.$$p,n=r||T,i=T,$=T;for(r&&(h.$$p=null),$=0,e=arguments.length,i=new Array(e);$<e;$++)i[$]=arguments[$];return n!==T?z(this,E.find_super_dispatcher(this,"min",h,!1),i,r):P(S(this.begin,this.end))?T:P(P(t=this.excl)?this.begin["$=="](this.end):t)?T:this.begin},h.$$arity=0),E.def(x,"$size",f=function(){var t,e,r,n,i=T,$=T;return i=this.begin,$=this.end,P(this.excl)&&(n=1,$="number"==typeof(r=$)&&"number"==typeof n?r-n:r["$-"](n)),P(P(t=I(w,"Numeric")["$==="](i))?I(w,"Numeric")["$==="]($):t)?P(O($,i))?0:(e=M(I(w,"Float"),"INFINITY"),P([i.$abs(),$.$abs()]["$include?"](e))?e:(Math.abs($-i)+1).$to_i()):T},f.$$arity=0),E.def(x,"$step",p=function(o){var t,s,r,e=p.$$p,l=e||T,c=this,u=T;function n(){o.$$is_number||(o=I(w,"Opal")["$coerce_to!"](o,I(w,"Integer"),"to_int")),o<0?c.$raise(I(w,"ArgumentError"),"step can't be negative"):0===o&&c.$raise(I(w,"ArgumentError"),"step can't be 0")}return e&&(p.$$p=null),null==o&&(o=1),l===T?z(c,"enum_for",["step",o],((t=function(){t.$$s;return n(),function(){if(!c.begin["$respond_to?"]("succ"))return T;if(c.begin.$$is_string&&c.end.$$is_string)return T;if(o%1==0)return(e=c.$size(),r=o,"number"==typeof e&&"number"==typeof r?e/r:e["$/"](r)).$ceil();var t,e,r,n=c.begin,i=c.end,$=Math.abs,a=Math.floor,s=($(n)+$(i)+$(i-n))/$(o)*M(I(w,"Float"),"EPSILON");return.5<s&&(s=.5),c.excl?(t=a((i-n)/o-s))*o+n<i&&t++:t=a((i-n)/o+s)+1,t}()}).$$s=c,t.$$arity=0,t)):(n(),P(c.begin.$$is_number&&c.end.$$is_number)?(u=0,function(){var a=E.new_brk();try{z(c,"loop",[],((s=function(){var t,e,r,n,i,$=s.$$s||this;return null==$.begin&&($.begin=T),null==$.excl&&($.excl=T),null==$.end&&($.end=T),t=R($.begin,(r=o,"number"==typeof(e=u)&&"number"==typeof r?e*r:e["$*"](r))),P($.excl)?P((n=t,i=$.end,"number"==typeof n&&"number"==typeof i?i<=n:n["$>="](i)))&&E.brk(T,a):P(S(t,$.end))&&E.brk(T,a),E.yield1(l,t),u=R(u,1)}).$$s=c,s.$$brk=a,s.$$arity=0,s))}catch(t){if(t===a)return t.$v;throw t}}()):(c.begin.$$is_string&&c.end.$$is_string&&o%1!=0&&c.$raise(I(w,"TypeError"),"no implicit conversion to float from string"),z(c,"each_with_index",[],((r=function(t,e){r.$$s;return null==t&&(t=T),null==e&&(e=T),e["$%"](o)["$=="](0)?E.yield1(l,t):T}).$$s=c,r.$$arity=2,r))),c)},p.$$arity=-1),E.def(x,"$bsearch",m=function(){var t=m.$$p,e=t||T;return t&&(m.$$p=null),t&&(m.$$p=null),e===T?this.$enum_for("bsearch"):(P(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(I(w,"TypeError"),"can't do binary search for "+this.begin.$class()),z(this.$to_a(),"bsearch",[],e.$to_proc()))},m.$$arity=0),E.def(x,"$to_s",y=function(){var t=this;return t.begin+(P(t.excl)?"...":"..")+t.end},y.$$arity=0),E.def(x,"$inspect",g=function(){var t=this;return t.begin.$inspect()+(P(t.excl)?"...":"..")+t.end.$inspect()},g.$$arity=0),E.def(x,"$marshal_load",b=function(t){return this.begin=t["$[]"]("begin"),this.end=t["$[]"]("end"),this.excl=t["$[]"]("excl")},b.$$arity=1),E.def(x,"$hash",v=function(){return[this.begin,this.end,this.excl].$hash()},v.$$arity=0),T&&"hash"}(0,0,C)},Opal.modules["corelib/proc"]=function(p){p.top;var m=[],y=p.nil,g=(p.const_get_qualified,p.const_get_relative),b=(p.breaker,p.slice),v=p.klass,x=p.truthy;return p.add_stubs(["$raise","$coerce_to!"]),function(t,e,r){function n(){}var i,a,$,s,o,l,c,u,_,d,h=n=v(m[0],e,"Proc",n),f=(h.prototype,[h].concat(r));return p.defineProperty(Function.prototype,"$$is_proc",!0),p.defineProperty(Function.prototype,"$$is_lambda",!1),p.defs(h,"$new",i=function(){var t=i.$$p,e=t||y;return t&&(i.$$p=null),t&&(i.$$p=null),x(e)||this.$raise(g(f,"ArgumentError"),"tried to create a Proc object without a block"),e},i.$$arity=0),p.def(h,"$call",a=function(t){var e,r=a.$$p,n=r||y;r&&(a.$$p=null),r&&(a.$$p=null),e=p.slice.call(arguments,0,arguments.length),n!==y&&(this.$$p=n);var i,$=this.$$brk;if($)try{i=this.$$is_lambda?this.apply(null,e):p.yieldX(this,e)}catch(t){if(t===$)return $.$v;throw t}else i=this.$$is_lambda?this.apply(null,e):p.yieldX(this,e);return i},a.$$arity=-1),p.alias(h,"[]","call"),p.alias(h,"===","call"),p.alias(h,"yield","call"),p.def(h,"$to_proc",$=function(){return this},$.$$arity=0),p.def(h,"$lambda?",s=function(){return!!this.$$is_lambda},s.$$arity=0),p.def(h,"$arity",o=function(){return this.$$is_curried?-1:this.$$arity},o.$$arity=0),p.def(h,"$source_location",l=function(){return this.$$is_curried,y},l.$$arity=0),p.def(h,"$binding",c=function(){return this.$$is_curried&&this.$raise(g(f,"ArgumentError"),"Can't create Binding"),y},c.$$arity=0),p.def(h,"$parameters",u=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var t,e,r=[];for(t=0,e=this.$$parameters.length;t<e;t++){var n=this.$$parameters[t];"req"===n[0]&&(n=["opt",n[1]]),r.push(n)}return r}return[]},u.$$arity=0),p.def(h,"$curry",_=function(n){var i=this;function $(){var t,e=b.call(arguments),r=e.length;return n<r&&i.$$is_lambda&&!i.$$is_curried&&i.$raise(g(f,"ArgumentError"),"wrong number of arguments ("+r+" for "+n+")"),n<=r?i.$call.apply(i,e):((t=function(){return $.apply(null,e.concat(b.call(arguments)))}).$$is_lambda=i.$$is_lambda,t.$$is_curried=!0,t)}return void 0===n?n=i.length:(n=g(f,"Opal")["$coerce_to!"](n,g(f,"Integer"),"to_int"),i.$$is_lambda&&n!==i.length&&i.$raise(g(f,"ArgumentError"),"wrong number of arguments ("+n+" for "+i.length+")")),$.$$is_lambda=i.$$is_lambda,$.$$is_curried=!0,$},_.$$arity=-1),p.def(h,"$dup",d=function(){var t=this.$$original_proc||this,e=function(){return t.apply(this,arguments)};for(var r in this)this.hasOwnProperty(r)&&(e[r]=this[r]);return e},d.$$arity=0),p.alias(h,"clone","dup")}(0,Function,m)},Opal.modules["corelib/method"]=function(p){p.top;var m=[],y=p.nil,g=(p.const_get_qualified,p.const_get_relative),b=(p.breaker,p.slice,p.klass),v=p.truthy;return p.add_stubs(["$attr_reader","$arity","$new","$class","$join","$source_location","$raise"]),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d=n=b(m[0],null,"Method",n),h=d.prototype,f=[d].concat(r);h.method=h.receiver=h.owner=h.name=y,d.$attr_reader("owner","receiver","name"),p.def(d,"$initialize",i=function(t,e,r,n){return this.receiver=t,this.owner=e,this.name=n,this.method=r},i.$$arity=4),p.def(d,"$arity",$=function(){return this.method.$arity()},$.$$arity=0),p.def(d,"$parameters",a=function(){return this.method.$$parameters},a.$$arity=0),p.def(d,"$source_location",s=function(){var t;return v(t=this.method.$$source_location)?t:["(eval)",0]},s.$$arity=0),p.def(d,"$comments",o=function(){var t;return v(t=this.method.$$comments)?t:[]},o.$$arity=0),p.def(d,"$call",l=function(t){var e,r=l.$$p,n=r||y;return r&&(l.$$p=null),r&&(l.$$p=null),e=p.slice.call(arguments,0,arguments.length),this.method.$$p=n,this.method.apply(this.receiver,e)},l.$$arity=-1),p.alias(d,"[]","call"),p.def(d,"$unbind",c=function(){return g(f,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},c.$$arity=0),p.def(d,"$to_proc",u=function(){var t=this.$call.bind(this);return t.$$unbound=this.method,t.$$is_lambda=!0,t},u.$$arity=0),p.def(d,"$inspect",_=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},_.$$arity=0)}(0,0,m),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u=n=b(m[0],null,"UnboundMethod",n),_=u.prototype,d=[u].concat(r);return _.method=_.owner=_.name=_.source=y,u.$attr_reader("source","owner","name"),p.def(u,"$initialize",i=function(t,e,r,n){return this.source=t,this.owner=e,this.method=r,this.name=n},i.$$arity=4),p.def(u,"$arity",$=function(){return this.method.$arity()},$.$$arity=0),p.def(u,"$parameters",a=function(){return this.method.$$parameters},a.$$arity=0),p.def(u,"$source_location",s=function(){var t;return v(t=this.method.$$source_location)?t:["(eval)",0]},s.$$arity=0),p.def(u,"$comments",o=function(){var t;return v(t=this.method.$$comments)?t:[]},o.$$arity=0),p.def(u,"$bind",l=function(t){if(this.owner.$$is_module||p.is_a(t,this.owner))return g(d,"Method").$new(t,this.owner,this.method,this.name);this.$raise(g(d,"TypeError"),"can't bind singleton method to a different class (expected "+t+".kind_of?("+this.owner+" to be true)")},l.$$arity=1),p.def(u,"$inspect",c=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},c.$$arity=0),y&&"inspect"}(0,0,m)},Opal.modules["corelib/variables"]=function(t){t.top;var e=[],r=t.nil,n=(t.const_get_qualified,t.const_get_relative),i=(t.breaker,t.slice,t.gvars),$=t.hash2;return t.add_stubs(["$new"]),i["&"]=i["~"]=i["`"]=i["'"]=r,i.LOADED_FEATURES=i['"']=t.loaded_features,i.LOAD_PATH=i[":"]=[],i["/"]="\n",i[","]=r,t.const_set(e[0],"ARGV",[]),t.const_set(e[0],"ARGF",n(e,"Object").$new()),t.const_set(e[0],"ENV",$([],{})),i.VERBOSE=!1,i.DEBUG=!1,i.SAFE=0},Opal.modules["opal/regexp_anchors"]=function($){$.top;var a=[],s=$.nil,o=($.const_get_qualified,$.const_get_relative),l=($.breaker,$.slice,$.module);return $.add_stubs(["$==","$new"]),function(t,e){function r(){}var n=r=l(a[0],"Opal",r),i=(n.prototype,[n].concat(e));$.const_set(i[0],"REGEXP_START",o(i,"RUBY_ENGINE")["$=="]("opal")?"^":s),$.const_set(i[0],"REGEXP_END",o(i,"RUBY_ENGINE")["$=="]("opal")?"$":s),$.const_set(i[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),$.const_set(i[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),$.const_set(i[0],"INLINE_IDENTIFIER_REGEXP",o(i,"Regexp").$new("[^"+o(i,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+o(i,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),$.const_set(i[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),$.const_set(i[0],"CONST_NAME_REGEXP",o(i,"Regexp").$new(o(i,"REGEXP_START")+"(::)?[A-Z][^"+o(i,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+o(i,"REGEXP_END")))}(0,a)},Opal.modules["opal/mini"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("corelib/nil"),e.$require("corelib/boolean"),e.$require("corelib/string"),e.$require("corelib/comparable"),e.$require("corelib/enumerable"),e.$require("corelib/enumerator"),e.$require("corelib/array"),e.$require("corelib/hash"),e.$require("corelib/number"),e.$require("corelib/range"),e.$require("corelib/proc"),e.$require("corelib/method"),e.$require("corelib/regexp"),e.$require("corelib/variables"),e.$require("opal/regexp_anchors")},Opal.modules["corelib/string/encoding"]=function(m){var r,n,i,$,s,t=m.top,y=[],g=m.nil,h=m.const_get_qualified,b=m.const_get_relative,v=(m.breaker,m.slice,m.klass),x=m.hash2,k=m.truthy,w=m.send;return m.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$==","$default_external","$upcase","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$getbyte"]),t.$require("corelib/string"),function(t,e,r){function n(){}var u,i,$,a,s,o,l,c,_,d,h=n=v(y[0],null,"Encoding",n),f=h.prototype,p=[h].concat(r);f.ascii=f.dummy=f.name=g,m.defineProperty(h,"$$register",{}),m.defs(h,"$register",u=function(t,e){var r,n,i,$,a,s=u.$$p,o=s||g,l=g,c=g;return s&&(u.$$p=null),s&&(u.$$p=null),null==e&&(e=x([],{})),$=[t],a=k(r=e["$[]"]("aliases"))?r:[],l="number"==typeof $&&"number"==typeof a?$+a:$["$+"](a),i=w(b(p,"Class"),"new",[this],o.$to_proc()).$new(t,l,!!k(r=e["$[]"]("ascii"))&&r,!!k(r=e["$[]"]("dummy"))&&r),c=this.$$register,w(l,"each",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=g),e.$const_set(t.$sub("-","_"),i),c["$$"+t]=i}).$$s=this,n.$$arity=1,n))},u.$$arity=-2),m.defs(h,"$find",i=function(t){var e,r,n;return t["$=="]("default_external")?this.$default_external():(r=this.$$register,n=k(e=r["$$"+t])?e:r["$$"+t.$upcase()],k(n)||this.$raise(b(p,"ArgumentError"),"unknown encoding name - "+t),n)},i.$$arity=1),function(t,e){t.prototype,[t].concat(e);t.$attr_accessor("default_external")}(m.get_singleton_class(h),p),h.$attr_reader("name","names"),m.def(h,"$initialize",$=function(t,e,r,n){return this.name=t,this.names=e,this.ascii=r,this.dummy=n},$.$$arity=4),m.def(h,"$ascii_compatible?",a=function(){return this.ascii},a.$$arity=0),m.def(h,"$dummy?",s=function(){return this.dummy},s.$$arity=0),m.def(h,"$to_s",o=function(){return this.name},o.$$arity=0),m.def(h,"$inspect",l=function(){var t=this;return"#<Encoding:"+t.name+(k(t.dummy)?" (dummy)":g)+">"},l.$$arity=0),m.def(h,"$each_byte",c=function(t){return m.slice.call(arguments,0,arguments.length),this.$raise(b(p,"NotImplementedError"))},c.$$arity=-1),m.def(h,"$getbyte",_=function(t){return m.slice.call(arguments,0,arguments.length),this.$raise(b(p,"NotImplementedError"))},_.$$arity=-1),m.def(h,"$bytesize",d=function(t){return m.slice.call(arguments,0,arguments.length),this.$raise(b(p,"NotImplementedError"))},d.$$arity=-1),function(t,e,r){function n(){}var i=n=v(t,e,"EncodingError",n);i.prototype,[i].concat(r)}(p[0],b(p,"StandardError"),p),function(t,e,r){function n(){}var i=n=v(t,e,"CompatibilityError",n);i.prototype,[i].concat(r)}(p[0],b(p,"EncodingError"),p)}(0,0,y),w(b(y,"Encoding"),"register",["UTF-8",x(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],((r=function(){var l,t,e=r.$$s||this;return m.def(e,"$each_byte",l=function(t){var e=l.$$p,r=e||g;e&&(l.$$p=null),e&&(l.$$p=null);for(var n=0,i=t.length;n<i;n++){var $=t.charCodeAt(n);if($<=127)m.yield1(r,$);else for(var a=encodeURIComponent(t.charAt(n)).substr(1).split("%"),s=0,o=a.length;s<o;s++)m.yield1(r,parseInt(a[s],16))}},l.$$arity=1),m.def(e,"$bytesize",t=function(t){return t.$bytes().$length()},t.$$arity=1),g&&"bytesize"}).$$s=t,r.$$arity=0,r)),w(b(y,"Encoding"),"register",["UTF-16LE"],((n=function(){var a,t,e=n.$$s||this;return m.def(e,"$each_byte",a=function(t){var e=a.$$p,r=e||g;e&&(a.$$p=null),e&&(a.$$p=null);for(var n=0,i=t.length;n<i;n++){var $=t.charCodeAt(n);m.yield1(r,255&$),m.yield1(r,$>>8)}},a.$$arity=1),m.def(e,"$bytesize",t=function(t){return t.$bytes().$length()},t.$$arity=1),g&&"bytesize"}).$$s=t,n.$$arity=0,n)),w(b(y,"Encoding"),"register",["UTF-16BE"],((i=function(){var a,t,e=i.$$s||this;return m.def(e,"$each_byte",a=function(t){var e=a.$$p,r=e||g;e&&(a.$$p=null),e&&(a.$$p=null);for(var n=0,i=t.length;n<i;n++){var $=t.charCodeAt(n);m.yield1(r,$>>8),m.yield1(r,255&$)}},a.$$arity=1),m.def(e,"$bytesize",t=function(t){return t.$bytes().$length()},t.$$arity=1),g&&"bytesize"}).$$s=t,i.$$arity=0,i)),w(b(y,"Encoding"),"register",["UTF-32LE"],(($=function(){var a,t,e=$.$$s||this;return m.def(e,"$each_byte",a=function(t){var e=a.$$p,r=e||g;e&&(a.$$p=null),e&&(a.$$p=null);for(var n=0,i=t.length;n<i;n++){var $=t.charCodeAt(n);m.yield1(r,255&$),m.yield1(r,$>>8)}},a.$$arity=1),m.def(e,"$bytesize",t=function(t){return t.$bytes().$length()},t.$$arity=1),g&&"bytesize"}).$$s=t,$.$$arity=0,$)),w(b(y,"Encoding"),"register",["ASCII-8BIT",x(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],((s=function(){var a,t,e=s.$$s||this;return m.def(e,"$each_byte",a=function(t){var e=a.$$p,r=e||g;e&&(a.$$p=null),e&&(a.$$p=null);for(var n=0,i=t.length;n<i;n++){var $=t.charCodeAt(n);m.yield1(r,255&$),m.yield1(r,$>>8)}},a.$$arity=1),m.def(e,"$bytesize",t=function(t){return t.$bytes().$length()},t.$$arity=1),g&&"bytesize"}).$$s=t,s.$$arity=0,s)),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u=n=v(y[0],null,"String",n),_=u.prototype,d=[u].concat(r);return _.encoding=g,u.$attr_reader("encoding"),m.defineProperty(String.prototype,"encoding",h(b(d,"Encoding"),"UTF_16LE")),m.def(u,"$bytes",i=function(){return this.$each_byte().$to_a()},i.$$arity=0),m.def(u,"$bytesize",$=function(){return this.encoding.$bytesize(this)},$.$$arity=0),m.def(u,"$each_byte",a=function(){var t=a.$$p,e=t||g;return t&&(a.$$p=null),t&&(a.$$p=null),e===g?this.$enum_for("each_byte"):(w(this.encoding,"each_byte",[this],e.$to_proc()),this)},a.$$arity=0),m.def(u,"$encode",s=function(t){return this.$dup().$force_encoding(t)},s.$$arity=1),m.def(u,"$force_encoding",o=function(t){return t===this.encoding?this:(t=b(d,"Opal")["$coerce_to!"](t,b(d,"String"),"to_s"),(t=b(d,"Encoding").$find(t))===this.encoding||(this.encoding=t),this)},o.$$arity=1),m.def(u,"$getbyte",l=function(t){return this.encoding.$getbyte(this,t)},l.$$arity=1),m.def(u,"$valid_encoding?",c=function(){return!0},c.$$arity=0),g&&"valid_encoding?"}(0,0,y)},Opal.modules["corelib/math"]=function(N){N.top;var P=[],z=(N.nil,N.const_get_qualified),L=N.const_get_relative,D=(N.breaker,N.slice,N.module),F=N.truthy;return N.add_stubs(["$new","$raise","$Float","$type_error","$Integer","$module_function","$checked","$float!","$===","$gamma","$-","$integer!","$/","$infinite?"]),function(t,e){function r(){}var n,i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k,w,E,A,O,S,R,C,T,M=r=D(P[0],"Math",r),I=(M.prototype,[M].concat(e));N.const_set(I[0],"E",Math.E),N.const_set(I[0],"PI",Math.PI),N.const_set(I[0],"DomainError",L(I,"Class").$new(L(I,"StandardError"))),N.defs(M,"$checked",n=function(t,e){var r;if(r=N.slice.call(arguments,1,arguments.length),isNaN(r[0])||2==r.length&&isNaN(r[1]))return NaN;var n=Math[t].apply(null,r);return isNaN(n)&&this.$raise(L(I,"DomainError"),'Numerical argument is out of domain - "'+t+'"'),n},n.$$arity=-2),N.defs(M,"$float!",i=function(e){var r=this;try{return r.$Float(e)}catch(t){if(!N.rescue(t,[L(I,"ArgumentError")]))throw t;try{return r.$raise(L(I,"Opal").$type_error(e,L(I,"Float")))}finally{N.pop_exception()}}},i.$$arity=1),N.defs(M,"$integer!",$=function(e){var r=this;try{return r.$Integer(e)}catch(t){if(!N.rescue(t,[L(I,"ArgumentError")]))throw t;try{return r.$raise(L(I,"Opal").$type_error(e,L(I,"Integer")))}finally{N.pop_exception()}}},$.$$arity=1),M.$module_function(),N.def(M,"$acos",a=function(t){return L(I,"Math").$checked("acos",L(I,"Math")["$float!"](t))},a.$$arity=1),F(void 0!==Math.acosh)||(Math.acosh=function(t){return Math.log(t+Math.sqrt(t*t-1))}),N.def(M,"$acosh",s=function(t){return L(I,"Math").$checked("acosh",L(I,"Math")["$float!"](t))},s.$$arity=1),N.def(M,"$asin",o=function(t){return L(I,"Math").$checked("asin",L(I,"Math")["$float!"](t))},o.$$arity=1),F(void 0!==Math.asinh)||(Math.asinh=function(t){return Math.log(t+Math.sqrt(t*t+1))}),N.def(M,"$asinh",l=function(t){return L(I,"Math").$checked("asinh",L(I,"Math")["$float!"](t))},l.$$arity=1),N.def(M,"$atan",c=function(t){return L(I,"Math").$checked("atan",L(I,"Math")["$float!"](t))},c.$$arity=1),N.def(M,"$atan2",u=function(t,e){return L(I,"Math").$checked("atan2",L(I,"Math")["$float!"](t),L(I,"Math")["$float!"](e))},u.$$arity=2),F(void 0!==Math.atanh)||(Math.atanh=function(t){return.5*Math.log((1+t)/(1-t))}),N.def(M,"$atanh",_=function(t){return L(I,"Math").$checked("atanh",L(I,"Math")["$float!"](t))},_.$$arity=1),F(void 0!==Math.cbrt)||(Math.cbrt=function(t){if(0==t)return 0;if(t<0)return-Math.cbrt(-t);for(var e=t,r=0;e<.125;)e*=8,r--;for(;1<e;)e*=.125,r++;for(e=(-.46946116*e+1.072302)*e+.3812513;r<0;)e*=.5,r++;for(;0<r;)e*=2,r--;return e=2/3*(e=2/3*(e=2/3*(e=2/3*e+1/3*t/(e*e))+1/3*t/(e*e))+1/3*t/(e*e))+1/3*t/(e*e)}),N.def(M,"$cbrt",d=function(t){return L(I,"Math").$checked("cbrt",L(I,"Math")["$float!"](t))},d.$$arity=1),N.def(M,"$cos",h=function(t){return L(I,"Math").$checked("cos",L(I,"Math")["$float!"](t))},h.$$arity=1),F(void 0!==Math.cosh)||(Math.cosh=function(t){return(Math.exp(t)+Math.exp(-t))/2}),N.def(M,"$cosh",f=function(t){return L(I,"Math").$checked("cosh",L(I,"Math")["$float!"](t))},f.$$arity=1),F(void 0!==Math.erf)||N.defineProperty(Math,"erf",function(t){var e=1;t<0&&(e=-1);var r=1/(1+.3275911*(t=Math.abs(t)));return e*(1-((((1.061405429*r-1.453152027)*r+1.421413741)*r-.284496736)*r+.254829592)*r*Math.exp(-t*t))}),N.def(M,"$erf",p=function(t){return L(I,"Math").$checked("erf",L(I,"Math")["$float!"](t))},p.$$arity=1),F(void 0!==Math.erfc)||N.defineProperty(Math,"erfc",function(t){var e=Math.abs(t),r=1/(.5*e+1),n=-e*e-1.26551223+r*(r*(r*(r*(r*(r*(r*(r*(.17087277*r-.82215223)+1.48851587)-1.13520398)+.27886807)-.18628806)+.09678418)+.37409196)+1.00002368),i=r*Math.exp(n);return t<0?2-i:i}),N.def(M,"$erfc",m=function(t){return L(I,"Math").$checked("erfc",L(I,"Math")["$float!"](t))},m.$$arity=1),N.def(M,"$exp",y=function(t){return L(I,"Math").$checked("exp",L(I,"Math")["$float!"](t))},y.$$arity=1),N.def(M,"$frexp",g=function(t){if(t=L(I,"Math")["$float!"](t),isNaN(t))return[NaN,0];var e=Math.floor(Math.log(Math.abs(t))/Math.log(2))+1;return[t/Math.pow(2,e),e]},g.$$arity=1),N.def(M,"$gamma",b=function(t){var e,r,n,i,$,a,s,o,l;t=L(I,"Math")["$float!"](t);var c,u,_=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(t))return NaN;if(0===t&&1/t<0)return-1/0;if(-1!==t&&t!==-1/0||this.$raise(L(I,"DomainError"),'Numerical argument is out of domain - "gamma"'),L(I,"Integer")["$==="](t)){if(t<=0)return isFinite(t)?1/0:NaN;if(171<t)return 1/0;for(i=t-2,$=t-1;1<i;)$*=i,i--;return 0==$&&($=1),$}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*L(I,"Math").$gamma((u=t,"number"==typeof(c=1)&&"number"==typeof u?c-u:c["$-"](u))));if(171.35<=t)return 1/0;if(85<t)return l=(o=(s=(a=t*t)*t)*t)*t,Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*a)-139/(51840*s)-571/(2488320*o)+163879/(209018880*l)+5246819/(75246796800*l*t));for(t-=1,n=_[0],e=1;e<_.length;++e)n+=_[e]/(t+e);return r=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(r,t+.5)*Math.exp(-r)*n},b.$$arity=1),F(void 0!==Math.hypot)||(Math.hypot=function(t,e){return Math.sqrt(t*t+e*e)}),N.def(M,"$hypot",v=function(t,e){return L(I,"Math").$checked("hypot",L(I,"Math")["$float!"](t),L(I,"Math")["$float!"](e))},v.$$arity=2),N.def(M,"$ldexp",x=function(t,e){return t=L(I,"Math")["$float!"](t),e=L(I,"Math")["$integer!"](e),isNaN(e)&&this.$raise(L(I,"RangeError"),"float NaN out of range of integer"),t*Math.pow(2,e)},x.$$arity=2),N.def(M,"$lgamma",k=function(t){return-1==t?[1/0,1]:[Math.log(Math.abs(L(I,"Math").$gamma(t))),L(I,"Math").$gamma(t)<0?-1:1]},k.$$arity=1),N.def(M,"$log",w=function(t,e){var r,n;return F(L(I,"String")["$==="](t))&&this.$raise(L(I,"Opal").$type_error(t,L(I,"Float"))),F(null==e)?L(I,"Math").$checked("log",L(I,"Math")["$float!"](t)):(F(L(I,"String")["$==="](e))&&this.$raise(L(I,"Opal").$type_error(e,L(I,"Float"))),r=L(I,"Math").$checked("log",L(I,"Math")["$float!"](t)),n=L(I,"Math").$checked("log",L(I,"Math")["$float!"](e)),"number"==typeof r&&"number"==typeof n?r/n:r["$/"](n))},w.$$arity=-2),F(void 0!==Math.log10)||(Math.log10=function(t){return Math.log(t)/Math.LN10}),N.def(M,"$log10",E=function(t){return F(L(I,"String")["$==="](t))&&this.$raise(L(I,"Opal").$type_error(t,L(I,"Float"))),L(I,"Math").$checked("log10",L(I,"Math")["$float!"](t))},E.$$arity=1),F(void 0!==Math.log2)||(Math.log2=function(t){return Math.log(t)/Math.LN2}),N.def(M,"$log2",A=function(t){return F(L(I,"String")["$==="](t))&&this.$raise(L(I,"Opal").$type_error(t,L(I,"Float"))),L(I,"Math").$checked("log2",L(I,"Math")["$float!"](t))},A.$$arity=1),N.def(M,"$sin",O=function(t){return L(I,"Math").$checked("sin",L(I,"Math")["$float!"](t))},O.$$arity=1),F(void 0!==Math.sinh)||(Math.sinh=function(t){return(Math.exp(t)-Math.exp(-t))/2}),N.def(M,"$sinh",S=function(t){return L(I,"Math").$checked("sinh",L(I,"Math")["$float!"](t))},S.$$arity=1),N.def(M,"$sqrt",R=function(t){return L(I,"Math").$checked("sqrt",L(I,"Math")["$float!"](t))},R.$$arity=1),N.def(M,"$tan",C=function(t){return t=L(I,"Math")["$float!"](t),F(t["$infinite?"]())?z(L(I,"Float"),"NAN"):L(I,"Math").$checked("tan",L(I,"Math")["$float!"](t))},C.$$arity=1),F(void 0!==Math.tanh)||(Math.tanh=function(t){return t==1/0?1:t==-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}),N.def(M,"$tanh",T=function(t){return L(I,"Math").$checked("tanh",L(I,"Math")["$float!"](t))},T.$$arity=1)}(0,P)},Opal.modules["corelib/complex"]=function(D){function F(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function B(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function q(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function j(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var t=D.top,a=[],U=D.nil,H=D.const_get_qualified,Y=D.const_get_relative,G=(D.breaker,D.slice,D.klass),W=D.truthy,s=D.module;return D.add_stubs(["$require","$===","$real?","$raise","$new","$*","$cos","$sin","$attr_reader","$class","$==","$real","$imag","$Complex","$-@","$+","$__coerced__","$-","$nan?","$/","$conj","$abs2","$quo","$polar","$exp","$log","$>","$!=","$divmod","$**","$hypot","$atan2","$lcm","$denominator","$finite?","$infinite?","$numerator","$abs","$arg","$rationalize","$to_f","$to_i","$to_r","$inspect","$positive?","$zero?","$Rational"]),t.$require("corelib/numeric"),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k,w,E,A,O,S,R,C,T,M,I,N,P=n=G(t,e,"Complex",n),z=P.prototype,L=[P].concat(r);z.real=z.imag=U,D.defs(P,"$rect",i=function(t,e){var r,n,i;return null==e&&(e=0),W(W(r=W(n=W(i=Y(L,"Numeric")["$==="](t))?t["$real?"]():i)?Y(L,"Numeric")["$==="](e):n)?e["$real?"]():r)||this.$raise(Y(L,"TypeError"),"not a real"),this.$new(t,e)},i.$$arity=-2),function(t,e){t.prototype,[t].concat(e);D.alias(t,"rectangular","rect")}(D.get_singleton_class(P),L),D.defs(P,"$polar",$=function(t,e){var r,n,i;return null==e&&(e=0),W(W(r=W(n=W(i=Y(L,"Numeric")["$==="](t))?t["$real?"]():i)?Y(L,"Numeric")["$==="](e):n)?e["$real?"]():r)||this.$raise(Y(L,"TypeError"),"not a real"),this.$new(F(t,Y(L,"Math").$cos(e)),F(t,Y(L,"Math").$sin(e)))},$.$$arity=-2),P.$attr_reader("real","imag"),D.def(P,"$initialize",a=function(t,e){return null==e&&(e=0),this.real=t,this.imag=e},a.$$arity=-2),D.def(P,"$coerce",s=function(t){var e;return W(Y(L,"Complex")["$==="](t))?[t,this]:W(W(e=Y(L,"Numeric")["$==="](t))?t["$real?"]():e)?[Y(L,"Complex").$new(t,0),this]:this.$raise(Y(L,"TypeError"),t.$class()+" can't be coerced into Complex")},s.$$arity=1),D.def(P,"$==",o=function(t){var e;return W(Y(L,"Complex")["$==="](t))?(e=this.real["$=="](t.$real()))?this.imag["$=="](t.$imag()):this.real["$=="](t.$real()):W(W(e=Y(L,"Numeric")["$==="](t))?t["$real?"]():e)?(e=this.real["$=="](t))?this.imag["$=="](0):this.real["$=="](t):t["$=="](this)},o.$$arity=1),D.def(P,"$-@",l=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},l.$$arity=0),D.def(P,"$+",c=function(t){var e;return W(Y(L,"Complex")["$==="](t))?this.$Complex(B(this.real,t.$real()),B(this.imag,t.$imag())):W(W(e=Y(L,"Numeric")["$==="](t))?t["$real?"]():e)?this.$Complex(B(this.real,t),this.imag):this.$__coerced__("+",t)},c.$$arity=1),D.def(P,"$-",u=function(t){var e;return W(Y(L,"Complex")["$==="](t))?this.$Complex(q(this.real,t.$real()),q(this.imag,t.$imag())):W(W(e=Y(L,"Numeric")["$==="](t))?t["$real?"]():e)?this.$Complex(q(this.real,t),this.imag):this.$__coerced__("-",t)},u.$$arity=1),D.def(P,"$*",_=function(t){var e;return W(Y(L,"Complex")["$==="](t))?this.$Complex(q(F(this.real,t.$real()),F(this.imag,t.$imag())),B(F(this.real,t.$imag()),F(this.imag,t.$real()))):W(W(e=Y(L,"Numeric")["$==="](t))?t["$real?"]():e)?this.$Complex(F(this.real,t),F(this.imag,t)):this.$__coerced__("*",t)},_.$$arity=1),D.def(P,"$/",d=function(t){var e,r,n,i;return W(Y(L,"Complex")["$==="](t))?W(W(e=W(r=W(n=W(i=Y(L,"Number")["$==="](this.real))?this.real["$nan?"]():i)?n:W(i=Y(L,"Number")["$==="](this.imag))?this.imag["$nan?"]():i)?r:W(n=Y(L,"Number")["$==="](t.$real()))?t.$real()["$nan?"]():n)?e:W(r=Y(L,"Number")["$==="](t.$imag()))?t.$imag()["$nan?"]():r)?Y(L,"Complex").$new(H(Y(L,"Float"),"NAN"),H(Y(L,"Float"),"NAN")):j(F(this,t.$conj()),t.$abs2()):W(W(e=Y(L,"Numeric")["$==="](t))?t["$real?"]():e)?this.$Complex(this.real.$quo(t),this.imag.$quo(t)):this.$__coerced__("/",t)},d.$$arity=1),D.def(P,"$**",h=function(t){var e,r,n,i,$,a,s=U,o=U,l=U,c=U,u=U,_=U,d=U,h=U,f=U,p=U,m=U;if(t["$=="](0))return Y(L,"Complex").$new(1,0);if(W(Y(L,"Complex")["$==="](t)))return r=this.$polar(),s=null==(e=D.to_ary(r))[0]?U:e[0],o=null==e[1]?U:e[1],l=t.$real(),c=t.$imag(),u=Y(L,"Math").$exp(q(F(l,Y(L,"Math").$log(s)),F(c,o))),_=B(F(o,l),F(c,Y(L,"Math").$log(s))),Y(L,"Complex").$polar(u,_);if(W(Y(L,"Integer")["$==="](t))){if(W((a=0,"number"==typeof($=t)&&"number"==typeof a?a<$:$["$>"](a)))){for(h=d=this,f=q(t,1);W(f["$!="](0));){for(n=f.$divmod(2),p=null==(r=D.to_ary(n))[0]?U:r[0],m=null==r[1]?U:r[1];m["$=="](0);)d=this.$Complex(q(F(d.$real(),d.$real()),F(d.$imag(),d.$imag())),F(F(2,d.$real()),d.$imag())),i=(f=p).$divmod(2),p=null==(n=D.to_ary(i))[0]?U:n[0],m=null==n[1]?U:n[1];h=F(h,d),f=q(f,1)}return h}return j(Y(L,"Rational").$new(1,1),this)["$**"](t["$-@"]())}return W(W(e=Y(L,"Float")["$==="](t))?e:Y(L,"Rational")["$==="](t))?(r=this.$polar(),s=null==(e=D.to_ary(r))[0]?U:e[0],o=null==e[1]?U:e[1],Y(L,"Complex").$polar(s["$**"](t),F(o,t))):this.$__coerced__("**",t)},h.$$arity=1),D.def(P,"$abs",f=function(){return Y(L,"Math").$hypot(this.real,this.imag)},f.$$arity=0),D.def(P,"$abs2",p=function(){return B(F(this.real,this.real),F(this.imag,this.imag))},p.$$arity=0),D.def(P,"$angle",m=function(){return Y(L,"Math").$atan2(this.imag,this.real)},m.$$arity=0),D.alias(P,"arg","angle"),D.def(P,"$conj",y=function(){return this.$Complex(this.real,this.imag["$-@"]())},y.$$arity=0),D.alias(P,"conjugate","conj"),D.def(P,"$denominator",g=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},g.$$arity=0),D.alias(P,"divide","/"),D.def(P,"$eql?",b=function(t){var e,r;return W(e=W(r=Y(L,"Complex")["$==="](t))?this.real.$class()["$=="](this.imag.$class()):r)?this["$=="](t):e},b.$$arity=1),D.def(P,"$fdiv",v=function(t){return W(Y(L,"Numeric")["$==="](t))||this.$raise(Y(L,"TypeError"),t.$class()+" can't be coerced into Complex"),j(this,t)},v.$$arity=1),D.def(P,"$finite?",x=function(){var t;return W(t=this.real["$finite?"]())?this.imag["$finite?"]():t},x.$$arity=0),D.def(P,"$hash",k=function(){return"Complex:"+this.real+":"+this.imag},k.$$arity=0),D.alias(P,"imaginary","imag"),D.def(P,"$infinite?",w=function(){var t;return W(t=this.real["$infinite?"]())?t:this.imag["$infinite?"]()},w.$$arity=0),D.def(P,"$inspect",E=function(){return"("+this+")"},E.$$arity=0),D.alias(P,"magnitude","abs"),D.udef(P,"$negative?"),D.def(P,"$numerator",A=function(){var t;return t=this.$denominator(),this.$Complex(F(this.real.$numerator(),j(t,this.real.$denominator())),F(this.imag.$numerator(),j(t,this.imag.$denominator())))},A.$$arity=0),D.alias(P,"phase","arg"),D.def(P,"$polar",O=function(){return[this.$abs(),this.$arg()]},O.$$arity=0),D.udef(P,"$positive?"),D.alias(P,"quo","/"),D.def(P,"$rationalize",S=function(t){return 1<arguments.length&&this.$raise(Y(L,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),W(this.imag["$!="](0))&&this.$raise(Y(L,"RangeError"),"can't' convert "+this+" into Rational"),this.$real().$rationalize(t)},S.$$arity=-1),D.def(P,"$real?",R=function(){return!1},R.$$arity=0),D.def(P,"$rect",C=function(){return[this.real,this.imag]},C.$$arity=0),D.alias(P,"rectangular","rect"),D.def(P,"$to_f",T=function(){return this.imag["$=="](0)||this.$raise(Y(L,"RangeError"),"can't convert "+this+" into Float"),this.real.$to_f()},T.$$arity=0),D.def(P,"$to_i",M=function(){return this.imag["$=="](0)||this.$raise(Y(L,"RangeError"),"can't convert "+this+" into Integer"),this.real.$to_i()},M.$$arity=0),D.def(P,"$to_r",I=function(){return this.imag["$=="](0)||this.$raise(Y(L,"RangeError"),"can't convert "+this+" into Rational"),this.real.$to_r()},I.$$arity=0),D.def(P,"$to_s",N=function(){var t,e,r,n=this,i=U;return i=B(i=B(i=n.real.$inspect(),W(W(t=W(e=W(r=Y(L,"Number")["$==="](n.imag))?n.imag["$nan?"]():r)?e:n.imag["$positive?"]())?t:n.imag["$zero?"]())?"+":"-"),n.imag.$abs().$inspect()),W(W(t=Y(L,"Number")["$==="](n.imag))?W(e=n.imag["$nan?"]())?e:n.imag["$infinite?"]():t)&&(i=B(i,"*")),B(i,"i")},N.$$arity=0),D.const_set(L[0],"I",P.$new(0,1))}(a[0],Y(a,"Numeric"),a),function(t,e){function r(){}var n,i=r=s(a[0],"Kernel",r),$=(i.prototype,[i].concat(e));D.def(i,"$Complex",n=function(t,e){return null==e&&(e=U),W(e)?Y($,"Complex").$new(t,e):Y($,"Complex").$new(t,0)},n.$$arity=-2)}(0,a),function(t,e,r){function n(){}var i,$=n=G(a[0],null,"String",n);$.prototype,[$].concat(r);return D.def($,"$to_c",i=function(){var t,e,r=this,n=r,i=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;n.match(i);function $(){return i.test(n)}function a(){var t=n.match(i)[0];return n=n.slice(t.length),t.replace(/_/g,"")}function s(){if($()){var t=parseFloat(a());if("/"!==n[0])return t;if(n=n.slice(1),$()){var e=parseFloat(a());return r.$Rational(t,e)}return n="/"+n,t}return null}return(t=s())?(e=s())?r.$Complex(t,e):"i"===n[0]?r.$Complex(0,t):r.$Complex(t,0):"i"===n[0]?r.$Complex(0,1):"-"===n[0]&&"i"===n[1]?r.$Complex(0,-1):"+"===n[0]&&"i"===n[1]?r.$Complex(0,1):r.$Complex(0,0)},i.$$arity=0),U&&"to_c"}(0,0,a)},Opal.modules["corelib/rational"]=function(I){function N(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function P(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function z(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function L(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function D(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var t=I.top,a=[],F=I.nil,B=I.const_get_qualified,q=I.const_get_relative,j=(I.breaker,I.slice,I.klass),U=I.truthy,s=I.module;return I.add_stubs(["$require","$to_i","$==","$raise","$<","$-@","$new","$gcd","$/","$nil?","$===","$reduce","$to_r","$equal?","$!","$coerce_to!","$to_f","$numerator","$denominator","$<=>","$-","$*","$__coerced__","$+","$Rational","$>","$**","$abs","$ceil","$with_precision","$floor","$<=","$truncate","$send","$convert"]),t.$require("corelib/numeric"),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k,w,E,A,O,S,R,C=n=j(t,e,"Rational",n),T=C.prototype,M=[C].concat(r);T.num=T.den=F,I.defs(C,"$reduce",i=function(t,e){var r;if(t=t.$to_i(),(e=e.$to_i())["$=="](0))this.$raise(q(M,"ZeroDivisionError"),"divided by 0");else if(U(N(e,0)))t=t["$-@"](),e=e["$-@"]();else if(e["$=="](1))return this.$new(t,e);return r=t.$gcd(e),this.$new(P(t,r),P(e,r))},i.$$arity=2),I.defs(C,"$convert",$=function(t,e){var r,n;return U(U(r=t["$nil?"]())?r:e["$nil?"]())&&this.$raise(q(M,"TypeError"),"cannot convert nil into Rational"),U(U(r=q(M,"Integer")["$==="](t))?q(M,"Integer")["$==="](e):r)?this.$reduce(t,e):(U(U(r=U(n=q(M,"Float")["$==="](t))?n:q(M,"String")["$==="](t))?r:q(M,"Complex")["$==="](t))&&(t=t.$to_r()),U(U(r=U(n=q(M,"Float")["$==="](e))?n:q(M,"String")["$==="](e))?r:q(M,"Complex")["$==="](e))&&(e=e.$to_r()),U(U(r=e["$equal?"](1))?q(M,"Integer")["$==="](t)["$!"]():r)?q(M,"Opal")["$coerce_to!"](t,q(M,"Rational"),"to_r"):U(U(r=q(M,"Numeric")["$==="](t))?q(M,"Numeric")["$==="](e):r)?P(t,e):this.$reduce(t,e))},$.$$arity=2),I.def(C,"$initialize",a=function(t,e){return this.num=t,this.den=e},a.$$arity=2),I.def(C,"$numerator",s=function(){return this.num},s.$$arity=0),I.def(C,"$denominator",o=function(){return this.den},o.$$arity=0),I.def(C,"$coerce",l=function(t){var e=this,r=F;return r=t,q(M,"Rational")["$==="](r)?[t,e]:q(M,"Integer")["$==="](r)?[t.$to_r(),e]:q(M,"Float")["$==="](r)?[t,e.$to_f()]:F},l.$$arity=1),I.def(C,"$==",c=function(t){var e=this,r=F;return r=t,q(M,"Rational")["$==="](r)?e.num["$=="](t.$numerator())?e.den["$=="](t.$denominator()):e.num["$=="](t.$numerator()):q(M,"Integer")["$==="](r)?e.num["$=="](t)?e.den["$=="](1):e.num["$=="](t):q(M,"Float")["$==="](r)?e.$to_f()["$=="](t):t["$=="](e)},c.$$arity=1),I.def(C,"$<=>",u=function(t){var e=this,r=F;return r=t,q(M,"Rational")["$==="](r)?z(L(e.num,t.$denominator()),L(e.den,t.$numerator()))["$<=>"](0):q(M,"Integer")["$==="](r)?z(e.num,L(e.den,t))["$<=>"](0):q(M,"Float")["$==="](r)?e.$to_f()["$<=>"](t):e.$__coerced__("<=>",t)},u.$$arity=1),I.def(C,"$+",_=function(t){var e=this,r=F,n=F,i=F;return r=t,q(M,"Rational")["$==="](r)?(n=D(L(e.num,t.$denominator()),L(e.den,t.$numerator())),i=L(e.den,t.$denominator()),e.$Rational(n,i)):q(M,"Integer")["$==="](r)?e.$Rational(D(e.num,L(t,e.den)),e.den):q(M,"Float")["$==="](r)?D(e.$to_f(),t):e.$__coerced__("+",t)},_.$$arity=1),I.def(C,"$-",d=function(t){var e=this,r=F,n=F,i=F;return r=t,q(M,"Rational")["$==="](r)?(n=z(L(e.num,t.$denominator()),L(e.den,t.$numerator())),i=L(e.den,t.$denominator()),e.$Rational(n,i)):q(M,"Integer")["$==="](r)?e.$Rational(z(e.num,L(t,e.den)),e.den):q(M,"Float")["$==="](r)?z(e.$to_f(),t):e.$__coerced__("-",t)},d.$$arity=1),I.def(C,"$*",h=function(t){var e=this,r=F,n=F,i=F;return r=t,q(M,"Rational")["$==="](r)?(n=L(e.num,t.$numerator()),i=L(e.den,t.$denominator()),e.$Rational(n,i)):q(M,"Integer")["$==="](r)?e.$Rational(L(e.num,t),e.den):q(M,"Float")["$==="](r)?L(e.$to_f(),t):e.$__coerced__("*",t)},h.$$arity=1),I.def(C,"$/",f=function(t){var e=this,r=F,n=F,i=F;return r=t,q(M,"Rational")["$==="](r)?(n=L(e.num,t.$denominator()),i=L(e.den,t.$numerator()),e.$Rational(n,i)):q(M,"Integer")["$==="](r)?t["$=="](0)?P(e.$to_f(),0):e.$Rational(e.num,L(e.den,t)):q(M,"Float")["$==="](r)?P(e.$to_f(),t):e.$__coerced__("/",t)},f.$$arity=1),I.def(C,"$**",p=function(t){var e,r,n=this,i=F;return i=t,q(M,"Integer")["$==="](i)?U(n["$=="](0)?N(t,0):n["$=="](0))?B(q(M,"Float"),"INFINITY"):U((r=0,"number"==typeof(e=t)&&"number"==typeof r?r<e:e["$>"](r)))?n.$Rational(n.num["$**"](t),n.den["$**"](t)):U(N(t,0))?n.$Rational(n.den["$**"](t["$-@"]()),n.num["$**"](t["$-@"]())):n.$Rational(1,1):q(M,"Float")["$==="](i)?n.$to_f()["$**"](t):q(M,"Rational")["$==="](i)?t["$=="](0)?n.$Rational(1,1):t.$denominator()["$=="](1)?U(N(t,0))?n.$Rational(n.den["$**"](t.$numerator().$abs()),n.num["$**"](t.$numerator().$abs())):n.$Rational(n.num["$**"](t.$numerator()),n.den["$**"](t.$numerator())):U(n["$=="](0)?N(t,0):n["$=="](0))?n.$raise(q(M,"ZeroDivisionError"),"divided by 0"):n.$to_f()["$**"](t):n.$__coerced__("**",t)},p.$$arity=1),I.def(C,"$abs",m=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},m.$$arity=0),I.def(C,"$ceil",y=function(t){return null==t&&(t=0),t["$=="](0)?P(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",t)},y.$$arity=-1),I.alias(C,"divide","/"),I.def(C,"$floor",g=function(t){return null==t&&(t=0),t["$=="](0)?P(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",t)},g.$$arity=-1),I.def(C,"$hash",b=function(){return"Rational:"+this.num+":"+this.den},b.$$arity=0),I.def(C,"$inspect",v=function(){return"("+this+")"},v.$$arity=0),I.alias(C,"quo","/"),I.def(C,"$rationalize",x=function(t){if(1<arguments.length&&this.$raise(q(M,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==t)return this;for(var e,r,n,i,$,a,s,o=t.$abs(),l=z(this,o),c=D(this,o),u=0,_=1,d=1,h=0;n=l.$ceil(),s=c,!("number"==typeof(a=n)&&"number"==typeof s?a<=s:a["$<="](s));)e=(i=n-1)*_+u,r=i*h+d,$=P(1,z(c,i)),c=P(1,z(l,i)),l=$,u=_,d=h,_=e,h=r;return this.$Rational(n*_+u,n*h+d)},x.$$arity=-1),I.def(C,"$round",k=function(t){var e=F;return null==t&&(t=0),t["$=="](0)?this.num["$=="](0)?0:this.den["$=="](1)?this.num:(e=P(D(L(this.num.$abs(),2),this.den),L(this.den,2)).$truncate(),U(N(this.num,0))?e["$-@"]():e):this.$with_precision("round",t)},k.$$arity=-1),I.def(C,"$to_f",w=function(){return P(this.num,this.den)},w.$$arity=0),I.def(C,"$to_i",E=function(){return this.$truncate()},E.$$arity=0),I.def(C,"$to_r",A=function(){return this},A.$$arity=0),I.def(C,"$to_s",O=function(){return this.num+"/"+this.den},O.$$arity=0),I.def(C,"$truncate",S=function(t){return null==t&&(t=0),t["$=="](0)?U(N(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",t)},S.$$arity=-1),I.def(C,"$with_precision",R=function(t,e){var r,n=F;return U(q(M,"Integer")["$==="](e))||this.$raise(q(M,"TypeError"),"not an Integer"),n=L(this,r=10["$**"](e)),U(N(e,1))?P(n.$send(t),r).$to_i():this.$Rational(n.$send(t),r)},R.$$arity=2)}(a[0],q(a,"Numeric"),a),function(t,e){function r(){}var n,i=r=s(a[0],"Kernel",r),$=(i.prototype,[i].concat(e));I.def(i,"$Rational",n=function(t,e){return null==e&&(e=1),q($,"Rational").$convert(t,e)},n.$$arity=-2)}(0,a),function(t,e,r){function n(){}var i,$=n=j(a[0],null,"String",n);$.prototype,[$].concat(r);return I.def($,"$to_r",i=function(){var t,e,r=this.trimLeft(),n=/^[+-]?[\d_]+(\.[\d_]+)?/;r.match(n);function i(){return n.test(r)}function $(){var t=r.match(n)[0];return r=r.slice(t.length),t.replace(/_/g,"")}return i()?(t=parseFloat($()),"/"===r[0]?(r=r.slice(1),i()?(e=parseFloat($()),this.$Rational(t,e)):this.$Rational(t,1)):this.$Rational(t,1)):this.$Rational(0,1)},i.$$arity=0),F&&"to_r"}(0,0,a)},Opal.modules["corelib/time"]=function(Q){function tt(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function et(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function rt(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function nt(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var t=Q.top,it=[],$t=Q.nil,at=(Q.const_get_qualified,Q.const_get_relative),st=(Q.breaker,Q.slice),ot=Q.klass,lt=Q.truthy,ct=Q.range;return Q.add_stubs(["$require","$include","$===","$raise","$coerce_to!","$respond_to?","$to_str","$to_i","$new","$<=>","$to_f","$nil?","$>","$<","$strftime","$year","$month","$day","$+","$round","$/","$-","$copy_instance_variables","$initialize_dup","$is_a?","$zero?","$wday","$utc?","$mon","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$isdst","$<=","$!=","$==","$ceil"]),t.$require("corelib/comparable"),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k,w,E,A,O,S,R,C,T,M,I,N,P,z,L,D,F,B,q,j,U,H,Y,G=n=ot(it[0],e,"Time",n),W=(G.prototype,[G].concat(r));G.$include(at(W,"Comparable"));var X=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],V=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],K=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],J=["January","February","March","April","May","June","July","August","September","October","November","December"];function Z(t,e,r,n,i,$){if(t=t.$$is_string?parseInt(t,10):at(W,"Opal")["$coerce_to!"](t,at(W,"Integer"),"to_int"),e===$t)e=1;else if(!e.$$is_number)if(e["$respond_to?"]("to_str"))switch((e=e.$to_str()).toLowerCase()){case"jan":e=1;break;case"feb":e=2;break;case"mar":e=3;break;case"apr":e=4;break;case"may":e=5;break;case"jun":e=6;break;case"jul":e=7;break;case"aug":e=8;break;case"sep":e=9;break;case"oct":e=10;break;case"nov":e=11;break;case"dec":e=12;break;default:e=e.$to_i()}else e=at(W,"Opal")["$coerce_to!"](e,at(W,"Integer"),"to_int");return(e<1||12<e)&&G.$raise(at(W,"ArgumentError"),"month out of range: "+e),e-=1,((r=r===$t?1:r.$$is_string?parseInt(r,10):at(W,"Opal")["$coerce_to!"](r,at(W,"Integer"),"to_int"))<1||31<r)&&G.$raise(at(W,"ArgumentError"),"day out of range: "+r),((n=n===$t?0:n.$$is_string?parseInt(n,10):at(W,"Opal")["$coerce_to!"](n,at(W,"Integer"),"to_int"))<0||24<n)&&G.$raise(at(W,"ArgumentError"),"hour out of range: "+n),((i=i===$t?0:i.$$is_string?parseInt(i,10):at(W,"Opal")["$coerce_to!"](i,at(W,"Integer"),"to_int"))<0||59<i)&&G.$raise(at(W,"ArgumentError"),"min out of range: "+i),$===$t?$=0:$.$$is_number||($=$.$$is_string?parseInt($,10):at(W,"Opal")["$coerce_to!"]($,at(W,"Integer"),"to_int")),($<0||60<$)&&G.$raise(at(W,"ArgumentError"),"sec out of range: "+$),[t,e,r,n,i,$]}return Q.defs(G,"$at",i=function(t,e){var r;return at(W,"Time")["$==="](t)?(void 0!==e&&this.$raise(at(W,"TypeError"),"can't convert Time into an exact number"),(r=new Date(t.getTime())).is_utc=t.is_utc,r):(t.$$is_number||(t=at(W,"Opal")["$coerce_to!"](t,at(W,"Integer"),"to_int")),void 0===e?new Date(1e3*t):(e.$$is_number||(e=at(W,"Opal")["$coerce_to!"](e,at(W,"Integer"),"to_int")),new Date(1e3*t+e/1e3)))},i.$$arity=-2),Q.defs(G,"$new",$=function(t,e,r,n,i,$,a){var s,o;return null==e&&(e=$t),null==r&&(r=$t),null==n&&(n=$t),null==i&&(i=$t),null==$&&($=$t),null==a&&(a=$t),void 0===t?new Date:(a!==$t&&this.$raise(at(W,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time"),t=(s=Z(t,e,r,n,i,$))[0],e=s[1],r=s[2],n=s[3],i=s[4],$=s[5],o=new Date(t,e,r,n,i,0,1e3*$),t<100&&o.setFullYear(t),o)},$.$$arity=-1),Q.defs(G,"$local",a=function(t,e,r,n,i,$,a,s,o,l){var c,u;return null==e&&(e=$t),null==r&&(r=$t),null==n&&(n=$t),null==i&&(i=$t),null==$&&($=$t),null==a&&(a=$t),null==s&&(s=$t),null==o&&(o=$t),null==l&&(l=$t),10===arguments.length&&(t=(c=st.call(arguments))[5],e=c[4],r=c[3],n=c[2],i=c[1],$=c[0]),t=(c=Z(t,e,r,n,i,$))[0],e=c[1],r=c[2],n=c[3],i=c[4],$=c[5],u=new Date(t,e,r,n,i,0,1e3*$),t<100&&u.setFullYear(t),u},a.$$arity=-2),Q.defs(G,"$gm",s=function(t,e,r,n,i,$,a,s,o,l){var c,u;return null==e&&(e=$t),null==r&&(r=$t),null==n&&(n=$t),null==i&&(i=$t),null==$&&($=$t),null==a&&(a=$t),null==s&&(s=$t),null==o&&(o=$t),null==l&&(l=$t),10===arguments.length&&(t=(c=st.call(arguments))[5],e=c[4],r=c[3],n=c[2],i=c[1],$=c[0]),t=(c=Z(t,e,r,n,i,$))[0],e=c[1],r=c[2],n=c[3],i=c[4],$=c[5],u=new Date(Date.UTC(t,e,r,n,i,0,1e3*$)),t<100&&u.setUTCFullYear(t),u.is_utc=!0,u},s.$$arity=-2),function(t,e){t.prototype,[t].concat(e);Q.alias(t,"mktime","local"),Q.alias(t,"utc","gm")}(Q.get_singleton_class(G),W),Q.defs(G,"$now",o=function(){return this.$new()},o.$$arity=0),Q.def(G,"$+",l=function(t){lt(at(W,"Time")["$==="](t))&&this.$raise(at(W,"TypeError"),"time + time?"),t.$$is_number||(t=at(W,"Opal")["$coerce_to!"](t,at(W,"Integer"),"to_int"));var e=new Date(this.getTime()+1e3*t);return e.is_utc=this.is_utc,e},l.$$arity=1),Q.def(G,"$-",c=function(t){if(lt(at(W,"Time")["$==="](t)))return(this.getTime()-t.getTime())/1e3;t.$$is_number||(t=at(W,"Opal")["$coerce_to!"](t,at(W,"Integer"),"to_int"));var e=new Date(this.getTime()-1e3*t);return e.is_utc=this.is_utc,e},c.$$arity=1),Q.def(G,"$<=>",u=function(t){var e,r,n,i,$=$t;return lt(at(W,"Time")["$==="](t))?this.$to_f()["$<=>"](t.$to_f()):($=t["$<=>"](this),lt($["$nil?"]())?$t:lt((i=0,"number"==typeof(n=$)&&"number"==typeof i?i<n:n["$>"](i)))?-1:lt((r=0,"number"==typeof(e=$)&&"number"==typeof r?e<r:e["$<"](r)))?1:0)},u.$$arity=1),Q.def(G,"$==",_=function(t){var e;return lt(e=at(W,"Time")["$==="](t))?this.$to_f()===t.$to_f():e},_.$$arity=1),Q.def(G,"$asctime",d=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},d.$$arity=0),Q.alias(G,"ctime","asctime"),Q.def(G,"$day",h=function(){return this.is_utc?this.getUTCDate():this.getDate()},h.$$arity=0),Q.def(G,"$yday",f=function(){var t;return t=at(W,"Time").$new(this.$year()).$to_i(),86400,tt(et(rt(at(W,"Time").$new(this.$year(),this.$month(),this.$day()).$to_i(),t),86400).$round(),1)},f.$$arity=0),Q.def(G,"$isdst",p=function(){var t=new Date(this.getFullYear(),0,1),e=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())},p.$$arity=0),Q.alias(G,"dst?","isdst"),Q.def(G,"$dup",m=function(){var t=$t;return(t=new Date(this.getTime())).$copy_instance_variables(this),t.$initialize_dup(this),t},m.$$arity=0),Q.def(G,"$eql?",y=function(t){var e;return lt(e=t["$is_a?"](at(W,"Time")))?this["$<=>"](t)["$zero?"]():e},y.$$arity=1),Q.def(G,"$friday?",g=function(){return 5==this.$wday()},g.$$arity=0),Q.def(G,"$hash",b=function(){return"Time:"+this.getTime()},b.$$arity=0),Q.def(G,"$hour",v=function(){return this.is_utc?this.getUTCHours():this.getHours()},v.$$arity=0),Q.def(G,"$inspect",x=function(){return lt(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},x.$$arity=0),Q.alias(G,"mday","day"),Q.def(G,"$min",k=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},k.$$arity=0),Q.def(G,"$mon",w=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},w.$$arity=0),Q.def(G,"$monday?",E=function(){return 1==this.$wday()},E.$$arity=0),Q.alias(G,"month","mon"),Q.def(G,"$saturday?",A=function(){return 6==this.$wday()},A.$$arity=0),Q.def(G,"$sec",O=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},O.$$arity=0),Q.def(G,"$succ",S=function(){var t=new Date(this.getTime()+1e3);return t.is_utc=this.is_utc,t},S.$$arity=0),Q.def(G,"$usec",R=function(){return 1e3*this.getMilliseconds()},R.$$arity=0),Q.def(G,"$zone",C=function(){var t,e=this.toString();return"GMT"==(t=-1==e.indexOf("(")?e.match(/[A-Z]{3,4}/)[0]:e.match(/\((.+)\)(?:\s|$)/)[1])&&/(GMT\W*\d{4})/.test(e)?RegExp.$1:t},C.$$arity=0),Q.def(G,"$getgm",T=function(){var t=new Date(this.getTime());return t.is_utc=!0,t},T.$$arity=0),Q.alias(G,"getutc","getgm"),Q.def(G,"$gmtime",M=function(){return this.is_utc=!0,this},M.$$arity=0),Q.alias(G,"utc","gmtime"),Q.def(G,"$gmt?",I=function(){return!0===this.is_utc},I.$$arity=0),Q.def(G,"$gmt_offset",N=function(){return 60*-this.getTimezoneOffset()},N.$$arity=0),Q.def(G,"$strftime",P=function(t){var f=this;return t.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(t,e,r,n,i){var $="",a=-1!==e.indexOf("0"),s=-1===e.indexOf("-"),o=-1!==e.indexOf("_"),l=-1!==e.indexOf("^"),c=-1!==e.indexOf("#"),u=(e.match(":")||[]).length;switch(r=parseInt(r,10),a&&o&&(e.indexOf("0")<e.indexOf("_")?a=!1:o=!1),i){case"Y":$+=f.$year();break;case"C":a=!o,$+=Math.round(f.$year()/100);break;case"y":a=!o,$+=f.$year()%100;break;case"m":a=!o,$+=f.$mon();break;case"B":$+=J[f.$mon()-1];break;case"b":case"h":o=!a,$+=K[f.$mon()-1];break;case"d":a=!o,$+=f.$day();break;case"e":o=!a,$+=f.$day();break;case"j":$+=f.$yday();break;case"H":a=!o,$+=f.$hour();break;case"k":o=!a,$+=f.$hour();break;case"I":a=!o,$+=f.$hour()%12||12;break;case"l":o=!a,$+=f.$hour()%12||12;break;case"P":$+=12<=f.$hour()?"pm":"am";break;case"p":$+=12<=f.$hour()?"PM":"AM";break;case"M":a=!o,$+=f.$min();break;case"S":a=!o,$+=f.$sec();break;case"L":a=!o,r=isNaN(r)?3:r,$+=f.getMilliseconds();break;case"N":r=isNaN(r)?9:r,$=($+=f.getMilliseconds().toString().$rjust(3,"0")).$ljust(r,"0");break;case"z":var _=f.getTimezoneOffset(),d=Math.floor(Math.abs(_)/60),h=Math.abs(_)%60;$+=_<0?"+":"-",$+=d<10?"0":"",$+=d,0<u&&($+=":"),$+=h<10?"0":"",$+=h,1<u&&($+=":00");break;case"Z":$+=f.$zone();break;case"A":$+=X[f.$wday()];break;case"a":$+=V[f.$wday()];break;case"u":$+=f.$wday()+1;break;case"w":$+=f.$wday();break;case"V":$+=f.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":$+=f.$cweek_cyear()["$[]"](1);break;case"g":$+=f.$cweek_cyear()["$[]"](1)["$[]"](ct(-2,-1,!1));break;case"s":$+=f.$to_i();break;case"n":$+="\n";break;case"t":$+="\t";break;case"%":$+="%";break;case"c":$+=f.$strftime("%a %b %e %T %Y");break;case"D":case"x":$+=f.$strftime("%m/%d/%y");break;case"F":$+=f.$strftime("%Y-%m-%d");break;case"v":$+=f.$strftime("%e-%^b-%4Y");break;case"r":$+=f.$strftime("%I:%M:%S %p");break;case"R":$+=f.$strftime("%H:%M");break;case"T":case"X":$+=f.$strftime("%H:%M:%S");break;default:return t}return l&&($=$.toUpperCase()),c&&($=$.replace(/[A-Z]/,function(t){t.toLowerCase()}).replace(/[a-z]/,function(t){t.toUpperCase()})),s&&(a||o)&&($=$.$rjust(isNaN(r)?2:r,o?" ":"0")),$})},P.$$arity=1),Q.def(G,"$sunday?",z=function(){return 0==this.$wday()},z.$$arity=0),Q.def(G,"$thursday?",L=function(){return 4==this.$wday()},L.$$arity=0),Q.def(G,"$to_a",D=function(){var t=this;return[t.$sec(),t.$min(),t.$hour(),t.$day(),t.$month(),t.$year(),t.$wday(),t.$yday(),t.$isdst(),t.$zone()]},D.$$arity=0),Q.def(G,"$to_f",F=function(){return this.getTime()/1e3},F.$$arity=0),Q.def(G,"$to_i",B=function(){return parseInt(this.getTime()/1e3,10)},B.$$arity=0),Q.alias(G,"to_s","inspect"),Q.def(G,"$tuesday?",q=function(){return 2==this.$wday()},q.$$arity=0),Q.alias(G,"tv_sec","to_i"),Q.alias(G,"tv_usec","usec"),Q.alias(G,"utc?","gmt?"),Q.alias(G,"gmtoff","gmt_offset"),Q.alias(G,"utc_offset","gmt_offset"),Q.def(G,"$wday",j=function(){return this.is_utc?this.getUTCDay():this.getDay()},j.$$arity=0),Q.def(G,"$wednesday?",U=function(){return 3==this.$wday()},U.$$arity=0),Q.def(G,"$year",H=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},H.$$arity=0),Q.def(G,"$cweek_cyear",Y=function(){var t,e=$t,r=$t,n=$t,i=$t,$=$t;return e=at(W,"Time").$new(this.$year(),1,1).$wday(),0,r=this.$year(),lt(lt(t=nt(e,4))?e["$!="](0):t)?n=rt(e,1):(n=rt(rt(e,7),1))["$=="](-8)&&(n=-1),i=et(tt(this.$yday(),n),7).$ceil(),lt(nt(i,0))?at(W,"Time").$new(rt(this.$year(),1),12,31).$cweek_cyear():(i["$=="](53)&&($=at(W,"Time").$new(this.$year(),12,31).$wday(),lt(lt(t=nt($,3))?$["$!="](0):t)&&(r=tt(r,i=1))),[i,r])},Y.$$arity=0),$t&&"cweek_cyear"}(0,Date,it)},Opal.modules["corelib/struct"]=function(E){function A(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function O(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function S(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function R(t,e){return"number"==typeof t&&"number"==typeof e?e<=t:t["$>="](e)}function C(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var t=E.top,T=[],M=E.nil,I=(E.const_get_qualified,E.const_get_relative),N=(E.breaker,E.slice,E.klass),P=E.hash2,z=E.truthy,L=E.send;return E.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$alias_method","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$class","$last","$>","$length","$-","$keys","$any?","$join","$[]","$[]=","$each_with_index","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$each_pair","$inspect","$each_with_object","$flatten","$to_a","$respond_to?","$dig"]),t.$require("corelib/enumerable"),function(t,e,r){function n(){}var _,i,$,a,s,o,l,c,u,d,h,f,p,m,y,g,b,v,x,k=n=N(T[0],null,"Struct",n),w=(k.prototype,[k].concat(r));return k.$include(I(w,"Enumerable")),E.defs(k,"$new",_=function(e,t,r){var n,i,$,a,s,o,l=_.$$p,c=l||M,u=M;if(l&&(_.$$p=null),l&&(_.$$p=null),n=E.slice.call(arguments,1,arguments.length),null==(i=E.extract_kwargs(n)))i=P([],{});else if(!i.$$is_hash)throw E.ArgumentError.$new("expected kwargs");if($=n,null==(a=i.$$smap.keyword_init)&&(a=!1),z(e))try{e=I(w,"Opal")["$const_name!"](e)}catch(t){if(!E.rescue(t,[I(w,"TypeError"),I(w,"NameError")]))throw t;try{$.$unshift(e),e=M}finally{E.pop_exception()}}return L($,"map",[],((s=function(t){s.$$s;return null==t&&(t=M),I(w,"Opal")["$coerce_to!"](t,I(w,"String"),"to_str")}).$$s=this,s.$$arity=1,s)),u=L(I(w,"Class"),"new",[this],((o=function(){var r,t=o.$$s||this;return L($,"each",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=M),e.$define_struct_attribute(t)}).$$s=t,r.$$arity=1,r)),function(t,e){var r;t.prototype,[t].concat(e);return E.def(t,"$new",r=function(t){var e,r=M;return e=E.slice.call(arguments,0,arguments.length),(r=this.$allocate()).$$data={},L(r,"initialize",E.to_a(e)),r},r.$$arity=-1),t.$alias_method("[]","new")}(E.get_singleton_class(t),w)}).$$s=this,o.$$arity=0,o)),z(c)&&L(u,"module_eval",[],c.$to_proc()),u.$$keyword_init=a,z(e)&&I(w,"Struct").$const_set(e,u),u},_.$$arity=-2),E.defs(k,"$define_struct_attribute",i=function(r){var t,n;return this["$=="](I(w,"Struct"))&&this.$raise(I(w,"ArgumentError"),"you cannot define attributes to the Struct class"),this.$members()["$<<"](r),L(this,"define_method",[r],((t=function(){return(t.$$s||this).$$data[r]}).$$s=this,t.$$arity=0,t)),L(this,"define_method",[r+"="],((n=function(t){var e=n.$$s||this;return null==t&&(t=M),e.$$data[r]=t}).$$s=this,n.$$arity=1,n))},i.$$arity=1),E.defs(k,"$members",$=function(){var t;return null==this.members&&(this.members=M),this["$=="](I(w,"Struct"))&&this.$raise(I(w,"ArgumentError"),"the Struct class has no members"),this.members=z(t=this.members)?t:[]},$.$$arity=0),E.defs(k,"$inherited",a=function(t){var e,r;return null==this.members&&(this.members=M),r=this.members,L(t,"instance_eval",[],((e=function(){return(e.$$s||this).members=r}).$$s=this,e.$$arity=0,e))},a.$$arity=1),E.def(k,"$initialize",s=function(t){var e,i,r,n,$,a=this,s=M,o=M;return e=E.slice.call(arguments,0,arguments.length),i=e,z(a.$class().$$keyword_init)?(s=z(r=i.$last())?r:P([],{}),z(z(r=A(i.$length(),1))?r:1===i.length&&!s.$$is_hash)&&a.$raise(I(w,"ArgumentError"),"wrong number of arguments (given "+i.$length()+", expected 0)"),o=O(s.$keys(),a.$class().$members()),z(o["$any?"]())&&a.$raise(I(w,"ArgumentError"),"unknown keywords: "+o.$join(", ")),L(a.$class().$members(),"each",[],((n=function(t){var e,r=n.$$s||this;return null==t&&(t=M),e=[t,s["$[]"](t)],L(r,"[]=",E.to_a(e)),e[O(e.length,1)]}).$$s=a,n.$$arity=1,n))):(z(A(i.$length(),a.$class().$members().$length()))&&a.$raise(I(w,"ArgumentError"),"struct size differs"),L(a.$class().$members(),"each_with_index",[],(($=function(t,e){var r,n=$.$$s||this;return null==t&&(t=M),null==e&&(e=M),r=[t,i["$[]"](e)],L(n,"[]=",E.to_a(r)),r[O(r.length,1)]}).$$s=a,$.$$arity=2,$)))},s.$$arity=-1),E.def(k,"$members",o=function(){return this.$class().$members()},o.$$arity=0),E.def(k,"$hash",l=function(){return I(w,"Hash").$new(this.$$data).$hash()},l.$$arity=0),E.def(k,"$[]",c=function(t){var e=this;return z(I(w,"Integer")["$==="](t))?(z(S(t,e.$class().$members().$size()["$-@"]()))&&e.$raise(I(w,"IndexError"),"offset "+t+" too small for struct(size:"+e.$class().$members().$size()+")"),z(R(t,e.$class().$members().$size()))&&e.$raise(I(w,"IndexError"),"offset "+t+" too large for struct(size:"+e.$class().$members().$size()+")"),t=e.$class().$members()["$[]"](t)):z(I(w,"String")["$==="](t))?e.$$data.hasOwnProperty(t)||e.$raise(I(w,"NameError").$new("no member '"+t+"' in struct",t)):e.$raise(I(w,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=I(w,"Opal")["$coerce_to!"](t,I(w,"String"),"to_str"),e.$$data[t]},c.$$arity=1),E.def(k,"$[]=",u=function(t,e){var r=this;return z(I(w,"Integer")["$==="](t))?(z(S(t,r.$class().$members().$size()["$-@"]()))&&r.$raise(I(w,"IndexError"),"offset "+t+" too small for struct(size:"+r.$class().$members().$size()+")"),z(R(t,r.$class().$members().$size()))&&r.$raise(I(w,"IndexError"),"offset "+t+" too large for struct(size:"+r.$class().$members().$size()+")"),t=r.$class().$members()["$[]"](t)):z(I(w,"String")["$==="](t))?z(r.$class().$members()["$include?"](t.$to_sym()))||r.$raise(I(w,"NameError").$new("no member '"+t+"' in struct",t)):r.$raise(I(w,"TypeError"),"no implicit conversion of "+t.$class()+" into Integer"),t=I(w,"Opal")["$coerce_to!"](t,I(w,"String"),"to_str"),r.$$data[t]=e},u.$$arity=2),E.def(k,"$==",d=function(t){if(!z(t["$instance_of?"](this.$class())))return!1;var a={},s={};return function t(e,r){var n,i,$;for(n in a[e.$__id__()]=!0,s[r.$__id__()]=!0,e.$$data)if(i=e.$$data[n],$=r.$$data[n],I(w,"Struct")["$==="](i)){if(!(a.hasOwnProperty(i.$__id__())&&s.hasOwnProperty($.$__id__())||t(i,$)))return!1}else if(!i["$=="]($))return!1;return!0}(this,t)},d.$$arity=1),E.def(k,"$eql?",h=function(t){if(!z(t["$instance_of?"](this.$class())))return!1;var a={},s={};return function t(e,r){var n,i,$;for(n in a[e.$__id__()]=!0,s[r.$__id__()]=!0,e.$$data)if(i=e.$$data[n],$=r.$$data[n],I(w,"Struct")["$==="](i)){if(!(a.hasOwnProperty(i.$__id__())&&s.hasOwnProperty($.$__id__())||t(i,$)))return!1}else if(!i["$eql?"]($))return!1;return!0}(this,t)},h.$$arity=1),E.def(k,"$each",f=function(){var t,r,e=f.$$p,n=e||M;return e&&(f.$$p=null),n===M?L(this,"enum_for",["each"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(L(this.$class().$members(),"each",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=M),E.yield1(n,e["$[]"](t))}).$$s=this,r.$$arity=1,r)),this)},f.$$arity=0),E.def(k,"$each_pair",p=function(){var t,r,e=p.$$p,n=e||M;return e&&(p.$$p=null),n===M?L(this,"enum_for",["each_pair"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(L(this.$class().$members(),"each",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=M),E.yield1(n,[t,e["$[]"](t)])}).$$s=this,r.$$arity=1,r)),this)},p.$$arity=0),E.def(k,"$length",m=function(){return this.$class().$members().$length()},m.$$arity=0),E.alias(k,"size","length"),E.def(k,"$to_a",y=function(){var r;return L(this.$class().$members(),"map",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=M),e["$[]"](t)}).$$s=this,r.$$arity=1,r))},y.$$arity=0),E.alias(k,"values","to_a"),E.def(k,"$inspect",g=function(){var t,r,e=M;return e="#<struct ",z(z(t=I(w,"Struct")["$==="](this))?this.$class().$name():t)&&(e=C(e,this.$class()+" ")),e=C(e=C(e,L(this.$each_pair(),"map",[],(r=function(t,e){r.$$s;return null==t&&(t=M),null==e&&(e=M),t+"="+e.$inspect()},r.$$s=this,r.$$arity=2,r)).$join(", ")),">")},g.$$arity=0),E.alias(k,"to_s","inspect"),E.def(k,"$to_h",b=function(){var i;return L(this.$class().$members(),"each_with_object",[P([],{})],((i=function(t,e){var r,n=i.$$s||this;return null==t&&(t=M),null==e&&(e=M),r=[t,n["$[]"](t)],L(e,"[]=",E.to_a(r)),r[O(r.length,1)]}).$$s=this,i.$$arity=2,i))},b.$$arity=0),E.def(k,"$values_at",v=function(t){var e,r,n;e=E.slice.call(arguments,0,arguments.length);for(var i=[],$=0,a=(r=L(r=e,"map",[],(n=function(t){n.$$s;return null==t&&(t=M),t.$$is_range?t.$to_a():t},n.$$s=this,n.$$arity=1,n)).$flatten()).length;$<a;$++)r[$].$$is_number||this.$raise(I(w,"TypeError"),"no implicit conversion of "+r[$].$class()+" into Integer"),i.push(this["$[]"](r[$]));return i},v.$$arity=-1),E.def(k,"$dig",x=function(t,e){var r,n=this,i=M;return r=E.slice.call(arguments,1,arguments.length),(i=z(t.$$is_string&&n.$$data.hasOwnProperty(t))&&n.$$data[t]||M)===M||0===r.length?i:(z(i["$respond_to?"]("dig"))||n.$raise(I(w,"TypeError"),i.$class()+" does not have #dig method"),L(i,"dig",E.to_a(r)))},x.$$arity=-2),M&&"dig"}(0,0,T)},Opal.modules["corelib/io"]=function(u){function t(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}u.top;var _=[],d=u.nil,e=u.const_get_qualified,h=u.const_get_relative,f=(u.breaker,u.slice,u.klass),p=u.module,m=u.send,y=u.gvars,g=u.truthy,r=d;u.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),function(t,e,r){function n(){}var i,$,a,s,o=n=f(_[0],null,"IO",n),l=o.prototype,c=[o].concat(r);l.tty=l.closed=d,u.const_set(c[0],"SEEK_SET",0),u.const_set(c[0],"SEEK_CUR",1),u.const_set(c[0],"SEEK_END",2),u.def(o,"$tty?",i=function(){return this.tty},i.$$arity=0),u.def(o,"$closed?",$=function(){return this.closed},$.$$arity=0),o.$attr_accessor("write_proc"),u.def(o,"$write",a=function(t){return this.write_proc(t),t.$size()},a.$$arity=1),o.$attr_accessor("sync","tty"),u.def(o,"$flush",s=function(){return d},s.$$arity=0),function(t,e){function r(){}var n,i,$,a=r=p(t,"Writable",r);a.prototype,[a].concat(e);u.def(a,"$<<",n=function(t){return this.$write(t),this},n.$$arity=1),u.def(a,"$print",i=function(t){var e,r;return null==y[","]&&(y[","]=d),e=u.slice.call(arguments,0,arguments.length),this.$write(m(e,"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=d),e.$String(t)},r.$$s=this,r.$$arity=1,r)).$join(y[","])),d},i.$$arity=-1),u.def(a,"$puts",$=function(t){var e,r,n;return null==y["/"]&&(y["/"]=d),e=u.slice.call(arguments,0,arguments.length),n=y["/"],g(e["$empty?"]())?this.$write(y["/"]):this.$write(m(e,"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=d),e.$String(t).$chomp()},r.$$s=this,r.$$arity=1,r)).$concat([d]).$join(n)),d},$.$$arity=-1)}(c[0],c),function(t,e){function r(){}var n,i,$,a,s=r=p(t,"Readable",r),o=(s.prototype,[s].concat(e));u.def(s,"$readbyte",n=function(){return this.$getbyte()},n.$$arity=0),u.def(s,"$readchar",i=function(){return this.$getc()},i.$$arity=0),u.def(s,"$readline",$=function(t){return null==y["/"]&&(y["/"]=d),null==t&&(t=y["/"]),this.$raise(h(o,"NotImplementedError"))},$.$$arity=-1),u.def(s,"$readpartial",a=function(t,e){return null==e&&(e=d),this.$raise(h(o,"NotImplementedError"))},a.$$arity=-2)}(c[0],c)}(0,0,_),u.const_set(_[0],"STDERR",y.stderr=h(_,"IO").$new()),u.const_set(_[0],"STDIN",y.stdin=h(_,"IO").$new()),u.const_set(_[0],"STDOUT",y.stdout=h(_,"IO").$new());var n=u.global.console;return r=["object"==typeof process&&"object"==typeof process.stdout?function(t){process.stdout.write(t)}:function(t){n.log(t)}],m(h(_,"STDOUT"),"write_proc=",u.to_a(r)),r[t(r.length,1)],r=["object"==typeof process&&"object"==typeof process.stderr?function(t){process.stderr.write(t)}:function(t){n.warn(t)}],m(h(_,"STDERR"),"write_proc=",u.to_a(r)),r[t(r.length,1)],h(_,"STDOUT").$extend(e(h(_,"IO"),"Writable")),h(_,"STDERR").$extend(e(h(_,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(t){var e,r,n=t.top,i=[],$=t.nil,a=(t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.add_stubs(["$include"]),t.defs(n,"$to_s",e=function(){return"main"},e.$$arity=0),t.defs(n,"$include",r=function(t){return a(i,"Object").$include(t)},r.$$arity=1),$&&"include"},Opal.modules["corelib/dir"]=function(a){a.top;var s=[],o=a.nil,l=(a.const_get_qualified,a.const_get_relative),c=(a.breaker,a.slice,a.klass),u=a.truthy;return a.add_stubs(["$[]"]),function(t,e,r){function n(){}var i=n=c(s[0],null,"Dir",n),$=(i.prototype,[i].concat(r));return function(t,e){t.prototype;var i,r,n,$=[t].concat(e);return a.def(t,"$chdir",i=function(t){var e=i.$$p,r=e||o,n=o;return e&&(i.$$p=null),function(){try{return n=a.current_dir,a.current_dir=t,a.yieldX(r,[])}finally{a.current_dir=n}}()},i.$$arity=1),a.def(t,"$pwd",r=function(){return a.current_dir||"."},r.$$arity=0),a.alias(t,"getwd","pwd"),a.def(t,"$home",n=function(){var t;return u(t=l($,"ENV")["$[]"]("HOME"))?t:"."},n.$$arity=0),o&&"home"}(a.get_singleton_class(i),$)}(0,0,s)},Opal.modules["corelib/file"]=function(u){function b(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}u.top;var t=[],v=u.nil,x=(u.const_get_qualified,u.const_get_relative),a=(u.breaker,u.slice,u.klass),k=u.truthy,_=u.range,d=u.send;return u.add_stubs(["$home","$raise","$start_with?","$+","$sub","$pwd","$split","$unshift","$join","$respond_to?","$coerce_to!","$basename","$empty?","$rindex","$[]","$nil?","$==","$-","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$to_proc","$end_with?"]),function(t,e,r){function n(){}var i=n=a(t,e,"File",n),$=(i.prototype,[i].concat(r)),g=v;return u.const_set($[0],"Separator",u.const_set($[0],"SEPARATOR","/")),u.const_set($[0],"ALT_SEPARATOR",v),u.const_set($[0],"PATH_SEPARATOR",":"),u.const_set($[0],"FNM_SYSCASE",0),g=/^[a-zA-Z]:(?:\\|\/)/,function(t,e){t.prototype;var r,n,i,$,a,s,o,l,m=[t].concat(e);function c(t){return k(t["$respond_to?"]("to_path"))&&(t=t.$to_path()),t=x(m,"Opal")["$coerce_to!"](t,x(m,"String"),"to_str")}function y(){return x(m,"ALT_SEPARATOR")===v?u.escape_regexp(x(m,"SEPARATOR")):u.escape_regexp(b(x(m,"SEPARATOR"),x(m,"ALT_SEPARATOR")))}return u.def(t,"$expand_path",r=function(t,e){var r,n,i,$,a,s,o=v,l=v,c=v,u=v,_=v,d=v,h=v;null==e&&(e=v),n=x(m,"SEPARATOR"),i=y(),o=[],k("~"===t[0]||e&&"~"===e[0])&&(l=x(m,"Dir").$home(),k(l)||this.$raise(x(m,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),k(l["$start_with?"](n))||this.$raise(x(m,"ArgumentError"),"non-absolute home"),l=b(l,n),c=new RegExp("^\\~(?:"+n+"|$)"),t=t.$sub(c,l),k(e)&&(e=e.$sub(c,l))),e=k(r=e)?r:x(m,"Dir").$pwd(),$=t.substr(0,n.length)===n||g.test(t),a=e.substr(0,n.length)===n||g.test(e),d=k($)?(u=t.$split(new RegExp("["+i+"]")),_=g.test(t)?"":t.$sub(new RegExp("^(["+i+"]+).*$"),"\\1"),!0):(u=b(e.$split(new RegExp("["+i+"]")),t.$split(new RegExp("["+i+"]"))),_=g.test(e)?"":e.$sub(new RegExp("^(["+i+"]+).*$"),"\\1"),a);for(var f=0,p=u.length;f<p;f++)(s=u[f])===v||""===s&&(0===o.length||d)||"."===s&&(0===o.length||d)||(".."===s?o.pop():o.push(s));return d||"."===u[0]||o.$unshift("."),h=o.$join(n),k(d)&&(h=b(_,h)),h},r.$$arity=-2),u.alias(t,"realpath","expand_path"),u.def(t,"$dirname",n=function(t){var e;e=y();var r=(t=c(t)).match(new RegExp("^["+e+"]"));return""===(t=(t=(t=t.replace(new RegExp("["+e+"]+$"),"")).replace(new RegExp("[^"+e+"]+$"),"")).replace(new RegExp("["+e+"]+$"),""))?r?"/":".":t},n.$$arity=1),u.def(t,"$basename",i=function(t,e){var r;return null==e&&(e=v),r=y(),0==(t=c(t)).length||(e=e!==v?x(m,"Opal")["$coerce_to!"](e,x(m,"String"),"to_str"):null,t=(t=t.replace(new RegExp("(.)["+r+"]*$"),"$1")).replace(new RegExp("^(?:.*["+r+"])?([^"+r+"]+)$"),"$1"),".*"===e?t=t.replace(/\.[^\.]+$/,""):null!==e&&(e=u.escape_regexp(e),t=t.replace(new RegExp(e+"$"),""))),t},i.$$arity=-2),u.def(t,"$extname",$=function(t){var e,r,n,i=v,$=v;return t=c(t),i=this.$basename(t),k(i["$empty?"]())?"":($=i["$[]"](_(1,-1,!1)).$rindex("."),k(k(e=$["$nil?"]())?e:b($,1)["$=="]((r=i.$length(),n=1,"number"==typeof r&&"number"==typeof n?r-n:r["$-"](n))))?"":i["$[]"](u.Range.$new(b($,1),-1,!1)))},$.$$arity=1),u.def(t,"$exist?",a=function(t){return null!=u.modules[t]},a.$$arity=1),u.alias(t,"exists?","exist?"),u.def(t,"$directory?",s=function(e){var r,t=v;for(var n in t=[],u.modules)t.push(n);return e=e.$gsub(new RegExp("(^."+x(m,"SEPARATOR")+"+|"+x(m,"SEPARATOR")+"+$)")),d(t,"find",[],((r=function(t){r.$$s;return null==t&&(t=v),t["$=~"](new RegExp("^"+e))}).$$s=this,r.$$arity=1,r))},s.$$arity=1),u.def(t,"$join",o=function(t){var e,i,r,$,a=v;return e=u.slice.call(arguments,0,arguments.length),k((i=e)["$empty?"]())?"":(a="",i=d(i.$flatten().$each_with_index(),"map",[],((r=function(t,e){r.$$s;return null==t&&(t=v),null==e&&(e=v),k(e["$=="](0)?t["$empty?"]():e["$=="](0))?x(m,"SEPARATOR"):k(i.$length()["$=="](b(e,1))?t["$empty?"]():i.$length()["$=="](b(e,1)))?x(m,"SEPARATOR"):t}).$$s=this,r.$$arity=2,r)),i=d(i,"reject",[],"empty?".$to_proc()),d(i,"each_with_index",[],(($=function(t,e){$.$$s;var r,n=v;return null==t&&(t=v),null==e&&(e=v),n=i["$[]"](b(e,1)),a=k(n["$nil?"]())?""+a+t:(k(k(r=t["$end_with?"](x(m,"SEPARATOR")))?n["$start_with?"](x(m,"SEPARATOR")):r)&&(t=t.$sub(new RegExp(x(m,"SEPARATOR")+"+$"),"")),k(k(r=t["$end_with?"](x(m,"SEPARATOR")))?r:n["$start_with?"](x(m,"SEPARATOR")))?""+a+t:""+a+t+x(m,"SEPARATOR"))}).$$s=this,$.$$arity=2,$)),a)},o.$$arity=-1),u.def(t,"$split",l=function(t){return t.$split(x(m,"SEPARATOR"))},l.$$arity=1),v&&"split"}(u.get_singleton_class(i),$)}(t[0],x(t,"IO"),t)},Opal.modules["corelib/process"]=function(_){_.top;var d=[],h=_.nil,f=_.const_get_qualified,p=_.const_get_relative,m=(_.breaker,_.slice,_.klass),y=_.truthy;return _.add_stubs(["$const_set","$size","$<<","$__register_clock__","$to_f","$now","$new","$[]","$raise"]),function(t,e,r){function n(){}var i,$,a,s,o=n=m(d[0],null,"Process",n),l=(o.prototype,[o].concat(r)),c=h;if(o.__clocks__=[],_.defs(o,"$__register_clock__",i=function(t,e){return null==this.__clocks__&&(this.__clocks__=h),this.$const_set(t,this.__clocks__.$size()),this.__clocks__["$<<"](e)},i.$$arity=2),o.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),c=!1,_.global.performance)c=function(){return performance.now()};else if(_.global.process&&process.hrtime){var u=process.hrtime();c=function(){var t=process.hrtime(u),e=t[1]/1e3|0;return 1e3*t[0]+e/1e3}}y(c)&&o.$__register_clock__("CLOCK_MONOTONIC",c),_.defs(o,"$pid",$=function(){return 0},$.$$arity=0),_.defs(o,"$times",a=function(){var t;return t=p(l,"Time").$now().$to_f(),f(p(l,"Benchmark"),"Tms").$new(t,t,t,t,t)},a.$$arity=0),_.defs(o,"$clock_gettime",s=function(t,e){var r=h;null==this.__clocks__&&(this.__clocks__=h),null==e&&(e="float_second"),y(r=this.__clocks__["$[]"](t))||this.$raise(f(p(l,"Errno"),"EINVAL"),"clock_gettime("+t+") "+this.__clocks__["$[]"](t));var n=r();switch(e){case"float_second":return n/1e3;case"float_millisecond":return n/1;case"float_microsecond":return 1e3*n;case"second":return n/1e3|0;case"millisecond":return n/1|0;case"microsecond":return 1e3*n|0;case"nanosecond":return 1e6*n|0;default:this.$raise(p(l,"ArgumentError"),"unexpected unit: "+e)}},s.$$arity=-2)}(0,0,d),function(t,e,r){function n(){}var i,$=n=m(d[0],null,"Signal",n);$.prototype,[$].concat(r);_.defs($,"$trap",i=function(t){return _.slice.call(arguments,0,arguments.length),h},i.$$arity=-1)}(0,0,d),function(t,e,r){function n(){}var i,$=n=m(d[0],null,"GC",n);$.prototype,[$].concat(r);return _.defs($,"$start",i=function(){return h},i.$$arity=0),h&&"start"}(0,0,d)},Opal.modules["corelib/random"]=function(p){p.top;var m=[],y=p.nil,g=(p.const_get_qualified,p.const_get_relative),b=(p.breaker,p.slice,p.klass),v=p.truthy,x=p.send;return p.add_stubs(["$attr_reader","$new_seed","$coerce_to!","$reseed","$rand","$seed","$<","$raise","$encode","$join","$new","$chr","$===","$==","$state","$const_defined?","$const_set"]),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h=n=b(m[0],null,"Random",n),f=(h.prototype,[h].concat(r));return h.$attr_reader("seed","state"),p.def(h,"$initialize",i=function(t){return null==t&&(t=g(f,"Random").$new_seed()),t=g(f,"Opal")["$coerce_to!"](t,g(f,"Integer"),"to_int"),this.state=t,this.$reseed(t)},i.$$arity=-1),p.def(h,"$reseed",$=function(t){return this.seed=t,this.$rng=p.$$rand.reseed(t)},$.$$arity=1),p.defs(h,"$new_seed",a=function(){return p.$$rand.new_seed()},a.$$arity=0),p.defs(h,"$rand",s=function(t){return g(f,"DEFAULT").$rand(t)},s.$$arity=-1),p.defs(h,"$srand",o=function(t){var e;return null==t&&(t=g(f,"Random").$new_seed()),t=g(f,"Opal")["$coerce_to!"](t,g(f,"Integer"),"to_int"),e=g(f,"DEFAULT").$seed(),g(f,"DEFAULT").$reseed(t),e},o.$$arity=-1),p.defs(h,"$urandom",l=function(t){var e,r,n;return t=g(f,"Opal")["$coerce_to!"](t,g(f,"Integer"),"to_int"),v((n=0,"number"==typeof(r=t)&&"number"==typeof n?r<n:r["$<"](n)))&&this.$raise(g(f,"ArgumentError"),"negative string size (or size too big)"),x(g(f,"Array"),"new",[t],(e=function(){return(e.$$s||this).$rand(255).$chr()},e.$$s=this,e.$$arity=0,e)).$join().$encode("ASCII-8BIT")},l.$$arity=1),p.def(h,"$==",c=function(t){return!!v(g(f,"Random")["$==="](t))&&(this.$seed()["$=="](t.$seed())?this.$state()["$=="](t.$state()):this.$seed()["$=="](t.$seed()))},c.$$arity=1),p.def(h,"$bytes",u=function(t){var e;return t=g(f,"Opal")["$coerce_to!"](t,g(f,"Integer"),"to_int"),x(g(f,"Array"),"new",[t],(e=function(){return(e.$$s||this).$rand(255).$chr()},e.$$s=this,e.$$arity=0,e)).$join().$encode("ASCII-8BIT")},u.$$arity=1),p.def(h,"$rand",_=function(n){var i=this;function t(){return i.state++,p.$$rand.rand(i.$rng)}function e(){return Math.floor(t()*n)}return null==n?t():n.$$is_range?function(){var t=n.begin,e=n.end;if(t===y||e===y)return y;var r=e-t;return r<0?y:0===r?t:(e%1!=0||t%1!=0||n.excl||r++,i.$rand(r)+t)}():n.$$is_number?(n<=0&&i.$raise(g(f,"ArgumentError"),"invalid argument - "+n),n%1==0?e():t()*n):((n=g(f,"Opal")["$coerce_to!"](n,g(f,"Integer"),"to_int"))<=0&&i.$raise(g(f,"ArgumentError"),"invalid argument - "+n),e())},_.$$arity=-1),p.defs(h,"$generator=",d=function(t){return p.$$rand=t,v(this["$const_defined?"]("DEFAULT"))?g(f,"DEFAULT").$reseed():this.$const_set("DEFAULT",this.$new(this.$new_seed()))},d.$$arity=1),y&&"generator="}(0,0,m)};var MersenneTwister=function(){var i=624,$=397,a=function(t,e){return(2147483648&t|2147483647&e)>>>1^(1&e?2567483615:0)};function s(t){var e;return--t.left<=0&&function(t){var e,r=0,n=t.state;for(t.left=i,t.next=0,e=i-$+1;--e;r++)n[r]=n[r+$]^a(n[r+0],n[r+1]);for(e=$;--e;r++)n[r]=n[r+($-i)]^a(n[r+0],n[r+1]);n[r]=n[r+($-i)]^a(n[r+0],n[0])}(t),e=t.state[t.next++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,(e^=e>>>18)>>>0}return{genrand_real:function(t){var e,r,n=s(t),i=s(t);return e=n,r=i,(67108864*(e>>>=5)+(r>>>=6))*(1/9007199254740992)},init:function(t){var e={left:0,next:i,state:new Array(i)};return function(t,e){var r;for(t.state[0]=e>>>0,r=1;r<i;r++)t.state[r]=1812433253*(t.state[r-1]^t.state[r-1]>>30>>>0)+r,t.state[r]&=4294967295;t.left=1,t.next=i}(e,t),e}}}();Opal.loaded(["corelib/random/MersenneTwister.js"]),Opal.modules["corelib/random/mersenne_twister"]=function(c){var t=c.top,u=[],_=(c.nil,c.const_get_qualified,c.const_get_relative),d=(c.breaker,c.slice,c.klass),h=c.send;return c.add_stubs(["$require","$generator=","$-"]),t.$require("corelib/random/MersenneTwister"),function(t,e,r){function n(){}var i,$,a,s=n=d(u[0],null,"Random",n),o=(s.prototype,[s].concat(r)),l=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;return c.const_set(o[0],"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*l)},reseed:function(t){return MersenneTwister.init(t)},rand:function(t){return MersenneTwister.genrand_real(t)}}),i=[_(o,"MERSENNE_TWISTER_GENERATOR")],h(s,"generator=",c.to_a(i)),i[($=i.length,a=1,"number"==typeof $&&"number"==typeof a?$-a:$["$-"](a))]}(0,0,u)},Opal.modules["corelib/unsupported"]=function(C){var t,e,r=C.top,T=[],l=C.nil,M=(C.const_get_qualified,C.const_get_relative),I=(C.breaker,C.slice,C.klass),o=C.module;C.add_stubs(["$raise","$warn","$%"]);var n={};function c(t){switch(C.config.unsupported_features_severity){case"error":M(T,"Kernel").$raise(M(T,"NotImplementedError"),t);break;case"warning":!function(t){if(n[t])return;n[t]=!0,r.$warn(t)}(t)}}return function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k,w,E,A,O=n=I(T[0],null,"String",n),S=(O.prototype,[O].concat(r)),R="String#%s not supported. Mutable String methods are not supported in Opal.";C.def(O,"$<<",i=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("<<"))},i.$$arity=-1),C.def(O,"$capitalize!",$=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("capitalize!"))},$.$$arity=-1),C.def(O,"$chomp!",a=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("chomp!"))},a.$$arity=-1),C.def(O,"$chop!",s=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("chop!"))},s.$$arity=-1),C.def(O,"$downcase!",o=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("downcase!"))},o.$$arity=-1),C.def(O,"$gsub!",l=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("gsub!"))},l.$$arity=-1),C.def(O,"$lstrip!",c=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("lstrip!"))},c.$$arity=-1),C.def(O,"$next!",u=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("next!"))},u.$$arity=-1),C.def(O,"$reverse!",_=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("reverse!"))},_.$$arity=-1),C.def(O,"$slice!",d=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("slice!"))},d.$$arity=-1),C.def(O,"$squeeze!",h=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("squeeze!"))},h.$$arity=-1),C.def(O,"$strip!",f=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("strip!"))},f.$$arity=-1),C.def(O,"$sub!",p=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("sub!"))},p.$$arity=-1),C.def(O,"$succ!",m=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("succ!"))},m.$$arity=-1),C.def(O,"$swapcase!",y=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("swapcase!"))},y.$$arity=-1),C.def(O,"$tr!",g=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("tr!"))},g.$$arity=-1),C.def(O,"$tr_s!",b=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("tr_s!"))},b.$$arity=-1),C.def(O,"$upcase!",v=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("upcase!"))},v.$$arity=-1),C.def(O,"$prepend",x=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("prepend"))},x.$$arity=-1),C.def(O,"$[]=",k=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("[]="))},k.$$arity=-1),C.def(O,"$clear",w=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("clear"))},w.$$arity=-1),C.def(O,"$encode!",E=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("encode!"))},E.$$arity=-1),C.def(O,"$unicode_normalize!",A=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M(S,"NotImplementedError"),R["$%"]("unicode_normalize!"))},A.$$arity=-1)}(0,0,T),function(t,e){function r(){}var n,i,$=r=o(T[0],"Kernel",r),a=($.prototype,[$].concat(e),"Object freezing is not supported by Opal");C.def($,"$freeze",n=function(){return c(a),this},n.$$arity=0),C.def($,"$frozen?",i=function(){return c(a),!1},i.$$arity=0)}(0,T),function(t,e){function r(){}var n,i,$,a=r=o(T[0],"Kernel",r),s=(a.prototype,[a].concat(e),"Object tainting is not supported by Opal");C.def(a,"$taint",n=function(){return c(s),this},n.$$arity=0),C.def(a,"$untaint",i=function(){return c(s),this},i.$$arity=0),C.def(a,"$tainted?",$=function(){return c(s),!1},$.$$arity=0)}(0,T),function(t,e,r){function n(){}var i,$,a,s,o=n=I(T[0],null,"Module",n);o.prototype,[o].concat(r);C.def(o,"$public",i=function(t){return 0===C.slice.call(arguments,0,arguments.length).length&&(this.$$module_function=!1),l},i.$$arity=-1),C.alias(o,"private","public"),C.alias(o,"protected","public"),C.alias(o,"nesting","public"),C.def(o,"$private_class_method",$=function(t){return C.slice.call(arguments,0,arguments.length),this},$.$$arity=-1),C.alias(o,"public_class_method","private_class_method"),C.def(o,"$private_method_defined?",a=function(t){return!1},a.$$arity=1),C.def(o,"$private_constant",s=function(t){return C.slice.call(arguments,0,arguments.length),l},s.$$arity=-1),C.alias(o,"protected_method_defined?","private_method_defined?"),C.alias(o,"public_instance_methods","instance_methods"),C.alias(o,"public_instance_method","instance_method"),C.alias(o,"public_method_defined?","method_defined?")}(0,0,T),function(t,e){function r(){}var n,i=r=o(T[0],"Kernel",r);i.prototype,[i].concat(e);C.def(i,"$private_methods",n=function(t){return C.slice.call(arguments,0,arguments.length),[]},n.$$arity=-1),C.alias(i,"private_instance_methods","private_methods")}(0,T),function(t,e){function r(){}var n,i=r=o(T[0],"Kernel",r),$=(i.prototype,[i].concat(e));C.def(i,"$eval",n=function(t){return C.slice.call(arguments,0,arguments.length),this.$raise(M($,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+M($,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details.")},n.$$arity=-1)}(0,T),C.defs(r,"$public",t=function(t){return C.slice.call(arguments,0,arguments.length),l},t.$$arity=-1),C.defs(r,"$private",e=function(t){return C.slice.call(arguments,0,arguments.length),l},e.$$arity=-1),l&&"private"},function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("opal/mini"),e.$require("corelib/string/encoding"),e.$require("corelib/math"),e.$require("corelib/complex"),e.$require("corelib/rational"),e.$require("corelib/time"),e.$require("corelib/struct"),e.$require("corelib/io"),e.$require("corelib/main"),e.$require("corelib/dir"),e.$require("corelib/file"),e.$require("corelib/process"),e.$require("corelib/random"),e.$require("corelib/random/mersenne_twister.js"),e.$require("corelib/unsupported")}(Opal),function(t,e){t.Asciidoctor=function(o){Opal.modules["asciidoctor/js/opal_ext/nashorn/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var r=t.nil,n=(t.const_get_qualified,t.const_get_relative,t.breaker,t.slice,t.send),i=t.gvars,$=r;return null==i.stdout&&(i.stdout=r),null==i.stderr&&(i.stderr=r),t.add_stubs(["$write_proc=","$-"]),$=[function(t){print(t)}],n(i.stdout,"write_proc=",t.to_a($)),$[e($.length,1)],$=[function(t){print(t)}],n(i.stderr,"write_proc=",t.to_a($)),$[e($.length,1)]},Opal.modules["asciidoctor/js/opal_ext/nashorn/dir"]=function(a){a.top;var t=[],s=(a.nil,a.const_get_qualified,a.const_get_relative,a.breaker,a.slice,a.klass);return function(t,e,r){function n(){}var i=n=s(t,null,"Dir",n),$=(i.prototype,[i].concat(r));return function(t,e){var r;t.prototype,[t].concat(e);return a.def(t,"$pwd",r=function(){return Java.type("java.nio.file.Paths").get("").toAbsolutePath().toString()},r.$$arity=0),a.alias(t,"getwd","pwd")}(a.get_singleton_class(i),$)}(t[0],0,t)},Opal.modules["asciidoctor/js/opal_ext/nashorn/file"]=function(a){a.top;var t=[],s=a.nil,o=(a.const_get_qualified,a.const_get_relative,a.breaker,a.slice,a.klass);return function(t,e,r){function n(){}var i,$=n=o(t,null,"File",n);$.prototype,[$].concat(r);return a.defs($,"$read",i=function(t){var e=Java.type("java.nio.file.Paths"),r=Java.type("java.nio.file.Files"),n=r.readAllLines(e.get(t),Java.type("java.nio.charset.StandardCharsets").UTF_8),i=[];return n.forEach(function(t){i.push(t)}),i.join("\n")},i.$$arity=1),s&&"read"}(t[0],0,t)},Opal.modules["asciidoctor/js/opal_ext/nashorn"]=function(t){var e,r,n,i,$=t.top,a=[];t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;if(t.add_stubs(["$require"]),"object"==typeof o&&"object"==typeof o.runtime){var s=o.runtime;e=s.platform,r=s.engine,n=s.framework,i=s.ioModule}return i=i||"java_nio",e=e||"java",r=r||"nashorn",n=n||"",t.const_set(a[0],"JAVASCRIPT_IO_MODULE",i),t.const_set(a[0],"JAVASCRIPT_PLATFORM",e),t.const_set(a[0],"JAVASCRIPT_ENGINE",r),t.const_set(a[0],"JAVASCRIPT_FRAMEWORK",n),$.$require("asciidoctor/js/opal_ext/nashorn/io"),$.$require("asciidoctor/js/opal_ext/nashorn/dir"),$.$require("asciidoctor/js/opal_ext/nashorn/file")},Opal.modules.set=function(P){function z(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function L(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function D(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}P.top;var t=[],F=P.nil,B=(P.const_get_qualified,P.const_get_relative),q=(P.breaker,P.slice,P.klass),j=P.hash2,U=P.truthy,H=P.send,i=P.module;return P.add_stubs(["$include","$new","$nil?","$===","$raise","$each","$add","$merge","$class","$respond_to?","$subtract","$dup","$join","$to_a","$equal?","$instance_of?","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$-","$enum_for","$[]","$<<","$replace","$delete","$select","$each_key","$to_proc","$empty?","$eql?","$instance_eval","$clear","$<","$<=","$keys"]),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k,w,E,A,O,S,R,C,T,M=n=q(t,null,"Set",n),I=M.prototype,N=[M].concat(r);I.hash=F,M.$include(B(N,"Enumerable")),P.defs(M,"$[]",i=function(t){var e,r;return e=P.slice.call(arguments,0,arguments.length),r=e,this.$new(r)},i.$$arity=-1),P.def(M,"$initialize",$=function(t){var r,e=$.$$p,n=e||F;return e&&($.$$p=null),e&&($.$$p=null),null==t&&(t=F),this.hash=j([],{}),U(t["$nil?"]())?F:(U(B(N,"Enumerable")["$==="](t))||this.$raise(B(N,"ArgumentError"),"value must be enumerable"),U(n)?H(t,"each",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=F),e.$add(P.yield1(n,t))}).$$s=this,r.$$arity=1,r)):this.$merge(t))},$.$$arity=-1),P.def(M,"$dup",a=function(){return this.$class().$new().$merge(this)},a.$$arity=0),P.def(M,"$-",s=function(t){return U(t["$respond_to?"]("each"))||this.$raise(B(N,"ArgumentError"),"value must be enumerable"),this.$dup().$subtract(t)},s.$$arity=1),P.alias(M,"difference","-"),P.def(M,"$inspect",o=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},o.$$arity=0),P.def(M,"$==",l=function(t){var e,r;return!!U(this["$equal?"](t))||(U(t["$instance_of?"](this.$class()))?this.hash["$=="](t.$instance_variable_get("@hash")):!!U(U(e=t["$is_a?"](B(N,"Set")))?this.$size()["$=="](t.$size()):e)&&H(t,"all?",[],((r=function(t){var e=r.$$s||this;return null==e.hash&&(e.hash=F),null==t&&(t=F),e.hash["$include?"](t)}).$$s=this,r.$$arity=1,r)))},l.$$arity=1),P.def(M,"$add",c=function(t){var e=F;return e=[t,!0],H(this.hash,"[]=",P.to_a(e)),z(e.length,1),this},c.$$arity=1),P.alias(M,"<<","add"),P.def(M,"$classify",u=function(){var i,e,t=u.$$p,r=t||F,n=F;return t&&(u.$$p=null),t&&(u.$$p=null),r===F?this.$enum_for("classify"):(n=H(B(N,"Hash"),"new",[],((i=function(t,e){var r=i.$$s||this,n=F;return null==t&&(t=F),null==e&&(e=F),n=[e,r.$class().$new()],H(t,"[]=",P.to_a(n)),n[z(n.length,1)]}).$$s=this,i.$$arity=2,i)),H(this,"each",[],((e=function(t){e.$$s;return null==t&&(t=F),n["$[]"](P.yield1(r,t)).$add(t)}).$$s=this,e.$$arity=1,e)),n)},u.$$arity=0),P.def(M,"$collect!",_=function(){var e,t=_.$$p,r=t||F,n=F;return t&&(_.$$p=null),t&&(_.$$p=null),r===F?this.$enum_for("collect!"):(n=this.$class().$new(),H(this,"each",[],((e=function(t){e.$$s;return null==t&&(t=F),n["$<<"](P.yield1(r,t))}).$$s=this,e.$$arity=1,e)),this.$replace(n))},_.$$arity=0),P.alias(M,"map!","collect!"),P.def(M,"$delete",d=function(t){return this.hash.$delete(t),this},d.$$arity=1),P.def(M,"$delete?",h=function(t){return U(this["$include?"](t))?(this.$delete(t),this):F},h.$$arity=1),P.def(M,"$delete_if",f=function(){var e,r,t=f.$$p,n=t||F;return t&&(f.$$p=null),n===F?this.$enum_for("delete_if"):(H(H(this,"select",[],((e=function(t){e.$$s;return null==t&&(t=F),P.yield1(n,t)}).$$s=this,e.$$arity=1,e)),"each",[],((r=function(t){var e=r.$$s||this;return null==e.hash&&(e.hash=F),null==t&&(t=F),e.hash.$delete(t)}).$$s=this,r.$$arity=1,r)),this)},f.$$arity=0),P.def(M,"$add?",p=function(t){return U(this["$include?"](t))?F:this.$add(t)},p.$$arity=1),P.def(M,"$each",m=function(){var t=m.$$p,e=t||F;return t&&(m.$$p=null),t&&(m.$$p=null),e===F?this.$enum_for("each"):(H(this.hash,"each_key",[],e.$to_proc()),this)},m.$$arity=0),P.def(M,"$empty?",y=function(){return this.hash["$empty?"]()},y.$$arity=0),P.def(M,"$eql?",g=function(t){var e;return this.hash["$eql?"](H(t,"instance_eval",[],((e=function(){var t=e.$$s||this;return null==t.hash&&(t.hash=F),t.hash}).$$s=this,e.$$arity=0,e)))},g.$$arity=1),P.def(M,"$clear",b=function(){return this.hash.$clear(),this},b.$$arity=0),P.def(M,"$include?",v=function(t){return this.hash["$include?"](t)},v.$$arity=1),P.alias(M,"member?","include?"),P.def(M,"$merge",x=function(t){var r;return H(t,"each",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=F),e.$add(t)}).$$s=this,r.$$arity=1,r)),this},x.$$arity=1),P.def(M,"$replace",k=function(t){return this.$clear(),this.$merge(t),this},k.$$arity=1),P.def(M,"$size",w=function(){return this.hash.$size()},w.$$arity=0),P.alias(M,"length","size"),P.def(M,"$subtract",E=function(t){var r;return H(t,"each",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=F),e.$delete(t)}).$$s=this,r.$$arity=1,r)),this},E.$$arity=1),P.def(M,"$|",A=function(t){return U(t["$respond_to?"]("each"))||this.$raise(B(N,"ArgumentError"),"value must be enumerable"),this.$dup().$merge(t)},A.$$arity=1),P.def(M,"$superset?",O=function(t){var r;return U(t["$is_a?"](B(N,"Set")))||this.$raise(B(N,"ArgumentError"),"value must be a set"),!U(L(this.$size(),t.$size()))&&H(t,"all?",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=F),e["$include?"](t)}).$$s=this,r.$$arity=1,r))},O.$$arity=1),P.alias(M,">=","superset?"),P.def(M,"$proper_superset?",S=function(t){var r;return U(t["$is_a?"](B(N,"Set")))||this.$raise(B(N,"ArgumentError"),"value must be a set"),!U(D(this.$size(),t.$size()))&&H(t,"all?",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=F),e["$include?"](t)}).$$s=this,r.$$arity=1,r))},S.$$arity=1),P.alias(M,">","proper_superset?"),P.def(M,"$subset?",R=function(e){var r;return U(e["$is_a?"](B(N,"Set")))||this.$raise(B(N,"ArgumentError"),"value must be a set"),!U(L(e.$size(),this.$size()))&&H(this,"all?",[],((r=function(t){r.$$s;return null==t&&(t=F),e["$include?"](t)}).$$s=this,r.$$arity=1,r))},R.$$arity=1),P.alias(M,"<=","subset?"),P.def(M,"$proper_subset?",C=function(e){var r;return U(e["$is_a?"](B(N,"Set")))||this.$raise(B(N,"ArgumentError"),"value must be a set"),!U(D(e.$size(),this.$size()))&&H(this,"all?",[],((r=function(t){r.$$s;return null==t&&(t=F),e["$include?"](t)}).$$s=this,r.$$arity=1,r))},C.$$arity=1),P.alias(M,"<","proper_subset?"),P.alias(M,"+","|"),P.alias(M,"union","|"),P.def(M,"$to_a",T=function(){return this.hash.$keys()},T.$$arity=0)}(t[0],0,t),function(t,e){function r(){}var o,n=r=i(t,"Enumerable",r),l=(n.prototype,[n].concat(e));P.def(n,"$to_set",o=function(t,e){var r,n,i,$=o.$$p,a=$||F,s=this;return $&&(o.$$p=null),$&&(o.$$p=null),0<(r=P.slice.call(arguments,0,arguments.length)).length&&(n=r[0],r.splice(0,1)),null==n&&(n=B(l,"Set")),i=r,H(n,"new",[s].concat(P.to_a(i)),a.$to_proc())},o.$$arity=-1)}(t[0],t)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(_){_.top;var t=[],d=_.nil,h=(_.const_get_qualified,_.const_get_relative),i=(_.breaker,_.slice,_.module),l=_.send,f=_.klass,p=_.truthy,m=_.gvars;return _.add_stubs(["$new","$attr_reader","$delete","$gsub","$read","$size","$to_enum","$chomp","$each_line","$readlines","$split"]),function(t,e){function r(){}var s,n=r=i(t,"Kernel",r),o=(n.prototype,[n].concat(e));_.def(n,"$open",s=function(t,e){var r,n,i=s.$$p,$=i||d,a=d;return i&&(s.$$p=null),r=_.slice.call(arguments,1,arguments.length),n=r,a=l(h(o,"File"),"new",[t].concat(_.to_a(n))),$!==d?_.yield1($,a):a},s.$$arity=-2)}(t[0],t),function(t,e,r){function n(){}var i,$,c,a,s=n=f(t,null,"File",n),o=s.prototype,u=[s].concat(r);o.eof=o.path=d,s.$attr_reader("eof"),s.$attr_reader("lineno"),s.$attr_reader("path"),_.def(s,"$initialize",i=function(t,e){var r=d;return null==e&&(e="r"),this.path=t,this.contents=d,this.eof=!1,this.lineno=0,e=e.$delete("b"),r=/:(.*)/,e=e.$gsub(r,""),this.flags=e},i.$$arity=-2),_.def(s,"$read",$=function(){var t=d;return p(this.eof)?"":(t=h(u,"File").$read(this.path),this.eof=!0,this.lineno=t.$size(),t)},$.$$arity=0),_.def(s,"$each_line",c=function(t){var e=c.$$p,r=e||d,n=this,i=d;if(null==m["/"]&&(m["/"]=d),e&&(c.$$p=null),e&&(c.$$p=null),null==t&&(t=m["/"]),p(n.eof))return r!==d?n:[].$to_enum();if(r===d)return n.$read().$each_line();i=h(u,"File").$read(n.path),n.eof=!1,n.lineno=0;for(var $=i.$chomp(),a=i.length!=$.length,s=$.split(t),o=0,l=s.length;o<l;o++)n.lineno+=1,o<l-1||a?_.yield1(r,s[o]+t):_.yield1(r,s[o]);return n.eof=!0,n},c.$$arity=-1),_.def(s,"$readlines",a=function(){return h(u,"File").$readlines(this.path)},a.$$arity=0),function(t,e){t.prototype;var r,n,i,$,a=[t].concat(e);_.def(t,"$readlines",r=function(t,e){return null==m["/"]&&(m["/"]=d),null==e&&(e=m["/"]),h(a,"File").$read(t).$split(e)},r.$$arity=-2),_.def(t,"$file?",n=function(t){return!0},n.$$arity=1),_.def(t,"$readable?",i=function(t){return!0},i.$$arity=1),_.def(t,"$read",$=function(t){return""},$.$$arity=1)}(_.get_singleton_class(s),u)}(t[0],0,t),function(t,e,r){function n(){}var i,$=n=f(t,null,"IO",n),a=($.prototype,[$].concat(r));return _.defs($,"$read",i=function(t){return h(a,"File").$read(t)},i.$$arity=1),d&&"read"}(t[0],0,t)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(s){s.top;var t=[],o=s.nil,l=(s.const_get_qualified,s.const_get_relative,s.breaker,s.slice,s.klass),c=s.send;return s.add_stubs(["$[]=","$-"]),function(t,e,r){function n(){}var i,$=n=l(t,null,"MatchData",n),a=$.prototype;[$].concat(r);return a.matches=o,s.def($,"$[]=",i=function(t,e){var r,n,i=o;return i=[t,e],c(this.matches,"[]=",s.to_a(i)),i[(r=i.length,n=1,"number"==typeof r&&"number"==typeof n?r-n:r["$-"](n))]},i.$$arity=2),o&&"[]="}(t[0],0,t)},Opal.modules["asciidoctor/js/opal_ext/kernel"]=function($){$.top;var t=[],a=($.nil,$.const_get_qualified,$.const_get_relative,$.breaker,$.slice,$.module);return function(t,e){function r(){}var n,i=r=a(t,"Kernel",r);i.prototype,[i].concat(e);$.def(i,"$freeze",n=function(){return this},n.$$arity=0)}(t[0],t)},Opal.modules["asciidoctor/js/opal_ext/thread_safe"]=function(t){t.top;var e=[],$=(t.nil,t.const_get_qualified),a=(t.const_get_relative,t.breaker,t.slice,t.module),s=t.klass;return function(t,e){function r(){}var n=r=a(t,"ThreadSafe",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var i=n=s(t,e,"Cache",n);i.prototype,[i].concat(r)}(i[0],$("::","Hash"),i)}(e[0],e)},Opal.modules["asciidoctor/js/opal_ext/string"]=function(s){s.top;var t=[],o=s.nil,l=(s.const_get_qualified,s.const_get_relative,s.breaker,s.slice,s.klass),c=s.truthy,u=s.send;return s.add_stubs(["$method_defined?","$<","$length","$bytes","$to_s","$byteslice","$==","$with_index","$select","$[]","$even?","$_original_unpack"]),function(t,e,r){function n(){}var i,$,a=n=l(t,null,"String",n);a.prototype,[a].concat(r);return c(a["$method_defined?"]("limit_bytesize"))||s.def(a,"$limit_bytesize",i=function(t){var e,r;return c((e=t,r=this.$bytes().$length(),"number"==typeof e&&"number"==typeof r?e<r:e["$<"](r)))?this.$byteslice(0,t).$to_s():this.$to_s()},i.$$arity=1),c(a["$method_defined?"]("limit"))||s.alias(a,"limit","limit_bytesize"),s.alias(a,"_original_unpack","unpack"),s.def(a,"$unpack",$=function(t){var r;return t["$=="]("C3")?u(this["$[]"](0,3).$bytes().$select(),"with_index",[],((r=function(t,e){r.$$s;return null==t&&(t=o),null==e&&(e=o),e["$even?"]()}).$$s=this,r.$$arity=2,r)):this.$_original_unpack(t)},$.$$arity=1),o&&"unpack"}(t[0],0,t)},Opal.modules["asciidoctor/js/opal_ext/uri"]=function(s){s.top;var t=[],o=(s.nil,s.const_get_qualified,s.const_get_relative),l=(s.breaker,s.slice,s.module);return s.add_stubs(["$extend"]),function(t,e){function r(){}var n,i,$=r=l(t,"URI",r),a=($.prototype,[$].concat(e));s.defs($,"$parse",n=function(t){return t.$extend(o(a,"URI"))},n.$$arity=1),s.def($,"$path",i=function(){return this},i.$$arity=0)}(t[0],t)},Opal.modules["asciidoctor/js/opal_ext"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext/file"),e.$require("asciidoctor/js/opal_ext/match_data"),e.$require("asciidoctor/js/opal_ext/kernel"),e.$require("asciidoctor/js/opal_ext/thread_safe"),e.$require("asciidoctor/js/opal_ext/string"),e.$require("asciidoctor/js/opal_ext/uri"),e.$require("asciidoctor/js/opal_ext/nashorn")},Opal.modules["asciidoctor/js/rx"]=function(a){function s(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}a.top;var t=[],o=a.nil,l=(a.const_get_qualified,a.const_get_relative),c=(a.breaker,a.slice,a.module),u=a.send,_=a.gvars,d=a.truthy;return a.add_stubs(["$gsub","$+","$unpack_hex_range"]),function(t,e){function r(){}var n,i=r=c(t,"Asciidoctor",r),$=(i.prototype,[i].concat(e));a.const_set($[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/),a.defs(i,"$unpack_hex_range",n=function(t){var r;return u(t,"gsub",[l($,"HEX_RANGE_RX")],((r=function(){var t,e;r.$$s;return"\\u"+((t=_["~"])===o?o:t["$[]"](1))+(d(t=(e=_["~"])===o?o:e["$[]"](2))?"-\\u"+((e=_["~"])===o?o:e["$[]"](2)):t)}).$$s=this,r.$$arity=0,r))},n.$$arity=1),a.const_set($[0],"P_L",s("A-Za-z",i.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"))),a.const_set($[0],"P_Nl",i.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF")),a.const_set($[0],"P_Nd",s("0-9",i.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19"))),a.const_set($[0],"P_Pc",i.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F")),a.const_set($[0],"CC_ALPHA",""+l($,"P_L")+l($,"P_Nl")),a.const_set($[0],"CG_ALPHA","["+l($,"CC_ALPHA")+"]"),a.const_set($[0],"CC_ALNUM",""+l($,"CC_ALPHA")+l($,"P_Nd")),a.const_set($[0],"CG_ALNUM","["+l($,"CC_ALNUM")+"]"),a.const_set($[0],"CC_WORD",""+l($,"CC_ALNUM")+l($,"P_Pc")),a.const_set($[0],"CG_WORD","["+l($,"CC_WORD")+"]"),a.const_set($[0],"CG_BLANK","[ \\t]"),a.const_set($[0],"CC_EOL","(?=\\n|$)"),a.const_set($[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),a.const_set($[0],"CC_ALL","[\\s\\S]"),a.const_set($[0],"CC_ANY","[^\\n]")}(t[0],t)},Opal.modules.strscan=function(T){T.top;var t=[],M=T.nil,I=(T.const_get_qualified,T.const_get_relative,T.breaker,T.slice,T.klass),N=T.send;return T.add_stubs(["$attr_reader","$anchor","$scan_until","$length","$size","$rest","$pos=","$-","$private"]),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k,w,E,A,O,S,R=n=I(t,null,"StringScanner",n),C=R.prototype;[R].concat(r);return C.pos=C.string=C.working=C.matched=C.prev_pos=C.match=M,R.$attr_reader("pos"),R.$attr_reader("matched"),T.def(R,"$initialize",i=function(t){return this.string=t,this.pos=0,this.matched=M,this.working=t,this.match=[]},i.$$arity=1),R.$attr_reader("string"),T.def(R,"$beginning_of_line?",$=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},$.$$arity=0),T.alias(R,"bol?","beginning_of_line?"),T.def(R,"$scan",a=function(t){var e=this,r=(t=e.$anchor(t)).exec(e.working);return null==r?e.matched=M:"object"==typeof r?(e.prev_pos=e.pos,e.pos+=r[0].length,e.working=e.working.substring(r[0].length),e.matched=r[0],(e.match=r)[0]):"string"==typeof r?(e.pos+=r.length,e.working=e.working.substring(r.length),r):M},a.$$arity=1),T.def(R,"$scan_until",s=function(t){var e=this;t=e.$anchor(t);for(var r,n=e.pos,i=e.working;;){if(r=t.exec(i),n+=1,i=i.substr(1),null!=r)return e.matched=e.string.substr(e.pos,n-e.pos-1+r[0].length),e.prev_pos=n-1,e.pos=n,e.working=i.substr(r[0].length),e.matched;if(0===i.length)return e.matched=M}},s.$$arity=1),T.def(R,"$[]",o=function(t){var e=this.match;return t<0&&(t+=e.length),t<0||t>=e.length?M:null==e[t]?M:e[t]},o.$$arity=1),T.def(R,"$check",l=function(t){var e=(t=this.$anchor(t)).exec(this.working);return this.matched=null==e?M:e[0]},l.$$arity=1),T.def(R,"$check_until",c=function(t){var e=this.prev_pos,r=this.pos,n=this.$scan_until(t);return n!==M&&(this.matched=n.substr(-1),this.working=this.string.substr(r)),this.prev_pos=e,this.pos=r,n},c.$$arity=1),T.def(R,"$peek",u=function(t){return this.working.substring(0,t)},u.$$arity=1),T.def(R,"$eos?",_=function(){return 0===this.working.length},_.$$arity=0),T.def(R,"$exist?",d=function(t){var e=t.exec(this.working);return null==e?M:0==e.index?0:e.index+1},d.$$arity=1),T.def(R,"$skip",h=function(t){var e=(t=this.$anchor(t)).exec(this.working);if(null==e)return this.matched=M;var r=e[0],n=r.length;return this.matched=r,this.prev_pos=this.pos,this.pos+=n,this.working=this.working.substring(n),n},h.$$arity=1),T.def(R,"$skip_until",f=function(t){var e=this.$scan_until(t);return e===M?M:(this.matched=e.substr(-1),e.length)},f.$$arity=1),T.def(R,"$get_byte",p=function(){var t=this,e=M;return t.pos<t.string.length?(t.prev_pos=t.pos,t.pos+=1,e=t.matched=t.working.substring(0,1),t.working=t.working.substring(1)):t.matched=M,e},p.$$arity=0),T.alias(R,"getch","get_byte"),T.def(R,"$match?",m=function(t){var e=(t=this.$anchor(t)).exec(this.working);return null==e?M:(this.prev_pos=this.pos,e[0].length)},m.$$arity=1),T.def(R,"$pos=",y=function(t){return t<0&&(t+=this.string.$length()),this.pos=t,this.working=this.string.slice(t)},y.$$arity=1),T.def(R,"$matched_size",g=function(){return this.matched===M?M:this.matched.length},g.$$arity=0),T.def(R,"$post_match",b=function(){return this.matched===M?M:this.string.substr(this.pos)},b.$$arity=0),T.def(R,"$pre_match",v=function(){return this.matched===M?M:this.string.substr(0,this.prev_pos)},v.$$arity=0),T.def(R,"$reset",x=function(){return this.working=this.string,this.matched=M,this.pos=0},x.$$arity=0),T.def(R,"$rest",k=function(){return this.working},k.$$arity=0),T.def(R,"$rest?",w=function(){return 0!==this.working.length},w.$$arity=0),T.def(R,"$rest_size",E=function(){return this.$rest().$size()},E.$$arity=0),T.def(R,"$terminate",A=function(){var t,e,r=M;return this.match=M,r=[this.string.$length()],N(this,"pos=",T.to_a(r)),r[(t=r.length,e=1,"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e))]},A.$$arity=0),T.def(R,"$unscan",O=function(){return this.pos=this.prev_pos,this.prev_pos=M,this.match=M,this},O.$$arity=0),R.$private(),T.def(R,"$anchor",S=function(t){var e=t.toString().match(/\/([^\/]+)$/);return e=e?e[1]:void 0,new RegExp("^(?:"+t.source+")",e)},S.$$arity=1),M&&"anchor"}(t[0],0,t)},Opal.modules["asciidoctor/js"]=function(t){var e=t.top;t.nil,t.const_get_qualified,t.const_get_relative,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext"),e.$require("asciidoctor/js/rx"),e.$require("strscan")},Opal.modules.logger=function(x){function k(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}x.top;var t=[],w=x.nil,E=x.const_get_qualified,A=x.const_get_relative,O=(x.breaker,x.slice,x.klass),S=x.module,R=x.send,C=x.truthy;return x.add_stubs(["$include","$to_h","$map","$constants","$const_get","$to_s","$format","$chr","$strftime","$message_as_string","$===","$+","$message","$class","$join","$backtrace","$inspect","$attr_reader","$attr_accessor","$new","$key","$upcase","$raise","$add","$to_proc","$<=","$<","$write","$call","$[]","$now"]),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g=n=O(t,null,"Logger",n),b=g.prototype,v=[g].concat(r);return b.level=b.progname=b.pipe=b.formatter=w,function(t,e){function r(){}var n=r=S(t,"Severity",r),i=(n.prototype,[n].concat(e));x.const_set(i[0],"DEBUG",0),x.const_set(i[0],"INFO",1),x.const_set(i[0],"WARN",2),x.const_set(i[0],"ERROR",3),x.const_set(i[0],"FATAL",4),x.const_set(i[0],"UNKNOWN",5)}(v[0],v),g.$include(A(v,"Severity")),x.const_set(v[0],"SEVERITY_LABELS",R(A(v,"Severity").$constants(),"map",[],(i=function(t){i.$$s;return null==t&&(t=w),[A(v,"Severity").$const_get(t),t.$to_s()]},i.$$s=g,i.$$arity=1,i)).$to_h()),function(t,e,r){function n(){}var i,$,a=n=O(t,null,"Formatter",n),s=(a.prototype,[a].concat(r));x.const_set(s[0],"MESSAGE_FORMAT","%s, [%s] %5s -- %s: %s\n"),x.const_set(s[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N"),x.def(a,"$call",i=function(t,e,r,n){return this.$format(A(s,"MESSAGE_FORMAT"),t.$chr(),e.$strftime(A(s,"DATE_TIME_FORMAT")),t,r,this.$message_as_string(n))},i.$$arity=4),x.def(a,"$message_as_string",$=function(t){var e,r,n,i=w;return i=t,E("::","String")["$==="](i)?t:E("::","Exception")["$==="](i)?(r=t.$message()+" ("+t.$class()+")\n",n=(C(e=t.$backtrace())?e:[]).$join("\n"),"number"==typeof r&&"number"==typeof n?r+n:r["$+"](n)):t.$inspect()},$.$$arity=1)}(v[0],0,v),g.$attr_reader("level"),g.$attr_accessor("progname"),g.$attr_accessor("formatter"),x.def(g,"$initialize",$=function(t){return this.pipe=t,this.level=A(v,"DEBUG"),this.formatter=A(v,"Formatter").$new()},$.$$arity=1),x.def(g,"$level=",a=function(t){var e=w;return C(E("::","Integer")["$==="](t))?this.level=t:C(e=A(v,"SEVERITY_LABELS").$key(t.$to_s().$upcase()))?this.level=e:this.$raise(A(v,"ArgumentError"),"invalid log level: "+t)},a.$$arity=1),x.def(g,"$info",s=function(t){var e=s.$$p,r=e||w;return e&&(s.$$p=null),e&&(s.$$p=null),null==t&&(t=w),R(this,"add",[A(v,"INFO"),w,t],r.$to_proc())},s.$$arity=-1),x.def(g,"$debug",o=function(t){var e=o.$$p,r=e||w;return e&&(o.$$p=null),e&&(o.$$p=null),null==t&&(t=w),R(this,"add",[A(v,"DEBUG"),w,t],r.$to_proc())},o.$$arity=-1),x.def(g,"$warn",l=function(t){var e=l.$$p,r=e||w;return e&&(l.$$p=null),e&&(l.$$p=null),null==t&&(t=w),R(this,"add",[A(v,"WARN"),w,t],r.$to_proc())},l.$$arity=-1),x.def(g,"$error",c=function(t){var e=c.$$p,r=e||w;return e&&(c.$$p=null),e&&(c.$$p=null),null==t&&(t=w),R(this,"add",[A(v,"ERROR"),w,t],r.$to_proc())},c.$$arity=-1),x.def(g,"$fatal",u=function(t){var e=u.$$p,r=e||w;return e&&(u.$$p=null),e&&(u.$$p=null),null==t&&(t=w),R(this,"add",[A(v,"FATAL"),w,t],r.$to_proc())},u.$$arity=-1),x.def(g,"$unknown",_=function(t){var e=_.$$p,r=e||w;return e&&(_.$$p=null),e&&(_.$$p=null),null==t&&(t=w),R(this,"add",[A(v,"UNKNOWN"),w,t],r.$to_proc())},_.$$arity=-1),x.def(g,"$info?",d=function(){return k(this.level,A(v,"INFO"))},d.$$arity=0),x.def(g,"$debug?",h=function(){return k(this.level,A(v,"DEBUG"))},h.$$arity=0),x.def(g,"$warn?",f=function(){return k(this.level,A(v,"WARN"))},f.$$arity=0),x.def(g,"$error?",p=function(){return k(this.level,A(v,"ERROR"))},p.$$arity=0),x.def(g,"$fatal?",m=function(){return k(this.level,A(v,"FATAL"))},m.$$arity=0),x.def(g,"$add",y=function(t,e,r){var n,i,$,a=y.$$p,s=a||w;return a&&(y.$$p=null),a&&(y.$$p=null),null==e&&(e=w),null==r&&(r=w),C((i=t=C(n=t)?n:A(v,"UNKNOWN"),$=this.level,"number"==typeof i&&"number"==typeof $?i<$:i["$<"]($)))||(r=C(n=r)?n:this.progname,C(e)||(s!==w?e=x.yieldX(s,[]):(e=r,r=this.progname)),this.pipe.$write(this.formatter.$call(C(n=A(v,"SEVERITY_LABELS")["$[]"](t))?n:"ANY",E("::","Time").$now(),r,e))),!0},y.$$arity=-2),w&&"add"}(t[0],0,t)},Opal.modules["asciidoctor/logging"]=function(d){function h(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function c(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}var t=d.top,e=[],f=d.nil,p=d.const_get_qualified,m=d.const_get_relative,u=(d.breaker,d.slice,d.module),y=d.klass,g=d.send,b=d.truthy,v=d.hash2,a=d.gvars;return d.add_stubs(["$require","$attr_reader","$progname=","$-","$new","$formatter=","$level=","$>","$[]","$===","$inspect","$map","$constants","$const_get","$to_sym","$<<","$clear","$empty?","$max","$attr_accessor","$memoize_logger","$private","$alias_method","$==","$define_method","$extend","$logger","$merge"]),t.$require("logger"),function(t,e){function r(){}var n=r=u(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var s,o,i=n=y(t,e,"Logger",n),$=i.prototype,l=[i].concat(r);$.max_severity=f,i.$attr_reader("max_severity"),d.def(i,"$initialize",s=function(t){var e,r=s.$$p,n=f,i=f,$=f,a=f;for(r&&(s.$$p=null),$=0,a=arguments.length,i=new Array(a);$<a;$++)i[$]=arguments[$];return e=d.slice.call(arguments,0,arguments.length),e,g(this,d.find_super_dispatcher(this,"initialize",s,!1),i,r),n=["asciidoctor"],g(this,"progname=",d.to_a(n)),n[h(n.length,1)],n=[m(l,"BasicFormatter").$new()],g(this,"formatter=",d.to_a(n)),n[h(n.length,1)],n=[m(l,"WARN")],g(this,"level=",d.to_a(n)),n[h(n.length,1)]},s.$$arity=-1),d.def(i,"$add",o=function(t,e,r){var n,i=o.$$p,$=f,a=f,s=f;for(i&&(o.$$p=null),a=0,s=arguments.length,$=new Array(s);a<s;a++)$[a]=arguments[a];return null==e&&(e=f),null==r&&(r=f),b(c(t=b(n=t)?n:m(l,"UNKNOWN"),this.max_severity=b(n=this.max_severity)?n:t))&&(this.max_severity=t),g(this,d.find_super_dispatcher(this,"add",o,!1),$,i)},o.$$arity=-2),function(t,e,r){function n(){}var i,$=n=y(t,e,"BasicFormatter",n),a=($.prototype,[$].concat(r));d.const_set(a[0],"SEVERITY_LABELS",v(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"})),d.def($,"$call",i=function(t,e,r,n){var i;return r+": "+(b(i=m(a,"SEVERITY_LABELS")["$[]"](t))?i:t)+": "+(b(p("::","String")["$==="](n))?n:n.$inspect())+"\n"},i.$$arity=4)}(l[0],m(l,"Formatter"),l),function(t,e){function r(){}var n,i=r=u(t,"AutoFormattingMessage",r);i.prototype,[i].concat(e);d.def(i,"$inspect",n=function(){var t=f;return b(t=this["$[]"]("source_location"))?t+": "+this["$[]"]("text"):this["$[]"]("text")},n.$$arity=0)}(l[0],l)}(i[0],p("::","Logger"),i),function(t,e,r){function n(){}var i,$,a,s,o,l,c=n=y(t,e,"MemoryLogger",n),u=c.prototype,_=[c].concat(r);u.messages=f,d.const_set(_[0],"SEVERITY_LABELS",p("::","Hash")["$[]"](g(m(_,"Severity").$constants(),"map",[],((i=function(t){i.$$s;return null==t&&(t=f),[m(_,"Severity").$const_get(t),t.$to_sym()]}).$$s=c,i.$$arity=1,i)))),c.$attr_reader("messages"),d.def(c,"$initialize",$=function(){var t=f;return t=[m(_,"WARN")],g(this,"level=",d.to_a(t)),h(t.length,1),this.messages=[]},$.$$arity=0),d.def(c,"$add",a=function(t,e,r){var n,i=a.$$p,$=i||f;return i&&(a.$$p=null),null==e&&(e=f),null==r&&(r=f),b(e)||(e=$!==f?d.yieldX($,[]):r),this.messages["$<<"](v(["severity","message"],{severity:m(_,"SEVERITY_LABELS")["$[]"](b(n=t)?n:m(_,"UNKNOWN")),message:e})),!0},a.$$arity=-2),d.def(c,"$clear",s=function(){return this.messages.$clear()},s.$$arity=0),d.def(c,"$empty?",o=function(){return this.messages["$empty?"]()},o.$$arity=0),d.def(c,"$max_severity",l=function(){var e;return b(this["$empty?"]())?f:g(this.messages,"map",[],(e=function(t){e.$$s;return null==t&&(t=f),m(_,"Severity").$const_get(t["$[]"]("severity"))},e.$$s=this,e.$$arity=1,e)).$max()},l.$$arity=0)}(i[0],p("::","Logger"),i),function(t,e,r){function n(){}var i,$,a=n=y(t,e,"NullLogger",n),s=a.prototype,o=[a].concat(r);s.max_severity=f,a.$attr_reader("max_severity"),d.def(a,"$initialize",i=function(){return f},i.$$arity=0),d.def(a,"$add",$=function(t,e,r){var n;return null==e&&(e=f),null==r&&(r=f),b(c(t=b(n=t)?n:m(o,"UNKNOWN"),this.max_severity=b(n=this.max_severity)?n:t))&&(this.max_severity=t),!0},$.$$arity=-2)}(i[0],p("::","Logger"),i),function(t,e){function r(){}var n=r=u(t,"LoggerManager",r),i=(n.prototype,[n].concat(e));n.logger_class=m(i,"Logger"),function(t,e){t.prototype;var r,n,i,$=[t].concat(e);t.$attr_accessor("logger_class"),d.def(t,"$logger",r=function(t){var e;return null==this.logger&&(this.logger=f),null==this.logger_class&&(this.logger_class=f),null==a.stderr&&(a.stderr=f),null==t&&(t=a.stderr),this.$memoize_logger(),this.logger=b(e=this.logger)?e:this.logger_class.$new(t)},r.$$arity=-1),d.def(t,"$logger=",n=function(t){var e;return null==this.logger_class&&(this.logger_class=f),null==a.stderr&&(a.stderr=f),this.logger=b(e=t)?e:this.logger_class.$new(a.stderr)},n.$$arity=1),t.$private(),d.def(t,"$memoize_logger",i=function(){return function(t,e){t.prototype;var r,n=[t].concat(e);return t.$alias_method("logger","logger"),m(n,"RUBY_ENGINE")["$=="]("opal")?g(t,"define_method",["logger"],((r=function(){var t=r.$$s||this;return null==t.logger&&(t.logger=f),t.logger}).$$s=t,r.$$arity=0,r)):f}(d.get_singleton_class(this),$)},i.$$arity=0)}(d.get_singleton_class(n),i)}(i[0],i),function(t,e){function r(){}var n,i,$,a=r=u(t,"Logging",r),s=(a.prototype,[a].concat(e));d.defs(a,"$included",n=function(t){return t.$extend(m(s,"Logging"))},n.$$arity=1),a.$private(),d.def(a,"$logger",i=function(){return m(s,"LoggerManager").$logger()},i.$$arity=0),d.def(a,"$message_with_context",$=function(t,e){return null==e&&(e=v([],{})),v(["text"],{text:t}).$merge(e).$extend(p(m(s,"Logger"),"AutoFormattingMessage"))},$.$$arity=-2)}(i[0],i)}(e[0],e)},Opal.modules["asciidoctor/timings"]=function(x){function k(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}x.top;var t=[],w=x.nil,E=x.const_get_qualified,A=x.const_get_relative,$=(x.breaker,x.slice,x.module),O=x.klass,S=x.hash2,R=x.send,C=x.truthy,T=x.gvars;return x.add_stubs(["$now","$[]=","$-","$delete","$reduce","$+","$[]","$>","$time","$puts","$%","$to_f","$read_parse","$convert","$read_parse_convert","$const_defined?","$respond_to?","$clock_gettime"]),function(t,e){function r(){}var n=r=$(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g=n=O(t,null,"Timings",n),b=g.prototype,v=[g].concat(r);b.timers=b.log=w,x.def(g,"$initialize",i=function(){return this.log=S([],{}),this.timers=S([],{})},i.$$arity=0),x.def(g,"$start",$=function(t){var e=w;return e=[t,this.$now()],R(this.timers,"[]=",x.to_a(e)),e[k(e.length,1)]},$.$$arity=1),x.def(g,"$record",a=function(t){var e=w;return e=[t,k(this.$now(),this.timers.$delete(t))],R(this.log,"[]=",x.to_a(e)),e[k(e.length,1)]},a.$$arity=1),x.def(g,"$time",s=function(t){var e,a,r,n,i=w;return e=x.slice.call(arguments,0,arguments.length),i=R(e,"reduce",[0],((a=function(t,e){var r,n,i,$=a.$$s||this;return null==$.log&&($.log=w),null==t&&(t=w),null==e&&(e=w),n=t,i=C(r=$.log["$[]"](e))?r:0,"number"==typeof n&&"number"==typeof i?n+i:n["$+"](i)}).$$s=this,a.$$arity=2,a)),C((n=0,"number"==typeof(r=i)&&"number"==typeof n?n<r:r["$>"](n)))?i:w},s.$$arity=-1),x.def(g,"$read",o=function(){return this.$time("read")},o.$$arity=0),x.def(g,"$parse",l=function(){return this.$time("parse")},l.$$arity=0),x.def(g,"$read_parse",c=function(){return this.$time("read","parse")},c.$$arity=0),x.def(g,"$convert",u=function(){return this.$time("convert")},u.$$arity=0),x.def(g,"$read_parse_convert",_=function(){return this.$time("read","parse","convert")},_.$$arity=0),x.def(g,"$write",d=function(){return this.$time("write")},d.$$arity=0),x.def(g,"$total",h=function(){return this.$time("read","parse","convert","write")},h.$$arity=0),x.def(g,"$print_report",f=function(t,e){return null==T.stdout&&(T.stdout=w),null==t&&(t=T.stdout),null==e&&(e=w),C(e)&&t.$puts("Input file: "+e),t.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f())),t.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f())),t.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},f.$$arity=-1),C(C(p=E("::","Process")["$const_defined?"]("CLOCK_MONOTONIC"))?E("::","Process")["$respond_to?"]("clock_gettime"):p)?(x.const_set(v[0],"CLOCK_ID",E(E("::","Process"),"CLOCK_MONOTONIC")),x.def(g,"$now",m=function(){return E("::","Process").$clock_gettime(A(v,"CLOCK_ID"))},m.$$arity=0)):x.def(g,"$now",y=function(){return E("::","Time").$now()},y.$$arity=0)}(i[0],0,i)}(t[0],t)},Opal.modules["asciidoctor/version"]=function($){$.top;var t=[],a=($.nil,$.const_get_qualified,$.const_get_relative,$.breaker,$.slice,$.module);return function(t,e){function r(){}var n=r=a(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));$.const_set(i[0],"VERSION","1.5.8")}(t[0],t)},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function($){$.top;var t=[],a=$.nil,s=($.const_get_qualified,$.const_get_relative,$.breaker,$.slice,$.klass),o=$.truthy;return $.add_stubs(["$method_defined?"]),function(t,e,r){function n(){}var i=n=s(t,null,"NilClass",n);i.prototype,[i].concat(r);o(i["$method_defined?"]("nil_or_empty?"))||$.alias(i,"nil_or_empty?","nil?")}(t[0],0,t),function(t,e,r){function n(){}var i=n=s(t,null,"String",n);i.prototype,[i].concat(r);o(i["$method_defined?"]("nil_or_empty?"))||$.alias(i,"nil_or_empty?","empty?")}(t[0],0,t),function(t,e,r){function n(){}var i=n=s(t,null,"Array",n);i.prototype,[i].concat(r);o(i["$method_defined?"]("nil_or_empty?"))||$.alias(i,"nil_or_empty?","empty?")}(t[0],0,t),function(t,e,r){function n(){}var i=n=s(t,null,"Hash",n);i.prototype,[i].concat(r);o(i["$method_defined?"]("nil_or_empty?"))||$.alias(i,"nil_or_empty?","empty?")}(t[0],0,t),function(t,e,r){function n(){}var i=n=s(t,null,"Numeric",n);i.prototype,[i].concat(r);return o(i["$method_defined?"]("nil_or_empty?"))?a:$.alias(i,"nil_or_empty?","nil?")}(t[0],0,t)},Opal.modules["asciidoctor/core_ext/regexp/is_match"]=function($){$.top;var t=[],a=$.nil,s=($.const_get_qualified,$.const_get_relative,$.breaker,$.slice,$.klass),o=$.truthy;return $.add_stubs(["$method_defined?"]),function(t,e,r){function n(){}var i=n=s(t,null,"Regexp",n);i.prototype,[i].concat(r);return o(i["$method_defined?"]("match?"))?a:$.alias(i,"match?","===")}(t[0],0,t)},Opal.modules["asciidoctor/core_ext/string/limit_bytesize"]=function(a){a.top;var t=[],s=a.nil,o=a.const_get_qualified,l=(a.const_get_relative,a.breaker,a.slice,a.klass),c=a.truthy;return a.add_stubs(["$method_defined?","$<","$bytesize","$valid_encoding?","$force_encoding","$byteslice","$-"]),function(t,e,r){function n(){}var i,$=n=l(t,null,"String",n);$.prototype,[$].concat(r);return c($["$method_defined?"]("limit_bytesize"))?s:(a.def($,"$limit_bytesize",i=function(t){var e,r,n,i,$=s;if(!c((e=t,r=this.$bytesize(),"number"==typeof e&&"number"==typeof r?e<r:e["$<"](r))))return this;for(;!c(($=this.$byteslice(0,t)).$force_encoding(o(o("::","Encoding"),"UTF_8"))["$valid_encoding?"]());)i=1,t="number"==typeof(n=t)&&"number"==typeof i?n-i:n["$-"](i);return $},i.$$arity=1),s&&"limit_bytesize")}(t[0],0,t)},Opal.modules["asciidoctor/core_ext/1.8.7/io/binread"]=function(t){t.top;var e,i=[],$=t.nil,a=(t.const_get_qualified,t.const_get_relative),s=(t.breaker,t.slice,t.truthy),o=t.send;return t.add_stubs(["$respond_to?","$open","$==","$seek","$read"]),s(a(i,"IO")["$respond_to?"]("binread"))?$:(t.defs(a(i,"IO"),"$binread",e=function(t,e,r){var n;return null==e&&(e=$),null==r&&(r=0),o(a(i,"File"),"open",[t,"rb"],((n=function(t){n.$$s;return null==t&&(t=$),r["$=="](0)||t.$seek(r),s(e)?t.$read(e):t.$read()}).$$s=this,n.$$arity=1,n))},e.$$arity=-2),$&&"binread")},Opal.modules["asciidoctor/core_ext/1.8.7/io/write"]=function(t){t.top;var e,$=[],a=t.nil,s=(t.const_get_qualified,t.const_get_relative),r=(t.breaker,t.slice,t.truthy),o=t.send;return t.add_stubs(["$respond_to?","$open","$write"]),r(s($,"IO")["$respond_to?"]("write"))?a:(t.defs(s($,"IO"),"$write",e=function(t,e,r,n){var i;return null==r&&(r=0),null==n&&(n=a),o(s($,"File"),"open",[t,"w"],((i=function(t){i.$$s;return null==t&&(t=a),t.$write(e)}).$$s=this,i.$$arity=1,i))},e.$$arity=-3),a&&"write")},Opal.modules["asciidoctor/core_ext"]=function(t){var e=t.top,r=[],n=t.nil,i=(t.const_get_qualified,t.const_get_relative),$=(t.breaker,t.slice,t.truthy);return t.add_stubs(["$require","$==","$!="]),e.$require("asciidoctor/core_ext/nil_or_empty"),e.$require("asciidoctor/core_ext/regexp/is_match"),$(i(r,"RUBY_MIN_VERSION_1_9"))?(e.$require("asciidoctor/core_ext/string/limit_bytesize"),i(r,"RUBY_ENGINE")["$=="]("opal")?(e.$require("asciidoctor/core_ext/1.8.7/io/binread"),e.$require("asciidoctor/core_ext/1.8.7/io/write")):n):($(i(r,"RUBY_ENGINE")["$!="]("opal")),n)},Opal.modules["asciidoctor/helpers"]=function(p){function m(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}p.top;var t=[],y=p.nil,g=p.const_get_qualified,b=p.const_get_relative,v=(p.breaker,p.slice,p.module),x=p.truthy,k=p.send,w=p.gvars,E=p.hash2;return p.add_stubs(["$require","$include?","$include","$==","$===","$raise","$warn","$logger","$chomp","$message","$normalize_lines_from_string","$normalize_lines_array","$empty?","$unpack","$[]","$slice","$join","$map","$each_line","$encode","$force_encoding","$length","$rstrip","$[]=","$-","$encoding","$nil_or_empty?","$match?","$=~","$gsub","$each_byte","$sprintf","$rindex","$basename","$extname","$directory?","$dirname","$mkdir_p","$mkdir","$divmod","$*"]),function(t,e){function r(){}var n=r=v(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e){function r(){}var n,i,$,a,s,o,l,c,u,_,d,h=r=v(t,"Helpers",r),f=(h.prototype,[h].concat(e));p.defs(h,"$require_library",n=function(e,r,n){var i=this,$=y,a=y;null==r&&(r=!0),null==n&&(n="abort");try{return i.$require(e)}catch(t){if(!p.rescue(t,[g("::","LoadError")]))throw t;$=t;try{return x(i["$include?"](b(f,"Logging")))||i.$include(b(f,"Logging")),x(r)?(r["$=="](!0)&&(r=e),"abort"["$==="](a=n)?i.$raise(g("::","LoadError"),"asciidoctor: FAILED: required gem '"+r+"' is not installed. Processing aborted."):"warn"["$==="](a)&&i.$logger().$warn("optional gem '"+r+"' is not installed. Functionality disabled.")):"abort"["$==="](a=n)?i.$raise(g("::","LoadError"),"asciidoctor: FAILED: "+$.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](a)&&i.$logger().$warn($.$message().$chomp(".")+". Functionality disabled."),y}finally{p.pop_exception()}}},n.$$arity=-2),p.defs(h,"$normalize_lines",i=function(t){return x(g("::","String")["$==="](t))?this.$normalize_lines_from_string(t):this.$normalize_lines_array(t)},i.$$arity=1),p.defs(h,"$normalize_lines_array",$=function(t){var e,r,n,i,$=y,a=y,s=y,o=y,l=y;return x(t["$empty?"]())?t:($=(a=t["$[]"](0)).$unpack("C3"),x(b(f,"COERCE_ENCODING"))?(s=g(g("::","Encoding"),"UTF_8"),(o=$.$slice(0,2))["$=="](b(f,"BOM_BYTES_UTF_16LE"))?(t=t.$join(),k(t.$force_encoding(g(g("::","Encoding"),"UTF_16LE")).$slice(1,t.$length()).$encode(s).$each_line(),"map",[],((e=function(t){e.$$s;return null==t&&(t=y),t.$rstrip()}).$$s=this,e.$$arity=1,e))):o["$=="](b(f,"BOM_BYTES_UTF_16BE"))?(l=[0,a.$force_encoding(g(g("::","Encoding"),"UTF_16BE")).$slice(1,a.$length())],k(t,"[]=",p.to_a(l)),l[m(l.length,1)],k(t,"map",[],((r=function(t){r.$$s;return null==t&&(t=y),t.$force_encoding(g(g("::","Encoding"),"UTF_16BE")).$encode(s).$rstrip()}).$$s=this,r.$$arity=1,r))):($["$=="](b(f,"BOM_BYTES_UTF_8"))&&(l=[0,a.$force_encoding(s).$slice(1,a.$length())],k(t,"[]=",p.to_a(l)),l[m(l.length,1)]),k(t,"map",[],((n=function(t){n.$$s;return null==t&&(t=y),t.$encoding()["$=="](s)?t.$rstrip():t.$force_encoding(s).$rstrip()}).$$s=this,n.$$arity=1,n)))):($["$=="](b(f,"BOM_BYTES_UTF_8"))&&(l=[0,a.$slice(3,a.$length())],k(t,"[]=",p.to_a(l)),l[m(l.length,1)]),k(t,"map",[],((i=function(t){i.$$s;return null==t&&(t=y),t.$rstrip()}).$$s=this,i.$$arity=1,i))))},$.$$arity=1),p.defs(h,"$normalize_lines_from_string",a=function(t){var e,r=y,n=y,i=y;return x(t["$nil_or_empty?"]())?[]:(r=t.$unpack("C3"),x(b(f,"COERCE_ENCODING"))?(n=g(g("::","Encoding"),"UTF_8"),(i=r.$slice(0,2))["$=="](b(f,"BOM_BYTES_UTF_16LE"))?t=t.$force_encoding(g(g("::","Encoding"),"UTF_16LE")).$slice(1,t.$length()).$encode(n):i["$=="](b(f,"BOM_BYTES_UTF_16BE"))?t=t.$force_encoding(g(g("::","Encoding"),"UTF_16BE")).$slice(1,t.$length()).$encode(n):r["$=="](b(f,"BOM_BYTES_UTF_8"))?t=t.$encoding()["$=="](n)?t.$slice(1,t.$length()):t.$force_encoding(n).$slice(1,t.$length()):t.$encoding()["$=="](n)||(t=t.$force_encoding(n))):r["$=="](b(f,"BOM_BYTES_UTF_8"))&&(t=t.$slice(3,t.$length())),k(t.$each_line(),"map",[],((e=function(t){e.$$s;return null==t&&(t=y),t.$rstrip()}).$$s=this,e.$$arity=1,e)))},a.$$arity=1),p.defs(h,"$uriish?",s=function(t){var e;return x(e=t["$include?"](":"))?b(f,"UriSniffRx")["$match?"](t):e},s.$$arity=1),p.defs(h,"$uri_prefix",o=function(t){var e;return x(x(e=t["$include?"](":"))?b(f,"UriSniffRx")["$=~"](t):e)?(e=w["~"])===y?y:e["$[]"](0):y},o.$$arity=1),p.const_set(f[0],"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/),p.defs(h,"$uri_encode",l=function(t){var n;return k(t,"gsub",[b(f,"REGEXP_ENCODE_URI_CHARS")],((n=function(){var t,r,e=n.$$s||this;return k(((t=w["~"])===y?y:t["$[]"](0)).$each_byte(),"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=y),e.$sprintf("%%%02X",t)},r.$$s=e,r.$$arity=1,r)).$join()}).$$s=this,n.$$arity=0,n))},l.$$arity=1),p.defs(h,"$rootname",c=function(t){var e;return t.$slice(0,x(e=t.$rindex("."))?e:t.$length())},c.$$arity=1),p.defs(h,"$basename",u=function(t,e){return null==e&&(e=y),x(e)?g("::","File").$basename(t,e["$=="](!0)?g("::","File").$extname(t):e):g("::","File").$basename(t)},u.$$arity=-2),p.defs(h,"$mkdir_p",_=function(e){var r=this,t=y;if(x(g("::","File")["$directory?"](e)))return y;(t=g("::","File").$dirname(e))["$=="](".")||r.$mkdir_p(t);try{return g("::","Dir").$mkdir(e)}catch(t){if(!p.rescue(t,[g("::","SystemCallError")]))throw t;try{return x(g("::","File")["$directory?"](e))?y:r.$raise()}finally{p.pop_exception()}}},_.$$arity=1),p.const_set(f[0],"ROMAN_NUMERALS",E(["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],{M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1})),p.defs(h,"$int_to_roman",d=function(s){var o;return k(b(f,"ROMAN_NUMERALS"),"map",[],(o=function(t,e){o.$$s;var r,n,i,$,a=y;return null==t&&(t=y),null==e&&(e=y),n=s.$divmod(e),r=p.to_ary(n),a=null==r[0]?y:r[0],s=null==r[1]?y:r[1],$=a,"number"==typeof(i=t)&&"number"==typeof $?i*$:i["$*"]($)},o.$$s=this,o.$$arity=2,o)).$join()},d.$$arity=1)}(i[0],i)}(t[0],t)},Opal.modules["asciidoctor/substitutors"]=function(F){function B(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function q(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function j(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function U(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function H(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}F.top;var t=[],Y=F.nil,G=F.const_get_qualified,W=F.const_get_relative,X=(F.breaker,F.slice),V=F.module,K=F.hash2,J=F.hash,Z=F.truthy,Q=F.send,tt=F.gvars;return F.add_stubs(["$freeze","$+","$keys","$chr","$attr_reader","$empty?","$!","$===","$[]","$join","$include?","$extract_passthroughs","$each","$sub_specialchars","$sub_quotes","$sub_attributes","$sub_replacements","$sub_macros","$highlight_source","$sub_callouts","$sub_post_replacements","$warn","$logger","$restore_passthroughs","$split","$apply_subs","$compat_mode","$gsub","$==","$length","$>","$*","$-","$end_with?","$slice","$parse_quoted_text_attributes","$size","$[]=","$unescape_brackets","$resolve_pass_subs","$start_with?","$extract_inner_passthrough","$to_sym","$attributes","$basebackend?","$=~","$to_i","$convert","$new","$clear","$match?","$convert_quoted_text","$do_replacement","$sub","$shift","$store_attribute","$!=","$attribute_undefined","$counter","$key?","$downcase","$attribute_missing","$tr_s","$delete","$reject","$strip","$index","$min","$compact","$map","$chop","$unescape_bracketed_text","$pop","$rstrip","$extensions","$inline_macros?","$inline_macros","$regexp","$instance","$names","$config","$dup","$nil_or_empty?","$parse_attributes","$process_method","$register","$tr","$basename","$split_simple_csv","$normalize_string","$!~","$parse","$uri_encode","$sub_inline_xrefs","$sub_inline_anchors","$find","$footnotes","$id","$text","$style","$lstrip","$parse_into","$extname","$catalog","$fetch","$outfilesuffix","$natural_xrefs","$key","$attr?","$attr","$to_s","$read_next_id","$callouts","$<","$<<","$shorthand_property_syntax","$concat","$each_char","$drop","$&","$resolve_subs","$nil?","$require_library","$sub_source","$resolve_lines_to_highlight","$highlight","$find_by_alias","$find_by_mimetype","$name","$option?","$count","$to_a","$uniq","$sort","$resolve_block_subs"]),function(t,e){function r(){}var n=r=V(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e){function w(){}var r,n,i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k,E,A,O,S,R,C,T,M,I,N,P,z,L=w=V(t,"Substitutors",w),D=(L.prototype,[L].concat(e));F.const_set(D[0],"SpecialCharsRx",/[<&>]/),F.const_set(D[0],"SpecialCharsTr",K([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),F.const_set(D[0],"QuotedTextSniffRx",J(!1,/[*_`#^~]/,!0,/[*'_+#^~]/)),F.const_set(D[0],"BASIC_SUBS",["specialcharacters"]).$freeze(),F.const_set(D[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze(),F.const_set(D[0],"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"]).$freeze(),F.const_set(D[0],"NONE_SUBS",[]).$freeze(),F.const_set(D[0],"TITLE_SUBS",["specialcharacters","quotes","replacements","macros","attributes","post_replacements"]).$freeze(),F.const_set(D[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze(),F.const_set(D[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze(),F.const_set(D[0],"SUB_GROUPS",K(["none","normal","verbatim","specialchars"],{none:W(D,"NONE_SUBS"),normal:W(D,"NORMAL_SUBS"),verbatim:W(D,"VERBATIM_SUBS"),specialchars:W(D,"BASIC_SUBS")})),F.const_set(D[0],"SUB_HINTS",K(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),F.const_set(D[0],"SUB_OPTIONS",K(["block","inline"],{block:B(B(W(D,"SUB_GROUPS").$keys(),W(D,"NORMAL_SUBS")),["callouts"]),inline:B(W(D,"SUB_GROUPS").$keys(),W(D,"NORMAL_SUBS"))})),F.const_set(D[0],"SUB_HIGHLIGHT",["coderay","pygments"]),Z(G("::","RUBY_MIN_VERSION_1_9"))?(F.const_set(D[0],"CAN",""),F.const_set(D[0],"DEL",""),F.const_set(D[0],"PASS_START",""),F.const_set(D[0],"PASS_END","")):(F.const_set(D[0],"CAN",24..$chr()),F.const_set(D[0],"DEL",127..$chr()),F.const_set(D[0],"PASS_START",150..$chr()),F.const_set(D[0],"PASS_END",151..$chr())),F.const_set(D[0],"PassSlotRx",new RegExp(W(D,"PASS_START")+"(\\d+)"+W(D,"PASS_END"))),F.const_set(D[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+W(D,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+W(D,"PASS_END")+"</span>")),F.const_set(D[0],"RS","\\"),F.const_set(D[0],"R_SB","]"),F.const_set(D[0],"ESC_R_SB","\\]"),F.const_set(D[0],"PLUS","+"),F.const_set(D[0],"PygmentsWrapperDivRx",/<div class="pyhl">(.*)<\/div>/m),F.const_set(D[0],"PygmentsWrapperPreRx",/<pre\b[^>]*?>(.*?)<\/pre>\s*/m),L.$attr_reader("passthroughs"),F.def(L,"$apply_subs",r=function(n,i){var t,$,e=Y,r=Y;return null==this.passthroughs&&(this.passthroughs=Y),null==i&&(i=W(D,"NORMAL_SUBS")),Z(Z(t=n["$empty?"]())?t:i["$!"]())?n:(Z(e=G("::","Array")["$==="](n))&&(n=Z(n["$[]"](1))?n.$join(W(D,"LF")):n["$[]"](0)),Z(r=i["$include?"]("macros"))&&(n=this.$extract_passthroughs(n),Z(this.passthroughs["$empty?"]())&&(r=!1)),Q(i,"each",[],(($=function(t){var e=$.$$s||this,r=Y;return null==t&&(t=Y),"specialcharacters"["$==="](r=t)?n=e.$sub_specialchars(n):"quotes"["$==="](r)?n=e.$sub_quotes(n):"attributes"["$==="](r)?Z(n["$include?"](W(D,"ATTR_REF_HEAD")))?n=e.$sub_attributes(n):Y:"replacements"["$==="](r)?n=e.$sub_replacements(n):"macros"["$==="](r)?n=e.$sub_macros(n):"highlight"["$==="](r)?n=e.$highlight_source(n,i["$include?"]("callouts")):"callouts"["$==="](r)?Z(i["$include?"]("highlight"))?Y:n=e.$sub_callouts(n):"post_replacements"["$==="](r)?n=e.$sub_post_replacements(n):e.$logger().$warn("unknown substitution type "+t)}).$$s=this,$.$$arity=1,$)),Z(r)&&(n=this.$restore_passthroughs(n)),Z(e)?n.$split(W(D,"LF"),-1):n)},r.$$arity=-2),F.def(L,"$apply_normal_subs",n=function(t){return this.$apply_subs(t)},n.$$arity=1),F.def(L,"$apply_title_subs",i=function(t){return this.$apply_subs(t,W(D,"TITLE_SUBS"))},i.$$arity=1),F.def(L,"$apply_reftext_subs",$=function(t){return this.$apply_subs(t,W(D,"REFTEXT_SUBS"))},$.$$arity=1),F.def(L,"$apply_header_subs",a=function(t){return this.$apply_subs(t,W(D,"HEADER_SUBS"))},a.$$arity=1),F.def(L,"$extract_passthroughs",s=function(t){var e,r,_,d,o,h=Y,f=Y,n=Y,i=Y,$=Y;return null==this.document&&(this.document=Y),null==this.passthroughs&&(this.passthroughs=Y),h=this.document.$compat_mode(),f=this.passthroughs,Z(Z(e=Z(r=t["$include?"]("++"))?r:t["$include?"]("$$"))?e:t["$include?"]("ss:"))&&(t=Q(t,"gsub",[W(D,"InlinePassMacroRx")],((_=function(){var t,e=_.$$s||this,r=Y,n=Y,i=Y,$=Y,a=Y,s=Y,o=Y,l=Y,c=Y,u=Y;if(null==tt["~"]&&(tt["~"]=Y),r=tt["~"],n=Y,Z(i=r["$[]"](4))){if(Z(Z(t=h)?i["$=="]("++"):t))return Z(r["$[]"](2))?r["$[]"](1)+"["+r["$[]"](2)+"]"+r["$[]"](3)+"++"+e.$extract_passthroughs(r["$[]"](5))+"++":""+r["$[]"](1)+r["$[]"](3)+"++"+e.$extract_passthroughs(r["$[]"](5))+"++";if($=r["$[]"](2),a=r["$[]"](3).$length(),s=r["$[]"](5),o=!1,Z($)){if(Z(q(a,0)))return r["$[]"](1)+"["+$+"]"+j(W(D,"RS"),U(a,1))+i+r["$[]"](5)+i;$=r["$[]"](1)["$=="](W(D,"RS"))?(n="["+$+"]",Y):(Z((t=i["$=="]("++"))?$["$end_with?"]("x-"):i["$=="]("++"))&&(o=!0,$=$.$slice(0,U($.$length(),2))),e.$parse_quoted_text_attributes($))}else if(Z(q(a,0)))return""+j(W(D,"RS"),U(a,1))+i+r["$[]"](5)+i;l=i["$=="]("+++")?[]:W(D,"BASIC_SUBS"),c=f.$size(),u=Z($)?Z(o)?[c,K(["text","subs","type","attributes"],{text:s,subs:W(D,"NORMAL_SUBS"),type:"monospaced",attributes:$})]:[c,K(["text","subs","type","attributes"],{text:s,subs:l,type:"unquoted",attributes:$})]:[c,K(["text","subs"],{text:s,subs:l})],Q(f,"[]=",F.to_a(u)),u[U(u.length,1)]}else{if(r["$[]"](6)["$=="](W(D,"RS")))return r["$[]"](0).$slice(1,r["$[]"](0).$length());u=[c=f.$size(),K(["text","subs"],{text:e.$unescape_brackets(r["$[]"](8)),subs:Z(r["$[]"](7))?e.$resolve_pass_subs(r["$[]"](7)):Y})],Q(f,"[]=",F.to_a(u)),u[U(u.length,1)]}return""+n+W(D,"PASS_START")+c+W(D,"PASS_END")}).$$s=this,_.$$arity=0,_))),r=W(D,"InlinePassRx")["$[]"](h),e=F.to_ary(r),n=null==e[0]?Y:e[0],i=null==e[1]?Y:e[1],$=null==e[2]?Y:e[2],Z(Z(e=t["$include?"](n))?e:Z(r=i)?t["$include?"](i):r)&&(t=Q(t,"gsub",[$],((d=function(){var t,e=d.$$s||this,r=Y,n=Y,i=Y,$=Y,a=Y,s=Y,o=Y,l=Y,c=Y,u=Y,_=Y;if(null==tt["~"]&&(tt["~"]=Y),r=tt["~"],n=r["$[]"](1),i=r["$[]"](2),Z(($=r["$[]"](3))["$start_with?"](W(D,"RS")))&&(a=W(D,"RS")),s=r["$[]"](4),o=r["$[]"](5),Z(h)?l=!0:Z(l=Z(t=i)?i["$end_with?"]("x-"):t)&&(i=i.$slice(0,U(i.$length(),2))),Z(i)){if(Z((t=s["$=="]("`"))?l["$!"]():s["$=="]("`")))return e.$extract_inner_passthrough(o,n+"["+i+"]"+a,i);if(Z(a))return n+"["+i+"]"+$.$slice(1,$.$length());i=n["$=="](W(D,"RS"))?(n="["+i+"]",Y):e.$parse_quoted_text_attributes(i)}else{if(Z((t=s["$=="]("`"))?l["$!"]():s["$=="]("`")))return e.$extract_inner_passthrough(o,""+n+a);if(Z(a))return""+n+$.$slice(1,$.$length())}return c=f.$size(),u=Z(h)?[c,K(["text","subs","attributes","type"],{text:o,subs:W(D,"BASIC_SUBS"),attributes:i,type:"monospaced"})]:Z(i)?Z(l)?(_=s["$=="]("`")?W(D,"BASIC_SUBS"):W(D,"NORMAL_SUBS"),[c,K(["text","subs","attributes","type"],{text:o,subs:_,attributes:i,type:"monospaced"})]):[c,K(["text","subs","attributes","type"],{text:o,subs:W(D,"BASIC_SUBS"),attributes:i,type:"unquoted"})]:[c,K(["text","subs"],{text:o,subs:W(D,"BASIC_SUBS")})],Q(f,"[]=",F.to_a(u)),u[U(u.length,1)],""+n+W(D,"PASS_START")+c+W(D,"PASS_END")}).$$s=this,d.$$arity=0,d))),Z(Z(e=t["$include?"](":"))?Z(r=t["$include?"]("stem:"))?r:t["$include?"]("math:"):e)&&(t=Q(t,"gsub",[W(D,"InlineStemMacroRx")],((o=function(){var t,e=o.$$s||this,r=Y,n=Y,i=Y,$=Y,a=Y,s=Y;return null==e.document&&(e.document=Y),null==tt["~"]&&(tt["~"]=Y),r=tt["~"],Z(((t=tt["~"])===Y?Y:t["$[]"](0))["$start_with?"](W(D,"RS")))?r["$[]"](0).$slice(1,r["$[]"](0).$length()):((n=r["$[]"](1).$to_sym())["$=="]("stem")&&(n=W(D,"STEM_TYPE_ALIASES")["$[]"](e.document.$attributes()["$[]"]("stem")).$to_sym()),i=e.$unescape_brackets(r["$[]"](3)),$=Z(r["$[]"](2))?e.$resolve_pass_subs(r["$[]"](2)):Z(e.document["$basebackend?"]("html"))?W(D,"BASIC_SUBS"):Y,a=[s=f.$size(),K(["text","subs","type"],{text:i,subs:$,type:n})],Q(f,"[]=",F.to_a(a)),U(a.length,1),""+W(D,"PASS_START")+s+W(D,"PASS_END"))}).$$s=this,o.$$arity=0,o))),t},s.$$arity=1),F.def(L,"$extract_inner_passthrough",o=function(t,e,r){var n,i,$=Y,a=Y;return null==this.passthroughs&&(this.passthroughs=Y),null==r&&(r=Y),Z(Z(n=Z(i=t["$end_with?"]("+"))?t["$start_with?"]("+","\\+"):i)?W(D,"SinglePlusInlinePassRx")["$=~"](t):n)?Z((n=tt["~"])===Y?Y:n["$[]"](1))?e+"`+"+((n=tt["~"])===Y?Y:n["$[]"](2))+"+`":($=[a=this.passthroughs.$size(),Z(r)?K(["text","subs","attributes","type"],{text:(n=tt["~"])===Y?Y:n["$[]"](2),subs:W(D,"BASIC_SUBS"),attributes:r,type:"unquoted"}):K(["text","subs"],{text:(n=tt["~"])===Y?Y:n["$[]"](2),subs:W(D,"BASIC_SUBS")})],Q(this.passthroughs,"[]=",F.to_a($)),$[U($.length,1)],e+"`"+W(D,"PASS_START")+a+W(D,"PASS_END")+"`"):e+"`"+t+"`"},o.$$arity=-3),F.def(L,"$restore_passthroughs",l=function(t,e){var $,r=this,a=Y;return null==r.passthroughs&&(r.passthroughs=Y),null==e&&(e=!0),function(){try{return a=r.passthroughs,Q(t,"gsub",[W(D,"PassSlotRx")],(($=function(){var t,e=$.$$s||this,r=Y,n=Y,i=Y;return r=a["$[]"](((t=tt["~"])===Y?Y:t["$[]"](1)).$to_i()),n=e.$apply_subs(r["$[]"]("text"),r["$[]"]("subs")),Z(i=r["$[]"]("type"))&&(n=W(D,"Inline").$new(e,"quoted",n,K(["type","attributes"],{type:i,attributes:r["$[]"]("attributes")})).$convert()),Z(n["$include?"](W(D,"PASS_START")))?e.$restore_passthroughs(n,!1):n}).$$s=r,$.$$arity=0,$))}finally{Z(e)&&a.$clear()}}()},l.$$arity=-2),W(D,"RUBY_ENGINE")["$=="]("opal")&&(F.def(L,"$sub_quotes",c=function($){var a,t=Y;return null==this.document&&(this.document=Y),Z(W(D,"QuotedTextSniffRx")["$[]"](t=this.document.$compat_mode())["$match?"]($))&&Q(W(D,"QUOTE_SUBS")["$[]"](t),"each",[],((a=function(e,r,t){var n,i=a.$$s||this;return null==e&&(e=Y),null==r&&(r=Y),null==t&&(t=Y),$=Q($,"gsub",[t],((n=function(){var t=n.$$s||this;return null==tt["~"]&&(tt["~"]=Y),t.$convert_quoted_text(tt["~"],e,r)}).$$s=i,n.$$arity=0,n))}).$$s=this,a.$$arity=3,a)),$},c.$$arity=1),F.def(L,"$sub_replacements",u=function($){var a;return Z(W(D,"ReplaceableTextRx")["$match?"]($))&&Q(W(D,"REPLACEMENTS"),"each",[],((a=function(t,e,r){var n,i=a.$$s||this;return null==t&&(t=Y),null==e&&(e=Y),null==r&&(r=Y),$=Q($,"gsub",[t],((n=function(){var t=n.$$s||this;return null==tt["~"]&&(tt["~"]=Y),t.$do_replacement(tt["~"],e,r)}).$$s=i,n.$$arity=0,n))}).$$s=this,a.$$arity=3,a)),$},u.$$arity=1)),Z(G("::","RUBY_MIN_VERSION_1_9"))?F.def(L,"$sub_specialchars",_=function(t){var e,r;return Z(Z(e=Z(r=t["$include?"]("<"))?r:t["$include?"]("&"))?e:t["$include?"](">"))?t.$gsub(W(D,"SpecialCharsRx"),W(D,"SpecialCharsTr")):t},_.$$arity=1):F.def(L,"$sub_specialchars",d=function(t){var e,r,n;return Z(Z(e=Z(r=t["$include?"]("<"))?r:t["$include?"]("&"))?e:t["$include?"](">"))?Q(t,"gsub",[W(D,"SpecialCharsRx")],((n=function(){var t;n.$$s;return W(D,"SpecialCharsTr")["$[]"]((t=tt["~"])===Y?Y:t["$[]"](0))}).$$s=this,n.$$arity=0,n)):t},d.$$arity=1),F.alias(L,"sub_specialcharacters","sub_specialchars"),F.def(L,"$do_replacement",h=function(t,e,r){var n=Y,i=Y;return Z((n=t["$[]"](0))["$include?"](W(D,"RS")))?n.$sub(W(D,"RS"),""):"none"["$==="](i=r)?e:"bounding"["$==="](i)?""+t["$[]"](1)+e+t["$[]"](2):""+t["$[]"](1)+e},h.$$arity=3),F.def(L,"$sub_attributes",f=function(t,o){var l,i,e,n,c=Y,u=Y,_=Y,d=Y,h=Y,f=Y,r=Y;return null==this.document&&(this.document=Y),null==o&&(o=K([],{})),c=this.document.$attributes(),u=_=d=h=f=Y,t=Q(t,"gsub",[W(D,"AttributeReferenceRx")],((l=function(){var t,e,r,n=l.$$s||this,i=Y,$=Y,a=Y,s=Y;return null==n.document&&(n.document=Y),Z(Z(t=((e=tt["~"])===Y?Y:e["$[]"](1))["$=="](W(D,"RS")))?t:((e=tt["~"])===Y?Y:e["$[]"](4))["$=="](W(D,"RS")))?"{"+((t=tt["~"])===Y?Y:t["$[]"](2))+"}":Z((t=tt["~"])===Y?Y:t["$[]"](3))?(i=($=((t=tt["~"])===Y?Y:t["$[]"](2)).$split(":",3)).$shift(),"set"["$==="](i)?(e=W(D,"Parser").$store_attribute($["$[]"](0),Z(r=$["$[]"](1))?r:"",n.document),t=F.to_ary(e),null==t[0]?Y:t[0],a=null==t[1]?Y:t[1],u=Z(Z(t=a)?t:(h=Z(e=h)?e:Z(r=c["$[]"]("attribute-undefined"))?r:W(D,"Compliance").$attribute_undefined())["$!="]("drop-line"))?d=W(D,"DEL"):_=W(D,"CAN")):"counter2"["$==="](i)?(Q(n.document,"counter",F.to_a($)),u=d=W(D,"DEL")):Q(n.document,"counter",F.to_a($))):Z(c["$key?"](s=((t=tt["~"])===Y?Y:t["$[]"](2)).$downcase()))?c["$[]"](s):Z(a=W(D,"INTRINSIC_ATTRIBUTES")["$[]"](s))?a:(i=f=Z(t=f)?t:Z(e=Z(r=o["$[]"]("attribute_missing"))?r:c["$[]"]("attribute-missing"))?e:W(D,"Compliance").$attribute_missing(),"drop"["$==="](i)?u=d=W(D,"DEL"):"drop-line"["$==="](i)?(n.$logger().$warn("dropping line containing reference to missing attribute: "+s),u=_=W(D,"CAN")):("warn"["$==="](i)&&n.$logger().$warn("skipping reference to missing attribute: "+s),(t=tt["~"])===Y?Y:t["$[]"](0)))}).$$s=this,l.$$arity=0,l)),Z(u)?Z(d)?(r=t.$tr_s(W(D,"DEL"),W(D,"DEL")).$split(W(D,"LF"),-1),Z(_)?Q(r,"reject",[],(i=function(t){var e,r,n;i.$$s;return null==t&&(t=Y),Z(e=Z(r=Z(n=t["$=="](W(D,"DEL")))?n:t["$=="](W(D,"CAN")))?r:t["$start_with?"](W(D,"CAN")))?e:t["$include?"](W(D,"CAN"))},i.$$s=this,i.$$arity=1,i)).$join(W(D,"LF")).$delete(W(D,"DEL")):Q(r,"reject",[],(e=function(t){e.$$s;return null==t&&(t=Y),t["$=="](W(D,"DEL"))},e.$$s=this,e.$$arity=1,e)).$join(W(D,"LF")).$delete(W(D,"DEL"))):Z(t["$include?"](W(D,"LF")))?Q(t.$split(W(D,"LF"),-1),"reject",[],(n=function(t){var e,r;n.$$s;return null==t&&(t=Y),Z(e=Z(r=t["$=="](W(D,"CAN")))?r:t["$start_with?"](W(D,"CAN")))?e:t["$include?"](W(D,"CAN"))},n.$$s=this,n.$$arity=1,n)).$join(W(D,"LF")):"":t},f.$$arity=-2),F.def(L,"$sub_macros",p=function(u){try{var t,e,s,l,c,r,o,_,d,h,a,f,n=this,i=Y,$=Y,p=Y,m=Y,y=Y,g=Y,b=Y,v=Y,x=Y;return null==n.document&&(n.document=Y),i=K([],{}),p=["square_bracket",u["$include?"]("[")],Q(i,"[]=",F.to_a(p)),$=p[U(p.length,1)],m=u["$include?"](":"),p=["macroish",Z(t=$)?m:t],Q(i,"[]=",F.to_a(p)),y=p[U(p.length,1)],g=Z(t=y)?u["$include?"](":["):t,b=(v=n.document).$attributes(),Z(b["$key?"]("experimental"))&&(Z(Z(t=g)?Z(e=u["$include?"]("kbd:"))?e:u["$include?"]("btn:"):t)&&(u=Q(u,"gsub",[W(D,"InlineKbdBtnMacroRx")],((s=function(){var t,e,r,n=s.$$s||this,i=Y,$=Y,a=Y;return Z((t=tt["~"])===Y?Y:t["$[]"](1))?((t=tt["~"])===Y?Y:t["$[]"](0)).$slice(1,((t=tt["~"])===Y?Y:t["$[]"](0)).$length()):((t=tt["~"])===Y?Y:t["$[]"](2))["$=="]("kbd")?(Z((i=((t=tt["~"])===Y?Y:t["$[]"](3)).$strip())["$include?"](W(D,"R_SB")))&&(i=i.$gsub(W(D,"ESC_R_SB"),W(D,"R_SB"))),Z(Z(t=q(i.$length(),1))?$=Z($=i.$index(",",1))?[$,i.$index("+",1)].$compact().$min():i.$index("+",1):t)?(a=i.$slice($,1),Z(i["$end_with?"](a))?(i=Q(i.$chop().$split(a,-1),"map",[],((e=function(t){e.$$s;return null==t&&(t=Y),t.$strip()}).$$s=n,e.$$arity=1,e)),p=[-1,""+i["$[]"](-1)+a],Q(i,"[]=",F.to_a(p)),p[U(p.length,1)]):i=Q(i.$split(a),"map",[],((r=function(t){r.$$s;return null==t&&(t=Y),t.$strip()}).$$s=n,r.$$arity=1,r))):i=[i],W(D,"Inline").$new(n,"kbd",Y,K(["attributes"],{attributes:K(["keys"],{keys:i})})).$convert()):W(D,"Inline").$new(n,"button",n.$unescape_bracketed_text((t=tt["~"])===Y?Y:t["$[]"](3))).$convert()}).$$s=n,s.$$arity=0,s))),Z(Z(t=y)?u["$include?"]("menu:"):t)&&(u=Q(u,"gsub",[W(D,"InlineMenuMacroRx")],((l=function(){var t,e,r=l.$$s||this,n=Y,i=Y,$=Y,a=Y,s=Y,o=Y;return null==tt["~"]&&(tt["~"]=Y),n=tt["~"],Z(((t=tt["~"])===Y?Y:t["$[]"](0))["$start_with?"](W(D,"RS")))?n["$[]"](0).$slice(1,n["$[]"](0).$length()):(t=[n["$[]"](1),n["$[]"](2)],i=t[0],$=t[1],o=Z($)?(Z($["$include?"](W(D,"R_SB")))&&($=$.$gsub(W(D,"ESC_R_SB"),W(D,"R_SB"))),Z(a=Z($["$include?"]("&gt;"))?"&gt;":Z($["$include?"](","))?",":Y)?(s=Q($.$split(a),"map",[],((e=function(t){e.$$s;return null==t&&(t=Y),t.$strip()}).$$s=r,e.$$arity=1,e))).$pop():(t=[[],$.$rstrip()],s=t[0],t[1])):(s=(t=[[],Y])[0],t[1]),W(D,"Inline").$new(r,"menu",Y,K(["attributes"],{attributes:K(["menu","submenus","menuitem"],{menu:i,submenus:s,menuitem:o})})).$convert())}).$$s=n,l.$$arity=0,l))),Z(Z(t=u["$include?"]('"'))?u["$include?"]("&gt;"):t)&&(u=Q(u,"gsub",[W(D,"InlineMenuRx")],((c=function(){var t,e,r,n=c.$$s||this,i=Y,$=Y,a=Y,s=Y,o=Y;return null==tt["~"]&&(tt["~"]=Y),i=tt["~"],Z(((t=tt["~"])===Y?Y:t["$[]"](0))["$start_with?"](W(D,"RS")))?i["$[]"](0).$slice(1,i["$[]"](0).$length()):($=i["$[]"](1),e=Q($.$split("&gt;"),"map",[],((r=function(t){r.$$s;return null==t&&(t=Y),t.$strip()}).$$s=n,r.$$arity=1,r)),t=F.to_ary(e),a=null==t[0]?Y:t[0],s=X.call(t,1),o=s.$pop(),W(D,"Inline").$new(n,"menu",Y,K(["attributes"],{attributes:K(["menu","submenus","menuitem"],{menu:a,submenus:s,menuitem:o})})).$convert())}).$$s=n,c.$$arity=0,c)))),Z(Z(t=x=v.$extensions())?x["$inline_macros?"]():t)&&Q(x.$inline_macros(),"each",[],((r=function(o){var l,t=r.$$s||this;return null==o&&(o=Y),u=Q(u,"gsub",[o.$instance().$regexp()],((l=function(){var t,e=l.$$s||this,r=Y,n=Y,i=Y,$=Y,a=Y,s=Y;return null==tt["~"]&&(tt["~"]=Y),r=tt["~"],Z(((t=tt["~"])===Y?Y:t["$[]"](0))["$start_with?"](W(D,"RS")))?r["$[]"](0).$slice(1,r["$[]"](0).$length()):($=(i=(n=(t=Z(function(){try{return r.$names()}catch(t){if(!F.rescue(t,[W(D,"StandardError")]))throw t;try{return[]}finally{F.pop_exception()}}}()["$empty?"]())?[r["$[]"](1),r["$[]"](2),o.$config()]:[function(){try{return r["$[]"]("target")}catch(t){if(!F.rescue(t,[W(D,"StandardError")]))throw t;try{return Y}finally{F.pop_exception()}}}(),function(){try{return r["$[]"]("content")}catch(t){if(!F.rescue(t,[W(D,"StandardError")]))throw t;try{return Y}finally{F.pop_exception()}}}(),o.$config()])[0],t[1]),t[2]),a=Z(a=$["$[]"]("default_attrs"))?a.$dup():K([],{}),Z(i["$nil_or_empty?"]())?Z(Z(t=i)?$["$[]"]("content_model")["$!="]("attributes"):t)&&(p=["text",i],Q(a,"[]=",F.to_a(p)),p[U(p.length,1)]):(i=e.$unescape_bracketed_text(i),$["$[]"]("content_model")["$=="]("attributes")?e.$parse_attributes(i,Z(t=$["$[]"]("pos_attrs"))?t:[],K(["into"],{into:a})):(p=["text",i],Q(a,"[]=",F.to_a(p)),p[U(p.length,1)])),s=o.$process_method()["$[]"](e,Z(t=n)?t:i,a),Z(W(D,"Inline")["$==="](s))?s.$convert():s)}).$$s=t,l.$$arity=0,l))}).$$s=n,r.$$arity=1,r)),Z(Z(t=y)?Z(e=u["$include?"]("image:"))?e:u["$include?"]("icon:"):t)&&(u=Q(u,"gsub",[W(D,"InlineImageMacroRx")],((o=function(){var t,e=o.$$s||this,r=Y,n=Y,i=Y,$=Y,a=Y,s=Y;return null==tt["~"]&&(tt["~"]=Y),r=tt["~"],Z((n=(t=tt["~"])===Y?Y:t["$[]"](0))["$start_with?"](W(D,"RS")))?n.$slice(1,n.$length()):($=(i=Z(n["$start_with?"]("icon:"))?(t=["icon",["size"]])[0]:(t=["image",["alt","width","height"]])[0],t[1]),Z((a=r["$[]"](1))["$include?"](W(D,"ATTR_REF_HEAD")))&&(a=e.$sub_attributes(a)),s=e.$parse_attributes(r["$[]"](2),$,K(["unescape_input"],{unescape_input:!0})),i["$=="]("icon")||v.$register("images",[a,(p=["imagesdir",b["$[]"]("imagesdir")],Q(s,"[]=",F.to_a(p)),p[U(p.length,1)])]),Z(t=s["$[]"]("alt"))||(p=["alt",(p=["default-alt",W(D,"Helpers").$basename(a,!0).$tr("_-"," ")],Q(s,"[]=",F.to_a(p)),p[U(p.length,1)])],Q(s,"[]=",F.to_a(p)),p[U(p.length,1)]),W(D,"Inline").$new(e,"image",Y,K(["type","target","attributes"],{type:i,target:a,attributes:s})).$convert())}).$$s=n,o.$$arity=0,o))),Z(Z(t=Z(e=u["$include?"]("(("))?u["$include?"]("))"):e)?t:Z(e=g)?u["$include?"]("dexterm"):e)&&(u=Q(u,"gsub",[W(D,"InlineIndextermMacroRx")],((_=function(){var t,e=_.$$s||this,r=Y,n=Y,i=Y,$=Y,a=Y,s=Y,o=Y,l=Y;return r=(t=tt["~"])===Y?Y:t["$[]"](0),function(){if(n=(t=tt["~"])===Y?Y:t["$[]"](1),"indexterm"["$==="](n))return u=(t=tt["~"])===Y?Y:t["$[]"](2),Z(r["$start_with?"](W(D,"RS")))?r.$slice(1,r.$length()):(i=e.$split_simple_csv(e.$normalize_string(u,!0)),v.$register("indexterms",i),W(D,"Inline").$new(e,"indexterm",Y,K(["attributes"],{attributes:K(["terms"],{terms:i})})).$convert());if("indexterm2"["$==="](n))return u=(t=tt["~"])===Y?Y:t["$[]"](2),Z(r["$start_with?"](W(D,"RS")))?r.$slice(1,r.$length()):($=e.$normalize_string(u,!0),v.$register("indexterms",[$]),W(D,"Inline").$new(e,"indexterm",$,K(["type"],{type:"visible"})).$convert());if(u=(t=tt["~"])===Y?Y:t["$[]"](3),Z(r["$start_with?"](W(D,"RS")))){if(!Z(Z(t=u["$start_with?"]("("))?u["$end_with?"](")"):t))return r.$slice(1,r.$length());u=u.$slice(1,U(u.$length(),2)),a=(t=[!0,"(",")"])[0],s=t[1],o=t[2]}else a=!0,Z(u["$start_with?"]("("))?Z(u["$end_with?"](")"))?(u=(t=[u.$slice(1,U(u.$length(),2)),!1])[0],a=t[1]):(u=(t=[u.$slice(1,u.$length()),"(",""])[0],s=t[1],o=t[2]):Z(u["$end_with?"](")"))&&(u=(t=[u.$slice(0,U(u.$length(),1)),"",")"])[0],s=t[1],o=t[2]);return l=Z(a)?($=e.$normalize_string(u),v.$register("indexterms",[$]),W(D,"Inline").$new(e,"indexterm",$,K(["type"],{type:"visible"})).$convert()):(i=e.$split_simple_csv(e.$normalize_string(u)),v.$register("indexterms",i),W(D,"Inline").$new(e,"indexterm",Y,K(["attributes"],{attributes:K(["terms"],{terms:i})})).$convert()),Z(s)?""+s+l+o:l}()}).$$s=n,_.$$arity=0,_))),Z(Z(t=m)?u["$include?"]("://"):t)&&(u=Q(u,"gsub",[W(D,"InlineLinkRx")],((d=function(){var t,e,r=d.$$s||this,n=Y,i=Y,$=Y,a=Y,s=Y,o=Y,l=Y,c=Y;if(null==tt["~"]&&(tt["~"]=Y),n=tt["~"],Z((i=(t=tt["~"])===Y?Y:t["$[]"](2))["$start_with?"](W(D,"RS"))))return""+n["$[]"](1)+i.$slice(1,i.$length())+n["$[]"](3);if(t=[n["$[]"](1),Z(e=$=n["$[]"](3))?e:"",""],a=t[0],u=t[1],s=t[2],a["$=="]("link:")){if(!Z($))return n["$[]"](0);a=""}return Z(Z(t=$)?t:W(D,"UriTerminatorRx")["$!~"](i))||(o=(t=tt["~"])===Y?Y:t["$[]"](0),")"["$==="](o)?(i=i.$chop(),s=")"):";"["$==="](o)?Z(Z(t=a["$start_with?"]("&lt;"))?i["$end_with?"]("&gt;"):t)?(a=a.$slice(4,a.$length()),i=i.$slice(0,U(i.$length(),4))):s=Z((i=i.$chop())["$end_with?"](")"))?(i=i.$chop(),");"):";":":"["$==="](o)&&(s=Z((i=i.$chop())["$end_with?"](")"))?(i=i.$chop(),"):"):":"),Z(i["$end_with?"]("://"))&&F.ret(n["$[]"](0))),t=[Y,K(["type"],{type:"link"})],l=t[0],c=t[1],Z(u["$empty?"]())||(Z(u["$include?"](W(D,"R_SB")))&&(u=u.$gsub(W(D,"ESC_R_SB"),W(D,"R_SB"))),Z(Z(t=v.$compat_mode()["$!"]())?u["$include?"]("="):t)&&(u=Z(t=(l=W(D,"AttributeList").$new(u,r).$parse())["$[]"](1))?t:"",Z(l["$key?"]("id"))&&(p=["id",l.$delete("id")],Q(c,"[]=",F.to_a(p)),p[U(p.length,1)])),Z(u["$end_with?"]("^"))&&(u=u.$chop(),Z(l)?Z(t=l["$[]"]("window"))||(p=["window","_blank"],Q(l,"[]=",F.to_a(p)),p[U(p.length,1)]):l=K(["window"],{window:"_blank"}))),Z(u["$empty?"]())&&(u=Z(b["$key?"]("hide-uri-scheme"))?i.$sub(W(D,"UriSniffRx"),""):i,Z(l)?(p=["role",Z(l["$key?"]("role"))?"bare "+l["$[]"]("role"):"bare"],Q(l,"[]=",F.to_a(p)),p[U(p.length,1)]):l=K(["role"],{role:"bare"})),v.$register("links",(p=["target",i],Q(c,"[]=",F.to_a(p)),p[U(p.length,1)])),Z(l)&&(p=["attributes",l],Q(c,"[]=",F.to_a(p)),p[U(p.length,1)]),""+a+W(D,"Inline").$new(r,"anchor",u,c).$convert()+s}).$$s=n,d.$$arity=0,d))),Z(Z(t=y)?Z(e=u["$include?"]("link:"))?e:u["$include?"]("mailto:"):t)&&(u=Q(u,"gsub",[W(D,"InlineLinkMacroRx")],((h=function(){var t,e=h.$$s||this,r=Y,n=Y,i=Y,$=Y,a=Y;return null==tt["~"]&&(tt["~"]=Y),r=tt["~"],Z(((t=tt["~"])===Y?Y:t["$[]"](0))["$start_with?"](W(D,"RS")))?r["$[]"](0).$slice(1,r["$[]"](0).$length()):(n=Z(i=r["$[]"](1))?"mailto:"+r["$[]"](2):r["$[]"](2),t=[Y,K(["type"],{type:"link"})],$=t[0],a=t[1],Z((u=r["$[]"](3))["$empty?"]())||(Z(u["$include?"](W(D,"R_SB")))&&(u=u.$gsub(W(D,"ESC_R_SB"),W(D,"R_SB"))),Z(i)?Z(Z(t=v.$compat_mode()["$!"]())?u["$include?"](","):t)&&(u=Z(t=($=W(D,"AttributeList").$new(u,e).$parse())["$[]"](1))?t:"",Z($["$key?"]("id"))&&(p=["id",$.$delete("id")],Q(a,"[]=",F.to_a(p)),p[U(p.length,1)]),Z($["$key?"](2))&&(n=Z($["$key?"](3))?n+"?subject="+W(D,"Helpers").$uri_encode($["$[]"](2))+"&amp;body="+W(D,"Helpers").$uri_encode($["$[]"](3)):n+"?subject="+W(D,"Helpers").$uri_encode($["$[]"](2)))):Z(Z(t=v.$compat_mode()["$!"]())?u["$include?"]("="):t)&&(u=Z(t=($=W(D,"AttributeList").$new(u,e).$parse())["$[]"](1))?t:"",Z($["$key?"]("id"))&&(p=["id",$.$delete("id")],Q(a,"[]=",F.to_a(p)),p[U(p.length,1)])),Z(u["$end_with?"]("^"))&&(u=u.$chop(),Z($)?Z(t=$["$[]"]("window"))||(p=["window","_blank"],Q($,"[]=",F.to_a(p)),p[U(p.length,1)]):$=K(["window"],{window:"_blank"}))),Z(u["$empty?"]())&&(Z(i)?u=r["$[]"](2):(Z(b["$key?"]("hide-uri-scheme"))?Z((u=n.$sub(W(D,"UriSniffRx"),""))["$empty?"]())&&(u=n):u=n,Z($)?(p=["role",Z($["$key?"]("role"))?"bare "+$["$[]"]("role"):"bare"],Q($,"[]=",F.to_a(p)),p[U(p.length,1)]):$=K(["role"],{role:"bare"}))),v.$register("links",(p=["target",n],Q(a,"[]=",F.to_a(p)),p[U(p.length,1)])),Z($)&&(p=["attributes",$],Q(a,"[]=",F.to_a(p)),p[U(p.length,1)]),W(D,"Inline").$new(e,"anchor",u,a).$convert())}).$$s=n,h.$$arity=0,h))),Z(u["$include?"]("@"))&&(u=Q(u,"gsub",[W(D,"InlineEmailRx")],((a=function(){var t,e,r=a.$$s||this,n=Y,i=Y,$=Y;return t=[(e=tt["~"])===Y?Y:e["$[]"](0),(e=tt["~"])===Y?Y:e["$[]"](1)],n=t[0],Z(i=t[1])?i["$=="](W(D,"RS"))?n.$slice(1,n.$length()):n:($="mailto:"+n,v.$register("links",$),W(D,"Inline").$new(r,"anchor",n,K(["type","target"],{type:"link",target:$})).$convert())}).$$s=n,a.$$arity=0,a))),Z(Z(t=y)?u["$include?"]("tnote"):t)&&(u=Q(u,"gsub",[W(D,"InlineFootnoteMacroRx")],((f=function(){var t,e,r,n,i=f.$$s||this,$=Y,a=Y,s=Y,o=Y,l=Y,c=Y;if(null==tt["~"]&&(tt["~"]=Y),$=tt["~"],Z(((t=tt["~"])===Y?Y:t["$[]"](0))["$start_with?"](W(D,"RS"))))return $["$[]"](0).$slice(1,$["$[]"](0).$length());if(u=Z($["$[]"](1))?(e=(Z(r=$["$[]"](3))?r:"").$split(",",2),t=F.to_ary(e),a=null==t[0]?Y:t[0],null==t[1]?Y:t[1]):(t=[$["$[]"](2),$["$[]"](3)],a=t[0],t[1]),Z(a))Z(u)?(u=i.$restore_passthroughs(i.$sub_inline_xrefs(i.$sub_inline_anchors(i.$normalize_string(u,!0))),!1),s=v.$counter("footnote-number"),v.$register("footnotes",G(W(D,"Document"),"Footnote").$new(s,a,u)),o=(t=["ref",Y])[0],l=t[1]):(u=(s=Z(c=Q(v.$footnotes(),"find",[],((n=function(t){n.$$s;return null==t&&(t=Y),t.$id()["$=="](a)}).$$s=i,n.$$arity=1,n)))?(t=[c.$index(),c.$text()])[0]:(i.$logger().$warn("invalid footnote reference: "+a),(t=[Y,a])[0]),t[1]),o=(t=["xref",a,Y])[0],l=t[1],a=t[2]);else{if(!Z(u))return $["$[]"](0);u=i.$restore_passthroughs(i.$sub_inline_xrefs(i.$sub_inline_anchors(i.$normalize_string(u,!0))),!1),s=v.$counter("footnote-number"),v.$register("footnotes",G(W(D,"Document"),"Footnote").$new(s,a,u)),o=l=Y}return W(D,"Inline").$new(i,"footnote",u,K(["attributes","id","target","type"],{attributes:K(["index"],{index:s}),id:a,target:l,type:o})).$convert()}).$$s=n,f.$$arity=0,f))),n.$sub_inline_xrefs(n.$sub_inline_anchors(u,i),i)}catch(t){if(t===F.returner)return t.$v;throw t}},p.$$arity=1),F.def(L,"$sub_inline_anchors",m=function(t,e){var r,n,i,$,a;return null==this.context&&(this.context=Y),null==this.parent&&(this.parent=Y),null==e&&(e=Y),Z((r=this.context["$=="]("list_item"))?this.parent.$style()["$=="]("bibliography"):this.context["$=="]("list_item"))&&(t=Q(t,"sub",[W(D,"InlineBiblioAnchorRx")],((n=function(){var t,e,r=n.$$s||this;return W(D,"Inline").$new(r,"anchor","["+(Z(t=(e=tt["~"])===Y?Y:e["$[]"](2))?t:(e=tt["~"])===Y?Y:e["$[]"](1))+"]",K(["type","id","target"],{type:"bibref",id:(t=tt["~"])===Y?Y:t["$[]"](1),target:(t=tt["~"])===Y?Y:t["$[]"](1)})).$convert()}).$$s=this,n.$$arity=0,n))),Z(Z(r=Z(i=Z($=e["$!"]())?$:e["$[]"]("square_bracket"))?t["$include?"]("[["):i)?r:Z(i=Z($=e["$!"]())?$:e["$[]"]("macroish"))?t["$include?"]("or:"):i)&&(t=Q(t,"gsub",[W(D,"InlineAnchorRx")],((a=function(){var t,e,r=a.$$s||this,n=Y,i=Y;return Z((t=tt["~"])===Y?Y:t["$[]"](1))?((t=tt["~"])===Y?Y:t["$[]"](0)).$slice(1,((t=tt["~"])===Y?Y:t["$[]"](0)).$length()):(Z(n=(t=tt["~"])===Y?Y:t["$[]"](2))?i=(t=tt["~"])===Y?Y:t["$[]"](3):(n=(t=tt["~"])===Y?Y:t["$[]"](4),Z(Z(t=i=(e=tt["~"])===Y?Y:e["$[]"](5))?i["$include?"](W(D,"R_SB")):t)&&(i=i.$gsub(W(D,"ESC_R_SB"),W(D,"R_SB")))),W(D,"Inline").$new(r,"anchor",i,K(["type","id","target"],{type:"ref",id:n,target:n})).$convert())}).$$s=this,a.$$arity=0,a))),t},m.$$arity=-2),F.def(L,"$sub_inline_xrefs",y=function(t,e){var r,n,p;return null==e&&(e=Y),Z(Z(r=Z(n=Z(e)?e["$[]"]("macroish"):t["$include?"]("["))?t["$include?"]("xref:"):n)?r:Z(n=t["$include?"]("&"))?t["$include?"]("lt;&"):n)&&(t=Q(t,"gsub",[W(D,"InlineXrefMacroRx")],((p=function(){var t,e,r=p.$$s||this,n=Y,i=Y,$=Y,a=Y,s=Y,o=Y,l=Y,c=Y,u=Y,_=Y,d=Y,h=Y,f=Y;return null==r.document&&(r.document=Y),null==tt["~"]&&(tt["~"]=Y),null==tt.VERBOSE&&(tt.VERBOSE=Y),n=tt["~"],Z(((t=tt["~"])===Y?Y:t["$[]"](0))["$start_with?"](W(D,"RS")))?n["$[]"](0).$slice(1,n["$[]"](0).$length()):(t=[K([],{}),r.document],i=t[0],$=t[1],Z(a=n["$[]"](1))?(e=a.$split(",",2),t=F.to_ary(e),a=null==t[0]?Y:t[0],s=null==t[1]?Y:t[1],Z(s)&&(s=s.$lstrip())):(o=!0,a=n["$[]"](2),Z(s=n["$[]"](3))&&(Z(s["$include?"](W(D,"R_SB")))&&(s=s.$gsub(W(D,"ESC_R_SB"),W(D,"R_SB"))),Z(Z(t=$.$compat_mode()["$!"]())?s["$include?"]("="):t)&&(s=W(D,"AttributeList").$new(s,r).$parse_into(i)["$[]"](1)))),Z($.$compat_mode())?l=a:Z(c=a.$index("#"))?Z(q(c,0))?(Z(q(u=U(U(a.$length(),c),1),0))?(t=[a.$slice(0,c),a.$slice(B(c,1),u)],_=t[0],l=t[1]):_=a.$slice(0,c),Z((d=G("::","File").$extname(_))["$empty?"]())?h=_:Z(W(D,"ASCIIDOC_EXTENSIONS")["$[]"](d))&&(h=_=_.$slice(0,U(_.$length(),d.$length())))):(t=[a,a.$slice(1,a.$length())],f=t[0],l=t[1]):Z(Z(t=o)?a["$end_with?"](".adoc"):t)?h=_=a.$slice(0,U(a.$length(),5)):l=a,Z(f)?(a=l,Z(Z(t=tt.VERBOSE)?$.$catalog()["$[]"]("ids")["$key?"](a)["$!"]():t)&&r.$logger().$warn("invalid reference: "+a)):Z(_)?Z(Z(t=h)?Z(e=$.$attributes()["$[]"]("docname")["$=="](_))?e:$.$catalog()["$[]"]("includes")["$[]"](_):t)?Z(l)?(a=(t=[l,Y,"#"+l])[0],_=t[1],f=t[2],Z(Z(t=tt.VERBOSE)?$.$catalog()["$[]"]("ids")["$key?"](a)["$!"]():t)&&r.$logger().$warn("invalid reference: "+a)):(a=(t=[Y,Y,"#"])[0],_=t[1],f=t[2]):(t=[_,""+$.$attributes()["$[]"]("relfileprefix")+_+(Z(h)?$.$attributes().$fetch("relfilesuffix",$.$outfilesuffix()):"")],a=t[0],_=t[1],f=Z(l)?(a=(t=[a+"#"+l,_+"#"+l])[0],t[1]):_):Z(Z(t=$.$compat_mode())?t:W(D,"Compliance").$natural_xrefs()["$!"]())?(a=(t=[l,"#"+l])[0],f=t[1],Z(Z(t=tt.VERBOSE)?$.$catalog()["$[]"]("ids")["$key?"](a)["$!"]():t)&&r.$logger().$warn("invalid reference: "+a)):Z($.$catalog()["$[]"]("ids")["$key?"](l))?(a=(t=[l,"#"+l])[0],f=t[1]):Z(Z(t=a=$.$catalog()["$[]"]("ids").$key(l))?Z(e=l["$include?"](" "))?e:l.$downcase()["$!="](l):t)?(l=(t=[a,"#"+a])[0],f=t[1]):(a=(t=[l,"#"+l])[0],f=t[1],Z(tt.VERBOSE)&&r.$logger().$warn("invalid reference: "+a)),t=[_,l,a],i["$[]="]("path",t[0]),i["$[]="]("fragment",t[1]),i["$[]="]("refid",t[2]),W(D,"Inline").$new(r,"anchor",s,K(["type","target","attributes"],{type:"xref",target:f,attributes:i})).$convert())}).$$s=this,p.$$arity=0,p))),t},y.$$arity=-2),F.def(L,"$sub_callouts",g=function(t){var r,e=this,n=Y,i=Y;return n=Z(e["$attr?"]("line-comment"))?W(D,"CalloutSourceRxMap")["$[]"](e.$attr("line-comment")):W(D,"CalloutSourceRx"),i=0,Q(t,"gsub",[n],((r=function(){var t,e=r.$$s||this;return null==e.document&&(e.document=Y),Z((t=tt["~"])===Y?Y:t["$[]"](2))?((t=tt["~"])===Y?Y:t["$[]"](0)).$sub(W(D,"RS"),""):W(D,"Inline").$new(e,"callout",((t=tt["~"])===Y?Y:t["$[]"](4))["$=="](".")?(i=B(i,1)).$to_s():(t=tt["~"])===Y?Y:t["$[]"](4),K(["id","attributes"],{id:e.document.$callouts().$read_next_id(),attributes:K(["guard"],{guard:(t=tt["~"])===Y?Y:t["$[]"](1)})})).$convert()}).$$s=e,r.$$arity=0,r))},g.$$arity=1),F.def(L,"$sub_post_replacements",b=function(t){var e,r,n,i=Y,$=Y;return null==this.document&&(this.document=Y),null==this.attributes&&(this.attributes=Y),Z(Z(e=this.document.$attributes()["$key?"]("hardbreaks"))?e:this.attributes["$key?"]("hardbreaks-option"))?(i=t.$split(W(D,"LF"),-1),Z(H(i.$size(),2))?t:($=i.$pop(),Q(i,"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=Y),W(D,"Inline").$new(e,"break",Z(t["$end_with?"](W(D,"HARD_LINE_BREAK")))?t.$slice(0,U(t.$length(),2)):t,K(["type"],{type:"line"})).$convert()},r.$$s=this,r.$$arity=1,r))["$<<"]($).$join(W(D,"LF")))):Z(Z(e=t["$include?"](W(D,"PLUS")))?t["$include?"](W(D,"HARD_LINE_BREAK")):e)?Q(t,"gsub",[W(D,"HardLineBreakRx")],((n=function(){var t,e=n.$$s||this;return W(D,"Inline").$new(e,"break",(t=tt["~"])===Y?Y:t["$[]"](1),K(["type"],{type:"line"})).$convert()}).$$s=this,n.$$arity=0,n)):t},b.$$arity=1),F.def(L,"$convert_quoted_text",v=function(t,e,r){var n=Y,i=Y,$=Y,a=Y,s=Y;if(Z(t["$[]"](0)["$start_with?"](W(D,"RS")))){if(!Z(r["$=="]("constrained")?n=t["$[]"](2):r["$=="]("constrained")))return t["$[]"](0).$slice(1,t["$[]"](0).$length());i="["+n+"]"}return r["$=="]("constrained")?Z(i)?""+i+W(D,"Inline").$new(this,"quoted",t["$[]"](3),K(["type"],{type:e})).$convert():(Z($=t["$[]"](2))&&(a=(s=this.$parse_quoted_text_attributes($)).$delete("id"),e["$=="]("mark")&&(e="unquoted")),""+t["$[]"](1)+W(D,"Inline").$new(this,"quoted",t["$[]"](3),K(["type","id","attributes"],{type:e,id:a,attributes:s})).$convert()):(Z($=t["$[]"](1))&&(a=(s=this.$parse_quoted_text_attributes($)).$delete("id"),e["$=="]("mark")&&(e="unquoted")),W(D,"Inline").$new(this,"quoted",t["$[]"](2),K(["type","id","attributes"],{type:e,id:a,attributes:s})).$convert())},v.$$arity=3),F.def(L,"$parse_quoted_text_attributes",x=function(t){var e,r,n=Y,i=Y,$=Y,a=Y,s=Y,o=Y;return Z(t["$include?"](W(D,"ATTR_REF_HEAD")))&&(t=this.$sub_attributes(t)),Z(t["$include?"](","))&&(t=t.$slice(0,t.$index(","))),Z((t=t.$strip())["$empty?"]())?K([],{}):Z(Z(e=t["$start_with?"](".","#"))?W(D,"Compliance").$shorthand_property_syntax():e)?(n=t.$split("#",2),$=Z(q(n.$size(),1))?(r=n["$[]"](1).$split("."),e=F.to_ary(r),i=null==e[0]?Y:e[0],X.call(e,1)):(i=Y,[]),a=Z(n["$[]"](0)["$empty?"]())?[]:n["$[]"](0).$split("."),Z(q(a.$size(),1))&&a.$shift(),Z(q($.$size(),0))&&a.$concat($),s=K([],{}),Z(i)&&(o=["id",i],Q(s,"[]=",F.to_a(o)),o[U(o.length,1)]),Z(a["$empty?"]())||(o=["role",a.$join(" ")],Q(s,"[]=",F.to_a(o)),o[U(o.length,1)]),s):K(["role"],{role:t})},x.$$arity=1),F.def(L,"$parse_attributes",k=function(t,e,r){var n,i=Y,$=Y;return null==this.document&&(this.document=Y),null==e&&(e=[]),null==r&&(r=K([],{})),Z(Z(n=t)?t["$empty?"]()["$!"]():n)?(Z(Z(n=r["$[]"]("sub_input"))?t["$include?"](W(D,"ATTR_REF_HEAD")):n)&&(t=this.document.$sub_attributes(t)),Z(r["$[]"]("unescape_input"))&&(t=this.$unescape_bracketed_text(t)),Z(r["$[]"]("sub_result"))&&(i=this),Z($=r["$[]"]("into"))?W(D,"AttributeList").$new(t,i).$parse_into($,e):W(D,"AttributeList").$new(t,i).$parse(e)):K([],{})},k.$$arity=-2),F.def(L,"$expand_subs",E=function(t){var e,r,n=Y;return Z(G("::","Symbol")["$==="](t))?t["$=="]("none")?Y:Z(e=W(D,"SUB_GROUPS")["$[]"](t))?e:[t]:(n=[],Q(t,"each",[],((r=function(t){r.$$s;var e=Y;return null==t&&(t=Y),t["$=="]("none")?Y:Z(e=W(D,"SUB_GROUPS")["$[]"](t))?n=B(n,e):n["$<<"](t)}).$$s=this,r.$$arity=1,r)),Z(n["$empty?"]())?Y:n)},E.$$arity=1),F.def(L,"$unescape_bracketed_text",A=function(t){return Z(t["$empty?"]())||Z((t=t.$strip().$tr(W(D,"LF")," "))["$include?"](W(D,"R_SB")))&&(t=t.$gsub(W(D,"ESC_R_SB"),W(D,"R_SB"))),t},A.$$arity=1),F.def(L,"$normalize_string",O=function(t,e){var r;return null==e&&(e=!1),Z(t["$empty?"]())||(t=t.$strip().$tr(W(D,"LF")," "),Z(Z(r=e)?t["$include?"](W(D,"R_SB")):r)&&(t=t.$gsub(W(D,"ESC_R_SB"),W(D,"R_SB")))),t},O.$$arity=-2),F.def(L,"$unescape_brackets",S=function(t){return Z(t["$empty?"]())||Z(t["$include?"](W(D,"RS")))&&(t=t.$gsub(W(D,"ESC_R_SB"),W(D,"R_SB"))),t},S.$$arity=1),F.def(L,"$split_simple_csv",R=function(t){var r,e,n=Y,i=Y,$=Y;return Z(t["$empty?"]())?n=[]:Z(t["$include?"]('"'))?(n=[],$=!(i=[]),Q(t,"each_char",[],((r=function(t){r.$$s;var e=Y;return null==t&&(t=Y),","["$==="](e=t)?Z($)?i["$<<"](t):(n["$<<"](i.$join().$strip()),i=[]):'"'["$==="](e)?$=$["$!"]():i["$<<"](t)}).$$s=this,r.$$arity=1,r)),n["$<<"](i.$join().$strip())):n=Q(t.$split(","),"map",[],((e=function(t){e.$$s;return null==t&&(t=Y),t.$strip()}).$$s=this,e.$$arity=1,e)),n},R.$$arity=1),F.def(L,"$resolve_subs",C=function(t,l,c,e){var u,_=Y,d=Y,r=Y,n=Y;return null==l&&(l="block"),null==c&&(c=Y),null==e&&(e=Y),Z(t["$nil_or_empty?"]())?Y:(_=Y,Z(t["$include?"](" "))&&(t=t.$delete(" ")),d=W(D,"SubModifierSniffRx")["$match?"](t),Q(t.$split(","),"each",[],((u=function(t){u.$$s;var e,r,n=Y,i=Y,$=Y,a=Y,s=Y,o=Y;return null==t&&(t=Y),n=Y,Z(d)&&((i=t.$chr())["$=="]("+")?(n="append",t=t.$slice(1,t.$length())):i["$=="]("-")?(n="remove",t=t.$slice(1,t.$length())):Z(t["$end_with?"]("+"))&&(n="prepend",t=t.$chop())),t=t.$to_sym(),$=Z((e=l["$=="]("inline"))?Z(r=t["$=="]("verbatim"))?r:t["$=="]("v"):l["$=="]("inline"))?W(D,"BASIC_SUBS"):Z(W(D,"SUB_GROUPS")["$key?"](t))?W(D,"SUB_GROUPS")["$[]"](t):Z(Z(e=(r=l["$=="]("inline"))?t.$length()["$=="](1):l["$=="]("inline"))?W(D,"SUB_HINTS")["$key?"](t):e)?(a=W(D,"SUB_HINTS")["$[]"](t),Z(s=W(D,"SUB_GROUPS")["$[]"](a))?s:[a]):[t],Z(n)?(_=Z(e=_)?e:Z(c)?c.$drop(0):[],"append"["$==="](o=n)?_=B(_,$):"prepend"["$==="](o)?_=B($,_):"remove"["$==="](o)?_=U(_,$):Y):_=B(_=Z(e=_)?e:[],$)}).$$s=this,u.$$arity=1,u)),Z(_)?(r=_["$&"](W(D,"SUB_OPTIONS")["$[]"](l)),Z(U(_,r)["$empty?"]())||(n=U(_,r),this.$logger().$warn("invalid substitution type"+(Z(q(n.$size(),1))?"s":"")+(Z(e)?" for ":"")+e+": "+n.$join(", "))),r):Y)},C.$$arity=-2),F.def(L,"$resolve_block_subs",T=function(t,e,r){return this.$resolve_subs(t,"block",e,r)},T.$$arity=3),F.def(L,"$resolve_pass_subs",M=function(t){return this.$resolve_subs(t,"inline",Y,"passthrough macro")},M.$$arity=1),F.def(L,"$highlight_source",I=function(t,e,u){var r,n,i,_,$=this,a=Y,s=Y,d=Y,h=Y,f=Y,o=Y,l=Y,p=Y,c=Y,m=Y,y=Y,g=Y,b=Y,v=Y,x=Y,k=Y;return null==$.document&&($.document=Y),null==$.passthroughs&&($.passthroughs=Y),null==u&&(u=Y),a=u=Z(r=u)?r:$.document.$attributes()["$[]"]("source-highlighter"),"coderay"["$==="](a)?Z(Z(r=Z(n=s=G("::","CodeRay","skip_raise")?"constant":Y)?n:null!=w.$$cvars["@@coderay_unavailable"]?"class variable":Y)?r:$.document.$attributes()["$[]"]("coderay-unavailable"))||(Z(W(D,"Helpers").$require_library("coderay",!0,"warn")["$nil?"]())?F.class_variable_set(w,"@@coderay_unavailable",!0):s=!0):"pygments"["$==="](a)?Z(Z(r=Z(n=s=G("::","Pygments","skip_raise")?"constant":Y)?n:null!=w.$$cvars["@@pygments_unavailable"]?"class variable":Y)?r:$.document.$attributes()["$[]"]("pygments-unavailable"))||(Z(W(D,"Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())?F.class_variable_set(w,"@@pygments_unavailable",!0):s=!0):s=!1,Z(s)?(d=0,h=!1,Z(e)?(f=K([],{}),o=-1,l=Z($["$attr?"]("line-comment"))?W(D,"CalloutExtractRxMap")["$[]"]($.$attr("line-comment")):W(D,"CalloutExtractRx"),t=Q(t.$split(W(D,"LF"),-1),"map",[],(i=function(t){var r,e=i.$$s||this;return null==t&&(t=Y),d=B(d,1),Q(t,"gsub",[l],((r=function(){r.$$s;var t,e=Y;return Z((t=tt["~"])===Y?Y:t["$[]"](2))?((t=tt["~"])===Y?Y:t["$[]"](0)).$sub(W(D,"RS"),""):((Z(t=f["$[]"](d))?t:(e=[d,[]],Q(f,"[]=",F.to_a(e)),e[U(e.length,1)]))["$<<"]([(t=tt["~"])===Y?Y:t["$[]"](1),(t=tt["~"])===Y?Y:t["$[]"](4)]),o=d,Y)}).$$s=e,r.$$arity=0,r))},i.$$s=$,i.$$arity=1,i)).$join(W(D,"LF")),h=o["$=="](d),Z(f["$empty?"]())&&(f=Y)):f=Y,c=p=Y,"coderay"["$==="](a=u)?(Z(p=Z($["$attr?"]("linenums",Y,!1))?(Z(r=$.document.$attributes()["$[]"]("coderay-linenums-mode"))?r:"table").$to_sym():Y)&&(Z(H(m=$.$attr("start",Y,1).$to_i(),1))&&(m=1),Z($["$attr?"]("highlight",Y,!1))&&(c=$.$resolve_lines_to_highlight(t,$.$attr("highlight",Y,!1)))),y=G(G("::","CodeRay"),"Duo")["$[]"]($.$attr("language","text",!1).$to_sym(),"html",K(["css","line_numbers","line_number_start","line_number_anchors","highlight_lines","bold_every"],{css:(Z(r=$.document.$attributes()["$[]"]("coderay-css"))?r:"class").$to_sym(),line_numbers:p,line_number_start:m,line_number_anchors:!1,highlight_lines:c,bold_every:!1})).$highlight(t)):"pygments"["$==="](a)&&(g=Z(r=G(G("::","Pygments"),"Lexer").$find_by_alias($.$attr("language","text",!1)))?r:G(G("::","Pygments"),"Lexer").$find_by_mimetype("text/plain"),b=K(["cssclass","classprefix","nobackground","stripnl"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0,stripnl:!1}),g.$name()["$=="]("PHP")&&(v=["startinline",$["$option?"]("mixed")["$!"]()],Q(b,"[]=",F.to_a(v)),v[U(v.length,1)]),(Z(r=$.document.$attributes()["$[]"]("pygments-css"))?r:"class")["$=="]("class")||(v=["noclasses",!0],Q(b,"[]=",F.to_a(v)),v[U(v.length,1)],v=["style",Z(r=$.document.$attributes()["$[]"]("pygments-style"))?r:G(W(D,"Stylesheets"),"DEFAULT_PYGMENTS_STYLE")],Q(b,"[]=",F.to_a(v)),v[U(v.length,1)]),Z($["$attr?"]("highlight",Y,!1))&&(Z((c=$.$resolve_lines_to_highlight(t,$.$attr("highlight",Y,!1)))["$empty?"]())||(v=["hl_lines",c.$join(" ")],Q(b,"[]=",F.to_a(v)),v[U(v.length,1)])),Z(Z(r=Z(n=$["$attr?"]("linenums",Y,!1))?(v=["linenostart",Z(H((m=$.$attr("start",1,!1)).$to_i(),1))?1:m],Q(b,"[]=",F.to_a(v)),v[U(v.length,1)]):n)?(v=["linenos",Z(n=$.document.$attributes()["$[]"]("pygments-linenums-mode"))?n:"table"],Q(b,"[]=",F.to_a(v)),v[U(v.length,1)])["$=="]("table"):r)?(p="table",y=Z(y=g.$highlight(t,K(["options"],{options:b})))?y.$sub(W(D,"PygmentsWrapperDivRx"),"\\1").$gsub(W(D,"PygmentsWrapperPreRx"),"\\1"):$.$sub_specialchars(t)):Z(y=g.$highlight(t,K(["options"],{options:b})))?Z(W(D,"PygmentsWrapperPreRx")["$=~"](y))&&(y=(r=tt["~"])===Y?Y:r["$[]"](1)):y=$.$sub_specialchars(t)),Z($.passthroughs["$empty?"]())||(y=y.$gsub(W(D,"HighlightedPassSlotRx"),W(D,"PASS_START")+"\\1"+W(D,"PASS_END"))),Z(Z(r=e)?f:r)?(x=d=0,k=p["$!="]("table"),Q(y.$split(W(D,"LF"),-1),"map",[],(_=function(t){var e,r,n,i=_.$$s||this,$=Y,a=Y,s=Y,o=Y,l=Y,c=Y;if(null==i.document&&(i.document=Y),null==t&&(t=Y),Z(k));else{if(!Z(t["$include?"]('<td class="code">')))return t;k=!0}return d=B(d,1),Z($=f.$delete(d))?(a=Y,Z(Z(e=Z(r=h)?f["$empty?"]():r)?p["$=="]("table"):e)&&(Z((e=u["$=="]("coderay"))?s=t.$index("</pre>"):u["$=="]("coderay"))?(t=(e=[t.$slice(0,s),t.$slice(s,t.$length())])[0],a=e[1]):Z((e=u["$=="]("pygments"))?s=t["$start_with?"]("</td>"):u["$=="]("pygments"))&&(t=(e=["",t])[0],a=e[1])),$.$size()["$=="](1)?(r=$["$[]"](0),e=F.to_ary(r),o=null==e[0]?Y:e[0],l=null==e[1]?Y:e[1],""+t+W(D,"Inline").$new(i,"callout",l["$=="](".")?(x=B(x,1)).$to_s():l,K(["id","attributes"],{id:i.document.$callouts().$read_next_id(),attributes:K(["guard"],{guard:o})})).$convert()+a):(c=Q($,"map",[],(n=function(t,e){var r=n.$$s||this;return null==r.document&&(r.document=Y),null==t&&(t=Y),null==e&&(e=Y),W(D,"Inline").$new(r,"callout",e["$=="](".")?(x=B(x,1)).$to_s():e,K(["id","attributes"],{id:r.document.$callouts().$read_next_id(),attributes:K(["guard"],{guard:t})})).$convert()},n.$$s=i,n.$$arity=2,n)).$join(" "),""+t+c+a)):t},_.$$s=$,_.$$arity=1,_)).$join(W(D,"LF"))):y):$.$sub_source(t,e)},I.$$arity=-3),F.def(L,"$resolve_lines_to_highlight",N=function(o,t){var l,c=Y;return c=[],Z(t["$include?"](" "))&&(t=t.$delete(" ")),Q(Z(t["$include?"](","))?t.$split(","):t.$split(";"),"map",[],((l=function(t){l.$$s;var e,r,n=Y,i=Y,$=Y,a=Y,s=Y;return null==t&&(t=Y),n=!1,Z(t["$start_with?"]("!"))&&(t=t.$slice(1,t.$length()),n=!0),Z(i=Z(t["$include?"](".."))?"..":Z(t["$include?"]("-"))?"-":Y)?(r=t.$split(i,2),e=F.to_ary(r),$=null==e[0]?Y:e[0],a=null==e[1]?Y:e[1],Z(Z(e=a["$empty?"]())?e:H(a=a.$to_i(),0))&&(a=B(o.$count(W(D,"LF")),1)),s=G("::","Range").$new($.$to_i(),a).$to_a(),Z(n)?c=U(c,s):c.$concat(s)):Z(n)?c.$delete(t.$to_i()):c["$<<"](t.$to_i())}).$$s=this,l.$$arity=1,l)),c.$sort().$uniq()},N.$$arity=2),F.def(L,"$sub_source",P=function(t,e){return Z(e)?this.$sub_callouts(this.$sub_specialchars(t)):this.$sub_specialchars(t)},P.$$arity=2),F.def(L,"$lock_in_subs",z=function(){var t,e,r,n,i=this,$=Y,a=Y,s=Y,o=Y,l=Y;if(null==i.default_subs&&(i.default_subs=Y),null==i.content_model&&(i.content_model=Y),null==i.context&&(i.context=Y),null==i.subs&&(i.subs=Y),null==i.attributes&&(i.attributes=Y),null==i.style&&(i.style=Y),null==i.document&&(i.document=Y),Z($=i.default_subs));else if(a=i.content_model,"simple"["$==="](a))$=W(D,"NORMAL_SUBS");else if("verbatim"["$==="](a))$=Z(Z(t=i.context["$=="]("listing"))?t:(e=i.context["$=="]("literal"))?i["$option?"]("listparagraph")["$!"]():i.context["$=="]("literal"))?W(D,"VERBATIM_SUBS"):i.context["$=="]("verse")?W(D,"NORMAL_SUBS"):W(D,"BASIC_SUBS");else{if(!"raw"["$==="](a))return i.subs;$=i.context["$=="]("stem")?W(D,"BASIC_SUBS"):W(D,"NONE_SUBS")}return Z(s=i.attributes["$[]"]("subs"))?i.subs=Z(t=i.$resolve_block_subs(s,$,i.context))?t:[]:i.subs=$.$drop(0),Z(Z(t=Z(e=Z(r=Z(n=i.context["$=="]("listing")?i.style["$=="]("source"):i.context["$=="]("listing"))?i.attributes["$key?"]("language"):n)?i.document["$basebackend?"]("html"):r)?W(D,"SUB_HIGHLIGHT")["$include?"](i.document.$attributes()["$[]"]("source-highlighter")):e)?o=i.subs.$index("specialcharacters"):t)&&(l=[o,"highlight"],Q(i.subs,"[]=",F.to_a(l)),l[U(l.length,1)]),i.subs},z.$$arity=0)}(i[0],i)}(t[0],t)},Opal.modules["asciidoctor/abstract_node"]=function(F){function B(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function q(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}F.top;var t=[],j=F.nil,U=F.const_get_qualified,H=F.const_get_relative,$=(F.breaker,F.slice,F.module),Y=F.klass,G=F.hash2,W=F.truthy,X=F.send;return F.add_stubs(["$include","$attr_reader","$attr_accessor","$==","$document","$to_s","$key?","$dup","$[]","$raise","$converter","$attributes","$nil?","$[]=","$-","$delete","$+","$update","$nil_or_empty?","$split","$include?","$empty?","$join","$apply_reftext_subs","$attr?","$extname","$attr","$image_uri","$<","$safe","$uriish?","$uri_encode_spaces","$normalize_web_path","$generate_data_uri_from_uri","$generate_data_uri","$slice","$length","$normalize_system_path","$readable?","$strict_encode64","$binread","$warn","$logger","$require_library","$!","$open","$content_type","$read","$base_dir","$root?","$path_resolver","$system_path","$web_path","$===","$!=","$normalize_lines_array","$to_a","$each_line","$open_uri","$fetch","$read_asset","$gsub"]),function(t,e){function r(){}var n=r=$(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k,w,E,A,O,S,R,C,T,M,I,N,P,z=n=Y(t,null,"AbstractNode",n),L=z.prototype,D=[z].concat(r);L.document=L.attributes=L.parent=j,z.$include(H(D,"Logging")),z.$include(H(D,"Substitutors")),z.$attr_reader("attributes"),z.$attr_reader("context"),z.$attr_reader("document"),z.$attr_accessor("id"),z.$attr_reader("node_name"),z.$attr_reader("parent"),F.def(z,"$initialize",i=function(t,e,r){var n,i=this;return null==r&&(r=G([],{})),e["$=="]("document")?(n=[i,j],i.document=n[0],i.parent=n[1]):W(t)?(n=[t.$document(),t],i.document=n[0],i.parent=n[1]):i.document=i.parent=j,i.node_name=(i.context=e).$to_s(),i.attributes=W(r["$key?"]("attributes"))?r["$[]"]("attributes").$dup():G([],{}),i.passthroughs=G([],{})},i.$$arity=-3),F.def(z,"$block?",$=function(){return this.$raise(U("::","NotImplementedError"))},$.$$arity=0),F.def(z,"$inline?",a=function(){return this.$raise(U("::","NotImplementedError"))},a.$$arity=0),F.def(z,"$converter",s=function(){return this.document.$converter()},s.$$arity=0),F.def(z,"$parent=",o=function(t){var e;return e=[t,t.$document()],this.parent=e[0],this.document=e[1],e},o.$$arity=1),F.def(z,"$attr",l=function(t,e,r){var n,i,$=this;return null==e&&(e=j),null==r&&(r=!0),t=t.$to_s(),W(n=$.attributes["$[]"](t))?n:W(W(i=r)?$.parent:i)&&W(i=$.document.$attributes()["$[]"](t))?i:e},l.$$arity=-2),F.def(z,"$attr?",c=function(t,e,r){var n,i,$,a=this;return null==e&&(e=j),null==r&&(r=!0),t=t.$to_s(),W(e["$nil?"]())?W(n=a.attributes["$key?"](t))?n:W(i=W($=r)?a.parent:$)?a.document.$attributes()["$key?"](t):i:e["$=="](W(n=a.attributes["$[]"](t))?n:W(W(i=r)?a.parent:i)?a.document.$attributes()["$[]"](t):j)},c.$$arity=-2),F.def(z,"$set_attr",u=function(t,e,r){var n=j;return null==e&&(e=""),null==r&&(r=!0),!W(r["$=="](!1)?this.attributes["$key?"](t):r["$=="](!1))&&(n=[t,e],X(this.attributes,"[]=",F.to_a(n)),n[B(n.length,1)],!0)},u.$$arity=-2),F.def(z,"$remove_attr",_=function(t){return this.attributes.$delete(t)},_.$$arity=1),F.def(z,"$option?",d=function(t){return this.attributes["$key?"](t+"-option")},d.$$arity=1),F.def(z,"$set_option",h=function(t){var e,r,n=j,i=j,$=j;return W((n=this.attributes)["$[]"]("options"))?W(n["$[]"](i=t+"-option"))?j:($=["options",(e=n["$[]"]("options"),r=","+t,"number"==typeof e&&"number"==typeof r?e+r:e["$+"](r))],X(n,"[]=",F.to_a($)),$[B($.length,1)],$=[i,""],X(n,"[]=",F.to_a($)),$[B($.length,1)]):($=["options",t],X(n,"[]=",F.to_a($)),$[B($.length,1)],$=[t+"-option",""],X(n,"[]=",F.to_a($)),$[B($.length,1)])},h.$$arity=1),F.def(z,"$update_attributes",f=function(t){return this.attributes.$update(t),j},f.$$arity=1),F.def(z,"$role",p=function(){var t;return W(t=this.attributes["$[]"]("role"))?t:this.document.$attributes()["$[]"]("role")},p.$$arity=0),F.def(z,"$roles",m=function(){var t,e=j;return W((e=W(t=this.attributes["$[]"]("role"))?t:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())?[]:e.$split()},m.$$arity=0),F.def(z,"$role?",y=function(t){var e;return null==t&&(t=j),W(t)?t["$=="](W(e=this.attributes["$[]"]("role"))?e:this.document.$attributes()["$[]"]("role")):W(e=this.attributes["$key?"]("role"))?e:this.document.$attributes()["$key?"]("role")},y.$$arity=-1),F.def(z,"$has_role?",g=function(t){var e,r=j;return!!W(r=W(e=this.attributes["$[]"]("role"))?e:this.document.$attributes()["$[]"]("role"))&&(" "+r+" ")["$include?"](" "+t+" ")},g.$$arity=1),F.def(z,"$add_role",b=function(t){var e=j,r=j;return W((e=this.attributes["$[]"]("role"))["$nil_or_empty?"]())?(r=["role",t],X(this.attributes,"[]=",F.to_a(r)),r[B(r.length,1)],!0):!W((" "+e+" ")["$include?"](" "+t+" "))&&(r=["role",e+" "+t],X(this.attributes,"[]=",F.to_a(r)),r[B(r.length,1)],!0)},b.$$arity=1),F.def(z,"$remove_role",v=function(t){var e=j,r=j;return!W((e=this.attributes["$[]"]("role"))["$nil_or_empty?"]())&&(!!W((e=e.$split()).$delete(t))&&(W(e["$empty?"]())?this.attributes.$delete("role"):(r=["role",e.$join(" ")],X(this.attributes,"[]=",F.to_a(r)),r[B(r.length,1)]),!0))},v.$$arity=1),F.def(z,"$reftext",x=function(){var t=j;return W(t=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(t):j},x.$$arity=0),F.def(z,"$reftext?",k=function(){return this.attributes["$key?"]("reftext")},k.$$arity=0),F.def(z,"$icon_uri",w=function(t){var e=j;return W(this["$attr?"]("icon"))?W(U("::","File").$extname(e=this.$attr("icon"))["$empty?"]())&&(e=e+"."+this.document.$attr("icontype","png")):e=t+"."+this.document.$attr("icontype","png"),this.$image_uri(e,"iconsdir")},w.$$arity=1),F.def(z,"$image_uri",E=function(t,e){var r,n,i,$,a=j,s=j;return null==e&&(e="imagesdir"),W(W(r=q((a=this.document).$safe(),U(H(D,"SafeMode"),"SECURE")))?a["$attr?"]("data-uri"):r)?W(W(r=W(n=H(D,"Helpers")["$uriish?"](t))?t=this.$uri_encode_spaces(t):n)?r:W(n=W(i=W($=e)?s=a.$attr(e):$)?H(D,"Helpers")["$uriish?"](s):i)?t=this.$normalize_web_path(t,s,!1):n)?W(a["$attr?"]("allow-uri-read"))?this.$generate_data_uri_from_uri(t,a["$attr?"]("cache-uri")):t:this.$generate_data_uri(t,e):this.$normalize_web_path(t,W(e)?a.$attr(e):j)},E.$$arity=-2),F.def(z,"$media_uri",A=function(t,e){var r=this;return null==e&&(e="imagesdir"),r.$normalize_web_path(t,W(e)?r.document.$attr(e):j)},A.$$arity=-2),F.def(z,"$generate_data_uri",O=function(t,e){var r=j,n=j,i=j;return null==e&&(e=j),r=U("::","File").$extname(t),n=r["$=="](".svg")?"image/svg+xml":"image/"+r.$slice(1,r.$length()),i=W(e)?this.$normalize_system_path(t,this.document.$attr(e),j,G(["target_name"],{target_name:"image"})):this.$normalize_system_path(t),W(U("::","File")["$readable?"](i))?"data:"+n+";base64,"+U("::","Base64").$strict_encode64(U("::","IO").$binread(i)):(this.$logger().$warn("image to embed not found or not readable: "+i),"data:"+n+";base64,")},O.$$arity=-2),F.def(z,"$generate_data_uri_from_uri",S=function(e,t){var r,n=this,i=j,$=j;null==t&&(t=!1),W(t)?H(D,"Helpers").$require_library("open-uri/cached","open-uri-cached"):W(U("::","RUBY_ENGINE_OPAL")["$!"]())&&U("::","OpenURI");try{return i=j,$=X(n,"open",[e,"rb"],((r=function(t){r.$$s;return null==t&&(t=j),i=t.$content_type(),t.$read()}).$$s=n,r.$$arity=1,r)),"data:"+i+";base64,"+U("::","Base64").$strict_encode64($)}catch(t){if(!F.rescue(t,[H(D,"StandardError")]))throw t;try{return n.$logger().$warn("could not retrieve image data from URI: "+e),e}finally{F.pop_exception()}}},S.$$arity=-2),F.def(z,"$normalize_asset_path",R=function(t,e,r){return null==e&&(e="path"),null==r&&(r=!0),this.$normalize_system_path(t,this.document.$base_dir(),j,G(["target_name","recover"],{target_name:e,recover:r}))},R.$$arity=-2),F.def(z,"$normalize_system_path",C=function(t,e,r,n){var i=j;return null==e&&(e=j),null==r&&(r=j),null==n&&(n=G([],{})),W(q((i=this.document).$safe(),U(H(D,"SafeMode"),"SAFE")))?W(e)?W(i.$path_resolver()["$root?"](e))||(e=U("::","File").$join(i.$base_dir(),e)):e=i.$base_dir():(W(e)||(e=i.$base_dir()),W(r)||(r=i.$base_dir())),i.$path_resolver().$system_path(t,e,r,n)},C.$$arity=-2),F.def(z,"$normalize_web_path",T=function(t,e,r){var n;return null==e&&(e=j),null==r&&(r=!0),W(W(n=r)?H(D,"Helpers")["$uriish?"](t):n)?this.$uri_encode_spaces(t):this.document.$path_resolver().$web_path(t,e)},T.$$arity=-2),F.def(z,"$read_asset",M=function(t,e){var r,n;return null==e&&(e=G([],{})),W(U("::","Hash")["$==="](e))||(e=G(["warn_on_failure"],{warn_on_failure:e["$!="](!1)})),W(U("::","File")["$readable?"](t))?W(e["$[]"]("normalize"))?H(D,"Helpers").$normalize_lines_array(X(U("::","File"),"open",[t,"rb"],(r=function(t){r.$$s;return null==t&&(t=j),t.$each_line().$to_a()},r.$$s=this,r.$$arity=1,r))).$join(H(D,"LF")):U("::","IO").$read(t):(W(e["$[]"]("warn_on_failure"))&&this.$logger().$warn((W(n=this.$attr("docfile"))?n:"<stdin>")+": "+(W(n=e["$[]"]("label"))?n:"file")+" does not exist or cannot be read: "+t),j)},M.$$arity=-2),F.def(z,"$read_contents",I=function(e,r){var n,t,i,$,a,s=this,o=j,l=j;if(null==r&&(r=G([],{})),o=s.document,!W(W(n=H(D,"Helpers")["$uriish?"](e))?n:W(t=W(i=l=r["$[]"]("start"))?H(D,"Helpers")["$uriish?"](l):i)?e=o.$path_resolver().$web_path(e,l):t))return e=s.$normalize_system_path(e,r["$[]"]("start"),j,G(["target_name"],{target_name:W(n=r["$[]"]("label"))?n:"asset"})),s.$read_asset(e,G(["normalize","warn_on_failure","label"],{normalize:r["$[]"]("normalize"),warn_on_failure:r.$fetch("warn_on_failure",!0),label:r["$[]"]("label")}));if(!W(o["$attr?"]("allow-uri-read")))return W(r.$fetch("warn_on_failure",!0))&&s.$logger().$warn("cannot retrieve contents of "+(W(n=r["$[]"]("label"))?n:"asset")+" at URI: "+e+" (allow-uri-read attribute not enabled)"),j;W(o["$attr?"]("cache-uri"))&&H(D,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{return W(r["$[]"]("normalize"))?H(D,"Helpers").$normalize_lines_array(X(U("::","OpenURI"),"open_uri",[e],($=function(t){$.$$s;return null==t&&(t=j),t.$each_line().$to_a()},$.$$s=s,$.$$arity=1,$))).$join(H(D,"LF")):X(U("::","OpenURI"),"open_uri",[e],((a=function(t){a.$$s;return null==t&&(t=j),t.$read()}).$$s=s,a.$$arity=1,a))}catch(t){if(!F.rescue(t,[H(D,"StandardError")]))throw t;try{return W(r.$fetch("warn_on_failure",!0))&&s.$logger().$warn("could not retrieve contents of "+(W(n=r["$[]"]("label"))?n:"asset")+" at URI: "+e),j}finally{F.pop_exception()}}},I.$$arity=-2),F.def(z,"$uri_encode_spaces",N=function(t){return W(t["$include?"](" "))?t.$gsub(" ","%20"):t},N.$$arity=1),F.def(z,"$is_uri?",P=function(t){return H(D,"Helpers")["$uriish?"](t)},P.$$arity=1)}(i[0],0,i)}(t[0],t)},Opal.modules["asciidoctor/abstract_block"]=function(P){function z(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function L(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}P.top;var t=[],D=P.nil,F=P.const_get_qualified,B=P.const_get_relative,$=(P.breaker,P.slice,P.module),q=P.klass,j=P.hash2,U=P.send,H=P.truthy;return P.add_stubs(["$attr_reader","$attr_writer","$attr_accessor","$==","$!=","$level","$file","$lineno","$playback_attributes","$convert","$converter","$join","$map","$to_s","$parent","$parent=","$-","$<<","$!","$empty?","$>","$find_by_internal","$to_proc","$[]","$has_role?","$replace","$raise","$===","$header?","$each","$flatten","$context","$blocks","$+","$find_index","$next_adjacent_block","$select","$sub_specialchars","$match?","$sub_replacements","$title","$apply_title_subs","$include?","$delete","$reftext","$sprintf","$sub_quotes","$compat_mode","$attributes","$chomp","$increment_and_store_counter","$index=","$numbered","$sectname","$counter","$numeral=","$numeral","$caption=","$assign_numeral","$reindex_sections"]),function(t,e){function r(){}var n=r=$(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var l,i,$,a,s,o,c,u,_,d,h,f,y,p,m,g,b,v,x,k,w,E,A,O,S,R,C,T,M=n=q(t,e,"AbstractBlock",n),I=M.prototype,N=[M].concat(r);I.source_location=I.document=I.attributes=I.blocks=I.next_section_index=I.context=I.style=I.id=I.header=I.caption=I.title_converted=I.converted_title=I.title=I.subs=I.numeral=I.next_section_ordinal=D,M.$attr_reader("blocks"),M.$attr_writer("caption"),M.$attr_accessor("content_model"),M.$attr_accessor("level"),M.$attr_accessor("numeral"),P.alias(M,"number","numeral"),P.alias(M,"number=","numeral="),M.$attr_accessor("source_location"),M.$attr_accessor("style"),M.$attr_reader("subs"),P.def(M,"$initialize",l=function(t,e,r){var n,i=l.$$p,$=this,a=D,s=D,o=D;for(i&&(l.$$p=null),s=0,o=arguments.length,a=new Array(o);s<o;s++)a[s]=arguments[s];return null==r&&(r=j([],{})),U($,P.find_super_dispatcher($,"initialize",l,!1),a,i),$.content_model="compound",$.blocks=[],$.subs=[],$.id=$.title=$.title_converted=$.caption=$.numeral=$.style=$.default_subs=$.source_location=D,e["$=="]("document")?$.level=0:H(H(n=t)?e["$!="]("section"):n)?$.level=t.$level():$.level=D,$.next_section_index=0,$.next_section_ordinal=1},l.$$arity=-3),P.def(M,"$block?",i=function(){return!0},i.$$arity=0),P.def(M,"$inline?",$=function(){return!1},$.$$arity=0),P.def(M,"$file",a=function(){var t;return H(t=this.source_location)?this.source_location.$file():t},a.$$arity=0),P.def(M,"$lineno",s=function(){var t;return H(t=this.source_location)?this.source_location.$lineno():t},s.$$arity=0),P.def(M,"$convert",o=function(){return this.document.$playback_attributes(this.attributes),this.$converter().$convert(this)},o.$$arity=0),P.alias(M,"render","convert"),P.def(M,"$content",c=function(){var e;return U(this.blocks,"map",[],(e=function(t){e.$$s;return null==t&&(t=D),t.$convert()},e.$$s=this,e.$$arity=1,e)).$join(B(N,"LF"))},c.$$arity=0),P.def(M,"$context=",u=function(t){return this.node_name=(this.context=t).$to_s()},u.$$arity=1),P.def(M,"$<<",_=function(t){var e=D;return t.$parent()["$=="](this)||(e=[this],U(t,"parent=",P.to_a(e)),e[z(e.length,1)]),this.blocks["$<<"](t),this},_.$$arity=1),P.alias(M,"append","<<"),P.def(M,"$blocks?",d=function(){return this.blocks["$empty?"]()["$!"]()},d.$$arity=0),P.def(M,"$sections?",h=function(){var t,e;return t=this.next_section_index,e=0,"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)},h.$$arity=0),P.def(M,"$find_by",f=function(t){var e=f.$$p,r=e||D,n=D;e&&(f.$$p=null),e&&(f.$$p=null),null==t&&(t=j([],{}));try{return U(this,"find_by_internal",[t,n=[]],r.$to_proc())}catch(t){if(!P.rescue(t,[F("::","StopIteration")]))throw t;try{return n}finally{P.pop_exception()}}},f.$$arity=-1),P.alias(M,"query","find_by"),P.def(M,"$find_by_internal",y=function(e,r){var t,n,i,$,a,s,o=y.$$p,l=o||D,c=this,u=D,_=D,d=D,h=D,f=D,p=D,m=D;if(o&&(y.$$p=null),o&&(y.$$p=null),null==e&&(e=j([],{})),null==r&&(r=[]),H(H(t=H(n=H(i=H($=u=(_=e["$[]"]("context"))["$!"]())?$:_["$=="](c.context))?H($=(d=e["$[]"]("style"))["$!"]())?$:d["$=="](c.style):i)?H(i=(h=e["$[]"]("role"))["$!"]())?i:c["$has_role?"](h):n)?H(n=(f=e["$[]"]("id"))["$!"]())?n:f["$=="](c.id):t))if(H(f))r.$replace(l!==D?H(P.yield1(l,c))?[c]:[]:[c]),c.$raise(F("::","StopIteration"));else if(l!==D){if(H(p=P.yield1(l,c))){if("skip_children"["$==="](m=p))return r["$<<"](c),r;if("skip"["$==="](m))return r;r["$<<"](c)}}else r["$<<"](c);return H(H(t=(n=c.context["$=="]("document"))?H(i=u)?i:_["$=="]("section"):c.context["$=="]("document"))?c["$header?"]():t)&&U(c.header,"find_by_internal",[e,r],l.$to_proc()),_["$=="]("document")||(c.context["$=="]("dlist")?H(H(t=u)?t:_["$!="]("section"))&&U(c.blocks.$flatten(),"each",[],((a=function(t){a.$$s;return null==t&&(t=D),H(t)?U(t,"find_by_internal",[e,r],l.$to_proc()):D}).$$s=c,a.$$arity=1,a)):H(U(c.blocks,"each",[],((s=function(t){s.$$s;return null==t&&(t=D),H(_["$=="]("section")?t.$context()["$!="]("section"):_["$=="]("section"))?D:U(t,"find_by_internal",[e,r],l.$to_proc())}).$$s=c,s.$$arity=1,s)))),r},y.$$arity=-1),P.def(M,"$next_adjacent_block",p=function(){var t=D,e=D;return this.context["$=="]("document")?D:H(t=(e=this.$parent()).$blocks()["$[]"](L(e.$blocks().$find_index(this),1)))?t:e.$next_adjacent_block()},p.$$arity=0),P.def(M,"$sections",m=function(){var e;return U(this.blocks,"select",[],((e=function(t){e.$$s;return null==t&&(t=D),t.$context()["$=="]("section")}).$$s=this,e.$$arity=1,e))},m.$$arity=0),P.def(M,"$alt",g=function(){var t=D;return H(t=this.attributes["$[]"]("alt"))?t["$=="](this.attributes["$[]"]("default-alt"))?this.$sub_specialchars(t):(t=this.$sub_specialchars(t),H(B(N,"ReplaceableTextRx")["$match?"](t))?this.$sub_replacements(t):t):D},g.$$arity=0),P.def(M,"$caption",b=function(){return this.context["$=="]("admonition")?this.attributes["$[]"]("textlabel"):this.caption},b.$$arity=0),P.def(M,"$captioned_title",v=function(){return""+this.caption+this.$title()},v.$$arity=0),P.def(M,"$list_marker_keyword",x=function(t){var e;return null==t&&(t=D),B(N,"ORDERED_LIST_KEYWORDS")["$[]"](H(e=t)?e:this.style)},x.$$arity=-1),P.def(M,"$title",k=function(){var t,e;return H(this.title_converted)?this.converted_title:this.converted_title=H(t=H(e=this.title_converted=!0)?this.title:e)?this.$apply_title_subs(this.title):t},k.$$arity=0),P.def(M,"$title?",w=function(){return!!H(this.title)},w.$$arity=0),P.def(M,"$title=",E=function(t){var e;return e=[t,D],this.title=e[0],this.title_converted=e[1],e},E.$$arity=1),P.def(M,"$sub?",A=function(t){return this.subs["$include?"](t)},A.$$arity=1),P.def(M,"$remove_sub",O=function(t){return this.subs.$delete(t),D},O.$$arity=1),P.def(M,"$xreftext",S=function(t){var e,r,n=this,i=D,$=D,a=D,s=D;return null==t&&(t=D),H(H(e=i=n.$reftext())?i["$empty?"]()["$!"]():e)?i:H(H(e=H(r=t)?n.title:r)?n.caption:e)?"full"["$==="]($=t)?(a=n.$sprintf(n.$sub_quotes(H(n.document.$compat_mode())?"``%s''":'"`%s`"'),n.$title()),H(H(e=n.numeral)?s=n.document.$attributes()["$[]"](n.context["$=="]("image")?"figure-caption":n.context+"-caption"):e)?s+" "+n.numeral+", "+a:n.caption.$chomp(". ")+", "+a):"short"["$==="]($)?H(H(e=n.numeral)?s=n.document.$attributes()["$[]"](n.context["$=="]("image")?"figure-caption":n.context+"-caption"):e)?s+" "+n.numeral:n.caption.$chomp(". "):n.$title():n.$title()},S.$$arity=-1),P.def(M,"$assign_caption",R=function(t,e){var r,n,i=this,$=D;return null==t&&(t=D),null==e&&(e=D),H(H(r=H(n=i.caption)?n:i.title["$!"]())?r:i.caption=H(n=t)?n:i.document.$attributes()["$[]"]("caption"))||H($=i.document.$attributes()["$[]"]((e=H(r=e)?r:i.context)+"-caption"))&&(i.caption=$+" "+(i.numeral=i.document.$increment_and_store_counter(e+"-number",i))+". "),D},R.$$arity=-1),P.def(M,"$assign_numeral",C=function(t){var e,r=D,n=D,i=D,$=D;return this.next_section_index=L((r=[this.next_section_index],U(t,"index=",P.to_a(r)),r[z(r.length,1)]),1),H(n=t.$numbered())&&((i=t.$sectname())["$=="]("appendix")?(r=[this.document.$counter("appendix-number","A")],U(t,"numeral=",P.to_a(r)),r[z(r.length,1)],r=H($=this.document.$attributes()["$[]"]("appendix-caption"))?[$+" "+t.$numeral()+": "]:[t.$numeral()+". "],U(t,"caption=",P.to_a(r)),r[z(r.length,1)]):H(H(e=i["$=="]("chapter"))?e:n["$=="]("chapter"))?(r=[this.document.$counter("chapter-number",1)],U(t,"numeral=",P.to_a(r)),r[z(r.length,1)]):(r=[this.next_section_ordinal],U(t,"numeral=",P.to_a(r)),r[z(r.length,1)],this.next_section_ordinal=L(this.next_section_ordinal,1))),D},C.$$arity=1),P.def(M,"$reindex_sections",T=function(){var r;return this.next_section_index=0,this.next_section_ordinal=1,U(this.blocks,"each",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=D),t.$context()["$=="]("section")?(e.$assign_numeral(t),t.$reindex_sections()):D}).$$s=this,r.$$arity=1,r))},T.$$arity=0)}(i[0],B(i,"AbstractNode"),i)}(t[0],t)},Opal.modules["asciidoctor/attribute_list"]=function(g){function b(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function v(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}g.top;var t=[],x=g.nil,k=g.const_get_qualified,w=g.const_get_relative,$=(g.breaker,g.slice,g.module),E=g.klass,A=g.hash,O=g.hash2,S=g.truthy,R=g.send;return g.add_stubs(["$new","$[]","$update","$parse","$parse_attribute","$eos?","$skip_delimiter","$+","$rekey","$each_with_index","$[]=","$-","$skip_blank","$==","$peek","$parse_attribute_value","$get_byte","$start_with?","$scan_name","$!","$!=","$*","$scan_to_delimiter","$===","$include?","$delete","$each","$split","$empty?","$strip","$apply_subs","$scan_to_quote","$gsub","$skip","$scan"]),function(t,e){function r(){}var n=r=$(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p=n=E(t,null,"AttributeList",n),m=p.prototype,y=[p].concat(r);m.attributes=m.scanner=m.delimiter=m.block=m.delimiter_skip_pattern=m.delimiter_boundary_pattern=x,g.const_set(y[0],"BACKSLASH","\\"),g.const_set(y[0],"APOS","'"),g.const_set(y[0],"BoundaryRxs",A('"',/.*?[^\\](?=")/,w(y,"APOS"),/.*?[^\\](?=')/,",",/.*?(?=[ \t]*(,|$))/)),g.const_set(y[0],"EscapedQuotes",A('"','\\"',w(y,"APOS"),"\\'")),g.const_set(y[0],"NameRx",new RegExp(w(y,"CG_WORD")+"["+w(y,"CC_WORD")+"\\-.]*")),g.const_set(y[0],"BlankRx",/[ \t]+/),g.const_set(y[0],"SkipRxs",O(["blank",","],{blank:w(y,"BlankRx"),",":/[ \t]*(,|$)/})),g.def(p,"$initialize",i=function(t,e,r){return null==e&&(e=x),null==r&&(r=","),this.scanner=k("::","StringScanner").$new(t),this.block=e,this.delimiter=r,this.delimiter_skip_pattern=w(y,"SkipRxs")["$[]"](r),this.delimiter_boundary_pattern=w(y,"BoundaryRxs")["$[]"](r),this.attributes=x},i.$$arity=-2),g.def(p,"$parse_into",$=function(t,e){return null==e&&(e=[]),t.$update(this.$parse(e))},$.$$arity=-2),g.def(p,"$parse",a=function(t){var e=x;if(null==t&&(t=[]),S(this.attributes))return this.attributes;for(this.attributes=O([],{}),e=0;S(this.$parse_attribute(e,t))&&!S(this.scanner["$eos?"]());)this.$skip_delimiter(),e=b(e,1);return this.attributes},a.$$arity=-1),g.def(p,"$rekey",s=function(t){return w(y,"AttributeList").$rekey(this.attributes,t)},s.$$arity=1),g.defs(p,"$rekey",o=function($,t){var a;return R(t,"each_with_index",[],((a=function(t,e){a.$$s;var r=x,n=x,i=x;return null==t&&(t=x),null==e&&(e=x),S(t)?(r=b(e,1),S(n=$["$[]"](r))?(i=[t,n],R($,"[]=",g.to_a(i)),i[v(i.length,1)]):x):x}).$$s=this,a.$$arity=2,a)),$},o.$$arity=2),g.def(p,"$parse_attribute",l=function(t,e){var r,n,i,$,a=this,s=x,o=x,l=x,c=x,u=x,_=x,d=x,h=x,f=x,p=x;if(null==t&&(t=0),null==e&&(e=[]),s=!1,a.$skip_blank(),(o=a.scanner.$peek(1))["$=="]('"'))l=a.$parse_attribute_value(a.scanner.$get_byte()),c=x;else if(o["$=="](w(y,"APOS")))l=a.$parse_attribute_value(a.scanner.$get_byte()),c=x,S(l["$start_with?"](w(y,"APOS")))||(s=!0);else{if(l=a.$scan_name(),u=0,_=x,S(a.scanner["$eos?"]())){if(!S(l))return!1}else u=S(r=a.$skip_blank())?r:0,_=a.scanner.$get_byte();if(S(S(r=_["$!"]())?r:_["$=="](a.delimiter)))c=x;else if(S(S(r=_["$!="]("="))?r:l["$!"]()))l=""+l+($=u,"number"==typeof(i=" ")&&"number"==typeof $?i*$:i["$*"]($))+_+a.$scan_to_delimiter(),c=x;else if(a.$skip_blank(),S(a.scanner.$peek(1)))if((_=a.scanner.$get_byte())["$=="]('"'))c=a.$parse_attribute_value(_);else if(_["$=="](w(y,"APOS")))c=a.$parse_attribute_value(_),S(c["$start_with?"](w(y,"APOS")))||(s=!0);else if(_["$=="](a.delimiter))c="";else if((c=""+_+a.$scan_to_delimiter())["$=="]("None"))return!0}return h=S(c)?"options"["$==="](d=l)||"opts"["$==="](d)?(S(c["$include?"](","))?(S(c["$include?"](" "))&&(c=c.$delete(" ")),R(c.$split(","),"each",[],((n=function(t){var e=n.$$s||this,r=x;return null==e.attributes&&(e.attributes=x),null==t&&(t=x),S(t["$empty?"]())?x:(r=[t+"-option",""],R(e.attributes,"[]=",g.to_a(r)),r[v(r.length,1)])}).$$s=a,n.$$arity=1,n))):(h=[(c=c.$strip())+"-option",""],R(a.attributes,"[]=",g.to_a(h)),h[v(h.length,1)]),["options",c]):S(S(r=s)?a.block:r)?"title"["$==="](d=l)||"reftext"["$==="](d)?[l,c]:[l,a.block.$apply_subs(c)]:[l,c]:(f=S(S(r=s)?a.block:r)?a.block.$apply_subs(l):l,S(p=e["$[]"](t))&&(h=[p,f],R(a.attributes,"[]=",g.to_a(h)),h[v(h.length,1)]),[b(t,1),f]),R(a.attributes,"[]=",g.to_a(h)),h[v(h.length,1)],!0},l.$$arity=-1),g.def(p,"$parse_attribute_value",c=function(t){var e=x;return this.scanner.$peek(1)["$=="](t)?(this.scanner.$get_byte(),""):S(e=this.$scan_to_quote(t))?(this.scanner.$get_byte(),S(e["$include?"](w(y,"BACKSLASH")))?e.$gsub(w(y,"EscapedQuotes")["$[]"](t),t):e):""+t+this.$scan_to_delimiter()},c.$$arity=1),g.def(p,"$skip_blank",u=function(){return this.scanner.$skip(w(y,"BlankRx"))},u.$$arity=0),g.def(p,"$skip_delimiter",_=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},_.$$arity=0),g.def(p,"$scan_name",d=function(){return this.scanner.$scan(w(y,"NameRx"))},d.$$arity=0),g.def(p,"$scan_to_delimiter",h=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},h.$$arity=0),g.def(p,"$scan_to_quote",f=function(t){return this.scanner.$scan(w(y,"BoundaryRxs")["$[]"](t))},f.$$arity=1)}(i[0],0,i)}(t[0],t)},Opal.modules["asciidoctor/block"]=function(h){function f(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}h.top;var t=[],p=h.nil,m=h.const_get_qualified,y=h.const_get_relative,$=(h.breaker,h.slice,h.module),l=h.klass,g=h.send,b=h.hash2,v=h.truthy;return h.add_stubs(["$default=","$-","$attr_accessor","$[]","$key?","$==","$===","$drop","$delete","$[]=","$lock_in_subs","$nil_or_empty?","$normalize_lines_from_string","$apply_subs","$join","$<","$size","$empty?","$rstrip","$shift","$pop","$warn","$logger","$to_s","$class","$object_id","$inspect"]),function(t,e){function r(){}var n=r=$(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var _,c,i,$,a=n=l(t,e,"Block",n),s=a.prototype,d=[a].concat(r),o=p;s.attributes=s.content_model=s.lines=s.subs=s.blocks=s.context=s.style=p,o=["simple"],g(h.const_set(d[0],"DEFAULT_CONTENT_MODEL",b(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",h.to_a(o)),f(o.length,1),h.alias(a,"blockname","context"),a.$attr_accessor("lines"),h.def(a,"$initialize",_=function(t,e,r){var n,i=_.$$p,$=this,a=p,s=p,o=p,l=p,c=p,u=p;for(i&&(_.$$p=null),c=0,u=arguments.length,l=new Array(u);c<u;c++)l[c]=arguments[c];return null==r&&(r=b([],{})),g($,h.find_super_dispatcher($,"initialize",_,!1),l,i),$.content_model=v(n=r["$[]"]("content_model"))?n:y(d,"DEFAULT_CONTENT_MODEL")["$[]"](e),v(r["$key?"]("subs"))?v(a=r["$[]"]("subs"))?(a["$=="]("default")?$.default_subs=r["$[]"]("default_subs"):v(m("::","Array")["$==="](a))?($.default_subs=a.$drop(0),$.attributes.$delete("subs")):($.default_subs=p,s=["subs",""+a],g($.attributes,"[]=",h.to_a(s)),s[f(s.length,1)]),$.$lock_in_subs()):($.default_subs=[],$.attributes.$delete("subs")):$.default_subs=p,v((o=r["$[]"]("source"))["$nil_or_empty?"]())?$.lines=[]:v(m("::","String")["$==="](o))?$.lines=y(d,"Helpers").$normalize_lines_from_string(o):$.lines=o.$drop(0)},_.$$arity=-3),h.def(a,"$content",c=function(){var r,n=c.$$p,i=this,$=p,a=p,s=p,o=p,l=p,t=p,e=p;for(n&&(c.$$p=null),t=0,e=arguments.length,l=new Array(e);t<e;t++)l[t]=arguments[t];return function(){if($=i.content_model,"compound"["$==="]($))return g(i,h.find_super_dispatcher(i,"content",c,!1),l,n);if("simple"["$==="]($))return i.$apply_subs(i.lines.$join(y(d,"LF")),i.subs);if("verbatim"["$==="]($)||"raw"["$==="]($)){if(a=i.$apply_subs(i.lines,i.subs),v((t=a.$size(),e=2,"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e))))return a["$[]"](0);for(;v(v(r=s=a["$[]"](0))?s.$rstrip()["$empty?"]():r);)a.$shift();for(;v(v(r=o=a["$[]"](-1))?o.$rstrip()["$empty?"]():r);)a.$pop();return a.$join(y(d,"LF"))}return i.content_model["$=="]("empty")||i.$logger().$warn("Unknown content model '"+i.content_model+"' for block: "+i.$to_s()),p;var t,e}()},c.$$arity=0),h.def(a,"$source",i=function(){return this.lines.$join(y(d,"LF"))},i.$$arity=0),h.def(a,"$to_s",$=function(){var t=this,e=p;return e=t.content_model["$=="]("compound")?"blocks: "+t.blocks.$size():"lines: "+t.lines.$size(),"#<"+t.$class()+"@"+t.$object_id()+" {context: "+t.context.$inspect()+", content_model: "+t.content_model.$inspect()+", style: "+t.style.$inspect()+", "+e+"}>"},$.$$arity=0)}(i[0],y(i,"AbstractBlock"),i)}(t[0],t)},Opal.modules["asciidoctor/callouts"]=function(f){function p(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function m(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}f.top;var t=[],y=f.nil,$=(f.const_get_qualified,f.const_get_relative,f.breaker,f.slice,f.module),g=f.klass,b=f.hash2,v=f.truthy,x=f.send;return f.add_stubs(["$next_list","$<<","$current_list","$to_i","$generate_next_callout_id","$+","$<=","$size","$[]","$-","$chop","$join","$map","$==","$<","$generate_callout_id"]),function(t,e){function r(){}var n=r=$(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d=n=g(t,null,"Callouts",n),h=d.prototype;[d].concat(r);h.co_index=h.lists=h.list_index=y,f.def(d,"$initialize",i=function(){return this.lists=[],this.list_index=0,this.$next_list()},i.$$arity=0),f.def(d,"$register",$=function(t){var e=y;return this.$current_list()["$<<"](b(["ordinal","id"],{ordinal:t.$to_i(),id:e=this.$generate_next_callout_id()})),this.co_index=p(this.co_index,1),e},$.$$arity=1),f.def(d,"$read_next_id",a=function(){var t,e,r=y,n=y;return r=y,n=this.$current_list(),v((t=this.co_index,e=n.$size(),"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)))&&(r=n["$[]"](m(this.co_index,1))["$[]"]("id")),this.co_index=p(this.co_index,1),r},a.$$arity=0),f.def(d,"$callout_ids",s=function(e){var r;return x(this.$current_list(),"map",[],(r=function(t){r.$$s;return null==t&&(t=y),t["$[]"]("ordinal")["$=="](e)?t["$[]"]("id")+" ":""},r.$$s=this,r.$$arity=1,r)).$join().$chop()},s.$$arity=1),f.def(d,"$current_list",o=function(){return this.lists["$[]"](m(this.list_index,1))},o.$$arity=0),f.def(d,"$next_list",l=function(){var t,e;return this.list_index=p(this.list_index,1),v((t=this.lists.$size(),e=this.list_index,"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)))&&this.lists["$<<"]([]),this.co_index=1,y},l.$$arity=0),f.def(d,"$rewind",c=function(){return this.list_index=1,this.co_index=1,y},c.$$arity=0),f.def(d,"$generate_next_callout_id",u=function(){return this.$generate_callout_id(this.list_index,this.co_index)},u.$$arity=0),f.def(d,"$generate_callout_id",_=function(t,e){return"CO"+t+"-"+e},_.$$arity=2)}(i[0],0,i)}(t[0],t)},Opal.modules["asciidoctor/converter/base"]=function(c){c.top;var t=[],u=c.nil,_=(c.const_get_qualified,c.const_get_relative),$=(c.breaker,c.slice,c.module),d=c.klass,h=c.hash2,f=c.truthy;return c.add_stubs(["$include","$node_name","$empty?","$send","$content"]),function(t,e){function r(){}var n=r=$(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e){function r(){}var n=r=$(t,"Converter",r);n.prototype,[n].concat(e)}(i[0],i),function(t,e,r){function n(){}var i=n=d(t,null,"Base",n),$=(i.prototype,[i].concat(r));i.$include(_($,"Logging")),i.$include(_($,"Converter"))}(_(i,"Converter"),0,i),function(t,e,r){function n(){}var i,$,a,s,o=n=d(t,null,"BuiltIn",n),l=(o.prototype,[o].concat(r));o.$include(_(l,"Logging")),c.def(o,"$initialize",i=function(t,e){return null==e&&(e=h([],{})),u},i.$$arity=-2),c.def(o,"$convert",$=function(t,e,r){var n;return null==e&&(e=u),null==r&&(r=h([],{})),e=f(n=e)?n:t.$node_name(),f(r["$empty?"]())?this.$send(e,t):this.$send(e,t,r)},$.$$arity=-2),c.alias(o,"handles?","respond_to?"),c.def(o,"$content",a=function(t){return t.$content()},a.$$arity=1),c.alias(o,"pass","content"),c.def(o,"$skip",s=function(t){return u},s.$$arity=1)}(_(i,"Converter"),0,i)}(t[0],t)},Opal.modules["asciidoctor/converter/factory"]=function(u){u.top;var t=[],b=u.nil,v=u.const_get_qualified,x=u.const_get_relative,$=(u.breaker,u.slice,u.module),_=u.klass,k=u.truthy,w=u.hash2,d=u.send;return u.add_stubs(["$new","$require","$include?","$include","$warn","$logger","$register","$default","$resolve","$create","$converters","$unregister_all","$attr_reader","$each","$[]=","$-","$==","$[]","$clear","$===","$supports_templates?","$to_s","$key?"]),function(t,e){function r(){}var n=r=$(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e){function r(){}var n=r=$(t,"Converter",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var i,$,a,s,o,l=n=_(t,null,"Factory",n),c=l.prototype,g=[l].concat(r);c.converters=c.star_converter=b,l.__default__=b,function(t,e){t.prototype;var r,n,i,$,a,s,o=[t].concat(e);u.def(t,"$default",r=function(t){var e,r,n=this;return null==n.__default__&&(n.__default__=b),null==t&&(t=!0),k(t)?n.__default__=k(e=n.__default__)?e:function(){try{return k((r=v("::","Concurrent","skip_raise"))&&v(r,"Hash","skip_raise")?"constant":b)||n.$require(k(v("::","RUBY_MIN_VERSION_1_9"))?"concurrent/hash":"asciidoctor/core_ext/1.8.7/concurrent/hash"),n.$new(v(v("::","Concurrent"),"Hash").$new())}catch(t){if(!u.rescue(t,[v("::","LoadError")]))throw t;try{return k(n["$include?"](x(o,"Logging")))||n.$include(x(o,"Logging")),n.$logger().$warn("gem 'concurrent-ruby' is not installed. This gem is recommended when registering custom converters."),n.$new()}finally{u.pop_exception()}}}():k(e=n.__default__)?e:n.$new()},r.$$arity=-1),u.def(t,"$register",n=function(t,e){return null==e&&(e=["*"]),this.$default().$register(t,e)},n.$$arity=-2),u.def(t,"$resolve",i=function(t){return this.$default().$resolve(t)},i.$$arity=1),u.def(t,"$create",$=function(t,e){return null==e&&(e=w([],{})),this.$default().$create(t,e)},$.$$arity=-2),u.def(t,"$converters",a=function(){return this.$default().$converters()},a.$$arity=0),u.def(t,"$unregister_all",s=function(){return this.$default().$unregister_all()},s.$$arity=0)}(u.get_singleton_class(l),g),l.$attr_reader("converters"),u.def(l,"$initialize",i=function(t){var e;return null==t&&(t=b),this.converters=k(e=t)?e:w([],{}),this.star_converter=b},i.$$arity=-1),u.def(l,"$register",$=function($,t){var a;return null==t&&(t=["*"]),d(t,"each",[],((a=function(t){var e,r,n=a.$$s||this,i=b;return null==n.converters&&(n.converters=b),null==t&&(t=b),i=[t,$],d(n.converters,"[]=",u.to_a(i)),r=1,"number"==typeof(e=i.length)&&"number"==typeof r||e["$-"](r),t["$=="]("*")?n.star_converter=$:b}).$$s=this,a.$$arity=1,a)),b},$.$$arity=-2),u.def(l,"$resolve",a=function(t){var e,r;return k(e=this.converters)?k(r=this.converters["$[]"](t))?r:this.star_converter:e},a.$$arity=1),u.def(l,"$unregister_all",s=function(){return this.converters.$clear(),this.star_converter=b},s.$$arity=0),u.def(l,"$create",o=function(t,e){var r,n,i,$,a,s,o,l,c,u,_,d,h,f=b,p=b,m=b,y=b;if(null==e&&(e=w([],{})),k(f=this.$resolve(t))){if(p=k(v("::","Class")["$==="](f))?f.$new(t,e):f,!k(k(r=v(x(g,"Converter"),"BackendInfo")["$==="](p))?p["$supports_templates?"]():r))return p}else"html5"["$==="](m=t)?(k((i=v("::","Asciidoctor","skip_raise"))&&(n=v(i,"Converter","skip_raise"))&&(r=v(n,"Html5Converter","skip_raise"))?"constant":b)||this.$require("asciidoctor/converter/html5".$to_s()),p=x(g,"Html5Converter").$new(t,e)):"docbook5"["$==="](m)?(k((a=v("::","Asciidoctor","skip_raise"))&&($=v(a,"Converter","skip_raise"))&&v($,"DocBook5Converter","skip_raise")?"constant":b)||this.$require("asciidoctor/converter/docbook5".$to_s()),p=x(g,"DocBook5Converter").$new(t,e)):"docbook45"["$==="](m)?(k((o=v("::","Asciidoctor","skip_raise"))&&(s=v(o,"Converter","skip_raise"))&&v(s,"DocBook45Converter","skip_raise")?"constant":b)||this.$require("asciidoctor/converter/docbook45".$to_s()),p=x(g,"DocBook45Converter").$new(t,e)):"manpage"["$==="](m)&&(k((c=v("::","Asciidoctor","skip_raise"))&&(l=v(c,"Converter","skip_raise"))&&v(l,"ManPageConverter","skip_raise")?"constant":b)||this.$require("asciidoctor/converter/manpage".$to_s()),p=x(g,"ManPageConverter").$new(t,e));return k(e["$key?"]("template_dirs"))?(k((_=v("::","Asciidoctor","skip_raise"))&&(u=v(_,"Converter","skip_raise"))&&v(u,"TemplateConverter","skip_raise")?"constant":b)||this.$require("asciidoctor/converter/template".$to_s()),y=x(g,"TemplateConverter").$new(t,e["$[]"]("template_dirs"),e),k((h=v("::","Asciidoctor","skip_raise"))&&(d=v(h,"Converter","skip_raise"))&&v(d,"CompositeConverter","skip_raise")?"constant":b)||this.$require("asciidoctor/converter/composite".$to_s()),x(g,"CompositeConverter").$new(t,y,p)):p},o.$$arity=-2)}(i[0],0,i)}(i[0],i)}(t[0],t)},Opal.modules["asciidoctor/converter"]=function(d){function h(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var t=d.top,e=[],f=d.nil,p=d.const_get_qualified,m=d.const_get_relative,y=(d.breaker,d.slice,d.module),g=d.send,b=d.truthy,v=d.hash2;return d.add_stubs(["$register","$==","$send","$include?","$setup_backend_info","$raise","$class","$sub","$[]","$slice","$length","$[]=","$backend_info","$-","$extend","$include","$respond_to?","$write","$chomp","$require"]),function(t,e){function r(){}var n=r=y(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e){function r(){}var n,i,$=r=y(t,"Converter",r),a=($.prototype,[$].concat(e));!function(t,e){function r(){}var n,i=r=y(t,"Config",r),a=(i.prototype,[i].concat(e));d.def(i,"$register_for",n=function(t){var e,r,n,i,$=f;return e=d.slice.call(arguments,0,arguments.length),r=e,m(a,"Factory").$register(this,r),$=function(t,e){t.prototype,[t].concat(e);return t}(d.get_singleton_class(this),a),r["$=="](["*"])?g($,"send",["define_method","converts?"],((n=function(t){n.$$s;return null==t&&(t=f),!0}).$$s=this,n.$$arity=1,n)):g($,"send",["define_method","converts?"],((i=function(t){i.$$s;return null==t&&(t=f),r["$include?"](t)}).$$s=this,i.$$arity=1,i)),f},n.$$arity=-1)}(a[0],a),function(t,e){function r(){}var n,i,$,a,s,o,l,c,u=r=y(t,"BackendInfo",r),_=(u.prototype,[u].concat(e));d.def(u,"$backend_info",n=function(){var t;return null==this.backend_info&&(this.backend_info=f),this.backend_info=b(t=this.backend_info)?t:this.$setup_backend_info()},n.$$arity=0),d.def(u,"$setup_backend_info",i=function(){var t=f,e=f,r=f,n=f;return null==this.backend&&(this.backend=f),b(this.backend)||this.$raise(p("::","ArgumentError"),"Cannot determine backend for converter: "+this.$class()),t=this.backend.$sub(m(_,"TrailingDigitsRx"),""),b(e=m(_,"DEFAULT_EXTENSIONS")["$[]"](t))?r=e.$slice(1,e.$length()):(e=".html",n=r=t="html"),v(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:t,outfilesuffix:e,filetype:r,htmlsyntax:n})},i.$$arity=0),d.def(u,"$filetype",$=function(t){var e=f;return null==t&&(t=f),b(t)?(e=["filetype",t],g(this.$backend_info(),"[]=",d.to_a(e)),e[h(e.length,1)]):this.$backend_info()["$[]"]("filetype")},$.$$arity=-1),d.def(u,"$basebackend",a=function(t){var e=f;return null==t&&(t=f),b(t)?(e=["basebackend",t],g(this.$backend_info(),"[]=",d.to_a(e)),e[h(e.length,1)]):this.$backend_info()["$[]"]("basebackend")},a.$$arity=-1),d.def(u,"$outfilesuffix",s=function(t){var e=f;return null==t&&(t=f),b(t)?(e=["outfilesuffix",t],g(this.$backend_info(),"[]=",d.to_a(e)),e[h(e.length,1)]):this.$backend_info()["$[]"]("outfilesuffix")},s.$$arity=-1),d.def(u,"$htmlsyntax",o=function(t){var e=f;return null==t&&(t=f),b(t)?(e=["htmlsyntax",t],g(this.$backend_info(),"[]=",d.to_a(e)),e[h(e.length,1)]):this.$backend_info()["$[]"]("htmlsyntax")},o.$$arity=-1),d.def(u,"$supports_templates",l=function(){var t=f;return t=["supports_templates",!0],g(this.$backend_info(),"[]=",d.to_a(t)),t[h(t.length,1)]},l.$$arity=0),d.def(u,"$supports_templates?",c=function(){return this.$backend_info()["$[]"]("supports_templates")},c.$$arity=0)}(a[0],a),function(t,e){t.prototype;var r,n=[t].concat(e);d.def(t,"$included",r=function(t){return t.$extend(m(n,"Config"))},r.$$arity=1)}(d.get_singleton_class($),a),$.$include(m(a,"Config")),$.$include(m(a,"BackendInfo")),d.def($,"$initialize",n=function(t,e){return null==e&&(e=v([],{})),this.backend=t,this.$setup_backend_info()},n.$$arity=-2),d.def($,"$convert",i=function(t,e,r){return null==e&&(e=f),null==r&&(r=v([],{})),this.$raise(p("::","NotImplementedError"))},i.$$arity=-2),d.alias($,"handles?","respond_to?"),d.alias($,"convert_with_options","convert")}(i[0],i),function(t,e){function r(){}var n,i=r=y(t,"Writer",r),$=(i.prototype,[i].concat(e));d.def(i,"$write",n=function(t,e){return b(e["$respond_to?"]("write"))?(e.$write(t.$chomp()),e.$write(m($,"LF"))):p("::","IO").$write(e,t),f},n.$$arity=2)}(i[0],i),function(t,e){function r(){}var n,i=r=y(t,"VoidWriter",r),$=(i.prototype,[i].concat(e));i.$include(m($,"Writer")),d.def(i,"$write",n=function(t,e){return f},n.$$arity=2)}(i[0],i)}(e[0],e),t.$require("asciidoctor/converter/base"),t.$require("asciidoctor/converter/factory")},Opal.modules["asciidoctor/document"]=function(et){function rt(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function nt(t,e){return"number"==typeof t&&"number"==typeof e?e<=t:t["$>="](e)}function it(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}et.top;var t=[],$t=et.nil,at=et.const_get_qualified,st=et.const_get_relative,$=(et.breaker,et.slice,et.module),ot=et.klass,lt=et.send,ct=et.truthy,ut=et.hash2,_t=et.gvars;return et.add_stubs(["$new","$attr_reader","$nil?","$<<","$[]","$[]=","$-","$include?","$strip","$squeeze","$gsub","$empty?","$!","$rpartition","$attr_accessor","$delete","$base_dir","$options","$inject","$catalog","$==","$dup","$attributes","$safe","$compat_mode","$sourcemap","$path_resolver","$converter","$extensions","$each","$end_with?","$start_with?","$slice","$length","$chop","$downcase","$extname","$===","$value_for_name","$to_s","$key?","$freeze","$attribute_undefined","$attribute_missing","$name_for_value","$expand_path","$pwd","$>=","$+","$abs","$to_i","$delete_if","$update_doctype_attributes","$cursor","$parse","$restore_attributes","$update_backend_attributes","$utc","$at","$Integer","$now","$index","$strftime","$year","$utc_offset","$fetch","$activate","$create","$to_proc","$groups","$preprocessors?","$preprocessors","$process_method","$tree_processors?","$tree_processors","$!=","$counter","$nil_or_empty?","$nextval","$value","$save_to","$chr","$ord","$source","$source_lines","$doctitle","$sectname=","$title=","$first_section","$title","$merge","$>","$<","$find","$context","$assign_numeral","$clear_playback_attributes","$save_attributes","$attribute_locked?","$rewind","$replace","$name","$negate","$limit_bytesize","$apply_attribute_value_subs","$delete?","$=~","$apply_subs","$resolve_pass_subs","$apply_header_subs","$create_converter","$basebackend","$outfilesuffix","$filetype","$sub","$raise","$Array","$backend","$default","$start","$doctype","$content_model","$warn","$logger","$content","$convert","$postprocessors?","$postprocessors","$record","$write","$respond_to?","$chomp","$write_alternate_pages","$map","$split","$resolve_docinfo_subs","$&","$normalize_system_path","$read_asset","$docinfo_processors?","$compact","$join","$resolve_subs","$docinfo_processors","$class","$object_id","$inspect","$size"]),function(t,e){function r(){}var n=r=$(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var i,T,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k,w,E,A,O,S,R,C,M,I,N,P,z,L,D,F,B,q,j,U,H,Y,G,W,X,V,K,J,Z=n=ot(t,e,"Document",n),Q=Z.prototype,tt=[Z].concat(r);Q.attributes=Q.safe=Q.sourcemap=Q.reader=Q.base_dir=Q.parsed=Q.parent_document=Q.extensions=Q.options=Q.counters=Q.catalog=Q.header=Q.blocks=Q.attributes_modified=Q.id=Q.header_attributes=Q.max_attribute_value_size=Q.attribute_overrides=Q.backend=Q.doctype=Q.converter=Q.timings=Q.outfilesuffix=Q.docinfo_processor_extensions=Q.document=$t,et.const_set(tt[0],"ImageReference",lt(at("::","Struct"),"new",["target","imagesdir"],((i=function(){var t=i.$$s||this;return et.alias(t,"to_s","target")}).$$s=Z,i.$$arity=0,i))),et.const_set(tt[0],"Footnote",at("::","Struct").$new("index","id","text")),function(t,e,r){function n(){}var i,$,a=n=ot(t,null,"AttributeEntry",n);a.prototype,[a].concat(r);a.$attr_reader("name","value","negate"),et.def(a,"$initialize",i=function(t,e,r){return null==r&&(r=$t),this.name=t,this.value=e,this.negate=ct(r["$nil?"]())?e["$nil?"]():r},i.$$arity=-3),et.def(a,"$save_to",$=function(t){var e,r=$t;return(ct(e=t["$[]"]("attribute_entries"))?e:(r=["attribute_entries",[]],lt(t,"[]=",et.to_a(r)),r[rt(r.length,1)]))["$<<"](this),this},$.$$arity=1)}(tt[0],0,tt),function(t,e,r){function n(){}var i,$,a,s,o=n=ot(t,null,"Title",n),l=o.prototype,c=[o].concat(r);l.sanitized=l.subtitle=l.combined=$t,o.$attr_reader("main"),et.alias(o,"title","main"),o.$attr_reader("subtitle"),o.$attr_reader("combined"),et.def(o,"$initialize",i=function(t,e){var r,n,i=$t;return null==e&&(e=ut([],{})),ct(ct(r=this.sanitized=e["$[]"]("sanitize"))?t["$include?"]("<"):r)&&(t=t.$gsub(st(c,"XmlSanitizeRx"),"").$squeeze(" ").$strip()),ct(ct(r=(i=ct(n=e["$[]"]("separator"))?n:":")["$empty?"]())?r:t["$include?"](i+=" ")["$!"]())?(this.main=t,this.subtitle=$t):(n=t.$rpartition(i),r=et.to_ary(n),this.main=null==r[0]?$t:r[0],null==r[1]?$t:r[1],this.subtitle=null==r[2]?$t:r[2]),this.combined=t},i.$$arity=-2),et.def(o,"$sanitized?",$=function(){return this.sanitized},$.$$arity=0),et.def(o,"$subtitle?",a=function(){return!!ct(this.subtitle)},a.$$arity=0),et.def(o,"$to_s",s=function(){return this.combined},s.$$arity=0)}(tt[0],0,tt),et.const_set(tt[0],"Author",at("::","Struct").$new("name","firstname","middlename","lastname","initials","email")),Z.$attr_reader("safe"),Z.$attr_reader("compat_mode"),Z.$attr_reader("backend"),Z.$attr_reader("doctype"),Z.$attr_accessor("sourcemap"),Z.$attr_reader("catalog"),et.alias(Z,"references","catalog"),Z.$attr_reader("counters"),Z.$attr_reader("header"),Z.$attr_reader("base_dir"),Z.$attr_reader("options"),Z.$attr_reader("outfilesuffix"),Z.$attr_reader("parent_document"),Z.$attr_reader("reader"),Z.$attr_reader("path_resolver"),Z.$attr_reader("converter"),Z.$attr_reader("extensions"),et.def(Z,"$initialize",T=function(t,e){var r,a,n,i,$,s,o,l=T.$$p,c=this,u=$t,_=$t,d=$t,h=$t,f=$t,p=$t,m=$t,y=$t,g=$t,b=$t,v=$t,x=$t,k=$t,w=$t,E=$t,A=$t,O=$t,S=$t,R=$t,C=$t;if(l&&(T.$$p=null),null==t&&(t=$t),null==e&&(e=ut([],{})),lt(c,et.find_super_dispatcher(c,"initialize",T,!1),[c,"document"],null),ct(u=e.$delete("parent")))c.parent_document=u,ct(r=e["$[]"]("base_dir"))||(_=["base_dir",u.$base_dir()],lt(e,"[]=",et.to_a(_)),_[rt(_.length,1)]),ct(u.$options()["$[]"]("catalog_assets"))&&(_=["catalog_assets",!0],lt(e,"[]=",et.to_a(_)),_[rt(_.length,1)]),c.catalog=lt(u.$catalog(),"inject",[ut([],{})],((a=function(t,e){a.$$s;var r,n,i=$t,$=$t;return null==t&&(t=$t),null==e&&(e=$t),n=e,r=et.to_ary(n),i=null==r[0]?$t:r[0],$=null==r[1]?$t:r[1],_=[i,i["$=="]("footnotes")?[]:$],lt(t,"[]=",et.to_a(_)),_[rt(_.length,1)],t}).$$s=c,a.$$arity=2,a.$$has_top_level_mlhs_arg=!0,a)),c.attribute_overrides=d=u.$attributes().$dup(),h=d.$delete("doctype"),d.$delete("compat-mode"),d.$delete("toc"),d.$delete("toc-placement"),d.$delete("toc-position"),c.safe=u.$safe(),ct(c.compat_mode=u.$compat_mode())&&(_=["compat-mode",""],lt(c.attributes,"[]=",et.to_a(_)),_[rt(_.length,1)]),c.sourcemap=u.$sourcemap(),c.timings=$t,c.path_resolver=u.$path_resolver(),c.converter=u.$converter(),f=!1,c.extensions=u.$extensions();else{if(c.parent_document=$t,c.catalog=ut(["ids","refs","footnotes","links","images","indexterms","callouts","includes"],{ids:ut([],{}),refs:ut([],{}),footnotes:[],links:[],images:[],indexterms:[],callouts:st(tt,"Callouts").$new(),includes:ut([],{})}),c.attribute_overrides=d=ut([],{}),lt(ct(r=e["$[]"]("attributes"))?r:ut([],{}),"each",[],((n=function(t,e){var r;n.$$s;return null==t&&(t=$t),null==e&&(e=$t),ct(t["$end_with?"]("@"))?e=(t=ct(t["$start_with?"]("!"))?(r=[t.$slice(1,rt(t.$length(),2)),!1])[0]:ct(t["$end_with?"]("!@"))?(r=[t.$slice(0,rt(t.$length(),2)),!1])[0]:(r=[t.$chop(),e+"@"])[0],r[1]):ct(t["$start_with?"]("!"))?(t=(r=[t.$slice(1,t.$length()),!e["$=="]("@")&&$t])[0],e=r[1]):ct(t["$end_with?"]("!"))&&(t=(r=[t.$chop(),!e["$=="]("@")&&$t])[0],e=r[1]),_=[t.$downcase(),e],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)]}).$$s=c,n.$$arity=2,n)),ct(p=e["$[]"]("to_file"))&&(_=["outfilesuffix",at("::","File").$extname(p)],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)]),ct((m=e["$[]"]("safe"))["$!"]()))c.safe=at(st(tt,"SafeMode"),"SECURE");else if(ct(at("::","Integer")["$==="](m)))c.safe=m;else try{c.safe=st(tt,"SafeMode").$value_for_name(m.$to_s())}catch(t){if(!et.rescue(t,[st(tt,"StandardError")]))throw t;try{c.safe=at(st(tt,"SafeMode"),"SECURE")}finally{et.pop_exception()}}c.compat_mode=d["$key?"]("compat-mode"),c.sourcemap=e["$[]"]("sourcemap"),c.timings=e.$delete("timings"),c.path_resolver=st(tt,"PathResolver").$new(),c.converter=$t,f=(i=at("::","Asciidoctor","skip_raise"))&&(r=at(i,"Extensions","skip_raise"))?"constant":$t,c.extensions=$t}return c.parsed=!1,c.header=c.header_attributes=$t,c.counters=ut([],{}),c.attributes_modified=at("::","Set").$new(),c.docinfo_processor_extensions=ut([],{}),y=ct($=e["$[]"]("header_footer"))?$:(_=["header_footer",!1],lt(e,"[]=",et.to_a(_)),_[rt(_.length,1)]),(c.options=e).$freeze(),g=c.attributes,_=["sectids",""],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["toc-placement","auto"],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=ct(y)?(_=["copycss",""],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],["embedded",$t]):(_=["notitle",""],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],["embedded",""]),lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["stylesheet",""],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["webfonts",""],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["prewrap",""],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["attribute-undefined",st(tt,"Compliance").$attribute_undefined()],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["attribute-missing",st(tt,"Compliance").$attribute_missing()],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["iconfont-remote",""],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["caution-caption","Caution"],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["important-caption","Important"],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["note-caption","Note"],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["tip-caption","Tip"],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["warning-caption","Warning"],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["example-caption","Example"],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["figure-caption","Figure"],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["table-caption","Table"],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["toc-title","Table of Contents"],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["section-refsig","Section"],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["part-refsig","Part"],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["chapter-refsig","Chapter"],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["appendix-caption",(_=["appendix-refsig","Appendix"],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)])],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["untitled-label","Untitled"],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["version-label","Version"],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["last-update-label","Last updated"],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["asciidoctor",""],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["asciidoctor-version",st(tt,"VERSION")],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["safe-mode-name",b=st(tt,"SafeMode").$name_for_value(c.safe)],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["safe-mode-"+b,""],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["safe-mode-level",c.safe],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)],ct($=d["$[]"]("max-include-depth"))||(_=["max-include-depth",64],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)]),ct($=d["$[]"]("allow-uri-read"))||(_=["allow-uri-read",$t],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)]),_=["user-home",st(tt,"USER_HOME")],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)],ct(d["$key?"]("numbered"))&&(_=["sectnums",d.$delete("numbered")],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)]),ct(v=e["$[]"]("base_dir"))?c.base_dir=(_=["docdir",at("::","File").$expand_path(v)],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)]):ct(d["$[]"]("docdir"))?c.base_dir=d["$[]"]("docdir"):c.base_dir=(_=["docdir",at("::","Dir").$pwd()],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)]),ct(x=e["$[]"]("backend"))&&(_=["backend",""+x],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)]),ct(k=e["$[]"]("doctype"))&&(_=["doctype",""+k],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)]),ct(nt(c.safe,at(st(tt,"SafeMode"),"SERVER")))&&(ct($=d["$[]"]("copycss"))||(_=["copycss",$t],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)]),ct($=d["$[]"]("source-highlighter"))||(_=["source-highlighter",$t],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)]),ct($=d["$[]"]("backend"))||(_=["backend",st(tt,"DEFAULT_BACKEND")],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)]),ct(ct($=u["$!"]())?d["$key?"]("docfile"):$)&&(_=["docfile",d["$[]"]("docfile")["$[]"](et.Range.$new(it(d["$[]"]("docdir").$length(),1),-1,!1))],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)]),_=["docdir",""],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)],_=["user-home","."],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)],ct(nt(c.safe,at(st(tt,"SafeMode"),"SECURE")))&&(ct(d["$key?"]("max-attribute-value-size"))||(_=["max-attribute-value-size",4096],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)]),ct(d["$key?"]("linkcss"))||(_=["linkcss",""],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)]),ct($=d["$[]"]("icons"))||(_=["icons",$t],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)]))),c.max_attribute_value_size=ct(w=ct($=d["$[]"]("max-attribute-value-size"))?$:(_=["max-attribute-value-size",$t],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)]))?w.$to_i().$abs():$t,lt(d,"delete_if",[],((s=function(t,e){s.$$s;var r,n=$t;return null==t&&(t=$t),null==e&&(e=$t),ct(e)?(ct(ct(r=at("::","String")["$==="](e))?e["$end_with?"]("@"):r)&&(e=(r=[e.$chop(),!0])[0],n=r[1]),_=[t,e],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)]):(g.$delete(t),n=e["$=="](!1)),n}).$$s=c,s.$$arity=2,s)),ct(u)?(c.backend=g["$[]"]("backend"),(c.doctype=(_=["doctype",h],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)]))["$=="](st(tt,"DEFAULT_DOCTYPE"))||c.$update_doctype_attributes(st(tt,"DEFAULT_DOCTYPE")),c.reader=st(tt,"Reader").$new(t,e["$[]"]("cursor")),ct(c.sourcemap)&&(c.source_location=c.reader.$cursor()),st(tt,"Parser").$parse(c.reader,c),c.$restore_attributes(),c.parsed=!0):(c.backend=$t,(ct($=g["$[]"]("backend"))?$:(_=["backend",st(tt,"DEFAULT_BACKEND")],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)]))["$=="]("manpage")?c.doctype=(_=["doctype",(_=["doctype","manpage"],lt(d,"[]=",et.to_a(_)),_[rt(_.length,1)])],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)]):c.doctype=ct($=g["$[]"]("doctype"))?$:(_=["doctype",st(tt,"DEFAULT_DOCTYPE")],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)]),c.$update_backend_attributes(g["$[]"]("backend"),!0),E=ct(at("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?at("::","Time").$at(c.$Integer(at("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():at("::","Time").$now(),O=ct(A=g["$[]"]("localdate"))?ct($=g["$[]"]("localyear"))?$:(_=["localyear",A.$index("-")["$=="](4)?A.$slice(0,4):$t],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)]):(_=["localdate",E.$strftime("%F")],lt(g,"[]=",et.to_a(_)),A=_[rt(_.length,1)],ct($=g["$[]"]("localyear"))?$:(_=["localyear",E.$year().$to_s()],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)])),S=ct($=g["$[]"]("localtime"))?$:(_=["localtime",E.$strftime("%T "+(E.$utc_offset()["$=="](0)?"UTC":"%z"))],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)]),ct($=g["$[]"]("localdatetime"))||(_=["localdatetime",A+" "+S],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)]),ct($=g["$[]"]("docdate"))||(_=["docdate",A],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)]),ct($=g["$[]"]("docyear"))||(_=["docyear",O],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)]),ct($=g["$[]"]("doctime"))||(_=["doctime",S],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)]),ct($=g["$[]"]("docdatetime"))||(_=["docdatetime",A+" "+S],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)]),ct($=g["$[]"]("stylesdir"))||(_=["stylesdir","."],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)]),ct($=g["$[]"]("iconsdir"))||(_=["iconsdir",g.$fetch("imagesdir","./images")+"/icons"],lt(g,"[]=",et.to_a(_)),_[rt(_.length,1)]),ct(f)&&(ct(R=e["$[]"]("extension_registry"))?ct(ct($=at(st(tt,"Extensions"),"Registry")["$==="](R))?$:ct(o=at("::","RUBY_ENGINE_JRUBY"))?at(at(at("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](R):o)&&(c.extensions=R.$activate(c)):ct(at("::","Proc")["$==="](C=e["$[]"]("extensions")))?c.extensions=lt(st(tt,"Extensions"),"create",[],C.$to_proc()).$activate(c):ct(st(tt,"Extensions").$groups()["$empty?"]()["$!"]())&&(c.extensions=at(st(tt,"Extensions"),"Registry").$new().$activate(c))),c.reader=st(tt,"PreprocessorReader").$new(c,t,at(st(tt,"Reader"),"Cursor").$new(g["$[]"]("docfile"),c.base_dir),ut(["normalize"],{normalize:!0})),ct(c.sourcemap)?c.source_location=c.reader.$cursor():$t)},T.$$arity=-1),et.def(Z,"$parse",$=function(t){var e,n,i,r=this,$=$t,a=$t;return null==t&&(t=$t),ct(r.parsed)?r:($=r,ct(t)&&(r.reader=st(tt,"PreprocessorReader").$new($,t,at(st(tt,"Reader"),"Cursor").$new(r.attributes["$[]"]("docfile"),r.base_dir),ut(["normalize"],{normalize:!0})),ct(r.sourcemap)&&(r.source_location=r.reader.$cursor())),ct(ct(e=a=ct(r.parent_document)?$t:r.extensions)?a["$preprocessors?"]():e)&&lt(a.$preprocessors(),"each",[],((n=function(t){var e,r=n.$$s||this;return null==r.reader&&(r.reader=$t),null==t&&(t=$t),r.reader=ct(e=t.$process_method()["$[]"]($,r.reader))?e:r.reader}).$$s=r,n.$$arity=1,n)),st(tt,"Parser").$parse(r.reader,$,ut(["header_only"],{header_only:r.options["$[]"]("parse_header_only")})),r.$restore_attributes(),ct(ct(e=a)?a["$tree_processors?"]():e)&&lt(a.$tree_processors(),"each",[],((i=function(t){i.$$s;var e,r,n=$t;return null==t&&(t=$t),ct(ct(e=ct(r=n=t.$process_method()["$[]"]($))?st(tt,"Document")["$==="](n):r)?n["$!="]($):e)?$=n:$t}).$$s=r,i.$$arity=1,i)),r.parsed=!0,$)},$.$$arity=-1),et.def(Z,"$counter",a=function(t,e){var r,n=this,i=$t,$=$t,a=$t;return null==e&&(e=$t),ct(n.parent_document)?n.parent_document.$counter(t,e):(a=ct(ct(r=i=($=n.attributes["$[]"](t))["$nil_or_empty?"]()["$!"]())?n.counters["$key?"](t):r)?[t,(a=[t,n.$nextval($)],lt(n.counters,"[]=",et.to_a(a)),a[rt(a.length,1)])]:ct(e)?[t,(a=[t,e["$=="](e.$to_i().$to_s())?e.$to_i():e],lt(n.counters,"[]=",et.to_a(a)),a[rt(a.length,1)])]:[t,(a=[t,n.$nextval(ct(i)?$:0)],lt(n.counters,"[]=",et.to_a(a)),a[rt(a.length,1)])],lt(n.attributes,"[]=",et.to_a(a)),a[rt(a.length,1)])},a.$$arity=-2),et.def(Z,"$increment_and_store_counter",s=function(t,e){return st(tt,"AttributeEntry").$new(t,this.$counter(t)).$save_to(e.$attributes()).$value()},s.$$arity=2),et.alias(Z,"counter_increment","increment_and_store_counter"),et.def(Z,"$nextval",o=function(t){var e=$t;return ct(at("::","Integer")["$==="](t))?it(t,1):(e=t.$to_i(),ct(e.$to_s()["$!="](t.$to_s()))?it(t["$[]"](0).$ord(),1).$chr():it(e,1))},o.$$arity=1),et.def(Z,"$register",l=function(t,e){var r,n,i=this,$=$t,a=$t,s=$t,o=$t,l=$t,c=$t,u=$t;return"ids"["$==="]($=t)?(n=e,r=et.to_ary(n),a=null==r[0]?$t:r[0],s=null==r[1]?$t:r[1],o=i.catalog["$[]"]("ids"),ct(r=o["$[]"](a))?r:(l=[a,ct(n=s)?n:it(it("[",a),"]")],lt(o,"[]=",et.to_a(l)),l[rt(l.length,1)])):"refs"["$==="]($)?(n=e,r=et.to_ary(n),a=null==r[0]?$t:r[0],c=null==r[1]?$t:r[1],s=null==r[2]?$t:r[2],ct((u=i.catalog["$[]"]("refs"))["$key?"](a))?$t:(l=[a,ct(r=s)?r:it(it("[",a),"]")],lt(i.catalog["$[]"]("ids"),"[]=",et.to_a(l)),l[rt(l.length,1)],l=[a,c],lt(u,"[]=",et.to_a(l)),l[rt(l.length,1)])):"footnotes"["$==="]($)||"indexterms"["$==="]($)?i.catalog["$[]"](t)["$<<"](e):ct(i.options["$[]"]("catalog_assets"))?i.catalog["$[]"](t)["$<<"](t["$=="]("images")?st(tt,"ImageReference").$new(e["$[]"](0),e["$[]"](1)):e):$t},l.$$arity=2),et.def(Z,"$footnotes?",c=function(){return!ct(this.catalog["$[]"]("footnotes")["$empty?"]())},c.$$arity=0),et.def(Z,"$footnotes",u=function(){return this.catalog["$[]"]("footnotes")},u.$$arity=0),et.def(Z,"$callouts",_=function(){return this.catalog["$[]"]("callouts")},_.$$arity=0),et.def(Z,"$nested?",d=function(){return!!ct(this.parent_document)},d.$$arity=0),et.def(Z,"$embedded?",h=function(){return this.attributes["$key?"]("embedded")},h.$$arity=0),et.def(Z,"$extensions?",f=function(){return!!ct(this.extensions)},f.$$arity=0),et.def(Z,"$source",p=function(){return ct(this.reader)?this.reader.$source():$t},p.$$arity=0),et.def(Z,"$source_lines",m=function(){return ct(this.reader)?this.reader.$source_lines():$t},m.$$arity=0),et.def(Z,"$basebackend?",y=function(t){return this.attributes["$[]"]("basebackend")["$=="](t)},y.$$arity=1),et.def(Z,"$title",g=function(){return this.$doctitle()},g.$$arity=0),et.def(Z,"$title=",b=function(t){var e=$t,r=$t;return ct(e=this.header)||(r=["header"],lt(e=this.header=st(tt,"Section").$new(this,0),"sectname=",et.to_a(r)),r[rt(r.length,1)]),r=[t],lt(e,"title=",et.to_a(r)),r[rt(r.length,1)]},b.$$arity=1),et.def(Z,"$doctitle",v=function(t){var e,r=this,n=$t,i=$t,$=$t;if(null==t&&(t=ut([],{})),ct(n=r.attributes["$[]"]("title")));else if(ct(i=r.$first_section()))n=i.$title();else if(ct((ct(e=t["$[]"]("use_fallback"))?n=r.attributes["$[]"]("untitled-label"):e)["$!"]()))return $t;return ct($=t["$[]"]("partition"))?st(tt,"Title").$new(n,t.$merge(ut(["separator"],{separator:$["$=="](!0)?r.attributes["$[]"]("title-separator"):$}))):ct(ct(e=t["$[]"]("sanitize"))?n["$include?"]("<"):e)?n.$gsub(st(tt,"XmlSanitizeRx"),"").$squeeze(" ").$strip():n},v.$$arity=-1),et.alias(Z,"name","doctitle"),et.def(Z,"$author",x=function(){return this.attributes["$[]"]("author")},x.$$arity=0),et.def(Z,"$authors",k=function(){var t,e,r,n,i,$=$t,a=$t,s=$t,o=$t;if(ct(($=this.attributes)["$key?"]("author"))){if(a=[st(tt,"Author").$new($["$[]"]("author"),$["$[]"]("firstname"),$["$[]"]("middlename"),$["$[]"]("lastname"),$["$[]"]("authorinitials"),$["$[]"]("email"))],ct((n=s=ct(t=$["$[]"]("authorcount"))?t:0,i=1,"number"==typeof n&&"number"==typeof i?i<n:n["$>"](i))))for(o=1;ct((r=s,"number"==typeof(e=o)&&"number"==typeof r?e<r:e["$<"](r)));)o=it(o,1),a["$<<"](st(tt,"Author").$new($["$[]"]("author_"+o),$["$[]"]("firstname_"+o),$["$[]"]("middlename_"+o),$["$[]"]("lastname_"+o),$["$[]"]("authorinitials_"+o),$["$[]"]("email_"+o)));return a}return[]},k.$$arity=0),et.def(Z,"$revdate",w=function(){return this.attributes["$[]"]("revdate")},w.$$arity=0),et.def(Z,"$notitle",E=function(){var t;return ct(t=this.attributes["$key?"]("showtitle")["$!"]())?this.attributes["$key?"]("notitle"):t},E.$$arity=0),et.def(Z,"$noheader",A=function(){return this.attributes["$key?"]("noheader")},A.$$arity=0),et.def(Z,"$nofooter",O=function(){return this.attributes["$key?"]("nofooter")},O.$$arity=0),et.def(Z,"$first_section",S=function(){var t,e;return ct(t=this.header)?t:lt(this.blocks,"find",[],((e=function(t){e.$$s;return null==t&&(t=$t),t.$context()["$=="]("section")}).$$s=this,e.$$arity=1,e))},S.$$arity=0),et.def(Z,"$has_header?",R=function(){return!!ct(this.header)},R.$$arity=0),et.alias(Z,"header?","has_header?"),et.def(Z,"$<<",C=function(t){var e=C.$$p,r=$t,n=$t,i=$t;for(e&&(C.$$p=null),n=0,i=arguments.length,r=new Array(i);n<i;n++)r[n]=arguments[n];return t.$context()["$=="]("section")&&this.$assign_numeral(t),lt(this,et.find_super_dispatcher(this,"<<",C,!1),r,e)},C.$$arity=1),et.def(Z,"$finalize_header",M=function(t,e){var r=$t;return null==e&&(e=!0),this.$clear_playback_attributes(t),this.$save_attributes(),ct(e)||(r=["invalid-header",!0],lt(t,"[]=",et.to_a(r)),r[rt(r.length,1)]),t},M.$$arity=-2),et.def(Z,"$save_attributes",I=function(){var t,e,n,r=this,i=$t,$=$t,a=$t,s=$t,o=$t,l=$t,c=$t,u=$t,_=$t,d=$t;return(i=r.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(ct(ct(t=r["$attribute_locked?"]("toc"))?t:r.attributes_modified["$include?"]("toc"))||($=["toc",""],lt(i,"[]=",et.to_a($)),$[rt($.length,1)]),ct(ct(t=r["$attribute_locked?"]("sectnums"))?t:r.attributes_modified["$include?"]("sectnums"))||($=["sectnums",""],lt(i,"[]=",et.to_a($)),$[rt($.length,1)])),ct(ct(t=i["$key?"]("doctitle"))?t:(a=r.$doctitle())["$!"]())||($=["doctitle",a],lt(i,"[]=",et.to_a($)),$[rt($.length,1)]),ct(r.id)||(r.id=i["$[]"]("css-signature")),s=ct(o=ct(i.$delete("toc2"))?"left":i["$[]"]("toc"))?ct(ct(t=l=i.$fetch("toc-placement","macro"))?l["$!="]("auto"):t)?l:i["$[]"]("toc-position"):$t,ct(ct(t=o)?ct(e=o["$empty?"]()["$!"]())?e:s["$nil_or_empty?"]()["$!"]():t)&&(c="left",u="toc2",_=ct(s["$nil_or_empty?"]()["$!"]())?s:ct(o["$empty?"]()["$!"]())?o:c,$=["toc",""],lt(i,"[]=",et.to_a($)),$[rt($.length,1)],$=["toc-placement","auto"],lt(i,"[]=",et.to_a($)),$[rt($.length,1)],"left"["$==="](d=_)||"<"["$==="](d)||"&lt;"["$==="](d)?($=["toc-position","left"],lt(i,"[]=",et.to_a($)),$[rt($.length,1)]):"right"["$==="](d)||">"["$==="](d)||"&gt;"["$==="](d)?($=["toc-position","right"],lt(i,"[]=",et.to_a($)),$[rt($.length,1)]):"top"["$==="](d)||"^"["$==="](d)?($=["toc-position","top"],lt(i,"[]=",et.to_a($)),$[rt($.length,1)]):"bottom"["$==="](d)||"v"["$==="](d)?($=["toc-position","bottom"],lt(i,"[]=",et.to_a($)),$[rt($.length,1)]):u=("preamble"["$==="](d)||"macro"["$==="](d)?($=["toc-position","content"],lt(i,"[]=",et.to_a($)),$[rt($.length,1)],$=["toc-placement",_],lt(i,"[]=",et.to_a($)),$[rt($.length,1)]):i.$delete("toc-position"),$t),ct(u)&&(ct(t=i["$[]"]("toc-class"))||($=["toc-class",u],lt(i,"[]=",et.to_a($)),$[rt($.length,1)]))),ct(r.compat_mode=i["$key?"]("compat-mode"))&&ct(i["$key?"]("language"))&&($=["source-language",i["$[]"]("language")],lt(i,"[]=",et.to_a($)),$[rt($.length,1)]),r.outfilesuffix=i["$[]"]("outfilesuffix"),r.header_attributes=i.$dup(),ct(r.parent_document)?$t:lt(st(tt,"FLEXIBLE_ATTRIBUTES"),"each",[],((n=function(t){var e,r=n.$$s||this;return null==r.attribute_overrides&&(r.attribute_overrides=$t),null==t&&(t=$t),ct(ct(e=r.attribute_overrides["$key?"](t))?r.attribute_overrides["$[]"](t):e)?r.attribute_overrides.$delete(t):$t}).$$s=r,n.$$arity=1,n))},I.$$arity=0),et.def(Z,"$restore_attributes",N=function(){return ct(this.parent_document)||this.catalog["$[]"]("callouts").$rewind(),this.attributes.$replace(this.header_attributes)},N.$$arity=0),et.def(Z,"$clear_playback_attributes",P=function(t){return t.$delete("attribute_entries")},P.$$arity=1),et.def(Z,"$playback_attributes",z=function(t){var i;return ct(t["$key?"]("attribute_entries"))?lt(t["$[]"]("attribute_entries"),"each",[],((i=function(t){var e=i.$$s||this,r=$t,n=$t;return null==e.attributes&&(e.attributes=$t),null==t&&(t=$t),r=t.$name(),ct(t.$negate())?(e.attributes.$delete(r),r["$=="]("compat-mode")?e.compat_mode=!1:$t):(n=[r,t.$value()],lt(e.attributes,"[]=",et.to_a(n)),n[rt(n.length,1)],r["$=="]("compat-mode")?e.compat_mode=!0:$t)}).$$s=this,i.$$arity=1,i)):$t},z.$$arity=1),et.def(Z,"$set_attribute",L=function(t,e){var r=this,n=$t,i=$t,$=$t;return null==e&&(e=""),!ct(r["$attribute_locked?"](t))&&(n=ct(r.max_attribute_value_size)?r.$apply_attribute_value_subs(e).$limit_bytesize(r.max_attribute_value_size):r.$apply_attribute_value_subs(e),"backend"["$==="](i=t)?r.$update_backend_attributes(n,r.attributes_modified["$delete?"]("htmlsyntax")):"doctype"["$==="](i)?r.$update_doctype_attributes(n):($=[t,n],lt(r.attributes,"[]=",et.to_a($)),$[rt($.length,1)]),r.attributes_modified["$<<"](t),n)},L.$$arity=-2),et.def(Z,"$delete_attribute",D=function(t){return!ct(this["$attribute_locked?"](t))&&(this.attributes.$delete(t),this.attributes_modified["$<<"](t),!0)},D.$$arity=1),et.def(Z,"$attribute_locked?",F=function(t){return this.attribute_overrides["$key?"](t)},F.$$arity=1),et.def(Z,"$set_header_attribute",B=function(t,e,r){var n,i=$t,$=$t;return null==e&&(e=""),null==r&&(r=!0),i=ct(n=this.header_attributes)?n:this.attributes,!ct((n=r["$=="](!1))?i["$key?"](t):r["$=="](!1))&&($=[t,e],lt(i,"[]=",et.to_a($)),$[rt($.length,1)],!0)},B.$$arity=-2),et.def(Z,"$apply_attribute_value_subs",q=function(t){var e;return ct(st(tt,"AttributeEntryPassMacroRx")["$=~"](t))?ct((e=_t["~"])===$t?$t:e["$[]"](1))?this.$apply_subs((e=_t["~"])===$t?$t:e["$[]"](2),this.$resolve_pass_subs((e=_t["~"])===$t?$t:e["$[]"](1))):(e=_t["~"])===$t?$t:e["$[]"](2):this.$apply_header_subs(t)},q.$$arity=1),et.def(Z,"$update_backend_attributes",j=function(t,e){var r,n,i=this,$=$t,a=$t,s=$t,o=$t,l=$t,c=$t,u=$t,_=$t,d=$t,h=$t,f=$t;return null==e&&(e=$t),ct(ct(r=e)?r:ct(n=t)?t["$!="](i.backend):n)?(r=[i.backend,($=i.attributes)["$[]"]("basebackend"),i.doctype],a=r[0],s=r[1],o=r[2],ct(t["$start_with?"]("xhtml"))?(l=["htmlsyntax","xml"],lt($,"[]=",et.to_a(l)),l[rt(l.length,1)],t=t.$slice(1,t.$length())):ct(t["$start_with?"]("html"))&&($["$[]"]("htmlsyntax")["$=="]("xml")||(l=["htmlsyntax","html"],lt($,"[]=",et.to_a(l)),l[rt(l.length,1)])),ct(c=st(tt,"BACKEND_ALIASES")["$[]"](t))&&(t=c),ct(o)?(ct(a)&&($.$delete("backend-"+a),$.$delete("backend-"+a+"-doctype-"+o)),l=["backend-"+t+"-doctype-"+o,""],lt($,"[]=",et.to_a(l)),l[rt(l.length,1)],l=["doctype-"+o,""],lt($,"[]=",et.to_a(l)),l[rt(l.length,1)]):ct(a)&&$.$delete("backend-"+a),l=["backend-"+t,""],lt($,"[]=",et.to_a(l)),l[rt(l.length,1)],i.backend=(l=["backend",t],lt($,"[]=",et.to_a(l)),l[rt(l.length,1)]),ct(at(st(tt,"Converter"),"BackendInfo")["$==="](i.converter=i.$create_converter()))?(u=i.converter.$basebackend(),ct(i["$attribute_locked?"]("outfilesuffix"))||(l=["outfilesuffix",i.converter.$outfilesuffix()],lt($,"[]=",et.to_a(l)),l[rt(l.length,1)]),_=i.converter.$filetype()):ct(i.converter)?(u=t.$sub(st(tt,"TrailingDigitsRx"),""),_=ct(d=st(tt,"DEFAULT_EXTENSIONS")["$[]"](u))?d.$slice(1,d.$length()):(d=(r=[".html","html","html"])[0],u=r[1],r[2]),ct(i["$attribute_locked?"]("outfilesuffix"))||(l=["outfilesuffix",d],lt($,"[]=",et.to_a(l)),l[rt(l.length,1)])):i.$raise(at("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+t+"'. Processing aborted."),ct(h=$["$[]"]("filetype"))&&$.$delete("filetype-"+h),l=["filetype",_],lt($,"[]=",et.to_a(l)),l[rt(l.length,1)],l=["filetype-"+_,""],lt($,"[]=",et.to_a(l)),l[rt(l.length,1)],ct(f=st(tt,"DEFAULT_PAGE_WIDTHS")["$[]"](u))?(l=["pagewidth",f],lt($,"[]=",et.to_a(l)),l[rt(l.length,1)]):$.$delete("pagewidth"),ct(u["$!="](s))&&(ct(o)?(ct(s)&&($.$delete("basebackend-"+s),$.$delete("basebackend-"+s+"-doctype-"+o)),l=["basebackend-"+u+"-doctype-"+o,""],lt($,"[]=",et.to_a(l)),l[rt(l.length,1)]):ct(s)&&$.$delete("basebackend-"+s),l=["basebackend-"+u,""],lt($,"[]=",et.to_a(l)),l[rt(l.length,1)],l=["basebackend",u],lt($,"[]=",et.to_a(l)),l[rt(l.length,1)]),t):$t},j.$$arity=-2),et.def(Z,"$update_doctype_attributes",U=function(t){var e,r=$t,n=$t,i=$t,$=$t,a=$t;return ct(ct(e=t)?t["$!="](this.doctype):e)?(e=[this.backend,(r=this.attributes)["$[]"]("basebackend"),this.doctype],n=e[0],i=e[1],$=e[2],ct($)?(r.$delete("doctype-"+$),ct(n)&&(r.$delete("backend-"+n+"-doctype-"+$),a=["backend-"+n+"-doctype-"+t,""],lt(r,"[]=",et.to_a(a)),a[rt(a.length,1)]),ct(i)&&(r.$delete("basebackend-"+i+"-doctype-"+$),a=["basebackend-"+i+"-doctype-"+t,""],lt(r,"[]=",et.to_a(a)),a[rt(a.length,1)])):(ct(n)&&(a=["backend-"+n+"-doctype-"+t,""],lt(r,"[]=",et.to_a(a)),a[rt(a.length,1)]),ct(i)&&(a=["basebackend-"+i+"-doctype-"+t,""],lt(r,"[]=",et.to_a(a)),a[rt(a.length,1)])),a=["doctype-"+t,""],lt(r,"[]=",et.to_a(a)),a[rt(a.length,1)],this.doctype=(a=["doctype",t],lt(r,"[]=",et.to_a(a)),a[rt(a.length,1)])):$t},U.$$arity=1),et.def(Z,"$create_converter",H=function(){var t=this,e=$t,r=$t,n=$t,i=$t,$=$t;return e=ut([],{}),r=["htmlsyntax",t.attributes["$[]"]("htmlsyntax")],lt(e,"[]=",et.to_a(r)),r[rt(r.length,1)],ct(n=t.options["$[]"]("template_dir"))?i=[n]:ct(i=t.options["$[]"]("template_dirs"))&&(i=t.$Array(i)),ct(i)&&(r=["template_dirs",i],lt(e,"[]=",et.to_a(r)),r[rt(r.length,1)],r=["template_cache",t.options.$fetch("template_cache",!0)],lt(e,"[]=",et.to_a(r)),r[rt(r.length,1)],r=["template_engine",t.options["$[]"]("template_engine")],lt(e,"[]=",et.to_a(r)),r[rt(r.length,1)],r=["template_engine_options",t.options["$[]"]("template_engine_options")],lt(e,"[]=",et.to_a(r)),r[rt(r.length,1)],r=["eruby",t.options["$[]"]("eruby")],lt(e,"[]=",et.to_a(r)),r[rt(r.length,1)],r=["safe",t.safe],lt(e,"[]=",et.to_a(r)),r[rt(r.length,1)]),(ct($=t.options["$[]"]("converter"))?at(st(tt,"Converter"),"Factory").$new(at("::","Hash")["$[]"](t.$backend(),$)):at(st(tt,"Converter"),"Factory").$default(!1)).$create(t.$backend(),e)},H.$$arity=0),et.def(Z,"$convert",Y=function(t){var e,r,n=this,i=$t,$=$t,a=$t,s=$t,o=$t;return null==t&&(t=ut([],{})),ct(n.timings)&&n.timings.$start("convert"),ct(n.parsed)||n.$parse(),ct(ct(e=nt(n.safe,at(st(tt,"SafeMode"),"SERVER")))?e:t["$empty?"]())||(ct((i=["outfile",t["$[]"]("outfile")],lt(n.attributes,"[]=",et.to_a(i)),i[rt(i.length,1)]))||n.attributes.$delete("outfile"),ct((i=["outdir",t["$[]"]("outdir")],lt(n.attributes,"[]=",et.to_a(i)),i[rt(i.length,1)]))||n.attributes.$delete("outdir")),n.$doctype()["$=="]("inline")?ct($=ct(e=n.blocks["$[]"](0))?e:n.header)&&(ct(ct(e=$.$content_model()["$=="]("compound"))?e:$.$content_model()["$=="]("empty"))?n.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):a=$.$content()):(s=ct(ct(t["$key?"]("header_footer"))?t["$[]"]("header_footer"):n.options["$[]"]("header_footer"))?"document":"embedded",a=n.converter.$convert(n,s)),ct(n.parent_document)||ct(ct(e=o=n.extensions)?o["$postprocessors?"]():e)&&lt(o.$postprocessors(),"each",[],((r=function(t){var e=r.$$s||this;return null==t&&(t=$t),a=t.$process_method()["$[]"](e,a)}).$$s=n,r.$$arity=1,r)),ct(n.timings)&&n.timings.$record("convert"),a},Y.$$arity=-1),et.alias(Z,"render","convert"),et.def(Z,"$write",G=function(t,e){var r,n=this;return ct(n.timings)&&n.timings.$start("write"),ct(st(tt,"Writer")["$==="](n.converter))?n.converter.$write(t,e):(ct(e["$respond_to?"]("write"))?ct(t["$nil_or_empty?"]())||(e.$write(t.$chomp()),e.$write(st(tt,"LF"))):ct(st(tt,"COERCE_ENCODING"))?at("::","IO").$write(e,t,ut(["encoding"],{encoding:at(at("::","Encoding"),"UTF_8")})):at("::","IO").$write(e,t),ct(ct(r=n.backend["$=="]("manpage")?at("::","String")["$==="](e):n.backend["$=="]("manpage"))?n.converter["$respond_to?"]("write_alternate_pages"):r)&&n.converter.$write_alternate_pages(n.attributes["$[]"]("mannames"),n.attributes["$[]"]("manvolnum"),e)),ct(n.timings)&&n.timings.$record("write"),$t},G.$$arity=2),et.def(Z,"$content",W=function(){var t=W.$$p,e=$t,r=$t,n=$t;for(t&&(W.$$p=null),r=0,n=arguments.length,e=new Array(n);r<n;r++)e[r]=arguments[r];return this.attributes.$delete("title"),lt(this,et.find_super_dispatcher(this,"content",W,!1),e,t)},W.$$arity=0),et.def(Z,"$docinfo",X=function(t,e){var r,n,i,$=this,a=$t,s=$t,o=$t,l=$t,c=$t,u=$t,_=$t,d=$t,h=$t;return null==t&&(t="head"),null==e&&(e=$t),ct(nt($.$safe(),at(st(tt,"SafeMode"),"SECURE")))?"":(a=[],t["$=="]("head")||(s="-"+t),ct(e)||(e=$.outfilesuffix),o=ct((o=$.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?ct($.attributes["$key?"]("docinfo2"))?["private","shared"]:ct($.attributes["$key?"]("docinfo1"))?["shared"]:ct(o)?["private"]:$t:lt(o.$split(","),"map",[],((r=function(t){r.$$s;return null==t&&(t=$t),t.$strip()}).$$s=$,r.$$arity=1,r)),ct(o)&&(n=["docinfo"+s+e,$.attributes["$[]"]("docinfodir"),$.$resolve_docinfo_subs()],l=n[0],c=n[1],u=n[2],ct(o["$&"](["shared","shared-"+t])["$empty?"]())||(_=$.$normalize_system_path(l,c),ct(d=$.$read_asset(_,ut(["normalize"],{normalize:!0})))&&a["$<<"]($.$apply_subs(d,u))),ct(ct(n=$.attributes["$[]"]("docname")["$nil_or_empty?"]())?n:o["$&"](["private","private-"+t])["$empty?"]())||(_=$.$normalize_system_path($.attributes["$[]"]("docname")+"-"+l,c),ct(h=$.$read_asset(_,ut(["normalize"],{normalize:!0})))&&a["$<<"]($.$apply_subs(h,u)))),ct(ct(n=$.extensions)?$["$docinfo_processors?"](t):n)&&(a=it(a,lt($.docinfo_processor_extensions["$[]"](t),"map",[],(i=function(t){var e=i.$$s||this;return null==t&&(t=$t),t.$process_method()["$[]"](e)},i.$$s=$,i.$$arity=1,i)).$compact())),a.$join(st(tt,"LF")))},X.$$arity=-1),et.def(Z,"$resolve_docinfo_subs",V=function(){return ct(this.attributes["$key?"]("docinfosubs"))?this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",$t,"docinfo"):["attributes"]},V.$$arity=0),et.def(Z,"$docinfo_processors?",K=function(t){var e,r=$t;return null==t&&(t="head"),ct(this.docinfo_processor_extensions["$key?"](t))?this.docinfo_processor_extensions["$[]"](t)["$!="](!1):ct(ct(e=this.extensions)?this.document.$extensions()["$docinfo_processors?"](t):e)?(r=[t,this.document.$extensions().$docinfo_processors(t)],lt(this.docinfo_processor_extensions,"[]=",et.to_a(r)),r[rt(r.length,1)])["$!"]()["$!"]():(r=[t,!1],lt(this.docinfo_processor_extensions,"[]=",et.to_a(r)),r[rt(r.length,1)])},K.$$arity=-1),et.def(Z,"$to_s",J=function(){var t=this;return"#<"+t.$class()+"@"+t.$object_id()+" {doctype: "+t.$doctype().$inspect()+", doctitle: "+(ct(t.header["$!="]($t))?t.header.$title():$t).$inspect()+", blocks: "+t.blocks.$size()+"}>"},J.$$arity=0)}(i[0],st(i,"AbstractBlock"),i)}(t[0],t)},Opal.modules["asciidoctor/inline"]=function(h){h.top;var t=[],f=h.nil,$=(h.const_get_qualified,h.const_get_relative),a=(h.breaker,h.slice,h.module),p=h.klass,m=h.hash2,y=h.send,g=h.truthy;return h.add_stubs(["$attr_reader","$attr_accessor","$[]","$dup","$convert","$converter","$attr","$==","$apply_reftext_subs","$reftext"]),function(t,e){function r(){}var n=r=a(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var a,i,$,s,o,l,c,u,_=n=p(t,e,"Inline",n),d=_.prototype;[_].concat(r);d.text=d.type=f,_.$attr_reader("text"),_.$attr_reader("type"),_.$attr_accessor("target"),h.def(_,"$initialize",a=function(t,e,r,n){var i=a.$$p,$=f;return i&&(a.$$p=null),null==r&&(r=f),null==n&&(n=m([],{})),y(this,h.find_super_dispatcher(this,"initialize",a,!1),[t,e],null),this.node_name="inline_"+e,this.text=r,this.id=n["$[]"]("id"),this.type=n["$[]"]("type"),this.target=n["$[]"]("target"),g($=n["$[]"]("attributes"))?this.attributes=$.$dup():f},a.$$arity=-3),h.def(_,"$block?",i=function(){return!1},i.$$arity=0),h.def(_,"$inline?",$=function(){return!0},$.$$arity=0),h.def(_,"$convert",s=function(){return this.$converter().$convert(this)},s.$$arity=0),h.alias(_,"render","convert"),h.def(_,"$alt",o=function(){return this.$attr("alt")},o.$$arity=0),h.def(_,"$reftext?",l=function(){var t,e;return g(t=this.text)?g(e=this.type["$=="]("ref"))?e:this.type["$=="]("bibref"):t},l.$$arity=0),h.def(_,"$reftext",c=function(){var t=f;return g(t=this.text)?this.$apply_reftext_subs(t):f},c.$$arity=0),h.def(_,"$xreftext",u=function(t){return null==t&&(t=f),this.$reftext()},u.$$arity=-1)}(i[0],$(i,"AbstractNode"),i)}(t[0],t)},Opal.modules["asciidoctor/list"]=function(f){f.top;var t=[],p=f.nil,m=(f.const_get_qualified,f.const_get_relative),$=(f.breaker,f.slice,f.module),y=f.klass,c=f.hash2,g=f.send,b=f.truthy;return f.add_stubs(["$==","$next_list","$callouts","$class","$object_id","$inspect","$size","$items","$attr_accessor","$level","$drop","$!","$nil_or_empty?","$apply_subs","$empty?","$===","$[]","$outline?","$simple?","$context","$option?","$shift","$blocks","$unshift","$lines","$source","$parent"]),function(t,e){function r(){}var n=r=$(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var s,i,$,a,o=n=y(t,e,"List",n),l=o.prototype;[o].concat(r);l.context=l.document=l.style=p,f.alias(o,"items","blocks"),f.alias(o,"content","blocks"),f.alias(o,"items?","blocks?"),f.def(o,"$initialize",s=function(t,e,r){var n=s.$$p,i=p,$=p,a=p;for(n&&(s.$$p=null),$=0,a=arguments.length,i=new Array(a);$<a;$++)i[$]=arguments[$];return null==r&&(r=c([],{})),g(this,f.find_super_dispatcher(this,"initialize",s,!1),i,n)},s.$$arity=-3),f.def(o,"$outline?",i=function(){var t;return b(t=this.context["$=="]("ulist"))?t:this.context["$=="]("olist")},i.$$arity=0),f.def(o,"$convert",$=function(){var t=$.$$p,e=p,r=p,n=p,i=p;for(t&&($.$$p=null),n=0,i=arguments.length,r=new Array(i);n<i;n++)r[n]=arguments[n];return this.context["$=="]("colist")?(e=g(this,f.find_super_dispatcher(this,"convert",$,!1),r,t),this.document.$callouts().$next_list(),e):g(this,f.find_super_dispatcher(this,"convert",$,!1),r,t)},$.$$arity=0),f.alias(o,"render","convert"),f.def(o,"$to_s",a=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"},a.$$arity=0)}(i[0],m(i,"AbstractBlock"),i),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_=n=y(t,e,"ListItem",n),d=_.prototype,h=[_].concat(r);d.text=d.subs=d.blocks=p,f.alias(_,"list","parent"),_.$attr_accessor("marker"),f.def(_,"$initialize",i=function(t,e){var r=i.$$p;return r&&(i.$$p=null),null==e&&(e=p),g(this,f.find_super_dispatcher(this,"initialize",i,!1),[t,"list_item"],null),this.text=e,this.level=t.$level(),this.subs=m(h,"NORMAL_SUBS").$drop(0)},i.$$arity=-2),f.def(_,"$text?",$=function(){return this.text["$nil_or_empty?"]()["$!"]()},$.$$arity=0),f.def(_,"$text",a=function(){var t;return b(t=this.text)?this.$apply_subs(this.text,this.subs):t},a.$$arity=0),f.def(_,"$text=",s=function(t){return this.text=t},s.$$arity=1),f.def(_,"$simple?",o=function(){var t,e,r=p;return b(t=this.blocks["$empty?"]())?t:b(e=this.blocks.$size()["$=="](1)?m(h,"List")["$==="](r=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1))?r["$outline?"]():e},o.$$arity=0),f.def(_,"$compound?",l=function(){return this["$simple?"]()["$!"]()},l.$$arity=0),f.def(_,"$fold_first",c=function(t,e){var r,n,i,$,a,s=p,o=p;return null==t&&(t=!1),null==e&&(e=!1),b(b(r=b(n=s=this.blocks["$[]"](0))?m(h,"Block")["$==="](s):n)?b(n=(i=s.$context()["$=="]("paragraph"))?t["$!"]():s.$context()["$=="]("paragraph"))?n:b(i=b($=b(a=e)?a:t["$!"]())?s.$context()["$=="]("literal"):$)?s["$option?"]("listparagraph"):i:r)&&(o=this.$blocks().$shift(),b(this.text["$nil_or_empty?"]())||o.$lines().$unshift(this.text),this.text=o.$source()),p},c.$$arity=-1),f.def(_,"$to_s",u=function(){var t;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(b(t=this.blocks)?t:[]).$size()+"}>"},u.$$arity=0)}(i[0],m(i,"AbstractBlock"),i)}(t[0],t)},Opal.modules["asciidoctor/parser"]=function(at){function st(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function Z(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function ot(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function lt(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function ct(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}at.top;var t=[],ut=at.nil,Q=at.const_get_qualified,_t=at.const_get_relative,$=(at.breaker,at.slice,at.module),tt=at.klass,dt=at.send,ht=at.truthy,ft=at.hash2,pt=at.gvars;return at.add_stubs(["$include","$new","$lambda","$start_with?","$match?","$is_delimited_block?","$raise","$parse_document_header","$[]","$has_more_lines?","$next_section","$assign_numeral","$<<","$blocks","$parse_block_metadata_lines","$attributes","$is_next_line_doctitle?","$finalize_header","$nil_or_empty?","$title=","$-","$sourcemap","$cursor","$parse_section_title","$id=","$source_location=","$header","$attribute_locked?","$[]=","$id","$parse_header_metadata","$register","$==","$doctype","$parse_manpage_header","$=~","$downcase","$include?","$sub_attributes","$error","$logger","$message_with_context","$cursor_at_line","$backend","$skip_blank_lines","$save","$update","$is_next_line_section?","$initialize_section","$join","$map","$read_lines_until","$to_proc","$title","$split","$lstrip","$restore_save","$discard_save","$context","$empty?","$has_header?","$delete","$!","$!=","$attr?","$attr","$key?","$document","$+","$level","$special","$sectname","$to_i","$>","$<","$warn","$next_block","$blocks?","$style","$context=","$style=","$parent=","$size","$content_model","$shift","$unwrap_standalone_preamble","$dup","$fetch","$parse_block_metadata_line","$extensions","$block_macros?","$mark","$read_line","$terminator","$to_s","$masq","$to_sym","$registered_for_block?","$cursor_at_mark","$strict_verbatim_paragraphs","$unshift_line","$markdown_syntax","$keys","$chr","$*","$length","$end_with?","$===","$parse_attributes","$attribute_missing","$clear","$tr","$basename","$assign_caption","$registered_for_block_macro?","$config","$process_method","$replace","$parse_callout_list","$callouts","$parse_list","$match","$parse_description_list","$underline_style_section_titles","$is_section_title?","$peek_line","$atx_section_title?","$generate_id","$level=","$read_paragraph_lines","$adjust_indentation!","$set_option","$map!","$slice","$pop","$build_block","$apply_subs","$chop","$catalog_inline_anchors","$rekey","$index","$strip","$parse_table","$concat","$each","$title?","$lock_in_subs","$sub?","$catalog_callouts","$source","$remove_sub","$block_terminates_paragraph","$<=","$nil?","$lines","$parse_blocks","$parse_list_item","$items","$scan","$gsub","$count","$pre_match","$advance","$callout_ids","$next_list","$catalog_inline_anchor","$source_location","$marker=","$catalog_inline_biblio_anchor","$text=","$resolve_ordered_list_marker","$read_lines_for_list_item","$skip_line_comments","$unshift_lines","$fold_first","$text?","$is_sibling_list_item?","$find","$delete_at","$casecmp","$sectname=","$special=","$numbered=","$numbered","$lineno","$update_attributes","$peek_lines","$setext_section_title?","$abs","$line_length","$cursor_at_prev_line","$process_attribute_entries","$next_line_empty?","$process_authors","$apply_header_subs","$rstrip","$each_with_index","$compact","$Array","$squeeze","$to_a","$parse_style_attribute","$process_attribute_entry","$skip_comment_lines","$store_attribute","$sanitize_attribute_name","$set_attribute","$save_to","$delete_attribute","$ord","$int_to_roman","$resolve_list_marker","$parse_colspecs","$create_columns","$format","$starts_with_delimiter?","$close_open_cell","$parse_cellspec","$delimiter","$match_delimiter","$post_match","$buffer_has_unclosed_quotes?","$skip_past_delimiter","$buffer","$buffer=","$skip_past_escaped_delimiter","$keep_cell_open","$push_cellspec","$close_cell","$cell_open?","$columns","$assign_column_widths","$has_header_option=","$partition_header_footer","$upto","$shorthand_property_syntax","$each_char","$call","$sub!","$gsub!","$%","$begin"]),function(t,e){function r(){}var n=r=$(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k,w,E,A,O,S,R,C,T,M,I,N,P,z,L,D,F,B,q,j,U,H,Y,G,W,X,V,K,J=n=tt(t,null,"Parser",n),$t=(J.prototype,[J].concat(r));J.$include(_t($t,"Logging")),at.const_set($t[0],"BlockMatchData",_t($t,"Struct").$new("context","masq","tip","terminator")),at.const_set($t[0],"TabRx",/\t/),at.const_set($t[0],"TabIndentRx",/^\t+/),at.const_set($t[0],"StartOfBlockProc",dt(J,"lambda",[],((i=function(t){var e,r,n=i.$$s||this;return null==t&&(t=ut),ht(e=ht(r=t["$start_with?"]("["))?_t($t,"BlockAttributeLineRx")["$match?"](t):r)?e:n["$is_delimited_block?"](t)}).$$s=J,i.$$arity=1,i))),at.const_set($t[0],"StartOfListProc",dt(J,"lambda",[],(($=function(t){$.$$s;return null==t&&(t=ut),_t($t,"AnyListRx")["$match?"](t)}).$$s=J,$.$$arity=1,$))),at.const_set($t[0],"StartOfBlockOrListProc",dt(J,"lambda",[],((a=function(t){var e,r,n,i=a.$$s||this;return null==t&&(t=ut),ht(e=ht(r=i["$is_delimited_block?"](t))?r:ht(n=t["$start_with?"]("["))?_t($t,"BlockAttributeLineRx")["$match?"](t):n)?e:_t($t,"AnyListRx")["$match?"](t)}).$$s=J,a.$$arity=1,a))),at.const_set($t[0],"NoOp",ut),at.const_set($t[0],"TableCellHorzAlignments",ft(["<",">","^"],{"<":"left",">":"right","^":"center"})),at.const_set($t[0],"TableCellVertAlignments",ft(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})),at.const_set($t[0],"TableCellStyles",ft(["d","s","e","m","h","l","v","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"})),at.def(J,"$initialize",s=function(){return this.$raise("Au contraire, mon frere. No parser instances will be running around.")},s.$$arity=0),at.defs(J,"$parse",o=function(t,e,r){var n,i,$=ut,a=ut;if(null==r&&(r=ft([],{})),$=this.$parse_document_header(t,e),ht(r["$[]"]("header_only")));else for(;ht(t["$has_more_lines?"]());)i=this.$next_section(t,e,$),n=at.to_ary(i),a=null==n[0]?ut:n[0],$=null==n[1]?ut:n[1],ht(a)&&(e.$assign_numeral(a),e.$blocks()["$<<"](a));return e},o.$$arity=-3),at.defs(J,"$parse_document_header",l=function(t,e){var r,n,i=ut,$=ut,a=ut,s=ut,o=ut,l=ut,c=ut,u=ut,_=ut,d=ut,h=ut,f=ut,p=ut,m=ut;return i=this.$parse_block_metadata_lines(t,e),$=e.$attributes(),ht(ht(r=a=this["$is_next_line_doctitle?"](t,i,$["$[]"]("leveloffset")))?i["$[]"]("title"):r)?e.$finalize_header(i,!1):(s=ut,ht((o=$["$[]"]("doctitle"))["$nil_or_empty?"]())||(l=[s=o],dt(e,"title=",at.to_a(l)),l[st(l.length,1)]),ht(a)&&(ht(e.$sourcemap())&&(c=t.$cursor()),n=this.$parse_section_title(t,e),r=at.to_ary(n),e["$id="](null==r[0]?ut:r[0]),null==r[1]?ut:r[1],u=null==r[2]?ut:r[2],null==r[3]?ut:r[3],_=null==r[4]?ut:r[4],ht(s)||(l=[s=u],dt(e,"title=",at.to_a(l)),l[st(l.length,1)]),ht(c)&&(l=[c],dt(e.$header(),"source_location=",at.to_a(l)),l[st(l.length,1)]),ht(ht(r=_)?r:e["$attribute_locked?"]("compat-mode"))||(l=["compat-mode",""],dt($,"[]=",at.to_a(l)),l[st(l.length,1)]),ht(d=i["$[]"]("separator"))&&(ht(e["$attribute_locked?"]("title-separator"))||(l=["title-separator",d],dt($,"[]=",at.to_a(l)),l[st(l.length,1)])),l=["doctitle",h=u],dt($,"[]=",at.to_a(l)),l[st(l.length,1)],ht(f=i["$[]"]("id"))?(l=[f],dt(e,"id=",at.to_a(l)),l[st(l.length,1)]):f=e.$id(),ht(p=i["$[]"]("role"))&&(l=["docrole",p],dt($,"[]=",at.to_a(l)),l[st(l.length,1)]),ht(m=i["$[]"]("reftext"))&&(l=["reftext",m],dt($,"[]=",at.to_a(l)),l[st(l.length,1)]),i=ft([],{}),this.$parse_header_metadata(t,e),ht(f)&&e.$register("refs",[f,e])),ht(ht(r=(o=$["$[]"]("doctitle"))["$nil_or_empty?"]())?r:o["$=="](h))||(l=[s=o],dt(e,"title=",at.to_a(l)),l[st(l.length,1)]),ht(s)&&(l=["doctitle",s],dt($,"[]=",at.to_a(l)),l[st(l.length,1)]),e.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(t,e,i),e.$finalize_header(i))},l.$$arity=2),at.defs(J,"$parse_manpage_header",c=function(t,e,r){var n,i,$,a=ut,s=ut,o=ut,l=ut,c=ut,u=ut,_=ut,d=ut,h=ut,f=ut;return s=ht(_t($t,"ManpageTitleVolnumRx")["$=~"]((a=e.$attributes())["$[]"]("doctitle")))?(s=["manvolnum",o=(n=pt["~"])===ut?ut:n["$[]"](2)],dt(a,"[]=",at.to_a(s)),s[st(s.length,1)],["mantitle",(ht((l=(n=pt["~"])===ut?ut:n["$[]"](1))["$include?"](_t($t,"ATTR_REF_HEAD")))?e.$sub_attributes(l):l).$downcase()]):(this.$logger().$error(this.$message_with_context("non-conforming manpage title",ft(["source_location"],{source_location:t.$cursor_at_line(1)}))),s=["mantitle",ht(n=ht(i=a["$[]"]("doctitle"))?i:a["$[]"]("docname"))?n:"command"],dt(a,"[]=",at.to_a(s)),s[st(s.length,1)],["manvolnum",o="1"]),dt(a,"[]=",at.to_a(s)),s[st(s.length,1)],ht(ht(n=c=a["$[]"]("manname"))?a["$[]"]("manpurpose"):n)?(ht(n=a["$[]"]("manname-title"))||(s=["manname-title","Name"],dt(a,"[]=",at.to_a(s)),s[st(s.length,1)]),s=["mannames",[c]],dt(a,"[]=",at.to_a(s)),s[st(s.length,1)],e.$backend()["$=="]("manpage")&&(s=["docname",c],dt(a,"[]=",at.to_a(s)),s[st(s.length,1)],s=["outfilesuffix","."+o],dt(a,"[]=",at.to_a(s)),s[st(s.length,1)])):(t.$skip_blank_lines(),t.$save(),r.$update(this.$parse_block_metadata_lines(t,e)),ht(u=this["$is_next_line_section?"](t,ft([],{})))?u["$=="](1)?(_=this.$initialize_section(t,e,ft([],{})),d=dt(t.$read_lines_until(ft(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0})),"map",[],"lstrip".$to_proc()).$join(" "),ht(_t($t,"ManpageNamePurposeRx")["$=~"](d))?(ht(n=a["$[]"]("manname-title"))||(s=["manname-title",_.$title()],dt(a,"[]=",at.to_a(s)),s[st(s.length,1)]),ht(_.$id())&&(s=["manname-id",_.$id()],dt(a,"[]=",at.to_a(s)),s[st(s.length,1)]),s=["manpurpose",(n=pt["~"])===ut?ut:n["$[]"](2)],dt(a,"[]=",at.to_a(s)),s[st(s.length,1)],ht((c=(n=pt["~"])===ut?ut:n["$[]"](1))["$include?"](_t($t,"ATTR_REF_HEAD")))&&(c=e.$sub_attributes(c)),ht(c["$include?"](","))?c=(h=dt(c.$split(","),"map",[],($=function(t){$.$$s;return null==t&&(t=ut),t.$lstrip()},$.$$s=this,$.$$arity=1,$)))["$[]"](0):h=[c],s=["manname",c],dt(a,"[]=",at.to_a(s)),s[st(s.length,1)],s=["mannames",h],dt(a,"[]=",at.to_a(s)),s[st(s.length,1)],e.$backend()["$=="]("manpage")&&(s=["docname",c],dt(a,"[]=",at.to_a(s)),s[st(s.length,1)],s=["outfilesuffix","."+o],dt(a,"[]=",at.to_a(s)),s[st(s.length,1)])):f="non-conforming name section body"):f="name section must be at level 1":f="name section expected",ht(f)?(t.$restore_save(),this.$logger().$error(this.$message_with_context(f,ft(["source_location"],{source_location:t.$cursor()}))),s=["manname",c=ht(n=a["$[]"]("docname"))?n:"command"],dt(a,"[]=",at.to_a(s)),s[st(s.length,1)],s=["mannames",[c]],dt(a,"[]=",at.to_a(s)),s[st(s.length,1)],e.$backend()["$=="]("manpage")&&(s=["docname",c],dt(a,"[]=",at.to_a(s)),s[st(s.length,1)],s=["outfilesuffix","."+o],dt(a,"[]=",at.to_a(s)),s[st(s.length,1)])):t.$discard_save()),ut},c.$$arity=3),at.defs(J,"$next_section",u=function(t,e,r){var n,i,$,a,s=this,o=ut,l=ut,c=ut,u=ut,_=ut,d=ut,h=ut,f=ut,p=ut,m=ut,y=ut,g=ut,b=ut,v=ut,x=ut,k=ut,w=ut,E=ut,A=ut,O=ut;for(null==r&&(r=ft([],{})),o=l=c=!1,ht(ht(n=(i=e.$context()["$=="]("document"))?e.$blocks()["$empty?"]():e.$context()["$=="]("document"))?ht(i=ht($=u=e["$has_header?"]())?$:r.$delete("invalid-header"))?i:s["$is_next_line_section?"](t,r)["$!"]():n)?(_=(d=e).$doctype()["$=="]("book"),ht(ht(n=u)?n:ht(i=_)?r["$[]"](1)["$!="]("abstract"):i)&&(o=l=_t($t,"Block").$new(e,"preamble",ft(["content_model"],{content_model:"compound"})),ht(ht(n=_)?e["$attr?"]("preface-title"):n)&&(h=[e.$attr("preface-title")],dt(o,"title=",at.to_a(h)),h[st(h.length,1)]),e.$blocks()["$<<"](o)),p=0,ht((f=e).$attributes()["$key?"]("fragment"))?m=-1:ht(_)?(m=(n=[1,0])[0],y=n[1]):m=1):(_=(d=e.$document()).$doctype()["$=="]("book"),f=s.$initialize_section(t,e,r),r=ht(g=r["$[]"]("title"))?ft(["title"],{title:g}):ft([],{}),m=Z(p=f.$level(),1),p["$=="](0)?c=_:ht((n=p["$=="](1))?f.$special():p["$=="](1))&&(ht(ht(n=ht(i=(b=f.$sectname())["$=="]("appendix"))?i:b["$=="]("preface"))?n:b["$=="]("abstract"))||(m=ut))),t.$skip_blank_lines();ht(t["$has_more_lines?"]());){if(s.$parse_block_metadata_lines(t,d,r),ht(v=s["$is_next_line_section?"](t,r)))if(ht(d["$attr?"]("leveloffset"))&&(v=Z(v,d.$attr("leveloffset").$to_i())),ht(ot(v,p)))ht(m)?ht(ht(i=ht($=v["$=="](m))?$:ht(a=y)?v["$=="](y):a)?i:lt(m,0))||(x=ht(y)?"expected levels "+y+" or "+m:"expected level "+m,s.$logger().$warn(s.$message_with_context("section title out of sequence: "+x+", got level "+v,ft(["source_location"],{source_location:t.$cursor()})))):s.$logger().$error(s.$message_with_context(b+" sections do not support nested sections",ft(["source_location"],{source_location:t.$cursor()}))),$=s.$next_section(t,f,r),i=at.to_ary($),k=null==i[0]?ut:i[0],r=null==i[1]?ut:i[1],f.$assign_numeral(k),f.$blocks()["$<<"](k);else{if(!ht((i=v["$=="](0))?f["$=="](d):v["$=="](0)))break;ht(_)||s.$logger().$error(s.$message_with_context("level 0 sections can only be used when doctype is book",ft(["source_location"],{source_location:t.$cursor()}))),$=s.$next_section(t,f,r),i=at.to_ary($),k=null==i[0]?ut:i[0],r=null==i[1]?ut:i[1],f.$assign_numeral(k),f.$blocks()["$<<"](k)}else w=t.$cursor(),ht(E=s.$next_block(t,ht(i=l)?i:f,r,ft(["parse_metadata"],{parse_metadata:!1})))&&(ht(c)&&(ht(f["$blocks?"]()["$!"]())?ht(E.$style()["$!="]("partintro"))&&(E.$context()["$=="]("paragraph")?(h=["open"],dt(E,"context=",at.to_a(h)),h[st(h.length,1)],h=["partintro"],dt(E,"style=",at.to_a(h)),h[st(h.length,1)]):(h=[l=_t($t,"Block").$new(f,"open",ft(["content_model"],{content_model:"compound"}))],dt(E,"parent=",at.to_a(h)),h[st(h.length,1)],h=["partintro"],dt(l,"style=",at.to_a(h)),h[st(h.length,1)],f.$blocks()["$<<"](l))):f.$blocks().$size()["$=="](1)&&(A=f.$blocks()["$[]"](0),ht(ht(i=l["$!"]())?A.$content_model()["$=="]("compound"):i)?s.$logger().$error(s.$message_with_context("illegal block content outside of partintro block",ft(["source_location"],{source_location:w}))):ht(A.$content_model()["$!="]("compound"))&&(h=[l=_t($t,"Block").$new(f,"open",ft(["content_model"],{content_model:"compound"}))],dt(E,"parent=",at.to_a(h)),h[st(h.length,1)],h=["partintro"],dt(l,"style=",at.to_a(h)),h[st(h.length,1)],f.$blocks().$shift(),A.$style()["$=="]("partintro")&&(h=["paragraph"],dt(A,"context=",at.to_a(h)),h[st(h.length,1)],h=[ut],dt(A,"style=",at.to_a(h)),h[st(h.length,1)]),l["$<<"](A),f.$blocks()["$<<"](l)))),(ht(i=l)?i:f).$blocks()["$<<"](E),r=ft([],{}));if(!ht(i=t.$skip_blank_lines()))break}if(ht(c))ht(ht(n=f["$blocks?"]())?f.$blocks()["$[]"](-1).$context()["$=="]("section"):n)||s.$logger().$error(s.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",ft(["source_location"],{source_location:t.$cursor()})));else if(ht(o))if(ht(o["$blocks?"]()))if(ht(ht(n=ht(i=_)?i:d.$blocks()["$[]"](1))?n:_t($t,"Compliance").$unwrap_standalone_preamble()["$!"]()));else for(d.$blocks().$shift();ht(O=o.$blocks().$shift());)d["$<<"](O);else d.$blocks().$shift();return[ht(f["$!="](e))?f:ut,r.$dup()]},u.$$arity=-3),at.defs(J,"$next_block",_=function(t,e,n,r){try{var i,$,a,s,o,l,c,u=this,_=ut,d=ut,h=ut,f=ut,p=ut,m=ut,y=ut,g=ut,b=ut,v=ut,x=ut,k=ut,w=ut,E=ut,A=ut,O=ut,S=ut,R=ut,C=ut,T=ut,M=ut,I=ut,N=ut,P=ut,z=ut,L=ut,D=ut,F=ut,B=ut,q=ut,j=ut,U=ut,H=ut,Y=ut,G=ut,W=ut,X=ut,V=ut,K=ut,J=ut,Z=ut,Q=ut,tt=ut,et=ut,rt=ut,nt=ut,it=ut;if(null==pt["~"]&&(pt["~"]=ut),null==n&&(n=ft([],{})),null==r&&(r=ft([],{})),!ht(_=t.$skip_blank_lines()))return ut;if(ht(ht(i=d=r["$[]"]("text"))?ot(_,0):i)&&(r.$delete("text"),d=!1),h=e.$document(),ht(r.$fetch("parse_metadata",!0)))for(;ht(u.$parse_block_metadata_line(t,h,n,r));)t.$shift(),ht($=t.$skip_blank_lines())||at.ret(ut);if(ht(f=h.$extensions())&&(i=[f["$blocks?"](),f["$block_macros?"]()],p=i[0],m=i[1]),t.$mark(),i=[t.$read_line(),h.$attributes(),n["$[]"](1)],y=i[0],g=i[1],b=i[2],v=x=k=w=ut,ht(E=u["$is_delimited_block?"](y,!0))&&(x=k=E.$context(),w=E.$terminator(),ht(b["$!"]())?(A=["style",x.$to_s()],dt(n,"[]=",at.to_a(A)),b=A[st(A.length,1)]):ht(b["$!="](x.$to_s()))&&(ht(E.$masq()["$include?"](b))?x=b.$to_sym():ht(ht(i=E.$masq()["$include?"]("admonition"))?_t($t,"ADMONITION_STYLES")["$include?"](b):i)?x="admonition":ht(ht(i=p)?f["$registered_for_block?"](b,x):i)?x=b.$to_sym():(u.$logger().$warn(u.$message_with_context("invalid style for "+x+" block: "+b,ft(["source_location"],{source_location:t.$cursor_at_mark()}))),b=x.$to_s()))),ht(E));else for(;ht(!0);){if(ht(ht($=ht(a=b)?_t($t,"Compliance").$strict_verbatim_paragraphs():a)?_t($t,"VERBATIM_STYLES")["$include?"](b):$)){x=b.$to_sym(),t.$unshift_line(y);break}if(ht(d))O=y["$start_with?"](" ",_t($t,"TAB"));else if(S=_t($t,"Compliance").$markdown_syntax(),ht(y["$start_with?"](" "))){if(O=($=[!0," "])[0],R=$[1],ht(ht($=ht(a=S)?dt(y.$lstrip(),"start_with?",at.to_a(_t($t,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):a)?_t($t,"MarkdownThematicBreakRx")["$match?"](y):$)){v=_t($t,"Block").$new(e,"thematic_break",ft(["content_model"],{content_model:"empty"}));break}}else if(ht(y["$start_with?"](_t($t,"TAB"))))$=[!0,_t($t,"TAB")],O=$[0],R=$[1];else{if($=[!1,y.$chr()],O=$[0],R=$[1],C=ht(S)?_t($t,"HYBRID_LAYOUT_BREAK_CHARS"):_t($t,"LAYOUT_BREAK_CHARS"),ht(ht($=C["$key?"](R))?ht(S)?_t($t,"ExtLayoutBreakRx")["$match?"](y):(a=y["$=="](ct(R,T=y.$length())))?ot(T,2):y["$=="](ct(R,T=y.$length())):$)){v=_t($t,"Block").$new(e,C["$[]"](R),ft(["content_model"],{content_model:"empty"}));break}if(ht(ht($=y["$end_with?"]("]"))?y["$include?"]("::"):$)){if(ht(ht($=ht(a=R["$=="]("i"))?a:y["$start_with?"]("video:","audio:"))?_t($t,"BlockMediaMacroRx")["$=~"](y):$)){if($=[((a=pt["~"])===ut?ut:a["$[]"](1)).$to_sym(),(a=pt["~"])===ut?ut:a["$[]"](2),(a=pt["~"])===ut?ut:a["$[]"](3)],M=$[0],I=$[1],N=$[2],v=_t($t,"Block").$new(e,M,ft(["content_model"],{content_model:"empty"})),ht(N)&&(z="video"["$==="](P=M)?["poster","width","height"]:"audio"["$==="](P)?[]:["alt","width","height"],v.$parse_attributes(N,z,ft(["sub_input","into"],{sub_input:!0,into:n}))),ht(n["$key?"]("style"))&&n.$delete("style"),ht(ht($=I["$include?"](_t($t,"ATTR_REF_HEAD")))?(I=v.$sub_attributes(I,ft(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():$))return(ht($=g["$[]"]("attribute-missing"))?$:_t($t,"Compliance").$attribute_missing())["$=="]("skip")?_t($t,"Block").$new(e,"paragraph",ft(["content_model","source"],{content_model:"simple",source:[y]})):(n.$clear(),ut);M["$=="]("image")&&(h.$register("images",[I,(A=["imagesdir",g["$[]"]("imagesdir")],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)])]),ht($=n["$[]"]("alt"))||(A=["alt",ht(a=b)?a:(A=["default-alt",_t($t,"Helpers").$basename(I,!0).$tr("_-"," ")],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)])],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)]),ht((L=n.$delete("scaledwidth"))["$nil_or_empty?"]())||(A=["scaledwidth",ht(_t($t,"TrailingDigitsRx")["$match?"](L))?L+"%":L],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)]),ht(n["$key?"]("title"))&&(A=[n.$delete("title")],dt(v,"title=",at.to_a(A)),A[st(A.length,1)],v.$assign_caption(n.$delete("caption"),"figure"))),A=["target",I],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)];break}if(ht(ht($=(a=R["$=="]("t"))?y["$start_with?"]("toc:"):R["$=="]("t"))?_t($t,"BlockTocMacroRx")["$=~"](y):$)){v=_t($t,"Block").$new(e,"toc",ft(["content_model"],{content_model:"empty"})),ht(($=pt["~"])===ut?ut:$["$[]"](1))&&v.$parse_attributes(($=pt["~"])===ut?ut:$["$[]"](1),[],ft(["into"],{into:n}));break}if(ht(ht($=ht(a=m)?_t($t,"CustomBlockMacroRx")["$=~"](y):a)?D=f["$registered_for_block_macro?"]((a=pt["~"])===ut?ut:a["$[]"](1)):$)){if($=[(a=pt["~"])===ut?ut:a["$[]"](2),(a=pt["~"])===ut?ut:a["$[]"](3)],I=$[0],F=$[1],ht(ht($=ht(a=I["$include?"](_t($t,"ATTR_REF_HEAD")))?(I=e.$sub_attributes(I))["$empty?"]():a)?(ht(a=g["$[]"]("attribute-missing"))?a:_t($t,"Compliance").$attribute_missing())["$=="]("drop-line"):$))return n.$clear(),ut;if(D.$config()["$[]"]("content_model")["$=="]("attributes")?ht(F)&&h.$parse_attributes(F,ht($=D.$config()["$[]"]("pos_attrs"))?$:[],ft(["sub_input","into"],{sub_input:!0,into:n})):(A=["text",ht($=F)?$:""],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)]),ht(B=D.$config()["$[]"]("default_attrs"))&&dt(n,"update",[B],((s=function(t,e){s.$$s;return null==t&&(t=ut),null==e&&(e=ut),e}).$$s=u,s.$$arity=2,s)),ht(v=D.$process_method()["$[]"](e,I,n))){n.$replace(v.$attributes());break}return n.$clear(),ut}}}if(ht(ht($=ht(a=O["$!"]())?(R=ht(o=R)?o:y.$chr())["$=="]("<"):a)?_t($t,"CalloutListRx")["$=~"](y):$)){t.$unshift_line(y),v=u.$parse_callout_list(t,pt["~"],e,h.$callouts()),A=["style","arabic"],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)];break}if(ht(_t($t,"UnorderedListRx")["$match?"](y))){t.$unshift_line(y),ht(ht($=ht(a=b["$!"]())?_t($t,"Section")["$==="](e):a)?e.$sectname()["$=="]("bibliography"):$)&&(A=["style",b="bibliography"],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)]),v=u.$parse_list(t,"ulist",e,b);break}if(ht(q=_t($t,"OrderedListRx").$match(y))){t.$unshift_line(y),v=u.$parse_list(t,"olist",e,b),ht(v.$style())&&(A=["style",v.$style()],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)]);break}if(ht(q=_t($t,"DescriptionListRx").$match(y))){t.$unshift_line(y),v=u.$parse_description_list(t,q,e);break}if(ht(ht($=ht(a=b["$=="]("float"))?a:b["$=="]("discrete"))?ht(_t($t,"Compliance").$underline_style_section_titles())?u["$is_section_title?"](y,t.$peek_line()):ht(a=O["$!"]())?u["$atx_section_title?"](y):a:$)){t.$unshift_line(y),a=u.$parse_section_title(t,h,n["$[]"]("id")),$=at.to_ary(a),j=null==$[0]?ut:$[0],U=null==$[1]?ut:$[1],H=null==$[2]?ut:$[2],Y=null==$[3]?ut:$[3],ht(U)&&(A=["reftext",U],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)]),v=_t($t,"Block").$new(e,"floating_title",ft(["content_model"],{content_model:"empty"})),A=[H],dt(v,"title=",at.to_a(A)),A[st(A.length,1)],n.$delete("title"),A=[ht($=j)?$:ht(g["$key?"]("sectids"))?_t($t,"Section").$generate_id(v.$title(),h):ut],dt(v,"id=",at.to_a(A)),A[st(A.length,1)],A=[Y],dt(v,"level=",at.to_a(A)),A[st(A.length,1)];break}if(ht(ht($=b)?b["$!="]("normal"):$)){if(ht(_t($t,"PARAGRAPH_STYLES")["$include?"](b))){x=b.$to_sym(),k="paragraph",t.$unshift_line(y);break}if(ht(_t($t,"ADMONITION_STYLES")["$include?"](b))){x="admonition",k="paragraph",t.$unshift_line(y);break}if(ht(ht($=p)?f["$registered_for_block?"](b,"paragraph"):$)){x=b.$to_sym(),k="paragraph",t.$unshift_line(y);break}u.$logger().$warn(u.$message_with_context("invalid style for paragraph: "+b,ft(["source_location"],{source_location:t.$cursor_at_mark()}))),b=ut}if(t.$unshift_line(y),ht(ht($=O)?b["$!"]():$))G=u.$read_paragraph_lines(t,ht($=W=_t($t,"ListItem")["$==="](e))?_["$=="](0):$,ft(["skip_line_comments"],{skip_line_comments:d})),u["$adjust_indentation!"](G),v=_t($t,"Block").$new(e,"literal",ft(["content_model","source","attributes"],{content_model:"verbatim",source:G,attributes:n})),ht(W)&&v.$set_option("listparagraph");else{if(G=u.$read_paragraph_lines(t,($=_["$=="](0))?_t($t,"ListItem")["$==="](e):_["$=="](0),ft(["skip_line_comments"],{skip_line_comments:!0})),ht(d))ht(ht($=O)?b["$=="]("normal"):$)&&u["$adjust_indentation!"](G),v=_t($t,"Block").$new(e,"paragraph",ft(["content_model","source","attributes"],{content_model:"simple",source:G,attributes:n}));else if(ht(ht($=ht(a=_t($t,"ADMONITION_STYLE_HEADS")["$include?"](R))?y["$include?"](":"):a)?_t($t,"AdmonitionParagraphRx")["$=~"](y):$))A=[0,($=pt["~"])===ut?ut:$.$post_match()],dt(G,"[]=",at.to_a(A)),A[st(A.length,1)],A=["name",X=(A=["style",($=pt["~"])===ut?ut:$["$[]"](1)],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)]).$downcase()],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)],A=["textlabel",ht($=n.$delete("caption"))?$:g["$[]"](X+"-caption")],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)],v=_t($t,"Block").$new(e,"admonition",ft(["content_model","source","attributes"],{content_model:"simple",source:G,attributes:n}));else if(ht(ht($=ht(a=S)?R["$=="](">"):a)?y["$start_with?"]("> "):$)){if(dt(G,"map!",[],((l=function(t){l.$$s;return null==t&&(t=ut),t["$=="](">")?t.$slice(1,t.$length()):ht(t["$start_with?"]("> "))?t.$slice(2,t.$length()):t}).$$s=u,l.$$arity=1,l)),ht(G["$[]"](-1)["$start_with?"]("-- ")))for(V=(V=G.$pop()).$slice(3,V.$length());ht(G["$[]"](-1)["$empty?"]());)G.$pop();A=["style","quote"],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)],v=u.$build_block("quote","compound",!1,e,_t($t,"Reader").$new(G),n),ht(V)&&(a=v.$apply_subs(V).$split(", ",2),$=at.to_ary(a),K=null==$[0]?ut:$[0],J=null==$[1]?ut:$[1],ht(K)&&(A=["attribution",K],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)]),ht(J)&&(A=["citetitle",J],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)]))}else if(ht(ht($=ht(a=(o=R["$=="]('"'))?ot(G.$size(),1):R["$=="]('"'))?G["$[]"](-1)["$start_with?"]("-- "):a)?G["$[]"](-2)["$end_with?"]('"'):$)){for(A=[0,y.$slice(1,y.$length())],dt(G,"[]=",at.to_a(A)),A[st(A.length,1)],V=(V=G.$pop()).$slice(3,V.$length());ht(G["$[]"](-1)["$empty?"]());)G.$pop();G["$<<"](G.$pop().$chop()),A=["style","quote"],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)],v=_t($t,"Block").$new(e,"quote",ft(["content_model","source","attributes"],{content_model:"simple",source:G,attributes:n})),a=v.$apply_subs(V).$split(", ",2),$=at.to_ary(a),K=null==$[0]?ut:$[0],J=null==$[1]?ut:$[1],ht(K)&&(A=["attribution",K],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)]),ht(J)&&(A=["citetitle",J],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)])}else ht(ht($=O)?b["$=="]("normal"):$)&&u["$adjust_indentation!"](G),v=_t($t,"Block").$new(e,"paragraph",ft(["content_model","source","attributes"],{content_model:"simple",source:G,attributes:n}));u.$catalog_inline_anchors(G.$join(_t($t,"LF")),v,h,t)}break}if(ht(v));else if(ht(ht(i=x["$=="]("abstract"))?i:x["$=="]("partintro"))&&(x="open"),"admonition"["$==="](P=x))A=["name",X=b.$downcase()],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)],A=["textlabel",ht(i=n.$delete("caption"))?i:g["$[]"](X+"-caption")],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)],v=u.$build_block(x,"compound",w,e,t,n);else{if("comment"["$==="](P))return u.$build_block(x,"skip",w,e,t,n),n.$clear(),ut;if("example"["$==="](P))v=u.$build_block(x,"compound",w,e,t,n);else if("listing"["$==="](P)||"literal"["$==="](P))v=u.$build_block(x,"verbatim",w,e,t,n);else if("source"["$==="](P))_t($t,"AttributeList").$rekey(n,[ut,"language","linenums"]),ht(n["$key?"]("language"))||ht(g["$key?"]("source-language"))&&(A=["language",ht(i=g["$[]"]("source-language"))?i:"text"],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)]),ht(n["$key?"]("linenums"))||ht(ht(i=n["$key?"]("linenums-option"))?i:g["$key?"]("source-linenums-option"))&&(A=["linenums",""],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)]),ht(n["$key?"]("indent"))||ht(g["$key?"]("source-indent"))&&(A=["indent",g["$[]"]("source-indent")],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)]),v=u.$build_block("listing","verbatim",w,e,t,n);else if("fenced_code"["$==="](P))A=["style","source"],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)],(T=y.$length())["$=="](3)?Z=ut:ht(Q=(Z=y.$slice(3,T)).$index(","))?ht(ot(Q,0))?(Z=Z.$slice(0,Q).$strip(),ht(lt(Q,st(T,4)))&&(A=["linenums",""],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)])):(Z=ut,ht(ot(T,4))&&(A=["linenums",""],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)])):Z=Z.$lstrip(),ht(Z["$nil_or_empty?"]())?ht(g["$key?"]("source-language"))&&(A=["language",ht(i=g["$[]"]("source-language"))?i:"text"],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)]):(A=["language",Z],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)]),ht(n["$key?"]("linenums"))||ht(ht(i=n["$key?"]("linenums-option"))?i:g["$key?"]("source-linenums-option"))&&(A=["linenums",""],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)]),ht(n["$key?"]("indent"))||ht(g["$key?"]("source-indent"))&&(A=["indent",g["$[]"]("source-indent")],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)]),w=w.$slice(0,3),v=u.$build_block("listing","verbatim",w,e,t,n);else if("pass"["$==="](P))v=u.$build_block(x,"raw",w,e,t,n);else if("stem"["$==="](P)||"latexmath"["$==="](P)||"asciimath"["$==="](P))x["$=="]("stem")&&(A=["style",_t($t,"STEM_TYPE_ALIASES")["$[]"](ht(i=n["$[]"](2))?i:g["$[]"]("stem"))],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)]),v=u.$build_block("stem","raw",w,e,t,n);else if("open"["$==="](P)||"sidebar"["$==="](P))v=u.$build_block(x,"compound",w,e,t,n);else if("table"["$==="](P))tt=t.$cursor(),et=_t($t,"Reader").$new(t.$read_lines_until(ft(["terminator","skip_line_comments","context","cursor"],{terminator:w,skip_line_comments:!0,context:"table",cursor:"at_mark"})),tt),ht(w["$start_with?"]("|","!"))||ht(i=n["$[]"]("format"))||(A=["format",ht(w["$start_with?"](","))?"csv":"dsv"],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)]),v=u.$parse_table(et,e,n);else if("quote"["$==="](P)||"verse"["$==="](P))_t($t,"AttributeList").$rekey(n,[ut,"attribution","citetitle"]),v=u.$build_block(x,x["$=="]("verse")?"verbatim":"compound",w,e,t,n);else if(ht(ht(i=p)?D=f["$registered_for_block?"](x,k):i)){if(ht((rt=D.$config()["$[]"]("content_model"))["$!="]("skip"))&&(ht((nt=ht(i=D.$config()["$[]"]("pos_attrs"))?i:[])["$empty?"]()["$!"]())&&_t($t,"AttributeList").$rekey(n,[ut].$concat(nt)),ht(B=D.$config()["$[]"]("default_attrs"))&&dt(B,"each",[],((c=function(t,e){var r;c.$$s;return null==t&&(t=ut),null==e&&(e=ut),ht(r=n["$[]"](t))?r:(A=[t,e],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)])}).$$s=u,c.$$arity=2,c)),A=["cloaked-context",k],dt(n,"[]=",at.to_a(A)),A[st(A.length,1)]),v=u.$build_block(x,rt,w,e,t,n,ft(["extension"],{extension:D})),!ht(v))return n.$clear(),ut}else u.$raise("Unsupported block type "+x+" at "+t.$cursor())}return ht(h.$sourcemap())&&(A=[t.$cursor_at_mark()],dt(v,"source_location=",at.to_a(A)),A[st(A.length,1)]),ht(n["$key?"]("title"))&&(A=[n.$delete("title")],dt(v,"title=",at.to_a(A)),A[st(A.length,1)]),A=[n["$[]"]("style")],dt(v,"style=",at.to_a(A)),A[st(A.length,1)],ht(it=ht(i=v.$id())?i:(A=[n["$[]"]("id")],dt(v,"id=",at.to_a(A)),A[st(A.length,1)]))&&(ht(h.$register("refs",[it,v,ht(i=n["$[]"]("reftext"))?i:ht(v["$title?"]())?v.$title():ut]))||u.$logger().$warn(u.$message_with_context("id assigned to block already in use: "+it,ft(["source_location"],{source_location:t.$cursor_at_mark()})))),ht(n["$empty?"]())||v.$attributes().$update(n),v.$lock_in_subs(),ht(v["$sub?"]("callouts"))&&(ht(u.$catalog_callouts(v.$source(),h))||v.$remove_sub("callouts")),v}catch(t){if(t===at.returner)return t.$v;throw t}},_.$$arity=-3),at.defs(J,"$read_paragraph_lines",d=function(t,e,r){var n=ut,i=ut;return null==r&&(r=ft([],{})),n=["break_on_blank_lines",!0],dt(r,"[]=",at.to_a(n)),n[st(n.length,1)],n=["break_on_list_continuation",!0],dt(r,"[]=",at.to_a(n)),n[st(n.length,1)],n=["preserve_last_line",!0],dt(r,"[]=",at.to_a(n)),n[st(n.length,1)],i=ht(e)?ht(_t($t,"Compliance").$block_terminates_paragraph())?_t($t,"StartOfBlockOrListProc"):_t($t,"StartOfListProc"):ht(_t($t,"Compliance").$block_terminates_paragraph())?_t($t,"StartOfBlockProc"):_t($t,"NoOp"),dt(t,"read_lines_until",[r],i.$to_proc())},d.$$arity=-3),at.defs(J,"$is_delimited_block?",h=function(t,e){var r,n,i,$,a=ut,s=ut,o=ut,l=ut,c=ut,u=ut,_=ut;if(null==e&&(e=!1),!ht(ht(r=ot(a=t.$length(),1))?_t($t,"DELIMITED_BLOCK_HEADS")["$include?"](t.$slice(0,2)):r))return ut;if(a["$=="](2))s=t,o=2;else{if(o=ht(($=4,"number"==typeof(i=a)&&"number"==typeof $?i<=$:i["$<="]($)))?(s=t,a):(s=t.$slice(0,4),4),l=!1,ht(_t($t,"Compliance").$markdown_syntax())&&(c=o["$=="](4)?s.$chop():s)["$=="]("```")){if(ht((r=o["$=="](4))?s["$end_with?"]("`"):o["$=="](4)))return ut;s=c,o=3,l=!0}if(ht((r=o["$=="](3))?l["$!"]():o["$=="](3)))return ut}return ht(_t($t,"DELIMITED_BLOCKS")["$key?"](s))?ht(ht(r=lt(o,4))?r:o["$=="](a))?!ht(e)||(n=_t($t,"DELIMITED_BLOCKS")["$[]"](s),r=at.to_ary(n),u=null==r[0]?ut:r[0],_=null==r[1]?ut:r[1],_t($t,"BlockMatchData").$new(u,_,s,s)):(""+s+ct(s.$slice(-1,1),st(a,o)))["$=="](t)?!ht(e)||(n=_t($t,"DELIMITED_BLOCKS")["$[]"](s),r=at.to_ary(n),u=null==r[0]?ut:r[0],_=null==r[1]?ut:r[1],_t($t,"BlockMatchData").$new(u,_,s,t)):ut:ut},h.$$arity=-2),at.defs(J,"$build_block",f=function(t,e,r,n,i,$,a){var s,o,l=ut,c=ut,u=ut,_=ut,d=ut,h=ut,f=ut,p=ut,m=ut,y=ut;if(null==a&&(a=ft([],{})),c=(l=e["$=="]("skip")?(s=[!0,"simple"])[0]:e["$=="]("raw")?(s=[!1,"simple"])[0]:(s=[!1,e])[0],s[1]),_=ht(r["$nil?"]())?(u=c["$=="]("verbatim")?i.$read_lines_until(ft(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(e["$=="]("compound")&&(e="simple"),this.$read_paragraph_lines(i,!1,ft(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:l}))),ut):ht(c["$!="]("compound"))?(u=i.$read_lines_until(ft(["terminator","skip_processing","context","cursor"],{terminator:r,skip_processing:l,context:t,cursor:"at_mark"})),ut):r["$=="](!1)?(u=ut,i):(u=ut,d=i.$cursor(),_t($t,"Reader").$new(i.$read_lines_until(ft(["terminator","skip_processing","context","cursor"],{terminator:r,skip_processing:l,context:t,cursor:"at_mark"})),d)),e["$=="]("verbatim"))ht(h=$["$[]"]("indent"))?this["$adjust_indentation!"](u,h,ht(s=$["$[]"]("tabsize"))?s:n.$document().$attributes()["$[]"]("tabsize")):ht(ot(f=(ht(s=$["$[]"]("tabsize"))?s:n.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))&&this["$adjust_indentation!"](u,ut,f);else if(e["$=="]("skip"))return ut;if(ht(p=a["$[]"]("extension"))){if($.$delete("style"),!ht(m=p.$process_method()["$[]"](n,ht(s=_)?s:_t($t,"Reader").$new(u),$.$dup())))return ut;$.$replace(m.$attributes()),ht((s=m.$content_model()["$=="]("compound"))?(u=m.$lines())["$nil_or_empty?"]()["$!"]():m.$content_model()["$=="]("compound"))&&(e="compound",_=_t($t,"Reader").$new(u))}else m=_t($t,"Block").$new(n,t,ft(["content_model","source","attributes"],{content_model:e,source:u,attributes:$}));return ht(ht(s=ht(o=$["$key?"]("title"))?m.$context()["$!="]("admonition"):o)?n.$document().$attributes()["$key?"](m.$context()+"-caption"):s)&&(y=[$.$delete("title")],dt(m,"title=",at.to_a(y)),y[st(y.length,1)],m.$assign_caption($.$delete("caption"))),e["$=="]("compound")&&this.$parse_blocks(_,m),m},f.$$arity=-7),at.defs(J,"$parse_blocks",p=function(t,e){for(var r,n,i=ut;ht(ht(r=ht(n=i=this.$next_block(t,e))?e.$blocks()["$<<"](i):n)?r:t["$has_more_lines?"]()););},p.$$arity=2),at.defs(J,"$parse_list",m=function(t,e,r,n){var i,$,a=ut,s=ut,o=ut;for(null==pt["~"]&&(pt["~"]=ut),a=_t($t,"List").$new(r,e);ht(ht(i=t["$has_more_lines?"]())?(s=ht($=s)?$:_t($t,"ListRxMap")["$[]"](e))["$=~"](t.$peek_line()):i)&&(ht(o=this.$parse_list_item(t,a,pt["~"],(i=pt["~"])===ut?ut:i["$[]"](1),n))&&a.$items()["$<<"](o),ht(i=t.$skip_blank_lines())););return a},m.$$arity=4),at.defs(J,"$catalog_callouts",y=function(t,n){var i,$=ut,a=ut;return $=!1,a=0,ht(t["$include?"]("<"))&&dt(t,"scan",[_t($t,"CalloutScanRx")],((i=function(){i.$$s;var t,e,r=ut;return t=[(e=pt["~"])===ut?ut:e["$[]"](0),(e=pt["~"])===ut?ut:e["$[]"](2)],r=t[1],ht(t[0]["$start_with?"]("\\"))||n.$callouts().$register(r["$=="](".")?(a=Z(a,1)).$to_s():r),$=!0}).$$s=this,i.$$arity=0,i)),$},y.$$arity=2),at.defs(J,"$catalog_inline_anchor",g=function(t,e,r,n,i){var $;return null==i&&(i=ut),i=ht($=i)?$:r.$document(),ht(ht($=e)?e["$include?"](_t($t,"ATTR_REF_HEAD")):$)&&(e=i.$sub_attributes(e)),ht(i.$register("refs",[t,_t($t,"Inline").$new(r,"anchor",e,ft(["type","id"],{type:"ref",id:t})),e]))||(ht(_t($t,"Reader")["$==="](n))&&(n=n.$cursor()),this.$logger().$warn(this.$message_with_context("id assigned to anchor already in use: "+t,ft(["source_location"],{source_location:n})))),ut},g.$$arity=-5),at.defs(J,"$catalog_inline_anchors",b=function(t,s,o,l){var e,c;return ht(ht(e=t["$include?"]("[["))?e:t["$include?"]("or:"))&&dt(t,"scan",[_t($t,"InlineAnchorScanRx")],((c=function(){var t,e=c.$$s||this,r=ut,n=ut,i=ut,$=ut,a=ut;if(null==pt["~"]&&(pt["~"]=ut),r=pt["~"],ht(n=(t=pt["~"])===ut?ut:t["$[]"](1))){if(ht(i=(t=pt["~"])===ut?ut:t["$[]"](2))&&ht(ht(t=i["$include?"](_t($t,"ATTR_REF_HEAD")))?(i=o.$sub_attributes(i))["$empty?"]():t))return ut}else if(n=(t=pt["~"])===ut?ut:t["$[]"](3),ht(i=(t=pt["~"])===ut?ut:t["$[]"](4))&&(ht(i["$include?"]("]"))&&(i=i.$gsub("\\]","]")),ht(ht(t=i["$include?"](_t($t,"ATTR_REF_HEAD")))?(i=o.$sub_attributes(i))["$empty?"]():t)))return ut;return ht(o.$register("refs",[n,_t($t,"Inline").$new(s,"anchor",i,ft(["type","id"],{type:"ref",id:n})),i]))?ut:($=l.$cursor_at_mark(),ht(ot(a=Z(r.$pre_match().$count(_t($t,"LF")),ht(r["$[]"](0)["$start_with?"](_t($t,"LF")))?1:0),0))&&($=$.$dup()).$advance(a),e.$logger().$warn(e.$message_with_context("id assigned to anchor already in use: "+n,ft(["source_location"],{source_location:$}))))}).$$s=this,c.$$arity=0,c)),ut},b.$$arity=4),at.defs(J,"$catalog_inline_biblio_anchor",v=function(t,e,r,n){var i,$=ut;return ht(r.$document().$register("refs",[t,_t($t,"Inline").$new(r,"anchor",$="["+(ht(i=e)?i:t)+"]",ft(["type","id"],{type:"bibref",id:t})),$]))||this.$logger().$warn(this.$message_with_context("id assigned to bibliography anchor already in use: "+t,ft(["source_location"],{source_location:n.$cursor()}))),ut},v.$$arity=4),at.defs(J,"$parse_description_list",x=function(t,e,r){var n,i,$=ut,a=ut,s=ut,o=ut,l=ut,c=ut;for($=_t($t,"List").$new(r,"dlist"),a=ut,s=_t($t,"DescriptionListSiblingRx")["$[]"](e["$[]"](2));ht(ht(n=e)?n:ht(i=t["$has_more_lines?"]())?e=s.$match(t.$peek_line()):i);)i=this.$parse_list_item(t,$,e,s),n=at.to_ary(i),o=null==n[0]?ut:n[0],l=null==n[1]?ut:n[1],ht(ht(n=a)?a["$[]"](1)["$!"]():n)?(a["$[]"](0)["$<<"](o),c=[1,l],dt(a,"[]=",at.to_a(c)),c[st(c.length,1)]):$.$items()["$<<"](a=[[o],l]),e=ut;return $},x.$$arity=3),at.defs(J,"$parse_callout_list",k=function(t,e,r,n){var i,$,a=ut,s=ut,o=ut,l=ut,c=ut,u=ut,_=ut;for(a=_t($t,"List").$new(r,"colist"),s=1,o=0;ht(ht(i=e)?i:ht($=e=_t($t,"CalloutListRx").$match(t.$peek_line()))?t.$mark():$);)(l=e["$[]"](1))["$=="](".")&&(l=(o=Z(o,1)).$to_s()),l["$=="](s.$to_s())||this.$logger().$warn(this.$message_with_context("callout list item index: expected "+s+", got "+l,ft(["source_location"],{source_location:t.$cursor_at_mark()}))),ht(c=this.$parse_list_item(t,a,e,"<1>"))&&(a.$items()["$<<"](c),ht((u=n.$callout_ids(a.$items().$size()))["$empty?"]())?this.$logger().$warn(this.$message_with_context("no callout found for <"+a.$items().$size()+">",ft(["source_location"],{source_location:t.$cursor_at_mark()}))):(_=["coids",u],dt(c.$attributes(),"[]=",at.to_a(_)),_[st(_.length,1)])),s=Z(s,1),e=ut;return n.$next_list(),a},k.$$arity=4),at.defs(J,"$parse_list_item",w=function(t,e,r,n,i){var $,a,s=ut,o=ut,l=ut,c=ut,u=ut,_=ut,d=ut,h=ut,f=ut,p=ut,m=ut,y=ut,g=ut,b=ut,v=ut,x=ut,k=ut,w=ut;if(null==i&&(i=ut),(s=e.$context())["$=="]("dlist")?(o=!0,l=_t($t,"ListItem").$new(e,c=r["$[]"](1)),ht(ht($=c["$start_with?"]("[["))?_t($t,"LeadingInlineAnchorRx")["$=~"](c):$)&&this.$catalog_inline_anchor(($=pt["~"])===ut?ut:$["$[]"](1),ht($=(a=pt["~"])===ut?ut:a["$[]"](2))?$:((a=pt["~"])===ut?ut:a.$post_match()).$lstrip(),l,t),ht(u=r["$[]"](3))&&(_=!0),d=_t($t,"ListItem").$new(e,u),ht(e.$document().$sourcemap())&&(h=[t.$cursor()],dt(l,"source_location=",at.to_a(h)),h[st(h.length,1)],ht(_)?(h=[l.$source_location()],dt(d,"source_location=",at.to_a(h)),h[st(h.length,1)]):f=!0)):(_=!0,d=_t($t,"ListItem").$new(e,u=r["$[]"](2)),ht(e.$document().$sourcemap())&&(h=[t.$cursor()],dt(d,"source_location=",at.to_a(h)),h[st(h.length,1)]),s["$=="]("ulist")?(h=[n],dt(d,"marker=",at.to_a(h)),h[st(h.length,1)],ht(u["$start_with?"]("["))&&(ht(ht($=i)?i["$=="]("bibliography"):$)?ht(_t($t,"InlineBiblioAnchorRx")["$=~"](u))&&this.$catalog_inline_biblio_anchor(($=pt["~"])===ut?ut:$["$[]"](1),($=pt["~"])===ut?ut:$["$[]"](2),d,t):ht(u["$start_with?"]("[["))?ht(_t($t,"LeadingInlineAnchorRx")["$=~"](u))&&this.$catalog_inline_anchor(($=pt["~"])===ut?ut:$["$[]"](1),($=pt["~"])===ut?ut:$["$[]"](2),d,t):ht(u["$start_with?"]("[ ] ","[x] ","[*] "))&&(h=["checklist-option",""],dt(e.$attributes(),"[]=",at.to_a(h)),h[st(h.length,1)],h=["checkbox",""],dt(d.$attributes(),"[]=",at.to_a(h)),h[st(h.length,1)],ht(u["$start_with?"]("[ "))||(h=["checked",""],dt(d.$attributes(),"[]=",at.to_a(h)),h[st(h.length,1)]),h=[u.$slice(4,u.$length())],dt(d,"text=",at.to_a(h)),h[st(h.length,1)]))):s["$=="]("olist")?(a=this.$resolve_ordered_list_marker(n,p=e.$items().$size(),!0,t),$=at.to_ary(a),n=null==$[0]?ut:$[0],m=null==$[1]?ut:$[1],h=[n],dt(d,"marker=",at.to_a(h)),h[st(h.length,1)],ht(($=p["$=="](0))?i["$!"]():p["$=="](0))&&(h=[ht($=m)?$:(ht(a=_t($t,"ORDERED_LIST_STYLES")["$[]"](st(n.$length(),1)))?a:"arabic").$to_s()],dt(e,"style=",at.to_a(h)),h[st(h.length,1)]),ht(ht($=u["$start_with?"]("[["))?_t($t,"LeadingInlineAnchorRx")["$=~"](u):$)&&this.$catalog_inline_anchor(($=pt["~"])===ut?ut:$["$[]"](1),($=pt["~"])===ut?ut:$["$[]"](2),d,t)):(h=[n],dt(d,"marker=",at.to_a(h)),h[st(h.length,1)])),t.$shift(),y=t.$cursor(),g=_t($t,"Reader").$new(this.$read_lines_for_list_item(t,s,n,_),y),ht(g["$has_more_lines?"]())){for(ht(f)&&(h=[y],dt(d,"source_location=",at.to_a(h)),h[st(h.length,1)]),b=g.$skip_line_comments(),ht(v=g.$peek_line())?(ht(b["$empty?"]())||g.$unshift_lines(b),ht(x=v["$empty?"]())?k=!1:(k=!0,ht(o)||(_=ut))):k=x=!1,ht(w=this.$next_block(g,d,ft([],{}),ft(["text"],{text:_["$!"]()})))&&d.$blocks()["$<<"](w);ht(g["$has_more_lines?"]());)ht(w=this.$next_block(g,d))&&d.$blocks()["$<<"](w);d.$fold_first(x,k)}return ht(o)?ht(ht($=d["$text?"]())?$:d["$blocks?"]())?[l,d]:[l]:d},w.$$arity=-5),at.defs(J,"$read_lines_for_list_item",E=function(t,r,n,e){var i,$,a,s,o,l,c,u,_=ut,d=ut,h=ut,f=ut,p=ut,m=ut,y=ut,g=ut,b=ut;for(null==n&&(n=ut),null==e&&(e=!0),_=[],h=!(d="inactive"),f=ut;ht(t["$has_more_lines?"]())&&(p=t.$read_line(),!ht(this["$is_sibling_list_item?"](p,r,n)));)if((m=ht(_["$empty?"]())?ut:_["$[]"](-1))["$=="](_t($t,"LIST_CONTINUATION"))&&(d["$=="]("inactive")&&(d="active",e=!0,ht(h)||(y=[-1,""],dt(_,"[]=",at.to_a(y)),y[st(y.length,1)])),p["$=="](_t($t,"LIST_CONTINUATION"))))ht(d["$!="]("frozen"))&&(d="frozen",_["$<<"](p)),p=ut;else{if(ht(g=this["$is_delimited_block?"](p,!0))){if(!d["$=="]("active"))break;_["$<<"](p),_.$concat(t.$read_lines_until(ft(["terminator","read_last_line","context"],{terminator:g.$terminator(),read_last_line:!0,context:ut}))),d="inactive"}else{if(ht(ht($=(a=r["$=="]("dlist"))?d["$!="]("active"):r["$=="]("dlist"))?_t($t,"BlockAttributeLineRx")["$match?"](p):$))break;if(ht(($=d["$=="]("active"))?p["$empty?"]()["$!"]():d["$=="]("active")))ht(_t($t,"LiteralParagraphRx")["$match?"](p))?(t.$unshift_line(p),_.$concat(dt(t,"read_lines_until",[ft(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],((s=function(t){var e=s.$$s||this;return null==t&&(t=ut),r["$=="]("dlist")?e["$is_sibling_list_item?"](t,r,n):r["$=="]("dlist")}).$$s=this,s.$$arity=1,s))),d="inactive"):ht(ht($=ht(a=_t($t,"BlockTitleRx")["$match?"](p))?a:_t($t,"BlockAttributeLineRx")["$match?"](p))?$:_t($t,"AttributeEntryRx")["$match?"](p))?_["$<<"](p):(ht(b=dt(ht(h)?["dlist"]:_t($t,"NESTABLE_LIST_CONTEXTS"),"find",[],((o=function(t){o.$$s;return null==t&&(t=ut),_t($t,"ListRxMap")["$[]"](t)["$match?"](p)}).$$s=this,o.$$arity=1,o)))&&(h=!0,ht(($=b["$=="]("dlist"))?((a=pt["~"])===ut?ut:a["$[]"](3))["$nil_or_empty?"]():b["$=="]("dlist"))&&(e=!1)),_["$<<"](p),d="inactive");else if(ht(ht($=m)?m["$empty?"]():$)){if(ht(p["$empty?"]())){if(!ht(p=ht($=t.$skip_blank_lines())?t.$read_line():$))break;if(ht(this["$is_sibling_list_item?"](p,r,n)))break}if(p["$=="](_t($t,"LIST_CONTINUATION")))f=_.$size(),_["$<<"](p);else if(ht(e)){if(ht(this["$is_sibling_list_item?"](p,r,n)))break;if(ht(b=dt(_t($t,"NESTABLE_LIST_CONTEXTS"),"find",[],((l=function(t){l.$$s;return null==t&&(t=ut),_t($t,"ListRxMap")["$[]"](t)["$=~"](p)}).$$s=this,l.$$arity=1,l))))_["$<<"](p),h=!0,ht(($=b["$=="]("dlist"))?((a=pt["~"])===ut?ut:a["$[]"](3))["$nil_or_empty?"]():b["$=="]("dlist"))&&(e=!1);else{if(!ht(_t($t,"LiteralParagraphRx")["$match?"](p)))break;t.$unshift_line(p),_.$concat(dt(t,"read_lines_until",[ft(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],((c=function(t){var e=c.$$s||this;return null==t&&(t=ut),r["$=="]("dlist")?e["$is_sibling_list_item?"](t,r,n):r["$=="]("dlist")}).$$s=this,c.$$arity=1,c)))}}else ht(h)||_.$pop(),_["$<<"](p),e=!0}else ht(p["$empty?"]()["$!"]())&&(e=!0),ht(b=dt(ht(h)?["dlist"]:_t($t,"NESTABLE_LIST_CONTEXTS"),"find",[],((u=function(t){u.$$s;return null==t&&(t=ut),_t($t,"ListRxMap")["$[]"](t)["$=~"](p)}).$$s=this,u.$$arity=1,u)))&&(h=!0,ht(($=b["$=="]("dlist"))?((a=pt["~"])===ut?ut:a["$[]"](3))["$nil_or_empty?"]():b["$=="]("dlist"))&&(e=!1)),_["$<<"](p)}p=ut}for(ht(p)&&t.$unshift_line(p),ht(f)&&_.$delete_at(f);ht(ht($=_["$empty?"]()["$!"]())?_["$[]"](-1)["$empty?"]():$);)_.$pop();return ht(ht(i=_["$empty?"]()["$!"]())?_["$[]"](-1)["$=="](_t($t,"LIST_CONTINUATION")):i)&&_.$pop(),_},E.$$arity=-3),at.defs(J,"$initialize_section",A=function(t,e,r){var n,i,$=ut,a=ut,s=ut,o=ut,l=ut,c=ut,u=ut,_=ut,d=ut,h=ut,f=ut,p=ut,m=ut,y=ut,g=ut,b=ut;return null==r&&(r=ft([],{})),$=e.$document(),a=(s=$.$doctype())["$=="]("book"),ht($.$sourcemap())&&(o=t.$cursor()),l=r["$[]"](1),i=this.$parse_section_title(t,$,r["$[]"]("id")),n=at.to_ary(i),c=null==n[0]?ut:n[0],u=null==n[1]?ut:n[1],_=null==n[2]?ut:n[2],d=null==n[3]?ut:n[3],h=null==n[4]?ut:n[4],ht(u)?(f=["reftext",u],dt(r,"[]=",at.to_a(f)),f[st(f.length,1)]):u=r["$[]"]("reftext"),ht(l)?ht(ht(n=a)?l["$=="]("abstract"):n)?(p=(n=["chapter",1])[0],d=n[1]):(p=(n=[l,!0])[0],m=n[1],d["$=="](0)&&(d=1),y=l["$=="]("appendix")):ht(a)?p=d["$=="](0)?"part":ht(ot(d,1))?"section":"chapter":ht((n=s["$=="]("manpage"))?_.$casecmp("synopsis")["$=="](0):s["$=="]("manpage"))?(p=(n=["synopsis",!0])[0],m=n[1]):p="section",g=_t($t,"Section").$new(e,d),n=[c,_,p,o],g["$id="](n[0]),g["$title="](n[1]),g["$sectname="](n[2]),g["$source_location="](n[3]),ht(m)?(f=[!0],dt(g,"special=",at.to_a(f)),f[st(f.length,1)],ht(y)?(f=[!0],dt(g,"numbered=",at.to_a(f)),f[st(f.length,1)]):$.$attributes()["$[]"]("sectnums")["$=="]("all")&&(f=[!ht(ht(n=a)?d["$=="](1):n)||"chapter"],dt(g,"numbered=",at.to_a(f)),f[st(f.length,1)])):ht(ht(n=$.$attributes()["$[]"]("sectnums"))?ot(d,0):n)?(f=[!ht(g.$special())||!!ht(n=e.$numbered())||n],dt(g,"numbered=",at.to_a(f)),f[st(f.length,1)]):ht(ht(n=ht(i=a)?d["$=="](0):i)?$.$attributes()["$[]"]("partnums"):n)&&(f=[!0],dt(g,"numbered=",at.to_a(f)),f[st(f.length,1)]),ht(b=ht(n=g.$id())?n:(f=[ht($.$attributes()["$key?"]("sectids"))?_t($t,"Section").$generate_id(g.$title(),$):ut],dt(g,"id=",at.to_a(f)),f[st(f.length,1)]))&&(ht($.$register("refs",[b,g,ht(n=u)?n:g.$title()]))||this.$logger().$warn(this.$message_with_context("id assigned to section already in use: "+b,ft(["source_location"],{source_location:t.$cursor_at_line(st(t.$lineno(),ht(h)?1:2))})))),g.$update_attributes(r),t.$skip_blank_lines(),g},A.$$arity=-3),at.defs(J,"$is_next_line_section?",O=function(t,e){var r,n,i=ut,$=ut;return ht(ht(r=i=e["$[]"](1))?ht(n=i["$=="]("discrete"))?n:i["$=="]("float"):r)?ut:ht(_t($t,"Compliance").$underline_style_section_titles())?($=t.$peek_lines(2,ht(r=i)?i["$=="]("comment"):r),this["$is_section_title?"](ht(r=$["$[]"](0))?r:"",$["$[]"](1))):this["$atx_section_title?"](ht(r=t.$peek_line())?r:"")},O.$$arity=2),at.defs(J,"$is_next_line_doctitle?",S=function(t,e,r){var n,i=ut;return ht(r)?ht(n=i=this["$is_next_line_section?"](t,e))?Z(i,r.$to_i())["$=="](0):n:this["$is_next_line_section?"](t,e)["$=="](0)},S.$$arity=3),at.defs(J,"$is_section_title?",R=function(t,e){var r,n=this;return null==e&&(e=ut),ht(r=n["$atx_section_title?"](t))?r:ht(e["$nil_or_empty?"]())?ut:n["$setext_section_title?"](t,e)},R.$$arity=-2),at.defs(J,"$atx_section_title?",C=function(t){var e;return ht(ht(_t($t,"Compliance").$markdown_syntax())?ht(e=t["$start_with?"]("=","#"))?_t($t,"ExtAtxSectionTitleRx")["$=~"](t):e:ht(e=t["$start_with?"]("="))?_t($t,"AtxSectionTitleRx")["$=~"](t):e)?st(((e=pt["~"])===ut?ut:e["$[]"](1)).$length(),1):ut},C.$$arity=1),at.defs(J,"$setext_section_title?",T=function(t,e){var r,n,i,$=ut,a=ut,s=ut;return ht(ht(r=ht(n=ht(i=$=_t($t,"SETEXT_SECTION_LEVELS")["$[]"](a=e.$chr()))?ct(a,s=e.$length())["$=="](e):i)?_t($t,"SetextSectionTitleRx")["$match?"](t):n)?lt(st(this.$line_length(t),s).$abs(),2):r)?$:ut},T.$$arity=2),at.defs(J,"$parse_section_title",M=function(t,e,r){var n,i,$,a,s,o=ut,l=ut,c=ut,u=ut,_=ut,d=ut,h=ut,f=ut;return null==r&&(r=ut),o=ut,l=t.$read_line(),ht(ht(_t($t,"Compliance").$markdown_syntax())?ht(n=l["$start_with?"]("=","#"))?_t($t,"ExtAtxSectionTitleRx")["$=~"](l):n:ht(n=l["$start_with?"]("="))?_t($t,"AtxSectionTitleRx")["$=~"](l):n)?(n=[st(((i=pt["~"])===ut?ut:i["$[]"](1)).$length(),1),(i=pt["~"])===ut?ut:i["$[]"](2),!0],c=n[0],u=n[1],_=n[2],ht(r)||ht(ht(n=ht(i=u["$end_with?"]("]]"))?_t($t,"InlineSectionAnchorRx")["$=~"](u):i)?((i=pt["~"])===ut?ut:i["$[]"](1))["$!"]():n)&&(u=(n=[u.$slice(0,st(u.$length(),((i=pt["~"])===ut?ut:i["$[]"](0)).$length())),(i=pt["~"])===ut?ut:i["$[]"](2),(i=pt["~"])===ut?ut:i["$[]"](3)])[0],r=n[1],o=n[2])):ht(ht(n=ht(i=ht($=ht(a=ht(s=_t($t,"Compliance").$underline_style_section_titles())?d=t.$peek_line(!0):s)?c=_t($t,"SETEXT_SECTION_LEVELS")["$[]"](h=d.$chr()):a)?ct(h,f=d.$length())["$=="](d):$)?u=ht($=_t($t,"SetextSectionTitleRx")["$=~"](l))?(a=pt["~"])===ut?ut:a["$[]"](1):$:i)?lt(st(this.$line_length(l),f).$abs(),2):n)?(_=!1,ht(r)||ht(ht(n=ht(i=u["$end_with?"]("]]"))?_t($t,"InlineSectionAnchorRx")["$=~"](u):i)?((i=pt["~"])===ut?ut:i["$[]"](1))["$!"]():n)&&(u=(n=[u.$slice(0,st(u.$length(),((i=pt["~"])===ut?ut:i["$[]"](0)).$length())),(i=pt["~"])===ut?ut:i["$[]"](2),(i=pt["~"])===ut?ut:i["$[]"](3)])[0],r=n[1],o=n[2]),t.$shift()):this.$raise("Unrecognized section at "+t.$cursor_at_prev_line()),ht(e["$attr?"]("leveloffset"))&&(c=Z(c,e.$attr("leveloffset").$to_i())),[r,o,u,c,_]},M.$$arity=-3),ht(_t($t,"FORCE_UNICODE_LINE_LENGTH"))?at.defs(J,"$line_length",I=function(t){return t.$scan(_t($t,"UnicodeCharScanRx")).$size()},I.$$arity=1):at.defs(J,"$line_length",N=function(t){return t.$length()},N.$$arity=1),at.defs(J,"$parse_header_metadata",P=function(t,n){var e,i,r,$,a=this,s=ut,o=ut,l=ut,c=ut,u=ut,_=ut,d=ut,h=ut,f=ut,p=ut,m=ut,y=ut,g=ut,b=ut,v=ut,x=ut,k=ut,w=ut;if(null==n&&(n=ut),s=ht(e=n)?n.$attributes():e,a.$process_attribute_entries(t,n),e=[o=ft([],{}),ut,ut],l=e[0],c=e[1],u=e[2],ht(ht(e=t["$has_more_lines?"]())?t["$next_line_empty?"]()["$!"]():e)?(ht((_=a.$process_authors(t.$read_line()))["$empty?"]())||(ht(n)&&(dt(_,"each",[],((i=function(t,e){i.$$s;var r=ut;return null==t&&(t=ut),null==e&&(e=ut),ht(s["$key?"](t))?ut:(r=[t,ht(Q("::","String")["$==="](e))?n.$apply_header_subs(e):e],dt(s,"[]=",at.to_a(r)),r[st(r.length,1)])}).$$s=a,i.$$arity=2,i)),c=s["$[]"]("author"),u=s["$[]"]("authorinitials"),o=s["$[]"]("authors")),l=_),a.$process_attribute_entries(t,n),d=ft([],{}),ht(ht(e=t["$has_more_lines?"]())?t["$next_line_empty?"]()["$!"]():e)&&(h=t.$read_line(),ht(f=_t($t,"RevisionInfoLineRx").$match(h))?(ht(f["$[]"](1))&&(p=["revnumber",f["$[]"](1).$rstrip()],dt(d,"[]=",at.to_a(p)),p[st(p.length,1)]),ht((m=f["$[]"](2).$strip())["$empty?"]())||(p=ht(ht(e=f["$[]"](1)["$!"]())?m["$start_with?"]("v"):e)?["revnumber",m.$slice(1,m.$length())]:["revdate",m],dt(d,"[]=",at.to_a(p)),p[st(p.length,1)]),ht(f["$[]"](3))&&(p=["revremark",f["$[]"](3).$rstrip()],dt(d,"[]=",at.to_a(p)),p[st(p.length,1)])):t.$unshift_line(h)),ht(d["$empty?"]())||(ht(n)&&dt(d,"each",[],((r=function(t,e){r.$$s;return null==t&&(t=ut),null==e&&(e=ut),ht(s["$key?"](t))?ut:(p=[t,n.$apply_header_subs(e)],dt(s,"[]=",at.to_a(p)),p[st(p.length,1)])}).$$s=a,r.$$arity=2,r)),l.$update(d)),a.$process_attribute_entries(t,n),t.$skip_blank_lines()):_=ft([],{}),ht(n)){if(ht(ht(e=s["$key?"]("author"))?(y=s["$[]"]("author"))["$!="](c):e))_=a.$process_authors(y,!0,!1),ht(s["$[]"]("authorinitials")["$!="](u))&&_.$delete("authorinitials");else if(ht(ht(e=s["$key?"]("authors"))?(y=s["$[]"]("authors"))["$!="](o):e))_=a.$process_authors(y,!0);else{for(g=(e=[[],1,"author_1",!1,!1])[0],b=e[1],v=e[2],x=e[3],k=e[4];ht(s["$key?"](v));)(w=s["$[]"](v))["$=="](_["$[]"](v))?(g["$<<"](ut),k=!0):(g["$<<"](w),x=!0),v="author_"+(b=Z(b,1));_=ht(x)?(ht(k)&&dt(g,"each_with_index",[],(($=function(t,e){var r,n=$.$$s||this,i=ut;return null==t&&(t=ut),null==e&&(e=ut),ht(t)?ut:(p=[e,dt([_["$[]"]("firstname_"+(i=Z(e,1))),_["$[]"]("middlename_"+i),_["$[]"]("lastname_"+i)].$compact(),"map",[],(r=function(t){r.$$s;return null==t&&(t=ut),t.$tr(" ","_")},r.$$s=n,r.$$arity=1,r)).$join(" ")],dt(g,"[]=",at.to_a(p)),p[st(p.length,1)])}).$$s=a,$.$$arity=2,$)),a.$process_authors(g,!0,!1)):ft([],{})}ht(_["$empty?"]())?ht(e=l["$[]"]("authorcount"))||(p=["authorcount",(p=["authorcount",0],dt(s,"[]=",at.to_a(p)),p[st(p.length,1)])],dt(l,"[]=",at.to_a(p)),p[st(p.length,1)]):(s.$update(_),ht(ht(e=s["$key?"]("email")["$!"]())?s["$key?"]("email_1"):e)&&(p=["email",s["$[]"]("email_1")],dt(s,"[]=",at.to_a(p)),p[st(p.length,1)]))}return l},P.$$arity=-2),at.defs(J,"$process_authors",z=function(t,h,e){var r,f,n=this,p=ut,m=ut,y=ut,i=ut,$=ut;return null==h&&(h=!1),null==e&&(e=!0),p=ft([],{}),m=0,y=["author","authorinitials","firstname","middlename","lastname","email"],i=ht(e)?dt(t.$split(";"),"map",[],((r=function(t){return r.$$s,null==t&&(t=ut),t.$strip()}).$$s=n,r.$$arity=1,r)):n.$Array(t),dt(i,"each",[],((f=function(t){var r,n,e,i,$=f.$$s||this,a=ut,s=ut,o=ut,l=ut,c=ut,u=ut,_=ut,d=ut;return null==t&&(t=ut),ht(t["$empty?"]())?ut:(m=Z(m,1),a=ft([],{}),m["$=="](1)?dt(y,"each",[],((r=function(t){r.$$s;var e=ut;return null==t&&(t=ut),e=[t.$to_sym(),t],dt(a,"[]=",at.to_a(e)),e[st(e.length,1)]}).$$s=$,r.$$arity=1,r)):dt(y,"each",[],((n=function(t){n.$$s;var e=ut;return null==t&&(t=ut),e=[t.$to_sym(),t+"_"+m],dt(a,"[]=",at.to_a(e)),e[st(e.length,1)]}).$$s=$,n.$$arity=1,n)),ht(h)?(ht(t["$include?"]("<"))&&(s=[a["$[]"]("author"),t.$tr("_"," ")],dt(p,"[]=",at.to_a(s)),s[st(s.length,1)],t=t.$gsub(_t($t,"XmlSanitizeRx"),"")),(o=t.$split(ut,3)).$size()["$=="](3)&&o["$<<"](o.$pop().$squeeze(" "))):ht(l=_t($t,"AuthorInfoLineRx").$match(t))&&(o=l.$to_a()).$shift(),ht(o)?(s=[a["$[]"]("firstname"),u=o["$[]"](0).$tr("_"," ")],dt(p,"[]=",at.to_a(s)),c=s[st(s.length,1)],s=[a["$[]"]("authorinitials"),u.$chr()],dt(p,"[]=",at.to_a(s)),s[st(s.length,1)],ht(o["$[]"](1))&&(s=ht(o["$[]"](2))?(s=[a["$[]"]("middlename"),_=o["$[]"](1).$tr("_"," ")],dt(p,"[]=",at.to_a(s)),s[st(s.length,1)],s=[a["$[]"]("lastname"),d=o["$[]"](2).$tr("_"," ")],dt(p,"[]=",at.to_a(s)),s[st(s.length,1)],c=Z(Z(Z(Z(u," "),_)," "),d),[a["$[]"]("authorinitials"),""+u.$chr()+_.$chr()+d.$chr()]):(s=[a["$[]"]("lastname"),d=o["$[]"](1).$tr("_"," ")],dt(p,"[]=",at.to_a(s)),s[st(s.length,1)],c=Z(Z(u," "),d),[a["$[]"]("authorinitials"),""+u.$chr()+d.$chr()]),dt(p,"[]=",at.to_a(s)),s[st(s.length,1)]),ht(e=p["$[]"](a["$[]"]("author")))||(s=[a["$[]"]("author"),c],dt(p,"[]=",at.to_a(s)),s[st(s.length,1)]),ht(ht(e=h)?e:o["$[]"](3)["$!"]())||(s=[a["$[]"]("email"),o["$[]"](3)],dt(p,"[]=",at.to_a(s)),s[st(s.length,1)])):(s=[a["$[]"]("author"),(s=[a["$[]"]("firstname"),u=t.$squeeze(" ").$strip()],dt(p,"[]=",at.to_a(s)),s[st(s.length,1)])],dt(p,"[]=",at.to_a(s)),s[st(s.length,1)],s=[a["$[]"]("authorinitials"),u.$chr()],dt(p,"[]=",at.to_a(s)),s[st(s.length,1)]),s=m["$=="](1)?["authors",p["$[]"](a["$[]"]("author"))]:(m["$=="](2)&&dt(y,"each",[],((i=function(t){i.$$s;return null==t&&(t=ut),ht(p["$key?"](t))?(s=[t+"_1",p["$[]"](t)],dt(p,"[]=",at.to_a(s)),s[st(s.length,1)]):ut}).$$s=$,i.$$arity=1,i)),["authors",p["$[]"]("authors")+", "+p["$[]"](a["$[]"]("author"))]),dt(p,"[]=",at.to_a(s)),s[st(s.length,1)])}).$$s=n,f.$$arity=1,f)),$=["authorcount",m],dt(p,"[]=",at.to_a($)),st($.length,1),p},z.$$arity=-2),at.defs(J,"$parse_block_metadata_lines",L=function(t,e,r,n){for(null==r&&(r=ft([],{})),null==n&&(n=ft([],{}));ht(this.$parse_block_metadata_line(t,e,r,n))&&(t.$shift(),ht(t.$skip_blank_lines())););return r},L.$$arity=-3),at.defs(J,"$parse_block_metadata_line",D=function(t,e,r,n){var i,$,a=ut,s=ut,o=ut,l=ut,c=ut,u=ut;return null==pt["~"]&&(pt["~"]=ut),null==n&&(n=ft([],{})),ht(ht(i=a=t.$peek_line())?ht(n["$[]"]("text"))?a["$start_with?"]("[","/"):s=a["$start_with?"]("[",".","/",":"):i)?ht(a["$start_with?"]("["))?ht(a["$start_with?"]("[["))?ht(ht(i=a["$end_with?"]("]]"))?_t($t,"BlockAnchorRx")["$=~"](a):i)?(o=["id",(i=pt["~"])===ut?ut:i["$[]"](1)],dt(r,"[]=",at.to_a(o)),o[st(o.length,1)],ht(l=(i=pt["~"])===ut?ut:i["$[]"](2))&&(o=["reftext",ht(l["$include?"](_t($t,"ATTR_REF_HEAD")))?e.$sub_attributes(l):l],dt(r,"[]=",at.to_a(o)),o[st(o.length,1)]),!0):ut:ht(ht(i=a["$end_with?"]("]"))?_t($t,"BlockAttributeListRx")["$=~"](a):i)?(c=r["$[]"](1),ht(e.$parse_attributes((i=pt["~"])===ut?ut:i["$[]"](1),[],ft(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!0,into:r}))["$[]"](1))&&(o=[1,ht(i=this.$parse_style_attribute(r,t))?i:c],dt(r,"[]=",at.to_a(o)),o[st(o.length,1)]),!0):ut:ht(ht(i=s)?a["$start_with?"]("."):i)?ht(_t($t,"BlockTitleRx")["$=~"](a))?(o=["title",(i=pt["~"])===ut?ut:i["$[]"](1)],dt(r,"[]=",at.to_a(o)),o[st(o.length,1)],!0):ut:ht(ht(i=s["$!"]())?i:a["$start_with?"]("/"))?ht(a["$start_with?"]("//"))?!!a["$=="]("//")||(ht(ht(i=s)?ct("/",u=a.$length())["$=="](a):i)?u["$=="](3)?ut:(t.$read_lines_until(ft(["terminator","skip_first_line","preserve_last_line","skip_processing","context"],{terminator:a,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"})),!0):!ht(a["$start_with?"]("///"))||ut):ut:ht(ht(i=ht($=s)?a["$start_with?"](":"):$)?_t($t,"AttributeEntryRx")["$=~"](a):i)?(this.$process_attribute_entry(t,e,r,pt["~"]),!0):ut:ut},D.$$arity=-4),at.defs(J,"$process_attribute_entries",F=function(t,e,r){for(null==r&&(r=ut),t.$skip_comment_lines();ht(this.$process_attribute_entry(t,e,r));)t.$shift(),t.$skip_comment_lines()},F.$$arity=-3),at.defs(J,"$process_attribute_entry",B=function(t,e,r,n){var i,$,a,s=ut,o=ut,l=ut,c=ut;if(null==r&&(r=ut),null==n&&(n=ut),ht(n=ht(i=n)?i:ht(t["$has_more_lines?"]())?_t($t,"AttributeEntryRx").$match(t.$peek_line()):ut)){if(ht((s=n["$[]"](2))["$nil_or_empty?"]()))s="";else if(ht(s["$end_with?"](_t($t,"LINE_CONTINUATION"),_t($t,"LINE_CONTINUATION_LEGACY"))))for(i=[s.$slice(-2,2),s.$slice(0,st(s.$length(),2)).$rstrip()],o=i[0],s=i[1];ht(ht($=t.$advance())?(l=ht(a=t.$peek_line())?a:"")["$empty?"]()["$!"]():$)&&(l=l.$lstrip(),ht(c=l["$end_with?"](o))&&(l=l.$slice(0,st(l.$length(),2)).$rstrip()),s=""+s+(ht(s["$end_with?"](_t($t,"HARD_LINE_BREAK")))?_t($t,"LF"):" ")+l,ht(c)););return this.$store_attribute(n["$[]"](1),s,e,r),!0}return ut},B.$$arity=-3),at.defs(J,"$store_attribute",q=function(t,e,r,n){var i,$=ut;return null==r&&(r=ut),null==n&&(n=ut),ht(t["$end_with?"]("!"))?(t=(i=[t.$chop(),ut])[0],e=i[1]):ht(t["$start_with?"]("!"))&&(t=(i=[t.$slice(1,t.$length()),ut])[0],e=i[1]),(t=this.$sanitize_attribute_name(t))["$=="]("numbered")&&(t="sectnums"),ht(r)?ht(e)?(t["$=="]("leveloffset")&&(ht(e["$start_with?"]("+"))?e=Z(r.$attr("leveloffset",0).$to_i(),e.$slice(1,e.$length()).$to_i()).$to_s():ht(e["$start_with?"]("-"))&&(e=st(r.$attr("leveloffset",0).$to_i(),e.$slice(1,e.$length()).$to_i()).$to_s())),ht($=r.$set_attribute(t,e))&&(e=$,ht(n)&&Q(_t($t,"Document"),"AttributeEntry").$new(t,e).$save_to(n))):ht(ht(i=r.$delete_attribute(t))?n:i)&&Q(_t($t,"Document"),"AttributeEntry").$new(t,e).$save_to(n):ht(n)&&Q(_t($t,"Document"),"AttributeEntry").$new(t,e).$save_to(n),[t,e]},q.$$arity=-3),at.defs(J,"$resolve_list_marker",j=function(t,e,r,n,i){return null==r&&(r=0),null==n&&(n=!1),null==i&&(i=ut),t["$=="]("ulist")?e:t["$=="]("olist")?this.$resolve_ordered_list_marker(e,r,n,i)["$[]"](0):"<1>"},j.$$arity=-3),at.defs(J,"$resolve_ordered_list_marker",U=function(e,t,r,n){var i,$,a=ut,s=ut,o=ut,l=ut;return null==t&&(t=0),null==r&&(r=!1),null==n&&(n=ut),ht(e["$start_with?"]("."))?[e]:(a=s=dt(_t($t,"ORDERED_LIST_STYLES"),"find",[],((i=function(t){i.$$s;return null==t&&(t=ut),_t($t,"OrderedListMarkerRxMap")["$[]"](t)["$match?"](e)}).$$s=this,i.$$arity=1,i)),"arabic"["$==="](a)?(ht(r)&&(o=Z(t,1),l=e.$to_i()),e="1."):"loweralpha"["$==="](a)?(ht(r)&&(o=Z("a"["$[]"](0).$ord(),t).$chr(),l=e.$chop()),e="a."):"upperalpha"["$==="](a)?(ht(r)&&(o=Z("A"["$[]"](0).$ord(),t).$chr(),l=e.$chop()),e="A."):"lowerroman"["$==="](a)?(ht(r)&&(o=_t($t,"Helpers").$int_to_roman(Z(t,1)).$downcase(),l=e.$chop()),e="i)"):"upperroman"["$==="](a)&&(ht(r)&&(o=_t($t,"Helpers").$int_to_roman(Z(t,1)),l=e.$chop()),e="I)"),ht(ht($=r)?o["$!="](l):$)&&this.$logger().$warn(this.$message_with_context("list item index: expected "+o+", got "+l,ft(["source_location"],{source_location:n.$cursor()}))),[e,s])},U.$$arity=-2),at.defs(J,"$is_sibling_list_item?",H=function(t,e,r){var n,i=ut,$=ut;return ht(Q("::","Regexp")["$==="](r))?i=r:(i=_t($t,"ListRxMap")["$[]"](e),$=r),!!ht(i["$=~"](t))&&(!ht($)||$["$=="](this.$resolve_list_marker(e,(n=pt["~"])===ut?ut:n["$[]"](1))))},H.$$arity=3),at.defs(J,"$parse_table",Y=function(t,e,r){var n,i,$,a,s=ut,o=ut,l=ut,c=ut,u=ut,_=ut,d=ut,h=ut,f=ut,p=ut,m=ut,y=ut,g=ut,b=ut,v=ut,x=ut,k=ut,w=ut,E=ut;for(s=_t($t,"Table").$new(e,r),ht(r["$key?"]("title"))&&(o=[r.$delete("title")],dt(s,"title=",at.to_a(o)),o[st(o.length,1)],s.$assign_caption(r.$delete("caption"))),ht(ht(n=r["$key?"]("cols"))?(l=this.$parse_colspecs(r["$[]"]("cols")))["$empty?"]()["$!"]():n)&&(s.$create_columns(l),c=!0),u=ht(n=t.$skip_blank_lines())?n:0,_=Q(_t($t,"Table"),"ParserContext").$new(t,s,r),n=[_.$format(),-1,ut],d=n[0],h=n[1],f=n[2],ht(ht(n=ht(i=ot(u,0))?i:r["$key?"]("header-option"))?n:r["$key?"]("noheader-option"))||(p=!0),n=!1;n||ht(m=t.$read_line());){for(n=!1,ht(ht(i=y=ot(h=Z(h,1),0))?m["$empty?"]():i)?(m=ut,ht(f)&&(f=Z(f,1))):d["$=="]("psv")&&(ht(_["$starts_with_delimiter?"](m))?(m=m.$slice(1,m.$length()),_.$close_open_cell(),ht(f)&&(f=ut)):($=this.$parse_cellspec(m,"start",_.$delimiter()),i=at.to_ary($),g=null==i[0]?ut:i[0],m=null==i[1]?ut:i[1],ht(g)?(_.$close_open_cell(g),ht(f)&&(f=ut)):ht(ht(i=f)?f["$=="](h):i)&&(p=(i=[!1,ut])[0],f=i[1]))),ht(y)||(t.$mark(),ht(p)&&(ht(ht(i=t["$has_more_lines?"]())?t.$peek_line()["$empty?"]():i)?f=1:p=!1)),i=!1;i||ht(!0);){if(i=!1,!ht(ht($=m)?b=_.$match_delimiter(m):$)){o=[""+_.$buffer()+m+_t($t,"LF")],dt(_,"buffer=",at.to_a(o)),o[st(o.length,1)],"csv"["$==="](k=d)?ht(_["$buffer_has_unclosed_quotes?"]())?(ht(ht($=f)?h["$=="](0):$)&&(p=($=[!1,ut])[0],f=$[1]),_.$keep_cell_open()):_.$close_cell(!0):"dsv"["$==="](k)?_.$close_cell(!0):_.$keep_cell_open();break}if($=[b.$pre_match(),b.$post_match()],v=$[0],x=$[1],"csv"["$==="](k=d)){if(ht(_["$buffer_has_unclosed_quotes?"](v))){if(_.$skip_past_delimiter(v),ht((m=x)["$empty?"]()))break;i=!0;continue}o=[""+_.$buffer()+v],dt(_,"buffer=",at.to_a(o)),o[st(o.length,1)]}else if("dsv"["$==="](k)){if(ht(v["$end_with?"]("\\"))){if(_.$skip_past_escaped_delimiter(v),ht((m=x)["$empty?"]())){o=[""+_.$buffer()+_t($t,"LF")],dt(_,"buffer=",at.to_a(o)),o[st(o.length,1)],_.$keep_cell_open();break}i=!0;continue}o=[""+_.$buffer()+v],dt(_,"buffer=",at.to_a(o)),o[st(o.length,1)]}else{if(ht(v["$end_with?"]("\\"))){if(_.$skip_past_escaped_delimiter(v),ht((m=x)["$empty?"]())){o=[""+_.$buffer()+_t($t,"LF")],dt(_,"buffer=",at.to_a(o)),o[st(o.length,1)],_.$keep_cell_open();break}i=!0;continue}a=this.$parse_cellspec(v),$=at.to_ary(a),g=null==$[0]?ut:$[0],w=null==$[1]?ut:$[1],_.$push_cellspec(g),o=[""+_.$buffer()+w],dt(_,"buffer=",at.to_a(o)),o[st(o.length,1)]}ht((m=x)["$empty?"]())&&(m=ut),_.$close_cell()}if(ht(_["$cell_open?"]()))ht(t["$has_more_lines?"]())||_.$close_cell(!0);else if(!ht(i=t.$skip_blank_lines()))break}return ht(ht(n=(E=s.$attributes(),ht(i=E["$[]"]("colcount"))?i:(o=["colcount",s.$columns().$size()],dt(E,"[]=",at.to_a(o)),o[st(o.length,1)]))["$=="](0))?n:c)||s.$assign_column_widths(),ht(p)&&(o=[!0],dt(s,"has_header_option=",at.to_a(o)),o[st(o.length,1)],o=["header-option",""],dt(r,"[]=",at.to_a(o)),o[st(o.length,1)],o=["options",ht(r["$key?"]("options"))?r["$[]"]("options")+",header":"header"],dt(r,"[]=",at.to_a(o)),o[st(o.length,1)]),s.$partition_header_footer(r),s},Y.$$arity=3),at.defs(J,"$parse_colspecs",G=function(t){var e,u,_=ut;return ht(t["$include?"](" "))&&(t=t.$delete(" ")),t["$=="](t.$to_i().$to_s())?dt(Q("::","Array"),"new",[t.$to_i()],((e=function(){e.$$s;return ft(["width"],{width:1})}).$$s=this,e.$$arity=0,e)):(_=[],dt(ht(t["$include?"](","))?t.$split(",",-1):t.$split(";",-1),"each",[],((u=function(t){var e,r,n,i=u.$$s||this,$=ut,a=ut,s=ut,o=ut,l=ut,c=ut;return null==t&&(t=ut),ht(t["$empty?"]())?_["$<<"](ft(["width"],{width:1})):ht($=_t($t,"ColumnSpecRx").$match(t))?(a=ft([],{}),ht($["$[]"](2))&&(r=$["$[]"](2).$split("."),e=at.to_ary(r),s=null==e[0]?ut:e[0],o=null==e[1]?ut:e[1],ht(ht(e=s["$nil_or_empty?"]()["$!"]())?_t($t,"TableCellHorzAlignments")["$key?"](s):e)&&(l=["halign",_t($t,"TableCellHorzAlignments")["$[]"](s)],dt(a,"[]=",at.to_a(l)),l[st(l.length,1)]),ht(ht(e=o["$nil_or_empty?"]()["$!"]())?_t($t,"TableCellVertAlignments")["$key?"](o):e)&&(l=["valign",_t($t,"TableCellVertAlignments")["$[]"](o)],dt(a,"[]=",at.to_a(l)),l[st(l.length,1)])),l=ht(c=$["$[]"](3))?["width",c["$=="]("~")?-1:c.$to_i()]:["width",1],dt(a,"[]=",at.to_a(l)),l[st(l.length,1)],ht(ht(e=$["$[]"](4))?_t($t,"TableCellStyles")["$key?"]($["$[]"](4)):e)&&(l=["style",_t($t,"TableCellStyles")["$[]"]($["$[]"](4))],dt(a,"[]=",at.to_a(l)),l[st(l.length,1)]),ht($["$[]"](1))?dt(1,"upto",[$["$[]"](1).$to_i()],((n=function(){n.$$s;return _["$<<"](a.$dup())}).$$s=i,n.$$arity=0,n)):_["$<<"](a)):ut}).$$s=this,u.$$arity=1,u)),_)},G.$$arity=1),at.defs(J,"$parse_cellspec",W=function(t,e,r){var n,i,$=ut,a=ut,s=ut,o=ut,l=ut,c=ut,u=ut;if(null==e&&(e="end"),null==r&&(r=ut),$=(n=[ut,""])[0],a=n[1],e["$=="]("start")){if(!ht(t["$include?"](r)))return[ut,t];if(i=t.$split(r,2),n=at.to_ary(i),s=null==n[0]?ut:n[0],a=null==n[1]?ut:n[1],!ht($=_t($t,"CellSpecStartRx").$match(s)))return[ut,t];if(ht($["$[]"](0)["$empty?"]()))return[ft([],{}),a]}else{if(!ht($=_t($t,"CellSpecEndRx").$match(t)))return[ft([],{}),t];if(ht($["$[]"](0).$lstrip()["$empty?"]()))return[ft([],{}),t.$rstrip()];a=$.$pre_match()}return o=ft([],{}),ht($["$[]"](1))&&(i=$["$[]"](1).$split("."),n=at.to_ary(i),l=null==n[0]?ut:n[0],c=null==n[1]?ut:n[1],l=ht(l["$nil_or_empty?"]())?1:l.$to_i(),c=ht(c["$nil_or_empty?"]())?1:c.$to_i(),$["$[]"](2)["$=="]("+")?(l["$=="](1)||(u=["colspan",l],dt(o,"[]=",at.to_a(u)),u[st(u.length,1)]),c["$=="](1)||(u=["rowspan",c],dt(o,"[]=",at.to_a(u)),u[st(u.length,1)])):$["$[]"](2)["$=="]("*")&&(l["$=="](1)||(u=["repeatcol",l],dt(o,"[]=",at.to_a(u)),u[st(u.length,1)]))),ht($["$[]"](3))&&(i=$["$[]"](3).$split("."),n=at.to_ary(i),l=null==n[0]?ut:n[0],c=null==n[1]?ut:n[1],ht(ht(n=l["$nil_or_empty?"]()["$!"]())?_t($t,"TableCellHorzAlignments")["$key?"](l):n)&&(u=["halign",_t($t,"TableCellHorzAlignments")["$[]"](l)],dt(o,"[]=",at.to_a(u)),u[st(u.length,1)]),ht(ht(n=c["$nil_or_empty?"]()["$!"]())?_t($t,"TableCellVertAlignments")["$key?"](c):n)&&(u=["valign",_t($t,"TableCellVertAlignments")["$[]"](c)],dt(o,"[]=",at.to_a(u)),u[st(u.length,1)])),ht(ht(n=$["$[]"](4))?_t($t,"TableCellStyles")["$key?"]($["$[]"](4)):n)&&(u=["style",_t($t,"TableCellStyles")["$[]"]($["$[]"](4))],dt(o,"[]=",at.to_a(u)),u[st(u.length,1)]),[o,a]},W.$$arity=-2),at.defs(J,"$parse_style_attribute",X=function(e,i){var t,r,$,a,n,s=ut,o=ut,l=ut,c=ut,u=ut,_=ut,d=ut,h=ut,f=ut,p=ut;return null==i&&(i=ut),ht(ht(t=ht(r=s=e["$[]"](1))?s["$include?"](" ")["$!"]():r)?_t($t,"Compliance").$shorthand_property_syntax():t)?(t=["style",[],ft([],{})],o=t[0],l=t[1],c=t[2],u=dt(this,"lambda",[],(($=function(){var t,e=$.$$s||this,r=ut,n=ut;return ht(l["$empty?"]())?o["$=="]("style")?ut:ht(i)?e.$logger().$warn(e.$message_with_context("invalid empty "+o+" detected in style attribute",ft(["source_location"],{source_location:i.$cursor_at_prev_line()}))):e.$logger().$warn("invalid empty "+o+" detected in style attribute"):("role"["$==="](r=o)||"option"["$==="](r)?(ht(t=c["$[]"](o))?t:(n=[o,[]],dt(c,"[]=",at.to_a(n)),n[st(n.length,1)]))["$<<"](l.$join()):(n=("id"["$==="](r)&&ht(c["$key?"]("id"))&&(ht(i)?e.$logger().$warn(e.$message_with_context("multiple ids detected in style attribute",ft(["source_location"],{source_location:i.$cursor_at_prev_line()}))):e.$logger().$warn("multiple ids detected in style attribute")),[o,l.$join()]),dt(c,"[]=",at.to_a(n)),n[st(n.length,1)]),l=[])}).$$s=this,$.$$arity=0,$)),dt(s,"each_char",[],((a=function(t){a.$$s;var e,r,n=ut;return null==t&&(t=ut),ht(ht(e=ht(r=t["$=="]("."))?r:t["$=="]("#"))?e:t["$=="]("%"))?(u.$call(),"."["$==="](n=t)?o="role":"#"["$==="](n)?o="id":"%"["$==="](n)?o="option":ut):l["$<<"](t)}).$$s=this,a.$$arity=1,a)),o["$=="]("style")?(_=["style",s],dt(e,"[]=",at.to_a(_)),_[st(_.length,1)]):(u.$call(),ht(c["$key?"]("style"))&&(_=["style",c["$[]"]("style")],dt(e,"[]=",at.to_a(_)),d=_[st(_.length,1)]),ht(c["$key?"]("id"))&&(_=["id",c["$[]"]("id")],dt(e,"[]=",at.to_a(_)),_[st(_.length,1)]),ht(c["$key?"]("role"))&&(_=["role",ht((h=e["$[]"]("role"))["$nil_or_empty?"]())?c["$[]"]("role").$join(" "):h+" "+c["$[]"]("role").$join(" ")],dt(e,"[]=",at.to_a(_)),_[st(_.length,1)]),ht(c["$key?"]("option"))&&(dt(f=c["$[]"]("option"),"each",[],((n=function(t){n.$$s;return null==t&&(t=ut),_=[t+"-option",""],dt(e,"[]=",at.to_a(_)),_[st(_.length,1)]}).$$s=this,n.$$arity=1,n)),_=["options",ht((p=e["$[]"]("options"))["$nil_or_empty?"]())?f.$join(","):p+","+f.$join(",")],dt(e,"[]=",at.to_a(_)),_[st(_.length,1)]),d)):(_=["style",s],dt(e,"[]=",at.to_a(_)),_[st(_.length,1)])},X.$$arity=-2),at.defs(J,"$adjust_indentation!",V=function(t,e,$){var r,a,i,n,s,o,l=this,c=ut,u=ut,_=ut;return null==e&&(e=0),null==$&&($=0),ht(t["$empty?"]())?ut:(ht(ht(r=ot($=$.$to_i(),0))?t.$join()["$include?"](_t($t,"TAB")):r)&&(c=ct(" ",$),dt(t,"map!",[],((a=function(t){var e,r,n=a.$$s||this,i=ut;return null==t&&(t=ut),ht(t["$empty?"]())?t:(ht(t["$start_with?"](_t($t,"TAB")))&&(t=dt(t,"sub",[_t($t,"TabIndentRx")],((e=function(){var t;e.$$s;return ct(c,((t=pt["~"])===ut?ut:t["$[]"](0)).$length())}).$$s=n,e.$$arity=0,e))),ht(t["$include?"](_t($t,"TAB")))?(i=0,t=dt(t,"gsub",[_t($t,"TabRx")],((r=function(){r.$$s;var t=ut,e=ut;return null==pt["~"]&&(pt["~"]=ut),(t=Z(pt["~"].$begin(0),i))["$%"]($)["$=="](0)?(i=Z(i,st($,1)),c):((e=st($,t["$%"]($)))["$=="](1)||(i=Z(i,st(e,1))),ct(" ",e))}).$$s=n,r.$$arity=0,r))):t)}).$$s=l,a.$$arity=1,a))),ht(ht(r=e)?ot(e=e.$to_i(),-1):r)&&(u=ut,function(){var n=at.new_brk();try{dt(t,"each",[],((i=function(t){i.$$s;var e,r=ut;return null==t&&(t=ut),ht(t["$empty?"]())?ut:(r=st(t.$length(),t.$lstrip().$length()))["$=="](0)?(u=ut,void at.brk(ut,n)):ht(ht(e=u)?ot(r,u):e)?ut:u=r}).$$s=l,i.$$brk=n,i.$$arity=1,i))}catch(t){if(t===n)return t.$v;throw t}}(),e["$=="](0)?ht(u)&&dt(t,"map!",[],((n=function(t){n.$$s;return null==t&&(t=ut),ht(t["$empty?"]())?t:t.$slice(u,t.$length())}).$$s=l,n.$$arity=1,n)):(_=ct(" ",e),ht(u)?dt(t,"map!",[],((s=function(t){s.$$s;return null==t&&(t=ut),ht(t["$empty?"]())?t:Z(_,t.$slice(u,t.$length()))}).$$s=l,s.$$arity=1,s)):dt(t,"map!",[],((o=function(t){o.$$s;return null==t&&(t=ut),ht(t["$empty?"]())?t:Z(_,t)}).$$s=l,o.$$arity=1,o)))),ut)},V.$$arity=-2),at.defs(J,"$sanitize_attribute_name",K=function(t){return t.$gsub(_t($t,"InvalidAttributeNameCharsRx"),"").$downcase()},K.$$arity=1)}(i[0],0,i)}(t[0],t)},Opal.modules["asciidoctor/path_resolver"]=function(b){function v(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}b.top;var t=[],x=b.nil,k=b.const_get_qualified,w=b.const_get_relative,$=(b.breaker,b.slice,b.module),E=b.klass,A=b.truthy,O=b.hash2,S=b.send;return b.add_stubs(["$include","$attr_accessor","$root?","$posixify","$expand_path","$pwd","$start_with?","$==","$match?","$absolute_path?","$+","$length","$descends_from?","$slice","$to_s","$relative_path_from","$new","$include?","$tr","$partition_path","$each","$pop","$<<","$join_path","$[]","$web_root?","$unc?","$index","$split","$delete","$[]=","$-","$join","$raise","$!","$fetch","$warn","$logger","$empty?","$nil_or_empty?","$chomp","$!=","$>","$size","$end_with?","$uri_prefix","$gsub"]),function(t,e){function r(){}var n=r=$(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m=n=E(t,null,"PathResolver",n),y=m.prototype,g=[m].concat(r);y.file_separator=y._partition_path_web=y._partition_path_sys=y.working_dir=x,m.$include(w(g,"Logging")),b.const_set(g[0],"DOT","."),b.const_set(g[0],"DOT_DOT",".."),b.const_set(g[0],"DOT_SLASH","./"),b.const_set(g[0],"SLASH","/"),b.const_set(g[0],"BACKSLASH","\\"),b.const_set(g[0],"DOUBLE_SLASH","//"),b.const_set(g[0],"WindowsRootRx",/^(?:[a-zA-Z]:)?[\\\/]/),m.$attr_accessor("file_separator"),m.$attr_accessor("working_dir"),b.def(m,"$initialize",i=function(t,e){var r,n,i=this;return null==t&&(t=x),null==e&&(e=x),i.file_separator=A(r=A(n=t)?n:k(k("::","File"),"ALT_SEPARATOR"))?r:k(k("::","File"),"SEPARATOR"),i.working_dir=A(e)?A(i["$root?"](e))?i.$posixify(e):k("::","File").$expand_path(e):k("::","Dir").$pwd(),i._partition_path_sys=O([],{}),i._partition_path_web=O([],{})},i.$$arity=-1),b.def(m,"$absolute_path?",$=function(t){var e;return A(e=t["$start_with?"](w(g,"SLASH")))?e:this.file_separator["$=="](w(g,"BACKSLASH"))?w(g,"WindowsRootRx")["$match?"](t):this.file_separator["$=="](w(g,"BACKSLASH"))},$.$$arity=1),A(w(g,"RUBY_ENGINE")["$=="]("opal")?k("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):w(g,"RUBY_ENGINE")["$=="]("opal"))?b.def(m,"$root?",a=function(t){var e;return A(e=this["$absolute_path?"](t))?e:t["$start_with?"]("file://","http://","https://")},a.$$arity=1):b.alias(m,"root?","absolute_path?"),b.def(m,"$unc?",s=function(t){return t["$start_with?"](w(g,"DOUBLE_SLASH"))},s.$$arity=1),b.def(m,"$web_root?",o=function(t){return t["$start_with?"](w(g,"SLASH"))},o.$$arity=1),b.def(m,"$descends_from?",l=function(t,e){var r;return e["$=="](t)?0:e["$=="](w(g,"SLASH"))?A(r=t["$start_with?"](w(g,"SLASH")))?1:r:A(r=t["$start_with?"](v(e,w(g,"SLASH"))))?v(e.$length(),1):r},l.$$arity=2),b.def(m,"$relative_path",c=function(t,e){var r=x;return A(this["$root?"](t))?A(r=this["$descends_from?"](t,e))?t.$slice(r,t.$length()):w(g,"Pathname").$new(t).$relative_path_from(w(g,"Pathname").$new(e)).$to_s():t},c.$$arity=2),b.def(m,"$posixify",u=function(t){return A(t)?A(this.file_separator["$=="](w(g,"BACKSLASH"))?t["$include?"](w(g,"BACKSLASH")):this.file_separator["$=="](w(g,"BACKSLASH")))?t.$tr(w(g,"BACKSLASH"),w(g,"SLASH")):t:""},u.$$arity=1),b.alias(m,"posixfy","posixify"),b.def(m,"$expand_path",_=function(t){var e,r,n,i=x,$=x,a=x;return r=this.$partition_path(t),e=b.to_ary(r),i=null==e[0]?x:e[0],$=null==e[1]?x:e[1],A(t["$include?"](w(g,"DOT_DOT")))?(a=[],S(i,"each",[],((n=function(t){n.$$s;return null==t&&(t=x),t["$=="](w(g,"DOT_DOT"))?a.$pop():a["$<<"](t)}).$$s=this,n.$$arity=1,n)),this.$join_path(a,$)):this.$join_path(i,$)},_.$$arity=1),b.def(m,"$partition_path",d=function(t,e){var r,n,i=this,$=x,a=x,s=x,o=x,l=x,c=x;return null==e&&(e=x),A($=(a=A(e)?i._partition_path_web:i._partition_path_sys)["$[]"](t))?$:(s=i.$posixify(t),A(e)?A(i["$web_root?"](s))?o=w(g,"SLASH"):A(s["$start_with?"](w(g,"DOT_SLASH")))&&(o=w(g,"DOT_SLASH")):A(i["$root?"](s))?o=A(i["$unc?"](s))?w(g,"DOUBLE_SLASH"):A(s["$start_with?"](w(g,"SLASH")))?w(g,"SLASH"):s.$slice(0,v(s.$index(w(g,"SLASH")),1)):A(s["$start_with?"](w(g,"DOT_SLASH")))&&(o=w(g,"DOT_SLASH")),(l=(A(o)?s.$slice(o.$length(),s.$length()):s).$split(w(g,"SLASH"))).$delete(w(g,"DOT")),c=[t,[l,o]],S(a,"[]=",b.to_a(c)),c[(r=c.length,n=1,"number"==typeof r&&"number"==typeof n?r-n:r["$-"](n))])},d.$$arity=-2),b.def(m,"$join_path",h=function(t,e){return null==e&&(e=x),A(e)?""+e+t.$join(w(g,"SLASH")):t.$join(w(g,"SLASH"))},h.$$arity=-2),b.def(m,"$system_path",f=function($,t,a,s){var e,r,o,n,i=this,l=x,c=x,u=x,_=x,d=x,h=x,f=x,p=x,m=x,y=x;if(null==t&&(t=x),null==a&&(a=x),null==s&&(s=O([],{})),A(a)&&(A(i["$root?"](a))||i.$raise(k("::","SecurityError"),"Jail is not an absolute path: "+a),a=i.$posixify(a)),A($)){if(A(i["$root?"]($))){if(l=i.$expand_path($),A(A(e=a)?i["$descends_from?"](l,a)["$!"]():e)){if(A(s.$fetch("recover",!0)))return i.$logger().$warn((A(e=s["$[]"]("target_name"))?e:"path")+" is outside of jail; recovering automatically"),r=i.$partition_path(l),e=b.to_ary(r),c=null==e[0]?x:e[0],null==e[1]?x:e[1],r=i.$partition_path(a),e=b.to_ary(r),u=null==e[0]?x:e[0],_=null==e[1]?x:e[1],i.$join_path(v(u,c),_);i.$raise(k("::","SecurityError"),(A(e=s["$[]"]("target_name"))?e:"path")+" "+$+" is outside of jail: "+a+" (disallowed in safe mode)")}return l}r=i.$partition_path($),e=b.to_ary(r),c=null==e[0]?x:e[0],null==e[1]?x:e[1]}else c=[];if(A(c["$empty?"]())){if(A(t["$nil_or_empty?"]()))return A(e=a)?e:i.working_dir;if(A(i["$root?"](t))){if(!A(a))return i.$expand_path(t);t=i.$posixify(t)}else r=i.$partition_path(t),e=b.to_ary(r),c=null==e[0]?x:e[0],null==e[1]?x:e[1],t=A(e=a)?e:i.working_dir}else A(t["$nil_or_empty?"]())?t=A(e=a)?e:i.working_dir:A(i["$root?"](t))?A(a)&&(t=i.$posixify(t)):t=(A(e=a)?e:i.working_dir).$chomp("/")+"/"+t;return A(A(e=A(r=a)?d=i["$descends_from?"](t,a)["$!"]():r)?i.file_separator["$=="](w(g,"BACKSLASH")):e)?(r=i.$partition_path(t),e=b.to_ary(r),h=null==e[0]?x:e[0],f=null==e[1]?x:e[1],r=i.$partition_path(a),e=b.to_ary(r),u=null==e[0]?x:e[0],_=null==e[1]?x:e[1],A(f["$!="](_))&&(A(s.$fetch("recover",!0))?(i.$logger().$warn("start path for "+(A(e=s["$[]"]("target_name"))?e:"path")+" is outside of jail root; recovering automatically"),h=u,d=!1):i.$raise(k("::","SecurityError"),"start path for "+(A(e=s["$[]"]("target_name"))?e:"path")+" "+t+" refers to location outside jail root: "+a+" (disallowed in safe mode)"))):(r=i.$partition_path(t),e=b.to_ary(r),h=null==e[0]?x:e[0],_=null==e[1]?x:e[1]),A((p=v(h,c))["$include?"](w(g,"DOT_DOT")))&&(m=(e=[p,[]])[0],p=e[1],A(a)?(A(u)||(r=i.$partition_path(a),e=b.to_ary(r),u=null==e[0]?x:e[0],null==e[1]?x:e[1]),y=!1,S(m,"each",[],((o=function(t){var e,r,n,i=o.$$s||this;return null==t&&(t=x),t["$=="](w(g,"DOT_DOT"))?A((r=p.$size(),n=u.$size(),"number"==typeof r&&"number"==typeof n?n<r:r["$>"](n)))?p.$pop():A(s.$fetch("recover",!0))?A(y)?x:(i.$logger().$warn((A(e=s["$[]"]("target_name"))?e:"path")+" has illegal reference to ancestor of jail; recovering automatically"),y=!0):i.$raise(k("::","SecurityError"),(A(e=s["$[]"]("target_name"))?e:"path")+" "+$+" refers to location outside jail: "+a+" (disallowed in safe mode)"):p["$<<"](t)}).$$s=i,o.$$arity=1,o))):S(m,"each",[],((n=function(t){n.$$s;return null==t&&(t=x),t["$=="](w(g,"DOT_DOT"))?p.$pop():p["$<<"](t)}).$$s=i,n.$$arity=1,n))),A(d)?(l=i.$join_path(p,_),A(i["$descends_from?"](l,a))?l:A(s.$fetch("recover",!0))?(i.$logger().$warn((A(e=s["$[]"]("target_name"))?e:"path")+" is outside of jail; recovering automatically"),A(u)||(r=i.$partition_path(a),e=b.to_ary(r),u=null==e[0]?x:e[0],null==e[1]?x:e[1]),i.$join_path(v(u,c),_)):i.$raise(k("::","SecurityError"),(A(e=s["$[]"]("target_name"))?e:"path")+" "+$+" is outside of jail: "+a+" (disallowed in safe mode)")):i.$join_path(p,_)},f.$$arity=-2),b.def(m,"$web_path",p=function(t,e){var r,n,i,$=x,a=x,s=x,o=x,l=x;return null==e&&(e=x),t=this.$posixify(t),e=this.$posixify(e),$=x,A(A(r=e["$nil_or_empty?"]())?r:this["$web_root?"](t))||(t=A(e["$end_with?"](w(g,"SLASH")))?""+e+t:""+e+w(g,"SLASH")+t,A($=w(g,"Helpers").$uri_prefix(t))&&(t=t["$[]"](b.Range.$new($.$length(),-1,!1)))),n=this.$partition_path(t,!0),r=b.to_ary(n),a=null==r[0]?x:r[0],s=null==r[1]?x:r[1],o=[],S(a,"each",[],((i=function(t){var e;i.$$s;return null==t&&(t=x),t["$=="](w(g,"DOT_DOT"))?A(o["$empty?"]())?A(A(e=s)?s["$!="](w(g,"DOT_SLASH")):e)?x:o["$<<"](t):o["$[]"](-1)["$=="](w(g,"DOT_DOT"))?o["$<<"](t):o.$pop():o["$<<"](t)}).$$s=this,i.$$arity=1,i)),A((l=this.$join_path(o,s))["$include?"](" "))&&(l=l.$gsub(" ","%20")),A($)?""+$+l:l},p.$$arity=-2)}(i[0],0,i)}(t[0],t)},Opal.modules["asciidoctor/reader"]=function(U){function H(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function Y(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function G(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function z(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function L(t,e){return"number"==typeof t&&"number"==typeof e?e<=t:t["$>="](e)}U.top;var t=[],W=U.nil,X=U.const_get_qualified,V=U.const_get_relative,$=(U.breaker,U.slice,U.module),K=U.klass,J=U.hash2,Z=U.truthy,Q=U.send,D=U.gvars,F=U.hash;return U.add_stubs(["$include","$attr_reader","$+","$attr_accessor","$!","$===","$split","$file","$dir","$dirname","$path","$basename","$lineno","$prepare_lines","$drop","$[]","$normalize_lines_from_string","$normalize_lines_array","$empty?","$nil_or_empty?","$peek_line","$>","$slice","$length","$process_line","$times","$shift","$read_line","$<<","$-","$unshift_all","$has_more_lines?","$join","$read_lines","$unshift","$start_with?","$==","$*","$read_lines_until","$size","$clear","$cursor","$[]=","$!=","$fetch","$cursor_at_mark","$warn","$logger","$message_with_context","$new","$each","$instance_variables","$instance_variable_get","$dup","$instance_variable_set","$to_i","$attributes","$<","$catalog","$skip_front_matter!","$pop","$adjust_indentation!","$attr","$end_with?","$include?","$=~","$preprocess_conditional_directive","$preprocess_include_directive","$pop_include","$downcase","$error","$none?","$key?","$any?","$all?","$strip","$resolve_expr_val","$send","$to_sym","$replace_next_line","$rstrip","$sub_attributes","$attribute_missing","$include_processors?","$find","$handles?","$instance","$process_method","$parse_attributes","$>=","$safe","$resolve_include_path","$split_delimited_value","$/","$to_a","$uniq","$sort","$open","$each_line","$infinite?","$push_include","$delete","$value?","$force_encoding","$create_include_cursor","$rindex","$delete_at","$nil?","$keys","$read","$uriish?","$attr?","$require_library","$parse","$normalize_system_path","$file?","$relative_path","$path_resolver","$base_dir","$to_s","$path=","$extname","$rootname","$<=","$to_f","$extensions?","$extensions","$include_processors","$class","$object_id","$inspect","$map"]),function(t,e){function r(){}var n=r=$(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k,w,E,A,O,S,R,C,T,M,I,N,P,z,L,D,F,B=n=K(t,null,"Reader",n),q=B.prototype,j=[B].concat(r);q.file=q.lines=q.process_lines=q.look_ahead=q.unescape_next_line=q.lineno=q.dir=q.path=q.mark=q.source_lines=q.saved=W,B.$include(V(j,"Logging")),function(t,e,r){function n(){}var i,$,a,s=n=K(t,null,"Cursor",n),o=s.prototype;[s].concat(r);o.lineno=o.path=W,s.$attr_reader("file","dir","path","lineno"),U.def(s,"$initialize",i=function(t,e,r,n){var i;return null==e&&(e=W),null==r&&(r=W),null==n&&(n=1),i=[t,e,r,n],this.file=i[0],this.dir=i[1],this.path=i[2],this.lineno=i[3],i},i.$$arity=-2),U.def(s,"$advance",$=function(t){return this.lineno=H(this.lineno,t)},$.$$arity=1),U.def(s,"$line_info",a=function(){return this.path+": line "+this.lineno},a.$$arity=0),U.alias(s,"to_s","line_info")}(j[0],0,j),B.$attr_reader("file"),B.$attr_reader("dir"),B.$attr_reader("path"),B.$attr_reader("lineno"),B.$attr_reader("source_lines"),B.$attr_accessor("process_lines"),B.$attr_accessor("unterminated"),U.def(B,"$initialize",i=function(t,e,r){var n,i,$=this;return null==t&&(t=W),null==e&&(e=W),null==r&&(r=J([],{})),Z(e["$!"]())?($.file=W,$.dir=".",$.path="<stdin>",$.lineno=1):Z(X("::","String")["$==="](e))?($.file=e,i=X("::","File").$split($.file),n=U.to_ary(i),$.dir=null==n[0]?W:n[0],$.path=null==n[1]?W:n[1],$.lineno=1):(Z($.file=e.$file())?($.dir=Z(n=e.$dir())?n:X("::","File").$dirname($.file),$.path=Z(n=e.$path())?n:X("::","File").$basename($.file)):($.dir=Z(n=e.$dir())?n:".",$.path=Z(n=e.$path())?n:"<stdin>"),$.lineno=Z(n=e.$lineno())?n:1),$.lines=Z(t)?$.$prepare_lines(t,r):[],$.source_lines=$.lines.$drop(0),$.mark=W,$.look_ahead=0,$.process_lines=!0,$.unescape_next_line=!1,$.unterminated=W,$.saved=W},i.$$arity=-1),U.def(B,"$prepare_lines",$=function(t,e){return null==e&&(e=J([],{})),Z(X("::","String")["$==="](t))?Z(e["$[]"]("normalize"))?V(j,"Helpers").$normalize_lines_from_string(t):t.$split(V(j,"LF"),-1):Z(e["$[]"]("normalize"))?V(j,"Helpers").$normalize_lines_array(t):t.$drop(0)},$.$$arity=-2),U.def(B,"$process_line",a=function(t){return Z(this.process_lines)&&(this.look_ahead=H(this.look_ahead,1)),t},a.$$arity=1),U.def(B,"$has_more_lines?",s=function(){return!Z(this.lines["$empty?"]())||(this.look_ahead=0,!1)},s.$$arity=0),U.def(B,"$empty?",o=function(){return!!Z(this.lines["$empty?"]())&&!(this.look_ahead=0)},o.$$arity=0),U.alias(B,"eof?","empty?"),U.def(B,"$next_line_empty?",l=function(){return this.$peek_line()["$nil_or_empty?"]()},l.$$arity=0),U.def(B,"$peek_line",c=function(t){var e,r=W;return null==t&&(t=!1),Z(Z(e=t)?e:Y(this.look_ahead,0))?Z(this.unescape_next_line)?(r=this.lines["$[]"](0)).$slice(1,r.$length()):this.lines["$[]"](0):Z(this.lines["$empty?"]())?(this.look_ahead=0,W):Z(r=this.$process_line(this.lines["$[]"](0)))?r:this.$peek_line()},c.$$arity=-1),U.def(B,"$peek_lines",u=function(t,n){var e,i,$=this,r=W,a=W;return null==t&&(t=W),null==n&&(n=!1),r=$.look_ahead,a=[],function(){var r=U.new_brk();try{Q(Z(e=t)?e:V(j,"MAX_INT"),"times",[],((i=function(){var t=i.$$s||this,e=W;if(null==t.lineno&&(t.lineno=W),Z(e=Z(n)?t.$shift():t.$read_line()))return a["$<<"](e);Z(n)&&(t.lineno=G(t.lineno,1)),U.brk(W,r)}).$$s=$,i.$$brk=r,i.$$arity=0,i))}catch(t){if(t===r)return t.$v;throw t}}(),Z(a["$empty?"]())||($.$unshift_all(a),Z(n)&&($.look_ahead=r)),a},u.$$arity=-1),U.def(B,"$read_line",_=function(){var t;return Z(Z(t=Y(this.look_ahead,0))?t:this["$has_more_lines?"]())?this.$shift():W},_.$$arity=0),U.def(B,"$read_lines",d=function(){var t=W;for(t=[];Z(this["$has_more_lines?"]());)t["$<<"](this.$shift());return t},d.$$arity=0),U.alias(B,"readlines","read_lines"),U.def(B,"$read",h=function(){return this.$read_lines().$join(V(j,"LF"))},h.$$arity=0),U.def(B,"$advance",f=function(){return!!Z(this.$shift())},f.$$arity=0),U.def(B,"$unshift_line",p=function(t){return this.$unshift(t),W},p.$$arity=1),U.alias(B,"restore_line","unshift_line"),U.def(B,"$unshift_lines",m=function(t){return this.$unshift_all(t),W},m.$$arity=1),U.alias(B,"restore_lines","unshift_lines"),U.def(B,"$replace_next_line",y=function(t){return this.$shift(),this.$unshift(t),!0},y.$$arity=1),U.alias(B,"replace_line","replace_next_line"),U.def(B,"$skip_blank_lines",g=function(){var t=W,e=W;if(Z(this["$empty?"]()))return W;for(t=0;Z(e=this.$peek_line());){if(!Z(e["$empty?"]()))return t;this.$shift(),t=H(t,1)}},g.$$arity=0),U.def(B,"$skip_comment_lines",b=function(){var t,e,r,n=W,i=W;if(Z(this["$empty?"]()))return W;for(;Z(Z(t=n=this.$peek_line())?n["$empty?"]()["$!"]():t)&&Z(n["$start_with?"]("//"));)if(Z(n["$start_with?"]("///"))){if(!Z(Z(t=Y(i=n.$length(),3))?n["$=="]((r=i,"number"==typeof(e="/")&&"number"==typeof r?e*r:e["$*"](r))):t))break;this.$read_lines_until(J(["terminator","skip_first_line","read_last_line","skip_processing","context"],{terminator:n,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}))}else this.$shift();return W},b.$$arity=0),U.def(B,"$skip_line_comments",v=function(){var t,e=W,r=W;if(Z(this["$empty?"]()))return[];for(e=[];Z(Z(t=r=this.$peek_line())?r["$empty?"]()["$!"]():t)&&Z(r["$start_with?"]("//"));)e["$<<"](this.$shift());return e},v.$$arity=0),U.def(B,"$terminate",x=function(){return this.lineno=H(this.lineno,this.lines.$size()),this.lines.$clear(),this.look_ahead=0,W},x.$$arity=0),U.def(B,"$read_lines_until",k=function(t){var e,r,n,i,$=k.$$p,a=$||W,s=this,o=W,l=W,c=W,u=W,_=W,d=W,h=W,f=W,p=W,m=W,y=W,g=W,b=W;for($&&(k.$$p=null),null==t&&(t=J([],{})),o=[],Z(Z(e=s.process_lines)?t["$[]"]("skip_processing"):e)&&(s.process_lines=!1,l=!0),d=Z(c=t["$[]"]("terminator"))?(u=Z(e=t["$[]"]("cursor"))?e:s.$cursor(),_=!1):(_=t["$[]"]("break_on_blank_lines"),t["$[]"]("break_on_list_continuation")),h=t["$[]"]("skip_line_comments"),f=p=m=W,Z(t["$[]"]("skip_first_line"))&&s.$shift();Z(Z(r=f["$!"]())?y=s.$read_line():r);)f=function(){for(;Z(!0);)return!!Z(Z(n=c)?y["$=="](c):n)||(!!Z(Z(n=_)?y["$empty?"]():n)||(Z(Z(n=Z(i=d)?p:i)?y["$=="](V(j,"LIST_CONTINUATION")):n)?(g=["preserve_last_line",!0],Q(t,"[]=",U.to_a(g)),g[G(g.length,1)],!0):!!Z((n=a!==W)?U.yield1(a,y):a!==W)));return W}(),Z(f)?(Z(t["$[]"]("read_last_line"))&&(o["$<<"](y),p=!0),Z(t["$[]"]("preserve_last_line"))&&(s.$unshift(y),m=!0)):Z(Z(r=Z(n=h)?y["$start_with?"]("//"):n)?y["$start_with?"]("///")["$!"]():r)||(o["$<<"](y),p=!0);return Z(l)&&(s.process_lines=!0,Z(Z(e=m)?c["$!"]():e)&&(s.look_ahead=G(s.look_ahead,1))),Z(Z(e=Z(r=c)?c["$!="](y):r)?b=t.$fetch("context",c):e)&&(u["$=="]("at_mark")&&(u=s.$cursor_at_mark()),s.$logger().$warn(s.$message_with_context("unterminated "+b+" block",J(["source_location"],{source_location:u}))),s.unterminated=!0),o},k.$$arity=-1),U.def(B,"$shift",w=function(){return this.lineno=H(this.lineno,1),this.look_ahead["$=="](0)||(this.look_ahead=G(this.look_ahead,1)),this.lines.$shift()},w.$$arity=0),U.def(B,"$unshift",E=function(t){return this.lineno=G(this.lineno,1),this.look_ahead=H(this.look_ahead,1),this.lines.$unshift(t)},E.$$arity=1),U.def(B,"$unshift_all",A=function(t){return this.lineno=G(this.lineno,t.$size()),this.look_ahead=H(this.look_ahead,t.$size()),Q(this.lines,"unshift",U.to_a(t))},A.$$arity=1),U.def(B,"$cursor",O=function(){return V(j,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},O.$$arity=0),U.def(B,"$cursor_at_line",S=function(t){return V(j,"Cursor").$new(this.file,this.dir,this.path,t)},S.$$arity=1),U.def(B,"$cursor_at_mark",R=function(){return Z(this.mark)?Q(V(j,"Cursor"),"new",U.to_a(this.mark)):this.$cursor()},R.$$arity=0),U.def(B,"$cursor_before_mark",C=function(){var t,e,r=W,n=W,i=W,$=W;return Z(this.mark)?(e=this.mark,t=U.to_ary(e),r=null==t[0]?W:t[0],n=null==t[1]?W:t[1],i=null==t[2]?W:t[2],$=null==t[3]?W:t[3],V(j,"Cursor").$new(r,n,i,G($,1))):V(j,"Cursor").$new(this.file,this.dir,this.path,G(this.lineno,1))},C.$$arity=0),U.def(B,"$cursor_at_prev_line",T=function(){return V(j,"Cursor").$new(this.file,this.dir,this.path,G(this.lineno,1))},T.$$arity=0),U.def(B,"$mark",M=function(){return this.mark=[this.file,this.dir,this.path,this.lineno]},M.$$arity=0),U.def(B,"$line_info",I=function(){return this.path+": line "+this.lineno},I.$$arity=0),U.def(B,"$lines",N=function(){return this.lines.$drop(0)},N.$$arity=0),U.def(B,"$string",P=function(){return this.lines.$join(V(j,"LF"))},P.$$arity=0),U.def(B,"$source",z=function(){return this.source_lines.$join(V(j,"LF"))},z.$$arity=0),U.def(B,"$save",L=function(){var $,a=W;return a=J([],{}),Q(this.$instance_variables(),"each",[],(($=function(t){var e,r=$.$$s||this,n=W,i=W;return null==t&&(t=W),Z(Z(e=t["$=="]("@saved"))?e:t["$=="]("@source_lines"))?W:(n=[t,Z(X("::","Array")["$==="](i=r.$instance_variable_get(t)))?i.$dup():i],Q(a,"[]=",U.to_a(n)),n[G(n.length,1)])}).$$s=this,$.$$arity=1,$)),this.saved=a,W},L.$$arity=0),U.def(B,"$restore_save",D=function(){var n;return Z(this.saved)?(Q(this.saved,"each",[],((n=function(t,e){var r=n.$$s||this;return null==t&&(t=W),null==e&&(e=W),r.$instance_variable_set(t,e)}).$$s=this,n.$$arity=2,n)),this.saved=W):W},D.$$arity=0),U.def(B,"$discard_save",F=function(){return this.saved=W},F.$$arity=0),U.alias(B,"to_s","line_info")}(i[0],0,i),function(t,e,r){function n(){}var a,d,i,$,s,o,l,c,u,_,h,f,p,m,y,g,b,v,x,k,w=n=K(t,e,"PreprocessorReader",n),E=w.prototype,P=[w].concat(r);E.document=E.lineno=E.process_lines=E.look_ahead=E.skipping=E.include_stack=E.conditional_stack=E.path=E.include_processor_extensions=E.maxdepth=E.dir=E.lines=E.file=E.includes=E.unescape_next_line=W,w.$attr_reader("include_stack"),U.def(w,"$initialize",a=function(t,e,r,n){var i=a.$$p,$=W;return i&&(a.$$p=null),null==e&&(e=W),null==r&&(r=W),null==n&&(n=J([],{})),this.document=t,Q(this,U.find_super_dispatcher(this,"initialize",a,!1),[e,r,n],null),$=t.$attributes().$fetch("max-include-depth",64).$to_i(),Z(z($,0))&&($=0),this.maxdepth=J(["abs","rel"],{abs:$,rel:$}),this.include_stack=[],this.includes=t.$catalog()["$[]"]("includes"),this.skipping=!1,this.conditional_stack=[],this.include_processor_extensions=W},a.$$arity=-2),U.def(w,"$prepare_lines",d=function(t,e){var r,n,i=d.$$p,$=W,a=W,s=W,o=W,l=W,c=W,u=W,_=W;for(i&&(d.$$p=null),u=0,_=arguments.length,c=new Array(_);u<_;u++)c[u]=arguments[u];if(null==e&&(e=J([],{})),$=Q(this,U.find_super_dispatcher(this,"prepare_lines",d,!1),c,i),Z(Z(r=this.document)?this.document.$attributes()["$[]"]("skip-front-matter"):r)&&Z(a=this["$skip_front_matter!"]($))&&(s=["front-matter",a.$join(V(P,"LF"))],Q(this.document.$attributes(),"[]=",U.to_a(s)),s[G(s.length,1)]),Z(e.$fetch("condense",!0))){for(;Z(Z(n=o=$["$[]"](0))?o["$empty?"]():n);)Z(n=$.$shift())&&(this.lineno=H(this.lineno,1));for(;Z(Z(n=l=$["$[]"](-1))?l["$empty?"]():n);)$.$pop()}return Z(e["$[]"]("indent"))&&V(P,"Parser")["$adjust_indentation!"]($,e["$[]"]("indent"),this.document.$attr("tabsize")),$},d.$$arity=-2),U.def(w,"$process_line",i=function(t){var e,r,n=this;return Z(n.process_lines)?Z(t["$empty?"]())?(n.look_ahead=H(n.look_ahead,1),t):Z(Z(e=Z(r=t["$end_with?"]("]"))?t["$start_with?"]("[")["$!"]():r)?t["$include?"]("::"):e)?Z(Z(e=t["$include?"]("if"))?V(P,"ConditionalDirectiveRx")["$=~"](t):e)?((e=D["~"])===W?W:e["$[]"](1))["$=="]("\\")?(n.unescape_next_line=!0,n.look_ahead=H(n.look_ahead,1),t.$slice(1,t.$length())):Z(n.$preprocess_conditional_directive((e=D["~"])===W?W:e["$[]"](2),(e=D["~"])===W?W:e["$[]"](3),(e=D["~"])===W?W:e["$[]"](4),(e=D["~"])===W?W:e["$[]"](5)))?(n.$shift(),W):(n.look_ahead=H(n.look_ahead,1),t):Z(n.skipping)?(n.$shift(),W):Z(Z(e=t["$start_with?"]("inc","\\inc"))?V(P,"IncludeDirectiveRx")["$=~"](t):e)?((e=D["~"])===W?W:e["$[]"](1))["$=="]("\\")?(n.unescape_next_line=!0,n.look_ahead=H(n.look_ahead,1),t.$slice(1,t.$length())):Z(n.$preprocess_include_directive((e=D["~"])===W?W:e["$[]"](2),(e=D["~"])===W?W:e["$[]"](3)))?W:(n.look_ahead=H(n.look_ahead,1),t):(n.look_ahead=H(n.look_ahead,1),t):Z(n.skipping)?(n.$shift(),W):(n.look_ahead=H(n.look_ahead,1),t):t},i.$$arity=1),U.def(w,"$has_more_lines?",$=function(){return!!Z(this.$peek_line())},$.$$arity=0),U.def(w,"$empty?",s=function(){return!Z(this.$peek_line())},s.$$arity=0),U.alias(w,"eof?","empty?"),U.def(w,"$peek_line",o=function(t){var e=o.$$p,r=W,n=W,i=W,$=W;for(e&&(o.$$p=null),i=0,$=arguments.length,n=new Array($);i<$;i++)n[i]=arguments[i];return null==t&&(t=!1),Z(r=Q(this,U.find_super_dispatcher(this,"peek_line",o,!1),n,e))?r:Z(this.include_stack["$empty?"]())?W:(this.$pop_include(),this.$peek_line(t))},o.$$arity=-1),U.def(w,"$preprocess_conditional_directive",l=function(t,e,r,n){var i,$,a,s,o,l,c,u=this,_=W,d=W,h=W,f=W,p=W,m=W,y=W;if(Z(_=e["$empty?"]())||(e=e.$downcase()),Z(Z(i=Z($=_)?Z(a=t["$=="]("ifdef"))?a:t["$=="]("ifndef"):$)?i:Z($=n)?t["$=="]("endif"):$))return!1;if(t["$=="]("endif"))return Z(u.conditional_stack["$empty?"]())?u.$logger().$error(u.$message_with_context("unmatched macro: endif::"+e+"[]",J(["source_location"],{source_location:u.$cursor()}))):Z(Z(i=_)?i:e["$=="]((d=u.conditional_stack["$[]"](-1))["$[]"]("target")))?(u.conditional_stack.$pop(),u.skipping=!Z(u.conditional_stack["$empty?"]())&&u.conditional_stack["$[]"](-1)["$[]"]("skipping")):u.$logger().$error(u.$message_with_context("mismatched macro: endif::"+e+"[], expected endif::"+d["$[]"]("target")+"[]",J(["source_location"],{source_location:u.$cursor()}))),!0;if(Z(u.skipping))h=!1;else if("ifdef"["$==="](f=t))h=","["$==="](f=r)?Q(e.$split(",",-1),"none?",[],((s=function(t){var e=s.$$s||this;return null==e.document&&(e.document=W),null==t&&(t=W),e.document.$attributes()["$key?"](t)}).$$s=u,s.$$arity=1,s)):"+"["$==="](f)?Q(e.$split("+",-1),"any?",[],((o=function(t){var e=o.$$s||this;return null==e.document&&(e.document=W),null==t&&(t=W),e.document.$attributes()["$key?"](t)["$!"]()}).$$s=u,o.$$arity=1,o)):u.document.$attributes()["$key?"](e)["$!"]();else if("ifndef"["$==="](f))h=","["$==="](f=r)?Q(e.$split(",",-1),"any?",[],((l=function(t){var e=l.$$s||this;return null==e.document&&(e.document=W),null==t&&(t=W),e.document.$attributes()["$key?"](t)}).$$s=u,l.$$arity=1,l)):"+"["$==="](f)?Q(e.$split("+",-1),"all?",[],((c=function(t){var e=c.$$s||this;return null==e.document&&(e.document=W),null==t&&(t=W),e.document.$attributes()["$key?"](t)}).$$s=u,c.$$arity=1,c)):u.document.$attributes()["$key?"](e);else if("ifeval"["$==="](f)){if(!Z(Z(i=_)?V(P,"EvalExpressionRx")["$=~"](n.$strip()):i))return!1;i=[($=D["~"])===W?W:$["$[]"](1),($=D["~"])===W?W:$["$[]"](2),($=D["~"])===W?W:$["$[]"](3)],p=i[0],m=i[1],y=i[2],p=u.$resolve_expr_val(p),y=u.$resolve_expr_val(y),h=m["$=="]("!=")?p.$send("==",y):p.$send(m.$to_sym(),y)["$!"]()}return Z(Z(i=t["$=="]("ifeval"))?i:n["$!"]())?(Z(h)&&(u.skipping=!0),u.conditional_stack["$<<"](J(["target","skip","skipping"],{target:e,skip:h,skipping:u.skipping}))):Z(Z(i=u.skipping)?i:h)||(u.$replace_next_line(n.$rstrip()),u.$unshift(""),Z(n["$start_with?"]("include::"))&&(u.look_ahead=G(u.look_ahead,1))),!0},l.$$arity=4),U.def(w,"$preprocess_include_directive",c=function(t,e){var r,n,i,s,$,o,a,l,c,u=this,_=W,d=W,h=W,f=W,p=W,m=W,y=W,g=W,b=W,v=W,x=W,k=W,w=W,E=W,A=W,O=W,S=W,R=W,C=W,T=W,M=W,I=W,N=W;if(_=u.document,Z(Z(r=(d=t)["$include?"](V(P,"ATTR_REF_HEAD")))?(d=_.$sub_attributes(t,J(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():r))return u.$shift(),(Z(r=_.$attributes()["$[]"]("attribute-missing"))?r:V(P,"Compliance").$attribute_missing())["$=="]("skip")&&u.$unshift("Unresolved directive in "+u.path+" - include::"+t+"["+e+"]"),!0;if(Z(Z(r=u["$include_processors?"]())?h=Q(u.include_processor_extensions,"find",[],((n=function(t){n.$$s;return null==t&&(t=W),t.$instance()["$handles?"](d)}).$$s=u,n.$$arity=1,n)):r))return u.$shift(),h.$process_method()["$[]"](_,u,d,_.$parse_attributes(e,[],J(["sub_input"],{sub_input:!0}))),!0;if(Z(L(_.$safe(),X(V(P,"SafeMode"),"SECURE"))))return u.$replace_next_line("link:"+d+"[]");if(Z(Y(f=u.maxdepth["$[]"]("abs"),0))){if(Z(L(u.include_stack.$size(),f)))return u.$logger().$error(u.$message_with_context("maximum include depth of "+u.maxdepth["$[]"]("rel")+" exceeded",J(["source_location"],{source_location:u.$cursor()}))),W;if(p=_.$parse_attributes(e,[],J(["sub_input"],{sub_input:!0})),i=u.$resolve_include_path(d,e,p),r=U.to_ary(i),m=null==r[0]?W:r[0],y=null==r[1]?W:r[1],g=null==r[2]?W:r[2],!Z(y))return m;if(b=v=W,Z(e)&&(Z(p["$key?"]("lines"))?(b=[],Q(u.$split_delimited_value(p["$[]"]("lines")),"each",[],((s=function(t){s.$$s;var e,r,n,i,$=W,a=W;return null==t&&(t=W),Z(t["$include?"](".."))?(r=t.$split("..",2),e=U.to_ary(r),$=null==e[0]?W:e[0],a=null==e[1]?W:e[1],b=H(b,Z(Z(e=a["$empty?"]())?e:z(a=a.$to_i(),0))?[$.$to_i(),(n=1,i=0,"number"==typeof n&&"number"==typeof i?n/i:n["$/"](i))]:X("::","Range").$new($.$to_i(),a).$to_a())):b["$<<"](t.$to_i())}).$$s=u,s.$$arity=1,s)),b=Z(b["$empty?"]())?W:b.$sort().$uniq()):Z(p["$key?"]("tag"))?Z(Z(r=(x=p["$[]"]("tag"))["$empty?"]())?r:x["$=="]("!"))||(v=Z(x["$start_with?"]("!"))?F(x.$slice(1,x.$length()),!1):F(x,!0)):Z(p["$key?"]("tags"))&&(v=J([],{}),Q(u.$split_delimited_value(p["$[]"]("tags")),"each",[],(($=function(t){$.$$s;var e,r=W;return null==t&&(t=W),Z(Z(e=t["$empty?"]())?e:t["$=="]("!"))?W:(r=Z(t["$start_with?"]("!"))?[t.$slice(1,t.$length()),!1]:[t,!0],Q(v,"[]=",U.to_a(r)),r[G(r.length,1)])}).$$s=u,$.$$arity=1,$)),Z(v["$empty?"]())&&(v=W))),Z(b)){k=(r=[[],W,0])[0],w=r[1],E=r[2];try{!function(){var e=U.new_brk();try{Q(u,"open",[m,"rb"],((o=function(t){var $,e=o.$$s||this,a=W;return null==t&&(t=W),a=W,function(){var i=U.new_brk();try{return Q(t,"each_line",[],(($=function(t){$.$$s;var e,r,n=W;return null==t&&(t=W),E=H(E,1),Z(Z(e=a)?e:Z(r=X("::","Float")["$==="](n=b["$[]"](0)))?a=n["$infinite?"]():r)?(w=Z(e=w)?e:E,k["$<<"](t)):(n["$=="](E)&&(w=Z(e=w)?e:E,k["$<<"](t),b.$shift()),Z(b["$empty?"]())?void U.brk(W,i):W)}).$$s=e,$.$$brk=i,$.$$arity=1,$))}catch(t){if(t===i)return t.$v;throw t}}()}).$$s=u,o.$$brk=e,o.$$arity=1,o))}catch(t){if(t===e)return t.$v;throw t}}()}catch(t){if(!U.rescue(t,[V(P,"StandardError")]))throw t;try{return u.$logger().$error(u.$message_with_context("include "+y+" not readable: "+m,J(["source_location"],{source_location:u.$cursor()}))),u.$replace_next_line("Unresolved directive in "+u.path+" - include::"+d+"["+e+"]")}finally{U.pop_exception()}}u.$shift(),Z(w)&&(A=["partial-option",!0],Q(p,"[]=",U.to_a(A)),A[G(A.length,1)],u.$push_include(k,m,g,w,p))}else if(Z(v)){r=[[],W,0,[],X("::","Set").$new(),W],k=r[0],w=r[1],E=r[2],O=r[3],S=r[4],R=r[5],Z(v["$key?"]("**"))?Z(v["$key?"]("*"))?(C=T=v.$delete("**"),M=v.$delete("*")):C=T=M=v.$delete("**"):(C=T=v["$value?"](!0)["$!"](),M=v.$delete("*"));try{Q(u,"open",[m,"rb"],((a=function(t){var e,o,r=a.$$s||this,l=W,c=W,u=W;return null==t&&(t=W),l=(e=["::","[]"])[0],c=e[1],Z(V(P,"COERCE_ENCODING"))&&(u=X(X("::","Encoding"),"UTF_8")),Q(t,"each_line",[],((o=function(t){var e,r,n,i=o.$$s||this,$=W,a=W,s=W;return null==t&&(t=W),E=H(E,1),Z(u)&&t.$force_encoding(u),Z(Z(e=Z(r=t["$include?"](l))?t["$include?"](c):r)?V(P,"TagDirectiveRx")["$=~"](t):e)?Z((e=D["~"])===W?W:e["$[]"](1))?($=(e=D["~"])===W?W:e["$[]"](2))["$=="](R)?(O.$pop(),r=Z(O["$empty?"]())?[W,T]:O["$[]"](-1),e=U.to_ary(r),R=null==e[0]?W:e[0],C=null==e[1]?W:e[1],r):Z(v["$key?"]($))?(a=i.$create_include_cursor(m,d,E),Z(s=Q(O,"rindex",[],((n=function(t,e){n.$$s;return null==t&&(t=W),null==e&&(e=W),t["$=="]($)}).$$s=i,n.$$arity=2,n)))?(s["$=="](0)?O.$shift():O.$delete_at(s),i.$logger().$warn(i.$message_with_context("mismatched end tag (expected '"+R+"' but found '"+$+"') at line "+E+" of include "+y+": "+m,J(["source_location","include_location"],{source_location:i.$cursor(),include_location:a})))):i.$logger().$warn(i.$message_with_context("unexpected end tag '"+$+"' at line "+E+" of include "+y+": "+m,J(["source_location","include_location"],{source_location:i.$cursor(),include_location:a})))):W:Z(v["$key?"]($=(e=D["~"])===W?W:e["$[]"](2)))?(S["$<<"]($),O["$<<"]([R=$,C=v["$[]"]($),E])):Z(M["$nil?"]()["$!"]())?(C=!Z(Z(e=R)?C["$!"]():e)&&M,O["$<<"]([R=$,C,E])):W:Z(C)?(w=Z(e=w)?e:E,k["$<<"](t)):W}).$$s=r,o.$$arity=1,o))}).$$s=u,a.$$arity=1,a))}catch(t){if(!U.rescue(t,[V(P,"StandardError")]))throw t;try{return u.$logger().$error(u.$message_with_context("include "+y+" not readable: "+m,J(["source_location"],{source_location:u.$cursor()}))),u.$replace_next_line("Unresolved directive in "+u.path+" - include::"+d+"["+e+"]")}finally{U.pop_exception()}}Z(O["$empty?"]())||Q(O,"each",[],((l=function(t,e,r){var n=l.$$s||this;return null==t&&(t=W),null==e&&(e=W),null==r&&(r=W),n.$logger().$warn(n.$message_with_context("detected unclosed tag '"+t+"' starting at line "+r+" of include "+y+": "+m,J(["source_location","include_location"],{source_location:n.$cursor(),include_location:n.$create_include_cursor(m,d,r)})))}).$$s=u,l.$$arity=3,l)),Z((I=G(v.$keys().$to_a(),S.$to_a()))["$empty?"]())||u.$logger().$warn(u.$message_with_context("tag"+(Z(Y(I.$size(),1))?"s":"")+" '"+I.$join(", ")+"' not found in include "+y+": "+m,J(["source_location"],{source_location:u.$cursor()}))),u.$shift(),Z(w)&&(Z(Z(r=Z(i=T)?M:i)?v["$empty?"]():r)||(A=["partial-option",!0],Q(p,"[]=",U.to_a(A)),A[G(A.length,1)]),u.$push_include(k,m,g,w,p))}else try{N=Q(u,"open",[m,"rb"],((c=function(t){return c.$$s,null==t&&(t=W),t.$read()}).$$s=u,c.$$arity=1,c)),u.$shift(),u.$push_include(N,m,g,1,p)}catch(t){if(!U.rescue(t,[V(P,"StandardError")]))throw t;try{return u.$logger().$error(u.$message_with_context("include "+y+" not readable: "+m,J(["source_location"],{source_location:u.$cursor()}))),u.$replace_next_line("Unresolved directive in "+u.path+" - include::"+d+"["+e+"]")}finally{U.pop_exception()}}return!0}return W},c.$$arity=2),U.def(w,"$resolve_include_path",u=function(t,e,r){var n,i,$=this,a=W,s=W,o=W;return a=$.document,Z(Z(n=V(P,"Helpers")["$uriish?"](t))?n:Z(X("::","String")["$==="]($.dir))?W:t=$.dir+"/"+t)?Z(a["$attr?"]("allow-uri-read"))?(Z(a["$attr?"]("cache-uri"))?Z((i=X("::","OpenURI","skip_raise"))&&(n=X(i,"Cache","skip_raise"))?"constant":W)||V(P,"Helpers").$require_library("open-uri/cached","open-uri-cached"):Z(X("::","RUBY_ENGINE_OPAL")["$!"]())&&X("::","OpenURI"),[X("::","URI").$parse(t),"uri",t]):$.$replace_next_line("link:"+t+"["+e+"]"):(s=a.$normalize_system_path(t,$.dir,W,J(["target_name"],{target_name:"include file"})),Z(X("::","File")["$file?"](s))?(o=a.$path_resolver().$relative_path(s,a.$base_dir()),[s,"file",o]):Z(r["$key?"]("optional-option"))?($.$shift(),!0):($.$logger().$error($.$message_with_context("include file not found: "+s,J(["source_location"],{source_location:$.$cursor()}))),$.$replace_next_line("Unresolved directive in "+$.path+" - include::"+t+"["+e+"]")))},u.$$arity=3),U.def(w,"$push_include",_=function(t,e,r,n,i){var $,a,s,o=this,l=W,c=W,u=W,_=W;return null==e&&(e=W),null==r&&(r=W),null==n&&(n=1),null==i&&(i=J([],{})),o.include_stack["$<<"]([o.lines,o.file,o.dir,o.path,o.lineno,o.maxdepth,o.process_lines]),Z(o.file=e)?(Z(X("::","String")["$==="](e))?o.dir=X("::","File").$dirname(e):Z(X("::","RUBY_ENGINE_OPAL"))?o.dir=X("::","URI").$parse(X("::","File").$dirname(e=e.$to_s())):(l=[(c=X("::","File").$dirname(e.$path()))["$=="]("/")?"":c],Q(o.dir=e.$dup(),"path=",U.to_a(l)),l[G(l.length,1)],e=e.$to_s()),r=Z($=r)?$:X("::","File").$basename(e),o.process_lines=V(P,"ASCIIDOC_EXTENSIONS")["$[]"](X("::","File").$extname(e))):(o.dir=".",o.process_lines=!0),Z(r)?(o.path=r,Z(o.process_lines)&&(l=[V(P,"Helpers").$rootname(r),!Z(i["$[]"]("partial-option"))||W],Q(o.includes,"[]=",U.to_a(l)),l[G(l.length,1)])):o.path="<stdin>",o.lineno=n,Z(i["$key?"]("depth"))&&(u=i["$[]"]("depth").$to_i(),Z((s=0,"number"==typeof(a=u)&&"number"==typeof s?a<=s:a["$<="](s)))&&(u=1),o.maxdepth=J(["abs","rel"],{abs:H(G(o.include_stack.$size(),1),u),rel:u})),Z((o.lines=o.$prepare_lines(t,J(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:i["$[]"]("indent")})))["$empty?"]())?o.$pop_include():(Z(i["$key?"]("leveloffset"))&&(o.lines.$unshift(""),o.lines.$unshift(":leveloffset: "+i["$[]"]("leveloffset")),o.lines["$<<"](""),Z(_=o.document.$attr("leveloffset"))?o.lines["$<<"](":leveloffset: "+_):o.lines["$<<"](":leveloffset!:"),o.lineno=G(o.lineno,2)),o.look_ahead=0),o},_.$$arity=-2),U.def(w,"$create_include_cursor",h=function(t,e,r){var n=W;return Z(X("::","String")["$==="](t))?n=X("::","File").$dirname(t):Z(X("::","RUBY_ENGINE_OPAL"))?n=X("::","File").$dirname(t=t.$to_s()):(n=(n=X("::","File").$dirname(t.$path()))["$=="]("")?"/":n,t=t.$to_s()),V(P,"Cursor").$new(t,n,e,r)},h.$$arity=3),U.def(w,"$pop_include",f=function(){var t,e,r=this;return Z(Y(r.include_stack.$size(),0))&&(e=r.include_stack.$pop(),t=U.to_ary(e),r.lines=null==t[0]?W:t[0],r.file=null==t[1]?W:t[1],r.dir=null==t[2]?W:t[2],r.path=null==t[3]?W:t[3],r.lineno=null==t[4]?W:t[4],r.maxdepth=null==t[5]?W:t[5],r.process_lines=null==t[6]?W:t[6],r.look_ahead=0),W},f.$$arity=0),U.def(w,"$include_depth",p=function(){return this.include_stack.$size()},p.$$arity=0),U.def(w,"$exceeded_max_depth?",m=function(){var t,e=W;return!!Z(Z(t=Y(e=this.maxdepth["$[]"]("abs"),0))?L(this.include_stack.$size(),e):t)&&this.maxdepth["$[]"]("rel")},m.$$arity=0),U.def(w,"$shift",y=function(){var t=y.$$p,e=W,r=W,n=W,i=W;for(t&&(y.$$p=null),n=0,i=arguments.length,r=new Array(i);n<i;n++)r[n]=arguments[n];return Z(this.unescape_next_line)?(this.unescape_next_line=!1,(e=Q(this,U.find_super_dispatcher(this,"shift",y,!1),r,t)).$slice(1,e.$length())):Q(this,U.find_super_dispatcher(this,"shift",y,!1),r,t)},y.$$arity=0),U.def(w,"$split_delimited_value",g=function(t){return Z(t["$include?"](","))?t.$split(","):t.$split(";")},g.$$arity=1),U.def(w,"$skip_front_matter!",b=function(t,e){var r,n=W,i=W;if(null==e&&(e=!0),n=W,t["$[]"](0)["$=="]("---")){for(i=t.$drop(0),t.$shift(),n=[],Z(e)&&(this.lineno=H(this.lineno,1));Z(Z(r=t["$empty?"]()["$!"]())?t["$[]"](0)["$!="]("---"):r);)n["$<<"](t.$shift()),Z(e)&&(this.lineno=H(this.lineno,1));Z(t["$empty?"]())?(Q(t,"unshift",U.to_a(i)),Z(e)&&(this.lineno=0),n=W):(t.$shift(),Z(e)&&(this.lineno=H(this.lineno,1)))}return n},b.$$arity=-2),U.def(w,"$resolve_expr_val",v=function(t){var e,r,n=W;return Z(Z(e=Z(r=t["$start_with?"]('"'))?t["$end_with?"]('"'):r)?e:Z(r=t["$start_with?"]("'"))?t["$end_with?"]("'"):r)?(n=!0,t=t.$slice(1,G(t.$length(),1))):n=!1,Z(t["$include?"](V(P,"ATTR_REF_HEAD")))&&(t=this.document.$sub_attributes(t,J(["attribute_missing"],{attribute_missing:"drop"}))),Z(n)?t:Z(t["$empty?"]())?W:!!t["$=="]("true")||!t["$=="]("false")&&(Z(t.$rstrip()["$empty?"]())?" ":Z(t["$include?"]("."))?t.$to_f():t.$to_i())},v.$$arity=1),U.def(w,"$include_processors?",x=function(){var t;return Z(this.include_processor_extensions["$nil?"]())?Z(Z(t=this.document["$extensions?"]())?this.document.$extensions()["$include_processors?"]():t)?(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]():this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)},x.$$arity=0),U.def(w,"$to_s",k=function(){var e;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+Q(this.include_stack,"map",[],(e=function(t){e.$$s;return null==t&&(t=W),t.$to_s()},e.$$s=this,e.$$arity=1,e)).$join(", ")+"]}>"},k.$$arity=0)}(i[0],V(i,"Reader"),i)}(t[0],t)},Opal.modules["asciidoctor/section"]=function(m){function y(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}m.top;var t=[],g=m.nil,b=(m.const_get_qualified,m.const_get_relative),$=(m.breaker,m.slice,m.module),d=m.klass,h=m.hash2,v=m.send,x=m.truthy;return m.add_stubs(["$attr_accessor","$attr_reader","$===","$+","$level","$special","$generate_id","$title","$==","$>","$sectnum","$int_to_roman","$to_i","$reftext","$!","$empty?","$sprintf","$sub_quotes","$compat_mode","$[]","$attributes","$context","$assign_numeral","$class","$object_id","$inspect","$size","$length","$chr","$[]=","$-","$gsub","$downcase","$delete","$tr_s","$end_with?","$chop","$start_with?","$slice","$key?","$catalog","$unique_id_start_index"]),function(t,e){function r(){}var n=r=$(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var s,i,$,a,o,l,c,u=n=d(t,e,"Section",n),_=u.prototype,p=[u].concat(r);_.document=_.level=_.numeral=_.parent=_.numbered=_.sectname=_.title=_.blocks=g,u.$attr_accessor("index"),u.$attr_accessor("sectname"),u.$attr_accessor("special"),u.$attr_accessor("numbered"),u.$attr_reader("caption"),m.def(u,"$initialize",s=function(t,e,r,n){var i,$,a=s.$$p;return a&&(s.$$p=null),null==t&&(t=g),null==e&&(e=g),null==r&&(r=!1),null==n&&(n=h([],{})),v(this,m.find_super_dispatcher(this,"initialize",s,!1),[t,"section",n],null),i=x(b(p,"Section")["$==="](t))?[x($=e)?$:y(t.$level(),1),t.$special()]:[x($=e)?$:1,!1],this.level=i[0],this.special=i[1],this.numbered=r,this.index=0},s.$$arity=-1),m.alias(u,"name","title"),m.def(u,"$generate_id",i=function(){return b(p,"Section").$generate_id(this.$title(),this.document)},i.$$arity=0),m.def(u,"$sectnum",$=function(t,e){var r,n,i;return null==t&&(t="."),null==e&&(e=g),e=x(r=e)?r:e["$=="](!1)?"":t,this.level["$=="](1)?""+this.numeral+e:x((n=this.level,i=1,"number"==typeof n&&"number"==typeof i?i<n:n["$>"](i)))?x(b(p,"Section")["$==="](this.parent))?""+this.parent.$sectnum(t,t)+this.numeral+e:""+this.numeral+e:""+b(p,"Helpers").$int_to_roman(this.numeral.$to_i())+e},$.$$arity=-1),m.def(u,"$xreftext",a=function(t){var e,r=this,n=g,i=g,$=g,a=g,s=g;return null==t&&(t=g),x(x(e=n=r.$reftext())?n["$empty?"]()["$!"]():e)?n:x(t)?x(r.numbered)?"full"["$==="](i=t)?(a=x(x(e=($=r.sectname)["$=="]("chapter"))?e:$["$=="]("appendix"))?r.$sprintf(r.$sub_quotes("_%s_"),r.$title()):r.$sprintf(r.$sub_quotes(x(r.document.$compat_mode())?"``%s''":'"`%s`"'),r.$title()),x(s=r.document.$attributes()["$[]"]($+"-refsig"))?s+" "+r.$sectnum(".",",")+" "+a:r.$sectnum(".",",")+" "+a):"short"["$==="](i)?x(s=r.document.$attributes()["$[]"](r.sectname+"-refsig"))?s+" "+r.$sectnum(".",""):r.$sectnum(".",""):x(x(e=($=r.sectname)["$=="]("chapter"))?e:$["$=="]("appendix"))?r.$sprintf(r.$sub_quotes("_%s_"),r.$title()):r.$title():x(x(e=($=r.sectname)["$=="]("chapter"))?e:$["$=="]("appendix"))?r.$sprintf(r.$sub_quotes("_%s_"),r.$title()):r.$title():r.$title()},a.$$arity=-1),m.def(u,"$<<",o=function(t){var e=o.$$p,r=g,n=g,i=g;for(e&&(o.$$p=null),n=0,i=arguments.length,r=new Array(i);n<i;n++)r[n]=arguments[n];return t.$context()["$=="]("section")&&this.$assign_numeral(t),v(this,m.find_super_dispatcher(this,"<<",o,!1),r,e)},o.$$arity=1),m.def(u,"$to_s",l=function(){var t=l.$$p,e=this,r=g,n=g,i=g,$=g;for(t&&(l.$$p=null),i=0,$=arguments.length,n=new Array($);i<$;i++)n[i]=arguments[i];return x(e.title)?(r=x(e.numbered)?e.$sectnum()+" "+e.title:e.title,"#<"+e.$class()+"@"+e.$object_id()+" {level: "+e.level+", title: "+r.$inspect()+", blocks: "+e.blocks.$size()+"}>"):v(e,m.find_super_dispatcher(e,"to_s",l,!1),n,t)},l.$$arity=0),m.defs(u,"$generate_id",c=function(t,e){var r,n,i,$,a=g,s=g,o=g,l=g,c=g,u=g,_=g,d=g,h=g,f=g;if(a=e.$attributes(),s=x(r=a["$[]"]("idprefix"))?r:"_",x(o=a["$[]"]("idseparator"))?x(x(r=o.$length()["$=="](1))?r:x(n=(l=o["$empty?"]())["$!"]())?(c=["idseparator",o.$chr()],v(a,"[]=",m.to_a(c)),o=c[(i=c.length,$=1,"number"==typeof i&&"number"==typeof $?i-$:i["$-"]($))]):n)&&(u=x(x(r=o["$=="]("-"))?r:o["$=="]("."))?" .-":" "+o+".-"):(o=(r=["_"," _.-"])[0],u=r[1]),_=""+s+t.$downcase().$gsub(b(p,"InvalidSectionIdCharsRx"),""),x(l)?_=_.$delete(" "):(_=_.$tr_s(u,o),x(_["$end_with?"](o))&&(_=_.$chop()),x(x(r=s["$empty?"]())?_["$start_with?"](o):r)&&(_=_.$slice(1,_.$length()))),x(e.$catalog()["$[]"]("ids")["$key?"](_))){for(r=[e.$catalog()["$[]"]("ids"),b(p,"Compliance").$unique_id_start_index()],d=r[0],h=r[1];x(d["$key?"](f=""+_+o+h));)h=y(h,1);return f}return _},c.$$arity=2)}(i[0],b(i,"AbstractBlock"),i)}(t[0],t)},Opal.modules["asciidoctor/stylesheets"]=function(x){x.top;var t=[],k=x.nil,w=x.const_get_qualified,E=x.const_get_relative,$=(x.breaker,x.slice,x.module),A=x.klass,O=x.truthy,S=x.hash2,R=x.gvars,C=x.send;return x.add_stubs(["$join","$new","$rstrip","$read","$primary_stylesheet_data","$write","$primary_stylesheet_name","$coderay_stylesheet_data","$coderay_stylesheet_name","$load_pygments","$=~","$css","$[]","$sub","$[]=","$-","$pygments_stylesheet_data","$pygments_stylesheet_name","$!","$nil?","$require_library"]),function(t,e){function r(){}var n=r=$(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g=n=A(t,null,"Stylesheets",n),b=g.prototype,v=[g].concat(r);b.primary_stylesheet_data=b.coderay_stylesheet_data=b.pygments_stylesheet_data=k,x.const_set(v[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),x.const_set(v[0],"DEFAULT_PYGMENTS_STYLE","default"),x.const_set(v[0],"STYLESHEETS_DATA_PATH",w("::","File").$join(E(v,"DATA_PATH"),"stylesheets")),x.const_set(v[0],"PygmentsBgColorRx",/^\.pygments +\{ *background: *([^;]+);/),g.__instance__=g.$new(),x.defs(g,"$instance",i=function(){return null==this.__instance__&&(this.__instance__=k),this.__instance__},i.$$arity=0),x.def(g,"$primary_stylesheet_name",$=function(){return E(v,"DEFAULT_STYLESHEET_NAME")},$.$$arity=0),x.def(g,"$primary_stylesheet_data",a=function(){var t,e=x.const_get_relative([],"File");return t=x.const_get_relative([],"JAVASCRIPT_PLATFORM")["$=="]("node")?"node"===e.$basename(__dirname)&&"dist"===e.$basename(e.$dirname(__dirname))?e.$join(e.$dirname(__dirname),"css"):e.$join(__dirname,"css"):x.const_get_relative([],"JAVASCRIPT_ENGINE")["$=="]("nashorn")?"nashorn"===e.$basename(__DIR__)&&"dist"===e.$basename(e.$dirname(__DIR__))?e.$join(e.$dirname(__DIR__),"css"):e.$join(__DIR__,"css"):"css",!1!==($a=g.primary_stylesheet_data)&&$a!==k&&null!=$a?$a:g.primary_stylesheet_data=x.const_get_relative([],"IO").$read(e.$join(t,"asciidoctor.css")).$chomp()},a.$$arity=0),x.def(g,"$embed_primary_stylesheet",s=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},s.$$arity=0),x.def(g,"$write_primary_stylesheet",o=function(t){return null==t&&(t="."),w("::","IO").$write(w("::","File").$join(t,this.$primary_stylesheet_name()),this.$primary_stylesheet_data())},o.$$arity=-1),x.def(g,"$coderay_stylesheet_name",l=function(){return"coderay-asciidoctor.css"},l.$$arity=0),x.def(g,"$coderay_stylesheet_data",c=function(){var t;return this.coderay_stylesheet_data=O(t=this.coderay_stylesheet_data)?t:w("::","IO").$read(w("::","File").$join(E(v,"STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$rstrip()},c.$$arity=0),x.def(g,"$embed_coderay_stylesheet",u=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},u.$$arity=0),x.def(g,"$write_coderay_stylesheet",_=function(t){return null==t&&(t="."),w("::","IO").$write(w("::","File").$join(t,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data())},_.$$arity=-1),x.def(g,"$pygments_stylesheet_name",d=function(t){var e;return null==t&&(t=k),"pygments-"+(O(e=t)?e:E(v,"DEFAULT_PYGMENTS_STYLE"))+".css"},d.$$arity=-1),x.def(g,"$pygments_background",h=function(t){var e,r;return null==t&&(t=k),O(O(e=this.$load_pygments())?E(v,"PygmentsBgColorRx")["$=~"](w("::","Pygments").$css(".pygments",S(["style"],{style:O(r=t)?r:E(v,"DEFAULT_PYGMENTS_STYLE")}))):e)?(e=R["~"])===k?k:e["$[]"](1):k},h.$$arity=-1),x.def(g,"$pygments_stylesheet_data",f=function(t){var e,r,n,i,$=k;return null==t&&(t=k),O(this.$load_pygments())?(t=O(e=t)?e:E(v,"DEFAULT_PYGMENTS_STYLE"),O(e=(this.pygments_stylesheet_data=O(r=this.pygments_stylesheet_data)?r:S([],{}))["$[]"](t))?e:($=[t,(O(r=w("::","Pygments").$css(".listingblock .pygments",S(["classprefix","style"],{classprefix:"tok-",style:t})))?r:"/* Failed to load Pygments CSS. */").$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")],C(this.pygments_stylesheet_data=O(r=this.pygments_stylesheet_data)?r:S([],{}),"[]=",x.to_a($)),$[(n=$.length,i=1,"number"==typeof n&&"number"==typeof i?n-i:n["$-"](i))])):"/* Pygments CSS disabled. Pygments is not available. */"},f.$$arity=-1),x.def(g,"$embed_pygments_stylesheet",p=function(t){return null==t&&(t=k),"<style>\n"+this.$pygments_stylesheet_data(t)+"\n</style>"},p.$$arity=-1),x.def(g,"$write_pygments_stylesheet",m=function(t,e){return null==t&&(t="."),null==e&&(e=k),w("::","IO").$write(w("::","File").$join(t,this.$pygments_stylesheet_name(e)),this.$pygments_stylesheet_data(e))},m.$$arity=-1),x.def(g,"$load_pygments",y=function(){return!!O(w("::","Pygments","skip_raise")?"constant":k)||E(v,"Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]()},y.$$arity=0)}(i[0],0,i)}(t[0],t)},Opal.modules["asciidoctor/table"]=function(A){function O(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function x(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function S(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function _(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function d(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function R(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}A.top;var t=[],C=A.nil,T=A.const_get_qualified,M=A.const_get_relative,$=(A.breaker,A.slice,A.module),I=A.klass,N=A.send,P=A.truthy,z=A.hash2,k=A.gvars;return A.add_stubs(["$attr_accessor","$attr_reader","$new","$key?","$[]","$>","$to_i","$<","$==","$[]=","$-","$attributes","$round","$*","$/","$to_f","$empty?","$body","$each","$<<","$size","$+","$assign_column_widths","$warn","$logger","$update_attributes","$assign_width","$shift","$style=","$head=","$pop","$foot=","$parent","$sourcemap","$dup","$header_row?","$table","$delete","$start_with?","$rstrip","$slice","$length","$advance","$lstrip","$strip","$split","$include?","$readlines","$unshift","$nil?","$=~","$catalog_inline_anchor","$apply_subs","$convert","$map","$text","$!","$file","$lineno","$to_s","$include","$to_set","$mark","$nested?","$document","$error","$message_with_context","$cursor_at_prev_line","$nil_or_empty?","$escape","$columns","$match","$chop","$end_with?","$gsub","$push_cellspec","$cell_open?","$close_cell","$take_cellspec","$squeeze","$upto","$times","$cursor_before_mark","$rowspan","$activate_rowspan","$colspan","$end_of_row?","$!=","$close_row","$rows","$effective_column_visits"]),function(t,e){function r(){}var n=r=$(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var l,i,$,a,s,o=n=I(t,e,"Table",n),c=o.prototype,u=[o].concat(r);c.attributes=c.document=c.has_header_option=c.rows=c.columns=C,A.const_set(u[0],"DEFAULT_PRECISION_FACTOR",1e4),function(t,e,r){function n(){}var i,$,a=n=I(t,null,"Rows",n),s=a.prototype;[a].concat(r);s.head=s.body=s.foot=C,a.$attr_accessor("head","foot","body"),A.def(a,"$initialize",i=function(t,e,r){return null==t&&(t=[]),null==e&&(e=[]),null==r&&(r=[]),this.head=t,this.foot=e,this.body=r},i.$$arity=-1),A.alias(a,"[]","send"),A.def(a,"$by_section",$=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]},$.$$arity=0)}(u[0],0,u),o.$attr_accessor("columns"),o.$attr_accessor("rows"),o.$attr_accessor("has_header_option"),o.$attr_reader("caption"),A.def(o,"$initialize",l=function(t,e){var r,n,i=l.$$p,$=this,a=C,s=C,o=C;return i&&(l.$$p=null),N($,A.find_super_dispatcher($,"initialize",l,!1),[t,"table"],null),$.rows=M(u,"Rows").$new(),$.columns=[],$.has_header_option=e["$key?"]("header-option"),P(a=e["$[]"]("width"))?P(P(r=O(s=a.$to_i(),100))?r:x(s,1))&&(P((r=s["$=="](0))?P(n=a["$=="]("0"))?n:a["$=="]("0%"):s["$=="](0))||(s=100)):s=100,o=["tablepcwidth",s],N($.attributes,"[]=",A.to_a(o)),o[S(o.length,1)],P($.document.$attributes()["$key?"]("pagewidth"))&&(P(r=$.attributes["$[]"]("tableabswidth"))||(o=["tableabswidth",_(d($.attributes["$[]"]("tablepcwidth").$to_f(),100),$.document.$attributes()["$[]"]("pagewidth")).$round()],N($.attributes,"[]=",A.to_a(o)),o[S(o.length,1)])),P(e["$key?"]("rotate-option"))?(o=["orientation","landscape"],N(e,"[]=",A.to_a(o)),o[S(o.length,1)]):C},l.$$arity=2),A.def(o,"$header_row?",i=function(){var t;return P(t=this.has_header_option)?this.rows.$body()["$empty?"]():t},i.$$arity=0),A.def(o,"$create_columns",$=function(t){var i,e,$=C,a=C,s=C,r=C,n=C;return $=[],a=C,s=0,N(t,"each",[],((i=function(t){var e,r=i.$$s||this,n=C;return null==t&&(t=C),n=t["$[]"]("width"),$["$<<"](M(u,"Column").$new(r,$.$size(),t)),P(x(n,0))?(a=P(e=a)?e:[])["$<<"]($["$[]"](-1)):s=R(s,n)}).$$s=this,i.$$arity=1,i)),P(O(r=(this.columns=$).$size(),0))&&(n=["colcount",r],N(this.attributes,"[]=",A.to_a(n)),n[S(n.length,1)],P(P(e=O(s,0))?e:a)||(s=C),this.$assign_column_widths(s,a)),C},$.$$arity=1),A.def(o,"$assign_column_widths",a=function(e,t){var r,n,i,$=C,a=C,s=C,o=C,l=C;return null==e&&(e=C),null==t&&(t=C),$=M(u,"DEFAULT_PRECISION_FACTOR"),a=s=0,P(e)?(P(t)&&(P(O(e,100))?(o=0,this.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+e+"%")):((o=d(_(d(S(100,e),t.$size()),$).$to_i(),$)).$to_i()["$=="](o)&&(o=o.$to_i()),e=100),l=z(["width","autowidth-option"],{width:o,"autowidth-option":""}),N(t,"each",[],((r=function(t){r.$$s;return null==t&&(t=C),t.$update_attributes(l)}).$$s=this,r.$$arity=1,r))),N(this.columns,"each",[],((n=function(t){n.$$s;return null==t&&(t=C),a=R(a,s=t.$assign_width(C,e,$))}).$$s=this,n.$$arity=1,n))):((s=d(d(_(100,$),this.columns.$size()).$to_i(),$)).$to_i()["$=="](s)&&(s=s.$to_i()),N(this.columns,"each",[],((i=function(t){i.$$s;return null==t&&(t=C),a=R(a,t.$assign_width(s))}).$$s=this,i.$$arity=1,i))),a["$=="](100)||this.columns["$[]"](-1).$assign_width(d(_(R(S(100,a),s),$).$round(),$)),C},a.$$arity=-1),A.def(o,"$partition_header_footer",s=function(t){var e,r,n=C,i=C,$=C;return n=["rowcount",this.rows.$body().$size()],N(this.attributes,"[]=",A.to_a(n)),n[S(n.length,1)],i=this.rows.$body().$size(),P(P(e=O(i,0))?this.has_header_option:e)&&($=this.rows.$body().$shift(),i=S(i,1),N($,"each",[],((r=function(t){r.$$s;return null==t&&(t=C),n=[C],N(t,"style=",A.to_a(n)),n[S(n.length,1)]}).$$s=this,r.$$arity=1,r)),n=[[$]],N(this.rows,"head=",A.to_a(n)),n[S(n.length,1)]),P(P(e=O(i,0))?t["$key?"]("footer-option"):e)&&(n=[[this.rows.$body().$pop()]],N(this.rows,"foot=",A.to_a(n)),n[S(n.length,1)]),C},s.$$arity=1)}(i[0],M(i,"AbstractBlock"),i),function(t,e,r){function n(){}var $,i,a=n=I(t,e,"Column",n),s=a.prototype;[a].concat(r);s.attributes=C,a.$attr_accessor("style"),A.def(a,"$initialize",$=function(t,e,r){var n=$.$$p,i=C;return n&&($.$$p=null),null==r&&(r=z([],{})),N(this,A.find_super_dispatcher(this,"initialize",$,!1),[t,"column"],null),this.style=r["$[]"]("style"),i=["colnumber",R(e,1)],N(r,"[]=",A.to_a(i)),i[S(i.length,1)],P(r["$[]"]("width"))||(i=["width",1],N(r,"[]=",A.to_a(i)),i[S(i.length,1)]),P(r["$[]"]("halign"))||(i=["halign","left"],N(r,"[]=",A.to_a(i)),i[S(i.length,1)]),P(r["$[]"]("valign"))||(i=["valign","top"],N(r,"[]=",A.to_a(i)),i[S(i.length,1)]),this.$update_attributes(r)},$.$$arity=-3),A.alias(a,"table","parent"),A.def(a,"$assign_width",i=function(t,e,r){var n=C;return null==e&&(e=C),null==r&&(r=1e4),P(e)&&(t=d(_(_(d(this.attributes["$[]"]("width").$to_f(),e),100),r).$to_i(),r)).$to_i()["$=="](t)&&(t=t.$to_i()),n=["colpcwidth",t],N(this.attributes,"[]=",A.to_a(n)),n[S(n.length,1)],P(this.$parent().$attributes()["$key?"]("tableabswidth"))&&(n=["colabswidth",_(d(t,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round()],N(this.attributes,"[]=",A.to_a(n)),n[S(n.length,1)]),t},i.$$arity=-2)}(M(i,"Table"),M(i,"AbstractNode"),i),function(t,e,r){function n(){}var b,i,$,a,s,o,l,c=n=I(t,e,"Cell",n),u=c.prototype,v=[c].concat(r);u.document=u.text=u.subs=u.style=u.inner_document=u.source_location=u.colspan=u.rowspan=u.attributes=C,c.$attr_reader("source_location"),c.$attr_accessor("style"),c.$attr_accessor("subs"),c.$attr_accessor("colspan"),c.$attr_accessor("rowspan"),A.alias(c,"column","parent"),c.$attr_reader("inner_document"),A.def(c,"$initialize",b=function(t,e,r,n){var i,$,a=b.$$p,s=this,o=C,l=C,c=C,u=C,_=C,d=C,h=C,f=C,p=C,m=C,y=C,g=C;if(a&&(b.$$p=null),null==r&&(r=z([],{})),null==n&&(n=z([],{})),N(s,A.find_super_dispatcher(s,"initialize",b,!1),[t,"cell"],null),P(s.document.$sourcemap())&&(s.source_location=n["$[]"]("cursor").$dup()),P(t)&&(P(o=t.$table()["$header_row?"]())||(l=t.$attributes()["$[]"]("style")),s.$update_attributes(t.$attributes())),P(r))if(P(r["$empty?"]())?s.colspan=s.rowspan=C:(i=[r.$delete("colspan"),r.$delete("rowspan")],s.colspan=i[0],s.rowspan=i[1],P(o)||(l=P(i=r["$[]"]("style"))?i:l),s.$update_attributes(r)),l["$=="]("asciidoc"))if(c=!0,u=n["$[]"]("cursor"),P((e=e.$rstrip())["$start_with?"](M(v,"LF")))){for(_=1;P((e=e.$slice(1,e.$length()))["$start_with?"](M(v,"LF")));)_=R(_,1);u.$advance(_)}else e=e.$lstrip();else if(P(P(i=d=l["$=="]("literal"))?i:l["$=="]("verse")))for(e=e.$rstrip();P(e["$start_with?"](M(v,"LF")));)e=e.$slice(1,e.$length());else h=!0,e=P(e)?e.$strip():"";else s.colspan=s.rowspan=C,l["$=="]("asciidoc")&&(c=!0,u=n["$[]"]("cursor"));return P(c)?(f=s.document.$attributes().$delete("doctitle"),p=e.$split(M(v,"LF"),-1),P(p["$empty?"]())||P((m=p["$[]"](0))["$include?"]("::"))&&(y=M(v,"PreprocessorReader").$new(s.document,[m]).$readlines(),P((i=m["$=="](y["$[]"](0)))?x(y.$size(),2):m["$=="](y["$[]"](0)))||(p.$shift(),P(y["$empty?"]())||N(p,"unshift",A.to_a(y)))),s.inner_document=M(v,"Document").$new(p,z(["header_footer","parent","cursor"],{header_footer:!1,parent:s.document,cursor:u})),P(f["$nil?"]())||(g=["doctitle",f],N(s.document.$attributes(),"[]=",A.to_a(g)),g[S(g.length,1)]),s.subs=C):P(d)?s.subs=M(v,"BASIC_SUBS"):(P(P(i=P($=h)?e["$start_with?"]("[["):$)?M(v,"LeadingInlineAnchorRx")["$=~"](e):i)&&M(v,"Parser").$catalog_inline_anchor((i=k["~"])===C?C:i["$[]"](1),(i=k["~"])===C?C:i["$[]"](2),s,n["$[]"]("cursor"),s.document),s.subs=M(v,"NORMAL_SUBS")),s.text=e,s.style=l},b.$$arity=-3),A.def(c,"$text",i=function(){return this.$apply_subs(this.text,this.subs)},i.$$arity=0),A.def(c,"$text=",$=function(t){return this.text=t},$.$$arity=1),A.def(c,"$content",a=function(){var n;return this.style["$=="]("asciidoc")?this.inner_document.$convert():N(this.$text().$split(M(v,"BlankLineRx")),"map",[],((n=function(t){var e,r=n.$$s||this;return null==r.style&&(r.style=C),null==t&&(t=C),P(P(e=r.style["$!"]())?e:r.style["$=="]("header"))?t:M(v,"Inline").$new(r.$parent(),"quoted",t,z(["type"],{type:r.style})).$convert()}).$$s=this,n.$$arity=1,n))},a.$$arity=0),A.def(c,"$file",s=function(){var t;return P(t=this.source_location)?this.source_location.$file():t},s.$$arity=0),A.def(c,"$lineno",o=function(){var t;return P(t=this.source_location)?this.source_location.$lineno():t},o.$$arity=0),A.def(c,"$to_s",l=function(){var t,e=l.$$p,r=C,n=C,i=C;for(e&&(l.$$p=null),n=0,i=arguments.length,r=new Array(i);n<i;n++)r[n]=arguments[n];return N(this,A.find_super_dispatcher(this,"to_s",l,!1),r,e).$to_s()+" - [text: "+this.text+", colspan: "+(P(t=this.colspan)?t:1)+", rowspan: "+(P(t=this.rowspan)?t:1)+", attributes: "+this.attributes+"]"},l.$$arity=0)}(M(i,"Table"),M(i,"AbstractNode"),i),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k=n=I(t,null,"ParserContext",n),w=k.prototype,E=[k].concat(r);w.delimiter=w.delimiter_re=w.buffer=w.cellspecs=w.cell_open=w.format=w.start_cursor_data=w.reader=w.table=w.current_row=w.colcount=w.column_visits=w.active_rowspans=w.linenum=C,k.$include(M(E,"Logging")),A.const_set(E[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set()),A.const_set(E[0],"DELIMITERS",z(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]})),k.$attr_accessor("table"),k.$attr_accessor("format"),k.$attr_reader("colcount"),k.$attr_accessor("buffer"),k.$attr_reader("delimiter"),k.$attr_reader("delimiter_re"),A.def(k,"$initialize",i=function(t,e,r){var n,i,$=this,a=C,s=C;return null==r&&(r=z([],{})),$.start_cursor_data=($.reader=t).$mark(),$.table=e,P(r["$key?"]("format"))?P(M(E,"FORMATS")["$include?"](a=r["$[]"]("format")))?a["$=="]("tsv")?$.format="csv":P((n=($.format=a)["$=="]("psv"))?e.$document()["$nested?"]():($.format=a)["$=="]("psv"))&&(a="!sv"):($.$logger().$error($.$message_with_context("illegal table format: "+a,z(["source_location"],{source_location:t.$cursor_at_prev_line()}))),n=["psv",P(e.$document()["$nested?"]())?"!sv":"psv"],$.format=n[0],a=n[1]):(n=["psv",P(e.$document()["$nested?"]())?"!sv":"psv"],$.format=n[0],a=n[1]),P(r["$key?"]("separator"))?P((s=r["$[]"]("separator"))["$nil_or_empty?"]())?(i=M(E,"DELIMITERS")["$[]"](a),n=A.to_ary(i),$.delimiter=null==n[0]?C:n[0],$.delimiter_re=null==n[1]?C:n[1]):s["$=="]("\\t")?(i=M(E,"DELIMITERS")["$[]"]("tsv"),n=A.to_ary(i),$.delimiter=null==n[0]?C:n[0],$.delimiter_re=null==n[1]?C:n[1]):(n=[s,new RegExp(T("::","Regexp").$escape(s))],$.delimiter=n[0],$.delimiter_re=n[1]):(i=M(E,"DELIMITERS")["$[]"](a),n=A.to_ary(i),$.delimiter=null==n[0]?C:n[0],$.delimiter_re=null==n[1]?C:n[1]),$.colcount=P(e.$columns()["$empty?"]())?-1:e.$columns().$size(),$.buffer="",$.cellspecs=[],$.cell_open=!1,$.active_rowspans=[0],$.column_visits=0,$.current_row=[],$.linenum=-1},i.$$arity=-3),A.def(k,"$starts_with_delimiter?",$=function(t){return t["$start_with?"](this.delimiter)},$.$$arity=1),A.def(k,"$match_delimiter",a=function(t){return this.delimiter_re.$match(t)},a.$$arity=1),A.def(k,"$skip_past_delimiter",s=function(t){return this.buffer=""+this.buffer+t+this.delimiter,C},s.$$arity=1),A.def(k,"$skip_past_escaped_delimiter",o=function(t){return this.buffer=""+this.buffer+t.$chop()+this.delimiter,C},o.$$arity=1),A.def(k,"$buffer_has_unclosed_quotes?",l=function(t){var e,r,n=this,i=C,$=C;return null==t&&(t=C),!!(i=P(t)?R(n.buffer,t).$strip():n.buffer.$strip())["$=="]('"')||!!P(i["$start_with?"]('"'))&&(P(P(e=P(r=$=i["$end_with?"]('"'))?i["$end_with?"]('""'):r)?e:i["$start_with?"]('""'))?P(e=(i=i.$gsub('""',""))["$start_with?"]('"'))?i["$end_with?"]('"')["$!"]():e:$["$!"]())},l.$$arity=-1),A.def(k,"$take_cellspec",c=function(){return this.cellspecs.$shift()},c.$$arity=0),A.def(k,"$push_cellspec",u=function(t){var e;return null==t&&(t=z([],{})),this.cellspecs["$<<"](P(e=t)?e:z([],{})),C},u.$$arity=-1),A.def(k,"$keep_cell_open",_=function(){return this.cell_open=!0,C},_.$$arity=0),A.def(k,"$mark_cell_closed",d=function(){return this.cell_open=!1,C},d.$$arity=0),A.def(k,"$cell_open?",h=function(){return this.cell_open},h.$$arity=0),A.def(k,"$cell_closed?",f=function(){return this.cell_open["$!"]()},f.$$arity=0),A.def(k,"$close_open_cell",p=function(t){return null==t&&(t=z([],{})),this.$push_cellspec(t),P(this["$cell_open?"]())&&this.$close_cell(!0),this.$advance(),C},p.$$arity=-1),A.def(k,"$close_cell",m=function(c){try{var t,u,e=this,_=C,d=C,h=C;return null==c&&(c=!1),e.format["$=="]("psv")?(_=e.buffer,e.buffer="",h=P(d=e.$take_cellspec())?P(t=d.$delete("repeatcol"))?t:1:(e.$logger().$error(e.$message_with_context("table missing leading separator; recovering automatically",z(["source_location"],{source_location:N(T(M(E,"Reader"),"Cursor"),"new",A.to_a(e.start_cursor_data))}))),d=z([],{}),1)):(_=e.buffer.$strip(),e.buffer="",d=C,h=1,P(P(t=e.format["$=="]("csv")?_["$empty?"]()["$!"]():e.format["$=="]("csv"))?_["$include?"]('"'):t)&&(_=P(P(t=_["$start_with?"]('"'))?_["$end_with?"]('"'):t)?P(_=_.$slice(1,S(_.$length(),2)))?_.$strip().$squeeze('"'):(e.$logger().$error(e.$message_with_context("unclosed quote in CSV data; setting cell to empty",z(["source_location"],{source_location:e.reader.$cursor_at_prev_line()}))),""):_.$squeeze('"'))),N(1,"upto",[h],((u=function(t){var e,r,n,i,$=u.$$s||this,a=C,s=C,o=C,l=C;return null==$.colcount&&($.colcount=C),null==$.table&&($.table=C),null==$.current_row&&($.current_row=C),null==$.reader&&($.reader=C),null==$.column_visits&&($.column_visits=C),null==$.linenum&&($.linenum=C),null==t&&(t=C),$.colcount["$=="](-1)?($.table.$columns()["$<<"](a=T(M(E,"Table"),"Column").$new($.table,S(R($.table.$columns().$size(),t),1))),P(P(e=P(r=d)?d["$key?"]("colspan"):r)?O(s=S(d["$[]"]("colspan").$to_i(),1),0):e)&&(o=$.table.$columns().$size(),N(s,"times",[],((n=function(t){var e=n.$$s||this;return null==e.table&&(e.table=C),null==t&&(t=C),e.table.$columns()["$<<"](T(M(E,"Table"),"Column").$new(e.table,R(o,t)))}).$$s=$,n.$$arity=1,n)))):P(a=$.table.$columns()["$[]"]($.current_row.$size()))||($.$logger().$error($.$message_with_context("dropping cell because it exceeds specified number of columns",z(["source_location"],{source_location:$.reader.$cursor_before_mark()}))),A.ret(C)),l=T(M(E,"Table"),"Cell").$new(a,_,d,z(["cursor"],{cursor:$.reader.$cursor_before_mark()})),$.reader.$mark(),P(P(e=l.$rowspan()["$!"]())?e:l.$rowspan()["$=="](1))||$.$activate_rowspan(l.$rowspan(),P(e=l.$colspan())?e:1),$.column_visits=R($.column_visits,P(e=l.$colspan())?e:1),$.current_row["$<<"](l),P(P(e=$["$end_of_row?"]())?P(r=P(i=$.colcount["$!="](-1))?i:O($.linenum,0))?r:P(i=c)?t["$=="](h):i:e)?$.$close_row():C}).$$s=e,u.$$arity=1,u)),e.cell_open=!1,C}catch(t){if(t===A.returner)return t.$v;throw t}},m.$$arity=-1),A.def(k,"$close_row",y=function(){var t=this,e=C;return t.table.$rows().$body()["$<<"](t.current_row),t.colcount["$=="](-1)&&(t.colcount=t.column_visits),t.column_visits=0,t.current_row=[],t.active_rowspans.$shift(),P(t.active_rowspans["$[]"](0))||(e=[0,0],N(t.active_rowspans,"[]=",A.to_a(e)),e[S(e.length,1)]),C},y.$$arity=0),A.def(k,"$activate_rowspan",g=function(t,i){var $;return N(1..$upto(S(t,1)),"each",[],(($=function(t){var e,r=$.$$s||this,n=C;return null==r.active_rowspans&&(r.active_rowspans=C),null==t&&(t=C),n=[t,R(P(e=r.active_rowspans["$[]"](t))?e:0,i)],N(r.active_rowspans,"[]=",A.to_a(n)),n[S(n.length,1)]}).$$s=this,$.$$arity=1,$)),C},g.$$arity=2),A.def(k,"$end_of_row?",b=function(){var t;return P(t=this.colcount["$=="](-1))?t:this.$effective_column_visits()["$=="](this.colcount)},b.$$arity=0),A.def(k,"$effective_column_visits",v=function(){return R(this.column_visits,this.active_rowspans["$[]"](0))},v.$$arity=0),A.def(k,"$advance",x=function(){return this.linenum=R(this.linenum,1)},x.$$arity=0)}(M(i,"Table"),0,i)}(t[0],t)},Opal.modules["asciidoctor/converter/composite"]=function(c){c.top;var t=[],u=c.nil,$=c.const_get_qualified,a=c.const_get_relative,s=(c.breaker,c.slice,c.module),_=c.klass,d=c.send,h=c.truthy,f=c.hash2;return c.add_stubs(["$attr_reader","$each","$compact","$flatten","$respond_to?","$composed","$node_name","$convert","$converter_for","$[]","$find_converter","$[]=","$-","$handles?","$raise"]),function(t,e){function r(){}var n=r=s(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var i,$,a,s,o=n=_(t,e,"CompositeConverter",n),l=o.prototype;[o].concat(r);l.converter_map=l.converters=u,o.$attr_reader("converters"),c.def(o,"$initialize",i=function(t,e){var r,n,i;return r=c.slice.call(arguments,1,arguments.length),n=r,this.backend=t,d(this.converters=n.$flatten().$compact(),"each",[],((i=function(t){var e=i.$$s||this;return null==t&&(t=u),h(t["$respond_to?"]("composed"))?t.$composed(e):u}).$$s=this,i.$$arity=1,i)),this.converter_map=f([],{})},i.$$arity=-2),c.def(o,"$convert",$=function(t,e,r){var n;return null==e&&(e=u),null==r&&(r=f([],{})),e=h(n=e)?n:t.$node_name(),this.$converter_for(e).$convert(t,e,r)},$.$$arity=-2),c.alias(o,"convert_with_options","convert"),c.def(o,"$converter_for",a=function(t){var e,r,n,i=u;return h(e=this.converter_map["$[]"](t))?e:(i=[t,this.$find_converter(t)],d(this.converter_map,"[]=",c.to_a(i)),i[(r=i.length,n=1,"number"==typeof r&&"number"==typeof n?r-n:r["$-"](n))])},a.$$arity=1),c.def(o,"$find_converter",s=function(e){try{var r;return d(this.converters,"each",[],((r=function(t){r.$$s;if(null==t&&(t=u),!h(t["$handles?"](e)))return u;c.ret(t)}).$$s=this,r.$$arity=1,r)),this.$raise("Could not find a converter to handle transform: "+e)}catch(t){if(t===c.returner)return t.$v;throw t}},s.$$arity=1)}(a(i,"Converter"),$(a(i,"Converter"),"Base"),i)}(t[0],t)},Opal.modules["asciidoctor/converter/html5"]=function(Q){function tt(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function et(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function rt(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function nt(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}Q.top;var t=[],it=Q.nil,$t=Q.const_get_qualified,at=Q.const_get_relative,$=(Q.breaker,Q.slice,Q.module),st=Q.klass,ot=Q.send,lt=Q.hash2,ct=Q.truthy,ut=Q.gvars;return Q.add_stubs(["$default=","$-","$==","$[]","$instance","$empty?","$attr","$attr?","$<<","$include?","$gsub","$extname","$slice","$length","$doctitle","$normalize_web_path","$embed_primary_stylesheet","$read_asset","$normalize_system_path","$===","$coderay_stylesheet_name","$embed_coderay_stylesheet","$pygments_stylesheet_name","$embed_pygments_stylesheet","$docinfo","$id","$sections?","$doctype","$join","$noheader","$outline","$generate_manname_section","$has_header?","$notitle","$title","$header","$each","$authors","$>","$name","$email","$sub_macros","$+","$downcase","$concat","$content","$footnotes?","$!","$footnotes","$index","$text","$nofooter","$inspect","$!=","$to_i","$attributes","$document","$sections","$level","$caption","$captioned_title","$numbered","$<=","$<","$sectname","$sectnum","$role","$title?","$icon_uri","$compact","$media_uri","$option?","$append_boolean_attribute","$style","$items","$blocks?","$text?","$chomp","$safe","$read_svg_contents","$alt","$image_uri","$encode_quotes","$append_link_constraint_attrs","$pygments_background","$to_sym","$*","$count","$start_with?","$end_with?","$list_marker_keyword","$parent","$warn","$logger","$context","$error","$new","$size","$columns","$by_section","$rows","$colspan","$rowspan","$role?","$unshift","$shift","$split","$nil_or_empty?","$type","$catalog","$xreftext","$target","$map","$chop","$upcase","$read_contents","$sub","$match"]),function(t,e){function r(){}var n=r=$(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k,w,E,A,O,S,R,C,T,M,I,N,P,z,L,D,F,B,q,j,U,H,Y,G,W,X,V=n=st(t,e,"Html5Converter",n),K=V.prototype,J=[V].concat(r),Z=it;K.xml_mode=K.void_element_slash=K.stylesheets=K.pygments_bg=K.refs=it,Z=[["","",!1]],ot(Q.const_set(J[0],"QUOTE_TAGS",lt(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),"default=",Q.to_a(Z)),X=1,"number"==typeof(W=Z.length)&&"number"==typeof X||W["$-"](X),Q.const_set(J[0],"DropAnchorRx",/<(?:a[^>+]+|\/a)>/),Q.const_set(J[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/),Q.const_set(J[0],"SvgPreambleRx",/^.*?(?=<svg\b)/m),Q.const_set(J[0],"SvgStartTagRx",/^<svg[^>]*>/),Q.const_set(J[0],"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/),Q.def(V,"$initialize",i=function(t,e){var r=this;return null==e&&(e=lt([],{})),r.xml_mode=e["$[]"]("htmlsyntax")["$=="]("xml"),r.void_element_slash=ct(r.xml_mode)?"/":it,r.stylesheets=at(J,"Stylesheets").$instance()},i.$$arity=-2),Q.def(V,"$document",$=function(e){var t,r,n,i,$,a=this,s=it,o=it,l=it,c=it,u=it,_=it,d=it,h=it,f=it,p=it,m=it,y=it,g=it,b=it,v=it,x=it,k=it,w=it,E=it,A=it,O=it,S=it,R=it,C=it,T=it,M=it;return s=a.void_element_slash,o="<br"+s+">",ct((l=e.$attr("asset-uri-scheme","https"))["$empty?"]())||(l+=":"),c=l+"//cdnjs.cloudflare.com/ajax/libs",u=e["$attr?"]("linkcss"),_=["<!DOCTYPE html>"],d=ct(e["$attr?"]("nolang"))?"":' lang="'+e.$attr("lang","en")+'"',_["$<<"]("<html"+(ct(a.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+d+">"),_["$<<"]('<head>\n<meta charset="'+e.$attr("encoding","UTF-8")+'"'+s+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+s+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+s+'>\n<meta name="generator" content="Asciidoctor '+e.$attr("asciidoctor-version")+'"'+s+">"),ct(e["$attr?"]("app-name"))&&_["$<<"]('<meta name="application-name" content="'+e.$attr("app-name")+'"'+s+">"),ct(e["$attr?"]("description"))&&_["$<<"]('<meta name="description" content="'+e.$attr("description")+'"'+s+">"),ct(e["$attr?"]("keywords"))&&_["$<<"]('<meta name="keywords" content="'+e.$attr("keywords")+'"'+s+">"),ct(e["$attr?"]("authors"))&&_["$<<"]('<meta name="author" content="'+(ct((h=e.$attr("authors"))["$include?"]("<"))?h.$gsub(at(J,"XmlSanitizeRx"),""):h)+'"'+s+">"),ct(e["$attr?"]("copyright"))&&_["$<<"]('<meta name="copyright" content="'+e.$attr("copyright")+'"'+s+">"),ct(e["$attr?"]("favicon"))&&(p=ct((f=e.$attr("favicon"))["$empty?"]())?(f=(t=["favicon.ico","image/x-icon"])[0],t[1]):(m=$t("::","File").$extname(f))["$=="](".ico")?"image/x-icon":"image/"+m.$slice(1,m.$length()),_["$<<"]('<link rel="icon" type="'+p+'" href="'+f+'"'+s+">")),_["$<<"]("<title>"+e.$doctitle(lt(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),ct(at(J,"DEFAULT_STYLESHEET_KEYS")["$include?"](e.$attr("stylesheet")))?(ct(y=e.$attr("webfonts"))&&_["$<<"]('<link rel="stylesheet" href="'+l+"//fonts.googleapis.com/css?family="+(ct(y["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":y)+'"'+s+">"),ct(u)?_["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(at(J,"DEFAULT_STYLESHEET_NAME"),e.$attr("stylesdir",""),!1)+'"'+s+">"):_["$<<"](a.stylesheets.$embed_primary_stylesheet())):ct(e["$attr?"]("stylesheet"))&&(ct(u)?_["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(e.$attr("stylesheet"),e.$attr("stylesdir",""))+'"'+s+">"):_["$<<"]("<style>\n"+e.$read_asset(e.$normalize_system_path(e.$attr("stylesheet"),e.$attr("stylesdir","")),lt(["warn_on_failure","label"],{warn_on_failure:!0,label:"stylesheet"}))+"\n</style>")),ct(e["$attr?"]("icons","font"))&&(ct(e["$attr?"]("iconfont-remote"))?_["$<<"]('<link rel="stylesheet" href="'+e.$attr("iconfont-cdn",c+"/font-awesome/"+at(J,"FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+s+">"):(g=e.$attr("iconfont-name","font-awesome")+".css",_["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(g,e.$attr("stylesdir",""),!1)+'"'+s+">"))),b=v=e.$attr("source-highlighter"),"coderay"["$==="](b)?e.$attr("coderay-css","class")["$=="]("class")&&(ct(u)?_["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(a.stylesheets.$coderay_stylesheet_name(),e.$attr("stylesdir",""),!1)+'"'+s+">"):_["$<<"](a.stylesheets.$embed_coderay_stylesheet())):"pygments"["$==="](b)&&e.$attr("pygments-css","class")["$=="]("class")&&(x=e.$attr("pygments-style"),ct(u)?_["$<<"]('<link rel="stylesheet" href="'+e.$normalize_web_path(a.stylesheets.$pygments_stylesheet_name(x),e.$attr("stylesdir",""),!1)+'"'+s+">"):_["$<<"](a.stylesheets.$embed_pygments_stylesheet(x))),ct((k=e.$docinfo())["$empty?"]())||_["$<<"](k),_["$<<"]("</head>"),w=ct(e.$id())?['id="'+e.$id()+'"']:[],A=ct(ct(t=ct(r=ct(n=E=e["$sections?"]())?e["$attr?"]("toc-class"):n)?e["$attr?"]("toc"):r)?e["$attr?"]("toc-placement","auto"):t)?[e.$doctype(),e.$attr("toc-class"),"toc-"+e.$attr("toc-position","header")]:[e.$doctype()],ct(e["$attr?"]("docrole"))&&A["$<<"](e.$attr("docrole")),w["$<<"]('class="'+A.$join(" ")+'"'),ct(e["$attr?"]("max-width"))&&w["$<<"]('style="max-width: '+e.$attr("max-width")+';"'),_["$<<"]("<body "+w.$join(" ")+">"),ct(e.$noheader())||(_["$<<"]('<div id="header">'),e.$doctype()["$=="]("manpage")?(_["$<<"]("<h1>"+e.$doctitle()+" Manual Page</h1>"),ct(ct(t=ct(r=E)?e["$attr?"]("toc"):r)?e["$attr?"]("toc-placement","auto"):t)&&_["$<<"]('<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+a.$outline(e)+"\n</div>"),ct(e["$attr?"]("manpurpose"))&&_["$<<"](a.$generate_manname_section(e))):(ct(e["$has_header?"]())&&(ct(e.$notitle())||_["$<<"]("<h1>"+e.$header().$title()+"</h1>"),O=[],S=1,ot(e.$authors(),"each",[],((i=function(t){i.$$s;return null==t&&(t=it),O["$<<"]('<span id="author'+(ct(tt(S,1))?S:"")+'" class="author">'+t.$name()+"</span>"+o),ct(t.$email())&&O["$<<"]('<span id="email'+(ct(tt(S,1))?S:"")+'" class="email">'+e.$sub_macros(t.$email())+"</span>"+o),S=et(S,1)}).$$s=a,i.$$arity=1,i)),ct(e["$attr?"]("revnumber"))&&O["$<<"]('<span id="revnumber">'+(ct(t=e.$attr("version-label"))?t:"").$downcase()+" "+e.$attr("revnumber")+(ct(e["$attr?"]("revdate"))?",":"")+"</span>"),ct(e["$attr?"]("revdate"))&&O["$<<"]('<span id="revdate">'+e.$attr("revdate")+"</span>"),ct(e["$attr?"]("revremark"))&&O["$<<"](o+'<span id="revremark">'+e.$attr("revremark")+"</span>"),ct(O["$empty?"]())||(_["$<<"]('<div class="details">'),_.$concat(O),_["$<<"]("</div>"))),ct(ct(t=ct(r=E)?e["$attr?"]("toc"):r)?e["$attr?"]("toc-placement","auto"):t)&&_["$<<"]('<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+a.$outline(e)+"\n</div>")),_["$<<"]("</div>")),_["$<<"]('<div id="content">\n'+e.$content()+"\n</div>"),ct(ct(t=e["$footnotes?"]())?e["$attr?"]("nofootnotes")["$!"]():t)&&(_["$<<"]('<div id="footnotes">\n<hr'+s+">"),ot(e.$footnotes(),"each",[],(($=function(t){$.$$s;return null==t&&(t=it),_["$<<"]('<div class="footnote" id="_footnotedef_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")}).$$s=a,$.$$arity=1,$)),_["$<<"]("</div>")),ct(e.$nofooter())||(_["$<<"]('<div id="footer">'),_["$<<"]('<div id="footer-text">'),ct(e["$attr?"]("revnumber"))&&_["$<<"](e.$attr("version-label")+" "+e.$attr("revnumber")+o),ct(ct(t=e["$attr?"]("last-update-label"))?e["$attr?"]("reproducible")["$!"]():t)&&_["$<<"](e.$attr("last-update-label")+" "+e.$attr("docdatetime")),_["$<<"]("</div>"),_["$<<"]("</div>")),ct((k=e.$docinfo("footer"))["$empty?"]())||_["$<<"](k),"highlightjs"["$==="](b=v)||"highlight.js"["$==="](b)?(R=e.$attr("highlightjsdir",c+"/highlight.js/9.13.1"),_["$<<"]('<link rel="stylesheet" href="'+R+"/styles/"+e.$attr("highlightjs-theme","github")+'.min.css"'+s+">"),_["$<<"]('<script src="'+R+'/highlight.min.js"><\/script>\n<script>hljs.initHighlighting()<\/script>')):"prettify"["$==="](b)&&(C=e.$attr("prettifydir",c+"/prettify/r298"),_["$<<"]('<link rel="stylesheet" href="'+C+"/"+e.$attr("prettify-theme","prettify")+'.min.css"'+s+">"),_["$<<"]('<script src="'+C+'/prettify.min.js"><\/script>\n<script>prettyPrint()<\/script>')),ct(e["$attr?"]("stem"))&&(T=e.$attr("eqnums","none"),ct(T["$empty?"]())&&(T="AMS"),M=' equationNumbers: { autoNumber: "'+T+'" } ',_["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+at(J,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+at(J,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+at(J,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+M+'}\n});\n<\/script>\n<script src="'+c+"/mathjax/"+at(J,"MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML"><\/script>')),_["$<<"]("</body>"),_["$<<"]("</html>"),_.$join(at(J,"LF"))},$.$$arity=1),Q.def(V,"$embedded",a=function(t){var e,r,n,i,$=it,a=it,s=it;return $=[],t.$doctype()["$=="]("manpage")?(ct(t.$notitle())||(a=ct(t.$id())?' id="'+t.$id()+'"':"",$["$<<"]("<h1"+a+">"+t.$doctitle()+" Manual Page</h1>")),ct(t["$attr?"]("manpurpose"))&&$["$<<"](this.$generate_manname_section(t))):ct(ct(e=t["$has_header?"]())?t.$notitle()["$!"]():e)&&(a=ct(t.$id())?' id="'+t.$id()+'"':"",$["$<<"]("<h1"+a+">"+t.$header().$title()+"</h1>")),ct(ct(e=ct(r=ct(n=t["$sections?"]())?t["$attr?"]("toc"):n)?(s=t.$attr("toc-placement"))["$!="]("macro"):r)?s["$!="]("preamble"):e)&&$["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+t.$attr("toc-title")+"</div>\n"+this.$outline(t)+"\n</div>"),$["$<<"](t.$content()),ct(ct(e=t["$footnotes?"]())?t["$attr?"]("nofootnotes")["$!"]():e)&&($["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),ot(t.$footnotes(),"each",[],((i=function(t){i.$$s;return null==t&&(t=it),$["$<<"]('<div class="footnote" id="_footnotedef_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")}).$$s=this,i.$$arity=1,i)),$["$<<"]("</div>")),$.$join(at(J,"LF"))},a.$$arity=1),Q.def(V,"$outline",s=function(s,t){var e,r,o,l=it,c=it,n=it,u=it;return null==t&&(t=lt([],{})),ct(s["$sections?"]())?(l=ct(e=t["$[]"]("sectnumlevels"))?e:(ct(r=s.$document().$attributes()["$[]"]("sectnumlevels"))?r:3).$to_i(),c=ct(e=t["$[]"]("toclevels"))?e:(ct(r=s.$document().$attributes()["$[]"]("toclevels"))?r:2).$to_i(),n=s.$sections(),u=['<ul class="sectlevel'+n["$[]"](0).$level()+'">'],ot(n,"each",[],((o=function(t){var e,r=o.$$s||this,n=it,i=it,$=it,a=it;return null==t&&(t=it),n=t.$level(),i=ct(t.$caption())?t.$captioned_title():ct(ct(e=t.$numbered())?rt(n,l):e)?ct(ct(e=nt(n,2))?s.$document().$doctype()["$=="]("book"):e)?t.$sectname()["$=="]("chapter")?(ct($=s.$document().$attributes()["$[]"]("chapter-signifier"))?$+" ":"")+t.$sectnum()+" "+t.$title():t.$sectname()["$=="]("part")?(ct($=s.$document().$attributes()["$[]"]("part-signifier"))?$+" ":"")+t.$sectnum(it,":")+" "+t.$title():t.$sectnum()+" "+t.$title():t.$sectnum()+" "+t.$title():t.$title(),ct(i["$include?"]("<a"))&&(i=i.$gsub(at(J,"DropAnchorRx"),"")),ct(ct(e=nt(n,c))?a=r.$outline(t,lt(["toclevels","sectnumlevels"],{toclevels:c,sectnumlevels:l})):e)?(u["$<<"]('<li><a href="#'+t.$id()+'">'+i+"</a>"),u["$<<"](a),u["$<<"]("</li>")):u["$<<"]('<li><a href="#'+t.$id()+'">'+i+"</a></li>")}).$$s=this,o.$$arity=1,o)),u["$<<"]("</ul>"),u.$join(at(J,"LF"))):it},s.$$arity=-2),Q.def(V,"$section",o=function(t){var e,r,n=it,i=it,$=it,a=it,s=it,o=it,l=it;return n=t.$document().$attributes(),i=t.$level(),$=ct(t.$caption())?t.$captioned_title():ct(ct(e=t.$numbered())?rt(i,(ct(r=n["$[]"]("sectnumlevels"))?r:3).$to_i()):e)?ct(ct(e=nt(i,2))?t.$document().$doctype()["$=="]("book"):e)?t.$sectname()["$=="]("chapter")?(ct(a=n["$[]"]("chapter-signifier"))?a+" ":"")+t.$sectnum()+" "+t.$title():t.$sectname()["$=="]("part")?(ct(a=n["$[]"]("part-signifier"))?a+" ":"")+t.$sectnum(it,":")+" "+t.$title():t.$sectnum()+" "+t.$title():t.$sectnum()+" "+t.$title():t.$title(),ct(t.$id())?(s=' id="'+(o=t.$id())+'"',ct(n["$[]"]("sectlinks"))&&($='<a class="link" href="#'+o+'">'+$+"</a>"),ct(n["$[]"]("sectanchors"))&&($=n["$[]"]("sectanchors")["$=="]("after")?$+'<a class="anchor" href="#'+o+'"></a>':'<a class="anchor" href="#'+o+'"></a>'+$)):s="",i["$=="](0)?"<h1"+s+' class="sect0'+(ct(l=t.$role())?" "+l:"")+'">'+$+"</h1>\n"+t.$content():'<div class="sect'+i+(ct(l=t.$role())?" "+l:"")+'">\n<h'+et(i,1)+s+">"+$+"</h"+et(i,1)+">\n"+(i["$=="](1)?'<div class="sectionbody">\n'+t.$content()+"\n</div>":t.$content())+"\n</div>"},o.$$arity=1),Q.def(V,"$admonition",l=function(t){var e,r=it,n=it,i=it,$=it,a=it;return r=ct(t.$id())?' id="'+t.$id()+'"':"",n=t.$attr("name"),i=ct(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"",$=ct(t.$document()["$attr?"]("icons"))?ct(ct(e=t.$document()["$attr?"]("icons","font"))?t["$attr?"]("icon")["$!"]():e)?'<i class="fa icon-'+n+'" title="'+t.$attr("textlabel")+'"></i>':'<img src="'+t.$icon_uri(n)+'" alt="'+t.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+t.$attr("textlabel")+"</div>","<div"+r+' class="admonitionblock '+n+(ct(a=t.$role())?" "+a:"")+'">\n<table>\n<tr>\n<td class="icon">\n'+$+'\n</td>\n<td class="content">\n'+i+t.$content()+"\n</td>\n</tr>\n</table>\n</div>"},l.$$arity=1),Q.def(V,"$audio",c=function(t){var e,r=this,n=it,i=it,$=it,a=it,s=it,o=it,l=it,c=it;return n=r.xml_mode,i=ct(t.$id())?' id="'+t.$id()+'"':"",$=["audioblock",t.$role()].$compact(),a=' class="'+$.$join(" ")+'"',s=ct(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"",o=t.$attr("start",it,!1),l=t.$attr("end",it,!1),c=ct(ct(e=o)?e:l)?"#t="+(ct(e=o)?e:"")+(ct(l)?","+l:""):"","<div"+i+a+">\n"+s+'<div class="content">\n<audio src="'+t.$media_uri(t.$attr("target"))+c+'"'+(ct(t["$option?"]("autoplay"))?r.$append_boolean_attribute("autoplay",n):"")+(ct(t["$option?"]("nocontrols"))?"":r.$append_boolean_attribute("controls",n))+(ct(t["$option?"]("loop"))?r.$append_boolean_attribute("loop",n):"")+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},c.$$arity=1),Q.def(V,"$colist",u=function(n){var t,i,e,$=it,r=it,a=it,s=it,o=it,l=it;return $=[],r=ct(n.$id())?' id="'+n.$id()+'"':"",a=["colist",n.$style(),n.$role()].$compact(),s=' class="'+a.$join(" ")+'"',$["$<<"]("<div"+r+s+">"),ct(n["$title?"]())&&$["$<<"]('<div class="title">'+n.$title()+"</div>"),ct(n.$document()["$attr?"]("icons"))?($["$<<"]("<table>"),t=[n.$document()["$attr?"]("icons","font"),0],o=t[0],l=t[1],ot(n.$items(),"each",[],((i=function(t){var e=i.$$s||this,r=it;return null==e.void_element_slash&&(e.void_element_slash=it),null==t&&(t=it),l=et(l,1),r=ct(o)?'<i class="conum" data-value="'+l+'"></i><b>'+l+"</b>":'<img src="'+n.$icon_uri("callouts/"+l)+'" alt="'+l+'"'+e.void_element_slash+">",$["$<<"]("<tr>\n<td>"+r+"</td>\n<td>"+t.$text()+(ct(t["$blocks?"]())?et(at(J,"LF"),t.$content()):"")+"</td>\n</tr>")}).$$s=this,i.$$arity=1,i)),$["$<<"]("</table>")):($["$<<"]("<ol>"),ot(n.$items(),"each",[],((e=function(t){e.$$s;return null==t&&(t=it),$["$<<"]("<li>\n<p>"+t.$text()+"</p>"+(ct(t["$blocks?"]())?et(at(J,"LF"),t.$content()):"")+"\n</li>")}).$$s=this,e.$$arity=1,e)),$["$<<"]("</ol>")),$["$<<"]("</div>"),$.$join(at(J,"LF"))},u.$$arity=1),Q.def(V,"$dlist",_=function(a){var i,t,s,$,o=it,e=it,r=it,n=it,l=it,c=it,u=it,_=it;return o=[],e=ct(a.$id())?' id="'+a.$id()+'"':"",r=(n=a.$style(),"qanda"["$==="](n)?["qlist","qanda",a.$role()]:"horizontal"["$==="](n)?["hdlist",a.$role()]:["dlist",a.$style(),a.$role()]).$compact(),l=' class="'+r.$join(" ")+'"',o["$<<"]("<div"+e+l+">"),ct(a["$title?"]())&&o["$<<"]('<div class="title">'+a.$title()+"</div>"),n=a.$style(),"qanda"["$==="](n)?(o["$<<"]("<ol>"),ot(a.$items(),"each",[],((i=function(t,e){var r,n=i.$$s||this;return null==t&&(t=it),null==e&&(e=it),o["$<<"]("<li>"),ot([].concat(Q.to_a(t)),"each",[],((r=function(t){r.$$s;return null==t&&(t=it),o["$<<"]("<p><em>"+t.$text()+"</em></p>")}).$$s=n,r.$$arity=1,r)),ct(e)&&(ct(e["$text?"]())&&o["$<<"]("<p>"+e.$text()+"</p>"),ct(e["$blocks?"]())&&o["$<<"](e.$content())),o["$<<"]("</li>")}).$$s=this,i.$$arity=2,i)),o["$<<"]("</ol>")):"horizontal"["$==="](n)?(c=this.void_element_slash,o["$<<"]("<table>"),ct(ct(t=a["$attr?"]("labelwidth"))?t:a["$attr?"]("itemwidth"))&&(o["$<<"]("<colgroup>"),u=ct(a["$attr?"]("labelwidth"))?' style="width: '+a.$attr("labelwidth").$chomp("%")+'%;"':"",o["$<<"]("<col"+u+c+">"),u=ct(a["$attr?"]("itemwidth"))?' style="width: '+a.$attr("itemwidth").$chomp("%")+'%;"':"",o["$<<"]("<col"+u+c+">"),o["$<<"]("</colgroup>")),ot(a.$items(),"each",[],((s=function(t,e){var r,n=s.$$s||this,i=it,$=it;return null==t&&(t=it),null==e&&(e=it),o["$<<"]("<tr>"),o["$<<"]('<td class="hdlist1'+(ct(a["$option?"]("strong"))?" strong":"")+'">'),i=[].concat(Q.to_a(t)),$=i["$[]"](-1),ot(i,"each",[],((r=function(t){r.$$s;return null==t&&(t=it),o["$<<"](t.$text()),ct(t["$!="]($))?o["$<<"]("<br"+c+">"):it}).$$s=n,r.$$arity=1,r)),o["$<<"]("</td>"),o["$<<"]('<td class="hdlist2">'),ct(e)&&(ct(e["$text?"]())&&o["$<<"]("<p>"+e.$text()+"</p>"),ct(e["$blocks?"]())&&o["$<<"](e.$content())),o["$<<"]("</td>"),o["$<<"]("</tr>")}).$$s=this,s.$$arity=2,s)),o["$<<"]("</table>")):(o["$<<"]("<dl>"),_=ct(a.$style())?"":' class="hdlist1"',ot(a.$items(),"each",[],(($=function(t,e){var r,n=$.$$s||this;return null==t&&(t=it),null==e&&(e=it),ot([].concat(Q.to_a(t)),"each",[],((r=function(t){r.$$s;return null==t&&(t=it),o["$<<"]("<dt"+_+">"+t.$text()+"</dt>")}).$$s=n,r.$$arity=1,r)),ct(e)?(o["$<<"]("<dd>"),ct(e["$text?"]())&&o["$<<"]("<p>"+e.$text()+"</p>"),ct(e["$blocks?"]())&&o["$<<"](e.$content()),o["$<<"]("</dd>")):it}).$$s=this,$.$$arity=2,$)),o["$<<"]("</dl>")),o["$<<"]("</div>"),o.$join(at(J,"LF"))},_.$$arity=1),Q.def(V,"$example",d=function(t){var e=it,r=it,n=it;return e=ct(t.$id())?' id="'+t.$id()+'"':"",r=ct(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":"","<div"+e+' class="exampleblock'+(ct(n=t.$role())?" "+n:"")+'">\n'+r+'<div class="content">\n'+t.$content()+"\n</div>\n</div>"},d.$$arity=1),Q.def(V,"$floating_title",h=function(t){var e=it,r=it,n=it;return e="h"+et(t.$level(),1),r=ct(t.$id())?' id="'+t.$id()+'"':"",n=[t.$style(),t.$role()].$compact(),"<"+e+r+' class="'+n.$join(" ")+'">'+t.$title()+"</"+e+">"},h.$$arity=1),Q.def(V,"$image",f=function(t){var e,r,n,i=this,$=it,a=it,s=it,o=it,l=it,c=it,u=it,_=it,d=it,h=it,f=it;return $=t.$attr("target"),a=ct(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':"",s=ct(t["$attr?"]("height"))?' height="'+t.$attr("height")+'"':"",ct(ct(e=ct(r=ct(n=t["$attr?"]("format","svg",!1))?n:$["$include?"](".svg"))?nt(t.$document().$safe(),$t(at(J,"SafeMode"),"SECURE")):r)?ct(r=o=t["$option?"]("inline"))?r:l=t["$option?"]("interactive"):e)&&(ct(o)?c=ct(e=i.$read_svg_contents(t,$))?e:'<span class="alt">'+t.$alt()+"</span>":ct(l)&&(u=ct(t["$attr?"]("fallback"))?'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+i.$encode_quotes(t.$alt())+'"'+a+s+i.void_element_slash+">":'<span class="alt">'+t.$alt()+"</span>",c='<object type="image/svg+xml" data="'+t.$image_uri($)+'"'+a+s+">"+u+"</object>")),c=ct(e=c)?e:'<img src="'+t.$image_uri($)+'" alt="'+i.$encode_quotes(t.$alt())+'"'+a+s+i.void_element_slash+">",ct(t["$attr?"]("link",it,!1))&&(c='<a class="image" href="'+t.$attr("link")+'"'+i.$append_link_constraint_attrs(t).$join()+">"+c+"</a>"),_=ct(t.$id())?' id="'+t.$id()+'"':"",d=["imageblock"],ct(t["$attr?"]("float"))&&d["$<<"](t.$attr("float")),ct(t["$attr?"]("align"))&&d["$<<"]("text-"+t.$attr("align")),ct(t.$role())&&d["$<<"](t.$role()),h=' class="'+d.$join(" ")+'"',f=ct(t["$title?"]())?'\n<div class="title">'+t.$captioned_title()+"</div>":"","<div"+_+h+'>\n<div class="content">\n'+c+"\n</div>"+f+"\n</div>"},f.$$arity=1),Q.def(V,"$listing",p=function(t){var e,r=it,n=it,i=it,$=it,a=it,s=it,o=it,l=it,c=it,u=it;return r=ct(e=t.$document()["$attr?"]("prewrap")["$!"]())?e:t["$option?"]("nowrap"),o=t.$style()["$=="]("source")?(i=ct(n=t.$attr("language",it,!1))?' data-lang="'+n+'"':"",$=t.$document().$attr("source-highlighter"),"coderay"["$==="]($)?a=' class="CodeRay highlight'+(ct(r)?" nowrap":"")+'"':"pygments"["$==="]($)?a=ct(t.$document()["$attr?"]("pygments-css","inline"))?(ct(null!=(e=this.pygments_bg)&&e!==it?"instance-variable":it)||(this.pygments_bg=this.stylesheets.$pygments_background(t.$document().$attr("pygments-style"))),' class="pygments highlight'+(ct(r)?" nowrap":"")+'" style="background: '+this.pygments_bg+'"'):' class="pygments highlight'+(ct(r)?" nowrap":"")+'"':"highlightjs"["$==="]($)||"highlight.js"["$==="]($)?(a=' class="highlightjs highlight'+(ct(r)?" nowrap":"")+'"',ct(n)&&(i=' class="language-'+n+' hljs"'+i)):"prettify"["$==="]($)?(a=' class="prettyprint highlight'+(ct(r)?" nowrap":"")+(ct(t["$attr?"]("linenums",it,!1))?" linenums":"")+'"',ct(n)&&(i=' class="language-'+n+'"'+i)):"html-pipeline"["$==="]($)?(a=ct(n)?' lang="'+n+'"':"",i=""):(a=' class="highlight'+(ct(r)?" nowrap":"")+'"',ct(n)&&(i=' class="language-'+n+'"'+i)),s="<pre"+a+"><code"+i+">","</code></pre>"):(s="<pre"+(ct(r)?' class="nowrap"':"")+">","</pre>"),l=ct(t.$id())?' id="'+t.$id()+'"':"",c=ct(t["$title?"]())?'<div class="title">'+t.$captioned_title()+"</div>\n":"","<div"+l+' class="listingblock'+(ct(u=t.$role())?" "+u:"")+'">\n'+c+'<div class="content">\n'+s+t.$content()+o+"\n</div>\n</div>"},p.$$arity=1),Q.def(V,"$literal",m=function(t){var e,r=it,n=it,i=it,$=it;return r=ct(t.$id())?' id="'+t.$id()+'"':"",n=ct(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"",i=ct(e=t.$document()["$attr?"]("prewrap")["$!"]())?e:t["$option?"]("nowrap"),"<div"+r+' class="literalblock'+(ct($=t.$role())?" "+$:"")+'">\n'+n+'<div class="content">\n<pre'+(ct(i)?' class="nowrap"':"")+">"+t.$content()+"</pre>\n</div>\n</div>"},m.$$arity=1),Q.def(V,"$stem",y=function(t){var e,r,n,i=it,$=it,a=it,s=it,o=it,l=it,c=it,u=it;return i=ct(t.$id())?' id="'+t.$id()+'"':"",$=ct(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"",r=at(J,"BLOCK_MATH_DELIMITERS")["$[]"](a=t.$style().$to_sym()),e=Q.to_ary(r),s=null==e[0]?it:e[0],o=null==e[1]?it:e[1],l=t.$content(),ct((e=a["$=="]("asciimath"))?l["$include?"](at(J,"LF")):a["$=="]("asciimath"))&&(c="<br"+this.void_element_slash+">"+at(J,"LF"),l=ot(l,"gsub",[at(J,"StemBreakRx")],((n=function(){var t,e,r;n.$$s;return""+o+(e=c,r=((t=ut["~"])===it?it:t["$[]"](0)).$count(at(J,"LF")),"number"==typeof e&&"number"==typeof r?e*r:e["$*"](r))+s}).$$s=this,n.$$arity=0,n))),ct(ct(e=l["$start_with?"](s))?l["$end_with?"](o):e)||(l=""+s+l+o),"<div"+i+' class="stemblock'+(ct(u=t.$role())?" "+u:"")+'">\n'+$+'<div class="content">\n'+l+"\n</div>\n</div>"},y.$$arity=1),Q.def(V,"$olist",g=function(t){var e,r=this,n=it,i=it,$=it,a=it,s=it,o=it,l=it,c=it;return n=[],i=ct(t.$id())?' id="'+t.$id()+'"':"",$=["olist",t.$style(),t.$role()].$compact(),a=' class="'+$.$join(" ")+'"',n["$<<"]("<div"+i+a+">"),ct(t["$title?"]())&&n["$<<"]('<div class="title">'+t.$title()+"</div>"),s=ct(o=t.$list_marker_keyword())?' type="'+o+'"':"",l=ct(t["$attr?"]("start"))?' start="'+t.$attr("start")+'"':"",c=ct(t["$option?"]("reversed"))?r.$append_boolean_attribute("reversed",r.xml_mode):"",n["$<<"]('<ol class="'+t.$style()+'"'+s+l+c+">"),ot(t.$items(),"each",[],((e=function(t){e.$$s;return null==t&&(t=it),n["$<<"]("<li>"),n["$<<"]("<p>"+t.$text()+"</p>"),ct(t["$blocks?"]())&&n["$<<"](t.$content()),n["$<<"]("</li>")}).$$s=r,e.$$arity=1,e)),n["$<<"]("</ol>"),n["$<<"]("</div>"),n.$join(at(J,"LF"))},g.$$arity=1),Q.def(V,"$open",b=function(t){var e,r,n,i=it,$=it,a=it,s=it;return(i=t.$style())["$=="]("abstract")?ct((e=t.$parent()["$=="](t.$document()))?t.$document().$doctype()["$=="]("book"):t.$parent()["$=="](t.$document()))?(this.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):($=ct(t.$id())?' id="'+t.$id()+'"':"",a=ct(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"","<div"+$+' class="quoteblock abstract'+(ct(s=t.$role())?" "+s:"")+'">\n'+a+"<blockquote>\n"+t.$content()+"\n</blockquote>\n</div>"):ct((e=i["$=="]("partintro"))?ct(r=ct(n=tt(t.$level(),0))?n:t.$parent().$context()["$!="]("section"))?r:t.$document().$doctype()["$!="]("book"):i["$=="]("partintro"))?(this.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),""):($=ct(t.$id())?' id="'+t.$id()+'"':"",a=ct(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"","<div"+$+' class="openblock'+(ct(ct(e=i)?i["$!="]("open"):e)?" "+i:"")+(ct(s=t.$role())?" "+s:"")+'">\n'+a+'<div class="content">\n'+t.$content()+"\n</div>\n</div>")},b.$$arity=1),Q.def(V,"$page_break",v=function(t){return'<div style="page-break-after: always;"></div>'},v.$$arity=1),Q.def(V,"$paragraph",x=function(t){var e=it,r=it;return e=ct(t.$role())?'class="paragraph '+t.$role()+'"':'class="paragraph"',r=ct(t.$id())?'id="'+t.$id()+'" '+e:e,ct(t["$title?"]())?"<div "+r+'>\n<div class="title">'+t.$title()+"</div>\n<p>"+t.$content()+"</p>\n</div>":"<div "+r+">\n<p>"+t.$content()+"</p>\n</div>"},x.$$arity=1),Q.def(V,"$preamble",k=function(t){var e,r,n=it,i=it;return i=ct(ct(e=ct(r=(n=t.$document())["$attr?"]("toc-placement","preamble"))?n["$sections?"]():r)?n["$attr?"]("toc"):e)?'\n<div id="toc" class="'+n.$attr("toc-class","toc")+'">\n<div id="toctitle">'+n.$attr("toc-title")+"</div>\n"+this.$outline(n)+"\n</div>":"",'<div id="preamble">\n<div class="sectionbody">\n'+t.$content()+"\n</div>"+i+"\n</div>"},k.$$arity=1),Q.def(V,"$quote",w=function(t){var e,r=this,n=it,i=it,$=it,a=it,s=it,o=it,l=it,c=it;return n=ct(t.$id())?' id="'+t.$id()+'"':"",i=["quoteblock",t.$role()].$compact(),$=' class="'+i.$join(" ")+'"',a=ct(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":"",s=ct(t["$attr?"]("attribution"))?t.$attr("attribution"):it,o=ct(t["$attr?"]("citetitle"))?t.$attr("citetitle"):it,c=ct(ct(e=s)?e:o)?(l=ct(o)?"<cite>"+o+"</cite>":"",'\n<div class="attribution">\n'+(ct(s)?"&#8212; "+s+(ct(o)?"<br"+r.void_element_slash+">\n":""):"")+l+"\n</div>"):"","<div"+n+$+">"+a+"\n<blockquote>\n"+t.$content()+"\n</blockquote>"+c+"\n</div>"},w.$$arity=1),Q.def(V,"$thematic_break",E=function(t){return"<hr"+this.void_element_slash+">"},E.$$arity=1),Q.def(V,"$sidebar",A=function(t){var e=it,r=it,n=it;return e=ct(t.$id())?' id="'+t.$id()+'"':"",r=ct(t["$title?"]())?'<div class="title">'+t.$title()+"</div>\n":"","<div"+e+' class="sidebarblock'+(ct(n=t.$role())?" "+n:"")+'">\n<div class="content">\n'+r+t.$content()+"\n</div>\n</div>"},A.$$arity=1),Q.def(V,"$table",O=function(u){var t,e,n,_=it,r=it,i=it,$=it,a=it,s=it,o=it,l=it,c=it,d=it,h=it;return _=[],r=ct(u.$id())?' id="'+u.$id()+'"':"",i=["tableblock","frame-"+u.$attr("frame","all"),"grid-"+u.$attr("grid","all")],ct($=u.$attr("stripes"))&&i["$<<"]("stripes-"+$),a=[],ct(ct(t=s=u.$attributes()["$[]"]("autowidth-option"))?u["$attr?"]("width",it,!1)["$!"]():t)?i["$<<"]("fit-content"):(o=u.$attr("tablepcwidth"))["$=="](100)?i["$<<"]("stretch"):a["$<<"]("width: "+o+"%;"),ct(u["$attr?"]("float"))&&i["$<<"](u.$attr("float")),ct(l=u.$role())&&i["$<<"](l),c=' class="'+i.$join(" ")+'"',d=ct(a["$empty?"]())?"":' style="'+a.$join(" ")+'"',_["$<<"]("<table"+r+c+d+">"),ct(u["$title?"]())&&_["$<<"]('<caption class="title">'+u.$captioned_title()+"</caption>"),ct(tt(u.$attr("rowcount"),0))&&(h=this.void_element_slash,_["$<<"]("<colgroup>"),ct(s)?_=et(_,at(J,"Array").$new(u.$columns().$size(),"<col"+h+">")):ot(u.$columns(),"each",[],((e=function(t){e.$$s;return null==t&&(t=it),_["$<<"](ct(t.$attributes()["$[]"]("autowidth-option"))?"<col"+h+">":'<col style="width: '+t.$attr("colpcwidth")+'%;"'+h+">")}).$$s=this,e.$$arity=1,e)),_["$<<"]("</colgroup>"),ot(u.$rows().$by_section(),"each",[],((n=function(c,t){var r,e=n.$$s||this;return null==c&&(c=it),null==t&&(t=it),ct(t["$empty?"]())?it:(_["$<<"]("<t"+c+">"),ot(t,"each",[],((r=function(t){var l,e=r.$$s||this;return null==t&&(t=it),_["$<<"]("<tr>"),ot(t,"each",[],((l=function(t){l.$$s;var e,r=it,n=it,i=it,$=it,a=it,s=it,o=it;return null==t&&(t=it),r=c["$=="]("head")?t.$text():(n=t.$style(),"asciidoc"["$==="](n)?'<div class="content">'+t.$content()+"</div>":"verse"["$==="](n)?'<div class="verse">'+t.$text()+"</div>":"literal"["$==="](n)?'<div class="literal"><pre>'+t.$text()+"</pre></div>":ct((r=t.$content())["$empty?"]())?"":'<p class="tableblock">'+r.$join('</p>\n<p class="tableblock">')+"</p>"),i=ct(ct(e=c["$=="]("head"))?e:t.$style()["$=="]("header"))?"th":"td",$=' class="tableblock halign-'+t.$attr("halign")+" valign-"+t.$attr("valign")+'"',a=ct(t.$colspan())?' colspan="'+t.$colspan()+'"':"",s=ct(t.$rowspan())?' rowspan="'+t.$rowspan()+'"':"",o=ct(u.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+u.$document().$attr("cellbgcolor")+';"':"",_["$<<"]("<"+i+$+a+s+o+">"+r+"</"+i+">")}).$$s=e,l.$$arity=1,l)),_["$<<"]("</tr>")}).$$s=e,r.$$arity=1,r)),_["$<<"]("</t"+c+">"))}).$$s=this,n.$$arity=2,n))),_["$<<"]("</table>"),_.$join(at(J,"LF"))},O.$$arity=1),Q.def(V,"$toc",S=function(t){var e,r,n=it,i=it,$=it,a=it,s=it,o=it;return ct(ct(e=ct(r=(n=t.$document())["$attr?"]("toc-placement","macro"))?n["$sections?"]():r)?n["$attr?"]("toc"):e)?($=ct(t.$id())?(i=' id="'+t.$id()+'"',' id="'+t.$id()+'title"'):(i=' id="toc"',' id="toctitle"'),a=ct(t["$title?"]())?t.$title():n.$attr("toc-title"),s=ct(t["$attr?"]("levels"))?t.$attr("levels").$to_i():it,o=ct(t["$role?"]())?t.$role():n.$attr("toc-class","toc"),"<div"+i+' class="'+o+'">\n<div'+$+' class="title">'+a+"</div>\n"+this.$outline(n,lt(["toclevels"],{toclevels:s}))+"\n</div>"):"\x3c!-- toc disabled --\x3e"},S.$$arity=1),Q.def(V,"$ulist",R=function(t){var r,n=it,e=it,i=it,$=it,a=it,s=it,o=it;return n=[],e=ct(t.$id())?' id="'+t.$id()+'"':"",i=["ulist",t.$style(),t.$role()].$compact(),$=a="",ct(s=t["$option?"]("checklist"))?(i.$unshift(i.$shift(),"checklist"),o=' class="checklist"',a=ct(t["$option?"]("interactive"))?ct(this.xml_mode)?($='<input type="checkbox" data-item-complete="1" checked="checked"/> ','<input type="checkbox" data-item-complete="0"/> '):($='<input type="checkbox" data-item-complete="1" checked> ','<input type="checkbox" data-item-complete="0"> '):ct(t.$document()["$attr?"]("icons","font"))?($='<i class="fa fa-check-square-o"></i> ','<i class="fa fa-square-o"></i> '):($="&#10003; ","&#10063; ")):o=ct(t.$style())?' class="'+t.$style()+'"':"",n["$<<"]("<div"+e+' class="'+i.$join(" ")+'">'),ct(t["$title?"]())&&n["$<<"]('<div class="title">'+t.$title()+"</div>"),n["$<<"]("<ul"+o+">"),ot(t.$items(),"each",[],((r=function(t){var e;r.$$s;return null==t&&(t=it),n["$<<"]("<li>"),ct(ct(e=s)?t["$attr?"]("checkbox"):e)?n["$<<"]("<p>"+(ct(t["$attr?"]("checked"))?$:a)+t.$text()+"</p>"):n["$<<"]("<p>"+t.$text()+"</p>"),ct(t["$blocks?"]())&&n["$<<"](t.$content()),n["$<<"]("</li>")}).$$s=this,r.$$arity=1,r)),n["$<<"]("</ul>"),n["$<<"]("</div>"),n.$join(at(J,"LF"))},R.$$arity=1),Q.def(V,"$verse",C=function(t){var e,r=this,n=it,i=it,$=it,a=it,s=it,o=it,l=it,c=it;return n=ct(t.$id())?' id="'+t.$id()+'"':"",i=["verseblock",t.$role()].$compact(),$=' class="'+i.$join(" ")+'"',a=ct(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":"",s=ct(t["$attr?"]("attribution"))?t.$attr("attribution"):it,o=ct(t["$attr?"]("citetitle"))?t.$attr("citetitle"):it,c=ct(ct(e=s)?e:o)?(l=ct(o)?"<cite>"+o+"</cite>":"",'\n<div class="attribution">\n'+(ct(s)?"&#8212; "+s+(ct(o)?"<br"+r.void_element_slash+">\n":""):"")+l+"\n</div>"):"","<div"+n+$+">"+a+'\n<pre class="content">'+t.$content()+"</pre>"+c+"\n</div>"},C.$$arity=1),Q.def(V,"$video",T=function(t){var e,r,n=this,i=it,$=it,a=it,s=it,o=it,l=it,c=it,u=it,_=it,d=it,h=it,f=it,p=it,m=it,y=it,g=it,b=it,v=it,x=it,k=it,w=it,E=it,A=it,O=it,S=it,R=it,C=it,T=it,M=it,I=it,N=it,P=it,z=it;return i=n.xml_mode,$=ct(t.$id())?' id="'+t.$id()+'"':"",a=["videoblock"],ct(t["$attr?"]("float"))&&a["$<<"](t.$attr("float")),ct(t["$attr?"]("align"))&&a["$<<"]("text-"+t.$attr("align")),ct(t.$role())&&a["$<<"](t.$role()),s=' class="'+a.$join(" ")+'"',o=ct(t["$title?"]())?'\n<div class="title">'+t.$title()+"</div>":"",l=ct(t["$attr?"]("width"))?' width="'+t.$attr("width")+'"':"",c=ct(t["$attr?"]("height"))?' height="'+t.$attr("height")+'"':"",u=t.$attr("poster"),"vimeo"["$==="](u)?(ct((_=t.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(_+=":"),d=ct(t["$attr?"]("start",it,!1))?"#at="+t.$attr("start"):"",h="?",ct(t["$option?"]("autoplay"))?(f=h+"autoplay=1",h="&amp;"):f="",p=ct(t["$option?"]("loop"))?h+"loop=1":"","<div"+$+s+">"+o+'\n<div class="content">\n<iframe'+l+c+' src="'+_+"//player.vimeo.com/video/"+t.$attr("target")+d+f+p+'" frameborder="0"'+(ct(t["$option?"]("nofullscreen"))?"":n.$append_boolean_attribute("allowfullscreen",i))+"></iframe>\n</div>\n</div>"):"youtube"["$==="](u)?(ct((_=t.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(_+=":"),m=ct(t["$option?"]("related"))?1:0,y=ct(t["$attr?"]("start",it,!1))?"&amp;start="+t.$attr("start"):"",g=ct(t["$attr?"]("end",it,!1))?"&amp;end="+t.$attr("end"):"",f=ct(t["$option?"]("autoplay"))?"&amp;autoplay=1":"",p=ct(b=t["$option?"]("loop"))?"&amp;loop=1":"",v=ct(t["$option?"]("nocontrols"))?"&amp;controls=0":"",k=ct(t["$option?"]("nofullscreen"))?(x="&amp;fs=0",""):(x="",n.$append_boolean_attribute("allowfullscreen",i)),w=ct(t["$option?"]("modest"))?"&amp;modestbranding=1":"",E=ct(t["$attr?"]("theme",it,!1))?"&amp;theme="+t.$attr("theme"):"",A=ct(t["$attr?"]("lang"))?"&amp;hl="+t.$attr("lang"):"",r=t.$attr("target").$split("/",2),e=Q.to_ary(r),O=null==e[0]?it:e[0],S=null==e[1]?it:e[1],R=ct(S=ct(e=S)?e:t.$attr("list",it,!1))?"&amp;list="+S:(r=O.$split(",",2),e=Q.to_ary(r),O=null==e[0]?it:e[0],C=null==e[1]?it:e[1],ct(C=ct(e=C)?e:t.$attr("playlist",it,!1))?"&amp;playlist="+C:ct(b)?"&amp;playlist="+O:""),"<div"+$+s+">"+o+'\n<div class="content">\n<iframe'+l+c+' src="'+_+"//www.youtube.com/embed/"+O+"?rel="+m+y+g+f+p+v+R+x+w+E+A+'" frameborder="0"'+k+"></iframe>\n</div>\n</div>"):(T=ct((M=t.$attr("poster",it,!1))["$nil_or_empty?"]())?"":' poster="'+t.$media_uri(M)+'"',I=ct((M=t.$attr("preload",it,!1))["$nil_or_empty?"]())?"":' preload="'+M+'"',N=t.$attr("start",it,!1),P=t.$attr("end",it,!1),z=ct(ct(e=N)?e:P)?"#t="+(ct(e=N)?e:"")+(ct(P)?","+P:""):"","<div"+$+s+">"+o+'\n<div class="content">\n<video src="'+t.$media_uri(t.$attr("target"))+z+'"'+l+c+T+(ct(t["$option?"]("autoplay"))?n.$append_boolean_attribute("autoplay",i):"")+(ct(t["$option?"]("nocontrols"))?"":n.$append_boolean_attribute("controls",i))+(ct(t["$option?"]("loop"))?n.$append_boolean_attribute("loop",i):"")+I+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>")},T.$$arity=1),Q.def(V,"$inline_anchor",M=function(t){var e,r=this,n=it,i=it,$=it,a=it,s=it,o=it;return n=t.$type(),"xref"["$==="](n)?(ct(i=t.$attributes()["$[]"]("path"))?($=r.$append_link_constraint_attrs(t,ct(t.$role())?[' class="'+t.$role()+'"']:[]).$join(),a=ct(e=t.$text())?e:i):($=ct(t.$role())?' class="'+t.$role()+'"':"",ct(a=t.$text())||(s=t.$attributes()["$[]"]("refid"),a=ct(at(J,"AbstractNode")["$==="](o=(r.refs=ct(e=r.refs)?e:t.$document().$catalog()["$[]"]("refs"))["$[]"](s)))&&ct(e=o.$xreftext(t.$attr("xrefstyle")))?e:"["+s+"]")),'<a href="'+t.$target()+'"'+$+">"+a+"</a>"):"ref"["$==="](n)?'<a id="'+t.$id()+'"></a>':"link"["$==="](n)?($=ct(t.$id())?[' id="'+t.$id()+'"']:[],ct(t.$role())&&$["$<<"](' class="'+t.$role()+'"'),ct(t["$attr?"]("title",it,!1))&&$["$<<"](' title="'+t.$attr("title")+'"'),'<a href="'+t.$target()+'"'+r.$append_link_constraint_attrs(t,$).$join()+">"+t.$text()+"</a>"):"bibref"["$==="](n)?'<a id="'+t.$id()+'"></a>'+t.$text():(r.$logger().$warn("unknown anchor type: "+t.$type().$inspect()),it)},M.$$arity=1),Q.def(V,"$inline_break",I=function(t){return t.$text()+"<br"+this.void_element_slash+">"},I.$$arity=1),Q.def(V,"$inline_button",N=function(t){return'<b class="button">'+t.$text()+"</b>"},N.$$arity=1),Q.def(V,"$inline_callout",P=function(t){return ct(t.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+t.$text()+'"></i><b>('+t.$text()+")</b>":ct(t.$document()["$attr?"]("icons"))?'<img src="'+t.$icon_uri("callouts/"+t.$text())+'" alt="'+t.$text()+'"'+this.void_element_slash+">":t.$attributes()["$[]"]("guard")+'<b class="conum">('+t.$text()+")</b>"},P.$$arity=1),Q.def(V,"$inline_footnote",z=function(t){var e=it;return ct(e=t.$attr("index",it,!1))?t.$type()["$=="]("xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+e+'" title="View footnote.">'+e+"</a>]</sup>":'<sup class="footnote"'+(ct(t.$id())?' id="_footnote_'+t.$id()+'"':"")+'>[<a id="_footnoteref_'+e+'" class="footnote" href="#_footnotedef_'+e+'" title="View footnote.">'+e+"</a>]</sup>":t.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+t.$text()+"]</sup>":it},z.$$arity=1),Q.def(V,"$inline_image",L=function(r){var t,n,e,i,$,a,s=this,o=it,l=it,c=it,u=it,_=it,d=it,h=it,f=it,p=it,m=it;return u=ct((t=(o=r.$type())["$=="]("icon"))?r.$document()["$attr?"]("icons","font"):(o=r.$type())["$=="]("icon"))?(l="fa fa-"+r.$target(),ot(lt(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],((n=function(t,e){n.$$s;return null==t&&(t=it),null==e&&(e=it),ct(r["$attr?"](t))?l=l+" "+e+r.$attr(t):it}).$$s=s,n.$$arity=2,n)),c=ct(r["$attr?"]("title"))?' title="'+r.$attr("title")+'"':"",'<i class="'+l+'"'+c+"></i>"):ct((t=o["$=="]("icon"))?r.$document()["$attr?"]("icons")["$!"]():o["$=="]("icon"))?"["+r.$alt()+"]":(_=r.$target(),d=ot(["width","height","title"],"map",[],(e=function(t){e.$$s;return null==t&&(t=it),ct(r["$attr?"](t))?" "+t+'="'+r.$attr(t)+'"':""},e.$$s=s,e.$$arity=1,e)).$join(),ct(ct(t=ct(i=ct($=o["$!="]("icon"))?ct(a=r["$attr?"]("format","svg",!1))?a:_["$include?"](".svg"):$)?nt(r.$document().$safe(),$t(at(J,"SafeMode"),"SECURE")):i)?ct(i=h=r["$option?"]("inline"))?i:f=r["$option?"]("interactive"):t)&&(ct(h)?u=ct(t=s.$read_svg_contents(r,_))?t:'<span class="alt">'+r.$alt()+"</span>":ct(f)&&(p=ct(r["$attr?"]("fallback"))?'<img src="'+r.$image_uri(r.$attr("fallback"))+'" alt="'+s.$encode_quotes(r.$alt())+'"'+d+s.void_element_slash+">":'<span class="alt">'+r.$alt()+"</span>",u='<object type="image/svg+xml" data="'+r.$image_uri(_)+'"'+d+">"+p+"</object>")),ct(t=u)?t:'<img src="'+(o["$=="]("icon")?r.$icon_uri(_):r.$image_uri(_))+'" alt="'+s.$encode_quotes(r.$alt())+'"'+d+s.void_element_slash+">"),ct(r["$attr?"]("link",it,!1))&&(u='<a class="image" href="'+r.$attr("link")+'"'+s.$append_link_constraint_attrs(r).$join()+">"+u+"</a>"),'<span class="'+(l=ct(m=r.$role())?ct(r["$attr?"]("float"))?o+" "+r.$attr("float")+" "+m:o+" "+m:ct(r["$attr?"]("float"))?o+" "+r.$attr("float"):o)+'">'+u+"</span>"},L.$$arity=1),Q.def(V,"$inline_indexterm",D=function(t){return t.$type()["$=="]("visible")?t.$text():""},D.$$arity=1),Q.def(V,"$inline_kbd",F=function(t){var e=it;return(e=t.$attr("keys")).$size()["$=="](1)?"<kbd>"+e["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+e.$join("</kbd>+<kbd>")+"</kbd></span>"},F.$$arity=1),Q.def(V,"$inline_menu",B=function(t){var e=it,r=it,n=it,i=it,$=it;return e=ct(t.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ',r="</b>"+e+'<b class="submenu">',n=t.$attr("menu"),ct((i=t.$attr("submenus"))["$empty?"]())?ct($=t.$attr("menuitem",it,!1))?'<span class="menuseq"><b class="menu">'+n+"</b>"+e+'<b class="menuitem">'+$+"</b></span>":'<b class="menuref">'+n+"</b>":'<span class="menuseq"><b class="menu">'+n+"</b>"+e+'<b class="submenu">'+i.$join(r)+"</b>"+e+'<b class="menuitem">'+t.$attr("menuitem")+"</b></span>"},B.$$arity=1),Q.def(V,"$inline_quoted",q=function(t){var e,r,n=it,i=it,$=it,a=it,s=it;return r=at(J,"QUOTE_TAGS")["$[]"](t.$type()),e=Q.to_ary(r),n=null==e[0]?it:e[0],i=null==e[1]?it:e[1],$=null==e[2]?it:e[2],ct(t.$role())&&(a=' class="'+t.$role()+'"'),ct(t.$id())&&(s=' id="'+t.$id()+'"'),ct(ct(e=a)?e:s)?ct($)?""+n.$chop()+(ct(e=s)?e:"")+(ct(e=a)?e:"")+">"+t.$text()+i:"<span"+(ct(e=s)?e:"")+(ct(e=a)?e:"")+">"+n+t.$text()+i+"</span>":""+n+t.$text()+i},q.$$arity=1),Q.def(V,"$append_boolean_attribute",j=function(t,e){return ct(e)?" "+t+'="'+t+'"':" "+t},j.$$arity=2),Q.def(V,"$encode_quotes",U=function(t){return ct(t["$include?"]('"'))?t.$gsub('"',"&quot;"):t},U.$$arity=1),Q.def(V,"$generate_manname_section",H=function(t){var e,r=it,n=it,i=it,$=it;return r=t.$attr("manname-title","Name"),ct(ct(e=n=t.$sections()["$[]"](0))?(i=n.$title())["$=="](i.$upcase()):e)&&(r=r.$upcase()),"<h2"+(ct($=t.$attr("manname-id"))?' id="'+$+'"':"")+">"+r+'</h2>\n<div class="sectionbody">\n<p>'+t.$attr("manname")+" - "+t.$attr("manpurpose")+"</p>\n</div>"},H.$$arity=1),Q.def(V,"$append_link_constraint_attrs",Y=function(t,e){var r,n=it,i=it;return null==e&&(e=[]),ct(t["$option?"]("nofollow"))&&(n="nofollow"),ct(i=t.$attributes()["$[]"]("window"))?(e["$<<"](' target="'+i+'"'),ct(ct(r=i["$=="]("_blank"))?r:t["$option?"]("noopener"))&&e["$<<"](ct(n)?' rel="'+n+' noopener"':' rel="noopener"')):ct(n)&&e["$<<"](' rel="'+n+'"'),e},Y.$$arity=-2),Q.def(V,"$read_svg_contents",G=function(e,t){var r,n=it,i=it,$=it;return ct(n=e.$read_contents(t,lt(["start","normalize","label"],{start:e.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))&&(ct(n["$start_with?"]("<svg"))||(n=n.$sub(at(J,"SvgPreambleRx"),"")),i=$=it,ot(["width","height"],"each",[],((r=function(t){r.$$s;return null==t&&(t=it),ct(e["$attr?"](t))?(ct($)||($=(i=n.$match(at(J,"SvgStartTagRx"))["$[]"](0)).$gsub(at(J,"DimensionAttributeRx"),"")),$=$.$chop()+" "+t+'="'+e.$attr(t)+'px">'):it}).$$s=this,r.$$arity=1,r)),ct($)&&(n=""+$+n["$[]"](Q.Range.$new(i.$length(),-1,!1)))),n},G.$$arity=2)}(at(i,"Converter"),$t(at(i,"Converter"),"BuiltIn"),i)}(t[0],t)},Opal.modules["asciidoctor/extensions"]=function(j){function U(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function H(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function Y(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function G(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var t=j.top,e=[],W=j.nil,X=j.const_get_qualified,V=j.const_get_relative,K=(j.breaker,j.slice,j.truthy),c=j.module,J=j.klass,Z=j.hash2,Q=j.send,h=j.hash;return j.add_stubs(["$require","$to_s","$[]=","$config","$-","$nil_or_empty?","$name","$grep","$constants","$include","$const_get","$extend","$attr_reader","$merge","$class","$update","$raise","$document","$==","$doctype","$[]","$+","$level","$delete","$>","$casecmp","$new","$title=","$sectname=","$special=","$fetch","$numbered=","$!","$key?","$attr?","$special","$numbered","$generate_id","$title","$id=","$update_attributes","$tr","$basename","$create_block","$assign_caption","$===","$next_block","$dup","$<<","$has_more_lines?","$each","$define_method","$unshift","$shift","$send","$empty?","$size","$call","$option","$flatten","$respond_to?","$include?","$split","$to_i","$compact","$inspect","$attr_accessor","$to_set","$match?","$resolve_regexp","$method","$register","$values","$groups","$arity","$instance_exec","$to_proc","$activate","$add_document_processor","$any?","$select","$add_syntax_processor","$to_sym","$instance_variable_get","$kind","$private","$join","$map","$capitalize","$instance_variable_set","$resolve_args","$freeze","$process_block_given?","$source_location","$resolve_class","$<","$update_config","$push","$as_symbol","$name=","$pop","$-@","$next_auto_id","$generate_name","$class_for_name","$reduce","$const_defined?"]),K(V(e,"Asciidoctor","skip_raise")?"constant":W)||t.$require("asciidoctor".$to_s()),function(t,e){function r(){}var n=r=c(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e){function r(){}var n=r=c(t,"Extensions",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f=n=J(t,null,"Processor",n),p=f.prototype,m=[f].concat(r);p.config=W,function(t,e){t.prototype;var r,n,i,$=[t].concat(e);j.def(t,"$config",r=function(){var t;return null==this.config&&(this.config=W),this.config=K(t=this.config)?t:Z([],{})},r.$$arity=0),j.def(t,"$option",n=function(t,e){var r=W;return r=[t,e],Q(this.$config(),"[]=",j.to_a(r)),r[U(r.length,1)]},n.$$arity=2),j.def(t,"$use_dsl",i=function(){return K(this.$name()["$nil_or_empty?"]())?K((j.Module.$$nesting=$,this.$constants()).$grep("DSL"))?this.$include(this.$const_get("DSL")):W:K((j.Module.$$nesting=$,this.$constants()).$grep("DSL"))?this.$extend(this.$const_get("DSL")):W},i.$$arity=0),j.alias(t,"extend_dsl","use_dsl"),j.alias(t,"include_dsl","use_dsl")}(j.get_singleton_class(f),m),f.$attr_reader("config"),j.def(f,"$initialize",i=function(t){return null==t&&(t=Z([],{})),this.config=this.$class().$config().$merge(t)},i.$$arity=-1),j.def(f,"$update_config",$=function(t){return this.config.$update(t)},$.$$arity=1),j.def(f,"$process",a=function(t){var e;return e=j.slice.call(arguments,0,arguments.length),e,this.$raise(X("::","NotImplementedError"),"Asciidoctor::Extensions::Processor subclass must implement #process method")},a.$$arity=-1),j.def(f,"$create_section",s=function(t,e,r,n){var i,$=W,a=W,s=W,o=W,l=W,c=W,u=W,_=W,d=W,h=W;return null==n&&(n=Z([],{})),$=t.$document(),a=(s=$.$doctype())["$=="]("book"),o=K(i=n["$[]"]("level"))?i:H(t.$level(),1),K(l=r.$delete("style"))?K(K(i=a)?l["$=="]("abstract"):i)?(c=(i=["chapter",1])[0],o=i[1]):(c=(i=[l,!0])[0],u=i[1],o["$=="](0)&&(o=1)):K(a)?c=o["$=="](0)?"part":K(Y(o,1))?"section":"chapter":K((i=s["$=="]("manpage"))?e.$casecmp("synopsis")["$=="](0):s["$=="]("manpage"))?(c=(i=["synopsis",!0])[0],u=i[1]):c="section",_=V(m,"Section").$new(t,o),i=[e,c],_["$title="](i[0]),_["$sectname="](i[1]),K(u)?(d=[!0],Q(_,"special=",j.to_a(d)),d[U(d.length,1)],K(n.$fetch("numbered",l["$=="]("appendix")))?(d=[!0],Q(_,"numbered=",j.to_a(d)),d[U(d.length,1)]):K(K(i=n["$key?"]("numbered")["$!"]())?$["$attr?"]("sectnums","all"):i)&&(d=[!K(K(i=a)?o["$=="](1):i)||"chapter"],Q(_,"numbered=",j.to_a(d)),d[U(d.length,1)])):K(Y(o,0))?K(n.$fetch("numbered",$["$attr?"]("sectnums")))&&(d=[!K(_.$special())||!!K(i=t.$numbered())||i],Q(_,"numbered=",j.to_a(d)),d[U(d.length,1)]):K(n.$fetch("numbered",K(i=a)?$["$attr?"]("partnums"):i))&&(d=[!0],Q(_,"numbered=",j.to_a(d)),d[U(d.length,1)]),(h=r.$delete("id"))["$=="](!1)||(d=[(d=["id",K(i=h)?i:K($["$attr?"]("sectids"))?V(m,"Section").$generate_id(_.$title(),$):W],Q(r,"[]=",j.to_a(d)),d[U(d.length,1)])],Q(_,"id=",j.to_a(d)),d[U(d.length,1)]),_.$update_attributes(r),_},s.$$arity=-4),j.def(f,"$create_block",o=function(t,e,r,n,i){return null==i&&(i=Z([],{})),V(m,"Block").$new(t,e,Z(["source","attributes"],{source:r,attributes:n}).$merge(i))},o.$$arity=-5),j.def(f,"$create_list",l=function(t,e,r){var n=W;return null==r&&(r=W),n=V(m,"List").$new(t,e),K(r)&&n.$update_attributes(r),n},l.$$arity=-3),j.def(f,"$create_list_item",c=function(t,e){return null==e&&(e=W),V(m,"ListItem").$new(t,e)},c.$$arity=-2),j.def(f,"$create_image_block",u=function(t,e,r){var n,i=W,$=W,a=W,s=W;return null==r&&(r=Z([],{})),K(i=e["$[]"]("target"))||this.$raise(X("::","ArgumentError"),"Unable to create an image block, target attribute is required"),K(n=e["$[]"]("alt"))||($=["alt",($=["default-alt",V(m,"Helpers").$basename(i,!0).$tr("_-"," ")],Q(e,"[]=",j.to_a($)),$[U($.length,1)])],Q(e,"[]=",j.to_a($)),$[U($.length,1)]),a=K(e["$key?"]("title"))?e.$delete("title"):W,s=this.$create_block(t,"image",W,e,r),K(a)&&($=[a],Q(s,"title=",j.to_a($)),$[U($.length,1)],s.$assign_caption(e.$delete("caption"),K(n=r["$[]"]("caption_context"))?n:"figure")),s},u.$$arity=-3),j.def(f,"$create_inline",_=function(t,e,r,n){return null==n&&(n=Z([],{})),V(m,"Inline").$new(t,e,r,n)},_.$$arity=-4),j.def(f,"$parse_content",d=function(t,e,r){var n,i,$=W,a=W;for(null==r&&(r=W),$=K(V(m,"Reader")["$==="](e))?e:V(m,"Reader").$new(e);K(K(n=K(i=a=V(m,"Parser").$next_block($,t,K(r)?r.$dup():Z([],{})))?t["$<<"](a):i)?n:$["$has_more_lines?"]()););return t},d.$$arity=-3),Q([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]],"each",[],((h=function(t,i,$){var a,e=h.$$s||this;return null==t&&(t=W),null==i&&(i=W),null==$&&($=W),Q(e,"define_method",[t],((a=function(t){var e,r,n=a.$$s||this;return e=j.slice.call(arguments,0,arguments.length),(r=e).$unshift(r.$shift(),$),Q(n,"send",[i].concat(j.to_a(r)))}).$$s=e,a.$$arity=-1,a))}).$$s=f,h.$$arity=3,h))}(i[0],0,i),function(t,e){function r(){}var n,a,i,$=r=c(t,"ProcessorDsl",r);$.prototype,[$].concat(e);j.def($,"$option",n=function(t,e){var r=W;return r=[t,e],Q(this.$config(),"[]=",j.to_a(r)),r[U(r.length,1)]},n.$$arity=2),j.def($,"$process",a=function(t){var e,r,n,i=a.$$p,$=i||W;return null==this.process_block&&(this.process_block=W),i&&(a.$$p=null),i&&(a.$$p=null),e=j.slice.call(arguments,0,arguments.length),r=e,$!==W?(K(r["$empty?"]())||this.$raise(X("::","ArgumentError"),"wrong number of arguments (given "+r.$size()+", expected 0)"),this.process_block=$):K(null!=(n=this.process_block)&&n!==W?"instance-variable":W)?Q(this.process_block,"call",j.to_a(r)):this.$raise(X("::","NotImplementedError"))},a.$$arity=-1),j.def($,"$process_block_given?",i=function(){var t;return null!=(t=this.process_block)&&t!==W?"instance-variable":W},i.$$arity=0)}(i[0],i),function(t,e){function r(){}var n,i=r=c(t,"DocumentProcessorDsl",r),$=(i.prototype,[i].concat(e));i.$include(V($,"ProcessorDsl")),j.def(i,"$prefer",n=function(){return this.$option("position",">>")},n.$$arity=0)}(i[0],i),function(t,e){function r(){}var n,i,$,a,s,o=r=c(t,"SyntaxProcessorDsl",r),l=(o.prototype,[o].concat(e));o.$include(V(l,"ProcessorDsl")),j.def(o,"$named",n=function(t){return K(V(l,"Processor")["$==="](this))?this.name=t:this.$option("name",t)},n.$$arity=1),j.alias(o,"match_name","named"),j.def(o,"$content_model",i=function(t){return this.$option("content_model",t)},i.$$arity=1),j.alias(o,"parse_content_as","content_model"),j.alias(o,"parses_content_as","content_model"),j.def(o,"$positional_attrs",$=function(t){var e,r;return e=j.slice.call(arguments,0,arguments.length),r=e,this.$option("pos_attrs",r.$flatten())},$.$$arity=-1),j.alias(o,"name_attributes","positional_attrs"),j.alias(o,"name_positional_attributes","positional_attrs"),j.def(o,"$default_attrs",a=function(t){return this.$option("default_attrs",t)},a.$$arity=1),j.def(o,"$resolves_attributes",s=function(t){var e,r,n,s,o,i=this,$=W,l=W,c=W;return e=j.slice.call(arguments,0,arguments.length),K(Y((r=e).$size(),1))||K((r=r.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(r=[r]),(!0)["$==="]($=r)?(i.$option("pos_attrs",[]),i.$option("default_attrs",Z([],{}))):X("::","Array")["$==="]($)?(n=[[],Z([],{})],l=n[0],c=n[1],Q(r,"each",[],((s=function(t){s.$$s;var e,r,n=W,i=W,$=W,a=W;return null==t&&(t=W),K((t=t.$to_s())["$include?"]("="))?(r=t.$split("=",2),e=j.to_ary(r),n=null==e[0]?W:e[0],i=null==e[1]?W:e[1],K(n["$include?"](":"))&&(r=n.$split(":",2),e=j.to_ary(r),$=null==e[0]?W:e[0],n=null==e[1]?W:e[1],$=$["$=="]("@")?l.$size():$.$to_i(),a=[$,n],Q(l,"[]=",j.to_a(a)),a[U(a.length,1)]),a=[n,i],Q(c,"[]=",j.to_a(a)),a[U(a.length,1)]):K(t["$include?"](":"))?(r=t.$split(":",2),e=j.to_ary(r),$=null==e[0]?W:e[0],n=null==e[1]?W:e[1],$=$["$=="]("@")?l.$size():$.$to_i(),a=[$,n],Q(l,"[]=",j.to_a(a)),a[U(a.length,1)]):l["$<<"](t)}).$$s=i,s.$$arity=1,s)),i.$option("pos_attrs",l.$compact()),i.$option("default_attrs",c)):X("::","Hash")["$==="]($)?(n=[[],Z([],{})],l=n[0],c=n[1],Q(r,"each",[],((o=function(t,e){o.$$s;var r,n,i=W,$=W,a=W;return null==t&&(t=W),null==e&&(e=W),K((i=t.$to_s())["$include?"](":"))&&(n=i.$split(":",2),r=j.to_ary(n),$=null==r[0]?W:r[0],i=null==r[1]?W:r[1],$=$["$=="]("@")?l.$size():$.$to_i(),a=[$,i],Q(l,"[]=",j.to_a(a)),a[U(a.length,1)]),K(e)?(a=[i,e],Q(c,"[]=",j.to_a(a)),a[U(a.length,1)]):W}).$$s=i,o.$$arity=2,o)),i.$option("pos_attrs",l.$compact()),i.$option("default_attrs",c)):i.$raise(X("::","ArgumentError"),"unsupported attributes specification for macro: "+r.$inspect())},s.$$arity=-1),j.alias(o,"resolve_attributes","resolves_attributes")}(i[0],i),function(t,e,r){function n(){}var i,$=n=J(t,e,"Preprocessor",n);$.prototype,[$].concat(r);j.def($,"$process",i=function(t,e){return this.$raise(X("::","NotImplementedError"),"Asciidoctor::Extensions::Preprocessor subclass must implement #process method")},i.$$arity=2)}(i[0],V(i,"Processor"),i),j.const_set(V(i,"Preprocessor"),"DSL",V(i,"DocumentProcessorDsl")),function(t,e,r){function n(){}var i,$=n=J(t,e,"TreeProcessor",n);$.prototype,[$].concat(r);j.def($,"$process",i=function(t){return this.$raise(X("::","NotImplementedError"),"Asciidoctor::Extensions::TreeProcessor subclass must implement #process method")},i.$$arity=1)}(i[0],V(i,"Processor"),i),j.const_set(V(i,"TreeProcessor"),"DSL",V(i,"DocumentProcessorDsl")),j.const_set(i[0],"Treeprocessor",V(i,"TreeProcessor")),function(t,e,r){function n(){}var i,$=n=J(t,e,"Postprocessor",n);$.prototype,[$].concat(r);j.def($,"$process",i=function(t,e){return this.$raise(X("::","NotImplementedError"),"Asciidoctor::Extensions::Postprocessor subclass must implement #process method")},i.$$arity=2)}(i[0],V(i,"Processor"),i),j.const_set(V(i,"Postprocessor"),"DSL",V(i,"DocumentProcessorDsl")),function(t,e,r){function n(){}var i,$,a=n=J(t,e,"IncludeProcessor",n);a.prototype,[a].concat(r);j.def(a,"$process",i=function(t,e,r,n){return this.$raise(X("::","NotImplementedError"),"Asciidoctor::Extensions::IncludeProcessor subclass must implement #process method")},i.$$arity=4),j.def(a,"$handles?",$=function(t){return!0},$.$$arity=1)}(i[0],V(i,"Processor"),i),function(t,e){function r(){}var a,n=r=c(t,"IncludeProcessorDsl",r),i=(n.prototype,[n].concat(e));n.$include(V(i,"DocumentProcessorDsl")),j.def(n,"$handles?",a=function(t){var e,r,n,i=a.$$p,$=i||W;return null==this.handles_block&&(this.handles_block=W),i&&(a.$$p=null),i&&(a.$$p=null),e=j.slice.call(arguments,0,arguments.length),r=e,$!==W?(K(r["$empty?"]())||this.$raise(X("::","ArgumentError"),"wrong number of arguments (given "+r.$size()+", expected 0)"),this.handles_block=$):!K(null!=(n=this.handles_block)&&n!==W?"instance-variable":W)||this.handles_block.$call(r["$[]"](0))},a.$$arity=-1)}(i[0],i),j.const_set(V(i,"IncludeProcessor"),"DSL",V(i,"IncludeProcessorDsl")),function(t,e,r){function n(){}var i,$,a=n=J(t,e,"DocinfoProcessor",n),s=a.prototype;[a].concat(r);s.config=W,a.$attr_accessor("location"),j.def(a,"$initialize",i=function(t){var e,r=i.$$p,n=W;return r&&(i.$$p=null),null==t&&(t=Z([],{})),Q(this,j.find_super_dispatcher(this,"initialize",i,!1),[t],null),K(e=this.config["$[]"]("location"))?e:(n=["location","head"],Q(this.config,"[]=",j.to_a(n)),n[U(n.length,1)])},i.$$arity=-1),j.def(a,"$process",$=function(t){return this.$raise(X("::","NotImplementedError"),"Asciidoctor::Extensions::DocinfoProcessor subclass must implement #process method")},$.$$arity=1)}(i[0],V(i,"Processor"),i),function(t,e){function r(){}var n,i=r=c(t,"DocinfoProcessorDsl",r),$=(i.prototype,[i].concat(e));i.$include(V($,"DocumentProcessorDsl")),j.def(i,"$at_location",n=function(t){return this.$option("location",t)},n.$$arity=1)}(i[0],i),j.const_set(V(i,"DocinfoProcessor"),"DSL",V(i,"DocinfoProcessorDsl")),function(t,e,r){function n(){}var s,i,$=n=J(t,e,"BlockProcessor",n),a=$.prototype;[$].concat(r);a.config=W,$.$attr_accessor("name"),j.def($,"$initialize",s=function(t,e){var r,n=s.$$p,i=this,$=W,a=W;return n&&(s.$$p=null),null==t&&(t=W),null==e&&(e=Z([],{})),Q(i,j.find_super_dispatcher(i,"initialize",s,!1),[e],null),i.name=K(r=t)?r:i.config["$[]"]("name"),$=i.config["$[]"]("contexts"),X("::","NilClass")["$==="]($)?K(r=i.config["$[]"]("contexts"))||(a=["contexts",["open","paragraph"].$to_set()],Q(i.config,"[]=",j.to_a(a)),a[U(a.length,1)]):(a=X("::","Symbol")["$==="]($)?["contexts",[i.config["$[]"]("contexts")].$to_set()]:["contexts",i.config["$[]"]("contexts").$to_set()],Q(i.config,"[]=",j.to_a(a)),a[U(a.length,1)]),K(r=i.config["$[]"]("content_model"))?r:(a=["content_model","compound"],Q(i.config,"[]=",j.to_a(a)),a[U(a.length,1)])},s.$$arity=-1),j.def($,"$process",i=function(t,e,r){return this.$raise(X("::","NotImplementedError"),"Asciidoctor::Extensions::BlockProcessor subclass must implement #process method")},i.$$arity=3)}(i[0],V(i,"Processor"),i),function(t,e){function r(){}var n,i=r=c(t,"BlockProcessorDsl",r),$=(i.prototype,[i].concat(e));i.$include(V($,"SyntaxProcessorDsl")),j.def(i,"$contexts",n=function(t){var e,r;return e=j.slice.call(arguments,0,arguments.length),r=e,this.$option("contexts",r.$flatten().$to_set())},n.$$arity=-1),j.alias(i,"on_contexts","contexts"),j.alias(i,"on_context","contexts"),j.alias(i,"bound_to","contexts")}(i[0],i),j.const_set(V(i,"BlockProcessor"),"DSL",V(i,"BlockProcessorDsl")),function(t,e,r){function n(){}var $,i,a=n=J(t,e,"MacroProcessor",n),s=a.prototype;[a].concat(r);s.config=W,a.$attr_accessor("name"),j.def(a,"$initialize",$=function(t,e){var r,n=$.$$p,i=W;return n&&($.$$p=null),null==t&&(t=W),null==e&&(e=Z([],{})),Q(this,j.find_super_dispatcher(this,"initialize",$,!1),[e],null),this.name=K(r=t)?r:this.config["$[]"]("name"),K(r=this.config["$[]"]("content_model"))?r:(i=["content_model","attributes"],Q(this.config,"[]=",j.to_a(i)),i[U(i.length,1)])},$.$$arity=-1),j.def(a,"$process",i=function(t,e,r){return this.$raise(X("::","NotImplementedError"),"Asciidoctor::Extensions::MacroProcessor subclass must implement #process method")},i.$$arity=3)}(i[0],V(i,"Processor"),i),function(t,e){function r(){}var s,n=r=c(t,"MacroProcessorDsl",r),i=(n.prototype,[n].concat(e));n.$include(V(i,"SyntaxProcessorDsl")),j.def(n,"$resolves_attributes",s=function(t){var e,r,n=s.$$p,i=W,$=W,a=W;for(n&&(s.$$p=null),$=0,a=arguments.length,i=new Array(a);$<a;$++)i[$]=arguments[$];return e=j.slice.call(arguments,0,arguments.length),K((r=e).$size()["$=="](1)?r["$[]"](0)["$!"]():r.$size()["$=="](1))?(this.$option("content_model","text"),W):(Q(this,j.find_super_dispatcher(this,"resolves_attributes",s,!1),i,n),this.$option("content_model","attributes"))},s.$$arity=-1),j.alias(n,"resolve_attributes","resolves_attributes")}(i[0],i),function(t,e,r){function n(){}var i,$=n=J(t,e,"BlockMacroProcessor",n),a=$.prototype,s=[$].concat(r);a.name=W,j.def($,"$name",i=function(){return K(V(s,"MacroNameRx")["$match?"](this.name.$to_s()))||this.$raise(X("::","ArgumentError"),"invalid name for block macro: "+this.name),this.name},i.$$arity=0)}(i[0],V(i,"MacroProcessor"),i),j.const_set(V(i,"BlockMacroProcessor"),"DSL",V(i,"MacroProcessorDsl")),function(t,e,r){function $(){}var n,i,a=$=J(t,e,"InlineMacroProcessor",$),s=a.prototype,o=[a].concat(r);s.config=s.name=W,j.class_variable_set($,"@@rx_cache",Z([],{})),j.def(a,"$regexp",n=function(){var t,e=W;return K(t=this.config["$[]"]("regexp"))?t:(e=["regexp",this.$resolve_regexp(this.name.$to_s(),this.config["$[]"]("format"))],Q(this.config,"[]=",j.to_a(e)),e[U(e.length,1)])},n.$$arity=0),j.def(a,"$resolve_regexp",i=function(t,e){var r,n,i=W;return K(V(o,"MacroNameRx")["$match?"](t))||this.$raise(X("::","ArgumentError"),"invalid name for inline macro: "+t),K(r=(null==(n=$.$$cvars["@@rx_cache"])?W:n)["$[]"]([t,e]))?r:(i=[[t,e],new RegExp("\\\\?"+t+":"+(e["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|.*?[^\\\\])\\]")],Q(null==(n=$.$$cvars["@@rx_cache"])?W:n,"[]=",j.to_a(i)),i[U(i.length,1)])},i.$$arity=2)}(i[0],V(i,"MacroProcessor"),i),function(t,e){function r(){}var n,i,$=r=c(t,"InlineMacroProcessorDsl",r),a=($.prototype,[$].concat(e));$.$include(V(a,"MacroProcessorDsl")),j.def($,"$with_format",n=function(t){return this.$option("format",t)},n.$$arity=1),j.alias($,"using_format","with_format"),j.def($,"$matches",i=function(t){return this.$option("regexp",t)},i.$$arity=1),j.alias($,"match","matches"),j.alias($,"matching","matches")}(i[0],i),j.const_set(V(i,"InlineMacroProcessor"),"DSL",V(i,"InlineMacroProcessorDsl")),function(t,e,r){function n(){}var i,$=n=J(t,null,"Extension",n);$.prototype,[$].concat(r);$.$attr_reader("kind"),$.$attr_reader("config"),$.$attr_reader("instance"),j.def($,"$initialize",i=function(t,e,r){return this.kind=t,this.instance=e,this.config=r},i.$$arity=3)}(i[0],0,i),function(t,e,r){function n(){}var $,i=n=J(t,e,"ProcessorExtension",n);i.prototype,[i].concat(r);i.$attr_reader("process_method"),j.def(i,"$initialize",$=function(t,e,r){var n,i=$.$$p;return i&&($.$$p=null),null==r&&(r=W),Q(this,j.find_super_dispatcher(this,"initialize",$,!1),[t,e,e.$config()],null),this.process_method=K(n=r)?n:e.$method("process")},$.$$arity=-3)}(i[0],V(i,"Extension"),i),function(t,e,r){function n(){}var i,$=n=J(t,null,"Group",n),a=($.prototype,[$].concat(r));(function(t,e){t.prototype;var r,n=[t].concat(e);j.def(t,"$register",r=function(t){return null==t&&(t=W),V(n,"Extensions").$register(t,this)},r.$$arity=-1)})(j.get_singleton_class($),a),j.def($,"$activate",i=function(t){return this.$raise(X("::","NotImplementedError"))},i.$$arity=1)}(i[0],0,i),function(t,e,r){function n(){}var i,$,a,s,o,l,c,u,_,d,h,f,p,m,y,g,b,v,x,k,w,E,A,O,S,R,C,T,M,I,N,P,z,L,D,F=n=J(t,null,"Registry",n),B=F.prototype,q=[F].concat(r);B.groups=B.preprocessor_extensions=B.tree_processor_extensions=B.postprocessor_extensions=B.include_processor_extensions=B.docinfo_processor_extensions=B.block_extensions=B.block_macro_extensions=B.inline_macro_extensions=W,F.$attr_reader("document"),F.$attr_reader("groups"),j.def(F,"$initialize",i=function(t){var e=this;return null==t&&(t=Z([],{})),e.groups=t,e.preprocessor_extensions=e.tree_processor_extensions=e.postprocessor_extensions=e.include_processor_extensions=e.docinfo_processor_extensions=e.block_extensions=e.block_macro_extensions=e.inline_macro_extensions=W,e.document=W},i.$$arity=-1),j.def(F,"$activate",$=function(t){var n,e=W;return this.document=t,K((e=H(V(q,"Extensions").$groups().$values(),this.groups.$values()))["$empty?"]())||Q(e,"each",[],((n=function(t){var e=n.$$s||this,r=W;return null==t&&(t=W),r=t,X("::","Proc")["$==="](r)?(r=t.$arity(),(0)["$==="](r)||(-1)["$==="](r)?Q(e,"instance_exec",[],t.$to_proc()):1["$==="](r)?t.$call(e):W):X("::","Class")["$==="](r)?t.$new().$activate(e):t.$activate(e)}).$$s=this,n.$$arity=1,n)),this},$.$$arity=1),j.def(F,"$preprocessor",a=function(t){var e,r=a.$$p,n=r||W;return r&&(a.$$p=null),r&&(a.$$p=null),e=j.slice.call(arguments,0,arguments.length),Q(this,"add_document_processor",["preprocessor",e],n.$to_proc())},a.$$arity=-1),j.def(F,"$preprocessors?",s=function(){return this.preprocessor_extensions["$!"]()["$!"]()},s.$$arity=0),j.def(F,"$preprocessors",o=function(){return this.preprocessor_extensions},o.$$arity=0),j.def(F,"$tree_processor",l=function(t){var e,r=l.$$p,n=r||W;return r&&(l.$$p=null),r&&(l.$$p=null),e=j.slice.call(arguments,0,arguments.length),Q(this,"add_document_processor",["tree_processor",e],n.$to_proc())},l.$$arity=-1),j.def(F,"$tree_processors?",c=function(){return this.tree_processor_extensions["$!"]()["$!"]()},c.$$arity=0),j.def(F,"$tree_processors",u=function(){return this.tree_processor_extensions},u.$$arity=0),j.alias(F,"treeprocessor","tree_processor"),j.alias(F,"treeprocessors?","tree_processors?"),j.alias(F,"treeprocessors","tree_processors"),j.def(F,"$postprocessor",_=function(t){var e,r=_.$$p,n=r||W;return r&&(_.$$p=null),r&&(_.$$p=null),e=j.slice.call(arguments,0,arguments.length),Q(this,"add_document_processor",["postprocessor",e],n.$to_proc())},_.$$arity=-1),j.def(F,"$postprocessors?",d=function(){return this.postprocessor_extensions["$!"]()["$!"]()},d.$$arity=0),j.def(F,"$postprocessors",h=function(){return this.postprocessor_extensions},h.$$arity=0),j.def(F,"$include_processor",f=function(t){var e,r=f.$$p,n=r||W;return r&&(f.$$p=null),r&&(f.$$p=null),e=j.slice.call(arguments,0,arguments.length),Q(this,"add_document_processor",["include_processor",e],n.$to_proc())},f.$$arity=-1),j.def(F,"$include_processors?",p=function(){return this.include_processor_extensions["$!"]()["$!"]()},p.$$arity=0),j.def(F,"$include_processors",m=function(){return this.include_processor_extensions},m.$$arity=0),j.def(F,"$docinfo_processor",y=function(t){var e,r=y.$$p,n=r||W;return r&&(y.$$p=null),r&&(y.$$p=null),e=j.slice.call(arguments,0,arguments.length),Q(this,"add_document_processor",["docinfo_processor",e],n.$to_proc())},y.$$arity=-1),j.def(F,"$docinfo_processors?",g=function(e){var r;return null==e&&(e=W),!!K(this.docinfo_processor_extensions)&&(!K(e)||Q(this.docinfo_processor_extensions,"any?",[],((r=function(t){r.$$s;return null==t&&(t=W),t.$config()["$[]"]("location")["$=="](e)}).$$s=this,r.$$arity=1,r)))},g.$$arity=-1),j.def(F,"$docinfo_processors",b=function(e){var r;return null==e&&(e=W),K(this.docinfo_processor_extensions)?K(e)?Q(this.docinfo_processor_extensions,"select",[],((r=function(t){r.$$s;return null==t&&(t=W),t.$config()["$[]"]("location")["$=="](e)}).$$s=this,r.$$arity=1,r)):this.docinfo_processor_extensions:W},b.$$arity=-1),j.def(F,"$block",v=function(t){var e,r=v.$$p,n=r||W;return r&&(v.$$p=null),r&&(v.$$p=null),e=j.slice.call(arguments,0,arguments.length),Q(this,"add_syntax_processor",["block",e],n.$to_proc())},v.$$arity=-1),j.def(F,"$blocks?",x=function(){return this.block_extensions["$!"]()["$!"]()},x.$$arity=0),j.def(F,"$registered_for_block?",k=function(t,e){var r=W;return!!K(r=this.block_extensions["$[]"](t.$to_sym()))&&(!!K(r.$config()["$[]"]("contexts")["$include?"](e))&&r)},k.$$arity=2),j.def(F,"$find_block_extension",w=function(t){return this.block_extensions["$[]"](t.$to_sym())},w.$$arity=1),j.def(F,"$block_macro",E=function(t){var e,r=E.$$p,n=r||W;return r&&(E.$$p=null),r&&(E.$$p=null),e=j.slice.call(arguments,0,arguments.length),Q(this,"add_syntax_processor",["block_macro",e],n.$to_proc())},E.$$arity=-1),j.def(F,"$block_macros?",A=function(){return this.block_macro_extensions["$!"]()["$!"]()},A.$$arity=0),j.def(F,"$registered_for_block_macro?",O=function(t){var e=W;return!!K(e=this.block_macro_extensions["$[]"](t.$to_sym()))&&e},O.$$arity=1),j.def(F,"$find_block_macro_extension",S=function(t){return this.block_macro_extensions["$[]"](t.$to_sym())},S.$$arity=1),j.def(F,"$inline_macro",R=function(t){var e,r=R.$$p,n=r||W;return r&&(R.$$p=null),r&&(R.$$p=null),e=j.slice.call(arguments,0,arguments.length),Q(this,"add_syntax_processor",["inline_macro",e],n.$to_proc())},R.$$arity=-1),j.def(F,"$inline_macros?",C=function(){return this.inline_macro_extensions["$!"]()["$!"]()},C.$$arity=0),j.def(F,"$registered_for_inline_macro?",T=function(t){var e=W;return!!K(e=this.inline_macro_extensions["$[]"](t.$to_sym()))&&e},T.$$arity=1),j.def(F,"$find_inline_macro_extension",M=function(t){return this.inline_macro_extensions["$[]"](t.$to_sym())},M.$$arity=1),j.def(F,"$inline_macros",I=function(){return this.inline_macro_extensions.$values()},I.$$arity=0),j.def(F,"$prefer",N=function(t){var e,r,n=N.$$p,i=n||W,$=this,a=W,s=W,o=W;return n&&(N.$$p=null),n&&(N.$$p=null),e=j.slice.call(arguments,0,arguments.length),r=e,a=K(V(q,"ProcessorExtension")["$==="](s=r.$shift()))?s:Q($,"send",[s].concat(j.to_a(r)),i.$to_proc()),(o=$.$instance_variable_get(("@"+a.$kind()+"_extensions").$to_sym())).$unshift(o.$delete(a)),a},N.$$arity=-1),F.$private(),j.def(F,"$add_document_processor",P=function(t,e){var r,n,i,$=P.$$p,a=$||W,s=this,o=W,l=W,c=W,u=W,_=W,d=W,h=W,f=W,p=W,m=W;return $&&(P.$$p=null),$&&(P.$$p=null),o=t.$to_s().$tr("_"," "),l=Q(o.$split(),"map",[],(r=function(t){r.$$s;return null==t&&(t=W),t.$capitalize()},r.$$s=s,r.$$arity=1,r)).$join().$to_sym(),c=V(q,"Extensions").$const_get(l),u=K(X("::","AsciidoctorJ","skip_raise")?"constant":W)?X(X("::","AsciidoctorJ"),"Extensions").$const_get(l):W,_=K(n=s.$instance_variable_get(("@"+t+"_extensions").$to_sym()))?n:s.$instance_variable_set(("@"+t+"_extensions").$to_sym(),[]),(d=a!==W?(h=s.$resolve_args(e,1),f=c.$new(h),K(c.$constants().$grep("DSL"))&&f.$extend(c.$const_get("DSL")),Q(f,"instance_exec",[],a.$to_proc()),f.$freeze(),K(f["$process_block_given?"]())||s.$raise(X("::","ArgumentError"),"No block specified to process "+o+" extension at "+a.$source_location()),V(q,"ProcessorExtension").$new(t,f)):(i=s.$resolve_args(e,2),n=j.to_ary(i),f=null==n[0]?W:n[0],h=null==n[1]?W:n[1],K(p=V(q,"Extensions").$resolve_class(f))?(K(K(n=G(p,c))?n:K(i=u)?G(p,u):i)||s.$raise(X("::","ArgumentError"),"Invalid type for "+o+" extension: "+f),(m=p.$new(h)).$freeze(),V(q,"ProcessorExtension").$new(t,m)):K(K(n=c["$==="](f))?n:K(i=u)?u["$==="](f):i)?(f.$update_config(h),f.$freeze(),V(q,"ProcessorExtension").$new(t,f)):s.$raise(X("::","ArgumentError"),"Invalid arguments specified for registering "+o+" extension: "+e))).$config()["$[]"]("position")["$=="](">>")?_.$unshift(d):_["$<<"](d),d},P.$$arity=2),j.def(F,"$add_syntax_processor",z=function(t,e){var r,n,i,$=z.$$p,a=$||W,s=this,o=W,l=W,c=W,u=W,_=W,d=W,h=W,f=W,p=W,m=W,y=W;return $&&(z.$$p=null),$&&(z.$$p=null),o=t.$to_s().$tr("_"," "),l=Q(o.$split(),"map",[],(r=function(t){r.$$s;return null==t&&(t=W),t.$capitalize()},r.$$s=s,r.$$arity=1,r)).$push("Processor").$join().$to_sym(),c=V(q,"Extensions").$const_get(l),u=K(X("::","AsciidoctorJ","skip_raise")?"constant":W)?X(X("::","AsciidoctorJ"),"Extensions").$const_get(l):W,_=K(n=s.$instance_variable_get(("@"+t+"_extensions").$to_sym()))?n:s.$instance_variable_set(("@"+t+"_extensions").$to_sym(),Z([],{})),a!==W?(i=s.$resolve_args(e,2),n=j.to_ary(i),d=null==n[0]?W:n[0],h=null==n[1]?W:n[1],f=c.$new(s.$as_symbol(d),h),K(c.$constants().$grep("DSL"))&&f.$extend(c.$const_get("DSL")),a.$arity()["$=="](1)?j.yield1(a,f):Q(f,"instance_exec",[],a.$to_proc()),K(d=s.$as_symbol(f.$name()))||s.$raise(X("::","ArgumentError"),"No name specified for "+o+" extension at "+a.$source_location()),K(f["$process_block_given?"]())||s.$raise(X("::","NoMethodError"),"No block specified to process "+o+" extension at "+a.$source_location()),f.$freeze(),p=[d,V(q,"ProcessorExtension").$new(t,f)],Q(_,"[]=",j.to_a(p)),p[U(p.length,1)]):(i=s.$resolve_args(e,3),n=j.to_ary(i),f=null==n[0]?W:n[0],d=null==n[1]?W:n[1],h=null==n[2]?W:n[2],K(m=V(q,"Extensions").$resolve_class(f))?(K(K(n=G(m,c))?n:K(i=u)?G(m,u):i)||s.$raise(X("::","ArgumentError"),"Class specified for "+o+" extension does not inherit from "+c+": "+f),y=m.$new(s.$as_symbol(d),h),K(d=s.$as_symbol(y.$name()))||s.$raise(X("::","ArgumentError"),"No name specified for "+o+" extension: "+f),y.$freeze(),p=[d,V(q,"ProcessorExtension").$new(t,y)],Q(_,"[]=",j.to_a(p)),p[U(p.length,1)]):K(K(n=c["$==="](f))?n:K(i=u)?u["$==="](f):i)?(f.$update_config(h),K(d=K(d)?(p=[s.$as_symbol(d)],Q(f,"name=",j.to_a(p)),p[U(p.length,1)]):s.$as_symbol(f.$name()))||s.$raise(X("::","ArgumentError"),"No name specified for "+o+" extension: "+f),f.$freeze(),p=[d,V(q,"ProcessorExtension").$new(t,f)],Q(_,"[]=",j.to_a(p)),p[U(p.length,1)]):s.$raise(X("::","ArgumentError"),"Invalid arguments specified for registering "+o+" extension: "+e))},z.$$arity=2),j.def(F,"$resolve_args",L=function(t,e){var r=W,n=W;return r=K(X("::","Hash")["$==="](t["$[]"](-1)))?t.$pop():Z([],{}),e["$=="](1)?r:(K(Y(n=U(U(e,1),t.$size()),0))?t=H(t,X("::","Array").$new(n)):K(G(n,0))&&t.$pop(n["$-@"]()),t["$<<"](r),t)},L.$$arity=2),j.def(F,"$as_symbol",D=function(t){return K(t)?t.$to_sym():W},D.$$arity=1)}(i[0],0,i),function(t,e){t.prototype;var r,n,i,$,u,a,s,o,l,c,_,d=[t].concat(e);j.def(t,"$generate_name",r=function(){return"extgrp"+this.$next_auto_id()},r.$$arity=0),j.def(t,"$next_auto_id",n=function(){var t;return null==this.auto_id&&(this.auto_id=W),this.auto_id=K(t=this.auto_id)?t:-1,this.auto_id=H(this.auto_id,1)},n.$$arity=0),j.def(t,"$groups",i=function(){var t;return null==this.groups&&(this.groups=W),this.groups=K(t=this.groups)?t:Z([],{})},i.$$arity=0),j.def(t,"$create",$=function(t){var e,r=$.$$p,n=r||W;return r&&($.$$p=null),r&&($.$$p=null),null==t&&(t=W),n!==W?V(d,"Registry").$new(h(K(e=t)?e:this.$generate_name(),n)):V(d,"Registry").$new()},$.$$arity=-1),j.alias(t,"build_registry","create"),j.def(t,"$register",u=function(t){var e,r,n,i=u.$$p,$=i||W,a=W,s=W,o=W,l=W,c=W;return i&&(u.$$p=null),i&&(u.$$p=null),e=j.slice.call(arguments,0,arguments.length),a=(r=e).$size(),$!==W?s=$:K(o=r.$pop())?s=K(n=this.$resolve_class(o))?n:o:this.$raise(X("::","ArgumentError"),"Extension group to register not specified"),l=K(n=r.$pop())?n:this.$generate_name(),K(r["$empty?"]())||this.$raise(X("::","ArgumentError"),"Wrong number of arguments ("+a+" for 1..2)"),c=[l.$to_sym(),s],Q(this.$groups(),"[]=",j.to_a(c)),c[U(c.length,1)]},u.$$arity=-1),j.def(t,"$unregister_all",a=function(){return this.groups=Z([],{}),W},a.$$arity=0),j.def(t,"$unregister",s=function(t){var e,r;return e=j.slice.call(arguments,0,arguments.length),Q(e,"each",[],((r=function(t){var e=r.$$s||this;return null==e.groups&&(e.groups=W),null==t&&(t=W),e.groups.$delete(t.$to_sym())}).$$s=this,r.$$arity=1,r)),W},s.$$arity=-1),j.def(t,"$resolve_class",o=function(t){var e=this,r=W;return r=t,X("::","Class")["$==="](r)?t:X("::","String")["$==="](r)?e.$class_for_name(t):W},o.$$arity=1),K(X("::","RUBY_MIN_VERSION_2"))?j.def(t,"$class_for_name",l=function(e){var r=this,t=W;try{return t=X("::","Object").$const_get(e,!1),K(X("::","Class")["$==="](t))||r.$raise(),t}catch(t){if(!j.rescue(t,[V(d,"StandardError")]))throw t;try{return r.$raise(X("::","NameError"),"Could not resolve class for name: "+e)}finally{j.pop_exception()}}},l.$$arity=1):K(X("::","RUBY_MIN_VERSION_1_9"))?j.def(t,"$class_for_name",c=function(e){var r,n=this,t=W;try{return t=Q(e.$split("::"),"reduce",[X("::","Object")],((r=function(t,e){r.$$s;return null==t&&(t=W),null==e&&(e=W),K(e["$empty?"]())?t:t.$const_get(e,!1)}).$$s=n,r.$$arity=2,r)),K(X("::","Class")["$==="](t))||n.$raise(),t}catch(t){if(!j.rescue(t,[V(d,"StandardError")]))throw t;try{return n.$raise(X("::","NameError"),"Could not resolve class for name: "+e)}finally{j.pop_exception()}}},c.$$arity=1):j.def(t,"$class_for_name",_=function(e){var n,r=this,t=W;try{return t=Q(e.$split("::"),"reduce",[X("::","Object")],((n=function(t,e){var r=n.$$s||this;return null==t&&(t=W),null==e&&(e=W),K(e["$empty?"]())?t:K(t["$const_defined?"](e))?t.$const_get(e):r.$raise()}).$$s=r,n.$$arity=2,n)),K(X("::","Class")["$==="](t))||r.$raise(),t}catch(t){if(!j.rescue(t,[V(d,"StandardError")]))throw t;try{return r.$raise(X("::","NameError"),"Could not resolve class for name: "+e)}finally{j.pop_exception()}}},_.$$arity=1)}(j.get_singleton_class(n),i)}(i[0],i)}(e[0],e)},Opal.modules["asciidoctor/js/opal_ext/browser/reader"]=function(s){s.top;var t=[],d=s.nil,h=(s.const_get_qualified,s.const_get_relative),$=(s.breaker,s.slice,s.module),o=s.klass,f=s.truthy;return s.add_stubs(["$posixify","$new","$base_dir","$start_with?","$uriish?","$descends_from?","$key?","$attributes","$replace_next_line","$absolute_path?","$==","$empty?","$!","$slice","$length"]),function(t,e){function r(){}var n=r=$(t,"Asciidoctor",r),i=(n.prototype,[n].concat(e));!function(t,e,r){function n(){}var i,$=n=o(t,e,"PreprocessorReader",n),a=$.prototype,_=[$].concat(r);a.path_resolver=a.document=a.include_stack=a.dir=d,s.def($,"$resolve_include_path",i=function(t,e,r){var n,i=this,$=d,a=d,s=d,o=d,l=d,c=d,u=d;if($=(i.path_resolver=f(n=i.path_resolver)?n:h(_,"PathResolver").$new("\\")).$posixify(t),n=["file",i.document.$base_dir()],n[0],a=n[1],f($["$start_with?"]("file://")))s=o=$;else if(f(h(_,"Helpers")["$uriish?"]($))){if(!f(f(n=i.path_resolver["$descends_from?"]($,a))?n:i.document.$attributes()["$key?"]("allow-uri-read")))return i.$replace_next_line("link:"+t+"["+e+"]");s=o=$}else if(f(i.path_resolver["$absolute_path?"]($)))s=o="file://"+(f($["$start_with?"]("/"))?"":"/")+$;else if((l=f(c=i.include_stack["$empty?"]())?a:i.dir)["$=="]("."))s=o=$;else if(f(f(n=l["$start_with?"]("file://"))?n:h(_,"Helpers")["$uriish?"](l)["$!"]()))s=l+"/"+$,o=f(c)?$:f(f(n=a["$=="]("."))?n:(u=i.path_resolver["$descends_from?"](s,a))["$!"]())?s:s.$slice(u,s.$length());else if(f(c))s=l+"/"+(o=$);else{if(!f(f(n=u=i.path_resolver["$descends_from?"](l,a))?n:i.document.$attributes()["$key?"]("allow-uri-read")))return i.$replace_next_line("link:"+t+"["+e+"]");s=l+"/"+$,o=f(u)?s.$slice(u,s.$length()):$}return[s,"file",o]},i.$$arity=3)}(i[0],h(i,"Reader"),i)}(t[0],t)},Opal.modules["asciidoctor/js/postscript"]=function(t){var e=t.top,r=t.nil,n=(t.const_get_qualified,t.const_get_relative);t.breaker,t.slice;return t.add_stubs(["$require","$=="]),e.$require("asciidoctor/converter/composite"),e.$require("asciidoctor/converter/html5"),e.$require("asciidoctor/extensions"),n([],"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?e.$require("asciidoctor/js/opal_ext/browser/reader"):r},function(z){function L(t,e){return"number"==typeof t&&"number"==typeof e?e<=t:t["$>="](e)}function D(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var t=z.top,e=[],F=z.nil,B=z.const_get_qualified,q=z.const_get_relative,j=(z.breaker,z.slice,z.truthy),r=z.gvars,_=z.module,U=z.hash2,H=z.send,d=z.hash;null==r[":"]&&(r[":"]=F),z.add_stubs(["$==","$>=","$require","$unshift","$dirname","$each","$constants","$const_get","$downcase","$to_s","$[]=","$-","$upcase","$[]","$values","$new","$attr_reader","$instance_variable_set","$send","$<<","$define","$expand_path","$join","$home","$pwd","$!","$!=","$default_external","$to_set","$map","$keys","$slice","$merge","$default=","$to_a","$escape","$drop","$insert","$dup","$start","$logger","$logger=","$===","$split","$gsub","$respond_to?","$raise","$ancestors","$class","$path","$utc","$at","$Integer","$mtime","$readlines","$basename","$extname","$index","$strftime","$year","$utc_offset","$rewind","$lines","$each_line","$record","$parse","$exception","$message","$set_backtrace","$backtrace","$stack_trace","$stack_trace=","$open","$load","$delete","$key?","$attributes","$outfilesuffix","$safe","$normalize_system_path","$mkdir_p","$directory?","$convert","$write","$<","$attr?","$attr","$uriish?","$include?","$write_primary_stylesheet","$instance","$empty?","$read_asset","$file?","$write_coderay_stylesheet","$write_pygments_stylesheet"]),j(q(e,"RUBY_ENGINE","skip_raise")?"constant":F)||z.const_set(e[0],"RUBY_ENGINE","unknown"),z.const_set(e[0],"RUBY_ENGINE_OPAL",q(e,"RUBY_ENGINE")["$=="]("opal")),z.const_set(e[0],"RUBY_ENGINE_JRUBY",q(e,"RUBY_ENGINE")["$=="]("jruby")),z.const_set(e[0],"RUBY_MIN_VERSION_1_9",L(q(e,"RUBY_VERSION"),"1.9")),z.const_set(e[0],"RUBY_MIN_VERSION_2",L(q(e,"RUBY_VERSION"),"2")),t.$require("set"),q(e,"RUBY_ENGINE")["$=="]("opal")&&t.$require("asciidoctor/js"),r[":"].$unshift(q(e,"File").$dirname("asciidoctor.rb")),t.$require("asciidoctor/logging"),function(t,e){function r(){}var n,i,$,a,s=r=_(t,"Asciidoctor",r),o=(s.prototype,[s].concat(e)),l=F,c=F,u=F;z.const_set(o[0],"RUBY_ENGINE",B("::","RUBY_ENGINE")),function(t,e){function r(){}var n,i,$,a,s=r=_(t,"SafeMode",r),o=(s.prototype,[s].concat(e)),l=F;z.const_set(o[0],"UNSAFE",0),z.const_set(o[0],"SAFE",1),z.const_set(o[0],"SERVER",10),z.const_set(o[0],"SECURE",20),l=U([],{}),H((z.Module.$$nesting=o,s.$constants()),"each",[],((n=function(t){var e=n.$$s||this,r=F;return null==t&&(t=F),r=[e.$const_get(t),t.$to_s().$downcase()],H(l,"[]=",z.to_a(r)),r[D(r.length,1)]}).$$s=s,n.$$arity=1,n)),s.names_by_value=l,z.defs(s,"$value_for_name",i=function(t){return this.$const_get(t.$upcase())},i.$$arity=1),z.defs(s,"$name_for_value",$=function(t){return null==this.names_by_value&&(this.names_by_value=F),this.names_by_value["$[]"](t)},$.$$arity=1),z.defs(s,"$names",a=function(){return null==this.names_by_value&&(this.names_by_value=F),this.names_by_value.$values()},a.$$arity=0)}(o[0],o),function(t,e){function r(){}var n,i=r=_(t,"Compliance",r),$=(i.prototype,[i].concat(e));i.keys=B("::","Set").$new(),function(t,e){t.prototype,[t].concat(e);t.$attr_reader("keys")}(z.get_singleton_class(i),$),z.defs(i,"$define",n=function(t,e){return null==this.keys&&(this.keys=F),this.$instance_variable_set("@"+t,e),function(t,e){t.prototype,[t].concat(e);return t}(z.get_singleton_class(this),$).$send("attr_accessor",t),this.keys["$<<"](t),F},n.$$arity=2),i.$define("block_terminates_paragraph",!0),i.$define("strict_verbatim_paragraphs",!0),i.$define("underline_style_section_titles",!0),i.$define("unwrap_standalone_preamble",!0),i.$define("attribute_missing","skip"),i.$define("attribute_undefined","drop-line"),i.$define("shorthand_property_syntax",!0),i.$define("natural_xrefs",!0),i.$define("unique_id_start_index",2),i.$define("markdown_syntax",!0)}(o[0],o),z.const_set(o[0],"ROOT_PATH",B("::","File").$dirname(B("::","File").$dirname(B("::","File").$expand_path("asciidoctor.rb")))),z.const_set(o[0],"DATA_PATH",B("::","File").$join(q(o,"ROOT_PATH"),"data"));try{z.const_set(o[0],"USER_HOME",B("::","Dir").$home())}catch(t){if(!z.rescue(t,[q(o,"StandardError")]))throw t;try{z.const_set(o[0],"USER_HOME",j(n=B("::","ENV")["$[]"]("HOME"))?n:B("::","Dir").$pwd())}finally{z.pop_exception()}}z.const_set(o[0],"COERCE_ENCODING",j(n=B("::","RUBY_ENGINE_OPAL")["$!"]())?B("::","RUBY_MIN_VERSION_1_9"):n),z.const_set(o[0],"FORCE_ENCODING",j(n=q(o,"COERCE_ENCODING"))?B("::","Encoding").$default_external()["$!="](B(B("::","Encoding"),"UTF_8")):n),z.const_set(o[0],"BOM_BYTES_UTF_8",[239,187,191]),z.const_set(o[0],"BOM_BYTES_UTF_16LE",[255,254]),z.const_set(o[0],"BOM_BYTES_UTF_16BE",[254,255]),z.const_set(o[0],"FORCE_UNICODE_LINE_LENGTH",B("::","RUBY_MIN_VERSION_1_9")["$!"]()),z.const_set(o[0],"LF",z.const_set(o[0],"EOL","\n")),z.const_set(o[0],"NULL","\0"),z.const_set(o[0],"TAB","\t"),z.const_set(o[0],"MAX_INT",9007199254740991),z.const_set(o[0],"DEFAULT_DOCTYPE","article"),z.const_set(o[0],"DEFAULT_BACKEND","html5"),z.const_set(o[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),z.const_set(o[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),z.const_set(o[0],"BACKEND_ALIASES",U(["html","docbook"],{html:"html5",docbook:"docbook5"})),z.const_set(o[0],"DEFAULT_PAGE_WIDTHS",U(["docbook"],{docbook:425})),z.const_set(o[0],"DEFAULT_EXTENSIONS",U(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),z.const_set(o[0],"ASCIIDOC_EXTENSIONS",U([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,".asc":!0,".ad":!0,".txt":!0})),z.const_set(o[0],"SETEXT_SECTION_LEVELS",U(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),z.const_set(o[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),z.const_set(o[0],"ADMONITION_STYLE_HEADS",["N","T","I","W","C"].$to_set()),z.const_set(o[0],"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","open","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),z.const_set(o[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),z.const_set(o[0],"DELIMITED_BLOCKS",U(["--","----","....","====","****","____",'""',"++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",B("::","Set").$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",B("::","Set").$new()],",===":["table",B("::","Set").$new()],":===":["table",B("::","Set").$new()],"!===":["table",B("::","Set").$new()],"////":["comment",B("::","Set").$new()],"```":["fenced_code",B("::","Set").$new()]})),z.const_set(o[0],"DELIMITED_BLOCK_HEADS",H(q(o,"DELIMITED_BLOCKS").$keys(),"map",[],(i=function(t){i.$$s;return null==t&&(t=F),t.$slice(0,2)},i.$$s=s,i.$$arity=1,i)).$to_set()),z.const_set(o[0],"LAYOUT_BREAK_CHARS",U(["'","<"],{"'":"thematic_break","<":"page_break"})),z.const_set(o[0],"MARKDOWN_THEMATIC_BREAK_CHARS",U(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"})),z.const_set(o[0],"HYBRID_LAYOUT_BREAK_CHARS",q(o,"LAYOUT_BREAK_CHARS").$merge(q(o,"MARKDOWN_THEMATIC_BREAK_CHARS"))),z.const_set(o[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),z.const_set(o[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),z.const_set(o[0],"ORDERED_LIST_KEYWORDS",U(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),z.const_set(o[0],"ATTR_REF_HEAD","{"),z.const_set(o[0],"LIST_CONTINUATION","+"),z.const_set(o[0],"HARD_LINE_BREAK"," +"),z.const_set(o[0],"LINE_CONTINUATION"," \\"),z.const_set(o[0],"LINE_CONTINUATION_LEGACY"," +"),z.const_set(o[0],"MATHJAX_VERSION","2.7.4"),z.const_set(o[0],"BLOCK_MATH_DELIMITERS",U(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),z.const_set(o[0],"INLINE_MATH_DELIMITERS",U(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),l=["asciimath"],H(z.const_set(o[0],"STEM_TYPE_ALIASES",U(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"})),"default=",z.to_a(l)),l[D(l.length,1)],z.const_set(o[0],"FONT_AWESOME_VERSION","4.7.0"),z.const_set(o[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),q(o,"RUBY_ENGINE")["$=="]("opal")&&(j((n=q(o,"CC_ANY","skip_raise"))?"constant":F)||z.const_set(o[0],"CC_ANY","[^\\n]")),z.const_set(o[0],"AuthorInfoLineRx",new RegExp("^("+q(o,"CG_WORD")+"["+q(o,"CC_WORD")+"\\-'.]*)(?: +("+q(o,"CG_WORD")+"["+q(o,"CC_WORD")+"\\-'.]*))?(?: +("+q(o,"CG_WORD")+"["+q(o,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$")),z.const_set(o[0],"RevisionInfoLineRx",new RegExp("^(?:[^\\d{]*("+q(o,"CC_ANY")+"*?),)? *(?!:)("+q(o,"CC_ANY")+"*?)(?: *(?!^),?: *("+q(o,"CC_ANY")+"*))?$")),z.const_set(o[0],"ManpageTitleVolnumRx",new RegExp("^("+q(o,"CC_ANY")+"+?) *\\( *("+q(o,"CC_ANY")+"+?) *\\)$")),z.const_set(o[0],"ManpageNamePurposeRx",new RegExp("^("+q(o,"CC_ANY")+"+?) +- +("+q(o,"CC_ANY")+"+)$")),z.const_set(o[0],"ConditionalDirectiveRx",new RegExp("^(\\\\)?(ifdef|ifndef|ifeval|endif)::(\\S*?(?:([,+])\\S*?)?)\\[("+q(o,"CC_ANY")+"+)?\\]$")),z.const_set(o[0],"EvalExpressionRx",new RegExp("^("+q(o,"CC_ANY")+"+?) *([=!><]=|[><]) *("+q(o,"CC_ANY")+"+)$")),z.const_set(o[0],"IncludeDirectiveRx",new RegExp("^(\\\\)?include::([^\\[][^\\[]*)\\[("+q(o,"CC_ANY")+"+)?\\]$")),z.const_set(o[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\](?=$|[ \r])/m),z.const_set(o[0],"AttributeEntryRx",new RegExp("^:(!?"+q(o,"CG_WORD")+"[^:]*):(?:[ \\t]+("+q(o,"CC_ANY")+"*))?$")),z.const_set(o[0],"InvalidAttributeNameCharsRx",new RegExp("[^-"+q(o,"CC_WORD")+"]")),q(o,"RUBY_ENGINE")["$=="]("opal")&&z.const_set(o[0],"AttributeEntryPassMacroRx",/^pass:([a-z]+(?:,[a-z]+)*)?\[([\S\s]*)\]$/),z.const_set(o[0],"AttributeReferenceRx",new RegExp("(\\\\)?\\{("+q(o,"CG_WORD")+"[-"+q(o,"CC_WORD")+"]*|(set|counter2?):"+q(o,"CC_ANY")+"+?)(\\\\)?\\}")),z.const_set(o[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+q(o,"CC_ALPHA")+"_:]["+q(o,"CC_WORD")+":.-]*)(?:, *("+q(o,"CC_ANY")+"+))?)\\]\\]$")),z.const_set(o[0],"BlockAttributeListRx",new RegExp("^\\[(|["+q(o,"CC_WORD")+".#%{,\"']"+q(o,"CC_ANY")+"*)\\]$")),z.const_set(o[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+q(o,"CC_WORD")+".#%{,\"']"+q(o,"CC_ANY")+"*|\\[(?:|["+q(o,"CC_ALPHA")+"_:]["+q(o,"CC_WORD")+":.-]*(?:, *"+q(o,"CC_ANY")+"+)?)\\])\\]$")),z.const_set(o[0],"BlockTitleRx",new RegExp("^\\.(\\.?[^ \\t.]"+q(o,"CC_ANY")+"*)$")),z.const_set(o[0],"AdmonitionParagraphRx",new RegExp("^("+q(o,"ADMONITION_STYLES").$to_a().$join("|")+"):[ \\t]+")),z.const_set(o[0],"LiteralParagraphRx",new RegExp("^([ \\t]+"+q(o,"CC_ANY")+"*)$")),z.const_set(o[0],"AtxSectionTitleRx",new RegExp("^(=={0,5})[ \\t]+("+q(o,"CC_ANY")+"+?)(?:[ \\t]+\\1)?$")),z.const_set(o[0],"ExtAtxSectionTitleRx",new RegExp("^(=={0,5}|#\\#{0,5})[ \\t]+("+q(o,"CC_ANY")+"+?)(?:[ \\t]+\\1)?$")),z.const_set(o[0],"SetextSectionTitleRx",new RegExp("^((?!\\.)"+q(o,"CC_ANY")+"*?"+q(o,"CG_WORD")+q(o,"CC_ANY")+"*)$")),z.const_set(o[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+q(o,"CC_ALPHA")+"_:]["+q(o,"CC_WORD")+":.-]*)(?:, *("+q(o,"CC_ANY")+"+))?\\]\\]$")),z.const_set(o[0],"InvalidSectionIdCharsRx",new RegExp("<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ "+q(o,"CC_WORD")+"\\-.]+?")),z.const_set(o[0],"AnyListRx",new RegExp("^(?:[ \\t]*(?:-|\\*\\**|\\.\\.*|\\u2022|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]|(?!//[^/])"+q(o,"CC_ANY")+"*?(?::::{0,2}|;;)(?:$|[ \\t])|<?\\d+>[ \\t])")),z.const_set(o[0],"UnorderedListRx",new RegExp("^[ \\t]*(-|\\*\\**|\\u2022)[ \\t]+("+q(o,"CC_ANY")+"*)$")),z.const_set(o[0],"OrderedListRx",new RegExp("^[ \\t]*(\\.\\.*|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]+("+q(o,"CC_ANY")+"*)$")),z.const_set(o[0],"OrderedListMarkerRxMap",U(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),z.const_set(o[0],"DescriptionListRx",new RegExp("^(?!//[^/])[ \\t]*("+q(o,"CC_ANY")+"*?)(:::{0,2}|;;)(?:$|[ \\t]+("+q(o,"CC_ANY")+"*)$)")),z.const_set(o[0],"DescriptionListSiblingRx",U(["::",":::","::::",";;"],{"::":new RegExp("^(?!//[^/])[ \\t]*("+q(o,"CC_ANY")+"*[^:]|)(::)(?:$|[ \\t]+("+q(o,"CC_ANY")+"*)$)"),":::":new RegExp("^(?!//[^/])[ \\t]*("+q(o,"CC_ANY")+"*[^:]|)(:::)(?:$|[ \\t]+("+q(o,"CC_ANY")+"*)$)"),"::::":new RegExp("^(?!//[^/])[ \\t]*("+q(o,"CC_ANY")+"*[^:]|)(::::)(?:$|[ \\t]+("+q(o,"CC_ANY")+"*)$)"),";;":new RegExp("^(?!//[^/])[ \\t]*("+q(o,"CC_ANY")+"*?)(;;)(?:$|[ \\t]+("+q(o,"CC_ANY")+"*)$)")})),z.const_set(o[0],"CalloutListRx",new RegExp("^<(\\d+|\\.)>[ \\t]+("+q(o,"CC_ANY")+"*)$")),z.const_set(o[0],"CalloutExtractRx",/((?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+|\.)\3>(?=(?: ?\\?<!?\3(?:\d+|\.)\3>)*$)/),z.const_set(o[0],"CalloutExtractRxt","(\\\\)?<()(\\d+|\\.)>(?=(?: ?\\\\?<(?:\\d+|\\.)>)*$)"),z.const_set(o[0],"CalloutExtractRxMap",H(B("::","Hash"),"new",[],(($=function(t,e){$.$$s;return null==t&&(t=F),null==e&&(e=F),l=[e,new RegExp("("+B("::","Regexp").$escape(e)+" ?)?"+q(o,"CalloutExtractRxt"))],H(t,"[]=",z.to_a(l)),l[D(l.length,1)]}).$$s=s,$.$$arity=2,$))),z.const_set(o[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+|\\.)\\1>(?=(?: ?\\\\?<!?\\1(?:\\d+|\\.)\\1>)*"+q(o,"CC_EOL")+")")),z.const_set(o[0],"CalloutSourceRx",new RegExp("((?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+|\\.)\\3&gt;(?=(?: ?\\\\?&lt;!?\\3(?:\\d+|\\.)\\3&gt;)*"+q(o,"CC_EOL")+")")),z.const_set(o[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+|\\.)&gt;(?=(?: ?\\\\?&lt;(?:\\d+|\\.)&gt;)*"+q(o,"CC_EOL")+")"),z.const_set(o[0],"CalloutSourceRxMap",H(B("::","Hash"),"new",[],((a=function(t,e){a.$$s;return null==t&&(t=F),null==e&&(e=F),l=[e,new RegExp("("+B("::","Regexp").$escape(e)+" ?)?"+q(o,"CalloutSourceRxt"))],H(t,"[]=",z.to_a(l)),l[D(l.length,1)]}).$$s=s,a.$$arity=2,a))),z.const_set(o[0],"ListRxMap",U(["ulist","olist","dlist","colist"],{ulist:q(o,"UnorderedListRx"),olist:q(o,"OrderedListRx"),dlist:q(o,"DescriptionListRx"),colist:q(o,"CalloutListRx")})),z.const_set(o[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/),z.const_set(o[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),z.const_set(o[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),z.const_set(o[0],"CustomBlockMacroRx",new RegExp("^("+q(o,"CG_WORD")+"[-"+q(o,"CC_WORD")+"]*)::(|\\S|\\S"+q(o,"CC_ANY")+"*?\\S)\\[("+q(o,"CC_ANY")+"+)?\\]$")),z.const_set(o[0],"BlockMediaMacroRx",new RegExp("^(image|video|audio)::(\\S|\\S"+q(o,"CC_ANY")+"*?\\S)\\[("+q(o,"CC_ANY")+"+)?\\]$")),z.const_set(o[0],"BlockTocMacroRx",new RegExp("^toc::\\[("+q(o,"CC_ANY")+"+)?\\]$")),z.const_set(o[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+q(o,"CC_ALPHA")+"_:]["+q(o,"CC_WORD")+":.-]*)(?:, *("+q(o,"CC_ANY")+"+?))?\\]\\]|anchor:(["+q(o,"CC_ALPHA")+"_:]["+q(o,"CC_WORD")+":.-]*)\\[(?:\\]|("+q(o,"CC_ANY")+"*?[^\\\\])\\]))")),z.const_set(o[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+q(o,"CC_ALPHA")+"_:]["+q(o,"CC_WORD")+":.-]*)(?:, *("+q(o,"CC_ANY")+"+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+q(o,"CC_ALPHA")+"_:]["+q(o,"CC_WORD")+":.-]*)\\[(?:\\]|("+q(o,"CC_ANY")+"*?[^\\\\])\\])")),z.const_set(o[0],"LeadingInlineAnchorRx",new RegExp("^\\[\\[(["+q(o,"CC_ALPHA")+"_:]["+q(o,"CC_WORD")+":.-]*)(?:, *("+q(o,"CC_ANY")+"+?))?\\]\\]")),z.const_set(o[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+q(o,"CC_ALPHA")+"_:]["+q(o,"CC_WORD")+":.-]*)(?:, *("+q(o,"CC_ANY")+"+?))?\\]\\]\\]")),z.const_set(o[0],"InlineEmailRx",new RegExp("([\\\\>:/])?"+q(o,"CG_WORD")+"["+q(o,"CC_WORD")+".%+-]*@"+q(o,"CG_ALNUM")+"["+q(o,"CC_ALNUM")+".-]*\\."+q(o,"CG_ALPHA")+"{2,4}\\b")),z.const_set(o[0],"InlineFootnoteMacroRx",new RegExp("\\\\?footnote(?:(ref):|:([\\w-]+)?)\\[(?:|("+q(o,"CC_ALL")+"*?[^\\\\]))\\]","m")),z.const_set(o[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+q(o,"CC_ALL")+"*?[^\\\\])\\]","m")),z.const_set(o[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+q(o,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+q(o,"CC_ALL")+"+?)\\)\\)(?!\\)))","m")),z.const_set(o[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+q(o,"CC_ALL")+"*?[^\\\\])\\]","m")),z.const_set(o[0],"InlineLinkRx",new RegExp("(^|link:|"+q(o,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*[^\\s.,\\[\\]<])(?:\\[(|"+q(o,"CC_ALL")+"*?[^\\\\])\\])?","m")),z.const_set(o[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+q(o,"CC_ALL")+"*?[^\\\\])\\]","m")),z.const_set(o[0],"MacroNameRx",new RegExp("^"+q(o,"CG_WORD")+"[-"+q(o,"CC_WORD")+"]*$")),z.const_set(o[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z]+)*)?\\[("+q(o,"CC_ALL")+"*?[^\\\\])\\]","m")),z.const_set(o[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+q(o,"CG_WORD")+"|["+q(o,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *("+q(o,"CC_ALL")+"*?[^\\\\])?\\]","m")),z.const_set(o[0],"InlineMenuRx",new RegExp('\\\\?"(['+q(o,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"')),z.const_set(o[0],"InlinePassRx",d(!1,["+","`",new RegExp("(^|[^"+q(o,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+q(o,"CC_ALL")+"*?\\S)\\4)(?!"+q(o,"CG_WORD")+")","m")],!0,["`",F,new RegExp("(^|[^`"+q(o,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+q(o,"CC_ALL")+"*?\\S)\\4)(?![`"+q(o,"CC_WORD")+"])","m")])),z.const_set(o[0],"SinglePlusInlinePassRx",new RegExp("^(\\\\)?\\+(\\S|\\S"+q(o,"CC_ALL")+"*?\\S)\\+$","m")),z.const_set(o[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+q(o,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z]+)*)?\\[(|"+q(o,"CC_ALL")+"*?[^\\\\])\\])","m")),z.const_set(o[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+q(o,"CC_WORD")+"#/.:{]"+q(o,"CC_ALL")+"*?)&gt;&gt;|xref:(["+q(o,"CC_WORD")+"#/.:{]"+q(o,"CC_ALL")+"*?)\\[(?:\\]|("+q(o,"CC_ALL")+"*?[^\\\\])\\]))","m")),q(o,"RUBY_ENGINE")["$=="]("opal")&&z.const_set(o[0],"HardLineBreakRx",new RegExp("^("+q(o,"CC_ANY")+"*) \\+$","m")),z.const_set(o[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/),z.const_set(o[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/),z.const_set(o[0],"BlankLineRx",/\n{2,}/),z.const_set(o[0],"EscapedSpaceRx",/\\([ \t\n])/),z.const_set(o[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/),z.const_set(o[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/),z.const_set(o[0],"SubModifierSniffRx",/[+-]/),z.const_set(o[0],"TrailingDigitsRx",/\d+$/),q(o,"RUBY_ENGINE")["$=="]("opal"),z.const_set(o[0],"UriSniffRx",new RegExp("^"+q(o,"CG_ALPHA")+"["+q(o,"CC_ALNUM")+".+-]+:/{0,2}")),z.const_set(o[0],"UriTerminatorRx",/[);:]$/),z.const_set(o[0],"XmlSanitizeRx",/<[^>]+>/),z.const_set(o[0],"INTRINSIC_ATTRIBUTES",U(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","pp","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",pp:"&#43;&#43;",cpp:"C&#43;&#43;",amp:"&",lt:"<",gt:">"})),c=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+q(o,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+q(o,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+q(o,"CC_ALL")+"*?\\S)\\*(?!"+q(o,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+q(o,"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+q(o,"CC_ALL")+'*?\\S)`"(?!'+q(o,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+q(o,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+q(o,"CC_ALL")+"*?\\S)`'(?!"+q(o,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+q(o,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+q(o,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+q(o,"CC_ALL")+"*?\\S)`(?!["+q(o,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+q(o,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+q(o,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+q(o,"CC_ALL")+"*?\\S)_(?!"+q(o,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+q(o,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+q(o,"CC_WORD")+"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+q(o,"CC_ALL")+"*?\\S)#(?!"+q(o,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]],u=c.$drop(0),l=[2,["double","constrained",new RegExp("(^|[^"+q(o,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+q(o,"CC_ALL")+"*?\\S)''(?!"+q(o,"CG_WORD")+")","m")]],H(u,"[]=",z.to_a(l)),l[D(l.length,1)],l=[3,["single","constrained",new RegExp("(^|[^"+q(o,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+q(o,"CC_ALL")+"*?\\S)'(?!"+q(o,"CG_WORD")+")","m")]],H(u,"[]=",z.to_a(l)),l[D(l.length,1)],l=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+q(o,"CC_ALL")+"+?)\\+\\+","m")]],H(u,"[]=",z.to_a(l)),l[D(l.length,1)],l=[5,["monospaced","constrained",new RegExp("(^|[^"+q(o,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+q(o,"CC_ALL")+"*?\\S)\\+(?!"+q(o,"CG_WORD")+")","m")]],H(u,"[]=",z.to_a(l)),l[D(l.length,1)],u.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+q(o,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+q(o,"CC_ALL")+"*?\\S)'(?!"+q(o,"CG_WORD")+")","m")]),z.const_set(o[0],"QUOTE_SUBS",d(!1,c,!0,u)),u=c=F,z.const_set(o[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+q(o,"CG_WORD")+")\\\\?--(?="+q(o,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+q(o,"CG_ALNUM")+")\\\\?'(?="+q(o,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]),function(t,e){t.prototype;var r,n,i,$,P=[t].concat(e);z.def(t,"$load",r=function(t,e){var r,n,$,a,i,s=this,o=F,l=F,c=F,u=F,_=F,d=F,h=F,f=F,p=F,m=F,y=F,g=F,b=F,v=F;null==e&&(e=U([],{}));try{if(e=e.$dup(),j(o=e["$[]"]("timings"))&&o.$start("read"),j(j(r=l=e["$[]"]("logger"))?l["$!="](q(P,"LoggerManager").$logger()):r)&&(c=[l],H(q(P,"LoggerManager"),"logger=",z.to_a(c)),c[D(c.length,1)]),j((u=e["$[]"]("attributes"))["$!"]())?u=U([],{}):j(j(r=B("::","Hash")["$==="](u))?r:j(n=B("::","RUBY_ENGINE_JRUBY"))?B(B(B("::","Java"),"JavaUtil"),"Map")["$==="](u):n)?u=u.$dup():j(B("::","Array")["$==="](u))?(r=[U([],{}),u],u=r[0],_=r[1],H(_,"each",[],(($=function(t){$.$$s;var e,r,n=F,i=F;return null==t&&(t=F),r=t.$split("=",2),e=z.to_ary(r),n=null==e[0]?F:e[0],i=null==e[1]?F:e[1],c=[n,j(e=i)?e:""],H(u,"[]=",z.to_a(c)),c[D(c.length,1)]}).$$s=s,$.$$arity=1,$))):j(B("::","String")["$==="](u))?(u=(r=[U([],{}),u.$gsub(q(P,"SpaceDelimiterRx"),"\\1"+q(P,"NULL")).$gsub(q(P,"EscapedSpaceRx"),"\\1").$split(q(P,"NULL"))])[0],_=r[1],H(_,"each",[],((a=function(t){a.$$s;var e,r,n=F,i=F;return null==t&&(t=F),r=t.$split("=",2),e=z.to_ary(r),n=null==e[0]?F:e[0],i=null==e[1]?F:e[1],c=[n,j(e=i)?e:""],H(u,"[]=",z.to_a(c)),c[D(c.length,1)]}).$$s=s,a.$$arity=1,a))):j(j(r=u["$respond_to?"]("keys"))?u["$respond_to?"]("[]"):r)?u=B("::","Hash")["$[]"](H(u.$keys(),"map",[],((i=function(t){i.$$s;return null==t&&(t=F),[t,u["$[]"](t)]}).$$s=s,i.$$arity=1,i))):s.$raise(B("::","ArgumentError"),"illegal type for attributes option: "+u.$class().$ancestors().$join(" < ")),d=F,j(B("::","File")["$==="](t)))h=B("::","File").$expand_path(t.$path()),f=j(B("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?B("::","Time").$at(s.$Integer(B("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():t.$mtime(),d=t.$readlines(),c=["docfile",h],H(u,"[]=",z.to_a(c)),c[D(c.length,1)],c=["docdir",B("::","File").$dirname(h)],H(u,"[]=",z.to_a(c)),c[D(c.length,1)],c=["docname",q(P,"Helpers").$basename(h,(c=["docfilesuffix",B("::","File").$extname(h)],H(u,"[]=",z.to_a(c)),c[D(c.length,1)]))],H(u,"[]=",z.to_a(c)),c[D(c.length,1)],j(p=u["$[]"]("docdate"))?j(r=u["$[]"]("docyear"))||(c=["docyear",p.$index("-")["$=="](4)?p.$slice(0,4):F],H(u,"[]=",z.to_a(c)),c[D(c.length,1)]):(c=["docdate",f.$strftime("%F")],H(u,"[]=",z.to_a(c)),p=c[D(c.length,1)],j(r=u["$[]"]("docyear"))||(c=["docyear",f.$year().$to_s()],H(u,"[]=",z.to_a(c)),c[D(c.length,1)])),m=j(r=u["$[]"]("doctime"))?r:(c=["doctime",f.$strftime("%T "+(f.$utc_offset()["$=="](0)?"UTC":"%z"))],H(u,"[]=",z.to_a(c)),c[D(c.length,1)]),c=["docdatetime",p+" "+m],H(u,"[]=",z.to_a(c)),c[D(c.length,1)];else if(j(t["$respond_to?"]("readlines"))){try{t.$rewind()}catch(t){if(!z.rescue(t,[q(P,"StandardError")]))throw t;z.pop_exception()}d=t.$readlines()}else j(B("::","String")["$==="](t))?d=j(B("::","RUBY_MIN_VERSION_2"))?t.$lines():t.$each_line().$to_a():j(B("::","Array")["$==="](t))?d=t.$drop(0):s.$raise(B("::","ArgumentError"),"unsupported input type: "+t.$class());return j(o)&&(o.$record("read"),o.$start("parse")),c=["attributes",u],H(e,"[]=",z.to_a(c)),c[D(c.length,1)],y=e["$[]"]("parse")["$=="](!1)?q(P,"Document").$new(d,e):q(P,"Document").$new(d,e).$parse(),j(o)&&o.$record("parse"),y}catch(t){if(!z.rescue(t,[q(P,"StandardError")]))throw t;g=t;try{try{b="asciidoctor: FAILED: "+(j(r=u["$[]"]("docfile"))?r:"<stdin>")+": Failed to load AsciiDoc document",j(g["$respond_to?"]("exception"))?(v=g.$exception(b+" - "+g.$message())).$set_backtrace(g.$backtrace()):(v=g.$class().$new(b,g),c=[g.$stack_trace()],H(v,"stack_trace=",z.to_a(c)),c[D(c.length,1)])}catch(t){if(!z.rescue(t,[q(P,"StandardError")]))throw t;try{v=g}finally{z.pop_exception()}}return s.$raise(v)}finally{z.pop_exception()}}},r.$$arity=-2),z.def(t,"$load_file",n=function(t,r){var n;return null==r&&(r=U([],{})),H(B("::","File"),"open",[t,"rb"],((n=function(t){var e=n.$$s||this;return null==t&&(t=F),e.$load(t,r)}).$$s=this,n.$$arity=1,n))},n.$$arity=-2),z.def(t,"$convert",i=function(t,e){var r,n,i,$,a,s,o,l=F,c=F,u=F,_=F,d=F,h=F,f=F,p=F,m=F,y=F,g=F,b=F,v=F,x=F,k=F,w=F,E=F,A=F,O=F,S=F,R=F,C=F,T=F,M=F,I=F,N=F;if(null==e&&(e=U([],{})),(e=e.$dup()).$delete("parse"),l=e.$delete("to_file"),c=e.$delete("to_dir"),u=!!j(r=e.$delete("mkdirs"))&&r,(!0)["$==="](_=l)||F["$==="](_))d=j(r=c["$!"]())?B("::","File")["$==="](t):r,h=!1,f=c,l=F;else if((!1)["$==="](_))f=h=d=!1,l=F;else{if("/dev/null"["$==="](_))return this.$load(t,e);d=!1,f=!j(h=l["$respond_to?"]("write"))&&(p=["to_file",l],H(e,"[]=",z.to_a(p)),p[D(p.length,1)])}return j(e["$key?"]("header_footer"))||j(j(r=d)?r:f)&&(p=["header_footer",!0],H(e,"[]=",z.to_a(p)),p[D(p.length,1)]),j(d)?(m=B("::","File").$expand_path(t.$path()),p=["to_dir",y=B("::","File").$dirname(m)],H(e,"[]=",z.to_a(p)),p[D(p.length,1)]):j(f)&&(j(c)?(p=j(l)?["to_dir",B("::","File").$dirname(B("::","File").$expand_path(B("::","File").$join(c,l)))]:["to_dir",B("::","File").$expand_path(c)],H(e,"[]=",z.to_a(p)),p[D(p.length,1)]):j(l)&&(p=["to_dir",B("::","File").$dirname(B("::","File").$expand_path(l))],H(e,"[]=",z.to_a(p)),p[D(p.length,1)])),g=this.$load(t,e),j(d)?(b=B("::","File").$join(y,""+g.$attributes()["$[]"]("docname")+g.$outfilesuffix()))["$=="](m)&&this.$raise(B("::","IOError"),"input file and output file cannot be the same: "+b):j(f)?(v=j(e["$key?"]("base_dir"))?B("::","File").$expand_path(e["$[]"]("base_dir")):B("::","Dir").$pwd(),x=j(L(g.$safe(),B(q(P,"SafeMode"),"SAFE")))?v:F,j(c)?(y=g.$normalize_system_path(c,v,x,U(["target_name","recover"],{target_name:"to_dir",recover:!1})),j(l)?(b=g.$normalize_system_path(l,y,F,U(["target_name","recover"],{target_name:"to_dir",recover:!1})),y=B("::","File").$dirname(b)):b=B("::","File").$join(y,""+g.$attributes()["$[]"]("docname")+g.$outfilesuffix())):j(l)&&(b=g.$normalize_system_path(l,v,x,U(["target_name","recover"],{target_name:"to_dir",recover:!1})),y=B("::","File").$dirname(b)),j(j(r=B("::","File")["$==="](t))?b["$=="](B("::","File").$expand_path(t.$path())):r)&&this.$raise(B("::","IOError"),"input file and output file cannot be the same: "+b),j(u)?q(P,"Helpers").$mkdir_p(y):j(B("::","File")["$directory?"](y))||this.$raise(B("::","IOError"),"target directory does not exist: "+c+" (hint: set mkdirs option)")):(b=l,y=F),k=j(j(r=b)?h["$!"]():r)?U(["outfile","outdir"],{outfile:b,outdir:y}):U([],{}),w=g.$convert(k),j(b)?(g.$write(w,b),j(j(r=j(n=j(i=j($=j(a=h["$!"]())?(s=g.$safe(),o=B(q(P,"SafeMode"),"SECURE"),"number"==typeof s&&"number"==typeof o?s<o:s["$<"](o)):a)?g["$attr?"]("linkcss"):$)?g["$attr?"]("copycss"):i)?g["$attr?"]("basebackend-html"):n)?(j(n=E=g.$attr("stylesdir"))?q(P,"Helpers")["$uriish?"](E):n)["$!"]():r)&&(O=A=!1,j(S=g.$attr("stylesheet"))&&(j(q(P,"DEFAULT_STYLESHEET_KEYS")["$include?"](S))?A=!0:j(q(P,"Helpers")["$uriish?"](S)["$!"]())&&(O=!0)),R=j(r=g["$attr?"]("source-highlighter","coderay"))?g.$attr("coderay-css","class")["$=="]("class"):r,C=j(r=g["$attr?"]("source-highlighter","pygments"))?g.$attr("pygments-css","class")["$=="]("class"):r,j(j(r=j(n=j(i=A)?i:O)?n:R)?r:C)&&(T=g.$normalize_system_path(E,y,j(L(g.$safe(),B(q(P,"SafeMode"),"SAFE")))?y:F),j(u)?q(P,"Helpers").$mkdir_p(T):j(B("::","File")["$directory?"](T))||this.$raise(B("::","IOError"),"target stylesheet directory does not exist: "+T+" (hint: set mkdirs option)"),j(A)?q(P,"Stylesheets").$instance().$write_primary_stylesheet(T):j(O)&&(M=j((M=g.$attr("copycss"))["$empty?"]())?g.$normalize_system_path(S):g.$normalize_system_path(M),I=g.$normalize_system_path(S,T,j(L(g.$safe(),B(q(P,"SafeMode"),"SAFE")))?y:F),j(j(r=M["$!="](I))?N=g.$read_asset(M,U(["warn_on_failure","label"],{warn_on_failure:B("::","File")["$file?"](I)["$!"](),label:"stylesheet"})):r)&&B("::","IO").$write(I,N)),j(R)?q(P,"Stylesheets").$instance().$write_coderay_stylesheet(T):j(C)&&q(P,"Stylesheets").$instance().$write_pygments_stylesheet(T,g.$attr("pygments-style")))),g):w},i.$$arity=-2),z.alias(t,"render","convert"),z.def(t,"$convert_file",$=function(t,r){var n;return null==r&&(r=U([],{})),H(B("::","File"),"open",[t,"rb"],((n=function(t){var e=n.$$s||this;return null==t&&(t=F),e.$convert(t,r)}).$$s=this,n.$$arity=1,n))},$.$$arity=-2),z.alias(t,"render_file","convert_file"),q(P,"RUBY_ENGINE")["$=="]("opal")}(z.get_singleton_class(s),o),q(o,"RUBY_ENGINE")["$=="]("opal")&&(s.$require("asciidoctor/timings"),s.$require("asciidoctor/version"))}(e[0],e),t.$require("asciidoctor/core_ext"),t.$require("asciidoctor/helpers"),t.$require("asciidoctor/substitutors"),t.$require("asciidoctor/abstract_node"),t.$require("asciidoctor/abstract_block"),t.$require("asciidoctor/attribute_list"),t.$require("asciidoctor/block"),t.$require("asciidoctor/callouts"),t.$require("asciidoctor/converter"),t.$require("asciidoctor/document"),t.$require("asciidoctor/inline"),t.$require("asciidoctor/list"),t.$require("asciidoctor/parser"),t.$require("asciidoctor/path_resolver"),t.$require("asciidoctor/reader"),t.$require("asciidoctor/section"),t.$require("asciidoctor/stylesheets"),t.$require("asciidoctor/table"),q(e,"RUBY_ENGINE")["$=="]("opal")&&t.$require("asciidoctor/js/postscript")}(Opal);var _=function(t){return!t||"$$smap"in t?t:Opal.hash(t)},$=function(t){var e={},r=t.$$smap;for(var n in r)e[n]=r[n];return e},n=function(t){if(t=_(t)){var e=t["$[]"]("attributes");e&&"object"==typeof e&&"Object"===e.constructor.name&&(t=t.$dup())["$[]="]("attributes",_(e))}return t};function i(t,e,n,i,$){var a,s,o,l=Opal.klass(Opal.Object,t,e,function(){}),c={};for(var r in n)n.hasOwnProperty(r)&&function(e){var r=n[e];"postConstruct"===e?a=r:"initialize"===e?s=r:(i&&i.hasOwnProperty(e)&&(c[e]=!0),Opal.def(l,"$"+e,function(){var t;return t=$&&$.hasOwnProperty(e)?$[e](arguments):arguments,r.apply(this,t)}))}(r);if(o="function"==typeof s?function(){s.apply(this,arguments),"function"==typeof a&&a.bind(this)()}:function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",o)),"function"==typeof a&&a.bind(this)()},Opal.def(l,"$initialize",o),Opal.def(l,"super",function(t){if("function"==typeof t)Opal.send(this,Opal.find_super_dispatcher(this,t.name,t));else{for(var e=Array.from(arguments),r=0;r<e.length;r++)"object"==typeof e[r]&&(e[r]=_(e[r]));Opal.send(this,Opal.find_super_dispatcher(this,"initialize",o),e)}}),i)for(var u in i)i.hasOwnProperty(u)&&!c.hasOwnProperty(u)&&function(t){var e=i[t];Opal.def(l,"$"+t,function(){return e.apply(this,arguments)})}(u);return l}var t=Opal.Asciidoctor.$$class;t.prototype.getCoreVersion=function(){return this.$$const.VERSION},t.prototype.getRuntime=function(){return{ioModule:Opal.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),platform:Opal.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:Opal.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:Opal.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}},t.prototype.convert=function(t,e){"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8"));var r=this.$convert(t,n(e));return r===Opal.nil?"":r},t.prototype.convertFile=function(t,e){return this.$convert_file(t,n(e))},t.prototype.load=function(t,e){return"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8")),this.$load(t,n(e))},t.prototype.loadFile=function(t,e){return this.$load_file(t,n(e))};var e=Opal.Asciidoctor.AbstractBlock;e.prototype.append=function(t){return this.$append(t),this},e.prototype.applySubstitutions=function(t,e){return this.$apply_subs(t,e)},e.prototype.getTitle=function(){var t=this.$title();return t===Opal.nil?void 0:t},e.prototype.getCaptionedTitle=function(){return this.$captioned_title()},e.prototype.getStyle=function(){return this.style},e.prototype.getCaption=function(){return this.$caption()},e.prototype.setCaption=function(t){this.caption=t},e.prototype.getLevel=function(){return this.level},e.prototype.getSubstitutions=function(){return this.subs},e.prototype.hasSubstitution=function(t){return this["$sub?"](t)},e.prototype.removeSubstitution=function(t){this.$remove_sub(t)},e.prototype.hasBlocks=function(){return 0<this.blocks.length},e.prototype.getBlocks=function(){return this.blocks},e.prototype.getContent=function(){return this.$content()},e.prototype.convert=function(){return this.$convert()},e.prototype.findBy=function(t,e){return void 0===e&&"function"==typeof t?Opal.send(this,"find_by",null,t):"function"==typeof e?Opal.send(this,"find_by",[_(t)],e):this.$find_by(_(t))},e.prototype.getLineNumber=function(){var t=this.$lineno();return t===Opal.nil?void 0:t},e.prototype.hasSections=function(){return this["$sections?"]()},e.prototype.getSections=function(){return this.$sections()},e.prototype.getNumeral=function(){return this.$number()},e.prototype.setNumeral=function(t){return this["$number="](t)},e.prototype.hasTitle=function(){return this["$title?"]()};var r=Opal.Asciidoctor.Section;r.prototype.getIndex=function(){return this.index},r.prototype.setIndex=function(t){this.index=t},r.prototype.getSectionName=function(){return this.sectname},r.prototype.setSectionName=function(t){this.sectname=t},r.prototype.isSpecial=function(){return this.special},r.prototype.setSpecial=function(t){this.special=t},r.prototype.isNumbered=function(){return this.numbered},r.prototype.getCaption=function(){var t=this.caption;return t===Opal.nil?void 0:t},r.prototype.getName=function(){return this.getTitle()};var a=Opal.Asciidoctor.Block;a.prototype.getSource=function(){return this.$source()},a.prototype.getSourceLines=function(){return this.lines};var s=Opal.Asciidoctor.AbstractNode;s.prototype.getNodeName=function(){return this.node_name},s.prototype.getAttributes=function(){return $(this.attributes)},s.prototype.getAttribute=function(t,e,r){var n=this.$attr(t,e,r);return n===Opal.nil?void 0:n},s.prototype.hasAttribute=function(t){return t in this.attributes.$$smap},s.prototype.isAttribute=function(t,e,r){var n=this["$attr?"](t,e,r);return n!==Opal.nil&&n},s.prototype.setAttribute=function(t,e,r){return void 0===r&&(r=!0),this.$set_attr(t,e,r)},s.prototype.removeAttribute=function(t){var e=this.$remove_attr(t);return e===Opal.nil?void 0:e},s.prototype.getDocument=function(){return this.document},s.prototype.getParent=function(){var t=this.parent;return t===Opal.nil?void 0:t},s.prototype.isInline=function(){return this["$inline?"]()},s.prototype.isBlock=function(){return this["$block?"]()},s.prototype.isRole=function(t){return this["$role?"](t)},s.prototype.getRole=function(){return this.$role()},s.prototype.hasRole=function(t){return this["$has_role?"](t)},s.prototype.getRoles=function(){return this.$roles()},s.prototype.addRole=function(t){return this.$add_role(t)},s.prototype.removeRole=function(t){return this.$remove_role(t)},s.prototype.isReftext=function(){return this["$reftext?"]()},s.prototype.getReftext=function(){return this.$reftext()},s.prototype.getContext=function(){var t=this.context;return"string"==typeof t?t:t.toString()},s.prototype.getId=function(){var t=this.id;return t===Opal.nil?void 0:t},s.prototype.isOption=function(t){return this["$option?"](t)},s.prototype.setOption=function(t){return this.$set_option(t)},s.prototype.getIconUri=function(t){return this.$icon_uri(t)},s.prototype.getMediaUri=function(t,e){return this.$media_uri(t,e)},s.prototype.getImageUri=function(t,e){return this.$image_uri(t,e)},s.prototype.getConverter=function(){return this.$converter()},s.prototype.readContents=function(t,e){return this.$read_contents(t,_(e))},s.prototype.readAsset=function(t,e){return this.$read_asset(t,_(e))},s.prototype.normalizeWebPath=function(t,e,r){return this.$normalize_web_path(t,e,r)},s.prototype.normalizeSystemPath=function(t,e,r,n){return this.$normalize_system_path(t,e,r,_(n))},s.prototype.normalizeAssetPath=function(t,e,r){return this.$normalize_asset_path(t,e,r)};var l=Opal.Asciidoctor.Document;l.prototype.getIds=function(){return $(this.catalog.$$smap.ids)},l.prototype.getRefs=function(){return $(this.catalog.$$smap.refs)},l.prototype.getImages=function(){return this.catalog.$$smap.images},l.prototype.getIndexTerms=function(){return this.catalog.$$smap.indexterms},l.prototype.getLinks=function(){return this.catalog.$$smap.links},l.prototype.hasFootnotes=function(){return this["$footnotes?"]()},l.prototype.getFootnotes=function(){return this.$footnotes()},l.prototype.getHeader=function(){return this.header},l.prototype.setAttribute=function(t,e){return this.$set_attribute(t,e)},l.prototype.removeAttribute=function(t){this.attributes.$delete(t),this.attribute_overrides.$delete(t)},l.prototype.convert=function(t){var e=this.$convert(_(t));return e===Opal.nil?"":e},l.prototype.write=function(t,e){return this.$write(t,e)},l.prototype.getAuthor=function(){return this.$author()},l.prototype.getSource=function(){return this.$source()},l.prototype.getSourceLines=function(){return this.$source_lines()},l.prototype.isNested=function(){return this["$nested?"]()},l.prototype.isEmbedded=function(){return this["$embedded?"]()},l.prototype.hasExtensions=function(){return this["$extensions?"]()},l.prototype.getDoctype=function(){return this.doctype},l.prototype.getBackend=function(){return this.backend},l.prototype.isBasebackend=function(t){return this["$basebackend?"](t)},l.prototype.getTitle=function(){var t=this.$title();return t===Opal.nil?void 0:t},l.prototype.setTitle=function(t){return this["$title="](t)},l.prototype.getDocumentTitle=function(t){var e=this.$doctitle(_(t));return e===Opal.nil?void 0:e},l.prototype.getDoctitle=l.prototype.getDocumentTitle,l.prototype.getCatalog=function(){return $(this.catalog)},l.prototype.getReferences=l.prototype.getCatalog,l.prototype.getRevisionDate=function(){return this.getAttribute("revdate")},l.prototype.getRevdate=function(){return this.getRevisionDate()},l.prototype.getRevisionNumber=function(){return this.getAttribute("revnumber")},l.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")},l.prototype.setHeaderAttribute=function(t,e,r){return void 0===r&&(r=!0),void 0===e&&(e=""),this.$set_header_attribute(t,e,r)},l.prototype.getAuthors=function(){return this.$authors()};var c=l.Footnote;c.prototype.getIndex=function(){var t=this.$$data.index;return t===Opal.nil?void 0:t},c.prototype.getId=function(){var t=this.$$data.id;return t===Opal.nil?void 0:t},c.prototype.getText=function(){var t=this.$$data.text;return t===Opal.nil?void 0:t};var u=l.ImageReference;u.prototype.getTarget=function(){return this.$$data.target},u.prototype.getImagesDirectory=function(){var t=this.$$data.imagesdir;return t===Opal.nil?void 0:t};var d=l.Author;d.prototype.getName=function(){var t=this.$$data.name;return t===Opal.nil?void 0:t},d.prototype.getFirstName=function(){var t=this.$$data.firstname;return t===Opal.nil?void 0:t},d.prototype.getMiddleName=function(){var t=this.$$data.middlename;return t===Opal.nil?void 0:t},d.prototype.getLastName=function(){var t=this.$$data.lastname;return t===Opal.nil?void 0:t},d.prototype.getInitials=function(){var t=this.$$data.initials;return t===Opal.nil?void 0:t},d.prototype.getEmail=function(){var t=this.$$data.email;return t===Opal.nil?void 0:t},l.RevisionInfo=function(t,e,r){this.date=t,this.number=e,this.remark=r};var h=l.RevisionInfo;h.prototype.getDate=function(){return this.date},h.prototype.getNumber=function(){return this.number},h.prototype.getRemark=function(){return this.remark},h.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark},l.prototype.getRevisionInfo=function(){return new l.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},l.prototype.hasRevisionInfo=function(){var t=this.getRevisionInfo();return!t.isEmpty()},l.prototype.getNotitle=function(){return this.$notitle()},l.prototype.getNoheader=function(){return this.$noheader()},l.prototype.getNofooter=function(){return this.$nofooter()},l.prototype.hasHeader=function(){return this["$header?"]()},l.prototype.deleteAttribute=function(t){return this.$delete_attribute(t)},l.prototype.isAttributeLocked=function(t){return this["$attribute_locked?"](t)},l.prototype.parse=function(t){return this.$parse(t)},l.prototype.getDocinfo=function(t,e){return this.$docinfo(t,e)},l.prototype.hasDocinfoProcessors=function(t){return this["$docinfo_processors?"](t)},l.prototype.counterIncrement=function(t,e){return this.$counter_increment(t,e)},l.prototype.counter=function(t,e){return this.$counter(t,e)},l.prototype.getSafe=function(){return this.safe},l.prototype.getCompatMode=function(){return this.compat_mode},l.prototype.getSourcemap=function(){return this.sourcemap},l.prototype.getCounters=function(){return $(this.counters)},l.prototype.getCallouts=function(){return this.$callouts()},l.prototype.getBaseDir=function(){return this.base_dir},l.prototype.getOptions=function(){return $(this.options)},l.prototype.getOutfilesuffix=function(){return this.outfilesuffix},l.prototype.getParentDocument=function(){return this.parent_document},l.prototype.getReader=function(){return this.reader},l.prototype.getConverter=function(){return this.converter},l.prototype.getExtensions=function(){return this.extensions};var f=l.Title;f.prototype.getMain=function(){return this.main},f.prototype.getCombined=function(){return this.combined},f.prototype.getSubtitle=function(){var t=this.subtitle;return t===Opal.nil?void 0:t},f.prototype.isSanitized=function(){var t=this["$sanitized?"]();return t!==Opal.nil&&t},f.prototype.hasSubtitle=function(){return this["$subtitle?"]()};var p=Opal.Asciidoctor.Inline;Opal.Asciidoctor.Inline.$$class.prototype.create=function(t,e,r,n){return this.$new(t,e,r,_(n))},p.prototype.convert=function(){return this.$convert()},p.prototype.getText=function(){var t=this.$text();return t===Opal.nil?void 0:t},p.prototype.getType=function(){return this.$type()},p.prototype.getTarget=function(){var t=this.$target();return t===Opal.nil?void 0:t},Opal.Asciidoctor.List.prototype.getItems=function(){return this.blocks};var m=Opal.Asciidoctor.ListItem;m.prototype.getText=function(){return this.$text()},m.prototype.setText=function(t){return this.text=t};var y=Opal.Asciidoctor.Reader;y.prototype.pushInclude=function(t,e,r,n,i){return this.$push_include(t,e,r,n,_(i))},y.prototype.getCursor=function(){return this.$cursor()},y.prototype.getLines=function(){return this.$lines()},y.prototype.getString=function(){return this.$string()};var g=Opal.Asciidoctor.Reader.Cursor;g.prototype.getFile=function(){var t=this.file;return t===Opal.nil?void 0:t},g.prototype.getDirectory=function(){var t=this.dir;return t===Opal.nil?void 0:t},g.prototype.getPath=function(){var t=this.path;return t===Opal.nil?void 0:t},g.prototype.getLineNumber=function(){return this.lineno};var b=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);(Opal.Asciidoctor.LoggerManager=b)&&(b.getLogger=function(){return this.$logger()},b.setLogger=function(t){this.logger=t},b.newLogger=function(t,e){return(r=t,n=e,i(Opal.const_get_qualified(Opal.Asciidoctor,"Logger"),r,n,{},{add:function(t){if(2<=t.length&&"object"==typeof t[2]&&"$$smap"in t[2]){var e=t[2],r=$(e);r.getText=function(){return this.text},r.getSourceLocation=function(){return this.source_location},r.$inspect=function(){var t=this.getSourceLocation();return t?t.getPath()+": line "+t.getLineNumber()+": "+this.getText():this.getText()},t[2]=r}return t}})).$new();var r,n},b.newFormatter=function(t,e){return(r=t,n=e,i(Opal.const_get_qualified(Opal.Logger,"Formatter"),r,n,{},{call:function(t){for(var e=0;e<t.length;e++)"object"==typeof t[e]&&"$$smap"in t[e]&&(t[e]=$(t[e]));return t}})).$new();var r,n});var v=Opal.const_get_qualified(Opal.Logger,"Severity",!0);(Opal.Asciidoctor.LoggerSeverity=v)&&(v.get=function(t){return v.$constants()[t]});var x=Opal.const_get_qualified(Opal.Logger,"Formatter",!0);(Opal.Asciidoctor.LoggerFormatter=x)&&(x.prototype.call=function(t,e,r,n){return this.$call(v.get(t),e,r,n)});var k=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);(Opal.Asciidoctor.MemoryLogger=k)&&(k.prototype.getMessages=function(){for(var t=this.messages,e=[],r=0;r<t.length;r++){var n=t[r],i=$(n);"string"==typeof i.message?i.getText=function(){return this.message}:(i.message=$(i.message),i.getText=function(){return this.message.text}),i.getSeverity=function(){return this.severity.toString()},i.getSourceLocation=function(){return this.message.source_location},e.push(i)}return e});var w=Opal.const_get_qualified(Opal.Asciidoctor,"Logger",!0);(Opal.Asciidoctor.Logger=w)&&(w.prototype.getMaxSeverity=function(){return this.max_severity},w.prototype.getFormatter=function(){return this.formatter},w.prototype.setFormatter=function(t){return this.formatter=t},w.prototype.getLevel=function(){return this.level},w.prototype.setLevel=function(t){return this.level=t},w.prototype.getProgramName=function(){return this.progname},w.prototype.setProgramName=function(t){return this.progname=t});var E=Opal.const_get_qualified(Opal.Asciidoctor,"NullLogger",!0);(Opal.Asciidoctor.NullLogger=E)&&(E.prototype.getMaxSeverity=function(){return this.max_severity});Opal.Asciidoctor.StopIteration=Opal.StopIteration;var A=function(t){return t.$$arity=t.length,t},O=function(t,e,r,n){return"object"==typeof r||r.$$is_class?t["$"+e](r,n):Opal.send(t,e,n&&[n],A(r))},S=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");(Opal.Asciidoctor.Extensions=S).create=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"build_registry",null,A(t)):"function"==typeof e?Opal.send(this,"build_registry",[t],A(e)):this.$build_registry()},S.register=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"register",null,A(t)):Opal.send(this,"register",[t],A(e))},S.getGroups=function(){return $(this.$groups())},S.unregisterAll=function(){this.$unregister_all()},S.unregister=function(){for(var t=Array.prototype.concat.apply([],arguments),e=this.$groups(),r={},n=0,i=e.$$keys;n<i.length;n++){var $=i[n];r[$.toString()]=$}for(var a=0;a<t.length;a++){var s=t[a];s in r&&Opal.hash_delete(e,r[s])}};var R=S.Registry;R.prototype.getGroups=S.getGroups,R.prototype.unregisterAll=function(){this.groups=Opal.hash()},R.prototype.unregister=S.unregister,R.prototype.prefer=function(t,e){return 1===arguments.length&&(e=t,t=null),"object"==typeof e||e.$$is_class?this.$prefer(t,e):Opal.send(this,"prefer",t&&[t],A(e))},R.prototype.block=function(t,e){return 1===arguments.length&&(e=t,t=null),O(this,"block",e,t)},R.prototype.inlineMacro=function(t,e){return 1===arguments.length&&(e=t,t=null),O(this,"inline_macro",e,t)},R.prototype.includeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),O(this,"include_processor",e,t)},R.prototype.blockMacro=function(t,e){return 1===arguments.length&&(e=t,t=null),O(this,"block_macro",e,t)},R.prototype.treeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),O(this,"tree_processor",e,t)},R.prototype.postprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),O(this,"postprocessor",e,t)},R.prototype.preprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),O(this,"preprocessor",e,t)},R.prototype.docinfoProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),O(this,"docinfo_processor",e,t)};var C=S.Processor;C.prototype.prepend=function(){this.$option("position",">>")},C.prototype.process=function(t){var e={apply:function(t,e,r){for(var n=0;n<r.length;n++)"object"==typeof r[n]&&"$$smap"in r[n]&&(r[n]=$(r[n]));return t.apply(e,r)}},r=new Proxy(t,e);return Opal.send(this,"process",null,A(r))},C.prototype.named=function(t){return this.$named(t)},C.prototype.createBlock=function(t,e,r,n,i){return this.$create_block(t,e,r,_(n),_(i))},C.prototype.createList=function(t,e,r){return this.$create_list(t,e,_(r))},C.prototype.createListItem=function(t,e){return this.$create_list_item(t,e)},C.prototype.createImageBlock=function(t,e,r){return this.$create_image_block(t,_(e),_(r))},C.prototype.createInline=function(t,e,r,n){return n&&n.attributes&&(n.attributes=_(n.attributes)),this.$create_inline(t,e,r,_(n))},C.prototype.parseContent=function(t,e,r){return this.$parse_content(t,e,r)},C.prototype.positionalAttributes=function(t){return this.$positional_attrs(t)},C.prototype.resolvesAttributes=function(t){return this.$resolves_attributes(t)};var T=S.BlockProcessor;T.prototype.onContext=function(t){return this.$on_context(t)},T.prototype.onContexts=function(){return this.$on_contexts(Array.prototype.slice.call(arguments))},T.prototype.getName=function(){var t=this.name;return t===Opal.nil?void 0:t},S.BlockMacroProcessor.prototype.getName=function(){var t=this.name;return t===Opal.nil?void 0:t},S.InlineMacroProcessor.prototype.getName=function(){var t=this.name;return t===Opal.nil?void 0:t};var M=S.IncludeProcessor;M.prototype.handles=function(t){return Opal.send(this,"handles?",null,A(t))},M.prototype.prefer=function(){this.$prefer()},S.TreeProcessor.prototype.prefer=function(){this.$prefer()},S.Postprocessor.prototype.prefer=function(){this.$prefer()},S.Preprocessor.prototype.prefer=function(){this.$prefer()};var I=S.DocinfoProcessor;function N(t,e,r){var n=Opal.const_get_qualified(S,t);return i(n,e,r,{"handles?":function(){return!0}})}I.prototype.prefer=function(){this.$prefer()},I.prototype.atLocation=function(t){this.$at_location(t)},S.createPostprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),N("Postprocessor",t,e)},S.newPostprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createPostprocessor(t,e).$new()},S.createPreprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),N("Preprocessor",t,e)},S.newPreprocessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createPreprocessor(t,e).$new()},S.createTreeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),N("TreeProcessor",t,e)},S.newTreeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createTreeProcessor(t,e).$new()},S.createIncludeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),N("IncludeProcessor",t,e)},S.newIncludeProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createIncludeProcessor(t,e).$new()},S.createDocinfoProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),N("DocinfoProcessor",t,e)},S.newDocinfoProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createDocinfoProcessor(t,e).$new()},S.createBlockProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),N("BlockProcessor",t,e)},S.newBlockProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createBlockProcessor(t,e).$new()},S.createInlineMacroProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),N("InlineMacroProcessor",t,e)},S.newInlineMacroProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createInlineMacroProcessor(t,e).$new()},S.createBlockMacroProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),N("BlockMacroProcessor",t,e)},S.newBlockMacroProcessor=function(t,e){return 1===arguments.length&&(e=t,t=null),this.createBlockMacroProcessor(t,e).$new()};var P=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");(Opal.Asciidoctor.Converter=P).prototype.convert=function(t,e,r){return this.$convert(t,e,_(r))},P.BuiltIn.prototype.convert=P.prototype.convert;var z=Opal.Asciidoctor.Converter.Factory;(Opal.Asciidoctor.ConverterFactory=z).register=function(t,e){return"object"==typeof t&&void 0===t.$convert&&"function"==typeof t.convert&&Opal.def(t,"$convert",t.convert),this.$register(t,e)},z.getDefault=function(t){return this.$default(t)},z.prototype.create=function(t,e){return this.$create(t,_(e))};var L=Opal.Asciidoctor.Converter.Html5Converter;(Opal.Asciidoctor.Html5Converter=L).prototype.convert=function(t,e,r){return this.$convert(t,e,r)};return t.prototype.getVersion=function(){return"1.5.9"},Opal.Asciidoctor}}(this);