Lawnchair.adapter("window-name",function(){"undefined"==typeof window&&(window={top:{}});var a={};try{a=JSON.parse(window.top.name)}catch(t){}return{valid:function(){return void 0!==window.top.name},init:function(t,i){return a[this.name]=a[this.name]||{index:[],store:{}},this.index=a[this.name].index,this.store=a[this.name].store,this.fn(this.name,i).call(this,this),this},keys:function(t){return this.fn("keys",t).call(this,this.index),this},save:function(t,s){var e=t.key||this.uuid();return this.exists(e,function(i){i||(t.key&&delete t.key,this.index.push(e)),this.store[e]=t;try{window.top.name=JSON.stringify(a)}catch(t){throw i||(this.index.pop(),delete this.store[e]),t}s&&(t.key=e,this.lambda(s).call(this,t))}),this},batch:function(t,i){for(var s=[],e=0,n=t.length;e<n;e++)this.save(t[e],function(t){s.push(t)});return i&&this.lambda(i).call(this,s),this},get:function(t,i){var s;if(this.isArray(t)){s=[];for(var e=0,n=t.length;e<n;e++)s.push(this.store[t[e]])}else(s=this.store[t])&&(s.key=t);return i&&this.lambda(i).call(this,s),this},exists:function(t,i){return this.lambda(i).call(this,!!this.store[t]),this},all:function(t){for(var i=[],s=0,e=this.index.length;s<e;s++){var n=this.store[this.index[s]];n.key=this.index[s],i.push(n)}return this.fn(this.name,t).call(this,i),this},remove:function(t,i){for(var s=this.isArray(t)?t:[t],e=0,n=s.length;e<n;e++){var h=s[e].key?s[e].key:s[e],r=this.indexOf(this.index,h);r<0||(delete this.store[h],this.index.splice(r,1))}return window.top.name=JSON.stringify(a),i&&this.lambda(i).call(this),this},nuke:function(t){return this.store=a[this.name].store={},this.index=a[this.name].index=[],window.top.name=JSON.stringify(a),t&&this.lambda(t).call(this),this}}}());