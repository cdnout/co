!function(r,t){"object"==typeof exports?module.exports=t(r):"function"==typeof define&&define.amd?define("colors",[],function(){return t(r)}):r.Colors=t(r)}(this,function(r,t){"use strict";function o(r,o,n,a,e){if("string"==typeof o){var o=y.txt2color(o);n=o.type,v[n]=o[n],e=e!==t?e:o.alpha}else if(o)for(var s in o)r[n][s]=b(o[s]/c[n][s][1],0,1);return e!==t&&(r.alpha=b(+e,0,1)),i(n,a?r:t)}function n(r,t,o){var n=f.options.grey,i={};return i.RGB={r:r.r,g:r.g,b:r.b},i.rgb={r:t.r,g:t.g,b:t.b},i.alpha=o,i.equivalentGrey=h(n.r*r.r+n.g*r.g+n.b*r.b),i.rgbaMixBlack=u(t,{r:0,g:0,b:0},o,1),i.rgbaMixWhite=u(t,{r:1,g:1,b:1},o,1),i.rgbaMixBlack.luminance=s(i.rgbaMixBlack,!0),i.rgbaMixWhite.luminance=s(i.rgbaMixWhite,!0),f.options.customBG&&(i.rgbaMixCustom=u(t,f.options.customBG,o,1),i.rgbaMixCustom.luminance=s(i.rgbaMixCustom,!0),f.options.customBG.luminance=s(f.options.customBG,!0)),i}function i(r,t){var o,i,b,p=t||v,m=y,x=f.options,B=c,G=p.RND,M="",C="",R={hsl:"hsv",rgb:r},d=G.rgb;if("alpha"!==r){for(var k in B)if(!B[k][k]){r!==k&&(C=R[k]||"rgb",p[k]=m[C+"2"+k](p[C])),G[k]||(G[k]={}),o=p[k];for(M in o)G[k][M]=h(o[M]*B[k][M][1])}d=G.rgb,p.HEX=m.RGB2HEX(d),p.equivalentGrey=x.grey.r*p.rgb.r+x.grey.g*p.rgb.g+x.grey.b*p.rgb.b,p.webSave=i=a(d,51),p.webSmart=b=a(d,17),p.saveColor=d.r===i.r&&d.g===i.g&&d.b===i.b?"web save":d.r===b.r&&d.g===b.g&&d.b===b.b?"web smart":"",p.hueRGB=y.hue2RGB(p.hsv.h),t&&(p.background=n(d,p.rgb,p.alpha))}var E,H,X,w=p.rgb,D=p.alpha,S="luminance",W=p.background;return E=u(w,{r:0,g:0,b:0},D,1),E[S]=s(E,!0),p.rgbaMixBlack=E,H=u(w,{r:1,g:1,b:1},D,1),H[S]=s(H,!0),p.rgbaMixWhite=H,x.customBG&&(X=u(w,W.rgbaMixCustom,D,1),X[S]=s(X,!0),X.WCAG2Ratio=g(X[S],W.rgbaMixCustom[S]),p.rgbaMixBGMixCustom=X,X.luminanceDelta=l.abs(X[S]-W.rgbaMixCustom[S]),X.hueDelta=e(W.rgbaMixCustom,X,!0)),p.RGBLuminance=s(d),p.HUELuminance=s(p.hueRGB),x.convertCallback&&x.convertCallback(p,r),p}function a(r,t){var o={},n=0,i=t/2;for(var a in r)n=r[a]%t,o[a]=r[a]+(n>i?t-n:-n);return o}function e(r,t,o){return(l.max(r.r-t.r,t.r-r.r)+l.max(r.g-t.g,t.g-r.g)+l.max(r.b-t.b,t.b-r.b))*(o?255:1)/765}function s(r,t){for(var o=t?1:255,n=[r.r/o,r.g/o,r.b/o],i=f.options.luminance,a=n.length;a--;)n[a]=n[a]<=.03928?n[a]/12.92:l.pow((n[a]+.055)/1.055,2.4);return i.r*n[0]+i.g*n[1]+i.b*n[2]}function u(r,o,n,i){var a={},e=n!==t?n:1,s=i!==t?i:1,u=e+s*(1-e);for(var g in r)a[g]=(r[g]*e+o[g]*s*(1-e))/u;return a.a=u,a}function g(r,t){var o=1;return o=r>=t?(r+.05)/(t+.05):(t+.05)/(r+.05),h(100*o)/100}function b(r,t,o){return r>o?o:t>r?t:r}var c={rgb:{r:[0,255],g:[0,255],b:[0,255]},hsv:{h:[0,360],s:[0,100],v:[0,100]},hsl:{h:[0,360],s:[0,100],l:[0,100]},alpha:{alpha:[0,1]},HEX:{HEX:[0,16777215]}},l=r.Math,h=l.round,f={},v={},p={r:.298954,g:.586434,b:.114612},m={r:.2126,g:.7152,b:.0722},x=function(r){this.colors={RND:{}},this.options={color:"rgba(0,0,0,0)",grey:p,luminance:m,valueRanges:c},B(this,r||{})},B=function(r,n){var i,a=r.options;G(r);for(var e in n)n[e]!==t&&(a[e]=n[e]);i=a.customBG,a.customBG="string"==typeof i?y.txt2color(i).rgb:i,v=o(r.colors,a.color,t,!0)},G=function(r){f!==r&&(f=r,v=r.colors)};x.prototype.setColor=function(r,n,a){return G(this),r?o(this.colors,r,n,t,a):(a!==t&&(this.colors.alpha=b(a,0,1)),i(n))},x.prototype.setCustomBackground=function(r){return G(this),this.options.customBG="string"==typeof r?y.txt2color(r).rgb:r,o(this.colors,t,"rgb")},x.prototype.saveAsBackground=function(){return G(this),o(this.colors,t,"rgb",!0)},x.prototype.toString=function(r,t){return y.color2text((r||"rgb").toLowerCase(),this.colors,t)};var y={txt2color:function(r){var t={},o=r.replace(/(?:#|\)|%)/g,"").split("("),n=(o[1]||"").split(/,\s*/),i=o[1]?o[0].substr(0,3):"rgb",a="";if(t.type=i,t[i]={},o[1])for(var e=3;e--;)a=i[e]||i.charAt(e),t[i][a]=+n[e]/c[i][a][1];else t.rgb=y.HEX2rgb(o[0]);return t.alpha=n[3]?+n[3]:1,t},color2text:function(r,t,o){var n=o!==!1&&h(100*t.alpha)/100,i="number"==typeof n&&o!==!1&&(o||1!==n),a=t.RND.rgb,e=t.RND.hsl,s="hex"===r&&i,u="hex"===r&&!s,g="rgb"===r||s,b=g?a.r+", "+a.g+", "+a.b:u?"#"+t.HEX:e.h+", "+e.s+"%, "+e.l+"%";return u?b:(s?"rgb":r)+(i?"a":"")+"("+b+(i?", "+n:"")+")"},RGB2HEX:function(r){return((r.r<16?"0":"")+r.r.toString(16)+(r.g<16?"0":"")+r.g.toString(16)+(r.b<16?"0":"")+r.b.toString(16)).toUpperCase()},HEX2rgb:function(r){return r=r.split(""),{r:+("0x"+r[0]+r[r[3]?1:0])/255,g:+("0x"+r[r[3]?2:1]+(r[3]||r[1]))/255,b:+("0x"+(r[4]||r[2])+(r[5]||r[2]))/255}},hue2RGB:function(r){var t=6*r,o=~~t%6,n=6===t?0:t-o;return{r:h(255*[1,1-n,0,0,n,1][o]),g:h(255*[n,1,1,1-n,0,0][o]),b:h(255*[0,0,n,1,1,1-n][o])}},rgb2hsv:function(r){var t,o,n,i=r.r,a=r.g,e=r.b,s=0;return e>a&&(a=e+(e=a,0),s=-1),o=e,a>i&&(i=a+(a=i,0),s=-2/6-s,o=l.min(a,e)),t=i-o,n=i?t/i:0,{h:1e-15>n?v&&v.hsl&&v.hsl.h||0:t?l.abs(s+(a-e)/(6*t)):0,s:i?t/i:v&&v.hsv&&v.hsv.s||0,v:i}},hsv2rgb:function(r){var t=6*r.h,o=r.s,n=r.v,i=~~t,a=t-i,e=n*(1-o),s=n*(1-a*o),u=n*(1-(1-a)*o),g=i%6;return{r:[n,s,e,e,u,n][g],g:[u,n,n,s,e,e][g],b:[e,e,u,n,n,s][g]}},hsv2hsl:function(r){var t=(2-r.s)*r.v,o=r.s*r.v;return o=r.s?1>t?t?o/t:0:o/(2-t):0,{h:r.h,s:r.v||o?o:v&&v.hsl&&v.hsl.s||0,l:t/2}},rgb2hsl:function(r,t){var o=y.rgb2hsv(r);return y.hsv2hsl(t?o:v.hsv=o)},hsl2rgb:function(r){var t=6*r.h,o=r.s,n=r.l,i=.5>n?n*(1+o):n+o-o*n,a=n+n-i,e=i?(i-a)/i:0,s=~~t,u=t-s,g=i*e*u,b=a+g,c=i-g,l=s%6;return{r:[i,c,a,a,b,i][l],g:[b,i,i,c,a,a][l],b:[a,a,b,i,i,c][l]}}};return x});
//# sourceMappingURL=colors.min.js.map