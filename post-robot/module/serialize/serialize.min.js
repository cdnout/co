"use strict";exports.__esModule=!0,exports.serializeMessage=serializeMessage,exports.deserializeMessage=deserializeMessage;var _src=require("cross-domain-utils/src"),_src2=require("universal-serialize/src"),_conf=require("../conf"),_function=require("./function"),_promise=require("./promise"),_window=require("./window");function serializeMessage(e,i,s,{on:r,send:n}){return(0,_src2.serialize)(s,{[_src2.TYPE.PROMISE]:(s,o)=>(0,_promise.serializePromise)(e,i,s,o,{on:r,send:n}),[_src2.TYPE.FUNCTION]:(s,o)=>(0,_function.serializeFunction)(e,i,s,o,{on:r,send:n}),[_src2.TYPE.OBJECT]:s=>(0,_src.isWindow)(s)||_window.ProxyWindow.isProxyWindow(s)?(0,_window.serializeWindow)(e,i,s,{send:n}):s})}function deserializeMessage(e,i,s,{send:r}){return(0,_src2.deserialize)(s,{[_conf.SERIALIZATION_TYPE.CROSS_DOMAIN_ZALGO_PROMISE]:s=>(0,_promise.deserializePromise)(e,i,s),[_conf.SERIALIZATION_TYPE.CROSS_DOMAIN_FUNCTION]:s=>(0,_function.deserializeFunction)(e,i,s,{send:r}),[_conf.SERIALIZATION_TYPE.CROSS_DOMAIN_WINDOW]:s=>(0,_window.deserializeWindow)(e,i,s,{send:r})})}