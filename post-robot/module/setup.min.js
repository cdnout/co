"use strict";exports.__esModule=!0,exports.serializeMessage=serializeMessage,exports.deserializeMessage=deserializeMessage,exports.createProxyWindow=createProxyWindow,exports.toProxyWindow=toProxyWindow,exports.setup=setup,exports.destroy=destroy;var _lib=require("./lib"),_drivers=require("./drivers"),_global=require("./global"),_public=require("./public"),_bridge=require("./bridge"),_serialize=require("./serialize");function serializeMessage(e,i,s){return(0,_serialize.serializeMessage)(e,i,s,{on:_public.on,send:_public.send})}function deserializeMessage(e,i,s){return(0,_serialize.deserializeMessage)(e,i,s,{on:_public.on,send:_public.send})}function createProxyWindow(e){return new _serialize.ProxyWindow({send:_public.send,win:e})}function toProxyWindow(e){return _serialize.ProxyWindow.toProxyWindow(e,{send:_public.send})}function setup(){(0,_global.getGlobal)().initialized||((0,_global.getGlobal)().initialized=!0,(0,_drivers.setupGlobalReceiveMessage)({on:_public.on,send:_public.send}),(0,_drivers.listenForMessages)({on:_public.on,send:_public.send}),__POST_ROBOT__.__IE_POPUP_SUPPORT__&&(0,_bridge.setupBridge)({on:_public.on,send:_public.send,receiveMessage:_drivers.receiveMessage}),(0,_lib.initHello)({on:_public.on,send:_public.send}))}function destroy(){(0,_drivers.cancelResponseListeners)(),(0,_drivers.stopListenForMessages)(),(0,_global.deleteGlobal)()}