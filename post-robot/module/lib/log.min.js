"use strict";exports.__esModule=!0,exports.log=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_conf=require("../conf"),_util=require("./util"),LOG_DISABLE="disabled",LOG_LEVELS=["debug","info","warn","error"];Function.prototype.bind&&window.console&&"object"===_typeof(console.log)&&["log","info","warn","error"].forEach(function(o){console[o]=this.bind(console[o],console)},Function.prototype.call);var log=exports.log={clearLogs:function(){var o;window.console&&window.console.clear&&window.console.clear(),!_conf.CONFIG.LOG_TO_PAGE||(o=document.getElementById("postRobotLogs"))&&o.parentNode&&o.parentNode.removeChild(o)},writeToPage:function(r,i){setTimeout(function(){var o=document.getElementById("postRobotLogs");o||((o=document.createElement("div")).id="postRobotLogs",o.style.cssText="width: 800px; font-family: monospace; white-space: pre-wrap;",document.body&&document.body.appendChild(o));var e=document.createElement("div"),n=(new Date).toString().split(" ")[4],t=Array.prototype.slice.call(i).map(function(o){if("string"==typeof o)return o;if(!o)return Object.prototype.toString.call(o);var e=void 0;try{e=(0,_util.jsonStringify)(o,null,2)}catch(o){e="[object]"}return"\n\n"+e+"\n\n"}).join(" "),t=n+" "+r+" "+t;e.innerHTML=t;t={log:"#ddd",warn:"orange",error:"red",info:"blue",debug:"#aaa"}[r];e.style.cssText="margin-top: 10px; color: "+t+";",o.childNodes.length?o.insertBefore(e,o.childNodes[0]):o.appendChild(e)})},logLevel:function(e,n){setTimeout(function(){try{var o=window.LOG_LEVEL||_conf.CONFIG.LOG_LEVEL;if(o===LOG_DISABLE||LOG_LEVELS.indexOf(e)<LOG_LEVELS.indexOf(o))return;if((n=Array.prototype.slice.call(n)).unshift(""+window.location.host+window.location.pathname),n.unshift("::"),n.unshift(""+(0,_util.getWindowType)().toLowerCase()),n.unshift("[post-robot]"),_conf.CONFIG.LOG_TO_PAGE&&log.writeToPage(e,n),!window.console)return;if(window.console[e]||(e="log"),!window.console[e])return;window.console[e].apply(window.console,n)}catch(o){}},1)},debug:function(){for(var o=arguments.length,e=Array(o),n=0;n<o;n++)e[n]=arguments[n];log.logLevel("debug",e)},info:function(){for(var o=arguments.length,e=Array(o),n=0;n<o;n++)e[n]=arguments[n];log.logLevel("info",e)},warn:function(){for(var o=arguments.length,e=Array(o),n=0;n<o;n++)e[n]=arguments[n];log.logLevel("warn",e)},error:function(){for(var o=arguments.length,e=Array(o),n=0;n<o;n++)e[n]=arguments[n];log.logLevel("error",e)}};