/**
  * v1.0.5 generated on: Sun Jan 08 2017 16:07:31 GMT+0000 (UTC)
  * Copyright (c) 2014-2017, Ecor Ventures LLC. All Rights Reserved. See LICENSE (BSD).
  */
var ChassisList=document.registerElement("chassis-list",{prototype:Object.create(HTMLElement.prototype,{createdCallback:{value:function(){var e=this;document.body.classList.add("chassis"),document.addEventListener("keydown",function(t){91===t.keyCode&&(e.cmdKeyPressed=!0)}),document.addEventListener("keyup",function(t){91===t.keyCode&&(e.cmdKeyPressed=!1)}),this.addEventListener("keydown",function(t){e.applyArrowHandler(t),e.applyKeyCommands(t),16===t.keyCode?e.holdingShift=!0:e.holdingShift||(e.trending=0)}),this.addEventListener("keyup",function(t){16===t.keyCode&&(e.holdingShift=!1)}),this.items.forEach(function(t){e.applyHandlers(t,e)});var t=new MutationObserver(function(t){t.forEach(function(t){"childList"===t.type&&(t.addedNodes.length>0?e.slice(t.addedNodes).forEach(function(t){e.applyHandlers(t,e),e.dispatchEvent(new CustomEvent("item.create",{detail:{item:t}}))}):t.removedNodes.length>0&&e.slice(t.removedNodes).forEach(function(t){e.dispatchEvent(new CustomEvent("item.delete",{detail:{item:t}}))}))})});t.observe(this,{childList:!0}),null===this.getAttribute("tabindex")&&this.setAttribute("tabindex",0)}},applyHandlers:{enumerable:!1,writable:!1,configurable:!1,value:function(e,t){var i=t||this;e.addEventListener("click",function(t){return i.allowMultiSelection&&(i.holdingShift||t.ctrlKey||i.cmdKeyPressed||t.altKey)?t.ctrlKey||t.altKey||i.cmdKeyPressed?(i.holdingShift?(i.toggleSelection(i.last),i.toggleRangeSelection(i.indexOfParent(i.last),i.indexOfParent(e)),i.base&&i.toggleSelection(i.base)):i.toggleSelection(e),void(i.last=e)):(i.holdingShift&&(i.base=i.base||i.last||e,!(t.ctrlKey||t.altKey||i.cmdKeyPressed)&&i.clearSelected(),i.toggleRangeSelection(i.indexOfParent(i.base),i.indexOfParent(e))),void(i.last=e)):(i.clearSelected(),i.toggleSelection(e),i.base=e,i.last=e,void(this.trending=0))})}},applyArrowHandler:{enumerable:!1,value:function(e){if(e.keyCode>=37&&e.keyCode<=40)if(this.holdingShift&&this.last&&this.allowMultiSelection){var t=null,i=!1;if(e.keyCode>=39?(t=this.nextItem(this.last),i=this.trending<0,this.trending=1):(t=this.previousItem(this.last),i=this.trending>0,this.trending=-1),this.rollover&&this.rolledover&&(this.trending<0&&t===this.base||this.trending>0&&t===this.base))return void e.preventDefault();if(null!==t){if(t===this.base)return void(this.last=this.base);i?this.toggleSelection(this.last):(this.toggleSelection(t),this.last=t)}}else if(!this.holdingShift||!this.allowMultiSelection){var t;if(t=e.keyCode>=39?this.nextItem(this.last):this.previousItem(this.last),!this.rollover&&null===t)return;this.clearSelected(),this.selectItem(t),this.last=t,this.base=t,e.preventDefault()}}},applyKeyCommands:{enumerable:!1,value:function(e){65===e.keyCode&&(e.ctrlKey||this.cmdKeyPressed)&&(e.preventDefault(),this.selectAll())}},cmdKeyPressed:{enumerable:!1,writable:!0,configurable:!1,value:!1},holdingShift:{enumerable:!1,writable:!0,configurable:!1,value:!1},base:{enumerable:!1,writable:!0,configurable:!1,value:null},_last:{enumerable:!1,writable:!0,configurable:!1,value:null},trending:{enumerable:!1,writable:!0,configurable:!1,value:0},last:{enumerable:!1,get:function(){return this._last},set:function(e){this._last=e,this.base&&this.holdingShift&&0===this.trending&&(this.indexOfParent(this.last)>this.indexOfParent(this.base)?this.trending=1:this.indexOfParent(this.last)<this.indexOfParent(this.base)&&(this.trending=-1))}},lastSelected:{enumerable:!0,get:function(){var e=this.selectedItems;return 0===e.length?null:e[e.length-1]}},allowMultiSelection:{enumerable:!1,get:function(){return"false"!==this.getAttribute("multiselect")}},rollover:{enumerable:!1,get:function(){return"true"===this.getAttribute("rollover")}},rolledover:{enumerable:!1,get:function(){var e=this.children[0],t=this.children[this.children.length-1];return this.selected(e)&&this.selected(t)}},slice:{enumerable:!1,writable:!1,configurable:!1,value:function(e){return Array.prototype.slice.call(e)}},indexOfParent:{enumerable:!1,writable:!1,configurable:!1,value:function(e){return this.slice(e.parentNode.children).indexOf(e)}},getItemAt:{enumerable:!0,value:function(e){return this.items[e]||null}},items:{enumerable:!0,get:function(){return this.slice(this.children)}},selected:{enumerable:!1,value:function(e){return!!e&&"true"===e.getAttribute("selected")}},filtered:{enumerable:!1,value:function(e){return!!e&&"true"===e.getAttribute("filter")}},toggleSelection:{enumerable:!1,value:function(e){e&&(this.selected(e)?this.unselectItem(e):this.selectItem(e))}},toggleFilter:{enumerable:!1,value:function(e){e&&(this.filtered(e)?this.unfilterItem(e):this.filterItem(e))}},filterItem:{value:function(e){this.filtered(e)||(e.setAttribute("filter","true"),this.dispatchEvent(new CustomEvent("item.filter",{detail:{item:e}})))}},unfilterItem:{value:function(e){this.filtered(e)&&(e.removeAttribute("filter"),this.dispatchEvent(new CustomEvent("item.unfilter",{detail:{item:e}})))}},selectItem:{value:function(e){this.selected(e)||(e.setAttribute("selected","true"),this.dispatchEvent(new CustomEvent("item.select",{detail:{item:e}})))}},unselectItem:{value:function(e){this.selected(e)&&(e.removeAttribute("selected"),this.dispatchEvent(new CustomEvent("item.unselect",{detail:{item:e}})))}},toggleRangeSelection:{enumerable:!0,value:function(e,t){this.trending=this.identifyTrend(e,t);var i=e<t?e:t,n=e>t?e:t;if(e>t)for(var l=n;l>=i;l--)this.toggleSelection(this.children[l]);else for(var l=i;l<=n;l++)this.toggleSelection(this.children[l])}},selectRange:{value:function(e,t){this.trending=this.identifyTrend(e,t);var i=e<t?e:t,n=e>t?e:t;if(e>t)for(var l=n;l>=i;l--)this.selectItem(this.children[l]);else for(var l=i;l<=n;l++)this.selectItem(this.children[l])}},unselectRange:{value:function(e,t){this.trending=this.identifyTrend(e,t);var i=e<t?e:t,n=e>t?e:t;if(e>t)for(var l=n;l>=i;l--)this.unselectItem(this.children[l]);else for(var l=i;l<=n;l++)this.unselectItem(this.children[l])}},nextItem:{enumerable:!1,value:function(e){if(e===this.children[this.children.length-1])return this.rollover?this.children[0]:null;for(var t=e.nextSibling;null!==t&&(3===t.nodeType||this.filtered(t));)t=t.nextSibling;return t}},previousItem:{enumerable:!1,value:function(e){if(e===this.children[0])return this.rollover?this.children[this.children.length-1]:null;for(var t=e.previousSibling;null!==t&&(3===t.nodeType||this.filtered(t));)t=t.previousSibling;return t}},getSelectedItems:{value:function(e){var t=this;e="boolean"==typeof e&&e;var i=this.items.filter(function(i){return!(!e&&t.filtered(i))&&t.selected(i)});return this.identifyTrend(this.base,this.last)<0?i.reverse():i}},getUnselectedItems:{value:function(e){var t=this;return"boolean"==typeof e&&e?this.items.filter(function(e){return!t.selected(e)&&!t.filtered(e)}):this.items.filter(function(e){return!t.selected(e)})}},selectedItems:{enumerable:!0,get:function(){return this.getSelectedItems(!1)}},unselectedItems:{enumerable:!0,get:function(){return this.getUnselectedItems(!1)}},unselectFilteredItems:{enumerable:!0,value:function(){var e=this;this.filteredItems.forEach(function(t){e.unselectItem(t)})}},getFilteredItems:{value:function(){var e=this;return this.items.filter(function(t){return e.filtered(t)})}},getUnfilteredItems:{value:function(){var e=this;return this.items.filter(function(t){return!e.filtered(t)})}},filteredItems:{enumerable:!0,get:function(){return this.getFilteredItems()}},unfilteredItems:{enumerable:!0,get:function(){return this.getUnfilteredItems()}},selectAll:{value:function(e){e="boolean"==typeof e&&e;var t=this;this.items.forEach(function(i){!e&&t.filtered(i)||(t.selectItem(i),this.last=i)})}},matchSelectionState:{enumerable:!1,value:function(e,t){var i=this.selected(e);i!==this.selected(t)&&(i?this.selectItem(t):this.unselectItem(t))}},clearSelected:{value:function(){var e=this;this.items.forEach(function(t){e.unselectItem(t)});for(var t=0;t<this.children.length;t++)if(!this.filtered(this.children[t])){this.last=this.children[t];break}}},invertSelection:{value:function(){var e=this;this.items.filter(function(t){return!e.filtered(t)}).forEach(function(t){e.toggleSelection(t),e.last=t})}},identifyTrend:{enumerable:!1,value:function(e,t){return"number"!=typeof e&&(e=this.indexOfParent(e)),"number"!=typeof t&&(t=this.indexOfParent(t)),e<t?1:e>t?-1:0}},filter:{value:function(e,t){t="boolean"!=typeof t||t,"function"!=typeof e&&(console.warn("[chassis-list].filter(myFunction) method requires a function, but none was provided."),e=function(){return!1});var i=this;if(this.items.filter(e).forEach(function(e){i.filterItem(e)}),this.last){for(var n=this.last;this.filtered(this.last);)this.last=this.previousItem(this.last);if(null===this.last)for(this.last=n;this.filtered(this.last);)this.last=this.nextItem(this.last);null===this.last&&(this.last=this.querySelector(':not([filter="true"])'))}t&&this.unselectFilteredItems(),this.dispatchEvent(new CustomEvent("filter.applied"))}},clearFilter:{value:function(){var e=this;this.items.forEach(function(t){e.unfilterItem(t)}),this.dispatchEvent(new CustomEvent("filter.clear"))}},sort:{value:function(e){e="function"==typeof e?e:function(){};var t="";this.items.sort(e).forEach(function(e){t+=e.outerHTML}),this.innerHTML=t,this.dispatchEvent(new CustomEvent("sort"))}}})});