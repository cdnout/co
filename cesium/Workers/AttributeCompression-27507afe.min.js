define(["exports","./Matrix2-37e55508","./ComponentDatatype-a15c9a19","./RuntimeError-8952249c","./defaultValue-81eec7ed"],function(e,o,u,t,i){"use strict";const n={SCALAR:"SCALAR",VEC2:"VEC2",VEC3:"VEC3",VEC4:"VEC4",MAT2:"MAT2",MAT3:"MAT3",MAT4:"MAT4",getMathType:function(e){switch(e){case n.SCALAR:return Number;case n.VEC2:return o.Cartesian2;case n.VEC3:return o.Cartesian3;case n.VEC4:return o.Cartesian4;case n.MAT2:return o.Matrix2;case n.MAT3:return o.Matrix3;case n.MAT4:return o.Matrix4}},getNumberOfComponents:function(e){switch(e){case n.SCALAR:return 1;case n.VEC2:return 2;case n.VEC3:return 3;case n.VEC4:case n.MAT2:return 4;case n.MAT3:return 9;case n.MAT4:return 16}},getAttributeLocationCount:function(e){switch(e){case n.SCALAR:case n.VEC2:case n.VEC3:case n.VEC4:return 1;case n.MAT2:return 2;case n.MAT3:return 3;case n.MAT4:return 4}},getGlslType:function(e){switch(e){case n.SCALAR:return"float";case n.VEC2:return"vec2";case n.VEC3:return"vec3";case n.VEC4:return"vec4";case n.MAT2:return"mat2";case n.MAT3:return"mat3";case n.MAT4:return"mat4"}}};var C=Object.freeze(n);const s={octEncodeInRange:function(e,t,n){if(n.x=e.x/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),n.y=e.y/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),e.z<0){const e=n.x,t=n.y;n.x=(1-Math.abs(t))*u.CesiumMath.signNotZero(e),n.y=(1-Math.abs(e))*u.CesiumMath.signNotZero(t)}return n.x=u.CesiumMath.toSNorm(n.x,t),n.y=u.CesiumMath.toSNorm(n.y,t),n},octEncode:function(e,t){return s.octEncodeInRange(e,255,t)}},a=new o.Cartesian2,r=new Uint8Array(1);function c(e){return r[0]=e,r[0]}s.octEncodeToCartesian4=function(e,t){return s.octEncodeInRange(e,65535,a),t.x=c(a.x*(1/256)),t.y=c(a.x),t.z=c(a.y*(1/256)),t.w=c(a.y),t},s.octDecodeInRange=function(e,t,n,a){if(a.x=u.CesiumMath.fromSNorm(e,n),a.y=u.CesiumMath.fromSNorm(t,n),a.z=1-(Math.abs(a.x)+Math.abs(a.y)),a.z<0){const e=a.x;a.x=(1-Math.abs(a.y))*u.CesiumMath.signNotZero(e),a.y=(1-Math.abs(e))*u.CesiumMath.signNotZero(a.y)}return o.Cartesian3.normalize(a,a)},s.octDecode=function(e,t,n){return s.octDecodeInRange(e,t,255,n)},s.octDecodeFromCartesian4=function(e,t){var n=256*e.x+e.y,e=256*e.z+e.w;return s.octDecodeInRange(n,e,65535,t)},s.octPackFloat=function(e){return 256*e.x+e.y};const M=new o.Cartesian2;function f(e){return e>>1^-(1&e)}s.octEncodeFloat=function(e){return s.octEncode(e,M),s.octPackFloat(M)},s.octDecodeFloat=function(e,t){var n=e/256,e=Math.floor(n),n=256*(n-e);return s.octDecode(e,n,t)},s.octPack=function(e,t,n,a){e=s.octEncodeFloat(e),t=s.octEncodeFloat(t),n=s.octEncode(n,M);return a.x=65536*n.x+e,a.y=65536*n.y+t,a},s.octUnpack=function(e,t,n,a){var o=e.x/65536,r=Math.floor(o),c=65536*(o-r),o=e.y/65536,e=Math.floor(o),o=65536*(o-e);s.octDecodeFloat(c,t),s.octDecodeFloat(o,n),s.octDecode(r,e,a)},s.compressTextureCoordinates=function(e){return 4096*(4095*e.x|0)+(4095*e.y|0)},s.decompressTextureCoordinates=function(e,t){var n=Math.floor(e/4096);return t.x=n/4095,t.y=(e-4096*n)/4095,t},s.zigZagDeltaDecode=function(t,n,a){var o=t.length;let r=0,c=0,s=0;for(let e=0;e<o;++e)r+=f(t[e]),c+=f(n[e]),t[e]=r,n[e]=c,i.defined(a)&&(s+=f(a[e]),a[e]=s)},s.dequantize=function(n,e,a,o){var r=C.getNumberOfComponents(a);let c;switch(e){case u.ComponentDatatype.BYTE:c=127;break;case u.ComponentDatatype.UNSIGNED_BYTE:c=255;break;case u.ComponentDatatype.SHORT:c=32767;break;case u.ComponentDatatype.UNSIGNED_SHORT:c=65535;break;case u.ComponentDatatype.INT:c=2147483647;break;case u.ComponentDatatype.UNSIGNED_INT:c=4294967295}const s=new Float32Array(o*r);for(let t=0;t<o;t++)for(let e=0;e<r;e++){const a=t*r+e;s[a]=Math.max(n[a]/c,-1)}return s},s.decodeRGB565=function(t,n){const a=t.length;i.defined(n)||(n=new Float32Array(3*a));for(let e=0;e<a;e++){const a=t[e],o=a>>11,r=a>>5&63,c=31&a,s=3*e;n[s]=1/31*o,n[1+s]=.015873015873015872*r,n[2+s]=1/31*c}return n},e.AttributeCompression=s});