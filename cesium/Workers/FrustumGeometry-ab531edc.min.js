define(["exports","./Transforms-dca21951","./Matrix2-37e55508","./RuntimeError-8952249c","./ComponentDatatype-a15c9a19","./defaultValue-81eec7ed","./GeometryAttribute-cc3a5bc9","./GeometryAttributes-32b29525","./Plane-6ee42cab","./VertexFormat-a0b706b0"],function(t,c,m,e,d,C,_,y,f,u){"use strict";function l(t){this.planes=C.defaultValue(t,[])}const h=[new m.Cartesian3,new m.Cartesian3,new m.Cartesian3];m.Cartesian3.clone(m.Cartesian3.UNIT_X,h[0]),m.Cartesian3.clone(m.Cartesian3.UNIT_Y,h[1]),m.Cartesian3.clone(m.Cartesian3.UNIT_Z,h[2]);const p=new m.Cartesian3,g=new m.Cartesian3,w=new f.Plane(new m.Cartesian3(1,0,0),0);function i(t){t=C.defaultValue(t,C.defaultValue.EMPTY_OBJECT),this.left=t.left,this._left=void 0,this.right=t.right,this._right=void 0,this.top=t.top,this._top=void 0,this.bottom=t.bottom,this._bottom=void 0,this.near=C.defaultValue(t.near,1),this._near=this.near,this.far=C.defaultValue(t.far,5e8),this._far=this.far,this._cullingVolume=new l,this._orthographicMatrix=new m.Matrix4}function r(t){t.top===t._top&&t.bottom===t._bottom&&t.left===t._left&&t.right===t._right&&t.near===t._near&&t.far===t._far||(t._left=t.left,t._right=t.right,t._top=t.top,t._bottom=t.bottom,t._near=t.near,t._far=t.far,t._orthographicMatrix=m.Matrix4.computeOrthographicOffCenter(t.left,t.right,t.bottom,t.top,t.near,t.far,t._orthographicMatrix))}l.fromBoundingSphere=function(t,i){C.defined(i)||(i=new l);const e=h.length,n=i.planes;n.length=2*e;var r=t.center,o=t.radius;let s=0;for(let a=0;a<e;++a){const i=h[a];let t=n[s],e=n[s+1];C.defined(t)||(t=n[s]=new m.Cartesian4),C.defined(e)||(e=n[s+1]=new m.Cartesian4),m.Cartesian3.multiplyByScalar(i,-o,p),m.Cartesian3.add(r,p,p),t.x=i.x,t.y=i.y,t.z=i.z,t.w=-m.Cartesian3.dot(i,p),m.Cartesian3.multiplyByScalar(i,o,p),m.Cartesian3.add(r,p,p),e.x=-i.x,e.y=-i.y,e.z=-i.z,e.w=-m.Cartesian3.dot(m.Cartesian3.negate(i,g),p),s+=2}return i},l.prototype.computeVisibility=function(a){var i=this.planes;let n=!1;for(let t=0,e=i.length;t<e;++t){var r=a.intersectPlane(f.Plane.fromCartesian4(i[t],w));if(r===c.Intersect.OUTSIDE)return c.Intersect.OUTSIDE;r===c.Intersect.INTERSECTING&&(n=!0)}return n?c.Intersect.INTERSECTING:c.Intersect.INSIDE},l.prototype.computeVisibilityWithPlaneMask=function(a,i){if(i===l.MASK_OUTSIDE||i===l.MASK_INSIDE)return i;let n=l.MASK_INSIDE;var r=this.planes;for(let t=0,e=r.length;t<e;++t){var o=t<31?1<<t:0;if(!(t<31&&0==(i&o))){var s=a.intersectPlane(f.Plane.fromCartesian4(r[t],w));if(s===c.Intersect.OUTSIDE)return l.MASK_OUTSIDE;s===c.Intersect.INTERSECTING&&(n|=o)}}return n},l.MASK_OUTSIDE=4294967295,l.MASK_INSIDE=0,l.MASK_INDETERMINATE=2147483647,Object.defineProperties(i.prototype,{projectionMatrix:{get:function(){return r(this),this._orthographicMatrix}}});const v=new m.Cartesian3,x=new m.Cartesian3,b=new m.Cartesian3,M=new m.Cartesian3;function V(t){t=C.defaultValue(t,C.defaultValue.EMPTY_OBJECT),this._offCenterFrustum=new i,this.width=t.width,this._width=void 0,this.aspectRatio=t.aspectRatio,this._aspectRatio=void 0,this.near=C.defaultValue(t.near,1),this._near=this.near,this.far=C.defaultValue(t.far,5e8),this._far=this.far}function o(t){const e=t._offCenterFrustum;var a;t.width===t._width&&t.aspectRatio===t._aspectRatio&&t.near===t._near&&t.far===t._far||(t._aspectRatio=t.aspectRatio,t._width=t.width,t._near=t.near,t._far=t.far,a=1/t.aspectRatio,e.right=.5*t.width,e.left=-e.right,e.top=a*e.right,e.bottom=-e.top,e.near=t.near,e.far=t.far)}function n(t){t=C.defaultValue(t,C.defaultValue.EMPTY_OBJECT),this.left=t.left,this._left=void 0,this.right=t.right,this._right=void 0,this.top=t.top,this._top=void 0,this.bottom=t.bottom,this._bottom=void 0,this.near=C.defaultValue(t.near,1),this._near=this.near,this.far=C.defaultValue(t.far,5e8),this._far=this.far,this._cullingVolume=new l,this._perspectiveMatrix=new m.Matrix4,this._infinitePerspective=new m.Matrix4}function s(t){var e=t.top,a=t.bottom,i=t.right,n=t.left,r=t.near,o=t.far;e===t._top&&a===t._bottom&&n===t._left&&i===t._right&&r===t._near&&o===t._far||(t._left=n,t._right=i,t._top=e,t._bottom=a,t._near=r,t._far=o,t._perspectiveMatrix=m.Matrix4.computePerspectiveOffCenter(n,i,a,e,r,o,t._perspectiveMatrix),t._infinitePerspective=m.Matrix4.computeInfinitePerspectiveOffCenter(n,i,a,e,r,t._infinitePerspective))}i.prototype.computeCullingVolume=function(t,e,a){const i=this._cullingVolume.planes,n=this.top,r=this.bottom,o=this.right,s=this.left,f=this.near,u=this.far,l=m.Cartesian3.cross(e,a,v);m.Cartesian3.normalize(l,l);var h=x;m.Cartesian3.multiplyByScalar(e,f,h),m.Cartesian3.add(t,h,h);var p=b;m.Cartesian3.multiplyByScalar(l,s,p),m.Cartesian3.add(h,p,p);let c=i[0];return C.defined(c)||(c=i[0]=new m.Cartesian4),c.x=l.x,c.y=l.y,c.z=l.z,c.w=-m.Cartesian3.dot(l,p),m.Cartesian3.multiplyByScalar(l,o,p),m.Cartesian3.add(h,p,p),c=i[1],C.defined(c)||(c=i[1]=new m.Cartesian4),c.x=-l.x,c.y=-l.y,c.z=-l.z,c.w=-m.Cartesian3.dot(m.Cartesian3.negate(l,M),p),m.Cartesian3.multiplyByScalar(a,r,p),m.Cartesian3.add(h,p,p),c=i[2],C.defined(c)||(c=i[2]=new m.Cartesian4),c.x=a.x,c.y=a.y,c.z=a.z,c.w=-m.Cartesian3.dot(a,p),m.Cartesian3.multiplyByScalar(a,n,p),m.Cartesian3.add(h,p,p),c=i[3],C.defined(c)||(c=i[3]=new m.Cartesian4),c.x=-a.x,c.y=-a.y,c.z=-a.z,c.w=-m.Cartesian3.dot(m.Cartesian3.negate(a,M),p),c=i[4],C.defined(c)||(c=i[4]=new m.Cartesian4),c.x=e.x,c.y=e.y,c.z=e.z,c.w=-m.Cartesian3.dot(e,h),m.Cartesian3.multiplyByScalar(e,u,p),m.Cartesian3.add(t,p,p),c=i[5],C.defined(c)||(c=i[5]=new m.Cartesian4),c.x=-e.x,c.y=-e.y,c.z=-e.z,c.w=-m.Cartesian3.dot(m.Cartesian3.negate(e,M),p),this._cullingVolume},i.prototype.getPixelDimensions=function(t,e,a,i,n){r(this);t=i*(this.right-this.left)/t,e=i*(this.top-this.bottom)/e;return n.x=t,n.y=e,n},i.prototype.clone=function(t){return(t=!C.defined(t)?new i:t).left=this.left,t.right=this.right,t.top=this.top,t.bottom=this.bottom,t.near=this.near,t.far=this.far,t._left=void 0,t._right=void 0,t._top=void 0,t._bottom=void 0,t._near=void 0,t._far=void 0,t},i.prototype.equals=function(t){return C.defined(t)&&t instanceof i&&this.right===t.right&&this.left===t.left&&this.top===t.top&&this.bottom===t.bottom&&this.near===t.near&&this.far===t.far},i.prototype.equalsEpsilon=function(t,e,a){return t===this||C.defined(t)&&t instanceof i&&d.CesiumMath.equalsEpsilon(this.right,t.right,e,a)&&d.CesiumMath.equalsEpsilon(this.left,t.left,e,a)&&d.CesiumMath.equalsEpsilon(this.top,t.top,e,a)&&d.CesiumMath.equalsEpsilon(this.bottom,t.bottom,e,a)&&d.CesiumMath.equalsEpsilon(this.near,t.near,e,a)&&d.CesiumMath.equalsEpsilon(this.far,t.far,e,a)},V.packedLength=4,V.pack=function(t,e,a){return a=C.defaultValue(a,0),e[a++]=t.width,e[a++]=t.aspectRatio,e[a++]=t.near,e[a]=t.far,e},V.unpack=function(t,e,a){return e=C.defaultValue(e,0),(a=!C.defined(a)?new V:a).width=t[e++],a.aspectRatio=t[e++],a.near=t[e++],a.far=t[e],a},Object.defineProperties(V.prototype,{projectionMatrix:{get:function(){return o(this),this._offCenterFrustum.projectionMatrix}}}),V.prototype.computeCullingVolume=function(t,e,a){return o(this),this._offCenterFrustum.computeCullingVolume(t,e,a)},V.prototype.getPixelDimensions=function(t,e,a,i,n){return o(this),this._offCenterFrustum.getPixelDimensions(t,e,a,i,n)},V.prototype.clone=function(t){return(t=!C.defined(t)?new V:t).aspectRatio=this.aspectRatio,t.width=this.width,t.near=this.near,t.far=this.far,t._aspectRatio=void 0,t._width=void 0,t._near=void 0,t._far=void 0,this._offCenterFrustum.clone(t._offCenterFrustum),t},V.prototype.equals=function(t){return!!(C.defined(t)&&t instanceof V)&&(o(this),o(t),this.width===t.width&&this.aspectRatio===t.aspectRatio&&this._offCenterFrustum.equals(t._offCenterFrustum))},V.prototype.equalsEpsilon=function(t,e,a){return!!(C.defined(t)&&t instanceof V)&&(o(this),o(t),d.CesiumMath.equalsEpsilon(this.width,t.width,e,a)&&d.CesiumMath.equalsEpsilon(this.aspectRatio,t.aspectRatio,e,a)&&this._offCenterFrustum.equalsEpsilon(t._offCenterFrustum,e,a))},Object.defineProperties(n.prototype,{projectionMatrix:{get:function(){return s(this),this._perspectiveMatrix}},infiniteProjectionMatrix:{get:function(){return s(this),this._infinitePerspective}}});const F=new m.Cartesian3,E=new m.Cartesian3,O=new m.Cartesian3,P=new m.Cartesian3;function z(t){t=C.defaultValue(t,C.defaultValue.EMPTY_OBJECT),this._offCenterFrustum=new n,this.fov=t.fov,this._fov=void 0,this._fovy=void 0,this._sseDenominator=void 0,this.aspectRatio=t.aspectRatio,this._aspectRatio=void 0,this.near=C.defaultValue(t.near,1),this._near=this.near,this.far=C.defaultValue(t.far,5e8),this._far=this.far,this.xOffset=C.defaultValue(t.xOffset,0),this._xOffset=this.xOffset,this.yOffset=C.defaultValue(t.yOffset,0),this._yOffset=this.yOffset}function R(t){const e=t._offCenterFrustum;t.fov===t._fov&&t.aspectRatio===t._aspectRatio&&t.near===t._near&&t.far===t._far&&t.xOffset===t._xOffset&&t.yOffset===t._yOffset||(t._aspectRatio=t.aspectRatio,t._fov=t.fov,t._fovy=t.aspectRatio<=1?t.fov:2*Math.atan(Math.tan(.5*t.fov)/t.aspectRatio),t._near=t.near,t._far=t.far,t._sseDenominator=2*Math.tan(.5*t._fovy),t._xOffset=t.xOffset,t._yOffset=t.yOffset,e.top=t.near*Math.tan(.5*t._fovy),e.bottom=-e.top,e.right=t.aspectRatio*e.top,e.left=-e.right,e.near=t.near,e.far=t.far,e.right+=t.xOffset,e.left+=t.xOffset,e.top+=t.yOffset,e.bottom+=t.yOffset)}function S(t){const e=t.frustum,a=t.orientation,i=t.origin,n=C.defaultValue(t.vertexFormat,u.VertexFormat.DEFAULT),r=C.defaultValue(t._drawNearPlane,!0);let o,s;e instanceof z?(o=0,s=z.packedLength):e instanceof V&&(o=1,s=V.packedLength),this._frustumType=o,this._frustum=e.clone(),this._origin=m.Cartesian3.clone(i),this._orientation=c.Quaternion.clone(a),this._drawNearPlane=r,this._vertexFormat=n,this._workerName="createFrustumGeometry",this.packedLength=2+s+m.Cartesian3.packedLength+c.Quaternion.packedLength+u.VertexFormat.packedLength}n.prototype.computeCullingVolume=function(t,e,a){const i=this._cullingVolume.planes,n=this.top,r=this.bottom,o=this.right,s=this.left,f=this.near,u=this.far,l=m.Cartesian3.cross(e,a,F),h=E;m.Cartesian3.multiplyByScalar(e,f,h),m.Cartesian3.add(t,h,h);var p=O;m.Cartesian3.multiplyByScalar(e,u,p),m.Cartesian3.add(t,p,p);var c=P;m.Cartesian3.multiplyByScalar(l,s,c),m.Cartesian3.add(h,c,c),m.Cartesian3.subtract(c,t,c),m.Cartesian3.normalize(c,c),m.Cartesian3.cross(c,a,c),m.Cartesian3.normalize(c,c);let d=i[0];return C.defined(d)||(d=i[0]=new m.Cartesian4),d.x=c.x,d.y=c.y,d.z=c.z,d.w=-m.Cartesian3.dot(c,t),m.Cartesian3.multiplyByScalar(l,o,c),m.Cartesian3.add(h,c,c),m.Cartesian3.subtract(c,t,c),m.Cartesian3.cross(a,c,c),m.Cartesian3.normalize(c,c),d=i[1],C.defined(d)||(d=i[1]=new m.Cartesian4),d.x=c.x,d.y=c.y,d.z=c.z,d.w=-m.Cartesian3.dot(c,t),m.Cartesian3.multiplyByScalar(a,r,c),m.Cartesian3.add(h,c,c),m.Cartesian3.subtract(c,t,c),m.Cartesian3.cross(l,c,c),m.Cartesian3.normalize(c,c),d=i[2],C.defined(d)||(d=i[2]=new m.Cartesian4),d.x=c.x,d.y=c.y,d.z=c.z,d.w=-m.Cartesian3.dot(c,t),m.Cartesian3.multiplyByScalar(a,n,c),m.Cartesian3.add(h,c,c),m.Cartesian3.subtract(c,t,c),m.Cartesian3.cross(c,l,c),m.Cartesian3.normalize(c,c),d=i[3],C.defined(d)||(d=i[3]=new m.Cartesian4),d.x=c.x,d.y=c.y,d.z=c.z,d.w=-m.Cartesian3.dot(c,t),d=i[4],C.defined(d)||(d=i[4]=new m.Cartesian4),d.x=e.x,d.y=e.y,d.z=e.z,d.w=-m.Cartesian3.dot(e,h),m.Cartesian3.negate(e,c),d=i[5],C.defined(d)||(d=i[5]=new m.Cartesian4),d.x=c.x,d.y=c.y,d.z=c.z,d.w=-m.Cartesian3.dot(c,p),this._cullingVolume},n.prototype.getPixelDimensions=function(t,e,a,i,n){s(this);var r=1/this.near,e=2*i*a*(o=this.top*r)/e,o=this.right*r;return n.x=2*i*a*o/t,n.y=e,n},n.prototype.clone=function(t){return(t=!C.defined(t)?new n:t).right=this.right,t.left=this.left,t.top=this.top,t.bottom=this.bottom,t.near=this.near,t.far=this.far,t._left=void 0,t._right=void 0,t._top=void 0,t._bottom=void 0,t._near=void 0,t._far=void 0,t},n.prototype.equals=function(t){return C.defined(t)&&t instanceof n&&this.right===t.right&&this.left===t.left&&this.top===t.top&&this.bottom===t.bottom&&this.near===t.near&&this.far===t.far},n.prototype.equalsEpsilon=function(t,e,a){return t===this||C.defined(t)&&t instanceof n&&d.CesiumMath.equalsEpsilon(this.right,t.right,e,a)&&d.CesiumMath.equalsEpsilon(this.left,t.left,e,a)&&d.CesiumMath.equalsEpsilon(this.top,t.top,e,a)&&d.CesiumMath.equalsEpsilon(this.bottom,t.bottom,e,a)&&d.CesiumMath.equalsEpsilon(this.near,t.near,e,a)&&d.CesiumMath.equalsEpsilon(this.far,t.far,e,a)},z.packedLength=6,z.pack=function(t,e,a){return a=C.defaultValue(a,0),e[a++]=t.fov,e[a++]=t.aspectRatio,e[a++]=t.near,e[a++]=t.far,e[a++]=t.xOffset,e[a]=t.yOffset,e},z.unpack=function(t,e,a){return e=C.defaultValue(e,0),(a=!C.defined(a)?new z:a).fov=t[e++],a.aspectRatio=t[e++],a.near=t[e++],a.far=t[e++],a.xOffset=t[e++],a.yOffset=t[e],a},Object.defineProperties(z.prototype,{projectionMatrix:{get:function(){return R(this),this._offCenterFrustum.projectionMatrix}},infiniteProjectionMatrix:{get:function(){return R(this),this._offCenterFrustum.infiniteProjectionMatrix}},fovy:{get:function(){return R(this),this._fovy}},sseDenominator:{get:function(){return R(this),this._sseDenominator}}}),z.prototype.computeCullingVolume=function(t,e,a){return R(this),this._offCenterFrustum.computeCullingVolume(t,e,a)},z.prototype.getPixelDimensions=function(t,e,a,i,n){return R(this),this._offCenterFrustum.getPixelDimensions(t,e,a,i,n)},z.prototype.clone=function(t){return(t=!C.defined(t)?new z:t).aspectRatio=this.aspectRatio,t.fov=this.fov,t.near=this.near,t.far=this.far,t._aspectRatio=void 0,t._fov=void 0,t._near=void 0,t._far=void 0,this._offCenterFrustum.clone(t._offCenterFrustum),t},z.prototype.equals=function(t){return!!(C.defined(t)&&t instanceof z)&&(R(this),R(t),this.fov===t.fov&&this.aspectRatio===t.aspectRatio&&this._offCenterFrustum.equals(t._offCenterFrustum))},z.prototype.equalsEpsilon=function(t,e,a){return!!(C.defined(t)&&t instanceof z)&&(R(this),R(t),d.CesiumMath.equalsEpsilon(this.fov,t.fov,e,a)&&d.CesiumMath.equalsEpsilon(this.aspectRatio,t.aspectRatio,e,a)&&this._offCenterFrustum.equalsEpsilon(t._offCenterFrustum,e,a))},S.pack=function(t,e,a){a=C.defaultValue(a,0);var i=t._frustumType,n=t._frustum;return 0===(e[a++]=i)?(z.pack(n,e,a),a+=z.packedLength):(V.pack(n,e,a),a+=V.packedLength),m.Cartesian3.pack(t._origin,e,a),a+=m.Cartesian3.packedLength,c.Quaternion.pack(t._orientation,e,a),a+=c.Quaternion.packedLength,u.VertexFormat.pack(t._vertexFormat,e,a),e[a+=u.VertexFormat.packedLength]=t._drawNearPlane?1:0,e};const T=new z,k=new V,A=new c.Quaternion,D=new m.Cartesian3,I=new u.VertexFormat;function q(e,a,i,n,t,r,o,s){var f=e/3*2;for(let t=0;t<4;++t)C.defined(a)&&(a[e]=r.x,a[e+1]=r.y,a[e+2]=r.z),C.defined(i)&&(i[e]=o.x,i[e+1]=o.y,i[e+2]=o.z),C.defined(n)&&(n[e]=s.x,n[e+1]=s.y,n[e+2]=s.z),e+=3;t[f]=0,t[1+f]=0,t[2+f]=1,t[3+f]=0,t[4+f]=1,t[5+f]=1,t[6+f]=0,t[7+f]=1}S.unpack=function(t,e,a){e=C.defaultValue(e,0);var i=t[e++];let n;0===i?(n=z.unpack(t,e,T),e+=z.packedLength):(n=V.unpack(t,e,k),e+=V.packedLength);var r=m.Cartesian3.unpack(t,e,D);e+=m.Cartesian3.packedLength;var o=c.Quaternion.unpack(t,e,A);e+=c.Quaternion.packedLength;var s=u.VertexFormat.unpack(t,e,I),t=1===t[e+=u.VertexFormat.packedLength];if(!C.defined(a))return new S({frustum:n,origin:r,orientation:o,vertexFormat:s,_drawNearPlane:t});e=i===a._frustumType?a._frustum:void 0;return a._frustum=n.clone(e),a._frustumType=i,a._origin=m.Cartesian3.clone(r,a._origin),a._orientation=c.Quaternion.clone(o,a._orientation),a._vertexFormat=u.VertexFormat.clone(s,a._vertexFormat),a._drawNearPlane=t,a};const B=new m.Matrix3,L=new m.Matrix4,N=new m.Matrix4,G=new m.Cartesian3,j=new m.Cartesian3,U=new m.Cartesian3,Q=new m.Cartesian3,K=new m.Cartesian3,Y=new m.Cartesian3,J=new Array(3),W=new Array(4);W[0]=new m.Cartesian4(-1,-1,1,1),W[1]=new m.Cartesian4(1,-1,1,1),W[2]=new m.Cartesian4(1,1,1,1),W[3]=new m.Cartesian4(-1,1,1,1);const X=new Array(4);for(let t=0;t<4;++t)X[t]=new m.Cartesian4;S._computeNearFarPlanes=function(i,t,n,r,o,e,a,s){var t=m.Matrix3.fromQuaternion(t,B),e=C.defaultValue(e,G),a=C.defaultValue(a,j),f=C.defaultValue(s,U),e=m.Matrix3.getColumn(t,0,e),a=m.Matrix3.getColumn(t,1,a),f=m.Matrix3.getColumn(t,2,f);m.Cartesian3.normalize(e,e),m.Cartesian3.normalize(a,a),m.Cartesian3.normalize(f,f),m.Cartesian3.negate(e,e);e=m.Matrix4.computeView(i,f,a,e,L);let u,l;if(0===n){const i=r.projectionMatrix,h=m.Matrix4.multiply(i,e,N);l=m.Matrix4.inverse(h,N)}else u=m.Matrix4.inverseTransformation(e,N);C.defined(l)?(J[0]=r.near,J[1]=r.far):(J[0]=0,J[1]=r.near,J[2]=r.far);for(let a=0;a<2;++a)for(let e=0;e<4;++e){let t=m.Cartesian4.clone(W[e],X[e]);if(C.defined(l)){t=m.Matrix4.multiplyByVector(l,t,t);const n=1/t.w;m.Cartesian3.multiplyByScalar(t,n,t),m.Cartesian3.subtract(t,i,t),m.Cartesian3.normalize(t,t);const r=m.Cartesian3.dot(f,t);m.Cartesian3.multiplyByScalar(t,J[a]/r,t),m.Cartesian3.add(t,i,t)}else{C.defined(r._offCenterFrustum)&&(r=r._offCenterFrustum);const i=J[a],n=J[a+1];t.x=.5*(t.x*(r.right-r.left)+r.left+r.right),t.y=.5*(t.y*(r.top-r.bottom)+r.bottom+r.top),t.z=.5*(t.z*(i-n)-i-n),t.w=1,m.Matrix4.multiplyByVector(u,t,t)}o[12*a+3*e]=t.x,o[12*a+3*e+1]=t.y,o[12*a+3*e+2]=t.z}},S.createGeometry=function(t){const e=t._frustumType,a=t._frustum,i=t._origin,n=t._orientation,r=t._drawNearPlane,o=t._vertexFormat,s=r?6:5;let f=new Float64Array(72);S._computeNearFarPlanes(i,n,e,a,f);let u=24;f[u]=f[12],f[u+1]=f[13],f[u+2]=f[14],f[u+3]=f[0],f[u+4]=f[1],f[u+5]=f[2],f[u+6]=f[9],f[u+7]=f[10],f[u+8]=f[11],f[u+9]=f[21],f[u+10]=f[22],f[u+11]=f[23],u+=12,f[u]=f[15],f[u+1]=f[16],f[u+2]=f[17],f[u+3]=f[3],f[u+4]=f[4],f[u+5]=f[5],f[u+6]=f[0],f[u+7]=f[1],f[u+8]=f[2],f[u+9]=f[12],f[u+10]=f[13],f[u+11]=f[14],u+=12,f[u]=f[3],f[u+1]=f[4],f[u+2]=f[5],f[u+3]=f[15],f[u+4]=f[16],f[u+5]=f[17],f[u+6]=f[18],f[u+7]=f[19],f[u+8]=f[20],f[u+9]=f[6],f[u+10]=f[7],f[u+11]=f[8],u+=12,f[u]=f[6],f[u+1]=f[7],f[u+2]=f[8],f[u+3]=f[18],f[u+4]=f[19],f[u+5]=f[20],f[u+6]=f[21],f[u+7]=f[22],f[u+8]=f[23],f[u+9]=f[9],f[u+10]=f[10],f[u+11]=f[11],r||(f=f.subarray(12));const l=new y.GeometryAttributes({position:new _.GeometryAttribute({componentDatatype:d.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:f})});if(C.defined(o.normal)||C.defined(o.tangent)||C.defined(o.bitangent)||C.defined(o.st)){const t=C.defined(o.normal)?new Float32Array(12*s):void 0,c=C.defined(o.tangent)?new Float32Array(12*s):void 0,e=C.defined(o.bitangent)?new Float32Array(12*s):void 0,y=C.defined(o.st)?new Float32Array(8*s):void 0,a=G,i=j,n=U,f=m.Cartesian3.negate(a,Q),h=m.Cartesian3.negate(i,K),p=m.Cartesian3.negate(n,Y);u=0,r&&(q(u,t,c,e,y,p,a,i),u+=12),q(u,t,c,e,y,n,f,i),u+=12,q(u,t,c,e,y,f,p,i),u+=12,q(u,t,c,e,y,h,p,f),u+=12,q(u,t,c,e,y,a,n,i),u+=12,q(u,t,c,e,y,i,n,f),C.defined(t)&&(l.normal=new _.GeometryAttribute({componentDatatype:d.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:t})),C.defined(c)&&(l.tangent=new _.GeometryAttribute({componentDatatype:d.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:c})),C.defined(e)&&(l.bitangent=new _.GeometryAttribute({componentDatatype:d.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:e})),C.defined(y)&&(l.st=new _.GeometryAttribute({componentDatatype:d.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:y}))}const h=new Uint16Array(6*s);for(let t=0;t<s;++t){const c=6*t,m=4*t;h[c]=m,h[1+c]=1+m,h[2+c]=2+m,h[3+c]=m,h[4+c]=2+m,h[5+c]=3+m}return new _.Geometry({attributes:l,indices:h,primitiveType:_.PrimitiveType.TRIANGLES,boundingSphere:c.BoundingSphere.fromVertices(f)})},t.FrustumGeometry=S,t.OrthographicFrustum=V,t.PerspectiveFrustum=z});