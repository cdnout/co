define(["exports","./Matrix2-37e55508","./defaultValue-81eec7ed","./RuntimeError-8952249c","./Transforms-dca21951","./ComponentDatatype-a15c9a19"],function(t,G,w,n,a,y){"use strict";const M=Math.cos,m=Math.sin,X=Math.sqrt,e={computePosition:function(t,n,a,e,r,o,s){var i=n.radiiSquared,c=t.nwCorner,g=t.boundingRectangle;let u=c.latitude-t.granYCos*e+r*t.granXSin;var h=M(u),l=m(u),C=i.z*l;let S=c.longitude+e*t.granYSin+r*t.granXCos;n=h*M(S),c=h*m(S),h=i.x*n,i=i.y*c,l=X(h*n+i*c+C*l);if(o.x=h/l,o.y=i/l,o.z=C/l,a){const d=t.stNwCorner;w.defined(d)?(u=d.latitude-t.stGranYCos*e+r*t.stGranXSin,S=d.longitude+e*t.stGranYSin+r*t.stGranXCos,s.x=(S-t.stWest)*t.lonScalar,s.y=(u-t.stSouth)*t.latScalar):(s.x=(S-g.west)*t.lonScalar,s.y=(u-g.south)*t.latScalar)}}},C=new G.Matrix2;let S=new G.Cartesian3;const O=new G.Cartographic;let P=new G.Cartesian3;const W=new a.GeographicProjection;function _(t,n,a,e,r,o,s){var i=Math.cos(n),c=e*i,g=a*i,u=Math.sin(n),h=e*u,l=a*u;S=W.project(t,S),S=G.Cartesian3.subtract(S,P,S);i=G.Matrix2.fromRotation(n,C);S=G.Matrix2.multiplyByVector(i,S,S),S=G.Cartesian3.add(S,P,S),--o,--s;e=(t=W.unproject(S,t)).latitude,a=e+o*l,u=e-c*s,n=e-c*s+o*l,i=Math.max(e,a,u,n),e=Math.min(e,a,u,n),a=t.longitude,u=a+o*g,n=a+s*h,o=a+s*h+o*g;return{north:i,south:e,east:Math.max(a,u,n,o),west:Math.min(a,u,n,o),granYCos:c,granYSin:h,granXCos:g,granXSin:l,nwCorner:t}}e.computeOptions=function(t,n,a,e,r,o,s){let i,c=t.east,g=t.west,u=t.north,h=t.south,l=!1,C=!1;u===y.CesiumMath.PI_OVER_TWO&&(l=!0),h===-y.CesiumMath.PI_OVER_TWO&&(C=!0);var S=u-h;i=g>c?y.CesiumMath.TWO_PI-g+c:c-g;const d=Math.ceil(i/n)+1,w=Math.ceil(S/n)+1,M=i/(d-1),m=S/(w-1),X=G.Rectangle.northwest(t,o),Y=G.Rectangle.center(t,O);0===a&&0===e||(Y.longitude<X.longitude&&(Y.longitude+=y.CesiumMath.TWO_PI),P=W.project(Y,P));const p=m,f=M,x=G.Rectangle.clone(t,r),R={granYCos:p,granYSin:0,granXCos:f,granXSin:0,nwCorner:X,boundingRectangle:x,width:d,height:w,northCap:l,southCap:C};if(0!==a){const t=_(X,a,M,m,0,d,w);u=t.north,h=t.south,c=t.east,g=t.west,R.granYCos=t.granYCos,R.granYSin=t.granYSin,R.granXCos=t.granXCos,R.granXSin=t.granXSin,x.north=u,x.south=h,x.east=c,x.west=g}if(0!==e){a-=e;const t=G.Rectangle.northwest(x,s),n=_(t,a,M,m,0,d,w);R.stGranYCos=n.granYCos,R.stGranXCos=n.granXCos,R.stGranYSin=n.granYSin,R.stGranXSin=n.granXSin,R.stNwCorner=t,R.stWest=n.west,R.stSouth=n.south}return R},t.RectangleGeometryLibrary=e});