define(["exports","./arrayRemoveDuplicates-dc2f4046","./Matrix2-37e55508","./defaultValue-81eec7ed","./ComponentDatatype-a15c9a19","./PolylinePipeline-21ef0cd0"],function(e,m,P,f,A,p){"use strict";const t={};const C=new P.Cartographic,w=new P.Cartographic,u=new Array(2),d=new Array(2),y={positions:void 0,height:void 0,granularity:void 0,ellipsoid:void 0};t.computePositions=function(e,a,r,l,t,i){var s=function(n,o,a,r){var l,s,h=(o=m.arrayRemoveDuplicates(o,P.Cartesian3.equalsEpsilon)).length;if(!(h<2)){const g=f.defined(r),c=f.defined(a),p=new Array(h),u=new Array(h),d=new Array(h),e=o[0];p[0]=e;const y=n.cartesianToCartographic(e,C);c&&(y.height=a[0]),u[0]=y.height,d[0]=g?r[0]:0;let t=u[0]===d[0],i=1;for(let e=1;e<h;++e){const f=o[e],C=n.cartesianToCartographic(f,w);c&&(C.height=a[e]),t=t&&0===C.height,l=y,s=C,A.CesiumMath.equalsEpsilon(l.latitude,s.latitude,A.CesiumMath.EPSILON10)&&A.CesiumMath.equalsEpsilon(l.longitude,s.longitude,A.CesiumMath.EPSILON10)?y.height<C.height&&(u[i-1]=C.height):(p[i]=f,u[i]=C.height,d[i]=g?r[e]:0,t=t&&u[i]===d[i],P.Cartographic.clone(C,y),++i)}return t||i<2?void 0:(p.length=i,u.length=i,d.length=i,{positions:p,topHeights:u,bottomHeights:d})}}(e,a,r,l);if(f.defined(s)){a=s.positions,r=s.topHeights,l=s.bottomHeights;var h=a.length,s=h-2;let n,o;const g=A.CesiumMath.chordLength(t,e.maximumRadius),c=y;if(c.minDistance=g,c.ellipsoid=e,i){let e,t=0;for(e=0;e<h-1;e++)t+=p.PolylinePipeline.numberOfPoints(a[e],a[e+1],g)+1;n=new Float64Array(3*t),o=new Float64Array(3*t);const P=u,f=d;c.positions=P,c.height=f;let i=0;for(e=0;e<h-1;e++){P[0]=a[e],P[1]=a[e+1],f[0]=r[e],f[1]=r[e+1];const m=p.PolylinePipeline.generateArc(c);n.set(m,i),f[0]=l[e],f[1]=l[e+1],o.set(p.PolylinePipeline.generateArc(c),i),i+=m.length}}else c.positions=a,c.height=r,n=new Float64Array(p.PolylinePipeline.generateArc(c)),c.height=l,o=new Float64Array(p.PolylinePipeline.generateArc(c));return{bottomPositions:o,topPositions:n,numCorners:s}}},e.WallGeometryLibrary=t});