define(["./defaultValue-81eec7ed"],function(i){"use strict";return function(s){let a;return function(e){const r=e.data,t=[],n={id:r.id,result:void 0,error:void 0};return Promise.resolve(function(e,r,t){try{return e(r,t)}catch(e){return Promise.reject(e)}}(s,r.parameters,t)).then(function(e){n.result=e}).catch(function(e){e instanceof Error?n.error={name:e.name,message:e.message,stack:e.stack}:n.error=e}).finally(function(){i.defined(a)||(a=i.defaultValue(self.webkitPostMessage,self.postMessage)),r.canTransferArrayBuffer||(t.length=0);try{a(n,t)}catch(e){n.result=void 0,n.error=`postMessage failed with error: ${function(e){let r;var t=e.name,n=e.message;r=i.defined(t)&&i.defined(n)?`${t}: ${n}`:e.toString();e=e.stack;return i.defined(e)&&(r+=`\n${e}`),r}(e)}\n  with responseMessage: ${JSON.stringify(n)}`,a(n)}})}}});