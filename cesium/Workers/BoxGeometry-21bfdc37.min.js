define(["exports","./GeometryOffsetAttribute-8c5e10db","./Transforms-dca21951","./Matrix2-37e55508","./RuntimeError-8952249c","./ComponentDatatype-a15c9a19","./defaultValue-81eec7ed","./GeometryAttribute-cc3a5bc9","./GeometryAttributes-32b29525","./VertexFormat-a0b706b0"],function(t,u,s,y,e,c,p,x,f,o){"use strict";const l=new y.Cartesian3;function m(t){var e=(t=p.defaultValue(t,p.defaultValue.EMPTY_OBJECT)).minimum,n=t.maximum,a=p.defaultValue(t.vertexFormat,o.VertexFormat.DEFAULT);this._minimum=y.Cartesian3.clone(e),this._maximum=y.Cartesian3.clone(n),this._vertexFormat=a,this._offsetAttribute=t.offsetAttribute,this._workerName="createBoxGeometry"}m.fromDimensions=function(t){var e=(t=p.defaultValue(t,p.defaultValue.EMPTY_OBJECT)).dimensions,e=y.Cartesian3.multiplyByScalar(e,.5,new y.Cartesian3);return new m({minimum:y.Cartesian3.negate(e,new y.Cartesian3),maximum:e,vertexFormat:t.vertexFormat,offsetAttribute:t.offsetAttribute})},m.fromAxisAlignedBoundingBox=function(t){return new m({minimum:t.minimum,maximum:t.maximum})},m.packedLength=2*y.Cartesian3.packedLength+o.VertexFormat.packedLength+1,m.pack=function(t,e,n){return n=p.defaultValue(n,0),y.Cartesian3.pack(t._minimum,e,n),y.Cartesian3.pack(t._maximum,e,n+y.Cartesian3.packedLength),o.VertexFormat.pack(t._vertexFormat,e,n+2*y.Cartesian3.packedLength),e[n+2*y.Cartesian3.packedLength+o.VertexFormat.packedLength]=p.defaultValue(t._offsetAttribute,-1),e};const A=new y.Cartesian3,b=new y.Cartesian3,d=new o.VertexFormat,C={minimum:A,maximum:b,vertexFormat:d,offsetAttribute:void 0};let n;m.unpack=function(t,e,n){e=p.defaultValue(e,0);var a=y.Cartesian3.unpack(t,e,A),r=y.Cartesian3.unpack(t,e+y.Cartesian3.packedLength,b),i=o.VertexFormat.unpack(t,e+2*y.Cartesian3.packedLength,d),e=t[e+2*y.Cartesian3.packedLength+o.VertexFormat.packedLength];return p.defined(n)?(n._minimum=y.Cartesian3.clone(a,n._minimum),n._maximum=y.Cartesian3.clone(r,n._maximum),n._vertexFormat=o.VertexFormat.clone(i,n._vertexFormat),n._offsetAttribute=-1===e?void 0:e,n):(C.offsetAttribute=-1===e?void 0:e,new m(C))},m.createGeometry=function(n){const a=n._minimum,r=n._maximum,i=n._vertexFormat;if(!y.Cartesian3.equals(a,r)){const m=new f.GeometryAttributes;let t,e;if(i.position&&(i.st||i.normal||i.tangent||i.bitangent)){if(i.position&&(e=new Float64Array(72),e[0]=a.x,e[1]=a.y,e[2]=r.z,e[3]=r.x,e[4]=a.y,e[5]=r.z,e[6]=r.x,e[7]=r.y,e[8]=r.z,e[9]=a.x,e[10]=r.y,e[11]=r.z,e[12]=a.x,e[13]=a.y,e[14]=a.z,e[15]=r.x,e[16]=a.y,e[17]=a.z,e[18]=r.x,e[19]=r.y,e[20]=a.z,e[21]=a.x,e[22]=r.y,e[23]=a.z,e[24]=r.x,e[25]=a.y,e[26]=a.z,e[27]=r.x,e[28]=r.y,e[29]=a.z,e[30]=r.x,e[31]=r.y,e[32]=r.z,e[33]=r.x,e[34]=a.y,e[35]=r.z,e[36]=a.x,e[37]=a.y,e[38]=a.z,e[39]=a.x,e[40]=r.y,e[41]=a.z,e[42]=a.x,e[43]=r.y,e[44]=r.z,e[45]=a.x,e[46]=a.y,e[47]=r.z,e[48]=a.x,e[49]=r.y,e[50]=a.z,e[51]=r.x,e[52]=r.y,e[53]=a.z,e[54]=r.x,e[55]=r.y,e[56]=r.z,e[57]=a.x,e[58]=r.y,e[59]=r.z,e[60]=a.x,e[61]=a.y,e[62]=a.z,e[63]=r.x,e[64]=a.y,e[65]=a.z,e[66]=r.x,e[67]=a.y,e[68]=r.z,e[69]=a.x,e[70]=a.y,e[71]=r.z,m.position=new x.GeometryAttribute({componentDatatype:c.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:e})),i.normal){const n=new Float32Array(72);n[0]=0,n[1]=0,n[2]=1,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=1,n[9]=0,n[10]=0,n[11]=1,n[12]=0,n[13]=0,n[14]=-1,n[15]=0,n[16]=0,n[17]=-1,n[18]=0,n[19]=0,n[20]=-1,n[21]=0,n[22]=0,n[23]=-1,n[24]=1,n[25]=0,n[26]=0,n[27]=1,n[28]=0,n[29]=0,n[30]=1,n[31]=0,n[32]=0,n[33]=1,n[34]=0,n[35]=0,n[36]=-1,n[37]=0,n[38]=0,n[39]=-1,n[40]=0,n[41]=0,n[42]=-1,n[43]=0,n[44]=0,n[45]=-1,n[46]=0,n[47]=0,n[48]=0,n[49]=1,n[50]=0,n[51]=0,n[52]=1,n[53]=0,n[54]=0,n[55]=1,n[56]=0,n[57]=0,n[58]=1,n[59]=0,n[60]=0,n[61]=-1,n[62]=0,n[63]=0,n[64]=-1,n[65]=0,n[66]=0,n[67]=-1,n[68]=0,n[69]=0,n[70]=-1,n[71]=0,m.normal=new x.GeometryAttribute({componentDatatype:c.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:n})}if(i.st){const n=new Float32Array(48);n[0]=0,n[1]=0,n[2]=1,n[3]=0,n[4]=1,n[5]=1,n[6]=0,n[7]=1,n[8]=1,n[9]=0,n[10]=0,n[11]=0,n[12]=0,n[13]=1,n[14]=1,n[15]=1,n[16]=0,n[17]=0,n[18]=1,n[19]=0,n[20]=1,n[21]=1,n[22]=0,n[23]=1,n[24]=1,n[25]=0,n[26]=0,n[27]=0,n[28]=0,n[29]=1,n[30]=1,n[31]=1,n[32]=1,n[33]=0,n[34]=0,n[35]=0,n[36]=0,n[37]=1,n[38]=1,n[39]=1,n[40]=0,n[41]=0,n[42]=1,n[43]=0,n[44]=1,n[45]=1,n[46]=0,n[47]=1,m.st=new x.GeometryAttribute({componentDatatype:c.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:n})}if(i.tangent){const n=new Float32Array(72);n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n[6]=1,n[7]=0,n[8]=0,n[9]=1,n[10]=0,n[11]=0,n[12]=-1,n[13]=0,n[14]=0,n[15]=-1,n[16]=0,n[17]=0,n[18]=-1,n[19]=0,n[20]=0,n[21]=-1,n[22]=0,n[23]=0,n[24]=0,n[25]=1,n[26]=0,n[27]=0,n[28]=1,n[29]=0,n[30]=0,n[31]=1,n[32]=0,n[33]=0,n[34]=1,n[35]=0,n[36]=0,n[37]=-1,n[38]=0,n[39]=0,n[40]=-1,n[41]=0,n[42]=0,n[43]=-1,n[44]=0,n[45]=0,n[46]=-1,n[47]=0,n[48]=-1,n[49]=0,n[50]=0,n[51]=-1,n[52]=0,n[53]=0,n[54]=-1,n[55]=0,n[56]=0,n[57]=-1,n[58]=0,n[59]=0,n[60]=1,n[61]=0,n[62]=0,n[63]=1,n[64]=0,n[65]=0,n[66]=1,n[67]=0,n[68]=0,n[69]=1,n[70]=0,n[71]=0,m.tangent=new x.GeometryAttribute({componentDatatype:c.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:n})}if(i.bitangent){const n=new Float32Array(72);n[0]=0,n[1]=1,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=0,n[7]=1,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=1,n[14]=0,n[15]=0,n[16]=1,n[17]=0,n[18]=0,n[19]=1,n[20]=0,n[21]=0,n[22]=1,n[23]=0,n[24]=0,n[25]=0,n[26]=1,n[27]=0,n[28]=0,n[29]=1,n[30]=0,n[31]=0,n[32]=1,n[33]=0,n[34]=0,n[35]=1,n[36]=0,n[37]=0,n[38]=1,n[39]=0,n[40]=0,n[41]=1,n[42]=0,n[43]=0,n[44]=1,n[45]=0,n[46]=0,n[47]=1,n[48]=0,n[49]=0,n[50]=1,n[51]=0,n[52]=0,n[53]=1,n[54]=0,n[55]=0,n[56]=1,n[57]=0,n[58]=0,n[59]=1,n[60]=0,n[61]=0,n[62]=1,n[63]=0,n[64]=0,n[65]=1,n[66]=0,n[67]=0,n[68]=1,n[69]=0,n[70]=0,n[71]=1,m.bitangent=new x.GeometryAttribute({componentDatatype:c.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:n})}t=new Uint16Array(36),t[0]=0,t[1]=1,t[2]=2,t[3]=0,t[4]=2,t[5]=3,t[6]=6,t[7]=5,t[8]=4,t[9]=7,t[10]=6,t[11]=4,t[12]=8,t[13]=9,t[14]=10,t[15]=8,t[16]=10,t[17]=11,t[18]=14,t[19]=13,t[20]=12,t[21]=15,t[22]=14,t[23]=12,t[24]=18,t[25]=17,t[26]=16,t[27]=19,t[28]=18,t[29]=16,t[30]=20,t[31]=21,t[32]=22,t[33]=20,t[34]=22,t[35]=23}else e=new Float64Array(24),e[0]=a.x,e[1]=a.y,e[2]=a.z,e[3]=r.x,e[4]=a.y,e[5]=a.z,e[6]=r.x,e[7]=r.y,e[8]=a.z,e[9]=a.x,e[10]=r.y,e[11]=a.z,e[12]=a.x,e[13]=a.y,e[14]=r.z,e[15]=r.x,e[16]=a.y,e[17]=r.z,e[18]=r.x,e[19]=r.y,e[20]=r.z,e[21]=a.x,e[22]=r.y,e[23]=r.z,m.position=new x.GeometryAttribute({componentDatatype:c.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:e}),t=new Uint16Array(36),t[0]=4,t[1]=5,t[2]=6,t[3]=4,t[4]=6,t[5]=7,t[6]=1,t[7]=0,t[8]=3,t[9]=1,t[10]=3,t[11]=2,t[12]=1,t[13]=6,t[14]=5,t[15]=1,t[16]=2,t[17]=6,t[18]=2,t[19]=3,t[20]=7,t[21]=2,t[22]=7,t[23]=6,t[24]=3,t[25]=0,t[26]=4,t[27]=3,t[28]=4,t[29]=7,t[30]=0,t[31]=1,t[32]=5,t[33]=0,t[34]=5,t[35]=4;var o=y.Cartesian3.subtract(r,a,l),o=.5*y.Cartesian3.magnitude(o);if(p.defined(n._offsetAttribute)){const s=e.length,y=new Uint8Array(s/3),a=n._offsetAttribute===u.GeometryOffsetAttribute.NONE?0:1;u.arrayFill(y,a),m.applyOffset=new x.GeometryAttribute({componentDatatype:c.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:y})}return new x.Geometry({attributes:m,indices:t,primitiveType:x.PrimitiveType.TRIANGLES,boundingSphere:new s.BoundingSphere(y.Cartesian3.ZERO,o),offsetAttribute:n._offsetAttribute})}},m.getUnitBox=function(){return p.defined(n)||(n=m.createGeometry(m.fromDimensions({dimensions:new y.Cartesian3(1,1,1),vertexFormat:o.VertexFormat.POSITION_ONLY}))),n},t.BoxGeometry=m});