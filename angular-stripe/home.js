!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.angularStripe=n()}}(function(){var n;return function n(t,r,e){function o(u,a){if(!r[u]){if(!t[u]){var f="function"==typeof require&&require;if(!a&&f)return f(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var s=r[u]={exports:{}};t[u][0].call(s.exports,function(n){var r=t[u][1][n];return o(r?r:n)},s,s.exports,n,t,r,e)}return r[u].exports}for(var i="function"==typeof require&&require,u=0;u<e.length;u++)o(e[u]);return o}({1:[function(n,t,r){(function(n){"use strict";function r(n){return function(t){if("function"!=typeof n)throw new Error(t||"$q is not a function")}}var e="undefined"!=typeof window?window.angular:"undefined"!=typeof n?n.angular:null;t.exports=e.module("assert-q-constructor",[]).factory("assertQConstructor",r).name,r.$inject=["$q"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(n,t,r){(function(r){"use strict";var e=n("./promisify");t.exports=("undefined"!=typeof window?window.angular:"undefined"!=typeof r?r.angular:null).module("promisify",[]).service("promisify",e).name}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./promisify":3}],3:[function(n,t,r){(function(r){"use strict";function e(n,t){function r(r,e){function i(){var i=arguments;return n(function(n,u){var f=t.$apply.bind(t);try{r.apply(e,a(i).concat(o(f,n,u)))}catch(n){setTimeout(function(){f(function(){u(n)})})}})}return e=e||{},"string"==typeof r&&(r=e[r]),u(r),i.__isPromisifed__=!0,i}function e(n){return i.forEach(n,function(t,e){e+="Async",t&&"function"==typeof t&&!t.__isPromisifed__&&(n[e]=r(t,n))})}return i.extend(r,{promisifyAll:e})}function o(n,t,r){return function(e,o){var i=arguments;n(function(){return e?r(e):i.length<=2?t(o):void t(a(i,1))})}}var i="undefined"!=typeof window?window.angular:"undefined"!=typeof r?r.angular:null,u=n("assert-function"),a=n("to-array");t.exports=e,e.$inject=["$q","$rootScope"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"assert-function":10,"to-array":31}],4:[function(n,t,r){var e=n("is-number"),o=n("array-slice");t.exports=function(n,t){if(!Array.isArray(n))throw new Error("array-last expects an array as the first argument.");if(0===n.length)return null;var r=o(n,n.length-(e(t)?+t:1));return 1===+t||null==t?r[0]:r}},{"array-slice":6,"is-number":5}],5:[function(n,t,r){"use strict";t.exports=function(n){return!!+n||0===n||"0"===n}},{}],6:[function(n,t,r){"use strict";function e(n,t,r){var e=n.length>>>0;return t=null==t?r||0:t<0?Math.max(e+t,0):Math.min(t,e)}t.exports=function(n,t,r){var o=n.length>>>0,i=[];for(t=e(n,t),r=e(n,r,o);t<r;)i.push(n[t++]);return i}},{}],7:[function(n,t,r){"use strict";function e(){if(f.length)throw f.shift()}function o(n){var t;t=a.length?a.pop():new i,t.task=n,u(t)}function i(){this.task=null}var u=n("./raw"),a=[],f=[],c=u.makeRequestCallFromTimer(e);t.exports=o,i.prototype.call=function(){try{this.task.call()}catch(n){o.onerror?o.onerror(n):(f.push(n),c())}finally{this.task=null,a[a.length]=this}}},{"./raw":8}],8:[function(n,t,r){(function(n){"use strict";function r(n){a.length||(u(),f=!0),a[a.length]=n}function e(){for(;c<a.length;){var n=c;if(c+=1,a[n].call(),c>s){for(var t=0,r=a.length-c;t<r;t++)a[t]=a[t+c];a.length-=c,c=0}}a.length=0,c=0,f=!1}function o(n){var t=1,r=new l(n),e=document.createTextNode("");return r.observe(e,{characterData:!0}),function(){t=-t,e.data=t}}function i(n){return function(){function t(){clearTimeout(r),clearInterval(e),n()}var r=setTimeout(t,0),e=setInterval(t,50)}}t.exports=r;var u,a=[],f=!1,c=0,s=1024,l=n.MutationObserver||n.WebKitMutationObserver;u="function"==typeof l?o(e):i(e),r.requestFlush=u,r.makeRequestCallFromTimer=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(n,t,r){"use strict";var e=n("assert-ok"),o=n("simple-format"),i=n("print-value");t.exports=function(n,t){e(n===t,o("expected `%s` to equal `%s`",i(n),i(t)))}},{"assert-ok":11,"print-value":27,"simple-format":29}],10:[function(n,t,r){"use strict";t.exports=function(n){if("function"!=typeof n)throw new TypeError("Expected function, got: "+n)}},{}],11:[function(n,t,r){"use strict";t.exports=function(n,t){if(!n)throw new Error(t||"Expected true, got "+n)}},{}],12:[function(n,t,r){"use strict";function e(n){return n=Array.isArray(n)?n:o(arguments),function(){var t=arguments;return n.map(function(n){return n.apply(null,t)})}}var o=n("to-array");t.exports=e},{"to-array":31}],13:[function(n,t,r){!function(n){"use strict";var r="cuid",e=0,o=4,i=36,u=Math.pow(i,o),a=function(n,t){var r="000000000"+n;return r.substr(r.length-t)},f=function(){return a((Math.random()*u<<0).toString(i),o)},c=function(){return e=e<u?e:0,e++,e-1},s=function(){var n,t="c",r=(new Date).getTime().toString(i),e=s.fingerprint(),u=f()+f();return n=a(c().toString(i),o),t+r+n+e+u};s.slug=function(){var n,t=(new Date).getTime().toString(36),r=s.fingerprint().slice(0,1)+s.fingerprint().slice(-1),e=f().slice(-2);return n=c().toString(36).slice(-4),t.slice(-2)+n+r+e},s.globalCount=function(){var n=function(){var n,t=0;for(n in window)t++;return t}();return s.globalCount=function(){return n},n},s.fingerprint=function(){return a((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+s.globalCount().toString(36),4)},n.register?n.register(r,s):"undefined"!=typeof t?t.exports=s:n[r]=s}(this.applitude||this)},{}],14:[function(n,t,r){function e(n){var t=!0;return i(function(){t=!1}),function(){var r=arguments,e=this;t?i(function(){n.apply(e,r)}):n.apply(e,r)}}var o=n("wrappy");t.exports=o(e);var i=n("asap")},{asap:7,wrappy:32}],15:[function(n,t,r){"use strict";function e(n){for(var t=n.split("."),r=[],e=0;e<t.length;e++){for(var o=t[e];"\\"===o[o.length-1]&&void 0!==t[e+1];)o=o.slice(0,-1)+".",o+=t[++e];r.push(o)}return r}var o=n("is-obj");t.exports.get=function(n,t){if(!o(n)||"string"!=typeof t)return n;for(var r=e(t),i=0;i<r.length;i++){var u=Object.getOwnPropertyDescriptor(n,r[i])||Object.getOwnPropertyDescriptor(Object.prototype,r[i]);if(u&&!u.enumerable)return;if(n=n[r[i]],void 0===n||null===n){if(i!==r.length-1)return;break}}return n},t.exports.set=function(n,t,r){if(o(n)&&"string"==typeof t)for(var i=e(t),u=0;u<i.length;u++){var a=i[u];o(n[a])||(n[a]={}),u===i.length-1&&(n[a]=r),n=n[a]}},t.exports.delete=function(n,t){if(o(n)&&"string"==typeof t)for(var r=e(t),i=0;i<r.length;i++){var u=r[i];if(i===r.length-1)return void delete n[u];n=n[u]}},t.exports.has=function(n,t){if(!o(n)||"string"!=typeof t)return!1;for(var r=e(t),i=0;i<r.length;i++)if(n=n[r[i]],void 0===n)return!1;return!0}},{"is-obj":18}],16:[function(n,t,r){"use strict";function e(){function n(){for(var n=arguments,r=0,e=t.length;r<e;r++){var o=t[r];o.apply(null,n)}}var t=[];return n.add=function(n){return o(n),t.push(n),function(){for(var r=0,e=t.length;r<e;r++)if(t[r]===n)return void t.splice(r,1)}},n}var o=n("assert-function");t.exports=e},{"assert-function":10}],17:[function(n,t,r){(function(n){var r;r="undefined"!=typeof window?window:"undefined"!=typeof n?n:"undefined"!=typeof self?self:{},t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(n,t,r){"use strict";t.exports=function(n){var t=typeof n;return null!==n&&("object"===t||"function"===t)}},{}],19:[function(n,t,r){t.exports=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)}},{}],20:[function(n,t,r){"use strict";var e=n("isarray");t.exports=function(n){return null!=n&&"object"==typeof n&&!e(n)}},{isarray:19}],21:[function(n,t,r){function e(n,t,r,e){return JSON.stringify(n,o(t,e),r)}function o(n,t){var r=[],e=[];return null==t&&(t=function(n,t){return r[0]===t?"[Circular ~]":"[Circular ~."+e.slice(0,r.indexOf(t)).join(".")+"]"}),function(o,i){if(r.length>0){var u=r.indexOf(this);~u?r.splice(u+1):r.push(this),~u?e.splice(u,1/0,o):e.push(o),~r.indexOf(i)&&(i=t.call(this,o,i))}else r.push(i);return null==n?i:n.call(this,o,i)}}r=t.exports=e,r.getSerialize=o},{}],22:[function(n,t,r){"use strict";function e(n,t){function r(n){return function(){var t=arguments;e(function(r,e){if(!r)return u.get(e,n).apply(null,t);var o=f(a(t));return"function"==typeof o?o(r):void 0})}}function e(n){return n=c(n),l||p?n(p,l):void d.push(n)}o(Array.isArray(n),"methods are required"),i(typeof t,"function","load fn is required");var l=null,p=null,d=[];return t(function(n,t){p=n,l=t,s(d)(n,t),d=null}),n.reduce(function(n,t){return u.set(n,t,r(t)),n},{})}var o=n("assert-ok"),i=n("assert-equal"),u=n("dot-prop"),a=n("to-array"),f=n("array-last"),c=n("dezalgo"),s=n("call-all-fns");t.exports=e},{"array-last":4,"assert-equal":9,"assert-ok":11,"call-all-fns":12,dezalgo:14,"dot-prop":23,"to-array":31}],23:[function(n,t,r){"use strict";function e(n){for(var t=n.split("."),r=[],e=0;e<t.length;e++){for(var o=t[e];"\\"===o[o.length-1];)o=o.slice(0,-1)+".",o+=t[++e];r.push(o)}return r}var o=n("is-obj");t.exports.get=function(n,t){if(!o(n)||"string"!=typeof t)return n;for(var r=e(t),i=0;i<r.length&&(n=n[r[i]],void 0!==n);i++);return n},t.exports.set=function(n,t,r){if(o(n)&&"string"==typeof t)for(var i=e(t),u=0;u<i.length;u++){var a=i[u];o(n[a])||(n[a]={}),u===i.length-1&&(n[a]=r),n=n[a]}},t.exports.delete=function(n,t){if(o(n)&&"string"==typeof t)for(var r=e(t),i=0;i<r.length;i++){var u=r[i];if(i===r.length-1)return void delete n[u];n=n[u]}},t.exports.has=function(n,t){if(!o(n)||"string"!=typeof t)return!1;for(var r=e(t),i=0;i<r.length;i++)if(n=n[r[i]],void 0===n)return!1;return!0}},{"is-obj":18}],24:[function(n,t,r){"use strict";function e(n,t){if(s(n,"options required"),s(n.url,"url required"),s(n.global,"global required"),s(t,"callback required"),n=c(n),t=l(t),i(n))return t(null,i(n));if(t=o(n,t)){if(n.jsonp){var r=u(n,t);n.url=d(n.url,{callback:r})}a(n.url,n,function(r){if(r)return t(r);if(!n.jsonp){var e=i(n);if(!e)return t(new Error("expected: `window."+n.global+"`, actual: `"+e+"`"));t(null,e)}})}}function o(n,t){function r(){return v[n.global]}function e(t){v[n.global]=t}return r()?void r().add(t):(e(p()),r().add(t),function(n,t){r()(n,t),e(p())})}function i(n){return f[n.global]}function u(n,t){var r=y();return f[r]=function(){t(null,i(n)),delete f[r]},r}var a=n("load-script"),f=n("global/window"),c=n("xtend"),s=n("assert-ok"),l=n("dezalgo"),p=n("ear"),d=n("query-extend"),y=n("cuid");t.exports=e;var v={}},{"assert-ok":11,cuid:13,dezalgo:14,ear:16,"global/window":17,"load-script":25,"query-extend":28,xtend:33}],25:[function(n,t,r){function e(n,t){for(var r in t)n.setAttribute(r,t[r])}function o(n,t){n.onload=function(){this.onerror=this.onload=null,t(null,n)},n.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),n)}}function i(n,t){n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,n))}}t.exports=function(n,t,r){var u=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof t&&(r=t,t={}),t=t||{},r=r||function(){},a.type=t.type||"text/javascript",a.charset=t.charset||"utf8",a.async=!("async"in t)||!!t.async,a.src=n,t.attrs&&e(a,t.attrs),t.text&&(a.text=""+t.text);var f="onload"in a?o:i;f(a,r),a.onload||o(a,r),u.appendChild(a)}},{}],26:[function(n,t,r){"use strict";t.exports=function(n){var t=1,r="",e=n.split("%"),o=e.length;o>0&&(r+=e[0]);for(var i=1;i<o;i++){if("s"===e[i][0]||"d"===e[i][0]){var u=arguments[t++];r+="d"===e[i][0]?Math.floor(u):u}else e[i][0]?r+="%"+e[i][0]:(i++,r+="%"+e[i][0]);r+=e[i].substring(1)}return r}},{}],27:[function(n,t,r){"use strict";function e(n){return i(n)||Array.isArray(n)}function o(n){return u(n,null,"")}var i=n("isobject"),u=n("json-stringify-safe");t.exports=function(n){var t=e(n)?o:String;return t(n)}},{isobject:20,"json-stringify-safe":21}],28:[function(t,r,e){!function(t){var e=function(n){var t={};return n?(s(n.split("&"),function(n){var r=n.split("="),e=i(r[0]),o=decodeURIComponent(e.val),u=r[1]&&decodeURIComponent(r[1]);"array"===e.type?(t[o]||(t[o]=[]),t[o].push(u)):"string"===e.type&&(t[o]=u)}),t):t},o=function(n){var t,r=[];for(var e in n)n.hasOwnProperty(e)&&("undefined"!=typeof n[e]?(t=encodeURIComponent(e),u(n[e])?s(n[e],function(n){r.push(t+"[]="+encodeURIComponent(n))}):r.push(t+"="+encodeURIComponent(n[e]))):r.push(encodeURIComponent(e)));return r.length?"?"+r.join("&"):""},i=function(n){var t=n.indexOf("[");return t===-1?{type:"string",val:n}:{type:"array",val:n.substr(0,t)}},u=function(n){return"[object Array]"===Object.prototype.toString.call(n)},a=function(n){var t=n.lastIndexOf("?"),r=t!==-1,e=void 0;return r&&t>0?e=n.substring(0,t):!r&&n&&n.length>0&&(e=n),{base:e,query:r?n.substring(t+1):void 0}},f=function(){for(var n={},t=0;t<arguments.length;t++){var r=arguments[t];for(var e in r)r.hasOwnProperty(e)&&(n[e]=r[e])}return n},c=function(){var n=Array.prototype.slice.call(arguments,0),t=n[n.length-1]===!0,r="";if(!n.length)return r;t&&n.pop();var i=l(n,function(n){if("string"==typeof n){var t=a(n);return t.base&&(r=t.base),e(t.query)}return n});return t?f.apply({},i):r+o(f.apply({},i))},s=function(n,t){for(var r=0,e=n.length;r<e;r++)t(n[r],r)},l=function(n,t){for(var r=[],e=0,o=n.length;e<o;e++)r.push(t(n[e],e));return r};"undefined"!=typeof r&&r.exports?r.exports=c:"function"==typeof n&&n.amd?n(function(){return c}):t.queryExtend=c}(this)},{}],29:[function(n,t,r){"use strict";var e=n("pff"),o=n("to-array"),i=/%[sdj]/;t.exports=function(n){return i.test(n)?e.apply(null,arguments):o(arguments).join(" ")}},{pff:26,"to-array":31}],30:[function(n,t,r){"use strict";function e(n){if("function"!=typeof n)throw new Error("Stripe.js must be provided");var t={};return a.async.forEach(function(r){var e=r.split("."),i=e[0],a=e[1];u.set(t,r,o(a,n[i]))}),a.sync.forEach(function(r){u.set(t,r,u.get(n,r))}),t}function o(n,t){return function(){var r=Array.prototype.slice.call(arguments),e=r.pop();t[n].apply(t,r.concat(function(n,t){return t.error?e(i(new Error,t.error,{status:n})):void e(null,t)}))}}var i=n("xtend/mutable"),u=n("dot-prop"),a=e.methods={async:["card.createToken","bankAccount.createToken","piiData.createToken","bitcoinReceiver.createReceiver","bitcoinReceiver.pollReceiver","bitcoinReceiver.getReceiver"],sync:["setPublishableKey","card.validateCardNumber","card.validateExpiry","card.validateCVC","card.cardType","bankAccount.validateRoutingNumber","bankAccount.validateAccountNumber","bitcoinReceiver.cancelReceiverPoll"]};t.exports=e},{"dot-prop":15,"xtend/mutable":34}],31:[function(n,t,r){function e(n,t){var r=[];t=t||0;for(var e=t||0;e<n.length;e++)r[e-t]=n[e];return r}t.exports=e},{}],32:[function(n,t,r){function e(n,t){function r(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];var e=n.apply(this,t),o=t[t.length-1];return"function"==typeof e&&e!==o&&Object.keys(o).forEach(function(n){e[n]=o[n]}),e}if(n&&t)return e(n)(t);if("function"!=typeof n)throw new TypeError("need wrapper function");return Object.keys(n).forEach(function(t){r[t]=n[t]}),r}t.exports=e},{}],33:[function(n,t,r){function e(){for(var n={},t=0;t<arguments.length;t++){var r=arguments[t];for(var e in r)o.call(r,e)&&(n[e]=r[e])}return n}t.exports=e;var o=Object.prototype.hasOwnProperty},{}],34:[function(n,t,r){function e(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)o.call(r,e)&&(n[e]=r[e])}return n}t.exports=e;var o=Object.prototype.hasOwnProperty},{}],35:[function(n,t,r){"use strict";function e(n,t){function r(t){function r(n,r){if(n)return t(n);var e=f(r);e.setPublishableKey=o(e.setPublishableKey,e),t(null,e)}a({url:n,global:"Stripe"},r)}var e=f.methods.async.concat(f.methods.sync),c=i(e,r);return e.reduce(function(n,r){var e=u.get(c,r);return u.set(n,r,t(e)),n},{})}function o(n,t){return function(){var r=Array.prototype.pop.call(arguments);n.apply(t,arguments),r()}}var i=n("lazy-async"),u=n("dot-prop"),a=n("load-script-global"),f=n("stripe-errback");t.exports=e},{"dot-prop":15,"lazy-async":22,"load-script-global":24,"stripe-errback":30}],36:[function(n,t,r){"use strict";function e(){function n(n,e){return r?r:(r=o(this.url,n),r.setPublishableKey(t),r)}var t=null,r=null;this.url="https://js.stripe.com/v2/",this.setPublishableKey=function(n){t=n},this.$get=n,this.$get.$inject=["promisify","$exceptionHandler"]}var o=n("./lazy");t.exports=e},{"./lazy":35}],37:[function(n,t,r){(function(r){"use strict";function e(n){n("angular-stripe: For Angular <= 1.2 support, first load https://github.com/bendrucker/angular-q-constructor")}var o="undefined"!=typeof window?window.angular:"undefined"!=typeof r?r.angular:null,i=n("./provider");t.exports=o.module("angular-stripe",[n("angular-q-promisify"),n("angular-assert-q-constructor")]).provider("stripe",i).run(e).name,e.$inject=["assertQConstructor"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./provider":36,"angular-assert-q-constructor":1,"angular-q-promisify":2}]},{},[37])(37)});
//# sourceMappingURL=angular-stripe.min.js.map