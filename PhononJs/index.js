"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(function(){var e={function:!0,object:!0},j=e["undefined"==typeof window?"undefined":_typeof(window)]&&window||this,n=e["undefined"==typeof exports?"undefined":_typeof(exports)]&&exports,t=e["undefined"==typeof module?"undefined":_typeof(module)]&&module&&!module.nodeType&&module,o=n&&t&&"object"==("undefined"==typeof global?"undefined":_typeof(global))&&global;!o||o.global!==o&&o.window!==o&&o.self!==o||(j=o);var i=Math.pow(2,53)-1,D=/\bOpera/,a=Object.prototype,r=a.hasOwnProperty,B=a.toString;function l(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function N(e){return e=H(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:l(e)}function _(e,t){for(var n in e)r.call(e,n)&&t(e[n],n,e)}function I(e){return null==e?l(e):B.call(e).slice(8,-1)}function W(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function F(n,o){var a=null;return function(e,t){var n=-1,o=e?e.length:0;if("number"==typeof o&&-1<o&&o<=i)for(;++n<o;)t(e[n],n,e);else _(e,t)}(n,function(e,t){a=o(a,e,t,n)}),a}function H(e){return String(e).replace(/^ +| +$/g,"")}var c=function e(o){var t=j,n=o&&"object"==_typeof(o)&&"String"!=I(o);n&&(t=o,o=null);var a=t.navigator||{},i=a.userAgent||"";o=o||i;var r,l,c=n?!!a.likeChrome:/\bChrome\b/.test(o)&&!/internal|\n/i.test(B.toString()),s="Object",u=n?s:"ScriptBridgingProxyObject",f=n?s:"Environment",d=n&&t.java?"JavaPackage":I(t.java),p=n?s:"RuntimeObject",h=/\bJava/.test(d)&&t.java,b=h&&I(t.environment)==f,m=h?"a":"α",g=h?"b":"β",v=t.document||{},y=t.operamini||t.opera,x=D.test(x=n&&y?y["[[Class]]"]:I(y))?x:y=null,S=o,w=[],E=null,M=o==i,C=M&&y&&"function"==typeof y.version&&y.version(),T=F([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(e,t){return e||RegExp("\\b"+(t.pattern||W(t))+"\\b","i").exec(o)&&(t.label||t)}),k=F(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],function(e,t){return e||RegExp("\\b"+(t.pattern||W(t))+"\\b","i").exec(o)&&(t.label||t)}),P=R([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),O=F({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}},function(e,t,n){return e||(t[P]||t[/^[a-z]+(?: +[a-z]+\b)*/i.exec(P)]||RegExp("\\b"+W(n)+"(?:\\b|\\w*\\d)","i").exec(o))&&n}),L=F(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],function(e,t){var n=t.pattern||W(t);return!e&&(e=RegExp("\\b"+n+"(?:/[\\d.]+|[ \\w.]*)","i").exec(o))&&(e=function(e,t,n){var o={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(o=o[/[\d.]+$/.exec(e)])&&(e="Windows "+o),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=N(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,n,t.label||t)),e});function R(e){return F(e,function(e,t){var n=t.pattern||W(t);return!e&&(e=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(o)||RegExp("\\b"+n+" *\\w+-[\\w]*","i").exec(o)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(o))&&((e=String(t.label&&!RegExp(n,"i").test(t.label)?t.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),t=t.label||t,e=N(e[0].replace(RegExp(n,"i"),t).replace(RegExp("; *(?:"+t+"[_-])?","i")," ").replace(RegExp("("+t+")[-_.]?(\\w)","i"),"$1 $2"))),e})}if(T=T&&[T],O&&!P&&(P=R([O])),(r=/\bGoogle TV\b/.exec(P))&&(P=r[0]),/\bSimulator\b/i.test(o)&&(P=(P?P+" ":"")+"Simulator"),"Opera Mini"==k&&/\bOPiOS\b/.test(o)&&w.push("running in Turbo/Uncompressed mode"),"IE"==k&&/\blike iPhone OS\b/.test(o)?(O=(r=e(o.replace(/like iPhone OS/,""))).manufacturer,P=r.product):/^iP/.test(P)?(k=k||"Safari",L="iOS"+((r=/ OS ([\d_]+)/i.exec(o))?" "+r[1].replace(/_/g,"."):"")):"Konqueror"!=k||/buntu/i.test(L)?O&&"Google"!=O&&(/Chrome/.test(k)&&!/\bMobile Safari\b/i.test(o)||/\bVita\b/.test(P))||/\bAndroid\b/.test(L)&&/^Chrome/.test(k)&&/\bVersion\//i.test(o)?(k="Android Browser",L=/\bAndroid\b/.test(L)?L:"Android"):"Silk"==k?(/\bMobi/i.test(o)||(L="Android",w.unshift("desktop mode")),/Accelerated *= *true/i.test(o)&&w.unshift("accelerated")):"PaleMoon"==k&&(r=/\bFirefox\/([\d.]+)\b/.exec(o))?w.push("identifying as Firefox "+r[1]):"Firefox"==k&&(r=/\b(Mobile|Tablet|TV)\b/i.exec(o))?(L=L||"Firefox OS",P=P||r[1]):!k||(r=!/\bMinefield\b/i.test(o)&&/\b(?:Firefox|Safari)\b/.exec(k))?(k&&!P&&/[\/,]|^[^(]+?\)/.test(o.slice(o.indexOf(r+"/")+8))&&(k=null),(r=P||O||L)&&(P||O||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(L))&&(k=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(L)?L:r)+" Browser")):"Electron"==k&&(r=(/\bChrome\/([\d.]+)\b/.exec(o)||0)[1])&&w.push("Chromium "+r):L="Kubuntu",C=C||F(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",W(k),"(?:Firefox|Minefield|NetFront)"],function(e,t){return e||(RegExp(t+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(o)||0)[1]||null}),(r=("iCab"==T&&3<parseFloat(C)?"WebKit":/\bOpera\b/.test(k)&&(/\bOPR\b/.test(o)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(o)&&!/^(?:Trident|EdgeHTML)$/.test(T)&&"WebKit"||!T&&/\bMSIE\b/i.test(o)&&("Mac OS"==L?"Tasman":"Trident")||"WebKit"==T&&/\bPlayStation\b(?! Vita\b)/i.test(k)&&"NetFront")&&(T=[r]),"IE"==k&&(r=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(o)||0)[1])?(k+=" Mobile",L="Windows Phone "+(/\+$/.test(r)?r:r+".x"),w.unshift("desktop mode")):/\bWPDesktop\b/i.test(o)?(k="IE Mobile",L="Windows Phone 8.x",w.unshift("desktop mode"),C=C||(/\brv:([\d.]+)/.exec(o)||0)[1]):"IE"!=k&&"Trident"==T&&(r=/\brv:([\d.]+)/.exec(o))&&(k&&w.push("identifying as "+k+(C?" "+C:"")),k="IE",C=r[1]),M){if(function(e,t){var n=null!=e?_typeof(e[t]):"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}(t,"global"))if(h&&(S=(r=h.lang.System).getProperty("os.arch"),L=L||r.getProperty("os.name")+" "+r.getProperty("os.version")),b){try{C=t.require("ringo/engine").version.join("."),k="RingoJS"}catch(e){(r=t.system)&&r.global.system==t.system&&(k="Narwhal",L=L||r[0].os||null)}k=k||"Rhino"}else"object"==_typeof(t.process)&&!t.process.browser&&(r=t.process)&&("object"==_typeof(r.versions)&&("string"==typeof r.versions.electron?(w.push("Node "+r.versions.node),k="Electron",C=r.versions.electron):"string"==typeof r.versions.nw&&(w.push("Chromium "+C,"Node "+r.versions.node),k="NW.js",C=r.versions.nw)),k||(k="Node.js",S=r.arch,L=r.platform,C=(C=/[\d.]+/.exec(r.version))?C[0]:null));else I(r=t.runtime)==u?(k="Adobe AIR",L=r.flash.system.Capabilities.os):I(r=t.phantom)==p?(k="PhantomJS",C=(r=r.version||null)&&r.major+"."+r.minor+"."+r.patch):"number"==typeof v.documentMode&&(r=/\bTrident\/(\d+)/i.exec(o))?(C=[C,v.documentMode],(r=+r[1]+4)!=C[1]&&(w.push("IE "+C[1]+" mode"),T&&(T[1]=""),C[1]=r),C="IE"==k?String(C[1].toFixed(1)):C[0]):"number"==typeof v.documentMode&&/^(?:Chrome|Firefox)\b/.test(k)&&(w.push("masking as "+k+" "+C),k="IE",C="11.0",T=["Trident"],L="Windows");L=L&&N(L)}if(C&&(r=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(C)||/(?:alpha|beta)(?: ?\d)?/i.exec(o+";"+(M&&a.appMinorVersion))||/\bMinefield\b/i.test(o)&&"a")&&(E=/b/i.test(r)?"beta":"alpha",C=C.replace(RegExp(r+"\\+?$"),"")+("beta"==E?g:m)+(/\d+\+?/.exec(r)||"")),"Fennec"==k||"Firefox"==k&&/\b(?:Android|Firefox OS)\b/.test(L))k="Firefox Mobile";else if("Maxthon"==k&&C)C=C.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(P))"Xbox 360"==P&&(L=null),"Xbox 360"==P&&/\bIEMobile\b/.test(o)&&w.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(k)&&(!k||P||/Browser|Mobi/.test(k))||"Windows CE"!=L&&!/Mobi/i.test(o))if("IE"==k&&M)try{null===t.external&&w.unshift("platform preview")}catch(e){w.unshift("embedded")}else(/\bBlackBerry\b/.test(P)||/\bBB10\b/.test(o))&&(r=(RegExp(P.replace(/ +/g," *")+"/([.\\d]+)","i").exec(o)||0)[1]||C)?(L=((r=[r,/BB10/.test(o)])[1]?(P=null,O="BlackBerry"):"Device Software")+" "+r[0],C=null):this!=_&&"Wii"!=P&&(M&&y||/Opera/.test(k)&&/\b(?:MSIE|Firefox)\b/i.test(o)||"Firefox"==k&&/\bOS X (?:\d+\.){2,}/.test(L)||"IE"==k&&(L&&!/^Win/.test(L)&&5.5<C||/\bWindows XP\b/.test(L)&&8<C||8==C&&!/\bTrident\b/.test(o)))&&!D.test(r=e.call(_,o.replace(D,"")+";"))&&r.name&&(r="ing as "+r.name+((r=r.version)?" "+r:""),D.test(k)?(/\bIE\b/.test(r)&&"Mac OS"==L&&(L=null),r="identify"+r):(r="mask"+r,k=x?N(x.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(r)&&(L=null),M||(C=null)),T=["Presto"],w.push(r));else k+=" Mobile";(r=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(o)||0)[1])&&(r=[parseFloat(r.replace(/\.(\d)$/,".0$1")),r],"Safari"==k&&"+"==r[1].slice(-1)?(k="WebKit Nightly",E="alpha",C=r[1].slice(0,-1)):C!=r[1]&&C!=(r[2]=(/\bSafari\/([\d.]+\+?)/i.exec(o)||0)[1])||(C=null),r[1]=(/\bChrome\/([\d.]+)/i.exec(o)||0)[1],537.36==r[0]&&537.36==r[2]&&28<=parseFloat(r[1])&&"WebKit"==T&&(T=["Blink"]),r=M&&(c||r[1])?(T&&(T[1]="like Chrome"),r[1]||((r=r[0])<530?1:r<532?2:r<532.05?3:r<533?4:r<534.03?5:r<534.07?6:r<534.1?7:r<534.13?8:r<534.16?9:r<534.24?10:r<534.3?11:r<535.01?12:r<535.02?"13+":r<535.07?15:r<535.11?16:r<535.19?17:r<536.05?18:r<536.1?19:r<537.01?20:r<537.11?"21+":r<537.13?23:r<537.18?24:r<537.24?25:r<537.36?26:"Blink"!=T?"27":"28")):(T&&(T[1]="like Safari"),(r=r[0])<400?1:r<500?2:r<526?3:r<533?4:r<534?"4+":r<535?5:r<537?6:r<538?7:r<601?8:"8"),T&&(T[1]+=" "+(r+="number"==typeof r?".x":/[.+]/.test(r)?"":"+")),"Safari"==k&&(!C||45<parseInt(C))&&(C=r)),"Opera"==k&&(r=/\bzbov|zvav$/.exec(L))?(k+=" ",w.unshift("desktop mode"),"zvav"==r?(k+="Mini",C=null):k+="Mobile",L=L.replace(RegExp(" *"+r+"$"),"")):"Safari"==k&&/\bChrome\b/.exec(T&&T[1])&&(w.unshift("desktop mode"),k="Chrome Mobile",C=null,L=/\bOS X\b/.test(L)?(O="Apple","iOS 4.3+"):null),C&&0==C.indexOf(r=/[\d.]+$/.exec(L))&&-1<o.indexOf("/"+r+"-")&&(L=H(L.replace(r,""))),T&&!/\b(?:Avant|Nook)\b/.test(k)&&(/Browser|Lunascape|Maxthon/.test(k)||"Safari"!=k&&/^iOS/.test(L)&&/\bSafari\b/.test(T[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(k)&&T[1])&&(r=T[T.length-1])&&w.push(r),w.length&&(w=["("+w.join("; ")+")"]),O&&P&&P.indexOf(O)<0&&w.push("on "+O),P&&w.push((/^on /.test(w[w.length-1])?"":"on ")+P),L&&(r=/ ([\d.+]+)$/.exec(L),l=r&&"/"==L.charAt(L.length-r[0].length-1),L={architecture:32,family:r&&!l?L.replace(r[0],""):L,version:r?r[1]:null,toString:function(){var e=this.version;return this.family+(e&&!l?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(r=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(S))&&!/\bi686\b/i.test(S)?(L&&(L.architecture=64,L.family=L.family.replace(RegExp(" *"+r),"")),k&&(/\bWOW64\b/i.test(o)||M&&/\w(?:86|32)$/.test(a.cpuClass||a.platform)&&!/\bWin64; x64\b/i.test(o))&&w.unshift("32-bit")):L&&/^OS X/.test(L.family)&&"Chrome"==k&&39<=parseFloat(C)&&(L.architecture=64),o=o||null;var A={};return A.description=o,A.layout=T&&T[0],A.manufacturer=O,A.name=k,A.prerelease=E,A.product=P,A.ua=o,A.version=k&&C,A.os=L||{architecture:null,family:null,version:null,toString:function(){return"null"}},A.parse=e,A.toString=function(){return this.description||""},A.version&&w.unshift(C),A.name&&w.unshift(k),L&&k&&(L!=String(L).split(" ")[0]||L!=k.split(" ")[0]&&!P)&&w.push(P?"("+L+")":"on "+L),w.length&&(A.description=w.join(" ")),A}();"function"==typeof define&&"object"==_typeof(define.amd)&&define.amd?(j.platform=c,define(function(){return c})):n&&t?_(c,function(e,t){n[t]=e}):j.platform=c}).call(void 0),function(b,m){var e,t,g={},n=[];function o(e,t){t=t||{bubbles:!1,cancelable:!1,detail:m};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}g.onReady=function(e){n.push(e)},g.dispatchGlobalReady=function(){for(var e=n.length-1;0<=e;e--)n[e]();n=[],g.dispatchGlobalReady=m},o.prototype=b.Event.prototype,b.CustomEvent=o,g.device={osVersion:(e=b.platform).os.version,os:e.os.family,platform:e,ANDROID:"Android",IOS:"iOS"},g.browser={name:(t=b.platform).name,version:t.version,platform:t},g.ajax=function(e){var t=e.method,n=e.url,o="boolean"==typeof e.crossDomain&&e.crossDomain,a=e.contentType,i=e.dataType,r=e.data,l=e.timeout,c=e.success,s=e.error,u=e.headers;if("string"!=typeof t)throw new TypeError("method must be a string");if("string"!=typeof n)throw new TypeError("url must be a string");void 0===e.contentType&&(e.contentType="application/x-www-form-urlencoded; charset=UTF-8");var f=function(e){var t=null;try{"withCredentials"in(t=new XMLHttpRequest)&&e&&(t.withCredentials=!0)}catch(e){console.error(e)}return t}(o),d="NO_INTERNET_ACCESS";if("string"==typeof t&&"get"===t.toLowerCase().trim()&&null!==r&&"object"===_typeof(r)&&(n+=function(e){var t,n="?";for(t in e)n+="".concat(t,"=").concat(e[t],"&");var o=n.lastIndexOf("&");return-1!==o&&(n=n.substring(0,o)),n}(r)),"object"===_typeof(r)&&null!==r&&(r=JSON.stringify(r)),f){var p;if(f.open(t,n,!0),"string"==typeof a&&f.setRequestHeader("Content-type",a),"xml"===i&&f.overrideMimeType&&f.overrideMimeType("application/xml; charset=utf-8"),"object"===_typeof(u))for(p in u)f.setRequestHeader(p,u[p]);f.onreadystatechange=function(e){if(4===f.readyState){var t=null;"json"===i?null===(t=function(e){var t=null;try{t=JSON.parse(e)}catch(e){t=null}return t}(f.responseText))&&(d="JSON_MALFORMED"):t="xml"===i?f.responseXML:f.responseText,"2"===f.status.toString()[0]&&"function"==typeof c?c(t,f):"function"==typeof s&&b.setTimeout(function(){s(t,d,f)},1),f=null}},"number"==typeof l&&(f.timeout=l,f.ontimeout=function(){d="TIMEOUT_EXCEEDED"}),f.send(r)}else"function"==typeof s&&s(d="XMLHTTPREQUEST_UNAVAILABLE");return{cancel:function(){d="REQUEST_CANCELED",f&&f.abort()}}},g.event=function(n){var e=["mousedown","mousemove","mouseup"],t=!1;("ontouchstart"in b||b.DocumentTouch&&document instanceof DocumentTouch)&&(t=!0,e=["touchstart","touchmove","touchend","touchcancel"]),b.navigator.pointerEnabled?e=["pointerdown","pointermove","pointerup","pointercancel"]:b.navigator.msPointerEnabled&&(e=["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"]);var l={};l.hasTouch=t,l.start=e[0],l.move=e[1],l.end=e[2],l.cancel=void 0===e[3]?null:e[3],l.tap="tap",l.forceTap=!1;var o=document.createElement("div"),a=[{name:"transition",end:"transitionend"},{name:"MozTransition",end:"transitionend"},{name:"msTransition",end:"msTransitionEnd"},{name:"WebkitTransition",end:"webkitTransitionEnd"}],i=[{name:"animation",end:"animationend"},{name:"MozAnimation",end:"animationend"},{name:"msAnimation",end:"msAnimationEnd"},{name:"WebkitAnimation",end:"webkitAnimationEnd"}],r=null,c=null,s=a.length-1;for(s in a)if(o.style[a[s].name]!==m){r=a[s].end;break}var u=i.length-1;for(u in i)if(o.style[i[u].name]!==m){c=i[u].end;break}var f=g.device.osVersion;f&&2<f.length&&(f=g.device.osVersion.substring(0,3)),g.device.os&&"android"===g.device.os.toLowerCase()&&"4.1"===f&&(r="webkitTransitionEnd",c="webkitAnimationEnd"),l.transitionEnd=r,l.animationEnd=c;var d=[],p=(h.prototype.start=function(e){this.el.addEventListener(l.move,this,!1),this.el.addEventListener(l.end,this,!1),this.moved=!1,this.startX=e.touches?e.touches[0].clientX:e.clientX,this.startY=e.touches?e.touches[0].clientY:e.clientY},h.prototype.move=function(e){var t=e.touches?e.touches[0].clientX:e.clientX,n=e.touches?e.touches[0].clientY:e.clientY;(10<Math.abs(t-this.startX)||10<Math.abs(n-this.startY))&&(this.moved=!0)},h.prototype.end=function(e){if(this.el.removeEventListener(l.move,this,!1),this.el.removeEventListener(l.end,this,!1),null!==l.cancel&&this.el.removeEventListener(l.cancel,this,!1),!this.moved){if(void 0!==n){var t=new b.CustomEvent(this.tap,{detail:{event:"tap",target:this.element},bubbles:!0,cancelable:!0});this.el.dispatchEvent(t)}this.callback(e)}},h.prototype.cancel=function(){this.moved=!1,this.startX=0,this.startY=0},h.prototype.off=function(){this.el.removeEventListener(l.start,this,!1),this.el.removeEventListener(l.move,this,!1),this.el.removeEventListener(l.end,this,!1),null!==l.cancel&&this.el.removeEventListener(l.cancel,this,!1)},h.prototype.handleEvent=function(e){switch(e.type){case l.start:this.start(e);break;case l.move:this.move(e);break;case l.end:this.end(e);break;case l.cancel:this.cancel(e)}},h);function h(e,t){this.el=e,this.callback=t,this.moved=!1,this.startX=0,this.startY=0,this.el.addEventListener(l.start,this,!1)}return g.on=function(e,t,n,o){function a(e,t,n,o){if(t!==l.tap||!l.hasTouch&&!l.forceTap)t===l.tap&&(t="click"),e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&e.attachEvent("on".concat(t),n,o);else{var a=new p(e,n);d.push(a)}}if(void 0===e.length)a(e,t,n,o);else for(var i=0,r=e.length;i<r;i++)a(e[i],t,n,o)},b.on=document.on=NodeList.prototype.on=HTMLElement.prototype.on=function(e,t,n){g.on(this,e,t,n)},g.off=function(e,t,n,o){function a(e,t,n,o){if(t!==l.tap||!l.hasTouch&&!l.forceTap)t===l.tap&&(t="click"),e.removeEventListener?e.removeEventListener(t,n,o):e.attachEvent&&e.detachEvent("on".concat(t),n,o);else for(var a=0,i=d.length;a<i;a++)if(d[a].el===e){d[a].off(),d.splice(a,1);break}}if(void 0===e.length)a(e,t,n,o);else for(var i=0,r=e.length;i<r;i++)a(e[i],t,n,o)},b.off=document.off=NodeList.prototype.off=HTMLElement.prototype.off=function(e,t,n){g.off(this,e,t,n)},l}(b.jQuery),g.tagManager=function(){if("undefined"!=typeof riot){var r=[];return{addTag:function(e,t){e[0].tagName=t,r.push(e[0])},getAll:function(){return r},trigger:function(e,t,n){for(var o=[],a=r.length-1;0<=a;a--)if(r[a].tagName===e){o.push(t);var i=o.concat(n);r[a].trigger.apply(this,i);break}}}}}(),g.options=function(e){var t=!1;"object"===_typeof(e.i18n)&&null!==e.i18n&&(g.i18n(e.i18n),t=!0),e.navigator.useI18n=t,g.navigator(e.navigator)},g.alert=function(e,t,n,o){return g.dialog().alert(e,t,n,o)},g.confirm=function(e,t,n,o,a){return g.dialog().confirm(e,t,n,o,a)},g.prompt=function(e,t,n,o,a){return g.dialog().prompt(e,t,n,o,a)},g.passPrompt=function(e,t,n,o,a){return g.dialog().passPrompt(e,t,n,o,a)},g.indicator=function(e,t){return g.dialog().indicator(e,t)},g.updateLocale=function(e){var o="undefined"!=typeof riot;g.i18n().setPreference(e).getAll(function(e){if(o){for(var t=g.tagManager.getAll(),n=t.length-1;0<=n;n--)t[n].i18n=e;riot.update()}else g.i18n().bind()})},b.phonon=g,"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=g:"function"==typeof define&&define.amd&&define(function(){return b.phonon=g})}("undefined"!=typeof window?window:void 0),function(e,i){function r(e,t){for(var n,o,a,i,r,l,c,s,u=e.length-1;0<=u;u--)for(var f,d=e[u],p=d.getAttribute("data-i18n").trim(),h=/(?:\s|^)(\w+):\s*(.*?)(?=\s+\w+:|$)/g;f=h.exec(p);){var b=f[1].trim(),m=f[2].trim().replace(",","");if(void 0!==t[m])if("text"===b)c=d,s=t[m],"textContent"in c?c.textContent=s:c.innerText=s;else if("html"===b)r=d,l=t[m],r.innerHTML=l;else if("value"===b)a=d,i=t[m],a.value=i;else{if("placeholder"!==b)throw new Error("The property: ".concat(b," is unknown"));n=d,o=t[m],n.setAttribute("placeholder",o)}else console.error("The value: ".concat(m," does not exist in the JSON file"))}}var l=null,c=null,s={localeFallback:null,localePreferred:e.navigator.userLanguage||e.navigator.language,directory:"./",initCalled:!1,loadJson:!0},t={};function n(e){if(s.initCalled)throw new Error("The i18n module has already been instantiated");var t;for(t in"string"==typeof e.directory&&(e.directory=-1!==e.directory.indexOf("/",e.directory.length-"/".length)?e.directory:"".concat(e.directory,"/")),e)s[t]=e[t];c=s.localeFallback,void 0!==e.use&&(s.loadJson=!1),s.initCalled=!0}function u(t){if(!s.initCalled)throw new Error("Please, initialize The i18n module using the init method");if("function"!=typeof t)throw new Error("callback must be a function");var e=s.localePreferred?s.localePreferred:s.localeFallback;if(c=e,s.loadJson){if(null!==l)return void t(l);var n=new XMLHttpRequest;n.open("GET","".concat(s.directory+e,".json"),!0),n.overrideMimeType&&n.overrideMimeType("application/json; charset=utf-8");var o=function(){s.localePreferred=null,u(function(e){t(l=e)})};n.onreadystatechange=function(){if(4===n.readyState&&(200===n.status||!n.status&&n.responseText.length))try{var e=JSON.parse(n.responseText);t(l=e)}catch(e){o()}else if(4===n.readyState&&200!==n.status&&(n.status||!n.responseText.length)){if(!s.localePreferred)throw new Error("The default locale [".concat(s.directory).concat(s.localeFallback,".json] file is not found"));o()}},n.send("")}else{var a=s.use[e];void 0===a&&(a=s.use[s.localeFallback]),t(a)}}function o(o,a){if("string"!=typeof o&&!(o instanceof Array))throw new Error("key must be a string or an array");var i=o instanceof Array;if(s.loadJson&&null!==l)if(i){for(var e=o.length-1,t={};0<=e;e--)t[o[e]]=l[o[e]];a(t)}else a(l[o]);else u(function(e){if(i){for(var t=o.length-1,n={};0<=t;t--)n[o[t]]=e[o[t]];a(n)}else a(e[o])})}function a(e,t){var n=e||i,o=t;if(1===arguments.length&&"function"==typeof e&&(n=i,o=e),!function(e){return"object"===("undefined"==typeof Node?"undefined":_typeof(Node))?e instanceof Node:e&&"object"===_typeof(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}(n))throw new TypeError("Not valid element object ".concat(n));var a=n.querySelectorAll("[data-i18n]");null===l?u(function(e){r(a,e),"function"==typeof o&&o()}):(r(a,l),"function"==typeof o&&o())}function f(e){if("string"!=typeof e)throw new Error("The language must be a string");return s.localePreferred=e,l=null,t}function d(){return s.localePreferred}function p(){return e.navigator.userLanguage||e.navigator.language}t.init=n,t.getAll=u,t.get=o,t.bind=a,t.setPreference=f,t.getPreference=d,t.getLocale=p,phonon.i18n=function(e){return"object"===_typeof(e)&&n(e),{getAll:function(e){return u(e),this},get:function(e,t){return o(e,t),this},bind:function(e,t){return a(e,t),this},setPreference:function(e){return f(e),this},getPreference:function(){return d()},getLocale:function(){return p()},getCurrentLocale:function(){return c}}}}(window,document),function(f,n,d){f.phononDOM={};var a=[],p=[],h=!1,i=!1,b=null,r=null,m=!0,g=!1,l=void 0!==n,v={defaultPage:null,defaultTemplateExtension:null,hashPrefix:"!",animatePages:!0,templateRootDirectory:"",useI18n:!0,enableBrowserBackButton:!1,useHash:!0},c=(e.prototype.onCreate=function(e){this.onCreateCallback=e},e.prototype.onReady=function(e){this.onReadyCallback=e},e.prototype.onClose=function(t){this.onCloseCallback=function(e){t(e)}},e.prototype.onHidden=function(e){this.onHiddenCallback=e},e.prototype.onTransitionEnd=function(e){this.onTransitionEndCallback=e},e.prototype.onHashChanged=function(t){this.onHashChangedCallback=function(e){t.apply(this,e)}},e.prototype.onTabChanged=function(t){this.onTabChangedCallback=function(e){t(e)}},e);function e(e){var t;if("object"===_typeof(e))for(t in e)void 0!==this[t]&&"constructor"!==this[t]&&(this["".concat(t,"Callback")]=e[t])}var y=function(e){for(var t=a.length-1;0<=t;t--)if(a[t].name===e)return a[t];return null};function x(e,t){void 0===f.phononDOM[e]&&(f.phononDOM[e]={});var n='var page = window.phononDOM["'.concat(e,'"];');n+=t;var o=document.createElement("script");o.text=n,document.head.appendChild(o).parentNode.removeChild(o)}var S=function(e){for(var t=document.querySelectorAll("[data-page]"),n=t.length-1,o=null;0<=n;n--){var a=t[n].getAttribute("data-alias");if(t[n].tagName.toLowerCase()===e||a===e){o=t[n];break}}return o};function s(){if(v.animatePages){this.classList.remove("page-sliding"),this.classList.remove("left"),this.off(d.event.animationEnd,s,!1),this.classList.remove("app-active")}t(b),o(r),i=!1}function u(){if(v.animatePages){this.classList.remove("page-sliding"),this.classList.remove("right"),this.off(d.event.animationEnd,u,!1),this.classList.remove("app-active")}t(b),o(r),i=!1}function w(e,t,n){var o={detail:{page:t},bubbles:!0,cancelable:!0};void 0!==n&&(o.detail.req=n);var a=new f.CustomEvent(e,o);document.dispatchEvent(a)}function E(e,t,n){for(var o=0,a=t.length;o<a;o++){var i=t[o];i.event===e&&"function"==typeof i.callback&&i.callback(n)}}function M(t){var n=y(t);f.setTimeout(function(){if(l&&d.tagManager.trigger(t,"ready"),w("pageopened",t),n.activity instanceof c&&"function"==typeof n.activity.onReadyCallback&&n.activity.onReadyCallback(),E("ready",n.callbackRegistered),"object"===_typeof(f.phononDOM[n.name])){var e=f.phononDOM[n.name].onReady;"function"==typeof e&&e()}},n.readyDelay)}function t(e){l&&d.tagManager.trigger(e,"transitionend"),w("pagetransitionend",e);var t=y(e);if(t.activity instanceof c&&"function"==typeof t.activity.onTransitionEndCallback&&t.activity.onTransitionEndCallback(),E("transitionend",t.callbackRegistered),"object"===_typeof(f.phononDOM[t.name])){var n=f.phononDOM[t.name].onTransitionEnd;"function"==typeof n&&n()}}function o(e){l&&d.tagManager.trigger(e,"hidden"),w("pagehidden",e);var t=y(e);if(t.activity instanceof c&&"function"==typeof t.activity.onHiddenCallback&&t.activity.onHiddenCallback(),E("hidden",t.callbackRegistered),"object"===_typeof(f.phononDOM[t.name])){var n=f.phononDOM[t.name].onHidden;"function"==typeof n&&n()}}function C(e,t,n){function o(){w("pageclosed",e),f.location.hash.split("#")[1]!==n&&v.useHash?f.location.hash=n:W(n)}if(!R()){var a=y(e);if(a.async){var i={close:o};if(l&&d.tagManager.trigger(e,"close",i),a.activity instanceof c&&"function"==typeof a.activity.onCloseCallback&&a.activity.onCloseCallback(i),E("close",a.callbackRegistered,i),"object"===_typeof(f.phononDOM[a.name])){var r=f.phononDOM[a.name].onClose;"function"==typeof r&&r(i)}}else o()}}function T(e,t){if(void 0!==t){l&&d.tagManager.trigger(e,"hashchanged",t),w("pagehash",e,t);var n=y(e);if(n.activity instanceof c&&"function"==typeof n.activity.onHashChangedCallback&&n.activity.onHashChangedCallback(t),E("hashchanged",n.callbackRegistered,t),"object"===_typeof(f.phononDOM[n.name])){var o=f.phononDOM[n.name].onHashChanged;"function"==typeof o&&o(t)}}}function k(e,t){"tabchanged"===e&&function(e,t){l&&d.tagManager.trigger(e,"tabchanged",t),w("pagetabchanged",e);var n=y(e);if(n.activity instanceof c&&"function"==typeof n.activity.onTabChangedCallback&&n.activity.onTabChangedCallback(t),E("tabchanged",n.callbackRegistered,t),"object"===_typeof(f.phononDOM[n.name])){var o=f.phononDOM[n.name].onTabChanged;"function"==typeof o&&o(t)}}(t.page,t.tabNumber)}function P(c,s,e){if(l&&n.compile(function(){v.useI18n?d.i18n().getAll(function(e){d.tagManager.addTag(n.mount(c,{i18n:e}),c),s()}):(d.tagManager.addTag(n.mount(c,{i18n:null}),c),s())}),!l){var u=y(c);if(null!==u.content){if(null===u.nocache||null===u.showloader){t=S(c),u.nocache=!1,u.showloader=!1,"true"===t.getAttribute("data-nocache")&&(u.nocache=!0),"true"===t.getAttribute("data-loader")&&(u.showloader=!0)}u.showloader&&document.body.classList.add("loading"),function(e,t,n){var o=new XMLHttpRequest;o.overrideMimeType&&o.overrideMimeType("text/html; charset=utf-8");o.onreadystatechange=function(){4===o.readyState&&(200===o.status||!o.status&&o.responseText.length)&&t(o.responseText,v,e)},"string"!=typeof n?(o.open("GET",v.templateRootDirectory+e,!0),o.send("")):(o.open("POST",v.templateRootDirectory+e,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(n))}(u.content,function(e){u.showloader&&document.body.classList.remove("loading");var t=S(c),n=document.createElement("div");n.innerHTML=e;var o=n.querySelector(c);if(null===o)throw new Error("Error with ".concat(u.content," : the template for ").concat(c," must start with the parent node <").concat(c,' class="app-page">'));for(var a=o.attributes,i=a.length-1;0<=i;i--){var r=a.item(i);"class"!==r.nodeName&&"app-page"!==r.nodeValue&&t.setAttribute(r.nodeName,r.nodeValue)}function l(e){var t=e.getElementsByTagName("script");t=Array.prototype.slice.call(t);for(var n=0;n<t.length;n++){var o=t[n].getAttribute("type");"text/javascript"!==o&&null!==o||x(u.name,t[n].innerHTML)}}v.useI18n?d.i18n().bind(o,function(){t.innerHTML=o.innerHTML,l(n),s()}):(t.innerHTML=o.innerHTML,l(n),s())},e)}else s()}var t}function O(e,t){t="object"===_typeof(t)?t:{};var n,o={name:e,mounted:!1,async:!1,activity:null,content:null,readyDelay:1,callbackRegistered:[],nocache:null,showloader:null};for(n in t)o[n]=t[n];return o}function L(e,t){t="object"===_typeof(t)?t:{};var n,o=y(e);if(null===o)return a.push(O(e,t));for(n in t)o[n]=t[n];return!0}function R(){return!(void 0===d.dialog||!d.dialogUtil.closeActive())||(!(void 0===d.popover||!d.popoverUtil.closeActive())||(!(void 0===d.panel||!d.panelUtil.closeActive())||!(void 0===d.sidePanel||!d.sidePanelUtil.closeActive())))}function A(){var e={page:v.defaultPage,params:""};if(0<p.length){for(var t=-1,n=p.length-1;0<=n;n--)if(p[n].page===b){t=n-1;break}-1<t&&(e=p[t],p=p.slice(0,t))}return e}function D(e){g=!0;var t=e.target,n=null,o=!1,a="";if("submit"==e.type){var i=t.getAttribute("action");if(i.match(new RegExp("^#".concat(v.hashPrefix))))return e.preventDefault(),n=i.substr(1+v.hashPrefix.length),C(b,0,v.hashPrefix+n),N(n,function(){},function(e){var t,n,o=(e=e||f.event).target,a="";if("object"===_typeof(o)&&"FORM"==o.nodeName)for(n=o.elements.length-1;0<=n;n--)if((t=o.elements[n]).name&&"file"!=t.type&&"reset"!=t.type)if("select-multiple"==t.type)for(j=o.elements[n].options.length-1;0<=j;j--)t.options[j].selected&&(a+="&".concat(t.name,"=").concat(encodeURIComponent(t.options[j].value).replace(/%20/g,"+")));else("submit"!=t.type&&"button"!=t.type||e.target==t)&&("checkbox"!=t.type&&"radio"!=t.type||t.checked)&&(a+="&".concat(t.name,"=").concat(encodeURIComponent(t.value).replace(/%20/g,"+")));return a.substr(1)}(e)),I(i.substr(1+v.hashPrefix.length))}for(;t&&t!==document;t=t.parentNode){var r=t.getAttribute("data-navigation");if(void 0!==t.href&&-1!==t.href.indexOf("#!")){o=!0;break}if(r){n=r;break}}if((!o||!v.useHash)&&(null!==n||o)){var l=v.defaultPage;if(null!==n)if("$previous-page"===n){var c=A();l=c.page,a=c.params}else l=n;else{var s=t.href.match("/#".concat(v.hashPrefix,"([A-Za-z0-9-.]+)?(.*)/"));s&&(l=s[1],a=s[2])}var u=v.hashPrefix+l;""!==a&&(u=(u="".concat(u,"/").concat(a)).replace("//","/")),C(b,0,u)}}function B(e,t){var n=S(e),o=S(t);o.classList.add("app-active"),v.animatePages?(n.classList.add("page-sliding"),m?(n.classList.add("left"),n.on(d.event.animationEnd,s,!1)):(n.classList.add("right"),n.on(d.event.animationEnd,u,!1))):(n.classList.remove("app-active"),m?s():u());for(var a=o.querySelectorAll(".content"),i=a.length-1;0<=i;i--){var r=a[i];null!==r&&0!==r.scrollTop&&(r.scrollTop=0)}t===v.defaultPage&&(p=[])}function N(t,n,e){if(i&&"function"==typeof n)return n();var o=y(t);h&&(i=!0,r=b,b=t),!o.mounted||o.nocache?P(o.name,function(){if(o.mounted=!0,function(e){l&&d.tagManager.trigger(e,"create"),w("pagecreated",e);var t=y(e);if(t.activity instanceof c&&"function"==typeof t.activity.onCreateCallback&&t.activity.onCreateCallback(),E("create",t.callbackRegistered),"object"===_typeof(f.phononDOM[t.name])){var n=f.phononDOM[t.name].onCreate;"function"==typeof n&&n()}}(t),M(t),h||d.dispatchGlobalReady(),h&&B(r,t),!h){h=!0;var e=S(t);e.classList.contains("app-active")||e.classList.add("app-active")}"function"==typeof n&&n()},e):(M(t),B(r,t),"function"==typeof n&&n())}function _(){if(h)throw new Error("The app has been already started");var e="";d.device.os&&(e=d.device.os.toLowerCase());var t="web";"android"===e?t="android":"ios"===e&&(t="ios"),document.body.classList.contains(t)||document.body.classList.add(t),W()}function I(e,t){var n=y(b),o=y(e);if(!o)throw new Error("The following page: ".concat(e," does not exists"));var a=v.hashPrefix+o.name;void 0!==t&&(a="".concat(v.hashPrefix+o.name,"/").concat(t)),n.async?C(b,o.name,a):-1===f.location.hash.indexOf(a)&&v.useHash&&(f.location.hash=a)}function W(e,t){var n,o=("string"==typeof e?e:f.location.href.split("#")[1]||"").split("/"),a=o.slice(1,o.length),i=o[0],r=v.hashPrefix.indexOf("/");n=-1!==r?(i=void 0===o[1]?"":o[1],a=o.slice(2,o.length),i.substring(r+1,i.length)):i.substring(v.hashPrefix.length,i.length);var l=y(n);if(h||l)!h&&l&&(b=l.name);else if(b=v.defaultPage,l=y(v.defaultPage),v.useHash)return void(f.location.hash=v.hashPrefix+v.defaultPage);if(l){if(R(),l.name===b&&h)return void T(l.name,a);if(h&&!g)return;for(var c=!1,s=p.length-1;0<=s;s--)if(p[s].page===l.name){c=!0;break}if(0<p.length?l.name===v.defaultPage&&(m=!1):m=!0,1<p.length&&p[p.length-2].page===l.name&&(m=!1),!c){var u=a.join("/");p.push({page:l.name,params:u})}"function"!=typeof l.callback||l.mounted||l.callback(l.activity),l.mounted?(N(l.name,null,t),T(l.name,a)):N(l.name,function(){T(l.name,a)},t),v.enableBrowserBackButton||(g=!1)}}document.on("tap",D),document.on("submit",D),v.useHash&&f.addEventListener("hashchange",W),document.on("backbutton",function(){if(!R()){var e=A();C(b,e.page,"".concat(v.hashPrefix+e.page,"/").concat(e.params))}}),d.navigator=function(e){return"object"===_typeof(e)&&function(e){var t;for(t in"string"==typeof e.templateRootDirectory&&""!==e.templateRootDirectory&&(e.templateRootDirectory=-1!==e.templateRootDirectory.indexOf("/",e.templateRootDirectory.length-"/".length)?e.templateRootDirectory:"".concat(e.templateRootDirectory,"/")),"object"===_typeof(e.hashPrefix)&&(e.hashPrefix=""),e)v[t]=e[t];v.enableBrowserBackButton&&(g=!0);for(var n=document.querySelectorAll("[data-page]"),o=n.length-1;0<=o;o--){var a=n[o];a.classList.contains("app-page")||a.classList.add("app-page"),L(a.tagName.toLowerCase())}}(e),{currentPage:b,previousPage:r,start:_,changePage:function(t,n){g=!0;var e=R()?400:1;f.setTimeout(function(){if("$previous-page"==t){var e=A();e&&(t=e.page,n=e.params)}I(t,n)},e)},on:function(e,t){if("string"!=typeof e.page)throw new Error("Page name must be a string");if(void 0!==e.preventClose&&"boolean"!=typeof e.preventClose)throw new Error("preventClose option must be a boolean");if(void 0!==e.readyDelay&&"number"!=typeof e.readyDelay)throw new Error("readyDelay option must be a number");null!==typeof e.content&&"string"==typeof v.defaultTemplateExtension&&(e.content="".concat(e.page,".").concat(v.defaultTemplateExtension));var n=y(e.page);null!==n||(n=O(e.page)),"function"==typeof t||"object"===_typeof(t)?n.activity=new c(t):n.activity=null,n.callback=t,n.async="boolean"==typeof e.preventClose&&e.preventClose,n.content="string"==typeof e.content?e.content:null,n.readyDelay="number"==typeof e.readyDelay?e.readyDelay:1,L(e.page.toLowerCase(),n)},onPage:function(n){if("string"!=typeof n)throw new Error("PageName must be a string");return L(n,{}),{addEvent:function(e,t){y(n).callbackRegistered.push({event:e,callback:t})}}},callCallback:k}}}("undefined"!=typeof window?window:void 0,"undefined"!=typeof riot?riot:void 0,phonon);