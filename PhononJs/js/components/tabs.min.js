"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(T){var C=document,P=T;function t(r){var e,i,n,s={pageClass:"dragend-page",direction:"horizontal",minDragDistance:"40",onSwipeStart:t,onSwipeEnd:t,onDragStart:t,onDrag:t,onDragEnd:t,afterInitialize:t,keyboardNavigation:!1,stopPropagation:!1,itemsInPage:1,scribe:0,borderBetweenPages:0,duration:300,preventDrag:!1},o="ontouchstart"in P,a=o?"touchstart":"mousedown",c=o?"touchmove":"mousemove",h=o?"touchend":"mouseup",l={37:"left",38:"up",39:"right",40:"down"},g="No pages found",d={overflow:"hidden",padding:0},p=(e=C.createElement("div"),i="Khtml Ms O Moz Webkit".split(" "),n=i.length,function(t){if(t in e.style)return!0;for(t=t.replace(/^[a-z]/,function(t){return t.toUpperCase()});n--;)if(i[n]+t in e.style)return!0;return!1})("transform");function t(){}function u(){return!1}function f(t,e){var i,n;for(i in e)if(e.hasOwnProperty(i)){switch(n=e[i],i){case"height":case"width":case"marginLeft":case"marginTop":n+="px"}t.style[i]=n}return t}function m(t,e){var i;for(i in e)t[i]=e[i];return t}function y(t,e){return function(){return t.apply(e,Array.prototype.slice.call(arguments))}}function b(t){var e=t.touches,i=e&&e.length?e:t.changedTouches;return{x:o?i[0].pageX:t.pageX,y:o?i[0].pageY:t.pageY}}function v(t,e){var i=m({},s);for(this.settings=m(i,e),this.container=t,this.pageContainer=C.createElement("div"),this.scrollBorder={x:0,y:0},this.page=0,this.preventScroll=!1,this.pageCssProperties={margin:0},this._onStart=y(this._onStart,this),this._onMove=y(this._onMove,this),this._onEnd=y(this._onEnd,this),this._onKeydown=y(this._onKeydown,this),this._sizePages=y(this._sizePages,this),this._afterScrollTransform=y(this._afterScrollTransform,this);t.firstChild;)this.pageContainer.appendChild(t.firstChild);t.appendChild(this.pageContainer),this._scroll=p?this._scrollWithTransform:this._scrollWithoutTransform,this._animateScroll=p?this._animateScrollWithTransform:this._animateScrollWithoutTransform,f(t,d),setTimeout(y(function(){this.updateInstance(e),this.settings.preventDrag||this._observe(),this.settings.afterInitialize.call(this)},this),10)}function w(t,e,i){r?r(t).on(e,i):t.addEventListener(e,i,!1)}function _(t,e,i){r?r(t).off(e,i):t.removeEventListener(e,i,!1)}return m(v.prototype,{_checkOverscroll:function(t,e,i){var n={x:e,y:i,overscroll:!0};switch(t){case"right":if(!this.scrollBorder.x)return n.x=Math.round((e-this.scrollBorder.x)/5),n;break;case"left":if((this.pagesCount-1)*this.pageDimentions.width<=this.scrollBorder.x)return n.x=Math.round(-(Math.ceil(this.pagesCount)-1)*(this.pageDimentions.width+this.settings.borderBetweenPages)+e/5),n;break;case"down":if(!this.scrollBorder.y)return n.y=Math.round((i-this.scrollBorder.y)/5),n;break;case"up":if((this.pagesCount-1)*this.pageDimentions.height<=this.scrollBorder.y)return n.y=Math.round(-(Math.ceil(this.pagesCount)-1)*(this.pageDimentions.height+this.settings.borderBetweenPages)+i/5),n}return{x:e-this.scrollBorder.x,y:i-this.scrollBorder.y,overscroll:!1}},_xDown:0,_yDown:0,_observe:function(){w(this.container,a,this._onStart),this.container.onselectstart=u,this.container.ondragstart=u,this.settings.keyboardNavigation&&w(C.body,"keydown",this._onKeydown),w(P,"resize",this._sizePages)},_onStart:function(t){t=t.originalEvent||t,this.settings.stopPropagation&&t.stopPropagation(),this._xDown=t.touches?t.touches[0].clientX:t.clientX,this._yDown=t.touches?t.touches[0].clientY:t.clientY,w(C.body,c,this._onMove),w(C.body,h,this._onEnd),this.startCoords=b(t),this.settings.onDragStart.call(this,t)},_onMove:function(t){if(!((t=t.originalEvent||t).touches&&1<t.touches.length||t.scale&&1!==t.scale)){var e=t.touches?t.touches[0].clientX:t.clientX,i=t.touches?t.touches[0].clientY:t.clientY,n=this._xDown-e,s=this._yDown-i;Math.abs(n)>Math.abs(s)&&(t.preventDefault(),this.settings.stopPropagation&&t.stopPropagation());var o=this._parseEvent(t),r=this._checkOverscroll(o.direction,-o.distanceX,-o.distanceY);Math.abs(n)<Math.abs(s)||0===this.page&&"right"===o.direction||this.page+1===this.pagesCount&&"left"===o.direction||(this.settings.onDrag.call(this,this.activeElement,o,r.overscroll,t),this.preventScroll||this._scroll(r))}},_onEnd:function(t){t=t.originalEvent||t,this.settings.stopPropagation&&t.stopPropagation();var e=this._parseEvent(t);this.startCoords={x:0,y:0},Math.abs(e.distanceX)>this.settings.minDragDistance||Math.abs(e.distanceY)>this.settings.minDragDistance?this.swipe(e.direction):(0<e.distanceX||0<e.distanceX)&&this._scrollToPage(),this.settings.onDragEnd.call(this,this.container,this.activeElement,this.page,t),_(C.body,c,this._onMove),_(C.body,h,this._onEnd)},_parseEvent:function(t){var e=b(t),i=this.startCoords.x-e.x,n=this.startCoords.y-e.y;return this._addDistanceValues(i,n)},_addDistanceValues:function(t,e){var i={distanceX:0,distanceY:0};return"horizontal"===this.settings.direction?(i.distanceX=t,i.direction=0<t?"left":"right"):(i.distanceY=e,i.direction=0<e?"up":"down"),i},_onKeydown:function(t){var e=l[t.keyCode];e&&this._scrollToPage(e)},_setHorizontalContainerCssValues:function(){m(this.pageCssProperties,{cssFloat:"left",overflowY:"auto",overflowX:"hidden",padding:0,display:"block"}),f(this.pageContainer,{overflow:"hidden",width:(this.pageDimentions.width+this.settings.borderBetweenPages)*this.pagesCount,boxSizing:"content-box","-webkit-backface-visibility":"hidden","-webkit-perspective":1e3,margin:0,padding:0})},_setVerticalContainerCssValues:function(){m(this.pageCssProperties,{overflow:"hidden",padding:0,display:"block"}),f(this.pageContainer,{"padding-bottom":this.settings.scribe,boxSizing:"content-box","-webkit-backface-visibility":"hidden","-webkit-perspective":1e3,margin:0})},setContainerCssValues:function(){"horizontal"===this.settings.direction?this._setHorizontalContainerCssValues():this._setVerticalContainerCssValues()},_setPageDimentions:function(){var t=this.container.offsetWidth,e=this.container.offsetHeight;"horizontal"===this.settings.direction?t-=parseInt(this.settings.scribe,10):e-=parseInt(this.settings.scribe,10),this.pageDimentions={width:t,height:e}},_sizePages:function(){var t=this.pages.length;this._setPageDimentions(),this.setContainerCssValues(),"horizontal"===this.settings.direction?m(this.pageCssProperties,{height:this.pageDimentions.height,width:this.pageDimentions.width/this.settings.itemsInPage}):m(this.pageCssProperties,{height:this.pageDimentions.height/this.settings.itemsInPage,width:this.pageDimentions.width});for(var e=0;e<t;e++)f(this.pages[e],this.pageCssProperties);this._jumpToPage("page",this.page)},_calcNewPage:function(t,e){var i=this.settings.borderBetweenPages,n=this.pageDimentions.height,s=this.pageDimentions.width,o=this.page;switch(t){case"up":o<this.pagesCount-1&&(this.scrollBorder.y=this.scrollBorder.y+n+i,this.page++);break;case"down":0<o&&(this.scrollBorder.y=this.scrollBorder.y-n-i,this.page--);break;case"left":o<this.pagesCount-1&&(this.scrollBorder.x=this.scrollBorder.x+s+i,this.page++);break;case"right":0<o&&(this.scrollBorder.x=this.scrollBorder.x-s-i,this.page--);break;case"page":switch(this.settings.direction){case"horizontal":this.scrollBorder.x=(s+i)*e;break;case"vertical":this.scrollBorder.y=(n+i)*e}this.page=e;break;default:this.scrollBorder.y=0,this.scrollBorder.x=0,this.page=0}},_onSwipeEnd:function(){this.preventScroll=!1,this.activeElement=this.pages[this.page*this.settings.itemsInPage],this.settings.onSwipeEnd.call(this,this.container,this.activeElement,this.page)},_jumpToPage:function(t,e){t&&this._calcNewPage(t,e),this._scroll({x:-this.scrollBorder.x,y:-this.scrollBorder.y})},_scrollToPage:function(t,e){this.preventScroll=!0,t&&this._calcNewPage(t,e),this._animateScroll()},_scrollWithTransform:function(t){var e;e=function(){if(!T.getComputedStyle)return!1;var t,e=document.createElement("p"),i={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var n in document.body.insertBefore(e,null),i)void 0!==e.style[n]&&(e.style[n]="translate3d(1px,1px,1px)",t=T.getComputedStyle(e).getPropertyValue(i[n]));return document.body.removeChild(e),void 0!==t&&0<t.length&&"none"!==t}()?"horizontal"===this.settings.direction?"translate3d(".concat(t.x,"px, 0, 0)"):"translate3d(0, ".concat(t.y,"px, 0)"):"horizontal"===this.settings.direction?"translateX(".concat(t.x,"px)"):"translateY(".concat(t.y,"px)"),f(this.pageContainer,{"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,"-o-transform":e,transform:e})},_animateScrollWithTransform:function(){var t="transform ".concat(this.settings.duration,"ms ease-out"),e=(this.container,this._afterScrollTransform);f(this.pageContainer,{"-webkit-transition":"-webkit-".concat(t),"-moz-transition":"-moz-".concat(t),"-ms-transition":"-ms-".concat(t),"-o-transition":"-o-".concat(t),transition:t}),this._scroll({x:-this.scrollBorder.x,y:-this.scrollBorder.y}),w(this.container,"webkitTransitionEnd",e),w(this.container,"oTransitionEnd",e),w(this.container,"transitionend",e),w(this.container,"transitionEnd",e)},_afterScrollTransform:function(){var t=this.container,e=this._afterScrollTransform;this._onSwipeEnd(),_(t,"webkitTransitionEnd",e),_(t,"oTransitionEnd",e),_(t,"transitionend",e),_(t,"transitionEnd",e),f(this.pageContainer,{"-webkit-transition":"","-moz-transition":"","-ms-transition":"","-o-transition":"",transition:""})},_scrollWithoutTransform:function(t){var e="horizontal"===this.settings.direction?{marginLeft:t.x}:{marginTop:t.y};f(this.pageContainer,e)},_animateScrollWithoutTransform:function(){var t="horizontal"===this.settings.direction?"marginLeft":"marginTop",e="horizontal"===this.settings.direction?-this.scrollBorder.x:-this.scrollBorder.y;!function(t,e,i,n,s){var o={};o[e]=i,r?r(t).animate(o,n,s):f(t,o)}(this.pageContainer,t,e,this.settings.duration,y(this._onSwipeEnd,this))},swipe:function(t){this.settings.onSwipeStart.call(this,this.container,this.activeElement,this.page),this._scrollToPage(t)},updateInstance:function(t){if("object"===_typeof(t=t||{})&&m(this.settings,t),this.pages=function(t,e){return r?r(e).find(".".concat(t)):Array.prototype.slice.call(e.getElementsByClassName(t))}(this.settings.pageClass,this.pageContainer),!this.pages.length)throw new Error(g);this.pagesCount=this.pages.length/this.settings.itemsInPage,this.activeElement=this.pages[this.page*this.settings.itemsInPage],this._sizePages(),this.settings.jumpToPage&&(this.jumpToPage(t.jumpToPage),delete this.settings.jumpToPage),this.settings.scrollToPage&&(this.scrollToPage(this.settings.scrollToPage),delete this.settings.scrollToPage),this.settings.destroy&&(this.destroy(),delete this.settings.destroy)},destroy:function(){var t=this.container;_(t,a),_(t,c),_(t,h),_(C.body,"keydown",this._onKeydown),_(P,"resize",this._sizePages),t.removeAttribute("style");for(var e=0;e<this.pages.length;e++)this.pages[e].removeAttribute("style");t.innerHTML=this.pageContainer.innerHTML},scrollToPage:function(t){this._scrollToPage("page",t-1)},jumpToPage:function(t){this._jumpToPage("page",t-1)}}),r&&(r.fn.dragend=function(e){return e=e||{},this.each(function(){var t=r(this).data("dragend");t?t.updateInstance(e):(t=new v(this,e),r(this).data("dragend",t)),"string"==typeof e&&t.swipe(e)}),this}),v}"function"==typeof define&&"object"===_typeof(define.amd)&&define.amd?define(function(){return t(P.jQuery||P.Zepto)}):P.Dragend=t(P.jQuery||P.Zepto)}(window),function(c,l){var h=[];function e(t){var e="object"===_typeof(t)?t.detail.page:t,i=document.querySelector(e),n=i.querySelector('[data-tab-contents="true"]');i?i.querySelector(".tabs")&&function(n,t,e){var i=t.querySelectorAll(".tab-items a"),s=t.querySelector(".tab-indicator"),o="true"===e.getAttribute("data-disable-swipe"),r=parseInt(e.getAttribute("data-tab-default",10));(isNaN(r)||r>i.length)&&(r=1);s.style.width="".concat(100/i.length,"%");var a={direction:"horizontal",minDragDistance:"100",preventDrag:o,duration:200,pageClass:"tab-content",onDragEnd:function(t,e,i){g(n,i+=1)}};h.push({page:n,dragend:new Dragend(e,a),currentTab:r}),c.setTimeout(function(){g(n,r)},10)}(e,i,n):console.error("The page ".concat(e," ")+"does not exists")}function g(t,e){for(var i=h.length-1;0<=i;i--)if(h[i].page===t){h[i].currentTab!==e&&(h[i].currentTab=e,l.navigator().callCallback("tabchanged",{page:t,tabNumber:e}));var n=document.querySelector(t).querySelector(".tab-indicator");if(n){var s=e-1;n.style.webkitTransform="translateX(".concat(s,"00%)"),n.style.MozTransform="translateX(".concat(s,"00%)"),n.style.msTransform="translateX(".concat(s,"00%)"),n.style.OTransform="translateX(".concat(s,"00%)"),n.style.transform="translateX(".concat(s,"00%)")}h[i].dragend.scrollToPage(e);break}}function d(t,e){if("string"!=typeof t)throw new Error("The first argument must be a string, ".concat(_typeof(t)," given"));if("number"!=typeof e)throw new Error("The second argument must be a number, ".concat(_typeof(e)," given"));c.setTimeout(function(){g(t,e)},10)}document.on("tap",function(t){for(var e=t.target,i=null;e&&e!==document;e=e.parentNode)if(e.classList.contains("tab-item")){i=e;break}if(i){for(var n=i.parentNode.parentNode,s=n.querySelectorAll(".tab-items a"),o=n.querySelector(".tab-indicator"),r=0,a=s.length;r<a&&i!==s[r];r++);var c="".concat(r,"00");o.style.webkitTransform="translateX(".concat(c,"%)"),o.style.MozTransform="translateX(".concat(c,"%)"),o.style.msTransform="translateX(".concat(c,"%)"),o.style.OTransform="translateX(".concat(c,"%)"),o.style.transform="translateX(".concat(c,"%)");var h=l.navigator().currentPage;d(h,r+1)}}),document.on("pagecreated",e),l.tab=function(){return{setCurrentTab:d,init:function(t){(t=void 0===t?l.navigator().currentPage:t)||console.error("The page ".concat(t," ")+"does not exists"),e(t)}}}}("undefined"!=typeof window?window:void 0,window.phonon||{});