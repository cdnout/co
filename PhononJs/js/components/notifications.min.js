"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(s,i){var c=[];function r(){var t=this,n=t.getAttribute("data-timeout");if(n){if(isNaN(parseInt(n,10)))return void console.error("Attribute data-timeout must be a number");var e=t.querySelector(".progress");if(e){e.classList.contains("active")||e.classList.add("active");var o=e.querySelector(".determinate");o.style.width="0",o.style.webkitTransitionDuration="".concat(n,"ms"),o.style.MozTransitionDuration="".concat(n,"ms"),o.style.msTransitionDuration="".concat(n,"ms"),o.style.OTransitionDuration="".concat(n,"ms"),o.style.transitionDuration="".concat(n,"ms"),s.setTimeout(function(){o.style.width="100%"},10)}s.setTimeout(function(){y(t)},parseInt(n,10)+10)}t.off(i.event.transitionEnd,r,!1)}function l(){var t=this;t.style.zIndex=28;var n=t.clientHeight;t.style.webkitTransform="translateY(".concat(n,"px)"),t.style.MozTransform="translateY(".concat(n,"px)"),t.style.msTransform="translateY(".concat(n,"px)"),t.style.OTransform="translateY(".concat(n,"px)"),t.style.transform="translateY(".concat(n,"px)");var e=function(t){for(var n=c.length-1;0<=n;n--)if(c[n]===t)return n;return-1}(t);0<=e&&c.splice(e,1);for(var o=c.length-1;0<=o;o--){var r=o*n;c[o].style.webkitTransform="translateY(-".concat(r,"px)"),c[o].style.MozTransform="translateY(-".concat(r,"px)"),c[o].style.msTransform="translateY(-".concat(r,"px)"),c[o].style.OTransform="translateY(-".concat(r,"px)"),c[o].style.transform="translateY(-".concat(r,"px)"),u()&&(c[o].style.bottom="".concat(r,"px"))}var a=t.querySelector(".determinate");a&&(a.style.width="0",a.style.webkitTransitionDuration="0ms",a.style.MozTransitionDuration="0ms",a.style.msTransitionDuration="0ms",a.style.OTransitionDuration="0ms",a.style.transitionDuration="0ms"),t.off(i.event.transitionEnd,l,!1),"true"===t.getAttribute("data-autodestroy")&&s.setTimeout(function(){document.body.removeChild(t)},500)}function f(t,n,e,o){"string"!=typeof t&&(t=""),n="number"==typeof n?n:5e3,o="string"==typeof o?o:"CANCEL";var r=!0===e?'<button class="btn pull-right" data-hide-notif="true">'.concat(o,"</button>"):"",a=document.createElement("div");return a.setAttribute("class","notification"),a.setAttribute("data-autodestroy","true"),n&&a.setAttribute("data-timeout",n),a.id=function(){for(var t="",n="abcdefghijklmnopqrstuvwxyz",e=0;e<8;e++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}(),a.innerHTML='<div class="progress"><div class="determinate"></div></div>'+r+t,document.body.appendChild(a),document.querySelector("#".concat(a.id))}function u(){var t=parseFloat(i.device.osVersion);return i.device.os===i.device.ANDROID&&!isNaN(t)&&t<4.4}function m(t){if(t.classList.contains("show"))return!1;s.setTimeout(function(){t.classList.add("show")},10),t.style.zIndex=28+c.length;var n=0;if(0<c.length){var e=c[c.length-1];n=c.length*e.clientHeight}t.style.webkitTransform="translateY(-".concat(n,"px)"),t.style.MozTransform="translateY(-".concat(n,"px)"),t.style.msTransform="translateY(-".concat(n,"px)"),t.style.OTransform="translateY(-".concat(n,"px)"),t.style.transform="translateY(-".concat(n,"px)"),u()&&(t.style.bottom="".concat(n,"px")),c.push(t);var o=document.querySelector(".app-active .floating-action");o&&(o.style.webkitTransform="translateY(-48px)",o.style.MozTransform="translateY(-48px)",o.style.msTransform="translateY(-48px)",o.style.OTransform="translateY(-48px)",o.style.transform="translateY(-48px)"),t.on(i.event.transitionEnd,r,!1)}function y(t){if(t.classList.contains("show")){t.classList.remove("show"),t.on(i.event.transitionEnd,l,!1);var n=document.querySelector(".app-active .floating-action");n&&(n.style.webkitTransform="translateY(0)",n.style.MozTransform="translateY(0)",n.style.msTransform="translateY(0)",n.style.OTransform="translateY(0)",n.style.transform="translateY(0)")}}function d(t,n){if("string"!=typeof n)throw new Error("color must be a string, ".concat(_typeof(n)," given"));t.classList.add(n);var e=t.querySelector(".progress");e&&e.classList.add(n)}document.on("tap",function(t){var n=t.target;if("true"===n.getAttribute("data-hide-notif")){var e=function(t){for(;t&&t!==document;t=t.parentNode)if(t.classList.contains("notification"))return t}(n);e&&y(e)}}),i.notif=function(t,n,e,o){if(1<arguments.length){var r=f(t,n,e,o);return m(r),{element:r,setColor:function(t){d(r,t)}}}var a="string"==typeof t?document.querySelector(t):t;if(null===a)throw new Error("The notification with ID ".concat(t," does not exist"));return{element:a,show:function(){return m(a),this},hide:function(){return y(a),this},setColor:function(t){return d(a,t),this}}},s.phonon=i,"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=i.notif:"function"==typeof define&&define.amd&&define(function(){return i.notif})}("undefined"!=typeof window?window:void 0,window.phonon||{});