"use strict";(function(a,f){var s=null,e=e||function(e){var t,p={element:null,dragger:null,disable:"none",addBodyClasses:!0,hyperextensible:!0,resistance:.5,flickThreshold:50,transitionSpeed:.3,easing:"ease",maxPosition:266,minPosition:-266,tapToClose:!0,touchToDrag:!0,slideIntent:40,minDragDistance:5},g={simpleStates:{opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},n={},u={hasTouch:"ontouchstart"in f.documentElement||a.navigator.msPointerEnabled,eventType:function(e){return{down:u.hasTouch?"touchstart":"mousedown",move:u.hasTouch?"touchmove":"mousemove",up:u.hasTouch?"touchend":"mouseup",out:u.hasTouch?"touchcancel":"mouseout"}[e]},page:function(e,t){return u.hasTouch&&t.touches.length&&t.touches[0]?t.touches[0]["page".concat(e)]:t["page".concat(e)]},klass:{has:function(e,t){return-1!==e.className.indexOf(t)},add:function(e,t){!u.klass.has(e,t)&&p.addBodyClasses&&(e.className+=" ".concat(t))},remove:function(e,t){p.addBodyClasses&&(e.className=e.className.replace(t,"").replace(/^\s+|\s+$/g,""))}},dispatchEvent:function(e){if("function"==typeof n[e])return n[e].call()},createBackdrop:function(){if(!s){var e=document.createElement("div");e.classList.add("backdrop-panel"),e.classList.add("backdrop-side-panel"),s=e,document.body.appendChild(s)}},removeBackdrop:function(){if(s){s.classList.add("fadeout"),s.on(phonon.event.transitionEnd,function e(){s&&(s.classList.remove("fadeout"),document.body.removeChild(s),s.off(phonon.event.transitionEnd,e),s=null)})}},vendor:function(){var e,t=f.createElement("div"),n="webkit Moz O ms".split(" ");for(e in n)if(void 0!==t.style["".concat(n[e],"Transition")])return n[e]},transitionCallback:function(){return"Moz"===g.vendor||"ms"===g.vendor?"transitionend":"".concat(g.vendor,"TransitionEnd")},canTransform:function(){return void 0!==p.element.style["".concat(g.vendor,"Transform")]},deepExtend:function(e,t){var n;for(n in t)t[n]&&t[n].constructor&&t[n].constructor===Object?(e[n]=e[n]||{},u.deepExtend(e[n],t[n])):e[n]=t[n];return e},angleOfDrag:function(e,t){var n,a;return(a=Math.atan2(-(g.startDragY-t),g.startDragX-e))<0&&(a+=2*Math.PI),(n=Math.floor(a*(180/Math.PI)-180))<0&&-180<n&&(n=360-Math.abs(n)),Math.abs(n)},events:{addEvent:function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on".concat(t),n):void 0},removeEvent:function(e,t,n){return e.addEventListener?e.removeEventListener(t,n,!1):e.attachEvent?e.detachEvent("on".concat(t),n):void 0},prevent:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}},parentUntil:function(e,t){for(var n="string"==typeof t;e.parentNode;){if(n&&e.getAttribute&&e.getAttribute(t))return e;if(!n&&e===t)return e;e=e.parentNode}return null}},h={translate:{get:{matrix:function(e){if(!u.canTransform())return parseInt(p.element.style.left,10);var t=a.getComputedStyle(p.element)["".concat(g.vendor,"Transform")].match(/\((.*)\)/);return t?(t=t[1].split(","),16===t.length&&(e+=8),parseInt(t[e],10)):0}},easeCallback:function(){p.element.style["".concat(g.vendor,"Transition")]="",g.translation=h.translate.get.matrix(4),g.easing=!1,clearInterval(g.animatingInterval),0===g.easingTo&&(u.klass.remove(f.body,"snapjs-right"),u.klass.remove(f.body,"snapjs-left")),u.dispatchEvent("animated"),u.events.removeEvent(p.element,u.transitionCallback(),h.translate.easeCallback)},easeTo:function(e){0===e&&u.removeBackdrop(),u.canTransform()?(g.easing=!0,g.easingTo=e,p.element.style["".concat(g.vendor,"Transition")]="all ".concat(p.transitionSpeed,"s ").concat(p.easing),g.animatingInterval=setInterval(function(){u.dispatchEvent("animating")},1),u.events.addEvent(p.element,u.transitionCallback(),h.translate.easeCallback)):g.translation=e,h.translate.x(e),0===e&&(p.element.style["".concat(g.vendor,"Transform")]="")},x:function(e){if(!("left"===p.disable&&0<e||"right"===p.disable&&e<0))if(p.hyperextensible||(e===p.maxPosition||e>p.maxPosition?e=p.maxPosition:(e===p.minPosition||e<p.minPosition)&&(e=p.minPosition)),e=parseInt(e,10),isNaN(e)&&(e=0),u.canTransform()){var t="translate3d(".concat(e,"px, 0,0)");p.element.style["".concat(g.vendor,"Transform")]=t}else p.element.style.width="".concat(a.innerWidth||f.documentElement.clientWidth,"px"),p.element.style.left="".concat(e,"px"),p.element.style.right=""}},drag:{listen:function(){g.translation=0,g.easing=!1,u.events.addEvent(p.element,u.eventType("down"),h.drag.startDrag),u.events.addEvent(p.element,u.eventType("move"),h.drag.dragging),u.events.addEvent(p.element,u.eventType("up"),h.drag.endDrag)},stopListening:function(){u.events.removeEvent(p.element,u.eventType("down"),h.drag.startDrag),u.events.removeEvent(p.element,u.eventType("move"),h.drag.dragging),u.events.removeEvent(p.element,u.eventType("up"),h.drag.endDrag)},startDrag:function(e){var t=e.target?e.target:e.srcElement;if(u.parentUntil(t,"data-snap-ignore"))u.dispatchEvent("ignore");else{if(p.dragger)if(!u.parentUntil(t,p.dragger)&&g.translation!==p.minPosition&&g.translation!==p.maxPosition)return;u.dispatchEvent("start"),p.element.style["".concat(g.vendor,"Transition")]="",g.isDragging=!0,g.hasIntent=null,g.intentChecked=!1,g.startDragX=u.page("X",e),g.startDragY=u.page("Y",e),g.dragWatchers={current:0,last:0,hold:0,state:""},g.simpleStates={opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}}},dragging:function(e){if(g.isDragging&&p.touchToDrag){var t=u.page("X",e),n=u.page("Y",e),a=g.translation,s=h.translate.get.matrix(4),i=t-g.startDragX,r=0<s,o=i;if(g.intentChecked&&!g.hasIntent)return;if(p.addBodyClasses&&(0<s?(u.klass.add(f.body,"snapjs-left"),u.klass.remove(f.body,"snapjs-right")):s<0&&(u.klass.add(f.body,"snapjs-right"),u.klass.remove(f.body,"snapjs-left"))),!1===g.hasIntent||null===g.hasIntent){var l=u.angleOfDrag(t,n),d=0<=l&&l<=p.slideIntent||l<=360&&l>360-p.slideIntent,c=180<=l&&l<=180+p.slideIntent||l<=180&&l>=180-p.slideIntent;g.hasIntent=c||d,g.intentChecked=!0}if(p.minDragDistance>=Math.abs(t-g.startDragX)||!1===g.hasIntent)return;u.events.prevent(e),u.dispatchEvent("drag"),g.dragWatchers.current=t,g.dragWatchers.last>t?("left"!==g.dragWatchers.state&&(g.dragWatchers.state="left",g.dragWatchers.hold=t),g.dragWatchers.last=t):g.dragWatchers.last<t&&("right"!==g.dragWatchers.state&&(g.dragWatchers.state="right",g.dragWatchers.hold=t),g.dragWatchers.last=t),r?(p.maxPosition<s&&(o=i-(s-p.maxPosition)*p.resistance),g.simpleStates={opening:"left",towards:g.dragWatchers.state,hyperExtending:p.maxPosition<s,halfway:s>p.maxPosition/2,flick:Math.abs(g.dragWatchers.current-g.dragWatchers.hold)>p.flickThreshold,translation:{absolute:s,relative:i,sinceDirectionChange:g.dragWatchers.current-g.dragWatchers.hold,percentage:s/p.maxPosition*100}}):(p.minPosition>s&&(o=i-(s-p.minPosition)*p.resistance),g.simpleStates={opening:"right",towards:g.dragWatchers.state,hyperExtending:p.minPosition>s,halfway:s<p.minPosition/2,flick:Math.abs(g.dragWatchers.current-g.dragWatchers.hold)>p.flickThreshold,translation:{absolute:s,relative:i,sinceDirectionChange:g.dragWatchers.current-g.dragWatchers.hold,percentage:s/p.minPosition*100}}),h.translate.x(o+a)}5<o&&u.createBackdrop()},endDrag:function(e){if(g.isDragging){u.dispatchEvent("end");var t=h.translate.get.matrix(4);if(0===g.dragWatchers.current&&0!==t&&p.tapToClose)return u.dispatchEvent("close"),u.events.prevent(e),h.translate.easeTo(0),g.isDragging=!1,void(g.startDragX=0);"left"===g.simpleStates.opening?g.simpleStates.halfway||g.simpleStates.hyperExtending||g.simpleStates.flick?g.simpleStates.flick&&"left"===g.simpleStates.towards?h.translate.easeTo(0):(g.simpleStates.flick&&"right"===g.simpleStates.towards||g.simpleStates.halfway||g.simpleStates.hyperExtending)&&h.translate.easeTo(p.maxPosition):h.translate.easeTo(0):"right"===g.simpleStates.opening&&(g.simpleStates.halfway||g.simpleStates.hyperExtending||g.simpleStates.flick?g.simpleStates.flick&&"right"===g.simpleStates.towards?h.translate.easeTo(0):(g.simpleStates.flick&&"left"===g.simpleStates.towards||g.simpleStates.halfway||g.simpleStates.hyperExtending)&&h.translate.easeTo(p.minPosition):h.translate.easeTo(0)),g.isDragging=!1,g.startDragX=u.page("X",e)}}}};this.open=function(e){u.createBackdrop(),u.dispatchEvent("open"),u.klass.remove(f.body,"snapjs-expand-left"),u.klass.remove(f.body,"snapjs-expand-right"),"left"===e?(g.simpleStates.opening="left",g.simpleStates.towards="right",u.klass.add(f.body,"snapjs-left"),u.klass.remove(f.body,"snapjs-right"),h.translate.easeTo(p.maxPosition)):"right"===e&&(g.simpleStates.opening="right",g.simpleStates.towards="left",u.klass.remove(f.body,"snapjs-left"),u.klass.add(f.body,"snapjs-right"),h.translate.easeTo(p.minPosition))},this.close=function(){u.dispatchEvent("close"),h.translate.easeTo(0)},this.expand=function(e){var t=a.innerWidth||f.documentElement.clientWidth;"left"===e?(u.dispatchEvent("expandLeft"),u.klass.add(f.body,"snapjs-expand-left"),u.klass.remove(f.body,"snapjs-expand-right")):(u.dispatchEvent("expandRight"),u.klass.add(f.body,"snapjs-expand-right"),u.klass.remove(f.body,"snapjs-expand-left"),t*=-1),h.translate.easeTo(t)},this.on=function(e,t){return n[e]=t,this},this.off=function(e){n[e]&&(n[e]=!1)},this.enable=function(){u.dispatchEvent("enable"),h.drag.listen()},this.disable=function(){u.dispatchEvent("disable"),h.drag.stopListening()},this.settings=function(e){u.deepExtend(p,e)},this.state=function(){var e=h.translate.get.matrix(4);return{state:e===p.maxPosition?"left":e===p.minPosition?"right":"closed",info:g.simpleStates}},(t=e).element&&(u.deepExtend(p,t),g.vendor=u.vendor(),h.drag.listen())};"undefined"!=typeof module&&module.exports&&(module.exports=e),"function"==typeof define&&define.amd&&define("snap",[],function(){return e}),a&&(a.Snap=e)}).call(void 0,window,document),function(e,l,m){var d=!matchMedia("only screen and (min-width: 641px)").matches,v=[],r=null;function o(e){for(var t=v.length-1;0<=t;t--)if(v[t].el.id===e)return v[t];return null}function t(e){for(var t=void 0!==e?e.detail.page:l.navigator().currentPage,n=document.querySelector(t),a=n.querySelector('[data-tab-contents="true"]'),s=v.length-1;0<=s;s--){var i=v[s],r=i.el.getAttribute("data-expose-aside");if(-1===i.pages.indexOf(t))i.el.style.display="none",i.el.style.visibility="hidden";else{var o=0<=i.nodrag.indexOf(t);i.snapper.settings({element:n}),i.el.style.display="block",i.el.style.visibility="visible",a&&v[s].snapper.disable(),"left"!==r&&"right"!==r||n.classList.contains("expose-aside-".concat(r))||n.classList.add("expose-aside-".concat(r)),d||(a||"left"===r||"right"===r?(i.snapper.settings({touchToDrag:!1}),i.snapper.disable()):(i.snapper.settings({touchToDrag:!o}),i.snapper.enable())),!a&&d&&(i.snapper.settings({touchToDrag:!o}),i.snapper.enable())}}}function c(e){(r=e).snapper.open(e.direction),document.on(l.event.end,n)}function p(e){e.snapper.close(),r=null,document.off(l.event.end,n)}l.onReady(function(){for(var e=document.querySelectorAll(".side-panel"),t=e.length-1;0<=t;t--){for(var n=e[t],a=n.getAttribute("data-disable"),s=n.getAttribute("data-page"),i=n.getAttribute("data-nodrag"),r=[],o=s.split(","),l=0,d=o.length;l<d;l++){var c=o[l].trim();if(0==l)(u=document.querySelector(c))||console.error("SidePanel issue: The page: ".concat(c," does not exist. Please see data-page attribute."));r.push(c)}var p=[],g=[];i&&(g=i.split(","));for(l=0,d=g.length;l<d;l++){var u;c=g[l].trim();if(0==l)(u=document.querySelector(c))?-1===r.indexOf(c)&&console.error("SidePanel issue: The page: ".concat(c," is not panel enabled. Please see data-page attribute.")):console.error("SidePanel issue: The page: ".concat(c," does not exist. Please see data-page attribute."));p.push(c)}var h={element:u,disable:null===a?"none":a,hyperextensible:!1,touchToDrag:!1,maxPosition:n.clientWidth,minPosition:-n.clientWidth},f=new m(h);v.push({snapper:f,el:n,pages:r,nodrag:p,direction:n.classList.contains("side-panel-left")?"left":"right"})}}),document.on(l.event.tap,function(e){var t=e.target,n=t.getAttribute("data-side-panel-id");if("true"!==t.getAttribute("data-side-panel-close")){if(null!==n&&(i=o(n))){var a=i.snapper.state(),s=i.el.getAttribute("data-expose-aside");"closed"===a.state?("left"!==s&&"right"!==s||d)&&c(i):("left"!==s&&"right"!==s||d)&&p(i)}}else if(r)p(r);else if(null!==n){var i;(i=o(n))&&p(i)}});var n=function(e){var t=e.target,n=!1;if(null!==r){for(;t&&t!==document;t=t.parentNode)if(t.classList.contains("side-panel")){n=!0;break}r&&!n&&(p(r),r=null)}};l.sidePanel=function(e){var t=o(e=e.replace("#",""));if(null===t)throw new Error("The side panel with id [".concat(e,"] does not exists"));return{open:function(){return c(t)},close:function(){return p(t)},isShown:function(){return function(e){return"closed"!==e.snapper.state().state}(t)}}},l.sidePanelUtil={closeActive:function(){for(var e=l.navigator().currentPage,t=v.length-1;0<=t;t--){var n=v[t],a=n.el.getAttribute("data-expose-aside");if(-1!==n.pages.indexOf(e)){if("closed"!==n.snapper.state().state){if(d)return p(n),!0;if(!d&&"left"!==a&&"right"!==a)return p(n),!0}return!1}}return!1}},e.on("resize",function(){d!==(d=!matchMedia("only screen and (min-width: 641px)").matches)&&(e.setTimeout(function(){for(var e=v.length-1;0<=e;e--){var t=v[e];t.snapper.settings({maxPosition:t.el.clientWidth,minPosition:-t.el.clientWidth})}},500),t())}),document.on("pageopened",t)}("undefined"!=typeof window?window:void 0,window.phonon||{},window.Snap||void 0);