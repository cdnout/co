!function(i){"use strict";function n(i){Gumby.debug("Initializing Navbar",i),this.$el=i,this.$dropDowns=this.$el.find("li:has(.dropdown)");var n=this,t=this.$el.attr("gumby-persist");"undefined"==typeof t&&"false"!==t&&this.$el.find("li:not(:has(.dropdown)) a").on(Gumby.click,function(){n.$el.find("ul").removeClass("active")}),this.$dropDowns.on(Gumby.click,this.toggleDropdown).on("swiperight",this.openLink),"#"!==this.$dropDowns.children("a").attr("href")&&this.$dropDowns.children("a").append('<i class="icon-popup"></i>').children("i").on(Gumby.click,this.openLink),this.$el.find("li:not(:has(.dropdown)) a[href]").on(Gumby.click,this.openLink)}Gumby.gumbyTouch&&(n.prototype.toggleDropdown=function(n){if(n.preventDefault(),i(this).parents(".dropdown")&&n.stopImmediatePropagation(),!i(n.target).is("i")){var t=i(this);t.hasClass("active")?t.removeClass("active"):t.addClass("active")}},n.prototype.openLink=function(n){n.preventDefault();var t,a=i(this),o=a;a.is("i")?o=a.parent("a"):a.is("li")&&(o=a.children("a")),t=o.attr("href"),"blank"==o.attr("target")?window.open(t):window.location=t},Gumby.addInitalisation("navbar",function(){i(".navbar").each(function(){var t=i(this);return t.data("isNavbar")?!0:(t.data("isNavbar",!0),void new n(t))})}),Gumby.UIModule({module:"navbar",events:[],init:function(){Gumby.initialize("navbar")}}))}(jQuery);