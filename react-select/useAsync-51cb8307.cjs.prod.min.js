"use strict";var _defineProperty=require("@babel/runtime/helpers/defineProperty"),index=require("./index-3bd648d9.cjs.prod.js"),_slicedToArray=require("@babel/runtime/helpers/slicedToArray"),_objectWithoutProperties=require("@babel/runtime/helpers/objectWithoutProperties"),React=require("react");function _interopDefault(e){return e&&e.__esModule?e:{default:e}}var _defineProperty__default=_interopDefault(_defineProperty),_slicedToArray__default=_interopDefault(_slicedToArray),_objectWithoutProperties__default=_interopDefault(_objectWithoutProperties),_excluded=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];function useAsync(e){var t=e.defaultOptions,r=void 0!==t&&t,t=e.cacheOptions,i=void 0!==t&&t,a=e.loadOptions,t=(e.options,e.isLoading),t=void 0!==t&&t,u=e.onInputChange,o=e.filterOption,o=void 0===o?null:o,e=_objectWithoutProperties__default.default(e,_excluded),n=e.inputValue,d=React.useRef(void 0),c=React.useRef(!1),l=React.useState(Array.isArray(r)?r:void 0),l=_slicedToArray__default.default(l,2),s=l[0],f=l[1],l=React.useState(void 0!==n?n:""),n=_slicedToArray__default.default(l,2),_=n[0],p=n[1],l=React.useState(!0===r),n=_slicedToArray__default.default(l,2),l=n[0],y=n[1],n=React.useState(void 0),n=_slicedToArray__default.default(n,2),A=n[0],b=n[1],n=React.useState([]),n=_slicedToArray__default.default(n,2),v=n[0],R=n[1],n=React.useState(!1),n=_slicedToArray__default.default(n,2),h=n[0],S=n[1],n=React.useState({}),n=_slicedToArray__default.default(n,2),T=n[0],j=n[1],n=React.useState(void 0),n=_slicedToArray__default.default(n,2),x=n[0],n=n[1],P=React.useState(void 0),P=_slicedToArray__default.default(P,2),O=P[0],P=P[1],g=(i!==O&&(j({}),P(i)),r!==x&&(f(Array.isArray(r)?r:void 0),n(r)),React.useEffect(function(){return c.current=!0,function(){c.current=!1}},[]),React.useCallback(function(e,t){if(!a)return t();e=a(e,t);e&&"function"==typeof e.then&&e.then(t,function(){return t()})},[a])),O=(React.useEffect(function(){!0===r&&g(_,function(e){c.current&&(f(e||[]),y(!!d.current))})},[]),React.useCallback(function(e,t){var r,a=index.handleInputChange(e,t,u);if(!a)return d.current=void 0,p(""),b(""),R([]),y(!1),void S(!1);i&&T[a]?(p(a),b(a),R(T[a]),y(!1),S(!1)):(r=d.current={},p(a),y(!0),S(!A),g(a,function(e){c&&r===d.current&&(d.current=void 0,y(!1),b(a),R(e||[]),S(!1),j(e?index._objectSpread2(index._objectSpread2({},T),{},_defineProperty__default.default({},a,e)):T))}))},[i,g,A,T,u])),P=h?[]:_&&A?v:s||[];return index._objectSpread2(index._objectSpread2({},e),{},{options:P,isLoading:l||t,onInputChange:O,filterOption:o})}exports.useAsync=useAsync;