!function(u){var f,h,n,b=u(window),a={},g=[],v=[],m=null,d="_open",y="_close",k=[],w=null,r=/(iPad|iPhone|iPod)/.test(navigator.userAgent),_={_init:function(t){var e=u(t),o=e.data("popupoptions");v[t.id]=!1,g[t.id]=0,e.data("popup-initialized")||(e.attr("data-popup-initialized","true"),_._initonce(t)),o.autoopen&&setTimeout(function(){_.show(t,0)},0)},_initonce:function(o){var t,e,i,n=u(o),a=u("body"),s=n.data("popupoptions");m=parseInt(a.css("margin-right"),10),w=void 0!==document.body.style.webkitTransition||void 0!==document.body.style.MozTransition||void 0!==document.body.style.msTransition||void 0!==document.body.style.OTransition||void 0!==document.body.style.transition,!s.scrolllock||void 0===f&&(i=(e=u('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body")).children(),f=i.innerWidth()-i.height(99).innerWidth(),e.remove());if(n.attr("id")||n.attr("id","j-popup-"+parseInt(1e8*Math.random(),10)),n.addClass("popup_content"),s.background&&!u("#"+o.id+"_background").length){a.append('<div id="'+o.id+'_background" class="popup_background"></div>');var p=u("#"+o.id+"_background");p.css({opacity:0,visibility:"hidden",backgroundColor:s.color,position:"fixed",top:0,right:0,bottom:0,left:0}),s.setzindex&&!s.autozindex&&p.css("z-index","100000"),s.transition&&p.css("transition",s.transition)}a.append(o),n.wrap('<div id="'+o.id+'_wrapper" class="popup_wrapper" />'),(t=u("#"+o.id+"_wrapper")).css({opacity:0,visibility:"hidden",position:"absolute"}),r&&((p=u("#"+o.id+"_background")).css("cursor","pointer"),u(s.pagecontainer).css("cursor","pointer")),"overlay"==s.type&&!s.absolute&&s.background&&(t.css("overflow","auto"),t[0].style.WebkitOverflowScrolling="touch"),n.css({opacity:0,visibility:"hidden","pointer-events":"auto",display:"inline-block"}),s.setzindex&&!s.autozindex&&t.css("z-index","100001"),s.outline||n.css("outline","none"),s.transition&&(n.css("transition",s.transition),t.css("transition",s.transition)),n.attr("aria-hidden",!0),"overlay"==s.type&&(n.css({textAlign:"left",position:"relative",verticalAlign:"middle"}),t.css({position:"fixed",width:"100%",height:"100%",top:0,left:0,textAlign:"center"}),t.append('<div class="popup_align" />'),u(".popup_align").css({display:"inline-block",verticalAlign:"middle",height:"100%"})),n.attr("role","dialog");var l=s.openelement?s.openelement:"."+o.id+d;u(l).each(function(t,e){u(e).attr("data-popup-ordinal",t),e.id||u(e).attr("id","open_"+parseInt(1e8*Math.random(),10))}),n.attr("aria-labelledby")||n.attr("aria-label")||n.attr("aria-labelledby",u(l).attr("id")),"hover"==s.action?(s.keepfocus=!1,u(l).on("mouseenter",function(){_.show(o,u(this).data("popup-ordinal"))}),u(l).on("mouseleave",function(){_.hide(o)})):u(document).on("click.jqp",l,function(t){t.preventDefault();var e=u(this).data("popup-ordinal");setTimeout(function(){_.show(o,e)},0)}),s.closebutton&&_.addclosebutton(o),s.detach?n.detach():n.hide()},show:function(t,e){var o=u(t);if(!o.data("popup-visible")){o.data("popup-initialized")||_._init(t),o.attr("data-popup-initialized","true");var i=u("body"),n=o.data("popupoptions"),a=u("#"+t.id+"_wrapper"),s=u("#"+t.id+"_background");if(x(t,e,n.beforeopen),v[t.id]=e,setTimeout(function(){k.push(t.id)},0),n.autozindex){for(var p=document.getElementsByTagName("*"),l=p.length,d=0,r=0;r<l;r++){var c=u(p[r]).css("z-index");"auto"!==c&&d<(c=parseInt(c,10))&&(d=c)}g[t.id]=d,n.background&&0<=g[t.id]&&u("#"+t.id+"_background").css({zIndex:g[t.id]+1}),0<=g[t.id]&&a.css({zIndex:g[t.id]+2})}n.detach&&a.prepend(t),o.show(),h=setTimeout(function(){a.css({visibility:"visible",opacity:1}),u("html").addClass("popup_visible").addClass("popup_visible_"+t.id),a.addClass("popup_wrapper_visible")},20),n.scrolllock&&(i.css("overflow","hidden"),i.height()>b.height()&&i.css("margin-right",m+f)),o.css({visibility:"visible",opacity:1}),n.background&&(s.css({visibility:"visible",opacity:n.opacity}),setTimeout(function(){s.css({opacity:n.opacity})},0)),o.data("popup-visible",!0),_.reposition(t,e),o.data("focusedelementbeforepopup",document.activeElement),o.attr("tabindex",-1),setTimeout(function(){"closebutton"===n.focuselement?u("#"+t.id+" ."+t.id+y+":first").focus():n.focuselement?u(n.focuselement).focus():!0!==n.focuselement&&!n.keepfocus||o.focus()},n.focusdelay),n.keepfocus&&u(n.pagecontainer).attr("aria-hidden",!0),o.attr("aria-hidden",!1),x(t,e,n.onopen),w?a.one("transitionend",function(){x(t,e,n.opentransitionend)}):x(t,e,n.opentransitionend),"tooltip"==n.type&&u(window).on("resize."+t.id,function(){_.reposition(t,e)})}},hide:function(t,e){var o=u.inArray(t.id,k);if(-1!==o){h&&clearTimeout(h);var i=u("body"),n=u(t),a=n.data("popupoptions"),s=u("#"+t.id+"_wrapper"),p=u("#"+t.id+"_background");n.data("popup-visible",!1),1===k.length?u("html").removeClass("popup_visible").removeClass("popup_visible_"+t.id):u("html").hasClass("popup_visible_"+t.id)&&u("html").removeClass("popup_visible_"+t.id),k.splice(o,1),s.hasClass("popup_wrapper_visible")&&s.removeClass("popup_wrapper_visible"),a.keepfocus&&!e&&setTimeout(function(){u(n.data("focusedelementbeforepopup")).is(":visible")&&n.data("focusedelementbeforepopup").focus()},0),s.css({visibility:"hidden",opacity:0}),n.css({visibility:"hidden",opacity:0}),a.background&&p.css({visibility:"hidden",opacity:0}),u(a.pagecontainer).attr("aria-hidden",!1),n.attr("aria-hidden",!0),x(t,v[t.id],a.onclose),w&&"0s"!==n.css("transition-duration")?n.one("transitionend",function(){n.data("popup-visible")||(a.detach?n.detach():n.hide()),a.scrolllock&&setTimeout(function(){u.grep(k,function(t){return u("#"+t).data("popupoptions").scrolllock}).length||i.css({overflow:"visible","margin-right":m})},10),x(t,v[t.id],a.closetransitionend)}):(a.detach?n.detach():n.hide(),a.scrolllock&&setTimeout(function(){u.grep(k,function(t){return u("#"+t).data("popupoptions").scrolllock}).length||i.css({overflow:"visible","margin-right":m})},10),x(t,v[t.id],a.closetransitionend)),"tooltip"==a.type&&u(window).off("resize."+t.id)}},toggle:function(t,e){u(t).data("popup-visible")?_.hide(t):setTimeout(function(){_.show(t,e)},0)},reposition:function(t,e){var o=u(t),i=o.data("popupoptions"),n=u("#"+t.id+"_wrapper");if(e=e||0,"tooltip"==i.type){var a;n.css({position:"absolute"});var s=(a=i.tooltipanchor?u(i.tooltipanchor):i.openelement?u(i.openelement).filter('[data-popup-ordinal="'+e+'"]'):u("."+t.id+d+'[data-popup-ordinal="'+e+'"]')).offset()||{left:0,top:0};"right"==i.horizontal?n.css("left",s.left+a.outerWidth()+i.offsetleft):"leftedge"==i.horizontal?n.css("left",s.left+i.offsetleft):"left"==i.horizontal?n.css("right",b.width()-s.left-i.offsetleft):"rightedge"==i.horizontal?n.css("right",b.width()-s.left-a.outerWidth()-i.offsetleft):n.css("left",s.left+a.outerWidth()/2-o.outerWidth()/2-parseFloat(o.css("marginLeft"))+i.offsetleft),"bottom"==i.vertical?n.css("top",s.top+a.outerHeight()+i.offsettop):"bottomedge"==i.vertical?n.css("top",s.top+a.outerHeight()-o.outerHeight()+i.offsettop):"top"==i.vertical?n.css("bottom",b.height()-s.top-i.offsettop):"topedge"==i.vertical?n.css("bottom",b.height()-s.top-o.outerHeight()-i.offsettop):n.css("top",s.top+a.outerHeight()/2-o.outerHeight()/2-parseFloat(o.css("marginTop"))+i.offsettop)}else"overlay"==i.type&&(i.horizontal?n.css("text-align",i.horizontal):n.css("text-align","center"),i.vertical?o.css("vertical-align",i.vertical):o.css("vertical-align","middle"),i.absolute&&n.css({position:"absolute",top:window.scrollY}),i.background||(n.css({"pointer-events":"none"}),i.absolute||p(t)||(o.css("overflow","auto"),o[0].style.WebkitOverflowScrolling="touch",o.css("max-height","calc(100% - "+o.css("margin-top")+" - "+o.css("margin-bottom")+")"))))},addclosebutton:function(t){var e;e=u(t).data("popupoptions").closebuttonmarkup?u(a.closebuttonmarkup).addClass(t.id+"_close"):'<button class="popup_close '+t.id+'_close" title="Close" aria-label="Close"><span aria-hidden="true">Ã—</span></button>',u(t).data("popup-initialized")&&u(t).append(e)}},x=function(t,e,o){var i,n,a=u(t).data("popupoptions");void 0!==a&&(i=a.openelement?a.openelement:"."+t.id+d,n=u(i+'[data-popup-ordinal="'+e+'"]'),"function"==typeof o&&o.call(u(t),t,n))},p=function(t){var e=t.getBoundingClientRect();return 0<=e.top&&0<=e.left&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)};u(document).on("keydown",function(t){if(k.length){var e=k[k.length-1],o=document.getElementById(e);u(o).data("popupoptions").escape&&27==t.keyCode&&_.hide(o)}}),u(document).on("mousedown",function(t){n=t.target}),u(document).on("click",function(t){if(k.length){var e=k[k.length-1],o=document.getElementById(e),i=u(o).data("popupoptions").closeelement?u(o).data("popupoptions").closeelement:"."+o.id+y;u(t.target).closest(i).length&&(t.preventDefault(),_.hide(o)),u(o).data("popupoptions")&&u(o).data("popupoptions").blur&&!u(t.target).closest(u(o).data("popupoptions").blurignore).length&&!u(t.target).closest("#"+e).length&&!u(n).closest("#"+e).length&&2!==t.which&&u(t.target).is(":visible")&&(u(o).data("popupoptions").background?(_.hide(o),t.preventDefault()):_.hide(o,!0))}}),u(document).on("keydown",function(t){if(k.length&&9==t.which){var e=k[k.length-1],o=document.getElementById(e);if(!u(o).data("popupoptions").keepfocus)return;var i=u(o).find("*").filter("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(":visible"),n=u(":focus"),a=i.length,s=i.index(n);0===a?(u(o).focus(),t.preventDefault()):t.shiftKey?0===s&&(i.get(a-1).focus(),t.preventDefault()):s==a-1&&(i.get(0).focus(),t.preventDefault())}}),u.fn.popup=function(i){return this.each(function(){var t=u(this),e=u.extend(!0,{},u.fn.popup.defaults);if(i&&"tooltip"===i.type&&(e.background=!1),"object"==typeof i){var o=u.extend({},e,t.data("popupoptions"),i);t.data("popupoptions",o),a=t.data("popupoptions"),_._init(this)}else"string"==typeof i?(t.data("popupoptions")||(t.data("popupoptions",e),a=t.data("popupoptions")),_[i].call(this,this)):(t.data("popupoptions")||(t.data("popupoptions",e),a=t.data("popupoptions")),_._init(this))})},u.fn.popup.destroyall=function(){for(var t=0;t<k.length;t++)u("#"+k[t]).popup("hide");u(".popup_wrapper").remove(),u(".popup_background").remove(),u(document).off("click.jqp")},u.fn.popup.defaults={type:"overlay",absolute:!1,autoopen:!1,background:!0,color:"black",opacity:"0.5",horizontal:"center",vertical:"middle",offsettop:0,offsetleft:0,escape:!0,blur:!0,blurignore:null,setzindex:!0,autozindex:!1,scrolllock:!1,closebutton:!1,closebuttonmarkup:null,keepfocus:!0,focuselement:null,focusdelay:50,outline:!1,pagecontainer:null,detach:!1,openelement:null,closeelement:null,transition:null,tooltipanchor:null,beforeopen:null,onclose:null,onopen:null,opentransitionend:null,closetransitionend:null}}(jQuery);