/*!

Name: Instagram Lite
Dependencies: jQuery
Author: Michael Lynch
Author URL: http://michaelynch.com
Date Created: January 14, 2014
Licensed under the MIT license

*/
!function(t){t.fn.instagramLite=function(e){if(!this.length)return this;this.defaults={accessToken:null,user_id:"self",limit:null,list:!0,videos:!1,urls:!1,captions:!1,date:!1,likes:!1,comments_count:!1,error:function(){},success:function(){}};const s=t.extend({},this.defaults,e),i=t(this),o=function(t){let e=t.split(" "),s="";for(let t=0;t<e.length;t++){let i,o;s+=(i="@"==e[t][0]?o='<a href="http://instagram.com/'+e[t].replace("@","").toLowerCase()+'" target="_blank">'+e[t]+"</a>":"#"==e[t][0]?o='<a href="http://instagram.com/explore/tags/'+e[t].replace("#","").toLowerCase()+'" target="_blank">'+e[t]+"</a>":e[t])+" "}return s};!function(){if(s.accessToken){let e=`https://api.instagram.com/v1/users/${s.user_id}/media/recent/?access_token=${s.accessToken}&count=${s.limit}`;t.ajax({type:"GET",url:e,dataType:"jsonp",success:function(t){200===t.meta.code&&t.data.length?(function(t){for(let e=0;e<t.length;e++){const a=t[e];let n;if("image"===a.type||"carousel"===a.type||!s.videos){if(n=`<img class="il-photo__img" src="${a.images.standard_resolution.url}" alt="Instagram Image" data-filter="${a.filte}" />`,s.urls&&(n=`<a href="${a.link}" target="_blank">${n}</a>`),(s.captions||s.date||s.likes||s.comments_count)&&(n+='<div class="il-photo__meta">'),s.captions&&a.caption&&(n+=`<div class="il-photo__caption" data-caption-id="${a.caption.id}">${o(a.caption.text)}</div>`),s.date){let t=new Date(1e3*a.created_time);const e=t.getDate(),s=t.getMonth()+1,i=t.getFullYear();t.getHours(),t.getMinutes(),t.getSeconds(),n+=`<div class="il-photo__date">${t=`${s}/${e}/${i}`}</div>`}s.likes&&(n+=`<div class="il-photo__likes">${a.likes.count}</div>`),s.comments_count&&a.comments&&(n+=`<div class="il-photo__comments">${a.comments.count}</div>`),(s.captions||s.date||s.likes||s.comments_count)&&(n+="</div>")}if("video"===a.type&&s.videos&&a.videos){let t;a.videos.standard_resolution?t=a.videos.standard_resolution.url:a.videos.low_resolution?t=a.videos.low_resolution.url:a.videos.low_bandwidth&&(t=a.videos.low_bandwidth.url),n=`<video poster="${a.images.standard_resolution.url}" controls>`,n+=`<source src="${t}" type="video/mp4;"></source>`,n+="</video>"}s.list&&n&&(n=`<li class="il-item" data-instagram-id="${a.id}>${n}</li>`),""!==n&&i.append(n)}}(t.data),s.success.call(this,t)):s.error.call(this,t)},error:function(t){s.error.call(this,t)}})}}()}}(jQuery);
