(function(){var t;t=function(){function t(n){var e,i,r;null==n&&(n={}),n.__observable={lastIds:{},events:{},ids:[]},r=t.prototype;for(i in r)e=r[i],n[i]=e;return n}var n;return n={is:function(t,n){return Object.prototype.toString.call(n).match(/\s(\w+)/)[1].toLowerCase()===t},isPlainObject:function(t){return!!t&&n.is("object",t)},toArray:function(t){return n.is("array",t)?t:[t]}},t.prototype.on=function(t,e,i){var r,o,s,a,l,c;if(n.isPlainObject(t)){i=e;for(o in t)e=t[o],this.on(o,e,i)}else for(t=n.toArray(t),this.__observable.ids.length=0,l=0,c=t.length;l<c;l++)o=t[l],(s=this.__observable.lastIds)[o]||(s[o]=0),r=o+";"+ ++this.__observable.lastIds[o],i&&(r+=" once"),this.__observable.ids.push(r),(a=this.__observable.events)[o]||(a[o]={}),this.__observable.events[o][r]=e;return this},t.prototype.once=function(t,n){return this.on(t,n,!0)},t.prototype.off=function(t){var n,e,i,r,o;if(void 0===t)this.__observable.events={};else for(i=0,r=(o=t.__observable.ids).length;i<r;i++)e=(n=o[i]).substr(0,n.lastIndexOf(";")).split(" ")[0],t.__observable.events[e]&&delete t.__observable.events[e][n];return this},t.prototype.trigger=function(t,n){var e,i;null==n&&(n=[]),i=this.__observable.events[t];for(e in i)i[e].apply(null,n),e.lastIndexOf(" once")===e.length-1&&this.off(e);return this},t}(),"function"==typeof define&&define.amd?define("observable",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:window.Observable=t}).call(this),function(){var t,n=[].slice,e=[].indexOf||function(t){for(var n=0,e=this.length;n<e;n++)if(n in this&&this[n]===t)return n;return-1};t=function(t){return function(){function i(){}var r,o;return i.dict={},i.defaultlocal="en",i.chosenLocal=void 0,i.availableLocales=[],i.locales=[],i.dynamicBindings=!0,i.missingTranslations={},r=new t,i.__observable=r.__observable,i.on=r.on,i.once=r.once,i.off=r.off,i.trigger=r.trigger,i.utils={merge:function(t,n){var e,i,r;r=[];for(e in n)"object"==typeof(i=n[e])&&"object"==typeof t[e]?r.push(this.merge(t[e],i)):r.push(t[e]=i);return r},filter:function(t,n){var e,i,r,o;for(o=[],i=0,r=t.length;i<r;i++)n(e=t[i])&&o.push(e);return o},unique:function(t){var n,e,i,r,o,s;for(e={},r=0,o=t.length;r<o;r++)e[i=t[r]]=i;s=[];for(n in e)i=e[n],s.push(i);return s},getByDotNotation:function(t,n){var e;for(e=n.split(".");0!==e.length&&void 0!==t;)t=t[e[0]],e.shift();return t},isPlainObject:function(t){return!!t&&"[object Object]"===Object.prototype.toString.call(t)}},i.register=function(t,n){return t in this.dict||(this.dict[t]={},this.availableLocales.push(t)),this.utils.merge(this.dict[t],n),this.trigger("dict:change")},i.set=function(t){return this.chosenLocal=t,this.sortLocales()},i.setDefault=function(t){return this.defaultLocal=t,this.sortLocales()},i.detectLocal=function(){return navigator.userLanguage||navigator.language},i.similiarLocales=function(t){return t=String(t).slice(0,2).toLowerCase(),this.utils.filter(this.availableLocales,function(n){return t!==n&&0===n.toLowerCase().indexOf(t)})},i.sortLocales=function(){var t,i,r,o,s;for(i=[],r=0,o=(s=[this.chosenLocal].concat(n.call(this.similiarLocales(this.chosenLocal)),[this.detectLocal()],n.call(this.similiarLocales(this.detectLocal)),[this.defaultlocal],[this.similiarLocales(this.defaultlocal)],["en"],n.call(this.similiarLocales("en")))).length;r<o;r++)t=s[r],e.call(this.availableLocales,t)>=0&&i.push(t);return i.push.apply(i,this.availableLocales),this.locales=this.utils.unique(i),this.trigger("lang:change")},i.resolveBindings=function(t){return t=String(t),this.dynamicBindings?t.replace(/\$\{([^}]+)\}/g,function(t,n){return i.globalEval(n)}):t},i.interpolate=function(){var t,e;return e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],e=this.utils.isPlainObject(t[0])?e.replace(/%\{([^}]+)\}/g,function(n,e){return t[0][e]}):e.replace(/%(\d+)/g,function(n,e){return t[Number(e)-1]}),this.resolveBindings(e)},i.globalEval=function(t){return(window.execScript||function(t){return eval.call(window,t)})(t)},o=window.t,i.t=function(){var t,e,r,o,s,a,l;for(e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],o=void 0,s=0,a=(l=i.locales).length;s<a&&(r=l[s],!(o=i.utils.getByDotNotation(i.dict[r],e)));s++)r in i.missingTranslations||(i.missingTranslations[r]=[]),i.missingTranslations[r].push(e),i.missingTranslations[r]=i.utils.unique(i.missingTranslations[r]),i.trigger("missing-translation",[r,e]);return"string"==typeof o?o=i.interpolate.apply(i,[i.resolveBindings(o)].concat(n.call(t))):void 0!==o&&(o.plural=function(t){return(t=i.resolveBindings(t))in o?o[t]:i.interpolate(o.n,t)}),o},i.t.noConflict=function(){return window.t=o,i.t},window.t=i.t,i.on("dict:change",function(){return i.sortLocales()}),i}.call(this)},"function"==typeof define&&define.amd?define("x18n",["observable"],function(n){return t(n)}):window.x18n=t(Observable)}.call(this),function(){var t,n,e,i,r=[].slice;(t=jQuery).x18n={config:{key:"t",interpolation:"interpolation",plural:"plural"}},n=t.x18n.config,i=function(t,n){return t.is("input:submit, input:reset, input[type=button]")?t.val(n):t.is("input")?t.attr("placeholder",n):t.html(n)},e=function(t){var e;return e=this.x18n.tr.plural(t),i(this,e),this.attr("data-"+n.plural,t)},t.fn.t=function(){var o,s,a;return s=arguments[0],o=2<=arguments.length?r.call(arguments,1):[],a=x18n.t.apply(x18n,[s].concat(r.call(o))),this.attr("data-"+n.key,s),t.isPlainObject(a)?(this.x18n.tr=a,this.plural=e):(i(this,a),this.plural=function(){return this},this.attr("data-"+n.interpolation,JSON.stringify(o))),this},t.fn.x18n=function(){return t("[data-"+n.key+"]").each(function(){var e,o,s,a,l;return e=t(this),s=e.attr("data-"+n.key),o=JSON.parse(e.attr("data-"+n.interpolation)||"[]"),a=e.attr("data-"+n.plural),l=x18n.t.apply(x18n,[s].concat(r.call(o))),t.isPlainObject(l)&&(l=l.plural(a)),i(e,l)}),this},x18n.on(["lang:change","dict:change"],function(){return t("body").x18n()})}.call(this);