{"version":3,"sources":["ng-flatpickr-comp.min.js"],"names":["ngFlatpickr","template","controller","ngFlatpickrCtrl","transclude","bindings","ngModel","fpOpts","fpOnSetup","$element","$timeout","$scope","ctrl","this","grabElementAndRunFlatpickr","element","fpLib","flatpickr","FlatpickrInstance","console","warn","fpInstance","fpItem","setDate","angular","on","destroy","$applyAsync","setDatepicker","find","children","$onInit","placeholder","$onChanges","$inject","module","component"],"mappings":"CAAA,WACC,aAEA,IAAIA,EAAc,CACjBC,SAAU,uMAIVC,WAAYC,EACZC,YAAY,EACZC,SAAU,CACTC,QAAS,IACTC,OAAQ,IACRC,UAAW,MAIb,SAASL,EAAgBM,EAAUC,EAAUC,GAC5C,IAAIC,EAAOC,KAYX,SAASC,IACRJ,EAAS,YAQV,SAAuBK,GACtB,IAAIC,EAAQC,WAAwBC,kBAEpC,IAAKF,EACJ,OAAOG,QAAQC,KAAK,6CAGrB,IAAIC,EAAa,IAAIL,EAAMD,EAASH,EAAKL,QAErCK,EAAKJ,WACRI,EAAKJ,UAAU,CACdc,OAAQD,IAKNT,EAAKN,SACRe,EAAWE,QAAQX,EAAKN,SAIzBkB,QAAQT,QAAQA,GAASU,GAAG,WAAY,WACvCJ,EAAWK,YAIZf,EAAOgB,cA9BNC,CAHmBnB,EAASoB,KAAK,iBAAiB,GACvBC,SAAS,KAGlC,GAAG,GAhBPlB,EAAKmB,QAAU,WACdnB,EAAKL,OAAOyB,YAAcpB,EAAKL,OAAOyB,aAAe,gBAErDlB,KAGDF,EAAKqB,WAAa,WACjBnB,KA0CFX,EAAgB+B,QAAU,CAAC,WAAY,WAAY,UAEnDV,QACEW,OAAO,oBAAqB,IAC5BC,UAAU,cAAepC,GAzE5B","file":"ng-flatpickr-comp.min.js","sourcesContent":["(function() {\n\t'use strict';\n\n\tvar ngFlatpickr = {\n\t\ttemplate: '<ng-transclude>' +\n\t\t\t'<input type=\"text\" ng-if=\"!$ctrl.fpOpts.inline\" ng-model=\"$ctrl.ngModel\" placeholder=\"{{ $ctrl.fpOpts.placeholder }}\"></input>' +\n\t\t\t'<div ng-if=\"$ctrl.fpOpts.inline\"></div>' +\n\t\t'</ng-transclude>',\n\t\tcontroller: ngFlatpickrCtrl,\n\t\ttransclude: true,\n\t\tbindings: {\n\t\t\tngModel: '<',\n\t\t\tfpOpts: '<',\n\t\t\tfpOnSetup: '&'\n\t\t}\n\t};\n\n\tfunction ngFlatpickrCtrl($element, $timeout, $scope) {\n\t\tvar ctrl = this;\n\n\t\tctrl.$onInit = function() {\n\t\t\tctrl.fpOpts.placeholder = ctrl.fpOpts.placeholder || 'Select Date..';\n\n\t\t\tgrabElementAndRunFlatpickr();\n\t\t};\n\n\t\tctrl.$onChanges = function() {\n\t\t\tgrabElementAndRunFlatpickr();\n\t\t};\n\n\t\tfunction grabElementAndRunFlatpickr() {\n\t\t\t$timeout(function() {\n\t\t\t\tvar transcludeEl = $element.find('ng-transclude')[0];\n\t\t\t\tvar element = transcludeEl.children[0];\n\n\t\t\t\tsetDatepicker(element);\n\t\t\t}, 0, true);\n\t\t}\n\n\t\tfunction setDatepicker(element) {\n\t\t\tvar fpLib = flatpickr ? flatpickr : FlatpickrInstance;\n\n\t\t\tif (!fpLib) {\n\t\t\t\treturn console.warn('Unable to find any flatpickr installation');\n\t\t\t}\n\n\t\t\tvar fpInstance = new fpLib(element, ctrl.fpOpts);\n\n\t\t\tif (ctrl.fpOnSetup) {\n\t\t\t\tctrl.fpOnSetup({\n\t\t\t\t\tfpItem: fpInstance\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// If has ngModel set the date\n\t\t\tif (ctrl.ngModel) {\n\t\t\t\tfpInstance.setDate(ctrl.ngModel);\n\t\t\t}\n\n\t\t\t// destroy the flatpickr instance when the dom element is removed\n\t\t\tangular.element(element).on('$destroy', function() {\n\t\t\t\tfpInstance.destroy();\n\t\t\t});\n\n\t\t\t// Refresh the scope\n\t\t\t$scope.$applyAsync();\n\t\t}\n\t}\n\n\tngFlatpickrCtrl.$inject = ['$element', '$timeout', '$scope'];\n\n\tangular\n\t\t.module('angular-flatpickr', [])\n\t\t.component('ngFlatpickr', ngFlatpickr);\n})();\n"]}