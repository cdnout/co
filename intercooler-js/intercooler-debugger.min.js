$(function(){var d,r=$(window).data("ic-debug-panel");function o(t){return t&&0<t.length?$("<a style='border-bottom: 1px solid #d3d3d3'>&lt;"+t.prop("tagName").toLowerCase()+"&gt;"+(t.attr("ic-src")?" - "+t.attr("ic-src"):"")+"</a>").data("ic-debug-elt",t):$("<span>no element</span>")}function e(t){var e=o(t);e.clone(!0).css({display:"block"}).appendTo($("#ic-debug-Elements-list")),t.attr("ic-target")&&0==Intercooler.getTarget(t).length&&$("<div> - bad target selector:"+t.attr("ic-target")+"</div>").prepend(e.clone(!0)).appendTo($("#ic-debug-Errors")),t.attr("ic-indicator")&&0==$(t.attr("ic-indicator")).length&&$("<div> - bad indicator selector:"+t.attr("ic-indicator")+"</div>").prepend(e.clone(!0)).appendTo($("#ic-debug-Errors")),t.attr("ic-push-url")&&null==Intercooler.getTarget($(t)).attr("id")&&$("<div> - ic-push-url requires target to have id</div>").prepend(e.clone(!0)).appendTo($("#ic-debug-Errors"))}null==r?(r=$("<div id='ic-debug-panel' style='font-size: 14px;font-family: Arial;background:white;width:100%;height:200px;position:fixed;left:0;border-top:1px solid #d3d3d3;'>  <div style='padding:4px;width:100%;border-bottom: 1px solid #d3d3d3;background: #f5f5f5'><strong>intercooler.js debugger</strong>    <span style='float:right'><a>Hide</a> | <a>[x]</a></span>  </div>  <div style='padding:4px;width:100%;border-bottom: 1px solid #d3d3d3;'>    <a style='font-weight: bold'>Elements</a> | <a>Logs</a> | <a>Errors</a>  </div>  <div>    <div id='ic-debug-Elements'>      <div id='ic-debug-Elements-list' style='width:200px;float: left;height: 142px;overflow-y: scroll;'>      </div>      <div id='ic-debug-Elements-detail' style='height: 142px;overflow-y: scroll;'>      </div>    </div>    <div id='ic-debug-Logs' style='display:none;overflow-y: scroll;height: 142px'>    </div>    <div id='ic-debug-Errors' style='display:none;overflow-y: scroll;height: 142px'>    </div>  </div></div>").appendTo($("body")),$(window).data("ic-debug-panel",r),$("#ic-debug-panel").on("click","a",function(){if("Hide"==$(this).text())$("#ic-debug-panel").data("ic-minimized",!0),$(this).text("Show"),$(window).resize();else if("Show"==$(this).text())$("#ic-debug-panel").data("ic-minimized",!1),$(this).text("Hide"),$(window).resize();else if("[x]"==$(this).text())d&&d.css({border:""}),r.hide(),$("html").css("margin-bottom","0");else if(0<=["Elements","Logs","Errors"].indexOf($(this).text()))$(this).parent().find("a").css({"font-weight":"normal"}),$(this).css({"font-weight":"bold"}),$("#ic-debug-"+$(this).text()).parent().children().hide(),$("#ic-debug-"+$(this).text()).show();else if($(this).data("ic-debug-elt")){var t=$(this),e=t.data("ic-debug-elt"),i=Math.min(e.offset().top-75,300);$("html, body").animate({scrollTop:e.offset().top-75},i),d&&d.css({border:""}),(d=e).css({border:"2px solid red"}),"ic-debug-Elements-list"==t.parent().attr("id")&&$("#ic-debug-Elements-detail").html(function(t){var e=$("<div><div><strong>Details</strong></div><div><strong>URL: </strong>"+t.attr("ic-src")+"</div><div><strong>Verb: </strong>"+Intercooler.verbFor(t)+"</div>"+(t.attr("ic-trigger-on")?"<div><strong>Trigger: </strong>"+t.attr("ic-trigger-on")+"</div>":"")+"</div>");if(t.attr("ic-target")&&e.append($("<div><strong>Target: </strong></div>").append(o(Intercooler.getTarget(t)))),t.attr("ic-deps")&&e.append($("<div><strong>Dependencies: </strong></div>").append(t.attr("ic-deps"))),"GET"!=Intercooler.verbFor(t)){var i=$("<div><strong>Dependant Elements:</strong><ul style='list-style-position: inside;font-size:12px;'></ul></div>").appendTo(e).find("ul");$("[ic-src]").each(function(){"GET"==Intercooler.verbFor($(this))&&"ignore"!=$(this).attr("ic-deps")&&(Intercooler.isDependent(t.attr("ic-src"),$(this).attr("ic-src"))||Intercooler.isDependent(t.attr("ic-src"),$(this).attr("ic-deps"))||"*"==$(this).attr("ic-deps"))&&(null!=t&&t[0]==$(this)[0]||$("<li style='font-size:12px'></li>").append(o($(this))).appendTo(i))})}return e}(e))}}),$("[ic-src]").each(function(){e($(this))}),$(window).on("log.ic",function(t,e,i){$("<div style='border-bottom: 1px solid #d3d3d3'>] - "+e.replace(/</g,"&lt;")+"</div>").appendTo($("#ic-debug-Logs")).prepend(o($(t.target))).prepend(i+" [")}).on("elementAdded.ic",function(t){e($(t.target))}).on("nodesProcessed.ic",function(){$("#ic-debug-Elements-list").find("a").each(function(){$(this).data("ic-debug-elt")&&$.contains(document.body,$(this).data("ic-debug-elt")[0])||$(this).remove()})}).on("resize",function(){if(!r.is(":hidden")){var t=$(window).height()-(1==r.data("ic-minimized")?29:200);r.css("top",t+"px"),$("html").css("margin-bottom",(1==r.data("ic-minimized")?29:200)+"px")}})):r.show(),$(window).resize()});