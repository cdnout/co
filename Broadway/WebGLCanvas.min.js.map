{"version":3,"sources":["WebGLCanvas.js"],"names":["root","factory","define","amd","exports","module","WebGLCanvas","this","H264bsdCanvas","canvas","forceNoGL","contextOptions","canvasElement","initContextGL","contextGL","initProgram","initBuffers","initTextures","prototype","isWebGL","gl","validContextNames","nameIndex","length","contextName","getContext","e","getParameter","vertexShaderScript","join","fragmentShaderScript","vertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","console","log","getShaderInfoLog","fragmentShader","FRAGMENT_SHADER","program","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","useProgram","shaderProgram","vertexPosBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","vertexPosRef","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","texturePosBuffer","texturePosRef","yTextureRef","initTexture","ySamplerRef","getUniformLocation","uniform1i","uTextureRef","uSamplerRef","vTextureRef","vSamplerRef","textureRef","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MAG_FILTER","LINEAR","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","drawNextOutputPicture","width","height","croppingParams","data","drawNextOuptutPictureGL","drawNextOuptutPictureRGBA","viewport","tTop","top","tLeft","left","tBottom","tRight","texturePosValues","DYNAMIC_DRAW","i420Data","yDataLength","yData","subarray","activeTexture","TEXTURE0","texImage2D","LUMINANCE","UNSIGNED_BYTE","cbDataLength","cbData","TEXTURE1","crDataLength","crData","TEXTURE2","drawArrays","TRIANGLE_STRIP","argbData","ctx","imageData","getImageData","set","putImageData"],"mappings":"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","file":"WebGLCanvas.min.js"}