"use strict";function formatHostname(o){return o.replace(/^\.*/,".").toLowerCase()}function parseNoProxyZone(o){var r=(o=o.trim().toLowerCase()).split(":",2);return{hostname:formatHostname(r[0]),port:r[1],hasPort:-1<o.indexOf(":")}}function uriInNoProxy(o,r){var e=o.port||("https:"===o.protocol?"443":"80"),n=formatHostname(o.hostname);return r.split(",").map(parseNoProxyZone).some(function(o){var r=n.indexOf(o.hostname),t=-1<r&&r===n.length-o.hostname.length;return(!o.hasPort||e===o.port)&&t})}function getProxyFromURI(o){var r=process.env.NO_PROXY||process.env.no_proxy||"";return"*"===r||""!==r&&uriInNoProxy(o,r)?null:"http:"===o.protocol?process.env.HTTP_PROXY||process.env.http_proxy||null:"https:"===o.protocol&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null}module.exports=getProxyFromURI;