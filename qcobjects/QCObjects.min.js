!function(P){"use strict";function t(e){var t=void 0!==e.prototype?e.prototype.toString:function(){return""};void 0!==e.prototype&&(e.prototype.toString=function(){var e=["ComplexStorageCache","css","append","attachIn","debug","info","warn","QC_Append","set","get","done","componentDone","_new_","__new__","Class","ClassFactory","New","Export","Package","Import","subelements","componentLoader","buildComponents","Controller","View","VO","Service","serviceLoader","JSONService","ConfigService","SourceJS","SourceCSS","ArrayList","ArrayCollection","Effect","Timer","sum","avg","table","max","min","range","matrix","matrix2d","matrix3d","unique","uniqueId","shortCode","NamespaceRef"].includes(this.name)?this.name+"{ [QCObjects native code] }":t.call(this);return e})}var p=P,r=(P.global=p,t(Function),function(e){var t,n=[];for(t in e)"function"===(typeof e[t]).toLowerCase()&&n.push(e[t]);return n}),e=(String.prototype.__mAll__=function(e){var t=[];return this.replace(e,function(){var e=Array.prototype.slice.call(arguments,0,-2);e.input=arguments[arguments.length-1],e.index=arguments[arguments.length-2],t.push(e)}),t},void 0===String.prototype.matchAll&&(String.prototype.matchAll=String.prototype.__mAll__),"undefined"!=typeof window&&"Deno"in window),l="undefined"!=typeof window&&void 0!==window.self&&window===window.self&&!e,S=function(e){e=l?document.createElement(e):{};return e},h=(l||require("fs"),function(e){var n,o;return JSON.stringify(e,(n=new WeakSet,o=0,function(e,t){if("object"==typeof t&&null!==t){if(n.has(t))return(o+=1)<=3?W(t):null;n.add(t)}return t}))});if(l&&(e=function(e){return[...this.querySelectorAll(e)]},Element.prototype.subelements=e,HTMLDocument.prototype.subelements=e,HTMLElement.prototype.subelements=e,"undefined"!=typeof ShadowRoot&&(ShadowRoot.prototype.subelements=e)),l)try{(P=void 0!==window.top?window.top:window)._allowed_=!0}catch(e){try{(P=document)._allowed_=!0}catch(e){try{(P=p)._allowed_=!0}catch(e){P={_allowed_:!0}}}}else void 0!==p&&(P=p);var T,i,n,a,s,u=function(){var e,t="";if(l){var n=P.document.baseURI.split("?")[0].split("/");n.pop(),t=n.join("/")+"/"}else{try{e=require("process")}catch(e){}t=void 0!==e?e.cwd()+"/":""}return t}(),d=(l?("Promise"in P||(P.Promise=function(e){var t={then(){},catch(){},_then(e){this.then.call(t,e)},_catch(e){this.catch.call(t,e)}};return e.call(t,t._then,t._catch),t}),void 0===P.console&&(P.console=function(){},P.console.prototype.log=function(e){}),n="undefined"!=typeof document&&""!==document.domain?document.domain:"localhost",i=P[(!1+[])[+!+[]+ +!+[]]+(typeof!1)[+!+[]]+(typeof[])[(+!+[]+ +!+[])*(+!+[]+ +!+[])]+(!1+[])[+!+[]]+(!0+[])[+[]]+([]+[]+[][[]])[+[+!+[]+[+[]]]/(+!+[]+ +!+[])]+(typeof!1)[+!+[]]+([]+[]+[][[]])[+!+[]]]["h"+(typeof!1)[+!+[]]+(!1+[])[+!+[]+ +!+[]+ +!+[]]+(!0+[])[+[]]].toLowerCase(),T="undefined"!=typeof cordova):(i="secret",n="localhost"),P._asyncLoad=[],function(e,t){e={func:e,args:t,dispatch(){this.func.apply(null,this.args)}};return P._asyncLoad.push(e),e}),I=(l?document.onreadystatechange=function(){"complete"===document.readyState&&P._asyncLoad.map(function(e){e.dispatch.call(e)})}:void 0!==P.global&&(P.global._fireAsyncLoad=function(){P._asyncLoad.map(function(e){e.dispatch.call(e)})}),P.asyncLoad=d,new function(){return{debugEnabled:!0,infoEnabled:!0,warnEnabled:!0,debug(e){this.debugEnabled&&console.log("[35m%s[0m","[DEBUG] "+e)},info(e){var t;this.infoEnabled&&(t=l?"[103m%s[0m":"[33m%s[0m",console.info(t,"[INFO] "+e))},warn(e){this.warnEnabled&&console.warn("[31m%s[0m","[WARN] "+e)}}}),m=(I.debugEnabled=!1,I.infoEnabled=!0,P.logger=I,{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode(e){var t,n,o,r,a,i,s="",c=0;for(e=m._utf8_encode(e);c<e.length;)o=(t=e.charCodeAt(c++))>>2,r=(3&t)<<4|(t=e.charCodeAt(c++))>>4,a=(15&t)<<2|(n=e.charCodeAt(c++))>>6,i=63&n,isNaN(t)?a=i=64:isNaN(n)&&(i=64),s=s+this._keyStr.charAt(o)+this._keyStr.charAt(r)+this._keyStr.charAt(a)+this._keyStr.charAt(i);return s},decode(e){var t,n,o,r,a,i,s="",c=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");c<e.length;)o=this._keyStr.indexOf(e.charAt(c++)),t=(15&(r=this._keyStr.indexOf(e.charAt(c++))))<<4|(a=this._keyStr.indexOf(e.charAt(c++)))>>2,n=(3&a)<<6|(i=this._keyStr.indexOf(e.charAt(c++))),s+=String.fromCharCode(o<<2|r>>4),64!==a&&(s+=String.fromCharCode(t)),64!==i&&(s+=String.fromCharCode(n));return s=m._utf8_decode(s)},_utf8_encode(e){e=e.replace(/rn/g,"n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);o<128?t+=String.fromCharCode(o):t=127<o&&o<2048?(t+=String.fromCharCode(o>>6|192))+String.fromCharCode(63&o|128):(t=(t+=String.fromCharCode(o>>12|224))+String.fromCharCode(o>>6&63|128))+String.fromCharCode(63&o|128)}return t},_utf8_decode(e){for(var t,n,o="",r=0,a=0;r<e.length;)(t=e.charCodeAt(r))<128?(o+=String.fromCharCode(t),r++):191<t&&t<224?(a=e.charCodeAt(r+1),o+=String.fromCharCode((31&t)<<6|63&a),r+=2):(a=e.charCodeAt(r+1),n=e.charCodeAt(r+2),o+=String.fromCharCode((15&t)<<12|(63&a)<<6|63&n),r+=3);return o}}),f=(void 0===a&&(a={getItem(e){return Object.hasOwnProperty.call(this,e)?this[e]:null},setItem(e,t){this[e]=t},removeItem(e){delete this[e]}}),function(e){var t=e.index;if(void 0===t)throw new Error("ComplexStorageCache: index is undefined");var n=e.load,e=e.alternate,o=this.getID(t),r=a.getItem(o);return this.isEmpty(r)?(n=n.call(null,{cachedObjectID:o,cachedResponse:r,cache:this}),this.save(t,n),I.debug("RESPONSE OF {{cachedObjectID}} CACHED".replace("{{cachedObjectID}}",o))):(e.call(null,{cachedObjectID:o,cachedResponse:r,cache:this}),I.debug("RESPONSE OF {{cachedObjectID}} IS ALREADY CACHED ".replace("{{cachedObjectID}}",o))),this});if(f.prototype.getItem=function(e){e=a.getItem(e);return this.isEmpty(e)?null:JSON.parse(e)},f.prototype.setItem=function(e,t){a.setItem(e,h(t))},f.prototype.isEmpty=function(e){var t=!1;switch(!0){case void 0===e:case"string"==typeof e&&""===e:case"string"==typeof e&&"undefined"===e:case"number"==typeof e&&0===e:case null===e:t=!0;break;default:t=!1}return t},f.prototype.getID=function(e){var t;return t=void 0!==e?"cachedObject_"+m.encode(h(e).replace(/\{|\}|,/g,"_")):t},f.prototype.save=function(e,t){e=this.getID(e);I.debug("CACHING THE RESPONSE OF {{cachedObjectID}} ".replace("{{cachedObjectID}}",e)),this.setItem(e,t)},f.prototype.getCached=function(e){e=this.getID(e);return this.getItem(e)},f.prototype.clear=function(){Object.keys(a).filter(function(e){return e.startsWith("cachedObject_")}).map(function(e){a.removeItem(e)})},l){var G=!1;try{var o=Object.defineProperty({},"passive",{get(){return G=!0}});window.addEventListener("testPassive",null,o),window.removeEventListener("testPassive",null,o)}catch(e){}var D=function(){return!!G&&{passive:!0}}}l&&(Element.prototype.find=function(e){var n=[],o=document.subelements(e);return o.map(function(e,t){void 0!==o[t]&&o[t].parentNode.tagName===this.parentNode.tagName&&n.push(O(e,new Object))}),n});Object.prototype.hasOwnProperty;function j(){var e,t,n,o={};switch(arguments.length){case 0:return class{};case 1:e=arguments[0],t=Object,n={};break;case 2:e=arguments[0],t=Object,n=arguments[1];break;case 3:e=arguments[0],t=arguments[1],n=arguments[2]}if("function"!=typeof t)throw new Error("Class type must be a function or class");if(B.call(this,e))throw new Error(e+" is not an allowed word in the name of a class");return void 0!==t.__definition&&(n.__definition=Object.assign(W(t.__definition),t)),o[t.name]=t,void 0!==(n=null==n?{}:W(n)).__instanceID&&delete n.__instanceID,b[e]=class extends o[t.name]{__classType=e;__definition={...n};body=null;static hierarchy(t){var n=function(e){return Object.hasOwnProperty.call(e,"__classType")?e.__classType:L.call(t,e)},o=e=>void 0!==e&&void 0!==e.__proto__&&null!==e.__proto__?(""!==n(e)?[n(e)]:[]).concat(o(e.__proto__)):[],e=(null==t&&(t=this),[]);return e.push(n(t)),e=e.concat(o(t.__proto__))}constructor(){var e=0<arguments.length?{...arguments[0]}:{};super(e);let t=this;if(s=null==s?0:s+1,t.__instanceID||Object.defineProperty(t,"__instanceID",{value:s,writable:!1}),void 0!==t.__definition&&Object.keys(t.__definition).filter(function(e){return isNaN(e)&&!["name","__instanceID","__classType","__definition"].includes(e)}).forEach(function(e){"function"==typeof t.__definition[e]?t[e]=t.__definition[e].bind(t):t[e]=t.__definition[e]}),r(b[t.__classType]).map(function(e){t[e.name]=e.bind(t)}),r(t.__definition).map(function(e){t[e.name]=e.bind(t)}),void 0!==t.__definition&&Object.hasOwnProperty.call(t.__definition,"body")&&void 0!==t.__definition.body)Object.hasOwnProperty.call(t.__definition,"body")&&(t.body=t.__definition.body);else try{t.body=l?S(t.__definition.__classType):{}}catch(e){t.body={}}try{if("function"==typeof t.__new__?t.__new__.call(t,e):"function"==typeof super.__new__&&(t.__new__=super.__new__.bind(t),t.__new__.call(t,e)),"object"==typeof t&&Object.hasOwnProperty.call(t,"_new_")&&void 0===t._new_.isCalled)try{t._new_.call(t,e),t._new_.isCalled=!0}catch(e){I.warn(t.__classType+"._new_() failed with error: "+e)}}catch(e){I.warn(e)}}__new__(e){C(e,this)}_new_(){}getClass(){return Object.getPrototypeOf(this.constructor)}css(e){return void 0!==this.body&&"undefined"!==this.body.style&&(I.debug("body style"),this.body.style=O(e,this.body.style)),this.body.style}hierarchy(e){null==e&&(e=this);var t=Object.getPrototypeOf(e.constructor),t=t.hierarchy?t.hierarchy.call(t,t):[];return[L(e)].concat(t).filter(function(e,t,n){return n.indexOf(e)===t})}append(e){I.debug("append: start"),w(e,"Component")&&(I.debug("append: child is a Component"),I.debug("appending the body of "+e.name));e=0<arguments.length?arguments[0]:this.body;void 0!==this.body&&(I.debug("append element"),0<arguments.lenght?(I.debug("append to element"),this.body.append(e),void 0===this.childs&&(this.childs=[]),this.childs.push(e)):l&&(I.debug("append to body"),document.body.append(e)))}attachIn(e){if(!l)throw new Error("attachIn not yet implemented for non browser platforms");for(var t=document.subelements(e),n=0,o=t.length;n<o;n++)t[n].append(this)}},b[e]=C(n,b[e]),b[e].__definition=n,b[e].__definition.hierarchy=b[e].hierarchy.bind(b[e].__definition),b[e].__definition.__classType=e,b[e].__definition.__new__=function(e){C(e,this)},P[e]=b[e],P[e]}function k(e,t,n){return F(e)[t]}function c(e){if(void 0!==e)if(l)try{P[e.name]=e,window[e.name]=e}catch(e){}else void 0===p||Object.hasOwnProperty.call(p,e.name)||(p[e.name]=e)}function H(e){return""===e?{}:JSON.parse(F("_Crypt").decrypt(e,i))}function q(){var n=F("_Crypt").encrypt((1e3*Math.random()).toString().replace(".",""),(new Date).getTime().toString());return F("_Crypt").encrypt((1e3*Math.random()).toString().replace(".",""),new Date((new Date).getTime()-1e6).getTime().toString()).list().map((e,t)=>n.list()[t]===e?null:e).filter(e=>null!==e).join("")}"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null===e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),o=1;o<arguments.length;o++){var r=arguments[o];if(null!==r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},writable:!0,configurable:!0});var g,U=function(e){return!("function"!=typeof e||!e.toString().startsWith("class"))},W=function(e){var t;switch(!0){case"string"==typeof e:case"number"==typeof e:t=e;break;case"object"==typeof e:t=Object.assign({},e);break;case"function"==typeof e:t=e.bind({});break;case U(e):t=class extends e{}}return t},b={},y={},$=[],_=[],v=function(e){var t="";return"function"==typeof e&&Object.hasOwnProperty.call(e,"name")&&""!==e.name?t=e.name:"function"==typeof e.constructor&&""!==e.constructor.name?t=e.constructor.name:"object"==typeof e.constructor&&(t=e.constructor.toString().replace(/\[(.*?)\]/g,"$1").split(" ").slice(1).join("")),t},O=function(e,t){for(var n in e)if(void 0!==e[n])try{t[n]=e[n]}catch(e){}return t},C=function(e,t){for(var n in e)if(void 0!==e[n]&&"function"!=typeof e[n])try{t[n]=e[n]}catch(e){}else if("function"==typeof e[n])try{t[n]=e[n].bind(t)}catch(e){I.warn(e)}return t},B=function(){return-1!==["__proto__","prototype","Object","Map","defineProperty","indexOf","toString","__instanceID"].indexOf(arguments[0])},L=function(e){var t="";switch(!0){case"object"==typeof e&&!!e.constructor&&Object.hasOwnProperty.call(e.constructor,"name")&&""!==e.constructor.name:t=e.constructor.name;break;case!!e.__classType&&""!==e.__classType:t=e.__classType;break;case!!e.__definition&&!!e.__definition.__classType&&""!==e.__definition.__classType:t=e.__definition.__classType;break;default:t=v(e)}return t},w=function(e,t){return!(null==e||!((N(e)||Q(e))&&e.hierarchy().includes(t)||L(e)===t||v(e)===t||typeof e===t))},F=(j.prototype.toString=function(){return"Class(name, type, definition) { [QCObjects native code] }"},function(e){var t,n,o;return null!==e&&-1<e.indexOf(".")?(o=e.split(".").slice(0,e.split(".").length-1).join("."),n=e.split(".").slice(-1).join(""),0<(o=void 0!==(o=x(o))?o.filter(e=>void 0!==e&&Object.hasOwnProperty.call(e,"__definition")&&N(e)&&e.__definition.__classType===n&&!Object.hasOwnProperty.call(e,"__instanceID")).reverse():[]).length&&(t=o[0])):null!==e&&Object.hasOwnProperty.call(b,e)&&(t=b[e]),t}),R=(l&&(Element.prototype.append=function(e){Q(e)||void 0!==e.body?this.appendChild(e.body):this.appendChild(e)},Element.prototype.render=function(t){function n(t,e){var n;void 0!==document.implementation.createHTMLDocument&&((n=document.implementation.createHTMLDocument("")).innerHTML=e,n.body.subelements("*").map(function(e){return t.append(e)}))}if(void 0!==this.innerHTML)try{this.innerHTML+=t}catch(e){n(this,t)}else n(this,t)}),k.prototype.toString=function(){return"_super_(className,classMethodName,params) { [QCObjects native code] }"},function(e,t){return t=1<arguments.length?t:{},void 0===e?new Object:new e(t)});R.prototype.toString=function(){return"New(QCObjectsClassName, args) { [QCObjects native code] }"},c.prototype.toString=function(){return"Export(function or symbol) { [QCObjects native code] }"},l||c(g=function(t){const n=require("fs");var e=null;try{var o=[""+P.CONFIG.get("projectPath")+P.CONFIG.get("relativeImportPath"),""+P.CONFIG.get("basePath")+P.CONFIG.get("relativeImportPath"),""+P.CONFIG.get("projectPath"),""+P.CONFIG.get("basePath"),""+P.CONFIG.get("relativeImportPath"),""+process.cwd()+P.CONFIG.get("relativeImportPath"),process.cwd()+"/node_modules/"+t,process.cwd()+"/node_modules",""+process.cwd(),"node_modules","./",""].concat(module.paths);0<(o=o.filter(e=>n.existsSync(e+"/"+t))).length&&(e=o[0],I.info(t+" is Installed."))}catch(e){console.log(e)}return e}),j("_Crypt",Object,{last_string:"",last_key:"",construct:!1,_new_(e){var t=e.string,n=e.hasOwnProperty.call(e,"key")?e.key:null;this.__new__(e),n=null===n?this.__instanceID:n,this.last_key=n,this.last_string=t,this.construct=!0},_encrypt(){for(var e,t,n=this.string,o=this.key,r="",a=0;a<n.length;a++)e=n.substr(a,1),t=o.substr(a%o.length-1,1),r+=e=String.fromCharCode(e.charCodeAt(0)+t.charCodeAt(0));return this.last_string=m.encode(r),this.last_string},_decrypt(){for(var e,t,n=this.string,o=this.key,r="",n=m.decode(n),a=0;a<n.length;a++)e=n.substr(a,1),t=o.substr(a%o.length-1,1),r+=e=String.fromCharCode(e.charCodeAt(0)-t.charCodeAt(0));return this.last_string=r,this.last_string},encrypt(e,t){return R(F("_Crypt"),{string:e,key:""!==t?t:"12345678ABC"})._encrypt()},decrypt(e,t){return R(F("_Crypt"),{string:e,key:""!==t?t:"12345678ABC"})._decrypt()}});j("Processor",{processors:{config(e){return P.CONFIG.get(e,"")},ENV(e){return"undefined"!=typeof process?process.env[e]:""},global(e){return void 0!==p?p[e]:""}},setProcessor(e){"function"==typeof e&&""!==e.name&&(this.processors[e.name]=e)},execute(e,t){return this.processors[e].apply(this,t.split(","))},process(r){if("string"==typeof r){let o=this;Object.keys(o.processors).map(function(n){[...r.matchAll(new RegExp("\\$"+n+"\\((.*)\\).*","g"))].map(function(e){var t=`$${n}(${e[1]})`;r=r.replace(t,o.execute.call(o,n,e[1]))})})}return r},processObject(t){let n=this;return"object"==typeof t?Object.keys(t).map(function(e){"object"!=typeof t[e]||t[e].hasOwnProperty.call(t[e],"call")?"string"==typeof t[e]&&(t[e]=n.process(t[e])):t[e]=n.processObject(t[e])}):"string"==typeof t&&(t=n.process(t)),t}});b.ConfigSettings=class re{static _instance=null;static _CONFIG_ENC=null;static get instance(){var e;return null===this._instance&&((e=new re)._CONFIG={relativeImportPath:"",remoteImportsPath:"",remoteSDKPath:"https://sdk.qcobjects.dev/",asynchronousImportsLoad:!1,removePackageScriptAfterLoading:!0,componentsBasePath:"",delayForReady:0,preserveComponentBodyTag:!1,overrideComponentTag:!1,useConfigService:!1,routingWay:"hash",useSDK:!0,useLocalSDK:!1,basePath:u},e._CONFIG_ENC=null,this._instance=e),this._instance}static set instance(e){this._instance=e}},j("CONFIG",Object,{get _CONFIG_ENC(){return F("ConfigSettings").instance._CONFIG_ENC},get _CONFIG(){return F("ConfigSettings").instance._CONFIG},set(e,t){var n,o,r;I.debug(`CONFIG.set  ${e}: `+t),"basePath"===e&&(u=t);try{null===(r=F("ConfigSettings").instance)._CONFIG_ENC&&(r._CONFIG_ENC=F("_Crypt").encrypt(h({}),i)),o=r._CONFIG_ENC.valueOf(),r=r._CONFIG.valueOf(),n=C(r,H(o))}catch(e){n={},console.error(e),I.debug("failed to encrypt config")}n[e]=t,F("ConfigSettings").instance._CONFIG_ENC=(r=n,F("_Crypt").encrypt(h(r),i)),Object.hasOwnProperty.call(F("ConfigSettings").instance,"_CONFIG")&&Object.hasOwnProperty.call(F("ConfigSettings").instance._CONFIG,e)&&(F("ConfigSettings").instance._CONFIG[e]=t)},get(t,n){var o,e,r;try{null===(e=F("ConfigSettings").instance)._CONFIG_ENC&&(e._CONFIG_ENC=F("_Crypt").encrypt(h({}),i)),r=e._CONFIG_ENC.valueOf(),e=e._CONFIG.valueOf();var a=C(e,H(r));void 0!==a[t]?o=a[t]:void 0!==n&&(o=n)}catch(e){console.error(e),I.debug("Something wrong when trying to get CONFIG values"),I.debug("No config value for: "+t),o=n}return F("Processor").processObject.call(F("Processor"),o)}}),c(function(r,a){setTimeout(function(){var e,t,n,o;e=r,t=a,n=0,o=setInterval(function(){t.call()?(clearInterval(o),e.call(),I.debug("Ejecuting "+e.name+" after wait")):n<2e3?(n+=1,I.debug("WAIT UNTIL "+e.name+" is true, "+n.toString()+" cycles")):(I.debug("Max execution time for "+e.name+" expression until true"),clearInterval(o))},1)},1)}),c(k),c(f),c(F),c(S),c(q),c(L),c(w);function J(){var a,i,s=function(){},c=!1;if(!(arguments.length<1))return 1===arguments.length?a=arguments[0]:2===arguments.length?(a=arguments[0],s=arguments[1]):2<arguments.length&&(a=arguments[0],s=arguments[1],c=arguments[2],I.debug("[Import] Setting external="+c.toString()+" resource to import: "+a)),c?I.debug("[Import] Registering external resource to import: "+a):I.debug("[Import] Registering local resource to import: "+a),l?(i=new Promise(function(t,n){function e(e){$.push(s),r()&&$.map(function(e){_.push(e)}),l&&P.CONFIG.get("removePackageScriptAfterLoading")&&e.target.remove(),t.call(i,{_imported_:e.target,_package_name_:a})}var o,r=function(){var e,t=0;for(e in y)t++;return!(t<$.length)};y.hasOwnProperty.call(y,a)||((o=S("script")).type=P.CONFIG.get("sourceType","text/javascript"),o.async=!!P.CONFIG.get("asynchronousImportsLoad"),o.onreadystatechange=function(){"complete"===o.readyState&&e.call()},o.onload=e,o.onerror=function(e){n.call(i,{_imported_:o,_package_name_:a})},o.src=c?P.CONFIG.get("remoteImportsPath")+a+".js":u+P.CONFIG.get("relativeImportPath")+a+".js",document.getElementsByTagName("head")[0].appendChild(o))})).catch(function(){I.debug("Import: Error loading a package ")}):i=new Promise(function(e,t){try{var n,o=g(a),r="";r=null!==o?o+"/"+a:null!==(n=g(a+".js"))?n+"/"+a+".js":u+P.CONFIG.get("relativeImportPath")+a;try{e.call(i,{_imported_:require(""+r),_package_name_:a})}catch(e){console.log(e),t.call(i,{_imported_:null,_package_name_:a})}}catch(e){console.log(e),t.call(i,{_imported_:null,_package_name_:a})}}).catch(function(e){console.log(e),I.debug("Something happened when importing "+a)}),i}function M(e,t){var n=R(F("TagElements"));if(l)for(var o=document.subelements(e),r=[],a=0;a<o.length;a++)void 0!==t&&o[a].hasOwnProperty.call(o[a],"innerHTML")&&(o[a].innerHTML=t),r.indexOf(a)<0&&(n.push(o[a]),r.push(a));return n}var Q=function(e){return!!("object"==typeof e&&Object.hasOwnProperty.call(e,"__classType")&&e.__instanceID&&Object.hasOwnProperty.call(e,"__definition")&&void 0!==e.__definition)},N=function(e){return!("function"!=typeof e||e.__instanceID||!e.__definition||void 0===e.__definition||!e.__definition.__classType)},x=function(t,e){return y.hasOwnProperty.call(y,t)&&void 0!==y[t]&&y[t].hasOwnProperty.call(y[t],"length")&&0<y[t].length&&void 0!==e&&e.hasOwnProperty.call(e,"length")&&0<e.length?(e.filter(function(e){return N(e)}).map(function(e){e.__definition.__namespace=t}),y[t]=y[t].concat(e)):void 0!==e&&("object"==typeof e&&e.hasOwnProperty.call(e,"length")?e.filter(function(e){return N(e)}).map(function(e){e.__definition.__namespace=t}):N(e)&&(e.__definition.__namespace=t),y[t]=e),y.hasOwnProperty.call(y,t)?y[t]:void 0};x.prototype.toString=function(){return"Package(namespace, classes) { [QCObjects native code] }"},J.prototype.toString=function(){return"Import(packagename,ready,external) { [QCObjects native code] }"},l&&(Element.prototype.Cast=function(e){return e.__definition.body=this,e=R(e)}),j("TagElements",Array,{show(){this.map(function(e){return e.style.opacity=1})},hide(){this.map(function(e){return e.style.opacity=0})},effect(){var t=[...arguments].slice(1),n=arguments[0];"string"===(typeof n).toLowerCase()&&(n=F(n)),this.map(function(e){return n.apply.apply(n,[e].concat(t))})},findElements(e){var t=R(F("TagElements"));if(l)for(var n in this)"number"==typeof n&&"function"!=typeof this[n]&&this[n].hasOwnProperty.call(this[n],"subelements")&&t.push(this[n].subelements(e));return t}});function A(e){l?_.push(e.bind(window)):void 0!==p&&_.push(e.bind(p))}function z(e){function t(){_.map(function(e,t){"function"==typeof e&&(e.call(),delete _[t])})}0<P.CONFIG.get("delayForReady")?l?setTimeout(t.bind(window),P.CONFIG.get("delayForReady")):void 0!==p&&setTimeout(t.bind(p),P.CONFIG.get("delayForReady")):t.call(P)}e=A;l?(window.onload=z,T&&document.addEventListener("deviceready",z,D)):p.onload=z,j("InheritClass",Object,{});class K extends F("InheritClass"){constructor({instance:e,name:t,fget:n,fset:o,value:r}){super({instance:e,name:t,fget:n,fset:o,value:r}),this._new_({instance:e,name:t,fget:n,fset:o,value:r})}_new_({instance:n,name:o,fget:r,fset:t}){o=void 0===o?v(this):o;Object.defineProperty(n,o,{set(e){I.debug("value changed "+o),e=void 0!==t&&"function"==typeof t?t(e):e,n["_"+o]=e},get(){function e(e){return"object"==typeof e&&Object.hasOwnProperty.call(e,"value")?e.value:e}var t=n["_"+o],t=(I.debug("returning value "+o),void 0!==r&&"function"==typeof r?r(e(t)):e(t));return t}})}}c(K),j("DefaultTemplateHandler",Object,{template:"",assign(n){var e=this;if(void 0===e.component)throw new Error("DefaultTemplateHandler.assign: component is undefined");if(void 0===e.component.processorHandler)throw new Error("DefaultTemplateHandler.assign: component.processorHandler is undefined");var o=e.component.processorHandler,r=void 0!==e.template?e.template:"";return"object"==typeof n?[...Object.keys(n)].map(function(e){var t=n[e];if("string"==typeof t||"number"==typeof t||!isNaN(t))try{t=F("Processor").processObject.call(o,t),r=r.replace(new RegExp(`{{${e}}}`,"g"),t)}catch(e){I.warn(e)}}):I.debug(e.component.name+".data is not an object"),r=F("Processor").processObject.call(o,r)}});function V(e,t){return e.includes(t)}function X(e,t){function n(s,e){var c=new Promise(function(n,o){I.debug("LOADING SERVICE DATA {{DATA}} FROM {{URL}}".replace("{{DATA}}",h(s.data)).replace("{{URL}}",s.url));var t,r=new XMLHttpRequest;r.withCredentials=s.withCredentials;for(t in r.open(s.method,s.url,!0),s.headers)try{"function"!=typeof s.headers[t]&&r.setRequestHeader(t,s.headers[t])}catch(e){I.debug("Something went wrong when assign the header "+t)}r.onload=function(){var e,t;200===r.status?(e=r.responseText,I.debug("Data received {{DATA}}".replace("{{DATA}}",h(e))),I.debug("CREATING SERVICE {{NAME}}".replace("{{NAME}}",s.name)),s.template=e,s.cached&&void 0!==i&&i.save(s.name,s.template),"function"==typeof s.done&&(s.done.call(s,t={request:r,service:s}),n.call(c,t))):"function"==typeof s.fail&&(s.fail.call(s,t={request:r,service:s}),o.call(c,t))};function a(){I.debug("SENDING THE NORMAL REQUEST  ");try{r.send(h(s.data))}catch(e){I.debug("SOMETHING WRONG WITH REQUEST  "),o.call(c,{request:r,service:s})}}var i;return s.cached?(i=new f({index:s.data,load(e){a.call(this)},alternate(e){"GET"===s.method?(s.template=e.cache.getCached(s.name),"function"==typeof s.done&&(s.done.call(s,e={request:r,service:s}),n.call(c,e))):a.call(this)}}),p.lastCache=i):a.call(this),r});return c}function o(u,e){var d=new Promise(function(r,e){function t(e){I.debug("LOADING SERVICE DATA (non-browser) {{DATA}} FROM {{URL}}".replace("{{DATA}}",h(u.data)).replace("{{URL}}",u.url));var n,o={http2Client:i,request:e,service:u,responseHeaders:null};if("object"==typeof u.data&&null!==u.data&&u.useHTTP2)try{I.debug("Sending data...");var t=new Buffer(h(u.data));e.write(t)}catch(e){I.debug("It was not possible to send any data")}n="",e.on("response",(e,t)=>{I.debug("receiving response..."),o.responseHeaders=e,n=""}),e.on("data",e=>{I.debug("receiving data..."),n+=""+e.toString(),u.template=n}),u.useHTTP2&&e.resume(),e.on("end",()=>{I.debug("ending call..."),u.template=n,(Object.hasOwnProperty.call(u,"useHTTP2")&&u.useHTTP2?i:e).destroy(),u.done.call(u,o),r.call(d,o)}),u.useHTTP2&&e.end()}"undefined"==typeof URL&&(p.URL=require("url").URL,p.URL);var n,o,a=new URL(u.url);u.useHTTP2=Object.hasOwnProperty.call(u,"useHTTP2")&&u.useHTTP2;try{if(u.useHTTP2){I.debug("using http2");var i=require("http2").connect(a.origin),s=Object.assign({":method":u.method,":path":a.pathname},u.options);s=Object.assign(s,u.headers),(l=i.request(s)).setEncoding("utf8"),t(l)}else if("http:"===a.protocol){var c=require("http").request,l=(s=Object.assign({url:u.url,headers:u.headers},u.options),c(u.url));t(l)}else{if("https:"!==a.protocol)throw o="Protocol not supported: "+a.protocol,I.debug(o),new Error(o);n=require("https"),s=Object.assign({hostname:a.hostname,port:a.port,path:a.pathname,method:u.method,headers:u.headers},u.options),n.request(s,function(e){t(e)}).end()}}catch(o){I.debug(o),u.fail.call(u,o),e.call(d,o)}}).catch(function(e){console.log(e),I.debug("Something happened when trying to call the service: "+u.name),u.fail.call(u,e)});return d}var r,a,i,s,c;switch(e.kind){case"rest":r=l?void 0!==t&&t?d(n,arguments):n(e):o(e);break;case"mockup":s=e,r=c=new Promise(function(e,t){I.debug(`Calling mockup service ${s.name} ...`);var n={request:null,service:s,responseHeaders:s.responseHeaders};("function"==typeof s.mockup?s.mockup:s.done).call(s,n),e.call(c,n)});break;case"local":a=e,r=i=new Promise(function(e,t){I.debug(`Calling local service ${a.name} ...`);var n={request:null,service:a,responseHeaders:a.responseHeaders};("function"==typeof a.local?a.local:a.done).call(a,n),e.call(i,n)});break;default:I.debug(`The value of the kind property of the service ${e.name} is not valid`)}return r}function E(e){return isNaN(e)?new Number(0):new Number(e)}P.__oldpopstate=P.onpopstate,P._bindroute_=function(){!l||P._bindroute_.__assigned||document.addEventListener("componentsloaded",function(e){e.stopImmediatePropagation(),e.stopPropagation(),P._bindroute_.__assigned||(P.onpopstate=function(e){e.stopImmediatePropagation(),e.stopPropagation(),F("Component").route(),void 0!==e.target.__oldpopstate&&"function"==typeof e.target.__oldpopstate&&e.target.__oldpopstate.call(e.target,e)},M("a").map(function(e){return e.oldclick=e.onclick,e.onclick=function(e){var t=!0,n=(P.global.get("routingPaths")||P.global.set("routingPaths",[]),P.CONFIG.get("routingWay")),o=e.target[n];return P.global.get("routingPaths").includes(o)&&e.target[n]!==document.location[n]&&e.target.href!==document.location.href?(I.debug("A ROUTING WAS FOUND: "+o),window.history.pushState({href:e.target.href},e.target.href,e.target.href),F("Component").route(),t=!1):I.debug("NO ROUTING FOUND FOR: "+o),void 0!==e.target.oldclick&&"function"==typeof e.target.oldclick&&e.target.oldclick.call(e.target,e),t},null}),P._bindroute_.__assigned=!0,Object.freeze(P._bindroute_))},D)},j("Component",Object,{domain:n,basePath:u,templateURI:"",templateHandler:"DefaultTemplateHandler",template:void 0,processorHandler:null,tplsource:"default",url:"",name:"",method:"GET",data:{},reload:!1,shadowed:!1,cached:!0,done(){},fail(){},set(e,t){this[e]=t},get(e){return this[e]},__promise__:null,feedComponent(){var e,t;{if(w(this,"Component"))if(l){var n=this;if(void 0===n.container&&void 0===n.body)I.warn("COMPONENT {{NAME}} has an undefined container and body".replace("{{NAME}}",n.name));else{var o=void 0===n.container||null===n.container?n.body:n.container,r=n.parsedAssignmentText;if(n.innerHTML=r,n.shadowed){I.debug("COMPONENT {{NAME}} is shadowed".replace("{{NAME}}",n.name)),I.debug("Preparing slots for Shadowed COMPONENT {{NAME}}".replace("{{NAME}}",n.name));var a=S("div"),r=(o.subelements("[slot]").map(function(e){e.parentElement===o&&a.appendChild(e)}),I.debug("Creating shadowedContainer for COMPONENT {{NAME}}".replace("{{NAME}}",n.name)),S("div"));r.classList.add("shadowHost");try{n.shadowRoot=r.attachShadow({mode:"open"})}catch(e){try{I.debug("Shadowed COMPONENT {{NAME}} is repeated".replace("{{NAME}}",n.name)),n.shadowRoot=r.shadowRoot}catch(e){I.warn("Shadowed COMPONENT {{NAME}} is not allowed on this browser".replace("{{NAME}}",n.name))}}void 0!==n.shadowRoot&&null!==n.shadowRoot?(n.reload?(I.debug("FORCED RELOADING OF CONTAINER FOR Shadowed COMPONENT {{NAME}}".replace("{{NAME}}",n.name)),r.shadowRoot.innerHTML=n.innerHTML):(a.innerHTML=n.parseTemplate(a.innerHTML),I.debug("ADDING Shadowed COMPONENT {{NAME}} ".replace("{{NAME}}",n.name)),r.shadowRoot.innerHTML+=n.innerHTML),I.debug("ADDING Slots to Shadowed COMPONENT {{NAME}} ".replace("{{NAME}}",n.name)),r.innerHTML+=a.innerHTML,I.debug("APPENDING Shadowed COMPONENT {{NAME}} to Container ".replace("{{NAME}}",n.name)),o.subelements(".shadowHost")<1||(I.debug("Shadowed Container for COMPONENT {{NAME}} is already present in the tree ".replace("{{NAME}}",n.name)),o.removeChild(o.subelements(".shadowHost").pop())),o.appendChild(r)):I.warn("Shadowed COMPONENT {{NAME}} is bad configured".replace("{{NAME}}",n.name))}else n.reload?(I.debug("FORCED RELOADING OF CONTAINER FOR COMPONENT {{NAME}}".replace("{{NAME}}",n.name)),o.innerHTML=n.innerHTML):o&&n?(I.debug("ADDING COMPONENT {{NAME}} ".replace("{{NAME}}",n.name)),o.innerHTML+=n.innerHTML):I.warn("COMPONENT {{NAME}} is not added to the DOM".replace("{{NAME}}",n.name))}return}else return t=(e=this).parsedAssignmentText,void(e.innerHTML=t);I.warn("Trying to feed a non component object")}},rebuild(){var o=this,r=new Promise(function(t,n){if(null==o&&n("Component is undefined"),Q(o)&&w(o,"Component"))switch(!0){case"none"===o.get("tplsource"):I.debug("Component "+o.name+" has specified template-source=none, so no template load was done");var e={request:null,component:o};"function"==typeof o.done&&o.done.call(o,e),t.call(r,e);break;case"inline"===o.get("tplsource"):I.debug("Component "+o.name+" has specified template-source=inline, so it is assumed that template is already declared"),o.feedComponent();e={request:null,component:o};"function"==typeof o.done&&o.done.call(o,e),t.call(r,e);break;case"default"===o.get("tplsource")&&""!==o.get("templateURI"):o.set("url",o.get("basePath")+o.get("templateURI")),te(o,!1).then(function(e){t.call(r,e)},function(e){n.call(r,e)});break;case"external"===o.get("tplsource")&&""!==o.get("templateURI"):o.set("url",o.get("templateURI")),te(o,!1).then(function(e){t.call(r,e)},function(e){n.call(r,e)});break;case"default"===o.get("tplsource")&&""===o.get("templateURI",""):I.debug(`Component ${o.name} template-source is ${o.get("tplsource")} and no templateURI is present`),n.call(r,`Component ${o.name} template-source is ${o.get("tplsource")} and no templateURI is present`);break;default:I.debug("Component "+o.name+" will not be rebuilt because no templateURI is present"),n.call(r,{request:null,component:o})}});return r},Cast(t){var e=r(t).map(e=>e.name.replace(/bound /g,"")).map(e=>({[e]:t[e].bind(this)})).reduce((e,t)=>Object.assign(e,t),{});return O(this,e)},routingWay:null,validRoutingWays:["pathname","hash","search"],routingNodes:[],routings:[],routingPath:"",route(){var e=this,t=!(!e.__instanceID||!Object.hasOwnProperty.call(e,"subcomponents")),r=function(e){var t=[],e=e.filter(function(e){return void 0!==e}).map(function(o){if(void 0===o.name)throw new Error(L(o)+" does not have a name");return t.push(o.name),new Promise(function(t,e){var n;return void 0!==o&&Object.hasOwnProperty.call(o,"_reroute_")?n=o._reroute_().then(function(){return o.body.innerHTML="",o.innerHTML="",o.rebuild()}).then(function(e){if(Object.hasOwnProperty.call(e,"subcomponents")&&void 0!==e.subcomponents&&0<e.subcomponents.length)return I.debug("LOOKING FOR ROUTINGS IN SUBCOMPONENTS FOR: "+e.name),r.call(e,e.subcomponents);t(e)}):void 0!==o&&e("Component "+o.name+" is not an instance of Component"),n})});return Promise.all(e).then(function(){I.debug("ROUTING COMPLETED FOR "+t.join(", "))}).catch(function(e){I.error("ROUTING FAILED FOR "+t.join(", ")+": "+e)})};t||Object.hasOwnProperty.call(p,"componentsStack")?(t&&w(e,"Component")&&I.debug("loading routings for instance "+e.name),r.call(e,t?e.subcomponents:p.componentsStack)):I.debug("An undetermined result expected if load routings. So will not be loaded this time.")},fullscreen(){var e;l&&((e=this.body).requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen())},closefullscreen(){l&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())},_generateRoutingPaths(e){var t=this;l&&V(t.validRoutingWays,t.routingWay)&&void 0!==e&&(t.innerHTML=e.innerHTML,t.routingNodes=e.subelements("routing"),t.routings=[],t.routingNodes.map(function(n,e){var o=n.getAttributeNames(),r={};o.map(function(e,t){r[o[t]]=n.getAttribute(o[t])}),t.routings.push(r),P.global.get("routingPaths")||P.global.set("routingPaths",[]),P.global.get("routingPaths").includes(r.path)||P.global.get("routingPaths").push(r.path)}))},parseTemplate(e){var t=this;if(Object.hasOwnProperty.call(t,"templateHandler")){var n=e,e=(t.templateHandler,F(t.templateHandler)),e=R(e,{component:t,template:n}),o=t.data;if(Object.hasOwnProperty.call(t,"assignRoutingParams")&&t.assignRoutingParams)try{o=Object.assign(o,t.routingParams)}catch(e){I.debug("[parseTemplate] it was not possible to assign the routing params to the template")}o=e.assign(o)}else o=n;return o},_new_(e){var t=this;void 0===t.name&&I.warn("A name is not defined for "+L(t)),t.routingWay=P.CONFIG.get("routingWay"),t.processorHandler=R(F("Processor"),{component:t}),Object.defineProperty(t,"body",{configurable:!0,set(e){t._body=e,t._generateRoutingPaths(e)},get(){return t._body}}),Object.defineProperty(t,"cacheIndex",{configurable:!0,set(e){I.debug("[cacheIndex] This property is readonly")},get(){var e=h(t.routingPath);return m.encode(t.name+e)}}),Object.defineProperty(t,"parsedAssignmentText",{configurable:!0,set(e){I.debug("[parsedAssignmentText] This property is readonly")},get(){return t._parsedAssignmentText=t.parseTemplate(t.template),t._parsedAssignmentText}}),Object.defineProperty(t,"shadowRoot",{configurable:!0,set(e){void 0===t.__shadowRoot?t.__shadowRoot=e:I.debug("[shadowRoot] This property can only be assigned once!")},get(){return t.__shadowRoot}}),Object.defineProperty(t,"routingSelected",{configurable:!0,set(e){I.debug("[routingSelected] This is a read-only property of the component")},get(){return e=this.routings,t=this.routingPath,e.filter(function(e){e=e.path.replace(/{(.*?)}/g,"(?<$1>.*)");return new RegExp(e,"g").test(t)}).reverse();var e,t}}),Object.defineProperty(t,"routingParams",{configurable:!0,set(e){I.debug("[routingParams] This is a read-only property of the component")},get(){var n=this;return[{}].concat(n.routingSelected.map(function(e){var t=n.routingPath;return e=e.path.replace(/{(.*?)}/g,"(?<$1>.*)"),{...[...t.matchAll(new RegExp(e,"g"))][0].groups}})).reduce(function(e,t,n){return Object.assign(e,t)})}}),"function"==typeof t.__new__&&t.__new__.call(t,e),t._reroute_().then(function(){return t.rebuild().then(function(){I.info(`Component._new_ The component ${t.name} was built successfully!`)}).catch(function(e){I.warn("Component._new_ Something went wrong building the component "+t.name),console.error(e)})})},_reroute_(){var n=this;return new Promise(function(e,t){l&&V(n.validRoutingWays,n.routingWay)&&(n.routingPath=document.location[n.routingWay],n.routingSelected.map(function(e,t){e=ee({COMPONENTS_BASE_PATH:P.CONFIG.get("componentsBasePath"),COMPONENT_NAME:e.name.toString(),TPLEXTENSION:(Object.hasOwnProperty.call(e,"tplextension")?e:n).tplextension,TPL_SOURCE:"default"});n.templateURI=e}),0<n.routingSelected.length&&(n.template="",n.body.innerHTML="")),e(n)})},lazyLoadImages(){var e,n,t;return l&&(e=[...(this.shadowed?this.shadowRoot:this.body).subelements("img[lazy-src]")],n=function(e){e.setAttribute("src",e.getAttribute("lazy-src")),e.onload=()=>{e.removeAttribute("lazy-src")}},"IntersectionObserver"in window?(t=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(n(e.target),t.unobserve(e.target))})}),e.map(function(e){return t.observe(e)})):e.map(n)),null},applyTransitionEffect(e){e=F(e);void 0!==e&&w(e,"TransitionEffect")?(this.effect=R(e,{component:this}),this.effect.apply(this.effect.defaultParams)):I.debug(L(e)+" is not a TransitionEffect")},applyObserveTransitionEffect(t){var n,e,o;return l&&(e=(n=this).shadowed?n.shadowRoot:n.body,o=function(e){n.applyTransitionEffect(t)},"IntersectionObserver"in window?new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(o(e.target),t.unobserve(e.target))})}).observe(e):o()),null},scrollIntoHash(){!l||""!==document.location.hash&&(this.shadowed?this.shadowRoot:this.body).subelements(document.location.hash).map(function(e){"function"==typeof e.scrollIntoView&&e.scrollIntoView(P.CONFIG.get("scrollIntoHash",{behavior:"auto",block:"top",inline:"top"}))})},i18n_translate(){var e,n,r,a,i;l&&P.CONFIG.get("use_i18n")&&(n=(e=this).shadowed?e.shadowRoot:e.body,r=P.CONFIG.get("lang","en"),a=navigator.language.slice(0,2),i=P.global.get("i18n"),r!==a&&"object"==typeof i&&Object.hasOwnProperty.call(i,"messages")&&function(){return new Promise(function(e,t){var o=i.messages.filter(function(e){return Object.hasOwnProperty.call(e,r)&&Object.hasOwnProperty.call(e,a)});n.subelements("ul,li,h1,h2,h3,a,b,p,input,textarea,summary,details,option,component").map(function(n){return o.map(function(e){var t=(t=n.innerHTML).replace(new RegExp(""+e[r],"g"),e[a]);return n.innerHTML=t,null}),n}),e()})}.call(e).then(function(){I.debug("i18n loaded for component: "+e.name)}))},_componentHelpers:[],addComponentHelper(e){this._componentHelpers.push(e)},runComponentHelpers(){var e,t;l&&((t=[]).push((e=this).i18n_translate.bind(e)),t.push(e.scrollIntoHash.bind(e)),t.push(e.lazyLoadImages.bind(e)),(t=t.concat(e._componentHelpers)).map(function(e){e()}))}}),P._bindroute_.__assigned=!1,r(F("Component")).map(function(e){t(e)}),j("Controller",Object,{dependencies:[],component:null,routingSelectedAttr(t){return this.component.routingSelected.map(function(e){return e[t]}).filter(function(e){return e}).pop()},isTouchable(){return"ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints},onpress(e,t){try{this.isTouchable()?this.component.body.subelements(e)[0].addEventListener("touchstart",t,{passive:!0}):this.component.body.subelements(e)[0].addEventListener("click",t,{passive:!0})}catch(e){I.debug("No button to assign press event")}},createRoutingController(){var e=this.component,t=this.routingSelectedAttr("controllerclass");void 0!==t&&void 0!==(t=F(t))&&(e.routingController=R(t,{component:e}),Object.hasOwnProperty.call(e.routingController,"done")&&"function"==typeof e.routingController.done&&e.routingController.done.call(e.routingController))}}),j("View",Object,{dependencies:[],component:null}),j("Service",Object,{kind:"rest",domain:n,basePath:u,url:"",method:"GET",data:{},reload:!1,cached:!1,set(e,t){this[e]=t},get(e){return this[e]}}),j("JSONService",F("Service"),{method:"GET",cached:!1,headers:{"Content-Type":"application/json",charset:"utf-8"},JSONresponse:null,done(e){I.debug("***** RECEIVED RESPONSE:"),I.debug(e.service.template),this.JSONresponse=JSON.parse(e.service.template)}}),j("ConfigService",F("JSONService"),{method:"GET",cached:!1,configFileName:"config.json",headers:{"Content-Type":"application/json",charset:"utf-8"},JSONresponse:null,done(e){for(var t in I.debug("***** CONFIG LOADED:"),I.debug(e.service.template),this.JSONresponse=JSON.parse(e.service.template),Object.hasOwnProperty.call(this.JSONresponse,"__encoded__")&&(this.JSONresponse=JSON.parse(F("_Crypt").decrypt(this.JSONresponse.__encoded__,i))),this.JSONresponse)P.CONFIG.set(t,this.JSONresponse[t]);this.configLoaded.call(this)},fail(e){this.configLoaded.call(this)},_new_(e){this.set("url",this.get("basePath")+this.get("configFileName"))}}),j("VO",Object,{});var Y,Z,ee=function(e){var t="";if("default"===e.TPL_SOURCE)for(var n in t="{{COMPONENTS_BASE_PATH}}{{COMPONENT_NAME}}.{{TPLEXTENSION}}",e){e[n];t=t.replace("{{"+n+"}}",e[n])}return t},te=function(e,t){function n(u,e){return u.__promise__=new Promise(function(t,n){var o=u.__promise__;if(null!==(Object.hasOwnProperty.call(u,"container")&&void 0!==u.container&&null!==u.container?u.container:u.body)){var r=function(e){e.feedComponent(),t.call(o,{request:s,component:e})},a=(I.debug("LOADING COMPONENT DATA {{DATA}} FROM {{URL}}".replace("{{DATA}}",h(u.data)).replace("{{URL}}",u.url)),function(){var e=i?0:200;s.status===e?(e=s.responseText,I.debug("Data received {{DATA}}".replace("{{DATA}}",h(e))),I.debug("CREATING COMPONENT {{NAME}}".replace("{{NAME}}",u.name)),u.template=e,u.cached&&void 0!==c&&c.save(u.name,u.template),r.call(this,u)):n.call(o,{request:s,component:u})});if("string"==typeof u.template&&""!==u.template)r.call(this,u);else{var i=!!u.url.startsWith("file:"),s=new XMLHttpRequest;if(i)"fetch"in P&&(I.debug("I can use fetch..."),I.debug("It is a file to be loaded, so I will try to use fetch"),fetch(u.url).then(e=>{I.debug("I got a response from fetch, so I'll feed the component"),e.text().then(e=>{u.template=e,r.call(this,u)})}));else try{I.debug("Calling the url of component in async mode."),s.open(u.method,u.url,!0)}catch(e){I.debug("Last try has failed... The component cannot be loaded.")}T||i||s.setRequestHeader("Content-Type","text/html"),i||(s.onload=a);var c,l=function(e){e=!(void 0===e||!e),I.debug("SENDING THE NORMAL REQUEST  "),e?"fetch"in P||(I.debug("I have to try to load the file using xhr...  "),s.send(null),s.status===XMLHttpRequest.DONE&&a.call(this)):(I.debug("Trying to send the data to the component...  "),s.send(h(u.data)))};u.cached&&!i?(I.debug("USING CACHE FOR COMPONENT: "+u.name),c=new f({index:u.cacheIndex,load(e){l.call(this,i)},alternate(e){"GET"===u.method?(u.template=e.cache.getCached(u.cacheIndex),r.call(this,u)):l.call(this,i)}}),p.lastCache=c):(I.debug("NOT USING CACHE FOR COMPONENT: "+u.name),l.call(this,i))}}else I.debug("CONTAINER DOESNT EXIST")}),u.__promise__.then(function(e){var t;return"function"==typeof u.done&&(t=u.done.call(u,e)),Promise.resolve(t)},function(e){var t;return"function"==typeof u.fail&&(t=u.fail.call(u,e)),Promise.reject(t)}).catch(function(e){I.debug("Something wrong loading the component")}),u.__promise__}var c,t=l?void 0!==t&&t?d(n,arguments):n(e):((c=e).__promise__=new Promise(function(t,n){var o,r,a=c.__promise__,i=function(e){e.feedComponent(),t.call(a,{request:null,component:e})},s=(I.debug("LOADING COMPONENT DATA {{DATA}} FROM {{URL}}".replace("{{DATA}}",h(c.data)).replace("{{URL}}",c.url)),function(e,t){e?n.call(a,{request:null,component:c}):(e=t.toString(),I.debug("Data received {{DATA}}".replace("{{DATA}}",h(e))),I.debug("CREATING COMPONENT {{NAME}}".replace("{{NAME}}",c.name)),c.template=e,c.cached&&void 0!==r&&r.save(c.name,c.template),i.call(this,c))});"string"==typeof c.template&&""!==c.template?i.call(this,c):(I.debug("Loading the component as a local file in server..."),o=function(e){const t=require("fs");I.debug("SENDING THE NORMAL REQUEST  "),t.readFile(c.url,s)},c.cached?(I.debug("USING CACHE FOR COMPONENT: "+c.name),r=new f({index:c.cacheIndex,load(e){o.call(this)},alternate(e){"GET"===c.method?(c.template=e.cache.getCached(c.cacheIndex),i.call(this,c)):o.call(this)}}),p.lastCache=r):(I.debug("NOT USING CACHE FOR COMPONENT: "+c.name),o.call(this)))}),c.__promise__.then(function(e){var t;return"function"==typeof c.done&&(t=c.done.call(c,e)),Promise.resolve(t)},function(e){var t;return"function"==typeof c.fail&&(t=c.fail.call(c,e)),Promise.reject(t)}).catch(function(e){I.debug("Something wrong loading the component")}),c.__promise__);return t},ne=(c(X),c(te),c(ee),c(v),c(h),c(N),c(Q),c(function(e){let t=x(e),n=t.filter(e=>N(e)).map(e=>({[e.__definition.__classType]:e})).reduce((e,t)=>Object.assign(e,t));return e.split(".").map(e=>({[e]:n})).reverse().reduce((e,t)=>(t[Object.keys(t)]=e,t))}),d(function(){j("GlobalSettings",Object,{_GLOBAL:{},set(e,t){this._GLOBAL[e]=t},get(e,t){var n;return void 0!==this._GLOBAL[e]?n=this._GLOBAL[e]:void 0!==t&&(n=t),n},__start__(){function e(){l&&(I.debug("Starting to bind routes"),P._bindroute_.call(F("Component")),I.debug("Starting to building components"),p.componentsStack=document.buildComponents.call(document),I.debug("Initializing the service worker"),t.call(P).catch(function(){I.debug("error loading the service worker")}))}var t=function(){var o;return o=l?new Promise(function(t,n){"serviceWorker"in navigator&&void 0!==P.CONFIG.get("serviceWorkerURI")&&(P.CONFIG.set("serviceWorkerScope",P.CONFIG.get("serviceWorkerScope")?P.CONFIG.get("serviceWorkerScope"):"/"),navigator.serviceWorker.register(P.CONFIG.get("serviceWorkerURI"),{scope:P.CONFIG.get("serviceWorkerScope")}).then(function(e){I.debug("Service Worker Registered"),t.call(o,e)},function(e){I.debug("Error registering Service Worker"),n.call(o,e)}),navigator.serviceWorker.ready.then(function(e){I.debug("Service Worker Ready"),t.call(o,e)},function(e){I.debug("Error loading Service Worker"),n.call(o,e)}))}):o};I.debug("Starting to load the config settings..."),P.CONFIG.get("useConfigService",!1)?(I.debug("Loading settings using local configuration file..."),P.global.configService=R(F("ConfigService")),P.global.configService.configLoaded=e,X(P.global.configService)):(I.debug("Starting to load the components..."),e.call(this))}});var e=R(F("GlobalSettings"));Object.defineProperty(p,"PackagesNameList",{set(e){I.debug("PackagesNameList is readonly")},get(){function o(e){var t,n=[];for(t in e)void 0!==e[t]&&"function"!=typeof e[t]&&Object.hasOwnProperty.call(e[t],"length")&&0<e[t].length&&(n.push(t),n=n.concat(o(e[t])));return n}return o(y)}}),Object.defineProperty(p,"PackagesList",{set(e){I.debug("PackagesList is readonly")},get(){return p.PackagesNameList.map(function(e){let t=x(e),n;return n=t?{packageName:e,classesList:t.filter(function(e){return N(e)})}:n}).filter(function(e){return void 0!==e})}}),Object.defineProperty(p,"ClassesList",{set(e){I.debug("ClassesList is readonly")},get(){var e=[];return p.PackagesList.map(function(t){return e=e.concat(t.classesList.map(function(e){return{packageName:t.packageName,className:t.packageName+"."+e.__definition.__classType,classFactory:e}})),t}),e}}),Object.defineProperty(p,"ClassesNameList",{set(e){I.debug("ClassesNameList is readonly")},get(){return p.ClassesList.map(function(e){return e.className})}}),P=C(e,P),l&&(j("GLOBAL",b.global),c(F("GLOBAL"))),c(p),P.CONFIG.get("useSDK")&&function(){var e=P.CONFIG.get("remoteImportsPath"),t=!P.CONFIG.get("useLocalSDK"),n=(P.CONFIG.set("remoteImportsPath",P.CONFIG.get("remoteSDKPath")),"QCObjects-SDK");l||(n=null!==g("qcobjects-sdk")?"qcobjects-sdk":"node_modules/qcobjects-sdk/QCObjects-SDK"),!0?(I.info("Importing SDK... "+n),J(n,function(){t?I.debug("QCObjects-SDK.js loaded from remote location"):I.debug("QCObjects-SDK.js loaded from local"),P.CONFIG.set("remoteImportsPath",e)},t)):I.debug("SDK has not been imported as it is not available at the moment")}.call(null)},null),l&&(Element.prototype.buildComponents=function(e=!1){var A=e?"component":"component:not([loaded])",E=this,T=function(w,N){return w.map(function(e,o){w[o];function t(e,t){var n=l?O&&O.shadowed||F("Component").shadowed:d,e={__parent__:N,name:f,data:e,cached:p?F("Component").cached:h,shadowed:n,tplextension:m,body:P.CONFIG.get("preserveComponentBodyTag")?S("componentBody"):w[o],templateURI:r,tplsource:C,subcomponents:[]},n=(v&&(e.template=t),void 0!==f&&""!==f&&null!==f||delete e.name,""===r&&delete e.templateURI,R(O,e));return P.CONFIG.get("preserveComponentBodyTag")&&w[o].append(n),n.done=c,n}var r,n,a,i,s={},c=(w[o].getAttributeNames().filter(function(e){return e.startsWith("data-")}).map(function(e){return e.split("-")[1]}).map(function(e){s[e]=w[o].getAttribute("data-"+e)}),function(){var e=this;if(void 0===e)throw new Error("componentDone() has lost its context");if(void 0===e.body)throw new Error("The component has no body");var t=e.body.getAttribute("viewClass"),t=F(t),t=(void 0!==t&&(e.view=R(t,{component:e}),Object.hasOwnProperty.call(e.view,"done")&&"function"==typeof e.view.done&&e.view.done.call(e.view)),e.body.getAttribute("controllerClass")),t=F(t=t||"Controller"),t=(void 0!==t&&(e.controller=R(t,{component:e}),Object.hasOwnProperty.call(e.controller,"done")&&"function"==typeof e.controller.done&&e.controller.done.call(e.controller),Object.hasOwnProperty.call(e.controller,"createRoutingController")&&e.controller.createRoutingController.call(e.controller)),e.body.getAttribute("effectClass")),n=null!==(n=e.body.getAttribute("apply-effect-to"))?n:"load";null!==t&&"observe"===n?e.applyObserveTransitionEffect(t):null!==t&&"load"===n&&e.applyTransitionEffect(t),e.shadowed&&void 0!==e.shadowRoot?e.subcomponents=T(e.shadowRoot.subelements(A),e):e.subcomponents=T(e.body.subelements(A),e),P.CONFIG.get("overrideComponentTag")&&(e.body.outerHTML=this.body.innerHTML),e.body.setAttribute("loaded",!0),e.runComponentHelpers(),100<=100*M("component[loaded=true]").length/M("component:not([template-source=none])").length&&E.dispatchEvent(new CustomEvent("componentsloaded",{detail:{lastComponent:e}}))}),l=null===w[o].getAttribute("shadowed"),u=null===w[o].getAttribute("template-source"),d="true"===w[o].getAttribute("shadowed"),p=null===w[o].getAttribute("cached"),h="true"===w[o].getAttribute("cached"),m=void 0!==P.CONFIG.get("tplextension")?P.CONFIG.get("tplextension"):"html",m=null!==w[o].getAttribute("tplextension")?w[o].getAttribute("tplextension"):m,f=w[o].getAttribute("name"),g=null!==w[o].getAttribute("componentClass")?w[o].getAttribute("componentClass"):"Component",b=null!==w[o].getAttribute("serviceClass")?w[o].getAttribute("serviceClass"):null,y=!!(Object.hasOwnProperty.call(w[o],"enableServiceClass")&&w[o].enableServiceClass||!Object.hasOwnProperty.call(w[o],"enableServiceClass")),_=null!==w[o].getAttribute("response-to")&&"data"===w[o].getAttribute("response-to"),v=null!==w[o].getAttribute("response-to")&&"template"===w[o].getAttribute("response-to"),g=P.CONFIG.get("preserveComponentBodyTag")?null!==f?"com.qcobjects.components."+f+".ComponentBody":"com.qcobjects.components.ComponentBody":g,f=null!==f?f:F(g)&&void 0!==F(g).name?F(g).name:"",O=F(g),g="Component"!==g&&"string"==typeof O.tplsource&&""!==O.tplsource,C=u&&g?O.tplsource:u?"default":w[o].getAttribute("template-source");I.debug(`template source for  ${f} is ${C} `),I.debug(`type for ${f} is ${L(O)} `),r=ee({COMPONENTS_BASE_PATH:P.CONFIG.get("componentsBasePath"),COMPONENT_NAME:f,TPLEXTENSION:m,TPL_SOURCE:C}),P.CONFIG.get("preserveComponentBodyTag")&&x(""!==f?"com.qcobjects.components."+f:"com.qcobjects.components",[j("ComponentBody",F("Component"),{name:f,tplsource:C,tplextension:m,reload:!0})]),y&&null!==b&&(n=F(b)),!_&&O&&Object.hasOwnProperty.call(O,"responseTo")?_="data"===O.responseTo:!_&&Object.hasOwnProperty.call(F("Component"),"responseTo")&&(_="data"===F("Component").responseTo),!v&&O&&Object.hasOwnProperty.call(O,"responseTo")?v="template"===O.responseTo:!v&&Object.hasOwnProperty.call(F("Component"),"responseTo")&&(v="template"===F("Component").responseTo);return void 0!==n&&void 0!==y&&!0==y&&(_||v)?(I.info("Loading service "+b),i=R(n,{data:s}),X(i).then(function({service:e}){e=e.template;_&&(s="object"==typeof s&&"object"==typeof e?Object.assign(s,e):e),(a=t.call(this,s,e)).serviceInstance=i,a.serviceData=s}).catch(function(e){I.debug("Something went wroing while trying to load the service "+b)})):a=t.call(this,s,null),a})},e=E.subelements(A);return T(e,null)},HTMLDocument.prototype.buildComponents=Element.prototype.buildComponents,HTMLElement.prototype.buildComponents=Element.prototype.buildComponents,Y=class extends HTMLElement{constructor(){super();const t=this;var e=t.nodeName.toLowerCase();const n=S("component");n.setAttribute("name",e),t.hasAttribute("shadowed")||n.setAttribute("shadowed","true"),["cached","splashscreen","response-to","shadowed","componentClass","controllerClass","viewClass","serviceClass","effectClass","tplextension","template-source","data"].map(function(e){t.hasAttribute(e)&&(n.setAttribute(e,t.getAttribute(e)),t.removeAttribute(e))}),t.getAttributeNames().filter(function(e){return e.startsWith("data-")}).map(function(e){return e.split("-")[1]}).map(function(e){n.setAttribute("data-"+e,t.getAttribute("data-"+e)),t.removeAttribute("data-"+e)}),[...t.children].map(function(e){n.appendChild(e.cloneNode(!0)),e.remove()}),t.append(n)}},c(Y),o=function(){[...arguments].filter(function(e){return"string"==typeof e}).map(function(e){Z(e)})},t(Z=function(e){customElements.define(e,class extends Y{})}),t(o),c(Z),c(o)),l||j("BackendMicroservice",Object,{domain:n,basePath:u,body:null,stream:null,request:null,cors(){if(this.route.cors){let{allow_origins:e,allow_credentials:t,allow_methods:n,allow_headers:o}=this.route.cors;var r=this;if("object"!=typeof r.headers&&(r.headers={}),void 0!==e)if("*"===e||void 0===r.request.headers.origin||-1!==[...e].indexOf(r.request.headers.origin))r.headers["Access-Control-Allow-Origin"]="*";else{I.debug("Origin is not allowed: "+r.request.headers.origin),I.debug("Forcing to finish the response..."),this.body={};try{this.done()}catch(e){}}else r.headers["Access-Control-Allow-Origin"]="*";void 0!==t?r.headers["Access-Control-Allow-Credentials"]=t.toString():r.headers["Access-Control-Allow-Credentials"]="true",r.headers["Access-Control-Allow-Methods"]=void 0!==n?[...n].join(","):"GET, OPTIONS, POST",r.headers["Access-Control-Allow-Headers"]=void 0!==o?[...o].join(","):"*"}},_new_(e){I.debug("Executing BackendMicroservice ");let o=this,r=(o.body=null,o.request),t=(this.cors(),e.stream);(o.stream=t).on("data",e=>{var t=r.method.toLowerCase(),n={post:o.post};Object.hasOwnProperty.call(n,t)&&n[t].call(o,e)});var e=r.method.toLowerCase(),n={get:o.get,head:o.head,put:o.put,delete:o.delete,connect:o.connect,options:o.options,trace:o.trace,patch:o.patch};Object.hasOwnProperty.call(n,e)&&n[e].call(o)},head(e){this.done()},get(e){this.done()},post(e){this.done()},put(e){this.done()},delete(e){this.done()},connect(e){this.done()},options(e){this.done()},trace(e){this.done()},patch(e){this.done()},finishWithBody(e){try{e.write(h(this.body)),e.end()}catch(e){I.debug("Something wrong writing the response for microservice"+e.toString())}},done(){var e=this,t=e.stream;try{t.respond(e.headers)}catch(e){I.debug(e.toString())}if(null!==e.body)try{e.finishWithBody.call(e,t)}catch(e){I.debug(e.toString())}}}),j("SourceJS",Object,{domain:n,basePath:u,body:S("script"),type:"text/javascript",containerTag:"body",url:"",data:{},async:!1,external:!1,set(e,t){this[e]=t},get(e){return this[e]},status:!1,done(){},fail(){},rebuild(){var t=this;try{document.getElementsByTagName(t.containerTag)[0].appendChild(function(e,t,n){return e.type=n.type,e.src=t,e.crossOrigin=Object.hasOwnProperty.call(n,"crossOrigin")?n.crossOrigin:"anonymous",e.async=n.async,e.onreadystatechange=function(){"complete"===this.readyState&&n.done.call(n)},e.onload=function(e){n.status=!0,n.done.call(n,e)},e.onerror=function(e){n.status=!1,n.fail.call(n,e)},n.body=e}.call(this,S("script"),this.external?this.url:this.basePath+this.url,t))}catch(e){t.status=!1,t.fail.call(t,e)}},Cast(e){return O(this,e)},_new_(e){this.__new__(e),this.rebuild()}}),j("SourceCSS",Object,{domain:n,basePath:u,body:S("link"),url:"",data:{},async:!1,external:!1,set(e,t){this[e]=t},get(e){return this[e]},done(){},rebuild(){l&&window.document.getElementsByTagName("head")[0].appendChild(function(e,t,n){return e.type="text/css",e.rel="stylesheet",e.href=t,e.crossOrigin="anonymous",e.onreadystatechange=function(){"complete"===this.readyState&&n.done.call(n)},e.onload=n.done,n.body=e}.call(this,S("link"),this.external?this.url:this.basePath+this.url,this))},Cast(e){return O(this,e)},_new_(e){this.__new__(e),this.rebuild()}}),Array.prototype.unique=function(){return this.filter(function(e,t,n){return n.indexOf(e)===t})},Array.unique=function(e){return e.unique()},t(Array.unique),t(Array.prototype.unique),Array.prototype.table=function(){console.table(this)},Array.table=function(e){return e.table()},t(Array.table),t(Array.prototype.table),Array.prototype.sum=function(){return this.reduce(function(e,t){return E(e)+E(t)},0)},Array.sum=function(e){return e.sum()},t(Array.sum),t(Array.prototype.sum),Array.prototype.avg=function(){return this.length<1?0:this.reduce(function(e,t){return(E(e)+E(t))/2})},Array.avg=function(e){return e.avg()},t(Array.avg),t(Array.prototype.avg),Array.prototype.min=function(){return this.reduce(function(e,t){return E(e)<=E(t)?e:t},1/0)},Array.min=function(e){return e.min()},t(Array.min),t(Array.prototype.min),Array.prototype.max=function(){return this.reduce(function(e,t){return E(e)>=E(t)?e:t},0)},Array.max=function(e){return e.max()},t(Array.max),t(Array.prototype.max),Array.prototype.sortBy=function(n,e=!0){return this.sort(e?function(e,t){return t[n]<e[n]?1:-1}:function(e,t){return t[n]>e[n]?1:-1})},Array.sortBy=function(e,t,n=!0){return e.sortBy(t,n)},t(Array.sortBy),t(Array.prototype.sortBy),Array.matrix=function(e,t=0){return Array.from({length:e},function(e){return t})},t(Array.matrix),Array.matrix2d=function(t,n=0){function o(e){return n}return Array.from({length:t},function(e){return Array.from({length:t},o)})},t(Array.matrix2d),Array.matrix3d=function(t,n=0){function o(e){return Array.from({length:t},function(){return n})}return Array.from({length:t},function(e){return Array.from({length:t},o)})},t(Array.matrix3d),P.range=function(n,e=0,o=1){return 0!==e&&void 0!==e||(e=n,n=0),Array.from({length:(e-n)/o+1},function(e,t){return n+t*o})},t(P.range),String.prototype.list=function(){var t=this;return P.range(0,t.length-1).map(function(e){return t[e]})},t(String.prototype.list),P.getDocumentLayout=function(){var e,t;return[(t=document.documentElement.clientWidth,document.documentElement.clientHeight<t?"landscape":null),(t=document.documentElement.clientWidth,e=document.documentElement.clientHeight,t<e?"portrait":null),(t=document.documentElement.clientWidth,e=document.documentElement.clientHeight,t===e?"square":null)].filter(e=>null!==e).pop()},j("ArrayList",Array,[]),F("ArrayList").matrix=Array.matrix,F("ArrayList").matrix2d=Array.matrix2d,F("ArrayList").matrix3d=Array.matrix3d,t(F("ArrayList").matrix),t(F("ArrayList").matrix2d),t(F("ArrayList").matrix3d),j("ArrayCollection",Object,{source:R(F("ArrayList"),[]),changed(e,t){I.debug("VALUE CHANGED"),I.debug(e),I.debug(t)},push(e){I.debug("VALUE ADDED"),I.debug(e),this.source.push(e)},pop(e){I.debug("VALUE POPPED"),I.debug(e),this.source.pop(e)},_new_(e){var t,n=this,o=0;for(t in n.source=R(F("ArrayList"),e),n.source)isNaN(t)||(I.debug("binding "+t.toString()),function(t){Object.defineProperty(n,t,{set(e){I.debug("setting "+t+"="+e),n.source[t]=e,n.changed(t,e)},get(){return n.source[t]}})}(t),o++);n.source.length=o,Object.defineProperty(n,"length",{get(){return n.source.length}})}}),j("Effect",{duration:1e3,animate({timing:o,draw:r,duration:a}){let i=performance.now();requestAnimationFrame(function e(t){let n=(t-i)/a;1<n&&(n=1);t=o(n);r(Math.round(100*t)),n<1?requestAnimationFrame(e):null!=this&&Object.hasOwnProperty.call(this,"done")&&"function"===(typeof this.done).toLowerCase()&&this.done.call(this)})}}),j("TransitionEffect",F("Effect"),{duration:385,defaultParams:{alphaFrom:0,alphaTo:1,angleFrom:180,angleTo:0,radiusFrom:0,radiusTo:30,scaleFrom:0,scaleTo:1},fitToHeight:!1,fitToWidth:!1,effects:[],_new_(e){I.info("DECLARING TransitionEffect  "),this.component.defaultParams=this.defaultParams},apply({alphaFrom:o,alphaTo:r,angleFrom:a,angleTo:i,radiusFrom:s,radiusTo:c,scaleFrom:l,scaleTo:u}){var d=this;I.info("EXECUTING TransitionEffect  "),d.fitToHeight&&(d.component.body.height=d.component.body.offsetParent.scrollHeight),d.fitToWidth&&(d.component.body.width=d.component.body.offsetParent.scrollWidth),d.component.body.style.display="block",d.effects.map(function(e,t){var e=k(e,"apply"),n=[d.component.body].concat(Object.values({alphaFrom:o,alphaTo:r,angleFrom:a,angleTo:i,radiusFrom:s,radiusTo:c,scaleFrom:l,scaleTo:u}));e.apply(d,n)})}}),j("Timer",{duration:1e3,alive:!0,thread({timing:o,intervalInterceptor:r,duration:a}){var i=this;let s=performance.now();requestAnimationFrame(function e(t){t-=s;let n=t/a;1<n&&(n=1);t=o(n,t);r(Math.round(100*t)),(n<1||-1===a)&&i.alive&&requestAnimationFrame(e)})}}),j("Toggle",F("InheritClass"),{_toggle:!1,_inverse:!0,_positive:null,_negative:null,_dispatched:null,_args:{},changeToggle(){this._toggle=!this._toggle},_new_({positive:e,negative:t,args:n}){this._positive=e,this._negative=t,this._args=n},fire(){var n=this,o=new Promise(function(e,t){"function"==typeof n._positive&&"function"==typeof n._negative?(n._inverse?n._dispatched=(n._toggle?n._negative:n._positive).bind(n):n._dispatched=(n._toggle?n._positive:n._negative).bind(n),n._dispatched.call(n,n._args),e.call(o,n)):(I.debug("Toggle functions are not declared"),t.call(o,n))}).then(function(e){e.changeToggle()}).catch(function(e){I.debug(e.toString())});return o}}),P);function oe(){Object.freeze(Object.prototype),Object.freeze(Object)}F("Processor").setProcessor(function(n,e){var t=ne.global.get(e),o=this.component.get(e),r=this.component.data[e];let a=void 0!==r?r:void 0!==o?o:t,i="";return void 0!==a&&void 0!==a.map?i=a.map(function(t){var e=[...Object.keys(t)].map(e=>` data-${e}="${t[e].toString()}"`).join("");return`<component name="${n}" ${e} ></component>`}).join(""):I.debug(n+`.${e} does not have a map property`),i}),F("Processor").setProcessor(function(e,t){t={landscape:`
      @import url("${t}") (orientation:landscape) and (min-width:460px);
      @import url("${t}") (aspect-ratio: 16/9) and (min-width:460px);
      @import url("${t}") (aspect-ratio: 16/10) and (min-width:460px);
      @import url("${t}") (aspect-ratio: 8/5) and (min-width:460px);
      @import url("${t}") (aspect-ratio: 4/3) and (min-width:460px);
      @import url("${t}") (aspect-ratio: 3/2) and (min-width:460px);
      `,portrait:`
      /* CSS Document for Mobile Imports */
      @import url("${t}") (orientation:portrait);
      @import url("${t}") (max-width:460px);
      @import url("${t}") (aspect-ratio: 9/16);
      @import url("${t}") (aspect-ratio: 10/16);
      @import url("${t}") (aspect-ratio: 5/8);
      @import url("${t}") (aspect-ratio: 3/4);
      @import url("${t}") (aspect-ratio: 2/3);
      `};return Object.hasOwnProperty.call(t,e)?t[e]:""}),F("Processor").setProcessor(function(){let t=[...arguments].map(function(e){return{[e.split("=")[0]]:e.split("=")[1]}}).reduce(function(e,t){return Object.assign(e,t)});return`<component ${[...Object.keys(t)].map(function(e){return e+"="+t[e]}).join(" ")}></component>`}),F("Processor").setProcessor(function(e,t){return ne.range(e).map(function(e){return t.replace("{{index}}",e.toString())}).join("")}),A(function(){P.CONFIG.get("useSDK")||P.__start__()}),c(c),c(J),c(x),c(j),c(R),c(M),c(A),c(e),c(l),c(r),l||(void 0!==P.global&&Object.hasOwnProperty.call(P.global,"_fireAsyncLoad")&&P.global._fireAsyncLoad.call(this),void 0!==P.global&&Object.hasOwnProperty.call(P.global,"onload")&&P.global.onload.call(this)),l&&d(function(){A(function(){window.onpopstate=function(e){e.stopImmediatePropagation(),e.stopPropagation(),F("Component").route()};{var l=P;let i=!1,s=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),c=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth);return void document.addEventListener("scroll",function(t){i||(requestAnimationFrame(function(){var n,o,r,a,e;n=t,r=Math.round(100*l.scrollY/s),a=Math.round(100*l.scrollX/c),e=new CustomEvent("scrollpercent",{detail:{percentX:a,percentY:r}}),n.target.dispatchEvent(e),[0,5,10,25,50,75,90,95,100].filter(function(e){return e===r}).map(function(e){o="percentY"+r.toString();var t=new CustomEvent(o,{detail:{percentX:a,percentY:r}});n.target.dispatchEvent(t)}),i=!1}),i=!0)})}})},null),l&&P.CONFIG.get("secureObjects",!1)?A(function(){oe()}):P.CONFIG.get("secureObjects",!1)&&oe()}.call(null,"object"==typeof module&&"object"==typeof module.exports?module.exports=global:"object"==typeof global?global:"object"==typeof window?window:{});