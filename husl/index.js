(function(){var r,n,u,t,e,l,h,o,c,f,i,a,s,g,p,v,b,x,y;a={R:[3.2409699419045213,-1.5373831775700935,-.4986107602930033],G:[-.9692436362808798,1.8759675015077206,.04155505740717561],B:[.05563007969699361,-.20397695888897657,1.0569715142428786]},s={X:[.4123907992659595,.35758433938387796,.1804807884018343],Y:[.21263900587151036,.7151686787677559,.07219231536073371],Z:[.01933081871559185,.11919477979462599,.9505321522496606]},v=.19783000664283681,b=.468319994938791,f=903.2962962962963,l=.008856451679035631,o=function(r){var n,u,t,e,h,o,c,i,s,g,p,v,b,x,y,d,M,z;for(x=Math.pow(r+16,3)/1560896,y=x>l?x:r/f,b=[],g=["R","G","B"],t=0,h=g.length;h>t;t++)for(u=g[t],p=a[u],c=p[0],i=p[1],s=p[2],v=[0,1],e=0,o=v.length;o>e;e++)d=v[e],M=(284517*c-94839*s)*y,z=(838422*s+769860*i+731718*c)*r*y-769860*d*r,n=(632260*s-126452*i)*y+126452*d,b.push([M/n,z/n]);return b},c=function(r,n){return(r[1]-n[1])/(n[0]-r[0])},t=function(r){return Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2))},i=function(r,n){var u,t,e;return e=n[0],u=n[1],t=u/(Math.sin(r)-e*Math.cos(r)),0>t?null:t},p=function(r){var n,u,e,l,h,f,i,a;for(l=[],f=o(r),u=0,e=f.length;e>u;u++)i=f[u],h=i[0],n=i[1],a=c([h,n],[-1/h,0]),l.push(t([a,n+a*h]));return Math.min.apply(Math,l)},g=function(r,n){var u,t,e,l,h,c,f;for(u=n/360*Math.PI*2,h=[],f=o(r),t=0,l=f.length;l>t;t++)c=f[t],e=i(u,c),null!==e&&h.push(e);return Math.min.apply(Math,h)},e=function(r,n){var u,t,e,l;for(l=0,u=t=0,e=r.length-1;e>=0?e>=t:t>=e;u=e>=0?++t:--t)l+=r[u]*n[u];return l},h=function(r){return.0031308>=r?12.92*r:1.055*Math.pow(r,1/2.4)-.055},y=function(r){var n;return n=.055,r>.04045?Math.pow((r+n)/(1+n),2.4):r/12.92},u={xyz:{},luv:{},lch:{},husl:{},huslp:{},rgb:{},hex:{}},u.xyz.rgb=function(r){var n,u,t;return t=h(e(a.R,r)),u=h(e(a.G,r)),n=h(e(a.B,r)),[t,u,n]},u.rgb.xyz=function(r){var n,u,t,l,h,o,c;return t=r[0],u=r[1],n=r[2],c=[y(t),y(u),y(n)],l=e(s.X,c),h=e(s.Y,c),o=e(s.Z,c),[l,h,o]},n=function(r){return l>=r?r*f:116*Math.pow(r,1/3)-16},r=function(r){return 8>=r?r/f:Math.pow((r+16)/116,3)},u.xyz.luv=function(r){var u,t,e,l,h,o,c,f;return l=r[0],h=r[1],o=r[2],0===h?[0,0,0]:(u=n(h),c=4*l/(l+15*h+3*o),f=9*h/(l+15*h+3*o),t=13*u*(c-v),e=13*u*(f-b),[u,t,e])},u.luv.xyz=function(n){var u,t,e,l,h,o,c,f;return u=n[0],t=n[1],e=n[2],0===u?[0,0,0]:(c=t/(13*u)+v,f=e/(13*u)+b,h=r(u),l=0-9*h*c/((c-4)*f-c*f),o=(9*h-15*f*h-f*l)/(3*f),[l,h,o])},u.luv.lch=function(r){var n,u,t,e,l,h;return e=r[0],l=r[1],h=r[2],n=Math.sqrt(Math.pow(l,2)+Math.pow(h,2)),1e-8>n?u=0:(t=Math.atan2(h,l),u=360*t/2/Math.PI,0>u&&(u=360+u)),[e,n,u]},u.lch.luv=function(r){var n,u,t,e,l,h;return e=r[0],n=r[1],u=r[2],t=u/360*2*Math.PI,l=Math.cos(t)*n,h=Math.sin(t)*n,[e,l,h]},u.husl.lch=function(r){var n,u,t,e,l;return u=r[0],e=r[1],t=r[2],t>99.9999999||1e-8>t?n=0:(l=g(t,u),n=l/100*e),[t,n,u]},u.lch.husl=function(r){var n,u,t,e,l;return t=r[0],n=r[1],u=r[2],t>99.9999999||1e-8>t?e=0:(l=g(t,u),e=n/l*100),[u,e,t]},u.huslp.lch=function(r){var n,u,t,e,l;return u=r[0],e=r[1],t=r[2],t>99.9999999||1e-8>t?n=0:(l=p(t),n=l/100*e),[t,n,u]},u.lch.huslp=function(r){var n,u,t,e,l;return t=r[0],n=r[1],u=r[2],t>99.9999999||1e-8>t?e=0:(l=p(t),e=n/l*100),[u,e,t]},u.rgb.hex=function(r){var n,u,t,e;for(u="#",t=0,e=r.length;e>t;t++){if(n=r[t],n=Math.round(1e6*n)/1e6,0>n||n>1)throw new Error("Illegal rgb value: "+n);n=Math.round(255*n).toString(16),1===n.length&&(n="0"+n),u+=n}return u},u.hex.rgb=function(r){var n,u,t,e,l,h,o,c;for("#"===r.charAt(0)&&(r=r.substring(1,7)),h=r.substring(0,2),u=r.substring(2,4),n=r.substring(4,6),o=[h,u,n],c=[],t=0,e=o.length;e>t;t++)l=o[t],c.push(parseInt(l,16)/255);return c},u.lch.rgb=function(r){return u.xyz.rgb(u.luv.xyz(u.lch.luv(r)))},u.rgb.lch=function(r){return u.luv.lch(u.xyz.luv(u.rgb.xyz(r)))},u.husl.rgb=function(r){return u.lch.rgb(u.husl.lch(r))},u.rgb.husl=function(r){return u.lch.husl(u.rgb.lch(r))},u.huslp.rgb=function(r){return u.lch.rgb(u.huslp.lch(r))},u.rgb.huslp=function(r){return u.lch.huslp(u.rgb.lch(r))},x={},x.fromRGB=function(r,n,t){return u.rgb.husl([r,n,t])},x.fromHex=function(r){return u.rgb.husl(u.hex.rgb(r))},x.toRGB=function(r,n,t){return u.husl.rgb([r,n,t])},x.toHex=function(r,n,t){return u.rgb.hex(u.husl.rgb([r,n,t]))},x.p={},x.p.toRGB=function(r,n,t){return u.xyz.rgb(u.luv.xyz(u.lch.luv(u.huslp.lch([r,n,t]))))},x.p.toHex=function(r,n,t){return u.rgb.hex(u.xyz.rgb(u.luv.xyz(u.lch.luv(u.huslp.lch([r,n,t])))))},x.p.fromRGB=function(r,n,t){return u.lch.huslp(u.luv.lch(u.xyz.luv(u.rgb.xyz([r,n,t]))))},x.p.fromHex=function(r){return u.lch.huslp(u.luv.lch(u.xyz.luv(u.rgb.xyz(u.hex.rgb(r)))))},x._conv=u,x._getBounds=o,x._maxChromaForLH=g,x._maxSafeChromaForL=p,"undefined"!=typeof module&&null!==module||"undefined"!=typeof jQuery&&null!==jQuery||"undefined"!=typeof requirejs&&null!==requirejs||(this.HUSL=x),"undefined"!=typeof module&&null!==module&&(module.exports=x),"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.husl=x),"undefined"!=typeof requirejs&&null!==requirejs&&"undefined"!=typeof define&&null!==define&&define(x)}).call(this);