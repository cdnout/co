!function(t,i){"function"==typeof define&&define.amd?define("pnotify.history",["jquery","pnotify"],i):"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(require("jquery"),require("./pnotify")):i(t.jQuery,t.PNotify)}("undefined"!=typeof window?window:this,function(n,o){var s,h;return n(function(){n("body").on("pnotify.history-all",function(){n.each(o.notices,function(){this.modules.history.inHistory&&(this.elem.is(":visible")?this.options.hide&&this.queueRemove():this.open&&this.open())})}).on("pnotify.history-last",function(){var t,i="top"===o.prototype.options.stack.push,e=i?0:-1;do{if(!(t=-1===e?o.notices.slice(e):o.notices.slice(e,e+1))[0])return!1}while(e=i?e+1:e-1,!t[0].modules.history.inHistory||t[0].elem.is(":visible"));t[0].open&&t[0].open()})}),o.prototype.options.history={history:!0,menu:!1,fixed:!0,maxonscreen:1/0,labels:{redisplay:"Redisplay",all:"All",last:"Last"}},o.prototype.modules.history={inHistory:!1,init:function(t,i){var e;t.options.destroy=!1,this.inHistory=i.history,i.menu&&void 0===s&&(s=n("<div />",{class:"ui-pnotify-history-container "+t.styles.hi_menu,mouseleave:function(){s.animate({top:"-"+h+"px"},{duration:100,queue:!1})}}).append(n("<div />",{class:"ui-pnotify-history-header",text:i.labels.redisplay})).append(n("<button />",{class:"ui-pnotify-history-all "+t.styles.hi_btn,text:i.labels.all,mouseenter:function(){n(this).addClass(t.styles.hi_btnhov)},mouseleave:function(){n(this).removeClass(t.styles.hi_btnhov)},click:function(){return n(this).trigger("pnotify.history-all"),!1}})).append(n("<button />",{class:"ui-pnotify-history-last "+t.styles.hi_btn,text:i.labels.last,mouseenter:function(){n(this).addClass(t.styles.hi_btnhov)},mouseleave:function(){n(this).removeClass(t.styles.hi_btnhov)},click:function(){return n(this).trigger("pnotify.history-last"),!1}})).appendTo("body"),e=n("<span />",{class:"ui-pnotify-history-pulldown "+t.styles.hi_hnd,mouseenter:function(){s.animate({top:"0"},{duration:100,queue:!1})}}).appendTo(s),h=e.offset().top+2,s.css({top:"-"+h+"px"}),i.fixed&&s.addClass("ui-pnotify-history-fixed"))},update:function(t,i){this.inHistory=i.history,i.fixed&&s?s.addClass("ui-pnotify-history-fixed"):s&&s.removeClass("ui-pnotify-history-fixed")},beforeOpen:function(t,i){o.notices&&o.notices.length>i.maxonscreen&&(i="top"!==t.options.stack.push?o.notices.slice(0,o.notices.length-i.maxonscreen):o.notices.slice(i.maxonscreen,o.notices.length),n.each(i,function(){this.remove&&this.remove()}))}},n.extend(o.styling.jqueryui,{hi_menu:"ui-state-default ui-corner-bottom",hi_btn:"ui-state-default ui-corner-all",hi_btnhov:"ui-state-hover",hi_hnd:"ui-icon ui-icon-grip-dotted-horizontal"}),n.extend(o.styling.bootstrap2,{hi_menu:"well",hi_btn:"btn",hi_btnhov:"",hi_hnd:"icon-chevron-down"}),n.extend(o.styling.bootstrap3,{hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"glyphicon glyphicon-chevron-down"}),n.extend(o.styling.fontawesome,{hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"fa fa-chevron-down"}),o});