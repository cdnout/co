var __assign=function(){return(__assign=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var l in t=arguments[i])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},lGEvents={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose",rotateLeft:"lgRotateLeft",rotateRight:"lgRotateRight",flipHorizontal:"lgFlipHorizontal",flipVertical:"lgFlipVertical",autoplay:"lgAutoplay",autoplayStart:"lgAutoplayStart",autoplayStop:"lgAutoplayStop"},relativeCaptionSettings={relativeCaption:!1},RelativeCaption=function(){function e(e){this.core=e;e={addClass:this.core.settings.addClass+" lg-relative-caption"};return this.core.settings=__assign(__assign({},this.core.settings),e),this.settings=__assign(__assign(__assign({},relativeCaptionSettings),this.core.settings),e),this}return e.prototype.init=function(){var i=this;this.settings.relativeCaption&&(this.core.LGel.on(lGEvents.slideItemLoad+".caption",function(e){var e=e.detail,t=e.index,e=e.delay;setTimeout(function(){t===i.core.index&&i.setRelativeCaption(t)},e)}),this.core.LGel.on(lGEvents.afterSlide+".caption",function(e){var t=e.detail.index;setTimeout(function(){i.core.getSlideItem(t).hasClass("lg-complete")&&i.setRelativeCaption(t)})}),this.core.LGel.on(lGEvents.beforeSlide+".caption",function(e){var t=e.detail.index;setTimeout(function(){i.core.getSlideItem(t).removeClass("lg-show-caption")})}),this.core.LGel.on(lGEvents.containerResize+".caption",function(e){i.setRelativeCaption(i.core.index)}))},e.prototype.setCaptionStyle=function(e,t,i){var o=this.core.getSlideItem(e).find(".lg-relative-caption-item"),e=this.core.getSlideItem(e).find(".lg-sub-html"),o=(e.css("width",t.width+"px").css("left",t.left+"px"),o.get().getBoundingClientRect()),i=i.bottom-t.bottom-o.height;e.css("top","auto").css("bottom",Math.max(i,0)+"px")},e.prototype.setRelativeCaption=function(e){var t,i,o=this.core.getSlideItem(e);o.hasClass("lg-current")&&(t=this.core.getSlideItem(e).find(".lg-object").get().getBoundingClientRect(),i=this.core.getSlideItem(e).get().getBoundingClientRect(),this.setCaptionStyle(e,t,i),o.addClass("lg-show-caption"))},e.prototype.destroy=function(){this.core.LGel.off(".caption")},e}();export default RelativeCaption;