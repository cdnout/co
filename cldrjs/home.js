!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t():e.Cldr=t()}(this,function(){function r(e,t){if(p(e)&&(e=e.join("/")),"string"!=typeof e)throw new Error('invalid path "'+e+'"');return(e=(e=e.replace(/^\//,"").replace(/^cldr\//,"")).replace(/{[a-zA-Z]+}/g,function(e){return e=e.replace(/^{([^}]*)}$/,"$1"),t[e]})).split("/")}function u(e,t){var n,r;if(e.some)return e.some(t);for(n=0,r=e.length;n<r;n++)if(t(e[n],n,e))return!0;return!1}function g(e,t,n,r){var o,i=n[0],a=n[1],l=e.localeSep,e=n[2],n=n.slice(3,4);return r=r||{},"und"!==i&&"Zzzz"!==a&&"ZZ"!==e?[i,a,e].concat(n):void 0!==t.get("supplemental/likelySubtags")?u([[i,a,e],[i,e],[i,a],[i],["und",a]],function(e){return o=!/\b(Zzzz|ZZ)\b/.test(e.join(l))&&t.get(["supplemental/likelySubtags",e.join(l)])})?(o=o.split(l),["und"!==i?i:o[0],"Zzzz"!==a?a:o[1],"ZZ"!==e?e:o[2]].concat(n)):r.force?t.get("supplemental/likelySubtags/und").split(l):void 0:void 0}function z(n,r,o){var i,e=o[0],t=o[1],a=o[2],l=o[3];return u([[[e,"Zzzz","ZZ"],[e]],[[e,"Zzzz",a],[e,a]],[[e,t,"ZZ"],[e,t]]],function(e){var t=g(n,r,e[0]);return i=e[1],t&&t[0]===o[0]&&t[1]===o[1]&&t[2]===o[2]})?(l&&i.push(l),i):o}function b(e){var t,n=[];return(t=(e=e.replace(/_/,"-")).split("-u-"))[1]&&(t[1]=t[1].split("-t-"),e=t[0]+(t[1][1]?"-t-"+t[1][1]:""),n[4]=t[1][0]),null===(t=e.split("-t-")[0].match(/^(([a-z]{2,3})(-([A-Z][a-z]{3}))?(-([A-Z]{2}|[0-9]{3}))?)((-([a-zA-Z0-9]{5,8}|[0-9][a-zA-Z0-9]{3}))*)$|^(root)$/))?["und","Zzzz","ZZ"]:(n[0]=t[10]||t[2]||"und",n[1]=t[4]||"Zzzz",n[2]=t[6]||"ZZ",t[7]&&t[7].length&&(n[3]=t[7].slice(1)),n)}function y(e,t){var n,r;if(e.forEach)return e.forEach(t);for(n=0,r=e.length;n<r;n++)t(e[n],n,e)}function o(e,t){var n=e+(t&&JSON?": "+JSON.stringify(t):""),r=new Error(n);return r.code=e,y(function(e){var t,n=[];if(Object.keys)return Object.keys(e);for(t in e)n.push(t);return n}(t),function(e){r[e]=t[e]}),r}function i(e,t,n){if(!t)throw o(e,n)}function _(e,t){i("E_MISSING_PARAMETER",void 0!==e,{name:t})}function Z(e,t,n,r){i("E_INVALID_PAR_TYPE",n,{expected:r,name:t,value:e})}function t(e,t){Z(e,t,"string"==typeof e||p(e),"String or Array")}function a(e,t){Z(e,t,void 0===e||null!==(e=e)&&""+e=="[object Object]","Plain Object")}function l(e,t){for(var n=e,r=t.length,o=0;o<r-1;o++)if(!(n=n[t[o]]))return;return n[t[o]]}function c(e){return p(e)?e:[e]}function e(e,t,n){var r,o,i;for(_(n[0],"json"),r=0;r<n.length;r++)for(i=c(n[r]),o=0;o<i.length;o++)a(i[o],"json"),t=s(t,i[o]),function(e,t){var n,r=e._availableBundleMapQueue,o=l(t,["main"]);if(o)for(n in o)o.hasOwnProperty(n)&&"root"!==n&&-1===r.indexOf(n)&&r.push(n)}(e,i[o]);return t}function n(e,t,n){return n=r(t,n),l(e._resolved,n)}function j(e){this.init(e)}var f,p=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=f=function(){var n={},e=[].slice.call(arguments,0);return y(e,function(e){for(var t in e)t in n&&"object"==typeof n[t]&&!p(n[t])?n[t]=f(n[t],e[t]):n[t]=e[t]}),n};return j._alwaysArray=c,j._coreLoad=e,j._createError=o,j._itemGetResolved=n,j._jsonMerge=s,j._pathNormalize=r,j._resourceGet=l,j._validatePresence=_,j._validateType=Z,j._validateTypePath=t,j._validateTypePlainObject=a,j._availableBundleMap={},j._availableBundleMapQueue=[],j._resolved={},j.localeSep="-",j.load=function(){j._resolved=e(j,j._resolved,arguments)},j.prototype.init=function(e){var r,t,n,o,i,a,l,u,c,f,p,s,d,v=j.localeSep,h="";_(e,"locale"),Z(u=e,"locale","string"==typeof u,"a string"),5===(p=b(e)).length&&(h=v+"u"+v+(a=p.pop()),p[3]||p.pop()),l=p[3],t=(n=g(j,this,p,{force:!0})||p)[0],o=n[1],i=n[2],u=z(j,this,n).join(v),this.attributes=r={bundle:(f=this,p=u,s=(c=j)._availableBundleMap,(d=c._availableBundleMapQueue).length&&(y(d,function(e,t){var n=b(e),n=g(c,f,n);if(void 0===n)throw d.splice(t,1),new Error("Could not find likelySubtags for "+e);t=(t=z(c,f,n)).join(c.localeSep),(n=s[t])&&n.length<e.length||(s[t]=e)}),c._availableBundleMapQueue=[]),s[p]||null),minLanguageId:u+h,maxLanguageId:n.join(v)+h,language:t,script:o,territory:i,region:i,variant:l},a&&("-"+a).replace(/-[a-z]{3,8}|(-[a-z]{2})-([a-z]{3,8})/g,function(e,t,n){t?r["u"+t]=n:r["u"+e]=!0}),this.locale=e},j.prototype.get=function(e){return _(e,"path"),t(e,"path"),n(j,e,this.attributes)},j.prototype.main=function(e){return _(e,"path"),t(e,"path"),i("E_MISSING_BUNDLE",null!==this.attributes.bundle,{locale:this.locale}),e=c(e),this.get(["main/{bundle}"].concat(e))},j});