!function(s){function d(e){return-1<e&&e<0||e<1&&0<e}function i(e,t){var a=e.find("."+o+"-active"),r=t<0,n=a.prevAll().length+1+(r?1:-1),s=e.find("."+f).eq(n-1);return s.length||(s=e.find("."+f)[r?"first":"last"]()),[a,s]}var o="carousel",r=o+"-active",c=o+"-top",f=o+"-item";s(document).bind(o+".dragstart",function(e,t){s(e.target).find("."+c).removeClass(c)}).bind(o+".dragmove",function(e,t){if(d(t.xPercent)){var a=i(s(e.target),t.deltaX),r=180*t.xPercent,n=.5<Math.abs(t.xPercent);a[0].css("-webkit-transform","rotateY("+r+"deg)"),a[1].css("-webkit-transform","rotateY("+((0<r?-180:180)+r)+"deg)"),a[n?1:0].addClass(c),a[n?0:1].removeClass(c)}}).bind(o+".dragend",function(e,t){if(d(t.xPercent)){var a=i(s(e.target),t.deltaX);.5<Math.abs(t.xPercent)?(a[0].removeClass(r),a[1].addClass(r)):(a[0].addClass(r),a[1].removeClass(r)),a[0].add(a[1]).removeClass(c).css("-webkit-transform","")}})}(jQuery);