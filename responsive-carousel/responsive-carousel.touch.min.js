!function(r){var s="carousel",c="."+s,h=s+"-no-transition",t=(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit"),{_dragBehavior:function(){r(this);function e(t){var e=t.touches||t.originalEvent.touches,a=r(t.target).closest(c);"touchstart"===t.type&&(n={x:e[0].pageX,y:e[0].pageY}),i=!1,e[0]&&e[0].pageX&&(o.touches=e,o.deltaX=e[0].pageX-n.x,o.deltaY=e[0].pageY-n.y,o.w=a.width(),o.h=a.height(),o.xPercent=o.deltaX/o.w,o.yPercent=o.deltaY/o.h,o.srcEvent=t)}function a(t){e(t),1===o.touches.length&&r(t.target).closest(c).trigger(s+".drag"+t.type.split("touch")[1],o)}var n,i,o={};r(this).bind("touchstart",function(t){r(t.target).is("a.next")||r(t.target).is("a.prev")||r(this).addClass(h),a(t)}).bind("touchmove",function(t){10<Math.abs(o.deltaX)?t.preventDefault():3<Math.abs(o.deltaY)&&(i=!0),i||(e(t),a(t))}).bind("touchend",function(t){r(this).removeClass(h),a(t)})}});r.extend(r.fn[s].prototype,t),r(document).bind("create."+s,function(t){r(t.target)[s]("_dragBehavior")})}(jQuery);