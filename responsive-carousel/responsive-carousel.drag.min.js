!function(r){function d(e){return 4<Math.abs(e)}function o(e,t){var a=e.find("."+u+"-active"),n=t<0,s=a.prevAll().length+1+(n?1:-1),l=e.find("."+i).eq(s-1);return l.length||(l=e.find("."+i)[n?"first":"last"]()),[a,l,s-1]}var u="carousel",c=u+"-active",i=u+"-item",p=navigator.userAgent.indexOf("AppleWebKit")?"webkitTransitionEnd":"transitionEnd";r(document).bind(u+".dragmove",function(e,t){if((!t||d(t.deltaX))&&"slide"===r(e.target).attr("data-transition")){var a=o(r(e.target),t.deltaX),n=a[0],s=a[1];n.add(s).removeClass("carousel-in carousel-out").addClass("no-transition").unbind(p),n.css("left",t.deltaX+"px"),s.css("left",t.deltaX<0?t.w+t.deltaX+"px":-t.w+t.deltaX+"px")}}).bind(u+".dragend",function(t,e){if(!e||d(e.deltaX)){var a=o(r(t.target),e.deltaX),n=a[0],s=a[1],l=n.add(s),i=n.closest(".carousel");newSlide=45<Math.abs(parseFloat(a[0].css("left").replace("px",""))),i.addClass("carousel-autoplay-stopped"),l.removeClass("no-transition"),"slide"===r(t.target).attr("data-transition")?(r(t.target).one(p,function(){var e=newSlide?n:s;e.addClass("no-transition"),setTimeout(function(){e.removeClass("no-transition")},20),n.add(s).css("left",""),r(t.target).trigger("goto."+u,newSlide?s:n),i.removeClass("carousel-autoplay-stopped"),newSlide?i.carousel("_postTransitionCleanup",n,s):i.carousel("_postTransitionCleanup",s,n)}),(newSlide?n:s).removeClass(c).css("left",newSlide?0<e.deltaX?e.w+"px":-e.w+"px":0<e.deltaX?-e.w+"px":e.w+"px"),(newSlide?s:n).addClass(c).css("left",0)):newSlide&&r(t.target)[u](0<e.deltaX?"prev":"next")}})}(jQuery);