!function(i){function l(e){return"false"!==e.attr("data-loop")}var f="carousel",d=f+"-item";i(document).bind("beforecreate."+f,function(e){i(e.target)[f]("_loopInit")}),i.extend(i.fn[f].prototype,{_loopInit:function(){var e=i(this),o=i.fn[f].prototype;e.on("beforegoto."+f,o._loopBefore),e.on("beforedrag."+f,o._loopBefore),e.on("drag."+f,o._loopBefore),e.on("beforecreatenav."+f,o._loopBeforeCreateNav)},_loopBefore:function(e,o){var a,t,n,r=i(e.target);l(r)||(a=o.$to.index(),t=o.$from.index(),n=r.find("."+d),0===t&&"backward"==o.direction||t==n.length-1&&"forward"==o.direction?o.isDefaultPrevented=!0:(a===n.length-1&&r[f]("_disableNav","next"),0===a&&r[f]("_disableNav","prev"),0<a&&a<n.length-1&&(r[f]("_enableNav","next"),r[f]("_enableNav","prev"))))},_loopBeforeCreateNav:function(e,o){var a,t,n=i(e.target);l(n)||((t=(a=n.find("."+d)).filter(".carousel-active"))[0]===a[0]&&n[f]("_disableNav","prev",o.$nav),t.last()[0]===a.last()[0]&&n[f]("_disableNav","next",o.$nav))},_disableNav:function(e,o){(o||i(this)).find("a."+e).addClass("disabled")},_enableNav:function(e,o){(o||i(this)).find("a."+e).removeClass("disabled")}})}(jQuery);