!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.angularHal=e()}}(function(){return function e(t,r,n){function i(o,a){if(!r[o]){if(!t[o]){var f="function"==typeof require&&require;if(!a&&f)return f(o,!0);if(u)return u(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var l=r[o]={exports:{}};t[o][0].call(l.exports,function(e){var r=t[o][1][e];return i(r?r:e)},l,l.exports,e,t,r,n)}return r[o].exports}for(var u="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){function n(e){if(!e||"object"!=typeof e)throw new TypeError("argument obj is required");var t=e.parameters,r=e.type;if(!r||!p.test(r))throw new TypeError("invalid type");var n=r;if(t&&"object"==typeof t)for(var i,u=Object.keys(t).sort(),a=0;a<u.length;a++){if(i=u[a],!l.test(i))throw new TypeError("invalid parameter name");n+="; "+i+"="+o(t[i])}return n}function i(e){if(!e)throw new TypeError("argument string is required");if("object"==typeof e&&(e=u(e),"string"!=typeof e))throw new TypeError("content-type header is missing from object");if("string"!=typeof e)throw new TypeError("argument string is required to be a string");var t=e.indexOf(";"),r=-1!==t?e.substr(0,t).trim():e.trim();if(!p.test(r))throw new TypeError("invalid media type");var n,i,o,s=new a(r.toLowerCase());for(f.lastIndex=t;i=f.exec(e);){if(i.index!==t)throw new TypeError("invalid parameter format");t+=i[0].length,n=i[1].toLowerCase(),o=i[2],'"'===o[0]&&(o=o.substr(1,o.length-2).replace(c,"$1")),s.parameters[n]=o}if(-1!==t&&t!==e.length)throw new TypeError("invalid parameter format");return s}function u(e){return"function"==typeof e.getHeader?e.getHeader("content-type"):"object"==typeof e.headers?e.headers&&e.headers["content-type"]:void 0}function o(e){var t=String(e);if(l.test(t))return t;if(t.length>0&&!s.test(t))throw new TypeError("invalid parameter value");return'"'+t.replace(d,"\\$1")+'"'}function a(e){this.parameters=Object.create(null),this.type=e}var f=/; *([!#$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+) */g,s=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,l=/^[!#$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+$/,c=/\\([\u000b\u0020-\u00ff])/g,d=/([\\"])/g,p=/^[!#$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+\/[!#$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+$/;r.format=n,r.parse=i},{}],2:[function(e,t,r){function n(){var e=[];this.add=function(t,r){e.push({template:new i(t),handler:r})},this.handle=function(t){return e.some(function(e){var r=e.template.parse(t);return r&&e.handler(r)!==!1})}}var i=e("./UriTemplate");t.exports=n},{"./UriTemplate":3}],3:[function(e,t,r){function n(e){var t="-._~";return u(e)?"":(e=e.toString(),Array.prototype.map.call(e,function(e){var r=e.charCodeAt(0);return r>=48&&57>=r?e:r>=65&&90>=r?e:r>=97&&122>=r?e:~t.indexOf(e)?e:"%"+r.toString(16).toUpperCase()}).join(""))}function i(e){return!u(e)}function u(e){return null===e?!0:void 0===e?!0:!(!Array.isArray(e)||0!==e.length)}function o(e){function t(e){var t=o.exec(e);return{name:t[1],maxLength:t[2]&&parseInt(t[2].substring(1),10),composite:!!t[3]}}for(var r,n=/\{([\+#\.\/;\?&=\,!@\|]?)([A-Za-z0-9_\,\.\:\*]+?)\}/g,o=/^([\$_a-z][\$_a-z0-9]*)((?:\:[1-9][0-9]?[0-9]?[0-9]?)?)(\*?)$/i,f=[],s=[],l=0,c=0;r=n.exec(e);){if(s.push(e.substring(l,r.index)),r[1]&&~"=,!@|".indexOf(r[1]))throw"operator '"+r[1]+"' is reserved for future extensions";l=r.index,f.push({operator:r[1],variables:r[2].split(",").map(t)}),l+=r[0].length,c++}s.push(e.substring(l)),this.parse=function(e){var t={},r=0,n=[];return s.every(function(t,i){var u;return u=i>0&&""===t?e.length:e.indexOf(t,r),r=u,n.push(r),r+=t.length,~u})&&f.every(function(r,i){var u,o,f=a[r.operator],l=n[i]+s[i].length,c=n[i+1];return u=e.substring(l,c),0===u.length?!0:u.substring(0,f.prefix.length)!==f.prefix?!1:(u=u.substring(f.prefix.length),o=u.split(f.seperator),!!r.variables.every(function(e,r){var n,i=o[r];if(void 0===i)return!0;if(n=e.name,f.assignment){if(i.substring(0,n.length)!==n)return!1;if(i=i.substring(n.length),0===i.length&&f.assignEmpty)return!1;if(i.length>0){if("="!==i[0])return!1;i=i.substring(1)}}return i=decodeURIComponent(i),t[n]=i,!0}))})?t:!1},this.stringify=function(e){var t="";return e=e||{},t+=s[0],f.every(function(r,n){var o,f=a[r.operator];return o=r.variables.map(function(t){var r=e[t.name];return Array.isArray(r)||(r=[r]),r=r.filter(i),u(r)?null:(t.composite?(r=r.map(function(e){return"object"==typeof e?e=Object.keys(e).map(function(r){var n=e[r];return t.maxLength&&(n=n.substring(0,t.maxLength)),n=f.encode(n),n?n=r+"="+n:(n=r,f.assignEmpty&&(n+="=")),n}).join(f.seperator):(t.maxLength&&(e=e.substring(0,t.maxLength)),e=f.encode(e),f.assignment&&(e?e=t.name+"="+e:(e=t.name,f.assignEmpty&&(e+="=")))),e}),r=r.join(f.seperator)):(r=r.map(function(e){return"object"==typeof e?Object.keys(e).map(function(r){var n=e[r];return t.maxLength&&(n=n.substring(0,t.maxLength)),r+","+f.encode(n)}).join(","):(t.maxLength&&(e=e.substring(0,t.maxLength)),f.encode(e))}),r=r.join(","),f.assignment&&(r?r=t.name+"="+r:(r=t.name,f.assignEmpty&&(r+="=")))),r)}),o=o.filter(i),i(o)&&(t+=f.prefix,t+=o.join(f.seperator)),t+=s[n+1],!0})?t:!1}}t.exports=o;var a={"":{prefix:"",seperator:",",assignment:!1,assignEmpty:!1,encode:n},"+":{prefix:"",seperator:",",assignment:!1,assignEmpty:!1,encode:encodeURI},"#":{prefix:"#",seperator:",",assignment:!1,assignEmpty:!1,encode:encodeURI},".":{prefix:".",seperator:".",assignment:!1,assignEmpty:!1,encode:n},"/":{prefix:"/",seperator:"/",assignment:!1,encode:encodeURIComponent},";":{prefix:";",seperator:";",assignment:!0,assignEmpty:!1,encode:encodeURIComponent},"?":{prefix:"?",seperator:"&",assignment:!0,assignEmpty:!0,encode:encodeURIComponent},"&":{prefix:"&",seperator:"&",assignment:!0,assignEmpty:!0,encode:encodeURIComponent}}},{}],4:[function(e,t,r){t.exports={Router:e("./Router"),UriTemplate:e("./UriTemplate")}},{"./Router":2,"./UriTemplate":3}],5:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(){function e(t,r,i,u){n(this,e),this._$log=t,this._$http=r,this._$halConfiguration=u,this.LinkHeader=i}return i(e,[{key:"$get",value:function(e,t){return this.$request("GET",e,t)}},{key:"$post",value:function(e,t,r){return this.$request("POST",e,t,r)}},{key:"$put",value:function(e,t,r){return this.$request("PUT",e,t,r)}},{key:"$patch",value:function(e,t,r){return this.$request("PATCH",e,t,r)}},{key:"$delete",value:function(e,t){return this.$request("DELETE",e,t)}},{key:"$link",value:function(e,t,r){return t=t||{},t.headers=t.headers||{},t.headers.Link=r.map(function(e){return e.toString()}),this.$request("LINK",e,t)}},{key:"$unlink",value:function(e,t,r){return t=t||{},t.headers=t.headers||{},t.headers.Link=r.map(function(e){return e.toString()}),this.$request("UNLINK",e,t)}},{key:"$request",value:function(e,t,r,n){return r=r||{},this._$log.log("The halClient service is deprecated. Please use $http directly instead."),this._$http(angular.extend({},r,{method:e,url:this._$halConfiguration.urlTransformer(t),data:n}))}}]),e}();r["default"]=u,u.$inject=["$log","$http","LinkHeader","$halConfiguration"]},{}],6:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("./hal-client"),u=n(i),o=e("./link-header"),a=n(o),f="angular-hal.client";angular.module(f,[]).service("halClient",u["default"]).service("$halClient",u["default"]).value("LinkHeader",a["default"]),r["default"]=f},{"./hal-client":5,"./link-header":7}],7:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(){function e(t,r){n(this,e),this.uriReference=t,this.linkParams=angular.extend({rel:null,anchor:null,rev:null,hreflang:null,media:null,title:null,type:null},r)}return i(e,[{key:"toString",value:function(){var e="<"+this.uriReference+">",t=[];for(var r in this.linkParams){var n=this.linkParams[r];n&&t.push(r+'="'+n+'"')}return t.length<1?e:e=e+";"+t.join(";")}}]),e}();r["default"]=u},{}],8:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return e}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r.noopUrlTransformer=i;var o=function(){function e(){n(this,e),this._linksAttribute="_links",this._embeddedAttribute="_embedded",this._ignoreAttributePrefixes=["_","$"],this._selfLink="self",this._forceJSONResource=!1,this._urlTransformer=i,this.$get.$inject=["$log"]}return u(e,[{key:"setLinksAttribute",value:function(e){this._linksAttribute=e}},{key:"setEmbeddedAttribute",value:function(e){this._embeddedAttribute=e}},{key:"setIgnoreAttributePrefixes",value:function(e){this._ignoreAttributePrefixes=e}},{key:"addIgnoreAttributePrefix",value:function(e){this._ignoreAttributePrefixes.push(e)}},{key:"setSelfLink",value:function(e){this._selfLink=e}},{key:"setForceJSONResource",value:function(e){this._forceJSONResource=e}},{key:"setUrlTransformer",value:function(e){this._urlTransformer=e}},{key:"$get",value:function(e){return this._urlTransformer!==i&&e.log("$halConfigurationProvider.setUrlTransformer is deprecated. Please write a http interceptor instead."),Object.freeze({linksAttribute:this._linksAttribute,embeddedAttribute:this._embeddedAttribute,ignoreAttributePrefixes:this._ignoreAttributePrefixes,selfLink:this._selfLink,forceJSONResource:this._forceJSONResource,urlTransformer:this._urlTransformer})}}]),e}();r["default"]=o},{}],9:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("./hal-configuration.provider"),u=n(i),o="angular-hal.configuration";angular.module(o,[]).provider("$halConfiguration",u["default"]),r["default"]=o},{"./hal-configuration.provider":8}],10:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){e.interceptors.push(o["default"])}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=i;var u=e("./resource-http-interceptor.factory"),o=n(u);i.$inject=["$httpProvider"]},{"./resource-http-interceptor.factory":12}],11:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("../resource/index"),u=n(i),o=e("../configuration/index"),a=n(o),f=e("./http-interception.config"),s=n(f),l="angular-hal.http-interception";angular.module(l,[u["default"],a["default"]]).config(s["default"]),r["default"]=l},{"../configuration/index":9,"../resource/index":15,"./http-interception.config":10}],12:[function(e,t,r){"use strict";function n(e,t){function r(e){return"undefined"==typeof e.headers.Accept?e.headers.Accept=u:e.headers.Accept=[u,e.headers.Accept].join(", "),e}function n(t){try{if((0,i.parse)(t.headers("Content-Type")).type===u)return o(t)}catch(r){}return t.config.forceHal?o(t):"application/json"!==t.headers("Content-Type")&&null!==t.headers("Content-Type")||!e.forceJSONResource?t:o(t)}function o(e){return new t(e.data,e)}return{request:r,response:n}}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=n;var i=e("content-type"),u="application/hal+json";n.$inject=["$halConfiguration","Resource"]},{"content-type":1}],13:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("./http-interception/index"),u=n(i),o=e("./client/index"),a=n(o),f="angular-hal";angular.module(f,[u["default"],a["default"]]),r["default"]=f},{"./client/index":6,"./http-interception/index":11}],14:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,r){function n(n,i){function u(t,u,o,a,f){var s;if(t=t||"GET",u=u||r.selfLink,o=o||{},a=a||null,f=f||{},"GET"===t&&u===r.selfLink)return e.resolve(n);if(n.$hasEmbedded(u)&&Array.isArray(i[u])){s=[];for(var l=0;l<i[u].length;l++)s.push(i[u][l].$request().$request(t,"self",o,a,f));return e.all(s)}if(n.$hasEmbedded(u))return i[u].$request().$request(t,"self",o,a,f);if(n.$hasLink(u)){var c=n.$href(u,o);if(angular.extend(f,{method:t,data:a}),Array.isArray(c)){s=[];for(var d=0;d<c.length;d++)s.push(A(angular.extend({},f,{url:c[d]})));return e.all(s)}return x(u,o,f)}return e.reject(new Error('link "'+u+'" is undefined'))}function a(e,t,r){return u("GET",e,t,void 0,r)}function f(e,t,r){return a(e,t,r).then(function(t){return t.$has(e)?t.$request().$get(e):[]})}function s(e,t,r,n){return u("POST",e,t,r,n)}function l(e,t,r,n){return u("PUT",e,t,r,n)}function c(e,t,r,n){return u("PATCH",e,t,r,n)}function d(e,t,r){return u("DELETE",e,t,void 0,r)}function p(e,t,r,n){return n=n||{},n.headers=n.headers||{},n.headers.Link=r.map(y),u("LINK",e,t,void 0,n)}function h(e,t,r,n){return n=n||{},n.headers=n.headers||{},n.headers.Link=r.map(y),u("UNLINK",e,t,void 0,n)}function y(e){return e.toString()}function g(e){var t=angular.extend({},e,{method:"GET"});return x(r.selfLink,{},t)}function v(e,t){return l(r.selfLink,null,e,t)}function m(e,t){return s(r.selfLink,null,e,t)}function b(e,t){return c(r.selfLink,null,e,t)}function $(e,t){return p(r.selfLink,null,e,t)}function _(e,t){return h(r.selfLink,null,e,t)}function k(e){return d(r.selfLink,null,e)}function x(e,t,r){return A(angular.extend({},r,{url:n.$href(e,t)}))}var j=this,A=t.get("$http");!function(){(0,o["default"])(j,{$request:u,$get:a,$getCollection:f,$post:s,$put:l,$patch:c,$delete:d,$del:d,$link:p,$unlink:h,$getSelf:g,$postSelf:m,$putSelf:v,$patchSelf:b,$deleteSelf:k,$delSelf:k,$linkSelf:$,$unlinkSelf:_})}()}return n}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=i;var u=e("../utility/extend-read-only"),o=n(u);i.$inject=["$q","$injector","$halConfiguration"]},{"../utility/extend-read-only":18}],15:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("../configuration/index"),u=n(i),o=e("./resource.factory"),a=n(o),f=e("./hal-resource-client.factory"),s=n(f),l="angular-hal.resource";angular.module(l,[u["default"]]).factory("Resource",a["default"]).factory("HalResourceClient",s["default"]),r["default"]=l},{"../configuration/index":9,"./hal-resource-client.factory":14,"./resource.factory":16}],16:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,r){function n(i,o){function f(){for(var e in i)i.hasOwnProperty(e)&&(g(e)||(0,s["default"])(w,e,i[e]))}function l(){"object"===u(i[t.linksAttribute])&&Object.keys(i[t.linksAttribute]).forEach(function(e){var r=i[t.linksAttribute][e];T[e]=(0,p["default"])(o.config.url,r)})}function d(){"object"===u(i[t.embeddedAttribute])&&Object.keys(i[t.embeddedAttribute]).forEach(function(e){y(e,i[t.embeddedAttribute][e])})}function h(){A=new e(w,P)}function y(e,t){return Array.isArray(t)?(P[e]=[],void t.forEach(function(t){P[e].push(new n(t,o))})):void(P[e]=new n(t,o))}function g(e){for(var r=0;r<t.ignoreAttributePrefixes.length;r++){if(e.substr(0,1)===t.ignoreAttributePrefixes[r])return!0;if(e===t.linksAttribute||e===t.embeddedAttribute)return!0}return!1}function v(e){return"undefined"!=typeof T[e]}function m(e){return"undefined"!=typeof P[e]}function b(e){return v(e)||m(e)}function $(e,r){var n=_(e),i=n.href;if(Array.isArray(n)){i=[];for(var u=0;u<n.length;u++){var o=n[u],a=o.href;"undefined"!=typeof o.templated&&o.templated&&(a=(0,c["default"])(o.href,r)),a=t.urlTransformer(a),i.push(a)}}else"undefined"!=typeof n.templated&&n.templated&&(i=(0,c["default"])(n.href,r)),i=t.urlTransformer(i);return i}function _(e){if(!v(e))throw new Error('link "'+e+'" is undefined');var t=T[e];return"undefined"!=typeof t.deprecation&&r.warn('The link "'+e+'" is marked as deprecated with the value "'+t.deprecation+'".'),t}function k(e){for(var r=0;r<t.ignoreAttributePrefixes.length;r++){var n=t.ignoreAttributePrefixes[r]+e;return i[n]}}function x(){return o}function j(){return A}var A,w=this,T={},P={};!function(){"object"===("undefined"==typeof i?"undefined":u(i))&&null!==i||(i={}),f(),d(),l(),h(),(0,a["default"])(w,{$hasLink:v,$hasEmbedded:m,$has:b,$href:$,$meta:k,$link:_,$request:j,$response:x})}()}return n}Object.defineProperty(r,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};r["default"]=i;var o=e("../utility/extend-read-only"),a=n(o),f=e("../utility/define-read-only"),s=n(f),l=e("../utility/generate-url"),c=n(l),d=e("../utility/normalize-link"),p=n(d);i.$inject=["HalResourceClient","$halConfiguration","$log"]},{"../utility/define-read-only":17,"../utility/extend-read-only":18,"../utility/generate-url":19,"../utility/normalize-link":20}],17:[function(e,t,r){"use strict";function n(e,t,r){Object.defineProperty(e,t,{configurable:!1,enumerable:!0,value:r,writable:!1})}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=n},{}],18:[function(e,t,r){"use strict";function n(e,t){for(var r in t)Object.defineProperty(e,r,{configurable:!1,enumerable:!1,value:t[r]})}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=n},{}],19:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return new o["default"].UriTemplate(e).stringify(t)}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=i;var u=e("rfc6570/src/main"),o=n(u)},{"rfc6570/src/main":4}],20:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return Array.isArray(t)?t.map(function(t){return i(e,t)}):"string"==typeof t?{href:(0,o["default"])(e,t)}:"string"==typeof t.href?(t.href=(0,o["default"])(e,t.href),t):Array.isArray(t.href)?t.href.map(function(r){var n=angular.extend({},t,{href:r});return i(e,n)}):{href:e}}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=i;var u=e("../utility/resolve-url"),o=n(u)},{"../utility/resolve-url":21}],21:[function(e,t,r){"use strict";function n(e,t){for(var r="",n=/^((?:\w+\:)?)((?:\/\/)?)([^\/]*)((?:\/.*)?)$/,i=n.exec(e),u=n.exec(t),o=1;5>o;o++)r+=u[o]?u[o]:i[o];return r}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=n},{}]},{},[13])(13)});