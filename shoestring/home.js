!function(t){"function"==typeof define&&define.amd?define(["shoestring"],t):"object"==typeof module&&module.exports?module.exports=t():t()}(function(){function t(e,n){var i,r=typeof e,s=[];if(!e)return new h(s);if(e.call)return t.ready(e);if(e.constructor===h&&!n)return e;if("string"===r&&0===e.indexOf("<")){var c=o.createElement("div");return c.innerHTML=e,t(c).children().each(function(){c.removeChild(this)})}return"string"===r?n?t(n).find(e):(i=o.querySelectorAll(e),new h(i,e)):"[object Array]"===Object.prototype.toString.call(r)||a.NodeList&&e instanceof a.NodeList?new h(e,e):e.constructor===Array?new h(e,e):new h([e],e)}function e(t,e){var n=!1;return t.each(function(){for(var t=0;t<e.length;)this===e[t]&&(n=!0),t++}),n}function n(t,e){t.shoestringData||(t.shoestringData={}),t.shoestringData.events||(t.shoestringData.events={}),t.shoestringData.loop||(t.shoestringData.loop={}),t.shoestringData.events[e]||(t.shoestringData.events[e]=[])}function i(t,e,n){var i={};i.isCustomEvent=n.isCustomEvent,i.callback=n.callfunc,i.originalCallback=n.originalCallback,i.namespace=n.namespace,t.shoestringData.events[e].push(i),n.customEventLoop&&(t.shoestringData.loop[e]=n.customEventLoop)}function r(t,e,n){var i=this.shoestringData.events[t];if(i&&i.length){var r,s,a=[];for(r=0,s=i.length;r<s;r++)e&&e!==i[r].namespace||void 0!==n&&n!==i[r].originalCallback||(this.removeEventListener(t,i[r].callback,!1),a.push(r));for(r=0,s=a.length;r<s;r++)this.shoestringData.events[t].splice(r,1)}}function s(t,e){for(var n in this.shoestringData.events)r.call(this,n,t,e)}var a="undefined"!=typeof window?window:this,o=a.document,h=function(e,n){this.length=0,this.selector=n,t.merge(this,e)};h.prototype.reverse=[].reverse,t.fn=h.prototype,t.Shoestring=h,t.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},t.merge=function(t,e){var n,i,r;for(n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},a.shoestring=t,t.ajax=function(e,n){var i,r,s="",a=new XMLHttpRequest;if(i=t.extend({},t.ajax.settings),n&&t.extend(i,n),e||(e=i.url),a&&e){if(i.data)for(r in i.data)i.data.hasOwnProperty(r)&&(""!==s&&(s+="&"),s+=encodeURIComponent(r)+"="+encodeURIComponent(i.data[r]));if("GET"===i.method&&s&&(e+="?"+s),a.open(i.method,e,i.async),a.setRequestHeader){a.setRequestHeader("X-Requested-With","XMLHttpRequest"),"POST"===i.method&&s&&a.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(r in i.headers)i.headers.hasOwnProperty(r)&&a.setRequestHeader(r,i.headers[r])}return a.onreadystatechange=function(){if(4===a.readyState){var t=(a.responseText||"").replace(/^\s+|\s+$/g,"");if(0===a.status.toString().indexOf("0"))return i.cancel(t,a.status,a);if(a.status.toString().match(/^(4|5)/)&&RegExp.$1)return i.error(t,a.status,a);if(i.success)return i.success(t,a.status,a)}},4===a.readyState?a:("POST"===i.method&&s?a.send(s):a.send(),a)}},t.ajax.settings={success:function(){},error:function(){},cancel:function(){},method:"GET",async:!0,data:null,headers:{}},t.get=function(e,n){return t.ajax(e,{success:n})},t.fn.load=function(e,n){var i=this,r=arguments,s=function(e){i.each(function(){t(this).html(e)}),n&&n.apply(i,r)};return t.ajax(e,{success:s}),this},t.post=function(e,n,i){return t.ajax(e,{data:n,method:"POST",success:i})},t.fn.each=function(e){return t.each(this,e)},t.each=function(t,e){for(var n,i=0,r=t.length;i<r&&(n=e.call(t[i],i,t[i]),n!==!1);i++);return t},t.inArray=function(t,e){for(var n=-1,i=0,r=e.length;i<r;i++)e.hasOwnProperty(i)&&e[i]===t&&(n=i);return n},t.ready=function(t){return c&&t?t.call(o):t?f.push(t):u(),[o]},t.fn.ready=function(e){return t.ready(e),this};var c=!1,f=[],u=function(){if(!c){for(;f.length;)f.shift().call(o);c=!0}};(o.attachEvent?"complete"===o.readyState:"loading"!==o.readyState)?u():(o.addEventListener("DOMContentLoaded",u,!1),o.addEventListener("readystatechange",u,!1),a.addEventListener("load",u,!1)),t.fn.is=function(n){var i,r,s=!1,a=this;return"string"!=typeof n?(r=n.length&&n[0]?n:[n],e(this,r)):(i=this.parent(),i.length||(i=t(o)),i.each(function(t,i){var r;r=i.querySelectorAll(n),s=e(a,r)}),s)},t.fn.data=function(t,e){return void 0===t?this[0]?this[0].shoestringData||{}:void 0:void 0!==e?this.each(function(){this.shoestringData||(this.shoestringData={}),this.shoestringData[t]=e}):this[0]&&this[0].shoestringData?this[0].shoestringData[t]:void 0},t.fn.removeData=function(t){return this.each(function(){void 0!==t&&this.shoestringData?(this.shoestringData[t]=void 0,delete this.shoestringData[t]):this[0].shoestringData={}})},a.$=t,t.fn.addClass=function(t){var e=t.replace(/^\s+|\s+$/g,"").split(" ");return this.each(function(){for(var t=0,n=e.length;t<n;t++)void 0===this.className||""!==this.className&&this.className.match(new RegExp("(^|\\s)"+e[t]+"($|\\s)"))||(this.className+=" "+e[t])})},t.fn.add=function(e){var n=[];return this.each(function(){n.push(this)}),t(e).each(function(){n.push(this)}),t(n)},t.fn.after=function(e){return"string"!=typeof e&&void 0===e.nodeType||(e=t(e)),e.length>1&&(e=e.reverse()),this.each(function(t){for(var n=0,i=e.length;n<i;n++){var r=t>0?e[n].cloneNode(!0):e[n];this.parentNode.insertBefore(r,this.nextSibling)}})},t.fn.append=function(e){return"string"!=typeof e&&void 0===e.nodeType||(e=t(e)),this.each(function(t){for(var n=0,i=e.length;n<i;n++)this.appendChild(t>0?e[n].cloneNode(!0):e[n])})},t.fn.appendTo=function(e){return this.each(function(){t(e).append(this)})},t.fn.attr=function(t,e){var n="string"==typeof t;return void 0===e&&n?this[0]?this[0].getAttribute(t):void 0:this.each(function(){if(n)this.setAttribute(t,e);else for(var i in t)t.hasOwnProperty(i)&&this.setAttribute(i,t[i])})},t.fn.before=function(e){return"string"!=typeof e&&void 0===e.nodeType||(e=t(e)),this.each(function(t){for(var n=0,i=e.length;n<i;n++)this.parentNode.insertBefore(t>0?e[n].cloneNode(!0):e[n],this)})},t.fn.children=function(){var e,n,i=[];return this.each(function(){for(e=this.children,n=-1;n++<e.length-1;)t.inArray(e[n],i)===-1&&i.push(e[n])}),t(i)},t.fn.clone=function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),t(e)},t.fn.closest=function(e){var n=[];return e?(this.each(function(){var i,r=t(i=this);if(r.is(e))return void n.push(this);for(;i.parentElement;){if(t(i.parentElement).is(e)){n.push(i.parentElement);break}i=i.parentElement}}),t(n)):t(n)},t.cssExceptions={float:["cssFloat"]},function(){function e(t){return t.replace(/\-([A-Za-z])/g,function(t,e){return e.toUpperCase()})}function n(t,e){return a.getComputedStyle(t,null).getPropertyValue(e)}var i=t.cssExceptions,r=["","-webkit-","-ms-","-moz-","-o-","-khtml-"];t._getStyle=function(t,s){var a,o,h,c;if(i[s])for(h=0,c=i[s].length;h<c;h++)if(o=n(t,i[s][h]))return o;for(h=0,c=r.length;h<c;h++)if(a=e(r[h]+s),o=n(t,a),a!==s&&(o=o||n(t,s)),r[h]&&(o=o||n(t,r[h]+s)),o)return o}}(),function(){function e(t){return t.replace(/\-([A-Za-z])/g,function(t,e){return e.toUpperCase()})}var n=t.cssExceptions;t._setStyle=function(t,i,r){var s=e(i);if(t.style[i]=r,s!==i&&(t.style[s]=r),n[i])for(var a=0,o=n[i].length;a<o;a++)t.style[n[i][a]]=r}}(),t.fn.css=function(e,n){if(this[0])return"object"==typeof e?this.each(function(){for(var n in e)e.hasOwnProperty(n)&&t._setStyle(this,n,e[n])}):void 0!==n?this.each(function(){t._setStyle(this,e,n)}):t._getStyle(this[0],e)},t.fn.eq=function(e){return t(this[e]?this[e]:[])},t.fn.filter=function(e){var n=[];return this.each(function(i){var r;if("function"==typeof e)e.call(this,i)!==!1&&n.push(this);else if(9===this.nodeType)this===e&&n.push(this);else{if(this.parentNode)r=t(e,this.parentNode);else{var s=t(o.createDocumentFragment());s[0].appendChild(this),r=t(e,s)}t.inArray(this,r)>-1&&n.push(this)}}),t(n)},t.fn.find=function(e){var n,i=[];return this.each(function(){n=this.querySelectorAll(e);for(var t=0,r=n.length;t<r;t++)i=i.concat(n[t])}),t(i)},t.fn.first=function(){return this.eq(0)},t.fn.get=function(t){if(void 0===t){for(var e=[],n=0;n<this.length;n++)e.push(this[n]);return e}return this[t]},t._dimension=function(t,e,n){var i;return void 0===n?(i=e.replace(/^[a-z]/,function(t){return t.toUpperCase()}),t[0]["offset"+i]):(n="string"==typeof n?n:n+"px",t.each(function(){this.style[e]=n}))},t.fn.height=function(e){return t._dimension(this,"height",e)};var l=function(t){if("string"==typeof t||"number"==typeof t)return this.each(function(){this.innerHTML=""+t});var e="";if("undefined"!=typeof t.length)for(var n=0,i=t.length;n<i;n++)e+=t[n].outerHTML;else e=t.outerHTML;return this.each(function(){this.innerHTML=e})};t.fn.html=function(t){if("undefined"!=typeof t)return l.call(this,t);var e="";return this.each(function(){e+=this.innerHTML}),e},function(){function e(t,e){var n,i,r;for(n=i=0;n<t.length;n++){if(r=t.item?t.item(n):t[n],e(r))return i;1===r.nodeType&&i++}return-1}t.fn.index=function(n){var i,r;return i=this,void 0===n?(r=(this[0]&&this[0].parentNode||o.documentElement).childNodes,e(r,function(t){return i[0]===t})):e(i,function(e){return e===t(n,e.parentNode)[0]})}}(),t.fn.insertAfter=function(e){return this.each(function(){t(e).after(this)})},t.fn.insertBefore=function(e){return this.each(function(){t(e).before(this)})},t.fn.last=function(){return this.eq(this.length-1)},t.fn.next=function(){var e=[];return this.each(function(){var n,i,r;n=t(this.parentNode)[0].childNodes;for(var s=0;s<n.length;s++){if(i=n.item(s),r&&1===i.nodeType){e.push(i);break}i===this&&(r=!0)}}),t(e)},t.fn.not=function(e){var n=[];return this.each(function(){var i=t(e,this.parentNode);t.inArray(this,i)===-1&&n.push(this)}),t(n)},t.fn.offset=function(){return{top:this[0].offsetTop,left:this[0].offsetLeft}},t.fn.parent=function(){var e,n=[];return this.each(function(){e=this===o.documentElement?o:this.parentNode,e&&11!==e.nodeType&&n.push(e)}),t(n)},t.fn.parents=function(e){var n=[];return this.each(function(){for(var i,r=this;r.parentElement&&!i;)r=r.parentElement,e?r===t(e)[0]&&(i=!0,t.inArray(r,n)===-1&&n.push(r)):t.inArray(r,n)===-1&&n.push(r)}),t(n)},t.fn.prepend=function(e){return"string"!=typeof e&&void 0===e.nodeType||(e=t(e)),this.each(function(t){for(var n=0,i=e.length;n<i;n++){var r=t>0?e[n].cloneNode(!0):e[n];this.firstChild?this.insertBefore(r,this.firstChild):this.appendChild(r)}})},t.fn.prependTo=function(e){return this.each(function(){t(e).prepend(this)})},t.fn.prev=function(){var e=[];return this.each(function(){var n,i,r;n=t(this.parentNode)[0].childNodes;for(var s=n.length-1;s>=0;s--){if(i=n.item(s),r&&1===i.nodeType){e.push(i);break}i===this&&(r=!0)}}),t(e)},t.fn.prevAll=function(){var e=[];return this.each(function(){for(var n=t(this).prev();n.length;)e.push(n[0]),n=n.prev()}),t(e)},t.propFix={class:"className",contenteditable:"contentEditable",for:"htmlFor",readonly:"readOnly",tabindex:"tabIndex"},t.fn.prop=function(e,n){if(this[0])return e=t.propFix[e]||e,void 0!==n?this.each(function(){this[e]=n}):this[0][e]},t.fn.removeAttr=function(t){return this.each(function(){this.removeAttribute(t)})},t.fn.removeClass=function(t){var e=t.replace(/^\s+|\s+$/g,"").split(" ");return this.each(function(){for(var t,n,i=0,r=e.length;i<r;i++)void 0!==this.className&&(n=new RegExp("(^|\\s)"+e[i]+"($|\\s)","gmi"),t=this.className.replace(n," "),this.className=t.replace(/^\s+|\s+$/g,""))})},t.fn.remove=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})},t.fn.removeProp=function(e){var n=t.propFix[e]||e;return this.each(function(){this[n]=void 0,delete this[n]})},t.fn.replaceWith=function(e){"string"==typeof e&&(e=t(e));var n=[];return e.length>1&&(e=e.reverse()),this.each(function(t){var i,r=this.cloneNode(!0);if(n.push(r),this.parentNode)if(1===e.length)i=t>0?e[0].cloneNode(!0):e[0],this.parentNode.replaceChild(i,this);else{for(var s=0,a=e.length;s<a;s++)i=t>0?e[s].cloneNode(!0):e[s],this.parentNode.insertBefore(i,this.nextSibling);this.parentNode.removeChild(this)}}),t(n)},t.inputTypes=["text","hidden","password","color","date","datetime","email","month","number","range","search","tel","time","url","week"],t.inputTypeTest=new RegExp(t.inputTypes.join("|")),t.fn.serialize=function(){var e={};return t("input, select",this).each(function(){var n=this.type,i=this.name,r=this.value;t.inputTypeTest.test(n)||("checkbox"===n||"radio"===n)&&this.checked?e[i]=r:"SELECT"===this.nodeName&&(e[i]=this.options[this.selectedIndex].nodeValue)}),e},t.fn.siblings=function(){if(!this.length)return t([]);var e=[],n=this[0].parentNode.firstChild;do 1===n.nodeType&&n!==this[0]&&e.push(n),n=n.nextSibling;while(n);return t(e)};var p=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=p(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=p(e);return n};return t.fn.text=function(){return p(this)},t.fn.val=function(e){var n;return void 0!==e?this.each(function(){if("SELECT"===this.tagName){var n,i,r,s=this.options,a=[],o=s.length;for(a[0]=e;o--;)i=s[o],(i.selected=t.inArray(i.value,a)>=0)&&(n=!0,r=o);n?this.selectedIndex=r:this.selectedIndex=-1}else this.value=e}):(n=this[0],"SELECT"===n.tagName?n.selectedIndex<0?"":n.options[n.selectedIndex].value:n.value)},t.fn.width=function(e){return t._dimension(this,"width",e)},t.fn.wrapInner=function(e){return this.each(function(){var n=this.innerHTML;this.innerHTML="",t(this).append(t(e).html(n))})},t.fn.bind=function(t,e,r){function s(t,n,i){var s;if(!t._namespace||t._namespace===n){t.data=e,t.namespace=t._namespace;var a=function(){return!0};t.isDefaultPrevented=function(){return!1};var o=t.preventDefault,h=function(){return o?function(){t.isDefaultPrevented=a,o.call(t)}:function(){t.isDefaultPrevented=a,t.returnValue=!1}};return t.target=i||t.target||t.srcElement,t.preventDefault=h(),t.stopPropagation=t.stopPropagation||function(){t.cancelBubble=!0},s=r.apply(this,[t].concat(t._args)),s===!1&&(t.preventDefault(),t.stopPropagation()),s}}"function"==typeof e&&(r=e,e=null);var a=t.split(" ");return this.each(function(){for(var t,e,o,h=this,c=0,f=a.length;c<f;c++){var u=a[c].split("."),l=u[0],p=u.length>0?u[1]:null;t=function(t){return h.ssEventTrigger&&(t._namespace=h.ssEventTrigger._namespace,t._args=h.ssEventTrigger._args,h.ssEventTrigger=null),s.call(h,t,p)},e=null,o=null,n(this,l),this.addEventListener(l,t,!1),i(this,l,{callfunc:e||t,isCustomEvent:!!e,customEventLoop:o,originalCallback:r,namespace:p})}})},t.fn.on=t.fn.bind,t.fn.unbind=function(t,e){var n=t?t.split(" "):[];return this.each(function(){if(this.shoestringData&&this.shoestringData.events)if(n.length)for(var t,i,a,o=0,h=n.length;o<h;o++)t=n[o].split("."),i=t[0],a=t.length>0?t[1]:null,i?r.call(this,i,a,e):s.call(this,a,e);else s.call(this)})},t.fn.off=t.fn.unbind,t.fn.one=function(e,n){var i=e.split(" ");return this.each(function(){for(var e,r={},s=t(this),a=0,o=i.length;a<o;a++)e=i[a],r[e]=function(e){var i=t(this);for(var s in r)i.unbind(s,r[s]);return n.apply(this,[e].concat(e._args))},s.bind(e,r[e])})},t.fn.triggerHandler=function(t,e){var n,i=t.split(" ")[0],r=this[0];if(o.createEvent&&r.shoestringData&&r.shoestringData.events&&r.shoestringData.events[i]){var s=r.shoestringData.events[i];for(var a in s)s.hasOwnProperty(a)&&(t=o.createEvent("Event"),t.initEvent(i,!0,!0),t._args=e,e.unshift(t),n=s[a].originalCallback.apply(t.target,e))}return n},t.fn.trigger=function(t,e){var n=t.split(" ");return this.each(function(){for(var t,i,r,s=0,a=n.length;s<a;s++){if(t=n[s].split("."),i=t[0],r=t.length>0?t[1]:null,"click"===i&&"INPUT"===this.tagName&&"checkbox"===this.type&&this.click)return this.click(),!1;if(o.createEvent){var h=o.createEvent("Event");h.initEvent(i,!0,!0),h._args=e,h._namespace=r,this.dispatchEvent(h)}}})},t});
//# sourceMappingURL=shoestring.min.js.map