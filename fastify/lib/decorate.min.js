"use strict";const{kReply:kReply,kRequest:kRequest,kState:kState}=require("./symbols.js"),{FST_ERR_DEC_ALREADY_PRESENT:FST_ERR_DEC_ALREADY_PRESENT,FST_ERR_DEC_MISSING_DEPENDENCY:FST_ERR_DEC_MISSING_DEPENDENCY,FST_ERR_DEC_AFTER_START:FST_ERR_DEC_AFTER_START}=require("./errors"),warning=require("./warnings");function decorate(e,t,c,n){if(e.hasOwnProperty(t))throw new FST_ERR_DEC_ALREADY_PRESENT(t);n&&checkDependencies(e,n),!c||"function"!=typeof c.getter&&"function"!=typeof c.setter?e[t]=c:Object.defineProperty(e,t,{get:c.getter,set:c.setter})}function checkReferenceType(e,t){"object"==typeof t&&t&&"function"!=typeof t.getter&&"function"!=typeof t.setter&&warning.emit("FSTDEP006",e)}function decorateFastify(e,t,c){return assertNotStarted(this,e),decorate(this,e,t,c),this}function checkExistence(e,t){return t?t in e:e in this}function checkRequestExistence(e){return checkExistence(this[kRequest].prototype,e)}function checkReplyExistence(e){return checkExistence(this[kReply].prototype,e)}function checkDependencies(e,t){for(let c=0;c<t.length;c++)if(!checkExistence(e,t[c]))throw new FST_ERR_DEC_MISSING_DEPENDENCY(t[c])}function decorateReply(e,t,c){return assertNotStarted(this,e),checkReferenceType(e,t),decorate(this[kReply].prototype,e,t,c),this}function decorateRequest(e,t,c){return assertNotStarted(this,e),checkReferenceType(e,t),decorate(this[kRequest].prototype,e,t,c),this}function assertNotStarted(e,t){if(e[kState].started)throw new FST_ERR_DEC_AFTER_START(t)}module.exports={add:decorateFastify,exist:checkExistence,existRequest:checkRequestExistence,existReply:checkReplyExistence,dependencies:checkDependencies,decorateReply:decorateReply,decorateRequest:decorateRequest};