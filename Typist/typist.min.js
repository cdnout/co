(function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},s={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=function(){function t(){this._fireEvent=e(this._fireEvent,this),this._empty=e(this._empty,this),this._each=e(this._each,this)}return t.prototype._addEvent=function(t,e,s,i){return null==i&&(i=!1),t.addEventListener(e,s,i)},t.prototype._forEach=function(t,e,s){var i,n,r;for(i=0,n=t.length,r=[];n>i;)i in t&&e.call(s,t[i],i,t),r.push(i++);return r},t.prototype._each=function(t,e,s){return t?(this._forEach(t,e,s),t):void 0},t.prototype._pass=function(t,e,s){return null==e&&(e=[]),function(){return t.apply(s,e)}},t.prototype._delay=function(t,e,s,i){return null==i&&(i=[]),setTimeout(this._pass(t,i,s),e)},t.prototype._periodical=function(t,e,s,i){return null==i&&(i=[]),setInterval(this._pass(t,i,s),e)},t.prototype._setHtml=function(t,e){return t.innerHTML=e},t.prototype._getHtml=function(t){return t.innerHTML},t.prototype._empty=function(t){return this._setHtml(t,"")},t.prototype._fireEvent=function(t,e){return this.options[t]?this.options[t].call(this,e,this.options):void 0},t.prototype._extend=function(t,e){var s,i;for(s in e)i=e[s],t[s]=i;return t},t}(),this.Typist=function(t){function s(t,s){null==s&&(s={}),this.typeLetter=e(this.typeLetter,this),this.typeLetters=e(this.typeLetters,this),this.typeText=e(this.typeText,this),this.selectOffset=e(this.selectOffset,this),this.selectText=e(this.selectText,this),this.fetchVariations=e(this.fetchVariations,this),this.next=e(this.next,this),this.slide=e(this.slide,this),this.setupDefaults=e(this.setupDefaults,this),this.options={typist:t,letterSelectInterval:60,interval:3e3,selectClassName:"selectedText"},this.options=this._extend(this.options,s),this.elements={typist:this.options.typist},this.offsets={current:{index:0,text:""}},this.elements.typist&&this.setupDefaults()}return i(s,t),s.prototype.setupDefaults=function(){return this.variations=this.fetchVariations(this.elements.typist),this.newText=[],this.timer=this._periodical(this.slide,this.options.interval)},s.prototype.slide=function(t){return this.offsets.current.text=this.variations[this.offsets.current.index],this.offsets.current.text=this.offsets.current.text.split(""),this._each(this.offsets.current.text,this.selectText),this.offsets.current.index=this.next(this.offsets.current.index),this._delay(function(t){return function(){return t.options.currentSlideIndex=t.offsets.current.index,t.typeText(t.variations[t.offsets.current.index])}}(this),this.options.letterSelectInterval*this.offsets.current.text.length),this.variations.length<=this.offsets.current.index?this.offsets.current.index=0:0===this.offsets.current.index?this.offsets.current.index=this.variations.length:this.offsets.current.index=this.offsets.current.index,this.newText.length=0},s.prototype.next=function(t){return t+=1},s.prototype.fetchVariations=function(t){var e,s,i;return e=t.getAttribute("data-typist"),s=this._getHtml(t),i=e.split(","),i.splice(0,0,s),i},s.prototype.selectText=function(t,e){return this._delay(function(t){return function(){return t.selectOffset(t.offsets.current.text.length-e-1)}}(this),e*this.options.letterSelectInterval)},s.prototype.selectOffset=function(t){var e,s,i;return s=this.offsets.current.text,e=s.slice(t,s.length),e=e.join(""),i=s.slice(0,t),i=i.join(""),this._setHtml(this.elements.typist,""+i+'<em class="'+this.options.selectClassName+'">'+e+"</em>")},s.prototype.typeText=function(t){return this.typeTextSplit=t.split(""),this._each(this.typeTextSplit,this.typeLetters),this._fireEvent("onSlide",t)},s.prototype.typeLetters=function(t,e){return clearInterval(this.timer),this._delay(function(s){return function(){return s.typeLetter(t,e)}}(this),e*this.options.letterSelectInterval)},s.prototype.typeLetter=function(t,e){return this._empty(this.elements.typist),this.newText.push(t),this._setHtml(this.elements.typist,this.newText.join("")),this.typeTextSplit.length===e+1?this.timer=this._periodical(this.slide,this.options.interval):void 0},s}(t)}).call(this);
//# sourceMappingURL=typist.min.js.map