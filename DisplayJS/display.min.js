class DisplayJS{constructor(a){this.obj=a}var(a){const b=()=>{this.if(),this.else();const a=document.querySelectorAll("[var]");for(let b=0;b<a.length;b++){const c=a[b].getAttribute("var");if(!c.includes("."))a[b].innerHTML=this.obj[c];else{const d=c.split(".");let e=this.obj[d[0]];for(let a=1;a<d.length;a++)e=e[d[a]];a[b].innerHTML=e}}};a?!0==a?(b(),this.live(this.obj,()=>{b()})):window.setInterval(()=>{b()},a):b()}render(a){this.var(a)}renderVariables(a){this.var(a)}xss(a){const b=/</g,c=/>/g,d=/'/g,e=/"/g;return a.toString().replace(b,"&lt;").replace(c,"&gt;").replace(d,"&#39;").replace(e,"&#34;")}xssURI(a){return encodeURI(a)}target(a=()=>{this.var()}){const b=(()=>{return document.addEventListener?(a,b,c)=>{a.addEventListener(b,c,!1)}:(a,b,c)=>{a.attachEvent(`on${b}`,c)}})(),c=this.obj;[].forEach.call(document.querySelectorAll("[target]"),(d)=>{b(d,"change",function(){const b=d.getAttribute("target");c[b]="checkbox"==this.type?this.checked:"select"==this.type?this.options[this.selectedIndex].value:this.value,a(d)}),b(d,"keydown",function(){const b=d.getAttribute("target");c[b]="checkbox"==this.type?this.checked:"select"==this.type?this.options[this.selectedIndex].value:this.value,a(d)}),b(d,"input",function(){const b=d.getAttribute("target");c[b]="checkbox"==this.type?this.checked:"select"==this.type?this.options[this.selectedIndex].value:this.value,a(d)}),b(d,"paste",function(){const b=d.getAttribute("target");c[b]="checkbox"==this.type?this.checked:"select"==this.type?this.options[this.selectedIndex].value:this.value,a(d)})})}if(a){const b=()=>{const a=document.querySelectorAll("[if]");for(let b=0;b<a.length;b++){const c=a[b].getAttribute("if"),d=[];d.push(a[b]),eval(this.obj[c])?this.show(this.toNodeList(d[0])):this.hide(this.toNodeList(d[0]))}};a?!0==a?(b(),this.live(this.obj,()=>{b()})):window.setInterval(()=>{b()},a):b()}else(a){const b=()=>{const a=document.querySelectorAll("[else]");for(let b=0;b<a.length;b++){const c=a[b].getAttribute("else"),d=[];d.push(a[b]),eval(this.obj[c])?this.hide(this.toNodeList(d[0])):this.show(this.toNodeList(d[0]))}};a?!0==a?(b(),this.live(this.obj,()=>{b()})):window.setInterval(()=>{b()},a):b()}toNodeList(a){a.setAttribute("wrapNodeList","");const b=document.querySelectorAll("[wrapNodeList]");return a.removeAttribute("wrapNodeList"),b}repeat(a,b){function c(a){return function(c){return a.replace(/{([^{}]*)}/g,function(d,a){window.data=c;let b=eval(a);return b})}}a=this.s(a);const d=a[0].innerHTML;a[0].innerHTML="";for(var e=0;e<b.length;e++){const f=b[e];a[0].innerHTML+=c(d)(f)}}onEvent(){const a=document.querySelectorAll("[on]");for(let b=0;b<a.length;b++){const c=a[b].getAttribute("on"),d=a[b].getAttribute("action");a[b].addEventListener(c,()=>{eval(d)})}}all(a,b){a=this.s(a),a.forEach((a)=>{b(this.toNodeList(a))})}text(a,b){return a=this.s(a),b?a[0].innerHTML=this.xss(b):a[0].innerHTML}html(a,b){return a=this.s(a),b?a[0].innerHTML=b:a[0].innerHTML}append(a,b){a=this.s(a),a[0].innerHTML+=b}after(a,b){a=this.s(a),a[0].insertAdjacentHTML("afterend",b)}before(a,b){a=this.s(a),a[0].insertAdjacentHTML("beforebegin",b)}clone(a){a[0].cloneNode(!0)}is(a,b){return a=this.s(a),b=this.s(b),a[0]===b[0]}select(a){return a instanceof NodeList?a:document.querySelectorAll(a)}single(a){return this.isElement(a)?a:document.querySelector(a)}s(a){return this.select(a)}empty(a){a=this.s(a),a[0].innerHTML=""}valEmpty(a){a=this.s(a),a[0].value=null}remove(a){a=this.s(a),a[0].parentNode.removeChild(a[0])}on(a,b,c){a=this.s(a),a[0].addEventListener(b,c)}ready(a){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?a():document.addEventListener("DOMContentLoaded",a)}scroll(a){window.addEventListener("scroll",a)}scrollTo(a,b){window.scroll(a,b)}scrollTop(a){return a=null==a?0==document.body.scrollTop?this.toNodeList(document.documentElement):this.toNodeList(document.body):a,a=this.s(a),a[0].scrollTop}show(a){return a=this.s(a),a[0].style.display="block",!0}hide(a){return a=this.s(a),a[0].style.display="none",!0}hasClass(a,b){return a=this.s(a),a[0].classList?a[0].classList.contains(b):!!a[0].className.match(new RegExp(`(\\s|^)${b}(\\s|$)`))}addClass(a,b){a=this.s(a),a[0].classList?a[0].classList.add(b):!this.hasClass(a,b)&&(a[0].className+=` ${b}`)}removeClass(a,b){if(a=this.s(a),a[0].classList)a[0].classList.remove(b);else if(this.hasClass(a,b)){const c=new RegExp(`(\\s|^)${b}(\\s|$)`);a[0].className=a[0].className.replace(c," ")}}toggleClass(a,b){a=this.s(a),this.hasClass(a,b)?this.removeClass(a,b):this.addClass(a,b)}css(a,b,c){if(a=this.s(a),"object"==typeof b)for(let c in b)a[0].style[c]=b[c];else a[0].style[b]=c}getStyle(a,b){return a=this.s(a),a[0].style[b]}fadeOut(a,b=0.1){a=this.s(a)[0],a.style.opacity=1,function c(){0>(a.style.opacity-=b)?a.style.display="none":requestAnimationFrame(c)}()}fadeIn(a,b=0.1,c){a=this.s(a)[0],a.style.opacity=0,a.style.display=c||"block",function c(){let d=parseFloat(a.style.opacity);1<(d+=b)||(a.style.opacity=d,requestAnimationFrame(c))}()}get fn(){return DisplayJS.prototype}dynamic(a,b=250){window.setInterval(a,b)}parent(a,b=0){a=this.s(a);let c=a[0];for(const d in this.range(b))c=c.parentNode;return this.toNodeList(c)}isNode(a){return"object"==typeof Node?a instanceof Node:a&&"object"==typeof a&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName}isElement(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName}component(a,b){class component extends HTMLElement{constructor(){super(),b(this)}}customElements.define(a,component)}import(a,b){let c=document.createElement("script");const d=document.getElementsByTagName("script")[0];c.async=1,c.onload=c.onreadystatechange=(a,d)=>{(d||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c=void 0,!d&&b&&b())},c.src=a,d.parentNode.insertBefore(c,d)}sleep(a){for(const b=new Date().getTime()+a;new Date().getTime()<b;){}}getProp(a){return a=this.s(a),this.extend(a[0],{text:a[0].innerText,html:a[0].innerHTML,css:window.getComputedStyle(a[0]),height:a[0].outerHeight,width:a[0].outerWidth})}extend(a,b){const c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=b[d]);return c}arange(a,b,c,d){const e=(Math.abs(b-a)+2*(d||0))/(c||1)+1,f=a<b?1:-1;return Array(e).fill(0).map((b,e)=>a-f*(d||0)+f*(c||1)*e)}range(a){return this.arange(0,a,1)}linespace(a,b,c){return this.arange(a,b,(b-a)/c)}reshape(a,b){const c=[];for(let d=0;d<a.length;d+=b)c.push(a.slice(d,d+b));return c}flatten(a){return a.reduce((c,a)=>c.concat(a),[])}drop(a,b){return 0<b?a.slice(b,a.length):a.slice(0,a.length+b)}isIn(a,b){return!!a.includes(b)}rmFromArray(a,b){const c=[];for(const d in a)!1==b(d)&&c.push(a[d]);return c}load(a,b,c=()=>{}){a=this.s(a),this.ajax(b,"GET","",(b)=>{try{a[0].innerHTML=b,c()}catch(a){c(a)}})}ajax(a,b,c,d,e="application/x-www-form-urlencoded; charset=UTF-8"){const f=new XMLHttpRequest;f.open(b,a,!0),f.setRequestHeader("Content-Type",e),f.onload=()=>{if(200<=f.status&&400>f.status){const a=f.responseText;d(a,f)}else console.error("DisplayJS error: The ajax request returned an error.")},f.onerror=()=>{console.error("DisplayJS error: The ajax request returned an error.")},f.send(c)}get(a,b,c=!1){this.ajax(a,"GET","",(a)=>{c?b(JSON.parse(a)):b(a)})}custom(a,b,c){const d=()=>{const c=document.querySelectorAll(`[${a}]`);for(let d=0;d<c.length;d++){const e=c[d].getAttribute(a);b(c[d],e)}};c?!0==c?(d(),this.live(this.obj,()=>{d()})):window.setInterval(()=>{d()},c):d()}live(a,b){const c={watch(a,b,c){const d=Object.getOwnPropertyDescriptor(a,b);if("undefined"==typeof d)throw new Error(`DisplayJS: Invalid descriptor for property: ${b}, object: ${a}`);if("function"!=typeof c)throw new Error(`DisplayJS: Invalid onPropertyChange handler: ${c}`);let e=a[b];Object.defineProperty(a,b,{enumerable:!0,configurable:!0,get(){return e},set(d){if(d!==e)return c(a,b,d,e),e=d}})},watchAll(a,b){if("function"!=typeof b)throw new Error(`DisplayJS: Invalid onPropertyChange handler: ${b}`);for(const c in a)this.watch(a,c,b)}};c.watchAll(a,(a,c,d,e)=>{b(a,c,d,e)})}time_ago(a){var b=Math.floor;switch(typeof a){case"number":break;case"string":a=+new Date(a);break;case"object":a.constructor===Date&&(a=a.getTime());break;default:a=+new Date;}const c=[[60,"seconds",1],[120,"1 minute ago","1 minute from now"],[3600,"minutes",60],[7200,"1 hour ago","1 hour from now"],[86400,"hours",3600],[172800,"Yesterday","Tomorrow"],[604800,"days",86400],[1209600,"Last week","Next week"],[2419200,"weeks",604800],[4838400,"Last month","Next month"],[29030400,"months",2419200],[58060800,"Last year","Next year"],[2903040000,"years",29030400],[5806080000,"Last century","Next century"],[58060800000,"centuries",2903040000]],d=this.math;let e=d.div(d.sub(+new Date,a),1e3),f="ago",g=1;if(0==e)return"Just now";0>e&&(e=Math.abs(e),f="from now",g=2);let h,j=0;for(;h=c[j++];)if(e<h[0])return"string"==typeof h[2]?h[g]:`${b(d.div(e,h[2]))} ${h[1]} ${f}`;return h=c[c.length-1],`${b(d.div(e,h[2]))} ${h[1]} ${f}`}sum(a){return a.reduce((c,a)=>this.math.add(c,a))}multiply(a){return a.reduce((c,a)=>this.math.mul(c,a))}average(a){const b=this.sum(a),c=this.math.div(b,a.length);return c}median(a){a.sort((c,a)=>this.math.sub(c,a));const b=Math.floor(this.math.div(a.length,2));return a.length%2?a[b]:this.math.div(this.math.add(a[b-1],a[b]),2)}predict(a,b,c=!1){const d=this.math,e=this,f=Object.keys(a);for(var g=0;g<f.length;g++)f[g]=parseFloat(f[g]);const h=Object.values(a),i=f.length;let j=[],k=[];for(let e of this.range(f.length-1))k.push(d.mul(f[e],f[e])),j.push(d.mul(f[e],h[e]));const l=e.sum(f),m=e.sum(h),n=e.sum(j),o=e.sum(k),p=d.div(d.sub(d.mul(i,n),d.mul(l,m)),d.sub(d.mul(i,o),d.mul(l,l))),q=d.div(d.sub(m,d.mul(p,l)),i);return!0==c?`f(x) = ${p}x+${q}; f(${b}) = ${b*p+q}`:b*p+q}get math(){const a={add(){return b.addSubDiv(arguments,0)},sub(){return b.addSubDiv(arguments,1)},mul(){return b.mul(arguments)},div(){return b.addSubDiv(arguments,3)}};var b={addSubDiv(a,b){const c=this.countDecimals(this.validMe(a)),d=this.biggestComma(c),e=3===b?0:d,f=this.shiftComma(this.countResult(this.toExponent(c,d),b),e);return this.isSafeInteger(f),f},mul(a){const b=this.countDecimals(this.validMe(a)),c=[];let d=0;for(const e in b)d+=b[e].comma,c.push(b[e].integer);return this.shiftComma(this.countResult(c,2),d)},isSafeInteger(a){if(a<=-9007199254740991||a>=9007199254740991)throw"DisplayJS: The result is not a safe integer."},shiftComma(a,b){return this.toExponent(this.countDecimals([a]),-b)[0]},countResult(a,b){let c=a[0];for(let d=1;d<a.length;d++)0===b?c+=a[d]:1===b?c-=a[d]:2===b?c*=a[d]:3===b?c/=a[d]:void 0;return c},toExponent(a,b){const c=[];for(const d in a){a[d].comma-=b;const e=0<=a[d].comma?"+":"";c.push(+`${a[d].integer.toString()}e${e}${a[d].comma}`)}return c},biggestComma(a){const b=[];for(const c in a)b.push(a[c].comma);return Math.min.apply(null,b)},validMe(a){if(2>a.length)throw"DisplayJS: Set at least two numerical values.";for(const b in a){if(a[b]=parseFloat(a[b]),"number"!=typeof a[b]||isNaN(a[b]))throw"DisplayJS: Every Math argument must be of type number.";if(a[b]===Number.POSITIVE_INFINITY||a[b]===Number.NEGATIVE_INFINITY)throw"DisplayJS: Every Math argument must be a numerical value between positive and negative Infinity."}return a},countDecimals(a){const b=[];for(const c in a){let d=0;const e=a[c].toString().split("e"),f=e[0].indexOf(".");d-=-1===f?0:e[0].length-1-f,d+=isNaN(+e[1])?0:+e[1],e[0]=+e[0].replace(".",""),b.push({integer:e[0],comma:d})}return b}};return a}then(a,b){try{b(a())}catch(a){throw"DisplayJS: "+a}}copy(a){let b=document.createElement("textarea");b.style.position="absolute",b.style.left="-9999px",b.style.top="0",b.textContent=a,document.body.appendChild(b),b.focus(),b.setSelectionRange(0,b.value.length);try{document.execCommand("copy"),b.remove()}catch(b){window.prompt("Copy to clipboard: Ctrl+C, Enter",a)}}}"function"==typeof define&&define.amd?define(()=>new DisplayJS):"undefined"==typeof exports?"undefined"!=typeof global&&(global.DisplayJS=new DisplayJS):("undefined"!=typeof module&&module.exports&&(exports=module.exports=new DisplayJS),exports.DisplayJS=new DisplayJS);