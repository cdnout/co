"use strict";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),DisplayJS=function(){function DisplayJS(e){_classCallCheck(this,DisplayJS),this.obj=e}return _createClass(DisplayJS,[{key:"var",value:function(e){var t=this,n=function(){t.if(),t.else();for(var e=document.querySelectorAll("[var]"),n=0;n<e.length;n++){var i=e[n].getAttribute("var");if(i.includes(".")){for(var o=i.split("."),s=t.obj[o[0]],r=1;r<o.length;r++)s=s[o[r]];e[n].innerHTML=s}else e[n].innerHTML=t.obj[i]}};e?1==e?(n(),this.live(this.obj,function(){n()})):window.setInterval(function(){n()},e):n()}},{key:"render",value:function(e){this.var(e)}},{key:"renderVariables",value:function(e){this.var(e)}},{key:"xss",value:function(e){var t=/</g,n=/>/g,i=/'/g,o=/"/g;return e.toString().replace(t,"&lt;").replace(n,"&gt;").replace(i,"&#39;").replace(o,"&#34;")}},{key:"xssURI",value:function(e){return encodeURI(e)}},{key:"target",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){e.var()},n=document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},i=this.obj;[].forEach.call(document.querySelectorAll("[target]"),function(e){n(e,"change",function(){var n=e.getAttribute("target");"checkbox"==this.type?i[n]=this.checked:"select"==this.type?i[n]=this.options[this.selectedIndex].value:i[n]=this.value,t(e)}),n(e,"keydown",function(){var n=e.getAttribute("target");"checkbox"==this.type?i[n]=this.checked:"select"==this.type?i[n]=this.options[this.selectedIndex].value:i[n]=this.value,t(e)}),n(e,"input",function(){var n=e.getAttribute("target");"checkbox"==this.type?i[n]=this.checked:"select"==this.type?i[n]=this.options[this.selectedIndex].value:i[n]=this.value,t(e)}),n(e,"paste",function(){var n=e.getAttribute("target");"checkbox"==this.type?i[n]=this.checked:"select"==this.type?i[n]=this.options[this.selectedIndex].value:i[n]=this.value,t(e)})})}},{key:"if",value:function _if(push){var _this3=this,if_push=function if_push(){for(var elements=document.querySelectorAll("[if]"),i=0;i<elements.length;i++){var attr=elements[i].getAttribute("if"),el=[];el.push(elements[i]),eval(_this3.obj[attr])?_this3.show(_this3.toNodeList(el[0])):_this3.hide(_this3.toNodeList(el[0]))}};push?1==push?(if_push(),this.live(this.obj,function(){if_push()})):window.setInterval(function(){if_push()},push):if_push()}},{key:"else",value:function _else(push){var _this4=this,else_push=function else_push(){for(var elements=document.querySelectorAll("[else]"),i=0;i<elements.length;i++){var attr=elements[i].getAttribute("else"),el=[];el.push(elements[i]),eval(_this4.obj[attr])?_this4.hide(_this4.toNodeList(el[0])):_this4.show(_this4.toNodeList(el[0]))}};push?1==push?(else_push(),this.live(this.obj,function(){else_push()})):window.setInterval(function(){else_push()},push):else_push()}},{key:"toNodeList",value:function(e){e.setAttribute("wrapNodeList","");var t=document.querySelectorAll("[wrapNodeList]");return e.removeAttribute("wrapNodeList"),t}},{key:"repeat",value:function repeat(el,object){function interpolate(str){return function interpolate(o){return str.replace(/{([^{}]*)}/g,function(a,b){window.data=o;var r=eval(b);return r})}}el=this.s(el);var text=el[0].innerHTML;el[0].innerHTML="";for(var i=0;i<object.length;i++){var data=object[i];el[0].innerHTML+=interpolate(text)(data)}}},{key:"onEvent",value:function onEvent(){for(var elements=document.querySelectorAll("[on]"),_loop=function _loop(i){var attr=elements[i].getAttribute("on"),action=elements[i].getAttribute("action");elements[i].addEventListener(attr,function(){eval(action)})},i=0;i<elements.length;i++)_loop(i)}},{key:"all",value:function(e,t){var n=this;(e=this.s(e)).forEach(function(e){t(n.toNodeList(e))})}},{key:"text",value:function(e,t){return e=this.s(e),t?e[0].innerHTML=this.xss(t):e[0].innerHTML}},{key:"html",value:function(e,t){return e=this.s(e),t?e[0].innerHTML=t:e[0].innerHTML}},{key:"append",value:function(e,t){(e=this.s(e))[0].innerHTML+=t}},{key:"after",value:function(e,t){(e=this.s(e))[0].insertAdjacentHTML("afterend",t)}},{key:"before",value:function(e,t){(e=this.s(e))[0].insertAdjacentHTML("beforebegin",t)}},{key:"clone",value:function(e){e[0].cloneNode(!0)}},{key:"is",value:function(e,t){return e=this.s(e),t=this.s(t),e[0]===t[0]}},{key:"select",value:function(e){return e instanceof NodeList?e:document.querySelectorAll(e)}},{key:"single",value:function(e){return this.isElement(e)?e:document.querySelector(e)}},{key:"s",value:function(e){return this.select(e)}},{key:"empty",value:function(e){(e=this.s(e))[0].innerHTML=""}},{key:"valEmpty",value:function(e){(e=this.s(e))[0].value=null}},{key:"remove",value:function(e){(e=this.s(e))[0].parentNode.removeChild(e[0])}},{key:"on",value:function(e,t,n){(e=this.s(e))[0].addEventListener(t,n)}},{key:"ready",value:function(e){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?e():document.addEventListener("DOMContentLoaded",e)}},{key:"scroll",value:function(e){window.addEventListener("scroll",e)}},{key:"scrollTo",value:function(e,t){window.scroll(e,t)}},{key:"scrollTop",value:function(e){return e=null!=e?e:0==document.body.scrollTop?this.toNodeList(document.documentElement):this.toNodeList(document.body),(e=this.s(e))[0].scrollTop}},{key:"show",value:function(e){return e=this.s(e),e[0].style.display="block",!0}},{key:"hide",value:function(e){return e=this.s(e),e[0].style.display="none",!0}},{key:"hasClass",value:function(e,t){return(e=this.s(e))[0].classList?e[0].classList.contains(t):!!e[0].className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}},{key:"addClass",value:function(e,t){(e=this.s(e))[0].classList?e[0].classList.add(t):this.hasClass(e,t)||(e[0].className+=" "+t)}},{key:"removeClass",value:function(e,t){if((e=this.s(e))[0].classList)e[0].classList.remove(t);else if(this.hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e[0].className=e[0].className.replace(n," ")}}},{key:"toggleClass",value:function(e,t){e=this.s(e),this.hasClass(e,t)?this.removeClass(e,t):this.addClass(e,t)}},{key:"css",value:function(e,t,n){if(e=this.s(e),"object"==(void 0===t?"undefined":_typeof(t)))for(var i in t)e[0].style[i]=t[i];else e[0].style[t]=n}},{key:"getStyle",value:function(e,t){return(e=this.s(e))[0].style[t]}},{key:"fadeOut",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;(e=this.s(e)[0]).style.opacity=1,function n(){(e.style.opacity-=t)<0?e.style.display="none":requestAnimationFrame(n)}()}},{key:"fadeIn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=arguments[2];(e=this.s(e)[0]).style.opacity=0,e.style.display=n||"block",function n(){var i=parseFloat(e.style.opacity);(i+=t)>1||(e.style.opacity=i,requestAnimationFrame(n))}()}},{key:"dynamic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;window.setInterval(e,t)}},{key:"parent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(e=this.s(e))[0];for(var i in this.range(t))n=n.parentNode;return this.toNodeList(n)}},{key:"isNode",value:function(e){return"object"===("undefined"==typeof Node?"undefined":_typeof(Node))?e instanceof Node:e&&"object"===(void 0===e?"undefined":_typeof(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}},{key:"isElement",value:function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":_typeof(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}},{key:"component",value:function(e,t){var n=function(e){function n(){_classCallCheck(this,n);var e=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t(e),e}return _inherits(n,HTMLElement),n}();customElements.define(e,n)}},{key:"import",value:function(e,t){var n=document.createElement("script"),i=document.getElementsByTagName("script")[0];n.async=1,n.onload=n.onreadystatechange=function(e,i){(i||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n=void 0,i||t&&t())},n.src=e,i.parentNode.insertBefore(n,i)}},{key:"sleep",value:function(e){for(var t=(new Date).getTime()+e;(new Date).getTime()<t;);}},{key:"getProp",value:function(e){return e=this.s(e),this.extend(e[0],{text:e[0].innerText,html:e[0].innerHTML,css:window.getComputedStyle(e[0]),height:e[0].outerHeight,width:e[0].outerWidth})}},{key:"extend",value:function(e,t){var n={},i=void 0;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}},{key:"arange",value:function(e,t,n,i){var o=(Math.abs(t-e)+2*(i||0))/(n||1)+1,s=e<t?1:-1,r=e-s*(i||0),l=s*(n||1);return Array(o).fill(0).map(function(e,t){return r+l*t})}},{key:"range",value:function(e){return this.arange(0,e,1)}},{key:"linespace",value:function(e,t,n){var i=(t-e)/n;return this.arange(e,t,i)}},{key:"reshape",value:function(e,t){for(var n=[],i=0;i<e.length;i+=t)n.push(e.slice(i,i+t));return n}},{key:"flatten",value:function(e){return e.reduce(function(e,t){return e.concat(t)},[])}},{key:"drop",value:function(e,t){return t>0?e.slice(t,e.length):e.slice(0,e.length+t)}},{key:"isIn",value:function(e,t){return!!e.includes(t)}},{key:"rmFromArray",value:function(e,t){var n=[];for(var i in e)0==t(i)&&n.push(e[i]);return n}},{key:"fn",get:function(){return DisplayJS.prototype}}]),DisplayJS}();"function"==typeof define&&define.amd?define(function(){return new DisplayJS}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=new DisplayJS),exports.DisplayJS=new DisplayJS):"undefined"!=typeof global&&(global.DisplayJS=new DisplayJS);