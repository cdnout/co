/**
 * stickyfloat - jQuery plugin for verticaly floating anything in a constrained area
 * @version         Version 7.4
 * @author          Yair Even-Or (vsync)
 * @copyright       Copyright (c) 2013
 * @license         MIT and GPL licenses.
 * @link            http://dropthebit.com
 *
 **/
(function(e){function g(a){var d=parseInt(a.parent().css("padding-bottom")),c=parseInt(a.parent().css("padding-top"));return{startOffset:a.parent().offset().top,offsetBottom:d,offsetY:c}}var j=window,l=document,h,n,p,q,f,s={duration:200,lockBottom:!0,delay:0,easing:"linear",stickToBottom:!1,cssTransition:!1},t=function(){var a,d=l.createElement("div"),c=["ms","O","Moz","Webkit"],b="transition";if(""==d[b])return!0;b=b.charAt(0).toUpperCase()+b.slice(1);for(a=c.length;a--;)if(""==d[c[a]+b])return!0; return!1}(),r=function(a,d){this.settings=a;this.obj=e(d)};r.prototype={init:function(){var a=this;this.onScroll=function(){a.rePosition()};e(j).ready(function(){a.rePosition(!0);e(j).on("scroll.sticky",a.onScroll)});this.obj.data("_stickyfloat",a)},rePosition:function(a,d){var c=this.obj,b=this.settings,e=a?0:b.duration,k=j.pageYOffset||l.documentElement.scrollTop,g=j.innerHeight||l.documentElement.offsetHeight,m=c[0].clientHeight;c.stop();b.lockBottom&&(h=c[0].parentNode.clientHeight-m-b.offsetBottom); 0>h&&(h=0);n=k>b.startOffset;p=c.offset().top>b.startOffset+b.offsetY;q=m<g;if((n||p)&&q||d)f=b.stickToBottom?k+g-m-b.startOffset-b.offsetY:k-b.startOffset+b.offsetY,f>h&&b.lockBottom&&(f=h),f<b.offsetY?f=b.offsetY:k<b.startOffset&&!b.stickToBottom&&(f=b.offsetY),5>e||b.cssTransition&&t?c[0].style.top=f+"px":c.stop().delay(b.delay).animate({top:f},e,b.easing)},update:function(a){if("object"===typeof a){if(!a.offsetY||"auto"==a.offsetY)a.offsetY=g(this.obj).offsetY;if(!a.startOffset||"auto"==a.startOffset)a.startOffset= g(this.obj).startOffset;this.settings=e.extend({},this.settings,a);this.rePosition(!1,!0)}return this.obj},destroy:function(){e(window).off("scroll.sticky",this.onScroll);this.obj.removeData();return this.obj}};e.fn.stickyfloat=function(a,d){return this.each(function(){var c=e(this);if("undefined"==typeof document.body.style.maxHeight)return!1;if("object"===typeof a)d=a;else if("string"===typeof a)return c.data("_stickyfloat")&&"function"==typeof c.data("_stickyfloat")[a]?(c=c.data("_stickyfloat"), c[a](d)):this;var b=e.extend({},s,g(c),d||{}),c=new r(b,c);c.init()})}})(jQuery);