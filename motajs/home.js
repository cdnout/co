/*! MotaJS v0.18.0 | http://jdmota.github.io/motajs/ | MIT */
(function(){function t(t){return t&&t.Object===zr?t:null}function e(t,e,n,r,i,o,s){var u=s;for(var a in n)(r||Gr.call(n,a))&&(u=t(e,n,a,i,o,u));if(ni)for(var c=ni(n),h=0;h<c.length;h++){var l=c[h];ti.call(n,l)&&(u=t(e,n,l,i,o,u))}}function n(t,e,n,r){return function(i){var o=Object(i),s=r?arguments.length-1:arguments.length,u=r?arguments[s]:void 0;r&&"function"!=typeof u&&(u=void 0,s++);for(var a=0;a<s;a++){var c=arguments[a+1];null!=c&&c!==o&&t(e,o,c,n,u,a)}return o}}function r(t,e,n){t[n]=e[n]}function i(t,e,n,r){t[n]=r?r(t[n],e[n],n,t,e):e[n]}function o(t){var e=vi.iterator;return e?t[e]():t["@@iterator"]()}function s(t){var e=vi.iterator;return e?t[e]:t["@@iterator"]}function u(t,e){var n=vi.iterator;n&&(t[n]=e),t["@@iterator"]=e}function a(t,e,n){var r=t.prototype;r.entries=function(){return new e(this,Ai)},r.values=function(){return new e(this,xi)},r.keys=function(){return new e(this,Ei)},u(r,r[n])}function c(t){return ji(Object(t))}function h(t,e){return null!=t&&t.hasOwnProperty===Gr?t.hasOwnProperty(e):Gr.call(t,e)}function l(t){var e=typeof t;return"object"===e||"function"===e?null===t?"null":Si[pi(t)]||"object":e}function f(t){return pi(t)===ci.Arguments}function p(t){var e;return!!Mi(t)||!(!M(t)||Oi(t)||P(t))&&(e="length"in t&&t.length,"number"==typeof e&&e>-1&&e%1==0&&e<=Ii)}function d(t){return t===!0||t===!1||"boolean"===l(t)}function v(t){return"date"===l(t)}function g(t){var e,n=$i();if(n&&t===n)return!0;if(!t||null!==t.parentNode||!(e=t.defaultView))return!1;if(Kr)return P(e);var r=pi(t);return r===qi||r===Fi}function m(t){return!!t&&1===t.nodeType&&"object"==typeof t&&!I(t)}function y(t){if(null==t)return!0;if(Mi(t)||U(t)||f(t))return 0===t.length;for(var e in t)if(h(t,e))return!1;return!0}function b(t){return"error"===l(t)}function _(t){return C(t)&&Zr(t)}function w(t){return Mi(t)||!!t&&Oi(s(t))}function E(t){return Mi(t)||!!t&&t.values!==t.keys&&Oi(t.values)&&Oi(t.keys)&&t.values===s(t)}function x(t){return!!t&&Oi(t.entries)&&t.entries===s(t)}function A(t){return E(t)||x(t)}function k(t){return C(t)&&t!=+t}function j(t){return null==t}function S(t){return null===t}function C(t){return"number"===l(t)}function O(t){return"object"===l(t)}function M(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)}function I(t){var e,n;return!!O(t)&&(e=c(t),null===e||(n=Gr.call(e,"constructor")&&e.constructor,"function"==typeof n&&n instanceof n&&Pi.call(n)===Vi))}function T(t){return"regexp"===l(t)}function U(t){return"string"===l(t)}function N(t){return"symbol"===l(t)}function q(t){return"object"==typeof t&&"number"==typeof t.length&&!!li[pi(t)]}function F(t){return void 0===t}function P(t){if(t===Qr)return!0;if(!t||"object"!=typeof t)return!1;if(!Kr&&t.window!==t)return!1;var e=pi(t);return e===Li||e===Ri}function V(t,e){for(var n=[],r=0,i=r+e;i<t.length;r++,i++)n[r]=t[i];return n}function L(t,e){return null==e?t():t.call(e)}function R(t,e){switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);case 4:return t(e[0],e[1],e[2],e[3]);case 5:return t(e[0],e[1],e[2],e[3],e[4]);default:return t.apply(void 0,e)}}function z(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2]);case 4:return t.call(e,n[0],n[1],n[2],n[3]);case 5:return t.call(e,n[0],n[1],n[2],n[3],n[4]);default:return t.apply(e,n)}}function D(t,e,n){if(t)return n?null==e?R(t,n):z(t,e,n):L(t,e)}function W(t){return M(t)?zi(t):{}}function B(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4])}var n=W(t.prototype),r=D(t,n,e);return M(r)?r:n}}function $(t,e){var n,r,i=B(t);return arguments.length<3?r=function(){var n=this&&this instanceof r?i:t;return D(n,e,V(arguments,0))}:(n=V(arguments,2),r=function(){for(var o=V(n,0),s=o.length,u=0;u<arguments.length;u++)o[u+s]=arguments[u];var a=this&&this instanceof r?i:t;return D(a,e,o)}),r}function K(t){if(!Oi(t))throw new TypeError("Expected a function")}function H(t){var e,n=!1,r=t;return K(r),function(){return n||(n=!0,e=D(r,this,V(arguments,0)),r=void 0),e}}function Y(t,e){"undefined"!=typeof console&&console.error(t+" WARNS: "+e)}function Q(){this.view=null,this.events=null}function G(t,e,n,r,i){this.type=t,this.namespaces=e,this.handler=n,this.context=r,this.isRegExp=i,this.once=!1,this._index=-1}function X(t,e,n,r){var i,o,s,u,a=[""],c=l(t),h="regexp"===c;if(h)r.push(new G(t,(void 0),e,n,h));else if("object"===c){e&&(n=e);for(s in t)X(s,t[s],n,r)}else for(o=(t||"").match(Gi)||a,i=0;i<o.length;i++)s=o[i],u=s.match(Xi),s=(s.match(Ji)||a)[0],r.push(new G(s,u,e,n,h));return r}function J(t,e){var n,r,i=0;for(t.length>e.length?(n=e,r=t):(n=t,r=e);i<n.length;i++)if(r.indexOf(n[i])>-1)return!0;return!1}function Z(t,e){return t===e||""+t==""+e&&l(t)===l(e)}function tt(t,e,n,r,i,o){var s,u=(!e||Z(t.type,e)||o&&t.isRegExp&&(s=e.match(t.type)))&&(!r||t.handler===r)&&(!n||0===n.length||t.namespaces&&J(t.namespaces,n))&&(!i||t.context===i);return void 0===s?u:s}function et(){this.arr=[],this._maxListeners=void 0}function nt(t){return Qi.setup(t,"events",new et)}function rt(t,e,n){var r=[];return eo(this,"get",no,t,e,n,r),r}function it(){var t=Qi.get(this,"events"),e=t&&t._maxListeners;return"number"==typeof e&&e}function ot(t,e,n){var r=eo(this,"getFirst",void 0,t,e,n);return r>0}function st(t,e,n){return eo(this,"off",ro,t,e,n),this}function ut(){}function at(t,e,n){return oo.call(this,t,e,n,!0)}function ct(t){return nt(this)._maxListeners="number"!=typeof t||t<0||isNaN(t)?void 0:t,this}function ht(t){return eo(this,"trigger",so,t,void 0,void 0,V(arguments,1)),this}function lt(t,e){var n={},r=0;return function(i){return void 0===e||i.length>e?(void 0===n[i]&&(r===ao&&(n={},r=0),n[i]=t(i),r++),n[i]):t(i)}}function ft(t){if(!U(t))throw new TypeError("Path must be a string.")}function pt(t){return t.charCodeAt(0)===ho}function dt(t){return ft(t),pt(t)}function vt(t){return ft(t),fo(t)}function gt(t,e){this.router=t,this.window=Yr,this.document=Yr&&Yr.document,this.history=Yr&&Yr.history,this.location=this.history&&this.history.location||Yr&&Yr.location,this._started=!1,this.fragment="/",this.callback=e||ut}function mt(t,e){return null==e?t:function(n,r,i){return t.call(e,n,r,i)}}function yt(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t)===_o)return}function bt(t,e,n){for(var r,i=0;!(r=n.next()).done;){if(e(r.value,i,t)===_o)return;i++}}function _t(t,e,n){for(var r,i;!(r=n.next()).done&&(i=r.value,e(i[1],i[0],t)!==_o););}function wt(t,e){for(var n,r=0,i=Jr(t);r<i.length;r++)if(n=i[r],e(t[n],n,t)===_o)return}function Et(t,e,n){var r,i;return r=s(t),Oi(r)?(i=o(t),r===t.entries?_t(t,e,i):bt(t,e,i)):n===!1?void 0:wt(t,e)}function xt(t){return t>>>1&1073741824|3221225471&t}function At(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}function kt(t,e){return t=Eo(t,3432918353),t=Eo(t<<15|t>>>-15,461845907),t=Eo(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Eo(t^t>>>16,2246822507),t=Eo(t^t>>>13,3266489909),xt(t^t>>>16)}function jt(t){return Qi.get(t,"hash")}function St(t){var e,n;if(!t)return 0;if("function"==typeof t.valueOf&&(t=t.valueOf(),!t))return 0;if(t===!0)return 1;if(e=typeof t,"number"===e){if(!Zr(t))return t>0?1:-1;for(n=0|t,n!==t&&(n^=4294967295*t);t>4294967295;)t/=4294967295,n^=t;return xt(n)}return"string"===e?xo(t):(n=jt(t),void 0!==n?n:"function"==typeof t.hashCode?t.hashCode():(n=Ao++,1073741824&Ao&&(Ao=1),Qi.setup(t,"hash",n),n))}function Ct(t,e){return t===e||t!==t&&e!==e}function Ot(t,e){if(Ct(t,e))return!0;if(!t||!e)return!1;if(Oi(t.valueOf)&&Oi(e.valueOf)){if(t=t.valueOf(),e=e.valueOf(),Ct(t,e))return!0;if(!t||!e)return!1}return Oi(t.equals)&&Oi(e.equals)&&t.equals(e)}function Mt(t){this.children=[],this.owner=t,this.bitmap=0}function It(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t}function Tt(t,e,n,r){var i=n.hash,o=r.hash,s=new Mt(t),u=s.children,a=(0===e?i:i>>>e)&yo,c=(0===e?o:o>>>e)&yo;return s.bitmap=1<<a|1<<c,a<c?(u[0]=n,u[1]=r):a>c?(u[0]=r,u[1]=n):u[0]=Tt(t,e+go,n,r),s}function Ut(t,e,n,r){this.children=[n,r],this.hash=t,this.owner=e}function Nt(t,e,n,r){this.key=t,this.value=e,this.hash=n,this.owner=r}function qt(t,e){return{node:t,index:0,prev:e}}function Ft(t,e,n){return{value:n===Ai?[t,e]:n===Ei?t:e,done:!1}}function Pt(){return jo.changeValue=!1,jo.changeSize=!1,jo.oldValue=void 0,jo}function Vt(t){var e=Qi.get(t,"events");return!(!e||!e.length())}function Lt(t,e,n,r){var i,o,s=St(e),u=t.__owner,a=n===vo,c=t.__root,h=0,l=Pt();return c?c=t.__root.modify(e,n,s,0,u,l):a||(l.changeValue=!0,l.changeSize=!0,c=new Nt(e,n,s,u)),l.changeValue?(h=t.size+(l.changeSize?a?-1:1:0),h||u?(u?(t.__root=c,t.size=h,t.__hash=void 0):t=Bt(!1,h,c),u&&!r&&Vt(t)&&(i={type:a?"delete":l.changeSize?"add":"update",key:e},i.name=e,a?i.oldValue=l.oldValue:(i.value=i.newValue=n,l.changeSize||(i.oldValue=l.oldValue)),o=t.__changes,o||(o=t.__changes=[]),o.push(i)),t):Co):t}function Rt(){}function zt(t){return!(!t||!t[bo])}function Dt(t){return t===po?(this.__root=null,this.__owner=null,this.__changes=null,this.__hash=void 0,this.size=0,this):Bt(!0,0,null).merge(t,po)}function Wt(t){return t===po?(this.__root=null,this.__owner=null,this.__hash=void 0,this.size=0,this):Co.merge(t,po)}function Bt(t,e,n){var r=t?new Dt(po):new Wt(po);return r.size=e||0,r.__root=n,t&&(r.__owner={}),r}function $t(t,e){for(var n in e)Hi(t,n,{writable:!0,configurable:!0,value:e[n]})}function Kt(t){if(null!=t){if(!Oi(t))throw new TypeError(t+" is not a function");return t}}function Ht(t,e,n){if(Oi(t))return{next:t,error:e,complete:n};if(Object(t)!==t)throw new TypeError("Observer must be an object");return t}function Yt(t){return void 0===t._observer}function Qt(t,e){Yt(t)||(t._observer=void 0,Gt(t,e))}function Gt(t,e){var n=t._cleanup;if(n)if(t._cleanup=void 0,e)try{n()}catch(r){}else n();if(e)throw e}function Xt(t,e){var n=t(e);if(null!=n)if(Oi(n.unsubscribe))n=n.unsubscribe.bind(n);else if(!Oi(n))throw new TypeError(n+" is not a function");return n}function Jt(t,e){var n,r,i=t._observer;if(!Yt(t))try{r=Kt(i.next),r&&(n=r.call(i,e))}catch(o){Qt(t,o)}return n}function Zt(t,e){var n,r,i=t._observer;if(!Yt(t)){t._observer=void 0;try{r=Kt(i.complete),r&&(n=r.call(i,e))}catch(o){Gt(t,o)}Gt(t)}return n}function te(t,e){var n,r,i,o=t._observer;if(Yt(t))throw e;t._observer=void 0;try{r=Kt(o.error),r?n=r.call(o,e):i=e}catch(s){i=s}return Gt(t,i),n}function ee(t){return mi(t,"species")||t}function ne(t,e){var n=e.state,r=e.value,i=t[n],o=t.then;if(Oi(i)){n=Uo;try{r=i(r)}catch(s){le(o,s)}}ie(o,r)||(n===Uo?he(o,r):n===No&&le(o,r))}function re(t){var e=t;if(t.state===qo){do t=t.value;while(t.state===qo);e.value=t}return t}function ie(t,e){var n=!1;if(t===e)return le(t,new TypeError("A promises callback cannot return that same promise.")),!0;if(e&&e instanceof pe){if(e=re(e),e.state===Uo)he(t,e.value);else if(e.state===No)le(t,e.value);else{for(var r=t.queue,i=e.queue,o=0;o<r.length;o++)i.push(r[o]);t.value=e,t.queue=null,t.state=qo}return!0}if(M(e))try{var s=e.then;if(Oi(s))return s.call(e,function(r){n||(n=!0,e===r?ce(t,r):he(t,r))},function(e){n||(n=!0,le(t,e))}),!0}catch(u){return n||le(t,u),!0}return!1}function oe(t){var e=t.queue;t.queue=null;for(var n=0;n<e.length;n++)ne(e[n],t)}function se(t){t.published=!0,oe(t)}function ue(t){if(t.published=!0,oe(t),!t.handled&&($r&&$r.process.emit("unhandledRejection",t.value,t),Yr&&Fo)){var e=new Fo("unhandledrejection");e.promise=t,e.reason=t.value,Yr.dispatchEvent(e)}}function ae(t){if($r&&$r.process.emit("rejectionHandled",t),Yr&&Fo){var e=new Fo("rejectionhandled");e.promise=t,e.reason=t.value,Yr.dispatchEvent(e)}}function ce(t,e){t.state===To&&(t.state=Uo,t.value=e,Io(function(){se(t)}))}function he(t,e){t!==e&&ie(t,e)||ce(t,e)}function le(t,e){t.state===To&&(t.state=No,t.value=e,Io(function(){ue(t)}))}function fe(t,e){function n(t){i||(i=!0,he(e,t))}function r(t){i||(i=!0,le(e,t))}var i=!1;try{t(n,r)}catch(o){r(o)}}function pe(t){if(!Oi(t))throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof pe==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator.");this.value=null,this.state=To,this.queue=[],this.handled=!1,this.published=!1,fe(t,this)}function de(){this.arr=[]}function ve(t){this.multicast=t}function ge(t){var e=this._subscription,n=this._subs;n&&(n.remove(t),e&&this._refCount&&!n.length()&&e.unsubscribe())}function me(t){if("string"==typeof t)return t;if(N(t))return wi?wi.call(t):"";var e=t+"";return"0"===e&&1/t===-(1/0)?"-0":e}function ye(t){return null==t?"":me(t)}function be(t){var e=ye(t);return e&&Ho.test(e)?e.replace(Ko,"\\$&"):e}function _e(t,e){if(ft(t),!t)return"";var n=pt(t)?"/":"",r=t.replace(co,"/").split("/"),i=lo(r,!n),o=i.pop();return e?o.replace(Yo(e),""):o}function we(t){ft(t);var e=t.replace(Xo,"").match(Go);return e&&e[2]&&e[1]?e[2]:""}function Ee(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],ft(e),e&&n.push(e);return fo(n.join("/"))}function xe(t,e,n){ft(t);var r,i=0,o=null,s=e.regexp,u=e.names,a=t.match(s);if(e.negated)return a?null:{};if(a)for(o={};i<u.length;i++)r=u[i],(n||"number"!=typeof r)&&(o[r]=a[i+1]?Jo(a[i+1]):a[i+1]);return o}function Ae(t){return t?t.replace(ts,"\\$1"):""}function ke(t,e,n,r,i){var o="(?:"+r+")",s=i?"\\/":"\\/"+rs;return n&&(o+="(?:"+s+o+")*"),o=e?t?"(?:"+s+"("+o+"))?":"("+o+")?":t?s+"("+o+")":"("+o+")"}function je(t,e,n,r){var i,o,s,u,a,c="";return i=!!e[2],o=e[6],s=e[7]||"*"===o,u=e[8],i&&(a=t.charCodeAt(n),a&&a!==ho&&(c+="\\/",i=!1)),c+ke(i,s||u||"?"===o,s||"+"===o,Ae(e[4]||e[5])||is,r)}function Se(t,e){var n,r,i=[],o="",s=0,u=0,a=0,c=t.charCodeAt(0)===os,h=e&&e.caseSensitive,l=!e||void 0===e.end||e.end,f=(c?t.slice(1):t).replace(Zo,"")||"/";"/"!==f||l||(f="");for(var p=e&&e.dot;n=ns.exec(f);)a=n.index,o+=be(f.slice(u,a)),u=a+n[0].length,r=n[1],r?o+=r:(o+=je(f,n,u,p),i.push(n[3]||s++));return u<f.length&&(o+=be(f.substr(u))),{regexp:new RegExp("^"+o+"(?:/(?=$))?"+(l?"$":"(?=\\/|$)"),h?"":"i"),names:i,negated:c}}function Ce(t){for(var e,n,r=[];e=ns.exec(t);)n=e[3],n&&r.push(n);return r}function Oe(t,e){ft(t),ft(e);var n,r,i,o,s,u;for(n=lo(t.split("/"),!0),r=lo(e.split("/"),!0),i=Math.min(n.length,r.length),o=i,s=0;s<i;s++)if(n[s]!==r[s]){o=s;break}for(u=[],s=o;s<n.length;s++)u.push("..");return u=u.concat(r.slice(o)),u.join("/")}function Me(){for(var t,e="",n=arguments.length,r=!1;n--&&!r;)t=arguments[n],ft(t),t&&(e=e?t+"/"+e:t,r=pt(e));return fo(e)}function Ie(t){var e=t&&t.replace(fs,"");return e?Me("/",e.replace(hs,"").replace(ls,"")):"/"}function Te(t){var e=t&&t.match(fs);return e&&e[0]||""}function Ue(t,e){this.method=t,this.fn=e}function Ne(t){this.pattern=as,this.path=us,this.router=t,this._runThis=this._run.bind(this)}function qe(t,e){this.fn=function(n,r,i){var o=n.params;o&&t in o&&e(n,r,i,o[t])}}function Fe(t,e,n,r){try{t(e,n,r)}catch(i){r(i)}}function Pe(t){var e=!1;return function(n){e||(e=!0,Io(function(){t(n),t=void 0}))}}function Ve(t,e){var n=e?e.replace(ps,"$1"):"";return n&&"/"!==t?t+"/"+n:t+n}function Le(t){return this instanceof Le?(this.caseSensitive=t&&t.caseSensitive,this.dot=t&&t.dot,this.path=us,this.pattern=as,this.names=as.names,this.routes=[],void(this.params=[])):new Le(t)}function Re(t){return null==t?[]:Jr(Object(t))}function ze(t){var e,n,r,i,o="",s=0;if(!t)return"";if(e=l(t),"array"===e)for(n=t.length;s<n;s++)t[s]&&(o+=" "+t[s]);else if("object"===e)for(r=Re(t),n=r.length;s<n;s++)i=r[s],t[i]&&(o+=" "+i);else o=t+"";return o.trim()}function De(t){this.__internal__=null,this.props=t}function We(t,e){throw new Error(t+" ERROR: "+e)}function Be(t){function e(t){De.call(this,t)}Oi(t)&&(t={render:t}),t&&Oi(t.render)||We("mota.view.createClass","Provide an object with a `render` property containing a function"),e.displayName=t.displayName,e.validateProps=t.validateProps;for(var n in t.statics)e[n]=t.statics[n];return e.prototype=new De,t=ri(e.prototype,t),t.constructor=e,e}function $e(t){for(var e=0;e<vs.length;e++)if(vs[e].el===t)return vs[e]}function Ke(t){vs.push(t)}function He(){for(var t=0;t<vs.length;t++)vs[t].updater.startIgnore()}function Ye(){for(var t=0;t<vs.length;t++)vs[t].updater.endIgnore()}function Qe(){return!0}function Ge(){return!1}function Xe(t){var e=t.target;this.originalEvent=t,this.type=t.type,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,3===e.nodeType?this.target=e.parentNode:this.target=e,this.timeStamp=t.timeStamp||ds()}function Je(t){return t.nodeType&&3!==t.nodeType||t===t.window}function Ze(t){return t.__internal__?t.__internal__.el:null}function tn(){}function en(t){var e,n,r,i,o,s=t.slice(0),u=[0];for(e=0;e<t.length;e++)if(t[e]!==-1)if(n=u[u.length-1],t[n]<t[e])s[e]=n,u.push(e);else{for(r=0,i=u.length-1;r<i;)o=r+i>>>1,t[u[o]]<t[e]?r=o+1:i=o;t[e]<t[u[r]]&&(r>0&&(s[e]=u[r-1]),u[r]=e)}for(r=u.length,i=u[r-1];r--;)u[r]=i,i=s[i];return u}function nn(t,e){t[e.key]=null,e.remove()}function rn(t,e,n){if(null!=e||null!=n){for(var r=t.map,i=0,o=0,s=e?e.length:0,u=n?n.length:0,a=s-1,c=u-1,h=null,l=null,f=null,p=null,d=null;i<=a&&o<=c&&(l=n[o],l===e[i]);)l.reconcile(),o++,i++;for(;i<=a&&o<=c&&(f=n[c],f===e[a]);)f.reconcile(),c--,a--;for(;i<=a&&o<=c&&(f=n[c],h=e[i],f===h);)t.move(f,c+1<u?n[c+1].el:null),c--,i++;for(;i<=a&&o<=c&&(l=n[o],p=e[a],l===p);)t.move(l,e[i].el),o++,a--;if(i>a){if(o<=c)for(d=c+1<u?n[c+1].el:null;o<=c;o++)t.move(n[o],d)}else if(o>c)for(;i<=a;)nn(r,e[i++]);else{for(var v=a-i+1,g=c-o+1,m=new Array(g),y=0;y<g;y++)m[y]=-1;var b,_=!1,w=0,E=0,x=!0,A=0,k={};for(y=o;y<=c;y++)k[n[y].key]=y;for(y=i;y<=a;y++)x=!0,p=e[y],A<u&&(b=k[p.key],void 0!==b&&(m[b-o]=y,E>b?_=!0:E=b,A++,x=!1)),x&&(nn(r,p),w++);var j;if(_){var S=en(m),C=S.length-1;for(y=g-1;y>=0;y--)j=y+o,m[y]===-1||C<0||y!==S[C]?t.move(n[j],j+1<u?n[j+1].el:null):(n[j].reconcile(),C--)}else if(v-w===g)for(y=g-1;y>=0;y--)n[y+o].reconcile();else for(y=g-1;y>=0;y--)j=y+o,m[y]===-1?t.move(n[j],j+1<u?n[j+1].el:null):n[j].reconcile()}}}function on(t,e,n,r,i){if(this.parentInternal=r,this.parentNotFrag=r.isFrag?r.parentNotFrag:r,this.parentEl=this.parentNotFrag.el,this.depth=r.depth+1,this.key=i,!Oi(t))return this.isNative=!0,this.owner=r.owner,this.dom.setType(t,e),void(n&&n(this.el));this.construct=t,this.props=this.validateProps(e);var o=this.component=new t(this.props);o.__internal__=this,this.owner=o,this.dontQueue=!0,o.initialize&&o.initialize(),n&&n(o),o.componentWillMount&&o.componentWillMount(),this.queued=!1,this.dontQueue=!1,o.render(this.dom,this.props),this.el||this.dom.error("You must use `setType` inside the render method."),o.componentDidMount&&this.updater.queueCallback(o,"componentDidMount")}function sn(t){this.dontQueue||(this.queued?t&&(this.force=!0):(this.queued=!0,this.force=!!t,this.updater.queueUpdate(this)))}function un(t){var e=t.component,n=t.array;if(t.queued=!1,t.dontQueue=!0,e&&(e.componentWillUnmount&&e.componentWillUnmount(),e.__internal__=null),n){var r=0;if(t.isFrag)for(;r<n.length;r++)n[r].remove();else for(;r<n.length;r++)un(n[r])}}function an(){this.updater.queueElemDeletion(this),un(this)}function cn(t){return t||0===t?t+"":void 0}function hn(t){if(this.shouldUpdate=!0,this.isNative){if(!this.hasAttrs){var e=cn(t)||"";this.el.nodeValue!==e&&this.updater.queueAttrUpdate(this,"nodeValue",e,"prop")}}else{var n=this.component,r=this.props,i=t;if(this.dontQueue=!0,null==i?i=this.props:(i=this.validateProps(i),n.componentWillReceiveProps&&n.componentWillReceiveProps(i)),!this.force&&n.shouldComponentUpdate){var o=n.shouldComponentUpdate(i);if(o===!1)return this.props=n.props=i,this.queued=!1,this.dontQueue=!1,void(this.shouldUpdate=!1)}n.componentWillUpdate&&n.componentWillUpdate(i),this.props=n.props=i,this.queued=!1,this.dontQueue=!1,this.force=!1,n.render(this.dom,i),n.componentDidUpdate&&this.updater.queueCallback(n,"componentDidUpdate",r)}}function ln(t){this.root=t,this.updater=t.updater,this.dom=t.updater.dom,this.component=null,this.construct=null,this.queued=!1,this.dontQueue=!1,this.force=!1,this.shouldUpdate=!0,this.array=null,this.tempArray=null,this.map=null,this.isNative=!1,this.isNativeMounted=!1,this.isFrag=!1,this.justCreated=!0,this.depth=-1,this.type=void 0,this.hasAttrs=!0,this.isVoid=!1,this.parentInternal=null,this.parentNotFrag=null,this.parentEl=null,this.key=void 0,this.el=null,this.closingEl=null,this.props=null,this.itEl=null,this.noKeyIdx=null,this.textBuffer=void 0,this.newAttrs=null,this.prevAttrs=null,this.statics=null,this.staticsIdx=0}function fn(t,e,n){var r,i,o=e.type;return"#text"===o?t.createTextNode(n||""):"#comment"===o?t.createComment(n||""):(i=e.parentEl,r="foreignObject"===i.nodeName?null:js[o]||i.namespaceURI,r?t.createElementNS(r,o):t.createElement(o))}function pn(t){return t.charAt(0).toUpperCase()+t.substring(1)}function dn(t,e){return null==e||"boolean"==typeof e||""===e?"":"number"!=typeof e||0===e||Os[t]?(e+"").trim():e+"px"}function vn(t){if(!t)return!0;for(var e in t)return!1;return!0}function gn(t,e,n,r){var i,o,s,u=(e.el,null);if(vn(n))return void(vn(r)||e.dom._pushAttr("style",null,"attr"));e.dom._startStyle(),u={};for(i in n)o=Ms(i),o&&(s=dn(o,n[o]),s&&(r?(r[o]!==s&&e.dom._pushAttr(o,s,"style"),r[o]=void 0):e.dom._pushAttr(o,s,"style"),u[o]=s));if(r)for(i in r)r[i]&&e.dom._pushAttr(i,"","style");return e.dom._endStyle(),u}function mn(t,e,n,r){var i=cn(n);return i!==r&&e.dom._pushAttr(t,i,"attr"),i}function yn(t,e,n,r){var i=!!n;return i!==r&&e.dom._pushAttr(t,n?"":null,"attr"),i}function bn(t,e,n,r){var i=!!n;return i!==r&&e.dom._pushAttr(t,i,"prop"),i}function _n(t,e,n,r){var i=cn(n);return i!==r&&e.dom._pushAttr(t,i||"","prop"),i}function wn(t,e,n,r){var i=cn(n);return i!==r&&e.updater.queueEdgeCaseUpdate(e,t,i||""),i}function En(t,e,n,r){return"select"===e.type?wn(t,e,n,r):mn(t,e,n,r)}function xn(t,e,n){if(null==e){var r,i=n.noKeyIdx||(n.noKeyIdx={});return Oi(t)?(t.__type||(t.__type=Us++),r=t.__type):r=t,void 0===i[r]&&(i[r]=0),r+"$noKey$"+i[r]++}return"key$"+e}function An(t,e,n){e.isFrag&&t.error("dom.attr","#fragment doesn't allow attributes."),e.tempArray&&t.error("dom.attr","You can only call this before any .open() call."),n||t.error("dom.attr","Provide a name.");var r=Ns[n]||n;return e.newAttrs&&void 0!==e.newAttrs[r]&&t.error("dom.attr",'You are setting "'+n+'" more than once.'),r}function kn(t){var e,n,r=t.type,i=t.parentNotFrag;if(e=i.itEl?i.itEl:i.el.firstChild,e||(e={nodeName:""}),i.itEl=e.nextSibling||{nodeName:""},n=e.nodeName.toLowerCase(),t.isFrag?"#comment"!==n:r!==n){var o=" Expected '"+r+"' but found '"+n+"'.";t.dom.error("The pre-rendered markup did not match the component being rendered."+o)}return t.isNativeMounted=!0,e}function jn(t,e){this.current=null,this.root=t,this.updater=e,this.ignore=0}function Sn(t){var e=t&&t.constructor;return t?" Please check the code for the "+(e&&(e.displayName||e.name))+" component.":""}function Cn(t){this.data=t,this.left=null,this.right=null}function On(t){if("class"!==t)return 0===t.lastIndexOf("xml:",0)?"http://www.w3.org/XML/1998/namespace":0===t.lastIndexOf("xlink:",0)?"http://www.w3.org/1999/xlink":void 0}function Mn(t,e){var n=On(e);return n?t.getAttributeNS(n,e):t.getAttribute(e)}function In(t,e,n){var r;null==n?t.removeAttribute(e):(r=On(e),r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))}function Tn(t,e,n,r){"attr"===r?In(t,e,n):"prop"===r?t[e]=n:"style"===r&&(t.style[e]=n)}function Un(t,e,n,r){return"attr"===r?Mn(t,e)!==n:"prop"===r?t[e]!==n:t.style[e]!==n}function Nn(t){var e=t.internal,n=e.el,r=e.closingEl;t.remove?(n.parentNode.removeChild(n),r&&r.parentNode.removeChild(r)):(e.isNativeMounted=!0,t.parentNode.insertBefore(n,t.next),r&&t.parentNode.insertBefore(r,t.next))}function qn(t){Tn(t.el,t.name,t.value,t.type)}function Fn(t){t.el[t.name]=t.value}function Pn(t){t.component[t.name](t.arg)}function Vn(t,e,n,r,i){t.push({el:e,name:n,value:r,type:i})}function Ln(t,e){for(var n=0;n<t.length;n++)e(t[n])}function Rn(){this.ignore=0,this.allowFlush=!0,this.dirtyComponents=new qs,this.dom=null,this.pendingAttrUpdates=[],this.pendingElemMoves=[],this.pendingEdgeCase=[],this.pendingCallbacks=[]}function zn(t){this.el=t,this.isFirstRender=!0,this.props=null,this.reuseMarkup=!!t.firstChild,this.updater=new Rn,this.updater.dom=new jn(this,this.updater),this.doc=t.ownerDocument,this.__internal__=new ln(this),this.__internal__.el=t,this.__internal__.component=this,this.__internal__.isNativeMounted=!0,this.__internal__.initVars(t.nodeName)}function Dn(t){var e=new zn(t);return Ke(e),e}function Wn(t,e,n){$i();e&&1===e.nodeType||We("mota.view.render","`parent` should be an DOM element");var r=$e(e)||Dn(e);r.render=t,r.componentDidUpdate=function(){this.isFirstRender=!1,this.reuseMarkup=!1,this.componentDidUpdate=void 0,Oi(n)&&n()},r.__internal__.queueUpdate(!1)}function Bn(t){return Vs[t]}function $n(t){var e=ye(t);return e&&Ps.test(e)?e.replace(Fs,Bn):e}function Kn(t){return t.replace(Ls,"-$1").toLowerCase()}function Hn(t,e){this.current=null,this.root=t,this.updater=e,this.ignore=0,this.string=""}function Yn(){this.isFirstRender=!0,this.props=null,this.reuseMarkup=!1,this.updater=Rs,this.updater.dom=new Hn(this,this.updater),this.__internal__=new ln(this),this.__internal__.el={},this.__internal__.component=this,this.__internal__.initVars("div")}function Qn(t){var e=new Yn,n=e.updater.dom,r=e.__internal__;return e.render=t,n.current=r,r.update(null),n._finishJob(),n.string}function Gn(t){t.__internal__.queueUpdate()}function Xn(t){t.__internal__.queueUpdate(!0)}function Jn(t,e){var n,r;for(n=0;n<e.length;n++)r=e[n],t[r]=$(t[r],t);return t}function Zn(t,e){for(var n=0;n<e.length;n++)t[n]=e[n];return t}function tr(t,e,n,r,i){return e?(i.set(n,t),si(t,n,function(t,e,n,o,s){return ur(e,!0,r,n,s,i)})):ri(t,n),t}function er(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&h(t,"index")&&(n.index=t.index,n.input=t.input),n}function nr(t,e,n,r){var i=0;for(r.set(e,t);i<t.length;i++)t[i]=ur(e[i],!0,n,i,e,r);return t}function rr(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function ir(t,e){var n=e?Bs(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function or(t,e,n,r){var i=new t.constructor;return e&&r.set(t,i),t.forEach(function(o,s){i.set(s,e?ur(o,!0,n,s,t,r):o)}),i}function sr(t,e,n,r){var i=new t.constructor;return e&&r.set(t,i),t.forEach(function(o){i.add(e?ur(o,!0,n,o,t,r):o)}),i}function ur(t,e,n,r,i,o){var s,u,a,h,l,f=o;if(n&&(s=i?n(t,r,i,f):n(t),void 0!==s))return s;if(!M(t))return t;if(e)if(f){if(l=f.get(t))return l}else f=new Ds;return Mi(t)?(s=er(t),e?nr(s,t,n,f):Zn(s,t)):Ni(t)?rr(t,e):(u=pi(t),li[u]?ir(t,e):u===ci.Map?or(t,e,n,f):u===ci.Set?sr(t,e,n,f):(a=Oi(t),u===ci.Object||u===ci.Arguments||a&&!i?s=a||!Oi(t.constructor)?{}:W(c(t)):(h=Ws[u],h&&(s=h(t,e,n,f))),s?tr(s,e,t,n,f):i?t:{}))}function ar(t){var e={},n=Object(t);for(var r in n)e[r]=n[r];return e}function cr(t,e,n){void 0===n&&("number"!=typeof e||e in t)||(t[e]=n)}function hr(t,n,r,i,o,s,u){var a=u;if(Mi(r)||q(r))for(var c=0;c<r.length;c++)a=t(n,r,c,o,s,a);else e(t,n,r,!0,o,s,a)}function lr(t,e,n,r,i,o){var s,u,a,c=t[n],h=e[n],l=o;return M(h)?(l||(l=new Ds),(s=l.get(h))?(cr(t,n,s),l):(u=r?r(c,h,n,t,e,l):void 0,a=void 0===u,a&&(u=h,Mi(h)||q(h)?Mi(c)?u=c:p(c)?u=Zn([],c):(a=!1,u=ur(h,!0)):I(h)||f(h)?f(c)?u=ar(c):!M(c)||i&&Oi(c)?(a=!1,u=ur(h,!0)):u=c:a=!1),a&&(l.set(h,u),hr(lr,u,h,!0,r,i,l),l["delete"](h)),cr(t,n,u),l)):(u=r?r(c,h,n,t,e,l):void 0,void 0===u&&(u=h),cr(t,n,u),l)}function fr(t,e,n){return void 0===t||Ct(t,Xr[n])&&!Gr.call(e,n)}function pr(t,e,n){var r=t[n];fr(r,t,n)&&(t[n]=e[n])}function dr(t,e,n,r,i,o){if(M(t)&&M(e)&&(o.set(e,t),hr(lr,t,e,!0,dr,void 0,o),o["delete"](e)),!fr(t,r,n))return t}function vr(t,e,n,r,i,o){return lr(t,e,n,dr,i,o)}function gr(){var t,e;return{promise:new pe(function(n,r){t=n,e=r}),resolve:t,reject:e}}function mr(t){if(null==t)return[];var e=Object(t),n=[];for(var r in e)Gr.call(e,r)&&n.push([r,e[r]]);return n}function yr(t){if(null==t)return[];var e=Object(t),n=[];for(var r in e)n.push([r,e[r]]);return n}function br(t){return t}function _r(t,e,n,r){var i=Re(t),o=Re(e),s=i.length;if(s!==o.length)return!1;var u=r.get(t);if(u&&r.get(e))return u===e;var a,c=!0,l=!1,f=0;for(r.set(t,e),r.set(e,t);f<s;f++){if(a=i[f],!h(e,a)||!jr(t[a],e[a],n,a,t,e,r)){c=!1;break}l||"constructor"!==a||(l=!0)}if(c&&!l){var p=t.constructor,d=e.constructor;p===d||I(t)&&I(e)||(c=!1)}return r["delete"](t),r["delete"](e),c}function wr(t,e,n,r,i){var o=!0,s=0,u=t.length;if(u!==e.length)return!1;var a=r.get(t);if(a&&r.get(e))return a===e;var c=i&&new Ds;for(r.set(t,e),r.set(e,t);s<u;s++){var h,l=t[s],f=e[s];if(n){if(h=n(l,f,s,t,e,r))continue;if(void 0!==h){o=!1;break}}if(i){for(var p=0,d=!1;p<e.length;p++)if(!c.has(p)&&kr(l,e[p],n,r)){c.set(p,!0),d=!0;break}if(!d){o=!1;break}}else if(!kr(l,f,n,r)){o=!1;break}}return r["delete"](t),r["delete"](e),o}function Er(t,e){var n=new Array(e.size),r=0;return e.forEach(function(e,i){n[r++]=t?[i,e]:e}),n}function xr(t,e,n,r,i){if(e.size!==n.size)return!1;var o=i.get(e);if(o&&i.get(n))return o===n;i.set(e,n),i.set(n,e);var s=wr(Er(t,e),Er(t,n),r,i,!0);return i["delete"](e),i["delete"](n),s}function Ar(t,e,n,r,i){switch(n){case ci.DataView:if(t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ci.ArrayBuffer:return t.byteLength===e.byteLength&&jr(new Uint8Array(t),new Uint8Array(e));case ci.Boolean:case ci.Date:case ci.Number:return Ct(+t,+e);case ci.Error:return t.name===e.name&&t.message===e.message;case ci.RegExp:case ci.String:return t+""==e+"";case ci.Map:case ci.Set:return xr(n===ci.Map,t,e,r,i);case ci.Symbol:if(_i)return _i.call(t)===_i.call(e)}return!1}function kr(t,e,n,r){var i,o,s,u,a=r;return t===e||(null==t||null==e||!M(t)&&!M(e)?t!==t&&e!==e:(i=Mi(t),o=Mi(e),i?s=ci.Array:(s=pi(t),s=s===ci.Arguments?ci.Object:s),o?u=ci.Array:(u=pi(e),u=u===ci.Arguments?ci.Object:u),s===u&&(a||(a=new Ds),s!==ci.Object?i||q(t)?wr(t,e,n,a):Ar(t,e,s,n,a):_r(t,e,n,a))))}function jr(t,e,n,r,i,o,s){if(n){var u=i?n(t,e,r,i,o,s):n(t,e);if(void 0!==u)return!!u}return kr(t,e,n,s)}function Sr(t,e){return jr(t,e)}function Cr(t,e,n){return jr(t,e,n)}function Or(t){if(null==t)return[];var e,n=Object(t),r=[];for(e in n)r.push(e);return r}function Mr(t,e){"undefined"!=typeof console&&console.log(t+" LOG: "+e)}function Ir(t,e){return function(){for(var n=0;n<t.length;n++)D(t[n],this,arguments);return D(e,this,arguments)}}function Tr(t,e){var n,r,i,o=t&&t.prototype,s={};if(!o)return t;for(var u=0;u<e.length;u++){n=e[u];for(r in n)s[r]||(s[r]=[]),s[r].push(n[r])}for(r in s)i=o[r],o[r]=Ir(s[r],Oi(i)&&i);return t}function Ur(){return tu&&Qr.mota===this&&(Qr.mota=tu),this}function Nr(t){return ru[t]}function qr(t){var e=ye(t);return e&&nu.test(e)?e.replace(eu,Nr):e}function Fr(t){var e=ye(t);return iu[e]||(iu[e]=0),e+ ++iu[e]}function Pr(t,e){var n,r;for(n in e)if(r=e[n],r&&!r(t[n],n,t))return!1;return!0}function Vr(t){if(null==t)return[];var e=Object(t),n=[];for(var r in e)Gr.call(e,r)&&n.push(e[r]);return n}function Lr(t){if(null==t)return[];var e=Object(t),n=[];for(var r in e)n.push(e[r]);return n}var Rr,zr=Object,Dr="object"==typeof exports&&exports,Wr=Dr&&"object"==typeof module&&module,Br=Wr&&Wr.exports===Dr,$r=t("object"==typeof global&&global),Kr=!!$r,Hr=t("object"==typeof self&&self),Yr=t("object"==typeof window&&window),Qr=$r||Hr||Function("return this")(),Gr={}.hasOwnProperty,Xr=Object.prototype,Jr=Object.keys,Zr=isFinite,ti=Object.prototype.propertyIsEnumerable,ei=Object.getOwnPropertySymbols;ei&&(Rr=function(t){return ei(Object(t))});var ni=Rr,ri=n(e,r,!1,!1),ii=n(e,r,!0,!1),oi=n(e,i,!0,!0),si=n(e,i,!1,!0),ui=["Arguments","Array","Boolean","Date","Error","Function","GeneratorFunction","Map","Number","Object","Promise","RegExp","Set","String","Symbol","WeakMap","WeakSet","ArrayBuffer","DataView"],ai=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array"],ci={},hi={},li={};
ui.forEach(function(t){ci[t]="[object "+t+"]"}),ai.forEach(function(t){var e="[object "+t+"]";hi[t]=ci[t]=e,li[e]=!0});var fi={}.toString,pi=function(t){return fi.call(t)},di="function"==typeof Symbol&&!(Kr&&/^v0/.test(process.version)),vi="function"==typeof Symbol?Symbol:{},gi=function(t){return vi[t]||"@@"+t},mi=function(t,e){var n=vi[e];return n?t[n]:t["@@"+e]},yi=function(t,e,n){var r=vi[e];r&&(t[r]=n),t["@@"+e]=n},bi=vi?vi.prototype:void 0,_i=bi?bi.valueOf:void 0,wi=bi?bi.toString:void 0,Ei=0,xi=1,Ai=2,ki=Object.freeze({value:void 0,done:!0}),ji=Object.getPrototypeOf,Si={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Error]":"error","[object Function]":"function","[object GeneratorFunction]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string","[object Symbol]":"symbol"},Ci=function(t){return"function"==typeof t||!1};"function"!=typeof/./&&"object"!=typeof Int8Array||(Ci=function(t){return"function"===l(t)});var Oi=Ci,Mi=Array.isArray,Ii=Math.pow(2,53)-1,Ti=Br?$r.Buffer:void 0,Ui=Ti?Ti.isBuffer:void 0,Ni=Ui||function(){return!1},qi="[object HTMLDocument]",Fi="[object Document]",Pi=Function.prototype.toString,Vi=Pi.call(Object),Li="[object Window]",Ri="[object global]",zi=Object.create,Di=Yr,Wi=Di&&Di.document,Bi=function(){return Di},$i=function(){return Wi},Ki=function(t){P(t)&&(Di=t,Wi=t.document)},Hi=Object.defineProperty,Yi=di&&Symbol("mota internal")||("__mota__"+Math.random()).replace(/0\./g,"");Q.prototype=Object.create(null);var Qi={setup:function(t,e,n,r){var i=t[Yi];return i||(i=new Q,r||di?t[Yi]=i:Hi(t,Yi,{writable:!0,value:i})),i[e]?i[e]:i[e]=n},get:function(t,e){var n=t[Yi];return n&&n[e]},remove:function(t,e){var n=t[Yi];n&&(n[e]=null)}},Gi=/\S+/g,Xi=/\.[^.]+/g,Ji=/^[^.]+/g,Zi={length:function(){return this.arr.length},add:function(t){t._index=this.arr.push(t)-1},remove:function(t){for(var e=this.arr,n=t._index,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r],e[n]._index=n;e.pop()},forEach:function(t){for(var e=this.arr,n=0,r=e.length;n<r&&t(e[n])!==!1;n++);},safeForEach:function(t){for(var e=this.arr,n=0,r=e.length,i=[];n<r;n++)i.push(e[n]);for(n=0;n<r;n++)t(i[n])}};et.prototype=ri({constructor:et,getListeners:function(t,e,n){var r="getFirst"===n,i="trigger"===n,o=e.type,s=e.namespaces,u=e.handler,a=e.context;this.forEach(function(e){var n=tt(e,o,s,u,a,i);if(n)return t.push({listener:e,string:o,match:n}),!r})}},Zi);var to,eo=function(t,e,n,r,i,o,s){var u,a,c,h,l,f=0;if(a="on"===e?nt(t):Qi.get(t,"events"),!a)return f;if(c=X(r,i,o,[]),"on"===e)for(u=0;u<c.length;u++)h=c[u],h.type&&h.handler&&n(t,a,{listener:h},s);else{for(l=[],u=0;u<c.length;u++)a.getListeners(l,c[u],e);if(f=l.length,n)for(u=0;u<f&&n(t,a,l[u],s)!==!1;u++);}return f},no=function(t,e,n,r){var i=n.listener;r.push({type:i.type,namespaces:i.namespaces,handler:i.handler,context:i.context,once:i.once,isRegExp:i.isRegExp})},ro=function(t,e,n){var r=n.listener;r.handler=void 0,e.remove(r)},io=function(t,e,n,r){var i=n.listener;r&&(i.once=!0),e.add(i),e.length()>e._maxListeners&&Y("mota.Events.on","Possible memory leak detected. Use `setMaxListeners` to increase the limit of listeners."),to.hook(t,i.type)};to=function(t,e,n,r){return eo(this,"on",io,t,e,n,r),this},to.hook=ut;var oo=to,so=function(t,e,n,r){var i=n.listener,o=i.handler;i.once&&ro(t,e,n),D(o,void 0===i.context?t:i.context,i.isRegExp?[{string:n.string,match:n.match}].concat(r):r)},uo={getListeners:rt,getMaxListeners:it,hasListeners:ot,off:st,on:oo,once:at,setMaxListeners:ct,trigger:ht},ao=255,co=/^\/+|\/+$/,ho=47,lo=function(t,e){var n,r,i=[];for(n=0;n<t.length;n++)r=t[n],r&&"."!==r&&(".."===r?i.length&&".."!==i[i.length-1]?i.pop():e&&i.push(".."):i.push(r));return i},fo=lt(function(t){if(!t)return".";var e=pt(t)?"/":"",n=t.replace(co,"/").split("/");return e+lo(n,!e).join("/")});gt.prototype={constructor:gt,getFragment:function(){var t=this.location;return this.fragment=vt(t.pathname)+t.search+t.hash},triggerRoutes:function(t){this.router&&this.router.handle({url:t,method:"GET"},{},this.callback)},checkUrl:function(){this.triggerRoutes(this.getFragment())},start:function(t){this.window&&!this._started&&(this._started=!0,t&&t.ignoreCurrent?this.getFragment():this.checkUrl(),uo.on.call(this.window,"popstate",this.checkUrl,this))},stop:function(){this._started&&(this._started=!1,uo.off.call(this.window,"popstate",this.checkUrl,this))},_nav:function(t,e){var n=vt(t);this._started&&this.fragment!==n&&(this.fragment=n,e?this.history.replaceState({},this.document.title,n):this.history.pushState({},this.document.title,n),this.triggerRoutes(n))},navigate:function(t){this._nav(t,!1)},replace:function(t){this._nav(t,!0)},go:function(t){this.history.go(t)},back:function(){this.history.back()},forward:function(){this.history.forward()}};var po={},vo={},go=5,mo=32,yo=mo-1,bo="@@__MOTA_MAP__@@",_o={},wo=function(t,e,n,r){if(t&&"object"==typeof t){var i=mt(e,n);return Mi(t)||p(t)?yt(t,i):Et(t,i,r)}};wo.BREAK=_o;var Eo=Math.imul;"function"==typeof Eo&&Eo(4294967295,2)===-2||(Eo=function(t,e){var n=t>>>16&65535,r=65535&t,i=e>>>16&65535,o=65535&e;return r*o+(n*o+r*i<<16>>>0)|0});var xo=lt(function(t){for(var e=0,n=0;e<t.length;e++)n=31*n+t.charCodeAt(e)|0;return xt(n)},16),Ao=1;Mt.prototype={isLeaf:!1,loop:function(t,e){for(var n=this.children,r=0;r<n.length;r++)if(n[r].loop(t,e)===!0)return!0;return!1},get:function(t,e,n,r){var i=void 0===e?St(t):e,o=1<<((0===n?i:i>>>n)&yo),s=this.bitmap;return 0===(s&o)?r:this.children[It(s&o-1)].get(t,i,n+go,r)},modify:function(t,e,n,r,i,o){var s,u,a,c,h,l,f,p,d,v=this,g=this.children;if(s=(0===r?n:n>>>r)&yo,u=1<<s,a=this.bitmap,c=0!==(a&u),!c&&e===vo)return this;if(h=It(a&u-1),c?(p=this.children[h],f=p.modify(t,e,n,r+go,i,o)):(o.changeValue=!0,o.changeSize=!0,f=new Nt(t,e,n,i)),!f){if(l=g.length,1===l)return null;if(d=g[1^h],2===l&&d.isLeaf)return d}return f!==p&&(v=c?f?this.cloneUpdate(i,h,f):this.cloneSpliceOut(i,h):this.cloneSpliceIn(i,h,f),v.bitmap=c?f?a:a^u:a|u),v},cloneUpdate:function(t,e,n){if(t&&this.owner===t)return this.children[e]=n,this;for(var r=this.children,i=new Mt(t),o=i.children,s=0;s<r.length;s++)o[s]=r[s];return o[e]=n,i},cloneSpliceOut:function(t,e){var n=this.children,r=n.length-1,i=0;if(t&&this.owner===t){for(i=e;i<r;i++)n[i]=n[i+1];return n.pop(),this}for(var o=new Mt(t),s=o.children;i<e;i++)s[i]=n[i];for(;i<r;i++)s[i]=n[i+1];return o},cloneSpliceIn:function(t,e,n){var r=this.children,i=r.length+1,o=0;if(t&&this.owner===t){for(o=i-1;o>e;o--)r[o]=r[o-1];return r[e]=n,this}for(var s=new Mt(t),u=s.children;o<e;o++)u[o]=r[o];for(u[o++]=n;o<i;o++)u[o]=r[o-1];return s}},Ut.prototype={isLeaf:!0,loop:function(t,e){for(var n=this.children,r=0;r<n.length;r++)if(n[r].loop(t,e)===!0)return!0;return!1},get:function(t,e,n,r){for(var i,o=this.children,s=o.length;s--;)if(i=o[s],Ot(i.key,t))return i.value;return r},modify:function(t,e,n,r,i,o){var s,u,a,c,h,l=this,f=0,p=e===vo;if(this.hash===n){for(s=this.children,h=s.length;f<h;f++)if(u=s[f],u&&Ot(t,u.key)){a=u;break}return(a?a.value===e:p)?this:(o.changeValue=!0,!p&&a||(o.changeSize=!0),a?(c=a.modify(t,e,n,r,i,o))?(l=this.clone(i),l.children[f]=c,l):2===h?s[1^f]:1===h?null:(l=this.clone(i),f===h-1?l.children.pop():l.children[f]=l.children.pop(),l):(l=this.clone(i),l.children[f]=new Nt(t,e,n,i),l))}return p?this:(o.changeValue=!0,o.changeSize=!0,Tt(i,r,this,new Nt(t,e,n,i)))},clone:function(t){if(t&&this.owner===t)return this;for(var e=this.children,n=new Ut(this.hash,t,e[0],e[1]),r=3;r<e.length;r++)n.children[r]=e[r];return n}},Nt.prototype={isLeaf:!0,loop:function(t,e){return t(this.value,this.key,e)},get:function(t,e,n,r){return Ot(this.key,t)?this.value:r},modify:function(t,e,n,r,i,o){var s=this;return this.hash===n?Ot(t,this.key)?this.value===e?this:(o.changeValue=!0,o.oldValue=this.value,e===vo?(o.changeSize=!0,null):(s=this.clone(i),s.value=e,s)):e===vo?this:(o.changeValue=!0,o.changeSize=!0,new Ut(n,i,this,new Nt(t,e,n,i))):e===vo?this:(o.changeValue=!0,o.changeSize=!0,Tt(i,r,this,new Nt(t,e,n,i)))},clone:function(t){return t&&this.owner===t?this:new Nt(this.key,this.value,this.hash,t)}};var ko=function(t,e){this.__type=e,this.__stack=t.__root&&qt(t.__root)};ko.prototype={constructor:ko,next:function(){for(var t,e,n,r,i,o=this.__type,s=this.__stack;s;){if(t=s.node,e=t.children,n=s.index++,e){if(r=e.length-1,n<=r){if(i=e[n]){if(!i.children)return Ft(i.key,i.value,o);s=this.__stack=qt(i,s)}continue}}else if(0===n)return Ft(t.key,t.value,o);s=this.__stack=this.__stack.prev}return ki},toString:function(){return"[object Map Iterator]"}},yi(ko.prototype,"iterator",function(){return this});var jo={changeValue:!1,changeSize:!1,oldValue:void 0},So=Rt.prototype={get:function(t,e){var n=this.__root;return n?n.get(t,void 0,0,e):e},has:function(t){return vo!==this.get(t,vo)},set:function(t,e){return Lt(this,t,e).__triggerChangeEvent()},remove:function(t){return this.set(t,vo)},update:function(t,e,n){var r=e(this.get(t,n));return this.set(t,r===n?vo:r)},forEach:function(t,e){var n;this.size&&(n=mt(t,e),this.__root.loop(function(t,e,r){n(t,e,r)},this))},find:function(t,e){var n,r;return this.size&&(n=mt(t,e),this.__root.loop(function(t,e,i){var o=n(t,e,i);return o===!0&&(r=t),o},this)),r},clear:function(){if(this.isImmutable())return Co;var t=this.__changes;return Vt(this)&&(t||(t=this.__changes=[]),this.forEach(function(e,n){t.push({type:"delete",key:n,name:n,oldValue:e})})),this.size=0,this.__root=null,this.__triggerChangeEvent()},count:function(){return this.size},__triggerChangeEvent:function(){if(this.isMutable()){var t=this.__changes;t&&t.length&&(this.trigger("change",t),this.__changes.length=0)}return this},isMutable:function(){return!!this.__owner},isImmutable:function(){return!this.__owner},asMutable:function(){return this.isMutable()?this:Bt(!0,this.size,this.__root)},asImmutable:function(){return this.isMutable()?this.size?Bt(!1,this.size,this.__root):Co:this},clone:function(){return this.isImmutable()?this:Bt(!0,this.size,this.__root)},merge:function(t,e){var n,r,i,o;return t&&t!==Co?this===Co&&zt(t)&&t.isImmutable()?t:(n=this.asMutable(),r=this.isImmutable(),i=!1,o=p(t),wo(t,function(t,s){o?Lt(n,t[0],t[1],r||e===po):Lt(n,s,t,r||e===po),jo.changeValue&&(i=!0)}),i?r?n.asImmutable():this.__triggerChangeEvent():this):this},hashCode:function(){if(void 0!==this.__hash)return this.__hash;var t=0;return this.__root.loop(function(e,n){t=t+At(St(e),St(n))|0}),t=kt(t,this.size),this.__hash=t,t},equals:function(t){if(this===t)return!0;if(!t||!zt(t)||this.size!==t.size)return!1;if(0===this.size)return!0;if(void 0!==this.__hash&&void 0!==t.__hash&&this.__hash!==t.__hash)return!1;var e=!0,n=vo;return this.__root.loop(function(r,i){var o=t.get(i,n);return o!==n&&Ot(r,o)||(e=!1),!e}),e}};So[bo]=!0,yi(So,"get",So.get),a(Rt,ko,"entries"),So.pairs=So.entries,So.unset=So["delete"]=So.remove,Dt.isMap=zt,Wt.isMap=zt,Dt.prototype=new Rt,Wt.prototype=new Rt,ri(Dt.prototype,uo);var Co=Bt(!1,0,null),Oo=function(t){this.sub=t};$t(Oo.prototype={},{next:function(t){return Jt(this.sub,t)},complete:function(t){return Zt(this.sub,t)},error:function(t){return te(this.sub,t)}}),Hi(Oo.prototype,"closed",{get:function(){return this.sub.closed},configurable:!0});var Mo=function(t,e,n){var r,i,o;if(this._cleanup=void 0,this._observer=t,this._index=-1,this._unsub=n,o=Kt(t.start),o&&o.call(t,this),!Yt(this)){if(t=new Oo(this),!n){try{r=Xt(e,t)}catch(s){i=s}if(i)return t.error(i)}this._cleanup=r,Yt(this)&&Gt(this)}};$t(Mo.prototype={},{unsubscribe:function(){Yt(this)||(this._unsub&&this._unsub(this),Qt(this))}}),Hi(Mo.prototype,"closed",{get:function(){return Yt(this)},configurable:!0});var Io=function(){return"object"==typeof process&&process.nextTick&&"[object process]"===process.toString()?function(t){process.nextTick(t)}:"function"==typeof setImmediate?function(t){setImmediate(t)}:function(t){setTimeout(t,0)}}(),To="pending",Uo="fulfilled",No="rejected",qo="adopted",Fo="undefined"!=typeof Event&&Event;pe.prototype.then=function(t,e){var n=re(this),r=ee(n.constructor),i={then:new r(ut),fulfilled:t,rejected:e};return!t&&!e||n.handled||(n.handled=!0,n.published&&n.state===No&&($r||Yr)&&Io(function(){ae(n)})),!n.published||n.state!==Uo&&n.state!==No?n.queue.push(i):Io(function(){ne(i,n)}),i.then},pe.prototype["catch"]=function(t){return this.then(null,t)},pe.prototype["finally"]=function(t){var e=Oi(t)?t:ut,n=ee(this.constructor);return this.then(function(t){return new n(function(t){t(e())}).then(function(){return t})},function(t){return new n(function(t){t(e())}).then(function(){throw t})})},pe.resolve=function(t){return t&&"object"==typeof t&&t.constructor===pe?t:new pe(function(e){e(t)})},pe.reject=function(t){return new pe(function(e,n){n(t)})},pe.all=function(t){if(!w(t))throw new TypeError("You must pass an iterable.");return new pe(function(e,n){function r(t){return o++,function(n){i[t]=n,--o||e(i)}}var i=[],o=0,s=0;wo(t,function(t){t&&Oi(t.then)?t.then(r(s),n):i[s]=t,s++},null,!1),0===o&&e(i)})},pe.race=function(t){if(!w(t))throw new TypeError("You must pass an iterable.");return new pe(function(e,n){wo(t,function(t){t&&Oi(t.then)?t.then(e,n):e(t)},null,!1)})},Hi(pe,gi("species"),{get:function(){return this},configurable:!0}),Hi(pe.prototype,gi("toStringTag"),{value:"Promise",configurable:!0});var Po=function(t,e,n){this.observer=t,this.fn=e,this.thisArg=n};Po.prototype={next:function(t){try{if(!this.fn.call(this.thisArg,t))return}catch(e){return this.observer.error(e)}return this.observer.next(t)},complete:function(t){return this.observer.complete(t)},error:function(t){return this.observer.error(t)}};var Vo=function(t,e){this.fn=t,this.thisArg=e};Vo.prototype.call=function(t){return new Po(t,this.fn,this.thisArg)};var Lo=function(t,e,n){this.observer=t,this.fn=e,this.thisArg=n};Lo.prototype={next:function(t){var e;try{e=this.fn.call(this.thisArg,t)}catch(n){return this.observer.error(n)}return this.observer.next(e)},complete:function(t){return this.observer.complete(t)},error:function(t){return this.observer.error(t)}};var Ro=function(t,e){this.fn=t,this.thisArg=e};Ro.prototype.call=function(t){return new Lo(t,this.fn,this.thisArg)};var zo=function(t){if(!Oi(t))throw new TypeError("Observable initializer must be a function");this._subscriber=t};zo.Promise=pe,$t(zo.prototype,{lift:function(t){var e=this,n=ee(this.constructor);return new n(function(n){return e.subscribe(t.call(n))})},subscribe:function(t){return new Mo(Ht(t,arguments[1],arguments[2]),this._subscriber)},toPromise:function(){var t=this;return new zo.Promise(function(e,n){t.subscribe({complete:e,error:n})})},forEach:function(t){var e=this,n=arguments[1];return new zo.Promise(function(r,i){if(!Oi(t))throw new TypeError(t+" is not a function");e.subscribe({_subscription:null,start:function(t){this._subscription=t},next:function(e){var r=this._subscription;if(!r.closed)try{return t.call(n,e)}catch(o){i(o),r.unsubscribe()}},error:i,complete:r})})},map:function(t){if(!Oi(t))throw new TypeError(t+" is not a function");return this.lift(new Ro(t,arguments[1]))},filter:function(t){if(!Oi(t))throw new TypeError(t+" is not a function");return this.lift(new Vo(t,arguments[1]))}}),$t(zo,{from:function(t){var e=Oi(this)?this:zo;if(null==t)throw new TypeError(t+" is not an object");var n=mi(t,"observable");if(null!=n){if(!Oi(n))throw new TypeError(n+" is not a function");var r=n.call(t);if(Object(r)!==r)throw new TypeError(r+" is not an object");return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}if(!w(t))throw new TypeError(t+" is not observable");return new e(function(e){wo(t,function(t){if(e.next(t),e.closed)return wo.BREAK}),e.complete()})},of:function(){var t=arguments,e=Oi(this)?this:zo;return new e(function(e){for(var n=0;n<t.length;n++)if(e.next(t[n]),e.closed)return;e.complete()})}}),Hi(zo.prototype,gi("observable"),{value:function(){return this},writable:!0,configurable:!0}),Hi(zo,gi("species"),{get:function(){return this},configurable:!0});var Do=0,Wo=1,Bo=2;de.prototype=Zi,ve.prototype={next:function(t){this.multicast._subs.safeForEach(function(e){Jt(e,t)})},error:function(t){var e=this.multicast;e._state=Bo,e._value=t,e._subs.safeForEach(function(e){te(e,t)}),e._subs=null},complete:function(t){var e=this.multicast;e._state=Wo,e._value=t,e._subs.safeForEach(function(e){Zt(e,t)}),e._subs=null}};var $o=function(t,e){this._state=Do,this._value=void 0,this._subs=new de,this._subscription=null,this._source=t,this._refCount=e&&e.refCount,this._cancel=ge.bind(this)};$o.prototype=ri(zi(zo.prototype),{constructor:$o,subscribe:function(t){var e,n=Ht(t,arguments[1],arguments[2]);return this._state===Do?(e=new Mo(n,null,this._cancel),this._subs.add(e)):(e=new Mo(n,ut),this._state===Wo?Zt(e,this._value):te(e,this._value)),this._refCount&&!this._subscription&&this.connect(),e},connect:function(){return this._subscription=this._subscription||this._source.subscribe(new ve(this)),this._subscription}}),yi($o,"species",zo),$t(zo.prototype,{multicast:function(t){return new $o(this,t)}});var Ko=/[\\.+*?=^!:${}()[\]|\/]/g,Ho=new RegExp(Ko.source),Yo=lt(function(t){return new RegExp(be(t)+"$")}),Qo=lt(function(t){ft(t);var e=pt(t)?"/":"",n=t.replace(co,"/").split("/"),r=lo(n,!e);return r.pop(),e+r.join("/")||"."}),Go=/([^\/]*)(\.[^\.\/]*)$/,Xo=/\/+$/,Jo=decodeURIComponent,Zo=/\/+$/,ts=/([=!:$\/()])/g,es="\\(((?:\\\\.|[^\\\\()])+)\\)",ns=new RegExp(["(\\\\.)","([\\/])?(?:(?:\\:(\\w+)(?:"+es+")?|"+es+")([+*?])?|(\\*\\*)|(\\*))"].join("|"),"g"),rs="(?!\\.)",is="[^\\/]+?",os=33,ss={basename:_e,dirname:Qo,extname:we,isAbsolute:dt,join:Ee,match:xe,normalize:vt,pathToRegExp:Se,relative:Oe,resolve:Me},us="/",as=Se(us),cs="allMethods",hs=/#.*$/,ls=/\?.*$/,fs=/^(https?|ftp):\/\/[^\/\?#;]+/;Ue.prototype._handle=function(t,e,n,r){var i=t.method.toLowerCase(),o=this.method;!r||o!==i&&o!==cs||(e.push(this.fn),n.push(r))},Ne.prototype={constructor:Ne,_handle:function(t,e,n){this.pattern.regexp.test(t.pathname)&&(e.push(this._runThis),n.push(null))},_run:function(t,e,n){var r=t.url,i=t.pathname,o=Te(r);"/"!==this.path&&(t.pathname=i.replace(this.pattern.regexp,""),t.url=o+t.pathname+r.substr(o.length+i.length)),this.router.handle(t,e,function(e){t.url=r,t.pathname=i,n("leave"===e?void 0:e)})}},qe.prototype._handle=function(t,e,n,r){e.push(this.fn),n.push(r)};var ps=/^\/*(.*?)\/*$/;Le.prototype={constructor:Le,route:function(t){var e=Ve(this.path,t),n=new Le;return n.path=e,n.pattern=Se(e,{caseSensitive:this.caseSensitive,dot:this.dot,end:!0}),n.names=Ce(t),this.routes.push(n),n},use:function(t,e){t&&!e&&(e=t,t="");var n=new Ne(Oi(e)?(new Le)[cs](e):e);return n.path=Ve(this.path,t),n.pattern=Se(n.path,{caseSensitive:this.caseSensitive,dot:this.dot,end:!1}),this.routes.push(n),this},param:function(t,e){if(!Oi(e))throw new TypeError("Function is required.");if(this.names.indexOf(t)<0)throw new TypeError("There is no parameter with that name in this route's path.");return this.params.push(new qe(t,e)),this},handle:function(t,e,n){if(!Oi(n))throw new TypeError("Callback is required.");var r,i,o=[],s=[],u=0;return t.originalUrl||(t.originalUrl=t.url),this._handle(t,o,s),r=o.length,i=function(a){a||u>=r?(o=void 0,s=void 0,i=void 0,n("leave"===a?void 0:a)):(t.params=s[u],Fe(o[u++],t,e,Pe(i)))},Io(i),this},_processParams:function(t,e,n,r){for(var i=this.params,o=0;o<i.length;o++)i[o]._handle(t,e,n,r)},_handle:function(t,e,n){var r=this.routes,i=t.pathname||(t.pathname=Ie(t.url)),o=xe(i,this.pattern);o&&this._processParams(t,e,n,o);for(var s=0;s<r.length;s++)r[s]._handle(t,e,n,o)}},Le.registerMethod=function(t){var e=t===cs?t:t.toLowerCase();Le.prototype[e]=function(n){return"string"==typeof n?this.route(n)[e](arguments[1]):(this.routes.push(new Ue(t,n)),this)}},[cs,"get","post","put","delete","patch"].forEach(Le.registerMethod);var ds=Date.now,vs=[],gs=/^key/,ms=/^(?:mouse|touch|pointer|contextmenu|drag|drop)|click/,ys=["altKey","bubbles","button","buttons","cancelable","charCode","clientX","clientY","code","ctrlKey","dataTransfer","detail","fromElement","key","keyCode","layerX","layerY","location","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","returnValue","screenX","screenY","shiftKey","srcElement","toElement","view"],bs={which:function(t){var e=t.button;return!t.which&&void 0!==e&&ms.test(t.type)?1&e?1:2&e?3:4&e?2:0:null==t.which&&gs.test(t.type)?null==t.charCode?t.keyCode:t.charCode:t.which},path:function(t){for(var e=t.target,n=[e];e=e.parentNode||e.defaultView;)n.push(e);return n}},_s=function(t){Hi(Xe.prototype,t,{enumerable:!0,configurable:!0,get:function(){var e=bs[t],n=e?e(this.originalEvent):this.originalEvent[t];return this[t]=n},set:function(e){Hi(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})};Xe.prototype={constructor:Xe,isDefaultPrevented:Ge,isPropagationStopped:Ge,isImmediatePropagationStopped:Ge,stopPropagation:function(){this.isPropagationStopped=Qe,this.originalEvent.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Qe,this.stopPropagation()},preventDefault:function(){this.isDefaultPrevented=Qe,this.originalEvent.preventDefault()}},ys.forEach(_s),Jr(bs).forEach(_s);var ws=function(t,e,n,r){var i=n.listener,o=i.handler;return!r.isImmediatePropagationStopped()&&(i.once&&ro(t,e,n),r.currentTarget=t,void(r.result=D(o,void 0===i.context?t:i.context,i.isRegExp?[{string:n.string,match:n.match},r]:[r])))},Es=function(t){var e=new Xe(t),n=e.type,r=e.path,i=0;for(He();i<r.length&&!e.isPropagationStopped()&&(eo(r[i++],"trigger",ws,n,void 0,void 0,e),e.bubbles););Ye()},xs={},As={dispatchEvents:Es,register:function(t,e){if(!xs[e]&&Je(t)){var n=t.ownerDocument,r=n&&n.defaultView||Bi();r&&r.addEventListener&&("on"+e in r||ms.test(e))&&(r.addEventListener(e,Es,!0),xs[e]=!0)}}};tn.prototype=zi(null);var ks={"#text":!0,"#comment":!0,area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};ln.prototype={constructor:ln,moveNoUpdate:function(t,e){var n,r=this.isFrag?this.el.parentNode:this.el;if(this.updater.queueElemMove(r,t,e||this.closingEl),t.isFrag&&(n=t.array))for(var i=0;i<n.length;i++)t.moveNoUpdate(n[i],null)},move:function(t,e){var n,r=0,i=this.isFrag?this.parentEl:this.el;if(t.isFrag){if(t.shouldUpdate){if(t.skipReconcilitation(),n=t.array,this.updater.queueElemMove(i,t,e||this.closingEl),n)for(;r<n.length;r++)t.move(n[r],null)}else if(this.updater.queueElemMove(i,t,e||this.closingEl),n=t.array)for(;r<n.length;r++)t.moveNoUpdate(n[r],null)}else t.reconcile(),this.updater.queueElemMove(i,t,e||this.closingEl)},reconcile:function(){if(this.shouldUpdate&&!this.isVoid){var t=this.array;this.array=this.tempArray,this.tempArray=null,rn(this,t,this.array),this.itEl=null,this.noKeyIdx=null,this.textBuffer=""}},skipReconcilitation:function(){this.isVoid||(this.array=this.tempArray,this.tempArray=null,this.itEl=null,this.noKeyIdx=null,this.textBuffer="")},validateProps:function(t){var e=this.construct.validateProps,n=t||{};return e&&e(n)||n},initVars:function(t){var e=t.toLowerCase();this.type=e,this.hasAttrs="#text"!==e&&"#comment"!==e,this.isVoid=ks[e]||!1,this.isFrag="#fragment"===e,this.isVoid||(this.map=new tn,this.textBuffer="")},queueUpdate:sn,init:on,update:hn,remove:an};var js={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},Ss=["Webkit","Moz","ms"],Cs=function(){var t=null;return function(){if(t)return t;var e=$i();return t=e&&e.createElement("div").style}}(),Os={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ms=lt(function(t){var e,n,r=t,i=Cs();if(!i)return r;if(void 0!==i[r])return r;for(e=pn(r),n=Ss.length;n--;)if(r=Ss[n]+e,void 0!==i[r])return r;return!1});wt(Os,function(t,e){Os[Ms(e)]=t});var Is=/^on/,Ts={_default:function(t,e,n,r){var i=e.el,o=t.replace(Is,"");return t!==o?(o=o.toLowerCase(),r!==n&&(r&&st.call(i,o,r),n&&oo.call(i,o,n)),n||void 0):mn(t,e,n,r)},checked:bn,multiple:bn,muted:bn,selected:bn,id:mn,"class":mn,dangerousInnerHTML:function(t,e,n,r){return e.isVoid&&e.dom.error(e.type+" is a void element and must not use dangerousInnerHTML."),_n("innerHTML",e,n&&n.__html,r)},defaultValue:function(t,e,n,r){var i=e.type;return"input"===i||"select"===i?void(e.justCreated&&mn("value",e,n,r)):mn(t,e,n,r)},defaultChecked:function(t,e,n,r){return"input"===e.type?void(e.justCreated&&yn("checked",e,n,r)):mn(t,e,n,r)},value:function(t,e,n,r){var i,o;return"input"===e.type?(i=cn(n),i!==r&&(o=i||"",e.el.value!==o&&e.dom._pushAttr(t,o,"prop")),i):En(t,e,n,r)},selectedIndex:En,style:gn},Us=1,Ns={acceptCharset:"accept-charset",className:"class",dangerouslySetInnerHTML:"dangerousInnerHTML",htmlFor:"for",httpEquiv:"http-equiv"};jn.prototype={error:function(t,e){var n=this.current.owner;switch(this.current=null,arguments.length){case 2:We("mota.view ("+t+")",e+Sn(n));break;case 1:We("mota.view",t+Sn(n));break;default:We("mota.view",t)}},_assertNotVoid:function(){this.current.isVoid&&this.error(this.current.type+" is a void element.")},_handleText:function(){var t=this.current,e=t.textBuffer;e&&(t.textBuffer="",this._openPre("#text",void 0,e),this.close())},_finishAttrs:function(){var t,e,n,r=this.current,i=r.prevAttrs;if(i)for(e in i)t=i[e],void 0!==t&&(n=Ts[e],n?n(e,r,void 0,t):Ts._default(e,r,void 0,t));r.prevAttrs=r.newAttrs,r.newAttrs=null},_finishJob:function(t){var e=this.current;e.shouldUpdate&&(e.hasAttrs&&this._finishAttrs(),e.isVoid||(this._handleText(),this.root.reuseMarkup?(e.skipReconcilitation(),e.isFrag&&(e.closingEl=kn(e))):t&&e.reconcile())),e.justCreated=!1},_openPre:function(t,e,n,r,i){var o=this.current,s=xn(t,e,o),u=o.map,a=u[s];a?i?(this.ignore++,a.shouldUpdate=!1):(this.current=a,a.update(n)):(u[s]=this.current=a=new ln(this.root),a.init(t,n,r,o,s)),o.tempArray?o.tempArray.push(a):o.tempArray=[a]},open:function(t,e,n,r,i){return this.ignore?void this.ignore++:(this._assertNotVoid(),t||this.error("dom.open","Provide a type."),this._handleText(),void this._openPre(t,e,n,r,i))},close:function(){return this.ignore?void this.ignore--:(this._finishJob(),void(this.current=this.current.parentInternal))},_pushAttr:function(t,e,n){this.updater.queueAttrUpdate(this.current,t,e,n)},_startStyle:function(){},_endStyle:function(){},_staticAttrs:function(){this.ignore||(this.current.statics||(this.current.statics=[]),this.current.staticsIdx=0)},_inlineAttr:function(t,e){if(!this.ignore){var n,r=this.current,i=An(this,r,t),o=Ts[i],s=r.statics,u=s[r.staticsIdx];u!==e&&(n=o?o(i,r,e,u):Ts._default(i,r,e,u),s[r.staticsIdx++]=n)}},attr:function(t,e){if(!this.ignore){var n=this.current,r=An(this,n,t);if(void 0!==e){var i,o=Ts[r],s=n.prevAttrs,u=n.newAttrs||(n.newAttrs=new tn),a=s?s[r]:void 0;a===e?(u[r]=e,s[r]=void 0):(i=o?o(r,n,e,a):Ts._default(r,n,e,a),void 0!==i&&(u[r]=i),void 0!==a&&(s[r]=void 0))}}},"const":function(t,e,n,r){this.open(t,e,n,r,!0)},"void":function(t,e,n,r){this.open(t,e,n,r),this.close()},text:function(t){this.ignore||(this._assertNotVoid(),this.current.textBuffer+=t)},_assertType:function(t){t&&"string"==typeof t||this.error("dom.setType","Provide a valid string type.")},setType:function(t,e){var n,r=this.current;r.el||(this._assertType(t),r.initVars(t),n=this.root.doc,this.root.reuseMarkup?r.el=kn(r):r.isFrag?(r.el=n.createComment("frag"),r.closingEl=n.createComment("/frag")):r.el=fn(n,r,e))}},jn.prototype.a=jn.prototype.attr,jn.prototype.t=jn.prototype.text,Cn.prototype={add:function(t){this.data.depth-t.depth>0?this.addLeft(t):this.addRight(t)},addLeft:function(t){var e=this.left;e?e.add(t):this.left=new Cn(t)},addRight:function(t){var e=this.right;e?e.add(t):this.right=new Cn(t)},traverse:function(t){var e=this.left,n=this.right;e&&e.traverse(t),t(this.data),n&&n.traverse(t)}};var qs=function(){this.root=null};qs.prototype={notEmpty:function(){return!!this.root},add:function(t){this.root?this.root.add(t):this.root=new Cn(t)},resetAndTraverse:function(t){var e=this.root;e&&(this.root=null,e.traverse(t))}},Rn.prototype={_internalFlush:function(){var t=this.dom;this.dirtyComponents.resetAndTraverse(function(e){e.queued&&(t.current=e,e.update(null),t._finishJob(!0))}),Ln(this.pendingAttrUpdates,qn),Ln(this.pendingElemMoves,Nn),Ln(this.pendingEdgeCase,Fn),Ln(this.pendingCallbacks,Pn),t.current=null,this.pendingAttrUpdates.length=0,this.pendingElemMoves.length=0,this.pendingEdgeCase.length=0,this.pendingCallbacks.length=0},flushUpdates:function(){if(this.allowFlush){for(this.allowFlush=!1;!this.ignore&&this.dirtyComponents.notEmpty();)this._internalFlush();this.allowFlush=!0}},queueAttrUpdate:function(t,e,n,r){var i=t.el;if(i.parentNode){if(t.root.reuseMarkup&&!Un(i,e,n,r))return;Vn(this.pendingAttrUpdates,i,e,n,r)}else Tn(i,e,n,r)},queueElemDeletion:function(t){this.pendingElemMoves.push({parentNode:null,internal:t,next:null,remove:!0})},queueElemMove:function(t,e,n){e.parentNotFrag.isNativeMounted?this.pendingElemMoves.push({parentNode:t,internal:e,next:n,remove:!1}):Nn({parentNode:t,internal:e,next:n,remove:!1})},queueEdgeCaseUpdate:function(t,e,n){Vn(this.pendingEdgeCase,t.el,e,n)},queueCallback:function(t,e,n){this.pendingCallbacks.push({component:t,name:e,arg:n})},queueUpdate:function(t){this.dirtyComponents.add(t),this.flushUpdates()},startIgnore:function(){this.ignore++},endIgnore:function(){this.ignore--,this.flushUpdates()}};var Fs=/[&<>"'`]/g,Ps=new RegExp(Fs.source),Vs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ls=/([A-Z])/g;Hn.prototype=zi(jn.prototype),Hn.prototype.setType=function(t,e){var n=this.current,r=n.parentInternal.tempArray;switch(this._assertType(t),null===r&&this.string&&(this.string+=">"),n.initVars(t),n.el={},n.type){case"#text":this.string+=$n(cn(e));break;case"#comment":this.string+="<!--"+cn(e)+"-->";break;case"#fragment":this.string+="<!--frag--";break;default:this.string+="<"+t}},Hn.prototype._startStyle=function(){this.string+=' style="'},Hn.prototype._endStyle=function(){this.string+='"'},Hn.prototype._pushAttr=function(t,e,n){return"prop"===n?void("innerHTML"===t&&(this.string+=">"+e)):"style"===n?void(this.string+=Kn(t)+": "+e+";"):void(null!=e&&(this.string+=" "+t+(""===e?"":'="'+$n(e)+'"')))},Hn.prototype._finishJob=function(){this.current.isVoid||this._handleText()},Hn.prototype.close=function(){var t=this.current,e=t.type;if(this._finishJob(),"menuitem"===e)this.string+="></menuitem>";else if(t.isVoid)t.hasAttrs&&(this.string+=">");else{var n=t.tempArray||t.newAttrs&&t.newAttrs.dangerousInnerHTML;this.string+=(n?"":">")+(t.isFrag?"<!--/frag-->":"</"+e+">")}this.current=t.parentInternal};var Rs={queueCallback:ut},zs={classSet:ze,Component:De,createClass:Be,findDOMNode:Ze,render:Wn,renderToString:Qn,select:void 0,enqueueUpdate:Gn,forceUpdate:Xn,dispatchEvents:As.dispatchEvents,registerEvent:As.register,updater:{startIgnore:function(t){t.__internal__.updater.startIgnore()},endIgnore:function(t){t.__internal__.updater.endIgnore()}}},Ds="undefined"==typeof Qr.Map?Dt:Qr.Map,Ws={},Bs=Ws[ci.ArrayBuffer]=function(t){var e=new t.constructor(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e};Ws[ci.Boolean]=Ws[ci.Date]=function(t){return new t.constructor((+t))},Ws[ci.DataView]=function(t,e){var n=e?Bs(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Ws[ci.Number]=Ws[ci.String]=function(t){return new t.constructor(t)};var $s=/\w*$/;Ws[ci.RegExp]=function(t){var e=new t.constructor(t.source,$s.exec(t));return e.lastIndex=t.lastIndex,e},Ws[ci.Symbol]=function(t){return _i?Object(_i.call(t)):{}};var Ks=function(t){
return ur(t,!1)},Hs=function(t){return ur(t,!0)},Ys=function(t,e){return ur(t,!1,e)},Qs=function(t,e){return ur(t,!0,e)},Gs=n(e,pr,!0,!1),Xs=n(hr,vr,!0,!1),Js=n(hr,lr,!0,!1),Zs=n(hr,lr,!0,!0),tu=Qr.mota,eu=/&(?:amp|lt|gt|quot|#39|#96);/g,nu=new RegExp(eu.source),ru={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},iu={},ou={VERSION:"0.18.0",developmentMode:!1,setWindow:Ki},su={apply:D,assign:ri,assignIn:ii,assignInWith:oi,assignWith:si,bind:$,bindAll:Jn,clone:Ks,cloneDeep:Hs,cloneDeepWith:Qs,cloneWith:Ys,defaults:Gs,defaultsDeep:Xs,deferred:gr,entries:mr,entriesIn:yr,eq:Ct,err:We,escape:$n,escapeRegExp:be,getSpecies:ee,has:h,hashCode:St,identity:br,is:Ot,isArguments:f,isArray:Mi,isArrayLike:p,isAssociative:A,isBoolean:d,isBuffer:Ni,isDate:v,isDocument:g,isElement:m,isEmpty:y,isEqual:Sr,isEqualWith:Cr,isError:b,isFinite:_,isFunction:Oi,isIterable:w,isIndexed:E,isKeyed:x,isNaN:k,isNil:j,isNull:S,isNumber:C,isObject:O,isObjectLike:M,isPlainObject:I,isRegExp:T,isString:U,isSymbol:N,isTypedArray:q,isUndefined:F,isWindow:P,keys:Re,keysIn:Or,log:Mr,merge:Js,mergeWith:Zs,mixin:Tr,noConflict:Ur,noop:ut,once:H,runAsync:Io,pairs:mr,toString:ye,type:l,unescape:qr,uniqueId:Fr,validate:Pr,values:Vr,valuesIn:Lr,warn:Y};ri(ou,su,{Events:uo,History:gt,Map:Dt,ImmutableMap:Wt,Observable:zo,pathname:ss,Promise:pe,Router:Le,view:zs,util:su}),uo.on.hook=zs.registerEvent,(Hr||{}).mota=ou,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return ou}):Wr?((Wr.exports=ou).mota=ou,Wr.exports["default"]=ou,Dr.mota=ou):Qr.mota=ou}).call(this);