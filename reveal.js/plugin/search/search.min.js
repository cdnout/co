!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).RevealSearch=t()}(this,function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}function n(e){return e&&e.Math==Math&&e}function r(e){try{return!!e()}catch(e){return!0}}function p(e){return"object"==typeof e?null!==e:"function"==typeof e}function w(e){if(!p(e))throw TypeError(String(e)+" is not an object");return e}function o(e,t){if(!p(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!p(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!p(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!p(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}function i(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function f(t,n){try{b(s,t,n)}catch(e){s[t]=n}return n}function l(e,t){return S.call(e,t)}function c(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++R+O).toString(36)}function u(e){return l(j,e)||(T&&l(P,e)?j[e]=P[e]:j[e]=I("Symbol."+e)),j[e]}var s=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")(),a=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),g=s.document,d=p(g)&&p(g.createElement),h=!a&&!r(function(){return 7!=Object.defineProperty(d?g.createElement("div"):{},"a",{get:function(){return 7}}).a}),y=Object.defineProperty,v={f:a?y:function(e,t,n){if(w(e),t=o(t,!0),w(n),h)try{return y(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},b=a?function(e,t,n){return v.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e},x="__core-js_shared__",m=s[x]||f(x,{}),E=t(function(e){(e.exports=function(e,t){return m[e]||(m[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})}),S={}.hasOwnProperty,R=0,O=Math.random(),T=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())}),_=T&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,j=E("wks"),P=s.Symbol,I=_?P:P&&P.withoutSetter||c,C={};C[u("toStringTag")]="z";var N="[object z]"===String(C),k=Function.toString;"function"!=typeof m.inspectSource&&(m.inspectSource=function(e){return k.call(e)});var A,$,L,M,U,D,F,K,z,B=m.inspectSource,W=s.WeakMap,q="function"==typeof W&&/native code/.test(B(W)),G=E("keys"),V={},Y=s.WeakMap;K=q?($=new Y,L=$.get,M=$.has,U=$.set,D=function(e,t){return U.call($,e,t),t},F=function(e){return L.call($,e)||{}},function(e){return M.call($,e)}):(z=G[A="state"]||(G[A]=c(A)),V[z]=!0,D=function(e,t){return b(e,z,t),t},F=function(e){return l(e,z)?e[z]:{}},function(e){return l(e,z)});function X(e){return Q.call(e).slice(8,-1)}var H={set:D,get:F,has:K,enforce:function(e){return K(e)?F(e):D(e,{})},getterFor:function(n){return function(e){var t;if(!p(e)||(t=F(e)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return t}}},J=t(function(e){var t=H.get,u=H.enforce,a=String(String).split("String");(e.exports=function(e,t,n,r){var o=!!r&&!!r.unsafe,i=!!r&&!!r.enumerable,c=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof t||l(n,"name")||b(n,"name",t),u(n).source=a.join("string"==typeof t?t:"")),e!==s?(o?!c&&e[t]&&(i=!0):delete e[t],i?e[t]=n:b(e,t,n)):i?e[t]=n:f(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||B(this)})}),Q={}.toString,Z=u("toStringTag"),ee="Arguments"==X(function(){return arguments}()),te=N?X:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Z))?n:ee?X(t):"Object"==(r=X(t))&&"function"==typeof t.callee?"Arguments":r},ne=N?{}.toString:function(){return"[object "+te(this)+"]"};N||J(Object.prototype,"toString",ne,{unsafe:!0});function re(e,t){var n=pe[se(e)];return n==de||n!=ge&&("function"==typeof t?r(t):!!t)}function oe(e){if(null==e)throw TypeError("Can't call method on "+e);return e}function ie(e){return be(oe(e))}function ce(e){return isNaN(e=+e)?0:(0<e?me:xe)(e)}function ue(e){return 0<e?Ee(ce(e),9007199254740991):0}function ae(l){return function(e,t,n){var r,o,i,c=ie(e),u=ue(c.length),a=(o=u,(i=ce(n))<0?Se(i+o,0):we(i,o));if(l&&t!=t){for(;a<u;)if((r=c[a++])!=r)return!0}else for(;a<u;a++)if((l||a in c)&&c[a]===t)return l||a||0;return!l&&-1}}function le(){var e=w(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}var fe=/#|\.prototype\./,se=re.normalize=function(e){return String(e).replace(fe,".").toLowerCase()},pe=re.data={},ge=re.NATIVE="N",de=re.POLYFILL="P",he=re,ye=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,e={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),r=e instanceof Array}catch(n){}return function(e,t){return w(e),function(){if(!p(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(),r?n.call(e,t):e.__proto__=t,e}}():void 0),ve="".split,be=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==X(e)?ve.call(e,""):Object(e)}:Object,xe=Math.ceil,me=Math.floor,Ee=Math.min,Se=Math.max,we=Math.min,Re=(ae(!0),ae(!1)),Oe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),Te={f:Object.getOwnPropertyNames||function(i){return function(e){var t,n=ie(i),r=0,o=[];for(t in n)!l(V,t)&&l(n,t)&&o.push(t);for(;e.length>r;)l(n,t=e[r++])&&(~Re(o,t)||o.push(t));return o}(Oe)}},_e=u("match");function je(e,t){return RegExp(e,t)}function Pe(e){return"function"==typeof e?e:void 0}function Ie(e,t){return arguments.length<2?Pe(Ae[e])||Pe(s[e]):Ae[e]&&Ae[e][t]||s[e]&&s[e][t]}var Ce,Ne,ke={UNSUPPORTED_Y:r(function(){var e=je("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),BROKEN_CARET:r(function(){var e=je("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},Ae=s,$e=u("species"),Le=v.f,Me=Te.f,Ue=H.set,De=u("match"),Fe=s.RegExp,Ke=Fe.prototype,ze=/a/g,Be=/a/g,We=new Fe(ze)!==ze,qe=ke.UNSUPPORTED_Y;if(a&&he("RegExp",!We||qe||r(function(){return Be[De]=!1,Fe(ze)!=ze||Fe(Be)==Be||"/a/i"!=Fe(ze,"i")}))){for(var Ge=function(e,t){var n,r,o,i=this instanceof Ge,c=p(n=e)&&(void 0!==(r=n[_e])?!!r:"RegExp"==X(n)),u=void 0===t;if(!i&&c&&e.constructor===Ge&&u)return e;We?c&&!u&&(e=e.source):e instanceof Ge&&(u&&(t=le.call(e)),e=e.source),qe&&(o=!!t&&-1<t.indexOf("y"))&&(t=t.replace(/y/g,""));var a,l,f,s=(a=We?new Fe(e,t):Fe(e,t),ye&&"function"==typeof(l=(i?this:Ke).constructor)&&l!==Ge&&p(f=l.prototype)&&f!==Ge.prototype&&ye(a,f),a);return qe&&o&&Ue(s,{sticky:o}),s},Ve=function(t){t in Ge||Le(Ge,t,{configurable:!0,get:function(){return Fe[t]},set:function(e){Fe[t]=e}})},Ye=Me(Fe),Xe=0;Ye.length>Xe;)Ve(Ye[Xe++]);(Ke.constructor=Ge).prototype=Ke,J(s,"RegExp",Ge)}Ce=Ie("RegExp"),Ne=v.f,a&&Ce&&!Ce[$e]&&Ne(Ce,$e,{configurable:!0,get:function(){return this}});function He(e,t){for(var n=it(t),r=v.f,o=rt.f,i=0;i<n.length;i++){var c=n[i];l(e,c)||r(e,c,o(t,c))}}var Je,Qe,Ze={}.propertyIsEnumerable,et=Object.getOwnPropertyDescriptor,tt={f:et&&!Ze.call({1:2},1)?function(e){var t=et(this,e);return!!t&&t.enumerable}:Ze},nt=Object.getOwnPropertyDescriptor,rt={f:a?nt:function(e,t){if(e=ie(e),t=o(t,!0),h)try{return nt(e,t)}catch(e){}if(l(e,t))return i(!tt.f.call(e,t),e[t])}},ot={f:Object.getOwnPropertySymbols},it=Ie("Reflect","ownKeys")||function(e){var t=Te.f(w(e)),n=ot.f;return n?t.concat(n(e)):t},ct=rt.f,ut=RegExp.prototype.exec,at=String.prototype.replace,lt=ut,ft=(Je=/a/,Qe=/b*/g,ut.call(Je,"a"),ut.call(Qe,"a"),0!==Je.lastIndex||0!==Qe.lastIndex),st=ke.UNSUPPORTED_Y||ke.BROKEN_CARET,pt=void 0!==/()??/.exec("")[1];(ft||pt||st)&&(lt=function(e){var t,n,r,o,i=this,c=st&&i.sticky,u=le.call(i),a=i.source,l=0,f=e;return c&&(-1===(u=u.replace("y","")).indexOf("g")&&(u+="g"),f=String(e).slice(i.lastIndex),0<i.lastIndex&&(!i.multiline||i.multiline&&"\n"!==e[i.lastIndex-1])&&(a="(?: "+a+")",f=" "+f,l++),n=new RegExp("^(?:"+a+")",u)),pt&&(n=new RegExp("^"+a+"$(?!\\s)",u)),ft&&(t=i.lastIndex),r=ut.call(c?n:i,f),c?r?(r.input=r.input.slice(l),r[0]=r[0].slice(l),r.index=i.lastIndex,i.lastIndex+=r[0].length):i.lastIndex=0:ft&&r&&(i.lastIndex=i.global?r.index+r[0].length:t),pt&&r&&1<r.length&&at.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r});var gt=lt;!function(e,t){var n,r,o,i,c,u=e.target,a=e.global,l=e.stat;if(n=a?s:l?s[u]||f(u,{}):(s[u]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(c=ct(n,r))&&c.value:n[r],!he(a?r:u+(l?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;He(i,o)}(e.sham||o&&o.sham)&&b(i,"sham",!0),J(n,r,i,e)}}({target:"RegExp",proto:!0,forced:/./.exec!==gt},{exec:gt});var dt="toString",ht=RegExp.prototype,yt=ht.toString,vt=r(function(){return"/a/b"!=yt.call({source:"a",flags:"b"})}),bt=yt.name!=dt;(vt||bt)&&J(RegExp.prototype,dt,function(){var e=w(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in ht)?le.call(e):n)},{unsafe:!0});u("species");function xt(u){return function(e,t){var n,r,o=String(oe(e)),i=ce(t),c=o.length;return i<0||c<=i?u?"":void 0:(n=o.charCodeAt(i))<55296||56319<n||i+1===c||(r=o.charCodeAt(i+1))<56320||57343<r?u?o.charAt(i):n:u?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}}function mt(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==X(e))throw TypeError("RegExp#exec called on incompatible receiver");return gt.call(e,t)}var Et,St,wt,Rt,Ot,Tt,_t,jt,Pt,It,Ct,Nt,kt,At,$t,Lt=!r(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),Mt="$0"==="a".replace(/./,"$0"),Ut=u("replace"),Dt=!!/./[Ut]&&""===/./[Ut]("a","$0"),Ft=(r(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),xt(!1),xt(!0)),Kt=Math.max,zt=Math.min,Bt=Math.floor,Wt=/\$([$&'`]|\d\d?|<[^>]*>)/g,qt=/\$([$&'`]|\d\d?)/g;function Gt(i,c,u,a,l,e){var f=u+i.length,s=a.length,t=qt;return void 0!==l&&(l=Object(oe(l)),t=Wt),_t.call(e,t,function(e,t){var n;switch(t.charAt(0)){case"$":return"$";case"&":return i;case"`":return c.slice(0,u);case"'":return c.slice(f);case"<":n=l[t.slice(1,-1)];break;default:var r=+t;if(0==r)return e;if(s<r){var o=Bt(r/10);return 0!==o&&o<=s?void 0===a[o-1]?t.charAt(1):a[o-1]+t.charAt(1):e}n=a[r-1]}return void 0===n?"":n})}return kt=u(Et="replace"),At=!r(function(){var e={};return e[kt]=function(){return 7},7!=""[Et](e)}),$t=At&&!r(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},t[kt](""),!e}),At&&$t&&Lt&&Mt&&!Dt||(St=/./[kt],Tt=kt,_t=""[Et],jt=function(e,t,n,r,o){return t.exec===gt?At&&!o?{done:!0,value:St.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}},It=(Pt={REPLACE_KEEPS_$0:Mt,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Dt}).REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,Ct=Pt.REPLACE_KEEPS_$0,Nt=It?"$":"$0",Rt=(wt=[function(e,t){var n=oe(this),r=null==e?void 0:e[Tt];return void 0!==r?r.call(e,n,t):_t.call(String(n),e,t)},function(e,t){if(!It&&Ct||"string"==typeof t&&-1===t.indexOf(Nt)){var n=jt(_t,e,this,t);if(n.done)return n.value}var r=w(e),o=String(this),i="function"==typeof t;i||(t=String(t));var c,u=r.global;u&&(c=r.unicode,r.lastIndex=0);for(var a,l,f=[];;){var s=mt(r,o);if(null===s)break;if(f.push(s),!u)break;""===String(s[0])&&(r.lastIndex=(a=o,(l=ue(r.lastIndex))+(c?Ft(a,l).length:1)))}for(var p,g="",d=0,h=0;h<f.length;h++){s=f[h];for(var y=String(s[0]),v=Kt(zt(ce(s.index),o.length),0),b=[],x=1;x<s.length;x++)b.push(void 0===(p=s[x])?p:String(p));var m,E,S=s.groups;E=i?(m=[y].concat(b,v,o),void 0!==S&&m.push(S),String(t.apply(void 0,m))):Gt(y,o,v,b,S,t),d<=v&&(g+=o.slice(d,v)+E,d=v+y.length)}return g+o.slice(d)}])[0],Ot=wt[1],J(String.prototype,Et,Rt),J(RegExp.prototype,kt,function(e,t){return Ot.call(e,this,t)})),function(){var v,t,n,r,o,i,c;function u(){(t=document.createElement("div")).classList.add("searchbox"),t.style.position="absolute",t.style.top="10px",t.style.right="10px",t.style.zIndex=10,t.innerHTML='<input type="search" class="searchinput" placeholder="Search..." style="vertical-align: top;"/>\n\t\t</span>',(n=t.querySelector(".searchinput")).style.width="240px",n.style.fontSize="14px",n.style.padding="4px 6px",n.style.color="#000",n.style.background="#fff",n.style.borderRadius="2px",n.style.border="0",n.style.outline="0",n.style.boxShadow="0 2px 18px rgba(0, 0, 0, 0.2)",n.style["-webkit-appearance"]="none",v.getRevealElement().appendChild(t),n.addEventListener("keyup",function(e){switch(e.keyCode){case 13:e.preventDefault(),i&&(""===(t=n.value)?(c&&c.remove(),r=null):(c=new f("slidecontent"),r=c.apply(t),o=0)),r&&(r.length&&r.length<=o&&(o=0),r.length>o&&(v.slide(r[o].h,r[o].v),o++)),i=!1;break;default:i=!0}var t},!1),l()}function a(){t||u(),t.style.display="inline",n.focus(),n.select()}function l(){t||u(),t.style.display="none",c&&c.remove()}function f(e,t){var n=document.getElementById(e)||document.body,f=t||"EM",s=new RegExp("^(?:"+f+"|SCRIPT|FORM)$"),p=["#ff6","#a0ffff","#9f9","#f99","#f6f"],g=[],d=0,h="",y=[];this.setRegex=function(e){e=e.replace(/^[^\w]+|[^\w]+$/g,"").replace(/[^\w'-]+/g,"|"),h=new RegExp("("+e+")","i")},this.getRegex=function(){return h.toString().replace(/^\/\\b\(|\)\\b\/i$/g,"").replace(/\|/g," ")},this.hiliteWords=function(e){if(null!=e&&e&&h&&!s.test(e.nodeName)){if(e.hasChildNodes())for(var t=0;t<e.childNodes.length;t++)this.hiliteWords(e.childNodes[t]);var n,r;if(3==e.nodeType&&(n=e.nodeValue)&&(r=h.exec(n))){for(var o=e;null!=o&&"SECTION"!=o.nodeName;)o=o.parentNode;for(var i=v.getIndices(o),c=y.length,u=!1,t=0;t<c;t++)y[t].h===i.h&&y[t].v===i.v&&(u=!0);u||y.push(i),g[r[0].toLowerCase()]||(g[r[0].toLowerCase()]=p[d++%p.length]);var a=document.createElement(f);a.appendChild(document.createTextNode(r[0])),a.style.backgroundColor=g[r[0].toLowerCase()],a.style.fontStyle="inherit",a.style.color="#000";var l=e.splitText(r.index);l.nodeValue=l.nodeValue.substring(r[0].length),e.parentNode.insertBefore(a,l)}}},this.remove=function(){for(var e,t=document.getElementsByTagName(f);t.length&&(e=t[0]);)e.parentNode.replaceChild(e.firstChild,e)},this.apply=function(e){if(null!=e&&e)return this.remove(),this.setRegex(e),this.hiliteWords(n),y}}return{id:"search",init:function(e){(v=e).registerKeyboardShortcut("CTRL + Shift + F","Search"),document.addEventListener("keydown",function(e){"F"==e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),t||u(),("inline"!==t.style.display?a:l)())},!1)},open:a}}});