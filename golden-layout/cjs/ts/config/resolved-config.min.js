"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResolvedPopoutLayoutConfig=exports.ResolvedLayoutConfig=exports.ResolvedGroundItemConfig=exports.ResolvedRootItemConfig=exports.ResolvedRowOrColumnItemConfig=exports.ResolvedComponentItemConfig=exports.ResolvedStackItemConfig=exports.ResolvedHeaderedItemConfig=exports.ResolvedItemConfig=void 0;const internal_error_1=require("../errors/internal-error"),config_minifier_1=require("../utils/config-minifier"),types_1=require("../utils/types"),utils_1=require("../utils/utils");var ResolvedItemConfig,ResolvedHeaderedItemConfig,ResolvedStackItemConfig,ResolvedComponentItemConfig,ResolvedRowOrColumnItemConfig,ResolvedRootItemConfig,ResolvedGroundItemConfig,ResolvedLayoutConfig,ResolvedPopoutLayoutConfig;!function(e){e.defaults={type:types_1.ItemType.ground,content:[],width:50,minWidth:0,height:50,minHeight:0,id:"",isClosable:!0},e.createCopy=function(e,t){switch(e.type){case types_1.ItemType.ground:case types_1.ItemType.row:case types_1.ItemType.column:return ResolvedRowOrColumnItemConfig.createCopy(e,t);case types_1.ItemType.stack:return ResolvedStackItemConfig.createCopy(e,t);case types_1.ItemType.component:return ResolvedComponentItemConfig.createCopy(e);default:throw new internal_error_1.UnreachableCaseError("CICC91354",e.type,"Invalid Config Item type specified")}},e.createDefault=function(e){switch(e){case types_1.ItemType.ground:throw new internal_error_1.AssertError("CICCDR91562");case types_1.ItemType.row:case types_1.ItemType.column:return ResolvedRowOrColumnItemConfig.createDefault(e);case types_1.ItemType.stack:return ResolvedStackItemConfig.createDefault();case types_1.ItemType.component:return ResolvedComponentItemConfig.createDefault();default:throw new internal_error_1.UnreachableCaseError("CICCDD91563",e,"Invalid Config Item type specified")}},e.isComponentItem=function(e){return e.type===types_1.ItemType.component},e.isStackItem=function(e){return e.type===types_1.ItemType.stack},e.isGroundItem=function(e){return e.type===types_1.ItemType.ground}}(ResolvedItemConfig=exports.ResolvedItemConfig||(exports.ResolvedItemConfig={})),function(e){let t;e.defaultMaximised=!1,function(e){e.createCopy=function(e,t){return void 0===e?void 0:{show:null!=t?t:e.show,popout:e.popout,dock:e.dock,close:e.close,maximise:e.maximise,minimise:e.minimise,tabDropdown:e.tabDropdown}}}(t=e.Header||(e.Header={}))}(ResolvedHeaderedItemConfig=exports.ResolvedHeaderedItemConfig||(exports.ResolvedHeaderedItemConfig={})),function(e){function t(e){const t=e.length,o=new Array(t);for(let n=0;n<t;n++)o[n]=ResolvedItemConfig.createCopy(e[n]);return o}e.defaultActiveItemIndex=0,e.createCopy=function(e,o){return{type:e.type,content:t(void 0!==o?o:e.content),width:e.width,minWidth:e.minWidth,height:e.height,minHeight:e.minHeight,id:e.id,maximised:e.maximised,isClosable:e.isClosable,activeItemIndex:e.activeItemIndex,header:ResolvedHeaderedItemConfig.Header.createCopy(e.header)}},e.copyContent=t,e.createDefault=function(){return{type:types_1.ItemType.stack,content:[],width:ResolvedItemConfig.defaults.width,minWidth:ResolvedItemConfig.defaults.minWidth,height:ResolvedItemConfig.defaults.height,minHeight:ResolvedItemConfig.defaults.minHeight,id:ResolvedItemConfig.defaults.id,maximised:ResolvedHeaderedItemConfig.defaultMaximised,isClosable:ResolvedItemConfig.defaults.isClosable,activeItemIndex:e.defaultActiveItemIndex,header:void 0}}}(ResolvedStackItemConfig=exports.ResolvedStackItemConfig||(exports.ResolvedStackItemConfig={})),function(e){e.defaultReorderEnabled=!0,e.resolveComponentTypeName=function(e){const t=e.componentType;return"string"==typeof t?t:void 0},e.createCopy=function(e){return{type:e.type,content:[],width:e.width,minWidth:e.minWidth,height:e.height,minHeight:e.minHeight,id:e.id,maximised:e.maximised,isClosable:e.isClosable,reorderEnabled:e.reorderEnabled,title:e.title,header:ResolvedHeaderedItemConfig.Header.createCopy(e.header),componentType:e.componentType,componentState:utils_1.deepExtendValue(void 0,e.componentState)}},e.createDefault=function(t="",o,n=""){return{type:types_1.ItemType.component,content:[],width:ResolvedItemConfig.defaults.width,minWidth:ResolvedItemConfig.defaults.minWidth,height:ResolvedItemConfig.defaults.height,minHeight:ResolvedItemConfig.defaults.minHeight,id:ResolvedItemConfig.defaults.id,maximised:ResolvedHeaderedItemConfig.defaultMaximised,isClosable:ResolvedItemConfig.defaults.isClosable,reorderEnabled:e.defaultReorderEnabled,title:n,header:void 0,componentType:t,componentState:o}},e.copyComponentType=function(e){return utils_1.deepExtendValue({},e)}}(ResolvedComponentItemConfig=exports.ResolvedComponentItemConfig||(exports.ResolvedComponentItemConfig={})),function(e){function t(e){const t=e.length,o=new Array(t);for(let n=0;n<t;n++)o[n]=ResolvedItemConfig.createCopy(e[n]);return o}e.isChildItemConfig=function(e){switch(e.type){case types_1.ItemType.row:case types_1.ItemType.column:case types_1.ItemType.stack:case types_1.ItemType.component:return!0;case types_1.ItemType.ground:return!1;default:throw new internal_error_1.UnreachableCaseError("CROCOSPCICIC13687",e.type)}},e.createCopy=function(e,o){return{type:e.type,content:t(void 0!==o?o:e.content),width:e.width,minWidth:e.minWidth,height:e.height,minHeight:e.minHeight,id:e.id,isClosable:e.isClosable}},e.copyContent=t,e.createDefault=function(e){return{type:e,content:[],width:ResolvedItemConfig.defaults.width,minWidth:ResolvedItemConfig.defaults.minWidth,height:ResolvedItemConfig.defaults.height,minHeight:ResolvedItemConfig.defaults.minHeight,id:ResolvedItemConfig.defaults.id,isClosable:ResolvedItemConfig.defaults.isClosable}}}(ResolvedRowOrColumnItemConfig=exports.ResolvedRowOrColumnItemConfig||(exports.ResolvedRowOrColumnItemConfig={})),function(e){e.createCopy=function(e){return ResolvedItemConfig.createCopy(e)},e.isRootItemConfig=function(e){switch(e.type){case types_1.ItemType.row:case types_1.ItemType.column:case types_1.ItemType.stack:case types_1.ItemType.component:return!0;case types_1.ItemType.ground:return!1;default:throw new internal_error_1.UnreachableCaseError("CROCOSPCICIC13687",e.type)}}}(ResolvedRootItemConfig=exports.ResolvedRootItemConfig||(exports.ResolvedRootItemConfig={})),function(e){e.create=function(e){const t=void 0===e?[]:[e];return{type:types_1.ItemType.ground,content:t,width:100,minWidth:0,height:100,minHeight:0,id:"",isClosable:!1,title:"",reorderEnabled:!1}}}(ResolvedGroundItemConfig=exports.ResolvedGroundItemConfig||(exports.ResolvedGroundItemConfig={})),function(e){let t,o,n;function i(e){return"parentId"in e}!function(e){e.defaults={constrainDragToContainer:!0,reorderEnabled:!0,popoutWholeStack:!1,blockedPopoutsThrowError:!0,closePopoutsOnUnload:!0,responsiveMode:types_1.ResponsiveMode.none,tabOverlapAllowance:0,reorderOnTabMenuClick:!0,tabControlOffset:10},e.createCopy=function(e){return{constrainDragToContainer:e.constrainDragToContainer,reorderEnabled:e.reorderEnabled,popoutWholeStack:e.popoutWholeStack,blockedPopoutsThrowError:e.blockedPopoutsThrowError,closePopoutsOnUnload:e.closePopoutsOnUnload,responsiveMode:e.responsiveMode,tabOverlapAllowance:e.tabOverlapAllowance,reorderOnTabMenuClick:e.reorderOnTabMenuClick,tabControlOffset:e.tabControlOffset}}}(t=e.Settings||(e.Settings={})),function(e){e.createCopy=function(e){return{borderWidth:e.borderWidth,borderGrabWidth:e.borderGrabWidth,minItemHeight:e.minItemHeight,minItemWidth:e.minItemWidth,headerHeight:e.headerHeight,dragProxyWidth:e.dragProxyWidth,dragProxyHeight:e.dragProxyHeight}},e.defaults={borderWidth:5,borderGrabWidth:5,minItemHeight:10,minItemWidth:10,headerHeight:20,dragProxyWidth:300,dragProxyHeight:200}}(o=e.Dimensions||(e.Dimensions={})),function(e){e.createCopy=function(e){return{show:e.show,popout:e.popout,dock:e.dock,close:e.close,maximise:e.maximise,minimise:e.minimise,tabDropdown:e.tabDropdown}},e.defaults={show:types_1.Side.top,popout:"open in new window",dock:"dock",maximise:"maximise",minimise:"minimise",close:"close",tabDropdown:"additional tabs"}}(n=e.Header||(e.Header={})),e.isPopout=i,e.createDefault=function(){return{root:void 0,openPopouts:[],dimensions:e.Dimensions.defaults,settings:e.Settings.defaults,header:e.Header.defaults,resolved:!0}},e.createCopy=function(t){return i(t)?ResolvedPopoutLayoutConfig.createCopy(t):{root:void 0===t.root?void 0:ResolvedRootItemConfig.createCopy(t.root),openPopouts:e.copyOpenPopouts(t.openPopouts),settings:e.Settings.createCopy(t.settings),dimensions:e.Dimensions.createCopy(t.dimensions),header:e.Header.createCopy(t.header),resolved:t.resolved}},e.copyOpenPopouts=function(e){const t=e.length,o=new Array(t);for(let n=0;n<t;n++)o[n]=ResolvedPopoutLayoutConfig.createCopy(e[n]);return o},e.minifyConfig=function(e){return config_minifier_1.ConfigMinifier.translateObject(e,!0)},e.unminifyConfig=function(e){return config_minifier_1.ConfigMinifier.translateObject(e,!1)}}(ResolvedLayoutConfig=exports.ResolvedLayoutConfig||(exports.ResolvedLayoutConfig={})),function(e){let t;!function(e){e.createCopy=function(e){return{width:e.width,height:e.height,left:e.left,top:e.top}},e.defaults={width:null,height:null,left:null,top:null}}(t=e.Window||(e.Window={})),e.createCopy=function(t){return{root:void 0===t.root?void 0:ResolvedRootItemConfig.createCopy(t.root),openPopouts:ResolvedLayoutConfig.copyOpenPopouts(t.openPopouts),settings:ResolvedLayoutConfig.Settings.createCopy(t.settings),dimensions:ResolvedLayoutConfig.Dimensions.createCopy(t.dimensions),header:ResolvedLayoutConfig.Header.createCopy(t.header),parentId:t.parentId,indexInParent:t.indexInParent,window:e.Window.createCopy(t.window),resolved:t.resolved}}}(ResolvedPopoutLayoutConfig=exports.ResolvedPopoutLayoutConfig||(exports.ResolvedPopoutLayoutConfig={}));