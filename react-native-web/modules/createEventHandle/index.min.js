"use strict";import{canUseDOM}from"fbjs/lib/ExecutionEnvironment";var emptyFunction=function(){};function supportsPassiveEvents(){var e=!1;if(canUseDOM)try{var n={};Object.defineProperty(n,"passive",{get:function(){return e=!0,!1}}),window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch(e){}return e}var canUsePassiveEvents=supportsPassiveEvents();function getOptions(e){return null!=e&&(canUsePassiveEvents?e:Boolean(e.capture))}function isPropagationStopped(){return this.cancelBubble}function isDefaultPrevented(){return this.defaultPrevented}function normalizeEvent(e){return e.nativeEvent=e,e.persist=emptyFunction,e.isDefaultPrevented=isDefaultPrevented,e.isPropagationStopped=isPropagationStopped,e}export default function createEventHandle(e,n){var t=getOptions(n);return function(n,r){if(null==n||"function"!=typeof n.addEventListener)throw new Error("createEventHandle: called on an invalid target.");var i=n;if(null!=r){var o=function(e){return r(normalizeEvent(e))};return i.addEventListener(e,o,t),function(){null!=i&&i.removeEventListener(e,o,t)}}return emptyFunction}};