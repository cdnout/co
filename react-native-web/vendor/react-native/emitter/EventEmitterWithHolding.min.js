"use strict";var EventEmitterWithHolding=function(){function e(e,t){this._emitter=e,this._eventHolder=t,this._currentEventToken=null,this._emittingHeldEvents=!1}var t=e.prototype;return t.addListener=function(e,t,n){return this._emitter.addListener(e,t,n)},t.once=function(e,t,n){return this._emitter.once(e,t,n)},t.addRetroactiveListener=function(e,t,n){var r=this._emitter.addListener(e,t,n);return this._emittingHeldEvents=!0,this._eventHolder.emitToListener(e,t,n),this._emittingHeldEvents=!1,r},t.removeAllListeners=function(e){this._emitter.removeAllListeners(e)},t.removeCurrentListener=function(){this._emitter.removeCurrentListener()},t.listeners=function(e){return this._emitter.listeners(e)},t.emit=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(t=this._emitter).emit.apply(t,[e].concat(r))},t.emitAndHold=function(e){for(var t,n,r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];this._currentEventToken=(t=this._eventHolder).holdEvent.apply(t,[e].concat(i)),(n=this._emitter).emit.apply(n,[e].concat(i)),this._currentEventToken=null},t.releaseCurrentEvent=function(){this._currentEventToken?this._eventHolder.releaseEvent(this._currentEventToken):this._emittingHeldEvents&&this._eventHolder.releaseCurrentEvent()},t.releaseHeldEventType=function(e){this._eventHolder.releaseEventType(e)},e}();export default EventEmitterWithHolding;