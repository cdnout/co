"use strict";import invariant from"fbjs/lib/invariant";var EventHolder=function(){function e(){this._heldEvents={},this._currentEventKey=null}var t=e.prototype;return t.holdEvent=function(e){this._heldEvents[e]=this._heldEvents[e]||[];for(var t=this._heldEvents[e],n={eventType:e,index:t.length},r=arguments.length,i=new Array(r>1?r-1:0),v=1;v<r;v++)i[v-1]=arguments[v];return t.push(i),n},t.emitToListener=function(e,t,n){var r=this,i=this._heldEvents[e];if(i){var v=this._currentEventKey;i.forEach(function(i,v){i&&(r._currentEventKey={eventType:e,index:v},t.apply(n,i))}),this._currentEventKey=v}},t.releaseCurrentEvent=function(){invariant(null!==this._currentEventKey,"Not in an emitting cycle; there is no current event"),this._currentEventKey&&this.releaseEvent(this._currentEventKey)},t.releaseEvent=function(e){delete this._heldEvents[e.eventType][e.index]},t.releaseEventType=function(e){this._heldEvents[e]=[]},e}();export default EventHolder;