function _objectWithoutPropertiesLoose(e,o){if(null==e)return{};for(var t,r={},n=Object.keys(e),s=0;s<n.length;s++)t=n[s],0<=o.indexOf(t)||(r[t]=e[t]);return r}function ownKeys(o,e){var t,r=Object.keys(o);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(o),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),r.push.apply(r,t)),r}function _objectSpread(o){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(t),!0).forEach(function(e){_defineProperty(o,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(t,e))})}return o}function _defineProperty(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}import*as React from"react";import createElement from"../createElement";import*as forwardedProps from"../../modules/forwardedProps";import pick from"../../modules/pick";import useElementLayout from"../../modules/useElementLayout";import useMergeRefs from"../../modules/useMergeRefs";import usePlatformMethods from"../../modules/usePlatformMethods";import useResponderEvents from"../../modules/useResponderEvents";import StyleSheet from"../StyleSheet";import TextAncestorContext from"./TextAncestorContext";import{useLocaleContext,getLocaleDirection}from"../../modules/useLocale";var forwardPropsList=_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},forwardedProps.defaultProps),forwardedProps.accessibilityProps),forwardedProps.clickProps),forwardedProps.focusProps),forwardedProps.keyboardProps),forwardedProps.mouseProps),forwardedProps.touchProps),forwardedProps.styleProps),{},{href:!0,lang:!0,pointerEvents:!0}),pickProps=function(e){return pick(e,forwardPropsList)},Text=React.forwardRef(function(e,o){var t=e.hrefAttrs,r=e.numberOfLines,n=e.onClick,s=e.onLayout,l=e.onPress,a=e.onMoveShouldSetResponder,d=e.onMoveShouldSetResponderCapture,p=e.onResponderEnd,i=e.onResponderGrant,u=e.onResponderMove,c=e.onResponderReject,S=e.onResponderRelease,f=e.onResponderStart,R=e.onResponderTerminate,h=e.onResponderTerminationRequest,m=e.onScrollShouldSetResponder,b=e.onScrollShouldSetResponderCapture,y=e.onSelectionChangeShouldSetResponder,w=e.onSelectionChangeShouldSetResponderCapture,P=e.onStartShouldSetResponder,x=e.onStartShouldSetResponderCapture,g=e.selectable,C=_objectWithoutPropertiesLoose(e,["hrefAttrs","numberOfLines","onClick","onLayout","onPress","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture","selectable"]),j=React.useContext(TextAncestorContext),v=React.useRef(null),O=useLocaleContext().direction;useElementLayout(v,s),useResponderEvents(v,{onMoveShouldSetResponder:a,onMoveShouldSetResponderCapture:d,onResponderEnd:p,onResponderGrant:i,onResponderMove:u,onResponderReject:c,onResponderRelease:S,onResponderStart:f,onResponderTerminate:R,onResponderTerminationRequest:h,onScrollShouldSetResponder:m,onScrollShouldSetResponderCapture:b,onSelectionChangeShouldSetResponder:y,onSelectionChangeShouldSetResponderCapture:w,onStartShouldSetResponder:P,onStartShouldSetResponderCapture:x});w=React.useCallback(function(e){null!=n?n(e):null!=l&&(e.stopPropagation(),l(e))},[n,l]),P=j?"span":"div",x=null!=e.lang?getLocaleDirection(e.lang):null,x=e.dir||x,O=x||O,C=pickProps(C);C.dir=x,j||(C.dir=null!=x?x:"auto"),(n||l)&&(C.onClick=w),C.style=[null!=r&&1<r&&{WebkitLineClamp:r},!0===j?styles.textHasAncestor$raw:styles.text$raw,1===r&&styles.textOneLine,null!=r&&1<r&&styles.textMultiLine,e.style,!0===g&&styles.selectable,!1===g&&styles.notSelectable,l&&styles.pressable],null!=e.href&&(P="a",null!=t&&(g=t.download,e=t.rel,L=t.target,null!=g&&(C.download=g),null!=e&&(C.rel=e),"string"==typeof L&&(C.target="_"!==L.charAt(0)?"_"+L:L)));var L=usePlatformMethods(C),o=useMergeRefs(v,L,o);C.ref=o;O=createElement(P,C,{writingDirection:O});return j?O:React.createElement(TextAncestorContext.Provider,{value:!0},O)});Text.displayName="Text";var textStyle={backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",listStyle:"none",margin:0,padding:0,textAlign:"inherit",textDecoration:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},styles=StyleSheet.create({text$raw:textStyle,textHasAncestor$raw:_objectSpread(_objectSpread({},textStyle),{},{color:"inherit",font:"inherit",whiteSpace:"inherit"}),textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"},notSelectable:{userSelect:"none"},selectable:{userSelect:"text"},pressable:{cursor:"pointer"}});export default Text;