import ExecutionEnvironment from"fbjs/lib/ExecutionEnvironment";var canUseDOM=ExecutionEnvironment.canUseDOM;function getQuery(){return canUseDOM&&null!=window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null}var query=getQuery(),listenerMapping=new WeakMap,Appearance={getColorScheme:function(){return query&&query.matches?"dark":"light"},addChangeListener:function(n){var e=listenerMapping.get(n);e||(e=function(e){e=e.matches;n({colorScheme:e?"dark":"light"})},listenerMapping.set(n,e)),query&&query.addListener(e)},removeChangeListener:function(e){var n=listenerMapping.get(e);n&&(query&&query.removeListener(n),listenerMapping.delete(e))}};export default Appearance;