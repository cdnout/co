"use strict";function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e}).apply(this,arguments)}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var s,o,n={},r=Object.keys(e);for(o=0;o<r.length;o++)s=r[o],t.indexOf(s)>=0||(n[s]=e[s]);return n}import*as React from"react";import{useCallback,useMemo,useState,useRef}from"react";import useMergeRefs from"../../modules/useMergeRefs";import usePressEvents from"../../modules/usePressEvents";import StyleSheet from"../StyleSheet";import View from"../View";function TouchableOpacity(e,t){var s=e.activeOpacity,o=e.delayPressIn,n=e.delayPressOut,r=e.delayLongPress,a=e.disabled,l=e.focusable,i=e.onLongPress,u=e.onPress,c=e.onPressIn,y=e.onPressOut,d=e.rejectResponderTermination,f=e.style,p=_objectWithoutPropertiesLoose(e,["activeOpacity","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","rejectResponderTermination","style"]),P=useRef(null),m=useMergeRefs(t,P),b=useState("0s"),h=b[0],O=b[1],g=useState(null),R=g[0],v=g[1],S=useCallback(function(e,t){v(e),O(t?t/1e3+"s":"0s")},[v,O]),L=useCallback(function(e){S(null!=s?s:.2,e)},[s,S]),M=useCallback(function(e){S(null,e)},[S]),T=useMemo(function(){return{cancelable:!d,disabled:a,delayLongPress:r,delayPressStart:o,delayPressEnd:n,onLongPress:i,onPress:u,onPressStart:function(e){var t=null!=e.dispatchConfig?"onResponderGrant"===e.dispatchConfig.registrationName:"keydown"===e.type;L(t?0:150),null!=c&&c(e)},onPressEnd:function(e){M(250),null!=y&&y(e)}}},[r,o,n,a,i,u,c,y,d,L,M]),j=usePressEvents(P,T);return React.createElement(View,_extends({},p,j,{accessibilityDisabled:a,focusable:!a&&!1!==l,ref:m,style:[styles.root,!a&&styles.actionable,f,null!=R&&{opacity:R},{transitionDuration:h}]}))}var styles=StyleSheet.create({root:{transitionProperty:"opacity",transitionDuration:"0.15s",userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),MemoedTouchableOpacity=React.memo(React.forwardRef(TouchableOpacity));MemoedTouchableOpacity.displayName="TouchableOpacity";export default MemoedTouchableOpacity;