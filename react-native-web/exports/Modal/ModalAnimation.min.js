import{useEffect,useCallback,useState,useRef}from"react";import StyleSheet from"../StyleSheet";import createElement from"../createElement";var ANIMATION_DURATION=300;function getAnimationStyle(t,e){return"slide"===t?e?animatedSlideInStyles:animatedSlideOutStyles:"fade"===t?e?animatedFadeInStyles:animatedFadeOutStyles:e?styles.container:styles.hidden}function ModalAnimation(t){var e=t.animationType,n=t.children,a=t.onDismiss,i=t.onShow,s=t.visible,o=useState(!1),l=o[0],r=o[1],m=useRef(!1),d=e&&"none"!==e,y=useCallback(function(t){t&&t.currentTarget!==t.target||(s?i&&i():(r(!1),a&&a()))},[a,i,s]);return useEffect(function(){s&&r(!0),s===m.current||d||y(),m.current=s},[d,s,y]),l||s?createElement("div",{style:l?getAnimationStyle(e,s):styles.hidden,onAnimationEnd:y,children:n}):null}var styles=StyleSheet.create({container:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:9999},animatedIn:{animationDuration:ANIMATION_DURATION+"ms",animationTimingFunction:"ease-in"},animatedOut:{pointerEvents:"none",animationDuration:ANIMATION_DURATION+"ms",animationTimingFunction:"ease-out"},fadeIn:{opacity:1,animationKeyframes:{"0%":{opacity:0},"100%":{opacity:1}}},fadeOut:{opacity:0,animationKeyframes:{"0%":{opacity:1},"100%":{opacity:0}}},slideIn:{transform:[{translateY:"0%"}],animationKeyframes:{"0%":{transform:[{translateY:"100%"}]},"100%":{transform:[{translateY:"0%"}]}}},slideOut:{transform:[{translateY:"100%"}],animationKeyframes:{"0%":{transform:[{translateY:"0%"}]},"100%":{transform:[{translateY:"100%"}]}}},hidden:{opacity:0}}),animatedSlideInStyles=[styles.container,styles.animatedIn,styles.slideIn],animatedSlideOutStyles=[styles.container,styles.animatedOut,styles.slideOut],animatedFadeInStyles=[styles.container,styles.animatedIn,styles.fadeIn],animatedFadeOutStyles=[styles.container,styles.animatedOut,styles.fadeOut];export default ModalAnimation;