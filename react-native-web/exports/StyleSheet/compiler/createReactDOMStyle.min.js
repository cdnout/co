import normalizeValueWithProperty from"./normalizeValueWithProperty";import ExecutionEnvironment from"fbjs/lib/ExecutionEnvironment";var canUseDOM=ExecutionEnvironment.canUseDOM,emptyObject={},supportsCSS3TextDecoration=!canUseDOM||null!=window.CSS&&null!=window.CSS.supports&&(window.CSS.supports("text-decoration-line","none")||window.CSS.supports("-webkit-text-decoration-line","none")),ignoredProps={elevation:!0,overlayColor:!0,resizeMode:!0,tintColor:!0},MONOSPACE_FONT_STACK="monospace,monospace",SYSTEM_FONT_STACK='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif',STYLE_SHORT_FORM_EXPANSIONS={borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderStyle:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],marginHorizontal:["marginRight","marginLeft"],marginVertical:["marginTop","marginBottom"],overflow:["overflowX","overflowY"],overscrollBehavior:["overscrollBehaviorX","overscrollBehaviorY"],paddingHorizontal:["paddingRight","paddingLeft"],paddingVertical:["paddingTop","paddingBottom"]},mapTransform=function(r){var o=Object.keys(r)[0],r=r[o];return"matrix"===o||"matrix3d"===o?o+"("+r.join(",")+")":o+"("+normalizeValueWithProperty(r,o)+")"},createTransformValue=function(r){var o=r.transform;return o=Array.isArray(r.transform)?r.transform.map(mapTransform).join(" "):o},createReactDOMStyle=function(e,o){if(!e)return emptyObject;var i,n={};for(i in e){var r,t=e[i];null==t||ignoredProps[i]||("aspectRatio"===i?n[i]=t.toString():"backgroundClip"===i?"text"===t&&(n.backgroundClip=t,n.WebkitBackgroundClip=t):"flex"===i?-1===t?(n.flexGrow=0,n.flexShrink=1,n.flexBasis="auto"):n.flex=t:"font"===i?n[i]=t.replace("System",SYSTEM_FONT_STACK):"fontFamily"===i?-1<t.indexOf("System")?((r=t.split(/,\s*/))[r.indexOf("System")]=SYSTEM_FONT_STACK,n[i]=r.join(",")):n[i]="monospace"===t?MONOSPACE_FONT_STACK:t:"fontVariant"===i?Array.isArray(t)&&0<t.length&&(n.fontVariant=t.join(" ")):"textAlignVertical"===i?n.verticalAlign="center"===t?"middle":t:"textDecorationLine"===i?supportsCSS3TextDecoration?n.textDecorationLine=t:n.textDecoration=t:"transform"===i||"transformMatrix"===i?n.transform=createTransformValue(e):"writingDirection"===i?n.direction=t:function(){var t=normalizeValueWithProperty(e[i],i),r=STYLE_SHORT_FORM_EXPANSIONS[i];o&&"margin"===i?(null==e.marginHorizontal&&(n.marginLeft=t,n.marginRight=t),null==e.marginVertical&&(n.marginTop=t,n.marginBottom=t)):o&&"padding"===i?(null==e.paddingHorizontal&&(n.paddingLeft=t,n.paddingRight=t),null==e.paddingVertical&&(n.paddingTop=t,n.paddingBottom=t)):r?r.forEach(function(r,o){null==e[r]&&(n[r]=t)}):n[i]=Array.isArray(t)?t.join(","):t}())}return n};export default createReactDOMStyle;export{createTransformValue};