import ExecutionEnvironment from"fbjs/lib/ExecutionEnvironment";import createCSSStyleSheet from"./createCSSStyleSheet";import createOrderedCSSStyleSheet from"./createOrderedCSSStyleSheet";var defaultId="react-native-stylesheet",roots=new WeakMap,sheets=[],initialRules=["html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}","body{margin:0;}","button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}","input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}"];function createSheet(e,t){var n,r,s;return void 0===t&&(t=defaultId),ExecutionEnvironment.canUseDOM?(n=null!=e?e.getRootNode():document,0===sheets.length?(s=createOrderedCSSStyleSheet(createCSSStyleSheet(t)),initialRules.forEach(function(e){s.insert(e,0)}),roots.set(n,sheets.length),sheets.push(s)):null==(r=roots.get(n))?(e=null!=(e=sheets[0])?e.getTextContent():"",s=createOrderedCSSStyleSheet(createCSSStyleSheet(t,n,e)),roots.set(n,sheets.length),sheets.push(s)):s=sheets[r]):0===sheets.length?(s=createOrderedCSSStyleSheet(createCSSStyleSheet(t)),initialRules.forEach(function(e){s.insert(e,0)}),sheets.push(s)):s=sheets[0],{getTextContent:function(){return s.getTextContent()},id:t,insert:function(t,n){sheets.forEach(function(e){e.insert(t,n)})}}}export{createSheet};