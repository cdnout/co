"use strict";function _extends(){return(_extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e}).apply(this,arguments)}function ownKeys(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,t)}return s}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(s),!0).forEach(function(r){_defineProperty(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function _defineProperty(e,r,s){return r in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s,e}function _objectWithoutPropertiesLoose(e,r){if(null==e)return{};var s,t,o={},n=Object.keys(e);for(t=0;t<n.length;t++)s=n[t],r.indexOf(s)>=0||(o[s]=e[s]);return o}import*as React from"react";import{forwardRef,memo,useMemo,useState,useRef}from"react";import useMergeRefs from"../../modules/useMergeRefs";import useHover from"../../modules/useHover";import usePressEvents from"../../modules/usePressEvents";import StyleSheet from"../StyleSheet";import View from"../View";function Pressable(e,r){var s=e.accessible,t=e.children,o=e.delayLongPress,n=e.delayPressIn,a=e.delayPressOut,u=e.disabled,c=e.focusable,l=e.onBlur,i=e.onFocus,f=e.onLongPress,d=e.onPress,b=e.onPressMove,P=e.onPressIn,y=e.onPressOut,p=e.style,m=e.testOnly_pressed,O=_objectWithoutPropertiesLoose(e,["accessible","children","delayLongPress","delayPressIn","delayPressOut","disabled","focusable","onBlur","onFocus","onLongPress","onPress","onPressMove","onPressIn","onPressOut","style","testOnly_pressed"]),v=useForceableState(!1),g=v[0],S=v[1],h=useForceableState(!1),j=h[0],w=h[1],M=useForceableState(!0===m),_=M[0],E=M[1],R=useRef(null),L=useMergeRefs(r,R),F=useMemo(function(){return{delayLongPress:o,delayPressStart:n,delayPressEnd:a,disabled:u,onLongPress:f,onPress:d,onPressChange:E,onPressStart:P,onPressMove:b,onPressEnd:y}},[o,n,a,u,f,d,P,b,y,E]),x=usePressEvents(R,F);useHover(R,{contain:!0,disabled:u,onHoverChange:S});var D=_objectSpread({disabled:u},e.accessibilityState),H={hovered:g,focused:j,pressed:_};function I(e,r){return function(s){s.nativeEvent.target===R.current&&(w(r),null!=e&&e(s))}}return React.createElement(View,_extends({},O,x,{accessibilityState:D,accessible:!1!==s,focusable:!1!==c,onBlur:I(l,!1),onFocus:I(i,!0),ref:L,style:[!u&&styles.root,"function"==typeof p?p(H):p]}),"function"==typeof t?t(H):t)}function useForceableState(e){var r=useState(!1);return[r[0]||e,r[1]]}var styles=StyleSheet.create({root:{cursor:"pointer",touchAction:"manipulation"}}),MemoedPressable=memo(forwardRef(Pressable));MemoedPressable.displayName="Pressable";export default MemoedPressable;