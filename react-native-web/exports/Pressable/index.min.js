"use strict";function _extends(){return(_extends=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function _objectWithoutPropertiesLoose(e,s){if(null==e)return{};var r,o,t={},n=Object.keys(e);for(o=0;o<n.length;o++)r=n[o],s.indexOf(r)>=0||(t[r]=e[r]);return t}import*as React from"react";import{forwardRef,memo,useMemo,useState,useRef}from"react";import useMergeRefs from"../../modules/useMergeRefs";import useHover from"../../modules/useHover";import usePressEvents from"../../modules/usePressEvents";import StyleSheet from"../StyleSheet";import View from"../View";function Pressable(e,s){var r=e.children,o=e.delayLongPress,t=e.delayPressIn,n=e.delayPressOut,a=e.disabled,u=e.focusable,l=e.onBlur,i=e.onFocus,d=e.onHoverIn,c=e.onHoverOut,f=e.onLongPress,P=e.onPress,m=e.onPressMove,v=e.onPressIn,y=e.onPressOut,b=e.style,p=e.testOnly_hovered,h=e.testOnly_pressed,g=_objectWithoutPropertiesLoose(e,["children","delayLongPress","delayPressIn","delayPressOut","disabled","focusable","onBlur","onFocus","onHoverIn","onHoverOut","onLongPress","onPress","onPressMove","onPressIn","onPressOut","style","testOnly_hovered","testOnly_pressed"]),O=useForceableState(!0===p),S=O[0],M=O[1],H=useForceableState(!1),R=H[0],_=H[1],E=useForceableState(!0===h),L=E[0],F=E[1],w=useRef(null),I=useMergeRefs(s,w),j=useMemo(function(){return{delayLongPress:o,delayPressStart:t,delayPressEnd:n,disabled:a,onLongPress:f,onPress:P,onPressChange:F,onPressStart:v,onPressMove:m,onPressEnd:y}},[o,t,n,a,f,P,v,m,y,F]),x=usePressEvents(w,j);useHover(w,{contain:!0,disabled:a,onHoverChange:M,onHoverStart:d,onHoverEnd:c});var B={hovered:S,focused:R,pressed:L};function V(e,s){return function(r){r.nativeEvent.target===w.current&&(_(s),null!=e&&e(r))}}return React.createElement(View,_extends({},g,x,{accessibilityDisabled:a,focusable:!a&&!1!==u,onBlur:V(l,!1),onFocus:V(i,!0),ref:I,style:[!a&&styles.root,"function"==typeof b?b(B):b]}),"function"==typeof r?r(B):r)}function useForceableState(e){var s=useState(!1);return[s[0]||e,s[1]]}var styles=StyleSheet.create({root:{cursor:"pointer",touchAction:"manipulation"}}),MemoedPressable=memo(forwardRef(Pressable));MemoedPressable.displayName="Pressable";export default MemoedPressable;