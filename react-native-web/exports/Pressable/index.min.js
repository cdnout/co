"use strict";function _extends(){return(_extends=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var o,n=arguments[s];for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function _objectWithoutPropertiesLoose(e,s){if(null==e)return{};for(var o,n={},t=Object.keys(e),r=0;r<t.length;r++)o=t[r],0<=s.indexOf(o)||(n[o]=e[o]);return n}import*as React from"react";import{forwardRef,memo,useMemo,useState,useRef}from"react";import useMergeRefs from"../../modules/useMergeRefs";import useHover from"../../modules/useHover";import usePressEvents from"../../modules/usePressEvents";import StyleSheet from"../StyleSheet";import View from"../View";function Pressable(e,s){var o=e.children,n=e.delayLongPress,t=e.delayPressIn,r=e.delayPressOut,u=e.disabled,l=e.focusable,a=e.onBlur,c=e.onContextMenu,i=e.onFocus,d=e.onHoverIn,f=e.onHoverOut,P=e.onKeyDown,y=e.onLongPress,m=e.onPress,v=e.onPressMove,b=e.onPressIn,p=e.onPressOut,h=e.style,g=e.testOnly_hovered,M=e.testOnly_pressed,O=_objectWithoutPropertiesLoose(e,["children","delayLongPress","delayPressIn","delayPressOut","disabled","focusable","onBlur","onContextMenu","onFocus","onHoverIn","onHoverOut","onKeyDown","onLongPress","onPress","onPressMove","onPressIn","onPressOut","style","testOnly_hovered","testOnly_pressed"]),S=useForceableState(!0===g),R=S[0],e=S[1],g=useForceableState(!1),S=g[0],w=g[1],g=useForceableState(!0===M),M=g[0],C=g[1],H=useRef(null),g=useMergeRefs(s,H),s=useMemo(function(){return{delayLongPress:n,delayPressStart:t,delayPressEnd:r,disabled:u,onLongPress:y,onPress:m,onPressChange:C,onPressStart:b,onPressMove:v,onPressEnd:p}},[n,t,r,u,y,m,b,v,p,C]),s=usePressEvents(H,s),x=s.onContextMenu,E=s.onKeyDown;useHover(H,{contain:!0,disabled:u,onHoverChange:e,onHoverStart:d,onHoverEnd:f});d={hovered:R,focused:S,pressed:M},f=React.useCallback(function(e){u||e.nativeEvent.target===H.current&&(w(!1),null!=a&&a(e))},[u,H,w,a]),R=React.useCallback(function(e){u||e.nativeEvent.target===H.current&&(w(!0),null!=i&&i(e))},[u,H,w,i]),S=React.useCallback(function(e){null!=x&&x(e),null!=c&&c(e)},[c,x]),M=React.useCallback(function(e){null!=E&&E(e),null!=P&&P(e)},[P,E]);return React.createElement(View,_extends({},O,s,{accessibilityDisabled:u,focusable:!u&&!1!==l,onBlur:f,onContextMenu:S,onFocus:R,onKeyDown:M,ref:g,style:[!u&&styles.root,"function"==typeof h?h(d):h]}),"function"==typeof o?o(d):o)}function useForceableState(e){var s=useState(!1);return[s[0]||e,s[1]]}var styles=StyleSheet.create({root:{cursor:"pointer",touchAction:"manipulation"}}),MemoedPressable=memo(forwardRef(Pressable));MemoedPressable.displayName="Pressable";export default MemoedPressable;