"use strict";exports.__esModule=!0,exports.default=void 0;var React=_interopRequireWildcard(require("react")),_StyleSheet=_interopRequireDefault(require("../StyleSheet")),_createElement=_interopRequireDefault(require("../createElement"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var n,a,i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&((a=r?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(i,n,a):i[n]=e[n]);return i.default=e,t&&t.set(e,i),i}var ANIMATION_DURATION=300;function getAnimationStyle(e,t){return"slide"===e?t?animatedSlideInStyles:animatedSlideOutStyles:"fade"===e?t?animatedFadeInStyles:animatedFadeOutStyles:t?styles.container:styles.hidden}function ModalAnimation(e){var t=e.animationType,n=e.children,a=e.onDismiss,i=e.onShow,r=e.visible,s=React.useState(!1),e=s[0],o=s[1],l=React.useRef(!1),u=t&&"none"!==t,d=React.useCallback(function(e){e&&e.currentTarget!==e.target||(r?i&&i():(o(!1),a&&a()))},[a,i,r]);return React.useEffect(function(){r&&o(!0),r===l.current||u||d(),l.current=r},[u,r,d]),e||r?(0,_createElement.default)("div",{style:e?getAnimationStyle(t,r):styles.hidden,onAnimationEnd:d,children:n}):null}var styles=_StyleSheet.default.create({container:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:9999},animatedIn:{animationDuration:ANIMATION_DURATION+"ms",animationTimingFunction:"ease-in"},animatedOut:{pointerEvents:"none",animationDuration:ANIMATION_DURATION+"ms",animationTimingFunction:"ease-out"},fadeIn:{opacity:1,animationKeyframes:{"0%":{opacity:0},"100%":{opacity:1}}},fadeOut:{opacity:0,animationKeyframes:{"0%":{opacity:1},"100%":{opacity:0}}},slideIn:{transform:[{translateY:"0%"}],animationKeyframes:{"0%":{transform:[{translateY:"100%"}]},"100%":{transform:[{translateY:"0%"}]}}},slideOut:{transform:[{translateY:"100%"}],animationKeyframes:{"0%":{transform:[{translateY:"0%"}]},"100%":{transform:[{translateY:"100%"}]}}},hidden:{opacity:0}}),animatedSlideInStyles=[styles.container,styles.animatedIn,styles.slideIn],animatedSlideOutStyles=[styles.container,styles.animatedOut,styles.slideOut],animatedFadeInStyles=[styles.container,styles.animatedIn,styles.fadeIn],animatedFadeOutStyles=[styles.container,styles.animatedOut,styles.fadeOut],_default=ModalAnimation;exports.default=_default,module.exports=exports.default;