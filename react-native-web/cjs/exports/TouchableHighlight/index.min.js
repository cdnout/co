"use strict";exports.__esModule=!0,exports.default=void 0;var React=_interopRequireWildcard(require("react")),_useMergeRefs=_interopRequireDefault(require("../../modules/useMergeRefs")),_usePressEvents=_interopRequireDefault(require("../../modules/usePressEvents")),_StyleSheet=_interopRequireDefault(require("../StyleSheet")),_View=_interopRequireDefault(require("../View"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var r,n,l={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=s?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(l,r,n):l[r]=e[r]);return l.default=e,t&&t.set(e,l),l}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};for(var r,n={},l=Object.keys(e),s=0;s<l.length;s++)r=l[s],0<=t.indexOf(r)||(n[r]=e[r]);return n}function createExtraStyles(e,t){return{child:{opacity:null!=e?e:.85},underlay:{backgroundColor:void 0===t?"black":t}}}function hasPressHandler(e){return null!=e.onPress||null!=e.onPressIn||null!=e.onPressOut||null!=e.onLongPress}function TouchableHighlight(e,t){var r=e.activeOpacity,n=e.children,l=e.delayPressIn,s=e.delayPressOut,o=e.delayLongPress,a=e.disabled,u=e.focusable,i=e.onHideUnderlay,c=e.onLongPress,d=e.onPress,f=e.onPressIn,y=e.onPressOut,h=e.onShowUnderlay,p=e.rejectResponderTermination,P=e.style,g=e.testOnly_pressed,b=e.underlayColor,_=_objectWithoutPropertiesLoose(e,["activeOpacity","children","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onHideUnderlay","onLongPress","onPress","onPressIn","onPressOut","onShowUnderlay","rejectResponderTermination","style","testOnly_pressed","underlayColor"]),R=(0,React.useRef)(null),O=(0,_useMergeRefs.default)(t,R),m=(0,React.useState)(!0===g?createExtraStyles(r,b):null),t=m[0],v=m[1],S=(0,React.useCallback)(function(){hasPressHandler(e)&&(v(createExtraStyles(r,b)),null!=h&&h())},[r,h,e,b]),q=(0,React.useCallback)(function(){!0!==g&&hasPressHandler(e)&&(v(null),null!=i&&i())},[i,e,g]),m=(0,React.useMemo)(function(){return{cancelable:!p,disabled:a,delayLongPress:o,delayPressStart:l,delayPressEnd:s,onLongPress:c,onPress:d,onPressStart:function(e){S(),null!=f&&f(e)},onPressEnd:function(e){q(),null!=y&&y(e)}}},[o,l,s,a,c,d,f,y,p,S,q]),m=(0,_usePressEvents.default)(R,m),n=React.Children.only(n);return React.createElement(_View.default,_extends({},_,m,{accessibilityDisabled:a,focusable:!a&&!1!==u,ref:O,style:[styles.root,P,!a&&styles.actionable,t&&t.underlay]}),React.cloneElement(n,{style:_StyleSheet.default.compose(n.props.style,t&&t.child)}))}var styles=_StyleSheet.default.create({root:{userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),MemoedTouchableHighlight=React.memo(React.forwardRef(TouchableHighlight));MemoedTouchableHighlight.displayName="TouchableHighlight";var _default=MemoedTouchableHighlight;exports.default=MemoedTouchableHighlight,module.exports=exports.default;