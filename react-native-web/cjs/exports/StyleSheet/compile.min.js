"use strict";exports.__esModule=!0,exports.atomic=atomic,exports.classic=classic,exports.inline=inline,exports.stringifyValueWithProperty=stringifyValueWithProperty;var _createReactDOMStyle=_interopRequireDefault(require("./createReactDOMStyle")),_hash=_interopRequireDefault(require("../../vendor/hash")),_hyphenateStyleName=_interopRequireDefault(require("hyphenate-style-name")),_normalizeValueWithProperty=_interopRequireDefault(require("./normalizeValueWithProperty")),_prefixStyles=_interopRequireWildcard(require("../../modules/prefixStyles"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_getRequireWildcardCache();if(r&&r.has(e))return r.get(e);var t,n,a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&((n=i?Object.getOwnPropertyDescriptor(e,t):null)&&(n.get||n.set)?Object.defineProperty(a,t,n):a[t]=e[t]);return a.default=e,r&&r.set(e,a),a}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(r,e){var t,n=Object.keys(r);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(r),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),n.push.apply(n,t)),n}function _objectSpread(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(t),!0).forEach(function(e){_defineProperty(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _objectWithoutPropertiesLoose(e,r){if(null==e)return{};for(var t,n={},a=Object.keys(e),i=0;i<a.length;i++)t=a[i],0<=r.indexOf(t)||(n[t]=e[t]);return n}var cache={get:function(e,r){if(null!=cache[e]&&cache[e].hasOwnProperty(r)&&null!=cache[e][r])return cache[e][r]},set:function(e,r,t){return null==cache[e]&&(cache[e]={}),cache[e][r]=t}};function atomic(o){return Object.keys(o).sort().reduce(function(e,r){var t,n,a,i=o[r];return null!=i&&(t=stringifyValueWithProperty(i,r),null!=(a=cache.get(r,t))?e[a.identifier]=a:(a=createAtomicRules(n=createIdentifier("r",r,i),r,i),a=cache.set(r,t,{property:r,value:stringifyValueWithProperty(i,r),identifier:n,rules:a}),e[n]=a)),e},{})}function classic(e,r){var t=createIdentifier("css",r,e),n=e.animationKeyframes,a=_objectWithoutPropertiesLoose(e,["animationKeyframes"]),r=[],e="."+t;null!=n&&(i=(n=processKeyframesValue(n)).animationNames,n=n.rules,i=i.join(","),r.push.apply(r,n));var i=createDeclarationBlock(_objectSpread({},a,{animationName:i}));return r.push(e+i),(i={})[t]={identifier:t,rules:r},i}function inline(e){return(0,_prefixStyles.prefixInlineStyles)((0,_createReactDOMStyle.default)(e))}function stringifyValueWithProperty(e,r){r=(0,_normalizeValueWithProperty.default)(e,r);return"string"!=typeof r?JSON.stringify(r||""):r}function createAtomicRules(e,r,t){var n=[],a="."+e;switch(r){case"animationKeyframes":var i=processKeyframesValue(t),e=i.animationNames,i=i.rules,e=createDeclarationBlock({animationName:e.join(",")});n.push.apply(n,[a+e].concat(i));break;case"placeholderTextColor":var o=createDeclarationBlock({color:t,opacity:1});n.push(a+"::-webkit-input-placeholder"+o,a+"::-moz-placeholder"+o,a+":-ms-input-placeholder"+o,a+"::placeholder"+o);break;case"pointerEvents":i=t;"auto"===t||"box-only"===t?(i="auto!important","box-only"===t&&(o=createDeclarationBlock(((o={})[r]="none",o)),n.push(a+">*"+o))):"none"!==t&&"box-none"!==t||(i="none!important","box-none"===t&&(c=createDeclarationBlock(((c={})[r]="auto",c)),n.push(a+">*"+c)));var c=createDeclarationBlock(((c={})[r]=i,c));n.push(a+c);break;case"scrollbarWidth":"none"===t&&n.push(a+"::-webkit-scrollbar{display:none}");var u=createDeclarationBlock(((u={})[r]=t,u));n.push(a+u);break;default:u=createDeclarationBlock(((u={})[r]=t,u));n.push(a+u)}return n}function createDeclarationBlock(e){var n=(0,_prefixStyles.default)((0,_createReactDOMStyle.default)(e));return"{"+Object.keys(n).map(function(e){var r=n[e],t=(0,_hyphenateStyleName.default)(e);return Array.isArray(r)?r.map(function(e){return t+":"+e}).join(";"):t+":"+r}).sort().join(";")+";}"}function createIdentifier(e,r,t){t=(0,_hash.default)(r+stringifyValueWithProperty(t,r));return"production"!==process.env.NODE_ENV?e+"-"+r+"-"+t:e+"-"+t}function createKeyframes(r){var t=createIdentifier("r","animation",r),n="{"+Object.keys(r).map(function(e){return""+e+createDeclarationBlock(r[e])}).join("")+"}",e=["-webkit-",""].map(function(e){return"@"+e+"keyframes "+t+n});return{identifier:t,rules:e}}function processKeyframesValue(e){if("number"==typeof e)throw new Error("Invalid CSS keyframes type: "+typeof e);var t=[],n=[];return(Array.isArray(e)?e:[e]).forEach(function(e){var r;"string"==typeof e?t.push(e):(e=(r=createKeyframes(e)).identifier,r=r.rules,t.push(e),n.push.apply(n,r))}),{animationNames:t,rules:n}}