"use strict";exports.__esModule=!0,exports.default=void 0;var _ExecutionEnvironment=require("fbjs/lib/ExecutionEnvironment"),focusVisibleAttributeName="data-focusvisible-polyfill",rule=":focus:not(["+focusVisibleAttributeName+"]){outline: none;}",modality=function(e){var u,t,n,d;function r(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function m(e){e.hasAttribute(focusVisibleAttributeName)||e.setAttribute(focusVisibleAttributeName,!0)}function o(e){e.removeAttribute(focusVisibleAttributeName)}function i(e){!0===u&&function(){for(var e=document.querySelectorAll("["+focusVisibleAttributeName+"]"),t=0;t<e.length;t+=1)o(e[t])}(),u=!1}function s(){document.addEventListener("mousemove",c),document.addEventListener("mousedown",c),document.addEventListener("mouseup",c),document.addEventListener("pointermove",c),document.addEventListener("pointerdown",c),document.addEventListener("pointerup",c),document.addEventListener("touchmove",c),document.addEventListener("touchstart",c),document.addEventListener("touchend",c)}function c(e){"HTML"!==e.target.nodeName&&(u=!1,document.removeEventListener("mousemove",c),document.removeEventListener("mousedown",c),document.removeEventListener("mouseup",c),document.removeEventListener("pointermove",c),document.removeEventListener("pointerdown",c),document.removeEventListener("pointerup",c),document.removeEventListener("touchmove",c),document.removeEventListener("touchstart",c),document.removeEventListener("touchend",c))}e(rule),_ExecutionEnvironment.canUseDOM&&(d={text:!(n=null),search:!(t=!(u=!0)),url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0},document.addEventListener("keydown",function(e){"Tab"!==e.key&&(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)||(r(document.activeElement)&&m(document.activeElement),u=!0)},!0),document.addEventListener("mousedown",i,!0),document.addEventListener("pointerdown",i,!0),document.addEventListener("touchstart",i,!0),document.addEventListener("focus",function(e){var t,n,o,i;r(e.target)&&(u||(t=e.target,n=t.type,o=t.tagName,i=t.readOnly,"INPUT"===o&&d[n]&&!i||("TEXTAREA"===o&&!i||!!t.isContentEditable)))&&m(e.target)},!0),document.addEventListener("blur",function(e){r(e.target)&&e.target.hasAttribute(focusVisibleAttributeName)&&(t=!0,window.clearTimeout(n),n=window.setTimeout(function(){t=!1,window.clearTimeout(n)},100),o(e.target))},!0),document.addEventListener("visibilitychange",function(e){"hidden"===document.visibilityState&&(t&&(u=!0),s())},!0),s())},_default=modality;exports.default=modality,module.exports=exports.default;