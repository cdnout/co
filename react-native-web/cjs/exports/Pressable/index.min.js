"use strict";exports.__esModule=!0,exports.default=void 0;var React=_interopRequireWildcard(require("react")),_useMergeRefs=_interopRequireDefault(require("../../modules/useMergeRefs")),_useHover=_interopRequireDefault(require("../../modules/useHover")),_usePressEvents=_interopRequireDefault(require("../../modules/usePressEvents")),_StyleSheet=_interopRequireDefault(require("../StyleSheet")),_View=_interopRequireDefault(require("../View"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var r,n,o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=s?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);return o.default=e,t&&t.set(e,o),o}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};for(var r,n={},o=Object.keys(e),s=0;s<o.length;s++)r=o[s],0<=t.indexOf(r)||(n[r]=e[r]);return n}function Pressable(e,t){var r=e.children,n=e.delayLongPress,o=e.delayPressIn,s=e.delayPressOut,u=e.disabled,a=e.focusable,l=e.onBlur,i=e.onContextMenu,c=e.onFocus,d=e.onHoverIn,f=e.onHoverOut,p=e.onKeyDown,y=e.onLongPress,P=e.onPress,_=e.onPressMove,v=e.onPressIn,b=e.onPressOut,R=e.style,g=e.testOnly_hovered,O=e.testOnly_pressed,h=_objectWithoutPropertiesLoose(e,["children","delayLongPress","delayPressIn","delayPressOut","disabled","focusable","onBlur","onContextMenu","onFocus","onHoverIn","onHoverOut","onKeyDown","onLongPress","onPress","onPressMove","onPressIn","onPressOut","style","testOnly_hovered","testOnly_pressed"]),M=useForceableState(!0===g),q=M[0],e=M[1],g=useForceableState(!1),M=g[0],S=g[1],g=useForceableState(!0===O),O=g[0],m=g[1],w=(0,React.useRef)(null),g=(0,_useMergeRefs.default)(t,w),t=(0,React.useMemo)(function(){return{delayLongPress:n,delayPressStart:o,delayPressEnd:s,disabled:u,onLongPress:y,onPress:P,onPressChange:m,onPressStart:v,onPressMove:_,onPressEnd:b}},[n,o,s,u,y,P,v,_,b,m]),t=(0,_usePressEvents.default)(w,t),x=t.onContextMenu,C=t.onKeyDown;(0,_useHover.default)(w,{contain:!0,disabled:u,onHoverChange:e,onHoverStart:d,onHoverEnd:f});d={hovered:q,focused:M,pressed:O},f=React.useCallback(function(e){u||e.nativeEvent.target===w.current&&(S(!1),null!=l&&l(e))},[u,w,S,l]),q=React.useCallback(function(e){u||e.nativeEvent.target===w.current&&(S(!0),null!=c&&c(e))},[u,w,S,c]),M=React.useCallback(function(e){null!=x&&x(e),null!=i&&i(e)},[i,x]),O=React.useCallback(function(e){null!=C&&C(e),null!=p&&p(e)},[p,C]);return React.createElement(_View.default,_extends({},h,t,{accessibilityDisabled:u,focusable:!u&&!1!==a,onBlur:f,onContextMenu:M,onFocus:q,onKeyDown:O,ref:g,style:[!u&&styles.root,"function"==typeof R?R(d):R]}),"function"==typeof r?r(d):r)}function useForceableState(e){var t=(0,React.useState)(!1);return[t[0]||e,t[1]]}var styles=_StyleSheet.default.create({root:{cursor:"pointer",touchAction:"manipulation"}}),MemoedPressable=(0,React.memo)((0,React.forwardRef)(Pressable));MemoedPressable.displayName="Pressable";var _default=MemoedPressable;exports.default=_default,module.exports=exports.default;