"use strict";exports.__esModule=!0,exports.default=void 0;var React=_interopRequireWildcard(require("react")),_useMergeRefs=_interopRequireDefault(require("../../modules/useMergeRefs")),_useHover=_interopRequireDefault(require("../../modules/useHover")),_usePressEvents=_interopRequireDefault(require("../../modules/usePressEvents")),_StyleSheet=_interopRequireDefault(require("../StyleSheet")),_View=_interopRequireDefault(require("../View"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_getRequireWildcardCache();if(r&&r.has(e))return r.get(e);var t,s,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&((s=o?Object.getOwnPropertyDescriptor(e,t):null)&&(s.get||s.set)?Object.defineProperty(n,t,s):n[t]=e[t]);return n.default=e,r&&r.set(e,n),n}function _extends(){return(_extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t,s=arguments[r];for(t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e}).apply(this,arguments)}function ownKeys(r,e){var t,s=Object.keys(r);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(r),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),s.push.apply(s,t)),s}function _objectSpread(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(t),!0).forEach(function(e){_defineProperty(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _objectWithoutPropertiesLoose(e,r){if(null==e)return{};for(var t,s={},n=Object.keys(e),o=0;o<n.length;o++)t=n[o],0<=r.indexOf(t)||(s[t]=e[t]);return s}function Pressable(e,r){var t=e.accessible,s=e.children,n=e.delayLongPress,o=e.delayPressIn,u=e.delayPressOut,a=e.disabled,i=e.focusable,l=e.onBlur,c=e.onFocus,f=e.onLongPress,d=e.onPress,p=e.onPressMove,b=e.onPressIn,y=e.onPressOut,P=e.style,_=e.testOnly_pressed,O=_objectWithoutPropertiesLoose(e,["accessible","children","delayLongPress","delayPressIn","delayPressOut","disabled","focusable","onBlur","onFocus","onLongPress","onPress","onPressMove","onPressIn","onPressOut","style","testOnly_pressed"]),g=useForceableState(!1),v=g[0],j=g[1],h=useForceableState(!1),g=h[0],R=h[1],h=useForceableState(!0===_),_=h[0],w=h[1],S=(0,React.useRef)(null),h=(0,_useMergeRefs.default)(r,S),r=(0,React.useMemo)(function(){return{delayLongPress:n,delayPressStart:o,delayPressEnd:u,disabled:a,onLongPress:f,onPress:d,onPressChange:w,onPressStart:b,onPressMove:p,onPressEnd:y}},[n,o,u,a,f,d,b,p,y,w]),r=(0,_usePressEvents.default)(S,r);(0,_useHover.default)(S,{contain:!0,disabled:a,onHoverChange:j});e=_objectSpread({disabled:a},e.accessibilityState),_={hovered:v,focused:g,pressed:_};function m(r,t){return function(e){e.nativeEvent.target===S.current&&(R(t),null!=r&&r(e))}}return React.createElement(_View.default,_extends({},O,r,{accessibilityState:e,accessible:!1!==t,focusable:!1!==i,onBlur:m(l,!1),onFocus:m(c,!0),ref:h,style:[!a&&styles.root,"function"==typeof P?P(_):P]}),"function"==typeof s?s(_):s)}function useForceableState(e){var r=(0,React.useState)(!1);return[r[0]||e,r[1]]}var styles=_StyleSheet.default.create({root:{cursor:"pointer",touchAction:"manipulation"}}),MemoedPressable=(0,React.memo)((0,React.forwardRef)(Pressable));MemoedPressable.displayName="Pressable";var _default=MemoedPressable;exports.default=MemoedPressable,module.exports=exports.default;