"use strict";exports.__esModule=!0,exports.default=void 0;var _invariant=_interopRequireDefault(require("fbjs/lib/invariant")),_ExecutionEnvironment=_interopRequireDefault(require("fbjs/lib/ExecutionEnvironment"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var canUseDOM=_ExecutionEnvironment.default.canUseDOM,dimensions={window:{fontScale:1,height:0,scale:1,width:0},screen:{fontScale:1,height:0,scale:1,width:0}},listeners={},Dimensions=function(){function e(){}return e.get=function(e){return(0,_invariant.default)(dimensions[e],"No dimension set for key "+e),dimensions[e]},e.set=function(e){e&&(canUseDOM?(0,_invariant.default)(!1,"Dimensions cannot be set in the browser"):(null!=e.screen&&(dimensions.screen=e.screen),null!=e.window&&(dimensions.window=e.window)))},e._update=function(){var e,n;canUseDOM&&(n=(e=window).document.documentElement,dimensions.window={fontScale:1,height:n.clientHeight,scale:e.devicePixelRatio||1,width:n.clientWidth},dimensions.screen={fontScale:1,height:e.screen.height,scale:e.devicePixelRatio||1,width:e.screen.width},Array.isArray(listeners.change)&&listeners.change.forEach(function(e){return e(dimensions)}))},e.addEventListener=function(e,n){var i=this;return listeners[e]=listeners[e]||[],listeners[e].push(n),{remove:function(){i.removeEventListener(e,n)}}},e.removeEventListener=function(e,n){Array.isArray(listeners[e])&&(listeners[e]=listeners[e].filter(function(e){return e!==n}))},e}();exports.default=Dimensions,canUseDOM&&(Dimensions._update(),window.addEventListener("resize",Dimensions._update,!1)),module.exports=exports.default;