"use strict";exports.__esModule=!0,exports.default=void 0;var React=_interopRequireWildcard(require("react")),_StyleSheet=_interopRequireDefault(require("../StyleSheet")),_View=_interopRequireDefault(require("../View")),_useMergeRefs=_interopRequireDefault(require("../../modules/useMergeRefs"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var r,o,l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((o=n?Object.getOwnPropertyDescriptor(e,r):null)&&(o.get||o.set)?Object.defineProperty(l,r,o):l[r]=e[r]);return l.default=e,t&&t.set(e,l),l}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,o=arguments[t];for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};for(var r,o={},l=Object.keys(e),n=0;n<l.length;n++)r=l[n],0<=t.indexOf(r)||(o[r]=e[r]);return o}function normalizeScrollEvent(e){return{nativeEvent:{contentOffset:{get x(){return e.target.scrollLeft},get y(){return e.target.scrollTop}},contentSize:{get height(){return e.target.scrollHeight},get width(){return e.target.scrollWidth}},layoutMeasurement:{get height(){return e.target.offsetHeight},get width(){return e.target.offsetWidth}}},timeStamp:Date.now()}}function shouldEmitScrollEvent(e,t){e=Date.now()-e;return 0<t&&t<=e}var ScrollViewBase=React.forwardRef(function(e,t){var r=e.onScroll,o=e.onTouchMove,l=e.onWheel,n=e.scrollEnabled,i=void 0===n||n,c=e.scrollEventThrottle,u=void 0===c?0:c,a=e.showsHorizontalScrollIndicator,n=e.showsVerticalScrollIndicator,c=e.style,e=_objectWithoutPropertiesLoose(e,["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"]),s=React.useRef({isScrolling:!1,scrollLastTick:0}),f=React.useRef(null),d=React.useRef(null);function h(t){return function(e){i&&t&&t(e)}}function p(e){s.current.scrollLastTick=Date.now(),r&&r(normalizeScrollEvent(e))}n=!1===a||!1===n;return React.createElement(_View.default,_extends({},e,{onScroll:function(t){var e;t.stopPropagation(),t.target===d.current&&(t.persist(),null!=f.current&&clearTimeout(f.current),f.current=setTimeout(function(){var e;e=t,s.current.isScrolling=!1,r&&r(normalizeScrollEvent(e))},100),s.current.isScrolling?shouldEmitScrollEvent(s.current.scrollLastTick,u)&&p(t):(e=t,s.current.isScrolling=!0,p(e)))},onTouchMove:h(o),onWheel:h(l),ref:(0,_useMergeRefs.default)(d,t),style:[c,!i&&styles.scrollDisabled,n&&styles.hideScrollbar]}))}),styles=_StyleSheet.default.create({scrollDisabled:{overflowX:"hidden",overflowY:"hidden",touchAction:"none"},hideScrollbar:{scrollbarWidth:"none"}}),_default=ScrollViewBase;exports.default=_default,module.exports=exports.default;