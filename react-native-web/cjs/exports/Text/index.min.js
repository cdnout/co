"use strict";exports.__esModule=!0,exports.default=void 0;var React=_interopRequireWildcard(require("react")),_createElement=_interopRequireDefault(require("../createElement")),_css=_interopRequireDefault(require("../StyleSheet/css")),_pick=_interopRequireDefault(require("../../modules/pick")),_useElementLayout=_interopRequireDefault(require("../../modules/useElementLayout")),_useMergeRefs=_interopRequireDefault(require("../../modules/useMergeRefs")),_usePlatformMethods=_interopRequireDefault(require("../../modules/usePlatformMethods")),_useResponderEvents=_interopRequireDefault(require("../../modules/useResponderEvents")),_StyleSheet=_interopRequireDefault(require("../StyleSheet")),_TextAncestorContext=_interopRequireDefault(require("./TextAncestorContext"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var o,r,n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&((r=s?Object.getOwnPropertyDescriptor(e,o):null)&&(r.get||r.set)?Object.defineProperty(n,o,r):n[o]=e[o]);return n.default=e,t&&t.set(e,n),n}var forwardPropsList={accessibilityLabel:!0,accessibilityLiveRegion:!0,accessibilityRole:!0,accessibilityState:!0,accessibilityValue:!0,accessible:!0,children:!0,classList:!0,dir:!0,importantForAccessibility:!0,lang:!0,nativeID:!0,onBlur:!0,onClick:!0,onClickCapture:!0,onContextMenu:!0,onFocus:!0,onKeyDown:!0,onKeyUp:!0,onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0,pointerEvents:!0,ref:!0,style:!0,testID:!0,dataSet:!0,onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0,onScroll:!0,onWheel:!0,href:!0,rel:!0,target:!0},pickProps=function(e){return(0,_pick.default)(e,forwardPropsList)},Text=(0,React.forwardRef)(function(e,t){var o=e.dir,r=e.numberOfLines,n=e.onClick,s=e.onLayout,l=e.onPress,u=e.onMoveShouldSetResponder,a=e.onMoveShouldSetResponderCapture,i=e.onResponderEnd,d=e.onResponderGrant,c=e.onResponderMove,p=e.onResponderReject,R=e.onResponderRelease,S=e.onResponderStart,f=e.onResponderTerminate,h=e.onResponderTerminationRequest,_=e.onScrollShouldSetResponder,x=e.onScrollShouldSetResponderCapture,y=e.onSelectionChangeShouldSetResponder,b=e.onSelectionChangeShouldSetResponderCapture,v=e.onStartShouldSetResponder,C=e.onStartShouldSetResponderCapture,M=e.selectable,m=(0,React.useContext)(_TextAncestorContext.default),q=(0,React.useRef)(null),g=[classes.text,!0===m&&classes.textHasAncestor,1===r&&classes.textOneLine,null!=r&&1<r&&classes.textMultiLine],M=[e.style,null!=r&&1<r&&{WebkitLineClamp:r},!0===M&&styles.selectable,!1===M&&styles.notSelectable,l&&styles.pressable];(0,_useElementLayout.default)(q,s),(0,_useResponderEvents.default)(q,{onMoveShouldSetResponder:u,onMoveShouldSetResponderCapture:a,onResponderEnd:i,onResponderGrant:d,onResponderMove:c,onResponderReject:p,onResponderRelease:R,onResponderStart:S,onResponderTerminate:f,onResponderTerminationRequest:h,onScrollShouldSetResponder:_,onScrollShouldSetResponderCapture:x,onSelectionChangeShouldSetResponder:y,onSelectionChangeShouldSetResponderCapture:b,onStartShouldSetResponder:v,onStartShouldSetResponderCapture:C});C=m?"span":"div",e=pickProps(e);e.classList=g,e.dir=o,m||(e.dir=null!=o?o:"auto"),e.onClick=function(e){null!=n&&n(e),null==n&&null!=l&&(e.stopPropagation(),l(e))},e.style=M;M=(0,_usePlatformMethods.default)(e),t=(0,_useMergeRefs.default)(q,M,t);e.ref=t;e=(0,_createElement.default)(C,e);return m?e:React.createElement(_TextAncestorContext.default.Provider,{value:!0},e)});Text.displayName="Text";var classes=_css.default.create({text:{border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",margin:0,padding:0,whiteSpace:"pre-wrap",wordWrap:"break-word"},textHasAncestor:{color:"inherit",font:"inherit",whiteSpace:"inherit"},textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"}}),styles=_StyleSheet.default.create({notSelectable:{userSelect:"none"},selectable:{userSelect:"text"},pressable:{cursor:"pointer"}}),_default=Text;exports.default=Text,module.exports=exports.default;