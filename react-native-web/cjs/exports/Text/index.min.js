"use strict";exports.__esModule=!0,exports.default=void 0;var React=_interopRequireWildcard(require("react")),_createElement=_interopRequireDefault(require("../createElement")),_css=_interopRequireDefault(require("../StyleSheet/css")),forwardedProps=_interopRequireWildcard(require("../../modules/forwardedProps")),_pick=_interopRequireDefault(require("../../modules/pick")),_useElementLayout=_interopRequireDefault(require("../../modules/useElementLayout")),_useMergeRefs=_interopRequireDefault(require("../../modules/useMergeRefs")),_usePlatformMethods=_interopRequireDefault(require("../../modules/usePlatformMethods")),_useResponderEvents=_interopRequireDefault(require("../../modules/useResponderEvents")),_StyleSheet=_interopRequireDefault(require("../StyleSheet")),_TextAncestorContext=_interopRequireDefault(require("./TextAncestorContext"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_getRequireWildcardCache();if(r&&r.has(e))return r.get(e);var t,o,n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&((o=s?Object.getOwnPropertyDescriptor(e,t):null)&&(o.get||o.set)?Object.defineProperty(n,t,o):n[t]=e[t]);return n.default=e,r&&r.set(e,n),n}function ownKeys(r,e){var t,o=Object.keys(r);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(r),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),o.push.apply(o,t)),o}function _objectSpread(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(t),!0).forEach(function(e){_defineProperty(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var forwardPropsList=_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},forwardedProps.defaultProps),forwardedProps.accessibilityProps),forwardedProps.clickProps),forwardedProps.focusProps),forwardedProps.keyboardProps),forwardedProps.mouseProps),forwardedProps.touchProps),forwardedProps.styleProps),{},{href:!0,lang:!0,pointerEvents:!0}),pickProps=function(e){return(0,_pick.default)(e,forwardPropsList)},Text=(0,React.forwardRef)(function(e,r){var t=e.dir,o=e.hrefAttrs,n=e.numberOfLines,s=e.onClick,l=e.onLayout,a=e.onPress,u=e.onMoveShouldSetResponder,d=e.onMoveShouldSetResponderCapture,i=e.onResponderEnd,p=e.onResponderGrant,c=e.onResponderMove,f=e.onResponderReject,S=e.onResponderRelease,R=e.onResponderStart,_=e.onResponderTerminate,b=e.onResponderTerminationRequest,h=e.onScrollShouldSetResponder,y=e.onScrollShouldSetResponderCapture,P=e.onSelectionChangeShouldSetResponder,w=e.onSelectionChangeShouldSetResponderCapture,x=e.onStartShouldSetResponder,m=e.onStartShouldSetResponderCapture,O=e.selectable,v=(0,React.useContext)(_TextAncestorContext.default),g=(0,React.useRef)(null),j=[classes.text,!0===v&&classes.textHasAncestor,1===n&&classes.textOneLine,null!=n&&1<n&&classes.textMultiLine],O=[e.style,null!=n&&1<n&&{WebkitLineClamp:n},!0===O&&styles.selectable,!1===O&&styles.notSelectable,a&&styles.pressable];(0,_useElementLayout.default)(g,l),(0,_useResponderEvents.default)(g,{onMoveShouldSetResponder:u,onMoveShouldSetResponderCapture:d,onResponderEnd:i,onResponderGrant:p,onResponderMove:c,onResponderReject:f,onResponderRelease:S,onResponderStart:R,onResponderTerminate:_,onResponderTerminationRequest:b,onScrollShouldSetResponder:h,onScrollShouldSetResponderCapture:y,onSelectionChangeShouldSetResponder:P,onSelectionChangeShouldSetResponderCapture:w,onStartShouldSetResponder:x,onStartShouldSetResponderCapture:m});x=v?"span":"div",m=pickProps(e);m.classList=j,m.dir=t,v||(m.dir=null!=t?t:"auto"),m.onClick=function(e){null!=s&&s(e),null==s&&null!=a&&(e.stopPropagation(),a(e))},m.style=O,null!=e.href&&null!=o&&(O=o.download,e=o.rel,q=o.target,null!=O&&(m.download=O),null!=e&&(m.rel=e),"string"==typeof q&&"_"!==q.charAt(0)&&(m.target="_"+q));var q=(0,_usePlatformMethods.default)(m),r=(0,_useMergeRefs.default)(g,q,r);m.ref=r;m=(0,_createElement.default)(x,m);return v?m:React.createElement(_TextAncestorContext.default.Provider,{value:!0},m)});Text.displayName="Text";var classes=_css.default.create({text:{border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",margin:0,padding:0,whiteSpace:"pre-wrap",wordWrap:"break-word"},textHasAncestor:{color:"inherit",font:"inherit",whiteSpace:"inherit"},textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"}}),styles=_StyleSheet.default.create({notSelectable:{userSelect:"none"},selectable:{userSelect:"text"},pressable:{cursor:"pointer"}}),_default=Text;exports.default=Text,module.exports=exports.default;