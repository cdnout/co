"use strict";exports.__esModule=!0,exports.default=void 0;var React=_interopRequireWildcard(require("react")),_createElement=_interopRequireDefault(require("../createElement")),forwardedProps=_interopRequireWildcard(require("../../modules/forwardedProps")),_pick=_interopRequireDefault(require("../../modules/pick")),_useElementLayout=_interopRequireDefault(require("../../modules/useElementLayout")),_useMergeRefs=_interopRequireDefault(require("../../modules/useMergeRefs")),_usePlatformMethods=_interopRequireDefault(require("../../modules/usePlatformMethods")),_useResponderEvents=_interopRequireDefault(require("../../modules/useResponderEvents")),_StyleSheet=_interopRequireDefault(require("../StyleSheet")),_TextAncestorContext=_interopRequireDefault(require("./TextAncestorContext")),_useLocale=require("../../modules/useLocale");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var r,o,n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((o=l?Object.getOwnPropertyDescriptor(e,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r]);return n.default=e,t&&t.set(e,n),n}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};for(var r,o={},n=Object.keys(e),l=0;l<n.length;l++)r=n[l],0<=t.indexOf(r)||(o[r]=e[r]);return o}function ownKeys(t,e){var r,o=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,r)),o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var forwardPropsList=_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},forwardedProps.defaultProps),forwardedProps.accessibilityProps),forwardedProps.clickProps),forwardedProps.focusProps),forwardedProps.keyboardProps),forwardedProps.mouseProps),forwardedProps.touchProps),forwardedProps.styleProps),{},{href:!0,lang:!0,pointerEvents:!0}),pickProps=function(e){return(0,_pick.default)(e,forwardPropsList)},Text=React.forwardRef(function(e,t){var r=e.hrefAttrs,o=e.numberOfLines,n=e.onClick,l=e.onLayout,s=e.onPress,a=e.onMoveShouldSetResponder,u=e.onMoveShouldSetResponderCapture,d=e.onResponderEnd,i=e.onResponderGrant,p=e.onResponderMove,c=e.onResponderReject,f=e.onResponderRelease,S=e.onResponderStart,R=e.onResponderTerminate,h=e.onResponderTerminationRequest,b=e.onScrollShouldSetResponder,_=e.onScrollShouldSetResponderCapture,y=e.onSelectionChangeShouldSetResponder,w=e.onSelectionChangeShouldSetResponderCapture,P=e.onStartShouldSetResponder,x=e.onStartShouldSetResponderCapture,g=e.selectable,m=_objectWithoutPropertiesLoose(e,["hrefAttrs","numberOfLines","onClick","onLayout","onPress","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture","selectable"]),j=React.useContext(_TextAncestorContext.default),v=React.useRef(null),O=(0,_useLocale.useLocaleContext)().direction;(0,_useElementLayout.default)(v,l),(0,_useResponderEvents.default)(v,{onMoveShouldSetResponder:a,onMoveShouldSetResponderCapture:u,onResponderEnd:d,onResponderGrant:i,onResponderMove:p,onResponderReject:c,onResponderRelease:f,onResponderStart:S,onResponderTerminate:R,onResponderTerminationRequest:h,onScrollShouldSetResponder:b,onScrollShouldSetResponderCapture:_,onSelectionChangeShouldSetResponder:y,onSelectionChangeShouldSetResponderCapture:w,onStartShouldSetResponder:P,onStartShouldSetResponderCapture:x});w=React.useCallback(function(e){null!=n?n(e):null!=s&&(e.stopPropagation(),s(e))},[n,s]),P=j?"span":"div",x=null!=e.lang?(0,_useLocale.getLocaleDirection)(e.lang):null,x=e.dir||x,O=x||O,m=pickProps(m);m.dir=x,j||(m.dir=null!=x?x:"auto"),(n||s)&&(m.onClick=w),m.style=[null!=o&&1<o&&{WebkitLineClamp:o},!0===j?styles.textHasAncestor$raw:styles.text$raw,1===o&&styles.textOneLine,null!=o&&1<o&&styles.textMultiLine,e.style,!0===g&&styles.selectable,!1===g&&styles.notSelectable,s&&styles.pressable],null!=e.href&&(P="a",null!=r&&(g=r.download,e=r.rel,C=r.target,null!=g&&(m.download=g),null!=e&&(m.rel=e),"string"==typeof C&&(m.target="_"!==C.charAt(0)?"_"+C:C)));var C=(0,_usePlatformMethods.default)(m),t=(0,_useMergeRefs.default)(v,C,t);m.ref=t;O=(0,_createElement.default)(P,m,{writingDirection:O});return j?O:React.createElement(_TextAncestorContext.default.Provider,{value:!0},O)});Text.displayName="Text";var textStyle={backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",listStyle:"none",margin:0,padding:0,textAlign:"inherit",textDecoration:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},styles=_StyleSheet.default.create({text$raw:textStyle,textHasAncestor$raw:_objectSpread(_objectSpread({},textStyle),{},{color:"inherit",font:"inherit",whiteSpace:"inherit"}),textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"},notSelectable:{userSelect:"none"},selectable:{userSelect:"text"},pressable:{cursor:"pointer"}}),_default=Text;exports.default=_default,module.exports=exports.default;