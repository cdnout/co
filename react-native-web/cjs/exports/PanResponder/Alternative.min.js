"use strict";exports.__esModule=!0,exports.default=void 0;var _InteractionManager=_interopRequireDefault(require("../InteractionManager")),_TouchHistoryMath=_interopRequireDefault(require("../../vendor/react-native/TouchHistoryMath"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var currentCentroidX=_TouchHistoryMath.default.currentCentroidX,currentCentroidY=_TouchHistoryMath.default.currentCentroidY,currentCentroidXOfTouchesChangedAfter=_TouchHistoryMath.default.currentCentroidXOfTouchesChangedAfter,currentCentroidYOfTouchesChangedAfter=_TouchHistoryMath.default.currentCentroidYOfTouchesChangedAfter,previousCentroidXOfTouchesChangedAfter=_TouchHistoryMath.default.previousCentroidXOfTouchesChangedAfter,previousCentroidYOfTouchesChangedAfter=_TouchHistoryMath.default.previousCentroidYOfTouchesChangedAfter,PanResponder={_initializeGestureState:function(e){e.x=0,e.y=0,e.initialX=0,e.initialY=0,e.deltaX=0,e.deltaY=0,e.velocityX=0,e.velocityY=0,e.numberActiveTouches=0,e._accountsForMovesUpTo=0},_updateGestureStateOnMove:function(e,t){var n=e._accountsForMovesUpTo,o=previousCentroidXOfTouchesChangedAfter(t,n),r=previousCentroidYOfTouchesChangedAfter(t,n),a=e.deltaX,u=e.deltaY,i=currentCentroidXOfTouchesChangedAfter(t,n),c=currentCentroidYOfTouchesChangedAfter(t,n),n=a+(i-o),o=u+(c-r),r=t.mostRecentTimeStamp-e._accountsForMovesUpTo;e.deltaX=n,e.deltaY=o,e.numberActiveTouches=t.numberActiveTouches,e.velocityX=(n-a)/r,e.velocityY=(o-u)/r,e.x=i,e.y=c,e._accountsForMovesUpTo=t.mostRecentTimeStamp},create:function(e){var n={handle:null},o={stateID:Math.random(),x:0,y:0,initialX:0,initialY:0,deltaX:0,deltaY:0,velocityX:0,velocityY:0,numberActiveTouches:0,_accountsForMovesUpTo:0},t=e.onStartShouldSetResponder,r=e.onStartShouldSetResponderCapture,a=e.onMoveShouldSetResponder,u=e.onMoveShouldSetResponderCapture,i=e.onPanGrant,c=e.onPanStart,d=e.onPanMove,s=e.onPanEnd,l=e.onPanRelease,h=e.onPanReject,f=e.onPanTerminate,p=e.onPanTerminationRequest;return{panHandlers:{onStartShouldSetResponder:function(e){return null!=t&&t(e,o)},onMoveShouldSetResponder:function(e){return null!=a&&a(e,o)},onStartShouldSetResponderCapture:function(e){return 1===e.nativeEvent.touches.length&&PanResponder._initializeGestureState(o),o.numberActiveTouches=e.touchHistory.numberActiveTouches,null!=r&&r(e,o)},onMoveShouldSetResponderCapture:function(e){var t=e.touchHistory;return PanResponder._updateGestureStateOnMove(o,t),null!=u&&u(e,o)},onResponderGrant:function(e){n.handle||(n.handle=_InteractionManager.default.createInteractionHandle()),o.initialX=currentCentroidX(e.touchHistory),o.initialY=currentCentroidY(e.touchHistory),o.deltaX=0,o.deltaY=0,null!=i&&i(e,o)},onResponderReject:function(e){clearInteractionHandle(n,h,e,o)},onResponderStart:function(e){var t=e.touchHistory.numberActiveTouches;o.numberActiveTouches=t,null!=c&&c(e,o)},onResponderMove:function(e){var t=e.touchHistory;o._accountsForMovesUpTo!==t.mostRecentTimeStamp&&(PanResponder._updateGestureStateOnMove(o,t),null!=d&&d(e,o))},onResponderEnd:function(e){var t=e.touchHistory.numberActiveTouches;o.numberActiveTouches=t,clearInteractionHandle(n,s,e,o)},onResponderRelease:function(e){clearInteractionHandle(n,l,e,o),PanResponder._initializeGestureState(o)},onResponderTerminate:function(e){clearInteractionHandle(n,f,e,o),PanResponder._initializeGestureState(o)},onResponderTerminationRequest:function(e){return null==p||p(e,o)}},getInteractionHandle:function(){return n.handle}}}};function clearInteractionHandle(e,t,n,o){e.handle&&(_InteractionManager.default.clearInteractionHandle(e.handle),e.handle=null),t&&t(n,o)}var _default=PanResponder;exports.default=_default,module.exports=exports.default;