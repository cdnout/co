"use strict";exports.__esModule=!0,exports.setResponderId=setResponderId,exports.getResponderPaths=getResponderPaths,exports.getLowestCommonAncestor=getLowestCommonAncestor,exports.hasTargetTouches=hasTargetTouches,exports.hasValidSelection=hasValidSelection,exports.isPrimaryPointerDown=isPrimaryPointerDown;var _isSelectionValid=_interopRequireDefault(require("../../modules/isSelectionValid"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var keyName="__reactResponderId";function getEventPath(e){return"selectionchange"!==e.type?null!=e.composedPath?e.composedPath():composedPathFallback(e.target):composedPathFallback(window.getSelection().anchorNode)}function composedPathFallback(e){for(var t=[];null!=e&&e!==document.body;)t.push(e),e=e.parentNode;return t}function getResponderId(e){return null!=e?e[keyName]:null}function setResponderId(e,t){null!=e&&(e[keyName]=t)}function getResponderPaths(e){for(var t=[],n=[],o=getEventPath(e),r=0;r<o.length;r++){var a=o[r],s=getResponderId(a);null!=s&&(t.push(s),n.push(a))}return{idPath:t,nodePath:n}}function getLowestCommonAncestor(e,t){var n=e.length,o=t.length;if(0===n||0===o||e[n-1]!==t[o-1])return null;var r=e[0],a=0,s=t[0],u=0;0<n-o&&(r=e[a=n-o],n=o),0<o-n&&(s=t[u=o-n],o=n);for(var l=n;l--;){if(r===s)return r;r=e[a++],s=t[u++]}return null}function hasTargetTouches(e,t){if(!t||0===t.length)return!1;for(var n=0;n<t.length;n++){var o=t[n].target;if(null!=o&&e.contains(o))return!0}return!1}function hasValidSelection(e){return"selectionchange"===e.type?(0,_isSelectionValid.default)():"select"===e.type}function isPrimaryPointerDown(e){var t=e.altKey,n=e.button,o=e.buttons,r=e.ctrlKey,e=e.type,r=!1===t&&!1===r;return"touchstart"===e||"touchmove"===e||"mousedown"===e&&(0===n||1===o)&&r||"mousemove"===e&&1===o&&r}