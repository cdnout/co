"use strict";exports.__esModule=!0,exports.default=useHover;var _modality=require("../modality"),_useEvent=_interopRequireDefault(require("../useEvent")),_useLayoutEffect=_interopRequireDefault(require("../useLayoutEffect"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var emptyObject={},opts={passive:!0},lockEventType="react-gui:hover:lock",unlockEventType="react-gui:hover:unlock",supportsPointerEvent=function(){return!("undefined"==typeof window||null==window.PointerEvent)};function dispatchCustomEvent(e,t,n){var u=document.createEvent("CustomEvent"),o=n||emptyObject,l=o.bubbles,n=o.cancelable,o=o.detail;u.initCustomEvent(t,void 0===l||l,void 0===n||n,o),e.dispatchEvent(u)}function getPointerType(e){e=e.pointerType;return null!=e?e:(0,_modality.getModality)()}function useHover(r,e){var i=e.contain,a=e.disabled,c=e.onHoverStart,s=e.onHoverChange,v=e.onHoverUpdate,p=e.onHoverEnd,e=supportsPointerEvent(),f=(0,_useEvent.default)(e?"pointermove":"mousemove",opts),d=(0,_useEvent.default)(e?"pointerenter":"mouseenter",opts),E=(0,_useEvent.default)(e?"pointerleave":"mouseleave",opts),y=(0,_useEvent.default)(lockEventType,opts),m=(0,_useEvent.default)(unlockEventType,opts);(0,_useLayoutEffect.default)(function(){var u,t,n,o,l=r.current;null!==l&&(u=function(e){null!=p&&p(e),null!=s&&s(!1),f(l,null),E(l,null)},t=function(e){var t=r.current;null!=t&&"touch"!==getPointerType(e)&&(i&&dispatchCustomEvent(t,unlockEventType),u(e))},n=function(e){"touch"!==getPointerType(e)&&null!=v&&(null==e.x&&(e.x=e.clientX),null==e.y&&(e.y=e.clientY),v(e))},o=function(e){null!=c&&c(e),null!=s&&s(!0),null!=v&&f(l,a?null:n),E(l,a?null:t)},d(l,a?null:function(t){var n=r.current;null!=n&&"touch"!==getPointerType(t)&&(i&&dispatchCustomEvent(n,lockEventType),o(t),y(n,a?null:function(e){e.target!==n&&u(t)}),m(n,a?null:function(e){e.target!==n&&o(t)}))}))},[d,f,E,y,m,i,a,c,s,v,p,r])}module.exports=exports.default;