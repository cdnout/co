(function(d,c,g){var f={version:"2.1",tipLocation:"bottom",nubPosition:"auto",scroll:true,scrollSpeed:300,timer:0,autoStart:false,startTimerOnClick:true,startOffset:0,nextButton:true,tipAnimation:"fade",pauseAfter:[],tipAnimationFadeSpeed:300,cookieMonster:false,cookieName:"joyride",cookieDomain:false,cookiePath:false,localStorage:false,localStorageKey:"joyride",tipContainer:"body",modal:false,expose:false,postExposeCallback:d.noop,preRideCallback:d.noop,postRideCallback:d.noop,preStepCallback:d.noop,postStepCallback:d.noop,template:{link:'<a href="#close" class="joyride-close-tip">X</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper" role="dialog"></div>',button:'<a href="#" class="joyride-next-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',exposeCover:'<div class="joyride-expose-cover"></div>'}},e=e||false,b={},a={init:function(h){return this.each(function(){if(d.isEmptyObject(b)){b=d.extend(true,f,h);b.document=c.document;b.$document=d(b.document);b.$window=d(c);b.$content_el=d(this);b.$body=d(b.tipContainer);b.body_offset=d(b.tipContainer).position();b.$tip_content=d("> li",b.$content_el);b.paused=false;b.attempts=0;b.tipLocationPatterns={top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]};a.jquery_check();if(!d.isFunction(d.cookie)){b.cookieMonster=false}if((!b.cookieMonster||!d.cookie(b.cookieName))&&(!b.localStorage||!a.support_localstorage()||!localStorage.getItem(b.localStorageKey))){b.$tip_content.each(function(i){a.create({$li:d(this),index:i})});if(b.autoStart){if(!b.startTimerOnClick&&b.timer>0){a.show("init");a.startTimer()}else{a.show("init")}}}b.$document.on("click.joyride",".joyride-next-tip, .joyride-modal-bg",function(i){i.preventDefault();if(b.$li.next().length<1){a.end()}else{if(b.timer>0){clearTimeout(b.automate);a.hide();a.show();a.startTimer()}else{a.hide();a.show()}}});b.$document.on("click.joyride",".joyride-close-tip",function(i){i.preventDefault();a.end(true)});b.$window.bind("resize.joyride",function(j){if(b.$li){if(b.exposed&&b.exposed.length>0){var i=d(b.exposed);i.each(function(){var k=d(this);a.un_expose(k);a.expose(k)})}if(a.is_phone()){a.pos_phone()}else{a.pos_default()}}})}else{a.restart()}})},resume:function(){a.set_li();a.show()},nextTip:function(){if(b.$li.next().length<1){a.end()}else{if(b.timer>0){clearTimeout(b.automate);a.hide();a.show();a.startTimer()}else{a.hide();a.show()}}},tip_template:function(i){var k,h,j;i.tip_class=i.tip_class||"";k=d(b.template.tip).addClass(i.tip_class);h=d.trim(d(i.li).html())+a.button_text(i.button_text)+b.template.link+a.timer_instance(i.index);j=d(b.template.wrapper);if(i.li.attr("data-aria-labelledby")){j.attr("aria-labelledby",i.li.attr("data-aria-labelledby"))}if(i.li.attr("data-aria-describedby")){j.attr("aria-describedby",i.li.attr("data-aria-describedby"))}k.append(j);k.first().attr("data-index",i.index);d(".joyride-content-wrapper",k).append(h);return k[0]},timer_instance:function(i){var h;if((i===0&&b.startTimerOnClick&&b.timer>0)||b.timer===0){h=""}else{h=a.outerHTML(d(b.template.timer)[0])}return h},button_text:function(h){if(b.nextButton){h=d.trim(h)||"Next";h=a.outerHTML(d(b.template.button).append(h)[0])}else{h=""}return h},create:function(j){var i=j.$li.attr("data-button")||j.$li.attr("data-text"),h=j.$li.attr("class"),k=d(a.tip_template({tip_class:h,index:j.index,button_text:i,li:j.$li}));d(b.tipContainer).append(k)},show:function(n){var k={},j,i=[],h=0,m,l=null;if(b.$li===g||(d.inArray(b.$li.index(),b.pauseAfter)===-1)){if(b.paused){b.paused=false}else{a.set_li(n)}b.attempts=0;if(b.$li.length&&b.$target.length>0){if(n){b.preRideCallback(b.$li.index(),b.$next_tip);if(b.modal){a.show_modal()}}b.preStepCallback(b.$li.index(),b.$next_tip);i=(b.$li.data("options")||":").split(";");h=i.length;for(j=h-1;j>=0;j--){m=i[j].split(":");if(m.length===2){k[d.trim(m[0])]=d.trim(m[1])}}b.tipSettings=d.extend({},b,k);b.tipSettings.tipLocationPattern=b.tipLocationPatterns[b.tipSettings.tipLocation];if(b.modal&&b.expose){a.expose()}if(!/body/i.test(b.$target.selector)&&b.scroll){a.scroll_to()}if(a.is_phone()){a.pos_phone(true)}else{a.pos_default(true)}l=d(".joyride-timer-indicator",b.$next_tip);if(/pop/i.test(b.tipAnimation)){l.outerWidth(0);if(b.timer>0){b.$next_tip.show();l.animate({width:d(".joyride-timer-indicator-wrap",b.$next_tip).outerWidth()},b.timer)}else{b.$next_tip.show()}}else{if(/fade/i.test(b.tipAnimation)){l.outerWidth(0);if(b.timer>0){b.$next_tip.fadeIn(b.tipAnimationFadeSpeed);b.$next_tip.show();l.animate({width:d(".joyride-timer-indicator-wrap",b.$next_tip).outerWidth()},b.timer)}else{b.$next_tip.fadeIn(b.tipAnimationFadeSpeed)}}}b.$current_tip=b.$next_tip;d(".joyride-next-tip",b.$current_tip).focus();a.tabbable(b.$current_tip)}else{if(b.$li&&b.$target.length<1){a.show()}else{a.end()}}}else{b.paused=true}},is_phone:function(){if(e){return e.mq("only screen and (max-width: 767px)")}return(b.$window.width()<767)?true:false},support_localstorage:function(){if(e){return e.localstorage}else{return !!c.localStorage}},hide:function(){if(b.modal&&b.expose){a.un_expose()}if(!b.modal){d(".joyride-modal-bg").hide()}b.$current_tip.hide();b.postStepCallback(b.$li.index(),b.$current_tip)},set_li:function(h){if(h){b.$li=b.$tip_content.eq(b.startOffset);a.set_next_tip();b.$current_tip=b.$next_tip}else{b.$li=b.$li.next();a.set_next_tip()}a.set_target()},set_next_tip:function(){b.$next_tip=d(".joyride-tip-guide[data-index="+b.$li.index()+"]")},set_target:function(){var h=b.$li.attr("data-class"),j=b.$li.attr("data-id"),i=function(){if(j){return d(b.document.getElementById(j))}else{if(h){return d("."+h).filter(":visible").first()}else{return d("body")}}};b.$target=i()},scroll_to:function(){var i,h;i=b.$window.height()/2;h=Math.ceil(b.$target.offset().top-i+b.$next_tip.outerHeight());d("html, body").stop().animate({scrollTop:h},b.scrollSpeed)},paused:function(){if((d.inArray((b.$li.index()+1),b.pauseAfter)===-1)){return true}return false},destroy:function(){if(!d.isEmptyObject(b)){b.$document.off(".joyride")}d(c).off(".joyride");d(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride");d(".joyride-tip-guide, .joyride-modal-bg").remove();clearTimeout(b.automate);b={}},restart:function(){if(!b.autoStart){if(!b.startTimerOnClick&&b.timer>0){a.show("init");a.startTimer()}else{a.show("init")}b.autoStart=true}else{a.hide();b.$li=g;a.show("init")}},pos_default:function(o){var n=Math.ceil(b.$window.height()/2),m=b.$next_tip.offset(),k=d(".joyride-nub",b.$next_tip),h=Math.ceil(k.outerWidth()/2),l=Math.ceil(k.outerHeight()/2),j=o||false;if(j){b.$next_tip.css("visibility","hidden");b.$next_tip.show()}if(!/body/i.test(b.$target.selector)){var p=b.tipSettings.tipAdjustmentY?parseInt(b.tipSettings.tipAdjustmentY):0,i=b.tipSettings.tipAdjustmentX?parseInt(b.tipSettings.tipAdjustmentX):0;if(a.bottom()){b.$next_tip.css({top:(b.$target.offset().top+l+b.$target.outerHeight()+p),left:b.$target.offset().left+i});if(/right/i.test(b.tipSettings.nubPosition)){b.$next_tip.css("left",b.$target.offset().left-b.$next_tip.outerWidth()+b.$target.outerWidth())}a.nub_position(k,b.tipSettings.nubPosition,"top")}else{if(a.top()){b.$next_tip.css({top:(b.$target.offset().top-b.$next_tip.outerHeight()-l+p),left:b.$target.offset().left+i});a.nub_position(k,b.tipSettings.nubPosition,"bottom")}else{if(a.right()){b.$next_tip.css({top:b.$target.offset().top+p,left:(b.$target.outerWidth()+b.$target.offset().left+h)+i});a.nub_position(k,b.tipSettings.nubPosition,"left")}else{if(a.left()){b.$next_tip.css({top:b.$target.offset().top+p,left:(b.$target.offset().left-b.$next_tip.outerWidth()-h)+i});a.nub_position(k,b.tipSettings.nubPosition,"right")}}}}if(!a.visible(a.corners(b.$next_tip))&&b.attempts<b.tipSettings.tipLocationPattern.length){k.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left");b.tipSettings.tipLocation=b.tipSettings.tipLocationPattern[b.attempts];b.attempts++;a.pos_default(true)}}else{if(b.$li.length){a.pos_modal(k)}}if(j){b.$next_tip.hide();b.$next_tip.css("visibility","visible")}},pos_phone:function(m){var l=b.$next_tip.outerHeight(),k=b.$next_tip.offset(),j=b.$target.outerHeight(),i=d(".joyride-nub",b.$next_tip),n=Math.ceil(i.outerHeight()/2),h=m||false;i.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left");if(h){b.$next_tip.css("visibility","hidden");b.$next_tip.show()}if(!/body/i.test(b.$target.selector)){if(a.top()){b.$next_tip.offset({top:b.$target.offset().top-l-n});i.addClass("bottom")}else{b.$next_tip.offset({top:b.$target.offset().top+j+n});i.addClass("top")}}else{if(b.$li.length){a.pos_modal(i)}}if(h){b.$next_tip.hide();b.$next_tip.css("visibility","visible")}},pos_modal:function(h){a.center();h.hide();a.show_modal()},show_modal:function(){if(d(".joyride-modal-bg").length<1){d("body").append(b.template.modal).show()}if(/pop/i.test(b.tipAnimation)){d(".joyride-modal-bg").show()}else{d(".joyride-modal-bg").fadeIn(b.tipAnimationFadeSpeed)}},expose:function(){var h,k,j,l,i="expose-"+Math.floor(Math.random()*10000);if(arguments.length>0&&arguments[0] instanceof d){j=arguments[0]}else{if(b.$target&&!/body/i.test(b.$target.selector)){j=b.$target}else{return false}}if(j.length<1){if(c.console){console.error("element not valid",j)}return false}h=d(b.template.expose);b.$body.append(h);h.css({top:j.offset().top,left:j.offset().left,width:j.outerWidth(true),height:j.outerHeight(true)});k=d(b.template.exposeCover);l={zIndex:j.css("z-index"),position:j.css("position")};j.css("z-index",h.css("z-index")*1+1);if(l.position=="static"){j.css("position","relative")}j.data("expose-css",l);k.css({top:j.offset().top,left:j.offset().left,width:j.outerWidth(true),height:j.outerHeight(true)});b.$body.append(k);h.addClass(i);k.addClass(i);if(b.tipSettings.exposeClass){h.addClass(b.tipSettings.exposeClass);k.addClass(b.tipSettings.exposeClass)}j.data("expose",i);b.postExposeCallback(b.$li.index(),b.$next_tip,j);a.add_exposed(j)},un_expose:function(){var h,k,i,l,j=false;if(arguments.length>0&&arguments[0] instanceof d){k=arguments[0]}else{if(b.$target&&!/body/i.test(b.$target.selector)){k=b.$target}else{return false}}if(k.length<1){if(c.console){console.error("element not valid",k)}return false}h=k.data("expose");i=d("."+h);if(arguments.length>1){j=arguments[1]}if(j===true){d(".joyride-expose-wrapper,.joyride-expose-cover").remove()}else{i.remove()}l=k.data("expose-css");if(l.zIndex=="auto"){k.css("z-index","")}else{k.css("z-index",l.zIndex)}if(l.position!=k.css("position")){if(l.position=="static"){k.css("position","")}else{k.css("position",l.position)}}k.removeData("expose");k.removeData("expose-z-index");a.remove_exposed(k)},add_exposed:function(h){b.exposed=b.exposed||[];if(h instanceof d){b.exposed.push(h[0])}else{if(typeof h=="string"){b.exposed.push(h)}}},remove_exposed:function(k){var j;if(k instanceof d){j=k[0]}else{if(typeof k=="string"){j=k}}b.exposed=b.exposed||[];for(var h=0;h<b.exposed.length;h++){if(b.exposed[h]==j){b.exposed.splice(h,1);return}}},center:function(){var h=b.$window;b.$next_tip.css({top:(((h.height()-b.$next_tip.outerHeight())/2)+h.scrollTop()),left:(((h.width()-b.$next_tip.outerWidth())/2)+h.scrollLeft())});return true},bottom:function(){return/bottom/i.test(b.tipSettings.tipLocation)},top:function(){return/top/i.test(b.tipSettings.tipLocation)},right:function(){return/right/i.test(b.tipSettings.tipLocation)},left:function(){return/left/i.test(b.tipSettings.tipLocation)},corners:function(l){var h=b.$window,o=h.height()/2,m=Math.ceil(b.$target.offset().top-o+b.$next_tip.outerHeight()),k=h.width()+h.scrollLeft(),j=h.height()+m,i=h.height()+h.scrollTop(),n=h.scrollTop();if(m<n){if(m<0){n=0}else{n=m}}if(j>i){i=j}return[l.offset().top<n,k<l.offset().left+l.outerWidth(),i<l.offset().top+l.outerHeight(),h.scrollLeft()>l.offset().left]},visible:function(h){var j=h.length;while(j--){if(h[j]){return false}}return true},nub_position:function(h,j,i){if(j==="auto"){h.addClass(i)}else{h.addClass(j)}},startTimer:function(){if(b.$li.length){b.automate=setTimeout(function(){a.hide();a.show();a.startTimer()},b.timer)}else{clearTimeout(b.automate)}},end:function(h){h=h||false;if(h){b.$window.unbind("resize.joyride")}if(b.cookieMonster){d.cookie(b.cookieName,"ridden",{expires:365,domain:b.cookieDomain,path:b.cookiePath})}if(b.localStorage){localStorage.setItem(b.localStorageKey,true)}if(b.timer>0){clearTimeout(b.automate)}if(b.modal&&b.expose){a.un_expose()}if(b.$current_tip){b.$current_tip.hide()}if(b.$li){b.postStepCallback(b.$li.index(),b.$current_tip,h);b.postRideCallback(b.$li.index(),b.$current_tip,h)}d(".joyride-modal-bg").hide()},jquery_check:function(){if(!d.isFunction(d.fn.on)){d.fn.on=function(h,j,i){return this.delegate(j,h,i)};d.fn.off=function(h,j,i){return this.undelegate(j,h,i)};return false}return true},outerHTML:function(h){return h.outerHTML||new XMLSerializer().serializeToString(h)},version:function(){return b.version},tabbable:function(h){d(h).on("keydown",function(k){if(!k.isDefaultPrevented()&&k.keyCode&&k.keyCode===27){k.preventDefault();a.end(true);return}if(k.keyCode!==9){return}var j=d(h).find(":tabbable"),l=j.filter(":first"),i=j.filter(":last");if(k.target===i[0]&&!k.shiftKey){l.focus(1);k.preventDefault()}else{if(k.target===l[0]&&k.shiftKey){i.focus(1);k.preventDefault()}}})}};d.fn.joyride=function(h){if(a[h]){return a[h].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof h==="object"||!h){return a.init.apply(this,arguments)}else{d.error("Method "+h+" does not exist on jQuery.joyride")}}}}(jQuery,this));