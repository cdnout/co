"use strict";function applyOption(t,r,n){return"function"==typeof n?n(t,r):n}function transform(t,r){var n="",i=1/0,s={},e=!1;if(r&&r.specialTransform)for(var o=0;o<r.specialTransform.length;o++){var a=r.specialTransform[o];if(a.test.test(t.string))return a.transform(t.string,t)}return r&&r.exclude&&applyOption(t.string,t,r.exclude)?t.string:(r&&r.protocol&&(n=applyOption(t.string,t,r.protocol)),n=t.protocol?"":n||(t.isEmail?"mailto:":t.isFile?"file:///":"http://"),r&&r.truncate&&(i=applyOption(t.string,t,r.truncate)),r&&r.middleTruncation&&(e=applyOption(t.string,t,r.middleTruncation)),r&&r.attributes&&(s=applyOption(t.string,t,r.attributes)),"<a "+Object.keys(s).map(function(t){return!0===s[t]?t:t+'="'+s[t]+'" '}).join(" ")+'href="'+n+t.string+'">'+(t.string.length>i?e?t.string.substring(0,Math.floor(i/2))+"…"+t.string.substring(t.string.length-Math.ceil(i/2),t.string.length):t.string.substring(0,i)+"…":t.string)+"</a>")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.transform=transform;