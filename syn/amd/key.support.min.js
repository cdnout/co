define(["require","exports","module","./synthetic","./key"],function(e,t,r){var p=e("./synthetic");e("./key"),p.config.support?p.helpers.extend(p.support,p.config.support):function e(){if(!document.body)return p.schedule(e,1);var t,r,n,u,s,i=document.createElement("div"),o=document.documentElement;i.innerHTML="<form id='outer'><input name='checkbox' type='checkbox'/><input name='radio' type='radio' /><input type='submit' name='submitter'/><input type='input' name='inputter'/><input name='one'><input name='two'/><a href='#abc'></a><textarea>1\n2</textarea></form>",o.insertBefore(i,o.firstElementChild||o.children[0]),(t=i.firstChild).childNodes[0],t.childNodes[2],r=t.getElementsByTagName("a")[0],n=t.getElementsByTagName("textarea")[0],u=t.childNodes[3],s=t.childNodes[4],t.onsubmit=function(e){return e.preventDefault&&e.preventDefault(),p.support.keypressSubmits=!0,e.returnValue=!1},p.__tryFocus(u),p.trigger(u,"keypress","\r"),p.trigger(u,"keypress","a"),p.support.keyCharacters="a"===u.value,u.value="a",p.trigger(u,"keypress","\b"),p.support.backspaceWorks=""===u.value,u.onchange=function(){p.support.focusChanges=!0},p.__tryFocus(u),p.trigger(u,"keypress","a"),p.__tryFocus(t.childNodes[5]),p.trigger(u,"keypress","b"),p.support.keysOnNotFocused="ab"===u.value,p.bind(r,"click",function(e){return e.preventDefault&&e.preventDefault(),p.support.keypressOnAnchorClicks=!0,e.returnValue=!1}),p.trigger(r,"keypress","\r"),p.support.textareaCarriage=4===n.value.length,p.support.oninput="oninput"in s,o.removeChild(i),p.support.ready++}()});