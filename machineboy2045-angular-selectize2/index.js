angular.module("selectize",[]).value("selectizeConfig",{}).directive("selectize",["selectizeConfig",function(selectizeConfig){return{restrict:"EA",require:"^ngModel",scope:{ngModel:"=",config:"=?",options:"=?",ngDisabled:"=",ngRequired:"&"},link:function(scope,element,attrs,modelCtrl){var selectize,settings=angular.extend({},Selectize.defaults,selectizeConfig,scope.config);scope.options=scope.options||[],scope.config=scope.config||{};var isEmpty=function(val){return void 0===val||null===val||!val.length},toggle=function(disabled){disabled?selectize.disable():selectize.enable()},validate=function(){var isInvalid=(scope.ngRequired()||attrs.required||settings.required)&&isEmpty(scope.ngModel);modelCtrl.$setValidity("required",!isInvalid)},setSelectizeOptions=function(curr,prev){angular.forEach(prev,function(opt){if(-1===curr.indexOf(opt)){var value=opt[settings.valueField];selectize.removeOption(value,!0)}}),selectize.addOption(curr,!0),setSelectizeValue()},setSelectizeValue=function(){validate(),selectize.$control.toggleClass("ng-valid",modelCtrl.$valid),selectize.$control.toggleClass("ng-invalid",modelCtrl.$invalid),selectize.$control.toggleClass("ng-dirty",modelCtrl.$dirty),selectize.$control.toggleClass("ng-pristine",modelCtrl.$pristine),angular.equals(selectize.items,scope.ngModel)||selectize.setValue(scope.ngModel,!0)};settings.onChange=function(value){var value=angular.copy(selectize.items);1==settings.maxItems&&(value=value[0]),modelCtrl.$setViewValue(value),scope.config.onChange&&scope.config.onChange.apply(this,arguments)},settings.onOptionAdd=function(value,data){-1===scope.options.indexOf(data)&&(scope.options.push(data),scope.config.onOptionAdd&&scope.config.onOptionAdd.apply(this,arguments))},settings.onInitialize=function(){selectize=element[0].selectize,setSelectizeOptions(scope.options),scope.config.onInitialize&&scope.config.onInitialize(selectize),scope.$watchCollection("options",setSelectizeOptions),scope.$watch("ngModel",setSelectizeValue),scope.$watch("ngDisabled",toggle)},element.selectize(settings),element.on("$destroy",function(){selectize&&(selectize.destroy(),element=null)})}}}]);
//# sourceMappingURL=angular-selectize.min.js.map