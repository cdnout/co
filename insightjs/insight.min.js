!function(){function a(a,b){return void 0===a[b]}function b(b,c){return!a(b,c)}if(a(window,"crossfilter")&&b(window,"console")&&b(console,"warn")&&console.warn("Crossfilter is not available so you will only have basic charting functionality. See https://github.com/ScottLogic/insight for how to get started."),a(window,"d3")){var c="Insight depends on d3. You must include d3 in a script tag. See https://github.com/ScottLogic/insight for how to get started.";throw new Error(c)}}();var insight=function(){return{helpers:{},defaultTheme:{}}}();!function(a){a.DateFrequency=function(a,b,c,d,e,f){function g(a){var b=864e5,c=Math.floor(a/b);return c}function h(a,b){return Math.ceil(a/b)*b}var i=this,j=c+1,k=new Date(a,b||0,j||1,d||0,e||0,f||0);i.toSeconds=function(){var a=k.getSeconds();return a+=60*k.getMinutes(),a+=60*k.getHours()*60,a+=60*(k.getDate()-1)*60*24,a+=60*k.getMonth()*60*24*29.5,a+=60*(k.getFullYear()-1900)*60*24*365.25},i.toValue=function(){return k},i.getYears=function(){return k.getFullYear()-1900},i.getMonths=function(){return k.getMonth()},i.getDays=function(){return k.getDate()-1},i.getHours=function(){return k.getHours()},i.getMinutes=function(){return k.getMinutes()},i.getSeconds=function(){return k.getSeconds()},i.roundDate=function(a){var b=a.getFullYear(),c=a.getMonth(),d=a.getDate(),e=a.getHours(),f=a.getMinutes(),j=a.getSeconds();if(0!==i.getYears()){var k=h(b,i.getYears());return new Date(Date.UTC(k,0))}if(0!==i.getMonths()){var l=h(c,i.getMonths());return new Date(Date.UTC(b,l))}if(0!==i.getDays()&&i.getDays()%7===0){var m=(7-a.getDay())%7,n=d+m;return new Date(Date.UTC(b,c,n))}if(0!==i.getDays()){var o=i.getDays(),p=g(a)%o,q=d+p;return new Date(Date.UTC(b,c,q))}if(0!==i.getHours()){var r=h(e,i.getHours());return new Date(Date.UTC(b,c,d,r))}if(0!==i.getMinutes()){var s=h(f,i.getMinutes());return new Date(Date.UTC(b,c,d,e,s))}var t=h(j,i.getSeconds());return new Date(Date.UTC(b,c,d,e,f,t))}},a.DateFrequency.dateFrequencyForYears=function(b){return new a.DateFrequency(b)},a.DateFrequency.dateFrequencyForMonths=function(b){return new a.DateFrequency(0,b)},a.DateFrequency.dateFrequencyForDays=function(b){return new a.DateFrequency(0,0,b)},a.DateFrequency.dateFrequencyForWeeks=function(b){return new a.DateFrequency(0,0,7*b)},a.DateFrequency.dateFrequencyForHours=function(b){return new a.DateFrequency(0,0,0,b)},a.DateFrequency.dateFrequencyForMinutes=function(b){return new a.DateFrequency(0,0,0,0,b)},a.DateFrequency.dateFrequencyForSeconds=function(b){return new a.DateFrequency(0,0,0,0,0,b)}}(insight),function(a){a.TextMeasurer=function(b){var c=this,d=b;c.measureText=function(b,c,e){e||(e=0);var f=a.utils.getDrawingContext(d,c),g=f.measureText(b).width,h=f.measureText("aa").width,i=a.utils.degreesToRadians(e),j=g*Math.abs(Math.sin(i))+h*Math.abs(Math.cos(i)),k=g*Math.abs(Math.cos(i))+h*Math.abs(Math.sin(i));return j=j.toFixed(10),k=k.toFixed(10),{width:Math.ceil(k),height:Math.ceil(j)}}}}(insight),insight.constants=function(){var a={};return a.Behind="behind",a.Front="front",a.AxisTextClass="axis-text",a.AxisLabelClass="axis-label",a.YAxisClass="y-axis",a.AxisClass="in-axis",a.XAxisClass="x-axis",a.XAxisRotation="rotate(90)",a.Tooltip="d3-tip",a.ToolTipTextClass="tooltip",a.BarGroupClass="bargroup",a.RowClass="row",a.ColClass="col",a.LineClass="in-line",a.LinePoint="target-point",a.ContainerClass="incontainer",a.ChartSVG="chartSVG",a.PlotArea="plotArea",a.Legend="legend",a.LegendView="legend-view",a.Bubble="bubble",a.Scatter="scatter",a.Point="point",a.TableClass="in-table",a.TableRowClass="in-datarow",a}(),insight.conversion=function(){function a(a,b){var c=b;return("NUMERIC"===a.toUpperCase()||"INTEGER"===a.toUpperCase())&&(c=parseInt(b,10)),"REAL"===a.toUpperCase()&&(c=parseFloat(b)),"STRING"===a.toUpperCase()&&(c=b),c}return{arffToJson:function(b,c){var d,e=[],f=b.replace(/\t/g," ").replace(/\'/g,"").split(/\r?\n|\r/g).filter(function(a){return a.length>=1&&""!==a[0]}),g=[],h=[],i={relation:function(a){a.match(/\@relation/i)&&(d=i.attribute)},attribute:function(a){if(a.match(/\@attribute/i)){var b=a.split(/ +/);g.push({name:b[1],type:b[2]})}a.match(/\@data/i)&&(d=i.data)},data:function(b){var c=b.split(",");if(c.length!==g.length)throw new Error("data missing, not enough values to fill expected attributes");var d={};g.forEach(function(b,e){d[b.name]=a(b.type,c[e])}),e.push(d)}};d=i.relation,f.forEach(function(a){try{d(a)}catch(b){h.push(b)}}),c(h,e)}}}(),insight.formatters=function(a){return{currencyFormatter:function(b){var c=a.format(",.02f");return"$"+c(b)},numberFormatter:function(b){var c=a.format(",.f");return c(b)},dateFormatter:function(b){var c=a.time.format("%b %Y");return c(b)},percentageFormatter:function(b){var c=a.format("%");return c(b)},format:function(b,c){var d=a.format(b);return d(c)}}}(d3),insight.utils=function(){function a(b,c,d){if(0===d.length)return 0;var e=d[0],f=e.sortParameter,g=e.order,h=f(b),i=f(c);if(h===i)return a(b,c,d.slice(1));var j=h>i?1:-1;return"ASC"===g?j:-j}var b={};return b.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},b.isFunction=function(a){return a instanceof Function},b.highlightSelector=function(){var a=":not(.selected)",b="."+insight.constants.BarClass+a+",."+insight.constants.Bubble+a;return b},b.isDate=function(a){return a instanceof Date},b.isNumber=function(a){return"[object Number]"===Object.prototype.toString.call(a)},b.arrayContains=function(a,b){return-1!==a.indexOf(b)},b.arrayEquals=function(a,b){if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c].valueOf()!==b[c].valueOf())return!1;return!0},b.addToSet=function(a,c){b.arrayContains(a,c)||a.push(c)},b.keySelector=function(a){var c="";if(a){var d=a.toString();c="in_"+b.alphaNumericString(d)}return c},b.alphaNumericString=function(a){return a.replace(/[^A-Z0-9]/gi,"_")},b.takeWhere=function(a,b,c){var d=a.filter(function(a){return a.hasOwnProperty(b)?a[b]===c:!1});return d},b.removeWhere=function(a,c,d){var e=this,f=b.takeWhere(a,c,d);f.forEach(function(b){e.removeItemFromArray(a,b)})},b.removeItemFromArray=function(a,b){var c=a.indexOf(b);c>-1&&a.splice(c,1)},b.arrayUnique=function(a){for(var b=a.concat(),c=0;c<b.length;++c)for(var d=c+1;d<b.length;++d)b[c]===b[d]&&b.splice(d--,1);return b},b.lastElement=function(a){return insight.utils.isArray(a)&&0!==a.length?a.slice(a.length-1)[0]:void 0},b.objectUnion=function(a,b){var c={},d=null;for(d in b)c[d]=b[d];for(d in a)c[d]=a[d];return c},b.multiSort=function(b,c){function d(b,d){var e=a(b,d,c,0);return e}return c.length?b.sort(d):b},b.getSVGBoundingBox=function(a){var b=a.ownerSVGElement.createSVGPoint(),c={},d=a.getCTM(),e=a.getBBox(),f=e.width,g=e.height,h=e.x,i=e.y;return b.x=h,b.y=i,c.nw=b.matrixTransform(d),b.x+=f,c.ne=b.matrixTransform(d),b.y+=g,c.se=b.matrixTransform(d),b.x-=f,c.sw=b.matrixTransform(d),b.y-=g/2,c.w=b.matrixTransform(d),b.x+=f,c.e=b.matrixTransform(d),b.x-=f/2,b.y-=g/2,c.n=b.matrixTransform(d),b.y+=g,c.s=b.matrixTransform(d),c},b.valueForKey=function(a,b,c,d){var e=a.filter(function(a){return c(a)===b});return d(e[0])},b.safeString=function(a){return a.split(" ").join("_")},b.tryParseInt=function(a,b){var c=b;return null!=a&&a.length>0&&!isNaN(a)&&(c=parseInt(a)),c},b.getNativeComputedStyle=function(a){return window.getComputedStyle(a)},b.getElementStyles=function(a,c){var d=b.getNativeComputedStyle(a),e={};return c.forEach(function(a){e[a]=d.getPropertyValue(a)}),e},b.getDrawingContext=function(a,b){var c=a.getContext("2d");return c.font=b,c},b.fontSizeFromFont=function(a){var b=12;if(!a)return b;for(var c=a.split(" "),d=0;d<c.length;d++){var e=parseInt(c[d]);if(!isNaN(e))return e}return b},b.degreesToRadians=function(a){return a*Math.PI/180},b}(),function(a){a.ErrorContainer=function(){var b=this,c=null,d=null,e=a.ErrorContainer.State.success;b.setError=function(b,f){d=b,c=void 0===f?null:f,e=a.ErrorContainer.State.error},b.setWarning=function(b,f){e!==a.ErrorContainer.State.error&&(d=b,c=void 0===f?null:f,e=a.ErrorContainer.State.warning)},b.data=function(){return c},b.message=function(){return d},b.state=function(){return e}},a.ErrorContainer.State={error:"error",success:"success",warning:"warning"}}(insight),function(a){a.ErrorMessages={invalidArrayParameterException:"Expects array parameter.",invalidDataProviderOrArrayParameterException:"Expects insight.DataProvider or an object array parameter.",invalidFunctionParameterException:"Expects function parameter.",nonNumericalPairsException:"Expect all values used to be numeric. At least one invalid pair of values was found, see the data for the details of all invalid pairs.",unequalLengthArraysException:"Expects both arrays to have equal length.",nonPositiveTickFrequencyException:"Tick frequency must be a positive non-zero value"}}(insight),insight.helpers.functions=function(){return{createPropertyAccessor:function(a){var b=a.split(".");return function(a){for(var c,d=a,e=0;e<b.length;e++){if(null==d)return void 0;c=b[e],d=d[c]}return d}}}}(),function(a){function b(b){return b instanceof a.DataProvider?b.extractData():b}function c(a,b){var c=a.map(function(a,c){var d=b[c];return{x:a,y:d,index:c}});return c}function d(b){var c=a.utils.isNumber(b.x)&&a.utils.isNumber(b.y);return c}function e(a){return!d(a)}function f(a){return a.reduce(function(a,b){return a+b})}function g(a){return f(a)/a.length}function h(a,b){for(var c=[],d=0;d<a.length;d++)c.push(a[d]*b[d]);return c}function i(a,b){return a.map(function(a){return a-b})}a.correlation=function(){},a.correlation.fromValues=function(b,j,k){if(k instanceof a.ErrorContainer||(k=new a.ErrorContainer),!a.utils.isArray(b)||!a.utils.isArray(j))return void k.setError(a.ErrorMessages.invalidArrayParameterException);if(b.length!==j.length){var l={xLength:b.length,yLength:j.length};return void k.setError(a.ErrorMessages.unequalLengthArraysException,l)}var m=c(b,j),n=m.filter(e),o=m.filter(d),p=o.map(function(a){return a.x}),q=o.map(function(a){return a.y});if(n.length>0&&k.setWarning(a.ErrorMessages.nonNumericalPairsException,n),p.length<2)return p.length;var r=g(p),s=g(q),t=i(p,r),u=i(q,s),v=h(t,t),w=h(u,u),x=h(t,u),y=f(x)/Math.sqrt(f(v)*f(w));return y},a.correlation.fromDataProvider=function(c,d,e,f){f instanceof a.ErrorContainer||(f=new a.ErrorContainer);var g=b(c);if(!a.utils.isArray(g))return void f.setError(a.ErrorMessages.invalidDataProviderOrArrayParameterException);if(!a.utils.isFunction(d)||!a.utils.isFunction(e))return void f.setError(a.ErrorMessages.invalidFunctionParameterException);var h=g.map(d),i=g.map(e),j=a.correlation.fromValues(h,i,f);return j}}(insight),function(a){a.DataProvider=function(a){var b=this,c=null,d=null;b.rawData=function(){return a.slice(0)},b.extractData=function(a,c){if(null!=c&&0>=c)return[];var d=b.rawData();return a=a||b.orderingFunction(),b.filterFunction()&&(d=d.filter(b.filterFunction())),a&&(d=d.sort(a)),c&&(d=d.slice(0,c)),d},b.orderingFunction=function(a){return arguments.length?(c=a,b):c},b.filterFunction=function(a){return arguments.length?(d=a,b):d}}}(insight),function(a){a.DataSet=function(b){a.DataProvider.call(this,b);var c=this;c.group=function(b,d,e){var f=c.extractData();c.crossfilterData=c.crossfilterData||crossfilter(f);var g=new a.Dimension(b,c.crossfilterData,d,e),h=new a.Grouping(g);return h}},a.DataSet.prototype=Object.create(a.DataProvider.prototype),a.DataSet.prototype.constructor=a.DataSet}(insight),function(a){a.Dimension=function(b,c,d,e){function f(b){return function(c){return a.utils.arrayContains(c,b)}}function g(a){return function(b){return String(b)===String(a)}}var h=this;h.crossfilterDimension=c.dimension(d),h.name=b,h.filters=[],h.oneToMany=e,h.aggregationFunction=d,h.createFilterFunction=function(a){var b=h.oneToMany?f(a):g(a);return{name:a,filterFunction:b}},h.applyFilter=function(b){var c="name",d=a.utils.takeWhere(h.filters,c,b.name).length;d?a.utils.removeWhere(h.filters,c,b.name):h.filters.push(b),0===h.filters.length?h.crossfilterDimension.filterAll():h.crossfilterDimension.filter(function(a){var b=h.filters.map(function(b){return b.filterFunction(a)}),c=b.filter(function(a){return a}).length>0;return c})},h.clearFilters=function(){h.filters=[],h.crossfilterDimension.filterAll()}}}(insight),function(a){a.Grouping=function(b){function c(){}function d(a,b){for(var c=b.split("."),d=b,e=null;c.length;)d=c.shift(),e=a,a=a[d];return{container:e,value:a,propertyName:d}}function e(b){for(var c=0,d=q.length;d>c;c++){var e=q[c],f=b.value[e],g=f.sum/f.count;g=a.utils.isNumber(g)&&isFinite(g)?g:void 0,b.value[e].mean=g}}function f(a,b){for(var c,e,f=0,g=p.length;g>f;f++){c=p[f],e=d(a.value,c);var h=e.propertyName+"Cumulative";b[h]=b[h]?b[h]+e.value:e.value,e.container[h]=b[h]}return b}function g(){function b(a,b){return a+"_"+b+"_DeviationProduct"}function c(){return{}}function d(c){var d=c;return function(c,e){return s.forEach(function(b){if(e.hasOwnProperty(b)){var f=a.utils.takeWhere(d,"key",m.dimension.aggregationFunction(e))[0].value,g=f[b].mean,h=e[b],i=h-g,j=i*i;c[b]||(c[b]={deviation:[],deviationSquared:[]}),c[b].deviation.push(i),c[b].deviationSquared.push(j)}}),r.forEach(function(d){var e=d[0],f=d[1],g=a.utils.lastElement(c[e].deviation),h=a.utils.lastElement(c[f].deviation),i=b(e,f);c[i]||(c[i]=[]),c[i].push(g*h)}),c}}function e(){return function(){}}var f=m.data.all(),g=m.dimension.crossfilterDimension.group().reduce(d(f),e(f),c).all();g.forEach(function(a){function c(a){return a.reduce(function(a,b){return a+b})}r.forEach(function(d){var e=d[0],g=d[1],h=b(e,g),i=c(a.value[h]),j=c(a.value[e].deviationSquared),k=c(a.value[g].deviationSquared),l=i/Math.sqrt(j*k),m=f.filter(function(b){return b.key===a.key})[0],n=e+"_Cor_"+g;m.value[n]=l})})}function h(){var a={},b=m.extractData();b.forEach(function(b){e(b),f(b,a)}),r.length>0&&g(),c(m)}function i(b,c){b.count++;var d,e,f;for(e=0,f=n.length;f>e;e++)d=n[e],c.hasOwnProperty(d)&&(b[d].sum+=c[d],b[d].count++);for(e=0,f=o.length;f>e;e++){d=o[e];var g=b[d];if(c.hasOwnProperty(d)){var h=c[d];if(a.utils.isArray(h))for(var i in h){var j=h[i];b[d][j]=g.hasOwnProperty(j)?g[j]+1:1,b[d].totalCount++}else b[d][h]=g.hasOwnProperty(h)?g[h]+1:1,b[d].totalCount++}}return b}function j(b,c){b.count--;var d,e,f;for(e=0,f=n.length;f>e;e++)d=n[e],c.hasOwnProperty(d)&&(b[d].sum-=c[d],b[d].count--);for(e=0,f=o.length;f>e;e++)if(d=o[e],c.hasOwnProperty(d)){var g=c[d];if(a.utils.isArray(g))for(var h in g){var i=g[h];b[d][i]=b[d].hasOwnProperty(i)?b[d][i]-1:0,b[d].totalCount--}else b[d][g]=b[d].hasOwnProperty(g)?b[d][g]-1:0,b[d].totalCount--}return b}function k(){var a,b,c,d={count:0};for(b=0,c=n.length;c>b;b++)a=n[b],d[a]=d[a]?d[a]:{},d[a].sum=0,d[a].count=0;for(b=0,c=o.length;c>b;b++)a=o[b],d[a]=d[a]?d[a]:{},d[a].totalCount=0;return d}function l(){function a(a,b){for(e=0,f=g.length;f>e;e++)if(d=g[e],b.hasOwnProperty(d))for(var c in b[d])if("undefined"!=typeof i[b[d][c]]){var j=i[b[d][c]];a.values[j].value++}else i[b[d][c]]=h,a.values[h]={key:b[d][c],value:1},h++;return a}function b(a,b){for(e=0,f=g.length;f>e;e++)if(d=g[e],b.hasOwnProperty(d))for(var c in b[d]){var h=b[d][c],j=i[h];a.values[j].value--}return a}function c(){return{values:[]}}var d,e,f,g=m.count(),h=0,i={},j=m.dimension.crossfilterDimension.groupAll().reduce(a,b,c);return m.orderingFunction(function(a,b){return b.value-a.value}),j}a.DataProvider.call(this);var m=this,n=[],o=[],p=[],q=[],r=[],s=[];m.dimension=b,m.recalculate=function(){h()},m.initialize=function(){var a;return a=m.dimension.oneToMany?l():m.dimension.crossfilterDimension.group().reduce(i,j,k),m.data=a,h(m),m},m.sum=function(a){return arguments.length?(n=a,m):n},m.correlationPairs=function(b){if(!arguments.length)return r;r=b;for(var c=0,d=b.length;d>c;c++)a.utils.addToSet(s,b[c][0]),a.utils.addToSet(s,b[c][1]);return q=a.utils.arrayUnique(q.concat(s)),n=a.utils.arrayUnique(n.concat(s)),m},m.cumulative=function(a){return arguments.length?(p=a,m):p},m.count=function(a){return arguments.length?(o=a,m):o},m.mean=function(b){return arguments.length?(q=b,n=a.utils.arrayUnique(n.concat(q)),m):q},m.rawData=function(){var a;return m.data||m.initialize(),a=m.dimension.oneToMany?m.data.value().values:m.data.all(),a.slice(0)},m.postAggregation=function(a){return arguments.length?(c=a,m):c}},a.Grouping.prototype=Object.create(a.DataProvider.prototype),a.Grouping.prototype.constructor=a.Grouping}(insight),function(a){a.Theme=function(){var a=this;a.axisStyle={gridlineWidth:void 0,gridlineColor:void 0,shouldShowGridlines:void 0,tickSize:void 0,tickPadding:void 0,tickLineWidth:void 0,tickLineColor:void 0,axisLineWidth:void 0,axisLineColor:void 0,tickLabelFont:void 0,tickLabelColor:void 0,axisTitleFont:void 0,axisTitleColor:void 0},a.seriesStyle={shouldShowPoints:void 0,lineStyle:void 0},a.tableStyle={headerFont:void 0,headerTextColor:void 0,rowHeaderFont:void 0,rowHeaderTextColor:void 0,cellFont:void 0,cellTextColor:void 0,headerDivider:void 0,headerBackgroundColor:void 0,rowBackgroundColor:void 0,rowAlternateBackgroundColor:void 0}}}(insight),function(a){a.LightTheme=function(){var b=this;a.Theme.apply(b),b.axisStyle.gridlineWidth=1,b.axisStyle.gridlineColor="#888",b.axisStyle.shouldShowGridlines=!1,b.axisStyle.tickSize=3,b.axisStyle.tickPadding=10,b.axisStyle.axisLineWidth=1,b.axisStyle.axisLineColor="#333",b.axisStyle.tickLineWidth=1,b.axisStyle.tickLineColor="#333",b.axisStyle.tickLabelFont="11pt Arial",b.axisStyle.tickLabelColor="#333",b.axisStyle.axisTitleFont="12pt Arial",b.axisStyle.axisTitleColor="#333",b.seriesStyle.shouldShowPoints=!1,b.seriesStyle.lineStyle="linear",b.seriesStyle.pointRadius=3,b.tableStyle.headerFont="bold 14pt Arial",b.tableStyle.headerTextColor="#084594",b.tableStyle.rowHeaderFont="bold 12pt Arial",b.tableStyle.rowHeaderTextColor="#2171b5",b.tableStyle.cellFont="12pt Arial",b.tableStyle.cellTextColor="#888",b.tableStyle.headerDivider="1px solid #084594",b.tableStyle.headerBackgroundColor="white",b.tableStyle.rowBackgroundColor="#c6dbef",b.tableStyle.rowAlternateBackgroundColor="white"},a.LightTheme.prototype=Object.create(a.Theme.prototype),a.LightTheme.prototype.constructor=a.LightTheme,a.defaultTheme=new a.LightTheme}(insight),function(a){a.WarmTheme=function(){var b=this;a.Theme.apply(b),b.axisStyle.gridlineWidth=2,b.axisStyle.gridlineColor="#081717",b.axisStyle.shouldShowGridlines=!1,b.axisStyle.tickSize=2,b.axisStyle.tickPadding=10,b.axisStyle.axisLineWidth=2,b.axisStyle.axisLineColor="#081717",b.axisStyle.tickLineWidth=2,b.axisStyle.tickLineColor="#081717",b.axisStyle.tickLabelFont="11pt Arial",b.axisStyle.tickLabelColor="#081717",b.axisStyle.axisTitleFont="12pt Arial",b.axisStyle.axisTitleColor="#081717",b.seriesStyle.shouldShowPoints=!0,b.seriesStyle.lineStyle="linear",b.seriesStyle.pointRadius=3,b.tableStyle.headerFont="bold 12pt Helvetica",b.tableStyle.headerTextColor="#081717",b.tableStyle.rowHeaderFont="bold 11pt Helvetica",b.tableStyle.rowHeaderTextColor="#081717",b.tableStyle.cellFont="11pt Helvetica",b.tableStyle.cellTextColor="#081717",b.tableStyle.headerDivider="2px solid #A60303",b.tableStyle.headerBackgroundColor="white",b.tableStyle.rowBackgroundColor="#FF811E",b.tableStyle.rowAlternateBackgroundColor="#FFE525"},a.WarmTheme.prototype=Object.create(a.Theme.prototype),a.WarmTheme.prototype.constructor=a.WarmTheme}(insight),function(a){a.SimpleBubbleChart=function(b,c,d,e,f,g){a.SimpleChart.call(this,b,c,d,e,{xAxisScale:a.scales.linear,xAxisName:d,yAxisScale:a.scales.linear,yAxisName:e,seriesType:a.BubbleSeries,groupingProperty:f,radiusProperty:g})}}(insight),function(a){a.SimpleChart=function(b,c,d,e,f){var g=this;g.xAxisScale=function(a){return f.xAxisScale=a,g},g.yAxisScale=function(a){return f.yAxisScale=a,g},g.build=function(){var g,h,i,j=b instanceof a.DataSet?b:new a.DataSet(b),k=new a.Axis(f.xAxisName,f.xAxisScale).tickLabelOrientation("tb"),l=new a.Axis(f.yAxisName,f.yAxisScale);return"count"===f.groupingProperty?(i=function(a){return a.key},h=function(a){return a.value[f.groupingProperty]}):f.groupingProperty?(i=function(a){return a.key},h=function(a){return a.value[e][f.groupingProperty]}):(i=function(a){return a[d]},h=function(a){return a[e]}),j=f.groupingProperty?j.group("grouping",function(a){return a[d]})[f.groupingProperty]([e]):j,g=new f.seriesType("series",j,k,l).keyFunction(i).valueFunction(h),f.radiusProperty&&g.radiusFunction(function(a){return a[f.radiusProperty]}),new a.Chart("",c).xAxis(k).yAxis(l).series([g]).width(500).height(500)}}}(insight),function(a){a.SimpleColumnChart=function(b,c,d,e,f){a.SimpleChart.call(this,b,c,d,e,{xAxisScale:a.scales.ordinal,xAxisName:d,yAxisScale:a.scales.linear,yAxisName:e,seriesType:a.ColumnSeries,groupingProperty:f})}}(insight),function(a){a.SimpleLineChart=function(b,c,d,e,f){a.SimpleChart.call(this,b,c,d,e,{xAxisScale:a.scales.linear,xAxisName:d,yAxisScale:a.scales.linear,yAxisName:e,seriesType:a.LineSeries,groupingProperty:f})}}(insight),function(a){a.SimpleMarkerChart=function(b,c,d,e,f){a.SimpleChart.call(this,b,c,d,e,{xAxisScale:a.scales.ordinal,xAxisName:d,yAxisScale:a.scales.linear,yAxisName:e,seriesType:a.MarkerSeries,groupingProperty:f})}}(insight),function(a){a.SimpleRowChart=function(b,c,d,e,f){a.SimpleChart.call(this,b,c,d,e,{xAxisScale:a.scales.linear,xAxisName:e,yAxisScale:a.scales.ordinal,yAxisName:d,seriesType:a.RowSeries,groupingProperty:f})}}(insight),function(a){a.SimpleScatterChart=function(b,c,d,e,f){a.SimpleChart.call(this,b,c,d,e,{xAxisScale:a.scales.linear,xAxisName:d,yAxisScale:a.scales.linear,yAxisName:e,seriesType:a.ScatterSeries,groupingProperty:f})}}(insight),function(a){a.ChartGroup=function(){function b(a,b){var c=i.dimensionListenerMap[a];null!=c&&c.forEach(function(a){a.toggleHighlight(b)})}function c(a){a.series().forEach(function(b){h(b.data,a),b.clickEvent=i.filterByGrouping,e(b.data)})}function d(a,b){c(a,b)}function e(b){var c=b.dimension;c&&(a.utils.addToSet(i.groupings,b),a.utils.addToSet(i.dimensions,b.dimension))}function f(a){return a.clickEvent=i.filterByGrouping,h(a.data,a),i.tables.push(a),a}function g(a){return a.seriesChanged=d,c(a),i.charts.push(a),a}function h(b,c){var d=b?b.dimension:null;if(d){var e=i.dimensionListenerMap[d.name];if(e){var f=a.utils.arrayContains(e,c);f||i.dimensionListenerMap[d.name].push(c)}else i.dimensionListenerMap[d.name]=[c]}}var i=this;i.charts=[],i.tables=[],i.groupings=[],i.dimensions=[],i.filteredDimensions=[],i.dimensionListenerMap={},i.draw=function(){i.charts.forEach(function(a){a.draw()}),i.tables.forEach(function(a){a.draw()})},i.add=function(b){return b instanceof a.Chart?g(b):b instanceof a.Table&&f(b),i},i.filterByGrouping=function(c,d){var e=a.utils.keySelector(d),f=c.dimension;b(f.name,e);var g=f.createFilterFunction(d),h="name",j=a.utils.takeWhere(i.dimensions,h,f.name),k=a.utils.takeWhere(i.filteredDimensions,h,f.name);k.length||i.filteredDimensions.push(f),j.forEach(function(b){b.applyFilter(g),0===b.filters.length&&a.utils.removeItemFromArray(i.filteredDimensions,b)}),i.groupings.forEach(function(a){a.recalculate()}),i.draw(),i.filterChanged()},i.clearFilters=function(){i.filteredDimensions=[],i.dimensions.forEach(function(a){a.clearFilters()}),i.groupings.forEach(function(a){a.recalculate()}),i.charts.concat(i.tables).forEach(function(a){a.clearHighlight()}),i.draw(),i.filterChanged()},i.filterChanged=function(){},i.applyTheme(a.defaultTheme)},a.ChartGroup.prototype.applyTheme=function(a){return this.charts.forEach(function(b){b.applyTheme(a)}),this.tables.forEach(function(b){b.applyTheme(a)}),this}}(insight),function(a){a.Chart=function(b,c){function d(){var a=50,b=g.container[0][0].offsetLeft,c=window.innerWidth-b-a;g.resizeWidth(c)}function e(){s=!0,window.addEventListener("resize",d),g.container=d3.select(g.element).append("div"),g.container.attr("class",a.constants.ContainerClass).style("position","relative").style("display","inline-block"),g.chartSVG=g.container.append("svg").attr("class",a.constants.ChartSVG),g.plotArea=g.chartSVG.append("g").attr("class",a.constants.PlotArea),g.axisMeasurer=g.plotArea.append("text").attr("class",a.constants.AxisTextClass),g.labelMeasurer=g.container.append("text").attr("class",a.constants.AxisLabelClass),g.addClipPath(),g.initializeTooltip(g.container.node())}function f(){g.zoom=d3.behavior.zoom().on("zoom",g.dragging.bind(g)),g.zoom.x(t.scale),g.zoomExists()||g.plotArea.insert("rect",":first-child").attr("class","zoompane").attr("width",g.width()).attr("height",g.height()-g.margin().top-g.margin().bottom).style("fill","none").style("pointer-events","all"),g.plotArea.select(".zoompane").call(g.zoom),r=!0}var g=this,h=d3.functor(300),i=d3.functor(300),j=d3.functor(300),k=d3.functor(300),l=!1,m=[],n=[],o=[],p=!0,q=null,r=!1,s=!1,t=null,u=(a.utils.highlightSelector(),[]),v={top:0,left:0,right:0,bottom:0};g.name=b,g.element=c,g.selectedItems=[],g.container=null,g.chart=null,g.measureCanvas=document.createElement("canvas"),g.legendView=null,g.filterSeriesByType=function(a){var b=g.series().filter(function(b){return b.constructor===a.constructor});return b},g.calculatePlotAreaSize=function(){var a=[],b=g.margin();return a[0]=g.width()-b.right-b.left,a[1]=g.height()-b.top-b.bottom,a},g.seriesIndexByType=function(a){var b=g.filterSeriesByType(a);return b.indexOf(a)},g.countSeriesOfType=function(a){var b=g.filterSeriesByType(a);return b.length},g.addClipPath=function(){g.plotArea.append("clipPath").attr("id",g.clipPath()).append("rect").attr("x",1).attr("y",0).attr("width",g.width()-g.margin().left-g.margin().right).attr("height",g.height()-g.margin().top-g.margin().bottom)},g.resizeWidth=function(a){function b(a){g.width(a,!0),g.draw()}g.width()>a&&g.width()!==g.minWidth()?b(Math.max(g.minWidth(),a)):g.width()<a&&g.width()!==g.maxWidth()&&b(Math.min(g.maxWidth(),a))},g.resizeChart=function(){p&&g.calculateChartMargin();var a=g.margin();g.container.style("width",g.width()+"px"),g.chartSVG.attr("width",g.width()).attr("height",g.height()),g.plotArea=g.plotArea.attr("transform","translate("+a.left+","+a.top+")"),g.plotArea.select("#"+g.clipPath()).append("rect").attr("x",1).attr("y",0).attr("width",g.width()-a.left-a.right).attr("height",g.height()-a.top-a.bottom)},g.zoomExists=function(){var a=g.plotArea.selectAll(".zoompane");return a[0].length},g.dragging=function(){g.draw(!0)},g.clipPath=function(){return a.utils.safeString(g.name)+"clip"},g.toggleHighlight=function(b){var c=g.plotArea.selectAll("."+b),d=a.utils.arrayContains(g.selectedItems,b);d?(c.classed("selected",!1),a.utils.removeItemFromArray(g.selectedItems,b)):(c.classed("selected",!0).classed("notselected",!1),g.selectedItems.push(b))},g.clearHighlight=function(){g.selectedItems=[],g.plotArea&&(g.plotArea.selectAll(".selected").classed("selected",!1),g.plotArea.selectAll(".notselected").classed("notselected",!1))},g.initializeTooltip=function(b){g.tooltip||(g.tooltip=(new a.Tooltip).container(b))},g.draw=function(a){s||e(),g.resizeChart();var b=n.concat(o);b.forEach(function(b){b.draw(g.calculatePlotAreaSize(),g.plotArea,g.container,a)}),g.series().forEach(function(b,c){b.colorClass=d3.functor("series-"+c),b.draw(g,a)}),null!==q&&q.draw(g,g.series()),l&&!r&&f()},g.seriesChanged=function(){},g.setInteractiveAxis=function(a){return l=!0,t=a,a.isZoomable(!0),g},g.margin=function(a){return arguments.length?(p=!1,v=a,g):v},g.width=function(a,b){return arguments.length?(b||g.maxWidth(a),i=d3.functor(a),g):i()},g.height=function(a){return arguments.length?(h=d3.functor(a),g):h()},g.maxWidth=function(a){return arguments.length?(j=d3.functor(a),g):j()},g.minWidth=function(a){return arguments.length?(k=d3.functor(a),g):k()},g.series=function(a){return arguments.length?(m=a,g.seriesChanged(g,a),g):m},g.legend=function(a){return arguments.length?(q=a,g):q},g.addXAxis=function(a){return a.direction="h",n.push(a),g},g.xAxes=function(a){if(!arguments.length)return n;n=[];for(var b=0;b<a.length;b++)g.addXAxis(a[b]);return g},g.xAxis=function(a){if(!arguments.length)return n[0];var b=n.slice(0);return b[0]=a,g.xAxes(b)},g.addYAxis=function(a){return a.direction="v",o.push(a),g},g.yAxes=function(a){if(!arguments.length)return o;o=[];for(var b=0;b<a.length;b++)g.addYAxis(a[b]);return g},g.yAxis=function(a){if(!arguments.length)return o[0];var b=o.slice(0);return b[0]=a,g.yAxes(b)},g.autoMargin=function(a){return arguments.length?(p=a,g):p},g.seriesPalette=function(a){return arguments.length?(u=a,g):u},g.applyTheme(a.defaultTheme)},a.Chart.prototype.calculateChartMargin=function(){var a=this.xAxes().concat(this.yAxes()),b={top:10,left:10,bottom:10,right:10};a.forEach(function(a){var c=a.calculateLabelDimensions(),d=a.isHorizontal()?c.height:c.width;b[a.orientation()]=Math.max(d,b[a.orientation()]);var e=a.calculateLabelOverhang();b.top=Math.max(b.top,e.top),b.bottom=Math.max(b.bottom,e.bottom),b.left=Math.max(b.left,e.left),b.right=Math.max(b.right,e.right)}),this.margin(b)},a.Chart.prototype.applyTheme=function(a){var b=this.xAxes().concat(this.yAxes());return b.forEach(function(b){b.applyTheme(a)}),this}}(insight),function(a){a.Table=function(b,c,d){function e(a){return a.label}function f(a){return a.key}function g(a){return a.value}function h(a){return o.columns().map(function(b){return{column:b,value:b.value(a)}})}function i(){o.tableElement=d3.select(o.element).append("table").attr("class",a.constants.TableClass),n=o.tableElement.append("thead").append("tr"),n.append("th").attr("class","blank").html(""),o.tableBody=o.tableElement.append("tbody"),q=!0}function j(b){return a.constants.TableRowClass+" "+a.utils.keySelector(f(b))}function k(a){o.clickEvent(o.data,f(a))}function l(a,b){var c={sortParameter:a,order:b};r.push(c)}function m(a,b){var c=o.rowBackgroundColor(),d=o.rowAlternateBackgroundColor();return d()||(d=c),b%2===0?c():d()}var n,o=this,p=[],q=!1,r=[],s=null,t=d3.functor("red"),u="bold 16pt Helvetica Neue",v=d3.functor("blue"),w="bold 14pt Helvetica Neue",x=d3.functor("green"),y="12pt Helvetica Neue",z="0px solid white",A=d3.functor("white"),B=d3.functor("white"),C=d3.functor(void 0);o.name=b,o.element=c,o.data=d,o.selectedItems=[],o.toggleHighlight=function(b){var c=o.tableBody.selectAll("."+b),d=c.classed("selected");d?(c.classed("selected",!1),a.utils.removeItemFromArray(o.selectedItems,b)):(c.classed("selected",!0).classed("notselected",!1),o.selectedItems.push(b));var e=o.tableBody.selectAll(".selected"),f=o.tableBody.selectAll("tr:not(.selected)");f.classed("notselected",e[0].length>0)},o.clearHighlight=function(){o.selectedItems=[],o.tableBody&&(o.tableBody.selectAll(".selected").classed("selected",!1),o.tableBody.selectAll(".notselected").classed("notselected",!1))},o.draw=function(){var b=o.dataset(),c=o.columns();q||i(),n.style("border-bottom",o.headerDivider()).style("background-color",o.headerBackgroundColor()),n.selectAll("th.column").data(c).enter().append("th").attr("class","column").style("color",o.headerTextColor()).style("font",o.headerFont()).html(e),n.selectAll("th.column").style("color",o.headerTextColor()).style("font",o.headerFont());var d=o.tableBody.selectAll("tr."+a.constants.TableRowClass).data(b,f);d.enter().append("tr").attr("class",j).on("click",k).style("background-color",m).append("th").style("color",o.rowHeaderTextColor()).style("font",o.rowHeaderFont()).html(f),d.style("background-color",m).style("color",o.rowHeaderTextColor()).style("font",o.rowHeaderFont()),d.selectAll("th").style("color",o.rowHeaderTextColor()).style("font",o.rowHeaderFont());var l=d.selectAll("td").data(h);l.enter().append("td"),l.html(g).style("color",o.cellTextColor()).style("font",o.cellFont()),l.exit().remove(),d.exit().remove()},o.columns=function(a){return arguments.length?(p=a,o):p},o.keyFunction=function(a){return arguments.length?(f=a,o):f},o.ascending=function(a){return l(a,"ASC"),o},o.descending=function(a){return l(a,"DESC"),o},o.top=function(a){return arguments.length?(s=a,o):s},o.dataset=function(){var b=r,c=o.data.extractData();return c=a.utils.multiSort(c,b),o.top()&&(c=c.slice(0,o.top())),c},o.headerTextColor=function(a){return arguments.length?(t=d3.functor(a),o):t
},o.headerFont=function(a){return arguments.length?(u=a,o):u},o.rowHeaderTextColor=function(a){return arguments.length?(v=d3.functor(a),o):v},o.rowHeaderFont=function(a){return arguments.length?(w=a,o):w},o.cellTextColor=function(a){return arguments.length?(x=d3.functor(a),o):x},o.cellFont=function(a){return arguments.length?(y=a,o):y},o.headerDivider=function(a){return arguments.length?(z=a,o):z},o.headerBackgroundColor=function(a){return arguments.length?(A=d3.functor(a),o):A},o.rowBackgroundColor=function(a){return arguments.length?(B=d3.functor(a),o):B},o.rowAlternateBackgroundColor=function(a){return arguments.length?(C=d3.functor(a),o):C},o.applyTheme(a.defaultTheme)},a.Table.prototype.clickEvent=function(){},a.Table.prototype.applyTheme=function(a){return this.headerFont(a.tableStyle.headerFont),this.headerTextColor(a.tableStyle.headerTextColor),this.rowHeaderFont(a.tableStyle.rowHeaderFont),this.rowHeaderTextColor(a.tableStyle.rowHeaderTextColor),this.cellFont(a.tableStyle.cellFont),this.cellTextColor(a.tableStyle.cellTextColor),this.headerDivider(a.tableStyle.headerDivider),this.headerBackgroundColor(a.tableStyle.headerBackgroundColor),this.rowBackgroundColor(a.tableStyle.rowBackgroundColor),this.rowAlternateBackgroundColor(a.tableStyle.rowAlternateBackgroundColor),this}}(insight),function(a){a.Tooltip=function(){function b(){var a=d3.select(f.container()).append("div");a.attr("class",g).style(f.styles()),f.element=a.node()}function c(a){d3.select(f.element).html(a)}function d(b){var c=a.utils.getSVGBoundingBox(b),d=f.offset(),e=c.n.y-f.element.offsetHeight,g=c.n.x-f.element.offsetWidth/2;return e+=d.y,g+=d.x,{x:g,y:e}}function e(a){d3.select(f.element).style({opacity:"1",top:a.y+"px",left:a.x+"px"})}var f=this,g=a.constants.Tooltip,h=null,i={},j={x:0,y:0},k={position:"absolute",opacity:"0",top:"0","pointer-events":"none","box-sizing":"border-box"};f.offset=function(a){return arguments.length?(j=a,f):j},f.styles=function(b){return arguments.length?(i=b,f):a.utils.objectUnion(k,i)},f.container=function(a){return arguments.length?(h=a,f):h},f.show=function(a,g){f.element||b(),c(g);var h=d(a);e(h)},f.hide=function(){d3.select(f.element).style("opacity","0")}}}(insight),function(a){a.Legend=function(b){function c(a,b){return 20*b+5}function d(a){return a.colorClass()}function e(a,b){return 20*b+14}function f(a){var b=a.title();return b.length>=9?b.substring(0,9)+"...":b}var g=this,h=!1;g.init=function(b){h=!0,null!==b.legendView&&(b.legendView.removeChild(b.legendBox),b.legendView.removeChild(b.legendItems),b.chartSVG.removeChild(b.legendView)),b.legendView=b.chartSVG.append("g").attr("class",a.constants.LegendView).attr("transform","translate("+(b.width()-80)+",30)"),b.legendBox=b.legendView.append("rect").style("stroke","black").style("stroke-width",1).style("fill","white"),b.legendItems=b.legendView.append("g").attr("class",a.constants.Legend)},g.draw=function(a){h||g.init(a);var i=b?a.series().filter(function(a){return $.inArray(a.name,b)>-1}):a.series(),j=a.measureCanvas.getContext("2d");j.font="12px sans-serif",a.legendItems.selectAll("rect").data(i).enter().append("rect").attr("x",5).attr("y",c).attr("width",10).attr("height",10).attr("class",d),a.legendItems.selectAll("rect").data(i).transition().attr("class",d),a.legendItems.selectAll("text").data(i).enter().append("text").attr("x",20).attr("y",e).attr("width",function(a){return j.measureText(a.title()).width}).attr("height",20).text(f).attr("font-family","sans-serif").attr("font-size","12px").attr("fill","black");for(var k=0,l=0,m=0;m<i.length;m++){var n=j.measureText(i[m].title()).width;l=Math.min(Math.max(l,n+25),79)}k=20*i.length,a.legendBox.attr("width",l).attr("height",k),a.legendItems.attr("width",l).attr("height",k)}}}(insight),function(a){a.Axis=function(b,c){function d(){return i.isHorizontal()?C?"top":"bottom":C?"right":"left"}function e(){var b=a.utils.degreesToRadians(i.tickLabelRotation()),c=i.isHorizontal()?Math.sin:Math.cos,d=parseFloat(c(b).toFixed(10));if(0===d)return"middle";switch(i.orientation()){case"left":case"top":return d>0?"end":"start";case"right":case"bottom":return d>0?"start":"end"}}function f(a){return a}function g(){var a=i.isHorizontal()?[0,i.bounds[0]]:[i.bounds[1],0];i.scale.rangeRoundBands?i.scale.rangeRoundBands(a,i.barPadding()):i.scale.rangeRound(a)}var h,i=this,j=b,k=d3.functor(!1),l=null,m=d3.functor(0),n=d3.functor(0),o=1,p=1,q=0,r="11pt Helvetica Neue",s=d3.functor("Black"),t="12pt Helvetica Neue",u=d3.functor("Black"),v=d3.functor("lr"),w=!1,x=d3.functor("#000"),y=d3.functor("#000"),z=!0,A=d3.functor(.1),B=!1,C=!1,D=!1,E=c.strategy;i.rangeMinimum=function(){return E.findMin(i)},i.rangeMaximum=function(){return E.findMax(i)},i.measureCanvas=document.createElement("canvas"),i.scale=c.scale(),i.bounds=[0,0],i.series=[],i.direction="",i.gridlines=new a.AxisGridlines(i),i.isZoomable=function(a){return arguments.length?(D=a,i):D},i.tickValues=function(){return E.tickValues(i)},i.measureTickValues=function(b){var c=new a.TextMeasurer(i.measureCanvas),d=b.map(function(a){return i.tickLabelFormat()(a)});return d.map(function(a){return c.measureText(a,i.tickLabelFont(),i.tickLabelRotation())})},i.calculateLabelDimensions=function(){if(!i.shouldDisplay())return{width:0,height:0};var b=new a.TextMeasurer(i.measureCanvas),c=b.measureText(i.title(),i.axisTitleFont()).height,d=i.measureTickValues(i.tickValues()),e=0===d.length?0:d3.max(d,function(a){return Math.abs(a.width)}),f=0===d.length?0:d3.max(d,function(a){return Math.abs(a.height)}),g=Math.ceil(b.measureText(i.title(),i.axisTitleFont()).width);0===e&&(f=0),0===g&&(c=0);var h=2*i.tickPadding()+i.tickSize()+e+g,j=i.isHorizontal()?f+c:Math.max(f,c),k=j+2*i.tickPadding()+i.tickSize();return{height:k,width:h}},i.calculateLabelOverhang=function(){var b={top:0,bottom:0,left:0,right:0};if(!i.shouldDisplay()||i.isHorizontal()&&i.tickLabelRotation()%180===90||!i.isHorizontal()&&i.tickLabelRotation()%180===0)return b;var c=i.domain();if(0===c.length)return b;var d=new a.TextMeasurer(i.measureCanvas),e=i.tickLabelFormat()(c[0]),f=i.tickLabelFormat()(c[c.length-1]),g=d.measureText(e,i.tickLabelFont(),i.tickLabelRotation()),h=d.measureText(f,i.tickLabelFont(),i.tickLabelRotation()),j=a.utils.degreesToRadians(i.tickLabelRotation());switch(i.textAnchor()){case"start":case"end":g.width=Math.abs(g.width),g.height=Math.abs(g.height),h.width=Math.abs(h.width),h.height=Math.abs(h.height);break;case"middle":g.width=Math.ceil(Math.abs(.5*g.width)),g.height=Math.ceil(Math.abs(.5*g.height)),h.width=Math.ceil(Math.abs(.5*h.width)),h.height=Math.ceil(Math.abs(.5*h.height))}var k;return i.isHorizontal()?(k="start"===i.textAnchor()==Math.cos(j)>0,b.left=k&&"middle"!==i.textAnchor()?0:g.width,b.right=k||"middle"===i.textAnchor()?h.width:0):(k="start"===i.textAnchor()==Math.sin(j)<0,b.top=k||"middle"===i.textAnchor()?h.height:0,b.bottom=k&&"middle"!==i.textAnchor()?0:g.height),b},i.addSeries=function(a){i.series.push(a)},i.domain=function(){return i.axisRange()},i.tickLabelRotationTransform=function(){var b=i.tickPadding()+i.tickSize(),c=new a.TextMeasurer(i.measureCanvas),d=c.measureText("aa",i.tickLabelFont()),e=Math.ceil(d.height);return b="left"===i.orientation()||"top"===i.orientation()?-b:b,i.isHorizontal()?" rotate("+i.tickLabelRotation()+","+e/2+","+b+")":" rotate("+i.tickLabelRotation()+","+b+","+e/2+")"},i.axisPosition=function(){var a="translate(";if(i.isHorizontal()){var b=0,c="top"===i.orientation()?0:i.bounds[1];a+=b+","+c+")"}else{var d="left"===i.orientation()?0:i.bounds[0];a+=d+",0)"}return a},i.pixelValueForValue=function(a){return i.scale(a)},i.positionLabel=function(){i.isHorizontal()?i.labelElement.style("left",0).style(i.orientation(),0).style("width","100%").style("text-align","center"):i.labelElement.style(i.orientation(),"0").style("top","35%")},i.barPadding=function(a){return arguments.length?(A=d3.functor(a),i):A()},i.initializeScale=function(){i.scale.domain(i.domain()),g()},i.setupAxisView=function(b,c){B||(B=!0,i.initializeScale(),i.axis=d3.svg.axis(),i.axisElement=b.append("g"),i.axisElement.attr("class",a.constants.AxisClass).call(i.axis).selectAll("text").attr("class",a.constants.AxisTextClass),i.labelElement=c.append("div").attr("class",a.constants.AxisLabelClass).style("position","absolute"))},i.draw=function(a,b,c,d){if(i.bounds=a,i.isZoomable()||i.initializeScale(),i.shouldDisplay()){i.setupAxisView(b,c);var e=d?0:200,f=i.tickSize();("bottom"===i.orientation()||"right"===i.orientation())&&(f+=i.lineWidth());var g=i.tickValues();i.axis=d3.svg.axis().scale(i.scale).orient(i.orientation()).tickSize(f).tickPadding(i.tickPadding()).tickFormat(i.tickLabelFormat()).tickValues(g),i.axisElement.attr("transform",i.axisPosition()).style("stroke",i.tickColor()).style("stroke-width",i.tickWidth()).style("fill","none").transition().duration(e).call(i.axis),i.axisElement.selectAll("path.domain").style("stroke",i.lineColor()).style("stroke-width",i.lineWidth()).style("fill","none"),i.axisElement.selectAll("text").attr("transform",i.tickLabelRotationTransform).style("text-anchor",i.textAnchor()),i.axisElement.selectAll(".tick > text").style("font",i.tickLabelFont()).style("fill",i.tickLabelColor()),i.labelElement.style("font",i.axisTitleFont()).style("color",i.axisTitleColor()).text(i.title()),i.positionLabel(),i.shouldShowGridlines()&&i.gridlines.drawGridLines(b,g)}},i.tickLabelFont=function(a){return arguments.length?(r=a,i):r},i.axisTitleFont=function(a){return arguments.length?(t=a,i):t},i.tickLabelColor=function(a){return arguments.length?(s=d3.functor(a),i):s},i.axisTitleColor=function(a){return arguments.length?(u=d3.functor(a),i):u},i.isHorizontal=function(){return"h"===i.direction},i.isOrdered=function(a){return arguments.length?(k=d3.functor(a),i):k()},i.orderingFunction=function(a){return arguments.length?(l=a,i):l},i.shouldDisplay=function(a){return arguments.length?(z=a,i):z},i.hasReversedPosition=function(a){return arguments.length?(C=a,i):C},i.title=function(a){return arguments.length?(j=a,i):j},i.tickLabelFormat=function(a){return arguments.length?(f=a,i):f},i.lineWidth=function(a){return arguments.length?(o=a,i):o},i.lineColor=function(a){return arguments.length?(x=d3.functor(a),i):x},i.tickWidth=function(a){return arguments.length?(p=a,i):p},i.tickColor=function(a){return arguments.length?(y=d3.functor(a),i):y},i.orientation=function(a){return arguments.length?(d=d3.functor(a),i):d()},i.tickLabelRotation=function(a){return arguments.length?(q=a,i):q},i.tickSize=function(a){return arguments.length?(m=d3.functor(a),i):m()},i.tickPadding=function(a){return arguments.length?(n=d3.functor(a),i):n()},i.textAnchor=function(a){return arguments.length?(e=d3.functor(a),i):e()},i.tickLabelOrientation=function(a){return arguments.length?("tb"===a?q="90":"lr"===a&&(q="0"),v=d3.functor(a),i):v()},i.shouldShowGridlines=function(a){return arguments.length?(w=a,i):w},i.tickFrequency=function(b){if(!arguments.length)return null!=h?h:E.tickFrequency(i);if(0>=b)throw new Error(a.ErrorMessages.nonPositiveTickFrequencyException);return h=b,i},i.axisRange=function(a,b){if(!arguments.length)return E.domain(i);var c=d3.functor(a),d=d3.functor(b),e=d()<c();return i.rangeMinimum=e?d:c,i.rangeMaximum=e?c:d,i.scale.domain(E.axisRange(i,i.rangeMinimum(),i.rangeMaximum())),i},i.applyTheme(a.defaultTheme)},a.Axis.prototype.applyTheme=function(a){return this.tickSize(a.axisStyle.tickSize),this.tickPadding(a.axisStyle.tickPadding),this.lineColor(a.axisStyle.axisLineColor),this.lineWidth(a.axisStyle.axisLineWidth),this.tickColor(a.axisStyle.tickLineColor),this.tickWidth(a.axisStyle.tickLineWidth),this.tickLabelFont(a.axisStyle.tickLabelFont),this.tickLabelColor(a.axisStyle.tickLabelColor),this.axisTitleFont(a.axisStyle.axisTitleFont),this.axisTitleColor(a.axisStyle.axisTitleColor),this.shouldShowGridlines(a.axisStyle.shouldShowGridlines),this.gridlines.applyTheme(a),this}}(insight),function(a){a.AxisStrategy=function(){function b(a,b){var d,e=c.calculateTickValues(a,b),f=a.measureTickValues(e);return d=a.isHorizontal()?d3.max(f,function(a){return a.width}):d3.max(f,function(a){return a.height}),d*e.length}var c=this;c.domain=function(a){var b=a.rangeMinimum(),d=a.rangeMaximum();return b.valueOf()===d.valueOf()?a.scale.domain():a.isZoomable()&&!c.domainIsDefault(a.scale.domain())?a.scale.domain():[b,d]},c.axisRange=function(a,b,c){return[b,c]},c.domainIsDefault=function(b){return a.utils.arrayEquals(c.defaultDomain(),b)},c.defaultDomain=d3.functor([0,1]),c.initialTickValue=function(){return 0},c.calculateTickValues=function(a,b){for(var d=a.domain(),e=c.initialTickValue(a,b),f=[];e<=d[1]&&c.frequencyValue(b)>0;)f.push(e),e=c.nextTickValue(a,e,b);return f=f.filter(function(a){return a<=d[1]&&a>=d[0]})},c.tickValues=function(a){return c.calculateTickValues(a,a.tickFrequency())},c.tickFrequencyForDomain=function(a,d){for(var e=c.initialTickFrequency(a,d),f=d[1].valueOf()-d[0].valueOf(),g=0;Math.floor(f/c.frequencyValue(e))>10;)e=c.increaseTickFrequency(a,e,g),g++;var h=a.isHorizontal()?a.bounds[0]:a.bounds[1];if(0===h)return e;for(;b(a,e)>h;)e=c.increaseTickFrequency(a,e,g),g++;return e},c.frequencyValue=function(a){return a},c.initialTickFrequency=function(){return 1},c.increaseTickFrequency=function(a,b){return b+1},c.decreaseTickFrequency=function(a,b){return b-1},c.tickFrequency=function(a){return c.tickFrequencyForDomain(a,a.domain())},c.findMin=function(a){var b=d3.min(a.series,function(b){return b.findMin(a)});return b||0},c.findMax=function(a){var b=d3.max(a.series,function(b){return b.findMax(a)});return b||0},c.nextTickValue=function(a,b){return b},c.previousTickValue=function(a,b){return b}}}(insight),function(a){a.DateAxisStrategy=function(){a.AxisStrategy.call(this);var b=this,c=[a.DateFrequency.dateFrequencyForSeconds(1),a.DateFrequency.dateFrequencyForSeconds(5),a.DateFrequency.dateFrequencyForSeconds(15),a.DateFrequency.dateFrequencyForSeconds(30),a.DateFrequency.dateFrequencyForMinutes(1),a.DateFrequency.dateFrequencyForMinutes(5),a.DateFrequency.dateFrequencyForMinutes(15),a.DateFrequency.dateFrequencyForMinutes(30),a.DateFrequency.dateFrequencyForHours(1),a.DateFrequency.dateFrequencyForHours(6),a.DateFrequency.dateFrequencyForHours(12),a.DateFrequency.dateFrequencyForDays(1),a.DateFrequency.dateFrequencyForDays(2),a.DateFrequency.dateFrequencyForWeeks(1),a.DateFrequency.dateFrequencyForMonths(1),a.DateFrequency.dateFrequencyForMonths(3),a.DateFrequency.dateFrequencyForMonths(6),a.DateFrequency.dateFrequencyForYears(1),a.DateFrequency.dateFrequencyForYears(5),a.DateFrequency.dateFrequencyForYears(10),a.DateFrequency.dateFrequencyForYears(100)];b.tickFrequency=function(a){var c=a.domain(),d=c[0],e=c[1],f=d.valueOf()/1e3,g=e.valueOf()/1e3,h=b.tickFrequencyForDomain(a,[f,g]);return h},b.nextTickValue=function(a,b,c){var d=new Date(b);d.setYear(d.getFullYear()+c.getYears()),d.setMonth(d.getMonth()+c.getMonths()),d.setDate(d.getDate()+c.getDays()),d.setHours(d.getHours()+c.getHours()),d.setMinutes(d.getMinutes()+c.getMinutes()),d.setSeconds(d.getSeconds()+c.getSeconds());var e=b.getTimezoneOffset()-d.getTimezoneOffset();return 0!==e&&d.setMinutes(d.getMinutes()+e),d},b.previousTickValue=function(a,b,c){var d=new Date(b);d.setYear(d.getFullYear()-c.getYears()),d.setMonth(d.getMonth()-c.getMonths()),d.setDate(d.getDate()-c.getDays()),d.setHours(d.getHours()-c.getHours()),d.setMinutes(d.getMinutes()-c.getMinutes()),d.setSeconds(d.getSeconds()-c.getSeconds());var e=b.getTimezoneOffset()-d.getTimezoneOffset();return 0!==e&&d.setMinutes(d.getMinutes()+e),d},b.initialTickValue=function(a,b){var c=a.domain()[0];return b.roundDate(c)},b.frequencyValue=function(a){return a.toSeconds()},b.initialTickFrequency=function(){return a.DateFrequency.dateFrequencyForSeconds(1)},b.increaseTickFrequency=function(a,b,d){return c[d]},b.decreaseTickFrequency=function(a,b,d){return c[d-1]}},a.DateAxisStrategy.prototype=Object.create(a.AxisStrategy.prototype),a.DateAxisStrategy.prototype.constructor=a.DateAxisStrategy}(insight),function(a){a.LinearAxisStrategy=function(){a.AxisStrategy.call(this);var b=this;b.initialTickValue=function(a,b){var c=a.domain(),d=c[0];return Math.ceil(d/b)*b},b.nextTickValue=function(a,b,c){var d=b+c;return parseFloat(d.toPrecision(10))},b.previousTickValue=function(a,b,c){var d=b-c;return parseFloat(d.toPrecision(10))},b.initialTickFrequency=function(a,b){var c=b[1]-b[0];return 0===c?1:Math.pow(10,Math.floor(Math.log(c)/Math.LN10)-1)},b.increaseTickFrequency=function(a,b,c){return c%3===1?2.5*b:2*b},b.decreaseTickFrequency=function(a,b,c){return c%3===1?b/2.5:b/2},b.findMin=function(){return 0}},a.LinearAxisStrategy.prototype=Object.create(a.AxisStrategy.prototype),a.LinearAxisStrategy.prototype.constructor=a.LinearAxisStrategy}(insight),function(a){a.OrdinalAxisStrategy=function(){function b(b){var c=[];return b.series.forEach(function(a){c=c.concat(a.keys(b.orderingFunction()))}),c=a.utils.arrayUnique(c)}a.AxisStrategy.call(this);var c=this;c.domain=function(a){return c.axisRange(a,a.rangeMinimum(),a.rangeMaximum())},c.axisRange=function(a,c,d){var e=b(a),f=e.indexOf(c),g=e.indexOf(d);if(-1===f||-1===g)return e;if(f>g){var h=f;f=g,g=h}var i=e.slice(f,1+g);return i},c.defaultDomain=d3.functor([]),c.tickValues=function(a){return a.domain()},c.initialTickValue=function(a){return a.domain()[0]},c.nextTickValue=function(a,b){var c=a.domain(),d=c.indexOf(b);return-1===d||d===c.length-1?null:c[d+1]},c.previousTickValue=function(a,b){var c=a.domain(),d=c.indexOf(b);return-1===d||0===d?null:c[d-1]},c.findMin=function(a){var c=b(a);return c.length>0?c[0]:void 0},c.findMax=function(a){var c=b(a);return c.length>0?c[c.length-1]:void 0}},a.OrdinalAxisStrategy.prototype=Object.create(a.AxisStrategy.prototype),a.OrdinalAxisStrategy.prototype.constructor=a.OrdinalAxisStrategy}(insight),function(a,b){a.scales={},a.scales.Scale=function(a,b){var c=this;c.strategy=a,c.scale=b},a.scales.ordinal=new a.scales.Scale(new a.OrdinalAxisStrategy,b.scale.ordinal),a.scales.linear=new a.scales.Scale(new a.LinearAxisStrategy,b.scale.linear),a.scales.time=new a.scales.Scale(new a.DateAxisStrategy,b.time.scale)}(insight,d3),function(a){a.AxisGridlines=function(b){function c(){return d.parentAxis.orientation()}var d=this,e="#000",f=0;d.parentAxis=b,d.drawGridLines=function(a,b){{var g={"class":c(),fill:"none","shape-rendering":"crispEdges",stroke:e,"stroke-width":f};d.parentAxis}d.parentAxis.isHorizontal()?(g.x1=d.parentAxis.pixelValueForValue,g.x2=d.parentAxis.pixelValueForValue,g.y1=0,g.y2=d.parentAxis.bounds[1]):(g.x1=0,g.x2=d.parentAxis.bounds[0],g.y1=d.parentAxis.pixelValueForValue,g.y2=d.parentAxis.pixelValueForValue);var h=d.allGridlines(a).data(b);h.enter().append("line"),h.attr(g),h.exit().remove()},d.allGridlines=function(a){var b="line."+c();return a.selectAll(b)},d.lineColor=function(a){return arguments.length?(e=a,d):e},d.lineWidth=function(a){return arguments.length?(f=a,d):f},d.applyTheme(a.defaultTheme)},a.AxisGridlines.prototype.applyTheme=function(a){return this.lineWidth(a.axisStyle.gridlineWidth),this.lineColor(a.axisStyle.gridlineColor),this}}(insight),function(a){a.Series=function(b,c,d,e){function f(a){return a.key}function g(a){return a.key}function h(a){return a.value}function i(a){return a}function j(a){return h(a)}function k(b,c){var d="";return b.length&&(d=a.utils.arrayContains(b,c)?" selected":" notselected"),d}var l=this,m=null,n=b,o={x:0,y:-10};l.data=a.utils.isArray(c)?new a.DataProvider(c):c,l.x=d,l.y=e,l.name=b,l.colorClass=d3.functor("series-0"),l.animationDuration=300,l.topValues=null,l.classValues=[],l.valueAxis=e,l.keyAxis=d,l.selectedItems=[],d.addSeries(l),e.addSeries(l),l.shortClassName=function(){var b=l.name+"class",c=a.utils.alphaNumericString(b);return c},l.seriesClassName=function(){var a=[l.shortClassName()].concat(l.classValues).join(" ");return a},l.itemClassName=function(b){var c=a.utils.keySelector(g(b)),d=k(l.selectedItems,c),e=l.seriesClassName()+" "+c+d+" "+l.colorClass();return e},l.keys=function(a){return l.dataset(a).map(l.keyFunction())},l.mouseOver=function(a){var b=l.tooltipFunction(),c=i(b(a));l.tooltip.offset(l.tooltipOffset()),l.tooltip.show(this,c),d3.select(this).classed("active",!0)},l.mouseOut=function(){l.tooltip.hide(),d3.select(this).classed("active",!1)},l.click=function(a){var b=g(a);l.clickEvent(l.data,b)},l.tooltipFunction=function(a){return arguments.length?(j=a,l):j},l.findMin=function(a){var b=l.dataset(),c=a===l.x?l.keyFunction():l.valueFunction();return d3.min(b,c)},l.findMax=function(a){var b=a===l.keyAxis?l.keyFunction():l.valueFunction(),c=d3.max(l.dataset(),b);return c},l.orderFunction=function(a,b){return l.valueFunction()(a)-l.valueFunction()(b)},l.draw=function(){},l.keyFunction=function(a){return arguments.length?(f=a,l):f},l.groupKeyFunction=function(a){return arguments.length?(g=a,l):g},l.valueFunction=function(a){return arguments.length?(h=a,l):h},l.dataset=function(a){a=l.keyAxis.isOrdered()?a||l.keyAxis.orderingFunction()||l.orderFunction:null;var b=l.data.extractData(a,l.topValues);return m&&(b=b.filter(m)),b},l.tooltipOffset=function(a){return arguments.length?(o=a,l):o},l.filterFunction=function(a){return arguments.length?(m=a,l):m},l.tooltipFormat=function(a){return arguments.length?(i=a,l):i},l.top=function(a){return arguments.length?(l.topValues=a,l):l.topValues},l.title=function(a){return arguments.length?(n=a,l):n}},a.Series.prototype.clickEvent=function(){},a.Series.prototype.applyTheme=function(){return this}}(insight),function(a){a.PointSeries=function(b,c,d,e){a.Series.call(this,b,c,d,e);var f=d3.functor(3),g=this,h=function(){return d3.select(this).classed("selected")?.8:d3.select(this).classed("notselected")?.2:.5};g.cssClassName=d3.functor(a.constants.Point),g.classValues=[g.cssClassName()],g.yPosition=function(a){var b=g.y.scale(g.valueFunction()(a));return b||0},g.xPosition=function(a){var b=g.x.scale(g.keyFunction()(a));return b||0},g.selector=function(){return g.name+g.cssClassName()},g.draw=function(a,b){function c(a){return a.radius||0}g.tooltip=a.tooltip,g.selectedItems=a.selectedItems;var d=b?0:function(a,b){return 200+20*b},e=g.pointData(g.dataset()),f=a.plotArea.selectAll("circle."+g.shortClassName()).data(e,g.keyFunction());f.enter().append("circle").on("mouseover",g.mouseOver).on("mouseout",g.mouseOut).on("click",g.click),f.attr("class",g.itemClassName),f.transition().duration(d).attr("r",c).attr("cx",g.xPosition).attr("cy",g.yPosition).attr("opacity",g.pointOpacity()),f.exit().remove()},g.radiusFunction=function(a){return arguments.length?(f=d3.functor(a),g):f},g.pointOpacity=function(a){return arguments.length?(h=d3.functor(a),g):h}},a.PointSeries.prototype=Object.create(a.Series.prototype),a.PointSeries.prototype.constructor=a.PointSeries}(insight),function(a){a.BarSeries=function(b,c,d,e){function f(a,b){return 200+20*b}function g(){return d3.select(this).classed("notselected")?.5:1}a.Series.call(this,b,c,d,e);var h=this;h.valueAxis=void 0,h.keyAxis=void 0,h.classValues=[a.constants.BarGroupClass],h.isHorizontal=function(){return void 0},h.barLength=function(){return void 0},h.valuePosition=function(){return void 0},h.draw=function(b){function c(a){return h.keyAxis.scale.rangeBand(a)}function d(a){var b=c(a),d=b/p;return d}function e(a){var c=b.height()-b.margin().top-b.margin().bottom;return h.barLength(a,c)}function i(a){var b=h.keyAxis.scale.range(),c=b[r],d=t(a),e=c+d*(p-q-1);return r++,e}h.tooltip=b.tooltip,h.selectedItems=b.selectedItems;var j="g."+h.name+"."+a.constants.BarGroupClass,k="rect."+h.shortClassName(),l=h.dataset(),m=h.keyAxis.domain();l=l.filter(function(b){var c=h.keyFunction()(b);return a.utils.arrayContains(m,c)});{var n=b.plotArea.selectAll(j).data(l,h.keyFunction()),o=n.enter().append("g").classed(h.name,!0).classed(a.constants.BarGroupClass,!0);o.selectAll(k)}o.append("rect").attr("class",h.itemClassName).attr("in_series",h.name).attr("clip-path","url(#"+b.clipPath()+")").on("mouseover",h.mouseOver).on("mouseout",h.mouseOut).on("click",h.click);var p=b.countSeriesOfType(h),q=b.seriesIndexByType(h),r=0,s=h.isHorizontal()?d:e,t=h.isHorizontal()?e:d,u=h.isHorizontal()?h.valuePosition:i,v=h.isHorizontal()?i:h.valuePosition,w=n.selectAll(k);w.attr("class",h.itemClassName),w.transition().duration(f).attr("x",u).attr("y",v).attr("height",s).attr("width",t).style("opacity",g),n.exit().remove()}},a.BarSeries.prototype=Object.create(a.Series.prototype),a.BarSeries.prototype.constructor=a.BarSeries}(insight),function(a){a.MarkerSeries=function(b,c,d,e){a.Series.call(this,b,c,d,e);var f=this,g=5,h=1,i=0,j=!1;f.xPosition=function(a){var b=0;return f.isHorizontal()?b=f.x.scale(f.valueFunction()(a)):(b=f.x.scale(f.keyFunction()(a)),i=f.calculateOffset(a),b=1!==h?b+i:b),b},f.keys=function(){var a=f.keyFunction();return f.dataset().map(a)},f.calculateOffset=function(a){var b=f.isHorizontal()?f.markerHeight(a):f.markerWidth(a),c=f.isHorizontal()?f.y.scale.rangeBand(a):f.x.scale.rangeBand(a);return.5*(c-b)},f.yPosition=function(a){var b=0;return f.isHorizontal()?(b=f.y.scale(f.keyFunction()(a)),i=f.calculateOffset(a),b=1!==h?b+i:b):b=f.y.scale(f.valueFunction()(a)),b},f.isHorizontal=function(a){return arguments.length?(j=a,f):j},f.markerWidth=function(a){var b=0;return b=f.isHorizontal()?f.thickness():f.x.scale.rangeBand(a)*h},f.markerHeight=function(a){var b=0;return b=f.isHorizontal()?f.y.scale.rangeBand(a)*h:f.thickness()},f.draw=function(b){function c(a){a.yPos=0,a.xPos=0}function d(a,b){return 200+20*b}f.tooltip=b.tooltip,f.selectedItems=b.selectedItems;var e=(f.dataset().forEach(c),b.plotArea.selectAll("g."+a.constants.BarGroupClass+"."+f.name).data(f.dataset(),f.keyAccessor)),g=e.enter().append("g").attr("class",a.constants.BarGroupClass+" "+f.name),h=g.selectAll("rect.bar");h=g.append("rect").attr("class",f.itemClassName).attr("y",f.y.bounds[0]).attr("height",0).attr("fill",f.color).attr("clip-path","url(#"+b.clipPath()+")").on("mouseover",f.mouseOver).on("mouseout",f.mouseOut).on("click",f.click);var i=e.selectAll("."+f.name+"class");i.transition().duration(d).attr("y",f.yPosition).attr("x",f.xPosition).attr("width",f.markerWidth).attr("height",f.markerHeight).style("fill",f.color),e.exit().remove()},f.widthFactor=function(a){return arguments.length?(h=a,f):h},f.thickness=function(a){return arguments.length?(g=a,f):g}},a.MarkerSeries.prototype=Object.create(a.Series.prototype),a.MarkerSeries.prototype.constructor=a.MarkerSeries}(insight),function(a){a.BubbleSeries=function(b,c,d,e){a.PointSeries.call(this,b,c,d,e);var f=this;f.cssClassName=d3.functor(a.constants.Bubble),f.classValues=[f.cssClassName()],f.pointData=function(a){function b(a){return a.radius}var c=d3.max(a,f.radiusFunction()),d=(a.map(f.keyFunction()),a.map(f.valueFunction()),f.x.bounds[1]),e=f.y.bounds[0],g=Math.min(d/10,e/10);return a.forEach(function(a){var b=f.radiusFunction()(a);a.radius=0>=b?0:b*g/c}),a=a.concat().sort(function(a,c){return d3.descending(b(a),b(c))})}},a.BubbleSeries.prototype=Object.create(a.PointSeries.prototype),a.BubbleSeries.prototype.constructor=a.BubbleSeries}(insight),function(a){a.ScatterSeries=function(b,c,d,e){a.PointSeries.call(this,b,c,d,e);var f=this;f.cssClassName=d3.functor(a.constants.Scatter),f.classValues=[f.cssClassName()],f.pointData=function(a){return a.forEach(function(a){a.radius=Math.max(f.radiusFunction()(a),0)}),a},f.pointOpacity(1)},a.ScatterSeries.prototype=Object.create(a.PointSeries.prototype),a.ScatterSeries.prototype.constructor=a.ScatterSeries}(insight),function(a){a.RowSeries=function(b,c,d,e){a.BarSeries.call(this,b,c,d,e);var f=this;f.valueAxis=d,f.keyAxis=e,f.classValues=[a.constants.RowClass],f.isHorizontal=d3.functor(!0),f.barLength=function(a){var b=f.valueFunction()(a);return f.valueAxis.scale(b)},f.valuePosition=d3.functor(0)},a.RowSeries.prototype=Object.create(a.BarSeries.prototype),a.RowSeries.prototype.constructor=a.RowSeries}(insight),function(a){a.LineSeries=function(b,c,d,e){function f(){}function g(){}function h(){}a.Series.call(this,b,c,d,e);var i=this,j="linear",k=!0,l=3;i.classValues=[a.constants.LineClass],i.rangeY=function(a){return i.y.scale(i.valueFunction()(a))},i.rangeX=function(a){var b=0;return b=i.x.scale.rangeBand?i.x.scale(i.keyFunction()(a))+i.x.scale.rangeBand()/2:i.x.scale(i.keyFunction()(a))},i.rangeExists=function(a){return 0===a.length?0:a[0].length},i.draw=function(b,c){i.tooltip=b.tooltip;var d=d3.svg.line().x(i.rangeX).y(i.rangeY).interpolate(j),e=(i.dataset(),i.name+"line "+a.constants.LineClass),m="."+i.name+"line."+a.constants.LineClass,n="path"+m,o=b.plotArea.selectAll(n);i.rangeExists(o)||b.plotArea.append("path").attr("class",e+" "+i.colorClass()+" line-series").attr("fill","none").attr("clip-path","url(#"+b.clipPath()+")").on("mouseover",f).on("mouseout",g).on("click",h),o.style("stroke",i.color);var p=c?0:300;b.plotArea.selectAll(n).datum(i.dataset()).transition().duration(p).attr("d",d);var q=i.name+"line"+a.constants.LinePoint;if(q=a.utils.alphaNumericString(q),k){var r=b.plotArea.selectAll("circle").data(i.dataset());r.enter().append("circle").attr("class",i.colorClass()).attr("clip-path","url(#"+b.clipPath()+")").attr("cx",i.rangeX).attr("cy",b.height()-b.margin().bottom-b.margin().top).on("mouseover",i.mouseOver).on("mouseout",i.mouseOut)}var s=(k?i.color:d3.functor(void 0),b.plotArea.selectAll("circle"));s.transition().duration(p).attr("cx",i.rangeX).attr("cy",i.rangeY).attr("r",l).style("stroke-width",0)},i.shouldShowPoints=function(a){return arguments.length?(k=a,i):k},i.pointRadius=function(a){return arguments.length?(l=a,i):l},i.lineType=function(a){return arguments.length?(j=a,i):j},i.applyTheme(a.defaultTheme)},a.LineSeries.prototype=Object.create(a.Series.prototype),a.LineSeries.prototype.constructor=a.LineSeries,a.LineSeries.prototype.applyTheme=function(a){return this.lineType(a.seriesStyle.lineStyle),this.shouldShowPoints(a.seriesStyle.shouldShowPoints),this.pointRadius(a.seriesStyle.pointRadius),this}}(insight),function(a){a.ColumnSeries=function(b,c,d,e){a.BarSeries.call(this,b,c,d,e);var f=this;f.valueAxis=e,f.keyAxis=d,f.classValues=[a.constants.ColClass],f.isHorizontal=d3.functor(!1),f.orderFunction=function(a,b){return f.valueFunction()(b)-f.valueFunction()(a)},f.barLength=function(a,b){return b-f.valuePosition(a)},f.valuePosition=function(a){var b=f.valueFunction()(a);return f.valueAxis.scale(b)}},a.ColumnSeries.prototype=Object.create(a.BarSeries.prototype),a.ColumnSeries.prototype.constructor=a.ColumnSeries}(insight),"function"==typeof define&&define.amd&&define("insight",[],function(){return insight});