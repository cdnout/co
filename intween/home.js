/**
 * InTween 1.0.0-beta.7
 * @license MIT
 * Copyright 2021-present Jasper Palfree
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).InTween={})}(this,(function(t){"use strict";function n(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function r(){return r=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},r.apply(this,arguments)}function i(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n)}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}function u(t,n){return u=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},u(t,n)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function c(t,n,e){return c=a()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var i=new(Function.bind.apply(t,r));return e&&u(i,e.prototype),i},c.apply(null,arguments)}function s(t){var n="function"==typeof Map?new Map:void 0;return s=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return c(t,arguments,o(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,t)},s(t)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function p(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(e)return(e=e.call(t)).next.bind(e);if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return l(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h=function(t){return t},v=Function.prototype.toString.call(Object),d=Object.prototype.toString,b=function(t){return d.call(t).slice(8,-1)},y="undefined"==typeof window&&"undefined"!=typeof process?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now.bind(window.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},m=function(t,n,e){return t*(1-e)+n*e},g=function(t,n,e){var r=n-t;return r?(e-t)/r:1},w=function(t,n,e){return Math.min(Math.max(e,t),n)},_=function(t,n,e){return w(0,1,g(t,n,e))},O=function t(n){if("function"==typeof n)return n;var e=Array.isArray(n)?[]:{};for(var r in n){var i=n[r],o=b(i);e[r]="Array"===o||"Object"===o?t(i):"Date"===o?new Date(i.getTime()):i}return e},T=function(t){return null!==t&&"object"==typeof t},j=function(t){if(!T(t))return!1;var n=Object.getPrototypeOf(t);if(null===n)return!0;var e=hasOwnProperty.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&Function.prototype.toString.call(e)===v},S=function(t,n){var e={};for(var r in t){var i=t[r];n(i,r)&&(e[r]=i)}return e},I=function(t){return S(t,(function(t){return void 0!==t}))},x=function(t,n){var e={};for(var r in t)e[r]=n(t[r],r);return e},E=function(t,n){if(void 0===n&&(n=[]),!n)return r({},t);for(var e,i={},o=p(n);!(e=o()).done;){var u=e.value;i[u]=t[u]}return i},k=function(t,n,e,r){var i=0,o=t?t.length:i;for(n=(e=e||h)(n);i<o;){var u=i+o>>>1,a=e(t[u]);(r?a<=n:a<n)?i=u+1:o=u}return i},P=function(t,n){return Object.keys(t).filter(Object.prototype.hasOwnProperty.bind(n))};function A(t,n,e){var r=(n-t)/e,i=Math.floor(r),o=r-i;return(o+(o>.5?-1:o<-.5?1:0)+i)*e}var M=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=n.length;if(1===r)return n[0];var i=1/r;return function(t){var e=t*r,o=w(0,r-1,Math.floor(e));return(n[o](e-o)+o)*i}};function L(t){return 0===t.length?h:1===t.length?t[0]:function(n){return t.reduce((function(t,n){return n(t)}),n)}}function D(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return L(n)}var R="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function C(t,n){return t(n={exports:{}},n.exports),n.exports}var F,q,z=function(t){return t&&t.Math==Math&&t},N=z("object"==typeof globalThis&&globalThis)||z("object"==typeof window&&window)||z("object"==typeof self&&self)||z("object"==typeof R&&R)||function(){return this}()||Function("return this")(),B=N,G=function(t){return Object(function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}(t))},U={}.hasOwnProperty,V=Object.hasOwn||function(t,n){return U.call(G(t),n)},H="__core-js_shared__",W=N[H]||function(t,n){try{Object.defineProperty(N,t,{value:n,configurable:!0,writable:!0})}catch(e){N[t]=n}return n}(H,{}),$=C((function(t){(t.exports=function(t,n){return W[t]||(W[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.17.3",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),Y=0,J=Math.random(),X=function(t){return"function"==typeof t?t:void 0},K=function(t,n){return arguments.length<2?X(N[t]):N[t]&&N[t][n]},Q=K("navigator","userAgent")||"",Z=N.process,tt=N.Deno,nt=Z&&Z.versions||tt&&tt.version,et=nt&&nt.v8;et?q=(F=et.split("."))[0]<4?1:F[0]+F[1]:Q&&(!(F=Q.match(/Edge\/(\d+)/))||F[1]>=74)&&(F=Q.match(/Chrome\/(\d+)/))&&(q=F[1]);var rt=q&&+q,it=function(t){try{return!!t()}catch(t){return!0}},ot=!!Object.getOwnPropertySymbols&&!it((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&rt&&rt<41})),ut=ot&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,at=$("wks"),ct=N.Symbol,st=ut?ct:ct&&ct.withoutSetter||function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++Y+J).toString(36)},ft=function(t){return V(at,t)&&(ot||"string"==typeof at[t])||(ot&&V(ct,t)?at[t]=ct[t]:at[t]=st("Symbol."+t)),at[t]},lt={f:ft},pt=!it((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),ht=function(t){return"object"==typeof t?null!==t:"function"==typeof t},vt=N.document,dt=ht(vt)&&ht(vt.createElement),bt=!pt&&!it((function(){return 7!=Object.defineProperty((t="div",dt?vt.createElement(t):{}),"a",{get:function(){return 7}}).a;var t})),yt=function(t){if(!ht(t))throw TypeError(String(t)+" is not an object");return t},mt=ut?function(t){return"symbol"==typeof t}:function(t){var n=K("Symbol");return"function"==typeof n&&Object(t)instanceof n},gt=ft("toPrimitive"),wt=function(t,n){if(!ht(t)||mt(t))return t;var e,r=t[gt];if(void 0!==r){if(void 0===n&&(n="default"),e=r.call(t,n),!ht(e)||mt(e))return e;throw TypeError("Can't convert object to primitive value")}return void 0===n&&(n="number"),function(t,n){var e,r;if("string"===n&&"function"==typeof(e=t.toString)&&!ht(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!ht(r=e.call(t)))return r;if("string"!==n&&"function"==typeof(e=t.toString)&&!ht(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")}(t,n)},_t=Object.defineProperty,Ot={f:pt?_t:function(t,n,e){var r;if(yt(t),r=wt(n,"string"),n=mt(r)?r:String(r),yt(e),bt)try{return _t(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported");return"value"in e&&(t[n]=e.value),t}}.f;!function(t){var n=B.Symbol||(B.Symbol={});V(n,t)||Ot(n,t,{value:lt.f(t)})}("observable"),lt.f("observable");var Tt,jt,St=function(t){return t&&t.Math==Math&&t},It=St("object"==typeof globalThis&&globalThis)||St("object"==typeof window&&window)||St("object"==typeof self&&self)||St("object"==typeof R&&R)||function(){return this}()||Function("return this")(),xt=function(t){try{return!!t()}catch(t){return!0}},Et=!xt((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),kt={}.propertyIsEnumerable,Pt=Object.getOwnPropertyDescriptor,At={f:Pt&&!kt.call({1:2},1)?function(t){var n=Pt(this,t);return!!n&&n.enumerable}:kt},Mt=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},Lt={}.toString,Dt=function(t){return Lt.call(t).slice(8,-1)},Rt="".split,Ct=xt((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==Dt(t)?Rt.call(t,""):Object(t)}:Object,Ft=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},qt=function(t){return Ct(Ft(t))},zt=function(t){return"object"==typeof t?null!==t:"function"==typeof t},Nt={},Bt=function(t){return"function"==typeof t?t:void 0},Gt=function(t,n){return arguments.length<2?Bt(Nt[t])||Bt(It[t]):Nt[t]&&Nt[t][n]||It[t]&&It[t][n]},Ut=Gt("navigator","userAgent")||"",Vt=It.process,Ht=It.Deno,Wt=Vt&&Vt.versions||Ht&&Ht.version,$t=Wt&&Wt.v8;$t?jt=(Tt=$t.split("."))[0]<4?1:Tt[0]+Tt[1]:Ut&&(!(Tt=Ut.match(/Edge\/(\d+)/))||Tt[1]>=74)&&(Tt=Ut.match(/Chrome\/(\d+)/))&&(jt=Tt[1]);var Yt=jt&&+jt,Jt=!!Object.getOwnPropertySymbols&&!xt((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Yt&&Yt<41})),Xt=Jt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Kt=Xt?function(t){return"symbol"==typeof t}:function(t){var n=Gt("Symbol");return"function"==typeof n&&Object(t)instanceof n},Qt="__core-js_shared__",Zt=It[Qt]||function(t,n){try{Object.defineProperty(It,t,{value:n,configurable:!0,writable:!0})}catch(e){It[t]=n}return n}(Qt,{}),tn=C((function(t){(t.exports=function(t,n){return Zt[t]||(Zt[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.17.3",mode:"pure",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),nn=function(t){return Object(Ft(t))},en={}.hasOwnProperty,rn=Object.hasOwn||function(t,n){return en.call(nn(t),n)},on=0,un=Math.random(),an=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++on+un).toString(36)},cn=tn("wks"),sn=It.Symbol,fn=Xt?sn:sn&&sn.withoutSetter||an,ln=function(t){return rn(cn,t)&&(Jt||"string"==typeof cn[t])||(Jt&&rn(sn,t)?cn[t]=sn[t]:cn[t]=fn("Symbol."+t)),cn[t]},pn=ln("toPrimitive"),hn=function(t,n){if(!zt(t)||Kt(t))return t;var e,r=t[pn];if(void 0!==r){if(void 0===n&&(n="default"),e=r.call(t,n),!zt(e)||Kt(e))return e;throw TypeError("Can't convert object to primitive value")}return void 0===n&&(n="number"),function(t,n){var e,r;if("string"===n&&"function"==typeof(e=t.toString)&&!zt(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!zt(r=e.call(t)))return r;if("string"!==n&&"function"==typeof(e=t.toString)&&!zt(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")}(t,n)},vn=function(t){var n=hn(t,"string");return Kt(n)?n:String(n)},dn=It.document,bn=zt(dn)&&zt(dn.createElement),yn=function(t){return bn?dn.createElement(t):{}},mn=!Et&&!xt((function(){return 7!=Object.defineProperty(yn("div"),"a",{get:function(){return 7}}).a})),gn=Object.getOwnPropertyDescriptor,wn={f:Et?gn:function(t,n){if(t=qt(t),n=vn(n),mn)try{return gn(t,n)}catch(t){}if(rn(t,n))return Mt(!At.f.call(t,n),t[n])}},_n=/#|\.prototype\./,On=function(t,n){var e=jn[Tn(t)];return e==In||e!=Sn&&("function"==typeof n?xt(n):!!n)},Tn=On.normalize=function(t){return String(t).replace(_n,".").toLowerCase()},jn=On.data={},Sn=On.NATIVE="N",In=On.POLYFILL="P",xn=On,En=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},kn=function(t,n,e){if(En(t),void 0===n)return t;switch(e){case 0:return function(){return t.call(n)};case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)}}return function(){return t.apply(n,arguments)}},Pn=function(t){if(!zt(t))throw TypeError(String(t)+" is not an object");return t},An=Object.defineProperty,Mn={f:Et?An:function(t,n,e){if(Pn(t),n=vn(n),Pn(e),mn)try{return An(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported");return"value"in e&&(t[n]=e.value),t}},Ln=Et?function(t,n,e){return Mn.f(t,n,Mt(1,e))}:function(t,n,e){return t[n]=e,t},Dn=wn.f,Rn=function(t){var n=function(n,e,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,r)}return t.apply(this,arguments)};return n.prototype=t.prototype,n},Cn=function(t,n){var e,r,i,o,u,a,c,s,f=t.target,l=t.global,p=t.stat,h=t.proto,v=l?It:p?It[f]:(It[f]||{}).prototype,d=l?Nt:Nt[f]||Ln(Nt,f,{})[f],b=d.prototype;for(i in n)e=!xn(l?i:f+(p?".":"#")+i,t.forced)&&v&&rn(v,i),u=d[i],e&&(a=t.noTargetGet?(s=Dn(v,i))&&s.value:v[i]),o=e&&a?a:n[i],e&&typeof u==typeof o||(c=t.bind&&e?kn(o,It):t.wrap&&e?Rn(o):h&&"function"==typeof o?kn(Function.call,o):o,(t.sham||o&&o.sham||u&&u.sham)&&Ln(c,"sham",!0),Ln(d,i,c),h&&(rn(Nt,r=f+"Prototype")||Ln(Nt,r,{}),Ln(Nt[r],i,o),t.real&&b&&!b[i]&&Ln(b,i,o)))},Fn=ln("species"),qn=function(t,n,e,r){r&&r.enumerable?t[n]=e:Ln(t,n,e)},zn=function(t,n,e){for(var r in n)e&&e.unsafe&&t[r]?t[r]=n[r]:qn(t,r,n[r],e);return t},Nn={};Nn[ln("toStringTag")]="z";var Bn="[object z]"===String(Nn),Gn=ln("toStringTag"),Un="Arguments"==Dt(function(){return arguments}()),Vn=Bn?Dt:function(t){var n,e,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),Gn))?e:Un?Dt(n):"Object"==(r=Dt(n))&&"function"==typeof n.callee?"Arguments":r},Hn={},Wn=ln("iterator"),$n=function(t){if(null!=t)return t[Wn]||t["@@iterator"]||Hn[Vn(t)]},Yn=function(t,n){var e=arguments.length<2?$n(t):n;if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return Pn(e.call(t))},Jn=function(t){return null==t?void 0:En(t)},Xn=ln("iterator"),Kn=Array.prototype,Qn=Math.ceil,Zn=Math.floor,te=function(t){return isNaN(t=+t)?0:(t>0?Zn:Qn)(t)},ne=Math.min,ee=function(t){return t>0?ne(te(t),9007199254740991):0},re=function(t,n,e){var r,i;Pn(t);try{if(void 0===(r=t.return)){if("throw"===n)throw e;return e}r=r.call(t)}catch(t){i=!0,r=t}if("throw"===n)throw e;if(i)throw r;return Pn(r),e},ie=function(t,n){this.stopped=t,this.result=n},oe=function(t,n,e){var r,i,o,u,a,c,s,f,l=e&&e.that,p=!(!e||!e.AS_ENTRIES),h=!(!e||!e.IS_ITERATOR),v=!(!e||!e.INTERRUPTED),d=kn(n,l,1+p+v),b=function(t){return r&&re(r,"normal",t),new ie(!0,t)},y=function(t){return p?(Pn(t),v?d(t[0],t[1],b):d(t[0],t[1])):v?d(t,b):d(t)};if(h)r=t;else{if("function"!=typeof(i=$n(t)))throw TypeError("Target is not iterable");if(void 0!==(f=i)&&(Hn.Array===f||Kn[Xn]===f)){for(o=0,u=ee(t.length);u>o;o++)if((a=y(t[o]))&&a instanceof ie)return a;return new ie(!1)}r=Yn(t,i)}for(c=r.next;!(s=c.call(r)).done;){try{a=y(s.value)}catch(t){re(r,"throw",t)}if("object"==typeof a&&a&&a instanceof ie)return a}return new ie(!1)},ue=function(t,n){var e=It.console;e&&e.error&&(1===arguments.length?e.error(t):e.error(t,n))},ae=Function.toString;"function"!=typeof Zt.inspectSource&&(Zt.inspectSource=function(t){return ae.call(t)});var ce,se,fe,le=Zt.inspectSource,pe=It.WeakMap,he="function"==typeof pe&&/native code/.test(le(pe)),ve=tn("keys"),de=function(t){return ve[t]||(ve[t]=an(t))},be={},ye="Object already initialized",me=It.WeakMap;if(he||Zt.state){var ge=Zt.state||(Zt.state=new me),we=ge.get,_e=ge.has,Oe=ge.set;ce=function(t,n){if(_e.call(ge,t))throw new TypeError(ye);return n.facade=t,Oe.call(ge,t,n),n},se=function(t){return we.call(ge,t)||{}},fe=function(t){return _e.call(ge,t)}}else{var Te=de("state");be[Te]=!0,ce=function(t,n){if(rn(t,Te))throw new TypeError(ye);return n.facade=t,Ln(t,Te,n),n},se=function(t){return rn(t,Te)?t[Te]:{}},fe=function(t){return rn(t,Te)}}var je={set:ce,get:se,has:fe,enforce:function(t){return fe(t)?se(t):ce(t,{})},getterFor:function(t){return function(n){var e;if(!zt(n)||(e=se(n)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return e}}},Se=Mn.f,Ie=ln("observable"),xe=je.get,Ee=je.set,ke=function(t){var n=t.cleanup;if(n){t.cleanup=void 0;try{n()}catch(t){ue(t)}}},Pe=function(t){return void 0===t.observer},Ae=function(t){var n=t.facade;if(!Et){n.closed=!0;var e=t.subscriptionObserver;e&&(e.closed=!0)}t.observer=void 0},Me=function(t,n){var e,r=Ee(this,{cleanup:void 0,observer:Pn(t),subscriptionObserver:void 0});Et||(this.closed=!1);try{(e=Jn(t.start))&&e.call(t,this)}catch(t){ue(t)}if(!Pe(r)){var i=r.subscriptionObserver=new Le(this);try{var o=n(i),u=o;null!=o&&(r.cleanup="function"==typeof o.unsubscribe?function(){u.unsubscribe()}:En(o))}catch(t){return void i.error(t)}Pe(r)&&ke(r)}};Me.prototype=zn({},{unsubscribe:function(){var t=xe(this);Pe(t)||(Ae(t),ke(t))}}),Et&&Se(Me.prototype,"closed",{configurable:!0,get:function(){return Pe(xe(this))}});var Le=function(t){Ee(this,{subscription:t}),Et||(this.closed=!1)};Le.prototype=zn({},{next:function(t){var n=xe(xe(this).subscription);if(!Pe(n)){var e=n.observer;try{var r=Jn(e.next);r&&r.call(e,t)}catch(t){ue(t)}}},error:function(t){var n=xe(xe(this).subscription);if(!Pe(n)){var e=n.observer;Ae(n);try{var r=Jn(e.error);r?r.call(e,t):ue(t)}catch(t){ue(t)}ke(n)}},complete:function(){var t=xe(xe(this).subscription);if(!Pe(t)){var n=t.observer;Ae(t);try{var e=Jn(n.complete);e&&e.call(n)}catch(t){ue(t)}ke(t)}}}),Et&&Se(Le.prototype,"closed",{configurable:!0,get:function(){return Pe(xe(xe(this).subscription))}});var De=function(t){!function(t,n,e){if(!(t instanceof n))throw TypeError("Incorrect "+(e?e+" ":"")+"invocation")}(this,De,"Observable"),Ee(this,{subscriber:En(t)})};zn(De.prototype,{subscribe:function(t){var n=arguments.length;return new Me("function"==typeof t?{next:t,error:n>1?arguments[1]:void 0,complete:n>2?arguments[2]:void 0}:zt(t)?t:{},xe(this).subscriber)}}),zn(De,{from:function(t){var n="function"==typeof this?this:De,e=Jn(Pn(t)[Ie]);if(e){var r=Pn(e.call(t));return r.constructor===n?r:new n((function(t){return r.subscribe(t)}))}var i=Yn(t);return new n((function(t){oe(i,(function(n,e){if(t.next(n),t.closed)return e()}),{IS_ITERATOR:!0,INTERRUPTED:!0}),t.complete()}))},of:function(){for(var t="function"==typeof this?this:De,n=arguments.length,e=new Array(n),r=0;r<n;)e[r]=arguments[r++];return new t((function(t){for(var r=0;r<n;r++)if(t.next(e[r]),t.closed)return;t.complete()}))}}),Ln(De.prototype,Ie,(function(){return this})),Cn({global:!0},{Observable:De}),function(t){var n=Gt(t),e=Mn.f;Et&&n&&!n[Fn]&&e(n,Fn,{configurable:!0,get:function(){return this}})}("Observable");var Re={f:ln},Ce=Mn.f;!function(t){var n=Nt.Symbol||(Nt.Symbol={});rn(n,t)||Ce(n,t,{value:Re.f(t)})}("observable");var Fe,qe=Object.freeze({__proto__:null}),ze=function(t){if(Kt(t))throw TypeError("Cannot convert a Symbol value to a string");return String(t)},Ne=function(t){return function(n,e){var r,i,o=ze(Ft(n)),u=te(e),a=o.length;return u<0||u>=a?t?"":void 0:(r=o.charCodeAt(u))<55296||r>56319||u+1===a||(i=o.charCodeAt(u+1))<56320||i>57343?t?o.charAt(u):r:t?o.slice(u,u+2):i-56320+(r-55296<<10)+65536}},Be={codeAt:Ne(!1),charAt:Ne(!0)},Ge=Math.max,Ue=Math.min,Ve=function(t){return function(n,e,r){var i,o=qt(n),u=ee(o.length),a=function(t,n){var e=te(t);return e<0?Ge(e+n,0):Ue(e,n)}(r,u);if(t&&e!=e){for(;u>a;)if((i=o[a++])!=i)return!0}else for(;u>a;a++)if((t||a in o)&&o[a]===e)return t||a||0;return!t&&-1}},He={includes:Ve(!0),indexOf:Ve(!1)}.indexOf,We=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],$e=Object.keys||function(t){return function(t,n){var e,r=qt(t),i=0,o=[];for(e in r)!rn(be,e)&&rn(r,e)&&o.push(e);for(;n.length>i;)rn(r,e=n[i++])&&(~He(o,e)||o.push(e));return o}(t,We)},Ye=Et?Object.defineProperties:function(t,n){Pn(t);for(var e,r=$e(n),i=r.length,o=0;i>o;)Mn.f(t,e=r[o++],n[e]);return t},Je=Gt("document","documentElement"),Xe=de("IE_PROTO"),Ke=function(){},Qe=function(t){return"<script>"+t+"</"+"script>"},Ze=function(t){t.write(Qe("")),t.close();var n=t.parentWindow.Object;return t=null,n},tr=function(){try{Fe=new ActiveXObject("htmlfile")}catch(t){}var t,n;tr="undefined"!=typeof document?document.domain&&Fe?Ze(Fe):((n=yn("iframe")).style.display="none",Je.appendChild(n),n.src=String("javascript:"),(t=n.contentWindow.document).open(),t.write(Qe("document.F=Object")),t.close(),t.F):Ze(Fe);for(var e=We.length;e--;)delete tr.prototype[We[e]];return tr()};be[Xe]=!0;var nr,er,rr,ir=Object.create||function(t,n){var e;return null!==t?(Ke.prototype=Pn(t),e=new Ke,Ke.prototype=null,e[Xe]=t):e=tr(),void 0===n?e:Ye(e,n)},or=!xt((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),ur=de("IE_PROTO"),ar=Object.prototype,cr=or?Object.getPrototypeOf:function(t){return t=nn(t),rn(t,ur)?t[ur]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ar:null},sr=ln("iterator"),fr=!1;[].keys&&("next"in(rr=[].keys())?(er=cr(cr(rr)))!==Object.prototype&&(nr=er):fr=!0);var lr=null==nr||xt((function(){var t={};return nr[sr].call(t)!==t}));"function"!=typeof(nr=lr?{}:ir(nr))[sr]&&Ln(nr,sr,(function(){return this}));var pr={IteratorPrototype:nr,BUGGY_SAFARI_ITERATORS:fr},hr=Bn?{}.toString:function(){return"[object "+Vn(this)+"]"},vr=Mn.f,dr=ln("toStringTag"),br=function(t,n,e,r){if(t){var i=e?t:t.prototype;rn(i,dr)||vr(i,dr,{configurable:!0,value:n}),r&&!Bn&&Ln(i,"toString",hr)}},yr=pr.IteratorPrototype,mr=function(){return this};Object.setPrototypeOf||"__proto__"in{}&&function(){var t,n=!1,e={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),n=e instanceof Array}catch(t){}}();var gr=pr.BUGGY_SAFARI_ITERATORS,wr=ln("iterator"),_r="keys",Or="values",Tr="entries",jr=function(){return this},Sr=function(t,n,e,r,i,o,u){!function(t,n,e){var r=n+" Iterator";t.prototype=ir(yr,{next:Mt(1,e)}),br(t,r,!1,!0),Hn[r]=mr}(e,n,r);var a,c,s,f=function(t){if(t===i&&d)return d;if(!gr&&t in h)return h[t];switch(t){case _r:case Or:case Tr:return function(){return new e(this,t)}}return function(){return new e(this)}},l=n+" Iterator",p=!1,h=t.prototype,v=h[wr]||h["@@iterator"]||i&&h[i],d=!gr&&v||f(i),b="Array"==n&&h.entries||v;if(b&&(a=cr(b.call(new t)))!==Object.prototype&&a.next&&(br(a,l,!0,!0),Hn[l]=jr),i==Or&&v&&v.name!==Or&&(p=!0,d=function(){return v.call(this)}),u&&h[wr]!==d&&Ln(h,wr,d),Hn[n]=d,i)if(c={values:f(Or),keys:o?d:f(_r),entries:f(Tr)},u)for(s in c)(gr||p||!(s in h))&&qn(h,s,c[s]);else Cn({target:n,proto:!0,forced:gr||p},c);return c},Ir=Be.charAt,xr="String Iterator",Er=je.set,kr=je.getterFor(xr);Sr(String,"String",(function(t){Er(this,{type:xr,string:ze(t),index:0})}),(function(){var t,n=kr(this),e=n.string,r=n.index;return r>=e.length?{value:void 0,done:!0}:(t=Ir(e,r),n.index+=t.length,{value:t,done:!1})}));var Pr="Array Iterator",Ar=je.set,Mr=je.getterFor(Pr);Sr(Array,"Array",(function(t,n){Ar(this,{type:Pr,target:qt(t),index:0,kind:n})}),(function(){var t=Mr(this),n=t.target,e=t.kind,r=t.index++;return!n||r>=n.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==e?{value:r,done:!1}:"values"==e?{value:n[r],done:!1}:{value:[r,n[r]],done:!1}}),"values"),Hn.Arguments=Hn.Array;var Lr,Dr=ln("toStringTag");for(var Rr in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var Cr=It[Rr],Fr=Cr&&Cr.prototype;Fr&&Vn(Fr)!==Dr&&Ln(Fr,Dr,Rr),Hn[Rr]=Hn.Array}(Lr=qe)&&Lr.default;var qr=function(t){function n(n){return t.call(this,n||h)||this}i(n,t);var e=n.prototype;return e.pipe=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return L(n)(this)},e.lift=function(t){var e=this;return new n((function(n){return t.call(n,e)}))},e["@@observable"]=function(){return this},n}(Nt.Observable),zr=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(n=t.call.apply(t,[this].concat(r))||this).closed=!1,n.observers=[],n}i(n,t);var e=n.prototype;return e.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},e.next=function(t){if(this._throwIfClosed(),!this.isStopped)for(var n,e=p(this.observers.slice());!(n=e()).done;){n.value.next(t)}},e.error=function(t){if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;for(var n=this.observers;n.length;)n.shift().error(t)}},e.complete=function(){if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;for(var t=this.observers;t.length;)t.shift().complete()}},e.subscribe=function(t){var n=this,e=this.observers.push(t);return{unsubscribe:function(){n.observers.splice(e-1,1)}}},e._throwIfClosed=function(){if(this.closed)throw new Error("Subscription closed!")},n}(qr),Nr=function(t){return function(n){return new qr((function(e){return n.subscribe({next:function(n){try{n=t(n),e.next(n)}catch(t){e.error(t)}},error:function(t){e.error(t)},complete:function(){e.complete()}})}))}};function Br(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return new qr((function(t){if(0===n.length)return qr.from([]);var e=n.length,r=n.map((function(n){return qr.from(n).subscribe({next:function(n){t.next(n)},error:function(n){t.error(n)},complete:function(){0==--e&&t.complete()}})}));return function(){return r.forEach((function(t){return t.unsubscribe()}))}}))}function Gr(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return new qr((function(t){if(0===n.length)return qr.from([]);var e=n.length,r=new Set,i=!1,o=n.map((function(){})),u=n.map((function(u,a){return qr.from(u).subscribe({next:function(e){if(o[a]=e,!i){if(r.add(a),r.size!==n.length)return;r=null,i=!0}t.next(Array.from(o))},error:function(n){t.error(n)},complete:function(){0==--e&&t.complete()}})}));return function(){return u.forEach((function(t){return t.unsubscribe()}))}}))}var Ur=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return function(t){return new qr((function(e){var r=new zr,i=n.map((function(t){return t(r)})),o=Gr.apply(void 0,i).subscribe(e),u=t.subscribe(r);return function(){o.unsubscribe(),u.unsubscribe()}}))}},Vr=function(t){function n(){var n;return(n=t.call(this,"...args","return this._bound.__call__(...args)")||this)._bound=n.bind(f(n)),n._bound||f(n)}return i(n,t),n.prototype.__call__=function(){},n}(s(Function));function Hr(t){return t._priority_}var Wr=function(t){function n(n){var e;return(e=t.call(this,n)||this)._topics=e._topics||(e._topics={}),e}i(n,t);var e=n.prototype;return e.fromEvent=function(t,n){var e=this;return new qr((function(r){var i=function(t){return r.next(t)};return e.on(t,i,n),function(){e.off(t,i)}}))},e.on=function(t,n,e,r){if("object"==typeof t){for(var i in t)this.on(i,t[i],n,e);return this}var o=this._topics[t]||(this._topics[t]=[]),u=n;"object"==typeof e?((n=n.bind(e))._bindfn_=u,n._one_=u._one_,n._scope_=e):void 0===r&&(r=e),n._priority_=void 0===r?1:r;var a=k(o,n,Hr);return o.splice(a,0,n),this},e.off=function(t,n,e){if(!0===t)return this._topics={},this;if("object"==typeof t){for(var r in t)this.off(r,t[r],n);return this}var i=this._topics[t];if(!i)return this;if(!0===n)return this._topics[t]=[],this;for(var o=0,u=i.length;o<u;o++){var a=i[o];if(!(a._bindfn_!==n&&a!==n||e&&a._scope_!==e)){i.splice(o,1);break}}return this},e.emit=function(t,n){var e=this._topics[t],r=e&&e.length;if(!r)return this;var i={};for(i.topic=t;r--;){var o=e[r];o(n,i),o._one_&&e.splice(r,1)}return this},e.one=function(t,n,e){if("object"==typeof t){for(var r in t)this.one(r,t[r],n,e);return this}return n._one_=!0,this.on(t,n,e),this},n}(qr),$r=Object.freeze({__proto__:null,Callable:Vr,Emitter:Wr,identity:h,typeName:b,now:y,castArray:function(t){return Array.isArray(t)?t:[t]},lerp:m,invLerp:g,clamp:w,lerpClamped:function(t,n,e){return m(t,n,w(0,1,e))},invLerpClamped:_,cloneDeep:O,isObjectLike:T,isPlainObject:j,filterObjectValues:S,sanitizedObject:I,mapProperties:x,pick:E,mergeIntersecting:function(t,n){return r({},t,E(n,Object.keys(t)))},sortedIndex:k,getIntersectingPaths:P,pull:function(t,n){var e=t.indexOf(n);return t.splice(e,1),t},shortestModDist:A,combineEasing:M}),Yr=2*Math.PI,Jr=function(t,n){void 0===t&&(t=.1),void 0===n&&(n=.1);var e=n/4;t<1?t=1:e=n*Math.asin(1/t)/Yr;var r=Yr/n;return function(n){return 0===n?0:1===n?1:-t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*r)}},Xr=function(t,n){void 0===t&&(t=.1),void 0===n&&(n=.1);var e=n/4;t<1?t=1:e=n*Math.asin(1/t)/Yr;var r=Yr/n;return function(n){return 0===n?0:1===n?1:t*Math.pow(2,-10*n)*Math.sin((n-e)*r)+1}},Kr=function(t,n){void 0===t&&(t=.1),void 0===n&&(n=.1);var e=n/4;t<1?t=1:e=n*Math.asin(1/t)/Yr;var r=Yr/n;return function(n){return 0===n?0:1===n?1:(n*=2)<1?t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*r)*-.5:t*Math.pow(2,-10*(n-=1))*Math.sin((n-e)*r)*.5+1}},Qr=function(t){return void 0===t&&(t=1.70158),function(n){return n*n*((t+1)*n-t)}},Zr=function(t){return void 0===t&&(t=1.70158),function(n){return--n*n*((t+1)*n+t)+1}},ti=function(t){return void 0===t&&(t=1.70158),function(n){var e=1.525*t;return(n*=2)<1?n*n*((e+1)*n-e)*.5:.5*((n-=2)*n*((e+1)*n+e)+2)}},ni=function(t){return void 0===t&&(t=1),function(n){return 1/t*(1+(t*n|0))}},ei=Math.PI/2,ri=function(t){return t},ii=function(t){return t*t},oi=function(t){return t*(2-t)},ui=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},ai=function(t){return t*t*t},ci=function(t){return--t*t*t+1},si=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},fi=function(t){return t*t*t*t},li=function(t){return 1- --t*t*t*t},pi=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},hi=function(t){return t*t*t*t*t},vi=function(t){return--t*t*t*t*t+1},di=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},bi=function(t){return 1-Math.cos(t*ei)},yi=function(t){return Math.sin(t*ei)},mi=function(t){return.5*(1-Math.cos(Math.PI*t))},gi=function(t){return 0===t?0:Math.pow(1024,t-1)},wi=function(t){return 0===t?0:1-Math.pow(1024,-t)},_i=function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(1024,1-t))},Oi=Jr(),Ti=Xr(),ji=Kr(),Si=function(t){return 1-Math.sqrt(1-t*t)},Ii=function(t){return Math.sqrt(1- --t*t)},xi=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},Ei=function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)},ki=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},Pi=function(t){var n=!1;return t<.5?(t=1-2*t,n=!0):t=2*t-1,t<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,n?.5*(1-t):.5*t+.5},Ai=Qr(),Mi=Zr(),Li=ti(),Di=ni(),Ri=Object.freeze({__proto__:null,linear:ri,quadIn:ii,quadOut:oi,quadInOut:ui,cubicIn:ai,cubicOut:ci,cubicInOut:si,quartIn:fi,quartOut:li,quartInOut:pi,quintIn:hi,quintOut:vi,quintInOut:di,sinIn:bi,sinOut:yi,sinInOut:mi,expIn:gi,expOut:wi,expInOut:_i,elasticIn:Oi,elasticOut:Ti,elasticInOut:ji,circularIn:Si,circularOut:Ii,circularInOut:xi,bounceIn:Ei,bounceOut:ki,bounceInOut:Pi,backIn:Ai,backOut:Mi,backInOut:Li,step:Di}),Ci=Object.freeze({__proto__:null,makeElasticIn:Jr,makeElasticOut:Xr,makeElasticInOut:Kr,makeBackIn:Qr,makeBackOut:Zr,makeBackInOut:ti,makeSteps:ni,linear:ri,quadIn:ii,quadOut:oi,quadInOut:ui,cubicIn:ai,cubicOut:ci,cubicInOut:si,quartIn:fi,quartOut:li,quartInOut:pi,quintIn:hi,quintOut:vi,quintInOut:di,sinIn:bi,sinOut:yi,sinInOut:mi,expIn:gi,expOut:wi,expInOut:_i,elasticIn:Oi,elasticOut:Ti,elasticInOut:ji,circularIn:Si,circularOut:Ii,circularInOut:xi,bounceIn:Ei,bounceOut:ki,bounceInOut:Pi,backIn:Ai,backOut:Mi,backInOut:Li,step:Di}),Fi=function(t){return function(n,e,r){return r>=t?e:n}},qi=function(t){return function(n,e,r){return e.map((function(e,i){return t(n[i],e,r)}))}},zi=2*Math.PI,Ni=function(t,n,e){return m(t,n,e)},Bi=function(t,n,e){return t+A(t,n,zi)*e},Gi=function(t,n,e){return t+A(t,n,360)*e},Ui=qi(m),Vi=function(t,n,e){return x(t,(function(t,r){return m(t,n[r],e)}))},Hi=function(t,n,e){if(e<=0)return t;var r=0|m(0,n.length,e);return n.substr(0,r)},Wi=Fi(1),$i=Object.freeze({__proto__:null,linear:Ni,radians:Bi,degrees:Gi,array:Ui,object:Vi,string:Hi,toggle:Wi}),Yi=Object.freeze({__proto__:null,makeToggle:Fi,makeCyclic:function(t){return function(n,e,r){return n+A(n,e,t)*r}},makeForArray:qi,linear:Ni,radians:Bi,degrees:Gi,array:Ui,object:Vi,string:Hi,toggle:Wi});function Ji(t){if(null!=t){if("string"==typeof t){var n=t.replace(" ","").split("+");if(1!==n.length)return M.apply(void 0,n.map(Ji));if((t=n[0])in Ri)return Ri[t]}else if(t instanceof Function)return t;throw new Error('Unrecognized easing name "'+t+'"')}}function Xi(t){if(null==t)return!1;if(t instanceof Function)return t;if("string"==typeof t&&t in $i)return $i[t];throw new Error('Unrecognized interpolator name "'+t+'"')}var Ki={number:{type:"number",default:0,interpolator:Ni},string:{type:"string",default:"",interpolator:Hi},boolean:{type:"boolean",default:!1,interpolator:Wi},array:{type:"array",default:[],interpolator:Ui},object:{type:"object",default:{},interpolator:Vi}},Qi={};function Zi(t){if(null===t)throw new Error("Can not determine type of null value");var n=typeof t;if("string"===n)return t in Qi?t:"string";if("number"===n)return"number";if("boolean"===n)return"boolean";if(Array.isArray(t))return"array";var e=function(t){return Object.values(Qi).find((function(n){var e=n.constructor;return t instanceof e}))}(t);return e?e.type:"object"===n?"object":n}function to(t){if(null===t)throw new Error("Can not determine type of null value");if("string"==typeof t)return t;if(t===Number||"number"===t)return"number";if(t===Boolean||"boolean"===t)return"boolean";if(t===String)return"string";if(t===Array)return"array";var n,e=(n=t,Object.values(Qi).find((function(t){var e=t.constructor;return n===e})));return e?e.type:t===Object||"object"===t?"object":t}function no(t){var n=Ki[t]||Qi[t];if(!n)throw new Error("Unrecognized type "+t);return n}var eo=["value"].concat(Object.keys(no("object"))),ro="linear";function io(t,n,e){if("array"===t&&e&&e.length){var r=oo(e[0]);return qi(r.interpolator)}return Xi(n.interpolator)}function oo(t){var n,e,r,i,o;return!j(t)||void 0===t.value&&void 0===t.type?(i=no(r=Zi(t)),n=Ji(t.easing||ro),e=io(r,i,o=t)):(!function(t){if(Object.keys(t).filter((function(t){return eo.indexOf(t)<0})).length)throw new Error('Type definition contains extra keys. Does your definition use "type" as a property name?')}(t),i=no(r=to(t.type)||Zi(t.value)),o=t.value||i.default,n=Ji(t.easing||ro),e=Xi(t.interpolator)||io(r,i,o)),{type:r,easing:n,default:o,interpolator:e,def:t}}function uo(t){return x(t,oo)}function ao(t){for(var n={},e=0,r=Object.keys(t);e<r.length;e++){var i=r[e];n[i]=t[i].default}return n}var co=/([0-9.]+)(s|m|h)?/,so=/((\d\d):)?((\d\d):(\d\d))/;function fo(t,n,e){return t=parseFloat(t||0),n=parseFloat(n||0),e=parseFloat(e||0),Math.round(1e3*(3600*t+60*n+e))}function lo(t){if("string"!=typeof t)return t;var n=t.match(so);if(n)return fo(n[2],n[4],n[5]);if(n=t.match(co)){var e=(""+n[2]).toLowerCase();if(!n[1]||"s"===e)return fo(0,0,n[1]);if("m"===e)return fo(0,n[1],0);if("h"===e)return fo(n[1],0,0)}return 0}var po=/^((\d{1,3})(\.\d*)?)%$/,ho={endTime:function(t){if(void 0!==t)return lo(t)},startTime:lo,duration:function(t){if(void 0!==t)return po.test(t)?t:lo(t)},easing:Ji};function vo(t,n,e){if(!t)throw new Error("Can not create frame without state object");if("object"!=typeof t)throw new Error("States must be plain objects");t=O(t),n=function(t,n){var e=r({},n,I(t));for(var i in ho)e[i]=ho[i](e[i]);return e}(n||t.$meta,e),delete t.$meta;var i=po.exec(n.duration);return i?(n.implicit=!0,n.fractionalDuration=parseFloat(i[1])/100):void 0!==n.endTime?void 0!==n.startTime?n.duration=n.endTime-n.startTime:n.startTime=n.endTime-n.duration:n.endTime=n.startTime+n.duration,{state:t,meta:n}}function bo(t,n,e,r){return t(n,e,r)}function yo(t,n,e,r,i){if(r<=0)return O(n);if(r>=1)return O(e);var o=O(n);for(var u in e){var a=t[u],c=void 0;if(a){var s=(i=i||a.easing)(r);c=bo(a.interpolator,n[u],e[u],s)}else c=e[u];o[u]=c}return o}function mo(t,n){if(void 0===n&&(n=[]),!n.length)return[];var e=function(t){return t.time},i=ao(t),o=[],u=n.filter((function(t){return t.meta.implicit})).sort((function(t,n){return t.meta.endTime-n.meta.endTime}));n=n.filter((function(t){return!t.meta.implicit})),n.forEach((function(t){var n,r={type:"start",frame:t,time:t.meta.endTime-t.meta.duration},i={type:"end",frame:t,time:t.meta.endTime};r.end=i,i.start=r,n=k(o,i,e),o.splice(n,0,i),n=Math.min(n,k(o,r,e,!0)),o.splice(n,0,r)})),u.forEach((function(t){var n={type:"end",frame:t,time:t.meta.endTime},r=k(o,n,e),i=function(t,n,e){for(var r=n-1;r>=0;r--){var i=t[r];if("end"===i.type&&e!==i.time)return i.time}return 0}(o,r,n.time),u={type:"start",frame:t,time:m(n.time,i,t.meta.fractionalDuration)};u.end=n,n.start=u,o.splice(r,0,n),r=Math.min(r,k(o,u,e,!0)),o.splice(r,0,u)}));var a=i;o.forEach((function(t,n){if("end"===t.type){var e,i,o,u,c,s=(e=t.start.time,i=t.time,o=t.frame,u=a,c=o.state,{startTime:e,endTime:i,startState:E(u,Object.keys(c)),endState:c,easing:o.meta.easing,frame:o});t.transition=s,t.start.transition=s,a=r({},a,s.endState)}})),a=i,o.forEach((function(n){if("end"===n.type){var e=go(o,n.time);a=wo(t,e,n.time,a),n.state=a}}));var c=function(t){for(var n,e=[],r=t.length,i=0;i<r;i++){var o=t[i];"start"===o.type?e.push(o):(n=e.indexOf(o.start),e.splice(n,1));for(var u=e.length,a=0;a<u;a++)for(var c=e[a],s=a+1;s<u;s++){var f=P(c.transition.endState,e[s].transition.endState);if(f.length)return{paths:f,frames:[c.frame,e[s].frame]}}}return!1}(o);if(c)throw new Error("The following overlapping frames modify the same state paths:\npaths: "+c.paths+"\nframes: "+JSON.stringify(c.frames,null,2));return o}function go(t,n){for(var e,r=[],i=t.length,o=0;o<i;o++){var u=t[o];if(u.time>n)break;"start"===u.type?r.push(u):u.time!==n&&(e=r.indexOf(u.start),r.splice(e,1))}return r.map((function(t){return t.transition}))}function wo(t,n,e,r){return void 0===n&&(n=[]),void 0===e&&(e=0),void 0===r&&(r={}),n.reduce((function(n,r){var i=_(r.startTime,r.endTime,e);return Object.assign(n,yo(t,r.startState,r.endState,i,r.easing))}),O(r))}var _o=function(t){function n(){return t.apply(this,arguments)||this}i(n,t);var e=n.prototype;return e.at=function(t){return t},e.__call__=function(t){var n=this;return Nr((function(t){return n.at(t)}))(t)},n}(Vr),Oo={tweenDuration:"100%",easing:"linear"},To=function(t){function n(n,e){var r;return(r=t.call(this)||this).framesById={},r.frames=[],r.timeline=[],r._schema=uo(n),r._startingState=ao(r._schema),r._timeLabel=null,r._loop=!1,r.options=Object.assign({},Oo,e),r._refreshTimeline(),r}i(n,t),n.create=function(t,e){return new n(t,e)};var r=n.prototype;return r.withTime=function(t){return void 0===t&&(t="time"),this._timeLabel=t||null,this},r.by=function(t,n,e,r){var i={endTime:t};return"object"==typeof n?(r=e,e=n):i.duration=n,r&&(i.easing=r),this.to(e,i)},r.in=function(t,n,e,r){var i={endTime:this.duration+lo(t)};return"object"==typeof n?(r=e,e=n):i.duration=n,r&&(i.easing=r),this.to(e,i)},r.to=function(t,n){var e={};"string"==typeof n?e.easing=n:n&&Object.assign(e,n),void 0===e.startTime&&void 0===e.endTime&&(e.startTime=this.duration);var r=vo(t,e,{duration:this.options.tweenDuration,easing:this.options.easing});if(r.meta.id&&this.framesById[r.meta.id])throw new Error('Frame with id "'+r.meta.id+'" already defined');return r.meta.id&&(this.framesById[r.meta.id]=r),this.frames.push(r),this._refreshTimeline(),this},r.loop=function(t){return void 0===t&&(t=!0),this._loop=t,this},r._refreshTimeline=function(){return this.timeline=mo(this._schema,this.frames),this},r.getFrame=function(t){return this.framesById[t]},r.at=function(t){var n;if(this._loop&&(t%=this.duration),t>=this.duration){var e=this.timeline[this.timeline.length-1];n=O(e.state)}else{var r=go(this.timeline,t),i=function(t,n,e){for(var r=e,i=t.length,o=0;o<i;o++){var u=t[o];if(u.time>n)return r;"end"===u.type&&(r=u.state)}return r}(this.timeline,t,this._startingState);n=wo(this._schema,r,t,i)}if(this._timeLabel){if(void 0!==n[this._timeLabel])throw new Error('State already has a property that would be overriden by time variable "'+this._timeLabel+'"');n[this._timeLabel]=t}return n},e(n,[{key:"duration",get:function(){var t;return(null==(t=this.timeline[this.timeline.length-1])?void 0:t.time)||0}}]),n}(_o),jo={relaxDuration:500,relaxDelay:1e3,easing:"linear"},So=function(t){function n(n,e){var r;return(r=t.call(this)||this)._subject=new zr,r._tween=n,r.options=e,r.lastTime=0,r.defaults(),r.clear(),r}i(n,t),n.create=function(t,e){return new n(t,e)};var o=n.prototype;return o.freeze=function(t){return void 0===t&&(t=!0),this.frozen=t,this},o.relaxDelay=function(t){return this._relaxDelay=lo(void 0===t?this.options.relaxDelay:t),this},o.relaxDuration=function(t){return this._relaxDuration=lo(void 0===t?this.options.relaxDuration:t),this},o.easing=function(t){return this._easing=Ji(void 0===t?this.options.easing:t),this},o.defaults=function(){return this.relaxDelay(),this.relaxDuration(),this.easing(),this},o.set=function(t){return this.state=r({},this.state,t),this.started=!1,this.startTime=!1,this.relaxState=null,this.active=!0,this._subject.next(this.lastTime),this},o.clear=function(){return this.state={},this.started=!1,this.active=!1,this.frozen=!1,this.startTime=!1,this.lastTime=0,this},o.at=function(t){if(this.lastTime=t,!this.active||this.frozen)return Object.assign({},this.state);if(this.started||(this.startTime=t,this.started=!0,this.endTime=this.startTime+this._relaxDelay+this._relaxDuration,this.relaxState=E(this._tween.at(this.endTime),Object.keys(this.state))),this.startTime===t)return Object.assign({},this.state);(t>=this.endTime||t<this.startTime)&&this.clear(),t>this.totalTime&&this.clear();var n=_(this.startTime+this._relaxDelay,this.endTime,t);return yo(this._tween._schema,this.state,this.relaxState,n,this._easing)},o.__call__=function(t){var n=this;return Nr((function(t){return n.at(t)}))(Br(this._subject,t))},e(n,[{key:"options",get:function(){return this._options},set:function(t){this._options=Object.assign({},jo,t),this.defaults()}}]),n}(_o),Io=function(t){return t.requestAnimationFrame||function(t){var n=setTimeout(t,16);return n.unref&&n.unref(),n}}("undefined"!=typeof window?window:void 0!==R?R:"undefined"!=typeof self?self:{}),xo=[];function Eo(){var t=xo.length;if(0!==t){Io(Eo);for(var n=y(),e=0;e<t;e++){var r=xo[e];r&&r(n)}}}function ko(){return new qr((function(t){var n,e=y(),r=function(n){return t.next(n-e)};return n=r,xo.push(n),1===xo.length&&Eo(),function(){!function(t){var n=xo.indexOf(t);xo.splice(n,1)}(r)}}))}var Po={duration:1e3,easing:"cubicOut"};var Ao=function(t){function n(n){var e;return(e=t.call(this,(function(t){var n=function(n){return t.next(n)};return e.on("update",n),e.emit("update",e._time),function(){return e.off("update",n)}}))||this).totalTime=lo(n),e._clockTime=0,e._time=0,e.playbackRate=1,e._paused=!0,e._loop=!1,e._sub=ko().subscribe((function(t){return e.step(t)})),e}i(n,t),n.create=function(t){return new n(t)};var r=n.prototype;return r.destroy=function(){this.off(!0),this._sub.unsubscribe(),this.emit("destroy")},r.togglePause=function(t){return void 0===t&&(t=!this._paused),this._paused=!!t,this._paused?this.emit("pause"):this.emit("play"),this.emit("togglePause",this._paused),this},r.pause=function(){return this.togglePause(!0)},r.play=function(){return this.togglePause(!1)},r.loop=function(t){return void 0===t&&(t=!0),this._loop=t,this},r.playTo=function(t){return t=lo(t),this._time===t?this:(this._playToTime=t,this._oldPlaybackRate=this.playbackRate,this.playbackRate=t>=this._time?1:-1,this.play())},r.seek=function(t){return this._time=t,this.emit("update",t),this.emit("seek",t),this},r.step=function(t){var n=this._clockTime,e=this.playbackRate,r=t-n,i=this._time,o=this.totalTime;return this._clockTime=t,this._paused||(i+=r*e,!1!==this._playToTime&&e*i>=e*this._playToTime&&(this.togglePause(!0),i=this._playToTime,this.playbackRate=this._oldPlaybackRate,this._playToTime=!1),this._time=i,e>0&&i>=o?this._loop?(this._time=i=0,this.emit("update",i),this.emit("end")):(this._time=i=o,this.emit("update",i),this.togglePause(!0),this.emit("end")):e<0&&i<=0?this._loop?(this._time=i=o,this.emit("update",i),this.emit("end")):(this._time=i=0,this.emit("update",i),this.togglePause(!0),this.emit("end")):this.emit("update",i)),this},e(n,[{key:"progress",get:function(){return this.totalTime>0?this._time/this.totalTime*100:0},set:function(t){this.seek(Math.max(0,t)*this.totalTime/100)}},{key:"time",get:function(){return this._time},set:function(t){this.seek(t)}},{key:"paused",get:function(){return this._paused},set:function(t){this.togglePause(t)}}]),n}(Wr),Mo=function(t,n){return void 0===n&&(n=!1),function(e){return new qr((function(r){var i=!1,o=null,u=!1,a=t.subscribe({next:function(){n&&!i||(r.next(o),i=!1,u&&(r.complete(),a.unsubscribe()))},complete:function(){r.complete()},error:function(t){r.error(t)}}),c=e.subscribe({next:function(t){o=t,i=!0},complete:function(){u=!0},error:function(t){r.error(t),i=!1,o=null,a.unsubscribe()}});return function(){c.unsubscribe(),a.unsubscribe()}}))}},Lo=Object.freeze({__proto__:null,parseTime:lo,parseEasing:Ji,parseInterpolator:Xi});t.Easing=Ci,t.Interpolators=Yi,t.Meddle=So,t.Observable=qr,t.Parsers=Lo,t.Player=Ao,t.Subject=zr,t.Tween=To,t.Util=$r,t.animationFrames=ko,t.animationSync=function(t){return void 0===t&&(t={}),function(n){return new qr((function(e){var r=0,i=!1,o=!1,u=0,a=0,c=!0,s=ko().subscribe((function(n){var f=Number.isFinite(t.playbackRate)?t.playbackRate:1,l=!c&&0!==f,p=t.threshold||83.33333333333333,h=n;l?(h=a+(n-u)*f,Math.abs(h-r)>p&&(i?h=r:c=!0),i=!1):h=i?r:a;u=n,h!==a&&(a=h,e.next(h)),o&&(e.complete(),s.unsubscribe())})),f=n.subscribe({next:function(t){c=t===r,r=t,i=!0},complete:function(){o=!0},error:function(t){e.error(t),s.unsubscribe()}});return function(){f.unsubscribe(),s.unsubscribe()}}))}},t.animationThrottle=function(){return function(t){return Mo(ko(),!0)(t)}},t.combineLatest=Gr,t.map=Nr,t.merge=Br,t.pipe=D,t.pipeFromArray=L,t.registerType=function(t){var n=t.type,e=t.interpolator;if(!n||!e||void 0===t.default)throw new Error('Custom types must have "type", "default", and "interpolator" specified');if(Qi[n])throw new Error('Custom type "'+n+'" is already registered');Qi[n]={type:n,interpolator:e,default:t.default},t.default.constructor&&(Qi[n].constructor=t.default.constructor)},t.regulatedBy=Mo,t.smoothen=function(t,n,e){return void 0===e&&(e=null),t instanceof Function&&(n=t,t=Po),t=Object.assign({},Po,t),function(i){return new qr((function(o){var u,a,c=[],s=0,f=Ji(t.easing);n||(n=function(){return a});var l=null,p=ko().subscribe((function(i){l&&(!function(i){if(u||(u=uo(e||n()||i),a=ao(u),e)){var o=c.length,f=o?c[o-1].targetState:r({},n());c.push({startTime:s,endTime:s+lo(t.duration),startState:f,targetState:i})}}(l),l=null);var p=function(t){if(s=t,!c.length)return null;var n=1,e=c.map((function(t){var e=t.startTime,r=t.endTime;if(0===n)return 0;var i=_(e,r,s)/n;return n=f(i),i}));for(a=e.reduceRight((function(t,n,e){var r=c[e].startState;return yo(u,r,t,n,f)}),c[c.length-1].targetState);(null==(r=c[0])?void 0:r.endTime)<=s;){var r;c.shift()}return a}(i);p&&o.next(p)})),h=i.subscribe({next:function(t){l=t},error:function(t){return o.error(t)},complete:function(){return o.complete()}});return{unsubscribe:function(){p.unsubscribe(),h.unsubscribe()}}}))}},t.spreadAssign=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return function(t){return D(Nr((function(t){return Object.assign.apply(Object,[{}].concat(t))})))(Ur.apply(void 0,n)(t))}},t.spreadCombineLatest=Ur,t.zip=function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return new qr((function(t){if(0===n.length)return qr.from([]);var e=n.map((function(){return[]}));function r(){return e.some((function(t,n){return 0===t.length&&i[n].closed}))}var i=n.map((function(n,i){return qr.from(n).subscribe({next:function(n){e[i].push(n),e.every((function(t){return t.length>0}))&&(t.next(e.map((function(t){return t.shift()}))),r()&&t.complete())},error:function(n){t.error(n)},complete:function(){r()&&t.complete()}})}));return function(){return i.forEach((function(t){return t.unsubscribe()}))}}))},Object.defineProperty(t,"__esModule",{value:!0})}));
