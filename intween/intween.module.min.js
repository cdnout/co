function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _extends(){return(_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r,n=arguments[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),_setPrototypeOf(t.prototype.constructor=t,e)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _construct(t,e,r){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);n=new(Function.bind.apply(t,n));return r&&_setPrototypeOf(n,r.prototype),n}).apply(null,arguments)}function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function _wrapNativeSuper(t){var r="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,e)}function e(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(e,t)})(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(r="Object"===r&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _createForOfIteratorHelperLoose(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var identity=function(t){return t},objectCtorString=Function.prototype.toString.call(Object),toString$1=Object.prototype.toString,typeName=function(t){return toString$1.call(t).slice(8,-1)},now="undefined"==typeof window&&"undefined"!=typeof process?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now.bind(window.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},castArray=function(t){return Array.isArray(t)?t:[t]},lerp=function(t,e,r){return t*(1-r)+e*r},invLerp=function(t,e,r){e-=t;return e?(r-t)/e:1},clamp=function(t,e,r){return Math.min(Math.max(r,t),e)},lerpClamped=function(t,e,r){return lerp(t,e,clamp(0,1,r))},invLerpClamped=function(t,e,r){return clamp(0,1,invLerp(t,e,r))},cloneDeep=function t(e){if("function"==typeof e)return e;var r,n=Array.isArray(e)?[]:{};for(r in e){var o=e[r],i=typeName(o);n[r]="Array"===i||"Object"===i?t(o):"Date"===i?new Date(o.getTime()):o}return n},isObjectLike=function(t){return null!==t&&"object"==typeof t},isPlainObject=function(t){if(!isObjectLike(t))return!1;t=Object.getPrototypeOf(t);if(null===t)return!0;t=hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof t&&t instanceof t&&Function.prototype.toString.call(t)===objectCtorString},filterObjectValues=function(t,e){var r,n={};for(r in t){var o=t[r];e(o,r)&&(n[r]=o)}return n},sanitizedObject=function(t){return filterObjectValues(t,function(t){return void 0!==t})},mapProperties=function(t,e){var r,n={};for(r in t)n[r]=e(t[r],r);return n},pick=function(t,e){if(!(e=void 0===e?[]:e))return _extends({},t);for(var r={},n=_createForOfIteratorHelperLoose(e);!(o=n()).done;){var o=o.value;r[o]=t[o]}return r},mergeIntersecting=function(t,e){return _extends({},t,pick(e,Object.keys(t)))},sortedIndex=function(t,e,r,n){var o=0,i=t?t.length:o;for(e=(r=r||identity)(e);o<i;){var a=o+i>>>1,u=r(t[a]);(n?u<=e:u<e)?o=1+a:i=a}return o},getIntersectingPaths=function(t,e){return Object.keys(t).filter(Object.prototype.hasOwnProperty.bind(e))},pull=function(t,e){e=t.indexOf(e);return t.splice(e,1),t};function shortestModDist(t,e,r){e=(e-t)/r,t=Math.floor(e),e-=t;return(e+(.5<e?-1:e<-.5?1:0)+t)*r}var combineEasing=function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=r.length;if(1===n)return r[0];var o=1/n;return function(t){var e=t*n,t=clamp(0,n-1,Math.floor(e));return(r[t](e-t)+t)*o}};function pipeFromArray(e){return 0===e.length?identity:1===e.length?e[0]:function(t){return e.reduce(function(t,e){return e(t)},t)}}function pipe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return pipeFromArray(e)}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var match$1,version$1,check$1=function(t){return t&&t.Math==Math&&t},global_1$1=check$1("object"==typeof globalThis&&globalThis)||check$1("object"==typeof window&&window)||check$1("object"==typeof self&&self)||check$1("object"==typeof commonjsGlobal&&commonjsGlobal)||function(){return this}()||Function("return this")(),path$1=global_1$1,requireObjectCoercible$1=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},toObject$1=function(t){return Object(requireObjectCoercible$1(t))},hasOwnProperty$2={}.hasOwnProperty,has$2=Object.hasOwn||function(t,e){return hasOwnProperty$2.call(toObject$1(t),e)},setGlobal$1=function(e,r){try{Object.defineProperty(global_1$1,e,{value:r,configurable:!0,writable:!0})}catch(t){global_1$1[e]=r}return r},SHARED$1="__core-js_shared__",store$2=global_1$1[SHARED$1]||setGlobal$1(SHARED$1,{}),sharedStore$1=store$2,shared$1=createCommonjsModule(function(t){(t.exports=function(t,e){return sharedStore$1[t]||(sharedStore$1[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.17.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),id$1=0,postfix$1=Math.random(),uid$1=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++id$1+postfix$1).toString(36)},aFunction$2=function(t){return"function"==typeof t?t:void 0},getBuiltIn$1=function(t,e){return arguments.length<2?aFunction$2(global_1$1[t]):global_1$1[t]&&global_1$1[t][e]},engineUserAgent$1=getBuiltIn$1("navigator","userAgent")||"",process$2=global_1$1.process,Deno$1=global_1$1.Deno,versions$1=process$2&&process$2.versions||Deno$1&&Deno$1.version,v8$1=versions$1&&versions$1.v8;v8$1?version$1=(match$1=v8$1.split("."))[0]<4?1:match$1[0]+match$1[1]:engineUserAgent$1&&(!(match$1=engineUserAgent$1.match(/Edge\/(\d+)/))||74<=match$1[1])&&(match$1=engineUserAgent$1.match(/Chrome\/(\d+)/))&&(version$1=match$1[1]);var engineV8Version$1=version$1&&+version$1,fails$1=function(t){try{return!!t()}catch(t){return!0}},nativeSymbol$1=!!Object.getOwnPropertySymbols&&!fails$1(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&engineV8Version$1&&engineV8Version$1<41}),useSymbolAsUid$1=nativeSymbol$1&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,WellKnownSymbolsStore$1=shared$1("wks"),Symbol$2=global_1$1.Symbol,createWellKnownSymbol$1=useSymbolAsUid$1?Symbol$2:Symbol$2&&Symbol$2.withoutSetter||uid$1,wellKnownSymbol$1=function(t){return has$2(WellKnownSymbolsStore$1,t)&&(nativeSymbol$1||"string"==typeof WellKnownSymbolsStore$1[t])||(nativeSymbol$1&&has$2(Symbol$2,t)?WellKnownSymbolsStore$1[t]=Symbol$2[t]:WellKnownSymbolsStore$1[t]=createWellKnownSymbol$1("Symbol."+t)),WellKnownSymbolsStore$1[t]},f$5=wellKnownSymbol$1,wellKnownSymbolWrapped$1={f:wellKnownSymbol$1},descriptors$1=!fails$1(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),isObject$1=function(t){return"object"==typeof t?null!==t:"function"==typeof t},document$2=global_1$1.document,EXISTS$1=isObject$1(document$2)&&isObject$1(document$2.createElement),documentCreateElement$1=function(t){return EXISTS$1?document$2.createElement(t):{}},ie8DomDefine$1=!descriptors$1&&!fails$1(function(){return 7!=Object.defineProperty(documentCreateElement$1("div"),"a",{get:function(){return 7}}).a}),anObject$1=function(t){if(!isObject$1(t))throw TypeError(String(t)+" is not an object");return t},isSymbol$1=useSymbolAsUid$1?function(t){return"symbol"==typeof t}:function(t){var e=getBuiltIn$1("Symbol");return"function"==typeof e&&Object(t)instanceof e},ordinaryToPrimitive$1=function(t,e){var r,n;if("string"===e&&"function"==typeof(r=t.toString)&&!isObject$1(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!isObject$1(n=r.call(t)))return n;if("string"!==e&&"function"==typeof(r=t.toString)&&!isObject$1(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},TO_PRIMITIVE$1=wellKnownSymbol$1("toPrimitive"),toPrimitive$1=function(t,e){if(!isObject$1(t)||isSymbol$1(t))return t;var r=t[TO_PRIMITIVE$1];if(void 0===r)return ordinaryToPrimitive$1(t,e=void 0===e?"number":e);if(e=r.call(t,e=void 0===e?"default":e),!isObject$1(e)||isSymbol$1(e))return e;throw TypeError("Can't convert object to primitive value")},toPropertyKey$1=function(t){t=toPrimitive$1(t,"string");return isSymbol$1(t)?t:String(t)},$defineProperty$1=Object.defineProperty,f$4=descriptors$1?$defineProperty$1:function(t,e,r){if(anObject$1(t),e=toPropertyKey$1(e),anObject$1(r),ie8DomDefine$1)try{return $defineProperty$1(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t},objectDefineProperty$1={f:f$4},defineProperty$3=objectDefineProperty$1.f,defineWellKnownSymbol$1=function(t){var e=path$1.Symbol||(path$1.Symbol={});has$2(e,t)||defineProperty$3(e,t,{value:wellKnownSymbolWrapped$1.f(t)})};defineWellKnownSymbol$1("observable"),wellKnownSymbolWrapped$1.f("observable");var match,version,check=function(t){return t&&t.Math==Math&&t},global_1=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof commonjsGlobal&&commonjsGlobal)||function(){return this}()||Function("return this")(),fails=function(t){try{return!!t()}catch(t){return!0}},descriptors=!fails(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),$propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$1&&!$propertyIsEnumerable.call({1:2},1),f$3=NASHORN_BUG?function(t){t=getOwnPropertyDescriptor$1(this,t);return!!t&&t.enumerable}:$propertyIsEnumerable,objectPropertyIsEnumerable={f:f$3},createPropertyDescriptor=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},toString={}.toString,classofRaw=function(t){return toString.call(t).slice(8,-1)},split="".split,indexedObject=fails(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==classofRaw(t)?split.call(t,""):Object(t)}:Object,requireObjectCoercible=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},toIndexedObject=function(t){return indexedObject(requireObjectCoercible(t))},isObject=function(t){return"object"==typeof t?null!==t:"function"==typeof t},path={},aFunction$1=function(t){return"function"==typeof t?t:void 0},getBuiltIn=function(t,e){return arguments.length<2?aFunction$1(path[t])||aFunction$1(global_1[t]):path[t]&&path[t][e]||global_1[t]&&global_1[t][e]},engineUserAgent=getBuiltIn("navigator","userAgent")||"",process$1=global_1.process,Deno=global_1.Deno,versions=process$1&&process$1.versions||Deno&&Deno.version,v8=versions&&versions.v8;v8?version=(match=v8.split("."))[0]<4?1:match[0]+match[1]:engineUserAgent&&(!(match=engineUserAgent.match(/Edge\/(\d+)/))||74<=match[1])&&(match=engineUserAgent.match(/Chrome\/(\d+)/))&&(version=match[1]);var engineV8Version=version&&+version,nativeSymbol=!!Object.getOwnPropertySymbols&&!fails(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&engineV8Version&&engineV8Version<41}),useSymbolAsUid=nativeSymbol&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,isSymbol=useSymbolAsUid?function(t){return"symbol"==typeof t}:function(t){var e=getBuiltIn("Symbol");return"function"==typeof e&&Object(t)instanceof e},ordinaryToPrimitive=function(t,e){var r,n;if("string"===e&&"function"==typeof(r=t.toString)&&!isObject(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!isObject(n=r.call(t)))return n;if("string"!==e&&"function"==typeof(r=t.toString)&&!isObject(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},setGlobal=function(e,r){try{Object.defineProperty(global_1,e,{value:r,configurable:!0,writable:!0})}catch(t){global_1[e]=r}return r},SHARED="__core-js_shared__",store$1=global_1[SHARED]||setGlobal(SHARED,{}),sharedStore=store$1,shared=createCommonjsModule(function(t){(t.exports=function(t,e){return sharedStore[t]||(sharedStore[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.17.3",mode:"pure",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),toObject=function(t){return Object(requireObjectCoercible(t))},hasOwnProperty$1={}.hasOwnProperty,has$1=Object.hasOwn||function(t,e){return hasOwnProperty$1.call(toObject(t),e)},id=0,postfix=Math.random(),uid=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++id+postfix).toString(36)},WellKnownSymbolsStore=shared("wks"),Symbol$1=global_1.Symbol,createWellKnownSymbol=useSymbolAsUid?Symbol$1:Symbol$1&&Symbol$1.withoutSetter||uid,wellKnownSymbol=function(t){return has$1(WellKnownSymbolsStore,t)&&(nativeSymbol||"string"==typeof WellKnownSymbolsStore[t])||(nativeSymbol&&has$1(Symbol$1,t)?WellKnownSymbolsStore[t]=Symbol$1[t]:WellKnownSymbolsStore[t]=createWellKnownSymbol("Symbol."+t)),WellKnownSymbolsStore[t]},TO_PRIMITIVE=wellKnownSymbol("toPrimitive"),toPrimitive=function(t,e){if(!isObject(t)||isSymbol(t))return t;var r=t[TO_PRIMITIVE];if(void 0===r)return ordinaryToPrimitive(t,e=void 0===e?"number":e);if(e=r.call(t,e=void 0===e?"default":e),!isObject(e)||isSymbol(e))return e;throw TypeError("Can't convert object to primitive value")},toPropertyKey=function(t){t=toPrimitive(t,"string");return isSymbol(t)?t:String(t)},document$1=global_1.document,EXISTS=isObject(document$1)&&isObject(document$1.createElement),documentCreateElement=function(t){return EXISTS?document$1.createElement(t):{}},ie8DomDefine=!descriptors&&!fails(function(){return 7!=Object.defineProperty(documentCreateElement("div"),"a",{get:function(){return 7}}).a}),$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,f$2=descriptors?$getOwnPropertyDescriptor:function(t,e){if(t=toIndexedObject(t),e=toPropertyKey(e),ie8DomDefine)try{return $getOwnPropertyDescriptor(t,e)}catch(t){}if(has$1(t,e))return createPropertyDescriptor(!objectPropertyIsEnumerable.f.call(t,e),t[e])},objectGetOwnPropertyDescriptor={f:f$2},replacement=/#|\.prototype\./,isForced=function(t,e){t=data[normalize(t)];return t==POLYFILL||t!=NATIVE&&("function"==typeof e?fails(e):!!e)},normalize=isForced.normalize=function(t){return String(t).replace(replacement,".").toLowerCase()},data=isForced.data={},NATIVE=isForced.NATIVE="N",POLYFILL=isForced.POLYFILL="P",isForced_1=isForced,aFunction=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},functionBindContext=function(n,o,t){if(aFunction(n),void 0===o)return n;switch(t){case 0:return function(){return n.call(o)};case 1:return function(t){return n.call(o,t)};case 2:return function(t,e){return n.call(o,t,e)};case 3:return function(t,e,r){return n.call(o,t,e,r)}}return function(){return n.apply(o,arguments)}},anObject=function(t){if(!isObject(t))throw TypeError(String(t)+" is not an object");return t},$defineProperty=Object.defineProperty,f$1=descriptors?$defineProperty:function(t,e,r){if(anObject(t),e=toPropertyKey(e),anObject(r),ie8DomDefine)try{return $defineProperty(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t},objectDefineProperty={f:f$1},createNonEnumerableProperty=descriptors?function(t,e,r){return objectDefineProperty.f(t,e,createPropertyDescriptor(1,r))}:function(t,e,r){return t[e]=r,t},getOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f,wrapConstructor=function(n){function t(t,e,r){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(t);case 2:return new n(t,e)}return new n(t,e,r)}return n.apply(this,arguments)}return t.prototype=n.prototype,t},_export=function(t,e){var r,n,o,i,a,u=t.target,s=t.global,c=t.stat,l=t.proto,f=s?global_1:c?global_1[u]:(global_1[u]||{}).prototype,p=s?path:path[u]||createNonEnumerableProperty(path,u,{})[u],b=p.prototype;for(r in e)i=!isForced_1(s?r:u+(c?".":"#")+r,t.forced)&&f&&has$1(f,r),n=p[r],i&&(o=t.noTargetGet?(a=getOwnPropertyDescriptor(f,r))&&a.value:f[r]),a=i&&o?o:e[r],i&&typeof n==typeof a||(i=t.bind&&i?functionBindContext(a,global_1):t.wrap&&i?wrapConstructor(a):l&&"function"==typeof a?functionBindContext(Function.call,a):a,(t.sham||a&&a.sham||n&&n.sham)&&createNonEnumerableProperty(i,"sham",!0),createNonEnumerableProperty(p,r,i),l&&(has$1(path,i=u+"Prototype")||createNonEnumerableProperty(path,i,{}),createNonEnumerableProperty(path[i],r,a),t.real&&b&&!b[r]&&createNonEnumerableProperty(b,r,a)))},SPECIES=wellKnownSymbol("species"),setSpecies=function(t){var e=getBuiltIn(t),t=objectDefineProperty.f;descriptors&&e&&!e[SPECIES]&&t(e,SPECIES,{configurable:!0,get:function(){return this}})},anInstance=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t},redefine=function(t,e,r,n){n&&n.enumerable?t[e]=r:createNonEnumerableProperty(t,e,r)},redefineAll=function(t,e,r){for(var n in e)r&&r.unsafe&&t[n]?t[n]=e[n]:redefine(t,n,e[n],r);return t},TO_STRING_TAG$3=wellKnownSymbol("toStringTag"),test={};test[TO_STRING_TAG$3]="z";var toStringTagSupport="[object z]"===String(test),TO_STRING_TAG$2=wellKnownSymbol("toStringTag"),CORRECT_ARGUMENTS="Arguments"==classofRaw(function(){return arguments}()),tryGet=function(t,e){try{return t[e]}catch(t){}},classof=toStringTagSupport?classofRaw:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(t=tryGet(e=Object(t),TO_STRING_TAG$2))?t:CORRECT_ARGUMENTS?classofRaw(e):"Object"==(t=classofRaw(e))&&"function"==typeof e.callee?"Arguments":t},iterators={},ITERATOR$3=wellKnownSymbol("iterator"),getIteratorMethod=function(t){if(null!=t)return t[ITERATOR$3]||t["@@iterator"]||iterators[classof(t)]},getIterator=function(t,e){var r=arguments.length<2?getIteratorMethod(t):e;if("function"!=typeof r)throw TypeError(String(t)+" is not iterable");return anObject(r.call(t))},getMethod=function(t){return null==t?void 0:aFunction(t)},ITERATOR$2=wellKnownSymbol("iterator"),ArrayPrototype=Array.prototype,isArrayIteratorMethod=function(t){return void 0!==t&&(iterators.Array===t||ArrayPrototype[ITERATOR$2]===t)},ceil=Math.ceil,floor=Math.floor,toInteger=function(t){return isNaN(t=+t)?0:(0<t?floor:ceil)(t)},min$1=Math.min,toLength=function(t){return 0<t?min$1(toInteger(t),9007199254740991):0},iteratorClose=function(t,e,r){var n,o;anObject(t);try{if(void 0===(n=t.return)){if("throw"===e)throw r;return r}n=n.call(t)}catch(t){o=!0,n=t}if("throw"===e)throw r;if(o)throw n;return anObject(n),r},Result=function(t,e){this.stopped=t,this.result=e},iterate=function(t,e,r){function n(t){return i&&iteratorClose(i,"normal",t),new Result(!0,t)}function o(t){return p?(anObject(t),h?m(t[0],t[1],n):m(t[0],t[1])):h?m(t,n):m(t)}var i,a,u,s,c,l,f=r&&r.that,p=!(!r||!r.AS_ENTRIES),b=!(!r||!r.IS_ITERATOR),h=!(!r||!r.INTERRUPTED),m=functionBindContext(e,f,1+p+h);if(b)i=t;else{if("function"!=typeof(b=getIteratorMethod(t)))throw TypeError("Target is not iterable");if(isArrayIteratorMethod(b)){for(a=0,u=toLength(t.length);a<u;a++)if((s=o(t[a]))&&s instanceof Result)return s;return new Result(!1)}i=getIterator(t,b)}for(c=i.next;!(l=c.call(i)).done;){try{s=o(l.value)}catch(t){iteratorClose(i,"throw",t)}if("object"==typeof s&&s&&s instanceof Result)return s}return new Result(!1)},hostReportErrors=function(t,e){var r=global_1.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))},functionToString=Function.toString;"function"!=typeof sharedStore.inspectSource&&(sharedStore.inspectSource=function(t){return functionToString.call(t)});var store,wmget,wmhas,wmset,set,get,has,STATE,inspectSource=sharedStore.inspectSource,WeakMap$1=global_1.WeakMap,nativeWeakMap="function"==typeof WeakMap$1&&/native code/.test(inspectSource(WeakMap$1)),keys=shared("keys"),sharedKey=function(t){return keys[t]||(keys[t]=uid(t))},hiddenKeys={},OBJECT_ALREADY_INITIALIZED="Object already initialized",WeakMap=global_1.WeakMap,enforce=function(t){return has(t)?get(t):set(t,{})},getterFor=function(r){return function(t){var e;if(!isObject(t)||(e=get(t)).type!==r)throw TypeError("Incompatible receiver, "+r+" required");return e}};has=nativeWeakMap||sharedStore.state?(store=sharedStore.state||(sharedStore.state=new WeakMap),wmget=store.get,wmhas=store.has,wmset=store.set,set=function(t,e){if(wmhas.call(store,t))throw new TypeError(OBJECT_ALREADY_INITIALIZED);return e.facade=t,wmset.call(store,t,e),e},get=function(t){return wmget.call(store,t)||{}},function(t){return wmhas.call(store,t)}):(STATE=sharedKey("state"),hiddenKeys[STATE]=!0,set=function(t,e){if(has$1(t,STATE))throw new TypeError(OBJECT_ALREADY_INITIALIZED);return e.facade=t,createNonEnumerableProperty(t,STATE,e),e},get=function(t){return has$1(t,STATE)?t[STATE]:{}},function(t){return has$1(t,STATE)});var internalState={set:set,get:get,has:has,enforce:enforce,getterFor:getterFor},defineProperty$2=objectDefineProperty.f,OBSERVABLE=wellKnownSymbol("observable"),getInternalState$2=internalState.get,setInternalState$2=internalState.set,cleanupSubscription=function(t){var e=t.cleanup;if(e){t.cleanup=void 0;try{e()}catch(t){hostReportErrors(t)}}},subscriptionClosed=function(t){return void 0===t.observer},close=function(t){var e=t.facade;descriptors||(e.closed=!0,(e=t.subscriptionObserver)&&(e.closed=!0)),t.observer=void 0},Subscription=function(e,t){var r,n=setInternalState$2(this,{cleanup:void 0,observer:anObject(e),subscriptionObserver:void 0});descriptors||(this.closed=!1);try{(r=getMethod(e.start))&&r.call(e,this)}catch(t){hostReportErrors(t)}if(!subscriptionClosed(n)){e=n.subscriptionObserver=new SubscriptionObserver(this);try{var o=t(e),i=o;null!=o&&(n.cleanup="function"==typeof o.unsubscribe?function(){i.unsubscribe()}:aFunction(o))}catch(t){return void e.error(t)}subscriptionClosed(n)&&cleanupSubscription(n)}};Subscription.prototype=redefineAll({},{unsubscribe:function(){var t=getInternalState$2(this);subscriptionClosed(t)||(close(t),cleanupSubscription(t))}}),descriptors&&defineProperty$2(Subscription.prototype,"closed",{configurable:!0,get:function(){return subscriptionClosed(getInternalState$2(this))}});var SubscriptionObserver=function(t){setInternalState$2(this,{subscription:t}),descriptors||(this.closed=!1)};SubscriptionObserver.prototype=redefineAll({},{next:function(t){var e=getInternalState$2(getInternalState$2(this).subscription);if(!subscriptionClosed(e)){e=e.observer;try{var r=getMethod(e.next);r&&r.call(e,t)}catch(t){hostReportErrors(t)}}},error:function(t){var e=getInternalState$2(getInternalState$2(this).subscription);if(!subscriptionClosed(e)){var r=e.observer;close(e);try{var n=getMethod(r.error);n?n.call(r,t):hostReportErrors(t)}catch(t){hostReportErrors(t)}cleanupSubscription(e)}},complete:function(){var t=getInternalState$2(getInternalState$2(this).subscription);if(!subscriptionClosed(t)){var e=t.observer;close(t);try{var r=getMethod(e.complete);r&&r.call(e)}catch(t){hostReportErrors(t)}cleanupSubscription(t)}}}),descriptors&&defineProperty$2(SubscriptionObserver.prototype,"closed",{configurable:!0,get:function(){return subscriptionClosed(getInternalState$2(getInternalState$2(this).subscription))}});var $Observable=function(t){anInstance(this,$Observable,"Observable"),setInternalState$2(this,{subscriber:aFunction(t)})};redefineAll($Observable.prototype,{subscribe:function(t){var e=arguments.length;return new Subscription("function"==typeof t?{next:t,error:1<e?arguments[1]:void 0,complete:2<e?arguments[2]:void 0}:isObject(t)?t:{},getInternalState$2(this).subscriber)}}),redefineAll($Observable,{from:function(t){var e="function"==typeof this?this:$Observable,r=getMethod(anObject(t)[OBSERVABLE]);if(r){var n=anObject(r.call(t));return n.constructor===e?n:new e(function(t){return n.subscribe(t)})}var o=getIterator(t);return new e(function(r){iterate(o,function(t,e){if(r.next(t),r.closed)return e()},{IS_ITERATOR:!0,INTERRUPTED:!0}),r.complete()})},of:function(){for(var t="function"==typeof this?this:$Observable,r=arguments.length,n=new Array(r),e=0;e<r;)n[e]=arguments[e++];return new t(function(t){for(var e=0;e<r;e++)if(t.next(n[e]),t.closed)return;t.complete()})}}),createNonEnumerableProperty($Observable.prototype,OBSERVABLE,function(){return this}),_export({global:!0},{Observable:$Observable}),setSpecies("Observable");var f=wellKnownSymbol,wellKnownSymbolWrapped={f:wellKnownSymbol},defineProperty$1=objectDefineProperty.f,defineWellKnownSymbol=function(t){var e=path.Symbol||(path.Symbol={});has$1(e,t)||defineProperty$1(e,t,{value:wellKnownSymbolWrapped.f(t)})};defineWellKnownSymbol("observable");var activeXDocument,toString_1=function(t){if(isSymbol(t))throw TypeError("Cannot convert a Symbol value to a string");return String(t)},createMethod$1=function(i){return function(t,e){var r,n=toString_1(requireObjectCoercible(t)),o=toInteger(e),t=n.length;return o<0||t<=o?i?"":void 0:(e=n.charCodeAt(o))<55296||56319<e||o+1===t||(r=n.charCodeAt(o+1))<56320||57343<r?i?n.charAt(o):e:i?n.slice(o,o+2):r-56320+(e-55296<<10)+65536}},stringMultibyte={codeAt:createMethod$1(!1),charAt:createMethod$1(!0)},max=Math.max,min=Math.min,toAbsoluteIndex=function(t,e){t=toInteger(t);return t<0?max(t+e,0):min(t,e)},createMethod=function(u){return function(t,e,r){var n,o=toIndexedObject(t),i=toLength(o.length),a=toAbsoluteIndex(r,i);if(u&&e!=e){for(;a<i;)if((n=o[a++])!=n)return!0}else for(;a<i;a++)if((u||a in o)&&o[a]===e)return u||a||0;return!u&&-1}},arrayIncludes={includes:createMethod(!0),indexOf:createMethod(!1)},indexOf=arrayIncludes.indexOf,objectKeysInternal=function(t,e){var r,n=toIndexedObject(t),o=0,i=[];for(r in n)!has$1(hiddenKeys,r)&&has$1(n,r)&&i.push(r);for(;e.length>o;)has$1(n,r=e[o++])&&(~indexOf(i,r)||i.push(r));return i},enumBugKeys=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],objectKeys=Object.keys||function(t){return objectKeysInternal(t,enumBugKeys)},objectDefineProperties=descriptors?Object.defineProperties:function(t,e){anObject(t);for(var r,n=objectKeys(e),o=n.length,i=0;i<o;)objectDefineProperty.f(t,r=n[i++],e[r]);return t},html=getBuiltIn("document","documentElement"),GT=">",LT="<",PROTOTYPE="prototype",SCRIPT="script",IE_PROTO$1=sharedKey("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(t){return LT+SCRIPT+GT+t+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(t){t.write(scriptTag("")),t.close();var e=t.parentWindow.Object;return t=null,e},NullProtoObjectViaIFrame=function(){var t=documentCreateElement("iframe"),e="java"+SCRIPT+":";return t.style.display="none",html.appendChild(t),t.src=String(e),(t=t.contentWindow.document).open(),t.write(scriptTag("document.F=Object")),t.close(),t.F},_NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch(t){}_NullProtoObject="undefined"==typeof document||document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame();for(var t=enumBugKeys.length;t--;)delete _NullProtoObject[PROTOTYPE][enumBugKeys[t]];return _NullProtoObject()};hiddenKeys[IE_PROTO$1]=!0;var PrototypeOfArrayIteratorPrototype,arrayIterator,objectCreate=Object.create||function(t,e){var r;return null!==t?(EmptyConstructor[PROTOTYPE]=anObject(t),r=new EmptyConstructor,EmptyConstructor[PROTOTYPE]=null,r[IE_PROTO$1]=t):r=_NullProtoObject(),void 0===e?r:objectDefineProperties(r,e)},correctPrototypeGetter=!fails(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),IE_PROTO=sharedKey("IE_PROTO"),ObjectPrototype=Object.prototype,objectGetPrototypeOf=correctPrototypeGetter?Object.getPrototypeOf:function(t){return t=toObject(t),has$1(t,IE_PROTO)?t[IE_PROTO]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ObjectPrototype:null},ITERATOR$1=wellKnownSymbol("iterator"),BUGGY_SAFARI_ITERATORS$1=!1;[].keys&&("next"in(arrayIterator=[].keys())?(PrototypeOfArrayIteratorPrototype=objectGetPrototypeOf(objectGetPrototypeOf(arrayIterator)))!==Object.prototype&&(IteratorPrototype$1=PrototypeOfArrayIteratorPrototype):BUGGY_SAFARI_ITERATORS$1=!0);var IteratorPrototype$1,NEW_ITERATOR_PROTOTYPE=null==IteratorPrototype$1||fails(function(){var t={};return IteratorPrototype$1[ITERATOR$1].call(t)!==t});"function"!=typeof(IteratorPrototype$1=NEW_ITERATOR_PROTOTYPE?{}:objectCreate(IteratorPrototype$1))[ITERATOR$1]&&createNonEnumerableProperty(IteratorPrototype$1,ITERATOR$1,function(){return this});var iteratorsCore={IteratorPrototype:IteratorPrototype$1,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1},objectToString=toStringTagSupport?{}.toString:function(){return"[object "+classof(this)+"]"},defineProperty=objectDefineProperty.f,TO_STRING_TAG$1=wellKnownSymbol("toStringTag"),setToStringTag=function(t,e,r,n){t&&(t=r?t:t.prototype,has$1(t,TO_STRING_TAG$1)||defineProperty(t,TO_STRING_TAG$1,{configurable:!0,value:e}),n&&!toStringTagSupport&&createNonEnumerableProperty(t,"toString",objectToString))},IteratorPrototype=iteratorsCore.IteratorPrototype,returnThis$1=function(){return this},createIteratorConstructor=function(t,e,r){e+=" Iterator";return t.prototype=objectCreate(IteratorPrototype,{next:createPropertyDescriptor(1,r)}),setToStringTag(t,e,!1,!0),iterators[e]=returnThis$1,t},aPossiblePrototype=function(t){if(!isObject(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t};Object.setPrototypeOf||"__proto__"in{}&&function(){var t={};try{Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set.call(t,[]),Array}catch(t){}}();var BUGGY_SAFARI_ITERATORS=iteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR=wellKnownSymbol("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis=function(){return this},defineIterator=function(t,e,r,n,o,i,a){createIteratorConstructor(r,e,n);function u(t){if(t===o&&m)return m;if(!BUGGY_SAFARI_ITERATORS&&t in b)return b[t];switch(t){case KEYS:case VALUES:case ENTRIES:return function(){return new r(this,t)}}return function(){return new r(this)}}var s,c,l,f=e+" Iterator",p=!1,b=t.prototype,h=b[ITERATOR]||b["@@iterator"]||o&&b[o],m=!BUGGY_SAFARI_ITERATORS&&h||u(o),n="Array"==e&&b.entries||h;if(n&&(s=objectGetPrototypeOf(n.call(new t)))!==Object.prototype&&s.next&&(setToStringTag(s,f,!0,!0),iterators[f]=returnThis),o==VALUES&&h&&h.name!==VALUES&&(p=!0,m=function(){return h.call(this)}),a&&b[ITERATOR]!==m&&createNonEnumerableProperty(b,ITERATOR,m),iterators[e]=m,o)if(c={values:u(VALUES),keys:i?m:u(KEYS),entries:u(ENTRIES)},a)for(l in c)!BUGGY_SAFARI_ITERATORS&&!p&&l in b||redefine(b,l,c[l]);else _export({target:e,proto:!0,forced:BUGGY_SAFARI_ITERATORS||p},c);return c},charAt=stringMultibyte.charAt,STRING_ITERATOR="String Iterator",setInternalState$1=internalState.set,getInternalState$1=internalState.getterFor(STRING_ITERATOR);defineIterator(String,"String",function(t){setInternalState$1(this,{type:STRING_ITERATOR,string:toString_1(t),index:0})},function(){var t=getInternalState$1(this),e=t.string,r=t.index;return r>=e.length?{value:void 0,done:!0}:(r=charAt(e,r),t.index+=r.length,{value:r,done:!1})});var ARRAY_ITERATOR="Array Iterator",setInternalState=internalState.set,getInternalState=internalState.getterFor(ARRAY_ITERATOR);defineIterator(Array,"Array",function(t,e){setInternalState(this,{type:ARRAY_ITERATOR,target:toIndexedObject(t),index:0,kind:e})},function(){var t=getInternalState(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?{value:t.target=void 0,done:!0}:"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}},"values"),iterators.Arguments=iterators.Array;var COLLECTION_NAME,domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},TO_STRING_TAG=wellKnownSymbol("toStringTag");for(COLLECTION_NAME in domIterables){var Collection=global_1[COLLECTION_NAME],CollectionPrototype=Collection&&Collection.prototype;CollectionPrototype&&classof(CollectionPrototype)!==TO_STRING_TAG&&createNonEnumerableProperty(CollectionPrototype,TO_STRING_TAG,COLLECTION_NAME),iterators[COLLECTION_NAME]=iterators.Array}var observable=path.Observable,Observable=function(e){function t(t){return e.call(this,t||identity)||this}_inheritsLoose(t,e);var r=t.prototype;return r.pipe=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return pipeFromArray(e)(this)},r.lift=function(e){var r=this;return new t(function(t){return e.call(t,r)})},r["@@observable"]=function(){return this},t}(observable),Subject=function(o){function t(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=o.call.apply(o,[this].concat(r))||this).closed=!1,t.observers=[],t}_inheritsLoose(t,o);var e=t.prototype;return e.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},e.next=function(t){if(this._throwIfClosed(),!this.isStopped)for(var e,r=_createForOfIteratorHelperLoose(this.observers.slice());!(e=r()).done;)e.value.next(t)},e.error=function(t){if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;for(var e=this.observers;e.length;)e.shift().error(t)}},e.complete=function(){if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;for(var t=this.observers;t.length;)t.shift().complete()}},e.subscribe=function(t){var e=this,r=this.observers.push(t);return{unsubscribe:function(){e.observers.splice(r-1,1)}}},e._throwIfClosed=function(){if(this.closed)throw new Error("Subscription closed!")},t}(Observable),map=function(r){return function(t){return new Observable(function(e){return t.subscribe({next:function(t){try{t=r(t),e.next(t)}catch(t){e.error(t)}},error:function(t){e.error(t)},complete:function(){e.complete()}})})}};function merge(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return new Observable(function(e){if(0===n.length)return Observable.from([]);var r=n.length,t=n.map(function(t){return Observable.from(t).subscribe({next:function(t){e.next(t)},error:function(t){e.error(t)},complete:function(){0==--r&&e.complete()}})});return function(){return t.forEach(function(t){return t.unsubscribe()})}})}function combineLatest(){for(var t=arguments.length,u=new Array(t),e=0;e<t;e++)u[e]=arguments[e];return new Observable(function(r){if(0===u.length)return Observable.from([]);var n=u.length,o=new Set,i=!1,a=u.map(function(){}),t=u.map(function(t,e){return Observable.from(t).subscribe({next:function(t){if(a[e]=t,!i){if(o.add(e),o.size!==u.length)return;i=!(o=null)}r.next(Array.from(a))},error:function(t){r.error(t)},complete:function(){0==--n&&r.complete()}})});return function(){return t.forEach(function(t){return t.unsubscribe()})}})}function zip(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return new Observable(function(r){if(0===e.length)return Observable.from([]);var n=e.map(function(){return[]});function o(){return n.some(function(t,e){return 0===t.length&&i[e].closed})}var i=e.map(function(t,e){return Observable.from(t).subscribe({next:function(t){n[e].push(t),n.every(function(t){return 0<t.length})&&(r.next(n.map(function(t){return t.shift()})),o()&&r.complete())},error:function(t){r.error(t)},complete:function(){o()&&r.complete()}})});return function(){return i.forEach(function(t){return t.unsubscribe()})}})}var spreadCombineLatest=function(){for(var t=arguments.length,a=new Array(t),e=0;e<t;e++)a[e]=arguments[e];return function(i){return new Observable(function(t){var e=new Subject,r=a.map(function(t){return t(e)}),n=combineLatest.apply(void 0,r).subscribe(t),o=i.subscribe(e);return function(){n.unsubscribe(),o.unsubscribe()}})}},spreadAssign=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return pipe(map(function(t){return Object.assign.apply(Object,[{}].concat(t))}))(spreadCombineLatest.apply(void 0,e)(t))}},Callable=function(e){function t(){var t=e.call(this,"...args","return this._bound.__call__(...args)")||this;return t._bound=t.bind(_assertThisInitialized(t)),t._bound||_assertThisInitialized(t)}return _inheritsLoose(t,e),t.prototype.__call__=function(){},t}(_wrapNativeSuper(Function)),defaultPriority=1;function getPriority(t){return t._priority_}var Emitter=function(e){function t(t){t=e.call(this,t)||this;return t._topics=t._topics||(t._topics={}),t}_inheritsLoose(t,e);var r=t.prototype;return r.fromEvent=function(r,n){var o=this;return new Observable(function(e){function t(t){return e.next(t)}return o.on(r,t,n),function(){o.off(r,t)}})},r.on=function(t,e,r,n){if("object"==typeof t){for(var o in t)this.on(o,t[o],e,r);return this}var i=this._topics[t]||(this._topics[t]=[]),a=e;"object"==typeof r?((e=e.bind(r))._bindfn_=a,e._one_=a._one_,e._scope_=r):void 0===n&&(n=r),e._priority_=void 0===n?defaultPriority:n;n=sortedIndex(i,e,getPriority);return i.splice(n,0,e),this},r.off=function(t,e,r){if(!0===t)return this._topics={},this;if("object"==typeof t){for(var n in t)this.off(n,t[n],e);return this}var o=this._topics[t];if(!o)return this;if(!0===e)return this._topics[t]=[],this;for(var i=0,a=o.length;i<a;i++){var u=o[i];if(!(u._bindfn_!==e&&u!==e||r&&u._scope_!==r)){o.splice(i,1);break}}return this},r.emit=function(t,e){var r=this._topics[t],n=r&&r.length;if(!n)return this;var o={};for(o.topic=t;n--;){var i=r[n];i(e,o),i._one_&&r.splice(n,1)}return this},r.one=function(t,e,r){if("object"!=typeof t)return e._one_=!0,this.on(t,e,r),this;for(var n in t)this.one(n,t[n],e,r);return this},t}(Observable),index$3=Object.freeze({__proto__:null,Callable:Callable,Emitter:Emitter,identity:identity,typeName:typeName,now:now,castArray:castArray,lerp:lerp,invLerp:invLerp,clamp:clamp,lerpClamped:lerpClamped,invLerpClamped:invLerpClamped,cloneDeep:cloneDeep,isObjectLike:isObjectLike,isPlainObject:isPlainObject,filterObjectValues:filterObjectValues,sanitizedObject:sanitizedObject,mapProperties:mapProperties,pick:pick,mergeIntersecting:mergeIntersecting,sortedIndex:sortedIndex,getIntersectingPaths:getIntersectingPaths,pull:pull,shortestModDist:shortestModDist,combineEasing:combineEasing}),Pi2$1=2*Math.PI,makeElasticIn=function(e,t){var r=(t=void 0===t?.1:t)/4;(e=void 0===e?.1:e)<1?e=1:r=t*Math.asin(1/e)/Pi2$1;var n=Pi2$1/t;return function(t){return 0===t?0:1===t?1:-(e*Math.pow(2,10*--t)*Math.sin((t-r)*n))}},makeElasticOut=function(e,t){var r=(t=void 0===t?.1:t)/4;(e=void 0===e?.1:e)<1?e=1:r=t*Math.asin(1/e)/Pi2$1;var n=Pi2$1/t;return function(t){return 0===t?0:1===t?1:e*Math.pow(2,-10*t)*Math.sin((t-r)*n)+1}},makeElasticInOut=function(e,t){var r=(t=void 0===t?.1:t)/4;(e=void 0===e?.1:e)<1?e=1:r=t*Math.asin(1/e)/Pi2$1;var n=Pi2$1/t;return function(t){return 0===t?0:1===t?1:(t*=2)<1?e*Math.pow(2,10*--t)*Math.sin((t-r)*n)*-.5:e*Math.pow(2,-10*--t)*Math.sin((t-r)*n)*.5+1}},makeBackIn=function(e){return void 0===e&&(e=1.70158),function(t){return t*t*((e+1)*t-e)}},makeBackOut=function(e){return void 0===e&&(e=1.70158),function(t){return--t*t*((e+1)*t+e)+1}},makeBackInOut=function(r){return void 0===r&&(r=1.70158),function(t){var e=1.525*r;return(t*=2)<1?t*t*((1+e)*t-e)*.5:.5*((t-=2)*t*((1+e)*t+e)+2)}},makeSteps=function(e){return void 0===e&&(e=1),function(t){return 1/e*(1+(e*t|0))}},halfPi=Math.PI/2,linear$1=function(t){return t},quadIn=function(t){return t*t},quadOut=function(t){return t*(2-t)},quadInOut=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn=function(t){return t*t*t},cubicOut=function(t){return--t*t*t+1},cubicInOut=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quartIn=function(t){return t*t*t*t},quartOut=function(t){return 1- --t*t*t*t},quartInOut=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quintIn=function(t){return t*t*t*t*t},quintOut=function(t){return--t*t*t*t*t+1},quintInOut=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinIn=function(t){return 1-Math.cos(t*halfPi)},sinOut=function(t){return Math.sin(t*halfPi)},sinInOut=function(t){return.5*(1-Math.cos(Math.PI*t))},expIn=function(t){return 0===t?0:Math.pow(1024,t-1)},expOut=function(t){return 0===t?0:1-Math.pow(1024,-t)},expInOut=function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(1024,1-t))},elasticIn=makeElasticIn(),elasticOut=makeElasticOut(),elasticInOut=makeElasticInOut(),circularIn=function(t){return 1-Math.sqrt(1-t*t)},circularOut=function(t){return Math.sqrt(1- --t*t)},circularInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},bounceIn=function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)},bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut=function(t){var e=!1;return t<.5?(t=1-2*t,e=!0):t=2*t-1,t<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5},backIn=makeBackIn(),backOut=makeBackOut(),backInOut=makeBackInOut(),step$1=makeSteps(),Easing=Object.freeze({__proto__:null,linear:linear$1,quadIn:quadIn,quadOut:quadOut,quadInOut:quadInOut,cubicIn:cubicIn,cubicOut:cubicOut,cubicInOut:cubicInOut,quartIn:quartIn,quartOut:quartOut,quartInOut:quartInOut,quintIn:quintIn,quintOut:quintOut,quintInOut:quintInOut,sinIn:sinIn,sinOut:sinOut,sinInOut:sinInOut,expIn:expIn,expOut:expOut,expInOut:expInOut,elasticIn:elasticIn,elasticOut:elasticOut,elasticInOut:elasticInOut,circularIn:circularIn,circularOut:circularOut,circularInOut:circularInOut,bounceIn:bounceIn,bounceOut:bounceOut,bounceInOut:bounceInOut,backIn:backIn,backOut:backOut,backInOut:backInOut,step:step$1}),index$2=Object.freeze({__proto__:null,makeElasticIn:makeElasticIn,makeElasticOut:makeElasticOut,makeElasticInOut:makeElasticInOut,makeBackIn:makeBackIn,makeBackOut:makeBackOut,makeBackInOut:makeBackInOut,makeSteps:makeSteps,linear:linear$1,quadIn:quadIn,quadOut:quadOut,quadInOut:quadInOut,cubicIn:cubicIn,cubicOut:cubicOut,cubicInOut:cubicInOut,quartIn:quartIn,quartOut:quartOut,quartInOut:quartInOut,quintIn:quintIn,quintOut:quintOut,quintInOut:quintInOut,sinIn:sinIn,sinOut:sinOut,sinInOut:sinInOut,expIn:expIn,expOut:expOut,expInOut:expInOut,elasticIn:elasticIn,elasticOut:elasticOut,elasticInOut:elasticInOut,circularIn:circularIn,circularOut:circularOut,circularInOut:circularInOut,bounceIn:bounceIn,bounceOut:bounceOut,bounceInOut:bounceInOut,backIn:backIn,backOut:backOut,backInOut:backInOut,step:step$1}),makeToggle=function(n){return function(t,e,r){return n<=r?e:t}},makeCyclic=function(n){return function(t,e,r){return t+shortestModDist(t,e,n)*r}},makeForArray=function(o){return function(r,t,n){return t.map(function(t,e){return o(r[e],t,n)})}},Pi2=2*Math.PI,linear=function(t,e,r){return lerp(t,e,r)},radians=function(t,e,r){return t+shortestModDist(t,e,Pi2)*r},degrees=function(t,e,r){return t+shortestModDist(t,e,360)*r},array=makeForArray(lerp),object=function(t,r,n){return mapProperties(t,function(t,e){return lerp(t,r[e],n)})},string=function(t,e,r){if(r<=0)return t;r=0|lerp(0,e.length,r);return e.substr(0,r)},toggle=makeToggle(1),Interpolators=Object.freeze({__proto__:null,linear:linear,radians:radians,degrees:degrees,array:array,object:object,string:string,toggle:toggle}),index$1=Object.freeze({__proto__:null,makeToggle:makeToggle,makeCyclic:makeCyclic,makeForArray:makeForArray,linear:linear,radians:radians,degrees:degrees,array:array,object:object,string:string,toggle:toggle});function parseEasing(t){if(null!=t){if("string"==typeof t){var e=t.replace(" ","").split("+");if(1!==e.length)return combineEasing.apply(void 0,e.map(parseEasing));if((t=e[0])in Easing)return Easing[t]}else if(t instanceof Function)return t;throw new Error('Unrecognized easing name "'+t+'"')}}function parseInterpolator(t){if(null==t)return!1;if(t instanceof Function)return t;if("string"==typeof t&&t in Interpolators)return Interpolators[t];throw new Error('Unrecognized interpolator name "'+t+'"')}var NATIVE_TYPES={number:{type:"number",default:0,interpolator:linear},string:{type:"string",default:"",interpolator:string},boolean:{type:"boolean",default:!1,interpolator:toggle},array:{type:"array",default:[],interpolator:array},object:{type:"object",default:{},interpolator:object}},CUSTOM_TYPES={};function getCustomTypeByVal(e){return Object.values(CUSTOM_TYPES).find(function(t){t=t.constructor;return e instanceof t})}function getCustomTypeByConstructor(e){return Object.values(CUSTOM_TYPES).find(function(t){t=t.constructor;return e===t})}function registerType(t){var e=t.type,r=t.interpolator;if(!e||!r||void 0===t.default)throw new Error('Custom types must have "type", "default", and "interpolator" specified');if(CUSTOM_TYPES[e])throw new Error('Custom type "'+e+'" is already registered');CUSTOM_TYPES[e]={type:e,interpolator:r,default:t.default},t.default.constructor&&(CUSTOM_TYPES[e].constructor=t.default.constructor)}function inferType(t){if(null===t)throw new Error("Can not determine type of null value");var e=typeof t;if("string"==e)return t in CUSTOM_TYPES?t:"string";if("number"==e)return"number";if("boolean"==e)return"boolean";if(Array.isArray(t))return"array";t=getCustomTypeByVal(t);return t?t.type:"object"==e?"object":e}function getType(t){if(null===t)throw new Error("Can not determine type of null value");if("string"==typeof t)return 0 in CUSTOM_TYPES,t;if(t===Number||"number"===t)return"number";if(t===Boolean||"boolean"===t)return"boolean";if(t===String)return"string";if(t===Array)return"array";var e=getCustomTypeByConstructor(t);return e?e.type:t===Object||"object"===t?"object":t}function getTypeCfg(t){var e=NATIVE_TYPES[t]||CUSTOM_TYPES[t];if(!e)throw new Error("Unrecognized type "+t);return e}var TYPE_DEF_KEYS=["value"].concat(Object.keys(getTypeCfg("object"))),DEFAULT_EASING="linear";function checkExplicitTypeDefinition(t){if(Object.keys(t).filter(function(t){return TYPE_DEF_KEYS.indexOf(t)<0}).length)throw new Error('Type definition contains extra keys. Does your definition use "type" as a property name?')}function getInterpolator(t,e,r){if("array"===t&&r&&r.length){r=parseSchemaProp(r[0]);return makeForArray(r.interpolator)}return parseInterpolator(e.interpolator)}function parseSchemaProp(t){var e,r,n,o=!isPlainObject(t)||void 0===t.value&&void 0===t.type?(o=getTypeCfg(r=inferType(t)),e=parseEasing(t.easing||DEFAULT_EASING),getInterpolator(r,o,n=t)):(checkExplicitTypeDefinition(t),o=getTypeCfg(r=getType(t.type)||inferType(t.value)),n=t.value||o.default,e=parseEasing(t.easing||DEFAULT_EASING),parseInterpolator(t.interpolator)||getInterpolator(r,o,n));return{type:r,easing:e,default:n,interpolator:o,def:t}}function createSchema(t){return mapProperties(t,parseSchemaProp)}function createState(t){for(var e={},r=0,n=Object.keys(t);r<n.length;r++){var o=n[r];e[o]=t[o].default}return e}var timeDecReg=/([0-9.]+)(s|m|h)?/,timeStdReg=/((\d\d):)?((\d\d):(\d\d))/,MINUTES=60,HOURS=3600;function getTime(t,e,r){return t=parseFloat(t||0),e=parseFloat(e||0),r=parseFloat(r||0),Math.round(1e3*(t*HOURS+e*MINUTES+r))}function parseTime(t){if("string"!=typeof t)return t;var e=t.match(timeStdReg);if(e)return getTime(e[2],e[4],e[5]);if(e=t.match(timeDecReg)){t=(""+e[2]).toLowerCase();if(!e[1]||"s"===t)return getTime(0,0,e[1]);if("m"===t)return getTime(0,e[1],0);if("h"===t)return getTime(e[1],0,0)}return 0}var pctReg=/^((\d{1,3})(\.\d*)?)%$/,META_PARSERS={endTime:function(t){if(void 0!==t)return parseTime(t)},startTime:parseTime,duration:function(t){if(void 0!==t)return pctReg.test(t)?t:parseTime(t)},easing:parseEasing};function parseMeta(t,e){var r,n=_extends({},e,sanitizedObject(t));for(r in META_PARSERS)n[r]=META_PARSERS[r](n[r]);return n}function createFrame(t,e,r){if(!t)throw new Error("Can not create frame without state object");if("object"!=typeof t)throw new Error("States must be plain objects");t=cloneDeep(t),e=parseMeta(e||t.$meta,r),delete t.$meta;r=pctReg.exec(e.duration);return r?(e.implicit=!0,e.fractionalDuration=parseFloat(r[1])/100):void 0!==e.endTime?void 0!==e.startTime?e.duration=e.endTime-e.startTime:e.startTime=e.endTime-e.duration:e.endTime=e.startTime+e.duration,{state:t,meta:e}}function createTransitionFromFrame(t,e,r,n){var o=r.state;return{startTime:t,endTime:e,startState:pick(n,Object.keys(o)),endState:o,easing:r.meta.easing,frame:r}}function interpolateProperty(t,e,r,n){return t(e,r,n)}function getInterpolatedState(t,e,r,n,o){if(n<=0)return cloneDeep(e);if(1<=n)return cloneDeep(r);var i,a=cloneDeep(e);for(i in r){var u,s=t[i],c=void 0;c=s?(u=(o=o||s.easing)(n),interpolateProperty(s.interpolator,e[i],r[i],u)):r[i],a[i]=c}return a}function getConflictingFrames(t){for(var e=[],r=t.length,n=0;n<r;n++){var o=t[n];"start"===o.type?e.push(o):(o=e.indexOf(o.start),e.splice(o,1));for(var i=e.length,a=0;a<i;a++)for(var u=e[a],s=a+1;s<i;s++){var c=getIntersectingPaths(u.transition.endState,e[s].transition.endState);if(c.length)return{paths:c,frames:[u.frame,e[s].frame]}}}return!1}function getPrevEndTime(t,e,r){for(var n=e-1;0<=n;n--){var o=t[n];if("end"===o.type&&r!==o.time)return o.time}return 0}function createTimeline(r,t){if(!(t=void 0===t?[]:t).length)return[];function o(t){return t.time}var e=createState(r),i=[],n=t.filter(function(t){return t.meta.implicit}).sort(function(t,e){return t.meta.endTime-e.meta.endTime});(t=t.filter(function(t){return!t.meta.implicit})).forEach(function(t){var e={type:"start",frame:t,time:t.meta.endTime-t.meta.duration},r={type:"end",frame:t,time:t.meta.endTime};(e.end=r).start=e,t=sortedIndex(i,r,o),i.splice(t,0,r),t=Math.min(t,sortedIndex(i,e,o,!0)),i.splice(t,0,e)}),n.forEach(function(t){var e={type:"end",frame:t,time:t.meta.endTime},r=sortedIndex(i,e,o),n=getPrevEndTime(i,r,e.time),t={type:"start",frame:t,time:lerp(e.time,n,t.meta.fractionalDuration)};(t.end=e).start=t,i.splice(r,0,e),r=Math.min(r,sortedIndex(i,t,o,!0)),i.splice(r,0,t)});var a=e;i.forEach(function(t,e){var r;"end"===t.type&&(r=createTransitionFromFrame(t.start.time,t.time,t.frame,a),t.transition=r,t.start.transition=r,a=_extends({},a,r.endState))}),a=e,i.forEach(function(t){var e;"end"===t.type&&(e=getTransitionsAtTime(i,t.time),a=reduceTransitions(r,e,t.time,a),t.state=a)});e=getConflictingFrames(i);if(e)throw new Error("The following overlapping frames modify the same state paths:\npaths: "+e.paths+"\nframes: "+JSON.stringify(e.frames,null,2));return i}function getTransitionsAtTime(t,e){for(var r=[],n=t.length,o=0;o<n;o++){var i=t[o];if(i.time>e)break;"start"===i.type?r.push(i):i.time!==e&&(i=r.indexOf(i.start),r.splice(i,1))}return r.map(function(t){return t.transition})}function getStartState(t,e,r){for(var n=r,o=t.length,i=0;i<o;i++){var a=t[i];if(a.time>e)return n;"end"===a.type&&(n=a.state)}return n}function reduceTransitions(n,t,o,e){return void 0===o&&(o=0),(t=void 0===t?[]:t).reduce(function(t,e){var r=invLerpClamped(e.startTime,e.endTime,o);return Object.assign(t,getInterpolatedState(n,e.startState,e.endState,r,e.easing))},cloneDeep(e=void 0===e?{}:e))}var TweenOperator=function(t){function e(){return t.apply(this,arguments)||this}_inheritsLoose(e,t);var r=e.prototype;return r.at=function(t){return t},r.__call__=function(t){var e=this;return map(function(t){return e.at(t)})(t)},e}(Callable),DEFAULT_OPTIONS$1={tweenDuration:"100%",easing:"linear"},Tween=function(n){function r(t,e){var r=n.call(this)||this;return r.framesById={},r.frames=[],r.timeline=[],r._schema=createSchema(t),r._startingState=createState(r._schema),r._timeLabel=null,r._loop=!1,r.options=Object.assign({},DEFAULT_OPTIONS$1,e),r._refreshTimeline(),r}_inheritsLoose(r,n),r.create=function(t,e){return new r(t,e)};var t=r.prototype;return t.withTime=function(t){return this._timeLabel=(t=void 0===t?"time":t)||null,this},t.by=function(t,e,r,n){t={endTime:t};return"object"==typeof e?(n=r,r=e):t.duration=e,n&&(t.easing=n),this.to(r,t)},t.in=function(t,e,r,n){t={endTime:this.duration+parseTime(t)};return"object"==typeof e?(n=r,r=e):t.duration=e,n&&(t.easing=n),this.to(r,t)},t.to=function(t,e){var r={};"string"==typeof e?r.easing=e:e&&Object.assign(r,e),void 0===r.startTime&&void 0===r.endTime&&(r.startTime=this.duration);r=createFrame(t,r,{duration:this.options.tweenDuration,easing:this.options.easing});if(r.meta.id&&this.framesById[r.meta.id])throw new Error('Frame with id "'+r.meta.id+'" already defined');return r.meta.id&&(this.framesById[r.meta.id]=r),this.frames.push(r),this._refreshTimeline(),this},t.loop=function(t){return this._loop=t=void 0===t?!0:t,this},t._refreshTimeline=function(){return this.timeline=createTimeline(this._schema,this.frames),this},t.getFrame=function(t){return this.framesById[t]},t.at=function(t){var e,r;if(this._loop&&(t%=this.duration),r=t>=this.duration?(e=this.timeline[this.timeline.length-1],cloneDeep(e.state)):(e=getTransitionsAtTime(this.timeline,t),r=getStartState(this.timeline,t,this._startingState),reduceTransitions(this._schema,e,t,r)),this._timeLabel){if(void 0!==r[this._timeLabel])throw new Error('State already has a property that would be overriden by time variable "'+this._timeLabel+'"');r[this._timeLabel]=t}return r},_createClass(r,[{key:"duration",get:function(){var t;return(null==(t=this.timeline[this.timeline.length-1])?void 0:t.time)||0}}]),r}(TweenOperator),DEFAULT_OPTIONS={relaxDuration:500,relaxDelay:1e3,easing:"linear"},Meddle=function(n){function r(t,e){var r=n.call(this)||this;return r._subject=new Subject,r._tween=t,r.options=e,r.lastTime=0,r.defaults(),r.clear(),r}_inheritsLoose(r,n),r.create=function(t,e){return new r(t,e)};var t=r.prototype;return t.freeze=function(t){return this.frozen=t=void 0===t?!0:t,this},t.relaxDelay=function(t){return this._relaxDelay=parseTime(void 0===t?this.options.relaxDelay:t),this},t.relaxDuration=function(t){return this._relaxDuration=parseTime(void 0===t?this.options.relaxDuration:t),this},t.easing=function(t){return this._easing=parseEasing(void 0===t?this.options.easing:t),this},t.defaults=function(){return this.relaxDelay(),this.relaxDuration(),this.easing(),this},t.set=function(t){return this.state=_extends({},this.state,t),this.started=!1,this.startTime=!1,this.relaxState=null,this.active=!0,this._subject.next(this.lastTime),this},t.clear=function(){return this.state={},this.started=!1,this.active=!1,this.frozen=!1,this.startTime=!1,this.lastTime=0,this},t.at=function(t){if(this.lastTime=t,!this.active||this.frozen)return Object.assign({},this.state);if(this.started||(this.startTime=t,this.started=!0,this.endTime=this.startTime+this._relaxDelay+this._relaxDuration,this.relaxState=pick(this._tween.at(this.endTime),Object.keys(this.state))),this.startTime===t)return Object.assign({},this.state);(t>=this.endTime||t<this.startTime)&&this.clear(),t>this.totalTime&&this.clear();t=invLerpClamped(this.startTime+this._relaxDelay,this.endTime,t);return getInterpolatedState(this._tween._schema,this.state,this.relaxState,t,this._easing)},t.__call__=function(t){var e=this;return map(function(t){return e.at(t)})(merge(this._subject,t))},_createClass(r,[{key:"options",get:function(){return this._options},set:function(t){this._options=Object.assign({},DEFAULT_OPTIONS,t),this.defaults()}}]),r}(TweenOperator),win="undefined"!=typeof window?window:void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:{},window_1=win,requestAnimationFrame=window_1.requestAnimationFrame||function(t){t=setTimeout(t,16);return t.unref&&t.unref(),t},tickStack=[];function step(){var t=tickStack.length;if(0!==t){requestAnimationFrame(step);for(var e=now(),r=0;r<t;r++){var n=tickStack[r];n&&n(e)}}}function add(t){tickStack.push(t),1===tickStack.length&&step()}function remove(t){t=tickStack.indexOf(t);tickStack.splice(t,1)}function animationFrames(){return new Observable(function(e){function t(t){return e.next(t-r)}var r=now();return add(t),function(){remove(t)}})}var defaultConfig={duration:1e3,easing:"cubicOut"};function smoothen(l,f,p){return void 0===p&&(p=null),l instanceof Function&&(f=l,l=defaultConfig),l=Object.assign({},defaultConfig,l),function(r){return new Observable(function(n){var o,i,a=[],u=0,s=parseEasing(l.easing);f=f||function(){return i};var c=null,t=animationFrames().subscribe(function(t){var e,r;c&&(e=c,(o||(o=createSchema(p||f()||e),i=createState(o),p))&&(r=(r=a.length)?a[r-1].targetState:_extends({},f()),a.push({startTime:u,endTime:u+parseTime(l.duration),startState:r,targetState:e})),c=null);t=function(t){if(u=t,!a.length)return null;var e,r=1,t=a.map(function(t){var e=t.startTime,t=t.endTime;if(0===r)return 0;t=invLerpClamped(e,t,u)/r;return r=s(t),t});for(i=t.reduceRight(function(t,e,r){r=a[r].startState;return getInterpolatedState(o,r,t,e,s)},a[a.length-1].targetState);(null==(e=a[0])?void 0:e.endTime)<=u;)a.shift();return i}(t);t&&n.next(t)}),e=r.subscribe({next:function(t){c=t},error:function(t){return n.error(t)},complete:function(){return n.complete()}});return{unsubscribe:function(){t.unsubscribe(),e.unsubscribe()}}})}}var Player=function(e){function r(t){var r=e.call(this,function(e){function t(t){return e.next(t)}return r.on("update",t),r.emit("update",r._time),function(){return r.off("update",t)}})||this;return r.totalTime=parseTime(t),r._clockTime=0,r._time=0,r.playbackRate=1,r._paused=!0,r._loop=!1,r._sub=animationFrames().subscribe(function(t){return r.step(t)}),r}_inheritsLoose(r,e),r.create=function(t){return new r(t)};var t=r.prototype;return t.destroy=function(){this.off(!0),this._sub.unsubscribe(),this.emit("destroy")},t.togglePause=function(t){return void 0===t&&(t=!this._paused),this._paused=!!t,this._paused?this.emit("pause"):this.emit("play"),this.emit("togglePause",this._paused),this},t.pause=function(){return this.togglePause(!0)},t.play=function(){return this.togglePause(!1)},t.loop=function(t){return this._loop=t=void 0===t?!0:t,this},t.playTo=function(t){return t=parseTime(t),this._time===t?this:(this._playToTime=t,this._oldPlaybackRate=this.playbackRate,this.playbackRate=t>=this._time?1:-1,this.play())},t.seek=function(t){return this._time=t,this.emit("update",t),this.emit("seek",t),this},t.step=function(t){var e=this._clockTime,r=this.playbackRate,n=t-e,o=this._time,e=this.totalTime;return this._clockTime=t,this._paused||(o+=n*r,!1!==this._playToTime&&r*o>=r*this._playToTime&&(this.togglePause(!0),o=this._playToTime,this.playbackRate=this._oldPlaybackRate,this._playToTime=!1),this._time=o,0<r&&e<=o?(this._loop?(this._time=o=0,this.emit("update",o)):(this._time=o=e,this.emit("update",o),this.togglePause(!0)),this.emit("end")):r<0&&o<=0?(this._loop?(this._time=o=e,this.emit("update",o)):(this._time=o=0,this.emit("update",o),this.togglePause(!0)),this.emit("end")):this.emit("update",o)),this},_createClass(r,[{key:"progress",get:function(){return 0<this.totalTime?this._time/this.totalTime*100:0},set:function(t){this.seek(Math.max(0,t)*this.totalTime/100)}},{key:"time",get:function(){return this._time},set:function(t){this.seek(t)}},{key:"paused",get:function(){return this._paused},set:function(t){this.togglePause(t)}}]),r}(Emitter),regulatedBy=function(u,s){return void 0===s&&(s=!1),function(a){return new Observable(function(e){var r=!1,n=null,t=!1,o=u.subscribe({next:function(){s&&!r||(e.next(n),r=!1,t&&(e.complete(),o.unsubscribe()))},complete:function(){e.complete()},error:function(t){e.error(t)}}),i=a.subscribe({next:function(t){n=t,r=!0},complete:function(){t=!0},error:function(t){e.error(t),r=!1,n=null,o.unsubscribe()}});return function(){i.unsubscribe(),o.unsubscribe()}})}},animationThrottle=function(){return function(t){return regulatedBy(animationFrames(),!0)(t)}},defaultThreshold=5e3/60,animationSync=function(b){return void 0===b&&(b={}),function(e){return new Observable(function(i){var a=0,u=!1,s=!1,c=0,l=0,f=!0,p=animationFrames().subscribe(function(t){var e=Number.isFinite(b.playbackRate)?b.playbackRate:1,r=!f&&0!==e,n=b.threshold||defaultThreshold,o=t;r?(o=l+(t-c)*e,Math.abs(o-a)>n&&(u?o=a:f=!0),u=!1):o=u?a:l,c=t,o!==l&&(l=o,i.next(o)),s&&(i.complete(),p.unsubscribe())}),t=e.subscribe({next:function(t){f=t===a,a=t,u=!0},complete:function(){s=!0},error:function(t){i.error(t),p.unsubscribe()}});return function(){t.unsubscribe(),p.unsubscribe()}})}},index=Object.freeze({__proto__:null,parseTime:parseTime,parseEasing:parseEasing,parseInterpolator:parseInterpolator});export{index$2 as Easing,index$1 as Interpolators,Meddle,Observable,index as Parsers,Player,Subject,Tween,index$3 as Util,animationFrames,animationSync,animationThrottle,combineLatest,map,merge,pipe,pipeFromArray,registerType,regulatedBy,smoothen,spreadAssign,spreadCombineLatest,zip};