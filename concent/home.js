!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t(e.concent={},e.React)}(this,function(e,T){"use strict";var t,r,n,o,ue="$$global",se="$$default",fe="$$cc",de="$$concent_void_module_624313307",a="$$CONCENT_ROUTER",le="$$CcClass",Z="$$CcHook",D="$$CcFrag",d="$$CcOb",M="$$CcCust",v="$$Cc",ye="$$Dispatcher",Q=Symbol("__for_sync_param_ccsync__"),I=10,N=11,A=13,K=30,g=31,S=32,E=33,$=34,F="dispatch",ee="setState",te="setModuleState",re="forceUpdate",b="invoke",w="sync",V="module",H="ref",z="computed",G="watch",ne={CC_MODULE_NAME_DUPLICATE:1002,CC_MODULE_NOT_FOUND:1012,CC_DISPATCH_STRING_INVALID:1013,CC_DISPATCH_PARAM_INVALID:1014,CC_MODULE_NOT_CONNECTED:1015,CC_CLASS_KEY_DUPLICATE:1100,CC_CLASS_INSTANCE_KEY_DUPLICATE:1200,CC_STORED_KEYS_NEED_CCKEY:1207,CC_REDUCER_NOT_A_FUNCTION:1503},c=((t={})[ne.CC_MODULE_NAME_DUPLICATE]="module name duplicate!",t[ne.CC_MODULE_NOT_FOUND]="module not found!",t[ne.CC_DISPATCH_STRING_INVALID]="when type param is string, it must be one of these format: (fnName)„ÄÅ(moduleName)/(fnName)",t[ne.CC_DISPATCH_PARAM_INVALID]="dispatch param type is invalid, it must be string or object",t[ne.CC_MODULE_NOT_CONNECTED]="module not been connected by ref",t[ne.CC_CLASS_INSTANCE_KEY_DUPLICATE]="props.ccKey duplicate",t[ne.CC_STORED_KEYS_NEED_CCKEY]="you must explicitly specify a ccKey for ccInstance when set storedKeys!",t[ne.CC_CLASS_KEY_DUPLICATE]="ccClassKey duplicate!",t[ne.CC_REDUCER_NOT_A_FUNCTION]="reducer must be a function!",t),s=1,l=2,y=3,i=Object.freeze({MODULE_GLOBAL:ue,MODULE_DEFAULT:se,MODULE_CC:fe,MODULE_VOID:de,MODULE_CC_ROUTER:a,CC_CLASS:le,CC_HOOK:Z,CC_FRAGMENT:D,CC_OB:d,CC_CUSTOMIZE:M,CC_PREFIX:v,CC_DISPATCHER:ye,CCSYNC_KEY:Q,SIG_FN_START:I,SIG_FN_END:N,SIG_FN_QUIT:12,SIG_FN_ERR:A,SIG_MODULE_CONFIGURED:14,SIG_STATE_CHANGED:15,SIG_ASYNC_COMPUTED_START:K,SIG_ASYNC_COMPUTED_END:g,SIG_ASYNC_COMPUTED_ERR:S,SIG_ASYNC_COMPUTED_BATCH_START:E,SIG_ASYNC_COMPUTED_BATCH_END:$,RENDER_NO_OP:1,RENDER_BY_KEY:2,RENDER_BY_STATE:3,FOR_CUR_MOD:1,FOR_ANOTHER_MOD:2,DISPATCH:F,SET_STATE:ee,SET_MODULE_STATE:te,FORCE_UPDATE:re,INVOKE:b,SYNC:w,CATE_MODULE:V,CATE_REF:H,FN_CU:z,FN_WATCH:G,ERR:ne,ERR_MESSAGE:c,NOT_MOUNT:s,MOUNTED:l,UNMOUNTED:y}),m=((r={})[se]=[],r),u=((n={})[ue]={},n[se]={},n[fe]={},n[de]={},n),f=((o={})[ue]={},o[se]={},o[fe]={},o[de]={},o),p={},h={},q={_computedRawValues:f,_computedValues:u,_computedRaw:h,_computedDep:p,getRootComputedValue:function(){return u},getRootComputedDep:function(){return p},getRootComputedRaw:function(){return h}},_={},C={},x={_watchRaw:C,_watchDep:_,getRootWatchDep:function(){return _},getRootWatchRaw:function(){return C}},O={asyncCuKeys:[],isStrict:!1,isDebug:!1,log:!0,alwaysRenderCaller:!0,computedCompare:!1,watchCompare:!1,watchImmediate:!1,bindCtxToMethod:!1,extractModuleChangedState:!0,extractRefChangedState:!1,objectValueCompare:!1,nonObjectValueCompare:!0};function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var U=Symbol("cuk"),oe="0",R="1",P="2",ae="function",ce="object",j="is not a "+ae,ie="is not a plain json object!",W="should be an string array or *!",L=function(){var e;return O.log&&(e=console).error.apply(e,arguments)},B=Object.prototype.toString;function pe(){}function Y(e){return null!=e&&0<ke(e).length}function J(e){return!Y(e)}function ve(e){if(!e)return!1;var t=B.call(e);return"[object Object]"===t||"[object Module]"===t}function me(e,t){void 0===t&&(t=!1);var r=Array.isArray(e),n=ve(e);return t&&r||n}function he(e){return typeof e===ae}function X(e,t){if(!e)return!1;if(!0===("[object AsyncFunction]"===B.call(e)||he(e.then)))return!0;var r=""+e;return!(!~r.indexOf("_awaiter")&&!~r.indexOf("_regenerator"))||!(!t||!O.asyncCuKeys.includes(t))}function _e(e,t){return"symbol"!=typeof t&&Object.prototype.hasOwnProperty.call(e,t)}function Ce(e,t){var r="";r="string"==typeof e?e:c[e]||"",t&&(r+=t),r||(r="undefined message for code:"+e);var n=Error(r);return n.code=e,n}function Ke(e,t,r,n,o,a,c){var i;return(i={})[U]=1,i.needCompute=r,i.fn=n,i.newState=o,i.oldState=a,i.fnCtx=c,i.isLazy=e,i.result=t,i}function ge(){return{retKey2fn:{},retKey2lazy:{},stateKey2retKeys:{},retKey2stateKeys:{},fnCount:0}}function Se(e,t){return e+"$"+t}function Ee(e){return e?" --verbose-info: "+e:""}function $e(e){return void 0===e&&(e="green"),"color:"+e+";border:1px solid "+e}function we(e){return"%c"+e}var be=function(e){return"------------ CC "+e+" ------------"};function xe(e){L(be("WARNING")),e instanceof Error?(L(e.message),L(e.stack)):L(e)}function Oe(e,t){void 0===t&&(t="green"),O.log&&(console.log(be("TIP")),console.log("%c"+e,"color:"+t+";border:1px solid "+t+";"))}function Ue(e){if(L(be("WARNING")),L(e),O.isStrict)throw e}function De(t,r,n){try{t[r]+=n}catch(e){t[r]=n}}function Re(e,t,r){void 0===r&&(r={});var n=e[t];return n||(n=e[t]=r),n}function Ie(e,t,r){return void 0===r&&(r=[]),Re(e,t,r)}function Ne(e,t){e.includes(t)||e.push(t)}function Ae(e,t,r){Ne(Ie(e,t),r)}function Te(e){void 0===e&&(e=52);var t=Math.random();return parseInt(t*e)}function Me(r,n,o,a){if(void 0===n&&(n=[]),void 0===a&&(a=!1),Array.isArray(r)){var t=[];return n.forEach(function(e){r.includes(e)&&t.push(e)}),r.length=0,void t.forEach(function(e){return r.push(e)})}ke(r).forEach(function(e){if(!n.includes(e)){var t=r[e];a&&t?ke(t).forEach(function(e){return delete t[e]}):o?r[e]=o:delete r[e]}})}function ke(e){return Object.keys(e)}function Pe(e){var t=null;return e&&(e.persist&&e.persist(),e.currentTarget&&e.type?t=e:e.nativeEvent&&e.target&&(e.currentTarget=e.target,t=e)),t}function je(t,r,e){function n(e){window&&(e?e[t]=r:window[t]=r)}window?n(e):setTimeout(function(){n(e)},3e3)}function We(e,t){for(var r in e)if(!(r in t))return!0;for(var n in t)if(e[n]!==t[n])return!0;return!1}function Le(e){var t=e;return ve(e)?t=k({},e):Array.isArray(e)&&(t=[].concat(e)),t}function Fe(o,a,c,i){var u={},s=!1,f=O.nonObjectValueCompare,d=O.objectValueCompare;if(!c){if(!(c?O.extractModuleChangedState:O.extractRefChangedState))return a;if(!f&&!d)return a}return a&&ke(a).forEach(function(e){var t=o[e],r=a[e],n=!0;!0===i||("object"!=typeof r?f&&(n=t!==r):d&&(n=t!==r)),n&&(c&&(c.prevStateContainer[e]=t,c.incStateVer(e),o[e]=r),u[e]=r,s=!0)}),s?u:null}function Ve(e,t){var r=[];return e.forEach(function(e){t.includes(e)||r.push(e)}),r}function He(e){return void 0===e&&(e={}),"string"==typeof e?{module:e}:e?e.module?Object.assign({module:se},e):Object.assign(e,{module:se}):{module:se}}var ze="";function Ge(){return ze}function qe(){var t=null;return{commit:function(e){t||(t={}),Object.assign(t,e)},clear:function(){return t=null},getFnCommittedState:function(){return t}}}function Be(){var e=!1;return!window||("previewFrame"===window.name||window.__SANDBOX_DATA__||window.BrowserFS)&&(e=!0),e}function Ye(e){return{payload:null,renderKey:[],delay:-1,module:e,fnName:""}}function Je(e){void 0===e&&(e={});var t=he(e)?e():e;if(!me(t))throw Error("state "+ie);return t}function Xe(e,t){var r=t.split(".");return function e(t,r,n,o){var a=r[o];return n===o?t[a]:e(t[a],r,n,++o)}(e,r,r.length-1,0)}function Ze(e){return Array.isArray(e)||"-"===e||"*"===e}function Qe(e,t,r){void 0===r&&(r=!0);var n=t||{},o={fn:e},a=Ze(n)?{depKeys:n}:n;return r&&function(e){if(e&&!Ze(e))throw Error("depKeys must an array , '*' or '-'")}(a.depKeys),Object.assign(o,a)}function et(t){return void 0===t&&(t=1e3),new Promise(function(e){return setTimeout(e,t)})}function tt(e,t){return void 0!==e?e:t}var rt,nt={act:null,errorHandler:null,warningHandler:null,tryHandleError:function(e,t){return nt.errorHandler?nt.errorHandler(e):function(e,t){if(void 0===t&&(t=!1),console.error("found uncaught err, suggest config an errorHandler in run options"),console.error(e),!t)throw e}(e,t)},tryHandleWarning:function(e){xe(e),nt.warningHandler&&nt.warningHandler(e)}},ot={},at={};function ct(t,r,n){try{t[r][n]=1}catch(e){var o={};o[n]=1,t[r]=o}}function it(e,t){return e+"/"+t}function ut(e,t){ct(ot,e,t)}function st(e,t,r){!function(e,t){try{delete ot[e][t]}catch(e){}}(it(e,t),r)}var ft,dt=((rt={})[se]=0,rt[ue]=0,rt),lt={_lifecycle:(ft={},ft[se]={},ft[ue]={},ft),_mountedOnce:{},_willUnmountOnce:{}},yt={};var pt={module:{computed:{},watch:{}},ref:{computed:{},watch:{},effect:{}}};function vt(e,t,r){var n=t[e];return{retKey:e,fn:n.fn,depKeys:n.depKeys,isLazy:r,sort:n.sort}}var mt=function(e,t){return e.sort-t.sort};function ht(e,t,r,n,o,a,c,i){var u=n[o],s=[];if(J(u))return{pickedFns:s,setted:[],changed:[],retKey2stateKeys:{}};var f=u.retKey2fn,d=u.retKey2lazy,l=u.stateKey2retKeys,y=u.retKey2stateKeys,p=u.fnCount;if(e){var v=ke(f),m=ke(c),h=m;return"computed"===r?{pickedFns:v.map(function(e){return vt(e,f,d[e])}).sort(mt),setted:m,changed:h,retKey2stateKeys:y}:(v.forEach(function(e){var t=f[e];t.immediate&&s.push({retKey:e,fn:t.fn,depKeys:t.depKeys,sort:t.sort})}),s.sort(mt),{pickedFns:s,setted:m,changed:h,retKey2stateKeys:y})}var _=function(r,n){var o=[],a=[];return ke(n).forEach(function(e){var t=n[e];void 0!==t&&(a.push(e),t!==r[e]&&o.push(e))}),{changed:o,setted:a}}(a,c),C=_.setted,K=_.changed;if(0===C.length)return{pickedFns:s,setted:[],changed:[],retKey2stateKeys:{}};var g=C.join(",")+"|"+K.join(",")+"|"+o,S=pt[t][r],E=i?Re(S,i):S,$=E[g];return $?{pickedFns:$.map(function(e){return vt(e,f,d[e])}),setted:C,changed:K,retKey2stateKeys:y}:(function(s,o,f,d,a,l,c){if(0===o.length)return;var e=a["*"];if(e){var i=0<f.length;e.forEach(function(e){var t=d[e],r=t.fn,n=t.compare,o=t.depKeys,a=t.sort,c={retKey:e,fn:r,depKeys:o,isLazy:l[e],sort:a};n?i&&s.push(c):s.push(c)})}s.length<c&&function(){var u={},e=o.length,t=function(e){var i=o[e],t=a[i];return t?(t.forEach(function(e){if(!u[e]){var t=d[e],r=t.fn,n=t.compare,o=t.depKeys,a=t.sort,c=f.includes(i);(!!c||(!n||c))&&(u[e]=!0,s.push({retKey:e,fn:r,depKeys:o,isLazy:l[e],sort:a}))}}),s.length===c?"break":void 0):"continue"};e:for(var r=0;r<e;r++){var n=t(r);switch(n){case"continue":continue;case"break":break e}}}();s.sort(mt)}(s,C,K,f,l,d,p),E[g]=s.map(function(e){return e.retKey}),{pickedFns:s,setted:C,changed:K,retKey2stateKeys:y})}function _t(e,t,r){var n=t[r];return void 0!==n&&(e[r]=n,!0)}function Ct(t,r,e,n){void 0===r&&(r=[]),void 0===e&&(e=!1),void 0===n&&(n=!1);var o={},a=[],c=!1;if(!me(t))return{partialState:e?null:o,isStateEmpty:!0,ignoredStateKeys:a,missKeyInState:c};var i=!0,u=ke(t),s=u.length,f=r.length;return s<f?u.forEach(function(e){r.includes(e)?_t(o,t,e)&&(i=!1):(c=!0,n&&a.push(e))}):(c=f<s,r.forEach(function(e){_t(o,t,e)&&(i=!1)}),n&&(a=Ve(u,r))),i&&e&&(o=null),{partialState:o,isStateEmpty:i,ignoredStateKeys:a,missKeyInState:c}}function Kt(e,r){return new Proxy(e,{get:function(e,t){return _e(e,t)&&!r.includes(t)&&r.push(t),e[t]},set:function(){return!0}})}var gt,St=(function(e){var t=function(a){var u,e=Object.prototype,s=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",n=t.toStringTag||"@@toStringTag";function c(e,t,r,n){var o=Object.create((t&&t.prototype instanceof i?t:i).prototype),a=new x(n||[]);return o._invoke=function(a,c,i){var u=d;return function(e,t){if(u===y)throw Error("Generator is already running");if(u===p){if("throw"===e)throw t;return U()}for(i.method=e,i.arg=t;;){var r=i.delegate;if(r){var n=$(r,i);if(n){if(n===v)continue;return n}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(u===d)throw u=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);u=y;var o=f(a,c,i);if("normal"===o.type){if(u=i.done?p:l,o.arg===v)continue;return{value:o.arg,done:i.done}}"throw"===o.type&&(u=p,i.method="throw",i.arg=o.arg)}}}(e,r,a),o}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}a.wrap=c;var d="suspendedStart",l="suspendedYield",y="executing",p="completed",v={};function i(){}function m(){}function h(){}var _={};_[o]=function(){return this};var C=Object.getPrototypeOf,K=C&&C(C(O([])));K&&K!==e&&s.call(K,o)&&(_=K);var g=h.prototype=i.prototype=Object.create(_);function S(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function E(u){var t;this._invoke=function(r,n){function e(){return new Promise(function(e,t){!function t(e,r,n,o){var a=f(u[e],u,r);if("throw"!==a.type){var c=a.arg,i=c.value;return i&&"object"==typeof i&&s.call(i,"__await")?Promise.resolve(i.__await).then(function(e){t("next",e,n,o)},function(e){t("throw",e,n,o)}):Promise.resolve(i).then(function(e){c.value=e,n(c)},function(e){return t("throw",e,n,o)})}o(a.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}}function $(e,t){var r=e.iterator[t.method];if(r===u){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=u,$(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,v;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=u),t.delegate=null,v):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function b(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function O(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(s.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=u,e.done=!0,e};return n.next=n}}return{next:U}}function U(){return{value:u,done:!0}}return m.prototype=g.constructor=h,h.constructor=m,h[n]=m.displayName="GeneratorFunction",a.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,n in e||(e[n]="GeneratorFunction")),e.prototype=Object.create(g),e},a.awrap=function(e){return{__await:e}},S(E.prototype),E.prototype[r]=function(){return this},a.AsyncIterator=E,a.async=function(e,t,r,n){var o=new E(c(e,t,r,n));return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},S(g),g[n]="Generator",g[o]=function(){return this},g.toString=function(){return"[object Generator]"},a.keys=function(r){var n=[];for(var e in r)n.push(e);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=O,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(b),!e)for(var t in this)"t"==t[0]&&s.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return a.type="throw",a.arg=r,n.next=e,t&&(n.method="next",n.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],a=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var c=s.call(o,"catchLoc"),i=s.call(o,"finallyLoc");if(c&&i){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!i)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}!o||"break"!==e&&"continue"!==e||t<o.tryLoc||o.finallyLoc<t||(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),b(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;b(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=u),v}},a}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}(gt={exports:{}},gt.exports),gt.exports);function Et(e,t,r,n,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,o)}var $t=[I,N,12,A,14,15,K,g,S,E,$],wt={};function bt(t,r){wt[t].forEach(function(e){try{e({sig:t,payload:r})}catch(e){nt.tryHandleError(e,!0)}})}function xt(e,t){!function(r,e,t){function n(e,t){t?r[e].push(t):console.warn("invalid sig["+e+"]")}Array.isArray(e)?e.forEach(function(e){n(e,t)}):n(e,t)}(wt,e,t)}$t.forEach(function(e){return wt[e]=[]});var Ot=ot,Ut=at;function Dt(e){!e||e.__$$ms===l&&e.ctx.__$$ccForceUpdate()}function Rt(){return(Rt=function(i){return function(){var e=this,c=arguments;return new Promise(function(t,r){var n=i.apply(e,c);function o(e){Et(n,t,r,o,a,"next",e)}function a(e){Et(n,t,r,o,a,"throw",e)}o(void 0)})}}(St.mark(function e(t){var r,n,o,a,c,i,u,s,f,d,l,y,p,v,m,h,_,C;return St.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((e.prev=0)===(n=(r=t.fns).length))return e.abrupt("return");e.next=5;break;case 5:return e.next=7,et();case 7:o=t.ref,a=t.module,c=t.fnAsync,i=t.fnRetKeys,u=t.cuRetContainer,s=t.retKey2stateKeys,f=t.sourceType!==H,d=[],l="",e.prev=11,bt(E,{module:a}),y=0;case 14:if(y>=n){e.next=34;break}if(p=r[y],v=c[y],h=void 0,bt(K,{module:a,retKey:l=m=i[y]}),v)return e.next=24,p();e.next=27;break;case 24:h=e.sent,e.next=28;break;case 27:h=p();case 28:u[m]=Ke(!1,h),bt(g,{module:a,retKey:m}),f&&(d=d.concat(s[m]));case 31:y++,e.next=14;break;case 34:bt($,{module:a}),e.next=41;break;case 37:e.prev=37,e.t0=e.catch(11),f&&(bt(S,_={module:a,err:e.t0,retKey:l}),bt($,_)),nt.tryHandleError(e.t0);case 41:f?(d=Array.from(new Set(d)),C={},d.forEach(function(e){var t=a+"/"+e;Object.assign(C,Ot[t],Ut[t])}),ke(C).forEach(function(e){Dt(yt[e])})):Dt(o),e.next=47;break;case 44:e.prev=44,e.t1=e.catch(0),nt.tryHandleError(e.t1);case 47:case"end":return e.stop()}},e,null,[[0,44],[11,37]])}))).apply(this,arguments)}function It(e,t,r,n){if(m[t].includes(r)){var o=e.ctx;if(!0===o.__$$inBM||o.__$$renderStatus===R){var a=o.ccUniqueKey,c=it(t,r);if(!0===o.__$$inBM)return void(o.__$$staticWaKeys[c]=1);if(n){if("-"!==o.watchedKeys)return;var i=o.__$$curWaKeys,u=o.__$$compareWaKeys,s=o.__$$nextCompareWaKeys;ut(c,a),u[r]=i[r]=1,s[r]||(s[r]=2,o.__$$nextCompareWaKeyCount++)}else{if("-"!==o.connect[t])return;var f=o.__$$curConnWaKeys,d=o.__$$compareConnWaKeys,l=o.__$$nextCompareConnWaKeys,y=o.__$$nextCompareConnWaKeyCount;ut(c,a),d[t][r]=f[t][r]=1;var p=l[t];p[r]||(p[r]=2,y[t]++)}}}}var Nt=Object.prototype.hasOwnProperty,At=q._computedRawValues,Tt=q._computedValues,Mt=q._computedRaw,kt=q._computedDep;function Pt(e,t,r,n,o){((e.retKey2stateKeys||{})[n]||[]).forEach(function(e){It(t,r,e,o)})}function jt(n,o,a,c){void 0===a&&(a=!0),void 0===c&&(c=!1);var i=n.ctx,u=Tt[o],s=c?i.refComputedRawValues:At[o];if(!s)return{};return new Proxy(s,{get:function(e,t){if(Nt.call(s,t))if(c){var r=n.ctx.computedDep;ke(r).forEach(function(e){Pt(r[e],n,e,t,a)})}else Pt(kt[o],n,o,t,a);return(c?i.refComputedValues:u)[t]},set:function(e,t,r){return e[t]=r,!0}})}var Wt=function(e,t){return xe(e+" call commit or commitCu as it is "+t)},Lt={},Ft={};function Vt(e,t,r){return e==V?Re(Lt,t):Re(Ft,r)}function Ht(e,t,r,n,o,a,c){if(void 0===c&&(c=!0),0!==a.length){var i,u;if(t===H){var s=e.computedDep,f=r===z?s:e.watchDep;u=Re(s,n),i=Re(f,n)}else{var d=q._computedDep,l=r===z?d:x._watchDep;u=Re(d,n),i=Re(l,n)}var y=Re(i,"stateKey2retKeys"),p=Re(i,"retKey2stateKeys"),v=function(e){var r=Ie(p,o);e.forEach(function(e){var t=Ie(y,e);Array.isArray(t)&&!t.includes(o)&&t.push(o),r.includes(e)||r.push(e)})};c?v(a):a.forEach(function(e){var t=Re(u,"retKey2stateKeys");v(t[e]||[])})}}function zt(e,t,r){return t===H?e.computedRetKeyFns:(q._computedDep[r]||{}).retKey2fn||{}}var Gt,qt=Symbol("sf");function Bt(f,U,D,R,d,e,I,N,A,T,M,k,P,l){void 0===f&&(f={}),void 0===l&&(l=!0);for(var j=f.ctx,W=j?j.ccUniqueKey:"",y={},L={sourceType:k,ref:f,module:U,fns:[],fnAsync:[],fnRetKeys:[],cuRetContainer:P},p=0,F=e,v=!1,t=function(){var S=1===++p&&T,e=d(F,S),t=e.pickedFns,E=e.setted,$=e.changed;if(L.retKey2stateKeys=e.retKey2stateKeys,!t.length)return"break";var r=qe(),w=r.commit,n=r.getFnCommittedState,o=qe(),b=o.commit,x=o.getFnCommittedState,O=o.clear;if(t.forEach(function(e){var r=e.retKey,t=e.fn,n=e.isLazy,o=k+" "+M+" retKey["+r+"]",a=o+" can't",c="",i=!1,u={retKey:r,callInfo:A,isFirstCall:T,commit:w,commitCu:b,setted:E,changed:$,cuVal:P,committedState:F,deltaCommittedState:N,stateModule:U,refModule:D,oldState:R,refCtx:j,setInitialVal:function(){S&&xe("non async "+o+" call setInitialVal is unnecessary")}},s=S&&"-"===e.depKeys,f=[],d=[],l={hasAsyncCuRefer:!1};if(s&&(u.cuVal=function(n,o,a,c,e,i,u){var s,f,d;return d=V===o?(s=At[c],f=Tt[c],Mt[c]):(s=e.refComputedRawValues,f=e.refComputedValues,e.computedRetKeyFns),new Proxy(s,{get:function(e,t){var r=o+" "+a+" retKey["+n+"]";return Nt.call(s,t)?(X(d[t],c+"/"+t)&&(u.hasAsyncCuRefer=!0),i.push(t)):xe(r+" get cuVal invalid retKey["+t+"]"),f[t]},set:function(){return!0}})}(r,k,M,U,j,f,l)),M===z){var y=X(t,U+"/"+r);if(n||y){var p=n?"lazy":"async computed";u.commit=function(){return Wt(a,p)},u.commitCu=u.commit,y&&(u.setInitialVal=function(e){if(c=e,i=!0,S)throw qt})}if(n)P[r]=Ke(n,null,!0,t,I,R,u);else{var v,m=I,h=R;if(s&&(h=Kt(I,d),m=h),y?S&&t(m,h,u).catch(function(e){if(e!==qt)throw e}):v=t(m,h,u),y||l.hasAsyncCuRefer){if(S){if(!i)throw Error("async "+o+" forget call setInitialVal");v=c}else v=P[r];u.setInitialVal=pe,u.commit=function(){return Wt(a,"async computed or it refers async computed ret")},u.commitCu=u.commit,L.fns.push(function(){return t(m,h,u)}),L.fnAsync.push(y),L.fnRetKeys.push(r)}P[r]=Ke(!1,v),s&&(Ht(j,k,z,U,r,d),Ht(j,k,z,U,r,f,!1),function(e,t,r,n,o,a){var c=Vt(e,o,a),i=zt(r,o,a),u=Ie(c,e);t.forEach(function(e){i[e].isStatic?u.push(e):Ie(c,e).forEach(function(e){return Ne(u,e)})})}(r,f,j,0,k,U))}}else{var _=I,C=R;s&&(C=_=Kt(I,d)),t(_,C,u),s&&(Ht(j,k,G,U,r,d),Ht(j,k,G,U,r,f,!1))}s&&k===H&&d.forEach(function(e){return j.__$$staticWaKeys[it(U,e)]=1});var K=x();if(K){var g=zt(j,k,U);ke(K).forEach(function(e){var t=g[e];t?t.isStatic?function(e,t,r,n){return Ie(Vt(t,r,n),e)}(e,k,U,W).includes(e)?xe("commitCu:"+a+" change ["+e+"], ["+r+"] referred ["+e+"]"):P[e]=Ke(!1,K[e]):xe("commitCu:"+a+" change ["+e+"], it must have zero dep keys"):xe("commitCu:"+a+" commit ["+e+"], it is not defined")}),O()}}),F=n()){var a=function(e,t){void 0===t&&(t=!1),t?Object.assign(F,e):F=e,F&&(Object.assign(y,F),l?(Object.assign(I,F),Object.assign(N,F)):F=null,v=!0)},c=function(e){var t=Ct(e,"ref"===k?j.privStateKeys:m[U],!0),r=t.partialState,n=t.ignoredStateKeys;if(n.length){var o="they are not "+(k===H?"private":"module")+", fn is "+k+" "+M;xe("these state keys["+n.join(",")+"] are invalid, "+o)}return r},i=c(F);if(i&&(a(i),M===G)){var u=function(e,t){return t===H?e.computedDep:q._computedDep}(j,k),s=Bt(f,U,D,R,function(e,t){return ht(t,k,z,u,U,R,e,W)},i,I,N,A,!1,z,k,P);if(s.hasDelta)a(c(s.newCommittedState),!0)}}2<p&&(xe("fnCtx.commit may goes endless loop, please check your code"),xe(A),F=null)};F;){if("break"===t())break}return function(e){Rt.apply(this,arguments)}(L),{hasDelta:v,newCommittedState:y}}function Yt(){return fr.permanentDispatcher}function Jt(r,e,t){void 0===t&&(t={});var n=t.ref,o=void 0===n?null:n,a=t.callInfo,c=void 0===a?{}:a,i=t.noSave,u=void 0!==i&&i,s=t.force,f=tr(r),d=Xt[r],l=q.getRootComputedDep(),y=x.getRootWatchDep(),p=o||Yt(),v=p.module,m=Object.assign({},f,e),h=Object.assign({},e),_=Bt(p,r,v,f,function(e,t){return ht(t,V,"computed",l,r,f,e)},h,m,h,c,!1,z,V,d).hasDelta,C=Bt(p,r,v,f,function(e,t){return ht(t,V,"watch",y,r,f,e)},h,m,h,c,!1,G,V,d).hasDelta;return u||er(r,h,null,s),{hasDelta:_||C,deltaCommittedState:h}}var Xt=q._computedValues,Zt=ke,Qt=Fe,er=function(t,e,r,n){void 0===r&&(r=!1);var o=e;r&&(o=Ct(e,m[t],!0).partialState);var a=tr(t),c=rr(t);return nr(t),Qt(a,o,{prevStateContainer:c,incStateVer:function(e){return ar(t,e)}},n)},tr=function(e){return cr[e]},rr=function(e){return ir[e]},nr=function(t,r){void 0===r&&(r=1);try{sr[t]+=r}catch(e){sr[t]=r}};function or(){var e;return(e={})[fe]={},e[de]={},e[ue]={},e[se]={},e}var ar=function(e,t){ur[e][t]++},cr=or(),ir=or(),ur={},sr={},fr={getDispatcher:Yt,isHotReloadMode:function(){return!!fr.isHot||window&&(window.webpackHotUpdate||Be())},runtimeVar:O,runtimeHandler:nt,isHot:!1,reComputed:!0,isStartup:!1,moduleName2stateFn:{},moduleName2stateKeys:m,moduleName2isConfigured:{},ccClassKey2Context:{},globalStateKeys:[],store:{appendState:function(e,t){if(!m[e])throw Error("module["+e+"] not configured");var r=Ie(m,e);Zt(t).forEach(function(e){r.includes(e)||r.push(e)}),fr.store.setState(e,t)},_state:cr,_prevState:ir,_stateVer:ur,getState:function(e){return e?tr(e):cr},getPrevState:function(e){return e?rr(e):ir},getStateVer:function(e){return e?ur[e]:ur},getModuleVer:function(e){return e?sr[e]:sr},incModuleVer:nr,replaceMV:function(e){sr=e},setState:function(e,t,r){return Jt(e,t,r)},setGlobalState:function(e){return Jt(ue,e)},saveSharedState:er,getGlobalState:function(){return cr[ue]}},reducer:{_reducer:(Gt={},Gt[ue]={},Gt[fe]={},Gt),_caller:{},_fnName2fullFnNames:{},_module2fnNames:{},_module2Ghosts:{}},computed:q,watch:x,refStore:{_state:{},setState:function(e,t){var r=fr.refStore._state,n=Object.assign({},r[e],t);r[e]=n}},lifecycle:lt,ccUKey2ref:yt,event2handlers:{},ccUKey2handlerKeys:{},handlerKey2handler:{},waKey2uKeyMap:ot,waKey2staticUKeyMap:at,module2insCount:dt,refs:yt,info:{packageLoadTime:Date.now(),firstStartupTime:"",latestStartupTime:"",version:"2.13.8",author:"fantasticsoul",emails:["624313307@qq.com","zhongzhengkai@gmail.com"],tag:"glory"},featureStr2classKey:{},userClassKey2featureStr:{},middlewares:[],plugins:[],pluginNameMap:{},permanentDispatcher:null,localStorage:null,recoverRefState:pe,getModuleStateKeys:function(e){return fr.moduleName2stateKeys[e]}};fr.recoverRefState=function(){var e=fr.localStorage;if(e){var t=e.length,r=fr.refStore._state;try{for(var n=0;n<t;n++){var o=e.key(n);if(!o.startsWith("CCSS_"))return;r[o.substr(5)]=JSON.parse(e.getItem(o))}}catch(e){console.error(e)}}};var dr=[],lr=function(e){return e.toLowerCase().startsWith(fe)},yr=function(e){return!!e&&/^[\$\#\&a-zA-Z0-9_-]+$/.test(e)},pr=Ee,vr=Ce,mr=ke,hr=fr.store,_r=fr.getModuleStateKeys;function Cr(e){if(!yr(e))throw Error("module["+e+"] writing is invalid!");if(lr(e))throw Error("'$$cc' is a built-in module name")}function Kr(e,t,r){void 0===t&&(t=!0),void 0===r&&(r="");var n=r||"module["+e+"]",o=hr._state;if(Cr(e),e!==ue)if(t){if(Y(o[e]))throw vr(ne.CC_MODULE_NAME_DUPLICATE,pr(n))}else if(!o[e])throw vr(ne.CC_MODULE_NOT_FOUND,pr(n))}function gr(e,t,n,o){void 0===n&&(n=!0),void 0===o&&(o="");var a=n?"":"not ",c=_r(e);t.forEach(function(e){function t(){throw Error(function(e,t){return o+"key["+e+"] must "+t+"be a module state key"}(e,a))}var r=c.includes(e);n?r||t():r&&t()})}var Sr={},Er=function(e,t,r){if(e.code!==ne.CC_MODULE_NAME_DUPLICATE||!fr.isHotReloadMode())throw e;var n=function(e){e||(e="");for(var t=e.split("\n"),r=t.length,o="",a=0;a<r;a++)if(t[a].includes(".checkModuleNameAndState")){!function(){var e=t[a+3].split(":"),r=e.length-1,n=[];e.forEach(function(e,t){t!==r&&n.push(e)}),o=n.join(":")}();break}return o}(e.stack),o=r+"|--link--|"+t,a=Sr[o];if(a){if(n!==a)throw e}else Sr[o]=n},$r={};function wr(e){$r[e]={}}var br=function(e,t,r){var n=e[t];n||(n=e[t]={}),function(t,r){ke(r).forEach(function(e){t[e]=r[e]})}(n,r)},xr=ke,Or=Re;function Ur(t,e,r){void 0===r&&(r=!0);var n=t===de?{}:e;try{!function(e,t,r){if(Kr(e,r),!me(t))throw Error("module["+e+"]'s state "+ie)}(t,n,r)}catch(e){Er(e,t,"state")}wr(t);var o=fr.store,a=o.getState(),c=o.getStateVer(),i=o.getModuleVer(),u=o.getPrevState();br(a,t,n),br(u,t,n),c[t]=xr(n).reduce(function(e,t){return e[t]=1,e},{}),i[t]=1;var s=fr.computed;Or(s._computedDep,t,{retKey2fn:{},retKey2lazy:{},stateKey2retKeys:{},retKey2stateKeys:{},fnCount:0}),Or(s._computedValues,t),Or(s._computedRawValues,t);var f=xr(n);if(fr.moduleName2stateKeys[t]=f,t===ue){var d=fr.globalStateKeys;f.forEach(function(e){d.includes(e)||d.push(e)})}fr.module2insCount[t]=0}var Dr="if this message doesn't matter, you can ignore it";function Rr(e,t){void 0===t&&(t=!1);var r=fr.ccUKey2ref,n=null;if(e){Kr(e,!1);for(var o=ke(r),a=o.length,c=0;c<a;c++){var i=r[o[c]];if(i.ctx.module===e){n=i;break}}}if(!n){if(t)throw Error("[[pickOneRef]]: no ref found for module["+e+"]!,"+Dr);n=fr.permanentDispatcher}return n}var Ir=Se,Nr=xe,Ar=function(){return Promise.resolve()};function Tr(e,t,r,n,o){void 0===r&&(r="");var a=void 0===o?{}:o,c=a.ccClassKey,i=a.ccKey,u=a.throwError,s=a.refModule,f=void 0===s?"":s;if(void 0===e&&void 0===t)throw Error("params type error");var d,l="",y="";try{if(c&&i){var p=Ir(c,i),v=fr.refs[p];if(!v)return Nr("no ref found for ccUniqueKey:"+p+"!"),Ar();d=v.ctx.dispatch}else{if("string"==typeof e)if(e.includes("/")){var m=e.split("/");l=m[0],y=m[1]}else y=e;var h;l&&"*"!==l?h=Rr(l):f&&(h=Rr(f)),h||(h=Rr()),d=h.ctx.dispatch}if("*"!==l)return d(e,t,r,n);var _=fr.reducer._fnName2fullFnNames[y];if(!_)return;var C=[];return _.forEach(function(e){C.push(d(e,t,r,n))}),Promise.all(C)}catch(e){if(u)throw e;return Nr(e.message),Ar()}}function Mr(e,t,r,n,o){return Tr(e,t,r,n,o)}function kr(r,t,e){if(void 0===t&&(t={}),void 0===e&&(e=[]),!me(t))throw Error("module["+r+"] reducer "+ie);var n=fr.reducer,o=n._reducer,a=n._caller,c=n._fnName2fullFnNames,i=n._module2fnNames,u=n._module2Ghosts,s=Object.assign({},t);o[r]=s;var f=Re(a,r),d=Ie(i,r);Re(u,r,e.slice()),e.forEach(function(e){if(!t[e])throw Error("ghost["+e+"] not exist")}),s.setState||(s.setState=function(e){return e}),ke(s).forEach(function(e){Ne(d,e);var n=r+"/"+e;Ne(Ie(c,e),n),f[e]=function(e,t,r){return Mr(n,e,t,r)};var o=s[e];if(!he(o))throw Error("module["+r+"] reducer["+e+"] "+j);var t=o;o.__fnName&&(s[e]=t=function(e,t,r){return o(e,t,r)}),t.__fnName=e,t.__stateModule=r,t.__ctName=o.__ctName||o.constructor.name,t.__isAsync=X(o)})}var Pr=0,jr=["a","A","b","B","c","C","d","D","e","E","f","F","g","G","h","H","i","I","j","J","k","K","l","L","m","M","n","N","o","O","p","P","q","Q","r","R","s","S","t","T","u","U","v","V","w","W","x","X","y","Y","z","Z"];function Wr(e){return Pr++,(e||function(e){void 0===e&&(e=6);for(var t="",r=0;r<e;r++)t+=jr[Te()];return t}())+"_"+Pr}var Lr=fr.moduleName2stateKeys,Fr=fr.runtimeVar,Vr=fr.runtimeHandler,Hr=1;function zr(e,t,r,n,o){var a=t.refCtx,c=t.type;if(e!==H||a.__$$inBM){if(r){var i,u,s,f=typeof r;if("string"==f)me(n)?((u={})[r]=n,i=u):typeof n===ae&&((s={})[r]=Qe(n,o),i=s);else if(me(r))i=r;else if(f===ae&&!me(i=r(a)))return void Vr.tryHandleWarning(Error("type of "+c+" callback result must be an object"));i?function(R,I,N){var e=Fr.computedCompare,t=Fr.watchCompare,A=Fr.watchImmediate,T=Vr.tryHandleWarning,M=I.type===z?e:t,k=I.module;ke(N).forEach(function(c){var e=N[c],t=typeof e,r=e;if(t===ae&&(r={fn:e}),me(r)){var n=r,o=n.fn,a=n.immediate,i=void 0===a?A:a,u=n.compare,s=void 0===u?M:u,f=n.lazy,d=n.retKeyDep,l=void 0===d||d,y=r.depKeys||"-",p=r.sort||Hr++,v=Wr("mark");if("*"===y||"-"===y){var m="-"===y&&l,h=Yr(I,k,c,m),_=h.pureKey,C=h.module,K=Gr(R,I,v,_);if(K)return T(K);Br(R,I,C,_,o,y,i,s,f,p)}else if(0===y.length){var g=Yr(I,k,c),S=g.pureKey,E=g.module,$=Gr(R,I,v,S);if($)return T($);Br(R,I,E,S,o,y,i,s,f,p)}else{var w=Yr(I,k,c),b=w.pureKey,x=w.moduleOfKey,O=x,U=Gr(R,I,v,b);if(U)return T(U);var D={};y.forEach(function(e){var t=Yr(I,k,e),r=t.isStateKey,n=t.pureKey,o=t.module;if(O&&o!==O)throw Error("found slash both in retKey["+c+"] and depKey["+e+"], but their module is different");var a=Ie(D,o);if(!r)throw Error("depKey["+e+"] invalid, module["+o+"] doesn't include its stateKey["+n+"]");qr(I,o,n),a.push(n)}),ke(D).forEach(function(e){Br(R,I,e,b,o,D[e],i,s,f,p)})}}else T("retKey["+c+"] item type error")})}(e,t,i):Vr.tryHandleWarning(Error(e+" "+c+" param type error"))}}else Vr.tryHandleWarning(Error(e+" "+c+" must been called in setup block"))}function Gr(e,t,r,n){if(e===H){var o=t.refCtx,a=o.retKey2fnUid,c=t.type,i=c+"_"+n;if(a[i])return Error("ccUKey["+o.ccUniqueKey+"], retKey["+n+"] duplicate in ref "+c);a[i]=r}}function qr(e,t,r){var n=e.refCtx;n&&(n.__$$staticWaKeys[it(t,r)]=1)}function Br(e,t,r,n,o,a,c,i,u,s){var f=Re(t.dep,r,{retKey2fn:{},retKey2lazy:{},stateKey2retKeys:{},retKey2stateKeys:{},fnCount:0}),d=f.retKey2fn,l=f.stateKey2retKeys,y=f.retKey2lazy,p=f.retKey2stateKeys,v=Array.isArray(a)&&0===a.length,m=s;v?m<0||(m=-1):s<0&&(m=0);var h={fn:o,immediate:c,compare:i,depKeys:a,sort:m,isStatic:v};d[n]?e!==H&&(d[n]=h,y[n]=u):(d[n]=h,y[n]=u,f.fnCount++),e===H&&(t.retKeyFns[n]=d[n]);var _=t.refCtx;if(_&&("computed"===t.type?_.hasComputedFn=!0:_.hasWatchFn=!0),"-"!==a){var C="*"===a,K=C?["*"]:a;C&&(p[n]=Lr[r]),K.forEach(function(e){C||Ae(p,n,e),Ae(l,e,n)})}}function Yr(e,t,r,n){void 0===n&&(n=!1);var o,a=t,c=r,i="";if(r.includes("/")){var u=r.split("/"),s=u[0];s&&(a=i=s),c=u[1]}var f=Lr[a];if(a===e.module)o=e.stateKeys;else{if(!(o=f))throw Ce(ne.CC_MODULE_NOT_FOUND,Ee("module["+a+"]"));if(!e.connect[a])throw Ce(ne.CC_MODULE_NOT_CONNECTED,Ee("module["+a+"], retKey["+c+"]"))}var d=o.includes(c);return n&&d&&function(e,t,r,n){var o=Re(e.dep,t,{retKey2fn:{},retKey2lazy:{},stateKey2retKeys:{},retKey2stateKeys:{},fnCount:0}),a=o.retKey2stateKeys;Ae(o.stateKey2retKeys,r,r),Ae(a,r,r),n&&qr(e,t,r)}(e,a,c,f.includes(c)),{isStateKey:d,pureKey:c,module:a,moduleOfKey:i}}function Jr(e,o){var t={};return ke(e).forEach(function(n){o[n]=Ke(),Object.defineProperty(t,n,{get:function(){var e=o[n]||{},t=e.isLazy;if(!t)return e.result;if(t&&e.needCompute){var r=(0,e.fn)(e.newState,e.oldState,e.fnCtx);e.result=r,e.needCompute=!1}return e.result},set:function(e){var t=o[n];e[U]?e.isLazy?(t.isLazy=!0,t.needCompute=!0,t.newState=e.newState,t.oldState=e.oldState,t.fn=e.fn,t.fnCtx=e.fnCtx):(t.isLazy=!1,t.result=e.result):xe("computed value can not been changed manually")}})}),t}var Xr=me;function Zr(r,e){if(void 0===e&&(e={}),!Xr(e))throw Error("module["+r+"] computed "+ie);var t=fr.computed,n=fr.store.getState(),o=t.getRootComputedValue(),a=t.getRootComputedDep(),c=t.getRootComputedRaw(),i=t._computedRawValues[r];c[r]=e;var u=n[r];zr(V,{type:z,module:r,stateKeys:ke(u),dep:a},e);var s=fr.getDispatcher();o[r]=Jr(e,i);var f=o[r];try{Bt(s,r,s&&s.ctx.module,u,function(e,t){return ht(t,V,z,a,r,u,e)},u,u,u,Ye(r),!0,z,V,f)}catch(e){fr.runtimeHandler.tryHandleError(e)}}var Qr=me,en=Re,tn=ke;function rn(r,e,t){if(void 0===e&&(e={}),void 0===t&&(t=!1),!Qr(e))throw Error("module["+r+"] watch "+ie);var n=fr.watch.getRootWatchDep(),o=fr.watch.getRootWatchRaw(),a=fr.computed.getRootComputedValue();if(t){var c=o[r];c?Object.assign(c,e):o[r]=e}else o[r]=e;var i=(0,fr.store.getState)(r);zr(V,{module:r,stateKeys:tn(i),dep:n},e);var u=fr.getDispatcher(),s=en(a,r);Bt(u,r,u&&u.ctx.module,i,function(e,t){return ht(t,V,G,n,r,i,e)},i,i,i,Ye(r),!0,G,V,s)}var nn=0,on={},an={},cn={},un={};function sn(){return++nn}function fn(e,t,r,n){if(r){var o=n[e];o||(n[e]=o={});var a=o[t];a?Object.assign(a,r):o[t]=r}}function dn(e,t,r){fn(e,t,r,on)}function ln(e,t,r,n){return e||dn(t,r,n),function(e){var t=function(e){return on[e]}(e),r=[];return ke(t).forEach(function(e){r.push({module:e,state:t[e]})}),r}(t)}function yn(e){delete on[e]}var pn={},vn=function(e,t,r){void 0===r&&(r=1e3);var n=pn[t];n&&clearTimeout(n),pn[t]=setTimeout(function(){delete pn[t],e()},r)};function mn(e,r,n,t,o,a,c){void 0===a&&(a=!1);var i=e.ctx;if(!i.hasWatchFn)return{hasDelta:!1,newCommittedState:{}};var u=Object.assign({},n,t),s=i.watchDep,f=i.ccUniqueKey;return{hasDelta:Bt(e,r,i.module,n,function(e,t){return ht(t,H,G,s,r,n,e,f)},t,u,t,o,a,G,H,i.refComputed,c).hasDelta}}function hn(e,r,n,t,o,a,c){void 0===a&&(a=!1);var i=e.ctx;if(!i.hasComputedFn)return{hasDelta:!1,newCommittedState:{}};var u=i.computedDep,s=i.module,f=i.ccUniqueKey,d=i.refComputed,l=Object.assign({},n,t);return Bt(e,r,s,n,function(e,t){return ht(t,H,z,u,r,n,e,f)},t,l,t,o,a,z,H,d,c)}var _n=ke,Cn=function(e){return!e&&0!==e},Kn=fr.ccUKey2ref,gn=fr.waKey2uKeyMap,Sn=fr.waKey2staticUKeyMap;function En(o,e,i,u){var t=_n(e),r=function(e,t,r,n){void 0===n&&(n=[]);var o=r?r.join(","):"";return e+"/"+t.sort().join(",")+"/"+o+"/"+("*"===n?"*":n.sort().join(","))}(o,t,i,u),n=function(e,t){return $r[e][t]}(o,r);if(n)return{sharedStateKeys:t,result:n};var a={},c=[],s=[];t.forEach(function(e){var t=o+"/"+e;Object.assign(a,gn[t],Sn[t])});function f(e,t){e?c.push(t):s.push(t)}function d(e,t){var r=e.ctx,n=r.ccClassKey,o=r.ccUniqueKey,a=r.props;if(i.length){var c=i.includes(r.renderKey);if("*"===u||!Cn(a.id))return void(c&&f(t,o));u.includes(n)?c&&f(t,o):f(t,o)}else f(t,o)}var l=_n(a),y=!1;l.forEach(function(e){var t=Kn[e];if(t){var r=t.ctx,n=!!r.connect[o];r.module===o&&d(t,!0),n&&d(t,!1)}else y=!0});var p={belong:c,connect:s};return y||function(e,t,r){$r[e][t]=r}(o,r,p),{sharedStateKeys:t,result:p}}var $n=me,wn=xe,bn=J,xn=function(e,t){return e+"/"+ke(t).sort().join("|")},On=ke,Un=1,Dn=2,Rn=re,In=ee,Nn=15,An=1,Tn=2,Mn=3,kn=y,Pn=l,jn=fr.store,Wn=jn.setState,Ln=jn.getPrevState,Fn=jn.saveSharedState,Vn=fr.middlewares,Hn=fr.ccClassKey2Context,zn=fr.refStore,Gn=fr.getModuleStateKeys,qn=fr.runtimeVar;function Bn(e){return qn.alwaysRenderCaller||e}function Yn(e,t,i){var r=void 0===t?{}:t,u=r.module,n=r.skipMiddleware,s=void 0!==n&&n,f=r.payload,d=r.stateChangedCb,o=r.force,l=void 0!==o&&o,a=r.keys,c=void 0===a?[]:a,y=r.keyPath,p=void 0===y?"":y,v=r.reactCallback,m=r.type,h=r.calledBy,_=void 0===h?In:h,C=r.fnName,K=void 0===C?"":C,g=r.renderKey,S=r.delay,E=void 0===S?-1:S;if(e)if($n(e)){var $=function(e){function t(e){return e||0===e?Array.isArray(e)?e:null:[]}var r=t(e);return r||("object"==typeof e&&(r=t(e.renderKey)),r||[e])}(g),w=g&&g.delay?g.delay:E,b=i.ctx,x=b.module,O=b.ccUniqueKey,U=b.ccKey,D=function(e,t){return e===t?Un:Dn}(u,x),R={calledBy:_,payload:f,renderKey:$,force:l,ccKey:U,module:u,fnName:K,keys:c,keyPath:p},I=function(e,t,r){var n=Gn(e),o=Ct(t,n,!0),a=o.partialState,c=o.missKeyInState;if(a){var i=Wn(e,a,r),u=i.hasDelta,s=i.deltaCommittedState;return{partialState:s,hasDelta:u,hasPrivState:c}}return{partialState:a,hasDelta:!1,hasPrivState:c}}(u,e,{ref:i,callInfo:R,noSave:!0,force:l}),N=I.partialState,A=I.hasPrivState;I.hasDelta&&Object.assign(e,N);var T=!A&&!!N;Jn(i,R,$,_,e,D,T,v,Bn(l),function(r,n,o){var a={calledBy:_,type:m,payload:f,renderKey:$,delay:w,ccKey:U,ccUniqueKey:O,committedState:n,refModule:x,module:u,fnName:K,sharedState:N||{}},c=!1;a.modState=function(e,t){c=!0,a.committedState[e]=t,a.sharedState[e]=t},function(e,r,n){if(!0!==e){var o=Vn.length;if(0<o){var a=0;!function e(){if(a===o)n();else{var t=Vn[a];a++,he(t)?t(r,e):(wn("found one middleware "+j),e())}}()}else n()}else n()}(s,a,function(){var e=a.sharedState,t=Fn(u,e,c,l);o&&o(),r!==An||t?bt(Nn,{calledBy:_,type:m,committedState:n,sharedState:t||{},module:u,ccUniqueKey:O,renderKey:$}):T&&Jn(i,R,[],In,e,D,!1,v,Bn(l)),d&&d(),t&&function(e,t,r,n,o,a,c,i,u,s){var f=o;0<u&&(f&&Jn(r,t,[],In,n,e,!1,c,Bn(s)),f=!1);var d=function(){!function(l,e,y,a,p,c,t,i){if(!y)return;var v=fr.ccUKey2ref,r=e.ctx,u=r.ccUniqueKey,n=En(p,y,t,Hn[r.ccClassKey].renderKeyClasses),m=n.sharedStateKeys,o=n.result,s=o.connect,h={};o.belong.forEach(function(e){var t=v[e];if(t){var r=t.ctx.ccUniqueKey,n=null,o="broadcastState";if(r===u){if(!a)return;n=c,o=l.calledBy}Jn(t,l,[],o,y,Un,!1,n,i),h[e]=1}});var _=Ln(p);s.forEach(function(e){if(!h[e]){var t=v[e];if(t&&t.__$$ms===Pn){var r=t.ctx,n=hn(t,p,_,y,l,!1,!1),o=n.hasDelta,a=n.newCommittedState,c=mn(t,p,_,y,l,!1,!1),i=c.hasDelta,u=c.newCommittedState;if(o||i){var s=Object.assign(a,u),f=r.module,d=r.unProxyState;hn(t,f,d,s,l),mn(t,f,d,s,l),Object.assign(d,s),Object.assign(r.state,s),r.__$$settedList.push({module:f,keys:On(s)})}r.__$$settedList.push({module:p,keys:m}),r.__$$ccForceUpdate()}}})}(t,r,n,f,a,c,i,s)};if(0<u){var l=xn(r.ctx.ccUniqueKey,n);vn(d,l,u)}else d()}(D,R,i,t,T,u,v,$,w,l)})})}else wn("your committed state "+ie)}function Jn(e,t,r,n,o,a,c,i,u,s){function f(){return s&&s(An,o)}var d=e.ctx,l=d.unProxyState;if(c)return f();if(e.__$$ms===kn||a!==Un||n!==Rn&&bn(o))return f();var y=d.module,p=d.storedKeys,v=d.ccUniqueKey,m=Mn;if(r.length&&(m=Tn,r.includes(d.renderKey)))return f();if(0<p.length){var h=Ct(o,p),_=h.partialState;if(!h.isStateEmpty){if(!0===d.persistStoredKeys){var C=Ct(l,p),K=Object.assign({},C.partialState,_);fr.localStorage&&fr.localStorage.setItem("CCSS_"+v,JSON.stringify(K))}zn.setState(v,_)}}var g=Object.assign({},o);hn(e,y,l,g,t),mn(e,y,l,g,t);function S(){var e;(e=!0===u?g:Fe(d.unProxyState,g))&&(d.__$$settedList.push({module:y,keys:On(e)}),d.__$$ccSetState(e,i))}s?s(m,g,S):S()}function Xn(e,t,r){r.ctx.__$$inBM?setTimeout(function(){return Xn(e,t,r)},0):Yn(e,t,r)}function Zn(e,t){try{Rr(t.module).ctx.changeState(e,t)}catch(e){Ue(e)}}var Qn=xe,eo=me,to=ke,ro=fr.store,no=ro.getState,oo=ro.setState,ao=fr.reducer._reducer,co=fr.computed._computedValues,io=fr.runtimeHandler,uo=fr.runtimeVar,so=Ce,fo=Ee;function lo(e,t){void 0===t&&(t=!0);try{return Kr(e,!1,"module["+e+"] is not configured in store"),!0}catch(e){return function(e,t){if(void 0===t&&(t=!0),t)throw e;vo(e)}(e,t),!1}}function yo(o,a){return function(e){for(var t=arguments.length,r=Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e?a(e):o.apply(void 0,r)}}function po(e,t,r,n){var o;return!0===e?(function(e){cn[e]=!0}(o=sn()),n[o]=1):n[o=t||sn()]||(n[o]=1),{_chainId:o,_oriChainId:r||o}}function vo(e,t){e&&(t?t(e):fr.runtimeHandler.tryHandleError(e))}function mo(e,t,r){return function(n,o,a,c){return new Promise(function(e,t){var r=Object.assign(a,{__innerCb:yo(e,t)});n(o,r,c)}).catch(io.tryHandleError)}(Co,e,t,r)}function ho(e,t,r){return mo(e,{callerRef:t.callerRef,context:!0,module:t.module,calledBy:t.calledBy,fnName:e.name,delay:t.delay,renderKey:t.renderKey,force:t.force,chainId:t.chainId,oriChainId:t.oriChainId,chainId2depth:t.chainId2depth,isSilent:t.isSilent},r)}function _o(C,e){var t=void 0===e?{}:e,K=t.chainId,g=t.oriChainId,S=t.isLazy,r=t.delay,E=void 0===r?-1:r,n=t.isSilent,$=void 0!==n&&n,o=t.chainId2depth,w=void 0===o?{}:o;return function(e,t,r,n){var o=S,a=$,c="",i=null!=n?n:E,u=!1;if(eo(r)){var s=r.lazy,f=r.silent,d=r.renderKey,l=r.delay;void 0!==s&&(o=s),void 0!==f&&(a=f),void 0!==d&&(c=d),void 0!==l&&(i=l),u=r.force}else c=r;var y,p,v=po(o,K,g,w),m=typeof e,h={callerRef:C,calledBy:b,module:C.ctx.module,isSilent:a,chainId:v._chainId,oriChainId:v._oriChainId,chainId2depth:w,delay:i,renderKey:c,force:u},_=Error("param type error, correct usage: invoke(userFn:function, ...args:any[]) or invoke(option:[module:string, fn:function], ...args:any[])");if("function"==m)return e.__fnName&&(e.name=e.__fnName),ho(e,h,t);if("object"!=m)throw _;if(p=Array.isArray(e)?(y=e[1],e[0]):(y=e.fn,e.module),!he(y))throw _;return p&&(h.module=p),ho(y,h,t)}}function Co(v,e,m){var h=e.callerRef,_=h.ctx.module,t=e.module,C=void 0===t?_:t,r=e.context,K=void 0!==r&&r,g=e.__innerCb,S=e.type,E=e.calledBy,n=e.fnName,$=void 0===n?"":n,o=e.delay,w=void 0===o?-1:o,b=e.renderKey,a=e.force,x=void 0!==a&&a,O=e.chainId,U=e.oriChainId,D=e.chainId2depth,R=e.isSilent;!function(e,t,r,n){var o=r;lo(e,!1)?(e!==t&&r&&(Qn(function(e,t){return"param module["+e+"] must equal current ref's module["+t+"] when pass param reactCallback, or it will never been triggered! "}(e,t)),o=null),n(null,o)):n(Error("inputModule:"+e+" invalid"),null)}(C,_,e.cb,function(e,o){if(e)return vo(e,g);var a,t=no(C),r={};if(a=O===U&&1===D[O],K){D[O]=D[O]+1;var n=Ko(h,!1,R,C,b,w,O,U,D),c=Ko(h,!1,!0,C,b,w,O,U,D),i=Ko(h,!0,R,C,b,w,O,U,D),u=_o(h,{delay:w,chainId:O,oriChainId:U,chainId2depth:D}),s=_o(h,{isLazy:!0,delay:w,oriChainId:U,chainId2depth:D}),f=_o(h,{isLazy:!1,delay:w,isSilent:!0,oriChainId:U,chainId2depth:D}),d=function(e){return un[e]}(O)||{};r={callInfo:{renderKey:b,delay:w,fnName:$,type:S,calledBy:E,force:x},module:C,callerModule:_,committedStateMap:d,committedState:d[C]||{},invoke:u,lazyInvoke:s,silentInvoke:f,invokeLazy:s,invokeSilent:f,dispatch:n,lazyDispatch:i,silentDispatch:c,dispatchLazy:i,dispatchSilent:c,rootState:no(),globalState:no(ue),moduleState:t,moduleComputed:co[C]||{},setState:function(e,t,r){return n("setState",e,{silent:R,renderKey:0!==t?t||b:t,delay:0!==r?r||w:r})},refCtx:h.ctx}}!1===R&&bt(I,{isSourceCall:a,calledBy:E,module:C,chainId:O,fn:v});function l(e){D[O]=D[O]-1;var t=1===D[O],r=p&&p.__c2Result;!function(e,t,r){fn(e,t,r,un)}(O,C,e);var n=[];!1===R&&(bt(N,{isSourceCall:a,calledBy:E,module:C,chainId:O,fn:v}),!function(e){return!0===cn[e]}(O)?r||(n=[{module:C,state:e}]):t?function(e){return!0===an[e]}(O)||(ln(r,O,C,e),yn(O)):dn(O,C,e)),n.forEach(function(e){Xn(e.state,{renderKey:b,module:e.module,reactCallback:o,type:S,calledBy:E,fnName:$,delay:w,payload:m,force:x},h)}),a&&(yn(O),function(e){delete un[e]}(O)),g&&g(null,e)}function y(e){bt(A,{isSourceCall:a,calledBy:E,module:C,chainId:O,fn:v}),vo(e,g)}var p=v(m,t,r);if(v.__isAsync)Promise.resolve(p).then(l).catch(y);else try{if(v.__isReturnJudged)return void l(p);if(X(p))return v.__isAsync=!0,void Promise.resolve(p).then(l).catch(y);v.__isReturnJudged=!0,l(p)}catch(e){y(e)}})}function Ko(N,A,T,M,k,P,j,W,L){return void 0===k&&(k=""),void 0===P&&(P=-1),void 0===L&&(L={}),function(e,r,t,n){void 0===e&&(e={});var o=A,a=T,c="",i=n||P,u=!1;if(eo(t)){c=k;var s=t.lazy,f=t.silent,d=t.renderKey,l=t.delay;void 0!==s&&(o=s),void 0!==f&&(a=f),void 0!==d&&(c=d),void 0!==l&&(i=l),u=t.force}else c=t||k;function y(){return _o(N,{chainId:h,oriChainId:_,isLazy:o,isSilent:a,chainId2depth:L})(e,r,{renderKey:c,delay:i,force:u})}var p,v,m=po(o,j,W,L),h=m._chainId,_=m._oriChainId,C=typeof e,K=M;if(C&&"object"==C)if(Array.isArray(e)){var g=e[0],S=e[1];if(!S||!S.__fnName)return y();K=g,p=S.__fnName}else{var E=e.module,$=e.fn,w=e.type,b=e.cb;if(E&&(K=E),$&&$.__fnName)p=$.__fnName,E||(K=$.__stateModule);else{if("string"!=typeof w)return void io.tryHandleError(Error("dispatchDesc.type must be string"));p=w}v=b}else{if("string"!=C&&"function"!=C)return Promise.reject(so(ne.CC_DISPATCH_PARAM_INVALID));var x=e;if("function"==C){var O=e.__fnName;if(!O)return y();x=O,1==L[_]&&(K=e.__stateModule)}var U=x.split("").filter(function(e){return"/"===e}).length;if(0===U)p=x;else{if(1!==U)return Promise.reject(so(ne.CC_DISPATCH_STRING_INVALID,fo(x)));var D=x.split("/"),R=D[0];R&&(K=R),p=D[1]}}if("*"===K)return Tr("*/"+p,r,{silent:a,lazy:o,renderKey:c,force:u},i,{refModule:N.ctx.module});var I=new Promise(function(e,t){!function(e){var t=void 0===e?{}:e,r=t.callerRef,n=t.module,o=t.renderKey,a=t.isSilent,c=t.force,i=t.type,u=t.payload,s=t.cb,f=t.__innerCb,d=t.delay,l=void 0===d?-1:d,y=t.chainId,p=t.oriChainId,v=t.chainId2depth,m=ao[n];if(!m)return f(Error("no reducerMap found for module:["+n+"]"));var h=m[i];if(!h){var _=to(m);return f(Error("no reducer fn found for ["+n+"/"+i+"], is these fn you want:"+_))}Co(h,{callerRef:r,module:n,type:i,force:c,cb:s,context:!0,__innerCb:f,calledBy:F,delay:l,renderKey:o,isSilent:a,chainId:y,oriChainId:p,chainId2depth:v},u)}({callerRef:N,module:K,type:p,payload:r,cb:v,__innerCb:yo(e,t),delay:i,renderKey:c,isSilent:a,force:u,chainId:h,oriChainId:_,chainId2depth:L})}).catch(function(e){uo.isStrict?io.tryHandleError(e):Qn(e)});return I.__c2Result=!0,I}}function go(a){return function(e){for(var t="string"!=typeof e||e.includes("/")?e:a+"/"+e,r=arguments.length,n=Array(1<r?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return Tr.apply(void 0,[t].concat(n))}}function So(c,e){return function(t){function r(){return e&&e(go(c),no(c))}try{if(!t)return void r();!function(e,t,r){Zn(t,{module:e,stateChangedCb:r})}(c,t,r)}catch(e){var n=no(c);if(!n)return Qn("invalid module "+c);var o=Ct(t,to(n),!1,!0),a=o.ignoredStateKeys;o.isStateEmpty||oo(c,o.partialState),0<a.length&&Qn("invalid keys:"+a.join(",")+", their value is undefined or they are not declared in module"+c),Oe("no ccInstance found for module["+c+"] currently, cc will just store it, lately ccInstance will pick this state to render"),r()}}}var Eo=function(i){return function(e,t){var r=i.ctx,n=Object.assign({},r.unProxyState,e);r.unProxyState=n;function o(){return t&&t(n)}r.state=Object.assign(r.state,e);function a(){r.type===Z?(r.__boundSetState(n),setTimeout(o,0)):r.__boundSetState(e,o)}var c=io.act;c?c(a):a()}},$o=function(o){return function(e){function t(){return e&&e(n)}var r=o.ctx,n=Object.assign({},r.unProxyState,r.__$$mstate);r.type===Z?(r.__boundSetState(n),t()):r.__boundForceUpdate(t)}},wo=fr.store.getState;function bo(t,e){void 0===e&&(e={});var r=e.initState,n=e.initStateDone,o=e.loaded,a=e.willUnmount,c=e.mounted,i={};he(a)&&(i.willUnmount=a),he(c)&&(i.mounted=c),fr.lifecycle._lifecycle[t]=i;var u=wo(t),s=go(t);he(o)&&o(s,u),he(r)?Promise.resolve().then(function(){return r(u)}).then(function(e){So(t,n)(e)}).catch(fr.runtimeHandler.tryHandleError):he(n)&&n(s,u)}function xo(e){var t=Object.assign({},e.lifecycle);return t.initState||(t.initState=e.init),t.initStateDone||(t.initStateDone=e.initPost),t}var Oo=me,Uo=Je,Do=ke,Ro=he;function Io(t,e){void 0===e&&(e={});function r(e,t){if(fr.isStartup){if(!Oo(t))throw Error("param config "+ie);if(e===ue)throw Error("configuring global module is not allowed");var r=t.state,n=t.reducer,o=t.computed,a=t.watch,c=t.ghosts,i=void 0===c?[]:c,u=Uo(r);Ro(r)&&(fr.moduleName2stateFn[e]=r),Ur(e,u,!0),kr(e,n,i),Zr(e,o),rn(e,a),bo(e,xo(t)),fr.moduleName2isConfigured[e]=!0,bt(14,e)}else dr.push({module:e,config:t})}Oo(t)?Do(t).forEach(function(e){return r(e,t[e])}):r(t,e)}function No(n,o){var a={};return n&&ke(n).forEach(function(e){function t(){return r.apply(void 0,arguments)}var r=n[e];t.__fnName=e,t.__stateModule=o,a[e]=t}),a}var Ao=fr.event2handlers,To=fr.handlerKey2handler,Mo=fr.ccUKey2handlerKeys,ko=fr.ccUKey2ref,Po=function(e,t,r){return e+"$"+t+"$"+r},jo=Ie,Wo=xe;function Lo(e,t,r,n,o){var a=null==o?null:o,c=Ao[e];if(c){var i=c;return n?i=c.filter(function(e){return e.ccUniqueKey===n}):r?i=c.filter(function(e){return e.ccClassKey===r}):t&&(i=c.filter(function(e){return e.module===t})),void 0!==a&&(i=i.filter(function(e){return e.identity===a})),i}return[]}function Fo(e){var o={},n=[];e.forEach(function(e){var t=e.ccUniqueKey,r=e.event;delete To[e.handlerKey],o[t]=1,n.includes(r)||n.push(r)}),n.forEach(function(e){var n=Ao[e];n&&(n.forEach(function(e,t){var r=e.ccUniqueKey;1===o[r]&&(n[t]=null,delete Mo[r])}),Ao[e]=n.filter(function(e){return null!==e}))})}function Vo(e,t,r,n,o,a){var c=jo(Ao,n);if(!he(a))return Wo("event "+n+"'s handler "+j+"!");var i=Po(r,n,o),u=jo(Mo,r),s=c.findIndex(function(e){return e.handlerKey===i}),f={event:n,module:e,ccClassKey:t,ccUniqueKey:r,identity:o,handlerKey:i,fn:a};-1<s?c[s]=f:(c.push(f),u.push(i)),To[i]=f}function Ho(e){for(var t=arguments.length,o=Array(1<t?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];var n,a,c,i,u=null,s=null;"string"==typeof e?n=e:(n=e.name,u=e.identity,a=e.module,c=e.ccClassKey,i=e.ccUniqueKey,s=e.canPerform),Lo(n,a,c,i,u).forEach(function(e){var t=e.handlerKey,r=ko[e.ccUniqueKey];if(r&&t){if(r.__$$isUnmounted)return;var n=To[t];if(n){if(s&&!s(r))return;r.__$$ms===l&&n.fn.apply(n,o)}}})}function zo(e,t){Fo(Lo(e,t.module,t.ccClassKey,t.ccUniqueKey,t.identity))}function Go(e){var t=Mo[e];if(t){var r=[];t.forEach(function(e){return r.push(To[e])}),Fo(r)}}function qo(e){var t;if(e&&"object"==typeof e){var r;if(Array.isArray(e))r={name:e[0],identity:e[1]};else r=Object.assign({},e);r.identity||(r.identity=null),t=r}else t={name:e,identity:null};return t}var Bo=Object.freeze({bindEventHandlerToCcContext:Vo,findEventHandlersToPerform:Ho,findEventHandlersToOff:zo,offEventHandlersByCcUniqueKey:Go,getEventItem:qo}),Yo=fr.store.getModuleVer;function Jo(o,a,c,i){return new Proxy(a,{get:function(e,t){if(i){var r=Yo(c),n=o.ctx;r!==n.__$$prevModuleVer&&(n.__$$prevModuleVer=r,Object.assign(a,n.__$$mstate))}return It(o,c,t,i),e[t]},set:function(e,t,r){return e[t]=r,!0}})}var Xo=Se;function Zo(e){return e?e.props||e:{}}var Qo=fr.store.getState;var ea=function(e,t,r){var n=r.module,o=r.state,a=!1,c="",i="",u="",s=null,f=-1,d=!1,l=e[Q],y=e.type,p=!1;if(void 0!==l){var v,m,h;if(f=e.delay,i=e.rkey,a="int"===y,d="bool"===y,(c=l).includes("/")){var _=c.split("/");v=_[1],m=c,h=_[0]}else m=n+"/"+(v=c),h=n;var C=Qo(h);u="bool"===y?!Xe(h!==n?C:o,v):function(e){var t=Pe(e);return t?t.currentTarget.value:e}(t);var K=e.val;if(void 0===K);else if(he(K)){var g=K(u,v,{event:t,module:h,moduleState:C,fullKeyPath:m,state:o,refCtx:r});if(null!=g)if("as"===y)u=g;else{var S=typeof g;"boolean"==S?p=!g:"object"==S?(p=!0,s=g):xe("syncKey["+l+"] cb result type error.")}else"as"===y&&(p=!0)}else u=K}else{var E=Pe(t);if(!E)return null;var $=E.currentTarget;u=$.value;var w=$.dataset;if(a="int"===y||void 0!==w.ccint,!(c=w.ccsync))return null;i=w.ccrkey;var b=w.ccdelay;if(b)try{f=parseInt(b)}catch(e){}}return{currentTarget:{value:u,extraState:s,noAutoExtract:p,dataset:{ccsync:c,ccint:a,ccdelay:f,ccrkey:i}},isToggleBool:d}};var ta=function(e,t,r,n,o,a){var c=t;!0!==r||Number.isNaN(c=parseInt(t))&&(xe(t+" can not convert to int but you set ccint as true!ÔºÅ"),c=t);var i=a,u=[];if(e.includes("/")){var s=e.split("/"),f=s[1];i=s[0],u=f.includes(".")?f.split("."):[f]}else u=e.includes(".")?e.split("."):[e];var d=u.join(".");if(1===u.length){var l,y,p=u[0];return!0!==o?{module:i,keys:u,keyPath:d,state:(l={},l[p]=c,l)}:{module:i,keys:u,keyPath:d,state:(y={},y[p]=!n[p],y)}}var v,m=u[0],h=u.slice(1),_=Le(n[m]);return function e(t,r,n,o,a,c){void 0===c&&(c=!1);var i=r[o],u=t[i];if(n===o)!0===c?"boolean"!=typeof u?xe("key["+i+"]'s value type is not boolean"):t[i]=!u:t[i]=a;else{var s=Le(u);e(t[i]=s,r,n,++o,a,c)}}(_,h,h.length-1,0,c,o),{module:i,keys:u,keyPath:d,state:(v={},v[m]=_,v)}},ra=fr.store.getState;function na(e,t,r){var n=t.ctx,o=ea(e,r,n);if(o){var a=n.ccKey,c=n.ccUniqueKey,i=n.module,u=o.currentTarget,s=u.dataset,f=u.value,d=u.extraState,l=u.noAutoExtract;r&&r.stopPropagation&&r.stopPropagation();var y=s.ccint,p=s.ccdelay,v=s.ccrkey,m=s.ccsync;m.startsWith("/")&&(m=""+i+m);var h={calledBy:w,ccKey:a,ccUniqueKey:c,module:i,renderKey:v,delay:p},_=function(e){return ta(m,f,y,e,o.isToggleBool,i)};if(m.includes("/")){var C=m.split("/")[0];if(Kr(C,!1),h.module=C,l)return void(d&&Xn(d,h,t));var K=_(C!==i?ra(C):t.state),g=K.state;Object.assign(h,{module:K.module,keys:K.keys,keyPath:K.keyPath}),Xn(g,h,t)}else{if(l)return void(d&&t.setState(d,null,h));var S=_(t.state),E=S.state;Object.assign(h,{module:S.module,keys:S.keys,keyPath:S.keyPath}),t.setState(E,null,h)}}}var oa=fr.getModuleStateKeys,aa=function(e,t){var r=!1,n=!1;if(!Array.isArray(e))return{duplicate:r,notArray:!0,keyElementNotString:n};if(!Array.isArray(t))return{duplicate:r,notArray:!0,keyElementNotString:n};var o=e.length,a=t.length;e:for(var c=0;c<o;c++){var i=e[c];if("string"!=typeof i){n=!0;break e}for(var u=0;u<a;u++){var s=t[u];if("string"!=typeof s){n=!0;break e}if(s===i){r=!0;break e}}}return{duplicate:r,notArray:!1,keyElementNotString:n}},ca=Ee,ia=ke;function ua(e,t,r,n){var o=r||n;if(!o)return[];var a=oa(e);return"*"===o?ia(t).filter(function(e){return!a.includes(e)}):(function(e,t){if("*"!==t){if(!Array.isArray(t))throw Error("storedKeys type err, "+W);gr(e,t,!1,"storedKeys invalid ")}}(e,o),o)}function sa(e){var t=e||{};if(!me(t,!0))throw Error("param connect type error, it "+ie+" or string array");var r=Array.isArray(t),n={};r||"string"==typeof t?(r?t:t.split(",")).forEach(function(e){n[e]="-"}):n=e;return n[ue]||(n[ue]="-"),function(r){function n(e){return"param connect is invalid, module["+e+"]'s value "+W}mr(r).forEach(function(e){Kr(e,!1);var t=r[e];if("string"==typeof t){if("*"!==t&&"-"!==t)throw Error(n(e))}else{if(!Array.isArray(t))throw Error(n(e));gr(e,t,!0,"connect module["+e+"] invalid,")}})}(n),n}var fa=fr.reducer,da=fa._caller,la=fa._module2fnNames,ya=fa._module2Ghosts,pa=fr.refStore,va=fr.getModuleStateKeys,ma=fr.store,ha=ma.getState,_a=ma.getModuleVer,Ca=ke,Ka=Ce,ga=Ee,Sa=ve,Ea=function(e){return"boolean"==typeof e},$a=xe,wa=J,ba=function(e){return!(null==e)},xa=Ne,Oa=0;var Ua=function(){},Da=function(e){return"type of defineEffect "+e+" param must be"},Ra=function(e){return"-"===e.watchedKeys?Ca(e.__$$renderStatus===R?e.__$$compareWaKeys:e.__$$curWaKeys):e.watchedKeys},Ia=function(t,e){function r(e){return Ca(t.__$$renderStatus===R?t.__$$compareConnWaKeys[e]:t.__$$curConnWaKeys[e])}function n(e){if(c)return r(e);var t=o[e];return"*"===t?va(e):"-"===t?r(e):t}var o=t.connect,a=t.connectedModules,c=Array.isArray(o);if(e)return n(e);var i={};return a.forEach(function(e){i[e]=n(e)}),i};function Na(t,r,e){("*"===e?va(r):e).forEach(function(e){return function(e,t,r){ct(ot,it(e,t),r)}(r,e,t)})}function Aa(a,c,i,u){return void 0===i&&(i=0),new Proxy(da[a]||{},{get:function(e,o){return la[a].includes(o)?function(e,t,r){var n={module:a,fnName:o,payload:e,renderKey:t,delay:r};return 0===i?c(a+"/"+o,e,t,r):1===i?n:2===i?o===u?$a("the target fn["+o+"] can't be a ghost"):c(a+"/"+u,n,t,r):void 0}:e[o]}})}function Ta(d,e,l){var t=[],r=[];if(d.effectMeta={effectItems:t,eid2effectReturnCb:{},effectPropsItems:r,eid2effectPropsReturnCb:{}},4<e){d.execute=function(e){return d.execute=e},d.watch=function(o){return function(e,t,r){var n={type:G,refCtx:o,stateKeys:o.stateKeys,retKeyFns:o.watchRetKeyFns,module:o.module,connect:o.connect,dep:o.watchDep};o.__$$cuOrWaCalled=!0,zr(H,n,e,t,r)}}(d),d.computed=function(o){return function(e,t,r){var n={type:z,refCtx:o,stateKeys:o.stateKeys,retKeyFns:o.computedRetKeyFns,module:o.module,connect:o.connect,dep:o.computedDep};return o.__$$cuOrWaCalled=!0,zr(H,n,e,t,r),o.refComputed}}(d);var n=function(s,f){return function(e,t,r,n){if(void 0===n&&(n=!0),!he(e))throw Error(Da("first")+" function");var o=t,a=void 0!==r&&r,c=f?void 0===r||r:n;if(Sa(t)&&(o=t.depKeys,a=Ea(t.compare)?t.compare:r,c=Ea(t.immediate)?t.immediate:n),null!=o&&!Array.isArray(o))throw Error(Da("second")+" array, null, or undefined");var i=[];!f&&o&&o.forEach(function(e){var t;if(e.includes("/")){var r=(t=e).split("/");if(!d.connect[r[0]])throw Ka(ne.CC_MODULE_NOT_CONNECTED,ga("depKey["+e+"]"))}else t=l+"/"+e;i.push(t),d.__$$staticWaKeys[t]=1});var u={fn:e,isProp:f,depKeys:o,modDepKeys:i,eId:Symbol("__autoGen_"+ ++Oa+"__"),compare:a,immediate:c};s.push(u)}};d.effect=n(t,!1),d.effectProps=n(r,!0)}}function Ma(n,e,t){void 0===t&&(t=5);var r=e.ccKey,o=void 0===r?"":r,a=e.state,c=e.id,i=e.ccOption,u=void 0===i?{}:i,s=e.module,f=e.ccClassKey,d=e.type,l=e.insType,y=e.tag,p=void 0===y?"":y,v=e.storedKeys,m=void 0===v?[]:v,h=e.persistStoredKeys,_=void 0!==h&&h,C=e.watchedKeys,K=void 0===C?"-":C,g=e.connect,S=void 0===g?{}:g,E=s,$=n.ctx,w=wa($),b=va(E),x=n.setState,O=n.forceUpdate;!w&&$.ccUniqueKey?(x=$.__boundSetState,O=$.__boundForceUpdate):d!==Z&&(x=n.setState.bind(n),O=n.forceUpdate.bind(n));var U={};U.persistStoredKeys=void 0===u.persistStoredKeys?_:u.persistStoredKeys,U.tag=u.tag||p;var D=function(e,t,r){var n=t||Wr(r);return Xo(e,n)}(f,o,U.tag);if(U.renderKey=u.renderKey||c||D,U.storedKeys=ua(E,a,u.storedKeys,m),o&&!f)throw Error("missing ccClassKey while init a cc ins with ccKey["+o+"]");if(0<U.storedKeys.length&&!o)throw Ka(ne.CC_STORED_KEYS_NEED_CCKEY,ga("ccClassKey["+f+"]"));var R=ha(s),I=pa._state[D]||{},N=Object.assign({},a,I,R),A=Ca(n.state=N),T=Ca(S),M={};T.forEach(function(e){M[e]=jt(n,e,!1)});function k(e,t){Xn(e,t,n)}function P(e,t,r,n,o,a){var c={calledBy:r,module:e,reactCallback:n};ve(o)?Object.assign(c,o):Object.assign(c,{renderKey:o,delay:a}),k(t,c)}function j(e,t,r,n,o){P(e,t,te,r,n,o)}function W(e,t,r,n,o){var a=typeof e;if("string"==a)j(e,t,r,n,o);else if("function"==a){var c=e(Object.assign({},J.unProxyState),J.props);P(E,c,ee,t,r,n)}else P(E,e,ee,t,r,n)}function L(e,t,r){P(E,n.unProxyState,re,e,t,r)}var F=jt(n,s),V=M[ue],H=Jo(n,ha(ue),ue,!1),z=Ve(Ca(a),b),G=s===ue?H:Jo(n,R,s,!0),q={},B=T.slice();xa(B,s);var Y=Zo(n.props),J={type:d,insType:l,module:s,ccClassKey:f,ccKey:o,ccUniqueKey:D,renderCount:0,initTime:Date.now(),watchedKeys:K,privStateKeys:z,connect:S,connectedModules:T,allModules:B,__$$onEvents:[],__$$hasModuleState:0<b.length,__$$renderStatus:oe,__$$curWaKeys:{},__$$compareWaKeys:{},__$$compareWaKeyCount:0,__$$nextCompareWaKeys:{},__$$nextCompareWaKeyCount:0,__$$curConnWaKeys:{},__$$compareConnWaKeys:{},__$$compareConnWaKeyCount:{},__$$nextCompareConnWaKeys:{},__$$nextCompareConnWaKeyCount:{},__$$staticWaKeys:{},__$$staticWaKeyList:[],persistStoredKeys:U.persistStoredKeys,storedKeys:U.storedKeys,renderKey:U.renderKey,tag:U.tag,prevProps:Y,props:Y,mapped:{},prevState:Object.assign({},N),state:Jo(n,N,E,!0),unProxyState:N,moduleState:G,__$$mstate:R,globalState:H,connectedState:{},extra:Sa(e.extra)?e.extra:{},staticExtra:{},settings:{},refComputedValues:{},refComputedRawValues:{},moduleComputed:F,globalComputed:V,connectedComputed:M,moduleReducer:null,mrc:null,mrg:{},globalReducer:null,connectedReducer:{},reducer:{},stateKeys:A,computedDep:{},computedRetKeyFns:{},watchDep:{},watchRetKeyFns:{},execute:null,retKey2fnUid:{},reactSetState:Ua,__boundSetState:x,reactForceUpdate:Ua,__boundForceUpdate:O,setState:W,setModuleState:j,forceUpdate:L,changeState:k,refs:q,useRef:function(t){return function(e){q[t]={current:e}}},__$$ccSetState:function(r){return function(e,t){r.ctx.reactSetState(e,t)}}(n),__$$ccForceUpdate:function(t){return function(e){t.ctx.reactForceUpdate(e)}}(n),__$$settedList:[],__$$prevMoStateVer:{},__$$prevModuleVer:_a(E),__$$cuOrWaCalled:!1};!function(e,t,r){if(e)return t.ctx=r;var n=t.ctx;Object.assign(t.ctx,r,{__$$curWaKeys:n.__$$curWaKeys,__$$compareWaKeys:n.__$$compareWaKeys,__$$compareWaKeyCount:n.__$$compareWaKeyCount,__$$nextCompareWaKeys:n.__$$nextCompareWaKeys,__$$nextCompareWaKeyCount:n.__$$nextCompareWaKeyCount,__$$curConnWaKeys:n.__$$curConnWaKeys,__$$compareConnWaKeys:n.__$$compareConnWaKeys,__$$compareConnWaKeyCount:n.__$$compareConnWaKeyCount,__$$nextCompareConnWaKeys:n.__$$nextCompareConnWaKeys,__$$nextCompareConnWaKeyCount:n.__$$nextCompareConnWaKeyCount})}(w,n,J),J.refComputed=jt(n,null,!0,!0),n.setState=W,n.forceUpdate=L,function(n,o,a,c,i,u){o.initState=function(e){var t=e;if(he(e)&&(t=e()),!o.__$$inBM)return $a("initState must been called in setup block!");if(!me(a))return $a("state "+ie);if(o.__$$cuOrWaCalled)return $a("initState must been called before computed or watch");var r=Object.assign({},a,t,c,i);return o.stateKeys=Ca(r),o.privStateKeys=Ve(Ca(r),u),o.prevState=Object.assign({},r),o.unProxyState=r,n.state=Object.assign(o.state,r),o.state}}(n,J,a,I,R,b);var X=function(e,t,r,n,o){var a=Ko(e,!1,!1,r);return t.dispatch=a,1<n&&(t.lazyDispatch=Ko(e,!0,!1,r),t.silentDispatch=Ko(e,!1,!0,r),t.dispatchLazy=t.lazyDispatch,t.dispatchSilent=t.silentDispatch,t.invoke=_o(e),t.lazyInvoke=_o(e,{isLazy:!0}),t.silentInvoke=_o(e,{isLazy:!1,isSilent:!0}),t.invokeLazy=t.lazyInvoke,t.invokeSilent=t.silentInvoke,t.setGlobalState=function(e,t,r,n){o(ue,e,ee,t,r,n)}),a}(n,J,E,t,P);!function(f,e,t){if(2<t){var d={},o=function(e,t,r,n,o){if("string"==typeof t){var a,c=typeof r;if(ba(r)&&(c===ce||c===ae))return na.bind(null,((a={})[Q]=t,a.type=e,a.val=r,a.delay=o,a.rkey=n,a),f);var i,u=t+"|"+r+"|"+n+"|"+o,s=d[u];return s||(d[u]=na.bind(null,((i={})[Q]=t,i.type=e,i.val=r,i.delay=o,i.rkey=n,i),f),s=d[u]),s}na({type:"val"},f,t)},r=function(r){return{get:function(e,t){return _e(e,t)?o(r,t):pe}}};e.syncer=new Proxy(e.state,r("val")),e.syncerOfBool=new Proxy(e.state,r("bool")),e.sybo=e.syncerOfBool,e.sync=function(e,t,r,n){return void 0===r&&(r=""),void 0===n&&(n=-1),o("val",e,t,r,n)},e.syncBool=function(e,t,r,n){return void 0===r&&(r=""),void 0===n&&(n=-1),o("bool",e,t,r,n)},e.syncInt=function(e,t,r,n){return void 0===r&&(r=""),void 0===n&&(n=-1),o("int",e,t,r,n)},e.syncAs=function(e,t,r,n){return void 0===r&&(r=""),void 0===n&&(n=-1),o("as",e,t,r,n)},e.set=function(e,t,r,n){var o;void 0===r&&(r=""),void 0===n&&(n=-1),na(((o={})[Q]=e,o.type="val",o.val=t,o.delay=n,o.rkey=r,o),f)},e.setBool=function(e,t,r){var n;void 0===t&&(t=""),void 0===r&&(r=-1),na(((n={})[Q]=e,n.type="bool",n.delay=r,n.rkey=t,n),f)}}}(n,J,t),function(r,e,u){3<e&&(r.emit=function(e){for(var t=arguments.length,r=Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];Ho.apply(Bo,[qo(e)].concat(r))},r.off=function(e,t){var r=void 0===t?{}:t,n=r.module,o=r.ccClassKey,a=r.ccUniqueKey,c=void 0===a?u:a;(n||o)&&(c="");var i=qo(e);zo(i.name,{module:n,ccClassKey:o,ccUniqueKey:c,identity:i.identity})},r.on=function(e,t){r.__$$onEvents.push({inputEvent:e,handler:t})})}(J,t,D),Ta(J,t,E),function(o,a,c,e,i,u,t,s){var f=a.connectedReducer,d=a.connectedState,l=a.__$$curConnWaKeys,y=a.__$$compareConnWaKeys,p=a.__$$compareConnWaKeyCount,v=a.__$$nextCompareConnWaKeys,m=a.__$$nextCompareConnWaKeyCount,h=!1;t.forEach(function(t){var e=Aa(t,s);t===u?(a.moduleReducer=e,a.mrc=Aa(t,s,1),(ya[t]||[]).forEach(function(e){a.mrg[e]=Aa(t,s,2,e)}),t===ue&&(f[t]=e)):f[t]=e;var r=c[t];if(r){var n=ha(t);"-"===r?(h=!0,l[t]={},y[t]={},p[t]=0,v[t]={},m[t]=0,n=t===ue?a.globalState:Jo(o,n,t)):Na(i,t,r),d[t]=n}}),a.reducer=da,a.globalReducer=f[ue],a.mr=a.moduleReducer,a.gr=a.globalReducer,a.cr=a.connectedReducer,a.r=a.reducer,"-"===e?h=!0:Na(i,u,e),a.__$$autoWatch=h}(n,J,S,K,D,E,B,X),J.getWatchedKeys=function(){return Ra(n.ctx||J)},J.getConnectWatchedKeys=function(e){return Ia(n.ctx||J,e)}}var ka=ke;var Pa=J,ja=Ce,Wa=fr.featureStr2classKey,La=fr.userClassKey2featureStr,Fa=fr.ccClassKey2Context,Va=0;var Ha=fr.ccClassKey2Context;function za(e,t,r,n,o,a,c,i){void 0===e&&(e=se),!0===c&&function(){if(!0!==fr.isStartup)throw Error("you must startup cc by call startup method before register ReactClass to cc!")}();var u="cc"===i,s=r||[];Kr(e,!1,"module["+e+"] not configured"),function(e){if(!Array.isArray(e)&&"*"!==e)throw Error("renderKeyClasses type err, it "+W)}(s);var f=sa(a),d=function(e,t,r){if(t===ye)return[];if(!r)return[];if("*"===r)return oa(e);if("-"===r)return r;var n=aa(r,[]);if(n.notArray||n.keyElementNotString){var o=ca("ccClassKey:"+t);throw Error("watchedKeys "+W+" "+o)}return r}(e,t,o),l=function(e,t,r,n,o,a){if(void 0===a&&(a=""),!a){if(t===se&&Pa(r))return n+"0";var c=n+":"+o,i=Wa[c];return i||(Wa[c]=i=""+n+ ++Va)}if(a.startsWith(v))throw Error("user can not specify a classKey["+a+"] starts with $$Cc");if(!e&&a.toLowerCase()==ye.toLowerCase())throw Error(ye+" is cc built-in ccClassKey name.");if(Fa[a]){if(La[a]!==o)throw ja(ne.CC_CLASS_KEY_DUPLICATE,"ccClassKey:["+a+"] duplicate")}else La[a]=o;return a}(u,e,f,n,function(e,t,r){var n,o=ka(t);return o.sort(),n="*"===r?"*":r.slice().join(","),e+"/"+o.join(",")+"/"+n}(e,f,s),t),y=function(e,t){var r;if(t){if(!Array.isArray(t)&&"*"!==t)throw Error("renderKeyClasses type err, it "+W);r=t}else r=[e];return r}(l,r),p=Ha[l];return p||(p=function(e,t,r){return{module:e,ccClassKey:t,renderKeyClasses:r}}(e,l,y),Ha[l]=p),{_module:e,_connect:f,_ccClassKey:l,_watchedKeys:d}}var Ga=function(){};var qa=me,Ba=ke,Ya=ve;function Ja(e,t){if(!qa(e))throw Error(t+" "+ie)}function Xa(e){if(0<e.length){var o=fr.plugins;o.length=0,$t.forEach(function(e){return wt[e].length=0});var a={};e.forEach(function(e){if(o.push(e),!e.install)throw Error("a plugin must export install handler!");var t=e.install(xt),r=Error("plugin.install must return result:{name:string, options?:object}");if(!t)throw r;var n=t.name;if(!n)throw r;if(a[n])throw Error("pluginName["+n+"] duplicate");a[n]=1}),fr.pluginNameMap=a}}var Za=xe,Qa=Ce,ec=Ee,tc=we,rc=$e,nc=fr.runtimeVar,oc=fr.ccUKey2ref,ac={};function cc(e,t,r){function n(){oc[e]=t}fr.isHotReloadMode()&&function(e){De(ac,e,1)}(e),r?setTimeout(n,r):n()}function ic(e){var t=e.ctx,r=t.ccClassKey,n=t.ccKey,o=t.ccUniqueKey;nc.isDebug&&console.log(tc("register ccKey "+o+" to CC_CONTEXT"),rc());var a=fr.isHotReloadMode();if(oc[o]){var c=function(){throw Qa(ne.CC_CLASS_INSTANCE_KEY_DUPLICATE,ec("ccClass:"+r+",ccKey:"+n))};if(a)1<function(e){return ac[e]||0}(o)&&c(),Za("\n        found ccKey["+n+"] duplicated in hot reload mode, please make sure your ccKey is unique manually,\n        "+ec("ccClassKey:"+r+" ccKey:"+n+" ccUniqueKey:"+o)+"\n      "),cc(o,e,600);else c()}else cc(o,e)}var uc=!1;function sc(e,t){void 0===e&&(e=!1),Lt={},Ft={},ac={},Me(fr.event2handlers),Me(fr.ccUKey2handlerKeys);var r=fr.ccUKey2ref;Me(fr.handlerKey2handler),Me(r,t);var n=fr.store,o=n.incModuleVer,a=n.replaceMV,c=(0,n.getModuleVer)();ke(c).forEach(function(e){o(e,5<c[e]?1:6)});var i=JSON.parse(JSON.stringify(c));if(e){var u=fr.computed,s=fr.watch,f=u._computedValues,d=s._watchDep;ke(fr.store._state).forEach(function(e){e!==fe&&(f[e]&&(fr.computed._computedDep[e]={retKey2fn:{},retKey2lazy:{},stateKey2retKeys:{},retKey2stateKeys:{},fnCount:0},Zr(e,u._computedRaw[e])),d[e]&&(d[e]={retKey2fn:{},retKey2lazy:{},stateKey2retKeys:{},retKey2stateKeys:{},fnCount:0},rn(e,s._watchRaw[e])))})}return function(){setTimeout(function(){a(i),t.forEach(function(e){var t=r[e];t&&t.ctx.reactForceUpdate()})},0)}}function fc(){var r=fr.ccUKey2ref,n=[];return ke(r).forEach(function(e){var t=r[e];!t||t.__$$ms!==l||t.ctx.type===le&&n.push(e)}),{ccFragKeys:[],ccClassInsKeys:n}}function dc(){Me(fr.globalStateKeys);var e=ke(fr.moduleName2isConfigured).concat([se,fe,ue,a]);Me(fr.reducer._reducer,e),Me(fr.store._state,e,{},!0),Me(fr.computed._computedDep,e),Me(fr.computed._computedValues,e),Me(fr.watch._watchDep,e),Me(fr.middlewares);var n=fr.waKey2uKeyMap;return ke(n).forEach(function(e){var t=n[e],r={};ke(t).forEach(function(e){e.startsWith(le)&&(r[e]=t[e])}),n[e]=r}),Me(fr.lifecycle._mountedOnce),Me(fr.lifecycle._willUnmountOnce),Me(fr.module2insCount,[],0),sc(!(pt={module:{computed:{},watch:{}},ref:{computed:{},watch:{},effect:{}}}),fc().ccClassInsKeys)}function lc(e){void 0===e&&(e=!1),fr.info.latestStartupTime=Date.now();function t(){}if(fr.isStartup){if(fr.isHotReloadMode()){if(e)return fr.runtimeVar.log&&console.warn("attention: make sure [[clearContextIfHot]] been called before app rendered!"),uc=!0,dc();if(uc)return uc=!1,t;var r=fc();return sc(fr.reComputed,r.ccClassInsKeys)}return console.warn("clear failed because of not running under hot reload mode!"),t}return uc=!0,t}var yc=Oe,pc=je,vc=function(e,t,r){void 0===r&&(r=0);for(var n=e.stack.split("\n"),o=n.length,a="",c=0;c<o;c++)if(n[c].includes(t)){a=n[c+r];break}return a},mc="";function hc(e,t){var r=void 0===e?{}:e,n=r.store,o=void 0===n?{}:n,a=r.reducer,c=void 0===a?{}:a,i=r.ghost,u=void 0===i?{}:i,s=r.computed,f=void 0===s?{}:s,d=r.watch,l=void 0===d?{}:d,y=r.lifecycle,p=void 0===y?{}:y,v=void 0===t?{}:t,m=v.plugins,h=void 0===m?[]:m,_=v.middlewares,C=void 0===_?[]:_,K=v.isStrict,g=void 0!==K&&K,S=v.isDebug,E=void 0!==S&&S,$=v.log,w=void 0===$||$,b=v.errorHandler,x=void 0===b?null:b,O=v.warningHandler,U=void 0===O?null:O,D=v.isHot,R=v.alwaysRenderCaller,I=void 0===R||R,N=v.bindCtxToMethod,A=void 0!==N&&N,T=v.computedCompare,M=void 0!==T&&T,k=v.watchCompare,P=void 0!==k&&k,j=v.watchImmediate,W=void 0!==j&&j,L=v.reComputed,F=void 0===L||L,V=v.extractModuleChangedState,H=void 0===V||V,z=v.extractRefChangedState,G=void 0!==z&&z,q=v.objectValueCompare,B=void 0!==q&&q,Y=v.nonObjectValueCompare,J=void 0===Y||Y,X=v.localStorage,Z=void 0===X?null:X,Q=v.act,ee=void 0===Q?null:Q,te=v.asyncCuKeys,re=void 0===te?null:te;try{throw Error()}catch(e){var ne=function(e){var t=fr.info,r=vc(e,"startup",2);function n(){return lc(fr.isHot=!0)}r||(r=vc(e,"runConcent",0));var o=Date.now(),a=function(){},c=!0;if(mc)if(mc!==r){var i="run can only been called one time, try refresh browser to avoid this error";if(o-t.latestStartupTime<1e3)throw Error(i);Be()?(a=n(),mc=r):(Ue(i),c=!1)}else a=n();else mc=r,t.firstStartupTime=o,t.latestStartupTime=o;return{canStartup:c,resetClassInsUI:a}}(e),oe=ne.resetClassInsUI;if(!ne.canStartup)return;try{var ae=fr.runtimeVar,ce=fr.runtimeHandler;ae.log=w,yc("concent version "+fr.info.version),void 0!==D&&(fr.isHot=D),fr.reComputed=F,ce.errorHandler=x,ce.warningHandler=U,ce.act=ee,ae.asyncCuKeys=re||[],ae.alwaysRenderCaller=I,ae.isStrict=g,ae.isDebug=E,ae.computedCompare=M,ae.watchCompare=P,ae.watchImmediate=W,ae.extractModuleChangedState=H,ae.extractRefChangedState=G,ae.objectValueCompare=B,ae.nonObjectValueCompare=J,ae.bindCtxToMethod=A,Z?fr.localStorage=Z:window&&window.localStorage&&(fr.localStorage=window.localStorage),fr.recoverRefState(),function(){var e=ye;za(se,e,"",le,[],[],!1,"cc");var t={setState:Ga,forceUpdate:Ga};Ma(t,{module:se,ccClassKey:e,state:{}}),fr.permanentDispatcher=t}(),function(e){Ja(e,"state"),delete e[de],delete e[fe],Ya(e[ue])||(e[ue]={}),Ya(e[se])||(e[se]={});for(var t=Ba(e),r=t.length,n=0;n<r;n++){var o=t[n];Ur(o,e[o])}}(o),function(t,r){Ja(t,"reducer"),Ya(t[se])||(t[se]={}),Ya(t[ue])||(t[ue]={}),Ba(t).forEach(function(e){return kr(e,t[e],r[e])})}(c,u),function(t){Ja(t,"computed"),Ba(t).forEach(function(e){return Zr(e,t[e])})}(f),function(t){Ja(t,"watch"),Ba(t).forEach(function(e){return rn(e,t[e])})}(l),function(t){Ja(t,"lifecycle"),Ba(t).forEach(function(e){return bo(e,t[e])})}(p),function(e){if(0<e.length){var t=fr.middlewares;t.length=0,e.forEach(function(e){return t.push(e)})}}(C);var ie=function(e){pc("CC_CONTEXT",fr,e),pc("ccc",fr,e),pc("cccc",fr.computed._computedValues,e),pc("sss",fr.store._state,e)};window&&window.mcc?setTimeout(function(){ie(window.mcc[Ge()])},1200):ie(),fr.isStartup=!0,Xa(h),oe()}catch(e){fr.runtimeHandler.tryHandleError(e)}}}function _c(e){throw Error("[[run]]: param error, "+e+" "+ie)}var Cc=me,Kc=ke,gc=Je,Sc=he;function Ec(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $c(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var wc=fr.store.getState;var bc=ke,xc=ge,Oc=he,Uc=fr.runtimeVar;function Dc(r,e,t,n){var o=r.ctx;if(r.__$$ms=s,o.__$$inBM=!0,e){var a="type of setup";if(!Oc(e))throw Error(a+" "+j);var c=e(o)||{};if(!me(c))throw Error(a+" return result "+ie);(!0===t||!0===Uc.bindCtxToMethod&&!1!==t)&&bc(c).forEach(function(e){var t=c[e];Oc(t)&&(c[e]=t.bind(r,o))}),Object.assign(o.settings,c)}n&&o.computed(n),o.refComputedValues=Jr(o.computedRetKeyFns,o.refComputedRawValues);var i=o.computedDep,u=o.watchDep;i[ue]||(i[ue]=xc()),u[ue]||(u[ue]=xc()),function(o){function e(n){n(o,c,i,i,u,!0),a.forEach(function(e){var t=wc(e),r=Ye(e);n(o,e,t,t,r,!0)})}var t=o.ctx,r=t.hasComputedFn,n=t.hasWatchFn,a=t.connectedModules,c=t.module,i=t.unProxyState,u=Ye(c);r&&e(hn),n&&e(mn)}(r),o.__$$inBM=!1}var Rc=fr.moduleName2stateKeys,Ic=fr.store,Nc=Ic.getPrevState,Ac=Ic.getState,Tc=Ic.getStateVer,Mc=function(e,t){return xe("effect: key["+e+"] is invalid, its "+t+" has not been declared in' store!")};function kc(e,t){function r(a,c,i){return function(e){var t=e.fn,r=e.eId;if(!i||!1!==e.immediate){var n=a[r];n&&n(u);var o=t(u,c);a[r]=o}}}var u=e.ctx,n=u.effectMeta,o=n.effectItems,a=n.eid2effectReturnCb,c=n.effectPropsItems,i=n.eid2effectPropsReturnCb,_=u.__$$prevMoStateVer,C=u.__$$settedList,K=u.module;if(t)return o.forEach(r(a,!0,!0)),void c.forEach(r(i,!0,!0));var g=u.prevState,S=u.unProxyState,E=[];o.forEach(function(e){var t=e.modDepKeys,r=e.compare,n=e.fn,o=e.eId;if(!e.depKeys)return E.push({fn:n,eId:o});var a=t.length;if(0!==a){for(var c=function(e){return e.reduce(function(t,e){var r=e.module;return e.keys.forEach(function(e){return t[r+"/"+e]=1}),t},{})}(C),i=!1,u=0;u<a;u++){var s=t[u],f=s.split("/"),d=f[0],l=f[1],y=void 0,p=void 0;if(d!==K){var v=Nc(d),m=Tc(d);if(_[l]===m[l])continue;if(_[l]=m[l],!v){Mc(s,"module["+d+"]");continue}if(!Rc[d].includes(l)){Mc(s,"unmoduledKey["+l+"]");continue}y=Ac(d),p=v}else y=S,p=g;var h=p[l]!==y[l];if(i=h||(r?h:c[s]))break}i&&E.push({fn:n,eId:o})}}),E.forEach(r(a,!1,!1));var s=u.prevProps,f=u.props,d=[];c.forEach(function(e){var t=e.depKeys,r=e.fn,n=e.eId;if(!t)return d.push({fn:r,eId:n});for(var o=t.length,a=!1,c=0;c<o;c++){var i=t[c];if(s[i]!==f[i]){a=!0;break}}a&&d.push({fn:r,eId:n})}),d.forEach(r(i,!1,!1)),C.length=0}function Pc(t,e,r,n){var o=ke(t);if(0!==o.length){var a=!1;o.forEach(function(e){2===t[e]&&(a=!0,st(r,e,n))}),e<o.length&&(a=!0),a&&wr(r)}}function jc(e){var t=e.ctx;t.__$$renderStatus=P;var r=t.connectedModules,n=t.connect,o=t.ccUniqueKey,a=t.__$$compareConnWaKeys,c=t.__$$compareConnWaKeyCount;t.__$$autoWatch&&Pc(t.__$$compareWaKeys,t.__$$compareWaKeyCount,t.module,o),r.forEach(function(e){"-"===n[e]&&Pc(a[e],c[e],e,o)})}var Wc=lt._lifecycle,Lc=lt._mountedOnce,Fc=fr.store.getModuleVer;function Vc(n){jc(n),n.__$$ms=l;var e=n.ctx,o=e.ccUniqueKey,t=e.__$$onEvents,r=e.__$$staticWaKeys,a=e.module,c=e.allModules,i=e.__$$mstate,u=e.__$$prevModuleVer;ic(n),0<t.length&&(t.forEach(function(e){var t=e.handler,r=qo(e.inputEvent);Vo(a,n.ctx.ccClassKey,o,r.name,r.identity,t)}),t.length=0);var s=ke(r);(n.ctx.__$$staticWaKeyList=s).forEach(function(e){return function(e,t){ct(at,e,t)}(e,o)}),kc(n,!0),function(e,o){e.forEach(function(e){De(dt,e,1);var t=Wc[e];if(t){var r=t.mounted;if(r&&!0!==Lc[e]&&1==dt[e]){var n=r(go(e),o);Lc[e]=tt(n,!0)}}})}(c,i),u!==Fc(a)&&n.ctx.reactForceUpdate()}function Hc(e){jc(e),kc(e),e.ctx.prevState=e.ctx.unProxyState}var zc=fr.ccUKey2ref,Gc=fr.ccUKey2handlerKeys,qc=fr.runtimeVar,Bc=fr.handlerKey2handler;function Yc(e){qc.isDebug&&console.log(we(e+" unset ref"),$e("purple")),delete zc[e],fr.isHotReloadMode()&&function(e){!function(t,r,e){try{t[r]-=e}catch(e){t[r]=0}}(ac,e,1)}(e);var t=Gc[e];t&&t.forEach(function(e){delete Bc[e]})}var Jc=lt._lifecycle,Xc=lt._willUnmountOnce;function Zc(r,n){function e(e){var t=r[e];he(t)&&t(n)}Object.getOwnPropertySymbols(r).forEach(e),ke(r).forEach(e)}function Qc(e){var t=e.__$$ms;e.__$$ms=y;var r=e.ctx,n=r.ccUniqueKey,o=r.module,a=r.allModules,c=r.__$$staticWaKeyList,i=r.__$$mstate;if(t===l){var u=r.effectMeta,s=u.eid2effectPropsReturnCb;Zc(u.eid2effectReturnCb,r),Zc(s,r),Go(n)}r.getWatchedKeys().forEach(function(e){return st(o,e,n)});var f=r.getConnectWatchedKeys();ke(f).map(function(t){f[t].forEach(function(e){return st(t,e,n)})}),c.forEach(function(e){return function(e,t){try{delete at[e][t]}catch(e){}}(e,n)}),a.forEach(wr),Yc(n),function(e,o){e.forEach(function(e){dt[e]-=1;var t=Jc[e];if(t){var r=t.willUnmount;if(r&&!0!==Xc[e]&&0===dt[e]){var n=r(go(e),o);Xc[e]=tt(n,!0)}}})}(a,i)}function ei(e){var t=e.ctx;if(t.renderCount+=1,e.state=t.state,t.childRef&&(t.childRef.state=t.state),t.__$$autoWatch&&t.__$$renderStatus!==R){t.__$$renderStatus!==R&&(t.__$$renderStatus=R),t.__$$hasModuleState&&(t.__$$curWaKeys={},t.__$$compareWaKeys=t.__$$nextCompareWaKeys,t.__$$compareWaKeyCount=t.__$$nextCompareWaKeyCount,t.__$$nextCompareWaKeys={},t.__$$nextCompareWaKeyCount=0);var r=t.connect;t.connectedModules.forEach(function(e){"-"===r[e]&&(t.__$$curConnWaKeys[e]={},t.__$$compareConnWaKeys[e]=t.__$$nextCompareConnWaKeys[e],t.__$$compareConnWaKeyCount[e]=t.__$$nextCompareConnWaKeyCount[e],t.__$$nextCompareConnWaKeys[e]={},t.__$$nextCompareConnWaKeyCount[e]=0)})}}var ti=function(e){return"CC("+e+")"},ri=We,ni=Je,oi=function(e){return Error("can not defined setup both in register options and class body, --verbose: "+e)};function ai(e,t){var r=He(e);return delete r.__checkStartUp,delete r.__calledBy,function(e,t){var r=void 0===e?{}:e,n=r.module,o=void 0===n?se:n,a=r.state,u=void 0===a?{}:a,c=r.watchedKeys,i=void 0===c?"-":c,s=r.storedKeys,f=void 0===s?[]:s,d=r.setup,l=void 0===d?null:d,y=r.cuDesc,p=void 0===y?null:y,v=r.persistStoredKeys,m=r.connect,h=void 0===m?{}:m,_=r.extra,C=void 0===_?{}:_,K=r.tag,g=r.lite,S=r.isPropsProxy,E=void 0!==S&&S,$=r.renderKeyClasses,w=r.__checkStartUp,b=void 0===w||w,x=r.compareProps,O=void 0===x||x,U=r.__calledBy;void 0===t&&(t="");try{var D=za(o,t,$,le,i,h,b,U),R=D._module,I=D._ccClassKey,N=D._connect,A=D._watchedKeys;return function(r){if(r.prototype&&r.prototype.$$attach)throw Error("register a cc class is prohibited!");var e=!1===E?r:T.Component,i=e.$$setup,t=function(c){function e(e,t){var r;r=c.call(this,e,t)||this;try{var n=ni(u),o=Object.assign(r.state||{},n);r.$$attach=r.$$attach.bind(Ec(r));var a=Object.assign({},e,{module:R,tag:K,state:o,type:le,insType:M,watchedKeys:A,ccClassKey:I,connect:N,storedKeys:f,persistStoredKeys:v,extra:C});if(Ma(Ec(r),a,g),r.ctx.reactSetState=Eo(Ec(r)),r.ctx.reactForceUpdate=$o(Ec(r)),l&&(r.$$setup||i))throw oi("ccUniqueKey "+r.ctx.ccUniqueKey);E||(r.$$setup&&(r.$$setup=r.$$setup.bind(Ec(r))),Dc(Ec(r),l||r.$$setup||i,!1,p))}catch(e){nt.tryHandleError(e)}return r}$c(e,c);var t=e.prototype;return t.shouldComponentUpdate=function(e,t){var r=this.ctx.childRef;if(r&&r.shouldComponentUpdate)return r.shouldComponentUpdate(e,t);if(c.prototype.shouldComponentUpdate)return c.prototype.shouldComponentUpdate.call(this,e,t);var n=!!O&&ri(this.props,e);return this.state!==t||n},t.$$attach=function(e){var t=this.ctx;if((t.childRef=e).ctx=t,e.setState=t.setState,e.forceUpdate=t.forceUpdate,Y(e.state)&&Object.assign(t.state,e.state,t.__$$mstate),e.$$setup&&(e.$$setup=e.$$setup.bind(e)),l&&(e.$$setup||i))throw oi("ccUniqueKey "+t.ccUniqueKey);Dc(this,l||e.$$setup||i,!1,p),ei(this)},t.componentDidMount=function(){if(E&&!this.ctx.childRef)throw Error("forget call props.$$attach(this) in constructor when set isPropsProxy true");c.prototype.componentDidMount&&c.prototype.componentDidMount.call(this),Vc(this)},t.componentDidUpdate=function(e,t,r){c.prototype.componentDidUpdate&&c.prototype.componentDidUpdate.call(this,e,t,r),Hc(this)},t.componentWillUnmount=function(){c.prototype.componentWillUnmount&&c.prototype.componentWillUnmount.call(this),Qc(this)},t.render=function(){var e=this.props;if(this.ctx.prevProps=this.ctx.props,this.ctx.props=e,ei(this),!1===E)return c.prototype.render.call(this);var t=k({},e,{ctx:this.ctx,$$attach:this.$$attach});return T.createElement(r,t)},e}(e);return t.displayName=ti(I),t}}catch(e){nt.tryHandleError(e)}}(r,t)}var ci=He,ii=Je;function ui(e,t){var r=ci(t.register),n=r.module,o=r.renderKeyClasses,a=r.tag,c=r.lite,i=r.compareProps,u=void 0===i||i,s=r.setup,f=r.bindCtxToMethod,d=r.watchedKeys,l=void 0===d?"-":d,y=r.connect,p=void 0===y?{}:y,v=r.storedKeys,m=void 0===v?[]:v,h=r.cuDesc,_=void 0===h?null:h,C=ii(r.state),K=t.ccClassKey,g=t.ccKey,S=t.ccOption,E=void 0===S?{}:S,$=t.id,w=l,b=K,x=p,O=M;if(!0!==t.__$$regDumb){O=D;var U=za(n,K,o,le,l,p,!0);w=U._watchedKeys,b=U._ccClassKey,x=U._connect}Ma(e,{ccKey:g,connect:x,state:C,module:n,type:le,insType:O,storedKeys:m,watchedKeys:w,tag:a,ccClassKey:b,ccOption:E,id:$},c),e.ctx.reactSetState=Eo(e),e.ctx.reactForceUpdate=$o(e),e.__$$compareProps=u,Dc(e,s,f,_)}var si=function(e){return e?Array.isArray(e)?e.join(","):"object"==typeof e?JSON.stringify(e):e:""};function fi(e,t){return"string"==typeof e&&e!==t||(e.module!==t.module||si(e.connect)!==si(t.connect))}var di=We,li=he,yi=T.createElement("span",{style:{display:"none"}}),pi=function(n){function e(e,t){var r;return ui(Ec(r=n.call(this,e,t)||this),e),r}$c(e,n);var t=e.prototype;return t.componentDidMount=function(){Vc(this)},t.shouldComponentUpdate=function(e,t){var r=Zo(e),n=!!this.__$$compareProps&&di(r,Zo(this.props));return n&&fi(r.register,this.props.register)?(Qc(this),ui(this,r),Vc(this),this.ctx.reactForceUpdate(),!1):this.state!==t||n},t.componentDidUpdate=function(){Hc(this)},t.componentWillUnmount=function(){Qc(this)},t.render=function(){var e=this.props;this.ctx.prevProps=this.ctx.props,this.ctx.props=Zo(e);var t=e.render,r=t||e.children;if(li(r)){ei(this);var n=e.register,o=void 0===n?{}:n,a=this.ctx;return!0!==e.__$$regDumb&&o.mapProps?(a.mapped=o.mapProps(a)||{},r(a.mapped)||yi):r(a)||yi}if(T.isValidElement(r))throw Error("CcFragment's children can not b a react dom");return r},e}(T.Component);function vi(e,t){var r=He(e),n=r.watchedKeys,o=r.render,a=r.connect,c=za(r.module,t,r.renderKeyClasses,D,void 0===n?"-":n,void 0===a?{}:a,!0),i=c._ccClassKey,u=c._connect,s=c._watchedKeys;function f(t){return function(e){return r.props=e,function(t,e){var r=e.mapProps,n=e.props,o=void 0===n?{}:n,a={__$$regDumb:!0,props:o,ccOption:o.ccOption,ccClassKey:e.ccClassKey,render:function(e){return r?(e.mapped=r(e),T.createElement(t,e.mapped)):T.createElement(t,e)},ccKey:o.ccKey,register:e};return T.createElement(pi,a)}(t,r)}}return r.module=c._module,r.watchedKeys=s,r.ccClassKey=i,r.connect=u,o?f(o):function(e){return f(e)}}var mi=!0,hi=!1;var _i=fr.ccUKey2ref,Ci={},Ki=1;function gi(e,t,r,n){this.setState=t,this.forceUpdate=t,this.state=e,this.isFirstRendered=!0,this.props=r,this.hookCtx=n}function Si(e,t,r,n,o,a,c,i,u,s,f){Ki+=1,Ci[r.cursor]=r;var d=n||Je(o),l=a.watchedKeys,y=a.connect,p=a.setup,v=a.lite,m=a.cuDesc,h=a.bindCtxToMethod,_=za(a.module,f,a.renderKeyClasses,Z,void 0===l?"-":l,void 0===y?{}:y,!0),C=_._module,K=_._ccClassKey,g=_._connect,S=_._watchedKeys,E=e||new gi(c,i,u,r);r.hookRef=E;var $=Object.assign({},a,{module:C,watchedKeys:S,state:d,type:Z,insType:t,extra:s,ccClassKey:K,connect:g,ccOption:u.ccOption,id:u.id,ccKey:u.ccKey});E.props=u,Ma(E,$,v),E.ctx.reactSetState=Eo(E),E.ctx.reactForceUpdate=$o(E);var w=E.ctx;return w.props=u,Dc(E,p,h,m),r.prevCcUKey=r.ccUKey,r.ccUKey=E.ctx.ccUniqueKey,w.useRef=function(e){var t=T.useRef(null);return w.refs[e]=t},E}function Ei(e){return e.prevCcUKey||e.ccUKey}var $i="react version is LTE 16.8";function wi(e,t,r){void 0===e&&(e={});var n=Ki,o=He(e),a=T.useRef({cursor:n,prevCcUKey:null,ccUKey:null,regOpt:o,ef:0}).current,c=o.state,i=void 0===c?{}:c,u=o.props,s=void 0===u?{}:u,f=o.mapProps,d=o.layoutEffect,l=void 0!==d&&d,y=o.extra,p=T.useState;if(!p)throw Error($i);function v(e){return Si(e,r,a,_,i,o,K,g,s,y,t)}var m,h=n===a.cursor,_=h?Je(i):0,C=p(_),K=C[0],g=C[1];if(h||fi(a.regOpt,o))a.regOpt=o,m=v();else if(m=_i[a.ccUKey]){var S=m.ctx;S.prevProps=S.props,m.props=S.props=s,ve(y)&&(S.extra=Object.assign(S.extra,y))}else m=v();var E=m.ctx,$=l?T.useLayoutEffect:T.useEffect;if($(function(){var t=m.hookCtx;return t.ef=1,function(){var e=_i[Ei(t)];t.prevCcUKey=null,e&&Qc(e),delete Ci[n]}},[m]),$(function(){!function(e,t){e.__boundSetState=t,e.__boundForceUpdate=t}(E,g),!m.isFirstRendered&&_i[Ei(a)]?Hc(m):(m.isFirstRendered=!1,Vc(m));var e=a.cursor;if(function(e){return mi&&(mi=!1,hi=e%2==0),hi}(e)&&!a.clearPrev){a.clearPrev=!0;var t=e-1,r=Ci[t];if(r&&0===r.ef){if(We(r.regOpt,a.regOpt))return void(hi=!1);r.hookRef.ctx.ccClassKey===a.hookRef.ctx.ccClassKey&&(delete Ci[t],Qc(r.hookRef))}}}),ei(m),f){var w=f(E);if(!me(w))throw Error("mapProps ret "+ie);E.mapped=w}return E}function bi(e,t){return wi(e,t,M)}function xi(){throw Error("api doc: cc.setState(module:string, state:object, renderKey:string | string[], delayMs?:number, skipMiddleware?:boolean, throwError?:boolean)")}var Oi=fr.store.getGlobalState,Ui=fr.computed._computedValues,Di=fr.computed._computedValues,Ri=function(e){return e?Di[e]:Di};function Ii(t){var e=fr.computed._computedRaw[t],r={};return e&&ke(e).forEach(function(e){return r[e]=Ri(t)[e]}),r}var Ni=fr.ccUKey2ref;function Ai(r){var n=[],o=fr.ccUKey2ref;return ke(o).forEach(function(e){var t=o[e];if(t&&!t.__$$isUnmounted){if(!r)return n.push(t);t.ctx.ccClassKey===r&&n.push(t)}}),n}function Ti(){return"miss render prop or children"}var Mi=fr.store.appendState,ki=fr.reducer._caller,Pi=function(){return T.createElement("h1",{},"Ob component needs react ver lte 16.8")};T.memo&&(Pi=T.memo(function(e){var t=e.module,r=e.connect,n=e.classKey,o=e.render,a=e.children;if(t&&r)throw Error("module, connect can not been supplied both");if(!t&&!r)throw Error("module or connect should been supplied");var c=o||a||Ti,i=t?{module:t}:{connect:r};i.lite=1;var u,s,f=function(e,t){return wi(e,t,d)}(i,n);return s=t?(u=f.moduleState,f.moduleComputed):(u=f.connectedState,f.connectedComputed),c([u,s,{mr:f.mr,cr:f.cr,r:f.r}])}));var ji=Pi;"undefined"!=typeof window||global&&(global.window={});function Wi(e,t,r){void 0===r&&(r={});var n=r.state,o=r.reducer,a=r.computed,c=r.watch;if(!fr.isStartup)throw Error("cc is not startup yet");Cr(e),Kr(t,!1);var i=fr.moduleName2stateFn[t];if(!i)throw Error("target module["+t+"] state must be a function when use cloneModule");var u=i();Object.assign(u,Je(n)),Io(e,{state:u,reducer:Object.assign(No(fr.reducer._reducer[t],e),No(o,e)),computed:Object.assign({},fr.computed._computedRaw[t],a),watch:Object.assign({},fr.watch._watchRaw[t],c),lifecycle:Object.assign({},fr.lifecycle._lifecycle[t],xo(r))})}function Li(t,e){function n(e,t){var r=t.state,n=t.reducer,o=t.watch,a=t.computed,c=t.ghosts,i=void 0===c?[]:c;if(u.store[e])throw Error("run api error: module["+e+"] duplicate");u.store[e]=gc(r),Sc(r)&&(fr.moduleName2stateFn[e]=r),u.reducer[e]=n,u.ghost[e]=i,u.watch[e]=o,u.computed[e]=a,u.lifecycle[e]=xo(t)}void 0===t&&(t={}),void 0===e&&(e={}),Cc(t)||_c("store"),Cc(e)||_c("options");var u={store:{},reducer:{},ghost:{},watch:{},computed:{},lifecycle:{}};Kc(t).forEach(function(e){return n(e,t[e])}),dr.forEach(function(e){var t=e.module,r=e.config;u.store[t]||(Oe("configure pending module["+t+"]"),n(t,r))}),dr.length=0,hc(u,e)}function Fi(e,t){return ai({connect:e||[]},t)}function Vi(e,t){return vi({connect:e||[]},t)}function Hi(e,o){var a=He(e);function t(r){var e=a.memo,t=void 0===e||e;function n(){return function(e){a.props=e;var t=bi(a,o);return T.createElement(r,a.mapProps?t.mapped:t)}}return delete a.memo,t&&T.memo?T.memo(n()):n()}he(a.state)&&((a=Object.assign({},a)).state=a.state());var r=a.render;return r?t(r):function(e){return t(e)}}function zi(e,t,r,n){Rr().ctx.setGlobalState(e,t,r,n)}function Gi(e,t,r,n,o,a){void 0===n&&(n=-1),void 0===a&&(a=!1),void 0===e&&void 0===t&&xi(),"string"!=typeof e&&xi(),function(e,t,r,n,o){void 0===n&&(n=-1),Zn(t,{ccKey:"[[top api:setState]]",module:e,renderKey:r,delay:n,skipMiddleware:o})}(e,t,r,n,o)}function qi(e,t,r,n){Rr().ctx.set(e,t,r,n)}function Bi(e){return fr.store.getState(e)}function Yi(e){if(e)return Ii(e);var t=ke(fr.store._state),r={};return t.forEach(function(e){return r[e]=Ii(e)}),r}function Ji(){return Ui[ue]}function Xi(e){var t;if(e){for(var r=Rr(),n=arguments.length,o=Array(1<n?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];r&&(t=r.ctx).emit.apply(t,[e].concat(o))}}function Zi(e,t){var r=Rr();r&&r.ctx.off(e,t)}function Qi(e){for(var t=arguments.length,r=Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];(function(e){for(var t=[],r=ke(Ni),n=r.length,o=0;o<n;o++){var a=Ni[r[o]];a.ctx.ccClassKey===e&&t.push(a)}return t})(e).forEach(function(e){var t;e.__$$isUnmounted||e.ctx.execute&&(t=e.ctx).execute.apply(t,r)})}function eu(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];Ai().forEach(function(e){var t;e.ctx.execute&&(t=e.ctx).execute.apply(t,r)})}function tu(e,t){return Qe(e,t)}function ru(e,t){var r=Qe(e,t);return r.lazy=!0,r}function nu(e){return{fn:function(){return e},depKeys:[]}}function ou(e,t){return Qe(e,t)}var au=ai,cu=vi,iu=Io,uu=Oi,su=Ri,fu=Mr,du=fr,lu=Ai,yu=ki,pu=lc,vu=pi,mu=ji,hu=i,_u=Mi,Cu=bi,Ku={cloneModule:Wi,emit:Xi,off:Zi,connect:Fi,connectDumb:Vi,register:au,registerDumb:cu,registerHookComp:Hi,configure:iu,dispatch:fu,run:Li,setGlobalState:zi,setState:Gi,set:qi,getGlobalState:uu,getState:Bi,getComputed:su,debugComputed:Yi,getGlobalComputed:Ji,ccContext:du,execute:Qi,executeAll:eu,getRefs:lu,reducer:yu,clearContextIfHot:pu,CcFragment:vu,Ob:mu,cst:hu,appendState:_u,useConcent:Cu,bindCcToMcc:Su,defComputed:tu,defLazyComputed:ru,defComputedVal:nu,defWatch:ou},gu=null;function Su(e){if(!gu)throw Error("current env is not multi concent ins mode");if(gu[e])throw Error("ccNamespace["+e+"] already existed in window.mcc");!function(e){ze=e}(e),je(e,Ku,gu)}function Eu(){var e=ze?window.mcc[ze]:window.cc;if(e&&e.ccContext&&e.ccContext.info){var t=e.ccContext.info.version,r=du.info.version;if(t!==r)throw Error("concent ver conflict! cur["+t+"]-new["+r+"], refresh browser or reinstall some concent-eco-lib")}}window&&((gu=window.mcc)?setTimeout(function(){if(!Ge())throw Error("detect window.mcc, but user forget call bindCcToMcc in bundle entry");Eu()},1e3):(Eu(),je("cc",Ku))),e.cloneModule=Wi,e.run=Li,e.connect=Fi,e.connectDumb=Vi,e.register=au,e.registerDumb=cu,e.registerHookComp=Hi,e.configure=iu,e.setGlobalState=zi,e.setState=Gi,e.set=qi,e.getState=Bi,e.getGlobalState=uu,e.getComputed=su,e.debugComputed=Yi,e.getGlobalComputed=Ji,e.emit=Xi,e.off=Zi,e.dispatch=fu,e.ccContext=du,e.execute=Qi,e.executeAll=eu,e.getRefs=lu,e.reducer=yu,e.clearContextIfHot=pu,e.CcFragment=vu,e.Ob=mu,e.cst=hu,e.appendState=_u,e.useConcent=Cu,e.defComputed=tu,e.defLazyComputed=ru,e.defComputedVal=nu,e.defWatch=ou,e.bindCcToMcc=Su,e.default=Ku,Object.defineProperty(e,"__esModule",{value:!0})});
