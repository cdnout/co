/*!
 * libvorbis plugin for videojs-record
 * @version 4.2.0
 * @see https://github.com/collab-project/videojs-record
 * @copyright 2014-2021 Collab
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("video.js")):"function"==typeof define&&define.amd?define("VideojsRecord",["video.js"],e):"object"==typeof exports?exports.VideojsRecord=e(require("video.js")):(t.VideojsRecord=t.VideojsRecord||{},t.VideojsRecord.libvorbis=e(t.videojs))}(self,(function(t){return e={1506:t=>{t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},4575:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},3913:t=>{function e(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}},9754:t=>{function e(o){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(o)}t.exports=e},2205:(t,e,o)=>{var n=o(9489);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}},5318:t=>{t.exports=function(t){return t&&t.__esModule?t:{default:t}}},8585:(t,e,o)=>{var n=o(8),r=o(1506);t.exports=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?r(t):e}},9489:t=>{function e(o,n){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(o,n)}t.exports=e},8:t=>{function e(o){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(o)}t.exports=e},3180:(t,e,o)=>{"use strict";var n=o(5318);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(o(4575)),i=n(o(3913)),u=n(o(2205)),s=n(o(8585)),c=n(o(9754)),a=n(o(4390));function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=(0,c.default)(t);if(e){var r=(0,c.default)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return(0,s.default)(this,o)}}var p=function(t){(0,u.default)(o,t);var e=f(o);function o(t,n){var i;return(0,r.default)(this,o),(i=e.call(this,t,n)).debug=!1,i.sampleRate=32e3,i}return(0,i.default)(o,[{key:"setup",value:function(t,e,o){this.inputStream=t,this.mediaType=e,this.debug=o,this.options={audioBitsPerSecond:this.sampleRate}}},{key:"start",value:function(){this.chunks=[],this.engine=new VorbisMediaRecorder(this.inputStream,this.options),this.engine.ondataavailable=this.onData.bind(this),this.engine.onstop=this.onRecordingAvailable.bind(this),this.engine.start()}},{key:"stop",value:function(){try{this.engine.stop()}catch(t){}}},{key:"onData",value:function(t){this.chunks.push(t.data)}},{key:"onRecordingAvailable",value:function(){var t=new Blob(this.chunks,{type:this.chunks[0].type});this.chunks=[],this.onStopRecording(t)}}]),o}(a.default.getComponent("RecordEngine"));a.default.LibVorbisEngine=p;var l=p;e.default=l,t.exports=e.default},4390:e=>{"use strict";e.exports=t}},o={},function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{}};return e[n](r,r.exports,t),r.exports}(3180);var e,o}));