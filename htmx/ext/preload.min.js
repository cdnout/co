htmx.defineExtension("preload",{onEvent:function(t,e){var a,o,r;"htmx:afterProcessNode"===t&&(a=function(t){if(null!=t)return t.getAttribute("preload")||t.getAttribute("data-preload")||a(t.parentElement)||"mousedown"},o=function(r){return function(){var t,e;"READY"===r.preloadState&&(t=function(){r.preloadState="DONE"},r.getAttribute("hx-get")?htmx.ajax("GET",r.getAttribute("hx-get"),{handler:t}):r.getAttribute("href")&&((e=new XMLHttpRequest).open("GET",r.getAttribute("href")),e.onload=t,e.send()))}},r=function(e){if(e.getAttribute("href")+e.getAttribute("hx-get")+e.getAttribute("data-hx-get")!=""&&void 0===e.preloadState){var r=a(e);switch(e.addEventListener(r,function(t){"PAUSE"===e.preloadState&&(e.preloadState="READY","mouseover"===r?window.setTimeout(o(e),100):o(e)())}),r){case"mouseover":e.addEventListener("touchstart",o(e)),e.addEventListener("mouseout",function(t){t.target===e&&"READY"===e.preloadState&&(e.preloadState="PAUSE")});break;case"mousedown":e.addEventListener("touchstart",o(e))}e.preloadState="PAUSE",htmx.trigger(e,"preload:init")}},e.target.querySelectorAll("[preload]").forEach(function(t){r(t),t.querySelectorAll("a,[hx-get],[data-hx-get").forEach(r)}))}});