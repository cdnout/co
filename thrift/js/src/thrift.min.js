var Thrift={Version:"0.13.0",Type:{STOP:0,VOID:1,BOOL:2,BYTE:3,I08:3,DOUBLE:4,I16:6,I32:8,I64:10,STRING:11,UTF7:11,STRUCT:12,MAP:13,SET:14,LIST:15,UTF8:16,UTF16:17},MessageType:{CALL:1,REPLY:2,EXCEPTION:3,ONEWAY:4},objectLength:function(t){var e=0;for(var i in t)t.hasOwnProperty(i)&&e++;return e},inherits:function(t,e,i){function r(){}r.prototype=e.prototype,t.prototype=new r,t.prototype.name=i||""},TException:function(t){this.message=t}},copyList,copyMap;Thrift.inherits(Thrift.TException,Error,"TException"),Thrift.TException.prototype.getMessage=function(){return this.message},Thrift.TApplicationExceptionType={UNKNOWN:0,UNKNOWN_METHOD:1,INVALID_MESSAGE_TYPE:2,WRONG_METHOD_NAME:3,BAD_SEQUENCE_ID:4,MISSING_RESULT:5,INTERNAL_ERROR:6,PROTOCOL_ERROR:7,INVALID_TRANSFORM:8,INVALID_PROTOCOL:9,UNSUPPORTED_CLIENT_TYPE:10},Thrift.TApplicationException=function(t,e){this.message=t,this.code="number"==typeof e?e:0},Thrift.inherits(Thrift.TApplicationException,Thrift.TException,"TApplicationException"),Thrift.TApplicationException.prototype.read=function(t){for(;;){var e=t.readFieldBegin();if(e.ftype==Thrift.Type.STOP)break;switch(e.fid){case 1:e.ftype==Thrift.Type.STRING?(e=t.readString(),this.message=e.value):e=t.skip(e.ftype);break;case 2:e.ftype==Thrift.Type.I32?(e=t.readI32(),this.code=e.value):e=t.skip(e.ftype);break;default:e=t.skip(e.ftype)}t.readFieldEnd()}t.readStructEnd()},Thrift.TApplicationException.prototype.write=function(t){t.writeStructBegin("TApplicationException"),this.message&&(t.writeFieldBegin("message",Thrift.Type.STRING,1),t.writeString(this.getMessage()),t.writeFieldEnd()),this.code&&(t.writeFieldBegin("type",Thrift.Type.I32,2),t.writeI32(this.code),t.writeFieldEnd()),t.writeFieldStop(),t.writeStructEnd()},Thrift.TApplicationException.prototype.getCode=function(){return this.code},Thrift.TProtocolExceptionType={UNKNOWN:0,INVALID_DATA:1,NEGATIVE_SIZE:2,SIZE_LIMIT:3,BAD_VERSION:4,NOT_IMPLEMENTED:5,DEPTH_LIMIT:6},Thrift.TProtocolException=function(t,e){Error.call(this),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.type=t,this.message=e},Thrift.inherits(Thrift.TProtocolException,Thrift.TException,"TProtocolException"),Thrift.Transport=Thrift.TXHRTransport=function(t,e){this.url=t,this.wpos=0,this.rpos=0,this.useCORS=e&&e.useCORS,this.customHeaders=e&&e.customHeaders?e.customHeaders:{},this.send_buf="",this.recv_buf=""},Thrift.TXHRTransport.prototype={getXmlHttpRequestObject:function(){try{return new XMLHttpRequest}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}throw"Your browser doesn't support XHR."},flush:function(t,e){var i=this;if(t&&!e||void 0===this.url||""===this.url)return this.send_buf;var r,s,o=this.getXmlHttpRequestObject();if(o.overrideMimeType&&o.overrideMimeType("application/vnd.apache.thrift.json; charset=utf-8"),e&&(o.onreadystatechange=(s=e,function(){4==this.readyState&&200==this.status&&(i.setRecvBuffer(this.responseText),s())}),o.onerror=(r=e,function(){r()})),o.open("POST",this.url,!!t),Object.keys(i.customHeaders).forEach(function(t){o.setRequestHeader(t,i.customHeaders[t])}),o.setRequestHeader&&(o.setRequestHeader("Accept","application/vnd.apache.thrift.json; charset=utf-8"),o.setRequestHeader("Content-Type","application/vnd.apache.thrift.json; charset=utf-8")),o.send(this.send_buf),!t||!e){if(4!=o.readyState)throw"encountered an unknown ajax ready state: "+o.readyState;if(200!=o.status)throw"encountered a unknown request status: "+o.status;this.recv_buf=o.responseText,this.recv_buf_sz=this.recv_buf.length,this.wpos=this.recv_buf.length,this.rpos=0}},jqRequest:function(e,t,i,r){if("undefined"==typeof jQuery||void 0===jQuery.Deferred)throw"Thrift.js requires jQuery 1.5+ to use asynchronous requests";var s=this;return jQuery.ajax({url:this.url,data:t,type:"POST",cache:!1,contentType:"application/vnd.apache.thrift.json; charset=utf-8",dataType:"text thrift",converters:{"text thrift":function(t){return s.setRecvBuffer(t),r.call(e)}},context:e,success:jQuery.makeArray(i).pop(),beforeSend:function(e){Object.keys(s.customHeaders).forEach(function(t){e.setRequestHeader(t,s.customHeaders[t])})}})},setRecvBuffer:function(t){this.recv_buf=t,this.recv_buf_sz=this.recv_buf.length,this.wpos=this.recv_buf.length,this.rpos=0},isOpen:function(){return!0},open:function(){},close:function(){},read:function(t){var e=this.wpos-this.rpos;if(0==e)return"";var i=t;e<t&&(i=e);var r=this.read_buf.substr(this.rpos,i);return this.rpos+=i,r},readAll:function(){return this.recv_buf},write:function(t){this.send_buf=t},getSendBuffer:function(){return this.send_buf}},Thrift.TWebSocketTransport=function(t){this.__reset(t)},Thrift.TWebSocketTransport.prototype={__reset:function(t){this.url=t,this.socket=null,this.callbacks=[],this.send_pending=[],this.send_buf="",this.recv_buf="",this.rb_wpos=0,this.rb_rpos=0},flush:function(t,e){var i,r=this;this.isOpen()?(this.socket.send(this.send_buf),this.callbacks.push((i=e,function(t){r.setRecvBuffer(t),i&&i()}))):this.send_pending.push({buf:this.send_buf,cb:e})},__onOpen:function(){var i=this;0<this.send_pending.length&&(this.send_pending.forEach(function(t){var e;i.socket.send(t.buf),i.callbacks.push((e=t.cb,function(t){i.setRecvBuffer(t),e()}))}),this.send_pending=[])},__onClose:function(t){this.__reset(this.url)},__onMessage:function(t){this.callbacks.length&&this.callbacks.shift()(t.data)},__onError:function(t){console.log("Thrift WebSocket Error: "+t.toString()),this.socket.close()},setRecvBuffer:function(t){this.recv_buf=t,this.recv_buf_sz=this.recv_buf.length,this.wpos=this.recv_buf.length,this.rpos=0},isOpen:function(){return this.socket&&this.socket.readyState==this.socket.OPEN},open:function(){this.socket&&this.socket.readyState!=this.socket.CLOSED||(this.socket=new WebSocket(this.url),this.socket.onopen=this.__onOpen.bind(this),this.socket.onmessage=this.__onMessage.bind(this),this.socket.onerror=this.__onError.bind(this),this.socket.onclose=this.__onClose.bind(this))},close:function(){this.socket.close()},read:function(t){var e=this.wpos-this.rpos;if(0==e)return"";var i=t;e<t&&(i=e);var r=this.read_buf.substr(this.rpos,i);return this.rpos+=i,r},readAll:function(){return this.recv_buf},write:function(t){this.send_buf=t},getSendBuffer:function(){return this.send_buf}},Thrift.TJSONProtocol=Thrift.Protocol=function(t){this.tstack=[],this.tpos=[],this.transport=t},Thrift.Protocol.Type={},Thrift.Protocol.Type[Thrift.Type.BOOL]='"tf"',Thrift.Protocol.Type[Thrift.Type.BYTE]='"i8"',Thrift.Protocol.Type[Thrift.Type.I16]='"i16"',Thrift.Protocol.Type[Thrift.Type.I32]='"i32"',Thrift.Protocol.Type[Thrift.Type.I64]='"i64"',Thrift.Protocol.Type[Thrift.Type.DOUBLE]='"dbl"',Thrift.Protocol.Type[Thrift.Type.STRUCT]='"rec"',Thrift.Protocol.Type[Thrift.Type.STRING]='"str"',Thrift.Protocol.Type[Thrift.Type.MAP]='"map"',Thrift.Protocol.Type[Thrift.Type.LIST]='"lst"',Thrift.Protocol.Type[Thrift.Type.SET]='"set"',Thrift.Protocol.RType={},Thrift.Protocol.RType.tf=Thrift.Type.BOOL,Thrift.Protocol.RType.i8=Thrift.Type.BYTE,Thrift.Protocol.RType.i16=Thrift.Type.I16,Thrift.Protocol.RType.i32=Thrift.Type.I32,Thrift.Protocol.RType.i64=Thrift.Type.I64,Thrift.Protocol.RType.dbl=Thrift.Type.DOUBLE,Thrift.Protocol.RType.rec=Thrift.Type.STRUCT,Thrift.Protocol.RType.str=Thrift.Type.STRING,Thrift.Protocol.RType.map=Thrift.Type.MAP,Thrift.Protocol.RType.lst=Thrift.Type.LIST,Thrift.Protocol.RType.set=Thrift.Type.SET,Thrift.Protocol.Version=1,Thrift.Protocol.prototype={getTransport:function(){return this.transport},writeMessageBegin:function(t,e,i){this.tstack=[],this.tpos=[],this.tstack.push([Thrift.Protocol.Version,'"'+t+'"',e,i])},writeMessageEnd:function(){var t=this.tstack.pop();this.wobj=this.tstack.pop(),this.wobj.push(t),this.wbuf="["+this.wobj.join(",")+"]",this.transport.write(this.wbuf)},writeStructBegin:function(t){this.tpos.push(this.tstack.length),this.tstack.push({})},writeStructEnd:function(){var t=this.tpos.pop(),e=this.tstack[t],i="{",r=!0;for(var s in e)r?r=!1:i+=",",i+=s+":"+e[s];i+="}",this.tstack[t]=i},writeFieldBegin:function(t,e,i){this.tpos.push(this.tstack.length),this.tstack.push({fieldId:'"'+i+'"',fieldType:Thrift.Protocol.Type[e]})},writeFieldEnd:function(){var t=this.tstack.pop(),e=this.tstack.pop();this.tstack[this.tstack.length-1][e.fieldId]="{"+e.fieldType+":"+t+"}",this.tpos.pop()},writeFieldStop:function(){},writeMapBegin:function(t,e,i){this.tpos.push(this.tstack.length),this.tstack.push([Thrift.Protocol.Type[t],Thrift.Protocol.Type[e],0])},writeMapEnd:function(){var t=this.tpos.pop();if(t!=this.tstack.length){(this.tstack.length-t-1)%2!=0&&this.tstack.push("");var e=(this.tstack.length-t-1)/2;this.tstack[t][this.tstack[t].length-1]=e;for(var i="}",r=!0;this.tstack.length>t+1;){var s=this.tstack.pop(),o=this.tstack.pop();r?r=!1:i=","+i,isNaN(o)||(o='"'+o+'"'),i=o+":"+s+i}i="{"+i,this.tstack[t].push(i),this.tstack[t]="["+this.tstack[t].join(",")+"]"}},writeListBegin:function(t,e){this.tpos.push(this.tstack.length),this.tstack.push([Thrift.Protocol.Type[t],e])},writeListEnd:function(){for(var t=this.tpos.pop();this.tstack.length>t+1;){var e=this.tstack[t+1];this.tstack.splice(t+1,1),this.tstack[t].push(e)}this.tstack[t]="["+this.tstack[t].join(",")+"]"},writeSetBegin:function(t,e){this.tpos.push(this.tstack.length),this.tstack.push([Thrift.Protocol.Type[t],e])},writeSetEnd:function(){for(var t=this.tpos.pop();this.tstack.length>t+1;){var e=this.tstack[t+1];this.tstack.splice(t+1,1),this.tstack[t].push(e)}this.tstack[t]="["+this.tstack[t].join(",")+"]"},writeBool:function(t){this.tstack.push(t?1:0)},writeByte:function(t){this.tstack.push(t)},writeI16:function(t){this.tstack.push(t)},writeI32:function(t){this.tstack.push(t)},writeI64:function(t){"number"==typeof t?this.tstack.push(t):this.tstack.push(Int64Util.toDecimalString(t))},writeDouble:function(t){this.tstack.push(t)},writeString:function(t){if(null===t)this.tstack.push(null);else{for(var e="",i=0;i<t.length;i++){var r=t.charAt(i);e+='"'===r?'\\"':"\\"===r?"\\\\":"\b"===r?"\\b":"\f"===r?"\\f":"\n"===r?"\\n":"\r"===r?"\\r":"\t"===r?"\\t":r}this.tstack.push('"'+e+'"')}},writeBinary:function(t){var e="";if("string"==typeof t)e=t;else{if(!(t instanceof Uint8Array))throw new TypeError("writeBinary only accepts String or Uint8Array.");for(var i=t,r=0;r<i.length;++r)e+=String.fromCharCode(i[r])}this.tstack.push('"'+btoa(e)+'"')},readMessageBegin:function(){this.rstack=[],this.rpos=[],received=this.transport.readAll(),"undefined"!=typeof JSONInt64&&"function"==typeof JSONInt64.parse?this.robj=JSONInt64.parse(received):"undefined"!=typeof JSON&&"function"==typeof JSON.parse?this.robj=JSON.parse(received):"undefined"!=typeof jQuery?this.robj=jQuery.parseJSON(received):this.robj=eval(received);var r={},version=this.robj.shift();if(version!=Thrift.Protocol.Version)throw"Wrong thrift protocol version: "+version;return r.fname=this.robj.shift(),r.mtype=this.robj.shift(),r.rseqid=this.robj.shift(),this.rstack.push(this.robj.shift()),r},readMessageEnd:function(){},readStructBegin:function(t){var e={fname:""};return this.rstack[this.rstack.length-1]instanceof Array&&this.rstack.push(this.rstack[this.rstack.length-1].shift()),e},readStructEnd:function(){this.rstack[this.rstack.length-2]instanceof Array&&this.rstack.pop()},readFieldBegin:function(){var t={},e=-1,i=Thrift.Type.STOP;for(var r in this.rstack[this.rstack.length-1])if(null!==r){e=parseInt(r,10),this.rpos.push(this.rstack.length);var s=this.rstack[this.rstack.length-1][e];delete this.rstack[this.rstack.length-1][e],this.rstack.push(s);break}if(-1!=e)for(var o in this.rstack[this.rstack.length-1])null!==Thrift.Protocol.RType[o]&&(i=Thrift.Protocol.RType[o],this.rstack[this.rstack.length-1]=this.rstack[this.rstack.length-1][o]);return t.fname="",t.ftype=i,t.fid=e,t},readFieldEnd:function(){for(var t=this.rpos.pop();this.rstack.length>t;)this.rstack.pop()},readMapBegin:function(){var t=this.rstack.pop(),e=t.shift();e instanceof Array&&(this.rstack.push(t),e=(t=e).shift());var i={};return i.ktype=Thrift.Protocol.RType[e],i.vtype=Thrift.Protocol.RType[t.shift()],i.size=t.shift(),this.rpos.push(this.rstack.length),this.rstack.push(t.shift()),i},readMapEnd:function(){this.readFieldEnd()},readListBegin:function(){var t=this.rstack[this.rstack.length-1],e={};return e.etype=Thrift.Protocol.RType[t.shift()],e.size=t.shift(),this.rpos.push(this.rstack.length),this.rstack.push(t.shift()),e},readListEnd:function(){var t=this.rpos.pop()-2,e=this.rstack;e.pop(),e instanceof Array&&e.length>t&&0<e[t].length&&e.push(e[t].shift())},readSetBegin:function(t,e){return this.readListBegin(t,e)},readSetEnd:function(){return this.readListEnd()},readBool:function(){var t=this.readI32();return null!==t&&"1"==t.value?t.value=!0:t.value=!1,t},readByte:function(){return this.readI32()},readI16:function(){return this.readI32()},readI32:function(t){void 0===t&&(t=this.rstack[this.rstack.length-1]);var e={};if(t instanceof Array)0===t.length?e.value=void 0:(t.isReversed||(t.reverse(),t.isReversed=!0),e.value=t.pop());else if(t instanceof Object){for(var i in t)if(null!==i){this.rstack.push(t[i]),delete t[i],e.value=i;break}}else e.value=t,this.rstack.pop();return e},readI64:function(t){void 0===t&&(t=this.rstack[this.rstack.length-1]);var e={};if(t instanceof Array)0===t.length?e.value=void 0:(t.isReversed||(t.reverse(),t.isReversed=!0),e.value=t.pop());else if(t instanceof Object){var i=!0,r=Object.keys(t).sort(),s=["buffer","offset"];r.length!==s.length&&(i=!1);for(var o=0;i&&o<r.length;++o)r[o]!==s[o]&&(i=!1);if(i)e.value=t;else for(var n in t)if(null!==n){this.rstack.push(t[n]),delete t[n],e.value=n;break}}else e.value=t,this.rstack.pop();return e},readDouble:function(){return this.readI32()},readString:function(){return this.readI32()},readBinary:function(){var t=this.readI32();return t.value=atob(t.value),t},skip:function(t){var e,i;switch(t){case Thrift.Type.BOOL:return this.readBool();case Thrift.Type.BYTE:return this.readByte();case Thrift.Type.I16:return this.readI16();case Thrift.Type.I32:return this.readI32();case Thrift.Type.I64:return this.readI64();case Thrift.Type.DOUBLE:return this.readDouble();case Thrift.Type.STRING:return this.readString();case Thrift.Type.STRUCT:for(this.readStructBegin();(e=this.readFieldBegin()).ftype!=Thrift.Type.STOP;)this.skip(e.ftype),this.readFieldEnd();return this.readStructEnd(),null;case Thrift.Type.MAP:for(e=this.readMapBegin(),i=0;i<e.size;i++)0<i&&this.rstack.length>this.rpos[this.rpos.length-1]+1&&this.rstack.pop(),this.skip(e.ktype),this.skip(e.vtype);return this.readMapEnd(),null;case Thrift.Type.SET:for(e=this.readSetBegin(),i=0;i<e.size;i++)this.skip(e.etype);return this.readSetEnd(),null;case Thrift.Type.LIST:for(e=this.readListBegin(),i=0;i<e.size;i++)this.skip(e.etype);return this.readListEnd(),null;default:throw new Thrift.TProtocolException(Thrift.TProtocolExceptionType.INVALID_DATA)}}},Thrift.MultiplexProtocol=function(t,e,i,r){Thrift.Protocol.call(this,e,i,r),this.serviceName=t},Thrift.inherits(Thrift.MultiplexProtocol,Thrift.Protocol,"multiplexProtocol"),Thrift.MultiplexProtocol.prototype.writeMessageBegin=function(t,e,i){e===Thrift.MessageType.CALL||e===Thrift.MessageType.ONEWAY?Thrift.Protocol.prototype.writeMessageBegin.call(this,this.serviceName+":"+t,e,i):Thrift.Protocol.prototype.writeMessageBegin.call(this,t,e,i)},Thrift.Multiplexer=function(){this.seqid=0},Thrift.Multiplexer.prototype.createClient=function(t,e,i){e.Client&&(e=e.Client);var r=this;return e.prototype.new_seqid=function(){return r.seqid+=1,r.seqid},new e(new Thrift.MultiplexProtocol(t,i))},copyList=function(t,e){if(!t)return t;for(var i,r=void 0===e.shift?e:e[0],s=r,o=t.length,n=[],h=0;h<o;h++)i=t[h],null===r?n.push(i):r===copyMap||r===copyList?n.push(r(i,e.slice(1))):n.push(new s(i));return n},copyMap=function(t,e){if(!t)return t;var i,r=void 0===e.shift?e:e[0],s=r,o={};for(var n in t)t.hasOwnProperty(n)&&(i=t[n],o[n]=null===r?i:r===copyMap||r===copyList?r(i,e.slice(1)):new s(i));return o},Thrift.copyMap=copyMap,Thrift.copyList=copyList;