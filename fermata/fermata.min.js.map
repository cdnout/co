{"version":3,"sources":["fermata.js"],"names":["fermata","plugins","_builtinProxy","Proxy","registerPlugin","name","plugin","baseURL","base","path","query","args","concat","slice","call","arguments","transport","_makeTransport","using","apply","_makeNativeURL","_useExports","exports","this","url","_wrapTheWrapper","lastArg","_typeof2","length","_stringForURL","callback","pop","data","headers","_normalize","options","method","toUpperCase","console","warn","responseType","query2","_extend","path2","impl","_nodeProxy","createFunction","getOwnPropertyDescriptor","enumerate","delete","fix","set","target","val","get","getPropertyDescriptor","getPropertyNames","defineProperty","put","post","del","_nodeTransport","request","url_parts","require","parse","auth","decodeURIComponent","Buffer","toString","http","protocol","opts","node","host","hostname","port","pathname","search","agent","globalAgent","req","_isStream","pipe","setHeader","end","on","e","res","status","statusCode","responseChunks","responseLength","chunk","push","err","responseData","_xhrTransport","xhr","XMLHttpRequest","open","Object","keys","forEach","k","setRequestHeader","send","onreadystatechange","readyState","DONE","responseHeaders","getAllResponseHeaders","split","l","join","response","responseText","Error","p","map","c","encodeURIComponent","q","_flatten","kv","list","v","JSON","stringify","_unflatten","obj","hasOwnProperty","headers_norm","k_norm","w","toLowerCase","assign","Array","prototype","ext","key","o","isArray","window","init","_transport","config","duration","_req","watchdog","setTimeout","abort","clearTimeout","toFixed","_nodeMultipartEncode","segno","Math","round","random","buffer","prevBuffer","newBuffer","copy","write","s","replace","file","type","_xhrMultipartEncode","form","FormData","append","Readable","defaultType","TYPES","text/plain","d","application/json","application/x-www-form-urlencoded","multipart/form-data","reqType","encoder","accType","resType","decoder","meta","X-Status-Code","temp","correctURL","user"],"mappings":"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"}