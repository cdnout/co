let isNode=!1;isNode="undefined"==typeof window||"undefined"==typeof document,isNode&&console.warn("There is no document element in Node so some functions of bijou.js will not work. If you need these functions consider using a package like jsDom to recreate the document element.");let node=()=>{if(isNode)throw new Error("You are using Node.js, this function does not work in Node.js! Sorry!")},array_namespace={},color_namespace={},date_namespace={},element_namespace={},event_namespace={},function_namespace={},math_namespace={},object_namespace={},string_namespace={},utility_namespace={};const req=(t,r,e=!0)=>{if(e){let e="[Bijou.js] Missing parameter";throw t&&(e+=" of type "+t),r&&(e=`Parameter ${r} ${t?`(${t})`:""} required.`),new Error(e)}};let count=(e=req("array","array"))=>e.reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{}),arrayDiff=(e=req("array","array 1"),t=req("array","array 2"))=>{for(var r=[],n=[],a=0;a<e.length;a++)r[e[a]]=!0;for(var o,a=0;a<t.length;a++)r[t[a]]?delete r[t[a]]:r[t[a]]=!0;for(o in r)n.push(o);return n},diff=function(e=req("string","Text 1"),t=req("string","Text 2")){for(var r=[],n=void 0,a=0;a<e.length;a++)null!=(n=e[a]!=t[a]&&null==n?[a]:n)&&e[a]==t[a]&&(n.push(a),r.push(n),n=void 0);return null!=n&&(n.push(a),r.push(n)),r},remove=(e=req("array","array"),t=req(void 0,"item"))=>"string"==typeof e?e.replace(t,""):"object"==typeof e?(e[`${t}`]=void 0,e=_$.clone(e,e=>void 0!==e)):(-1<e.indexOf(t)&&e.splice(e.indexOf(t),1),e),spliceArrayBuffer=(e=req("ArrayBuffer"),t=req("number"),r=req("number"),n=!1)=>{var a=n?-1:1;n&&([t,r]=[r,t]),t=Math.floor(t),r=Math.floor(r)+a;for(var o=t,i=0;o!=r;o+=a)i=256*i+e[o];return i},flatten=(e=req("array","array"),t=1)=>{var r=e;return _$.each(t,()=>{r=[].concat.apply([],e)}),r},nFlatten=(e=req("array","array"))=>e.reduce(function(e,t){return e.concat(Array.isArray(t)?flatten(t):t)},[]),contains=(e=req("array"),t=req("string"))=>e.includes(t),shuffleArray=(e=req("array"))=>e.sort(()=>Math.random()-.5),splice=(e=req("array","array"),t=req("number","index"),r,n)=>{let a=Array.from(arguments);return a.shift(),"string"==typeof e?e.split("").splice(...a).join(""):e.splice(...a)},unionArrays=(e=req("array","array1"),t=req("array","array2"))=>{for(var r={},n=e.length-1;0<=n;--n)r[e[n]]=e[n];for(n=t.length-1;0<=n;--n)r[t[n]]=t[n];var a,o=[];for(a in r)r.hasOwnProperty(a)&&o.push(r[a]);return o},averageBy=(e=req("array","array"),t=req("function","callback"))=>e.map("function"==typeof t?t:e=>e[t]).reduce((e,t)=>e+t,0)/e.length,uniqueArray=(e=req("array","array"))=>[...new Set(e)],each=(t=req("Array|Number|String","array"),r=req("function","callback"))=>{t="number"==typeof t?_$.range(1,t):"string"==typeof t?t.split(""):t;for(let e=0;e<t.length;e++)r(t[e],e,t);return t},rgbToHex=(e=req("string","RGB color"))=>{var t=-1<e.indexOf(",")?",":" ";let r=(+(e=e.substr(4).split(")")[0].split(t))[0]).toString(16),n=(+e[1]).toString(16),a=(+e[2]).toString(16);return 1===r.length&&(r="0"+r),1===n.length&&(n="0"+n),1===a.length&&(a="0"+a),"#"+r+n+a},hexToRGB=(e=req("string","hex color"))=>{if((e.length-1!=6&&e.length-1!=8&&e.length-1!=4&&e.length-1!=3||!e.startsWith("#"))&&(6!==e.length&&8!==e.length&&4!==e.length&&3!==e.length||e.startsWith("#")))throw new Error("Invalid hex");let t=!1,r=e.slice(e.startsWith("#")?1:0);return 3===r.length?r=[...r].map(e=>e+e).join(""):8===r.length&&(t=!0),r=parseInt(r,16),"rgb"+(t?"a":"")+"("+(r>>>(t?24:16))+", "+((r&(t?16711680:65280))>>>(t?16:8))+", "+((r&(t?65280:255))>>>(t?8:0))+(t?`, ${255&r}`:"")+")"},blendColors=(e=req("string","color 1"),t=req("string","color 2"),r=50)=>{var n=(e,t,r)=>e+r/100*(t-e),a=parseInt(`${e[1]}${e[2]}`,16),o=parseInt(`${e[3]}${e[4]}`,16),i=parseInt(`${e[5]}${e[6]}`,16),s=parseInt(`${t[1]}${t[2]}`,16),e=parseInt(`${t[3]}${t[4]}`,16),t=parseInt(`${t[5]}${t[6]}`,16);return((e,t,r)=>{let n=e.toString(16),a=t.toString(16),o=r.toString(16);for(;n.length<2;)n=`0${n}`;for(;a.length<2;)a=`0${a}`;for(;o.length<2;)o=`0${o}`;return`#${n}${a}${o}`})(Math.round(n(a,s,r)),Math.round(n(o,e,r)),Math.round(n(i,t,r)))},randomColor=()=>`#${Math.floor(16777215*Math.random()).toString(16)}`,lightenColor=(e=req("string","hex color"),t=req("number","amount"))=>{var r=!1;"#"==e[0]&&(e=e.slice(1),r=!0);var n=parseInt(e,16),a=(n>>16)+t;255<a?a=255:a<0&&(a=0);e=(n>>8&255)+t;255<e?e=255:e<0&&(e=0);t=(255&n)+t;return 255<t?t=255:t<0&&(t=0),(r?"#":"")+(t|e<<8|a<<16).toString(16)},lightOrDark=(e=req("string","hex or RGB color"))=>{var t,r,e=e.match(/^rgb/)?(t=(e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/))[1],r=e[2],e[3]):(t=(e=+("0x"+e.slice(1).replace(e.length<5&&/./g,"$&$&")))>>16,r=e>>8&255,255&e),e=Math.sqrt(t*t*.299+r*r*.587+e*e*.114);return 127.5<e?{lightOrDark:"light",hsp:e}:{lightOrDark:"dark",hsp:e}},dayName=(e=new Date,t="en-US")=>e.toLocaleDateString(t,{weekday:"long"}),formatMilliseconds=(e=req("number","milliseconds"))=>{(e="string"==typeof e?+e:e)<0&&(e=-e);e={century:Math.floor(e/11448e8),year:Math.floor(e/22896e6)%50,day:Math.floor(e/864e5)%365,hour:Math.floor(e/36e5)%24,minute:Math.floor(e/6e4)%60,second:Math.floor(e/1e3)%60,millisecond:Math.floor(e)%1e3};return Object.entries(e).filter(e=>0!==e[1]).map(([e,t])=>`${t} ${e}${1!==t?"s":""}`).join(", ")},addMinutesToDate=(e=req("date","date or date string"),t=req("number","minutes"))=>{const r=new Date(e);return r.setTime(r.getTime()+6e4*t),r.toISOString().split(".")[0].replace("T"," ")},isDateValid=(...e)=>(req("any","date arguments",![...e].length),!Number.isNaN(new Date(...e).valueOf())),addDaysToDate=(e=req("date","date or date string"),t=req("number","days"))=>{const r=new Date(e);return r.setDate(r.getDate()+t),r.toISOString().split("T")[0]},ripple=(a=req("element","element"),{time:o,color:i,opacity:s,event:e})=>{node(),o=o||3*(+a.getAttribute("data-time")||1e3),i=i||a.getAttribute("data-color")||"currentColor",s=s||a.getAttribute("data-opacity")||".3",e=e||a.getAttribute("data-event")||"mousedown",a.style.overflow="hidden",a.style.position="relative",a.addEventListener(e,e=>{var t=document.createElement("DIV");t.style.position="absolute",t.style.background=`${i}`,t.style.borderRadius="50%";var r=a.getBoundingClientRect(),n=r.width>r.height?3*r.width:3*r.height;t.style.pointerEvents="none",t.style.height=`${n}px`,t.style.width=`${n}px`,t.style.transform="translate(-50%, -50%) scale(0)",t.style.top=`${e.pageY-(r.top+window.scrollY)}px`,t.style.left=`${e.pageX-(r.left+window.scrollX)}px`,t.style.transition=`opacity ${o}ms ease, transform ${o}ms ease`,t.removeAttribute("data-ripple"),t.style.opacity=s,a.appendChild(t),setTimeout(()=>{t.style.transform="translate(-50%, -50%) scale(1)",t.style.opacity="0",setTimeout(()=>{t.remove()},o)},1)})};function elementReady(n=req("string","query selector"),a=document.documentElement){return node(),new Promise((r,e)=>{var t=a.querySelector(n);t&&r(t),new MutationObserver((e,t)=>{Array.from(a.querySelectorAll(n)).forEach(e=>{r(e),t.disconnect()})}).observe(a,{childList:!0,subtree:!0})})}let elementContains=(e=req("HTMLElement","parent"),t=req("HTMLElement","child"))=>(node(),e!==t&&e.contains(t)),parents=(e=req("element"))=>(node(),[...function*(e){for(;e=e.parentNode;)yield e}(e)]),getImages=(e=document.documentElement,t=!1)=>{node();e=[...e.getElementsByTagName("img")].map(e=>e.getAttribute("src"));return t?e:[...new Set(e)]},renderElement=({type:e,props:r={}}=req("object","options"),t=req("HTMLElement","container"))=>{node();const n=!e,a=n?document.createTextNode(""):document.createElement(e),o=e=>e.startsWith("on");return Object.keys(r).forEach(e=>{var t;t=e,o(t)||"children"===t||(a[e]=r[e]),!n&&o(e)&&a.addEventListener(e.toLowerCase().slice(2),r[e])}),!n&&r.children&&r.children.length&&r.children.forEach(e=>renderElement(e,a)),t.appendChild(a),a};function create(e="div",...t){node();var r=e.match(/^[a-z0-9]+/i);let n=e.match(/#([a-z]+[a-z0-9-]*)/gi),a=e.match(/\.([a-z]+[a-z0-9-]*)/gi),o=e.match(/\[([a-z][a-z-]+)(=['|"]?([^\]]*)['|"]?)?\]/gi);r=r?r[0]:"div";if(n&&1<n.length)throw new Error("only 1 ID is allowed");const i=document.createElement(r);return n&&(i.id=n[0].replace("#","")),a&&(r=a.join(" ").replace(/\./g,""),i.setAttribute("class",r)),o&&o.forEach(e=>{let[t,r]=(e=e.slice(0,-1).slice(1)).split("=");r=r&&r.replace(/^['"](.*)['"]$/,"$1"),i.setAttribute(t,r||"")}),t.forEach(e=>{"string"==typeof e||"number"==typeof e?i.appendChild(document.createTextNode(e)):e.nodeType===document.ELEMENT_NODE&&i.appendChild(e)}),i}let context=()=>{node();var a=document.createElement("UL");a.id="contextMenu",document.body.appendChild(a);let e=document.createElement("STYLE");e.innerHTML=`#contextMenu {
       pointer-events: none;
       padding: 0;
       opacity: 0;
       transition: opacity .3s ease;
       position: fixed;
       padding-top: 3px;
       padding-bottom: 3px;
       max-height: 200px;
       overflow-y: scroll;
       overflow-x: hidden;
       list-style: none;
       z-index: 10000;
       background: white;
       color: #333;
       font-family: sans-serif;
       border-radius: 5px;
       box-shadow: 2px 2px 5px #0004;
       width: fit-content;
       min-width: 50px;
       max-width: 150px;
     }
     #contextMenu li {
       transition: background-color .3s ease;
       display: block;
       min-width: 150px;
       margin: 0;
       padding: 10px;
     }
     #contextMenu li:hover {
       background-color: #ddd;
       cursor: pointer;
     }
     `,document.body.appendChild(e);var t=document.querySelectorAll("[contextmenu]");for(let e=0;e<t.length;e++)window.addEventListener("contextmenu",e=>{a.style.pointerEvents="auto";let t;try{t=document.querySelectorAll(`#${e.target.closest("[contextmenu]").getAttribute("contextmenu")} menuitem`),e.preventDefault()}catch(e){return!0}a.innerHTML="";for(let e=0;e<t.length;e++){const r=t[e],n=document.createElement("li");n.setAttribute("onclick",r.getAttribute("onclick")),n.addEventListener("click",()=>{a.style.opacity=0,a.style.pointerEvents="none"}),n.textContent=r.getAttribute("label"),a.innerHTML+=n.outerHTML}console.log(a.innerHTML),a.style.top=`${e.clientY}px`,a.style.left=`${e.clientX}px`,a.style.opacity=1});var r=0;return setInterval(()=>{3e3<(r+=100)&&(a.style.opacity=0,a.style.pointerEvents="none",r=0)},100),_$.addEventListeners(a,["mousemove","click","scroll"],()=>{r=0}),_$.onOutsideClick(a,()=>{a.style.opacity=0,a.style.pointerEvents="none"}),t},inView=(e=req("HTMLElement","element"))=>{node();for(var t=e.offsetTop,r=e.offsetLeft,n=e.offsetWidth,a=e.offsetHeight;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,r+=e.offsetLeft;return t>=window.pageYOffset&&r>=window.pageXOffset&&t+a<=window.pageYOffset+window.innerHeight&&r+n<=window.pageXOffset+window.innerWidth},inPartialView=(e=req("HTMLElement","element"))=>{node();for(var t=e.offsetTop,r=e.offsetLeft,n=e.offsetWidth,a=e.offsetHeight;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,r+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&r<window.pageXOffset+window.innerWidth&&t+a>window.pageYOffset&&r+n>window.pageXOffset},replaceText=(e=req("HTMLElement","element"),t=req("function","callback"))=>(node(),_$.each(_$.textNodes(e),e=>{e.textContent=t(e.textContent)}),e),textNodes=(e=req("HTMLElement","element"))=>(node(),[...e.childNodes].filter(e=>e.nodeType===Node.TEXT_NODE&&""!==e.nodeValue.trim())),querySelector=(e=req("HTMLElement","element"))=>{node();var u="";return function e(t){if(t.getAttribute("id")&&1===document.querySelectorAll(`#${t.getAttribute("id")}`).length)return u=(u=(u=u.replace(/^/," #"+t.getAttribute("id"))).replace(/\s/,"")).replace(/\s/g," > ");if(document.body===t)return u=(u=(u=u.replace(/^/," body")).replace(/\s/,"")).replace(/\s/g," > ");if(t.getAttribute("class")){var r=".",r=(r=(r+=t.getAttribute("class")).replace(/\s/g,".")).replace(/^/g," "),n="",a=t.parentNode.children;if(a.length<2)return;for(var o=[],i=0;i<a.length;i++)t.getAttribute("class")==a[i].getAttribute("class")&&o.push(a[i]);if(1<o.length)for(var s=0;s<o.length;s++)if(t===o[s]){n=":nth-of-type("+ ++s+")";break}u=u.replace(/^/,r+n)}else{var r=(r=t.nodeName).toLowerCase(),l="";if(2<(a=t.parentNode.children).length){for(var c=[],i=0;i<a.length;i++)t.nodeName==a[i].nodeName&&c.push(a[i]);if(1<c.length)for(s=0;s<c.length;s++)if(t===c[s]){l=":nth-of-type("+ ++s+")";break}}u=u.replace(/^/," "+r+l)}if(!t.parentNode)return u=(u=u.replace(/\s/g," > ")).replace(/\s/,"");e(t.parentNode)}(e),u},removeComments=(e=req("HTMLElement","HTMLElement"))=>{node();var t="string"==typeof e;for(const r of[...(e=t?_$.parseHTML(e):e.cloneNode(!0)).querySelectorAll("*"),e])for(const n of r.childNodes)n instanceof Comment&&r.removeChild(n);return t?e.outerHTML:e},parseHTML=(e=req("string","html string"),t="text/html")=>{node();const r=new DOMParser;return r.parseFromString(e,t)},drag=(e=req("String|Element","drag handle"),r=req("String|Element","drag target"))=>{node();let n=null,a=0,o=0;function t(e){e.preventDefault(),e.stopPropagation(),n=r,n.style.position="absolute";var t=n.getBoundingClientRect();"mousedown"==e.type?(a=e.clientX-t.left,o=e.clientY-t.top,window.addEventListener("mousemove",i,!0)):"touchstart"==e.type&&(a=e.targetTouches[0].clientX-t.left,o=e.targetTouches[0].clientY-t.top,window.addEventListener("touchmove",i,!0))}function i(e){e.preventDefault(),e.stopPropagation(),null==n||("mousemove"==e.type?(n.style.left=e.clientX-a+"px",n.style.top=e.clientY-o+"px"):"touchmove"==e.type&&(n.style.left=e.targetTouches[0].clientX-a+"px",n.style.top=e.targetTouches[0].clientY-o+"px"))}e="string"==typeof e?document.querySelector(e):e,r="string"==typeof r?document.querySelector(r):r,e.addEventListener("mousedown",t,!0),e.addEventListener("touchstart",t,!0),document.onmouseup=function(e){n&&(n=null,window.removeEventListener("mousemove",i,!0),window.removeEventListener("touchmove",i,!0))}},addEventListeners=(e=req("HTMLElement","element"),t=req("array","events"),r=()=>{},n=!1,a=[])=>{if(node(),!(t instanceof Array))throw'addMultipleListeners: please supply an array of eventstrings (like ["click","mouseover"])';function o(e){r.apply(this,a&&a instanceof Array?a:[])}for(var i=0;i<t.length;i+=1)e.addEventListener(t[i],o,n);return e},sortTable=(e=req("HTMLTableElement","table element"),r=void 0)=>{node();function o(e,t){return r?r(e.children[t],e,t):e.children[t].innerText||e.children[t].textContent}function n(n,a){return function(e,t){return r=o(a?e:t,n),e=o(a?t:e,n),""===r||""===e||isNaN(r)||isNaN(e)?r.toString().localeCompare(e):r-e;var r}}return Array.prototype.slice.call(e.querySelectorAll("th")).forEach(function(e){e.addEventListener("click",function(){for(var t=e.parentNode;"TABLE"!=t.tagName.toUpperCase();)t=t.parentNode;Array.prototype.slice.call(t.querySelectorAll("tr:nth-child(n+2)")).sort(n(Array.prototype.slice.call(e.parentNode.children).indexOf(e),this.asc=!this.asc)).forEach(function(e){t.appendChild(e)})})}),e},sortTableBy=(e=req("HTMLTableElement","<th> element"),t=!0)=>{node();function n(e,t){return e.children[t].innerText||e.children[t].textContent}for(var a,o,r=e.parentNode;"TABLE"!=r.tagName.toUpperCase();)r=r.parentNode;return Array.prototype.slice.call(r.querySelectorAll("tr:nth-child(n+2)")).sort((a=Array.prototype.slice.call(e.parentNode.children).indexOf(e),o=t,function(e,t){return r=n(o?e:t,a),e=n(o?t:e,a),""===r||""===e||isNaN(r)||isNaN(e)?r.toString().localeCompare(e):r-e;var r})).forEach(function(e){r.appendChild(e)}),r},addStyles=(e=req("HTMLElement","element"),t=req("Object","styles"))=>(node(),Object.assign(e.style,t)),createElement=(e=req("String","HTML element string"))=>{node();const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild},compStyle=(e=req("HTMLElement","element"),t=req("String","CSS property string"))=>{return node(),window.getComputedStyle(e).getPropertyValue(t)},elementSiblings=(t=req("HTMLElement","element"))=>(node(),[...t.parentElement.children].filter(e=>e!=t)),disableRightClick=(e=req("HTMLElement","element"))=>(node(),e.addEventListener("contextmenu",e=>e.preventDefault()),e),inlineCSS=(e=req("HTMLElement","element"))=>{node();for(var t=getComputedStyle(e,null),r=0;r<t.length;r++){var n=t[r]+"";e.style[n]=t[n]}return t},attributes=(e=req("HTMLElement","element"))=>{node();for(var t,r=[],n=0,a=e.attributes,o=a.length;n<o;n++)t=a[n],r.push({name:t.nodeName,value:t.nodeValue});return r},observeMutations=(e=req("HTMLElement","element"),t=req("function","callback"),r={})=>{node();const n=new MutationObserver(e=>e.forEach(e=>t(e)));return n.observe(e,Object.assign({childList:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},r)),n},tilt=(e=req("HTMLElement","element"),t=req("number","x"),r=req("number","y"),n=500,a=30)=>{node();t=`perspective(${n}px) scale(1.1) rotateX(${-1*a*((r-e.clientHeight/2)/e.clientHeight)}deg) rotateY(${a*((t-e.clientWidth/2)/e.clientWidth)}deg)`;return e.style.transform=t},fullScreen=(e=req("HTMLElement","element"))=>(node(),e.requestFullScreen?e.requestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():new Error("Fullscreen failed")),replaceSelection=(t=req("string","replacement text"))=>{var r,n;if(node(),window.getSelection){if((r=window.getSelection()).rangeCount){(n=r.getRangeAt(0)).deleteContents();let e=document.createElement("span");e.insertAdjacentHTML("beforeend",t),n.insertNode(e)}}else document.selection&&document.selection.createRange&&(console.warn("You are using IE < 9, you are evil. Falling back to text not HTML."),(n=document.selection.createRange()).text=t.replace(/<[^>]*>/g,""));return window.getSelection()},waitUntil=async(n=req("function","condition"),a=1/0)=>new Promise(async(e,t)=>{for(var r=Date.now();!n();){if(Date.now()-r>=a)return void t(n());await new Promise(e=>requestAnimationFrame(e))}return e(n()),n()}),onOutsideClick=(r=req("HTMLElement","element"),n=req("function","callback"))=>(node(),new Promise((t,e)=>{document.addEventListener("click",e=>{r.contains(e.target)||(n(),t())})})),onScrollStop=(r=window,n=req("function","callback"),a=150)=>{let o;return node(),new Promise((t,e)=>{r.addEventListener("scroll",e=>{clearTimeout(o),o=setTimeout(()=>{n(e),t(e)},a)},!1)})},hub=()=>({hub:Object.create(null),emit(e,t){(this.hub[e]||[]).forEach(e=>e(t))},on(e,t){this.hub[e]||(this.hub[e]=[]),this.hub[e].push(t)},off(e,t){var r=(this.hub[e]||[]).findIndex(e=>e===t);-1<r&&this.hub[e].splice(r,1),0===this.hub[e].length&&delete this.hub[e]}}),dispatch=(e=req("object","event properties"),t=req("string","type"),r=window)=>{let n=new Event(t);for(var a in e)n[a]=e[a];return r.dispatchEvent(n),n},juxt=(...e)=>(...t)=>[...e].map(e=>[...t].map(e)),sleep=(t=req("number","milliseconds"))=>new Promise(e=>setTimeout(e,t)),limitArgs=(t=req("function","function"),r=req("number","arguments"))=>(...e)=>t(...e.slice(0,r)),fastestFunction=(e,r=1e3)=>{const t=e.map(t=>{var e=performance.now();for(let e=0;e<r;e++)t();return performance.now()-e});return t.indexOf(Math.min(...t))},spread=(t=req("function"))=>e=>{t.apply(globalThis,e)},memoize=(r=req("function"))=>{let n={};return function(){var e=JSON.stringify(Array.from(arguments)),t=Array.from(arguments);return n[e]||(n[e]=r(...t),n[e])}},composeFunction=(...t)=>e=>(req("functions","function list",![...t].length),t.reduceRight((e,t)=>t(e),e)),curryFunction=(e=req("function"),t=e.length,...r)=>t<=r.length?e(...r):_$.curryFunction.bind(null,e,t,...r),isAsync=(e=req("function"))=>"[object AsyncFunction]"===Object.prototype.toString.call(e),timeFunction=(e=req("function"),t="_$ function timer")=>{var r=performance.now();return console.time(t),e(),console.timeEnd(t),{function:e,time:performance.now()-r}},throttle=(r=req("function"),n=req("number","wait"),a={})=>{var o,i,s,l=null,c=0;a=a||{};function u(){c=!1===a.leading?0:Date.now(),l=null,s=r.apply(o,i),l||(o=i=null)}return function(){var e=Date.now();c||!1!==a.leading||(c=e);var t=n-(e-c);return o=this,i=arguments,t<=0||n<t?(l&&(clearTimeout(l),l=null),c=e,s=r.apply(o,i),l||(o=i=null)):l||!1===a.trailing||(l=setTimeout(u,t)),s}},debounce=(n=req("function"),a=req("number","wait"),o=!1)=>{var i;return function(){var e=this,t=arguments,r=o&&!i;clearTimeout(i),i=setTimeout(function(){i=null,o||n.apply(e,t)},a),r&&n.apply(e,t)}},runAsync=(e=req("function"))=>{const n=new Worker(URL.createObjectURL(new Blob([`postMessage((${e})());`]),{type:"application/javascript; charset=utf-8"}));return new Promise((t,r)=>{n.onmessage=({data:e})=>{t(e),n.terminate()},n.onerror=e=>{r(e),n.terminate()}})},flattenObj=(e=req("object","object"))=>e!==Object(e)||Array.isArray(e)?{}:Object.assign({},...function r(e){return[].concat.apply([],Object.entries(e).map(([e,t])=>t&&"object"==typeof t&&Object.keys(t).some(e=>t.hasOwnProperty(e))&&!Array.isArray(t)?r(t):{[e]:t}))}(e)),clone=(e=req("object","Object to clone"),t,r)=>{var n=Object.create;if("function"!=typeof n&&(n=function(e){function t(){}return t.prototype=e,new t}),null===e||"object"!=typeof e)return e;if("function"==typeof e.clone)return e.clone(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(e.nodeType&&"function"==typeof e.cloneNode)return e.cloneNode(!0);void 0===t&&(t=[],r=[]);var a=t.length;for(i=0;i<a;i++)if(e===t[i])return r[i];if("[object Array]"==Object.prototype.toString.call(e)){var o=e.slice();t.push(e),r.push(o);for(var i=o.length;i--;)o[i]=clone(o[i],t,r);return o}var s,l=n((Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__)||e.constructor.prototype);for(s in t.push(e),r.push(l),e)l[s]=clone(e[s],t,r);return l},listen=(n=req("object"),a=()=>null,o=()=>null)=>new Proxy(n,{set:function(e,t,r){return a(t,r),e[t]=r,e[t]},get:function(e,t,r){return o(t,r),n[t]}}),merge=function e(t=req("object","object 1"),r=req("object","object 2")){for(var n in r)if(!(n in Object.prototype))try{r[n].constructor==Object?t[n]=e(t[n],r[n]):t[n]=r[n]}catch(e){t[n]=r[n]}return t},mapObjectKeys=(n=req("object"),a=req("function","callback"))=>Array.isArray(n)?n.map(e=>_$.mapObjectKeys(e,a)):"object"==typeof n?Object.keys(n).reduce((e,t)=>{var r=a(t),t=n[t];return e[r]=null!==t&&"object"==typeof t?_$.mapObjectKeys(t,a):t,e},{}):n,mapObjectValues=(r=req("object","object"),n=req("function","callback"))=>(Object.keys(r).map(function(e,t){r[e]=n(r[e],t)}),r),formToObject=(e=req("HTMLFormElement","the form"))=>(node(),Array.from(new FormData(e)).reduce((e,[t,r])=>({...e,[t]:r}))),sortObj=(r=req("object","object"))=>Object.keys(r).sort().reduce(function(e,t){return e[t]=r[t],e},{}),gcd=(...e)=>{return e[0]instanceof Array?n(e[0]):n([...e]);function n(e){var t,r=Math.min(...e);if(r==Math.max(...e))return r;for(t in e)e[t]>r&&(e[t]=e[t]-r);return n(e)}},round=(e=req("number"),t=1)=>Math.round(e/t)*t,equals=(t=req("any","a"),r=req("any","b"))=>{if(t===r)return!0;if("RegExp"===_$.typeOf(t)&&"RegExp"===_$.typeOf(r))return String(t)===String(r);if(t instanceof Date&&r instanceof Date)return t.getTime()===r.getTime();if(!t||!r||"object"!=typeof t&&"object"!=typeof r)return t===r;if(t.prototype!==r.prototype)return!1;let e=Object.keys(t);return e.length===Object.keys(r).length&&e.every(e=>equals(t[e],r[e]))},isPrime=(t=req("number","number"))=>{var r=Math.floor(Math.sqrt(t));for(let e=2;e<=r;e++)if(t%e==0)return!1;return 2<=t},factorial=(e=req("number"))=>e<0?(()=>{throw new TypeError("Negative numbers are not allowed!")})():e<=1?1:e*factorial(e-1),luhnCheck=(e=req("String|Number"))=>{let t=(e+"").split("").reverse().map(e=>parseInt(e));var r=t.splice(0,1)[0],e=t.reduce((e,t,r)=>r%2!=0?e+t:e+2*t%9||9,0);return(e+=r)%10==0},animate=(e=req("Number","start"),t=req("Number","end"),r=req("number","duration"),n=req("function","callback"),a=20,o=e=>e)=>{var i,s=Date.now();let l=setInterval(()=>{i=o((Date.now()-s)/r)*(t-e)+e,n(i,o((Date.now()-s)/r))},a);return setTimeout(()=>{clearInterval(l),n(t,1)},r),l},range=(r=req("number","start"),e=0)=>(e<r&&([r,e]=[e,r]),Array(e-r+1).fill().map((e,t)=>r+t)),uuid=(r=Math.random())=>{function e(e){var t=(r.toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return"string"==typeof r&&(r=_temp.hashString(r)/1e16),e()+e(!0)+e(!0)+e()},primesTo=(e=req("number","number"))=>{let r=Array.from({length:e-1}).map((e,t)=>t+2),t=Math.floor(Math.sqrt(e)),n=Array.from({length:t-1}).map((e,t)=>t+2);return n.forEach(t=>r=r.filter(e=>e%t!=0||e===t)),r},random=(e=req("number","max"),t=req("number","min"),r=!0,n=Math.random())=>{let a=n*(e-t+1)+t;return r&&(a=Math.floor(a)),a},seedRandom=(e=req("number","seed"))=>{e=e+=1831565813,e=Math.imul(e^e>>>15,1|e);return(((e^=e+Math.imul(e^e>>>7,61|e))^e>>>14)>>>0)/4294967296},formatNumber=(e=req("number","number"))=>e.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),ease={linear:(e=req("number","percentage"))=>e,easeInSine:(e=req("number","percentage"))=>1-Math.cos(e*Math.PI/2),easeOutSine:(e=req("number","percentage"))=>Math.sin(e*Math.PI/2),easeInOutSine:(e=req("number","percentage"))=>-(Math.cos(Math.PI*e)-1)/2,easeInQuad:(e=req("number","percentage"))=>e*e,easeOutQuad:(e=req("number","percentage"))=>e*(2-e),easeInOutQuad:(e=req("number","percentage"))=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:(e=req("number","percentage"))=>e*e*e,easeOutCubic:(e=req("number","percentage"))=>--e*e*e+1,easeInOutCubic:(e=req("number","percentage"))=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:(e=req("number","percentage"))=>e*e*e*e,easeOutQuart:(e=req("number","percentage"))=>1- --e*e*e*e,easeInOutQuart:(e=req("number","percentage"))=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:(e=req("number","percentage"))=>e*e*e*e*e,easeOutQuint:(e=req("number","percentage"))=>1+--e*e*e*e*e,easeInOutQuint:(e=req("number","percentage"))=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e,easeInExpo:(e=req("number","percentage"))=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:(e=req("number","percentage"))=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:(e=req("number","percentage"))=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:(e=req("number","percentage"))=>1-Math.sqrt(1-e*e),easeOutCirc:(e=req("number","percentage"))=>Math.sqrt(1-(e-1)*(e-1)),easeInOutCirc:(e=req("number","percentage"))=>e<.5?1-Math.sqrt(1-4*e*e)/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:(e=req("number","percentage"))=>2.70158*e*e*e-1.70158*e*e,easeOutBack:(e=req("number","percentage"))=>1+2.70158*Math.pow(e-1,3)+c1*Math.pow(e-1,2),easeInOutBack:e=>{var t=2.5949095;return e<.5?4*e*e*(7.189819*e-t)/2:(Math.pow(2*e-2,2)*((1+t)*(2*e-2)+t)+2)/2},easeInElastic:(e=req("number","percentage"))=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*(2*Math.PI)/3),easeOutElastic:(e=req("number","percentage"))=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*(2*Math.PI)/3)+1,easeInOutElastic:(e=req("number","percentage"))=>0===e?0:1===e?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*(2*Math.PI)/4.5))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*(2*Math.PI)/4.5)/2+1,easeInBounce:(e=req("number","percentage"))=>1-ease.easeOutBounce(1-e),easeOutBounce:(e=req("number","percentage"))=>{var t=7.5625,r=2.75;return e<1/r?t*e*e:e<2/r?t*(e-=1.5/r)*e+.75:e<2.5/r?t*(e-=2.25/r)*e+.9375:t*(e-=2.625/r)*e+.984375},easeInOutBounce:(e=req("number","percentage"))=>e<.5?(1-ease.easeOutBounce(1-2*e))/2:(1+ease.easeOutBounce(2*e-1))/2},jaroDistance=function(e,t){if(!e||!t)return 0;e=e.trim().toUpperCase(),t=t.trim().toUpperCase();for(var r=e.length,n=t.length,a=[],o=[],i=Math.floor(Math.max(r,n)/2)-1,s=Math.min(r,n),l=0,c=n-1,u=0;u<r;u++)for(var d=u+i<=c?u+i:c,m=i<=u?u-i:0;m<=d;m++)if(1!==o[m]&&e[m]===t[u]){a[m]=1,o[u]=1,l++;break}if(0===l)return 0;for(var p=0,g=0,u=0;u<r;u++)if(1===a[u]){for(m=p;m<n;m++)if(1===o[m]){p=m+1;break}e[u]!==t[m]&&g++}var g=Math.floor(g/2),f=0,h={A:"U",B:"V",E:" ",I:"J",O:"U",C:"K",W:"V",X:"S",S:" ",Q:"O",U:"V",M:"N",L:"I",P:"R",2:"Z",5:"S",8:"B",1:"L",0:"Q",G:"J",Y:" "};if(l<s)for(u=0;u<r;u++)if(!a[u])for(m=0;m<n;m++)if(!o[m]&&h[e[u]]===t[m]){f+=3,o[m]=2;break}var y=f/10+l,y=y/r+y/n+(l-g)/l;if(.7<(y/=3)){m=4<=s?4:s;for(u=0;u<m&&e[u]===t[u];u++);u&&(y+=.1*u*(1-y)),4<s&&u+1<l&&s+u<=2*l&&(y+=(l-u-1)/(r*n-2*u+2)*(1-y))}return y},prefixCSS=(t=req("string","property"))=>{node();const r=t.charAt(0).toUpperCase()+t.slice(1),e=["","webkit","moz","ms","o"];var n=e.findIndex(e=>void 0!==document.body.style[e?e+r:t]);return-1!==n?0===n?t:e[n]+r:null},parseCookie=(e=req("string","cookie string"))=>e.split(";").map(e=>e.split("=")).reduce((e,t)=>(e[decodeURIComponent(t[0].trim())]=decodeURIComponent(t[1].trim()),e),{}),hash=(e=req("string","input string"))=>(node(),crypto.subtle.digest("SHA-256",new TextEncoder("utf-8").encode(e)).then(e=>{let t=[],r=new DataView(e);for(let e=0;e<r.byteLength;e+=4)t.push(("00000000"+r.getUint32(e).toString(16)).slice(-8));return t.join("")})),forTemplateLiteral=(e=req("array","array"),t=req("function","callback"))=>e.map(t).join``,mapString=(e=req("string","string"),t=req("function","callback"))=>Array.prototype.map.call(e,t).join(""),deburr=(e=req("string","string"))=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,""),removeTags=(e=req("string","html string"))=>e.replace(/<[^>]*>/g,""),speak=(e=req("string","text"),t="en",r=1,n=1,a=1,o=1)=>{var i=new SpeechSynthesisUtterance,s=window.speechSynthesis.getVoices(),l=s.filter(e=>e.default);return i.voice=n?"number"==typeof n?s[n]:n:l,i.volume=r,i.rate=o,i.pitch=a,i.text=e,i.lang=t,window.speechSynthesis.speak(i),i},widows=(e=req("string","text"))=>{for(var t=e.split(" "),r="",n=0;n<=t.length-1;n++)r+=t[n],n==t.length-2?r+="&nbsp;":r+=" ";return r},unCamelCase=function(e=req("string","string")){return e.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\b([A-Z]+)([A-Z])([a-z])/,"$1 $2$3").replace(/^./,function(e){return e.toUpperCase()})},camelCase=(e=req("string","string"))=>e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()}).replace(/\s+/g,""),scrambleString=(e=req("string"))=>{for(var t=e.split(""),r=t.length-1;0<r;r--){var n=Math.floor(Math.random()*(r+1)),a=t[r];t[r]=t[n],t[n]=a}return t.join("")},hashString=(r=req("string"),e=0)=>{let n=3735928559^e,a=1103547991^e;for(let e=0,t;e<r.length;e++)t=r.charCodeAt(e),n=Math.imul(n^t,2654435761),a=Math.imul(a^t,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(a^a>>>13,3266489909),a=Math.imul(a^a>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),4294967296*(2097151&a)+(n>>>0)},editDistance=(e=req("string","string 1"),t=req("string","string 2"))=>{if(0==e.length)return t.length;if(0==t.length)return e.length;for(var r,n=[],a=0;a<=t.length;a++)n[a]=[a];for(r=0;r<=e.length;r++)n[0][r]=r;for(a=1;a<=t.length;a++)for(r=1;r<=e.length;r++)t.charAt(a-1)==e.charAt(r-1)?n[a][r]=n[a-1][r-1]:n[a][r]=Math.min(n[a-1][r-1]+1,Math.min(n[a][r-1]+1,n[a-1][r]+1));return n[t.length][e.length]},byteSize=(e=req("string","string"))=>new Blob([e]).size,replaceMultiple=(e=req("string","text"),t=req("object","replace key pairs"))=>{var r=new RegExp(Object.keys(t).join("|"),"gi");return e=e.replace(r,function(e){return t[e]})},urlQuery=(e=req("string","query"),t=window.location.href)=>{e=e.replace(/[\[\]]/g,"\\$&");t=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(t);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null},sanitize=(e=req("string","input html"),t=void 0,n=void 0)=>{node();t=t||["I","P","B","BODY","HTML","DEL","INS","STRONG","SMALL","A","IMG","CITE","FIGCAPTION","ASIDE","ARTICLE","SUMMARY","DETAILS","NAV","TD","TH","TABLE","THEAD","TBODY","NAV","SPAN","BR","CODE","PRE","BLOCKQUOTE","EM","HR","H1","H2","H3","H4","H5","H6","DIV","MAIN","HEADER","FOOTER","SELECT","COL","AREA","ADDRESS","ABBR","BDI","BDO"];n=(n=n||[{attribute:"src",tags:"*",regex:/^(?:https|http|\/\/):/},{attribute:"href",tags:"*",regex:/^(?:https|http|\/\/):/},{attribute:"width",tags:"*",regex:/^[0-9]+$/},{attribute:"height",tags:"*",regex:/^[0-9]+$/},{attribute:"id",tags:"*",regex:/^[a-zA-Z]+$/},{attribute:"class",tags:"*",regex:/^[a-zA-Z ]+$/},{attribute:"value",tags:["INPUT","TEXTAREA"],regex:/^.+$/},{attribute:"checked",tags:["INPUT"],regex:/^(?:true|false)+$/},{attribute:"placeholder",tags:["INPUT","TEXTAREA"],regex:/^.+$/},{attribute:"alt",tags:["IMG","AREA","INPUT"],regex:/^[0-9a-zA-Z]+$/},{attribute:"autofocus",tags:["INPUT"],regex:/^(?:true|false)+$/},{attribute:"for",tags:["LABEL","OUTPUT"],regex:/^[a-zA-Z0-9]+$/}]).map(e=>{if("string"==typeof e)return{attribute:e,tags:"*",regex:/^.+$/};let t=e;return e.hasOwnProperty("tags")||(t.tags="*"),e.hasOwnProperty("regex")||(t.regex=/^.+$/),t});var e=(new DOMParser).parseFromString(e,"text/html"),r=e.querySelectorAll("*");for(let e=0;e<r.length;e++){const i=r[e];var a=function(e){for(var t=0,r=e.attributes,n=r.length,a=[];t<n;t++)a.push(r[t].nodeName);return a}(i);for(let e=0;e<a.length;e++){var o=a[e];!function(t,r){var e=n.filter(e=>{return e.attribute===r&&("*"===e.tags||e.tags.includes(t.tagName))&&e.regex.test(t.getAttribute(r))});return 0<e.length}(i,o)&&i.removeAttribute(a[e])}t.includes(i.tagName)||i.remove()}return e.documentElement.innerHTML},markdownToHTML=(r=req("string","input"))=>{var t=/\\([\\\|`*_{}\[\]()#+\-~])/g,n=/\n *&gt; *([^]*?)(?=(\n|$){2})/g,a=/\n( *)(?:[*\-+]|((\d+)|([a-z])|[A-Z])[.)]) +([^]*?)(?=(\n|$){2})/g,o=/(^|[^A-Za-z\d\\])(([*_])|(~)|(\^)|(--)|(\+\+)|`)(\2?)([^<]*?)\2\8(?!\2)(?=\W|_|$)/g,i=/^.*\n( *\|( *\:?-+\:?-+\:? *\|)* *\n|)/,s=/.*\n/g,l=/\||(.*?[^\\])\|/g;function e(e,t){r=r.replace(e,t)}function u(e,t){return"<"+e+">"+t+"</"+e+">"}function d(e){return e.replace(o,function(e,t,r,n,a,o,i,s,l,c){return t+u(n?l?"strong":"em":a?l?"s":"sub":o?"sup":i?"small":s?"big":"code",d(c))})}function c(e){return e.replace(t,"$1")}var m=[],p=0;return r="\n"+r+"\n",e(/</g,"&lt;"),e(/>/g,"&gt;"),e(/\t|\r|\uf8ff/g,"  "),r=function r(e){return e.replace(n,function(e,t){return u("blockquote",r(d(t.replace(/^ *&gt; */gm,""))))})}(r),e(/^([*\-=_] *){3,}$/gm,"<hr/>"),r=function i(e){return e.replace(a,function(e,t,r,n,a,o){return t=u("li",d(o.split(RegExp("\n ?"+t+"(?:(?:\\d+|[a-zA-Z])[.)]|[*\\-+]) +","g")).map(i).join("</li><li>"))),"\n"+(r?'<ol start="'+(n?r+'">':parseInt(r,36)-9+'" style="list-style-type:'+(a?"low":"upp")+'er-alpha">')+t+"</ol>":u("ul",t))})}(r),e(/<\/(ol|ul)>\n\n<\1>/g,""),e(/\n((```|~~~).*\n?([^]*?)\n?\2|(( {4}.*?\n)+))/g,function(e,t,r,n,a){return m[--p]=u("pre",u("code",n||a.replace(/^ {4}/gm,""))),p+""}),e(/((!?)\[(.*?)\]\((.*?)( ".*")?\)|\\([\\`*_{}\[\]()#+\-.!~]))/g,function(e,t,r,n,a,o,i){return m[--p]=i||(r?a?'<img src="'+_$.escapeHTML(a)+'" alt="'+_$.escapeHTML(n)+'"/>':t:/^https?:\/\//g.test(a)?'<a href="'+_$.escapeHTML(a)+'">'+c(d(n))+"</a>":t),p+""}),e(/\n(( *\|.*?\| *\n)+)/g,function(e,t){var a=t.match(i)[1];return"\n"+u("table",t.replace(s,function(e,n){return e==a?"":u("tr",e.replace(l,function(e,t,r){return r?u(a&&!n?"th":"td",c(d(t||""))):""}))}))}),e(/(?=^|>|\n)([>\s]*?)(#{1,6}) (.*?)( #*)? *(?=\n|$)/g,function(e,t,r,n){return t+u("h"+r.length,c(d(n)))}),e(/(?=^|>|\n)\s*\n+([^<]+?)\n+\s*(?=\n|<|$)/g,function(e,t){return u("p",c(d(t)))}),e(/-\d+\uf8ff/g,function(e){return m[parseInt(e)]}),r.trim()},syllables=(e=req("string","word"))=>{var t=0;3<(e=e.toLowerCase()).length&&"some"==e.substring(0,4)&&(e=e.replace("some",""),t++);e=(e=(e=e.replace(/(?:[^laeiouy]|ed|[^laeiouy]e)$/,"")).replace(/^y/,"")).match(/[aeiouy]{1,2}/g);if(console.log(e),e)return e.length+t},titleCase=(e=req("string","string"))=>e.toLowerCase().split(" ").map((e,t)=>["at","by","for","in","of","off","on","out","to","up","as","if","but","per","via","for","and","nor","but","or","yet","so","the","a","an"].includes(e)&&0!=t?e:String.fromCodePoint(e.codePointAt(0)).toUpperCase()+e.slice(65535<e.codePointAt(0)?2:1)).join(" "),capitalize=(e=req("string","string"))=>String.fromCodePoint(e.codePointAt(0)).toUpperCase()+e.slice(65535<e.codePointAt(0)?2:1),replaceBetween=(e=req("string","string"),t=req("number","start"),r=req("number","end"),n=req("string","replace with"))=>e.substring(0,t)+n+e.substring(r),escapeHTML=(e=req("string"))=>e.replace(/[&<>'"]/g,e=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"})[e]||e),unescapeHTML=(e=req("string"))=>e.replace(/&amp;|&lt;|&gt;|&#39;|&quot;/g,e=>({"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&quot;":'"'})[e]||e),previousPage=()=>(node(),document.referrer||window.location.href),createStream=(...e)=>{Array.isArray(arguments[0])&&(e=arguments[0]);let t=new MediaStream;return e.forEach(e=>t.addTrack(e)),t},manipulate=async(i=req("MediaStreamTrack","video media stream track"),s)=>{let l=document.createElement("canvas"),c=!0;const u=l.getContext("2d");let d=document.createElement("video");d.setAttribute("autoplay",!0),d.setAttribute("muted",!0),d.srcObject=createStream(i),i.addEventListener("ended",()=>{c=!1}),await new Promise(e=>d.addEventListener("play",e)),requestAnimationFrame(function e(){var{width:t,height:r}=i.getSettings();Object.assign(l,{width:t,height:r}),u.drawImage(d,0,0,l.width,l.height);var r=u.getImageData(0,0,l.width,l.height),n=r.data.length;let a=r.data;for(let e=0;e<n;e+=4){var o=s({red:a[e],green:a[e+1],blue:a[e+2],alpha:a[e+3]});a[e]=o.red,a[e+1]=o.green,a[e+2]=o.blue,a[e+3]=o.alpha}u.clearRect(0,0,l.width,l.height),u.putImageData(r,0,0),c&&requestAnimationFrame(e)});let e=l.captureStream(30).getVideoTracks()[0];return e.addEventListener("ended",()=>{c=!1}),e},preload={init:()=>{window.load=load,window.show=show,[...document.querySelectorAll("a")].forEach(t=>{t.addEventListener("click",e=>{e.preventDefault(),show(t.href)}),t.addEventListener("mouseenter",e=>{load(t.href)})})},load:function(r){return new Promise(e=>{var t;!function(e){try{return e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname===window.location.hostname:!0}catch(e){return!1}}(r)||document.getElementById(n(r))||((t=document.createElement("iframe")).src=r,document.documentElement.appendChild(t),t.id=n(r),t.classList.add("preload"),t.onload=e,_$.addStyles(t,{background:"transparent",width:"100vw",height:"100vh",padding:"0",margin:"0",display:"none",border:"none"}))});function n(e){return`preload_${function(r,e=0){let n=3735928559^e,a=1103547991^e;for(let e=0,t;e<r.length;e++)t=r.charCodeAt(e),n=Math.imul(n^t,2654435761),a=Math.imul(a^t,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(a^a>>>13,3266489909),a=Math.imul(a^a>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),4294967296*(2097151&a)+(n>>>0)}(e).toString(16)}`}},show:async function(t){if(function(e){try{return e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname===window.location.hostname:!0}catch(e){return!1}}(t)){document.getElementById(n(t))||await _$.preload.load(t),history.pushState({},t,t),document.body&&document.body.remove();let r=document.getElementById(n(t));r.style.display="block";let e=r.contentDocument;function n(e){return`preload_${function(r,e=0){let n=3735928559^e,a=1103547991^e;for(let e=0,t;e<r.length;e++)t=r.charCodeAt(e),n=Math.imul(n^t,2654435761),a=Math.imul(a^t,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(a^a>>>13,3266489909),a=Math.imul(a^a>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),4294967296*(2097151&a)+(n>>>0)}(e).toString(16)}`}Array.from(e.querySelectorAll("a")).forEach(t=>{t.addEventListener("click",e=>{e.preventDefault(),_$.preload.show.call(window.parent,t.href),r.remove()}),t.addEventListener("mouseenter",e=>{_$.preload.load.call(window.parent,t.href)})})}else window.location.href=t}},tag=(a=e=>e,o=e=>e)=>(t,...r)=>{let n=[];r.push("");for(let e=0;e<t.length;e++)n.push(o(t[e]),a(r[e]));return n.join("")},resize=async(e=req("string","html"),t,r)=>{node(),e=e.replace(/^(?:http|https)\:\/\//,"");let n=new Image;n.src=await _$.imageToData("https://cors.explosionscratc.repl.co/"+e),await new Promise(e=>n.onload=e);let a=document.createElement("canvas"),o=a.getContext("2d");return a.width=t||n.width,a.height=r||n.height,o.drawImage(n,0,0,a.width,a.height),a.toDataURL(0,0,a.width,a.height)},htmlToImage=(a=req("string","html string"),{x:o=0,y:i=0,width:s=300,height:l=400}={})=>{node();let c=document.createElement("canvas");c.width=s,c.height=l;var u=c.getContext("2d");return new Promise(e=>{var t,r=(r=(r=a,(t=document.implementation.createHTMLDocument("")).write(r),t.documentElement.setAttribute("xmlns",t.documentElement.namespaceURI),r=(new XMLSerializer).serializeToString(t.body))).replace(/\#/g,"%23"),r=`data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="${s}" height="${l}"><foreignObject width="100%" height="100%">${r}</foreignObject></svg>`,n=new Image;n.onload=function(){u.drawImage(n,o,i,s,l),e(c.toDataURL())},n.src=r})},callbackify=(r=req("function","function"))=>(e,...t)=>r(...t).then(e).catch(errCallback),promisify=(n=req("function"),a=0)=>(...r)=>new Promise((e,t)=>{try{r.splice(a,0,e),n(...r)}catch(e){t(e)}}),race=(e=req("function"),r=req("number","timeout"),n=void 0)=>Promise.race(["function"==typeof e?e():e,new Promise((e,t)=>setTimeout(()=>n||t(new Error("Promise timed out (Bijou.js _$.race function)")),r))]),typeOf=(e=req("any","any"),t=!0)=>t?Object.prototype.toString.call(e).split(" ")[1].replace(/]$/,"").toLowerCase():Object.prototype.toString.call(e).split(" ")[1].replace(/]$/,""),injectCSS=(e=req("string","css"))=>{node();let t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerText=e,document.head.appendChild(t),t},mobileOrDesktop=()=>(node(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"mobile":"desktop"),playSection=(e=req("HTMLMediaElement","audio"),t=req("number","start"),r=req("number","stop"))=>{let n=e.cloneNode(!0);return n.currentTime=t,n.play(),n.int=setInterval(function(){n.currentTime>r&&(n.pause(),clearInterval(n.int))},10),n},formatHTML=(e=req("string","html"))=>{var t="",r="";return e.split(/>\s*</).forEach(function(e){e.match(/^\/\w/)&&(r=r.substring("\t".length)),t+=r+"<"+e+">\r\n",e.match(/^<?\w[^>]*[^\/]$/)&&!e.startsWith("input")&&(r+="\t")}),t.substring(1,t.length-3)},getJSON=(e=req("string","url"),n=()=>{})=>(node(),new Promise((t,r)=>{fetch(e).then(e=>e.json()).then(e=>{n(e),t(e)}).catch(e=>{throw r(e),new Error(e.stack)})})),getHTML=(e=req("string","url"),n=()=>{})=>(node(),new Promise((t,r)=>{fetch(e).then(e=>e.text()).then(e=>{n(_$.parseHTML(e)),t(_$.parseHTML(e))}).catch(e=>{throw r(e.stack),new Error(e.stack)})})),preloadImage=(...e)=>{req("string","url arguments",![...e].length);let t=[];for(var r=0;r<e.length;r++)t[r]=new Image,t[r].src=e[r];return t},saveBlob=(e=req("blob","blob"),t="output.txt")=>{node();var r=document.createElement("a");document.body.appendChild(r),r.style="display: none";var n=window.URL.createObjectURL(e);return r.href=n,r.download=t,r.click(),window.URL.revokeObjectURL(n),e},requestInterval=function(r=req("function","function"),n=req("number","delay")){node();var a=window.requestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},o=(new Date).getTime(),i={};return i.value=a(function e(){i.value=a(e);var t=(new Date).getTime();n<=t-o&&(r.call(),o=(new Date).getTime())}),i},loadScript=(a=req("string","url"),o=()=>{},i={},e=!1)=>{if(node(),!e||!document.querySelector(`script[src="${a}"]`))return new Promise((e,t)=>{var r=document.createElement("script");r.type="text/javascript";var n=Object.keys(i);_$.each(n,e=>{r.setAttribute(e,i[e])}),r.readyState?r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,o(),e())}:r.onload=function(){o(),e()},r.src=a,document.getElementsByTagName("head")[0].appendChild(r)})},imageToData=async(a=req("string","url"),o=()=>{})=>(node(),new Promise(async(e,t)=>{let r=await fetch(a).then(e=>e.blob());var n=await new Promise(e=>{let t=new FileReader;t.onload=()=>e(t.result),t.readAsDataURL(r)});o(n),e(n)})),cookies={setItem:(e=req("string","name"),t=req("string","value"),r=1e3)=>{node();var n,a="";r&&((n=new Date).setTime(n.getTime()+24*r*60*60*1e3),a="; expires="+n.toUTCString()),document.cookie=e+"="+(t||"")+a+"; path=/"},getItem:(e=req("string","name"))=>{node();for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var a=r[n];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return null},removeItem:(e=req("string","name"))=>(node(),document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie)},regex={phone:/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/,name:/^(?:[a-zA-Z]{2,}\s[a-zA-Z]{1,}'?-?[a-zA-Z]{2,}\s?(?:[a-zA-Z]{1,})?)/,email:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/,link:/(([\w]+:)?\/\/)?(([\d\w]|%[a-fA-f\d]{2,2})+(:([\d\w]|%[a-fA-f\d]{2,2})+)?@)?([\d\w][-\d\w]{0,253}[\d\w]\.)+[\w]{2,63}(:[\d]+)?(\/([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)*(\?(&?([-+_~.\d\w]|%[a-fA-f\d]{2,2})=?)*)?(#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?/,strongPassword:/(?=(.*[0-9]))(?=.*[\!@#$%^&*()\\[\]{}\-_+=~`|:;"'<>,./?])(?=.*[a-z])(?=(.*[A-Z]))(?=(.*)).{8,}/,moderatePassword:/(?=(.*[0-9]))((?=.*[A-Za-z0-9])(?=.*[A-Z])(?=.*[a-z]))^.{8,}$/,ipv4:/^ (([0 - 9] | [1 - 9][0 - 9] | 1[0 - 9]{ 2}| 2[0 - 4][0 - 9] | 25[0 - 5]) \.) { 3 } ([0 - 9] | [1 - 9][0 - 9] | 1[0 - 9]{ 2 }| 2[0 - 4][0 - 9] | 25[0 - 5]) $ /,ipv6:/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/,ip:/ ((^\s*((([0 - 9] | [1 - 9][0 - 9] | 1[0 - 9]{ 2} | 2[0 - 4][0 - 9] | 25[0 - 5]) \.) { 3}([0 - 9] | [1 - 9][0 - 9] | 1[0 - 9]{ 2 }| 2[0 - 4][0 - 9] | 25[0 - 5])) \s * $)| (^\s * ((([0 - 9A - Fa - f]{ 1, 4 }:) { 7 } ([0 - 9A - Fa - f]{ 1, 4 }|:))| (([0 - 9A - Fa - f]{ 1, 4 }:) { 6 } (: [0 - 9A - Fa - f]{ 1, 4 }| ((25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d) (\.(25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d)) { 3 })|:))| (([0 - 9A - Fa - f]{ 1, 4 }:) { 5 } (((: [0 - 9A - Fa - f]{ 1, 4 }) { 1, 2 })|: ((25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d) (\.(25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d)) { 3 })|:))| (([0 - 9A - Fa - f]{ 1, 4 }:) { 4 } (((: [0 - 9A - Fa - f]{ 1, 4 }) { 1, 3 })| ((: [0 - 9A - Fa - f]{ 1, 4 })?: ((25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d) (\.(25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d)) { 3 }))|:))| (([0 - 9A - Fa - f]{ 1, 4 }:) { 3 } (((: [0 - 9A - Fa - f]{ 1, 4 }) { 1, 4 })| ((: [0 - 9A - Fa - f]{ 1, 4 }) { 0, 2 }: ((25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d) (\.(25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d)) { 3 }))|:))| (([0 - 9A - Fa - f]{ 1, 4 }:) { 2 } (((: [0 - 9A - Fa - f]{ 1, 4 }) { 1, 5 })| ((: [0 - 9A - Fa - f]{ 1, 4 }) { 0, 3 }: ((25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d) (\.(25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d)) { 3 }))|:))| (([0 - 9A - Fa - f]{ 1, 4 }:) { 1 } (((: [0 - 9A - Fa - f]{ 1, 4 }) { 1, 6 })| ((: [0 - 9A - Fa - f]{ 1, 4 }) { 0, 4 }: ((25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d) (\.(25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d)) { 3 }))|:))| (: (((: [0 - 9A - Fa - f]{ 1, 4 }) { 1, 7 })| ((: [0 - 9A - Fa - f]{ 1, 4 }) { 0, 5 }: ((25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d) (\.(25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d)) { 3 }))|:))) (%.+) ?\s * $)) /,socialSecurity:/^((?!219-09-9999|078-05-1120)(?!666|000|9\d{2})\d{3}-(?!00)\d{2}-(?!0{4})\d{4})|((?!219 09 9999|078 05 1120)(?!666|000|9\d{2})\d{3} (?!00)\d{2} (?!0{4})\d{4})|((?!219099999|078051120)(?!666|000|9\d{2})\d{3}(?!00)\d{2}(?!0{4})\d{4})$/,hex:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,zipCode:/(^\d{5}(-\d{4})?$)|(^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1} *\d{1}[A-Z]{1}\d{1}$)/,simplePhone:/^\+?[\d\s]{3,}$/,visaCredit:/^4[0–9]{12}(?:[0–9]{3})?$/,expressCredit:/^3[47][0–9]{13}$/,mastercardCredit:/^(?:5[1–5][0–9]{2}|222[1–9]|22[3–9][0–9]|2[3–6][0–9]{2}|27[01][0–9]|2720)[0–9]{12}$/,discoverCredit:/^6(?:011|5[0–9]{2})[0–9]{12}$/},jsonToCsv=(e=req("array","array"),t=req("number","columns"),n=",")=>[t.join(n),...e.map(r=>t.reduce((e,t)=>`${e}${e.length?n:""}"${r[t]||""}"`,""))].join("\n"),arrayToCSV=(e=req("array","array"),t=",")=>e.map(e=>e.map(e=>isNaN(e)?`"${e.replace(/"/g,'""')}"`:e).join(t)).join("\n"),notify=async(t=req("string","text"),r=req("string","body"),n=void 0)=>{if(node(),!window.Notification)throw new Error("browser does not support notifications.");"granted"===Notification.permission?new Notification(t,{body:r,icon:n}):Notification.requestPermission().then(function(e){if("granted"!==e)throw new Error("User blocked notifications");new Notification(t,{body:r,icon:n})}).catch(function(e){throw e})},copy=(e=req("string","string"))=>{node();const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);var r=0<document.getSelection().rangeCount&&document.getSelection().getRangeAt(0);return t.select(),document.execCommand("copy"),document.body.removeChild(t),r&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(r)),e},browser=()=>{node();var e=!!window.opr&&!!opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),t="undefined"!=typeof InstallTrigger,r=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&window.safari.pushNotification).toString(),n=!!document.documentMode,a=!n&&!!window.StyleMedia,o=!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime),i=o&&-1!=navigator.userAgent.indexOf("Edg"),s=(o||e)&&!!window.CSS;return e?"Opera":t?"Firefox":r?"Safari":a?"Edge":n?"Internet Explorer":o?"Chrome":i?"Edge Chromium":s?"Blink":void 0},serializeForm=(e=req("HTMLFormElement","form"))=>(node(),Array.from(new FormData(e),e=>e.map(encodeURIComponent).join("=")).join("&")),request=({url:l=req("URL to fetch","options.url"),body:c,as:u="response",method:d="GET",options:m={},authorization:p={},headers:g={},type:f="json",corsDomain:h="https://cors.explosionscratc.repl.co/",detectCors:y=({response:e,error:t})=>t||!e.ok,makeCorsUrl:b=(e,t)=>`${t}${e.split("//")[1]}`,timeout:w=null})=>(node(),new Promise(async(e,t)=>{let r=new AbortController,n={method:d.trim().toUpperCase(),signal:r.signal,headers:{...g},...m};if(p&&p.type){if(p.type=`${p.type[0].toUpperCase()}${p.type.slice(1).toLowerCase()}`,!["Basic","Bearer","Other"].includes(p.type))return o({type:"auth_type_not_supported",message:`The authorization type ${p.type} is not supported.`,supportedTypes:["Basic","Bearer","Other"]});if("Basic"===p.type){if(!(p.username&&p.password||p.data))return o({type:"missing_param",message:"Basic authorization requires a username and password, or a data field.",examples:[{type:"basic",username:"johndoe",password:"password123"},{type:"basic",data:"am9obmRvZTpwYXNzd29yZDEyMw=="}]});n.headers.Authorization=`Basic ${atob(`${p.username}:${p.password}`)}`}else if("Bearer"===p.type){if(!p.token)return o({type:"no_token",message:"No token for Bearer auth given",examples:[{type:"bearer",token:"supersecretapitoken123"}]});n.headers.Authorization=`Bearer ${p.token}`}else if("Other"===p.type){if(!p.data)return o({type:"missing_param",message:"Missing options.authorization.data for auth type 'Other'",examples:[{type:"other",data:"Digest 12409f873e141466c741ab81bf3f1ca6a69f4421d06af0ebb7106721c65a4aa4"}]});n.headers.Authorization=p.data}}if(d=d.trim().toUpperCase(),!["GET","HEAD","POST","PUT","DELETE","CONNECT","OPTIONS","TRACE","PATCH"].includes(d))return o({type:"invalid_method",message:`The method ${d} isn't supported.`,supportedMethods:["GET","HEAD","POST","PUT","DELETE","CONNECT","OPTIONS","TRACE","PATCH"]});if("GET"!==d){if(f=f.toLowerCase().trim(),!["json","urlencoded","text","formdata"].includes(f))return o({type:"body_type_not_supported",message:`The type ${f} isn't supported`,supportedTypes:["json","urlencoded","text","formdata"],examples:[{type:"json",body:{cool:"object"}},{type:"text",body:"Random text"}]});if(!c)return req("Object|String|FormData","options.body"),o({type:"no_body",message:"Request body not provided, use options.body to provide it",examples:[{type:"json",body:{key1:"Object key #1",key2:"Object key #2"}}]});if("json"===f)n.headers["Content-Type"]="application/json",n.body=JSON.stringify(c);else if("urlencoded"===f)n.headers["Content-Type"]="application/x-www-form-urlencoded",n.body=new URLSearchParams(c);else if("text"===f)n.headers["Content-Type"]="text/plain",n.body=c;else if("formdata"===f||"raw"===f){if("formdata"===f&&!(c instanceof FormData))return o({type:"expected_formdata",message:`Expected body to be instanceof FormData. typeof body === ${typeof(window.temp1=c)}. Stored body as a temp global variable, window.temp1`});n.body=c}}async function a(t){async function r(t,e){if("response"===e)return t.clone();if("blob"===e)return t.blob();if("json"===e)try{return t.json()}catch(e){return o({type:"invalid_json",message:"Couldn't parse JSON",response:t.clone()})}else{if("dataurl"!==e){if("text"===e)return t.text();if("arraybuffer"===e)return t.arrayBuffer();if("html"===e)return(new DOMParser).parseFromString(await t.text(),"text/html");if("image"!==e)return"bloburl"===e?URL.createObjectURL(await t.blob()):"headers"===e?Object.fromEntries(t.headers.entries()):void 0;{let e=new Image;return e.src=r(await t.blob()),await new Promise(e=>i.onload=e),e}}{return r(await t.blob());function r(r){return new Promise(t=>{var e=new FileReader;e.onload=function(e){t(e.target.result)},e.readAsDataURL(r)})}}}function r(r){return new Promise(t=>{var e=new FileReader;e.onload=function(e){t(e.target.result)},e.readAsDataURL(r)})}}Array.isArray(u)?(u=u.map(e=>e.toLowerCase()),e(Object.fromEntries((await Promise.all(u.map(e=>r(t.clone(),e)))).map((e,t)=>[u[t],e])))):e(await r(t.clone(),u))}function o(e){if("fetch_error"===e.type&&"The user aborted a request."===e.message&&w)return t({type:"timed_out",message:`Request timed out [${w}ms timeout]`});t(e)}function s(r,n,a,o=!1){return new Promise((t,e)=>{fetch(r,n,a).then(async e=>{y({response:e.clone()})?t(await s(b(r,h),n,a,!0)):t(e.clone())}).catch(async e=>"Failed to fetch"!==e.message?a({type:"fetch_error",message:e.message,error:e}):void(o?a({type:"cors_rejected",message:"Retried request with cors proxy and it still failed"}):y({error:e})&&t(await s(b(r,h),n,a,!0))))}).catch(a)}null!==w?Promise.race([new Promise((e,t)=>setTimeout(()=>r.abort()&&t("REQUEST ABORTED"),w)),s(l,n,o)]).catch(e=>o("REQUEST ABORTED"===e?{type:"timed_out",message:`Request timed out [${w}ms timeout]`}:{type:"fetch_error",message:e.message,error:e})).then(e=>e instanceof Response?void a(e):o({type:"response_not_recognized",message:"Response not instanceof Response",typeofResponse:typeof e,response:e})):a(await s(l,n,t).catch(e=>o({type:"fetch_error",message:e.message,error:e})))})),soundex=(e=req("string","word"))=>{var e=e.toLowerCase().split(""),n=e.shift(),a={a:"",e:"",i:"",o:"",u:"",b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,d:3,t:3,l:4,m:5,n:5,r:6};return(n+e.map(function(e,t,r){return a[e]}).filter(function(e,t,r){return 0===t?e!==a[n]:e!==r[t-1]}).join("")+"000").slice(0,4).toUpperCase()},prototype=(a={overwrite:!0,tryCatch:!1})=>{function e(t,e,r){var n=r||t?t.name:"noNameHehe124672463467432376453",r=void 0!==a.overwrite&&!1!==a.overwrite;e.prototype.hasOwnProperty(n)&&!r||Object.defineProperty(e.prototype,n,{value:function(...e){if(!0!==(a.try||a.tryCatch||a.catch||a.catchErrors))return t(this,...e);try{return t(this,...e)}catch(e){return e}}})}e(_$.addDaysToDate,Date,"addDays"),e(_$.addEventListeners,Element),e(_$.addMinutesToDate,Date,"addMinutes"),e(_$.addStyles,Element),e(_$.animate,Number),e(_$.arrayDiff,Array,"diff"),e(_$.arrayToCSV,Array,"toCSV"),e(_$.attributes,Element),e(_$.averageBy,Array),e(_$.blendColors,String),e(_$.byteSize,String),e(_$.camelCase,String),e(_$.capitalize,String),e(_$.clone,Object),e(_$.compStyle,Element),e(_$.composeFunction,Function,"compose"),e(_$.contains,Array),e(_$.copy,String),e(_$.count,Array),e(_$.create,String),e(_$.createElement,String),e(_$.curryFunction,Function,"curry"),e(_$.dayName,Date),e(_$.debounce,Function),e(_$.deburr,String),e(_$.disableRightClick,Element),e(_$.dispatch,Object),e(_$.drag,Element),e(_$.each,Array),e(_$.editDistance,String),e(_$.elementContains,Element,"contains"),e(_$.equals,Date),e(_$.equals,Object),e(_$.escapeHTML,String),e(_$.factorial,Number),e(_$.fastestFunction,Array),e(_$.flatten,Array),e(_$.flattenObj,Object,"flatten"),e(_$.forTemplateLiteral,Array),e(_$.formToObject,Element,"toObject"),e(_$.formatHTML,String),e(_$.formatNumber,Number),e(_$.fullScreen,Element),e(_$.gcd,Array),e(_$.hash,String),e(_$.hashString,String),e(_$.imageToData,String),e(_$.inPartialView,Element),e(_$.inView,Element),e(_$.inlineCSS,Element),e(_$.isAsync,Function),e(_$.isDateValid,Date,"valid"),e(_$.isPrime,Number),e(_$.jaroDistance,String),e(_$.juxt,Function),e(_$.lightOrDark,String),e(_$.lightenColor,String),e(_$.limitArgs,Function),e(_$.listen,Object),e(_$.luhnCheck,Number),e(_$.mapObjectKeys,Object,"mapKeys"),e(_$.mapObjectValues,Object,"map"),e(_$.mapString,String,"map"),e(_$.markDownToHTML,String),e(_$.memoize,Function),e(_$.merge,Object),e(_$.nFlatten,Array),e(_$.observeMutations,Element,"observe"),e(_$.onOutsideClick,Element),e(_$.onScrollStop,Element),e(_$.parents,Element),e(_$.parseHTML,String),e(_$.playSection,Element),e(_$.prefixCSS,String),e(_$.preloadImage,String),e(_$.primesTo,Number),e(_$.querySelector,Element,"genQuerySelector"),e(_$.random,Number),e(_$.range,Number),e(_$.remove,Array),e(_$.removeComments,String),e(_$.removeTags,String),e(_$.renderElement,Object),e(_$.replaceBetween,String),e(_$.replaceMultiple,Object),e(_$.replaceText,Element),e(_$.rgbToHex,String),e(_$.round,Number),e(_$.runAsync,Function),e(_$.sanitize,String),e(_$.saveBlob,Blob),e(_$.scrambleString,String,"scramble"),e(_$.seedRandom,String),e(_$.serializeForm,Element,"serialize"),e(_$.shuffleArray,Array,"shuffle"),e(_$.sortObj,Object,"sort"),e(_$.sortTable,Element,"sort"),e(_$.sortTableBy,Element),e(_$.speak,String),e(_$.splice,String),e(_$.spread,Function),e(_$.syllables,String),e(_$.textNodes,Element),e(_$.throttle,Function),e(_$.tilt,Element),e(_$.timeFunction,Function),e(_$.titleCase,String),e(_$.unCamelCase,String),e(_$.unescapeHTML,String),e(_$.unionArrays,Array,"union"),e(_$.uniqueArray,Array,"unique"),e(_$.urlQuery,String),e(_$.widows,String)},_temp={addDaysToDate:addDaysToDate,addEventListeners:addEventListeners,addMinutesToDate:addMinutesToDate,addStyles:addStyles,animate:animate,arrayDiff:arrayDiff,arrayToCSV:arrayToCSV,attributes:attributes,averageBy:averageBy,blendColors:blendColors,browser:browser,byteSize:byteSize,camelCase:camelCase,capitalize:capitalize,clone:clone,compStyle:compStyle,composeFunction:composeFunction,contains:contains,context:context,cookies:cookies,copy:copy,count:count,create:create,createElement:createElement,curryFunction:curryFunction,dayName:dayName,debounce:debounce,deburr:deburr,diff:diff,disableRightClick:disableRightClick,dispatch:dispatch,drag:drag,each:each,ease:ease,editDistance:editDistance,elementContains:elementContains,elementReady:elementReady,elementSiblings:elementSiblings,equals:equals,escapeHTML:escapeHTML,factorial:factorial,fastestFunction:fastestFunction,flatten:flatten,flattenObj:flattenObj,forTemplateLiteral:forTemplateLiteral,formToObject:formToObject,formatHTML:formatHTML,formatMilliseconds:formatMilliseconds,formatNumber:formatNumber,fullScreen:fullScreen,gcd:gcd,getHTML:getHTML,getImages:getImages,getJSON:getJSON,hash:hash,hashString:hashString,hexToRGB:hexToRGB,htmlToImage:htmlToImage,hub:hub,imageToData:imageToData,inPartialView:inPartialView,inView:inView,injectCSS:injectCSS,inlineCSS:inlineCSS,isAsync:isAsync,isDateValid:isDateValid,isPrime:isPrime,jaroDistance:jaroDistance,jsonToCsv:jsonToCsv,juxt:juxt,lightOrDark:lightOrDark,lightenColor:lightenColor,limitArgs:limitArgs,listen:listen,loadScript:loadScript,luhnCheck:luhnCheck,mapObjectKeys:mapObjectKeys,mapObjectValues:mapObjectValues,mapString:mapString,markdownToHTML:markdownToHTML,memoize:memoize,merge:merge,mobileOrDesktop:mobileOrDesktop,nFlatten:nFlatten,notify:notify,observeMutations:observeMutations,onOutsideClick:onOutsideClick,onScrollStop:onScrollStop,parents:parents,parseCookie:parseCookie,parseHTML:parseHTML,playSection:playSection,prefixCSS:prefixCSS,preloadImage:preloadImage,previousPage:previousPage,primesTo:primesTo,prototype:prototype,querySelector:querySelector,race:race,random:random,randomColor:randomColor,range:range,regex:regex,remove:remove,removeComments:removeComments,removeTags:removeTags,renderElement:renderElement,replaceBetween:replaceBetween,replaceMultiple:replaceMultiple,replaceSelection:replaceSelection,replaceText:replaceText,requestInterval:requestInterval,resize:resize,rgbToHex:rgbToHex,ripple:ripple,runAsync:runAsync,sanitize:sanitize,saveBlob:saveBlob,scrambleString:scrambleString,seedRandom:seedRandom,serializeForm:serializeForm,shuffleArray:shuffleArray,sleep:sleep,sortObj:sortObj,sortTable:sortTable,sortTableBy:sortTableBy,soundex:soundex,speak:speak,splice:splice,spliceArrayBuffer:spliceArrayBuffer,spread:spread,syllables:syllables,tag:tag,textNodes:textNodes,throttle:throttle,tilt:tilt,timeFunction:timeFunction,titleCase:titleCase,typeOf:typeOf,unCamelCase:unCamelCase,unescapeHTML:unescapeHTML,unionArrays:unionArrays,uniqueArray:uniqueArray,urlQuery:urlQuery,uuid:uuid,waitUntil:waitUntil,widows:widows};_temp=sortObj(_temp);export default _temp;isNode||(window._$=_temp);const _$=_temp;if(isNode)try{module.exports=_temp}catch(e){console.error(e)}export{count,arrayDiff,diff,remove,spliceArrayBuffer,flatten,nFlatten,contains,shuffleArray,splice,unionArrays,averageBy,uniqueArray,each,rgbToHex,hexToRGB,blendColors,randomColor,lightenColor,lightOrDark,dayName,formatMilliseconds,addMinutesToDate,isDateValid,addDaysToDate,ripple,elementReady,elementContains,parents,getImages,renderElement,create,context,inView,inPartialView,replaceText,textNodes,querySelector,removeComments,parseHTML,drag,addEventListeners,sortTable,sortTableBy,addStyles,createElement,compStyle,elementSiblings,disableRightClick,inlineCSS,attributes,observeMutations,tilt,fullScreen,replaceSelection,waitUntil,onOutsideClick,onScrollStop,hub,dispatch,juxt,sleep,limitArgs,fastestFunction,spread,memoize,composeFunction,curryFunction,isAsync,timeFunction,throttle,debounce,runAsync,flattenObj,clone,listen,merge,mapObjectKeys,mapObjectValues,formToObject,sortObj,gcd,round,equals,isPrime,factorial,luhnCheck,animate,range,uuid,primesTo,random,seedRandom,formatNumber,ease,jaroDistance,prefixCSS,parseCookie,hash,forTemplateLiteral,mapString,deburr,removeTags,speak,widows,unCamelCase,camelCase,scrambleString,hashString,editDistance,byteSize,replaceMultiple,urlQuery,sanitize,markdownToHTML,syllables,titleCase,capitalize,replaceBetween,escapeHTML,unescapeHTML,previousPage,createStream,manipulate,preload,tag,resize,htmlToImage,race,typeOf,injectCSS,mobileOrDesktop,playSection,formatHTML,getJSON,getHTML,preloadImage,saveBlob,requestInterval,loadScript,imageToData,cookies,regex,jsonToCsv,arrayToCSV,notify,copy,browser,serializeForm,request,soundex,prototype,_$};