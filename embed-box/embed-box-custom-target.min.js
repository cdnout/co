!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("EmbedBoxCustomTarget",[],e):"object"==typeof exports?exports.EmbedBoxCustomTarget=e():t.EmbedBoxCustomTarget=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,e,n){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=30)}([function(t,e,n){"use strict";function r(t,e){if(1===arguments.length){for(var n=t[0],o=1;o<t.length;o++)n=r(n,t[o]);return n}for(var i in e)if("class"===i){var a=t[i]||[];t[i]=(Array.isArray(a)?a:[a]).concat(e[i]||[])}else if("style"===i){var a=s(t[i]),u=s(e[i]);t[i]=a+(a&&u&&";")+u}else t[i]=e[i];return t}function o(t,e){for(var n,r="",o="",i=Array.isArray(e),s=0;s<t.length;s++)n=a(t[s]),n&&(i&&e[s]&&(n=l(n)),r=r+o+n,o=" ");return r}function i(t){var e="",n="";for(var r in t)r&&t[r]&&p.call(t,r)&&(e=e+n+r,n=" ");return e}function a(t,e){return Array.isArray(t)?o(t,e):t&&"object"==typeof t?i(t):t||""}function s(t){if(!t)return"";if("object"==typeof t){var e="",n="";for(var r in t)p.call(t,r)&&(e=e+n+r+":"+t[r],n=";");return e}return t=""+t,";"===t[t.length-1]?t.slice(0,-1):t}function u(t,e,n,r){return e!==!1&&null!=e&&(e||"class"!==t&&"style"!==t)?e===!0?" "+(r?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||e.indexOf('"')===-1)?(n&&(e=l(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}function c(t,e){var n="";for(var r in t)if(p.call(t,r)){var o=t[r];if("class"===r){o=a(o),n=u(r,o,!1,e)+n;continue}"style"===r&&(o=s(o)),n+=u(r,o,!1,e)}return n}function l(t){var e=""+t,n=d.exec(e);if(!n)return t;var r,o,i,a="";for(r=n.index,o=0;r<e.length;r++){switch(e.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}o!==r&&(a+=e.substring(o,r)),o=r+1,a+=i}return o!==r?a+e.substring(o,r):a}function f(t,e,r,o){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&e||o))throw t.message+=" on line "+r,t;try{o=o||n(29).readFileSync(e,"utf8")}catch(i){f(t,null,r)}var a=3,s=o.split("\n"),u=Math.max(r-a,0),c=Math.min(s.length,r+a),a=s.slice(u,c).map(function(t,e){var n=e+u+1;return(n==r?"  > ":"    ")+n+"| "+t}).join("\n");throw t.path=e,t.message=(e||"Pug")+":"+r+"\n"+a+"\n\n"+t.message,t}var p=Object.prototype.hasOwnProperty;e.merge=r,e.classes=a,e.style=s,e.attr=u,e.attrs=c;var d=/["&<>]/;e.escape=l,e.rethrow=f},function(t,e){"use strict";function n(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 1===e.length?r.apply(void 0,e):o.apply(void 0,e)}function r(t){var e=void 0;return"undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys?e=Reflect.ownKeys(t.prototype):(e=Object.getOwnPropertyNames(t.prototype),"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t.prototype)))),e.forEach(function(e){if("constructor"!==e){var n=Object.getOwnPropertyDescriptor(t.prototype,e);"function"==typeof n.value&&Object.defineProperty(t.prototype,e,o(t,e,n))}}),t}function o(t,e,n){var r=n.value;if("function"!=typeof r)throw new Error("@autobind decorator can only be applied to methods not: "+typeof r);return{configurable:!0,get:function(){if(this===t.prototype||this.hasOwnProperty(e))return r;var n=r.bind(this);return Object.defineProperty(this,e,{value:n,configurable:!0,writable:!0}),n}}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,t.exports=e["default"]},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var i=n(4),a=i&&i.__esModule?function(){return i["default"]}:function(){return i};n.d(a,"a",a);var s=n(1),u=s&&s.__esModule?function(){return s["default"]}:function(){return s};n.d(u,"a",u),n.d(e,"a",function(){return h});var c,l,f,p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d=/([a-zA-Z\d]*)(\[?\]?)/,h=(f=l=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,t),p(this,{store:null,element:null,refs:{}},e),this.appendStylesheet()}return t.prototype.appendStylesheet=function(){var t=this,e=this.constructor.stylesheet;if(e){if(!this.store)throw console.error(this),new Error("Component attempted to mount stylesheet without a store reference");var n=this.store.iframe,r=n.element,o=n.document,i=function(){if(!o.head.contains(t.constructor.styleElement)){var n=o.createElement("style");n.innerHTML=e,t.constructor.styleElement=o.head.appendChild(n)}};o.head?i():r.addEventListener("load",i)}},t.prototype.asset=function(t){return""+this.store.assetPath+t},t.prototype.autofocus=function(){if("inline"!==this.store.mode){var t=this.element.querySelector("[autofocus]");t&&t.focus()}},t.prototype.updateRefs=function(){var t=this.refs;a()(this.element.querySelectorAll("[data-ref]")).forEach(function(e){var n=e.getAttribute("data-ref"),r=n.match(d),o=r[1],i=r[2];i?(Array.isArray(t[o])||(t[o]=[]),t[o].push(e)):t[o]=e,e.removeAttribute("data-ref")})},t.prototype.serialize=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=document.createElement("div");return"function"==typeof t?n.innerHTML=t.call(this,p({asset:this.asset,config:this.store,label:this.label},e)):n.innerHTML=t,n.firstChild},t.prototype.compileTemplate=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=this.constructor.template;return this.element=this.serialize(e,t),this.updateRefs(),this.element},t.prototype.label=function(t){var e=this.store,n=e.labels[t];return"function"==typeof n?n(e):n},t.prototype.insertBefore=function(t,e){e.parentNode.insertBefore(t,e)},t.prototype.removeElement=function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},t.prototype.render=function(){return this.compileTemplate()},t.prototype.replaceElement=function(t,e){t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t),e.tabIndex=t.tabIndex,this.updateRefs()},t}(),l.template=null,l.stylesheet=null,l.store=null,c=f,o(c.prototype,"asset",[u.a],Object.getOwnPropertyDescriptor(c.prototype,"asset"),c.prototype),o(c.prototype,"label",[u.a],Object.getOwnPropertyDescriptor(c.prototype,"label"),c.prototype),c)},function(t,e,n){"use strict";function r(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}return t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):r(t,e))}function s(t,e,n,r,o){var i={};return Object.keys(r).forEach(function(t){i[t]=r[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(t,e,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}function u(t,e){var n="undefined"!=typeof t?t:e;return n?"head":"body"}var c=n(15),l=c&&c.__esModule?function(){return c["default"]}:function(){return c};n.d(l,"a",l);var f=n(18),p=f&&f.__esModule?function(){return f["default"]}:function(){return f};n.d(p,"a",p);var d=n(17),h=d&&d.__esModule?function(){return d["default"]}:function(){return d};n.d(h,"a",h);var v=n(16),y=v&&v.__esModule?function(){return v["default"]}:function(){return v};n.d(y,"a",y);var b=n(14),m=b&&b.__esModule?function(){return b["default"]}:function(){return b};n.d(m,"a",m);var g=n(20),w=g&&g.__esModule?function(){return g["default"]}:function(){return g};n.d(w,"a",w);var x=n(6),E=n(1),C=E&&E.__esModule?function(){return E["default"]}:function(){return E};n.d(C,"a",C);var k=n(2),O=n(8),T=O&&O.__esModule?function(){return O["default"]}:function(){return O};n.d(T,"a",T),n.d(e,"default",function(){return P});var M,j,L,A=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),S=x.a,_=x.b,P=(L=j=function(t){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,e);var r=i(this,t.call(this,n));return r.versionID=r.config.versionID||r.versionIDs[0],r}return a(e,t),e.isConstructable=function(t,e){var n=this.supports.plugin,r=this.supports.insertInto,o=!!t.embedCode,i=!!e.embedCode,a=o||i,s=!!t.pluginURL,c=u(t.insertInHead,e.insertInHead),l="head"===c&&r.head||"body"===c&&r.body;return n?s||l&&a:l&&a},e.prototype.compileTemplate=function(){return k.a.prototype.compileTemplate.call(this,this.templateVars),this.element.setAttribute("data-component",this.id+"-target"),this.element.setAttribute("data-flow","column"),this.element.setAttribute("autofocus",""),this.element.className="target-instructions "+(this.element.className||""),this.element},e.prototype.handleVersionChange=function(t){var e=t.target.value;this.versionID=e,this.render()},e.prototype.setupCollapsibleCopyContainers=function(){var t=this.refs.copyContainers,e=void 0===t?[]:t;e.forEach(function(t){var e=t.querySelector(".copyable"),n=e.textContent.split("\n").length>1;if(n){var r=document.createElement("button"),o=new _;r.className="button collapse",r.appendChild(o.render()),r.addEventListener("click",function(){var e="true"===t.getAttribute("collapsed");t.setAttribute("collapsed",!e)}),t.setAttribute("collapsed",!0),t.appendChild(r)}})},e.prototype.bindCopyButtons=function(){var t=this.store.iframe,e=this.refs.copyButtons,n=void 0===e?[]:e;n.forEach(function(e){var n=e.parentNode.querySelector(".copyable"),r=new S;e.appendChild(r.render()),n.addEventListener("click",function(){var e=t.document.createRange(),r=t.window.getSelection();e.selectNodeContents(n),r.removeAllRanges(),r.addRange(e)});var o=new T.a(e,{text:function(){return n.textContent}});o.on("success",function(){e.setAttribute("data-status","copied"),setTimeout(function(){return e.removeAttribute("data-status")},600)})})},e.prototype.renderSteps=function(){var t=this,e=this.refs.stepsMount,n=this.constructor.versions.filter(function(e){return e.id===t.versionID}),r=n[0],o=this.serialize(r.template,this.templateVars);this.refs.screenshotMounts=[],this.replaceElement(e,o),this.updateRefs();var i=this.refs.screenshotMounts,a=void 0===i?[]:i;a.forEach(function(e){var n=r.screenshots[e.getAttribute("data-screenshot")],o=new n({store:t.store});t.replaceElement(e,o.render(t))})},e.prototype.render=function(){var t=this.element;this.compileTemplate(),this.renderSteps();var e=this.refs.versionSelector;return e&&e.addEventListener("change",this.handleVersionChange),this.setupCollapsibleCopyContainers(),this.bindCopyButtons(),t&&this.replaceElement(t,this.element),this.element},e.prototype.renderTitle=function(){return this.constructor.titleTemplate.call(this,{config:this.store})},e.prototype.renderDownloadLink=function(){return this.constructor.downloadLinkTemplate.call(this,{config:this.store})},e.prototype.renderBeforeContent=function(){return this.constructor.beforeContentTemplate.call(this,{config:this.store})},e.prototype.renderAfterContent=function(){return this.constructor.afterContentTemplate.call(this,{config:this.store})},e.prototype.startDownload=function(){var t=document.createElement("iframe");t.className="embed-box-download-iframe",t.src=this.pluginURL,document.body.appendChild(t)},A(e,[{key:"autoDownloadLabel",get:function(){return this.store.autoDownload?"(Your download should begin automatically.)":""}},{key:"downloadLabel",get:function(){var t=this.constructor.supports.plugin;return t?"Download the "+this.label+" plugin":"Download "+this.store.name}},{key:"pluginURL",get:function(){return this.config.pluginURL}},{key:"copyText",get:function(){return this.config.embedCode||this.store.embedCode}},{key:"label",get:function(){return this.constructor.label}},{key:"location",get:function(){return u(this.config.insertInHead,this.store.insertInHead)}},{key:"icon",get:function(){return this.constructor.icon||w.a}},{key:"id",get:function(){return this.constructor.id}},{key:"instructionsLabel",get:function(){return"Instructions for "+this.label+" version"}},{key:"headerTitle",get:function(){return"Installing "+this.store.name+' <span class="with-more-icon-after"></span> '+this.label}},{key:"templateVars",get:function(){return this.constructor.templateVars}},{key:"title",get:function(){return"Installing "+this.store.name+" onto a "+this.label+" site."}},{key:"versionIDs",get:function(){return this.constructor.versions.map(function(t){return t.id})}}]),e}(k.a),j.template=l.a,j.titleTemplate=p.a,j.beforeContentTemplate=y.a,j.afterContentTemplate=m.a,j.downloadLinkTemplate=h.a,j.supports={},j.extend=function(){var t,e,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=n.icon,s=n.id,u=n.label,c=n.template,l=n.templateVars;if(!s)throw new Error("EmbedBox: Target must have `id`");if(!u)throw new Error("EmbedBox: Target must have `label`");return e=t=function(t){function e(){return o(this,e),i(this,t.apply(this,arguments))}return a(e,t),e.isConstructable=function(){return!0},e}(P),t.icon=r,t.id=s,t.label=u,t.templateVars=l||{},t.versions=[{id:s+"-custom-version",template:c}],e},M=L,s(M.prototype,"handleVersionChange",[C.a],Object.getOwnPropertyDescriptor(M.prototype,"handleVersionChange"),M.prototype),s(M.prototype,"startDownload",[C.a],Object.getOwnPropertyDescriptor(M.prototype,"startDownload"),M.prototype),M)},function(t,e,n){t.exports="function"==typeof Array.from?Array.from:n(5)},function(t,e){t.exports=function(){var t=function(t){return"function"==typeof t},e=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},n=Math.pow(2,53)-1,r=function(t){var r=e(t);return Math.min(Math.max(r,0),n)},o=function(t){if(null!=t){if(["string","number","boolean","symbol"].indexOf(typeof t)>-1)return Symbol.iterator;if("undefined"!=typeof Symbol&&"iterator"in Symbol&&Symbol.iterator in t)return Symbol.iterator;if("@@iterator"in t)return"@@iterator"}},i=function(e,n){if(null!=e&&null!=n){var r=e[n];if(null==r)return;if(!t(r))throw new TypeError(r+" is not a function");return r}},a=function(t){var e=t.next(),n=Boolean(e.done);return!n&&e};return function(e){"use strict";var n,s=this,u=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof u){if(!t(u))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(n=arguments[2])}var c,l,f=i(e,o(e));if(void 0!==f){c=t(s)?Object(new s):[];var p=f.call(e);if(null==p)throw new TypeError("Array.from requires an array-like or iterable object");l=0;for(var d,h;;){if(d=a(p),!d)return c.length=l,c;h=d.value,u?c[l]=u.call(n,h,l):c[l]=h,l++}}else{var v=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var y=r(v.length);c=t(s)?Object(new s(y)):new Array(y),l=0;for(var b;l<y;)b=v[l],u?c[l]=u.call(n,b,l):c[l]=b,l++;c.length=y}return c}}()},function(t,e,n){"use strict";function r(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(e,o);i&&i.configurable&&void 0===t[o]&&Object.defineProperty(t,o,i)}return t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):r(t,e))}var s=n(2),u=n(22),c=u&&u.__esModule?function(){return u["default"]}:function(){return u};n.d(c,"a",c);var l=n(26),f=l&&l.__esModule?function(){return l["default"]}:function(){return l};n.d(f,"a",f);var p=n(25),d=p&&p.__esModule?function(){return p["default"]}:function(){return p};n.d(d,"a",d);var h=n(27),v=h&&h.__esModule?function(){return h["default"]}:function(){return h};n.d(v,"a",v);var y=n(21),b=y&&y.__esModule?function(){return y["default"]}:function(){return y};n.d(b,"a",b);var m=n(24),g=m&&m.__esModule?function(){return m["default"]}:function(){return m};n.d(g,"a",g);var w=n(23),x=w&&w.__esModule?function(){return w["default"]}:function(){return w};n.d(x,"a",x),n.d(e,"a",function(){return k}),n.d(e,"b",function(){return O});var E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C=function(t){var e,n;return n=e=function(t){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,e);var r=i(this,t.call(this));return r.attributes=E({"class":"icon"},n),r}return a(e,t),e.prototype.render=function(){var t=this,e=this.compileTemplate();return Object.keys(this.attributes).forEach(function(n){return e.setAttribute(n,t.attributes[n])}),e},e}(s.a),e.template=t,n},k=(C(c.a),C(f.a),C(d.a),C(v.a),C(b.a),C(g.a)),O=C(x.a)},function(t,e,n){var r,o,i;!function(a,s){o=[t,n(19)],r=s,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i))}(this,function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(e),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(){function t(e){r(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},t.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,o["default"])(this.fakeElem),this.copyText()},t.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function(){this.selectedText=(0,o["default"])(this.target),this.copyText()},t.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},t.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function(){this.removeFake()},a(t,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":i(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=s})},function(t,e,n){var r,o,i;!function(a,s){o=[t,n(7),n(28),n(12)],r=s,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i))}(this,function(t,e,n,r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var c=o(e),l=o(n),f=o(r),p=function(t){function e(n,r){i(this,e);var o=a(this,t.call(this));return o.resolveOptions(r),o.listenClick(n),o}return s(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},e.prototype.listenClick=function(t){var e=this;this.listener=(0,f["default"])(t,"click",function(t){return e.onClick(t)})},e.prototype.onClick=function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c["default"]({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})},e.prototype.defaultAction=function(t){return u("action",t)},e.prototype.defaultTarget=function(t){var e=u("target",t);if(e)return document.querySelector(e)},e.prototype.defaultText=function(t){return u("text",t)},e.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(l["default"]);t.exports=p})},function(t,e,n){var r=n(13);t.exports=function(t,e,n){for(var o=n?t:t.parentNode;o&&o!==document;){if(r(o,e))return o;o=o.parentNode}}},function(t,e,n){function r(t,e,n,r,i){var a=o.apply(this,arguments);return t.addEventListener(n,a,i),{destroy:function(){t.removeEventListener(n,a,i)}}}function o(t,e,n,r){return function(n){n.delegateTarget=i(n.target,e,!0),n.delegateTarget&&r.call(t,n)}}var i=n(9);t.exports=r},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},function(t,e,n){function r(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!s.string(e))throw new TypeError("Second argument must be a String");if(!s.fn(n))throw new TypeError("Third argument must be a Function");if(s.node(t))return o(t,e,n);if(s.nodeList(t))return i(t,e,n);if(s.string(t))return a(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function i(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function a(t,e,n){return u(document.body,t,e,n)}var s=n(11),u=n(10);t.exports=r},function(t,e){function n(t,e){if(o)return o.call(t,e);for(var n=t.parentNode.querySelectorAll(e),r=0;r<n.length;++r)if(n[r]==t)return!0;return!1}var r=Element.prototype,o=r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector;t.exports=n},function(t,e,n){function r(t){var e,n="",r=t||{};return function(t){(t.afterContent||this.config.afterContent)&&(n=n+'<div data-content-slot="after"><p>'+(null==(e=t.afterContent)?"":e)+"</p><p>"+(null==(e=this.config.afterContent)?"":e)+"</p></div>")}.call(this,"config"in r?r.config:"undefined"!=typeof config?config:void 0),n}n(0);t.exports=r},function(t,e,n){function r(t){var e,n="";return n=n+"<section>"+(null==(e=this.renderTitle())?"":e)+(null==(e=this.renderBeforeContent())?"":e)+'<div class="steps-mount" data-ref="stepsMount"></div>'+(null==(e=this.renderAfterContent())?"":e)+"</section>"}n(0);t.exports=r},function(t,e,n){function r(t){var e,n="",r=t||{};return function(t){(t.beforeContent||this.config.beforeContent)&&(n=n+'<div data-content-slot="before"><p>'+(null==(e=t.beforeContent)?"":e)+"</p><p>"+(null==(e=this.config.beforeContent)?"":e)+"</p></div>")}.call(this,"config"in r?r.config:"undefined"!=typeof config?config:void 0),n}n(0);t.exports=r},function(t,e,n){function r(t){var e,n="";return n=n+"<h2><a"+(' class="more"'+o.attr("href",this.pluginURL,!0,!0)+' download target="_blank"')+">"+o.escape(null==(e=this.downloadLabel)?"":e)+"</a><div>"+o.escape(null==(e=this.autoDownloadLabel)?"":e)+"</div></h2>"}var o=n(0);t.exports=r},function(t,e,n){function r(t){var e,n="";return n=n+'<header class="target-title" data-flow="column"><div class="icon">'+(null==(e=this.icon)?"":e)+"</div><h1>"+(null==(e=this.title)?"":e)+"</h1>",this.versionIDs.length>1&&(n=n+'<div class="versions"><div class="label">'+(null==(e=this.instructionsLabel)?"":e)+'</div><select data-ref="versionSelector">',function(){var t=this.versionIDs;if("number"==typeof t.length)for(var r=0,i=t.length;r<i;r++){var a=t[r];n=n+"<option"+o.attr("selected",a===this.versionID,!0,!0)+">"+o.escape(null==(e=a)?"":e)+"</option>"}else{var i=0;for(var r in t){i++;var a=t[r];n=n+"<option"+o.attr("selected",a===this.versionID,!0,!0)+">"+o.escape(null==(e=a)?"":e)+"</option>"}}}.call(this),n+="</select></div>"),n+="</header>"}var o=n(0);t.exports=r},function(t,e){function n(t){var e;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),r=document.createRange();r.selectNodeContents(t),n.removeAllRanges(),n.addRange(r),e=n.toString()}return e}t.exports=n},function(t,e){t.exports='<svg viewBox="0 0 32 32" version="1.1"><path fill-rule="evenodd" d="M4 1C2.3 1 1 2.3 1 4L1 28C1 29.7 2.3 31 4 31L28 31C29.7 31 31 29.7 31 28L31 4C31 2.3 29.7 1 28 1L4 1ZM5.5 7C6.3 7 7 6.3 7 5.5 7 4.7 6.3 4 5.5 4 4.7 4 4 4.7 4 5.5 4 6.3 4.7 7 5.5 7ZM5.5 10C4.7 10 4 10.7 4 11.5L4 26.5C4 27.3 4.7 28 5.5 28L26.5 28C27.3 28 28 27.3 28 26.5L28 11.5C28 10.7 27.3 10 26.5 10L5.5 10ZM10.5 4C9.7 4 9 4.7 9 5.5 9 6.3 9.7 7 10.5 7L26.5 7C27.3 7 28 6.3 28 5.5 28 4.7 27.3 4 26.5 4L10.5 4Z"></path></svg>'},function(t,e){t.exports='<svg viewBox="-3 -3 22 22" stroke-linecap="round"><path d="M1 1l14 14M1 15L15 1"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 16 16" stroke-linecap="round"><path d="M1 1l14 14M1 15L15 1"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 -1 16 9" stroke-linecap="round"><path d="M1 1l7 7M8 8l7-7"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 15 15" stroke-linecap="round"><path d="M7.5 10.5L3.5 6.5M7.5 10.5L11.5 6.5M7.5 10.5L7.5 1.5M13.5 13.5L1.5 13.5M1.5 13.5L1.5 11.5M13.5 13.5L13.5 11.5"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 16 16" stroke-linecap="round"><path d="M4 1l7 7M4 15l7-7"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 16 16" stroke-linecap="round"><path d="M11 1L4 8M11 15L4 8"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 16 16" stroke-width="1" stroke-linecap="round"><circle cx="6.5" cy="6.5" r="5.5" fill="none"></circle><path d="M10.5,10.5 L15,15"></path></svg>'},function(t,e){function n(){}n.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function r(){o.off(t,r),e.apply(n,arguments)}var o=this;return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,o=n.length;for(r;r<o;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],o=[];if(r&&e)for(var i=0,a=r.length;i<a;i++)r[i].fn!==e&&r[i].fn._!==e&&o.push(r[i]);return o.length?n[t]=o:delete n[t],this}},t.exports=n},function(t,e){},function(t,e,n){var r=n(3)["default"];t.exports=r}])});
//# sourceMappingURL=embed-box-custom-target.min.map