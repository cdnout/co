import{executionAsyncId,createHook}from"node:async_hooks";import{virtualSheet}from"twind/sheets";export*from"twind";export*from"twind/sheets";var asyncVirtualSheet=()=>{const r=virtualSheet(),s=r.reset(),n=new Map,e=createHook({init(e,t,r){r=n.get(r);r&&n.set(e,r)},before(e){e=n.get(e);e&&r.reset(e.state)},after(e){const t=n.get(e);t&&(t.state=r.reset(s))},destroy(e){n.delete(e)}}).enable();return{get target(){return r.target},insert:r.insert,init:r.init,reset:()=>{var e=executionAsyncId();const t=n.get(e);t?t.state=void 0:n.set(e,{state:void 0}),r.reset()},enable:()=>e.enable(),disable:()=>e.disable()}};export{asyncVirtualSheet};