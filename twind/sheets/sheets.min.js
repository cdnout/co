var STYLE_ELEMENT_ID="__twind",getStyleElement=e=>{let t=self[STYLE_ELEMENT_ID];return t||((t=document.head.appendChild(document.createElement("style"))).id=STYLE_ELEMENT_ID,e&&(t.nonce=e),t.appendChild(document.createTextNode(""))),t},domSheet=({nonce:e,target:r=getStyleElement(e)}={})=>{const n=r.childNodes.length;return{target:r,insert:(e,t)=>r.insertBefore(document.createTextNode(e),r.childNodes[n+t])}},createStorage=()=>{const t=[];let r=[];const n=(e,t)=>r[t]=e(r[t]);return{init:e=>n(e,t.push(e)-1),reset:(e=[])=>([e,r]=[r,e],t.forEach(n),e)}},virtualSheet=()=>{const e=createStorage();let r;return e.init((e=[])=>r=e),Object.defineProperties({get target(){return[...r]},insert:(e,t)=>r.splice(t,0,e)},Object.getOwnPropertyDescriptors(e))},getStyleTagProperties=e=>({id:STYLE_ELEMENT_ID,textContent:(Array.isArray(e)?e:e.target).join("")}),getStyleTag=(e,r)=>{var{id:e,textContent:t}=getStyleTagProperties(e);return r={...r,id:e},`<style${Object.keys(r).reduce((e,t)=>e+` ${t}=`+JSON.stringify(r[t]),"")}>${t}</style>`};export{domSheet,getStyleTag,getStyleTagProperties,virtualSheet};