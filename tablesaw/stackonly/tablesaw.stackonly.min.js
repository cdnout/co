!function(t){"function"==typeof define&&define.amd?define(["shoestring"],t):"object"==typeof module&&module.exports?module.exports=t():t()}(function(){var a="undefined"!=typeof window?window:this,h=a.document;function l(t,e){var n,i=typeof t;if(!t)return new s([]);if(t.call)return l.ready(t);if(t.constructor===s&&!e)return t;if("string"!==i||0!==t.indexOf("<"))return"string"===i?e?l(e).find(t):(n=h.querySelectorAll(t),new s(n,t)):"[object Array]"===Object.prototype.toString.call(i)||a.NodeList&&t instanceof a.NodeList?new s(t,t):t.constructor===Array?new s(t,t):new s([t],t);var r=h.createElement("div");return r.innerHTML=t,l(r).children().each(function(){r.removeChild(this)})}var s=function(t,e){this.length=0,this.selector=e,l.merge(this,t)};s.prototype.reverse=[].reverse,l.fn=s.prototype,l.Shoestring=s,l.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},l.merge=function(t,e){var n,i,r;for(n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},(a.shoestring=l).fn.each=function(t){return l.each(this,t)},l.each=function(t,e){for(var n=0,i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);return t},l.inArray=function(t,e){for(var n=-1,i=0,r=e.length;i<r;i++)e.hasOwnProperty(i)&&e[i]===t&&(n=i);return n},l.ready=function(t){return e&&t?t.call(h):t?n.push(t):i(),[h]};var o,e=!(l.fn.ready=function(t){return l.ready(t),this}),n=[],i=function(){if(!e){for(;n.length;)n.shift().call(h);e=!0}};function c(t,e){var n=!1;return t.each(function(){for(var t=0;t<e.length;)this===e[t]&&(n=!0),t++}),n}(h.attachEvent?"complete"===h.readyState:"loading"!==h.readyState)?i():(h.addEventListener("DOMContentLoaded",i,!1),h.addEventListener("readystatechange",i,!1),a.addEventListener("load",i,!1)),l.fn.is=function(i){var t,r=!1,a=this;return"string"!=typeof i?c(this,i.length&&i[0]?i:[i]):((t=this.parent()).length||(t=l(h)),t.each(function(t,e){var n;n=e.querySelectorAll(i),r=c(a,n)}),r)},l.fn.data=function(t,e){return void 0===t?this[0]?this[0].shoestringData||{}:void 0:void 0!==e?this.each(function(){this.shoestringData||(this.shoestringData={}),this.shoestringData[t]=e}):this[0]&&this[0].shoestringData?this[0].shoestringData[t]:void 0},l.fn.removeData=function(t){return this.each(function(){void 0!==t&&this.shoestringData?(this.shoestringData[t]=void 0,delete this.shoestringData[t]):this[0].shoestringData={}})},(a.$=l).fn.addClass=function(t){var n=t.replace(/^\s+|\s+$/g,"").split(" ");return this.each(function(){for(var t=0,e=n.length;t<e;t++)void 0===this.className||""!==this.className&&this.className.match(new RegExp("(^|\\s)"+n[t]+"($|\\s)"))||(this.className+=" "+n[t])})},l.fn.add=function(t){var e=[];return this.each(function(){e.push(this)}),l(t).each(function(){e.push(this)}),l(e)},l.fn.append=function(i){return"string"!=typeof i&&void 0===i.nodeType||(i=l(i)),this.each(function(t){for(var e=0,n=i.length;e<n;e++)this.appendChild(0<t?i[e].cloneNode(!0):i[e])})},l.fn.appendTo=function(t){return this.each(function(){l(t).append(this)})},l.fn.attr=function(e,n){var i="string"==typeof e;return void 0===n&&i?this[0]?this[0].getAttribute(e):void 0:this.each(function(){if(i)this.setAttribute(e,n);else for(var t in e)e.hasOwnProperty(t)&&this.setAttribute(t,e[t])})},l.fn.before=function(i){return"string"!=typeof i&&void 0===i.nodeType||(i=l(i)),this.each(function(t){for(var e=0,n=i.length;e<n;e++)this.parentNode.insertBefore(0<t?i[e].cloneNode(!0):i[e],this)})},l.fn.children=function(){var t,e,n=[];return this.each(function(){for(t=this.children,e=-1;e++<t.length-1;)-1===l.inArray(t[e],n)&&n.push(t[e])}),l(n)},l.fn.closest=function(e){var n=[];return e&&this.each(function(){var t;if(l(t=this).is(e))n.push(this);else for(;t.parentElement;){if(l(t.parentElement).is(e)){n.push(t.parentElement);break}t=t.parentElement}}),l(n)},l.cssExceptions={float:["cssFloat"]},function(){var s=l.cssExceptions;function o(t,e){return a.getComputedStyle(t,null).getPropertyValue(e)}var h=["","-webkit-","-ms-","-moz-","-o-","-khtml-"];l._getStyle=function(t,e){var n,i,r,a;if(s[e])for(r=0,a=s[e].length;r<a;r++)if(i=o(t,s[e][r]))return i;for(r=0,a=h.length;r<a;r++)if(i=o(t,n=(h[r]+e).replace(/\-([A-Za-z])/g,function(t,e){return e.toUpperCase()})),n!==e&&(i=i||o(t,e)),h[r]&&(i=i||o(t,h[r]+e)),i)return i}}(),o=l.cssExceptions,l._setStyle=function(t,e,n){var i=e.replace(/\-([A-Za-z])/g,function(t,e){return e.toUpperCase()});if(t.style[e]=n,i!==e&&(t.style[i]=n),o[e])for(var r=0,a=o[e].length;r<a;r++)t.style[o[e][r]]=n},l.fn.css=function(e,t){if(this[0])return"object"==typeof e?this.each(function(){for(var t in e)e.hasOwnProperty(t)&&l._setStyle(this,t,e[t])}):void 0!==t?this.each(function(){l._setStyle(this,e,t)}):l._getStyle(this[0],e)},l.fn.eq=function(t){return this[t]?l(this[t]):l([])},l.fn.filter=function(i){var r=[];return this.each(function(t){var e;if("function"==typeof i)!1!==i.call(this,t)&&r.push(this);else{if(this.parentNode)e=l(i,this.parentNode);else{var n=l(h.createDocumentFragment());n[0].appendChild(this),e=l(i,n)}-1<l.inArray(this,e)&&r.push(this)}}),l(r)},l.fn.find=function(n){var i,r=[];return this.each(function(){for(var t=0,e=(i=this.querySelectorAll(n)).length;t<e;t++)r=r.concat(i[t])}),l(r)},l.fn.first=function(){return this.eq(0)},l.fn.get=function(t){if(void 0!==t)return this[t];for(var e=[],n=0;n<this.length;n++)e.push(this[n]);return e};l.fn.html=function(t){if(void 0!==t)return function(t){if("string"==typeof t||"number"==typeof t)return this.each(function(){this.innerHTML=""+t});var e="";if(void 0!==t.length)for(var n=0,i=t.length;n<i;n++)e+=t[n].outerHTML;else e=t.outerHTML;return this.each(function(){this.innerHTML=e})}.call(this,t);var e="";return this.each(function(){e+=this.innerHTML}),e},function(){function t(t,e){var n,i,r;for(n=i=0;n<t.length;n++){if(e(r=t.item?t.item(n):t[n]))return i;1===r.nodeType&&i++}return-1}l.fn.index=function(e){var n;return n=this,void 0===e?t((this[0]&&this[0].parentNode||h.documentElement).childNodes,function(t){return n[0]===t}):t(n,function(t){return t===l(e,t.parentNode)[0]})}}(),l.fn.insertBefore=function(t){return this.each(function(){l(t).before(this)})},l.fn.last=function(){return this.eq(this.length-1)},l.fn.next=function(){var r=[];return this.each(function(){var t,e,n;t=l(this.parentNode)[0].childNodes;for(var i=0;i<t.length;i++){if(e=t.item(i),n&&1===e.nodeType){r.push(e);break}e===this&&(n=!0)}}),l(r)},l.fn.not=function(e){var n=[];return this.each(function(){var t=l(e,this.parentNode);-1===l.inArray(this,t)&&n.push(this)}),l(n)},l.fn.parent=function(){var t,e=[];return this.each(function(){(t=this===h.documentElement?h:this.parentNode)&&11!==t.nodeType&&e.push(t)}),l(e)},l.fn.prepend=function(r){return"string"!=typeof r&&void 0===r.nodeType||(r=l(r)),this.each(function(t){for(var e=0,n=r.length;e<n;e++){var i=0<t?r[e].cloneNode(!0):r[e];this.firstChild?this.insertBefore(i,this.firstChild):this.appendChild(i)}})},l.fn.prev=function(){var r=[];return this.each(function(){for(var t,e,n,i=(t=l(this.parentNode)[0].childNodes).length-1;0<=i;i--){if(e=t.item(i),n&&1===e.nodeType){r.push(e);break}e===this&&(n=!0)}}),l(r)},l.fn.prevAll=function(){var e=[];return this.each(function(){for(var t=l(this).prev();t.length;)e.push(t[0]),t=t.prev()}),l(e)},l.fn.removeAttr=function(t){return this.each(function(){this.removeAttribute(t)})},l.fn.removeClass=function(t){var r=t.replace(/^\s+|\s+$/g,"").split(" ");return this.each(function(){for(var t,e,n=0,i=r.length;n<i;n++)void 0!==this.className&&(e=new RegExp("(^|\\s)"+r[n]+"($|\\s)","gmi"),t=this.className.replace(e," "),this.className=t.replace(/^\s+|\s+$/g,""))})},l.fn.remove=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})},l.fn.replaceWith=function(a){"string"==typeof a&&(a=l(a));var s=[];return 1<a.length&&(a=a.reverse()),this.each(function(t){var e,n=this.cloneNode(!0);if(s.push(n),this.parentNode)if(1===a.length)e=0<t?a[0].cloneNode(!0):a[0],this.parentNode.replaceChild(e,this);else{for(var i=0,r=a.length;i<r;i++)e=0<t?a[i].cloneNode(!0):a[i],this.parentNode.insertBefore(e,this.nextSibling);this.parentNode.removeChild(this)}}),l(s)},l.fn.siblings=function(){if(!this.length)return l([]);for(var t=[],e=this[0].parentNode.firstChild;1===e.nodeType&&e!==this[0]&&t.push(e),e=e.nextSibling;);return l(t)};var f=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=f(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=f(e);return n};function u(t,e,n){var i=this.shoestringData.events[t];if(i&&i.length){var r,a,s=[];for(r=0,a=i.length;r<a;r++)e&&e!==i[r].namespace||void 0!==n&&n!==i[r].originalCallback||(this.removeEventListener(t,i[r].callback,!1),s.push(r));for(r=0,a=s.length;r<a;r++)this.shoestringData.events[t].splice(r,1)}}function d(t,e){for(var n in this.shoestringData.events)u.call(this,n,t,e)}return l.fn.text=function(){return f(this)},l.fn.val=function(s){var t;return void 0!==s?this.each(function(){if("SELECT"===this.tagName){var t,e,n,i=this.options,r=[],a=i.length;for(r[0]=s;a--;)((e=i[a]).selected=0<=l.inArray(e.value,r))&&(t=!0,n=a);this.selectedIndex=t?n:-1}else this.value=s}):"SELECT"===(t=this[0]).tagName?t.selectedIndex<0?"":t.options[t.selectedIndex].value:t.value},l._dimension=function(t,e,n){var i;return void 0===n?(i=e.replace(/^[a-z]/,function(t){return t.toUpperCase()}),t[0]["offset"+i]):(n="string"==typeof n?n:n+"px",t.each(function(){this.style[e]=n}))},l.fn.width=function(t){return l._dimension(this,"width",t)},l.fn.wrapInner=function(e){return this.each(function(){var t=this.innerHTML;this.innerHTML="",l(this).append(l(e).html(t))})},l.fn.bind=function(t,s,d){"function"==typeof s&&(d=s,s=null);var p=t.split(" ");function g(t,e,n){var i;if(!t._namespace||t._namespace===e){t.data=s,t.namespace=t._namespace;var r=function(){return!0};t.isDefaultPrevented=function(){return!1};var a=t.preventDefault;return t.target=n||t.target||t.srcElement,t.preventDefault=a?function(){t.isDefaultPrevented=r,a.call(t)}:function(){t.isDefaultPrevented=r,t.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){t.cancelBubble=!0},!1===(i=d.apply(this,[t].concat(t._args)))&&(t.preventDefault(),t.stopPropagation()),i}}return this.each(function(){for(var t,e,n,i,r,a,s,o=this,h=0,l=p.length;h<l;h++){var c=p[h].split("."),f=c[0],u=0<c.length?c[1]:null;t=function(t){return o.ssEventTrigger&&(t._namespace=o.ssEventTrigger._namespace,t._args=o.ssEventTrigger._args,o.ssEventTrigger=null),g.call(o,t,u)},null,s=f,(a=this).shoestringData||(a.shoestringData={}),a.shoestringData.events||(a.shoestringData.events={}),a.shoestringData.loop||(a.shoestringData.loop={}),a.shoestringData.events[s]||(a.shoestringData.events[s]=[]),this.addEventListener(f,t,!1),e=this,n=f,r=void 0,(r={}).isCustomEvent=(i={callfunc:t,isCustomEvent:!1,customEventLoop:null,originalCallback:d,namespace:u}).isCustomEvent,r.callback=i.callfunc,r.originalCallback=i.originalCallback,r.namespace=i.namespace,e.shoestringData.events[n].push(r),i.customEventLoop&&(e.shoestringData.loop[n]=i.customEventLoop)}})},l.fn.on=l.fn.bind,l.fn.unbind=function(t,a){var s=t?t.split(" "):[];return this.each(function(){if(this.shoestringData&&this.shoestringData.events)if(s.length)for(var t,e,n,i=0,r=s.length;i<r;i++)e=(t=s[i].split("."))[0],n=0<t.length?t[1]:null,e?u.call(this,e,n,a):d.call(this,n,a);else d.call(this)})},l.fn.off=l.fn.unbind,l.fn.one=function(t,a){var s=t.split(" ");return this.each(function(){for(var t,i={},e=l(this),n=0,r=s.length;n<r;n++)t=s[n],i[t]=function(t){var e=l(this);for(var n in i)e.unbind(n,i[n]);return a.apply(this,[t].concat(t._args))},e.bind(t,i[t])})},l.fn.triggerHandler=function(t,e){var n,i=t.split(" ")[0],r=this[0];if(h.createEvent&&r.shoestringData&&r.shoestringData.events&&r.shoestringData.events[i]){var a=r.shoestringData.events[i];for(var s in a)a.hasOwnProperty(s)&&((t=h.createEvent("Event")).initEvent(i,!0,!0),(t._args=e).unshift(t),n=a[s].originalCallback.apply(t.target,e))}return n},l.fn.trigger=function(t,s){var o=t.split(" ");return this.each(function(){for(var t,e,n,i=0,r=o.length;i<r;i++){if(e=(t=o[i].split("."))[0],n=0<t.length?t[1]:null,"click"===e&&"INPUT"===this.tagName&&"checkbox"===this.type&&this.click)return this.click(),!1;if(h.createEvent){var a=h.createEvent("Event");a.initEvent(e,!0,!0),a._args=s,a._namespace=n,this.dispatchEvent(a)}}})},l}),function(e,n){"function"==typeof define&&define.amd?define(["shoestring"],function(t){return e.Tablesaw=n(t,e)}):"object"==typeof exports?module.exports=n(require("shoestring"),e):e.Tablesaw=n(shoestring,e)}("undefined"!=typeof window?window:this,function(l,c){"use strict";var f=c.document,e=/complete|loaded/.test(f.readyState);f.addEventListener("DOMContentLoaded",function(){e=!0});var t,i,r,n,a,s,o,u={i18n:{modeStack:"Stack",modeSwipe:"Swipe",modeToggle:"Toggle",modeSwitchColumnsAbbreviated:"Cols",modeSwitchColumns:"Columns",columnToggleButton:"Columns",columnToggleError:"No eligible columns.",sort:"Sort",swipePreviousColumn:"Previous column",swipeNextColumn:"Next column"},mustard:"head"in f&&(!c.blackberry||c.WebKitPoint)&&!c.operamini,$:l,_init:function(t){u.$(t||f).trigger("enhance.tablesaw")},init:function(t){(e=e||/complete|loaded/.test(f.readyState))?u._init(t):"addEventListener"in f&&f.addEventListener("DOMContentLoaded",function(){u._init(t)})}};return l(f).on("enhance.tablesaw",function(){"undefined"!=typeof TablesawConfig&&TablesawConfig.i18n&&(u.i18n=l.extend(u.i18n,TablesawConfig.i18n||{})),u.i18n.modes=[u.i18n.modeStack,u.i18n.modeSwipe,u.i18n.modeToggle]}),u.mustard&&l(f.documentElement).addClass("tablesaw-enhanced"),function(){var n="tablesaw",i="tablesaw-bar",e={create:"tablesawcreate",destroy:"tablesawdestroy",refresh:"tablesawrefresh",resize:"tablesawresize"},r={};u.events=e;var t=function(t){if(!t)throw new Error("Tablesaw requires an element.");this.table=t,this.$table=l(t),this.$thead=this.$table.children().filter("thead").eq(0),this.$tbody=this.$table.children().filter("tbody"),this.mode=this.$table.attr("data-tablesaw-mode")||"stack",this.$toolbar=null,this.attributes={subrow:"data-tablesaw-subrow",ignorerow:"data-tablesaw-ignorerow"},this.init()};t.prototype.init=function(){if(!this.$thead.length)throw new Error("tablesaw: a <thead> is required, but none was found.");if(!this.$thead.find("th").length)throw new Error("tablesaw: no header cells found. Are you using <th> inside of <thead>?");this.$table.attr("id")||this.$table.attr("id",n+"-"+Math.round(1e4*Math.random())),this.createToolbar(),this._initCells(),this.$table.data(n,this),this.$table.trigger(e.create,[this])},t.prototype.getConfig=function(t){var e=l.extend(r,t||{});return l.extend(e,"undefined"!=typeof TablesawConfig?TablesawConfig:{})},t.prototype._getPrimaryHeaderRow=function(){return this._getHeaderRows().eq(0)},t.prototype._getHeaderRows=function(){return this.$thead.children().filter("tr").filter(function(){return!l(this).is("[data-tablesaw-ignorerow]")})},t.prototype._getRowIndex=function(t){return t.prevAll().length},t.prototype._getHeaderRowIndeces=function(){var t=this,e=[];return this._getHeaderRows().each(function(){e.push(t._getRowIndex(l(this)))}),e},t.prototype._getPrimaryHeaderCells=function(t){return(t||this._getPrimaryHeaderRow()).find("th")},t.prototype._$getCells=function(t){var i=this;return l(t).add(t.cells).filter(function(){var t=l(this),e=t.parent(),n=t.is("[colspan]");return!(e.is("["+i.attributes.subrow+"]")||e.is("["+i.attributes.ignorerow+"]")&&n)})},t.prototype._getVisibleColspan=function(){var e=0;return this._getPrimaryHeaderCells().each(function(){var t=l(this);"none"!==t.css("display")&&(e+=parseInt(t.attr("colspan"),10)||1)}),e},t.prototype.getColspanForCell=function(t){var e=this._getVisibleColspan(),n=0;return t.closest("tr").data("tablesaw-rowspanned")&&n++,t.siblings().each(function(){var t=l(this),e=parseInt(t.attr("colspan"),10)||1;"none"!==t.css("display")&&(n+=e)}),e-n},t.prototype.isCellInColumn=function(t,e){return l(t).add(t.cells).filter(function(){return this===e}).length},t.prototype.updateColspanCells=function(i,r,a){var s=this,t=s._getPrimaryHeaderRow();this.$table.find("[rowspan][data-tablesaw-priority]").each(function(){var t=l(this);if("persist"===t.attr("data-tablesaw-priority")){var e=t.closest("tr"),n=parseInt(t.attr("rowspan"),10);1<n&&((e=e.next()).data("tablesaw-rowspanned",!0),n--)}}),this.$table.find("[colspan],[data-tablesaw-maxcolspan]").filter(function(){return l(this).closest("tr")[0]!==t[0]}).each(function(){var t=l(this);if(void 0===a||s.isCellInColumn(r,this)){var e=s.getColspanForCell(t);i&&void 0!==a&&t[0===e?"addClass":"removeClass"](i);var n=parseInt(t.attr("data-tablesaw-maxcolspan"),10);n?n<e&&(e=n):t.attr("data-tablesaw-maxcolspan",t.attr("colspan")),t.attr("colspan",e)}})},t.prototype._findPrimaryHeadersForCell=function(t){for(var e=this._getPrimaryHeaderRow(),n=this._getRowIndex(e),i=[],r=0;r<this.headerMapping.length;r++)if(r!==n)for(var a=0;a<this.headerMapping[r].length;a++)this.headerMapping[r][a]===t&&i.push(this.headerMapping[n][a]);return i},t.prototype.getRows=function(){var t=this;return this.$table.find("tr").filter(function(){return l(this).closest("table").is(t.$table)})},t.prototype.getBodyRows=function(t){return(t?l(t):this.$tbody).children().filter("tr")},t.prototype.getHeaderCellIndex=function(t){for(var e=this.headerMapping[0],n=0;n<e.length;n++)if(e[n]===t)return n;return-1},t.prototype._initCells=function(){this.$table.find("[data-tablesaw-maxcolspan]").each(function(){var t=l(this);t.attr("colspan",t.attr("data-tablesaw-maxcolspan"))});var t=this.getRows(),s=[];t.each(function(t){s[t]=[]}),t.each(function(r){var a=0;l(this).children().each(function(){for(var t=parseInt(this.getAttribute("data-tablesaw-maxcolspan")||this.getAttribute("colspan"),10),e=parseInt(this.getAttribute("rowspan"),10);s[r][a];)a++;if(s[r][a]=this,t)for(var n=0;n<t-1;n++)a++,s[r][a]=this;if(e)for(var i=1;i<e;i++)s[r+i][a]=this;a++})});for(var e=this._getHeaderRowIndeces(),n=0;n<s[0].length;n++)for(var i=0,r=e.length;i<r;i++){var a,o=s[e[i]][n],h=e[i];for(o.cells||(o.cells=[]);h<s.length;)o!==(a=s[h][n])&&o.cells.push(a),h++}this.headerMapping=s},t.prototype.refresh=function(){this._initCells(),this.$table.trigger(e.refresh,[this])},t.prototype._getToolbarAnchor=function(){var t=this.$table.parent();return t.is(".tablesaw-overflow")?t:this.$table},t.prototype._getToolbar=function(t){return t||(t=this._getToolbarAnchor()),t.prev().filter("."+i)},t.prototype.createToolbar=function(){var t=this._getToolbarAnchor(),e=this._getToolbar(t);e.length||(e=l("<div>").addClass(i).insertBefore(t)),this.$toolbar=e,this.mode&&this.$toolbar.addClass("tablesaw-mode-"+this.mode)},t.prototype.destroy=function(){this._getToolbar().each(function(){this.className=this.className.replace(/\btablesaw-mode\-\w*\b/gi,"")});var t=this.$table.attr("id");l(f).off("."+t),l(c).off("."+t),this.$table.trigger(e.destroy,[this]),this.$table.removeData(n)},l.fn[n]=function(){return this.each(function(){l(this).data(n)||new t(this)})};var a=l(f);a.on("enhance.tablesaw",function(t){if(u.mustard){var e=l(t.target);e.parent().length&&(e=e.parent()),e.find("table").filter("[data-tablesaw],[data-tablesaw-mode],[data-tablesaw-sortable]")[n]()}});var s,o,h=!1;a.on("scroll.tablesaw",function(){h=!0,c.clearTimeout(s),s=c.setTimeout(function(){h=!1},300)}),l(c).on("resize",function(){h||(c.clearTimeout(o),o=c.setTimeout(function(){a.trigger(e.resize)},150))}),u.Table=t}(),i="tablesaw-cell-label",r="tablesaw-cell-content",n=t="tablesaw-stack",a="data-tablesaw-no-labels",s="data-tablesaw-hide-empty",(o=function(t,e){this.tablesaw=e,this.$table=l(t),this.labelless=this.$table.is("["+a+"]"),this.hideempty=this.$table.is("["+s+"]"),this.$table.data(n,this)}).prototype.init=function(){if(this.$table.addClass(t),!this.labelless){var n=this;this.$table.find("th, td").filter(function(){return!l(this).closest("thead").length}).filter(function(){return!(l(this).is("["+a+"]")||l(this).closest("tr").is("["+a+"]")||n.hideempty&&!l(this).html())}).each(function(){var s=l(f.createElement("b")).addClass(i),t=l(this);l(n.tablesaw._findPrimaryHeadersForCell(this)).each(function(t){var e=l(this.cloneNode(!0)),n=e.find(".tablesaw-sortable-btn");e.find(".tablesaw-sortable-arrow").remove();var i=e.find("[data-tablesaw-checkall]");if(i.closest("label").remove(),i.length)s=l([]);else{0<t&&s.append(f.createTextNode(", "));for(var r,a=n.length?n[0]:e[0];r=a.firstChild;)s[0].appendChild(r)}}),s.length&&!t.find("."+r).length&&t.wrapInner("<span class='"+r+"'></span>");var e=t.find("."+i);e.length?e.replaceWith(s):(t.prepend(f.createTextNode(" ")),t.prepend(s))})}},o.prototype.destroy=function(){this.$table.removeClass(t),this.$table.find("."+i).remove(),this.$table.find("."+r).each(function(){l(this).replaceWith(l(this.childNodes))})},l(f).on(u.events.create,function(t,e){"stack"===e.mode&&new o(e.table,e).init()}).on(u.events.refresh,function(t,e){"stack"===e.mode&&l(e.table).data(n).init()}).on(u.events.destroy,function(t,e){"stack"===e.mode&&l(e.table).data(n).destroy()}),u.Stack=o,u});