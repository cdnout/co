/*! jquery-scrollpanel v1.1.1 - https://larsjung.de/jquery-scrollpanel/ */
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}var WIN=window,JQ=WIN.jQuery,$WIN=JQ(WIN),NAME="scrollpanel",DEFAULTS={prefix:"sp-"},ScrollPanel=function(){function n(e,t){_classCallCheck(this,n);var r=this;r.settings=JQ.extend({},DEFAULTS,t);var o=r.settings.prefix;r.$el=JQ(e),r.mouse_off_y=0,r.interval_id=0,r.scroll_proxy=function(e){return r.scroll(e)},r.$el.css("position")&&"static"!==r.$el.css("position")||r.$el.css("position","relative"),r.$bar=JQ('<div class="'.concat(o,'scrollbar"/>')),r.$thumb=JQ('<div class="'.concat(o,'thumb"/>')).appendTo(r.$bar),r.$el.addClass("".concat(o,"host")).wrapInner('<div class="'.concat(o,'viewport"><div class="').concat(o,'container"/></div>')).append(r.$bar),r.$viewport=r.$el.find("> .".concat(o,"viewport")),r.$container=r.$viewport.find("> .".concat(o,"container")),r.$el.on("mousewheel",function(e,t,o,n){r.$viewport.scrollTop(r.$viewport.scrollTop()-50*n),r.update(),e.preventDefault(),e.stopPropagation()}).on("scroll",function(){r.update()}),r.$viewport.css({paddingRight:r.$bar.outerWidth(!0),height:r.$el.height(),overflow:"hidden"}),r.$container.css({overflow:"hidden"}),r.$bar.css({position:"absolute",top:0,right:0,overflow:"hidden"}).on("mousedown",function(e){r.mouse_off_y=r.$thumb.outerHeight()/2,r.on_mouse_down(e)}).each(function(){r.onselectstart=function(){return!1}}),r.$thumb.css({position:"absolute",left:0,width:"100%"}).on("mousedown",function(e){r.mouse_off_y=e.pageY-r.$thumb.offset().top,r.on_mouse_down(e)}),r.update(),r.update()}return _createClass(n,[{key:"update",value:function(e){var t=this;t.interval_id&&!e?(WIN.clearInterval(t.interval_id),t.interval_id=0):!t.interval_id&&e&&(t.interval_id=WIN.setInterval(function(){t.update(!0)},50)),t.$viewport.css("height",t.$el.height());var o=t.$el.height(),n=t.$container.outerHeight(),r=t.$viewport.scrollTop()/n,i=Math.min(o/n,1),a=t.$bar.height();i<1?(t.$bar.css({height:t.$el.innerHeight()+a-t.$bar.outerHeight(!0)}).fadeIn(50),t.$thumb.css({top:a*r,height:a*i})):t.$bar.fadeOut(50)}},{key:"scroll",value:function(e){var t=this,o=(e.pageY-t.$bar.offset().top-t.mouse_off_y)/t.$bar.height();t.$viewport.scrollTop(t.$container.outerHeight()*o),t.update(),e.preventDefault(),e.stopPropagation()}},{key:"on_mouse_down",value:function(e){var t=this;t.scroll(e),t.$bar.addClass("active"),$WIN.on("mousemove",t.scroll_proxy).one("mouseup",function(e){t.$bar.removeClass("active"),$WIN.off("mousemove",t.scroll_proxy),t.scroll(e)})}}]),n}();JQ.fn[NAME]=function(r,i){return this.each(function(e,t){var o=JQ(t),n=o.data(NAME);n||(n=new ScrollPanel(t,r),o.data(NAME,n)),"update"===r&&n.update(i)})};