import{h,render}from"preact";var Empty=function(){return null},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function register(e,t,n){var r=function(t){function r(){_classCallCheck(this,r);var t=Reflect.construct(HTMLElement,[],r);return t._vdomComponent=e,t}return _inherits(r,HTMLElement),_createClass(r,[{key:"connectedCallback",value:function(){renderElement.apply(this)}},{key:"attributeChangedCallback",value:function(){renderElement.apply(this)}},{key:"detachedCallback",value:function(){unRenderElement.apply(this)}}],[{key:"observedAttributes",get:function(){return n}}]),r}();return window.customElements.define(t||e.displayName||e.name,r)}function renderElement(){this._root=render(toVdom(this,this._vdomComponent),this,this._root)}function unRenderElement(){render(h(Empty),this,this._root)}function toVdom(e,t){if(3===e.nodeType)return e.nodeValue;if(1!==e.nodeType)return null;var n=[],r={},o=0,a=e.attributes,i=e.childNodes;for(o=a.length;o--;)r[a[o].name]=a[o].value;for(o=i.length;o--;)n[o]=toVdom(i[o]);return h(t||e.nodeName.toLowerCase(),r,n)}export default register;