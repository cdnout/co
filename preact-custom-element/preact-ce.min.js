var preact=require("preact"),Empty=function(){return null},_createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function register(t,e,n){var r=(_inherits(o,HTMLElement),_createClass(o,[{key:"connectedCallback",value:function(){renderElement.apply(this)}},{key:"attributeChangedCallback",value:function(){renderElement.apply(this)}},{key:"detachedCallback",value:function(){unRenderElement.apply(this)}}],[{key:"observedAttributes",get:function(){return n}}]),o);function o(){_classCallCheck(this,o);var e=Reflect.construct(HTMLElement,[],o);return e._vdomComponent=t,e}return window.customElements.define(e||t.displayName||t.name,r)}function renderElement(){this._root=preact.render(toVdom(this,this._vdomComponent),this,this._root)}function unRenderElement(){preact.render(preact.h(Empty),this,this._root)}function toVdom(e,t){if(3===e.nodeType)return e.nodeValue;if(1!==e.nodeType)return null;for(var n=[],r={},o=0,a=e.attributes,l=e.childNodes,o=a.length;o--;)r[a[o].name]=a[o].value;for(o=l.length;o--;)n[o]=toVdom(l[o]);return preact.h(t||e.nodeName.toLowerCase(),r,n)}module.exports=register;