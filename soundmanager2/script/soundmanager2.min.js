!function(pt,mt){"use strict";if(!pt||!pt.document)throw new Error("SoundManager requires a browser with window and document objects.");var e=null;function o(e,t){this.setupOptions={url:e||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onerror:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,playbackRate:1,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={onfailure:null,isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1},flac:{type:["audio/flac"],required:!1}},this.movieID="sm2-container",this.id=t||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20170601",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var r,y,o,n,w,g,v,b,i,O,l,u,a,s,d,f,c,h,D,p,M,m,_,L,T,P,S,F,I,H,A,E,R,k,C,x,N,U,B,W,j,q,V,Q,K,$,G,J,X,z,Z,Y,ee,te,oe,ne,ie,ae,se,re,le,ue,de,fe,ce,he,pe,me=this,_e=null,ge=null,ye="soundManager",we=ye+": ",ve="HTML5::",be=navigator.userAgent,Oe=pt.location.href.toString(),De=document,Me=[],Le=!0,Te=!1,Pe=!1,Se=!1,Fe=!1,Ie=!1,He=0,Ae=["log","info","warn","error"],Ee=null,Re=null,ke=!1,Ce=!1,xe=0,Ne=null,Ue=[],Be=null,We=Array.prototype.slice,je=!1,qe=0,Ve=1e3,Qe=be.match(/(ipad|iphone|ipod)/i),Ke=be.match(/android/i),$e=be.match(/msie|trident/i),Ge=be.match(/webkit/i),Je=be.match(/safari/i)&&!be.match(/chrome/i),Xe=be.match(/opera/i),ze=be.match(/(mobile|pre\/|xoom)/i)||Qe||Ke,Ze=!Oe.match(/usehtml5audio/i)&&!Oe.match(/sm2-ignorebadua/i)&&Je&&!be.match(/silk/i)&&be.match(/OS\sX\s10_6_([3-7])/i),Ye=pt.console!==mt&&console.log!==mt,et=De.hasFocus!==mt?De.hasFocus():null,tt=Je&&(De.hasFocus===mt||!De.hasFocus()),ot=!tt,nt=/(mp3|mp4|mpa|m4a|m4b)/i,it="about:blank",at=De.location?De.location.protocol.match(/http/i):null,st=at?"":"//",rt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,lt=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],ut=new RegExp("\\.("+lt.join("|")+")(\\?.*)?$","i");function dt(e){return me.preferFlash&&ae&&!me.ignoreFlash&&me.flash[e]!==mt&&me.flash[e]}function ft(e){var t=We.call(e),o=t.length;return he?(t[1]="on"+t[1],3<o&&t.pop()):3===o&&t.push(!1),t}function ct(e,t){var o=e.shift(),n=[pe[t]];he?o[n](e[0],e[1]):o[n].apply(o,e)}function ht(n){return function(e){var t=this._s,o=t&&t._a?n.call(this,e):(t&&t.id?me._wD(t.id+": Ignoring "+e.type):me._wD(ve+"Ignoring "+e.type),null);return o}}this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!at,N={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},Z=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"],this.hasHTML5=function(){try{return Audio!==mt&&(Xe&&opera!==mt&&opera.version()<10?new Audio(null):new Audio).canPlayType!==mt}catch(e){return!1}}(),this.setup=function(e){var t=!me.url;return e!==mt&&Se&&Be&&me.ok()&&(e.flashVersion!==mt||e.url!==mt||e.html5Test!==mt)&&j(k("setupLate")),l(e),je||(ze?me.setupOptions.ignoreMobileRestrictions&&!me.setupOptions.forceUseGlobalHTML5Audio||(Ue.push(M.globalHTML5),je=!0):me.setupOptions.forceUseGlobalHTML5Audio&&(Ue.push(M.globalHTML5),je=!0)),!ce&&ze&&(me.setupOptions.ignoreMobileRestrictions?Ue.push(M.ignoreMobile):(me.setupOptions.useHTML5Audio&&!me.setupOptions.preferFlash||me._wD(M.mobileUA),me.setupOptions.useHTML5Audio=!0,me.setupOptions.preferFlash=!1,Qe?me.ignoreFlash=!0:(!Ke||be.match(/android\s2\.3/i))&&Ke||(me._wD(M.globalHTML5),je=!0))),e&&(t&&T&&e.url!==mt&&me.beginDelayedInit(),T||e.url===mt||"complete"!==De.readyState||setTimeout(_,1)),ce=!0,me},this.ok=function(){return Be?Se&&!Fe:me.useHTML5Audio&&me.hasHTML5},this.supported=this.ok,this.getMovie=function(e){return y(e)||De[e]||pt[e]},this.createSound=function(e,t){var o,n=null,i=ye+".createSound(): ",a=i+k(Se?"notOK":"notReady");if(!Se||!me.ok())return j(a),!1;if(t!==mt&&(e={id:e,url:t}),(o=O(e)).url=$(o.url),o.id===mt&&(o.id=me.setupOptions.idPrefix+qe++),o.id.toString().charAt(0).match(/^[0-9]$/)&&me._wD(i+k("badID",o.id),2),me._wD(i+o.id+(o.url?" ("+o.url+")":""),1),q(o.id,!0))return me._wD(i+o.id+" exists",1),me.sounds[o.id];function s(){return o=B(o),me.sounds[o.id]=new r(o),me.soundIDs.push(o.id),me.sounds[o.id]}if(X(o))n=s(),me.html5Only||me._wD(o.id+": Using HTML5"),n._setup_html5(o);else{if(me.html5Only)return me._wD(o.id+": No HTML5 support for this sound, and no Flash. Exiting."),s();if(me.html5.usingFlash&&o.url&&o.url.match(/data:/i))return me._wD(o.id+": data: URIs not supported via Flash. Exiting."),s();8<g&&(null===o.isMovieStar&&(o.isMovieStar=!!(o.serverURL||o.type&&o.type.match(rt)||o.url&&o.url.match(ut))),o.isMovieStar&&(me._wD(i+"using MovieStar handling"),1<o.loops&&b("noNSLoop"))),o=W(o,i),n=s(),8===g?ge._createSound(o.id,o.loops||1,o.usePolicyFile):(ge._createSound(o.id,o.url,o.usePeakData,o.useWaveformData,o.useEQData,o.isMovieStar,!!o.isMovieStar&&o.bufferTime,o.loops||1,o.serverURL,o.duration||null,o.autoPlay,!0,o.autoLoad,o.usePolicyFile),o.serverURL||(n.connected=!0,o.onconnect&&o.onconnect.apply(n))),o.serverURL||!o.autoLoad&&!o.autoPlay||n.load(o)}return!o.serverURL&&o.autoPlay&&n.play(),n},this.destroySound=function(e,t){if(!q(e))return!1;var o,n=me.sounds[e];for(n.stop(),n._iO={},n.unload(),o=0;o<me.soundIDs.length;o++)if(me.soundIDs[o]===e){me.soundIDs.splice(o,1);break}return t||n.destruct(!0),n=null,delete me.sounds[e],!0},this.load=function(e,t){return!!q(e)&&me.sounds[e].load(t)},this.unload=function(e){return!!q(e)&&me.sounds[e].unload()},this.onPosition=function(e,t,o,n){return!!q(e)&&me.sounds[e].onposition(t,o,n)},this.onposition=this.onPosition,this.clearOnPosition=function(e,t,o){return!!q(e)&&me.sounds[e].clearOnPosition(t,o)},this.play=function(e,t){var o=null,n=t&&!(t instanceof Object);if(!Se||!me.ok())return j(ye+".play(): "+k(Se?"notOK":"notReady")),!1;if(q(e,n))n&&(t={url:t});else{if(!n)return!1;n&&(t={url:t}),t&&t.url&&(me._wD(ye+'.play(): Attempting to create "'+e+'"',1),t.id=e,o=me.createSound(t).play())}return null===o&&(o=me.sounds[e].play(t)),o},this.start=this.play,this.setPlaybackRate=function(e,t,o){return!!q(e)&&me.sounds[e].setPlaybackRate(t,o)},this.setPosition=function(e,t){return!!q(e)&&me.sounds[e].setPosition(t)},this.stop=function(e){return!!q(e)&&(me._wD(ye+".stop("+e+")",1),me.sounds[e].stop())},this.stopAll=function(){var e;for(e in me._wD(ye+".stopAll()",1),me.sounds)me.sounds.hasOwnProperty(e)&&me.sounds[e].stop()},this.pause=function(e){return!!q(e)&&me.sounds[e].pause()},this.pauseAll=function(){for(var e=me.soundIDs.length-1;0<=e;e--)me.sounds[me.soundIDs[e]].pause()},this.resume=function(e){return!!q(e)&&me.sounds[e].resume()},this.resumeAll=function(){for(var e=me.soundIDs.length-1;0<=e;e--)me.sounds[me.soundIDs[e]].resume()},this.togglePause=function(e){return!!q(e)&&me.sounds[e].togglePause()},this.setPan=function(e,t){return!!q(e)&&me.sounds[e].setPan(t)},this.setVolume=function(e,t){var o,n;if(e===mt||isNaN(e)||t!==mt)return!!q(e)&&me.sounds[e].setVolume(t);for(o=0,n=me.soundIDs.length;o<n;o++)me.sounds[me.soundIDs[o]].setVolume(e);return!1},this.mute=function(e){var t=0;if(e instanceof String&&(e=null),e)return!!q(e)&&(me._wD(ye+'.mute(): Muting "'+e+'"'),me.sounds[e].mute());for(me._wD(ye+".mute(): Muting all sounds"),t=me.soundIDs.length-1;0<=t;t--)me.sounds[me.soundIDs[t]].mute();return me.muted=!0},this.muteAll=function(){me.mute()},this.unmute=function(e){var t;if(e instanceof String&&(e=null),e)return!!q(e)&&(me._wD(ye+'.unmute(): Unmuting "'+e+'"'),me.sounds[e].unmute());for(me._wD(ye+".unmute(): Unmuting all sounds"),t=me.soundIDs.length-1;0<=t;t--)me.sounds[me.soundIDs[t]].unmute();return!(me.muted=!1)},this.unmuteAll=function(){me.unmute()},this.toggleMute=function(e){return!!q(e)&&me.sounds[e].toggleMute()},this.getMemoryUse=function(){var e=0;return ge&&8!==g&&(e=parseInt(ge._getMemoryUse(),10)),e},this.disable=function(e){var t;if(e===mt&&(e=!1),Fe)return!1;for(Fe=!0,b("shutdown",1),t=me.soundIDs.length-1;0<=t;t--)A(me.sounds[me.soundIDs[t]]);return A(me),i(e),ne.remove(pt,"load",d),!0},this.canPlayMIME=function(e){var t;return me.hasHTML5&&(t=z({type:e})),!t&&Be&&(t=e&&me.ok()?!!(8<g&&e.match(rt)||e.match(me.mimePattern)):null),t},this.canPlayURL=function(e){var t;return me.hasHTML5&&(t=z({url:e})),!t&&Be&&(t=e&&me.ok()?!!e.match(me.filePattern):null),t},this.canPlayLink=function(e){return!(e.type===mt||!e.type||!me.canPlayMIME(e.type))||me.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)return null;var o=me.sounds[e];return o||t||me._wD(ye+'.getSoundById(): Sound "'+e+'" not found.',2),o},this.onready=function(e,t){var o="onready";if("function"!=typeof e)throw k("needFunction",o);return Se&&me._wD(k("queue",o)),a(o,e,t=t||pt),s(),!0},this.ontimeout=function(e,t){var o="ontimeout";if("function"!=typeof e)throw k("needFunction",o);return Se&&me._wD(k("queue",o)),a(o,e,t=t||pt),s({type:o}),!0},this._writeDebug=function(e,t){var o,n;return!!me.setupOptions.debugMode&&(!!(Ye&&me.useConsole&&(t&&"object"==typeof t?console.log(e,t):Ae[t]!==mt?console[Ae[t]](e):console.log(e),me.consoleOnly))||!!(o=y("soundmanager-debug"))&&(n=De.createElement("div"),++He%2==0&&(n.className="sm2-alt"),t=t===mt?0:parseInt(t,10),n.appendChild(De.createTextNode(e)),t&&(2<=t&&(n.style.fontWeight="bold"),3===t&&(n.style.color="#ff3333")),o.insertBefore(n,o.firstChild),!(o=null)))},-1!==Oe.indexOf("sm2-debug=alert")&&(this._writeDebug=function(e){pt.alert(e)}),this._wD=this._writeDebug,this._debug=function(){var e,t;for(b("currentObj",1),e=0,t=me.soundIDs.length;e<t;e++)me.sounds[me.soundIDs[e]]._debug()},this.reboot=function(e,t){var o,n,i;for(me.soundIDs.length&&me._wD("Destroying "+me.soundIDs.length+" SMSound object"+(1!==me.soundIDs.length?"s":"")+"..."),o=me.soundIDs.length-1;0<=o;o--)me.sounds[me.soundIDs[o]].destruct();if(ge)try{$e&&(Re=ge.innerHTML),Ee=ge.parentNode.removeChild(ge)}catch(e){b("badRemove",2)}if(Re=Ee=Be=ge=null,me.enabled=T=Se=ke=Ce=Te=Pe=Fe=je=me.swfLoaded=!1,me.soundIDs=[],me.sounds={},qe=0,ce=!1,e)Me=[];else for(o in Me)if(Me.hasOwnProperty(o))for(n=0,i=Me[o].length;n<i;n++)Me[o][n].fired=!1;return t||me._wD(ye+": Rebooting..."),me.html5={usingFlash:null},me.flash={},me.html5Only=!1,me.ignoreFlash=!1,pt.setTimeout(function(){t||me.beginDelayedInit()},20),me},this.reset=function(){return b("reset"),me.reboot(!0,!0)},this.getMoviePercent=function(){return ge&&"PercentLoaded"in ge?ge.PercentLoaded():null},this.beginDelayedInit=function(){Ie=!0,_(),setTimeout(function(){return!Ce&&(S(),m(),Ce=!0)},20),f()},this.destruct=function(){me._wD(ye+".destruct()"),me.disable(!0)},r=function(e){var a,s,t,n,u,d,i,f,c,h=this,p=!1,r=[],l=0,m=null,_={duration:null,time:null};this.id=e.id,this.sID=this.id,this.url=e.url,this.options=O(e),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,c=!this.url,this.id3={},this._debug=function(){me._wD(h.id+": Merged options:",h.options)},this.load=function(e){var t;if(e!==mt?h._iO=O(e,h.options):(e=h.options,h._iO=e,m&&m!==h.url&&(b("manURL"),h._iO.url=h.url,h.url=null)),h._iO.url||(h._iO.url=h.url),h._iO.url=$(h._iO.url),h.instanceOptions=h._iO,t=h._iO,me._wD(h.id+": load ("+t.url+")"),!t.url&&!h.url)return me._wD(h.id+": load(): url is unassigned. Exiting.",2),h;if(h.isHTML5||8!==g||h.url||t.autoPlay||me._wD(h.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),t.url===h.url&&0!==h.readyState&&2!==h.readyState)return b("onURL",1),3===h.readyState&&t.onload&&fe(h,function(){t.onload.apply(h,[!!h.duration])}),h;if(h.loaded=!1,h.readyState=1,h.playState=0,h.id3={},X(t))h._setup_html5(t)._called_load?me._wD(h.id+": Ignoring request to load again"):(h._html5_canplay=!1,h.url!==t.url&&(me._wD(b("manURL")+": "+t.url),h._a.src=t.url,h.setPosition(0)),h._a.autobuffer="auto",h._a.preload="auto",h._a._called_load=!0);else{if(me.html5Only)return me._wD(h.id+": No flash support. Exiting."),h;if(h._iO.url&&h._iO.url.match(/data:/i))return me._wD(h.id+": data: URIs not supported via Flash. Exiting."),h;try{h.isHTML5=!1,h._iO=W(B(t)),h._iO.autoPlay&&(h._iO.position||h._iO.from)&&(me._wD(h.id+": Disabling autoPlay because of non-zero offset case"),h._iO.autoPlay=!1),t=h._iO,8===g?ge._load(h.id,t.url,t.stream,t.autoPlay,t.usePolicyFile):ge._load(h.id,t.url,!!t.stream,!!t.autoPlay,t.loops||1,!!t.autoLoad,t.usePolicyFile)}catch(e){b("smError",2),v("onload",!1),F({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return h.url=t.url,h},this.unload=function(){return 0!==h.readyState&&(me._wD(h.id+": unload()"),h.isHTML5?(n(),h._a&&(h._a.pause(),m=ee(h._a))):8===g?ge._unload(h.id,it):ge._unload(h.id),a()),h},this.destruct=function(e){me._wD(h.id+": Destruct"),h.isHTML5?(n(),h._a&&(h._a.pause(),ee(h._a),je||t(),h._a._s=null,h._a=null)):(h._iO.onfailure=null,ge._destroySound(h.id)),e||me.destroySound(h.id,!0)},this.play=function(e,t){var o,n,i,a,s,r=!0,l=h.id+": play(): ";if(t=t===mt||t,e=e||{},h.url&&(h._iO.url=h.url),h._iO=O(h._iO,h.options),h._iO=O(e,h._iO),h._iO.url=$(h._iO.url),h.instanceOptions=h._iO,!h.isHTML5&&h._iO.serverURL&&!h.connected)return h.getAutoPlay()||(me._wD(l+" Netstream not connected yet - setting autoPlay"),h.setAutoPlay(!0)),h;if(X(h._iO)&&(h._setup_html5(h._iO),u()),1===h.playState&&!h.paused){if(!h._iO.multiShot)return me._wD(l+"Already playing (one-shot)",1),h.isHTML5&&h.setPosition(h._iO.position),h;me._wD(l+"Already playing (multi-shot)",1)}if(e.url&&e.url!==h.url&&(h.readyState||h.isHTML5||8!==g||!c?h.load(h._iO):c=!1),h.loaded)me._wD(l.substr(0,l.lastIndexOf(":")));else if(0===h.readyState){if(me._wD(l+"Attempting to load"),h.isHTML5||me.html5Only){if(!h.isHTML5)return me._wD(l+"Unsupported type. Exiting."),h;h.load(h._iO)}else h._iO.autoPlay=!0,h.load(h._iO);h.instanceOptions=h._iO}else{if(2===h.readyState)return me._wD(l+"Could not load - exiting",2),h;me._wD(l+"Loading - attempting to play...")}return!h.isHTML5&&9===g&&0<h.position&&h.position===h.duration&&(me._wD(l+"Sound at end, resetting to position: 0"),e.position=0),h.paused&&0<=h.position&&(!h._iO.serverURL||0<h.position)?(me._wD(l+"Resuming from paused state",1),h.resume()):(h._iO=O(e,h._iO),(!h.isHTML5&&null!==h._iO.position&&0<h._iO.position||null!==h._iO.from&&0<h._iO.from||null!==h._iO.to)&&0===h.instanceCount&&0===h.playState&&!h._iO.serverURL&&(n=function(){h._iO=O(e,h._iO),h.play(h._iO)},h.isHTML5&&!h._html5_canplay?(me._wD(l+"Beginning load for non-zero offset case"),h.load({_oncanplay:n})):h.isHTML5||h.loaded||h.readyState&&2===h.readyState||(me._wD(l+"Preloading for non-zero offset case"),h.load({onload:n})),h._iO=f()),(!h.instanceCount||h._iO.multiShotEvents||h.isHTML5&&h._iO.multiShot&&!je||!h.isHTML5&&8<g&&!h.getAutoPlay())&&h.instanceCount++,h._iO.onposition&&0===h.playState&&d(h),h.playState=1,h.paused=!1,h.position=h._iO.position===mt||isNaN(h._iO.position)?0:h._iO.position,h.isHTML5||(h._iO=W(B(h._iO))),h._iO.onplay&&t&&(h._iO.onplay.apply(h),p=!0),h.setVolume(h._iO.volume,!0),h.setPan(h._iO.pan,!0),1!==h._iO.playbackRate&&h.setPlaybackRate(h._iO.playbackRate),h.isHTML5?h.instanceCount<2?(u(),o=h._setup_html5(),h.setPosition(h._iO.position),o.play()):(me._wD(h.id+": Cloning Audio() for instance #"+h.instanceCount+"..."),i=new Audio(h._iO.url),a=function(){ne.remove(i,"ended",a),h._onfinish(h),ee(i),i=null},s=function(){ne.remove(i,"canplay",s);try{i.currentTime=h._iO.position/Ve}catch(e){j(h.id+": multiShot play() failed to apply position of "+h._iO.position/Ve)}i.play()},ne.add(i,"ended",a),h._iO.volume!==mt&&(i.volume=Math.max(0,Math.min(1,h._iO.volume/100))),h.muted&&(i.muted=!0),h._iO.position?ne.add(i,"canplay",s):i.play()):(r=ge._start(h.id,h._iO.loops||1,9===g?h.position:h.position/Ve,h._iO.multiShot||!1),9!==g||r||(me._wD(l+"No sound hardware, or 32-sound ceiling hit",2),h._iO.onplayerror&&h._iO.onplayerror.apply(h)))),h},this.start=this.play,this.stop=function(e){var t,o=h._iO;return 1===h.playState&&(me._wD(h.id+": stop()"),h._onbufferchange(0),h._resetOnPosition(0),h.paused=!1,h.isHTML5||(h.playState=0),i(),o.to&&h.clearOnPosition(o.to),h.isHTML5?h._a&&(t=h.position,h.setPosition(0),h.position=t,h._a.pause(),h.playState=0,h._onTimer(),n()):(ge._stop(h.id,e),o.serverURL&&h.unload()),h.instanceCount=0,h._iO={},o.onstop&&o.onstop.apply(h)),h},this.setAutoPlay=function(e){me._wD(h.id+": Autoplay turned "+(e?"on":"off")),h._iO.autoPlay=e,h.isHTML5||(ge._setAutoPlay(h.id,e),e&&(h.instanceCount||1!==h.readyState||(h.instanceCount++,me._wD(h.id+": Incremented instance count to "+h.instanceCount))))},this.getAutoPlay=function(){return h._iO.autoPlay},this.setPlaybackRate=function(e){var t=Math.max(.5,Math.min(4,e));if(t!==e&&me._wD(h.id+": setPlaybackRate("+e+"): limiting rate to "+t,2),h.isHTML5)try{h._iO.playbackRate=t,h._a.playbackRate=t}catch(e){me._wD(h.id+": setPlaybackRate("+t+") failed: "+e.message,2)}return h},this.setPosition=function(e){e===mt&&(e=0);var t,o,n=h.isHTML5?Math.max(e,0):Math.min(h.duration||h._iO.duration,Math.max(e,0));if(h.position=n,o=h.position/Ve,h._resetOnPosition(h.position),h._iO.position=n,h.isHTML5){if(h._a){if(h._html5_canplay){if(h._a.currentTime.toFixed(3)!==o.toFixed(3)){me._wD(h.id+": setPosition("+o+")");try{h._a.currentTime=o,0!==h.playState&&!h.paused||h._a.pause()}catch(e){me._wD(h.id+": setPosition("+o+") failed: "+e.message,2)}}}else if(o)return me._wD(h.id+": setPosition("+o+"): Cannot seek yet, sound not ready",2),h;h.paused&&h._onTimer(!0)}}else t=9===g?h.position:o,h.readyState&&2!==h.readyState&&ge._setPosition(h.id,t,h.paused||!h.playState,h._iO.multiShot);return h},this.pause=function(e){return h.paused||0===h.playState&&1!==h.readyState||(me._wD(h.id+": pause()"),h.paused=!0,h.isHTML5?(h._setup_html5().pause(),n()):!e&&e!==mt||ge._pause(h.id,h._iO.multiShot),h._iO.onpause&&h._iO.onpause.apply(h)),h},this.resume=function(){var e=h._iO;return h.paused&&(me._wD(h.id+": resume()"),h.paused=!1,h.playState=1,h.isHTML5?(h._setup_html5().play(),u()):(e.isMovieStar&&!e.serverURL&&h.setPosition(h.position),ge._pause(h.id,e.multiShot)),!p&&e.onplay?(e.onplay.apply(h),p=!0):e.onresume&&e.onresume.apply(h)),h},this.togglePause=function(){return me._wD(h.id+": togglePause()"),0===h.playState?h.play({position:9!==g||h.isHTML5?h.position/Ve:h.position}):h.paused?h.resume():h.pause(),h},this.setPan=function(e,t){return e===mt&&(e=0),t===mt&&(t=!1),h.isHTML5||ge._setPan(h.id,e),h._iO.pan=e,t||(h.pan=e,h.options.pan=e),h},this.setVolume=function(e,t){return e===mt&&(e=100),t===mt&&(t=!1),h.isHTML5?h._a&&(me.muted&&!h.muted&&(h.muted=!0,h._a.muted=!0),h._a.volume=Math.max(0,Math.min(1,e/100))):ge._setVolume(h.id,me.muted&&!h.muted||h.muted?0:e),h._iO.volume=e,t||(h.volume=e,h.options.volume=e),h},this.mute=function(){return h.muted=!0,h.isHTML5?h._a&&(h._a.muted=!0):ge._setVolume(h.id,0),h},this.unmute=function(){h.muted=!1;var e=h._iO.volume!==mt;return h.isHTML5?h._a&&(h._a.muted=!1):ge._setVolume(h.id,e?h._iO.volume:h.options.volume),h},this.toggleMute=function(){return h.muted?h.unmute():h.mute()},this.onPosition=function(e,t,o){return r.push({position:parseInt(e,10),method:t,scope:o!==mt?o:h,fired:!1}),h},this.onposition=this.onPosition,this.clearOnPosition=function(e,t){var o;if(e=parseInt(e,10),!isNaN(e))for(o=0;o<r.length;o++)e===r[o].position&&(t&&t!==r[o].method||(r[o].fired&&l--,r.splice(o,1)))},this._processOnPosition=function(){var e,t,o=r.length;if(!o||!h.playState||o<=l)return!1;for(e=o-1;0<=e;e--)!(t=r[e]).fired&&h.position>=t.position&&(t.fired=!0,l++,t.method.apply(t.scope,[t.position]),o=r.length);return!0},this._resetOnPosition=function(e){var t,o,n=r.length;if(!n)return!1;for(t=n-1;0<=t;t--)(o=r[t]).fired&&e<=o.position&&(o.fired=!1,l--);return!0},f=function(){function e(){me._wD(h.id+': Playing "from" '+o),null===n||isNaN(n)||h.onPosition(n,i)}var t=h._iO,o=t.from,n=t.to,i=function(){me._wD(h.id+': "To" time of '+n+" reached."),h.clearOnPosition(n,i),h.stop()};return null===o||isNaN(o)||(t.position=o,t.multiShot=!1,e()),t},d=function(){var e,t=h._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&h.onPosition(parseInt(e,10),t[e])},i=function(){var e,t=h._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&h.clearOnPosition(parseInt(e,10))},u=function(){h.isHTML5&&V(h)},n=function(){h.isHTML5&&Q(h)},(a=function(e){e||(r=[],l=0),p=!1,h._hasTimer=null,h._a=null,h._html5_canplay=!1,h.bytesLoaded=null,h.bytesTotal=null,h.duration=h._iO&&h._iO.duration?h._iO.duration:null,h.durationEstimate=null,h.buffered=[],h.eqData=[],h.eqData.left=[],h.eqData.right=[],h.failures=0,h.isBuffering=!1,h.instanceOptions={},h.instanceCount=0,h.loaded=!1,h.metadata={},h.readyState=0,h.muted=!1,h.paused=!1,h.peakData={left:0,right:0},h.waveformData={left:[],right:[]},h.playState=0,h.position=null,h.id3={}})(),this._onTimer=function(e){var t,o,n=!1,i={};return(h._hasTimer||e)&&h._a&&(e||(0<h.playState||1===h.readyState)&&!h.paused)&&((t=h._get_html5_duration())!==_.duration&&(_.duration=t,h.duration=t,n=!0),h.durationEstimate=h.duration,(o=h._a.currentTime*Ve||0)!==_.time&&(_.time=o,n=!0),(n||e)&&h._whileplaying(o,i,i,i,i)),n},this._get_html5_duration=function(){var e=h._iO,t=h._a&&h._a.duration?h._a.duration*Ve:e&&e.duration?e.duration:null;return t&&!isNaN(t)&&t!==1/0?t:null},this._apply_loop=function(e,t){!e.loop&&1<t&&me._wD("Note: Native HTML5 looping is infinite.",1),e.loop=1<t?"loop":""},this._setup_html5=function(e){var t,o=O(h._iO,e),n=je?_e:h._a,i=decodeURI(o.url);if(je?i===decodeURI(ie)&&(t=!0):i===decodeURI(m)&&(t=!0),n){if(n._s)if(je)n._s&&n._s.playState&&!t&&n._s.stop();else if(!je&&i===decodeURI(m))return h._apply_loop(n,o.loops),n;t||(m&&a(!1),n.src=o.url,h.url=o.url,m=o.url,ie=o.url,n._called_load=!1)}else o.autoLoad||o.autoPlay?(h._a=new Audio(o.url),h._a.load()):h._a=Xe&&opera.version()<10?new Audio(null):new Audio,(n=h._a)._called_load=!1,je&&(_e=n);return h.isHTML5=!0,(h._a=n)._s=h,s(),h._apply_loop(n,o.loops),o.autoLoad||o.autoPlay?h.load():(n.autobuffer=!1,n.preload="auto"),n},s=function(){if(h._a._added_events)return!1;var e,t,o,n;for(e in h._a._added_events=!0,le)le.hasOwnProperty(e)&&(o=le[t=e],n=void 0,h._a&&h._a.addEventListener(t,o,n||!1));return!0},t=function(){var e,t,o,n;for(e in me._wD(h.id+": Removing event listeners"),h._a._added_events=!1,le)le.hasOwnProperty(e)&&(o=le[t=e],n=void 0,h._a&&h._a.removeEventListener(t,o,n||!1))},this._onload=function(e){var t=!!e||!h.isHTML5&&8===g&&h.duration,o=h.id+": ";return me._wD(o+(t?"onload()":"Failed to load / invalid sound?"+(h.duration?" -":" Zero-length duration reported.")+" ("+h.url+")"),t?1:2),t||h.isHTML5||(!0===me.sandbox.noRemote&&me._wD(o+k("noNet"),1),!0===me.sandbox.noLocal&&me._wD(o+k("noLocal"),1)),h.loaded=t,h.readyState=t?3:2,h._onbufferchange(0),t||h.isHTML5||h._onerror(),h._iO.onload&&fe(h,function(){h._iO.onload.apply(h,[t])}),!0},this._onerror=function(e,t){h._iO.onerror&&fe(h,function(){h._iO.onerror.apply(h,[e,t])})},this._onbufferchange=function(e){return 0!==h.playState&&(!(e&&h.isBuffering||!e&&!h.isBuffering)&&(h.isBuffering=1===e,h._iO.onbufferchange&&(me._wD(h.id+": Buffer state change: "+e),h._iO.onbufferchange.apply(h,[e])),!0))},this._onsuspend=function(){return h._iO.onsuspend&&(me._wD(h.id+": Playback suspended"),h._iO.onsuspend.apply(h)),!0},this._onfailure=function(e,t,o){h.failures++,me._wD(h.id+": Failure ("+h.failures+"): "+e),h._iO.onfailure&&1===h.failures?h._iO.onfailure(e,t,o):me._wD(h.id+": Ignoring failure")},this._onwarning=function(e,t,o){h._iO.onwarning&&h._iO.onwarning(e,t,o)},this._onfinish=function(){var e=h._iO.onfinish;h._onbufferchange(0),h._resetOnPosition(0),h.instanceCount&&(h.instanceCount--,h.instanceCount||(i(),h.playState=0,h.paused=!1,h.instanceCount=0,h.instanceOptions={},h._iO={},n(),h.isHTML5&&(h.position=0)),h.instanceCount&&!h._iO.multiShotEvents||e&&(me._wD(h.id+": onfinish()"),fe(h,function(){e.apply(h)})))},this._whileloading=function(e,t,o,n){var i=h._iO;h.bytesLoaded=e,h.bytesTotal=t,h.duration=Math.floor(o),h.bufferLength=n,h.isHTML5||i.isMovieStar?h.durationEstimate=h.duration:i.duration?h.durationEstimate=h.duration>i.duration?h.duration:i.duration:h.durationEstimate=parseInt(h.bytesTotal/h.bytesLoaded*h.duration,10),h.isHTML5||(h.buffered=[{start:0,end:h.duration}]),(3!==h.readyState||h.isHTML5)&&i.whileloading&&i.whileloading.apply(h)},this._whileplaying=function(e,t,o,n,i){var a,s=h._iO;return!isNaN(e)&&null!==e&&(h.position=Math.max(0,e),h._processOnPosition(),!h.isHTML5&&8<g&&(s.usePeakData&&t!==mt&&t&&(h.peakData={left:t.leftPeak,right:t.rightPeak}),s.useWaveformData&&o!==mt&&o&&(h.waveformData={left:o.split(","),right:n.split(",")}),s.useEQData&&i!==mt&&i&&i.leftEQ&&(a=i.leftEQ.split(","),h.eqData=a,h.eqData.left=a,i.rightEQ!==mt&&i.rightEQ&&(h.eqData.right=i.rightEQ.split(",")))),1===h.playState&&(h.isHTML5||8!==g||h.position||!h.isBuffering||h._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(h)),!0)},this._oncaptiondata=function(e){me._wD(h.id+": Caption data received."),h.captiondata=e,h._iO.oncaptiondata&&h._iO.oncaptiondata.apply(h,[e])},this._onmetadata=function(e,t){me._wD(h.id+": Metadata received.");for(var o={},n=0,i=e.length;n<i;n++)o[e[n]]=t[n];h.metadata=o,h._iO.onmetadata&&h._iO.onmetadata.call(h,h.metadata)},this._onid3=function(e,t){me._wD(h.id+": ID3 data received.");for(var o=[],n=0,i=e.length;n<i;n++)o[e[n]]=t[n];h.id3=O(h.id3,o),h._iO.onid3&&h._iO.onid3.apply(h)},this._onconnect=function(e){e=1===e,me._wD(h.id+": "+(e?"Connected.":"Failed to connect? - "+h.url),e?1:2),(h.connected=e)&&(h.failures=0,q(h.id)&&(h.getAutoPlay()?h.play(mt,h.getAutoPlay()):h._iO.autoLoad&&h.load()),h._iO.onconnect&&h._iO.onconnect.apply(h,[e]))},this._ondataerror=function(e){0<h.playState&&(me._wD(h.id+": Data error: "+e),h._iO.ondataerror&&h._iO.ondataerror.apply(h))},this._debug()},P=function(){return De.body||De.getElementsByTagName("div")[0]},y=function(e){return De.getElementById(e)},O=function(e,t){var o,n=e||{},i=t===mt?me.defaultOptions:t;for(o in i)i.hasOwnProperty(o)&&n[o]===mt&&("object"!=typeof i[o]||null===i[o]?n[o]=i[o]:n[o]=O(n[o],i[o]));return n},fe=function(e,t){e.isHTML5||8!==g?t():pt.setTimeout(t,0)},u={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},l=function(e,t){var o,n=!0,i=t!==mt,a=me.setupOptions,s=u;if(e===mt){for(o in n=[],a)a.hasOwnProperty(o)&&n.push(o);for(o in s)s.hasOwnProperty(o)&&("object"==typeof me[o]?n.push(o+": {...}"):me[o]instanceof Function?n.push(o+": function() {...}"):n.push(o));return me._wD(k("setup",n.join(", "))),!1}for(o in e)if(e.hasOwnProperty(o))if("object"!=typeof e[o]||null===e[o]||e[o]instanceof Array||e[o]instanceof RegExp)i&&s[t]!==mt?me[t][o]=e[o]:a[o]!==mt?(me.setupOptions[o]=e[o],me[o]=e[o]):s[o]===mt?(j(k(me[o]===mt?"setupUndef":"setupError",o),2),n=!1):me[o]instanceof Function?me[o].apply(me,e[o]instanceof Array?e[o]:[e[o]]):me[o]=e[o];else{if(s[o]!==mt)return l(e[o],o);j(k(me[o]===mt?"setupUndef":"setupError",o),2),n=!1}return n},he=pt.attachEvent,pe={add:he?"attachEvent":"addEventListener",remove:he?"detachEvent":"removeEventListener"},ne={add:function(){ct(ft(arguments),"add")},remove:function(){ct(ft(arguments),"remove")}},le={abort:ht(function(){me._wD(this._s.id+": abort")}),canplay:ht(function(){var t,o=this._s;if(!o._html5_canplay){if(o._html5_canplay=!0,me._wD(o.id+": canplay"),o._onbufferchange(0),t=o._iO.position===mt||isNaN(o._iO.position)?null:o._iO.position/Ve,this.currentTime!==t){me._wD(o.id+": canplay: Setting position to "+t);try{this.currentTime=t}catch(e){me._wD(o.id+": canplay: Setting position of "+t+" failed: "+e.message,2)}}o._iO._oncanplay&&o._iO._oncanplay()}}),canplaythrough:ht(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),durationchange:ht(function(){var e=this._s,t=e._get_html5_duration();isNaN(t)||t===e.duration||(me._wD(this._s.id+": durationchange ("+t+")"+(e.duration?", previously "+e.duration:"")),e.durationEstimate=e.duration=t)}),ended:ht(function(){var e=this._s;me._wD(e.id+": ended"),e._onfinish()}),error:ht(function(){var e=Z[this.error.code]||null;me._wD(this._s.id+": HTML5 error, code "+this.error.code+(e?" ("+e+")":"")),this._s._onload(!1),this._s._onerror(this.error.code,e)}),loadeddata:ht(function(){var e=this._s;me._wD(e.id+": loadeddata"),e._loaded||Je||(e.duration=e._get_html5_duration())}),loadedmetadata:ht(function(){me._wD(this._s.id+": loadedmetadata")}),loadstart:ht(function(){me._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:ht(function(){this._s._onbufferchange(0)}),playing:ht(function(){me._wD(this._s.id+": playing "+String.fromCharCode(9835)),this._s._onbufferchange(0)}),progress:ht(function(e){var t,o,n,i=this._s,a=0,s="progress"===e.type,r=e.target.buffered,l=e.loaded||0,u=e.total||1;if(i.buffered=[],r&&r.length){for(t=0,o=r.length;t<o;t++)i.buffered.push({start:r.start(t)*Ve,end:r.end(t)*Ve});if(a=(r.end(0)-r.start(0))*Ve,l=Math.min(1,a/(e.target.duration*Ve)),s&&1<r.length){for(n=[],o=r.length,t=0;t<o;t++)n.push(e.target.buffered.start(t)*Ve+"-"+e.target.buffered.end(t)*Ve);me._wD(this._s.id+": progress, timeRanges: "+n.join(", "))}s&&!isNaN(l)&&me._wD(this._s.id+": progress, "+Math.floor(100*l)+"% loaded")}isNaN(l)||(i._whileloading(l,u,i._get_html5_duration()),l&&u&&l===u&&le.canplaythrough.call(this,e))}),ratechange:ht(function(){me._wD(this._s.id+": ratechange")}),suspend:ht(function(e){var t=this._s;me._wD(this._s.id+": suspend"),le.progress.call(this,e),t._onsuspend()}),stalled:ht(function(){me._wD(this._s.id+": stalled")}),timeupdate:ht(function(){this._s._onTimer()}),waiting:ht(function(){var e=this._s;me._wD(this._s.id+": waiting"),e._onbufferchange(1)})},X=function(e){var t=!(!e||!(e.type||e.url||e.serverURL))&&(!(e.serverURL||e.type&&dt(e.type))&&(e.type?z({type:e.type}):z({url:e.url})||me.html5Only||e.url.match(/data:/i)));return t},ee=function(e){var t;return e&&(t=!Je&&me.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":it,e.src=t,e._called_unload!==mt&&(e._called_load=!1)),je&&(ie=null),t},z=function(e){if(!me.useHTML5Audio||!me.hasHTML5)return!1;var t,o,n,i,a=e.url||null,s=e.type||null,r=me.audioFormats;if(s&&me.html5[s]!==mt)return me.html5[s]&&!dt(s);if(!Y){for(i in Y=[],r)r.hasOwnProperty(i)&&(Y.push(i),r[i].related&&(Y=Y.concat(r[i].related)));Y=new RegExp("\\.("+Y.join("|")+")(\\?.*)?$","i")}return(n=a?a.toLowerCase().match(Y):null)&&n.length?n=n[1]:s?n=(-1!==(o=s.indexOf(";"))?s.substr(0,o):s).substr(6):t=!1,t=n&&me.html5[n]!==mt?me.html5[n]&&!dt(n):(s="audio/"+n,t=me.html5.canPlayType({type:s}),(me.html5[n]=t)&&me.html5[s]&&!dt(s))},oe=function(){if(!me.useHTML5Audio||!me.hasHTML5)return me.html5.usingFlash=!0,!(Be=!0);var e,t,o,a,s=Audio!==mt?Xe&&opera.version()<10?new Audio(null):new Audio:null,n={};function i(e){var t,o,n=!1,i=!1;if(!s||"function"!=typeof s.canPlayType)return n;if(e instanceof Array){for(a=0,o=e.length;a<o;a++)(me.html5[e[a]]||s.canPlayType(e[a]).match(me.html5Test))&&(i=!0,me.html5[e[a]]=!0,me.flash[e[a]]=!!e[a].match(nt));n=i}else n=!(!(t=!(!s||"function"!=typeof s.canPlayType)&&s.canPlayType(e))||!t.match(me.html5Test));return n}for(e in o=me.audioFormats)if(o.hasOwnProperty(e)&&(t="audio/"+e,n[e]=i(o[e].type),n[t]=n[e],e.match(nt)?(me.flash[e]=!0,me.flash[t]=!0):(me.flash[e]=!1,me.flash[t]=!1),o[e]&&o[e].related))for(a=o[e].related.length-1;0<=a;a--)n["audio/"+o[e].related[a]]=n[e],me.html5[o[e].related[a]]=n[e],me.flash[o[e].related[a]]=n[e];return n.canPlayType=s?i:null,me.html5=O(me.html5,n),me.html5.usingFlash=J(),Be=me.html5.usingFlash,!0},M={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:ye+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:we+"Verify that %s is a valid path.",tryDebug:"Try "+ye+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:we+"Non-HTTP page ("+De.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:we+"Special case: Waiting for SWF to load with window focus...",waitForever:we+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:we+"Waiting for 100% SWF load...",needFunction:we+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:we+"_debug(): Current sound objects",waitOnload:we+"Waiting for window.onload()",docLoaded:we+"Document already loaded",onload:we+"initComplete(): calling soundManager.onload()",onloadOK:ye+".onload() complete",didInit:we+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:we+"Failed to remove Flash node.",shutdown:ye+".disable(): Shutting down",queue:we+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+N.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:we+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:ye+".load(): current URL already assigned.",badFV:ye+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:we+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:we+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:ye+".setup(): allowed parameters: %s",setupError:ye+'.setup(): "%s" cannot be assigned with this method.',setupUndef:ye+'.setup(): Could not find option "%s"',setupLate:ye+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:we+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. "+String.fromCharCode(10003),reset:ye+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."},k=function(){var e,t,o=We.call(arguments),n=o.shift(),i=M&&M[n]?M[n]:"";if(i&&o&&o.length)for(e=0,t=o.length;e<t;e++)i=i.replace("%s",o[e]);return i},B=function(e){return 8===g&&1<e.loops&&e.stream&&(b("as2loop"),e.stream=!1),e},W=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(me._wD((t||"")+k("policy")),e.usePolicyFile=!0),e},j=function(e){Ye&&console.warn!==mt?console.warn(e):me._wD(e)},o=function(){return!1},A=function(e){var t;for(t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=o);t=null},E=function(e){e===mt&&(e=!1),(Fe||e)&&me.disable(e)},R=function(e){var t;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return t=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+me.movieURL,me.noSWFCache&&(t+="?ts="+(new Date).getTime()),t},D=function(){8!==(g=parseInt(me.flashVersion,10))&&9!==g&&(me._wD(k("badFV",g,8)),me.flashVersion=g=8);var e=me.debugMode||me.debugFlash?"_debug.swf":".swf";me.useHTML5Audio&&!me.html5Only&&me.audioFormats.mp4.required&&g<9&&(me._wD(k("needfl9")),me.flashVersion=g=9),me.version=me.versionNumber+(me.html5Only?" (HTML5-only mode)":9===g?" (AS3/Flash 9)":" (AS2/Flash 8)"),8<g?(me.defaultOptions=O(me.defaultOptions,me.flash9Options),me.features.buffering=!0,me.defaultOptions=O(me.defaultOptions,me.movieStarOptions),me.filePatterns.flash9=new RegExp("\\.(mp3|"+lt.join("|")+")(\\?.*)?$","i"),me.features.movieStar=!0):me.features.movieStar=!1,me.filePattern=me.filePatterns[8!==g?"flash9":"flash8"],me.movieURL=(8===g?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),me.features.peakData=me.features.waveformData=me.features.eqData=8<g},I=function(e,t){ge&&ge._setPolling(e,t)},H=function(){if(me.debugURLParam.test(Oe)&&(me.setupOptions.debugMode=me.debugMode=!0),!y(me.debugID)){var e,t,o,n,i;if(me.debugMode&&!y(me.debugID)&&(!Ye||!me.useConsole||!me.consoleOnly)){for(i in(e=De.createElement("div")).id=me.debugID+"-toggle",n={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(De.createTextNode("-")),e.onclick=U,e.title="Toggle SM2 debug console",be.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand"),n)n.hasOwnProperty(i)&&(e.style[i]=n[i]);if((t=De.createElement("div")).id=me.debugID,t.style.display=me.debugMode?"block":"none",me.debugMode&&!y(e.id)){try{(o=P()).appendChild(e)}catch(e){throw new Error(k("domError")+" \n"+e.toString())}o.appendChild(t)}}o=null}},q=this.getSoundById,b=function(e,t){return e?me._wD(k(e),t):""},U=function(){var e=y(me.debugID),t=y(me.debugID+"-toggle");e&&(Le?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),Le=!Le)},v=function(e,t,o){if(pt.sm2Debugger!==mt)try{sm2Debugger.handleEvent(e,t,o)}catch(e){return!1}return!0},x=function(){var e=[];return me.debugMode&&e.push(N.sm2Debug),me.debugFlash&&e.push(N.flashDebug),me.useHighPerformance&&e.push(N.highPerf),e.join(" ")},C=function(){var e=k("fbHandler"),t=me.getMoviePercent(),o=N,n={type:"FLASHBLOCK"};me.html5Only||(me.ok()?(me.didFlashBlock&&me._wD(e+": Unblocked"),me.oMC&&(me.oMC.className=[x(),o.swfDefault,o.swfLoaded+(me.didFlashBlock?" "+o.swfUnblocked:"")].join(" "))):(Be&&(me.oMC.className=x()+" "+o.swfDefault+" "+(null===t?o.swfTimedout:o.swfError),me._wD(e+": "+k("fbTimeout")+(t?" ("+k("fbLoaded")+")":""))),me.didFlashBlock=!0,s({type:"ontimeout",ignoreInit:!0,error:n}),F(n)))},a=function(e,t,o){Me[e]===mt&&(Me[e]=[]),Me[e].push({method:t,scope:o||null,fired:!1})},s=function(e){if(e=e||{type:me.ok()?"onready":"ontimeout"},!Se&&e&&!e.ignoreInit)return!1;if("ontimeout"===e.type&&(me.ok()||Fe&&!e.ignoreInit))return!1;var t,o,n={success:e&&e.ignoreInit?me.ok():!Fe},i=e&&e.type&&Me[e.type]||[],a=[],s=[n],r=Be&&!me.ok();for(e.error&&(s[0].error=e.error),t=0,o=i.length;t<o;t++)!0!==i[t].fired&&a.push(i[t]);if(a.length)for(t=0,o=a.length;t<o;t++)a[t].scope?a[t].method.apply(a[t].scope,s):a[t].method.apply(this,s),r||(a[t].fired=!0);return!0},d=function(){pt.setTimeout(function(){me.useFlashBlock&&C(),s(),"function"==typeof me.onload&&(b("onload",1),me.onload.apply(pt),b("onloadOK",1)),me.waitForWindowLoad&&ne.add(pt,"load",d)},1)},se=function(){if(ae!==mt)return ae;var t,e,o,n,i=!1,a=navigator,s=pt.ActiveXObject;try{n=a.plugins}catch(e){n=void 0}if(n&&n.length)e="application/x-shockwave-flash",(o=a.mimeTypes)&&o[e]&&o[e].enabledPlugin&&o[e].enabledPlugin.description&&(i=!0);else if(s!==mt&&!be.match(/MSAppHost/i)){try{t=new s("ShockwaveFlash.ShockwaveFlash")}catch(e){t=null}i=!!t,t=null}return ae=i},J=function(){var e,t,o=me.audioFormats;if(Qe&&!!be.match(/os (1|2|3_0|3_1)\s/i)?(me.hasHTML5=!1,me.html5Only=!0,me.oMC&&(me.oMC.style.display="none")):me.useHTML5Audio&&(me.html5&&me.html5.canPlayType||(me._wD("SoundManager: No HTML5 Audio() support detected."),me.hasHTML5=!1),Ze&&me._wD(we+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(ae?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),me.useHTML5Audio&&me.hasHTML5)for(t in G=!0,o)o.hasOwnProperty(t)&&o[t].required&&(me.html5.canPlayType(o[t].type)?me.preferFlash&&(me.flash[t]||me.flash[o[t].type])&&(e=!0):e=!(G=!1));return me.ignoreFlash&&(G=!(e=!1)),me.html5Only=me.hasHTML5&&me.useHTML5Audio&&!e,!me.html5Only},$=function(e){var t,o,n,i=0;if(e instanceof Array){for(t=0,o=e.length;t<o;t++)if(e[t]instanceof Object){if(me.canPlayMIME(e[t].type)){i=t;break}}else if(me.canPlayURL(e[t])){i=t;break}e[i].url&&(e[i]=e[i].url),n=e[i]}else n=e;return n},V=function(e){e._hasTimer||(e._hasTimer=!0,!ze&&me.html5PollingInterval&&(null===Ne&&0===xe&&(Ne=setInterval(K,me.html5PollingInterval)),xe++))},Q=function(e){e._hasTimer&&(e._hasTimer=!1,!ze&&me.html5PollingInterval&&xe--)},K=function(){var e;if(null!==Ne&&!xe)return clearInterval(Ne),void(Ne=null);for(e=me.soundIDs.length-1;0<=e;e--)me.sounds[me.soundIDs[e]].isHTML5&&me.sounds[me.soundIDs[e]]._hasTimer&&me.sounds[me.soundIDs[e]]._onTimer()},F=function(e){e=e!==mt?e:{},"function"==typeof me.onerror&&me.onerror.apply(pt,[{type:e.type!==mt?e.type:null}]),e.fatal!==mt&&e.fatal&&me.disable()},re=function(){if(Ze&&se()){var e,t,o=me.audioFormats;for(t in o)if(o.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(me._wD(ye+": Using flash fallback for "+t+" format"),me.html5[t]=!1,o[t]&&o[t].related))for(e=o[t].related.length-1;0<=e;e--)me.html5[o[t].related[e]]=!1}},this._setSandboxType=function(e){var t=me.sandbox;t.type=e,t.description=t.types[t.types[e]!==mt?e:"unknown"],"localWithFile"===t.type?(t.noRemote=!0,t.noLocal=!1,b("secNote",2)):"localWithNetwork"===t.type?(t.noRemote=!1,t.noLocal=!0):"localTrusted"===t.type&&(t.noRemote=!1,t.noLocal=!1)},this._externalInterfaceOK=function(e){if(!me.swfLoaded){var t;if(v("swf",!0),v("flashtojs",!0),me.swfLoaded=!0,tt=!1,Ze&&re(),!e||e.replace(/\+dev/i,"")!==me.versionNumber.replace(/\+dev/i,""))return t=ye+': Fatal: JavaScript file build "'+me.versionNumber+'" does not match Flash SWF build "'+e+'" at '+me.url+". Ensure both are up-to-date.",void setTimeout(function(){throw new Error(t)},0);setTimeout(w,$e?100:1)}},S=function(e,t){if(Te&&Pe)return!1;function o(){var e=[],t=[],o="SoundManager "+me.version+(!me.html5Only&&me.useHTML5Audio?me.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"");me.html5Only?me.html5PollingInterval&&e.push("html5PollingInterval ("+me.html5PollingInterval+"ms)"):(me.preferFlash&&e.push("preferFlash"),me.useHighPerformance&&e.push("useHighPerformance"),me.flashPollingInterval&&e.push("flashPollingInterval ("+me.flashPollingInterval+"ms)"),me.html5PollingInterval&&e.push("html5PollingInterval ("+me.html5PollingInterval+"ms)"),me.wmode&&e.push("wmode ("+me.wmode+")"),me.debugFlash&&e.push("debugFlash"),me.useFlashBlock&&e.push("flashBlock")),e.length&&(t=t.concat([e.join(" + ")])),me._wD(o+(t.length?" + "+t.join(", "):""),1),ue()}if(me.html5Only)return D(),o(),me.oMC=y(me.movieID),w(),!(Pe=Te=!0);var n,i,a,s,r,l,u,d,f,c=t||me.url,h=me.altURL||c,p=P(),m=x(),_=De.getElementsByTagName("html")[0];function g(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(n=_&&_.dir&&_.dir.match(/rtl/i),e=e===mt?me.id:e,D(),me.url=R(at?c:h),t=me.url,me.wmode=!me.wmode&&me.useHighPerformance?"transparent":me.wmode,null!==me.wmode&&(be.match(/msie 8/i)||!$e&&!me.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Ue.push(M.spcWmode),me.wmode=null),i={name:e,id:e,src:t,quality:"high",allowScriptAccess:me.allowScriptAccess,bgcolor:me.bgColor,pluginspage:st+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:me.wmode,hasPriority:"true"},me.debugFlash&&(i.FlashVars="debug=1"),me.wmode||delete i.wmode,$e)a=De.createElement("div"),r=['<object id="'+e+'" data="'+t+'" type="'+i.type+'" title="'+i.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',g("movie",t),g("AllowScriptAccess",me.allowScriptAccess),g("quality",i.quality),me.wmode?g("wmode",me.wmode):"",g("bgcolor",me.bgColor),g("hasPriority","true"),me.debugFlash?g("FlashVars",i.FlashVars):"","</object>"].join("");else for(s in a=De.createElement("embed"),i)i.hasOwnProperty(s)&&a.setAttribute(s,i[s]);if(H(),m=x(),p=P())if(me.oMC=y(me.movieID)||De.createElement("div"),me.oMC.id)f=me.oMC.className,me.oMC.className=(f?f+" ":N.swfDefault)+(m?" "+m:""),me.oMC.appendChild(a),$e&&((l=me.oMC.appendChild(De.createElement("div"))).className=N.swfBox,l.innerHTML=r),Pe=!0;else{if(me.oMC.id=me.movieID,me.oMC.className=N.swfDefault+" "+m,l=u=null,me.useFlashBlock||(me.useHighPerformance?u={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(u={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},n&&(u.left=Math.abs(parseInt(u.left,10))+"px"))),Ge&&(me.oMC.style.zIndex=1e4),!me.debugFlash)for(d in u)u.hasOwnProperty(d)&&(me.oMC.style[d]=u[d]);try{$e||me.oMC.appendChild(a),p.appendChild(me.oMC),$e&&((l=me.oMC.appendChild(De.createElement("div"))).className=N.swfBox,l.innerHTML=r),Pe=!0}catch(e){throw new Error(k("domError")+" \n"+e.toString())}}return Te=!0,o(),!0},m=function(){return me.html5Only?(S(),!1):!ge&&(me.url?((ge=me.getMovie(me.id))||(Ee?($e?me.oMC.innerHTML=Re:me.oMC.appendChild(Ee),Te=!(Ee=null)):S(me.id,me.url),ge=me.getMovie(me.id)),"function"==typeof me.oninitmovie&&setTimeout(me.oninitmovie,1),de(),!0):(b("noURL"),!1))},f=function(){setTimeout(c,1e3)},h=function(){pt.setTimeout(function(){j(we+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),me.setup({preferFlash:!1}).reboot(),me.didFlashBlock=!0,me.beginDelayedInit()},1)},c=function(){var e,t=!1;me.url&&(ke||(ke=!0,ne.remove(pt,"load",f),ae&&tt&&!et?b("waitFocus"):(Se||0<(e=me.getMoviePercent())&&e<100&&(t=!0),setTimeout(function(){if(e=me.getMoviePercent(),t)return ke=!1,me._wD(k("waitSWF")),void pt.setTimeout(f,1);Se||(me._wD(ye+": No Flash response within expected time. Likely causes: "+(0===e?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(me.debugFlash?" "+k("checkSWF"):""),2),!at&&e&&(b("localFail",2),me.debugFlash||b("tryDebug",2)),0===e&&me._wD(k("swf404",me.url),1),v("flashtojs",!1,": Timed out"+(at?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"))),!Se&&ot&&(null===e?me.useFlashBlock||0===me.flashLoadTimeout?(me.useFlashBlock&&C(),b("waitForever")):!me.useFlashBlock&&G?h():(b("waitForever"),s({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):0===me.flashLoadTimeout?b("waitForever"):!me.useFlashBlock&&G?h():E(!0))},me.flashLoadTimeout))))},p=function(){function e(){ne.remove(pt,"focus",p)}return et||!tt||(et=ot=!0,b("gotFocus"),ke=!1,f()),e(),!0},de=function(){Ue.length&&(me._wD("SoundManager 2: "+Ue.join(" "),1),Ue=[])},ue=function(){de();var e,t=[];if(me.useHTML5Audio&&me.hasHTML5){for(e in me.audioFormats)me.audioFormats.hasOwnProperty(e)&&t.push(e+" = "+me.html5[e]+(!me.html5[e]&&Be&&me.flash[e]?" (using flash)":me.preferFlash&&me.flash[e]&&Be?" (preferring flash)":me.html5[e]?"":" ("+(me.audioFormats[e].required?"required, ":"")+"and no flash support)"));me._wD("SoundManager 2 HTML5 support: "+t.join(", "),1)}},i=function(e){if(Se)return!1;if(me.html5Only)return b("sm2Loaded",1),Se=!0,d(),v("onload",!0),!0;var t,o=!0;return me.useFlashBlock&&me.flashLoadTimeout&&!me.getMoviePercent()||(Se=!0),t={type:!ae&&Be?"NO_FLASH":"INIT_TIMEOUT"},me._wD("SoundManager 2 "+(Fe?"failed to load":"loaded")+" ("+(Fe?"Flash security/load error":"OK")+") "+String.fromCharCode(Fe?10006:10003),Fe?2:1),Fe||e?(me.useFlashBlock&&me.oMC&&(me.oMC.className=x()+" "+(null===me.getMoviePercent()?N.swfTimedout:N.swfError)),s({type:"ontimeout",error:t,ignoreInit:!0}),v("onload",!1),F(t),o=!1):v("onload",!0),Fe||(me.waitForWindowLoad&&!Ie?(b("waitOnload"),ne.add(pt,"load",d)):(me.waitForWindowLoad&&Ie&&b("docLoaded"),d())),o},n=function(){var e,t=me.setupOptions;for(e in t)t.hasOwnProperty(e)&&(me[e]===mt?me[e]=t[e]:me[e]!==t[e]&&(me.setupOptions[e]=me[e]))},w=function(){if(Se)return b("didInit"),!1;function e(){ne.remove(pt,"load",me.beginDelayedInit)}if(me.html5Only)return Se||(e(),me.enabled=!0,i()),!0;m();try{ge._externalInterfaceTest(!1),I(!0,me.flashPollingInterval||(me.useHighPerformance?10:50)),me.debugMode||ge._disableDebug(),me.enabled=!0,v("jstoflash",!0),me.html5Only||ne.add(pt,"unload",o)}catch(e){return me._wD("js/flash exception: "+e.toString()),v("jstoflash",!1),F({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),E(!0),i(),!1}return i(),e(),!0},_=function(){return!T&&(T=!0,n(),H(),!ae&&me.hasHTML5&&(me._wD("SoundManager 2: No Flash detected"+(me.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),me.setup({useHTML5Audio:!0,preferFlash:!1})),oe(),!ae&&Be&&(Ue.push(M.needFlash),me.setup({flashLoadTimeout:1})),De.removeEventListener&&De.removeEventListener("DOMContentLoaded",_,!1),m(),!0)},te=function(){return"complete"===De.readyState&&(_(),De.detachEvent("onreadystatechange",te)),!0},L=function(){Ie=!0,_(),ne.remove(pt,"load",L)},se(),ne.add(pt,"focus",p),ne.add(pt,"load",f),ne.add(pt,"load",L),De.addEventListener?De.addEventListener("DOMContentLoaded",_,!1):De.attachEvent?De.attachEvent("onreadystatechange",te):(v("onload",!1),F({type:"NO_DOM2_EVENTS",fatal:!0}))}pt.SM2_DEFER!==mt&&SM2_DEFER||(e=new o),"object"==typeof module&&module&&"object"==typeof module.exports?(module.exports.SoundManager=o,module.exports.soundManager=e):"function"==typeof define&&define.amd&&define(function(){return{constructor:o,getInstance:function(e){var t;return!pt.soundManager&&e instanceof Function&&((t=e(o))instanceof o&&(pt.soundManager=t)),pt.soundManager}}}),pt.SoundManager=o,pt.soundManager=e}(window);