(function(c){var d=c.define;var b=c.require;var a=c.Ember;if(typeof a==="undefined"&&typeof b!=="undefined"){a=b("ember")}a.libraries.register("Ember Simple Auth Torii","0.8.0");d("simple-auth-torii/authenticators/torii",["simple-auth/authenticators/base","exports"],function(g,f){var e=g["default"];f["default"]=e.extend({torii:null,provider:null,restore:function(h){var i=this;h=h||{};return new a.RSVP.Promise(function(k,j){if(!a.isEmpty(h.provider)){var l=h.provider;i.torii.fetch(h.provider,h).then(function(m){i.resolveWith(l,m,k)},function(){delete i.provider;j()})}else{delete i.provider;j()}})},authenticate:function(i,h){var j=this;return new a.RSVP.Promise(function(l,k){j.torii.open(i,h||{}).then(function(m){j.resolveWith(i,m,l)},k)})},invalidate:function(h){var i=this;return new a.RSVP.Promise(function(k,j){i.torii.close(i.provider).then(function(){delete i.provider;k()},j)})},resolveWith:function(j,i,h){i.provider=j;this.provider=i.provider;h(i)}})});d("simple-auth-torii/ember",["./initializer"],function(f){var e=f["default"];a.onLoad("Ember.Application",function(g){g.initializer(e)})});d("simple-auth-torii/initializer",["simple-auth-torii/authenticators/torii","exports"],function(f,e){var g=f["default"];e["default"]={name:"simple-auth-torii",before:"simple-auth",after:"torii",initialize:function(i,j){var h=i.lookup("torii:main");var k=g.create({torii:h});j.register("simple-auth-authenticator:torii",k,{instantiate:false})}}})})(this);