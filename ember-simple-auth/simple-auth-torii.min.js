(function(b){Ember.libraries.register("Ember Simple Auth Torii","0.8.0");var d,a;(function(){var f={},e={};d=function(g,h,i){f[g]={deps:h,callback:i}};a=function(g){if(e.hasOwnProperty(g)){return e[g]}e[g]={};if(!f[g]){throw new Error("Could not find module "+g)}var n=f[g],r=n.deps,q=n.callback,k=[],j;for(var m=0,h=r.length;m<h;m++){if(r[m]==="exports"){k.push(j={})}else{k.push(a(p(r[m])))}}var o=q.apply(this,k);return e[g]=j||o;function p(x){if(x.charAt(0)!=="."){return x}var w=x.split("/");var t=g.split("/").slice(0,-1);for(var v=0,s=w.length;v<s;v++){var u=w[v];if(u===".."){t.pop()}else{if(u==="."){continue}else{t.push(u)}}}return t.join("/")}};a.registry=f})();d("simple-auth-torii/authenticators/torii",["simple-auth/authenticators/base","exports"],function(g,f){var e=g["default"];f["default"]=e.extend({torii:null,provider:null,restore:function(h){var i=this;h=h||{};return new Ember.RSVP.Promise(function(k,j){if(!Ember.isEmpty(h.provider)){var l=h.provider;i.torii.fetch(h.provider,h).then(function(m){i.resolveWith(l,m,k)},function(){delete i.provider;j()})}else{delete i.provider;j()}})},authenticate:function(i,h){var j=this;return new Ember.RSVP.Promise(function(l,k){j.torii.open(i,h||{}).then(function(m){j.resolveWith(i,m,l)},k)})},invalidate:function(h){var i=this;return new Ember.RSVP.Promise(function(k,j){i.torii.close(i.provider).then(function(){delete i.provider;k()},j)})},resolveWith:function(j,i,h){i.provider=j;this.provider=i.provider;h(i)}})});d("simple-auth-torii/ember",["./initializer"],function(f){var e=f["default"];Ember.onLoad("Ember.Application",function(g){g.initializer(e)})});d("simple-auth-torii/initializer",["simple-auth-torii/authenticators/torii","exports"],function(f,e){var g=f["default"];e["default"]={name:"simple-auth-torii",before:"simple-auth",after:"torii",initialize:function(i,j){var h=i.lookup("torii:main");var k=g.create({torii:h});j.register("simple-auth-authenticator:torii",k,{instantiate:false})}}});d("simple-auth/authenticators/base",["exports"],function(e){e["default"]=b.SimpleAuth.Authenticators.Base});var c=a("simple-auth-torii/authenticators/torii")["default"];b.SimpleAuth.Authenticators.Torii=c;a("simple-auth-torii/ember")})((typeof global!=="undefined")?global:window);