(function(c){var d=c.define;var b=c.require;var a=c.Ember;if(typeof a==="undefined"&&typeof b!=="undefined"){a=b("ember")}a.libraries.register("Ember Simple Auth Devise","0.8.0");d("simple-auth-devise/authenticators/devise",["simple-auth/authenticators/base","./../configuration","exports"],function(i,g,h){var e=i["default"];var f=g["default"];h["default"]=e.extend({serverTokenEndpoint:"/users/sign_in",resourceName:"user",tokenAttributeName:"token",identificationAttributeName:"email",init:function(){this.serverTokenEndpoint=f.serverTokenEndpoint;this.resourceName=f.resourceName;this.tokenAttributeName=f.tokenAttributeName;this.identificationAttributeName=f.identificationAttributeName},restore:function(k){var l=this;var j=a.Object.create(k);return new a.RSVP.Promise(function(n,m){if(!a.isEmpty(j.get(l.tokenAttributeName))&&!a.isEmpty(j.get(l.identificationAttributeName))){n(k)}else{m()}})},authenticate:function(j){var k=this;return new a.RSVP.Promise(function(n,m){var l={};l[k.resourceName]={password:j.password};l[k.resourceName][k.identificationAttributeName]=j.identification;k.makeRequest(l).then(function(o){a.run(function(){n(o)})},function(q,o,p){a.run(function(){m(q.responseJSON||q.responseText)})})})},invalidate:function(){return a.RSVP.resolve()},makeRequest:function(l,k,j){return a.$.ajax({url:this.serverTokenEndpoint,type:"POST",data:l,dataType:"json",beforeSend:function(n,m){n.setRequestHeader("Accept",m.accepts.json)}})}})});d("simple-auth-devise/authorizers/devise",["simple-auth/authorizers/base","./../configuration","exports"],function(i,g,h){var e=i["default"];var f=g["default"];h["default"]=e.extend({tokenAttributeName:"token",identificationAttributeName:"email",init:function(){this.tokenAttributeName=f.tokenAttributeName;this.identificationAttributeName=f.identificationAttributeName},authorize:function(o,j){var k=this.get("session.secure");var n=k[this.tokenAttributeName];var l=k[this.identificationAttributeName];if(this.get("session.isAuthenticated")&&!a.isEmpty(n)&&!a.isEmpty(l)){var m=this.tokenAttributeName+'="'+n+'", '+this.identificationAttributeName+'="'+l+'"';o.setRequestHeader("Authorization","Token "+m)}}})});d("simple-auth-devise/configuration",["simple-auth/utils/load-config","exports"],function(h,f){var e=h["default"];var g={serverTokenEndpoint:"/users/sign_in",resourceName:"user",tokenAttributeName:"token",identificationAttributeName:"email"};f["default"]={serverTokenEndpoint:g.serverTokenEndpoint,resourceName:g.resourceName,tokenAttributeName:g.tokenAttributeName,identificationAttributeName:g.identificationAttributeName,load:e(g)}});d("simple-auth-devise/ember",["./initializer"],function(f){var e=f["default"];a.onLoad("Ember.Application",function(g){g.initializer(e)})});d("simple-auth-devise/initializer",["./configuration","simple-auth/utils/get-global-config","simple-auth-devise/authenticators/devise","simple-auth-devise/authorizers/devise","exports"],function(k,m,g,i,l){var h=k["default"];var e=m["default"];var j=g["default"];var f=i["default"];l["default"]={name:"simple-auth-devise",before:"simple-auth",initialize:function(n,p){var o=e("simple-auth-devise");h.load(n,o);p.register("simple-auth-authorizer:devise",f);p.register("simple-auth-authenticator:devise",j)}}})})(this);