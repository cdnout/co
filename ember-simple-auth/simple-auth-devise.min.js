(function(e){Ember.libraries.register("Ember Simple Auth Devise","0.8.0");var g,a;(function(){var i={},h={};g=function(j,k,l){i[j]={deps:k,callback:l}};a=function(j){if(h.hasOwnProperty(j)){return h[j]}h[j]={};if(!i[j]){throw new Error("Could not find module "+j)}var p=i[j],t=p.deps,s=p.callback,n=[],m;for(var o=0,k=t.length;o<k;o++){if(t[o]==="exports"){n.push(m={})}else{n.push(a(r(t[o])))}}var q=s.apply(this,n);return h[j]=m||q;function r(z){if(z.charAt(0)!=="."){return z}var y=z.split("/");var v=j.split("/").slice(0,-1);for(var x=0,u=y.length;x<u;x++){var w=y[x];if(w===".."){v.pop()}else{if(w==="."){continue}else{v.push(w)}}}return v.join("/")}};a.registry=i})();g("simple-auth-devise/authenticators/devise",["simple-auth/authenticators/base","./../configuration","exports"],function(l,j,k){var h=l["default"];var i=j["default"];k["default"]=h.extend({serverTokenEndpoint:"/users/sign_in",resourceName:"user",tokenAttributeName:"token",identificationAttributeName:"email",init:function(){this.serverTokenEndpoint=i.serverTokenEndpoint;this.resourceName=i.resourceName;this.tokenAttributeName=i.tokenAttributeName;this.identificationAttributeName=i.identificationAttributeName},restore:function(n){var o=this;var m=Ember.Object.create(n);return new Ember.RSVP.Promise(function(q,p){if(!Ember.isEmpty(m.get(o.tokenAttributeName))&&!Ember.isEmpty(m.get(o.identificationAttributeName))){q(n)}else{p()}})},authenticate:function(m){var n=this;return new Ember.RSVP.Promise(function(q,p){var o={};o[n.resourceName]={password:m.password};o[n.resourceName][n.identificationAttributeName]=m.identification;n.makeRequest(o).then(function(r){Ember.run(function(){q(r)})},function(t,r,s){Ember.run(function(){p(t.responseJSON||t.responseText)})})})},invalidate:function(){return Ember.RSVP.resolve()},makeRequest:function(o,n,m){return Ember.$.ajax({url:this.serverTokenEndpoint,type:"POST",data:o,dataType:"json",beforeSend:function(q,p){q.setRequestHeader("Accept",p.accepts.json)}})}})});g("simple-auth-devise/authorizers/devise",["simple-auth/authorizers/base","./../configuration","exports"],function(l,j,k){var h=l["default"];var i=j["default"];k["default"]=h.extend({tokenAttributeName:"token",identificationAttributeName:"email",init:function(){this.tokenAttributeName=i.tokenAttributeName;this.identificationAttributeName=i.identificationAttributeName},authorize:function(r,m){var n=this.get("session.secure");var q=n[this.tokenAttributeName];var o=n[this.identificationAttributeName];if(this.get("session.isAuthenticated")&&!Ember.isEmpty(q)&&!Ember.isEmpty(o)){var p=this.tokenAttributeName+'="'+q+'", '+this.identificationAttributeName+'="'+o+'"';r.setRequestHeader("Authorization","Token "+p)}}})});g("simple-auth-devise/configuration",["simple-auth/utils/load-config","exports"],function(k,i){var h=k["default"];var j={serverTokenEndpoint:"/users/sign_in",resourceName:"user",tokenAttributeName:"token",identificationAttributeName:"email"};i["default"]={serverTokenEndpoint:j.serverTokenEndpoint,resourceName:j.resourceName,tokenAttributeName:j.tokenAttributeName,identificationAttributeName:j.identificationAttributeName,load:h(j)}});g("simple-auth-devise/ember",["./initializer"],function(i){var h=i["default"];Ember.onLoad("Ember.Application",function(j){j.initializer(h)})});g("simple-auth-devise/initializer",["./configuration","simple-auth/utils/get-global-config","simple-auth-devise/authenticators/devise","simple-auth-devise/authorizers/devise","exports"],function(n,p,j,l,o){var k=n["default"];var h=p["default"];var m=j["default"];var i=l["default"];o["default"]={name:"simple-auth-devise",before:"simple-auth",initialize:function(q,s){var r=h("simple-auth-devise");k.load(q,r);s.register("simple-auth-authorizer:devise",i);s.register("simple-auth-authenticator:devise",m)}}});g("simple-auth/authenticators/base",["exports"],function(h){h["default"]=e.SimpleAuth.Authenticators.Base});g("simple-auth/authorizers/base",["exports"],function(h){h["default"]=e.SimpleAuth.Authorizers.Base});g("simple-auth/utils/get-global-config",["exports"],function(h){h["default"]=e.SimpleAuth.Utils.getGlobalConfig});g("simple-auth/utils/load-config",["exports"],function(h){h["default"]=e.SimpleAuth.Utils.loadConfig});var d=a("simple-auth-devise/initializer")["default"];var b=a("simple-auth-devise/configuration")["default"];var f=a("simple-auth-devise/authenticators/devise")["default"];var c=a("simple-auth-devise/authorizers/devise")["default"];e.SimpleAuth.Configuration.Devise=b;e.SimpleAuth.Authenticators.Devise=f;e.SimpleAuth.Authorizers.Devise=c;a("simple-auth-devise/ember")})((typeof global!=="undefined")?global:window);