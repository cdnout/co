define(["pattern","utils"],function(n,r){function t(t){var u=[],a=[];r.forEach(t,function(t){r.forEach(t,function(r,t){var o=n.parse(r),c=e(t);return u.push(c),a.push(o),!1})});var o=function(n){var t;return r.forEach(u,function(r,e){return r.test(n)?(t=e,!1):void 0}),void 0===t?null:a[t]};return{getPattern:o,patterns:a,matchers:u}}var e=function(n){return"*"===n?/.*/:new RegExp(n)};return t});