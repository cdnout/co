goog.provide("i18n.phonenumbers.Error"),goog.provide("i18n.phonenumbers.PhoneNumberFormat"),goog.provide("i18n.phonenumbers.PhoneNumberType"),goog.provide("i18n.phonenumbers.PhoneNumberUtil"),goog.provide("i18n.phonenumbers.PhoneNumberUtil.MatchType"),goog.provide("i18n.phonenumbers.PhoneNumberUtil.ValidationResult"),goog.require("goog.array"),goog.require("goog.object"),goog.require("goog.proto2.PbLiteSerializer"),goog.require("goog.string"),goog.require("goog.string.StringBuffer"),goog.require("i18n.phonenumbers.NumberFormat"),goog.require("i18n.phonenumbers.PhoneMetadata"),goog.require("i18n.phonenumbers.PhoneNumber"),goog.require("i18n.phonenumbers.PhoneNumber.CountryCodeSource"),goog.require("i18n.phonenumbers.PhoneNumberDesc"),goog.require("i18n.phonenumbers.metadata"),i18n.phonenumbers.PhoneNumberUtil=function(){this.regionToMetadataMap={}},goog.addSingletonGetter(i18n.phonenumbers.PhoneNumberUtil),i18n.phonenumbers.Error={INVALID_COUNTRY_CODE:"Invalid country calling code",NOT_A_NUMBER:"The string supplied did not seem to be a phone number",TOO_SHORT_AFTER_IDD:"Phone number too short after IDD",TOO_SHORT_NSN:"The string supplied is too short to be a phone number",TOO_LONG:"The string supplied is too long to be a phone number"},i18n.phonenumbers.PhoneNumberUtil.NANPA_COUNTRY_CODE_=1,i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_FOR_NSN_=2,i18n.phonenumbers.PhoneNumberUtil.MAX_LENGTH_FOR_NSN_=17,i18n.phonenumbers.PhoneNumberUtil.MAX_LENGTH_COUNTRY_CODE_=3,i18n.phonenumbers.PhoneNumberUtil.MAX_INPUT_STRING_LENGTH_=250,i18n.phonenumbers.PhoneNumberUtil.UNKNOWN_REGION_="ZZ",i18n.phonenumbers.PhoneNumberUtil.COLOMBIA_MOBILE_TO_FIXED_LINE_PREFIX_="3",i18n.phonenumbers.PhoneNumberUtil.MOBILE_TOKEN_MAPPINGS_={54:"9"},i18n.phonenumbers.PhoneNumberUtil.GEO_MOBILE_COUNTRIES_=[52,54,55],i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN="+",i18n.phonenumbers.PhoneNumberUtil.STAR_SIGN_="*",i18n.phonenumbers.PhoneNumberUtil.RFC3966_EXTN_PREFIX_=";ext=",i18n.phonenumbers.PhoneNumberUtil.RFC3966_PREFIX_="tel:",i18n.phonenumbers.PhoneNumberUtil.RFC3966_PHONE_CONTEXT_=";phone-context=",i18n.phonenumbers.PhoneNumberUtil.RFC3966_ISDN_SUBADDRESS_=";isub=",i18n.phonenumbers.PhoneNumberUtil.DIGIT_MAPPINGS={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9"},i18n.phonenumbers.PhoneNumberUtil.DIALLABLE_CHAR_MAPPINGS_={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","+":i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN,"*":"*","#":"#"},i18n.phonenumbers.PhoneNumberUtil.ALPHA_MAPPINGS_={A:"2",B:"2",C:"2",D:"3",E:"3",F:"3",G:"4",H:"4",I:"4",J:"5",K:"5",L:"5",M:"6",N:"6",O:"6",P:"7",Q:"7",R:"7",S:"7",T:"8",U:"8",V:"8",W:"9",X:"9",Y:"9",Z:"9"},i18n.phonenumbers.PhoneNumberUtil.ALL_NORMALIZATION_MAPPINGS_={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9",A:"2",B:"2",C:"2",D:"3",E:"3",F:"3",G:"4",H:"4",I:"4",J:"5",K:"5",L:"5",M:"6",N:"6",O:"6",P:"7",Q:"7",R:"7",S:"7",T:"8",U:"8",V:"8",W:"9",X:"9",Y:"9",Z:"9"},i18n.phonenumbers.PhoneNumberUtil.ALL_PLUS_NUMBER_GROUPING_SYMBOLS_={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X",Y:"Y",Z:"Z",a:"A",b:"B",c:"C",d:"D",e:"E",f:"F",g:"G",h:"H",i:"I",j:"J",k:"K",l:"L",m:"M",n:"N",o:"O",p:"P",q:"Q",r:"R",s:"S",t:"T",u:"U",v:"V",w:"W",x:"X",y:"Y",z:"Z","-":"-","－":"-","‐":"-","‑":"-","‒":"-","–":"-","—":"-","―":"-","−":"-","/":"/","／":"/"," ":" ","　":" ","⁠":" ",".":".","．":"."},i18n.phonenumbers.PhoneNumberUtil.SINGLE_INTERNATIONAL_PREFIX_=/[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?/,i18n.phonenumbers.PhoneNumberUtil.VALID_PUNCTUATION="-x‐-―−ー－-／  ­​⁠　()（）［］.\\[\\]/~⁓∼～",i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_="0-9０-９٠-٩۰-۹",i18n.phonenumbers.PhoneNumberUtil.VALID_ALPHA_="A-Za-z",i18n.phonenumbers.PhoneNumberUtil.PLUS_CHARS_="+＋",i18n.phonenumbers.PhoneNumberUtil.PLUS_CHARS_PATTERN=new RegExp("["+i18n.phonenumbers.PhoneNumberUtil.PLUS_CHARS_+"]+"),i18n.phonenumbers.PhoneNumberUtil.LEADING_PLUS_CHARS_PATTERN=new RegExp("^["+i18n.phonenumbers.PhoneNumberUtil.PLUS_CHARS_+"]+"),i18n.phonenumbers.PhoneNumberUtil.SEPARATOR_PATTERN_="["+i18n.phonenumbers.PhoneNumberUtil.VALID_PUNCTUATION+"]+",i18n.phonenumbers.PhoneNumberUtil.CAPTURING_DIGIT_PATTERN=new RegExp("(["+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+"])"),i18n.phonenumbers.PhoneNumberUtil.VALID_START_CHAR_PATTERN_=new RegExp("["+i18n.phonenumbers.PhoneNumberUtil.PLUS_CHARS_+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+"]"),i18n.phonenumbers.PhoneNumberUtil.SECOND_NUMBER_START_PATTERN_=/[\\\/] *x/,i18n.phonenumbers.PhoneNumberUtil.UNWANTED_END_CHAR_PATTERN_=new RegExp("[^"+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+i18n.phonenumbers.PhoneNumberUtil.VALID_ALPHA_+"#]+$"),i18n.phonenumbers.PhoneNumberUtil.VALID_ALPHA_PHONE_PATTERN_=/(?:.*?[A-Za-z]){3}.*/,i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_PHONE_NUMBER_PATTERN_="["+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+"]{"+i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_FOR_NSN_+"}",i18n.phonenumbers.PhoneNumberUtil.VALID_PHONE_NUMBER_="["+i18n.phonenumbers.PhoneNumberUtil.PLUS_CHARS_+"]*(?:["+i18n.phonenumbers.PhoneNumberUtil.VALID_PUNCTUATION+i18n.phonenumbers.PhoneNumberUtil.STAR_SIGN_+"]*["+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+"]){3,}["+i18n.phonenumbers.PhoneNumberUtil.VALID_PUNCTUATION+i18n.phonenumbers.PhoneNumberUtil.STAR_SIGN_+i18n.phonenumbers.PhoneNumberUtil.VALID_ALPHA_+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+"]*",i18n.phonenumbers.PhoneNumberUtil.DEFAULT_EXTN_PREFIX_=" ext. ",i18n.phonenumbers.PhoneNumberUtil.extnDigits_=function(e){return"(["+i18n.phonenumbers.PhoneNumberUtil.VALID_DIGITS_+"]{1,"+e+"})"},i18n.phonenumbers.PhoneNumberUtil.createExtnPattern_=function(){var e="[  \\t,]*",n="[:\\.．]?[  \\t,-]*",r="#?",t="[  \\t]*";return i18n.phonenumbers.PhoneNumberUtil.RFC3966_EXTN_PREFIX_+i18n.phonenumbers.PhoneNumberUtil.extnDigits_("20")+"|"+(e+"(?:e?xt(?:ensi(?:ó?|ó))?n?|ｅ?ｘｔｎ?|доб|anexo)"+n+i18n.phonenumbers.PhoneNumberUtil.extnDigits_("20")+r)+"|"+(e+"(?:[xｘ#＃~～]|int|ｉｎｔ)"+n+i18n.phonenumbers.PhoneNumberUtil.extnDigits_("9")+r)+"|"+("[- ]+"+i18n.phonenumbers.PhoneNumberUtil.extnDigits_("6")+"#")+"|"+(t+"(?:,{2}|;)"+n+i18n.phonenumbers.PhoneNumberUtil.extnDigits_("15")+r)+"|"+(t+"(?:,)+"+n+i18n.phonenumbers.PhoneNumberUtil.extnDigits_("9")+r)},i18n.phonenumbers.PhoneNumberUtil.EXTN_PATTERN_=new RegExp("(?:"+i18n.phonenumbers.PhoneNumberUtil.createExtnPattern_()+")$","i"),i18n.phonenumbers.PhoneNumberUtil.VALID_PHONE_NUMBER_PATTERN_=new RegExp("^"+i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_PHONE_NUMBER_PATTERN_+"$|^"+i18n.phonenumbers.PhoneNumberUtil.VALID_PHONE_NUMBER_+"(?:"+i18n.phonenumbers.PhoneNumberUtil.createExtnPattern_()+")?$","i"),i18n.phonenumbers.PhoneNumberUtil.NON_DIGITS_PATTERN_=/\D+/,i18n.phonenumbers.PhoneNumberUtil.FIRST_GROUP_PATTERN_=/(\$\d)/,i18n.phonenumbers.PhoneNumberUtil.NP_PATTERN_=/\$NP/,i18n.phonenumbers.PhoneNumberUtil.FG_PATTERN_=/\$FG/,i18n.phonenumbers.PhoneNumberUtil.CC_PATTERN_=/\$CC/,i18n.phonenumbers.PhoneNumberUtil.FIRST_GROUP_ONLY_PREFIX_PATTERN_=/^\(?\$1\)?$/,i18n.phonenumbers.PhoneNumberUtil.REGION_CODE_FOR_NON_GEO_ENTITY="001",i18n.phonenumbers.PhoneNumberFormat={E164:0,INTERNATIONAL:1,NATIONAL:2,RFC3966:3},i18n.phonenumbers.PhoneNumberType={FIXED_LINE:0,MOBILE:1,FIXED_LINE_OR_MOBILE:2,TOLL_FREE:3,PREMIUM_RATE:4,SHARED_COST:5,VOIP:6,PERSONAL_NUMBER:7,PAGER:8,UAN:9,VOICEMAIL:10,UNKNOWN:-1},i18n.phonenumbers.PhoneNumberUtil.MatchType={NOT_A_NUMBER:0,NO_MATCH:1,SHORT_NSN_MATCH:2,NSN_MATCH:3,EXACT_MATCH:4},i18n.phonenumbers.PhoneNumberUtil.ValidationResult={IS_POSSIBLE:0,IS_POSSIBLE_LOCAL_ONLY:4,INVALID_COUNTRY_CODE:1,TOO_SHORT:2,INVALID_LENGTH:5,TOO_LONG:3},i18n.phonenumbers.PhoneNumberUtil.extractPossibleNumber=function(e){var n,r=e.search(i18n.phonenumbers.PhoneNumberUtil.VALID_START_CHAR_PATTERN_);return 0<=r?0<=(r=(n=(n=e.substring(r)).replace(i18n.phonenumbers.PhoneNumberUtil.UNWANTED_END_CHAR_PATTERN_,"")).search(i18n.phonenumbers.PhoneNumberUtil.SECOND_NUMBER_START_PATTERN_))&&(n=n.substring(0,r)):n="",n},i18n.phonenumbers.PhoneNumberUtil.isViablePhoneNumber=function(e){return!(e.length<i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_FOR_NSN_)&&i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(i18n.phonenumbers.PhoneNumberUtil.VALID_PHONE_NUMBER_PATTERN_,e)},i18n.phonenumbers.PhoneNumberUtil.normalize=function(e){return i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(i18n.phonenumbers.PhoneNumberUtil.VALID_ALPHA_PHONE_PATTERN_,e)?i18n.phonenumbers.PhoneNumberUtil.normalizeHelper_(e,i18n.phonenumbers.PhoneNumberUtil.ALL_NORMALIZATION_MAPPINGS_,!0):i18n.phonenumbers.PhoneNumberUtil.normalizeDigitsOnly(e)},i18n.phonenumbers.PhoneNumberUtil.normalizeSB_=function(e){var n=i18n.phonenumbers.PhoneNumberUtil.normalize(e.toString());e.clear(),e.append(n)},i18n.phonenumbers.PhoneNumberUtil.normalizeDigitsOnly=function(e){return i18n.phonenumbers.PhoneNumberUtil.normalizeHelper_(e,i18n.phonenumbers.PhoneNumberUtil.DIGIT_MAPPINGS,!0)},i18n.phonenumbers.PhoneNumberUtil.normalizeDiallableCharsOnly=function(e){return i18n.phonenumbers.PhoneNumberUtil.normalizeHelper_(e,i18n.phonenumbers.PhoneNumberUtil.DIALLABLE_CHAR_MAPPINGS_,!0)},i18n.phonenumbers.PhoneNumberUtil.convertAlphaCharactersInNumber=function(e){return i18n.phonenumbers.PhoneNumberUtil.normalizeHelper_(e,i18n.phonenumbers.PhoneNumberUtil.ALL_NORMALIZATION_MAPPINGS_,!1)},i18n.phonenumbers.PhoneNumberUtil.prototype.getLengthOfGeographicalAreaCode=function(e){var n=this.getMetadataForRegion(this.getRegionCodeForNumber(e));return null!=n&&(n.hasNationalPrefix()||e.hasItalianLeadingZero())&&this.isNumberGeographical(e)?this.getLengthOfNationalDestinationCode(e):0},i18n.phonenumbers.PhoneNumberUtil.prototype.getLengthOfNationalDestinationCode=function(e){e.hasExtension()?(n=e.clone()).clearExtension():n=e;var n=this.format(n,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL).split(i18n.phonenumbers.PhoneNumberUtil.NON_DIGITS_PATTERN_);if(0==n[0].length&&n.shift(),n.length<=2)return 0;if(this.getNumberType(e)==i18n.phonenumbers.PhoneNumberType.MOBILE){e=i18n.phonenumbers.PhoneNumberUtil.getCountryMobileToken(e.getCountryCodeOrDefault());if(""!=e)return n[2].length+e.length}return n[1].length},i18n.phonenumbers.PhoneNumberUtil.getCountryMobileToken=function(e){return i18n.phonenumbers.PhoneNumberUtil.MOBILE_TOKEN_MAPPINGS_[e]||""},i18n.phonenumbers.PhoneNumberUtil.prototype.getSupportedRegions=function(){return goog.array.filter(Object.keys(i18n.phonenumbers.metadata.countryToMetadata),function(e){return isNaN(e)})},i18n.phonenumbers.PhoneNumberUtil.prototype.getSupportedGlobalNetworkCallingCodes=function(){var e=goog.array.filter(Object.keys(i18n.phonenumbers.metadata.countryToMetadata),function(e){return!isNaN(e)});return goog.array.map(e,function(e){return parseInt(e,10)})},i18n.phonenumbers.PhoneNumberUtil.prototype.getSupportedCallingCodes=function(){var e=Object.keys(i18n.phonenumbers.metadata.countryCodeToRegionCodeMap);return goog.array.join(this.getSupportedGlobalNetworkCallingCodes(),goog.array.map(e,function(e){return parseInt(e,10)}))},i18n.phonenumbers.PhoneNumberUtil.descHasPossibleNumberData_=function(e){return null!=e&&(1!=e.possibleLengthCount()||-1!=e.possibleLengthArray()[0])},i18n.phonenumbers.PhoneNumberUtil.descHasData_=function(e){return null!=e&&(e.hasExampleNumber()||i18n.phonenumbers.PhoneNumberUtil.descHasPossibleNumberData_(e)||e.hasNationalNumberPattern())},i18n.phonenumbers.PhoneNumberUtil.getSupportedTypesForMetadata_=function(r){var t=[];return goog.object.forEach(i18n.phonenumbers.PhoneNumberType,function(e){var n;e!=i18n.phonenumbers.PhoneNumberType.FIXED_LINE_OR_MOBILE&&e!=i18n.phonenumbers.PhoneNumberType.UNKNOWN&&(n=i18n.phonenumbers.PhoneNumberUtil.getNumberDescByType_(r,e),i18n.phonenumbers.PhoneNumberUtil.descHasData_(n)&&t.push(e))}),t},i18n.phonenumbers.PhoneNumberUtil.prototype.getSupportedTypesForRegion=function(e){return this.isValidRegionCode_(e)?i18n.phonenumbers.PhoneNumberUtil.getSupportedTypesForMetadata_(this.getMetadataForRegion(e)):[]},i18n.phonenumbers.PhoneNumberUtil.prototype.getSupportedTypesForNonGeoEntity=function(e){e=this.getMetadataForNonGeographicalRegion(e);return null==e?[]:i18n.phonenumbers.PhoneNumberUtil.getSupportedTypesForMetadata_(e)},i18n.phonenumbers.PhoneNumberUtil.normalizeHelper_=function(e,n,r){for(var t,o,i=new goog.string.StringBuffer,u=e.length,h=0;h<u;++h)null!=(o=n[(t=e.charAt(h)).toUpperCase()])?i.append(o):r||i.append(t);return i.toString()},i18n.phonenumbers.PhoneNumberUtil.prototype.formattingRuleHasFirstGroupOnly=function(e){return 0==e.length||i18n.phonenumbers.PhoneNumberUtil.FIRST_GROUP_ONLY_PREFIX_PATTERN_.test(e)},i18n.phonenumbers.PhoneNumberUtil.prototype.isNumberGeographical=function(e){var n=this.getNumberType(e);return n==i18n.phonenumbers.PhoneNumberType.FIXED_LINE||n==i18n.phonenumbers.PhoneNumberType.FIXED_LINE_OR_MOBILE||goog.array.contains(i18n.phonenumbers.PhoneNumberUtil.GEO_MOBILE_COUNTRIES_,e.getCountryCodeOrDefault())&&n==i18n.phonenumbers.PhoneNumberType.MOBILE},i18n.phonenumbers.PhoneNumberUtil.prototype.isValidRegionCode_=function(e){return null!=e&&isNaN(e)&&e.toUpperCase()in i18n.phonenumbers.metadata.countryToMetadata},i18n.phonenumbers.PhoneNumberUtil.prototype.hasValidCountryCallingCode_=function(e){return e in i18n.phonenumbers.metadata.countryCodeToRegionCodeMap},i18n.phonenumbers.PhoneNumberUtil.prototype.format=function(e,n){if(0==e.getNationalNumber()&&e.hasRawInput()){var r=e.getRawInputOrDefault();if(0<r.length)return r}var t=e.getCountryCodeOrDefault(),o=this.getNationalSignificantNumber(e);if(n==i18n.phonenumbers.PhoneNumberFormat.E164)return this.prefixNumberWithCountryCallingCode_(t,i18n.phonenumbers.PhoneNumberFormat.E164,o,"");if(!this.hasValidCountryCallingCode_(t))return o;r=this.getRegionCodeForCountryCode(t),r=this.getMetadataForRegionOrCallingCode_(t,r),e=this.maybeGetFormattedExtension_(e,r,n),r=this.formatNsn_(o,r,n);return this.prefixNumberWithCountryCallingCode_(t,n,r,e)},i18n.phonenumbers.PhoneNumberUtil.prototype.formatByPattern=function(e,n,r){var t=e.getCountryCodeOrDefault(),o=this.getNationalSignificantNumber(e);if(!this.hasValidCountryCallingCode_(t))return o;var i=this.getRegionCodeForCountryCode(t),u=this.getMetadataForRegionOrCallingCode_(t,i),h="",m=this.chooseFormattingPatternForNumber_(r,o),h=null==m?o:(i=m.clone(),0<(r=m.getNationalPrefixFormattingRuleOrDefault()).length&&(0<(m=u.getNationalPrefixOrDefault()).length?(r=r.replace(i18n.phonenumbers.PhoneNumberUtil.NP_PATTERN_,m).replace(i18n.phonenumbers.PhoneNumberUtil.FG_PATTERN_,"$1"),i.setNationalPrefixFormattingRule(r)):i.clearNationalPrefixFormattingRule()),this.formatNsnUsingPattern_(o,i,n)),u=this.maybeGetFormattedExtension_(e,u,n);return this.prefixNumberWithCountryCallingCode_(t,n,h,u)},i18n.phonenumbers.PhoneNumberUtil.prototype.formatNationalNumberWithCarrierCode=function(e,n){var r=e.getCountryCodeOrDefault(),t=this.getNationalSignificantNumber(e);if(!this.hasValidCountryCallingCode_(r))return t;var o=this.getRegionCodeForCountryCode(r),o=this.getMetadataForRegionOrCallingCode_(r,o),e=this.maybeGetFormattedExtension_(e,o,i18n.phonenumbers.PhoneNumberFormat.NATIONAL),n=this.formatNsn_(t,o,i18n.phonenumbers.PhoneNumberFormat.NATIONAL,n);return this.prefixNumberWithCountryCallingCode_(r,i18n.phonenumbers.PhoneNumberFormat.NATIONAL,n,e)},i18n.phonenumbers.PhoneNumberUtil.prototype.getMetadataForRegionOrCallingCode_=function(e,n){return i18n.phonenumbers.PhoneNumberUtil.REGION_CODE_FOR_NON_GEO_ENTITY==n?this.getMetadataForNonGeographicalRegion(e):this.getMetadataForRegion(n)},i18n.phonenumbers.PhoneNumberUtil.prototype.formatNationalNumberWithPreferredCarrierCode=function(e,n){return this.formatNationalNumberWithCarrierCode(e,0<e.getPreferredDomesticCarrierCodeOrDefault().length?e.getPreferredDomesticCarrierCodeOrDefault():n)},i18n.phonenumbers.PhoneNumberUtil.prototype.formatNumberForMobileDialing=function(e,n,r){var t=e.getCountryCodeOrDefault();if(!this.hasValidCountryCallingCode_(t))return e.hasRawInput()?e.getRawInputOrDefault():"";var o="",i=e.clone();i.clearExtension();var u=this.getRegionCodeForCountryCode(t),h=this.getNumberType(i),m=h!=i18n.phonenumbers.PhoneNumberType.UNKNOWN;if(n==u){e=h==i18n.phonenumbers.PhoneNumberType.FIXED_LINE||h==i18n.phonenumbers.PhoneNumberType.MOBILE||h==i18n.phonenumbers.PhoneNumberType.FIXED_LINE_OR_MOBILE;o="CO"==u&&h==i18n.phonenumbers.PhoneNumberType.FIXED_LINE?this.formatNationalNumberWithCarrierCode(i,i18n.phonenumbers.PhoneNumberUtil.COLOMBIA_MOBILE_TO_FIXED_LINE_PREFIX_):"BR"==u&&e?0<i.getPreferredDomesticCarrierCodeOrDefault().length?this.formatNationalNumberWithPreferredCarrierCode(i,""):"":t==i18n.phonenumbers.PhoneNumberUtil.NANPA_COUNTRY_CODE_?(n=this.getMetadataForRegion(n),this.canBeInternationallyDialled(i)&&this.testNumberLength_(this.getNationalSignificantNumber(i),n)!=i18n.phonenumbers.PhoneNumberUtil.ValidationResult.TOO_SHORT?this.format(i,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL):this.format(i,i18n.phonenumbers.PhoneNumberFormat.NATIONAL)):(u==i18n.phonenumbers.PhoneNumberUtil.REGION_CODE_FOR_NON_GEO_ENTITY||("MX"==u||"CL"==u||"UZ"==u)&&e)&&this.canBeInternationallyDialled(i)?this.format(i,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL):this.format(i,i18n.phonenumbers.PhoneNumberFormat.NATIONAL)}else if(m&&this.canBeInternationallyDialled(i))return r?this.format(i,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL):this.format(i,i18n.phonenumbers.PhoneNumberFormat.E164);return r?o:i18n.phonenumbers.PhoneNumberUtil.normalizeDiallableCharsOnly(o)},i18n.phonenumbers.PhoneNumberUtil.prototype.formatOutOfCountryCallingNumber=function(e,n){if(!this.isValidRegionCode_(n))return this.format(e,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL);var r=e.getCountryCodeOrDefault(),t=this.getNationalSignificantNumber(e);if(!this.hasValidCountryCallingCode_(r))return t;if(r==i18n.phonenumbers.PhoneNumberUtil.NANPA_COUNTRY_CODE_){if(this.isNANPACountry(n))return r+" "+this.format(e,i18n.phonenumbers.PhoneNumberFormat.NATIONAL)}else if(r==this.getCountryCodeForValidRegion_(n))return this.format(e,i18n.phonenumbers.PhoneNumberFormat.NATIONAL);var o=this.getMetadataForRegion(n),i=o.getInternationalPrefixOrDefault(),n="";i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(i18n.phonenumbers.PhoneNumberUtil.SINGLE_INTERNATIONAL_PREFIX_,i)?n=i:o.hasPreferredInternationalPrefix()&&(n=o.getPreferredInternationalPrefixOrDefault());o=this.getRegionCodeForCountryCode(r),o=this.getMetadataForRegionOrCallingCode_(r,o),t=this.formatNsn_(t,o,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL),o=this.maybeGetFormattedExtension_(e,o,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL);return 0<n.length?n+" "+r+" "+t+o:this.prefixNumberWithCountryCallingCode_(r,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL,t,o)},i18n.phonenumbers.PhoneNumberUtil.prototype.formatInOriginalFormat=function(e,n){if(e.hasRawInput()&&!this.hasFormattingPatternForNumber_(e))return e.getRawInputOrDefault();if(!e.hasCountryCodeSource())return this.format(e,i18n.phonenumbers.PhoneNumberFormat.NATIONAL);var r;switch(e.getCountryCodeSource()){case i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_NUMBER_WITH_PLUS_SIGN:r=this.format(e,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL);break;case i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_NUMBER_WITH_IDD:r=this.formatOutOfCountryCallingNumber(e,n);break;case i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_NUMBER_WITHOUT_PLUS_SIGN:r=this.format(e,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL).substring(1);break;case i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_DEFAULT_COUNTRY:default:var t=this.getRegionCodeForCountryCode(e.getCountryCodeOrDefault()),o=this.getNddPrefixForRegion(t,!0),i=this.format(e,i18n.phonenumbers.PhoneNumberFormat.NATIONAL);if(null==o||0==o.length){r=i;break}if(this.rawInputContainsNationalPrefix_(e.getRawInputOrDefault(),o,t)){r=i;break}n=this.getMetadataForRegion(t),o=this.getNationalSignificantNumber(e),t=this.chooseFormattingPatternForNumber_(n.numberFormatArray(),o);if(null==t){r=i;break}n=t.getNationalPrefixFormattingRuleOrDefault(),o=n.indexOf("$1");if(o<=0){r=i;break}if(n=n.substring(0,o),0==(n=i18n.phonenumbers.PhoneNumberUtil.normalizeDigitsOnly(n)).length){r=i;break}t=t.clone();t.clearNationalPrefixFormattingRule(),r=this.formatByPattern(e,i18n.phonenumbers.PhoneNumberFormat.NATIONAL,[t])}e=e.getRawInputOrDefault();return null!=r&&0<e.length&&i18n.phonenumbers.PhoneNumberUtil.normalizeDiallableCharsOnly(r)!=i18n.phonenumbers.PhoneNumberUtil.normalizeDiallableCharsOnly(e)&&(r=e),r},i18n.phonenumbers.PhoneNumberUtil.prototype.rawInputContainsNationalPrefix_=function(e,n,r){var t=i18n.phonenumbers.PhoneNumberUtil.normalizeDigitsOnly(e);if(goog.string.startsWith(t,n))try{return this.isValidNumber(this.parse(t.substring(n.length),r))}catch(e){return!1}return!1},i18n.phonenumbers.PhoneNumberUtil.prototype.hasFormattingPatternForNumber_=function(e){var n=e.getCountryCodeOrDefault(),r=this.getRegionCodeForCountryCode(n),r=this.getMetadataForRegionOrCallingCode_(n,r);if(null==r)return!1;e=this.getNationalSignificantNumber(e);return null!=this.chooseFormattingPatternForNumber_(r.numberFormatArray(),e)},i18n.phonenumbers.PhoneNumberUtil.prototype.formatOutOfCountryKeepingAlphaChars=function(e,n){var r=e.getRawInputOrDefault();if(0==r.length)return this.formatOutOfCountryCallingNumber(e,n);var t=e.getCountryCodeOrDefault();if(!this.hasValidCountryCallingCode_(t))return r;r=i18n.phonenumbers.PhoneNumberUtil.normalizeHelper_(r,i18n.phonenumbers.PhoneNumberUtil.ALL_PLUS_NUMBER_GROUPING_SYMBOLS_,!0);var o=this.getNationalSignificantNumber(e);3<o.length&&(-1!=(i=r.indexOf(o.substring(0,3)))&&(r=r.substring(i)));var i=this.getMetadataForRegion(n);if(t==i18n.phonenumbers.PhoneNumberUtil.NANPA_COUNTRY_CODE_){if(this.isNANPACountry(n))return t+" "+r}else if(null!=i&&t==this.getCountryCodeForValidRegion_(n)){var u=this.chooseFormattingPatternForNumber_(i.numberFormatArray(),o);if(null==u)return r;var h=u.clone();return h.setPattern("(\\d+)(.*)"),h.setFormat("$1$2"),this.formatNsnUsingPattern_(r,h,i18n.phonenumbers.PhoneNumberFormat.NATIONAL)}u="";null!=i&&(h=i.getInternationalPrefixOrDefault(),u=i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(i18n.phonenumbers.PhoneNumberUtil.SINGLE_INTERNATIONAL_PREFIX_,h)?h:i.getPreferredInternationalPrefixOrDefault());i=this.getRegionCodeForCountryCode(t),i=this.getMetadataForRegionOrCallingCode_(t,i),i=this.maybeGetFormattedExtension_(e,i,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL);return 0<u.length?u+" "+t+" "+r+i:this.prefixNumberWithCountryCallingCode_(t,i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL,r,i)},i18n.phonenumbers.PhoneNumberUtil.prototype.getNationalSignificantNumber=function(e){if(!e.hasNationalNumber())return"";var n=""+e.getNationalNumber();return e.hasItalianLeadingZero()&&e.getItalianLeadingZero()&&0<e.getNumberOfLeadingZerosOrDefault()?Array(e.getNumberOfLeadingZerosOrDefault()+1).join("0")+n:n},i18n.phonenumbers.PhoneNumberUtil.prototype.prefixNumberWithCountryCallingCode_=function(e,n,r,t){switch(n){case i18n.phonenumbers.PhoneNumberFormat.E164:return i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN+e+r+t;case i18n.phonenumbers.PhoneNumberFormat.INTERNATIONAL:return i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN+e+" "+r+t;case i18n.phonenumbers.PhoneNumberFormat.RFC3966:return i18n.phonenumbers.PhoneNumberUtil.RFC3966_PREFIX_+i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN+e+"-"+r+t;case i18n.phonenumbers.PhoneNumberFormat.NATIONAL:default:return r+t}},i18n.phonenumbers.PhoneNumberUtil.prototype.formatNsn_=function(e,n,r,t){n=0==n.intlNumberFormatArray().length||r==i18n.phonenumbers.PhoneNumberFormat.NATIONAL?n.numberFormatArray():n.intlNumberFormatArray(),n=this.chooseFormattingPatternForNumber_(n,e);return null==n?e:this.formatNsnUsingPattern_(e,n,r,t)},i18n.phonenumbers.PhoneNumberUtil.prototype.chooseFormattingPatternForNumber_=function(e,n){for(var r,t=e.length,o=0;o<t;++o){var i=(r=e[o]).leadingDigitsPatternCount();if(0==i||0==n.search(r.getLeadingDigitsPattern(i-1))){i=new RegExp(r.getPattern());if(i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(i,n))return r}}return null},i18n.phonenumbers.PhoneNumberUtil.prototype.formatNsnUsingPattern_=function(e,n,r,t){var o=n.getFormatOrDefault(),i=new RegExp(n.getPattern()),u=n.getDomesticCarrierCodeFormattingRuleOrDefault(),h="";return h=r==i18n.phonenumbers.PhoneNumberFormat.NATIONAL&&null!=t&&0<t.length&&0<u.length?(t=u.replace(i18n.phonenumbers.PhoneNumberUtil.CC_PATTERN_,t),o=o.replace(i18n.phonenumbers.PhoneNumberUtil.FIRST_GROUP_PATTERN_,t),e.replace(i,o)):(n=n.getNationalPrefixFormattingRuleOrDefault(),r==i18n.phonenumbers.PhoneNumberFormat.NATIONAL&&null!=n&&0<n.length?e.replace(i,o.replace(i18n.phonenumbers.PhoneNumberUtil.FIRST_GROUP_PATTERN_,n)):e.replace(i,o)),r==i18n.phonenumbers.PhoneNumberFormat.RFC3966&&(h=(h=h.replace(new RegExp("^"+i18n.phonenumbers.PhoneNumberUtil.SEPARATOR_PATTERN_),"")).replace(new RegExp(i18n.phonenumbers.PhoneNumberUtil.SEPARATOR_PATTERN_,"g"),"-")),h},i18n.phonenumbers.PhoneNumberUtil.prototype.getExampleNumber=function(e){return this.getExampleNumberForType(e,i18n.phonenumbers.PhoneNumberType.FIXED_LINE)},i18n.phonenumbers.PhoneNumberUtil.prototype.getExampleNumberForType=function(e,n){if(!this.isValidRegionCode_(e))return null;var r=i18n.phonenumbers.PhoneNumberUtil.getNumberDescByType_(this.getMetadataForRegion(e),n);try{if(r.hasExampleNumber())return this.parse(r.getExampleNumber(),e)}catch(e){}return null},i18n.phonenumbers.PhoneNumberUtil.prototype.getExampleNumberForNonGeoEntity=function(e){var n=this.getMetadataForNonGeographicalRegion(e);if(null!=n){var r=goog.array.find([n.getMobile(),n.getTollFree(),n.getSharedCost(),n.getVoip(),n.getVoicemail(),n.getUan(),n.getPremiumRate()],function(e,n){return e.hasExampleNumber()});if(null!=r)try{return this.parse("+"+e+r.getExampleNumber(),"ZZ")}catch(e){}}return null},i18n.phonenumbers.PhoneNumberUtil.prototype.maybeGetFormattedExtension_=function(e,n,r){return e.hasExtension()&&0!=e.getExtension().length?r==i18n.phonenumbers.PhoneNumberFormat.RFC3966?i18n.phonenumbers.PhoneNumberUtil.RFC3966_EXTN_PREFIX_+e.getExtension():n.hasPreferredExtnPrefix()?n.getPreferredExtnPrefix()+e.getExtensionOrDefault():i18n.phonenumbers.PhoneNumberUtil.DEFAULT_EXTN_PREFIX_+e.getExtensionOrDefault():""},i18n.phonenumbers.PhoneNumberUtil.getNumberDescByType_=function(e,n){switch(n){case i18n.phonenumbers.PhoneNumberType.PREMIUM_RATE:return e.getPremiumRate();case i18n.phonenumbers.PhoneNumberType.TOLL_FREE:return e.getTollFree();case i18n.phonenumbers.PhoneNumberType.MOBILE:return e.getMobile();case i18n.phonenumbers.PhoneNumberType.FIXED_LINE:case i18n.phonenumbers.PhoneNumberType.FIXED_LINE_OR_MOBILE:return e.getFixedLine();case i18n.phonenumbers.PhoneNumberType.SHARED_COST:return e.getSharedCost();case i18n.phonenumbers.PhoneNumberType.VOIP:return e.getVoip();case i18n.phonenumbers.PhoneNumberType.PERSONAL_NUMBER:return e.getPersonalNumber();case i18n.phonenumbers.PhoneNumberType.PAGER:return e.getPager();case i18n.phonenumbers.PhoneNumberType.UAN:return e.getUan();case i18n.phonenumbers.PhoneNumberType.VOICEMAIL:return e.getVoicemail();default:return e.getGeneralDesc()}},i18n.phonenumbers.PhoneNumberUtil.prototype.getNumberType=function(e){var n=this.getRegionCodeForNumber(e),n=this.getMetadataForRegionOrCallingCode_(e.getCountryCodeOrDefault(),n);if(null==n)return i18n.phonenumbers.PhoneNumberType.UNKNOWN;e=this.getNationalSignificantNumber(e);return this.getNumberTypeHelper_(e,n)},i18n.phonenumbers.PhoneNumberUtil.prototype.getNumberTypeHelper_=function(e,n){return this.isNumberMatchingDesc_(e,n.getGeneralDesc())?this.isNumberMatchingDesc_(e,n.getPremiumRate())?i18n.phonenumbers.PhoneNumberType.PREMIUM_RATE:this.isNumberMatchingDesc_(e,n.getTollFree())?i18n.phonenumbers.PhoneNumberType.TOLL_FREE:this.isNumberMatchingDesc_(e,n.getSharedCost())?i18n.phonenumbers.PhoneNumberType.SHARED_COST:this.isNumberMatchingDesc_(e,n.getVoip())?i18n.phonenumbers.PhoneNumberType.VOIP:this.isNumberMatchingDesc_(e,n.getPersonalNumber())?i18n.phonenumbers.PhoneNumberType.PERSONAL_NUMBER:this.isNumberMatchingDesc_(e,n.getPager())?i18n.phonenumbers.PhoneNumberType.PAGER:this.isNumberMatchingDesc_(e,n.getUan())?i18n.phonenumbers.PhoneNumberType.UAN:this.isNumberMatchingDesc_(e,n.getVoicemail())?i18n.phonenumbers.PhoneNumberType.VOICEMAIL:this.isNumberMatchingDesc_(e,n.getFixedLine())?n.getSameMobileAndFixedLinePattern()||this.isNumberMatchingDesc_(e,n.getMobile())?i18n.phonenumbers.PhoneNumberType.FIXED_LINE_OR_MOBILE:i18n.phonenumbers.PhoneNumberType.FIXED_LINE:!n.getSameMobileAndFixedLinePattern()&&this.isNumberMatchingDesc_(e,n.getMobile())?i18n.phonenumbers.PhoneNumberType.MOBILE:i18n.phonenumbers.PhoneNumberType.UNKNOWN:i18n.phonenumbers.PhoneNumberType.UNKNOWN},i18n.phonenumbers.PhoneNumberUtil.prototype.getMetadataForRegion=function(e){if(null==e)return null;e=e.toUpperCase();var n=this.regionToMetadataMap[e];if(null==n){var r=new goog.proto2.PbLiteSerializer,t=i18n.phonenumbers.metadata.countryToMetadata[e];if(null==t)return null;n=r.deserialize(i18n.phonenumbers.PhoneMetadata.getDescriptor(),t),this.regionToMetadataMap[e]=n}return n},i18n.phonenumbers.PhoneNumberUtil.prototype.getMetadataForNonGeographicalRegion=function(e){return this.getMetadataForRegion(""+e)},i18n.phonenumbers.PhoneNumberUtil.prototype.isNumberMatchingDesc_=function(e,n){var r=e.length;return!(0<n.possibleLengthCount()&&-1==goog.array.indexOf(n.possibleLengthArray(),r))&&i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(n.getNationalNumberPatternOrDefault(),e)},i18n.phonenumbers.PhoneNumberUtil.prototype.isValidNumber=function(e){var n=this.getRegionCodeForNumber(e);return this.isValidNumberForRegion(e,n)},i18n.phonenumbers.PhoneNumberUtil.prototype.isValidNumberForRegion=function(e,n){var r=e.getCountryCodeOrDefault(),t=this.getMetadataForRegionOrCallingCode_(r,n);if(null==t||i18n.phonenumbers.PhoneNumberUtil.REGION_CODE_FOR_NON_GEO_ENTITY!=n&&r!=this.getCountryCodeForValidRegion_(n))return!1;e=this.getNationalSignificantNumber(e);return this.getNumberTypeHelper_(e,t)!=i18n.phonenumbers.PhoneNumberType.UNKNOWN},i18n.phonenumbers.PhoneNumberUtil.prototype.getRegionCodeForNumber=function(e){if(null==e)return null;var n=e.getCountryCodeOrDefault(),n=i18n.phonenumbers.metadata.countryCodeToRegionCodeMap[n];return null==n?null:1==n.length?n[0]:this.getRegionCodeForNumberFromRegionList_(e,n)},i18n.phonenumbers.PhoneNumberUtil.prototype.getRegionCodeForNumberFromRegionList_=function(e,n){for(var r,t=this.getNationalSignificantNumber(e),o=n.length,i=0;i<o;i++){r=n[i];var u=this.getMetadataForRegion(r);if(u.hasLeadingDigits()){if(0==t.search(u.getLeadingDigits()))return r}else if(this.getNumberTypeHelper_(t,u)!=i18n.phonenumbers.PhoneNumberType.UNKNOWN)return r}return null},i18n.phonenumbers.PhoneNumberUtil.prototype.getRegionCodeForCountryCode=function(e){e=i18n.phonenumbers.metadata.countryCodeToRegionCodeMap[e];return null==e?i18n.phonenumbers.PhoneNumberUtil.UNKNOWN_REGION_:e[0]},i18n.phonenumbers.PhoneNumberUtil.prototype.getRegionCodesForCountryCode=function(e){e=i18n.phonenumbers.metadata.countryCodeToRegionCodeMap[e];return null==e?[]:e},i18n.phonenumbers.PhoneNumberUtil.prototype.getCountryCodeForRegion=function(e){return this.isValidRegionCode_(e)?this.getCountryCodeForValidRegion_(e):0},i18n.phonenumbers.PhoneNumberUtil.prototype.getCountryCodeForValidRegion_=function(e){var n=this.getMetadataForRegion(e);if(null==n)throw new Error("Invalid region code: "+e);return n.getCountryCodeOrDefault()},i18n.phonenumbers.PhoneNumberUtil.prototype.getNddPrefixForRegion=function(e,n){e=this.getMetadataForRegion(e);if(null==e)return null;e=e.getNationalPrefixOrDefault();return 0==e.length?null:(n&&(e=e.replace("~","")),e)},i18n.phonenumbers.PhoneNumberUtil.prototype.isNANPACountry=function(e){return null!=e&&goog.array.contains(i18n.phonenumbers.metadata.countryCodeToRegionCodeMap[i18n.phonenumbers.PhoneNumberUtil.NANPA_COUNTRY_CODE_],e.toUpperCase())},i18n.phonenumbers.PhoneNumberUtil.prototype.isAlphaNumber=function(e){if(!i18n.phonenumbers.PhoneNumberUtil.isViablePhoneNumber(e))return!1;e=new goog.string.StringBuffer(e);return this.maybeStripExtension(e),i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(i18n.phonenumbers.PhoneNumberUtil.VALID_ALPHA_PHONE_PATTERN_,e.toString())},i18n.phonenumbers.PhoneNumberUtil.prototype.isPossibleNumber=function(e){e=this.isPossibleNumberWithReason(e);return e==i18n.phonenumbers.PhoneNumberUtil.ValidationResult.IS_POSSIBLE||e==i18n.phonenumbers.PhoneNumberUtil.ValidationResult.IS_POSSIBLE_LOCAL_ONLY},i18n.phonenumbers.PhoneNumberUtil.prototype.isPossibleNumberForType=function(e,n){n=this.isPossibleNumberForTypeWithReason(e,n);return n==i18n.phonenumbers.PhoneNumberUtil.ValidationResult.IS_POSSIBLE||n==i18n.phonenumbers.PhoneNumberUtil.ValidationResult.IS_POSSIBLE_LOCAL_ONLY},i18n.phonenumbers.PhoneNumberUtil.prototype.testNumberLength_=function(e,n){return this.testNumberLengthForType_(e,n,i18n.phonenumbers.PhoneNumberType.UNKNOWN)},i18n.phonenumbers.PhoneNumberUtil.prototype.testNumberLengthForType_=function(e,n,r){var t=i18n.phonenumbers.PhoneNumberUtil.getNumberDescByType_(n,r),o=(0==t.possibleLengthCount()?n.getGeneralDesc():t).possibleLengthArray(),t=t.possibleLengthLocalOnlyArray();if(r==i18n.phonenumbers.PhoneNumberType.FIXED_LINE_OR_MOBILE){if(!i18n.phonenumbers.PhoneNumberUtil.descHasPossibleNumberData_(i18n.phonenumbers.PhoneNumberUtil.getNumberDescByType_(n,i18n.phonenumbers.PhoneNumberType.FIXED_LINE)))return this.testNumberLengthForType_(e,n,i18n.phonenumbers.PhoneNumberType.MOBILE);r=i18n.phonenumbers.PhoneNumberUtil.getNumberDescByType_(n,i18n.phonenumbers.PhoneNumberType.MOBILE);i18n.phonenumbers.PhoneNumberUtil.descHasPossibleNumberData_(r)&&(o=o.concat((0==r.possibleLengthCount()?n.getGeneralDesc():r).possibleLengthArray()),goog.array.sort(o),0==t.length?t=r.possibleLengthLocalOnlyArray():(t=t.concat(r.possibleLengthLocalOnlyArray()),goog.array.sort(t)))}if(-1==o[0])return i18n.phonenumbers.PhoneNumberUtil.ValidationResult.INVALID_LENGTH;e=e.length;if(-1<goog.array.indexOf(t,e))return i18n.phonenumbers.PhoneNumberUtil.ValidationResult.IS_POSSIBLE_LOCAL_ONLY;t=o[0];return t==e?i18n.phonenumbers.PhoneNumberUtil.ValidationResult.IS_POSSIBLE:e<t?i18n.phonenumbers.PhoneNumberUtil.ValidationResult.TOO_SHORT:o[o.length-1]<e?i18n.phonenumbers.PhoneNumberUtil.ValidationResult.TOO_LONG:-1<goog.array.indexOf(o,e,1)?i18n.phonenumbers.PhoneNumberUtil.ValidationResult.IS_POSSIBLE:i18n.phonenumbers.PhoneNumberUtil.ValidationResult.INVALID_LENGTH},i18n.phonenumbers.PhoneNumberUtil.prototype.isPossibleNumberWithReason=function(e){return this.isPossibleNumberForTypeWithReason(e,i18n.phonenumbers.PhoneNumberType.UNKNOWN)},i18n.phonenumbers.PhoneNumberUtil.prototype.isPossibleNumberForTypeWithReason=function(e,n){var r=this.getNationalSignificantNumber(e),t=e.getCountryCodeOrDefault();if(!this.hasValidCountryCallingCode_(t))return i18n.phonenumbers.PhoneNumberUtil.ValidationResult.INVALID_COUNTRY_CODE;e=this.getRegionCodeForCountryCode(t),e=this.getMetadataForRegionOrCallingCode_(t,e);return this.testNumberLengthForType_(r,e,n)},i18n.phonenumbers.PhoneNumberUtil.prototype.isPossibleNumberString=function(e,n){try{return this.isPossibleNumber(this.parse(e,n))}catch(e){return!1}},i18n.phonenumbers.PhoneNumberUtil.prototype.truncateTooLongNumber=function(e){if(this.isValidNumber(e))return!0;var n=e.clone(),r=e.getNationalNumberOrDefault();do{if(r=Math.floor(r/10),n.setNationalNumber(r),0==r||this.isPossibleNumberWithReason(n)==i18n.phonenumbers.PhoneNumberUtil.ValidationResult.TOO_SHORT)return!1}while(!this.isValidNumber(n));return e.setNationalNumber(r),!0},i18n.phonenumbers.PhoneNumberUtil.prototype.extractCountryCode=function(e,n){var r,t=e.toString();if(0==t.length||"0"==t.charAt(0))return 0;for(var o=t.length,i=1;i<=i18n.phonenumbers.PhoneNumberUtil.MAX_LENGTH_COUNTRY_CODE_&&i<=o;++i)if((r=parseInt(t.substring(0,i),10))in i18n.phonenumbers.metadata.countryCodeToRegionCodeMap)return n.append(t.substring(i)),r;return 0},i18n.phonenumbers.PhoneNumberUtil.prototype.maybeExtractCountryCode=function(e,n,r,t,o){if(0==e.length)return 0;var i=new goog.string.StringBuffer(e);null!=n&&(h=n.getInternationalPrefix()),null==h&&(h="NonMatch");e=this.maybeStripInternationalPrefixAndNormalize(i,h);if(t&&o.setCountryCodeSource(e),e!=i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_DEFAULT_COUNTRY){if(i.getLength()<=i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_FOR_NSN_)throw new Error(i18n.phonenumbers.Error.TOO_SHORT_AFTER_IDD);var u=this.extractCountryCode(i,r);if(0!=u)return o.setCountryCode(u),u;throw new Error(i18n.phonenumbers.Error.INVALID_COUNTRY_CODE)}if(null!=n){var h=n.getCountryCodeOrDefault(),e=""+h,u=i.toString();if(goog.string.startsWith(u,e)){u=new goog.string.StringBuffer(u.substring(e.length)),e=n.getGeneralDesc(),e=new RegExp(e.getNationalNumberPatternOrDefault());this.maybeStripNationalPrefixAndCarrierCode(u,n,null);u=u.toString();if(!i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(e,i.toString())&&i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(e,u)||this.testNumberLength_(i.toString(),n)==i18n.phonenumbers.PhoneNumberUtil.ValidationResult.TOO_LONG)return r.append(u),t&&o.setCountryCodeSource(i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_NUMBER_WITHOUT_PLUS_SIGN),o.setCountryCode(h),h}}return o.setCountryCode(0),0},i18n.phonenumbers.PhoneNumberUtil.prototype.parsePrefixAsIdd_=function(e,n){var r=n.toString();if(0!=r.search(e))return!1;var t=r.match(e)[0].length,e=r.substring(t).match(i18n.phonenumbers.PhoneNumberUtil.CAPTURING_DIGIT_PATTERN);if(e&&null!=e[1]&&0<e[1].length&&"0"==i18n.phonenumbers.PhoneNumberUtil.normalizeDigitsOnly(e[1]))return!1;return n.clear(),n.append(r.substring(t)),!0},i18n.phonenumbers.PhoneNumberUtil.prototype.maybeStripInternationalPrefixAndNormalize=function(e,n){var r=e.toString();if(0==r.length)return i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_DEFAULT_COUNTRY;if(i18n.phonenumbers.PhoneNumberUtil.LEADING_PLUS_CHARS_PATTERN.test(r))return r=r.replace(i18n.phonenumbers.PhoneNumberUtil.LEADING_PLUS_CHARS_PATTERN,""),e.clear(),e.append(i18n.phonenumbers.PhoneNumberUtil.normalize(r)),i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_NUMBER_WITH_PLUS_SIGN;n=new RegExp(n);return i18n.phonenumbers.PhoneNumberUtil.normalizeSB_(e),this.parsePrefixAsIdd_(n,e)?i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_NUMBER_WITH_IDD:i18n.phonenumbers.PhoneNumber.CountryCodeSource.FROM_DEFAULT_COUNTRY},i18n.phonenumbers.PhoneNumberUtil.prototype.maybeStripNationalPrefixAndCarrierCode=function(e,n,r){var t=e.toString(),o=t.length,i=n.getNationalPrefixForParsing();if(0==o||null==i||0==i.length)return!1;var u=new RegExp("^(?:"+i+")"),h=u.exec(t);if(h){var m=new RegExp(n.getGeneralDesc().getNationalNumberPatternOrDefault()),o=i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(m,t),i=h.length-1,n=n.getNationalPrefixTransformRule();if(null==n||0==n.length||null==h[i]||0==h[i].length)return!(o&&!i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(m,t.substring(h[0].length)))&&(null!=r&&0<i&&null!=h[i]&&r.append(h[1]),e.set(t.substring(h[0].length)),!0);n=t.replace(u,n);return!(o&&!i18n.phonenumbers.PhoneNumberUtil.matchesEntirely(m,n))&&(null!=r&&0<i&&r.append(h[1]),e.set(n),!0)}return!1},i18n.phonenumbers.PhoneNumberUtil.prototype.maybeStripExtension=function(e){var n=e.toString(),r=n.search(i18n.phonenumbers.PhoneNumberUtil.EXTN_PATTERN_);if(0<=r&&i18n.phonenumbers.PhoneNumberUtil.isViablePhoneNumber(n.substring(0,r)))for(var t=n.match(i18n.phonenumbers.PhoneNumberUtil.EXTN_PATTERN_),o=t.length,i=1;i<o;++i)if(null!=t[i]&&0<t[i].length)return e.clear(),e.append(n.substring(0,r)),t[i];return""},i18n.phonenumbers.PhoneNumberUtil.prototype.checkRegionForParsing_=function(e,n){return this.isValidRegionCode_(n)||null!=e&&0<e.length&&i18n.phonenumbers.PhoneNumberUtil.LEADING_PLUS_CHARS_PATTERN.test(e)},i18n.phonenumbers.PhoneNumberUtil.prototype.parse=function(e,n){return this.parseHelper_(e,n,!1,!0)},i18n.phonenumbers.PhoneNumberUtil.prototype.parseAndKeepRawInput=function(e,n){if(!this.isValidRegionCode_(n)&&0<e.length&&e.charAt(0)!=i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN)throw new Error(i18n.phonenumbers.Error.INVALID_COUNTRY_CODE);return this.parseHelper_(e,n,!0,!0)},i18n.phonenumbers.PhoneNumberUtil.setItalianLeadingZerosForPhoneNumber_=function(e,n){if(1<e.length&&"0"==e.charAt(0)){n.setItalianLeadingZero(!0);for(var r=1;r<e.length-1&&"0"==e.charAt(r);)r++;1!=r&&n.setNumberOfLeadingZeros(r)}},i18n.phonenumbers.PhoneNumberUtil.prototype.parseHelper_=function(e,n,r,t){if(null==e)throw new Error(i18n.phonenumbers.Error.NOT_A_NUMBER);if(e.length>i18n.phonenumbers.PhoneNumberUtil.MAX_INPUT_STRING_LENGTH_)throw new Error(i18n.phonenumbers.Error.TOO_LONG);var o=new goog.string.StringBuffer;if(this.buildNationalNumberForParsing_(e,o),!i18n.phonenumbers.PhoneNumberUtil.isViablePhoneNumber(o.toString()))throw new Error(i18n.phonenumbers.Error.NOT_A_NUMBER);if(t&&!this.checkRegionForParsing_(o.toString(),n))throw new Error(i18n.phonenumbers.Error.INVALID_COUNTRY_CODE);var i=new i18n.phonenumbers.PhoneNumber;r&&i.setRawInput(e);e=this.maybeStripExtension(o);0<e.length&&i.setExtension(e);var u=this.getMetadataForRegion(n),h=new goog.string.StringBuffer,m=0,a=o.toString();try{m=this.maybeExtractCountryCode(a,u,h,r,i)}catch(e){if(e.message!=i18n.phonenumbers.Error.INVALID_COUNTRY_CODE||!i18n.phonenumbers.PhoneNumberUtil.LEADING_PLUS_CHARS_PATTERN.test(a))throw e;if(a=a.replace(i18n.phonenumbers.PhoneNumberUtil.LEADING_PLUS_CHARS_PATTERN,""),0==(m=this.maybeExtractCountryCode(a,u,h,r,i)))throw e}if(0!=m?(e=this.getRegionCodeForCountryCode(m))!=n&&(u=this.getMetadataForRegionOrCallingCode_(m,e)):(i18n.phonenumbers.PhoneNumberUtil.normalizeSB_(o),h.append(o.toString()),null!=n?(m=u.getCountryCodeOrDefault(),i.setCountryCode(m)):r&&i.clearCountryCodeSource()),h.getLength()<i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_FOR_NSN_)throw new Error(i18n.phonenumbers.Error.TOO_SHORT_NSN);null!=u&&(N=new goog.string.StringBuffer,s=new goog.string.StringBuffer(h.toString()),this.maybeStripNationalPrefixAndCarrierCode(s,u,N),(o=this.testNumberLength_(s.toString(),u))!=(n=i18n.phonenumbers.PhoneNumberUtil.ValidationResult).TOO_SHORT&&o!=n.IS_POSSIBLE_LOCAL_ONLY&&o!=n.INVALID_LENGTH&&(h=s,r&&0<N.toString().length&&i.setPreferredDomesticCarrierCode(N.toString())));var s=h.toString(),N=s.length;if(N<i18n.phonenumbers.PhoneNumberUtil.MIN_LENGTH_FOR_NSN_)throw new Error(i18n.phonenumbers.Error.TOO_SHORT_NSN);if(N>i18n.phonenumbers.PhoneNumberUtil.MAX_LENGTH_FOR_NSN_)throw new Error(i18n.phonenumbers.Error.TOO_LONG);return i18n.phonenumbers.PhoneNumberUtil.setItalianLeadingZerosForPhoneNumber_(s,i),i.setNationalNumber(parseInt(s,10)),i},i18n.phonenumbers.PhoneNumberUtil.prototype.buildNationalNumberForParsing_=function(e,n){var r,t,o=e.indexOf(i18n.phonenumbers.PhoneNumberUtil.RFC3966_PHONE_CONTEXT_);0<=o?(t=o+i18n.phonenumbers.PhoneNumberUtil.RFC3966_PHONE_CONTEXT_.length,e.charAt(t)==i18n.phonenumbers.PhoneNumberUtil.PLUS_SIGN&&(0<(r=e.indexOf(";",t))?n.append(e.substring(t,r)):n.append(e.substring(t))),t=0<=(t=e.indexOf(i18n.phonenumbers.PhoneNumberUtil.RFC3966_PREFIX_))?t+i18n.phonenumbers.PhoneNumberUtil.RFC3966_PREFIX_.length:0,n.append(e.substring(t,o))):n.append(i18n.phonenumbers.PhoneNumberUtil.extractPossibleNumber(e));o=n.toString(),e=o.indexOf(i18n.phonenumbers.PhoneNumberUtil.RFC3966_ISDN_SUBADDRESS_);0<e&&(n.clear(),n.append(o.substring(0,e)))},i18n.phonenumbers.PhoneNumberUtil.copyCoreFieldsOnly_=function(e){var n=new i18n.phonenumbers.PhoneNumber;return n.setCountryCode(e.getCountryCodeOrDefault()),n.setNationalNumber(e.getNationalNumberOrDefault()),0<e.getExtensionOrDefault().length&&n.setExtension(e.getExtensionOrDefault()),e.getItalianLeadingZero()&&(n.setItalianLeadingZero(!0),n.setNumberOfLeadingZeros(e.getNumberOfLeadingZerosOrDefault())),n},i18n.phonenumbers.PhoneNumberUtil.prototype.isNumberMatch=function(n,r){var t,e;if("string"==typeof n)try{t=this.parse(n,i18n.phonenumbers.PhoneNumberUtil.UNKNOWN_REGION_)}catch(e){if(e.message!=i18n.phonenumbers.Error.INVALID_COUNTRY_CODE)return i18n.phonenumbers.PhoneNumberUtil.MatchType.NOT_A_NUMBER;if("string"!=typeof r){var o=this.getRegionCodeForCountryCode(r.getCountryCodeOrDefault());if(o!=i18n.phonenumbers.PhoneNumberUtil.UNKNOWN_REGION_){try{t=this.parse(n,o)}catch(e){return i18n.phonenumbers.PhoneNumberUtil.MatchType.NOT_A_NUMBER}var i=this.isNumberMatch(t,r);return i==i18n.phonenumbers.PhoneNumberUtil.MatchType.EXACT_MATCH?i18n.phonenumbers.PhoneNumberUtil.MatchType.NSN_MATCH:i}}try{t=this.parseHelper_(n,null,!1,!1)}catch(e){return i18n.phonenumbers.PhoneNumberUtil.MatchType.NOT_A_NUMBER}}else t=n.clone();if("string"==typeof r)try{return e=this.parse(r,i18n.phonenumbers.PhoneNumberUtil.UNKNOWN_REGION_),this.isNumberMatch(n,e)}catch(e){return e.message!=i18n.phonenumbers.Error.INVALID_COUNTRY_CODE?i18n.phonenumbers.PhoneNumberUtil.MatchType.NOT_A_NUMBER:this.isNumberMatch(r,t)}else e=r.clone();var u=i18n.phonenumbers.PhoneNumberUtil.copyCoreFieldsOnly_(t),h=i18n.phonenumbers.PhoneNumberUtil.copyCoreFieldsOnly_(e);if(u.hasExtension()&&h.hasExtension()&&u.getExtension()!=h.getExtension())return i18n.phonenumbers.PhoneNumberUtil.MatchType.NO_MATCH;var m=u.getCountryCodeOrDefault(),i=h.getCountryCodeOrDefault();return 0!=m&&0!=i?u.equals(h)?i18n.phonenumbers.PhoneNumberUtil.MatchType.EXACT_MATCH:m==i&&this.isNationalNumberSuffixOfTheOther_(u,h)?i18n.phonenumbers.PhoneNumberUtil.MatchType.SHORT_NSN_MATCH:i18n.phonenumbers.PhoneNumberUtil.MatchType.NO_MATCH:(u.setCountryCode(0),h.setCountryCode(0),u.equals(h)?i18n.phonenumbers.PhoneNumberUtil.MatchType.NSN_MATCH:this.isNationalNumberSuffixOfTheOther_(u,h)?i18n.phonenumbers.PhoneNumberUtil.MatchType.SHORT_NSN_MATCH:i18n.phonenumbers.PhoneNumberUtil.MatchType.NO_MATCH)},i18n.phonenumbers.PhoneNumberUtil.prototype.isNationalNumberSuffixOfTheOther_=function(e,n){e=""+e.getNationalNumber(),n=""+n.getNationalNumber();return goog.string.endsWith(e,n)||goog.string.endsWith(n,e)},i18n.phonenumbers.PhoneNumberUtil.prototype.canBeInternationallyDialled=function(e){var n=this.getMetadataForRegion(this.getRegionCodeForNumber(e));if(null==n)return!0;e=this.getNationalSignificantNumber(e);return!this.isNumberMatchingDesc_(e,n.getNoInternationalDialling())},i18n.phonenumbers.PhoneNumberUtil.matchesEntirely=function(e,n){e="string"==typeof e?n.match("^(?:"+e+")$"):n.match(e);return!(!e||e[0].length!=n.length)},i18n.phonenumbers.PhoneNumberUtil.matchesPrefix=function(e,n){e="string"==typeof e?n.match("^(?:"+e+")"):n.match(e);return!(!e||!goog.string.startsWith(n,e[0]))};