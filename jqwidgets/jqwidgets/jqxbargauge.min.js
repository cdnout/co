!function($){$.jqx.jqxWidget("jqxBarGauge","",{}),$.extend($.jqx._jqxBarGauge.prototype,{defineInstance:function(){var e={animationDuration:300,backgroundColor:"#e0e0e0",barSpacing:4,baseValue:null,colorScheme:"scheme01",customColorScheme:null,endAngle:-45,disabled:!1,formatFunction:null,geometry:{startAngle:225,endAngle:-45},height:400,labels:null,min:0,max:100,rendered:null,relativeInnerRadius:.3,startAngle:225,title:null,tooltip:null,values:[],width:400,useGradient:!0,_intervalArray:[],_drawnValues:[],_drawnSlices:[],_titleTemplate:{text:"",font:{color:"#232323",family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",opacity:1,size:28,weight:100},horizontalAlignment:"center",verticalAlignment:"top",placeholderSize:null,margin:{bottom:0,left:0,right:0,top:0},subtitle:{text:"",font:{color:"#232323",family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",opacity:1,size:16,weight:100}}},_labelTemplate:{connectorColor:null,connectorWidth:1,formatFunction:function(e){return e},font:{color:null,family:"'Segoe UI', 'Helvetica Neue', 'Trebuchet MS', Verdana",size:16,weight:400},indent:20,precision:2,visible:!0},_tooltipTemplate:{classname:"",formatFunction:function(e){return e},visible:!1,precision:0},_colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"],_colorNames:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},_dimensions:{},_ie:$.jqx.browser.msie,_oldIEbrowser:$.jqx.browser.msie&&$.jqx.browser.version<=8,_ie8:$.jqx.browser.msie&&8==$.jqx.browser.version,_ie7:$.jqx.browser.msie&&$.jqx.browser.version<8,_centerX:null,_centerY:null,_coordinatePlane:null,_geometry:{startAngle:-45,baseAngle:-45,fix:0,endAngle:225},_userValues:[],_valuesToDegrees:[],_oldValues:[],_oldValuesToDegrees:[],_temporaryValuesToDegrees:[],_temporaryValues:[],_temporaryOldAngle:[],_valuesLength:0,_oldValuesLength:0,_alignmentIE:null,_title:{},_backgroundColor:"#e0e0e0",_label:{},_tooltip:{},_renderedValues:0,_barWidth:35,_barStartAt:30,_barGaugeSlices:[],_barGaugeBackgroundSlices:[],_barGaugeSlicesStrokeWidth:0,_barGaugeLabelLines:[],_barGaugeLabelText:[],_barGaugeTitle:null,_barGaugeSubTitle:null,_barGaugeTooltip:$("<div></div>"),_measuredText:$("<div class='jqx-bar-gauge-measure-text'></div>"),_measuredTextId:"",renderer:null,_barGaugeRadius:null,_barGaugeFigureRadius:null,_labelPositioningRadius:null,_placeholderSize:50,_rendering:!1,_titleLines:0,_subTitleLines:0,_initialized:!1,_events:["initialized","valueChanged","tooltipOpen","tooltipClose","drawStart","drawEnd"]};return this===$.jqx._jqxBarGauge.prototype||$.extend(!0,this,e),e},createInstance:function(){this._createBarGauge()},_createBarGauge:function(){var e=this;e._getLiquidDimensions(),e._addIEPolyfills(),e._barGaugeTooltip.css({display:"none"}),$(e.host).empty(),e._attachCustomColors(),e.geometry.startAngle=e.startAngle,e.geometry.endAngle=e.endAngle,e._validateGeometry(),e._validateTitle(),e._validateLabel(),e._validateValues(),e._validateTooltip(),e._validateAnimationDuration(),e._transformValuesToAngles(),e._getColorScheme(),0===e.animationDuration||e._ie8||e._ie7?e._drawStaticBarGauge():e._drawDynamicBarGauge(),e._raiseEvent("4"),e._createTooltip(),e._addCSS(),e._ie&&(e._removeBarGaugeTitle(),e._removeBarGaugeSubTitle(),e._drawBarGaugeTitle()),e._addEventHandlers()},_initRenderer:function(e){if(!$.jqx.createRenderer)throw"jqxBarGauge: Please include a reference to jqxdraw.js";return $.jqx.createRenderer(this,e)},_validateValues:function(){var e,t=this;0===t._userValues.length&&(t._userValues=t.values.slice()),0===t._oldValues.length&&(t._oldValues=t.values.slice()),t._valuesLength=t.values.length;for(var a=0;a<t._valuesLength;a++)t.values[a]=parseFloat(t.values[a]),t.values[a]<t.startValue||isNaN(t.values[a])?t.values[a]=t.startValue:t.values[a]>t.max&&(t.values[a]=t.max),t._drawnValues[a]=!1,t._drawnSlices[a]=!1;t.baseValue<=t.startValue||null===t.baseValue?t.baseValue=t.min:t.baseValue>t.max&&(t.baseValue=t.max),1<=t.relativeInnerRadius?t.relativeInnerRadius=.99:t.relativeInnerRadius<0&&(t.relativeInnerRadius=0),t._calculateBarGaugeRadius(),e=t._valuesLength||1,e=t._barGaugeRadius*(1-t.relativeInnerRadius)/e-.01,t.barSpacing>e&&(t.barSpacing=e),t._backgroundColor=t._validateColor(t.backgroundColor,t._backgroundColor)},_attachCustomColors:function(){var e=this,t=e._colorSchemes.length,a=!1;if(null!==e.customColorScheme&&null!==e.customColorScheme.colors&&null!==e.customColorScheme.name){for(var l=0;l<t;l++)e.customColorScheme.name===e._colorSchemes[l].name&&(e._colorSchemes[l].colors=e.customColorScheme.colors.slice(),a=!0);a||e._colorSchemes.push(e.customColorScheme)}},_getLiquidDimensions:function(){var e=this;$.isEmptyObject(e._dimensions)&&(e._dimensions.width=e.width,e._dimensions.height=e.height),"string"==typeof e._dimensions.width&&-1!==e._dimensions.width.indexOf("%")&&(e.width=parseInt(e._dimensions.width,10)/100*$("#"+e.element.id).parent().width()),"string"==typeof e._dimensions.height&&-1!==e._dimensions.height.indexOf("%")&&(e.height=parseInt(e._dimensions.height,10)/100*$("#"+e.element.id).parent().height())},_getLongestValue:function(){for(var e=this,t=e.values.length,a="",l=0,i=0;i<t;i++)e.values[i].toString().length>l&&(l=(a=e.values[i]).toString().length);return a=e._calculatePrecision(e._label.precision,a),void 0!==e._label.formatFunction&&null!==e._label.formatFunction&&"function"==typeof e._label.formatFunction&&(a=e._label.formatFunction(a)),a=a.toUpperCase()},_validateGeometry:function(){var e=this,t=parseFloat(e.geometry.startAngle),a=parseFloat(e.geometry.endAngle);360<=Math.abs(t)&&(t%=360),t<0&&(t=360+t),360<=Math.abs(a)&&(a%=360),a<0&&(a=360+a),e.geometry.startAngle=t,e.geometry.endAngle=a},_validateColor:function(e,t){e=null==e?t:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)?e:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(e)?"#"+e:void 0!==this._colorNames[e.toLowerCase()]?this._colorNames[e.toLowerCase()]:"transparent";return e},_validateTooltip:function(){var e=this;void 0===e.tooltip||null===e.tooltip||"object"!=typeof e.tooltip?e._tooltip=e._tooltipTemplate:(e._tooltip.visible=!1!==e.tooltip.visible&&(e.tooltip.visible||e._tooltipTemplate.visible),e._tooltip.classname=e.tooltip.classname||e._tooltipTemplate.classname,"function"==typeof e.tooltip.formatFunction?e._tooltip.formatFunction=e.tooltip.formatFunction:e._tooltip.formatFunction=e._tooltipTemplate.formatFunction,null===e.tooltip.precision||void 0===e.tooltip.precision?e._tooltip.precision=e._tooltipTemplate.precision:parseInt(e.tooltip.precision,10)<=0?e._tooltip.precision=0:e._tooltip.precision=parseInt(e.tooltip.precision,10))},_validateTitle:function(){var e,t=this;t._title=t._titleTemplate,t._measuredTextId=t.element.id+"measuredText","string"==typeof t.title?t._title.text=t.title:"number"==typeof t.title?t._title.text=String(t.title):"object"==typeof t.title&&void 0!==t.title&&null!==t.title&&(t._title.text=t.title.text||t._titleTemplate.text,t._title.horizontalAlignment=t.title.horizontalAlignment||t._titleTemplate.horizontalAlignment,t._title.verticalAlignment=t.title.verticalAlignment||t._titleTemplate.verticalAlignment),void 0===t.title||null===t.title||void 0===t.title.font||null===t.title.font?t._title.font=t._titleTemplate.font:(t._title.font.family=t.title.font.family||t._titleTemplate.font.family,t._title.font.opacity=t.title.font.opacity||t._titleTemplate.font.opacity,t._title.font.size=t.title.font.size||t._titleTemplate.font.size,t._title.font.weight=t.title.font.weight||t._titleTemplate.font.weight,(t._ie7||t._ie8)&&100<t._title.font.weight&&(t._title.font.weight="bold"),t._title.font.color=t._validateColor(t.title.font.color,t._titleTemplate.font.color)),void 0===t.title||null===t.title||void 0===t.title.margin||null===t.title.margin?t._title.margin=t._titleTemplate.margin:"object"!=typeof t.title.margin?(e=parseInt(t.title.margin,10),t._title.margin.top=e,t._title.margin.right=e,t._title.margin.bottom=e,t._title.margin.left=e):(t._title.margin.top=0===t.title.margin.top?0:t.title.margin.top||t._titleTemplate.margin.top,t._title.margin.right=0===t.title.margin.right?0:t.title.margin.right||t._titleTemplate.margin.right,t._title.margin.bottom=0===t.title.margin.bottom?0:t.title.margin.bottom||t._titleTemplate.margin.bottom,t._title.margin.left=0===t.title.margin.left?0:t.title.margin.left||t._titleTemplate.margin.left),void 0===t.title||null===t.title||void 0===t.title.subtitle||null===t.title.subtitle?(t._title.subtitle.text=t._titleTemplate.subtitle.text,t._title.subtitle.font=t._titleTemplate.subtitle.font):"object"!=typeof t.title.subtitle?(t._title.subtitle.text=String(t.title.subtitle),t._title.subtitle.font=t._titleTemplate.subtitle.font):void 0===t.title.subtitle.font||null===t.title.subtitle.font?(t._title.subtitle.text=String(t.title.subtitle.text),t._title.subtitle.font=t._titleTemplate.subtitle.font):(t._title.subtitle.text=String(t.title.subtitle.text),t._title.subtitle.font.color=t.title.subtitle.font.color||t._titleTemplate.subtitle.font.color,t._title.subtitle.font.family=t.title.subtitle.font.family||t._titleTemplate.subtitle.font.family,t._title.subtitle.font.opacity=t.title.subtitle.font.opacity||t._titleTemplate.subtitle.font.opacity,t._title.subtitle.font.size=t.title.subtitle.font.size||t._titleTemplate.subtitle.font.size,t._title.subtitle.font.weight=t.title.subtitle.font.weight||t._titleTemplate.subtitle.font.weight,(t._ie7||t._ie8)&&100<t._title.subtitle.font.weight&&(t._title.subtitle.font.weight="bold")),e=""===t._title.text?0:""===t._title.subtitle.text||void 0===t._title.subtitle.text||null===t._title.subtitle.text?(t._titleLines=null!==t._title.text.match(/<br>/g)?t._title.text.match(/<br>/g).length+1:1,t._title.font.size*t._titleLines+t._title.margin.top+t._title.margin.bottom):(t._titleLines=null!==t._title.text.match(/<br>/g)?t._title.text.match(/<br>/g).length+1:1,t._subTitleLines=null!==t._title.subtitle.text.match(/<br>/g)?t._title.text.match(/<br>/g).length+1:1,t._title.font.size*t._titleLines+t._title.subtitle.font.size*t._subTitleLines+t._title.margin.top+t._title.margin.bottom),void 0===t.title||null===t.title||null===t.title.placeholderSize||void 0===t.title.placeholderSize?t._title.placeholderSize=e||.05*t.height:t._title.placeholderSize=t.title.placeholderSize},_validateLabel:function(){var e=this;null===e.labels||void 0===e.labels||"object"!=typeof e.labels?e._label=e._labelTemplate:(e._label.connectorColor=e._validateColor(e.labels.connectorColor,e._labelTemplate.connectorColor),e._label.connectorWidth=e.labels.connectorWidth||e._labelTemplate.connectorWidth,e._label.formatFunction=e.labels.formatFunction||e._labelTemplate.formatFunction,void 0===e.labels.precision||null===e.labels.precision||"number"!=typeof e.labels.precision?e._label.precision=e._labelTemplate.precision:e._label.precision=e.labels.precision,15<e._label.precision?e._label.precision=15:e._label.precision<0&&(e._label.precision=0),void 0===e.labels.visible||null===e.labels.visible?e._label.visible=e._labelTemplate.visible:!1===e.labels.visible?e._label.visible=!1:e._label.visible=!0,"number"!=typeof e.labels.indent&&"string"!=typeof e.labels.indent||e.labels.indent<=0||"number"!=typeof e.labels.indent&&"string"!=typeof e.labels.indent||e.labels.indent<=0?e._label.indent=0:e._label.indent=e.labels.indent,null===e.labels.font||void 0===e.labels.font||"object"!=typeof e.labels.font?e._label.font=e._labelTemplate.font:(e._label.font={},e._label.font.color=e._validateColor(e.labels.font.color,e._labelTemplate.font.color),e._label.font.family=e.labels.font.family||e._labelTemplate.font.family,e._label.font.size=e.labels.font.size||e._labelTemplate.font.size,e._label.font.weight=e.labels.font.weight||e._labelTemplate.font.weight,(e._ie7||e._ie8)&&100<e._label.font.weight&&(e._label.font.weight="bold")))},_validateAnimationDuration:function(){var e=this,t=parseInt(e.animationDuration,10),t=0<t?t:0;e._oldIEbrowser?e.animationDuration=0:e.animationDuration=t},_transformValuesToAngles:function(){var e,t,a=this;a._placeholderSize=a._title.placeholderSize||a._placeholderSize,a.geometry.endAngle<a.geometry.startAngle?a._geometry.startAngle=parseFloat(a.geometry.endAngle)%360:a._geometry.startAngle=parseFloat(a.geometry.endAngle)%360-360,a._geometry.endAngle=parseFloat(a.geometry.startAngle)%360,360<(e=a._geometry.endAngle-a._geometry.startAngle)&&(a._geometry.startAngle=a._geometry.startAngle+(e-360)),void 0!==a.baseValue&&null!==a.baseValue&&a.baseValue>=a.min&&a.baseValue<=a.max&&(a._geometry.baseAngle=(a.baseValue-a.min)*(a._geometry.endAngle-a._geometry.startAngle)/(a.max-a.min)+a._geometry.startAngle,a._geometry.fix=a.geometry.startAngle+a.geometry.endAngle-180),t=a._getLongestValue(),e=a._measureText(t,a._label.font.size,a._label.font.family,a._label.font.weight),(t=a._barGaugeRadius-1.2*a._label.indent-1.2*e.height)+e.width+1.2*a._label.indent>a.width/2&&(t=a._barGaugeRadius-1.2*a._label.indent-e.width),!1===a._label.visible&&(t=a._barGaugeRadius),(t*=.98)<0&&(t=0),a._barGaugeFigureRadius=t,a._barWidth=t*(1-a.relativeInnerRadius)/a._valuesLength-a.barSpacing,a._barStartAt=t*a.relativeInnerRadius,a._labelPositioningRadius=a._barStartAt+a._valuesLength*(a._barWidth+a.barSpacing)-a.barSpacing+a._label.indent;for(var l=0;l<a._valuesLength;l++)a._valuesToDegrees[l]=(a.values[l]-a.min)/(a.max-a.min)*(a._geometry.endAngle-a._geometry.startAngle)+a._geometry.startAngle;$(a.host).width(a.width),$(a.host).height(a.height),a._initialized||(a._initRenderer(a.host),a._initialized=!0)},_measureRadius:function(){var e=this,t=e._getLongestValue(),a=e._measureText(t,e._label.font.size,e._label.font.family,e._label.font.weight),t=e._barGaugeRadius-1.2*e._label.indent-1.2*a.height;t+a.width+1.2*e._label.indent>e.width/2&&(t=e._barGaugeRadius-1.2*e._label.indent-a.width),!1===e._label.visible&&(t=e._barGaugeRadius),(t*=.98)<0&&(t=0),e._barWidth=t*(1-e.relativeInnerRadius)/e._valuesLength-e.barSpacing,e._barStartAt=t*e.relativeInnerRadius,e._labelPositioningRadius=e._barStartAt+e._valuesLength*(e._barWidth+e.barSpacing)-e.barSpacing+e._label.indent},_drawEmptyBarGauge:function(){var e=this,t=(a=e._barStartAt,e._barWidth,""===e._title.text?e._barGaugeRadius:e._barGaugeFigureRadius),a=e.relativeInnerRadius*t;e._barGaugeBackgroundSlices[0]=e.renderer.pieslice(e._centerX,e._centerY,a,t,e._geometry.startAngle,e._geometry.endAngle,0,{fill:e._backgroundColor,stroke:e._backgroundColor,"stroke-width":e._barGaugeSlicesStrokeWidth}),t=e.element.id+"BackgroundSlice0",e.renderer.attr(e._barGaugeBackgroundSlices[0],{id:t}),e.renderer.attr(e._barGaugeBackgroundSlices[0],{class:"jqx-bar-gauge-background-slice"}),e._rendered(),e._oldValuesLength=0,e._oldValues.length=0},_drawBarGaugeLayout:function(){var e,t=this,a=t._barStartAt,l=a+t._barWidth;if(t._barGaugeSlicesStrokeWidth=0,t._centerX=t.width/2,""===t._title.text?t._centerY=t.height/2:"top"===t._title.verticalAlignment?t._centerY=(t.height+t._title.placeholderSize)/2:t._centerY=(t.height-t._title.placeholderSize)/2,0<t._valuesLength)for(var i=0;i<t._valuesLength;i++)t._barGaugeBackgroundSlices[i]=t.renderer.pieslice(t._centerX,t._centerY,a,l,t._geometry.startAngle,t._geometry.endAngle,0,{fill:t._backgroundColor,stroke:t._backgroundColor,"stroke-width":t._barGaugeSlicesStrokeWidth}),e=t.element.id+"BackgroundSlice"+i,t.renderer.attr(t._barGaugeBackgroundSlices[i],{id:e}),t.renderer.attr(t._barGaugeBackgroundSlices[i],{class:"jqx-bar-gauge-background-slice"}),l=(a=l+t.barSpacing)+t._barWidth;else t._drawEmptyBarGauge()},_drawBarGaugeElementsWithBase:function(){var e,t,a,l=this,i=180-l._geometry.baseAngle+l._geometry.fix;l._renderedValues=0,a=(t=l._barStartAt)+l._barWidth;for(var r=[],n=0;n<l._valuesLength;n++){r[n]=l.baseValue;var o=l._colors[n];l.formatFunction&&(o=l.formatFunction(l.values[n],n,o)),l._ie7||l._ie8?(i=180-l._valuesToDegrees[n]+l._geometry.fix,l._valuesToDegrees[n]>l._geometry.baseAngle?l._barGaugeSlices[n]=l.renderer.pieslice(l._centerX,l._centerY,t,a,180-l._geometry.baseAngle+l._geometry.fix,i,0,{fill:o,stroke:o,"stroke-width":l._barGaugeSlicesStrokeWidth}):l._barGaugeSlices[n]=l.renderer.pieslice(l._centerX,l._centerY,t,a,i,180-l._geometry.baseAngle+l._geometry.fix,0,{fill:o,stroke:o,"stroke-width":l._barGaugeSlicesStrokeWidth}),e=l.element.id+"Slice"+n,l.renderer.attr(l._barGaugeSlices[n],{id:e}),l.renderer.attr(l._barGaugeSlices[n],{class:"jqx-bar-gauge-slice"}),(l._drawnSlices[n]=!0)===l._label.visible&&(l._drawLabelsLine(t,i,n),l._drawLabelsText(i,n)),l._rendered()):(l.useGradient&&(o=l.renderer._toLinearGradient(o,!0,[[0,1.4],[100,1]])),l._barGaugeSlices[n]=l.renderer.pieslice(l._centerX,l._centerY,t,a,i+.01,i,0,{fill:o,stroke:o,"stroke-width":l._barGaugeSlicesStrokeWidth}),e=l.element.id+"Slice"+n,l.renderer.attr(l._barGaugeSlices[n],{id:e}),l.renderer.attr(l._barGaugeSlices[n],{class:"jqx-bar-gauge-slice"}),l._drawnSlices[n]=!0),l.renderer.attr(l._barGaugeSlices[n],{id:l.element.id+"Slice"+n}),l.renderer.attr(l._barGaugeSlices[n],{class:"jqx-bar-gauge-slice"}),a=(t=a+l.barSpacing)+l._barWidth}l._oldValues=r,l._temporaryValues=r.slice(0);for(n=l._oldValuesToDegrees.length=0;n<l.values.length;n++)l._oldValuesToDegrees[n]=l._geometry.baseAngle,l._temporaryValuesToDegrees[n]=l._geometry.baseAngle;l._rendering=!0,l._redrawWithNewValuesArray(l.values,l._oldValues)},_drawBarGaugeElementWithBase:function(gaugeLayerStart,change,amount,changeContition,valueIndex){var that=this,newPieSlicePath,angleStepPercent,angleDiff,valueStep,animation=that._calculateAnimationInterval(valueIndex,!1),gaugeLayerEnd=gaugeLayerStart+that._barWidth,updatedItem=that._barGaugeSlices[valueIndex],updatedAngle=that._valuesToDegrees[valueIndex];function calculateNewPieSlicePath(){newPieSlicePath=-1===amount?$.jqx.commonRenderer.pieSlicePath(that._centerX,that._centerY,gaugeLayerStart,gaugeLayerEnd,change,180-that._geometry.baseAngle+that._geometry.fix,0):$.jqx.commonRenderer.pieSlicePath(that._centerX,that._centerY,gaugeLayerStart,gaugeLayerEnd,180-that._geometry.baseAngle+that._geometry.fix,change,0)}0===that.animationDuration&&(change=180-updatedAngle+that._geometry.fix),angleDiff=Math.abs(that._geometry.baseAngle-updatedAngle),0===angleDiff&&(angleDiff=.01),angleStepPercent=Math.abs(amount/animation.smoothCoef/angleDiff),valueStep=angleStepPercent*Math.abs(that.baseValue-that.values[valueIndex]),isNaN(that._temporaryValues[valueIndex])&&(that._temporaryValues[valueIndex]=that.values[valueIndex]),isNaN(that._temporaryValuesToDegrees[valueIndex])&&(that._temporaryValuesToDegrees[valueIndex]=that._valuesToDegrees[valueIndex]),that._intervalArray[valueIndex]=setInterval(function(){calculateNewPieSlicePath(),eval(changeContition)&&!that.disabled?(that.renderer.attr(updatedItem,{d:newPieSlicePath}),change+=amount/animation.smoothCoef,that._temporaryValuesToDegrees[valueIndex]=(180-change+that._geometry.fix)%360,that._temporaryValues[valueIndex]=that._temporaryValues[valueIndex]+amount*valueStep):(change=180-updatedAngle+that._geometry.fix,that._temporaryValuesToDegrees[valueIndex]=updatedAngle%360,that._temporaryValues[valueIndex]=that.values[valueIndex],calculateNewPieSlicePath(),that.renderer.attr(updatedItem,{d:newPieSlicePath}),clearInterval(that._intervalArray[valueIndex]),that._renderedValues++,that._renderedValues===that.values.length&&that._rendered())},animation.interval/animation.smoothCoef)},_drawStaticBarGaugeElementsWithBase:function(){for(var e,t=this,a=t._barStartAt,l=a+t._barWidth,i=0;i<t._valuesLength;i++){r=t._valuesToDegrees[i]||t._geometry.baseAngle,t._oldValues[i]=t.values[i]||t.baseValue,e=180-r+t._geometry.fix;var r=t._colors[i];t.useGradient&&(r=t.renderer._toLinearGradient(r,!0,[[0,1.4],[100,1]])),t._valuesToDegrees[i]<t._geometry.baseAngle?t._barGaugeSlices[i]=t.renderer.pieslice(t._centerX,t._centerY,a,l,180-t._geometry.baseAngle+t._geometry.fix,e,0,{fill:r,stroke:r,"stroke-width":t._barGaugeSlicesStrokeWidth}):t._barGaugeSlices[i]=t.renderer.pieslice(t._centerX,t._centerY,a,l,e,180-t._geometry.baseAngle+t._geometry.fix,0,{fill:r,stroke:r,"stroke-width":t._barGaugeSlicesStrokeWidth}),r=t.element.id+"Slice"+i,t.renderer.attr(t._barGaugeSlices[i],{id:r}),t.renderer.attr(t._barGaugeSlices[i],{class:"jqx-bar-gauge-slice"}),t._drawnSlices[i]=!0,l=(a=l+t.barSpacing)+t._barWidth}t._removeLabels(),t._addLabels()},_addLabels:function(e,t,a){var l,i,r,n=this,o=n._barStartAt,s=o+n._barWidth;for(e=e||n._valuesToDegrees,r=0;r<n._valuesLength;r++)i=r,s=((null==a||r===a)&&(l=180-e[i]+n._geometry.fix,!0===n._label.visible&&!1===n.disabled&&(n._drawLabelsLine(o,l,i),t&&void 0!==t[i]?n._drawLabelsText(l,i,t[i]):n._drawLabelsText(l,i))),(o=s+n.barSpacing)+n._barWidth)},_removeLabels:function(e){for(var t=this,a=0;a<t._barGaugeLabelText.length;a++)null!=e&&a!=e||($(t._barGaugeLabelLines[a]).remove(),$(t._barGaugeLabelText[a]).remove(),t._barGaugeLabelLines[a]=null,t._barGaugeLabelText[a]=null)},_removeBarGaugeSlices:function(){this._removeBarGaugeBackgroundSlices(),this._removeBarGaugeForegroundSlices()},_removeBarGaugeBackgroundSlices:function(){for(var e=this,t=Math.max(e._valuesLength,e._oldValuesLength),a=0;a<t;a++)e._oldIEbrowser&&$(e._barGaugeBackgroundSlices[a]).remove(),e._barGaugeBackgroundSlices[a]=null,e._drawnSlices[a]=!1;$("#"+e.element.id+" .jqx-bar-gauge-background-slice").remove()},_removeBarGaugeForegroundSlices:function(){for(var e=this,t=Math.max(e._valuesLength,e._oldValuesLength),a=0;a<t;a++)!0===e._drawnSlices[a]&&(e._oldIEbrowser&&$(e._barGaugeSlices[a]).remove(),e._barGaugeSlices[a]=null,e._drawnSlices[a]=!1);$("#"+e.element.id+" .jqx-bar-gauge-slice").remove()},_removeBarGaugeTitle:function(){this._oldIEbrowser&&this._barGaugeTitle&&$(this._barGaugeTitle).remove(),$("#"+this.element.id+" .jqx-bar-gauge-title").remove()},_removeBarGaugeSubTitle:function(){this._oldIEbrowser&&this._barGaugeSubTitle&&$(this._barGaugeSubTitle).remove(),$("#"+this.element.id+" .jqx-bar-gauge-subtitle").remove()},_renderElements:function(){var e,t,a=this,l=(a._geometry.baseAngle,a._geometry.fix,a._barStartAt),i=l+a._barWidth;a._rendering=!0,a._renderedValues=0,a._renderingValues=0;var r=!1;if(!a.disabled)for(i=(l=a._barStartAt)+a._barWidth,t=0;t<a._valuesLength;t++)a.values[t],a.baseValue,a.values[t]>a._oldValues[t]?(e="(oldAngle < newAngle)",a._renderElement(l,i,1,e,t,!0),r=!0):a.values[t]<a._oldValues[t]&&(e="(oldAngle > newAngle)",a._renderElement(l,i,-1,e,t,!1),r=!0),i=(l=i+a.barSpacing)+a._barWidth;r||a._rendered()},clearIntervals:function(){for(var e=this._intervalArray.length,t=0;t<e;t++)clearInterval(this._intervalArray[t]);this._intervalArray.length=0},_renderElement:function(i,r,n,e,o,s){var _,u,d=this;d._renderingValues++;var t=d._oldValues[o],a=d.values[o],l=d._valuesToDegrees[o],c=d._oldValuesToDegrees[o],g=d._barGaugeSlices[o],m=d._calculateAnimationInterval(o,!0),l=Math.abs(l-c),h=Math.abs(n/m.smoothCoef/l)*Math.abs(a-t),a=m.interval/m.smoothCoef;isNaN(d._temporaryValues[o])&&(d._temporaryValues[o]=t),isNaN(d._temporaryValuesToDegrees[o])&&(d._temporaryValuesToDegrees[o]=(180-c+d._geometry.fix)%360),isNaN(d._temporaryOldAngle[o])&&(d._temporaryOldAngle[o]=c);function b(){d.values[o];var e,t=d._valuesToDegrees[o];u=180-c+d._geometry.fix,l=u,e=180-d._geometry.baseAngle+d._geometry.fix,1===n?s&&(_=d._geometry.baseAngle<c?$.jqx.commonRenderer.pieSlicePath(d._centerX,d._centerY,i,r,l,e,0):$.jqx.commonRenderer.pieSlicePath(d._centerX,d._centerY,i,r,e,l,0)):s||(_=d._geometry.baseAngle<c?$.jqx.commonRenderer.pieSlicePath(d._centerX,d._centerY,i,r,l,e,0):$.jqx.commonRenderer.pieSlicePath(d._centerX,d._centerY,i,r,e,l,0));var a,l=function(){d._removeLabels(o);for(var e=[],t=0;t<d._valuesToDegrees.length;t++)null!=d._temporaryOldAngle[t]?e[t]=d._temporaryOldAngle[t]:e[t]=d._valuesToDegrees[t];d._addLabels(e,d._temporaryValues,o)};return(!s&&t<c?!0:s&&c<t?!0:!1)&&!1===d.disabled&&0!=d.animationDuration?(l(),d.renderer.attr(g,{d:_}),d.formatFunction&&(a=d._colors[o],a=d.formatFunction(d.values[o],o,a),d.renderer.attr(g,{fill:a,stroke:a})),c+=n/m.smoothCoef,d._temporaryOldAngle[o]=c,d._temporaryValuesToDegrees[o]=(180-c+d._geometry.fix)%360,d._temporaryValues[o]=d._temporaryValues[o]+n*h,!1):(u=180-(c=t)+d._geometry.fix,d._temporaryOldAngle[o]=t,d._temporaryValuesToDegrees[o]=t%360,d._temporaryValues[o]=d.values[o],l(),t=u,l=180-d._geometry.baseAngle+d._geometry.fix,_=t<=l?$.jqx.commonRenderer.pieSlicePath(d._centerX,d._centerY,i,r,t-1e-4,l,0):$.jqx.commonRenderer.pieSlicePath(d._centerX,d._centerY,i,r,l,t,0),d.renderer.attr(g,{d:_}),d.formatFunction&&(a=d._colors[o],a=d.formatFunction(d.values[o],o,a),d.renderer.attr(g,{fill:a,stroke:a})),clearInterval(d._intervalArray[o]),d._renderedValues++,d._renderedValues===d._renderingValues&&d._rendered(),!0)}var f;0==d.animationDuration?b():(f=function(){clearInterval(d._intervalArray[o]);var e,t,a,l,i=b();d._rendering&&!i&&(e=d._oldValues[o],t=d.values[o],a=d._valuesToDegrees[o],l=d._oldValuesToDegrees[o],d._barGaugeSlices[o],i=d._calculateAnimationInterval(o,!0),l=Math.abs(a-l),Math.abs(n/i.smoothCoef/l),Math.abs(t-e),i=i.interval/i.smoothCoef,d._intervalArray[o]=setInterval(f,i))},d._intervalArray[o]||(d._intervalArray[o]=setInterval(f,a)))},_calculateAnimationInterval:function(e,t){var a=this,l={},i=a.animationDuration/1e3,r=0;return t?a._oldValues[e]-a.values[e]!=0&&(r=1e3/Math.abs((a._oldValues[e]-a.values[e])/(a.max-a.min)*(a._geometry.endAngle-a._geometry.startAngle))):a.baseValue-a.values[e]!=0&&(r=1e3/Math.abs((a.baseValue-a.values[e])/(a.max-a.min)*(a._geometry.endAngle-a._geometry.startAngle))),l.smoothCoef=i||1,l.interval=r*i,l},_calculateLabelOffset:function(e,t,a){var l={},i=270<=e?-(270-e)/180:e<=90?(90+e)/180:(270-e)/180,e=e<=180?e/180:(360-e)/180;return l.y=i*t,l.x=e*a,l},_drawCoordinatePlane:function(){var e,t=this,a="top"===t._title.verticalAlignment?(e=t._title.placeholderSize,t.height):(e=0,t.height-t._title.placeholderSize);null!==t._coordinatePlane&&$("#"+t.element.id+" .jqx-bar-gauge-coordinate-plane").remove(),t._coordinatePlane={},t._coordinatePlane.x=t.renderer.line(0,t._centerY,t.width,t._centerY,{fill:"gray",stroke:"gray","stroke-width":1,"stroke-opacity":.1}),t._coordinatePlane.y=t.renderer.line(t._centerX,e,t._centerX,a,{fill:"gray",stroke:"gray","stroke-width":1,"stroke-opacity":.1}),t.renderer.attr(t._coordinatePlane.x,{class:"jqx-bar-gauge-coordinate-plane"}),t.renderer.attr(t._coordinatePlane.y,{class:"jqx-bar-gauge-coordinate-plane"})},_getColorScheme:function(){for(var e,t=this,a=t._colorSchemes.length,l=t.values.length||1,i=Math.floor(l/t._colorSchemes[0].colors.length),r=0,n=0;n<a;n++)t.colorScheme===t._colorSchemes[n].name&&(r=n);if(t._colors=t._colorSchemes[r].colors,0<i)for(n=0;n<i;n++)e=(r+n+1)%a,t._colors=t._colors.concat(t._colorSchemes[e].colors)},_drawLabelsLine:function(e,t,a){var l,i,r,n=this;t<0?t=360+t:360<t&&(t%=360),r=(360-t)*Math.PI/180,i=e+n._barWidth+(n._valuesLength-a-1)*(n._barWidth+n.barSpacing)+n._label.indent,l=n._centerX+e*Math.cos(r),t=n._centerY+e*Math.sin(r),e=n._centerX+i*Math.cos(r),i=n._centerY+i*Math.sin(r),r=n._label.connectorColor||n._colors[a],n.formatFunction&&(r=n.formatFunction(n.values[a],a,r)),(n._ie7||n._ie8)&&(l=parseInt(l,10),t=parseInt(t,10),e=parseInt(e,10),i=parseInt(i,10)),!0===n._label.visible&&!1===n.disabled&&(n._barGaugeLabelLines[a]=n.renderer.line(l,t,e,i,{fill:r,stroke:r,"stroke-width":n._label.connectorWidth})),r=n.element.id+"LabelLine"+a,n.renderer.attr(n._barGaugeLabelLines[a],{id:r}),n.renderer.attr(n._barGaugeLabelLines[a],{class:"jqx-bar-gauge-label-line"})},_drawLabelsText:function(e,t,a){var l,i,r=this,n=r._label.font.color||r._colors[t];r.formatFunction&&(n=r.formatFunction(r.values[t],t,n));var o=r._calculatePrecision(r._label.precision,r.values[t]);void 0!==a&&(o=new Number(a).toFixed(r._label.precision),o=r._calculatePrecision(r._label.precision,o)),void 0!==r._label.formatFunction&&null!==r._label.formatFunction&&"function"==typeof r._label.formatFunction&&(o=r._label.formatFunction(o,t)),r._cachedMeasurements||(r._cachedMeasurements=[]),r._cachedMeasurements[o.length]?i=r._cachedMeasurements[o.length]:(i=r._measureText(o,r._label.font.size,r._label.font.family,r._label.font.weight),r._cachedMeasurements[o.length]=i),e<0?e=360+e:360<e&&(e%=360),l=(360-e)*Math.PI/180,a=r._centerX+(r._labelPositioningRadius+.3*i.height)*Math.cos(l),l=r._centerY+(r._labelPositioningRadius+.3*i.height)*Math.sin(l),i=r._calculateLabelOffset(e,i.height,i.width),!0===r._label.visible&&!1===r.disabled&&(r._barGaugeLabelText[t]=r.renderer.text(o,a-i.x,l-i.y,void 0,void 0,0,{class:"jqx-bargauge-label",fill:n,"font-size":r._label.font.size+"px","font-family":r._label.font.family,"font-weight":r._label.font.weight},!1,"left","top","lefttop")),i=r.element.id+"Label"+t,r.renderer.attr(r._barGaugeLabelText[t],{id:i}),r.renderer.attr(r._barGaugeLabelText[t],{class:"jqx-bar-gauge-label-text"}),(r._ie7||r._ie8)&&$("#"+i+" .jqx-bargauge-label").css({color:n,"white-space":"nowrap","font-size":r._label.font.size+"px","font-family":r._label.font.family,"font-weight":r._label.font.weight})},_calculatePrecision:function(e,t){e+=Math.abs(t).toString().split(".")[0].length;return e=15<e?15:e,t=parseFloat(t).toPrecision(e)},_createTooltip:function(){var e=this,t=e.element.id+"tooltip";e._barGaugeTooltip.attr("id",t),$(e._barGaugeTooltip).addClass(e.toThemeProperty("jqx-bar-gauge-tooltip")),0<e._tooltip.classname.length&&$(e._barGaugeTooltip).addClass(e.toThemeProperty(e._tooltip.classname)),$(document.body).append(e._barGaugeTooltip),!0===e._tooltip.visible&&!1===e.disabled&&0<e._valuesLength&&e._addTooltipHandlers()},_refreshTooltipHandlers:function(){!0===this._tooltip.visible&&!1===this.disabled&&(this._removeTooltipHandlers(),this._addTooltipHandlers())},_addTooltipHandlers:function(){var e,t,a=this;a.addHandler($("#"+a.element.id+" .jqx-bar-gauge-slice"),"mouseenter",function(){!0===a._tooltip.visible&&0<a._valuesLength&&(e=a.renderer.getAttr(this,"id").substr(a.element.id.length+5),t=a._calculatePrecision(a._tooltip.precision,a.values[e]),a._barGaugeTooltip.css({display:"block",color:a._colors[e],"border-color":a._colors[e]}),void 0!==a._tooltip.formatFunction&&null!==a._tooltip.formatFunction&&"function"==typeof a._tooltip.formatFunction&&(t=a._tooltip.formatFunction(t,parseInt(e))),a._barGaugeTooltip.html(t),a._raiseEvent("2",{layer:e}))}),a.addHandler($("#"+a.element.id+" .jqx-bar-gauge-slice"),"mouseleave",function(){a._barGaugeTooltip.css({display:"none"}),a._raiseEvent("3",{layer:e})}),a.addHandler($("#"+a.element.id+" .jqx-bar-gauge-slice"),"mouseup",function(){a._barGaugeTooltip.css({display:"none"})}),0<$("#"+a.element.id+" .jqx-bar-gauge-slice").length&&a.addHandler($("#"+a.element.id+" .jqx-bar-gauge-slice"),"mousemove",function(){!0===a._tooltip.visible&&0<a._valuesLength&&(e=a.renderer.getAttr(this,"id").substr(a.element.id.length+5),t=a._calculatePrecision(a._tooltip.precision,a.values[e]),a._barGaugeTooltip.css({display:"block",color:a._colors[e],"border-color":a._colors[e]}),void 0!==a._tooltip.formatFunction&&null!==a._tooltip.formatFunction&&"function"==typeof a._tooltip.formatFunction&&(t=a._tooltip.formatFunction(t,parseInt(e))),a._barGaugeTooltip.html(t))}),a.addHandler($(a.host),"mousemove",function(e){a._barGaugeTooltip.css({top:e.pageY-10+"px",left:e.pageX+15+"px"})})},_removeTooltipHandlers:function(){var e=this;0<e._barGaugeSlices.length&&(e.removeHandler($(e._barGaugeSlices),"mouseenter"),e.removeHandler($(e._barGaugeSlices),"mouseleave"),e.removeHandler($(e._barGaugeSlices),"mouseup"),e.removeHandler($(e._barGaugeSlices),"mousemove"),e.removeHandler($("#"+e.element.id+" .jqx-bar-gauge-slice"),"mouseenter mouseleave mouseup mousemove")),e.removeHandler($(e.host),"mousemove")},_drawBarGaugeTitle:function(){var e=this;e._alignmentIE=e._alignmentIE||e._title.horizontalAlignment;var t,a,l,i,r,n,o,s,_,u=0;if((e._ie7||e._ie8)&&(e._title.horizontalAlignment="left"),1<e._titleLines){for(t=e._title.text.split("<br>"),s=0;s<e._titleLines;s++)for(l=e._measureText(t[s]+"_",e._title.font.size,e._title.font.family,e._title.font.weight),n=t[s];l.width>e.width;)n=n.slice(0,-1),t[s]=n+"...",l=e._measureText(t[s]+"_",e._title.font.size,e._title.font.family,e._title.font.weight);e._title.text=t.join("<br>")}else for(l=e._measureText(e._title.text+"_",e._title.font.size,e._title.font.family,e._title.font.weight),n=e._title.text;l.width>e.width;)n=n.slice(0,-1),e._title.text=n+"...",l=e._measureText(e._title.text+"_",e._title.font.size,e._title.font.family,e._title.font.weight);if(("bottom"===e._title.verticalAlignment&&(u=e.height-e._title.placeholderSize),null!==e.title&&void 0!==e.title&&""!==e._title.text)&&(e._barGaugeTitle=e.renderer.text(e._title.text,e._title.margin.left,u+e._title.margin.top,e.width-e._title.margin.right,0,void 0,{fill:e._title.font.color,"fill-opacity":e._title.font.opacity,"font-size":e._title.font.size,"font-family":e._title.font.family,"font-weight":e._title.font.weight},!1,e._title.horizontalAlignment,e._title.verticalAlignment,"centertop"),o=e.element.id+"Title",e.renderer.attr(e._barGaugeTitle,{id:o}),e.renderer.attr(e._barGaugeTitle,{class:"jqx-bar-gauge-title"}),(e._ie7||e._ie8)&&($("#"+o+" textbox").css({width:e.width+"px !important","padding-left":"10px",position:"relative"}),_=0,l.width<e.width&&("center"===e._alignmentIE?_=(e.width-l.width)/2:"right"===e._alignmentIE&&(_=e.width-l.width)),$("#"+o+" span").css({color:e._title.font.color,"margin-left":_+"px","white-space":"nowrap","text-align":"center","font-size":e._title.font.size+"px","font-family":e._title.font.family,"font-weight":e._title.font.weight})),""!==e._title.subtitle.text&&void 0!==e._title.subtitle.text)){if(1<e._subTitleLines){for(a=e._title.subtitle.text.split("<br>"),s=0;s<e._subTitleLines;s++)for(i=e._measureText(a[s]+"_",e._title.subtitle.font.size,e._title.subtitle.font.family,e._title.subtitle.font.weight),r=a[s];i.width>e.width;)r=r.slice(0,-1),a[s]=r+"...",i=e._measureText(a[s]+"_",e._title.subtitle.font.size,e._title.subtitle.font.family,e._title.subtitle.font.weight);e._title.subtitle.text=a.join("<br>")}else for(i=e._measureText(e._title.subtitle.text+"_",e._title.subtitle.font.size,e._title.subtitle.font.family,e._title.subtitle.font.weight),r=e._title.subtitle.text;i.width>e.width;)r=r.slice(0,-1),e._title.subtitle.text=r+"...",i=e._measureText(e._title.subtitle.text+"_",e._title.subtitle.font.size,e._title.subtitle.font.family,e._title.subtitle.font.weight);e._barGaugeSubTitle=e.renderer.text(e._title.subtitle.text,e._title.margin.left,u+e._title.font.size*e._titleLines+e._title.margin.top,e.width-e._title.margin.right,0,void 0,{fill:e._title.subtitle.font.color,"fill-opacity":e._title.subtitle.font.opacity,"font-size":e._title.subtitle.font.size,"font-family":e._title.subtitle.font.family,"font-weight":e._title.subtitle.font.weight,"margin-top":e._title.margin.top},!1,e._title.horizontalAlignment,e._title.verticalAlignment,"centertop"),_=e.element.id+"SubTitle",e.renderer.attr(e._barGaugeSubTitle,{id:_}),e.renderer.attr(e._barGaugeSubTitle,{class:"jqx-bar-gauge-subtitle"}),(e._ie7||e._ie8)&&(u=0,i.width<e.width&&("center"===e._alignmentIE?u=(e.width-i.width)/2:"right"===e._alignmentIE&&(u=e.width-i.width)),$("#"+_+" textbox").css({width:e.width+"px !important",left:u+"px !important",position:"relative"}),$("#"+_+" span").css({width:"100%",color:e._title.subtitle.font.color,"margin-left":u+"px","white-space":"nowrap","text-align":"center","font-size":e._title.subtitle.font.size+"px","font-family":e._title.subtitle.font.family,"font-weight":e._title.subtitle.font.weight}))}},_measureText:function(e,t,a,l){var i=this,r={};return $("#"+i._measuredTextId).length||(i._measuredText.attr("id",i._measuredTextId),$(i.host).append(i._measuredText),i._measuredText.css({"z-index":-999999,"white-space":"nowrap","font-size":t+"px","font-family":a,"font-weight":l})),i._measuredText[0].style.fontSize!=t+"px"&&(i._measuredText[0].style.fontSize=t+"px"),i._measuredText[0].style.fontFamily!=a+"px"&&(i._measuredText[0].style.fontFamily=a),i._measuredText[0].style.fontWeight!=l&&(i._measuredText[0].style.fontWeight=l+"px"),i._measuredText.text(e),r.width=i._measuredText[0].offsetWidth,r.height=i._measuredText[0].offsetHeight,r},_calculateBarGaugeRadius:function(){var e=this;e.width>e.height-e._title.placeholderSize?e._barGaugeRadius=(e.height-e._title.placeholderSize)/2:e._barGaugeRadius=e.width/2},_addCSS:function(){var e=this;$(e.host).addClass(e.toThemeProperty("jqx-widget")),$(e.host).addClass(e.toThemeProperty("jqx-bar-gauge")),$(e.host).addClass(e.toThemeProperty("jqx-widget-content")),e.disabled&&$(e.host).addClass(e.toThemeProperty("jqx-fill-state-disabled"))},_rendered:function(){var e=this;!0===e._rendering&&(null!==e.rendered&&"function"==typeof e.rendered&&e.rendered(),e._rendering=!1,e.clearIntervals(),e._temporaryOldAngle.length=0,e._temporaryValuesToDegrees.length=0,e._temporaryValues.length=0,e._raiseEvent("0"),e._raiseEvent("5"))},_render:function(){var e=this;e._removeAllGraphicElements(),0<e.values.length?0===e.animationDuration||e._ie8||e._ie7?e._drawStaticBarGauge():e._drawDynamicBarGauge():(e._getLiquidDimensions(),e.host.width(e.width),e.host.height(e.height),e._validateValues(),e._transformValuesToAngles(),e._drawStaticBarGauge())},render:function(){var e=this;e.clearIntervals(),e._getLiquidDimensions(),e.host.width(e.width),e.host.height(e.height),e._validateValues(),e._transformValuesToAngles(),e._getColorScheme(),!0!==e._rendering||e._staticRefresh(),e._render()},refresh:function(e){!0!==e&&this.render()},_removeAllGraphicElements:function(){this._removeLabels(),this._removeBarGaugeSlices(),this._removeBarGaugeTitle(),this._removeBarGaugeSubTitle()},_drawStaticBarGauge:function(){var e=this;e._rendering=!0,e._drawBarGaugeTitle(),e._drawBarGaugeLayout(),e.disabled||(e._getLiquidDimensions(),e.host.width(e.width),e.host.height(e.height),e._validateValues(),e._measureRadius(),e._drawStaticBarGaugeElementsWithBase()),e._rendered()},_drawDynamicBarGauge:function(){var e=this;e._drawBarGaugeTitle(),e._drawBarGaugeLayout(),e.disabled?e._rendered():e._drawBarGaugeElementsWithBase()},val:function(e){var t=this;return null!=e&&"object"==typeof e&&0<Object.keys(e).length?(t._raiseEvent("4","api"),e.length!=t.values.length?(t.values=e,t.render()):t._redrawWithNewValuesArray(e,t.values)):null!=e&&"object"==typeof e&&0===e.length&&(t._raiseEvent("4"),t._removeLabels(),t._removeBarGaugeSlices(),t._transformValuesToAngles(),t._drawEmptyBarGauge(),t._removeLabels(),t.values.length=0,t._refreshTooltipHandlers()),t.values},_redrawWithNewValuesArray:function(e,t){var a,l=this;if(!1===l._rendering)l._userValues=e.slice(),l._oldValues=(t||l.values).slice(),l._oldValuesToDegrees=l._valuesToDegrees.slice(),l._oldValuesLength=l._valuesLength,1<Object.keys(e).length?l.values=e.slice():null===e[0]||void 0===e[0]?l.values=[]:(l.values=[],l.values[0]=parseFloat(e)),l._lastChange=new Date;else if(!0===l._rendering){for(l._userValues=e.slice(),l._oldValues.length=0,a=l._oldValuesToDegrees.length=0;a<l.values.length;a++)l._oldValues[a]=(null!=l._temporaryValues[a]?l._temporaryValues:l.values)[a],l._oldValuesToDegrees[a]=(null!=l._temporaryValuesToDegrees[a]?l._temporaryValuesToDegrees:l._valuesToDegrees)[a];l._oldValuesLength=l.values.length,1<e.length?l.values=e.slice():null===e[0]||void 0===e[0]?l.values=[]:(l.values=[],l.values[0]=parseFloat(e))}else if(null==e)l.values=[];else{if("string"!=typeof e&&"number"!=typeof e)return l.values;l.values=[],l.values[0]=parseFloat(e)}if(l._valuesLength=l.values.length,l._getColorScheme(),l._valuesLength>l._oldValuesLength)for(var i=l._oldValuesLength;i<l._valuesLength;i++)l._oldValuesToDegrees[i]=l._geometry.baseAngle,l._oldValues[i]=l.baseValue;for(a=0;a<l._valuesLength;a++){l.values[a]<l.min?l.values[a]=l.min:l.values[a]>l.max&&(l.values[a]=l.max);var r=l.values[a];0==r&&(r=.03),r=(r-l.min)/(l.max-l.min)*(l._geometry.endAngle-l._geometry.startAngle)+l._geometry.startAngle,l._valuesToDegrees[a]=r%360}l._renderElements(),l._refreshTooltipHandlers(),l._raiseEvent("1")},_staticRefresh:function(){var e=this,t=e.animationDuration;"string"==typeof e.width&&-1!==e.width.indexOf("%")&&(e._dimensions.width=e.width),"string"==typeof e.height&&-1!==e.height.indexOf("%")&&(e._dimensions.height=e.height),e._getLiquidDimensions(),e.host.width(e.width),e.host.height(e.height),$("#"+e.element.id+" .chartContainer").width(e.width),$("#"+e.element.id+" .chartContainer").height(e.height),e._removeBarGaugeTitle(),e._removeBarGaugeSubTitle(),e._validateGeometry(),e._validateTitle(),e._validateLabel(),e._validateValues(),e._validateTooltip(),e._measureRadius(),e.animationDuration=0,e._render(),e.animationDuration=t},propertyChangedHandler:function(e,t,a,l){var i,r,n=e;if(n._cachedMeasurements=[],void 0!==e.isInitialized&&null!==e.isInitialized&&!1!==e.isInitialized&&(n.ie7||!e.batchUpdate||!e.batchUpdate.width||!e.batchUpdate.height||2!==Object.keys(e.batchUpdate).length)&&(l!==a||"colorScheme"===t||"tooltip"===t))switch(n.animationDuration,n._titleTemplate=n._title,n._labelTemplate=n._label,n._tooltipTemplate=n._tooltip,t){case"width":case"height":n._staticRefresh();break;case"values":n.values=a,n.val(l);break;case"animationDuration":break;case"disabled":n.disabled?$(n.host).addClass(n.toThemeProperty("jqx-fill-state-disabled")):$(n.host).removeClass(n.toThemeProperty("jqx-fill-state-disabled")),n._render();break;case"geometry":case"min":case"baseValue":case"max":case"barSpacing":case"startAngle":case"endAngle":case"relativeInnerRadius":n.geometry.startAngle=n.startAngle,n.geometry.endAngle=n.endAngle,n.values=n._userValues.slice(),n._validateValues(),n._transformValuesToAngles(),n._render();break;case"tooltip":n._validateTooltip();break;case"rendered":break;case"backgroundColor":if(n._backgroundColor=n._validateColor(n.backgroundColor,n._backgroundColor),n._ie7||n._ie8)for(i=0;i<n._valuesLength;i++)n.renderer.attr(n._barGaugeBackgroundSlices[i],{fillcolor:n._backgroundColor,strokecolor:n._backgroundColor,"stroke-width":n._barGaugeSlicesStrokeWidth});else $("#"+n.element.id+" .jqx-bar-gauge-background-slice").attr({fill:n._backgroundColor,stroke:n._backgroundColor,"stroke-width":n._barGaugeSlicesStrokeWidth});break;case"customColorScheme":n._attachCustomColors();break;case"colorScheme":for(n._getColorScheme(),i=0;i<n._valuesLength;i++){o=n._label.connectorColor||n._colors[i],r=n._label.font.color||n._colors[i];var o,s=n._colors[i];n.useGradient&&(s=n.renderer._toLinearGradient(s,!0,[[0,1.4],[100,1]])),n.renderer.attr(n._barGaugeSlices[i],{fill:s}),n.renderer.attr(n._barGaugeLabelLines[i],{fill:o,stroke:o}),n.renderer.attr(n._barGaugeLabelText[i],{fill:r}),(n._ie7||n._ie8)&&(n.renderer.attr(n._barGaugeSlices[i],{fillcolor:n._colors[i],strokecolor:n._colors[i],"stroke-width":n._barGaugeSlicesStrokeWidth}),n.renderer.attr(n._barGaugeLabelLines[i],{fillcolor:o,strokecolor:o}),o=n.element.id+"Label"+i,$("#"+o+" .jqx-bargauge-label").css({color:r}))}break;default:n._staticRefresh()}},_compareArrays:function(e,t){var a=e.length;if(a!==t.length)return!1;for(var l=0;l<a;l++)if(e[l]!==t[l])return!1;return!0},_addIEPolyfills:function(){var i,r,n,o;Object.keys||(Object.keys=(i=Object.prototype.hasOwnProperty,r=!{toString:null}.propertyIsEnumerable("toString"),o=(n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,a,l=[];for(t in e)i.call(e,t)&&l.push(t);if(r)for(a=0;a<o;a++)i.call(e,n[a])&&l.push(n[a]);return l}))},destroy:function(){var e=this;$("#"+e._measuredTextId).remove(),e.renderer.clear(),e.renderer=null,e._removeEventHandlers(),e._removeTooltipHandlers(),e.host.children().remove(),e.host.removeData(),e.host.removeClass(),e.host.remove(),e.host=null,e.element=null,delete e.element,delete e.host},_addEventHandlers:function(){var t=this;t.addHandler($(t.host),"drawStart",function(){}),t.addHandler($(t.host),"drawEnd",function(){t._refreshTooltipHandlers()}),t.addHandler($(window),"resize.jqxBarGauge"+t.host[0].id,function(){var e=!1;t._dimensions.width&&0<=t._dimensions.width.toString().indexOf("%")&&(e=!0),t._dimensions.height&&0<=t._dimensions.height.toString().indexOf("%")&&(e=!0),e&&t._staticRefresh()})},_removeEventHandlers:function(){var e=this;e.removeHandler($(e.host),"drawStart"),e.removeHandler($(e.host),"drawEnd"),e.removeHandler($(window),"resize.jqxBarGauge"+e.host[0].id)},_refreshEventHandlers:function(){this._removeEventHandlers(),this._addEventHandlers()},_raiseEvent:function(e,t){e=$.Event(this._events[e]);return e.args=t,this.host.trigger(e)},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e}})}(jqxBaseFramework);