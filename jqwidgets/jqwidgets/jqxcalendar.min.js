!function(b){b.jqx.jqxWidget("jqxCalendar","",{}),b.extend(b.jqx._jqxCalendar.prototype,{defineInstance:function(){var e={disabled:!1,restrictedDates:new Array,multipleMonthRows:1,multipleMonthColumns:1,minDate:b.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:b.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),navigationDelay:400,stepMonths:1,width:null,height:null,value:b.jqx._jqxDateTimeInput.getDateTime(new Date),firstDayOfWeek:0,showWeekNumbers:!1,showDayNames:!0,enableWeekend:!1,enableOtherMonthDays:!0,showOtherMonthDays:!0,rowHeaderWidth:25,columnHeaderHeight:25,titleHeight:30,dayNameFormat:"firstTwoLetters",monthNameFormat:"default",titleFormat:["MMMM yyyy","yyyy","yyyy","yyyy"],enableViews:!0,readOnly:!1,culture:"default",enableFastNavigation:!0,enableHover:!0,enableAutoNavigation:!0,enableTooltips:!1,backText:"Back",forwardText:"Forward",specialDates:new Array,keyboardNavigation:!0,selectionMode:"default",selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],todayString:"Today",clearString:"Clear",showFooter:!1,selection:{from:null,to:null},canRender:!0,_checkForHiddenParent:!0,height:null,rtl:!1,view:"month",views:["month","year","decade"],changing:null,change:null,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["backButtonClick","nextButtonClick","valuechanged","cellMouseDown","cellMouseUp","cellSelected","cellUnselected","change","viewChange"]};return this===b.jqx._jqxCalendar.prototype||(b.extend(!0,this,e),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(0),this.minDate._setMinutes(0),this.minDate._setSeconds(0),this.minDate._setMilliseconds(0),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(0),this.maxDate._setMinutes(0),this.maxDate._setSeconds(0),this.maxDate._setMilliseconds(0),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),e},_createFromInput:function(e){var t,i,a,s=this;"input"==s.element.nodeName.toLowerCase()&&(s.field=s.element,s.field.className&&(s._className=s.field.className),a={title:s.field.title},s.field.value&&(a.value=s.field.value),s.field.checked&&(a.checked=!0),s.field.id.length?a.id=s.field.id.replace(/[^\w]/g,"_")+"_"+e:a.id=b.jqx.utilities.createId()+"_"+e,!s.field.getAttribute("min")||"Invalid Date"!=(t=new Date(s.field.getAttribute("min")))&&(s.min=t),!s.field.getAttribute("max")||"Invalid Date"!=(i=new Date(s.field.getAttribute("max")))&&(s.max=i),(t=b("<div></div>",a))[0].style.cssText=s.field.style.cssText,s.width||(s.width=b(s.field).width()),s.height||(s.height=b(s.field).outerHeight()),b(s.field).hide().after(t),i=s.host.data(),s.host=t,s.host.data(i),s.element=t[0],s.element.id=s.field.id,s.field.id=a.id,s._className&&(s.host.addClass(s._className),b(s.field).removeClass(s._className)),s.field.tabIndex&&(a=s.field.tabIndex,s.field.tabIndex=-1,s.element.tabIndex=a))},createInstance:function(e){var t,i=this;i._createFromInput("jqxCalendar"),i.isMaterialized()&&(t=(a=window.getComputedStyle(this.element)).getPropertyValue("--jqx-calendar-title-height"),a=a.getPropertyValue("--jqx-calendar-column-header-height"),t&&(this.titleHeight=parseInt(t)),a&&(this.columnHeaderHeight=parseInt(a)),setTimeout(function(){i.refreshControl()},200)),this.setCalendarSize(),""===this.element.id&&(this.element.id=b.jqx.utilities.createId()),"date"==b.type(this.value)&&(this.value=b.jqx._jqxDateTimeInput.getDateTime(this.value)),this.element.innerHTML="",this.host.attr("data-role","calendar");this.element.id;var a,s=this;this.propertyChangeMap.width=function(e,t,i,a){s.setCalendarSize()},this.propertyChangeMap.height=function(e,t,i,a){s.setCalendarSize()},b.global&&b.global.preferCulture(this.culture),"default"!=this.culture&&(b.global?(b.global.preferCulture(this.culture),this.localization.calendar=b.global.culture.calendar):window.Globalize&&(a=window.Globalize.culture(this.culture),this.localization.calendar=a.calendar),this.firstDayOfWeek=this.localization.calendar.firstDay),"Back"!=this.localization.backString&&(this.backText=this.localization.backString),"Forward"!=this.localization.forwardString&&(this.forwardText=this.localization.forwardString),"Today"!=this.localization.todayString&&this.localization.todayString&&(this.todayString=this.localization.todayString),"Clear"!=this.localization.clearString&&this.localization.clearString&&(this.clearString=this.localization.clearString),this.localization.calendar&&null!=this.localization.calendar.firstDay&&"default"!=this.culture&&(this.firstDayOfWeek=this.localization.calendar.firstDay),this.setMaxDate(this.max,!1),this.setMinDate(this.min,!1),this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.host.css("outline","none"),this.host.addClass(this.toThemeProperty("jqx-calendar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this._addInput(),-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&-1==this.views.indexOf("month")&&(this.view="decade"),this.addHandler(this.host,"keydown",function(e){var t=!0;return s.keyboardNavigation&&null!=s._handleKey&&((t=s._handleKey(e))||(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault())),t});var l=!1,r=this,n=!1;null!=s.width&&-1!=s.width.toString().indexOf("%")&&(n=!0),null!=s.height&&-1!=s.height.toString().indexOf("%")&&(n=!0),b.jqx.utilities.resize(this.host,function(){var e=r.host.find("#View"+s.element.id);l?r.refreshTitle(e):(l=!0,r.render()),n&&(s.refreshTimer&&clearTimeout(s.refreshTimer),s.refreshTimer=setTimeout(function(){s.refreshControl()},1))},!1,this._checkForHiddenParent);this.propertyChangeMap.disabled=function(e,t,i,a){a?e.host.addClass(s.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(s.toThemeProperty("jqx-fill-state-disabled")),s.refreshControl()}},_addInput:function(){var e=this.host.attr("name");this.input=b("<input type='hidden'/>"),this.host.append(this.input),e&&this.input.attr("name",e),this.input.val(this.getDate().toString())},setCalendarSize:function(){(null!=this.width&&-1!=this.width.toString().indexOf("px")||null!=this.width&&!isNaN(this.width))&&this.host.width(this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.css("width",this.width),(null!=this.height&&-1!=this.height.toString().indexOf("px")||null!=this.height&&!isNaN(this.height))&&this.host.height(this.height),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.css("height",this.height)},_getYearAndMonthPart:function(e){return e?new Date(e.getFullYear(),e.getMonth(),1):new Date(1900,0,1)},_handleKey:function(e){if(this.readOnly)return!0;var t=e.keyCode,i=this._getSelectedDate();if(null==i){if("month"!=this.view||37!=t&&38!=t&&39!=t&&40!=t)return!0;this.selectedDate=new Date(this.value.year,this.value.month-1,1),this._selectDate(this.selectedDate,"key"),i=this.selectedDate}if(e.altKey)return!0;if(this._animating)return!1;if("month"!=this.view&&13==t&&(m=this._getSelectedCell(),this._setDateAndSwitchViews(m,e,"keyboard")),"year"==this.view){var a=i.getMonth(),s=this._getYearAndMonthPart(this.getMinDate()),l=this._getYearAndMonthPart(this.getMaxDate());switch(t){case 37:return 0==a?s<=(h=new Date(i.getFullYear()-1,11,1))?(this.selectedDate=h,this.navigateBackward()):this.selectedDate!=s&&(this.selectedDate=s,this.navigateBackward()):s<=(h=new Date(i.getFullYear(),a-1,1))&&this._selectDate(h,"key"),!1;case 38:return(h=new Date(i.getFullYear(),a-4,1))<s&&(h=s),a-4<0?(this.selectedDate=h,this.navigateBackward()):this._selectDate(h,"key"),!1;case 40:return l<(h=new Date(i.getFullYear(),a+4,1))&&(h=l),11<a+4?(this.selectedDate=h,this.navigateForward()):this._selectDate(h,"key"),!1;case 39:return 11==a?(h=new Date(i.getFullYear()+1,0,1))<=l?(this.selectedDate=h,this.navigateForward()):this.selectedDate!=l&&(this.selectedDate=l,this.navigateForward()):(h=new Date(i.getFullYear(),a+1,1))<=l&&this._selectDate(h,"key"),!1}return!0}if("decade"==this.view){var r,s=this._renderStartDate.getFullYear(),a=this._renderEndDate.getFullYear(),n=i.getFullYear(),l=this.getMinDate().getFullYear(),h=this.getMaxDate().getFullYear();switch(t){case 37:return l<=n-1&&(n<=s?(this.selectedDate=new Date(n-1,i.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(n-1,i.getMonth(),1),"key")),!1;case 38:return(r=n-4<l?l:n-4)<s?(this.selectedDate=new Date(r,i.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(r,i.getMonth(),1),"key"),!1;case 40:return h<(r=n+4)&&(r=h),a<r?(this.selectedDate=new Date(r,i.getMonth(),1),this.navigateForward()):this._selectDate(new Date(r,i.getMonth(),1),"key"),!1;case 39:return n+1<=h&&(n==a?(this.selectedDate=new Date(n+1,i.getMonth(),1),this.navigateForward()):this._selectDate(new Date(n+1,i.getMonth(),1),"key")),!1}return!0}var d=new b.jqx._jqxDateTimeInput.getDateTime(i),n=this.getViewStart(),i=this.getViewEnd(),o=b.data(this.element,"View"+this.element.id);if(null==o||null==o)return!0;if(36==t)return d._setDay(1),this._isDisabled(d.dateTime)||this._selectDate(d.dateTime,"key"),!1;if(35==t){var c=this.value._daysInMonth(this.value.year,this.value.month);return(d._setDay(c),this._isDisabled(d.dateTime))?!1:(this._selectDate(d.dateTime,"key"),!1)}c=1;if(e.ctrlKey&&(c=12),34==t){if(this.navigateForward(c)){if(d._addMonths(c),this._isDisabled(d.dateTime))return!1;this._selectDate(d.dateTime,"key")}return!1}if(33==t){if(this.navigateBackward(c)){if(d._addMonths(-c),this._isDisabled(d.dateTime))return!1;this._selectDate(d.dateTime,"key")}return!1}if(38==t){if(d._addDays(-7),d.dateTime<this.getMinDate())return!1;if(d.dateTime<n)if(!this.navigateBackward())return!1;if(this._isDisabled(d.dateTime))return!1;this._selectDate(d.dateTime,"key");for(var u=0;u<o.cells.length;u++){var g=(m=o.cells[u]).getDate();if(m.isOtherMonth&&m.isSelected&&g<=d.dateTime){this.value.day=g.getDate(),this.navigateBackward(),this._selectDate(d.dateTime,"key");break}}return!1}if(40==t){if(d._addDays(7),d.dateTime>this.getMaxDate())return!1;if(d.dateTime>i)if(!this.navigateForward())return!1;if(this._isDisabled(d.dateTime))return!1;this._selectDate(d.dateTime,"key");for(u=0;u<o.cells.length;u++){g=(m=o.cells[u]).getDate();if(m.isOtherMonth&&m.isSelected&&g>=d.dateTime){this.value.day=g.getDate(),this.navigateForward(),this._selectDate(d.dateTime,"key");break}}return!1}if(37==t){if(d._addDays(-1),d.dateTime<this.getMinDate())return!1;if(d.dateTime<n)if(!this.navigateBackward())return!1;if(this._isDisabled(d.dateTime))return!1;this._selectDate(d.dateTime,"key");for(u=0;u<o.cells.length;u++){g=(m=o.cells[u]).getDate();if(m.isOtherMonth&&m.isSelected&&g<=d.dateTime){if(d.dateTime<this.getMinDate()||d.dateTime>this.getMaxDate())return!1;if(this._isDisabled(d.dateTime))return!1;this.navigateBackward(),this._selectDate(d.dateTime,"key");break}}return!1}if(39!=t)return!0;if(d._addDays(1),d.dateTime>this.getMaxDate())return!1;if(d.dateTime>i&&!this.navigateForward())return!1;if(this._isDisabled(d.dateTime))return!1;this._selectDate(d.dateTime,"key");for(u=0;u<o.cells.length;u++){var m,g=(m=o.cells[u]).getDate();if(m.isOtherMonth&&m.isSelected&&g>=d.dateTime){if(d.dateTime<this.getMinDate()||d.dateTime>this.getMaxDate())return!1;this.navigateForward(),this._selectDate(d.dateTime,"key");break}}return!1},render:function(){var e;this.canRender&&(this.host.children().remove(),e=this._renderSingleCalendar("View"+this.element.id),this.host.append(e))},addSpecialDate:function(e,t,i){var a;1==this.multipleMonthRows&&1==this.multipleMonthColumns&&(a=this.specialDates.length,this.specialDates[a]={Date:e,Class:t,Tooltip:i},this.refreshControl())},refresh:function(e){var t=this;this.render(),setTimeout(function(){t.refreshControl()})},invalidate:function(){this.refreshControl()},refreshControl:function(){1==this.multipleMonthRows&&1==this.multipleMonthColumns&&this.refreshSingleCalendar("View"+this.element.id,null)},getViewStart:function(){var e=this.getVisibleDate();return this.getFirstDayOfWeek(e).dateTime},getViewEnd:function(){var e=this.getViewStart(),e=new b.jqx._jqxDateTimeInput.getDateTime(e);return e._addDays(41),e.dateTime},refreshSingleCalendar:function(e,t){var i,a,s;this.canRender&&(i=this.host.find("#"+e),s=this.getVisibleDate(),a=this.getFirstDayOfWeek(s),this.refreshCalendarCells(i,a,e),this.refreshTitle(i),this.refreshRowHeader(i,e),null!=this.selectedDate&&this._selectDate(this.selectedDate),s=parseInt(this.month.css("padding-top")),a=this.host.height()-2*s-this.titleHeight-this.columnHeaderHeight,this.showDayNames||(a=this.month.height()-this.titleHeight),this.showFooter&&(a-=20),s=i.find("#cellsTable"+e),e=i.find("#calendarRowHeader"+e),s.height(a),e.height(a))},refreshRowHeader:function(e,t){if(this.showWeekNumbers){var i=this.getVisibleDate(),a=this.getFirstDayOfWeek(i),s=(a.dayOfWeek,this.getWeekOfYear(a)),i=new b.jqx._jqxDateTimeInput.getDateTime(new Date(a.dateTime));i._addDays(5),i.dayOfWeek=i.dateTime.getDay();this.getWeekOfYear(i);var l=this.rowHeader.find("table");l.width(this.rowHeaderWidth);for(var r=a,n=new Array,h=0;h<6;h++){s.toString();var d=new b.jqx._jqxCalendar.cell(r.dateTime),o=h+1+this.element.id,c=b(l[0].rows[h].cells[0]);d.element=c,d.row=h,d.column=0;o=c.find("#headerCellContent"+o);o.addClass(this.toThemeProperty("jqx-calendar-row-cell")),o[0].innerHTML=s,n[h]=d,r=new b.jqx._jqxDateTimeInput.getDateTime(new Date(r._addWeeks(1))),s=this.getWeekOfYear(r)}e=b.data(this.element,e[0].id);e.rowCells=n,this._refreshOtherMonthRows(e,t)}},_refreshOtherMonthRows:function(e,t){if(!this.showOtherMonthDays){this._displayLastRow(!0,t),this._displayFirstRow(!0,t);for(var i=!1,a=!1,s=0;s<e.cells.length;s++){var l=e.cells[s];l.isVisible&&s<7?i=!0:l.isVisible&&s>=e.cells.length-7&&(a=!0)}i||this._displayFirstRow(!1,t),a||this._displayLastRow(!1,t)}},_displayLastRow:function(e,t){var i=this.host.find("#"+t),a=i.find("#calendarRowHeader"+i[0].id).find("table"),t=null;this.showWeekNumbers&&a[0].cells&&(t=b(a[0].rows[5]));i=b(i.find("#cellTable"+i[0].id)[0].rows[5]);e?(this.showWeekNumbers&&t&&t.css("display","table-row"),i.css("display","table-row")):(this.showWeekNumbers&&t&&t.css("display","none"),i.css("display","none"))},_displayFirstRow:function(e,t){var i=this.host.find("#"+t),a=i.find("#calendarRowHeader"+i[0].id).find("table"),t=null;this.showWeekNumbers&&a[0].cells&&(t=b(a[0].rows[0]));i=b(i.find("#cellTable"+i[0].id)[0].rows[0]);e?(this.showWeekNumbers&&t&&t.css("display","table-row"),i.css("display","table-row")):(this.showWeekNumbers&&t&&t.css("display","none"),i.css("display","none"))},_renderSingleCalendar:function(e,t){if(this.canRender){var i=this.host.find("#"+e.toString());null!=i&&i.remove();var a=b("<div id='"+e.toString()+"'></div>"),s=this.getVisibleDate(),l=this.getFirstDayOfWeek(s),r=new b.jqx._jqxDateTimeInput.getDateTime(l.dateTime);r._addMonths(1);var n=b.jqx._jqxCalendar.monthView(l,r,null,null,null,a);null==t||null==t?(this.host.append(a),a[0].style.width="100%",a[0].style.height="100%"):t.append(a),b.data(this.element,e,n);var h=parseInt(a.css("padding-top")),i=this.host.height()-2*h,s=i-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(s=i-this.titleHeight),this.showFooter&&(s-=20),this.rowHeaderWidth<0&&(this.rowHeaderWidth=0),this.columnHeaderHeight<0&&(this.columnHeaderHeight=0),this.titleHeight<0&&(this.titleHeight=0);r=this.rowHeaderWidth,h=this.columnHeaderHeight;this.showWeekNumbers||(r=0),this.showDayNames||(h=0);i="<div style='height:"+this.titleHeight+"px;'><table role='grid' style='margin: 0px; width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarTitle' width='100%'><td role='gridcell' NOWRAP id='leftNavigationArrow'></td><td aria-live='assertive' aria-atomic='true' role='gridcell' align='center' NOWRAP id='calendarTitleHeader'></td><td role='gridcell' NOWRAP id='rightNavigationArrow'></td></tr></table></div>",r="<table role='grid' class='"+this.toThemeProperty("jqx-calendar-month")+"' style='margin: 0px; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarHeader' height='"+h+"'><td role='gridcell' id='selectCell' width='"+r+"'></td><td role='gridcell' colspan='2' style='border: none; padding-left: 2px; padding-right: 2px' id='calendarColumnHeader'></td></tr><tr role='row' id='calendarContent'><td role='gridcell' id='calendarRowHeader' valign='top' height='"+s+"' width='"+r+"'></td><td role='gridcell' valign='top' colspan='2' style='padding-left: 2px; padding-right: 2px' id='cellsTable' height='"+s+"'></td></tr></table>";a[0].innerHTML=i+r+"<div id='footer' style='margin: 0px; display: none; height:undefinedpx;'><table style='width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr id='calendarFooter'><td align='right' id='todayButton'></td><td align='left' colspan='2' id=doneButton></td></tr></table></div>",this.header=a.find("#calendarHeader"),this.header[0].id="calendarHeader"+e,this.header.addClass(this.toThemeProperty("calendar-header")),this.columnHeader=a.find("#calendarColumnHeader"),this.columnHeader[0].id="calendarColumnHeader"+e,this.table=a.find("#cellsTable"),this.table[0].id="cellsTable"+e,this.rowHeader=a.find("#calendarRowHeader"),this.rowHeader[0].id="calendarRowHeader"+e,this.selectCell=a.find("#selectCell"),this.selectCell[0].id="selectCell"+e,this.title=a.find("#calendarTitle"),this.title[0].id="calendarTitle"+e,this.leftButton=a.find("#leftNavigationArrow"),this.leftButton[0].id="leftNavigationArrow"+e,this.titleHeader=a.find("#calendarTitleHeader"),this.titleHeader[0].id="calendarTitleHeader"+e,this.rightButton=a.find("#rightNavigationArrow"),this.rightButton[0].id="rightNavigationArrow"+e,this.footer=a.find("#calendarFooter"),this._footer=a.find("#footer"),this._footer[0].id="footer"+e,this.footer[0].id="calendarFooter"+e,this.todayButton=a.find("#todayButton"),this.todayButton[0].id="todayButton"+e,this.doneButton=a.find("#doneButton"),this.doneButton[0].id="doneButton"+e,this.title.addClass(this.toThemeProperty("jqx-calendar-title-container"));var d;this.showFooter&&this._footer.css("display","block"),a.find("tr").addClass(this.toThemeProperty("jqx-reset")),a.addClass(this.toThemeProperty("jqx-widget-content")),a.addClass(this.toThemeProperty("jqx-calendar-month-container")),this.month=a,this.selectCell.addClass(this.toThemeProperty("jqx-reset")),this.selectCell.addClass(this.toThemeProperty("jqx-calendar-top-left-header")),this.showWeekNumbers?this._renderRowHeader(a):(this.table[0].colSpan=3,this.columnHeader[0].colSpan=3,this.rowHeader.css("display","none"),this.selectCell.css("display","none")),this.showFooter&&(this.footer.height(20),(s=b("<a href='javascript:;'>"+this.todayString+"</a>")).appendTo(this.todayButton),(i=b("<a href='javascript:;'>"+this.clearString+"</a>")).appendTo(this.doneButton),i.addClass(this.toThemeProperty("jqx-calendar-footer")),s.addClass(this.toThemeProperty("jqx-calendar-footer")),d=this,r="mousedown",b.jqx.mobile.isTouchDevice()&&(r=b.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(s,r,function(){return d.today?d.today():d.setDate(new Date,"mouse"),!1}),this.addHandler(i,r,function(){return d.clear?d.clear():d.setDate(null,"mouse"),!1})),"month"!=this.view&&this.header.hide(),this.showDayNames&&"month"==this.view&&this.renderColumnHeader(a),this.oldView=this.view,this.renderCalendarCells(a,l,e),null!=t&&null!=t||this.renderTitle(a),this._refreshOtherMonthRows(n,e),a.find("tbody").css({border:"none",background:"transparent"}),null!=this.selectedDate&&this._selectDate(this.selectedDate);var o=this;return this.addHandler(this.host,"focus",function(){o.focus()}),a}},_getTitleFormat:function(){switch(this.view){case"month":return this.titleFormat[0];case"year":return this.titleFormat[1];case"decade":return this.titleFormat[2];case"centuries":return this.titleFormat[3]}},renderTitle:function(e){var i=b("<div role='button' style='float: left;'></div>"),a=b("<div role='button' style='float: right;'></div>"),t=this.title;t.addClass(this.toThemeProperty("jqx-reset")),t.addClass(this.toThemeProperty("jqx-widget-header")),t.addClass(this.toThemeProperty("jqx-calendar-title-header"));var s,l,r=t.find("td");b.jqx.browser.msie&&b.jqx.browser.version<8?("transparent"!=r.css("background-color")&&(l=t.css("background-color"),r.css("background-color",l)),"transparent"!=r.css("background-image")&&(s=t.css("background-image"),l=t.css("background-repeat"),t.css("background-position"),r.css("background-image",s),r.css("background-repeat",l),r.css("background-position","left center scroll"))):r.css("background-color","transparent"),this.disabled&&t.addClass(this.toThemeProperty("jqx-calendar-title-header-disabled")),i.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),i.appendTo(this.leftButton);r=this.leftButton;a.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),a.addClass(this.toThemeProperty("jqx-icon-arrow-right")),a.appendTo(this.rightButton);t=this.rightButton;this.enableTooltips&&b(r).jqxTooltip&&(b(r).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.backText}),b(t).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.forwardText}));r=this.titleHeader,t=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);"decade"==this.view?t=this._format(this._renderStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderEndDate,this._getTitleFormat(),this.culture):"centuries"==this.view&&(t=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture));t=b("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+t+"</div>");r.append(t),t.addClass(this.toThemeProperty("jqx-calendar-title-content"));t=parseInt(i.width()),t=e.width()-2*t,r.find(".jqx-calendar-title-content").width(t);b.data(i,"navigateLeft",this),b.data(a,"navigateRight",this);var n,h=b.jqx.mobile.isTouchDevice();this.disabled||((n=this).addHandler(r,"mousedown",function(e){if(n.enableViews){if(!n._viewAnimating&&!n._animating){var t,i,a=n.view;switch(n.oldView=a,n.view){case"month":n.view="year";break;case"year":n.view="decade"}-1==n.views.indexOf("year")&&"year"==n.view&&(n.view="decade"),-1==n.views.indexOf("decade")&&"decade"==n.view&&(n.view=a),a!=n.view&&(t="View"+n.element.id,i=n.host.find("#"+t),a=n.getVisibleDate(),a=n.getFirstDayOfWeek(a),n.renderCalendarCells(i,a,t,!0),n.refreshTitle(i),n._raiseEvent("8"))}return!1}}),this.addHandler(i,"mousedown",function(e){if(n._animating)return!1;b.data(i,"navigateLeftRepeat",!0);var t=b.data(i,"navigateLeft");return t.enableFastNavigation&&!h&&t.startRepeat(t,i,!0,n.navigationDelay+200),t.navigateBackward(n.stepMonths,"arrow"),e.stopPropagation(),e.preventDefault(),t._raiseEvent(0,e)}),this.addHandler(i,"mouseup",function(e){b.data(i,"navigateLeftRepeat",!1)}),this.addHandler(i,"mouseleave",function(e){b.data(i,"navigateLeftRepeat",!1)}),this.addHandler(a,"mousedown",function(e){if(n._animating)return!1;b.data(a,"navigateRightRepeat",!0);var t=b.data(a,"navigateRight");return t.enableFastNavigation&&!h&&t.startRepeat(t,a,!1,n.navigationDelay+200),t.navigateForward(n.stepMonths,"arrow"),e.stopPropagation(),e.preventDefault(),t._raiseEvent(1,e)}),this.addHandler(a,"mouseup",function(e){b.data(a,"navigateRightRepeat",!1)}),this.addHandler(a,"mouseleave",function(e){b.data(a,"navigateRightRepeat",!1)}))},refreshTitle:function(e){var t=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);"decade"==this.view?t=this._format(this._renderStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderEndDate,this._getTitleFormat(),this.culture):"centuries"==this.view&&(t=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture)+" - "+this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture));var i,a=this.titleHeader;this.titleHeader&&(i=a.find(".jqx-calendar-title-content"),t=b("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+t+"</div>"),a.append(t),t.addClass(this.toThemeProperty("jqx-calendar-title-content")),null!=i&&i.remove())},startRepeat:function(t,i,a,s){var l=window.setTimeout(function(){var e=b.data(i,"navigateLeftRepeat");a||(e=b.data(i,"navigateRightRepeat")),e?(s<25&&(s=25),a?(t.navigateBackward(1,"arrow"),t.startRepeat(t,i,!0,s)):(t.navigateForward(1,"arrow"),l=t.startRepeat(t,i,!1,s))):window.clearTimeout(l)},s)},navigateForward:function(e,t){null!=e&&null!=e||(e=this.stepMonths);var i=this.value.year;if("decade"==this.view){if(i=this._renderStartDate.getFullYear()+12,this._renderEndDate.getFullYear()>=this.getMaxDate().getFullYear())return}else"year"==this.view?i=this.value.year+1:"centuries"==this.view&&(i=this.value.year+100);if("month"!=this.view){var a=this.getMaxDate().getFullYear();if((a<i||a<i)&&(i=a),this.value.year==i){if("decade"!==this.view)return;if(!(this.value.year>this._renderEndDate.getFullYear()))return;this.value.year=i,this.value.month=1,this.value.day=1}this.value.year=i,this.value.month=1,this.value.day=1}var s,a=this.value.day;return this.value.month+e<=12&&((i=this.value._daysInMonth(this.value.year,this.value.month+e))<a&&(a=i)),"month"==this.view?(s=new Date(this.value.year,this.value.month-1+e,a),"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1+e,1))):s=new Date(this.value.year,this.value.month-1,a),this.navigateTo(s)},navigateBackward:function(e,t){null!=e&&null!=e||(e=this.stepMonths);var i=this.value.year;if("decade"==this.view?i=this._renderStartDate.getFullYear()-12:"year"==this.view?i=this.value.year-1:"centuries"==this.view&&(i=this.value.year-100),"month"!=this.view){var a=this.getMinDate().getFullYear();if(i<a&&(i=a),"decade"==this.view&&this._renderStartDate&&this._renderStartDate.getFullYear()==i)return;this.value.year=i,this.value.month=1,this.value.day=1}var s,a=this.value.day;return 1<=this.value.month-e&&((i=this.value._daysInMonth(this.value.year,this.value.month-e))<a&&(a=i)),"month"==this.view?(s=new Date(this.value.year,this.value.month-1-e,a),"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1-e,1))):s=new Date(this.value.year,this.value.month-1,a),this.navigateTo(s)},_isRestrictedRange:function(e,t){if(t<e)return!0;for(var i=e;i.valueOf()<=t.valueOf();){if(this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_hasUnrestrictedRanges:function(e,t){if(t<e)return!1;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_getNextUnrestrictedDay:function(e,t){if(t<e)return null;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return i;i.setDate(i.getDate()+1)}return null},_isRestrictedDate:function(e){if(!b.isArray(this.restrictedDates))return!1;for(var t=0;t<this.restrictedDates.length;t++){var i=this.restrictedDates[t];if("object"==typeof i&&null!=i.from&&null!=i.to){var a=i.from,s=i.to;if(e.valueOf()>=a.valueOf()&&e.valueOf()<=s.valueOf())return!0}else if(i.getMonth()==e.getMonth()&&i.getDate()==e.getDate()&&i.getFullYear()==e.getFullYear())return!0}return!1},_isDisabled:function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()];return-1==this.selectableDays.indexOf(t)||!!this._isRestrictedDate(e)},refreshCalendarCells:function(e,t,i){if("year"!=this.view&&"decade"!=this.view&&"centuries"!=this.view){for(var a=this.table.find("#cellTable"+i.toString()),s=t,l=new Array,r=0,n=new b.jqx._jqxDateTimeInput.getDateTime(new Date),h=0;h<6;h++)for(var d=0;d<7;d++){var o=h+1,c=d;this.rtl&&(c=6-c);var u=c+1,g="#cell"+o+u+this.element.id,c=new Date(s.dateTime.getFullYear(),s.dateTime.getMonth(),s.dateTime.getDate()),o=new b.jqx._jqxCalendar.cell(c),u=b(a[0].rows[h].cells[u-1]);u[0].id=g.substring(1),o.element=u,o.row=h,o.column=d,o.isVisible=!0,o.isOtherMonth=!1,o.isToday=!1,o.isWeekend=!1,o.isHighlighted=!1,o.isSelected=!1,s.month!=this.value.month&&(o.isOtherMonth=!0,o.isVisible=this.showOtherMonthDays),this._isRestrictedDate(c)&&(o.isRestricted=!0,o.isDisabled=!0),o.isDisabled||(c<this.getMinDate()||c>this.getMaxDate()||this._isDisabled(c))&&(o.isDisabled=!0),s.month==n.month&&s.day==n.day&&s.year==n.year&&(o.isToday=!0),s.isWeekend()&&(o.isWeekend=!0),b.data(this.element,"cellContent"+g.substring(1),o),b.data(this.element,g.substring(1),o),l[r]=o,r++,b.jqx.utilities.html(u,s.day),this._applyCellStyle(o,u,u),s=new b.jqx._jqxDateTimeInput.getDateTime(new Date(s._addDays(1)))}var m=b.data(this.element,e[0].id);null!=m&&null!=m&&(m.cells=l),this.renderedCells=l,this._refreshOtherMonthRows(m,i)}else this.refreshViews(e,t,i)},_getDecadeAndCenturiesData:function(){var e=new Array,t=new Array,i=this.getMaxDate().getFullYear()-this.getMinDate().getFullYear();i<12&&(i=12);var a=this.getMinDate(),s=this.getMaxDate(),l=this.value.dateTime.getFullYear();if("decade"==this.view){l+12>s.getFullYear()&&(l=s.getFullYear()-11),l<a.getFullYear()&&(l=a.getFullYear());for(var r=0;r<i;r++){var n=new Date(a.getFullYear()+r,0,1);if(a.getFullYear()<=l&&l<=n.getFullYear()){for(var h=new Date(n.getFullYear(),n.getMonth(),1),d=0;d<12;d++){var o=new Date(h.getFullYear()+d,this.value.dateTime.getMonth(),this.value.dateTime.getDate()),c=o.getFullYear();a.getFullYear()<=c&&c<=s.getFullYear()?(e.push(c),t.push(o),0==d&&(this._renderStartDate=o),this._renderEndDate=o):(e.push(c),t.push(o))}break}}}else if("centuries"==this.view)for(r=0;r<i;r+=120){n=new Date(a.getFullYear()+r+120,0,1);if(a.getFullYear()<=l&&l<=n.getFullYear()){(h=new Date(n.getFullYear()-130,n.getMonth(),1))<a&&(h=a);for(d=0;d<12;d++){var u=new Date(h.getFullYear()+10*d,h.getMonth(),1);h.getFullYear()>=a.getFullYear()&&u.getFullYear()<=s.getFullYear()&&(e.push("<span style='visibility: hidden;'>-</span>"+u.getFullYear()+"-"+(u.getFullYear()+9)),t.push(u),0==d&&(this._renderCenturyStartDate=u),this._renderCenturyEndDate=new Date(u.getFullYear()+9,0,1))}break}}return{years:e,dates:t}},refreshViews:function(e,t,i){for(var a=new Array,s=e.find("#cellTable"+i.toString()),i=this._getDecadeAndCenturiesData(),l=i.years,r=i.dates,n=0,h=this.getMinDate(),d=this.getMaxDate(),o=0;o<3;o++)for(var c=0;c<4;c++){var u=c;this.rtl&&(u=3-u);(w=new Date(this.value.dateTime)).setDate(1),w.setMonth(4*o+u);var g=new b.jqx._jqxCalendar.cell(w),m=s[0].rows["row"+(1+o)+this.element.id],f=b(m.cells[c]);g.isSelected=!1,g.isVisible=!0,g.element=f,g.row=o,g.column=c,g.index=a.length;var D="";if("year"==this.view){m=this.localization.calendar.months.names[4*o+u];switch(this.monthNameFormat){case"default":m=this.localization.calendar.months.namesAbbr[4*o+u];break;case"shortest":m=this.localization.calendar.months.namesShort[4*o+u];break;case"firstTwoLetters":m=m.substring(0,2);break;case"firstLetter":m=m.substring(0,1)}D=m}else"decade"!=this.view&&"centuries"!=this.view||(null==(D=l[4*o+u])&&(D="<span style='cursor: default; visibility: hidden;'>2013</span>"),g.setDate(r[4*o+u]));var w=g.getDate();"year"==this.view?w.getMonth()==this.getDate().getMonth()&&w.getFullYear()==this.getDate().getFullYear()&&(g.isSelected=!0):w.getFullYear()==this.getDate().getFullYear()&&(g.isSelected=!0),"year"==this.view?(this._getYearAndMonthPart(w)<this._getYearAndMonthPart(h)&&(g.isDisabled=!0),this._getYearAndMonthPart(w)>this._getYearAndMonthPart(d)&&(g.isDisabled=!0)):(w.getFullYear()<h.getFullYear()&&(g.isDisabled=!0),w.getFullYear()>d.getFullYear()&&(g.isDisabled=!0)),b.jqx.utilities.html(f,D),a[n]=g,n++}e=b.data(this.element,e[0].id);null!=e&&null!=e&&(e.cells=a),this.renderedCells=a,this._applyCellStyles()},_createViewClone:function(){var e=this.host.find(".jqx-calendar-month"),t=e.clone();return t.css("position","absolute"),t.css("top",e.position().top),t.width(this.month.width()),t},_addCellsTable:function(e,t){var i=this,a=this.showFooter?20:0;"month"!=this.view?t.height(this.month.height()-this.titleHeight):t.height(this.month.height()-this.titleHeight-this.columnHeaderHeight-a),this._viewAnimating=!0;var s=this.host.find(".jqx-calendar-month-container");s.css("position","relative");this.host.find(".jqx-calendar-month");a=this._createViewClone();s.append(a),"month"!=this.view?(this.header.fadeOut(0),this.showWeekNumbers&&this.rowHeader.fadeOut(0),this.showFooter&&this._footer.fadeOut(0)):(this.header.fadeIn(this.navigationDelay+200),this.showWeekNumbers&&this.rowHeader.fadeIn(this.navigationDelay+200),this.showFooter&&this._footer.fadeIn(this.navigationDelay+200)),e.children().remove(),e.append(t),this._animateViews(a,t,function(){i.selectedDate||"range"==i.selectionMode||(i.selectedDate=i.renderedCells[0].getDate());try{i.renderedCells[0].element.focus(),setTimeout(function(){i.renderedCells[0].element.focus()},10)}catch(e){}i._viewAnimating=!1}),t.addClass(this.toThemeProperty("jqx-calendar-view"))},_animateViews:function(e,t,i){if(this._viewAnimating=!0,this.oldView==this.view)return e.remove(),t.fadeOut(0),t.fadeIn(0),void i();e.fadeOut(this.navigationDelay+100,function(){e.remove()}),t.fadeOut(0),t.fadeIn(this.navigationDelay+200,function(){i()})},focus:function(){if(!this.disabled)try{this.renderedCells&&0<this.renderedCells.length&&(this.selectedDate||"range"==this.selectionMode||this.setDate(new Date,"mouse"),this.element.focus())}catch(e){}},renderViews:function(e,t,i){var a=this,s=new Array,l=b("<table role='grid' style='border-color: transparent; width: 100%; height: 100%;' cellspacing='2' cellpadding='0' id=cellTable"+i.toString()+"><tr role='row' id='row1"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row2"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row3"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");this.host.find(".jqx-calendar-month-container").css("position","relative");var r=e.find("#cellsTable"+e[0].id);r[0].style.borderColor="transparent";var i=this._getDecadeAndCenturiesData(),n=i.years,h=i.dates,d=0,o=this.getMinDate(),c=this.getMaxDate(),u=new Date(this.value.dateTime);u.setDate(1);for(var g=0;g<3;g++)for(var m=0;m<4;m++){var f=m;this.rtl&&(f=3-f);var D=l[0].rows["row"+(1+g)+this.element.id];(_=new Date(u)).setMonth(4*g+f);var w=new b.jqx._jqxCalendar.cell(_),v=b(D.cells[m]);w.isVisible=!0,w.element=v,w.row=g,w.column=m,w.index=s.length,w.isSelected=!1;var y="";if("year"==this.view){_.getMonth()==this.getDate().getMonth()&&_.getFullYear()==this.getDate().getFullYear()&&(w.isSelected=!0);D=this.localization.calendar.months.names[4*g+f];switch(this.monthNameFormat){case"default":D=this.localization.calendar.months.namesAbbr[4*g+f];break;case"shortest":D=this.localization.calendar.months.namesShort[4*g+f];break;case"firstTwoLetters":D=D.substring(0,2);break;case"firstLetter":D=D.substring(0,1)}y=D}else"decade"!=this.view&&"centuries"!=this.view||(y=n[4*g+f],w.setDate(h[4*g+f]),w.getDate().getFullYear()==this.getDate().getFullYear()&&(w.isSelected=!0),null==y&&(y="<span style='cursor: default; visibility: hidden;'>2013</span>"));var p,_=w.getDate();"year"==this.view?((p=new Date(_)).setDate(1),p.setHours(0,0,0,0),p.setMonth(_.getMonth()+1),p=new Date(p.valueOf()-1),(this._getYearAndMonthPart(_)<this._getYearAndMonthPart(o)||this._getYearAndMonthPart(_)>this._getYearAndMonthPart(c)||!this._hasUnrestrictedRanges(_,p))&&(w.isDisabled=!0)):((p=new Date(_)).setMonth(0),p.setDate(1),p.setHours(0,0,0,0),p.setFullYear(_.getFullYear()+1),p=new Date(p.valueOf()-1),(_.getFullYear()<o.getFullYear()||_.getFullYear()>c.getFullYear()||!this._hasUnrestrictedRanges(_,p))&&(w.isDisabled=!0)),b.jqx.utilities.html(v,y),s[d]=w,d++}b.each(s,function(){var e=this.element,i=this;a.disabled||(a.addHandler(e,"mousedown",function(e){a._setDateAndSwitchViews(i,e,"mouse")}),a.addHandler(e,"mouseover",function(e){var t=a.renderedCells[i.index];"centuries"!=a.view&&-1!=t.element.html().toLowerCase().indexOf("span")||(t.isHighlighted=!0,a._applyCellStyle(t,t.element,t.element))}),a.addHandler(e,"mouseout",function(e){var t=a.renderedCells[i.index];"centuries"!=a.view&&-1!=t.element.html().toLowerCase().indexOf("span")||(t.isHighlighted=!1,a._applyCellStyle(t,t.element,t.element))}))});e=b.data(this.element,e[0].id);null!=e&&null!=e&&(e.cells=s),this.renderedCells=s,this._addCellsTable(r,l),this._applyCellStyles()},_setDateAndSwitchViews:function(e,t,i){if(!this._viewAnimating&&!this._animating){this.getDate();var s=this.renderedCells[e.index].getDate(),a=this.value.dateTime.getDate(),e=new Date(s);-1!=this.views.indexOf("month")?e.setDate(a):(e.setDate(1),s.setDate(1)),e.getMonth()==s.getMonth()&&(s=e);a=this.getMinDate(),e=this.getMaxDate();if("year"==this.view){if(this._getYearAndMonthPart(s)<this._getYearAndMonthPart(a))return;if(this._getYearAndMonthPart(s)>this._getYearAndMonthPart(e))return}else{if(s.getFullYear()<a.getFullYear())return;if(s.getFullYear()>e.getFullYear())return}switch("range"!=this.selectionMode&&this._selectDate(s,i),this.oldView=this.view,this.view){case"year":this.view="month";break;case"decade":this.view="year"}-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&(this.view="decade"),"year"==this.view?(this._getYearAndMonthPart(s)<this._getYearAndMonthPart(a)&&(s=a),this._getYearAndMonthPart(s)>this._getYearAndMonthPart(e)&&(s=e)):(s.getFullYear()<a.getFullYear()&&(s=a),s.getFullYear()>e.getFullYear()&&(s=e)),this.changing&&this.selectedDate&&(this.selectedDate.getFullYear()!=s.getFullYear()||this.selectedDate.getMonth()!=s.getMonth()||this.selectedDate.getDate()!=s.getDate())&&(s=this.selectedDate),this.value._setYear(s.getFullYear()),this.value._setDay(s.getDate()),this.value._setMonth(s.getMonth()+1),this.value._setDay(s.getDate());var l,a=this.getVisibleDate(),e=this.getFirstDayOfWeek(a),a="View"+this.element.id;this.renderCalendarCells(this.month,e,a,!0),this.refreshTitle(this.month),this.showWeekNumbers&&this.refreshRowHeader(this.month,a),3==this.views.length&&"month"==this.view&&("range"!=this.selectionMode?this._selectDate(this.selectedDate,"view"):(l=this,b.each(this.renderedCells,function(e){var t=this,i=t.getDate(),a=b(t.element);if(0==a.length)return!1;a=function(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t};t.isOtherMonth||a(i).toString()!=a(s).toString()||(l.value._setMonth(s.getMonth()+1),l.value._setDay(s.getDate()),l.value._setYear(s.getFullYear())),t.isSelected=!1,t.isDisabled=!1,a(i)<a(l.selection.from)&&1==l._clicks&&(t.isDisabled=!0),l.getMaxDate()<i&&(t.isDisabled=!0),l.getMinDate()>i&&(t.isDisabled=!0),l._isDisabled(i)&&(t.isDisabled=!0),t.isDisabled||a(i)>=a(l.selection.from)&&a(i)<=a(l.selection.to)&&(t.isSelected=!0)}),this._applyCellStyles())),"month"!=this.view&&("year"==this.oldView||-1==this.views.indexOf("year")&&"decade"==this.view)&&("keyboard"!=i&&this._raiseEvent("3"),this._raiseEvent("5",{selectionType:"mouse"})),this._raiseEvent("8")}},renderCalendarCells:function(e,t,i,a){if("year"!=this.view&&"decade"!=this.view&&"centuries"!=this.view){var s=b("<table role='grid' style='width: 100%; height: 100%; border-color: transparent;' cellspacing='2' cellpadding='1' id=cellTable"+i.toString()+"><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),l=this.table;l[0].style.borderColor="transparent",null==a&&(null!=(c=l.find("#cellTable"+i.toString()))&&c.remove(),l.append(s));var r=t,n=this.showDayNames?1:0,h=this.showWeekNumbers?1:0,d=new Array,o=0,c=(e.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(c=(e.width()-2)/7),c=parseInt(c);for(var u=new b.jqx._jqxDateTimeInput.getDateTime(new Date),g=0;g<6;g++){for(var m=0;m<7;m++){var f=g+1,D=m;this.rtl&&(D=6-D);var w=D+1,v="#cell"+f+w+this.element.id,D=new Date(r.dateTime.getFullYear(),r.dateTime.getMonth(),r.dateTime.getDate()),f=new b.jqx._jqxCalendar.cell(D),w=b(s[0].rows[g].cells[w-1]);w[0].id=v.substring(1),f.isVisible=!0,f.isDisabled=!1,r.month!=this.value.month&&(f.isOtherMonth=!0,f.isVisible=this.showOtherMonthDays),this._isRestrictedDate(D)&&(f.isRestricted=!0,f.isDisabled=!0),f.isDisabled||(D<this.getMinDate()||D>this.getMaxDate()||this._isDisabled(D))&&(f.isDisabled=!0),r.month==u.month&&r.day==u.day&&r.year==u.year&&(f.isToday=!0),r.isWeekend()&&(f.isWeekend=!0),f.element=w,f.row=n,f.column=h,b.jqx.utilities.html(w,r.day),r=new b.jqx._jqxDateTimeInput.getDateTime(new Date(r._addDays(1))),b.data(this.element,"cellContent"+v.substring(1),f),b.data(this.element,""+v.substring(1),f);var y,p=this;p.isMaterialized()&&(b(w).addClass("ripple"),b.jqx.ripple(b(w))),this.addHandler(w,"mousedown",function(e){if(!p.readOnly&&!p.disabled){var t=b(e.target),i=b.data(p.element,t[0].id);p._raiseEvent(3,e);return null!=i&&null!=i&&(t=i.getDate(),p.getMinDate()<=t&&t<=p.getMaxDate()&&(i.isDisabled||(i.isOtherMonth&&p.enableAutoNavigation?(i.row<2?p.navigateBackward():p.navigateForward(),p._selectDate(i.getDate(),"mouse",e.shiftKey)):(new Date(p.getDate()),p._selectDate(i.getDate(),"mouse",e.shiftKey),p.value._setYear(t.getFullYear()),p.value._setDay(1),p.value._setMonth(t.getMonth()+1),p.value._setDay(t.getDate()),(t=p.host.find(".jqx-calendar-month")).stop(),t.css("margin-left","0px"),p.getDate(),p._raiseEvent("2"),i.isOtherMonth&&p._raiseEvent("5",{selectionType:"mouse"}))))),!1}}),p.disabled||(y=function(e,t){var i,a;p.readOnly||(i=b(e.target),null!=(a=b.data(p.element,i[0].id))&&null!=a&&(e=a.getDate(),p.getMinDate()<=e&&e<=p.getMaxDate()&&(a.isHighlighted=t,p._applyCellStyle(a,a.element,i))))},this.addHandler(w,"mouseenter",function(e){return y(e,!0),!1}),this.addHandler(w,"mouseleave",function(e){return y(e,!1),!1})),h++,d[o]=f,o++}h=0,n++}c=b.data(this.element,e[0].id);null!=c&&null!=c&&(c.cells=d),this.renderedCells=d,null!=a&&this._addCellsTable(l,s),this._applyCellStyles(),this._refreshOtherMonthRows(c,i)}else this.renderViews(e,t,i)},setMaxDate:function(e,t){null!=e&&"string"==typeof e&&"Invalid Date"==(e=new Date(e))||(this.maxDate=b.jqx._jqxDateTimeInput.getDateTime(e),!1!==t&&this.render())},getMaxDate:function(){return null!=this.maxDate&&null!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(e,t){null!=e&&"string"==typeof e&&"Invalid Date"==(e=new Date(e))||(this.minDate=b.jqx._jqxDateTimeInput.getDateTime(e),!1!==t&&this.render())},getMinDate:function(){return null!=this.minDate&&null!=this.minDate?this.minDate.dateTime:null},navigateTo:function(e,t){if("month"==this.view){var i=this.getMinDate(),a=new Date(this.getMaxDate().getFullYear(),this.getMaxDate().getMonth()+1,this.getMaxDate().getDate());if(e<this._getYearAndMonthPart(i)||e>this._getYearAndMonthPart(a))return!1}else if(e&&(e.getFullYear()<this.getMinDate().getFullYear()||e.getFullYear()>this.getMaxDate().getFullYear()))return!1;if(null==e)return!1;if(null==t){var s=this;if(this._animating)return;this._animating=!0;var i=this.host.find(".jqx-calendar-month-container"),l=b("<div></div>");l[0].style.width="100%",l[0].style.height="100%",l[0].style.overflow="hidden",l[0].style.position="relative",l[0].style.left="0px",l[0].style.top="-100%",i.append(l),this._viewClone&&(this._viewClone.stop(),this._viewClone.remove()),this._newViewClone&&(this._newViewClone.stop(),this._newViewClone.remove()),(h=this.host.find(".jqx-calendar-month")).stop(),h.css("margin-left","0px");var r=h.clone();this._viewClone=r;a=new Date(this.value.dateTime);this.value._setYear(e.getFullYear()),this.value._setDay(e.getDate()),this.value._setMonth(e.getMonth()+1);t=parseInt(this.month.css("padding-top"));s.refreshControl(),l.css("overflow","hidden"),i.css("position","relative"),i.css("overflow","hidden"),r.css("position","absolute"),r.css("top",h.position().top-t),l.append(r),b.jqx.browser.msie&&b.jqx.browser.version<8&&(this.month.css("position","relative"),this.month.css("overflow","hidden"),this.table.css("position","relative"),this.table.css("overflow","hidden"));i=-this.month.width();e<a&&("month"==this.view&&e.getMonth()!=a.getMonth()||e.getFullYear()!=a.getFullYear())&&(i=this.month.width()),r.animate({marginLeft:parseInt(i)+"px"},this.navigationDelay,function(){r.remove()});var n=h.clone();(this._newViewClone=n).css("position","absolute"),n.css("top",h.position().top-t),l.append(n),n.css("margin-left",-i),h.css("visibility","hidden"),n.animate({marginLeft:"0px"},this.navigationDelay,function(){n.remove(),h.css("visibility","inherit"),l.remove(),s._animating=!1})}else{var h;this.value._setYear(e.getFullYear()),this.value._setDay(e.getDate()),this.value._setMonth(e.getMonth()+1),(h=this.host.find(".jqx-calendar-month")).stop(),h.css("margin-left","0px"),this.refreshControl()}return this._raiseEvent("2"),this._raiseEvent("8"),!0},setDate:function(e){return null!=e&&"string"==typeof e&&(e=new Date(e)),0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e),"range"==this.selectionMode&&this._selectDate(e,"mouse"),!0},val:function(e){return 0!=arguments.length&&(null==e&&this.setDate(null),e instanceof Date&&this.setDate(e),"string"==typeof e&&this.setDate(e)),this.getDate()},getDate:function(){return null==this.selectedDate?new Date:this.selectedDate},getValue:function(){return null==this.value?new Date:this.value.dateTime},setRange:function(e,t){0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e,"mouse"),this._selectDate(t,"mouse")},getRange:function(){return this.selection},_selectDate:function(h,d,o){if("none"!=this.selectionMode){null!=d&&null!=d||(d="none"),null!=o&&null!=o||(o=!1);var e=b.data(this.element,"View"+this.element.id);if(null!=e&&null!=e){this.changing&&h&&this.selectedDate&&(this.selectedDate.getFullYear()==h.getFullYear()&&this.selectedDate.getDate()==h.getDate()&&this.selectedDate.getMonth()==h.getMonth()||(t=this.changing(this.selectedDate,h)),t&&(h=t));var c=this;this.input&&(null!=h?this.input.val(h.toString()):this.input.val(""));var t,e=this.selectedDate;if(this.selectedDate=h,"month"!=this.view)return e!=h&&this._raiseEvent(7,{selectionType:d}),b.each(this.renderedCells,function(e){var t=this,i=t.getDate(),a=b(t.element);a.find("#cellContent"+a[0].id);if(null==h)t.isSelected=!1,t.isDisabled=!1;else if(t.isSelected=!1,i&&(i.getMonth()==h.getMonth()&&"year"==c.view&&i.getFullYear()==h.getFullYear()||"decade"==c.view&&i.getFullYear()==h.getFullYear())){t.isSelected=!0;try{"none"!=d&&t.element.focus()}catch(e){}}c._applyCellStyle(t,a,a)}),void(this.change&&this.change(h));"month"==this.view&&"range"==this.selectionMode&&"key"==d&&(t=this.getVisibleDate(),t=this.getFirstDayOfWeek(t),this.refreshCalendarCells(this.month,t,"View"+this.element.id));var u=!1;b.each(this.renderedCells,function(e){var t,i,a=this,s=a.getDate(),l=b(a.element),r=l;if(0==l.length)return!1;if(null==h)a.isSelected=!1,a.isDisabled=!1,0==e&&(c.selection={from:null,to:null},c._raiseEvent("2"),c._raiseEvent("5",{selectionType:d}));else if("range"!=c.selectionMode||"key"==d){if(s.getDate()==h.getDate()&&s.getMonth()==h.getMonth()&&s.getFullYear()==h.getFullYear()&&a.isSelected)return c._applyCellStyle(a,l,r),void c._raiseEvent("5",{selectionType:d});if(a.isSelected&&c._raiseEvent("6",{selectionType:d}),a.isSelected=!1,s.getDate()==h.getDate()&&s.getMonth()==h.getMonth()&&s.getFullYear()==h.getFullYear()){a.isSelected=!0,0==e&&(c.selection={date:h});try{"none"!=d&&(a.element.focus(),c.host.focus())}catch(e){}a.isOtherMonth||(c.value._setMonth(h.getMonth()+1),c.value._setDay(h.getDate()),c.value._setYear(h.getFullYear()),c._raiseEvent("2"),c._raiseEvent("5",{selectionType:d}))}"range"==c.selectionMode&&(c._clicks=0,c.selection={from:h,to:h})}else if("range"==c.selectionMode){if("view"==d)return a.isSelected=!1,a.isDisabled=!1,c.getMaxDate()<s&&(a.isDisabled=!0),c.getMinDate()>s&&(a.isDisabled=!0),c._isRestrictedDate(s)&&(a.isDisabled=!0,a.isRestricted=!0),!a.isDisabled&&c._isDisabled(s)&&(a.isDisabled=!0),c._applyCellStyle(a,l,r),!0;0==e&&("none"!=d?(null==c._clicks&&(c._clicks=0),c._clicks++,o&&c._clicks++,1==c._clicks?c.selection={from:h,to:h}:(e=(t=c.selection.from)<=h?h:t,(t=t<=h?t:h)&&(i=new Date(t.getFullYear(),t.getMonth(),t.getDate())),e&&(n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59)),c.selection={from:i,to:n},c._clicks=0)):null!=c.selection&&null!=c.selection.from||(c.selection={from:h,to:h},null==c._clicks&&(c._clicks=0),c._clicks++,2==c._clicks&&(c._clicks=0)));var n=function(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t};a.isOtherMonth||n(s).toString()!=n(h).toString()||(c.value._setMonth(h.getMonth()+1),c.value._setDay(h.getDate()),c.value._setYear(h.getFullYear()),c._raiseEvent("2"),c._raiseEvent("5",{selectionType:d})),a.isSelected=!1,a.isDisabled=u,n(s)<n(c.selection.from)&&1==c._clicks&&(a.isDisabled=!0),c.getMaxDate()<s&&(a.isDisabled=!0),c.getMinDate()>s&&(a.isDisabled=!0),c._isRestrictedDate(s)&&(a.isRestricted=!0,a.isDisabled=!0),!a.isDisabled&&c._isDisabled(s)&&(a.isDisabled=!0),a.isDisabled?!c.allowRestrictedDaysInRange&&n(s)>=n(c.selection.from)&&c.selection.to==c.selection.from&&(u=!0):n(s)>=n(c.selection.from)&&n(s)<=n(c.selection.to)&&(a.isSelected=!0)}c._applyCellStyle(a,l,r)}),"range"!=c.selectionMode||0!=c._clicks?"range"!=c.selectionMode&&e!=h&&(c._raiseEvent(7,{selectionType:d}),this.change&&this.change(h)):c._raiseEvent(7,{selectionType:d})}}},_getSelectedDate:function(){var e=b.data(this.element,"View"+this.element.id);if(null!=e&&null!=e){if("month"!=this.view)return this.selectedDate;for(var t=0;t<e.cells.length;t++){var i=e.cells[t],a=i.getDate();if(i.isSelected)return a}return this.selectedDate||void 0}},_getSelectedCell:function(){var e=b.data(this.element,"View"+this.element.id);if(null!=e&&null!=e)for(var t=0;t<e.cells.length;t++){var i=e.cells[t];i.getDate();if(i.isSelected)return i}},_applyCellStyle:function(i,e,a){var s=this;(null==a||null!=a&&0==a.length)&&(a=e);var l,t="",t=this.toThemeProperty("jqx-rc-all");t+=" "+this.toThemeProperty("jqx-item"),(this.disabled||i.isDisabled&&!i.isRestricted)&&(t+=" "+this.toThemeProperty("jqx-calendar-cell-disabled"),t+=" "+this.toThemeProperty("jqx-fill-state-disabled")),!this.disabled&&i.isRestricted&&(t+=" "+this.toThemeProperty("jqx-calendar-cell-restrictedDate")),i.isOtherMonth&&this.enableOtherMonthDays&&i.isVisible&&(t+=" "+this.toThemeProperty("jqx-calendar-cell-othermonth")),i.isWeekend&&this.enableWeekend&&i.isVisible&&i.isVisible&&(t+=" "+this.toThemeProperty("jqx-calendar-cell-weekend")),this.isMaterialized()&&(t+=" ripple"),i.isVisible?(t+=" "+this.toThemeProperty("jqx-calendar-cell"),"month"!=this.view&&0<a.length&&-1!=a.html().toLowerCase().indexOf("span")&&a.css("cursor","default")):t+=" "+this.toThemeProperty("jqx-calendar-cell-hidden"),a.removeAttr("aria-selected"),i.isSelected&&i.isVisible&&(t+=" "+this.toThemeProperty("jqx-calendar-cell-selected"),t+=" "+this.toThemeProperty("jqx-fill-state-pressed"),a.attr("aria-selected",!0),this.host.removeAttr("aria-activedescendant").attr("aria-activedescendant",a[0].id),e=i.getDate(),this._isDisabled(e)&&(t+=" "+this.toThemeProperty("jqx-calendar-cell-selected-invalid"))),i.isHighlighted&&i.isVisible&&this.enableHover&&(i.isDisabled||(t+=" "+this.toThemeProperty("jqx-calendar-cell-hover"),t+=" "+this.toThemeProperty("jqx-fill-state-hover"))),t+=" "+this.toThemeProperty("jqx-calendar-cell-"+this.view),i.isToday&&i.isVisible&&(t+=" "+this.toThemeProperty("jqx-calendar-cell-today")),a[0].className=t,0<this.specialDates.length&&(l=this,b.each(this.specialDates,function(){null!=this.Class&&null!=this.Class&&""!=this.Class?a.removeClass(this.Class):a.removeClass(s.toThemeProperty("jqx-calendar-cell-specialDate"));var t,e=i.getDate();if(e.getFullYear()==this.Date.getFullYear()&&e.getMonth()==this.Date.getMonth()&&e.getDate()==this.Date.getDate())return null==i.tooltip&&null!=this.Tooltip&&(i.tooltip=this.Tooltip,b(a).jqxTooltip&&(t=this.Class,b(a).jqxTooltip({value:{cell:i,specialDate:this.Date},name:l.element.id,content:this.Tooltip,position:"mouse",theme:l.theme,opening:function(e){return!!a.hasClass(s.toThemeProperty("jqx-calendar-cell-specialDate"))||!!a.hasClass(t)}}))),a.removeClass(s.toThemeProperty("jqx-calendar-cell-othermonth")),a.removeClass(s.toThemeProperty("jqx-calendar-cell-weekend")),null==this.Class||""==this.Class?a.addClass(s.toThemeProperty("jqx-calendar-cell-specialDate")):a.addClass(this.Class),!1}))},_applyCellStyles:function(){var e=b.data(this.element,"View"+this.element.id);if(null!=e&&null!=e)for(var t=0;t<e.cells.length;t++){var i=e.cells[t],a=b(i.element),s=a.find("#cellContent"+a[0].id);0==s.length&&(s=a),this._applyCellStyle(i,a,s)}},getWeekOfYear:function(e){var t,i=new Date(e.dateTime),a=this.firstDayOfWeek,s=new Date(i.getFullYear(),0,1),e=0<=(e=s.getDay()-a)?e:e+7,s=Math.floor((i.getTime()-s.getTime()-6e4*(i.getTimezoneOffset()-s.getTimezoneOffset()))/864e5)+1;return e<4?52<(t=Math.floor((s+e-1)/7)+1)&&(t=(a=0<=(a=new Date(i.getFullYear()+1,0,1).getDay()-a)?a:a+7)<4?1:53):t=Math.floor((s+e-1)/7),t},renderColumnHeader:function(e){if(this.showDayNames){var t=b("<table role='grid' style='border-spacing: 0px; border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");t.find("table").addClass(this.toThemeProperty("jqx-reset")),t.find("tr").addClass(this.toThemeProperty("jqx-reset")),t.find("td").css({background:"transparent",padding:1,margin:0,border:"none"}),t.addClass(this.toThemeProperty("jqx-reset")),t.addClass(this.toThemeProperty("jqx-widget-content")),t.addClass(this.toThemeProperty("jqx-calendar-column-header")),this.columnHeader.append(t);var i=this.getVisibleDate(),i=this.getFirstDayOfWeek(i),a=(i.dayOfWeek,this.getWeekOfYear(i),this.firstDayOfWeek),s=this.localization.calendar.days.names,l=new Array,r=i,n=(e.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(n=(e.width()-2)/7);for(var h=0;h<7;h++){var d=s[a];switch(this.rtl&&(d=s[6-a]),this.dayNameFormat){case"default":d=this.localization.calendar.days.namesAbbr[a],this.rtl&&(d=this.localization.calendar.days.namesAbbr[6-a]);break;case"shortest":d=this.localization.calendar.days.namesShort[a],this.rtl&&(d=this.localization.calendar.days.namesShort[6-a]);break;case"firstTwoLetters":d=d.substring(0,2);break;case"firstLetter":d=d.substring(0,1)}var o=new b.jqx._jqxCalendar.cell(r.dateTime),c=h+1+this.element.id,u=b(t[0].rows[0].cells[h]),g=h;this.enableTooltips&&b(u).jqxTooltip&&b(u).jqxTooltip({name:this.element.id,content:s[a],theme:this.theme,position:"mouse"}),6<=a?a=0:a++,h=g,o.element=u,o.row=0,o.column=h+1;var m=this._textwidth(d),g="<div style='padding: 0; margin: 0; border: none; background: transparent;' id='columnCell"+c+"'>"+d+"</div>";if(u.append(g),u.find("#columnCell"+c).addClass(this.toThemeProperty("jqx-calendar-column-cell")),u.width(n),this.disabled&&u.find("#columnCell"+c).addClass(this.toThemeProperty("jqx-calendar-column-cell-disabled")),0<m&&0<n)for(;m>u.width()&&0!=d.length;)d=d.substring(0,d.length-1),b.jqx.utilities.html(u.find("#columnCell"+c),d),m=this._textwidth(d);l[h]=o,r=new b.jqx._jqxDateTimeInput.getDateTime(new Date(r._addDays(1)))}parseInt(this.columnHeader.width())>parseInt(this.month.width())&&this.columnHeader.width(this.month.width()),b.data(this.element,e[0].id).columnCells=l}},_format:function(t,i,e){var a=!1;try{null!=window.Globalize?a=!0:document.Globalize&&(window.Globalize=document.Globalize,a=!0)}catch(e){document.Globalize&&(window.Globalize=document.Globalize,a=!0)}if(document.Globalize&&(window.Globalize=document.Globalize,a=!0),b.global)return b.global.culture.calendar=this.localization.calendar,b.global.format(t,i,this.culture);if(a)try{return window.Globalize.cultures[this.culture]&&(window.Globalize.cultures[this.culture].calendar=this.localization.calendar),window.Globalize.format(t,i,this.culture)}catch(e){return window.Globalize.format(t,i)}else if(b.jqx.dataFormat)return b.jqx.dataFormat.formatdate(t,i,this.localization.calendar)},_textwidth:function(e){var t=b("<span>"+e+"</span>");t.addClass(this.toThemeProperty("jqx-calendar-column-cell")),b(this.host).append(t);e=t.width();return t.remove(),e},_textheight:function(e){var t=b("<span>"+e+"</span>");b(this.host).append(t);e=t.height();return t.remove(),e},_renderRowHeader:function(e){var t=this.getVisibleDate(),i=this.getFirstDayOfWeek(t),a=(i.dayOfWeek,this.getWeekOfYear(i)),t=new b.jqx._jqxDateTimeInput.getDateTime(new Date(i.dateTime));t._addDays(5),t.dayOfWeek=t.dateTime.getDay();this.getWeekOfYear(t);53==a&&0==t.dateTime.getMonth()&&(a=1);var s=b("<table style='overflow: hidden; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr><td></td></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr></table>");s.find("table").addClass(this.toThemeProperty("jqx-reset")),s.find("td").addClass(this.toThemeProperty("jqx-reset")),s.find("tr").addClass(this.toThemeProperty("jqx-reset")),s.addClass(this.toThemeProperty("jqx-calendar-row-header")),s.width(this.rowHeaderWidth),this.rowHeader.append(s);for(var l=i,r=new Array,n=0;n<6;n++){var h=a.toString(),d=new b.jqx._jqxCalendar.cell(l.dateTime),o=n+1+this.element.id,c=b(s[0].rows[n].cells[0]);d.element=c,d.row=n,d.column=0;h="<div style='background: transparent; border: none; padding: 0; margin: 0;' id ='headerCellContent"+o+"'>"+h+"</div>";c.append(h),c.find("#headerCellContent"+o).addClass(this.toThemeProperty("jqx-calendar-row-cell")),r[n]=d,l=new b.jqx._jqxDateTimeInput.getDateTime(new Date(l._addWeeks(1))),a=this.getWeekOfYear(l)}b.data(this.element,e[0].id).rowCells=r},getFirstDayOfWeek:function(e){var t=e;(this.firstDayOfWeek<0||6<this.firstDayOfWeek)&&(this.firstDayOfWeek=6);e=t.dayOfWeek-this.firstDayOfWeek;return e<=0&&(e+=7),b.jqx._jqxDateTimeInput.getDateTime(t._addDays(-e))},getVisibleDate:function(){var e=new b.jqx._jqxDateTimeInput.getDateTime(new Date(this.value.dateTime));e<this.minDate&&(e=this.minDate),e>this.maxDate&&(this.visibleDate=this.maxDate),e.dateTime.setHours(0);var t=e.day;return e=b.jqx._jqxDateTimeInput.getDateTime(e._addDays(1-t))},destroy:function(e){b.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),0!=e&&this.host.remove()},_raiseEvent:function(e,t){null==t&&(t={owner:null});var i=this.events[e],a=t||{};a.owner=this;var s,t=new b.Event(i);t.owner=this,t.args=a,0!=e&&1!=e&&2!=e&&3!=e&&4!=e&&5!=e&&6!=e&&7!=e&&8!=e||(t.args.date=t.args.selectedDate=this.getDate(),t.args.range=this.getRange(),i=this.getViewStart(),s=this.getViewEnd(),t.args.view={from:i,to:s}),7==e&&("key"==(s=(s=a.selectionType)||null)&&(s="keyboard"),"none"==s&&(s=null),a.type=s);t=this.host.trigger(t);return 0!=e&&1!=e||(t=!1),t},propertyMap:function(e){return"value"==e?"range"!=this.selectionMode?this.getDate():this.getRange():null},_setSize:function(){var e,t,i=this.host.find("#View"+this.element.id);0<i.length&&(this.setCalendarSize(),i[0].style.height="100%",i[0].style.width="100%",e=this.month.height()-this.titleHeight-this.columnHeaderHeight,t="View"+this.element.id,i.find("#cellsTable"+t).height(e),i.find("#calendarRowHeader"+t).height(e),this.refreshControl())},resize:function(){this._setSize()},clear:function(){"range"==this.selectionMode?(this._clicks=1,this.setRange(null,null),this._raiseEvent(7)):this.setDate(null,"mouse"),this._clicks=0,this.selection={from:null,to:null}},today:function(){"range"==this.selectionMode?this.setRange(new Date,new Date):this.setDate(new Date,"mouse")},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,i,a){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)&&"enableHover"!=t&&"keyboardNavigation"!=t){if("localization"==t&&this.localization&&(this.localization.backString&&(this.backText=this.localization.backString),this.localization.forwardString&&(this.forwardText=this.localization.forwardString),this.localization.todayString&&(this.todayString=this.localization.todayString),this.localization.clearString&&(this.clearString=this.localization.clearString),this.firstDayOfWeek=this.localization.calendar.firstDay),"culture"==t)try{var s;b.global?(b.global.preferCulture(e.culture),e.localization.calendar=b.global.culture.calendar):window.Globalize&&(s=window.Globalize.culture(e.culture),e.localization.calendar=s.calendar),e.localization.calendar&&null!=e.localization.calendar.firstDay&&"default"!=e.culture&&(e.firstDayOfWeek=e.localization.calendar.firstDay)}catch(e){}if("views"==t)return-1==e.views.indexOf("month")&&(e.view="year"),-1==e.views.indexOf("year")&&-1==e.views.indexOf("month")&&(e.view="decade"),void e.render();"showFooter"==t&&e.render(),"width"!=t&&"height"!=t?("theme"==t?b.jqx.utilities.setTheme(i,a,e.host):"rowHeaderWidth"==t||"showWeekNumbers"==t?e.render():(e.view="month",e.render(),e.refreshControl()),"firstDayOfWeek"===t&&e.refreshControl()):e._setSize()}}})}(jqxBaseFramework),function(t){t.jqx._jqxCalendar.cell=function(e){return{dateTime:new t.jqx._jqxDateTimeInput.getDateTime(e),_date:e,getDate:function(){return this._date},setDate:function(e){this.dateTime=new t.jqx._jqxDateTimeInput.getDateTime(e),this._date=e},isToday:!1,isWeekend:!1,isOtherMonth:!1,isVisible:!0,isSelected:!1,isHighlighted:!1,element:null,row:-1,column:-1,tooltip:null}},t.jqx._jqxCalendar.monthView=function(e,t,i,a,s,l){return{start:e,end:t,cells:i,rowCells:a,columnCells:s,element:l}}}(jqxBaseFramework);