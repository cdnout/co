!function(l){l.jqx.jqxWidget("jqxButtonGroup","",{}),l.extend(l.jqx._jqxButtonGroup.prototype,{defineInstance:function(){var e={mode:"default",roundedCorners:!0,disabled:!1,enableHover:!1,orientation:"horizontal",width:null,height:null,_eventsMap:{mousedown:l.jqx.mobile.getTouchEventName("touchstart"),mouseup:l.jqx.mobile.getTouchEventName("touchend")},_events:["selected","unselected","buttonclick"],_buttonId:{},_selected:null,_pressed:null,rtl:!1,template:"",_baseId:"group_button",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===l.jqx._jqxButtonGroup.prototype||l.extend(!0,this,e),e},createInstance:function(e){var t=this;t._isTouchDevice=l.jqx.mobile.isTouchDevice(),l.jqx.aria(t),t._baseId=t._baseId+t.element.id,t.addHandler(t.host,"selectstart",function(e){t.disabled||e.preventDefault()})},refresh:function(){var e=this;e.width&&(e.width.toString()&&0<=e.width.toString().indexOf("%")?e.element.style.width=e.width:e.host.width(e.width)),e.height&&e.host.height(e.height),e._refreshButtons()},render:function(){this.refresh()},resize:function(){this.refresh()},_getEvent:function(e){var t=this;if(t._isTouchDevice){var s=t._eventsMap[e]||e;return s+="."+t.element.id}return e+="."+t.element.id},_refreshButtons:function(){var e=this;e.lastElement&&e.lastElement.remove(),e.lastElement=l("<div style='clear: both;'></div>");var t,s=e.host.children(),n=s.length;switch(e.mode){case"radio":e.host.attr("role","radiogroup");break;case"checkbox":case"default":e.host.attr("role","group")}for(var o=new Number(100/n).toFixed(2),r=0;r<n;r+=1)t=l(s[r]),e.width&&("horizontal"===e.orientation?(t.css("width",o+"%"),t.css("box-sizing","border-box"),t.css("-moz-box-sizing","border-box"),t.css("white-space","nowrap"),t.css("text-overflow","ellipsis"),t.css("overflow","hidden")):(t.css("box-sizing","border-box"),t.css("-moz-box-sizing","border-box"),t.css("width","100%"))),e._refreshButton(t,r,n);e.lastElement.appendTo(e.host)},_refreshButton:function(e,s,n){(function(e){var t=this;e=t._render(e),t._removeStyles(e),t._addStyles(e,s,n),t._performLayout(e),t._removeButtonListeners(e),t._addButtonListeners(e),t._handleButtonId(e,s),"radio"===t.mode?e.attr("role","radio"):e.attr("role","button"),e.attr("disabled",t.disabled),t.disabled?e.addClass(t.toThemeProperty("jqx-fill-state-disabled")):e.removeClass(t.toThemeProperty("jqx-fill-state-disabled"))}).apply(this,[e])},destroy:function(e){for(var t,s=this,n=s.host.children(),o=n.length,r=0;r<o;r+=1)t=l(n[r]),s._removeStyles(t),s._removeButtonListeners(t);!1!==e&&s.host.remove()},_render:function(e){return"button"===e[0].tagName.toLowerCase()?this._renderFromButton(e):this._renderButton(e)},_renderButton:function(e){return e.wrapInner("<div/>"),e},_removeStyles:function(e){var t=this,s=t.toThemeProperty;t.host.removeClass("jqx-widget"),t.host.removeClass("jqx-rc-all"),e.removeClass(s.call(this,"jqx-fill-state-normal")),e.removeClass(s.call(this,"jqx-group-button-normal")),e.removeClass(s.call(this,"jqx-rc-tl")),e.removeClass(s.call(this,"jqx-rc-bl")),e.removeClass(s.call(this,"jqx-rc-tr")),e.removeClass(s.call(this,"jqx-rc-br")),e.css("margin-left",0)},_addStyles:function(e,t,s){var n=this,o=this.toThemeProperty;n.host.addClass(o.call(this,"jqx-widget")),n.host.addClass(o.call(this,"jqx-rc-all")),n.host.addClass(o.call(this,"jqx-buttongroup")),e.addClass(o.call(this,"jqx-button")),e.addClass(o.call(this,"jqx-group-button-normal")),e.addClass(o.call(this,"jqx-fill-state-normal")),n.template&&e.addClass(o.call(this,"jqx-"+n.template)),n.roundedCorners&&(0===t?n._addRoundedCorners(e,!0):t===s-1&&n._addRoundedCorners(e,!1)),"horizontal"===n.orientation?e.css("margin-left",-parseInt(e.css("border-left-width"),10)):e.css("margin-top",-parseInt(e.css("border-left-width"),10))},_addRoundedCorners:function(e,t){var s=this.toThemeProperty;"horizontal"===this.orientation?t?(e.addClass(s.call(this,"jqx-rc-tl")),e.addClass(s.call(this,"jqx-rc-bl"))):(e.addClass(s.call(this,"jqx-rc-tr")),e.addClass(s.call(this,"jqx-rc-br"))):t?(e.addClass(s.call(this,"jqx-rc-tl")),e.addClass(s.call(this,"jqx-rc-tr"))):(e.addClass(s.call(this,"jqx-rc-bl")),e.addClass(s.call(this,"jqx-rc-br")))},_centerContent:function(e,t){return e.css({"margin-top":(t.height()-e.height())/2,"margin-left":(t.width()-e.width())/2}),e},_renderFromButton:function(e){var t,s=e.val();""===s&&(s=e.html());var n=e[0].id;return e.wrap("<div/>"),(t=e.parent()).attr("style",e.attr("style")),e.remove(),l.jqx.utilities.html(t,s),t[0].id=n,t},_performLayout:function(e){"horizontal"===this.orientation?this.rtl?e.css("float","right"):e.css("float","left"):e.css("float","none"),this._centerContent(l(e.children()),e)},_mouseEnterHandler:function(e){var t=e.data.self,s=l(e.currentTarget);!t._isDisabled(s)&&t.enableHover&&(e=t.toThemeProperty,s.addClass(e.call(t,"jqx-group-button-hover")),s.addClass(e.call(t,"jqx-fill-state-hover")))},_mouseLeaveHandler:function(e){var t=e.data.self,s=l(e.currentTarget);!t._isDisabled(s)&&t.enableHover&&(e=t.toThemeProperty,s.removeClass(e.call(t,"jqx-group-button-hover")),s.removeClass(e.call(t,"jqx-fill-state-hover")))},_mouseDownHandler:function(e){var t=e.data.self,s=l(e.currentTarget);t._isDisabled(s)||(t._pressed=s,e=t.toThemeProperty,s.addClass(e.call(t,"jqx-group-button-pressed")),s.addClass(e.call(t,"jqx-fill-state-pressed")))},_mouseUpHandler:function(e){var t=e.data.self,e=l(e.currentTarget);t._isDisabled(e)||(t._handleSelection(e),t._pressed=null,e=t._buttonId[e[0].id],t._raiseEvent(2,{index:e.num,button:e.btn}))},_isDisabled:function(e){return!(!e||!e[0])&&this._buttonId[e[0].id].disabled},_documentUpHandler:function(e){var t=e.data.self,e=t._pressed;e&&!t._buttonId[e[0].id].selected&&(e.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._pressed=null)},_addButtonListeners:function(e){var t=this,s=t.addHandler,n=t._getEvent;s(e,n.call(t,"mouseenter"),t._mouseEnterHandler,{self:t}),s(e,n.call(t,"mouseleave"),t._mouseLeaveHandler,{self:t}),s(e,n.call(t,"mousedown"),t._mouseDownHandler,{self:t}),s(e,n.call(t,"mouseup"),t._mouseUpHandler,{self:t}),s(l(document),n.call(t,"mouseup"),t._documentUpHandler,{self:t})},_removeButtonListeners:function(e){var t=this,s=t.removeHandler,n=t._getEvent;s(e,n.call(t,"mouseenter"),t._mouseEnterHandler),s(e,n.call(t,"mouseleave"),t._mouseLeaveHandler),s(e,n.call(t,"mousedown"),t._mouseDownHandler),s(e,n.call(t,"mouseup"),t._mouseUpHandler),s(l(document),n.call(t,"mouseup"),t._documentUpHandler)},_handleSelection:function(e){var t=this;"radio"===t.mode?t._handleRadio(e):"checkbox"===t.mode?t._handleCheckbox(e):t._handleDefault(e)},_handleRadio:function(e){var t,s=this,n=s._getSelectedButton();for(t in n&&n.btn[0].id!==e[0].id&&s._unselectButton(n.btn,!0),s._buttonId)s._buttonId[t].selected=!0,s._unselectButton(s._buttonId[t].btn,!1);s._selectButton(e,!0)},_handleCheckbox:function(e){var t=this._buttonId[e[0].id];t.selected?this._unselectButton(t.btn,!0):this._selectButton(e,!0)},_handleDefault:function(e){var t,s=this;for(t in s._selectButton(e,!1),s._buttonId)s._buttonId[t].selected=!0,s._unselectButton(s._buttonId[t].btn,!1)},_getSelectedButton:function(){for(var e in this._buttonId)if(this._buttonId[e].selected)return this._buttonId[e];return null},_getSelectedButtons:function(){var e,t=[];for(e in this._buttonId)this._buttonId[e].selected&&t.push(this._buttonId[e].num);return t},_getButtonByIndex:function(e){for(var t in this._buttonId)if(this._buttonId[t].num===e)return this._buttonId[t];return null},_selectButton:function(e,t){var s=this._buttonId[e[0].id];s.selected||(e=this.toThemeProperty,s.btn.addClass(e.call(this,"jqx-group-button-pressed")),s.btn.addClass(e.call(this,"jqx-fill-state-pressed")),s.selected=!0,t&&this._raiseEvent(0,{index:s.num,button:s.btn}),l.jqx.aria(s.btn,"aria-checked",!0))},_unselectButton:function(e,t){var s=this._buttonId[e[0].id];s.selected&&(e=this.toThemeProperty,s.btn.removeClass(e.call(this,"jqx-group-button-pressed")),s.btn.removeClass(e.call(this,"jqx-fill-state-pressed")),s.selected=!1,t&&this._raiseEvent(1,{index:s.num,button:s.btn}),l.jqx.aria(s.btn,"aria-checked",!1))},setSelection:function(e){var t=this;if(-1!==e)if("checkbox"===t.mode)if("number"==typeof e)t._setSelection(e);else for(var s=0;s<e.length;s+=1)t._setSelection(e[s]);else"number"==typeof e&&"radio"===t.mode&&t._setSelection(e);else t.clearSelection()},_setSelection:function(e){e=this._getButtonByIndex(e);e&&this._handleSelection(e.btn)},getSelection:function(){var e=this;if("radio"===e.mode){if(e._getSelectedButton())return e._getSelectedButton().num}else if("checkbox"===e.mode)return e._getSelectedButtons()},disable:function(){var e,t,s=this;for(t in s.disabled=!0,s._buttonId)e=s._buttonId[t],s.disableAt(e.num);l.jqx.aria(s,"aria-disabled",!0)},enable:function(){var e,t,s=this;for(t in s.disabled=!1,s._buttonId)e=s._buttonId[t],s.enableAt(e.num);l.jqx.aria(s,"aria-disabled",!1)},disableAt:function(e){e=this._getButtonByIndex(e);e.disabled||(e.disabled=!0,e.btn.addClass(this.toThemeProperty("jqx-fill-state-disabled")))},enableAt:function(e){e=this._getButtonByIndex(e);e.disabled&&(e.disabled=!1,e.btn.removeClass(this.toThemeProperty("jqx-fill-state-disabled")))},_handleButtonId:function(e,t){var s={btn:e,num:t,selected:!1},t=(t=e[0].id)||this._baseId+e.index();return e[0].id=t,this._buttonId[t]=s,t},_raiseEvent:function(e,t){e=l.Event(this._events[e]);return e.args=t,this.host.trigger(e)},_unselectAll:function(){for(var e in this._buttonId)this._unselectButton(this._buttonId[e].btn,!1)},clearSelection:function(){this._unselectAll()},propertyChangedHandler:function(e,t,s,n){"theme"===t&&null!==n&&l.jqx.utilities.setTheme(s,n,e.host),"rtl"===t&&e.refresh(),"template"===t&&e.refresh(),"mode"===t?(e._unselectAll(),e.refresh()):"disabled"===t?n?e.disable():e.enable():e.refresh()}})}(jqxBaseFramework);