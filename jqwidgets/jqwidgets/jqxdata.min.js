!function(q){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw TypeError('"this" is null or not defined');var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError("predicate must be a function");for(var a=arguments[1],n=0;n<r;){var i=t[n];if(e.call(a,i,n,t))return i;n++}},configurable:!0,writable:!0}),q.jqx.observableArray=function(e,t){var a;"string"==typeof e&&(e=q.parseJSON(e)),Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),1}catch(e){return}}()||(a=Object.defineProperty,Object.defineProperty=function(e,t,r){if(a)try{return a(e,t,r)}catch(e){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in r&&Object.prototype.__defineGetter__.call(e,t,r.get),Object.prototype.__defineSetter__&&"set"in r&&Object.prototype.__defineSetter__.call(e,t,r.set),"value"in r?e[t]=r.value:e[t]||(e[t]=r),e}),Array.prototype.forEach||(Array.prototype.forEach=function(e){if(null==this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();for(var a=arguments[1],n=0;n<r;n++)n in t&&e.call(a,t[n],n,t)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r});var d,u=this,c=[];u.notifier=null,u.name="observableArray",u.observing=!0,u.changes=new Array;return u.observe=function(){u.observing=!0,1==arguments.length&&(t=arguments[0])},u.unobserve=function(){u.observing=!1},u.toArray=function(){return c.slice(0)},u.toJSON=function(n,e){var t=c;e&&(t=e);var r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function i(e){return'"'+e.replace(r,function(e){var t=a[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function s(e){return e<10?"0"+e:e}function o(e){switch(Object.prototype.toString.call(e)){case"[object Date]":return t=e,t=isFinite(t.valueOf())?t.getUTCFullYear()+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+'Z"':"null";case"[object Array]":return function(e){for(var t=e.length,r=[],a=0;a<t;a++)r.push(l(a,e)||"null");return"["+r.join(",")+"]"}(e)}var t;return function(e){var t,r,a=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(""!=t&&n&&-1===n.indexOf(t)||(r=l(t,e))&&a.push(i(t)+":"+r));return"{"+a.join(",")+"}"}(e)}function l(e,t){var r=t[e],t=typeof r;return r&&"object"==typeof r&&"function"==typeof r.toJSON&&(t=typeof(r=r.toJSON(e))),/(number|float|int|integer|string|boolean)/.test(t)||!r&&"object"===t?function(e,t){switch(t){case"string":return i(e);case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null";case"boolean":return e}return"null"}(r,t):o(r)}return!n&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(t):l("",{"":t})},u.defineIndexProperty=function(r){var i,s;r in u||(i=function(e,s,t,r){function a(){return l}function n(e){var t,n,i;return l!==(o=e)&&(t=l,l=o,"function"==typeof d&&(e=c.indexOf(r),n="",(i=function(r,a){Object.getOwnPropertyNames(r).forEach(function(e){var t=q.type(r[e]);"array"==t||"object"==t?i(r[e],a+"."+e):s===e&&(n=a+"."+e)})})(r,e),d({object:u,type:"update",path:n,index:e,name:s,newValue:o,oldValue:t}))),l=o}var o=e[s],l=o;null!=e[s]&&"length"!=s&&(Object.defineProperty?Object.defineProperty(e,s,{get:a,set:n}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(e,s,a),Object.prototype.__defineSetter__.call(e,s,n)))},s=function(r,a,n){var e=q.type(r);/(number|float|int|integer|string|boolean)/.test(e)||void 0!==r&&Object.getOwnPropertyNames(r).forEach(function(e){var t=q.type(r[e]);"array"==t||"object"==t?(i(r,e,0,n),s(r[e],a+"."+e,n)):i(r,e,0,n)})},Object.defineProperty(u,r,{configurable:!0,enumerable:!0,get:function(){return c[r]},set:function(e){var t=c[r];u.toJSON(null,t)!=u.toJSON(null,e)&&(c[r]=e,"function"==typeof d&&d({object:u,type:"update",path:r.toString(),index:r,name:"index",newValue:e,oldValue:t}),s(e,r,e))}}),s(u[r],r,u[r]))},u.push=function(){for(var e,t=0,r=arguments.length;t<r;t++)e=c.length,c.push(arguments[t]),u.defineIndexProperty(e),"function"==typeof d&&d({object:u,type:"add",name:"length",index:e,newValue:c.length,oldValue:e});return c.length},u.pop=function(){if(~c.length){var e=c.length-1,t=c.pop();return delete u[e],"function"==typeof d&&d({object:u,type:"delete",name:"length",index:e,newValue:c.length,oldValue:e}),t}},u.unshift=function(){for(var e=c.length,t=0,r=arguments.length;t<r;t++)c.splice(t,0,arguments[t]),u.defineIndexProperty(c.length-1);return"function"==typeof d&&d({object:u,type:"add",index:0,name:"length",newValue:c.length,oldValue:e}),c.length},u.shift=function(){var e=c.length;if(~c.length){var t=c.shift();return 0===c.length&&delete u[e],"function"==typeof d&&d({object:u,type:"delete",index:e,name:"length",newValue:c.length,oldValue:e}),t}},u.slice=function(e,t,r){t=c.slice(e,t);return new q.jqx.observableArray(t,r)},u.splice=function(e,t,r){var a,n=[];for(e=~e?e:c.length-e,t=(null==t?c.length-e:t)||0;t--;)a=c.splice(e,1)[0],n.push(a),delete u[c.length],"function"==typeof d&&d({object:u,type:"delete",index:e,name:"length",newValue:-1,oldValue:e});for(var i=2,s=arguments.length;i<s;i++)c.splice(e,0,arguments[i]),this.defineIndexProperty(c.length-1),"function"==typeof d&&d({object:u,type:"add",index:e,name:"length",newValue:c.length-1,oldValue:e}),e++;return new q.jqx.observableArray(n,r)},Object.defineProperty(u,"length",{configurable:!1,enumerable:!0,get:function(){return c.length},set:function(e){var t=Number(e);if(!(t%1==0&&0<=t))throw new RangeError("Invalid array length");return t<c.length?u.splice(t):t>c.length&&u.push.apply(u,new Array(t-c.length)),e}}),q.jqx.observableArray.prototype.fromArray=function(e,t){return new q.jqx.observableArray(e,t)},q.jqx.observableArray.prototype.clone=function(){var e=new q.jqx.observableArray(c,t);return e.observing=u.observing,e.changes=u.changes,e.notifier=u.notifier,e},u.remove=function(e){if(e<0||e>=u.length)throw new Error("Invalid index : "+e);if(u.hasOwnProperty(e)){var t=u[e];return u[e]=void 0,c[e]=void 0,"function"==typeof d&&d({object:u,type:"delete",index:e,name:"index",newValue:void 0,oldValue:t}),!0}return!1},u.concat=function(e,t){e=c.concat(e);return new q.jqx.observableArray(e,t)},Object.getOwnPropertyNames(Array.prototype).forEach(function(r){r in u||Object.defineProperty(u,r,{configurable:!1,enumerable:!0,writeable:!1,value:function(){var e=u.observing;u.observing=!1;var t=c[r].apply(c,arguments);return u.observing=e,t}})}),u.set=function(e,t){if("string"==q.type(e)&&1<e.split(".").length){for(var r=e.split("."),a=u,n=0;n<r.length;n++){if(0===n&&r[n]>=u.length)throw new Error("Invalid Index: "+e);n<r.length-1?a=a[r[n]]:a[r[n]]=t}return!0}return e>=u.length?u.push(t):u[e]=t,!0},u.get=function(e){return u[e]},e instanceof Array&&u.push.apply(u,e),d=function(){u.observing&&(arguments&&arguments[0]&&u.changes.push(arguments[0]),t&&t.apply(u,arguments),u.notifier&&u.notifier.apply(u,arguments))},u},q.jqx.formatDate=function(e,t,r){return q.jqx.dataFormat.formatdate(e,t,r)},q.jqx.formatNumber=function(e,t,r){return q.jqx.dataFormat.formatnumber(e,t,r)},q.jqx.dataAdapter=function(r,e){var a;null!=r&&(void 0!==r.dataFields&&(r.datafields=r.dataFields),void 0!==r.dataType&&(r.datatype=r.dataType),void 0!==r.localData&&(r.localdata=r.localData),void 0!==r.sortColumn&&(r.sortcolumn=r.sortColumn),void 0!==r.sortDirection&&(r.sortdirection=r.sortDirection),void 0!==r.sortColumns&&(r.sortcolumns=r.sortColumns),void 0!==r.sortDirections&&(r.sortdirections=r.sortDirections),void 0!==r.sortOrder&&(r.sortdirection=r.sortOrder),void 0!==r.formatData&&(r.formatdata=r.formatData),void 0!==r.processData&&(r.processdata=r.processData),void 0!==r.pageSize&&(r.pagesize=r.pageSize),void 0!==r.pageNum&&(r.pagenum=r.pageNum),void 0!==r.updateRow&&(r.updaterow=r.updateRow),void 0!==r.addRow&&(r.addrow=r.addRow),void 0!==r.deleteRow&&(r.deleterow=r.deleteRow),void 0!==r.contentType&&(r.contenttype=r.contentType),null!=r.totalRecords&&(r.totalrecords=r.totalRecords),null!=r.loadError&&(r.loadError=r.loadError),null!=r.sortComparer&&(r.sortcomparer=r.sortComparer)),this._source=r,this._options=e||{},null!=r.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),null!=r.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),null!=r.loadComplete&&(this._options.loadComplete=this._source.loadComplete),null!=r.autoBind&&(this._options.downloadComplete=this._source.autoBind),null!=r.formatData&&(this._options.formatData=this._source.formatData),null!=r.loadError&&(this._options.loadError=this._source.loadError),null!=r.beforeSend&&(this._options.beforeSend=this._source.beforeSend),null!=r.contentType&&(this._options.contentType=this._source.contentType),null!=r.async&&(this._options.async=this._source.async),null!=r.loadServerData&&(this._options.loadServerData=this._source.loadServerData),null!=r.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,null==r||null==r.localdata||"function"!=typeof r.localdata||null!=(e=r.localdata())&&(r._localdata=r.localdata,a=this,r._localdata.subscribe&&(a._oldlocaldata=[],r._localdata.subscribe(function(e){var t=function(e){return q.isArray(e)?q.makeArray(t(q(e))):q.extend(!0,{},e)};0!=a.suspendKO&&null!=a.suspendKO&&0!=a._oldlocaldata.length||(a._oldlocaldata=t(e))},r._localdata,"beforeChange"),r._localdata.subscribe(function(e){var t;0!=a.suspendKO&&null!=a.suspendKO||(t="",a._oldrecords=a.records,0==a._oldlocaldata.length&&(r.localdata=r._localdata()),0==a._oldlocaldata.length?t="change":e&&(a._oldlocaldata.length==e.length&&(t="update"),a._oldlocaldata.length>e.length&&(t="remove"),a._oldlocaldata.length<e.length&&(t="add")),a.dataBind(null,t))},r._localdata,"change"),a._knockoutdatasource=!0),r.localdata=e),1==this._options.autoBind&&this.dataBind()},q.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(e){this.isUpdating=!1,0!=e&&(this._changedrecords&&0<this._changedrecords.length?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(e,t,r){return q.jqx.dataFormat.formatdate(e,t,r)},formatNumber:function(e,t,r){return q.jqx.dataFormat.formatnumber(e,t,r)},dataBind:function(e,t){if(1!=this.isUpdating){var v=this._source;if(v){v.generatedfields&&(v.datafields=null,v.generatedfields=null),q.jqx.dataFormat.datescache=new Array,null!=v.dataFields&&(v.datafields=v.dataFields),null==v.recordstartindex&&(v.recordstartindex=0),null==v.recordendindex&&(v.recordendindex=0),null==v.loadallrecords&&(v.loadallrecords=!0),null==v.root&&(v.root=""),null==v.record&&(v.record=""),null!=v.sort&&(this.sort=v.sort),null!=v.filter?this.filter=v.filter:this.filter=null,null!=v.sortcolumn&&(this.sortcolumn=v.sortcolumn),null!=v.sortdirection&&(this.sortdirection=v.sortdirection),null!=v.sortcolumns&&(this.sortcolumns=v.sortcolumns),null!=v.sortdirections&&(this.sortdirections=v.sortdirections),null!=v.sortcomparer&&(this.sortcomparer=v.sortcomparer),this.records=new Array;var i=this._options||{};if(this.virtualmode=null!=i.virtualmode&&i.virtualmode,this.totalrecords=null!=i.totalrecords?i.totalrecords:0,this.pageable=null!=i.pageable&&i.pageable,this.pagesize=null!=i.pagesize?i.pagesize:0,this.pagenum=null!=i.pagenum?i.pagenum:0,this.cachedrecords=null!=i.cachedrecords?i.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=null!=i.updaterow?i.updaterow:null,this.addrow=null!=i.addrow?i.addrow:null,this.deleterow=null!=i.deleterow?i.deleterow:null,this.cache=null!=i.cache&&i.cache,this.unboundmode=!1,null!=v.formatdata&&(i.formatData=v.formatdata),null!=v.data&&(null==i.data&&(i.data={}),q.extend(i.data,v.data)),null!=v.mapChar&&(v.mapchar=v.mapChar),null!=v.mapchar?this.mapChar=v.mapchar||">":this.mapChar=i.mapChar||">",(i.unboundmode||v.unboundmode)&&(this.unboundmode=i.unboundmode||v.unboundmode),null!=v.cache&&(this.cache=v.cache),this.koSubscriptions)for(var r=0;r<this.koSubscriptions.length;r++)this.koSubscriptions[r].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var x=this,s=v.datatype;"csv"!==v.datatype&&"tab"!==v.datatype&&"tsv"!==v.datatype&&"text"!=v.datatype||(s="text");var a=null==i.async||i.async;switch(null!=v.async&&(a=v.async),"xlsx"===s&&v.url&&(v.localdata=[],s="array",window.jqxDataSource&&(w=new window.jqxDataSource({dataSource:v.url,async:!1,dataFields:v.datafields})).notify(function(){v.url=null,v.localdata=w.boundSource,v.datatype="array",x.dataBind()})),s){case"local":case"array":case"observablearray":case"observableArray":default:if(null==v.localdata&&v.length){v.localdata=new Array;for(var n=0;n<v.length;n++)v.localdata[v.localdata.length]=v[n],v[n].uid=n}v.beforeprocessing&&q.isFunction(v.beforeprocessing)&&v.beforeprocessing(v.localdata);var o=v.localdata.length;if(this.totalrecords=this.virtualmode&&v.totalrecords||o,this.unboundmode)if(this.totalrecords=this.unboundmode&&v.totalrecords||o,0<(b=v.datafields?v.datafields.length:0))for(n=0;n<this.totalrecords;n++){for(var l={},d=0;d<b;d++)l[v.datafields[d].name]="";l.uid=n,v.localdata[v.localdata.length]=l}null==this.totalrecords&&(this.totalrecords=0);function u(e,t){for(var r={},a=0;a<t;a++){var n=v.datafields?v.datafields[a]:{},i="";if(null!=n&&null!=n){if(n.map){if(q.isFunction(n.map))i=n.map(e);else{var s=n.map.split(x.mapChar);if(0<s.length){for(var o=e,l=0;l<s.length;l++)o=o&&o[s[l]];i=o}else i=e[n.map]}null!=i&&null!=i?i=i.toString():null==i&&null!=i&&(i="")}var d=!1;""==i&&(d=!0,null!=(i=e[n.name])&&null!=i&&(v._localdata&&i.subscribe?i=i():"array"!=n.type&&("date"===n.type?i&&Date:i=i.toString()))),"[object Object]"==i&&n.map&&d&&(i=""),i=x.getvaluebytype(i,n),null!=n.displayname?r[n.displayname]=i:r[n.name]=i}}return r}var c,f,b=v.datafields?v.datafields.length:0;if(v._localdata){this._changedrecords=[],this.records=new Array;var h=v._localdata();if(q.each(h,function(p,e){var g,y,m;"string"==typeof e?x.records.push(e):(g={},y=0,m=this,q.each(this,function(r,e){var t=null,a="string",n=r;if(0<b){for(var i=!1,s=!1,o=0;o<b;o++){var l=v.datafields[o];if(null!=l&&l.name==r){i=!0,t=l.map,a=l.type,n=l.name;break}if(null!=l&&l.map&&0<=l.map.indexOf(r)){i=!0,t=l.map,a=l.type,n=l.name,s=!0;var d=m[r];if(null!=t)if(0<(h=t.split(x.mapChar)).length){for(var u=m,c=0;c<h.length;c++)u=u[h[c]];d=u}else d=m[t];"string"!=a&&(d=x.getvaluebytype(d,{type:a})),g[n]=d,null!=g[n]&&(y+=g[n].toString().length+g[n].toString().substr(0,1))}}if(!i)return!0;if(s)return!0}if(q.isFunction(m[r])){var f,d=m[r]();"string"!=a&&(d=x.getvaluebytype(d,{type:a})),g[r]=d,m[r].subscribe&&(f=p,x.koSubscriptions[x.koSubscriptions.length]=m[r].subscribe(function(e){var t=f;g[r]=e;t={index:t,oldrecord:g,record:g};if(x._changedrecords.push(t),!x.isUpdating)return x.callBindingUpdate("update"),!(x._changedrecords=[])}))}else{var h,d=m[r];if(null!=t)if(0<(h=t.split(x.mapChar)).length){for(u=m,c=0;c<h.length;c++)u=u[h[c]];d=u}else d=m[t];"string"!=a&&(d=x.getvaluebytype(d,{type:a})),g[n]=d,null!=g[n]&&(y+=g[n].toString().length+g[n].toString().substr(0,1))}}),e=x.getid(v.id,m,p),g.uid=e,x.records.push(g),g._koindex=y,x._oldrecords&&(e=x.records.length-1,"update"==t&&x._oldrecords[e]._koindex!=y&&(e={index:e,oldrecord:x._oldrecords[e],record:g},x._changedrecords.push(e))))}),"add"==t)for(o=x.records.length,n=0;n<o;n++){for(var l=x.records[n],p=!1,g=0;g<x._oldrecords.length;g++)if(x._oldrecords[g]._koindex===l._koindex){p=!0;break}p||x._changedrecords.push({index:n,oldrecord:null,record:l,position:0!=n?"last":"first"})}else if("remove"==t)for(o=x._oldrecords.length,n=0;n<o;n++){var y=x._oldrecords[n];(!x.records[n]||x.records[n]._koindex!=y._koindex)&&x._changedrecords.push({index:n,oldrecord:y,record:null})}}else q.isArray(v.localdata)?0==b?(c=0,f=new Array,q.each(v.localdata,function(e,t){var r=new Object(this);if("string"==typeof t)return x.records=v.localdata,!1;t=x.getid(v.id,r,e);if("object"==typeof t&&(t=e),r.uid=t,0==e){for(var a in this){c++;var n=q.type(this[a]);f.push({name:a,type:n})}b=c,v.datafields=f,v.generatedfields=f}0<b?((e=u(r,b)).uid=t,x.records[x.records.length]=e):x.records[x.records.length]=r})):q.each(v.localdata,function(e){var t=this,r=u(t,b),a=x.getid(v.id,r,e);"object"==typeof a&&(a=e),(t=new Object(r)).uid=a,x.records[x.records.length]=t}):(this.records=new Array,c=0,f=new Array,q.each(v.localdata,function(e){var t=x.getid(v.id,this,e);if(0==b&&!("string"==typeof this||this instanceof String)){for(var r in this){c++;var a=q.type(this[r]);f.push({name:r,type:a})}b=c,v.datafields=f,v.generatedfields=f}0<b?((e=u(this,b)).uid=t,x.records[x.records.length]=e):(this.uid=t,x.records[x.records.length]=this)}));this.originaldata=v.localdata,this.cachedrecords=this.records,this.addForeignValues(v),i.uniqueDataFields&&(S=this.getUniqueRecords(this.records,i.uniqueDataFields),this.records=S,this.cachedrecords=S),i.beforeLoadComplete&&null!=(O=i.beforeLoadComplete(x.records,this.originaldata))&&(x.records=O,x.cachedrecords=O),i.autoSort&&i.autoSortField&&(m=Object.prototype.toString,Object.prototype.toString="function"==typeof field?field:function(){return this[i.autoSortField]},x.records.sort(function(e,t){if(void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t)return 0;if(null===e&&null!==t)return 1;if(null!==e&&null===t)return-1;if(e=e.toString(),t=t.toString(),null===e&&null===t)return 0;if(null===e&&null!==t)return 1;if(null!==e&&null===t)return-1;if(q.jqx.dataFormat.isNumber(e)&&q.jqx.dataFormat.isNumber(t))return e<t?-1:t<e?1:0;if(q.jqx.dataFormat.isDate(e)&&q.jqx.dataFormat.isDate(t))return e<t?-1:t<e?1:0;q.jqx.dataFormat.isNumber(e)||q.jqx.dataFormat.isNumber(t)||(e=String(e).toLowerCase(),t=String(t).toLowerCase());try{if(e<t)return-1;if(t<e)return 1}catch(e){}return 0}),Object.prototype.toString=m),x.loadedData=v.localdata,x.buildHierarchy(),q.isFunction(i.loadComplete)&&i.loadComplete(v.localdata,x.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":if(null!=v.localdata&&!v.url)return q.isFunction(v.beforeprocessing)&&v.beforeprocessing(v.localdata),"xml"===v.datatype?x.loadxml(v.localdata,v.localdata,v):"text"===s?x.loadtext(v.localdata,v):"ics"===s?x.loadics(v.localdata,v):x.loadjson(v.localdata,v.localdata,v),x.addForeignValues(v),i.uniqueDataFields&&(S=x.getUniqueRecords(x.records,i.uniqueDataFields),x.records=S,x.cachedrecords=S),i.beforeLoadComplete&&null!=(O=i.beforeLoadComplete(x.records,this.originaldata))&&(x.records=O,x.cachedrecords=O),x.loadedData=v.localdata,x.buildHierarchy.call(x),q.isFunction(i.loadComplete)&&i.loadComplete(v.localdata,x.records),void x.callBindingUpdate(t);var m=null!=i.data?i.data:{};v.processdata&&v.processdata(m),q.isFunction(i.processData)&&i.processData(m),!q.isFunction(i.formatData)||null!=(A=i.formatData(m))&&(m=A);var S="application/x-www-form-urlencoded";i.contentType&&(S=i.contentType);var O="GET";v.type&&(O=v.type),i.type&&(O=i.type);var w,A="ics"==s?"text":s;v.url&&0<v.url.length?q.isFunction(i.loadServerData)?x._requestData(m,v,i):this.xhr=q.jqx.data.ajax({dataType:A,cache:this.cache,type:O,url:v.url,async:a,timeout:v.timeout,contentType:S,data:m,success:function(e,t,r){if(q.isFunction(v.beforeprocessing)&&null!=(n=v.beforeprocessing(e,t,r))&&(e=n),q.isFunction(i.downloadComplete)&&null!=(n=i.downloadComplete(e,t,r))&&(e=n),null==e)return x.records=new Array,x.cachedrecords=new Array,x.originaldata=new Array,x.callDownloadComplete(),void(q.isFunction(i.loadComplete)&&i.loadComplete(new Array));var a,n=e;e.records&&(n=e.records),null!=e.totalrecords?v.totalrecords=e.totalrecords:null!=e.totalRecords&&(v.totalrecords=e.totalRecords),"xml"===v.datatype?x.loadxml(null,n,v):"text"===s?x.loadtext(n,v):"ics"===s?x.loadics(n,v):x.loadjson(null,n,v),x.addForeignValues(v),i.uniqueDataFields&&(a=x.getUniqueRecords(x.records,i.uniqueDataFields),x.records=a,x.cachedrecords=a),!i.beforeLoadComplete||null!=(a=i.beforeLoadComplete(x.records,e))&&(x.records=a,x.cachedrecords=a),x.loadedData=e,x.buildHierarchy.call(x),x.callDownloadComplete(),q.isFunction(i.loadComplete)&&i.loadComplete(e,t,r,x.records)},error:function(e,t,r){q.isFunction(v.loaderror)&&v.loaderror(e,t,r),q.isFunction(i.loadError)&&i.loadError(e,t,r),e=null,x.callDownloadComplete()},beforeSend:function(e,t){q.isFunction(i.beforeSend)&&i.beforeSend(e,t),q.isFunction(v.beforesend)&&v.beforesend(e,t)}}):(x.buildHierarchy(new Array),x.callDownloadComplete(),q.isFunction(i.loadComplete)&&(w=w||{},i.loadComplete(w)))}this.callBindingUpdate(t)}}},buildHierarchy:function(e){var i=this._source,t=new Array;if(i.datafields&&(i.hierarchy&&!i.hierarchy.reservedNames?i.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}:i.hierarchy&&((o=i.hierarchy.reservedNames).leaf||(o.leaf="leaf"),o.parent||(o.parent="parent"),o.expanded||(o.expanded="expanded"),o.checked||(o.checked="checked"),o.selected||(o.selected="selected"),o.level||(o.level="level"),o.data||(o.data="data")),i.hierarchy)){var s=this,o=i.hierarchy.reservedNames;if(i.hierarchy.root){if("xml"==i.dataType){t=this.getRecordsHierarchy("uid","parentuid","records",null,e);return this.hierarchy=t}this.hierarchy=this.records;for(var l=i.hierarchy.root,r=0;r<this.records.length;r++){var d,a,u,n=this.records[r];n&&((d=function(e){if(i.hierarchy.record)e.records=e[l][i.hierarchy.record];else{var t=l.split(s.mapChar),r=null;if(1<t.length){for(var a=e,n=0;n<t.length;n++)null!=a&&(a=a[t[n]]);r=a}else r=e[l];e.records=r}(null==e.records||e.records&&0==e.records.length)&&(e[o.leaf]=!0)})(n),n[o.level]=0,a=this.getid(i.id,n,r),n.uid=a,n[o.parent]=null,void 0===(n[o.data]=n)[o.expanded]&&(n[o.expanded]=!1),(u=function(e,t){if(t)for(var r=0;r<t.length;r++){var a,n=t[r];n&&(d(n),n[o.level]=e[o.level]+1,n[o.parent]=e,n[o.data]=n,(a=s.getid(i.id,n,r))==r&&null==i.id?n.uid=e.uid+"_"+a:n.uid=a,void 0===n[o.expanded]&&(n[o.expanded]=!1),u(n,n.records))}else e.records=new Array})(n,n.records))}return this.hierarchy}if(i.hierarchy.keyDataField&&i.hierarchy.parentDataField){t=this.getRecordsHierarchy(i.hierarchy.keyDataField.name,i.hierarchy.parentDataField.name,"records",null,e);return this.hierarchy=t}if(i.hierarchy.groupingDataFields){for(var c=new Array,r=0;r<i.hierarchy.groupingDataFields.length;r++)c.push(i.hierarchy.groupingDataFields[r].name);t=this.getGroupedRecords(c,"records","label",null,"data",null,"parent",e);return this.hierarchy=t}}},addRecord:function(n,i,s,e){function o(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}}var l,d=this;if(null!=n){if(null==s)return this.hierarchy&&0<=this.hierarchy.length&&(this._source.hierarchy||e)?(null==(e=d._source&&d._source.hierarchy?d._source.hierarchy.reservedNames:null)&&(e=o()),n[e.level]=0,"last"==i?this.hierarchy.push(n):"number"==typeof i&&isFinite(i)?this.hierarchy.splice(i,0,n):this.hierarchy.splice(0,0,n)):"last"==i?this.records.push(n):"number"==typeof i&&isFinite(i)?this.records.splice(i,0,n):this.records.splice(0,0,n),!0;0<this.hierarchy.length&&(l=function(e){if(e)for(var t=0;t<e.length;t++){var r=e[t];if(r.uid==s){var a=d._source&&d._source.hierarchy?d._source.hierarchy.reservedNames:null;return null==a&&(a=o()),n[a.parent]=r,n[a.level]=r[a.level]+1,r.records||(r.records=new Array),r[a.leaf]=!1,"last"==i?r.records.push(n):"number"==typeof i&&isFinite(i)?r.records.splice(i,0,n):r.records.splice(0,0,n),!0}r.records&&l(r.records)}})(this.hierarchy)}return!1},deleteRecord:function(i){var s=this;if(0<this.hierarchy.length){var o=function(e){if(e)for(var t=0;t<e.length;t++){if((r=e[t]).uid==i){e.splice(t,1),s.recordids[i]&&delete s.recordids[i];var n=function(e){for(var t=0;t<e.length;t++){for(var r=e[t].uid,a=0;a<s.records.length;a++)if(s.records[a].uid==r){s.records.splice(a,1);break}e[t].records&&n(e[t].records)}};r.records&&n(r.records);for(var r,a=0;a<s.records.length;a++)if((r=s.records[a]).uid==i){s.records.splice(a,1);break}return!0}r.records&&o(r.records)}};o(this.hierarchy)}else for(var e=0;e<this.records.length;e++)if(this.records[e].uid==i)return this.records.splice(e,1),!0;return!1},addForeignValues:function(e){for(var t=this,r=e.datafields?e.datafields.length:0,a=0;a<r;a++){var n=e.datafields[a];if(null!=n)if(null!=n.values){null==n.value&&(n.value=n.name),null==n.values.value&&(n.values.value=n.value);var i,s,o=new Array;t.pageable&&t.virtualmode?(s=(i=t.pagenum*t.pagesize)+t.pagesize)>t.totalrecords&&(s=t.totalrecords):t.virtualmode?(i=e.recordstartindex,(s=e.recordendindex)>t.totalrecords&&(s=t.totalrecords)):(i=0,s=t.records.length);for(var l=i;l<s;l++){var d=t.records[l],u=n.name,c=d[n.value];if(null!=o[c])d[u]=o[c];else for(var f=0;f<n.values.source.length;f++){var h=n.values.source[f],p=h[n.values.value];if(null==p&&(p=h.uid),p==c){h=h[n.values.name];d[u]=h,o[c]=h;break}}}}else if(null!=n.value)for(l=0;l<t.records.length;l++)(d=t.records[l])[n.name]=d[n.value]}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),this.callDownloadComplete())},_requestData:function(e,n,i){var s=this;i.loadServerData(e,n,function(e){var t;e.totalrecords&&(n.totalrecords=e.totalrecords,s.totalrecords=e.totalrecords),e.records&&(s.records=e.records,s.cachedrecords=e.records),s.addForeignValues(n),i.uniqueDataFields&&(t=s.getUniqueRecords(s.records,i.uniqueDataFields),s.records=t,s.cachedrecords=t),!i.beforeLoadComplete||null!=(t=i.beforeLoadComplete(s.records,e))&&(s.records=t,s.cachedrecords=t);for(var r=0;r<s.records.length;r++){var a=s.records[r];null!=a&&null==a.uid&&(a.uid=s.getid(n.id,a,r))}s.buildHierarchy.call(s),q.isFunction(i.loadComplete)&&i.loadComplete(e),s.callDownloadComplete()})},getUniqueRecords:function(e,t){if(e&&t)for(var r=e.length,a=t.length,n=new Array,i=new Array,s=0;s<r;s++){var o=e[s],l="";if(null!=o){for(var d=0;d<a;d++){var u=t[d];void 0!==o[u]&&(l+=o[u]+"_")}!i[l]&&l&&(n[n.length]=o),i[l]=!0}}return n},getAggregatedData:function(e,n,t,a){var o=(o=t)||this.records,l={},r=new Array,d=o.length;if(0!=d&&null!=d){for(var i=0;i<d;i++)for(var s=o[i],u=0;u<e.length;u++){var c,f,h=e[u],p=s[h.name];h.aggregates&&(l[h.name]=l[h.name]||{},r[h.name]=r[h.name]||0,r[h.name]++,c=function(e){for(var t in e){var r=l[h.name][t];null==r&&(r=l[h.name][t]=0),q.isFunction(e[t])&&(r=e[t](r,p,h.name,s,a)),l[h.name][t]=r}},f=parseFloat(p),(f=!isNaN(f))&&(p=parseFloat(p)),"number"==typeof p&&isFinite(p)?q.each(h.aggregates,function(){var e=l[h.name][this];if(null==e&&(e="max"==this?-9999999999999:"min"==this?9999999999999:0),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)e+=parseFloat(p);else if("product"==this)0==i?e=parseFloat(p):e*=parseFloat(p);else if("min"==this)e=Math.min(e,parseFloat(p));else if("max"==this)e=Math.max(e,parseFloat(p));else if("count"==this)e++;else if("object"==typeof this)return void c(this);l[h.name][this]=e}):q.each(h.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===p)return!0;var e=l[h.name][this];return null==e&&(e=0),l[h.name][this]=e,!0}"object"==typeof this&&c(this)}))}for(u=0;u<e.length;u++){var g,h=e[u];l[h.name]||(l[h.name]={},q.each(h.aggregates,function(e){l[h.name][this]=0})),null!=l[h.name].avg?(p=l[h.name].avg,g=r[h.name],l[h.name].avg=0===g||null==g?0:p/g):null!=l[h.name].count&&(l[h.name].count=d),(l[h.name].stdev||l[h.name].stdevp||l[h.name].var||l[h.name].varp)&&q.each(h.aggregates,function(e){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var t=l[h.name][this],r=d,a=t/d,n=0,i=0;i<d;i++){var s=o[i][h.name];n+=(s-a)*(s-a)}r="stdevp"==this||"varp"==this?r:r-1;0==r&&(r=1),"var"==this||"varp"==this?l[h.name][this]=n/r:"stdevp"!=this&&"stdev"!=this||(l[h.name][this]=Math.sqrt(n/r))}}),h.formatStrings&&q.each(h.aggregates,function(e){var t=h.formatStrings[e];if(t)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var r=l[h.name][this];l[h.name][this]=q.jqx.dataFormat.formatnumber(r,t,n)}else if("object"==typeof this)for(var a in this){r=l[h.name][a];l[h.name][a]=q.jqx.dataFormat.formatnumber(r,t,n)}})}return l}},bindDownloadComplete:function(e,t){this._downloadComplete[this._downloadComplete.length]={id:e,func:t}},unbindDownloadComplete:function(e){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==e){this._downloadComplete[t].func=null,this._downloadComplete.splice(t,1);break}},callDownloadComplete:function(){for(var e=0;e<this._downloadComplete.length;e++){var t=this._downloadComplete[e];null!=t.func&&t.func()}},setSource:function(e){this._source=e},generatekey:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getGroupedRecords:function(e,t,r,a,n,i,s,o,l){l=l||0;for(var d=new Array,u=0;u<e.length;u++)d[u]=this.generatekey();t=t||"items",r=r||"group",n=n||"record",s=s||"parentItem",void 0===i&&(i="value");for(var c=new Array,f=0,h=new Array,p=e.length,g=(new Array,(o=o||this.records).length),y=0;y<g;y++){for(var m=function(e){var t=e;return a&&q.each(a,function(){this.name&&this.map&&(t[this.map]=t[this.name])}),t}(o[y]),v=(m[this.uniqueId],new Array),x=0,u=0;u<p;u++){var b=m[e[u]];null!=b&&(v[x++]={value:b,hash:d[u]})}if(v.length!=p)break;for(var S=null,O="",w=0;w<v.length;w++){0;var A,_=v[w].value;null==h[O=O+"_"+v[w].hash+"_"+_]||null==h[O]?(null==S?((S={level:0})[s]=null,S[r]=_,void 0!==(S[n]=m).expanded?S.expanded=m.expanded:S.expanded=!1,i&&(S[i]=m[i]),S[t]=new Array,A=c.length+l,this._source.id&&"number"!=typeof m.uid&&!isFinite(m.uid)||(A="Row"+A),S.uid=A,c[f++]=S):((A={level:S.level+1})[s]=S,A[r]=_,A[t]=new Array,void 0!==(A[n]=m).expanded?A.expanded=m.expanded:A.expanded=!1,i&&(A[i]=m[i]),A.uid=S.uid+"_"+S[t].length,S[t][S[t].length]=A,S=A),h[O]=S):S=h[O]}m&&(m.leaf=!0),null!=S?(null==this._source.id&&(null==m.uid?m.uid=S.uid+"_"+S[t].length:-1==m.uid.toString().indexOf(S.uid)&&(m.uid=S.uid+"_"+m.uid)),m[s]=S,m.level=S.level+1,S[t][S[t].length]=m):null==m.uid&&(m.uid=this.generatekey())}return c},getRecordsHierarchy:function(e,t,r,a,n){var i=new Array,s=this.records;if(n&&(s=n),0==this.records.length)return null;function o(e){var t=e;return a&&q.each(a,function(){this.name&&this.map&&(t[this.map]=t[this.name])}),t}for(var l=null!=r?r:"items",d=[],u=s,c=u.length,f=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,h=0;h<c;h++){var p=(y=q.extend({},u[h]))[t];d[S=y[e]]={parentid:p,item:y}}for(var g,h=0;h<c;h++){var y,m,v,x,b,p=(y=q.extend({},u[h]))[t],S=y[e];null!=d[p]?(y={parentid:p,item:d[S].item},(m=d[p].item)[l]||(m[l]=[]),v=m[l].length,x=y.item,f?null==x[f.parent]&&(x[f.parent]=m):null==x.parent&&(x.parent=m),b=o(x),m[l][v]=b,d[p].item=m,d[S]=y):(x=d[S].item,f?null==x[f.parent]&&(x[f.parent]=null):null==x.parent&&(x.parent=null),b=o(x),f?b[f.level]=0:b.level=0,i[i.length]=b)}return 0!=i.length&&(g=function(e,t){for(var r=0;r<t.length;r++){f?t[r][f.level]=e:t[r].level=e;var a=t[r][l];a&&0<a.length?g(e+1,a):f?t[r][f.leaf]=!0:t[r].leaf=!0}})(0,i),i},bindBindingUpdate:function(e,t){this._bindingUpdate[this._bindingUpdate.length]={id:e,func:t}},unbindBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==e){this._bindingUpdate[t].func=null,this._bindingUpdate.splice(t,1);break}},callBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++){var r=this._bindingUpdate[t];null!=r.func&&r.func(e)}},getid:function(e,t,r){if(null==e||null==e.name||!e.name){if(0<q(e,t).length)return q(e,t).text();if(e&&0<e.toString().length){if(null!=(s=q(t).attr(e))&&0<s.toString().length)return q.trim(s).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/\\@])/g,"");var a=e.split(this.mapChar);if(1<a.length){for(var n=t,i=0;i<a.length;i++)null!=n&&(n=n[a[i]]);if(null!=n)return n}else if(null!=t[e])return t[e]}return r}var s;if(null!=(s=q(t).attr(e.name))&&0<s.toString().length)return s;if(e.map)try{if(null!=(s=q(t).attr(e.map))&&0<s.toString().length)return s;if(0<q(e.map,t).length)return q(e.map,t).text();if(0<q(e.name,t).length)return q(e.name,t).text()}catch(e){return r}},loadjson:function(t,e,u){"string"==typeof t&&(t=q.parseJSON(t)),null==u.root&&(u.root=""),null==u.record&&(u.record=""),t=(t=t||e)||[];var c=this;if(""!=u.root){if(1<(x=u.root.split(c.mapChar)).length){for(var r=t,a=0;a<x.length;a++)null!=r&&(r=r[x[a]]);t=r}else if(void 0!==t[u.root]?t=t[u.root]:t[0]&&void 0!==t[0][u.root]?t=t[0][u.root]:q.each(t,function(e){if(this==u.root)return t=this,!1;null!=this[u.root]&&(t=this[u.root])}),!t)if(0<(x=u.root.split(c.mapChar)).length){for(r=t,a=0;a<x.length;a++)null!=r&&(r=r[x[a]]);t=r}}else if(!t.length)for(var n in t)if(q.isArray(t[n])){t=t[n];break}if(null!=t&&null==t.length&&(t=q.makeArray(t)),null==t||null==t||"undefined"==t||null==t.length)throw new Error("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");if(0!=t.length){var i=t.length;this.totalrecords=this.virtualmode&&u.totalrecords||i,this.records=new Array,this.originaldata=new Array;var s=this.records,o=this.pageable?this.pagesize*this.pagenum:u.recordstartindex;this.recordids=new Array,u.loadallrecords&&(o=0,i=this.totalrecords);var l=0;this.virtualmode&&(l=o=this.pageable?this.pagesize*this.pagenum:u.recordstartindex,o=0,i=this.totalrecords);var f=u.datafields?u.datafields.length:0;if(0==f){var e=t[0],d=new Array;for(n in e)d[d.length]={name:n};u.datafields=d,u.generatedfields=u.datafields,f=d.length}for(var h=o,p=o;p<i;p++){var g=t[p];if(null==g)break;if(!u.record||""==u.record||null!=(g=g[u.record])){var y=this.getid(u.id,g,p);if("object"==typeof y&&(y=p),!this.recordids[y]){this.recordids[y]=g;for(var m={},v=0;v<f;v++){var x,b,S,O=u.datafields[v],w="";if(null!=O&&null!=O){if(O.map){if(q.isFunction(O.map))w=O.map(g);else if(0<(x=O.map.split(c.mapChar)).length){for(var A=g,a=0;a<x.length;a++)null!=A&&(A=A[x[a]]);w=A}else w=g[O.map];null!=w&&null!=w?w=this.getvaluebytype(w,O):null==w&&null!=w&&(w="")}""!=w||O.map||(null==(w=g[O.name])&&null!=w&&(w=""),null!=O.value&&(null==w||null!=(b=w[O.value])&&(w=b))),w=this.getvaluebytype(w,O),null!=O.displayname?m[O.displayname]=w:m[O.name]=w,"array"===O.type&&(S=function(e){if(e)for(var t=0;t<e.length;t++){var r=e[t];if(r)for(var a=0;a<f;a++){var n,i=u.datafields[a],s="";if(null!=i&&null!=i){if(i.map){if(q.isFunction(i.map))s=i.map(r);else{var o=i.map.split(c.mapChar);if(0<o.length){for(var l=r,d=0;d<o.length;d++)null!=l&&(l=l[o[d]]);s=l}else s=r[i.map]}null!=s&&null!=s?s=this.getvaluebytype(s,i):null==s&&null!=s&&(s="")}""!=s||i.map||(null==(s=r[i.name])&&null!=s&&(s=""),null!=i.value&&(null==s||null!=(n=s[i.value])&&(s=n))),s=this.getvaluebytype(s,i),null!=i.displayname?r[i.displayname]=s:r[i.name]=s,"array"===i.type&&S.call(this,s)}}}}).call(this,w)}}(u.recordendindex<=0||o<u.recordendindex)&&(s[l+h]=new Object(m),s[l+h].uid=y,this.originaldata[l+h]=new Object(s[p]),h++)}}}this.records=s,this.cachedrecords=this.records}else this.totalrecords=0},loadxml:function(e,t,r){"string"==typeof e&&(e=t=q(q.parseXML(e)),e=null),null==r.root&&(r.root=""),null==r.record&&(r.record="");var a=(e=(e=q.jqx.browser.msie&&t&&null!=t.xml?q(r.root+" "+r.record,q.parseXML(t.xml)):e||q(r.root+" "+r.record,t))||[]).length;if(0!=e.length){this.totalrecords=this.virtualmode&&r.totalrecords||a,this.records=new Array,this.originaldata=new Array;var n=this.records,i=this.pageable?this.pagesize*this.pagenum:r.recordstartindex;this.recordids=new Array,r.loadallrecords&&(i=0,a=this.totalrecords);var s=0;this.virtualmode&&(s=i=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,i=0,a=this.totalrecords);var o=r.datafields?r.datafields.length:0;if(0==o){var l,t=e[0],d=new Array;for(l in t)d[d.length]={name:l};r.datafields=d,r.generatedfields=r.datafields,o=d.length}for(var u=i,c=i;c<a;c++){if(null==(w=e[c]))break;var f=this.getid(r.id,w,c);if(!this.recordids[f]){this.recordids[f]=w;var h={},p=!1;r.hierarchy&&r.hierarchy.root&&(p=!0);for(var g=0;g<o;g++){var y=r.datafields[g],m="";if(null!=y&&null!=y){if(y.map)if(q.isFunction(y.map))m=y.map(w);else{var v=y.map.indexOf("[");if(v<0)if(1==(m=q(y.map,w)).length)m=m.text();else{for(var x=new Array,b=0;b<m.length;b++)x.push(q(m[b]).text());m=x,p&&0<x.length&&(m=x[0])}else{var S=y.map.substring(0,v-1),O=y.map.indexOf("]"),O=y.map.substring(v+1,O);null==(m=q(S,w).attr(O))&&(m=q(w).attr(O)),null==m&&(m="")}""==m&&null==(m=q(w).attr(y.map))&&(m="")}if(""==m){if(1==(m=q(y.name,w)).length)m=m.text();else{for(x=new Array,b=0;b<m.length;b++)x.push(q(m[b]).text());m=x,p&&0<x.length&&(m=x[0])}""==m&&null==(m=q(w).attr(y.name))&&(m=""),""==m&&w.nodeName&&w.nodeName==y.name&&w.firstChild&&(m=q(w.firstChild).text())}m=this.getvaluebytype(m,y),null!=y.displayname?h[y.displayname]=m:h[y.name]=m}}(r.recordendindex<=0||i<r.recordendindex)&&(n[s+u]=q.extend({},h),n[s+u].uid=f,this.originaldata[s+u]=q.extend({},n[c]),u++)}}if(r.hierarchy&&r.hierarchy.root)for(c=i;c<a;c++){var w=e[c],A=n[c];0<q(w).parent().length?(f=this.getid(r.id,q(w).parents(r.hierarchy.record+":first")),A.parentuid=f):A.parentuid=null}this.records=n,this.cachedrecords=this.records}},loadics:function(e,t){if(null!=e){var t=t.rowDelimiter||this.rowDelimiter||"\n",r=e.split(t),a=r.length,e=e.split("\r");1==a&&1<e.length&&(a=(r=e).length),this.records=new Array,this.originaldata=new Array;var n=this.records;this.recordids=new Array;function i(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/.exec(e);if(!t)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(t[1],t[2]-1,t[3],t[5]||0,t[6]||0,t[7]||0))}for(var s=0;s<a;s++){var o,l,d=r[s];"BEGIN:VEVENT"!=d?0<=d.indexOf("SUMMARY")?l.SUMMARY=d.substring(d.indexOf("SUMMARY")+8):0<=d.indexOf("LOCATION")?l.LOCATION=d.substring(d.indexOf("LOCATION")+9):0<=d.indexOf("DESCRIPTION")?l.DESCRIPTION=d.substring(d.indexOf("DESCRIPTION")+12):0<=d.indexOf("RRULE")?l.RRULE=d.substring(d.indexOf("RRULE")+6):0<=d.indexOf("EXDATE")?(o=d.substring(d.indexOf("EXDATE")+7),l.EXDATE=o):0<=d.indexOf("DTEND")?l.DTEND=i(d.substring(d.indexOf("DTEND")+6)):0<=d.indexOf("DTSTART")?l.DTSTART=i(d.substring(d.indexOf("DTSTART")+8)):0<=d.indexOf("UID")?l.uid=l.UID=d.substring(d.indexOf("UID")+4):0<=d.indexOf("STATUS")?l.STATUS=d.substring(d.indexOf("STATUS")+7):"END:VEVENT"!=d||n.push(l):l={}}this.records=n,this.cachedrecords=this.records}},loadtext:function(e,t){if(null!=e){var r=t.rowDelimiter||this.rowDelimiter||"\n",a=e.split(r),n=a.length,e=e.split("\r");1==n&&1<e.length&&(n=(a=e).length),this.totalrecords=this.virtualmode&&t.totalrecords||n,this.records=new Array,this.originaldata=new Array;var i=this.records,e=this.pageable?this.pagesize*this.pagenum:t.recordstartindex;this.recordids=new Array,t.loadallrecords&&(e=0,n=this.totalrecords);var s=0;this.virtualmode&&(s=e=this.pageable?this.pagesize*this.pagenum:t.recordstartindex,e=0,n=this.totalrecords);for(var o=t.datafields.length,l=(l=t.columnDelimiter||this.columnDelimiter)||("tab"===t.datatype||"tsv"===t.datatype?"\t":","),d=e;d<n;d++){var u=a[d],c=null;if(!this.recordids[c]){null==t.id&&(c=d,this.recordids[c]=u);for(var f,h,p={},g=a[d].split(l),y=0;y<o;y++)y>=g.length||(f=t.datafields[y],h=g[y],f.map&&q.isFunction(f.map)&&(h=f.map(u)),f.type&&(h=this.getvaluebytype(h,f)),p[f.map||f.name||y.toString()]=h,null!=t.id&&t.id===f.name&&(c=h,this.recordids[c]=u));null==c&&(c=d),i[s+d]=q.extend({},p),i[s+d].uid=c,this.originaldata[s+d]=q.extend({},i[d])}}this.records=i,this.cachedrecords=this.records}},getvaluebytype:function(e,t){var r=e;if(null==e)return e;if(q.isArray(e)&&"array"!=t.type){for(var a=0;a<e.length;a++)e[a]=this.getvaluebytype(e[a],t);return e}if("date"==t.type)if("NaN"==e)e="";else{if(e&&e instanceof Date)return e;var n,i=new Date(e);"string"==typeof e&&(!t.format||null!=(n=q.jqx.dataFormat.parsedate(e,t.format))&&(i=n)),null==(e=("NaN"==i.toString()||"Invalid Date"==i.toString())&&q.jqx.dataFormat?q.jqx.dataFormat.tryparsedate(e):i)&&(e=r)}else"float"==t.type||"number"==t.type||"decimal"==t.type?"NaN"==e?e="":(e=parseFloat(e),isNaN(e)&&(e=r)):"int"==t.type||"integer"==t.type?(e=parseInt(e),isNaN(e)&&(e=r)):"bool"!=t.type&&"boolean"!=t.type||(null!=e&&null!=e.toLowerCase&&("false"==e.toLowerCase()?e=!1:"true"==e.toLowerCase()&&(e=!0)),e=1==e||(0!=e||""===e)&&"");return e}},q.jqx.dataFormat={},q.extend(q.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(e){return"boolean"==typeof e},isObject:function(e){return e&&("object"==typeof e||q.isFunction(e))||!1},isDate:function(e){return e instanceof Date},arrayIndexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,a=e.length;r<a;r++)if(e[r]===t)return r;return-1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNull:function(e){return null===e},isUndefined:function(e){return void 0===e},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(e){return!(!this.isString(e)&&this.isValue(e))&&(!this.isValue(e)||""===(e=q.trim(e).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")))},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){return e.substr(e.length-t.length)===t},trim:function(e){return(e+"").replace(this.regexTrim,"")},isArray:function(e){return"[object Array]"===this.toString.call(e)},defaultcalendar:function(){return{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","}},expandFormat:function(e,t){t=t||"F";var r=e.patterns,e=t.length;if(1===e){if(!(r=r[t]))throw"Invalid date format string '"+t+"'.";t=r}else 2===e&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},getEra:function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var r,a=e.getTime(),n=0,i=t.length;n<i;n++)if(null===(r=t[n].start)||r<=a)return n;return 0},toUpper:function(e){return e?e.toUpperCase():""},toUpperArray:function(e){for(var t=[],r=0,a=e.length;r<a;r++)t[r]=this.toUpper(e[r]);return t},getEraYear:function(e,t,r,a){e=e.getFullYear();return!a&&t.eras&&(e-=t.eras[r].offset),e},getDayIndex:function(e,t,r){var a,n=e.days,i=e._upperDays;return i||(e._upperDays=i=[this.toUpperArray(n.names),this.toUpperArray(n.namesAbbr),this.toUpperArray(n.namesShort)]),t=t.toUpperCase(),r?-1===(a=this.arrayIndexOf(i[1],t))&&(a=this.arrayIndexOf(i[2],t)):a=this.arrayIndexOf(i[0],t),a},getMonthIndex:function(e,t,r){var a=e.months,n=e.monthsGenitive||e.months,i=e._upperMonths,s=e._upperMonthsGen;i||(e._upperMonths=i=[this.toUpperArray(a.names),this.toUpperArray(a.namesAbbr)],e._upperMonthsGen=s=[this.toUpperArray(n.names),this.toUpperArray(n.namesAbbr)]),t=this.toUpper(t);i=this.arrayIndexOf(r?i[1]:i[0],t);return i<0&&(i=this.arrayIndexOf(r?s[1]:s[0],t)),i},appendPreOrPostMatch:function(e,t){for(var r=0,a=!1,n=0,i=e.length;n<i;n++){var s=e.charAt(n);switch(s){case"'":a?t.push("'"):r++,a=!1;break;case"\\":a&&t.push("\\"),a=!a;break;default:t.push(s),a=!1}}return r},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(e,t){var r="";return t&&t.target&&(r="target="+t.target),""!=r?"<a "+r+' href="'+e+'">'+e+"</a>":'<a href="'+e+'">'+e+"</a>"},formatemail:function(e){return'<a href="mailto:'+e+'">'+e+"</a>"},formatNumber:function(e,t,r){return this.formatnumber(e,t,r)},formatnumber:function(e,t,r){if(null!=r&&null!=r&&""!=r||(r=this.defaultcalendar()),""===t||null===t)return e;this.isNumber(e)||(e*=1),1<t.length&&(s=parseInt(t.slice(1),10));var a={},t=t.charAt(0).toUpperCase();switch(a.thousandsSeparator=r.thousandsseparator,a.decimalSeparator=r.decimalseparator,t){case"D":case"d":case"F":case"f":a.decimalPlaces=s;break;case"N":case"n":a.decimalPlaces=0;break;case"C":case"c":a.decimalPlaces=s,"before"==r.currencysymbolposition?a.prefix=r.currencysymbol:a.suffix=r.currencysymbol;break;case"P":case"p":a.suffix=r.percentsymbol,a.decimalPlaces=s;break;default:throw"Bad number format specifier: "+t}if(this.isNumber(e)){var n=e<0,i=e+"",s=a.decimalSeparator||".";if(this.isNumber(a.decimalPlaces)){var o=a.decimalPlaces,t=Math.pow(10,o),l=(i=(e*t).toFixed(0)/t+"").lastIndexOf(".");if(0<o)for(l<0?l=(i+=s).length-1:"."!==s&&(i=i.replace(".",s));i.length-1-l<o;)i+="0"}else 0<(l=(i=e+"").lastIndexOf("."))&&null==o&&"."!==s&&(i=i.replace(".",s));if(a.thousandsSeparator){var d=a.thousandsSeparator;l=-1<(l=i.lastIndexOf(s))?l:i.length;for(var u=i.substring(l),c=-1,f=l;0<f;f--)++c%3==0&&f!==l&&(!n||1<f)&&(u=d+u),u=i.charAt(f-1)+u;i=u}return i=a.prefix?a.prefix+i:i,i=a.suffix?i+a.suffix:i}return e},tryparsedate:function(e,t){null!=t&&null!=t||(t=this.defaultcalendar());if(""==e)return null;if(null==e||e.substring||(e=e.toString()),null!=e&&"/Date("==e.substring(0,6)){var r=new Date(+e.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==r&&(r=null,(F=e.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/))&&(r=new Date(+F[1]+36e5*F[2]+6e4*F[3]))),null==r||"Invalid Date"==r||isNaN(r)){var a=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/.exec(e);if(a){var n=new Date(parseInt(a[1]));if(a[2]&&(b=parseInt(a[3]),"-"===a[2]&&(b=-b),x=n.getUTCMinutes(),n.setUTCMinutes(x-b)),!isNaN(n.valueOf()))return n}}return r}var i,s,o,l=t.patterns;for(i in l)if(r=this.parsedate(e,l[i],t)){if("ISO"==i)if(d=this.parsedate(e,l.ISO2,t))return d;return r}if(null!=e){for(var d=null,u=[":","/","-"],c=!0,f=0;f<u.length;f++)-1!=e.indexOf(u[f])&&(c=!1);if(c){var h=new Number(e);if(!isNaN(h))return new Date(h)}}if("string"===q.type(e)){var p=this;e=p.trim(e);var g=[":","/","-"," ",","];s=", ",o=",";var y="",m=e=e.replace(new RegExp(s,"g"),o);0<=e.indexOf(":")?(y=e.substring(e.indexOf(":")-2),y=p.trim(y),m=e.substring(0,e.indexOf(":")-2)):0<=e.toUpperCase().indexOf("AM")?(y=e.substring(e.toUpperCase().indexOf("AM")-2),y=p.trim(y),m=e.substring(0,e.toUpperCase().indexOf("AM")-2)):0<=e.toUpperCase().indexOf("PM")&&(y=e.substring(e.toUpperCase().indexOf("PM")-2),y=p.trim(y),m=e.substring(0,e.toUpperCase().indexOf("PM")-2));var v,x,b,S=new Date,O=!1;if(m){for(var w=0;w<g.length;w++)if(0<=m.indexOf(g[w])){u=m.split(g[w]);break}for(var A=new Array,_=new Array,T=new Array,N=null,j=null,w=0;w<u.length;w++){var f=u[w],E=p.parsedate(f,"d",t)||p.parsedate(f,"dd",t)||p.parsedate(f,"ddd",t)||p.parsedate(f,"dddd",t);if(E&&f.length<=2){N=w,A.push(E.getDate());break}}for(w=0;w<u.length;w++){var f=u[w],M=p.parsedate(f,"M",t)||p.parsedate(f,"MM",t)||p.parsedate(f,"MMM",t)||p.parsedate(f,"MMMM",t);if(M&&(null==N||N!=w)&&(_.push(M.getMonth()),2<f.length)){j=w;break}}for(w=0;w<u.length;w++){var f=u[w],C=p.parsedate(f,"yyyy",t);C&&(null!=N&&N==w||null!=j&&j==w||T.push(C.getFullYear()))}for(var D=new Array,I=0;I<A.length;I++)for(var F=0;F<_.length;F++)for(var U=0;U<T.length;U++){n=new Date(T[U],_[F],A[I]);T[U]<1970&&n.setFullYear(T[U]),NaN!=n.getTime()&&D.push(n)}0<D.length&&(S=D[0],O=!0)}if(y&&(v=0<=y.indexOf(":")?y.split(":"):y,h=b=x=a=0,(y=p.parsedate(y,"h:mm tt",t)||p.parsedate(y,"h:mm:ss tt",t)||p.parsedate(y,"HH:mm:ss.fff",t)||p.parsedate(y,"HH:mm:ss.ff",t)||p.parsedate(y,"HH:mm:ss.tttt",t)||p.parsedate(y,"HH:mm:ss",t)||p.parsedate(y,"HH:mm",t)||p.parsedate(y,"HH",t))&&NaN!=y.getTime()?(a=y.getHours(),x=y.getMinutes(),b=y.getSeconds(),h=y.getMilliseconds()):(1==v.length&&(a=parseInt(v[0])),2==v.length&&(a=parseInt(v[0]),x=parseInt(v[1])),3==v.length&&(a=parseInt(v[0]),x=parseInt(v[1]),0<=v[2].indexOf(".")?(b=parseInt(v[2].toString().split(".")[0]),h=parseInt(v[2].toString().split(".")[1])):b=parseInt(v[2])),4==v.length&&(a=parseInt(v[0]),x=parseInt(v[1]),b=parseInt(v[2]),h=parseInt(v[3]))),!S||isNaN(a)||isNaN(x)||isNaN(b)||isNaN(h)||(S.setHours(a,x,b,h),O=!0)),O)return S}return null},getparseregexp:function(e,t){var r=e._parseRegExp;if(r){var a=r[t];if(a)return a}else e._parseRegExp=r={};for(var n,i=this.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),s=["^"],o=[],l=0,d=0,u=this.getTokenRegExp();null!==(n=u.exec(i));){var c=i.slice(l,n.index),l=u.lastIndex;if((d+=this.appendPreOrPostMatch(c,s))%2)s.push(n[0]);else{var f,h=n[0],c=h.length;switch(h){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":f="(\\D+)";break;case"tt":case"t":f="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":f="(\\d{"+c+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":f="(\\d\\d?)";break;case"zzz":f="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":f="([+-]?\\d\\d?)";break;case"/":f="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+h+"'."}f&&s.push(f),o.push(n[0])}}this.appendPreOrPostMatch(i.slice(l),s),s.push("$");a={regExp:s.join("").replace(/\s+/g,"\\s+"),groups:o};return r[t]=a},outOfRange:function(e,t,r){return e<t||r<e},expandYear:function(e,t){var r,a=new Date,n=this.getEra(a);return t<100&&((r="string"==typeof(r=e.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(r,10):r)<(t+=(n=this.getEraYear(a,e,n))-n%100)&&(t-=100)),t},parsedate:function(e,t,r){null!=r&&null!=r||(r=this.defaultcalendar()),e=this.trim(e);var a=r,r=this.getparseregexp(a,t),n=new RegExp(r.regExp).exec(e);if(null===n)return null;for(var i,s=r.groups,o=null,l=null,d=null,u=null,c=null,f=0,h=0,p=0,g=0,y=null,m=!1,v=0,x=s.length;v<x;v++){var b=n[v+1];if(b){var S=s[v],O=S.length,w=parseInt(b,10);switch(S){case"dd":case"d":if(u=w,this.outOfRange(u,1,31))return null;break;case"MMM":case"MMMM":if(d=this.getMonthIndex(a,b,3===O),this.outOfRange(d,0,11))return null;break;case"M":case"MM":if(d=w-1,this.outOfRange(d,0,11))return null;break;case"y":case"yy":case"yyyy":if(l=O<4?this.expandYear(a,w):w,this.outOfRange(l,0,9999))return null;break;case"h":case"hh":if(12===(f=w)&&(f=0),this.outOfRange(f,0,11))return null;break;case"H":case"HH":if(f=w,this.outOfRange(f,0,23))return null;break;case"m":case"mm":if(h=w,this.outOfRange(h,0,59))return null;break;case"s":case"ss":if(p=w,this.outOfRange(p,0,59))return null;break;case"tt":case"t":if(!(m=a.PM&&(b===a.PM[0]||b===a.PM[1]||b===a.PM[2]))&&(!a.AM||b!==a.AM[0]&&b!==a.AM[1]&&b!==a.AM[2]))return null;break;case"f":case"ff":case"fff":if(g=w*Math.pow(10,3-O),this.outOfRange(g,0,999))return null;break;case"ddd":case"dddd":if(c=this.getDayIndex(a,b,3===O),this.outOfRange(c,0,6))return null;break;case"zzz":O=b.split(/:/);if(2!==O.length)return null;if(i=parseInt(O[0],10),this.outOfRange(i,-12,13))return null;O=parseInt(O[1],10);if(this.outOfRange(O,0,59))return null;y=60*i+(this.startsWith(b,"-")?-O:O);break;case"z":case"zz":if(i=w,this.outOfRange(i,-12,13))return null;y=60*i;break;case"g":case"gg":var A=b;if(!A||!a.eras)return null;A=this.trim(A.toLowerCase());for(var _=0,T=a.eras.length;_<T;_++)if(A===a.eras[_].name.toLowerCase()){o=_;break}if(null===o)return null}}}t=new Date,e=a.convert,r=t.getFullYear();if(null===l?l=r:a.eras&&(l+=a.eras[o||0].offset),null===d&&(d=0),null===u&&(u=1),e){if(null===(t=e.toGregorian(l,d,u)))return null}else{if(t.setFullYear(l,d,u),t.getDate()!==u)return null;if(null!==c&&t.getDay()!==c)return null}return m&&f<12&&(f+=12),t.setHours(f,h,p,g),null!==y&&(e=t.getMinutes()-(y+t.getTimezoneOffset()),t.setHours(t.getHours()+parseInt(e/60,10),e%60)),t},cleardatescache:function(){this.datescache=new Array},formatDate:function(e,t,r){return this.formatdate(e,t,r)},formatdate:function(e,t,r){if(null!=r&&null!=r||(r=this.defaultcalendar()),"string"==typeof e)return e;var a=e.toString()+"_"+t;if(this.datescache&&this.datescache[a]&&-1==t.indexOf("f"))return this.datescache[a];if(!t||!t.length||"i"===t){var n=this.formatDate(e,r.patterns.F,r);return n}var i=r.eras,s="s"===t;t=this.expandFormat(r,t),n=[];var o,l,d=["0","00","000"],u=0,c=this.getTokenRegExp();function f(e,t){var r,e=e+"";return 1<t&&e.length<t?(r=d[t-2]+e).substr(r.length-t,t):r=e}function h(e,t){if(l)return l[t];if(null!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}for(;;){var p=c.lastIndex,g=c.exec(t),y=t.slice(p,g?g.index:t.length);if(u+=this.appendPreOrPostMatch(y,n),!g)break;if(u%2)n.push(g[0]);else{p=g[0],y=p.length;switch(p){case"ddd":case"dddd":g=3===y?r.days.namesAbbr:r.days.names;n.push(g[e.getDay()]);break;case"d":case"dd":n.push(f(h(e,2),y));break;case"MMM":case"MMMM":var m=h(e,1);n.push(r.months[3===y?"namesAbbr":"names"][m]);break;case"M":case"MM":n.push(f(h(e,1)+1,y));break;case"y":case"yy":case"yyyy":m=this.getEraYear(e,r,this.getEra(e,i),s),y<4&&(m%=100),n.push(f(m,y));break;case"h":case"hh":0===(o=e.getHours()%12)&&(o=12),n.push(f(o,y));break;case"H":case"HH":n.push(f(e.getHours(),y));break;case"m":case"mm":n.push(f(e.getMinutes(),y));break;case"s":case"ss":n.push(f(e.getSeconds(),y));break;case"t":case"tt":m=e.getHours()<12?r.AM?r.AM[0]:" ":r.PM?r.PM[0]:" ",n.push(1===y?m.charAt(0):m);break;case"f":case"ff":case"fff":n.push(f(e.getMilliseconds(),3).substr(0,y));break;case"z":case"zz":o=e.getTimezoneOffset()/60,n.push((o<=0?"+":"-")+f(Math.floor(Math.abs(o)),y));break;case"zzz":o=e.getTimezoneOffset()/60,n.push((o<=0?"+":"-")+f(Math.floor(Math.abs(o)),2)+":"+f(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":r.eras&&n.push(r.eras[this.getEra(e,i)].name);break;case"/":n.push(r["/"]);break;default:throw"Invalid date format pattern '"+p+"'."}}}var v=n.join("");return this.datescache||(this.datescache=new Array),this.datescache[a]=v}}),q.jqx.data={};var O,t,w=/#.*$/,A=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,_=/^(?:GET|HEAD)$/,T=/^\/\//,N=/\?/,j=/([?&])_=[^&]*/,E=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,M=/\s+/,C=(q.fn.load,{}),D={},I=["*/"]+["*"];try{t=location.href}catch(e){(t=document.createElement("a")).href="",t=t.href}function e(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var r,a,n=e.toLowerCase().split(M),i=0,s=n.length;if(q.isFunction(t))for(;i<s;i++)r=n[i],(a=/^\+/.test(r))&&(r=r.substr(1)||"*"),(o[r]=o[r]||[])[a?"unshift":"push"](t)}}function F(e,t,r,a,n,i){(i=i||{})[n=n||t.dataTypes[0]]=!0;for(var s,o=e[n],l=0,d=o?o.length:0,u=e===C;l<d&&(u||!s);l++)"string"==typeof(s=o[l](t,r,a))&&(s=!u||i[s]?void 0:(t.dataTypes.unshift(s),F(e,t,r,a,s,i)));return!u&&s||i["*"]||(s=F(e,t,r,a,"*",i)),s}function r(e,t){var r,a,n=q.jqx.data.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((n[r]?e:a=a||{})[r]=t[r]);a&&q.extend(!0,e,a)}O=E.exec(t.toLowerCase())||[],q.extend(q.jqx.data,{ajaxSetup:function(e,t){return t?r(e,q.jqx.data.ajaxSettings):(t=e,e=q.jqx.data.ajaxSettings),r(e,t),e},ajaxSettings:{url:t,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(O[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":I},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":q.parseJSON,"text xml":q.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:e(C),ajaxTransport:e(D),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var d,u,r,c,f,h,a,n,p=q.jqx.data.ajaxSetup({},t),g=p.context||p,y=g!==p&&(g.nodeType||g instanceof q)?q(g):q.event,m=q.Deferred(),v=q.Callbacks("once memory"),x=p.statusCode||{},i={},s={},b=0,o="canceled",S={readyState:0,setRequestHeader:function(e,t){var r;return b||(r=e.toLowerCase(),e=s[r]=s[r]||e,i[e]=t),this},getAllResponseHeaders:function(){return 2===b?u:null},getResponseHeader:function(e){var t;if(2===b){if(!r)for(r={};t=A.exec(u);)r[t[1].toLowerCase()]=t[2];t=r[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return b||(p.mimeType=e),this},abort:function(e){return e=e||o,c&&c.abort(e),l(0,e),this}};function l(e,t,r,a){var n,i,s,o,l=t;2!==b&&(b=2,f&&clearTimeout(f),c=void 0,u=a||"",S.readyState=0<e?4:0,r&&(o=function(e,t,r){var a,n,i,s,o=e.contents,l=e.dataTypes,d=e.responseFields;for(n in d)n in r&&(t[d[n]]=r[n]);for(;"*"===l[0];)l.shift(),void 0===a&&(a=e.mimeType||t.getResponseHeader("content-type"));if(a)for(n in o)if(o[n]&&o[n].test(a)){l.unshift(n);break}if(l[0]in r)i=l[0];else{for(n in r){if(!l[0]||e.converters[n+" "+l[0]]){i=n;break}s=s||n}i=i||s}if(i)return i!==l[0]&&l.unshift(i),r[i]}(p,S,r)),200<=e&&e<300||304===e?(p.ifModified&&((r=S.getResponseHeader("Last-Modified"))&&(q.lastModified[d]=r),(r=S.getResponseHeader("Etag"))&&(q.etag[d]=r)),n=304===e?(l="notmodified",!0):(l=(n=function(e,t){var r,a,n,i,s=e.dataTypes.slice(),o=s[0],l={},d=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(s[1])for(r in e.converters)l[r.toLowerCase()]=e.converters[r];for(;n=s[++d];)if("*"!==n){if("*"!==o&&o!==n){if(!(r=l[o+" "+n]||l["* "+n]))for(a in l)if(i=a.split(" "),i[1]===n&&(r=l[o+" "+i[0]]||l["* "+i[0]])){!0===r?r=l[a]:!0!==l[a]&&(n=i[0],s.splice(d--,0,n));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+o+" to "+n}}}o=n}return{state:"success",data:t}}(p,o)).state,i=n.data,!(s=n.error))):(s=l)&&!e||(l="error",e<0&&(e=0)),S.status=e,S.statusText=(t||l)+"",n?m.resolveWith(g,[i,l,S]):m.rejectWith(g,[S,l,s]),S.statusCode(x),x=void 0,h&&y.trigger("ajax"+(n?"Success":"Error"),[S,p,n?i:s]),v.fireWith(g,[S,l]),h&&(y.trigger("ajaxComplete",[S,p]),--q.active||q.event.trigger("ajaxStop")))}if(m.promise(S),S.success=S.done,S.error=S.fail,S.complete=v.add,S.statusCode=function(e){if(e)if(b<2)for(var t in e)x[t]=[x[t],e[t]];else t=e[S.status],S.always(t);return this},p.url=((e||p.url)+"").replace(w,"").replace(T,O[1]+"//"),p.dataTypes=q.trim(p.dataType||"*").toLowerCase().split(M),null==p.crossDomain&&(n=E.exec(p.url.toLowerCase()),p.crossDomain=!(!n||n[1]===O[1]&&n[2]===O[2]&&(n[3]||("http:"===n[1]?80:443))==(O[3]||("http:"===O[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=q.param(p.data,p.traditional)),F(C,p,t,S),2===b)return S;for(a in h=p.global,p.type=p.type.toUpperCase(),p.hasContent=!_.test(p.type),h&&0==q.active++&&q.event.trigger("ajaxStart"),p.hasContent||(p.data&&(p.url+=(N.test(p.url)?"&":"?")+p.data,delete p.data),d=p.url,!1===p.cache&&(e=(new Date).getTime(),n=p.url.replace(j,"$1_="+e),p.url=n+(n===p.url?(N.test(p.url)?"&":"?")+"_="+e:""))),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&S.setRequestHeader("Content-Type",p.contentType),p.ifModified&&(d=d||p.url,q.lastModified[d]&&S.setRequestHeader("If-Modified-Since",q.lastModified[d]),q.etag[d]&&S.setRequestHeader("If-None-Match",q.etag[d])),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+I+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(a,p.headers[a]);if(p.beforeSend&&(!1===p.beforeSend.call(g,S,p)||2===b))return S.abort();for(a in o="abort",{success:1,error:1,complete:1})S[a](p[a]);if(c=F(D,p,t,S)){S.readyState=1,h&&y.trigger("ajaxSend",[S,p]),p.async&&0<p.timeout&&(f=setTimeout(function(){S.abort("timeout")},p.timeout));try{b=1,c.send(i,l)}catch(e){if(!(b<2))throw e;l(-1,e)}}else l(-1,"No Transport");return S},active:0,lastModified:{},etag:{}});var c=[],f=/\?/,h=/(=)\?(?=&|$)|\?\?/,a=(new Date).getTime();q.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=c.pop()||q.expando+"_"+a++;return this[e]=!0,e}}),q.jqx.data.ajaxPrefilter("json jsonp",function(e,t,r){var a,n,i,s=e.data,o=e.url,l=!1!==e.jsonp,d=l&&h.test(o),u=l&&!d&&"string"==typeof s&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&h.test(s);if("jsonp"===e.dataTypes[0]||d||u)return a=e.jsonpCallback=q.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,n=window[a],d?e.url=o.replace(h,"$1"+a):u?e.data=s.replace(h,"$1"+a):l&&(e.url+=(f.test(o)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return i||q.error(a+" was not called"),i[0]},e.dataTypes[0]="json",window[a]=function(){i=arguments},r.always(function(){window[a]=n,e[a]&&(e.jsonpCallback=t.jsonpCallback,c.push(a)),i&&q.isFunction(n)&&n(i[0]),i=n=void 0}),"script"}),q.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return q.globalEval(e),e}}}),q.jqx.data.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),q.jqx.data.ajaxTransport("script",function(t){if(t.crossDomain){var a,n=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(e,r){(a=document.createElement("script")).async="async",t.scriptCharset&&(a.charset=t.scriptCharset),a.src=t.url,a.onload=a.onreadystatechange=function(e,t){!t&&a.readyState&&!/loaded|complete/.test(a.readyState)||(a.onload=a.onreadystatechange=null,n&&a.parentNode&&n.removeChild(a),a=void 0,t||r(200,"success"))},n.insertBefore(a,n.firstChild)},abort:function(){a&&a.onload(0,1)}}}});var p,n,g=!!window.ActiveXObject&&function(){for(var e in p)p[e](0,1)},i=0;function s(){try{return new window.XMLHttpRequest}catch(e){}}q.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&s()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:s,n=q.jqx.data.ajaxSettings.xhr(),q.extend(q.support,{ajax:!!n,cors:!!n&&"withCredentials"in n}),q.support||(q.support={ajax:!0}),q.support.ajax&&q.jqx.data.ajaxTransport(function(u){var c;if(!u.crossDomain||q.support.cors)return{send:function(e,o){var l,t,d=u.xhr();if(u.username?d.open(u.type,u.url,u.async,u.username,u.password):d.open(u.type,u.url,u.async),u.xhrFields)for(t in u.xhrFields)d[t]=u.xhrFields[t];u.mimeType&&d.overrideMimeType&&d.overrideMimeType(u.mimeType),u.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(t in e)d.setRequestHeader(t,e[t])}catch(e){}d.send(u.hasContent&&u.data||null),c=function(e,t){var r,a,n,i,s;try{if(c&&(t||4===d.readyState))if(c=void 0,l&&(d.onreadystatechange=function(){},g&&delete p[l]),t)4!==d.readyState&&d.abort();else{r=d.status,n=d.getAllResponseHeaders(),i={},(s=d.responseXML)&&s.documentElement&&(i.xml=s);try{i.text=d.responseText}catch(e){}try{a=d.statusText}catch(e){a=""}r||!u.isLocal||u.crossDomain?1223===r&&(r=204):r=i.text?200:404}}catch(e){t||o(-1,e)}i&&o(r,a,i,n)},u.async?4===d.readyState?setTimeout(c,0):(l=++i,g&&(p||(p={},q(window).unload(g)),p[l]=c),d.onreadystatechange=c):c()},abort:function(){c&&c(0,1)}}}),q.jqx.filter=function(){this.operator="and";var r=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],a=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],n=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],i=["EQUAL","NOT_EQUAL"],s=new Array,o=new Array;this.evaluate=function(e){for(var t=!0,r=0;r<s.length;r++)var a=s[r].evaluate(e),t=0==r?a:1==o[r]||"or"==o[r]?t||a:t&&a;return t},this.getfilterscount=function(){return s.length},this.setoperatorsbyfiltertype=function(e,t){switch(e){case"numericfilter":a=t;break;case"stringfilter":r=t;break;case"datefilter":n=t;break;case"booleanfilter":i=t}},this.getoperatorsbyfiltertype=function(e){var t=new Array;switch(e){case"numericfilter":t=a.slice(0);break;case"stringfilter":t=r.slice(0);break;case"datefilter":t=n.slice(0);break;case"booleanfilter":t=i.slice(0)}return t};function l(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+"-"+e()+"-"+e()}this.createfilter=function(e,t,r,a,n,i){if(null==e||null==e)return null;switch(e){case"numericfilter":return new c(t,r.toUpperCase());case"stringfilter":return new d(t,r.toUpperCase());case"datefilter":return new f(t,r.toUpperCase(),n,i);case"booleanfilter":return new u(t,r.toUpperCase());case"custom":return new h(t,r.toUpperCase(),a)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var e=new Array,t=0;t<s.length;t++){var r={value:s[t].filtervalue,condition:s[t].comparisonoperator,operator:o[t],type:s[t].type};s[t].data&&(r.id=s[t].data),e[t]=r}return e},this.addfilter=function(e,t){(s[s.length]=t).key=l(),o[o.length]=e},this.removefilter=function(e){for(var t=0;t<s.length;t++)if(s[t].key==e.key){s.splice(t,1),o.splice(t,1);break}},this.getoperatorat=function(e){return null==e||null==e||e<0||e>s.length?null:o[e]},this.setoperatorat=function(e,t){return null==e||null==e||e<0||e>s.length?null:void(o[t]=t)},this.getfilterat=function(e){return null==e||null==e||e<0||e>s.length?null:s[e]},this.setfilterat=function(e,t){return null==e||null==e||e<0||e>s.length?null:(t.key=l(),void(s[e]=t))},this.clear=function(){s=new Array,o=new Array};var d=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="stringfilter",this.evaluate=function(e){var t=this.filtervalue,r=this.comparisonoperator;if(null==e||null==e||""==e){if("NULL"==r)return!0;if("NOT_NULL"==r)return!1;if("EQUAL"==r&&e==t)return!0;if("NOT_EQUAL"==r&&e!=t)return!0;if("EMPTY"!=r)return!1;if(""==e)return!0}var a="";try{a=e.toString()}catch(e){return!0}function n(e,t){switch(r){case"EQUAL":return q.jqx.string.equalsIgnoreCase(e,t);case"EQUAL_CASE_SENSITIVE":return q.jqx.string.equals(e,t);case"NOT_EQUAL":return!q.jqx.string.equalsIgnoreCase(e,t);case"NOT_EQUAL_CASE_SENSITIVE":return!q.jqx.string.equals(e,t);case"CONTAINS":return q.jqx.string.containsIgnoreCase(e,t);case"CONTAINS_CASE_SENSITIVE":return q.jqx.string.contains(e,t);case"DOES_NOT_CONTAIN":return!q.jqx.string.containsIgnoreCase(e,t);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!q.jqx.string.contains(e,t);case"EMPTY":return""==e;case"NOT_EMPTY":return""!=e;case"NOT_NULL":return null!=e;case"STARTS_WITH":return q.jqx.string.startsWithIgnoreCase(e,t);case"ENDS_WITH":return q.jqx.string.endsWithIgnoreCase(e,t);case"ENDS_WITH_CASE_SENSITIVE":return q.jqx.string.endsWith(e,t);case"STARTS_WITH_CASE_SENSITIVE":return q.jqx.string.startsWith(e,t);default:return!1}}var i=new Array;if(t&&t.indexO&&"NOT_EQUAL"!==r&&(0<=t.indexOf("|")||0<=t.indexOf(" AND ")||0<=t.indexOf(" OR ")||0<=t.indexOf(" and ")||0<=t.indexOf(" or "))){if(g=n(a,t))return g;var s=0<=t.indexOf(" AND ")?t.split(" AND "):new Array,o=0<=t.indexOf(" OR ")?t.split(" OR "):new Array,l=0<=t.indexOf(" and ")?t.split(" and "):new Array,d=0<=t.indexOf(" or ")?t.split(" or "):new Array,u=0<=t.indexOf("|")?t.split("|"):new Array;if(0<u.length)for(var c=0;c<u.length;c++)u[c]=q.trim(u[c]);var f=0<=t.indexOf(" ")?t.split(" "):new Array;if(0<f.length)for(c=0;c<f.length;c++)f[c]=q.trim(f[c]);if(s=(s=s.concat(f)).concat(l),o=(o=o.concat(u)).concat(d),0<s.length)for(c=0;c<s.length;c++)0<=!s[c].indexOf(" OR ")&&i.push(s[c]);if(0<o.length)for(c=0;c<o.length;c++)0<=!o[c].indexOf(" AND ")&&i.push(o[c]);for(var h=void 0,p=0;p<i.length;p++)var g=n(a,e=i[p]),y=p<s.length?"and":"or",h=null==h?g:"or"==y?h||g:h&&g;return h}return n(a,t)}},u=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="booleanfilter",this.evaluate=function(e){var t=this.filtervalue,r=this.comparisonoperator;if(null==e||null==e)return"NULL"==r;switch(r){case"EQUAL":return e==t||e.toString()==t.toString();case"NOT_EQUAL":return e!=t&&e.toString()!=t.toString();default:return!1}}},c=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="numericfilter",this.evaluate=function(t){var e=this.filtervalue,r=this.comparisonoperator;if(null==t||""===t){if("NOT_NULL"==r)return!1;if("NULL"==r)return!0;switch(r){case"EQUAL":return t==e;case"NOT_EQUAL":return t!=e}return!1}if("NULL"==r)return!1;if("NOT_NULL"==r)return!0;var a=t;try{a=parseFloat(a)}catch(e){if(""!=t.toString())return!1}function n(e,t){switch(r){case"EQUAL":return e==t;case"NOT_EQUAL":return e!=t;case"GREATER_THAN":return t<e;case"GREATER_THAN_OR_EQUAL":return t<=e;case"LESS_THAN":return e<t;case"LESS_THAN_OR_EQUAL":return e<=t;case"STARTS_WITH":return q.jqx.string.startsWithIgnoreCase(e.toString(),t.toString());case"ENDS_WITH":return q.jqx.string.endsWithIgnoreCase(e.toString(),t.toString());case"ENDS_WITH_CASE_SENSITIVE":return q.jqx.string.endsWith(e.toString(),t.toString());case"STARTS_WITH_CASE_SENSITIVE":return q.jqx.string.startsWith(e.toString(),t.toString());case"CONTAINS":return q.jqx.string.containsIgnoreCase(e.toString(),t.toString());case"CONTAINS_CASE_SENSITIVE":return q.jqx.string.contains(e.toString(),t.toString());case"DOES_NOT_CONTAIN":return!q.jqx.string.containsIgnoreCase(e.toString(),t.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!q.jqx.string.contains(e.toString(),t.toString());default:return!0}}var i=new Array;if(e&&e.indexOf&&(e=e.replace("$","")),e&&e.indexOf&&(0<=e.indexOf("|")||0<=e.indexOf(" AND ")||0<=e.indexOf(" OR ")||0<=e.indexOf(" and ")||0<=e.indexOf(" or "))){var s=n(a,e);if(s)return s;var o=0<=(e=e.toString()).indexOf(" AND ")?e.split(" AND "):new Array,l=0<=e.indexOf(" OR ")?e.split(" OR "):new Array,d=0<=e.indexOf(" and ")?e.split(" and "):new Array,u=0<=e.indexOf(" or ")?e.split(" or "):new Array,o=o.concat(d),l=l.concat(u),c=0<=e.indexOf("|")?e.split("|"):new Array;if(0<c.length)for(var f=0;f<c.length;f++)c[f]=q.trim(c[f]);if(l=l.concat(c),0<o.length)for(f=0;f<o.length;f++)0<=!o[f].indexOf(" OR ")&&i.push(o[f]);if(0<l.length)for(f=0;f<l.length;f++)0<=!l[f].indexOf(" AND ")&&i.push(l[f]);for(var h=void 0,p=0;p<i.length;p++){(t=i[p])&&t.indexOf&&0<=t.indexOf("..")?2==(g=t.toString().split("..")).length&&(s=a>=g[0]&&a<=g[1]):s=n(a,t);var g=p<o.length?"and":"or",h=null==h?s:"or"==g?h||s:h&&s}return h}return e&&e.indexOf&&0<=e.indexOf("..")&&2==(i=e.toString().split("..")).length?a>=i[0]&&a<=i[1]:n(a,e)}},f=function(e,t,b,S){this.filtervalue=e,this.type="datefilter";var r,a,O=this;null!=b&&null!=S?null!=(r=q.jqx.dataFormat.parsedate(e,b,S))?this.filterdate=r:null!=(r=q.jqx.dataFormat.tryparsedate(e,S))&&(this.filterdate=r):"NaN"==(a=new Date(e)).toString()||"Invalid Date"==a.toString()?this.filterdate=q.jqx.dataFormat.tryparsedate(e):this.filterdate=a,this.filterdate||("NaN"==(a=new Date(e)).toString()||"Invalid Date"==a.toString()?this.filterdate=q.jqx.dataFormat.tryparsedate(e):this.filterdate=a),this.comparisonoperator=t,this.evaluate=function(t){var e=this.filtervalue,r=this.comparisonoperator;if(null==t||null==t||""==t){if("NOT_NULL"==r)return!1;if("NULL"==r)return!0;switch(r){case"EQUAL":return t==e;case"NOT_EQUAL":return t!=e}return!1}if("NULL"==r)return!1;if("NOT_NULL"==r)return!0;(n=new Date).setFullYear(1900,0,1),n.setHours(12,0,0,0);try{var a=new Date(t),n=t="NaN"==a.toString()||"Invalid Date"==a.toString()?q.jqx.dataFormat.tryparsedate(t):a,i=!1;null!=b&&null!=S&&(0<=b.indexOf("t")||0<=b.indexOf("T")||0<=b.indexOf(":")||0<=b.indexOf("f"))&&(i=!0,e&&-1==e.toString().indexOf(":")&&null!=(y=q.jqx.dataFormat.tryparsedate(e.toString()+":00",S))&&(O.filterdate=y)),null!=b&&(0<=b.indexOf("hh")||0<=b.indexOf("t"))&&(i=!0),i||(n.setHours(0),n.setMinutes(0),n.setSeconds(0))}catch(e){if(""!=t.toString())return!1}if(null!=O.filterdate)e=O.filterdate;else if(e&&e.indexOf&&(-1!=e.indexOf(":")||!isNaN(parseInt(e)))){var s=new Date(n);s.setHours(12,0,0,0);for(var o=e.split(":"),l=0;l<o.length;l++)0==l&&s.setHours(o[l]),1==l&&s.setMinutes(o[l]),2==l&&s.setSeconds(o[l]);e=s}i&&e&&e.setFullYear&&n&&n.getFullYear&&-1==b.indexOf("d")&&-1==b.indexOf("M")&&-1==b.indexOf("y")&&e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate());function d(e,t){switch(null==e&&(e=""),r){case"EQUAL":return e.toString()==t.toString();case"NOT_EQUAL":return e.toString()!=t.toString();case"GREATER_THAN":return t<e;case"GREATER_THAN_OR_EQUAL":return t<=e;case"LESS_THAN":return e<t;case"LESS_THAN_OR_EQUAL":return e<=t;case"STARTS_WITH":return q.jqx.string.startsWithIgnoreCase(e.toString(),t.toString());case"ENDS_WITH":return q.jqx.string.endsWithIgnoreCase(e.toString(),t.toString());case"ENDS_WITH_CASE_SENSITIVE":return q.jqx.string.endsWith(e.toString(),t.toString());case"STARTS_WITH_CASE_SENSITIVE":return q.jqx.string.startsWith(e.toString(),t.toString());case"CONTAINS":return q.jqx.string.containsIgnoreCase(e.toString(),t.toString());case"CONTAINS_CASE_SENSITIVE":return q.jqx.string.contains(e.toString(),t.toString());case"DOES_NOT_CONTAIN":return!q.jqx.string.containsIgnoreCase(e.toString(),t.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!q.jqx.string.contains(e.toString(),t.toString());default:return!0}}var u=new Array;if(e&&e.indexOf&&(0<=e.indexOf("|")||0<=e.indexOf(" AND ")||0<=e.indexOf(" OR ")||0<=e.indexOf(" and ")||0<=e.indexOf(" or "))){if(y=d(n,e))return y;var c=0<=e.indexOf(" AND ")?e.split(" AND "):new Array,f=0<=e.indexOf(" OR ")?e.split(" OR "):new Array,h=0<=e.indexOf(" and ")?e.split(" and "):new Array,p=0<=e.indexOf(" or ")?e.split(" or "):new Array,c=c.concat(h),f=f.concat(p),g=0<=e.indexOf("|")?e.split("|"):new Array;if(0<g.length)for(l=0;l<g.length;l++)g[l]=q.trim(g[l]);if(f=f.concat(g),0<c.length)for(l=0;l<c.length;l++)0<=!c[l].indexOf(" OR ")&&u.push(c[l]);if(0<f.length)for(l=0;l<f.length;l++)0<=!f[l].indexOf(" AND ")&&u.push(f[l]);for(var y,m=void 0,v=0;v<u.length;v++){(t=u[v])&&t.indexOf&&0<=t.indexOf("..")?2==(x=t.toString().split("..")).length&&(y=n>=x[0]&&n<=x[1]):y=d(n,t);var x=v<c.length?"and":"or",m=null==m?y:"or"==x?m||y:m&&y}return m}return e&&e.indexOf&&0<=e.indexOf("..")&&2==(u=e.toString().split("..")).length?n>=u[0]&&n<=u[1]:d(n,e)}},h=function(e,t,r){this.filtervalue=e,this.comparisonoperator=t,this.evaluate=function(e,t){return r(this.filtervalue,e,this.comparisonoperator)}}}}(jqxBaseFramework);