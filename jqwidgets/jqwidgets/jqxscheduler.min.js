!function(Be){Be.jqx.scheduler||(Be.jqx.scheduler={}),Be.jqx.jqxWidget("jqxScheduler","",{}),Be.extend(Be.jqx._jqxScheduler.prototype,{defineInstance:function(){var e={altRows:!1,autoShowLoadElement:!0,columnsHeight:30,columns:[],columnGroups:null,dataview:null,disabled:!1,enableHover:!0,appointmentOpacity:.8,headerZIndex:235,height:600,timeRulerWidth:60,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",localization:null,ready:null,renderToolBar:null,renderAppointment:null,rendered:null,rendering:null,rtl:!1,showToolbar:!0,showLegend:!1,legendPosition:"bottom",legendHeight:34,rowsHeight:27,touchRowsHeight:36,appointmentsMinHeight:18,touchAppointmentsMinHeight:27,appointmentsRenderMode:"default",serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:Be.jqx.utilities.scrollBarSize,touchScrollBarSize:Be.jqx.utilities.touchScrollBarSize,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,showAllDayRow:!0,changedAppointments:new Array,renderMode:"simple",views:new Array,view:0,min:new Be.jqx.date(0),max:new Be.jqx.date(9999,12,31),date:new Be.jqx.date("todayDate"),colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF","#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8","#E8601A","#FF9639","#F5BD6A","#599994","#115D6E","#D02841","#FF7C41","#FFC051","#5B5F4D","#364651","#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00","#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B","#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63","#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6","#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F","#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825","#993144","#FFA257","#CCA56A","#ADA072","#949681","#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932","#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54","#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3","#444546","#FFBB6E","#F28D00","#D94F00","#7F203B","#583C39","#674E49","#948658","#F0E99A","#564E49","#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17","#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5","#844341","#D5CC92","#BBA146","#897B26","#55591C","#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472","#96003A","#FF7347","#FFBC7B","#FF4154","#642223","#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E","#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7","#7B1A25","#BF5322","#9DA860","#CEA457","#B67818","#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46","#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800","#FF6800","#A0A700","#FF8D00","#678900","#0069A5"],colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],resources:null,contextMenu:!0,contextMenuOpen:null,contextMenuClose:null,contextMenuItemClick:null,contextMenuCreate:null,timeZone:null,statuses:{free:"white",tentative:"tentative",busy:"transparent",outOfOffice:"#800080"},appointmentDataFields:{from:"from",to:"to",id:"id",calendarId:"calendarId",description:"description",location:"location",subject:"subject",background:"background",color:"color",borderColor:"borderColor",style:"style",recurrencePattern:"recurrencePattern",recurrenceException:"recurrenceException",draggable:"draggable",resizable:"resizable",resourceId:"resourceId",status:"status",tooltip:"tooltip",hidden:"hidden",allDay:"allDay",timeZone:"timeZone",ownerId:"ownerId"},appointmentTooltips:!0,tableColumns:1,tableRows:1,dayNameFormat:"full",touchDayNameFormat:"abbr",toolBarRangeFormat:"dd MMMM yyyy",toolBarRangeFormatAbbr:"dd MM yyyy",columnRenderer:null,exportSettings:{serverURL:null,characterSet:null,fileName:"jqxScheduler",dateTimeFormatString:"S",resourcesInMultipleICSFiles:!1,ICSXWRCALNAME:"jqxScheduler",ICSXWRCALDESC:"jqxScheduler Description"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},editDialogDateTimeFormatString:"dd/MM/yyyy hh:mm tt",editDialogDateFormatString:"dd/MM/yyyy",editDialogOpen:null,editDialogCreate:null,editDialogKeyDown:null,editDialogClose:null,editDialog:!0,toolbarHeight:54,tableZIndex:469,_updating:!1,touchMode:"auto",width:800,that:this,beginDrag:null,endDrag:null,dragging:null,timeZones:[{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Rome",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Budapest, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}]};return this===Be.jqx._jqxScheduler.prototype||(Be.extend(!0,this,e),this.that=this),e},_applyThemeSettings:function(){var e=this,t=window.getComputedStyle(e.element),i=t.getPropertyValue("--jqx-grid-row-height"),o=t.getPropertyValue("--jqx-grid-column-height");t.getPropertyValue("--jqx-scrollbar-size");i&&(e.rowsHeight=parseInt(i)),o&&(e.columnsHeight=parseInt(o))},createInstance:function(e){var n=this;n._views=new Array,n._view=n.view,this._applyThemeSettings();for(var t=0;t<n.views.length;t++)"string"===Be.type(n.views[t])?n._views.push({type:n.views[t]}):n._views.push(n.views[t]);for(t=0;t<n._views.length;t++)if(n._views[t].type==n.view){n._view=t;break}15!=Be.jqx.utilities.scrollBarSize&&(n.scrollBarSize=Be.jqx.utilities.scrollBarSize),n.source&&!n.source.dataBind&&(n.source=new Be.jqx.dataAdapter(n.source));var i=n.source._source.datafields;i&&0<i.length&&(n._camelCase=void 0!==n.source._source.dataFields,n.selectionMode=n.selectionMode.toLowerCase()),null==n.host.attr("tabindex")&&n.host.attr("tabindex","0"),n.host.attr("role","grid"),n.host.attr("align","left"),n.host.addClass(n.toTP("jqx-grid")),n.host.addClass(n.toTP("jqx-scheduler")),n.host.addClass(n.toTP("jqx-reset")),n.host.addClass(n.toTP("jqx-rc-all")),n.host.addClass(n.toTP("jqx-widget")),n.host.addClass(n.toTP("jqx-widget-content jqx-disableselect")),n._testmodules()||(n.overlay=Be("<div style='z-index: 999; position:absolute;'></div>"),n.overlay.hide(),n.overlay.appendTo(n.host),n.render(!0),Be.jqx.utilities.resize(n.host,function(){var e=Be(window).width(),t=Be(window).height();n._hostWidth=null,n._hostHeight=null;var i=n.host.width(),o=n.host.height();n._hostWidth=i,n._hostHeight=o,n._lastHostWidth==i&&n._lastHostHeight==o||n._updatesize(n._lastHostWidth!=i,n._lastHostHeight!=o),n._lastWidth=e,n._lastHeight=t,n._lastHostWidth=i,n._lastHostHeight=o}),n.createEditRecurrenceDialog())},createEditRecurrenceDialog:function(){var t=this;t.editRecurrenceDialog=null;var i=Be("<div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogTitleString+"</div><div><div>"+t.schedulerLocalization.editRecurringAppointmentDialogContentString+"</div><div style='position: absolute; white-space:nowrap; text-overflow: ellipsis; left:0px; width:100%; bottom: 0px;'><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"' id='editRecurringAppointmentOccurrence."+t.element.id+"' style='white-space:nowrap; text-overflow: ellipsis; border-left-width: 0px;  border-bottom-width: 0px; border-radius:0px; width:50%;'>"+t.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"</button><button title='"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"' id='editRecurringAppointmentSeries."+t.element.id+"' style=' white-space:nowrap; text-overflow: ellipsis; border-bottom-width: 0px;  border-left-width: 0px; border-right-width:0px; width:50%; border-radius:0px;'>"+t.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"</button></div></div></div>");t.editRecurrenceDialog=i,Be(i).jqxWindow({rtl:t.rtl,autoFocus:!1,animationType:"none",autoOpen:!1,theme:t.theme,minWidth:300,minHeight:110,resizable:!1});var e=i.find("button");e.jqxButton({theme:t.theme,width:"50%"});var o=!1;e.mousedown(function(){o=!0,0<=this.id.indexOf("editRecurringAppointmentOccurrence")?t.editSeries(!1):t.editSeries(!0),Be(i).jqxWindow("close")}),this.addHandler(Be(i),"open",function(e){t._raiseEvent("editRecurrenceDialogOpen",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})}),t.addHandler(Be(i),"keydown",function(e){if(13==e.keyCode&&Be(document.activeElement).ischildof(Be(i))&&"button"==document.activeElement.nodeName.toLowerCase())return Be(document.activeElement).trigger("mousedown"),Be(document.activeElement).trigger("mouseup"),!0}),this.addHandler(Be(i),"close",function(e){return o?(o=!1,t.overlay.hide(),t.focus(),void t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null})):(t._removeFeedbackAndStopResize(),t.overlay.hide(),t.focus(),t._raiseEvent("editRecurrenceDialogClose",{dialog:i,appointment:t.selectedJQXAppointment?t.selectedJQXAppointment.boundAppointment:null}),!1)}),t.editRecurrenceDialog=i},getViewStart:function(){var e=this.getVisibleDate(),t=this._views[this._view].type;this._views[this._view];switch(t){case"dayView":case"timelineDayView":return e}return this.getFirstDayOfWeek(e)},getViewEnd:function(){var e=this.getViewStart(),t=1,i=this._views[this._view].type,o=this._views[this._view];switch(i){case"dayView":t=1;break;case"timelineDayView":t=1,o.days&&(t=o.days);break;case"weekView":case"timelineWeekView":t=7,o.days&&(t=o.days);break;case"monthView":t=41;break;case"timelineMonthView":t=41,o.days&&(t=o.days);break;case"agendaView":t=7,o.days&&(t=o.days)}return e.addDays(t)},getFirstDayOfWeek:function(e){var t=e,i=this.schedulerLocalization.firstDay;for((i<0||6<i)&&(i=6);t.dayOfWeek()!=i;)t.addDays(-1,!1);return t},getVisibleDate:function(){(t=this.date)<this.min&&(t=this.min),t>this.max&&(t=this.max);var e=this._views[this._view].type,t=(this._views[this._view],t.clearTime());switch(e){case"dayView":case"weekView":case"timelineDayView":case"timelineWeekView":case"agendaView":return t}e=t.day();return t=t.addDays(1-e)},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=Be('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var e=Be('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.schedulerLocalization.loadString+"</span></div></div>");e.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),e.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(e),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url&&(e=!1,"auto"!==this.height&&null!==this.height&&!this.autoheight||999999!=this.maxHeight||(e=!0),e?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height)),e=!1,"auto"!==this.width&&null!==this.width&&!this.autoWidth||(e=!0),e?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width)))},_measureElement:function(e){var t=Be("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");t.addClass(this.toTP("jqx-widget")),Be(document.body).append(t),"cell"==e?this._cellheight=t.height():this._columnheight=t.height(),t.remove()},_testmodules:function(){function e(){""!=t.length&&(t+=",")}var t="";this.host.jqxScrollBar||(e(),t+=" jqxscrollbar.js"),this.host.jqxButton||(e(),t+=" jqxbuttons.js"),Be.jqx.dataAdapter||(e(),t+=" jqxdata.js"),this.host.jqxDateTimeInput||(e(),t+=" jqxdatetimeinput.js"),this.host.jqxCalendar||(e(),t+=" jqxcalendar.js");try{Globalize||(e(),t+=" globalize.js")}catch(e){}if(""!=t)throw new Error("jqxScheduler: Missing references to the following module(s): "+t);return!1},focus:function(){try{if(this.isTouchDevice())return;if(this._editDialog&&this._editDialog.jqxWindow("isOpen")){var e=this;return setTimeout(function(){e.editDialogFields.subject.focus(),e.editDialogFields.subject.select()},1),void(this.focused=!0)}if(document.activeElement==this.element)return;this.host.focus();e=this;setTimeout(function(){e.host.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return Be.jqx.isHidden(this.host)},_updatesize:function(e,t){var i,o,n,s;this._loading||(o=(i=this).host.width(),n=i.host.height(),i._oldWidth||(i._oldWidth=o),i._oldHeight||(i._oldHeight=n),null!=i._resizeTimer&&(clearTimeout(i._resizeTimer),i._resizeTimer=null),(s=function(){i._resizeTimer&&clearTimeout(i._resizeTimer),i.resizingGrid=!0,Be.jqx.isHidden(i.host)||(i._updatecolumnwidths(),i.refresh(),i._oldWidth=o,i._oldHeight=n,i.resizingGrid=!1)})(),i._resizeTimer=setTimeout(function(){var e=i.host.width(),t=i.host.height();i._oldWidth==e&&i._oldHeight==t||s()},300))},resize:function(e,t){null!=e&&(this.width=e),null!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e=Be.jqx.mobile.isTouchDevice();return this.touchDevice=e,1==this.touchMode?(e=!0,Be.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=e):0==this.touchMode&&(e=!1),e&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),e},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(e,t){if(this._cellscache=new Array,Be.jqx.dataFormat&&Be.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxScheduler: "+this.loadingErrorMessage);if(null!=e){for(var i in this.schedulerLocalization)e[i]&&(this.schedulerLocalization[i]=e[i]);e.loadingErrorMessage&&(this.loadingErrorMessage=e.loadingErrorMessage),!1!==t&&(this._builddataloadelement(),Be(this.dataloadelement).css("visibility","hidden"),Be(this.dataloadelement).css("display","none"))}else this.schedulerLocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},agendaDateColumn:"Date",agendaTimeColumn:"Time",agendaAppointmentColumn:"Appointment",backString:"Back",forwardString:"Forward",toolBarPreviousButtonString:"previous",toolBarNextButtonString:"next",emptyDataString:"No data to display",loadString:"Loading...",clearString:"Clear",todayString:"Today",dayViewString:"Day",weekViewString:"Week",monthViewString:"Month",agendaViewString:"Agenda",timelineDayViewString:"Timeline Day",timelineWeekViewString:"Timeline Week",timelineMonthViewString:"Timeline Month",agendaAllDayString:"all day",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",editRecurringAppointmentDialogTitleString:"Edit Recurring Appointment",editRecurringAppointmentDialogContentString:"Do you want to edit only this occurrence or the series?",editRecurringAppointmentDialogOccurrenceString:"Edit Occurrence",editRecurringAppointmentDialogSeriesString:"Edit The Series",editDialogTitleString:"Edit Appointment",editDialogCreateTitleString:"Create New Appointment",contextMenuEditAppointmentString:"Edit Appointment",contextMenuCreateAppointmentString:"Create New Appointment",editDialogSubjectString:"Subject",editDialogLocationString:"Location",editDialogFromString:"From",editDialogToString:"To",editDialogAllDayString:"All day",editDialogExceptionsString:"Exceptions",editDialogResetExceptionsString:"Reset on Save",editDialogDescriptionString:"Description",editDialogResourceIdString:"Owner",editDialogStatusString:"Status",editDialogColorString:"Color",editDialogColorPlaceHolderString:"Select Color",editDialogTimeZoneString:"Time Zone",editDialogSelectTimeZoneString:"Select Time Zone",editDialogSaveString:"Save",editDialogDeleteString:"Delete",editDialogCancelString:"Cancel",editDialogRepeatString:"Repeat",editDialogRepeatEveryString:"Repeat every",editDialogRepeatEveryWeekString:"week(s)",editDialogRepeatEveryYearString:"year(s)",editDialogRepeatEveryDayString:"day(s)",editDialogRepeatNeverString:"Never",editDialogRepeatDailyString:"Daily",editDialogRepeatWeeklyString:"Weekly",editDialogRepeatMonthlyString:"Monthly",editDialogRepeatYearlyString:"Yearly",editDialogRepeatEveryMonthString:"month(s)",editDialogRepeatEveryMonthDayString:"Day",editDialogRepeatFirstString:"first",editDialogRepeatSecondString:"second",editDialogRepeatThirdString:"third",editDialogRepeatFourthString:"fourth",editDialogRepeatLastString:"last",editDialogRepeatEndString:"End",editDialogRepeatAfterString:"After",editDialogRepeatOnString:"On",editDialogRepeatOfString:"of",editDialogRepeatOccurrencesString:"occurrence(s)",editDialogRepeatSaveString:"Save Occurrence",editDialogRepeatSaveSeriesString:"Save Series",editDialogRepeatDeleteString:"Delete Occurrence",editDialogRepeatDeleteSeriesString:"Delete Series",editDialogStatuses:{free:"Free",tentative:"Tentative",busy:"Busy",outOfOffice:"Out of Office"}}},_updateScrollbars:function(e){var t=!1,i=this;"auto"!==i.width&&null!==i.width&&!i.autowidth||999999!=i.maxWidth||(t=!0);var o=i._views[i._view].type,n=i._views[i._view];if("monthView"==o&&i.resources&&"none"==i.resources.orientation&&!n.monthRowAutoHeight){var s=i.vScrollBar[0].style.visibility;return i.hScrollBar[0].style.visibility="hidden",i.vScrollBar[0].style.visibility="hidden",void(s!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths())}var r,a=parseInt(i.scrollBarSize),l=i.table?i.table.height():0,d=0,h="inherit",s=i.vScrollBar[0].style.visibility;i.hScrollBar[0].style.visibility;r=e||i.host.height(),i.columnGroups?r-=i.showHeader?i.columnsheader.height():0:r-=i.showHeader?i.columnsHeight:0,i.filterable&&(r-=i.filter.height()),i.pageable&&(r-=i.pagerHeight,"both"===i.pagerPosition&&(r-=i.pagerHeight)),i.showToolbar&&(r-=i.toolbarHeight),i.showLegend&&0<i._resources.length&&(r-=i.legendHeight);o=!1;"auto"!==i.height&&null!==i.height&&!i.autoheight||999999!=i.maxHeight||(o=!0),!o&&r<l&&0<i.getRows().length?(i.vScrollBar[0].style.visibility=h,d=4+parseInt(a),i.vScrollBar.jqxScrollBar({max:l-r})):i.vScrollBar[0].style.visibility="hidden",s!=i.vScrollBar[0].style.visibility&&i._updatecolumnwidths();n=i.table?i.table.width():0;4<n&&(n-=4);e=parseInt(i.host.css("border-left-width"))+parseInt(i.host.css("border-right-width")),s=e+i.host.width()-d;s<n&&!t?(i.hScrollBar[0].style.visibility=h,i.hScrollBar.jqxScrollBar({max:2+e+n-s}),d=4+parseInt(a),0==a&&(d=0),o||l==r||(r-d+4<l&&0<i.getRows().length&&(i.hScrollBar.jqxScrollBar({max:e+n-s}),o="hidden"===i.vScrollBar[0].style.visibility,i.vScrollBar[0].style.visibility=h,i._updatecolumnwidths(),o&&i.hScrollBar.jqxScrollBar({max:n-s+e}),3<(h=i.table?i.table.width():0)&&(h-=3),h!=n&&(h<s?(i.hScrollBar.jqxScrollBar({max:e+h-s}),i.hScrollBar[0].style.visibility="hidden",d=0):o?s<h&&i.hScrollBar.jqxScrollBar({max:e+h-s}):i.hScrollBar.jqxScrollBar({max:n-s+e-a}))),0<l-r?i.vScrollBar.jqxScrollBar({max:l-r+d}):i.vScrollBar[0].style.visibility="hidden")):i.hScrollBar[0].style.visibility="hidden",0===i.getRows().length&&(i.vScrollBar[0].style.visibility="hidden",i.bottomRight[0].style.visibility="hidden"),"hidden"==i.vScrollBar[0].style.visibility&&0!=i.vScrollInstance.value&&i.vScrollInstance.setPosition(0)},_measureElementWidth:function(e){var t=Be("<span style='visibility: hidden; white-space: nowrap;'>"+e+"</span>");t.addClass(this.toTP("jqx-widget")),t.addClass(this.toTP("jqx-grid")),t.addClass(this.toTP("jqx-grid-column-header")),t.addClass(this.toTP("jqx-widget-header")),Be(document.body).append(t);e=t.outerWidth()+20;return t.remove(),e},_arrangeAutoHeight:function(e){if(e=e||0,"auto"===this.height||null===this.height||this.autoheight){var t,i=this.table.height(),o=0;return this._hostHeight=null,this.columnGroups?o+=this.showHeader?this.columnsheader.height():-1:o+=this.showHeader?this.columnsHeight:-1,o+=this.showLegend&&0<this._resources.length?this.legendHeight:0,o+=this.showToolbar?this.toolbarHeight:0,o+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(o+=this.pageable?this.pagerHeight:0),o+=i,this.filterable&&(t=this.filter.find(".filterrow"),i=1,0<this.filter.find(".filterrow-hidden").length&&(i=0),o+=this.filterHeight-1+this.filterHeight*t.length*i),o+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(o+e),!0}return!1},_arrangeAutoWidth:function(e){if(e=e||0,"auto"===this.width||null===this.width||this.autowidth){this._hostWidth=null;for(var t=0,i=0;i<this.columns.records.length;i++){var o=this.columns.records[i].width;this.columns.records[i].hidden||(t+="auto"==o?o=this._measureElementWidth(this.columns.records[i].text):o)}var n=t;return n+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(n+e),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),t=0;return this.showToolbar&&(t+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.showLegend&&"bottom"!=this.legendPosition&&0<this._resources.length&&(t+=parseInt(this.legendHeight)+1),{top:t,height:e}},_arrange:function(){var e,t,i,o,n,s,r,a,l,d,h,c,u;this.table&&(this._arrangeAutoHeight(),this._arrangeAutoWidth(),e=this.legendHeight,0==this._resources.length&&(e=0),t=this._hostWidth||this.host.width(),u=r=this._hostHeight||this.host.height(),this.showLegend&&"top"==this.legendPosition?this.legendbartop[0].style.visibility="inherit":this.legendbartop[0].style.visibility="hidden",s=0,this.showToolbar?(this.toolbar.width(t),this.toolbar[0].style.height=this.toolbarHeight-1+"px",this.toolbar[0].style.top="0px",s+=this.toolbarHeight,r-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.showLegend&&"bottom"==this.legendPosition?(this.legendbarbottom[0].style.width=t+"px",this.legendbarbottom[0].style.height=e+"px"):this.legendbarbottom[0].style.height="0px",this.showLegend&&"top"==this.legendPosition&&(this.legendbartop[0].style.width!=t+"px"&&(this.legendbartop[0].style.width=parseInt(t)+"px"),this.legendbartop[0].style.height!=e+"px"&&(this.legendbartop[0].style.height=parseInt(e-1)+"px"),this.legendbartop[0].style.top!=s+"px"&&(this.legendbartop[0].style.top=s+"px"),d=s+e+"px",s+=e,this.content[0].style.top!=d&&(this.content[0].style.top=s+"px")),this.showLegend||(this.legendbartop[0].style.display="none",this.legendbarbottom[0].style.display="none"),this._updateScrollbars(u),i=parseInt(this.scrollBarSize),o=2,n=0,"hidden"!=this.vScrollBar[0].style.visibility&&(n=i+4),"hidden"!=this.hScrollBar[0].style.visibility&&(o=i+4+2),0==i&&(n=o=0),"hidden"==this.vScrollBar[0].style.visibility&&"hidden"==this.hScrollBar[0].style.visibility||(a=this._arrangeAutoHeight(o-2),h=this._arrangeAutoWidth(n+1),(a||h)&&(this.legendbartop[0].style.width=parseInt(t)+"px",this.toolbar[0].style.width=parseInt(t)+"px",this.legendbarbottom[0].style.width=parseInt(t)+"px",this.filter[0].style.width=parseInt(t)+"px"),a&&(s=(l=this._measureTopAndHeight()).top,r=l.height)),d=0,this.showLegend&&"bottom"==this.legendPosition?(o+=e,d+=e):this.showLegend&&(o+=e),this.hScrollBar[0].style.height!=i+"px"&&(this.hScrollBar[0].style.height=parseInt(i)+"px"),this.hScrollBar[0].style.top==s+r-4-i-d+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=s+r-4-i-d-1+"px",this.hScrollBar[0].style.left="0px"),h=this.hScrollBar[0].style.width,l=a=!1,0==n?h!=t-2+"px"&&(this.hScrollBar[0].style.width=t-2+"px",a=!0):h!=t-i-4+"px"&&(this.hScrollBar[0].style.width=t-i-4+"px",a=!0),this.vScrollBar[0].style.width!=i+"px"&&(this.vScrollBar[0].style.width=i+"px",l=!0),this.vScrollBar[0].style.height!=parseInt(r)-o+"px"&&(this.vScrollBar[0].style.height=parseInt(r)-o+"px",l=!0),this.vScrollBar[0].style.left==parseInt(t)-parseInt(i)-4+"px"&&this.vScrollBar[0].style.top==s+"px"||(this.vScrollBar[0].style.top=s+"px",this.vScrollBar[0].style.left=parseInt(t)-parseInt(i)-4+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:s}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:i+2})),(d=this.vScrollInstance).disabled=this.disabled,(h=this.hScrollInstance).disabled=this.disabled,a&&h.refresh(),l&&d.refresh(),"hidden"!=(c=this).vScrollBar[0].style.visibility&&"hidden"!=c.hScrollBar[0].style.visibility?(c.bottomRight[0].style.visibility="inherit",c.bottomRight[0].style.left=1+parseInt(c.vScrollBar.css("left"))+"px",c.bottomRight[0].style.top=parseInt(c.hScrollBar.css("top"))+"px",c.rtl&&c.bottomRight.css("left","0px"),c.bottomRight[0].style.width=parseInt(i)+3+"px",c.bottomRight[0].style.height=parseInt(i)+4+"px"):c.bottomRight[0].style.visibility="hidden",this.content[0].style.width!=t-n+"px"&&(this.content[0].style.width=t-n+"px"),this.content[0].style.height!=r-o+3+"px"&&(this.content[0].style.height=r-o+3+"px"),this.content[0].style.top!=s+"px"&&(this.content[0].style.top=parseInt(s)+"px"),this.rtl&&this.content.css("left",n),this.showLegend&&"bottom"==this.legendPosition&&(this.legendbarbottom.css("top",s-1+r-e-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.legendbarbottom.css("left",this.content.css("left")):this.legendbarbottom.css("left","0px"))),this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,t!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),r!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostWidth=t,this._hostHeight=u,u=this.schedulercontent.coord(),this._tableOffset=u)},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};null!=e&&"object"==typeof e&&(t=e.left,e=e.top),null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginAppointmentsUpdate:function(){this._appupdating=!0},endAppointmentsUpdate:function(){this._appupdating=!1,this._renderrows()},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){(this._updating=!1)!==e&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(e,t,i){var o,x,n,b,A;!0!==this.loadingstate&&(o=window,"block"==this.host.css("display")&&(this.autoShowLoadElement?(Be(this.dataloadelement).css("visibility","visible"),Be(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(Be(this.dataloadelement).css("visibility","hidden"),Be(this.dataloadelement).css("display","none"))),x=this,null==e&&(e={}),null!=e.sortcomparer&&null!=e.sortcomparer||(e.sortcomparer=null),null!=e.filter&&null!=e.filter||(e.filter=null),null!=e.sort&&null!=e.sort||(e.sort=null),null!=e.data&&null!=e.data||(e.data=null),null!=e&&(null!=e._source?e._source:e).url,this.dataview=this.dataview||new Be.jqx.scheduler.dataView("dataView"),this.resourcesDataView=this.resourcesDataView||new Be.jqx.scheduler.dataView("resourcesDataView"),this.dataview.pageable=this.pageable,((this.dataview.scheduler=this).resourcesDataView.scheduler=this)._loading=!0,this.appointments=new Array,this.uiappointments=new Array,n=1,this.resources&&this.resources.source&&(n=2),b=0,A=function(){var e,t;b==n&&(x._resourcesBinding=!1,t=1<x._resources.length?x._resources.length:1,x.resources&&"horizontal"===x.resources.orientation?(x.tableColumns=t,x.tableRows=1):x.resources&&"vertical"===x.resources.orientation?(x.tableRows=t,x.tableColumns=1):(x.tableColumns=1,x.tableRows=1),x._render(),x.autoShowLoadElement&&!x._loading&&(Be(x.dataloadelement).css("visibility","hidden"),Be(x.dataloadelement).css("display","none")),x._updateTouchScrolling(),x._raiseEvent("bindingComplete"),i&&i(),x.initializedcall||(x.initializedcall=!0,x.isInitialized=!0,(null!=x.width&&-1!=x.width.toString().indexOf("%")||null!=x.height&&-1!=x.height.toString().indexOf("%"))&&x._updatesize(!0),x.ready&&x.ready(),x._rendercelltexts&&x._rendercelltexts(),x._gridRenderElement&&(Be(x._gridRenderElement).show("slow"),e=6e3+Math.floor(4e3*Math.random()+1),t=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase(),o[Be.camelCase(t)](function(){Be(x._gridRenderElement).hide("slow",function(){Be(x._gridRenderElement).remove()})},e)),"hidden"==x.host.css("visibility")&&(Be.jqx.browser.msie&&Be.jqx.browser.version,"visible"==x.vScrollBar.css("visibility")&&x.vScrollBar.css("visibility","inherit"),"visible"==x.hScrollBar.css("visibility")&&x.hScrollBar.css("visibility","inherit"),x._intervalTimer=setInterval(function(){"visible"==x.host.css("visibility")&&(x._updatesize(!0),clearInterval(x._intervalTimer))},100))))},this._resourcesBinding=!1,this.dataview.update=function(e){x._loading=!1,x.appointmentsByKey=new Array,x.appointments=new Array,x.uiappointments=new Array;x.source._source.datafields;for(var t=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"],i=new Array,o=0;o<x.source.records.length;o++){var n,s,r=x.source.records[o],a={};for(s in x.appointmentDataFields){var l,d=r[x.appointmentDataFields[s]];if("from"!=s&&"to"!=s||(d=new Be.jqx.date(d)),"style"==s&&d&&(l=x.getAppointmentColors(d),a.color=l.color,a.background=l.background,a.borderColor=l.border),"recurrencePattern"==s&&d&&((d=new Be.jqx.scheduler.recurrencePattern(d)).timeZone=r.timeZone||x.timeZone),"recurrenceException"==s){var h=new Array;if(d){0<=d.indexOf("EXDATE:")&&(d=d.substring(d.indexOf("EXDATE:")+7));var c=new Array;0<=d.indexOf(",")?c=d.split(","):c.push(d);for(var u=0;u<c.length;u++){var p,m=c[u];0<=m.indexOf(";")&&(p=m.split(";")[1],m=m.split(";")[0],0<=p.toLowerCase().indexOf("display")&&p.toLowerCase().indexOf("none")&&(a.hidden=!0));try{"Invalid Date"!=(f=Be.jqx.scheduler.utilities.untilStringToDate(m))&&(f=a.timeZone?new Be.jqx.date(f,a.timeZone):x.timeZone?f.toTimeZone(x.timeZone):new Be.jqx.date(f))}catch(e){var f=new Be.jqx.date(m,x.timeZone)}h.push(f)}}d=h}a[s]=d}for(n in t)null==a[s=t[n]]&&(d="","originalData"!=s&&("ownerId"==s&&(d=null),"timeZone"==s&&(d=null),"recurrencePattern"==s&&(d=null),"recurrenceException"==s&&(d=[]),"allDay"==s&&(d=!1),"draggable"==s&&(d=!0),"resizable"==s&&(d=!0),"hidden"==s&&(d=!1),"resourceId"==s&&(d=null),"from"==s&&(d=new Be.jqx.date),"to"==s&&(d=(new Be.jqx.date).addHours(1)),a[s]=d));a.originalData=r,x.resources&&!x.resources.source&&(x._resourcesBinding||-1==i.indexOf(a.resourceId)&&i.push(a.resourceId)),x.appointmentsByKey[r.uid]=a,x.appointments.push(a);var g=new Be.jqx.scheduler.appointment(a);if(a.timeZone&&(g.from=g.from.toTimeZone(a.timeZone),g.to=g.to.toTimeZone(a.timeZone)),x.timeZone?(a.timeZone||(g.timeZone=x.timeZone),g.from=g.from.toTimeZone(x.timeZone),g.to=g.to.toTimeZone(x.timeZone)):(g.from=g.from.toTimeZone(null),g.to=g.to.toTimeZone(null)),a.jqxAppointment=g,a.recurrenceException)for(var w=0;w<a.recurrenceException.length;w++){var f=g.recurrenceException[w],v=g.clone();v.occurrenceFrom=f;var y=g.duration();x.allDay&&(y=new Be.jqx.timeSpan(1e4*(x.to-x.from))),v.from=f,v.to=f.add(y),v.rootAppointment=g,v.hidden=!0,g.exceptions.push(v)}g.boundAppointment=a,(g.scheduler=x).uiappointments.push(g)}x._resourcesBinding||(x._resources=i),b++,A()},this.resourcesDataView.update=function(e){if(x.resources.dataField){x._resources=new Array;for(var t=0;t<e.length;t++)0<=x._resources.indexOf(e[t][x.resources.dataField])||e[t][x.resources.dataField]&&x._resources.push(e[t][x.resources.dataField])}else x._resources=e;null==x.resources.orientation&&(x.resources.orientation="none"),b++,A()},this.dataview.databind(e),this.resources&&this.resources.source&&(this._resourcesBinding=!0,this.resourcesDataView.databind(this.resources.source)))},_raiseEvent:function(e,t){null==t&&(t={owner:null});var i=e,e=t;e.owner=this;i=new Be.Event(i);i.owner=this,i.args=e;e=this.host.trigger(i);return t=i.args,e},ensureAppointmentVisible:function(e){return!!this.appointmentsByKey[e]&&this._ensureAppointmentVisible(this.appointmentsByKey[e].jqxAppointment)},_ensureAppointmentVisible:function(e){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;if(!e)return!1;var t=this.getViewStart(),i=this.getViewEnd();if(!Be.jqx.scheduler.utilities.rangeIntersection(e.from,e.to,t,i))return this.navigateTo(e.from),this._ensureAppointmentVisible(e);var o=e.id,n=Be('[data-key="'+o+'"]');if(0<n.length)var s=n[0];else{if(!(e.elements&&0<e.elements.length))return!1;s=e.elements[0].element}var r=this.vScrollInstance.value,a=this.hScrollInstance.value;this.rtl&&(a=this.hScrollInstance.max-a);var l=this.element.clientHeight,d=this.element.clientWidth,t=0;this.columnGroups?t+=this.showHeader?this.columnsheader.height():0:t+=this.showHeader?this.columnsHeight:0;i=this._views[this._view].type,o=this._views[this._view],n=0;if("dayView"==i||"weekView"==i){var h=this.showAllDayRow;!o.timeRuler||"dayView"!==i&&"weekView"!==i||null!=o.timeRuler.showAllDayRow&&(h=o.timeRuler.showAllDayRow),h&&(n=(1==this.tableRows?this.table[0].rows[0]:this.table[0].rows[1]).clientHeight);h=1<=e.duration().days()||e.allDay;if(h&&1==this.tableRows&&1==this.tableColumns)return!1}this.showToolbar&&(t+=this.toolbarHeight),l-=t,this.showLegend&&0<this._resources.length&&(l-=this.legendHeight);t=+r,r=l+t-n,l=+a,a=d+l,d=s,s=(d=Be(d))[0].clientHeight,n=d.position().top-n;n<=t?((c=n)<0&&(c=0),(!h||h&&1<this.tableRows)&&this.vScrollBar.jqxScrollBar("setPosition",c)):r<=n&&((c=n)<0&&(c=0),(!h||h&&1<this.tableRows)&&this.vScrollBar.jqxScrollBar("setPosition",c-2));var c=d.position().left;c=Math.round(c),d.outerWidth();0===Math.round(d.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),c<=l&&(d.outerWidth(),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-c):this.hScrollBar.jqxScrollBar("setPosition",c)),a<c&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-c):this.hScrollBar.jqxScrollBar("setPosition",c))},ensureVisible:function(e,t){for(var i=this,o="date"==Be.type(e)?e:e.toDate(),n=0;n<i.rows.length;n++)for(var s=0;s<i.rows[n].cells.length;s++){var r=i.rows[n].cells[s];if(!t||r.getAttribute("data-view")===t){var a=r.getAttribute("data-date");if(i._getDateByString(a).valueOf()==o.valueOf())return i._ensureVisible(r)}}},_ensureVisible:function(e){if("hidden"===this.vScrollBar[0].style.visibility&&"hidden"===this.hScrollBar[0].style.visibility)return!1;var t=this.vScrollBar.jqxScrollBar("value"),i=this.hScrollBar.jqxScrollBar("value");this.rtl&&(i=this.hScrollBar.jqxScrollBar("max")-i);var o=this._hostHeight,n=this._hostWidth,s=0;this.columnGroups?s+=this.showHeader?this.columnsheader.height():0:s+=this.showHeader?this.columnsHeight:0,this.showToolbar&&(s+=this.toolbarHeight),o-=s,this.showLegend&&0<this._resources.length&&(o-=this.legendHeight),"hidden"!=this.hScrollBar.css("visibility")&&(o-=20);var r=this._views[this._view].type,a=this._views[this._view],l=0;"dayView"!=r&&"weekView"!=r||(c=this.showAllDayRow,!a.timeRuler||"dayView"!==r&&"weekView"!==r||null!=a.timeRuler.showAllDayRow&&(c=a.timeRuler.showAllDayRow),c&&(l=(1==this.tableRows?this.table[0].rows[0]:this.table[0].rows[1]).clientHeight));var d=+t,h=o+d-l,s=+i,r=n+s,a=e,c=(a=Be(a)).position().top-l,t=c+a.outerHeight(),i=a.position().left,e=(i=Math.round(i))+a.outerWidth();0===Math.round(a.position().left)&&this.hScrollBar.jqxScrollBar("setPosition",0),i<=s&&((i=i-a.outerWidth()+0)<0&&(i=0),this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-i):this.hScrollBar.jqxScrollBar("setPosition",i)),r<=e&&(this.rtl?this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-(2+e-n)):this.hScrollBar.jqxScrollBar("setPosition",2+e-n));n=a.parent().index();if(0<this.tableRows&&n--,0===Math.round(a.position().top)||0===n)return this.vScrollBar.jqxScrollBar("setPosition",0);n=this.table[0].rows.length-1;if(this.table[0].rows[n][0]===a.parent()[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(c<=d){c=c;return c<0&&(c=0),this.vScrollBar.jqxScrollBar("setPosition",c)}return h<=t?this.vScrollBar.jqxScrollBar("setPosition",4+t-o+l):void 0},getColumn:function(e){var t=null;return this.columns.records&&Be.each(this.columns.records,function(){if(this.datafield==e||this.displayfield==e)return t=this,!1}),t},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var o=this.getColumn(e);if(null!=o){o[t];o[t]=i;e=this.getColumn(e);switch(null!=e&&(e[t]=i),t){case"text":case"hidden":case"hideable":case"renderer":case"align":case"cellsalign":case"contenttype":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t||"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?this._rendercolumnheaders():"width"!=t&&"maxwidth"!=t&&"minwidth"!=t||(o._width=null,o._percentagewidth=null,this._updatecolumnwidths()),this.refresh()}}},getColumnProperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getColumn(e)[t])},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(e){1!=e&&(e=this,Be.jqx.isHidden(e.host)||(e.table[0].style.top="0px",e.vScrollInstance.setPosition(0),e._renderrows(),e._arrange(),e._renderhorizontalscroll(),e._updateTouchScrolling(),e._refreshToolBar(),e._updateFocusedCell()))},_updateFocusedCell:function(){var e=this;if(e.focusedCell)e._updateCellsSelection();else{var t=e._views[e._view].type,i=e._views[e._view],o=e.showAllDayRow;if(!i.timeRuler||"dayView"!==t&&"weekView"!==t||null!=i.timeRuler.showAllDayRow&&(o=i.timeRuler.showAllDayRow),!o||"dayView"!=t&&"weekView"!=t?(e.focusedCell=e.rows[0].cells[0],e.rtl&&(e.focusedCell=e.rows[0].cells[e.rows[0].cells.length-1])):(e.focusedCell=e.rows[1].cells[0],e.rtl&&(e.focusedCell=e.rows[1].cells[e.rows[1].cells.length-1])),0<=e.focusedCell.className.indexOf("jqx-scheduler-disabled-cell")){e.focusedCell=null;for(var n=0;n<this.rows.length;n++){for(var s=0;s<this.rows[n].cells.length;s++){var r=this.rows[n].cells[s];if(-1==r.className.indexOf("jqx-scheduler-disabled-cell")){e.focusedCell=r;break}}if(e.focusedCell)break}}e._lastSelectedCell=e.focusedCell,e._updateCellsSelection()}},_updateTouchScrolling:function(){var e,t,i,o=this.that;o.isTouchDevice()&&(e=Be.jqx.mobile.getTouchEventName("touchstart"),t=Be.jqx.mobile.getTouchEventName("touchend"),i=Be.jqx.mobile.getTouchEventName("touchmove"),o.schedulercontent&&(o.removeHandler(o.table,e+".touchScroll"),o.removeHandler(o.table,i+".touchScroll"),o.removeHandler(o.table,t+".touchScroll"),o.removeHandler(o.table,"touchcancel.touchScroll"),Be.jqx.mobile.touchScroll(o._table[0],Math.max(o.vScrollInstance.max,o.hScrollInstance.max),function(e,t){o.dragOrResize||(null!=t&&"hidden"!=o.vScrollBar.css("visibility")&&(o.vScrollInstance.value,o.vScrollInstance.setPosition(t)),null!=e&&"hidden"!=o.hScrollBar.css("visibility")&&(o.hScrollInstance.value,o.hScrollInstance.setPosition(e)),o.scrolled=new Date)},this.element.id,this.hScrollBar,this.vScrollBar)))},scrollWidth:function(){return this.hScrollInstance.max},scrollHeight:function(){return this.vScrollInstance.max},scrollLeft:function(e){"hidden"!=this.hScrollBar[0].style.visibility&&this.hScrollInstance.setPosition(e)},scrollTop:function(e){"hidden"!=this.vScrollBar[0].style.visibility&&this.vScrollInstance.setPosition(e)},render:function(e){var t="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbartop' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbarbottom' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerHTML=t,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var i=this.host.find("#verticalScrollBar"+this.element.id),t=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=i.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=t.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=Be.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=Be.data(this.hScrollBar[0],"jqxScrollBar").instance,this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-scheduler-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.legendbarbottom=this.host.find("#legendbarbottom"),this.legendbarbottom[0].id="legendbarbottom"+this.element.id,this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar-bottom")),this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbarbottom.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.legendbartop=this.host.find("#legendbartop"),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar-top")),this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar")),this.legendbartop.addClass(this.toTP("jqx-widget-header")),this.schedulertable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var o=this.source.datafields;if(null==o&&this.source._source&&(o=this.source._source.datafields),o)for(var n=0;n<this.columns.length;n++){var s=this.columns[n];if(s&&s.cellsFormat&&2<s.cellsFormat.length)for(var r=0;r<o.length;r++)if(o[r].name==s.datafield&&!o[r].format){o[r].format=s.cellsFormat;break}}this.databind(this.source),this.showToolbar&&this.toolbar.css("visibility","inherit"),this.showLegend&&this.legendbarbottom.css("visibility","inherit"),this.tableheight=null;var a=this;this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return a.content&&(a.content[0].scrollTop=0,a.content[0].scrollLeft=0),a.schedulercontent&&(a.schedulercontent[0].scrollLeft=0,a.schedulercontent[0].scrollTop=0),!1}),!0!==e&&this._render()},_render:function(){var e,t,i,r=this;null!=r.dataview&&(r._loading||(25==r.columnsHeight&&!r.columnGroups||r._measureElement("column"),r.rowinfo=new Array,r._removeHandlers(),null==r.columns?r.columns=new Be.jqx.schedulerDataCollection(r.element):r._initializeColumns(),r.host.height(r.height),r.host.width(r.width),Be.jqx.utilities.html(r.content,""),r.columnsheader=r.columnsheader||Be('<div style="overflow: hidden;"></div>'),r.columnsheader.remove(),r.columnsheader.addClass(r.toTP("jqx-widget-header")),r.columnsheader.addClass(r.toTP("jqx-grid-header")),r.showHeader?r.columnsheader&&r.columnsheader.css("display","block"):r.columnsheader.css("display","none"),r.schedulercontent=r.schedulercontent||Be('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),r.schedulercontent.remove(),t=r.columnsHeight,t=r._preparecolumnGroups(),r.columnsheader.height(t),r.content.append(r.columnsheader),r.content.append(r.schedulercontent),r._rendercolumnheaders(),r.tableheight=null,r.schedulercontent.find("#contenttable"+r.element.id).remove(),null!=r.table&&(r.table.remove(),r.table=null),null!=r.pinnedtable&&(r.pinnedtable.remove(),r.pinnedtable=null),r.table=Be('<div id="contenttable'+r.element.id+'" style="overflow: hidden; position: relative;"></div>'),r.pinnedtable=Be('<div id="contenttable2'+r.element.id+'" style="display: none; overflow: hidden; position: relative;"></div>'),r.schedulercontent.addClass(r.toTP("jqx-grid-content")),r.schedulercontent.addClass(r.toTP("jqx-widget-content")),r.schedulercontent.append(r.table),1==r.tableRows&&r.schedulercontent.append(r.pinnedtable),r._renderrows(),r._arrange(),r._resourcesElements=new Array,(i=function(n,s){n.children().remove();n=Be("<div style='margin:5px; position: relative;'></div>").appendTo(n);r._resourcesElements[s]=new Array,Be.each(r._resources,function(e){var e=r.getColors(e),t=this.toString(),i=Be("<div data-toggle='on' style='border-color: "+e.border+"; background: "+e.background+";' class='"+r.toThemeProperty("jqx-scheduler-legend")+"'></div>");i.appendTo(n);e=Be("<div class='"+r.toThemeProperty("jqx-scheduler-legend-label")+"'>"+t+"</div>");e.appendTo(n),r._resourcesElements[s][t]=i;function o(){"on"==i.attr("data-toggle")?r.hideAppointmentsByResource(t):r.showAppointmentsByResource(t)}r.addHandler(i,"mousedown",function(){return o(),!1}),r.addHandler(e,"mousedown",function(){return o(),!1})})})(r.legendbarbottom,"bottom"),i(r.legendbartop,"top"),("top"==r.legendPosition?r.legendbarbottom:r.legendbartop).hide(),0==r._resources.length&&(r.legendbarbottom.hide(),r.legendbartop.hide()),r.renderToolBar?r.renderToolBar(r.toolbar):r._renderToolBar(),r.disabled&&r.host.addClass(r.toThemeProperty("jqx-fill-state-disabled")),r._renderhorizontalscroll(),r._addHandlers(),r.clearSelection(),e=r._views[r._view].type,t=r._views[r._view],i=r.showAllDayRow,!t.timeRuler||"dayView"!==e&&"weekView"!==e||null!=t.timeRuler.showAllDayRow&&(i=t.timeRuler.showAllDayRow),r.focusedCell=(!i||"dayView"!=e&&"weekView"!=e?r.rows[0]:r.rows[1]).cells[0],r._lastSelectedCell=r.focusedCell,r._updateCellsSelection()))},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},getAppointmentElement:function(e){var t=null;0<=e.className.indexOf("jqx-scheduler-appointment")&&-1==e.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-content")&&-1==e.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=e);for(var i=e,o=0;o<4&&i.parentNode;o++)0<=i.className.indexOf("jqx-scheduler-appointment")&&-1==i.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-content")&&-1==i.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(t=i),i=i.parentNode;return t},getJQXAppointmentByElement:function(e){var t=e.getAttribute?e.getAttribute("data-key"):e.attr("data-key");return 0<=t.indexOf(".")?(e=t.substring(0,t.indexOf(".")),t.substring(t.indexOf(".")+1),this.appointmentsByKey[e].jqxAppointment.renderedAppointments[t]):this.appointmentsByKey[t].jqxAppointment},_renderToolBar:function(){var n=this,e=Be('<div style="width: 100%; height: 100%; position: relative;"></div>'),t=(this.toolbarHeight-20)/2;e.css("top",t),n.toolbarLeftButton=Be('<div type="button" style="outline: none; padding: 0px; display: flex; justify-content: center; align-items: center; margin-left: 3px; margin-right: 3px; height: 24px; width: 27px; float: left;"></div>'),n.toolbarRightButton=Be('<div type="button" style="outline: none; padding: 0px; display: flex; justify-content: center; align-items: center; margin-right: 3px; width: 27px; height: 24px; float: left;"></div>'),n.toolbarLeftButton.attr("title",n.schedulerLocalization.toolBarPreviousButtonString),n.toolbarRightButton.attr("title",n.schedulerLocalization.toolBarNextButtonString),n.toolbarRightButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:n.disabled,theme:n.theme}),n.toolbarLeftButton.jqxButton({enableHover:!1,enableDefault:!1,enablePressed:!1,cursor:"pointer",disabled:n.disabled,theme:n.theme}),n.dateTimeInput=Be('<div style="outline: none; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: left;"></div>'),n.toolbarLeftButton.find(".jqx-icon-arrow-left").remove(),n.toolbarRightButton.find(".jqx-icon-arrow-right").remove();var i=Be("<div style='outline: none;  width: 15px; height: 15px;'></div>");i.addClass(n.toThemeProperty("jqx-icon-arrow-left")),n.toolbarLeftButton.wrapInner(i);var o=Be("<div style='outline: none; width: 15px; height: 15px;'></div>");o.addClass(n.toThemeProperty("jqx-icon-arrow-right")),n.toolbarRightButton.wrapInner(o),n.rtl&&(n.toolbarLeftButton.css("float","right"),n.toolbarRightButton.css("float","right"),n.dateTimeInput.css("float","right")),n.addHandler(n.toolbarRightButton,"mouseenter",function(){o.addClass(n.toThemeProperty("jqx-icon-arrow-right-hover"))}),n.addHandler(n.toolbarLeftButton,"mouseenter",function(){i.addClass(n.toThemeProperty("jqx-icon-arrow-left-hover"))}),n.addHandler(n.toolbarRightButton,"mouseleave",function(){o.removeClass(n.toThemeProperty("jqx-icon-arrow-right-hover"))}),n.addHandler(n.toolbarLeftButton,"mouseleave",function(){i.removeClass(n.toThemeProperty("jqx-icon-arrow-left-hover"))}),n.addHandler(n.toolbarRightButton,"mousedown",function(){o.addClass(n.toThemeProperty("jqx-icon-arrow-right-selected"))}),n.addHandler(n.toolbarRightButton,"mouseup",function(){o.removeClass(n.toThemeProperty("jqx-icon-arrow-right-selected"))}),n.addHandler(n.toolbarLeftButton,"mousedown",function(){i.addClass(n.toThemeProperty("jqx-icon-arrow-left-selected"))}),n.addHandler(n.toolbarLeftButton,"mouseup",function(){i.removeClass(n.toThemeProperty("jqx-icon-arrow-left-selected"))}),n.addHandler(Be(document),"mouseup.pagerbuttons"+n.element.id,function(){o.removeClass(n.toThemeProperty("jqx-icon-arrow-right-selected")),i.removeClass(n.toThemeProperty("jqx-icon-arrow-left-selected"))}),n.addHandler(n.toolbarRightButton,"click",function(){n.toolbarRightButton.jqxButton("disabled")||(n.rtl?n.navigateBackward():n.navigateForward(),n.focus())}),n.addHandler(n.toolbarLeftButton,"click",function(){n.toolbarLeftButton.jqxButton("disabled")||(n.rtl?n.navigateForward():n.navigateBackward(),n.focus())}),n.toolbar.children().remove(),n.toolbar.append(e),n.rtl?(e.append(n.toolbarRightButton),e.append(n.dateTimeInput),e.append(n.toolbarLeftButton)):(e.append(n.toolbarLeftButton),e.append(n.dateTimeInput),e.append(n.toolbarRightButton)),n.toolbarDetails=Be('<div class="'+n.toTP("jqx-scheduler-toolbar-details")+'" style="margin-left: 7px; margin-top:2px; float: left;"></div>'),n.toolbarViews=Be('<div style="margin-right: 10px; margin-top:0px; float: right;"></div>'),n.rtl&&(n.toolbarDetails.css("float","right"),n.toolbarDetails.css("margin-left","0px"),n.toolbarDetails.css("margin-right","7px"),n.toolbarViews.css("margin-left","10px"),n.toolbarViews.css("margin-right","0px"),n.toolbarViews.css("float","left"));var s=new Array;n.rtl?(s.push(n.toolbarRightButton),s.push(n.dateTimeInput),s.push(n.toolbarLeftButton)):(s.push(n.toolbarLeftButton),s.push(n.dateTimeInput),s.push(n.toolbarRightButton));var r=n._views.length-1;Be.each(n._views,function(e){var t="",i=e;if(n.rtl&&(i=r-e),null!=n._views[i].text)t=n._views[i].text;else switch(n._views[i].type){case"dayView":t=n.schedulerLocalization.dayViewString;break;case"weekView":t=n.schedulerLocalization.weekViewString;break;case"monthView":t=n.schedulerLocalization.monthViewString;break;case"agendaView":t=n.schedulerLocalization.agendaViewString;break;case"timelineDayView":t=n.schedulerLocalization.timelineDayViewString;break;case"timelineWeekView":t=n.schedulerLocalization.timelineWeekViewString;break;case"timelineMonthView":t=n.schedulerLocalization.timelineMonthViewString}var t='<span data-type="'+n._views[i].type+'" style="cursor: pointer; outline: none; margin-left: -1px; position: relative;">'+t+"</span>",o=Be(t);o.addClass(n.toTP("jqx-group-button-normal jqx-button jqx-fill-state-normal")),s.push(o),0==i&&(n.rtl?o.addClass(n.toTP("jqx-rc-r")):o.addClass(n.toTP("jqx-rc-l"))),i==n._views.length-1&&(n.rtl?o.addClass(n.toTP("jqx-rc-l")):o.addClass(n.toTP("jqx-rc-r"))),i===n._view&&o.addClass(n.toTP("jqx-fill-state-pressed")),o.mouseenter(function(){o.addClass(n.toTP("jqx-fill-state-hover"))}),o.mouseleave(function(){o.removeClass(n.toTP("jqx-fill-state-hover"))}),o.mousedown(function(){n._setView(i),n.focus()}),Be(n.toolbarViews).append(o)}),e.append(n.toolbarDetails),e.append(n.toolbarViews),n._views.length<2&&n.toolbarViews.hide(),n.dateTimeInput.jqxDateTimeInput({dropDownWidth:220,dropDownHeight:220,rtl:n.rtl,localization:n._getDateTimeInputLocalization(),firstDayOfWeek:n.schedulerLocalization.firstDay,todayString:n.schedulerLocalization.todayString,clearString:n.schedulerLocalization.clearString,showFooter:!0,height:25,width:25,renderMode:"simple"}),n.addHandler(n.dateTimeInput,"change",function(e){n.fromNavigate||(n.navigateTo(new Be.jqx.date(e.args.date,n.timeZone)),n.focus())}),n.tabKeyElements=s;var a=n._views[n._view].type,t=function(e){var t=Be.jqx.formatDate(n.getViewStart().toDate(),e,n.schedulerLocalization),e=Be.jqx.formatDate(n.getViewEnd().toDate(),e,n.schedulerLocalization);"dayView"===a||"timelineDayView"===a?n.toolbarDetails.html(t):n.toolbarDetails.html(t+" - "+e),n.rtl?(n.toolbarDetails.addClass("jqx-rtl"),n.toolbarDetails.html("<span style='direction:rtl;'>"+e+"<span> - <span style='direction:rtl;'>"+t+"</span>")):n.toolbarDetails[0].style.direction="ltr"};t(n.toolBarRangeFormat);e=n.toolbarViews.width()+n.toolbarDetails.width()+120,n.toolBarRangeFormat;e>n.host.width()?(t(n.toolBarRangeFormatAbbr),(e=n.toolbarViews.width()+n.toolbarDetails.width()+120)>n.host.width()&&(n.toolbarDetails.hide(),(e=n.toolbarViews.width()+120)>n.host.width()&&n.toolbarViews.hide())):n.currentToolbarFormat=n.toolBarRangeFormat},_setView:function(e){var t,i,o,n=this;n.toolbarViews.find(".jqx-fill-state-pressed").removeClass(n.toTP("jqx-fill-state-pressed")),(n.rtl?Be(n.toolbarViews.children()[n._views.length-1-e]):Be(n.toolbarViews.children()[e])).addClass(n.toTP("jqx-fill-state-pressed")),n._view!==e&&(n.vScrollBar[0].style.visibility&&(n._scrollPosition||(n._scrollPosition=new Array),n._scrollPosition[n._view]=n.vScrollInstance.value),(o=n.hScrollBar[0].style.visibility)&&(n._hscrollPosition||(n._hscrollPosition=new Array),n._hscrollPosition[n._view]=n.hScrollInstance.value),t=n._views[n._view].type,i=n._views[e].type,n._view=e,n._refreshColumns(),n.refresh(),o!==n.hScrollBar[0].style.visibility&&(n._renderrows(),n._updateTouchScrolling()),n._scrollPosition[n._view]&&n.vScrollInstance.setPosition(n._scrollPosition[n._view]),n._hscrollPosition[n._view]&&n.hScrollInstance.setPosition(n._hscrollPosition[n._view]),n.selectedJQXAppointment&&n._ensureAppointmentVisible(n.selectedJQXAppointment),e=n.getViewStart(),o=Be.jqx.scheduler.utilities.getEndOfDay(n.getViewEnd()),n._raiseEvent("viewChange",{date:n.date,from:e,to:o,oldViewType:t,newViewType:i}))},_getDateTimeInputLocalization:function(){var e=this,t={};return t.backString=e.schedulerLocalization.backString,t.forwardString=e.schedulerLocalization.forwardString,t.todayString=e.schedulerLocalization.todayString,t.clearString=e.schedulerLocalization.clearString,t.calendar=e.schedulerLocalization,t},setView:function(e){switch(e){case"dayView":this._setView(0);break;case"weekView":this._setView(1);break;case"monthView":this._setView(2);break;case"timelineDayView":this._setView(3);break;case"timelineWeekView":this._setView(4);break;case"timelineMonthView":this._setView(5)}this.view=e},navigateForward:function(){var e=this._views[this._view].type,t=this._views[this._view],i=new Be.jqx.date(this.date,this.timeZone);switch(e){case"dayView":case"timelineDayView":i=i.addDays(1),i=function(){for(;(0==i.dayOfWeek()||6==i.dayOfWeek())&&!1===t.showWeekends;)i=i.addDays(1);return i}();break;case"weekView":case"timelineWeekView":i=i.addDays(7);break;case"monthView":case"timelineMonthView":i.day();var o=i.month(),e=i.year(),o=new Be.jqx.date(e,o,1);o.timeZone=this.timeZone,i=o.addMonths(1);break;case"agendaView":i=t.days?i.addDays(t.days):i.addDays(7)}return this.navigateTo(i)},navigateBackward:function(){var e=this._views[this._view].type,t=this._views[this._view],i=new Be.jqx.date(this.date,this.timeZone);switch(e){case"dayView":case"timelineDayView":i=i.addDays(-1),i=function(){for(;(0==i.dayOfWeek()||6==i.dayOfWeek())&&!1===t.showWeekends;)i=i.addDays(-1);return i}();break;case"weekView":case"timelineWeekView":i=i.addDays(-7);break;case"monthView":case"timelineMonthView":i.day();var o=i.month(),e=i.year(),o=new Be.jqx.date(e,o,1);o.timeZone=this.timeZone,i=o.addMonths(-1);break;case"agendaView":i=t.days?i.addDays(-t.days):i.addDays(-7)}return this.navigateTo(i)},_refreshToolBar:function(e){function t(e){var t=Be.jqx.formatDate(s.toDate(),e,n.schedulerLocalization),i=Be.jqx.formatDate(r.toDate(),e,n.schedulerLocalization),o=n._views[n._view].type;!1===n._views[n._view].showWeekends&&(0!=s.dayOfWeek()&&6!=s.dayOfWeek()||(s=s.addDays(1)),0!=s.dayOfWeek()&&6!=s.dayOfWeek()||(s=s.addDays(1)),0!=r.dayOfWeek()&&6!=r.dayOfWeek()||(r=r.addDays(-1)),0!=r.dayOfWeek()&&6!=r.dayOfWeek()||(r=r.addDays(-1)),t=Be.jqx.formatDate(s.toDate(),e,n.schedulerLocalization),i=Be.jqx.formatDate(r.toDate(),e,n.schedulerLocalization)),"dayView"===o||"timelineDayView"===o?n.toolbarDetails.html(t):n.toolbarDetails.html(t+" - "+i),n.rtl?(n.toolbarDetails.addClass("jqx-rtl"),n.toolbarDetails.html("<span style='direction:rtl;'>"+i+"<span> - <span style='direction:rtl;'>"+t+"</span>")):n.toolbarDetails[0].style.direction="ltr"}var n=this,s=n.getViewStart(),r=n.getViewEnd();e?t(n._lastFormatString||n.toolBarRangeFormat):(t(n.toolBarRangeFormat),n.toolbarDetails.show(),n.toolbarViews.show(),n.toolbarViews.width()+n.toolbarDetails.width()+120>n.host.width()&&(t(n.toolBarRangeFormatAbbr),n.toolbarViews.width()+n.toolbarDetails.width()+120>n.host.width()&&(n.toolbarDetails.hide(),n.toolbarViews.width()+120>n.host.width()&&n.toolbarViews.hide())))},navigateTo:function(e){var t,i,o=this;"date"==Be.type(e)&&(e=new Be.jqx.date(e)),e<this.min||e>this.max||(e.timeZone=o.timeZone,o.date=e,o._refreshToolBar(!0),o.fromNavigate=!0,o.dateTimeInput.val(e.toDate()),o.fromNavigate=!1,o._refreshColumnTitles(),o._renderrows(),o._updateFocusedCell(),o.resources&&o._renderhorizontalscroll(),t=o.getViewStart(),i=Be.jqx.scheduler.utilities.getEndOfDay(o.getViewEnd()),o._raiseEvent("dateChange",{date:e,from:t,to:i}))},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var o=this,t=0;t<this.columnGroups.length;t++)this.columnGroups[t].parent=null,this.columnGroups[t].groups=null;for(t=0;t<this.columns.records.length;t++)this.columns.records[t].parent=null,this.columns.records[t].groups=null;function i(e){for(var t=0;t<o.columnGroups.length;t++){var i=o.columnGroups[t];if(i.name===e)return i}return null}for(t=0;t<this.columnGroups.length;t++)(d=this.columnGroups[t]).groups||(d.groups=null),d.parentGroup&&(d.parentgroup=d.parentGroup),d.parentgroup&&(n=i(d.parentgroup))&&((d.parent=n).groups||(n.groups=new Array),-1===n.groups.indexOf(d)&&n.groups.push(d));for(var n,t=0;t<this.columns.records.length;t++)(d=this.columns.records[t]).columngroup&&(n=i(d.columngroup))&&(n.groups||(n.groups=new Array),-1===(d.parent=n).groups.indexOf(d)&&n.groups.push(d));for(var s=0,t=0;t<this.columns.records.length;t++){var r=d=this.columns.records[t];for(d.level=0;r.parent;)r=r.parent,d.level++;for(var r=d,a=d.level,s=Math.max(s,d.level);r.parent;)(r=r.parent)&&(r.level=--a)}for(var l=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var o=l(e.groups[i]),n=0;n<o.length;n++)t.push(o[n]);return t},t=0;t<this.columnGroups.length;t++){var d=this.columnGroups[t],h=l(d);d.columns=h;for(var c=new Array,u=0,p=0;p<h.length;p++)c.push(this.columns.records.indexOf(h[p])),h[p].pinned&&u++;if(0!=u)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:t<e?1:0});for(var m=1;m<c.length;m++)if(c[m]!=c[m-1]+1)throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+s,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){if(t.editRecurrenceDialog&&t.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(t._editDialog&&t._editDialog.jqxWindow("isOpen"))return!0;if(t.autoheight&&"hidden"==t.hScrollBar.css("visibility"))return e.returnValue=!0;var i=0;if((e=e||window.event).originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){i=t._handleDelta(i);return i&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!i&&(i=!1,e.returnValue=!1)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;if(e<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){t=this.hScrollInstance.value;if(0<e?20<this.hScrollInstance.value?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max),t!=this.hScrollInstance.value)return!0}return!1},_removeHandlers:function(){var e=this;e._mousewheelfunc&&e.removeHandler(this.host,"mousewheel",e._mousewheelfunc),e.removeHandler(Be(document),"keydown.scheduler"+e.element.id),e.removeHandler(e.host,"focus"),e.removeHandler(e.host,"blur"),e.removeHandler(e.host,"dragstart."+e.element.id),e.removeHandler(e.host,"selectstart."+e.element.id),e.removeHandler(Be(window),"jqxReady."+e.element.id),e.removeHandler(e.host,"mousewheel",e._mousewheelfunc);var t="mousedown";e.isTouchDevice()&&(t=Be.jqx.mobile.getTouchEventName("touchstart"),Be.jqx.browser.msie&&Be.jqx.browser.version<10&&(t="mousedown")),e.table&&e.removeHandler(e.table,"mouseleave");var i,o="mousemove.scheduler"+e.element.id,n="mouseup.scheduler"+e.element.id;if(e.isTouchDevice()&&!0!==e.touchMode&&(o=Be.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+e.element.id,n=Be.jqx.mobile.getTouchEventName("touchend")+".scheduler"+e.element.id),e.removeHandler(Be(document),o),e.removeHandler(Be(document),n),!e.isTouchDevice())try{""==document.referrer&&!window.frameElement||null==window.top||window.top==window.self||(i=null,window.parent&&document.referrer&&(i=document.referrer),i&&-1!=i.indexOf(document.location.host)&&e.removeHandler(Be(window.top.document),"mouseup.jqxscheduler"+e.element.id))}catch(e){}e.removeHandler(e.host,o),e.removeHandler(Be(document),"keydown.jqxscheduler"+e.element.id),e.removeHandler(e.host,"keydown"),e.table&&(e.removeHandler(e.table,"dblclick"),e.removeHandler(e.pinnedtable,t),e.removeHandler(e.table,t))},selectAppointment:function(e){this.appointmentsByKey[e]&&this._selectAppointment(this.appointmentsByKey[e].jqxAppointment)},_selectAppointment:function(e,t,i){if(e){var o=this;o.selectedAppointment&&o.clearAppointmentsSelection();var n=e.id,s=Be('[data-key="'+n+'"]');if(0<s.length){o.selectedJQXAppointment=e,o.selectedAppointment=Be(t||s[0]);t=o._views[o._view].type,o._views[o._view];if("agendaView"==t)return void o.clearSelection();switch(s.addClass(o.toTP("jqx-scheduler-selected-appointment")),e.resizable&&s.find(".jqx-scheduler-appointment-resize-indicator").show(),t){case"dayView":Be(s).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),Be(s).find(".jqx-scheduler-appointment-right-resize-indicator").hide();break;case"weekView":break;case"monthView":case"timeLineMonthView":case"timeLineDayView":case"timeLineWeekView":1<s.length&&Be.each(s,function(e){o.rtl?(0<e&&Be(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide(),e<s.length-1&&Be(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide()):(0<e&&Be(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide(),e<s.length-1&&Be(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide())})}if("mouse"==i)return void o.clearSelection()}o.clearSelection()}},clearAppointmentsSelection:function(){var e,t=this;t.selectedAppointment&&(e=t.selectedAppointment.attr("data-key"),(e=Be('[data-key="'+e+'"]')).removeClass(t.toTP("jqx-scheduler-selected-appointment")),e.find(".jqx-scheduler-appointment-resize-indicator").hide(),t.selectedAppointment=null,t.selectedJQXAppointment=null)},selectCell:function(e,t,i){for(var o=this,n=e.toDate(),s=0;s<o.rows.length;s++)for(var r=0;r<o.rows[s].cells.length;r++){var a=o.rows[s].cells[r];if(!i||a.getAttribute("data-view")===i){var l=a.getAttribute("data-date"),l=o._getDateByString(l);if(t&&a.getAttribute("data-end-date")){if(l.valueOf()==e.valueOf())return a.setAttribute("data-selected","true"),o.focusedCell=a,o._lastSelectedCell=a,o._updateCellsSelection(),void o._ensureVisible(o.focusedCell)}else if(!t&&a.getAttribute("data-end-date"))continue;if(l.valueOf()==n.valueOf())return a.setAttribute("data-selected","true"),o.focusedCell=a,o._lastSelectedCell=a,o._updateCellsSelection(),void o._ensureVisible(o.focusedCell)}}o._updateCellsSelection()},selectRange:function(e,t,i,o){var n=this;e<this.min&&(e=this.min),t>this.max&&(t=this.max);for(var s=e.toDate(),r=t.toDate(),a=!1,l=0;l<n.rows.length;l++)for(var d=0;d<n.rows[l].cells.length;d++){var h=n.rows[l].cells[d];if(!o||h.getAttribute("data-view")===o){var c=h.getAttribute("data-date"),c=n._getDateByString(c);if(i&&h.getAttribute("data-end-date"))c.valueOf()>=s.valueOf()&&c.valueOf()<=r.valueOf()&&h.setAttribute("data-selected","true");else if(!i&&h.getAttribute("data-end-date"))continue;c.valueOf()>=s.valueOf()&&c.valueOf()<=r.valueOf()&&(h.setAttribute("data-selected","true"),a||(n._lastSelectedCell=h,n.focusedCell=h,a=!0))}}n._updateCellsSelection()},_selectRange:function(i,o){var n=this;if("agendaView"!=n._views[n._view].type){var e=i,t=o.getAttribute("data-view");if(i.getAttribute("data-view")===t){var s=o.getAttribute("data-date"),r=e.getAttribute("data-date");if(null!=s&&null!=r){var a=o.getAttribute("data-end-date"),l=e.getAttribute("data-end-date"),d=null!=a||null!=l,h=null!=a&&null!=l,s=n._getDateByString(s),r=n._getDateByString(r);s<this.min.toDate()&&(s=this.min.toDate()),r<this.min.toDate()&&(r=this.min.toDate()),s>this.max.toDate()&&(s=this.max.toDate()),r>this.max.toDate()&&(r=this.max.toDate());var c=Math.min(s,r),u=Math.max(s,r),p=n.rows,m=0,f=0;0<m&&n.rtl&&(m=0,f=1);var g,w=p.length;d&&(w=1,null==i.getAttribute("data-end-date")&&(r.setHours(0,0,0,0),g=new Be.jqx.date(r,n.timeZone).toString(),Be(e).parent().index(),Be.each(p[0].cells,function(){if(this.getAttribute("data-date")===g){i=this,h=null!=o.getAttribute("data-end-date")&&null!=i.getAttribute("data-end-date");var e=o.getAttribute("data-date"),t=i.getAttribute("data-date"),e=n._getDateByString(e),t=n._getDateByString(t);return c=Math.min(e,t),u=Math.max(e,t),!1}})));for(var v=0;v<w;v++){var y,x=p[v];d&&1<this.tableRows&&(A=p[y=(-1+parseInt(i.getAttribute("data-view")))*(p.length/n.tableRows)],x=p[y]);for(var b,A=x.cells,T=m;T<A.length-f;T++)A[T].getAttribute("data-view")===t&&(A[T].removeAttribute("data-selected"),!h&&A[T].getAttribute("data-end-date")||(b=A[T].getAttribute("data-date"),b=n._getDateByString(b).valueOf(),c<=b&&b<=u&&A[T].setAttribute("data-selected","true")))}n._updateCellsSelection()}}}},findCell:function(e,t){var i=this,o=null;i._tableOffset||(n=i.schedulercontent.coord(),i._tableOffset=n);var n=i._tableOffset,s=n.top,r=n.left;if(t<s)return null;if(e<r)return null;if(t>s+i._hostHeight)return null;if(e>r+i._hostWidth)return null;for(var a=!1,l=i.rows,d=i._views[i._view],h=d.type,c=i.vScrollInstance.value,u=i.hScrollInstance.value,p=0;p<l.length&&!a;p++){var m=l[p].cells,f=!1;(0==p&&"dayView"==h||"weekView"==h)&&(f=i.showAllDayRow,!d.timeRuler||"dayView"!==h&&"weekView"!==h||null!=d.timeRuler.showAllDayRow&&(f=d.timeRuler.showAllDayRow),f&&i._allDayRowFullHeight);for(var g=0;g<m.length;g++){var w,v,y,x,b=m[g];if(0!=g||!b.getAttribute("data-time-slot"))if(b._left?(w=b._left,v=b._top,y=b._width,x=b._height):(w=b.offsetLeft+r,v=b.offsetTop+s,y=b.offsetWidth,x=b.offsetHeight,b._left=w,b._top=v,b._width=y,b._height=x),b._left=w,b._top=v,b._width=y,b._height=x,0!==y&&0!==x){if(i.rtl?"hidden"!=i.hScrollInstance.element.style.visibility&&(w-=i.hScrollInstance.max-u):w-=u,v-=c,0==p&&f&&(v+=c),!(v<=t&&t<v+x))break;if(w<=e&&e<w+y){o=b,a=!0;break}}}}return o},_removeFeedbackAndStopResize:function(){var e=this;if(e.feedback){if(e.feedback.remove(),e.feedback=null,e.pinnedfeedback.remove(),e.pinnedfeedback=null,e.feedbacks)for(var t=0;t<e.feedbacks.length;t++)e.feedbacks[t].remove();e._resizeDays=0,e._resizeStep=0,e._lastX=null,e.feedbacks=new Array,e.leftResize=!1,e.rightResize=!1,e.topResize=!1,e.bottomResize=!1,e.overlay.hide(),e.resizing=!1,e.resizeFrom=null,e._dragCell=null,e._dragStartCell=null,e.resizeTo=null,e.dragOrResize=!1,e.isMouseDown=!1,e.selectedJQXAppointment&&Be('[data-key="'+e.selectedJQXAppointment.id+'"]').removeClass(e.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),e.openedMonthCellPopup&&e.openedMonthCellPopup.remove()}},_saveChangesAfterDragOrResize:function(e,t,i,o){if(!1===e)if(t.isException()){for(var n=(t.rootAppointment||t).exceptions,s=0;s<n.length;s++)if(n[s].occurrenceFrom.equals(t.occurrenceFrom)){n[s]=t;break}}else t.rootAppointment.recurrenceException||(t.rootAppointment.recurrenceException=new Array),null!=t.rootAppointment?(t.rootAppointment.exceptions.push(t),t.rootAppointment.recurrenceException.push(t.occurrenceFrom)):(t.exceptions.push(t),t.recurrenceException.push(t.occurrenceFrom));else if(!0===e){if(t.isException())for(n=(t.rootAppointment||t).exceptions,s=0;s<n.length;s++)if(n[s].occurrenceFrom.equals(t.occurrenceFrom)){for(var r=0;r<t.rootAppointment.recurrenceException.length;r++)if(t.rootAppointment.recurrenceException[r].equals(n[s].occurrenceFrom)){t.from;var a=new Be.jqx.date(n[s].occurrenceFrom.year(),n[s].occurrenceFrom.month(),n[s].occurrenceFrom.day(),t.from.hour(),t.from.minute(),t.from.second());t.rootAppointment.recurrenceException[r]=a;break}(n[s]=t).from;a=new Be.jqx.date(n[s].occurrenceFrom.year(),n[s].occurrenceFrom.month(),n[s].occurrenceFrom.day(),t.from.hour(),t.from.minute(),t.from.second());n[s].occurrenceFrom=a;break}if(null!=t.rootAppointment){t.rootAppointment.recurrencePattern=t.rootAppointment.recurrencePattern.createNewPattern();var l=t.rootAppointment.from,e=t.rootAppointment.duration(),a=null;switch(t.rootAppointment.recurrencePattern.freq){case"daily":case"weekly":case"monthly":case"yearly":a=new Be.jqx.date(l.year(),l.month(),l.day(),t.from.hour(),t.from.minute(),t.from.second())}o?(t.rootAppointment.from=l,t.rootAppointment.to=l.add(t.duration())):(t.rootAppointment.from=a,t.rootAppointment.to=a.add(e)),t.rootAppointment.allDay=t.allDay,t.rootAppointment.resourceId=t.resourceId,t.rootAppointment.color=t.color,t.rootAppointment.borderColor=t.borderColor,t.rootAppointment.background=t.background,t.rootAppointment.timezone=t.timezone,t.rootAppointment.subject=t.subject,t.rootAppointment.description=t.description,t.rootAppointment.location=t.location,t.rootAppointment.category=t.category,t.rootAppointment.status=t.status,this.resizing?t.rootAppointment.recurrencePattern.setFrom(l):t.rootAppointment.recurrencePattern.setFrom(a)}else t.recurrencePattern=t.recurrencePattern.createNewPattern(),t.recurrencePattern.setFrom(t.from);i=Be(i).attr("data-view"),i=this._resources[parseInt(i)-1];null!=i&&(null!=t.rootAppointment?t.rootAppointment.resourceId=i:t.resourceId=i)}},_handleMouseUp:function(e,f,g){var w=this;clearInterval(w._verticalIntervalDragVelocity),clearInterval(w._horizontalIntervalDragVelocity),clearInterval(w._intervalDrag),clearInterval(w._horizontalIntervalDrag);var t=e,i=!1;if(g?w.resizeTo?t.to.equals(w.resizeTo)&&(i=!0):w.resizeFrom&&t.from.equals(w.resizeFrom)&&(i=!0):w._dragStartCell==f&&(i=!0),i)return Be('[data-key="'+e.id+'"]').removeClass(w.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),void w._removeFeedbackAndStopResize();var v=t.duration(),y=1<=t.duration().days()||t.allDay,e=function(e,t){var i;if((t.allDay||y)&&(i=w.getMaxAllDayAppointments(w.appointmentsToRender)),g)w.resizeTo?(w.resizeTo>w.max&&(w.resizeTo=w.max),w.resizeTo<w.min&&(w.resizeTo=w.min),t.to=w.resizeTo):w.resizeFrom&&(w.resizeFrom>w.max&&(w.resizeFrom=w.max),w.resizeFrom<w.min&&(w.resizeFrom=w.min),t.from=w.resizeFrom),0==t.from.hour()&&0==t.from.minute()&&23==t.to.hour()&&59==t.to.minute()&&(t.allDay=!0);else{var o,n=w._views[w._view].type,s=w._views[w._view],r=Be(f).attr("data-date"),a=null!=Be(f).attr("data-end-date"),r=new Be.jqx.date(r,w.timeZone);if(r<w.min&&(r=w.min),r>w.max&&(r=w.max),!(w.rtl&&y&&a||w.rtl&&("monthView"==n||"timelineMonthView"==n))?!w.rtl||"timelineDayView"!=n&&"timelineWeekView"!=n?t.from=r:(o=w.getMinutesPerScale(),t.to=r.addMinutes(o)):t.to=Be.jqx.scheduler.utilities.getEndOfDay(r),"dayView"===n||"weekView"===n)if(y||a){if(!y&&a)t.to=Be.jqx.scheduler.utilities.getEndOfDay(r),t.allDay=!0;else if(y&&a&&!w.rtl)t.to=r.add(v),0==t.from.hour()&&0==t.from.minute()&&23==t.to.hour()&&59==t.to.minute()&&(t.allDay=!0);else if(y&&a&&w.rtl)t.from=Be.jqx.scheduler.utilities.getStartOfDay(t.to.add(new Be.jqx.timeSpan(-v))),0==t.from.hour()&&0==t.from.minute()&&23==t.to.hour()&&59==t.to.minute()&&(t.allDay=!0);else if(y&&!a){a=30;switch(s.timeRuler&&s.timeRuler.scale){case"sixtyMinutes":case"hour":a=60;break;case"fifteenMinutes":case"quarterHour":a=15;break;case"tenMinutes":a=10;break;case"fiveMinutes":a=5}t.to=r.addMinutes(a),t.allDay=!1}}else t.to=r.add(v),t.allDay=!1;else"monthView"===n?w.rtl?t.from=Be.jqx.scheduler.utilities.getStartOfDay(t.to.add(new Be.jqx.timeSpan(-v))):t.to=r.add(v):"timelineDayView"!==n&&"timelineWeekView"!==n&&"timelineMonthView"!==n||(w.rtl?"timelineMonthView"==n?t.from=Be.jqx.scheduler.utilities.getStartOfDay(t.to.add(new Be.jqx.timeSpan(-v))):(o=w.getMinutesPerScale(),t.from=r.addMinutes(o).add(new Be.jqx.timeSpan(-v))):t.to=r.add(v))}w._saveChangesAfterDragOrResize(e,t,f,w.resizing);n=Be(f).attr("data-view"),n=w._resources[parseInt(n)-1];null!=n&&(t.resourceId=n),w.resizing=!1,w.resizeFrom=null,w._dragCell=null,w.resizeTo=null;var l,d,h,c={},u={};for(l in w.appointmentDataFields){var p=w.appointmentDataFields[l],m=t[l];c[l]=m,"from"!=l&&"to"!=l||(m=m.toDate()),u[p]=m}c.jqxAppointment=t,c.originalData=u,t.boundAppointment=c,w._raiseEvent("appointmentChange",{appointment:t.boundAppointment}),w.changedAppointments[t.id]={type:"Update",appointment:t.boundAppointment},w.table.find(".jqx-icon-arrow-down").hide(),"monthView"==w._views[w._view].type&&w._views[w._view].monthRowAutoHeight?w._renderrows():"weekView"!=w._views[w._view].type&&"dayView"!=w._views[w._view].type||!t.allDay&&!y?(d=w.getViewStart(),h=Be.jqx.scheduler.utilities.getEndOfDay(w.getViewEnd()),w._prepareAppointmentsInView(d,h),w._renderAppointments(d,h)):1<w.tableRows?w._renderrows():(d=w.getViewStart(),h=Be.jqx.scheduler.utilities.getEndOfDay(w.getViewEnd()),w._prepareAppointmentsInView(d,h),w._renderAppointments(d,h),(h=w.getMaxAllDayAppointments(w.appointmentsToRender))!=i&&(h=h*(w._defaultRowHeight-2),h=w.isTouchDevice()?Math.max(22+w._defaultRowHeight,17+h):Math.max(3*w._defaultRowHeight,17+h),(1==w.tableRows?Be(Be(w.table[0].rows[0]).find("td")):Be(Be(w.table[0].rows[1]).find("td"))).css("height",h+"px"),Be(w.oldRow).find("td").css("height",h+"px"),Be(w.pinnedTableRow).find("td").css("height",h+"px"),w.pinnedtable.height(h),w._updateScrollbars(w._hostHeight||w.host.height()))),w._removeFeedbackAndStopResize()};t.isRecurrentAppointment()?e(!1,t):e(null,t)},_handleDayWeekViewResize:function(e,t,i,o,n){var s=this,r=(s._views[s._view].type,s._views[s._view]);if(1<=n.duration().days()||n.allDay||i.getAttribute("data-end-date")){function a(e){return!(e<s.cellWidth-10)}var l,r=r.appointmentsRenderMode&&"exactTime"==r.appointmentsRenderMode;if(n.allDay||!r)s.leftResize?(s._lastResizeX||(s._lastResizeX=s.mouseDownPosition.left),e>s._lastResizeX+Be(i).width()/2?a(l=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-o.left-s.cellWidth)&&(s.feedback.css("left",5+o.left+s.cellWidth),s.feedback.width(l-5),s.feedback.hide(),s.pinnedfeedback.css("left",5+o.left+s.cellWidth),s.pinnedfeedback.width(l-5),s._lastResizeX=s.pinnedfeedback.coord().left,s.rtl?s.resizeTo=Be.jqx.scheduler.utilities.getEndOfDay(new Be.jqx.date(i.getAttribute("data-date"),s.timeZone)).addDays(-1):s.resizeFrom=new Be.jqx.date(i.getAttribute("data-date"),s.timeZone).addDays(1)):e<s._lastResizeX-Be(i).width()/2&&a(l=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left-o.left)&&(s.feedback.css("left",5+o.left),s.feedback.width(l-5),s.feedback.hide(),s.pinnedfeedback.css("left",5+o.left),s.pinnedfeedback.width(l-5),s._lastResizeX=s.pinnedfeedback.coord().left,s.rtl?s.resizeTo=Be.jqx.scheduler.utilities.getEndOfDay(new Be.jqx.date(i.getAttribute("data-date"),s.timeZone)):s.resizeFrom=new Be.jqx.date(i.getAttribute("data-date"),s.timeZone))):s.rightResize&&(s._lastResizeX||(s._lastResizeX=s.selectedAppointmentTableBounds.width+s.selectedAppointmentTableBounds.left),r=Be(i).width()/2,e>s._lastResizeX+r?(q=Be(i).width()+o.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left,a(l=s.selectedAppointmentTableBounds.width+q)&&(s.feedback.hide(),s.feedback.width(l-6),s.feedback.css("left",5+o.left),s.pinnedfeedback.width(l-6),s._lastResizeX=s.selectedAppointmentTableBounds.width+q+s.pinnedfeedback.coord().left,s.rtl?s.resizeFrom=new Be.jqx.date(i.getAttribute("data-date"),s.timeZone):s.resizeTo=Be.jqx.scheduler.utilities.getEndOfDay(new Be.jqx.date(i.getAttribute("data-date"),s.timeZone)))):e<s._lastResizeX-r&&(q=o.left-s.selectedAppointmentTableBounds.width-s.selectedAppointmentTableBounds.left,a(l=s.selectedAppointmentTableBounds.width+q)&&(s.feedback.hide(),s.feedback.css("left",5+o.left),s.feedback.width(l-6),s.pinnedfeedback.width(l-6),s._lastResizeX=s.selectedAppointmentTableBounds.width+q+s.pinnedfeedback.coord().left,s.rtl?s.resizeFrom=new Be.jqx.date(i.getAttribute("data-date"),s.timeZone).addDays(1):s.resizeTo=Be.jqx.scheduler.utilities.getEndOfDay(new Be.jqx.date(i.getAttribute("data-date"),s.timeZone).addDays(-1)))));else{var d=new Array,h=new Array,c=-1,u=-1,p=this.host.coord().left,m=0,f=s.hScrollInstance.value;s.rtl&&(f=s.hScrollInstance.max-s.hScrollInstance.value),"hidden"==s.hScrollBar[0].style.visibility&&(f=0);for(var g=e+f-p,p=0,w=0;w<this.columns.records.length;w++)this.columns.records[w].timeColumn&&(s.rtl||(p+=this.columns.records[w].width,m++));for(var v=s.getViewStart(),y=s.getViewEnd(),w=0;w<this._getColumnsLengthPerView();w++){var x=this.columns.records[w+m].width;s.leftResize?(s.rtl||(d.push(p),h.push(v.addDays(w)),(0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&p<s.selectedAppointmentTableBounds.left&&p+x>s.selectedAppointmentTableBounds.left&&(d.push(s.selectedAppointmentTableBounds.left),h.push(n.from),c=d.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&p<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&p+x>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(d.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),h.push(n.to),u=d.length-1)),s.rtl&&(d.push(p),h.push(y.addDays(-w-1)),(0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&p<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&p+x>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(d.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),h.push(n.from),c=d.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&p<s.selectedAppointmentTableBounds.left&&p+x>s.selectedAppointmentTableBounds.left&&(d.push(s.selectedAppointmentTableBounds.left),h.push(n.to),u=d.length-1)),p+=x):s.rtl?((0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&p<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&p+x>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(d.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),h.push(n.from),c=d.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&p<s.selectedAppointmentTableBounds.left&&p+x>s.selectedAppointmentTableBounds.left&&(d.push(s.selectedAppointmentTableBounds.left),h.push(n.to),u=d.length-1),p+=x,d.push(p),h.push(y.addDays(-w-1))):((0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&p<s.selectedAppointmentTableBounds.left&&p+x>s.selectedAppointmentTableBounds.left&&(d.push(s.selectedAppointmentTableBounds.left),h.push(n.from),c=d.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&p<s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&p+x>s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width&&(d.push(s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width+8),h.push(n.to),u=d.length-1),p+=x,d.push(p),h.push(v.addDays(w)))}if(s.leftResize){for(w=0;w<d.length;w++){var b,o=d[w];_=(_=d[w+1])||o,(w<d.length-1?o<=g&&g<=_:o<=g)&&(x=-o+s.selectedAppointmentTableBounds.left+s.selectedAppointmentTableBounds.width,S=s.pinnedfeedback.width(),b=s.pinnedfeedback.css("left"),D=s.resizeTo,j=s.resizeFrom,0<x&&(s.pinnedfeedback.css("left",o),s.pinnedfeedback.width(x),w==c?s.rtl?s.resizeTo=n.from:s.resizeFrom=n.from:w==u?s.rtl?s.resizeTo=n.to:s.resizeFrom=n.to:s.rtl?s.resizeTo=Be.jqx.scheduler.utilities.getEndOfDay(h[w]):s.resizeFrom=h[w]))}var A=s.resizeFrom,T=s.resizeTo;s.rtl?A=n.from:T=n.to,new Be.jqx.timeSpan(1e4*(T-A)).days()<1&&(s.pinnedfeedback.css("left",b),s.pinnedfeedback.width(S),s.resizeFrom=j,s.resizeTo=D)}else if(s.rightResize){for(w=0;w<d.length;w++){var _,o=d[w];if(_=(_=d[w+1])||o,w<d.length-1?e>=o-this.cellWidth/3&&e<=_-this.cellWidth/3:e>=o-this.cellWidth/3){var x=o-s.selectedAppointmentTableBounds.left-15,S=s.pinnedfeedback.width();s.pinnedfeedback.width(x);var D=s.resizeTo,j=s.resizeFrom;if(w==c){s.rtl?s.resizeFrom=n.from:s.resizeTo=n.from;x=o-s.selectedAppointmentTableBounds.left-9;s.pinnedfeedback.width(x);break}if(w==u){s.rtl?s.resizeFrom=n.to:s.resizeTo=n.to;x=o-s.selectedAppointmentTableBounds.left-9;s.pinnedfeedback.width(x);break}s.rtl?s.resizeFrom=h[w]:s.resizeTo=Be.jqx.scheduler.utilities.getEndOfDay(h[w]);break}}A=s.resizeFrom,T=s.resizeTo;s.rtl?T=n.to:A=n.from,new Be.jqx.timeSpan(1e4*(T-A)).days()<1&&(s.pinnedfeedback.width(S),s.resizeFrom=j,s.resizeTo=D)}}}else{var q,C,f=function(e){return!(e<10)},T=s.findCell(s.feedback.coord().left,t);s.topResize?(s._lastResizeY||(s._lastResizeY=s.mouseDownPosition.top),t>s._lastResizeY+Be(i).height()/2?f(C=s.selectedAppointmentTableBounds.height+s.selectedAppointmentTableBounds.top-o.top-Be(i).height()-3)&&(s.feedback.css("top",2+o.top+Be(i).height()),s.feedback.height(C),s._lastResizeY=s.feedback.coord().top,A=new Be.jqx.date(T.getAttribute("data-date"),s.timeZone),s.resizeFrom=A.addMinutes(s.getMinutesPerScale())):t<s._lastResizeY-Be(i).height()/2&&f(C=s.selectedAppointmentTableBounds.height+s.selectedAppointmentTableBounds.top-o.top-3)&&(s.feedback.css("top",2+o.top),s.feedback.height(C),s._lastResizeY=s.feedback.coord().top,s.resizeFrom=new Be.jqx.date(T.getAttribute("data-date"),s.timeZone))):s.bottomResize&&(s._lastResizeY||(s._lastResizeY=s.mouseDownPosition.top),t>s._lastResizeY+Be(i).height()/2?(q=-5+Be(i).height()+o.top-s.selectedAppointmentTableBounds.height-s.selectedAppointmentTableBounds.top,f(C=s.selectedAppointmentTableBounds.height+q)&&(s.feedback.height(C),s._lastResizeY=s.selectedAppointmentTableBounds.height+q+s.feedback.coord().top,s.resizeTo=new Be.jqx.date(T.getAttribute("data-date"),s.timeZone).addMinutes(s.getMinutesPerScale()))):t<s._lastResizeY-Be(i).height()/2&&(q=-5+o.top-s.selectedAppointmentTableBounds.height-s.selectedAppointmentTableBounds.top,f(C=s.selectedAppointmentTableBounds.height+q)&&(s.feedback.height(C),s._lastResizeY=s.selectedAppointmentTableBounds.height+q+s.feedback.coord().top,s.resizeTo=new Be.jqx.date(T.getAttribute("data-date"),s.timeZone))))}},_handleTimelineMonthViewResize:function(e,t,i,o,n){function s(e){return!(e<10)}var r,a,l=this,d=(l._views[l._view].type,l._views[l._view],l.findCell(e,l.feedback.coord().top));if(n.allDay)l.leftResize?(l._lastResizeX||(l._lastResizeX=l.mouseDownPosition.left),e>l._lastResizeX+Be(i).width()/2?s(a=l.selectedAppointmentTableBounds.width+l.selectedAppointmentTableBounds.left-o.left-Be(i).width())&&(l.feedback.css("left",o.left+Be(i).width()),l.feedback.width(a),l._lastResizeX=l.feedback.coord().left,l.rtl?l.resizeTo=Be.jqx.scheduler.utilities.getEndOfDay(new Be.jqx.date(d.getAttribute("data-date"),l.timeZone).addDays(-1)):l.resizeFrom=new Be.jqx.date(d.getAttribute("data-date"),l.timeZone).addDays(1)):e<l._lastResizeX-Be(i).width()/2&&s(a=l.selectedAppointmentTableBounds.width+l.selectedAppointmentTableBounds.left-o.left)&&(l.feedback.css("left",o.left),l.feedback.width(a),l._lastResizeX=l.feedback.coord().left,l.rtl?l.resizeTo=Be.jqx.scheduler.utilities.getEndOfDay(new Be.jqx.date(d.getAttribute("data-date"),l.timeZone)):l.resizeFrom=new Be.jqx.date(d.getAttribute("data-date"),l.timeZone))):l.rightResize&&(l._lastResizeX||(l._lastResizeX=l.mouseDownPosition.left),e>l._lastResizeX+Be(i).width()/2?(r=Be(i).width()+o.left-l.selectedAppointmentTableBounds.width-l.selectedAppointmentTableBounds.left,s(a=l.selectedAppointmentTableBounds.width+r-5)&&(l.feedback.width(a),l._lastResizeX=l.selectedAppointmentTableBounds.width+r+l.feedback.coord().left,l.rtl?l.resizeFrom=new Be.jqx.date(d.getAttribute("data-date"),l.timeZone):l.resizeTo=Be.jqx.scheduler.utilities.getEndOfDay(new Be.jqx.date(d.getAttribute("data-date"),l.timeZone)))):e<l._lastResizeX-Be(i).width()/2&&(r=o.left-l.selectedAppointmentTableBounds.width-l.selectedAppointmentTableBounds.left,s(a=l.selectedAppointmentTableBounds.width+r-5)&&(l.feedback.width(a),l._lastResizeX=l.selectedAppointmentTableBounds.width+r+l.feedback.coord().left,l.rtl?l.resizeFrom=new Be.jqx.date(d.getAttribute("data-date"),l.timeZone).addDays(1):l.resizeTo=Be.jqx.scheduler.utilities.getEndOfDay(new Be.jqx.date(d.getAttribute("data-date"),l.timeZone).addDays(-1)))));else{for(var h=new Array,c=new Array,u=-1,p=-1,m=this.host.coord().left,f=0,g=0;g<this.columns.records.length;g++)this.columns.records[g].timeColumn&&(m+=this.columns.records[g].width,f++);d=l.hScrollInstance.value;l.rtl&&(d=l.hScrollInstance.max-l.hScrollInstance.value),"hidden"==l.hScrollBar[0].style.visibility&&(d=0);for(var w=e+d-m,m=0,v=l.getViewStart(),y=l.getViewEnd(),g=(this._getColumnsLengthPerView(),0);g<this._getColumnsLengthPerView();g++){var x=this.columns.records[g+f].width;l.leftResize?(h.push(m),l.rtl?c.push(y.addDays(-g)):c.push(v.addDays(g)),(0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&m<l.selectedAppointmentTableBounds.left&&m+x>l.selectedAppointmentTableBounds.left&&(h.push(l.selectedAppointmentTableBounds.left),c.push(n.from),u=h.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&m<l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width&&m+x>l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width&&(h.push(l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width+8),c.push(n.to),p=h.length-1),m+=x):((0!=n.from.hour()||0==n.from.hour()&&0!=n.from.minute())&&m<l.selectedAppointmentTableBounds.left&&m+x>l.selectedAppointmentTableBounds.left&&(h.push(l.selectedAppointmentTableBounds.left),c.push(n.from),u=h.length-1),(23!=n.to.hour()||23==n.to.hour()&&59!=n.to.minute())&&m<l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width&&m+x>l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width&&(h.push(l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width),c.push(n.to),p=h.length-1),m+=x,h.push(m),l.rtl?c.push(y.addDays(-g-1)):c.push(v.addDays(g)))}if(l.leftResize){for(g=0;g<h.length;g++){var b,A=h[g];S=(S=h[g+1])||A,(g<h.length-1?A<=w&&w<=S:A<=w)&&(x=-A+l.selectedAppointmentTableBounds.left+l.selectedAppointmentTableBounds.width,D=l.feedback.width(),b=l.feedback.css("left"),j=l.resizeTo,q=l.resizeFrom,l.feedback.css("left",A),l.feedback.width(x),g==u?l.rtl?l.resizeTo=n.from:l.resizeFrom=n.from:g==p?l.rtl?l.resizeTo=n.to:l.resizeFrom=n.to:l.rtl?l.resizeTo=c[g]:l.resizeFrom=c[g])}var T=l.resizeFrom,_=l.resizeTo;l.rtl?T=n.from:_=n.to;new Be.jqx.timeSpan(1e4*(_-T));l.feedback.width()<20&&(l.feedback.css("left",b),l.feedback.width(D),l.resizeFrom=q,l.resizeTo=j)}else if(l.rightResize){for(g=0;g<h.length;g++){var S,A=h[g];if(S=(S=h[g+1])||A,g<h.length-1?w>=A-this.cellWidth/3&&w<=S-this.cellWidth/3:w>=A-this.cellWidth/3){var x=A-l.selectedAppointmentTableBounds.left-12,D=l.feedback.width();l.feedback.width(x);var j=l.resizeTo,q=l.resizeFrom;if(g==u){l.rtl?l.resizeFrom=n.from:l.resizeTo=n.from;x=A-l.selectedAppointmentTableBounds.left;l.feedback.width(x);break}if(g==p){l.rtl?l.resizeFrom=n.to:l.resizeTo=n.to;x=A-l.selectedAppointmentTableBounds.left;l.feedback.width(x);break}l.rtl?l.resizeFrom=c[g]:l.resizeTo=Be.jqx.scheduler.utilities.getEndOfDay(c[g]);break}}T=l.resizeFrom,_=l.resizeTo;l.rtl?_=n.to:T=n.from;new Be.jqx.timeSpan(1e4*(_-T));l.feedback.width()<20&&(l.feedback.width(D),l.resizeFrom=q,l.resizeTo=j)}}},_handleMonthViewResize:function(e,t,i,o,n){var s=this;if(s.selectedJQXAppointment){s._views[s._view].type;var r=s._views[s._view],a=-5;1<s.tableColumns&&(a=parseInt(-5/s.tableColumns));for(var l=0;l<s.columns.records.length/s.tableColumns;l++)s.columns.records[l].timeColumn||(a+=s.columns.records[l].width);var d=s.selectedJQXAppointment.resourceId,h=s._resources.indexOf(d);s.resources&&"none"==s.resources.orientation&&(h=-1);var c="0px";-1!=h&&1==s.tableRows&&(c=a*h+"px"),r.showWeekNumbers&&(s.rtl||(c=parseInt(c)+s.columns.records[0].width+"px"));var u=i.offsetWidth,p=(i.offsetHeight,18);s.isTouchDevice()&&(p=2);for(l=0;l<6;l++)s.feedbacks[l][0].style.left=c,s.feedbacks[l][0].style.width=a+"px",s.feedbacks[l][0].style.display="block",s.feedbacks[l][0].style.top=parseInt(s.rows[l].top)+p+"px",1<s.tableRows&&(s.feedbacks[l][0].style.top=parseInt(s.rows[6*h+l].top)+p+"px"),Be(s.feedbacks[l][0]).find(".jqx-scheduler-appointment-resize-indicator").css("visibility","inherit");var m=s.selectedJQXAppointment.elements,d=(m[0].cells[0].cell,m[m.length-1]),f=d.lastCellY,g=d.lastCellX,w=m[0].cellY,v=m[0].cellX,y=parseInt(o.top),x=parseInt(o.left);if(s.rtl){if(s.leftResize){for(k=!1,l=0;l<6;l++){A=s.feedbacks[l],T=parseInt(A[0].style.top)-p,parseInt(A[0].style.left);if(T<y)A[0].style.width=a+"px";else for(_=0;_<m.length;_++)(q=m[_].cellY)==T&&(A[0].style.width=m[_].width+"px",A[0].style.top=m[_].y+"px");D=m[0],j=parseInt(D.x);if(T==w?(A[0].style.left=j+"px",y==w?(A[0].style.left=1+o.left+"px",A[0].style.width=-1+D.x+D.width-o.left+"px",o.left>D.x+D.width&&(A[0].style.width=D.width+"px",A[0].style.left=D.x+"px"),"exactTime"!=r.appointmentsRenderMode||s.selectedJQXAppointment.allDay||e-(B=s.host.coord().left)>=D.x-10&&e-B<=D.cellX+s.cellWidth&&(A[0].style.width=D.width+"px",A[0].style.left=D.x+"px",k=!0)):y<w?(A[0].style.left=j+"px",A[0].style.width=D.width+"px"):w<y&&(A[0].style.left=c,A[0].style.width=D.x+D.width-parseInt(c)+"px")):T==y&&(A[0].style.width=a-o.left+parseInt(c)+"px",A[0].style.left=o.left+"px"),T<w&&(A[0].style.display="none"),y<T&&(A[0].style.display="none"),y<w)for(_=0;_<m.length;_++)(q=m[_].cellY)==T&&(A[0].style.display="block",A[0].style.width=m[_].width+"px",A[0].style.left=m[_].x+"px");if(y==w)for(_=0;_<m.length;_++){q=m[_].cellY;(y<w||y==w)&&q==T&&w!=f&&(A[0].style.left=1+o.left+parseInt(c)+"px",1+o.left+parseInt(c)>D.x+D.width&&(A[0].style.left=D.x+"px"),A[0].style.width=-1+D.x+D.width-o.left+"px")}}(C=Be.jqx.scheduler.utilities.getEndOfDay(new Be.jqx.date(i.getAttribute("data-date"),s.timeZone)))>s.selectedJQXAppointment.from&&!k?s.resizeTo=C:s.resizeTo=s.selectedJQXAppointment.to}else if(s.rightResize){for(b=!1,l=0;l<6;l++){A=s.feedbacks[l],T=parseInt(A[0].style.top)-p,parseInt(A[0].style.left);T<y&&(A[0].style.width=a+"px");for(_=0;_<m.length;_++)(q=m[_].cellY)==T&&(A[0].style.top=m[_].y+"px");D=m[0],j=parseInt(D.x);if(T==w?(A[0].style.left=j+"px",y==w?v<=x?(A[0].style.width=x+u-j-5+"px","exactTime"!=r.appointmentsRenderMode||s.selectedJQXAppointment.allDay||e-(B=s.host.coord().left)>=D.lastCellX&&e-B<=D.x+D.width+15&&(A[0].style.width=D.width+"px",b=!0)):A[0].style.width=D.width+"px":w<y?(A[0].style.left=j+"px",A[0].style.width=D.width+"px"):y<w&&(A[0].style.left=j+"px",A[0].style.width=a-j+parseInt(c)+"px")):T==y&&(A[0].style.width=x+u-5-parseInt(c)+"px"),f<T&&(A[0].style.display="none"),T<y&&(A[0].style.display="none"),f<y)for(_=0;_<m.length;_++)(q=m[_].cellY)==T&&(A[0].style.display="block"),T==f&&(A[0].style.width=m[_].width+"px",A[0].style.left=m[_].x+"px");if(y<=f&&T==f)for(_=0;_<m.length;_++){q=m[_].cellY;T!=y&&q==T&&w!=f?(A[0].style.width=m[_].width+"px",A[0].style.left=m[_].x+"px"):T==y&&q==T&&w!=f&&(A[0].style.left=m[_].x+"px",A[0].style.width=x+u-5-parseInt(c)-m[_].x+"px")}}(C=new Be.jqx.date(i.getAttribute("data-date"),s.timeZone))<s.selectedJQXAppointment.to&&!b?s.resizeFrom=C:s.resizeFrom=s.selectedJQXAppointment.from}}else if(s.leftResize){for(var b=!1,l=0;l<6;l++){var A=s.feedbacks[l],T=parseInt(A[0].style.top)-p;parseInt(A[0].style.left);if(T<y){A[0].style.width=a+"px";for(var _=0;_<m.length;_++)(q=m[_].cellY)==T&&(A[0].style.top=m[_].y+"px")}else for(var _=0;_<m.length;_++)(q=m[_].cellY)==T&&(A[0].style.width=m[_].width+"px",A[0].style.top=m[_].y+"px");var S,D=m[0],j=parseInt(D.x);if(T==w?(A[0].style.left=j+"px",y==w?(A[0].style.left=1+o.left+"px",A[0].style.width=-1+D.x+D.width-o.left+"px","exactTime"!=r.appointmentsRenderMode||s.selectedJQXAppointment.allDay||(S=s.cellWidth-(D.x-v),e-(B=s.host.coord().left)>=D.x&&e-B<=D.x+S+2&&(A[0].style.left=j+"px",A[0].style.width=D.width+"px",b=!0))):w<y?(A[0].style.left=j+"px",A[0].style.width=D.width+"px"):y<w&&(A[0].style.left=c,A[0].style.width=D.x+D.width-parseInt(c)+"px")):T==y&&(A[0].style.width=a-o.left+parseInt(c)+"px",A[0].style.left=o.left+"px"),f<T&&(A[0].style.display="none"),T<y&&(A[0].style.display="none"),f<=y)for(var _=0;_<m.length;_++){var q=m[_].cellY;f<y||y==f&&g<x?q==T&&(A[0].style.display="block",A[0].style.width=m[_].width+"px",A[0].style.left=m[_].x+"px"):y==f&&x<=g&&w!=f&&(A[0].style.width=m[_].width-o.left+parseInt(c)+"px")}}(C=new Be.jqx.date(i.getAttribute("data-date"),s.timeZone))<s.selectedJQXAppointment.to&&!b?s.resizeFrom=C:s.resizeFrom=s.selectedJQXAppointment.from}else if(s.rightResize){for(var C,k=!1,l=0;l<6;l++){var A=s.feedbacks[l],T=parseInt(A[0].style.top)-p;parseInt(A[0].style.left);T<y&&(A[0].style.width=a+"px");for(var _=0;_<m.length;_++)(q=m[_].cellY)==T&&(A[0].style.top=m[_].y+"px");var B,D=m[0],j=parseInt(D.x);if(T==w?(A[0].style.left=j+"px",y==w?v<=x?(A[0].style.width=x+u-j-5+"px","exactTime"!=r.appointmentsRenderMode||s.selectedJQXAppointment.allDay||g<=e-(B=s.host.coord().left)&&e-B<=D.x+D.width+15&&(A[0].style.width=D.width+"px",k=!0)):A[0].style.width=D.width+"px":y<w?(A[0].style.left=j+"px",A[0].style.width=D.width+"px"):w<y&&(A[0].style.left=j+"px",A[0].style.width=a-j+parseInt(c)+"px")):T==y&&(A[0].style.width=x+u-5-parseInt(c)+"px"),T<w&&(A[0].style.display="none"),y<T&&w<T&&(A[0].style.display="none"),y<=w)for(var _=0;_<m.length;_++){var q=m[_].cellY;(y<w||y==w&&x<v)&&q==T&&(A[0].style.display="block",A[0].style.width=m[_].width+"px")}}(C=Be.jqx.scheduler.utilities.getEndOfDay(new Be.jqx.date(i.getAttribute("data-date"),s.timeZone)))>s.selectedJQXAppointment.from&&!k?s.resizeTo=C:s.resizeTo=s.selectedJQXAppointment.to}for(var R=new Array,l=0;l<6;l++)"block"==(A=s.feedbacks[l])[0].style.display&&R.push(A);Be.each(R,function(e){s.rtl?(0<e&&(Be(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"),e<R.length-1&&(Be(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden")):(0<e&&(Be(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden"),e<R.length-1&&(Be(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"))})}},_handleTimelineDayWeekViewResize:function(e,t,i,o,n){function s(e){return!(e<10)}var r,a,l=this,d=(l._views[l._view].type,l._views[l._view],l.getMinutesPerScale()),h=l.findCell(e,l.feedback.coord().top);l.leftResize?(l._lastResizeX||(l._lastResizeX=l.mouseDownPosition.left),e>l._lastResizeX+Be(i).width()/2?s(a=l.selectedAppointmentTableBounds.width+l.selectedAppointmentTableBounds.left-o.left-Be(i).width())&&(l.feedback.css("left",2+o.left+Be(i).width()),l.feedback.width(a),l._lastResizeX=l.feedback.coord().left,l.rtl?l.resizeTo=new Be.jqx.date(h.getAttribute("data-date"),l.timeZone):l.resizeFrom=new Be.jqx.date(h.getAttribute("data-date"),l.timeZone).addMinutes(d)):e<l._lastResizeX-Be(i).width()/2&&s(a=l.selectedAppointmentTableBounds.width+l.selectedAppointmentTableBounds.left-o.left)&&(l.feedback.css("left",2+o.left),l.feedback.width(a),l._lastResizeX=l.feedback.coord().left,l.rtl?l.resizeTo=new Be.jqx.date(h.getAttribute("data-date"),l.timeZone).addMinutes(d):l.resizeFrom=new Be.jqx.date(h.getAttribute("data-date"),l.timeZone))):l.rightResize&&(l._lastResizeX||(l._lastResizeX=l.mouseDownPosition.left),e>l._lastResizeX+Be(i).width()/2?(r=Be(i).width()+o.left-l.selectedAppointmentTableBounds.width-l.selectedAppointmentTableBounds.left,s(a=l.selectedAppointmentTableBounds.width+r)&&(l.feedback.width(a),l._lastResizeX=l.selectedAppointmentTableBounds.width+r+l.feedback.coord().left,l.rtl?l.resizeFrom=new Be.jqx.date(h.getAttribute("data-date"),l.timeZone):l.resizeTo=new Be.jqx.date(h.getAttribute("data-date"),l.timeZone).addMinutes(d))):e<l._lastResizeX-Be(i).width()/2&&(r=o.left-l.selectedAppointmentTableBounds.width-l.selectedAppointmentTableBounds.left,s(a=l.selectedAppointmentTableBounds.width+r)&&(l.feedback.width(a),l._lastResizeX=l.selectedAppointmentTableBounds.width+r+l.feedback.coord().left,l.rtl?l.resizeFrom=new Be.jqx.date(h.getAttribute("data-date"),l.timeZone).addMinutes(d):l.resizeTo=new Be.jqx.date(h.getAttribute("data-date"),l.timeZone))))},_handleResize:function(i,n,e,t,s){var r=this,a=r._views[r._view].type,l=r._views[r._view];"dayView"===a||"weekView"===a?r._handleDayWeekViewResize(i,n,e,t,s):"timelineMonthView"===a?r._handleTimelineMonthViewResize(i,n,e,t,s):"monthView"===a?r._handleMonthViewResize(i,n,e,t,s):"timelineDayView"!==a&&"timelineWeekView"!==a||r._handleTimelineDayWeekViewResize(i,n,e,t,s),"timelineDayView"===a||"timelineMonthView"===a||"timelineWeekView"===a?(clearInterval(r._horizontalIntervalDrag),r._horizontalIntervalDrag=setInterval(function(){var e=r.host.width(),t=r.host.coord().left+25,e=e+t-45;r.rtl?e<i?r.hScrollInstance.setPosition(r.hScrollInstance.value-5):i<t&&r.hScrollInstance.setPosition(r.hScrollInstance.value+5):i<t?r.hScrollInstance.setPosition(r.hScrollInstance.value-5):e<i&&r.hScrollInstance.setPosition(r.hScrollInstance.value+5)},5)):"dayView"!==a&&"weekView"!==a||(clearInterval(r._intervalDrag),r._intervalDrag=setInterval(function(){var e=r.host.height(),t=0;r.columnGroups?t+=r.showHeader?r.columnsheader.height():0:t+=r.showHeader?r.columnsHeight:0,r.showToolbar&&(t+=r.toolbarHeight),e-=t;var i=r.legendHeight;0==r._resources.length&&(i=0),r.showLegend&&(e-=i);var o=t+r.host.coord().top,i=r.showAllDayRow;!l.timeRuler||"dayView"!==a&&"weekView"!==a||null!=l.timeRuler.showAllDayRow&&(i=l.timeRuler.showAllDayRow);t=1<=s.duration().days()||s.allDay;i&&t?o-=20:i&&r.resizing&&(o+=Be(r.table[0].rows[0]).height(),e-=Be(r.table[0].rows[0]).height());o+=25,e=e+o-45;n<o?r.vScrollInstance.setPosition(r.vScrollInstance.value-5):e<n&&r.vScrollInstance.setPosition(r.vScrollInstance.value+5)},5)),r.resizing=!0},_startTimers:function(i,a,l){var d=this,h=d.host.coord(),o=0,c=0;"hidden"!=d.hScrollInstance.element.style.visibility&&(clearInterval(d._horizontalIntervalDragVelocity),d._horizontalIntervalDragVelocity=setInterval(function(){40<++o&&(o=40)},100),clearInterval(d._horizontalIntervalDrag),d._horizontalIntervalDrag=setInterval(function(){var e=d._hostWidth,t=h.left+30,e=e+t-60;d.rtl?i<t?d.hScrollInstance.setPosition(d.hScrollInstance.value+10+o):e<i?d.hScrollInstance.setPosition(d.hScrollInstance.value-10-o):o=0:i<t?d.hScrollInstance.setPosition(d.hScrollInstance.value-10-o):e<i?d.hScrollInstance.setPosition(d.hScrollInstance.value+10+o):o=0},10)),"hidden"!=d.vScrollInstance.element.style.visibility&&(clearInterval(d._verticalIntervalDragVelocity),d._verticalIntervalDragVelocity=setInterval(function(){40<++c&&(c=40)},100),clearInterval(d._intervalDrag),d._intervalDrag=setInterval(function(){var e=d._hostHeight,t=0;d.columnGroups?t+=d.showHeader?d.columnsheader.height():0:t+=d.showHeader?d.columnsHeight:0;var i=d._views[d._view].type,o=d._views[d._view];d.showToolbar&&(t+=d.toolbarHeight),e-=t,d.showLegend&&0<d._resources.length&&(e-=d.legendHeight);var n,s=h.top,r=t+s;"dayView"!=i&&"weekView"!=i||(n=d.showAllDayRow,!o.timeRuler||"dayView"!==i&&"weekView"!==i||null!=o.timeRuler.showAllDayRow&&(n=o.timeRuler.showAllDayRow),o=1<=l.duration().days()||l.allDay,n&&o?r-=20:n&&d.resizing&&(r+=Be(d.table[0].rows[0]).height()));t=s+e+t-30;a<r+30?d.vScrollInstance.setPosition(d.vScrollInstance.value-10-c):t<a?d.vScrollInstance.setPosition(d.vScrollInstance.value+10+c):c=0},10))},_hoverCell:function(e){var t=this;return!t.enableHover||(0<t._resources.length&&0<=e.className.indexOf("pinned")||(0<=e.className.indexOf("time-column")||(0<=e.className.indexOf("jqx-scheduler-disabled-cell")||(!(!e||e!=t.hoveredCell)||(!(t.hoveredCell=e)||(t._removeHoveredCell(),(t.hoveredCell=e).className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")+" "+t.toTP("jqx-scheduler-cell-hover"),void(e.jqxClassName=e.className)))))))},_removeHoveredCell:function(){var e,t,i=this;i.hoveredCell&&(e=i.hoveredCell,t=(t=(t=(t=e.className).replace(" "+i.toTP("jqx-fill-state-hover"),"")).replace(" "+i.toTP("jqx-grid-cell-hover"),"")).replace(" "+i.toTP("jqx-scheduler-cell-hover"),""),e.className=t,e.jqxClassName=t),i.hoveredCell=null},_addHandlers:function(){var T=this;this._mousewheelfunc=this._mousewheelfunc||function(e){return T.wheel(e,T),!1};var i=this.focused=!1;this.addHandler(Be(document),"keydown.scheduler"+T.element.id,function(e){i=!1,9===e.keyCode&&e.shiftKey&&!T.focused&&(i=!0)}),this.addHandler(this.host,"focus",function(e){if(!T.focusedCell||T.selectedAppointment||i||Be(T.focusedCell).addClass(T.toThemeProperty("jqx-scheduler-cell-focus")),T.focused=!0,i)if(0<T.appointmentsToRender.length){var t=T.appointmentsToRender[T.appointmentsToRender.length-1];T._selectAppointment(t),T._lastSelectedAppointment=t}else if(T.focusedCell){if(T.focusedCell&&-1==T.focusedCell.className.indexOf("-focus"))return T._updateCellsSelection(),!1}else T._updateFocusedCell()}),this.addHandler(this.host,"blur",function(e){if(T.focusedCell)return document.activeElement==T.element||(!!Be(document.activeElement).ischildof(T.host)||(Be(T.focusedCell).removeClass(T.toThemeProperty("jqx-scheduler-cell-focus")),void(T.focused=!1)))}),this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.host,"selectstart."+this.element.id,function(e){return!!T.enableBrowserSelection||(!(!T.showToolBar||!Be(e.target).ischildof(T.toolbar))||(!!(T.rowDetails&&0<Be(e.target).parents("[data-role=details]").length)||null!=T.editKey&&void 0))}),this.addHandler(Be(window),"jqxReady."+this.element.id,function(){}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var t=this.isTouchDevice();this.vScrollInstance.valueChanged=function(e){T._timer&&clearTimeout(T._timer),t?T.table&&(T.table[0].style.top=0-T.vScrollInstance.value+"px"):T._timer=setTimeout(function(){T.table&&(T.table[0].style.top=0-T.vScrollInstance.value+"px")},1)},this.hScrollInstance.valueChanged=function(e){T._htimer&&clearTimeout(T._htimer),t?T.table&&T._renderhorizontalscroll():T._htimer=setTimeout(function(){T.table&&T._renderhorizontalscroll()},1)};var e="mousedown";this.isTouchDevice()&&(e=Be.jqx.mobile.getTouchEventName("touchstart"),Be.jqx.browser.msie&&Be.jqx.browser.version<10&&(e="mousedown")),this.addHandler(this.table,"mouseleave",function(e){T._removeHoveredCell()}),T.isTouchDevice()&&(T.enableHover=!1);var o="mousemove.scheduler"+this.element.id,n="mouseup.scheduler"+this.element.id;this.isTouchDevice()&&!0!==this.touchMode&&(o=Be.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+this.element.id,n=Be.jqx.mobile.getTouchEventName("touchend")+".scheduler"+this.element.id),this.addHandler(Be(document),o,function(e){var t=e.pageX,i=e.pageY;if(T.isTouchDevice()&&(t=(v=Be.jqx.position(e)).left,i=v.top,(isNaN(t)||isNaN(i))&&(t=(v=Be.jqx.position(e.originalEvent)).left,i=v.top)),T.disabled||3===e.which)return!0;if(!T.isMouseDown)return!0;if(T.hScrollInstance.isScrolling()||T.vScrollInstance.isScrolling())return!0;if(T._hostWidth){var o=T.host.coord();if(o.left+T._hostWidth<t||t<o.left)return!0;if(o.top+T._hostHeight<i||i<o.top)return!0}if(T.mouseDownPosition&&(3<=Math.abs(T.mouseDownPosition.left-t)&&Math.abs(T.mouseDownPosition.left-t)<=10||3<=Math.abs(T.mouseDownPosition.top-i)&&Math.abs(T.mouseDownPosition.top-i)<=10)&&(T.dragOrResize=!0),T.selectedAppointment&&T.dragOrResize){var n=null;if(T._hasOpenedMenu)return!0;if(T.editRecurrenceDialog.jqxWindow("isOpen"))return!0;var s,r=T._views[T._view].type,a=T._views[T._view],l=!1;if(!(s="td"===e.target.nodeName.toLowerCase()?e.target:T.findCell(t,i)))return!0;if(null!=s.getAttribute("data-time-slot"))return!0;if(0<=s.className.indexOf("jqx-grid-cell-pinned"))return!0;if(!T.feedback){if(!(n=T.getJQXAppointmentByElement(T.selectedAppointment)).draggable&&!n.resizable)return!(n=null);if(T.beginDrag)if(!T.beginDrag(n))return!0;var d=Be('[data-key="'+n.id+'"]'),h=T.selectedAppointment.position();T.feedback=T.selectedAppointment.clone(!0),T.pinnedfeedback=T.selectedAppointment.clone(!0);var c=!("row-resize"==T.selectedAppointment[0].style.cursor||"col-resize"==T.selectedAppointment[0].style.cursor||T.resizing),u=function(e){c&&e.find(".jqx-scheduler-appointment-resize-indicator").hide(),d.addClass(T.toTP("jqx-scheduler-feedback-appointment jqx-disableselect")),e.find(".jqx-scheduler-appointment-duration-status").hide(),e.addClass(T.toTP("jqx-scheduler-feedback-appointment")),e.addClass(T.toTP("jqx-scheduler-feedback-drag-appointment")),c?e.css("z-index",401):e.css("z-index",400)};if(u(T.feedback),u(T.pinnedfeedback),"monthView"!=T._views[T._view].type||c){if(T.table.append(T.feedback),(1==T.tableRows?T.pinnedtable:T.table).append(T.pinnedfeedback),T.feedback.css("left",h.left),T.feedback.css("top",h.top),T.pinnedfeedback.css("left",h.left),T.pinnedfeedback.css("top",h.top),"monthView"==T._views[T._view].type&&T.isTouchDevice()){T.feedbacks=new Array;for(var p=0;p<6;p++)T.feedbacks.push(T.feedback.clone(!0)),Be(T.feedbacks[p]).hide(),T.table.append(Be(T.feedbacks[p]))}}else{T.feedbacks=new Array;for(p=0;p<6;p++)T.feedbacks.push(T.feedback.clone(!0)),Be(T.feedbacks[p]).hide(),T.table.append(Be(T.feedbacks[p]))}}if(T.dragging)if(!1===T.dragging(n,s,T.feedback))return!0;var m,f,g,w,v=Be(s).position();T.endDrag&&(m=T.feedback.css("left"),f=T.feedback.css("top"),g=T.feedback.width(),w=T.feedback.height),(n=n||T.selectedJQXAppointment)||(T.selectAppointment(T.uiappointments[0].id),n=T.selectedJQXAppointment);o=n.resourceId,u=T._resources.indexOf(o);T.resources&&"none"==T.resources.orientation&&(u=-1);h=!1,o=T.isTouchDevice();if(o&&!0!==T.touchMode&&null==T._dragCell&&!(T.leftResize||T.rightResize||T.topResize||T.bottomResize||T.resizing))switch(r){case"dayView":case"weekView":(l=1<=n.duration().days()||n.allDay)?(t>=T.selectedAppointmentBounds.left-15&&t<=T.selectedAppointmentBounds.left+15&&(h=!0,T.leftResize=!0),t>=T.selectedAppointmentBounds.left+T.selectedAppointmentBounds.width-15&&t<=T.selectedAppointmentBounds.left+T.selectedAppointmentBounds.width+15&&(h=!0,T.rightResize=!0)):(i>=T.selectedAppointmentBounds.top-15&&i<=T.selectedAppointmentBounds.top+15&&(h=!0,T.topResize=!0),i>=T.selectedAppointmentBounds.top-15+T.selectedAppointmentBounds.height&&i<=T.selectedAppointmentBounds.top+T.selectedAppointmentBounds.height+15&&(h=!0,T.bottomResize=!0));break;default:t>=T.selectedAppointmentBounds.left-15&&t<=T.selectedAppointmentBounds.left+15&&(h=!0,T.leftResize=!0),t>=T.selectedAppointmentBounds.left+T.selectedAppointmentBounds.width-15&&t<=T.selectedAppointmentBounds.left+T.selectedAppointmentBounds.width+15&&(h=!0,T.rightResize=!0)}if(o&&(T.leftResize||T.rightResize||T.topResize||T.bottomResize||T.resizing)||h){if(s.getAttribute("data-view")!=u+1&&0<T._resources.length&&"none"!=T.resources.orientation)return!0;if((A=T._getDateByString(s.getAttribute("data-date")))<T.min.toDate()||A>T.max.toDate())return;T._handleResize(t,i,s,v,n),T._oldResizeTD=s}else if(!o&&"row-resize"==T.selectedAppointment[0].style.cursor||"col-resize"==T.selectedAppointment[0].style.cursor||T.resizing){if(s.getAttribute("data-view")!=u+1&&0<T._resources.length&&T.resources&&"none"!=T.resources.orientation)return!0;if((A=T._getDateByString(s.getAttribute("data-date")))<T.min.toDate()||A>T.max.toDate())return;T._handleResize(t,i,s,v,n),T._oldResizeTD=s}else{if(!n.draggable)return T._removeFeedbackAndStopResize(),!0;if(T._dragCell==s)return T._startTimers(t,i,n),T.isTouchDevice()&&!0!==T.touchMode?(e.stopPropagation(),!1):void 0;if((A=T._getDateByString(s.getAttribute("data-date")))<T.min.toDate()||A>T.max.toDate())return;o=n.duration();if(0<=r.indexOf("month")&&new Be.jqx.date(A).add(o)>T.max)return;var y,x,u="hidden"==T.vScrollBar[0].style.visibility?0:6+T.vScrollBar.outerWidth();if(T._dragCell=s,T.feedback[0].style.left=2+v.left+"px",T.feedback[0].style.top=2+v.top+"px","dayView"===r||"weekView"===r){T.pinnedfeedback.css("left",2+v.left),T.pinnedfeedback.css("top",2+v.top);var b=0;if(s.getAttribute("data-end-date")){var A=T.appointmentsMinHeight;T.isTouchDevice()&&(A=T.touchAppointmentsMinHeight),a.appointmentHeight&&(A=a.appointmentHeight),l=1<=n.duration().days()||n.allDay,T.feedback.css("top",2+v.top+A),T.pinnedfeedback.css("top",2+v.top+18),"dayView"==r&&(o=T.selectedAppointment.coord().left-9,T.feedback.css("left",o),T.pinnedfeedback.css("left",o)),l?(T.pinnedfeedback.css("top",n.elements[0].y),b=T.selectedAppointment.width(),2+v.left+b>T.host.width()-u&&(b-=2+v.left+b-T.host.width()+u+6)):b=Be(s).width()-4,T.feedback.width(b),T.feedback.height(A),T.pinnedfeedback.width(b),T.pinnedfeedback.height(A),T.feedback.hide(),T.pinnedfeedback.show()}else{T.feedback.show(),T.pinnedfeedback.hide();switch(a.timeRuler&&a.timeRuler.scale){case"sixtyMinutes":case"hour":0;break;case"thirtyMinutes":case"halfHour":0;break;case"fifteenMinutes":case"quarterHour":0;break;case"tenMinutes":0;break;case"fiveMinutes":0}b=Be(s).width()-4,T.feedback.width(b),(l=1<=n.duration().days()||n.allDay)?T.feedback.height(Be(s).height()-6):T.feedback.height(T.selectedAppointment.height())}T._startTimers(t,i,n)}else"monthView"===r?(T.feedback.css("left",1+v.left),y=T.selectedAppointmentTableBounds,(x=parseInt(y.top))>v.top&&x<v.top+s.offsetHeight?T.feedback.css("top",x+"px"):T.feedback.css("top",T.selectedAppointment.height()+v.top-2),T.isTouchDevice()&&T.feedback.css("top",v.top+2),b=T.selectedAppointment.width(),T.feedback.width(b),T.feedback.height(T.selectedAppointment.height()),T._startTimers(t,i,n)):"timelineDayView"!==r&&"timelineMonthView"!==r&&"timelineWeekView"!==r||(y=T.selectedAppointmentTableBounds,(x=parseInt(y.top))>v.top&&x<v.top+s.offsetHeight&&T.feedback.css("top",x+"px"),T._startTimers(t,i,n))}return T.endDrag?(T.endDrag(n,s,T.feedback)||T.feedback.width(g),T.feedback.height(w),T.feedback.css("top",f),T.feedback.css("left",m),!0):T.isTouchDevice()&&!0!==T.touchMode?(e.stopPropagation(),!1):void 0}});function s(e){if(T.isMouseDown=!1,T.dragOrResize=!1,T.contextMenu&&T.menu&&3!==e.which&&(T.menu.jqxMenu("close"),T._hasOpenedMenu=!1),3===e.which)return!0;T.selectedAppointment&&T.feedback&&(T.editRecurrenceDialog.jqxWindow("isOpen")||T._handleMouseUp(T.selectedJQXAppointment,T._dragCell,T.resizing))}var r;if(this.addHandler(Be(document),n,s),!this.isTouchDevice())try{""==document.referrer&&!window.frameElement||null==window.top||window.top==window.self||(r=null,window.parent&&document.referrer&&(r=document.referrer),r&&-1!=r.indexOf(document.location.host)&&T.addHandler(Be(window.top.document),"mouseup.jqxscheduler"+T.element.id,function(e){if(!T.disabled)return s(e)}))}catch(e){}this.addHandler(this.host,o,function(e){var t=e.pageX,i=e.pageY;if(T.disabled||3===e.which)return!0;if(T.selectedAppointment&&T.isMouseDown)return!0;if(T.hScrollInstance.isScrolling()||T.vScrollInstance.isScrolling())return!0;if(T._hasOpenedMenu)return!0;if("none"!==T.overlay[0].style.display)return!0;var o=null;0<=e.target.className.indexOf("jqx-scheduler-appointment")&&-1==e.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==e.target.className.indexOf("jqx-scheduler-appointment-content")&&-1==e.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(o=e.target);for(var n,s=e.target,r=0;r<4&&s.parentNode;r++)0<=s.className.indexOf("jqx-scheduler-appointment")&&-1==s.className.indexOf("jqx-scheduler-appointment-innter-content")&&-1==s.className.indexOf("jqx-scheduler-appointment-content")&&-1==s.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&(o=s),s=s.parentNode;if(o){var a=T._views[T._view].type,l=(T._views[T._view],T.getJQXAppointmentByElement(o));if(l.resizable){var d=l.duration(),h=l.allDay||1<=d.days()||23==d.hours()&&59==d.minutes&&59==d.seconds,c=Be(o).coord(),d=Be(o).position();T.selectedAppointmentBounds={top:c.top,left:c.left,width:Be(o).width(),height:Be(o).height()},T.selectedAppointmentTableBounds={top:d.top,left:d.left,width:Be(o).width(),height:Be(o).height()};var u=T.selectedAppointmentBounds;if("weekView"==a||"dayView"==a)h?"dayView"!=a?t>=u.left-3&&t<=u.left+6?(o.style.cursor="col-resize",T.leftResize=!0,T.rightResize=!1):t>=u.left+u.width-6&&t<=u.left+u.width+3?(o.style.cursor="col-resize",T.leftResize=!1,T.rightResize=!0):o.style.cursor="pointer":o.style.cursor="pointer":i>=u.top-3&&i<=u.top+6?(o.style.cursor="row-resize",T.topResize=!0,T.bottomResize=!1):i>=u.top+u.height-6&&i<=u.top+u.height+3?(o.style.cursor="row-resize",T.topResize=!1,T.bottomResize=!0):o.style.cursor="pointer";else if("monthView"==a&&1<l.elements.length)for(var p=T.table.coord(),r=0;r<l.elements.length;r++){var m=l.elements[r],u={top:p.top+m.y,left:p.left+m.x,width:m.width,height:m.height};if(0==r&&!T.rtl||r==l.elements.length-1&&T.rtl)if(t>=u.left-3&&t<=u.left+6){if(i>=u.top&&i<=u.top+u.height){o.style.cursor="col-resize",T.leftResize=!0,T.rightResize=!1,T.selectedAppointment=Be(o);break}o.style.cursor="pointer"}else o.style.cursor="pointer";else if(r==l.elements.length-1&&!T.rtl||0==r&&T.rtl)if(t>=u.left+u.width-6&&t<=u.left+u.width+3){if(i>=u.top&&i<=u.top+u.height){o.style.cursor="col-resize",T.leftResize=!1,T.rightResize=!0,T.selectedAppointment=Be(o);break}o.style.cursor="pointer"}else o.style.cursor="pointer"}else t>=u.left-3&&t<=u.left+6?(o.style.cursor="col-resize",T.leftResize=!0,T.rightResize=!1):t>=u.left+u.width-6&&t<=u.left+u.width+3?(o.style.cursor="col-resize",T.leftResize=!1,T.rightResize=!0):o.style.cursor="pointer"}}if(!T.enableHover)return!0;if(!(n="td"===e.target.nodeName.toLowerCase()?e.target:T.findCell(t,i)))return!0;if(T._removeHoveredCell(),T.renderedRecords&&0===T.renderedRecords.length)return!0;if(T.isMouseDown){if(3<Math.abs(T.mousecaptureposition.left-t)||3<Math.abs(T.mousecaptureposition.top-i)){if(0===T.mousecaptureposition.clickedcell.length)return void(T.selectionarea[0].style.visibility="hidden");T.lastHoveredCell!=n&&(T._selectRangeTimer&&clearTimeout(T._selectRangeTimer),T._selectRangeTimer=setTimeout(function(){"agendaView"!=T._views[T._view].type&&T._selectRange(n,T.mousecaptureposition.clickedcell[0])},1)),T.lastHoveredCell=n}}else if(!o){if(1==T.rows.length&&1==T.rows[0].cells.length)return!0;T._hoverCell(n)}return!0}),this.addHandler(Be(document),"keydown.jqxscheduler"+T.element.id,function(e){if(T.focused&&e.ctrlKey&&68==e.keyCode)return!1}),this.addHandler(this.host,"keydown",function(e){return T._handleKey(e)}),Be.jqx.browser.msie&&Be.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){T.table.trigger("mousedown",e)});function a(t){t.target;var e=null;if(T.disabled)return!0;T.menu||3!=t.which||T._initMenu(),T.table.coord();var i=t.pageX,o=t.pageY;Be.jqx.browser.msie&&Be.jqx.browser.version<9&&arguments&&2==arguments.length&&(i=arguments[1].pageX,o=arguments[1].pageY),T.isTouchDevice()&&(i=(h=Be.jqx.position(t)).left,o=h.top,(isNaN(i)||isNaN(o))&&(i=(h=Be.jqx.position(t.originalEvent)).left,o=h.top)),T.mouseDown={top:o,left:i},e=T.findCell(i,o),e="td"===t.target.nodeName.toLowerCase()?t.target:T.findCell(i,o);var n=T._views[T._view].type,s=T._views[T._view];if("monthView"===n&&s.weekViewNavigation&&e&&e.getAttribute("data-time-slot")&&(f=T._getDateByString(e.getAttribute("data-date")),l=new Be.jqx.date(f),T.date=l,T.setView("weekView")),"monthView"===n&&s.dayViewNavigation&&(a=Be(e).coord().top,e&&a<=o&&o<=a+16&&(f=T._getDateByString(e.getAttribute("data-date")),l=new Be.jqx.date(f),T.date=l,T.setView("dayView"))),"span"===t.target.nodeName.toLowerCase()&&(0<=t.target.className.indexOf("jqx-icon-arrow-down")||0<=t.target.className.indexOf("jqx-icon-close")))return t.target.mousedown&&t.target.mousedown(),!0;var r=Be(e).parent(),s=r.attr("data-key");T.mousecaptureposition={left:t.pageX,top:t.pageY,clickedrow:Be(r).index(),clickedcell:Be(e)},3!==t.which?(T.isMouseDown=!0,T.isMouseDownDate=new Date):T.isMouseDown=!1,T.contextMenu&&T.menu&&3!==t.which&&(T.menu.jqxMenu("close"),T._hasOpenedMenu=!1);var a=function(e){if(3===t.which&&T.contextMenu&&T.menu){e?T.menu.find("li:first").show():T.menu.find("li:first").hide();e=T.menu.coord();if("block"==T.menu.css("display")&&e.left==t.pageX&&e.top==t.pageY)return T._hasOpenedMenu=!0,t.preventDefault(),void t.stopPropagation();T.menuOpening=!0,T.menu.jqxMenu("open",t.pageX,t.pageY),T.menuOpening=!1,T._hasOpenedMenu=!0,t.preventDefault(),t.stopPropagation(),setTimeout(function(){T.menu.jqxMenu("focus")},50)}},l=function(){for(var e=0;e<g.length;e++)for(var t=g[e].cells,i=0;i<t.length;i++)t[i].removeAttribute("data-selected")};if(0==(r=0<=t.target.className.indexOf("jqx-scheduler-appointment")&&-1==t.target.className.indexOf("jqx-scheduler-appointment-duration-status")&&-1==t.target.className.indexOf("jqx-scheduler-appointment-inner-content")&&-1==t.target.className.indexOf("jqx-scheduler-appointment-status")&&-1==t.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")&&-1==t.target.className.indexOf("jqx-scheduler-appointment-content")?Be(t.target):Be(t.target).parents(".jqx-scheduler-appointment")).length&&(r=null),r&&-1==r[0].className.indexOf("feedback")){if(0<r.parents(".jqx-scheduler-month-cell-popup").length)return!0;T.mouseDownPosition={top:o,left:i};var d=Be(r).coord();T.selectedAppointmentBounds={top:d.top,left:d.left,width:Be(r).width(),height:Be(r).height()};var h=Be(r).position();T.selectedAppointmentTableBounds={top:h.top,left:h.left,width:Be(r).width(),height:Be(r).height()},T._dragStartCell||(T._dragStartCell=T.findCell(d.left,d.top));var c=T.getJQXAppointmentByElement(r);T._selectAppointment(c,r,"mouse"),T._raiseEvent("appointmentClick",{appointment:c.boundAppointment}),T.clearSelection();var u=(new Date).getTime(),p=300;return Be.jqx.browser.msie&&Be.jqx.browser.version<9&&(p=1e3),T.clickTime||(T.clickTime=new Date),u-T.clickTime.getTime()<p&&T._lastSelectedAppointment&&c.id==T._lastSelectedAppointment.id&&3!=t.which?(c.readOnly||T.editRecurrenceDialog.jqxWindow("isOpen")||T._editDialog&&(!T._editDialog||T._editDialog.jqxWindow("isOpen"))||!1!==T._initDialog(c)&&T._openDialog(),T.mouseDownPosition=null,T.isMouseDown=!1,t.preventDefault&&t.preventDefault(),T._raiseEvent("appointmentDoubleClick",{appointment:c.boundAppointment})):c.readOnly||3!==t.which&&T.focus(),T._lastSelectedAppointment=c,t.preventDefault&&t.preventDefault(),t.stopPropagation(),T.clickTime=new Date,void(c.readOnly||3==t.which&&a(!0))}if(3===t.which?null!==T.getSelection()?a(!1):(T.clearAppointmentsSelection(),e.setAttribute("data-selected","true"),T._lastSelectedCell=e,T.focusedCell=e,T._updateCellsSelection(e),a(!1),m=new Be.jqx.date(e.getAttribute("data-date"),T.timeZone),T._raiseEvent("cellClick",{cell:e,date:m})):3!=t.which&&T.clearAppointmentsSelection(),"agendaView"==T.view&&(d=!1,!(r=-1!=t.target.className.indexOf("jqx-scheduler-agenda-appointment"))&&t.target&&t.target.parentNode&&(r=-1!=t.target.parentNode.className.indexOf("jqx-scheduler-agenda-appointment"),d=!0),r&&(r=t.target,d&&(r=t.target.parentNode),c=T.getJQXAppointmentByElement(r),T._selectAppointment(c,r,"mouse"),T._raiseEvent("appointmentClick",{appointment:c.boundAppointment}),u=(new Date).getTime(),p=300,Be.jqx.browser.msie&&Be.jqx.browser.version<9&&(p=1e3),T.clickTime||(T.clickTime=new Date),u-T.clickTime.getTime()<p&&T._lastSelectedAppointment&&c.id==T._lastSelectedAppointment.id&&3!=t.which&&(c.readOnly||T.editRecurrenceDialog.jqxWindow("isOpen")||T._editDialog&&(!T._editDialog||T._editDialog.jqxWindow("isOpen"))||!1!==T._initDialog(c)&&T._openDialog(),T.mouseDownPosition=null,T.isMouseDown=!1,t.preventDefault&&t.preventDefault(),T._raiseEvent("appointmentDoubleClick",{appointment:c.boundAppointment})),T._lastSelectedAppointment=c,t.preventDefault&&t.preventDefault(),t.stopPropagation(),T.clickTime=new Date,c.readOnly||3==t.which&&a(!0))),void 0!==s&&3!=t.which){T.clickedTD=e;var m=new Be.jqx.date(e.getAttribute("data-date"),T.timeZone);T.rowinfo[s]&&(u=(new Date).getTime(),p=300,T.clickTime||(T.clickTime=new Date),T.focus(),T._lastSelectedCell&&"true"==T._lastSelectedCell.getAttribute("data-selected")&&"true"===e.getAttribute("data-selected")&&u-T.clickTime.getTime()<p&&(m=new Be.jqx.date(e.getAttribute("data-date"),T.timeZone),T._raiseEvent("cellDoubleClick",{cell:e,date:m}),T._initDialog(),T._openDialog(),t.preventDefault&&t.preventDefault()));var f,g=T.rows;if("true"!=e.getAttribute("data-selected")||t.shiftKey||u-T.clickTime.getTime()>p){if("true"==e.getAttribute("data-time-slot"))return;t.shiftKey||(T.shiftSelectedCell=null),t.shiftKey&&T._lastSelectedCell&&"agendaView"!=n&&(T.shiftSelectedCell||(T.shiftSelectedCell=T._lastSelectedCell),e.getAttribute("data-view")===T.shiftSelectedCell.getAttribute("data-view")&&l(),T._selectRange(e,T.shiftSelectedCell)),t.shiftKey||(l(),(f=T._getDateByString(e.getAttribute("data-date")))>=T.min.toDate()&&f<=T.max.toDate()?e.setAttribute("data-selected","true"):e.setAttribute("data-selected","false")),Be('[data-key="'+s+'"]').removeClass(T.toTP("jqx-scheduler-selected-appointment")),T.selectedAppointment=null,(f=T._getDateByString(e.getAttribute("data-date")))>=T.min.toDate()&&f<=T.max.toDate()&&(T._lastSelectedCell=e,T.focusedCell=e),T._updateCellsSelection(e),T.openedMonthCellPopup&&T.openedMonthCellPopup.remove()}T._raiseEvent("cellClick",{cell:e,date:m}),T.clickTime=new Date,t.stopPropagation&&t.stopPropagation()}}this.addHandler(this.pinnedtable,e,function(e){e=a(e);if(null!=e)return e}),this.addHandler(this.table,e,function(e){e=a(e);if(null!=e)return e})},moveAppointment:function(s,r,a,l,d){var h,c,e,u=this,p=l.getAttribute("data-end-date");s&&(u.editRecurrenceDialog.jqxWindow("isOpen")||(clearInterval(u._verticalIntervalDragVelocity),clearInterval(u._horizontalIntervalDragVelocity),clearInterval(u._intervalDrag),clearInterval(u._horizontalIntervalDrag),h=s.duration(),c=1<=s.duration().days()||s.allDay,e=function(e){if(!d){var t=u._views[u._view].type,i=u._views[u._view],o=r;if(s.from=o,"dayView"===t||"weekView"===t)if(c||p){if(!c&&p)s.to=Be.jqx.scheduler.utilities.getEndOfDay(o),s.allDay=!0;else if(c&&p)s.to=o.add(h);else if(c&&!p){var n=30;switch(i.timeRuler&&i.timeRuler.scale){case"sixtyMinutes":case"hour":n=60;break;case"fifteenMinutes":case"quarterHour":n=15;break;case"tenMinutes":n=10;break;case"fiveMinutes":n=5}s.to=o.addMinutes(n),s.allDay=!1}}else s.to=o.add(h),s.allDay=!1;else"monthView"!==t&&"timelineDayView"!==t&&"timelineWeekView"!==t&&"timelineMonthView"!==t||(s.to=o.add(h))}u._saveChangesAfterDragOrResize(e,s,l,d),null!=a&&(s.resourceId=a),u.table.find(".jqx-icon-arrow-down").hide(),s.allDay||c?u._renderrows():(o=u.getViewStart(),e=Be.jqx.scheduler.utilities.getEndOfDay(u.getViewEnd()),u._prepareAppointmentsInView(o,e),u._renderAppointments(o,e)),u._raiseEvent("appointmentChange",{appointment:s.boundAppointment}),u.changedAppointments[s.id]={type:"Update",appointment:s.boundAppointment},u._ensureAppointmentVisible(u.selectedJQXAppointment)},s.isRecurrentAppointment()?e(!1):e(null)))},getAppointmentProperty:function(e,t){var i=null;if(this.appointmentsByKey[e]&&(i=this.appointmentsByKey[e].jqxAppointment),i)return i[t]},setAppointmentProperty:function(e,t,i){var o=this,n=null;if(this.appointmentsByKey[e]&&(n=this.appointmentsByKey[e].jqxAppointment),n)switch(n[t]=i,o.changedAppointments[e]={type:t,appointment:n.boundAppointment},e){case"draggable":case"resizable":break;case"background":case"color":case"borderColor":case"status":case"tooltip":case"subject":case"location":case"description":case"style":var s=o.getViewStart(),r=Be.jqx.scheduler.utilities.getEndOfDay(o.getViewEnd());o._prepareAppointmentsInView(s,r),o._renderAppointments(s,r);break;case"hidden":case"timeZone":n.isAllDayAppointment()?o._renderrows():(s=o.getViewStart(),r=Be.jqx.scheduler.utilities.getEndOfDay(o.getViewEnd()),o._prepareAppointmentsInView(s,r),o._renderAppointments(s,r));break;default:o._renderrows()}},deleteAppointment:function(e){this.appointmentsByKey[e]&&this._deleteAppointment(this.appointmentsByKey[e].jqxAppointment)},_deleteAppointment:function(e){var t=this;if(e.rootAppointment){if(e.isException()){for(var i=(e.rootAppointment||e).exceptions,o=0;o<i.length;o++)if(i[o].occurrenceFrom.equals(t.editAppointment.occurrenceFrom)){i[o]=e;break}}else null!=e.rootAppointment?(e.rootAppointment.exceptions.push(t.editAppointment),e.rootAppointment.recurrenceException.push(t.editAppointment.occurrenceFrom)):(e.exceptions.push(t.editAppointment),e.recurrenceException.push(t.editAppointment.occurrenceFrom));return e.hidden=!0,void t._renderrows()}t._raiseEvent("appointmentDelete",{appointment:e.boundAppointment});var n=e.id;delete t.appointmentsByKey[n];for(var s=-1,o=0;o<t.appointments.length;o++)if(t.appointments[o]==e.boundAppointment||t.appointments[o].id==e.boundAppointment.id){s=o;break}-1!=s&&t.appointments.splice(s,1),s=-1;for(o=0;o<t.uiappointments.length;o++)if(t.uiappointments[o]==e||t.uiappointments[o].id==e.id){s=o;break}-1!=s&&t.uiappointments.splice(s,1),t.selectedJQXAppointment==e&&(t.clearAppointmentsSelection(),t.uiappointments[s+1]?t.selectAppointment(t.uiappointments[s+1].id):t.uiappointments[s-1]?t.selectAppointment(t.uiappointments[s-1].id):t.uiappointments[0]&&t.selectAppointment(t.uiappointments[0].id)),t.changedAppointments[n]={type:"Delete",appointment:e.boundAppointment},t._renderrows()},addAppointment:function(e){var t=this;if(e.scheduler||(e.scheduler=this),!e.duration)if((e.from||e.to)&&e.appointmentObject){var i=new Be.jqx.scheduler.appointment;for(f in e)i[f]=e[f];e=i}else{var o,n=e,s={},r=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"];for(f in t.appointmentDataFields){var a,l=n[x=t.appointmentDataFields[f]];if("from"!=f&&"to"!=f||(l=new Be.jqx.date(l)),"style"==f&&l&&(a=t.getAppointmentColors(l),s.color=a.color,s.background=a.background,s.borderColor=a.border),"recurrencePattern"==f&&l&&((l=new Be.jqx.scheduler.recurrencePattern(l)).timeZone=n.timeZone||t.timeZone),"recurrenceException"==f){var d=new Array;if(l){0<=l.indexOf("EXDATE:")&&(l=l.substring(l.indexOf("EXDATE:")+7));var h=new Array;0<=l.indexOf(",")?h=l.split(","):h.push(l);for(var c=0;c<h.length;c++){var u,p=h[c];0<=p.indexOf(";")&&(u=p.split(";")[1],p=p.split(";")[0],0<=u.toLowerCase().indexOf("display")&&u.toLowerCase().indexOf("none")&&(s.hidden=!0));try{"Invalid Date"!=(m=Be.jqx.scheduler.utilities.untilStringToDate(p))&&(m=s.timeZone?new Be.jqx.date(m,s.timeZone):t.timeZone?m.toTimeZone(t.timeZone):new Be.jqx.date(m))}catch(e){var m=new Be.jqx.date(p,t.timeZone)}d.push(m)}}l=d}s[f]=l}for(o in r)null==s[f=r[o]]&&(l="","originalData"!=f&&("ownerId"==f&&(l=null),"timeZone"==f&&(l=null),"recurrencePattern"==f&&(l=null),"recurrenceException"==f&&(l=null),"allDay"==f&&(l=!1),"draggable"==f&&(l=!0),"resizable"==f&&(l=!0),"hidden"==f&&(l=!1),"resourceId"==f&&(l=null),"from"==f&&(l=new Be.jqx.date),"to"==f&&(l=(new Be.jqx.date).addHours(1)),s[f]=l));s.originalData=n,s.scheduler=this;e=new Be.jqx.scheduler.appointment(s);s.timeZone&&(e.from=e.from.toTimeZone(s.timeZone),e.to=e.to.toTimeZone(s.timeZone)),t.timeZone?(s.timeZone||(e.timeZone=t.timeZone),e.from=e.from.toTimeZone(t.timeZone),e.to=e.to.toTimeZone(t.timeZone)):(e.from=e.from.toTimeZone(null),e.to=e.to.toTimeZone(null))}var f=t.dataview.generatekey();e.id=f,t.appointmentsByKey[f]=e,t.appointments.push(e);var g,w,v={},y={};for(g in t.appointmentDataFields){var x=t.appointmentDataFields[g],l=e[g];v[g]=l,"from"!=g&&"to"!=g||(l=(l.toDate?l:new Be.jqx.date(l)).toDate()),y[x]=l}v.originalData=y,((e.boundAppointment=v).jqxAppointment=e).jqxAppointment=e,t._raiseEvent("appointmentAdd",{appointment:e.boundAppointment}),t.uiappointments.push(e),t.changedAppointments[f]={type:"Add",appointment:e.boundAppointment},t.hiddenResources&&t.hiddenResources[e.resourceId]?t.hideAppointmentsByResource(e.resourceId):t._renderrows(),t._selectAppointment(e),t._lastSelectedAppointment=e,t.resources&&(w=e.resourceId,-1===t._resources.indexOf(w)&&(t._resources.push(w),t._renderrows()))},_updateCellsSelection:function(){var e=this,t=e.rows,i=0,o=0;0<i&&e.rtl&&(i=0,o=1);for(var n=0;n<t.length;n++)for(var s=t[n].cells,r=i;r<s.length-o;r++){var a,l=s[r];"true"==l.getAttribute("data-selected")?(0<=(a=l.jqxClassName||l.className).indexOf("jqx-fill-state-pressed")?l!=e.focusedCell?a=(a=a.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""):l==e.focusedCell&&e.focused&&(a=(a=a.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(a+=" "+e.toTP("jqx-scheduler-cell-focus"))):(a=(a=(a=(a=(a=(a=(a=(a=a.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+e.theme,"")).replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+e.theme,"")).replace(" jqx-scheduler-cell-selected","")).replace(" jqx-scheduler-cell-selected-"+e.theme,""),a+=" "+e.toTP("jqx-fill-state-pressed jqx-grid-cell-selected jqx-scheduler-cell-selected"),l==e.focusedCell&&e.focused&&!e.selectedAppointment&&(a+=" "+e.toTP("jqx-scheduler-cell-focus"))),l.className!=a&&(l.className=a),l.jqxClassName=a):-1!=(a=l.jqxClassName||l.className).indexOf("jqx-fill-state-pressed")?(l==e.focusedCell&&e.focused&&(a=(a=a.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(a+=" "+e.toTP("jqx-scheduler-cell-focus")),l.className!=a&&(l.className=a),l.jqxClassName=a),a=(a=(a=(a=(a=(a=(a=(a=a.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+e.theme,"")).replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+e.theme,"")).replace(" jqx-scheduler-cell-selected","")).replace(" jqx-scheduler-cell-selected-"+e.theme,""),l==e.focusedCell&&e.focused&&!e.selectedAppointment&&(a+=" "+e.toTP("jqx-scheduler-cell-focus")),l.className!=a&&(l.className=a),l.jqxClassName=a,l.removeAttribute("data-selected")):(l!=e.focusedCell?a=(a=a.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""):l==e.focusedCell&&e.focused&&(a=(a=a.replace(" jqx-scheduler-cell-focus","")).replace(" jqx-scheduler-cell-focus-"+e.theme,""),e.selectedAppointment||(a+=" "+e.toTP("jqx-scheduler-cell-focus"))),l.className!=a&&(l.className=a),l.jqxClassName=a)}},_getuikey:function(e,t){var i=null,o=this.table[0].rows,i=Be(o[e]).attr("data-key");if(Be(o[e]).attr("data-role")){var n=Be(o[e]);if("next"==t)for(;n;){n=n.next();if(n)if(!n.attr("data-role"))return i=n.attr("data-key")}else if("prev"==t)for(;n;)if(n=n.prev(),n)if(!n.attr("data-role"))return i=n.attr("data-key");return null}return i},getRows:function(){var e=this._views[this._view].type,t=this._views[this._view],i="halfHour";t.timeRuler&&t.timeRuler.scale&&(i=t.timeRuler.scale);var o,n,s=24,r=this.showAllDayRow;!t.timeRuler||"dayView"!==e&&"weekView"!==e||(o=0,n=23,null!=t.timeRuler.scaleStartHour&&(o=parseInt(t.timeRuler.scaleStartHour)),null!=t.timeRuler.scaleEndHour&&(n=parseInt(t.timeRuler.scaleEndHour)),o<0&&(o=0),n<0&&(n=23),23<o&&(o=0),23<n&&(n=23),s=n-o+1,null!=t.timeRuler.showAllDayRow&&(r=t.timeRuler.showAllDayRow));var a=new Array,l=0;switch(e){case"dayView":case"weekView":default:l=2*s;"hour"===i||"sixtyMinutes"===i?l=s:"quarterHour"===i||"fifteenMinutes"===i?l=4*s:"tenMinutes"===i?l=6*s:"fiveMinutes"===i&&(l=12*s),r&&l++;break;case"monthView":l=6;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":l=1;break;case"agendaView":l=this.appointments?this.appointments.length:0}for(var d=0;d<l;d++)a.push({uid:d});return a},_getDateByString:function(e){if(e&&this._dateByStringCache&&this._dateByStringCache[e]){var t=this._dateByStringCache[e];return new Date(t.getTime())}var i=e.split(" "),o=i[0].split("-"),n=i[1].split(":"),s=parseInt(o[0],10),r=parseInt(o[1],10)-1,a=parseInt(o[2],10),i=parseInt(n[0],10),o=parseInt(n[1],10),n=parseInt(n[2],10),t=new Date(s,r,a,i,o,n);return s<1970&&t.setFullYear(s,r,a),this._dateByStringCache||(this._dateByStringCache=[]),this._dateByStringCache[e]=t},_getCellByDate:function(e,t,i){var o=this.rows;void 0===t&&(t=!1),void 0===i&&this.focusedCell&&(i=this.focusedCell.getAttribute("data-view"));for(var n=0;n<o.length;n++){var s=o[n];if(!s.element.getAttribute("data-group-row"))for(var r=0;r<s.cells.length;r++){var a=s.cells[r];if(null==a.getAttribute("rowspan")&&(a.getAttribute("data-view")===i&&!(a.getAttribute("data-time-slot")||t&&null!=a.getAttribute("data-end-date")))){var l=a.getAttribute("data-date");if(this._getDateByString(l).valueOf()==e.valueOf())return a}}}},_rendercelltexts:function(){var e,t,i;"75CE8878-FCD1-4EC7-9249-BA0F153A5DE8"!==Be.jqx.credits&&(e="www.jqwidgets.com",-1==location.hostname.indexOf(e.substring(4))&&(this._gridRenderElement&&Be(this._gridRenderElement).remove(),i=String.fromCharCode(83,80,65,78),t=String.fromCharCode(72,84,84,80,58,47,47),(i=document.createElement(i)).id=Be.jqx.utilities.createId(),i.innerHTML=e,i.style.position="absolute",i.style.right="5px",i.style.bottom="5px",i.style.color="#909090",i.style.cursor="pointer",i.style.zIndex="999999",i.style.display="none",i.style.fontSize="9px",i.onmousedown=function(){open(t+e)},this.content[0].appendChild(i),this._gridRenderElement=i))},_handleKey:function(h){if(this._loading)return!0;var c=h.shiftKey,u=h.ctrlKey||h.metaKey,p=this,e=h.charCode||h.keyCode||0;if(p._hasOpenedMenu)return 27==e?p.closeMenu():p.menu.jqxMenu("focus"),!0;if(13===e||p.selectedAppointment&&46==e){if(p.editRecurrenceDialog&&p.editRecurrenceDialog.jqxWindow("isOpen"))return!0;if(p._editDialog&&p._editDialog.jqxWindow("isOpen"))return!0;p.selectedAppointment?(s=p.getJQXAppointmentByElement(p.selectedAppointment)).readOnly||(46==e?!1!==p._initDialog(s,"delete")&&p._openDialog():!1!==p._initDialog(s)&&p._openDialog()):(p._initDialog(),p._openDialog())}if(27===e&&p.dragOrResize){p.table.find(".jqx-icon-arrow-down").hide();var t=p.getViewStart(),i=Be.jqx.scheduler.utilities.getEndOfDay(p.getViewEnd());return p._prepareAppointmentsInView(t,i),p._renderAppointments(t,i),p._removeFeedbackAndStopResize(),!1}i=function(e){var t=p.selectedAppointment,i=p.getJQXAppointmentByElement(t),o=i.elements[0].cells[0].cell,n=i.elements[i.elements.length-1].cells[i.elements[i.elements.length-1].cells.length-1].cell,s=p.rows[p.rows.length-1].cells[p.rows[p.rows.length-1].cells.length-1];!c&&(c||u||"down"!=e&&"right"!=e)||(o=n);var r=p._views[p._view].type,t=(p._views[p._view],o);switch(e){case"left":0<(l=(d=p.rowByCell[o.getAttribute("data-key")]).indexOf(o))&&!c?t=d.cells[l-1]:"monthView"!=r||c||(a=d.aboveRow)&&(t=a.cells[a.cells.length-1]);break;case"right":(l=(d=p.rowByCell[o.getAttribute("data-key")]).indexOf(o))<d.cells.length-1?t=d.cells[l+1]:"monthView"==r&&(h=d.belowRow)&&(t=h.cells[0]),"monthView"==r&&!c&&u&&n==s&&(t=o);break;case"up":var a,l=(d=p.rowByCell[o.getAttribute("data-key")]).indexOf(o);(a=d.aboveRow)&&!c&&(t=a.cells[l]);break;case"down":l=(d=p.rowByCell[o.getAttribute("data-key")]).indexOf(o);(h=d.belowRow)&&(t=h.cells[l])}var d=t.getAttribute("data-date"),h=new Be.jqx.date(d,p.timeZone),r=Be(t).attr("data-view"),l=p._resources[parseInt(r)-1];c?(r=p._views[p._view].type,p._views[p._view],d=!1,"dayView"===r||"weekView"===r?o.getAttribute("data-end-date")?"left"==e&&(1<i.elements[0].cells.length||p.rtl)?(p.rtl?i.to=Be.jqx.scheduler.utilities.getEndOfDay(h.addDays(1)):i.to=Be.jqx.scheduler.utilities.getEndOfDay(h.addDays(-1)),d=!0):"right"==e&&((!p.rtl||p.rtl&&1<i.elements[0].cells.length)&&(i.to=Be.jqx.scheduler.utilities.getEndOfDay(h)),d=!0):"up"==e&&1<i.elements[0].cells.length?(i.to=h,d=!0):"down"==e&&(i.to=h.addMinutes(p.getMinutesPerScale()),d=!0):0<=r.indexOf("month")?"left"==e&&(1<i.elements[0].cells.length||1<i.elements.length)?(i.to=Be.jqx.scheduler.utilities.getEndOfDay(h.addDays(-1)),d=!0):"right"==e&&(i.to=Be.jqx.scheduler.utilities.getEndOfDay(h),d=!0):!p.rtl&&"left"==e&&1<i.elements[0].cells.length||p.rtl&&"right"==e&&1<i.elements[0].cells.length?(i.to=h,p.rtl&&(i.to=h.addMinutes(p.getMinutesPerScale())),d=!0):(!p.rtl&&"right"==e||p.rtl&&"left"==e)&&(i.to=h.addMinutes(p.getMinutesPerScale()),p.rtl&&(i.to=i.to.addMinutes(p.getMinutesPerScale())),d=!0),d&&p.moveAppointment(i,h,l,t,!0)):u?p.moveAppointment(i,h,l,t):(p.clearAppointmentsSelection(),e="down"!=e,p.selectCell(h,e,r),p._ensureVisible(t)),p.selectedAppointment&&(p.selectedAppointment.removeClass(p.toTP("jqx-scheduler-selected-appointment")),t=p.selectedAppointment.attr("data-key"),Be('[data-key="'+t+'"]').addClass(p.toTP("jqx-scheduler-selected-appointment")),p.clearSelection())};if(h.altKey&&p._resourcesElements&&p._resources&&0<p._resources.length){var o=49<=e&&e<=58?o=e-48:-1;if(1<=o)return Be.each(p._resources,function(e,t){if(e==o-1)return t=t,"on"==p._resourcesElements.bottom[t].attr("data-toggle")?p.hideAppointmentsByResource(t):p.showAppointmentsByResource(t),!1}),!1}if(h.ctrlKey){if(!p.selectedAppointment){if(37==e)return p.toolbarLeftButton.trigger("click"),p._ensureVisible(p.focusedCell),!1;if(39==e)return p.toolbarRightButton.trigger("click"),p._ensureVisible(p.focusedCell),!1}if(49==e)return p._setView(0),!1;if(50==e)return p._setView(1),!1;if(51==e)return p._setView(2),!1;if(52==e)return p._setView(3),!1;if(53==e)return p._setView(4),!1;if(54==e)return p._setView(5),!1;if(68==e)return p.dateTimeInput.jqxDateTimeInput("open"),!1;if(77==e)return p.openMenu(),!1}if(9==e)if(h.shiftKey)if(p.selectedAppointment){p.clearSelection();var n=p.selectedAppointment,s=p.getJQXAppointmentByElement(n);if(s)return 0<(r=p.tabKeyAppointments.indexOf(s))?(s=p.tabKeyAppointments[r-1],p._selectAppointment(s),p._lastSelectedAppointment=s,p._ensureAppointmentVisible(s),!1):(p.clearAppointmentsSelection(),p.focusedCell?!p.focusedCell||-1!=p.focusedCell.className.indexOf("-focus")||(p._updateCellsSelection(),p._ensureVisible(p.focusedCell),!1):(p._updateFocusedCell(),p._ensureVisible(p.focusedCell),!1))}else if(p.focusedCell){if(p.focusedCell&&-1==p.focusedCell.className.indexOf("-focus"))return p._updateCellsSelection(),p._ensureVisible(p.focusedCell),!1}else p._updateFocusedCell(),p._ensureVisible(p.focusedCell);else{if(p.selectedAppointment){p.clearSelection();var r,n=p.selectedAppointment,s=p.getJQXAppointmentByElement(n);return(r=p.tabKeyAppointments.indexOf(s))<p.tabKeyAppointments.length-1?(s=p.tabKeyAppointments[r+1],p._selectAppointment(s),p._lastSelectedAppointment=s,p._ensureAppointmentVisible(s),!1):(p.clearAppointmentsSelection(),!0)}if(s=p.tabKeyAppointments[0])return p._selectAppointment(s),p._lastSelectedAppointment=s,p._ensureAppointmentVisible(s),!1;if(!p.focusedCell)return p._updateFocusedCell(),p._ensureVisible(p.focusedCell),!1;if(p.focusedCell&&-1==p.focusedCell.className.indexOf("-focus"))return p._updateCellsSelection(),p._ensureVisible(p.focusedCell),!1}if(p.selectedAppointment)return 37==e?i("left"):38==e?i("up"):40==e?i("down"):39==e&&i("right"),!(37<=e&&e<=40)&&void 0;var m=this._lastSelectedCell;if(m){Be(this._lastSelectedCell).parent()[0]||(this._lastSelectedCell=this.rows[0].cells[0],m=this._lastSelectedCell);this.rows;var f=this._views[this._view].type,s=this._views[this._view],g="halfHour";s.timeRuler&&s.timeRuler.scale&&(g=s.timeRuler.scale);function a(e,t){switch(g){case"sixtyMinutes":case"hour":0;break;case"thirtyMinutes":case"halfHour":0;break;case"fifteenMinutes":case"quarterHour":0;break;case"tenMinutes":0;break;case"fiveMinutes":0}function i(e,t,i){if(e&&(null==e.getAttribute("rowspan")||"agendaView"==f)&&null==e.getAttribute("data-time-slot")&&!(i<p.min||i>p.max)){var o=p.rows,i=p._lastSelectedCell;if(p._lastSelectedCell=e,h.shiftKey&&p._lastSelectedCell?p.shiftSelectedCell||(p.shiftSelectedCell=m):h.shiftKey||(p.shiftSelectedCell=null),p.shiftSelectedCell)(!e.getAttribute("data-end-date")||!p.shiftSelectedCell.getAttribute("data-end-date"))&&(e.getAttribute("data-end-date")||p.shiftSelectedCell.getAttribute("data-end-date"))?(p.focusedCell=i,p._lastSelectedCell=i):(p.focusedCell=e,p._selectRange(e,p.shiftSelectedCell));else{for(var n=0;n<o.length;n++){var s=o[n];if(!s.element.getAttribute("data-group-row"))for(var r=0;r<s.cells.length;r++)s.cells[r].removeAttribute("data-selected","false")}e.setAttribute("data-selected","true"),p.focusedCell=e}p._ensureVisible(p.focusedCell)}}var o=e.getAttribute("data-date");new Be.jqx.date(o,p.timeZone),e.getAttribute("data-view");switch(t){case"left":0<(n=(d=p.rowByCell[e.getAttribute("data-key")]).indexOf(e))&&(r=d.cells[n-1],l=new Be.jqx.date(r.getAttribute("data-date"),p.timeZone)),i(r,0,l);break;case"right":(n=(d=p.rowByCell[e.getAttribute("data-key")]).indexOf(e))<d.cells.length-1&&(r=d.cells[n+1],l=new Be.jqx.date(r.getAttribute("data-date"),p.timeZone)),i(r,0,l);break;case"up":var n=(d=p.rowByCell[e.getAttribute("data-key")]).indexOf(e),s=d.aboveRow;if(s){var r=s.cells[n];if(0==n&&r.getAttribute("rowspan"))for(var a=-1+p.rows.indexOf(d),r=e;0<=a;){if(p.rows[a].cells[0]!=r){r=p.rows[a].cells[0];break}a--}var l=new Be.jqx.date(r.getAttribute("data-date"),p.timeZone);i(r,0,l)}break;case"down":n=(d=p.rowByCell[e.getAttribute("data-key")]).indexOf(e),s=d.belowRow;if(s){r=s.cells[n];if(0==n&&r.getAttribute("rowspan"))for(a=1+p.rows.indexOf(d),r=e;a<p.rows.length;){if(p.rows[a].cells[0]!=r){r=p.rows[a].cells[0];break}a++}l=new Be.jqx.date(r.getAttribute("data-date"),p.timeZone);i(r,0,l)}break;case"home":n=(d=p.rowByCell[e.getAttribute("data-key")]).indexOf(e),r=p.rows[0].cells[n],l=new Be.jqx.date(r.getAttribute("data-date"),p.timeZone);i(r,0,l);break;case"end":var d,n=(d=p.rowByCell[e.getAttribute("data-key")]).indexOf(e),r=p.rows[p.rows.length-1].cells[n],l=new Be.jqx.date(r.getAttribute("data-date"),p.timeZone);i(r,0,l)}p._updateCellsSelection()}return 36==e||u&&38==e?(a(m,"home"),!1):35==e||u&&40==e?(a(m,"end"),!1):37==e?(p.selectedAppointment?i(m):a(m,"left"),!1):38==e?(p.selectedAppointment?i(m):a(m,"up"),!1):40==e?(p.selectedAppointment?i(m):a(m,"down"),!1):39==e?(p.selectedAppointment?i(m):a(m,"right"),!1):void 0}},getSelectedCells:function(){for(var i=this,e=i.rows,t=e.length,o=new Array,n=0;n<t;n++)for(var s=e[n].cells,r=0;r<s.length;r++)s[r].getAttribute("data-selected")&&o.push(s[r]);return o.sort(function(e,t){return i._sortByDate(e,t)})},getSelection:function(){var e=this,t=e.getSelectedCells();if(0==t.length)return null;var i=t[0].getAttribute("data-date"),o=t[t.length-1].getAttribute("data-date"),n=e.getMinutesPerScale();0<=(s=e._views[e._view].type).toLowerCase().indexOf("month")&&(n=0),t[0].getAttribute("data-end-date")&&(n=0),o=new Be.jqx.date(o,e.timeZone).addMinutes(n);var s=parseInt(t[0].getAttribute("data-view"))-1,s=e._resources[s];return 0<=e._views[e._view].type.toLowerCase().indexOf("month")?{from:new Be.jqx.date(i,e.timeZone),to:Be.jqx.scheduler.utilities.getEndOfDay(o),resourceId:s}:0<=e._views[e._view].type.toLowerCase().indexOf("day")||0<=e._views[e._view].type.toLowerCase().indexOf("week")?(i=new Be.jqx.date(i,e.timeZone),0===o.minute()&&0===o.hour()&&0===i.hour()&&0===i.minute()?o.day()===i.day()?{from:new Be.jqx.date(i,e.timeZone),to:Be.jqx.scheduler.utilities.getEndOfDay(o),resourceId:s}:{from:new Be.jqx.date(i,e.timeZone),to:Be.jqx.scheduler.utilities.getEndOfDay(o).addDays(-1),resourceId:s}:{from:new Be.jqx.date(i,e.timeZone),to:o,resourceId:s}):0<=e._views[e._view].type.toLowerCase().indexOf("agenda")?{from:new Be.jqx.date(i,e.timeZone),to:Be.jqx.scheduler.utilities.getEndOfDay(o),resourceId:s}:void 0},clearSelection:function(){for(var e=this.rows,t=e.length,i=0;i<t;i++)for(var o=e[i].cells,n=0;n<o.length;n++)o[n].removeAttribute("data-selected");this._updateCellsSelection()},_getvirtualcolumnsindexes:function(e,t,i,o,n){this.rtl&&(e=this.hScrollInstance.max-e);var s=0,r=-1,a=i+o;if(this.autorowheight)return{start:0,end:i+o};if(!n)for(var l=0;l<i+o;l++)if(this.columns.records[l].hidden||(s+=this.columns.records[l].width),e<=s&&-1==r&&(r=l),t+e<s){a=l;break}return i+o<++a&&(a=i+o),-1==r&&(r=0),{start:r,end:a}},_renderhorizontalscroll:function(){var e=this,t=e.hScrollInstance,i=t.value;"hidden"===e.hScrollBar[0].style.visibility&&(i=t.value=0);var o=parseInt(i);if(null!=e.table){function n(e){return!(!e.parentNode||"#document-fragment"==e.parentNode.nodeName)}for(var i=e._getvirtualcolumnsindexes(o,e._hostWidth,0,e.columns.records.length,!1),s=i.start,r=i.end,a=(e.rows,0);a<s;a++){var l=a;n(d=e.columns.records[l].element[0])&&d.parentNode.removeChild(d)}for(a=r;a<e.columns.records.length;a++){var d,l=a;n(d=e.columns.records[l].element[0])&&d.parentNode.removeChild(d)}for(a=s;a<r;a++){l=a;n(d=e.columns.records[l].element[0])||e.columnsrow[0].appendChild(d)}i=e.columnsrow,e.columns.records.length,e.columns.records,e.source.records.length;if(e.rtl&&"hidden"!=e.hScrollBar.css("visibility")&&(o=t.max-o),e.table[0].style.left=-o+"px","block"==e.pinnedtable[0].style.display&&(e.pinnedtable[0].style.left=-o+"px"),0<e._resources.length&&0<e.tableRows)for(var h=0;h<this.table[0].rows.length;h++){var c=this.table[0].rows[h];c.getAttribute("data-group-row")&&Be(c).find("span").css("left",5+o)}i[0].style.marginLeft=-o+"px"}},_getDayName:function(e,t){7<=e&&(e-=7),t||(t=this.dayNameFormat,this.isTouchDevice()&&(t=this.touchDayNameFormat));var i=this.schedulerLocalization.days.names[e];switch(t){case"full":i=this.schedulerLocalization.days.names[e];break;case"abbr":i=this.schedulerLocalization.days.namesAbbr[e];break;case"shortest":i=this.schedulerLocalization.days.namesShort[e];break;case"firstTwoLetters":i=i.substring(0,2);break;case"firstLetter":i=i.substring(0,1)}return i},_initializeColumns:function(){if(0===this._views.length&&this._views.push({type:"dayView"}),!this._views[this._view])throw new Error("jqxScheduler: View is undefined. You need to define the View in the Views Array when you create jqxScheduler");var i=this._views[this._view].type,p=this._views[this._view];if(p.timeSlotWidth&&(p.timeSlotWidth=Math.max(p.timeSlotWidth,30),p.columnWidth=p.timeSlotWidth),p.columnWidth&&p.columnWidth<30&&(p.columnWidth=30),this.columns&&this.columns.records)for(var o=0;o<this.columns.records.length;o++)this._removecolumnhandlers(this.columns.records[o]);this.columns=new Array;function e(e,t){var i="halfHour";p.timeRuler&&p.timeRuler.scale&&(i=p.timeRuler.scale);var o=24,n=0,s=23;if(p.timeRuler&&(null!=p.timeRuler.scaleStartHour&&(n=parseInt(p.timeRuler.scaleStartHour)),null!=p.timeRuler.scaleEndHour&&(s=parseInt(p.timeRuler.scaleEndHour)),n<0&&(n=0),s<0&&(s=23),23<n&&(n=0),23<s&&(s=23),o=s-n+1),s=2,i)switch(i){case"sixtyMinutes":case"hour":s=1;break;case"thirtyMinutes":case"halfHour":s=2;break;case"fifteenMinutes":case"quarterHour":s=4;break;case"tenMinutes":s=6;break;case"fiveMinutes":s=12}new Array;var r="auto";p.timeRuler&&p.timeRuler.formatString&&(r=p.timeRuler.formatString);for(var a=o,l=e.addHours(n),d="auto",d=p.columnWidth?s*p.columnWidth:80*s,h=0;h<a;h++){var c,u=l.toDate();c="auto"===r?0==u.getHours()&&0==u.getMinutes()||12==u.getHours()&&0==u.getMinutes()?"hh tt":"hh:mm":Be.isFunction(r)?r(u):r,Be.jqx.dataFormat.isDate(u)&&(u=Be.jqx.dataFormat.formatdate(u,c,m.schedulerLocalization)),l=l.addMinutes(60,!1),m.columns.push({columnGroup:t,text:u,minwidth:30,width:d})}}for(var t=new Array,m=this,n=0;n<this.tableColumns;n++){1<this.tableColumns&&(l=m._resources[n]||"Resource"+n,t.push({text:l,name:l}));var s="left";switch(this.rtl&&(s="right"),i){case"dayView":var r=this.getViewStart();!1===p.showWeekends&&(0!==r.dayOfWeek()&&6!==r.dayOfWeek()||(r=r.addDays(1)),0!==r.dayOfWeek()&&6!==r.dayOfWeek()||(r=r.addDays(1)));var a="auto";p&&p.columnWidth&&(a=p.columnWidth);var l=m._resources[n]||"Resource"+n;this.columns.push({align:s,width:a,columnGroup:l,text:this._getDayName(r.dayOfWeek())});break;case"weekView":case"monthView":for(o=0;o<7;o++)6<(d=this.schedulerLocalization.firstDay+o)&&(d=0),(!1!==p.showWeekends||0!==d&&6!==d)&&(a="auto",p&&p.columnWidth&&(a=p.columnWidth),l=m._resources[n]||"Resource"+n,this.columns.push({align:"weekView"==i?s:"center",width:a,columnGroup:l,text:this._getDayName(d)}));break;case"timelineDayView":l=m._resources[n]||"Resource"+n;e(m.getViewStart(),l);break;case"timelineWeekView":for(o=0;o<7;o++){var d=this.schedulerLocalization.firstDay+o;(!1!==p.showWeekends||0!==o&&6!==o)&&(l=m._resources[n]||"Resource"+n,t.push({align:m.rtl?"right":"left",parentGroup:l,name:this._getDayName(d)+n,text:this._getDayName(d)}),e(m.getViewStart().addDays(o),this._getDayName(d)+n))}break;case"timelineMonthView":var h=m.getViewStart(),c="auto";p.timeRuler&&p.timeRuler.formatString&&(c=p.timeRuler.formatString);for(o=0;o<41;o++){var u,f,d=h.dayOfWeek();(!1!==p.showWeekends||0!==d&&6!==d)&&(a="auto",a=p.columnWidth||100,u=h.toDate(),"auto"===c?(f="dd",1===(u=h.toDate()).getDate()&&(f="MMM dd")):f=Be.isFunction(c)?c(u):c,Be.jqx.dataFormat.isDate(u)&&(u=Be.jqx.dataFormat.formatdate(u,f,m.schedulerLocalization)),h=h.addDays(1),l=m._resources[n]||"Resource"+n,m.columns.push({minwidth:30,columnGroup:l,text:u,width:a}))}break;case"agendaView":var g=p.dateColumnWidth,w=p.timeColumnWidth,r=(r=p.appointmentColumnWidth)||"70%",w=w||"auto",g=g||"auto";m.columns.push({text:m.schedulerLocalization.agendaDateColumn,width:g}),m.columns.push({text:m.schedulerLocalization.agendaTimeColumn,width:w}),m.columns.push({text:m.schedulerLocalization.agendaAppointmentColumn,width:r})}}0<t.length&&(this.columnGroups=t);var m=this,v=new Be.jqx.schedulerDataCollection(this.element),y=0;this._columns=this.columns;var x="left",b=new Be.jqx.scheduler.column(m,this);b.visibleindex=y++,b.text="",b.width=m.timeRulerWidth,b.editable=!1,b.timeColumn=!0,x="left",b.text="",b.hidden=!1,b.width=m.timeRulerWidth;!p.timeRuler||"dayView"!==i&&"weekView"!==i?"dayView"!==i&&"weekView"!==i&&(b.hidden=!0):(b._text=p.timeRuler.text||"",x=p.timeRuler.position||"left",b.hidden=p.timeRuler.hidden||!1,b.width=p.timeRuler.width||m.timeRulerWidth,p.timeRuler.timeZones);function A(e){var t=new Be.jqx.scheduler.column(m,m);t.visibleindex=y++,t.text="",t.width=m.timeRulerWidth,t.editable=!1,t.timeColumn=!0,x="left",t.text="",t.hidden=!1,t.timeZone=p.timeRuler.timeZones[e].id,t.width=m.timeRulerWidth,!p.timeRuler||"dayView"!==i&&"weekView"!==i||(t._text=p.timeRuler.timeZones[o].text||"",t.hidden=p.timeRuler.hidden||!1,t.width=p.timeRuler.width||m.timeRulerWidth,v.add(t))}if("left"===x&&("dayView"===i||"weekView"===i)){if(p.timeRuler&&p.timeRuler.timeZones)for(o=0;o<p.timeRuler.timeZones.length;o++)A(o);v.add(b)}"left"===x&&"monthView"===i&&p.showWeekNumbers&&(b.hidden=!1,v.add(b));new Array;if(Be.each(this.columns,function(e){null!=m.columns[e]&&((e=new Be.jqx.scheduler.column(m,this)).visibleindex=y++,v.add(e))}),"right"===x&&("dayView"===i||"weekView"===i)){if(p.timeRuler)for(o=0;o<p.timeRuler.timeZones.length;o++)A(o);v.add(b)}"right"===x&&"monthView"===i&&p.showWeekNumbers&&(b.hidden=!1,v.add(b)),this.rtl&&v.records.reverse(),this.columns=v},_getColumnsLengthPerView:function(){var e=this._views[this._view].type,t=this._views[this._view],i=1;switch(e){case"dayView":i=1;break;case"weekView":case"monthView":i=!1!==t.showWeekends?7:5;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":case"agendaView":i=this.columns.records.length}return i},escape_HTML:function(e){return e&&(e.replace?e.replace(/[&<>"]/g,function(e){return{"&":"&","<":"<",">":">",'"':'"'}[e]||e}):e)},_renderagenda:function(){var i=this,e=(i._views[i._view].type,i._views[i._view]),t=i.getViewStart(),o=Be.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd().addDays(-1));i._prepareAppointmentsInView(t,o);for(var n=i.appointmentsToRender.length,s=new Array,r=0;r<i.appointmentsToRender.length;r++)for(var a=i.appointmentsToRender[r],l=a.from.clearTime();l<Be.jqx.scheduler.utilities.getEndOfDay(a.to);){var d=l.toString();s[d]?s[d].appointments.push(a):(s[d]={date:l,appointments:new Array},s[d].appointments.push(a),s[s.length]=s[d]),l=l.addDays(1).clearTime()}var h=0,c=0;i.rows=new Array;for(var u=Be.jqx.browser.msie&&Be.jqx.browser.version<8,p=0,o=i.rtl?" "+i.toTP("jqx-grid-table-rtl"):"",m=0,f="<table cellspacing='0' cellpadding='0' class='"+i.toTP("jqx-grid-table")+o+"' id='table"+i.element.id+"'><colgroup>",g=i.columns.records.length,w=0;w<g;w++){var v=i.columns.records[w];v.hidden?p++:((S=v.width)<v.minwidth&&(S=v.minwidth),S>v.maxwidth&&(S=v.maxwidth),(S-=0)<0&&(S=0),u?(v=S,w==p&&v++,f+="<col style='max-width: "+v+"px; width: "+v+"px;'>"):f+="<col style='max-width: "+S+"px; width: "+S+"px;'>",m+=S)}f+="</colgroup>",0==n&&(T='<tr role="row">',k=this.host.height(),W=0,i.columnGroups?W+=i.showHeader?i.columnsheader.height():0:W+=i.showHeader?i.columnsHeight:0,i.showToolbar&&(W+=i.toolbarHeight),i.showLegend&&0<i._resources.length&&(W+=i.legendHeight),k-=W,B='<td data-date="'+t.toString()+'" colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+k+"px; height: "+k+"px; max-width:"+m+"px; width:"+m+"px;",q=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item"),B+='" class="'+(q+=" "+this.toTP("jqx-center-align"))+'">',B+=this.schedulerLocalization.emptyDataString,T+=B+="</td>",f+=T+="</tr>",this.table[0].style.width=m+2+"px",c=m);var y=i.rowsHeight;i.isTouchDevice()&&(y=i.touchRowsHeight);for(r=0;r<s.length;r++)for(var x=r,l=s[r],b=0;b<l.appointments.length;b++){for(var A=0,T='<tr data-key="'+x+'" role="row">',h=0,_=l.appointments[b],w=0;w<g;w++){var S,D=i.columns.records[w],j=w;i.rtl&&(j=g-1-w),(S=D.width)<D.minwidth&&(S=D.minwidth),S>D.maxwidth&&(S=D.maxwidth),(S-=0)<0&&(S=0);var q=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");i.rtl&&(q+=" "+i.toTP("jqx-cell-rtl"));var x=i.dataview.generatekey(),C=l.date,k=y+"px",B='<td data-key="'+x+'" data-view="'+-1+'" data-date="'+C.toString()+'" role="gridcell"  style="max-width:'+S+"px; width:"+S+"px; height: "+k+"; min-height: "+y+"px;";if(0==j&&0==b){B='<td rowspan="'+l.appointments.length+'" data-key="'+x+'" data-view="'+-1+'" data-date="'+C.toString()+'" role="gridcell"  style="max-width:'+S+"px; width:"+S+"px;  min-height: "+y+"px;";q+=" "+i.toTP("jqx-center-align")}else if(0==j){h++;continue}i.rtl&&1==j&&(q+=" "+i.toTP("jqx-right-align")),D.hidden?(B+="display: none;",i._hiddencolumns=!0):(A+=0+S,0!=h||i.rtl?B+="border-left-width: 1px;":B+="border-left-width: 0px;",h++),B+='" class="'+q+'">';var R,z,H,P,M,V,F,I,E,O="";0==j&&0==b&&(R=C.toString("dddd",i.schedulerLocalization),z=C.toString("MMMM, yyyy",i.schedulerLocalization),E=i.toTP("jqx-scheduler-agenda-date"),H=i.toTP("jqx-scheduler-agenda-day"),D=i.toTP("jqx-scheduler-agenda-week"),O='<div class="'+E+'"><strong class="'+H+'">'+C.day()+'</strong><br/><em class="'+D+'">'+R+'</em><br/><span class="'+E+'">'+z+"</span></div>"),1==j?(P="auto",e=this._views[this._view],M=_.from,F=_.to,e.timeRuler&&e.timeRuler.formatString&&(P=e.timeRuler.formatString),"auto"===(I=V=P)&&(V=0==M.hour()&&0==M.minute()||12==M.hour()&&0==M.minute()?"hh tt":"hh:mm",I=0==F.hour()&&0==F.minute()||12==F.hour()&&0==F.minute()?"hh tt":"hh:mm"),E=i.toTP("jqx-scheduler-agenda-time"),O=_.allDay?"<span class='"+E+"'>"+i.schedulerLocalization.agendaAllDayString+"</span>":i.rtl?"<span class='"+E+"'>"+F.toString(I,i.schedulerLocalization)+" - "+M.toString(V,i.schedulerLocalization)+"</span>":"<span class='"+E+"'>"+M.toString(V,i.schedulerLocalization)+" - "+F.toString(I,i.schedulerLocalization)+"</span>"):2==j&&(_.resourceId&&Be.each(i._resources,function(e,t){_.resourceId==t&&(t=i.getColors(e),this.toString(),e=i.toTP("jqx-scheduler-agenda-appointment-resource jqx-scheduler-legend"),i.rtl&&(e=i.toTP("jqx-scheduler-agenda-appointment-resource-rtl jqx-scheduler-legend")),t="<div data-key='"+_.id+"' class='"+e+"' style='margin-right: 5px; border-color: "+t.border+"; background: "+t.background+";' class='"+i.toThemeProperty("jqx-scheduler-legend")+"'></div>",O=t)}),P=_.subject||"(No Title)",M=_.location,V=_.description,F=_.status?i.schedulerLocalization.editDialogStatuses[_.status]:"",I=_.isRecurrentAppointment(),_.isException(),j=i.schedulerLocalization.editDialogSubjectString+": "+P,M&&(j+="\n"+i.schedulerLocalization.editDialogLocationString+": "+M),V&&(j+="\n"+i.schedulerLocalization.editDialogDescriptionString+": "+V),F&&(j+="\n"+i.schedulerLocalization.editDialogStatusString+": "+F),I&&(j+="\n"+i.schedulerLocalization.editDialogRepeatString+": "+I),E=i.toTP("jqx-scheduler-agenda-appointment jqx-scheduler-legend-label"),i.rtl&&(E=i.toTP("jqx-scheduler-agenda-appointment-rtl jqx-scheduler-legend-label")),O+="<span data-key='"+_.id+"' title='"+i.escape_HTML(j)+"' class='"+E+"'>"+i.escape_HTML(P)+"</span>"),B+=O,T+=B+="</td>"}0==c&&(i.table[0].style.width=A+2+"px",i.pinnedtable[0].style.width=A+2+"px",c=A),f+=T+="</tr>"}f+="</table>",i.table.html(f),i.pinnedtable.html(f),i.pinnedtable[0].style.display="none";var W=Be(i.table[0].firstChild),t=Be(i.pinnedtable[0].firstChild);function N(){var i={};return i.cells=new Array,i.indexOf=function(e){for(var t=0;t<i.cells.length;t++)if(i.cells[t].getAttribute("data-key")==e.getAttribute("data-key"))return t;return-1},i}i._table=W,i._pinnedtable=t,Be.jqx.browser.msie&&Be.jqx.browser.version<10&&(i._table[0].style.width=c+"px",i._pinnedtable[0].style.width=c+"px"),0===n&&(i._table[0].style.width=2+c+"px",i._pinnedtable[0].style.width=2+c+"px",i._pinnedtable[0].style.display="none"),i._pinnedtable[0].style.display="none",i._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),i.table[0].rows=i.table[0].firstChild.rows,i.rowByCell=new Array,i.columnCells=new Array,i.cellWidth=0,i.cellHeight=0;for(var L=i.table[0].rows.length,r=0;r<L;r++){var Z=i.table[0].rows[r];if(!Z.getAttribute("data-group-row")){var U=new N;U.aboveRow=null,U.belowRow=null,0<i.rows.length&&(U.aboveRow=i.rows[i.rows.length-1],i.rows[i.rows.length-1].belowRow=U),U.element=Z,i.rows.push(U);for(var X=!1,w=0;w<Z.cells.length;w++){if(Z.cells.length<i.columns.records.length&&!X)for(var G=r;0<=G;){var J=i.table[0].rows[G];if(i.table[0].rows[G].cells.length==i.columns.records.length){var K=J.cells[0];i.columnCells[U.cells.length]||(i.columnCells[U.cells.length]=new Array),i.columnCells[U.cells.length].push(K),0==i.cellWidth&&(i.cellWidth=K.clientWidth),0==i.cellHeight&&(1==L||1<r)&&(i.cellHeight=K.clientHeight),U.cells.push(K),X=!0;break}G--}"none"!==(K=Z.cells[w]).style.display&&(0<=K.className.indexOf("jqx-grid-cell-pinned")||(i.columnCells[U.cells.length]||(i.columnCells[U.cells.length]=new Array),i.columnCells[U.cells.length].push(K),0==i.cellWidth&&(i.cellWidth=K.clientWidth),0==i.cellHeight&&(1==L||1<r)&&(i.cellHeight=K.clientHeight),U.cells.push(K),i.rowByCell[K.getAttribute("data-key")]=U))}}}0===n&&(i._table[0].style.tableLayout="auto"),i._updateScrollbars(i.host.height()),i._arrange(),i.rendered&&i.rendered(),i.renderedTime=new Date},_renderrows:function(){var i=this;if(!i._loading&&!i._updating&&!i._appupdating){i.rendering&&i.rendering();var e=(i=this)._views[i._view].type,t=i._views[i._view];if("agendaView"!=e){var o=1,n=i.getViewStart(),s=Be.jqx.scheduler.utilities.getEndOfDay(i.getViewEnd());i._prepareAppointmentsInView(n,s);var r=new Array;"weekView"===e||"dayView"===e?o=i.getMaxAllDayAppointments(i.appointmentsToRender):"monthView"===e&&t.monthRowAutoHeight&&i.rows&&6==i.rows.length&&(r=i._getMonthAppointmentsPerWeek());1<i.tableRows&&i.tableRows;var a,l="halfHour",d=null;t.rowHeight&&(d=t.rowHeight),t&&t.allDayRowHeight&&(a=t.allDayRowHeight),t.timeRuler&&t.timeRuler.scale&&(l=t.timeRuler.scale);var h=0;i.table[0].rows=new Array,i.rows=new Array;var c=i.toTP("jqx-cell")+" "+i.toTP("jqx-widget-content");i.rtl&&(c+=" "+i.toTP("jqx-cell-rtl"));var u=i.columns.records.length,p=i._getColumnsLengthPerView(),m=Be.jqx.browser.msie&&Be.jqx.browser.version<8;m&&i.host.attr("hideFocus","true"),i._lastSelectedCell=null,i.focusedCell=null;new Array;var f=i.source.records,f=i.dataview.evaluate(f);i.dataViewRecords=f,i.cells=new Array;i.dataViewRecords;i.renderedRecords=i.getRows();i.tableZIndex;var g=i.getRows().length,w=0,v=0;if(m)for(var y=0;y<u;y++){(ue=(C=i.columns.records[y]).width)<C.minwidth&&(ue=C.minwidth),ue>C.maxwidth&&(ue=C.maxwidth);var x=Be('<table><tr><td role="gridcell" style="max-width: '+ue+"px; width:"+ue+'px;" class="'+c+'"></td></tr></table>');Be(document.body).append(x);var b=x.find("td"),w=1+parseInt(b.css("padding-left"))+parseInt(b.css("padding-right"));x.remove();break}var A=i.rtl?" "+i.toTP("jqx-grid-table-rtl"):"",T="<table cellspacing='0' cellpadding='0' class='"+i.toTP("jqx-grid-table")+A+"' id='table"+i.element.id+"'><colgroup>",_=0,S=2,D=30;switch(l){case"sixtyMinutes":case"hour":D=60,S=1;break;case"thirtyMinutes":case"halfHour":D=30,S=2;break;case"fifteenMinutes":case"quarterHour":D=15,S=4;break;case"tenMinutes":D=10,S=6;break;case"fiveMinutes":D=5,S=12}var j=1;"timelineDayView"===e||"timelineWeekView"===e?p=(u*=j=S)/i.tableColumns:"timelineMonthView"===e?p=u/i.tableColumns:"monthView"===e&&(p=t.showWeekNumbers?(u-i.tableColumns)/i.tableColumns:u/i.tableColumns);function q(e){var t=i.columns.records[e];if(t)return t;for(;e>=i.columns.records.length;)e-=i.columns.records.length;return t=i.columns.records[e]}for(var C,y=0;y<u;y++)(C=q(y)).hidden?(_++,0):((ue=C.width/j)<C.minwidth&&(ue=C.minwidth/j),ue>C.maxwidth&&(ue=C.maxwidth/j),(ue-=w)<0&&(ue=0),"monthView"==e&&i.rtl&&C.timeColumn&&ue++,m?(G=ue,y==_&&G++,T+="<col style='max-width: "+G+"px; width: "+G+"px;'>"):T+="<col style='max-width: "+ue+"px; width: "+ue+"px;'>",v+=ue);T+="</colgroup>",i._hiddencolumns=!1,0===g&&(X='<tr role="row">',B=i.host.height(),i.pageable&&(B-=i.pagerHeight,"both"===i.pagerPosition&&(B-=i.pagerHeight)),B-=i.columnsHeight,i.showLegend&&0<i._resources.length&&(B-=i.legendHeight),B<25&&(B=25),"hidden"!=i.hScrollBar[0].style.visibility&&(B-=i.hScrollBar.outerHeight()),"auto"!==i.height&&null!==i.height&&!i.autoheight||(B=300),x='<td colspan="'+i.columns.records.length+'" role="gridcell" style="border: none; min-height: '+B+"px; height: "+B+"px; max-width:"+v+"px; width:"+v+"px;",c=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item"),i.rtl&&(c+=" "+i.toTP("jqx-cell-rtl")),x+='" class="'+(c+=" "+i.toTP("jqx-center-align"))+'">',x+=i.schedulerLocalization.emptyDataString,T+=X+=x+="</td>",i.table[0].style.width=v+2+"px",h=v);var k=i.getRows(),n=i.getViewStart(),B=i._hostHeight||i.host.height(),R=0;i.columnGroups?R+=i.showHeader?i.columnsheader.height():0:R+=i.showHeader?i.columnsHeight:0,i.showToolbar&&(R+=i.toolbarHeight),i.showLegend&&0<i._resources.length&&(R+=i.legendHeight);var z=i.showAllDayRow,H=23;t.resourceHeaderRowHeight&&(H=t.resourcesRowHeight),H+=2,null!=t.showAllDayRow&&(z=t.showAllDayRow);var P=i._columnswidth>i._hostWidth?3+i.scrollBarSize:0,M=1<i.tableRows?i.resources.unitsInView:1;null==M&&(M=i._resources.length),i.resources&&i.resources.resourceRowHeight&&(d=i.resources.resourceRowHeight),null!=d&&"auto"!=d||(A=3*(f=i.rowsHeight),i.isTouchDevice()&&(A=22+(f=i.touchRowsHeight)),1==i.tableRows?(d=0<B?B-R:f,10<i.columns.records.length&&(d=0<B?B-i.scrollBarSize-5-R:f)):(d=0<B?(B-R-H)/g:f,10<i.columns.records.length&&(d=0<B?(B-i.scrollBarSize-5-R-M*H)/(M*g):f)),"dayView"===e||"weekView"===e?z&&(null==a||"auto"==a?a=d=0<B?(B-R)/(i.tableRows*g):A:d=0<B?(B-R-a-M*H)/(M*(g-1)):f):"monthView"===e&&("hidden"==i.hScrollBar[0].style.visibility&&(P=0),d=1==i.tableRows?0<B?(B-R-P)/g:f:0<B?(B-R-H-P)/g:f),d=Math.max(f,d),a=a||A,a=Math.max(A,a),i._allDayRowHeight=a,a=o*((i._defaultRowHeight=f)-2),a=Math.max(A,17+a),i._allDayRowFullHeight=a,t.allDayRowHeight&&(i._allDayRowHeight=t.allDayRowHeight,a=o*(t.allDayRowHeight-2),i._allDayRowFullHeight=a));var V=new Array;if(i.resources&&i.resources.colorScheme){for(var F=0;F<i.colorSchemes.length;F++)if(i.colorSchemes[F].name==i.resources.colorScheme){V=i.colorSchemes[F].colors;break}for(;i._resources.length>V.length-1;){var I=parseInt(i.resources.colorScheme.substring(6));27<=I&&(I=0),V=V.concat(i.colorSchemes[I].colors),I++}}for(var E,O=0;O<i.tableRows;O++){var W=0,N=23;t.timeRuler&&null!=t.timeRuler.scaleStartHour&&(W=parseInt(t.timeRuler.scaleStartHour)),t.timeRuler&&null!=t.timeRuler.scaleEndHour&&(N=parseInt(t.timeRuler.scaleEndHour));var L=n;!1===t.showWeekends&&(0!=L.dayOfWeek()&&6!=L.dayOfWeek()||(L=L.addDays(1)));var Z=new Array,U="monthView"!=e&&"timelineDayView"!=e&&"timelineWeekView"!=e&&"timelineMonthView"!=e&&z?1:0;if(1<i.tableRows){var X='<tr data-group-row="true" role="row">',c=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(i.rtl&&(c+=" "+i.toTP("jqx-cell-rtl")),m)c+=" "+i.toTP("jqx-grid-cell-pinned");else{c+=" "+i.toTP("jqx-grid-cell-pinned"),me+=' colspan="'+u+'"';for(var G=0,J=0;J<u;J++){var K=q(J),Q=K.width/j;Q<K.minwidth&&(ue=K.minwidth/j),Q>K.maxwidth&&(ue=K.maxwidth/j),(Q-=w)<0&&(Q=0),K.hidden||(G+=Q)}ue=G}var Y,x='<td style="height:'+H+"px;";y!=u-1||1!=u||i.rtl||(x+="border-right-color: transparent;"),0<i._resources.length&&i.resources.colorScheme&&"none"!=i.resources.orientation&&(Y=we=ge="",ge=V[O],ge=i.hexToRgba(V[O],.7).toString(),Y=255-(.299*(E=i.hexToRgba(V[O],.7)).r+.587*E.g+.114*E.b)<105?"Black":"White",x+="background: "+ge+";",x+="border-color: "+(we=V[O])+";",x+="color: "+Y+";"),x+='" class="'+c+'" role="gridcell" '+me,x+="><span style='position: relative;'>"+i._resources[O]+"</span>",T+=X+=x+="</td>"}for(var $=0;$<g;$++){var ee={},te="jqx"+i.element.id+"_"+$,X='<tr data-key="'+(ee.uid=te)+'" role="row">',ie=0,oe=0;if(Z[0]&&U<$){D=30;if("monthView"!=e){switch(l){case"sixtyMinutes":case"hour":D=60;break;case"thirtyMinutes":case"halfHour":D=30;break;case"fifteenMinutes":case"quarterHour":D=15;break;case"tenMinutes":D=10;break;case"fiveMinutes":D=5}for(var ne=0;ne<u;ne++)Z[ne]=Z[ne].addMinutes(D,!1)}else for(ne=0;ne<u;ne++)Z[ne]=Z[ne].addDays(7,!1)}var se=0,re=1,ae=0,ae=t.showWeekends||null==t.showWeekends?i.columns.records.length/(7*i.tableColumns):i.columns.records.length/(5*i.tableColumns);ae*=S;var le=0;i.rtl&&(le=1);for(var de=0,y=0;y<u;y++){var he,ce=q(y);p<=se&&(le=de=se=0,i.rtl&&(le=1),re++),Z[y]||(i.rtl?0<=e.toString().indexOf("timelineDayView")?(he=1+y,Z[y]=L.addHours(1+N).addMinutes(-he*D,!1)):0<=e.toString().indexOf("timelineWeekView")?t.showWeekends||null==t.showWeekends?Z[y]=L.addDays(6-de).addHours(1+N,!1).addMinutes(-le*D,!1):Z[y]=L.addDays(4-de).addHours(1+N,!1).addMinutes(-le*D,!1):"dayView"==e||"monthView"==e||"weekView"==e?t.showWeekends||null==t.showWeekends?Z[y]=L.addDays(6-se).addHours(W,!1):Z[y]=L.addDays(4-se).addHours(W,!1):Z[y]=L.addDays(p-se-1).addHours(W,!1):0<=e.toString().indexOf("timelineDayView")?Z[he=y]=L.addHours(W).addMinutes(he*D,!1):0<=e.toString().indexOf("timelineWeekView")?Z[y]=L.addDays(de).addHours(W,!1).addMinutes(le*D,!1):Z[y]=L.addDays(se).addHours(W,!1),i.timeZone&&(Z[y].timeZone=i.timeZone)),ae<=++le&&(le=0,de++),(!(ce.timeColumn||"dayView"!==e&&"weekView"!==e)||!ce.timeColumn&&"monthView"===e&&t.showWeekNumbers||"monthView"===e&&!t.showWeekNumbers||"timelineMonthView"===e||"timelineDayView"==e||"timelineWeekView"==e)&&se++;var ue,pe=Z[y];(ue=ce.width/j)<ce.minwidth&&(ue=ce.minwidth/j),ue>ce.maxwidth&&(ue=ce.maxwidth/j),(ue-=w)<0&&(ue=0);c=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");ce.pinned&&(c+=" "+i.toTP("jqx-grid-cell-pinned")),i.sortcolumn===ce.displayfield&&(c+=" "+i.toTP("jqx-grid-cell-sort")),i.altRows&&$%2!=0&&(c+=" "+i.toTP("jqx-grid-cell-alt")),0!=$||!z||"dayView"!==e&&"weekView"!==e||(c+=" "+i.toTP("jqx-grid-cell-alt")),(pe>i.max||pe<i.min)&&(c+=" "+i.toTP("jqx-scheduler-disabled-cell")),i.rtl&&(c+=" "+i.toTP("jqx-cell-rtl"));var me="",te=i.dataview.generatekey(),fe=O+re;i.resources&&"none"==i.resources.orientation&&(fe=-1),0==i._resources.length&&(fe=-1);var ge,we,ve,ye,xe,be,x='<td data-key="'+te+'" data-view="'+fe+'" data-date="'+pe.toString()+'" role="gridcell" '+me+' style="max-width:'+ue+"px; width:"+ue+"px;  height:"+d+"px;";if(0!=$||!z||"dayView"!==e&&"weekView"!==e||(x='<td  data-key="'+te+'" data-view="'+fe+'" data-end-date="'+Be.jqx.scheduler.utilities.getEndOfDay(pe).toString()+'" data-date="'+pe.clearTime().toString()+'" role="gridcell" '+me+' style="max-width:'+ue+"px; width:"+ue+"px; height:"+a+"px;"),"monthView"==e&&t.monthRowAutoHeight&&0<r.length&&r[$]&&"auto"!=r[$]&&d<r[$]&&(x='<td data-key="'+te+'" data-view="'+fe+'" data-date="'+pe.toString()+'" role="gridcell" '+me+' style="max-width:'+ue+"px; width:"+ue+"px;  height:"+r[$]+"px;"),i.date.month()!=pe.month()&&"monthView"===e&&t.showOtherMonthDays,i.resources&&0<i._resources.length&&i.resources.colorScheme&&"none"!==i.resources.orientation&&(we=ge="",ge=V[O+re-1],ge=(0!=$||!z||"dayView"!==e&&"weekView"!==e?i.hexToRgba(V[O+re-1],.3):i.shadeColor(V[O+re-1],.3)).toString(),0==$&&z&&("dayView"===e||"weekView"===e)||-1!=e.indexOf("month")||ce.timeColumn||!1!==t.showWorkTime&&(ve=1,ye=5,xe=8,be=18,t.workTime&&(ve=t.workTime.fromDayOfWeek||0,ye=t.workTime.toDayOfWeek||0,xe=void 0!==t.workTime.fromHour?t.workTime.fromHour:8,be=t.workTime.toHour||8),pe.dayOfWeek()>=ve&&pe.dayOfWeek()<=ye&&pe.hour()>=xe&&pe.hour()<be&&(ge=i.hexToRgba(V[O+re-1],.1).toString())),x+="background: "+ge+";",x+="border-color: "+(we=V[re+O-1])+";"),y!=u-1||1!=u||i.rtl||(x+="border-right-color: transparent;"),ce.timeColumn&&!ce.hidden&&"monthView"===e){c=i.toTP("jqx-scheduler-time-column")+" "+i.toTP("jqx-widget-header")+" "+i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(c+=" "+i.toTP("jqx-scheduler-week-number-column"),1<i.tableRows&&(c=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item")),i.rtl&&(c+=" "+i.toTP("jqx-cell-rtl")),0!==pe.minute()){oe++;continue}x='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+pe.toString()+'" role="gridcell" style="max-width:'+ue+"px; width:"+ue+"px;";y!=u-1||1!=u||i.rtl?i.rtl&&0==y&&(x+="border-left-color: transparent;"):x+="border-right-color: transparent;",y==u-1&&i.rtl&&(x+="border-right-color: transparent;")}if(!ce.timeColumn||ce.hidden||"dayView"!==e&&"weekView"!==e)0<$&&(Ae="border-left-width: 1px;",i.rtl&&0==y&&"monthView"==e&&t.showWeekNumbers&&(Ae="border-left-width: 0px;"),x+=Ae);else{c=i.toTP("jqx-scheduler-time-column")+" "+i.toTP("jqx-widget-header")+" "+i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item");if(1<i.tableRows&&(c=i.toTP("jqx-cell")+" "+i.toTP("jqx-grid-cell")+" "+i.toTP("jqx-item")),i.rtl&&(c+=" "+i.toTP("jqx-cell-rtl")),0<$){if(0!==pe.minute()){oe++;continue}x='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+pe.toString()+'" rowspan='+S+' role="gridcell" '+me+' style="max-width:'+ue+"px; width:"+ue+"px;";y!=u-1||1!=u||i.rtl?i.rtl&&0==y&&(x+="border-left-color: transparent;"):x+="border-right-color: transparent;"}else i.resources&&"none"==i.resources.orientation&&(fe=-1),0!=$||!z||"dayView"!==e&&"weekView"!==e||(x='<td data-view="'+fe+'" data-time-slot="true" data-end-date="'+Be.jqx.scheduler.utilities.getEndOfDay(pe).toString()+'" data-date="'+pe.toString()+'" role="gridcell" '+me+' style="max-width:'+ue+"px; width:"+ue+"px;"),(y==u-1&&1==u&&!i.rtl||0==y&&1==u&&i.rtl)&&(x+="border-right-color: transparent;"),i.rtl&&(x+="border-left-width: 1px;"),1<i.tableRows&&(x+="background: "+ge+";",x+="border-color: "+we+";")}"left"!=ce.cellsalign&&("right"===ce.cellsalign?c+=" "+i.toTP("jqx-right-align"):c+=" "+i.toTP("jqx-center-align")),ce.timeColumn||i.rowinfo[ee.uid]&&i.rowinfo[ee.uid].selected&&i.editKey!==ee.uid&&"none"!==i.selectionMode&&(c+=" "+i.toTP("jqx-grid-cell-selected"),c+=" "+i.toTP("jqx-fill-state-pressed"),c+=" "+i.toTP("jqx-scheduler-cell-selected")),ce.hidden?(x+="display: none;",i._hiddencolumns=!0):(ie+=w+ue,0!=oe||i.rtl||(x+="border-left-width: 0px;"),oe++),0==$&&z&&("dayView"===e||"weekView"===e)||-1!=e.indexOf("month")||(c+=" "+i.toTP("jqx-grid-cell-nowrap"),$%2!=1||ce.timeColumn||(c+=" "+i.toTP("jqx-scheduler-middle-cell")),ce.timeColumn||!1!==t.showWorkTime&&(ve=1,ye=5,xe=8,be=18,t.workTime&&(ve=t.workTime.fromDayOfWeek||0,ye=t.workTime.toDayOfWeek||0,xe=void 0!==t.workTime.fromHour?t.workTime.fromHour:8,be=t.workTime.toHour||8),pe.dayOfWeek()>=ve&&pe.dayOfWeek()<=ye&&pe.hour()>=xe&&pe.hour()<be?c+=" "+i.toTP("jqx-scheduler-work-time-cell"):c+=" "+i.toTP("jqx-scheduler-not-work-time-cell")));var Ae,Te="";"monthView"===e?(i.touchDevice||ce.timeColumn||(c+=" "+i.toTP("jqx-top-align")),Se="dd",Te=pe.toDate(),Ae=i.toTP("jqx-scheduler-month-outer-cell")+" ",fe=i.toTP("jqx-scheduler-month-weekend-cell"),i.date.month()==pe.month()&&(Ae=""),pe.isWeekend()?c+=" "+fe:fe="",1===Te.getDate()&&(Se="MMM dd"),Te=i.touchDevice?16<d?"<div class='"+Ae+i.toTP("jqx-scheduler-month-cell-touch")+"'>"+Be.jqx.dataFormat.formatdate(Te,Se,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+Ae+i.toTP("jqx-scheduler-month-cell-touch")+"'>"+Be.jqx.dataFormat.formatdate(Te,Se,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>":16<d?"<div class='"+Ae+i.toTP("jqx-scheduler-month-cell")+"'>"+Be.jqx.dataFormat.formatdate(Te,Se,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>":"<div class='"+Ae+i.toTP("jqx-scheduler-month-cell")+"'>"+Be.jqx.dataFormat.formatdate(Te,Se,i.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span></div>"):"timelineWeekView"!==e&&"timelineDayView"!==e&&"timelineMonthView"!==e||(c+=" "+i.toTP("jqx-right-align jqx-bottom-align"),Te="<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+i.toTP("jqx-icon-arrow-down")+"'></span>"),0!=$||!z||"dayView"!==e&&"weekView"!==e||ce.timeColumn||(c+=" "+i.toTP("jqx-top-align"),c+=" "+i.toTP("jqx-scheduler-all-day-cell"),i.rtl&&(c+=" "+i.toTP("jqx-rtl")),Te=pe.toDate(),Te="<span>"+Be.jqx.dataFormat.formatdate(Te,"dd",i.schedulerLocalization)+"</span>");var _e,Se=ce.cellsFormat;ce.timeColumn&&!ce.hidden?(Te=pe.toDate(),ce.timeZone&&(Te=(Te=pe.clone().toTimeZone(ce.timeZone)).toDate()),t.timeRuler&&t.timeRuler.formatString?Se=t.timeRuler.formatString:ce.timeColumn.format||(Se=0==Te.getHours()||12==Te.getHours()?"hh tt":"hh:mm"),Be.jqx.dataFormat.isDate(Te)&&(Te=Be.jqx.dataFormat.formatdate(Te,Se,i.schedulerLocalization)),$<U&&(i.rtl?c+=" "+i.toTP("jqx-scheduler-time-column-header-cell-rtl"):c+=" "+i.toTP("jqx-scheduler-time-column-header-cell"),Te=""),$<U&&(ce._text&&(c+=" "+i.toTP("jqx-bottom-align")),t.timeRuler&&t.timeRuler.timeZones&&0<t.timeRuler.timeZones.length&&y<t.timeRuler.timeZones.length&&(Te=ce._text)),"monthView"==e&&(Te=pe.weekOfYear(i.schedulerLocalization.firstDay))):""!=Se&&Be.jqx.dataFormat&&(Be.jqx.dataFormat.isDate(Te)?Te=Be.jqx.dataFormat.formatdate(Te,Se,i.schedulerLocalization):(Be.jqx.dataFormat.isNumber(Te)||!isNaN(parseFloat(Te))&&isFinite(Te))&&(Te=Be.jqx.dataFormat.formatnumber(Te,Se,i.schedulerLocalization))),""!=ce.cellclassname&&ce.cellclassname&&("string"==typeof ce.cellclassname?c+=" "+ce.cellclassname:(_e=ce.cellclassname($,ce.datafield,Te,ee))&&(c+=" "+_e)),""!=ce.cellsRenderer&&ce.cellsRenderer&&(_e=k.indexOf(ee),Te=ce.cellsRenderer(_e,ce.datafield,Te,ee)),x+='" class="'+c+'">',x+=Te,X+=x+="</td>"}0==h&&(i.table[0].style.width=ie+2+"px",i.pinnedtable[0].style.width=ie+2+"px",h=ie),T+=X+="</tr>",i.rowinfo[ee.uid]?"row"in i.rowinfo[ee.uid]||(i.rowinfo[ee.uid].row=ee):i.rowinfo[ee.uid]={row:ee}}}T+="</table>",i.table.html(T),i.pinnedtable.html(T),i.table[0].rows=i.table[0].firstChild.rows;var o=Be.jqx.browser.msie&&Be.jqx.browser.version<9,De=null;if(!z||"dayView"!==e&&"weekView"!==e||1!=i.tableRows)i.pinnedtable[0].style.display="none";else if(i.pinnedtable[0].style.display="block",i.pinnedtable[0].style.zIndex="400",i.pinnedtable[0].style.position="absolute",i.pinnedtable[0].style.top="0px",i.pinnedtable[0].style.height=a+"px",!o)if(1==i.tableRows){i.oldRow=i.table[0].rows[0];try{i.table[0].rows[0]=i.pinnedtable.find("tr")[0]}catch(e){}De=i.pinnedtable.find("tr")[0],i.pinnedTableRow=De}else{i.oldRow=i.table[0].rows[1];try{i.table[0].rows[1]=i.pinnedtable.find("tr")[1]}catch(e){}De=i.pinnedtable.find("tr")[1],i.pinnedTableRow=De}J=Be(i.table[0].firstChild),o=Be(i.pinnedtable[0].firstChild);i._table=J,i._pinnedtable=o,Be.jqx.browser.msie&&Be.jqx.browser.version<10&&(i._table[0].style.width=h+"px",i._pinnedtable[0].style.width=h+"px"),0===g&&(i._table[0].style.width=2+h+"px",i._pinnedtable[0].style.width=2+h+"px"),i._table.addClass("jqx-grid-table-one-cell jqx-disableselect"),i._pinnedtable.addClass("jqx-grid-table-one-cell jqx-disableselect"),i.rowByCell=new Array,i.columnCells=new Array,i.cellWidth=0,i.cellHeight=0;for(var je=i.table[0].rows.length,$=0;$<je;$++){var qe=i.table[0].rows[$];if(0==$&&De&&(qe=De),!qe.getAttribute("data-group-row")){(ee=new ke).aboveRow=null,ee.belowRow=null,0<i.rows.length&&(ee.aboveRow=i.rows[i.rows.length-1],i.rows[i.rows.length-1].belowRow=ee),ee.element=qe,i.rows.push(ee);for(y=0;y<qe.cells.length;y++){var Ce=qe.cells[y];Ce.getAttribute("data-time-slot")||"none"!==Ce.style.display&&(0<=Ce.className.indexOf("jqx-grid-cell-pinned")||(i.columnCells[ee.cells.length]||(i.columnCells[ee.cells.length]=new Array),i.columnCells[ee.cells.length].push(Ce),0==i.cellWidth&&(i.cellWidth=Ce.clientWidth),0==i.cellHeight&&(1==je||1<$)&&(i.cellHeight=Ce.clientHeight),"monthView"==i._views[i._view].type&&null==ee.top&&(ee.top=parseInt(Be(Ce).position().top)),ee.cells.push(Ce),i.rowByCell[Ce.getAttribute("data-key")]=ee))}}}0===g&&(i._table[0].style.tableLayout="auto"),i._renderAppointments(n,s),("none"!=i.pinnedtable[0].style.display||("dayView"==e||"weekView"==e)&&1<i.tableRows)&&i._updateScrollbars(i.host.height()),"monthView"===e&&t.monthRowAutoHeight&&(0==r.length?i._renderrows():i._updateScrollbars(i.host.height())),i.rendered&&i.rendered(),i.renderedTime=new Date}else i._renderagenda()}function ke(){var i={};return i.cells=new Array,i.indexOf=function(e){for(var t=0;t<i.cells.length;t++)if(i.cells[t].getAttribute("data-key")==e.getAttribute("data-key"))return t;return-1},i}},showAppointmentsByResource:function(e){for(var t,i=this,o=0;o<i.uiappointments.length;o++){var n=i.uiappointments[o];if(n.resourceId==e&&(n.hidden=!1,n.hiddenByResourceId=!1,n.exceptions))for(var s=0;s<n.exceptions.length;s++)n.exceptions[s].hiddenByResourceId=!1}i._resourcesElements&&(t=i.getColors(i._resources.indexOf(e)),i._resourcesElements.top[e].attr("data-toggle","on"),i._resourcesElements.top[e].css("background",t.background),i._resourcesElements.bottom[e].attr("data-toggle","on"),i._resourcesElements.bottom[e].css("background",t.background)),i.hiddenResources&&delete i.hiddenResources[e],i._renderrows()},hideAppointmentsByResource:function(e){for(var t=this,i=0;i<t.uiappointments.length;i++){var o=t.uiappointments[i];if(o.resourceId==e&&(o.hidden=!0,o.hiddenByResourceId=!0,o.exceptions))for(var n=0;n<o.exceptions.length;n++)o.exceptions[n].hiddenByResourceId=!0,o.exceptions[n].hidden=!0}t._resourcesElements&&(t._resourcesElements.top[e].attr("data-toggle","off"),t._resourcesElements.top[e].css("background","transparent"),t._resourcesElements.bottom[e].attr("data-toggle","off"),t._resourcesElements.bottom[e].css("background","transparent")),t.hiddenResources||(t.hiddenResources=new Array),t.hiddenResources[e]=!0,t._renderrows()},_prepareAppointmentsInView:function(e,t){var i=this;if(!i._appupdating){for(var o=new Array,n=0;n<this.uiappointments.length;n++){var s=this.uiappointments[n];if(!s.hidden||null!=s.recurrencePattern){Be.jqx.scheduler.utilities.rangeIntersection(s.from,s.to,e,t)&&!s.recurrencePattern&&o.push(s),s.renderedAppointments=new Array;var r=!1;if(s.recurrencePattern){for(var a=s.getOccurrences(e,t),l=s.exceptions,d=0;d<a.length;d++){var h=a[d];if(!h.hidden){for(var c=!0,u=0;u<l.length;u++){var p=(m=l[u]).occurrenceFrom||m;if(i.selectedJQXAppointment&&i.selectedJQXAppointment.rootAppointment&&!r&&i.selectedJQXAppointment.occurrenceFrom.clearTime().equals(p.clearTime())&&(i.selectedJQXAppointment=m,r=!0),p.clearTime().equals(h.from.clearTime())){c=!1;break}}c&&(i.selectedJQXAppointment&&i.selectedJQXAppointment.rootAppointment&&!r&&i.selectedJQXAppointment.occurrenceFrom.clearTime().equals(h.occurrenceFrom.clearTime())&&(i.selectedJQXAppointment=h,r=!0),s.renderedAppointments[h.id]=h,o.push(h))}}for(u=0;u<l.length;u++){var m,p=(m=l[u]).occurrenceFrom?m.from:m,f=s.createOccurrence(p);m.occurrenceFrom&&(m.cloneAppointmentAttributes(f),m.hidden)||f!=s&&(o.push(m),s.renderedAppointments[m.id]=m)}}}}var g=new Array;this.tabKeyAppointments=new Array;for(n=0;n<o.length;n++){var w=o[n];g.push(w),this.tabKeyAppointments.push(w)}g.sort(this._sortAppointmentsByFrom),0<this._resources.length?this.tabKeyAppointments.sort(function(e,t){return i._sortAppointmentsByResourceId(e,t,i)}):this.tabKeyAppointments.sort(this._sortAppointmentsByFrom),this.appointmentsToRender=g}},_renderDayWeekAppointments:function(){var e=this,t=(e._views[e._view].type,e._views[e._view]),i=new Array,o=new Array,n=this.rows,s=e.showAllDayRow,r=e.getMinutesPerScale();t.timeRuler&&null!=t.timeRuler.showAllDayRow&&(s=t.timeRuler.showAllDayRow);for(var a=0;a<this.appointmentsToRender.length;a++){var l=this.appointmentsToRender[a],d=l.from,h=l.to,c=Be.jqx.scheduler.utilities.getEndOfDay(h),u=d.day(),p=(l.allDay,new Array),m=new Array,f=l.resourceId,g=e._resources.indexOf(f);e.resources&&"none"==e.resources.orientation&&(g=-1);function w(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0}var v=d.toDate().valueOf(),y=h.toDate().valueOf();c.toDate().valueOf();if(!l.allDay&&l.duration().days()<1||!s){var x=h.toDate();0==x.getHours()&&x.getMinutes();for(var b=0;b<e.columnCells.length;b++)if(e.columnCells[b]){var A=e.columnCells[b];e.rtl&&(A=e.columnCells[e.columnCells.length-1-b]);for(var T,_=0;_<A.length;_++)A[_].getAttribute("data-end-date")||(q=A[_].getAttribute("data-date"),k=e._getDateByString(q),(T=e._getDateByString(q)).setMinutes(T.getMinutes()+r-1),j=k.valueOf(),T=T.valueOf(),h<j||(v<=j&&j<y||v<=T&&T<y||j<=v&&y<=T)&&(-1!=g&&1+g!=A[_].getAttribute("data-view")||(u!=k.getDate()&&(p.sort(w),m.push(p),p=new Array,u=d.addDays(1).day()),p.push({cell:A[_],date:k}))))}p.sort(w),m.push(p);for(var S,D=new Array,b=0;b<m.length;b++)0!=(A=m[b]).length&&(R=e.cellWidth,z=A[A.length-1].cell.offsetTop+e.cellHeight,H=A[0].cell.offsetLeft,P=A[0].cell.offsetTop,S=e.getMinutesPerScale(),x=new Be.jqx.date(A[A.length-1].date,e.timeZone).addMinutes(S),M={cells:A,x:H,y:P,height:z-P,width:R,appointment:l,from:new Be.jqx.date(A[0].date,e.timeZone),to:x},D.push(M),i.push(M));l.elements=D,l.rootAppointment&&(l.rootAppointment.elements=l.rootAppointment.elements.concat(l.elements))}else{A=n[0].cells;1<this.tableRows&&(A=n[g*(n.length/e.tableRows)].cells);for(_=0;_<A.length;_++){var j,q=A[_].getAttribute("data-date"),C=e._getDateByString(q),k=new Be.jqx.date(C,e.timeZone);c<(j=(k=Be.jqx.scheduler.utilities.getEndOfDay(k)).toDate().valueOf())||d<=k&&k<=c&&(-1!=g&&1+g!=A[_].getAttribute("data-view")||(0==p.length&&(k=Be.jqx.scheduler.utilities.getStartOfDay(k)),p.push({cell:A[_],date:k})))}p.sort(w),m.push(p);for(D=new Array,b=0;b<m.length;b++){if(0==(A=m[b]).length)break;var B=Be(A[0].cell).position(),R=Be(A[A.length-1].cell).position().left+this.cellWidth-B.left,z=Be(A[A.length-1].cell).position().top,H=B.left,P=B.top;this.rtl&&(H=(B=Be(A[A.length-1].cell).position()).left,R=Be(A[0].cell).position().left+this.cellWidth-B.left);var B=A[A.length-1].date,B=new Be.jqx.date(Be.jqx.scheduler.utilities.getEndOfDay(B),e.timeZone),M={cells:A,x:H,y:P,height:z-P+this.cellHeight,width:R,appointment:l,from:Be.jqx.scheduler.utilities.getStartOfDay(new Be.jqx.date(A[0].date,e.timeZone)),to:B};D.push(M),o.push(M)}l.elements=D,l.rootAppointment&&(l.rootAppointment.elements=l.rootAppointment.elements.concat(l.elements))}}var V=this.getViewStart(),F=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var I=new Array,E=V,O=0;E<F;){I[O]=new Array;for(b=0;b<i.length;b++)(N=i[b]).from.day()==E.day()&&(N.column=-1,N.columnSpan=1,I[O].push(N));O++,E=E.addDays(1)}for(b=0;b<I.length;b++)this._renderAppointmentsInDay(I[b]);this._renderAllDayAppointments(o)}else for(_=0;_<this._resources.length;_++){for(var W=this._resources[_],I=new Array,E=V,O=0;E<F;){I[O]=new Array;for(var N,b=0;b<i.length;b++)(N=i[b]).from.day()==E.day()&&(N.column=-1,N.columnSpan=1,N.appointment.resourceId==W&&I[O].push(N));O++,E=E.addDays(1)}for(b=0;b<I.length;b++)this._renderAppointmentsInDay(I[b]);for(var L=new Array,b=0;b<o.length;b++)o[b].appointment.resourceId==W&&L.push(o[b]);this._renderAllDayAppointments(L)}},_renderAllDayAppointments:function(e){var t=this,i=this.showAllDayRow,o=this._views[this._view];if(o.timeRuler&&null!=o.timeRuler.showAllDayRow&&(i=o.timeRuler.showAllDayRow),i&&0!=e.length){var n=e,s=this.getMaxAllDayAppointments(e);1==this.tableRows?this.table[0].rows[0].clientHeight:this.table[0].rows[1].clientHeight;for(var r=0;r<e.length;r++){(m=e[r]).row=-1,(p=this.getCollisionAppointments(m,e)).sort(this._sortAppointmentsByFrom);var a=p.indexOf(m);if(0<=a)for(var l=a;l<p.length;l++)p[l].row=-1;for(var d=0;d<s;d++){var h,c,u=d;for(x in p){if("indexOf"==x)break;-1!=(w=p[x]).row||this.isBusyRow(u,p)||(w.row=u,h=s,(c=this.getMaxAllDayAppointments(p))<h&&(h=c),w.rowsCount=h)}}}for(d=0;d<n.length;d++){var p,m=n[d];(p=this.getCollisionAppointments(m,n)).sort(this._sortAppointmentsByFrom);var f=1;for(x in p){if("indexOf"==x)break;var g=p[x],f=Math.max(f,g.rowsCount)}for(x in p){if("indexOf"==x)break;(g=p[x]).rowsCount=f}if(1==p.length)m.rowSpan=f;else{for(var w,v=0,y=!0,l=m.row;l<f;l++){for(var x in p){if("indexOf"==x)break;(w=p[x])!=m&&w.row==l&&(y=!1)}if(!y)break;v++}m.rowSpan=v}}var b=t.appointmentsMinHeight+2;t.isTouchDevice()&&(b=t.touchAppointmentsMinHeight+2);for(var A=0;A<n.length;A++){var T=b;(m=n[A]).height=b;var _,S,D=T*m.row;m.y=18+m.y+D+4*m.row,m.x+=3,m.width-=8,0==m.appointment.from.hour()&&23==m.appointment.to.hour()||(T=this.getViewStart(),D=this.getViewEnd(),t.rtl?(_=parseFloat(t.cellWidth/24)*m.appointment.to.hour()+parseFloat(t.cellWidth/48)*(m.appointment.to.minute()/30),S=parseFloat(t.cellWidth/24)*m.appointment.from.hour()+parseFloat(t.cellWidth/48)*(m.appointment.from.minute()/30),0<_&&(_=t.cellWidth-_),m.appointment.from<T&&(S=0),m.appointment.to>D&&(_=0),"exactTime"==o.appointmentsRenderMode&&(m.x+=_,m.width-=_,m.width-=S),m.appointment.duration().days()<1&&m.width<15&&(m.width=15),m.timewidth=m.width,"exactTimeStatus"==o.appointmentsRenderMode&&(m.timewidth-=_,m.timewidth-=S),m.timex=_):(_=parseFloat(t.cellWidth/24)*m.appointment.from.hour()+parseFloat(t.cellWidth/48)*(m.appointment.from.minute()/30),m.appointment.from<T&&(_=0),m.timewidth=m.width,m.timex=_,S=parseFloat(t.cellWidth/24)*m.appointment.to.hour()+parseFloat(t.cellWidth/48)*(m.appointment.to.minute()/30),m.appointment.to>D&&(S=0),m.timewidth-=_,0<S&&(m.timewidth-=t.cellWidth,m.timewidth+=S),"exactTime"==o.appointmentsRenderMode&&(m.width=m.timewidth,m.x+=_)))}for(A=0;A<n.length;A++){var j=n[A],q="",C="auto",o=this._views[this._view],k=j.appointment.from,B=j.appointment.to;o.timeRuler&&o.timeRuler.formatString&&(C=o.timeRuler.formatString);var R,z=C;"auto"===C&&(z=0==k.hour()&&0==k.minute()||12==k.hour()&&0==k.minute()?"hh tt":"hh:mm",R=0==B.hour()&&0==B.minute()||12==B.hour()&&0==B.minute()?"hh tt":"hh:mm");var H=k.toString(z),P=B.toString(R),M=j.appointment.duration(),V=j.appointment.allDay||23===M.hours&&59===M.minutes&&59===M.seconds,F=j.appointment.background,I=j.appointment.subject||"(No Title)",E=j.appointment.color,O=j.appointment.resourceId,W=t.getColors(t._resources.indexOf(O)),N=" data-resourceId='"+O+"' ",L=j.appointment.borderColor,Z=j.appointment.location;0<Z.length&&(Z=", "+Z),F=F||W.background,L=L||W.border,E=E||W.color;var U=j.appointment.isRecurrentAppointment(),X=j.appointment.isException();V&&(P=H="");var G="",C=t.toTP("jqx-scheduler-appointment-status"),k="",z=t.statuses[j.appointment.status],B=!1;z&&(B="transparent"!=z&&(k="<div style='background: "+z+"; border-right-color: "+L+"' class='"+C+"'></div>","tentative"==z&&(k="<div style='background-color: "+L+"; border-right-color: "+L+"' class='"+(C=t.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),!0));M=t.toTP("jqx-scheduler-appointment-duration-status"),O="<div style='width: "+j.timewidth+"px; left: "+j.timex+"px;' class='"+M+"'></div>";V&&(O="");M="";"exactTimeStatus"!=o.appointmentsRenderMode&&(O=""),t.rtl&&(k="<div style='background: "+z+"; border-left-color: "+L+"' class='"+(C=t.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==z&&(k="<div style='background-color: "+L+"; border-left-color: "+L+"' class='"+(C=t.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),M=k,k="");C="",I=V?I+Z:I+Z+O;!t.renderAppointment||(O=t.renderAppointment({appointment:j.appointment.boundAppointment,textColor:E,background:F,borderColor:L,html:I,cssClass:"",style:"",width:j.width,height:j.height,view:t._views[t._view].type}))&&((q=O.html)!=I&&(I=q),E=O.textColor,F=O.background,L=O.borderColor,O.cssClass&&(C=O.cssClass+" "),""!=O.style&&(F=(W=t.getAppointmentColors(O.style)).background,L=W.border,E=W.color)),""===G&&(G=B?"<div style='white-space:nowrap;' class='"+t.toTP("jqx-scheduler-appointment-content")+"'>"+k+"<div class='"+t.toTP("jqx-scheduler-appointment-inner-content")+"'>"+I+"</div>"+M+"</div>":"<div style='white-space:nowrap;' class='"+t.toTP("jqx-scheduler-appointment-content")+"'><div class='"+t.toTP("jqx-scheduler-appointment-inner-content")+"'>"+I+"</div></div>");I="";t.rtl&&(I=t.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),q=X?(X="white"==E.toLowerCase()?t.toTP("jqx-icon-recurrence-exception-white"):t.toTP("jqx-icon-recurrence-exception"),"<div data-key='"+j.appointment.id+"'"+N+"class='"+I+C+t.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+j.x+"px; top: "+j.y+"px; width: "+j.width+"px; line-height: "+j.height+"px; height: "+j.height+"px; border-color:"+L+"; color:"+E+"; background:"+F+";'><div class='"+X+"'></div>"+G+"<div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):U?(U="white"==E.toLowerCase()?t.toTP("jqx-icon-recurrence-white"):t.toTP("jqx-icon-recurrence"),"<div data-key='"+j.appointment.id+"'"+N+"class='"+I+C+t.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+j.x+"px; top: "+j.y+"px; width: "+j.width+"px; line-height: "+j.height+"px; height: "+j.height+"px; border-color:"+L+"; color:"+E+"; background:"+F+";'><div class='"+U+"'></div>"+G+"<div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):"<div data-key='"+j.appointment.id+"'"+N+"class='"+I+C+t.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+j.x+"px; top: "+j.y+"px; width: "+j.width+"px; line-height: "+j.height+"px; height: "+j.height+"px; border-color:"+L+"; color:"+E+"; background:"+F+";'>"+G+"<div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+t.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";G=Be(q);1==this.tableRows?G.appendTo(this.pinnedtable):G.appendTo(this.table),j.element=G,this.appointmentTooltips&&(j.appointment.tooltip?G[0].setAttribute("title",j.appointment.tooltip):(q=j.appointment.subject,H&&(q=H+" - "+P+" "+q),q&&((Z=j.appointment.location)&&(q+="\n"+Z),G[0].setAttribute("title",q))))}}},_renderAppointmentsInDay:function(e,t){if(0!=e.length){var i,o=this,n=this._views[this._view],s=e,r=(this.getViewStart(),this.getViewEnd(),0);if(n.timeRuler?(r=this.columns.records[1].width,n.timeRuler.timeZones&&(r=this.columns.records[1+n.timeRuler.timeZones.length].width)):r=this.columns.records[1].width,!(r/(i=this.getMaxColumnsInADay(e))<0)){for(var a=0;a<e.length;a++){(f=e[a]).column=-1,(m=this.getCollisionAppointments(f,e)).sort(this._sortAppointmentsByFrom);var l=m.indexOf(f);if(0<=l)for(var d=l;d<m.length;d++)m[d].column=-1;for(var h=0;h<i;h++){var c,u,p=h;for(b in m){if("indexOf"==b)break;-1!=(v=m[b]).column||this.isBusyColumn(p,m)||(v.column=p,c=i,(u=this.getMaxColumnsInADay(m))<c&&(c=u),v.columnsCount=c)}}}for(h=0;h<s.length;h++){var m,f=s[h];(m=this.getCollisionAppointments(f,s)).sort(this._sortAppointmentsByFrom);var g,w=1;for(b in m){if("indexOf"==b)break;null!=(g=m[b]).columnsCount&&(w=Math.max(w,g.columnsCount))}for(b in m){if("indexOf"==b)break;(g=m[b]).columnsCount=w}if(1==m.length)f.columnSpan=w;else{for(var v,y=0,x=!0,d=f.column;d<w;d++){for(var b in m){if("indexOf"==b)break;null!=(v=m[b]).column&&v!=f&&v.column==d&&(x=!1)}if(!x)break;y++}f.columnSpan=y}}for(var A=0;A<s.length;A++){var T=r/s[A].columnsCount;(f=s[A]).width=T*f.columnSpan-5;var _,S,D=T*f.column;f.x=2+f.x+D,f.height-=5,f.y+=1,"exactTime"==n.appointmentsRenderMode&&(T=o.getMinutesPerScale(),D=f.appointment.from.minute()%T!=0?(_=f.appointment.from.minute()%T,parseFloat(o.cellHeight/T)*_):0,f.appointment.to.minute()%T!=0?(_=f.appointment.to.minute()%T,S=o.cellHeight-parseFloat(o.cellHeight/T)*_,f.to.day()!==f.appointment.to.day()&&(S=0)):S=0,f.y+=D,f.height-=D,f.height-=S)}for(A=0;A<s.length;A++){var j=s[A],q="",C="auto",n=this._views[this._view],k=j.appointment.from,B=j.appointment.to;n.timeRuler&&n.timeRuler.formatString&&(C=n.timeRuler.formatString);var R,z=C;"auto"===C&&(z=0==k.hour()&&0==k.minute()||12==k.hour()&&0==k.minute()?"hh tt":"hh:mm",R=0==B.hour()&&0==B.minute()||12==B.hour()&&0==B.minute()?"hh tt":"hh:mm");k.toString(z),B.toString(R);var H=j.appointment.background,P=j.appointment.subject||"(No Title)",M=j.appointment.location||"",V=j.appointment.color,F=j.appointment.resourceId,I=o.getColors(o._resources.indexOf(F)),E=" data-resourceId='"+F+"' ",O=j.appointment.borderColor;H=H||I.background,O=O||I.border,V=V||I.color;var W=j.appointment.isRecurrentAppointment(),N=j.appointment.isException(),L="",C=o.toTP("jqx-scheduler-appointment-status"),k="",z=o.statuses[j.appointment.status],B=!1;z&&(B="transparent"!=z&&(k="<div style='background: "+z+"; border-right-color: "+O+"' class='"+C+"'></div>","tentative"==z&&(k="<div style='background-color: "+O+"; border-right-color: "+O+"' class='"+(C=o.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),!0));F="";o.rtl&&(k="<div style='background: "+z+"; border-left-color: "+O+"' class='"+(C=o.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==z&&(k="<div style='background-color: "+O+"; border-left-color: "+O+"' class='"+(C=o.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),F=k,k="");z="",C=M?P+"<br/>"+M:P;!o.renderAppointment||(P=o.renderAppointment({appointment:j.appointment.boundAppointment,textColor:V,background:H,borderColor:O,html:C,cssClass:"",style:"",width:j.width,height:j.height,view:o._views[o._view].type}))&&((q=P.html)!=C&&(C=q),V=P.textColor,H=P.background,O=P.borderColor,P.cssClass&&(z=P.cssClass+" "),""!=P.style&&(H=(I=o.getAppointmentColors(P.style)).background,O=I.border,V=I.color)),""===L&&(L=B?"<div class='"+o.toTP("jqx-scheduler-appointment-content")+"'>"+k+"<div class='"+o.toTP("jqx-scheduler-appointment-inner-content")+"'>"+C+"</div>"+F+"</div>":"<div class='"+o.toTP("jqx-scheduler-appointment-content")+"'><div class='"+o.toTP("jqx-scheduler-appointment-inner-content")+"'>"+C+"</div></div>");C="";o.rtl&&(C=o.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),q=N?(N="white"==V.toLowerCase()?o.toTP("jqx-icon-recurrence-exception-white"):o.toTP("jqx-icon-recurrence-exception"),"<div data-key='"+j.appointment.id+"'"+E+"class='"+C+z+o.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+j.x+"px; top: "+j.y+"px; width: "+j.width+"px; height: "+j.height+"px; border-color:"+O+"; color:"+V+"; background:"+H+";'><div class='"+N+"'></div>"+L+"<div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"):W?(W="white"==V.toLowerCase()?o.toTP("jqx-icon-recurrence-white"):o.toTP("jqx-icon-recurrence"),"<div data-key='"+j.appointment.id+"'"+E+"class='"+C+z+o.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+j.x+"px; top: "+j.y+"px; width: "+j.width+"px; height: "+j.height+"px; border-color:"+O+"; color:"+V+"; background:"+H+";'><div class='"+W+"'></div>"+L+"<div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"):"<div data-key='"+j.appointment.id+"'"+E+"class='"+C+z+o.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+j.x+"px; top: "+j.y+"px; width: "+j.width+"px; height: "+j.height+"px; border-color:"+O+"; color:"+V+"; background:"+H+";'>"+L+"<div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+o.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>";L=Be(q);L.appendTo(this.table),j.element=L,this.appointmentTooltips&&(j.appointment.tooltip?L[0].setAttribute("title",j.appointment.tooltip):(q=j.appointment.subject)&&((M=j.appointment.location)&&(q+="\n"+M),L[0].setAttribute("title",q)))}}}},getCollisionAppointments:function(e,t){for(var i=new Array,o=e.from,n=e.to,s=0;s<t.length;s++){var r=t[s],a=r.from,l=r.to;if(Be.jqx.scheduler.utilities.rangeIntersection(o,n,a,l)&&(i.push(r),30<i.length))break}return i},getAllDayCollisionAppointments:function(e,t){for(var i=new Array,o=Be.jqx.scheduler.utilities.getStartOfDay(e.from),n=Be.jqx.scheduler.utilities.getEndOfDay(e.to),s=0;s<t.length;s++){var r=t[s],a=Be.jqx.scheduler.utilities.getStartOfDay(r.from),l=Be.jqx.scheduler.utilities.getEndOfDay(r.to);Be.jqx.scheduler.utilities.rangeIntersection(o,n,a,l)&&i.push(r)}return i},_renderAppointments:function(e,t){var i,o=this;o._appupdating||(o.table.find(".jqx-scheduler-appointment").remove(),o.pinnedtable.find(".jqx-scheduler-appointment").remove(),"dayView"===(i=o._views[o._view].type)||"weekView"===i?o._renderDayWeekAppointments(e,t):"monthView"===i?o._renderMonthAppointments(e,t):"timelineWeekView"!==i&&"timelineDayView"!==i&&"timelineMonthView"!==i||o._renderTimelineAppointments(e,t),o.selectedJQXAppointment&&o._selectAppointment(o.selectedJQXAppointment))},_renderTimelineAppointments:function(e,t){for(var i=this,o=i._views[i._view].type,n=i._views[i._view],s=new Array,r=(this.rows,this.cellHeight),a=this.cellWidth,l=i.getMinutesPerScale(),d=0;d<this.appointmentsToRender.length;d++){var h=this.appointmentsToRender[d],c=h.from,u=h.to,p=(i._getDateByString,new Array),m=c.toDate().valueOf(),f=u.toDate().valueOf();"timelineMonthView"===o&&(m=c.clearTime().toDate().valueOf());var g=i.rows[0],w=h.resourceId,v=i._resources.indexOf(w);0<i._resources.length&&"horizontal"!==i.resources.orientation&&1<=v&&(g=i.rows[v]),i.resources&&"none"==i.resources.orientation&&(v=-1,g=i.rows[0]);for(var y=g.cells,x=0;x<y.length;x++){var b=y[x].getAttribute("data-date");y[x].appointments=new Array;var A=i._getDateByString(b),T=A.valueOf(),b=i._getDateByString(b);b.setMinutes(b.getMinutes()+l-1);b=b.valueOf();u<T||(m<=T&&T<f||m<=b&&b<f||T<=m&&m<=b&&f<=b)&&(-1!=v&&1+v!=y[x].getAttribute("data-view")||(p.push({cell:y[x],date:A}),g=k))}p.sort(function(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0});var _,S,D,j=new Array;0!=(y=p).length&&(S=i.appointmentsMinHeight,i.isTouchDevice()&&(S=i.touchAppointmentsMinHeight),n.appointmentHeight&&(S=n.appointmentHeight),D=Be(y[0].cell).position(),_=S,c=Be(y[y.length-1].cell).position().left-D.left+a,w=D.left,S=D.top,i.rtl&&(D=Be(y[y.length-1].cell).position(),c=Be(y[0].cell).position().left-D.left+a,w=D.left,S=D.top),D=new Be.jqx.date(y[y.length-1].date,i.timeZone).addMinutes(l),"timelineMonthView"===o&&(D=Be.jqx.scheduler.utilities.getEndOfDay(new Be.jqx.date(y[y.length-1].date,i.timeZone))),D={cellX:w,cellY:S,cellHeight:r,cells:y,x:w,y:S,height:_,width:c,appointment:h,from:new Be.jqx.date(y[0].date,i.timeZone),to:D},"exactTime"===n.appointmentsRenderMode&&(D.from=h.from,D.to=h.to),j.push(D),s.push(D),h.elements=j,h.rootAppointment&&(h.rootAppointment.elements=h.rootAppointment.elements.concat(h.elements)))}if(this._resources.length<2||"none"==this.resources.orientation)this._renderUITimelineAppointments(s,e,t);else for(x=0;x<this._resources.length;x++){for(var q=this._resources[x],C=new Array,k=0;k<s.length;k++)s[k].appointment.resourceId==q&&C.push(s[k]);this._renderUITimelineAppointments(C,e,t)}},_renderUITimelineAppointments:function(e,t,i){(h=this)._views[h._view].type;var o=h._views[h._view],n=e,h=this,s=new Array,r=h.getMaxTimelineAppointments(e,s,t,i),a=h.appointmentsMinHeight;h.isTouchDevice()&&(a=h.touchAppointmentsMinHeight),o.appointmentHeight&&(a=o.appointmentHeight);for(var l=0;l<e.length;l++){(w=e[l]).row=-1,(g=h.getCollisionAppointments(w,e)).sort(h._sortAppointmentsByFrom);var d=g.indexOf(w);if(0<=d)for(var c=d;c<g.length;c++)g[c].row=-1;for(var u=0;u<r;u++){var p,m,f=u;if(30<u)break;for(T in g){if("indexOf"==T)break;if(30<T)break;-1!=(x=g[T]).row||h.isBusyRow(f,g)||(x.row=f,p=r,(m=h.getMaxTimelineAppointments(g,s,t,i))<p&&(p=m),x.rowsCount=p)}}}for(u=0;u<n.length;u++){var g,w=n[u];(g=h.getCollisionAppointments(w,n)).sort(h._sortAppointmentsByFrom);var v=1;for(T in g){if("indexOf"==T)break;var y=g[T],v=Math.max(v,y.rowsCount)}for(T in g){if("indexOf"==T)break;(y=g[T]).rowsCount=v}if(1==g.length)w.rowSpan=v;else{for(var x,b=0,A=!0,c=w.row;c<v;c++){for(var T in g){if("indexOf"==T)break;(x=g[T])!=w&&x.row==c&&(A=!1)}if(!A)break;b++}w.rowSpan=b}}for(var _=0;_<n.length;_++){var S=a,S=2+(3+((w=n[_]).height=S))*w.row;w.y=w.y+S,w.x+=1,w.width-=5;var D,j,q,C,S=h._views[h._view].type,o=h._views[h._view];"timelineMonthView"==S&&o.appointmentsRenderMode?0==w.appointment.from.hour()&&23==w.appointment.to.hour()||(h.rtl?(j=parseFloat(h.cellWidth/24)*w.appointment.to.hour()+parseFloat(h.cellWidth/48)*(w.appointment.to.minute()/30),C=parseFloat(h.cellWidth/24)*w.appointment.from.hour()+parseFloat(h.cellWidth/48)*(w.appointment.from.minute()/30),0<j&&(j=h.cellWidth-j),"exactTime"==o.appointmentsRenderMode&&(w.x+=j,w.width-=j,w.width-=C),w.appointment.duration().days()<1&&w.width<15&&(w.width=15),w.timewidth=w.width,w.timex=j):(j=parseFloat(h.cellWidth/24)*w.appointment.from.hour()+parseFloat(h.cellWidth/48)*(w.appointment.from.minute()/30),C=parseFloat(h.cellWidth/24)*w.appointment.to.hour()+parseFloat(h.cellWidth/48)*(w.appointment.to.minute()/30),w.timewidth=w.width,w.timex=j,w.timewidth-=j,w.timewidth-=h.cellWidth,w.timewidth+=C,"exactTime"==o.appointmentsRenderMode&&(w.width=w.timewidth,h.date.month()===w.appointment.from.month()?w.x+=j:w.width=j+w.timewidth,w.appointment.duration().days()<1&&w.width<15&&j+(w.width=15)>h.cellWidth&&(D=h.cellWidth-j-15,w.x+=D)))):o.appointmentsRenderMode&&"exactTime"==o.appointmentsRenderMode&&(D=h.getMinutesPerScale(),w.appointment.from.minute()%D!=0?(q=w.appointment.from.minute()%D,j=parseFloat(h.cellWidth/D)*q,h.rtl&&(j=parseFloat(h.cellWidth/D)*q)):j=0,w.appointment.to.minute()%D!=0?(q=w.appointment.to.minute()%D,C=h.cellWidth-parseFloat(h.cellWidth/D)*q,h.rtl&&(C=h.cellWidth-parseFloat(h.cellWidth/D)*q)):C=0,h.rtl?w.x+=C:w.x+=j,w.width-=j,w.width-=C)}for(var k=[],_=0;_<n.length;_++){var B,R,z,H,P,M,V,F,I,E,O,W,N,L,Z,U="";(G=n[_]).y<0||(k.push(G),o=h._views[h._view],G.appointment.from,G.appointment.to,o.timeRuler&&o.timeRuler.formatString&&o.timeRuler.formatString,F=G.appointment.background,M=G.appointment.subject||"(No Title)",(Z=G.appointment.location)&&1<Z.length&&(Z=", "+Z),E=G.appointment.color,z=G.appointment.resourceId,V=h.getColors(h._resources.indexOf(z)),B=" data-resourceId='"+z+"' ",I=G.appointment.borderColor,F=F||V.background,I=I||V.border,E=E||V.color,L=G.appointment.isRecurrentAppointment(),N=G.appointment.isException(),O="",W=h.toTP("jqx-scheduler-appointment-status"),H="",R=!1,(P=h.statuses[G.appointment.status])&&(R="transparent"!=P&&(H="<div style='background: "+P+"; border-right-color: "+I+"' class='"+W+"'></div>","tentative"==P&&(H="<div style='background-color: "+I+"; border-right-color: "+I+"' class='"+(W=h.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),!0)),z="",h.rtl&&(H="<div style='background: "+P+"; border-left-color: "+I+"' class='"+(W=h.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==P&&(H="<div style='background-color: "+I+"; border-left-color: "+I+"' class='"+(W=h.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),z=H,H=""),P="",W=M+"<br/>"+Z,!h.renderAppointment||(M=h.renderAppointment({appointment:G.appointment.boundAppointment,textColor:E,background:F,borderColor:I,html:W,cssClass:"",style:"",width:G.width,height:G.height,view:h._views[h._view].type}))&&((U=M.html)!=W&&(W=U),E=M.textColor,F=M.background,I=M.borderColor,M.cssClass&&(P=M.cssClass+" "),""!=M.style&&(F=(V=h.getAppointmentColors(M.style)).background,I=V.border,E=V.color)),""===O&&(O=R?"<div style='white-space:nowrap;' class='"+h.toTP("jqx-scheduler-appointment-content")+"'>"+H+"<div class='"+h.toTP("jqx-scheduler-appointment-inner-content")+"'>"+W+"</div>"+z+"</div>":"<div style='white-space:nowrap;' class='"+h.toTP("jqx-scheduler-appointment-content")+"'><div class='"+h.toTP("jqx-scheduler-appointment-inner-content")+"'>"+W+"</div></div>"),W="",h.rtl&&(W=h.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),U=N?(N="white"==E.toLowerCase()?h.toTP("jqx-icon-recurrence-exception-white"):h.toTP("jqx-icon-recurrence-exception"),"<div data-key='"+G.appointment.id+"'"+B+"class='"+W+P+h.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+G.x+"px; top: "+G.y+"px; width: "+G.width+"px; height: "+G.height+"px; line-height: "+G.height+"px; border-color:"+I+"; color:"+E+"; background:"+F+";'><div class='"+N+"'></div>"+O+"<div class='"+h.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+h.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):L?(L="white"==E.toLowerCase()?h.toTP("jqx-icon-recurrence-white"):h.toTP("jqx-icon-recurrence"),"<div data-key='"+G.appointment.id+"'"+B+"class='"+W+P+h.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+G.x+"px; top: "+G.y+"px; width: "+G.width+"px; height: "+G.height+"px; line-height: "+G.height+"px; border-color:"+I+"; color:"+E+"; background:"+F+";'><div class='"+L+"'></div>"+O+"<div class='"+h.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+h.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):"<div data-key='"+G.appointment.id+"'"+B+"class='"+W+P+h.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+G.x+"px; top: "+G.y+"px; width: "+G.width+"px; height: "+G.height+"px; line-height: "+G.height+"px; border-color:"+I+"; color:"+E+"; background:"+F+";'>"+O+"<div class='"+h.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+h.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>",(J=Be(U)).appendTo(this.table),G.element=J,this.appointmentTooltips&&(G.appointment.tooltip?J[0].setAttribute("title",G.appointment.tooltip):(U=G.appointment.subject)&&((Z=G.appointment.location)&&(U+="\n"+Z),J[0].setAttribute("title",U))))}for(var X=h.table.find(".jqx-scheduler-appointment"),_=0;_<k.length;_++){var G=k[_],J=Be(function(e){for(var t=0;t<X.length;t++)if(X[t].getAttribute("data-key")==e)return X[t]}(G.appointment.id));Be.each(G.cells,function(e){var t,a=Be(this.cell),l=G.cellY,d=(G.cellX,G.cellHeight);a[0].appointments||(a[0].appointments=new Array),a[0].appointments.push({ui:J,appointment:G}),G.y+G.height>=l+d-12&&(J[0].style.visibility="hidden",0<(t=a.find(".jqx-icon-arrow-down")).length&&(t[0].style.display="block",t[0].mousedown=function(){h.openedMonthCellPopup&&h.openedMonthCellPopup.remove();var e=Be("<div></div>"),t=(new Be.jqx.date(a.attr("data-date"),h.timeZone),Be("<div class='"+h.toTP("jqx-scheduler-month-cell")+"'><span style='float: right; cursor: pointer; width:16px; height: 16px;' class='"+h.toTP("jqx-icon-close")+"'></span></div>"));t.height(16),t.find("span")[0].mousedown=function(){e.remove()},t.addClass(h.toTP("jqx-widget-header")),e.addClass(h.toTP("jqx-widget")),e.addClass(h.toTP("jqx-window")),e.addClass(h.toTP("jqx-scheduler-month-cell-popup")),e.addClass(h.toTP("jqx-popup"));var i=Be("<div></div>");e.append(t),e.append(i),i.addClass(h.toTP("jqx-widget-content"));for(var o=a.width(),n=21,s=0;s<a[0].appointments.length;s++){var r=a[0].appointments[s].ui.clone(!0);r.css("left","3px"),r.css("top","0px"),r.css("margin-top","2px"),r.css("position","relative"),r.css("visibility","visible"),r.width(o-6),r.click(function(e){e=h.getJQXAppointmentByElement(h.getAppointmentElement(e.target));h._raiseEvent("appointmentClick",{appointment:e.boundAppointment})}),r.dblclick(function(e){e=h.getJQXAppointmentByElement(h.getAppointmentElement(e.target));e.readOnly||h.editRecurrenceDialog.jqxWindow("isOpen")||h._editDialog&&(!h._editDialog||h._editDialog.jqxWindow("isOpen"))||!1!==h._initDialog(e)&&h._openDialog(),h._raiseEvent("appointmentDoubleClick",{appointment:e.boundAppointment})}),n+=r.outerHeight()+4,i.append(r)}e.css("overflow","hidden"),e.css("position","absolute");t=h.table.height()-l-25;t<d&&(t=d),e.css("max-height",t),e.height(n),e.width(o),e.css("z-index","9999");t=a.position();e.css("top",t.top),e.css("left",t.left),h.table.append(e),h.openedMonthCellPopup=e}))})}},_renderMonthAppointments:function(){var e=this,t=(e._views[e._view].type,e._views[e._view]),i=new Array,o=(this.rows,0);0<this.host.find(".jqx-scheduler-month-cell").length&&(o=Be(this.host.find(".jqx-scheduler-month-cell")[0]).height());for(var n=0;n<this.appointmentsToRender.length;n++){function s(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0}var r=this.appointmentsToRender[n],a=Be.jqx.scheduler.utilities.getStartOfDay(r.from),l=Be.jqx.scheduler.utilities.getEndOfDay(r.to),d=(r.allDay,new Array),h=new Array,c=a.toDate().valueOf(),u=l.toDate().valueOf(),p=-1,a=r.resourceId,m=e._resources.indexOf(a);e.resources&&"none"==e.resources.orientation&&(m=-1);for(var f=0;f<e.rows.length;f++)for(var g=e.rows[f].cells,w=0;w<g.length;w++){var v=g[w].getAttribute("data-date"),y=this._getDateByString(v),v=y.valueOf();l<v||(g[w].appointments=new Array,-1!=m&&1+m!=g[w].getAttribute("data-view")||c<=v&&v<u&&(p!=f&&-1!=p&&(d.sort(s),h.push(d),d=new Array),d.push({cell:g[w],date:y}),p=f))}d.sort(s),h.push(d);for(var x=new Array,f=0;f<h.length;f++){if(0==(g=h[f]).length)break;var b=e.appointmentsMinHeight;e.isTouchDevice()&&(b=e.touchAppointmentsMinHeight),t.appointmentHeight&&(b=t.appointmentHeight);var A=b,T=Be(g[g.length-1].cell).position().left,_=T-Be(g[0].cell).position().left+e.columns.records[0].width;t.showWeekNumbers&&(_=T-Be(g[0].cell).position().left+e.columns.records[1].width);var S=Be(g[0].cell).position(),D=S.left,j=S.top+o,q=Be.jqx.scheduler.utilities.getEndOfDay(new Be.jqx.date(g[g.length-1].date,e.timeZone)),b=new Be.jqx.date(g[0].date,e.timeZone);e.rtl&&(q=Be.jqx.scheduler.utilities.getEndOfDay(new Be.jqx.date(g[0].date,e.timeZone)),b=new Be.jqx.date(g[g.length-1].date,e.timeZone),D=(S=Be(g[g.length-1].cell).position()).left,j=S.top+o,_=(T=Be(g[0].cell).position().left)-Be(g[g.length-1].cell).position().left+e.columns.records[0].width,t.showWeekNumbers&&(_=T-Be(g[g.length-1].cell).position().left+e.columns.records[1].width));q={cells:g,cellY:parseInt(S.top),cellX:parseInt(S.left),lastCellY:parseInt(S.top),lastCellX:T,x:D,y:j,height:A,width:_,appointment:r,from:b,to:q};x.push(q),i.push(q)}r.elements=x,r.rootAppointment&&(r.rootAppointment.elements=r.rootAppointment.elements.concat(r.elements))}var C=this.getViewStart(),k=this.getViewEnd();if(this._resources.length<2||"none"==this.resources.orientation){for(var B=new Array,R=C,z=0;R<k;){B[z]=new Array;for(f=0;f<i.length;f++){var H=i[f];R<=H.from&&H.to<R.addDays(7)&&(H.row=-1,H.rowSpan=1,B[z].push(H))}z++,R=R.addDays(7)}for(var P=R=C,f=0;f<B.length;f++){if(0<B[f].length){for(var M=B[f],V=[],w=0;w<7;w++){var F=M.filter(function(e){return Be.jqx.scheduler.utilities.rangeIntersection(e.from,e.to,R,Be.jqx.scheduler.utilities.getEndOfDay(R))});R=R.addDays(1);for(var I=0;I<F.length&&!(20<=I);I++){r=F[I];-1===V.indexOf(r)&&V.push(r)}}this._renderUIMonthAppointments(V)}P=P.addDays(7),R=P}}else for(w=0;w<this._resources.length;w++){for(var E=this._resources[w],B=(new Array,new Array),R=C,z=0;R<k;){B[z]=new Array;for(f=0;f<i.length;f++){H=i[f];R<=H.from&&H.to<R.addDays(7)&&(H.row=-1,H.rowSpan=1,H.appointment.resourceId==E&&B[z].push(H))}z++,R=R.addDays(7)}for(f=0;f<B.length;f++)0<B[f].length&&this._renderUIMonthAppointments(B[f])}},_getMonthAppointmentsPerWeek:function(){var e=this,t=(e._views[e._view].type,e._views[e._view]),i=new Array,o=(this.rows,0);if(0<this.host.find(".jqx-scheduler-month-cell").length&&(o=Be(this.host.find(".jqx-scheduler-month-cell")[0]).height()),!e.rows)return new Array;for(var n=this.getViewStart(),s=this.getViewEnd(),r=0;r<this.appointmentsToRender.length;r++){function a(e,t){return e.date<t.date?-1:e.date==t.date?0:e.date>t.date?1:void 0}var l=this.appointmentsToRender[r],d=Be.jqx.scheduler.utilities.getStartOfDay(l.from),h=Be.jqx.scheduler.utilities.getEndOfDay(l.to),c=(l.allDay,e._getDateByString,new Array),u=new Array,p=d.toDate().valueOf(),m=h.toDate().valueOf(),f=-1,d=l.resourceId,g=e._resources.indexOf(d);e.resources&&"none"==e.resources.orientation&&(g=-1);for(var w=0;w<e.rows.length;w++)for(var v=e.rows[w].cells,y=0;y<v.length;y++){v[y].getAttribute("data-date");var x=n.addDays(7*w+y).toDate(),b=x.valueOf();h<b||-1!=g&&1+g!=v[y].getAttribute("data-view")||p<=b&&b<m&&(f!=w&&-1!=f&&(c.sort(a),u.push(c),c=new Array),c.push({cell:v[y],date:x}),f=w)}c.sort(a),u.push(c);for(var A=new Array,w=0;w<u.length;w++){if(0==(v=u[w]).length)break;var T=e.appointmentsMinHeight;e.isTouchDevice()&&(T=e.touchAppointmentsMinHeight),t.appointmentHeight&&(T=t.appointmentHeight);var _=T,S=Be(v[v.length-1].cell).position().left,D=S-Be(v[0].cell).position().left+e.columns.records[0].width;t.showWeekNumbers&&(D=S-Be(v[0].cell).position().left+e.columns.records[1].width);var j=Be(v[0].cell).position(),q=j.left,C=j.top+o,k=Be.jqx.scheduler.utilities.getEndOfDay(new Be.jqx.date(v[v.length-1].date,e.timeZone)),B=new Be.jqx.date(v[0].date,e.timeZone);e.rtl&&(k=Be.jqx.scheduler.utilities.getEndOfDay(new Be.jqx.date(v[0].date,e.timeZone)),B=new Be.jqx.date(v[v.length-1].date,e.timeZone),q=(j=Be(v[v.length-1].cell).position()).left,C=j.top+o,D=(S=Be(v[0].cell).position().left)-Be(v[v.length-1].cell).position().left+e.columns.records[0].width,t.showWeekNumbers&&(D=S-Be(v[v.length-1].cell).position().left+e.columns.records[1].width));k={cells:v,cellY:parseInt(j.top),cellX:parseInt(j.left),lastCellY:parseInt(j.top),lastCellX:S,x:q,y:C,height:_,width:D,appointment:l,from:B,to:k};A.push(k),i.push(k)}}if(this._resources.length<2||"none"==this.resources.orientation){for(var R=new Array,z=n,H=0;z<s;){R[H]=new Array;for(w=0;w<i.length;w++)z<=(V=i[w]).from&&V.to<z.addDays(7)&&(V.row=-1,V.rowSpan=1,R[H].push(V));H++,z=z.addDays(7)}for(var P=new Array,w=0;w<R.length;w++)0<R[w].length?(F=this.getMaxMonthAppointments(R[w]),T=e.appointmentsMinHeight,e.isTouchDevice()&&(T=e.touchAppointmentsMinHeight),t.appointmentHeight&&(T=t.appointmentHeight),P.push(F*(T+3)+22)):P.push("auto");return P}for(P=new Array,y=0;y<this._resources.length;y++){for(var M=this._resources[y],R=(new Array,new Array),z=n,H=0;z<s;){R[H]=new Array;for(var V,w=0;w<i.length;w++)z<=(V=i[w]).from&&V.to<z.addDays(7)&&(V.row=-1,V.rowSpan=1,V.appointment.resourceId==M&&R[H].push(V));H++,z=z.addDays(7)}for(var F,w=0;w<R.length;w++)0<R[w].length?(F=this.getMaxMonthAppointments(R[w]),P.push(F*(T+3)+22)):P.push("auto");return P}},_renderUIMonthAppointments:function(e){var t=this._views[this._view],i=e,d=(this.getViewStart(),this.getViewEnd(),this),o=this.getMaxMonthAppointments(e),n=d.appointmentsMinHeight;d.isTouchDevice()&&(n=d.touchAppointmentsMinHeight),t.appointmentHeight&&(n=t.appointmentHeight);var s=this._sortAppointmentsByFrom;this.rtl&&(s=this._sortAppointmentsByTo);for(var r=0;r<e.length;r++){(f=e[r]).row=-1,(m=this.getCollisionAppointments(f,e)).sort(s);var a=m.indexOf(f);if(0<=a)for(var l=a;l<m.length;l++)m[l].row=-1;for(var h=0;h<o;h++){var c,u,p=h;for(b in m){if("indexOf"==b)break;-1!=(v=m[b]).row||this.isBusyRow(p,m)||(v.row=p,c=o,(u=this.getMaxMonthAppointments(m))<c&&(c=u),v.rowsCount=c)}}}for(h=0;h<i.length;h++){var m,f=i[h];(m=this.getCollisionAppointments(f,i)).sort(s);var g=1;for(b in m){if("indexOf"==b)break;var w=m[b],g=Math.max(g,w.rowsCount)}for(b in m){if("indexOf"==b)break;(w=m[b]).rowsCount=g}if(1==m.length)f.rowSpan=g;else{for(var v,y=0,x=!0,l=f.row;l<g;l++){for(var b in m){if("indexOf"==b)break;(v=m[b])!=f&&v.row==l&&(x=!1)}if(!x)break;y++}f.rowSpan=y}}for(var A=0;A<i.length;A++){var T,_,S=n,S=2+(3+((f=i[A]).height=S))*f.row;f.y=f.y+S,f.x+=1,f.width-=5,0==f.appointment.from.hour()&&23==f.appointment.to.hour()||(d.rtl?(T=parseFloat(d.cellWidth/24)*f.appointment.to.hour()+parseFloat(d.cellWidth/48)*(f.appointment.to.minute()/30),_=parseFloat(d.cellWidth/24)*f.appointment.from.hour()+parseFloat(d.cellWidth/48)*(f.appointment.from.minute()/30),1<f.appointment.elements.length?f==f.appointment.elements[0]?0<_?"exactTime"==t.appointmentsRenderMode?(f.width-=d.cellWidth-T,f.width-=_):f.timewidth=f.width-d.cellWidth+T-_:(f.timewidth=f.width,f.timex=0):f==f.appointment.elements[f.appointment.elements.length-1]&&("exactTime"==t.appointmentsRenderMode&&(f.x+=d.cellWidth,f.x-=T,f.width+=T,f.width-=d.cellWidth),f.timewidth=f.width-d.cellWidth+T,f.timex=d.cellWidth-T):("exactTime"==t.appointmentsRenderMode&&(f.x+=d.cellWidth,f.x-=T,f.width-=d.cellWidth-T,f.width-=_),f.appointment.duration().days()<1&&f.width<15&&(f.width=15),f.timewidth=f.width-d.cellWidth+T-_,f.timex=d.cellWidth-T)):(T=parseFloat(d.cellWidth/24)*f.appointment.from.hour()+parseFloat(d.cellWidth/48)*(f.appointment.from.minute()/30),f.timewidth=f.width,f.from.clearTime().toString()==f.appointment.from.clearTime().toString()?f.timex=T:T=0,1<f.appointment.elements.length&&f.appointment.elements[0]!=f&&(T=0),_=parseFloat(d.cellWidth/24)*f.appointment.to.hour()+parseFloat(d.cellWidth/48)*(f.appointment.to.minute()/30),1<f.appointment.elements.length&&f.appointment.elements[f.appointment.elements.length-1]!=f&&(_=0),f.timewidth-=T,0<_&&(f.timewidth-=d.cellWidth,f.timewidth+=_),"exactTime"==t.appointmentsRenderMode&&(f.from.clearTime().toString()==f.appointment.from.clearTime().toString()&&(f.x+=T),f.width=f.timewidth,f.appointment.duration().days()<1&&f.width<15&&T+(f.width=15)>d.cellWidth&&(S=d.cellWidth-T-15,f.x+=S))))}for(A=0;A<i.length;A++){var D=i[A],j="",q="auto",t=this._views[this._view],C=D.appointment.from,k=D.appointment.to,q="auto",t=this._views[this._view],C=D.appointment.from,k=D.appointment.to;t.timeRuler&&t.timeRuler.formatString&&(q=t.timeRuler.formatString);var B=q,R=q;"auto"===q&&(B=0==C.hour()&&0==C.minute()||12==C.hour()&&0==C.minute()?"hh tt":"hh:mm",R=0==k.hour()&&0==k.minute()||12==k.hour()&&0==k.minute()?"hh tt":"hh:mm");var z=C.toString(B),H=k.toString(R),P=D.appointment.duration(),M=D.appointment.allDay||23===P.hours&&59===P.minutes&&59===P.seconds,V=D.appointment.background,F=D.appointment.subject||"(No Title)",I=D.appointment.color,E=D.appointment.resourceId,O=d.getColors(d._resources.indexOf(E)),W=" data-resourceId='"+E+"' ",N=D.appointment.borderColor,L=D.appointment.location;L&&1<L.length&&(L=", "+L),V=V||O.background,N=N||O.border,I=I||O.color;var Z=D.appointment.isRecurrentAppointment(),U=D.appointment.isException(),q="",C=d.toTP("jqx-scheduler-appointment-status"),B="",k=d.statuses[D.appointment.status],R=!1;k&&(R="transparent"!=k&&(B="<div style='background: "+k+"; border-right-color: "+N+"' class='"+C+"'></div>","tentative"==k&&(B="<div style='background-color: "+N+"; border-right-color: "+N+"' class='"+(C=d.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),!0));P=d.toTP("jqx-scheduler-appointment-duration-status"),E="<div style='width: "+D.timewidth+"px; left: "+D.timex+"px;' class='"+P+"'></div>";M&&(E=""),"exactTimeStatus"!=t.appointmentsRenderMode&&(E="");P="";d.rtl&&(B="<div style='background: "+k+"; border-left-color: "+N+"' class='"+(C=d.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status"))+"'></div>","tentative"==k&&(B="<div style='background-color: "+N+"; border-left-color: "+N+"' class='"+(C=d.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes"))+"'></div>"),P=B,B="");C="",F=M?F+L:F+L+E;!d.renderAppointment||(E=d.renderAppointment({appointment:D.appointment.boundAppointment,textColor:I,background:V,borderColor:N,html:F,cssClass:"",style:"",width:D.width,height:D.height,view:d._views[d._view].type}))&&((j=E.html)!=F&&(F=j),I=E.textColor,V=E.background,N=E.borderColor,E.cssClass&&(C=E.cssClass+" "),""!=E.style&&(V=(O=d.getAppointmentColors(E.style)).background,N=O.border,I=O.color)),""===q&&(q=R?"<div style='white-space:nowrap;' class='"+d.toTP("jqx-scheduler-appointment-content")+"'>"+B+"<div class='"+d.toTP("jqx-scheduler-appointment-inner-content")+"'>"+F+"</div>"+P+"</div>":"<div style='white-space:nowrap;' class='"+d.toTP("jqx-scheduler-appointment-content")+"'><div class='"+d.toTP("jqx-scheduler-appointment-inner-content")+"'>"+F+"</div></div>");F="";d.rtl&&(F=d.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "),j=U?(U="white"==I.toLowerCase()?d.toTP("jqx-icon-recurrence-exception-white"):d.toTP("jqx-icon-recurrence-exception"),"<div data-key='"+D.appointment.id+"'"+W+"class='"+F+C+d.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+D.x+"px; top: "+D.y+"px; width: "+D.width+"px; line-height: "+D.height+"px; height: "+D.height+"px; border-color:"+N+"; color:"+I+"; background:"+V+";'><div class='"+U+"'></div>"+q+"<div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):Z?(Z="white"==I.toLowerCase()?d.toTP("jqx-icon-recurrence-white"):d.toTP("jqx-icon-recurrence"),"<div data-key='"+D.appointment.id+"'"+W+"class='"+F+C+d.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+D.x+"px; top: "+D.y+"px; width: "+D.width+"px; line-height: "+D.height+"px; height: "+D.height+"px; border-color:"+N+"; color:"+I+"; background:"+V+";'><div class='"+Z+"'></div>"+q+"<div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"):"<div data-key='"+D.appointment.id+"'"+W+"class='"+F+C+d.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+D.x+"px; top: "+D.y+"px; width: "+D.width+"px; line-height: "+D.height+"px; height: "+D.height+"px; border-color:"+N+"; color:"+I+"; background:"+V+";'>"+q+"<div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+d.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>";var X=Be(j);X.appendTo(this.table),D.element=X,this.appointmentTooltips&&(D.appointment.tooltip?X[0].setAttribute("title",D.appointment.tooltip):(j=D.appointment.subject,z&&!M&&(j=z+" - "+H+" "+j),j&&((L=D.appointment.location)&&(j+="\n"+L),X[0].setAttribute("title",j))));Be.each(D.cells,function(){var e,a=Be(this.cell),l=a.position();a[0].appointments||(a[0].appointments=new Array),a[0].appointments.push({ui:X,appointment:D}),D.y+D.height+2>=l.top+a.height()&&(X.css("visibility","hidden"),(e=a.find(".jqx-icon-arrow-down")).show(),e[0]&&(e[0].mousedown=function(){d.openedMonthCellPopup&&d.openedMonthCellPopup.remove();var e=Be("<div></div>"),t=a.find("div").clone(!0);t.find("span").removeClass().addClass(d.toTP("jqx-icon-close")),t.find("span")[0].mousedown=function(){e.remove()},t.addClass(d.toTP("jqx-widget-header")),e.addClass(d.toTP("jqx-widget")),e.addClass(d.toTP("jqx-window")),e.addClass(d.toTP("jqx-scheduler-month-cell-popup")),e.addClass(d.toTP("jqx-popup"));var i=Be("<div></div>");e.append(t),e.append(i),i.addClass(d.toTP("jqx-widget-content jqx-disableselect"));for(var o=a.width(),n=5+a.find("div").outerHeight(),s=0;s<a[0].appointments.length;s++){var r=a[0].appointments[s].ui.clone(!0);r.css("left","3px"),r.css("top","0px"),r.css("margin-top","2px"),r.css("position","relative"),r.css("visibility","visible"),r.width(o-6),n+=r.outerHeight()+4,i.append(r),r.click(function(e){e=d.getJQXAppointmentByElement(d.getAppointmentElement(e.target));d._raiseEvent("appointmentClick",{appointment:e.boundAppointment})}),r.dblclick(function(e){e=d.getJQXAppointmentByElement(d.getAppointmentElement(e.target));e.readOnly||d.editRecurrenceDialog.jqxWindow("isOpen")||d._editDialog&&(!d._editDialog||d._editDialog.jqxWindow("isOpen"))||!1!==d._initDialog(e)&&d._openDialog(),d._raiseEvent("appointmentDoubleClick",{appointment:e.boundAppointment})})}e.css("overflow","hidden"),e.css("position","absolute"),e.height(n),e.width(o),e.css("z-index","9999"),e.css("top",l.top),e.css("left",l.left),d.table.append(e),d.openedMonthCellPopup=e}))})}},_sortByDate:function(e,t){e=e.getAttribute("data-date"),e=this._getDateByString(e),t=t.getAttribute("data-date");return e<(t=this._getDateByString(t))?-1:t<e?1:e==t?0:void 0},_sortAppointmentsByFrom:function(e,t){if(e.from.dateData===t.from.dateData){var i=1e4*(e.to.dateData-e.from.dateData);if(1e4*(t.to.dateData-t.from.dateData)<i)return-1}return e.from.dateData<t.from.dateData?-1:e.from.dateData>t.from.dateData?1:e.from.dateData==t.from.dateData?0:void 0},_sortAppointmentsByTo:function(e,t){if(e.to.equals(t.to)){var i=1e4*(e.to-e.from);if(1e4*(t.to-t.from)<i)return-1}return e.to<t.to?-1:e.to>t.to?1:e.to==t.to?0:void 0},_sortAppointmentsByResourceId:function(e,t,i){e=i._resources.indexOf(e.resourceId),t=i._resources.indexOf(t.resourceId);return e==t?0:e<t||t<e?-1:void 0},isBusyRow:function(e,t){for(var i=0;i<t.length;i++)if(t[i].row==e)return!0;return!1},isBusyColumn:function(e,t){for(var i=0;i<t.length;i++)if(t[i].column==e)return!0;return!1},getMaxTimelineAppointments:function(e,t,i,o){if(0==e.length)return 1;var n=this,s=n._views[n._view].type,r=(n._views[n._view],1),a=i,l=this.getMinutesPerScale(),d=null,h=null,c="";for(f in e){if("indexOf"==f)break;var u=e[f],d=d||u.from.dateData,h=h||u.to.dateData;u.from.dateData<d&&(d=u.from.dateData),u.to.dateData>h&&(h=u.to.dateData),c+=u.appointment.id}if(c+=d,t[c+=h])return t[c];d=new Be.jqx.date(d,n.timeZone),h=new Be.jqx.date(h,n.timeZone);for(a=d;d<h;){var p,m=a;p="timelineMonthView"===s?m.addDays(1):m.addMinutes(l);var f,g=0;for(f in e){if("indexOf"==f)break;var w=(u=e[f]).from,v=u.to;Be.jqx.scheduler.utilities.rangeIntersection(m,p,w,v)&&g++}r=Math.max(g,r),a="timelineMonthView"===s?a.addDays(1,!1):a.addMinutes(l,!1)}return t[c]=r},getMaxMonthAppointments:function(e){this._views[this._view].type,this._views[this._view];if(0==e.length)return 1;for(var t=1,i=this.getViewStart().clone(),o=this.getViewEnd();i<o;){var n,s=i,r=Be.jqx.scheduler.utilities.getEndOfDay(s),a=0;for(n in e){if("indexOf"==n)break;var l=e[n],d=l.from,l=l.to;Be.jqx.scheduler.utilities.rangeIntersection(s,r,d,l)&&a++}t=Math.max(a,t),i=i.addDays(1,!1)}return t},getMaxAllDayAppointments:function(e){this._views[this._view].type,this._views[this._view];var h=this;if(0==e.length)return 1;function t(e){for(var t=1,i=h.getViewStart(),o=h.getViewEnd();i<o;){var n,s=i,r=Be.jqx.scheduler.utilities.getEndOfDay(s),a=0;for(n in e){if("indexOf"==n)break;var l=e[n],d=l;l.appointment&&(d=l.appointment),1!=d.hidden&&d.duration&&(d.allDay||1<=d.duration().days())&&(d=l.from,l=l.to,Be.jqx.scheduler.utilities.rangeIntersection(s,r,d,l)&&a++)}t=Math.max(a,t),i=i.addDays(1,!1)}return t}if(this._resources.length<2||!this.resources.orientation||"none"==this.resources.orientation)var i=t(e);else{for(var o=1,n=0;n<this._resources.length;n++){for(var s=this._resources[n],r=new Array,a=0;a<e.length;a++)(e[a].appointment&&e[a].appointment.resourceId==s||null!=e[a].resourceId&&e[a].resourceId==s)&&r.push(e[a]);i=t(r),o=Math.max(o,i)}i=o}return i},getMinutesPerScale:function(){this._views[this._view].type;var e=this._views[this._view],t=30,i="halfHour";switch(e.timeRuler&&e.timeRuler.scale&&(i=e.timeRuler.scale),i){case"sixtyMinutes":case"hour":t=60;break;case"thirtyMinutes":case"halfHour":t=30;break;case"fifteenMinutes":case"quarterHour":t=15;break;case"tenMinutes":t=10;break;case"fiveMinutes":t=5}return t},getMaxColumnsInADay:function(e){this._views[this._view].type;var t=this._views[this._view],i=30,o="halfHour";switch(t.timeRuler&&t.timeRuler.scale&&(o=t.timeRuler.scale),o){case"sixtyMinutes":case"hour":i=60;break;case"thirtyMinutes":case"halfHour":i=30;break;case"fifteenMinutes":case"quarterHour":i=15;break;case"tenMinutes":i=10;break;case"fiveMinutes":i=5}if(0==e.length)return 1;for(var n=1,s=e[0].from.clone(),r=s.addMinutes(i),a=Be.jqx.scheduler.utilities.getEndOfDay(s);s<a;){var l,d=s,h=r,c=0;for(l in e){if("indexOf"==l)break;var u,p=e[l];(p.from||p.to)&&(u=p.from,p=p.to,Be.jqx.scheduler.utilities.rangeIntersection(d,h,u,p)&&c++)}n=Math.max(c,n),s=s.addMinutes(i,!1),r=r.addMinutes(i,!1)}return n},getTouches:function(e){return Be.jqx.mobile.getTouches(e)},_updatecolumnwidths:function(){var a=this,l=this._hostWidth,d=l;"hidden"!==this.vScrollBar.css("visibility")&&0<this.scrollBarSize&&(l-=parseInt(this.scrollBarSize)+6,this.rtl&&(l+=3),d=l);var h,c,e,u,p;null!=this.columns&&null!=this.columns.records&&(a=this,h=!1,c=new Array,Be.each(this.columns.records,function(e,t){this.hidden||(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth?(t=0,"hidden"==a.vScrollBar[0].style.visibility||a.scrollBarSize,a.scrollBarSize,t=parseFloat(this.width)*d/100,null!=this._percentagewidth&&(t=parseFloat(this._percentagewidth)*d/100),t<this.minwidth&&"auto"!=this.minwidth&&(t=this.minwidth),t>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),l-=Math.round(t)):"auto"==this.width||this._width?this.text:l-=this.width,"auto"==this._width&&(c[c.length]=this))}),0!=(e=this.columnsheader.find("#columntable"+this.element.id)).length&&(u=0,e.find(".jqx-grid-column-header"),p=0,Be.each(this.columns.records,function(e,t){var i,o=this.element,n=!1,s=this.width,r=this.width;-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(s=null!=this._percentagewidth?parseFloat(this._percentagewidth)*d/100:parseFloat(this.width)*d/100,s=Math.round(s),n=!0),"auto"==this.width||this._width||n?n?(s<this.minwidth&&"auto"!=this.minwidth&&(s=this.minwidth,this.width=s),s>this.maxwidth&&"auto"!=this.maxwidth&&(s=this.maxwidth,this.width=s),parseInt(o[0].style.width)!=s&&(o.width(s),this.width=s)):(n=a.columns.records.length,"dayView"===(s=a._views[a._view].type)||"weekView"===s?((i=a._views[a._view]).timeRuler&&i.timeRuler.timeZones&&(n-=i.timeRuler.timeZones.length),n--):"monthView"===s&&a._views[a._view].showWeekNumbers&&n--,i=Math.floor(l*(1/n)),a.resources&&a.resources.resourceColumnWidth&&"auto"!=a.resources.resourceColumnWidth?i=a.resources.resourceColumnWidth:a.resources&&a.resources.resourceColumnWidth&&"auto"==a.resources.resourceColumnWidth&&"horizontal"==a.resources.orientation&&(i=Math.round((2+l)*(1/a._getColumnsLengthPerView()))),1<=(u+=l*(1/n)-i)&&(--u,i++),.5<=u&&e==a.columns.records.length-1&&i++,"agendaView"==s&&(i=l/c.length,i++),i<0&&(s=Be("<span>"+this.text+"</span>"),Be(document.body).append(s),i=10+s.width(),s.remove()),i<this.minwidth&&(i=this.minwidth),i>this.maxwidth&&(i=this.maxwidth),this._width="auto",this.width=parseInt(i),o.width(this.width)):parseInt(o[0].style.width)!=this.width&&o.width(this.width),parseInt(o[0].style.left)!=p&&o.css("left",p),this.hidden||(p+=this.width),this._requirewidthupdate=!0,r!==this.width&&(h=!0)}),this.columnsheader.width(2+p),e.width(this.columnsheader.width()),this._resizecolumnGroups(),h&&(this._renderrows(),a._arrange())))},_rendercolumnheaders:function(){var a=this;if(!this._updating){var l=this._views[this._view];this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var d=Be('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');d[0].cells=new Array;var h=0;this._hostWidth||(this._hostWidth=this.host.width());var c=this._hostWidth,u=c,e=this.getRows().length,t=this.rowsHeight;this.isTouchDevice()&&(t=this.touchRowsHeight),e*t>this.host.height()&&(this.vScrollBar[0].style.visibility="inherit"),"hidden"!==this.vScrollBar.css("visibility")&&0<this.scrollBarSize&&(c-=parseInt(this.scrollBarSize)+6,this.rtl&&(c+=3),u=c);var i=new Array,p=new Array;if(Be.each(this.columns.records,function(e,t){this.hidden||("auto"==this.width||this._width?this.text:this.width<this.minwidth&&"auto"!=this.minwidth?c-=this.minwidth:this.width>this.maxwidth&&"auto"!=this.maxwidth?c-=this.maxwidth:-1!=this.width.toString().indexOf("%")?(t=0,(t=parseFloat(this.width)*u/100)<this.minwidth&&"auto"!=this.minwidth&&(t=this.minwidth),t>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),c-=t):("string"==typeof this.width&&(this.width=parseInt(this.width)),c-=this.width)),null!=this.width&&"auto"!=this.width||(p[p.length]=this),i[i.length]=this}),this.rtl)for(var o=0;o<i.length;o++)this.columns.replace(o,i[o]);var m=this.headerZIndex,f=a.columnsHeight,g=0,w=document.createDocumentFragment();Be.each(this.columns.records,function(e,t){this.height=a.columnsHeight,a.columnGroups&&a.columnGroups.length&&(this.height=(this.datafield,n=this,s=a.columnGroupslevel*a.columnsHeight,s-=n.level*a.columnsHeight),f=this.height);var i=a.toTP("jqx-grid-column-header")+" "+a.toTP("jqx-widget-header");a.rtl&&(i+=" "+a.toTP("jqx-grid-column-header-rtl")),a.enableBrowserSelection||(i+=" "+a.toTP("jqx-disableselect"));var o=a.rtl?m++:m--,n=document.createElement("div");n.setAttribute("role","columnheader"),n.style.position="absolute",n.style.zIndex=o,n.style.height="100%",n.className=i;var s=Be(n);a.rtl&&0===e&&(s[0].style.borderLeftColor="transparent"),a.columnGroups?(s[0].style.height=f+"px",s[0].style.bottom="0px"):this.timeColumn||(s[0].style.height=-1+f+"px"),this.uielement=s,this.element=s,""!=this.classname&&this.classname&&s.addClass(this.classname);var r,o=this.width,i=!1;null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(o=null!=this._percentagewidth?parseFloat(this._percentagewidth)*u/100:parseFloat(this.width)*u/100,o=Math.round(o),i=!0),"auto"==this.width||this._width||i?i?(o<this.minwidth&&"auto"!=this.minwidth&&(o=this.minwidth),o>this.maxwidth&&"auto"!=this.maxwidth&&(o=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),s.width(o),this.width=o):(n=a.columns.records.length,"dayView"===(i=a._views[a._view].type)||"weekView"===i?((r=a._views[a._view]).timeRuler&&r.timeRuler.timeZones&&(n-=r.timeRuler.timeZones.length),n--):"monthView"===i&&a._views[a._view].showWeekNumbers&&n--,r=Math.floor(c*(1/n)),a.resources&&a.resources.resourceColumnWidth&&"auto"!=a.resources.resourceColumnWidth?r=a.resources.resourceColumnWidth:a.resources&&a.resources.resourceColumnWidth&&"auto"==a.resources.resourceColumnWidth&&"horizontal"==a.resources.orientation&&(r=Math.round((2+c)*(1/a._getColumnsLengthPerView()))),1<=(g+=c*(1/n)-r)&&(--g,r++),.5<=g&&e==a.columns.records.length-1&&r++,isNaN(r)&&(r=this.minwidth),"agendaView"==i&&(r=c/p.length,r++),r<0&&(i=Be("<span>"+this.text+"</span>"),Be(document.body).append(i),r=10+i.width(),i.remove()),r<this.minwidth&&(r=this.minwidth),r>this.maxwidth&&(r=this.maxwidth),this._width="auto",this.width=parseInt(r),o=this.width,s.width(this.width)):(o<this.minwidth&&"auto"!=this.minwidth&&(o=this.minwidth),o>this.maxwidth&&"auto"!=this.maxwidth&&(o=this.maxwidth),s[0].style.width=parseInt(o)+"px"),this.timeColumn&&(s.css("border-bottom-color","transparent"),l.timeRuler&&l.timeRuler.timeZones&&e<l.timeRuler.timeZones.length&&s.css("border-right-color","transparent"),1==this.tableRows&&s.addClass(a.toTP("jqx-scheduler-time-column"))),this.hidden&&s.css("display","none");Be(s.children()[0]);d[0].cells[e]=s[0];e=a._rendercolumnheader(this.text,this.align,f,a);s[0].innerHTML=e,w.appendChild(s[0]);s[0].style.left=h+"px",this.hidden||(h+=o)}),d[0].appendChild(w),this.columnsheader[0].style.width=0<h?2+h+"px":h+"px",this._columnswidth=h,this.columnsrow=d,a.columnsheader.append(d),d[0].style.width=h+"px",this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){var e=this.headerZIndex+this.columns.records.length,t=this,i=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-grid-columngroup-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(i+=" "+t.toTP("jqx-grid-columngroup-header-rtl"));var o=this.columnsheader.find("#columntable"+this.element.id);o.find("jqx-grid-columngroup-header").remove();for(var n=0;n<this.columnGroupslevel-1;n++)for(var s=0;s<this.columnGroups.length;s++){var r,a,l,d,h,c=this.columnGroups[s],u=c.level;u===n&&(r=u*this.columnsHeight,a=99999,c.groups&&(l=function(e){for(var t=0,i=0;i<e.groups.length;i++){var o=e.groups[i];o.groups?t+=l(o):o.hidden||(t+=o.width,a=Math.min(parseInt(o.element[0].style.left),a))}return t},c.width=l(c),c.left=a,d=this.columnsHeight,h=e--,u=Be('<div role="columnheader" style="z-index: '+h+';position: absolute;" class="'+i+'"></div>'),h=Be(this._rendercolumnheader(c.text,c.align,this.columnsHeight,this)),c.renderer&&c.renderer(u,c.text),u.append(h),u[0].style.left=a+"px",0===a&&(u[0].style.borderLeftColor="transparent"),u[0].style.top=r+"px",u[0].style.height=d+"px",u[0].style.width=-1+c.width+"px",o.append(u),c.element=u))}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var n,t,i,o=this.columnGroups[e],s=o.level*this.columnsHeight,r=99999;o.groups&&(n=function(e){for(var t=0,i=0;i<e.groups.length;i++){var o=e.groups[i];o.groups?t+=n(o):(t+=o.width,r=Math.min(parseInt(o.element[0].style.left),r))}return t},o.width=n(o),o.left=r,t=this.columnsHeight,(i=o.element)[0].style.left=r+"px",i[0].style.top=s+"px",i[0].style.height=t+"px",i[0].style.width=-1+o.width+"px")}},_removecolumnhandlers:function(e){var t=this,i=Be(e.element);0<i.length&&(t.removeHandler(i,"mouseenter"),t.removeHandler(i,"mouseleave"),e=Be(e.filtericon),t.removeHandler(e,"mousedown"),t.removeHandler(e,"click"),t.removeHandler(i,"click"))},destroy:function(){var e=this;e._removeHandlers(),e._editDialog&&e._editDialog.jqxWindow("destroy"),e.menu&&e.menu.jqxMenu("destroy"),e.editRecurrenceDialog&&e.editRecurrenceDialog.jqxWindow("destroy"),e.vScrollBar.jqxScrollBar("destroy"),e.hScrollBar.jqxScrollBar("destroy"),delete e.vScrollBar,delete e.hScrollBar,delete e._mousewheelfunc,Be.jqx.utilities.resize(e.host,null,!0),e.host.remove()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.host.height(e.height),e.host.width(e.width),e._updatesize(!1,!0))},propertyChangedHandler:function(e,t,i,o){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)&&o!==i)if("filterable"==t)e._render();else if("view"==t)e.setView(o);else if("views"==t){e._columns=null,e._views=new Array,e._view=e.view;for(var n=0;n<e.views.length;n++)"string"===Be.type(e.views[n])?e._views.push({type:e.views[n]}):e._views.push(e.views[n]);for(n=0;n<e._views.length;n++)if(e._views[n].type==e.view){e._view=n;break}e._render()}else"height"===t?(e._hostWidth=null,e._hostHeight=null,e.host.height(e.height),e.host.width(e.width),e._updatesize(!1,!0)):"width"===t?(e._hostWidth=null,e._hostHeight=null,e.host.height(e.height),e.host.width(e.width),e._updatesize(!0,!1)):"source"===t||"resources"==t?e.updateBoundData():"columns"===t||"columnGroups"===t?(e._columns=null,e._render()):"selectionMode"===t?e.selectionMode=o.toLowerCase():"touchMode"==t?(e._removeHandlers(),e.touchDevice=null,e.vScrollBar.jqxScrollBar({touchMode:o}),e.hScrollBar.jqxScrollBar({touchMode:o}),e.refresh(),e._addHandlers()):"enableHover"==t||("showLegend"==t?(e.legendbartop.show(),e.legendbarbottom.show(),e.refresh()):"disabled"==t?(o?e.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),e.host.find(".jqx-grid-group-collapse").css("cursor",o?"default":"pointer"),e.host.find(".jqx-grid-group-expand").css("cursor",o?"default":"pointer")):"columnsHeight"==t?e._render():"localization"==t?(e._render(),e.editRecurrenceDialog&&(e.editRecurrenceDialog.jqxWindow("destroy"),e.createEditRecurrenceDialog())):"theme"==t?(Be.jqx.utilities.setTheme(i,o,e.host),e._editDialog&&Be.jqx.utilities.setTheme(i,o,e._editDialog),e.editRecurrenceDialog&&Be.jqx.utilities.setTheme(i,o,e.editRecurrenceDialog),e.menu&&e.menu.jqxMenu({theme:e.theme}),e.vScrollBar.jqxScrollBar({theme:e.theme}),e.hScrollBar.jqxScrollBar({theme:e.theme}),e.refresh()):"date"===t?e.navigateTo(o):e.refresh())},_rendercolumnheader:function(e,t,i,o){var n="4px";o.columnGroups?((n=i/2-this._columnheight/2)<0&&(n=4),n+="px"):25!=this.columnsHeight&&((n=this.columnsHeight/2-this._columnheight/2)<0&&(n=4),n+="px");n='<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+n+"; margin-top: "+n+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>";if(this.columnRenderer){i=this.columnRenderer(e,t,i,n);if(null!=i)return i}return n}})}(jqxBaseFramework);