!function(X){function O(i,e){return this.owner=i,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsRenderer=null,this.columntype=null,this.cellsFormat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.autoCellHeight=!0,this.validation=null,this.classname="",this.cellclassname="",this.aggregates=null,this.aggregatesRenderer=null,this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){var i;this[e]?(i=this[e],this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)):this[e.toLowerCase()]&&(i=this[e.toLowerCase()],this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i))},this._initfields=function(e){if(null!=e)if(X.jqx.hasProperty(e,"dataField")&&(this.datafield=X.jqx.get(e,"dataField")),X.jqx.hasProperty(e,"displayField")?this.displayfield=X.jqx.get(e,"displayField"):this.displayfield=this.datafield,X.jqx.hasProperty(e,"columnType")&&(this.columntype=X.jqx.get(e,"columnType")),X.jqx.hasProperty(e,"validation")&&(this.validation=X.jqx.get(e,"validation")),X.jqx.hasProperty(e,"autoCellHeight")&&(this.autoCellHeight=X.jqx.get(e,"autoCellHeight")),X.jqx.hasProperty(e,"text")?this.text=X.jqx.get(e,"text"):this.text=this.displayfield,X.jqx.hasProperty(e,"sortable")&&(this.sortable=X.jqx.get(e,"sortable")),X.jqx.hasProperty(e,"hidden")&&(this.hidden=X.jqx.get(e,"hidden")),X.jqx.hasProperty(e,"groupable")&&(this.groupable=X.jqx.get(e,"groupable")),X.jqx.hasProperty(e,"renderer")&&(this.renderer=X.jqx.get(e,"renderer")),X.jqx.hasProperty(e,"align")&&(this.align=X.jqx.get(e,"align")),X.jqx.hasProperty(e,"cellsAlign")&&(this.cellsalign=X.jqx.get(e,"cellsAlign")),X.jqx.hasProperty(e,"cellsFormat")&&(this.cellsFormat=X.jqx.get(e,"cellsFormat")),X.jqx.hasProperty(e,"width")&&(this.width=X.jqx.get(e,"width")),X.jqx.hasProperty(e,"minWidth")&&(this.minwidth=X.jqx.get(e,"minWidth")),X.jqx.hasProperty(e,"maxWidth")&&(this.maxwidth=X.jqx.get(e,"maxWidth")),X.jqx.hasProperty(e,"cellsRenderer")&&(this.cellsRenderer=X.jqx.get(e,"cellsRenderer")),X.jqx.hasProperty(e,"columnType")&&(this.columntype=X.jqx.get(e,"columnType")),X.jqx.hasProperty(e,"pinned")&&(this.pinned=X.jqx.get(e,"pinned")),X.jqx.hasProperty(e,"filterable")&&(this.filterable=X.jqx.get(e,"filterable")),X.jqx.hasProperty(e,"filter")&&(this.filter=X.jqx.get(e,"filter")),X.jqx.hasProperty(e,"resizable")&&(this.resizable=X.jqx.get(e,"resizable")),X.jqx.hasProperty(e,"draggable")&&(this.draggable=X.jqx.get(e,"draggable")),X.jqx.hasProperty(e,"editable")&&(this.editable=X.jqx.get(e,"editable")),X.jqx.hasProperty(e,"initEditor")&&(this.initeditor=X.jqx.get(e,"initEditor")),X.jqx.hasProperty(e,"createEditor")&&(this.createeditor=X.jqx.get(e,"createEditor")),X.jqx.hasProperty(e,"destroyEditor")&&(this.destroyeditor=X.jqx.get(e,"destroyEditor")),X.jqx.hasProperty(e,"getEditorValue")&&(this.geteditorvalue=X.jqx.get(e,"getEditorValue")),X.jqx.hasProperty(e,"className")&&(this.classname=X.jqx.get(e,"className")),X.jqx.hasProperty(e,"cellClassName")&&(this.cellclassname=X.jqx.get(e,"cellClassName")),X.jqx.hasProperty(e,"aggregates")&&(this.aggregates=X.jqx.get(e,"aggregates")),X.jqx.hasProperty(e,"aggregatesRenderer")&&(this.aggregatesRenderer=X.jqx.get(e,"aggregatesRenderer")),X.jqx.hasProperty(e,"rendered")&&(this.rendered=X.jqx.get(e,"rendered")),X.jqx.hasProperty(e,"exportable")&&(this.exportable=X.jqx.get(e,"exportable")),X.jqx.hasProperty(e,"nullable")&&(this.nullable=X.jqx.get(e,"nullable")),X.jqx.hasProperty(e,"columnGroup")&&(this.columngroup=X.jqx.get(e,"columnGroup")),!e instanceof String&&"string"!=typeof e)for(var t in e)if(!this.hasOwnProperty(t)&&!this.hasOwnProperty(t.toLowerCase()))throw i.host.remove(),new Error("jqxDataTable: Invalid property name - "+t+".")},this._initfields(e),this}X.jqx.jqxWidget("jqxDataTable","",{}),X.extend(X.jqx._jqxDataTable.prototype,{defineInstance:function(){var e={altRows:!1,aggregatesHeight:34,autoShowLoadElement:!0,autoRowHeight:!0,columnsHeight:36,columns:[],columnGroups:null,columnsResize:!1,columnsReorder:!1,dataview:null,disabled:!1,editable:!1,editSettings:{saveOnPageChange:!0,saveOnBlur:!0,saveOnSelectionChange:!0,cancelOnEsc:!0,saveOnEnter:!0,editSingleCell:!1,editOnDoubleClick:!0,editOnF2:!0},enableHover:!0,enableBrowserSelection:!1,filterHeight:35,filterable:!1,filterMode:"default",groupsRenderer:null,groups:new Array,headerZIndex:359,height:null,handleKeyboardNavigation:null,indentWidth:25,initRowDetails:!1,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed.",localization:null,pagerHeight:40,pageSize:10,pageSizeOptions:["5","10","20"],pageable:!1,pagerPosition:"bottom",pagerMode:"default",pageSizeMode:"default",pagerButtonsCount:5,pagerRenderer:null,ready:null,rendertoolbar:null,rowDetails:!1,renderStatusBar:null,rendered:null,rendering:null,rtl:!1,sortable:!1,showtoolbar:!1,showstatusbar:!1,statusBarHeight:34,serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:X.jqx.utilities.scrollBarSize,touchScrollBarSize:X.jqx.utilities.touchScrollBarSize,showAggregates:!1,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,beginEdit:null,endEdit:null,autokoupdates:!0,columnsVirtualization:!1,exportSettings:{columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,recordsInView:!0,fileName:"jqxDataTable"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},toolbarHeight:34,tableZIndex:369,_updating:!1,touchmode:"auto",width:null,that:this,incrementalSearch:!0,events:["bindingComplete","sort","filter","pageChanged","pageSizeChanged","rowClick","rowDoubleClick","cellValueChanged","rowBeginEdit","rowEndEdit","rowSelect","rowUnselect","rowCheck","rowUncheck","columnResized","columnReordered","rowExpand","rowCollapse","cellBeginEdit","cellEndEdit"]};return this===X.jqx._jqxDataTable.prototype||(X.extend(!0,this,e),this.that=this),e},createInstance:function(e){var t,s=this;if(13!=X.jqx.utilities.scrollBarSize&&(s.scrollBarSize=X.jqx.utilities.scrollBarSize),s.isMaterialized()&&(t=(p=window.getComputedStyle(s.element)).getPropertyValue("--jqx-grid-column-height"),p=p.getPropertyValue("--jqx-scrollbar-size"),t&&36===this.columnsHeight&&(s.columnsHeight=parseInt(t))),p&&(s.scrollbarsize=p,X.jqx.utilities.scrollBarSize=p),"table"==s.element.nodeName.toLowerCase()||0<X(s.element).children("table").length){var i=s.host.find("tbody tr"),r=s.host.find("th"),o=new Array;0===r.length&&(r=i[0],i.splice(0,1)),s.localizestrings&&(s.localizestrings(),null!=s.localization&&s.localizestrings(s.localization,!1));for(var l=[],a=0;a<i.length;a++){for(var n=i[a],d={},h=0;h<r.length;h++){var c=X.trim(X(r[h]).text());0===a&&(u={name:c},s.columns[h]&&s.columns[h].cellsFormat&&(-1==(g=s.columns[h].cellsFormat.toLowerCase()).indexOf("p")&&-1==g.indexOf("c")&&-1==g.indexOf("n")&&-1==g.indexOf("f")||(u.type="number"),-1==g.indexOf("d")&&-1==g.indexOf("m")&&-1==g.indexOf("y")&&-1==g.indexOf("h")&&-1==g.indexOf("m")&&-1==g.indexOf("s")&&-1==g.indexOf("t")||(u.type="date")),o.push(u));var u,g=X(n).find("td:eq("+h+")");o[h].type?(u=s.getvaluebytype(X.trim(g.text()),o[h]),d[c]=u):d[c]=X.trim(g.text())}l[l.length]=d}s.host.wrap("<div></div>");var p=s.host.parent(),f=s.host.data();f.jqxDataTable.host=p,f.jqxDataTable.element=p[0],s.host.parent()[0].id=s.element.id;try{s.host.parent()[0].style=s.element.style}catch(e){}s.element=p[0],s.host=p,s.host.data(f);f={dataFields:o,localdata:l,datatype:"array"},f=new X.jqx.dataAdapter(f);s.source=f}s.source&&!s.source.dataBind&&(s.source=new X.jqx.dataAdapter(s.source));f=s.source._source.datafields;f&&0<f.length&&(s._camelCase=void 0!==s.source._source.dataFields,s.selectionMode=s.selectionMode.toLowerCase()),null==s.host.attr("tabindex")&&s.host.attr("tabindex","0"),s.host.attr("role","grid"),s.host.attr("align","left"),s.host.addClass(s.toTP("jqx-datatable")),s.host.addClass(s.toTP("jqx-grid")),s.host.addClass(s.toTP("jqx-reset")),s.host.addClass(s.toTP("jqx-rc-all")),s.host.addClass(s.toTP("jqx-widget")),s.host.addClass(s.toTP("jqx-widget-content")),s._testmodules()||(s.render(!0),X.jqx.utilities.resize(s.host,function(){var e=X(window).width(),t=X(window).height(),i=s.host.width(),r=s.host.height();s._lastHostWidth==i&&s._lastHostHeight==r||s._updatesize(s._lastHostWidth!=i,s._lastHostHeight!=r),s._lastWidth=e,s._lastHeight=t,s._lastHostWidth=i,s._lastHostHeight=r}))},getvaluebytype:function(e,t){var i,r,s=e;if(null==e)return e;if(","==this.gridlocalization.decimalseparator&&0<=e.indexOf(this.gridlocalization.decimalseparator)&&(e=e.replace(this.gridlocalization.decimalseparator,".")),0<=e.indexOf(this.gridlocalization.currencysymbol)&&(e=e.replace(this.gridlocalization.currencysymbol,"")),0<=e.indexOf(this.gridlocalization.percentagesymbol)&&(e=e.replace(this.gridlocalization.percentagesymbol,"")),X.isArray(e)&&"array"!=t.type){for(var o=0;o<e.length;o++)e[o]=this.getvaluebytype(e[o],t);return e}return"date"==t.type?"NaN"==e?e="":(i=new Date(e),"string"==typeof e&&(!t.format||null!=(r=X.jqx.dataFormat.parsedate(e,t.format))&&(i=r)),null==(e=("NaN"==i.toString()||"Invalid Date"==i.toString())&&X.jqx.dataFormat?X.jqx.dataFormat.tryparsedate(e):i)&&(e=s)):"float"==t.type||"number"==t.type||"decimal"==t.type?"NaN"==e?e="":(e=parseFloat(e),isNaN(e)&&(e=s)):"int"==t.type||"integer"==t.type?(e=parseInt(e),isNaN(e)&&(e=s)):"bool"!=t.type&&"boolean"!=t.type||(null!=e&&null!=e.toLowerCase&&("false"==e.toLowerCase()?e=!1:"true"==e.toLowerCase()&&(e=!0)),e=1==e||(0!=e||""===e)&&""),e},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=X('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var e=X('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");e.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),e.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(e),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url&&(e=!1,"auto"!==this.height&&null!==this.height&&!this.autoheight||999999!=this.maxHeight||(e=!0),e?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height)),e=!1,"auto"!==this.width&&null!==this.width&&!this.autoWidth||(e=!0),e?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width)))},_measureElement:function(e){var t=X("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");t.addClass(this.toTP("jqx-widget")),X(document.body).append(t),"cell"==e?this._cellheight=t.height():this._columnheight=t.height(),t.remove()},_testmodules:function(){function t(){""!=i.length&&(i+=",")}var i="",r=this;if(this.host.jqxScrollBar||(t(),i+=" jqxscrollbar.js"),this.host.jqxButton||(t(),i+=" jqxbuttons.js"),X.jqx.dataAdapter||(t(),i+=" jqxdata.js"),""!=i||this.editable||this.filterable||this.pageable){var s=[];if((this.filterable&&"simple"!=this.filterMode||"advanced"==this.pagerMode&&this.pageable)&&function(e){switch(e){case"checkbox":r.host.jqxCheckBox||s.checkbox||(s.checkbox=!0,t(),i+=" jqxcheckbox.js");break;case"dropdownlist":r.host.jqxDropDownList||s.dropdownlist?r.host.jqxListBox||s.listbox||(t(),s.listbox=!0,i+=" jqxlistbox.js"):(t(),s.dropdownlist=!0,i+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}}("dropdownlist"),""!=i)throw new Error("jqxDataTable: Missing references to the following module(s): "+i)}return!1},focus:function(){try{this.wrapper.focus(),this.host.focus();var e=this;setTimeout(function(){e.wrapper.focus(),e.host.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return X.jqx.isHidden(this.host)},isBindingCompleted:function(){return!this._loading},_updatesize:function(e,t){var i,r,s,o;this._loading||(r=(i=this).host.width(),s=i.host.height(),i._oldWidth||(i._oldWidth=r),i._oldHeight||(i._oldHeight=s),null!=i._resizeTimer&&(clearTimeout(i._resizeTimer),i._resizeTimer=null),(o=function(){i._resizeTimer&&clearTimeout(i._resizeTimer),i.resizingGrid=!0,X.jqx.isHidden(i.host)||(i._updatecolumnwidths(),i.refresh(),i._oldWidth=r,i._oldHeight=s,i.resizingGrid=!1)})(),i._resizeTimer=setTimeout(function(){var e=i.host.width(),t=i.host.height();i._oldWidth==e&&i._oldHeight==t||o()},300))},resize:function(e,t){null!=e&&(this.width=e),null!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e=X.jqx.mobile.isTouchDevice();return this.touchDevice=e,1==this.touchmode?(e=!0,X.jqx.mobile.setMobileSimulator(this.table[0]),this.touchDevice=e):0==this.touchmode&&(e=!1),e&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),e},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(e,t){if(this._cellscache=new Array,X.jqx.dataFormat&&X.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(null!=e){for(var i in e)i.toLowerCase()!==i&&(e[i.toLowerCase()]=e[i]);for(var r=["pagergotopagestring","pagershowrowsstring","pagerrangestring","pagernextbuttonstring","pagerpreviousbuttonstring","pagerfirstbuttonstring","pagerlastbuttonstring","toppagerstring","firstDay","days","months","AM","PM","patterns","percentsymbol","currencysymbol","currencysymbolposition","decimalseparator","thousandsseparator","filterapplystring","filteraddnew","filtercancelstring","filterclearstring","filterstring","filterstringcomparisonoperators","filternumericcomparisonoperators","filterdatecomparisonoperators","filterbooleancomparisonoperators","emptydatastring","filterselectstring","todaystring","clearstring","validationstring","loadtext","filtersearchstring","loadingErrorMessage"],s=0;s<r.length;s++){var o=r[s];void 0!==e[o]&&(this.gridlocalization[o]=e[o])}e.loadingErrorMessage&&(this.loadingErrorMessage=e.loadingErrorMessage),!1!==t&&(this._builddataloadelement(),X(this.dataloadelement).css("visibility","hidden"),X(this.dataloadelement).css("display","none"))}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",filterapplystring:"Apply",filtercancelstring:"Cancel",filterclearstring:"Clear Filter",filterstring:"advanced",filtersearchstring:"Search:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed."}},_updateScrollbars:function(e){var t=!1;"auto"!==this.width&&null!==this.width&&!this.autowidth||999999!=this.maxWidth||(t=!0);var i,r=parseInt(this.scrollBarSize),s=this.table?this.table.height():0,o=0,l="inherit",a=this.vScrollBar[0].style.visibility;this.hScrollBar[0].style.visibility;i=e||this.host.height(),this.columnGroups?i-=this.showHeader?this.columnsheader.height():0:i-=this.showHeader?this.columnsHeight:0,this.filterable&&(i-=this.filter.height()),this.pageable&&(i-=this.pagerHeight,"both"===this.pagerPosition&&(i-=this.pagerHeight)),this.showtoolbar&&(i-=this.toolbarHeight),this.showstatusbar&&(i-=this.statusBarHeight),this.showAggregates&&(i-=this.aggregatesHeight);var n=!1;"auto"!==this.height&&null!==this.height&&!this.autoheight||999999!=this.maxHeight||(n=!0),!n&&i<s&&(0<this.source.records.length||this.source.hierarchy&&0<this.source.hierarchy.length)?(this.vScrollBar[0].style.visibility=l,o=4+parseInt(r),this.vScrollBar.jqxScrollBar({max:s-i})):this.vScrollBar[0].style.visibility="hidden",a!=this.vScrollBar[0].style.visibility&&(this._updatecolumnwidths(),s!=(d=this.table.height())&&(s=d,!n&&i<s&&(0<this.source.records.length||this.source.hierarchy&&0<this.source.hierarchy.length)&&(this.vScrollBar[0].style.visibility=l,o=4+parseInt(r),this.vScrollBar.jqxScrollBar({max:s-i})))),0==this.scrollBarSize&&(o=0);e=this.table?this.table.width():0;3<e&&(e-=3);var a=parseInt(this.host.css("border-left-width"))+parseInt(this.host.css("border-right-width")),d=a+this.host.width()-o;d<e&&!t?(this.hScrollBar[0].style.visibility=l,this.hScrollBar.jqxScrollBar({max:e-d}),o=4+parseInt(r),0==r&&(o=0),n||(i-o+4<s&&(0<this.source.records.length||this.source.hierarchy&&0<this.source.hierarchy.length)&&(this.hScrollBar.jqxScrollBar({max:a+e-d}),n="hidden"===this.vScrollBar[0].style.visibility,this.vScrollBar[0].style.visibility=l,this._updatecolumnwidths(),n&&this.hScrollBar.jqxScrollBar({max:e-d+o+a}),3<(n=this.table?this.table.width():0)&&(n-=3),n!=e&&n<d&&(this.hScrollBar.jqxScrollBar({max:a+n-d}),this.hScrollBar[0].style.visibility="hidden",o=0)),this.vScrollBar.jqxScrollBar({max:s-i+o}))):this.hScrollBar[0].style.visibility="hidden",0===this.source.records.length&&this.source.hierarchy&&0===this.source.hierarchy.length&&(this.vScrollBar[0].style.visibility="hidden",this.bottomRight[0].style.visibility="hidden"),"hidden"==this.vScrollBar[0].style.visibility&&0!=this.vScrollInstance.value&&this.vScrollInstance.setPosition(0)},_measureElementWidth:function(e){var t=X("<span style='visibility: hidden; white-space: nowrap;'>"+e+"</span>");t.addClass(this.toTP("jqx-widget")),t.addClass(this.toTP("jqx-grid")),t.addClass(this.toTP("jqx-grid-column-header")),t.addClass(this.toTP("jqx-widget-header")),X(document.body).append(t);e=t.outerWidth()+20;return t.remove(),e},_arrangeAutoHeight:function(e){if(e=e||0,"auto"===this.height||null===this.height||this.autoheight){var t,i=this.table.height(),r=0;return this.columnGroups?r+=this.showHeader?this.columnsheader.height():-1:r+=this.showHeader?this.columnsHeight:-1,r+=this.showstatusbar?this.statusBarHeight:0,r+=this.showAggregates?this.aggregatesHeight:0,r+=this.showtoolbar?this.toolbarHeight:0,r+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(r+=this.pageable?this.pagerHeight:0),r+=i,this.filterable&&(t=this.filter.find(".filterrow"),i=1,0<this.filter.find(".filterrow-hidden").length&&(i=0),r+=this.filterHeight-1+this.filterHeight*t.length*i),r+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(r+e),!0}return!1},escape_HTML:function(e){return e.replace(/[&<>"]/g,function(e){return{"&":"&","<":"<",">":">",'"':'"'}[e]||e})},_arrangeAutoWidth:function(e){if(e=e||0,"auto"===this.width||null===this.width||this.autowidth){for(var t=0,i=0;i<this.columns.records.length;i++){var r=this.columns.records[i].width;this.columns.records[i].hidden||(t+="auto"==r?r=this._measureElementWidth(this.escape_HTML(this.columns.records[i].text)):r)}var s=t;return s+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(s+e),!0}return!1},_measureTopAndHeight:function(){var e,t,i=this.host.height(),r=0;return this.showtoolbar&&(r+=this.toolbarHeight,i-=parseInt(this.toolbarHeight)),this.filterable&&(t=this.filter.find(".filterrow"),e=1,0<this.filter.find(".filterrow-hidden").length&&(e=0),r+=this.filterHeight,i-=parseInt(this.filterHeight),t=1==e?t.length:0,r+=this.filterHeight*t,i-=this.filterHeight*t),this.pageable&&"bottom"!=this.pagerPosition&&(r+=parseInt(this.pagerHeight)+1,i>this.pagerHeight&&"both"===this.pagerPosition&&(i-=parseInt(this.pagerHeight))),{top:r,height:i}},_arrange:function(){var t,e,i,r,s,o,l,a,n,d,h;this.table&&(this._arrangeAutoHeight(),this._arrangeAutoWidth(),i=this.host.width(),n=s=this.host.height(),this.pageable?"bottom"===this.pagerPosition?(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="inherit"):"both"===this.pagerPosition?(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="inherit"):"top"===this.pagerPosition&&(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="hidden"):(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="hidden"),r=0,this.showtoolbar?(this.toolbar.width(i),this.toolbar.height(this.toolbarHeight-1),this.toolbar.css("top",0),r+=this.toolbarHeight,s-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.filterable&&(this.filter.width(i),this.filter.css("top",r),h=this.filter.find(".filterrow"),e=1,0<this.filter.find(".filterrow-hidden").length&&(e=0),this.filter.height(this.filterHeight-1+this.filterHeight*h.length*e),r+=this.filterHeight,s-=parseInt(this.filterHeight),e=1==e?h.length:0,r+=this.filterHeight*e,s-=this.filterHeight*e),this.showstatusbar?(this.statusbar.width(this.table?Math.max(i,this.table.width()):i),this.statusbar.height(this.statusBarHeight-1)):this.statusbar[0].style.height="0px",this.showAggregates?this.aggregates.height(this.aggregatesHeight-1):this.aggregates[0].style.height="0px",this.pageable&&"bottom"!=this.pagerPosition?(this.toppager[0].style.width=i+"px",this.toppager[0].style.height=parseInt(this.pagerHeight)+"px",this.toppager[0].style.top=parseInt(r)+"px",r+=parseInt(this.pagerHeight)+1,s>this.pagerHeight&&(s-=parseInt(this.pagerHeight))):(this.toppager[0].style.width!=i+"px"&&(this.toppager[0].style.width=parseInt(i)+"px"),this.toppager[0].style.height!=this.pagerHeight+"px"&&(this.toppager[0].style.height=parseInt(this.pagerHeight)+"px"),this.toppager[0].style.top!=r+"px"&&(this.toppager[0].style.top=r+"px"),o=r+("bottom"!=this.pagerPosition?this.pagerHeight:0)+"px",this.content[0].style.top!=o&&(this.content[0].style.top=r+this.pagerHeight+"px")),this._updateScrollbars(n),t=parseInt(this.scrollBarSize),h=2,e=0,"hidden"!=this.vScrollBar[0].style.visibility&&(e=t+4),"hidden"!=this.hScrollBar[0].style.visibility&&(h=t+4+2),0==t&&(h=e=0),this.showAggregates&&("hidden"===this.hScrollBar[0].style.visibility?this.aggregates.width(this.table?Math.max(i,this.table.width())+4:i):this.aggregates.width("auto")),"hidden"==this.vScrollBar[0].style.visibility&&"hidden"==this.hScrollBar[0].style.visibility||(a=this._arrangeAutoHeight(h-2),l=this._arrangeAutoWidth(e+1),(a||l)&&(i=this.host.width(),this.toppager[0].style.width=parseInt(i)+"px",this.toolbar[0].style.width=parseInt(i)+"px",this.statusbar[0].style.width=parseInt(i)+"px",this.filter[0].style.width=parseInt(i)+"px"),a&&(r=(d=this._measureTopAndHeight()).top,s=d.height)),o=0,this.pageable&&(o=this.pagerHeight,"top"!=this.pagerPosition&&(h+=this.pagerHeight)),this.showAggregates&&(h+=this.aggregatesHeight,o+=this.aggregatesHeight),this.showstatusbar&&(h+=this.statusBarHeight,o+=this.statusBarHeight),this.hScrollBar[0].style.height!=t+"px"&&(this.hScrollBar[0].style.height=parseInt(t)+"px"),this.hScrollBar[0].style.top==r+s-4-t-o+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=r+s-4-t-o-1+"px",this.hScrollBar[0].style.left="0px"),n=this.hScrollBar[0].style.width,a=l=!1,0==e?n!=i-2+"px"&&(this.hScrollBar[0].style.width=i-2+"px",l=!0):n!=i-t-4+"px"&&(this.hScrollBar[0].style.width=i-t-4+"px",l=!0),this.vScrollBar[0].style.width!=t+"px"&&(this.vScrollBar[0].style.width=t+"px",a=!0),this.vScrollBar[0].style.height!=parseInt(s)-h+"px"&&(this.vScrollBar[0].style.height=parseInt(s)-h+"px",a=!0),this.vScrollBar[0].style.left==parseInt(i)-parseInt(t)-4+"px"&&this.vScrollBar[0].style.top==r+"px"||(this.vScrollBar[0].style.top=r+"px",this.vScrollBar[0].style.left=parseInt(i)-parseInt(t)-4+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:r}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:t+2})),(d=this.vScrollInstance).disabled=this.disabled,(n=this.hScrollInstance).disabled=this.disabled,l&&n.refresh(),a&&d.refresh(),(d=function(e){"hidden"!=e.vScrollBar[0].style.visibility&&"hidden"!=e.hScrollBar[0].style.visibility?(e.bottomRight[0].style.visibility="inherit",e.bottomRight[0].style.left=1+parseInt(e.vScrollBar.css("left"))+"px",e.bottomRight[0].style.top=parseInt(e.hScrollBar.css("top"))+"px",e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight[0].style.width=parseInt(t)+3+"px",e.bottomRight[0].style.height=parseInt(t)+4+"px",e.showAggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(t)+4+e.aggregatesHeight),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.aggregatesHeight}))):e.bottomRight[0].style.visibility="hidden"})(this),this.content[0].style.width!=i-e+"px"&&(this.content[0].style.width=i-e+"px"),this.content[0].style.height!=s-h+3+"px"&&(this.content[0].style.height=s-h+3+"px"),this.content[0].style.top!=r+"px"&&(this.content[0].style.top=parseInt(r)+"px"),this.rtl&&(this.content.css("left",e),this.filter&&0<this.filter.children().length&&X(this.filter.children()).css("left",e),!this.table||(h=this.table.width())<i-e&&(this.content.css("left",i-h+2),this.filter&&0<this.filter.children().length&&X(this.filter.children()).css("left",i-h+2))),this.showAggregates&&(this.aggregates.css("top",r+s-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0)),this.rtl&&this.aggregates.css("left","0px"),"hidden"!=this.hScrollBar.css("visibility")&&(this.hScrollBar.css({top:r+s-4-t-o+this.aggregatesHeight+"px"}),this.aggregates.css("top",1+r+s-t-5-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0))),d(this)),this.showstatusbar&&(this.statusbar.css("top",r+s-this.statusBarHeight-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.statusbar.css("left",this.content.css("left")):this.statusbar.css("left","0px"))),this.pageable?(this.pager[0].style.width=i+"px",this.pager[0].style.height=this.pagerHeight+"px",this.pager[0].style.top=parseInt(r)+parseInt(s)-parseInt(this.pagerHeight)-1+"px"):this.pager[0].style.height="0px",this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,i!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),s!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostwidth=i)},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};null!=e&&"object"==typeof e&&(t=e.left,e=e.top),null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){(this._updating=!1)!==e&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(e,w,v){var y,x,t,i;!0!==this.loadingstate&&(y=window,"block"==this.host.css("display")&&(this.autoShowLoadElement?(X(this.dataloadelement).css("visibility","visible"),X(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(X(this.dataloadelement).css("visibility","hidden"),X(this.dataloadelement).css("display","none"))),x=this,null==e&&(e={}),null!=e.sortcomparer&&null!=e.sortcomparer||(e.sortcomparer=null),null!=e.filter&&null!=e.filter||(e.filter=null),null!=e.sort&&null!=e.sort||(e.sort=null),null!=e.data&&null!=e.data||(e.data=null),null!=e&&(null!=e._source?e._source:e).url,this.dataview=this.dataview||new X.jqx.dataView,this.dataview.pageable=this.pageable,this.dataview.grid=this,x.initializedcall||(e._source&&this.sortable&&(null!=e._source.sortcolumn&&(this.sortcolumn=e._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=e._source.sortcolumn,e._source.sortcolumn=null),null!=e._source.sortdirection&&(this.dataview.sortfielddirection=e._source.sortdirection,i="a"==(t=e._source.sortdirection)||"asc"==t||"ascending"==t||1==t,this.sortdirection=null!=t?{ascending:i,descending:!i}:{ascending:!1,descending:!1})),this.pageable&&e._source&&(null!=e._source.pagenum&&(this.dataview.pagenum=e._source.pagenum),null!=e._source.pagesize?(this.pageSize=e._source.pagesize,this.dataview.pagesize=e._source.pagesize):(this.dataview.pagesize=e._source.pagesize,null==this.dataview.pagesize&&(this.dataview.pagesize=this.pageSize))),this.sortable&&(e.sortcolumn&&(this.dataview.sortfield=e.sortcolumn),e.sortdirection&&(this.dataview.sortfielddirection=e.sortdirection))),this._loading=!0,this.dataview.update=function(e){x._loading=!1,x.rowsByKey=new Array;var t,i,r,s=x.source._source.datafields;x.groups&&0<x.groups.length&&(l=Object.prototype.toString,t=x.groups[0],Object.prototype.toString="function"==typeof t?t:function(){return this[t]},x.source.records.sort||(i=new Array,r=0,X.each({},function(){i[0+r++]=this})),x.source.records.sort(function(e,t){if(void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t)return 0;if(null===e&&null!==t)return-1;if(null!==e&&null===t)return 1;var i=0,r=0;if(e&&e.uid&&(i=e.uid),t&&t.uid&&(r=t.uid),e=e.toString(),t=t.toString(),X.jqx.dataFormat.isNumber(e)&&X.jqx.dataFormat.isNumber(t))return e<t?-1:t<e?1:0;if(X.jqx.dataFormat.isDate(e)&&X.jqx.dataFormat.isDate(t))return e<t?-1:t<e?1:0;X.jqx.dataFormat.isNumber(e)||X.jqx.dataFormat.isNumber(t)||(e=String(e).toLowerCase(),t=String(t).toLowerCase());try{if(e<t)return-1;if(t<e)return 1}catch(e){}if("number"==typeof i){if(i<r)return-1;if(r<i)return 1}return 0}),Object.prototype.toString=l);for(var o,l,a=0;a<x.source.records.length;a++){var n,d=x.source.records[a];if((x.rowsByKey[d.uid]=d).records&&0<d.records.length&&(n=function(e){for(var t=0;t<e.length;t++)e[t]&&(x.rowsByKey[e[t].uid]=e[t],e[t].records&&0<e[t].records.length&&n(e[t].records))})(d.records),0===a){var h=!1;if(s)for(var c,u,g,p=0;p<s.length;p++)s[p]&&(s[p].type||(h=!0,s[p].type="string",null!=(c=d[s[p].name])&&(!0!==c&&!1!==c||(s[p].type="boolean"),(null!=c&&-1<c.toString().indexOf(x.gridlocalization.currencysymbol)||-1<c.toString().indexOf(x.gridlocalization.percentsymbol))&&(u=c.toString().split(" ").length,g=new Number(x._toNumber(c.toString())),isNaN(g)||1!=u||(s[p].type="number")),(X.jqx.dataFormat.isNumber(c)||!isNaN(parseFloat(c))&&isFinite(c))&&(s[p].type="number"),X.jqx.dataFormat.isDate(c)&&(s[p].type="date"))));if(h)for(p=0;p<s.length;p++){var f,m=x.source.getvaluebytype(d[s[p].name],s[p]);null!=m&&"number"==s[p].type&&(f=m,f=new Number(x._toNumber(f.toString())),isNaN(f)||(m=f)),d[s[p].name]=m}}}"pager"===w||"filter"===w||"sort"===w?x.refresh():x._render(),x.autoShowLoadElement&&!x._loading&&(X(x.dataloadelement).css("visibility","hidden"),X(x.dataloadelement).css("display","none")),x.pageable&&(x.disabled||x.pagernexttop&&(x.pagerfirsttop.jqxButton({disabled:!1}),x.pagerfirstbottom.jqxButton({disabled:!1}),x.pagerlasttop.jqxButton({disabled:!1}),x.pagerlastbottom.jqxButton({disabled:!1}),x.pagernexttop.jqxButton({disabled:!1}),x.pagerprevioustop.jqxButton({disabled:!1}),x.pagershowrowscombotop.jqxDropDownList&&"advanced"==x.pagerMode&&(x.pagershowrowscombotop.jqxDropDownList({disabled:!1}),x.pagershowrowscombobottom.jqxDropDownList({disabled:!1})),x.pagernextbottom.jqxButton({disabled:!1}),x.pagerpreviousbottom.jqxButton({disabled:!1}))),x._updateTouchScrolling(),x._raiseEvent("bindingComplete"),v&&v(),x.initializedcall||(x.initializedcall=!0,x.isInitialized=!0,x.ready&&x.ready(),(null!=x.width&&-1!=x.width.toString().indexOf("%")||null!=x.height&&-1!=x.height.toString().indexOf("%"))&&x._updatesize(!0),x._rendercelltexts&&x._rendercelltexts(),x._gridRenderElement&&(X(x._gridRenderElement).show("slow"),o=6e3+Math.floor(4e3*Math.random()+1),l=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase(),y[X.camelCase(l)](function(){X(x._gridRenderElement).hide("slow",function(){X(x._gridRenderElement).remove()})},o)),"hidden"==x.host.css("visibility")&&(X.jqx.browser.msie&&X.jqx.browser.version,"visible"==x.vScrollBar.css("visibility")&&x.vScrollBar.css("visibility","inherit"),"visible"==x.hScrollBar.css("visibility")&&x.hScrollBar.css("visibility","inherit"),x._intervalTimer=setInterval(function(){"visible"==x.host.css("visibility")&&(x._updatesize(!0),clearInterval(x._intervalTimer))},100)))},this.dataview.databind(e))},_raiseEvent:function(e,t){null==t&&(t={owner:null});var i=e,e=t;e.owner=this;i=new X.Event(i);i.owner=this,i.args=e;e=this.host.trigger(i);return t=i.args,e},ensureColumnVisible:function(e){for(var t,i,r=0,s=0,o=0;o<this.columns.records.length;o++){if(this.columns.records[o].datafield==e){r+=this.columns.records[o].width,s=this.columns.records[o].width;break}r+=this.columns.records[o].width}"hidden"!=this.hScrollBar.css("visibility")&&(i=(t=this.hScrollBar.jqxScrollBar("value"))+this.host.width(),r-s<t?this.hScrollBar.jqxScrollBar("setPosition",r-s):i<r&&this.hScrollBar.jqxScrollBar("setPosition",t+r-i))},ensurerowvisiblebykey:function(e){if("hidden"===this.vScrollBar[0].style.visibility)return!1;var t=this._getuirow(e);if(t){var i=this.vScrollBar.jqxScrollBar("value"),r=this.host.height(),s=0;this.columnGroups?s+=this.showHeader?this.columnsheader.height():0:s+=this.showHeader?this.columnsHeight:0,this.filterable&&(s+=this.filter.height()),this.pageable&&"top"===this.pagerPosition&&(s+=this.pagerHeight),this.showtoolbar&&(s+=this.toolbarHeight),r-=s,this.pageable&&"top"!==this.pagerPosition&&(r-=this.pagerHeight),this.showstatusbar&&(r-=this.statusBarHeight),this.showAggregates&&(r-=this.aggregatesHeight),"hidden"!=this.hScrollBar.css("visibility")&&(r-=20);var o=this.host.coord().top+s,l=i,e=r+l,s=t.coord().top+i-o,i=(s=Math.round(s))+t.outerHeight(),i=Math.round(i);if(0===Math.round(t.position().top))return this.vScrollBar.jqxScrollBar("setPosition",0);o=X(this._table.children()[1]).children().length-1,o=this._getuikey(o),o=this._getuirow(o);if(o&&o[0]===t[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(s<l){t=s-t.height();return t<0&&(t=0),this.vScrollBar.jqxScrollBar("setPosition",t)}return e<i?this.vScrollBar.jqxScrollBar("setPosition",4+i-r):void 0}},ensureRowVisible:function(e){e=this._getkey(e);this.ensurerowvisiblebykey(e)},getColumn:function(e){var t=null;return this.columns.records&&X.each(this.columns.records,function(){if(this.datafield==e||this.displayfield==e)return t=this,!1}),t},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;var r=t;t=t.toLowerCase();var s=this.getColumn(e);if(null!=s){s[t];s[t]=i,s[r]=i;e=this.getColumn(e);switch(null!=e&&(e[t]=i),t){case"filteritems":case"text":case"editable":case"resizable":case"draggable":case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t||"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?this._rendercolumnheaders():"width"!=t&&"maxwidth"!=t&&"minwidth"!=t||(s._width=null,s._percentagewidth=null,this._updatecolumnwidths()),this.refresh()}}},getColumnProperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getColumn(e)[t])},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(e){1!=e&&(X.jqx.isHidden(this.host)||(this.vScrollInstance.setPosition(0),this._renderrows(),this.updatepagerdetails(),this._arrange(),this._arrangeFilterRow&&this._arrangeFilterRow(),this._renderhorizontalscroll(),this._showicons(),this.showAggregates&&this._updateaggregates(),this._updateTouchScrolling()))},_rendercelltexts:function(){var e,t,i;"75CE8878-FCD1-4EC7-9249-BA0F153A5DE8"!==X.jqx.credits&&(e="www.jqwidgets.com",-1==location.hostname.indexOf(e.substring(4))&&(this._gridRenderElement&&X(this._gridRenderElement).remove(),i=String.fromCharCode(83,80,65,78),t=String.fromCharCode(72,84,84,80,58,47,47),(i=document.createElement(i)).id=X.jqx.utilities.createId(),i.innerHTML=e,i.style.position="absolute",i.style.right="5px",i.style.bottom="5px",i.style.color="#909090",i.style.cursor="pointer",i.style.zIndex="999999",i.style.display="none",i.style.fontSize="9px",i.onmousedown=function(){open(t+e)},this.content[0].appendChild(i),this._gridRenderElement=i))},_updateTouchScrolling:function(){var e,t,i,r=this.that;r.isTouchDevice()&&(e=X.jqx.mobile.getTouchEventName("touchstart"),t=X.jqx.mobile.getTouchEventName("touchend"),i=X.jqx.mobile.getTouchEventName("touchmove"),r.table&&(r.removeHandler(r.table,e+".touchScroll"),r.removeHandler(r.table,i+".touchScroll"),r.removeHandler(r.table,t+".touchScroll"),r.removeHandler(r.table,"touchcancel.touchScroll"),X.jqx.mobile.touchScroll(r.table[0],Math.max(r.vScrollInstance.max,r.hScrollInstance.max),function(e,t){null!=t&&"hidden"!=r.vScrollBar.css("visibility")&&(r.vScrollInstance.value,r.vScrollInstance.setPosition(t)),null!=e&&"hidden"!=r.hScrollBar.css("visibility")&&(r.hScrollInstance.value,r.hScrollInstance.setPosition(e)),r.scrolled=new Date,r.vScrollInstance.thumbCapture=!0},this.element.id,this.hScrollBar,this.vScrollBar)))},_showicons:function(){if(this.table)for(var e=0;e<this.columns.records.length;e++){var t,i,r=this.columns.records[e];if(X(r.filtericon).hide(),X(r.sortasc).hide(),X(r.sortdesc).hide(),"simple"!==this.filterMode)for(var s=0;s<this.dataview.filters.length;s++)if(this.dataview.filters[s].datafield===r.displayfield){X(r.filtericon).show();break}null!==this.sortcolumn&&this.sortcolumn===r.displayfield&&null!=this.sortdirection&&(this.sortdirection.ascending?X(r.sortasc):X(r.sortdesc)).show(),("left"!=r.align&&"center"!=r.align&&!this.rtl||this.rtl&&"right"!=r.align&&"center"!=r.align)&&(t=X.jqx.isHidden(X(r.filtericon))?0:16,t+=X.jqx.isHidden(X(r.sortasc))?0:16,t+=X.jqx.isHidden(X(r.sortdesc))?0:16,i=X(X(X(r.element).children()[0]).children()[0]),this.rtl?0<t?i.css("margin-left",4+t+"px"):i.css("margin-left","4px"):0<t?i.css("margin-right",4+t+"px"):i.css("margin-right","4px"))}},render:function(e){var t="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='toppager' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='statusbar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerText="",this.element.innerHTML=t,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var i=this.host.find("#verticalScrollBar"+this.element.id),t=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=i.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=t.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=X.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=X.data(this.hScrollBar[0],"jqxScrollBar").instance,this.filter=this.host.find("#filter"),this.filter[0].id="filter"+this.element.id,this.filter.addClass(this.toTP("jqx-widget-header")),this.filter.addClass(this.toTP("jqx-grid-toolbar")),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.aggregates=this.host.find("#aggregates"),this.aggregates[0].id="aggregates"+this.element.id,this.aggregates.addClass(this.toTP("jqx-grid-statusbar")),this.aggregates.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.toppager=this.host.find("#toppager"),this.toppager.addClass(this.toTP("jqx-grid-pager-top")),this.toppager.addClass(this.toTP("jqx-widget-header")),this.gridtable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var r=this.source.datafields;if(null==r&&this.source._source&&(r=this.source._source.datafields),r)for(var s=0;s<this.columns.length;s++){var o=this.columns[s];if(o&&o.cellsFormat&&2<o.cellsFormat.length)for(var l=0;l<r.length;l++)if(r[l].name==o.datafield&&!r[l].format){r[l].format=o.cellsFormat;break}}this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","inherit"),this.showstatusbar&&this.statusbar.css("visibility","inherit"),this.showAggregates&&this.aggregates.css("visibility","inherit"),this.tableheight=null;var a=this;this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return a.content&&(a.content[0].scrollTop=0,a.content[0].scrollLeft=0),a.gridcontent&&(a.gridcontent[0].scrollLeft=0,a.gridcontent[0].scrollTop=0),!1}),!0!==e&&this._render()},_render:function(){var e,t,i=this;null!=i.dataview&&(i._loading||(25==i.columnsHeight&&!i.columnGroups||i._measureElement("column"),i.filterable?i.filter[0].style.visibility="inherit":i.filter[0].style.visibility="hidden",i.rowinfo=new Array,i._removeHandlers(),null==i.columns?i.columns=new X.jqx.dataCollection(i.element):i._initializeColumns(),t=e=!1,null!=i.width&&-1!=i.width.toString().indexOf("%")&&(e=!0),e?i.element.style.width=i.width:i.host.width(i.width),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(t=!0),t?i.element.style.height=i.height:i.host.height(i.height),i._lastHostWidth=i.host.width(),i._lastHostHeight=i.host.height(),X.jqx.utilities.html(i.content,""),i.columnsheader=i.columnsheader||X('<div style="overflow: hidden;"></div>'),i.columnsheader.remove(),i.columnsheader.addClass(i.toTP("jqx-widget-header")),i.columnsheader.addClass(i.toTP("jqx-grid-header")),i.showHeader?i.columnsheader&&i.columnsheader.css("display","block"):i.columnsheader.css("display","none"),i.gridcontent=i.gridcontent||X('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),i.gridcontent.remove(),t=i.columnsHeight,t=i._preparecolumnGroups(),i.columnsheader.height(t),i.content.append(i.columnsheader),i.content.append(i.gridcontent),i._rendercolumnheaders(),i.tableheight=null,i.gridcontent.find("#contenttable"+i.element.id).remove(),null!=i.table&&(i.table.remove(),i.table=null),i.table=X('<div id="contenttable'+i.element.id+'" style="overflow: hidden; position: relative;"></div>'),i.gridcontent.addClass(i.toTP("jqx-grid-content")),i.gridcontent.addClass(i.toTP("jqx-widget-content")),i.gridcontent.append(i.table),i._renderrows(),i.filterable&&i._renderfilter(),i.pageable&&i._initpager(),i._arrange(),i.renderStatusBar&&i.renderStatusBar(i.statusbar),i.rendertoolbar&&i.rendertoolbar(i.toolbar),i.showAggregates&&i._updateaggregates(),i.disabled&&i.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")),i._renderhorizontalscroll(),i._showicons(),i._addHandlers()))},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},_initpager:function(){var e,b=this.gridlocalization.pagergotopagestring,_=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),t=(this.pagerHeight-28)/2;if(this.pagerdiv=this.pagerdiv||X('<div style="line-height: 28px; width: 100%; height: 100%; position: relative;"></div>'),this.toppagerdiv=this.toppagerdiv||X('<div style="line-height: 28px; width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.toppagerdiv.remove();this.pagerRenderer?(this.pagerdiv.children().remove(),this.toppager.children().remove(),null!=(e=this.pagerRenderer())&&this.pagerdiv.append(X(e)),this.pager.append(this.pagerdiv),null!=(e=this.pagerRenderer())&&this.toppagerdiv.append(X(e)),this.toppager.append(this.toppagerdiv)):(this.pagerdiv.css("top",t),this.toppagerdiv.css("top",t),t=function(e,t){var r=this,i=X('<div style="margin-right: 12px; height: 28px; float: right;"><input style="height:100%; box-sizing: border-box; text-align: right; width: 36px;" type="text"/></div>'),s=X('<div style="float: right; margin-right: 7px;"></div>'),o=X('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),l=X('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),a=X('<div type="button" style="margin-left: 3px; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),n=X('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),d=X('<div style="margin-right: 7px; float: right;"></div>'),h=X('<div style="margin-right: 7px; float: right;"></div>'),c=X('<div style="padding-bottom: 3px; margin-right: 3px; float: right;"></div>');i.attr("disabled",r.disabled);var u,g,p,f=X('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>');f[0].id="gridpagerlist"+t+r.element.id,r.removeHandler(o,"mousedown"),r.removeHandler(o,"mouseup"),r.removeHandler(o,"click"),r.removeHandler(l,"mousedown"),r.removeHandler(l,"mouseup"),r.removeHandler(l,"click"),r.removeHandler(a,"mousedown"),r.removeHandler(a,"mouseup"),r.removeHandler(a,"click"),r.removeHandler(n,"mousedown"),r.removeHandler(n,"mouseup"),r.removeHandler(n,"click"),r.rtl?(o.attr("title",r.gridlocalization.pagerpreviousbuttonstring),l.attr("title",r.gridlocalization.pagernextbuttonstring)):(l.attr("title",r.gridlocalization.pagerpreviousbuttonstring),o.attr("title",r.gridlocalization.pagernextbuttonstring)),X.jqx.browser.msie&&X.jqx.browser.version<8&&c.css("padding-top","3px"),this["pagerfirst"+t]=a,this["pagerlast"+t]=n,this["pagernext"+t]=o,this["pagerprevious"+t]=l,this["pagergotoinput"+t]=i,this["pagerdetails"+t]=d,this["pagershowrows"+t]=h,this["pagergotolabel"+t]=s,this["pagershowrowscombo"+t]=f,this["pagerbuttons"+t]=c,"default"==r.pagerMode?(r.rtl?(n.attr("title",r.gridlocalization.pagerfirstbuttonstring),a.attr("title",r.gridlocalization.pagerlastbuttonstring)):(a.attr("title",r.gridlocalization.pagerfirstbuttonstring),n.attr("title",r.gridlocalization.pagerlastbuttonstring)),(u=X("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>")).addClass(r.toThemeProperty("jqx-icon-arrow-first")),a.wrapInner(u),(g=X("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>")).addClass(r.toThemeProperty("jqx-icon-arrow-last")),n.wrapInner(g),r.rtl?(e.append(n),e.append(o),e.append(c),e.append(l),e.append(a)):(e.append(a),e.append(l),e.append(c),e.append(o),e.append(n)),n.jqxButton({cursor:"pointer",disabled:r.disabled,theme:r.theme}),a.jqxButton({cursor:"pointer",disabled:r.disabled,theme:r.theme}),p=r.rtl?"right":"left",c.css("float",p),n.css("float",p),a.css("float",p),o.css("float",p),l.css("float",p),d.css("float",r.rtl?"left":"right"),r.rtl?(d.css("margin-left","7px"),d.css("margin-right","0px")):(d.css("margin-left","0px"),d.css("margin-right","7px"))):r.rtl||(e.append(o),e.append(l)),o.jqxButton({cursor:"pointer",disabled:r.disabled,theme:r.theme}),l.jqxButton({cursor:"pointer",disabled:r.disabled,theme:r.theme});var m=X("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");m.addClass(r.toThemeProperty("jqx-icon-arrow-left")),l.wrapInner(m);var w=X("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");if(w.addClass(r.toThemeProperty("jqx-icon-arrow-right")),o.wrapInner(w),r.rtl||e.append(d),"default"!=r.pagerMode){r.rtl?(e.append(s),e.append(i),e.append(h),e.append(f),e.append(d),e.append(o),e.append(l)):(e.append(f),e.append(h),e.append(i),e.append(s));var v=r.pageSizeOptions;f.jqxDropDownList({_checkForHiddenParent:!1,rtl:r.rtl,disabled:r.disabled,source:v,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:28,theme:r.theme});for(var y=0,x=0;x<v.length;x++)this.pageSize>=v[x]&&(y=x);s[0].innerHTML=b,f.jqxDropDownList({selectedIndex:y});s=i.find("input");s.addClass(r.toThemeProperty("jqx-input")),s.addClass(r.toThemeProperty("jqx-widget-content")),this.rtl&&s.css("direction","rtl");r=this;this.removeHandler(f,"select"),this.addHandler(f,"select",function(e){var t,i;e.args&&(r.vScrollInstance&&r.vScrollInstance.setPosition(0),t=e.args.index,r.pagershowrowscombotop.data().jqxDropDownList.instance.selectIndex(t),r.pagershowrowscombobottom.data().jqxDropDownList.instance.selectIndex(t),r.pagershowrowscombobottom.data().jqxDropDownList.instance.renderSelection("mouse"),r.pagershowrowscombotop.data().jqxDropDownList.instance.renderSelection("mouse"),i=r.dataview.pagenum*r.dataview.pagesize,e=v[t],t=r.pageSize,r.pageSize=parseInt(e),isNaN(r.pageSize)&&(r.pageSize=10),100<=e?(r.pagershowrowscombotop.jqxDropDownList({width:55}),r.pagershowrowscombobottom.jqxDropDownList({width:55})):(r.pagershowrowscombotop.jqxDropDownList({width:44}),r.pagershowrowscombobottom.jqxDropDownList({width:44})),r.dataview.pagesize=r.pageSize,(i=Math.floor(i/r.dataview.pagesize))===r.dataview.pagenum&&parseInt(e)===parseInt(t)||(r._raiseEvent("pageSizeChanged",{pagenum:i,oldpageSize:t,pageSize:r.dataview.pagesize}),r.goToPage(i)||(r.serverProcessing?r.updateBoundData("pager"):r.refresh())))}),(i=i.find("input")).addClass(r.toThemeProperty("jqx-grid-pager-input")),i.addClass(r.toThemeProperty("jqx-rc-all")),this.removeHandler(i,"keydown"),this.removeHandler(i,"change"),r.addHandler(i,"keydown",function(e){if(65<=e.keyCode&&e.keyCode<=90)return!1;if("13"==e.keyCode){e=i.val(),e=parseInt(e);return isNaN(e)||r.goToPage(e-1),!1}}),r.addHandler(i,"change",function(){var e=i.val(),e=parseInt(e);isNaN(e)||r.goToPage(e-1)})}h[0].innerHTML=_,r.addHandler(o,"mouseenter",function(){w.addClass(r.toThemeProperty("jqx-icon-arrow-right-hover"))}),r.addHandler(l,"mouseenter",function(){m.addClass(r.toThemeProperty("jqx-icon-arrow-left-hover"))}),r.addHandler(o,"mouseleave",function(){w.removeClass(r.toThemeProperty("jqx-icon-arrow-right-hover"))}),r.addHandler(l,"mouseleave",function(){m.removeClass(r.toThemeProperty("jqx-icon-arrow-left-hover"))}),r.addHandler(o,"mousedown",function(){w.addClass(r.toThemeProperty("jqx-icon-arrow-right-selected"))}),r.addHandler(o,"mouseup",function(){w.removeClass(r.toThemeProperty("jqx-icon-arrow-right-selected"))}),r.addHandler(l,"mousedown",function(){m.addClass(r.toThemeProperty("jqx-icon-arrow-left-selected"))}),r.addHandler(l,"mouseup",function(){m.removeClass(r.toThemeProperty("jqx-icon-arrow-left-selected"))}),"default"===r.pagerMode&&(r.addHandler(n,"mouseenter",function(){g.addClass(r.toThemeProperty("jqx-icon-arrow-last-hover"))}),r.addHandler(a,"mouseenter",function(){u.addClass(r.toThemeProperty("jqx-icon-arrow-first-hover"))}),r.addHandler(n,"mouseleave",function(){g.removeClass(r.toThemeProperty("jqx-icon-arrow-last-hover"))}),r.addHandler(a,"mouseleave",function(){u.removeClass(r.toThemeProperty("jqx-icon-arrow-first-hover"))}),r.addHandler(n,"mousedown",function(){g.addClass(r.toThemeProperty("jqx-icon-arrow-last-selected"))}),r.addHandler(a,"mousedown",function(){u.addClass(r.toThemeProperty("jqx-icon-arrow-first-selected"))}),r.addHandler(n,"mouseup",function(){g.removeClass(r.toThemeProperty("jqx-icon-arrow-last-selected"))}),r.addHandler(a,"mouseup",function(){u.removeClass(r.toThemeProperty("jqx-icon-arrow-first-selected"))})),r.addHandler(X(document),"mouseup.pagerbuttons"+t+this.element.id,function(){w.removeClass(r.toThemeProperty("jqx-icon-arrow-right-selected")),m.removeClass(r.toThemeProperty("jqx-icon-arrow-left-selected")),g&&(g.removeClass(r.toThemeProperty("jqx-icon-arrow-last-selected")),u.removeClass(r.toThemeProperty("jqx-icon-arrow-first-selected")))}),r.addHandler(o,"click",function(){o.jqxButton("disabled")||(r.rtl?r.goToPrevPage():r.goToNextPage())}),r.addHandler(l,"click",function(){l.jqxButton("disabled")||(r.rtl?r.goToNextPage():r.goToPrevPage())}),"default"===this.pagerMode&&(r.addHandler(a,"click",function(){var e;a.jqxButton("disabled")||(r.rtl?(e=r.dataview.totalrecords,e=Math.ceil(e/r.pageSize),r.goToPage(e-1)):r.goToPage(0))}),r.addHandler(n,"click",function(){var e;n.jqxButton("disabled")||(r.rtl?r.goToPage(0):(e=r.dataview.totalrecords,e=Math.ceil(e/r.pageSize),r.goToPage(e-1)))}))},this.pagerdiv.children().remove(),this.toppagerdiv.children().remove(),t.call(this,this.pagerdiv,"bottom"),t.call(this,this.toppagerdiv,"top"),this.pager.append(this.pagerdiv),this.toppager.append(this.toppagerdiv),this.updatepagerdetails())},_updatepagertheme:function(){},goToPage:function(e,t){if(this._loading)return!1;if(null!=this.editKey){if(!this.editSettings.saveOnPageChange)return!1;if(!this.endroweditbykey(this.editKey))return!1}if(null!=e&&null!=e||(e=0),-1==e&&(e=0),e<0)return!1;var i=this.dataview.totalrecords,r=this.dataview.pagenum,i=Math.ceil(i/this.pageSize);return i<=e&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),0<e&&(e=i-1)),this.dataview.pagenum!=e&&(this.pageable&&(this.dataview.pagenum=e,this._raiseEvent("pageChanged",{pagenum:e,oldpagenum:r,pageSize:this.dataview.pagesize})),this.serverProcessing?this.updateBoundData("pager",t):(this.refresh(),t&&X.isFunction(t)&&t()),!0)},goToPrevPage:function(e){if(0<this.dataview.pagenum)return this.goToPage(this.dataview.pagenum-1,e);if("default"==this.pagerMode||"advanced"==this.pagerMode)return!1;var t=this.dataview.totalrecords,t=Math.ceil(t/this.pageSize);return this.goToPage(t-1,e)},goToNextPage:function(e){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);t=Math.ceil(t/this.pageSize);return this.dataview.pagenum<t-1?this.goToPage(this.dataview.pagenum+1,e):"default"!=this.pagerMode&&"advanced"!=this.pagerMode&&this.goToPage(0,e)},updatepagerdetails:function(){if(this.pageable){var r,s,o,l=this;this.serverProcessing||(this.source.hierarchy?(r=l._names(),(o=function(e,t){for(var i=0;i<t.length;i++)0==l.dataview.filters.length&&(t[i]._visible=!0),!1!==t[i]._visible&&s++,l.treeGrid&&"root"==l.treeGrid.pageSizeMode||t[i].records&&(t[i][r.expanded]||t[i][r.leaf])&&!1!==t[i]._visible&&(o(e+1,t[i].records),l.treeGrid&&X(l.treeGrid).jqxTreeGrid("showSubAggregates")&&0!=e&&s--)})(s=0,this.dataview.rows),this.dataview.totalrecords=s):this.dataview.totalrecords=this.dataview.rows.length);var e=this.dataview.pagenum*this.pageSize,t=(this.dataview.pagenum+1)*this.pageSize;t>=this.dataview.totalrecords&&(t=this.dataview.totalrecords);var i=this.dataview.totalrecords;e++;var a=Math.ceil(i/this.dataview.pagesize);if(1<=a&&a--,a++,"root"==this.pageSizeMode&&(1<=(a=Math.ceil(this.rootRecordsLength/this.dataview.pagesize))&&a--,a++,i=this.rootRecordsLength,this.dataview.totalrecords=this.rootRecordsLength),"default"!=this.pagerMode)this.pagergotoinputbottom&&((p=this.pagergotoinputbottom.find("input")).val(this.dataview.pagenum+1),p.attr("title","1 - "+a),(p=this.pagergotoinputtop.find("input")).val(this.dataview.pagenum+1),p.attr("title","1 - "+a));else{var n="",d=this.pagerButtonsCount;0!=d&&d||(d=5);var h=0;for(this.rtl&&(h=d-1);this.rtl&&0<=h||!this.rtl&&h<d;){var c=1+h,u=this.dataview.pagenum/d;c+=Math.floor(u)*d;u=this.toTP("jqx-grid-pager-number");if(u+=" "+this.toTP("jqx-rc-all"),a<c&&!this.rtl)break;this.rtl&&a<c?h--:(this.rtl||0==h&&d<c&&(n+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+(-1+c)+"'>...</a>"),this.dataview.pagenum===c-1&&(u+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl?(h===d-1&&(u=this.toTP("jqx-grid-pager-number"),u+=" "+this.toTP("jqx-rc-all"),1+c<=a&&(n+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+(1+c)+"'>...</a>")),this.dataview.pagenum===c-1&&(u+=" "+this.toTP("jqx-fill-state-pressed")),n+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+c+"'>"+c+"</a>"):(n+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+c+"'>"+c+"</a>",h===d-1&&(u=this.toTP("jqx-grid-pager-number"),u+=" "+this.toTP("jqx-rc-all"),1+c<=a&&(n+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+(1+c)+"'>...</a>"))),this.rtl&&(u=this.toTP("jqx-grid-pager-number"),u+=" "+this.toTP("jqx-rc-all"),0==h&&d<c&&(n+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+(-1+c)+"'>...</a>")),this.rtl?h--:h++)}if(!this.pagerbuttonsbottom)return;var g=this.pagerbuttonsbottom.find("a");this.removeHandler(g,"click"),this.removeHandler(g,"mouseenter"),this.removeHandler(g,"mouseleave");g=this.pagerbuttonstop.find("a");this.removeHandler(g,"click"),this.removeHandler(g,"mouseenter"),this.removeHandler(g,"mouseleave"),this.pagerbuttonsbottom[0].innerHTML=n,this.pagerbuttonstop[0].innerHTML=n,this.disabled&&this.host.find(".jqx-grid-pager-number").css("cursor","default");var p=function(){g.click(function(e){l.disabled||(e=X(e.target).attr("data-page"),l.goToPage(parseInt(e)-1))}),g.mouseenter(function(e){l.disabled||X(e.target).addClass(l.toTP("jqx-fill-state-hover"))}),g.mouseleave(function(e){l.disabled||X(e.target).removeClass(l.toTP("jqx-fill-state-hover"))})};"both"!==this.pagerPosition&&"bottom"!==this.pagerPosition||(g=this.pagerbuttonsbottom.find("a"),p()),"both"!==this.pagerPosition&&"top"!==this.pagerPosition||(g=this.pagerbuttonstop.find("a"),p())}0==t&&t<e&&(e=0),this.pagerdetailsbottom&&(this.rtl?(this.pagerdetailsbottom[0].innerHTML=i+this.gridlocalization.pagerrangestring+t+"-"+e,this.pagerdetailstop[0].innerHTML=i+this.gridlocalization.pagerrangestring+t+"-"+e):(this.pagerdetailsbottom[0].innerHTML=e+"-"+t+this.gridlocalization.pagerrangestring+i,this.pagerdetailstop[0].innerHTML=e+"-"+t+this.gridlocalization.pagerrangestring+i)),"default"==this.pagerMode&&(i=this.pagerbuttonsbottom.width()+X(this.pagerdetailsbottom).width()+160,this.pagerdiv.css("min-width",i),this.toppagerdiv.css("min-width",i)),t<e&&this.goToPrevPage()}},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var r=this,t=0;t<this.columnGroups.length;t++)this.columnGroups[t].parent=null,this.columnGroups[t].groups=null;for(t=0;t<this.columns.records.length;t++)this.columns.records[t].parent=null,this.columns.records[t].groups=null;function i(e){for(var t=0;t<r.columnGroups.length;t++){var i=r.columnGroups[t];if(i.name===e)return i}return null}for(t=0;t<this.columnGroups.length;t++)(d=this.columnGroups[t]).groups||(d.groups=null),d.parentGroup&&(d.parentgroup=d.parentGroup),d.parentgroup&&(s=i(d.parentgroup))&&((d.parent=s).groups||(s.groups=new Array),-1===s.groups.indexOf(d)&&s.groups.push(d));for(var s,t=0;t<this.columns.records.length;t++)(d=this.columns.records[t]).columngroup&&(s=i(d.columngroup))&&(s.groups||(s.groups=new Array),-1===(d.parent=s).groups.indexOf(d)&&s.groups.push(d));for(var o=0,t=0;t<this.columns.records.length;t++){var l=d=this.columns.records[t];for(d.level=0;l.parent;)l=l.parent,d.level++;for(var l=d,a=d.level,o=Math.max(o,d.level);l.parent;)(l=l.parent)&&(l.level=--a)}for(var n=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var r=n(e.groups[i]),s=0;s<r.length;s++)t.push(r[s]);return t},t=0;t<this.columnGroups.length;t++){var d=this.columnGroups[t],h=n(d);d.columns=h;for(var c=new Array,u=0,g=0;g<h.length;g++)c.push(this.columns.records.indexOf(h[g])),h[g].pinned&&u++;if(0!=u)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:t<e?1:0});for(var p=1;p<c.length;p++)if(c[p]!=c[p-1]+1)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+o,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){if(t.autoheight&&"hidden"==t.hScrollBar.css("visibility"))return e.returnValue=!0;var i=0;if((e=e||window.event).originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){i=t._handleDelta(i);return i&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!i&&(i=!1,e.returnValue=!1)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;if(e<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){t=this.hScrollInstance.value;if(0<e?20<this.hScrollInstance.value?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max),t!=this.hScrollInstance.value)return!0}return!1},_removeHandlers:function(){this.removeHandler(this.host,"focus"),this.removeHandler(X(window),"jqxReady."+this.element.id),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);var e="mousedown";this.isTouchDevice()&&(e=X.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.host,"dragstart."+this.element.id),this.removeHandler(this.host,"keydown"),this.table&&(this.removeHandler(this.table,"mouseleave"),this.removeHandler(this.table,"mousemove"),this.removeHandler(this.table,e),this.removeHandler(this.table,"selectstart."+this.element.id),X.jqx.browser.msie&&X.jqx.browser.version<9&&this.removeHandler(this.table,"dblclick"))},_addHandlers:function(){var f=this;this._mousewheelfunc=this._mousewheelfunc||function(e){return f.wheel(e,f),!1},this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.table,"selectstart."+this.element.id,function(e){return!!f.enableBrowserSelection||(!(!f.filterable||!X(e.target).ischildof(f.filterrow))||(!!(f.rowDetails&&0<X(e.target).parents("[data-role=details]").length)||null!=f.editKey&&void 0))}),this.addHandler(X(window),"jqxReady."+this.element.id,function(){f._updatecolumnwidths(),f.refresh()}),this.editable&&this.addHandler(X(document),"mousedown.gridedit"+this.element.id,function(r){if(f.editable&&f.editSettings.saveOnBlur&&null!=f.editKey&&!f.vScrollInstance.isScrolling()&&!f.vScrollInstance.isScrolling()){var e=f.host.coord(),t=f.host.width(),i=f.host.height(),s=!1,o=!1;if((r.pageY<e.top||r.pageY>e.top+i)&&(o=s=!0),(r.pageX<e.left||r.pageX>e.left+t)&&(s=!0),s){var l=f._editors;if(l)for(var a=0;a<l.length;a++){var n=l[a].editor,d=function(e){var t=X(e.children()[0]).data();if(t&&!t.jqxWidget&&(t=e.data()),(t=t||e.data()).jqxWidget&&t.jqxWidget.container&&"block"==t.jqxWidget.container[0].style.display){var i=t.jqxWidget,e=i.container.coord().top,t=i.container.coord().top+i.container.height();return!(!o||!(r.pageY<e||r.pageY>t))&&(s=!0,i.close(),!0)}}(n),h=n.attr("aria-owns");if(h){if(h==document.activeElement.id)return!0;if(X(document.activeElement).ischildof(X("#"+h)))return!0}else if(h=n.children().attr("aria-owns")){if(h==document.activeElement.id)return!0;if(X(document.activeElement).ischildof(X("#"+h)))return!0}if(!1===d)return}}s&&f.endroweditbykey(f.editKey)}}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"focus",function(e){e.preventDefault});var t=this.isTouchDevice();this.vScrollInstance.valueChanged=function(e){f._timer&&clearTimeout(f._timer),t?f.table&&(f.table[0].style.top=0-f.vScrollInstance.value+"px"):f._timer=setTimeout(function(){f.table&&(f.table[0].style.top=0-f.vScrollInstance.value+"px")},5)},this.hScrollInstance.valueChanged=function(e){f._timer&&clearTimeout(f._timer),t?f.table&&f._renderhorizontalscroll():f._timer=setTimeout(function(){f.table&&f._renderhorizontalscroll()},5)};var e="mousedown";this.isTouchDevice()&&(e=X.jqx.mobile.getTouchEventName("touchend"),X.jqx.browser.msie&&X.jqx.browser.version<10&&(e="mousedown"));function u(e,t){for(var i=null,r=f._table.coord(),s=r.top,o=r.left,l=f._table[0].rows,a=0;a<l.length;a++)for(var n=l[a].cells,d=0;d<n.length;d++){var h=n[d],c=h.offsetLeft+o,u=h.offsetTop+s,g=h.offsetWidth,p=h.offsetHeight;if(0!==g&&0!==p){if(!(u<=t&&t<u+p))break;if(c<=e&&e<c+g){i=h;break}}}return i}function i(){var e,t;f.hoveredRow&&((t=function(e){for(var t=0;t<e.length;t++){var i=e[t],r=i.className;r=(r=r.replace(" "+f.toTP("jqx-fill-state-hover"),"")).replace(" "+f.toTP("jqx-grid-cell-hover"),""),i.className=r}})(e=f.hoveredRow[0].cells),f._pinnedTable&&0<e.length&&t(f._pinnedTable[0].rows[f.hoveredRow[0].rowIndex].cells)),f.hoveredRow=null}this.addHandler(this.table,"mouseleave",function(e){i(),f.wrapper&&(f.wrapper.parent().removeAttr("tabindex",0),f.wrapper.removeAttr("tabindex",1),f.content.removeAttr("tabindex",2))});function g(e){if(!f.enableHover)return 1;if(!(f.hoveredRow=e))return 1;var t=e[0].cells,e=f.rowDetails&&!f.treeGrid&&!f.treeGrid?1:0,i=0;0<e&&f.rtl&&(e=0,i=1);for(var r=e;r<t.length-i;r++)t[r].className+=" "+f.toTP("jqx-fill-state-hover")+" "+f.toTP("jqx-grid-cell-hover");if(f._pinnedTable&&f._pinnedTable[0].rows.length)for(var s=f._pinnedTable[0].rows[f.hoveredRow[0].rowIndex].cells,r=e;r<s.length-i;r++)s[r].className+=" "+f.toTP("jqx-fill-state-hover")+" "+f.toTP("jqx-grid-cell-hover")}f.isTouchDevice()&&(f.enableHover=!1),this.addHandler(this.table,"mousemove",function(e){var t=e.pageX,e=e.pageY;if(f.disabled)return!0;if(!f.enableHover)return!0;if(f.hScrollInstance.isScrolling()||f.vScrollInstance.isScrolling())return!0;e=u(t,e);if(!e)return!0;e=X(e).parent();return i(),f.rowDetails&&f.treeGrid&&"row-details"==e.attr("data-role")||f.renderedRecords&&0===f.renderedRecords.length||null!=f.editKey&&f.editKey===e.attr("data-key")||g(e),!0}),this.addHandler(this.host,"keydown",function(e){return f._handleKey(e)}),X.jqx.browser.msie&&X.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){f.table.trigger("mousedown",e)}),this.addHandler(this.table,e,function(e){e.target;var t=null;if(f.disabled)return!0;if(!(f.touchmode&&e.originalEvent&&e.originalEvent._pageX)){f.table.coord();var i=e.pageX,r=e.pageY;X.jqx.browser.msie&&X.jqx.browser.version<9&&arguments&&2==arguments.length&&(i=arguments[1].pageX,r=arguments[1].pageY),f.isTouchDevice()&&(i=(d=X.jqx.position(e)).left,r=d.top,(isNaN(i)||isNaN(r))&&(i=(d=X.jqx.position(e.originalEvent)).left,r=d.top)),t=u(i,r);var s=X(t).parent(),o=s.attr("data-key");if(f.rowDetails&&f.treeGrid&&"row-details"==s.attr("data-role"))return!0;function l(){f.enableBrowserSelection||(e.preventDefault&&e.preventDefault(),e.stopPropagation()),f.host.focus()}if(void 0!==o){var a=X(t).index(),n=f.columns.records[a];if(o==f.editKey){if(!f.editSettings.editSingleCell)return!0;if(f.clickedTD==t)return!0;if(null!=f.editKey&&f.editSettings.saveOnSelectionChange&&!f.endroweditbykey(f.editKey))return!0}else if(null!=f.editKey&&f.editSettings.saveOnSelectionChange)if(!f.endroweditbykey(f.editKey))return!0;if(f.clickedTD=t,(c=f.rowinfo[o])&&c.group)return!0;var d,h=!1;if(c&&(d=f.getrowdisplayindex(c.row),i=f.getrowindex(c.row),f._raiseEvent("rowClick",{index:d,boundIndex:i,key:o,row:c.row,originalEvent:e,dataField:n.datafield}),r=(new Date).getTime(),f.clickTime||(f.clickTime=new Date),f._lastSelectedKey==o&&r-f.clickTime.getTime()<300&&(f._raiseEvent("rowDoubleClick",{index:d,boundIndex:i,key:o,row:c.row,originalEvent:e,dataField:n.datafield}),h=!0,e.preventDefault&&e.preventDefault())),f.clickTime=new Date,0<=t.className.indexOf("jqx-grid-group"))c.expanded?f.hidedetailsbykey(o):f.showdetailsbykey(o);else if(e.target&&e.target.className.indexOf&&0<=e.target.className.indexOf("jqx-grid-group")&&f.treeGrid)c.expanded?f.treeGrid.collapseRow(o):f.treeGrid.expandRow(o),g(f._getuirow(o)),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault();else{if(!(e.target&&e.target.className.indexOf&&0<=e.target.className.indexOf("checkbox")&&f.treeGrid)){a=X(t).index(),n=f.columns.records[a];if(e.stopPropagation&&e.stopPropagation(),f.editable&&null==f.editKey&&f._lastSelectedKey==o&&f.editSettings.editOnDoubleClick&&h){f.beginroweditbykey(o,n);return!0}if(f.isTouchDevice()&&f.scrolled&&new Date-f.scrolled<500)return f.enableBrowserSelection||e.preventDefault&&e.preventDefault(),!1;if("singlerow"===f.selectionMode&&"custom"!==f.selectionMode)return f.selectrowbykey(o,"mouse",!1),f._lastSelectedKey=o,f._updateSelection(),e.preventDefault&&e.preventDefault(),l(),!0;if("custom"!==f.selectionMode&&(e.ctrlKey||e.metaKey||f.clearSelection(!1),e.shiftKey&&f._lastSelectedKey)){var c=f.rowinfo[f._lastSelectedKey];f._doSelection(f._lastSelectedKey,!0,!1);n=X(f._table.children()[1]).children("[data-key="+f._lastSelectedKey+"]").index(),s=s.index();return f._selectRange(s,n),f.selectrowbykey(o,"mouse",!1),f._updateSelection(),e.preventDefault&&e.preventDefault(),l(),!0}return f._lastSelectedKey=o,f.clickTime=new Date,"custom"===f.selectionMode||(c&&(c.selected?f.unselectrowbykey(o,"mouse",!1):f.selectrowbykey(o,"mouse",!1),l()),f._updateSelection(),f.enableBrowserSelection||e.preventDefault&&e.preventDefault()),!0}c.checked?f.treeGrid.uncheckRow(o):f.treeGrid.checkRow(o),g(f._getuirow(o)),e.stopPropagation&&e.stopPropagation()}}}})},_updateSelection:function(){var e=this,t=X(e._table.children()[1]).children(),i=e._pinnedTable?X(e._pinnedTable.children()[1]).children():null,r=e.rowDetails&&!e.treeGrid?1:0,s=0;0<r&&e.rtl&&(r=0,s=1);for(var o=0;o<t.length;o++){var l,a=t[o].cells;i&&(l=i[o].cells);var n=null;if(t[o].getAttribute&&(n=t[o].getAttribute("data-key")),e.rowinfo[n]&&"none"!==e.selectionMode)if(e.rowinfo[n].selected)for(var d=r;d<a.length-s;d++){var h=a[d];X(h).addClass(e.toTP("jqx-grid-cell-selected")+" "+e.toTP("jqx-fill-state-pressed")),l&&X(l[d]).addClass(e.toTP("jqx-grid-cell-selected")+" "+e.toTP("jqx-fill-state-pressed"))}else for(d=r;d<a.length-s;d++){var c,h=a[d];l&&(c=l[d]);var u=h.className;u=(u=(u=(u=u.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+e.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+e.theme,""),h.className=u,c&&(c.className=u)}}},_selectRange:function(e,t){var i=X(X(this._table.children()[1]).children()[t]);if(t<e)for(var r=t,s=i;r<e;){var o=(s=s.next()).attr("data-key");this._doSelection(o,!0,!1),r++}else if(e<t)for(r=t,s=i;e<r;){o=(s=s.prev()).attr("data-key");this._doSelection(o,!0,!1),r--}},_getuikey:function(e,t){var i=null,r=X(this._table.children()[1]).children(),i=X(r[e]).attr("data-key");if(X(r[e]).attr("data-role")){var s=X(r[e]);if("next"==t)for(;s;){s=s.next();if(s)if(!s.attr("data-role"))return i=s.attr("data-key")}else if("prev"==t)for(;s;)if(s=s.prev(),s)if(!s.attr("data-role"))return i=s.attr("data-key");return null}return i},getRows:function(){return this.source.records},getView:function(){var s=this,o=this._names(),e=new Array,l=function(e,t){if(t)for(var i,r=0;r<t.length;r++)t[r]&&!1!==t[r]._visible&&(i=X.extend({},t[r]),e.push(i),(t[r][o.expanded]||0<s.dataview.filters.length)&&(i.records=new Array,l(i.records,t[r].records)))};return l(e,this.dataViewRecords),e},getKeys:function(){for(var e=new Array,t=this.source.records,i=0;i<t.length;i++)e.push(t[i].uid);return e},getKey:function(e){var t=this.getRows();return t?t[e].uid:-1},_getkey:function(l){if(this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);function e(){var e=X(this._table.children()[1]).children(),t=null,i=0;if(this.pageable&&(i-=this.dataview.pagenum*this.dataview.pagesize),0<this.groups.length){for(var r=0,s=0;s<e.length;s++){var o=X(e[s]);if(!(0<o.children()[0].getAttribute("colspan"))){if(r===i+l)return t=o.attr("data-key");r++}}return t}if(this.rowDetails)for(s=r=0;s<e.length;s++){if(r===l+i)return t=X(e[s]).attr("data-key");s%2==1&&r++}else t=X(e[i+l]).attr("data-key");return t}var t=null,t=e.call(this);if(null==t&&this.pageable){var i=Math.floor(l/this.dataview.pagesize);if(this.dataview.pagenum!=i){var r=this.getRows()[l];if(r&&null!=r.uid)return r.uid;if(isNaN(i))return null;this.goToPage(i),t=e.call(this)}}return t},_getuirow:function(t){try{var e=X(this._table.children()[1]).children("[data-key="+t+"]");if(0<e.length)return e}catch(e){for(var i=X(this._table.children()[1]).children(),r=0;r<i.length;r++){var s=i[r];if(t==s.getAttribute("data-key"))return X(s)}return null}return null},_getpinneduirow:function(t){if(!this._pinnedTable)return null;try{var e=X(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(0<e.length)return e}catch(e){for(var i=X(this._pinnedTable.children()[1]).children(),r=0;r<i.length;r++){var s=i[r];if(t==s.getAttribute("data-key"))return X(s)}return null}return null},_names:function(){var e={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};if(!this.source||this.source&&!this.source._source.hierarchy)return e;var t=this.source._source.hierarchy.reservedNames;return t||e},_getMatches:function(i,e){if(null==i||0==i.length)return-1;var t=this.renderedRecords;null!=e&&(t=t.slice(e));var r,e=0;this.rowDetails&&!this.treeGrid&&e++,e<this.columns.records.length?r=this.columns.records[e].datafield:new Array;var s=new Array;return X.each(t,function(e){var t=(t=this[r])||"";X.jqx.string.startsWithIgnoreCase(t.toString(),i)&&s.push(this.uid)}),s},_handleKey:function(e){if(this._loading)return!0;if(X(e.target).ischildof(this.filter))return!0;if(X(e.target).ischildof(this.toolbar))return!0;if(X(e.target).ischildof(this.statusbar))return!0;var t=this._names(),s=this,i=e.charCode||e.keyCode||0,r=this._lastSelectedKey,o=(this.rowinfo[r],this._getuirow(r)),l=e.shiftKey&&"singlerow"!=this.selectionMode,a=e.ctrlKey||e.metaKey;if(o){if(this.handleKeyboardNavigation)if(this.handleKeyboardNavigation(i))return!0;if(this.editable&&null==this.editKey&&113===i&&this.editSettings.editOnF2&&this.beginroweditbykey(o.attr("data-key")),null==this.editKey&&!a&&!l&&this.incrementalSearch&&!(33<=i&&i<=40)){this._searchString||(this._searchString=""),(8==i||46==i)&&1<=this._searchString.length&&(this._searchString=this._searchString.substr(0,this._searchString.length-1));var n,d=String.fromCharCode(i),h=!isNaN(parseInt(d));if(65<=i&&i<=97||h||8==i||32==i||46==i){if(e.shiftKey||(d=d.toLocaleLowerCase()),8!=i&&32!=i&&46!=i&&(0<this._searchString.length&&this._searchString.substr(0,1)==d||(this._searchString+=d)),32==i&&(this._searchString+=" "),this._searchTime=new Date,1<=(r=this.getSelection()).length){for(var c=r[0].uid,u=-1,g=0;g<this.renderedRecords.length;g++)if(this.renderedRecords[g].uid==c){u=g;break}(0==(p=this._getMatches(this._searchString,u)).length||0<p.length&&p[0]==c)&&(p=this._getMatches(this._searchString))}else var p=this._getMatches(this._searchString);0<p.length&&(!(1<=(r=this.getSelection()).length)||-1==(n=p.indexOf(r[0].uid))?(this.clearSelection(!1),this.selectrowbykey(p[0])):((f=n+1)>=p.length&&(f=0),this.clearSelection(!1),this.selectrowbykey(p[f])),this._lastSearchString=this._searchString)}null!=this._searchTimer&&clearTimeout(this._searchTimer),27!=i&&13!=i||(this._searchString="",this._lastSearchString=""),this._searchTimer=setTimeout(function(){s._searchString="",s._lastSearchString=""},500)}if(null!=this.editKey){if(27===i&&this.editSettings.cancelOnEsc)this.endroweditbykey(this.editKey,!0);else if(13===i&&this.editSettings.saveOnEnter){if(e.target&&"div"!=e.target.nodeName.toLowerCase()&&"input"!=e.target.nodeName.toLowerCase())return!0;this.endroweditbykey(this.editKey,!1)}else if(this.editSettings.editSingleCell&&this.editColumn){var f=this.columns.records.indexOf(this.editColumn);if(9==i&&f<this.columns.records.length-1&&!e.shiftKey){for(var m=this.editKey,w=null,g=f+1;g<this.columns.records.length;g++)if(this.columns.records[g].editable&&!this.columns.records[g].hidden){w=this.columns.records[g];break}w&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(m,w))}else if(9==i&&e.shiftKey&&0<f){for(var m=this.editKey,v=null,g=f-1;0<=g;g--)if(this.columns.records[g].editable&&!this.columns.records[g].hidden){v=this.columns.records[g];break}v&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(m,v))}if(9==i){var y=this.rowinfo[this.editKey],u=this.getrowindex(y),o=this._getuirow(this.editKey);if(e.shiftKey||w){if(!v&&e.shiftKey){for(x=null,g=this.columns.records.length-1;0<=g;g--)if(this.columns.records[g].editable&&!this.columns.records[g].hidden){x=this.columns.records[g];break}if(x){for(;o;)if(o=o.prev(),o)if(!o.attr("data-role")){b=o.attr("data-key");break}b&&(this.clearSelection(!1),this._lastSelectedKey=b,y=this.rowsByKey[b],u=this.getrowindex(y),D=this.getrowdisplayindex(y),this._raiseEvent("rowSelect",{key:b,index:D,boundIndex:u,row:this.rowsByKey[b]}),this.endroweditbykey(this.editKey,!1),this._doSelection(b,!0,!0),this.beginroweditbykey(b,x))}}}else{for(var x=null,g=0;g<this.columns.records.length;g++)if(this.columns.records[g].editable&&!this.columns.records[g].hidden){x=this.columns.records[g];break}if(x){for(;o;)if(o=o.next(),o)if(!o.attr("data-role")){var b=o.attr("data-key");break}b&&(this.clearSelection(!1),this._lastSelectedKey=b,y=this.rowsByKey[b],u=this.getrowindex(y),D=this.getrowdisplayindex(y),this._raiseEvent("rowSelect",{key:b,index:D,boundIndex:u,row:this.rowsByKey[b]}),this.endroweditbykey(this.editKey,!1)?(this._doSelection(b,!0,!0),this.beginroweditbykey(b,x)):this.beginroweditbykey(this.editKey,x))}}return!1}}return!0}if(e.ctrlKey||e.metaKey){var _=String.fromCharCode(i).toLowerCase();if("c"==_||"x"==_)if(1<=(r=this.getSelection()).length){for(var j,q="",S=0;S<this.renderedRecords.length;S++)for(var T=this.renderedRecords[S],g=0;g<r.length;g++)if((y=r[g]).uid===T.uid){for(var C=0;C<this.columns.records.length;C++)q+=this.getCellTextByKey(y.uid,this.columns.records[C].displayfield),C<this.columns.records.length-1&&(q+="\t");q+="\r\n";break}""!=q&&(q=q.substring(0,q.length-1)),window.clipboardData?window.clipboardData.setData("Text",q):((j=X('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>')).val(q),X("body").append(j),j.select(),setTimeout(function(){document.designMode="off",j.select(),j.remove()},100))}}if(32===i&&this.treeGrid&&this.treeGrid.checkboxes){if(1<(r=this.getSelection()).length){for(g=0;g<r.length;g++){var P=r[g].uid;this.rowinfo[P].checked?this.treeGrid.uncheckRow(P,!1):this.treeGrid.checkRow(P,!1)}return this._renderrows(),!1}if(c=o.attr("data-key"))return this.rowinfo[c].checked?this.treeGrid.uncheckRow(c):this.treeGrid.checkRow(c),!1}function z(e){var t=null,i=X(s._table.children()[1]).children().length-1;if((r=X(X(s._table.children()[1]).children()[i])).attr("data-role"))for(;r;){var r=r.prev();if(r)if(!r.attr("data-role")){t=r.attr("data-key");break}}else t=r.attr("data-key");return"all"==e?{row:r,key:t}:t}function H(e){var t=null;if((i=X(X(s._table.children()[1]).children()[0])).attr("data-role"))for(;i;){var i=i.next();if(i)if(!i.attr("data-role")){t=i.attr("data-key");break}}else t=i.attr("data-key");return"all"==e?{row:i,key:t}:t}var B=o.index(),c=null,_=function(){a||l||s.clearSelection(!1),33==i||37==i?(t=B,c=(c=s._getuikey(t,"prev"))||H()):34==i||39==i?(t=B,c=(c=s._getuikey(t,"next"))||z()):38==i?c=z():40==i&&(c=H()),s._lastSelectedKey=c;var e=s.rowsByKey[c],t=s.getrowindex(e),e=s.getrowdisplayindex(e);s._raiseEvent("rowSelect",{key:c,index:e,boundIndex:t,row:s.rowsByKey[c]}),s._doSelection(c,!0,!0),s.host.focus()};if(this.treeGrid&&this.rtl&&(37==i?i=39:39==i&&(i=37)),36==i||a&&38==i)return function(){s.clearSelection(!1);var e=H();l||a?s._selectRange(o.index(),0):s._lastSelectedKey=e,s.selectrowbykey(e,"keyboard")}(),!1;if(35==i||a&&40==i)return function(){s.clearSelection(!1);var e=z("all"),t=e.key;l||a?s._selectRange(o.index(),e.row.index()):s._lastSelectedKey=t,s.selectrowbykey(t,"keyboard")}(),!1;if(33==i||37==i){c=o.attr("data-key");if(this.rowDetails&&37==i&&!this.treeGrid)return this.hidedetailsbykey(c),!1;if(this.treeGrid&&37==i){if(this.rowinfo[c].row&&!this.rowinfo[c].row[t.parent]&&!this.rowinfo[c][t.leaf]&&!this.rowinfo[c].expanded)return!1;if(this.rowinfo[c].expanded&&!this.rowinfo[c][t.leaf])return this.treeGrid.collapseRow(c),!1;if(this.rowinfo[c].row&&this.rowinfo[c].row[t.parent]&&(c=this.rowinfo[c].row[t.parent].uid),this.rowinfo[c][t.leaf])return!1}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToNextPage(_):this.goToPrevPage(_),!1;if(this.treeGrid&&this.pageable&&33==i)return this.goToPrevPage(_),!1}else if(34==i||39==i){c=o.attr("data-key");if(this.rowDetails&&39==i&&!this.treeGrid)return this.showdetailsbykey(c),!1;if(this.treeGrid&&39==i){if(this.rowinfo[c][t.leaf])return!1;if(!this.rowinfo[c].expanded)return this.treeGrid.expandRow(c),!1;if(this.rowinfo[c].row&&this.rowinfo[c].row.records&&0<this.rowinfo[c].row.records.length)if(0<this.dataview.filters.length){for(var k=this.rowinfo[c].row.records,g=0;g<k.length;g++)if(k[g]._visible){c=k[g].uid;break}}else c=this.rowinfo[c].row.records[0].uid}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToPrevPage(_):this.goToNextPage(_),!1;if(this.treeGrid&&this.pageable&&34==i)return this.goToNextPage(_),!1}else if(38==i){for(;o;)if(o=o.prev(),o)if(!o.attr("data-role")){c=o.attr("data-key");break}if(this.pageable&&null==c)return this.goToPrevPage(_),!1}else if(40==i){for(;o;)if(o=o.next(),o)if(!o.attr("data-role")){c=o.attr("data-key");break}if(this.pageable&&null==c)return this.goToNextPage(_),!1}if(null!=c){if(a||l||this.clearSelection(!1),this.rowinfo[c]&&this.rowinfo[c].selected&&(a||l)){this._doSelection(this._lastSelectedKey,!1,!1),this._lastSelectedKey=c;y=this.rowsByKey[c],u=this.getrowindex(y);s._updateSelection();var D=this.getrowdisplayindex(y);return this._raiseEvent("rowUnselect",{key:c,index:D,boundIndex:u,row:y}),!1}this._lastSelectedKey=c;y=this.rowsByKey[c],u=this.getrowindex(y);this._doSelection(c,!0,!1),s._updateSelection();D=this.getrowdisplayindex(y);if(this._raiseEvent("rowSelect",{key:c,index:D,boundIndex:u,row:y}),this.treeGrid)if(37==i){var I=null;if((o=this._getuirow(c))&&(o.attr("data-role")||(I=o.attr("data-key"))),this.pageable&&null==I&&0<this.dataview.pagenum)for(;null==this._getuirow(c)&&0<this.dataview.pagenum;)this.goToPrevPage()}else 39==i&&(I=null,(o=this._getuirow(c))&&(o.attr("data-role")||(I=o.attr("data-key"))),this.pageable&&null==I&&this.goToNextPage());return!1}}},_selection:function(e){if("selectionStart"in e[0]){var t=e[0],i=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:i,text:t.value}}var r=document.selection.createRange();if(null==r)return{start:0,end:t.value.length,length:0};t=e[0].createTextRange(),e=t.duplicate();t.moveToBookmark(r.getBookmark()),e.setEndPoint("EndToStart",t);i=r.text.length;return{start:e.text.length,end:e.text.length+r.text.length,length:i,text:r.text}},_doSelection:function(e,t,i){var r;null!=e?("singlerow"===this.selectionMode&&this.clearSelection(!1),(r=this.rowinfo[e])?(r.selected=t,this.ensurerowvisiblebykey(e)):(this.ensurerowvisiblebykey(e),(r=this.rowinfo[e])?r.selected=t:this.rowinfo[e]={selected:t}),"none"!=this.selectionMode&&!1!==i&&this._renderrows()):this.clearSelection()},clearSelection:function(e){if(this.rowinfo){var t,i=this.getRows();for(t in this.rowinfo){var r,s,o=this.rowinfo[t];o.selected&&(o.selected=!1,r=i.indexOf(o.row),s=this.getrowdisplayindex(o.row),this._raiseEvent("rowUnselect",{key:t,index:s,boundIndex:r,row:o.row}))}}!1!==e&&this._renderrows()},exportData:function(h){if(!X.jqx.dataAdapter.ArrayExporter){if(!this.treeGrid)throw"jqxDataTable: Missing reference to jqxdata.export.js!";throw"jqxTreeGrid: Missing reference to jqxdata.export.js!"}var n=this.exportSettings.columnsHeader;null==n&&(n=!0);var e=this.exportSettings.hiddenColumns;null==e&&(e=!1);var t=this.exportSettings.serverURL,i=this.exportSettings.characterSet,a=this.exportSettings.collapsedRecords;null==a&&(a=!1);var r=this.exportSettings.fileName;void 0===r&&(r=this.treeGrid?"jqxTreeGrid_Data":"jqxDataTable_Data");var l,c=this,u=this.getRows();if(1==this.exportSettings.recordsInView&&(u=this.getView()),this.treeGrid&&this.treeGrid.virtualModeCreateRecords&&(u=this.treeGrid.getRows()),this.groups&&0<this.groups.length&&(j=this.source.getGroupedRecords(this.groups,"records","label",null,"data",null,"parent",u),j=(l=function(e,t){for(var i=0;i<e.length;i++){var r=X.extend({},e[i]);if(t.push(r),r.records&&0<r.records.length)for(var s=l(r.records,new Array),o=0;o<s.length;o++)s[o].leaf,t.push(s[o])}return t}).call(this,j,new Array),u=j),0==u.length)throw"No data to export.";this.exporting=!0,this.altRows&&this._renderrows();for(var g=new Array,s=0;s<this.columns.records.length;s++)!e&&this.columns.records[s].hidden||g.push(X.extend({},this.columns.records[s]));if(this.groups&&0<this.groups.length&&0<g.length)for(var d=this._names(),s=0;s<u.length;s++)u[s][d.leaf]||(c.rtl?u[s][g[g.length-1].displayfield]=u[s].label:u[s][g[0].displayfield]=u[s].label);var p=0;if(this.treeGrid){var o=this.treeGrid.getRows();1==this.exportSettings.recordsInView&&(o=this.getView());var d=this._names(),f=function(e){for(var t=0;t<e.length;t++){var i=e[t],r=i[d.expanded]||!i[d.expanded]&&a;p=Math.max(p,1+i[d.level]),i.records&&0<i.records.length&&r&&f(e[t].records)}};if(f(o),"xml"!=h&&"json"!=h){for(var m=g.length,s=0;s<p;s++)(L=new O(this,this)).width=this.indentWidth,L.datafield="Level"+s,L.displayfield="Level"+s,L.align="center",L.cellsalign="center",L.text="",this.rtl?g.splice(m,0,L):g.splice(s,0,L);var w=new Array,v=!(!this.source._source.hierarchy||!this.source._source.hierarchy.groupingDataFields),y=function(e){for(var t=0;t<e.length;t++){for(var i=X.extend({},e[t]),r=0;r<i[d.level];r++)i["Level"+r]="";var s=i[d.expanded]||!i[d.expanded]&&a;("xls"==h||"html"==h||"pdf"==h)&&i.records&&0<i.records.length?i["Level"+i[d.level]]=s?"-":"+":i["Level"+i[d.level]]="",i[d.leaf]&&(i["Level"+i[d.level]]="");for(r=i[d.level]+1;r<p;r++)i["Level"+r]="";if(v&&!i[d.leaf]&&(c.rtl?i[g[g.length-p-1].displayfield]=i.label:i[g[p].displayfield]=i.label),i.aggregate)for(var o="xls"==h?"_AG":"",r=p;r<g.length;r++){var l=r;c.rtl&&(l=g.length-r-1),null!=i[g[l].displayfield]&&(i[g[l].displayfield]=o+i[g[l].displayfield])}w.push(i),s&&!i[d.leaf]&&y(i.records)}};y(o),u=w}else u=o}var x=null!=e&&e,b={},_={},j=this.host.find(".jqx-grid-cell:first"),o=this.host.find(".jqx-grid-cell-alt:first"),q=this;j.removeClass(q.toThemeProperty("jqx-grid-cell-selected")),j.removeClass(q.toThemeProperty("jqx-fill-state-pressed")),o.removeClass(q.toThemeProperty("jqx-grid-cell-selected")),o.removeClass(q.toThemeProperty("jqx-fill-state-pressed")),j.removeClass(q.toThemeProperty("jqx-grid-cell-hover")),j.removeClass(q.toThemeProperty("jqx-fill-state-hover")),o.removeClass(q.toThemeProperty("jqx-grid-cell-hover")),o.removeClass(q.toThemeProperty("jqx-fill-state-hover"));for(var S,T,C,P="cell",z=1,H=1,B=[],k=0;k<g.length;k++)if(""!=(L=g[k]).cellclassname)if(L.customCellStyles=new Array,"string"==typeof L.cellclassname)L.customCellStyles.push(L.cellclassname);else for(s=0;s<u.length;s++){var D=L.cellclassname(s,L.displayfield,u[s][L.displayfield],u[s]);D&&(L.customCellStyles[s]=D)}if(X.each(g,function(e){var t=e;c.treeGrid&&(p<=e?t=g.length-p-1:0<p&&e<p&&(t=0));var i,r=X(c._table[0].rows[0].cells[t]);1<c._table[0].rows.length&&(0==(i=X(c._table[0].rows[1].cells[t])).length&&(i=X(c._table[0].rows[1].cells[0]))),0==r.length&&(r=X(c._table[0].rows[0].cells[0]));function s(e){if(e.removeClass(q.toThemeProperty("jqx-cell")),e.removeClass(q.toThemeProperty("jqx-grid-cell-selected")),e.removeClass(q.toThemeProperty("jqx-fill-state-pressed")),e.removeClass(q.toThemeProperty("jqx-grid-cell-hover")),e.removeClass(q.toThemeProperty("jqx-fill-state-hover")),o.customCellStyles)for(var t in o.customCellStyles)e.removeClass(o.customCellStyles[t])}var o=this;if(s(r),i&&s(i),null==this.displayfield)return!0;c.showAggregates&&c.getcolumnaggregateddata&&(c.treeGrid?B.push(c.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,function(e,t){for(var i=0;i<e.length;i++){var r=e[i];0===r.level&&t.push(r)}return t}(u,[]))):B.push(c.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,u)));var d=c._getexportcolumntype(this);!this.exportable||this.hidden&&!x||(b[this.displayfield]={},b[this.displayfield].text=this.text,b[this.displayfield].width=parseInt(this.width),isNaN(b[this.displayfield].width)&&(b[this.displayfield].width=60),500<b[this.displayfield].width&&(b[this.displayfield].width=500),b[this.displayfield].formatString=this.cellsFormat,b[this.displayfield].localization=c.gridlocalization,b[this.displayfield].type=d,b[this.displayfield].cellsAlign=this.cellsalign,b[this.displayfield].hidden=!n,b[this.displayfield].index=t,b[this.displayfield].maxIndex=g.length),P="cell"+z;t=this.element;if("json"!=h&&"xml"!=h){function l(e,t,i,r,s,o,l,a,n){_[e]={index:1+l,maxIndex:g.length},o.rtl&&(_[e].index=g.length-l),"html"!=h&&"xls"!=h&&"pdf"!=h||(t&&(_[e]["font-size"]=t.css("font-size"),_[e]["font-weight"]=t.css("font-weight"),_[e]["font-style"]=t.css("font-style"),_[e]["background-color"]=o._getexportcolor(t.css("background-color")),_[e].color=o._getexportcolor(t.css("color")),_[e]["border-color"]=o._getexportcolor(t.css("border-top-color"))),i?_[e]["text-align"]=s.align:(_[e]["text-align"]=s.cellsalign,_[e].formatString=s.cellsFormat,_[e].dataType=d),"html"!=h&&"pdf"!=h||(_[e]["border-top-width"]="0px",o.rtl?(_[e]["border-left-width"]="1px",_[e]["border-right-width"]="0px",l==g.length-p-1&&i&&(_[e]["border-right-width"]="1px")):(_[e]["border-left-width"]="0px",_[e]["border-right-width"]="1px"),_[e]["border-bottom-width"]="1px",t&&(_[e]["border-top-style"]=t.css("border-top-style"),_[e]["border-left-style"]=t.css("border-left-style"),_[e]["border-right-style"]=t.css("border-right-style"),_[e]["border-bottom-style"]=t.css("border-bottom-style")),i?(0!=l||o.rtl?l==g.length-1&&o.rtl&&(_[e]["border-right-width"]="1px"):_[e]["border-left-width"]="1px",t&&(_[e]["border-top-width"]="1px",_[e]["border-bottom-width"]=t.css("border-bottom-width"))):0!=l||o.rtl?l==g.length-1&&o.rtl&&(_[e]["border-right-width"]="1px"):_[e]["border-left-width"]="1px",t&&(_[e].height=t.css("height")),o.treeGrid&&!i&&(_[e].index-1<p?o.rtl?_[e]["border-left-width"]="0px":_[e]["border-right-width"]="0px":_[e].index-1==p&&(o.rtl?_[e]["border-right-width"]="0px":_[e]["border-left-width"]="0px")))),!s.exportable||s.hidden&&!x||(1==a?(b[s.displayfield].customCellStyles||(b[s.displayfield].customCellStyles=new Array),b[s.displayfield].customCellStyles[n]=e):i?b[s.displayfield].style=e:r?b[s.displayfield].cellAltStyle=e:b[s.displayfield].cellStyle=e)}if(l("column"+H,t,!0,!1,this,c,e),H++,l(P,r,!1,!1,this,c,e),c.altRows&&l(P="cellalt"+z,i,!1,!0,this,c,e),this.customCellStyles){for(var a in o.customCellStyles)r.removeClass(o.customCellStyles[a]);for(var a in o.customCellStyles)r.addClass(o.customCellStyles[a]),l(P+o.customCellStyles[a],r,!1,!1,this,c,e,!0,a),r.removeClass(o.customCellStyles[a])}z++}}),"json"!=h&&"xml"!=h&&0<p&&this.treeGrid){var I=p+1;if(this.rtl&&(I=g.length-p),_["column"+I]){var F=_["column"+I];F.merge=p,F["border-left-width"]="1px";_["cell"+I];for(s=0;s<g.length;s++){I=s+1;if(this.rtl&&(I=g.length-s),_["column"+I].level=s,_["column"+I].maxLevel=p,_["cell"+I].maxLevel=p,(L=g[s]).customCellStyles)for(var M in L.customCellStyles)_["cell"+I+L.customCellStyles[M]]&&(_["cell"+I+L.customCellStyles[M]].maxLevel=p);_["cellalt"+I]&&(_["cellalt"+I].maxLevel=p)}for(s=0;s<p;s++){var I=s+1,R=s;this.rtl&&(I=g.length-s);var L,A=_["column"+I];if(A.disabled=!0,_["cell"+I].level=R,_["cell"+I].maxLevel=p,_["column"+I].level=R,_["cellalt"+I]&&(_["cellalt"+I].level=R,_["cellalt"+I].maxLevel=p),(L=g[s]).customCellStyles)for(var M in L.customCellStyles)_["cell"+I+L.customCellStyles[M]]&&(_["cell"+I+L.customCellStyles[M]].maxLevel=p,_["cell"+I+L.customCellStyles[M]].level=R);"html"!=h&&"pdf"!=h&&"xls"!=h||(A["font-size"]=F["font-size"],A["font-weight"]=F["font-weight"],A["font-style"]=F["font-style"],A["background-color"]=F["background-color"],A.color=F.color,A["border-color"]=F["border-color"],"html"!=h&&"pdf"!=h||(A["border-top-width"]=F["border-top-width"],A["border-left-width"]=F["border-left-width"],this.rtl&&(A["border-right-width"]=F["border-right-width"],0==s&&(A["border-right-width"]="1px")),(0==s&&!this.rtl||0==s&&this.rtl)&&(A["border-left-width"]="0px"),this.rtl?this.rtl&&(A["border-left-width"]="0px"):A["border-right-width"]="0px",A["border-bottom-width"]="0px",A=_["cell"+I],this.rtl?this.rtl&&(A["border-left-width"]="0px"):A["border-right-width"]="0px"))}}}this.showAggregates&&(S=[],T="xls"==h?"_AG":"",C=0,this.rowDetails&&!this.treeGrid&&C++,0<B.length&&(X.each(g,function(e){if(this.aggregates)for(var t,i,r,s=0;s<this.aggregates.length;s++)S[s]||(S[s]={}),S[s]&&(t=c._getaggregatename(this.aggregates[s]),i=c._getaggregatetype(this.aggregates[s]),(r=B[e-C])&&(S[s][this.displayfield]=T+t+": "+r[i]))}),X.each(g,function(e){for(var t=0;t<S.length;t++)null==S[t][this.displayfield]&&(S[t][this.displayfield]=T)})),X.each(S,function(){u.push(this)}));q=this,j=X.jqx.dataAdapter.ArrayExporter(u,b,_,t,this.treeGrid&&("xml"==h||"json"==h));if(null==r){this._renderrows();var K=this.treeGrid&&("xml"==h||"json"==h),o=j.exportTo(h,this.treeGrid&&("xml"==h||"json"==h));return this.showAggregates&&X.each(S,function(){u.pop(this)}),setTimeout(function(){q.exporting=!1},50),o}K=this.treeGrid&&("xml"==h||"json"==h);j.exportToFile(h,r,t,i,K),this.showAggregates&&X.each(S,function(){u.pop(this)}),this._renderrows(),setTimeout(function(){q.exporting=!1},50)},_getexportcolor:function(e){e="transparent"==e?"#FFFFFF":e;if(e&&e.toString()||(e="#FFFFFF"),-1==e.toString().indexOf("rgb"))return-1!=e.toString().indexOf("#")&&4==e.toString().length&&(t=e.toString().substring(1,4),e+=t),e;var t=e.split(",");if(-1!=e.toString().indexOf("rgba")){var i=parseInt(t[0].substring(5)),r=parseInt(t[1]),s=parseInt(t[2]),e=parseFloat(t[3].substring(1,4)),o={r:i,g:r,b:s},l=this._rgbToHex(o);return 0==i&&0==r&&0==s&&0==e?"#ffffff":"#"+l}o={r:i=parseInt(t[0].substring(4)),g:r=parseInt(t[1]),b:s=parseInt(t[2].substring(1,4))};return"#"+(l=this._rgbToHex(o))},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){e=parseInt(e).toString(16);return 1==e.length&&(e="0"+e),e.toUpperCase()},_getexportcolumntype:function(e){var t="string",i=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(i){var r="";if(X.each(i,function(){if(this.name==e.displayfield)return this.type&&(r=this.type),!1}),r)return r}if(null!=e){if(null==this.dataview.cachedrecords)return t;var s=null;if(this.virtualmode)X.each(this.dataview.cachedrecords,function(){return s=this[e.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return t;if(null!=(s=this.dataview.cachedrecords[0][e.displayfield])&&""==s.toString())return"string"}if(null!=s){if(-1!=e.cellsFormat.indexOf("c"))return"number";if(-1!=e.cellsFormat.indexOf("n"))return"number";if(-1!=e.cellsFormat.indexOf("p"))return"number";if(-1!=e.cellsFormat.indexOf("d"))return"date";if(-1!=e.cellsFormat.indexOf("y"))return"date";if(-1!=e.cellsFormat.indexOf("M"))return"date";if(-1!=e.cellsFormat.indexOf("m"))return"date";if(-1!=e.cellsFormat.indexOf("t"))return"date";if("boolean"==typeof s)t="boolean";else if(X.jqx.dataFormat.isNumber(s))t="number";else{i=new Date(s);if("NaN"==i.toString()||"Invalid Date"==i.toString())if(X.jqx.dataFormat){if(null!=(i=X.jqx.dataFormat.tryparsedate(s))){if(i&&i.getFullYear()&&1970==i.getFullYear()&&0==i.getMonth()&&1==i.getDate()){i=new Number(s);return isNaN(i)?"string":"number"}return"date"}t="string"}else t="string";else t="date"}}}return t},showDetails:function(e){e=this._getkey(e);this.showdetailsbykey(e)},hideDetails:function(e){e=this._getkey(e);this.hidedetailsbykey(e)},setCellValueByKey:function(e,t,i){var r=this.rowsByKey[e],s=this.getrowindex(r),o=r;if(null!=o&&o[t]==i)return!1;if(null==o||null!==o[t]||""!==i){var l="";if(null!=o&&o[t]!==i){var a,n=this.getColumn(t),d="string",h=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(h&&(a="",X.each(h,function(){if(this.name==n.displayfield)return this.type&&(a=this.type),!1}),a&&(d=a)),l=o[t],!n.nullable||null!=i&&""!==i&&n.nullable&&void 0===i.label)if(X.jqx.dataFormat.isNumber(l)||"number"==d||"float"==d||"int"==d||"decimal"==d&&"date"!=d?(i=new Number(i),i=parseFloat(i),isNaN(i)&&(i=0)):!X.jqx.dataFormat.isDate(l)&&"date"!=d||""==i||(d=i,"Invalid Date"!=(d=new Date(d))&&null!=d?i=d:"Invalid Date"==d&&(i=d=new Date)),o[t]===i)return;this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,o[t]=i,this.treeGrid&&(u=this.treeGrid.getRow(e))&&(u[t]=i),null!=i&&null!=i.label&&(o[(n=this.getColumn(t)).displayfield]=i.label,o[t]=i.value,this.treeGrid&&(u=this.treeGrid.getRow(e))&&(u[n.displayfield]=i.label,u[t]=i.value))}if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var c=s,u=this.source._source._localdata()[c];this.source.suspendKO=!0;c=u;if(c[t]&&c[t].subscribe)null!=i&&null!=i.label?(c[n.displayfield](i.label),c[t](i.value)):c[t](i);else{var h=this.source._source.datafields,g=null;if(h&&X.each(h,function(){if(this.name==t)return g=this.map,!1}),null==g)null!=i&&null!=i.label?(c[t]=i.value,c[n.displayfield]=i.label):c[t]=i;else{var p=g.split(this.source.mapChar);if(0<p.length){for(var f=c,m=0;m<p.length-1;m++)f=f[p[m]];f[p[p.length-1]]=i}}this.source._source._localdata.replace(u,X.extend({},c))}this.source.suspendKO=!1}if(this.source.updaterow)try{null==this.source.updaterow(e,o,function(e){0==e&&this.setCellValue(r,t,l,!0,!1)})&&0}catch(e){return void this.setCellValue(r,t,l)}c=this.getrowdisplayindex(r),n=this.getColumn(t);this._raiseEvent("cellValueChanged",{value:i,oldValue:l,dataField:t,displayField:n.displayfield,key:e,boundIndex:s,index:c,row:this.rowsByKey[e]}),this.editable&&null!=this.editKey||this._renderrows()}},setCellValue:function(e,t,i){if(null==e||null==t)return!1;e=parseInt(e),e=this._getkey(e);this.setCellValueByKey(e,t,i)},getCellText:function(e,t){if(null==e||null==t)return!1;e=parseInt(e),e=this._getkey(e);return this.getCellTextByKey(e,t)},getCellTextByKey:function(e,t){if(null==e||null==t)return null;e=this.getCellValueByKey(e,t),t=this.getColumn(t);return t&&""!=t.cellsFormat&&X.jqx.dataFormat&&(X.jqx.dataFormat.isDate(e)?e=X.jqx.dataFormat.formatdate(e,t.cellsFormat,this.gridlocalization):(X.jqx.dataFormat.isNumber(e)||!isNaN(parseFloat(e))&&isFinite(e))&&(e=X.jqx.dataFormat.formatnumber(e,t.cellsFormat,this.gridlocalization))),e},getCellValue:function(e,t){if(null==e||null==t)return!1;e=parseInt(e),e=this._getkey(e);return this.getCellValueByKey(e,t)},getCellValueByKey:function(e,t){var i=this.rowsByKey[e];!i&&this.treeGrid&&(i=this.treeGrid.getRow(e));this.getrowindex(i);return null!=i?i[t]:null},beginRowEdit:function(e){e=this._getkey(e);this.beginroweditbykey(e)},beginCellEdit:function(e,t){e=this._getkey(e),t=this.getColumn(t);this.beginroweditbykey(e,t)},endCellEdit:function(e,t,i){this.endRowEdit(e,i)},endRowEdit:function(e,t){e=this._getkey(e);this.endroweditbykey(e,t)},getrowindex:function(e){var t=this.getRows().indexOf(e);if(-1!=t)return t;if(this.groups&&0<this.groups.length)for(var i=this.getRows(),r=0;r<i.length;r++)if(e.originalRecord){if(i[r].uid==e.originalRecord.uid){t=r;break}}else if(i[r].uid==e.uid){t=r;break}return t},getrowdisplayindex:function(e){if(this.treeGrid)return-1;var t=this.getView(),i=t.indexOf(e);if(-1!=i)return i;if(null==e)return i;for(var r=t,s=0;s<r.length;s++)if(r[s].uid==e.uid||e.originalRecord&&r[s].uid==e.originalRecord.uid){i=s;break}return i},beginroweditbykey:function(e,t){if(this.beginEdit&&!1===this.beginEdit(e,t))return!1;var i=this.treeGrid?this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0:this.groups.length;if(0<i){var r=this.rowsByKey[e];if(this.treeGrid&&(r=this.treeGrid.getRow(e)),r.level<i)return!1}if(null==this._lastSelectedKey&&this.selectrowbykey(e),this.editKey===e&&null!=this.editKey)return!1;if(this.rowinfo[e]&&this.rowinfo[e].locked)return!1;if(null!=this.editKey)return this.endroweditbykey(e,!0),!1;var s=this.editSettings.editSingleCell;if(!t&&s&&this.columns.records&&0<this.columns.records.length){for(var o=0;o<this.columns.records.length&&(!(t=this.columns.records[o]).editable||t.hidden);o++);if(!t)return!1}if(s&&t&&!t.editable)return this.editKey=null,!1;s&&(this.editColumn=t);var l=this,r=this.rowsByKey[e];this.treeGrid&&(r=this.treeGrid.getRow(e));var a=this.getrowindex(r),n=this._getuirow(e),d=this._getpinneduirow(e);this._editors=new Array;var h=!1;if(n)for(var c=n[0].cells,u=0,o=0;o<c.length;o++){var g=this.columns.records[o],p=c[o];if(!g.rowDetailscolumn&&!(g.checkboxcolumn||(g.pinned&&(p=d[0].cells[o]),s&&t&&g.datafield!=t.datafield||(X(p).removeClass(this.toTP("jqx-grid-cell-selected")),X(p).removeClass(this.toTP("jqx-fill-state-pressed")),X(p).removeClass(this.toTP("jqx-grid-cell-hover")),X(p).removeClass(this.toTP("jqx-fill-state-hover")),"none"==g.columntype)))){var f=X(p).outerWidth(),m=X(p).width();0===u&&(u=X(p).outerHeight()-1),X(p).css("padding","0px");var w="<div style='height:"+u+"px; width: 100%; overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 9999;'></div>",v=this.getCellTextByKey(e,g.displayfield);p.innerHTML=w;w=X(p.firstChild);switch(g.columntype){case"textbox":case"default":var y,x,b=X("<input style='border: none;' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox'/>").appendTo(w);this.rtl&&b.css("direction","rtl"),b.addClass(this.toThemeProperty("jqx-input")),b.addClass(this.toThemeProperty("jqx-widget-content")),b.addClass(this.toThemeProperty("jqx-cell-editor")),b[0].onfocus=function(t){setTimeout(function(){var e;t?0<=(e=X(t.target).parent().parent().index())&&l.ensureColumnVisible(l.columns.records[e].datafield):0<=(e=X(document.activeElement).parent().parent().index())&&l.ensureColumnVisible(l.columns.records[e].datafield),l.content&&(l.content[0].scrollTop=0,l.content[0].scrollLeft=0),l.gridcontent&&(l.gridcontent[0].scrollLeft=0,l.gridcontent[0].scrollTop=0)},10)},g.editable?h||(h=!0,(y=X.jqx.browser.msie&&10<X.jqx.browser.version)||b.focus(),x=b,setTimeout(function(){var e,t=x.val().length;y||x.focus();try{"selectionStart"in x[0]?x[0].setSelectionRange(0,t):((e=x[0].createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",0),e.select())}catch(e){}},10)):(b.attr("disabled",!0),b.attr("readOnly",!0),b.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),b.width(m),b.height(u),X.jqx.browser.msie&&X.jqx.browser.version<9&&b.css("line-height",parseInt(u)+"px"),b.css("text-align",g.cellsalign),null===v&&(v=""),null==v&&(v=""),b.val(v),g.createeditor&&(_=v,v=this.getCellValueByKey(e,g.displayfield),g.createeditor(this.treeGrid?e:a,v,b,_,m,u)),this._editors.push({column:g,editor:b}),""!=g.cellsFormat&&(-1==g.cellsFormat.indexOf("p")&&-1==g.cellsFormat.indexOf("c")&&-1==g.cellsFormat.indexOf("n")&&-1==g.cellsFormat.indexOf("f")||b.keydown(function(e){e=e.charCode||e.keyCode||0,e=String.fromCharCode(e),e=parseInt(e);if(isNaN(e))return!0;if(0<l._selection(b).length)return!0;var t,i="",r=b.val();if(1<g.cellsFormat.length?(t=parseInt(g.cellsFormat.substring(1)),isNaN(t)&&(t=0)):t=0,0<t&&-1!=r.indexOf(l.gridlocalization.decimalseparator)&&l._selection(b).start>r.indexOf(l.gridlocalization.decimalseparator))return!0;for(var s=0;s<r.length-t;s++){var o=r.substring(s,s+1);null!=o.match(/^[0-9]+$/)&&(i+=o)}return!(11<=i.length)&&void 0})),g.initeditor&&(_=v,v=this.getCellValueByKey(e,g.displayfield),g.initeditor(this.treeGrid?e:a,v,b,_,m,u));break;case"custom":case"template":this.editorsCache||(this.editorsCache=new Array);p=X("<div style='width: 100%; height: 100%; border: none;'></div>").appendTo(w),m=X.trim(g.datafield).split(" ").join("");-1!=m.indexOf(".")&&(m=m.replace(".",""));w=this.editorsCache["templateeditor_"+m];"custom"==g.columntype&&(w=this.editorsCache["customeditor_"+m+"_"+e]);var _=v,v=this.getCellValueByKey(e,g.displayfield);w?((b=w).width(f),b.height(u),b.appendTo(p)):((b=X("<div style='border: none;'></div>")).width(f),b.height(u),w=b,null===v&&(v=""),"custom"!=g.columntype?this.editorsCache["templateeditor_"+m]=b:this.editorsCache["customeditor_"+m+"_"+e]=b,b.appendTo(p),g.createeditor&&g.createeditor(this.treeGrid?e:a,v,b,_,f,u)),g.initeditor&&g.initeditor(this.treeGrid?e:a,v,b,_,f,u),this._editors.push({column:g,editor:b})}}}this.editKey=e,this.beginUpdate();var j=this.getrowdisplayindex(r);this._raiseEvent("rowBeginEdit",{key:e,index:j,boundIndex:a,row:this.rowsByKey[e]}),s&&(n=i=null,(r=this.rowsByKey[e])&&(i=r[t.datafield],n=r[t.displayfield]),this._raiseEvent("cellBeginEdit",{value:i,displayValue:n,key:e,index:j,dataField:t.datafield,displayField:t.displayfield,boundIndex:a,row:this.rowsByKey[e]})),this.endUpdate(!1)},_toNumber:function(e){e.indexOf||null==e||(e=e.toString()),-1<e.indexOf(this.gridlocalization.currencysymbol)&&(e=e.replace(this.gridlocalization.currencysymbol,""));-1<(e=(e=function(e,t,i){var r=e;if(t==i)return e;for(var s=r.indexOf(t);-1!=s;)s=(r=r.replace(t,i)).indexOf(t);return r}(e,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)&&(e=e.replace(this.gridlocalization.percentsymbol,""));for(var t="",i=0;i<e.length;i++){var r=e.substring(i,i+1);"-"===r&&(t+="-"),"."===r&&(t+="."),null!=r.match(/^[0-9]+$/)&&(t+=r)}return e=(e=t).replace(/ /g,"")},_geteditorvalue:function(e,t,i,r){var s=new String;if(t){if(!e.geteditorvalue){if(e.columntype,s=t.val(),""!=e.cellsFormat){var o,l="string",a=this.source.datafields||(this.source._source?this.source._source.datafields:null);a&&(o="",X.each(a,function(){if(this.name==e.displayfield)return this.type&&(o=this.type),!1}),o&&(l=o));a="date"===l||"time"===l;if("number"===l||"float"===l||"int"===l||"integer"===l||"string"===l&&(-1!=e.cellsFormat.indexOf("p")||-1!=e.cellsFormat.indexOf("c")||-1!=e.cellsFormat.indexOf("n")||-1!=e.cellsFormat.indexOf("f"))){if(""===s&&e.nullable)return"";s=this._toNumber(s),s=new Number(s),isNaN(s)&&(s="")}if(a||"string"===l&&(-1!=e.cellsFormat.indexOf("H")||-1!=e.cellsFormat.indexOf("m")||-1!=e.cellsFormat.indexOf("M")||-1!=e.cellsFormat.indexOf("y")||-1!=e.cellsFormat.indexOf("h")||-1!=e.cellsFormat.indexOf("d"))){if(""===s&&e.nullable)return"";var n=s;("Invalid Date"==(s=new Date(s))||null==s||1<e.cellsFormat.length)&&(X.jqx.dataFormat&&(s=X.jqx.dataFormat.parsedate(n,e.cellsFormat,this.gridlocalization)),"Invalid Date"!=s&&null!=s||(s=""))}}e.displayfield!=e.datafield&&(s={label:s,value:s})}e.geteditorvalue&&(n=this.getCellValueByKey(r,e.displayfield),s=e.geteditorvalue(this.treeGrid?r:i,n,t))}return s},_validateEditors:function(e){for(var t=this,i=!0,r=t.rowsByKey[e],s=t.getrowindex(r),o=t._editors,e=t.editKey,l=t._getuirow(e),a=0;a<o.length;a++){var n=o[a].editor,d=o[a].column,h=t._geteditorvalue(d,n,s,e);if(d.validation){n.removeClass(t.toThemeProperty("jqx-grid-validation-label"));var c=d.datafield;try{var u=d.validation({value:h,row:e,datafield:d.datafield,displayfield:d.displayfield,column:d},h),g=t.gridlocalization.validationstring;null!=u.message&&(g=u.message),("boolean"==typeof u?u:u.result)||(null!=u.showmessage&&1!=u.showmessage||t._showvalidationpopup(l,c,g,n),i=!1)}catch(e){t._showvalidationpopup(l,c,t.gridlocalization.validationstring,n),i=!1}}}return i},endroweditbykey:function(d,e){var h=this;if(null!==h.editKey){if(this.endEdit)if(!1===this.endEdit(d))return;var c=h.rowsByKey[d],u=h.getrowindex(c),g=h._editors,p=h.editKey;h._getuirow(p);if(!0!==e){e=!0;if(g&&(e=h._validateEditors(p))){for(var t=X.extend({},c),f=X.extend({},c),i=0;i<g.length;i++){var r=g[i].editor,s=g[i].column,r=h._geteditorvalue(s,r,u,p);r&&null!=r.label?(t[s.displayfield]=r.label,t[s.datafield]=r.value):t[s.displayfield]=r}h.updaterowbykey(h.editKey,t,!1,function(){h.dataview._sortHierarchyData=null,h.dataview._sortData=null;for(var e=0;e<g.length;e++){var t,i,r,s,o=g[e].editor,l=g[e].column,a=h._geteditorvalue(l,o,u,p),n=f[l.displayfield];a&&null!=a.label?(c[l.displayfield]=a.label,c[l.datafield]=a.value):c[l.displayfield]=a,!h.treeGrid||(i=h.treeGrid.getRow(p))&&(i[l.displayfield]=a),h.editorsCache&&(t=function(e){var t;e&&e.jqxWidget&&((0<=(t=e.jqxWidget.element.className).indexOf("dropdownlist")||0<=t.indexOf("datetimeinput")||0<=t.indexOf("combobox")||0<=t.indexOf("menu"))&&e.jqxWidget.isOpened&&e.jqxWidget.isOpened()&&e.jqxWidget.close())},o="customeditor_"+l.displayfield+"_"+d,i="templateeditor_"+l.displayfield,h.editorsCache[o]&&(r=X(h.editorsCache[o]).data(),s=h.editorsCache[o],!r.jqxWidget&&X(s).children()[0]&&X(X(s).children()[0]).data().jqxWidget&&(r=X(X(s).children()[0]).data()),t(r),h.editorsCache[o].detach()),h.editorsCache[i]&&(h.editorsCache[i].detach(),r=X(h.editorsCache[i]).data(),s=h.editorsCache[i],!r.jqxWidget&&X(s).children()[0]&&X(X(s).children()[0]).data().jqxWidget&&(r=X(X(s).children()[0]).data()),t(r))),a!=n&&(h.beginUpdate(),h._raiseEvent("cellValueChanged",{value:a,oldValue:n,dataField:l.datafield,displayField:l.displayfield,key:d,index:u,row:c}),h.endUpdate(!1))}})}if(!e)return!1}return h._detachEditors(p),!0}},_detachEditors:function(e){var t=this,i=t.rowsByKey[e],r=t.getrowindex(i);if(t.editorsCache)for(var s in t.editorsCache){var o,l=X(t.editorsCache[s]).data();l&&l.jqxWidget&&((0<=(o=l.jqxWidget.element.className).indexOf("dropdownlist")||0<=o.indexOf("datetimeinput")||0<=o.indexOf("combobox")||0<=o.indexOf("menu"))&&l.jqxWidget.isOpened&&l.jqxWidget.isOpened()&&l.jqxWidget.close()),X(t.editorsCache[s]).detach()}t.beginUpdate();var a,n,d=t.getrowdisplayindex(i);t.editSettings.editSingleCell&&(n=a=null,(i=t.rowsByKey[e])&&(a=i[t.editColumn.datafield],n=i[t.editColumn.displayfield]),t._raiseEvent("cellEndEdit",{value:a,displayValue:n,key:e,index:d,dataField:t.editColumn.datafield,displayField:t.editColumn.displayfield,boundIndex:r,row:t.rowsByKey[e]})),t._raiseEvent("rowEndEdit",{key:e,index:d,boundIndex:r,row:t.rowsByKey[e]}),t.endUpdate(!1),t.editColumn=null,t.editKey=null,t._renderrows(),t._renderhorizontalscroll(),t.host.focus(),setTimeout(function(){t.host.focus()},10)},_showvalidationpopup:function(e,t,i,r){null==i&&(i=this.gridlocalization.validationstring),r.addClass(this.toThemeProperty("jqx-grid-validation-label"));var s=X("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),o=X("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");s.html(i),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),s.addClass(this.toThemeProperty("jqx-grid-validation")),s.addClass(this.toThemeProperty("jqx-rc-all")),s.hide(),o.hide(),s.prependTo(this.table),o.prependTo(this.table);var l=this.hScrollInstance.value,a=parseInt(l),i=this.getColumn(t).uielement;e&&(l=e,s.css("top",parseInt(l.position().top)+30+"px"),t=parseInt(s.css("top")),o.css("top",t-11),o.removeClass(),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),e=!1,t>=this._table.height()&&(o.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),(t=parseInt(l.position().top)-l.outerHeight()-5)<0&&(t=0,o.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),e=!0),s.css("top",t+"px"),o.css("top",t+s.outerHeight()-9)),l=-a+parseInt(X(i).position().left),t=parseInt(this._table.css("left")),isNaN(t)&&(t=0),0!=t&&(a=0),o.css("left",a+l+30),(t=s.width())+l>this.host.width()-20&&(l-=t+l-this.host.width()+40),e?s.css("left",a+parseInt(X(i).position().left)-s.outerWidth()):s.css("left",a+l),r.mouseenter(function(){r.hasClass("jqx-grid-validation-label")&&(s.show(),o.show())}),r.mouseleave(function(){s.hide(),o.hide()}),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:s,validationrow:o})},addRow:function(r,s,i,h){if(null==s)return!1;this._datachanged=!0,null==i&&(i="last");var e,o,l,t=!1,a=this.that;null==r?(e=this.dataview.filters&&0<this.dataview.filters.length,o=e?this.source.records.length:this.dataview.totalrecords,this.pageable||(this.source._source.totalrecords?this.dataview.totalrecords=this.source._source.totalrecords:this.source._source.totalRecords?this.dataview.totalrecords=this.source._source.totalRecords:0!==this.source.hierarchy.length?this.dataview.totalrecords=this.source.hierarchy.length:this.dataview.totalrecords=this.source.records.length,o=e?this.source.records.length:this.dataview.totalrecords),X.isArray(s)?(l=new Array,X.each(s,function(e,t){var i=a.dataview.getid(a.dataview.source.id,s[e],o+e);l.push(i),a.getColumn(a.dataview.source.id)&&(s[e][a.dataview.source.id]=i)}),r=l):(r=this.dataview.getid(this.dataview.source.id,s,o),this.getColumn(this.dataview.source.id)&&(s[this.dataview.source.id]=r))):X.isArray(s)?X.each(s,function(e,t){var i=r[e];a.getColumn(a.dataview.source.id)&&(s[e][a.dataview.source.id]=i)}):this.getColumn(this.dataview.source.id)&&(s[this.dataview.source.id]=r);function n(r,s,e,o){if(r._loading)throw new Error("jqxDataTable: "+r.loadingErrorMessage);var t,i,l,a,n=r.vScrollInstance.value,d=!1;return X.isArray(e)?X.each(e,function(e,t){var i=null;null!=s&&null!=s[e]&&(i=s[e]),this.uid=i,r.rowsByKey[i]=this,s==h&&(h=null),d=r.source.addRecord(this,o,h,c)}):(e.uid=s,r.rowsByKey[s]=e,s==h&&(h=null),d=r.source.addRecord(e,o,h,c)),r.groups&&0<r.groups.length&&(t=Object.prototype.toString,i=r.groups[0],Object.prototype.toString="function"==typeof i?i:function(){return this[i]},r.source.records.sort||(l=new Array,a=0,X.each([],function(){l[0+a++]=this}),0),r.source.records.sort(function(e,t){if(void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t)return 0;if(null===e&&null!==t)return-1;if(null!==e&&null===t)return 1;var i=0,r=0;if(e&&e.uid&&(i=e.uid),t&&t.uid&&(r=t.uid),e=e.toString(),t=t.toString(),X.jqx.dataFormat.isNumber(e)&&X.jqx.dataFormat.isNumber(t))return e<t?-1:t<e?1:0;if(X.jqx.dataFormat.isDate(e)&&X.jqx.dataFormat.isDate(t))return e<t?-1:t<e?1:0;X.jqx.dataFormat.isNumber(e)||X.jqx.dataFormat.isNumber(t)||(e=String(e).toLowerCase(),t=String(t).toLowerCase());try{if(e<t)return-1;if(t<e)return 1}catch(e){}if("number"==typeof i){if(i<r)return-1;if(r<i)return 1}return 0}),Object.prototype.toString=t),r.dataview._filteredData=null,r.dataview._sortData=null,(r.dataview._sortHierarchyData=null)!=r._updating&&0!=r._updating||r.refresh(),r.source&&r.source._knockoutdatasource&&!r._updateFromAdapter&&r.autokoupdates&&r.source._source._localdata&&(r.source.suspendKO=!0,r.source._source._localdata.push(e),r.source.suspendKO=!1),r.vScrollInstance.setPosition(n),d}var c=!!this.treeGrid&&!!this.treeGrid.virtualModeCreateRecords;if(this.source.addrow){function d(e,t){1!=e&&null!=e||(null!=t&&(r=t),n(a,r,s,i))}try{null==(t=a.treeGrid?this.source.addrow(r,s,i,h,d):this.source.addrow(r,s,i,d))&&(t=!0)}catch(e){t=!1}if(0==t)return!1}else n(this,r,s,i);return t},deleteRow:function(e){e=this._getkey(e);this.deleterowbykey(e)},deleterowbykey:function(t){if(null==t)return!1;function i(o,e){if(o._loading)throw new Error("jqxDataTable: "+o.loadingErrorMessage);o.dataview._filteredData=null,o.dataview._sortData=null,o.dataview._sortHierarchyData=null;var t,i,r,s,l=!1,a=o.vScrollInstance.value;return X.isArray(e)?X.each(e,function(){var e,t,i,r,s=this;o.rowsByKey[s]&&(l=!0,o.rowinfo[s].selected&&o.unselectrowbykey(s,!1),o.treeGrid&&(e=o._names(),t=o.rowsByKey[s][e.parent]),delete o.rowsByKey[s],o.treeGrid&&o.rowinfo[s]&&(i=o.rowinfo[s].row.records,r=function(e){for(var t=0;t<e.length;t++){var i=e[t].uid;delete o.rowsByKey[i],delete o.rowinfo[i],e[t].records&&r(e[t].records)}},i&&(r(i),delete o.rowinfo[s])),o.source.deleteRecord(s),t&&e&&t.records&&0==t.records.length&&(t[e.leaf]=!0,o.rowinfo[t.uid][e.leaf]=!0))}):(l=!1,o.rowsByKey[e]&&(l=!0,o.rowinfo[e]&&o.rowinfo[e].selected&&o.unselectrowbykey(e,!1),o.treeGrid&&(t=o._names(),i=o.rowsByKey[e][t.parent]),delete o.rowsByKey[e],o.treeGrid&&o.rowinfo[e]&&(r=o.rowinfo[e].row.records,s=function(e){for(var t=0;t<e.length;t++){var i=e[t].uid;delete o.rowsByKey[i],delete o.rowinfo[i],e[t].records&&s(e[t].records)}},r&&s(r)),delete o.rowinfo[e],o.source.deleteRecord(e),i&&t&&i.records&&0==i.records.length&&(i[t.leaf]=!0,o.rowinfo[i.uid][t.leaf]=!0))),o.refresh(),o.source&&o.source._knockoutdatasource&&!o._updateFromAdapter&&o.autokoupdates&&o.source._source._localdata&&(o.source.suspendKO=!0,o.source._source._localdata.pop(),o.source.suspendKO=!1),o.vScrollInstance.setPosition(a),l}var r=!(this._datachanged=!0),s=this.that;if(this.source.deleterow)try{this.source.deleterow(t,function(e){1!=e&&null!=e||i(s,t)}),null==r&&(r=!0)}catch(e){r=!1}else r=i(s,t);return r},updateRow:function(e,t){e=this._getkey(e);this.updaterowbykey(e,t)},updaterowbykey:function(t,i,r,s){if(null==t||null==i)return!1;function o(s,e,o){if(s._loading)throw new Error("jqxDataTable: "+s.loadingErrorMessage);s.dataview._filteredData=null,s.dataview._sortData=null,s.dataview._sortHierarchyData=null;var l=!1;X.isArray(e)?X.each(e,function(i,e){function t(e,t){r?r[this]=o[i]:l=!1,l=!0}var r=s.rowsByKey[this];t(),s.treeGrid&&(r=s.treeGrid.getRow(this),t())}):((i=function(e){if(e){for(var t=0;t<s.columns.records.length;t++)e[s.columns.records[t].datafield]=o[s.columns.records[t].datafield],0<s.groups.length&&e.originalRecord&&(e.originalRecord[s.columns.records[t].datafield]=o[s.columns.records[t].datafield]);l=!0}else l=!1})(t=s.rowsByKey[e]),s.treeGrid&&i(t=s.treeGrid.getRow(e)));var t,i=s.vScrollInstance.value;return null!=r&&1!=r||null!=s._updating&&0!=s._updating||s._renderrows(),s.showAggregates&&s._updatecolumnsaggregates&&s._updatecolumnsaggregates(),s.source&&s.source._knockoutdatasource&&!s._updateFromAdapter&&s.autokoupdates&&s.source._source._localdata&&(t=s.rowsByKey[e],e=s.getrowindex(t),e=s.source._source._localdata()[e],s.source.suspendKO=!0,s.source._source._localdata.replace(e,X.extend({},t)),s.source.suspendKO=!1),s.vScrollInstance.setPosition(i),l}var l=this.that,a=!1;if(this.source.updaterow)try{null==(a=this.source.updaterow(t,i,function(e){1!=e&&null!=e||(o(l,t,i),s&&s(),l._renderrows(!1),l.autoRowHeight&&(l._updateScrollbars(),l._arrange()))}))&&(a=!0)}catch(e){a=!1}else(a=o(l,t,i))&&s&&s(),l._renderrows(!1),l.autoRowHeight&&(l._updateScrollbars(),l._arrange());return a},lockRow:function(e){e=this._getkey(e);this.lockrowbykey(e)},unlockRow:function(e){e=this._getkey(e);this.unlockrowbykey(e)},lockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!0:this.rowinfo[e]={locked:!0},this._renderrows()},unlockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!1:this.rowinfo[e]={locked:!1},this._renderrows()},selectRow:function(e){e=this._getkey(e);this.selectrowbykey(e)},unselectRow:function(e){e=this._getkey(e);this.unselectrowbykey(e)},selectrowbykey:function(e,t,i){"keyboard"!=t&&"mouse"!=t&&(this._lastSelectedKey=e);t=!1!==i;this._doSelection(e,!0,t);i=this.rowsByKey[e],t=this.getrowindex(i),i=this.getrowdisplayindex(i);this._raiseEvent("rowSelect",{key:e,index:i,boundIndex:t,row:this.rowsByKey[e]})},unselectrowbykey:function(e,t){var i=!1!==t;this._doSelection(e,!1,i);t=this.rowsByKey[e],i=this.getrowindex(t),t=this.getrowdisplayindex(t);this._raiseEvent("rowUnselect",{key:e,index:t,boundIndex:i,row:this.rowsByKey[e]})},getSelection:function(){var e=new Array;if(this.rowinfo)for(var t in this.rowinfo){var i=this.rowinfo[t];i.selected&&e.push(i.row)}return e},showdetailsbykey:function(e){var t,i,r,s,o,l;!this.rowDetails||(t=this.rowinfo[e])&&(t.expanded=!0,i=X(this._table.children()[1]).children("[data-key="+e+"]"),s=X(this._pinnedTable.children()[1]).children("[data-key="+e+"]"),i&&(r=s.children(),l=X(r[0]),this.rtl&&(l=X(r[r.length-1])),this.rtl?(l.removeClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),l.addClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),l.removeClass(this.toThemeProperty("jqx-icon-arrow-left"))):(l.removeClass(this.toThemeProperty("jqx-grid-group-collapse")),l.addClass(this.toThemeProperty("jqx-grid-group-expand")),l.removeClass(this.toThemeProperty("jqx-icon-arrow-right"))),l.addClass(this.toThemeProperty("jqx-icon-arrow-down")),i.next().show(),(l=s.next()).show(),X.jqx.browser.msie&&X.jqx.browser.version<8&&(i.next().children().show(),s.next().children().show()),t.initialized||(s=t.detailsHeight,o=this.initRowDetails(e,t.row,X(X(l).children().children().children()[0]),t),t.details=X(l).children().children().children()[0],!(t.initialized=!0)!==o&&t.detailsHeight==s||(!1===o&&(t.expanded=!1,t.nodetails=!0,l.hide()),this._renderrows())),this._updateScrollbars(),"auto"!==this.height&&null!==this.height&&!this.autoheight||this._arrange(),o=this.getrowindex(t.row),l=this.getrowdisplayindex(t.row),this._raiseEvent("rowExpand",{row:t.row,index:l,boundIndex:o,rowKey:e})))},hidedetailsbykey:function(e){var t,i,r,s,o;!this.rowDetails||(t=this.rowinfo[e])&&(t.expanded=!1,s=X(this._table.children()[1]).children("[data-key="+e+"]"),o=X(this._pinnedTable.children()[1]).children("[data-key="+e+"]"),s&&(i=o.children(),r=X(i[0]),this.rtl&&(r=X(i[i.length-1])),this.rtl?(r.addClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),r.removeClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),r.addClass(this.toThemeProperty("jqx-icon-arrow-left"))):(r.addClass(this.toThemeProperty("jqx-grid-group-collapse")),r.removeClass(this.toThemeProperty("jqx-grid-group-expand")),r.addClass(this.toThemeProperty("jqx-icon-arrow-right"))),r.removeClass(this.toThemeProperty("jqx-icon-arrow-down")),s.next().hide(),o.next().hide(),X.jqx.browser.msie&&X.jqx.browser.version<8&&(s.next().children().hide(),o.next().children().hide()),this._updateScrollbars(),"auto"!==this.height&&null!==this.height&&!this.autoheight||this._arrange(),s=this.getrowindex(t.row),o=this.getrowdisplayindex(t.row),this._raiseEvent("rowCollapse",{row:t.row,index:o,boundIndex:s,rowKey:e})))},_getvirtualcolumnsindexes:function(e,t,i,r,s){if(this.rowDetails||this.rtl||this.editcell||this.width&&0<=this.width.toString().indexOf("%")||this.exporting)return{start:0,end:i+r};var o=0,l=-1,a=i+r;if(this.autorowheight)return{start:0,end:i+r};if(!s)for(var n=0;n<i+r;n++)if(this.columns.records[n].hidden||(o+=this.columns.records[n].width),e<=o&&-1==l&&(l=n),t+e<o){a=n;break}return i+r<++a&&(a=i+r),-1==l&&(l=0),{start:l,end:a}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;"hidden"===this.hScrollBar.css("visibility")&&(t=e.value=0);var i=parseInt(t);if(null!=this.table){var r=this.columnsrow,s=+this.columns.records.length,o=this.columns.records,l=0==this.source.records.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),l&&!this._haspinned)this.table[0].style.left=-i+"px",r[0].style.marginLeft=-i+"px";else{if(this._haspinned||null==this._haspinned){for(var a,n,d=0;d<0+s;d++)o[d].pinned&&(a=null,this.showAggregates&&this.statusbar[0].cells&&(a=this.statusbar[0].cells[d]),this.filterrow&&this.filterrow[0].cells&&(n=this.filterrow[0].cells[d]),this.rtl?(r[0].cells[d].style.marginLeft=-parseInt(t)+"px",a&&(a.style.marginLeft=-parseInt(t)+"px"),this.filterrow&&n&&(n.style.marginLeft=-parseInt(t)+"px")):(r[0].cells[d].style.marginLeft=i+"px",a&&(a.style.marginLeft=i+"px"),this.filterrow&&n&&(n.style.marginLeft=i+"px")));if(this.columnsVirtualization){for(var h=(f=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1)).start,c=f.end,u=0;u<h;u++){var g=u,p=this.columns.records[g].element[0];this.columns.records[g].pinned||(p.parentNode&&p.parentNode.removeChild(p),this.filterrow&&this.filterrow[0]&&(m=this.filterrow[0].cells[g]).parentNode&&m.parentNode.removeChild(m))}for(u=c;u<this.columns.records.length;u++){g=u,p=this.columns.records[g].element[0];this.columns.records[g].pinned||(p.parentNode&&p.parentNode.removeChild(p),this.filterrow&&this.filterrow[0]&&(m=this.filterrow[0].cells[g]).parentNode&&m.parentNode.removeChild(m))}for(u=h;u<c;u++){g=u;p=this.columns.records[g].element[0],this.columns.records[g].pinned||(p.parentNode||this.columnsrow[0].appendChild(p),this.filterrow&&this.filterrow[0]&&((m=this.filterrow[0].cells[g]).parentNode||this.filterrow[0].appendChild(m)))}}this._table[0].style.left=-i+"px",r[0].style.marginLeft=-i+"px"}else if(0==this._haspinned){if(this.columnsVirtualization){for(var f,h=(f=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1)).start,c=f.end,u=0;u<h;u++){g=u;(p=this.columns.records[g].element[0]).parentNode&&p.parentNode.removeChild(p),this.filterrow&&this.filterrow[0]&&(m=this.filterrow[0].cells[g]).parentNode&&m.parentNode.removeChild(m)}for(u=c;u<this.columns.records.length;u++){g=u;(p=this.columns.records[g].element[0]).parentNode&&p.parentNode.removeChild(p),this.filterrow&&this.filterrow[0]&&(m=this.filterrow[0].cells[g]).parentNode&&m.parentNode.removeChild(m)}for(u=h;u<c;u++){var m,g=u;(p=this.columns.records[g].element[0]).parentNode||this.columnsrow[0].appendChild(p),this.filterrow&&this.filterrow[0]&&((m=this.filterrow[0].cells[g]).parentNode||this.filterrow[0].appendChild(m))}}this.table[0].style.left=-i+"px",r[0].style.marginLeft=-i+"px"}this.filterrow&&(this.filterrow[0].style.left=-i+"px",this.rtl&&(this.filterrow[0].style.left=-i+parseInt(this.content.css("left"))+"px"))}this.showAggregates&&this.aggregates[0].cells&&(f=0,this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&(f="hidden"!=this.hScrollBar.css("visibility")?2+parseInt(this.hScrollBar.css("left")):3+parseInt(this.vScrollBar.width())),this.aggregates[0].style.marginLeft=-i+f+"px")}},_initializeColumns:function(){var e=this.source.datafields;null==e&&this.source._source&&(e=this.source._source.datafields);var i=!!e&&0<e.length;if(this.columns&&this.columns.records)for(var t=0;t<this.columns.records.length;t++)this._removecolumnhandlers(this.columns.records[t]);var r,s=this,o=new X.jqx.dataCollection(this.element),l=0;this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,"checkbox"==this.selectionMode&&((r=new O(s,this)).visibleindex=l++,r.width=s.indentWidth,r.checkboxcolumn=!0,r.editable=!1,r.columntype="checkbox",r.groupable=!1,r.draggable=!1,r.filterable=!1,r.resizable=!1,r.datafield="_checkboxcolumn",o.add(r)),this.rowDetails&&!this.treeGrid&&((r=new O(s,this)).visibleindex=l++,r.width=s.indentWidth,r.editable=!1,r.rowDetailscolumn=!0,r.groupable=!1,r.draggable=!1,r.pinned=!0,r.filterable=!1,r.resizable=!1,r.text="",o.add(r));var a=new Array;X.each(this.columns,function(e){if(null!=s.columns[e]){var t=new O(s,this);if(t.visibleindex=l++,null!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(s._haspinned=!0),null==this.datafield)s.source&&s.source._source&&"array"==s.source._source.datatype&&(i||(s.source._source.datafields||(s.source._source.datafields=new Array),s.source._source.datafields.push({name:e.toString()})),this.datafield=e.toString(),this.displayfield=e.toString(),t.datafield=this.datafield,t.displayfield=this.displayfield);else{if(a[this.datafield])throw new Error("jqxDataTable: Invalid column 'dataField' setting. jqxDataTable's columns should be initialized with unique data fields.");a[this.datafield]=!0}o.add(t)}}),this.rtl&&o.records.reverse(),this.columns=o},addFilter:function(e,t){this.getColumn(e)&&this.dataview.addFilter(e,t)},removeFilter:function(e){this.getColumn(e)&&this.dataview.removeFilter(e)},clearFilters:function(e,t){this.dataview.filters=new Array,this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,!1!==t&&this.resetfilter(),!1!==e&&this.applyFilters()},resetfilter:function(){if(this.filterinput&&this.filterinput.val(""),this.filterrow)for(var e=0;e<this.filterrow[0].cells.length;e++){var t=this.filterrow[0].cells[e],i=X(t).find("input:first"),r=X(t).find(".filterconditions"),t=this.columns.records[e];if(t.filterable){i.val("");var s,i=this.getcolumntypebydatafield(t),t=new X.jqx.filter;switch(i){case"number":case"int":case"float":case"decimal":s="numericfilter",t.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":s="booleanfilter",t.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":s="datefilter",t.getoperatorsbyfiltertype("datefilter");break;case"string":s="stringfilter",t.getoperatorsbyfiltertype("stringfilter")}0<r.length&&("stringfilter"===s?r.jqxDropDownList({selectedIndex:2}):r.jqxDropDownList({selectedIndex:0}))}}},applyFilters:function(){var e;this.editable&&null!=this.editKey&&this.endroweditbykey(this.editKey),this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this.serverProcessing?(this.dataview.pagenum=0,this.updateBoundData("filter")):(this.goToPage(0),this.refresh()),arguments&&0<arguments.length&&(this._updateSimpleFilter&&this.filtercolumnsList&&(e=this.filtercolumnsList.jqxDropDownList("getSelectedItem").value,this._updateSimpleFilter(e)),this._updateFilterRow&&this._updateFilterRow()),this._raiseEvent("filter",{filters:this.dataview.filters})},sortBy:function(e,t){if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);var i,r;this.editable&&null!=this.editKey&&this.endroweditbykey(this.editKey),null==e&&(t=null,e=this.sortcolumn),e&&(r="a"==t||"asc"==t||"ascending"==t||1==t,(i=this).sortdirection=null!=t?{ascending:r,descending:!r}:{ascending:!1,descending:!1},i.sortcolumn=null!=t?e:null,i.source.sort&&(i.dataview.sortfield=e,i.dataview.sortfielddirection=null==t?"":r?"asc":"desc",i.source.sort&&!this._loading&&i.source.sort(e,t)),i.dataview.sortBy(e,t),i._raiseEvent("sort",{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection})),this.serverProcessing?this.updateBoundData("sort"):this.refresh()},_togglesort:function(e){var t,i;this.disabled||e.sortable&&this.sortable&&(i=(i=null)==(t={sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}).sortcolumn||t.sortcolumn!=e.displayfield||1!=(i=t.sortdirection.ascending)&&null,this.sortBy(e.displayfield,i))},_renderfilter:function(){var a=this,e=X("<div style='position: relative; margin: 4px;'><input style='width: 200px; height: 22px; direction: ltr;' role='textbox' type='text'/><div style='cursor: pointer; height: 100%;'><div></div></div></div>");e.height(22);var l=e.find("input"),n=e.find("div:first");e.addClass(this.toThemeProperty("jqx-rc-all")),e.addClass(this.toThemeProperty("jqx-widget")),e.addClass(this.toThemeProperty("jqx-input-group")),l.addClass(this.toThemeProperty("jqx-input")),l.addClass(this.toThemeProperty("jqx-rc-l")),l.addClass(this.toThemeProperty("jqx-input-group-addon")),l.addClass(this.toThemeProperty("jqx-widget")),l.addClass(this.toThemeProperty("jqx-widget-content")),n.addClass(this.toThemeProperty("jqx-fill-state-normal")),n.addClass(this.toThemeProperty("jqx-rc-r")),n.addClass(this.toThemeProperty("jqx-input-group-addon")),n.find("div").addClass(this.toThemeProperty("jqx-icon-search")),this.rtl&&(l.addClass(this.toThemeProperty("jqx-rtl")),l.css("direction","rtl")),this.filter.children().remove(),this.filterbutton=n;for(var t=new Array,i=0;i<a.columns.records.length;i++)a.columns.records[i].datafield&&a.columns.records[i].filterable&&t.push({label:a.columns.records[i].text,value:a.columns.records[i].displayfield});var r=t.length<10,s=X("<div style='position: relative; top: 50%; display: none; margin-right: 4px; margin-left: 4px; float: left;'>"+this.gridlocalization.filtersearchstring+"</div>");this.filter.append(s);var d=X("<div class='filtercolumns' style='position: relative; margin: 4px; float: left;'></div>");this.filter.append(d),d.jqxDropDownList&&d.jqxDropDownList({theme:this.theme,enableBrowserBoundsDetection:!0,autoDropDownHeight:r,rtl:a.rtl,dropDownWidth:220,selectedIndex:0,width:"auto",height:20,source:t,displayMember:"label",valueMember:"value"}),this.filtercolumnsList=d;function o(e){a.filterinput.val("");for(var t=0;t<a.dataview.filters.length;t++){var i=a.dataview.filters[t];i.datafield===e&&a.filterinput.val(i.filter.getfilterat(0).filtervalue)}}35!==a.filterHeight&&(a.filtercolumnsList.css("margin-top",a.filterHeight/2-10),e.css("margin-top",a.filterHeight/2-10)),a._updateSimpleFilter=o,this.addHandler(d,"select",function(e){e=e.args.item.value;o(e)}),"simple"===this.filterMode?(this.filtercolumnsList.hide(),s.show(),s.css("margin-top",-this.filter.height()/2),e.css("float","left")):(this.filtercolumnsList.show(),s.hide());function h(){if(!n.hasClass("jqx-fill-state-disabled")){var e=l.val();d.jqxDropDownList&&(i=d.jqxDropDownList("getSelectedItem"));function t(e,t,i){var r=new X.jqx.filter,s=a.getcolumntypebydatafield(e),s=a._getfiltertype(s);return t="datefilter"==s?r.createfilter(s,t,"EQUAL",null,e.cellsFormat,a.gridlocalization):"numericfilter"==s||"booleanfilter"==s?("numericfilter"==s&&(","==a.gridlocalization.decimalseparator&&0<=t.indexOf(a.gridlocalization.decimalseparator)&&(t=t.replace(a.gridlocalization.decimalseparator,".")),0<=t.indexOf(a.gridlocalization.currencysymbol)&&(t=t.replace(a.gridlocalization.currencysymbol,"")),0<=t.indexOf(a.gridlocalization.percentagesymbol)&&(t=t.replace(a.gridlocalization.percentagesymbol,""))),r.createfilter(s,t,"EQUAL",null,e.cellsFormat,a.gridlocalization)):r.createfilter(s,t,"CONTAINS"),r.operator=i,r.addfilter(0,t),r}var i;if("simple"!==a.filterMode)i&&(i=i.value,o=t(s=a.getColumn(i),e,"and"),0<e.length?(a.removeFilter(i),a.addFilter(i,o)):a.removeFilter(i),a.applyFilters(),"advanced"===a.filterMode&&a._updateFilterRow&&a._updateFilterRow(!0));else{if(a.clearFilters(!1,!1),0<e.length)for(var r=0;r<a.columns.records.length;r++){var s,o=t(s=a.columns.records[r],e,"or");a.addFilter(s.datafield,o)}a.applyFilters()}0==a.dataview.filters.length?a.filtericon.fadeOut(200):a.filtericon.fadeIn(200)}}l.keydown(function(e){if(13===e.keyCode)return h(),e.preventDefault&&e.preventDefault(),!1}),n.click(function(){h()}),this.filterinput=l,this.filter.append(e),"advanced"==this.filterMode&&(c=X("<a style='float: left; position: relative; margin: 2px; margin-left: 10px;' href='#'>"+this.gridlocalization.filterstring+"</a>"),e.append(c),this.addHandler(c,"click",function(e){function t(e){if(a.filterrow)for(var t=0;t<a.filterrow[0].cells.length;t++){var i=a.filterrow[0].cells[t],r=X(i).find("input:first"),s=a.columns.records[t];if(s.filterable){!0===e&&r.val("");for(var o=0;o<a.dataview.filters.length;o++){var l=a.dataview.filters[o];if(l.datafield===s.displayfield){r.val(l.filter.getfilterat(0).filtervalue);break}}}}}function i(e){if(a.filterrow)for(var t=0;t<a.filterrow[0].cells.length;t++){var i=a.filterrow[0].cells[t],r=X(i).find("input:first"),s=a.columns.records[t];s.hidden?i.style.visibility="hidden":i.style.visibility="inherit",s.filterable&&(i.style.left=parseInt(0)+parseInt(s.uielement[0].style.left)+"px",i.style.width=6+s.width+"px",r[0]&&(r[0].style.width=s.width-6-22+"px"))}}a._updateFilterRow=t,a._arrangeFilterRow=i;function r(){a.filtercolumnsList.jqxDropDownList({disabled:!0}),a.filterinput.addClass(a.toThemeProperty("jqx-fill-state-disabled")),a.filterinput.attr("disabled",!0),a.filterbutton.addClass(a.toThemeProperty("jqx-fill-state-disabled"))}return 0===a.filter.find(".filterrow").length?(a._renderadvancedfilter(),r(),t(),a._arrange(),i()):("none"===a.filter.find(".filterrow").css("display")?(r(),a.filter.find(".filterrow").removeClass("filterrow-hidden"),t(),a.filter.find(".filterrow").show(),i()):(a.filtercolumnsList.jqxDropDownList({disabled:!1}),a.filterinput.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),a.filterinput.attr("disabled",!1),a.filterbutton.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),o(a.filtercolumnsList.jqxDropDownList("getSelectedItem").value),a.filter.find(".filterrow").addClass("filterrow-hidden"),a.filter.find(".filterrow").hide()),a._arrange()),!1}));var c=X("<div style='float: left; width: 16px; height: 16px; position: relative; margin: 3px;'></div>");c.attr("title",a.gridlocalization.filterclearstring),c.addClass(a.toThemeProperty("jqx-icon-close")),e.append(c),c.hide(),(a.filtericon=c).click(function(){a.clearFilters(),a.filtericon.fadeOut(200)}),0<a.dataview.filters.length&&("advanced"!=a.filterMode?o(a.dataview.filters[0].datafield):a._updateFilterRow&&a._updateFilterRow())},_renderadvancedfilter:function(){function a(){c.clearFilters(!1,!1);for(var e=c.filtercolumnsList.jqxDropDownList("getSelectedItem").value,t=(c.filterinput.val(),0);t<c.filterrow[0].cells.length;t++){var i,r,s=c.filterrow[0].cells[t],o=X(s).find("input:first"),l=X(s).find(".filterconditions"),a=c.columns.records[t],n="";if(a.filterable){a.displayfield===e&&c.filterinput.val(o.val());var d,h=c.getcolumntypebydatafield(a),s=new X.jqx.filter;switch(h){case"number":case"int":case"float":case"decimal":i="numericfilter",r=s.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":i="booleanfilter",r=s.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":i="datefilter",r=s.getoperatorsbyfiltertype("datefilter");break;case"string":i="stringfilter",r=s.getoperatorsbyfiltertype("stringfilter")}n=0!=l.length&&(d=l.jqxDropDownList("getSelectedItem"))?r[d.index]:"stringfilter"===i?r[2]:r[0];h=o.val();(0<h.length||0==h.length&&"NOT_NULL"==n||0==h.length&&"NOT_EMPTY"==n||0==h.length&&"EMPTY"==n||0==h.length&&"NULL"==n)&&(l=a.displayfield,o=new X.jqx.filter,"numericfilter"==i&&(","==c.gridlocalization.decimalseparator&&0<=h.indexOf(c.gridlocalization.decimalseparator)&&(h=h.replace(c.gridlocalization.decimalseparator,".")),0<=h.indexOf(c.gridlocalization.currencysymbol)&&(h=h.replace(c.gridlocalization.currencysymbol,"")),0<=h.indexOf(c.gridlocalization.percentagesymbol)&&(h=h.replace(c.gridlocalization.percentagesymbol,""))),s=o.createfilter(i,h,n,null,a.cellsFormat,c.gridlocalization),o.addfilter(0,s),c.addFilter(l,o))}}0<c.dataview.filters.length?c.applyFilters():c.clearFilters(),0==c.dataview.filters.length?c.filtericon.fadeOut(200):c.filtericon.fadeIn(200)}var c=this;!function(){var t=X("<div style='position: relative;' class='filterrow'></div>").appendTo(c.filter);(c.filterrow=t)[0].cells=new Array,t.height(24),t.width(c.table.width());var i=c.filtercolumnsList.jqxDropDownList("getSelectedItem").value,l=c.filterinput.val();X.each(c.columns.records,function(){var r=this,e=X("<div></div>").appendTo(t);if(e.css("position","absolute"),e.css("left",0+parseInt(r.uielement[0].style.left)),r.pinned&&(e.css("z-index",c.tableZIndex+c.columns.records.length),e.addClass(c.toThemeProperty("jqx-widget-header"))),t[0].cells.push(e[0]),!this.filterable)return!0;var s=X("<input style='margin-left: 4px; height: 20px; float: left;' role='textbox' type='text'/>").appendTo(e);s.keydown(function(e){13===e.keyCode&&a()}),r.displayfield===i&&s.val(l),s.addClass(c.toThemeProperty("jqx-input")),s.addClass(c.toThemeProperty("jqx-rc-all")),s.addClass(c.toThemeProperty("jqx-widget")),s.addClass(c.toThemeProperty("jqx-widget-content"));var o=X("<div style='cursor: pointer; margin-left: 4px; margin-bottom: 4px; margin-top: 6px; width: 18px; position: relative; margin-top: 4px; float: left;'></div>").appendTo(e);o.append(X("<div style='width: 16px; height: 16px;' class='"+c.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>")),s.focus(function(){c.ensureColumnVisible(r.displayfield),c.filter[0].scrollLeft=0,c.ensureColumnVisible(r.displayfield),setTimeout(function(){c.filter[0].scrollLeft=0,c.ensureColumnVisible(r.displayfield)},10)}),o.click(function(){var e=X("<div class='filterconditions' style='position: relative; margin-top: 1px; float: left;'></div>");e.insertAfter(o),o.remove();var t=c.getcolumntypebydatafield(r),i=c._getfiltersbytype(t),t="string"===t?2:0;e.jqxDropDownList({theme:c.theme,enableBrowserBoundsDetection:!0,renderMode:"simple",arrowSize:0,selectedIndex:t,rtl:c.rtl,dropDownWidth:230,dropDownHeight:180,width:20,height:20,source:i,selectionRenderer:function(){return"<div style='width: 16px; height: 16px;' class='"+c.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>"}}),c.addHandler(e,"close",function(e){s.focus(),setTimeout(function(){s.focus()},10)}),e.removeAttr("tabindex"),e.find("div").removeAttr("tabindex"),e.jqxDropDownList("open")}),s[0].style.width=r.width-6-22+"px"}),X("<div style='clear: both;'></div>").appendTo(t)}();var e=X("<div style='position:relative;' class='filterrow'></div>").appendTo(c.filter),t=X("<input type='button' style='position: relative; float: left; margin-top: 4px; margin-left: 4px;' value='"+c.gridlocalization.filterapplystring+"'/>").appendTo(e),e=X("<input type='button' style='position: relative; float: left; margin-top: 4px;  margin-left: 4px;' value='"+c.gridlocalization.filtercancelstring+"'/>").appendTo(e);t.css("left",0),e.css("left",0),t.css("top","4px"),e.css("top","4px"),t.jqxButton({theme:c.theme}),e.jqxButton({theme:c.theme}),e.click(function(){c.filtercolumnsList.jqxDropDownList({disabled:!1}),c.filterinput.removeClass(c.toThemeProperty("jqx-fill-state-disabled")),c.filterinput.attr("disabled",!1),c.filterbutton.removeClass(c.toThemeProperty("jqx-fill-state-disabled")),c.filter.find(".filterrow").addClass("filterrow-hidden"),c.filter.find(".filterrow").hide(),c._arrange()}),t.click(function(){a()}),c._renderhorizontalscroll()},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":t="datefilter";break;case"string":t="stringfilter"}return t},getcolumntypebydatafield:function(e){var t=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(t){var i="";if(X.each(t,function(){if(this.name==e.displayfield)return this.type&&(i=this.type),!1}),i)return i}return"string"},_getfiltersbytype:function(e){var t="";switch(e){case"number":case"float":case"int":t=this.gridlocalization.filternumericcomparisonoperators;break;case"date":t=this.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":t=this.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:t=this.gridlocalization.filterstringcomparisonoperators}return t},_getcellvalue:function(e,t){var i=null,i=t[e.datafield];return null!=e.displayfield&&(i=t[e.displayfield]),null==i&&(i=""),i},_renderrows:function(e){if(this.editable&&null!=this.editKey&&!1!==e&&this.endroweditbykey(this.editKey),this.treeGrid)this.treeGrid._renderrows();else if(!this._loading&&!this._updating){this.rendering&&this.rendering();var o=this,t=0;this.table[0].rows=new Array;var i=this.toTP("jqx-cell")+" "+this.toTP("jqx-widget-content");this.rtl&&(i+=" "+this.toTP("jqx-cell-rtl"));var r=this.columns.records.length,s=X.jqx.browser.msie&&X.jqx.browser.version<8;s&&this.host.attr("hideFocus","true");var l,a=o.groups.length,n=new Array,e=this.source.records,e=this.dataview.evaluate(e);if(this.dataViewRecords=e,"all"==this.dataview.pagesize||!this.pageable||this.serverProcessing?(l=e,this.pageable&&this.serverProcessing&&e.length>this.dataview.pagesize&&(l=e.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize))):l=e.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize),o.groups&&0<o.groups.length){var d=this.pageable?this.dataview.pagesize*this.dataview.pagenum:0;x="root"===this.pageSizeMode?(x=o.source.getGroupedRecords(o.groups,"records","label",null,"data",null,"parent",e,0),o.rootRecordsLength=x.length,function(e){for(var t=0,i=new Array,r=0;r<e.length;r++){var s=e[r];if(0==s.level&&t++,t>o.dataview.pagesize*o.dataview.pagenum&&t<=o.dataview.pagesize*o.dataview.pagenum+o.dataview.pagesize&&i.push(s),t>o.dataview.pagesize*o.dataview.pagenum+o.dataview.pagesize)break}return i}(x)):o.source.getGroupedRecords(o.groups,"records","label",null,"data",null,"parent",l,d);var h=function(e,t){for(var i=0;i<e.length;i++){var r=e[i];if(t.push(r),r.records&&0<r.records.length)for(var s=h(r.records,new Array),o=0;o<s.length;o++)s[o].leaf,t.push(s[o])}return t};l=n=h.call(o,x,new Array),this.rowsByKey=new Array;for(var c=0;c<l.length;c++){var u=l[c];this.rowsByKey[u.uid]=u}}var n=l,g=(this.renderedRecords=n).length,d=this.tableZIndex,p=0,f=0;if(s)for(var m=0;m<r;m++){(I=(y=this.columns.records[m]).width)<y.minwidth&&(I=y.minwidth),I>y.maxwidth&&(I=y.maxwidth);var w=X('<table><tr><td role="gridcell" style="max-width: '+I+"px; width:"+I+'px;" class="'+i+'"></td></tr></table>');X(document.body).append(w);var v=w.find("td"),p=1+parseInt(v.css("padding-left"))+parseInt(v.css("padding-right"));w.remove();break}for(var y,x=this.rtl?" "+this.toTP("jqx-grid-table-rtl"):"",b="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+x+"' id='table"+this.element.id+"'><colgroup>",_="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+x+"' id='pinnedtable"+this.element.id+"'><colgroup>",j=0,m=0;m<r;m++)(y=this.columns.records[m]).hidden?(j++,0):((I=y.width)<y.minwidth&&(I=y.minwidth),I>y.maxwidth&&(I=y.maxwidth),(I-=p)<0&&(I=0),s?(R=I,m==j&&R++,y.rowDetailscolumn?_+="<col style='max-width: "+(R=R+4)+"px; width: "+R+"px;'>":_+="<col style='max-width: "+R+"px; width: "+R+"px;'>",b+="<col style='max-width: "+R+"px; width: "+R+"px;'>"):(_+="<col style='max-width: "+I+"px; width: "+I+"px;'>",b+="<col style='max-width: "+I+"px; width: "+I+"px;'>"),f+=I);b+="</colgroup>",_+="</colgroup>";var q=this._hiddencolumns=!1;this.rowDetails&&this._pinnedTable&&(this._pinnedTable.find("[data-role=details]").detach(),this._table.find("[data-role=details]").detach()),0===g&&(P='<tr role="row">',V=this.host.height(),this.pageable&&(V-=this.pagerHeight,"both"===this.pagerPosition&&(V-=this.pagerHeight)),V-=this.columnsHeight,this.filterable&&(x=this.filter.find(".filterrow"),W=1,0<this.filter.find(".filterrow-hidden").length&&(W=0),V-=this.filterHeight+this.filterHeight*x.length*W),this.showstatusbar&&(V-=this.statusBarHeight),this.showAggregates&&(V-=this.aggregatesHeight),V<25&&(V=25),"hidden"!=this.hScrollBar[0].style.visibility&&(V-=this.hScrollBar.outerHeight()),"auto"!==this.height&&null!==this.height&&!this.autoheight||(V=300),w='<td colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+V+"px; height: "+V+"px; max-width:"+f+"px; width:"+f+"px;",i=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item"),w+='" class="'+(i+=" "+this.toTP("jqx-center-align"))+'">',w+=this.gridlocalization.emptydatastring,b+=P+=w+="</td>",_+=P,this.table[0].style.width=f+2+"px",t=f);for(var S=this.getRows(),T=new Array,c=0;c<n.length;c++){var C=(u=n[c]).uid;void 0===u.uid&&(u.uid=this.dataview.generatekey());var P='<tr data-key="'+C+'" role="row" id="row'+c+this.element.id+'">',z='<tr data-key="'+C+'" role="row" id="row'+c+this.element.id+'">';0<a&&u.level<a&&(P='<tr data-role="row-group" data-key="'+C+'" role="row" id="row'+c+this.element.id+'">',z='<tr data-role="row-group" data-key="'+C+'" role="row" id="row'+c+this.element.id+'">');for(var H,B,k=0,D=0,m=0;m<r;m++){var I,F=this.columns.records[m];(F.pinned||this.rtl&&this.columns.records[r-1].pinned)&&(q=!0),(I=F.width)<F.minwidth&&(I=F.minwidth),I>F.maxwidth&&(I=F.maxwidth),(I-=p)<0&&(I=0);var i=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");F.pinned&&(i+=" "+this.toTP("jqx-grid-cell-pinned")),this.sortcolumn===F.displayfield&&(i+=" "+this.toTP("jqx-grid-cell-sort")),this.altRows&&c%2!=0&&(i+=" "+this.toTP("jqx-grid-cell-alt")),this.rtl&&(i+=" "+this.toTP("jqx-cell-rtl"));var M="";if(0<a&&u.level<a)if(s)i+=" "+this.toTP("jqx-grid-cell-pinned");else{i+=" "+this.toTP("jqx-grid-cell-pinned"),M+=' colspan="'+r+'"';for(var R=0,L=0;L<r;L++){var A=o.columns.records[L],K=A.width;K<A.minwidth&&(I=A.minwidth),K>A.maxwidth&&(I=A.maxwidth),(K-=p)<0&&(K=0),A.hidden||(R+=K)}I=R}var w='<td role="gridcell" '+M+' style="max-width:'+I+"px; width:"+I+"px;",O='<td role="gridcell" '+M+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+I+"px; width:"+I+"px;";m==r-1&&1==r&&(w+="border-right-color: transparent;",O+="border-right-color: transparent;");var N=!1;0<a&&u.level<a&&(N=!0),N?this.rtl&&(i+=" "+this.toTP("jqx-right-align")):"left"!=F.cellsalign&&("right"===F.cellsalign?i+=" "+this.toTP("jqx-right-align"):i+=" "+this.toTP("jqx-center-align")),this.rowinfo[u.uid]&&(this.rowinfo[u.uid].selected&&!F.rowDetailscolumn&&this.editKey!==u.uid&&"none"!==this.selectionMode&&(i+=" "+this.toTP("jqx-grid-cell-selected"),i+=" "+this.toTP("jqx-fill-state-pressed")),this.rowinfo[u.uid].locked&&(i+=" "+this.toTP("jqx-grid-cell-locked"))),F.hidden?N||(w+="display: none;",O+="display: none;",this._hiddencolumns=!0):(k+=p+I,0==D&&(w+="border-left-width: 0px;",O+="border-left-width: 0px;"),D++),0<a&&s&&N&&a<=m&&(w+="font-size: 1px; border-color: transparent;  color: transparent;",O+="font-size: 1px; border-color: transparent; color: transparent;"),F.pinned&&(w+="pointer-events: auto;",O+="pointer-events: auto;"),!N&&F.rowDetailscolumn&&(this.rowinfo[u.uid]?this.rowinfo[u.uid].nodetails||(this.rowinfo[u.uid].expanded?(this.rtl?i+=" "+this.toTP("jqx-grid-group-expand-rtl"):i+=" "+this.toTP("jqx-grid-group-expand"),i+=" "+this.toTP("jqx-icon-arrow-down")):this.rtl?(i+=" "+this.toTP("jqx-grid-group-collapse-rtl"),i+=" "+this.toTP("jqx-icon-arrow-left")):(i+=" "+this.toTP("jqx-grid-group-collapse"),i+=" "+this.toTP("jqx-icon-arrow-right"))):this.rtl?(i+=" "+this.toTP("jqx-grid-group-collapse-rtl"),i+=" "+this.toTP("jqx-icon-arrow-left")):(i+=" "+this.toTP("jqx-grid-group-collapse"),i+=" "+this.toTP("jqx-icon-arrow-right"))),this.autoRowHeight&&(!this.autoRowHeight||F.autoCellHeight)||(i+=" "+this.toTP("jqx-grid-cell-nowrap "));var E,G=o._getcellvalue(F,u),M=F.cellsFormat;if(0<a&&u.level<a&&(G=u.label,M=o.getColumn(o.groups[u.level]).cellsFormat),""!=M&&X.jqx.dataFormat&&(X.jqx.dataFormat.isDate(G)?G=X.jqx.dataFormat.formatdate(G,M,o.gridlocalization):(X.jqx.dataFormat.isNumber(G)||!isNaN(parseFloat(G))&&isFinite(G))&&(G=X.jqx.dataFormat.formatnumber(G,M,o.gridlocalization))),N?this.groupsRenderer&&(G=this.groupsRenderer(G,u,u.level)):(""!=F.cellclassname&&F.cellclassname&&("string"==typeof F.cellclassname?i+=" "+F.cellclassname:(E=F.cellclassname(c,F.datafield,G,u))&&(i+=" "+E)),""!=F.cellsRenderer&&F.cellsRenderer&&(-1===(E=S.indexOf(u))&&u.originalRecord&&(E=S.indexOf(u.originalRecord)),(G=F.cellsRenderer(E,F.datafield,G,u))&&(0<=G.indexOf("<jqx-")||0<=G.indexOf(" ng-"))&&T.push({rowKey:u.uid,row:E,column:F.datafield,value:G,columnIndex:m}))),w+='" class="'+i+'">',w+=G,w+="</td>",O+='" class="'+i+'">',O+=G,O+="</td>",F.pinned?(z+=w,P+=w):(P+=w,q&&(z+=O)),0<a&&!s&&u.level<a)break}0==t&&(this.table[0].style.width=k+2+"px",t=k),b+=P+="</tr>",_+=z+="</tr>",this.rowinfo[u.uid]?("group"in this.rowinfo[u.uid]||(this.rowinfo[u.uid].group=N),"row"in this.rowinfo[u.uid]||(this.rowinfo[u.uid].row=u),"details"in this.rowinfo[u.uid]||(this.rowinfo[u.uid].details=null),"detailsHeight"in this.rowinfo[u.uid]||(this.rowinfo[u.uid].detailsHeight=200),"initialized"in this.rowinfo[u.uid]||(this.rowinfo[u.uid].initialized=!1),"expanded"in this.rowinfo[u.uid]||(this.rowinfo[u.uid].expanded=!1)):this.rowinfo[u.uid]={group:N,row:u,details:null,detailsHeight:200,initialized:!1,expanded:!1},this.serverProcessing&&(this.rowinfo[u.uid].row=u),this.rowDetails&&(H=this.rowinfo[u.uid].detailsHeight,B=this.rowinfo[u.uid]&&this.rowinfo[u.uid].expanded?'<tr data-role="row-details"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+H+"px; max-height: "+H+"px; height: "+H+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"':'<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+H+"px; max-height: "+H+"px; height: "+H+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"',i=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item"),i+=" "+this.toTP("jqx-details"),i+=" "+this.toTP("jqx-reset"),b+=B+='" class="'+i+'"><div style="pointer-events: auto; overflow: hidden; min-height: '+H+"px; max-height: "+H+"px; height: "+H+'px;"><div data-role="details"></div></div></td></tr>',_+=B)}if(b+="</table>",_+="</table>",q){o.WinJS?MSApp.execUnsafeLocalFunction(function(){o.table.html(_+b)}):o.table[0].innerHTML=_+b;var W=this.table.find("#table"+this.element.id),V=this.table.find("#pinnedtable"+this.element.id);if(V.css("float","left"),V.css("pointer-events","none"),W.css("float","left"),V[0].style.position="absolute",W[0].style.position="relative",W[0].style.zIndex=d-10,V[0].style.zIndex=d+10,this._table=W,this._table[0].style.left="0px",this._pinnedTable=V,this._pinnedTable[0].style.left="0px",this._pinnedTable[0].style.width=t+"px",this._table[0].style.width=t+"px",this.rtl&&t>parseInt(this.element.style.width)&&this._haspinned&&(this._pinnedTable[0].style.left=3-t+parseInt(this.element.style.width)+"px"),this.rowDetails)for(c=0;c<g;c++){var U,Y,C=(u=n[c]).uid;this.rowinfo[C].details&&(U=X(this._table.children()[1]).children("[data-key="+C+"]"),Y=X(this._pinnedTable.children()[1]).children("[data-key="+C+"]"),U&&(Y=Y.next(),(Y=X(X(Y).children().children())).children().detach(),Y.append(this.rowinfo[u.uid].details)))}}else{o.WinJS?MSApp.execUnsafeLocalFunction(function(){o.table.html(b)}):o.table[0].innerHTML=b;L=this.table.find("#table"+this.element.id);this._table=L,X.jqx.browser.msie&&X.jqx.browser.version<10&&(this._table[0].style.width=t+"px"),0===g&&(this._table[0].style.width=2+t+"px")}0===g&&(this._table[0].style.tableLayout="auto",this._pinnedTable&&(this._pinnedTable[0].style.tableLayout="auto")),T&&0<T.length&&(this._table[0].rows,X.each(T,function(){this.row;var e=this.rowKey,t=(this.column,this.columnIndex),e=o._getuirow(e);e&&(t=e[0].cells[t],X.jqx.angularCompile&&X.jqx.angularCompile(t,"<div>"+t.innerHTML+"</div>"))})),this.rendered&&this.rendered()}},getcolumnindex:function(e){e=this.getColumn(e);return this.columns.records.indexOf(e)},setcolumnindex:function(e,t,i){var r,s,o,l,a=this.getColumn(e);a.pinned||a.hidden||a.checkboxcolumn||a.grouped||(r=this.columns.records.indexOf(a),this.columns.records.splice(r,1),this.columns.records.splice(t,0,a),s=0,o=this.headerZIndex,this.columnsrow.children().detach(),e=this.toThemeProperty("jqx-grid-cell"),e+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),e+=" "+this.toThemeProperty("jqx-item"),null!=(l=this).filterrow&&X(l.filterrow.children()[0]),this.columnsrow[0].cells=[],X.each(this.columns.records,function(e,t){var i=this.uielement;l.columnsrow.append(i),l.rtl?i.css("z-index",o++):i.css("z-index",o--);var r=l.rtl?250+o+1:250+o-1;this.pinned&&i.css("z-index",r);r=this.width;i.css("left",s),l.columnsrow[0].cells[l.columnsrow[0].cells.length]=i[0],this.hidden,this.hidden&&this.hideable||(s+=r)}),!this.groupable||0<(e=this.groups.length)&&0<=r-e&&(r-=e,t-=e),this.rowDetails&&0<=r-1&&(r--,t--),"checkbox"==this.selectionMode&&0<=r-1&&(r--,t--),a=this._columns[r],this._columns.splice(r,1),this._columns.splice(t,0,a),this.resize(),this._rendercolumnGroups(),this._raiseEvent("columnReordered",{dataField:a.datafield,oldIndex:r,newIndex:t}))},_pinnedColumnsLength:function(){var e=0;return X.each(this.columns.records,function(){this.pinned&&e++,this.grouped&&e++}),this.rowDetails&&e++,"checkbox"==this.selectionMode&&e++,e},_handlecolumnsReorder:function(){var e,t,i,a,n=this,d=-1,h=!1;n.columnsReorder&&(e="mousemove.reorder"+this.element.id,t="mousedown.reorder"+this.element.id,i="mouseup.reorder"+this.element.id,a=!1,this.isTouchDevice()&&!0!==this.touchmode&&(a=!0,e=X.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,t=X.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,i=X.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(X(document),e),this.addHandler(X(document),e,function(e){if(n.resizing)return!0;if(null!=n.reordercolumn){var t=parseInt(e.pageX),i=parseInt(e.pageY);!a||null!=(l=n.getTouches(e)[0])&&(t=parseInt(l.pageX),i=parseInt(l.pageY));var r=n.host.coord(),s=parseInt(r.left),o=parseInt(r.top);null!=n.dragmousedownoffset&&null!=n.dragmousedownoffset||(n.dragmousedownoffset={left:0,top:0});var l=parseInt(t)-parseInt(n.dragmousedownoffset.left),r=parseInt(i)-parseInt(n.dragmousedownoffset.top);if(n.reordercolumn.css({left:l+"px",top:r+"px"}),h=!1,s<=t&&t<=s+n.host.width()&&o<=i&&i<=o+n.host.height()&&(h=!0),d=-1,h){n.reordercolumnicon.removeClass(n.toThemeProperty("jqx-grid-dragcancel-icon")),n.reordercolumnicon.addClass(n.toThemeProperty("jqx-grid-drag-icon"));s=n.columnsheader.coord(),o=s.top+n.columnsheader.height();if(null!=n.columnsdropline)if(i>=s.top&&i<=o){if(d=n._handlereordercolumnsdroplines(t),n.columnGroups&&-1!=d){i=0;i+=n._pinnedColumnsLength();o=d.index;if(i<=o){t=n.columns.records[o];if(null!=t){i=n.columns.records.indexOf(n.getColumn(t.datafield));null==t.datafield&&(i=n.columns.records.indexOf(n.getcolumnbytext(t.text)));o=X.data(n.reordercolumn[0],"reorderrecord"),t=t;if(n.columns.records.indexOf(n.getColumn(o))<i&&"before"==d.position&&(t=n.columns.records[i-1]),t.columngroup!=n.getColumn(o).columngroup)return void n.columnsdropline.hide()}}}}else n.columnsdropline.fadeOut("slow")}else null!=n.columnsdropline&&n.columnsdropline.fadeOut("slow"),n.reordercolumnicon.removeClass(n.toThemeProperty("jqx-grid-drag-icon")),n.reordercolumnicon.addClass(n.toThemeProperty("jqx-grid-dragcancel-icon"));if(e.preventDefault&&(e.preventDefault(),e.stopPropagation()),a)return e.preventDefault(),e.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(X(document),t),this.addHandler(X(document),t,function(e){if(n.resizing)return!0;n.columnsbounds=new Array;var r=n.host.coord().left,s=n.host.coord().top;n.showtoolbar&&(s+=n.toolbarHeight),n.filter&&(s+=n.filter.height());var o=0;X.each(n.columns.records,function(e){var t=this;if(t.hidden)return n.columnsbounds[n.columnsbounds.length]={top:s,column:t,left:r,width:0,height:2},!0;0==o&&(r=n.rtl?parseInt(n.host.coord().left)-n.hScrollInstance.max+n.hScrollInstance.value:parseInt(n.host.coord().left)-n.hScrollInstance.value),o++;var i=2+n.columnsHeight;n.columnshierarchy&&(s=X(t.uielement).coord().top,i=X(t.uielement).height()),n.columnsbounds[n.columnsbounds.length]={top:s,column:t,left:r,width:t.width,height:i},r+=t.width})}),this.removeHandler(X(document),i),this.addHandler(X(document),i,function(e){if(n.resizing)return!0;n.__drag=!1,X(document.body).removeClass("jqx-disableselect");parseInt(e.pageX),parseInt(e.pageY);a&&(r=n.getTouches(e)[0],parseInt(r.pageX),parseInt(r.pageY));var t=n.host.coord(),i=(parseInt(t.left),parseInt(t.top));if(n.showtoolbar&&(i+=n.toolbarHeight),n.columndragstarted=!1,(n.dragmousedown=null)!=n.reordercolumn){var e=X.data(n.reordercolumn[0],"reorderrecord"),r=n.columns.records.indexOf(n.getColumn(e));n.reordercolumn.remove(),n.reordercolumn=null;t=0;if(t+=n._pinnedColumnsLength(),null!=e){if(h&&-1!=d){i=d.index;if(t<=i){t=n.columns.records[i];if(null!=t){i=n.columns.records.indexOf(n.getColumn(t.datafield));if(null==t.datafield&&(i=n.columns.records.indexOf(n.getcolumnbytext(t.text))),n.columnGroups){t=t;if(r<i&&"before"==d.position&&(t=n.columns.records[i-1]),t.columngroup!=n.getColumn(e).columngroup)return void(null!=n.columnsdropline&&(n.columnsdropline.remove(),n.columnsdropline=null))}r<i?"before"==d.position?n.setcolumnindex(e,i-1):n.setcolumnindex(e,i):i<r&&n.setcolumnindex(e,i)}}}null!=n.columnsdropline&&(n.columnsdropline.remove(),n.columnsdropline=null)}}}))},getcolumnbytext:function(e){var t=null;return this.columns.records&&X.each(this.columns.records,function(){if(this.text==e)return t=this,!1}),t},_handlereordercolumnsdroplines:function(t){var i=this,r=-1,s=i._pinnedColumnsLength(),o=parseInt(i.host.coord().left)+i.host.width(),l="hidden"!=i.vScrollBar.css("visibility")?19:0;return i.rtl||(l=0),X.each(i.columnsbounds,function(e){if(s<=e){if(0==this.width)return!0;if(t<=this.left+this.width/2)return o<t?(i.columnsdropline.fadeOut(),!1):(i.columnsdropline.css("left",l+parseInt(this.left)+"px"),i.columnsdropline.css("top",parseInt(this.top)+"px"),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),!(r={index:e,position:"before"}));if(t>=this.left+this.width/2){if(this.left+this.width>o)return i.columnsdropline.fadeOut(),!1;i.columnsdropline.css("left",l+1+this.left+this.width),i.columnsdropline.css("top",this.top),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),r={index:e,position:"after"}}}}),r},_createreordercolumn:function(e,t,i){var r=this,s=t;r.reordercolumn&&r.reordercolumn.remove(),r.columnsdropline&&r.columnsdropline.remove(),r.reordercolumn=X("<div></div>");var o=e.clone();r.reordercolumn.css("z-index",999999),o.css("border-width","1px"),o.css("opacity","0.4");t=X(o.find("."+r.toThemeProperty("jqx-grid-column-menubutton")));0<t.length&&t.css("display","none");t=X(o.find(".jqx-icon-close"));0<t.length&&t.css("display","none"),r.reordercolumnicon=X('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),r.reordercolumnicon.addClass(r.toThemeProperty("jqx-grid-drag-icon")),r.reordercolumn.css("float","left"),r.reordercolumn.css("position","absolute");r.host.coord();o.width(e.width()+16),r.reordercolumn.append(o),r.reordercolumn.height(e.height()),r.reordercolumn.width(o.width()),r.reordercolumn.append(r.reordercolumnicon),X(document.body).append(r.reordercolumn),o.css("margin-left",0),o.css("left",0),o.css("top",0),r.reordercolumn.css("left",s.left+r.dragmousedown.left),r.reordercolumn.css("top",s.top+r.dragmousedown.top),null!=i&&i&&(r.columnsdropline=X('<div style="z-index: 9999; display: none; position: absolute;"></div>'),r.columnsdropline.width(2),r.columnsdropline.addClass(r.toThemeProperty("jqx-grid-group-drag-line")),X(document.body).append(r.columnsdropline))},_handlecolumnsdragreorder:function(s,r){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var o=this,l=!1;this.isTouchDevice()&&!0!==this.touchmode&&(l=!0);var e="mousedown.drag",a="mousemove.drag";l?(e=X.jqx.mobile.getTouchEventName("touchstart")+".drag",a=X.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(r,"dragstart",function(e){return!1}),this.addHandler(r,e,function(e){if(0==s.draggable)return!0;if(o.resizing)return!0;o.__drag=!0;var t=e.pageX,i=e.pageY;l&&(t=(r=o.getTouches(e)[0]).pageX,i=r.pageY),o.dragmousedown={left:t,top:i};var r=X(e.target).coord();return o.dragmousedownoffset={left:parseInt(t)-parseInt(r.left),top:parseInt(i-r.top)},e.preventDefault&&e.preventDefault(),!0}),this.addHandler(r,a,function(e){return!s.draggable||(null==s.datafield||(!!s.pinned||(!!o.resizing||void(o.dragmousedown&&(t=e.pageX,i=e.pageY,!l||null!=(e=o.getTouches(e)[0])&&(t=e.pageX,i=e.pageY),a={left:t,top:i},o.columndragstarted||null!=o.reordercolumn||(t=Math.abs(a.left-o.dragmousedown.left),i=Math.abs(a.top-o.dragmousedown.top),(3<t||3<i)&&(o._createreordercolumn(r,a,!0),X(document.body).addClass("jqx-disableselect"),X.data(o.reordercolumn[0],"reorderrecord",s.datafield))))))));var t,i})},getTouches:function(e){return X.jqx.mobile.getTouches(e)},_handlecolumnsResize:function(){var a=this;if(this.columnsResize){var n=!1;a.isTouchDevice()&&(n=!0);var e="mousemove.resize"+this.element.id,t="mousedown.resize"+this.element.id,i="mouseup.resize"+this.element.id;n&&(e=X.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,t=X.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,i=X.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id),this.removeHandler(X(document),e),this.addHandler(X(document),e,function(e){if(null!=a.resizablecolumn&&!a.disabled&&a.resizing&&null!=a.resizeline){a.resizablecolumn.columnelement;var t=a.host.coord(),i=parseInt(a.resizestartline.coord().left),r=i-a._startcolumnwidth,s="auto"==(s=a.resizablecolumn.column.minwidth)?0:parseInt(s),o="auto"==(o=a.resizablecolumn.column.maxwidth)?0:parseInt(o),l=e.pageX;n&&(l=X.jqx.mobile.getTouches(e)[0].pageX),r+=s;s=0<o?i+o:0,o=0==o||a._startcolumnwidth+l-i<o;if(a.rtl&&(o=!0),o)if(a.rtl){if(l>=t.left&&l<=t.left+a.host.width()&&(a.resizeline.css("left",l),n))return!1}else if(l>=t.left&&r<=l&&((0!=s&&e.pageX<s||0==s)&&a.resizeline.css("left",l),n))return!1}if(!n&&null!=a.resizablecolumn)return!1}),this.removeHandler(X(document),t),this.addHandler(X(document),t,function(e){var t,s;null==a.resizablecolumn||a.disabled||((t=a.resizablecolumn.columnelement).coord().top+t.height()+5<e.pageY||t.coord().top-5>e.pageY?a.resizablecolumn=null:(a._startcolumnwidth=a.resizablecolumn.column.width,a.resizablecolumn.column._width=null,X(document.body).addClass("jqx-disableselect"),X(document.body).addClass("jqx-position-reset"),a._mouseDownResize=new Date,a.resizing=!0,a._resizecolumn=a.resizablecolumn.column,a.resizeline=a.resizeline||X('<div style="position: absolute;"></div>'),a.resizestartline=a.resizestartline||X('<div style="position: absolute;"></div>'),a.resizebackground=a.resizebackground||X('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),a.resizebackground.css("opacity",.01),a.resizebackground.css("cursor","col-resize"),a.resizeline.css("cursor","col-resize"),a.resizestartline.css("cursor","col-resize"),a.resizeline.addClass(a.toThemeProperty("jqx-grid-column-resizeline")),a.resizestartline.addClass(a.toThemeProperty("jqx-grid-column-resizestartline")),X(document.body).append(a.resizeline),X(document.body).append(a.resizestartline),X(document.body).append(a.resizebackground),s=a.resizablecolumn.columnelement.coord(),a.resizebackground.css("left",a.host.coord().left),a.resizebackground.css("top",a.host.coord().top),a.resizebackground.width(a.host.width()),a.resizebackground.height(a.host.height()),a.resizebackground.css("z-index",999999999),(e=function(e){a.rtl?e.css("left",parseInt(s.left)):e.css("left",parseInt(s.left)+a._startcolumnwidth);var t=0;t+=a.showtoolbar?a.toolbarHeight:0,t+=a.showstatusbar?a.statusBarHeight:0,t+=a.showAggregates?a.aggregatesHeight:0,a.pageable&&"bottom"!=a.pagerPosition&&(t+=a.pagerHeight),a.filterable&&(t+=a.filter.height());var i=0;a.pageable&&"top"!=a.pagerPosition&&(i=a.pagerHeight);var r="hidden"!=a.hScrollBar.css("visibility")?a.scrollBarSize:0;e.css("top",parseInt(s.top)),e.css("z-index",9999999999),a.columnGroups?e.height(a.host.height()+a.resizablecolumn.columnelement.height()-i-t-r-a.columnGroupslevel*a.columnsHeight):e.height(a.host.height()-i-t-r),e.show("fast")})(a.resizeline),e(a.resizestartline),a.dragmousedown=null))});function r(){if(X(document.body).removeClass("jqx-disableselect"),X(document.body).removeClass("jqx-position-reset"),a.resizing){if(a._mouseUpResize=new Date,a._mouseUpResize-a._mouseDownResize<200)return a.resizing=!1,void(null!=a._resizecolumn&&null!=a.resizeline&&"block"==a.resizeline.css("display")&&(a._resizecolumn=null,a.resizeline.hide(),a.resizestartline.hide(),a.resizebackground.remove()));if(a.resizing=!1,!a.disabled){var e=a.host.width();if("hidden"!=a.vScrollBar[0].style.visibility&&(e-=20),e<0&&(e=0),null!=a._resizecolumn&&null!=a.resizeline&&"block"==a.resizeline.css("display")){var t=parseInt(a.resizeline.css("left")),i=parseInt(a.resizestartline.css("left")),r=a._startcolumnwidth+t-i;a.rtl&&(r=a._startcolumnwidth-t+i);i=a._resizecolumn.width;a._resizecolumn.width=r,null!=a._resizecolumn._percentagewidth&&(a._resizecolumn._percentagewidth=r/e*100);for(var s=0;s<a._columns.length;s++)if(a._columns[s].datafield===a._resizecolumn.datafield){a._columns[s].width=a._resizecolumn.width;break}a.hScrollBar[0].style.visibility;e=a._resizecolumn.displayfield;a._updatecolumnwidths(),a.refresh(),a._resizecolumn=null,a.resizeline.hide(),a.resizestartline.hide(),a.resizebackground.remove(),a.resizablecolumn=null,a._raiseEvent("columnResized",{dataField:e,oldWidth:i,newWidth:r})}else a.resizablecolumn=null}}}var s;try{""==document.referrer&&!window.frameElement||((s=null)!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(s=document.referrer),s&&-1!=s.indexOf(document.location.host)&&(s=function(e){r()},window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)))}catch(e){}this.removeHandler(X(document),i),this.addHandler(X(document),i,function(e){return!(null==X.data(document.body,"contextmenu"+a.element.id)||!a.autoshowcolumnsmenubutton)||void r()})}},_updatecolumnwidths:function(){var l=this.host.width(),a=l;"hidden"!==this.vScrollBar.css("visibility")&&0<this.scrollBarSize&&(l-=parseInt(this.scrollBarSize)+6,a=l);var n,d,e,h,c,u,g="";null!=this.columns&&null!=this.columns.records&&(n=this,d=!1,X.each(this.columns.records,function(e,t){this.hidden||(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth?(t=0,"hidden"==n.vScrollBar[0].style.visibility||n.scrollBarSize,n.scrollBarSize,t=parseFloat(this.width)*a/100,null!=this._percentagewidth&&(t=parseFloat(this._percentagewidth)*a/100),t<this.minwidth&&"auto"!=this.minwidth&&(t=this.minwidth),t>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),l-=Math.round(t)):"auto"==this.width||this._width?g+=this.text:l-=this.width)}),0!=(e=this.columnsheader.find("#columntable"+this.element.id)).length&&(h=0,c=e.find(".jqx-grid-column-header"),u=0,X.each(this.columns.records,function(e,t){var i=X(c[e]),r=!1,s=this.width,o=this.width;-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(s=null!=this._percentagewidth?parseFloat(this._percentagewidth)*a/100:parseFloat(this.width)*a/100,s=Math.round(s),r=!0),"auto"==this.width||this._width||r?r?(s<this.minwidth&&"auto"!=this.minwidth&&(s=this.minwidth,this.width=s),s>this.maxwidth&&"auto"!=this.maxwidth&&(s=this.maxwidth,this.width=s),parseInt(i[0].style.width)!=s&&(i.width(s),this.width=s)):(r=Math.floor(l*(this.text.length/g.length)),isNaN(r)&&(r=this.minwidth),s=l*(this.text.length/g.length)-r,1<=(h+=s)&&(--h,r++),.5<=h&&e==n.columns.records.length-1&&r++,r<0&&(e=X("<span>"+n.escape_HTML(this.text)+"</span>"),X(document.body).append(e),r=10+e.width(),e.remove()),r<this.minwidth&&(r=this.minwidth),r>this.maxwidth&&(r=this.maxwidth),this._width="auto",this.width=r,i.width(this.width)):parseInt(i[0].style.width)!=this.width&&i.width(this.width),parseInt(i[0].style.left)!=u&&i.css("left",u),this.hidden||(u+=this.width),this._requirewidthupdate=!0,o!==this.width&&(d=!0)}),this.columnsheader.width(2+u),e.width(this.columnsheader.width()),this._resizecolumnGroups(),d&&this._renderrows(),this.showAggregates&&this._refreshcolumnsaggregates()))},_rendercolumnheaders:function(){var u=this;if(!this._updating){u.columns.records.length>u.headerZIndex&&(u.headerZIndex=u.columns.records.length+10),this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var g=X('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');g[0].cells=new Array;var p=0,f="",m=this.host.width(),w=m,i=new Array,r=new Array;if(X.each(this.columns.records,function(e,t){this.hidden||("auto"==this.width||this._width?f+=this.text:this.width<this.minwidth&&"auto"!=this.minwidth?m-=this.minwidth:this.width>this.maxwidth&&"auto"!=this.maxwidth?m-=this.maxwidth:-1!=this.width.toString().indexOf("%")?(t=0,(t=parseFloat(this.width)*w/100)<this.minwidth&&"auto"!=this.minwidth&&(t=this.minwidth),t>this.maxwidth&&"auto"!=this.maxwidth&&(t=this.maxwidth),m-=t):("string"==typeof this.width&&(this.width=parseInt(this.width)),m-=this.width)),this.pinned||this.grouped||this.checkboxcolumn?(u._haspinned&&(this.pinned=!0),i[i.length]=this):r[r.length]=this}),this.rtl){var e=0;i.reverse();for(t=this.columns.records.length-1;t>=this.columns.records.length-i.length;t--)this.columns.replace(t,i[e++]);for(s=0;s<r.length;s++)this.columns.replace(s,r[s])}else{for(var t=0;t<i.length;t++)this.columns.replace(t,i[t]);for(var s=0;s<r.length;s++)this.columns.replace(i.length+s,r[s])}var v=this.headerZIndex,y=u.columnsHeight,x=0;X.each(this.columns.records,function(e,t){this.height=u.columnsHeight,u.columnGroups&&u.columnGroups.length&&(this.height=(this.datafield,r=this,s=u.columnGroupslevel*u.columnsHeight,s-=r.level*u.columnsHeight),y=this.height);var i=u.toTP("jqx-grid-column-header")+" "+u.toTP("jqx-widget-header");u.rtl&&(i+=" "+u.toTP("jqx-grid-column-header-rtl")),u.enableBrowserSelection||(i+=" "+u.toTP("jqx-disableselect"));var r=u.rtl?250+v+1:250+v-1,s=u.rtl?v++:v--,o=X('<div role="columnheader" style="z-index: '+s+';position: absolute; height: 100%;" class="'+i+'"><div style="height: 100%; width: 100%;"></div></div>');u.rtl&&0===e&&(o[0].style.borderLeftColor="transparent"),u.columnGroups&&(o[0].style.height=y+"px",o[0].style.bottom="0px",this.pinned&&(o[0].style.zIndex=r)),this.uielement=o,this.element=o,""!=this.classname&&this.classname&&o.addClass(this.classname);s=this.width,i=!1;null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(s=null!=this._percentagewidth?parseFloat(this._percentagewidth)*w/100:parseFloat(this.width)*w/100,s=Math.round(s),i=!0),"auto"==this.width||this._width||i?i?(s<this.minwidth&&"auto"!=this.minwidth&&(s=this.minwidth),s>this.maxwidth&&"auto"!=this.maxwidth&&(s=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),o.width(s),this.width=s):(r=Math.floor(m*(this.text.length/f.length)),i=m*(this.text.length/f.length)-r,1<=(x+=i)&&(--x,r++),.5<=x&&e==u.columns.records.length-1&&r++,isNaN(r)&&(r=this.minwidth),r<0&&(i=X("<span>"+u.escape_HTML(this.text)+"</span>"),X(document.body).append(i),r=10+i.width(),i.remove()),r<this.minwidth&&(r=this.minwidth),r>this.maxwidth&&(r=this.maxwidth),this._width="auto",this.width=parseInt(r),s=this.width,o.width(this.width)):(s<this.minwidth&&"auto"!=this.minwidth&&(s=this.minwidth),s>this.maxwidth&&"auto"!=this.maxwidth&&(s=this.maxwidth),o[0].style.width=parseInt(s)+"px"),this.hidden&&o.css("display","none");var l=X(o.children()[0]);g[0].cells[e]=o[0];var a,n=null!=this.renderer?this.renderer(u.escape_HTML(this.text),this.align,y):u._rendercolumnheader(u.escape_HTML(this.text),this.align,y,u);null==n&&(n=u._rendercolumnheader(u.escape_HTML(this.text),this.align,y,u)),null!=this.renderer&&(n=X(n)),u.WinJS?MSApp.execUnsafeLocalFunction(function(){l.append(X(n))}):this.renderer?l.append(X(n)):n&&(l[0].innerHTML=n),null!=n&&(a=X('<div class="iconscontainer" style="height: '+y+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+u.toTP("jqx-widget-header")+'" style="height: '+y+'px; float: right; display: none; width: 16px;"><div class="'+u.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+u.toTP("jqx-widget-header")+'" style="height: '+y+'px; float: right; display: none; width: 16px;"><div class="'+u.toTP("jqx-grid-column-sortascbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+u.toTP("jqx-widget-header")+'" style="height: '+y+'px; float: right; display: none; width: 16px;"><div class="'+u.toTP("jqx-grid-column-sortdescbutton")+'" style="width: 100%; height:100%;"></div></div></div>'),l.append(a),h=a.children(),this.sortasc=h[1],this.sortdesc=h[2],this.filtericon=h[0],this.iconscontainer=a,u.rtl&&(a.css("margin-left","0px"),a.css("left","0px"),X(this.sortasc).css("float","left"),X(this.filtericon).css("float","left"),X(this.sortdesc).css("float","left"))),g.append(o),u.columnsReorder&&this.draggable&&u._handlecolumnsdragreorder&&u._handlecolumnsdragreorder(this,o);var d,h,c=this;u.addHandler(o,"click",function(e){return!!c.checkboxcolumn||(u._togglesort&&(u._loading||u._togglesort(c)),void e.preventDefault())}),u.columnsResize&&(d=!1,h="mousemove",u.isTouchDevice()&&(d=!0,h=X.jqx.mobile.getTouchEventName("touchstart")),u.addHandler(o,h,function(e){if(!c.resizable)return!(u.resizablecolumn=null);var t=parseInt(e.pageX),i=5,r=parseInt(o.coord().left);if(u.hasTransform&&(r=X.jqx.utilities.getOffset(o).left),u._handlecolumnsResize){if(d){i=40;return(t=X.jqx.mobile.getTouches(e)[0].pageX)>=r+c.width-i?(u.resizablecolumn={columnelement:o,column:c},o.css("cursor","col-resize")):(o.css("cursor",""),u.resizablecolumn=null),!0}e=c.width;if(u.rtl&&(e=0),r+e-i<=t){if(t<=r+e+i)return u.resizablecolumn={columnelement:o,column:c},o.css("cursor","col-resize"),!1;o.css("cursor",""),u.resizablecolumn=null}else o.css("cursor",""),t<r+e-i&&(c._animating||c._menuvisible||o.mouseenter()),u.resizablecolumn=null}})),o.css("left",p),this.hidden||(p+=s),c.rendered&&c.rendered(X(l[0].firstChild),c.align,y)&&null!=a&&a.hide()}),0<p?this.columnsheader.width(2+p):this.columnsheader.width(p),this.columnsrow=g,u.columnsheader.append(g),g.width(p),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsReorder&&this._handlecolumnsReorder(),this._handlecolumnsResize&&this._handlecolumnsResize(),this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){for(var e=0,t=0;t<this.columns.records.length;t++)this.columns.records[t].pinned&&e++;var i=this.headerZIndex-e+this.columns.records.length,r=this,s=r.toTP("jqx-grid-column-header")+" "+r.toTP("jqx-grid-columngroup-header")+" "+r.toTP("jqx-widget-header");r.rtl&&(s+=" "+r.toTP("jqx-grid-columngroup-header-rtl"));var o=this.columnsheader.find("#columntable"+this.element.id);o.find("jqx-grid-columngroup-header").remove();for(var l=0;l<this.columnGroupslevel-1;l++)for(t=0;t<this.columnGroups.length;t++){var a,n,d,h,c,u=this.columnGroups[t],g=u.level;g===l&&(a=g*this.columnsHeight,n=99999,u.groups&&(d=function(e){for(var t=0,i=0;i<e.groups.length;i++){var r=e.groups[i];r.groups?t+=d(r):r.hidden||(t+=r.width,n=Math.min(parseInt(r.element[0].style.left),n))}return t},u.width=d(u),u.left=n,h=this.columnsHeight,c=i--,g=X('<div role="columnheader" style="z-index: '+c+';position: absolute;" class="'+s+'"></div>'),c=X(this._rendercolumnheader(u.text,u.align,this.columnsHeight,this)),g.append(c),g[0].style.left=n+"px",0===n&&(g[0].style.borderLeftColor="transparent"),g[0].style.top=a+"px",g[0].style.height=h+"px",g[0].style.width=-1+u.width+"px",o.append(g),u.element=g))}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var s,t,i,r=this.columnGroups[e],o=r.level*this.columnsHeight,l=99999;r.groups&&(s=function(e){for(var t=0,i=0;i<e.groups.length;i++){var r=e.groups[i];r.groups?t+=s(r):r.hidden||(t+=r.width,l=Math.min(parseInt(r.element[0].style.left),l))}return t},r.width=s(r),r.left=l,t=this.columnsHeight,(i=r.element)[0].style.left=l+"px",i[0].style.top=o+"px",i[0].style.height=t+"px",i[0].style.width=-1+r.width+"px")}},_removecolumnhandlers:function(e){var t=this,i=X(e.element);0<i.length&&(t.removeHandler(i,"mouseenter"),t.removeHandler(i,"mouseleave"),e=X(e.filtericon),t.removeHandler(e,"mousedown"),t.removeHandler(e,"click"),t.removeHandler(i,"click"))},_calculateaggregate:function(e,t,i,r){if(!e.datafield)return null;var s=e.aggregates;if(s=s||t){for(var o=new Array,l=0;l<s.length;l++)"count"!=s[l]&&(o[o.length]=e.cellsFormat);if(this.source&&this.source.getAggregatedData){null==r&&(r=this.getRows(),this.dataViewRecords&&(r=this.dataViewRecords));var a,n,d=r,h=-1;if(this.treeGrid&&(a=new Array,(n=function(e){for(var t=0;t<e.length;t++)null!=e[t]&&(-1==h&&(h=e[t].level),e[t].aggregate||a.push(e[t]),!e[t].leaf&&e[t].records&&0<e[t].records.length&&n(e[t].records))})(r),r=a),this.treeGrid&&this.filterable&&0<this.dataview.filters.length){for(var c=new Array,l=0;l<r.length;l++)r[l]&&!1!==r[l]._visible&&c.push(r[l]);r=c;for(var u=new Array,l=0;l<d.length;l++)d[l]&&!1!==d[l]._visible&&u.push(d[l]);d=u}if(null==i||1==i){var g=this.source.getAggregatedData([{name:e.datafield,aggregates:s,formatStrings:o}],this.gridlocalization,r,h);return this.treeGrid&&(0==(p=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0)||p<=h)&&g&&(null==g[e.datafield].sum&&null==g[e.datafield].avg||(f=this.source.getAggregatedData([{name:e.datafield,aggregates:s,formatStrings:o}],this.gridlocalization,d,h),null!=g[e.datafield].sum&&(g[e.datafield].sum=f[e.datafield].sum),null!=g[e.datafield].avg&&(g[e.datafield].avg=f[e.datafield].avg))),g}var p,f,g=this.source.getAggregatedData([{name:e.datafield,aggregates:s}],this.gridlocalization,r,h);return this.treeGrid&&g&&(null==g[e.datafield].sum&&null==g[e.datafield].avg||(0==(p=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0)||p<=h)&&(f=this.source.getAggregatedData([{name:e.datafield,aggregates:s}],this.gridlocalization,d,h),null!=g[e.datafield].sum&&(g[e.datafield].sum=f[e.datafield].sum),null!=g[e.datafield].avg&&(g[e.datafield].avg=f[e.datafield].avg))),g}}return null},getcolumnaggregateddata:function(e,t,i,r){var s=this.getColumn(e);if(!s)return"";var o=null!=i&&0!=i&&i;if(null==t)return"";i=s.aggregates;s.aggregates=null;o=this._calculateaggregate(s,t,o,r),r={};return o&&(r=o[e],s.aggregates=i),r},_updatecolumnaggregates:function(e,t,i){var r,s,o=this;if(!t)return i.children().remove(),i.html(""),void(e.aggregatesRenderer&&(r={},e.aggregates&&(r=this.getcolumnaggregateddata(e.datafield,e.aggregates)),s=e.aggregatesRenderer({},e,i,null),i.html(s)));i.children().remove(),i.html(""),e.aggregatesRenderer?t&&(s=e.aggregatesRenderer(t[e.datafield],e,i,this.getcolumnaggregateddata(e.datafield,e.aggregates),"aggregates"),i.html(s)):X.each(t,function(){for(r in this){var e=X('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),t=r,t=o._getaggregatename(t);e.html(t+":"+this[r]),o.rtl&&e.addClass(o.toThemeProperty("jqx-rtl")),i.append(e)}})},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t,i=e;for(t in e){i=t;break}return i},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i;break}return t},_updatecolumnsaggregates:function(){var e=this.getRows();this.dataViewRecords&&(e=this.dataViewRecords);var t=this.columns.records.length;if(null!=this.aggregates[0].cells)for(var i=0;i<t;i++){var r=X(this.aggregates[0].cells[i]),s=this.columns.records[i],o=this._calculateaggregate(s,null,!0,e);this._updatecolumnaggregates(s,o,r)}},_refreshcolumnsaggregates:function(){var e=this.columns.records.length;if(null!=this.aggregates[0].cells)for(var t=0,i=0;i<e;i++){var r=X(this.aggregates[0].cells[i]),s=this.columns.records[i];r&&(r.width(s.width),r[0].style.left=t+"px",s.hidden&&s.hideable?r.css("display","none"):t+=s.width)}},_updateaggregates:function(){var e=X('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),t=0,i=this.columns.records.length,r=this.toThemeProperty("jqx-grid-cell");this.rtl&&(r+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),t=0,e.css("border-left-width","0px"),this.aggregates.css("border-left-color","transparent")),r+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var s=i+10,o=new Array;this.aggregates[0].cells=o;for(var l=0;l<i;l++){var a=this.columns.records[l],n=this._calculateaggregate(a),d=a.width;d<a.minwidth&&(d=a.minwidth),d>a.maxwidth&&(d=a.maxwidth);var h=r;a.cellsalign&&(h+=" "+this.toThemeProperty("jqx-"+a.cellsalign+"-align"));h=X('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+h+'"></div>');e.append(h),h.css("left",t),this.rtl?(h.css("z-index",s++),0==l&&h.css("border-left-width","0px")):h.css("z-index",s--),h.width(d),h[0].style.left=t+"px",a.hidden&&a.hideable?h.css("display","none"):t+=d,o[o.length]=h[0],this._updatecolumnaggregates(a,n,h)}X.jqx.browser.msie&&X.jqx.browser.version<8&&e.css("z-index",s--),e.width(parseInt(t)+2),e.height(this.aggregatesHeight),this.aggregates.children().remove(),this.aggregates.append(e),this.aggregates.removeClass(this.toThemeProperty("jqx-widget-header")),this.aggregates.addClass(r),this.aggregates.css("border-bottom-color","transparent"),this.aggregates.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll()},destroy:function(){var e=this;if(e.columns&&e.columns.records)for(var t=0;t<e.columns.records.length;t++)e._removecolumnhandlers(e.columns.records[t]);e.removeHandler(X(document),"mouseup.pagerbuttonstop"),e.removeHandler(X(document),"mouseup.pagerbuttonsbottom"),e.removeHandler(e.content,"scroll"),e.removeHandler(e.content,"mousedown"),e.removeHandler(X(document),"mousedown.gridedit"+e.element.id);var i="mousemove.resize"+e.element.id,r="mousedown.resize"+e.element.id,s="mouseup.resize"+e.element.id;e.removeHandler(X(document),i),e.removeHandler(X(document),r),e.removeHandler(X(document),s);i="mousemove.reorder"+e.element.id,r="mousedown.reorder"+e.element.id,s="mouseup.reorder"+e.element.id;if(e.removeHandler(X(document),i),e.removeHandler(X(document),r),e.removeHandler(X(document),s),e.filterable){if(e.filterrow)for(t=0;t<e.filterrow[0].cells.length;t++){var o=e.filterrow[0].cells[t],o=X(o).find(".filterconditions");e.columns.records[t];0<o.length&&o.jqxDropDownList("destroy")}e.filtercolumnsList&&e.filtercolumnsList.jqxDropDownList("destroy")}e.pageable&&(e.pagershowrowscombotop&&e.pagershowrowscombotop.jqxDropDownList&&e.pagershowrowscombotop.jqxDropDownList("destroy"),e.pagershowrowscombobottom&&e.pagershowrowscombobottom.jqxDropDownList&&e.pagershowrowscombobottom.jqxDropDownList("destroy"),s=e.pagerbuttonsbottom.find("a"),e.removeHandler(s,"click"),e.removeHandler(s,"mouseenter"),e.removeHandler(s,"mouseleave"),s.remove(),s=e.pagerbuttonstop.find("a"),e.removeHandler(s,"click"),e.removeHandler(s,"mouseenter"),e.removeHandler(s,"mouseleave"),s.remove(),e.pagernexttop&&(e.pagernexttop.jqxButton("destroy"),e.pagerprevioustop.jqxButton("destroy"),e.pagernextbottom.jqxButton("destroy"),e.pagerpreviousbottom.jqxButton("destroy"),e.pagerfirsttop.jqxButton("destroy"),e.pagerfirstbottom.jqxButton("destroy"),e.pagerlasttop.jqxButton("destroy"),e.pagerlastbottom.jqxButton("destroy"))),e._removeHandlers(),e.vScrollBar.jqxScrollBar("destroy"),e.hScrollBar.jqxScrollBar("destroy"),delete e.vScrollBar,delete e.hScrollBar,delete e._mousewheelfunc,X.jqx.utilities.resize(e.host,null,!0),e.host.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(e,t,i,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)&&r!==i)if("filterable"==t)e._render();else if("height"===t)e.host.height(e.height),e.host.width(e.width),e._updatesize(!1,!0);else if("width"===t)e.host.height(e.height),e.host.width(e.width),e._updatesize(!0,!1);else if("source"===t)e.updateBoundData();else if("columnGroups"===t)e._render();else if("columns"===t)e._columns=null,e._render();else if("rtl"===t)e.content.css("left",""),e.columns=e._columns,e.vScrollBar.jqxScrollBar({rtl:r}),e.hScrollBar.jqxScrollBar({rtl:r}),e._render();else if("pagerMode"===t)e.pagerMode=r,e._initpager();else if("pageSizeOptions"==t){e._initpager();for(var s=!1,o=0;o<r.length;o++)if(parseInt(r[o])==e.pageSize){s=!0;break}s||X.jqx.set(e,[{pageSize:r[0]}])}else{var l;"pageSize"==t?(l=e.dataview.pagenum*e.dataview.pagesize,e.dataview.pagesize=e.pageSize,(l=Math.floor(l/e.dataview.pagesize))===e.dataview.pagenum&&parseInt(r)===parseInt(i)||(e._raiseEvent("pageSizeChanged",{pagenum:r,oldpageSize:i,pageSize:e.dataview.pagesize}),e.goToPage(l)||(e.serverProcessing?e.updateBoundData("pager"):e.refresh()))):"pagerPosition"===t?e.refresh():"selectionMode"===t?e.selectionMode=r.toLowerCase():"touchmode"==t?(e.touchDevice=null,e._removeHandlers(),e.touchDevice=null,e.vScrollBar.jqxScrollBar({touchMode:r}),e.hScrollBar.jqxScrollBar({touchMode:r}),e._updateTouchScrolling(),e._arrange(),e._updatecolumnwidths(),e._renderrows(),e._addHandlers()):"enableHover"==t||("disabled"==t?(r?e.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),e.pageable&&(e.pagernexttop&&(e.pagernexttop.jqxButton({disabled:r}),e.pagerprevioustop.jqxButton({disabled:r}),e.pagernextbottom.jqxButton({disabled:r}),e.pagerpreviousbottom.jqxButton({disabled:r}),e.pagerfirsttop.jqxButton({disabled:r}),e.pagerfirstbottom.jqxButton({disabled:r}),e.pagerlasttop.jqxButton({disabled:r}),e.pagerlastbottom.jqxButton({disabled:r}),e.pagershowrowscombotop.jqxDropDownList&&"advanced"==e.pagerMode&&(e.pagershowrowscombotop.jqxDropDownList({disabled:!1}),e.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),e.host.find(".jqx-grid-pager-number").css("cursor",r?"default":"pointer")),e.host.find(".jqx-grid-group-collapse").css("cursor",r?"default":"pointer"),e.host.find(".jqx-grid-group-expand").css("cursor",r?"default":"pointer")):"columnsHeight"==t?e._render():("theme"==t&&(X.jqx.utilities.setTheme(i,r,e.host),e.vScrollBar.jqxScrollBar({theme:e.theme}),e.hScrollBar.jqxScrollBar({theme:e.theme}),e.pageable&&e.pagernexttop&&(e.pagernexttop.jqxButton({theme:e.theme}),e.pagerprevioustop.jqxButton({theme:e.theme}),e.pagernextbottom.jqxButton({theme:e.theme}),e.pagerpreviousbottom.jqxButton({theme:e.theme}),e.pagerfirsttop.jqxButton({theme:e.theme}),e.pagerfirstbottom.jqxButton({theme:e.theme}),e.pagerlasttop.jqxButton({theme:e.theme}),e.pagerlastbottom.jqxButton({theme:e.theme}),e.pagershowrowscombotop.jqxDropDownList&&"advanced"==e.pagerMode&&(e.pagershowrowscombotop.jqxDropDownList({theme:e.theme}),e.pagershowrowscombobottom.jqxDropDownList({theme:e.theme}))),e.filterable&&(0<(i=X(".filterconditions")).length&&i.jqxDropDownList({theme:e.theme}),e.filtercolumnsList&&e.filtercolumnsList.jqxDropDownList({theme:e.theme}))),e.refresh()))}},_rendercolumnheader:function(e,t,i,r){var s="4px";return r.columnGroups?((s=i/2-this._columnheight/2)<0&&(s=4),s+="px"):25!=this.columnsHeight&&((s=this.columnsHeight/2-this._columnheight/2)<0&&(s=4),s+="px"),'<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+s+"; margin-top: "+s+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>"}}),X.jqx.dataCollection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginUpdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t},this.isempty=function(e){return null==this.records[e]},this.initialize=function(e){e<1&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,!0)},this.insertAt=function(e,t){return null!=e&&null!=e&&(null!=t&&(0<=e&&(e<this.records.length?(this.records.splice(e,0,t),!0):this.add(t))))},this.remove=function(e){if(null==e||null==e)return!1;e=this.records.indexOf(e);return-1!=e&&(this.records.splice(e,1),!0)},this.removeAt=function(e){if(null==e||null==e)return!1;if(e<0)return!1;if(e<this.records.length){this.records[e];return this.records.splice(e,1),!0}return!1},this},X.jqx.dataView=function(){return(this.that=this).grid=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(e,t){var i=!!e._source,r=null;this._sortData=null,this._sortHierarchyData=null,i?e=(r=e)._source:r=new X.jqx.dataAdapter(e,{autoBind:!1});function s(e){e.originaldata=r.originaldata,e.records=r.records,e.hierarchy=r.hierarchy,e.grid.serverProcessing||(e._sortData=null,e._sortfield=null,e._filteredData=null,e._sortHierarchyData=null),e.hierarchy||(e.hierarchy=new Array,r.hierarchy=new Array),r._source.totalrecords?e.totalrecords=r._source.totalrecords:r._source.totalRecords?e.totalrecords=r._source.totalRecords:0!==e.hierarchy.length?e.totalrecords=e.hierarchy.length:e.totalrecords=e.records.length,e.cachedrecords=r.cachedrecords}var o;o=this,r.recordids=[],r.records=new Array,r.cachedrecords=new Array,r.originaldata=new Array,r._options.totalrecords=o.totalrecords,r._options.originaldata=o.originaldata,r._options.recordids=o.recordids,r._options.cachedrecords=new Array,r._options.pagenum=o.pagenum,r._options.pageable=o.pageable,null!=e.type&&(r._options.type=e.type),null!=e.formatdata&&(r._options.formatData=e.formatdata),null!=e.contenttype&&(r._options.contentType=e.contenttype),null!=e.async&&(r._options.async=e.async),null!=e.updaterow&&(r._options.updaterow=e.updaterow),null!=e.addrow&&(r._options.addrow=e.addrow),null!=e.deleterow&&(r._options.deleterow=e.deleterow),0==o.pagesize&&(o.pagesize=10),r._options.pagesize=o.pagesize,this.source=e;var l=this;switch(e.datatype){case"local":case"array":default:null==e.localdata&&(e.localdata=[]),null!=e.localdata&&(r.unbindBindingUpdate(l.grid.element.id),(!l.grid.autoBind&&l.grid.isInitialized||l.grid.autoBind)&&r.dataBind(),(_=function(){s(l),l.update()})(),r.bindBindingUpdate(l.grid.element.id,_));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=e.localdata)return r.unbindBindingUpdate(l.grid.element.id),(!l.grid.autoBind&&l.grid.isInitialized||l.grid.autoBind)&&r.dataBind(),(_=function(e){s(l),l.update()})(),void r.bindBindingUpdate(l.grid.element.id,_);for(var a=[],n=0,d={},h=0;h<this.filters.length;h++){var c=this.filters[h].datafield,u=this.filters[h].filter;if(u.getfilters){var g=u.getfilters();d[c+"operator"]=u.operator;for(var p=0;p<g.length;p++){g[p].datafield=c;var f,m,w=g[p].value;"datefilter"==g[p].type?g[p].value&&g[p].value.toLocaleString&&(f=this.grid.getColumn(g[p].datafield))&&f.cellsformat?(m=this.grid.source.formatDate(g[p].value,f.cellsformat,this.grid.gridlocalization),d["filtervalue"+n]=m||g[p].value.toLocaleString()):d["filtervalue"+n]=w.toString():(d["filtervalue"+n]=w.toString(),g[p].data&&(d["filterid"+n]=g[p].data.toString()),g[p].id&&(d["filterid"+n]=g[p].id.toString())),d["filtercondition"+n]=g[p].condition,d["filteroperator"+n]=g[p].operator,d["filterdatafield"+n]=c;var v={label:w.toString()};g[p].data&&(v.value=g[p].data.toString()),g[p].id?v.value=g[p].id.toString():v.value=w.toString(),v.condition=g[p].condition,v.operator=0==g[p].operator?"and":"or",v.field=c,v.type=g[p].type;var y=!1;if(0<a.length)for(var x=0;x<a.length;x++){var b=a[x];if(b.field==c){b.filters.push(v),y=!0;break}}y||(a.push({field:c,filters:[]}),a[a.length-1].filters.push(v)),n++}}}d.filterGroups=a,d.filterslength=n,X.extend(d,{sortdatafield:l.sortfield,sortorder:l.sortfielddirection,pagenum:l.pagenum,pagesize:l.grid.pageSize});t=r._options.data;r._options.data?X.extend(r._options.data,d):(e.data&&X.extend(d,e.data),r._options.data=d);var _=function(){function e(){s(l),l.update()}if(X.jqx.browser.msie&&X.jqx.browser.version<9)try{e()}catch(e){}else e()};r.unbindDownloadComplete(l.grid.element.id),r.bindDownloadComplete(l.grid.element.id,_),r._source.loaderror=function(e,t,i){_()},(!l.grid.autoBind&&l.grid.isInitialized||l.grid.autoBind)&&r.dataBind(),r._options.data=t}},this.addFilter=function(e,t){this._sortData=null,this._sortHierarchyData=null;for(var i=-1,r=0;r<this.filters.length;r++)if(this.filters[r].datafield==e){i=r;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removeFilter=function(e){this._sortData=null,this._sortHierarchyData=null;for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.sortBy=function(e,t){if(null==t)return this.sortfield="",void(this.sortfielddirection="");null==t&&(t=!0),t="a"==t||"asc"==t||"ascending"==t||1==t,"constructor"==e&&(e=""),this.sortfield=e,this.sortfielddirection=t?"asc":"desc"},this._sort=function(e){if(!this.sortfield||!this.sortfielddirection)return e;if(this._sortfield==this.sortfield&&this._sortfielddirection==this.sortfielddirection&&this._sortData)return this._sortData;var i=this,t=Object.prototype.toString;Object.prototype.toString="function"==typeof i.sortfield?i.sortfield:function(){return this[i.sortfield]};var r="";this.source.datafields&&X.each(this.source.datafields,function(){if(this.name==i.sortfield)return this.type&&(r=this.type),!1});for(var s,o=new Array,l=0;l<e.length;l++)o.push(X.extend({originalRecord:e[l]},e[l]));return this._sortfield=this.sortfield,this._sortfielddirection=this.sortfielddirection,s="desc"===this.sortfielddirection?o.sort(function(e,t){return i._compare(e,t,r)}).reverse():o.sort(function(e,t){return i._compare(e,t,r)}),this._sortData=s,Object.prototype.toString=t,s},this._compare=function(e,t,i){if(void 0===(e=e)&&(e=null),void 0===(t=t)&&(t=null),null===e&&null===t)return 0;if(null===e&&null!==t)return 1;if(null!==e&&null===t)return 1;if(e=e.toString(),t=t.toString(),X.jqx.dataFormat)if(i&&""!=i)switch(i){case"number":case"int":case"float":return e<t?-1:t<e?1:0;case"date":case"time":return e<t?-1:t<e?1:0;case"string":case"text":e=String(e).toLowerCase(),t=String(t).toLowerCase()}else{if(X.jqx.dataFormat.isNumber(e)&&X.jqx.dataFormat.isNumber(t))return e<t?-1:t<e?1:0;if(X.jqx.dataFormat.isDate(e)&&X.jqx.dataFormat.isDate(t))return e<t?-1:t<e?1:0;X.jqx.dataFormat.isNumber(e)||X.jqx.dataFormat.isNumber(t)||(e=String(e).toLowerCase(),t=String(t).toLowerCase())}try{if(e<t)return-1;if(t<e)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)},this.evaluate=function(e){var t;if(this.grid.serverProcessing)return e&&(""!=this.grid.source._source.id&&null!=this.grid.source._source.id||this.grid.pageable&&(t=this.grid.pageSize*this.pagenum,this.grid.rowsByKey=new Array,s=this,X.each(e,function(e){this.uid=t,s.grid.rowsByKey[this.uid]=this,t++}))),e;var s,o,i=new Array;if(this.filters.length){var n=new Array,r=function(e,t){for(var i=0;i<e.length;i++){var r=e[i];r._visible=!0;for(var s=void 0,o=0;o<this.filters.length;o++)var l=this.filters[o].filter,a=r[this.filters[o].datafield],a=l.evaluate(a),s=null==s?a:"or"==l.operator?s||a:s&&a;r._visible=!1,(s||r.aggregate)&&(r._visible=!0,t.push(r),n[r.uid]=r)}};if(this._filteredData)this.rows=this._filteredData;else{if(this.source.hierarchy||this.grid.source.hierarchy&&0<this.grid.source.hierarchy.length){var l=new Array,a=function(e,t){for(var i=0;i<t.length;i++){var r=t[i];l.push(r),r.records&&0<r.records.length&&a(r,r.records)}};a(null,e),r.call(this,l,i);for(var d=0;d<i.length;d++)for(var h=i[d];h.parent;){var c=h.parent;n[c.uid]||(c._visible=!0,n[c.uid]=c),h=c}i=e}else r.call(this,e,i);this._filteredData=i,this.rows=i}}else this.rows=e;return this.source.hierarchy||this.grid.source.hierarchy&&0<this.grid.source.hierarchy.length?(s=this,r=new Array,this._sortData=null,o=function(e,t){var i=s._sortData=null;if(s.source.hierarchy.groupingDataFields)if(t&&0<t.length&&t[0].level<s.source.hierarchy.groupingDataFields.length){i=new Array;for(var r=0;r<t.length;r++)i.push(X.extend({originalRecord:t[r]},t[r]))}else i=s._sort(t);else i=s._sort(t);e.records?e.records=i:e=e.concat(i);for(r=0;r<i.length;r++)i[r].records&&i[r].records.length&&o(i[r],i[r].records);return e},(this.sortfield||this.sortfielddirection)&&(r=this._sortHierarchyData||o(r,e),this.rows=r,this._sortHierarchyData=r)):this.rows=this._sort(this.rows),this.rows},this.getid=function(e,t,i){if(0<X(e,t).length)return X(e,t).text();if(this.rows&&""!=e&&null!=e&&0<this.rows.length){null==(s=this.rows[this.rows.length-1][e])&&(s=null);for(var r=1;r<=100;r++)if(!(o=this.grid.rowsByKey[r+s])){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(o=this.grid.rowsByKey["jqx"+s+r])continue;return"jqx"+s+r}return s+r}}if(null!=e&&0<e.toString().length){t=X(t).attr(e);if(null!=t&&0<t.toString().length)return this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords?"jqx"+t:t}var s;if(this.rows&&0<this.rows.length&&(o=this.grid.rowsByKey[i])){null==(s=this.rows[this.rows.length-1][e])&&(s="");for(r=1;r<=1e3;r++)if(!(o=this.grid.rowsByKey[r+s])){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(o=this.grid.rowsByKey["jqx"+s+r])continue;return"jqx"+s+r}return s+r}}if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(!(o=this.grid.rowsByKey["jqx"+i]))return"jqx"+i;for(r=i+1;r<=100;r++){var o=this.grid.rowsByKey["jqx"+r];if(!o)if(!(o=this.grid.rowsByKey["jqx"+r]))return"jqx"+r}}return i},this.generatekey=function(){function e(){return 16*(1+Math.random())|0}return""+e()+e()+"-"+e()+"-"+e()},this}}(jqxBaseFramework);