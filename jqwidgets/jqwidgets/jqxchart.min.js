!function(s){s.jqx.jqxWidget("jqxDraw","",{}),s.extend(s.jqx._jqxDraw.prototype,{defineInstance:function(){var e={renderEngine:""};s.extend(!0,this,e);var t,i=["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"];for(t in i)this._addFn(s.jqx._jqxDraw.prototype,i[t]);return s.jqx._jqxDraw.prototype,e},_addFn:function(e,t){e[t]||(e[t]=function(){return this.renderer[t].apply(this.renderer,arguments)})},createInstance:function(e){},_initRenderer:function(e){return s.jqx.createRenderer(this,e)},_internalRefresh:function(){var e,t,i=this;s.jqx.isHidden(i.host)||(i.renderer||(i.host.empty(),i._initRenderer(i.host)),(e=i.renderer)&&(t=e.getRect(),i._render({x:1,y:1,width:t.width,height:t.height}),e instanceof s.jqx.HTML5Renderer&&e.refresh()))},_saveAsImage:function(e,t,i,r){return s.jqx._widgetToImage(this,e,t,i,r)},_render:function(e){this.renderer;this._plotRect=e},refresh:function(){this._internalRefresh()},getSize:function(){var e=this._plotRect;return{width:e.width,height:e.height}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)}})}(jqxBaseFramework),function(S){S.jqx.toGreyScale=function(e){if(-1==e.indexOf("#"))return e;e=S.jqx.cssToRgb(e);e[0]=e[1]=e[2]=Math.round(.3*e[0]+.59*e[1]+.11*e[2]);e=S.jqx.rgbToHex(e[0],e[1],e[2]);return"#"+e[0]+e[1]+e[2]},S.jqx.adjustColor=function(e,t){if("string"!=typeof e)return"#000000";if(-1==e.indexOf("#"))return e;var i=S.jqx.cssToRgb(e),r=S.jqx.rgbToHsl(i);r[2]=Math.min(1,r[2]*t),r[1]=Math.min(1,r[1]*t*1.1),i=S.jqx.hslToRgb(r);for(var e="#",s=0;s<3;s++){var a=Math.round(i[s]);1==(a=S.jqx.decToHex(a)).toString().length&&(e+="0"),e+=a}return e.toUpperCase()},S.jqx.decToHex=function(e){return e.toString(16)},S.jqx.hexToDec=function(e){return parseInt(e,16)},S.jqx.rgbToHex=function(e,t,i){return[S.jqx.decToHex(e),S.jqx.decToHex(t),S.jqx.decToHex(i)]},S.jqx.hexToRgb=function(e,t,i){return[S.jqx.hexToDec(e),S.jqx.hexToDec(t),S.jqx.hexToDec(i)]},S.jqx.cssToRgb=function(e){return e.indexOf("rgb")<=-1?S.jqx.hexToRgb(e.substring(1,3),e.substring(3,5),e.substring(5,7)):e.substring(4,e.length-1).split(",")},S.jqx.hslToRgb=function(e){var t,i,r,s=parseFloat(e[0]),a=parseFloat(e[1]),e=parseFloat(e[2]);return 0==a?t=i=r=e:(a=2*e-(e=e<.5?e*(1+a):e+a-e*a),t=S.jqx.hueToRgb(a,e,s+1/3),i=S.jqx.hueToRgb(a,e,s),r=S.jqx.hueToRgb(a,e,s-1/3)),[255*t,255*i,255*r]},S.jqx.hueToRgb=function(e,t,i){return i<0&&(i+=1),1<i&&--i,i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},S.jqx.rgbToHsl=function(e){var t,i=parseFloat(e[0])/255,r=parseFloat(e[1])/255,s=parseFloat(e[2])/255,a=Math.max(i,r,s),n=Math.min(i,r,s),o=(a+n)/2;if(a==n)t=l=0;else{var e=a-n,l=.5<o?e/(2-a-n):e/(a+n);switch(a){case i:t=(r-s)/e+(r<s?6:0);break;case r:t=(s-i)/e+2;break;case s:t=(i-r)/e+4}t/=6}return[t,l,o]},S.jqx.swap=function(e,t){},S.jqx.getNum=function(e){if(S.isArray(e)){for(var t=0;t<e.length;t++)if(!isNaN(e[t]))return e[t]}else if(isNaN(e))return 0;return 0},S.jqx._ptdist=function(e,t,i,r){return Math.sqrt((i-e)*(i-e)+(r-t)*(r-t))},S.jqx._ptrnd=function(e){if(!document.createElementNS)return Math.round(e)==e?e:S.jqx._rnd(e,1,!1,!0);var t=S.jqx._rnd(e,.5,!1,!0);return.5!=Math.abs(t-Math.round(t))?e<t?t-.5:t+.5:t},S.jqx._ptRotate=function(e,t,i,r,s){var a=Math.sqrt(Math.pow(Math.abs(e-i),2)+Math.pow(Math.abs(t-r),2)),s=Math.asin((e-i)/a)+s;return{x:e=i+Math.cos(s)*a,y:t=r+Math.sin(s)*a}},S.jqx._rup=function(e){var t=Math.round(e);return t<e&&t++,t},S.jqx.log=function(e,t){return Math.log(e)/(t?Math.log(t):1)},S.jqx._mod=function(e,t){var i=Math.abs(t<e?t:e),r=1;if(0!=i)for(;i*r<100;)r*=10;return(e*=r)%(t*=r)/r},S.jqx._rnd=function(e,t,i,r){if(isNaN(e))return e;void 0===r&&(r=!0);r=e-(1==r?e%t:S.jqx._mod(e,t));return e==r?r:(i?r<e&&(r+=t):e<r&&(r-=t),1==t?Math.round(r):r)},S.jqx.commonRenderer={pieSlicePath:function(e,t,i,r,s,a,n){r=r||1;var o=Math.abs(s-a),l=180<o?1:0;360<=o&&(a=s+359.99);var h=s*Math.PI*2/360,d=a*Math.PI*2/360,u=e,f=e,c=t,g=t,p=!isNaN(i)&&0<i;p&&(n=0),0<n+i&&(0<n&&(x=(o/2+s)*Math.PI*2/360,e+=n*Math.cos(x),t-=n*Math.sin(x)),p&&(u=e+(m=i)*Math.cos(h),c=t-m*Math.sin(h),f=e+m*Math.cos(d),g=t-m*Math.sin(d)));var n=e+r*Math.cos(h),x=e+r*Math.cos(d),m=t-r*Math.sin(h),h=t-r*Math.sin(d),d="",s=.02<Math.abs(Math.abs(a-s)-360);return p?(d="M "+f+","+g,d+=" a"+i+","+i,d+=" 0 "+l+",1 "+(u-f)+","+(c-g),d+=s?" L"+n+","+m:" M"+n+","+m,d+=" a"+r+","+r,d+=" 0 "+l+",0 "+(x-n)+","+(h-m),s&&(d+=" Z")):(d="M "+x+","+h,d+=" a"+r+","+r,d+=" 0 "+l+",1 "+(n-x)+","+(m-h),s&&(d+=" L"+e+","+t,d+=" Z")),d},measureText:function(e,t,i,r,s){var a=s._getTextParts(e,t,i),n=a.width,o=a.height;0==r&&(o/=.6);s={};return isNaN(t)&&(t=0),s=0==t?{width:S.jqx._rup(n),height:S.jqx._rup(o)}:(e=t*Math.PI*2/360,i=Math.abs(Math.sin(e)),t=Math.abs(Math.cos(e)),e=Math.abs(n*i+o*t),i=Math.abs(n*t+o*i),{width:S.jqx._rup(i),height:S.jqx._rup(e)}),r&&(s.textPartsInfo=a),s},alignTextInRect:function(e,t,i,r,s,a,n,o,l,h){var d=l*Math.PI*2/360,u=Math.sin(d),l=Math.cos(d),d=s*u,s=s*l;"center"==n||""==n||"undefined"==n?e+=i/2:"right"==n&&(e+=i),"center"==o||"middle"==o||""==o||"undefined"==o?t+=r/2:"bottom"==o?t+=r-a/2:"top"==o&&(t+=a/2);r="middle";-1!=(h=h||"").indexOf("top")?r="top":-1!=h.indexOf("bottom")&&(r="bottom");o="center";return-1!=h.indexOf("left")?o="left":-1!=h.indexOf("right")&&(o="right"),"center"==o?(e-=s/2,t-=d/2):"right"==o&&(e-=s,t-=d),"top"==r?(e-=a*u,t+=a*l):"middle"==r&&(e-=a*u/2,t+=a*l/2),{x:e=S.jqx._rup(e),y:t=S.jqx._rup(t)}}},S.jqx.svgRenderer=function(){},S.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(e){e.append("<table class=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 class=tdTop></td></tr><tr><td class=tdLeft></td><td><div class='chartContainer' style='position:relative' onselectstart='return false;'></div></td></tr></table>");var t=(this.host=e).find(".chartContainer");t[0].style.width=e.width()+"px",t[0].style.height=e.height()+"px";try{var i=document.createElementNS(this._svgns,"svg");i.setAttribute("id","svgChart"),i.setAttribute("version","1.1"),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("overflow","hidden"),t[0].appendChild(i),this.canvas=i}catch(e){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},getType:function(){return"SVG"},refresh:function(){},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var e=this.canvas.getBoundingClientRect(),t=parseFloat(e.left)==parseInt(e.left),e=parseFloat(e.top)==parseInt(e.top);if(S.jqx.browser.msie){for(var t=!0,e=!0,i=this.host,r=0,s=0;i&&i.position&&i[0].parentNode;){var a=i.position();r+=parseFloat(a.left)-parseInt(a.left),s+=parseFloat(a.top)-parseInt(a.top),i=i.parent()}t=parseFloat(r)==parseInt(r),e=parseFloat(s)==parseInt(s)}t||(this.host.find(".tdLeft")[0].style.width="0.5px"),e||(this.host.find(".tdTop")[0].style.height="0.5px")},_layout:function(){var e=this.host.find(".chartContainer");this._width=Math.max(S.jqx._rup(this.host.width())-1,0),this._height=Math.max(S.jqx._rup(this.host.height())-1,0),e[0].style.width=this._width,e[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;0<this.canvas.childElementCount;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(e){if(null!=e){this.removeHandler(e);try{for(;e.firstChild;)this.removeElement(e.firstChild);(e.parentNode||this.canvas).removeChild(e)}catch(e){}}},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElementNS(this._svgns,"g");return e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElementNS(this._svgns,"clipPath"),i=document.createElementNS(this._svgns,"rect");return this.attr(i,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"none"}),this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),t.appendChild(i),this._defs.appendChild(t),t},getWindowHref:function(){var e=S.jqx.browser;if(e&&"msie"==e.browser&&e.version<10)return"";e=window.location.href;return e=e&&(e=e.replace(/([\('\)])/g,"\\$1")).replace(/#.*$/,"")},setClip:function(e,t){t="url("+this.getWindowHref()+"#"+t.id+")";return this.attr(e,{"clip-path":t})},_clipId:0,addHandler:function(e,t,i){S(e).on?S(e).on(t,i):S(e).bind(t,i)},removeHandler:function(e,t,i){S(e).off?S(e).off(t,i):S(e).unbind(t,i)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},shape:function(e,t){var i=document.createElementNS(this._svgns,e);if(i){for(var r in t)void 0!==t[r]&&"NaN"===t[r].toString()?i.setAttribute(r,0):i.setAttribute(r,t[r]);return this._activeParent().appendChild(i),i}},_getTextParts:function(e,t,i){var r={width:0,height:0,parts:[]};if(void 0===e)return r;var s=e.toString().split("<br>"),a=this._activeParent(),n=document.createElementNS(this._svgns,"text");this.attr(n,i);for(var o=0;o<s.length;o++){var l,h=s[o],d=n.ownerDocument.createTextNode(h);n.appendChild(d),a.appendChild(n);try{l=n.getBBox()}catch(e){}var u=S.jqx._rup(l.width),f=S.jqx._rup(.6*l.height);n.removeChild(d),r.width=Math.max(r.width,u),r.height+=f+(0<o?4:0),r.parts.push({width:u,height:f,text:h})}return a.removeChild(n),r},_measureText:function(e,t,i,r){return S.jqx.commonRenderer.measureText(e,t,i,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,r,s,a,n,o,l,h,d){var u,f=this._measureText(e,a,n,!0).textPartsInfo,c=f.parts;l=l||"center",h=h||"center",(1<c.length||o)&&(u=this.beginGroup()),o&&(x=this.createClipRect({x:S.jqx._rup(t)-1,y:S.jqx._rup(i)-1,width:S.jqx._rup(r)+2,height:S.jqx._rup(s)+2}),this.setClip(u,x));var g=this._activeParent(),e=0,o=0,e=f.width,o=f.height;(isNaN(r)||r<=0)&&(r=e),(isNaN(s)||s<=0)&&(s=o);var p=r||0,x=s||0;if(!a||0==a){i+=o,"center"==h||"middle"==h?i+=(x-o)/2:"bottom"==h&&(i+=x-o),r=r||e,s=s||o;for(var g=this._activeParent(),m=0,_=c.length-1;0<=_;_--){var y=document.createElementNS(this._svgns,"text");this.attr(y,n),this.attr(y,{cursor:"default"});var v=y.ownerDocument.createTextNode(c[_].text);y.appendChild(v);var b=t,M=c[_].width,N=c[_].height;"center"==l?b+=(p-M)/2:"right"==l&&(b+=p-M),this.attr(y,{x:S.jqx._rup(b),y:S.jqx._rup(i+m),width:S.jqx._rup(M),height:S.jqx._rup(N)}),g.appendChild(y),m-=c[_].height+4}return u?(this.endGroup(),u):y}d=S.jqx.commonRenderer.alignTextInRect(t,i,r,s,e,o,l,h,a,d);t=d.x,i=d.y;var d=this.shape("g",{transform:"translate("+t+","+i+")"}),w=this.shape("g",{transform:"rotate("+a+")"});d.appendChild(w);for(m=0,_=c.length-1;0<=_;_--){var A=document.createElementNS(this._svgns,"text");this.attr(A,n),this.attr(A,{cursor:"default"});v=A.ownerDocument.createTextNode(c[_].text);A.appendChild(v);b=0,M=c[_].width,N=c[_].height;"center"==l?b+=(f.width-M)/2:"right"==l&&(b+=f.width-M),this.attr(A,{x:S.jqx._rup(b),y:S.jqx._rup(m),width:S.jqx._rup(M),height:S.jqx._rup(N)}),w.appendChild(A),m-=N+4}return g.appendChild(d),u&&this.endGroup(),d},line:function(e,t,i,r,s){r=this.shape("line",{x1:e,y1:t,x2:i,y2:r});return this.attr(r,s),r},path:function(e,t){var i=this.shape("path");return i.setAttribute("d",e),t&&this.attr(i,t),i},rect:function(e,t,i,r,s){e=S.jqx._ptrnd(e),t=S.jqx._ptrnd(t),i=Math.max(1,S.jqx._rnd(i,1,!1)),r=Math.max(1,S.jqx._rnd(r,1,!1));r=this.shape("rect",{x:e,y:t,width:i,height:r});return s&&this.attr(r,s),r},circle:function(e,t,i,r){i=this.shape("circle",{cx:e,cy:t,r:i});return r&&this.attr(i,r),i},pieSlicePath:function(e,t,i,r,s,a,n){return S.jqx.commonRenderer.pieSlicePath(e,t,i,r,s,a,n)},pieslice:function(e,t,i,r,s,a,n,o){a=this.pieSlicePath(e,t,i,r,s,a,n),n=this.shape("path");return n.setAttribute("d",a),o&&this.attr(n,o),n},attr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent=t[i]:e.setAttribute(i,t[i])},removeAttr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent="":e.removeAttribute(t[i])},getAttr:function(e,t){return e.getAttribute(t)},_gradients:{},_toLinearGradient:function(e,t,i){var r="grd"+this._id+e.replace("#","")+(t?"v":"h"),s="url("+this.getWindowHref()+"#"+r+")";if(this._gradients[s])return s;var a=document.createElementNS(this._svgns,"linearGradient");this.attr(a,{x1:"0%",y1:"0%",x2:t?"0%":"100%",y2:t?"100%":"0%",id:r});for(var n=0;n<i.length;n++){var o=i[n],l=document.createElementNS(this._svgns,"stop"),h="stop-color:"+S.jqx.adjustColor(e,o[1]);this.attr(l,{offset:o[0]+"%",style:h}),a.appendChild(l)}return this._defs.appendChild(a),this._gradients[s]=!0,s},_toRadialGradient:function(e,t,i){var r="grd"+this._id+e.replace("#","")+"r"+(null!=i?i.key:""),s="url("+this.getWindowHref()+"#"+r+")";if(this._gradients[s])return s;var a=document.createElementNS(this._svgns,"radialGradient");null==i?this.attr(a,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:r}):this.attr(a,{cx:i.x,cy:i.y,r:i.outerRadius,id:r,gradientUnits:"userSpaceOnUse"});for(var n=0;n<t.length;n++){var o=t[n],l=document.createElementNS(this._svgns,"stop"),h="stop-color:"+S.jqx.adjustColor(e,o[1]);this.attr(l,{offset:o[0]+"%",style:h}),a.appendChild(l)}return this._defs.appendChild(a),this._gradients[s]=!0,s}},S.jqx.vmlRenderer=function(){},S.jqx.vmlRenderer.prototype={init:function(e){e.append("<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>");var t=(this.host=e).find(".chartContainer");t[0].style.width=e.width()+"px",t[0].style.height=e.height()+"px";var i=!0;try{for(var r=0;r<document.namespaces.length;r++)if("v"==document.namespaces[r].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[r].urn){i=!1;break}}catch(e){return!1}return S.jqx.browser.msie&&parseInt(S.jqx.browser.version)<9&&document.childNodes&&0<document.childNodes.length&&document.childNodes[0].data&&-1!=document.childNodes[0].data.indexOf("DOCTYPE")?(i&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):i&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=t[0],this._width=Math.max(S.jqx._rup(t.width()),0),this._height=Math.max(S.jqx._rup(t.height()),0),t[0].style.width=this._width+2,t[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},getType:function(){return"VML"},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;0<this.canvas.childElementCount;)this.removeHandler(this.canvas.firstElementChild),this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={},this._defaultParent=void 0},removeElement:function(e){null!=e&&(this.removeHandler(e),e.parentNode.removeChild(e))},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElement("v:group");return t.style.position="absolute",t.coordorigin="0,0",t.coordsize=this._width+","+this._height,t.style.left=0,t.style.top=0,t.style.width=this._width,t.style.height=this._height,e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElement("div");return t.style.height=e.height+1+"px",t.style.width=e.width+1+"px",t.style.position="absolute",t.style.left=e.x+"px",t.style.top=e.y+"px",t.style.overflow="hidden",this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(t),t},setClip:function(e,t){},_clipId:0,addHandler:function(e,t,i){S(e).on?S(e).on(t,i):S(e).bind(t,i)},removeHandler:function(e,t,i){S(e).off?S(e).off(t,i):S(e).unbind(t,i)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},_getTextParts:function(e,t,i){var r={width:0,height:0,parts:[]},s=e.toString().split("<br>"),e=this._activeParent(),a=document.createElement("v:textbox");this.attr(a,i),e.appendChild(a);for(var n=0;n<s.length;n++){var o=s[n],l=document.createElement("span");l.appendChild(document.createTextNode(o)),a.appendChild(l),i&&i.class&&(l.className=i.class);var h=S(a),d=S.jqx._rup(h.width()),u=S.jqx._rup(.6*h.height());0==u&&S.jqx.browser.msie&&parseInt(S.jqx.browser.version)<9&&((h=h.css("font-size"))&&(u=parseInt(h),isNaN(u)&&(u=0))),a.removeChild(l),r.width=Math.max(r.width,d),r.height+=u+(0<n?2:0),r.parts.push({width:d,height:u,text:o})}return e.removeChild(a),r},_measureText:function(e,t,i,r){return t=45<Math.abs(t)?90:0,S.jqx.commonRenderer.measureText(e,t,i,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,r,s,a,n,o,l,h){var d;n&&n.stroke&&(d=n.stroke),null==d&&(d="black");var u,e=this._measureText(e,a,n,!0),f=e.textPartsInfo.parts,c=e.width,g=e.height;!isNaN(r)&&0!=r||(r=c),!isNaN(s)&&0!=s||(s=g),l=l||"center",h=h||"center",(0<f.length||o)&&(u=this.beginGroup()),o&&(o=this.createClipRect({x:S.jqx._rup(t),y:S.jqx._rup(i),width:S.jqx._rup(r),height:S.jqx._rup(s)}),this.setClip(u,o));var p=this._activeParent(),r=r||0,s=s||0,x=0,m=0;"center"==l?x+=(r-c)/2:"right"==l&&(x+=r-c),"center"==h?m=(s-g)/2:"bottom"==h&&(m=s-g),0==(a=45<Math.abs(a)?90:0)?(i+=g+m,t+=x):(t+=c+x,i+=m);for(var _=0,y=f.length-1;0<=y;y--){var v=f[y],b=(c-v.width)/2;0==a&&"left"==l?b=0:0==a&&"right"==l?b=c-v.width:90==a&&(b=(g-v.width)/2);var M,N=_-v.height,m=90==a?b:N,x=90==a?N:b;(M=document.createElement("v:textbox")).style.position="absolute",M.style.left=S.jqx._rup(t+x),M.style.top=S.jqx._rup(i+m),M.style.width=S.jqx._rup(v.width),M.style.height=S.jqx._rup(v.height),90==a&&(M.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",M.style.height=S.jqx._rup(v.height)+5);b=document.createElement("span");b.appendChild(document.createTextNode(v.text)),n&&n.class&&(b.className=n.class),M.appendChild(b),p.appendChild(M),_-=v.height+(0<y?2:0)}return u?(this.endGroup(),p):M},shape:function(e,t){var i=document.createElement(this._createElementMarkup(e));if(i){for(var r in t)i.setAttribute(r,t[r]);return this._activeParent().appendChild(i),i}},line:function(e,t,i,r,s){r="M "+e+","+t+" L "+i+","+r+" X E",r=this.path(r);return this.attr(r,s),r},_createElementMarkup:function(e){e="<v:"+e+' style=""></v:'+e+">";return this._ie8mode&&(e=e.replace('style=""','style="behavior: url(#default#VML);"')),e},path:function(e,t){var i=document.createElement(this._createElementMarkup("shape"));return i.style.position="absolute",i.coordsize=this._width+" "+this._height,i.coordorigin="0 0",i.style.width=parseInt(this._width),i.style.height=parseInt(this._height),i.style.left="0px",i.style.top="0px",i.setAttribute("path",e),this._activeParent().appendChild(i),t&&this.attr(i,t),i},rect:function(e,t,i,r,s){e=S.jqx._ptrnd(e),t=S.jqx._ptrnd(t),i=S.jqx._rup(i),r=S.jqx._rup(r);var a=this.shape("rect",s);return a.style.position="absolute",a.style.left=e,a.style.top=t,a.style.width=i,a.style.height=r,a.strokeweight=0,s&&this.attr(a,s),a},circle:function(e,t,i,r){var s=this.shape("oval");return e=S.jqx._ptrnd(e-i),t=S.jqx._ptrnd(t-i),i=S.jqx._rup(i),s.style.position="absolute",s.style.left=e,s.style.top=t,s.style.width=2*i,s.style.height=2*i,r&&this.attr(s,r),s},updateCircle:function(e,t,i,r){null==t&&(t=parseFloat(e.style.left)+parseFloat(e.style.width)/2),null==i&&(i=parseFloat(e.style.top)+parseFloat(e.style.height)/2),null==r&&(r=parseFloat(e.width)/2),t=S.jqx._ptrnd(t-r),i=S.jqx._ptrnd(i-r),r=S.jqx._rup(r),e.style.left=t,e.style.top=i,e.style.width=2*r,e.style.height=2*r},pieSlicePath:function(e,t,i,r,s,a,n){r=r||1;var o=Math.abs(s-a);360<o&&(s=0,a=360);var l=s*Math.PI*2/360,h=a*Math.PI*2/360,d=e,u=t,f=!isNaN(i)&&0<i;f&&(n=0),0<n&&(c=(o/2+s)*Math.PI*2/360,e+=n*Math.cos(c),t-=n*Math.sin(c)),f&&(g=i,d=S.jqx._ptrnd(e+g*Math.cos(l)),u=S.jqx._ptrnd(t-g*Math.sin(l)),S.jqx._ptrnd(e+g*Math.cos(h)),S.jqx._ptrnd(t-g*Math.sin(h)));S.jqx._ptrnd(e+r*Math.cos(l));var n=S.jqx._ptrnd(e+r*Math.cos(h)),c=(S.jqx._ptrnd(t-r*Math.sin(l)),S.jqx._ptrnd(t-r*Math.sin(h)));r=S.jqx._ptrnd(r),i=S.jqx._ptrnd(i),e=S.jqx._ptrnd(e),t=S.jqx._ptrnd(t);var g=Math.round(65535*s),l=Math.round(65536*(a-s));i<0&&(i=1);h="";return f?(h="M"+d+" "+u,h+=" AE "+e+" "+t+" "+i+" "+i+" "+g+" "+l,h+=" L "+n+" "+c,g=Math.round(65535*(s-a)),h+=" AE "+e+" "+t+" "+r+" "+r+" "+(l=Math.round(65536*a))+" "+g,h+=" L "+d+" "+u):(h="M"+e+" "+t,h+=" AE "+e+" "+t+" "+r+" "+r+" "+g+" "+l),h+=" X E"},pieslice:function(e,t,i,r,s,a,n,o){n=this.pieSlicePath(e,t,i,r,s,a,n),n=this.path(n,o);return o&&this.attr(n,o),n},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(e){for(var t in this._keymap)if(this._keymap[t].svg==e)return this._keymap[t].vml;return e},attr:function(e,t){if(e&&t)for(var i in t){var r=this._translateParam(i);null!=t[i]&&("fillcolor"==r&&-1!=t[i].indexOf("grd")?e.type=t[i]:"fillcolor"==r&&"transparent"==t[i]?(e.style.filter="alpha(opacity=0)",e["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"):"opacity"==r||"fillopacity"==r?e.fill&&(e.fill.opacity=t[i]):"textContent"==r?e.children[0].innerText=t[i]:"dashstyle"==r?e.dashstyle=t[i].replace(","," "):-1==r.indexOf("style.")?e[r]=t[i]:e.style[r.replace("style.","")]=t[i])}},removeAttr:function(e,t){if(e&&t)for(var i in t)e.removeAttribute(t[i])},getAttr:function(e,t){t=this._translateParam(t);return"opacity"==t||"fillopacity"==t?e.fill?e.fill.opacity:1:-1==t.indexOf("style.")?e[t]:e.style[t.replace("style.","")]},_gradients:{},_toRadialGradient:function(e,t,i){return e},_toLinearGradient:function(e,t,i){if(this._ie8mode)return e;var r="grd"+e.replace("#","")+(t?"v":"h"),s="#"+r;if(this._gradients[s])return s;var a=document.createElement(this._createElementMarkup("fill"));a.type="gradient",a.method="linear",a.angle=t?0:90;for(var n="",o=0;o<i.length;o++){var l=i[o];0<l&&(n+=", "),n+=l[0]+"% "+S.jqx.adjustColor(e,l[1])}a.colors=n;t=document.createElement(this._createElementMarkup("shapetype"));return t.appendChild(a),t.id=r,this.canvas.appendChild(t),s}},S.jqx.HTML5Renderer=function(){},S.jqx.ptrnd=function(e){if(.5==Math.abs(Math.round(e)-e))return e;var t=Math.round(e);return t<e&&--t,t+.5},S.jqx.HTML5Renderer.prototype={init:function(e){try{this.host=e,this.host.append("<div class='chartContainer' style='position:relative' onselectstart='return false;'><canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/></div>"),this.canvas=e.find("#__jqxCanvasWrap"),this.canvas[0].width=e.width(),this.canvas[0].height=e.height(),this.ctx=this.canvas[0].getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(e){return!1}return!0},getType:function(){return"HTML5"},getContainer:function(){return this.host.find(".chartContainer")},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(e){},addHandler:function(e,t,i){},removeHandler:function(e,t,i){},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(e){null!=e&&this._elements[e.id]&&delete this._elements[e.id]},shape:function(e,t){var i,r={type:e,id:this._maxId++};for(i in t)r[i]=t[i];return this._elements[r.id]=r},attr:function(e,t){for(var i in t)e[i]=t[i]},removeAttr:function(e,t){for(var i in t)delete e[t[i]]},rect:function(e,t,i,r,s){if(isNaN(e))throw'Invalid value for "x"';if(isNaN(t))throw'Invalid value for "y"';if(isNaN(i))throw'Invalid value for "width"';if(isNaN(r))throw'Invalid value for "height"';r=this.shape("rect",{x:e,y:t,width:i,height:r});return s&&this.attr(r,s),r},path:function(e,t){t=this.shape("path",t);return this.attr(t,{d:e}),t},line:function(e,t,i,r,s){return this.path("M "+e+","+t+" L "+i+","+r,s)},circle:function(e,t,i,r){i=this.shape("circle",{x:e,y:t,r:i});return r&&this.attr(i,r),i},pieSlicePath:function(e,t,i,r,s,a,n){return S.jqx.commonRenderer.pieSlicePath(e,t,i,r,s,a,n)},pieslice:function(e,t,i,r,s,a,n,o){o=this.path(this.pieSlicePath(e,t,i,r,s,a,n),o);return this.attr(o,{x:e,y:t,innerRadius:i,outerRadius:r,angleFrom:s,angleTo:a}),o},_getCSSStyle:function(e){var t=document.styleSheets;try{for(var i=0;i<t.length;i++)for(var r=0;t[i].cssRules&&r<t[i].cssRules.length;r++)if(-1!=t[i].cssRules[r].selectorText.indexOf(e))return t[i].cssRules[r].style}catch(e){}return{}},_getTextParts:function(e,t,i){var r="Arial",s="10pt",a="";i&&i.class&&((i=this._getCSSStyle(i.class)).fontSize&&(s=i.fontSize),i.fontFamily&&(r=i.fontFamily),i.fontWeight&&(a=i.fontWeight)),this.ctx.font=a+" "+s+" "+r;for(var n={width:0,height:0,parts:[]},o=e.toString().split("<br>"),l=0;l<o.length;l++){var h=o[l],d=this.ctx.measureText(h).width,u=document.createElement("span.jqxchart");u.font=this.ctx.font,u.textContent=h,document.body.appendChild(u);var f=.6*u.offsetHeight;document.body.removeChild(u),n.width=Math.max(n.width,S.jqx._rup(d)),n.height+=f+(0<l?4:0),n.parts.push({width:d,height:f,text:h})}return n},_measureText:function(e,t,i,r){return S.jqx.commonRenderer.measureText(e,t,i,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,r,s,a,n,o,l,h,d){h=this.shape("text",{text:e,x:t,y:i,width:r,height:s,angle:a,clip:o,halign:l,valign:h,rotateAround:d});n&&this.attr(h,n),h.fontFamily="Arial",h.fontSize="10pt",h.fontWeight="",h.color="#000000",n&&n.class&&(d=this._getCSSStyle(n.class),h.fontFamily=d.fontFamily||h.fontFamily,h.fontSize=d.fontSize||h.fontSize,h.fontWeight=d.fontWeight||h.fontWeight,h.color=d.color||h.color);n=this._measureText(e,0,n,!0);return this.attr(h,{textPartsInfo:n.textPartsInfo,textWidth:n.width,textHeight:n.height}),(r<=0||isNaN(r))&&this.attr(h,{width:n.width}),(s<=0||isNaN(s))&&this.attr(h,{height:n.height}),h},_toLinearGradient:function(e,t,i){if(this._renderers._gradients[e])return e;for(var r=[],s=0;s<i.length;s++)r.push({percent:i[s][0]/100,color:S.jqx.adjustColor(e,i[s][1])});var a="gr"+this._gradientId++;return this.createGradient(a,t?"vertical":"horizontal",r),a},_toRadialGradient:function(e,t){if(this._renderers._gradients[e])return e;for(var i=[],r=0;r<t.length;r++)i.push({percent:t[r][0]/100,color:S.jqx.adjustColor(e,t[r][1])});var s="gr"+this._gradientId++;return this.createGradient(s,"radial",i),s},createGradient:function(e,t,i){this._renderers.createGradient(this,e,t,i)},_renderers:{createGradient:function(e,t,i,r){e._gradients[t]={orientation:i,colorStops:r}},setStroke:function(e,t){e=e.ctx;e.strokeStyle=t.stroke||"transparent",e.lineWidth=t["stroke-width"]||1,null!=t["fill-opacity"]?e.globalAlpha=t["fill-opacity"]:null!=t.opacity?e.globalAlpha=t.opacity:e.globalAlpha=1,e.setLineDash&&(t["stroke-dasharray"]?e.setLineDash(t["stroke-dasharray"].split(",")):e.setLineDash([]))},setFillStyle:function(e,t){var i=e.ctx;if(i.fillStyle="transparent",null!=t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:null!=t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,t.fill&&-1==t.fill.indexOf("#")&&e._gradients[t.fill]){var r,s,a,n,o,l="horizontal"!=e._gradients[t.fill].orientation,h="radial"==e._gradients[t.fill].orientation,d=S.jqx.ptrnd(t.x),u=S.jqx.ptrnd(t.y),f=S.jqx.ptrnd(t.x+(l?0:t.width)),c=S.jqx.ptrnd(t.y+(l?t.height:0));"circle"!=t.type&&"path"!=t.type&&"rect"!=t.type||!h||(s=S.jqx.ptrnd(t.x),a=S.jqx.ptrnd(t.y),n=t.innerRadius||0,o=t.outerRadius||t.r||0,"rect"==t.type&&(s+=t.width/2,a+=t.height/2),r=i.createRadialGradient(s,a,n,s,a,o)),h||((isNaN(d)||isNaN(f)||isNaN(u)||isNaN(c))&&(u=d=0,f=l?0:i.canvas.width,c=l?i.canvas.height:0),r=i.createLinearGradient(d,u,f,c));for(var g=e._gradients[t.fill].colorStops,p=0;p<g.length;p++)r.addColorStop(g[p].percent,g[p].color);i.fillStyle=r}else t.fill&&(i.fillStyle=t.fill)},rect:function(e,t){0!=t.width&&0!=t.height&&(e.fillRect(S.jqx.ptrnd(t.x),S.jqx.ptrnd(t.y),t.width,t.height),e.strokeRect(S.jqx.ptrnd(t.x),S.jqx.ptrnd(t.y),t.width,t.height))},circle:function(e,t){0!=t.r&&(e.beginPath(),e.arc(S.jqx.ptrnd(t.x),S.jqx.ptrnd(t.y),t.r,0,2*Math.PI,!1),e.closePath(),e.fill(),e.stroke())},_parsePoint:function(e){return{x:this._parseNumber(e),y:this._parseNumber(e)}},_parseNumber:function(e){for(var t=!1,i=this._pos;i<e.length;i++)if("0"<=e[i]&&e[i]<="9"||"."==e[i]||"e"==e[i]||"-"==e[i]&&!t||"-"==e[i]&&1<=i&&"e"==e[i-1])t=!0;else{if(t||" "!=e[i]&&","!=e[i])break;this._pos++}var r=parseFloat(e.substring(this._pos,i));if(!isNaN(r))return this._pos=i,r},_cmds:"mlcazq",_isRelativeCmd:function(e){return S.jqx.string.contains(this._cmds,e)},_parseCmd:function(e){for(var t=this._pos;t<e.length;t++){if(S.jqx.string.containsIgnoreCase(this._cmds,e[t]))return this._pos=t+1,this._lastCmd=e[t],this._lastCmd;if(" "!=e[t]){if("0"<=e[t]&&e[t]<="9"){if(this._pos=t,""==this._lastCmd)break;return this._lastCmd}}else this._pos++}},_toAbsolutePoint:function(e){return{x:this._currentPoint.x+e.x,y:this._currentPoint.y+e.y}},path:function(e,t){var i=t.d;this._pos=0,this._lastCmd="";var r=void 0;this._currentPoint={x:0,y:0},e.beginPath();for(;this._pos<i.length;){var s,a,n,o,l,h,d,u,f,c,g,p,x,m,_=this._parseCmd(i);if(null==_)break;if("M"!=_&&"m"!=_)if("L"!=_&&"l"!=_)"A"!=_&&"a"!=_?"Z"!=_&&"z"!=_||null==r?"C"!=_&&"c"!=_?"Q"!=_&&"q"!=_||(s=this._parsePoint(i),a=this._parsePoint(i),e.quadraticCurveTo(s.x,s.y,a.x,a.y),this._currentPoint=a):(s=this._parsePoint(i),a=this._parsePoint(i),h=this._parsePoint(i),e.bezierCurveTo(s.x,s.y,a.x,a.y,h.x,h.y),this._currentPoint=h):(e.lineTo(r.x,r.y),this._currentPoint=r):(x=this._parseNumber(i),n=this._parseNumber(i),o=this._parseNumber(i)*(Math.PI/180),c=this._parseNumber(i),l=this._parseNumber(i),u=this._parsePoint(i),this._isRelativeCmd(_)&&(u=this._toAbsolutePoint(u)),0!=x&&0!=n&&(f=this._currentPoint,p={x:Math.cos(o)*(f.x-u.x)/2+Math.sin(o)*(f.y-u.y)/2,y:-Math.sin(o)*(f.x-u.x)/2+Math.cos(o)*(f.y-u.y)/2},1<(h=Math.pow(p.x,2)/Math.pow(x,2)+Math.pow(p.y,2)/Math.pow(n,2))&&(x*=Math.sqrt(h),n*=Math.sqrt(h)),_=(c==l?-1:1)*Math.sqrt((Math.pow(x,2)*Math.pow(n,2)-Math.pow(x,2)*Math.pow(p.y,2)-Math.pow(n,2)*Math.pow(p.x,2))/(Math.pow(x,2)*Math.pow(p.y,2)+Math.pow(n,2)*Math.pow(p.x,2))),isNaN(_)&&(_=0),h=_*x*p.y/n,c=_*-n*p.x/x,_={x:(f.x+u.x)/2+Math.cos(o)*h-Math.sin(o)*c,y:(f.y+u.y)/2+Math.sin(o)*h+Math.cos(o)*c},d=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},g=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(d(e)*d(t))},u=(f=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(g(e,t))})([1,0],[(p.x-h)/x,(p.y-c)/n]),c=f(f=[(p.x-h)/x,(p.y-c)/n],p=[(-p.x-h)/x,(-p.y-c)/n]),g(f,p)<=-1&&(c=Math.PI),1<=g(f,p)&&(c=0),0==l&&0<c&&(c-=2*Math.PI),1==l&&c<0&&(c+=2*Math.PI),g=n<x?x:n,p=n<x?1:x/n,x=n<x?n/x:1,e.translate(_.x,_.y),e.rotate(o),e.scale(p,x),e.arc(0,0,g,u,u+c,1-l),e.scale(1/p,1/x),e.rotate(-o),e.translate(-_.x,-_.y)));else{if(null==(m=this._parsePoint(i)))break;e.lineTo(m.x,m.y),this._currentPoint=m}else{if(null==(m=this._parsePoint(i)))break;e.moveTo(m.x,m.y),this._currentPoint=m,null==r&&(r=m)}}e.fill(),e.stroke(),e.closePath()},text:function(e,t){var i=S.jqx.ptrnd(t.x),r=S.jqx.ptrnd(t.y),s=S.jqx.ptrnd(t.width),a=S.jqx.ptrnd(t.height),n=t.halign,o=t.valign,l=t.angle,h=t.rotateAround,d=t.textPartsInfo,u=d.parts,f=t.clip;null==f&&(f=!0),e.save(),n=n||"center",o=o||"center",f&&(e.rect(i,r,s,a),e.clip());var c=t.textWidth,g=t.textHeight,p=s||0,f=a||0;if(e.fillStyle=t.color,e.font=t.fontWeight+" "+t.fontSize+" "+t.fontFamily,l&&0!=l){h=S.jqx.commonRenderer.alignTextInRect(i,r,s,a,c,g,n,o,l,h),i=h.x,r=h.y,l=l*Math.PI*2/360;e.translate(i,r),e.rotate(l);for(var x=0,m=d.width,_=u.length-1;0<=_;_--){v=0;"center"==n?v+=(m-u[_].width)/2:"right"==n&&(v+=m-u[_].width),e.fillText(u[_].text,v,x),x-=u[_].height+4}e.restore()}else{r+=g,"center"==o||"middle"==o?r+=(f-g)/2:"bottom"==o&&(r+=f-g),s=s||c,a=a||g;for(var x=0,_=u.length-1;0<=_;_--){var y=u[_],v=i,b=u[_].width;u[_].height;"center"==n?v+=(p-b)/2:"right"==n&&(v+=p-b),e.fillText(y.text,v,r+x),x-=y.height+(0<_?4:0)}e.restore()}}},refresh:function(){for(var e in this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height),this._elements){var t=this._elements[e];this._renderers.setFillStyle(this,t),this._renderers.setStroke(this,t),this._renderers[this._elements[e].type](this.ctx,t)}}},S.jqx.createRenderer=function(e,t){var i=e,e=i.renderer=null;if(document.createElementNS&&"HTML5"!=i.renderEngine&&"VML"!=i.renderEngine&&!(e=new S.jqx.svgRenderer).init(t)){if("SVG"==i.renderEngine)throw"Your browser does not support SVG";return null}if(null==e&&"HTML5"!=i.renderEngine){if(!(e=new S.jqx.vmlRenderer).init(t)){if("VML"==i.renderEngine)throw"Your browser does not support VML";return null}i._isVML=!0}if(null==e&&("HTML5"==i.renderEngine||null==i.renderEngine)&&!(e=new S.jqx.HTML5Renderer).init(t))throw"Your browser does not support HTML5 Canvas";return i.renderer=e},S.jqx._widgetToImage=function(e,t,i,r,s,a){var n=e;if(!n)return!1;null!=i&&""!=i||(i="image."+t);var o=n.renderEngine,l=n.enableAnimations;if(n.enableAnimations=!1,n.renderEngine="HTML5",n.renderEngine!=o)try{n.refresh()}catch(e){return n.renderEngine=o,n.refresh(),n.enableAnimations=l,!1}var h=n.renderer.getContainer().find("canvas")[0],d=!0;S.isFunction(a)&&(d=a(e,h));e=!0;return d&&(e=S.jqx.exportImage(h,t,i,r,s)),n.renderEngine!=o&&(n.renderEngine=o,n.refresh(),n.enableAnimations=l),e},S.jqx.getByPriority=function(e){for(var t=void 0,i=0;i<e.length&&null==t;i++)null==t&&null!=e[i]&&(t=e[i]);return t},S.jqx.exportImage=function(e,t,i,r,s){if(!e)return!1;var a="pdf"===t.toLowerCase();if(a&&(t="jpeg"),null!=i&&""!=i||(i="image."+t),null==r||""==r)throw"Please specifiy export server";var n=!0;try{if(e){var o,l=e.toDataURL("image/"+t);if(a){S.jqx.pdfExport||(S.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var h=595;switch(S.jqx.pdfExport.paperSize){case"legal":var h=612;"portrait"!==S.jqx.pdfExport.orientation&&(h=1008);break;case"letter":h=612;"portrait"!==S.jqx.pdfExport.orientation&&(h=792);break;case"a3":h=841;"portrait"!==S.jqx.pdfExport.orientation&&(h=1190);break;case"a4":h=595;"portrait"!==S.jqx.pdfExport.orientation&&(h=842);break;case"a5":h=420;"portrait"!==S.jqx.pdfExport.orientation&&(h=595)}var d=72*S(e).width()/96;h-20<=d&&(d=h-20);try{var u=new window.pdfDataExport(S.jqx.pdfExport.orientation,"pt",S.jqx.pdfExport.paperSize)}catch(e){u=new window.jqxPdfDataExport(S.jqx.pdfExport.orientation,"pt",S.jqx.pdfExport.paperSize)}return u.addImage(l,"JPEG",10,10,d,0),void u.save(i)}l=l.replace("data:image/"+t+";base64,",""),s?S.ajax({dataType:"string",url:r,type:"POST",data:{content:l,fname:i},async:!1,success:function(e,t,i){n=!0},error:function(e,t,i){n=!1}}):((o=document.createElement("form")).method="POST",o.action=r,o.style.display="none",document.body.appendChild(o),(h=document.createElement("input")).name="fname",h.value=i,h.style.display="none",(d=document.createElement("input")).name="content",d.value=l,d.style.display="none",o.appendChild(h),o.appendChild(d),o.submit(),document.body.removeChild(o),n=!0)}}catch(e){n=!1}return n}}(jqxBaseFramework),function(p){window.jqxPlot=function(){},window.jqxPlot.prototype={get:function(e,t,i){return void 0!==i?e[t][i]:e[t]},min:function(e,t){for(var i=NaN,r=0;r<e.length;r++){var s=this.get(e,r,t);(isNaN(i)||s<i)&&(i=s)}return i},max:function(e,t){for(var i=NaN,r=0;r<e.length;r++){var s=this.get(e,r,t);(isNaN(i)||i<s)&&(i=s)}return i},sum:function(e,t){for(var i=0,r=0;r<e.length;r++){var s=this.get(e,r,t);isNaN(s)||(i+=s)}return i},count:function(e,t){for(var i=0,r=0;r<e.length;r++){var s=this.get(e,r,t);isNaN(s)||i++}return i},avg:function(e,t){return this.sum(e,t)/Math.max(1,this.count(e,t))},filter:function(e,t){if(!t)return e;for(var i=[],r=0;r<e.length;r++)t(e[r])&&i.push(e[r]);return i},scale:function(e,t,i,r){if(isNaN(e))return NaN;if((e<Math.min(t.min,t.max)||e>Math.max(t.min,t.max))&&(!r||!0!==r.ignore_range))return NaN;var s,a,n,o,l=NaN,h=1;return void 0===t.type||"logarithmic"!=t.type?(r=(r=Math.abs(t.max-t.min))||1,h=Math.abs(e-Math.min(t.min,t.max))/r):"logarithmic"===t.type&&(s=t.base,isNaN(s)&&(s=10),(o=Math.min(t.min,t.max))<=0&&(o=1),(n=Math.max(t.min,t.max))<=0&&(n=1),a=p.jqx.log(n,s),n=Math.pow(s,a),n=p.jqx.log(o,s),o=Math.pow(s,n),o=p.jqx.log(e,s),h=Math.abs(o-n)/(a-n)),"logarithmic"===i.type?(s=i.base,isNaN(s)&&(s=10),a=p.jqx.log(i.max,s),n=p.jqx.log(i.min,s),i.flip&&(h=1-h),o=Math.min(n,a)+h*Math.abs(a-n),l=Math.pow(s,o)):(l=Math.min(i.min,i.max)+h*Math.abs(i.max-i.min),i.flip&&(l=Math.max(i.min,i.max)-l+i.min)),l},axis:function(e,t,i){if(i<=1)return[t,e];(isNaN(i)||i<2)&&(i=2);for(var r=0;Math.round(e)!=e&&Math.round(t)!=t&&r<10;)e*=10,t*=10,r++;for(var s=(t-e)/i;r<10&&Math.round(s)!=s;)e*=10,t*=10,s*=10,r++;for(var a=[1,2,5],n=0;;){var o=n%a.length,l=Math.floor(n/a.length),h=Math.pow(10,l)*a[o],o=(n+1)%a.length,l=Math.floor((n+1)/a.length),d=Math.pow(10,l)*a[o];if(h<=s&&s<d)break;n++}for(var u=d,f=[],c=p.jqx._rnd(e,u,!1),g=r<=0?1:Math.pow(10,r);c<t+u;)f.push(c/g),c+=u;return f}}}(jqxBaseFramework),function(le){le.jqx.jqxWidget("jqxChart","",{}),le.extend(le.jqx._jqxChart.prototype,{defineInstance:function(){return le.extend(!0,this,this._defaultSettings),this._createColorsCache(),this._defaultSettings},_defaultSettings:{title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},valueAxis:null,renderEngine:"",enableAnimations:!0,enableAxisTextAnimation:!1,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:!0,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:!0,legendLayout:null,enabled:!0,colorScheme:"scheme01",animationDuration:500,showToolTips:!0,showToolTipsOnAllSeries:!1,toolTipShowDelay:300,toolTipDelay:500,toolTipHideDelay:4e3,toolTipMoveDuration:300,toolTipFormatFunction:null,toolTipAlignment:"dataPoint",localization:null,columnSeriesOverlap:!1,rtl:!1,legendPosition:null,greyScale:!1,axisPadding:5,enableCrosshairs:!1,crosshairsColor:"#BCBCBC",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:!0,_itemsToggleState:[],_isToggleRefresh:!1,_isSelectorRefresh:!1,_sliders:[],_selectorRange:[],_rangeSelectorInstances:{},_resizeState:{},renderer:null,_isRangeSelectorInstance:!1,drawBefore:null,draw:null,_renderData:{},enableSampling:!0},_defaultLineColor:"#BCBCBC",_touchEvents:{mousedown:le.jqx.mobile.getTouchEventName("touchstart"),click:le.jqx.mobile.getTouchEventName("touchstart"),mouseup:le.jqx.mobile.getTouchEventName("touchend"),mousemove:le.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},destroy:function(){this.host.remove()},_jqxPlot:null,createInstance:function(e){if(!le.jqx.dataAdapter)throw"jqxdata.js is not loaded";var a=this;a._refreshOnDownloadComlete(),a._isTouchDevice=le.jqx.mobile.isTouchDevice(),a._jqxPlot||(a._jqxPlot=new jqxPlot),a.addHandler(a.host,a._getEvent("mousemove"),function(e){var t,i,r;0!=a.enabled&&(a._isRangeSelectorInstance||a.host.css("cursor","default"),i=e.pageX||e.clientX||e.screenX,r=e.pageY||e.clientY||e.screenY,t=a.host.offset(),a._isTouchDevice&&(i=(e=le.jqx.position(e)).left,r=e.top),i-=t.left,r-=t.top,a.onmousemove(i,r))}),a.addHandler(a.host,a._getEvent("mouseleave"),function(e){var t,i,r;0!=a.enabled&&(t=a._mouseX,i=a._mouseY,(r=a._plotRect)&&t>=r.x&&t<=r.x+r.width&&i>=r.y&&i<=r.y+r.height||(a._cancelTooltipTimer(),a._hideToolTip(0),a._unselect()))}),a.addHandler(a.host,"click",function(i){var e,t,r,s;0!=a.enabled&&(r=i.pageX||i.clientX||i.screenX,s=i.pageY||i.clientY||i.screenY,e=a.host.offset(),a._isTouchDevice&&(r=(t=le.jqx.position(i)).left,s=t.top),r-=e.left,s-=e.top,a._mouseX=r,a._mouseY=s,!isNaN(a._lastClickTs)&&(new Date).valueOf()-a._lastClickTs<100||(this._hostClickTimer=setTimeout(function(){var e,t;a._isTouchDevice||(a._cancelTooltipTimer(),a._hideToolTip(),a._unselect()),a._pointMarker&&a._pointMarker.element&&(t=(e=a.seriesGroups[a._pointMarker.gidx]).series[a._pointMarker.sidx],i.stopImmediatePropagation(),a._raiseItemEvent("click",e,t,a._pointMarker.iidx))},100)))});var t,i=a.element.style;i&&(t=!1,null!=i.width&&(t|=-1!=i.width.toString().indexOf("%")),null!=i.height&&(t|=-1!=i.height.toString().indexOf("%")),t&&le.jqx.utilities.resize(this.host,function(){a.timer&&clearTimeout(a.timer);a.timer=setTimeout(function(){var e=a.enableAnimations;a.enableAnimations=!1,a.refresh(),a.enableAnimations=e},1)},!1,!0))},_refreshOnDownloadComlete:function(){var e,t=this,i=this.source;i instanceof le.jqx.dataAdapter&&(null!=(e=i._options)&&(null==e||e.autoBind)||(i.autoSync=!1,i.dataBind()),e=this.element.id,0==i.records.length?(i.unbindDownloadComplete(e),i.bindDownloadComplete(e,function(){t.ready&&t.ready(),t.refresh()})):t.ready&&t.ready(),i.unbindBindingUpdate(e),i.bindBindingUpdate(e,function(){t._supressBindingRefresh||t.refresh()}))},propertyChangedHandler:function(e,t,i,r){null!=this.isInitialized&&0!=this.isInitialized&&("source"==t&&this._refreshOnDownloadComlete(),this.refresh())},_initRenderer:function(e){if(!le.jqx.createRenderer)throw"Please include jqxdraw.js";return le.jqx.createRenderer(this,e)},_internalRefresh:function(){var e,t,i=this;le.jqx.isHidden(i.host)||(i._stopAnimations(),i.renderer&&(i._isToggleRefresh||i._isUpdate)||(i._hideToolTip(0),i._isVML=!1,i.host.empty(),i._measureDiv=void 0,i._initRenderer(i.host)),(e=i.renderer)&&(t=e.getRect(),i._render({x:1,y:1,width:t.width,height:t.height}),this._raiseEvent("refreshBegin",{instance:this}),e instanceof le.jqx.HTML5Renderer&&e.refresh(),i._isUpdate=!1,this._raiseEvent("refreshEnd",{instance:this})))},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)},saveAsPDF:function(e,t,i){return this._saveAsImage("pdf",e,t,i)},_saveAsImage:function(e,t,i,r){for(var s=!1,a=0;a<this.seriesGroups.length&&!s;a++){var n=this._getXAxis(a);n&&n.rangeSelector&&(s=!0)}return le.jqx._widgetToImage(this,e,t,i,r,s?this._selectorSaveAsImageCallback:void 0)},_selectorSaveAsImageCallback:function(e,t){for(var i=e,r=0;r<i.seriesGroups.length;r++){var s=i._getXAxis(r);if(s&&s.rangeSelector&&!s.rangeSelector.renderTo){var a=i._rangeSelectorInstances[r];if(a){var n=a.jqxChart("getInstance"),o=(n.renderEngine,n.renderer.getRect()),l=n.renderer.getContainer().find("canvas")[0].getContext("2d"),h=i._sliders[r],d="horizontal"==i.seriesGroups[r].orientation,u=d?"height":"width",f=d?"width":"height",c=d?"y":"x",g=d?"x":"y",p={};p[c]=h.startOffset+h.rect[c],p[g]=h.rect[g],p[u]=h.endOffset-h.startOffset,p[f]=h.rect[f];var f=s.rangeSelector.colorSelectedRange||"blue",s=(s.rangeSelector.colorUnselectedRange,s.rangeSelector.colorRangeLine||"grey"),x=[];x.push(n.renderer.rect(p.x,p.y,p.width,p.height,{fill:f,opacity:.1})),d?(x.push(n.renderer.line(le.jqx._ptrnd(h.rect.x+h.rect.width),le.jqx._ptrnd(h.rect.y),le.jqx._ptrnd(h.rect.x+h.rect.width),le.jqx._ptrnd(p.y),{stroke:s,opacity:.5})),x.push(n.renderer.line(le.jqx._ptrnd(h.rect.x+h.rect.width),le.jqx._ptrnd(p.y+p.height),le.jqx._ptrnd(h.rect.x+h.rect.width),le.jqx._ptrnd(h.rect.y+h.rect.height),{stroke:s,opacity:.5})),x.push(n.renderer.line(le.jqx._ptrnd(h.rect.x),le.jqx._ptrnd(p.y),le.jqx._ptrnd(h.rect.x+h.rect.width),le.jqx._ptrnd(p.y),{stroke:s,opacity:.5})),x.push(n.renderer.line(le.jqx._ptrnd(h.rect.x),le.jqx._ptrnd(p.y+p.height),le.jqx._ptrnd(h.rect.x+h.rect.width),le.jqx._ptrnd(p.y+p.height),{stroke:s,opacity:.5}))):(x.push(n.renderer.line(le.jqx._ptrnd(h.rect.x),le.jqx._ptrnd(h.rect.y),le.jqx._ptrnd(p.x),le.jqx._ptrnd(h.rect.y),{stroke:s,opacity:.5})),x.push(n.renderer.line(le.jqx._ptrnd(p.x+p.width),le.jqx._ptrnd(h.rect.y),le.jqx._ptrnd(h.rect.x+h.rect.width),le.jqx._ptrnd(h.rect.y),{stroke:s,opacity:.5})),x.push(n.renderer.line(le.jqx._ptrnd(p.x),le.jqx._ptrnd(h.rect.y),le.jqx._ptrnd(p.x),le.jqx._ptrnd(h.rect.y+h.rect.height),{stroke:s,opacity:.5})),x.push(n.renderer.line(le.jqx._ptrnd(p.x+p.width),le.jqx._ptrnd(h.rect.y),le.jqx._ptrnd(p.x+p.width),le.jqx._ptrnd(h.rect.y+h.rect.height),{stroke:s,opacity:.5}))),n.renderer.refresh();l=l.getImageData(o.x,o.y,o.width,o.height);t.getContext("2d").putImageData(l,parseInt(a.css("left")),parseInt(a.css("top")),1,1,o.width,o.height);for(var m=0;m<x.length;m++)n.renderer.removeElement(x[m]);n.renderer.refresh()}}}return!0},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=!0,this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut","candlestick","ohlc","waterfall","stackedwaterfall"],clear:function(){var e,t=this;for(e in t._defaultSettings)t[e]=t._defaultSettings[e];t.title="",t.description="",t.refresh()},_validateSeriesGroups:function(){if(!le.isArray(this.seriesGroups))throw"Invalid property: 'seriesGroups' property is required and must be a valid array.";for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(!t.type)throw"Invalid property: Each series group must have a valid 'type' property.";if(!le.isArray(t.series))throw"Invalid property: Each series group must have a 'series' property which must be a valid array."}},_render:function(e){var t=this,i=t.renderer;t._validateSeriesGroups(),t._colorsCache.clear(),!t._isToggleRefresh&&t._isUpdate&&t._renderData&&t._renderDataClone(),t._renderData=[],i.clear(),t._unselect(),t._hideToolTip(0);var r=t.backgroundImage;null==r||""==r?t.host.css({"background-image":""}):t.host.css({"background-image":-1!=r.indexOf("(")?r:"url('"+r+"')"}),t._rect=e;var s=t.padding||{left:5,top:5,right:5,bottom:5},a=i.createClipRect(e),n=i.beginGroup();i.setClip(n,a);a=i.rect(e.x,e.y,e.width-2,e.height-2);null==r||""==r?i.attr(a,{fill:t.backgroundColor||t.background||"white"}):i.attr(a,{fill:"transparent"}),0!=t.showBorderLine?(null==(o=null==t.borderLineColor?t.borderColor:t.borderLineColor)&&(o=t._defaultLineColor),r=this.borderLineWidth,(isNaN(r)||r<0||10<r)&&(r=1),i.attr(a,{"stroke-width":r,stroke:o})):le.jqx.browser.msie&&le.jqx.browser.version<9&&i.attr(a,{"stroke-width":1,stroke:t.backgroundColor||"white"}),le.isFunction(t.drawBefore)&&t.drawBefore(i,e);var o={x:s.left,y:s.top,width:e.width-s.left-s.right,height:e.height-s.top-s.bottom};t._paddedRect=o;a=t.titlePadding||{left:2,top:2,right:2,bottom:2};t.title&&0<t.title.length&&(s=t.toThemeProperty("jqx-chart-title-text",null),w=i.measureText(t.title,0,{class:s}),i.text(t.title,o.x+a.left,o.y+a.top,o.width-(a.left+a.right),w.height,0,{class:s},!0,"center","center"),o.y+=w.height,o.height-=w.height),t.description&&0<t.description.length&&(N=t.toThemeProperty("jqx-chart-title-description",null),w=i.measureText(t.description,0,{class:N}),i.text(t.description,o.x+a.left,o.y+a.top,o.width-(a.left+a.right),w.height,0,{class:N},!0,"center","center"),o.y+=w.height,o.height-=w.height),(t.title||t.description)&&(o.y+=a.bottom+a.top,o.height-=a.bottom+a.top);var l={x:o.x,y:o.y,width:o.width,height:o.height};t._plotRect=l,t._buildStats(l);for(var h,d=t._isPieOnlySeries(),u=t.seriesGroups,f={xAxis:{},valueAxis:{}},c=0;c<u.length&&!d;c++)if("pie"!=u[c].type&&"donut"!=u[c].type){if(!(R=t._getXAxis(c)))throw"seriesGroup["+c+"] is missing xAxis definition";var g=R==t._getXAxis()?-1:c;f.xAxis[g]=0}var p=t.axisPadding;isNaN(p)&&(p=5);var x={left:0,right:0,leftCount:0,rightCount:0},m=[];for(c=0;c<u.length;c++)"pie"!=(F=u[c]).type&&"donut"!=F.type&&1!=F.spider&&1!=F.polar?(h="horizontal"==F.orientation,g=(R=t._getXAxis(c))==t._getXAxis()?-1:c,j=(_=t._getValueAxis(c))==t._getValueAxis()?-1:c,A=(h?R:_).axisSize,q={x:0,y:l.y,width:l.width,height:l.height},y=(h?t._getXAxis(c):_).position,A&&"auto"!=A||(h?(A=this._renderXAxis(c,q,!0,l).width,1==(1&f.xAxis[g])?A=0:0<A&&(f.xAxis[g]|=1)):(A=t._renderValueAxis(c,q,!0,l).width,1==(1&f.valueAxis[j])?A=0:0<A&&(f.valueAxis[j]|=1))),"left"!=y&&1==t.rtl&&(y="right"),"right"!=y&&(y="left"),0<x[y+"Count"]&&0<x[y]&&0<A&&(x[y]+=p),m.push({width:A,position:y,xRel:x[y]}),x[y]+=A,x[y+"Count"]++):m.push({width:0,position:0,xRel:0});var _,y,v=Math.max(1,Math.max(e.width,e.height)),b={top:0,bottom:0,topCount:0,bottomCount:0},M=[];for(c=0;c<u.length;c++)"pie"!=(F=u[c]).type&&"donut"!=F.type&&1!=F.spider&&1!=F.polar?(h="horizontal"==F.orientation,j=(_=this._getValueAxis(c))==t._getValueAxis()?-1:c,g=(R=t._getXAxis(c))==t._getXAxis()?-1:c,S=(h?_:R).axisSize,y=(h?_:R).position,S&&"auto"!=S||(h?(S=t._renderValueAxis(c,{x:0,y:0,width:v,height:0},!0,l).height,2==(2&f.valueAxis[j])?S=0:0<S&&(f.valueAxis[j]|=2)):(S=t._renderXAxis(c,{x:0,y:0,width:v,height:0},!0).height,2==(2&f.xAxis[g])?S=0:0<S&&(f.xAxis[g]|=2))),"top"!=y&&(y="bottom"),0<b[y+"Count"]&&0<b[y]&&0<S&&(b[y]+=p),M.push({height:S,position:y,yRel:b[y]}),b[y]+=S,b[y+"Count"]++):M.push({height:0,position:0,yRel:0});t._createAnimationGroup("series");var N=0!=t.showLegend,w=N?t._renderLegend(t.legendLayout?t._rect:o,!0):{width:0,height:0};if(!this.legendLayout||isNaN(this.legendLayout.left)&&isNaN(this.legendLayout.top)||(w={width:0,height:0}),o.height<b.top+b.bottom+w.height||o.width<x.left+x.right)i.endGroup();else{l.height-=b.top+b.bottom+w.height,l.x+=x.left,l.width-=x.left+x.right,l.y+=b.top;var A,S,C=[];if(!d){var j,q;t._getXAxis().tickMarksColor||t._defaultLineColor;for(c=0;c<u.length;c++)1!=(F=u[c]).polar&&1!=F.spider&&"pie"!=F.type&&"donut"!=F.type&&(h="horizontal"==F.orientation,g=t._getXAxis(c)==t._getXAxis()?-1:c,j=t._getValueAxis(c)==t._getValueAxis()?-1:c,q={x:l.x,y:0,width:l.width,height:M[c].height},"top"!=M[c].position?q.y=l.y+l.height+M[c].yRel:q.y=l.y-M[c].yRel-M[c].height,h?4!=(4&f.valueAxis[j])&&t._isGroupVisible(c)&&(t._renderValueAxis(c,q,!1,l),f.valueAxis[j]|=4):(C.push(q),4!=(4&f.xAxis[g])&&t._isGroupVisible(c)&&(t._renderXAxis(c,q,!1,l),f.xAxis[g]|=4)))}if(N&&(a=t.legendLayout?t._rect:o,N=o.x+le.jqx._ptrnd((o.width-w.width)/2),D=l.y+l.height+b.bottom,A=o.width,S=w.height,t.legendLayout&&(isNaN(t.legendLayout.left)||(N=t.legendLayout.left),isNaN(t.legendLayout.top)||(D=t.legendLayout.top),isNaN(t.legendLayout.width)||(A=t.legendLayout.width),isNaN(t.legendLayout.height)||(S=t.legendLayout.height)),N+A>a.x+a.width&&(A=a.x+a.width-N),D+S>a.y+a.height&&(S=a.y+a.height-D),t._renderLegend({x:N,y:D,width:A,height:S})),t._hasHorizontalLines=!1,!d)for(c=0;c<u.length;c++)1!=(F=u[c]).polar&&1!=F.spider&&"pie"!=F.type&&"donut"!=F.type&&(h="horizontal"==u[c].orientation,q={x:l.x-m[c].xRel-m[c].width,y:l.y,width:m[c].width,height:l.height},"left"!=m[c].position&&(q.x=l.x+l.width+m[c].xRel),g=t._getXAxis(c)==t._getXAxis()?-1:c,j=t._getValueAxis(c)==t._getValueAxis()?-1:c,h?(C.push(q),8!=(8&f.xAxis[g])&&t._isGroupVisible(c)&&(t._renderXAxis(c,q,!1,l),f.xAxis[g]|=8)):8!=(8&f.valueAxis[j])&&t._isGroupVisible(c)&&(t._renderValueAxis(c,q,!1,l),f.valueAxis[j]|=8));if(!(l.width<=0||l.height<=0)){for(t._plotRect={x:l.x,y:l.y,width:l.width,height:l.height},c=0;c<u.length;c++)this._drawPlotAreaLines(c,!0,{gridLines:!1,tickMarks:!1,alternatingBackground:!0}),this._drawPlotAreaLines(c,!1,{gridLines:!1,tickMarks:!1,alternatingBackground:!0});for(c=0;c<u.length;c++)this._drawPlotAreaLines(c,!0,{gridLines:!0,tickMarks:!0,alternatingBackground:!1}),this._drawPlotAreaLines(c,!1,{gridLines:!0,tickMarks:!0,alternatingBackground:!1});var T=!1;for(c=0;c<u.length&&!T;c++)if(void 0!==(F=u[c]).annotations||le.isFunction(F.draw)||le.isFunction(F.drawBefore)){T=!0;break}var k,D=i.beginGroup();for(T||(k=i.createClipRect({x:l.x-2,y:l.y,width:l.width+4,height:l.height}),i.setClip(D,k)),c=0;c<u.length;c++){var P,F=u[c],I=!1;for(P in t._seriesTypes)if(t._seriesTypes[P]==F.type){I=!0;break}if(!I)throw'Invalid serie type "'+F.type+'"';le.isFunction(F.drawBefore)&&F.drawBefore(i,e,c,this),1!=F.polar&&1!=F.spider||-1==F.type.indexOf("pie")&&-1==F.type.indexOf("donut")&&t._renderSpiderAxis(c,l),t._renderAxisBands(c,l,!0),t._renderAxisBands(c,l,!1)}for(c=0;c<u.length;c++){F=u[c];if(t._isColumnType(F.type)?t._renderColumnSeries(c,l):-1!=F.type.indexOf("pie")||-1!=F.type.indexOf("donut")?t._renderPieSeries(c,l):-1!=F.type.indexOf("line")||-1!=F.type.indexOf("area")?t._renderLineSeries(c,l):-1!=F.type.indexOf("scatter")||-1!=F.type.indexOf("bubble")?t._renderScatterSeries(c,l):-1==F.type.indexOf("candlestick")&&-1==F.type.indexOf("ohlc")||t._renderCandleStickSeries(c,l,-1!=F.type.indexOf("ohlc")),F.annotations){if(!this._moduleAnnotations)throw"Please include 'jqxchart.annotations.js'";for(var O=0;O<F.annotations.length;O++)t._renderAnnotation(c,F.annotations[O],l)}le.isFunction(F.draw)&&t.draw(i,e,c,this)}i.endGroup(),0==t.enabled&&(k=i.rect(e.x,e.y,e.width,e.height),i.attr(k,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})),le.isFunction(t.draw)&&t.draw(i,e),i.endGroup(),t._startAnimation("series"),t._credits&&t._credits();for(var R,L=!1,c=0;c<t.seriesGroups.length&&!L;c++)(R=t._getXAxis(c))&&R.rangeSelector&&(L=!0);if(L){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";var G=[];for(this._isSelectorRefresh||(t.removeHandler(le(document),t._getEvent("mousemove"),t._onSliderMouseMove),t.removeHandler(le(document),t._getEvent("mousedown"),t._onSliderMouseDown),t.removeHandler(le(document),t._getEvent("mouseup"),t._onSliderMouseUp)),t._isSelectorRefresh||(t._rangeSelectorInstances={}),c=0;c<t.seriesGroups.length;c++){var E=this._getXAxis(c);-1==G.indexOf(E)&&this._renderXAxisRangeSelector(c,C[c])&&G.push(E)}}}}},_credits:function(){var e,t,i,r,s,a;"75CE8878-FCD1-4EC7-9249-BA0F153A5DE8"!==le.jqx.credits&&(e=this,t=String.fromCharCode(119,119,119,46,106,113,119,105,100,103,101,116,115,46,99,111,109),e._isRangeSelectorInstance||-1!=location.hostname.indexOf(t.substring(4))||(i=e.renderer,r=e._rect,a={class:e.toThemeProperty("jqx-chart-legend-text",null),opacity:.5},s=i.measureText(t,0,a),a=i.text(t,r.x+r.width-s.width-5,r.y+r.height-s.height-5,s.width,s.height,0,a),le(a).on("click",function(){location.href="http://"+t+"/?ref="+e.widgetName})))},_isPieOnlySeries:function(){var e=this.seriesGroups;if(0==e.length)return!1;for(var t=0;t<e.length;t++)if("pie"!=e[t].type&&"donut"!=e[t].type)return!1;return!0},_renderChartLegend:function(e,t,i,r){var s=this,a=s.renderer,n={x:t.x,y:t.y,width:t.width,height:t.height};6<=n.width&&(n.x+=3,n.width-=6),6<=n.height&&(n.y+=3,n.height-=6);for(var o={width:n.width,height:0},l=0,h=0,d=20,u=0,f=0,c=0;c<e.length;c++){var g=(g=e[c].css)||s.toThemeProperty("jqx-chart-legend-text",null),d=20,p=e[c].text,x=a.measureText(p,0,{class:g});x.height>d&&(d=x.height),x.width>f&&(f=x.width),r?(0!=c&&(h+=d),h>n.height&&(h=0,l+=f+20+10,f=x.width,o.width=l+f)):(0!=l&&(l+=10),l+20+x.width>n.width&&x.width<n.width&&(l=0,h+=d,d=20,u=n.width,o.height=h+d));var m=!1;if(x.width>n.width){m=!0;for(var _=n.width,y=(I=p).split(/\s+/),v=[],b="",M=0;M<y.length;M++){var N=b+(0<b.length?" ":"")+y[M];b=(C=s.renderer.measureText(N,0,{class:g})).width>_&&0<N.length&&0<b.length?(v.push({text:b}),y[M]):N,M+1==y.length&&v.push({text:b})}for(var w=x.width=0,A=0;A<v.length;A++){var S=v[A].text,C=s.renderer.measureText(S,0,{class:g});x.width=Math.max(x.width,C.width),w+=x.height}x.height=w}var j=l+x.width<n.width&&h+x.height<t.height;if(s.legendLayout&&(j=n.x+l+x.width<s._rect.x+s._rect.width&&n.y+h+x.height<s._rect.y+s._rect.height),!i&&j){var q=e[c].seriesIndex,T=e[c].groupIndex,k=e[c].itemIndex,D=e[c].fillColor,P=e[c].lineColor,F=s._isSerieVisible(T,q,k),j=a.beginGroup(),F=F?e[c].opacity:.1;if(m){for(var I=p,_=n.width,y=I.split(/\s+/),O=0,v=[],b="",M=0;M<y.length;M++){N=b+(0<b.length?" ":"")+y[M];b=(C=s.renderer.measureText(N,0,{class:g})).width>_&&0<N.length&&0<b.length?(v.push({text:b,dy:O}),O+=C.height,y[M]):N,M+1==y.length&&v.push({text:b,dy:O})}for(A=0;A<v.length;A++){S=v[A].text,O=v[A].dy,C=s.renderer.measureText(S,0,{class:g});r?s.renderer.text(S,n.x+l+15,n.y+h+O,x.width,d,0,{class:g},!1,"left","center"):s.renderer.text(S,n.x+l+15,n.y+h+O,x.width,d,0,{class:g},!1,"center","center")}var R=a.rect(n.x+l,n.y+h+5+O/2,10,10);r&&(h+=O),s.renderer.attr(R,{fill:D,"fill-opacity":F,stroke:P,"stroke-width":1,"stroke-opacity":e[c].opacity})}else{R=a.rect(n.x+l,n.y+h+5,10,10);s.renderer.attr(R,{fill:D,"fill-opacity":F,stroke:P,"stroke-width":1,"stroke-opacity":e[c].opacity}),r?s.renderer.text(p,n.x+l+15,n.y+h,x.width,x.height+5,0,{class:g},!1,"left","center"):s.renderer.text(p,n.x+l+15,n.y+h,x.width,d,0,{class:g},!1,"center","center")}s.renderer.endGroup(),s._setLegendToggleHandler(T,q,k,j)}r||u<(l+=x.width+20)&&(u=l)}if(i)return o.height=le.jqx._ptrnd(h+d+5),o.width=le.jqx._ptrnd(u),o},isSerieVisible:function(e,t,i){return this._isSerieVisible(e,t,i)},_isSerieVisible:function(e,t,i){for(;this._itemsToggleState.length<e+1;)this._itemsToggleState.push([]);for(var r=this._itemsToggleState[e];r.length<t+1;)r.push(!!isNaN(i)||[]);var s=r[t];if(isNaN(i))return s;for(le.isArray(s)||(r[t]=s=[]);s.length<i+1;)s.push(!0);return s[i]},isGroupVisible:function(e){return this._isGroupVisible(e)},_isGroupVisible:function(e){var t=!1,i=this.seriesGroups[e].series;if(!i)return t;for(var r=0;r<i.length;r++)if(this._isSerieVisible(e,r)){t=!0;break}return t},_toggleSerie:function(e,t,i,r){var s=!this._isSerieVisible(e,t,i);null!=r&&(s=r);var a=this.seriesGroups[e],r=a.series[t];if(this._raiseEvent("toggle",{state:s,seriesGroup:a,serie:r,elementIndex:i}),isNaN(i))this._itemsToggleState[e][t]=s;else{var n=this._itemsToggleState[e][t];for(le.isArray(n)||(n=[]);n.length<i;)n.push(!0);n[i]=s}this._isToggleRefresh=!0,this.update(),this._isToggleRefresh=!1},showSerie:function(e,t,i){this._toggleSerie(e,t,i,!0)},hideSerie:function(e,t,i){this._toggleSerie(e,t,i,!1)},_setLegendToggleHandler:function(t,i,r,e){var s,a=this.seriesGroups[t],n=a.series[i].enableSeriesToggle;null==n&&(n=0!=a.enableSeriesToggle),n&&(s=this).renderer.addHandler(e,"click",function(e){s._toggleSerie(t,i,r)})},_renderLegend:function(e,t){for(var i=this,r=[],s=0;s<i.seriesGroups.length;s++){var a=i.seriesGroups[s];if(0!=a.showLegend)for(var n=0;n<a.series.length;n++){var o=a.series[n];if(0!=o.showLegend){var l=i._getSerieSettings(s,n);if("pie"!=a.type&&"donut"!=a.type){var h=o.legendFormatSettings||a.legendFormatSettings,d=o.legendFormatFunction||a.legendFormatFunction,u=i._formatValue(o.displayText||o.dataField||"",h,d,s,n,NaN),f=i._getSeriesColors(s,n),c=this._get([o.legendFillColor,o.legendColor,f.fillColor]),g=this._get([o.legendLineColor,o.legendColor,f.lineColor]);r.push({groupIndex:s,seriesIndex:n,text:u,css:o.displayTextClass,fillColor:c,lineColor:g,opacity:l.opacity})}else for(var g=i._getXAxis(s),h=o.legendFormatSettings||a.legendFormatSettings||g.formatSettings||o.formatSettings||a.formatSettings,d=o.legendFormatFunction||a.legendFormatFunction||g.formatFunction||o.formatFunction||a.formatFunction,p=i._getDataLen(s),x=0;x<p;x++){u=i._getDataValue(x,o.displayText,s),u=i._formatValue(u,h,d,s,n,x);var f=i._getColors(s,n,x);r.push({groupIndex:s,seriesIndex:n,itemIndex:x,text:u,css:o.displayTextClass,fillColor:f.fillColor,lineColor:f.lineColor,opacity:l.opacity})}}}}return i._renderChartLegend(r,e,t,i.legendLayout&&"vertical"==i.legendLayout.flow)},_getInterval:function(e,t){if(!e)return t;var i=this._get([e.unitInterval,t]);return isNaN(e.step)||(i=e.step*t),i},_getOffsets:function(e,t,i,r,s,a,n,o,l){var h,d,u=this._getInterval(s[e],o),f=[];(""==e||s[e].visible&&"custom"!=s[e].visible)&&(f=this._generateIntervalValues(r,u,o,n,l)),"labels"!=e?(d=n?a.left:0,!n&&1<o&&(d=a.left*(o+1)),1==f.length&&(d*=2),h=this._valuesToOffsets(f,t,r,i,a,!1,d),n||(o=(a.left+a.right)*u/o,t.flip?h.unshift(h[0]+o):h.push(h[h.length-1]+o))):(d=a.left,1==f.length&&(d*=2),h=this._valuesToOffsets(f,t,r,i,a,n,d));var c=this._arraysToObjectsArray([f,h],["value","offset"]);if(t[e]&&t[e].custom)for(var g=this._objectsArraysToArray(t[e].custom,"value"),p=this._objectsArraysToArray(t[e].custom,"offset"),x=this._valuesToOffsets(g,t,r,i,a,n,a.left),m=0;m<t[e].custom.length;m++)c.push({value:g[m],offset:(isNaN(p[m])?x:p)[m]});return c},_renderXAxis:function(e,t,i,r){var s=this,a=s._getXAxis(e),n=s.seriesGroups[e],o="horizontal"==n.orientation,l={width:0,height:0},h=s._getAxisSettings(a);if(!a||!h.visible||"spider"==n.type)return l;if(!s._isGroupVisible(e)||this._isPieGroup(e))return l;for(var d=s._alignValuesWithTicks(e);s._renderData.length<e+1;)s._renderData.push({});s.rtl&&(a.flip=!0);var u=o?t.height:t.width,f=a.text,c=s._calculateXOffsets(e,u),g=c.axisStats,p=a.rangeSelector,x=0;if(p){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";x=this._selectorGetSize(a)}var m=o&&"right"==a.position||!o&&"top"==a.position;!i&&p&&(o?(t.width-=x,"right"!=a.position&&(t.x+=x)):(t.height-=x,"top"==a.position&&(t.y+=x)));var _={rangeLength:c.rangeLength,itemWidth:c.itemWidth,intervalWidth:c.intervalWidth,data:c,settings:h,isMirror:m,rect:t};s._renderData[e].xAxis=_;var y=g.interval;if(isNaN(y))return l;o&&(h.title.angle-=90,h.labels.angle-=90);var v,b=this._getInterval(h.gridLines,y),M=this._getInterval(h.tickMarks,y),N=this._getInterval(h.labels,y),w=g.min,n=g.max,p=c.padding,l=1==a.flip||s.rtl,c={min:w,max:n};g.logAxis.enabled&&(c.min=g.logAxis.minPow,c.max=g.logAxis.maxPow),v="date"==a.type?(h.gridLines.offsets=this._generateDTOffsets(w,n,u,p,b,y,g.dateTimeUnit,d,NaN,!1,l),h.tickMarks.offsets=this._generateDTOffsets(w,n,u,p,M,y,g.dateTimeUnit,d,NaN,!1,l),this._generateDTOffsets(w,n,u,p,N,y,g.dateTimeUnit,d,NaN,!0,l)):(h.gridLines.offsets=this._getOffsets("gridLines",a,u,g,h,p,d,y),h.tickMarks.offsets=this._getOffsets("tickMarks",a,u,g,h,p,d,y),this._getOffsets("labels",a,u,g,h,p,d,y));var A;s.renderer.getRect().width,t.x,t.width,s._getDataLen(e);s._elementRenderInfo&&s._elementRenderInfo.length>e&&(A=s._elementRenderInfo[e].xAxis);var S,C,j=[];h.labels.formatFunction&&(S=h.labels.formatFunction),h.labels.formatSettings&&(C=le.extend({},h.labels.formatSettings)),"date"==a.type&&(a.dateFormat&&!S?C?C.dateFormat=C.dateFormat||a.dateFormat:C={dateFormat:a.dateFormat}:S||C&&(!C||C.dateFormat)||(S=this._getDefaultDTFormatFn(a.baseUnit||"day")));for(var q=0;q<v.length;q++){var T,k=v[q].value,D=v[q].offset;isNaN(D)||(T=void 0,"date"!=a.type&&g.useIndeces&&a.dataField&&(T=Math.round(k),null==(k=s._getDataValue(T,a.dataField))&&(k="")),null!=(f=s._formatValue(k,C,S,e,void 0,T))&&""!=f.toString()||(isNaN(T)&&(T=q),T>=g.filterRange.min&&T<=g.filterRange.max&&(f=g.useIndeces?(g.min+T).toString():null==k?"":k.toString())),D={key:k,text:f,targetX:D,x:D},A&&A.itemOffsets[k]&&(D.x=A.itemOffsets[k].x,D.y=A.itemOffsets[k].y),j.push(D))}d=s._getAnimProps(e),d=d.enabled&&j.length<500?d.duration:0;0==s.enableAxisTextAnimation&&(d=0);_={items:j,renderData:_},d=s._renderAxis(o,m,h,{x:t.x,y:t.y,width:t.width,height:t.height},r,y,!1,!0,_,i,d);return o?d.width+=x:d.height+=x,d},_animateAxisText:function(e,t){for(var i=e.items,r=e.textSettings,s=0;s<i.length;s++){var a,n,o=i[s];o&&o.visible&&(a=o.targetX,n=o.targetY,isNaN(o.x)||isNaN(o.y)||(a=o.x+(a-o.x)*t,n=o.y+(n-o.y)*t),o.element&&(this.renderer.removeElement(o.element),o.element=void 0),o.element=this.renderer.text(o.text,a,n,o.width,o.height,r.angle,{class:r.style},!1,r.halign,r.valign,r.textRotationPoint))}},_getPolarAxisCoords:function(e,t){var i=this.seriesGroups[e],r=t.x+le.jqx.getNum([i.offsetX,t.width/2]),s=t.y+le.jqx.getNum([i.offsetY,t.height/2]),a=Math.min(t.width,t.height),n=i.radius;this._isPercent(n)&&(n=parseFloat(n)/100*a/2),isNaN(n)&&(n=a/2*.6);var o=this._alignValuesWithTicks(e),l=this._get([i.startAngle,i.minAngle,0])-90;l=isNaN(l)?0:2*Math.PI*l/360;var h=this._get([i.endAngle,i.maxAngle,360])-90;(h=isNaN(h)?2*Math.PI:2*Math.PI*h/360)<l&&(d=l,l=h,h=d);var a=le.jqx._rnd(Math.abs(l-h)/(2*Math.PI),.001,!0),d=2*Math.PI*n*a,a=this._calcGroupOffsets(e,t).xoffsets;if(a){var u,t=!(1e-5<Math.abs(Math.abs(h-l)-2*Math.PI));return i.spider&&(e=(i=this._getXAxisStats(e,this._getXAxis(e),d)).interval,!isNaN(e)&&0!=e||(e=1),e=(i.max-i.min)/e+(t?1:0),2<(e=Math.round(e))&&(u=Math.cos(Math.abs(h-l)/2/e),0==(u=le.jqx._rnd(u,.01))&&(u=1),n<(u=n/u)&&o&&(n=u))),{x:r,y:s,r:n=le.jqx._ptrnd(n),adjR:this._get([u,n]),itemWidth:a.itemWidth,rangeLength:a.rangeLength,valuesOnTicks:o,startAngle:l,endAngle:h,isClosedCircle:t,axisSize:d}}},_toPolarCoord:function(e,t,i,r){var s=Math.abs(e.startAngle-e.endAngle)/(2*Math.PI),s=2*(i-t.x)*Math.PI*s/Math.max(1,t.width)+e.startAngle,r=(t.height+t.y-r)*e.r/Math.max(1,t.height),t=e.x+r*Math.cos(s),s=e.y+r*Math.sin(s);return{x:le.jqx._ptrnd(t),y:le.jqx._ptrnd(s)}},_renderSpiderAxis:function(e,t){var i=this,r=i._getXAxis(e),s=this._getAxisSettings(r);if(r&&s.visible){var a=i.seriesGroups[e],n=i._getPolarAxisCoords(e,t);if(n){var o=le.jqx._ptrnd(n.x),l=le.jqx._ptrnd(n.y),h=n.adjR,d=n.startAngle,u=n.endAngle;if(!(h<1)){var f=le.jqx._rnd(Math.abs(d-u)/(2*Math.PI),.001,!0),c=2*Math.PI*h*f,g=n.isClosedCircle,p=this._renderData[e].xoffsets;if(p.rangeLength){var x=p.axisStats.interval;(isNaN(x)||x<1)&&(x=1);var m="horizontal"==a.orientation;for(m&&"right"==r.position||(m||r.position);i._renderData.length<e+1;)i._renderData.push({});var _={rangeLength:p.rangeLength,itemWidth:p.itemWidth,data:p,rect:t,settings:s};i._renderData[e].xAxis=_,i._renderData[e].polarCoords=n;for(var y=!0,v=0;v<e;v++){i._renderData[v].xAxis;var b,M=i._renderData[v].polarCoords,N=i._getXAxis(v),w=!1;for(b in n)if(n[b]!=M[b]){w=!0;break}w&&N==r||(y=!1)}var A,S=s.gridLines,C=s.tickMarks,j=s.labels,q=this._getInterval(S,x),T=this._getInterval(C,x),k=this._getInterval(j,x),D=i._alignValuesWithTicks(e),P=i.renderer,F=p.axisStats,I=F.min,m=F.max,O=this._getPaddingSize(p.axisStats,r,D,c,!0,g,!1),p=1==r.flip||i.rtl,R="date"==r.type?(S.offsets=this._generateDTOffsets(I,m,c,O,q,x,r.baseUnit,!0,0,!1,p),C.offsets=this._generateDTOffsets(I,m,c,O,T,x,r.baseUnit,!0,0,!1,p),this._generateDTOffsets(I,m,c,O,k,x,r.baseUnit,!0,0,!0,p)):(s.gridLines.offsets=this._getOffsets("gridLines",r,c,F,s,O,!0,x),s.tickMarks.offsets=this._getOffsets("tickMarks",r,c,F,s,O,!0,x),this._getOffsets("labels",r,c,F,s,O,!0,x));i.renderer.getRect().width,t.x,t.width,i._getDataLen(e);i._elementRenderInfo&&i._elementRenderInfo.length>e&&(A=i._elementRenderInfo[e].xAxis);for(var L=[],G=this._getDataLen(e),v=0;v<R.length;v++){var E=R[v].offset,V=R[v].value;if("date"!=r.type&&F.useIndeces&&r.dataField){var H=Math.round(V);if(G<=H)continue;null==(V=i._getDataValue(H,r.dataField))&&(V="")}var B=i._formatValue(V,j.formatSettings,j.formatFunction,e,void 0,H);null!=B&&""!=B.toString()||(B=F.useIndeces?(F.min+v).toString():null==V?"":V.toString());E={key:V,text:B,targetX:E,x:E};A&&A.itemOffsets[V]&&(E.x=A.itemOffsets[V].x,E.y=A.itemOffsets[V].y),L.push(E)}var z={stroke:S.color,fill:"none","stroke-width":S.width,"stroke-dasharray":S.dashStyle||""};a.spider||(1==f?P.circle(o,l,h,z):(k=-d/Math.PI*180,W=-u/Math.PI*180,this.renderer.pieslice(o,l,0,h,Math.min(k,W),Math.max(k,W),void 0,z)));var W=L.length,X=(Math.PI,d);if(S.visible&&y){D||g||S.offsets.unshift({offset:-O.right});for(v=0;v<S.offsets.length;v++){var U,Y,Z=S.offsets[v].offset;D||(Z+=g?O.right/2:O.right),.01<(ie=X+2*Z*Math.PI*f/Math.max(1,c))-u||(U=le.jqx._ptrnd(o+h*Math.cos(ie)),Y=le.jqx._ptrnd(l+h*Math.sin(ie)),P.line(o,l,U,Y,z))}}if(C.visible&&y){var J={stroke:C.color,fill:"none","stroke-width":C.width,"stroke-dasharray":C.dashStyle||""};D||g||C.offsets.unshift({offset:-O.right});for(v=0;v<C.offsets.length;v++){var Q,$,Z=C.offsets[v].offset;D||(Z+=g?O.right/2:O.right),.01<(ie=X+2*Z*Math.PI*f/Math.max(1,c))-u||(Q={x:o+h*Math.cos(ie),y:l+h*Math.sin(ie)},$={x:o+(h+5)*Math.cos(ie),y:l+(h+5)*Math.sin(ie)},P.line(le.jqx._ptrnd(Q.x),le.jqx._ptrnd(Q.y),le.jqx._ptrnd($.x),le.jqx._ptrnd($.y),J))}}var K=[];if(a.spider){var ee=[],ee="date"==r.type?this._generateDTOffsets(I,m,c,O,x,x,r.baseUnit,!0,0,!1,p):this._getOffsets("",r,c,F,s,O,!0,x);D||g||ee.unshift({offset:-O.right});for(v=0;v<ee.length;v++){Z=ee[v].offset;D||(Z+=g?O.right/2:O.right),.01<(ie=X+2*Z*Math.PI*f/Math.max(1,c))-u||K.push(ie)}_.offsetAngles=K}var te=(te=i._renderSpiderValueAxis(e,t,D?n.adjR:n.r,K))||[];if(a.spider){if(!D)for(v=0;v<te.length;v++)te[v]=te[v]*n.adjR/n.r;te.push(h),this._renderSpiderLines(o,l,te,n,K,z)}if(y&&j.visible){_.polarLabels=[];for(var ie,v=0;v<L.length;v++){(ie=(360-(ie=X+2*(Z=L[v].x)*Math.PI*f/Math.max(1,c))/(2*Math.PI)*360)%360)<0&&(ie=360+ie);var re,se,ae=P.measureText(L[v].text,0,{class:s.labels.style}),ne=(D?n.adjR:n.r)+(C.visible?7:2),oe=s.labels,ne=oe.autoRotate?(re=le.jqx._ptRotate(o-ae.width/2,l-ne-ae.height,o,l,-ie/180*Math.PI),se=le.jqx._ptRotate(o+ae.width/2,l-ne,o,l,-ie/180*Math.PI),ae.width=Math.abs(re.x-se.x),ae.height=Math.abs(re.y-se.y),{x:Math.min(re.x,se.x),y:Math.min(re.y,se.y)}):this._adjustTextBoxPosition(o,l,ae,ne,ie,!1,!1,!1);_.polarLabels.push({x:ne.x,y:ne.y,value:L[v].text}),P.text(L[v].text,ne.x,ne.y,ae.width,ae.height,oe.autoRotate?90-ie:oe.angle,{class:oe.style},!1,oe.halign,oe.valign)}}}}}}},_renderSpiderLines:function(e,t,i,r,s,a){for(var n=this.renderer,o=(r.startAngle,r.endAngle,r.isClosedCircle),l=0;l<i.length;l++){for(var h=i[l],d=void 0,u=void 0,f=0;f<s.length;f++){var c=s[f],g=le.jqx._ptrnd(e+h*Math.cos(c)),c=le.jqx._ptrnd(t+h*Math.sin(c));d&&n.line(d.x,d.y,g,c,a),d={x:g,y:c},u=u||{x:g,y:c}}u&&o&&n.line(d.x,d.y,u.x,u.y,a)}},_renderSpiderValueAxis:function(e,t,i,r){var s=this.seriesGroups[e],a=this._getPolarAxisCoords(e,t);if(a){var n=le.jqx._ptrnd(a.x),o=le.jqx._ptrnd(a.y);i=i||a.r;var l=a.startAngle,h=a.endAngle,d=le.jqx._rnd(Math.abs(l-h)/(2*Math.PI),.001,!0);if(!(i<1)){i=le.jqx._ptrnd(i);var u=this._getValueAxis(e),f=this._getAxisSettings(u);if(u&&0!=f.visible){var t=this._stats.seriesGroups[e].mu,a=f.labels,c=a.formatSettings;-1!=s.type.indexOf("stacked")&&-1!=s.type.indexOf("100")&&!c&&(c={sufix:"%"});a=this._get([a.step,a.unitInterval/t]);isNaN(a)&&(a=1),a=Math.max(1,Math.round(a)),this._calcValueAxisItems(e,i,a);var g=f.gridLines,p=f.tickMarks,x=(this._getInterval(g,t),this._getInterval(p,t),f.labels),m={stroke:g.color,fill:"none","stroke-width":1,"stroke-dasharray":g.dashStyle||""},_=this._renderData[e].valueAxis,y=_.items,v=l;y.length&&f.line.visible&&(isNaN(f.line.angle)||(v=2*Math.PI*f.line.angle/360),S=n+Math.cos(v)*i,C=o+Math.sin(v)*i,-1==r.indexOf(v)&&((j=le.extend({},m))["stroke-width"]=f.line.lineWidth,j.stroke=f.line.color,j["stroke-dasharray"]=f.line.dashStyle,this.renderer.line(n,o,S,C,j))),y=y.reverse();var b=this.renderer;_.polarLabels=[];for(var M=0;M<y.length-1;M++){var N,w,A=y[M];isNaN(A)||(N=x.formatFunction?x.formatFunction(A):this._formatNumber(A,c),w=b.measureText(N,0,{class:x.style}),A=n+(0!=u.showTickMarks?3:2),T=o-_.itemWidth*M-w.height/2,I=le.jqx._ptRotate(A,T,n,o,v),O=le.jqx._ptRotate(A+w.width,T+w.height,n,o,v),A=Math.min(I.x,O.x),T=Math.min(I.y,O.y),w.width=Math.abs(I.x-O.x),w.height=Math.abs(I.y-O.y),A+=f.labels.textOffset.x,T+=f.labels.textOffset.y,_.polarLabels.push({x:A,y:T,value:N}),b.text(N,A,T,w.width,w.height,x.autoRotate?90+180*l/Math.PI:x.angle,{class:x.style},!1,x.halign,x.valign))}var S=1==u.logarithmicScale?y.length:_.rangeLength,C=(Math.PI,0!=u.valuesOnTicks),j=this._stats.seriesGroups[e],S=j.mu,e=1==u.logarithmicScale;u.logarithmicScaleBase;e&&(S=1);j={min:j.min,max:j.max,logAxis:{enabled:1==e,base:u.logarithmicScaleBase,minPow:j.minPow,maxPow:j.maxPow}};(g.visible||s.spider||u.alternatingBackgroundColor||u.alternatingBackgroundColor2)&&(g.offsets=this._getOffsets("gridLines",u,i,j,f,{left:0,right:0},C,S));var q=[];if(g.visible||s.spider)for(var T,k,D,m={stroke:g.color,fill:"none","stroke-width":1,"stroke-dasharray":g.dashStyle||""},M=0;M<g.offsets.length;M++)(T=le.jqx._ptrnd(g.offsets[M].offset))!=i&&(s.spider?q.push(T):1!=d?(k=-l/Math.PI*180,D=-h/Math.PI*180,this.renderer.pieslice(n,o,0,T,Math.min(k,D),Math.max(k,D),void 0,m)):b.circle(n,o,T,m));if(u.tickMarks&&(u.tickMarks.visible||u.showTickMarks)||(p.visible=!1),p.visible){p.offsets=this._getOffsets("tickMarks",u,i,j,f,{left:0,right:0},C,S);for(var P=2*p.size,m={stroke:p.color,fill:"none","stroke-width":1,"stroke-dasharray":p.dashStyle||""},M=0;M<p.offsets.length;M++){var F=p.offsets[M].offset,I={x:n+F*Math.cos(v)-P/2*Math.sin(v+Math.PI/2),y:o+F*Math.sin(v)-P/2*Math.cos(v+Math.PI/2)},O={x:n+F*Math.cos(v)+P/2*Math.sin(v+Math.PI/2),y:o+F*Math.sin(v)+P/2*Math.cos(v+Math.PI/2)};b.line(le.jqx._ptrnd(I.x),le.jqx._ptrnd(I.y),le.jqx._ptrnd(O.x),le.jqx._ptrnd(O.y),m)}}return q}}}},_renderAxis:function(e,t,i,r,s,a,n,o,l,h,d){if(i.customDraw&&!h)return{width:NaN,height:NaN};var u=i.title,f=i.labels,c=(i.gridLines,i.tickMarks),g=i.padding,p=c.visible?c.size:0,c={width:0,height:0},x={width:0,height:0};e?c.height=x.height=r.height:c.width=x.width=r.width,!h&&t&&e&&(r.x-=r.width);var m=l.renderData,_=m.itemWidth;u.visible&&null!=u.text&&""!=u&&(v=u.angle,C=this.renderer.measureText(u.text,v,{class:u.style}),x.width=C.width,x.height=C.height,h||this.renderer.text(u.text,r.x+u.offset.x+(e?t?-g.right-2+2*r.width-x.width:2+g.left:0),r.y+u.offset.y+(e?0:t?g.top+2:r.height-2-x.height-g.bottom),(e?x:r).width,(e?r:x).height,v,{class:u.style},!0,u.halign,u.valign,u.rotationPoint));var y=0,v=o?-_/2:0;o&&!e&&(f.halign="center");var b=r.x,M=r.y,u=f.textOffset;u&&(isNaN(u.x)||(b+=u.x),isNaN(u.y)||(M+=u.y)),e?(b+=g.left+2+(0<x.width?x.width+2:0)+(t?r.width-x.width:0),M+=v):(b+=v,t?(M+=0<x.height?x.height+6:4,M+=p-(o?p:p/4)):M+=o?p:p/4,M+=g.top);var N=0,w=0,A=l.items;m.itemOffsets={},!this._isToggleRefresh&&this._isUpdate||(d=0);for(var S,C,j,q=!1,T=0,k=0;k<A.length&&f.visible;k++,y+=_)A[k]&&!isNaN(_)&&(S=A[k].text,isNaN(A[k].targetX)||(y=A[k].targetX),(C=this.renderer.measureText(S,f.angle,{class:f.style})).width>w&&(w=C.width),C.height>N&&(N=C.height),T+=e?N:w,h||e&&y>r.height+2||!e&&y>r.width+2||(D=e?b+(t?0==x.width?p:p-2:0):b+y,P=e?M+y:M,m.itemOffsets[A[k].key]={x:D,y:P},q||isNaN(A[k].x)&&(isNaN(A[k].y)||!d)||(q=!0),A[k].targetX=D,A[k].targetY=P,A[k].width=e?r.width-g.left-g.right-4-p-(0<x.width?x.width+2:0):_,A[k].height=e?_:r.height-g.top-g.bottom-4-p-(0<x.height?x.height+2:0),A[k].visible=!0));m.avgWidth=0==A.length?0:T/A.length,h||(l={items:A,textSettings:f},!isNaN(d)&&q||(d=0),this._animateAxisText(l,0==d?1:0),0!=d&&(j=this)._enqueueAnimation("series",void 0,void 0,d,function(e,t,i){j._animateAxisText(t,i)},l)),c.width+=4+p+x.width+w+(e&&0<x.width?2:0),c.height+=4+p+x.height+N+(!e&&0<x.height?2:0),e?c.width+=g.left+g.right:c.height+=g.top+g.bottom;var D,P;return!h&&i.line.visible&&(i={stroke:i.line.color,"stroke-width":i.line.width,"stroke-dasharray":i.line.dashStyle||""},e?(D=r.x+r.width+(t?g.left:-g.right),D=le.jqx._ptrnd(D),this.renderer.line(D,r.y,D,r.y+r.height,i)):(P=le.jqx._ptrnd(r.y+(t?r.height-g.bottom:g.top)),this.renderer.line(le.jqx._ptrnd(r.x),P,le.jqx._ptrnd(r.x+r.width+1),P,i))),c.width=le.jqx._rup(c.width),c.height=le.jqx._rup(c.height),c},_drawPlotAreaLines:function(e,t,i){var r=this.seriesGroups[e],s="horizontal"!=r.orientation;if(this._renderData&&!(this._renderData.length<=e)){var a=t?"valueAxis":"xAxis",n=this._renderData[e][a];if(n){var o=(o=this._renderData.axisDrawState)||(this._renderData.axisDrawState={}),a="",l=t?(a="valueAxis_"+(r.valueAxis?e:"")+(s?"swap":""),this._getValueAxis(e)):(a="xAxis_"+(r.xAxis||r.categoryAxis?e:"")+(s?"swap":""),this._getXAxis(e));o=o[a]||(o[a]={}),t||(s=!s);e=n.settings;if(e&&!e.customDraw){var h=e.gridLines,a=e.tickMarks,d=e.padding,u=n.rect,f=this._plotRect;if(h&&a){var c={},g={stroke:h.color,"stroke-width":h.width,"stroke-dasharray":h.dashStyle||""},p=t?u.y+u.height:u.x,x=h.offsets;if(t&&!l.flip&&(x=(x=le.extend([],x)).reverse()),x&&0<x.length)for(var m,_,y,v=NaN,b=(x.length,0);b<x.length;b++)s?((m=le.jqx._ptrnd(u.y+x[b].offset))<u.y-.5&&(m=le.jqx._ptrnd(u.y)),m>u.y+u.height&&(m=u.y+u.height)):(m=le.jqx._ptrnd(u.x+x[b].offset))>u.x+u.width+.5&&(m=le.jqx._ptrnd(u.x+u.width)),isNaN(m)||!isNaN(v)&&Math.abs(m-v)<2||(v=m,i.gridLines&&0!=h.visible&&1!=o.gridLines&&(s?this.renderer.line(le.jqx._ptrnd(f.x),m,le.jqx._ptrnd(f.x+f.width),m,g):this.renderer.line(m,le.jqx._ptrnd(f.y),m,le.jqx._ptrnd(f.y+f.height),g)),c[m]=!0,i.alternatingBackground&&(h.alternatingBackgroundColor||h.alternatingBackgroundColor2)&&1!=o.alternatingBackground&&(_=b%2==0?h.alternatingBackgroundColor2:h.alternatingBackgroundColor,0<b&&_&&(y=s?this.renderer.rect(le.jqx._ptrnd(f.x),p,le.jqx._ptrnd(f.width-1),m-p,g):this.renderer.rect(p,le.jqx._ptrnd(f.y),m-p,le.jqx._ptrnd(f.height),g),this.renderer.attr(y,{"stroke-width":0,fill:_,opacity:h.alternatingBackgroundOpacity||1}))),p=m);g={stroke:a.color,"stroke-width":a.width,"stroke-dasharray":a.dashStyle||""};if(i.tickMarks&&a.visible&&1!=o.tickMarks)for(var M=a.size,x=a.offsets,v=NaN,b=0;b<x.length;b++)if(s?((m=le.jqx._ptrnd(u.y+x[b].offset))<u.y-.5&&(m=le.jqx._ptrnd(u.y)),m>u.y+u.height&&(m=u.y+u.height)):(m=le.jqx._ptrnd(u.x+x[b].offset))>u.x+u.width+.5&&(m=le.jqx._ptrnd(u.x+u.width)),!isNaN(m)&&(isNaN(v)||!(Math.abs(m-v)<2))){if(c[m-1]?m--:c[m+1]&&m++,s){if(m>u.y+u.height+.5)break}else if(m>u.x+u.width+.5)break;v=m;var N,w=n.isMirror?M:-M;s?(N=u.x+u.width+("right"==l.position?d.left:-d.right),t||(N=u.x+(n.isMirror?d.left:-d.right+u.width)),this.renderer.line(N,m,N+w,m,g)):(N=u.y+(n.isMirror?u.height:0),N+=n.isMirror?-d.bottom:d.top,N=le.jqx._ptrnd(N),this.renderer.line(m,N,m,N-w,g))}o.tickMarks=o.tickMarks||i.tickMarks,o.gridLines=o.gridLines||i.gridLines,o.alternatingBackground=o.alternatingBackground||i.alternatingBackground}}}}},_calcValueAxisItems:function(e,t,i){var r=this._stats.seriesGroups[e];if(!r||!r.isValid)return!1;var s=this.seriesGroups[e],a=(s.orientation,this._getValueAxis(e)),n=0!=a.valuesOnTicks,o=(a.dataField,r.intervals),t=t/o,l=r.min,h=r.mu,d=1==a.logarithmicScale,u=a.logarithmicScaleBase||10,f=-1!=s.type.indexOf("stacked")&&-1!=s.type.indexOf("100");for(d&&(h=isNaN(a.unitInterval)?1:a.unitInterval),n||(o=Math.max(o-1,1));this._renderData.length<e+1;)this._renderData.push({});this._renderData[e].valueAxis={};s=this._renderData[e].valueAxis;s.itemWidth=s.intervalWidth=t,s.items=[];for(var c=s.items,g=0;g<=o;g++){var p=0,p=d?f?r.max/Math.pow(u,o-g):l*Math.pow(u,g):n?l+g*h:l+(g+.5)*h;g%i==0?c.push(p):c.push(NaN)}return s.rangeLength=d&&!f?r.intervals:r.intervals*h,1!=a.flip&&(c=c.reverse()),!0},_getDecimalPlaces:function(e,t,i){var r=0;isNaN(i)&&(i=10);for(var s=0;s<e.length;s++){var a=void 0===t?e[s]:e[s][t];if(!isNaN(a)){for(var n=a.toString(),o=0;o<n.length;o++)if((n[o]<"0"||"9"<n[o])&&0<=(r=n.length-(o+1)))return Math.min(r,i);for(0<r&&(a*=Math.pow(10,r));Math.round(a)!=a&&r<i;)r++,a*=10}}return r},_renderValueAxis:function(e,t,i,r){var s=this.seriesGroups[e],a="horizontal"==s.orientation,n=this._getValueAxis(e);if(!n)throw"SeriesGroup "+e+" is missing valueAxis definition";var o={width:0,height:0};if(!this._isGroupVisible(e)||this._isPieOnlySeries()||"spider"==s.type)return o;var l=0!=n.valuesOnTicks,h=this._stats.seriesGroups[e],d=h.mu,u=1==n.logarithmicScale,f=n.logarithmicScaleBase||10;if(u&&(d=isNaN(n.unitInterval)?1:n.unitInterval),0==d&&(d=1),isNaN(d))return o;var c=this._getAxisSettings(n),g=c.title,p=c.labels,x=n.labels||{};this._get([n.horizontalTextAlignment,x.horizontalAlignment])||0!=p.angle||(p.halign=a?"center":"right"==n.position?"left":"right");x=this._get([p.step,p.unitInterval/d]);if(isNaN(x)&&(x=1),x=Math.max(1,Math.round(x)),!this._calcValueAxisItems(e,a?t.width:t.height,x)||!c.visible)return o;a||(g.angle=this.rtl?90:-90,"centercenter"==g.rotationPoint&&("top"==g.valign?g.rotationPoint="rightcenter":"bottom"==g.valign&&(g.rotationPoint="leftcenter")));var x=this._renderData[e].valueAxis,m=p.formatSettings;-1==s.type.indexOf("stacked")||-1==s.type.indexOf("100")||m||(m={sufix:"%"}),p.formatFunction||m&&m.decimalPlaces||((m=m||{}).decimalPlaces=this._getDecimalPlaces([h.min,h.max,d],void 0,3));o=c.gridLines,u||this._getInterval(o,d),g=a?t.width:t.height,s=1==n.flip;n.flip=!s;h={min:h.min,max:h.max,logAxis:{enabled:1==u,base:f,minPow:h.minPow,maxPow:h.maxPow}};(o.visible||n.alternatingBackgroundColor||n.alternatingBackgroundColor2)&&(o.offsets=this._getOffsets("gridLines",n,g,h,c,{left:0,right:0},l,d));o=c.tickMarks;o.visible&&(o.offsets=this._getOffsets("tickMarks",n,g,h,c,{left:0,right:0},l,d));var _=this._getOffsets("labels",n,g,h,c,{left:0,right:0},l,d,!l);n.flip=s;var y,v=[];this._elementRenderInfo&&this._elementRenderInfo.length>e&&(y=this._elementRenderInfo[e].valueAxis);for(var b=0;b<_.length;b++){var M,N=_[b].value;isNaN(_[b].offset)?v.push(void 0):(M={key:N,text:p.formatFunction?p.formatFunction(N):isNaN(N)?N:this._formatNumber(N,m)},y&&y.itemOffsets[N]&&(M.x=y.itemOffsets[N].x,M.y=y.itemOffsets[N].y),M.targetX=_[b].offset,isNaN(M.targetX)||v.push(M))}s=a&&"top"==n.position||!a&&"right"==n.position||!a&&this.rtl&&"left"!=n.position,n={items:v,renderData:x},e=this._getAnimProps(e),e=e.enabled&&v.length<500?e.duration:0;return 0==this.enableAxisTextAnimation&&(e=0),x.settings=c,x.isMirror=s,x.rect=t,this._renderAxis(!a,s,c,t,r,d,u,!0,n,i,e)},_objectsArraysToArray:function(e,t){var i=[];if(!le.isArray(e))return i;for(var r=0;r<e.length;r++)i.push(e[r][t]);return i},_arraysToObjectsArray:function(e,t){var i=[];if(e.length!=t.length)return i;for(var r=0;r<e.length;r++)for(var s=0;s<e[r].length;s++)i.length<=s&&i.push({}),i[s][t[r]]=e[r][s];return i},_valuesToOffsets:function(e,t,i,r,s,a,n){var o=[];if(!t||!le.isArray(e))return o;var l,h=i.logAxis.base,d=i.logAxis.enabled?"logarithmic":"linear",u=t.flip,f=0,c=0;s&&!isNaN(s.left)&&(f=s.left),s&&!isNaN(s.right)&&(c=s.right),r=l=r-f-c;for(var g=0;g<e.length;g++){var p=this._jqxPlot.scale(e[g],{min:i.min.valueOf(),max:i.max.valueOf(),type:d,base:h},{min:0,max:a?r:l,flip:u},{});isNaN(p)?o.push(NaN):(isNaN(n)||(p+=n),p<=r+f+c+1?o.push(le.jqx._ptrnd(p)):o.push(NaN))}return o},_generateIntervalValues:function(e,t,i,r,s){var a=[],n=e.min,o=e.max;if(e.logAxis&&e.logAxis.enabled&&(n=e.logAxis.minPow,o=e.logAxis.maxPow),null==n||null==o)return a;if(n==o)return e.logAxis&&e.logAxis.enabled?[Math.pow(e.logAxis.base,n)]:[n];var l=1;i<1&&(n*=l=1e6,o*=l,i*=l);for(var h=n;h<=o;h+=i)a.push(h/l+(s?i/2:0));if(i<t){for(var d=[],u=Math.round(t/i),h=0;h<a.length;h++)h%u==0&&d.push(a[h]);a=d}if(e.logAxis&&e.logAxis.enabled)for(h=0;h<a.length;h++)a[h]=Math.pow(e.logAxis.base,a[h]);return a},_generateDTOffsets:function(e,t,i,r,s,a,n,o,l,h,d){n=n||"day";var u=[];if(t<e)return u;if(e==t)return h?u.push({offset:o?i/2:r.left,value:e}):o&&u.push({offset:i/2,value:e}),u;var f=i-r.left-r.right,c=e,g=r.left,p=g,x=a=Math.max(a,1),m=Math.min(1,a);for(1<a&&"millisecond"!=n&&(a=1);le.jqx._ptrnd(p)<=le.jqx._ptrnd(r.left+f+(o?0:r.right));){u.push({offset:p,value:c});var _,y=new Date(c.valueOf());"millisecond"==n?y.setMilliseconds(c.getMilliseconds()+a):"second"==n?y.setSeconds(c.getSeconds()+a):"minute"==n?y.setMinutes(c.getMinutes()+a):"hour"==n?(_=y.valueOf(),y.setHours(c.getHours()+a),_==y.valueOf()&&y.setHours(c.getHours()+a+1)):"day"==n?y.setDate(c.getDate()+a):"month"==n?y.setMonth(c.getMonth()+a):"year"==n&&y.setFullYear(c.getFullYear()+a),p=g+((c=y).valueOf()-e.valueOf())*m/(t.valueOf()-e.valueOf())*f}if(d)for(var v=0;v<u.length;v++)u[v].offset=i-u[v].offset;if(1<x&&"millisecond"!=n){for(var b=[],v=0;v<u.length;v+=x)b.push({offset:u[v].offset,value:u[v].value});u=b}if(!o&&!h&&1<u.length){(b=[]).push({offset:0,value:void 0});for(v=1;v<u.length;v++)b.push({offset:u[v-1].offset+(u[v].offset-u[v-1].offset)/2,value:void 0});h=b.length;1<h?b.push({offset:b[h-1].offset+(b[h-1].offset-b[h-2].offset)}):b.push({offset:i,value:void 0}),u=b}if(a<s){for(var b=[],M=Math.round(s/x),v=0;v<u.length;v++)v%M==0&&b.push({offset:u[v].offset,value:u[v].value});u=b}return u},_hasStackValueReversal:function(e,t){var i=this.seriesGroups[e];if(!(-1!=i.type.indexOf("stacked")))return!1;for(var r=-1!=i.type.indexOf("waterfall"),s=this._getDataLen(e),a=!1,n=[],o=0;o<i.series.length;o++)n[o]=this._isSerieVisible(e,o);for(var l=0;l<s;l++){var h=void 0;r||(a=!1);for(var d=0;d<i.series.length;d++)if(n[d]){var u=this._getDataValueAsNumber(l,i.series[d].dataField,e);if(!isNaN(u)){if(i.series[d].summary)if(void 0!==this._getDataValue(l,i.series[d].summary,e))continue;var f=a?u<0:u<t,a=!0;if(null==h&&(h=f),f!=h)return!0;h=f,0}}}return!1},_getValueAxis:function(e){return null!=e&&this.seriesGroups[e].valueAxis||this.valueAxis||(this.valueAxis={})},_buildStats:function(e){var t={seriesGroups:[]};this._stats=t;for(var i=0;i<this.seriesGroups.length;i++){var r=this.seriesGroups[i];t.seriesGroups[i]={};var s=this._getXAxis(i),a=this._getValueAxis(i),n=this._getXAxisStats(i,s,"horizontal"!=r.orientation?e.width:e.height);(E=t.seriesGroups[i]).isValid=!0;var o="horizontal"==r.orientation?e.width:e.height,l=1==a.logarithmicScale,h=a.logarithmicScaleBase;isNaN(h)&&(h=10);var d=-1!=r.type.indexOf("stacked"),u=d&&-1!=r.type.indexOf("100"),f=-1!=r.type.indexOf("range"),c=-1!=r.type.indexOf("waterfall");if(c&&!this._moduleWaterfall)throw"Please include 'jqxchart.waterfall.js'";u&&(E.psums=[],E.nsums=[]);var g=NaN,p=NaN,x=NaN,m=NaN,_=a?a.baselineValue:NaN;isNaN(_)&&(_=l&&!u?1:0);var y=!1;0!=_&&d&&(y=this._hasStackValueReversal(i,_))&&(_=0),d&&c&&(y=this._hasStackValueReversal(i,_));var v=this._getDataLen(i),b=0,M=NaN,N=[];if(c)for(var w=0;w<r.series.length;w++)N.push(NaN);for(var A=NaN,S=0;S<v&&E.isValid;S++){if(s.rangeSelector){var C=s.dataField?this._getDataValue(S,s.dataField,i):S;if(C&&n.isDateTime&&(C=this._castAsDate(C,s.dateFormat)),n.useIndeces&&(C=S),C&&(C.valueOf()<n.min.valueOf()||C.valueOf()>n.max.valueOf()))continue}var j=a.minValue,q=a.maxValue;a.baselineValue&&(j=isNaN(j)?_:Math.min(_,j),q=isNaN(q)?_:Math.max(_,q));for(var T=0,k=0,w=0;r.series&&w<r.series.length;w++)if(this._isSerieVisible(i,w)){var D=NaN,P=NaN,F=NaN;if(-1!=r.type.indexOf("candle")||-1!=r.type.indexOf("ohlc")){var I=["Open","Low","Close","High"];for(V in I){var O=this._getDataValueAsNumber(S,r.series[w]["dataField"+I[V]],i);isNaN(O)||(F=isNaN(P)?O:Math.min(F,O),P=isNaN(P)?O:Math.max(P,O))}}else if(f)var R=this._getDataValueAsNumber(S,r.series[w].dataFieldFrom,i),L=this._getDataValueAsNumber(S,r.series[w].dataFieldTo,i),P=Math.max(R,L),F=Math.min(R,L);else{if(D=this._getDataValueAsNumber(S,r.series[w].dataField,i),c){if(this._isSummary(i,S))if(void 0!==this._getDataValue(S,r.series[w].summary,i))continue;d?(isNaN(A)||(D+=A),A=D):(isNaN(N[w])?N[w]=D:D+=N[w],N[w]=D)}if(isNaN(D)||l&&D<=0)continue;F=P=D}(isNaN(q)||q<P)&&(isNaN(a.maxValue)||P<=a.maxValue)&&(q=P),(isNaN(j)||F<j)&&(isNaN(a.minValue)||F>=a.minValue)&&(j=F),isNaN(D)||!d||c||(_<D?T+=D:D<_&&(k+=D))}if(u||(isNaN(a.maxValue)||(T=Math.min(a.maxValue,T)),isNaN(a.minValue)||(k=Math.max(a.minValue,k))),l&&u)for(var G,w=0;w<r.series.length;w++)this._isSerieVisible(i,w)?(D=this._getDataValueAsNumber(S,r.series[w].dataField,i),isNaN(D)||D<=0?M=.01:(G=0==T?0:D/T,(isNaN(M)||G<M)&&(M=G))):M=.01;C=T-k;b<C&&(b=C),u&&(E.psums[S]=T,E.nsums[S]=k),(p<q||isNaN(p))&&(p=q),(j<g||isNaN(g))&&(g=j),(x<T||isNaN(x))&&(x=T),(k<m||isNaN(m))&&(m=k)}u&&(x=0==x?0:Math.max(x,-m),m=0==m?0:Math.min(m,-x)),g==p&&(!isNaN(a.minValue)&&isNaN(a.maxValue)?(g=a.minValue,p=l?g*h:g+1):isNaN(a.minValue)&&!isNaN(a.maxValue)&&(p=a.maxValue,g=l?p/h:p-1)),g==p&&(0==g?(g=-1,p=1):g<0?p=0:l?1==g&&(g/=h,p*=h):g=0);o={gmin:g,gmax:p,gsumP:x,gsumN:m,gbase:_,isLogAxis:l,logBase:h,minPercent:M,gMaxRange:b,isStacked:d,isStacked100:u,isWaterfall:c,hasStackValueReversal:y,valueAxis:a,valueAxisSize:o};o.isStacked&&(o.gsumN<0&&(o.gmin=Math.min(o.gmin,o.gbase+o.gsumN)),0<o.gsumP&&(o.gmax=Math.max(o.gmax,o.gbase+o.gsumP))),E.context=o}this._mergeCommonValueAxisStats();for(var E,S=0;S<t.seriesGroups.length;S++)if((E=t.seriesGroups[S]).isValid){var V,H=this._calcOutputGroupStats(E.context);for(V in H)E[V]=H[V];delete E.context}},_mergeCommonValueAxisStats:function(){for(var e,t={},i=0;i<this.seriesGroups.length;i++)this._isGroupVisible(i)&&(this.seriesGroups[i].valueAxis||(e=this._stats.seriesGroups[i].context,t.gbase=e.gbase,(isNaN(t.gmin)||e.gmin<t.gmin)&&(t.gmin=e.gmin),(isNaN(t.gmax)||e.gmax>t.gmax)&&(t.gmax=e.gmax),(isNaN(t.gsumP)||e.gsumP>t.gsumP)&&(t.gsumP=e.gsumP),(isNaN(t.gsumN)||e.gsumN<t.gsumN)&&(t.gsumN=e.gsumN),(isNaN(t.logBase)||e.logBase<t.logBase)&&(t.logBase=e.logBase),(isNaN(t.minPercent)||e.minPercent<t.minPercent)&&(t.minPercent=e.minPercent),0<t.gsumN&&(t.gmin=Math.min(t.gmin,t.gbase+t.gsumN)),0<t.gsumP&&(t.gmax=Math.max(t.gmax,t.gbase+t.gsumP))));for(i=0;i<this.seriesGroups.length;i++)if(!this.seriesGroups[i].valueAxis){var r,s=this._stats.seriesGroups[i].context;for(r in t)s[r]=t[r]}},_calcOutputGroupStats:function(e){var t=e.gmin,i=e.gmax,r=e.gsumP,s=e.gsumN,a=e.gbase,n=e.isLogAxis,o=e.logBase,l=e.minPercent,h=e.gMaxRange,d=e.isStacked,u=e.isStacked100,f=e.isWaterfall,c=e.hasStackValueReversal,g=e.valueAxis,p=e.valueAxisSize,x=(x=e.valueAxis.unitInterval)||this._calcInterval(t,i,Math.max(p/80,2));t==i&&(t=a,i*=2);var m=NaN,_=0,p=0;if(n){if(u){m=0;for(var y=1,_=p=le.jqx.log(100,o);l<y;)y/=o,_--,m++;t=Math.pow(o,_)}else d&&!f&&(i=Math.max(i,r)),p=le.jqx._rnd(le.jqx.log(i,o),1,!0),i=Math.pow(o,p),_=le.jqx._rnd(le.jqx.log(t,o),1,!1),t=Math.pow(o,_);x=o}t<s&&(s=t),r<i&&(r=i);d=t,f=i;if(n||0!=Math.abs(f-d)%x&&(d=le.jqx._rnd(t,x,!1),f=le.jqx._rnd(i,x,!0)),u&&100<f&&(f=100),u&&!n&&(f=0<f?100:0,d=d<0?-100:0,x=g.unitInterval,(isNaN(x)||x<=0||100<=x)&&(x=10),100%x!=0))for(;1<=x&&100%x!=0;x--);return isNaN(f)||isNaN(d)||isNaN(x)?{}:(isNaN(m)&&(m=parseInt(((f-d)/(0==x?1:x)).toFixed())),n&&!u&&(m=p-_,h=Math.pow(o,m)),m<1?{}:{min:d,max:f,logarithmic:n,logBase:o,base:n?d:a,minPow:_,maxPow:p,sumP:r,sumN:s,mu:x,maxRange:h,intervals:m,hasStackValueReversal:c})},_getDataLen:function(e){var t=this.source;return null!=e&&-1!=e&&this.seriesGroups[e].source&&(t=this.seriesGroups[e].source),t instanceof le.jqx.dataAdapter&&(t=t.records),t?t.length:0},_getDataValue:function(e,t,i){var r=this.source;if(null!=i&&-1!=i&&(r=this.seriesGroups[i].source||r),r instanceof le.jqx.dataAdapter&&(r=r.records),!(!r||e<0||e>r.length-1))return le.isFunction(t)?t(e,r):t&&""!=t?r[e][t]:r[e]},_getDataValueAsNumber:function(e,t,i){i=this._getDataValue(e,t,i);return this._isDate(i)?i.valueOf():("number"!=typeof i&&(i=parseFloat(i)),"number"!=typeof i&&(i=void 0),i)},_isPieGroup:function(e){e=this.seriesGroups[e];return!(!e||!e.type)&&(-1!=e.type.indexOf("pie")||-1!=e.type.indexOf("donut"))},_renderPieSeries:function(e,t){for(var i=this._getDataLen(e),r=this.seriesGroups[e],s=this._calcGroupOffsets(e,t).offsets,a=0;a<r.series.length;a++){var n=r.series[a];if(!n.customDraw){var o=this._getSerieSettings(e,a),l=(n.colorScheme||r.colorScheme||this.colorScheme,this._getAnimProps(e,a)),h=l.enabled&&i<5e3&&!this._isToggleRefresh&&1!=this._isVML?l.duration:0;le.jqx.mobile.isMobileBrowser()&&this.renderer instanceof le.jqx.HTML5Renderer&&(h=0);l=this._get([n.minAngle,n.startAngle]);(isNaN(l)||l<0||360<l)&&(l=0);n=this._get([n.maxAngle,n.endAngle]);(isNaN(n)||n<0||360<n)&&(n=360);for(var d={rect:t,minAngle:l,maxAngle:n,groupIndex:e,serieIndex:a,settings:o,items:[]},u=0;u<i;u++){var f,c,g,p=s[a][u];p.visible&&(f=p.fromAngle,c=p.toAngle,g=this.renderer.pieslice(p.x,p.y,p.innerRadius,p.outerRadius,f,0==h?c:f,p.centerOffset),this._setRenderInfo(e,a,u,{element:g}),p={displayValue:p.displayValue,itemIndex:u,visible:p.visible,x:p.x,y:p.y,innerRadius:p.innerRadius,outerRadius:p.outerRadius,fromAngle:f,toAngle:c,centerOffset:p.centerOffset},d.items.push(p))}this._animatePieSlices(d,0);var x=this;this._enqueueAnimation("series",void 0,void 0,h,function(e,t,i){x._animatePieSlices(t,i)},d)}}},_sliceSortFunction:function(e,t){return e.fromAngle-t.fromAngle},_animatePieSlices:function(e,t){var i;this._elementRenderInfo&&this._elementRenderInfo.length>e.groupIndex&&this._elementRenderInfo[e.groupIndex].series&&this._elementRenderInfo[e.groupIndex].series.length>e.serieIndex&&(i=this._elementRenderInfo[e.groupIndex].series[e.serieIndex]);for(var r,s=this.seriesGroups[e.groupIndex],a=this._getLabelsSettings(e.groupIndex,e.serieIndex,NaN),n=a.visible,o=[],l=0;l<e.items.length;l++)(d=e.items[l]).visible&&(f=d.fromAngle,c=d.fromAngle+t*(d.toAngle-d.fromAngle),i&&i[d.displayValue]&&(f=(r=i[d.displayValue].fromAngle)+(f-r)*t,c=(r=i[d.displayValue].toAngle)+(c-r)*t),o.push({index:l,from:f,to:c}));i&&o.sort(this._sliceSortFunction);for(var h=NaN,l=0;l<o.length;l++){var d=e.items[o[l].index],u=this._getRenderInfo(e.groupIndex,e.serieIndex,d.itemIndex),f=o[l].from,c=o[l].to;i&&(!isNaN(h)&&h<f&&(f=h),h=c,l==o.length-1&&c!=o[0].from&&(c=e.maxAngle+o[0].from));var g=this.renderer.pieSlicePath(d.x,d.y,d.innerRadius,d.outerRadius,f,c,d.centerOffset);this.renderer.attr(u.element,{d:g});var p=this._getColors(e.groupIndex,e.serieIndex,d.itemIndex,"radialGradient",d.outerRadius),g=e.settings;u.colors=p,u.settings=g,this.renderer.attr(u.element,{fill:p.fillColor,stroke:p.lineColor,"stroke-width":g.stroke,"fill-opacity":g.opacity,"stroke-opacity":g.opacity,"stroke-dasharray":"none"});s.series[e.serieIndex];n&&this._showPieLabel(e.groupIndex,e.serieIndex,d.itemIndex,a),1==t&&this._installHandlers(u.element,"pieslice",e.groupIndex,e.serieIndex,d.itemIndex)}},_showPieLabel:function(e,t,i,r,s){var a,n,o,l,h,d,u,f,c,g=this._renderData[e].offsets[t][i];g.elementInfo.labelElement&&this.renderer.removeElement(g.elementInfo.labelElement),(r=r||this._getLabelsSettings(e,t,NaN)).visible&&(d=g.fromAngle,h=g.toAngle,u=Math.abs(d-h),360<u&&(d=0,h=360),Math.PI,Math.PI,f=u/2+d,a=(f%=360)*Math.PI*2/360,1==r.autoRotate&&(n=f<90||270<f?360-f:180-f),c=r.linesEnabled,o=this._showLabel(e,t,i,{x:0,y:0,width:0,height:0},"center","center",!0,!1,!1,n),l=r.radius||g.outerRadius+Math.max(o.width,o.height),this._isPercent(l)&&(l=parseFloat(l)/100*Math.min(this._plotRect.width,this._plotRect.height)/2),l+=g.centerOffset,isNaN(s)&&(s=0),l+=s,u=(h=this.seriesGroups[e]).series[t],d=le.jqx.getNum([u.offsetX,h.offsetX,this._plotRect.width/2]),u=le.jqx.getNum([u.offsetY,h.offsetY,this._plotRect.height/2]),h=this._plotRect.x+d,d=this._plotRect.y+u,u=this._adjustTextBoxPosition(h,d,o,l,f,g.outerRadius>l,0!=r.linesAngles,1==r.autoRotate),f={},g.elementInfo.labelElement=this._showLabel(e,t,i,{x:u.x,y:u.y,width:o.width,height:o.height},"left","top",!1,!1,!1,n,f),l>g.outerRadius+5&&0!=c&&(c={lineColor:g.elementInfo.colors.lineColor,stroke:g.elementInfo.settings.stroke,opacity:g.elementInfo.settings.opacity,dashStyle:g.elementInfo.settings.dashStyle},g.elementInfo.labelArrowPath=this._updateLebelArrowPath(g.elementInfo.labelArrowPath,h,d,l,g.outerRadius+s,a,0!=r.linesAngles,c,f)))},_updateLebelArrowPath:function(e,i,r,t,s,a,n,o,l){var h=le.jqx._ptrnd(i+ +t*Math.cos(a)),d=le.jqx._ptrnd(r-+t*Math.sin(a)),t=le.jqx._ptrnd(i+(s+2)*Math.cos(a)),a=le.jqx._ptrnd(r-(s+2)*Math.sin(a)),u=[];u.push({x:l.x+l.width/2,y:l.y}),u.push({x:l.x+l.width/2,y:l.y+l.height}),u.push({x:l.x,y:l.y+l.height/2}),u.push({x:l.x+l.width,y:l.y+l.height/2}),n||(u.push({x:l.x,y:l.y}),u.push({x:l.x+l.width,y:l.y}),u.push({x:l.x+l.width,y:l.y+l.height}),u.push({x:l.x,y:l.y+l.height})),u=(u=u.sort(function(e,t){return le.jqx._ptdist(e.x,e.y,i,r)-le.jqx._ptdist(t.x,t.y,i,r)})).sort(function(e,t){return Math.abs(e.x-i)+Math.abs(e.y-r)-(Math.abs(t.x-i)+Math.abs(t.y-r))});for(var f=0;f<u.length;f++)u[f].x=le.jqx._ptrnd(u[f].x),u[f].y=le.jqx._ptrnd(u[f].y);h=u[0].x,d=u[0].y;a=n?"M "+h+","+d+" L"+t+","+d+" L"+t+","+a:"M "+h+","+d+" L"+t+","+a;return e?this.renderer.attr(e,{d:a}):e=this.renderer.path(a,{}),this.renderer.attr(e,{fill:"none",stroke:o.lineColor,"stroke-width":o.stroke,"stroke-opacity":o.opacity,"stroke-dasharray":"none"}),e},_adjustTextBoxPosition:function(e,t,i,r,s,a,n,o){var l=s*Math.PI*2/360,h=le.jqx._ptrnd(e+r*Math.cos(l)),d=le.jqx._ptrnd(t-r*Math.sin(l));if(o){var u=i.width,f=i.height,c=Math.atan(f/u)%(2*Math.PI),g=l%(2*Math.PI),o=0;g<=c?o=u/2*Math.cos(l):c<=g&&g<Math.PI-c?o=f/2*Math.sin(l):g>=Math.PI-c&&g<Math.PI+c?o=u/2*Math.cos(l):g>=Math.PI+c&&g<2*Math.PI-c?o=f/2*Math.sin(l):g>=2*Math.PI-c&&g<2*Math.PI&&(o=u/2*Math.cos(l)),r+=Math.abs(o)+3;h=le.jqx._ptrnd(e+r*Math.cos(l)),d=le.jqx._ptrnd(t-r*Math.sin(l));return{x:h-=i.width/2,y:d-=i.height/2}}return a?(h-=i.width/2,d-=i.height/2):n?90<=s&&s<270?(d-=i.height/2,h-=i.width):d-=i.height/2:0<=s&&s<45||315<=s&&s<360?d-=i.height/2:45<=s&&s<135?(d-=i.height,h-=i.width/2):135<=s&&s<225?(d-=i.height/2,h-=i.width):225<=s&&s<315&&(h-=i.width/2),{x:h,y:d}},_isColumnType:function(e){return-1!=e.indexOf("column")||-1!=e.indexOf("waterfall")},_getColumnGroupsCount:function(e){var t=0;e=e||"vertical";for(var i=this.seriesGroups,r=0;r<i.length;r++){var s=i[r].orientation||"vertical";this._isColumnType(i[r].type)&&s==e&&t++}return this.columnSeriesOverlap&&(t=1),t},_getColumnGroupIndex:function(e){for(var t=0,i=this.seriesGroups[e].orientation||"vertical",r=0;r<e;r++){var s=this.seriesGroups[r],a=s.orientation||"vertical";this._isColumnType(s.type)&&a==i&&t++}return t},_renderAxisBands:function(e,t,i){var r=i?this._getXAxis(e):this._getValueAxis(e),s=this.seriesGroups[e],a=i?void 0:s.bands;if(!a){for(var n=0;n<e;n++)if((i?this._getXAxis(n):this._getValueAxis(n))==r)return;a=r.bands}if(le.isArray(a)){var o=t,l="horizontal"==s.orientation;l&&(o={x:t.y,y:t.x,width:t.height,height:t.width}),this._calcGroupOffsets(e,o);for(n=0;n<a.length;n++){var h=a[n],d=this._get([h.minValue,h.from]),u=this._get([h.maxValue,h.to]),f=i?this.getXAxisDataPointOffset(d,e):this.getValueAxisDataPointOffset(d,e),c=i?this.getXAxisDataPointOffset(u,e):this.getValueAxisDataPointOffset(u,e);if(!isNaN(f)&&!isNaN(c)){var g=Math.abs(f-c);if(s.polar||s.spider){var p=this._renderData[e],x=p.polarCoords;if(i)var m=s.spider?(_=this.getPolarDataPointOffset(d,this._stats.seriesGroups[e].max,e),y=this.getPolarDataPointOffset(u,this._stats.seriesGroups[e].max,e),w="M "+x.x+","+x.y,w+=" L "+_.x+","+_.y,w+=" L "+y.x+","+y.y,this.renderer.path(w)):(b={},v={x:Math.min(f,c),y:t.y,width:g,height:t.height},this._columnAsPieSlice(b,t,x,v),b.element);else{var _=this._toPolarCoord(x,t,t.x,p.baseOffset),y=this._toPolarCoord(x,t,t.x,f),v=this._toPolarCoord(x,t,t.x,c),b=le.jqx._ptdist(_.x,_.y,y.x,y.y),y=le.jqx._ptdist(_.x,_.y,v.x,v.y),_=Math.round(360*-x.startAngle/(2*Math.PI)),v=Math.round(360*-x.endAngle/(2*Math.PI));if(v<_&&(k=_,_=v,v=k),s.spider){var M,N=p.xAxis.offsetAngles,w="",A=[y,b],S=N;for(M in x.isClosedCircle&&(S=le.extend([],N)).push(S[0]),A){for(var C=0;C<S.length;C++){var j=0==M?C:N.length-C-1,q=x.x+A[M]*Math.cos(S[j]),T=x.y+A[M]*Math.sin(S[j]);w+=""==w?"M ":" L",w+=le.jqx._ptrnd(q)+","+le.jqx._ptrnd(T)}0==M&&(q=x.x+A[1]*Math.cos(S[j]),T=x.y+A[1]*Math.sin(S[j]),w+=" L"+le.jqx._ptrnd(q)+","+le.jqx._ptrnd(T))}w+=" Z",m=this.renderer.path(w)}else m=this.renderer.pieslice(x.x,x.y,b,y,_,v)}}else{var k,D={x:Math.min(f,c),y:o.y,width:g,height:o.height};i||(D={x:o.x,y:Math.min(f,c),width:o.width,height:g}),l&&(k=D.x,D.x=D.y,D.y=k,k=D.width,D.width=D.height,D.height=k),m=0==g||1==g?this.renderer.line(le.jqx._ptrnd(D.x),le.jqx._ptrnd(D.y),le.jqx._ptrnd(D.x+(l?0:D.width)),le.jqx._ptrnd(D.y+(l?D.height:0))):this.renderer.rect(D.x,D.y,D.width,D.height)}f=h.fillColor||h.color||"#AAAAAA",c=h.lineColor||f,g=h.lineWidth;isNaN(g)&&(g=1);D=h.opacity;(isNaN(D)||D<0||1<D)&&(D=1),this.renderer.attr(m,{fill:f,"fill-opacity":D,stroke:c,"stroke-opacity":D,"stroke-width":g,"stroke-dasharray":h.dashStyle})}}}},_getColumnGroupWidth:function(e,t,i){var r=this.seriesGroups[e],s=-1!=r.type.indexOf("stacked"),a=(s||r.series.length,this._getColumnGroupsCount(r.orientation));!isNaN(a)&&0!=a||(a=1);var n=1<=t.rangeLength?t.itemWidth:.9*i,e=r.columnsMinWidth;isNaN(e)&&(e=1),isNaN(r.columnsMaxWidth)||(e=Math.min(r.columnsMaxWidth,e)),n<e&&0<t.length&&(n=Math.max(n,.9*i/t.length));t=e;return s||(s=r.seriesGapPercent,(isNaN(s)||s<0)&&(s=10),e=e,e*=1+(s/=100),t+=r.series.length*e),{requiredWidth:t,availableWidth:n,targetWidth:Math.max(n/a,t)}},_getColumnSerieWidthAndOffset:function(e,t){var i=this.seriesGroups[e],r=(i.series[t],"horizontal"==i.orientation),s=this._plotRect;r&&(s={x:s.y,y:s.x,width:s.height,height:s.width});var a=this._calcGroupOffsets(e,s);if(a&&0!=a.xoffsets.length){var n=this._getColumnGroupsCount(i.orientation);"candlestick"!=i.type&&"ohlc"!=i.type||(n=1);var o=this._getColumnGroupIndex(e),l=this._getColumnGroupWidth(e,a.xoffsets,r?s.height:s.width),h=0,e=l.targetWidth;(1==this.columnSeriesOverlap||Math.round(e)>Math.round(l.availableWidth/n))&&(n=1,o=0),h-=e*n/2,h+=e*o;a=i.columnsGapPercent;a<=0&&(a=0),(isNaN(a)||100<=a)&&(a=25);r=e*(a/=100);r+l.requiredWidth>l.targetWidth&&(r=Math.max(0,l.targetWidth-l.requiredWidth)),Math.round(e)>Math.round(l.availableWidth)&&(r=0),e-=r,h+=r/2;s=i.seriesGapPercent;(isNaN(s)||s<0)&&(s=10);n=-1!=i.type.indexOf("stacked"),o=e;n||(o/=i.series.length);a=this._get([i.seriesGap,e*s/100/(i.series.length-1)]);(1==i.polar||1==i.spider||n||i.series.length<=1)&&(a=0);l=a*(i.series.length-1);1<i.series.length&&l>e-+i.series.length&&(a=(l=e-+i.series.length)/Math.max(1,i.series.length-1));r=o-l/i.series.length,s=0,o=i.columnsMaxWidth;isNaN(o)||o<r&&(s=r-o,r=o);return{width:r,offset:h+(n?s/2:(e-r*i.series.length-l)/2+r*t+Math.max(0,t)*a)}}},_renderColumnSeries:function(e,t){var i=this.seriesGroups[e];if(i.series&&0!=i.series.length){this._getDataLen(e);var r="horizontal"==i.orientation,s=t;r&&(s={x:t.y,y:t.x,width:t.height,height:t.width});var a,n=this._calcGroupOffsets(e,s);if(n&&0!=n.xoffsets.length){1!=i.polar&&1!=i.spider||(a=this._getPolarAxisCoords(e,s));var o={groupIndex:e,rect:t,vertical:!r,seriesCtx:[],renderData:n,polarAxisCoords:a};o.columnGroupWidth=this._getColumnGroupWidth(e,n.xoffsets,r?s.height:s.width);for(var l=this._getGroupGradientType(e),h=0;h<i.series.length;h++){var d=i.series[h];if(!d.customDraw){d.dataField;var u=this._getAnimProps(e,h),f=u.enabled&&!this._isToggleRefresh&&n.xoffsets.length<100?u.duration:0,c=this._getColumnSerieWidthAndOffset(e,h),g=this._isSerieVisible(e,h),p=this._getSerieSettings(e,h),u=this._getColors(e,h,NaN,this._getGroupGradientType(e),4),x=[];if(le.isFunction(d.colorFunction)&&!a)for(var m=n.xoffsets.first;m<=n.xoffsets.last;m++)x.push(this._getColors(e,h,m,l,4));g={seriesIndex:h,serieColors:u,itemsColors:x,settings:p,columnWidth:c.width,xAdjust:c.offset,isVisible:g};o.seriesCtx.push(g)}}this._animColumns(o,0==f?1:0);var _=this;this._enqueueAnimation("series",void 0,void 0,f,function(e,t,i){_._animColumns(t,i)},o)}}},_getPercent:function(e,t,i,r){return isNaN(e)&&(e=t),!isNaN(i)&&!isNaN(e)&&e<i&&(e=i),!isNaN(r)&&!isNaN(e)&&r<e&&(e=r),isNaN(e)?NaN:e},_getColumnVOffsets:function(e,t,i,r,s,a){var n=this.seriesGroups[t],o=this._getPercent(n.columnsTopWidthPercent,100,0,100),l=this._getPercent(n.columnsBottomWidthPercent,100,0,100);0==o&&0==l&&(l=100);for(var h=this._getPercent(n.columnsNeckHeightPercent,NaN,0,100)/100,d=this._getPercent(n.columnsNeckWidthPercent,100,0,100)/100,u=[],f=NaN,c=0;c<i.length;c++){var g=(b=i[c]).seriesIndex,p=(n.series[g],e.offsets[g][r].from),x=e.offsets[g][r].to,m=e.xoffsets.data[r],_=b.isVisible;_||(x=p);var y,v=this._elementRenderInfo;_&&v&&v.length>t&&v[t].series.length>g&&(y=e.xoffsets.xvalues[r],!(y=v[t].series[g][y])||isNaN(y.from)||isNaN(y.to)||(p=y.from+(p-y.from)*a,x=y.to+(x-y.to)*a,m=y.xoffset+(m-y.xoffset)*a)),y||(x=p+(x-p)*(s?1:a)),isNaN(p)&&(p=isNaN(f)?e.baseOffset:f),f=!isNaN(x)&&s?x:p,isNaN(x)&&(x=p);m={from:p,to:x,xOffset:m};100==o&&100==l||(m.funnel=!0,m.toWidthPercent=o,m.fromWidthPercent=l),u.push(m)}if(s&&1<u.length&&!(this._elementRenderInfo&&this._elementRenderInfo.length>t)){for(var b,M=0,N=0,w=-1/0,A=1/0,S=1/0,C=-1/0,j=0;j<u.length;j++)(b=i[j]).isVisible&&(u[j].to>=u[j].from?(N+=u[j].to-u[j].from,S=Math.min(S,u[j].from),C=Math.max(C,u[j].to)):(M+=u[j].from-u[j].to,w=Math.max(w,u[j].from),A=Math.min(A,u[j].to)));var q=M,T=N;M*=a,N*=a;for(var k,D=0,P=0,j=0;j<u.length;j++)u[j].to>=u[j].from?(N<(k=u[j].to-u[j].from)+P&&(k=Math.max(0,N-P),u[j].to=u[j].from+k),100==o&&100==l||(u[j].funnel=!0,!isNaN(h)&&P<=T*h?u[j].fromWidthPercent=100*d:u[j].fromWidthPercent=Math.abs(u[j].from-S)/T*(o-l)+l,!isNaN(h)&&0+(P+k)<=T*h?u[j].toWidthPercent=100*d:u[j].toWidthPercent=Math.abs(u[j].to-S)/T*(o-l)+l),P+=k):(M<(k=u[j].from-u[j].to)+D&&(k=Math.max(0,M-D),u[j].to=u[j].from-k),100==o&&100==l||(u[j].funnel=!0,!isNaN(h)&&D<=q*h?u[j].fromWidthPercent=100*d:u[j].fromWidthPercent=Math.abs(u[j].from-w)/q*(o-l)+l,!isNaN(h)&&0+(D+k)<=q*h?u[j].toWidthPercent=100*d:u[j].toWidthPercent=Math.abs(u[j].to-w)/q*(o-l)+l),D+=k)}return u},_columnAsPieSlice:function(e,t,i,r){var s=this._toPolarCoord(i,t,r.x,r.y),a=this._toPolarCoord(i,t,r.x,r.y+r.height),n=le.jqx._ptdist(i.x,i.y,a.x,a.y),o=le.jqx._ptdist(i.x,i.y,s.x,s.y),l=t.width,a=180*Math.abs(i.startAngle-i.endAngle)/Math.PI,s=-(r.x-t.x)*a/l,a=-(r.x+r.width-t.x)*a/l,l=i.startAngle;return s-=l=360*l/(2*Math.PI),a-=l,e&&(null!=e.element?(l=this.renderer.pieSlicePath(i.x,i.y,n,o,a,s,0),l+=" Z",this.renderer.attr(e.element,{d:l})):e.element=this.renderer.pieslice(i.x,i.y,n,o,a,s,0)),{fromAngle:a,toAngle:s,innerRadius:n,outerRadius:o}},_setRenderInfo:function(e,t,i,r){this._renderData[e].offsets[t][i].elementInfo=r},_getRenderInfo:function(e,t,i){return this._renderData[e].offsets[t][i].elementInfo||{}},_animColumns:function(e,t){for(var i=e.groupIndex,r=this.seriesGroups[i],s=e.renderData,a=-1!=r.type.indexOf("waterfall"),n=this._getXAxis(i),o=-1!=r.type.indexOf("stacked"),l=e.polarAxisCoords,h=(this._getGroupGradientType(i),e.columnGroupWidth.targetWidth,-1),d=0;d<r.series.length;d++)if(this._isSerieVisible(i,d)){h=d;break}for(var u=NaN,f=NaN,d=0;d<e.seriesCtx.length;d++){var c=e.seriesCtx[d];(isNaN(u)||u>c.xAdjust)&&(u=c.xAdjust),(isNaN(f)||f<c.xAdjust+c.columnWidth)&&(f=c.xAdjust+c.columnWidth)}var g=Math.abs(f-u),p=this._get([r.columnsGapPercent,25])/100;(isNaN(p)<0||1<=p)&&(p=.25);for(var x=p*g,m=e.renderData.xoffsets,_=-1,y={},v=1==r.skipOverlappingPoints,b=m.first;b<=m.last;b++){var M=m.data[b];if(!isNaN(M)&&!(-1!=_&&Math.abs(M-_)<g-1+x&&v)){_=M;var N=this._getColumnVOffsets(s,i,e.seriesCtx,b,o,t),w=!1;if(a)for(var A=0;A<r.series.length;A++)r.series[A].summary&&m.xvalues[b][r.series[A].summary]&&(w=!0);for(A=0;A<e.seriesCtx.length;A++){var S,C,j,q,T,k,D,P,F=(c=e.seriesCtx[A]).seriesIndex,I=r.series[F],O=N[A].from,R=N[A].to,L=N[A].xOffset,G=(e.vertical?e.rect.x:e.rect.y)+c.xAdjust,E=c.settings,V=0!=c.itemsColors.length?c.itemsColors[b-s.xoffsets.first]:c.serieColors,H=this._isSerieVisible(i,F);H&&(S={x:M=le.jqx._ptrnd(G+L),width:c.columnWidth},N[A].funnel&&(S.fromWidthPercent=N[A].fromWidthPercent,S.toWidthPercent=N[A].toWidthPercent),C=!0,e.vertical?(S.y=O,S.height=R-O,S.height<0&&(S.y+=S.height,S.height=-S.height,C=!1)):(S.x=O<R?O:R,S.width=Math.abs(O-R),C=O-R<0,S.y=M,S.height=c.columnWidth),j=O-R,isNaN(j)||(j=Math.abs(j),P=void 0,L=null==(G=(q=this._getRenderInfo(i,F,b)).element),(O=q.labelElement)&&(this.renderer.removeElement(O),O=void 0),l?(k={element:G},P=this._columnAsPieSlice(k,e.rect,l,S),G=k.element,V=this._getColors(i,F,void 0,"radialGradient",P.outerRadius)):N[A].funnel?(T=this._getTrapezoidPath(le.extend({},S),e.vertical,C),L?G=this.renderer.path(T,{}):this.renderer.attr(G,{d:T})):L?G=this.renderer.rect(S.x,S.y,e.vertical?S.width:0,e.vertical?0:S.height):1==e.vertical?this.renderer.attr(G,{x:S.x,y:S.y,height:j}):this.renderer.attr(G,{x:S.x,y:S.y,width:j}),j<1&&(1!=t||l)?this.renderer.attr(G,{display:"none"}):this.renderer.attr(G,{display:"block"}),L&&this.renderer.attr(G,{fill:V.fillColor,"fill-opacity":E.opacity,"stroke-opacity":E.opacity,stroke:V.lineColor,"stroke-width":E.stroke,"stroke-dasharray":E.dashStyle}),O&&this.renderer.removeElement(O),!H||0==j&&t<1?(q={element:G,labelElement:O},this._setRenderInfo(i,F,b,q)):(a&&0!=this._get([I.showWaterfallLines,r.showWaterfallLines])&&((!o||o&&A==h)&&(k=o?-1:A,1!=t||isNaN(s.offsets[A][b].from)||isNaN(s.offsets[A][b].to)||null!=(T=y[k])&&(H={x:M,y:(L={x:T.x,y:le.jqx._ptrnd(T.y)}).y},I=r.columnsTopWidthPercent/100,(isNaN(I)||1<I||I<0)&&(I=1),k=r.columnsBottomWidthPercent/100,(isNaN(k)||1<k||k<0)&&(k=1),D=e.vertical?S.width:S.height,L.x=L.x-D/2+D/2*I,k=w?D*I/2:D*k/2,H.x=H.x+D/2-(n.flip?-k:k),e.vertical||(this._swapXY([L]),this._swapXY([H])),this.renderer.line(L.x,L.y,H.x,H.y,{stroke:T.color,"stroke-width":E.stroke,"stroke-opacity":E.opacity,"fill-opacity":E.opacity,"stroke-dasharray":E.dashStyle}))),1==t&&0!=j&&(y[o?-1:A]={y:R,x:e.vertical?S.x+S.width:S.y+S.height,color:V.lineColor})),q={element:G,labelElement:O=l?(this._toPolarCoord(l,e.rect,S.x+S.width/2,S.y),D=this._showLabel(i,F,b,S,void 0,void 0,!0),V=P.outerRadius+10,P=this._adjustTextBoxPosition(l.x,l.y,D,V,(P.fromAngle+P.toAngle)/2,!0,!1,!1),this._showLabel(i,F,b,{x:P.x,y:P.y},void 0,void 0,!1,!1,!1)):this._showLabel(i,F,b,S,void 0,void 0,!1,!1,C)},this._setRenderInfo(i,F,b,q),1==t&&this._installHandlers(G,"column",i,F,b))))}}}},_getTrapezoidPath:function(e,t,i){var r="",s=e.fromWidthPercent/100,a=e.toWidthPercent/100;t||(n=e.width,e.width=e.height,e.height=n,n=e.x,e.x=e.y,e.y=n);var n=e.x+e.width/2,o=[{x:n-e.width*(i?a:s)/2,y:e.y+e.height},{x:n-e.width*(i?s:a)/2,y:e.y},{x:n+e.width*(i?s:a)/2,y:e.y},{x:n+e.width*(i?a:s)/2,y:e.y+e.height}];t||this._swapXY(o),r+="M "+le.jqx._ptrnd(o[0].x)+","+le.jqx._ptrnd(o[0].y);for(var l=1;l<o.length;l++)r+=" L "+le.jqx._ptrnd(o[l].x)+","+le.jqx._ptrnd(o[l].y);return r+=" Z"},_swapXY:function(e){for(var t=0;t<e.length;t++){var i=e[t].x;e[t].x=e[t].y,e[t].y=i}},_renderCandleStickSeries:function(e,t,i){var r=this,s=r.seriesGroups[e];if(s.series&&0!=s.series.length){var a="horizontal"==s.orientation,n=t;a&&(n={x:t.y,y:t.x,width:t.height,height:t.width});var o=r._calcGroupOffsets(e,n);if(o&&0!=o.xoffsets.length){var l;n.width;(s.polar||s.spider)&&(l=r._getPolarAxisCoords(e,n)).r;r._alignValuesWithTicks(e);for(var h=r._getGroupGradientType(e),d=[],u=0;u<s.series.length;u++)d[u]=r._getColumnSerieWidthAndOffset(e,u);for(var f,c,g,u=0;u<s.series.length;u++)this._isSerieVisible(e,u)&&(c=r._getSerieSettings(e,u),(f=s.series[u]).customDraw||(g=le.isFunction(f.colorFunction)?void 0:r._getColors(e,u,NaN,h),c={rect:t,inverse:a,groupIndex:e,seriesIndex:u,symbolType:f.symbolType,symbolSize:f.symbolSize,"fill-opacity":c.opacity,"stroke-opacity":c.opacity,"stroke-width":c.stroke,"stroke-dasharray":c.dashStyle,gradientType:h,colors:g,renderData:o,polarAxisCoords:l,columnsInfo:d,isOHLC:i,items:[],self:r},g=(g=r._getAnimProps(e,u)).enabled&&!r._isToggleRefresh&&o.xoffsets.length<5e3?g.duration:0,r._animCandleStick(c,0),r._enqueueAnimation("series",void 0,void 0,g,function(e,t,i){r._animCandleStick(t,i)},c)))}}},_animCandleStick:function(e,t){var i=["Open","Low","Close","High"],r=e.columnsInfo[e.seriesIndex].width,s=e.self.seriesGroups[e.groupIndex],a=e.renderData.xoffsets,n=-1,o=Math.abs(a.data[a.last]-a.data[a.first]);o*=t;for(var l=NaN,h=NaN,d=0;d<e.columnsInfo.length;d++){var u=e.columnsInfo[d];(isNaN(l)||l>u.offset)&&(l=u.offset),(isNaN(h)||h<u.offset+u.width)&&(h=u.offset+u.width)}for(var f=Math.abs(h-l),c=0!=s.skipOverlappingPoints,g=a.first;g<=a.last;g++){var p=a.data[g];if(!isNaN(p)&&!(-1!=n&&Math.abs(p-n)<f&&c)){if(o<Math.abs(a.data[g]-a.data[a.first]))break;n=p;var x,m=e.items[g]=e.items[g]||{};for(d in i){var _=e.self._getDataValueAsNumber(g,s.series[e.seriesIndex]["dataField"+i[d]],e.groupIndex);if(isNaN(_))break;var y=e.renderData.offsets[e.seriesIndex][g][i[d]];if(isNaN(y))break;m[i[d]]=y}for(x in p+=e.inverse?e.rect.y:e.rect.x,e.polarAxisCoords&&(p=(b=this._toPolarCoord(e.polarAxisCoords,this._plotRect,p,y)).x,y=b.y),p=le.jqx._ptrnd(p),i)m[x]=le.jqx._ptrnd(m[x]);var v,b,M,N=(N=e.colors)||e.self._getColors(e.groupIndex,e.seriesIndex,g,e.gradientType);e.isOHLC?(M="M"+p+","+m.Low+" L"+p+","+m.High+" M"+(p-r/2)+","+m.Open+" L"+p+","+m.Open+" M"+(p+r/2)+","+m.Close+" L"+p+","+m.Close,e.inverse&&(M="M"+m.Low+","+p+" L"+m.High+","+p+" M"+m.Open+","+(p-r/2)+" L"+m.Open+","+p+" M"+m.Close+","+p+" L"+m.Close+","+(p+r/2)),(v=m.lineElement)||(v=this.renderer.path(M,{}),this.renderer.attr(v,{fill:N.fillColor,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:N.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),m.lineElement=v),1==t&&this._installHandlers(v,"column",e.groupIndex,e.seriesIndex,g)):((v=m.lineElement)||(v=e.inverse?this.renderer.line(m.Low,p,m.High,p):this.renderer.line(p,m.Low,p,m.High),this.renderer.attr(v,{fill:N.fillColor,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:N.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),m.lineElement=v),p-=r/2,(b=m.stickElement)||(M=N.fillColor,m.Close<=m.Open&&N.fillColorAlt&&(M=N.fillColorAlt),b=e.inverse?this.renderer.rect(Math.min(m.Open,m.Close),p,Math.abs(m.Close-m.Open),r):this.renderer.rect(p,Math.min(m.Open,m.Close),r,Math.abs(m.Close-m.Open)),this.renderer.attr(b,{fill:M,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:N.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),m.stickElement=b),1==t&&this._installHandlers(b,"column",e.groupIndex,e.seriesIndex,g))}}},_renderScatterSeries:function(e,t,i){var r=this.seriesGroups[e];if(r.series&&0!=r.series.length){var s=-1!=r.type.indexOf("bubble"),a="horizontal"==r.orientation,n=t;a&&(n={x:t.y,y:t.x,width:t.height,height:t.width});var o=this._calcGroupOffsets(e,n);if(o&&0!=o.xoffsets.length){var l,h=n.width;(r.polar||r.spider)&&(h=2*(l=this._getPolarAxisCoords(e,n)).r);this._alignValuesWithTicks(e);var d=this._getGroupGradientType(e);i=i||"to";for(var u=0;u<r.series.length;u++){var f=this._getSerieSettings(e,u),c=r.series[u];if(!c.customDraw){var g=c.dataField,p=le.isFunction(c.colorFunction),x=this._getColors(e,u,NaN,d),m=NaN,_=NaN;if(s)for(var y=o.xoffsets.first;y<=o.xoffsets.last;y++){if("number"!=typeof(M=this._getDataValueAsNumber(y,c.radiusDataField||c.sizeDataField,e)))throw"Invalid radiusDataField value at ["+y+"]";isNaN(M)||((isNaN(m)||M<m)&&(m=M),(isNaN(_)||_<M)&&(_=M))}var v=c.minRadius||c.minSymbolSize;isNaN(v)&&(v=h/50);var b=c.maxRadius||c.maxSymbolSize;isNaN(b)&&(b=h/25),b<v&&(b=v);for(var M,N=c.radius,N=isNaN(N)&&!isNaN(c.symbolSize)?"circle"==c.symbolType?c.symbolSize/2:c.symbolSize:5,w=this._getAnimProps(e,u),w=w.enabled&&!this._isToggleRefresh&&o.xoffsets.length<5e3?w.duration:0,A={groupIndex:e,seriesIndex:u,symbolType:c.symbolType,symbolSize:c.symbolSize,"fill-opacity":f.opacity,"stroke-opacity":f.opacity,"stroke-width":f.stroke,"stroke-width-symbol":f.strokeSymbol,"stroke-dasharray":f.dashStyle,items:[],polarAxisCoords:l},S=void 0,y=o.xoffsets.first;y<=o.xoffsets.last;y++)if("number"==typeof(M=this._getDataValueAsNumber(y,g,e))){var C=o.xoffsets.data[y],j=o.xoffsets.xvalues[y],q=o.offsets[u][y][i];if(!(q<n.y||q>n.y+n.height))if(!isNaN(C)&&!isNaN(q))if(a?(D=C,C=q,q=D+t.y):C+=t.x,!(!p&&S&&this.enableSampling&&le.jqx._ptdist(S.x,S.y,C,q)<1)){S={x:C,y:q};var T=N;if(s){var k=this._getDataValueAsNumber(y,c.radiusDataField||c.sizeDataField,e);if("number"!=typeof k)continue;T=v+(b-v)*(k-m)/Math.max(1,_-m),isNaN(T)&&(T=v)}o.offsets[u][y].radius=T;var D,P=NaN,F=NaN,I=0,k=this._elementRenderInfo;null!=j&&k&&k.length>e&&k[e].series.length>u&&((j=k[e].series[u][j])&&!isNaN(j.to)&&(P=j.to,F=j.xoffset,I=N,a?(D=F,F=P,P=D+t.y):F+=t.x,s&&(I=v+(b-v)*(j.valueRadius-m)/Math.max(1,_-m),isNaN(I)&&(I=v)))),p&&(x=this._getColors(e,u,y,d)),A.items.push({from:I,to:T,itemIndex:y,fill:x.fillColor,stroke:x.lineColor,x:C,y:q,xFrom:F,yFrom:P})}}this._animR(A,0);var O=this;this._enqueueAnimation("series",void 0,void 0,w,function(e,t,i){O._animR(t,i)},A)}}}}},_animR:function(e,t){for(var i=e.items,r=e.symbolType||"circle",s=e.symbolSize,a=0;a<i.length;a++){var n=i[a],o=n.x,l=n.y,h=Math.round((n.to-n.from)*t+n.from);isNaN(n.yFrom)||(l=n.yFrom+(l-n.yFrom)*t),isNaN(n.xFrom)||(o=n.xFrom+(o-n.xFrom)*t),e.polarAxisCoords&&(o=(u=this._toPolarCoord(e.polarAxisCoords,this._plotRect,o,l)).x,l=u.y),o=le.jqx._ptrnd(o),l=le.jqx._ptrnd(l),h=le.jqx._ptrnd(h);var d=this._getRenderInfo(e.groupIndex,e.seriesIndex,i[a].itemIndex),u=d.element,d=d.labelElement;"circle"==r?(u||(u=this.renderer.circle(o,l,h),this.renderer.attr(u,{fill:n.fill,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:n.stroke,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]})),this._isVML?this.renderer.updateCircle(u,void 0,void 0,h):this.renderer.attr(u,{r:h,cy:l,cx:o})):(u&&this.renderer.removeElement(u),u=this._drawSymbol(r,o,l,n.fill,e["fill-opacity"],n.stroke,e["stroke-opacity"]||e["fill-opacity"],e["stroke-width-symbol"],e["stroke-dasharray"],s||h)),d&&this.renderer.removeElement(d),d=this._showLabel(e.groupIndex,e.seriesIndex,n.itemIndex,{x:o-h,y:l-h,width:2*h,height:2*h}),1<=t&&this._installHandlers(u,"circle",e.groupIndex,e.seriesIndex,n.itemIndex),this._setRenderInfo(e.groupIndex,e.seriesIndex,i[a].itemIndex,{element:u,labelElement:d})}},_showMultiSeriesToolTip:function(e,t,i){for(var r=this,s='<div style="text-align:left">',a="",n=0;n<r.seriesGroups.length;n++)if(!r._isPieGroup(n)){var o=r._getXAxis(n),l=r._getValueAxis(n),h=r.seriesGroups[n],d=this._getAxisSettings(o),u=d.toolTipFormatSettings,f=d.toolTipFormatFunction,d=r._getDataValue(i,o.dataField,n);null!=o.dataField&&""!=o.dataField||(d=i),"date"==o.type&&(d=r._castAsDate(d,(u?u.dateFormat:void 0)||o.dateFormat)),f||u||"date"!=o.type||(f=this._getDefaultDTFormatFn(o.baseUnit||"day"));o=o.displayText||o.dataField||"";""!=o&&(o+=": ");f=o+r._formatValue(d,u,f,n,c,i);a!=f&&(""!=a&&(s+="<br />"),s+=f+"<br /><br />",a=f);for(var c=0;c<h.series.length;c++){var g,p=h.series[c];0!=h.showToolTips&&0!=p.showToolTips&&r._isSerieVisible(n,c)&&(g=r._get([p.toolTipFormatSettings,h.toolTipFormatSettings,l.toolTipFormatSettings,r.toolTipFormatSettings]),p=r._get([p.toolTipFormatFunction,h.toolTipFormatFunction,l.toolTipFormatFunction,r.toolTipFormatFunction]),p=r._getFormattedValue(n,c,i,g,p),s+="<span style='color:"+r._getColors(n,c,i).lineColor+";'>"+p+"</span><br />\n")}}var x=this._get([r.toolTipClass,this.toThemeProperty("jqx-chart-tooltip-text",null)]),m=this._get([r.toolTipBackground,"#FFFFFF"]),_=this._get([r.toolTipLineColor,r._defaultLineColor]),y=this._get([r.toolTipOpacity,1]);s+="</div>";var v=this.getItemCoord(r._ttEl.gidx,r._ttEl.sidx,r._ttEl.iidx);r._createTooltip(v,r.seriesGroups[r._ttEl.gidx],s,{css:x,fill:m,stroke:_,fillOpacity:y,symbolSize:3})},_showToolTip:function(e,t,i,r,s){var a=this,n=a._getXAxis(i),o=a._getValueAxis(i);if(!a._ttEl||i!=a._ttEl.gidx||r!=a._ttEl.sidx||s!=a._ttEl.iidx){var l=a.seriesGroups[i],h=l.series[r],d=a.enableCrosshairs;a._pointMarker?(e=parseInt(a._pointMarker.x+5),t=parseInt(a._pointMarker.y-5)):d=!1;var u=d&&0==a.showToolTips;e=le.jqx._ptrnd(e),t=le.jqx._ptrnd(t);a._ttEl;if(0!=l.showToolTips&&0!=h.showToolTips){a._ttEl||(a._ttEl={}),a._ttEl.sidx=r,a._ttEl.gidx=i,a._ttEl.iidx=s;for(var f=0,c=0;c<a.seriesGroups.length;c++)for(var g=0;g<a.seriesGroups[c].series.length;g++)f++;if(a.showToolTipsOnAllSeries&&!a._isPieGroup(i)&&1<f)a._showMultiSeriesToolTip(e,t,s);else{var p=a._get([h.toolTipFormatSettings,l.toolTipFormatSettings,o.toolTipFormatSettings,a.toolTipFormatSettings]),x=a._get([h.toolTipFormatFunction,l.toolTipFormatFunction,o.toolTipFormatFunction,a.toolTipFormatFunction]),e=a._getColors(i,r,s),t=a._getDataValue(s,n.dataField,i);null!=n.dataField&&""!=n.dataField||(t=s),"date"==n.type&&(t=a._castAsDate(t,(p?p.dateFormat:void 0)||n.dateFormat));o="";if(le.isFunction(x)){var m,_={},y=0;for(m in h)0==m.indexOf("dataField")&&(_[m.substring(9,m.length).toLowerCase()]=a._getDataValue(s,h[m],i),y++);0==y?_=a._getDataValue(s,void 0,i):1==y&&(_=_[""]),o=x(_,s,h,l,t,n)}else{o=a._getFormattedValue(i,r,s,p,x);var v=this._getAxisSettings(n),p=v.toolTipFormatSettings,x=v.toolTipFormatFunction;x||p||"date"!=n.type||(x=this._getDefaultDTFormatFn(n.baseUnit||"day"));v=a._formatValue(t,p,x,i,r,s);o=a._isPieGroup(i)?(t=a._getDataValue(s,h.displayText||h.dataField,i),(v=a._formatValue(t,p,x,i,r,s))+": "+o):0<(w=n.displayText||n.dataField||"").length?w+": "+v+"<br>"+o:v+"<br>"+o}a.renderer.getRect();if(d){var b=le.jqx._ptrnd(a._pointMarker.x),M=le.jqx._ptrnd(a._pointMarker.y),N=a.crosshairsColor||a._defaultLineColor;if(l.polar||l.spider){var w=this._getPolarAxisCoords(i,this._plotRect);if(le.jqx._ptdist(b,M,w.x,w.y)>w.r)return;v=Math.atan2(M-w.y,b-w.x),d=Math.cos(v)*w.r+w.x,v=Math.sin(v)*w.r+w.y;a._ttEl.vLine?a.renderer.attr(a._ttEl.vLine,{x1:w.x,y1:w.y,x2:d,y2:v}):a._ttEl.vLine=a.renderer.line(w.x,w.y,d,v,{stroke:N,"stroke-width":a.crosshairsLineWidth||1,"stroke-dasharray":a.crosshairsDashStyle||""})}else a._ttEl.vLine&&a._ttEl.hLine?(a.renderer.attr(a._ttEl.vLine,{x1:b,x2:b}),a.renderer.attr(a._ttEl.hLine,{y1:M,y2:M})):(a._ttEl.vLine=a.renderer.line(b,a._plotRect.y,b,a._plotRect.y+a._plotRect.height,{stroke:N,"stroke-width":a.crosshairsLineWidth||1,"stroke-dasharray":a.crosshairsDashStyle||""}),a._ttEl.hLine=a.renderer.line(a._plotRect.x,M,a._plotRect.x+a._plotRect.width,M,{stroke:N,"stroke-width":a.crosshairsLineWidth||1,"stroke-dasharray":a.crosshairsDashStyle||""}))}u||0==a.showToolTips||(b=this._get([h.toolTipClass,l.toolTipClass,a.toolTipClass,this.toThemeProperty("jqx-chart-tooltip-text",null)]),M=this._get([h.toolTipBackground,l.toolTipBackground,a.toolTipBackground,"#FFFFFF"]),N=this._get([h.toolTipLineColor,l.toolTipLineColor,a.toolTipLineColor,e.lineColor]),u=this._get([h.toolTipOpacity,l.toolTipOpacity,a.toolTipOpacity,1]),e=this.getItemCoord(i,r,s),r=0,a._pointMarker&&a._pointMarker.element&&(r=h.symbolSizeSelected,isNaN(r)&&(r=h.symbolSize),(isNaN(r)||50<r||r<0)&&(r=l.symbolSize),(isNaN(r)||50<r||r<0)&&(r=8)),a._createTooltip(e,l,o,{css:b,fill:M,stroke:N,fillOpacity:u,symbolSize:r}))}}}},_fitTooltip:function(e,t,i,r,s){var a,n={},s=2+s/2;if(t.x-i.width-7-s>e.x&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(n.left={arrowLocation:"right",x:t.x-i.width-7-s,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.x+t.width+i.width+7+s<e.x+e.width&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(n.right={arrowLocation:"left",x:t.x+t.width+s,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.y-i.height-s-7>e.y&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(n.top={arrowLocation:"bottom",x:t.x+t.width/2-i.width/2,y:t.y-i.height-s-7,width:i.width,height:i.height+7}),t.y+t.height+i.height+7+s<e.y+e.height&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(n.bottom={arrowLocation:"top",x:t.x+t.width/2-i.width/2,y:t.y+t.height+s,width:i.width,height:i.height+7}),t.width>t.height||(-1!=r.type.indexOf("stackedcolumn")||-1!=r.type.indexOf("stackedwaterfall"))&&"horizontal"!=r.orientation){if(n.left)return n.left;if(n.right)return n.right}else{if(n.top)return n.top;if(n.bottom)return n.bottom}for(a in n)if(n[a])return n[a];return{arrowLocation:""}},_createTooltip:function(e,t,i,r){var s,a,n,o=this,l=t.type,h=!1,d=o._ttEl.box;if(d||(h=!0,(d=o._ttEl.box=document.createElement("div")).style.position="absolute",d.style.cursor="default",le(s).css({"z-index":1e7,"box-sizing":"content-box"}),le(d).css({"z-index":1e7}),le(document.body).append(d),(s=document.createElement("div")).id="arrowOuterDiv",s.style.width="0px",s.style.height="0px",s.style.position="absolute",le(s).css({"z-index":1e7+1,"box-sizing":"content-box"}),(a=document.createElement("div")).id="arrowInnerDiv",a.style.width="0px",a.style.height="0px",a.style.position="absolute",(n=document.createElement("div")).id="contentDiv",n.style.position="absolute",le(n).css({"box-sizing":"content-box",outline:"none",border:"1px solid transparent",padding:"3px","text-align":"center","vertical-align":"middle",margin:"0 0 0 0",cursor:"default"}),le(n).addClass("jqx-rc-all"),le(n).appendTo(le(d)),le(s).appendTo(le(d)),le(a).appendTo(le(d)),le(a).css({"z-index":1e7+2,"box-sizing":"content-box"})),i&&0!=i.length){n=le(d).find("#contentDiv")[0],s=le(d).find("#arrowOuterDiv")[0],(a=le(d).find("#arrowInnerDiv")[0]).style.opacity=s.style.opacity=r.fillOpacity,n.style.backgroundColor=r.fill,n.style.borderColor=r.stroke,n.style.opacity=r.fillOpacity;var u="<span class='"+r.css+"'>"+i+"</span>";le(n).html(u);var f=this._measureHtml(u,"jqx-rc-all jqx-button"),c=o._plotRect;if(!(f.width>c.width||f.height>c.height)){var g={width:f.width,height:f.height},p="",x=o._isColumnType(l),i=Math.max(e.x,c.x),u=Math.max(e.y,c.y);"dataPoint"==o.toolTipAlignment?(-1!=l.indexOf("pie")||-1!=l.indexOf("donut")?(l=(e.fromAngle+e.toAngle)/2,l*=Math.PI/180,m=!isNaN(e.innerRadius)&&0<e.innerRadius?(e.innerRadius+e.outerRadius)/2:.75*e.outerRadius,i=e.x=e.center.x+Math.cos(l)*m,u=e.y=e.center.y-Math.sin(l)*m,e.width=e.height=1):x&&(t.polar||t.spider)&&(e.width=e.height=1),""!=(m=this._fitTooltip(this._plotRect,e,g,t,r.symbolSize)).arrowLocation&&(p=m.arrowLocation,i=m.x,u=m.y,g.width=m.width,g.height=m.height)):p="","top"==p||"bottom"==p?(g.height+=7,i-=3.5,"bottom"==p&&(u-=7)):"left"!=p&&"right"!=p||(g.width+=7,u-=3.5,"right"==p&&(i-=7)),i+g.width>c.x+c.width&&(p="",i=c.x+c.width-g.width),u+g.height>c.y+c.height&&(p="",u=c.y+c.height-g.height);e={x:0,y:0},t={x:0,y:0};le(n).css({width:f.width,height:f.height,left:0,top:0}),s.style["margin-top"]=s.style["margin-left"]=0,a.style["margin-top"]=a.style["margin-left"]=0,n.style["margin-top"]=n.style["margin-left"]=0;var m="7px solid",c="7px solid transparent";switch(p){case"left":e={x:0,y:(f.height-7)/2},t={x:7,y:0},n.style["margin-left"]="7px",s.style["margin-left"]="0px",s.style["margin-top"]=e.y+"px",s.style["border-left"]="",s.style["border-right"]=m+" "+r.stroke,s.style["border-top"]=c,s.style["border-bottom"]=c,a.style["margin-left"]="1px",a.style["margin-top"]=e.y+"px",a.style["border-left"]="",a.style["border-right"]=m+" "+r.fill,a.style["border-top"]=c,a.style["border-bottom"]=c;break;case"right":e={x:g.width-7,y:(f.height-7)/2},t={x:0,y:0},s.style["margin-left"]=e.x+"px",s.style["margin-top"]=e.y+"px",s.style["border-left"]=m+" "+r.stroke,s.style["border-right"]="",s.style["border-top"]=c,s.style["border-bottom"]=c,a.style["margin-left"]=e.x-1+"px",a.style["margin-top"]=e.y+"px",a.style["border-left"]=m+" "+r.fill,a.style["border-right"]="",a.style["border-top"]=c,a.style["border-bottom"]=c;break;case"top":e={x:g.width/2-3.5,y:0},t={x:0,y:7},n.style["margin-top"]=t.y+"px",s.style["margin-left"]=e.x+"px",s.style["border-top"]="",s.style["border-bottom"]=m+" "+r.stroke,s.style["border-left"]=c,s.style["border-right"]=c,a.style["margin-left"]=e.x+"px",a.style["margin-top"]="1px",a.style["border-top"]="",a.style["border-bottom"]=m+" "+r.fill,a.style["border-left"]=c,a.style["border-right"]=c;break;case"bottom":e={x:g.width/2-3.5,y:g.height-7},t={x:0,y:0},s.style["margin-left"]=e.x+"px",s.style["margin-top"]=e.y+"px",s.style["border-top"]=m+" "+r.stroke,s.style["border-bottom"]="",s.style["border-left"]=c,s.style["border-right"]=c,a.style["margin-left"]=e.x+"px",a.style["margin-top"]=e.y-1+"px",a.style["border-top"]=m+" "+r.fill,a.style["border-bottom"]="",a.style["border-left"]=c,a.style["border-right"]=c}""==p?(le(s).hide(),le(a).hide()):(le(s).show(),le(a).show()),le(d).css({width:g.width+"px",height:g.height+"px"});g=o.host.coord();h&&(le(d).fadeOut(0,0),d.style.left=i+g.left+"px",d.style.top=u+g.top+"px"),le(d).clearQueue(),le(d).animate({left:i+g.left,top:u+g.top,opacity:1},o.toolTipMoveDuration,"easeInOutCirc"),le(d).fadeTo(400,1)}}else le(d).fadeTo(0,0)},_measureHtml:function(e,t){var i=this._measureDiv;i||(this._measureDiv=i=document.createElement("div"),i.style.position="absolute",i.style.cursor="default",i.style.overflow="hidden",i.style.display="none",le(i).addClass(t),this.host.append(i)),le(i).html(e);i={width:le(i).width()+2,height:le(i).height()+2};return le.jqx.browser&&le.jqx.browser.mozilla&&(i.height+=3),i},_hideToolTip:function(e){this._ttEl&&(this._ttEl.box&&(0==e?le(this._ttEl.box).hide():le(this._ttEl.box).fadeOut()),this._hideCrosshairs(),this._ttEl.gidx=void 0)},_hideCrosshairs:function(){this._ttEl&&(this._ttEl.vLine&&(this.renderer.removeElement(this._ttEl.vLine),this._ttEl.vLine=void 0),this._ttEl.hLine&&(this.renderer.removeElement(this._ttEl.hLine),this._ttEl.hLine=void 0))},_get:function(e){return le.jqx.getByPriority(e)},_getAxisSettings:function(e){if(!e)return{};var t=this,i=e.gridLines||{},r={visible:this._get([i.visible,e.showGridLines,!0]),color:t._get([i.color,e.gridLinesColor,t._defaultLineColor]),unitInterval:t._get([i.unitInterval,i.interval,e.gridLinesInterval]),step:t._get([i.step,e.gridLinesStep]),dashStyle:t._get([i.dashStyle,e.gridLinesDashStyle]),width:t._get([i.lineWidth,1]),offsets:[],alternatingBackgroundColor:e.alternatingBackgroundColor,alternatingBackgroundColor2:e.alternatingBackgroundColor2,alternatingBackgroundOpacity:e.alternatingBackgroundOpacity},s=e.tickMarks||{},a={visible:this._get([s.visible,e.showTickMarks,!0]),color:t._get([s.color,e.tickMarksColor,t._defaultLineColor]),unitInterval:t._get([s.unitInterval,s.interval,e.tickMarksInterval]),step:t._get([s.step,e.tickMarksStep]),dashStyle:t._get([s.dashStyle,e.tickMarksDashStyle]),width:t._get([s.lineWidth,1]),size:t._get([s.size,4]),offsets:[]},n=e.title||{},i={visible:t._get([n.visible,!0]),text:t._get([e.description,n.text]),style:t._get([e.descriptionClass,n.class,t.toThemeProperty("jqx-chart-axis-description",null)]),halign:t._get([e.horizontalDescriptionAlignment,n.horizontalAlignment,"center"]),valign:t._get([e.verticalDescriptionAlignment,n.verticalAlignment,"center"]),angle:0,rotationPoint:t._get([n.rotationPoint,"centercenter"]),offset:t._get([n.offset,{x:0,y:0}])},s=e.line||{},n={visible:t._get([s.visible,!0]),color:t._get([s.color,r.color,t._defaultLineColor]),dashStyle:t._get([s.dashStyle,r.dashStyle,""]),width:t._get([s.lineWidth,1]),angle:t._get([s.angle,NaN])},t={left:(t=e.padding||{}).left||0,right:t.right||0,top:t.top||0,bottom:t.bottom||0},s=this._getAxisLabelsSettings(e);return{visible:this._get([e.visible,e.showValueAxis,e.showXAxis,e.showCategoryAxis,!0]),customDraw:this._get([e.customDraw,!1]),gridLines:r,tickMarks:a,line:n,title:i,labels:s,padding:t,toolTipFormatFunction:this._get([e.toolTipFormatFunction,e.formatFunction,s.formatFunction]),toolTipFormatSettings:this._get([e.toolTipFormatSettings,e.formatSettings,s.formatSettings])}},_getAxisLabelsSettings:function(e){var t=this,i=e.labels||{};return{visible:t._get([e.showLabels,i.visible,!0]),unitInterval:t._get([i.unitInterval,i.interval,e.labelsInterval]),step:t._get([i.step,e.labelsStep]),angle:t._get([e.textRotationAngle,i.angle,0]),style:t._get([e.class,i.class,t.toThemeProperty("jqx-chart-axis-text",null)]),halign:t._get([e.horizontalTextAlignment,i.horizontalAlignment,"center"]),valign:t._get([e.verticalTextAlignment,i.verticalAlignment,"center"]),textRotationPoint:t._get([e.textRotationPoint,i.rotationPoint,"auto"]),textOffset:t._get([e.textOffset,i.offset,{x:0,y:0}]),autoRotate:t._get([e.labelsAutoRotate,i.autoRotate,!1]),formatSettings:t._get([e.formatSettings,i.formatSettings,void 0]),formatFunction:t._get([e.formatFunction,i.formatFunction,void 0])}},_getLabelsSettings:function(e,t,i,r){for(var s=this.seriesGroups[e],a=s.series[t],n=isNaN(i)?void 0:this._getDataValue(i,a.dataField,e),o=r||["Visible","Offset","Angle","HorizontalAlignment","VerticalAlignment","Class","BackgroundColor","BorderColor","BorderOpacity","Padding","Opacity","BackgroundOpacity","LinesAngles","LinesEnabled","AutoRotate","Radius"],l={},h=0;h<o.length;h++){var d=o[h],u="labels"+d,f="label"+d,c=d.substring(0,1).toLowerCase()+d.substring(1),d=void 0;s.labels&&"object"==typeof s.labels&&(d=s.labels[c]),a.labels&&"object"==typeof a.labels&&null!=a.labels[c]&&(d=a.labels[c]),d=this._get([a[u],a[f],d,s[u],s[f]]),le.isFunction(d)?l[c]=d(n,i,a,s):l[c]=d}l.class=l.class||this.toThemeProperty("jqx-chart-label-text",null),l.visible=this._get([l.visible,a.showLabels,s.showLabels,null!=a.labels||void 0,null!=s.labels||void 0]);r=l.padding||1;return l.padding={left:this._get([r.left,isNaN(r)?1:r]),right:this._get([r.right,isNaN(r)?1:r]),top:this._get([r.top,isNaN(r)?1:r]),bottom:this._get([r.bottom,isNaN(r)?1:r])},l},_showLabel:function(e,t,i,r,s,a,n,o,l,h,d){this.seriesGroups[e].series[t];var u={width:0,height:0};if(!isNaN(i)){var f=this._getLabelsSettings(e,t,i);if(!f.visible)return n?u:void 0;if(r.width<0||r.height<0)return n?u:void 0;var c=f.angle;isNaN(h)||(c=h);h=f.offset||{},h={x:h.x,y:h.y};isNaN(h.x)&&(h.x=0),isNaN(h.y)&&(h.y=0),s=s||f.horizontalAlignment||"center",a=a||f.verticalAlignment||"center";e=this._getFormattedValue(e,t,i,void 0,void 0,!0),t=r.width,i=r.height;if(1==o&&"center"!=s&&(s="right"==s?"left":"right"),1==l&&"center"!=a&&"middle"!=a&&(a="top"==a?"bottom":"top",h.y*=-1),u=this.renderer.measureText(e,c,{class:f.class}),n)return u;l=0,n=0;0<t&&(""==s||"center"==s?l+=(t-u.width)/2:"right"==s&&(l+=t-u.width)),0<i&&(""==a||"center"==a?n+=(i-u.height)/2:"bottom"==a&&(n+=i-u.height)),l+=r.x+h.x,n+=r.y+h.y;a=this._plotRect;l<=a.x&&(l=a.x+2),n<=a.y&&(n=a.y+2);var g,i=Math.max(u.width,1),h=Math.max(u.height,1);n+h>=a.y+a.height&&(n=a.y+a.height-h-2),l+i>=a.x+a.width&&(l=a.x+a.width-i-2);h=f.backgroundColor,a=f.borderColor,i=f.padding;(h||a)&&(g=this.renderer.beginGroup(),r=this.renderer.rect(l-i.left,n-i.top,u.width+i.left+i.right,u.height+i.bottom+i.bottom,{fill:h||"transparent","fill-opacity":f.backgroundOpacity||1,stroke:a||"transparent","stroke-opacity":f.borderOpacity,"stroke-width":1}));f=this.renderer.text(e,l,n,u.width,u.height,c,{class:f.class,opacity:f.opacity||1},!1,"center","center");return d&&(d.x=l-i.left,d.y=n-i.top,d.width=u.width+i.left+i.right,d.height=u.height+i.bottom+i.bottom),this._isVML&&(this.renderer.removeElement(f),this.renderer.getContainer()[0].appendChild(f)),g&&this.renderer.endGroup(),g||f}},_getAnimProps:function(e,t){var i=this.seriesGroups[e],r=isNaN(t)?void 0:i.series[t],e=1==this.enableAnimations;i.enableAnimations&&(e=1==i.enableAnimations),r&&r.enableAnimations&&(e=1==r.enableAnimations);t=this.animationDuration;isNaN(t)&&(t=1e3);i=i.animationDuration;return isNaN(i)||(t=i),r&&(r=r.animationDuration,isNaN(r)||(t=r)),5e3<t&&(t=1e3),{enabled:e,duration:t}},_isColorTransition:function(e,t,i,r){if(r-1<i.xoffsets.first)return!1;i=this._getColors(e,t,r,this._getGroupGradientType(e)),e=this._getColors(e,t,r-1,this._getGroupGradientType(e));return i.fillColor!=e.fillColor},_renderLineSeries:function(e,t){var i=this.seriesGroups[e];if(i.series&&0!=i.series.length){var r=-1!=i.type.indexOf("area"),s=-1!=i.type.indexOf("stacked"),a=s&&-1!=i.type.indexOf("100"),n=-1!=i.type.indexOf("spline"),o=-1!=i.type.indexOf("step"),l=-1!=i.type.indexOf("range"),h=1==i.polar||1==i.spider;if(h&&(o=!1),!o||!n){var d=this._getDataLen(e),u=(t.width,"horizontal"==i.orientation),f=1==this._getXAxis(e).flip,c=t;u&&(c={x:t.y,y:t.x,width:t.height,height:t.width});var g=this._calcGroupOffsets(e,c);if(g&&0!=g.xoffsets.length){this._linesRenderInfo||(this._linesRenderInfo={}),this._linesRenderInfo[e]={};for(var p=i.series.length-1;0<=p;p--){var x=this._getSerieSettings(e,p),m={groupIndex:e,rect:c,serieIndex:p,swapXY:u,isArea:r,isSpline:n,isRange:l,isPolar:h,settings:x,segments:[],pointsLength:0};if(this._isSerieVisible(e,p)){var _=i.series[p];if(!_.customDraw){var y=le.isFunction(_.colorFunction),v=g.xoffsets.first,b=v,M=this._getColors(e,p,NaN,this._getGroupGradientType(e));do{var N=[],w=[],A=[],S=0,C=0,j=NaN,q=NaN,T=NaN;if(!(g.xoffsets.length<1)){for(var k,D,P,F=this._getAnimProps(e,p),I=F.enabled&&!this._isToggleRefresh&&g.xoffsets.length<1e4&&1!=this._isVML?F.duration:0,O=v,R=!1,L=(this._getColors(e,p,v,this._getGroupGradientType(e)),void 0),G=v;G<=g.xoffsets.last;G++){v=G;var E=g.xoffsets.data[G],V=g.xoffsets.xvalues[G];if(!isNaN(E)&&(S=E=Math.max(E,1),C=g.offsets[p][G].to,!(!y&&L&&this.enableSampling&&le.jqx._ptdist(L.x,L.y,S,C)<1))){L={x:S,y:C};var H=g.offsets[p][G].from;if(isNaN(C)||isNaN(H)){if("connect"==_.emptyPointsDisplay)continue;if("zero"!=_.emptyPointsDisplay){R=!0;break}isNaN(C)&&(C=g.baseOffset),isNaN(H)&&(H=g.baseOffset)}if(y&&this._isColorTransition(e,p,g,v)&&1<N.length){v--;break}var B=this._elementRenderInfo;B&&B.length>e&&B[e].series.length>p&&(V=B[e].series[p][V],T=le.jqx._ptrnd(V?V.to:void 0),V=le.jqx._ptrnd(c.x+(V?V.xoffset:void 0)),A.push(u?{y:V,x:T,index:G}:{x:V,y:T,index:G})),b=G,x.stroke<2&&(C-c.y<=1&&(C=c.y+1),H-c.y<=1&&(H=c.y+1),c.y+c.height-C<=1&&(C=c.y+c.height-1),c.y+c.height-H<=1&&(H=c.y+c.height-1)),!r&&a&&(C<=c.y&&(C=c.y+1),C>=c.y+c.height&&(C=c.y+c.height-1),H<=c.y&&(H=c.y+1),H>=c.y+c.height&&(H=c.y+c.height-1)),S=Math.max(E,1)+c.x,1==i.skipOverlappingPoints&&!isNaN(j)&&Math.abs(j-S)<=1||(!o||isNaN(j)||isNaN(q)||q!=C&&N.push(u?{y:S,x:le.jqx._ptrnd(q)}:{x:S,y:le.jqx._ptrnd(q)}),N.push(u?{y:S,x:le.jqx._ptrnd(C),index:G}:{x:S,y:le.jqx._ptrnd(C),index:G}),w.push(u?{y:S,x:le.jqx._ptrnd(H),index:G}:{x:S,y:le.jqx._ptrnd(H),index:G}),j=S,q=C,isNaN(T)&&(T=C))}}0!=N.length?(k=N[N.length-1].index,y&&(M=this._getColors(e,p,k,this._getGroupGradientType(e))),D=c.x+g.xoffsets.data[O],F=c.x+g.xoffsets.data[b],r&&1==i.alignEndPointsWithIntervals&&(D>c.x&&(D=c.x),F<c.x+c.width&&(F=c.x+c.width),f&&(P=D,D=F,F=P)),F=le.jqx._ptrnd(F),D=le.jqx._ptrnd(D),O=g.baseOffset,T=le.jqx._ptrnd(T),P=le.jqx._ptrnd(C)||O,l&&(N=N.concat(w.reverse())),m.pointsLength+=N.length,O={lastItemIndex:k,colorSettings:M,pointsArray:N,pointsStart:A,left:D,right:F,pyStart:T,pyEnd:P,yBase:O,labelElements:[],symbolElements:[]},m.segments.push(O)):v++}}while(v<g.xoffsets.first+g.xoffsets.length-1||R);this._linesRenderInfo[e][p]=m}}else this._linesRenderInfo[e][p]=m}var z=this._linesRenderInfo[e],W=[];for(G in z)W.push(z[G]);W=W.sort(function(e,t){return e.serieIndex-t.serieIndex}),r&&s&&W.reverse();for(G=0;G<W.length;G++){m=W[G];this._animateLine(m,0==I?1:0);var X=this;this._enqueueAnimation("series",void 0,void 0,I,function(e,t,i){X._animateLine(t,i)},m)}}}}},_animateLine:function(e,t){var i=e.settings,r=e.groupIndex,s=e.serieIndex,a=this.seriesGroups[r],n=a.series[s],o=this._getSymbol(r,s),l=this._getLabelsSettings(r,s,NaN,["Visible"]).visible,h=!0;e.isPolar&&(isNaN(a.endAngle)||360==Math.round(Math.abs((isNaN(a.startAngle)?0:a.startAngle)-a.endAngle))||(h=!1)),0==n.endPointsConnect&&(h=!1);for(var d=0,u=0;u<e.segments.length;u++){var f=e.segments[u],c=this._calculateLine(r,e.pointsLength,d,f.pointsArray,f.pointsStart,f.yBase,t,e.isArea,e.swapXY);if(d+=f.pointsArray.length,""!=c){var g=c.split(" "),p=(g.length,""!=(p=c)?this._buildLineCmd(c,e.isRange,f.left,f.right,f.pyStart,f.pyEnd,f.yBase,e.isArea,e.isPolar,h,e.isSpline,e.swapXY):"M 0 0"),c=f.colorSettings;if(f.pathElement?this.renderer.attr(f.pathElement,{d:p}):(f.pathElement=this.renderer.path(p,{"stroke-width":i.stroke,stroke:c.lineColor,"stroke-opacity":i.opacity,"fill-opacity":i.opacity,"stroke-dasharray":i.dashStyle,fill:e.isArea?c.fillColor:"none"}),this._installHandlers(f.pathElement,"path",r,s,f.lastItemIndex)),f.labelElements){for(var x=0;x<f.labelElements.length;x++)this.renderer.removeElement(f.labelElements[x]);f.labelElements=[]}if(f.symbolElements){for(x=0;x<f.symbolElements.length;x++)this.renderer.removeElement(f.symbolElements[x]);f.symbolElements=[]}if(f.pointsArray.length==g.length&&("none"!=o||l))for(var m=n.symbolSize,_=this._plotRect,x=0;x<g.length;x++){var y,v,b=g[x].split(",");(b={x:parseFloat(b[0]),y:parseFloat(b[1])}).x<_.x||b.x>_.x+_.width||b.y<_.y||b.y>_.y+_.height||("none"!=o&&(y=this._getColors(r,s,f.pointsArray[x].index,this._getGroupGradientType(r)),v=this._drawSymbol(o,b.x,b.y,y.fillColorSymbol,i.opacity,y.lineColorSymbol,i.opacity,i.strokeSymbol,void 0,m),f.symbolElements.push(v)),l&&(y=(0<x?g[x-1]:g[x]).split(","),y={x:parseFloat(y[0]),y:parseFloat(y[1])},v=(x<g.length-1?g[x+1]:g[x]).split(","),v={x:parseFloat(v[0]),y:parseFloat(v[1])},(b=this._adjustLineLabelPosition(r,s,f.pointsArray[x].index,b,y,v))&&(b=this._showLabel(r,s,f.pointsArray[x].index,{x:b.x,y:b.y,width:0,height:0}),f.labelElements.push(b))))}if(1==t&&"none"!=o)for(x=0;x<f.symbolElements.length;x++)isNaN(f.pointsArray[x].index)||this._installHandlers(f.symbolElements[x],"symbol",r,s,f.pointsArray[x].index)}}},_adjustLineLabelPosition:function(e,t,i,r,s,a){t=this._showLabel(e,t,i,{width:0,height:0},"","",!0);if(t){i={x:r.x-t.width/2,y:0};return i.y=r.y-1.5*t.height,i}},_calculateLine:function(e,t,i,r,s,a,n,o,l){var h,d=this.seriesGroups[e];1!=d.polar&&1!=d.spider||(h=this._getPolarAxisCoords(e,this._plotRect));var u="",f=r.length;o||0!=s.length||(f=t*n-i);for(var c=0;c<f+1&&c<r.length;c++){0<c&&(u+=" ");var g=r[c].y,p=r[c].x,x=o?a:g,m=p;s&&s.length>c&&(x=s[c].y,m=s[c].x,(isNaN(x)||isNaN(m))&&(x=g,m=p)),f<=r.length&&0<c&&c==f&&(m=r[c-1].x,x=r[c-1].y),g=l?(p=le.jqx._ptrnd((p-x)*(o?n:1)+x),le.jqx._ptrnd(g)):(p=le.jqx._ptrnd((p-m)*n+m),le.jqx._ptrnd((g-x)*n+x)),h&&(p=(x=this._toPolarCoord(h,this._plotRect,p,g)).x,g=x.y),u+=p+","+g}return u},_buildLineCmd:function(e,t,i,r,s,a,n,o,l,h,d,u){var f=e,i=u?n+","+i:i+","+n;!o||l||t||(f=i+" "+e+" "+(u?n+","+r:r+","+n)),d&&(f=this._getBezierPoints(f));r=f.split(" ");if(0==r.length)return"";if(1==r.length){n=r[0].split(",");return"M "+r[0]+" L"+(parseFloat(n[0])+1)+","+(parseFloat(n[1])+1)}r=r[0].replace("M","");return o&&!l?f=t?"M "+r+" L "+r+(d?"":" L "+r+" ")+f:"M "+i+" L "+r+" "+f:d||(f="M "+r+" L "+r+" "+f),(l&&h||t)&&(f+=" Z"),f},_getSerieSettings:function(e,t){var i=this.seriesGroups[e],r=-1!=i.type.indexOf("area"),s=-1!=i.type.indexOf("line"),a=i.series[t],n=a.dashStyle||i.dashStyle||"",e=a.opacity||i.opacity;(isNaN(e)||e<0||1<e)&&(e=1);t=a.lineWidth;isNaN(t)&&"auto"!=t&&(t=i.lineWidth),("auto"==t||isNaN(t)||t<0||15<t)&&(t=r?2:s?3:1);a=a.lineWidthSymbol;return isNaN(a)&&(a=1),{stroke:t,strokeSymbol:a,opacity:e,dashStyle:n}},_getColors:function(e,t,i,r,s){var a=this.seriesGroups[e],n=a.series[t],o=this._get([n.useGradientColors,a.useGradientColors,a.useGradient,!0]),l=this._getSeriesColors(e,t,i);l.fillColor||(l.fillColor=m,l.fillColorSelected=le.jqx.adjustColor(m,1.1),l.fillColorAlt=le.jqx.adjustColor(m,4),l.fillColorAltSelected=le.jqx.adjustColor(m,3),l.lineColor=l.symbolColor=le.jqx.adjustColor(m,.9),l.lineColorSelected=l.symbolColorSelected=le.jqx.adjustColor(m,.9));var h=[[0,1.4],[100,1]],d=[[0,1],[25,1.1],[50,1.4],[100,1]],n=NaN;if(isNaN(s)||(n=2==s?h:d),o){var u,f,c={};for(u in l)c[u]=l[u];if(l=c,"verticalLinearGradient"==r||"horizontalLinearGradient"==r){var g,p="verticalLinearGradient"==r?n||h:n||d,x=["fillColor","fillColorSelected","fillColorAlt","fillColorAltSelected"];for(g in x){var m=l[x[g]];m&&(l[x[g]]=this.renderer._toLinearGradient(m,"verticalLinearGradient"==r,p))}}else"radialGradient"==r&&(n=h,("pie"==a.type||"donut"==a.type||a.polar)&&null!=i&&this._renderData[e]&&this._renderData[e].offsets[t]&&(f=this._renderData[e].offsets[t][i],n=[[0,1.3],[90,1.2],[100,1]]),l.fillColor=this.renderer._toRadialGradient(l.fillColor,n,f),l.fillColorSelected=this.renderer._toRadialGradient(l.fillColorSelected,n,f))}return l},_installHandlers:function(i,r,s,a,n){if(!this.enableEvents)return!1;var o=this,t=this.seriesGroups[s],l=this.seriesGroups[s].series[a],h=-1!=t.type.indexOf("line")||-1!=t.type.indexOf("area");h||0==t.enableSelection||0==l.enableSelection||this.renderer.addHandler(i,"mousemove",function(e){var t,i=o._selected;i&&i.isLineType&&"click"==i.linesUnselectMode&&(i.group!=s||i.series!=a)||(t=e.pageX||e.clientX||e.screenX,i=e.pageY||e.clientY||e.screenY,t-=(e=o.host.offset()).left,i-=e.top,o._mouseX==t&&o._mouseY==i||o._ttEl&&o._ttEl.gidx==s&&o._ttEl.sidx==a&&o._ttEl.iidx==n||o._startTooltipTimer(s,a,n))}),0!=t.enableSelection&&0!=l.enableSelection&&this.renderer.addHandler(i,"mouseover",function(e){var t=o._selected;t&&t.isLineType&&"click"==t.linesUnselectMode&&(t.group!=s||t.series!=a)||o._select(i,r,s,a,n,n)}),this.renderer.addHandler(i,"click",function(e){clearTimeout(o._hostClickTimer),o._lastClickTs=(new Date).valueOf(),h&&"symbol"!=r&&"pointMarker"!=r||(o._isColumnType(t.type)&&o._unselect(),isNaN(n)||(e.stopImmediatePropagation(),o._raiseItemEvent("click",t,l,n)))})},_getHorizontalOffset:function(e,t,i,r){var s=this._plotRect;if(0==this._getDataLen(e))return{index:void 0,value:i};var a=this._calcGroupOffsets(e,this._plotRect);if(0==a.xoffsets.length)return{index:void 0,value:void 0};var n,o=i,l=r,h=this.seriesGroups[e];(h.polar||h.spider)&&(n=this._getPolarAxisCoords(e,s));this._getXAxis(e).flip;for(var d,u,f,c,g=a.xoffsets.first;g<=a.xoffsets.last;g++){var p,x=a.xoffsets.data[g],m=a.offsets[t][g].to,_=0;_=n?(x=(p=this._toPolarCoord(n,s,x+s.x,m)).x,m=p.y,le.jqx._ptdist(o,l,x,m)):"horizontal"==h.orientation?(p=m,m=x+=s.y,x=p,le.jqx._ptdist(o,l,x,m)):(x+=s.x,Math.abs(o-x)),(isNaN(d)||_<d)&&(d=_,u=g,f=x,c=m)}return{index:u,value:a.xoffsets.data[u],polarAxisCoords:n,x:f,y:c}},onmousemove:function(e,t){if((this._mouseX!=e||this._mouseY!=t)&&(this._mouseX=e,this._mouseY=t,this._selected)){var i=this._selected.group,r=this._selected.series,s=this.seriesGroups[i],a=s.series[r],n=this._plotRect;if(this.renderer&&((n=this.renderer.getRect()).x+=5,n.y+=5,n.width-=10,n.height-=10),e<n.x||e>n.x+n.width||t<n.y||t>n.y+n.height)return this._hideToolTip(),void this._unselect();var o="horizontal"==s.orientation,n=this._plotRect;if(-1!=s.type.indexOf("line")||-1!=s.type.indexOf("area")){var l=this._getHorizontalOffset(i,this._selected.series,e,t),h=l.index;if(null!=h){if(this._selected.item!=h){for(var d=this._linesRenderInfo[i][r].segments,u=0;h>d[u].lastItemIndex;)if(++u>=d.length)return;var f=d[u].pathElement,c=d[u].lastItemIndex;this._unselect(!1),this._select(f,"path",i,r,h,c)}var g=this._getSymbol(this._selected.group,this._selected.series);"none"==g&&(g="circle");var p=this._calcGroupOffsets(i,n),f=p.offsets[this._selected.series][h].to,c=f;-1!=s.type.indexOf("range")&&(c=p.offsets[this._selected.series][h].from);var x,p=o?e:t;t=!isNaN(c)&&Math.abs(p-c)<Math.abs(p-f)?c:f,isNaN(t)||(e=l.value,o?(x=e,e=t,t=x+n.y):e+=n.x,l.polarAxisCoords&&(e=l.x,t=l.y),t=le.jqx._ptrnd(t),e=le.jqx._ptrnd(e),this._pointMarker&&this._pointMarker.element&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker.element=void 0),isNaN(e)||isNaN(t)||(x=this._getSeriesColors(i,r,h),n=this._getSerieSettings(i,r),l=a.symbolSizeSelected,isNaN(l)&&(l=a.symbolSize),(isNaN(l)||50<l||l<0)&&(l=s.symbolSize),(isNaN(l)||50<l||l<0)&&(l=8),(this.showToolTips||this.enableCrosshairs)&&(this._pointMarker={type:g,x:e,y:t,gidx:i,sidx:r,iidx:h},this._pointMarker.element=this._drawSymbol(g,e,t,x.fillColorSymbolSelected,n.opacity,x.lineColorSymbolSelected,n.opacity,n.strokeSymbol,n.dashStyle,l),this._installHandlers(this._pointMarker.element,"pointMarker",i,r,h)),this._startTooltipTimer(i,this._selected.series,h)))}}}},_drawSymbol:function(e,t,i,r,s,a,n,o,l,h){var d=h||6,h=d/2;switch(e){case"none":return;case"circle":f=this.renderer.circle(t,i,d/2);break;case"square":h=--d/2,f=this.renderer.rect(t-h,i-h,d,d);break;case"diamond":var u="M "+(t-h)+","+i+" L"+t+","+(i-h)+" L"+(t+h)+","+i+" L"+t+","+(i+h)+" Z",f=this.renderer.path(u);break;case"triangle_up":case"triangle":u="M "+(t-h)+","+(i+h)+" L "+(t+h)+","+(i+h)+" L "+t+","+(i-h)+" Z";f=this.renderer.path(u);break;case"triangle_down":u="M "+(t-h)+","+(i-h)+" L "+t+","+(i+h)+" L "+(t+h)+","+(i-h)+" Z";f=this.renderer.path(u);break;case"triangle_left":u="M "+(t-h)+","+i+" L "+(t+h)+","+(i+h)+" L "+(t+h)+","+(i-h)+" Z";f=this.renderer.path(u);break;case"triangle_right":u="M "+(t-h)+","+(i-h)+" L "+(t-h)+","+(i+h)+" L "+(t+h)+","+i+" Z";f=this.renderer.path(u);break;default:f=this.renderer.circle(t,i,d)}return this.renderer.attr(f,{fill:r,"fill-opacity":s,stroke:a,"stroke-width":o,"stroke-opacity":n,"stroke-dasharray":l||""}),"circle"!=e&&(this.renderer.attr(f,{r:d/2}),"square"!=e&&this.renderer.attr(f,{x:t,y:i})),f},_getSymbol:function(e,t){var i,r=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],s=this.seriesGroups[e],e=s.series[t];return null!=e.symbolType&&(i=e.symbolType),null==i&&(i=s.symbolType),"default"==i?r[t%r.length]:null!=i?i:"none"},_startTooltipTimer:function(t,i,r,s,a,e,n){this._cancelTooltipTimer();var o=this,l=(o.seriesGroups[t],this.toolTipShowDelay||this.toolTipDelay);(isNaN(l)||1e4<l||l<0)&&(l=500),(this._ttEl||1==this.enableCrosshairs&&0==this.showToolTips)&&(l=0),isNaN(e)||(l=e),clearTimeout(this._tttimerHide),isNaN(s)&&(s=o._mouseX),isNaN(a)&&(a=o._mouseY-3),0==l&&o._showToolTip(s,a,t,i,r),this._tttimer=setTimeout(function(){0!=l&&o._showToolTip(s,a,t,i,r);var e=o.toolTipHideDelay;isNaN(n)||(e=n),isNaN(e)&&(e=4e3),o._tttimerHide=setTimeout(function(){o._hideToolTip(),o._unselect()},e)},l)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(e){var t=this.seriesGroups[e];return-1!=t.type.indexOf("area")?"horizontal"==t.orientation?"horizontalLinearGradient":"verticalLinearGradient":this._isColumnType(t.type)||-1!=t.type.indexOf("candle")?t.polar?"radialGradient":"horizontal"==t.orientation?"verticalLinearGradient":"horizontalLinearGradient":-1!=t.type.indexOf("scatter")||-1!=t.type.indexOf("bubble")||this._isPieGroup(e)?"radialGradient":void 0},_select:function(e,t,i,r,s,a){if(this._selected){if(this._selected.item==s&&this._selected.series==r&&this._selected.group==i)return;this._unselect()}var n,o,l=this.seriesGroups[i],h=l.series[r];0!=l.enableSelection&&0!=h.enableSelection&&(n=-1!=l.type.indexOf("line")&&-1==l.type.indexOf("area"),this._selected={element:e,type:t,group:i,series:r,item:s,iidxBase:a,isLineType:n,linesUnselectMode:h.linesUnselectMode||l.linesUnselectMode},a=(o=this._getColors(i,r,a||s,this._getGroupGradientType(i))).fillColorSelected,n&&(a="none"),i=this._getSerieSettings(i,r),r="symbol"==t?o.lineColorSymbolSelected:o.lineColorSelected,a="symbol"==t?o.fillColorSymbolSelected:a,i="symbol"==t?1:i.stroke,this.renderer.getAttr(e,"fill")==o.fillColorAlt&&(a=o.fillColorAltSelected),this.renderer.attr(e,{stroke:r,fill:a,"stroke-width":i}),-1==l.type.indexOf("pie")&&-1==l.type.indexOf("donut")||this._applyPieSelect(),this._raiseItemEvent("mouseover",l,h,s))},_applyPieSelect:function(){var s=this;s._createAnimationGroup("animPieSlice");var e,a=this._selected;!a||(e=this.getItemCoord(a.group,a.series,a.item))&&(e={element:this._getRenderInfo(a.group,a.series,a.item),coord:e},this._enqueueAnimation("animPieSlice",void 0,void 0,300,function(e,t,i){var r=t.coord,i=r.selectedRadiusChange*i,r=s.renderer.pieSlicePath(r.center.x,r.center.y,0==r.innerRadius?0:r.innerRadius+i,r.outerRadius+i,r.fromAngle,r.toAngle,r.centerOffset);s.renderer.attr(t.element.element,{d:r}),s._showPieLabel(a.group,a.series,a.item,void 0,i)},e),s._startAnimation("animPieSlice"))},_applyPieUnselect:function(){this._stopAnimations();var e,t=this._selected;!t||(e=this.getItemCoord(t.group,t.series,t.item))&&e.center&&(e=this.renderer.pieSlicePath(e.center.x,e.center.y,e.innerRadius,e.outerRadius,e.fromAngle,e.toAngle,e.centerOffset),this.renderer.attr(t.element,{d:e}),this._showPieLabel(t.group,t.series,t.item,void 0,0))},_unselect:function(){var e,t,i,r,s,a,n,o,l,h=this;h._selected&&(l=h._selected.group,n=h._selected.series,e=h._selected.item,o=h._selected.iidxBase,t=h._selected.type,r=(i=h.seriesGroups[l]).series[n],s=-1!=i.type.indexOf("line")&&-1==i.type.indexOf("area"),o=(a=h._getColors(l,n,o||e,h._getGroupGradientType(l))).fillColor,s&&(o="none"),l=h._getSerieSettings(l,n),n="symbol"==t?a.lineColorSymbol:a.lineColor,o="symbol"==t?a.fillColorSymbol:o,this.renderer.getAttr(h._selected.element,"fill")==a.fillColorAltSelected&&(o=a.fillColorAlt),l="symbol"==t?1:l.stroke,h.renderer.attr(h._selected.element,{stroke:n,fill:o,"stroke-width":l}),-1==i.type.indexOf("pie")&&-1==i.type.indexOf("donut")||this._applyPieUnselect(),h._selected=void 0,isNaN(e)||h._raiseItemEvent("mouseout",i,r,e)),h._pointMarker&&(h._pointMarker.element&&(h.renderer.removeElement(h._pointMarker.element),h._pointMarker.element=void 0),h._pointMarker=void 0,h._hideCrosshairs())},_raiseItemEvent:function(e,t,i,r){for(var s=i[e]||t[e],a=0;a<this.seriesGroups.length&&this.seriesGroups[a]!=t;a++);a!=this.seriesGroups.length&&(i={event:e,seriesGroup:t,serie:i,elementIndex:r,elementValue:this._getDataValue(r,i.dataField,a)},s&&le.isFunction(s)&&s(i),this._raiseEvent(e,i))},_raiseEvent:function(e,t){var i=new le.Event(e);return i.owner=this,t.event=e,i.args=t,this.host.trigger(i)},_calcInterval:function(e,t,i){var r=Math.abs(t-e)/i,s=.1,a=[1,2,3,4,5,10,15,20,25,50,100];r<1&&(a=[.5,.25,.125,.1],s=10);var n=0;do{n=0,1<=r?s*=10:s/=10;for(var o=1;o<a.length&&Math.abs(a[n]*s-r)>Math.abs(a[o]*s-r);o++)n=o}while(n==a.length-1);return a[n]*s},_renderDataClone:function(){if(this._renderData&&!this._isToggleRefresh){var e=this._elementRenderInfo=[];if(!this._isSelectorRefresh)for(var t=0;t<this._renderData.length;t++){for(this._getXAxis(t).dataField;e.length<=t;)e.push({});var i=e[t],r=this._renderData[t];if(r.offsets){if(r.valueAxis)for(var s in i.valueAxis={itemOffsets:{}},r.valueAxis.itemOffsets)i.valueAxis.itemOffsets[s]=r.valueAxis.itemOffsets[s];if(r.xAxis)for(var s in i.xAxis={itemOffsets:{}},r.xAxis.itemOffsets)i.xAxis.itemOffsets[s]=r.xAxis.itemOffsets[s];i.series=[];for(var a=i.series,n=this._isPieGroup(t),o=0;o<r.offsets.length;o++){a.push({});for(var l,h=0;h<r.offsets[o].length;h++)n?(l=r.offsets[o][h],a[o][l.displayValue]={value:l.value,x:l.x,y:l.y,fromAngle:l.fromAngle,toAngle:l.toAngle}):a[o][r.xoffsets.xvalues[h]]={value:r.offsets[o][h].value,valueRadius:r.offsets[o][h].valueRadius,xoffset:r.xoffsets.data[h],from:r.offsets[o][h].from,to:r.offsets[o][h].to}}}}}},getPolarDataPointOffset:function(e,t,i){var r=this._renderData[i];if(!r)return{x:NaN,y:NaN};t=this.getValueAxisDataPointOffset(t,i),i=this.getXAxisDataPointOffset(e,i),t=this._toPolarCoord(r.polarCoords,r.xAxis.rect,i,t);return{x:t.x,y:t.y}},_getDataPointOffsetDiff:function(e,t,i,r,s,a,n){e=this._getDataPointOffset(e,i,r,s,a,n),n=this._getDataPointOffset(t,i,r,s,a,n);return Math.abs(e-n)},_getXAxisRenderData:function(e){if(!(e>=this._renderData.length)){var t=this.seriesGroups[e],i=this._renderData[e].xAxis;if(i){if(null==t.xAxis){for(var r=0;r<=e&&null!=this.seriesGroups[r].xAxis;r++);i=this._renderData[r].xAxis}return i}}},getXAxisDataPointOffset:function(e,t){var i=this.seriesGroups[t];if(isNaN(e))return NaN;var r=this._getXAxisRenderData(t);if(!r)return NaN;var s=r.data.axisStats,a=s.min.valueOf(),n=s.max.valueOf(),o=n-a;if(0==o&&(o=1),e.valueOf()>n||e.valueOf()<a)return NaN;var l=this._getXAxis(t),s="horizontal"==i.orientation?"height":"width",n="horizontal"==i.orientation?"y":"x",o=(e.valueOf()-a)/o,s=r.rect[s]-r.data.padding.left-r.data.padding.right;return(i.polar||i.spider)&&this._renderData[t].polarCoords.isClosedCircle&&(s=r.data.axisSize),this._plotRect[n]+r.data.padding.left+s*(l.flip?1-o:o)},getValueAxisDataPointOffset:function(e,t){var i=this._getValueAxis(t);if(!i)return NaN;var r=this._renderData[t];if(!r)return NaN;var s=1==i.flip,a=r.logBase,t=r.scale,i=r.gbase,r=r.baseOffset;return this._getDataPointOffset(e,i,a,t,r,s)},_getDataPointOffset:function(e,t,i,r,s,a){return isNaN(e)&&(e=t),r=isNaN(i)?(e-t)*r:(le.jqx.log(e,i)-le.jqx.log(t,i))*r,this._isVML&&(r=Math.round(r)),r=a?s+r:s-r},_calcGroupOffsets:function(e,t){for(var i=this.seriesGroups[e];this._renderData.length<e+1;)this._renderData.push({});if(null!=this._renderData[e]&&null!=this._renderData[e].offsets)return this._renderData[e];if(this._isPieGroup(e))return this._calcPieSeriesGroupOffsets(e,t);var r=this._getValueAxis(e);if(!r||!i.series||0==i.series.length)return this._renderData[e];var s=1==r.flip,a=1==r.logarithmicScale,n=r.logarithmicScaleBase||10,o=[],l=-1!=i.type.indexOf("stacked"),h=l&&-1!=i.type.indexOf("100"),d=-1!=i.type.indexOf("range"),u=this._isColumnType(i.type),f=-1!=i.type.indexOf("waterfall"),c=this._getDataLen(e),g=i.baselineValue||r.baselineValue||0;h&&(g=0);var p=this._stats.seriesGroups[e];if(p&&p.isValid){var x=p.hasStackValueReversal;if(x&&(g=0),f&&l){if(x)return;g=p.base}g>p.max&&(g=p.max),g<p.min&&(g=p.min);var m=h||a?p.maxRange:p.max-p.min,r=p.min,x=p.max,_=t.height/(a?p.intervals:m),y=0,y=h?r*x<0?-((m/=2)+g)*_:-g*_:-(g-r)*_;s?y=t.y-y:y+=t.y+t.height;var v=[],b=[],M=[];a&&(m=le.jqx.log(x,n)-le.jqx.log(g,n),l&&(m=p.intervals,g=h?0:r),p.intervals,s||(y=t.y+m/p.intervals*t.height)),y=le.jqx._ptrnd(y);for(var N=r*x<0?t.height/2:t.height,w=[],A=[],S=l&&(u||a),C=[],o=new Array(i.series.length),j=0;j<i.series.length;j++)o[j]=new Array(c);for(var q=0;q<c;q++){!f&&l&&(A=[]);for(j=0;j<i.series.length;j++){!l&&a&&(w=[]);var T=i.series[j],k=T.dataField,D=T.dataFieldFrom,P=T.dataFieldTo,F=T.radiusDataField||T.sizeDataField;o[j][q]={};var I=this._isSerieVisible(e,j);if(-1==i.type.indexOf("candle")&&-1==i.type.indexOf("ohlc")){if(l)for(;A.length<=q;)A.push(0);var O=NaN;d&&(O=this._getDataValueAsNumber(q,D,e),isNaN(O)&&(O=g));var R,D=NaN,D=d?this._getDataValueAsNumber(q,P,e):this._getDataValueAsNumber(q,k,e),F=this._getDataValueAsNumber(q,F,e);if(l&&(A[q]+=I?D:0),I||(D=NaN),isNaN(D)||a&&D<=0)o[j][q]={from:void 0,to:void 0};else{l&&(S?R=g<=D?v:b:D=A[q]);I=d?_*(D-O):_*(D-g);if(l&&S&&(I=C[q]?_*D:(C[q]=!0,_*(D-g))),a){for(;w.length<=q;)w.push({p:{value:0,height:0},n:{value:0,height:0}});var L=d||d?O:g,G=L<D?w[q].p:w[q].n;G.value+=D,h?(D=G.value/(p.psums[q]+p.nsums[q])*100,I=(le.jqx.log(D,n)-p.minPow)*_):(I=le.jqx.log(G.value,n)-le.jqx.log(L,n),I*=_),I-=G.height,G.height+=I}L=y;d&&(V=0,V=a?(le.jqx.log(O,n)-le.jqx.log(g,n))*_:(O-g)*_,L+=s?V:-V),l&&(h&&!a&&(E=p.psums[q]-p.nsums[q],g<D?(I=p.psums[q]/E*N,0!=p.psums[q]&&(I*=D/p.psums[q])):(I=p.nsums[q]/E*N,0!=p.nsums[q]&&(I*=D/p.nsums[q]))),S&&(isNaN(R[q])&&(R[q]=L),L=R[q])),isNaN(M[q])&&(M[q]=0);var E,G=M[q],V=I=Math.abs(I);if(1<=I&&(E=this._isVML?Math.round(I):le.jqx._ptrnd(I)-1,I=.5<Math.abs(I-E)?Math.round(I):E),G+=I-V,l||(G=0),.5<Math.abs(G)&&(0<G?(--I,--G):(I+=1,G+=1)),M[q]=G,j==i.series.length-1&&h){for(var H=0,B=0;B<j;B++)H+=Math.abs(o[B][q].to-o[B][q].from);if((H+=I)<N)if(.5<I)I=le.jqx._ptrnd(I+N-H);else for(B=j-1;0<=B;){if(1<Math.abs(o[B][q].to-o[B][q].from)){o[B][q].from>o[B][q].to&&(o[B][q].from+=N-H);break}B--}}s&&(I*=-1);G=D<g;d&&(G=D<O);D=isNaN(O)?D:{from:O,to:D};G?(S&&(R[q]+=I),o[j][q]={from:L,to:L+I,value:D,valueRadius:F}):(S&&(R[q]-=I),o[j][q]={from:L,to:L-I,value:D,valueRadius:F})}}else{var z,W=["Open","Close","High","Low"];for(z in W){var X="dataField"+W[z];T[X]&&(o[j][q][W[z]]=this._getDataPointOffset(this._getDataValueAsNumber(q,T[X],e),g,a?n:NaN,_,y,s))}}}}u=this._renderData[e];return u.baseOffset=y,u.gbase=g,u.logBase=a?n:NaN,u.scale=_,u.offsets=f?this._applyWaterfall(o,c,e,y,g,a?n:NaN,_,s,l):o,u.xoffsets=this._calculateXOffsets(e,t.width),this._renderData[e]}},_isPercent:function(e){return"string"==typeof e&&0<e.length&&e.indexOf("%")==e.length-1},_calcPieSeriesGroupOffsets:function(e,t){for(var i=this._getDataLen(e),r=this.seriesGroups[e],s=this._renderData[e]={},a=s.offsets=[],n=0;n<r.series.length;n++){var o=r.series[n],l=this._get([o.minAngle,o.startAngle]);(isNaN(l)||l<0||360<l)&&(l=0);var h=this._get([o.maxAngle,o.endAngle]);(isNaN(h)||h<0||360<h)&&(h=360);var d=h-l,u=o.initialAngle||0;u<l&&(u=l),h<u&&(u=h);var f=o.centerOffset||0,c=le.jqx.getNum([o.offsetX,r.offsetX,t.width/2]),g=le.jqx.getNum([o.offsetY,r.offsetY,t.height/2]),h=Math.min(t.width,t.height)/2,p=u,x=o.radius;this._isPercent(x)&&(x=parseFloat(x)/100*h),isNaN(x)&&(x=.4*h);var m=o.innerRadius;this._isPercent(m)&&(m=parseFloat(m)/100*h),(isNaN(m)||x<=m)&&(m=0);var _=o.selectedRadiusChange;this._isPercent(_)&&(_=parseFloat(_)/100*(x-m)),isNaN(_)&&(_=.1*(x-m)),a.push([]);for(var y=0,v=0,b=0;b<i;b++){var M=this._getDataValueAsNumber(b,o.dataField,e);isNaN(M)||!this._isSerieVisible(e,n,b)&&1!=o.hiddenPointsDisplay||(0<M?y+=M:v+=M)}var N=y-v;0==N&&(N=1);for(b=0;b<i;b++){var w,A,S,C,j,q,M=this._getDataValueAsNumber(b,o.dataField,e);isNaN(M)?a[n].push({}):(j=o.displayText||o.displayField,null==(w=this._getDataValue(b,j,e))&&(w=b),A=0,!(q=this._isSerieVisible(e,n,b))&&1!=o.hiddenPointsDisplay||(A=Math.abs(M)/N*d),S=t.x+c,C=t.y+g,j=f,le.isFunction(f)&&(j=f({seriesIndex:n,seriesGroupIndex:e,itemIndex:b})),isNaN(j)&&(j=0),q={key:e+"_"+n+"_"+b,value:M,displayValue:w,x:S,y:C,fromAngle:p,toAngle:p+A,centerOffset:j,innerRadius:m,outerRadius:x,selectedRadiusChange:_,visible:q},a[n].push(q),p+=A)}}return s},_isPointSeriesOnly:function(){for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(-1==t.type.indexOf("line")&&-1==t.type.indexOf("area")&&-1==t.type.indexOf("scatter")&&-1==t.type.indexOf("bubble"))return!1}return!0},_hasColumnSeries:function(){for(var e=["column","ohlc","candlestick","waterfall"],t=0;t<this.seriesGroups.length;t++){var i,r=this.seriesGroups[t];for(i in e)if(-1!=r.type.indexOf(e[i]))return!0}return!1},_alignValuesWithTicks:function(e){var t=this._isPointSeriesOnly(),i=this.seriesGroups[e],r=this._getXAxis(e),t=null==r.valuesOnTicks?t:0!=r.valuesOnTicks;return r.logarithmicScale&&(t=!0),null==e||null==i.valuesOnTicks?t:i.valuesOnTicks},_getYearsDiff:function(e,t){return t.getFullYear()-e.getFullYear()},_getMonthsDiff:function(e,t){return 12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth()},_getDateDiff:function(e,t,i,r){var s=0;switch("year"!=i&&"month"!=i&&(s=t.valueOf()-e.valueOf()),i){case"year":s=this._getYearsDiff(e,t);break;case"month":s=this._getMonthsDiff(e,t);break;case"day":s/=864e5;break;case"hour":s/=36e5;break;case"minute":s/=6e4;break;case"second":s/=1e3}return"year"!=i&&"month"!=i&&0!=r&&(s=le.jqx._rnd(s,1,!0)),s},_getBestDTUnit:function(e,t,i,r,s){for(var a="day",n=t.valueOf()-e.valueOf(),a=n<1e3?"second":n<36e5?"minute":n<864e5?"hour":n<2592e6?"day":n<31104e6?"month":"year",o=[{key:"year",cnt:n/31536e6},{key:"month",cnt:n/2592e6},{key:"day",cnt:n/864e5},{key:"hour",cnt:n/36e5},{key:"minute",cnt:n/6e4},{key:"second",cnt:n/1e3},{key:"millisecond",cnt:n}],l=-1,h=0;h<o.length;h++)if(o[h].key==a){l=h;break}for(var d=-1,u=-1;l<o.length&&!(o[l].cnt/100>r);l++){var f=this._estAxisInterval(e,t,i,r,o[l].key,s),f=this._getDTIntCnt(e,t,f,o[l].key);(-1==d||d<f)&&(d=f,u=l)}return a=o[u].key},_getXAxisStats:function(e,t,i){var r=this._getDataLen(e),s="date"==t.type||"time"==t.type;s&&!this._autoDateFormats&&(this._autoDateFormats||(this._autoDateFormats=[]),(h=this._testXAxisDateFormat())&&this._autoDateFormats.push(h));var a=s?this._castAsDate(t.minValue,t.dateFormat):this._castAsNumber(t.minValue),n=s?this._castAsDate(t.maxValue,t.dateFormat):this._castAsNumber(t.maxValue);this._selectorRange&&this._selectorRange[e]&&(d=this._selectorRange[e].min,isNaN(d)||(a=s?this._castAsDate(d,t.dateFormat):this._castAsNumber(d)),u=this._selectorRange[e].max,isNaN(u)||(n=s?this._castAsDate(u,t.dateFormat):this._castAsNumber(u)));for(var o,l,h=a,d=n,u=null==t.type||"auto"==t.type,a=u||"basic"==t.type,f=0,c=0,g=0;g<r&&t.dataField;g++){var p=this._getDataValue(g,t.dataField,e),p=s?this._castAsDate(p,t.dateFormat):this._castAsNumber(p);isNaN(p)||(s?f++:c++,(isNaN(o)||p<o)&&(o=p),(isNaN(l)||l<=p)&&(l=p))}u&&(!s&&c==r||s&&f==r)&&(a=!1),a&&(o=0,l=Math.max(0,r-1)),isNaN(h)&&(h=o),isNaN(d)&&(d=l),s?(this._isDate(h)||(h=this._isDate(d)?d:new Date),this._isDate(d)||(d=this._isDate(h)?h:new Date)):(isNaN(h)&&(h=0),isNaN(d)&&(d=a?Math.max(0,r-1):h)),null==o&&(o=h),null==l&&(l=d);n=t.rangeSelector;n&&((_=n.minValue||h)&&s&&(_=this._castAsDate(_,n.dateFormat||t.dateFormat)),(b=n.maxValue||d)&&s&&(b=this._castAsDate(b,n.dateFormat||t.rangeSelector)),h<_&&(h=_),d<_&&(d=b),b<h&&(h=_),b<d&&(d=b));var x,m,u=t.unitInterval;s&&(m="hour"==(x=(x=t.baseUnit)||this._getBestDTUnit(h,d,e,i))||"minute"==x||"second"==x||"millisecond"==x);var n=1==t.logarithmicScale,_=t.logarithmicScaleBase;(isNaN(_)||_<=1)&&(_=10);u=t.unitInterval;n?u=1:(isNaN(u)||u<=0)&&(u=this._estAxisInterval(h,d,e,i,x));var y,v,b={min:h,max:d},i=this.seriesGroups[e];return n?(h||(h=1,d&&d<h&&(h=d)),b={min:h,max:d=d||h},y=le.jqx._rnd(le.jqx.log(h,_),1,!1),v=le.jqx._rnd(le.jqx.log(d,_),1,!0),d=Math.pow(_,v),h=Math.pow(_,y)):s||!i.polar&&!i.spider||(h=le.jqx._rnd(h,u,!1),d=le.jqx._rnd(d,u,!0)),{min:h,max:d,logAxis:{enabled:n,base:_,minPow:y,maxPow:v},dsRange:{min:o,max:l},filterRange:b,useIndeces:a,isDateTime:s,isTimeUnit:m,dateTimeUnit:x,interval:u}},_getDefaultDTFormatFn:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e="year"==e||"month"==e||"day"==e?function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()}:function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()+"<br>"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()};return e},_getDTIntCnt:function(e,t,i,r){var s=0,a=new Date(e),n=(n=new Date(t)).valueOf();if(i<=0)return 1;for(;a.valueOf()<n;)"millisecond"==r?a=new Date(a.valueOf()+i):"second"==r?a=new Date(a.valueOf()+1e3*i):"minute"==r?a=new Date(a.valueOf()+6e4*i):"hour"==r?a=new Date(a.valueOf()+6e4*i*24):"day"==r?a.setDate(a.getDate()+i):"month"==r?a.setMonth(a.getMonth()+i):"year"==r&&a.setFullYear(a.getFullYear()+i),s++;return s},_estAxisInterval:function(e,t,i,r,s,a){if(isNaN(e)||isNaN(t))return NaN;var n,o=[1,2,5,10,15,20,50,100,200,500],l=0,h=r/(!isNaN(a)&&0<a?a:50);if(this._renderData&&this._renderData.length>i&&this._renderData[i].xAxis&&!isNaN(this._renderData[i].xAxis.avgWidth)&&(0!=(n=Math.max(1,this._renderData[i].xAxis.avgWidth))&&isNaN(a)&&(h=.9*r/n)),h<=1)return Math.abs(t-e);for(;;){var d=o.length<=l?Math.pow(10,3+l-o.length):o[l];if((this._isDate(e)&&this._isDate(t)?this._getDTIntCnt(e,t,d,s):(t-e)/d)<=h)break;l++}i=this.seriesGroups[i];return(i.spider||i.polar)&&t-e<2*d&&(d=t-e),d},_getPaddingSize:function(e,t,i,r,s,a,n){var o=e.min,l=e.max;e.logAxis.enabled&&(o=e.logAxis.minPow,l=e.logAxis.maxPow);var h=e.interval,e=e.dateTimeUnit;if(s){s=r/Math.max(1,l-o+h)*h;return a?{left:0,right:s}:i?{left:0,right:0}:{left:s/2,right:s/2}}if(i&&!n)return{left:0,right:0};if(this._isDate(o)&&this._isDate(l)){var d,u=this._getDTIntCnt(o,l,Math.min(h,l-o),e);return{left:(d=r/Math.max(2,u))/2,right:d/2}}if(1!=(u=Math.max(1,l-o)))return{left:(d=r/(u+1))/2,right:d/2};r/=4;return{left:r,right:r}},_calculateXOffsets:function(e,t){var i=this.seriesGroups[e],r=this._getXAxis(e),s=[],a=[],n=this._getDataLen(e),o=this._getXAxisStats(e,r,t),l=o.min,h=o.max,d=o.isDateTime,u=o.isTimeUnit,f=this._hasColumnSeries(),c=i.polar||i.spider,g=this._get([i.startAngle,i.minAngle,0]),i=this._get([i.endAngle,i.maxAngle,360]),i=c&&!(1e-4<Math.abs(Math.abs(i-g)-360)),g=this._alignValuesWithTicks(e),p=this._getPaddingSize(o,r,g,t,c,i,f),x=h-l,m=o.filterRange;0==x&&(x=1);var _=t-p.left-p.right;c&&g&&!i&&(p.left=p.right=0);for(var y=-1,v=-1,b=0;b<n;b++){var M,N,w=void 0===r.dataField?b:this._getDataValue(b,r.dataField,e);o.useIndeces?b<m.min||b>m.max?(s.push(NaN),a.push(void 0)):(M=p.left+(b-l)/x*_,1==o.logAxis.enabled&&(N=o.logAxis.base,M=this._jqxPlot.scale(w,{min:l.valueOf(),max:h.valueOf(),type:"logarithmic",base:N},{min:0,max:_,flip:!1})),s.push(le.jqx._ptrnd(M)),a.push(w),-1==y&&(y=b),(-1==v||v<b)&&(v=b)):(w=d?this._castAsDate(w,r.dateFormat):this._castAsNumber(w),isNaN(w)||w<m.min||w>m.max?(s.push(NaN),a.push(void 0)):(M=0,M=1==o.logAxis.enabled?(N=o.logAxis.base,this._jqxPlot.scale(w,{min:l.valueOf(),max:h.valueOf(),type:"logarithmic",base:N},{min:0,max:_,flip:!1})):!d||d&&u?(w-l)*_/x:(w.valueOf()-l.valueOf())/(h.valueOf()-l.valueOf())*_,M=le.jqx._ptrnd(p.left+M),s.push(M),a.push(w),-1==y&&(y=b),(-1==v||v<b)&&(v=b)))}if(1==r.flip)for(b=0;b<s.length;b++)isNaN(s[b])||(s[b]=t-s[b]);(u||d)&&(x=this._getDateDiff(l,h,r.baseUnit),x=le.jqx._rnd(x,1,!1));g=Math.max(1,x),i=_/g;return y==v&&1==g&&(s[y]=p.left+_/2),{axisStats:o,data:s,xvalues:a,first:y,last:v,length:-1==v?0:v-y+1,itemWidth:i,intervalWidth:i*o.interval,rangeLength:x,useIndeces:o.useIndeces,padding:p,axisSize:_}},_getXAxis:function(e){return null==e||this.seriesGroups.length<=e?this.categoryAxis||this.xAxis:this.seriesGroups[e].categoryAxis||this.seriesGroups[e].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(e,t){e=this.seriesGroups[e],t=e.series[t];return 1==t.greyScale||0!=t.greyScale&&(1==e.greyScale||0!=e.greyScale&&1==this.greyScale)},_getSeriesColors:function(e,t,i){var r=this._getSeriesColorsInternal(e,t,i);if(this._isGreyScale(e,t))for(var s in r)r[s]=le.jqx.toGreyScale(r[s]);return r},_getColorFromScheme:function(e,t,i){var r="#000000",s=this.seriesGroups[e],a=s.series[t];if(this._isPieGroup(e))var n=this._getDataLen(e),r=this._getItemColorFromScheme(a.colorScheme||s.colorScheme||this.colorScheme,t*n+i,e,t);else{for(var o=0,l=0;l<=e;l++)for(var h in this.seriesGroups[l].series){if(l==e&&h==t)break;o++}var d=this.colorScheme;if(s.colorScheme&&(d=s.colorScheme,0),null!=d&&""!=d||(d=this.colorSchemes[0].name),!d)return r;for(l=0;l<this.colorSchemes.length;l++){var u=this.colorSchemes[l];if(u.name==d){for(;o>u.colors.length;)o-=u.colors.length,++l>=this.colorSchemes.length&&(l=0),u=this.colorSchemes[l];r=u.colors[o%u.colors.length]}}}return r},_createColorsCache:function(){this._colorsCache={get:function(e){if(this._store[e])return this._store[e]},set:function(e,t){this._size<1e4&&(this._store[e]=t,this._size++)},clear:function(){this._store={},this._size=0},_size:0,_store:{}}},_getSeriesColorsInternal:function(e,t,i){var r=this.seriesGroups[e],s=r.series[t];le.isFunction(s.colorFunction)||"pie"==r.type||"donut"==r.type||(i=NaN);var a=e+"_"+t+"_"+(isNaN(i)?"NaN":i);if(this._colorsCache.get(a))return this._colorsCache.get(a);var n,o={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333",fillColorAlt:"#222222",fillColorAltSelected:"#333333"};if(le.isFunction(s.colorFunction)){var l=isNaN(i)?NaN:this._getDataValue(i,s.dataField,e);if(-1==r.type.indexOf("range")||isNaN(i)||(l={from:this._getDataValue(i,s.dataFieldFrom,e),to:this._getDataValue(i,s.dataFieldTo,e)}),"object"==typeof(n=s.colorFunction(l,i,s,r)))for(var h in n)o[h]=n[h];else o.fillColor=n}else{for(var h in o)s[h]&&(o[h]=s[h]);s.fillColor||s.color?s.fillColor=s.fillColor||s.color:o.fillColor=this._getColorFromScheme(e,t,i)}var d={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},fillColorAlt:{baseColor:"fillColor",adjust:4},fillColorAltSelected:{baseColor:"fillColor",adjust:3},lineColor:{baseColor:"fillColor",adjust:.95},lineColorSelected:{baseColor:"lineColor",adjust:.95},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(h in o)"object"==typeof n&&n[h]||s[h]&&(o[h]=s[h]);for(h in o)"object"==typeof n&&n[h]||s[h]||(o[h]=le.jqx.adjustColor(o[d[h].baseColor],d[h].adjust));return this._colorsCache.set(a,o),o},_getItemColorFromScheme:function(e,t,i,r){null!=e&&""!=e||(e=this.colorSchemes[0].name);for(var s=0;s<this.colorSchemes.length&&e!=this.colorSchemes[s].name;s++);for(var a=0;a<=t;){s==this.colorSchemes.length&&(s=0);var n=this.colorSchemes[s].colors.length;if(!(a+n<=t)){var o=this.colorSchemes[s].colors[t-a];return this._isGreyScale(i,r)&&0==o.indexOf("#")&&(o=le.jqx.toGreyScale(o)),o}a+=n,s++}},getColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e)return this.colorSchemes[t].colors},addColorScheme:function(e,t){for(var i=0;i<this.colorSchemes.length;i++)if(this.colorSchemes[i].name==e)return void(this.colorSchemes[i].colors=t);this.colorSchemes.push({name:e,colors:t})},removeColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e){this.colorSchemes.splice(t,1);break}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(e,t,i,r,s,a){if(null==e)return"";if(this._isObject(e)&&!this._isDate(e)&&!i)return"";if(i){if(!le.isFunction(i))return e.toString();try{return i(e,a,s,r)}catch(e){return e.message}}return this._isNumber(e)?this._formatNumber(e,t):this._isDate(e)?this._formatDate(e,t):t?(t.prefix||"")+e.toString()+(t.sufix||""):e.toString()},_getFormattedValue:function(e,t,i,r,s,a){var n=this.seriesGroups[e],o=n.series[t],l="",h=r,d=(d=s)||(o.formatFunction||n.formatFunction),h=h||(o.formatSettings||n.formatSettings);!o.formatFunction&&o.formatSettings&&(d=void 0);var u={},f=0;for(c in o)0==c.indexOf("dataField")&&(u[c.substring(9).toLowerCase()]=this._getDataValue(i,o[c],e),f++);if(0==f&&(u=this._getDataValue(i,void 0,e)),-1!=n.type.indexOf("waterfall")&&this._isSummary(e,i)&&(u=this._renderData[e].offsets[t][i].value,f=0),d&&le.isFunction(d))try{return d(1==f?u[""]:u,i,o,n)}catch(e){return e.message}if(1==f&&this._isPieGroup(e))return this._formatValue(u[""],h,d,e,t,i);if(0<f){var c,g=0;for(c in u){0<g&&""!=l&&(l+="<br>");var p="dataField"+(0<c.length?c.substring(0,1).toUpperCase()+c.substring(1):""),x=o["displayText"+(0<c.length?c.substring(0,1).toUpperCase()+c.substring(1):"")]||o[p],p=u[c];null!=p&&(p=this._formatValue(p,h,d,e,t,i),l+=!0===a?p:x+": "+p,g++)}}else null!=u&&(l=this._formatValue(u,h,d,e,t,i));return l||""},_isNumberAsString:function(e){if("string"!=typeof e)return!1;e=le.trim(e);for(var t=0;t<e.length;t++){var i=e.charAt(t);if(!("0"<=i&&i<="9"||","==i||"."==i)&&(("-"!=i||0!=t)&&!("("==i&&0==t||")"==i&&t==e.length-1)))return!1}return!0},_castAsDate:function(e,t){if(e instanceof Date&&!isNaN(e))return e;if("string"==typeof e){var i;if(t&&(i=le.jqx.dataFormat.parsedate(e,t),this._isDate(i)))return i;if(this._autoDateFormats)for(var r=0;r<this._autoDateFormats.length;r++)if(i=le.jqx.dataFormat.parsedate(e,this._autoDateFormats[r]),this._isDate(i))return i;t=this._detectDateFormat(e);return t&&(i=le.jqx.dataFormat.parsedate(e,t),this._isDate(i))?(this._autoDateFormats.push(t),i):(i=new Date(e),this._isDate(i)&&-1==e.indexOf(":")&&i.setHours(0,0,0,0),i)}},_castAsNumber:function(e){return e instanceof Date&&!isNaN(e)?e.valueOf():("string"==typeof e&&(this._isNumber(e)?e=parseFloat(e):/[a-zA-Z]/.test(e)||null!=(t=new Date(e))&&(e=t.valueOf())),e);var t},_isNumber:function(e){return"string"==typeof e&&this._isNumberAsString(e)&&(e=parseFloat(e)),"number"==typeof e&&isFinite(e)},_isDate:function(e){return e instanceof Date&&!isNaN(e.getDate())},_isBoolean:function(e){return"boolean"==typeof e},_isObject:function(e){return e&&("object"==typeof e||le.isFunction(e))||!1},_formatDate:function(e,t){var i=e.toString();return t&&(t.dateFormat&&(i=le.jqx.dataFormat.formatDate(e,t.dateFormat)),i=(t.prefix||"")+i+(t.sufix||"")),i},_formatNumber:function(e,t){if(!this._isNumber(e))return e;t=t||{};var i=".",r="",s=this;s.localization&&(i=s.localization.decimalSeparator||s.localization.decimalseparator||i,r=s.localization.thousandsSeparator||s.localization.thousandsseparator||r),t.decimalSeparator&&(i=t.decimalSeparator),t.thousandsSeparator&&(r=t.thousandsSeparator);var a=t.prefix||"",s=t.sufix||"",n=t.decimalPlaces;isNaN(n)&&(n=this._getDecimalPlaces([e],void 0,3));var o=t.negativeWithBrackets||!1,l=e<0;l&&o&&(e*=-1);var h,d=e.toString(),t=Math.pow(10,n),d=(Math.round(e*t)/t).toString();if(isNaN(d)&&(d=""),h=d.lastIndexOf("."),0<n)for(h<0?h=(d+=i).length-1:"."!==i&&(d=d.replace(".",i));d.length-1-h<n;)d+="0";h=-1<(h=d.lastIndexOf(i))?h:d.length;for(var u=d.substring(h),f=0,c=h;0<c;c--,f++)f%3==0&&c!==h&&(!l||1<c||l&&o)&&(u=r+u),u=d.charAt(c-1)+u;return d=u,l&&o&&(d="("+d+")"),a+d+s},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_calculateControlPoints:function(e,t){var i=e[t],r=e[t+1],s=e[t+2],a=e[t+3],n=e[t+4],o=e[t+5],e=Math.sqrt(Math.pow(s-i,2)+Math.pow(a-r,2)),t=e+Math.sqrt(Math.pow(n-s,2)+Math.pow(o-a,2));0==t&&(t=1);e=.4*e/t,t=.4-e;return[s+e*(i-n),a+e*(r-o),s-t*(i-n),a-t*(r-o)]},_getBezierPoints:function(e){for(var t="",i=[],r=[],s=e.split(" "),a=0;a<s.length;a++){var n=s[a].split(",");i.push(parseFloat(n[0])),i.push(parseFloat(n[1])),isNaN(i[i.length-1])||isNaN(i[i.length-2])}var o=i.length;if(o<=1)return"";if(2==o)return t="M"+le.jqx._ptrnd(i[0])+","+le.jqx._ptrnd(i[1])+" L"+le.jqx._ptrnd(i[0]+1)+","+le.jqx._ptrnd(i[1]+1)+" ";for(a=0;a<o-4;a+=2)r=r.concat(this._calculateControlPoints(i,a));for(a=2;a<o-5;a+=2)t+=" C"+le.jqx._ptrnd(r[2*a-2])+","+le.jqx._ptrnd(r[2*a-1])+" "+le.jqx._ptrnd(r[2*a])+","+le.jqx._ptrnd(r[2*a+1])+" "+le.jqx._ptrnd(i[a+2])+","+le.jqx._ptrnd(i[a+3])+" ";return t=o<=4||Math.abs(i[0]-i[2])<3||Math.abs(i[1]-i[3])<3||this._isVML?"M"+le.jqx._ptrnd(i[0])+","+le.jqx._ptrnd(i[1])+" L"+le.jqx._ptrnd(i[2])+","+le.jqx._ptrnd(i[3])+" "+t:"M"+le.jqx._ptrnd(i[0])+","+le.jqx._ptrnd(i[1])+" Q"+le.jqx._ptrnd(r[0])+","+le.jqx._ptrnd(r[1])+" "+le.jqx._ptrnd(i[2])+","+le.jqx._ptrnd(i[3])+" "+t,4<=o&&(Math.abs(i[o-2]-i[o-4])<3||Math.abs(i[o-1]-i[o-3])<3||this._isVML)?t+=" L"+le.jqx._ptrnd(i[o-2])+","+le.jqx._ptrnd(i[o-1])+" ":5<=o&&(t+=" Q"+le.jqx._ptrnd(r[2*o-10])+","+le.jqx._ptrnd(r[2*o-9])+" "+le.jqx._ptrnd(i[o-2])+","+le.jqx._ptrnd(i[o-1])+" "),t},_animTickInt:50,_createAnimationGroup:function(e){this._animGroups||(this._animGroups={}),this._animGroups[e]={animations:[],startTick:NaN}},_startAnimation:function(e){var t=(new Date).getTime();this._animGroups[e].startTick=t,this._runAnimation(),this._enableAnimTimer()},_enqueueAnimation:function(e,t,i,r,s,a,n){r<0&&(r=0),null==n&&(n="easeInOutSine"),this._animGroups[e].animations.push({key:t,properties:i,duration:r,fn:s,context:a,easing:n})},_stopAnimations:function(){clearTimeout(this._animtimer),this._animtimer=void 0,this._animGroups=void 0},_enableAnimTimer:function(){var e;this._animtimer||((e=this)._animtimer=setTimeout(function(){e._runAnimation()},this._animTickInt))},_runAnimation:function(e){if(this._animGroups){var t=(new Date).getTime(),i={};for(f in this._animGroups){for(var r=this._animGroups[f].animations,s=this._animGroups[f].startTick,a=0,n=0;n<r.length;n++){var o=r[n],l=t-s;o.duration>a&&(a=o.duration);var h=0<o.duration?l/o.duration:1,d=h;if(o.easing&&0!=o.duration&&(d=le.easing[o.easing](h,l,0,1,o.duration)),1<h&&(d=h=1),o.fn)o.fn(o.key,o.context,d);else{for(var u={},f=0;f<o.properties.length;f++){var c=o.properties[f],g=0,g=1==h?c.to:d*(c.to-c.from)+c.from;u[c.key]=g}this.renderer.attr(o.key,u)}}t<s+a&&(i[f]={startTick:s,animations:r})}this._animGroups=i,this.renderer instanceof le.jqx.HTML5Renderer&&this.renderer.refresh()}for(var f in this._animtimer=null,this._animGroups){this._enableAnimTimer();break}},_fixCoords:function(e,t){if(!("horizontal"==this.seriesGroups[t].orientation))return e;t=e.x;e.x=e.y,e.y=t+this._plotRect.y-this._plotRect.x;t=e.width;return e.width=e.height,e.height=t,e},getItemCoord:function(e,t,i){var r=this;if(r._isPieGroup(e)&&(!r._isSerieVisible(e,t,i)||!r._renderData||r._renderData.length<=e))return{x:NaN,y:NaN};if(!r._isSerieVisible(e,t)||!r._renderData||r._renderData.length<=e)return{x:NaN,y:NaN};var s,a,n=r.seriesGroups[e],o=n.series[t],l=r._getItemCoord(e,t,i);if(r._isPieGroup(e)){if(isNaN(l.x)||isNaN(l.y)||isNaN(l.fromAngle)||isNaN(l.toAngle))return{x:NaN,y:NaN};var h=this._plotRect,d=l.fromAngle*(Math.PI/180),u=l.toAngle*(Math.PI/180),i=h.x+l.center.x+Math.cos(d)*l.outerRadius,r=h.x+l.center.x+Math.cos(u)*l.outerRadius,d=h.y+l.center.y-Math.sin(d)*l.outerRadius,h=h.y+l.center.y-Math.sin(u)*l.outerRadius,u=Math.min(i,r),i=Math.abs(r-i);return l={x:u,y:u=Math.min(d,h),width:i,height:Math.abs(h-d),center:l.center,centerOffset:l.centerOffset,innerRadius:l.innerRadius,outerRadius:l.outerRadius,selectedRadiusChange:l.selectedRadiusChange,fromAngle:l.fromAngle,toAngle:l.toAngle}}return-1!=n.type.indexOf("column")||-1!=n.type.indexOf("waterfall")?(s=this._getColumnSerieWidthAndOffset(e,t),l.height=Math.abs(l.y.to-l.y.from),l.y=Math.min(l.y.to,l.y.from),l.x+=s.offset,l.width=s.width):-1!=n.type.indexOf("ohlc")||-1!=n.type.indexOf("candlestick")?(s=this._getColumnSerieWidthAndOffset(e,t),u=l.y,t=Math.min(u.Open,u.Close,u.Low,u.High),u=Math.max(u.Open,u.Close,u.Low,u.High),l.height=Math.abs(u-t),l.y=t,l.x+=s.offset,l.width=s.width):-1!=n.type.indexOf("line")||-1!=n.type.indexOf("area")?(l.width=l.height=0,l.y=l.y.to):-1==n.type.indexOf("bubble")&&-1==n.type.indexOf("scatter")||(l.center={x:l.x,y:l.y.to},a=l.y.radius,"circle"!=o.symbolType&&null!=o.symbolType&&(a/=2),l.y=l.y.to,l.radius=a,l.width=2*a,l.height=2*a),l=this._fixCoords(l,e),(n.polar||n.spider)&&(o=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,l.x,l.y),l.x=o.x,l.y=o.y,l.center&&(l.center=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,l.center.x,l.center.y))),-1==n.type.indexOf("bubble")&&-1==n.type.indexOf("scatter")||(l.x-=a,l.y-=a),l},_getItemCoord:function(e,t,i){var r=this.seriesGroups[e];if(!r||!this._renderData)return{x:NaN,y:NaN};if(!r.series[t])return{x:NaN,y:NaN};var s=this._plotRect;if(this._isPieGroup(e)){var a=this._renderData[e].offsets[t][i];if(!a)return{x:NaN,y:NaN};var n,o,r=(a.fromAngle+a.toAngle)/2*(Math.PI/180);return{x:n=s.x+a.x+Math.cos(r)*a.outerRadius,y:o=s.y+a.y-Math.sin(r)*a.outerRadius,center:{x:a.x,y:a.y},centerOffset:a.centerOffset,innerRadius:a.innerRadius,outerRadius:a.outerRadius,selectedRadiusChange:a.selectedRadiusChange,fromAngle:a.fromAngle,toAngle:a.toAngle}}if(n=s.x+this._renderData[e].xoffsets.data[i],o=this._renderData[e].offsets[t][i],isNaN(n)||!o)return{x:NaN,y:NaN};var l,h={};for(l in o)h[l]=o[l];return{x:n,y:h}},getXAxisValue:function(e,t){var i=this.seriesGroups[t];if(i){var r=this._getXAxis(t),s=this._plotRect,a=0,n=NaN,o=this._renderData[0].xoffsets.axisStats,l=0,h=0;if(i.polar||i.spider){if(isNaN(e.x)||isNaN(e.y))return NaN;var d=this._getPolarAxisCoords(t,s);if(le.jqx._ptdist(e.x,e.y,d.x,d.y)>d.r)return NaN;var u=Math.atan2(d.y-e.y,e.x-d.x);(u=Math.PI/2-u)<0&&(u=2*Math.PI+u),n=u*d.r;var f=d.startAngle+Math.PI/2,u=d.endAngle+Math.PI/2,l=f*d.r,h=u*d.r,a=(u-f)*d.r,f=this._getPaddingSize(o,r,r.valuesOnTicks,a,!0,d.isClosedCircle,this._hasColumnSeries());d.isClosedCircle?(a-=f.left+f.right,h-=f.left+f.right):r.valuesOnTicks||(l+=f.left,h-=f.right)}else{if("horizontal"!=i.orientation){if(e<s.x||e>s.x+s.width)return NaN;n=e-s.x,a=s.width}else{if(e<s.y||e>s.y+s.height)return NaN;n=e-s.y,a=s.height}this._renderData[t]&&this._renderData[t].xoffsets&&(a-=(f=this._renderData[t].xoffsets.padding).left+f.right,n-=f.left),h=a}return this._jqxPlot.scale(n,{min:l,max:h},{min:o.min.valueOf(),max:o.max.valueOf(),type:o.logAxis.enabled?"logarithmic":"linear",base:o.logAxis.base,flip:r.flip})}},getValueAxisValue:function(e,t){var i=this.seriesGroups[t];if(i){var r=this._getValueAxis(t),s=this._plotRect,a=0,n=NaN;if(i.polar||i.spider){if(isNaN(e.x)||isNaN(e.y))return NaN;var o=this._getPolarAxisCoords(t,s),n=le.jqx._ptdist(e.x,e.y,o.x,o.y);n=(a=o.r)-n}else if("horizontal"==i.orientation){if(e<s.x||e>s.x+s.width)return NaN;n=e-s.x,a=s.width}else{if(e<s.y||e>s.y+s.height)return NaN;n=e-s.y,a=s.height}t=this._stats.seriesGroups[t];return this._jqxPlot.scale(n,{min:0,max:a},{min:t.min.valueOf(),max:t.max.valueOf(),type:t.logarithmic?"logarithmic":"linear",base:t.logBase,flip:!r.flip})}},_detectDateFormat:function(e,t){var i={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"};t&&(i=le.extend({},i,t));var r=[];for(n in le.isArray(e)?r=e:r.push(e),i)i[n]={format:i[n],count:0};for(var s=0;s<r.length;s++){var a=r[s];if(null!=a&&null!=a)for(var n in i)null!=le.jqx.dataFormat.parsedate(a,i[n].format)&&i[n].count++}var o={key:void 0,count:0};for(n in i)i[n].count>o.count&&(o.key=n,o.count=i[n].count);return o.key?i[o.key].format:""},_testXAxisDateFormat:function(e){var t=this,i=t._getXAxis(e),r=t._getDataLen(e),s={};if(t.localization&&t.localization.patterns)for(var a in t.localization.patterns)s["local_"+a]=t.localization.patterns[a];for(var n=[],o=0;o<r&&o<10;o++){var l=t._getDataValue(o,i.dataField,e);null!=l&&null!=l&&n.push(l)}return t._detectDateFormat(n,s)}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleApi:!0,getItemsCount:function(e,t){var i=this.seriesGroups[e];if(!this._isSerieVisible(e,t))return 0;var r=this._renderData;return i&&r&&!(r.length<=e)&&i.series[t]?r[e].offsets[t].length:0},getXAxisRect:function(e){var t=this._renderData;if(t&&!(t.length<=e)&&t[e].xAxis)return t[e].xAxis.rect},getXAxisLabels:function(e){var t=[],i=this._renderData;if(!i||i.length<=e)return t;if(!(i=i[e].xAxis))return t;var r=this.seriesGroups[e];if(r.polar||r.spider){for(var s=0;s<i.polarLabels.length;s++){var a=i.polarLabels[s];t.push({offset:{x:a.x,y:a.y},value:a.value})}return t}for(var n=this._getXAxis(e),o=this.getXAxisRect(e),l="top"==n.position||"right"==n.position,h="horizontal"==r.orientation,s=0;s<i.data.length;s++)h?t.push({offset:{x:o.x+(l?0:o.width),y:o.y+i.data.data[s]},value:i.data.xvalues[s]}):t.push({offset:{x:o.x+i.data.data[s],y:o.y+(l?o.height:0)},value:i.data.xvalues[s]});return t},getValueAxisRect:function(e){var t=this._renderData;if(t&&!(t.length<=e)&&t[e].valueAxis)return t[e].valueAxis.rect},getValueAxisLabels:function(e){var t=[],i=this._renderData;if(!i||i.length<=e)return t;if(!(i=i[e].valueAxis))return t;var r=this._getValueAxis(e),s="top"==r.position||"right"==r.position,e=this.seriesGroups[e],a="horizontal"==e.orientation;if(e.polar||e.spider){for(var n=0;n<i.polarLabels.length;n++){var o=i.polarLabels[n];t.push({offset:{x:o.x,y:o.y},value:o.value})}return t}for(n=0;n<i.items.length;n++)a?t.push({offset:{x:i.itemOffsets[i.items[n]].x+i.itemWidth/2,y:i.rect.y+(s?i.rect.height:0)},value:i.items[n]}):t.push({offset:{x:i.rect.x+i.rect.width,y:i.itemOffsets[i.items[n]].y+i.itemWidth/2},value:i.items[n]});return t},getPlotAreaRect:function(){return this._plotRect},getRect:function(){return this._rect},showToolTip:function(e,t,i,r,s){var a=this.getItemCoord(e,t,i);isNaN(a.x)||isNaN(a.y)||this._startTooltipTimer(e,t,i,a.x,a.y,r,s)},hideToolTip:function(e){isNaN(e)&&(e=0);var t=this;t._cancelTooltipTimer(),setTimeout(function(){t._hideToolTip(0)},e)}})}(jqxBaseFramework),function(m){m.extend(m.jqx._jqxChart.prototype,{_moduleRangeSelector:!0,_renderXAxisRangeSelector:function(e,t){var i=this;i._isTouchDevice=m.jqx.mobile.isTouchDevice();var r=i.seriesGroups[e],s=i._getXAxis(e),a=s?s.rangeSelector:void 0;if(i._isSelectorRefresh||(a&&a.renderTo?a.renderTo:i.host).find(".rangeSelector").remove(),!s||0==s.visible||"spider"==r.type)return!1;if(!i._isGroupVisible(e))return!1;if(!a)return!1;var n="horizontal"==r.orientation;a.renderTo&&(n=!1),i.rtl&&(s.flip=!0);var o=n?this.host.height():this.host.width();o-=4;var l=this._getXAxisStats(e,s,o),h=s.position;return a.renderTo&&a.position&&(h=a.position),this._isSelectorRefresh||(r=a.renderTo,i=m("<div class='rangeSelector jqx-disableselect' style='position: absolute; background-color: transparent;' onselectstart='return false;'></div>").appendTo(r||this.renderer.getContainer()),r?(i.css({width:r.width(),height:r.height()}),t.width=r.width(),t.height=r.height()):((a=this.host.coord()).top=0,a.left=0,r=this._selectorGetSize(s),n?(i.css("left",a.left+1+t.x+("right"!=h?-r:t.width)),i.css("top",a.top),i.css("height",o),i.css("width",r),t.height=r):(i.css("left",a.left+1),i.css("top",a.top+t.y+("top"!=h?t.height:-r)),i.css("height",r),i.css("width",o))),this._refreshSelector(e,s,l,i,t,n)),!(this._isSelectorRefresh=!1)},_refreshSelector:function(e,t,i,r,s,a){var n={},o=t.rangeSelector;this.seriesGroups[e];for(c in o)n[c]=o[c];delete n.padding;var l=n.minValue,h=n.maxValue;null==l&&(l=Math.min(i.min.valueOf(),i.dsRange.min.valueOf())),null==h&&(h=Math.max(i.max.valueOf(),i.dsRange.max.valueOf())),this._isDate(i.min)&&(l=new Date(l)),this._isDate(i.max)&&(h=new Date(h));var d=t.position;o.renderTo&&o.position&&(d=o.position),n.dataField=t.dataField,delete n.rangeSelector,n.type=t.type,n.baseUnit=o.baseUnit||t.baseUnit,n.minValue=l,n.maxValue=h,n.flip=t.flip,n.position=d;var u=2,i=2,l=2,h=2;o.renderTo||(u=a?0:s.x,i=a?0:this._rect.width-s.x-s.width,l=a?s.y:5,h=a?this._paddedRect.height-this._plotRect.height:5);for(var s=null!=(s=o.padding)||o.renderTo?{left:s&&s.left?s.left:u,top:s&&s.top?s.top:l,right:s&&s.right?s.right:i,bottom:s&&s.bottom?s.bottom:h}:{left:u,top:l,right:i,bottom:h},f=t.rangeSelector.dataField,c=0;null==f&&c<this.seriesGroups.length;c++)for(var g=0;null==f&&g<this.seriesGroups[c].series.length;g++)f=this.seriesGroups[c].series[g].dataField;h={padding:s,_isRangeSelectorInstance:!0,title:o.title||"",description:o.description||"",titlePadding:o.titlePadding,colorScheme:o.colorScheme||this.colorScheme,backgroundColor:o.backgroundColor||this.backgroundColor||"transparent",backgroundImage:o.backgroundImage||"",showBorderLine:o.showBorderLine||!!o.renderTo,borderLineWidth:o.borderLineWidth||this.borderLineWidth,borderLineColor:o.borderLineColor||this.borderLineColor,rtl:o.rtl||this.rtl,greyScale:o.greyScale||this.greyScale,renderEngine:this.renderEngine,showLegend:!1,enableAnimations:!1,enableEvents:!1,showToolTips:!1,source:this.source,xAxis:n,seriesGroups:[{orientation:a?"horizontal":"vertical",valueAxis:{visible:!1},type:t.rangeSelector.serieType||"area",skipOverlappingPoints:m.jqx.getByPriority([t.rangeSelector.skipOverlappingPoints,!0]),columnSeriesOverlap:m.jqx.getByPriority([t.rangeSelector.columnSeriesOverlap,!1]),columnsGapPercent:m.jqx.getByPriority([t.rangeSelector.columnsGapPercent,25]),seriesGapPercent:m.jqx.getByPriority([t.rangeSelector.seriesGapPercent,25]),series:[{dataField:f,opacity:.8,lineWidth:1}]}]};t.rangeSelector.seriesGroups&&(h.seriesGroups=t.rangeSelector.seriesGroups),t.rangeSelector.valueAxis&&(h.valueAxis=t.rangeSelector.valueAxis),h.showBorderLine||(h.borderLineWidth=1,h.borderLineColor=m.jqx.getByPriority([this.backgroundColor,this.background,"#FFFFFF"]),h.showBorderLine=!0);var p=this;p._supressBindingRefresh=!0,r.empty(),r.jqxChart(h),p._rangeSelectorInstances[e]=r,p._supressBindingRefresh=!1,r.on(p._getEvent("mousemove"),function(){p._unselect(),p._hideToolTip()});s=r.jqxChart("getInstance");s._plotRect&&((t=s._paddedRect).height=s._plotRect.height,a||"top"!=d?a&&(h=s._renderData[0].xAxis.rect.width,t.width-=h,"right"!=d&&(t.x+=h)):t.y+=s._renderData[0].xAxis.rect.height,p._createSliderElements(e,r,t,o),p.removeHandler(m(document),p._getEvent("mousemove")+"."+this.element.id,p._onSliderMouseMove),p.removeHandler(m(document),p._getEvent("mousedown"),p._onSliderMouseDown),p.removeHandler(m(document),p._getEvent("mouseup")+"."+this.element.id,p._onSliderMouseUp),p.addHandler(m(document),p._getEvent("mousemove")+"."+this.element.id,p._onSliderMouseMove,{self:this,groupIndex:e,renderTo:r,swapXY:a}),p.addHandler(m(r),p._getEvent("mousedown"),this._onSliderMouseDown,{self:this,groupIndex:e,renderTo:r,swapXY:a}),p.addHandler(m(document),p._getEvent("mouseup")+"."+this.element.id,p._onSliderMouseUp,{element:this.element.id,self:this,groupIndex:e,renderTo:r,swapXY:a}))},_createSliderElements:function(e,t,i,r){t.find(".slider").remove();var s=r.selectedRangeColor||"blue",a=m.jqx.getByPriority([r.selectedRangeOpacity,.1]),n=m.jqx.getByPriority([r.unselectedRangeOpacity,.5]),o=r.unselectedRangeColor||"white",l=r.rangeLineColor||"grey",r=m("<div class='slider' style='position: absolute;'></div>");for(r.css({background:s,opacity:a,left:i.x,top:i.y,width:i.width,height:i.height}),r.appendTo(t);this._sliders.length<e+1;)this._sliders.push({});o="<div class='slider' style='position: absolute;  background: "+o+"; opacity: "+n+";'></div>",n="<div class='slider' style='position: absolute; background:"+l+"; opacity: "+n+";'></div>",l="<div class='slider jqx-rc-all' style='position: absolute; background: white; border-style: solid; border-width: 1px; border-color: "+l+";'></div>";this._sliders[e]={element:r,host:t,_sliderInitialAbsoluteRect:{x:r.coord().left,y:r.coord().top,width:i.width,height:i.height},_hostInitialAbsolutePos:{x:t.coord().left,y:t.coord().top},getRect:function(){return{x:this.host.coord().left-this._hostInitialAbsolutePos.x+this._sliderInitialAbsoluteRect.x,y:this.host.coord().top-this._hostInitialAbsolutePos.y+this._sliderInitialAbsoluteRect.y,width:this._sliderInitialAbsoluteRect.width,height:this._sliderInitialAbsoluteRect.height}},rect:i,left:m(o),right:m(o),leftTop:m(n),rightTop:m(n),leftBorder:m(n),leftBar:m(l),rightBorder:m(n),rightBar:m(l)},this._sliders[e].left.appendTo(t),this._sliders[e].right.appendTo(t),this._sliders[e].leftTop.appendTo(t),this._sliders[e].rightTop.appendTo(t),this._sliders[e].leftBorder.appendTo(t),this._sliders[e].rightBorder.appendTo(t),this._sliders[e].leftBar.appendTo(t),this._sliders[e].rightBar.appendTo(t);n=this._renderData[e].xAxis.data.axisStats,l=n.min.valueOf(),t=n.max.valueOf(),n=this._valueToOffset(e,l),l=this._valueToOffset(e,t);l<n&&(t=l,l=n,n=t),"horizontal"!=this.seriesGroups[e].orientation?r.css({left:Math.round(i.x+n),top:i.y,width:Math.round(l-n),height:i.height}):r.css({top:Math.round(i.y+n),left:i.x,height:Math.round(l-n),width:i.width}),this._setSliderPositions(e,n,l)},_setSliderPositions:function(e,t,i){var r=this.seriesGroups[e],s=this._getXAxis(e),a=s.rangeSelector,n="horizontal"==r.orientation;s.rangeSelector.renderTo&&(n=!1);var o=s.position;a.renderTo&&a.position&&(o=a.position);var l=this._sliders[e],h=n?"top":"left",d=n?"left":"top",u=n?"height":"width",r=n?"width":"height",s=n?"y":"x",a=n?"x":"y",e=l.rect;l.startOffset=t,l.endOffset=i,l.left.css(h,e[s]),l.left.css(d,e[a]),l.left.css(u,t),l.left.css(r,e[r]),l.right.css(h,e[s]+i),l.right.css(d,e[a]),l.right.css(u,e[u]-i+1),l.right.css(r,e[r]),l.leftTop.css(h,e[s]),l.leftTop.css(d,e[a]+(n&&"right"==o||!n&&"top"!=o?0:e[r])),l.leftTop.css(u,t),l.leftTop.css(r,1),l.rightTop.css(h,e[s]+i),l.rightTop.css(d,e[a]+(n&&"right"==o||!n&&"top"!=o?0:e[r])),l.rightTop.css(u,e[u]-i+1),l.rightTop.css(r,1),l.leftBorder.css(h,e[s]+t),l.leftBorder.css(d,e[a]),l.leftBorder.css(u,1),l.leftBorder.css(r,e[r]);o=e[r]/4;20<o&&(o=20),o<3&&(o=3),l.leftBar.css(h,e[s]+t-3),l.leftBar.css(d,e[a]+e[r]/2-o/2),l.leftBar.css(u,5),l.leftBar.css(r,o),l.rightBorder.css(h,e[s]+i),l.rightBorder.css(d,e[a]),l.rightBorder.css(u,1),l.rightBorder.css(r,e[r]),l.rightBar.css(h,e[s]+i-3),l.rightBar.css(d,e[a]+e[r]/2-o/2),l.rightBar.css(u,5),l.rightBar.css(r,o)},_resizeState:{},_onSliderMouseDown:function(e){e.stopImmediatePropagation(),e.stopPropagation();var t=e.data.self;t._sliders[e.data.groupIndex]&&(null==t._resizeState.state&&t._testAndSetReadyResize(e),"ready"==t._resizeState.state&&((m.jqx._rangeSelectorTarget=t)._resizeState.state="resizing"))},_valueToOffset:function(e,t){var i=this.seriesGroups[e],r=this._sliders[e],s=r.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats,a=s.min.valueOf(),s=s.max.valueOf()-a;0==s&&(s=1);e=this._getXAxis(e),i="horizontal"==i.orientation?"height":"width",s=(t.valueOf()-a)/s;return r.getRect()[i]*(e.flip?1-s:s)},_offsetToValue:function(e,t){var i=this._sliders[e],r=this.seriesGroups[e],s=this._getXAxis(e),a="horizontal"==r.orientation?"height":"width",n=i.getRect()[a];0==n&&(n=1);e=i.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats,r=e.min.valueOf(),a=e.max.valueOf(),i=t/n*(a-r)+r;return 1==s.flip&&(i=a-t/n*(a-r)),this._isDate(e.min)||this._isDate(e.max)?i=new Date(i):(null!=s.dataField&&!e.useIndeces||(i=Math.round(i)),i<e.min&&(i=e.min),i>e.max&&(i=e.max)),i},_onSliderMouseUp:function(e){var t=m.jqx._rangeSelectorTarget;if(t){var i=e.data.groupIndex,r=e.data.swapXY,s=t._sliders[i];if(s&&"resizing"==t._resizeState.state){e.stopImmediatePropagation(),e.stopPropagation(),t._resizeState={},t.host.css("cursor","default");var a=r?"top":"left",n=r?"y":"x",e=s.element.coord()[a],a=e+(r?s.element.height():s.element.width()),r=s.getRect(),o=t._offsetToValue(i,e-r[n]),l=t._offsetToValue(i,a-r[n]);!s.host.jqxChart("getInstance")._renderData[0].xAxis.data.axisStats.isTimeUnit&&864e5<l.valueOf()-o.valueOf()&&(o.setHours(0,0,0,0),l.setDate(l.getDate()+1),l.setHours(0,0,0,0));var h=t._getXAxis(i);h.flip&&(u=o,o=l,l=u);for(var d=0;d<t.seriesGroups.length;d++)t._getXAxis(d)==h&&(t._selectorRange[d]={min:o,max:l});t._isSelectorRefresh=!0;var u=t.enableAnimations;t._raiseEvent("rangeSelectionChanging",{instance:t,minValue:o,maxValue:l}),t.enableAnimations=!1,t.update(),t.enableAnimations=u,t._raiseEvent("rangeSelectionChanged",{instance:t,minValue:o,maxValue:l})}}},_onSliderMouseMove:function(e){var t,i,r,s,a,n,o,l,h,d,u,f,c=e.data.self,g=(e.data.renderTo,e.data.groupIndex),p=c._sliders[g],x=e.data.swapXY;p&&(t=p.getRect(),f=p.element,i=m.jqx.position(e),r=f.coord(),s=x?"top":"left",a=x?"height":"width",u=x?"y":"x","resizing"==c._resizeState.state?(e.stopImmediatePropagation(),e.stopPropagation(),"left"==c._resizeState.side?(d=Math.round(i[s]-r[s]),n=t[u],r[s]+d>=n&&r[s]+d<=n+t[a]&&(h=parseInt(f.css(s)),o=Math.max(2,(x?f.height():f.width())-d),f.css(a,o),f.css(s,h+d))):"right"==c._resizeState.side?(l=x?f.height():f.width(),d=Math.round(i[s]-r[s]-l),n=t[u],r[s]+l+d>=n&&r[s]+d+l<=n+t[a]&&(o=Math.max(2,l+d),f.css(a,o))):"move"==c._resizeState.side&&(l=x?f.height():f.width(),h=parseInt(f.css(s)),d=Math.round(i[s]-c._resizeState.startPos),r[s]+d>=t[u]&&r[s]+d+l<=t[u]+t[a]&&(c._resizeState.startPos=i[s],f.css(s,h+d))),f=(u=parseInt(f.css(s))-p.rect[u])+(x?f.height():f.width()),c._setSliderPositions(g,u,f)):c._testAndSetReadyResize(e))},_testAndSetReadyResize:function(e){var t=e.data.self,i=e.data.renderTo,r=e.data.groupIndex,s=t._sliders[r],a=e.data.swapXY,n=s.getRect(),o=s.element,l=m.jqx.position(e),h=o.coord(),d=a?"left":"top",r=a?"top":"left",s=a?"width":"height",e=t._isTouchDevice?30:5;l[d]>=h[d]&&l[d]<=h[d]+n[s]?Math.abs(l[r]-h[r])<=e?(i.css("cursor",a?"row-resize":"col-resize"),t._resizeState={state:"ready",side:"left"}):Math.abs(l[r]-h[r]-(a?o.height():o.width()))<=e?(i.css("cursor",a?"row-resize":"col-resize"),t._resizeState={state:"ready",side:"right"}):l[r]+e>h[r]&&l[r]-e<h[r]+(a?o.height():o.width())?(i.css("cursor","pointer"),t._resizeState={state:"ready",side:"move",startPos:l[r]}):(i.css("cursor","default"),t._resizeState={}):(i.css("cursor","default"),t._resizeState={})},_selectorGetSize:function(e){return e.rangeSelector.renderTo?0:e.rangeSelector.size||this._paddedRect.height/3}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleAnnotations:!0,_renderAnnotation:function(e,t,i){var r=this.seriesGroups[e],s=this.renderer;if(!isNaN(e)){var a=this._get([this.getXAxisDataPointOffset(t.xValue,e),t.x]),n=this._get([this.getValueAxisDataPointOffset(t.yValue,e),t.y]),o=this._get([this.getXAxisDataPointOffset(t.xValue2,e),t.x2]),l=this._get([this.getValueAxisDataPointOffset(t.yValue2,e),t.y2]);if((r.polar||r.spider)&&(n=!(e=this.getPolarDataPointOffset(t.xValue,t.yValue,e))||isNaN(e.x)||isNaN(e.y)?(a=t.x,t.y):(a=e.x,e.y)),isNaN(n)||isNaN(a))return!1;"horizontal"==r.orientation&&(u=a,a=n,n=u,u=o,o=l,l=u),t.offset&&(isNaN(t.offset.x)||(a+=t.offset.x,o+=t.offset.x),isNaN(t.offset.y)||(n+=t.offset.y,l+=t.offset.y));var h,d,r=this._get([t.width,o-a]),u=this._get([t.height,l-n]);switch(t.type){case"rect":h=s.rect(a,n,r,u);break;case"circle":h=s.rect(a,n,t.radius);break;case"line":h=s.rect(a,n,o,l);break;case"path":h=s.path(t.path)}s.attr(h,{fill:t.fillColor,stroke:t.lineColor,opacity:this._get([t.fillOpacity,t.opacity]),"stroke-opacity":this._get([t.lineOpacity,t.opacity]),"stroke-width":t.lineWidth,"stroke-dasharray":t.dashStyle||"none"}),t.text&&(o=u=0,(l=t.text).offset&&(isNaN(l.offset.x)||(u+=l.offset.x),isNaN(l.offset.y)||(o+=l.offset.y)),d=s.text(l.value,a+u,n+o,NaN,NaN,l.angle,{},!0===l.clip,l.horizontalAlignment||"center",l.verticalAlignment||"center",l.rotationPoint||"centermiddle"),s.attr(d,{fill:l.fillColor,stroke:l.lineColor,class:l.class}));for(var f=["click","mouseenter","mouseleave"],c=this,g=0;g<f.length;g++){var p=this._getEvent(f[g])||f[g];h&&this.renderer.addHandler(h,p,function(){c._raiseAnnotationEvent(t,p)}),d&&this.renderer.addHandler(d,p,function(){c._raiseAnnotationEvent(t,p)})}}},_raiseAnnotationEvent:function(e,t){this._raiseEvent("annotation_"+t,{annotation:e})}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleWaterfall:!0,_isSummary:function(e,t){for(var i=this.seriesGroups[e],r=0;r<i.series.length;r++)if(void 0!==i.series[r].summary)if(void 0!==this._getDataValue(t,i.series[r].summary,e))return!0;return!1},_applyWaterfall:function(e,t,i,r,s,a,n,o,l){var h=this.seriesGroups[i];if(0==e.length)return e;for(var d=r,u={},f=[],c=void 0,g=[],p=0;p<h.series.length;p++)g.push(this._isSerieVisible(i,p));for(var x={},m=0;m<t;m++)for(var _,y,v,b,M=r,N=0,w=this._isSummary(i,m),p=0;p<e.length;p++)g[p]&&(_=0,w?(_=M==r?s:0,e[p][m].value=u[p],e[p][m].summary=!0,c=e[p][m].value<_,o&&(c=!c),b=0,b=isNaN(a)?this._getDataPointOffsetDiff(e[p][m].value,_,_,NaN,n,r,o):this._getDataPointOffsetDiff(e[p][m].value+N,0==N?s:N,_||s,a,n,r,o),e[p][m].to=M+(c?b:-b),e[p][m].from=M,l&&(N+=e[p][m].value,M=e[p][m].to)):(y=l?-1:p,isNaN(e[p][m].value)||(void 0===x[y]&&(_=s,x[y]=!0),c=e[p][m].value<_,o&&(c=!c),b=v=NaN,v=l?d:0==m?r:e[p][f[p]].to,b=0,b=isNaN(a)?this._getDataPointOffsetDiff(e[p][m].value,_,_,NaN,n,r,o):this._getDataPointOffsetDiff(e[p][m].value+(isNaN(u[y])?0:u[y]),isNaN(u[y])?s:u[y],_||s,a,n,v,o),e[p][m].to=d=v+(c?b:-b),e[p][m].from=v,isNaN(u[y])?u[y]=e[p][m].value:u[y]+=e[p][m].value,-1==y&&(isNaN(u[p])?u[p]=e[p][m].value:u[p]+=e[p][m].value),l||(f[p]=m))));return e}})}(jqxBaseFramework);