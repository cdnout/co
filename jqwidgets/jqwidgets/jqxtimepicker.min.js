!function(o){o.jqx.jqxWidget("jqxTimePicker","",{}),o.extend(o.jqx._jqxTimePicker.prototype,{defineInstance:function(){var e={autoSwitchToMinutes:!1,footer:!1,footerTemplate:null,format:"12-hour",minuteInterval:1,selection:"hour",value:new Date,view:"portrait",width:500,height:500,animation:!0,disabled:!1,readonly:!1,unfocusable:!1,name:"",_events:["change"]};return this===o.jqx._jqxTimePicker.prototype||o.extend(!0,this,e),e},createInstance:function(){this._createTimePicker()},_createTimePicker:function(){this.widgetID=this.element.id;var e=this,t='<div class="'+e.toThemeProperty("jqx-container jqx-rc-all jqx-widget")+'"><div class="'+e.toThemeProperty("jqx-header jqx-unselectable jqx-widget-header")+'"><div class="'+e.toThemeProperty("jqx-hour-minute-container")+'"><div class ="'+e.toThemeProperty("jqx-hour-container")+'"></div><div>:</div><div class="'+e.toThemeProperty("jqx-minute-container")+'"></div></div><div class="'+e.toThemeProperty("jqx-am-pm-container")+'"><div class="'+e.toThemeProperty("jqx-am-container")+'">AM</div><div class="'+e.toThemeProperty("jqx-pm-container")+'">PM</div></div></div><div class="'+e.toThemeProperty("jqx-main-container jqx-widget-content")+'"><div class="'+e.toThemeProperty("jqx-svg-container jqx-item")+'"><div class="'+e.toThemeProperty("jqx-svg-picker jqx-fill-state-normal jqx-item")+'"></div></div><div class="'+e.toThemeProperty("jqx-footer")+'"></div></div><input name="'+this.name+'" type="hidden"></div>';e.element.innerHTML=t,e.element.className+=e.toThemeProperty("jqx-time-picker jqx-rc-all jqx-widget"),e.element.setAttribute("view",e.view),e._container=e.element.getElementsByTagName("div")[0],e._header=e.element.getElementsByClassName("jqx-header")[0],e._hourMinuteContainer=e.element.getElementsByClassName("jqx-hour-minute-container")[0],e._hourContainer=e.element.getElementsByClassName("jqx-hour-container")[0],e._minuteContainer=e.element.getElementsByClassName("jqx-minute-container")[0],e._ampmContainer=e.element.getElementsByClassName("jqx-am-pm-container")[0],e._amContainer=e.element.getElementsByClassName("jqx-am-container")[0],e._pmContainer=e.element.getElementsByClassName("jqx-pm-container")[0],e._main=e.element.getElementsByClassName("jqx-main-container")[0],e._svgContainer=e.element.getElementsByClassName("jqx-svg-container")[0],e._picker=e.element.getElementsByClassName("jqx-svg-picker")[0],e._footer=e.element.getElementsByClassName("jqx-footer")[0],e._hiddenInput=e.element.getElementsByTagName("input")[0],e.footer&&e.element.setAttribute("footer",""),e.readonly&&e.element.setAttribute("readonly",""),e.disabled&&e.element.setAttribute("disabled",""),e.coerce=!0,e.min=0,e._drawMin="0",e.startAngle=-270,e.endAngle=90,e._angleDifference=e.endAngle-e.startAngle,e.ticksVisibility="none",e._tickIntervalHandler={},e._tickIntervalHandler.labelsSize={},e._distance={majorTickDistance:0,minorTickDistance:0,labelDistance:10},e._measurements={},o(e.element).css({width:e.width,height:e.height}),o.jqx.utilities.resize(e.host,function(){e._resizeHandler()}),e._validateInitialPropertyValues(),e._applyInitialSettings(),e._isVisible()?(e._setPickerSize(),o(e._picker).jqxDraw(),e._draw=o(e._picker).jqxDraw("getInstance"),e._getMeasurements(),e._getAngleRangeCoefficient(),e._renderSVG(),e._setFocusable(),e._addEventHandlers()):e._renderingSuspended=!0},_getAngleRangeCoefficient:function(){var e=this;e._angleRangeCoefficient=e._angleDifference/e._range},_getAngleByValue:function(e,t,n){var a=this;!1!==t&&a.logarithmicScale&&(e=Math.log10(e));e=(e-a._drawMin)*a._angleRangeCoefficient,e=a.inverted?a.startAngle+e:a.endAngle-e;return n?e:e*Math.PI/180+Math.PI/2},_addGaugeTicksAndLabels:function(){var e,t,a=this,n=Math.max(a._tickIntervalHandler.labelsSize.minLabelSize,a._tickIntervalHandler.labelsSize.maxLabelSize),i=a._majorTicksInterval,r=a._minorTicksInterval,o={},l=a._distance,s=a._measurements.radius,d=s-l.majorTickDistance,u=s-l.minorTickDistance,c="none"!==a.ticksVisibility&&!1!==a._plotTicks?(e=function(e){a._drawTick(e,d,"major")},function(e){a._drawTick(a._getAngleByValue(e,!0),u,"minor")}):(e=function(){},function(){}),m="none"!==a.labelsVisibility&&!1!==a._plotLabels?function(e,t,n){a._drawLabel(e,t,l.labelDistance,n)}:function(){},_=a.inverted?(t=a.startAngle,a.endAngle):(t=a.endAngle,a.startAngle),h=a._getAngleByValue(a._drawMin,!1);e(h),o[a._drawMin]=!0,m(h,a.min,!1);var g,s=a._drawMin-a._drawMin%i;0<=a._drawMin&&(s+=i);for(var v=s;v>=a._drawMin;v-=r)g=v;for(e(h=a._getAngleByValue(s,!1)),o[s]=!0,2*Math.PI*a._measurements.innerRadius*(this._getAngleDifference(t,a._getAngleByValue(s,!1,!0))/360)>n&&m(h,a._getActualValue(s),s<a._drawMax),v=s+i;v<a._drawMax-i;v+=i)e(h=a._getAngleByValue(v,!1)),o[v]=!0,m(h,a._getActualValue(v),!0);if(void 0===o[v]&&v<=a._drawMax&&(e(h=a._getAngleByValue(v,!1)),o[v]=!0,2*Math.PI*a._measurements.innerRadius*(this._getAngleDifference(_,a._getAngleByValue(v,!1,!0))/360)>=n&&m(h,a._getActualValue(v),!0),a._normalizedStartAngle!==a.endAngle&&(e(h=a._getAngleByValue(a._drawMax,!1)),o[a._drawMax]=!0,2*Math.PI*a._measurements.innerRadius*(this._getAngleDifference(_,t)/360)>=n&&m(h,a.max,!1))),a.logarithmicScale)this.drawGaugeLogarithmicScaleMinorTicks(o,i,c);else for(var p=g;p<a._drawMax;p+=r)o[p]||c(p)},_getAngleDifference:function(e,t){e=Math.abs(t-e)%360;return 180<e?360-e:e},_getActualValue:function(e){return this.logarithmicScale?Math.pow(10,e):e},_computeArrowBodyPoints:function(e,t,n,a){var i=Math.sin(t),r=Math.cos(t),o=e-n*r+a*i,l=e+n*i+a*r,t=e+n*r+a*i,a=e-n*i+a*r,i="M "+(e+n*r)+","+(e-n*i)+" L "+(e-n*r)+","+(e+n*i)+" L "+o+","+l+" "+t+","+a;return this._headCenter={x:(o+t)/2,y:(l+a)/2},i},_documentMoveHandler:function(e){this._dragging&&this._changeSelection(e,!0)},_documentUpHandler:function(){var e=this;e._dragging&&(e._inInnerCircle=!1,e._dragging=!1,e.autoSwitchToMinutes&&"hour"===e.selection&&(e.animation?(o(e._picker).addClass("animate"),setTimeout(function(){e.selection="minute",e._changeToMinuteSelection()},250),setTimeout(function(){o(e._picker).removeClass("animate")},550)):(e.selection="minute",e._changeToMinuteSelection())))},_drawArrow:function(t,n,e){var a,i,r=this,o="hour"===r.selection,l="12-hour"===r.format,s=r._oldTimePart;delete r._oldTimePart,void 0===n&&(o?(n=r.value.getHours(),l&&12<n&&(n-=12)):n=r.value.getMinutes()),void 0!==s&&!e&&r.animation?!o||l?(o?(a=.2,n%=i=12,s%=i):(a=1,i=60),(l=n-s)<0&&(l+=i),(o=s-n)<0&&(o+=i),o<l&&(a*=-1),r._animationFrameId=requestAnimationFrame(function e(){s+=a,(s=parseFloat((s%i).toFixed(1)))<0&&(s+=i),r._drawArrowSVG(t,s),s!==n%i&&(r._animationFrameId=requestAnimationFrame(e))})):r._animate24HourView(s,n):r._drawArrowSVG(t,n)},_animate24HourView:function(n,a){var i=this,r=.2;i._inInnerCircle=!1;var e=0===n||12<n,t=0===a||12<a;if(e!=t){if(n=e?Math.abs(n-12):(n+12)%24,i._inInnerCircle=t,i._drawArrowSVG(!0,n),n===a)return}else i._inInnerCircle=t;var o=n,e=a;i._inInnerCircle&&(0===e&&o<18?e=12:0===o&&e<18&&(o=12));t=e-o,e=o-e;t<0&&(t+=12),e<0&&(e+=12),e<t&&(r*=-1),i._animationFrameId=requestAnimationFrame(function(){!function e(t){(i._inInnerCircle=t)?((n=parseFloat((n+r).toFixed(1)))<0?n+=24:n<1&&(n+=12),12!==n&&24!==n||(n=0)):(12!==(n+=r)&&(n=parseFloat((n%12).toFixed(1))),n<=0&&(n+=12)),i._drawArrowSVG(!0,n),n!==a?i._animationFrameId=requestAnimationFrame(function(){e(t)}):i._inInnerCircle=!1}(i._inInnerCircle)})},_drawArrowSVG:function(e,t){var n=this,a=n._measurements,i=n._getAngleByValue(t),a=n._inInnerCircle?n._computeArrowBodyPoints(a.radius,i,1,a.innerRadius-n._largestLabelSize/2-45):n._computeArrowBodyPoints(a.radius,i,1,a.innerRadius-n._largestLabelSize/2);e?(n._arrow.setAttribute("d",a),n._head.setAttribute("cx",n._headCenter.x),n._head.setAttribute("cy",n._headCenter.y),n._head.setAttribute("r",n._largestLabelSize),n._headRect=n._head.getBoundingClientRect(),t%1==0&&n._highlightLabel(t)):(n._arrow=n._draw.path(a,{class:n.toThemeProperty("jqx-needle jqx-widget-header")}),n._head=n._draw.circle(n._headCenter.x,n._headCenter.y,n._largestLabelSize,{class:n.toThemeProperty("jqx-needle-central-circle jqx-widget-header")}),n._headRect=n._head.getBoundingClientRect())},_drawLabel:function(e,t,n){var a=this,i=a._measurements,r=i.radius,o={class:a.toThemeProperty("jqx-label jqx-unselectable jqx-item"),"font-size":i.fontSize,"font-family":i.fontFamily,"font-weight":i.fontWeight,"font-style":i.fontStyle};"hour"===a.selection?a._plotInnerCircle?0<t?t+=12:t="00":0===t&&(t=12):1===t.toString().length&&(t="0"+t);var l=a._draw.measureText(t,0,o),i=r-n-a._largestLabelSize/2,n=r+i*Math.sin(e),e=r+i*Math.cos(e);a._draw.text(t,Math.round(n)-l.width/2,Math.round(e)-l.height/2,l.width,l.height,0,o).setAttribute("value",parseFloat(t))},_getCenterCoordinates:function(){var e=this._picker.getBoundingClientRect(),t=this._measurements.radius,n=document.body.scrollLeft||document.documentElement.scrollLeft,a=document.body.scrollTop||document.documentElement.scrollTop;return{x:e.left+n+t,y:e.top+a+t}},_headerClickHandler:function(e){var t,n=this;if(!n.disabled&&!n.readonly)switch(e.target){case n._hourContainer:"hour"!==n.selection&&(n.selection="hour",n._changeToHourSelection());break;case n._minuteContainer:"minute"!==n.selection&&(n.selection="minute",n._changeToMinuteSelection());break;case n._amContainer:o(n._amContainer).hasClass("jqx-selected")||(n._selectAmPm("am"),t=new Date(n.value.getTime()),n.value.setHours(n.value.getHours()-12),n._hiddenInput.value=n.value,n._raiseEvent("0",{value:n.value,oldValue:t}));break;case n._pmContainer:o(n._pmContainer).hasClass("jqx-selected")||(n._selectAmPm("pm"),t=new Date(n.value.getTime()),n.value.setHours(n.value.getHours()+12),n._hiddenInput.value=n.value,n._raiseEvent("0",{value:n.value,oldValue:t}))}},_highlightLabel:function(e){var t,n=this;if(n._highlightedLabel){if(parseFloat(n._highlightedLabel.getAttribute("value"))===e)return;-1<n._highlightedLabel.className.baseVal.indexOf(n.toThemeProperty("jqx-selected"))&&(a=function(e,t){t=new RegExp("\\s?"+t+"\\s?","gm");return e.replace(t,"")}(n._highlightedLabel.className.baseVal,n.toThemeProperty("jqx-selected")),n._highlightedLabel.className.baseVal=a),n._highlightedLabel=void 0}"hour"===n.selection?(void 0===e&&(e=n.value.getHours()),"12-hour"===n.format&&(0===e?e=12:12<e&&(e-=12)),t=e):(void 0===e&&(e=n.value.getMinutes()),60===(t=5*Math.round(e/5))&&(t=0));var a=n._picker.querySelector('.jqx-label[value="'+t+'"]');a&&(t===e||n._overlapsLabel(a))&&((n._highlightedLabel=a).className.baseVal+=" "+n.toThemeProperty("jqx-selected"))},_isVisible:function(){var e=this.host[0];return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},_getMeasurements:function(){var e,t,n,a=this,i=a._measurements,r=document.createElement("div");r.className="jqx-label",r.style.position="absolute",r.style.visibility="hidden",a._svgContainer.appendChild(r),"hour"===a.selection?(t="1",o="23",a.max=12,a._drawMax="12",a._range=12):(t="00",o="55",a.max=60,a._drawMax="60",a._range=60),r.innerHTML=t,e=r.offsetWidth,n=r.offsetHeight,r.innerHTML=o,t=r.offsetWidth,o=r.offsetHeight,a._largestLabelSize=Math.max(e,n,t,o),a._tickIntervalHandler.labelsSize.minLabelSize=n,a._tickIntervalHandler.labelsSize.maxLabelSize=o;var o=window.getComputedStyle(r);i.fontSize=o.fontSize,i.fontFamily=o.fontFamily,i.fontWeight=o.fontWeight,i.fontStyle=o.fontStyle,a._svgContainer.removeChild(r)},_renderHours:function(){var e=this;e._highlightedLabel=void 0,e._majorTicksInterval=1,e._addGaugeTicksAndLabels(),"24-hour"===e.format&&(e._plotInnerCircle=!0,e._distance.labelDistance=55,e._addGaugeTicksAndLabels(),e._plotInnerCircle=!1,e._distance.labelDistance=10)},_renderMinutes:function(){this._highlightedLabel=void 0,this._majorTicksInterval=5,this._addGaugeTicksAndLabels()},_renderSVG:function(){var e,t=this;t._isVisible()&&!t._renderingSuspended?(t._centralCircle=t._draw.circle(t._measurements.radius,t._measurements.radius,4,{class:t.toThemeProperty("jqx-needle-central-circle jqx-widget-header")}),"hour"===t.selection&&"24-hour"===t.format&&(0===t.value.getHours()||12<t.value.getHours())&&(t._inInnerCircle=!0),t._drawArrow(!1),t._inInnerCircle=!1,"hour"===t.selection?(t.interval=1,t._renderHours(),e=t.value.getHours(),"12-hour"===t.format&&12<e&&(e-=12),t._highlightLabel(e)):(t.interval=t.minuteInterval,t._renderMinutes(),t._highlightLabel(t.value.getMinutes()))):t._renderingSuspended=!0},_selectAmPm:function(e){var t=this;"am"===e?(t._ampm="am",o(t._pmContainer).removeClass(t.toThemeProperty("jqx-selected")),o(t._amContainer).addClass(t.toThemeProperty("jqx-selected"))):(t._ampm="pm",o(t._amContainer).removeClass(t.toThemeProperty("jqx-selected")),o(t._pmContainer).addClass(t.toThemeProperty("jqx-selected")))},_setFocusable:function(){var e=this;if(e.disabled||e.unfocusable)return e._hourContainer.removeAttribute("tabindex"),e._minuteContainer.removeAttribute("tabindex"),e._amContainer.removeAttribute("tabindex"),e._pmContainer.removeAttribute("tabindex"),void e._picker.removeAttribute("tabindex");var t=0<e.tabIndex?e.tabIndex:0;e._hourContainer.tabIndex=t,e._minuteContainer.tabIndex=t,e._amContainer.tabIndex=t,e._pmContainer.tabIndex=t,e._picker.tabIndex=t},_setPickerSize:function(){var e=this,t=e._svgContainer.offsetWidth,n=e._svgContainer.offsetHeight,n=.9*Math.min(t,n);void 0!==e._pickerSize&&e._pickerSize!==n?e._sizeChanged=!0:e._sizeChanged=!1,e._pickerSize=n,e._measurements.radius=n/2,e._measurements.innerRadius=e._measurements.radius-10,n+="px",e._picker.style.width=n,e._picker.style.height=n},refresh:function(e){!0!==e&&this.render()},setHours:function(e){var t=this;if(null==e||isNaN(e)&&0==Object.keys(e).length)throw"The setHours method required a parameter. Its type should be number.";(e=24===e?0:Math.max(0,Math.min(e,23)))<12?t._selectAmPm("am"):t._selectAmPm("pm"),"12-hour"===t.format&&(0===e?e=12:12<e&&(e-=12)),t._updateHours(e,arguments[1]),"hour"===t.selection&&(t._inInnerCircle="24-hour"===t.format&&(0===e||12<e),t._drawArrow(!0,e,arguments[2]),t.animation||(t._inInnerCircle=!1))},setMinutes:function(e){if(null==e||isNaN(e)&&0==Object.keys(e).length)throw"The setMinutes method required a parameter. Its type should be number.";e=60===e?0:Math.max(0,Math.min(e,59)),this._updateMinutes(e),"minute"===this.selection&&this._drawArrow(!0,e,arguments[1])},propertyChangedHandler:function(e,t,n,a){if(n!=a||a instanceof Object)switch(t){case"disabled":e.disabled?(e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e.element.setAttribute("disabled","")):(e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.element.removeAttribute("disabled")),e._setFocusable();break;case"footer":case"view":e._resizeHandler();break;case"footerTemplate":e._validateFooterTemplate();break;case"format":var i=e.value.getHours();"12-hour"===a?(e._ampmContainer.removeClass("jqx-hidden"),e.value.getHours()<12?e._selectAmPm("am"):e._selectAmPm("pm"),0===i?i=12:12<i&&(i-=12)):e._ampmContainer.addClass("jqx-hidden"),e._hourContainer.innerHTML=i,"hour"===e.selection&&(e._draw.clear(),e._renderSVG());break;case"minuteInterval":i=Math.max(1,Math.min(a,60));i!==a&&(e.minuteInterval=i),"minute"===e.selection&&(e.interval=i);break;case"selection":"hour"===a?e._changeToHourSelection():e._changeToMinuteSelection();break;case"value":e._oldValue=n,e._validateValue();a=e.value.getHours()===n.getHours(),n=e.value.getMinutes()===n.getMinutes();a&&n||(n?e.setHours(e.value.getHours()):(a||e.setHours(e.value.getHours(),!0),e.setMinutes(e.value.getMinutes()))),delete e._oldValue}},_applyInitialSettings:function(){var e=this,t=e.value,n=t.getHours(),t=t.getMinutes();"12-hour"===e.format?n<12?(e._ampm="am",e._amContainer.className+=" "+e.toThemeProperty("jqx-selected"),0===n&&(n=12)):(e._ampm="pm",e._pmContainer.className+=" "+e.toThemeProperty("jqx-selected"),12<n&&(n-=12)):e._ampmContainer.className+=" "+e.toThemeProperty("jqx-hidden"),1===(t=t.toString()).length&&(t="0"+t),e._hourContainer.innerHTML=n,e._minuteContainer.innerHTML=t,"hour"===e.selection?e._hourContainer.className+=" "+e.toThemeProperty("jqx-selected"):e._minuteContainer.className+=" "+e.toThemeProperty("jqx-selected")},_getValueByAngle:function(e,t){for(var n,a=this,i=a.inverted?(n=e,a._normalizedStartAngle):(n=a.endAngle,e);n<i;)n+=360;if(e=(n-i)/a._angleDifference*a._range+parseFloat(a._drawMin),a.logarithmicScale){if(a.customInterval)return parseFloat(Math.pow(10,this.getCoercedValue(e,!0)).toFixed(12));e=Math.pow(10,e)}return t&&!a.coerce?Math.round(e):this._getCoercedValue(e,!1)},_getCoercedValue:function(e,t,n){var a=this;if(!a.coerce)return e;var i=!a.logarithmicScale,r=parseFloat(a.min),o=parseFloat(a.max),l=e-r,s=l%parseFloat(a.interval);if(0==s)return e;var d=parseFloat((l-s).toFixed(12)),s=d+parseFloat(a.interval);if(a.max-a.min<=parseFloat(a.interval)&&i)return r+(o-r)/2<=e?o:r;if(Math.abs(l-d)<Math.abs(l-s))return d+r;s+=r;return o<s?d+r:s},_changeSelection:function(e,t){var n=this,a=e.pageX,i=e.pageY,r=n._getCenterCoordinates(),o=Math.sqrt(Math.pow(r.x-a,2)+Math.pow(r.y-i,2));if(n._measurements.center=r,"mousedown"===e.type){if(o>n._measurements.radius)return void e.stopPropagation();n._dragging=!0}"24-hour"===n.format&&"hour"===n.selection&&o<n._measurements.radius-50?n._inInnerCircle=!0:n._inInnerCircle=!1;r=-1*Math.atan2(i-r.y,a-r.x)*180/Math.PI;r<0&&(r+=360),n._angle=r;r=n._getValueByAngle(n._angle);"hour"===n.selection?("24-hour"===n.format&&n._inInnerCircle?0!==r&&12!==r?r+=12:r=0:0===r&&(r=12),n._updateHours(r)):(60===r&&(r=0),n._updateMinutes(r)),void 0!==n._oldTimePart&&(cancelAnimationFrame(n._animationFrameId),n._drawArrow(!0,r,t))},_changeToHourSelection:function(){var e=this,t=e._centralCircle.parentElement||e._centralCircle.parentNode;cancelAnimationFrame(e._animationFrameId),e.interval=1,o(e._hourContainer).addClass(e.toThemeProperty("jqx-selected")),o(e._minuteContainer).removeClass(e.toThemeProperty("jqx-selected")),t.removeChild(e._centralCircle),t.removeChild(e._arrow),t.removeChild(e._head),e._getMeasurements(),e._getAngleRangeCoefficient(),e._draw.clear(),t.appendChild(e._centralCircle),t.appendChild(e._arrow),t.appendChild(e._head),e._renderHours(),"24-hour"===e.format&&(0===e.value.getHours()||12<e.value.getHours())&&(e._inInnerCircle=!0),e._drawArrow(!0,void 0,!0),e._inInnerCircle=!1},_changeToMinuteSelection:function(){var e=this,t=e._centralCircle.parentElement||e._centralCircle.parentNode;e._inInnerCircle=!1,cancelAnimationFrame(e._animationFrameId),e.interval=e.minuteInterval,o(e._hourContainer).removeClass(e.toThemeProperty("jqx-selected")),o(e._minuteContainer).addClass(e.toThemeProperty("jqx-selected")),t.removeChild(e._centralCircle),t.removeChild(e._arrow),t.removeChild(e._head),e._getMeasurements(),e._getAngleRangeCoefficient(),e._draw.clear(),t.appendChild(e._centralCircle),t.appendChild(e._arrow),t.appendChild(e._head),e._renderMinutes(),e._drawArrow(!0,void 0,!0)},_overlapsLabel:function(e){var t=e.getBoundingClientRect(),e=this._headRect;return!(t.right-10<e.left||t.left+10>e.right||t.bottom-10<e.top||t.top+10>e.bottom)},_parseDateString:function(e,t){var n=e.indexOf("Date("),a=e.indexOf(")"),i=e;if(-1!==n&&-1!==a){if(""===(i=(i=e.slice(n+5,a)).replace(/'/g,"").replace(/"/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,"")).trim())return new Date;if(new RegExp(/(^(\d+)(\s*,\s*\d+)+$)/g).test(i))return(i=(i=i.replace(/\s/g,"")).split(",")).map(function(e,t){i[t]=parseInt(e)}),i.unshift(null),i=new(Function.prototype.bind.apply(Date,i))}if(""===i.trim())return t;if(!isNaN(i))return new Date(parseInt(i,10));try{i=new Date(i)}catch(e){i=t}return isNaN(i.getTime())?t:i},_updateHours:function(e,t){var n=this,a=e;"12-hour"===n.format?"am"===n._ampm?12===a&&(a=0):a<12&&(a+=12):a=e;var i=void 0!==n._oldValue?n._oldValue:new Date(n.value.getTime()),r=i.getHours();a!==r?(n._oldTimePart=r,void 0===n._oldValue&&n.value.setHours(a),n._hourContainer.innerHTML=e,!0!==t&&(n._hiddenInput.value=n.value,n._raiseEvent("0",{value:n.value,oldValue:i}))):delete n._oldTimePart},_updateMinutes:function(e){var t=this,n=void 0!==t._oldValue?t._oldValue:new Date(t.value.getTime()),a=n.getMinutes();e!==a?(t._oldTimePart=a,void 0===t._oldValue&&t.value.setMinutes(e),1===(e=e.toString()).length&&(e="0"+e),t._minuteContainer.innerHTML=e,t._hiddenInput.value=t.value,t._raiseEvent("0",{value:t.value,oldValue:n})):delete t._oldTimePart},_validateFooterTemplate:function(){var e=this,t=e.footerTemplate,n=window.navigator.userAgent,n=-1<n.indexOf("MSIE")||-1<n.indexOf("NET");if(null===t||n)e._footer.innerHTML="";else{if(t instanceof HTMLTemplateElement?a=t:"string"==typeof t&&((a=document.getElementById(t))instanceof HTMLTemplateElement||(a=void 0)),void 0===a)return e.footerTemplate=null,void(e._footer.innerHTML="");var a=document.importNode(a.content,!0);e._footer.appendChild(a)}},_validateInitialPropertyValues:function(){this._validateFooterTemplate(),this.minuteInterval=Math.max(1,Math.min(this.minuteInterval,60)),this._validateValue()},_validateValue:function(){var e,t=this,n=t.value,a=void 0!==t._oldValue?this._oldValue:new Date;n instanceof Date||("string"==typeof n?/^\d{1,2}:\d{1,2}$/.test(n)?(e=n.split(":"),t.value=new Date(a.getFullYear(),a.getMonth(),a.getDate(),parseFloat(e[0]),parseFloat(e[1]))):t.value=t._parseDateString(n,a):t.value=a)},destroy:function(){var e=this;e._removeEventHandlers(),e._draw.clear(),e.host.removeData(),e.host.removeClass(),e.host.remove(),delete e.element,delete e.host},_keydownHandler:function(e){var t,n,a,i,r=this;r._dragging||(t=r.enableShadowDOM&&r.shadowRoot.activeElement||document.activeElement,n=e.key,!r._header.contains(t)||"Enter"!==n&&" "!==n?t!==r._picker||e.altKey||("ArrowRight"===n||"ArrowUp"===n?a=1:"ArrowLeft"!==n&&"ArrowDown"!==n||(a=-1),a&&(e.preventDefault(),"hour"===r.selection?(0===(i=r.value.getHours())&&-1===a?i=23:23===i&&1===a?i=0:i+=a,"12-hour"===r.format&&(12<=i&&o(r._amContainer).hasClass("jqx-selected")?i-=12:i<12&&o(r._pmContainer).hasClass("jqx-selected")&&(i+=12)),r.setHours(i,void 0,!0)):(60<=(i=r.value.getMinutes())+(a*=r.minuteInterval)?i=0:i<-1*a?i=60%a==0?60+a:60-60%a:i+=a,r.setMinutes(i,!0)))):(e.preventDefault(),r._headerClickHandler({target:t})))},_resizeHandler:function(){var e=this,t=!1;e._isVisible()?(t=!(e._renderingSuspended=!1),e._getMeasurements(),e._getAngleRangeCoefficient(),e._setPickerSize(),e._sizeChanged||t?(e._draw.clear(),e._renderSVG(),e._sizeChanged=!1,e._draw.refresh()):(e._headRect=e._head.getBoundingClientRect(),e._highlightLabel())):e._renderingSuspended=!0},_pickerDownHandler:function(e){this.disabled||this.readonly||!jqx.mobile.isTouchDevice()&&1!==e.which||this._changeSelection(e)},_pickerMoveHandler:function(e){},_addEventHandlers:function(){var e=this;e.addHandler(o(e.element),"keydown.timepicker"+e.widgetID,e._keydownHandler.bind(this)),e.addHandler(o(e.element),"resize.timepicker"+e.widgetID,e._resizeHandler.bind(this)),e.addHandler(o(e._header),"click.timepicker"+e.widgetID,e._headerClickHandler.bind(this)),e.addHandler(o(e._picker),"mousedown.timepicker"+e.widgetID,e._pickerDownHandler.bind(this)),e.addHandler(o(document),"mousemove.timepicker"+e.widgetID,e._documentMoveHandler.bind(this)),e.addHandler(o(document),"mouseup.timepicker"+e.widgetID,e._documentUpHandler.bind(this))},_removeEventHandlers:function(){var e=this;e.removeHandler(o(e.element),"keydown.timepicker"+e.widgetID),e.removeHandler(o(e.element),"resize.timepicker"+e.widgetID),e.removeHandler(o(e._header),"click.timepicker"+e.widgetID),e.removeHandler(o(e._picker),"mousedown.timepicker"+e.widgetID),e.removeHandler(o(e._picker),"mousemove.timepicker"+e.widgetID),e.removeHandler(o(document),"mousemove.timepicker"+e.widgetID),e.removeHandler(o(document),"mouseup.timepicker"+e.widgetID)},_raiseEvent:function(e,t){var n,e=this._events[e],a=new o.Event(e);a.owner=this,a.args=t;try{n=this.host.trigger(a)}catch(e){}return n},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e}})}(jqxBaseFramework);