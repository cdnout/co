!function(le){le.jqx.jqxWidget("jqxChart","",{}),le.extend(le.jqx._jqxChart.prototype,{defineInstance:function(){return le.extend(!0,this,this._defaultSettings),this._createColorsCache(),this._defaultSettings},_defaultSettings:{title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},valueAxis:null,renderEngine:"",enableAnimations:!0,enableAxisTextAnimation:!1,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:!0,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:!0,legendLayout:null,enabled:!0,colorScheme:"scheme01",animationDuration:500,showToolTips:!0,showToolTipsOnAllSeries:!1,toolTipShowDelay:300,toolTipDelay:500,toolTipHideDelay:4e3,toolTipMoveDuration:300,toolTipFormatFunction:null,toolTipAlignment:"dataPoint",localization:null,columnSeriesOverlap:!1,rtl:!1,legendPosition:null,greyScale:!1,axisPadding:5,enableCrosshairs:!1,crosshairsColor:"#BCBCBC",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:!0,_itemsToggleState:[],_isToggleRefresh:!1,_isSelectorRefresh:!1,_sliders:[],_selectorRange:[],_rangeSelectorInstances:{},_resizeState:{},renderer:null,_isRangeSelectorInstance:!1,drawBefore:null,draw:null,_renderData:{},enableSampling:!0},_defaultLineColor:"#BCBCBC",_touchEvents:{mousedown:le.jqx.mobile.getTouchEventName("touchstart"),click:le.jqx.mobile.getTouchEventName("touchstart"),mouseup:le.jqx.mobile.getTouchEventName("touchend"),mousemove:le.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},destroy:function(){this.host.remove()},_jqxPlot:null,createInstance:function(e){if(!le.jqx.dataAdapter)throw"jqxdata.js is not loaded";var a=this;a._refreshOnDownloadComlete(),a._isTouchDevice=le.jqx.mobile.isTouchDevice(),a._jqxPlot||(a._jqxPlot=new jqxPlot),a.addHandler(a.host,a._getEvent("mousemove"),function(e){var t,i,s;0!=a.enabled&&(a._isRangeSelectorInstance||a.host.css("cursor","default"),i=e.pageX||e.clientX||e.screenX,s=e.pageY||e.clientY||e.screenY,t=a.host.offset(),a._isTouchDevice&&(i=(e=le.jqx.position(e)).left,s=e.top),i-=t.left,s-=t.top,a.onmousemove(i,s))}),a.addHandler(a.host,a._getEvent("mouseleave"),function(e){var t,i,s;0!=a.enabled&&(t=a._mouseX,i=a._mouseY,(s=a._plotRect)&&t>=s.x&&t<=s.x+s.width&&i>=s.y&&i<=s.y+s.height||(a._cancelTooltipTimer(),a._hideToolTip(0),a._unselect()))}),a.addHandler(a.host,"click",function(i){var e,t,s,r;0!=a.enabled&&(s=i.pageX||i.clientX||i.screenX,r=i.pageY||i.clientY||i.screenY,e=a.host.offset(),a._isTouchDevice&&(s=(t=le.jqx.position(i)).left,r=t.top),s-=e.left,r-=e.top,a._mouseX=s,a._mouseY=r,!isNaN(a._lastClickTs)&&(new Date).valueOf()-a._lastClickTs<100||(this._hostClickTimer=setTimeout(function(){var e,t;a._isTouchDevice||(a._cancelTooltipTimer(),a._hideToolTip(),a._unselect()),a._pointMarker&&a._pointMarker.element&&(t=(e=a.seriesGroups[a._pointMarker.gidx]).series[a._pointMarker.sidx],i.stopImmediatePropagation(),a._raiseItemEvent("click",e,t,a._pointMarker.iidx))},100)))});var t,i=a.element.style;i&&(t=!1,null!=i.width&&(t|=-1!=i.width.toString().indexOf("%")),null!=i.height&&(t|=-1!=i.height.toString().indexOf("%")),t&&le.jqx.utilities.resize(this.host,function(){a.timer&&clearTimeout(a.timer);a.timer=setTimeout(function(){var e=a.enableAnimations;a.enableAnimations=!1,a.refresh(),a.enableAnimations=e},1)},!1,!0))},_refreshOnDownloadComlete:function(){var e,t=this,i=this.source;i instanceof le.jqx.dataAdapter&&(null!=(e=i._options)&&(null==e||e.autoBind)||(i.autoSync=!1,i.dataBind()),e=this.element.id,0==i.records.length?(i.unbindDownloadComplete(e),i.bindDownloadComplete(e,function(){t.ready&&t.ready(),t.refresh()})):t.ready&&t.ready(),i.unbindBindingUpdate(e),i.bindBindingUpdate(e,function(){t._supressBindingRefresh||t.refresh()}))},propertyChangedHandler:function(e,t,i,s){null!=this.isInitialized&&0!=this.isInitialized&&("source"==t&&this._refreshOnDownloadComlete(),this.refresh())},_initRenderer:function(e){if(!le.jqx.createRenderer)throw"Please include jqxdraw.js";return le.jqx.createRenderer(this,e)},_internalRefresh:function(){var e,t,i=this;le.jqx.isHidden(i.host)||(i._stopAnimations(),i.renderer&&(i._isToggleRefresh||i._isUpdate)||(i._hideToolTip(0),i._isVML=!1,i.host.empty(),i._measureDiv=void 0,i._initRenderer(i.host)),(e=i.renderer)&&(t=e.getRect(),i._render({x:1,y:1,width:t.width,height:t.height}),this._raiseEvent("refreshBegin",{instance:this}),e instanceof le.jqx.HTML5Renderer&&e.refresh(),i._isUpdate=!1,this._raiseEvent("refreshEnd",{instance:this})))},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)},saveAsPDF:function(e,t,i){return this._saveAsImage("pdf",e,t,i)},_saveAsImage:function(e,t,i,s){for(var r=!1,a=0;a<this.seriesGroups.length&&!r;a++){var n=this._getXAxis(a);n&&n.rangeSelector&&(r=!0)}return le.jqx._widgetToImage(this,e,t,i,s,r?this._selectorSaveAsImageCallback:void 0)},_selectorSaveAsImageCallback:function(e,t){for(var i=e,s=0;s<i.seriesGroups.length;s++){var r=i._getXAxis(s);if(r&&r.rangeSelector&&!r.rangeSelector.renderTo){var a=i._rangeSelectorInstances[s];if(a){var n=a.jqxChart("getInstance"),o=(n.renderEngine,n.renderer.getRect()),l=n.renderer.getContainer().find("canvas")[0].getContext("2d"),h=i._sliders[s],d="horizontal"==i.seriesGroups[s].orientation,f=d?"height":"width",u=d?"width":"height",g=d?"y":"x",c=d?"x":"y",m={};m[g]=h.startOffset+h.rect[g],m[c]=h.rect[c],m[f]=h.endOffset-h.startOffset,m[u]=h.rect[u];var u=r.rangeSelector.colorSelectedRange||"blue",r=(r.rangeSelector.colorUnselectedRange,r.rangeSelector.colorRangeLine||"grey"),_=[];_.push(n.renderer.rect(m.x,m.y,m.width,m.height,{fill:u,opacity:.1})),d?(_.push(n.renderer.line(le.jqx._ptrnd(h.rect.x+h.rect.width),le.jqx._ptrnd(h.rect.y),le.jqx._ptrnd(h.rect.x+h.rect.width),le.jqx._ptrnd(m.y),{stroke:r,opacity:.5})),_.push(n.renderer.line(le.jqx._ptrnd(h.rect.x+h.rect.width),le.jqx._ptrnd(m.y+m.height),le.jqx._ptrnd(h.rect.x+h.rect.width),le.jqx._ptrnd(h.rect.y+h.rect.height),{stroke:r,opacity:.5})),_.push(n.renderer.line(le.jqx._ptrnd(h.rect.x),le.jqx._ptrnd(m.y),le.jqx._ptrnd(h.rect.x+h.rect.width),le.jqx._ptrnd(m.y),{stroke:r,opacity:.5})),_.push(n.renderer.line(le.jqx._ptrnd(h.rect.x),le.jqx._ptrnd(m.y+m.height),le.jqx._ptrnd(h.rect.x+h.rect.width),le.jqx._ptrnd(m.y+m.height),{stroke:r,opacity:.5}))):(_.push(n.renderer.line(le.jqx._ptrnd(h.rect.x),le.jqx._ptrnd(h.rect.y),le.jqx._ptrnd(m.x),le.jqx._ptrnd(h.rect.y),{stroke:r,opacity:.5})),_.push(n.renderer.line(le.jqx._ptrnd(m.x+m.width),le.jqx._ptrnd(h.rect.y),le.jqx._ptrnd(h.rect.x+h.rect.width),le.jqx._ptrnd(h.rect.y),{stroke:r,opacity:.5})),_.push(n.renderer.line(le.jqx._ptrnd(m.x),le.jqx._ptrnd(h.rect.y),le.jqx._ptrnd(m.x),le.jqx._ptrnd(h.rect.y+h.rect.height),{stroke:r,opacity:.5})),_.push(n.renderer.line(le.jqx._ptrnd(m.x+m.width),le.jqx._ptrnd(h.rect.y),le.jqx._ptrnd(m.x+m.width),le.jqx._ptrnd(h.rect.y+h.rect.height),{stroke:r,opacity:.5}))),n.renderer.refresh();l=l.getImageData(o.x,o.y,o.width,o.height);t.getContext("2d").putImageData(l,parseInt(a.css("left")),parseInt(a.css("top")),1,1,o.width,o.height);for(var p=0;p<_.length;p++)n.renderer.removeElement(_[p]);n.renderer.refresh()}}}return!0},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=!0,this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut","candlestick","ohlc","waterfall","stackedwaterfall"],clear:function(){var e,t=this;for(e in t._defaultSettings)t[e]=t._defaultSettings[e];t.title="",t.description="",t.refresh()},_validateSeriesGroups:function(){if(!le.isArray(this.seriesGroups))throw"Invalid property: 'seriesGroups' property is required and must be a valid array.";for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(!t.type)throw"Invalid property: Each series group must have a valid 'type' property.";if(!le.isArray(t.series))throw"Invalid property: Each series group must have a 'series' property which must be a valid array."}},_render:function(e){var t=this,i=t.renderer;t._validateSeriesGroups(),t._colorsCache.clear(),!t._isToggleRefresh&&t._isUpdate&&t._renderData&&t._renderDataClone(),t._renderData=[],i.clear(),t._unselect(),t._hideToolTip(0);var s=t.backgroundImage;null==s||""==s?t.host.css({"background-image":""}):t.host.css({"background-image":-1!=s.indexOf("(")?s:"url('"+s+"')"}),t._rect=e;var r=t.padding||{left:5,top:5,right:5,bottom:5},a=i.createClipRect(e),n=i.beginGroup();i.setClip(n,a);a=i.rect(e.x,e.y,e.width-2,e.height-2);null==s||""==s?i.attr(a,{fill:t.backgroundColor||t.background||"white"}):i.attr(a,{fill:"transparent"}),0!=t.showBorderLine?(null==(o=null==t.borderLineColor?t.borderColor:t.borderLineColor)&&(o=t._defaultLineColor),s=this.borderLineWidth,(isNaN(s)||s<0||10<s)&&(s=1),i.attr(a,{"stroke-width":s,stroke:o})):le.jqx.browser.msie&&le.jqx.browser.version<9&&i.attr(a,{"stroke-width":1,stroke:t.backgroundColor||"white"}),le.isFunction(t.drawBefore)&&t.drawBefore(i,e);var o={x:r.left,y:r.top,width:e.width-r.left-r.right,height:e.height-r.top-r.bottom};t._paddedRect=o;a=t.titlePadding||{left:2,top:2,right:2,bottom:2};t.title&&0<t.title.length&&(r=t.toThemeProperty("jqx-chart-title-text",null),A=i.measureText(t.title,0,{class:r}),i.text(t.title,o.x+a.left,o.y+a.top,o.width-(a.left+a.right),A.height,0,{class:r},!0,"center","center"),o.y+=A.height,o.height-=A.height),t.description&&0<t.description.length&&(b=t.toThemeProperty("jqx-chart-title-description",null),A=i.measureText(t.description,0,{class:b}),i.text(t.description,o.x+a.left,o.y+a.top,o.width-(a.left+a.right),A.height,0,{class:b},!0,"center","center"),o.y+=A.height,o.height-=A.height),(t.title||t.description)&&(o.y+=a.bottom+a.top,o.height-=a.bottom+a.top);var l={x:o.x,y:o.y,width:o.width,height:o.height};t._plotRect=l,t._buildStats(l);for(var h,d=t._isPieOnlySeries(),f=t.seriesGroups,u={xAxis:{},valueAxis:{}},g=0;g<f.length&&!d;g++)if("pie"!=f[g].type&&"donut"!=f[g].type){if(!(L=t._getXAxis(g)))throw"seriesGroup["+g+"] is missing xAxis definition";var c=L==t._getXAxis()?-1:g;u.xAxis[c]=0}var m=t.axisPadding;isNaN(m)&&(m=5);var _={left:0,right:0,leftCount:0,rightCount:0},p=[];for(g=0;g<f.length;g++)"pie"!=(I=f[g]).type&&"donut"!=I.type&&1!=I.spider&&1!=I.polar?(h="horizontal"==I.orientation,c=(L=t._getXAxis(g))==t._getXAxis()?-1:g,k=(x=t._getValueAxis(g))==t._getValueAxis()?-1:g,w=(h?L:x).axisSize,D={x:0,y:l.y,width:l.width,height:l.height},y=(h?t._getXAxis(g):x).position,w&&"auto"!=w||(h?(w=this._renderXAxis(g,D,!0,l).width,1==(1&u.xAxis[c])?w=0:0<w&&(u.xAxis[c]|=1)):(w=t._renderValueAxis(g,D,!0,l).width,1==(1&u.valueAxis[k])?w=0:0<w&&(u.valueAxis[k]|=1))),"left"!=y&&1==t.rtl&&(y="right"),"right"!=y&&(y="left"),0<_[y+"Count"]&&0<_[y]&&0<w&&(_[y]+=m),p.push({width:w,position:y,xRel:_[y]}),_[y]+=w,_[y+"Count"]++):p.push({width:0,position:0,xRel:0});var x,y,v=Math.max(1,Math.max(e.width,e.height)),N={top:0,bottom:0,topCount:0,bottomCount:0},M=[];for(g=0;g<f.length;g++)"pie"!=(I=f[g]).type&&"donut"!=I.type&&1!=I.spider&&1!=I.polar?(h="horizontal"==I.orientation,k=(x=this._getValueAxis(g))==t._getValueAxis()?-1:g,c=(L=t._getXAxis(g))==t._getXAxis()?-1:g,S=(h?x:L).axisSize,y=(h?x:L).position,S&&"auto"!=S||(h?(S=t._renderValueAxis(g,{x:0,y:0,width:v,height:0},!0,l).height,2==(2&u.valueAxis[k])?S=0:0<S&&(u.valueAxis[k]|=2)):(S=t._renderXAxis(g,{x:0,y:0,width:v,height:0},!0).height,2==(2&u.xAxis[c])?S=0:0<S&&(u.xAxis[c]|=2))),"top"!=y&&(y="bottom"),0<N[y+"Count"]&&0<N[y]&&0<S&&(N[y]+=m),M.push({height:S,position:y,yRel:N[y]}),N[y]+=S,N[y+"Count"]++):M.push({height:0,position:0,yRel:0});t._createAnimationGroup("series");var b=0!=t.showLegend,A=b?t._renderLegend(t.legendLayout?t._rect:o,!0):{width:0,height:0};if(!this.legendLayout||isNaN(this.legendLayout.left)&&isNaN(this.legendLayout.top)||(A={width:0,height:0}),o.height<N.top+N.bottom+A.height||o.width<_.left+_.right)i.endGroup();else{l.height-=N.top+N.bottom+A.height,l.x+=_.left,l.width-=_.left+_.right,l.y+=N.top;var w,S,C=[];if(!d){var k,D;t._getXAxis().tickMarksColor||t._defaultLineColor;for(g=0;g<f.length;g++)1!=(I=f[g]).polar&&1!=I.spider&&"pie"!=I.type&&"donut"!=I.type&&(h="horizontal"==I.orientation,c=t._getXAxis(g)==t._getXAxis()?-1:g,k=t._getValueAxis(g)==t._getValueAxis()?-1:g,D={x:l.x,y:0,width:l.width,height:M[g].height},"top"!=M[g].position?D.y=l.y+l.height+M[g].yRel:D.y=l.y-M[g].yRel-M[g].height,h?4!=(4&u.valueAxis[k])&&t._isGroupVisible(g)&&(t._renderValueAxis(g,D,!1,l),u.valueAxis[k]|=4):(C.push(D),4!=(4&u.xAxis[c])&&t._isGroupVisible(g)&&(t._renderXAxis(g,D,!1,l),u.xAxis[c]|=4)))}if(b&&(a=t.legendLayout?t._rect:o,b=o.x+le.jqx._ptrnd((o.width-A.width)/2),j=l.y+l.height+N.bottom,w=o.width,S=A.height,t.legendLayout&&(isNaN(t.legendLayout.left)||(b=t.legendLayout.left),isNaN(t.legendLayout.top)||(j=t.legendLayout.top),isNaN(t.legendLayout.width)||(w=t.legendLayout.width),isNaN(t.legendLayout.height)||(S=t.legendLayout.height)),b+w>a.x+a.width&&(w=a.x+a.width-b),j+S>a.y+a.height&&(S=a.y+a.height-j),t._renderLegend({x:b,y:j,width:w,height:S})),t._hasHorizontalLines=!1,!d)for(g=0;g<f.length;g++)1!=(I=f[g]).polar&&1!=I.spider&&"pie"!=I.type&&"donut"!=I.type&&(h="horizontal"==f[g].orientation,D={x:l.x-p[g].xRel-p[g].width,y:l.y,width:p[g].width,height:l.height},"left"!=p[g].position&&(D.x=l.x+l.width+p[g].xRel),c=t._getXAxis(g)==t._getXAxis()?-1:g,k=t._getValueAxis(g)==t._getValueAxis()?-1:g,h?(C.push(D),8!=(8&u.xAxis[c])&&t._isGroupVisible(g)&&(t._renderXAxis(g,D,!1,l),u.xAxis[c]|=8)):8!=(8&u.valueAxis[k])&&t._isGroupVisible(g)&&(t._renderValueAxis(g,D,!1,l),u.valueAxis[k]|=8));if(!(l.width<=0||l.height<=0)){for(t._plotRect={x:l.x,y:l.y,width:l.width,height:l.height},g=0;g<f.length;g++)this._drawPlotAreaLines(g,!0,{gridLines:!1,tickMarks:!1,alternatingBackground:!0}),this._drawPlotAreaLines(g,!1,{gridLines:!1,tickMarks:!1,alternatingBackground:!0});for(g=0;g<f.length;g++)this._drawPlotAreaLines(g,!0,{gridLines:!0,tickMarks:!0,alternatingBackground:!1}),this._drawPlotAreaLines(g,!1,{gridLines:!0,tickMarks:!0,alternatingBackground:!1});var F=!1;for(g=0;g<f.length&&!F;g++)if(void 0!==(I=f[g]).annotations||le.isFunction(I.draw)||le.isFunction(I.drawBefore)){F=!0;break}var T,j=i.beginGroup();for(F||(T=i.createClipRect({x:l.x-2,y:l.y,width:l.width+4,height:l.height}),i.setClip(j,T)),g=0;g<f.length;g++){var O,I=f[g],P=!1;for(O in t._seriesTypes)if(t._seriesTypes[O]==I.type){P=!0;break}if(!P)throw'Invalid serie type "'+I.type+'"';le.isFunction(I.drawBefore)&&I.drawBefore(i,e,g,this),1!=I.polar&&1!=I.spider||-1==I.type.indexOf("pie")&&-1==I.type.indexOf("donut")&&t._renderSpiderAxis(g,l),t._renderAxisBands(g,l,!0),t._renderAxisBands(g,l,!1)}for(g=0;g<f.length;g++){I=f[g];if(t._isColumnType(I.type)?t._renderColumnSeries(g,l):-1!=I.type.indexOf("pie")||-1!=I.type.indexOf("donut")?t._renderPieSeries(g,l):-1!=I.type.indexOf("line")||-1!=I.type.indexOf("area")?t._renderLineSeries(g,l):-1!=I.type.indexOf("scatter")||-1!=I.type.indexOf("bubble")?t._renderScatterSeries(g,l):-1==I.type.indexOf("candlestick")&&-1==I.type.indexOf("ohlc")||t._renderCandleStickSeries(g,l,-1!=I.type.indexOf("ohlc")),I.annotations){if(!this._moduleAnnotations)throw"Please include 'jqxchart.annotations.js'";for(var q=0;q<I.annotations.length;q++)t._renderAnnotation(g,I.annotations[q],l)}le.isFunction(I.draw)&&t.draw(i,e,g,this)}i.endGroup(),0==t.enabled&&(T=i.rect(e.x,e.y,e.width,e.height),i.attr(T,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})),le.isFunction(t.draw)&&t.draw(i,e),i.endGroup(),t._startAnimation("series"),t._credits&&t._credits();for(var L,R=!1,g=0;g<t.seriesGroups.length&&!R;g++)(L=t._getXAxis(g))&&L.rangeSelector&&(R=!0);if(R){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";var G=[];for(this._isSelectorRefresh||(t.removeHandler(le(document),t._getEvent("mousemove"),t._onSliderMouseMove),t.removeHandler(le(document),t._getEvent("mousedown"),t._onSliderMouseDown),t.removeHandler(le(document),t._getEvent("mouseup"),t._onSliderMouseUp)),t._isSelectorRefresh||(t._rangeSelectorInstances={}),g=0;g<t.seriesGroups.length;g++){var V=this._getXAxis(g);-1==G.indexOf(V)&&this._renderXAxisRangeSelector(g,C[g])&&G.push(V)}}}}},_credits:function(){var e,t,i,s,r,a;"75CE8878-FCD1-4EC7-9249-BA0F153A5DE8"!==le.jqx.credits&&(e=this,t=String.fromCharCode(119,119,119,46,106,113,119,105,100,103,101,116,115,46,99,111,109),e._isRangeSelectorInstance||-1!=location.hostname.indexOf(t.substring(4))||(i=e.renderer,s=e._rect,a={class:e.toThemeProperty("jqx-chart-legend-text",null),opacity:.5},r=i.measureText(t,0,a),a=i.text(t,s.x+s.width-r.width-5,s.y+s.height-r.height-5,r.width,r.height,0,a),le(a).on("click",function(){location.href="http://"+t+"/?ref="+e.widgetName})))},_isPieOnlySeries:function(){var e=this.seriesGroups;if(0==e.length)return!1;for(var t=0;t<e.length;t++)if("pie"!=e[t].type&&"donut"!=e[t].type)return!1;return!0},_renderChartLegend:function(e,t,i,s){var r=this,a=r.renderer,n={x:t.x,y:t.y,width:t.width,height:t.height};6<=n.width&&(n.x+=3,n.width-=6),6<=n.height&&(n.y+=3,n.height-=6);for(var o={width:n.width,height:0},l=0,h=0,d=20,f=0,u=0,g=0;g<e.length;g++){var c=(c=e[g].css)||r.toThemeProperty("jqx-chart-legend-text",null),d=20,m=e[g].text,_=a.measureText(m,0,{class:c});_.height>d&&(d=_.height),_.width>u&&(u=_.width),s?(0!=g&&(h+=d),h>n.height&&(h=0,l+=u+20+10,u=_.width,o.width=l+u)):(0!=l&&(l+=10),l+20+_.width>n.width&&_.width<n.width&&(l=0,h+=d,d=20,f=n.width,o.height=h+d));var p=!1;if(_.width>n.width){p=!0;for(var x=n.width,y=(P=m).split(/\s+/),v=[],N="",M=0;M<y.length;M++){var b=N+(0<N.length?" ":"")+y[M];N=(C=r.renderer.measureText(b,0,{class:c})).width>x&&0<b.length&&0<N.length?(v.push({text:N}),y[M]):b,M+1==y.length&&v.push({text:N})}for(var A=_.width=0,w=0;w<v.length;w++){var S=v[w].text,C=r.renderer.measureText(S,0,{class:c});_.width=Math.max(_.width,C.width),A+=_.height}_.height=A}var k=l+_.width<n.width&&h+_.height<t.height;if(r.legendLayout&&(k=n.x+l+_.width<r._rect.x+r._rect.width&&n.y+h+_.height<r._rect.y+r._rect.height),!i&&k){var D=e[g].seriesIndex,F=e[g].groupIndex,T=e[g].itemIndex,j=e[g].fillColor,O=e[g].lineColor,I=r._isSerieVisible(F,D,T),k=a.beginGroup(),I=I?e[g].opacity:.1;if(p){for(var P=m,x=n.width,y=P.split(/\s+/),q=0,v=[],N="",M=0;M<y.length;M++){b=N+(0<N.length?" ":"")+y[M];N=(C=r.renderer.measureText(b,0,{class:c})).width>x&&0<b.length&&0<N.length?(v.push({text:N,dy:q}),q+=C.height,y[M]):b,M+1==y.length&&v.push({text:N,dy:q})}for(w=0;w<v.length;w++){S=v[w].text,q=v[w].dy,C=r.renderer.measureText(S,0,{class:c});s?r.renderer.text(S,n.x+l+15,n.y+h+q,_.width,d,0,{class:c},!1,"left","center"):r.renderer.text(S,n.x+l+15,n.y+h+q,_.width,d,0,{class:c},!1,"center","center")}var L=a.rect(n.x+l,n.y+h+5+q/2,10,10);s&&(h+=q),r.renderer.attr(L,{fill:j,"fill-opacity":I,stroke:O,"stroke-width":1,"stroke-opacity":e[g].opacity})}else{L=a.rect(n.x+l,n.y+h+5,10,10);r.renderer.attr(L,{fill:j,"fill-opacity":I,stroke:O,"stroke-width":1,"stroke-opacity":e[g].opacity}),s?r.renderer.text(m,n.x+l+15,n.y+h,_.width,_.height+5,0,{class:c},!1,"left","center"):r.renderer.text(m,n.x+l+15,n.y+h,_.width,d,0,{class:c},!1,"center","center")}r.renderer.endGroup(),r._setLegendToggleHandler(F,D,T,k)}s||f<(l+=_.width+20)&&(f=l)}if(i)return o.height=le.jqx._ptrnd(h+d+5),o.width=le.jqx._ptrnd(f),o},isSerieVisible:function(e,t,i){return this._isSerieVisible(e,t,i)},_isSerieVisible:function(e,t,i){for(;this._itemsToggleState.length<e+1;)this._itemsToggleState.push([]);for(var s=this._itemsToggleState[e];s.length<t+1;)s.push(!!isNaN(i)||[]);var r=s[t];if(isNaN(i))return r;for(le.isArray(r)||(s[t]=r=[]);r.length<i+1;)r.push(!0);return r[i]},isGroupVisible:function(e){return this._isGroupVisible(e)},_isGroupVisible:function(e){var t=!1,i=this.seriesGroups[e].series;if(!i)return t;for(var s=0;s<i.length;s++)if(this._isSerieVisible(e,s)){t=!0;break}return t},_toggleSerie:function(e,t,i,s){var r=!this._isSerieVisible(e,t,i);null!=s&&(r=s);var a=this.seriesGroups[e],s=a.series[t];if(this._raiseEvent("toggle",{state:r,seriesGroup:a,serie:s,elementIndex:i}),isNaN(i))this._itemsToggleState[e][t]=r;else{var n=this._itemsToggleState[e][t];for(le.isArray(n)||(n=[]);n.length<i;)n.push(!0);n[i]=r}this._isToggleRefresh=!0,this.update(),this._isToggleRefresh=!1},showSerie:function(e,t,i){this._toggleSerie(e,t,i,!0)},hideSerie:function(e,t,i){this._toggleSerie(e,t,i,!1)},_setLegendToggleHandler:function(t,i,s,e){var r,a=this.seriesGroups[t],n=a.series[i].enableSeriesToggle;null==n&&(n=0!=a.enableSeriesToggle),n&&(r=this).renderer.addHandler(e,"click",function(e){r._toggleSerie(t,i,s)})},_renderLegend:function(e,t){for(var i=this,s=[],r=0;r<i.seriesGroups.length;r++){var a=i.seriesGroups[r];if(0!=a.showLegend)for(var n=0;n<a.series.length;n++){var o=a.series[n];if(0!=o.showLegend){var l=i._getSerieSettings(r,n);if("pie"!=a.type&&"donut"!=a.type){var h=o.legendFormatSettings||a.legendFormatSettings,d=o.legendFormatFunction||a.legendFormatFunction,f=i._formatValue(o.displayText||o.dataField||"",h,d,r,n,NaN),u=i._getSeriesColors(r,n),g=this._get([o.legendFillColor,o.legendColor,u.fillColor]),c=this._get([o.legendLineColor,o.legendColor,u.lineColor]);s.push({groupIndex:r,seriesIndex:n,text:f,css:o.displayTextClass,fillColor:g,lineColor:c,opacity:l.opacity})}else for(var c=i._getXAxis(r),h=o.legendFormatSettings||a.legendFormatSettings||c.formatSettings||o.formatSettings||a.formatSettings,d=o.legendFormatFunction||a.legendFormatFunction||c.formatFunction||o.formatFunction||a.formatFunction,m=i._getDataLen(r),_=0;_<m;_++){f=i._getDataValue(_,o.displayText,r),f=i._formatValue(f,h,d,r,n,_);var u=i._getColors(r,n,_);s.push({groupIndex:r,seriesIndex:n,itemIndex:_,text:f,css:o.displayTextClass,fillColor:u.fillColor,lineColor:u.lineColor,opacity:l.opacity})}}}}return i._renderChartLegend(s,e,t,i.legendLayout&&"vertical"==i.legendLayout.flow)},_getInterval:function(e,t){if(!e)return t;var i=this._get([e.unitInterval,t]);return isNaN(e.step)||(i=e.step*t),i},_getOffsets:function(e,t,i,s,r,a,n,o,l){var h,d,f=this._getInterval(r[e],o),u=[];(""==e||r[e].visible&&"custom"!=r[e].visible)&&(u=this._generateIntervalValues(s,f,o,n,l)),"labels"!=e?(d=n?a.left:0,!n&&1<o&&(d=a.left*(o+1)),1==u.length&&(d*=2),h=this._valuesToOffsets(u,t,s,i,a,!1,d),n||(o=(a.left+a.right)*f/o,t.flip?h.unshift(h[0]+o):h.push(h[h.length-1]+o))):(d=a.left,1==u.length&&(d*=2),h=this._valuesToOffsets(u,t,s,i,a,n,d));var g=this._arraysToObjectsArray([u,h],["value","offset"]);if(t[e]&&t[e].custom)for(var c=this._objectsArraysToArray(t[e].custom,"value"),m=this._objectsArraysToArray(t[e].custom,"offset"),_=this._valuesToOffsets(c,t,s,i,a,n,a.left),p=0;p<t[e].custom.length;p++)g.push({value:c[p],offset:(isNaN(m[p])?_:m)[p]});return g},_renderXAxis:function(e,t,i,s){var r=this,a=r._getXAxis(e),n=r.seriesGroups[e],o="horizontal"==n.orientation,l={width:0,height:0},h=r._getAxisSettings(a);if(!a||!h.visible||"spider"==n.type)return l;if(!r._isGroupVisible(e)||this._isPieGroup(e))return l;for(var d=r._alignValuesWithTicks(e);r._renderData.length<e+1;)r._renderData.push({});r.rtl&&(a.flip=!0);var f=o?t.height:t.width,u=a.text,g=r._calculateXOffsets(e,f),c=g.axisStats,m=a.rangeSelector,_=0;if(m){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";_=this._selectorGetSize(a)}var p=o&&"right"==a.position||!o&&"top"==a.position;!i&&m&&(o?(t.width-=_,"right"!=a.position&&(t.x+=_)):(t.height-=_,"top"==a.position&&(t.y+=_)));var x={rangeLength:g.rangeLength,itemWidth:g.itemWidth,intervalWidth:g.intervalWidth,data:g,settings:h,isMirror:p,rect:t};r._renderData[e].xAxis=x;var y=c.interval;if(isNaN(y))return l;o&&(h.title.angle-=90,h.labels.angle-=90);var v,N=this._getInterval(h.gridLines,y),M=this._getInterval(h.tickMarks,y),b=this._getInterval(h.labels,y),A=c.min,n=c.max,m=g.padding,l=1==a.flip||r.rtl,g={min:A,max:n};c.logAxis.enabled&&(g.min=c.logAxis.minPow,g.max=c.logAxis.maxPow),v="date"==a.type?(h.gridLines.offsets=this._generateDTOffsets(A,n,f,m,N,y,c.dateTimeUnit,d,NaN,!1,l),h.tickMarks.offsets=this._generateDTOffsets(A,n,f,m,M,y,c.dateTimeUnit,d,NaN,!1,l),this._generateDTOffsets(A,n,f,m,b,y,c.dateTimeUnit,d,NaN,!0,l)):(h.gridLines.offsets=this._getOffsets("gridLines",a,f,c,h,m,d,y),h.tickMarks.offsets=this._getOffsets("tickMarks",a,f,c,h,m,d,y),this._getOffsets("labels",a,f,c,h,m,d,y));var w;r.renderer.getRect().width,t.x,t.width,r._getDataLen(e);r._elementRenderInfo&&r._elementRenderInfo.length>e&&(w=r._elementRenderInfo[e].xAxis);var S,C,k=[];h.labels.formatFunction&&(S=h.labels.formatFunction),h.labels.formatSettings&&(C=le.extend({},h.labels.formatSettings)),"date"==a.type&&(a.dateFormat&&!S?C?C.dateFormat=C.dateFormat||a.dateFormat:C={dateFormat:a.dateFormat}:S||C&&(!C||C.dateFormat)||(S=this._getDefaultDTFormatFn(a.baseUnit||"day")));for(var D=0;D<v.length;D++){var F,T=v[D].value,j=v[D].offset;isNaN(j)||(F=void 0,"date"!=a.type&&c.useIndeces&&a.dataField&&(F=Math.round(T),null==(T=r._getDataValue(F,a.dataField))&&(T="")),null!=(u=r._formatValue(T,C,S,e,void 0,F))&&""!=u.toString()||(isNaN(F)&&(F=D),F>=c.filterRange.min&&F<=c.filterRange.max&&(u=c.useIndeces?(c.min+F).toString():null==T?"":T.toString())),j={key:T,text:u,targetX:j,x:j},w&&w.itemOffsets[T]&&(j.x=w.itemOffsets[T].x,j.y=w.itemOffsets[T].y),k.push(j))}d=r._getAnimProps(e),d=d.enabled&&k.length<500?d.duration:0;0==r.enableAxisTextAnimation&&(d=0);x={items:k,renderData:x},d=r._renderAxis(o,p,h,{x:t.x,y:t.y,width:t.width,height:t.height},s,y,!1,!0,x,i,d);return o?d.width+=_:d.height+=_,d},_animateAxisText:function(e,t){for(var i=e.items,s=e.textSettings,r=0;r<i.length;r++){var a,n,o=i[r];o&&o.visible&&(a=o.targetX,n=o.targetY,isNaN(o.x)||isNaN(o.y)||(a=o.x+(a-o.x)*t,n=o.y+(n-o.y)*t),o.element&&(this.renderer.removeElement(o.element),o.element=void 0),o.element=this.renderer.text(o.text,a,n,o.width,o.height,s.angle,{class:s.style},!1,s.halign,s.valign,s.textRotationPoint))}},_getPolarAxisCoords:function(e,t){var i=this.seriesGroups[e],s=t.x+le.jqx.getNum([i.offsetX,t.width/2]),r=t.y+le.jqx.getNum([i.offsetY,t.height/2]),a=Math.min(t.width,t.height),n=i.radius;this._isPercent(n)&&(n=parseFloat(n)/100*a/2),isNaN(n)&&(n=a/2*.6);var o=this._alignValuesWithTicks(e),l=this._get([i.startAngle,i.minAngle,0])-90;l=isNaN(l)?0:2*Math.PI*l/360;var h=this._get([i.endAngle,i.maxAngle,360])-90;(h=isNaN(h)?2*Math.PI:2*Math.PI*h/360)<l&&(d=l,l=h,h=d);var a=le.jqx._rnd(Math.abs(l-h)/(2*Math.PI),.001,!0),d=2*Math.PI*n*a,a=this._calcGroupOffsets(e,t).xoffsets;if(a){var f,t=!(1e-5<Math.abs(Math.abs(h-l)-2*Math.PI));return i.spider&&(e=(i=this._getXAxisStats(e,this._getXAxis(e),d)).interval,!isNaN(e)&&0!=e||(e=1),e=(i.max-i.min)/e+(t?1:0),2<(e=Math.round(e))&&(f=Math.cos(Math.abs(h-l)/2/e),0==(f=le.jqx._rnd(f,.01))&&(f=1),n<(f=n/f)&&o&&(n=f))),{x:s,y:r,r:n=le.jqx._ptrnd(n),adjR:this._get([f,n]),itemWidth:a.itemWidth,rangeLength:a.rangeLength,valuesOnTicks:o,startAngle:l,endAngle:h,isClosedCircle:t,axisSize:d}}},_toPolarCoord:function(e,t,i,s){var r=Math.abs(e.startAngle-e.endAngle)/(2*Math.PI),r=2*(i-t.x)*Math.PI*r/Math.max(1,t.width)+e.startAngle,s=(t.height+t.y-s)*e.r/Math.max(1,t.height),t=e.x+s*Math.cos(r),r=e.y+s*Math.sin(r);return{x:le.jqx._ptrnd(t),y:le.jqx._ptrnd(r)}},_renderSpiderAxis:function(e,t){var i=this,s=i._getXAxis(e),r=this._getAxisSettings(s);if(s&&r.visible){var a=i.seriesGroups[e],n=i._getPolarAxisCoords(e,t);if(n){var o=le.jqx._ptrnd(n.x),l=le.jqx._ptrnd(n.y),h=n.adjR,d=n.startAngle,f=n.endAngle;if(!(h<1)){var u=le.jqx._rnd(Math.abs(d-f)/(2*Math.PI),.001,!0),g=2*Math.PI*h*u,c=n.isClosedCircle,m=this._renderData[e].xoffsets;if(m.rangeLength){var _=m.axisStats.interval;(isNaN(_)||_<1)&&(_=1);var p="horizontal"==a.orientation;for(p&&"right"==s.position||(p||s.position);i._renderData.length<e+1;)i._renderData.push({});var x={rangeLength:m.rangeLength,itemWidth:m.itemWidth,data:m,rect:t,settings:r};i._renderData[e].xAxis=x,i._renderData[e].polarCoords=n;for(var y=!0,v=0;v<e;v++){i._renderData[v].xAxis;var N,M=i._renderData[v].polarCoords,b=i._getXAxis(v),A=!1;for(N in n)if(n[N]!=M[N]){A=!0;break}A&&b==s||(y=!1)}var w,S=r.gridLines,C=r.tickMarks,k=r.labels,D=this._getInterval(S,_),F=this._getInterval(C,_),T=this._getInterval(k,_),j=i._alignValuesWithTicks(e),O=i.renderer,I=m.axisStats,P=I.min,p=I.max,q=this._getPaddingSize(m.axisStats,s,j,g,!0,c,!1),m=1==s.flip||i.rtl,L="date"==s.type?(S.offsets=this._generateDTOffsets(P,p,g,q,D,_,s.baseUnit,!0,0,!1,m),C.offsets=this._generateDTOffsets(P,p,g,q,F,_,s.baseUnit,!0,0,!1,m),this._generateDTOffsets(P,p,g,q,T,_,s.baseUnit,!0,0,!0,m)):(r.gridLines.offsets=this._getOffsets("gridLines",s,g,I,r,q,!0,_),r.tickMarks.offsets=this._getOffsets("tickMarks",s,g,I,r,q,!0,_),this._getOffsets("labels",s,g,I,r,q,!0,_));i.renderer.getRect().width,t.x,t.width,i._getDataLen(e);i._elementRenderInfo&&i._elementRenderInfo.length>e&&(w=i._elementRenderInfo[e].xAxis);for(var R=[],G=this._getDataLen(e),v=0;v<L.length;v++){var V=L[v].offset,E=L[v].value;if("date"!=s.type&&I.useIndeces&&s.dataField){var H=Math.round(E);if(G<=H)continue;null==(E=i._getDataValue(H,s.dataField))&&(E="")}var B=i._formatValue(E,k.formatSettings,k.formatFunction,e,void 0,H);null!=B&&""!=B.toString()||(B=I.useIndeces?(I.min+v).toString():null==E?"":E.toString());V={key:E,text:B,targetX:V,x:V};w&&w.itemOffsets[E]&&(V.x=w.itemOffsets[E].x,V.y=w.itemOffsets[E].y),R.push(V)}var z={stroke:S.color,fill:"none","stroke-width":S.width,"stroke-dasharray":S.dashStyle||""};a.spider||(1==u?O.circle(o,l,h,z):(T=-d/Math.PI*180,W=-f/Math.PI*180,this.renderer.pieslice(o,l,0,h,Math.min(T,W),Math.max(T,W),void 0,z)));var W=R.length,X=(Math.PI,d);if(S.visible&&y){j||c||S.offsets.unshift({offset:-q.right});for(v=0;v<S.offsets.length;v++){var U,Y,Z=S.offsets[v].offset;j||(Z+=c?q.right/2:q.right),.01<(ie=X+2*Z*Math.PI*u/Math.max(1,g))-f||(U=le.jqx._ptrnd(o+h*Math.cos(ie)),Y=le.jqx._ptrnd(l+h*Math.sin(ie)),O.line(o,l,U,Y,z))}}if(C.visible&&y){var J={stroke:C.color,fill:"none","stroke-width":C.width,"stroke-dasharray":C.dashStyle||""};j||c||C.offsets.unshift({offset:-q.right});for(v=0;v<C.offsets.length;v++){var Q,K,Z=C.offsets[v].offset;j||(Z+=c?q.right/2:q.right),.01<(ie=X+2*Z*Math.PI*u/Math.max(1,g))-f||(Q={x:o+h*Math.cos(ie),y:l+h*Math.sin(ie)},K={x:o+(h+5)*Math.cos(ie),y:l+(h+5)*Math.sin(ie)},O.line(le.jqx._ptrnd(Q.x),le.jqx._ptrnd(Q.y),le.jqx._ptrnd(K.x),le.jqx._ptrnd(K.y),J))}}var $=[];if(a.spider){var ee=[],ee="date"==s.type?this._generateDTOffsets(P,p,g,q,_,_,s.baseUnit,!0,0,!1,m):this._getOffsets("",s,g,I,r,q,!0,_);j||c||ee.unshift({offset:-q.right});for(v=0;v<ee.length;v++){Z=ee[v].offset;j||(Z+=c?q.right/2:q.right),.01<(ie=X+2*Z*Math.PI*u/Math.max(1,g))-f||$.push(ie)}x.offsetAngles=$}var te=(te=i._renderSpiderValueAxis(e,t,j?n.adjR:n.r,$))||[];if(a.spider){if(!j)for(v=0;v<te.length;v++)te[v]=te[v]*n.adjR/n.r;te.push(h),this._renderSpiderLines(o,l,te,n,$,z)}if(y&&k.visible){x.polarLabels=[];for(var ie,v=0;v<R.length;v++){(ie=(360-(ie=X+2*(Z=R[v].x)*Math.PI*u/Math.max(1,g))/(2*Math.PI)*360)%360)<0&&(ie=360+ie);var se,re,ae=O.measureText(R[v].text,0,{class:r.labels.style}),ne=(j?n.adjR:n.r)+(C.visible?7:2),oe=r.labels,ne=oe.autoRotate?(se=le.jqx._ptRotate(o-ae.width/2,l-ne-ae.height,o,l,-ie/180*Math.PI),re=le.jqx._ptRotate(o+ae.width/2,l-ne,o,l,-ie/180*Math.PI),ae.width=Math.abs(se.x-re.x),ae.height=Math.abs(se.y-re.y),{x:Math.min(se.x,re.x),y:Math.min(se.y,re.y)}):this._adjustTextBoxPosition(o,l,ae,ne,ie,!1,!1,!1);x.polarLabels.push({x:ne.x,y:ne.y,value:R[v].text}),O.text(R[v].text,ne.x,ne.y,ae.width,ae.height,oe.autoRotate?90-ie:oe.angle,{class:oe.style},!1,oe.halign,oe.valign)}}}}}}},_renderSpiderLines:function(e,t,i,s,r,a){for(var n=this.renderer,o=(s.startAngle,s.endAngle,s.isClosedCircle),l=0;l<i.length;l++){for(var h=i[l],d=void 0,f=void 0,u=0;u<r.length;u++){var g=r[u],c=le.jqx._ptrnd(e+h*Math.cos(g)),g=le.jqx._ptrnd(t+h*Math.sin(g));d&&n.line(d.x,d.y,c,g,a),d={x:c,y:g},f=f||{x:c,y:g}}f&&o&&n.line(d.x,d.y,f.x,f.y,a)}},_renderSpiderValueAxis:function(e,t,i,s){var r=this.seriesGroups[e],a=this._getPolarAxisCoords(e,t);if(a){var n=le.jqx._ptrnd(a.x),o=le.jqx._ptrnd(a.y);i=i||a.r;var l=a.startAngle,h=a.endAngle,d=le.jqx._rnd(Math.abs(l-h)/(2*Math.PI),.001,!0);if(!(i<1)){i=le.jqx._ptrnd(i);var f=this._getValueAxis(e),u=this._getAxisSettings(f);if(f&&0!=u.visible){var t=this._stats.seriesGroups[e].mu,a=u.labels,g=a.formatSettings;-1!=r.type.indexOf("stacked")&&-1!=r.type.indexOf("100")&&!g&&(g={sufix:"%"});a=this._get([a.step,a.unitInterval/t]);isNaN(a)&&(a=1),a=Math.max(1,Math.round(a)),this._calcValueAxisItems(e,i,a);var c=u.gridLines,m=u.tickMarks,_=(this._getInterval(c,t),this._getInterval(m,t),u.labels),p={stroke:c.color,fill:"none","stroke-width":1,"stroke-dasharray":c.dashStyle||""},x=this._renderData[e].valueAxis,y=x.items,v=l;y.length&&u.line.visible&&(isNaN(u.line.angle)||(v=2*Math.PI*u.line.angle/360),S=n+Math.cos(v)*i,C=o+Math.sin(v)*i,-1==s.indexOf(v)&&((k=le.extend({},p))["stroke-width"]=u.line.lineWidth,k.stroke=u.line.color,k["stroke-dasharray"]=u.line.dashStyle,this.renderer.line(n,o,S,C,k))),y=y.reverse();var N=this.renderer;x.polarLabels=[];for(var M=0;M<y.length-1;M++){var b,A,w=y[M];isNaN(w)||(b=_.formatFunction?_.formatFunction(w):this._formatNumber(w,g),A=N.measureText(b,0,{class:_.style}),w=n+(0!=f.showTickMarks?3:2),F=o-x.itemWidth*M-A.height/2,P=le.jqx._ptRotate(w,F,n,o,v),q=le.jqx._ptRotate(w+A.width,F+A.height,n,o,v),w=Math.min(P.x,q.x),F=Math.min(P.y,q.y),A.width=Math.abs(P.x-q.x),A.height=Math.abs(P.y-q.y),w+=u.labels.textOffset.x,F+=u.labels.textOffset.y,x.polarLabels.push({x:w,y:F,value:b}),N.text(b,w,F,A.width,A.height,_.autoRotate?90+180*l/Math.PI:_.angle,{class:_.style},!1,_.halign,_.valign))}var S=1==f.logarithmicScale?y.length:x.rangeLength,C=(Math.PI,0!=f.valuesOnTicks),k=this._stats.seriesGroups[e],S=k.mu,e=1==f.logarithmicScale;f.logarithmicScaleBase;e&&(S=1);k={min:k.min,max:k.max,logAxis:{enabled:1==e,base:f.logarithmicScaleBase,minPow:k.minPow,maxPow:k.maxPow}};(c.visible||r.spider||f.alternatingBackgroundColor||f.alternatingBackgroundColor2)&&(c.offsets=this._getOffsets("gridLines",f,i,k,u,{left:0,right:0},C,S));var D=[];if(c.visible||r.spider)for(var F,T,j,p={stroke:c.color,fill:"none","stroke-width":1,"stroke-dasharray":c.dashStyle||""},M=0;M<c.offsets.length;M++)(F=le.jqx._ptrnd(c.offsets[M].offset))!=i&&(r.spider?D.push(F):1!=d?(T=-l/Math.PI*180,j=-h/Math.PI*180,this.renderer.pieslice(n,o,0,F,Math.min(T,j),Math.max(T,j),void 0,p)):N.circle(n,o,F,p));if(f.tickMarks&&(f.tickMarks.visible||f.showTickMarks)||(m.visible=!1),m.visible){m.offsets=this._getOffsets("tickMarks",f,i,k,u,{left:0,right:0},C,S);for(var O=2*m.size,p={stroke:m.color,fill:"none","stroke-width":1,"stroke-dasharray":m.dashStyle||""},M=0;M<m.offsets.length;M++){var I=m.offsets[M].offset,P={x:n+I*Math.cos(v)-O/2*Math.sin(v+Math.PI/2),y:o+I*Math.sin(v)-O/2*Math.cos(v+Math.PI/2)},q={x:n+I*Math.cos(v)+O/2*Math.sin(v+Math.PI/2),y:o+I*Math.sin(v)+O/2*Math.cos(v+Math.PI/2)};N.line(le.jqx._ptrnd(P.x),le.jqx._ptrnd(P.y),le.jqx._ptrnd(q.x),le.jqx._ptrnd(q.y),p)}}return D}}}},_renderAxis:function(e,t,i,s,r,a,n,o,l,h,d){if(i.customDraw&&!h)return{width:NaN,height:NaN};var f=i.title,u=i.labels,g=(i.gridLines,i.tickMarks),c=i.padding,m=g.visible?g.size:0,g={width:0,height:0},_={width:0,height:0};e?g.height=_.height=s.height:g.width=_.width=s.width,!h&&t&&e&&(s.x-=s.width);var p=l.renderData,x=p.itemWidth;f.visible&&null!=f.text&&""!=f&&(v=f.angle,C=this.renderer.measureText(f.text,v,{class:f.style}),_.width=C.width,_.height=C.height,h||this.renderer.text(f.text,s.x+f.offset.x+(e?t?-c.right-2+2*s.width-_.width:2+c.left:0),s.y+f.offset.y+(e?0:t?c.top+2:s.height-2-_.height-c.bottom),(e?_:s).width,(e?s:_).height,v,{class:f.style},!0,f.halign,f.valign,f.rotationPoint));var y=0,v=o?-x/2:0;o&&!e&&(u.halign="center");var N=s.x,M=s.y,f=u.textOffset;f&&(isNaN(f.x)||(N+=f.x),isNaN(f.y)||(M+=f.y)),e?(N+=c.left+2+(0<_.width?_.width+2:0)+(t?s.width-_.width:0),M+=v):(N+=v,t?(M+=0<_.height?_.height+6:4,M+=m-(o?m:m/4)):M+=o?m:m/4,M+=c.top);var b=0,A=0,w=l.items;p.itemOffsets={},!this._isToggleRefresh&&this._isUpdate||(d=0);for(var S,C,k,D=!1,F=0,T=0;T<w.length&&u.visible;T++,y+=x)w[T]&&!isNaN(x)&&(S=w[T].text,isNaN(w[T].targetX)||(y=w[T].targetX),(C=this.renderer.measureText(S,u.angle,{class:u.style})).width>A&&(A=C.width),C.height>b&&(b=C.height),F+=e?b:A,h||e&&y>s.height+2||!e&&y>s.width+2||(j=e?N+(t?0==_.width?m:m-2:0):N+y,O=e?M+y:M,p.itemOffsets[w[T].key]={x:j,y:O},D||isNaN(w[T].x)&&(isNaN(w[T].y)||!d)||(D=!0),w[T].targetX=j,w[T].targetY=O,w[T].width=e?s.width-c.left-c.right-4-m-(0<_.width?_.width+2:0):x,w[T].height=e?x:s.height-c.top-c.bottom-4-m-(0<_.height?_.height+2:0),w[T].visible=!0));p.avgWidth=0==w.length?0:F/w.length,h||(l={items:w,textSettings:u},!isNaN(d)&&D||(d=0),this._animateAxisText(l,0==d?1:0),0!=d&&(k=this)._enqueueAnimation("series",void 0,void 0,d,function(e,t,i){k._animateAxisText(t,i)},l)),g.width+=4+m+_.width+A+(e&&0<_.width?2:0),g.height+=4+m+_.height+b+(!e&&0<_.height?2:0),e?g.width+=c.left+c.right:g.height+=c.top+c.bottom;var j,O;return!h&&i.line.visible&&(i={stroke:i.line.color,"stroke-width":i.line.width,"stroke-dasharray":i.line.dashStyle||""},e?(j=s.x+s.width+(t?c.left:-c.right),j=le.jqx._ptrnd(j),this.renderer.line(j,s.y,j,s.y+s.height,i)):(O=le.jqx._ptrnd(s.y+(t?s.height-c.bottom:c.top)),this.renderer.line(le.jqx._ptrnd(s.x),O,le.jqx._ptrnd(s.x+s.width+1),O,i))),g.width=le.jqx._rup(g.width),g.height=le.jqx._rup(g.height),g},_drawPlotAreaLines:function(e,t,i){var s=this.seriesGroups[e],r="horizontal"!=s.orientation;if(this._renderData&&!(this._renderData.length<=e)){var a=t?"valueAxis":"xAxis",n=this._renderData[e][a];if(n){var o=(o=this._renderData.axisDrawState)||(this._renderData.axisDrawState={}),a="",l=t?(a="valueAxis_"+(s.valueAxis?e:"")+(r?"swap":""),this._getValueAxis(e)):(a="xAxis_"+(s.xAxis||s.categoryAxis?e:"")+(r?"swap":""),this._getXAxis(e));o=o[a]||(o[a]={}),t||(r=!r);e=n.settings;if(e&&!e.customDraw){var h=e.gridLines,a=e.tickMarks,d=e.padding,f=n.rect,u=this._plotRect;if(h&&a){var g={},c={stroke:h.color,"stroke-width":h.width,"stroke-dasharray":h.dashStyle||""},m=t?f.y+f.height:f.x,_=h.offsets;if(t&&!l.flip&&(_=(_=le.extend([],_)).reverse()),_&&0<_.length)for(var p,x,y,v=NaN,N=(_.length,0);N<_.length;N++)r?((p=le.jqx._ptrnd(f.y+_[N].offset))<f.y-.5&&(p=le.jqx._ptrnd(f.y)),p>f.y+f.height&&(p=f.y+f.height)):(p=le.jqx._ptrnd(f.x+_[N].offset))>f.x+f.width+.5&&(p=le.jqx._ptrnd(f.x+f.width)),isNaN(p)||!isNaN(v)&&Math.abs(p-v)<2||(v=p,i.gridLines&&0!=h.visible&&1!=o.gridLines&&(r?this.renderer.line(le.jqx._ptrnd(u.x),p,le.jqx._ptrnd(u.x+u.width),p,c):this.renderer.line(p,le.jqx._ptrnd(u.y),p,le.jqx._ptrnd(u.y+u.height),c)),g[p]=!0,i.alternatingBackground&&(h.alternatingBackgroundColor||h.alternatingBackgroundColor2)&&1!=o.alternatingBackground&&(x=N%2==0?h.alternatingBackgroundColor2:h.alternatingBackgroundColor,0<N&&x&&(y=r?this.renderer.rect(le.jqx._ptrnd(u.x),m,le.jqx._ptrnd(u.width-1),p-m,c):this.renderer.rect(m,le.jqx._ptrnd(u.y),p-m,le.jqx._ptrnd(u.height),c),this.renderer.attr(y,{"stroke-width":0,fill:x,opacity:h.alternatingBackgroundOpacity||1}))),m=p);c={stroke:a.color,"stroke-width":a.width,"stroke-dasharray":a.dashStyle||""};if(i.tickMarks&&a.visible&&1!=o.tickMarks)for(var M=a.size,_=a.offsets,v=NaN,N=0;N<_.length;N++)if(r?((p=le.jqx._ptrnd(f.y+_[N].offset))<f.y-.5&&(p=le.jqx._ptrnd(f.y)),p>f.y+f.height&&(p=f.y+f.height)):(p=le.jqx._ptrnd(f.x+_[N].offset))>f.x+f.width+.5&&(p=le.jqx._ptrnd(f.x+f.width)),!isNaN(p)&&(isNaN(v)||!(Math.abs(p-v)<2))){if(g[p-1]?p--:g[p+1]&&p++,r){if(p>f.y+f.height+.5)break}else if(p>f.x+f.width+.5)break;v=p;var b,A=n.isMirror?M:-M;r?(b=f.x+f.width+("right"==l.position?d.left:-d.right),t||(b=f.x+(n.isMirror?d.left:-d.right+f.width)),this.renderer.line(b,p,b+A,p,c)):(b=f.y+(n.isMirror?f.height:0),b+=n.isMirror?-d.bottom:d.top,b=le.jqx._ptrnd(b),this.renderer.line(p,b,p,b-A,c))}o.tickMarks=o.tickMarks||i.tickMarks,o.gridLines=o.gridLines||i.gridLines,o.alternatingBackground=o.alternatingBackground||i.alternatingBackground}}}}},_calcValueAxisItems:function(e,t,i){var s=this._stats.seriesGroups[e];if(!s||!s.isValid)return!1;var r=this.seriesGroups[e],a=(r.orientation,this._getValueAxis(e)),n=0!=a.valuesOnTicks,o=(a.dataField,s.intervals),t=t/o,l=s.min,h=s.mu,d=1==a.logarithmicScale,f=a.logarithmicScaleBase||10,u=-1!=r.type.indexOf("stacked")&&-1!=r.type.indexOf("100");for(d&&(h=isNaN(a.unitInterval)?1:a.unitInterval),n||(o=Math.max(o-1,1));this._renderData.length<e+1;)this._renderData.push({});this._renderData[e].valueAxis={};r=this._renderData[e].valueAxis;r.itemWidth=r.intervalWidth=t,r.items=[];for(var g=r.items,c=0;c<=o;c++){var m=0,m=d?u?s.max/Math.pow(f,o-c):l*Math.pow(f,c):n?l+c*h:l+(c+.5)*h;c%i==0?g.push(m):g.push(NaN)}return r.rangeLength=d&&!u?s.intervals:s.intervals*h,1!=a.flip&&(g=g.reverse()),!0},_getDecimalPlaces:function(e,t,i){var s=0;isNaN(i)&&(i=10);for(var r=0;r<e.length;r++){var a=void 0===t?e[r]:e[r][t];if(!isNaN(a)){for(var n=a.toString(),o=0;o<n.length;o++)if((n[o]<"0"||"9"<n[o])&&0<=(s=n.length-(o+1)))return Math.min(s,i);for(0<s&&(a*=Math.pow(10,s));Math.round(a)!=a&&s<i;)s++,a*=10}}return s},_renderValueAxis:function(e,t,i,s){var r=this.seriesGroups[e],a="horizontal"==r.orientation,n=this._getValueAxis(e);if(!n)throw"SeriesGroup "+e+" is missing valueAxis definition";var o={width:0,height:0};if(!this._isGroupVisible(e)||this._isPieOnlySeries()||"spider"==r.type)return o;var l=0!=n.valuesOnTicks,h=this._stats.seriesGroups[e],d=h.mu,f=1==n.logarithmicScale,u=n.logarithmicScaleBase||10;if(f&&(d=isNaN(n.unitInterval)?1:n.unitInterval),0==d&&(d=1),isNaN(d))return o;var g=this._getAxisSettings(n),c=g.title,m=g.labels,_=n.labels||{};this._get([n.horizontalTextAlignment,_.horizontalAlignment])||0!=m.angle||(m.halign=a?"center":"right"==n.position?"left":"right");_=this._get([m.step,m.unitInterval/d]);if(isNaN(_)&&(_=1),_=Math.max(1,Math.round(_)),!this._calcValueAxisItems(e,a?t.width:t.height,_)||!g.visible)return o;a||(c.angle=this.rtl?90:-90,"centercenter"==c.rotationPoint&&("top"==c.valign?c.rotationPoint="rightcenter":"bottom"==c.valign&&(c.rotationPoint="leftcenter")));var _=this._renderData[e].valueAxis,p=m.formatSettings;-1==r.type.indexOf("stacked")||-1==r.type.indexOf("100")||p||(p={sufix:"%"}),m.formatFunction||p&&p.decimalPlaces||((p=p||{}).decimalPlaces=this._getDecimalPlaces([h.min,h.max,d],void 0,3));o=g.gridLines,f||this._getInterval(o,d),c=a?t.width:t.height,r=1==n.flip;n.flip=!r;h={min:h.min,max:h.max,logAxis:{enabled:1==f,base:u,minPow:h.minPow,maxPow:h.maxPow}};(o.visible||n.alternatingBackgroundColor||n.alternatingBackgroundColor2)&&(o.offsets=this._getOffsets("gridLines",n,c,h,g,{left:0,right:0},l,d));o=g.tickMarks;o.visible&&(o.offsets=this._getOffsets("tickMarks",n,c,h,g,{left:0,right:0},l,d));var x=this._getOffsets("labels",n,c,h,g,{left:0,right:0},l,d,!l);n.flip=r;var y,v=[];this._elementRenderInfo&&this._elementRenderInfo.length>e&&(y=this._elementRenderInfo[e].valueAxis);for(var N=0;N<x.length;N++){var M,b=x[N].value;isNaN(x[N].offset)?v.push(void 0):(M={key:b,text:m.formatFunction?m.formatFunction(b):isNaN(b)?b:this._formatNumber(b,p)},y&&y.itemOffsets[b]&&(M.x=y.itemOffsets[b].x,M.y=y.itemOffsets[b].y),M.targetX=x[N].offset,isNaN(M.targetX)||v.push(M))}r=a&&"top"==n.position||!a&&"right"==n.position||!a&&this.rtl&&"left"!=n.position,n={items:v,renderData:_},e=this._getAnimProps(e),e=e.enabled&&v.length<500?e.duration:0;return 0==this.enableAxisTextAnimation&&(e=0),_.settings=g,_.isMirror=r,_.rect=t,this._renderAxis(!a,r,g,t,s,d,f,!0,n,i,e)},_objectsArraysToArray:function(e,t){var i=[];if(!le.isArray(e))return i;for(var s=0;s<e.length;s++)i.push(e[s][t]);return i},_arraysToObjectsArray:function(e,t){var i=[];if(e.length!=t.length)return i;for(var s=0;s<e.length;s++)for(var r=0;r<e[s].length;r++)i.length<=r&&i.push({}),i[r][t[s]]=e[s][r];return i},_valuesToOffsets:function(e,t,i,s,r,a,n){var o=[];if(!t||!le.isArray(e))return o;var l,h=i.logAxis.base,d=i.logAxis.enabled?"logarithmic":"linear",f=t.flip,u=0,g=0;r&&!isNaN(r.left)&&(u=r.left),r&&!isNaN(r.right)&&(g=r.right),s=l=s-u-g;for(var c=0;c<e.length;c++){var m=this._jqxPlot.scale(e[c],{min:i.min.valueOf(),max:i.max.valueOf(),type:d,base:h},{min:0,max:a?s:l,flip:f},{});isNaN(m)?o.push(NaN):(isNaN(n)||(m+=n),m<=s+u+g+1?o.push(le.jqx._ptrnd(m)):o.push(NaN))}return o},_generateIntervalValues:function(e,t,i,s,r){var a=[],n=e.min,o=e.max;if(e.logAxis&&e.logAxis.enabled&&(n=e.logAxis.minPow,o=e.logAxis.maxPow),null==n||null==o)return a;if(n==o)return e.logAxis&&e.logAxis.enabled?[Math.pow(e.logAxis.base,n)]:[n];var l=1;i<1&&(n*=l=1e6,o*=l,i*=l);for(var h=n;h<=o;h+=i)a.push(h/l+(r?i/2:0));if(i<t){for(var d=[],f=Math.round(t/i),h=0;h<a.length;h++)h%f==0&&d.push(a[h]);a=d}if(e.logAxis&&e.logAxis.enabled)for(h=0;h<a.length;h++)a[h]=Math.pow(e.logAxis.base,a[h]);return a},_generateDTOffsets:function(e,t,i,s,r,a,n,o,l,h,d){n=n||"day";var f=[];if(t<e)return f;if(e==t)return h?f.push({offset:o?i/2:s.left,value:e}):o&&f.push({offset:i/2,value:e}),f;var u=i-s.left-s.right,g=e,c=s.left,m=c,_=a=Math.max(a,1),p=Math.min(1,a);for(1<a&&"millisecond"!=n&&(a=1);le.jqx._ptrnd(m)<=le.jqx._ptrnd(s.left+u+(o?0:s.right));){f.push({offset:m,value:g});var x,y=new Date(g.valueOf());"millisecond"==n?y.setMilliseconds(g.getMilliseconds()+a):"second"==n?y.setSeconds(g.getSeconds()+a):"minute"==n?y.setMinutes(g.getMinutes()+a):"hour"==n?(x=y.valueOf(),y.setHours(g.getHours()+a),x==y.valueOf()&&y.setHours(g.getHours()+a+1)):"day"==n?y.setDate(g.getDate()+a):"month"==n?y.setMonth(g.getMonth()+a):"year"==n&&y.setFullYear(g.getFullYear()+a),m=c+((g=y).valueOf()-e.valueOf())*p/(t.valueOf()-e.valueOf())*u}if(d)for(var v=0;v<f.length;v++)f[v].offset=i-f[v].offset;if(1<_&&"millisecond"!=n){for(var N=[],v=0;v<f.length;v+=_)N.push({offset:f[v].offset,value:f[v].value});f=N}if(!o&&!h&&1<f.length){(N=[]).push({offset:0,value:void 0});for(v=1;v<f.length;v++)N.push({offset:f[v-1].offset+(f[v].offset-f[v-1].offset)/2,value:void 0});h=N.length;1<h?N.push({offset:N[h-1].offset+(N[h-1].offset-N[h-2].offset)}):N.push({offset:i,value:void 0}),f=N}if(a<r){for(var N=[],M=Math.round(r/_),v=0;v<f.length;v++)v%M==0&&N.push({offset:f[v].offset,value:f[v].value});f=N}return f},_hasStackValueReversal:function(e,t){var i=this.seriesGroups[e];if(!(-1!=i.type.indexOf("stacked")))return!1;for(var s=-1!=i.type.indexOf("waterfall"),r=this._getDataLen(e),a=!1,n=[],o=0;o<i.series.length;o++)n[o]=this._isSerieVisible(e,o);for(var l=0;l<r;l++){var h=void 0;s||(a=!1);for(var d=0;d<i.series.length;d++)if(n[d]){var f=this._getDataValueAsNumber(l,i.series[d].dataField,e);if(!isNaN(f)){if(i.series[d].summary)if(void 0!==this._getDataValue(l,i.series[d].summary,e))continue;var u=a?f<0:f<t,a=!0;if(null==h&&(h=u),u!=h)return!0;h=u,0}}}return!1},_getValueAxis:function(e){return null!=e&&this.seriesGroups[e].valueAxis||this.valueAxis||(this.valueAxis={})},_buildStats:function(e){var t={seriesGroups:[]};this._stats=t;for(var i=0;i<this.seriesGroups.length;i++){var s=this.seriesGroups[i];t.seriesGroups[i]={};var r=this._getXAxis(i),a=this._getValueAxis(i),n=this._getXAxisStats(i,r,"horizontal"!=s.orientation?e.width:e.height);(V=t.seriesGroups[i]).isValid=!0;var o="horizontal"==s.orientation?e.width:e.height,l=1==a.logarithmicScale,h=a.logarithmicScaleBase;isNaN(h)&&(h=10);var d=-1!=s.type.indexOf("stacked"),f=d&&-1!=s.type.indexOf("100"),u=-1!=s.type.indexOf("range"),g=-1!=s.type.indexOf("waterfall");if(g&&!this._moduleWaterfall)throw"Please include 'jqxchart.waterfall.js'";f&&(V.psums=[],V.nsums=[]);var c=NaN,m=NaN,_=NaN,p=NaN,x=a?a.baselineValue:NaN;isNaN(x)&&(x=l&&!f?1:0);var y=!1;0!=x&&d&&(y=this._hasStackValueReversal(i,x))&&(x=0),d&&g&&(y=this._hasStackValueReversal(i,x));var v=this._getDataLen(i),N=0,M=NaN,b=[];if(g)for(var A=0;A<s.series.length;A++)b.push(NaN);for(var w=NaN,S=0;S<v&&V.isValid;S++){if(r.rangeSelector){var C=r.dataField?this._getDataValue(S,r.dataField,i):S;if(C&&n.isDateTime&&(C=this._castAsDate(C,r.dateFormat)),n.useIndeces&&(C=S),C&&(C.valueOf()<n.min.valueOf()||C.valueOf()>n.max.valueOf()))continue}var k=a.minValue,D=a.maxValue;a.baselineValue&&(k=isNaN(k)?x:Math.min(x,k),D=isNaN(D)?x:Math.max(x,D));for(var F=0,T=0,A=0;s.series&&A<s.series.length;A++)if(this._isSerieVisible(i,A)){var j=NaN,O=NaN,I=NaN;if(-1!=s.type.indexOf("candle")||-1!=s.type.indexOf("ohlc")){var P=["Open","Low","Close","High"];for(E in P){var q=this._getDataValueAsNumber(S,s.series[A]["dataField"+P[E]],i);isNaN(q)||(I=isNaN(O)?q:Math.min(I,q),O=isNaN(O)?q:Math.max(O,q))}}else if(u)var L=this._getDataValueAsNumber(S,s.series[A].dataFieldFrom,i),R=this._getDataValueAsNumber(S,s.series[A].dataFieldTo,i),O=Math.max(L,R),I=Math.min(L,R);else{if(j=this._getDataValueAsNumber(S,s.series[A].dataField,i),g){if(this._isSummary(i,S))if(void 0!==this._getDataValue(S,s.series[A].summary,i))continue;d?(isNaN(w)||(j+=w),w=j):(isNaN(b[A])?b[A]=j:j+=b[A],b[A]=j)}if(isNaN(j)||l&&j<=0)continue;I=O=j}(isNaN(D)||D<O)&&(isNaN(a.maxValue)||O<=a.maxValue)&&(D=O),(isNaN(k)||I<k)&&(isNaN(a.minValue)||I>=a.minValue)&&(k=I),isNaN(j)||!d||g||(x<j?F+=j:j<x&&(T+=j))}if(f||(isNaN(a.maxValue)||(F=Math.min(a.maxValue,F)),isNaN(a.minValue)||(T=Math.max(a.minValue,T))),l&&f)for(var G,A=0;A<s.series.length;A++)this._isSerieVisible(i,A)?(j=this._getDataValueAsNumber(S,s.series[A].dataField,i),isNaN(j)||j<=0?M=.01:(G=0==F?0:j/F,(isNaN(M)||G<M)&&(M=G))):M=.01;C=F-T;N<C&&(N=C),f&&(V.psums[S]=F,V.nsums[S]=T),(m<D||isNaN(m))&&(m=D),(k<c||isNaN(c))&&(c=k),(_<F||isNaN(_))&&(_=F),(T<p||isNaN(p))&&(p=T)}f&&(_=0==_?0:Math.max(_,-p),p=0==p?0:Math.min(p,-_)),c==m&&(!isNaN(a.minValue)&&isNaN(a.maxValue)?(c=a.minValue,m=l?c*h:c+1):isNaN(a.minValue)&&!isNaN(a.maxValue)&&(m=a.maxValue,c=l?m/h:m-1)),c==m&&(0==c?(c=-1,m=1):c<0?m=0:l?1==c&&(c/=h,m*=h):c=0);o={gmin:c,gmax:m,gsumP:_,gsumN:p,gbase:x,isLogAxis:l,logBase:h,minPercent:M,gMaxRange:N,isStacked:d,isStacked100:f,isWaterfall:g,hasStackValueReversal:y,valueAxis:a,valueAxisSize:o};o.isStacked&&(o.gsumN<0&&(o.gmin=Math.min(o.gmin,o.gbase+o.gsumN)),0<o.gsumP&&(o.gmax=Math.max(o.gmax,o.gbase+o.gsumP))),V.context=o}this._mergeCommonValueAxisStats();for(var V,S=0;S<t.seriesGroups.length;S++)if((V=t.seriesGroups[S]).isValid){var E,H=this._calcOutputGroupStats(V.context);for(E in H)V[E]=H[E];delete V.context}},_mergeCommonValueAxisStats:function(){for(var e,t={},i=0;i<this.seriesGroups.length;i++)this._isGroupVisible(i)&&(this.seriesGroups[i].valueAxis||(e=this._stats.seriesGroups[i].context,t.gbase=e.gbase,(isNaN(t.gmin)||e.gmin<t.gmin)&&(t.gmin=e.gmin),(isNaN(t.gmax)||e.gmax>t.gmax)&&(t.gmax=e.gmax),(isNaN(t.gsumP)||e.gsumP>t.gsumP)&&(t.gsumP=e.gsumP),(isNaN(t.gsumN)||e.gsumN<t.gsumN)&&(t.gsumN=e.gsumN),(isNaN(t.logBase)||e.logBase<t.logBase)&&(t.logBase=e.logBase),(isNaN(t.minPercent)||e.minPercent<t.minPercent)&&(t.minPercent=e.minPercent),0<t.gsumN&&(t.gmin=Math.min(t.gmin,t.gbase+t.gsumN)),0<t.gsumP&&(t.gmax=Math.max(t.gmax,t.gbase+t.gsumP))));for(i=0;i<this.seriesGroups.length;i++)if(!this.seriesGroups[i].valueAxis){var s,r=this._stats.seriesGroups[i].context;for(s in t)r[s]=t[s]}},_calcOutputGroupStats:function(e){var t=e.gmin,i=e.gmax,s=e.gsumP,r=e.gsumN,a=e.gbase,n=e.isLogAxis,o=e.logBase,l=e.minPercent,h=e.gMaxRange,d=e.isStacked,f=e.isStacked100,u=e.isWaterfall,g=e.hasStackValueReversal,c=e.valueAxis,m=e.valueAxisSize,_=(_=e.valueAxis.unitInterval)||this._calcInterval(t,i,Math.max(m/80,2));t==i&&(t=a,i*=2);var p=NaN,x=0,m=0;if(n){if(f){p=0;for(var y=1,x=m=le.jqx.log(100,o);l<y;)y/=o,x--,p++;t=Math.pow(o,x)}else d&&!u&&(i=Math.max(i,s)),m=le.jqx._rnd(le.jqx.log(i,o),1,!0),i=Math.pow(o,m),x=le.jqx._rnd(le.jqx.log(t,o),1,!1),t=Math.pow(o,x);_=o}t<r&&(r=t),s<i&&(s=i);d=t,u=i;if(n||0!=Math.abs(u-d)%_&&(d=le.jqx._rnd(t,_,!1),u=le.jqx._rnd(i,_,!0)),f&&100<u&&(u=100),f&&!n&&(u=0<u?100:0,d=d<0?-100:0,_=c.unitInterval,(isNaN(_)||_<=0||100<=_)&&(_=10),100%_!=0))for(;1<=_&&100%_!=0;_--);return isNaN(u)||isNaN(d)||isNaN(_)?{}:(isNaN(p)&&(p=parseInt(((u-d)/(0==_?1:_)).toFixed())),n&&!f&&(p=m-x,h=Math.pow(o,p)),p<1?{}:{min:d,max:u,logarithmic:n,logBase:o,base:n?d:a,minPow:x,maxPow:m,sumP:s,sumN:r,mu:_,maxRange:h,intervals:p,hasStackValueReversal:g})},_getDataLen:function(e){var t=this.source;return null!=e&&-1!=e&&this.seriesGroups[e].source&&(t=this.seriesGroups[e].source),t instanceof le.jqx.dataAdapter&&(t=t.records),t?t.length:0},_getDataValue:function(e,t,i){var s=this.source;if(null!=i&&-1!=i&&(s=this.seriesGroups[i].source||s),s instanceof le.jqx.dataAdapter&&(s=s.records),!(!s||e<0||e>s.length-1))return le.isFunction(t)?t(e,s):t&&""!=t?s[e][t]:s[e]},_getDataValueAsNumber:function(e,t,i){i=this._getDataValue(e,t,i);return this._isDate(i)?i.valueOf():("number"!=typeof i&&(i=parseFloat(i)),"number"!=typeof i&&(i=void 0),i)},_isPieGroup:function(e){e=this.seriesGroups[e];return!(!e||!e.type)&&(-1!=e.type.indexOf("pie")||-1!=e.type.indexOf("donut"))},_renderPieSeries:function(e,t){for(var i=this._getDataLen(e),s=this.seriesGroups[e],r=this._calcGroupOffsets(e,t).offsets,a=0;a<s.series.length;a++){var n=s.series[a];if(!n.customDraw){var o=this._getSerieSettings(e,a),l=(n.colorScheme||s.colorScheme||this.colorScheme,this._getAnimProps(e,a)),h=l.enabled&&i<5e3&&!this._isToggleRefresh&&1!=this._isVML?l.duration:0;le.jqx.mobile.isMobileBrowser()&&this.renderer instanceof le.jqx.HTML5Renderer&&(h=0);l=this._get([n.minAngle,n.startAngle]);(isNaN(l)||l<0||360<l)&&(l=0);n=this._get([n.maxAngle,n.endAngle]);(isNaN(n)||n<0||360<n)&&(n=360);for(var d={rect:t,minAngle:l,maxAngle:n,groupIndex:e,serieIndex:a,settings:o,items:[]},f=0;f<i;f++){var u,g,c,m=r[a][f];m.visible&&(u=m.fromAngle,g=m.toAngle,c=this.renderer.pieslice(m.x,m.y,m.innerRadius,m.outerRadius,u,0==h?g:u,m.centerOffset),this._setRenderInfo(e,a,f,{element:c}),m={displayValue:m.displayValue,itemIndex:f,visible:m.visible,x:m.x,y:m.y,innerRadius:m.innerRadius,outerRadius:m.outerRadius,fromAngle:u,toAngle:g,centerOffset:m.centerOffset},d.items.push(m))}this._animatePieSlices(d,0);var _=this;this._enqueueAnimation("series",void 0,void 0,h,function(e,t,i){_._animatePieSlices(t,i)},d)}}},_sliceSortFunction:function(e,t){return e.fromAngle-t.fromAngle},_animatePieSlices:function(e,t){var i;this._elementRenderInfo&&this._elementRenderInfo.length>e.groupIndex&&this._elementRenderInfo[e.groupIndex].series&&this._elementRenderInfo[e.groupIndex].series.length>e.serieIndex&&(i=this._elementRenderInfo[e.groupIndex].series[e.serieIndex]);for(var s,r=this.seriesGroups[e.groupIndex],a=this._getLabelsSettings(e.groupIndex,e.serieIndex,NaN),n=a.visible,o=[],l=0;l<e.items.length;l++)(d=e.items[l]).visible&&(u=d.fromAngle,g=d.fromAngle+t*(d.toAngle-d.fromAngle),i&&i[d.displayValue]&&(u=(s=i[d.displayValue].fromAngle)+(u-s)*t,g=(s=i[d.displayValue].toAngle)+(g-s)*t),o.push({index:l,from:u,to:g}));i&&o.sort(this._sliceSortFunction);for(var h=NaN,l=0;l<o.length;l++){var d=e.items[o[l].index],f=this._getRenderInfo(e.groupIndex,e.serieIndex,d.itemIndex),u=o[l].from,g=o[l].to;i&&(!isNaN(h)&&h<u&&(u=h),h=g,l==o.length-1&&g!=o[0].from&&(g=e.maxAngle+o[0].from));var c=this.renderer.pieSlicePath(d.x,d.y,d.innerRadius,d.outerRadius,u,g,d.centerOffset);this.renderer.attr(f.element,{d:c});var m=this._getColors(e.groupIndex,e.serieIndex,d.itemIndex,"radialGradient",d.outerRadius),c=e.settings;f.colors=m,f.settings=c,this.renderer.attr(f.element,{fill:m.fillColor,stroke:m.lineColor,"stroke-width":c.stroke,"fill-opacity":c.opacity,"stroke-opacity":c.opacity,"stroke-dasharray":"none"});r.series[e.serieIndex];n&&this._showPieLabel(e.groupIndex,e.serieIndex,d.itemIndex,a),1==t&&this._installHandlers(f.element,"pieslice",e.groupIndex,e.serieIndex,d.itemIndex)}},_showPieLabel:function(e,t,i,s,r){var a,n,o,l,h,d,f,u,g,c=this._renderData[e].offsets[t][i];c.elementInfo.labelElement&&this.renderer.removeElement(c.elementInfo.labelElement),(s=s||this._getLabelsSettings(e,t,NaN)).visible&&(d=c.fromAngle,h=c.toAngle,f=Math.abs(d-h),360<f&&(d=0,h=360),Math.PI,Math.PI,u=f/2+d,a=(u%=360)*Math.PI*2/360,1==s.autoRotate&&(n=u<90||270<u?360-u:180-u),g=s.linesEnabled,o=this._showLabel(e,t,i,{x:0,y:0,width:0,height:0},"center","center",!0,!1,!1,n),l=s.radius||c.outerRadius+Math.max(o.width,o.height),this._isPercent(l)&&(l=parseFloat(l)/100*Math.min(this._plotRect.width,this._plotRect.height)/2),l+=c.centerOffset,isNaN(r)&&(r=0),l+=r,f=(h=this.seriesGroups[e]).series[t],d=le.jqx.getNum([f.offsetX,h.offsetX,this._plotRect.width/2]),f=le.jqx.getNum([f.offsetY,h.offsetY,this._plotRect.height/2]),h=this._plotRect.x+d,d=this._plotRect.y+f,f=this._adjustTextBoxPosition(h,d,o,l,u,c.outerRadius>l,0!=s.linesAngles,1==s.autoRotate),u={},c.elementInfo.labelElement=this._showLabel(e,t,i,{x:f.x,y:f.y,width:o.width,height:o.height},"left","top",!1,!1,!1,n,u),l>c.outerRadius+5&&0!=g&&(g={lineColor:c.elementInfo.colors.lineColor,stroke:c.elementInfo.settings.stroke,opacity:c.elementInfo.settings.opacity,dashStyle:c.elementInfo.settings.dashStyle},c.elementInfo.labelArrowPath=this._updateLebelArrowPath(c.elementInfo.labelArrowPath,h,d,l,c.outerRadius+r,a,0!=s.linesAngles,g,u)))},_updateLebelArrowPath:function(e,i,s,t,r,a,n,o,l){var h=le.jqx._ptrnd(i+ +t*Math.cos(a)),d=le.jqx._ptrnd(s-+t*Math.sin(a)),t=le.jqx._ptrnd(i+(r+2)*Math.cos(a)),a=le.jqx._ptrnd(s-(r+2)*Math.sin(a)),f=[];f.push({x:l.x+l.width/2,y:l.y}),f.push({x:l.x+l.width/2,y:l.y+l.height}),f.push({x:l.x,y:l.y+l.height/2}),f.push({x:l.x+l.width,y:l.y+l.height/2}),n||(f.push({x:l.x,y:l.y}),f.push({x:l.x+l.width,y:l.y}),f.push({x:l.x+l.width,y:l.y+l.height}),f.push({x:l.x,y:l.y+l.height})),f=(f=f.sort(function(e,t){return le.jqx._ptdist(e.x,e.y,i,s)-le.jqx._ptdist(t.x,t.y,i,s)})).sort(function(e,t){return Math.abs(e.x-i)+Math.abs(e.y-s)-(Math.abs(t.x-i)+Math.abs(t.y-s))});for(var u=0;u<f.length;u++)f[u].x=le.jqx._ptrnd(f[u].x),f[u].y=le.jqx._ptrnd(f[u].y);h=f[0].x,d=f[0].y;a=n?"M "+h+","+d+" L"+t+","+d+" L"+t+","+a:"M "+h+","+d+" L"+t+","+a;return e?this.renderer.attr(e,{d:a}):e=this.renderer.path(a,{}),this.renderer.attr(e,{fill:"none",stroke:o.lineColor,"stroke-width":o.stroke,"stroke-opacity":o.opacity,"stroke-dasharray":"none"}),e},_adjustTextBoxPosition:function(e,t,i,s,r,a,n,o){var l=r*Math.PI*2/360,h=le.jqx._ptrnd(e+s*Math.cos(l)),d=le.jqx._ptrnd(t-s*Math.sin(l));if(o){var f=i.width,u=i.height,g=Math.atan(u/f)%(2*Math.PI),c=l%(2*Math.PI),o=0;c<=g?o=f/2*Math.cos(l):g<=c&&c<Math.PI-g?o=u/2*Math.sin(l):c>=Math.PI-g&&c<Math.PI+g?o=f/2*Math.cos(l):c>=Math.PI+g&&c<2*Math.PI-g?o=u/2*Math.sin(l):c>=2*Math.PI-g&&c<2*Math.PI&&(o=f/2*Math.cos(l)),s+=Math.abs(o)+3;h=le.jqx._ptrnd(e+s*Math.cos(l)),d=le.jqx._ptrnd(t-s*Math.sin(l));return{x:h-=i.width/2,y:d-=i.height/2}}return a?(h-=i.width/2,d-=i.height/2):n?90<=r&&r<270?(d-=i.height/2,h-=i.width):d-=i.height/2:0<=r&&r<45||315<=r&&r<360?d-=i.height/2:45<=r&&r<135?(d-=i.height,h-=i.width/2):135<=r&&r<225?(d-=i.height/2,h-=i.width):225<=r&&r<315&&(h-=i.width/2),{x:h,y:d}},_isColumnType:function(e){return-1!=e.indexOf("column")||-1!=e.indexOf("waterfall")},_getColumnGroupsCount:function(e){var t=0;e=e||"vertical";for(var i=this.seriesGroups,s=0;s<i.length;s++){var r=i[s].orientation||"vertical";this._isColumnType(i[s].type)&&r==e&&t++}return this.columnSeriesOverlap&&(t=1),t},_getColumnGroupIndex:function(e){for(var t=0,i=this.seriesGroups[e].orientation||"vertical",s=0;s<e;s++){var r=this.seriesGroups[s],a=r.orientation||"vertical";this._isColumnType(r.type)&&a==i&&t++}return t},_renderAxisBands:function(e,t,i){var s=i?this._getXAxis(e):this._getValueAxis(e),r=this.seriesGroups[e],a=i?void 0:r.bands;if(!a){for(var n=0;n<e;n++)if((i?this._getXAxis(n):this._getValueAxis(n))==s)return;a=s.bands}if(le.isArray(a)){var o=t,l="horizontal"==r.orientation;l&&(o={x:t.y,y:t.x,width:t.height,height:t.width}),this._calcGroupOffsets(e,o);for(n=0;n<a.length;n++){var h=a[n],d=this._get([h.minValue,h.from]),f=this._get([h.maxValue,h.to]),u=i?this.getXAxisDataPointOffset(d,e):this.getValueAxisDataPointOffset(d,e),g=i?this.getXAxisDataPointOffset(f,e):this.getValueAxisDataPointOffset(f,e);if(!isNaN(u)&&!isNaN(g)){var c=Math.abs(u-g);if(r.polar||r.spider){var m=this._renderData[e],_=m.polarCoords;if(i)var p=r.spider?(x=this.getPolarDataPointOffset(d,this._stats.seriesGroups[e].max,e),y=this.getPolarDataPointOffset(f,this._stats.seriesGroups[e].max,e),A="M "+_.x+","+_.y,A+=" L "+x.x+","+x.y,A+=" L "+y.x+","+y.y,this.renderer.path(A)):(N={},v={x:Math.min(u,g),y:t.y,width:c,height:t.height},this._columnAsPieSlice(N,t,_,v),N.element);else{var x=this._toPolarCoord(_,t,t.x,m.baseOffset),y=this._toPolarCoord(_,t,t.x,u),v=this._toPolarCoord(_,t,t.x,g),N=le.jqx._ptdist(x.x,x.y,y.x,y.y),y=le.jqx._ptdist(x.x,x.y,v.x,v.y),x=Math.round(360*-_.startAngle/(2*Math.PI)),v=Math.round(360*-_.endAngle/(2*Math.PI));if(v<x&&(T=x,x=v,v=T),r.spider){var M,b=m.xAxis.offsetAngles,A="",w=[y,N],S=b;for(M in _.isClosedCircle&&(S=le.extend([],b)).push(S[0]),w){for(var C=0;C<S.length;C++){var k=0==M?C:b.length-C-1,D=_.x+w[M]*Math.cos(S[k]),F=_.y+w[M]*Math.sin(S[k]);A+=""==A?"M ":" L",A+=le.jqx._ptrnd(D)+","+le.jqx._ptrnd(F)}0==M&&(D=_.x+w[1]*Math.cos(S[k]),F=_.y+w[1]*Math.sin(S[k]),A+=" L"+le.jqx._ptrnd(D)+","+le.jqx._ptrnd(F))}A+=" Z",p=this.renderer.path(A)}else p=this.renderer.pieslice(_.x,_.y,N,y,x,v)}}else{var T,j={x:Math.min(u,g),y:o.y,width:c,height:o.height};i||(j={x:o.x,y:Math.min(u,g),width:o.width,height:c}),l&&(T=j.x,j.x=j.y,j.y=T,T=j.width,j.width=j.height,j.height=T),p=0==c||1==c?this.renderer.line(le.jqx._ptrnd(j.x),le.jqx._ptrnd(j.y),le.jqx._ptrnd(j.x+(l?0:j.width)),le.jqx._ptrnd(j.y+(l?j.height:0))):this.renderer.rect(j.x,j.y,j.width,j.height)}u=h.fillColor||h.color||"#AAAAAA",g=h.lineColor||u,c=h.lineWidth;isNaN(c)&&(c=1);j=h.opacity;(isNaN(j)||j<0||1<j)&&(j=1),this.renderer.attr(p,{fill:u,"fill-opacity":j,stroke:g,"stroke-opacity":j,"stroke-width":c,"stroke-dasharray":h.dashStyle})}}}},_getColumnGroupWidth:function(e,t,i){var s=this.seriesGroups[e],r=-1!=s.type.indexOf("stacked"),a=(r||s.series.length,this._getColumnGroupsCount(s.orientation));!isNaN(a)&&0!=a||(a=1);var n=1<=t.rangeLength?t.itemWidth:.9*i,e=s.columnsMinWidth;isNaN(e)&&(e=1),isNaN(s.columnsMaxWidth)||(e=Math.min(s.columnsMaxWidth,e)),n<e&&0<t.length&&(n=Math.max(n,.9*i/t.length));t=e;return r||(r=s.seriesGapPercent,(isNaN(r)||r<0)&&(r=10),e=e,e*=1+(r/=100),t+=s.series.length*e),{requiredWidth:t,availableWidth:n,targetWidth:Math.max(n/a,t)}},_getColumnSerieWidthAndOffset:function(e,t){var i=this.seriesGroups[e],s=(i.series[t],"horizontal"==i.orientation),r=this._plotRect;s&&(r={x:r.y,y:r.x,width:r.height,height:r.width});var a=this._calcGroupOffsets(e,r);if(a&&0!=a.xoffsets.length){var n=this._getColumnGroupsCount(i.orientation);"candlestick"!=i.type&&"ohlc"!=i.type||(n=1);var o=this._getColumnGroupIndex(e),l=this._getColumnGroupWidth(e,a.xoffsets,s?r.height:r.width),h=0,e=l.targetWidth;(1==this.columnSeriesOverlap||Math.round(e)>Math.round(l.availableWidth/n))&&(n=1,o=0),h-=e*n/2,h+=e*o;a=i.columnsGapPercent;a<=0&&(a=0),(isNaN(a)||100<=a)&&(a=25);s=e*(a/=100);s+l.requiredWidth>l.targetWidth&&(s=Math.max(0,l.targetWidth-l.requiredWidth)),Math.round(e)>Math.round(l.availableWidth)&&(s=0),e-=s,h+=s/2;r=i.seriesGapPercent;(isNaN(r)||r<0)&&(r=10);n=-1!=i.type.indexOf("stacked"),o=e;n||(o/=i.series.length);a=this._get([i.seriesGap,e*r/100/(i.series.length-1)]);(1==i.polar||1==i.spider||n||i.series.length<=1)&&(a=0);l=a*(i.series.length-1);1<i.series.length&&l>e-+i.series.length&&(a=(l=e-+i.series.length)/Math.max(1,i.series.length-1));s=o-l/i.series.length,r=0,o=i.columnsMaxWidth;isNaN(o)||o<s&&(r=s-o,s=o);return{width:s,offset:h+(n?r/2:(e-s*i.series.length-l)/2+s*t+Math.max(0,t)*a)}}},_renderColumnSeries:function(e,t){var i=this.seriesGroups[e];if(i.series&&0!=i.series.length){this._getDataLen(e);var s="horizontal"==i.orientation,r=t;s&&(r={x:t.y,y:t.x,width:t.height,height:t.width});var a,n=this._calcGroupOffsets(e,r);if(n&&0!=n.xoffsets.length){1!=i.polar&&1!=i.spider||(a=this._getPolarAxisCoords(e,r));var o={groupIndex:e,rect:t,vertical:!s,seriesCtx:[],renderData:n,polarAxisCoords:a};o.columnGroupWidth=this._getColumnGroupWidth(e,n.xoffsets,s?r.height:r.width);for(var l=this._getGroupGradientType(e),h=0;h<i.series.length;h++){var d=i.series[h];if(!d.customDraw){d.dataField;var f=this._getAnimProps(e,h),u=f.enabled&&!this._isToggleRefresh&&n.xoffsets.length<100?f.duration:0,g=this._getColumnSerieWidthAndOffset(e,h),c=this._isSerieVisible(e,h),m=this._getSerieSettings(e,h),f=this._getColors(e,h,NaN,this._getGroupGradientType(e),4),_=[];if(le.isFunction(d.colorFunction)&&!a)for(var p=n.xoffsets.first;p<=n.xoffsets.last;p++)_.push(this._getColors(e,h,p,l,4));c={seriesIndex:h,serieColors:f,itemsColors:_,settings:m,columnWidth:g.width,xAdjust:g.offset,isVisible:c};o.seriesCtx.push(c)}}this._animColumns(o,0==u?1:0);var x=this;this._enqueueAnimation("series",void 0,void 0,u,function(e,t,i){x._animColumns(t,i)},o)}}},_getPercent:function(e,t,i,s){return isNaN(e)&&(e=t),!isNaN(i)&&!isNaN(e)&&e<i&&(e=i),!isNaN(s)&&!isNaN(e)&&s<e&&(e=s),isNaN(e)?NaN:e},_getColumnVOffsets:function(e,t,i,s,r,a){var n=this.seriesGroups[t],o=this._getPercent(n.columnsTopWidthPercent,100,0,100),l=this._getPercent(n.columnsBottomWidthPercent,100,0,100);0==o&&0==l&&(l=100);for(var h=this._getPercent(n.columnsNeckHeightPercent,NaN,0,100)/100,d=this._getPercent(n.columnsNeckWidthPercent,100,0,100)/100,f=[],u=NaN,g=0;g<i.length;g++){var c=(N=i[g]).seriesIndex,m=(n.series[c],e.offsets[c][s].from),_=e.offsets[c][s].to,p=e.xoffsets.data[s],x=N.isVisible;x||(_=m);var y,v=this._elementRenderInfo;x&&v&&v.length>t&&v[t].series.length>c&&(y=e.xoffsets.xvalues[s],!(y=v[t].series[c][y])||isNaN(y.from)||isNaN(y.to)||(m=y.from+(m-y.from)*a,_=y.to+(_-y.to)*a,p=y.xoffset+(p-y.xoffset)*a)),y||(_=m+(_-m)*(r?1:a)),isNaN(m)&&(m=isNaN(u)?e.baseOffset:u),u=!isNaN(_)&&r?_:m,isNaN(_)&&(_=m);p={from:m,to:_,xOffset:p};100==o&&100==l||(p.funnel=!0,p.toWidthPercent=o,p.fromWidthPercent=l),f.push(p)}if(r&&1<f.length&&!(this._elementRenderInfo&&this._elementRenderInfo.length>t)){for(var N,M=0,b=0,A=-1/0,w=1/0,S=1/0,C=-1/0,k=0;k<f.length;k++)(N=i[k]).isVisible&&(f[k].to>=f[k].from?(b+=f[k].to-f[k].from,S=Math.min(S,f[k].from),C=Math.max(C,f[k].to)):(M+=f[k].from-f[k].to,A=Math.max(A,f[k].from),w=Math.min(w,f[k].to)));var D=M,F=b;M*=a,b*=a;for(var T,j=0,O=0,k=0;k<f.length;k++)f[k].to>=f[k].from?(b<(T=f[k].to-f[k].from)+O&&(T=Math.max(0,b-O),f[k].to=f[k].from+T),100==o&&100==l||(f[k].funnel=!0,!isNaN(h)&&O<=F*h?f[k].fromWidthPercent=100*d:f[k].fromWidthPercent=Math.abs(f[k].from-S)/F*(o-l)+l,!isNaN(h)&&0+(O+T)<=F*h?f[k].toWidthPercent=100*d:f[k].toWidthPercent=Math.abs(f[k].to-S)/F*(o-l)+l),O+=T):(M<(T=f[k].from-f[k].to)+j&&(T=Math.max(0,M-j),f[k].to=f[k].from-T),100==o&&100==l||(f[k].funnel=!0,!isNaN(h)&&j<=D*h?f[k].fromWidthPercent=100*d:f[k].fromWidthPercent=Math.abs(f[k].from-A)/D*(o-l)+l,!isNaN(h)&&0+(j+T)<=D*h?f[k].toWidthPercent=100*d:f[k].toWidthPercent=Math.abs(f[k].to-A)/D*(o-l)+l),j+=T)}return f},_columnAsPieSlice:function(e,t,i,s){var r=this._toPolarCoord(i,t,s.x,s.y),a=this._toPolarCoord(i,t,s.x,s.y+s.height),n=le.jqx._ptdist(i.x,i.y,a.x,a.y),o=le.jqx._ptdist(i.x,i.y,r.x,r.y),l=t.width,a=180*Math.abs(i.startAngle-i.endAngle)/Math.PI,r=-(s.x-t.x)*a/l,a=-(s.x+s.width-t.x)*a/l,l=i.startAngle;return r-=l=360*l/(2*Math.PI),a-=l,e&&(null!=e.element?(l=this.renderer.pieSlicePath(i.x,i.y,n,o,a,r,0),l+=" Z",this.renderer.attr(e.element,{d:l})):e.element=this.renderer.pieslice(i.x,i.y,n,o,a,r,0)),{fromAngle:a,toAngle:r,innerRadius:n,outerRadius:o}},_setRenderInfo:function(e,t,i,s){this._renderData[e].offsets[t][i].elementInfo=s},_getRenderInfo:function(e,t,i){return this._renderData[e].offsets[t][i].elementInfo||{}},_animColumns:function(e,t){for(var i=e.groupIndex,s=this.seriesGroups[i],r=e.renderData,a=-1!=s.type.indexOf("waterfall"),n=this._getXAxis(i),o=-1!=s.type.indexOf("stacked"),l=e.polarAxisCoords,h=(this._getGroupGradientType(i),e.columnGroupWidth.targetWidth,-1),d=0;d<s.series.length;d++)if(this._isSerieVisible(i,d)){h=d;break}for(var f=NaN,u=NaN,d=0;d<e.seriesCtx.length;d++){var g=e.seriesCtx[d];(isNaN(f)||f>g.xAdjust)&&(f=g.xAdjust),(isNaN(u)||u<g.xAdjust+g.columnWidth)&&(u=g.xAdjust+g.columnWidth)}var c=Math.abs(u-f),m=this._get([s.columnsGapPercent,25])/100;(isNaN(m)<0||1<=m)&&(m=.25);for(var _=m*c,p=e.renderData.xoffsets,x=-1,y={},v=1==s.skipOverlappingPoints,N=p.first;N<=p.last;N++){var M=p.data[N];if(!isNaN(M)&&!(-1!=x&&Math.abs(M-x)<c-1+_&&v)){x=M;var b=this._getColumnVOffsets(r,i,e.seriesCtx,N,o,t),A=!1;if(a)for(var w=0;w<s.series.length;w++)s.series[w].summary&&p.xvalues[N][s.series[w].summary]&&(A=!0);for(w=0;w<e.seriesCtx.length;w++){var S,C,k,D,F,T,j,O,I=(g=e.seriesCtx[w]).seriesIndex,P=s.series[I],q=b[w].from,L=b[w].to,R=b[w].xOffset,G=(e.vertical?e.rect.x:e.rect.y)+g.xAdjust,V=g.settings,E=0!=g.itemsColors.length?g.itemsColors[N-r.xoffsets.first]:g.serieColors,H=this._isSerieVisible(i,I);H&&(S={x:M=le.jqx._ptrnd(G+R),width:g.columnWidth},b[w].funnel&&(S.fromWidthPercent=b[w].fromWidthPercent,S.toWidthPercent=b[w].toWidthPercent),C=!0,e.vertical?(S.y=q,S.height=L-q,S.height<0&&(S.y+=S.height,S.height=-S.height,C=!1)):(S.x=q<L?q:L,S.width=Math.abs(q-L),C=q-L<0,S.y=M,S.height=g.columnWidth),k=q-L,isNaN(k)||(k=Math.abs(k),O=void 0,R=null==(G=(D=this._getRenderInfo(i,I,N)).element),(q=D.labelElement)&&(this.renderer.removeElement(q),q=void 0),l?(T={element:G},O=this._columnAsPieSlice(T,e.rect,l,S),G=T.element,E=this._getColors(i,I,void 0,"radialGradient",O.outerRadius)):b[w].funnel?(F=this._getTrapezoidPath(le.extend({},S),e.vertical,C),R?G=this.renderer.path(F,{}):this.renderer.attr(G,{d:F})):R?G=this.renderer.rect(S.x,S.y,e.vertical?S.width:0,e.vertical?0:S.height):1==e.vertical?this.renderer.attr(G,{x:S.x,y:S.y,height:k}):this.renderer.attr(G,{x:S.x,y:S.y,width:k}),k<1&&(1!=t||l)?this.renderer.attr(G,{display:"none"}):this.renderer.attr(G,{display:"block"}),R&&this.renderer.attr(G,{fill:E.fillColor,"fill-opacity":V.opacity,"stroke-opacity":V.opacity,stroke:E.lineColor,"stroke-width":V.stroke,"stroke-dasharray":V.dashStyle}),q&&this.renderer.removeElement(q),!H||0==k&&t<1?(D={element:G,labelElement:q},this._setRenderInfo(i,I,N,D)):(a&&0!=this._get([P.showWaterfallLines,s.showWaterfallLines])&&((!o||o&&w==h)&&(T=o?-1:w,1!=t||isNaN(r.offsets[w][N].from)||isNaN(r.offsets[w][N].to)||null!=(F=y[T])&&(H={x:M,y:(R={x:F.x,y:le.jqx._ptrnd(F.y)}).y},P=s.columnsTopWidthPercent/100,(isNaN(P)||1<P||P<0)&&(P=1),T=s.columnsBottomWidthPercent/100,(isNaN(T)||1<T||T<0)&&(T=1),j=e.vertical?S.width:S.height,R.x=R.x-j/2+j/2*P,T=A?j*P/2:j*T/2,H.x=H.x+j/2-(n.flip?-T:T),e.vertical||(this._swapXY([R]),this._swapXY([H])),this.renderer.line(R.x,R.y,H.x,H.y,{stroke:F.color,"stroke-width":V.stroke,"stroke-opacity":V.opacity,"fill-opacity":V.opacity,"stroke-dasharray":V.dashStyle}))),1==t&&0!=k&&(y[o?-1:w]={y:L,x:e.vertical?S.x+S.width:S.y+S.height,color:E.lineColor})),D={element:G,labelElement:q=l?(this._toPolarCoord(l,e.rect,S.x+S.width/2,S.y),j=this._showLabel(i,I,N,S,void 0,void 0,!0),E=O.outerRadius+10,O=this._adjustTextBoxPosition(l.x,l.y,j,E,(O.fromAngle+O.toAngle)/2,!0,!1,!1),this._showLabel(i,I,N,{x:O.x,y:O.y},void 0,void 0,!1,!1,!1)):this._showLabel(i,I,N,S,void 0,void 0,!1,!1,C)},this._setRenderInfo(i,I,N,D),1==t&&this._installHandlers(G,"column",i,I,N))))}}}},_getTrapezoidPath:function(e,t,i){var s="",r=e.fromWidthPercent/100,a=e.toWidthPercent/100;t||(n=e.width,e.width=e.height,e.height=n,n=e.x,e.x=e.y,e.y=n);var n=e.x+e.width/2,o=[{x:n-e.width*(i?a:r)/2,y:e.y+e.height},{x:n-e.width*(i?r:a)/2,y:e.y},{x:n+e.width*(i?r:a)/2,y:e.y},{x:n+e.width*(i?a:r)/2,y:e.y+e.height}];t||this._swapXY(o),s+="M "+le.jqx._ptrnd(o[0].x)+","+le.jqx._ptrnd(o[0].y);for(var l=1;l<o.length;l++)s+=" L "+le.jqx._ptrnd(o[l].x)+","+le.jqx._ptrnd(o[l].y);return s+=" Z"},_swapXY:function(e){for(var t=0;t<e.length;t++){var i=e[t].x;e[t].x=e[t].y,e[t].y=i}},_renderCandleStickSeries:function(e,t,i){var s=this,r=s.seriesGroups[e];if(r.series&&0!=r.series.length){var a="horizontal"==r.orientation,n=t;a&&(n={x:t.y,y:t.x,width:t.height,height:t.width});var o=s._calcGroupOffsets(e,n);if(o&&0!=o.xoffsets.length){var l;n.width;(r.polar||r.spider)&&(l=s._getPolarAxisCoords(e,n)).r;s._alignValuesWithTicks(e);for(var h=s._getGroupGradientType(e),d=[],f=0;f<r.series.length;f++)d[f]=s._getColumnSerieWidthAndOffset(e,f);for(var u,g,c,f=0;f<r.series.length;f++)this._isSerieVisible(e,f)&&(g=s._getSerieSettings(e,f),(u=r.series[f]).customDraw||(c=le.isFunction(u.colorFunction)?void 0:s._getColors(e,f,NaN,h),g={rect:t,inverse:a,groupIndex:e,seriesIndex:f,symbolType:u.symbolType,symbolSize:u.symbolSize,"fill-opacity":g.opacity,"stroke-opacity":g.opacity,"stroke-width":g.stroke,"stroke-dasharray":g.dashStyle,gradientType:h,colors:c,renderData:o,polarAxisCoords:l,columnsInfo:d,isOHLC:i,items:[],self:s},c=(c=s._getAnimProps(e,f)).enabled&&!s._isToggleRefresh&&o.xoffsets.length<5e3?c.duration:0,s._animCandleStick(g,0),s._enqueueAnimation("series",void 0,void 0,c,function(e,t,i){s._animCandleStick(t,i)},g)))}}},_animCandleStick:function(e,t){var i=["Open","Low","Close","High"],s=e.columnsInfo[e.seriesIndex].width,r=e.self.seriesGroups[e.groupIndex],a=e.renderData.xoffsets,n=-1,o=Math.abs(a.data[a.last]-a.data[a.first]);o*=t;for(var l=NaN,h=NaN,d=0;d<e.columnsInfo.length;d++){var f=e.columnsInfo[d];(isNaN(l)||l>f.offset)&&(l=f.offset),(isNaN(h)||h<f.offset+f.width)&&(h=f.offset+f.width)}for(var u=Math.abs(h-l),g=0!=r.skipOverlappingPoints,c=a.first;c<=a.last;c++){var m=a.data[c];if(!isNaN(m)&&!(-1!=n&&Math.abs(m-n)<u&&g)){if(o<Math.abs(a.data[c]-a.data[a.first]))break;n=m;var _,p=e.items[c]=e.items[c]||{};for(d in i){var x=e.self._getDataValueAsNumber(c,r.series[e.seriesIndex]["dataField"+i[d]],e.groupIndex);if(isNaN(x))break;var y=e.renderData.offsets[e.seriesIndex][c][i[d]];if(isNaN(y))break;p[i[d]]=y}for(_ in m+=e.inverse?e.rect.y:e.rect.x,e.polarAxisCoords&&(m=(N=this._toPolarCoord(e.polarAxisCoords,this._plotRect,m,y)).x,y=N.y),m=le.jqx._ptrnd(m),i)p[_]=le.jqx._ptrnd(p[_]);var v,N,M,b=(b=e.colors)||e.self._getColors(e.groupIndex,e.seriesIndex,c,e.gradientType);e.isOHLC?(M="M"+m+","+p.Low+" L"+m+","+p.High+" M"+(m-s/2)+","+p.Open+" L"+m+","+p.Open+" M"+(m+s/2)+","+p.Close+" L"+m+","+p.Close,e.inverse&&(M="M"+p.Low+","+m+" L"+p.High+","+m+" M"+p.Open+","+(m-s/2)+" L"+p.Open+","+m+" M"+p.Close+","+m+" L"+p.Close+","+(m+s/2)),(v=p.lineElement)||(v=this.renderer.path(M,{}),this.renderer.attr(v,{fill:b.fillColor,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:b.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),p.lineElement=v),1==t&&this._installHandlers(v,"column",e.groupIndex,e.seriesIndex,c)):((v=p.lineElement)||(v=e.inverse?this.renderer.line(p.Low,m,p.High,m):this.renderer.line(m,p.Low,m,p.High),this.renderer.attr(v,{fill:b.fillColor,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:b.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),p.lineElement=v),m-=s/2,(N=p.stickElement)||(M=b.fillColor,p.Close<=p.Open&&b.fillColorAlt&&(M=b.fillColorAlt),N=e.inverse?this.renderer.rect(Math.min(p.Open,p.Close),m,Math.abs(p.Close-p.Open),s):this.renderer.rect(m,Math.min(p.Open,p.Close),s,Math.abs(p.Close-p.Open)),this.renderer.attr(N,{fill:M,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:b.lineColor,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]}),p.stickElement=N),1==t&&this._installHandlers(N,"column",e.groupIndex,e.seriesIndex,c))}}},_renderScatterSeries:function(e,t,i){var s=this.seriesGroups[e];if(s.series&&0!=s.series.length){var r=-1!=s.type.indexOf("bubble"),a="horizontal"==s.orientation,n=t;a&&(n={x:t.y,y:t.x,width:t.height,height:t.width});var o=this._calcGroupOffsets(e,n);if(o&&0!=o.xoffsets.length){var l,h=n.width;(s.polar||s.spider)&&(h=2*(l=this._getPolarAxisCoords(e,n)).r);this._alignValuesWithTicks(e);var d=this._getGroupGradientType(e);i=i||"to";for(var f=0;f<s.series.length;f++){var u=this._getSerieSettings(e,f),g=s.series[f];if(!g.customDraw){var c=g.dataField,m=le.isFunction(g.colorFunction),_=this._getColors(e,f,NaN,d),p=NaN,x=NaN;if(r)for(var y=o.xoffsets.first;y<=o.xoffsets.last;y++){if("number"!=typeof(M=this._getDataValueAsNumber(y,g.radiusDataField||g.sizeDataField,e)))throw"Invalid radiusDataField value at ["+y+"]";isNaN(M)||((isNaN(p)||M<p)&&(p=M),(isNaN(x)||x<M)&&(x=M))}var v=g.minRadius||g.minSymbolSize;isNaN(v)&&(v=h/50);var N=g.maxRadius||g.maxSymbolSize;isNaN(N)&&(N=h/25),N<v&&(N=v);for(var M,b=g.radius,b=isNaN(b)&&!isNaN(g.symbolSize)?"circle"==g.symbolType?g.symbolSize/2:g.symbolSize:5,A=this._getAnimProps(e,f),A=A.enabled&&!this._isToggleRefresh&&o.xoffsets.length<5e3?A.duration:0,w={groupIndex:e,seriesIndex:f,symbolType:g.symbolType,symbolSize:g.symbolSize,"fill-opacity":u.opacity,"stroke-opacity":u.opacity,"stroke-width":u.stroke,"stroke-width-symbol":u.strokeSymbol,"stroke-dasharray":u.dashStyle,items:[],polarAxisCoords:l},S=void 0,y=o.xoffsets.first;y<=o.xoffsets.last;y++)if("number"==typeof(M=this._getDataValueAsNumber(y,c,e))){var C=o.xoffsets.data[y],k=o.xoffsets.xvalues[y],D=o.offsets[f][y][i];if(!(D<n.y||D>n.y+n.height))if(!isNaN(C)&&!isNaN(D))if(a?(j=C,C=D,D=j+t.y):C+=t.x,!(!m&&S&&this.enableSampling&&le.jqx._ptdist(S.x,S.y,C,D)<1)){S={x:C,y:D};var F=b;if(r){var T=this._getDataValueAsNumber(y,g.radiusDataField||g.sizeDataField,e);if("number"!=typeof T)continue;F=v+(N-v)*(T-p)/Math.max(1,x-p),isNaN(F)&&(F=v)}o.offsets[f][y].radius=F;var j,O=NaN,I=NaN,P=0,T=this._elementRenderInfo;null!=k&&T&&T.length>e&&T[e].series.length>f&&((k=T[e].series[f][k])&&!isNaN(k.to)&&(O=k.to,I=k.xoffset,P=b,a?(j=I,I=O,O=j+t.y):I+=t.x,r&&(P=v+(N-v)*(k.valueRadius-p)/Math.max(1,x-p),isNaN(P)&&(P=v)))),m&&(_=this._getColors(e,f,y,d)),w.items.push({from:P,to:F,itemIndex:y,fill:_.fillColor,stroke:_.lineColor,x:C,y:D,xFrom:I,yFrom:O})}}this._animR(w,0);var q=this;this._enqueueAnimation("series",void 0,void 0,A,function(e,t,i){q._animR(t,i)},w)}}}}},_animR:function(e,t){for(var i=e.items,s=e.symbolType||"circle",r=e.symbolSize,a=0;a<i.length;a++){var n=i[a],o=n.x,l=n.y,h=Math.round((n.to-n.from)*t+n.from);isNaN(n.yFrom)||(l=n.yFrom+(l-n.yFrom)*t),isNaN(n.xFrom)||(o=n.xFrom+(o-n.xFrom)*t),e.polarAxisCoords&&(o=(f=this._toPolarCoord(e.polarAxisCoords,this._plotRect,o,l)).x,l=f.y),o=le.jqx._ptrnd(o),l=le.jqx._ptrnd(l),h=le.jqx._ptrnd(h);var d=this._getRenderInfo(e.groupIndex,e.seriesIndex,i[a].itemIndex),f=d.element,d=d.labelElement;"circle"==s?(f||(f=this.renderer.circle(o,l,h),this.renderer.attr(f,{fill:n.fill,"fill-opacity":e["fill-opacity"],"stroke-opacity":e["fill-opacity"],stroke:n.stroke,"stroke-width":e["stroke-width"],"stroke-dasharray":e["stroke-dasharray"]})),this._isVML?this.renderer.updateCircle(f,void 0,void 0,h):this.renderer.attr(f,{r:h,cy:l,cx:o})):(f&&this.renderer.removeElement(f),f=this._drawSymbol(s,o,l,n.fill,e["fill-opacity"],n.stroke,e["stroke-opacity"]||e["fill-opacity"],e["stroke-width-symbol"],e["stroke-dasharray"],r||h)),d&&this.renderer.removeElement(d),d=this._showLabel(e.groupIndex,e.seriesIndex,n.itemIndex,{x:o-h,y:l-h,width:2*h,height:2*h}),1<=t&&this._installHandlers(f,"circle",e.groupIndex,e.seriesIndex,n.itemIndex),this._setRenderInfo(e.groupIndex,e.seriesIndex,i[a].itemIndex,{element:f,labelElement:d})}},_showMultiSeriesToolTip:function(e,t,i){for(var s=this,r='<div style="text-align:left">',a="",n=0;n<s.seriesGroups.length;n++)if(!s._isPieGroup(n)){var o=s._getXAxis(n),l=s._getValueAxis(n),h=s.seriesGroups[n],d=this._getAxisSettings(o),f=d.toolTipFormatSettings,u=d.toolTipFormatFunction,d=s._getDataValue(i,o.dataField,n);null!=o.dataField&&""!=o.dataField||(d=i),"date"==o.type&&(d=s._castAsDate(d,(f?f.dateFormat:void 0)||o.dateFormat)),u||f||"date"!=o.type||(u=this._getDefaultDTFormatFn(o.baseUnit||"day"));o=o.displayText||o.dataField||"";""!=o&&(o+=": ");u=o+s._formatValue(d,f,u,n,g,i);a!=u&&(""!=a&&(r+="<br />"),r+=u+"<br /><br />",a=u);for(var g=0;g<h.series.length;g++){var c,m=h.series[g];0!=h.showToolTips&&0!=m.showToolTips&&s._isSerieVisible(n,g)&&(c=s._get([m.toolTipFormatSettings,h.toolTipFormatSettings,l.toolTipFormatSettings,s.toolTipFormatSettings]),m=s._get([m.toolTipFormatFunction,h.toolTipFormatFunction,l.toolTipFormatFunction,s.toolTipFormatFunction]),m=s._getFormattedValue(n,g,i,c,m),r+="<span style='color:"+s._getColors(n,g,i).lineColor+";'>"+m+"</span><br />\n")}}var _=this._get([s.toolTipClass,this.toThemeProperty("jqx-chart-tooltip-text",null)]),p=this._get([s.toolTipBackground,"#FFFFFF"]),x=this._get([s.toolTipLineColor,s._defaultLineColor]),y=this._get([s.toolTipOpacity,1]);r+="</div>";var v=this.getItemCoord(s._ttEl.gidx,s._ttEl.sidx,s._ttEl.iidx);s._createTooltip(v,s.seriesGroups[s._ttEl.gidx],r,{css:_,fill:p,stroke:x,fillOpacity:y,symbolSize:3})},_showToolTip:function(e,t,i,s,r){var a=this,n=a._getXAxis(i),o=a._getValueAxis(i);if(!a._ttEl||i!=a._ttEl.gidx||s!=a._ttEl.sidx||r!=a._ttEl.iidx){var l=a.seriesGroups[i],h=l.series[s],d=a.enableCrosshairs;a._pointMarker?(e=parseInt(a._pointMarker.x+5),t=parseInt(a._pointMarker.y-5)):d=!1;var f=d&&0==a.showToolTips;e=le.jqx._ptrnd(e),t=le.jqx._ptrnd(t);a._ttEl;if(0!=l.showToolTips&&0!=h.showToolTips){a._ttEl||(a._ttEl={}),a._ttEl.sidx=s,a._ttEl.gidx=i,a._ttEl.iidx=r;for(var u=0,g=0;g<a.seriesGroups.length;g++)for(var c=0;c<a.seriesGroups[g].series.length;c++)u++;if(a.showToolTipsOnAllSeries&&!a._isPieGroup(i)&&1<u)a._showMultiSeriesToolTip(e,t,r);else{var m=a._get([h.toolTipFormatSettings,l.toolTipFormatSettings,o.toolTipFormatSettings,a.toolTipFormatSettings]),_=a._get([h.toolTipFormatFunction,l.toolTipFormatFunction,o.toolTipFormatFunction,a.toolTipFormatFunction]),e=a._getColors(i,s,r),t=a._getDataValue(r,n.dataField,i);null!=n.dataField&&""!=n.dataField||(t=r),"date"==n.type&&(t=a._castAsDate(t,(m?m.dateFormat:void 0)||n.dateFormat));o="";if(le.isFunction(_)){var p,x={},y=0;for(p in h)0==p.indexOf("dataField")&&(x[p.substring(9,p.length).toLowerCase()]=a._getDataValue(r,h[p],i),y++);0==y?x=a._getDataValue(r,void 0,i):1==y&&(x=x[""]),o=_(x,r,h,l,t,n)}else{o=a._getFormattedValue(i,s,r,m,_);var v=this._getAxisSettings(n),m=v.toolTipFormatSettings,_=v.toolTipFormatFunction;_||m||"date"!=n.type||(_=this._getDefaultDTFormatFn(n.baseUnit||"day"));v=a._formatValue(t,m,_,i,s,r);o=a._isPieGroup(i)?(t=a._getDataValue(r,h.displayText||h.dataField,i),(v=a._formatValue(t,m,_,i,s,r))+": "+o):0<(A=n.displayText||n.dataField||"").length?A+": "+v+"<br>"+o:v+"<br>"+o}a.renderer.getRect();if(d){var N=le.jqx._ptrnd(a._pointMarker.x),M=le.jqx._ptrnd(a._pointMarker.y),b=a.crosshairsColor||a._defaultLineColor;if(l.polar||l.spider){var A=this._getPolarAxisCoords(i,this._plotRect);if(le.jqx._ptdist(N,M,A.x,A.y)>A.r)return;v=Math.atan2(M-A.y,N-A.x),d=Math.cos(v)*A.r+A.x,v=Math.sin(v)*A.r+A.y;a._ttEl.vLine?a.renderer.attr(a._ttEl.vLine,{x1:A.x,y1:A.y,x2:d,y2:v}):a._ttEl.vLine=a.renderer.line(A.x,A.y,d,v,{stroke:b,"stroke-width":a.crosshairsLineWidth||1,"stroke-dasharray":a.crosshairsDashStyle||""})}else a._ttEl.vLine&&a._ttEl.hLine?(a.renderer.attr(a._ttEl.vLine,{x1:N,x2:N}),a.renderer.attr(a._ttEl.hLine,{y1:M,y2:M})):(a._ttEl.vLine=a.renderer.line(N,a._plotRect.y,N,a._plotRect.y+a._plotRect.height,{stroke:b,"stroke-width":a.crosshairsLineWidth||1,"stroke-dasharray":a.crosshairsDashStyle||""}),a._ttEl.hLine=a.renderer.line(a._plotRect.x,M,a._plotRect.x+a._plotRect.width,M,{stroke:b,"stroke-width":a.crosshairsLineWidth||1,"stroke-dasharray":a.crosshairsDashStyle||""}))}f||0==a.showToolTips||(N=this._get([h.toolTipClass,l.toolTipClass,a.toolTipClass,this.toThemeProperty("jqx-chart-tooltip-text",null)]),M=this._get([h.toolTipBackground,l.toolTipBackground,a.toolTipBackground,"#FFFFFF"]),b=this._get([h.toolTipLineColor,l.toolTipLineColor,a.toolTipLineColor,e.lineColor]),f=this._get([h.toolTipOpacity,l.toolTipOpacity,a.toolTipOpacity,1]),e=this.getItemCoord(i,s,r),s=0,a._pointMarker&&a._pointMarker.element&&(s=h.symbolSizeSelected,isNaN(s)&&(s=h.symbolSize),(isNaN(s)||50<s||s<0)&&(s=l.symbolSize),(isNaN(s)||50<s||s<0)&&(s=8)),a._createTooltip(e,l,o,{css:N,fill:M,stroke:b,fillOpacity:f,symbolSize:s}))}}}},_fitTooltip:function(e,t,i,s,r){var a,n={},r=2+r/2;if(t.x-i.width-7-r>e.x&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(n.left={arrowLocation:"right",x:t.x-i.width-7-r,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.x+t.width+i.width+7+r<e.x+e.width&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(n.right={arrowLocation:"left",x:t.x+t.width+r,y:t.y+t.height/2-i.height/2,width:i.width+7,height:i.height}),t.y-i.height-r-7>e.y&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(n.top={arrowLocation:"bottom",x:t.x+t.width/2-i.width/2,y:t.y-i.height-r-7,width:i.width,height:i.height+7}),t.y+t.height+i.height+7+r<e.y+e.height&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(n.bottom={arrowLocation:"top",x:t.x+t.width/2-i.width/2,y:t.y+t.height+r,width:i.width,height:i.height+7}),t.width>t.height||(-1!=s.type.indexOf("stackedcolumn")||-1!=s.type.indexOf("stackedwaterfall"))&&"horizontal"!=s.orientation){if(n.left)return n.left;if(n.right)return n.right}else{if(n.top)return n.top;if(n.bottom)return n.bottom}for(a in n)if(n[a])return n[a];return{arrowLocation:""}},_createTooltip:function(e,t,i,s){var r,a,n,o=this,l=t.type,h=!1,d=o._ttEl.box;if(d||(h=!0,(d=o._ttEl.box=document.createElement("div")).style.position="absolute",d.style.cursor="default",le(r).css({"z-index":1e7,"box-sizing":"content-box"}),le(d).css({"z-index":1e7}),le(document.body).append(d),(r=document.createElement("div")).id="arrowOuterDiv",r.style.width="0px",r.style.height="0px",r.style.position="absolute",le(r).css({"z-index":1e7+1,"box-sizing":"content-box"}),(a=document.createElement("div")).id="arrowInnerDiv",a.style.width="0px",a.style.height="0px",a.style.position="absolute",(n=document.createElement("div")).id="contentDiv",n.style.position="absolute",le(n).css({"box-sizing":"content-box",outline:"none",border:"1px solid transparent",padding:"3px","text-align":"center","vertical-align":"middle",margin:"0 0 0 0",cursor:"default"}),le(n).addClass("jqx-rc-all"),le(n).appendTo(le(d)),le(r).appendTo(le(d)),le(a).appendTo(le(d)),le(a).css({"z-index":1e7+2,"box-sizing":"content-box"})),i&&0!=i.length){n=le(d).find("#contentDiv")[0],r=le(d).find("#arrowOuterDiv")[0],(a=le(d).find("#arrowInnerDiv")[0]).style.opacity=r.style.opacity=s.fillOpacity,n.style.backgroundColor=s.fill,n.style.borderColor=s.stroke,n.style.opacity=s.fillOpacity;var f="<span class='"+s.css+"'>"+i+"</span>";le(n).html(f);var u=this._measureHtml(f,"jqx-rc-all jqx-button"),g=o._plotRect;if(!(u.width>g.width||u.height>g.height)){var c={width:u.width,height:u.height},m="",_=o._isColumnType(l),i=Math.max(e.x,g.x),f=Math.max(e.y,g.y);"dataPoint"==o.toolTipAlignment?(-1!=l.indexOf("pie")||-1!=l.indexOf("donut")?(l=(e.fromAngle+e.toAngle)/2,l*=Math.PI/180,p=!isNaN(e.innerRadius)&&0<e.innerRadius?(e.innerRadius+e.outerRadius)/2:.75*e.outerRadius,i=e.x=e.center.x+Math.cos(l)*p,f=e.y=e.center.y-Math.sin(l)*p,e.width=e.height=1):_&&(t.polar||t.spider)&&(e.width=e.height=1),""!=(p=this._fitTooltip(this._plotRect,e,c,t,s.symbolSize)).arrowLocation&&(m=p.arrowLocation,i=p.x,f=p.y,c.width=p.width,c.height=p.height)):m="","top"==m||"bottom"==m?(c.height+=7,i-=3.5,"bottom"==m&&(f-=7)):"left"!=m&&"right"!=m||(c.width+=7,f-=3.5,"right"==m&&(i-=7)),i+c.width>g.x+g.width&&(m="",i=g.x+g.width-c.width),f+c.height>g.y+g.height&&(m="",f=g.y+g.height-c.height);e={x:0,y:0},t={x:0,y:0};le(n).css({width:u.width,height:u.height,left:0,top:0}),r.style["margin-top"]=r.style["margin-left"]=0,a.style["margin-top"]=a.style["margin-left"]=0,n.style["margin-top"]=n.style["margin-left"]=0;var p="7px solid",g="7px solid transparent";switch(m){case"left":e={x:0,y:(u.height-7)/2},t={x:7,y:0},n.style["margin-left"]="7px",r.style["margin-left"]="0px",r.style["margin-top"]=e.y+"px",r.style["border-left"]="",r.style["border-right"]=p+" "+s.stroke,r.style["border-top"]=g,r.style["border-bottom"]=g,a.style["margin-left"]="1px",a.style["margin-top"]=e.y+"px",a.style["border-left"]="",a.style["border-right"]=p+" "+s.fill,a.style["border-top"]=g,a.style["border-bottom"]=g;break;case"right":e={x:c.width-7,y:(u.height-7)/2},t={x:0,y:0},r.style["margin-left"]=e.x+"px",r.style["margin-top"]=e.y+"px",r.style["border-left"]=p+" "+s.stroke,r.style["border-right"]="",r.style["border-top"]=g,r.style["border-bottom"]=g,a.style["margin-left"]=e.x-1+"px",a.style["margin-top"]=e.y+"px",a.style["border-left"]=p+" "+s.fill,a.style["border-right"]="",a.style["border-top"]=g,a.style["border-bottom"]=g;break;case"top":e={x:c.width/2-3.5,y:0},t={x:0,y:7},n.style["margin-top"]=t.y+"px",r.style["margin-left"]=e.x+"px",r.style["border-top"]="",r.style["border-bottom"]=p+" "+s.stroke,r.style["border-left"]=g,r.style["border-right"]=g,a.style["margin-left"]=e.x+"px",a.style["margin-top"]="1px",a.style["border-top"]="",a.style["border-bottom"]=p+" "+s.fill,a.style["border-left"]=g,a.style["border-right"]=g;break;case"bottom":e={x:c.width/2-3.5,y:c.height-7},t={x:0,y:0},r.style["margin-left"]=e.x+"px",r.style["margin-top"]=e.y+"px",r.style["border-top"]=p+" "+s.stroke,r.style["border-bottom"]="",r.style["border-left"]=g,r.style["border-right"]=g,a.style["margin-left"]=e.x+"px",a.style["margin-top"]=e.y-1+"px",a.style["border-top"]=p+" "+s.fill,a.style["border-bottom"]="",a.style["border-left"]=g,a.style["border-right"]=g}""==m?(le(r).hide(),le(a).hide()):(le(r).show(),le(a).show()),le(d).css({width:c.width+"px",height:c.height+"px"});c=o.host.coord();h&&(le(d).fadeOut(0,0),d.style.left=i+c.left+"px",d.style.top=f+c.top+"px"),le(d).clearQueue(),le(d).animate({left:i+c.left,top:f+c.top,opacity:1},o.toolTipMoveDuration,"easeInOutCirc"),le(d).fadeTo(400,1)}}else le(d).fadeTo(0,0)},_measureHtml:function(e,t){var i=this._measureDiv;i||(this._measureDiv=i=document.createElement("div"),i.style.position="absolute",i.style.cursor="default",i.style.overflow="hidden",i.style.display="none",le(i).addClass(t),this.host.append(i)),le(i).html(e);i={width:le(i).width()+2,height:le(i).height()+2};return le.jqx.browser&&le.jqx.browser.mozilla&&(i.height+=3),i},_hideToolTip:function(e){this._ttEl&&(this._ttEl.box&&(0==e?le(this._ttEl.box).hide():le(this._ttEl.box).fadeOut()),this._hideCrosshairs(),this._ttEl.gidx=void 0)},_hideCrosshairs:function(){this._ttEl&&(this._ttEl.vLine&&(this.renderer.removeElement(this._ttEl.vLine),this._ttEl.vLine=void 0),this._ttEl.hLine&&(this.renderer.removeElement(this._ttEl.hLine),this._ttEl.hLine=void 0))},_get:function(e){return le.jqx.getByPriority(e)},_getAxisSettings:function(e){if(!e)return{};var t=this,i=e.gridLines||{},s={visible:this._get([i.visible,e.showGridLines,!0]),color:t._get([i.color,e.gridLinesColor,t._defaultLineColor]),unitInterval:t._get([i.unitInterval,i.interval,e.gridLinesInterval]),step:t._get([i.step,e.gridLinesStep]),dashStyle:t._get([i.dashStyle,e.gridLinesDashStyle]),width:t._get([i.lineWidth,1]),offsets:[],alternatingBackgroundColor:e.alternatingBackgroundColor,alternatingBackgroundColor2:e.alternatingBackgroundColor2,alternatingBackgroundOpacity:e.alternatingBackgroundOpacity},r=e.tickMarks||{},a={visible:this._get([r.visible,e.showTickMarks,!0]),color:t._get([r.color,e.tickMarksColor,t._defaultLineColor]),unitInterval:t._get([r.unitInterval,r.interval,e.tickMarksInterval]),step:t._get([r.step,e.tickMarksStep]),dashStyle:t._get([r.dashStyle,e.tickMarksDashStyle]),width:t._get([r.lineWidth,1]),size:t._get([r.size,4]),offsets:[]},n=e.title||{},i={visible:t._get([n.visible,!0]),text:t._get([e.description,n.text]),style:t._get([e.descriptionClass,n.class,t.toThemeProperty("jqx-chart-axis-description",null)]),halign:t._get([e.horizontalDescriptionAlignment,n.horizontalAlignment,"center"]),valign:t._get([e.verticalDescriptionAlignment,n.verticalAlignment,"center"]),angle:0,rotationPoint:t._get([n.rotationPoint,"centercenter"]),offset:t._get([n.offset,{x:0,y:0}])},r=e.line||{},n={visible:t._get([r.visible,!0]),color:t._get([r.color,s.color,t._defaultLineColor]),dashStyle:t._get([r.dashStyle,s.dashStyle,""]),width:t._get([r.lineWidth,1]),angle:t._get([r.angle,NaN])},t={left:(t=e.padding||{}).left||0,right:t.right||0,top:t.top||0,bottom:t.bottom||0},r=this._getAxisLabelsSettings(e);return{visible:this._get([e.visible,e.showValueAxis,e.showXAxis,e.showCategoryAxis,!0]),customDraw:this._get([e.customDraw,!1]),gridLines:s,tickMarks:a,line:n,title:i,labels:r,padding:t,toolTipFormatFunction:this._get([e.toolTipFormatFunction,e.formatFunction,r.formatFunction]),toolTipFormatSettings:this._get([e.toolTipFormatSettings,e.formatSettings,r.formatSettings])}},_getAxisLabelsSettings:function(e){var t=this,i=e.labels||{};return{visible:t._get([e.showLabels,i.visible,!0]),unitInterval:t._get([i.unitInterval,i.interval,e.labelsInterval]),step:t._get([i.step,e.labelsStep]),angle:t._get([e.textRotationAngle,i.angle,0]),style:t._get([e.class,i.class,t.toThemeProperty("jqx-chart-axis-text",null)]),halign:t._get([e.horizontalTextAlignment,i.horizontalAlignment,"center"]),valign:t._get([e.verticalTextAlignment,i.verticalAlignment,"center"]),textRotationPoint:t._get([e.textRotationPoint,i.rotationPoint,"auto"]),textOffset:t._get([e.textOffset,i.offset,{x:0,y:0}]),autoRotate:t._get([e.labelsAutoRotate,i.autoRotate,!1]),formatSettings:t._get([e.formatSettings,i.formatSettings,void 0]),formatFunction:t._get([e.formatFunction,i.formatFunction,void 0])}},_getLabelsSettings:function(e,t,i,s){for(var r=this.seriesGroups[e],a=r.series[t],n=isNaN(i)?void 0:this._getDataValue(i,a.dataField,e),o=s||["Visible","Offset","Angle","HorizontalAlignment","VerticalAlignment","Class","BackgroundColor","BorderColor","BorderOpacity","Padding","Opacity","BackgroundOpacity","LinesAngles","LinesEnabled","AutoRotate","Radius"],l={},h=0;h<o.length;h++){var d=o[h],f="labels"+d,u="label"+d,g=d.substring(0,1).toLowerCase()+d.substring(1),d=void 0;r.labels&&"object"==typeof r.labels&&(d=r.labels[g]),a.labels&&"object"==typeof a.labels&&null!=a.labels[g]&&(d=a.labels[g]),d=this._get([a[f],a[u],d,r[f],r[u]]),le.isFunction(d)?l[g]=d(n,i,a,r):l[g]=d}l.class=l.class||this.toThemeProperty("jqx-chart-label-text",null),l.visible=this._get([l.visible,a.showLabels,r.showLabels,null!=a.labels||void 0,null!=r.labels||void 0]);s=l.padding||1;return l.padding={left:this._get([s.left,isNaN(s)?1:s]),right:this._get([s.right,isNaN(s)?1:s]),top:this._get([s.top,isNaN(s)?1:s]),bottom:this._get([s.bottom,isNaN(s)?1:s])},l},_showLabel:function(e,t,i,s,r,a,n,o,l,h,d){this.seriesGroups[e].series[t];var f={width:0,height:0};if(!isNaN(i)){var u=this._getLabelsSettings(e,t,i);if(!u.visible)return n?f:void 0;if(s.width<0||s.height<0)return n?f:void 0;var g=u.angle;isNaN(h)||(g=h);h=u.offset||{},h={x:h.x,y:h.y};isNaN(h.x)&&(h.x=0),isNaN(h.y)&&(h.y=0),r=r||u.horizontalAlignment||"center",a=a||u.verticalAlignment||"center";e=this._getFormattedValue(e,t,i,void 0,void 0,!0),t=s.width,i=s.height;if(1==o&&"center"!=r&&(r="right"==r?"left":"right"),1==l&&"center"!=a&&"middle"!=a&&(a="top"==a?"bottom":"top",h.y*=-1),f=this.renderer.measureText(e,g,{class:u.class}),n)return f;l=0,n=0;0<t&&(""==r||"center"==r?l+=(t-f.width)/2:"right"==r&&(l+=t-f.width)),0<i&&(""==a||"center"==a?n+=(i-f.height)/2:"bottom"==a&&(n+=i-f.height)),l+=s.x+h.x,n+=s.y+h.y;a=this._plotRect;l<=a.x&&(l=a.x+2),n<=a.y&&(n=a.y+2);var c,i=Math.max(f.width,1),h=Math.max(f.height,1);n+h>=a.y+a.height&&(n=a.y+a.height-h-2),l+i>=a.x+a.width&&(l=a.x+a.width-i-2);h=u.backgroundColor,a=u.borderColor,i=u.padding;(h||a)&&(c=this.renderer.beginGroup(),s=this.renderer.rect(l-i.left,n-i.top,f.width+i.left+i.right,f.height+i.bottom+i.bottom,{fill:h||"transparent","fill-opacity":u.backgroundOpacity||1,stroke:a||"transparent","stroke-opacity":u.borderOpacity,"stroke-width":1}));u=this.renderer.text(e,l,n,f.width,f.height,g,{class:u.class,opacity:u.opacity||1},!1,"center","center");return d&&(d.x=l-i.left,d.y=n-i.top,d.width=f.width+i.left+i.right,d.height=f.height+i.bottom+i.bottom),this._isVML&&(this.renderer.removeElement(u),this.renderer.getContainer()[0].appendChild(u)),c&&this.renderer.endGroup(),c||u}},_getAnimProps:function(e,t){var i=this.seriesGroups[e],s=isNaN(t)?void 0:i.series[t],e=1==this.enableAnimations;i.enableAnimations&&(e=1==i.enableAnimations),s&&s.enableAnimations&&(e=1==s.enableAnimations);t=this.animationDuration;isNaN(t)&&(t=1e3);i=i.animationDuration;return isNaN(i)||(t=i),s&&(s=s.animationDuration,isNaN(s)||(t=s)),5e3<t&&(t=1e3),{enabled:e,duration:t}},_isColorTransition:function(e,t,i,s){if(s-1<i.xoffsets.first)return!1;i=this._getColors(e,t,s,this._getGroupGradientType(e)),e=this._getColors(e,t,s-1,this._getGroupGradientType(e));return i.fillColor!=e.fillColor},_renderLineSeries:function(e,t){var i=this.seriesGroups[e];if(i.series&&0!=i.series.length){var s=-1!=i.type.indexOf("area"),r=-1!=i.type.indexOf("stacked"),a=r&&-1!=i.type.indexOf("100"),n=-1!=i.type.indexOf("spline"),o=-1!=i.type.indexOf("step"),l=-1!=i.type.indexOf("range"),h=1==i.polar||1==i.spider;if(h&&(o=!1),!o||!n){var d=this._getDataLen(e),f=(t.width,"horizontal"==i.orientation),u=1==this._getXAxis(e).flip,g=t;f&&(g={x:t.y,y:t.x,width:t.height,height:t.width});var c=this._calcGroupOffsets(e,g);if(c&&0!=c.xoffsets.length){this._linesRenderInfo||(this._linesRenderInfo={}),this._linesRenderInfo[e]={};for(var m=i.series.length-1;0<=m;m--){var _=this._getSerieSettings(e,m),p={groupIndex:e,rect:g,serieIndex:m,swapXY:f,isArea:s,isSpline:n,isRange:l,isPolar:h,settings:_,segments:[],pointsLength:0};if(this._isSerieVisible(e,m)){var x=i.series[m];if(!x.customDraw){var y=le.isFunction(x.colorFunction),v=c.xoffsets.first,N=v,M=this._getColors(e,m,NaN,this._getGroupGradientType(e));do{var b=[],A=[],w=[],S=0,C=0,k=NaN,D=NaN,F=NaN;if(!(c.xoffsets.length<1)){for(var T,j,O,I=this._getAnimProps(e,m),P=I.enabled&&!this._isToggleRefresh&&c.xoffsets.length<1e4&&1!=this._isVML?I.duration:0,q=v,L=!1,R=(this._getColors(e,m,v,this._getGroupGradientType(e)),void 0),G=v;G<=c.xoffsets.last;G++){v=G;var V=c.xoffsets.data[G],E=c.xoffsets.xvalues[G];if(!isNaN(V)&&(S=V=Math.max(V,1),C=c.offsets[m][G].to,!(!y&&R&&this.enableSampling&&le.jqx._ptdist(R.x,R.y,S,C)<1))){R={x:S,y:C};var H=c.offsets[m][G].from;if(isNaN(C)||isNaN(H)){if("connect"==x.emptyPointsDisplay)continue;if("zero"!=x.emptyPointsDisplay){L=!0;break}isNaN(C)&&(C=c.baseOffset),isNaN(H)&&(H=c.baseOffset)}if(y&&this._isColorTransition(e,m,c,v)&&1<b.length){v--;break}var B=this._elementRenderInfo;B&&B.length>e&&B[e].series.length>m&&(E=B[e].series[m][E],F=le.jqx._ptrnd(E?E.to:void 0),E=le.jqx._ptrnd(g.x+(E?E.xoffset:void 0)),w.push(f?{y:E,x:F,index:G}:{x:E,y:F,index:G})),N=G,_.stroke<2&&(C-g.y<=1&&(C=g.y+1),H-g.y<=1&&(H=g.y+1),g.y+g.height-C<=1&&(C=g.y+g.height-1),g.y+g.height-H<=1&&(H=g.y+g.height-1)),!s&&a&&(C<=g.y&&(C=g.y+1),C>=g.y+g.height&&(C=g.y+g.height-1),H<=g.y&&(H=g.y+1),H>=g.y+g.height&&(H=g.y+g.height-1)),S=Math.max(V,1)+g.x,1==i.skipOverlappingPoints&&!isNaN(k)&&Math.abs(k-S)<=1||(!o||isNaN(k)||isNaN(D)||D!=C&&b.push(f?{y:S,x:le.jqx._ptrnd(D)}:{x:S,y:le.jqx._ptrnd(D)}),b.push(f?{y:S,x:le.jqx._ptrnd(C),index:G}:{x:S,y:le.jqx._ptrnd(C),index:G}),A.push(f?{y:S,x:le.jqx._ptrnd(H),index:G}:{x:S,y:le.jqx._ptrnd(H),index:G}),k=S,D=C,isNaN(F)&&(F=C))}}0!=b.length?(T=b[b.length-1].index,y&&(M=this._getColors(e,m,T,this._getGroupGradientType(e))),j=g.x+c.xoffsets.data[q],I=g.x+c.xoffsets.data[N],s&&1==i.alignEndPointsWithIntervals&&(j>g.x&&(j=g.x),I<g.x+g.width&&(I=g.x+g.width),u&&(O=j,j=I,I=O)),I=le.jqx._ptrnd(I),j=le.jqx._ptrnd(j),q=c.baseOffset,F=le.jqx._ptrnd(F),O=le.jqx._ptrnd(C)||q,l&&(b=b.concat(A.reverse())),p.pointsLength+=b.length,q={lastItemIndex:T,colorSettings:M,pointsArray:b,pointsStart:w,left:j,right:I,pyStart:F,pyEnd:O,yBase:q,labelElements:[],symbolElements:[]},p.segments.push(q)):v++}}while(v<c.xoffsets.first+c.xoffsets.length-1||L);this._linesRenderInfo[e][m]=p}}else this._linesRenderInfo[e][m]=p}var z=this._linesRenderInfo[e],W=[];for(G in z)W.push(z[G]);W=W.sort(function(e,t){return e.serieIndex-t.serieIndex}),s&&r&&W.reverse();for(G=0;G<W.length;G++){p=W[G];this._animateLine(p,0==P?1:0);var X=this;this._enqueueAnimation("series",void 0,void 0,P,function(e,t,i){X._animateLine(t,i)},p)}}}}},_animateLine:function(e,t){var i=e.settings,s=e.groupIndex,r=e.serieIndex,a=this.seriesGroups[s],n=a.series[r],o=this._getSymbol(s,r),l=this._getLabelsSettings(s,r,NaN,["Visible"]).visible,h=!0;e.isPolar&&(isNaN(a.endAngle)||360==Math.round(Math.abs((isNaN(a.startAngle)?0:a.startAngle)-a.endAngle))||(h=!1)),0==n.endPointsConnect&&(h=!1);for(var d=0,f=0;f<e.segments.length;f++){var u=e.segments[f],g=this._calculateLine(s,e.pointsLength,d,u.pointsArray,u.pointsStart,u.yBase,t,e.isArea,e.swapXY);if(d+=u.pointsArray.length,""!=g){var c=g.split(" "),m=(c.length,""!=(m=g)?this._buildLineCmd(g,e.isRange,u.left,u.right,u.pyStart,u.pyEnd,u.yBase,e.isArea,e.isPolar,h,e.isSpline,e.swapXY):"M 0 0"),g=u.colorSettings;if(u.pathElement?this.renderer.attr(u.pathElement,{d:m}):(u.pathElement=this.renderer.path(m,{"stroke-width":i.stroke,stroke:g.lineColor,"stroke-opacity":i.opacity,"fill-opacity":i.opacity,"stroke-dasharray":i.dashStyle,fill:e.isArea?g.fillColor:"none"}),this._installHandlers(u.pathElement,"path",s,r,u.lastItemIndex)),u.labelElements){for(var _=0;_<u.labelElements.length;_++)this.renderer.removeElement(u.labelElements[_]);u.labelElements=[]}if(u.symbolElements){for(_=0;_<u.symbolElements.length;_++)this.renderer.removeElement(u.symbolElements[_]);u.symbolElements=[]}if(u.pointsArray.length==c.length&&("none"!=o||l))for(var p=n.symbolSize,x=this._plotRect,_=0;_<c.length;_++){var y,v,N=c[_].split(",");(N={x:parseFloat(N[0]),y:parseFloat(N[1])}).x<x.x||N.x>x.x+x.width||N.y<x.y||N.y>x.y+x.height||("none"!=o&&(y=this._getColors(s,r,u.pointsArray[_].index,this._getGroupGradientType(s)),v=this._drawSymbol(o,N.x,N.y,y.fillColorSymbol,i.opacity,y.lineColorSymbol,i.opacity,i.strokeSymbol,void 0,p),u.symbolElements.push(v)),l&&(y=(0<_?c[_-1]:c[_]).split(","),y={x:parseFloat(y[0]),y:parseFloat(y[1])},v=(_<c.length-1?c[_+1]:c[_]).split(","),v={x:parseFloat(v[0]),y:parseFloat(v[1])},(N=this._adjustLineLabelPosition(s,r,u.pointsArray[_].index,N,y,v))&&(N=this._showLabel(s,r,u.pointsArray[_].index,{x:N.x,y:N.y,width:0,height:0}),u.labelElements.push(N))))}if(1==t&&"none"!=o)for(_=0;_<u.symbolElements.length;_++)isNaN(u.pointsArray[_].index)||this._installHandlers(u.symbolElements[_],"symbol",s,r,u.pointsArray[_].index)}}},_adjustLineLabelPosition:function(e,t,i,s,r,a){t=this._showLabel(e,t,i,{width:0,height:0},"","",!0);if(t){i={x:s.x-t.width/2,y:0};return i.y=s.y-1.5*t.height,i}},_calculateLine:function(e,t,i,s,r,a,n,o,l){var h,d=this.seriesGroups[e];1!=d.polar&&1!=d.spider||(h=this._getPolarAxisCoords(e,this._plotRect));var f="",u=s.length;o||0!=r.length||(u=t*n-i);for(var g=0;g<u+1&&g<s.length;g++){0<g&&(f+=" ");var c=s[g].y,m=s[g].x,_=o?a:c,p=m;r&&r.length>g&&(_=r[g].y,p=r[g].x,(isNaN(_)||isNaN(p))&&(_=c,p=m)),u<=s.length&&0<g&&g==u&&(p=s[g-1].x,_=s[g-1].y),c=l?(m=le.jqx._ptrnd((m-_)*(o?n:1)+_),le.jqx._ptrnd(c)):(m=le.jqx._ptrnd((m-p)*n+p),le.jqx._ptrnd((c-_)*n+_)),h&&(m=(_=this._toPolarCoord(h,this._plotRect,m,c)).x,c=_.y),f+=m+","+c}return f},_buildLineCmd:function(e,t,i,s,r,a,n,o,l,h,d,f){var u=e,i=f?n+","+i:i+","+n;!o||l||t||(u=i+" "+e+" "+(f?n+","+s:s+","+n)),d&&(u=this._getBezierPoints(u));s=u.split(" ");if(0==s.length)return"";if(1==s.length){n=s[0].split(",");return"M "+s[0]+" L"+(parseFloat(n[0])+1)+","+(parseFloat(n[1])+1)}s=s[0].replace("M","");return o&&!l?u=t?"M "+s+" L "+s+(d?"":" L "+s+" ")+u:"M "+i+" L "+s+" "+u:d||(u="M "+s+" L "+s+" "+u),(l&&h||t)&&(u+=" Z"),u},_getSerieSettings:function(e,t){var i=this.seriesGroups[e],s=-1!=i.type.indexOf("area"),r=-1!=i.type.indexOf("line"),a=i.series[t],n=a.dashStyle||i.dashStyle||"",e=a.opacity||i.opacity;(isNaN(e)||e<0||1<e)&&(e=1);t=a.lineWidth;isNaN(t)&&"auto"!=t&&(t=i.lineWidth),("auto"==t||isNaN(t)||t<0||15<t)&&(t=s?2:r?3:1);a=a.lineWidthSymbol;return isNaN(a)&&(a=1),{stroke:t,strokeSymbol:a,opacity:e,dashStyle:n}},_getColors:function(e,t,i,s,r){var a=this.seriesGroups[e],n=a.series[t],o=this._get([n.useGradientColors,a.useGradientColors,a.useGradient,!0]),l=this._getSeriesColors(e,t,i);l.fillColor||(l.fillColor=p,l.fillColorSelected=le.jqx.adjustColor(p,1.1),l.fillColorAlt=le.jqx.adjustColor(p,4),l.fillColorAltSelected=le.jqx.adjustColor(p,3),l.lineColor=l.symbolColor=le.jqx.adjustColor(p,.9),l.lineColorSelected=l.symbolColorSelected=le.jqx.adjustColor(p,.9));var h=[[0,1.4],[100,1]],d=[[0,1],[25,1.1],[50,1.4],[100,1]],n=NaN;if(isNaN(r)||(n=2==r?h:d),o){var f,u,g={};for(f in l)g[f]=l[f];if(l=g,"verticalLinearGradient"==s||"horizontalLinearGradient"==s){var c,m="verticalLinearGradient"==s?n||h:n||d,_=["fillColor","fillColorSelected","fillColorAlt","fillColorAltSelected"];for(c in _){var p=l[_[c]];p&&(l[_[c]]=this.renderer._toLinearGradient(p,"verticalLinearGradient"==s,m))}}else"radialGradient"==s&&(n=h,("pie"==a.type||"donut"==a.type||a.polar)&&null!=i&&this._renderData[e]&&this._renderData[e].offsets[t]&&(u=this._renderData[e].offsets[t][i],n=[[0,1.3],[90,1.2],[100,1]]),l.fillColor=this.renderer._toRadialGradient(l.fillColor,n,u),l.fillColorSelected=this.renderer._toRadialGradient(l.fillColorSelected,n,u))}return l},_installHandlers:function(i,s,r,a,n){if(!this.enableEvents)return!1;var o=this,t=this.seriesGroups[r],l=this.seriesGroups[r].series[a],h=-1!=t.type.indexOf("line")||-1!=t.type.indexOf("area");h||0==t.enableSelection||0==l.enableSelection||this.renderer.addHandler(i,"mousemove",function(e){var t,i=o._selected;i&&i.isLineType&&"click"==i.linesUnselectMode&&(i.group!=r||i.series!=a)||(t=e.pageX||e.clientX||e.screenX,i=e.pageY||e.clientY||e.screenY,t-=(e=o.host.offset()).left,i-=e.top,o._mouseX==t&&o._mouseY==i||o._ttEl&&o._ttEl.gidx==r&&o._ttEl.sidx==a&&o._ttEl.iidx==n||o._startTooltipTimer(r,a,n))}),0!=t.enableSelection&&0!=l.enableSelection&&this.renderer.addHandler(i,"mouseover",function(e){var t=o._selected;t&&t.isLineType&&"click"==t.linesUnselectMode&&(t.group!=r||t.series!=a)||o._select(i,s,r,a,n,n)}),this.renderer.addHandler(i,"click",function(e){clearTimeout(o._hostClickTimer),o._lastClickTs=(new Date).valueOf(),h&&"symbol"!=s&&"pointMarker"!=s||(o._isColumnType(t.type)&&o._unselect(),isNaN(n)||(e.stopImmediatePropagation(),o._raiseItemEvent("click",t,l,n)))})},_getHorizontalOffset:function(e,t,i,s){var r=this._plotRect;if(0==this._getDataLen(e))return{index:void 0,value:i};var a=this._calcGroupOffsets(e,this._plotRect);if(0==a.xoffsets.length)return{index:void 0,value:void 0};var n,o=i,l=s,h=this.seriesGroups[e];(h.polar||h.spider)&&(n=this._getPolarAxisCoords(e,r));this._getXAxis(e).flip;for(var d,f,u,g,c=a.xoffsets.first;c<=a.xoffsets.last;c++){var m,_=a.xoffsets.data[c],p=a.offsets[t][c].to,x=0;x=n?(_=(m=this._toPolarCoord(n,r,_+r.x,p)).x,p=m.y,le.jqx._ptdist(o,l,_,p)):"horizontal"==h.orientation?(m=p,p=_+=r.y,_=m,le.jqx._ptdist(o,l,_,p)):(_+=r.x,Math.abs(o-_)),(isNaN(d)||x<d)&&(d=x,f=c,u=_,g=p)}return{index:f,value:a.xoffsets.data[f],polarAxisCoords:n,x:u,y:g}},onmousemove:function(e,t){if((this._mouseX!=e||this._mouseY!=t)&&(this._mouseX=e,this._mouseY=t,this._selected)){var i=this._selected.group,s=this._selected.series,r=this.seriesGroups[i],a=r.series[s],n=this._plotRect;if(this.renderer&&((n=this.renderer.getRect()).x+=5,n.y+=5,n.width-=10,n.height-=10),e<n.x||e>n.x+n.width||t<n.y||t>n.y+n.height)return this._hideToolTip(),void this._unselect();var o="horizontal"==r.orientation,n=this._plotRect;if(-1!=r.type.indexOf("line")||-1!=r.type.indexOf("area")){var l=this._getHorizontalOffset(i,this._selected.series,e,t),h=l.index;if(null!=h){if(this._selected.item!=h){for(var d=this._linesRenderInfo[i][s].segments,f=0;h>d[f].lastItemIndex;)if(++f>=d.length)return;var u=d[f].pathElement,g=d[f].lastItemIndex;this._unselect(!1),this._select(u,"path",i,s,h,g)}var c=this._getSymbol(this._selected.group,this._selected.series);"none"==c&&(c="circle");var m=this._calcGroupOffsets(i,n),u=m.offsets[this._selected.series][h].to,g=u;-1!=r.type.indexOf("range")&&(g=m.offsets[this._selected.series][h].from);var _,m=o?e:t;t=!isNaN(g)&&Math.abs(m-g)<Math.abs(m-u)?g:u,isNaN(t)||(e=l.value,o?(_=e,e=t,t=_+n.y):e+=n.x,l.polarAxisCoords&&(e=l.x,t=l.y),t=le.jqx._ptrnd(t),e=le.jqx._ptrnd(e),this._pointMarker&&this._pointMarker.element&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker.element=void 0),isNaN(e)||isNaN(t)||(_=this._getSeriesColors(i,s,h),n=this._getSerieSettings(i,s),l=a.symbolSizeSelected,isNaN(l)&&(l=a.symbolSize),(isNaN(l)||50<l||l<0)&&(l=r.symbolSize),(isNaN(l)||50<l||l<0)&&(l=8),(this.showToolTips||this.enableCrosshairs)&&(this._pointMarker={type:c,x:e,y:t,gidx:i,sidx:s,iidx:h},this._pointMarker.element=this._drawSymbol(c,e,t,_.fillColorSymbolSelected,n.opacity,_.lineColorSymbolSelected,n.opacity,n.strokeSymbol,n.dashStyle,l),this._installHandlers(this._pointMarker.element,"pointMarker",i,s,h)),this._startTooltipTimer(i,this._selected.series,h)))}}}},_drawSymbol:function(e,t,i,s,r,a,n,o,l,h){var d=h||6,h=d/2;switch(e){case"none":return;case"circle":u=this.renderer.circle(t,i,d/2);break;case"square":h=--d/2,u=this.renderer.rect(t-h,i-h,d,d);break;case"diamond":var f="M "+(t-h)+","+i+" L"+t+","+(i-h)+" L"+(t+h)+","+i+" L"+t+","+(i+h)+" Z",u=this.renderer.path(f);break;case"triangle_up":case"triangle":f="M "+(t-h)+","+(i+h)+" L "+(t+h)+","+(i+h)+" L "+t+","+(i-h)+" Z";u=this.renderer.path(f);break;case"triangle_down":f="M "+(t-h)+","+(i-h)+" L "+t+","+(i+h)+" L "+(t+h)+","+(i-h)+" Z";u=this.renderer.path(f);break;case"triangle_left":f="M "+(t-h)+","+i+" L "+(t+h)+","+(i+h)+" L "+(t+h)+","+(i-h)+" Z";u=this.renderer.path(f);break;case"triangle_right":f="M "+(t-h)+","+(i-h)+" L "+(t-h)+","+(i+h)+" L "+(t+h)+","+i+" Z";u=this.renderer.path(f);break;default:u=this.renderer.circle(t,i,d)}return this.renderer.attr(u,{fill:s,"fill-opacity":r,stroke:a,"stroke-width":o,"stroke-opacity":n,"stroke-dasharray":l||""}),"circle"!=e&&(this.renderer.attr(u,{r:d/2}),"square"!=e&&this.renderer.attr(u,{x:t,y:i})),u},_getSymbol:function(e,t){var i,s=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],r=this.seriesGroups[e],e=r.series[t];return null!=e.symbolType&&(i=e.symbolType),null==i&&(i=r.symbolType),"default"==i?s[t%s.length]:null!=i?i:"none"},_startTooltipTimer:function(t,i,s,r,a,e,n){this._cancelTooltipTimer();var o=this,l=(o.seriesGroups[t],this.toolTipShowDelay||this.toolTipDelay);(isNaN(l)||1e4<l||l<0)&&(l=500),(this._ttEl||1==this.enableCrosshairs&&0==this.showToolTips)&&(l=0),isNaN(e)||(l=e),clearTimeout(this._tttimerHide),isNaN(r)&&(r=o._mouseX),isNaN(a)&&(a=o._mouseY-3),0==l&&o._showToolTip(r,a,t,i,s),this._tttimer=setTimeout(function(){0!=l&&o._showToolTip(r,a,t,i,s);var e=o.toolTipHideDelay;isNaN(n)||(e=n),isNaN(e)&&(e=4e3),o._tttimerHide=setTimeout(function(){o._hideToolTip(),o._unselect()},e)},l)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(e){var t=this.seriesGroups[e];return-1!=t.type.indexOf("area")?"horizontal"==t.orientation?"horizontalLinearGradient":"verticalLinearGradient":this._isColumnType(t.type)||-1!=t.type.indexOf("candle")?t.polar?"radialGradient":"horizontal"==t.orientation?"verticalLinearGradient":"horizontalLinearGradient":-1!=t.type.indexOf("scatter")||-1!=t.type.indexOf("bubble")||this._isPieGroup(e)?"radialGradient":void 0},_select:function(e,t,i,s,r,a){if(this._selected){if(this._selected.item==r&&this._selected.series==s&&this._selected.group==i)return;this._unselect()}var n,o,l=this.seriesGroups[i],h=l.series[s];0!=l.enableSelection&&0!=h.enableSelection&&(n=-1!=l.type.indexOf("line")&&-1==l.type.indexOf("area"),this._selected={element:e,type:t,group:i,series:s,item:r,iidxBase:a,isLineType:n,linesUnselectMode:h.linesUnselectMode||l.linesUnselectMode},a=(o=this._getColors(i,s,a||r,this._getGroupGradientType(i))).fillColorSelected,n&&(a="none"),i=this._getSerieSettings(i,s),s="symbol"==t?o.lineColorSymbolSelected:o.lineColorSelected,a="symbol"==t?o.fillColorSymbolSelected:a,i="symbol"==t?1:i.stroke,this.renderer.getAttr(e,"fill")==o.fillColorAlt&&(a=o.fillColorAltSelected),this.renderer.attr(e,{stroke:s,fill:a,"stroke-width":i}),-1==l.type.indexOf("pie")&&-1==l.type.indexOf("donut")||this._applyPieSelect(),this._raiseItemEvent("mouseover",l,h,r))},_applyPieSelect:function(){var r=this;r._createAnimationGroup("animPieSlice");var e,a=this._selected;!a||(e=this.getItemCoord(a.group,a.series,a.item))&&(e={element:this._getRenderInfo(a.group,a.series,a.item),coord:e},this._enqueueAnimation("animPieSlice",void 0,void 0,300,function(e,t,i){var s=t.coord,i=s.selectedRadiusChange*i,s=r.renderer.pieSlicePath(s.center.x,s.center.y,0==s.innerRadius?0:s.innerRadius+i,s.outerRadius+i,s.fromAngle,s.toAngle,s.centerOffset);r.renderer.attr(t.element.element,{d:s}),r._showPieLabel(a.group,a.series,a.item,void 0,i)},e),r._startAnimation("animPieSlice"))},_applyPieUnselect:function(){this._stopAnimations();var e,t=this._selected;!t||(e=this.getItemCoord(t.group,t.series,t.item))&&e.center&&(e=this.renderer.pieSlicePath(e.center.x,e.center.y,e.innerRadius,e.outerRadius,e.fromAngle,e.toAngle,e.centerOffset),this.renderer.attr(t.element,{d:e}),this._showPieLabel(t.group,t.series,t.item,void 0,0))},_unselect:function(){var e,t,i,s,r,a,n,o,l,h=this;h._selected&&(l=h._selected.group,n=h._selected.series,e=h._selected.item,o=h._selected.iidxBase,t=h._selected.type,s=(i=h.seriesGroups[l]).series[n],r=-1!=i.type.indexOf("line")&&-1==i.type.indexOf("area"),o=(a=h._getColors(l,n,o||e,h._getGroupGradientType(l))).fillColor,r&&(o="none"),l=h._getSerieSettings(l,n),n="symbol"==t?a.lineColorSymbol:a.lineColor,o="symbol"==t?a.fillColorSymbol:o,this.renderer.getAttr(h._selected.element,"fill")==a.fillColorAltSelected&&(o=a.fillColorAlt),l="symbol"==t?1:l.stroke,h.renderer.attr(h._selected.element,{stroke:n,fill:o,"stroke-width":l}),-1==i.type.indexOf("pie")&&-1==i.type.indexOf("donut")||this._applyPieUnselect(),h._selected=void 0,isNaN(e)||h._raiseItemEvent("mouseout",i,s,e)),h._pointMarker&&(h._pointMarker.element&&(h.renderer.removeElement(h._pointMarker.element),h._pointMarker.element=void 0),h._pointMarker=void 0,h._hideCrosshairs())},_raiseItemEvent:function(e,t,i,s){for(var r=i[e]||t[e],a=0;a<this.seriesGroups.length&&this.seriesGroups[a]!=t;a++);a!=this.seriesGroups.length&&(i={event:e,seriesGroup:t,serie:i,elementIndex:s,elementValue:this._getDataValue(s,i.dataField,a)},r&&le.isFunction(r)&&r(i),this._raiseEvent(e,i))},_raiseEvent:function(e,t){var i=new le.Event(e);return i.owner=this,t.event=e,i.args=t,this.host.trigger(i)},_calcInterval:function(e,t,i){var s=Math.abs(t-e)/i,r=.1,a=[1,2,3,4,5,10,15,20,25,50,100];s<1&&(a=[.5,.25,.125,.1],r=10);var n=0;do{n=0,1<=s?r*=10:r/=10;for(var o=1;o<a.length&&Math.abs(a[n]*r-s)>Math.abs(a[o]*r-s);o++)n=o}while(n==a.length-1);return a[n]*r},_renderDataClone:function(){if(this._renderData&&!this._isToggleRefresh){var e=this._elementRenderInfo=[];if(!this._isSelectorRefresh)for(var t=0;t<this._renderData.length;t++){for(this._getXAxis(t).dataField;e.length<=t;)e.push({});var i=e[t],s=this._renderData[t];if(s.offsets){if(s.valueAxis)for(var r in i.valueAxis={itemOffsets:{}},s.valueAxis.itemOffsets)i.valueAxis.itemOffsets[r]=s.valueAxis.itemOffsets[r];if(s.xAxis)for(var r in i.xAxis={itemOffsets:{}},s.xAxis.itemOffsets)i.xAxis.itemOffsets[r]=s.xAxis.itemOffsets[r];i.series=[];for(var a=i.series,n=this._isPieGroup(t),o=0;o<s.offsets.length;o++){a.push({});for(var l,h=0;h<s.offsets[o].length;h++)n?(l=s.offsets[o][h],a[o][l.displayValue]={value:l.value,x:l.x,y:l.y,fromAngle:l.fromAngle,toAngle:l.toAngle}):a[o][s.xoffsets.xvalues[h]]={value:s.offsets[o][h].value,valueRadius:s.offsets[o][h].valueRadius,xoffset:s.xoffsets.data[h],from:s.offsets[o][h].from,to:s.offsets[o][h].to}}}}}},getPolarDataPointOffset:function(e,t,i){var s=this._renderData[i];if(!s)return{x:NaN,y:NaN};t=this.getValueAxisDataPointOffset(t,i),i=this.getXAxisDataPointOffset(e,i),t=this._toPolarCoord(s.polarCoords,s.xAxis.rect,i,t);return{x:t.x,y:t.y}},_getDataPointOffsetDiff:function(e,t,i,s,r,a,n){e=this._getDataPointOffset(e,i,s,r,a,n),n=this._getDataPointOffset(t,i,s,r,a,n);return Math.abs(e-n)},_getXAxisRenderData:function(e){if(!(e>=this._renderData.length)){var t=this.seriesGroups[e],i=this._renderData[e].xAxis;if(i){if(null==t.xAxis){for(var s=0;s<=e&&null!=this.seriesGroups[s].xAxis;s++);i=this._renderData[s].xAxis}return i}}},getXAxisDataPointOffset:function(e,t){var i=this.seriesGroups[t];if(isNaN(e))return NaN;var s=this._getXAxisRenderData(t);if(!s)return NaN;var r=s.data.axisStats,a=r.min.valueOf(),n=r.max.valueOf(),o=n-a;if(0==o&&(o=1),e.valueOf()>n||e.valueOf()<a)return NaN;var l=this._getXAxis(t),r="horizontal"==i.orientation?"height":"width",n="horizontal"==i.orientation?"y":"x",o=(e.valueOf()-a)/o,r=s.rect[r]-s.data.padding.left-s.data.padding.right;return(i.polar||i.spider)&&this._renderData[t].polarCoords.isClosedCircle&&(r=s.data.axisSize),this._plotRect[n]+s.data.padding.left+r*(l.flip?1-o:o)},getValueAxisDataPointOffset:function(e,t){var i=this._getValueAxis(t);if(!i)return NaN;var s=this._renderData[t];if(!s)return NaN;var r=1==i.flip,a=s.logBase,t=s.scale,i=s.gbase,s=s.baseOffset;return this._getDataPointOffset(e,i,a,t,s,r)},_getDataPointOffset:function(e,t,i,s,r,a){return isNaN(e)&&(e=t),s=isNaN(i)?(e-t)*s:(le.jqx.log(e,i)-le.jqx.log(t,i))*s,this._isVML&&(s=Math.round(s)),s=a?r+s:r-s},_calcGroupOffsets:function(e,t){for(var i=this.seriesGroups[e];this._renderData.length<e+1;)this._renderData.push({});if(null!=this._renderData[e]&&null!=this._renderData[e].offsets)return this._renderData[e];if(this._isPieGroup(e))return this._calcPieSeriesGroupOffsets(e,t);var s=this._getValueAxis(e);if(!s||!i.series||0==i.series.length)return this._renderData[e];var r=1==s.flip,a=1==s.logarithmicScale,n=s.logarithmicScaleBase||10,o=[],l=-1!=i.type.indexOf("stacked"),h=l&&-1!=i.type.indexOf("100"),d=-1!=i.type.indexOf("range"),f=this._isColumnType(i.type),u=-1!=i.type.indexOf("waterfall"),g=this._getDataLen(e),c=i.baselineValue||s.baselineValue||0;h&&(c=0);var m=this._stats.seriesGroups[e];if(m&&m.isValid){var _=m.hasStackValueReversal;if(_&&(c=0),u&&l){if(_)return;c=m.base}c>m.max&&(c=m.max),c<m.min&&(c=m.min);var p=h||a?m.maxRange:m.max-m.min,s=m.min,_=m.max,x=t.height/(a?m.intervals:p),y=0,y=h?s*_<0?-((p/=2)+c)*x:-c*x:-(c-s)*x;r?y=t.y-y:y+=t.y+t.height;var v=[],N=[],M=[];a&&(p=le.jqx.log(_,n)-le.jqx.log(c,n),l&&(p=m.intervals,c=h?0:s),m.intervals,r||(y=t.y+p/m.intervals*t.height)),y=le.jqx._ptrnd(y);for(var b=s*_<0?t.height/2:t.height,A=[],w=[],S=l&&(f||a),C=[],o=new Array(i.series.length),k=0;k<i.series.length;k++)o[k]=new Array(g);for(var D=0;D<g;D++){!u&&l&&(w=[]);for(k=0;k<i.series.length;k++){!l&&a&&(A=[]);var F=i.series[k],T=F.dataField,j=F.dataFieldFrom,O=F.dataFieldTo,I=F.radiusDataField||F.sizeDataField;o[k][D]={};var P=this._isSerieVisible(e,k);if(-1==i.type.indexOf("candle")&&-1==i.type.indexOf("ohlc")){if(l)for(;w.length<=D;)w.push(0);var q=NaN;d&&(q=this._getDataValueAsNumber(D,j,e),isNaN(q)&&(q=c));var L,j=NaN,j=d?this._getDataValueAsNumber(D,O,e):this._getDataValueAsNumber(D,T,e),I=this._getDataValueAsNumber(D,I,e);if(l&&(w[D]+=P?j:0),P||(j=NaN),isNaN(j)||a&&j<=0)o[k][D]={from:void 0,to:void 0};else{l&&(S?L=c<=j?v:N:j=w[D]);P=d?x*(j-q):x*(j-c);if(l&&S&&(P=C[D]?x*j:(C[D]=!0,x*(j-c))),a){for(;A.length<=D;)A.push({p:{value:0,height:0},n:{value:0,height:0}});var R=d||d?q:c,G=R<j?A[D].p:A[D].n;G.value+=j,h?(j=G.value/(m.psums[D]+m.nsums[D])*100,P=(le.jqx.log(j,n)-m.minPow)*x):(P=le.jqx.log(G.value,n)-le.jqx.log(R,n),P*=x),P-=G.height,G.height+=P}R=y;d&&(E=0,E=a?(le.jqx.log(q,n)-le.jqx.log(c,n))*x:(q-c)*x,R+=r?E:-E),l&&(h&&!a&&(V=m.psums[D]-m.nsums[D],c<j?(P=m.psums[D]/V*b,0!=m.psums[D]&&(P*=j/m.psums[D])):(P=m.nsums[D]/V*b,0!=m.nsums[D]&&(P*=j/m.nsums[D]))),S&&(isNaN(L[D])&&(L[D]=R),R=L[D])),isNaN(M[D])&&(M[D]=0);var V,G=M[D],E=P=Math.abs(P);if(1<=P&&(V=this._isVML?Math.round(P):le.jqx._ptrnd(P)-1,P=.5<Math.abs(P-V)?Math.round(P):V),G+=P-E,l||(G=0),.5<Math.abs(G)&&(0<G?(--P,--G):(P+=1,G+=1)),M[D]=G,k==i.series.length-1&&h){for(var H=0,B=0;B<k;B++)H+=Math.abs(o[B][D].to-o[B][D].from);if((H+=P)<b)if(.5<P)P=le.jqx._ptrnd(P+b-H);else for(B=k-1;0<=B;){if(1<Math.abs(o[B][D].to-o[B][D].from)){o[B][D].from>o[B][D].to&&(o[B][D].from+=b-H);break}B--}}r&&(P*=-1);G=j<c;d&&(G=j<q);j=isNaN(q)?j:{from:q,to:j};G?(S&&(L[D]+=P),o[k][D]={from:R,to:R+P,value:j,valueRadius:I}):(S&&(L[D]-=P),o[k][D]={from:R,to:R-P,value:j,valueRadius:I})}}else{var z,W=["Open","Close","High","Low"];for(z in W){var X="dataField"+W[z];F[X]&&(o[k][D][W[z]]=this._getDataPointOffset(this._getDataValueAsNumber(D,F[X],e),c,a?n:NaN,x,y,r))}}}}f=this._renderData[e];return f.baseOffset=y,f.gbase=c,f.logBase=a?n:NaN,f.scale=x,f.offsets=u?this._applyWaterfall(o,g,e,y,c,a?n:NaN,x,r,l):o,f.xoffsets=this._calculateXOffsets(e,t.width),this._renderData[e]}},_isPercent:function(e){return"string"==typeof e&&0<e.length&&e.indexOf("%")==e.length-1},_calcPieSeriesGroupOffsets:function(e,t){for(var i=this._getDataLen(e),s=this.seriesGroups[e],r=this._renderData[e]={},a=r.offsets=[],n=0;n<s.series.length;n++){var o=s.series[n],l=this._get([o.minAngle,o.startAngle]);(isNaN(l)||l<0||360<l)&&(l=0);var h=this._get([o.maxAngle,o.endAngle]);(isNaN(h)||h<0||360<h)&&(h=360);var d=h-l,f=o.initialAngle||0;f<l&&(f=l),h<f&&(f=h);var u=o.centerOffset||0,g=le.jqx.getNum([o.offsetX,s.offsetX,t.width/2]),c=le.jqx.getNum([o.offsetY,s.offsetY,t.height/2]),h=Math.min(t.width,t.height)/2,m=f,_=o.radius;this._isPercent(_)&&(_=parseFloat(_)/100*h),isNaN(_)&&(_=.4*h);var p=o.innerRadius;this._isPercent(p)&&(p=parseFloat(p)/100*h),(isNaN(p)||_<=p)&&(p=0);var x=o.selectedRadiusChange;this._isPercent(x)&&(x=parseFloat(x)/100*(_-p)),isNaN(x)&&(x=.1*(_-p)),a.push([]);for(var y=0,v=0,N=0;N<i;N++){var M=this._getDataValueAsNumber(N,o.dataField,e);isNaN(M)||!this._isSerieVisible(e,n,N)&&1!=o.hiddenPointsDisplay||(0<M?y+=M:v+=M)}var b=y-v;0==b&&(b=1);for(N=0;N<i;N++){var A,w,S,C,k,D,M=this._getDataValueAsNumber(N,o.dataField,e);isNaN(M)?a[n].push({}):(k=o.displayText||o.displayField,null==(A=this._getDataValue(N,k,e))&&(A=N),w=0,!(D=this._isSerieVisible(e,n,N))&&1!=o.hiddenPointsDisplay||(w=Math.abs(M)/b*d),S=t.x+g,C=t.y+c,k=u,le.isFunction(u)&&(k=u({seriesIndex:n,seriesGroupIndex:e,itemIndex:N})),isNaN(k)&&(k=0),D={key:e+"_"+n+"_"+N,value:M,displayValue:A,x:S,y:C,fromAngle:m,toAngle:m+w,centerOffset:k,innerRadius:p,outerRadius:_,selectedRadiusChange:x,visible:D},a[n].push(D),m+=w)}}return r},_isPointSeriesOnly:function(){for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(-1==t.type.indexOf("line")&&-1==t.type.indexOf("area")&&-1==t.type.indexOf("scatter")&&-1==t.type.indexOf("bubble"))return!1}return!0},_hasColumnSeries:function(){for(var e=["column","ohlc","candlestick","waterfall"],t=0;t<this.seriesGroups.length;t++){var i,s=this.seriesGroups[t];for(i in e)if(-1!=s.type.indexOf(e[i]))return!0}return!1},_alignValuesWithTicks:function(e){var t=this._isPointSeriesOnly(),i=this.seriesGroups[e],s=this._getXAxis(e),t=null==s.valuesOnTicks?t:0!=s.valuesOnTicks;return s.logarithmicScale&&(t=!0),null==e||null==i.valuesOnTicks?t:i.valuesOnTicks},_getYearsDiff:function(e,t){return t.getFullYear()-e.getFullYear()},_getMonthsDiff:function(e,t){return 12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth()},_getDateDiff:function(e,t,i,s){var r=0;switch("year"!=i&&"month"!=i&&(r=t.valueOf()-e.valueOf()),i){case"year":r=this._getYearsDiff(e,t);break;case"month":r=this._getMonthsDiff(e,t);break;case"day":r/=864e5;break;case"hour":r/=36e5;break;case"minute":r/=6e4;break;case"second":r/=1e3}return"year"!=i&&"month"!=i&&0!=s&&(r=le.jqx._rnd(r,1,!0)),r},_getBestDTUnit:function(e,t,i,s,r){for(var a="day",n=t.valueOf()-e.valueOf(),a=n<1e3?"second":n<36e5?"minute":n<864e5?"hour":n<2592e6?"day":n<31104e6?"month":"year",o=[{key:"year",cnt:n/31536e6},{key:"month",cnt:n/2592e6},{key:"day",cnt:n/864e5},{key:"hour",cnt:n/36e5},{key:"minute",cnt:n/6e4},{key:"second",cnt:n/1e3},{key:"millisecond",cnt:n}],l=-1,h=0;h<o.length;h++)if(o[h].key==a){l=h;break}for(var d=-1,f=-1;l<o.length&&!(o[l].cnt/100>s);l++){var u=this._estAxisInterval(e,t,i,s,o[l].key,r),u=this._getDTIntCnt(e,t,u,o[l].key);(-1==d||d<u)&&(d=u,f=l)}return a=o[f].key},_getXAxisStats:function(e,t,i){var s=this._getDataLen(e),r="date"==t.type||"time"==t.type;r&&!this._autoDateFormats&&(this._autoDateFormats||(this._autoDateFormats=[]),(h=this._testXAxisDateFormat())&&this._autoDateFormats.push(h));var a=r?this._castAsDate(t.minValue,t.dateFormat):this._castAsNumber(t.minValue),n=r?this._castAsDate(t.maxValue,t.dateFormat):this._castAsNumber(t.maxValue);this._selectorRange&&this._selectorRange[e]&&(d=this._selectorRange[e].min,isNaN(d)||(a=r?this._castAsDate(d,t.dateFormat):this._castAsNumber(d)),f=this._selectorRange[e].max,isNaN(f)||(n=r?this._castAsDate(f,t.dateFormat):this._castAsNumber(f)));for(var o,l,h=a,d=n,f=null==t.type||"auto"==t.type,a=f||"basic"==t.type,u=0,g=0,c=0;c<s&&t.dataField;c++){var m=this._getDataValue(c,t.dataField,e),m=r?this._castAsDate(m,t.dateFormat):this._castAsNumber(m);isNaN(m)||(r?u++:g++,(isNaN(o)||m<o)&&(o=m),(isNaN(l)||l<=m)&&(l=m))}f&&(!r&&g==s||r&&u==s)&&(a=!1),a&&(o=0,l=Math.max(0,s-1)),isNaN(h)&&(h=o),isNaN(d)&&(d=l),r?(this._isDate(h)||(h=this._isDate(d)?d:new Date),this._isDate(d)||(d=this._isDate(h)?h:new Date)):(isNaN(h)&&(h=0),isNaN(d)&&(d=a?Math.max(0,s-1):h)),null==o&&(o=h),null==l&&(l=d);n=t.rangeSelector;n&&((x=n.minValue||h)&&r&&(x=this._castAsDate(x,n.dateFormat||t.dateFormat)),(N=n.maxValue||d)&&r&&(N=this._castAsDate(N,n.dateFormat||t.rangeSelector)),h<x&&(h=x),d<x&&(d=N),N<h&&(h=x),N<d&&(d=N));var _,p,f=t.unitInterval;r&&(p="hour"==(_=(_=t.baseUnit)||this._getBestDTUnit(h,d,e,i))||"minute"==_||"second"==_||"millisecond"==_);var n=1==t.logarithmicScale,x=t.logarithmicScaleBase;(isNaN(x)||x<=1)&&(x=10);f=t.unitInterval;n?f=1:(isNaN(f)||f<=0)&&(f=this._estAxisInterval(h,d,e,i,_));var y,v,N={min:h,max:d},i=this.seriesGroups[e];return n?(h||(h=1,d&&d<h&&(h=d)),N={min:h,max:d=d||h},y=le.jqx._rnd(le.jqx.log(h,x),1,!1),v=le.jqx._rnd(le.jqx.log(d,x),1,!0),d=Math.pow(x,v),h=Math.pow(x,y)):r||!i.polar&&!i.spider||(h=le.jqx._rnd(h,f,!1),d=le.jqx._rnd(d,f,!0)),{min:h,max:d,logAxis:{enabled:n,base:x,minPow:y,maxPow:v},dsRange:{min:o,max:l},filterRange:N,useIndeces:a,isDateTime:r,isTimeUnit:p,dateTimeUnit:_,interval:f}},_getDefaultDTFormatFn:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e="year"==e||"month"==e||"day"==e?function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()}:function(e){return e.getDate()+"-"+t[e.getMonth()]+"-"+e.getFullYear()+"<br>"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()};return e},_getDTIntCnt:function(e,t,i,s){var r=0,a=new Date(e),n=(n=new Date(t)).valueOf();if(i<=0)return 1;for(;a.valueOf()<n;)"millisecond"==s?a=new Date(a.valueOf()+i):"second"==s?a=new Date(a.valueOf()+1e3*i):"minute"==s?a=new Date(a.valueOf()+6e4*i):"hour"==s?a=new Date(a.valueOf()+6e4*i*24):"day"==s?a.setDate(a.getDate()+i):"month"==s?a.setMonth(a.getMonth()+i):"year"==s&&a.setFullYear(a.getFullYear()+i),r++;return r},_estAxisInterval:function(e,t,i,s,r,a){if(isNaN(e)||isNaN(t))return NaN;var n,o=[1,2,5,10,15,20,50,100,200,500],l=0,h=s/(!isNaN(a)&&0<a?a:50);if(this._renderData&&this._renderData.length>i&&this._renderData[i].xAxis&&!isNaN(this._renderData[i].xAxis.avgWidth)&&(0!=(n=Math.max(1,this._renderData[i].xAxis.avgWidth))&&isNaN(a)&&(h=.9*s/n)),h<=1)return Math.abs(t-e);for(;;){var d=o.length<=l?Math.pow(10,3+l-o.length):o[l];if((this._isDate(e)&&this._isDate(t)?this._getDTIntCnt(e,t,d,r):(t-e)/d)<=h)break;l++}i=this.seriesGroups[i];return(i.spider||i.polar)&&t-e<2*d&&(d=t-e),d},_getPaddingSize:function(e,t,i,s,r,a,n){var o=e.min,l=e.max;e.logAxis.enabled&&(o=e.logAxis.minPow,l=e.logAxis.maxPow);var h=e.interval,e=e.dateTimeUnit;if(r){r=s/Math.max(1,l-o+h)*h;return a?{left:0,right:r}:i?{left:0,right:0}:{left:r/2,right:r/2}}if(i&&!n)return{left:0,right:0};if(this._isDate(o)&&this._isDate(l)){var d,f=this._getDTIntCnt(o,l,Math.min(h,l-o),e);return{left:(d=s/Math.max(2,f))/2,right:d/2}}if(1!=(f=Math.max(1,l-o)))return{left:(d=s/(f+1))/2,right:d/2};s/=4;return{left:s,right:s}},_calculateXOffsets:function(e,t){var i=this.seriesGroups[e],s=this._getXAxis(e),r=[],a=[],n=this._getDataLen(e),o=this._getXAxisStats(e,s,t),l=o.min,h=o.max,d=o.isDateTime,f=o.isTimeUnit,u=this._hasColumnSeries(),g=i.polar||i.spider,c=this._get([i.startAngle,i.minAngle,0]),i=this._get([i.endAngle,i.maxAngle,360]),i=g&&!(1e-4<Math.abs(Math.abs(i-c)-360)),c=this._alignValuesWithTicks(e),m=this._getPaddingSize(o,s,c,t,g,i,u),_=h-l,p=o.filterRange;0==_&&(_=1);var x=t-m.left-m.right;g&&c&&!i&&(m.left=m.right=0);for(var y=-1,v=-1,N=0;N<n;N++){var M,b,A=void 0===s.dataField?N:this._getDataValue(N,s.dataField,e);o.useIndeces?N<p.min||N>p.max?(r.push(NaN),a.push(void 0)):(M=m.left+(N-l)/_*x,1==o.logAxis.enabled&&(b=o.logAxis.base,M=this._jqxPlot.scale(A,{min:l.valueOf(),max:h.valueOf(),type:"logarithmic",base:b},{min:0,max:x,flip:!1})),r.push(le.jqx._ptrnd(M)),a.push(A),-1==y&&(y=N),(-1==v||v<N)&&(v=N)):(A=d?this._castAsDate(A,s.dateFormat):this._castAsNumber(A),isNaN(A)||A<p.min||A>p.max?(r.push(NaN),a.push(void 0)):(M=0,M=1==o.logAxis.enabled?(b=o.logAxis.base,this._jqxPlot.scale(A,{min:l.valueOf(),max:h.valueOf(),type:"logarithmic",base:b},{min:0,max:x,flip:!1})):!d||d&&f?(A-l)*x/_:(A.valueOf()-l.valueOf())/(h.valueOf()-l.valueOf())*x,M=le.jqx._ptrnd(m.left+M),r.push(M),a.push(A),-1==y&&(y=N),(-1==v||v<N)&&(v=N)))}if(1==s.flip)for(N=0;N<r.length;N++)isNaN(r[N])||(r[N]=t-r[N]);(f||d)&&(_=this._getDateDiff(l,h,s.baseUnit),_=le.jqx._rnd(_,1,!1));c=Math.max(1,_),i=x/c;return y==v&&1==c&&(r[y]=m.left+x/2),{axisStats:o,data:r,xvalues:a,first:y,last:v,length:-1==v?0:v-y+1,itemWidth:i,intervalWidth:i*o.interval,rangeLength:_,useIndeces:o.useIndeces,padding:m,axisSize:x}},_getXAxis:function(e){return null==e||this.seriesGroups.length<=e?this.categoryAxis||this.xAxis:this.seriesGroups[e].categoryAxis||this.seriesGroups[e].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(e,t){e=this.seriesGroups[e],t=e.series[t];return 1==t.greyScale||0!=t.greyScale&&(1==e.greyScale||0!=e.greyScale&&1==this.greyScale)},_getSeriesColors:function(e,t,i){var s=this._getSeriesColorsInternal(e,t,i);if(this._isGreyScale(e,t))for(var r in s)s[r]=le.jqx.toGreyScale(s[r]);return s},_getColorFromScheme:function(e,t,i){var s="#000000",r=this.seriesGroups[e],a=r.series[t];if(this._isPieGroup(e))var n=this._getDataLen(e),s=this._getItemColorFromScheme(a.colorScheme||r.colorScheme||this.colorScheme,t*n+i,e,t);else{for(var o=0,l=0;l<=e;l++)for(var h in this.seriesGroups[l].series){if(l==e&&h==t)break;o++}var d=this.colorScheme;if(r.colorScheme&&(d=r.colorScheme,0),null!=d&&""!=d||(d=this.colorSchemes[0].name),!d)return s;for(l=0;l<this.colorSchemes.length;l++){var f=this.colorSchemes[l];if(f.name==d){for(;o>f.colors.length;)o-=f.colors.length,++l>=this.colorSchemes.length&&(l=0),f=this.colorSchemes[l];s=f.colors[o%f.colors.length]}}}return s},_createColorsCache:function(){this._colorsCache={get:function(e){if(this._store[e])return this._store[e]},set:function(e,t){this._size<1e4&&(this._store[e]=t,this._size++)},clear:function(){this._store={},this._size=0},_size:0,_store:{}}},_getSeriesColorsInternal:function(e,t,i){var s=this.seriesGroups[e],r=s.series[t];le.isFunction(r.colorFunction)||"pie"==s.type||"donut"==s.type||(i=NaN);var a=e+"_"+t+"_"+(isNaN(i)?"NaN":i);if(this._colorsCache.get(a))return this._colorsCache.get(a);var n,o={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333",fillColorAlt:"#222222",fillColorAltSelected:"#333333"};if(le.isFunction(r.colorFunction)){var l=isNaN(i)?NaN:this._getDataValue(i,r.dataField,e);if(-1==s.type.indexOf("range")||isNaN(i)||(l={from:this._getDataValue(i,r.dataFieldFrom,e),to:this._getDataValue(i,r.dataFieldTo,e)}),"object"==typeof(n=r.colorFunction(l,i,r,s)))for(var h in n)o[h]=n[h];else o.fillColor=n}else{for(var h in o)r[h]&&(o[h]=r[h]);r.fillColor||r.color?r.fillColor=r.fillColor||r.color:o.fillColor=this._getColorFromScheme(e,t,i)}var d={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},fillColorAlt:{baseColor:"fillColor",adjust:4},fillColorAltSelected:{baseColor:"fillColor",adjust:3},lineColor:{baseColor:"fillColor",adjust:.95},lineColorSelected:{baseColor:"lineColor",adjust:.95},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(h in o)"object"==typeof n&&n[h]||r[h]&&(o[h]=r[h]);for(h in o)"object"==typeof n&&n[h]||r[h]||(o[h]=le.jqx.adjustColor(o[d[h].baseColor],d[h].adjust));return this._colorsCache.set(a,o),o},_getItemColorFromScheme:function(e,t,i,s){null!=e&&""!=e||(e=this.colorSchemes[0].name);for(var r=0;r<this.colorSchemes.length&&e!=this.colorSchemes[r].name;r++);for(var a=0;a<=t;){r==this.colorSchemes.length&&(r=0);var n=this.colorSchemes[r].colors.length;if(!(a+n<=t)){var o=this.colorSchemes[r].colors[t-a];return this._isGreyScale(i,s)&&0==o.indexOf("#")&&(o=le.jqx.toGreyScale(o)),o}a+=n,r++}},getColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e)return this.colorSchemes[t].colors},addColorScheme:function(e,t){for(var i=0;i<this.colorSchemes.length;i++)if(this.colorSchemes[i].name==e)return void(this.colorSchemes[i].colors=t);this.colorSchemes.push({name:e,colors:t})},removeColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e){this.colorSchemes.splice(t,1);break}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(e,t,i,s,r,a){if(null==e)return"";if(this._isObject(e)&&!this._isDate(e)&&!i)return"";if(i){if(!le.isFunction(i))return e.toString();try{return i(e,a,r,s)}catch(e){return e.message}}return this._isNumber(e)?this._formatNumber(e,t):this._isDate(e)?this._formatDate(e,t):t?(t.prefix||"")+e.toString()+(t.sufix||""):e.toString()},_getFormattedValue:function(e,t,i,s,r,a){var n=this.seriesGroups[e],o=n.series[t],l="",h=s,d=(d=r)||(o.formatFunction||n.formatFunction),h=h||(o.formatSettings||n.formatSettings);!o.formatFunction&&o.formatSettings&&(d=void 0);var f={},u=0;for(g in o)0==g.indexOf("dataField")&&(f[g.substring(9).toLowerCase()]=this._getDataValue(i,o[g],e),u++);if(0==u&&(f=this._getDataValue(i,void 0,e)),-1!=n.type.indexOf("waterfall")&&this._isSummary(e,i)&&(f=this._renderData[e].offsets[t][i].value,u=0),d&&le.isFunction(d))try{return d(1==u?f[""]:f,i,o,n)}catch(e){return e.message}if(1==u&&this._isPieGroup(e))return this._formatValue(f[""],h,d,e,t,i);if(0<u){var g,c=0;for(g in f){0<c&&""!=l&&(l+="<br>");var m="dataField"+(0<g.length?g.substring(0,1).toUpperCase()+g.substring(1):""),_=o["displayText"+(0<g.length?g.substring(0,1).toUpperCase()+g.substring(1):"")]||o[m],m=f[g];null!=m&&(m=this._formatValue(m,h,d,e,t,i),l+=!0===a?m:_+": "+m,c++)}}else null!=f&&(l=this._formatValue(f,h,d,e,t,i));return l||""},_isNumberAsString:function(e){if("string"!=typeof e)return!1;e=le.trim(e);for(var t=0;t<e.length;t++){var i=e.charAt(t);if(!("0"<=i&&i<="9"||","==i||"."==i)&&(("-"!=i||0!=t)&&!("("==i&&0==t||")"==i&&t==e.length-1)))return!1}return!0},_castAsDate:function(e,t){if(e instanceof Date&&!isNaN(e))return e;if("string"==typeof e){var i;if(t&&(i=le.jqx.dataFormat.parsedate(e,t),this._isDate(i)))return i;if(this._autoDateFormats)for(var s=0;s<this._autoDateFormats.length;s++)if(i=le.jqx.dataFormat.parsedate(e,this._autoDateFormats[s]),this._isDate(i))return i;t=this._detectDateFormat(e);return t&&(i=le.jqx.dataFormat.parsedate(e,t),this._isDate(i))?(this._autoDateFormats.push(t),i):(i=new Date(e),this._isDate(i)&&-1==e.indexOf(":")&&i.setHours(0,0,0,0),i)}},_castAsNumber:function(e){return e instanceof Date&&!isNaN(e)?e.valueOf():("string"==typeof e&&(this._isNumber(e)?e=parseFloat(e):/[a-zA-Z]/.test(e)||null!=(t=new Date(e))&&(e=t.valueOf())),e);var t},_isNumber:function(e){return"string"==typeof e&&this._isNumberAsString(e)&&(e=parseFloat(e)),"number"==typeof e&&isFinite(e)},_isDate:function(e){return e instanceof Date&&!isNaN(e.getDate())},_isBoolean:function(e){return"boolean"==typeof e},_isObject:function(e){return e&&("object"==typeof e||le.isFunction(e))||!1},_formatDate:function(e,t){var i=e.toString();return t&&(t.dateFormat&&(i=le.jqx.dataFormat.formatDate(e,t.dateFormat)),i=(t.prefix||"")+i+(t.sufix||"")),i},_formatNumber:function(e,t){if(!this._isNumber(e))return e;t=t||{};var i=".",s="",r=this;r.localization&&(i=r.localization.decimalSeparator||r.localization.decimalseparator||i,s=r.localization.thousandsSeparator||r.localization.thousandsseparator||s),t.decimalSeparator&&(i=t.decimalSeparator),t.thousandsSeparator&&(s=t.thousandsSeparator);var a=t.prefix||"",r=t.sufix||"",n=t.decimalPlaces;isNaN(n)&&(n=this._getDecimalPlaces([e],void 0,3));var o=t.negativeWithBrackets||!1,l=e<0;l&&o&&(e*=-1);var h,d=e.toString(),t=Math.pow(10,n),d=(Math.round(e*t)/t).toString();if(isNaN(d)&&(d=""),h=d.lastIndexOf("."),0<n)for(h<0?h=(d+=i).length-1:"."!==i&&(d=d.replace(".",i));d.length-1-h<n;)d+="0";h=-1<(h=d.lastIndexOf(i))?h:d.length;for(var f=d.substring(h),u=0,g=h;0<g;g--,u++)u%3==0&&g!==h&&(!l||1<g||l&&o)&&(f=s+f),f=d.charAt(g-1)+f;return d=f,l&&o&&(d="("+d+")"),a+d+r},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_calculateControlPoints:function(e,t){var i=e[t],s=e[t+1],r=e[t+2],a=e[t+3],n=e[t+4],o=e[t+5],e=Math.sqrt(Math.pow(r-i,2)+Math.pow(a-s,2)),t=e+Math.sqrt(Math.pow(n-r,2)+Math.pow(o-a,2));0==t&&(t=1);e=.4*e/t,t=.4-e;return[r+e*(i-n),a+e*(s-o),r-t*(i-n),a-t*(s-o)]},_getBezierPoints:function(e){for(var t="",i=[],s=[],r=e.split(" "),a=0;a<r.length;a++){var n=r[a].split(",");i.push(parseFloat(n[0])),i.push(parseFloat(n[1])),isNaN(i[i.length-1])||isNaN(i[i.length-2])}var o=i.length;if(o<=1)return"";if(2==o)return t="M"+le.jqx._ptrnd(i[0])+","+le.jqx._ptrnd(i[1])+" L"+le.jqx._ptrnd(i[0]+1)+","+le.jqx._ptrnd(i[1]+1)+" ";for(a=0;a<o-4;a+=2)s=s.concat(this._calculateControlPoints(i,a));for(a=2;a<o-5;a+=2)t+=" C"+le.jqx._ptrnd(s[2*a-2])+","+le.jqx._ptrnd(s[2*a-1])+" "+le.jqx._ptrnd(s[2*a])+","+le.jqx._ptrnd(s[2*a+1])+" "+le.jqx._ptrnd(i[a+2])+","+le.jqx._ptrnd(i[a+3])+" ";return t=o<=4||Math.abs(i[0]-i[2])<3||Math.abs(i[1]-i[3])<3||this._isVML?"M"+le.jqx._ptrnd(i[0])+","+le.jqx._ptrnd(i[1])+" L"+le.jqx._ptrnd(i[2])+","+le.jqx._ptrnd(i[3])+" "+t:"M"+le.jqx._ptrnd(i[0])+","+le.jqx._ptrnd(i[1])+" Q"+le.jqx._ptrnd(s[0])+","+le.jqx._ptrnd(s[1])+" "+le.jqx._ptrnd(i[2])+","+le.jqx._ptrnd(i[3])+" "+t,4<=o&&(Math.abs(i[o-2]-i[o-4])<3||Math.abs(i[o-1]-i[o-3])<3||this._isVML)?t+=" L"+le.jqx._ptrnd(i[o-2])+","+le.jqx._ptrnd(i[o-1])+" ":5<=o&&(t+=" Q"+le.jqx._ptrnd(s[2*o-10])+","+le.jqx._ptrnd(s[2*o-9])+" "+le.jqx._ptrnd(i[o-2])+","+le.jqx._ptrnd(i[o-1])+" "),t},_animTickInt:50,_createAnimationGroup:function(e){this._animGroups||(this._animGroups={}),this._animGroups[e]={animations:[],startTick:NaN}},_startAnimation:function(e){var t=(new Date).getTime();this._animGroups[e].startTick=t,this._runAnimation(),this._enableAnimTimer()},_enqueueAnimation:function(e,t,i,s,r,a,n){s<0&&(s=0),null==n&&(n="easeInOutSine"),this._animGroups[e].animations.push({key:t,properties:i,duration:s,fn:r,context:a,easing:n})},_stopAnimations:function(){clearTimeout(this._animtimer),this._animtimer=void 0,this._animGroups=void 0},_enableAnimTimer:function(){var e;this._animtimer||((e=this)._animtimer=setTimeout(function(){e._runAnimation()},this._animTickInt))},_runAnimation:function(e){if(this._animGroups){var t=(new Date).getTime(),i={};for(u in this._animGroups){for(var s=this._animGroups[u].animations,r=this._animGroups[u].startTick,a=0,n=0;n<s.length;n++){var o=s[n],l=t-r;o.duration>a&&(a=o.duration);var h=0<o.duration?l/o.duration:1,d=h;if(o.easing&&0!=o.duration&&(d=le.easing[o.easing](h,l,0,1,o.duration)),1<h&&(d=h=1),o.fn)o.fn(o.key,o.context,d);else{for(var f={},u=0;u<o.properties.length;u++){var g=o.properties[u],c=0,c=1==h?g.to:d*(g.to-g.from)+g.from;f[g.key]=c}this.renderer.attr(o.key,f)}}t<r+a&&(i[u]={startTick:r,animations:s})}this._animGroups=i,this.renderer instanceof le.jqx.HTML5Renderer&&this.renderer.refresh()}for(var u in this._animtimer=null,this._animGroups){this._enableAnimTimer();break}},_fixCoords:function(e,t){if(!("horizontal"==this.seriesGroups[t].orientation))return e;t=e.x;e.x=e.y,e.y=t+this._plotRect.y-this._plotRect.x;t=e.width;return e.width=e.height,e.height=t,e},getItemCoord:function(e,t,i){var s=this;if(s._isPieGroup(e)&&(!s._isSerieVisible(e,t,i)||!s._renderData||s._renderData.length<=e))return{x:NaN,y:NaN};if(!s._isSerieVisible(e,t)||!s._renderData||s._renderData.length<=e)return{x:NaN,y:NaN};var r,a,n=s.seriesGroups[e],o=n.series[t],l=s._getItemCoord(e,t,i);if(s._isPieGroup(e)){if(isNaN(l.x)||isNaN(l.y)||isNaN(l.fromAngle)||isNaN(l.toAngle))return{x:NaN,y:NaN};var h=this._plotRect,d=l.fromAngle*(Math.PI/180),f=l.toAngle*(Math.PI/180),i=h.x+l.center.x+Math.cos(d)*l.outerRadius,s=h.x+l.center.x+Math.cos(f)*l.outerRadius,d=h.y+l.center.y-Math.sin(d)*l.outerRadius,h=h.y+l.center.y-Math.sin(f)*l.outerRadius,f=Math.min(i,s),i=Math.abs(s-i);return l={x:f,y:f=Math.min(d,h),width:i,height:Math.abs(h-d),center:l.center,centerOffset:l.centerOffset,innerRadius:l.innerRadius,outerRadius:l.outerRadius,selectedRadiusChange:l.selectedRadiusChange,fromAngle:l.fromAngle,toAngle:l.toAngle}}return-1!=n.type.indexOf("column")||-1!=n.type.indexOf("waterfall")?(r=this._getColumnSerieWidthAndOffset(e,t),l.height=Math.abs(l.y.to-l.y.from),l.y=Math.min(l.y.to,l.y.from),l.x+=r.offset,l.width=r.width):-1!=n.type.indexOf("ohlc")||-1!=n.type.indexOf("candlestick")?(r=this._getColumnSerieWidthAndOffset(e,t),f=l.y,t=Math.min(f.Open,f.Close,f.Low,f.High),f=Math.max(f.Open,f.Close,f.Low,f.High),l.height=Math.abs(f-t),l.y=t,l.x+=r.offset,l.width=r.width):-1!=n.type.indexOf("line")||-1!=n.type.indexOf("area")?(l.width=l.height=0,l.y=l.y.to):-1==n.type.indexOf("bubble")&&-1==n.type.indexOf("scatter")||(l.center={x:l.x,y:l.y.to},a=l.y.radius,"circle"!=o.symbolType&&null!=o.symbolType&&(a/=2),l.y=l.y.to,l.radius=a,l.width=2*a,l.height=2*a),l=this._fixCoords(l,e),(n.polar||n.spider)&&(o=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,l.x,l.y),l.x=o.x,l.y=o.y,l.center&&(l.center=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,l.center.x,l.center.y))),-1==n.type.indexOf("bubble")&&-1==n.type.indexOf("scatter")||(l.x-=a,l.y-=a),l},_getItemCoord:function(e,t,i){var s=this.seriesGroups[e];if(!s||!this._renderData)return{x:NaN,y:NaN};if(!s.series[t])return{x:NaN,y:NaN};var r=this._plotRect;if(this._isPieGroup(e)){var a=this._renderData[e].offsets[t][i];if(!a)return{x:NaN,y:NaN};var n,o,s=(a.fromAngle+a.toAngle)/2*(Math.PI/180);return{x:n=r.x+a.x+Math.cos(s)*a.outerRadius,y:o=r.y+a.y-Math.sin(s)*a.outerRadius,center:{x:a.x,y:a.y},centerOffset:a.centerOffset,innerRadius:a.innerRadius,outerRadius:a.outerRadius,selectedRadiusChange:a.selectedRadiusChange,fromAngle:a.fromAngle,toAngle:a.toAngle}}if(n=r.x+this._renderData[e].xoffsets.data[i],o=this._renderData[e].offsets[t][i],isNaN(n)||!o)return{x:NaN,y:NaN};var l,h={};for(l in o)h[l]=o[l];return{x:n,y:h}},getXAxisValue:function(e,t){var i=this.seriesGroups[t];if(i){var s=this._getXAxis(t),r=this._plotRect,a=0,n=NaN,o=this._renderData[0].xoffsets.axisStats,l=0,h=0;if(i.polar||i.spider){if(isNaN(e.x)||isNaN(e.y))return NaN;var d=this._getPolarAxisCoords(t,r);if(le.jqx._ptdist(e.x,e.y,d.x,d.y)>d.r)return NaN;var f=Math.atan2(d.y-e.y,e.x-d.x);(f=Math.PI/2-f)<0&&(f=2*Math.PI+f),n=f*d.r;var u=d.startAngle+Math.PI/2,f=d.endAngle+Math.PI/2,l=u*d.r,h=f*d.r,a=(f-u)*d.r,u=this._getPaddingSize(o,s,s.valuesOnTicks,a,!0,d.isClosedCircle,this._hasColumnSeries());d.isClosedCircle?(a-=u.left+u.right,h-=u.left+u.right):s.valuesOnTicks||(l+=u.left,h-=u.right)}else{if("horizontal"!=i.orientation){if(e<r.x||e>r.x+r.width)return NaN;n=e-r.x,a=r.width}else{if(e<r.y||e>r.y+r.height)return NaN;n=e-r.y,a=r.height}this._renderData[t]&&this._renderData[t].xoffsets&&(a-=(u=this._renderData[t].xoffsets.padding).left+u.right,n-=u.left),h=a}return this._jqxPlot.scale(n,{min:l,max:h},{min:o.min.valueOf(),max:o.max.valueOf(),type:o.logAxis.enabled?"logarithmic":"linear",base:o.logAxis.base,flip:s.flip})}},getValueAxisValue:function(e,t){var i=this.seriesGroups[t];if(i){var s=this._getValueAxis(t),r=this._plotRect,a=0,n=NaN;if(i.polar||i.spider){if(isNaN(e.x)||isNaN(e.y))return NaN;var o=this._getPolarAxisCoords(t,r),n=le.jqx._ptdist(e.x,e.y,o.x,o.y);n=(a=o.r)-n}else if("horizontal"==i.orientation){if(e<r.x||e>r.x+r.width)return NaN;n=e-r.x,a=r.width}else{if(e<r.y||e>r.y+r.height)return NaN;n=e-r.y,a=r.height}t=this._stats.seriesGroups[t];return this._jqxPlot.scale(n,{min:0,max:a},{min:t.min.valueOf(),max:t.max.valueOf(),type:t.logarithmic?"logarithmic":"linear",base:t.logBase,flip:!s.flip})}},_detectDateFormat:function(e,t){var i={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"};t&&(i=le.extend({},i,t));var s=[];for(n in le.isArray(e)?s=e:s.push(e),i)i[n]={format:i[n],count:0};for(var r=0;r<s.length;r++){var a=s[r];if(null!=a&&null!=a)for(var n in i)null!=le.jqx.dataFormat.parsedate(a,i[n].format)&&i[n].count++}var o={key:void 0,count:0};for(n in i)i[n].count>o.count&&(o.key=n,o.count=i[n].count);return o.key?i[o.key].format:""},_testXAxisDateFormat:function(e){var t=this,i=t._getXAxis(e),s=t._getDataLen(e),r={};if(t.localization&&t.localization.patterns)for(var a in t.localization.patterns)r["local_"+a]=t.localization.patterns[a];for(var n=[],o=0;o<s&&o<10;o++){var l=t._getDataValue(o,i.dataField,e);null!=l&&null!=l&&n.push(l)}return t._detectDateFormat(n,r)}})}(jqxBaseFramework);