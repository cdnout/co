!function(t){t.extend(t.jqx._jqxChart.prototype,{_moduleAnnotations:!0,_renderAnnotation:function(t,e,i){var a=this.seriesGroups[t],s=this.renderer;if(!isNaN(t)){var o=this._get([this.getXAxisDataPointOffset(e.xValue,t),e.x]),n=this._get([this.getValueAxisDataPointOffset(e.yValue,t),e.y]),r=this._get([this.getXAxisDataPointOffset(e.xValue2,t),e.x2]),l=this._get([this.getValueAxisDataPointOffset(e.yValue2,t),e.y2]);if((a.polar||a.spider)&&(n=!(t=this.getPolarDataPointOffset(e.xValue,e.yValue,t))||isNaN(t.x)||isNaN(t.y)?(o=e.x,e.y):(o=t.x,t.y)),isNaN(n)||isNaN(o))return!1;"horizontal"==a.orientation&&(c=o,o=n,n=c,c=r,r=l,l=c),e.offset&&(isNaN(e.offset.x)||(o+=e.offset.x,r+=e.offset.x),isNaN(e.offset.y)||(n+=e.offset.y,l+=e.offset.y));var f,h,a=this._get([e.width,r-o]),c=this._get([e.height,l-n]);switch(e.type){case"rect":f=s.rect(o,n,a,c);break;case"circle":f=s.rect(o,n,e.radius);break;case"line":f=s.rect(o,n,r,l);break;case"path":f=s.path(e.path)}s.attr(f,{fill:e.fillColor,stroke:e.lineColor,opacity:this._get([e.fillOpacity,e.opacity]),"stroke-opacity":this._get([e.lineOpacity,e.opacity]),"stroke-width":e.lineWidth,"stroke-dasharray":e.dashStyle||"none"}),e.text&&(r=c=0,(l=e.text).offset&&(isNaN(l.offset.x)||(c+=l.offset.x),isNaN(l.offset.y)||(r+=l.offset.y)),h=s.text(l.value,o+c,n+r,NaN,NaN,l.angle,{},!0===l.clip,l.horizontalAlignment||"center",l.verticalAlignment||"center",l.rotationPoint||"centermiddle"),s.attr(h,{fill:l.fillColor,stroke:l.lineColor,class:l.class}));for(var x=["click","mouseenter","mouseleave"],y=this,N=0;N<x.length;N++){var d=this._getEvent(x[N])||x[N];f&&this.renderer.addHandler(f,d,function(){y._raiseAnnotationEvent(e,d)}),h&&this.renderer.addHandler(h,d,function(){y._raiseAnnotationEvent(e,d)})}}},_raiseAnnotationEvent:function(t,e){this._raiseEvent("annotation_"+e,{annotation:t})}})}(jqxBaseFramework);