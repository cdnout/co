!function(x){x.jqx.jqxWidget("jqxMenu","",{}),x.extend(x.jqx._jqxMenu.prototype,{defineInstance:function(){var e={items:new Array,mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:10,menuElements:new Array,autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:1e3,rtl:!1,keyboardNavigation:!1,lockFocus:!1,title:"",events:["shown","closed","itemclick","initialized","open","close"]};return this===x.jqx._jqxMenu.prototype||x.extend(!0,this,e),e},createInstance:function(e){var t,i,s=this;this.host.attr("role","menubar"),x.jqx.utilities.resize(this.host,function(){s.refresh()},!1,"popup"!=this.mode),"auto"!=this.minimizeWidth&&null!=this.minimizeWidth&&this.width&&-1==this.width.toString().indexOf("%")&&x(window).resize(function(){s.refresh()}),!s.isMaterialized()||(t=window.getComputedStyle(this.element).getPropertyValue("--jqx-dropdown-animation"))&&(this.animationType=t.trim(),"transform"===this.animationType&&(this.animationShowDuration=0,this.animationHideDuration=0,this.animationShowDelay=0)),this.host.css("outline","none"),this.source&&null!=this.source&&(i=this.loadItems(this.source),this.element.innerHTML=i),this._tmpHTML=this.element.innerHTML,!this.element.innerHTML.indexOf("UL")||0<(i=this.host.find("ul:first")).length&&this._createMenu(i[0]),this.host.data("autoclose",{}),this._render(),this._setSize(),x.jqx.browser.msie&&x.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{var t,e;"popup"===this.mode&&this.keyboardNavigation&&this.host.closest("div.jqx-menu-wrapper").focus(),this.keyboardNavigation&&(this.host.focus(),e=function(){var e;x.jqx.isHidden(x(t.items[0].element))?(e=t._nextVisibleItem(t.items[0],0))&&(x(e.element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=e):(x(t.items[0].element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=t.items[0])},(t=this).activeItem?x.jqx.isHidden(x(this.activeItem.element))?(x(this.activeItem.element).removeClass(this.toThemeProperty("jqx-fill-state-focus")),e()):x(this.activeItem.element).addClass(this.toThemeProperty("jqx-fill-state-focus")):e())}catch(e){}},loadItems:function(e,t){if(null!=e){if(0==e.length)return"";var i=this;this.items=new Array;var s=t?'<ul class="jqx-menu-ul" style="width:'+t+';">':'<ul class="jqx-menu-ul">';return x.map(e,function(e){return null==e?null:void(s+=i._parseItem(e))}),s+="</ul>"}},_parseItem:function(e){var t="";if(null==e)return null;var i=e.label;!e.label&&e.html&&(i=e.html),i="string"==typeof e?e:i||"Item";null!=e.selected&&e.selected;var s=!1;return null!=e.disabled&&e.disabled&&(s=!0),t+="<li",s&&(t+=' item-disabled="true" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=e.value&&(t+=' item-value="'+e.value+'" '),null!=e.id&&(t+=' id="'+e.id+'" '),t+=">"+i,e.items&&(e.subMenuWidth?t+=this.loadItems(e.items,e.subMenuWidth):t+=this.loadItems(e.items)),t+="</li>"},_setSize:function(){(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.width&&-1!=this.width.toString().indexOf("px")||null!=this.width&&!isNaN(this.width))&&this.host.width(this.width),(null!=this.height&&-1!=this.height.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("px")||null!=this.height&&!isNaN(this.height))&&this.host.height(this.height),null===this.height&&this.host.height("auto");if(null!=this.minimizeWidth&&"popup"!=this.mode){var e=x(window).width();if(!x.jqx.response){var t=!1;navigator.userAgent.match(/Windows|Linux|MacOS/)&&(0<=navigator.userAgent.indexOf("Windows Phone")||0<=navigator.userAgent.indexOf("WPDesktop")||0<=navigator.userAgent.indexOf("IEMobile")||0<=navigator.userAgent.indexOf("ZuneWP7")||(t=!0));var i=this.minimizeWidth;if(t&&"auto"==this.minimizeWidth)return}"auto"==this.minimizeWidth&&x.jqx.response?"Phone"!=(t=new x.jqx.response).device.type&&"Tablet"!=t.device.type||this.minimized||this.minimize():e<i&&!this.minimized?this.minimize():this.minimized&&i<=e&&this.restore()}},minimize:function(){var s,e,t,o,i;this.minimized||((s=this).host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple",(o=this.host.closest("div.jqx-menu-wrapper")).remove(),x("#menuWrapper"+this.element.id).remove(),x.each(this.items,function(){x(this.element);x(this.subMenuElement).closest("div.jqx-menu-popup").remove()}),this.source&&(e=this.loadItems(this.source),this.element.innerHTML=e,this._tmpHTML=this.element.innerHTML),this.element.innerHTML=this._tmpHTML,!this.element.innerHTML.indexOf("UL")||0<(t=this.host.find("ul:first")).length&&this._createMenu(t[0]),this._render(),(t=this.host.find("ul:first")).wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>'),(o=t.closest("div.jqx-menu-wrapper"))[0].id="menuWrapper"+this.element.id,o.detach(),o.appendTo(x(document.body)),o.addClass(this.toThemeProperty("jqx-widget")),o.addClass(this.toThemeProperty("jqx-menu")),o.addClass(this.toThemeProperty("jqx-menu-minimized")),o.addClass(this.toThemeProperty("jqx-widget-header")),t.children().hide(),o.hide(),o.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=x("<div></div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.addHandler(o,"keydown",function(e){return s.handleKeyDown(e)}),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=x("<div>"+this.title+"</div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),x("<div style='clear:both;'></div>").insertAfter(this.minimizedItem),s.minimizedHidden=!0,i=function(e){var t,i;s.minimizedHidden?(o.find("ul:first").children().show(),s.minimizedHidden=!1,o.show(),o.css("opacity",0),o.css("left",-o.outerWidth()),t=!1,i=o.width(),"right"==s.minimizedItem.css("float")&&(o.css("left",s.host.coord().left+s.host.width()+i),t=!0),o.css("top",s.host.coord().top+s.host.height()),o.animate({left:t?s.host.coord().left+s.host.width()-i:s.host.coord().left,opacity:.95},s.animationShowDuration,function(){})):function(){s.minimizedHidden=!0,s.minimizedItem.show();var e=!1;"right"==s.minimizedItem.css("float")&&(e=!0),o.animate({left:e?s.host.coord().left+s.host.width()+o.width():-o.outerWidth(),opacity:0},s.animationHideDuration,function(){o.find("ul:first").children().hide(),o.hide()})}(),s._raiseEvent("2",{type:"mouse",item:s.minimizedItem[0],event:e}),s._setSize()},this.addHandler(x(window),"orientationchange.jqxmenu"+this.element.id,function(e){setTimeout(function(){var e,t;s.minimizedHidden||(t=o.width(),e=!1,t=o.width(),"right"==s.minimizedItem.css("float")&&(e=!0),o.css("top",s.host.coord().top+s.host.height()),o.css({left:e?s.host.coord().left+s.host.width()-t:s.host.coord().left}))},25)}),this.addHandler(this.minimizedItem,"click",function(e){i(e)}))},restore:function(){var e;this.minimized&&(this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove(),x("#menuWrapper"+this.element.id).remove(),this.source&&(e=this.loadItems(this.source),this.element.innerHTML=e,this._tmpHTML=e),this.element.innerHTML=this._tmpHTML,!this.element.innerHTML.indexOf("UL")||0<(e=this.host.find("ul:first")).length&&this._createMenu(e[0]),this._setSize(),this._render())},isTouchDevice:function(){if(null!=this._isTouchDevice)return this._isTouchDevice;var e=x.jqx.mobile.isTouchDevice();return 1==this.touchMode?e=!0:0==this.touchMode&&(e=!1),e&&(this.host.addClass(this.toThemeProperty("jqx-touch")),x(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=e},refresh:function(e){e||this._setSize()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_closeAll:function(e){var t=null!=e?e.data:this,i=t.items;x.each(i,function(){1==this.hasItems&&this.isOpen&&t._closeItem(t,this)}),"popup"==t.mode&&null!=e&&(t._isRightClick(e)||t.close())},closeItem:function(e){if(null==e)return!1;var t=document.getElementById(e),i=this;return x.each(i.items,function(){1==this.isOpen&&this.element==t&&(i._closeItem(i,this),this.parentId)}),!0},openItem:function(e){if(null==e)return!1;var t=document.getElementById(e),i=this;return x.each(i.items,function(){var e=this;0==e.isOpen&&e.element==t&&(i._openItem(i,e),e.parentId&&i.openItem(e.parentId))}),!0},_getClosedSubMenuOffset:function(e){var t=x(e.subMenuElement),i=-t.outerHeight(),s=-t.outerWidth(),o=0==e.level&&"horizontal"==this.mode;switch(o?s=0:i=0,e.openVerticalDirection){case"up":case"center":i=t.outerHeight()}switch(e.openHorizontalDirection){case this._getDir("left"):case"center":s=o?0:t.outerWidth()}return{left:s,top:i}},_closeItem:function(t,i,e,s){if(null==t||null==i)return!1;var o,n=x(i.subMenuElement),r=0==i.level&&"horizontal"==this.mode,a=this._getClosedSubMenuOffset(i),l=a.top,m=a.left,d=(x(i.element),n.closest("div.jqx-menu-popup"));null!=d&&(d.removeClass("show"),a=t.animationHideDelay,1==s&&(a=0),n.data("timer")&&null!=n.data("timer").show&&(clearTimeout(n.data("timer").show),n.data("timer").show=null),o=function(){i.isOpen=!1,r?n.stop().animate({top:l},t.animationHideDuration,function(){x(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),x(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),x(i.element).removeClass(t.toThemeProperty("jqx-rc-b-expanded")),d.removeClass(t.toThemeProperty("jqx-rc-t-expanded"));var e=x(i.arrow);0<e.length&&t.showTopLevelArrows&&(e.removeClass(),"down"==i.openVerticalDirection?(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-down")),e.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-up")),e.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),x.jqx.aria(x(i.element),"aria-expanded",!1),d.css({display:"none"}),0==t.animationHideDuration&&n.css({top:l}),t._raiseEvent("1",i)}):(x.jqx.browser.msie,n.stop().animate({left:m},t.animationHideDuration,function(){var e;0==t.animationHideDuration&&n.css({left:m}),0<i.level?(x(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),x(i.element).removeClass(t.toThemeProperty("jqx-menu-item-selected")),0<(e=x(i.arrow)).length&&(e.removeClass(),"left"!=i.openHorizontalDirection?(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right"))),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left"))),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))):(x(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),x(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),0<(e=x(i.arrow)).length&&(e.removeClass(),"left"!=i.openHorizontalDirection?(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("right"))),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("left"))),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))),x.jqx.aria(x(i.element),"aria-expanded",!1),d.css({display:"none"}),t._raiseEvent("1",i)}))},0<a?n.data("timer")&&(n.data("timer").hide=setTimeout(function(){o()},a)):o(),null!=e&&e&&(e=n.children(),x.each(e,function(){t.menuElements[this.id]&&t.menuElements[this.id].isOpen&&(x(t.menuElements[this.id].subMenuElement),t._closeItem(t,t.menuElements[this.id],!0,!0))})))},getSubItems:function(e,t){if(null==e)return!1;var i=this,s=new Array;null!=t&&x.extend(s,t);e=this.menuElements[e],e=x(e.subMenuElement).find(".jqx-menu-item");return x.each(e,function(){s[this.id]=i.menuElements[this.id];var e=i.getSubItems(this.id,s);x.extend(s,e)}),s},disable:function(e,t){var i;null==e||this.menuElements[e]&&((i=this.menuElements[e]).disabled=t,e=x(i.element),i.element.disabled=t,x.each(e.children(),function(){this.disabled=t}),t?(e.addClass(this.toThemeProperty("jqx-menu-item-disabled")),e.addClass(this.toThemeProperty("jqx-fill-state-disabled"))):(e.removeClass(this.toThemeProperty("jqx-menu-item-disabled")),e.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))))},getItem:function(e){return this.menuElements[e]||null},disableItem:function(e){this.disable(e,!0)},hideItem:function(e){this.menuElements[e]&&(e=this.menuElements[e],x(e.element).hide())},showItem:function(e){this.menuElements[e]&&(e=this.menuElements[e],x(e.element).show())},enableItem:function(e){this.disable(e,!1)},_setItemProperty:function(e,t,i){null!=e&&(!this.menuElements[e]||(e=this.menuElements[e])[t]&&(e[t]=i))},setItemOpenDirection:function(e,t,i){var s,o,n,r;null!=e&&(s=this,o=x.jqx.browser.msie&&x.jqx.browser.version<8,this.menuElements[e]&&(e=this.menuElements[e],null!=t&&(e.openHorizontalDirection=t,e.hasItems&&0<e.level&&null!=(r=x(e.element))&&(n=x(e.arrow),null==e.arrow&&(n=x('<span id="arrow'+r[0].id+'"></span>'),o?n.appendTo(r):n.prependTo(r),e.arrow=n[0]),n.removeClass(),"left"==e.openHorizontalDirection?(n.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("left"))),n.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("left")))):(n.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("right"))),n.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right")))),n.css("visibility","inherit"),o?(n.css("display","inline-block"),n.css("float","none")):(n.css("display","block"),n.css("float","right")))),null!=i&&(e.openVerticalDirection=i,n=x(e.arrow),r=x(e.element),s.showTopLevelArrows&&null!=r&&(null==e.arrow&&(n=x('<span id="arrow'+r[0].id+'"></span>'),o?n.appendTo(r):n.prependTo(r),e.arrow=n[0]),n.removeClass(),"down"==e.openVerticalDirection?(n.addClass(s.toThemeProperty("jqx-menu-item-arrow-down")),n.addClass(s.toThemeProperty("jqx-icon-arrow-down"))):(n.addClass(s.toThemeProperty("jqx-menu-item-arrow-up")),n.addClass(s.toThemeProperty("jqx-icon-arrow-up"))),n.css("visibility","inherit"),o?(n.css("display","inline-block"),n.css("float","none")):(n.css("display","block"),n.css("float","right"))))))},_getSiblings:function(e){for(var t=new Array,i=0,s=0;s<this.items.length;s++)this.items[s]!=e&&this.items[s].parentId==e.parentId&&this.items[s].hasItems&&(t[i++]=this.items[s]);return t},_openItem:function(t,i,e){if(null==t||null==i)return!1;if(i.isOpen)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var s=t.popupZIndex;null!=e&&(s=e);var o=t.animationHideDuration;t.animationHideDuration=0,t._closeItem(t,i,!0,!0),t.animationHideDuration=o,x(i.element).focus();var e=[5,5],n=x(i.subMenuElement);null!=n&&n.stop(),n.data("timer")&&null!=n.data("timer").hide&&clearTimeout(n.data("timer").hide);var r=n.closest("div.jqx-menu-popup"),a=x(i.element),o=0==i.level?this._getOffset(i.element):a.position();0<i.level&&this.hasTransform&&(m=parseInt(a.coord().top)-parseInt(this._getOffset(i.element).top),o.top+=m),0==i.level&&"popup"==this.mode&&(o=a.coord());var l=0==i.level&&"horizontal"==this.mode,m=l?o.left:null!=this.menuElements[i.parentId]&&null!=this.menuElements[i.parentId].subMenuElement?parseInt(x(x(this.menuElements[i.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-e[0]:parseInt(n.outerWidth());r.css({visibility:"visible",display:"block",left:m,top:l?o.top+a.outerHeight():o.top,zIndex:s}),n.css("display","block"),"horizontal"!=this.mode&&0==i.level?(m=this._getOffset(this.element),r.css("left",-1+m.left+this.host.outerWidth()),n.css("left",-n.outerWidth())):(d=this._getClosedSubMenuOffset(i),n.css("left",d.left),n.css("top",d.top)),r.css({height:parseInt(n.outerHeight())+parseInt(e[1])+"px"});var d,h=0,u=0;switch(i.openVerticalDirection){case"up":l?(n.css("top",n.outerHeight()),h=e[1],d=parseInt(n.parent().css("padding-bottom")),isNaN(d)&&(d=0),0<d&&r.addClass(this.toThemeProperty("jqx-menu-popup-clear")),n.css("top",n.outerHeight()-d),r.css({display:"block",top:o.top-r.outerHeight(),zIndex:s})):(h=e[1],n.css("top",n.outerHeight()),r.css({display:"block",top:o.top-r.outerHeight()+e[1]+a.outerHeight(),zIndex:s}));break;case"center":l?(n.css("top",0),r.css({display:"block",top:o.top-r.outerHeight()/2+e[1],zIndex:s})):(n.css("top",0),r.css({display:"block",top:o.top+a.outerHeight()/2-r.outerHeight()/2+e[1],zIndex:s}))}switch(i.openHorizontalDirection){case this._getDir("left"):l?r.css({left:o.left-(r.outerWidth()-a.outerWidth()-e[0])}):(u=0,n.css("left",r.outerWidth()),r.css({left:o.left-r.outerWidth()+2*i.level}));break;case"center":l?r.css({left:o.left-(r.outerWidth()/2-a.outerWidth()/2-e[0]/2)}):(r.css({left:o.left-(r.outerWidth()/2-a.outerWidth()/2-e[0]/2)}),n.css("left",r.outerWidth()))}if(l){if(parseInt(n.css("top"))==h)return void(i.isOpen=!0)}else if(parseInt(n.css("left"))==u)return void i.isOpen;x.each(t._getSiblings(i),function(){t._closeItem(t,this,!0,!0)});e=x.data(t.element,"animationHideDelay");t.animationHideDelay=e,0<this.autoCloseInterval&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){t._closeAll()},this.autoCloseInterval))),n.data("timer")&&(n.data("timer").show=setTimeout(function(){var e;null!=r&&(l?(n.stop(),n.css("left",u),x.jqx.browser.msie,a.addClass(t.toThemeProperty("jqx-fill-state-pressed")),a.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),"down"==i.openVerticalDirection?(x(i.element).addClass(t.toThemeProperty("jqx-rc-b-expanded")),r.addClass(t.toThemeProperty("jqx-rc-t-expanded"))):(x(i.element).addClass(t.toThemeProperty("jqx-rc-t-expanded")),r.addClass(t.toThemeProperty("jqx-rc-b-expanded"))),r.addClass(t.toThemeProperty("show")),0<(e=x(i.arrow)).length&&t.showTopLevelArrows&&(e.removeClass(),"down"==i.openVerticalDirection?(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-down-selected")),e.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-up-selected")),e.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),0==t.animationShowDuration?(n.css({top:h}),i.isOpen=!0,t._raiseEvent("0",i),x.jqx.aria(x(i.element),"aria-expanded",!0)):n.animate({top:h},t.animationShowDuration,t.easing,function(){i.isOpen=!0,x.jqx.aria(x(i.element),"aria-expanded",!0),t._raiseEvent("0",i)})):(n.stop(),n.css("top",h),r.addClass(t.toThemeProperty("show")),x.jqx.browser.msie,0<i.level?(a.addClass(t.toThemeProperty("jqx-fill-state-pressed")),a.addClass(t.toThemeProperty("jqx-menu-item-selected"))):(a.addClass(t.toThemeProperty("jqx-fill-state-pressed")),a.addClass(t.toThemeProperty("jqx-menu-item-top-selected"))),0<(e=x(i.arrow)).length&&(e.removeClass(),"left"!=i.openHorizontalDirection?(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(e.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),e.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left"))))),x.jqx.browser.msie,0==t.animationShowDuration?(n.css({left:u}),t._raiseEvent("0",i),i.isOpen=!0,x.jqx.aria(x(i.element),"aria-expanded",!0)):n.animate({left:u},t.animationShowDuration,t.easing,function(){t._raiseEvent("0",i),i.isOpen=!0,x.jqx.aria(x(i.element),"aria-expanded",!0)})))},this.animationShowDelay))},_getDir:function(e){switch(e){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(e,t){var i,s,o=this,n=0;switch(o.host.removeClass(o.toThemeProperty("jqx-menu-horizontal")),o.host.removeClass(o.toThemeProperty("jqx-menu-vertical")),o.host.removeClass(o.toThemeProperty("jqx-menu")),o.host.removeClass(o.toThemeProperty("jqx-widget")),o.host.addClass(o.toThemeProperty("jqx-widget")),o.host.addClass(o.toThemeProperty("jqx-menu")),null!=e&&null!=t&&"popup"==t?0<o.host.parent().length&&0<o.host.parent().parent().length&&o.host.parent().parent()[0]==document.body&&(null!=(i=x.data(document.body,"jqxMenuOldHost"+o.element.id))&&((s=o.host.closest("div.jqx-menu-wrapper")).remove(),s.appendTo(i),o.host.css("display","block"),o.host.css("visibility","visible"),s.css("display","block"),s.css("visibility","visible"))):null==e&&null==t&&x.data(document.body,"jqxMenuOldHost"+o.element.id,o.host.parent()[0]),o.autoOpenPopup?"popup"==o.mode?(o.addHandler(x(document),"contextmenu."+o.element.id,function(e){return!1}),o.addHandler(x(document),"mousedown.menu"+o.element.id,function(e){o._openContextMenu(e)})):(o.removeHandler(x(document),"contextmenu."+o.element.id),o.removeHandler(x(document),"mousedown.menu"+o.element.id)):(o.removeHandler(x(document),"contextmenu."+o.element.id),o.removeHandler(x(document),"mousedown.menu"+o.element.id),o.addHandler(x(document),"contextmenu."+o.element.id,function(e){if(e.target&&e.target.className.indexOf&&0<=e.target.className.indexOf("jqx-menu"))return!1})),o.rtl&&o.host.addClass(o.toThemeProperty("jqx-rtl")),o.mode){case"horizontal":o.host.addClass(o.toThemeProperty("jqx-widget-header")),o.host.addClass(o.toThemeProperty("jqx-menu-horizontal")),x.each(o.items,function(){var e,t=this,i=x(t.element),s=x(t.arrow);s.removeClass(),t.hasItems&&0<t.level&&((s=x('<span style="border: none; background-color: transparent;" id="arrow'+i[0].id+'"></span>')).prependTo(i),s.css("float",o._getDir("right")),s.addClass(o.toThemeProperty("jqx-menu-item-arrow-"+o._getDir("right"))),s.addClass(o.toThemeProperty("jqx-icon-arrow-"+o._getDir("right"))),t.arrow=s[0]),0==t.level&&(x(t.element).css("float",o._getDir("left")),!t.ignoretheme&&t.hasItems&&o.showTopLevelArrows?(s=x('<span style="border: none; background-color: transparent;" id="arrow'+i[0].id+'"></span>'),e=x.jqx.browser.msie&&x.jqx.browser.version<8,null==t.arrow?e?s.appendTo(i):s.prependTo(i):s=x(t.arrow),"down"==t.openVerticalDirection?(s.addClass(o.toThemeProperty("jqx-menu-item-arrow-down")),s.addClass(o.toThemeProperty("jqx-icon-arrow-down"))):(s.addClass(o.toThemeProperty("jqx-menu-item-arrow-up")),s.addClass(o.toThemeProperty("jqx-icon-arrow-up"))),s.css("visibility","inherit"),e?s.css("display","inline-block"):(s.css("display","block"),s.css("float","right")),t.arrow=s[0]):t.ignoretheme||!t.hasItems||o.showTopLevelArrows||null!=t.arrow&&((s=x(t.arrow)).remove(),t.arrow=null),n=Math.max(n,i.height()))});break;case"vertical":case"popup":case"simple":o.host.addClass(o.toThemeProperty("jqx-menu-vertical")),x.each(o.items,function(){var e=this,t=x(e.element);if(e.hasItems&&!e.ignoretheme){if(e.arrow&&x(e.arrow).remove(),"simple"==o.mode)return!0;var i=x('<span style="border: none; background-color: transparent;" id="arrow'+t[0].id+'"></span>');i.prependTo(t),i.css("float","right"),0==e.level?i.addClass(o.toThemeProperty("jqx-menu-item-arrow-top-"+o._getDir("right"))):i.addClass(o.toThemeProperty("jqx-menu-item-arrow-"+o._getDir("right"))),i.addClass(o.toThemeProperty("jqx-icon-arrow-"+o._getDir("right"))),e.arrow=i[0]}t.css("float","none")}),"popup"==o.mode?(o.host.addClass(o.toThemeProperty("jqx-widget-content")),o.host.wrap('<div tabindex=0 class="jqx-menu-wrapper" style="z-index:'+o.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>'),s=o.host.closest("div.jqx-menu-wrapper"),o.host.addClass(o.toThemeProperty("jqx-popup")),s[0].id="menuWrapper"+o.element.id,s.appendTo(x(document.body)),o.addHandler(s,"keydown",function(e){return o.handleKeyDown(e)})):o.host.addClass(o.toThemeProperty("jqx-widget-header")),"popup"==o.mode&&(r=o.host.height(),o.host.css("position","absolute"),o.host.css("top","0"),o.host.css("left","0"),"simple"!=o.mode&&(o.host.height(r),o.host.css("display","none")))}var r=o.isTouchDevice();o.autoCloseOnClick&&(o.removeHandler(x(document),"mousedown.menu"+o.element.id,o._closeAfterClick),o.addHandler(x(document),"mousedown.menu"+o.element.id,o._closeAfterClick,o),r&&(o.removeHandler(x(document),x.jqx.mobile.getTouchEventName("touchstart")+".menu"+o.element.id,o._closeAfterClick,o),o.addHandler(x(document),x.jqx.mobile.getTouchEventName("touchstart")+".menu"+o.element.id,o._closeAfterClick,o)))},_getBodyOffset:function(){var e=0,t=0;return"0px"!=x("body").css("border-top-width")&&(e=parseInt(x("body").css("border-top-width")),isNaN(e)&&(e=0)),"0px"!=x("body").css("border-left-width")&&(t=parseInt(x("body").css("border-left-width")),isNaN(t)&&(t=0)),{left:t,top:e}},_getOffset:function(e){var t=x.jqx.mobile.isSafariMobileBrowser(),i=x(e).coord(!0),s=i.top,o=i.left;"0px"!=x("body").css("border-top-width")&&(s=parseInt(s)+this._getBodyOffset().top),"0px"!=x("body").css("border-left-width")&&(o=parseInt(o)+this._getBodyOffset().left);var n=x.jqx.mobile.isWindowsPhone(),i=x.jqx.mobile.isTouchDevice();return this.hasTransform||null!=t&&t||n||i?{left:x.jqx.mobile.getLeftPos(e),top:x.jqx.mobile.getTopPos(e)}:{left:o,top:s}},_isRightClick:function(e){var t;return(e=e||window.event).which?t=3==e.which:e.button&&(t=2==e.button),t},_openContextMenu:function(e){this._isRightClick(e)&&this.open(parseInt(e.clientX)+5,parseInt(e.clientY)+5)},close:function(){var e=this;x.data(this.element,"contextMenuOpened"+this.element.id)&&(this.host,e.host.removeClass("jqx-popup-show"),x.each(e.items,function(){this.hasItems&&e._closeItem(e,this)}),x.each(e.items,function(){1==this.isOpen&&x(this.subMenuElement).closest("div.jqx-menu-popup").hide(this.animationHideDuration)}),this.host.hide(this.animationHideDuration),x.data(e.element,"contextMenuOpened"+this.element.id,!1),e._raiseEvent("1",e),e._raiseEvent("5"))},open:function(e,t){var i,s;"popup"==this.mode&&(i=0,"block"==this.host.css("display")&&(this.close(),i=this.animationHideDuration),s=this,null!=e&&null!=e||(e=0),null!=t&&null!=t||(t=0),setTimeout(function(){s.host.show(s.animationShowDuration),s.host.css("visibility","visible"),s.host.addClass("jqx-popup-show"),x.data(s.element,"contextMenuOpened"+s.element.id,!0),s._raiseEvent("0",s),s._raiseEvent("4",{left:e,top:t}),s.host.css("z-index",s.popupZIndex),null!=e&&null!=t&&s.host.css({left:e,top:t}),s.focus()},i))},_renderHover:function(e,t,i){var s=this;t.ignoretheme||(this.addHandler(e,"mouseenter",function(){(s.hoveredItem=t).disabled||t.separator||!s.enableHover||s.disabled||(0<t.level?(e.addClass(s.toThemeProperty("jqx-fill-state-hover")),e.addClass(s.toThemeProperty("jqx-menu-item-hover"))):(e.addClass(s.toThemeProperty("jqx-fill-state-hover")),e.addClass(s.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(e,"mouseleave",function(){t.disabled||t.separator||!s.enableHover||s.disabled||(0<t.level?(e.removeClass(s.toThemeProperty("jqx-fill-state-hover")),e.removeClass(s.toThemeProperty("jqx-menu-item-hover"))):(e.removeClass(s.toThemeProperty("jqx-fill-state-hover")),e.removeClass(s.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(e){var t=null!=e?e.data:this,i=!1;t.autoCloseOnClick&&(x.each(x(e.target).parents(),function(){if(this.className.indexOf&&-1!=this.className.indexOf("jqx-menu"))return!(i=!0)}),i||(e.data=t)._closeAll(e))},_autoSizeHorizontalMenuItems:function(){var o,n=this;n.autoSizeMainItems&&"horizontal"==this.mode&&(o=this.maxHeight,parseInt(o)>parseInt(this.host.height())&&(o=parseInt(this.host.height())),o=parseInt(this.host.height()),x.each(this.items,function(){var e,t,i,s=x(this.element);0==this.level&&0<o&&(t=0<s.children().length?parseInt(s.children().height()):s.height(),e=n.host.find("ul:first"),i=parseInt(e.css("padding-top")),e=parseInt(e.css("margin-top")),e=o-2*(e+i),i=parseInt(e)/2-t/2,t=parseInt(i),i=parseInt(i),s.css("padding-top",t),s.css("padding-bottom",i),parseInt(s.outerHeight())>e&&(s.css("padding-top",t-1),--t))})),x.each(this.items,function(){var e,t=this;x(t.element);t.hasItems&&0<t.level&&t.arrow&&(e=x(t.arrow),15<(t=x(t.element).height())&&e.css("margin-top",(t-15)/2))})},_nextVisibleItem:function(e,t){if(null==e||null==e)return null;for(var i=e;null!=i;)if(i=i.nextItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(null==t||!i||i.level==t)return i}return null},_prevVisibleItem:function(e,t){if(null==e||null==e)return null;for(var i=e;null!=i;)if(i=i.prevItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(null==t||!i||i.level==t)return i}return null},_parentItem:function(e){if(null==e||null==e)return null;var t=e.parentElement;if(!t)return null;var i=null;return x.each(this.items,function(){if(this.element==t)return i=this,!1}),i},_isElementVisible:function(e){return null!=e&&("none"!=x(e).css("display")&&"hidden"!=x(e).css("visibility"))},_isVisible:function(e){if(null==e||null==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(this.minimized)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isOpen&&!this.minimized)return!1;for(;null!=t;){if(null!=(t=this._parentItem(t))&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isOpen)return!1}}return!0},_render:function(e,t){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))),null==this.host.attr("tabindex")&&this.host.attr("tabindex",0);var m=this.popupZIndex,d=[5,5],u=this;x.data(u.element,"animationHideDelay",u.animationHideDelay);var h=this.isTouchDevice(),p=h&&(x.jqx.mobile.isWindowsPhone()||0<=navigator.userAgent.indexOf("Touch"));-1!=navigator.platform.toLowerCase().indexOf("win")&&(0<=navigator.userAgent.indexOf("Windows Phone")||0<=navigator.userAgent.indexOf("WPDesktop")||0<=navigator.userAgent.indexOf("IEMobile")||0<=navigator.userAgent.indexOf("ZuneWP7")?this.touchDevice=!0:0<=navigator.userAgent.indexOf("Touch")&&("MSPointerDown"in window||x.jqx.mobile.isWindowsPhone()||0<=navigator.userAgent.indexOf("ARM"))&&(p=!0,u.clickToOpen=!0,u.autoCloseOnClick=!1,u.enableHover=!1)),x.data(document.body,"menuel",this),this.hasTransform=x.jqx.utilities.hasTransform(this.host),this._applyOrientation(e,t),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus"),this.addHandler(this.host,"blur",function(e){u.keyboardNavigation&&u.activeItem&&("popup"===u.mode&&document.activeElement&&0<=document.activeElement.className.indexOf("jqx-menu-wrapper")||(x(u.activeItem.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=null))}),this.addHandler(this.host,"focus",function(e){var t;u.keyboardNavigation&&(u.activeItem||(u.hoveredItem?(x(u.hoveredItem.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=u.hoveredItem):(t=function(){var e;x.jqx.isHidden(x(u.items[0].element))?(e=u._nextVisibleItem(u.items[0],0))&&(x(e.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=e):(x(u.items[0].element).addClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=u.items[0])},u.activeItem?x.jqx.isHidden(x(u.activeItem.element))?(x(u.activeItem.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),t()):x(u.activeItem.element).addClass(u.toThemeProperty("jqx-fill-state-focus")):t())))}),this.removeHandler(this.host,"keydown.menu"+this.element.id),u.handleKeyDown=function(e){if(!u.keyboardNavigation)return!0;if("input"===e.target.nodeName.toLowerCase())return!0;var t=null,i=null;if(x.each(u.items,function(){return!!this.disabled||(0<=this.element.className.indexOf("pressed")&&(i=this),0<=this.element.className.indexOf("focus")?(t=this,!1):void 0)}),!t&&i)return t=i,!1;if(!t)return x(u.items[0].element).addClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=u.items[0],t=u.activeItem,!1;var s;if(27==e.keyCode){if((e.data=u)._closeAll(e),t)for(var o=t;null!=o;)o=o.parentItem||(x(u.activeItem.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=o,x(u.activeItem.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),o.parentItem);0}13==e.keyCode&&t&&(u._raiseEvent("2",{item:t.element,event:e,type:"keyboard"}),null!=(s=null!=t.anchor?x(t.anchor):null)&&0<s.length&&(l=s.attr("href"),a=s.attr("target"),null!=l&&(null!=a?window.open(l,a):window.location=l)),e.preventDefault(),e.stopPropagation(),x(t.element).focus());var n,r,a=function(e){if(null==e)return new Array;for(var t=new Array,i=0,s=0;s<u.items.length;s++)u.items[s].parentId==e.parentId&&(t[i++]=u.items[s]);return t},l="";switch(e.keyCode){case 40:l="down";break;case 38:l="up";break;case 39:l="right";break;case 37:l="left"}if(t&&"left"===t.openHorizontalDirection&&"left"===l&&(l="right"),t&&"left"===t.openHorizontalDirection&&"right"===l&&(l="left"),t&&"top"===t.openVerticalDirection&&"top"===l&&(l="bottom"),t&&"top"===t.openVerticalDirection&&"bottom"===l&&(l="top"),u.rtl&&("right"===l?l="left":"left"===l&&(l="right")),"right"!==l||u.minimized||(e.altKey&&(0!=t.level&&t.hasItems||"horizontal"!=u.mode)?u._openItem(u,t):(r=u._nextVisibleItem(t,0),m=a(n=u._nextVisibleItem(t)),(r=r||n)&&(r.parentId===t.parentId&&0==r.level&&"horizontal"==u.mode||n.id==m[0].id&&0!=n.level)&&(n.id==m[0].id&&(0!=t.level||0==t.level&&"horizontal"!=u.mode)&&(r=n),x(r.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),x(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=r)),e.preventDefault(),e.stopPropagation()),"left"!==l||u.minimized||(e.altKey&&(0!=t.level&&"horizontal"!==u.mode||1<t.level&&"horizontal"===u.mode||1==t.level&&t.hasItems&&"horizontal"===u.mode)?t.hasItems?u._closeItem(u,t):t.parentItem&&(u._closeItem(u,t.parentItem),x(t.parentItem.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),x(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=t.parentItem):(r=u._prevVisibleItem(t,0),n=t.parentItem,r&&r.parentId===t.parentId&&0==r.level&&"horizontal"==u.mode?(x(r.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),x(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=r):n&&0==n.level&&"horizontal"==u.mode||!n||n.level!=t.level-1||(x(n.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),x(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=n)),e.preventDefault(),e.stopPropagation()),"down"===l?(e.altKey?(0==t.level&&t.hasItems&&u._openItem(u,t),u.minimized&&u.minimizedHidden&&u.minimizedItem.trigger("click")):(m=a(r=u._nextVisibleItem(t,t.level)),u.minimized&&r?(x(r.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),x(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=r):(r&&(r.parentId===t.parentId||r.id==m[0].id&&"horizontal"==u.mode)&&(0==r.level&&"horizontal"==u.mode||(x(r.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),x(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=r)),"horizontal"===u.mode&&0===t.level&&t.isOpen&&t.hasItems&&(r=u._nextVisibleItem(t),x(r.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),x(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=r))),e.preventDefault(),e.stopPropagation()):"up"===l&&(e.altKey?(t.parentItem&&0==t.parentItem.level?(u._closeItem(u,t.parentItem),x(t.parentItem.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),x(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=t.parentItem):null===t.parentItem&&0===t.level&&"horizontal"===u.mode&&u._closeItem(u,t),u.minimized&&(u.minimizedHidden||u.minimizedItem.trigger("click"))):(r=u._prevVisibleItem(t,t.level),m=a(t),u.minimized&&r?(x(r.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),x(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=r):r&&(r.parentId===t.parentId||r.id==t.parentId&&0==r.level&&"horizontal"==u.mode)?0==r.level&&"horizontal"===u.mode&&0===t.level||(x(r.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),x(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=r):t&&t.id==m[0].id&&t.parentItem&&0===t.parentItem.level&&"horizontal"===u.mode&&(r=t.parentItem,x(r.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),x(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=r)),e.preventDefault(),e.stopPropagation()),9==e.keyCode)if(r=e.shiftKey?u._prevVisibleItem(t):u._nextVisibleItem(t))x(r.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),x(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=r,e.preventDefault(),e.stopPropagation();else if(u.lockFocus){for(var m=new Array,d=0,h=0;h<u.items.length;h++)u.items[h]!=t&&u.items[h].parentId==t.parentId&&(m[d++]=u.items[h]);0<m.length&&(e.shiftKey?(x(m[m.length-1].element).addClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=m[m.length-1]):(x(m[0].element).addClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=m[0]),x(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus"))),e.preventDefault(),e.stopPropagation()}else t&&(x(t.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=null)},this.addHandler(this.host,"keydown.menu"+this.element.id,function(e){u.handleKeyDown(e)}),u.enableRoundedCorners&&this.host.addClass(u.toThemeProperty("jqx-rc-all")),x.each(this.items,function(){var r=this,e=x(r.element);if(e.attr("role","menuitem"),u.enableRoundedCorners&&e.addClass(u.toThemeProperty("jqx-rc-all")),u.removeHandler(e,"click"),u.addHandler(e,"click",function(e){var t;r.disabled||u.disabled||(u.keyboardNavigation&&(u.activeItem&&x(u.activeItem.element).removeClass(u.toThemeProperty("jqx-fill-state-focus")),u.activeItem=r,x(r.element).addClass(u.toThemeProperty("jqx-fill-state-focus")),u.minimized&&e.stopPropagation()),u._raiseEvent("2",{type:"mouse",item:r.element,event:e}),u.autoOpen?!u.autoCloseOnClick||h||u.clickToOpen||r.closeOnClick&&(e.data=u)._closeAll(e):0<r.level&&(!u.autoCloseOnClick||h||u.clickToOpen||(e.data=u)._closeAll(e)),h&&u.autoCloseOnClick&&(e.data=u,r.hasItems||u._closeAll(e)),"A"==e.target.tagName||"a"==e.target.tagName||null!=(t=null!=r.anchor?x(r.anchor):null)&&0<t.length&&(e=t.attr("href"),t=t.attr("target"),null!=e&&(null!=t?window.open(e,t):window.location=e)))}),u.removeHandler(e,"mouseenter"),u.removeHandler(e,"mouseleave"),p||"simple"==u.mode||u._renderHover(e,r,h),null!=r.subMenuElement){var a=x(r.subMenuElement);if("simple"==u.mode)return a.show(),!0;a.wrap('<div class="jqx-menu-popup '+u.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+m+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),a.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-a.outerHeight()}),a.data("timer",{}),0<r.level?a.css("left",-a.outerWidth()):"horizontal"==u.mode&&a.css("left",0),m++;var t,i,s,o,n=x(r.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(x(r.subMenuElement).outerWidth())+parseInt(d[0])+"px",height:parseInt(x(r.subMenuElement).outerHeight())+parseInt(d[1])+"px"}),l=e.closest("div.jqx-menu-popup");0<l.length?(t=a.css("margin-left"),i=a.css("margin-right"),s=a.css("padding-left"),o=a.css("padding-right"),n.addClass("horizontal"),n.appendTo(l)):(t=a.css("margin-left"),i=a.css("margin-right"),s=a.css("padding-left"),o=a.css("padding-right"),"horizontal"===u.mode?n.addClass("top"):n.addClass("horizontal"),n.appendTo(x(document.body))),a.css("margin-left",t),a.css("margin-right",i),a.css("padding-left",s),a.css("padding-right",o),u.clickToOpen?(u.removeHandler(e,"mousedown"),u.addHandler(e,"mousedown",function(e){clearTimeout(a.data("timer").hide),null!=a&&a.stop(),0!=r.level||r.isOpen||(e.data=u)._closeAll(e),r.isOpen?u._closeItem(u,r,!0):u._openItem(u,r)})):((h||p)&&(u.removeHandler(e,x.jqx.mobile.getTouchEventName("touchstart")),u.addHandler(e,x.jqx.mobile.getTouchEventName("touchstart"),function(e){return clearTimeout(a.data("timer").hide),null!=a&&a.stop(),0!=r.level||r.isOpen||"popup"==u.mode||(e.data=u)._closeAll(e),r.isOpen?u._closeItem(u,r,!0):u._openItem(u,r),!1})),p||(u.addHandler(e,"mouseenter",function(){if(((u.autoOpen||0<r.level&&!u.autoOpen)&&clearTimeout(a.data("timer").hide),r.parentId&&0!=r.parentId)&&(u.menuElements[r.parentId]&&!u.menuElements[r.parentId].isOpen))return;return(u.autoOpen||0<r.level&&!u.autoOpen)&&u._openItem(u,r),!1}),u.addHandler(e,"mousedown",function(){u.autoOpen||0!=r.level||(clearTimeout(a.data("timer").hide),null!=a&&a.stop(),r.isOpen?u._closeItem(u,r,!0):u._openItem(u,r))}),u.addHandler(e,"mouseleave",function(e){var t,i,s,o,n;u.autoCloseOnMouseLeave&&(clearTimeout(a.data("timer").hide),n=x(r.subMenuElement),t=parseInt(e.pageX),i=parseInt(e.pageY),s=parseInt(n.coord().left),o=parseInt(n.coord().top),e=parseInt(n.outerWidth()),n=parseInt(n.outerHeight()),s-5<=t&&t<=s+e+5&&o<=i&&i<=o+n||u._closeItem(u,r,!0))}),u.removeHandler(n,"mouseenter"),u.addHandler(n,"mouseenter",function(){clearTimeout(a.data("timer").hide)}),u.removeHandler(n,"mouseleave"),u.addHandler(n,"mouseleave",function(e){u.autoCloseOnMouseLeave&&(clearTimeout(a.data("timer").hide),clearTimeout(a.data("timer").show),null!=a&&a.stop(),u._closeItem(u,r,!0))})))}}),"simple"==this.mode&&this._renderSimpleMode(),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var e=Math.random()+"";for(e=+(e="99"+(e=e.replace(".","")));this.items[e];)e=+(e=(e=Math.random()+"").replace(".",""));return"menuItem"+e},_createMenu:function(e,t){if(null!=e){null==t&&(t=!0),null==t&&(t=!0);x(e).addClass("jqx-menu-ul");var i=x(e).find("li"),s=0;this.itemMapping=new Array;for(var o=0;o<i.length;o++){var n,r,a,l,m,d,h,u=i[o],p=x(u);-1==u.className.indexOf("jqx-menu")&&0==this.autoGenerate||(n=(n=u.id)||this.createID(),t&&(u.id=n,this.items[s]=new x.jqx._jqxMenu.jqxMenuItem,this.menuElements[n]=this.items[s]),s+=1,r=0,a=this,p.children().each(function(){return t||(this.className="",a.autoGenerate&&(x(a.items[s-1].subMenuElement)[0].className="",a.minimized||x(a.items[s-1].subMenuElement).addClass(a.toThemeProperty("jqx-widget-content")),x(a.items[s-1].subMenuElement).addClass(a.toThemeProperty("jqx-menu-dropdown")),x(a.items[s-1].subMenuElement).addClass(a.toThemeProperty("jqx-popup")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(t&&(a.items[s-1].subMenuElement=this),!1):!a.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(t&&(a.items[s-1].subMenuElement=this),this.className="",a.minimized||x(this).addClass(a.toThemeProperty("jqx-widget-content")),x(this).addClass(a.toThemeProperty("jqx-menu-dropdown")),x(this).addClass(a.toThemeProperty("jqx-popup")),x(this).attr("role","menu"),a.rtl?x(this).addClass(a.toThemeProperty("jqx-rc-l")):x(this).addClass(a.toThemeProperty("jqx-rc-r")),x(this).addClass(a.toThemeProperty("jqx-rc-b")),!1)}),p.parents().each(function(){return-1==this.className.indexOf("jqx-menu-item")&&(!a.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName)?void 0:(r=this.id,!1)}),d=!1,l=u.getAttribute("type"),(m=u.getAttribute("ignoretheme")||u.getAttribute("data-ignoretheme"))?"true"!=m&&1!=m||(m=!0):m=!1,l?"separator"==l&&(d=!0):l=u.type,d||(l=r?"sub":"top"),f=this.items[s-1],t&&(f.id=n,f.parentId=r,f.type=l,f.separator=d,f.element=i[o],h=p.children("a"),f.disabled="true"==u.getAttribute("item-disabled"),f.level=p.parents("li").length,f.anchor=0<h.length?h:null,f.anchor&&x(f.anchor).attr("tabindex",-1)),f.ignoretheme=m,null!=(h=this.menuElements[r])&&(h.ignoretheme&&(f.ignoretheme=h.ignoretheme,m=h.ignoretheme),f.parentItem=h,f.parentElement=h.element),this.autoGenerate&&("separator"==l?(p.removeClass(),p.addClass(this.toThemeProperty("jqx-menu-item-separator")),p.attr("role","separator")):m||(0<=p[0].className.indexOf("jqx-grid-menu-item-touch")?p[0].className=this.toThemeProperty("jqx-grid-menu-item-touch"):p[0].className="",this.rtl&&p.addClass(this.toThemeProperty("jqx-rtl")),0<f.level&&!a.minimized?(p.addClass(this.toThemeProperty("jqx-item")),p.addClass(this.toThemeProperty("jqx-menu-item"))):(p.addClass(this.toThemeProperty("jqx-item")),p.addClass(this.toThemeProperty("jqx-menu-item-top"))))),f.disabled&&(p.addClass(a.toThemeProperty("jqx-menu-item-disabled")),p.addClass(a.toThemeProperty("jqx-fill-state-disabled"))),this.itemMapping[o]={element:i[o],item:f},this.itemMapping["id"+i[o].id]=this.itemMapping[o],t&&!m&&(f.hasItems=0<p.find("li").length,f.hasItems&&f.element&&(x.jqx.aria(x(f.element),"aria-haspopup",!0),f.subMenuElement.id||(f.subMenuElement.id=x.jqx.utilities.createId()),x.jqx.aria(x(f.element),"aria-owns",f.subMenuElement.id))))}for(var c=0;c<i.length;c++){var f,v=i[c];this.itemMapping["id"+v.id]&&(f=this.itemMapping["id"+v.id].item)&&(f.prevItem=null,f.nextItem=null,0<c&&this.itemMapping["id"+i[c-1].id]&&(f.prevItem=this.itemMapping["id"+i[c-1].id].item),c<i.length-1&&this.itemMapping["id"+i[c+1].id]&&(f.nextItem=this.itemMapping["id"+i[c+1].id].item))}}},destroy:function(){var t=this;x.jqx.utilities.resize(t.host,null,!0);var e=t.host.closest("div.jqx-menu-wrapper");t.removeHandler(e,"keydown"),e.remove(),t.removeHandler(x("#menuWrapper"+t.element.id),"keydown"),x("#menuWrapper"+t.element.id).remove(),t.removeHandler(t.host,"keydown"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(x(document),"mousedown.menu"+t.element.id,t._closeAfterClick),t.removeHandler(x(document),"mouseup.menu"+t.element.id,t._closeAfterClick),t.removeHandler(x(document),"contextmenu."+t.element.id),t.removeHandler(t.host,"contextmenu."+t.element.id),x.data(document.body,"jqxMenuOldHost"+t.element.id,null),t.isTouchDevice()&&t.removeHandler(x(document),x.jqx.mobile.getTouchEventName("touchstart")+".menu"+t.element.id,t._closeAfterClick,this),x(window).off&&x(window).off("resize.menu"+t.element.id),x.each(t.items,function(){var e=x(this.element);t.removeHandler(e,"click"),t.removeHandler(e,"selectstart"),t.removeHandler(e,"mouseenter"),t.removeHandler(e,"mouseleave"),t.removeHandler(e,"mousedown"),t.removeHandler(e,"mouseleave"),x(this.subMenuElement).closest("div.jqx-menu-popup").remove(),delete this.subMenuElement,delete this.element}),x.data(document.body,"menuel",null),delete t.menuElements,t.items=new Array,delete t.items;e=x.data(t.element,"jqxMenu");e&&delete e.instance,t.host.removeClass(),t.host.remove(),delete t.host,delete t.element},_raiseEvent:function(e,t){null==t&&(t={owner:null});var i=this.events[e],s=t;s.owner=this;i=new x.Event(i);return"2"==e&&((s=t.item).owner=this,s.clickType=t.type,x.extend(i,t.event),i.type="itemclick"),i.owner=this,i.args=s,this.host.trigger(i)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),"popup"===e.mode&&(this.host.closest("div.jqx-menu-wrapper")[t](i),e=this.host[0].id,x("#"+e)[t](i)))},propertyChangedHandler:function(e,t,i,s){if(null!=this.isInitialized&&0!=this.isInitialized&&!(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length)&&("disabled"==t&&(e.disabled?(e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e.host.addClass(e.toThemeProperty("jqx-menu-disabled"))):(e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.host.removeClass(e.toThemeProperty("jqx-menu-disabled")))),s!=i)){var o;if("touchMode"==t&&(this._isTouchDevice=null,e._render(s,i)),"width"===t||"height"===t)return e._setSize(),void("popup"===e.mode&&(this.host.closest("div.jqx-menu-wrapper")[t](s),o=this.host[0].id,x("#"+o)[t](s)));"source"==t&&null!=e.source&&(o=e.loadItems(e.source),e.element.innerHTML=o,0<(o=e.host.find("ul:first")).length&&(e.refresh(),e._createMenu(o[0]),e._render())),"autoCloseOnClick"==t?0==s?e.removeHandler(x(document),"mousedown.menu"+this.element.id,e._closeAll):e.addHandler(x(document),"mousedown.menu"+this.element.id,e,e._closeAll):"mode"==t||"width"==t||"height"==t||"showTopLevelArrows"==t?(e.refresh(),"mode"==t?e._render(s,i):e._applyOrientation()):"theme"==t&&x.jqx.utilities.setTheme(i,s,e.host)}}})}(jqxBaseFramework),jqxBaseFramework.jqx._jqxMenu.jqxMenuItem=function(e,t,i){return{id:e,parentId:t,parentItem:null,anchor:null,type:i,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0}};