!function(e){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],r=0;r<i;){var o=t[r];if(e.call(n,o,r,t))return o;r++}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n=arguments[1],r=0;r<i;){var o=t[r];if(e.call(n,o,r,t))return r;r++}return-1},configurable:!0,writable:!0}),e.extend(e.jqx._jqxGrid.prototype,{_getChartDataFields:function(e){var t,i,n=!0,r=[];for(i in e[0])"$"!==i&&"uid"!==i&&"boundindex"!==i&&"uniqueid"!==i&&"visibleindex"!==i&&("string"===this.source._source.dataFields.find(function(e){return e.name===i}).type?0===this.columns.records.findIndex(function(e){return e.datafield===i})&&(t=i):(n=!1,r.push({dataField:i,displayText:i})));return{xAxisDataField:t,series:r,stringOnly:n}},createChart:function(e,t){var i,n=this,r=n.getselection(),o=r.rows,a=r.cells,s=document.createElement("div"),d=[],l={},c=[],h=[];if(a&&1<a.length&&a.forEach(function(e){-1===c.indexOf(e.rowindex)&&c.push(e.rowindex),-1===h.indexOf(e.datafield)&&h.push(e.datafield)}),0===o.length&&0===a.length&&(t=n.source.records),t)d=d.concat(t);else for(var t=n.source.records,f=0;f<t.length;f++){var u={};if(0<o.length){if(-1===o.indexOf(f))continue}else if(0<a.length&&1<a.length){if(-1===c.indexOf(f))continue;h.forEach(function(e){u[e]=t[f][e]}),d.push(u);continue}n.columns.records.forEach(function(e){u[e.datafield]=t[f][e.datafield]}),d.push(u)}var g,p=n._getChartDataFields(d);if(p.stringOnly)n.showheader&&(g=n.element.querySelector("#"+e),n.toolbar[0].firstElementChild.classList.add("warning"),g&&g.classList.add("warning"),setTimeout(function(){n.toolbar[0].firstElementChild.classList.remove("warning"),g&&g.classList.remove("warning")},1e3));else{i=p.series;var x={title:"",description:"",showLegend:!0,showBorderLine:!1,padding:{left:5,top:10,right:5,bottom:5}};if(x.source=d,x.xAxis={dataField:p.xAxisDataField,gridLines:{visible:!0}},x.valueAxis={displayValueAxis:!0,description:n.charting.description,axisSize:"auto",formatSettings:n.charting.formatSettings},x.colorScheme=n.charting.colorScheme,x.seriesGroups=[l],l.formatSettings=n.charting.formatSettings,l.series=i,"line"===e)i.forEach(function(e){e.symbolSize=8,e.symbolType="square"});else if("pie"===e){r=i[0].dataField;delete l.formatSettings,l.formatFunction=function(e,t){return isNaN(e)&&"object"==typeof e?t:e},l.showLabels=!0,i.length=0,i.push({dataField:r,displayText:p.xAxisDataField,initialAngle:0})}else if("bar"===e)e="column",l.orientation="horizontal",x.xAxis.textRotationAngle=90,x.valueAxis.textRotationAngle=30,x.valueAxis.flip=!0;else if("area"===e)for(var y=1,f=0;f<i.length;f++)i[f].opacity=y,y-=.2,y=Math.max(.3,y);l.type=e,n.charting.ready&&n.charting.ready(x),n.charting.appendTo?(l="string"===n.charting.appendTo?document.querySelector(n.charting.appendTo):n.charting.appendTo)&&(new jqxChart(s,x),l.appendChild(s)):n._openChartDialog(s,e,x)}},_openChartDialog:function(e,t,i){var n=this;if(!n.charting.dialog.enabled)return!1;var r=document.createElement("div");r.innerHTML="<div>"+n.charting.dialog.header+'</div><div style="overflow:hidden;"></div>';t.substring(0,1).toUpperCase(),t.substring(1);e.style.width="100%",e.style.height="100%";var o=new jqxWindow(r,{width:n.charting.dialog.width,height:n.charting.dialog.height,position:n.charting.dialog.position,isModal:!0});o.open(),setTimeout(function(){r.querySelector(".jqx-widget-content").appendChild(e);new jqxChart(e,i)},100),o.on("close",function(){o.destroy()})}})}(jqxBaseFramework);