!function(l){l.jqx.jqxWidget("jqxListMenu","",{});var e=0,i=0;l.extend(l.jqx._jqxListMenu.prototype,{defineInstance:function(){var t={filterCallback:function(t,e){return l.jqx.string.containsIgnoreCase(l.trim(t),e)},placeHolder:"Filter list items...",showFilter:!1,showHeader:!0,showBackButton:!0,showNavigationArrows:!0,alwaysShowNavigationArrows:!1,backLabel:"Back",width:"100%",height:"auto",animationType:"slide",animationDuration:0,headerAnimationDuration:0,autoSeparators:!1,readOnly:!1,roundedCorners:!0,disabled:!1,enableScrolling:!0,touchMode:!1,_childrenMap:{},_parentMap:{},_lock:!1,_backButton:null,_currentPage:null,_header:null,_oldHost:void 0,rtl:!1,aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===l.jqx._jqxListMenu.prototype||l.extend(!0,this,t),t},destroy:function(){this.host.remove()},createInstance:function(){l.jqx.aria(this),this.host.attr("data-role","listmenu"),this.host.attr("role","tree")},refresh:function(t){this._render(),this._removeClasses(),this._addClasses(),this._currentPage=this._currentPage||this.host.children(".jqx-listmenu").first(),this._changeHeader(this._currentPage),this._removeEventHandlers(),this._addEventHandlers()},_render:function(){this._renderHost(),this._renderAutoSeparators(),this._renderSublists(),this._renderFilterBar(),this._renderHeader(),this.host.css({width:this.width,height:this.height}),this.disabled&&this.disable(),this.enableScrolling&&this.host.jqxPanel&&this.panel&&this.panel.jqxPanel("_arrange")},resize:function(t,e){this.width=t,this.height=e,this.host.css({width:this.width,height:this.height}),this.panel&&this.panel.jqxPanel("_arrange")},_renderHost:function(){this.host.is("div")?this.element.style.overflow="hidden":(this._oldHost=this.host,this.host.wrap("<div/>"),this.host=this.host.parent(),this.element=this.host[0],this.host.jqxPanel&&this.enableScrolling&&(this.host.wrap("<div/>"),this.panel=this.host.parent(),this.panel[0].id="panel"+this.element.id,this.panel.jqxPanel({theme:this.theme,autoUpdate:!0,width:this.width,height:this.height,touchMode:this.touchMode}),this.host.css({width:"100%"}),this.host.css({height:"auto"}),this.host.css("border","none"))),this.enableScrolling||(this.element.style.overflow="hidden"),l.jqx.browser.msie&&l.jqx.browser.version<8&&(this.element.style.position="relative"),this.enableScrolling&&this.panel&&this.panel.jqxPanel("_arrange")},_renderAutoSeparators:function(t){var e,i=this.host.find(".jqx-listmenu-auto-separator"),s=this.host.find('[data-role="listmenu"]');for(i.remove(),e=0;e<s.length;e+=1)((t=l(s[e])).data("auto-separators")||this.autoSeparators)&&this._renderListAutoSeparators(t)},_renderSublists:function(){var t,e,i,s,a,r=[this.host.find(".jqx-listmenu").first()[0]||this.host.find("ul,ol").first()[0]];for(this._refreshList(r[0]);r.length;){i=r.pop(),s=(t=this._getChildrenByTagName(i,"li","LI")).length;for(var n=0;n<s;n+=1)e=t[n],l(e).attr("role","treeitem"),a=this._getChildList(e),this._refreshLi(e,n,s),a&&(r.push(a),this._refreshList(a,e,!0))}},_refreshList:function(t,e,i){"listmenu"===(t=l(t)).data("role")&&(t.is(".jqx-listmenu")||(this._renderList(t),this._handleListId(t),this._addListClasses(t)),e&&this._expandHierarchy(t[0],e),i&&this._handleSublist(t[0]))},_renderList:function(t){(t=l(t)).is(".jqx-listmenu")||(t.detach(),t.appendTo(this.host))},_handleListId:function(t){t[0].id||(t[0].id="jqx-listmenu-"+i,i+=1)},_renderListAutoSeparators:function(t){for(var e,i,s,a=t.children("li"),r={},n=0;n<a.length;n+=1)(s=l(a[n])).data("role")||(l.trim(s.text())[0]!==e&&(e=l.trim(s.text())[0],(i=l('<li data-role="separator" class="'+this.toThemeProperty("jqx-listmenu-auto-separator")+'">'+e+"</li>")).insertBefore(s),i[0].items=new Array,r=i[0]),r.items&&(r.items[r.items.length]=s[0]))},_addListClasses:function(t){t.addClass("jqx-listmenu")},_expandHierarchy:function(t,e){e&&t&&(e=e.id,t=t.id,this._childrenMap[e]=t,this._parentMap[t]=e)},_handleSublist:function(t){this._currentPage&&t===this._currentPage[0]?t.style.display="block":t.style.display="none"},_getChildrenByTagName:function(t,e,i){var s=[],a={};for(a[e]=a[i]=!0,t=t.firstChild;t;)a[t.nodeName]&&s.push(t),t=t.nextSibling;return s},_renderFilterBar:function(){this._filterBar||(this._filterBar=l("<div/>"),this._filterInput=l('<input type="text" />'),this._filterBar.append(this._filterInput),this.host.prepend(this._filterBar));var t=!1;l.jqx.browser.msie&&l.jqx.browser.version<8&&(t=!0),t||this._filterInput.attr("placeholder",this.placeHolder),this.showFilter?this._filterBar.css("display","block"):this._filterBar.css("display","none")},_renderHeader:function(){this._header||(this._header=l("<div/>"),this.host.prepend(this._header),this._renderHeaderLabel()),this._renderBackButton(),this.showHeader?this._header.css("display","block"):this._header.css("display","none")},_renderHeaderLabel:function(){this._headerLabel=l("<span/>"),this._headerLabel.addClass(this.toThemeProperty("jqx-listmenu-header-label")),this._header.append(this._headerLabel)},_renderBackButton:function(){this._backButton||(this._backButton=l('<div><div style="float: left;"></div><span style="float: left;">'+this.backLabel+'</span><div style="clear:both;"></div></div>'),this._header.prepend(this._backButton),this._backButton.jqxButton({theme:this.theme}),this._backButton.find("div:first").addClass(this.toThemeProperty("jqx-listmenu-backbutton-arrow")),this.showBackButton?this._backButton.css("display","inline-block"):this._backButton.css("display","none"),this.rtl&&(l.jqx.browser.msie&&l.jqx.browser.version<8?(this._backButton.css("position","relative"),this._backButton.css("left","100%"),this._backButton.css("margin-left",-this._backButton.outerWidth()-45+"px")):(this._backButton.css("position","relative"),this._backButton.css("margin-left","100%"),this._backButton.css("left",-this._backButton.outerWidth()-15)))),this.showBackButton?this._backButton.css("display","inline-block"):this._backButton.css("display","none")},_removeEventHandlers:function(){var t=this.isTouchDevice()&&!this.touchMode,e=l.jqx.mobile.getTouchEventName("touchstart");this.removeHandler(this._backButton,t?e:"click"),this.removeHandler(this._filterInput,"keyup"),this.removeHandler(this._filterInput,"change")},_addEventHandlers:function(){var t=this,e=this.isTouchDevice()&&!this.touchMode,i=l.jqx.mobile.getTouchEventName("touchstart");this.addHandler(this._backButton,e?i:"click",function(){t.back()}),this.addHandler(this._filterInput,"keyup change",function(){t._filter(l(this).val())})},_getChildList:function(t){if(t){var e=this._childrenMap[t.id];if(0<=t.className.indexOf("jqx-listmenu-item")&&e)return document.getElementById(e);e=this._getChildrenByTagName(t,"ul","UL")[0],t=this._getChildrenByTagName(t,"ol","OL")[0];return e||t}},_refreshLi:function(t,e,i){t.parentNode&&"listmenu"===t.parentNode.getAttribute("data-role")&&(t.id,this._handleLiId(t),this._renderLi(t),this._removeLiEventHandlers(t),this._addLiEventHandlers(t),this._addLiClasses(t,e,i))},_handleLiId:function(t){t.id||(t.id="jqx-listmenu-item-"+e,e+=1)},_renderLi:function(t){var e,i,s;/(separator|header)/.test(l(t).data("role"))||0<l(t).children(".jqx-listmenu-arrow-right").length||(l(t).wrapInner('<span class="'+this.toThemeProperty("jqx-listmenu-item-label")+'"></span>'),(this.showNavigationArrows||this.alwaysShowNavigationArrows)&&(e=l("<span/>"),i=l(t).find("ul"),s=l(t).find("ol"),(this.alwaysShowNavigationArrows||0<i.length&&/(listmenu)/.test(i.data("role"))||0<s.length&&/(listmenu)/.test(s.data("role")))&&(e.addClass(this.toThemeProperty("jqx-listmenu-arrow-right")),this.rtl?(e.addClass(this.toThemeProperty("jqx-icon-arrow-left")),e.addClass(this.toThemeProperty("jqx-listmenu-arrow-rtl")),e.prependTo(t)):(e.addClass(this.toThemeProperty("jqx-icon-arrow-right")),e.appendTo(t)))))},_removeLiEventHandlers:function(t){var e=this.isTouchDevice(),i=l.jqx.mobile.getTouchEventName("touchstart"),s=l.jqx.mobile.getTouchEventName("touchend"),i=(l.jqx.mobile.getTouchEventName("touchmove"),(e?i:"mousedown")+".listmenu"),s=(e?s:"mouseup")+".listmenu";this.removeHandler(l(t),i),this.removeHandler(l(document),s+"."+t.id)},isTouchDevice:function(){var t=l.jqx.mobile.isTouchDevice();return 1==this.touchMode&&(t=!0),t},_addLiEventHandlers:function(e){e=l(e);var i=this,s=this.toThemeProperty("jqx-listmenu-arrow-right-pressed"),a=e.children(".jqx-listmenu-arrow-right"),r=l.jqx.mobile.isTouchDevice(),t=l.jqx.mobile.getTouchEventName("touchstart"),n=l.jqx.mobile.getTouchEventName("touchend"),t=(l.jqx.mobile.getTouchEventName("touchmove"),(r?t:"mousedown")+".listmenu"),n=(r?n:"mouseup")+".listmenu",h=null,o="";/(separator|readonly)/.test(e.data("role"))||this.readOnly||(this.addHandler(e,"dragstart",function(){return!1}),this.addHandler(e,t,function(t){i.disabled||(h=t.target,o=l.jqx.position(t),0==e.find('div[data-role="content"]').length&&(r||(e.addClass(i.toThemeProperty("jqx-fill-state-pressed")),a.addClass(s))))}),this.addHandler(e,n,function(t){i.disabled||h!=t.target&&r||l.jqx.position(t).top===o.top&&i.next(e)}),this.addHandler(l(document),n+"."+e[0].id,function(){i.disabled||(e.removeClass(i.toThemeProperty("jqx-fill-state-pressed")),a.removeClass(s))}))},_addLiClasses:function(t,e,i){"separator"===(t=l(t)).data("role")?this._handleSeparatorStyle(t):"header"===t.data("role")?this._handleHeaderStyle(t):(this.readOnly||"readonly"===t.data("role")?t.addClass(this.toThemeProperty("jqx-listmenu-item-readonly")):t.removeClass(this.toThemeProperty("jqx-listmenu-item-readonly")),this._handleItemStyle(t)),0!==e||this.showHeader||this.showFilter||t.addClass(this.toThemeProperty("jqx-rc-t")),e===i-1&&t.addClass(this.toThemeProperty("jqx-rc-b"))},_handleSeparatorStyle:function(t){t.addClass(this.toThemeProperty("jqx-listmenu-separator")),t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),t[0].style.listStyle="none"},_handleHeaderStyle:function(t){t.css("display","none")},_handleItemStyle:function(t){t.addClass(this.toThemeProperty("jqx-listmenu-item")),this.rtl&&t.addClass(this.toThemeProperty("jqx-rtl")),t.addClass(this.toThemeProperty("jqx-fill-state-normal")),t.addClass(this.toThemeProperty("jqx-item"))},back:function(){var t,e=this._currentPage;e&&(t=this._parentMap[e[0].id]),this._back=!0,0<l("#"+t).length&&l.jqx.aria(l("#"+t),"aria-expanded",!1),this._changePage(e,l("#"+t).parent(),this.animationDuration,!0),this._back=!1},next:function(t){var e=t.attr("id"),i=this._childrenMap[e],i=l("#"+i),e=l("#"+e).parent();l.jqx.aria(t,"aria-expanded",!0),this._changePage(e,i,this.animationDuration)},changePage:function(t){if("string"==typeof t&&(t=l(t)),!t[0]||"listmenu"!==t.attr("data-role")||t.parents().index(this.host)<0)throw new Error("Invalid newPage. The chosen newPage is not listmenu or it's not part of the selected jqxListMenu hierarchy.");this._currentPage[0]!=t[0]&&this._changePage(this._currentPage,t,this.animationDuration)},_changePage:function(t,e,i,s){this._lock||(s="_"+this.animationType+"Change"+(s?"Back":""),e[0]&&(this.showFilter&&(0<e.find('div[data-role="content"]').length?(l.each(e.find("li"),function(){"separator"===l(this).data("role")&&l(this).hide()}),this._filterBar.css("display","none")):this._filterBar.css("display","block")),this._lock=!0,this[s](t,e,this.animationDuration,function(){this._lock=!1,this._changeHeader(e),this._currentPage=e})))},_changeHeader:function(t){var e,i=l(t).find('li[data-role="header"]').first();i[0]&&(e=this)._headerLabel.fadeOut(this.headerAnimationDuration/2,function(){e._headerLabel.html(i.html()),e._headerLabel.fadeIn(e.headerAnimationDuration/2)})},_slideChange:function(t,e,i,s){var a=this;this.enableScrolling&&null!=this.panel&&this.panel.jqxPanel("scrollTo",0,0);var r=this.rtl;this._initSlide(t,e),r?t.animate({"margin-left":t.width()+parseInt(t.css("margin-right"),10)||0},i,"easeInOutSine"):t.animate({"margin-left":-t.width()-parseInt(t.css("margin-right"),10)||0},i,"easeInOutSine"),e.animate({"margin-left":0},i,"easeInOutSine",function(){a._slideEnd(t,e),s.call(a,l(this))})},_initSlide:function(t,e){var i=this.rtl;t.width(t.width()),e.css({marginTop:-t.outerHeight(!0),marginLeft:i?-t.width()-(parseInt(t.css("margin-right"),10)||0):t.width()+(parseInt(t.css("margin-right"),10)||0),display:"block",height:"auto",width:t.width()})},_slideEnd:function(t,e){this.host.css("height","auto"),t.css({display:"none",width:"auto",height:"auto",marginTop:0,marginLeft:0}),e.css({marginTop:0,marginLeft:0,height:"auto",width:"auto",display:"block"})},_slideChangeBack:function(t,e,i,s){var a=this;this._initSlideBack(t,e),t.animate({"margin-left":this.rtl?-t.width()-parseInt(t.css("margin-right"),10)||0:t.width()+parseInt(t.css("margin-right"),10)||0},i),e.animate({"margin-left":0},i,function(){a._slideEnd(t,e),s.call(a,l(this))})},_initSlideBack:function(t,e){t.css({marginTop:-e.outerHeight(!0),width:t.width()}),e.css({width:t.width(),marginLeft:this.rtl?t.width()+parseInt(t.css("margin-right"),10)||0:-t.width()-parseInt(t.css("margin-right"),10)||0,display:"block",height:"auto"})},_fadeChangeBack:function(t,e,i,s){this._fadeChange(t,e,i,s)},_fadeChange:function(t,e,i,s){var a=this;t.fadeOut(i/2,function(){e.fadeIn(i/2,function(){s.call(a,l(this))})})},_removeClasses:function(){this._filterBar.removeClass(this.toThemeProperty("jqx-listmenu-filter")),this._filterBar.removeClass(this.toThemeProperty("jqx-widget-header")),this._filterInput.removeClass(this.toThemeProperty("jqx-listmenu-filter-input")),this._filterInput.removeClass(this.toThemeProperty("jqx-input")),this._header.removeClass(this.toThemeProperty("jqx-listmenu-header")),this._header.removeClass(this.toThemeProperty("jqx-widget-header")),this._header.removeClass(this.toThemeProperty("jqx-rc-t")),this.roundedCorners&&this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.host.removeClass(this.toThemeProperty("jqx-widget")),this.host.removeClass(this.toThemeProperty("jqx-listmenu-widget")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this.host.removeClass(this.toThemeProperty("jqx-reset")),0<this.host.find('div[data-role="content"]').length&&this.host.find('div[data-role="content"]').removeClass(this.toThemeProperty("jqx-widget-content"))},_addClasses:function(){this.roundedCorners?this.host.addClass(this.toThemeProperty("jqx-rc-all")):this.host.removeClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass("jqx-widget"),this.host.addClass("jqx-listmenu-widget"),this.host.addClass("jqx-fill-state-normal"),this.host.addClass("jqx-reset"),this._filterBar.addClass(this.toThemeProperty("jqx-listmenu-filter")),this._filterBar.addClass(this.toThemeProperty("jqx-widget-header")),this._filterInput.addClass(this.toThemeProperty("jqx-listmenu-filter-input")),this._filterInput.addClass(this.toThemeProperty("jqx-input")),this._header.addClass(this.toThemeProperty("jqx-listmenu-header")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),0<this.host.find('div[data-role="content"]').length&&this.host.find('div[data-role="content"]').addClass(this.toThemeProperty("jqx-widget-content"))},_raiseEvent:function(){},_filter:function(t){for(var e=this.host.find(".jqx-listmenu-item"),i=0;i<e.length;i+=1){var s=l.trim(l(e[i]).text());this.filterCallback(s,t)?e[i].style.display="block":e[i].style.display="none"}for(e=this.host.find(".jqx-listmenu-separator"),i=0;i<e.length;i+=1){var a=!1;l.each(e[i].items,function(){if("none"!=l(this).css("display"))return!(a=!0)}),e[i].style.display=a?"block":"none"}},disable:function(){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!0},enable:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1},propertyChangedHandler:function(t,e,i,s){"disabled"==e&&(s?t.disable():t.enable()),"backLabel"===e?t._backButton.html(s):"placeHolder"===e?t._filterInput.attr("placeholder",s):/(showFilter|showHeader|showBackButton|width|height|autoSeparators|readOnly)/.test(e)&&t._render()}})}(jqxBaseFramework);