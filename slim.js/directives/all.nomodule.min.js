const test=e=>/^(bind.attr):(\S+)/.exec(e.nodeName),execute=(e,t,l,i)=>{const r=i[2],n=l.value;Slim.bind(e,t,n,()=>{let l=Slim.lookup(e,n,t);l?!0===l?t.setAttribute(r,""):t.setAttribute(r,l):t.removeAttribute(r)})};Slim.customDirective(e=>/^(bind.attr):(\S+)/.exec(e.nodeName),(e,t,l,i)=>{const r=i[2],n=l.value;Slim.bind(e,t,n,()=>{let l=Slim.lookup(e,n,t);l?!0===l?t.setAttribute(r,""):t.setAttribute(r,l):t.removeAttribute(r)})}),Slim.customDirective(e=>"s:if"===e.nodeName,(e,t,l)=>{let i,r=l.value,n=r,o=!1;"!"===n.charAt(0)&&(n=n.slice(1),o=!0);const c=document.createComment(`{$target.localName} if:${r}`);t.parentNode.insertBefore(c,t),Slim.bind(e,t,n,()=>{let l=!!Slim.lookup(e,n,t);o&&(l=!l),l!==i&&(l?(t.__isSlim&&t.createdCallback(),c.parentNode.insertBefore(t,c.nextSibling)):Slim.removeChild(t),i=l)})},!0),function(){const e=Symbol.Slim,{isReadOnly:t}=Slim;Slim.customDirective(e=>"s:repeat"===e.nodeName,(l,i,r)=>{let n=r.value,o="data";n.indexOf(" as ")>0&&([n,o]=n.split(" as "));let c=[];const a=document.createComment(`${i.localName} s:repeat="${r.value}"`),m=i.parentElement||Slim.root(l);m.insertBefore(a,i),i.removeAttribute("s:repeat"),Slim.qSelectAll(i,"*").forEach(e=>{Slim._$(e).excluded=!0}),Slim._$(i).excluded=!0;const s=i.outerHTML;i.remove();let S=[];Slim.bind(l,a,n,()=>{const i=Slim.lookup(l,n)||[];let r;if(i.length<c.length&&(c.slice(i.length).forEach(t=>{Slim.unbind(l,t),t[e].subTree&&t[e].subTree.forEach(e=>Slim.unbind(l,e)),t.remove()}),c.length=i.length),i.length>c.length){const t=c.length,n=i.length-c.length,m=((e,t)=>{let l=t,i="";if(e<1)return i;for(;e>1;)1&e&&(i+=l),e>>=1,l+=l;return i+l})(n,s),S=document.createRange();S.setStartBefore(a),r=S.createContextualFragment(m);for(let l=0;l<n;l++){const n=i[l+t],a=r.children[l];Slim._$(a).repeater[o]=n;const m=Slim.qSelectAll(a,"*");m.forEach(function(e){Slim._$(e).repeater[o]=n}),a[e].subTree=m,c.push(a)}const u=Slim.qSelectAll(r,"*");l._bindChildren(u)}const u=(e,l)=>{t(e,o)||(e[o]=l),Slim.commit(e,o)};i.forEach(function(t,l){if(S[l]!==t){const i=c[l];[i,...i[e].subTree||Slim.qSelectAll(i,"*")].forEach(l=>{l[e].repeater[o]=t,l[e].repeater.__node=i,l.__isSlim?(l.createdCallback(),Slim.asap(()=>u(l,t))):u(l,t)})}}),S=i.concat(),r&&Slim.asap(()=>{m.insertBefore(r,a)})})},!0)}(),Slim.customDirective(e=>"s:switch"===e.nodeName,(e,t,l)=>{const i=l.value;let r;const n=document.createComment(`switch:${i}`);t.appendChild(n);const o=[...t.children],c=o.filter(e=>e.hasAttribute("s:default"));Slim.bind(e,t,i,()=>{let l=Slim.lookup(e,i,t);if(String(l)===r)return;let a=!0;o.forEach(e=>{e.getAttribute("s:case")===String(l)?(e.__isSlim&&e.createdCallback(),n.parentNode.insertBefore(e,n),a=!1):Slim.removeChild(e)}),a?c.forEach(e=>{e.__isSlim&&e.createdCallback(),n.parentNode.insertBefore(e,n)}):c.forEach(e=>{Slim.removeChild(e)}),r=String(l)})}),Slim.customDirective(e=>/^s:case$/.exec(e.nodeName),()=>{},!0),Slim.customDirective(e=>/^s:default$/.exec(e.nodeName),()=>{},!0);