!function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(d,e){"use strict";function c(e){var a=e.data;d(e.target).is(a.$el)||(e.preventDefault(),a.$el.trigger("click"))}function o(e){var a=e.data,s=a.$el.is(":disabled"),l=a.$el.is(":checked");s||(a.radio?l&&t(e):(l?t:i)(e))}function t(e){e.data.radio&&d('input[name="'+e.data.group+'"]').not(e.data.$el).trigger("deselect"),e.data.$el.trigger(h.focus),e.data.$classable.addClass(f.checked)}function i(e){e.data.$classable.removeClass(f.checked)}function n(e){e.data.$classable.addClass(f.focus)}function r(e){e.data.$classable.removeClass(f.focus)}var e=e.Plugin("checkbox",{widget:!0,defaults:{customClass:"",toggle:!1,labels:{on:"ON",off:"OFF"},theme:"fs-light"},classes:["element_placeholder","label","marker","flag","radio","focus","checked","disabled","toggle","state","state_on","state_off"],methods:{_construct:function(e){var a=(t=this.closest("label")).length?t.eq(0):d('label[for="'+this.attr("id")+'"]'),s=[f.base,e.theme,e.customClass].join(" "),l=[f.label,e.theme,e.customClass].join(" "),t="";e.radio="radio"===this.attr("type"),e.group=this.attr("name"),t+='<div class="'+f.marker+'" aria-hidden="true">',t+='<div class="'+f.flag+'"></div>',e.toggle&&(s+=" "+f.toggle,l+=" "+f.toggle,t+='<span class="'+[f.state,f.state_on].join(" ")+'">'+e.labels.on+"</span>",t+='<span class="'+[f.state,f.state_off].join(" ")+'">'+e.labels.off+"</span>"),e.radio&&(s+=" "+f.radio,l+=" "+f.radio),t+="</div>",e.$placeholder=d('<span class="'+f.element_placeholder+'"></span>'),this.before(e.$placeholder),e.labelParent=a.find(this).length,e.labelClass=l,a.addClass(l),e.labelParent?a.wrap('<div class="'+s+'"></div>').before(t):this.before('<div class=" '+s+'">'+t+"</div>"),e.$checkbox=e.labelParent?a.parents(b.base):this.prev(b.base),e.$marker=e.$checkbox.find(b.marker),e.$states=e.$checkbox.find(b.state),e.$label=a,e.$classable=d().add(e.$checkbox).add(e.$label),this.is(":checked")&&e.$classable.addClass(f.checked),this.is(":disabled")&&e.$classable.addClass(f.disabled),this.appendTo(e.$marker),this.on(h.focus,e,n).on(h.blur,e,r).on(h.change,e,o).on(h.click,e,c).on(h.deselect,e,i),e.$checkbox.on(h.click,e,c)},_destruct:function(e){e.$checkbox.off(h.namespace),e.$marker.remove(),e.$states.remove(),e.$label.removeClass(e.labelClass),(e.labelParent?e.$label:this).unwrap(),e.$placeholder.before(this),e.$placeholder.remove(),this.off(h.namespace)},enable:function(e){this.prop("disabled",!1),e.$classable.removeClass(f.disabled)},disable:function(e){this.prop("disabled",!0),e.$classable.addClass(f.disabled)},update:function(e){var a=e.$el.is(":disabled"),s=e.$el.is(":checked");a||(s?t:i)({data:e})}},events:{deselect:"deselect"}}),b=e.classes,f=b.raw,h=e.events;e.functions});