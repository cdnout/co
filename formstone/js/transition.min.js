!function(t){"function"==typeof define&&define.amd?define(["jquery","./core"],t):t(jQuery,Formstone)}(function(s,n){"use strict";function a(t){t.stopPropagation(),t.preventDefault();var e=t.data,r=t.originalEvent,t=e.target?e.$target:e.$el;e.property&&r.propertyName!==e.property||!s(r.target).is(t)||i(e)}function i(t){t.always||t.$el[e.namespaceClean]("destroy"),t.callback.apply(t.$el)}function o(t){var e,r,n,a={};if(t instanceof s&&(t=t[0]),u.getComputedStyle)for(var i=0,o=(e=u.getComputedStyle(t,null)).length;i<o;i++)r=e[i],n=e.getPropertyValue(r),a[r]=n;else if(t.currentStyle)for(r in e=t.currentStyle)a[r]=e[r];return a}var e=n.Plugin("transition",{widget:!0,defaults:{always:!1,property:null,target:null},methods:{_construct:function(t,e){var r;e&&(t.$target=this.find(t.target),t.$check=t.target?t.$target:this,t.callback=e,t.styles=o(t.$check),t.timer=null,r=t.$check.css(n.transition+"-duration"),e=parseFloat(r),n.support.transition&&r&&e?this.on(c.transitionEnd,t,a):t.timer=l.startTimer(t.timer,50,function(){!function(t){var e=o(t.$check);!function(t,e){if(s.type(t)!==s.type(e))return!1;for(var r in t){if(!t.hasOwnProperty(r))return!1;if(!t.hasOwnProperty(r)||!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(t.styles,e)&&i(t);t.styles=e}(t)},!0))},_destruct:function(t){l.clearTimer(t.timer,!0),this.off(c.namespace)},resolve:i}}),c=e.events,l=e.functions,u=n.window});