import{select}from"d3-selection";var _extendStatics=function(t,e){return(_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function __extends(t,e){function n(){this.constructor=t}_extendStatics(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Plugin=function(){function t(t){void 0===t&&(t={}),this.$$,this.options=t}var e=t.prototype;return e.$beforeInit=function(){},e.$init=function(){},e.$afterInit=function(){},e.$redraw=function(){},e.$willDestroy=function(){var t=this;Object.keys(this).forEach(function(e){t[e]=null,delete t[e]})},t}();_defineProperty(Plugin,"version","#2.1.4#");var BubbleCompare=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e.prototype.$init=function(){var t=this.$$;t.findClosest=this.findClosest.bind(this),t.getBubbleR=this.getBubbleR.bind(this),t.pointExpandedR=this.pointExpandedR.bind(this)},e.prototype.pointExpandedR=function(t){var n=this.getBubbleR(t),i=this.options.expandScale,r=void 0===i?1:i;return e.raiseFocusedBubbleLayer(t),this.changeCursorPoint(),n*r},e.raiseFocusedBubbleLayer=function(t){t.raise&&select(t.node().parentNode.parentNode).raise()},e.prototype.changeCursorPoint=function(){this.$$.$el.svg.select(".bb-event-rect").style("cursor","pointer")},e.prototype.findClosest=function(t,e){var n=this,i=this.$$;return t.filter(function(t){return t&&!i.isBarType(t.id)}).reduce(function(t,r){return i.dist(r,e)<n.getBubbleR(r)?r:t},0)},e.prototype.getBubbleR=function(t){var e=this,n=this.options,i=n.minR,r=n.maxR,o=this.getZData(t);if(!o)return i;var u=this.$$.data.targets.reduce(function(t,n){var i=t[0],r=t[1],o=e.getZData(n.values[0]);return[Math.min(i,o),Math.max(r,o)]},[1e4,0]),s=u[0],a=u[1],c=s>0&&a===s?0:o/a;return Math.abs(c)*(r-i)+i},e.prototype.getZData=function(t){return this.$$.isBubbleZType(t)?this.$$.getBubbleZData(t.value,"z"):t.value},e.version="0.0.1",e}(Plugin);export default BubbleCompare;