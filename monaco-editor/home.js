/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0-dev.20220427(685c4823ee24a926e1aefbe25b925057c684294c)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var re=["exports","require","vs/base/common/lifecycle","vs/editor/common/core/range","vs/base/common/event","vs/nls","vs/nls!vs/editor/editor.main","vs/base/browser/dom","vs/base/common/strings","vs/platform/instantiation/common/instantiation","vs/base/common/async","vs/editor/common/core/position","vs/css!vs/editor/editor.main","vs/base/common/errors","vs/platform/theme/common/themeService","vs/editor/browser/editorExtensions","vs/platform/contextkey/common/contextkey","vs/base/common/platform","vs/base/common/arrays","vs/base/common/types","vs/editor/common/services/languageFeatures","vs/base/common/cancellation","vs/editor/common/editorContextKeys","vs/platform/theme/common/colorRegistry","vs/editor/common/core/selection","vs/base/common/uri","vs/platform/commands/common/commands","vs/editor/common/languages","vs/base/common/codicons","vs/editor/browser/services/codeEditorService","vs/base/common/color","vs/editor/common/languages/languageConfigurationRegistry","vs/base/browser/fastDomNode","vs/editor/common/config/editorOptions","vs/base/browser/browser","vs/platform/configuration/common/configuration","vs/editor/common/model/textModel","vs/editor/common/languages/language","vs/platform/registry/common/platform","vs/platform/actions/common/actions","vs/platform/notification/common/notification","vs/base/common/objects","vs/base/common/resources","vs/platform/keybinding/common/keybinding","vs/base/browser/keyboardEvent","vs/base/common/network","vs/base/browser/ui/aria/aria","vs/editor/common/model","vs/base/common/actions","vs/editor/common/services/model","vs/platform/opener/common/opener","vs/base/common/map","vs/editor/browser/view/viewPart","vs/platform/instantiation/common/extensions","vs/editor/common/core/editorColorRegistry","vs/base/common/iterator","vs/base/common/stopwatch","vs/editor/common/services/resolverService","vs/platform/theme/common/theme","vs/base/common/keyCodes","vs/base/browser/touch","vs/editor/common/core/editOperation","vs/editor/common/cursorCommon","vs/base/browser/mouseEvent","vs/base/common/filters","vs/base/common/htmlContent","vs/base/browser/ui/widget","vs/editor/browser/config/domFontInfo","vs/platform/accessibility/common/accessibility","vs/platform/log/common/log","vs/editor/common/services/languageFeatureDebounce","vs/editor/common/languages/modesRegistry","vs/base/browser/ui/scrollbar/scrollableElement","vs/editor/common/core/cursorColumns","vs/editor/common/viewModel","vs/editor/common/standaloneStrings","vs/platform/progress/common/progress","vs/platform/theme/common/iconRegistry","vs/base/common/severity","vs/editor/common/tokens/lineTokens","vs/platform/contextview/browser/contextView","vs/platform/markers/common/markers","vs/platform/quickinput/common/quickInput","vs/platform/storage/common/storage","vs/base/common/linkedList","vs/base/common/path","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/length","vs/editor/contrib/hover/browser/hoverTypes","vs/base/browser/ui/actionbar/actionbar","vs/editor/common/services/editorWorker","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/telemetry/common/telemetry","vs/base/common/functional","vs/base/browser/event","vs/editor/common/core/stringBuilder","vs/editor/common/languages/languageConfiguration","vs/editor/common/textModelEvents","vs/platform/clipboard/common/clipboardService","vs/editor/contrib/suggest/browser/suggest","vs/base/common/decorators","vs/base/common/keybindings","vs/base/common/iconLabels","vs/editor/common/core/characterClassifier","vs/editor/common/commands/replaceCommand","vs/editor/common/languages/supports","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet","vs/editor/browser/view/dynamicViewOverlay","vs/editor/contrib/snippet/browser/snippetParser","vs/editor/standalone/common/standaloneTheme","vs/platform/layout/browser/layoutService","vs/platform/configuration/common/configurationRegistry","vs/editor/contrib/markdownRenderer/browser/markdownRenderer","vs/platform/quickinput/common/quickAccess","vs/editor/contrib/editorState/browser/editorState","vs/editor/contrib/peekView/browser/peekView","vs/base/browser/ui/tree/tree","vs/base/common/buffer","vs/base/common/numbers","vs/base/common/hash","vs/base/browser/globalPointerMoveMonitor","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/sash/sash","vs/base/browser/ui/list/listWidget","vs/editor/browser/view/renderingContext","vs/editor/common/core/eolCounter","vs/editor/common/core/wordCharacterClassifier","vs/editor/common/core/wordHelper","vs/editor/common/languages/nullTokenize","vs/editor/common/viewEventHandler","vs/editor/common/viewLayout/viewLineRenderer","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/platform/dialogs/common/dialogs","vs/platform/label/common/label","vs/editor/browser/editorDom","vs/platform/theme/common/styler","vs/base/common/idGenerator","vs/base/common/lazy","vs/base/common/mime","vs/base/common/range","vs/base/common/scrollable","vs/base/common/diff/diff","vs/base/common/uint","vs/base/browser/ui/codicons/codiconStyles","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/parts/quickinput/browser/media/quickInput","vs/editor/browser/stableEditorScroll","vs/editor/common/config/editorZoom","vs/editor/common/core/textModelDefaults","vs/editor/common/editorCommon","vs/editor/browser/editorBrowser","vs/editor/common/cursor/cursorWordOperations","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/common/standalone/standaloneEnums","vs/editor/common/viewLayout/lineDecorations","vs/editor/contrib/codeAction/browser/types","vs/editor/contrib/inlineCompletions/browser/ghostText","vs/editor/common/services/textResourceConfiguration","vs/platform/instantiation/common/serviceCollection","vs/editor/browser/coreCommands","vs/editor/contrib/codeAction/browser/codeAction","vs/editor/contrib/message/browser/messageController","vs/platform/list/browser/listService","vs/platform/undoRedo/common/undoRedo","vs/editor/browser/widget/codeEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/find/browser/findModel","vs/editor/contrib/snippet/browser/snippetController2","vs/base/browser/dnd","vs/base/browser/canIUse","vs/base/common/extpath","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/common/labels","vs/base/browser/ui/list/listView","vs/base/browser/ui/toggle/toggle","vs/editor/common/config/fontInfo","vs/editor/common/core/indentation","vs/editor/browser/controller/textAreaInput","vs/editor/browser/view/viewLayer","vs/editor/common/cursor/cursorMoveOperations","vs/editor/common/cursor/cursorDeleteOperations","vs/editor/common/cursor/cursorMoveCommands","vs/editor/common/languages/supports/richEditBrackets","vs/editor/common/model/utils","vs/editor/common/textModelGuides","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewEvents","vs/editor/common/viewModelEventDispatcher","vs/editor/contrib/folding/browser/foldingRanges","vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture","vs/editor/contrib/inlineCompletions/browser/consts","vs/editor/contrib/inlineCompletions/browser/utils","vs/editor/contrib/inlineCompletions/browser/inlineCompletionToGhostText","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/inputbox/inputBox","vs/base/common/keybindingLabels","vs/platform/instantiation/common/descriptors","vs/editor/browser/services/bulkEditService","vs/editor/common/services/markerDecorations","vs/editor/contrib/parameterHints/browser/provideSignatureHelp","vs/editor/contrib/documentSymbols/browser/outlineModel","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/languages/autoIndent","vs/editor/common/languages/enterAction","vs/editor/common/commands/shiftCommand","vs/editor/common/cursor/cursorTypeOperations","vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/platform/actions/browser/menuEntryActionViewItem","vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/platform/workspace/common/workspace","vs/editor/standalone/browser/standaloneServices","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/common/assert","vs/base/common/cache","vs/base/common/collections","vs/base/common/glob","vs/base/common/marshalling","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/common/worker/simpleWorker","vs/base/parts/quickinput/common/quickInput","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/splitview/splitview","vs/base/parts/quickinput/browser/quickInputUtils","vs/editor/browser/config/elementSizeObserver","vs/editor/browser/config/tabFocus","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/browser/controller/textAreaState","vs/editor/browser/widget/diffNavigator","vs/editor/common/core/rgba","vs/editor/common/core/textChange","vs/editor/common/cursor/cursorAtomicMoveOperations","vs/editor/common/editorAction","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/parser","vs/editor/common/model/prefixSumComputer","vs/editor/common/model/textModelPart","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/modelLineProjectionData","vs/editor/common/services/unicodeTextModelHighlighter","vs/editor/common/model/guidesTextModelPart","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/brackets","vs/editor/common/services/editorBaseApi","vs/editor/common/languages/textToHtmlTokenizer","vs/editor/browser/viewParts/margin/margin","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/common/viewModel/overviewZoneManager","vs/editor/contrib/comment/browser/blockCommentCommand","vs/editor/contrib/folding/browser/syntaxRangeProvider","vs/editor/contrib/format/browser/formattingEdit","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/indentation/browser/indentUtils","vs/editor/contrib/inlayHints/browser/inlayHints","vs/editor/contrib/smartSelect/browser/bracketSelections","vs/editor/contrib/suggest/browser/completionModel","vs/editor/contrib/suggest/browser/resizable","vs/editor/contrib/suggest/browser/wordDistance","vs/editor/standalone/common/monarch/monarchCommon","vs/editor/standalone/common/monarch/monarchLexer","vs/base/browser/ui/findinput/findInputToggles","vs/base/browser/ui/tree/objectTree","vs/editor/browser/config/fontMeasurements","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/model/editStack","vs/platform/files/common/files","vs/editor/common/services/getSemanticTokens","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/colorPicker/browser/color","vs/platform/contextkey/common/contextkeys","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/standalone/browser/standaloneLayoutService","vs/editor/browser/services/editorWorkerService","vs/editor/common/cursor/cursor","vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/platform/history/browser/contextScopedHistoryWidget","vs/editor/contrib/suggest/browser/suggestMemory","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/controller/mouseTarget","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/quickAccess/browser/editorNavigationQuickAccess","vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/editor/standalone/browser/standaloneCodeEditorService","vs/editor/contrib/format/browser/format","vs/editor/contrib/gotoSymbol/browser/goToSymbol","vs/editor/contrib/hover/browser/getHover","vs/editor/contrib/codeAction/browser/codeActionCommands","vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/editor/contrib/wordOperations/browser/wordOperations","vs/editor/common/services/modelService","vs/editor/browser/widget/diffEditorWidget","vs/editor/contrib/colorPicker/browser/colorDetector","vs/editor/contrib/find/browser/findController","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/editor/contrib/hover/browser/hover","vs/editor/contrib/inlayHints/browser/inlayHintsController","vs/editor/contrib/snippet/browser/snippetSession","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsModel","vs/editor/contrib/suggest/browser/suggestController","vs/editor/contrib/inlineCompletions/browser/ghostTextController","vs/platform/workspace/common/workspaceTrust","vs/base/browser/iframe","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/marked/marked","vs/base/common/navigator","vs/base/common/history","vs/base/common/process","vs/base/browser/ui/list/rangeMap","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/common/comparers","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/fuzzyScorer","vs/base/common/search","vs/base/browser/dompurify/dompurify","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/markdownRenderer","vs/base/common/uuid","vs/base/browser/defaultWorkerFactory","vs/base/parts/storage/common/storage","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hover","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/base/browser/ui/list/listPaging","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/base/browser/ui/table/tableWidget","vs/css!vs/base/browser/ui/toggle/toggle","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/widget/media/diffReview","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/css!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/css!vs/editor/contrib/codelens/browser/codelensWidget","vs/css!vs/editor/contrib/colorPicker/browser/colorPicker","vs/css!vs/editor/contrib/dnd/browser/dnd","vs/css!vs/editor/contrib/find/browser/findWidget","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/gotoError/browser/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/css!vs/editor/contrib/inlineCompletions/browser/ghostText","vs/css!vs/editor/contrib/links/browser/links","vs/css!vs/editor/contrib/message/browser/messageController","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/editor/contrib/peekView/browser/media/peekViewWidget","vs/css!vs/editor/contrib/rename/browser/renameInputField","vs/css!vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/suggest/browser/media/suggest","vs/css!vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/config/migrateOptions","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/cursor/cursorContext","vs/editor/common/diff/diffComputer","vs/editor/common/editorTheme","vs/editor/common/languageSelector","vs/editor/common/languages/linkComputer","vs/editor/common/cursor/cursorColumnSelection","vs/editor/common/cursor/oneCursor","vs/editor/common/cursor/cursorCollection","vs/editor/common/languages/supports/characterPair","vs/editor/common/languages/supports/indentRules","vs/editor/common/languages/supports/inplaceReplaceSupport","vs/editor/common/languages/supports/languageBracketsConfiguration","vs/editor/common/languages/supports/onEnter","vs/editor/common/languages/supports/electricCharacter","vs/editor/common/languages/supports/tokenization","vs/editor/common/languageFeatureRegistry","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/mirrorTextModel","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/services/semanticTokensDto","vs/editor/common/textModelBracketPairs","vs/editor/common/tokenizationRegistry","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl","vs/editor/common/model/bracketPairsTextModelPart/fixBrackets","vs/editor/common/services/editorSimpleWorker","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/common/model/textModelTokens","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousTokensStore","vs/editor/common/tokens/sparseMultilineTokens","vs/editor/common/tokens/sparseTokensStore","vs/editor/common/model/tokenizationTextModelPart","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/modelLineProjection","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/common/viewModel/viewContext","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/browser/moveCaretCommand","vs/editor/contrib/colorPicker/browser/colorPickerModel","vs/editor/contrib/comment/browser/lineCommentCommand","vs/editor/contrib/dnd/browser/dragAndDropCommand","vs/editor/contrib/find/browser/replaceAllCommand","vs/editor/contrib/find/browser/replacePattern","vs/editor/contrib/folding/browser/foldingModel","vs/editor/contrib/folding/browser/hiddenRangeModel","vs/editor/contrib/folding/browser/indentRangeProvider","vs/editor/contrib/folding/browser/intializingRangeProvider","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand","vs/editor/contrib/linesOperations/browser/copyLinesCommand","vs/editor/contrib/linesOperations/browser/sortLinesCommand","vs/editor/contrib/smartSelect/browser/wordSelections","vs/editor/contrib/suggest/browser/suggestCommitCharacters","vs/editor/contrib/suggest/browser/suggestOvertypingCapturer","vs/editor/standalone/common/monarch/monarchCompile","vs/editor/standalone/browser/colorizer","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputToggles","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/iconLabel/iconLabelHover","vs/base/browser/ui/iconLabel/iconLabelHover","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/nls!vs/base/common/actions","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/findinput/findInput","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/parts/quickinput/browser/quickInputBox","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInputList","vs/base/parts/quickinput/browser/quickInput","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/coreCommands","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/widget/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/browser/widget/inlineDiffMargin","vs/editor/browser/widget/inlineDiffMargin","vs/nls!vs/editor/common/config/editorConfigurationSchema","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/config/charWidthReader","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/nls!vs/editor/common/core/editorColorRegistry","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/languages/modesRegistry","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/browser/caretOperations","vs/nls!vs/editor/contrib/caretOperations/browser/transpose","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/nls!vs/editor/contrib/codeAction/browser/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/browser/codelensController","vs/nls!vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/nls!vs/editor/contrib/comment/browser/comment","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/nls!vs/editor/contrib/editorState/browser/keybindingCancellation","vs/nls!vs/editor/contrib/find/browser/findController","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/nls!vs/editor/contrib/folding/browser/folding","vs/nls!vs/editor/contrib/folding/browser/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/browser/fontZoom","vs/nls!vs/editor/contrib/format/browser/format","vs/nls!vs/editor/contrib/format/browser/formatActions","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/nls!vs/editor/contrib/hover/browser/hover","vs/nls!vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/browser/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/browser/indentation","vs/nls!vs/editor/contrib/inlayHints/browser/inlayHintsController","vs/nls!vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/nls!vs/editor/contrib/inlineCompletions/browser/ghostTextController","vs/nls!vs/editor/contrib/inlineCompletions/browser/ghostTextHoverParticipant","vs/nls!vs/editor/contrib/lineSelection/browser/lineSelection","vs/nls!vs/editor/contrib/linesOperations/browser/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/message/browser/messageController","vs/nls!vs/editor/contrib/multicursor/browser/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/browser/peekView","vs/nls!vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/rename/browser/renameInputField","vs/nls!vs/editor/contrib/smartSelect/browser/smartSelect","vs/nls!vs/editor/contrib/snippet/browser/snippetController2","vs/nls!vs/editor/contrib/snippet/browser/snippetVariables","vs/nls!vs/editor/contrib/suggest/browser/suggest","vs/nls!vs/editor/contrib/suggest/browser/suggestController","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/browser/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/browser/wordOperations","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/history/browser/contextScopedHistoryWidget","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspace/common/workspace","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/history/browser/historyWidgetKeybindingHint","vs/platform/instantiation/common/graph","vs/editor/common/services/languageFeaturesService","vs/editor/contrib/links/browser/getLinks","vs/editor/contrib/parameterHints/browser/parameterHintsModel","vs/editor/contrib/suggest/browser/suggestAlternatives","vs/editor/contrib/suggest/browser/wordContextKey","vs/editor/browser/config/editorConfiguration","vs/platform/contextkey/browser/contextKeyService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/accessibility/browser/accessibilityService","vs/platform/contextview/browser/contextViewService","vs/platform/clipboard/browser/clipboardService","vs/editor/contrib/gotoError/browser/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/editor/contrib/documentSymbols/browser/documentSymbols","vs/platform/quickinput/browser/pickerQuickAccess","vs/editor/common/config/editorConfigurationSchema","vs/editor/browser/services/webWorker","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesAssociations","vs/editor/common/services/languagesRegistry","vs/editor/common/services/languageService","vs/editor/contrib/linesOperations/browser/moveLinesCommand","vs/editor/contrib/hover/browser/marginHover","vs/platform/configuration/common/configurationModels","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/editor/contrib/codelens/browser/codeLensCache","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/browser/commandsQuickAccess","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsService","vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/editor/contrib/inlineCompletions/browser/ghostTextWidget","vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/editor/contrib/rename/browser/renameInputField","vs/editor/standalone/common/themes","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/browser/view","vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/editor/contrib/caretOperations/browser/caretOperations","vs/editor/contrib/caretOperations/browser/transpose","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/comment/browser/comment","vs/editor/contrib/contextmenu/browser/contextmenu","vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/editor/contrib/editorState/browser/keybindingCancellation","vs/editor/contrib/codeAction/browser/codeActionMenu","vs/editor/contrib/codeAction/browser/codeActionModel","vs/editor/contrib/fontZoom/browser/fontZoom","vs/editor/contrib/format/browser/formatActions","vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/editor/contrib/indentation/browser/indentation","vs/editor/contrib/lineSelection/browser/lineSelection","vs/editor/contrib/linesOperations/browser/linesOperations","vs/editor/contrib/codeAction/browser/codeActionUi","vs/editor/contrib/codeAction/browser/codeActionContributions","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/smartSelect/browser/smartSelect","vs/editor/contrib/suggest/browser/suggestInlineCompletions","vs/editor/contrib/tokenization/browser/tokenization","vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/editor/contrib/wordPartOperations/browser/wordPartOperations","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/platform/actions/common/menuService","vs/platform/contextview/browser/contextMenuService","vs/platform/opener/browser/link","vs/platform/quickinput/browser/quickInput","vs/editor/standalone/browser/quickInput/standaloneQuickInputService","vs/platform/severityIcon/common/severityIcon","vs/editor/browser/widget/diffReview","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/standalone/browser/standaloneThemeService","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/editor/contrib/codelens/browser/codelensWidget","vs/editor/contrib/codelens/browser/codelensController","vs/editor/contrib/colorPicker/browser/colorHoverParticipant","vs/editor/contrib/dnd/browser/dnd","vs/editor/contrib/find/browser/findDecorations","vs/editor/contrib/find/browser/findOptionsWidget","vs/editor/contrib/find/browser/findState","vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/folding/browser/foldingDecorations","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/hover/browser/contentHover","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/editor/contrib/links/browser/links","vs/editor/contrib/multicursor/browser/multicursor","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/viewportSemanticTokens/browser/viewportSemanticTokens","vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/editor/contrib/hover/browser/markerHoverParticipant","vs/editor/contrib/colorPicker/browser/colorContributions","vs/editor/contrib/inlayHints/browser/inlayHintsLocations","vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/editor/contrib/inlayHints/browser/inlayHintsContribution","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/contrib/snippet/browser/snippetVariables","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/contrib/inlineCompletions/browser/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/browser/suggestWidgetPreviewModel","vs/editor/contrib/inlineCompletions/browser/ghostTextModel","vs/editor/contrib/inlineCompletions/browser/ghostTextHoverParticipant","vs/editor/contrib/inlineCompletions/browser/ghostText.contribution","vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/editor/editor.all","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/editor/edcore.main"],se=function(U){for(var e=[],E=0,m=U.length;E<m;E++)e[E]=re[U[E]];return e},hi;(function(U){var e=function(){function m(){this._pendingLoads=0}return m.prototype.attachListeners=function(k,I,L,_){var v=function(){I.removeEventListener("load",u),I.removeEventListener("error",h)},u=function(i){v(),L()},h=function(i){v(),_(i)};I.addEventListener("load",u),I.addEventListener("error",h)},m.prototype._onLoad=function(k,I){this._pendingLoads--,I()},m.prototype._onLoadError=function(k,I,L){this._pendingLoads--,I(L)},m.prototype._insertLinkNode=function(k){this._pendingLoads++;var I=document.head||document.getElementsByTagName("head")[0];I.appendChild(k)},m.prototype.createLinkTag=function(k,I,L,_){var v=this,u=document.createElement("link");u.setAttribute("rel","stylesheet"),u.setAttribute("type","text/css"),u.setAttribute("data-name",k);var h=function(){return v._onLoad(k,L)},i=function(n){return v._onLoadError(k,_,n)};return this.attachListeners(k,u,h,i),u.setAttribute("href",I),u},m.prototype._linkTagExists=function(k,I){var L,_,v,u,h=document.getElementsByTagName("link");for(L=0,_=h.length;L<_;L++)if(v=h[L].getAttribute("data-name"),u=h[L].getAttribute("href"),v===k||u===I)return!0;return!1},m.prototype.load=function(k,I,L,_){if(this._linkTagExists(k,I)){L();return}var v=this.createLinkTag(k,I,L,_);this._insertLinkNode(v)},m}(),E=function(){function m(){this._cssLoader=new e}return m.prototype.load=function(k,I,L,_){_=_||{};var v=_["vs/css"]||{};if(v.disabled){L({});return}var u=I.toUrl(k+".css");this._cssLoader.load(k,u,function(h){L({})},function(h){typeof L.error=="function"&&L.error("Could not find "+u+" or it was empty")})},m}();U.CSSPlugin=E,define("vs/css",new E)})(hi||(hi={}));var tn=this&&this.__spreadArrays||function(){for(var U=0,e=0,E=arguments.length;e<E;e++)U+=arguments[e].length;for(var m=Array(U),k=0,e=0;e<E;e++)for(var I=arguments[e],L=0,_=I.length;L<_;L++,k++)m[k]=I[L];return m},gi;(function(U){var e=function(){function _(){this._detected=!1,this._isPseudo=!1}return Object.defineProperty(_.prototype,"isPseudo",{get:function(){return this._detect(),this._isPseudo},enumerable:!1,configurable:!0}),_.prototype._detect=function(){this._detected||(this._detected=!0,this._isPseudo=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0)},_}();function E(_,v,u){var h;return v.length===0?h=_:h=_.replace(/\{(\d+)\}/g,function(i,n){var t=n[0],o=v[t],d=i;return typeof o=="string"?d=o:(typeof o=="number"||typeof o=="boolean"||o===void 0||o===null)&&(d=String(o)),d}),u.isPseudo&&(h="\uFF3B"+h.replace(/[aouei]/g,"$&$&")+"\uFF3D"),h}function m(_,v){var u=_[v];return u||(u=_["*"],u)?u:null}function k(_,v,u){for(var h=[],i=3;i<arguments.length;i++)h[i-3]=arguments[i];return E(u,h,_)}function I(_,v){return function(u,h){var i=Array.prototype.slice.call(arguments,2);return E(_[u],i,v)}}var L=function(){function _(v){var u=this;this._env=v,this.localize=function(h,i){for(var n=[],t=2;t<arguments.length;t++)n[t-2]=arguments[t];return k.apply(void 0,tn([u._env,h,i],n))}}return _.prototype.setPseudoTranslation=function(v){this._env._isPseudo=v},_.prototype.create=function(v,u){return{localize:I(u[v],this._env)}},_.prototype.load=function(v,u,h,i){var n=this;if(i=i||{},!v||v.length===0)h({localize:this.localize});else{var t=i["vs/nls"]||{},o=t.availableLanguages?m(t.availableLanguages,v):null,d=".nls";o!==null&&o!==_.DEFAULT_TAG&&(d=d+"."+o);var r=function(c){Array.isArray(c)?c.localize=I(c,n._env):c.localize=I(c[v],n._env),h(c)};typeof t.loadBundle=="function"?t.loadBundle(v,o,function(c,s){c?u([v+".nls"],r):r(s)}):u([v+d],r)}},_.DEFAULT_TAG="i-default",_}();U.NLSPlugin=L,define("vs/nls",new L(new e))})(gi||(gi={}));/*! @license DOMPurify 2.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.1/LICENSE */function nn(U){if(Array.isArray(U)){for(var e=0,E=Array(U.length);e<U.length;e++)E[e]=U[e];return E}else return Array.from(U)}var on=Object.hasOwnProperty,fi=Object.setPrototypeOf,rn=Object.isFrozen,sn=Object.getPrototypeOf,an=Object.getOwnPropertyDescriptor,st=Object.freeze,mt=Object.seal,ln=Object.create,mi=typeof Reflect!="undefined"&&Reflect,Ot=mi.apply,Gt=mi.construct;Ot||(Ot=function(e,E,m){return e.apply(E,m)}),st||(st=function(e){return e}),mt||(mt=function(e){return e}),Gt||(Gt=function(e,E){return new(Function.prototype.bind.apply(e,[null].concat(nn(E))))});var dn=ut(Array.prototype.forEach),pi=ut(Array.prototype.pop),kt=ut(Array.prototype.push),St=ut(String.prototype.toLowerCase),Ci=ut(String.prototype.match),bt=ut(String.prototype.replace),cn=ut(String.prototype.indexOf),un=ut(String.prototype.trim),pt=ut(RegExp.prototype.test),vi=hn(TypeError);function ut(U){return function(e){for(var E=arguments.length,m=Array(E>1?E-1:0),k=1;k<E;k++)m[k-1]=arguments[k];return Ot(U,e,m)}}function hn(U){return function(){for(var e=arguments.length,E=Array(e),m=0;m<e;m++)E[m]=arguments[m];return Gt(U,E)}}function Je(U,e){fi&&fi(U,null);for(var E=e.length;E--;){var m=e[E];if(typeof m=="string"){var k=St(m);k!==m&&(rn(e)||(e[E]=k),m=k)}U[m]=!0}return U}function wt(U){var e=ln(null),E=void 0;for(E in U)Ot(on,U,[E])&&(e[E]=U[E]);return e}function Ft(U,e){for(;U!==null;){var E=an(U,e);if(E){if(E.get)return ut(E.get);if(typeof E.value=="function")return ut(E.value)}U=sn(U)}function m(k){return console.warn("fallback value for",k),null}return m}var bi=st(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Zt=st(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Yt=st(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),gn=st(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Qt=st(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),fn=st(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_i=st(["#text"]),Si=st(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Xt=st(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),wi=st(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Bt=st(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),mn=mt(/\{\{[\s\S]*|[\s\S]*\}\}/gm),pn=mt(/<%[\s\S]*|[\s\S]*%>/gm),Cn=mt(/^data-[\-\w.\u00B7-\uFFFF]/),vn=mt(/^aria-[\-\w]+$/),bn=mt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_n=mt(/^(?:\w+script|data):/i),Sn=mt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U};function gt(U){if(Array.isArray(U)){for(var e=0,E=Array(U.length);e<U.length;e++)E[e]=U[e];return E}else return Array.from(U)}var wn=function(){return typeof window=="undefined"?null:window},Ln=function(e,E){if((typeof e=="undefined"?"undefined":Nt(e))!=="object"||typeof e.createPolicy!="function")return null;var m=null,k="data-tt-policy-suffix";E.currentScript&&E.currentScript.hasAttribute(k)&&(m=E.currentScript.getAttribute(k));var I="dompurify"+(m?"#"+m:"");try{return e.createPolicy(I,{createHTML:function(_){return _}})}catch{return console.warn("TrustedTypes policy "+I+" could not be created."),null}};function Li(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:wn(),e=function(Ee){return Li(Ee)};if(e.version="2.3.1",e.removed=[],!U||!U.document||U.document.nodeType!==9)return e.isSupported=!1,e;var E=U.document,m=U.document,k=U.DocumentFragment,I=U.HTMLTemplateElement,L=U.Node,_=U.Element,v=U.NodeFilter,u=U.NamedNodeMap,h=u===void 0?U.NamedNodeMap||U.MozNamedAttrMap:u,i=U.Text,n=U.Comment,t=U.DOMParser,o=U.trustedTypes,d=_.prototype,r=Ft(d,"cloneNode"),c=Ft(d,"nextSibling"),s=Ft(d,"childNodes"),a=Ft(d,"parentNode");if(typeof I=="function"){var l=m.createElement("template");l.content&&l.content.ownerDocument&&(m=l.content.ownerDocument)}var f=Ln(o,E),g=f&&q?f.createHTML(""):"",b=m,p=b.implementation,C=b.createNodeIterator,S=b.createDocumentFragment,y=b.getElementsByTagName,w=E.importNode,T={};try{T=wt(m).documentMode?m.documentMode:{}}catch{}var N={};e.isSupported=typeof a=="function"&&p&&typeof p.createHTMLDocument!="undefined"&&T!==9;var R=mn,B=pn,O=Cn,D=vn,A=_n,P=Sn,F=bn,W=null,M=Je({},[].concat(gt(bi),gt(Zt),gt(Yt),gt(Qt),gt(_i))),z=null,ee=Je({},[].concat(gt(Si),gt(Xt),gt(wi),gt(Bt))),ie=null,Y=null,X=!0,J=!0,oe=!1,G=!1,x=!1,V=!1,K=!1,le=!1,ae=!1,Q=!0,q=!1,Z=!0,j=!0,$=!1,H={},te=null,ne=Je({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),de=null,he=Je({},["audio","video","img","source","image","track"]),pe=null,ve=Je({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ue="http://www.w3.org/1998/Math/MathML",Ce="http://www.w3.org/2000/svg",me="http://www.w3.org/1999/xhtml",be=me,ce=!1,ge=null,_e=m.createElement("form"),ye=function(Ee){ge&&ge===Ee||((!Ee||(typeof Ee=="undefined"?"undefined":Nt(Ee))!=="object")&&(Ee={}),Ee=wt(Ee),W="ALLOWED_TAGS"in Ee?Je({},Ee.ALLOWED_TAGS):M,z="ALLOWED_ATTR"in Ee?Je({},Ee.ALLOWED_ATTR):ee,pe="ADD_URI_SAFE_ATTR"in Ee?Je(wt(ve),Ee.ADD_URI_SAFE_ATTR):ve,de="ADD_DATA_URI_TAGS"in Ee?Je(wt(he),Ee.ADD_DATA_URI_TAGS):he,te="FORBID_CONTENTS"in Ee?Je({},Ee.FORBID_CONTENTS):ne,ie="FORBID_TAGS"in Ee?Je({},Ee.FORBID_TAGS):{},Y="FORBID_ATTR"in Ee?Je({},Ee.FORBID_ATTR):{},H="USE_PROFILES"in Ee?Ee.USE_PROFILES:!1,X=Ee.ALLOW_ARIA_ATTR!==!1,J=Ee.ALLOW_DATA_ATTR!==!1,oe=Ee.ALLOW_UNKNOWN_PROTOCOLS||!1,G=Ee.SAFE_FOR_TEMPLATES||!1,x=Ee.WHOLE_DOCUMENT||!1,le=Ee.RETURN_DOM||!1,ae=Ee.RETURN_DOM_FRAGMENT||!1,Q=Ee.RETURN_DOM_IMPORT!==!1,q=Ee.RETURN_TRUSTED_TYPE||!1,K=Ee.FORCE_BODY||!1,Z=Ee.SANITIZE_DOM!==!1,j=Ee.KEEP_CONTENT!==!1,$=Ee.IN_PLACE||!1,F=Ee.ALLOWED_URI_REGEXP||F,be=Ee.NAMESPACE||me,G&&(J=!1),ae&&(le=!0),H&&(W=Je({},[].concat(gt(_i))),z=[],H.html===!0&&(Je(W,bi),Je(z,Si)),H.svg===!0&&(Je(W,Zt),Je(z,Xt),Je(z,Bt)),H.svgFilters===!0&&(Je(W,Yt),Je(z,Xt),Je(z,Bt)),H.mathMl===!0&&(Je(W,Qt),Je(z,wi),Je(z,Bt))),Ee.ADD_TAGS&&(W===M&&(W=wt(W)),Je(W,Ee.ADD_TAGS)),Ee.ADD_ATTR&&(z===ee&&(z=wt(z)),Je(z,Ee.ADD_ATTR)),Ee.ADD_URI_SAFE_ATTR&&Je(pe,Ee.ADD_URI_SAFE_ATTR),Ee.FORBID_CONTENTS&&(te===ne&&(te=wt(te)),Je(te,Ee.FORBID_CONTENTS)),j&&(W["#text"]=!0),x&&Je(W,["html","head","body"]),W.table&&(Je(W,["tbody"]),delete ie.tbody),st&&st(Ee),ge=Ee)},Me=Je({},["mi","mo","mn","ms","mtext"]),ke=Je({},["foreignobject","desc","title","annotation-xml"]),Te=Je({},Zt);Je(Te,Yt),Je(Te,gn);var Oe=Je({},Qt);Je(Oe,fn);var Be=function(Ee){var Ae=a(Ee);(!Ae||!Ae.tagName)&&(Ae={namespaceURI:me,tagName:"template"});var We=St(Ee.tagName),Ve=St(Ae.tagName);if(Ee.namespaceURI===Ce)return Ae.namespaceURI===me?We==="svg":Ae.namespaceURI===ue?We==="svg"&&(Ve==="annotation-xml"||Me[Ve]):Boolean(Te[We]);if(Ee.namespaceURI===ue)return Ae.namespaceURI===me?We==="math":Ae.namespaceURI===Ce?We==="math"&&ke[Ve]:Boolean(Oe[We]);if(Ee.namespaceURI===me){if(Ae.namespaceURI===Ce&&!ke[Ve]||Ae.namespaceURI===ue&&!Me[Ve])return!1;var Qe=Je({},["title","style","font","a","script"]);return!Oe[We]&&(Qe[We]||!Te[We])}return!1},xe=function(Ee){kt(e.removed,{element:Ee});try{Ee.parentNode.removeChild(Ee)}catch{try{Ee.outerHTML=g}catch{Ee.remove()}}},Ke=function(Ee,Ae){try{kt(e.removed,{attribute:Ae.getAttributeNode(Ee),from:Ae})}catch{kt(e.removed,{attribute:null,from:Ae})}if(Ae.removeAttribute(Ee),Ee==="is"&&!z[Ee])if(le||ae)try{xe(Ae)}catch{}else try{Ae.setAttribute(Ee,"")}catch{}},Ze=function(Ee){var Ae=void 0,We=void 0;if(K)Ee="<remove></remove>"+Ee;else{var Ve=Ci(Ee,/^[\r\n\t ]+/);We=Ve&&Ve[0]}var Qe=f?f.createHTML(Ee):Ee;if(be===me)try{Ae=new t().parseFromString(Qe,"text/html")}catch{}if(!Ae||!Ae.documentElement){Ae=p.createDocument(be,"template",null);try{Ae.documentElement.innerHTML=ce?"":Qe}catch{}}var et=Ae.body||Ae.documentElement;return Ee&&We&&et.insertBefore(m.createTextNode(We),et.childNodes[0]||null),be===me?y.call(Ae,x?"html":"body")[0]:x?Ae.documentElement:et},we=function(Ee){return C.call(Ee.ownerDocument||Ee,Ee,v.SHOW_ELEMENT|v.SHOW_COMMENT|v.SHOW_TEXT,null,!1)},Se=function(Ee){return Ee instanceof i||Ee instanceof n?!1:typeof Ee.nodeName!="string"||typeof Ee.textContent!="string"||typeof Ee.removeChild!="function"||!(Ee.attributes instanceof h)||typeof Ee.removeAttribute!="function"||typeof Ee.setAttribute!="function"||typeof Ee.namespaceURI!="string"||typeof Ee.insertBefore!="function"},De=function(Ee){return(typeof L=="undefined"?"undefined":Nt(L))==="object"?Ee instanceof L:Ee&&(typeof Ee=="undefined"?"undefined":Nt(Ee))==="object"&&typeof Ee.nodeType=="number"&&typeof Ee.nodeName=="string"},Pe=function(Ee,Ae,We){!N[Ee]||dn(N[Ee],function(Ve){Ve.call(e,Ae,We,ge)})},ze=function(Ee){var Ae=void 0;if(Pe("beforeSanitizeElements",Ee,null),Se(Ee)||Ci(Ee.nodeName,/[\u0080-\uFFFF]/))return xe(Ee),!0;var We=St(Ee.nodeName);if(Pe("uponSanitizeElement",Ee,{tagName:We,allowedTags:W}),!De(Ee.firstElementChild)&&(!De(Ee.content)||!De(Ee.content.firstElementChild))&&pt(/<[/\w]/g,Ee.innerHTML)&&pt(/<[/\w]/g,Ee.textContent)||We==="select"&&pt(/<template/i,Ee.innerHTML))return xe(Ee),!0;if(!W[We]||ie[We]){if(j&&!te[We]){var Ve=a(Ee)||Ee.parentNode,Qe=s(Ee)||Ee.childNodes;if(Qe&&Ve)for(var et=Qe.length,Ue=et-1;Ue>=0;--Ue)Ve.insertBefore(r(Qe[Ue],!0),c(Ee))}return xe(Ee),!0}return Ee instanceof _&&!Be(Ee)||(We==="noscript"||We==="noembed")&&pt(/<\/no(script|embed)/i,Ee.innerHTML)?(xe(Ee),!0):(G&&Ee.nodeType===3&&(Ae=Ee.textContent,Ae=bt(Ae,R," "),Ae=bt(Ae,B," "),Ee.textContent!==Ae&&(kt(e.removed,{element:Ee.cloneNode()}),Ee.textContent=Ae)),Pe("afterSanitizeElements",Ee,null),!1)},je=function(Ee,Ae,We){if(Z&&(Ae==="id"||Ae==="name")&&(We in m||We in _e))return!1;if(!(J&&!Y[Ae]&&pt(O,Ae))){if(!(X&&pt(D,Ae))){if(!z[Ae]||Y[Ae])return!1;if(!pe[Ae]){if(!pt(F,bt(We,P,""))){if(!((Ae==="src"||Ae==="xlink:href"||Ae==="href")&&Ee!=="script"&&cn(We,"data:")===0&&de[Ee])){if(!(oe&&!pt(A,bt(We,P,"")))){if(We)return!1}}}}}}return!0},Ye=function(Ee){var Ae=void 0,We=void 0,Ve=void 0,Qe=void 0;Pe("beforeSanitizeAttributes",Ee,null);var et=Ee.attributes;if(!!et){var Ue={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z};for(Qe=et.length;Qe--;){Ae=et[Qe];var Ne=Ae,Re=Ne.name,qe=Ne.namespaceURI;if(We=un(Ae.value),Ve=St(Re),Ue.attrName=Ve,Ue.attrValue=We,Ue.keepAttr=!0,Ue.forceKeepAttr=void 0,Pe("uponSanitizeAttribute",Ee,Ue),We=Ue.attrValue,!Ue.forceKeepAttr&&(Ke(Re,Ee),!!Ue.keepAttr)){if(pt(/\/>/i,We)){Ke(Re,Ee);continue}G&&(We=bt(We,R," "),We=bt(We,B," "));var $e=Ee.nodeName.toLowerCase();if(!!je($e,Ve,We))try{qe?Ee.setAttributeNS(qe,Re,We):Ee.setAttribute(Re,We),pi(e.removed)}catch{}}}Pe("afterSanitizeAttributes",Ee,null)}},He=function Fe(Ee){var Ae=void 0,We=we(Ee);for(Pe("beforeSanitizeShadowDOM",Ee,null);Ae=We.nextNode();)Pe("uponSanitizeShadowNode",Ae,null),!ze(Ae)&&(Ae.content instanceof k&&Fe(Ae.content),Ye(Ae));Pe("afterSanitizeShadowDOM",Ee,null)};return e.sanitize=function(Fe,Ee){var Ae=void 0,We=void 0,Ve=void 0,Qe=void 0,et=void 0;if(ce=!Fe,ce&&(Fe="<!-->"),typeof Fe!="string"&&!De(Fe)){if(typeof Fe.toString!="function")throw vi("toString is not a function");if(Fe=Fe.toString(),typeof Fe!="string")throw vi("dirty is not a string, aborting")}if(!e.isSupported){if(Nt(U.toStaticHTML)==="object"||typeof U.toStaticHTML=="function"){if(typeof Fe=="string")return U.toStaticHTML(Fe);if(De(Fe))return U.toStaticHTML(Fe.outerHTML)}return Fe}if(V||ye(Ee),e.removed=[],typeof Fe=="string"&&($=!1),!$)if(Fe instanceof L)Ae=Ze("<!---->"),We=Ae.ownerDocument.importNode(Fe,!0),We.nodeType===1&&We.nodeName==="BODY"||We.nodeName==="HTML"?Ae=We:Ae.appendChild(We);else{if(!le&&!G&&!x&&Fe.indexOf("<")===-1)return f&&q?f.createHTML(Fe):Fe;if(Ae=Ze(Fe),!Ae)return le?null:g}Ae&&K&&xe(Ae.firstChild);for(var Ue=we($?Fe:Ae);Ve=Ue.nextNode();)Ve.nodeType===3&&Ve===Qe||ze(Ve)||(Ve.content instanceof k&&He(Ve.content),Ye(Ve),Qe=Ve);if(Qe=null,$)return Fe;if(le){if(ae)for(et=S.call(Ae.ownerDocument);Ae.firstChild;)et.appendChild(Ae.firstChild);else et=Ae;return Q&&(et=w.call(E,et,!0)),et}var Ne=x?Ae.outerHTML:Ae.innerHTML;return G&&(Ne=bt(Ne,R," "),Ne=bt(Ne,B," ")),f&&q?f.createHTML(Ne):Ne},e.setConfig=function(Fe){ye(Fe),V=!0},e.clearConfig=function(){ge=null,V=!1},e.isValidAttribute=function(Fe,Ee,Ae){ge||ye({});var We=St(Fe),Ve=St(Ee);return je(We,Ve,Ae)},e.addHook=function(Fe,Ee){typeof Ee=="function"&&(N[Fe]=N[Fe]||[],kt(N[Fe],Ee))},e.removeHook=function(Fe){N[Fe]&&pi(N[Fe])},e.removeHooks=function(Fe){N[Fe]&&(N[Fe]=[])},e.removeAllHooks=function(){N={}},e}var yn=Li();define("vs/base/browser/dompurify/dompurify",function(){return yn}),define(re[32],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFastDomNode=e.FastDomNode=void 0;class E{constructor(L){this.domNode=L,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(L){const _=m(L);this._maxWidth!==_&&(this._maxWidth=_,this.domNode.style.maxWidth=this._maxWidth)}setWidth(L){const _=m(L);this._width!==_&&(this._width=_,this.domNode.style.width=this._width)}setHeight(L){const _=m(L);this._height!==_&&(this._height=_,this.domNode.style.height=this._height)}setTop(L){const _=m(L);this._top!==_&&(this._top=_,this.domNode.style.top=this._top)}setLeft(L){const _=m(L);this._left!==_&&(this._left=_,this.domNode.style.left=this._left)}setBottom(L){const _=m(L);this._bottom!==_&&(this._bottom=_,this.domNode.style.bottom=this._bottom)}setRight(L){const _=m(L);this._right!==_&&(this._right=_,this.domNode.style.right=this._right)}setFontFamily(L){this._fontFamily!==L&&(this._fontFamily=L,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(L){this._fontWeight!==L&&(this._fontWeight=L,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(L){const _=m(L);this._fontSize!==_&&(this._fontSize=_,this.domNode.style.fontSize=this._fontSize)}setFontStyle(L){this._fontStyle!==L&&(this._fontStyle=L,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(L){this._fontFeatureSettings!==L&&(this._fontFeatureSettings=L,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(L){this._textDecoration!==L&&(this._textDecoration=L,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(L){const _=m(L);this._lineHeight!==_&&(this._lineHeight=_,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(L){const _=m(L);this._letterSpacing!==_&&(this._letterSpacing=_,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(L){this._className!==L&&(this._className=L,this.domNode.className=this._className)}toggleClassName(L,_){this.domNode.classList.toggle(L,_),this._className=this.domNode.className}setDisplay(L){this._display!==L&&(this._display=L,this.domNode.style.display=this._display)}setPosition(L){this._position!==L&&(this._position=L,this.domNode.style.position=this._position)}setVisibility(L){this._visibility!==L&&(this._visibility=L,this.domNode.style.visibility=this._visibility)}setColor(L){this._color!==L&&(this._color=L,this.domNode.style.color=this._color)}setBackgroundColor(L){this._backgroundColor!==L&&(this._backgroundColor=L,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(L){this._layerHint!==L&&(this._layerHint=L,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(L){this._boxShadow!==L&&(this._boxShadow=L,this.domNode.style.boxShadow=L)}setContain(L){this._contain!==L&&(this._contain=L,this.domNode.style.contain=this._contain)}setAttribute(L,_){this.domNode.setAttribute(L,_)}removeAttribute(L){this.domNode.removeAttribute(L)}appendChild(L){this.domNode.appendChild(L.domNode)}removeChild(L){this.domNode.removeChild(L.domNode)}}e.FastDomNode=E;function m(I){return typeof I=="number"?`${I}px`:I}function k(I){return new E(I)}e.createFastDomNode=k}),define(re[317],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;let E=!1,m=null;function k(L){if(!L.parent||L.parent===L)return null;try{let _=L.location,v=L.parent.location;if(_.origin!=="null"&&v.origin!=="null"&&_.origin!==v.origin)return E=!0,null}catch{return E=!0,null}return L.parent}class I{static getSameOriginWindowChain(){if(!m){m=[];let _=window,v;do v=k(_),v?m.push({window:_,iframeElement:_.frameElement||null}):m.push({window:_,iframeElement:null}),_=v;while(_)}return m.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(_,v){if(!v||_===v)return{top:0,left:0};let u=0,h=0,i=this.getSameOriginWindowChain();for(const n of i){if(u+=n.window.scrollY,h+=n.window.scrollX,n.window===v||!n.iframeElement)break;let t=n.iframeElement.getBoundingClientRect();u+=t.top,h+=t.left}return{top:u,left:h}}}e.IframeUtils=I}),define(re[318],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class E extends Error{constructor(k,I){super(`ListError [${k}] ${I}`)}}e.ListError=E}),define(re[319],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class E{constructor(k){this.spliceables=k}splice(k,I,L){this.spliceables.forEach(_=>_.splice(k,I,L))}}e.CombinedSpliceable=E}),define(re[217],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const E=20;class m{constructor(I,L,_,v,u,h){this._scrollbarSize=Math.round(L),this._oppositeScrollbarSize=Math.round(_),this._arrowSize=Math.round(I),this._visibleSize=v,this._scrollSize=u,this._scrollPosition=h,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new m(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(I){const L=Math.round(I);return this._visibleSize!==L?(this._visibleSize=L,this._refreshComputedValues(),!0):!1}setScrollSize(I){const L=Math.round(I);return this._scrollSize!==L?(this._scrollSize=L,this._refreshComputedValues(),!0):!1}setScrollPosition(I){const L=Math.round(I);return this._scrollPosition!==L?(this._scrollPosition=L,this._refreshComputedValues(),!0):!1}setScrollbarSize(I){this._scrollbarSize=Math.round(I)}setOppositeScrollbarSize(I){this._oppositeScrollbarSize=Math.round(I)}static _computeValues(I,L,_,v,u){const h=Math.max(0,_-I),i=Math.max(0,h-2*L),n=v>0&&v>_;if(!n)return{computedAvailableSize:Math.round(h),computedIsNeeded:n,computedSliderSize:Math.round(i),computedSliderRatio:0,computedSliderPosition:0};const t=Math.round(Math.max(E,Math.floor(_*i/v))),o=(i-t)/(v-_),d=u*o;return{computedAvailableSize:Math.round(h),computedIsNeeded:n,computedSliderSize:Math.round(t),computedSliderRatio:o,computedSliderPosition:Math.round(d)}}_refreshComputedValues(){const I=m._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=I.computedAvailableSize,this._computedIsNeeded=I.computedIsNeeded,this._computedSliderSize=I.computedSliderSize,this._computedSliderRatio=I.computedSliderRatio,this._computedSliderPosition=I.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(I){if(!this._computedIsNeeded)return 0;const L=I-this._arrowSize-this._computedSliderSize/2;return Math.round(L/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(I){if(!this._computedIsNeeded)return 0;const L=I-this._arrowSize;let _=this._scrollPosition;return L<this._computedSliderPosition?_-=this._visibleSize:_+=this._visibleSize,_}getDesiredScrollPositionFromDelta(I){if(!this._computedIsNeeded)return 0;const L=this._computedSliderPosition+I;return Math.round(L/this._computedSliderRatio)}}e.ScrollbarState=m}),define(re[115],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=void 0;var E;(function(I){I[I.Unknown=0]="Unknown",I[I.Twistie=1]="Twistie",I[I.Element=2]="Element"})(E=e.TreeMouseEventTarget||(e.TreeMouseEventTarget={}));class m extends Error{constructor(L,_){super(`TreeError [${L}] ${_}`)}}e.TreeError=m;class k{constructor(L){this.fn=L,this._map=new WeakMap}map(L){let _=this._map.get(L);return _||(_=this.fn(L),this._map.set(L,_)),_}}e.WeakMapper=k}),define(re[18],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayQueue=e.findMinBy=e.findLastMaxBy=e.findMaxBy=e.numberComparator=e.compareBy=e.splice=e.insertInto=e.asArray=e.pushMany=e.pushToEnd=e.pushToStart=e.arrayInsert=e.range=e.flatten=e.firstOrDefault=e.lastIndex=e.findLast=e.distinct=e.isNonEmptyArray=e.isFalsyOrEmpty=e.coalesce=e.groupBy=e.quickSelect=e.findFirstInSorted=e.binarySearch=e.equals=e.tail2=e.tail=void 0;function E(B,O=0){return B[B.length-(1+O)]}e.tail=E;function m(B){if(B.length===0)throw new Error("Invalid tail call");return[B.slice(0,B.length-1),B[B.length-1]]}e.tail2=m;function k(B,O,D=(A,P)=>A===P){if(B===O)return!0;if(!B||!O||B.length!==O.length)return!1;for(let A=0,P=B.length;A<P;A++)if(!D(B[A],O[A]))return!1;return!0}e.equals=k;function I(B,O,D){let A=0,P=B.length-1;for(;A<=P;){const F=(A+P)/2|0,W=D(B[F],O);if(W<0)A=F+1;else if(W>0)P=F-1;else return F}return-(A+1)}e.binarySearch=I;function L(B,O){let D=0,A=B.length;if(A===0)return 0;for(;D<A;){const P=Math.floor((D+A)/2);O(B[P])?A=P:D=P+1}return D}e.findFirstInSorted=L;function _(B,O,D){if(B=B|0,B>=O.length)throw new TypeError("invalid index");let A=O[Math.floor(O.length*Math.random())],P=[],F=[],W=[];for(let M of O){const z=D(M,A);z<0?P.push(M):z>0?F.push(M):W.push(M)}return B<P.length?_(B,P,D):B<P.length+W.length?W[0]:_(B-(P.length+W.length),F,D)}e.quickSelect=_;function v(B,O){const D=[];let A;for(const P of B.slice(0).sort(O))!A||O(A[0],P)!==0?(A=[P],D.push(A)):A.push(P);return D}e.groupBy=v;function u(B){return B.filter(O=>!!O)}e.coalesce=u;function h(B){return!Array.isArray(B)||B.length===0}e.isFalsyOrEmpty=h;function i(B){return Array.isArray(B)&&B.length>0}e.isNonEmptyArray=i;function n(B,O=D=>D){const D=new Set;return B.filter(A=>{const P=O(A);return D.has(P)?!1:(D.add(P),!0)})}e.distinct=n;function t(B,O){const D=o(B,O);if(D!==-1)return B[D]}e.findLast=t;function o(B,O){for(let D=B.length-1;D>=0;D--){const A=B[D];if(O(A))return D}return-1}e.lastIndex=o;function d(B,O){return B.length>0?B[0]:O}e.firstOrDefault=d;function r(B){return[].concat(...B)}e.flatten=r;function c(B,O){let D=typeof O=="number"?B:0;typeof O=="number"?D=B:(D=0,O=B);const A=[];if(D<=O)for(let P=D;P<O;P++)A.push(P);else for(let P=D;P>O;P--)A.push(P);return A}e.range=c;function s(B,O,D){const A=B.slice(0,O),P=B.slice(O);return A.concat(D,P)}e.arrayInsert=s;function a(B,O){const D=B.indexOf(O);D>-1&&(B.splice(D,1),B.unshift(O))}e.pushToStart=a;function l(B,O){const D=B.indexOf(O);D>-1&&(B.splice(D,1),B.push(O))}e.pushToEnd=l;function f(B,O){for(const D of O)B.push(D)}e.pushMany=f;function g(B){return Array.isArray(B)?B:[B]}e.asArray=g;function b(B,O,D){const A=C(B,O),P=B.length,F=D.length;B.length=P+F;for(let W=P-1;W>=A;W--)B[W+F]=B[W];for(let W=0;W<F;W++)B[W+A]=D[W]}e.insertInto=b;function p(B,O,D,A){const P=C(B,O),F=B.splice(P,D);return b(B,P,A),F}e.splice=p;function C(B,O){return O<0?Math.max(O+B.length,0):Math.min(O,B.length)}function S(B,O){return(D,A)=>O(B(D),B(A))}e.compareBy=S;const y=(B,O)=>B-O;e.numberComparator=y;function w(B,O){if(B.length===0)return;let D=B[0];for(let A=1;A<B.length;A++){const P=B[A];O(P,D)>0&&(D=P)}return D}e.findMaxBy=w;function T(B,O){if(B.length===0)return;let D=B[0];for(let A=1;A<B.length;A++){const P=B[A];O(P,D)>=0&&(D=P)}return D}e.findLastMaxBy=T;function N(B,O){return w(B,(D,A)=>-O(D,A))}e.findMinBy=N;class R{constructor(O){this.items=O,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(O){let D=this.firstIdx;for(;D<this.items.length&&O(this.items[D]);)D++;const A=D===this.firstIdx?null:this.items.slice(this.firstIdx,D);return this.firstIdx=D,A}takeFromEndWhile(O){let D=this.lastIdx;for(;D>=0&&O(this.items[D]);)D--;const A=D===this.lastIdx?null:this.items.slice(D+1,this.lastIdx+1);return this.lastIdx=D,A}peek(){return this.items[this.firstIdx]}dequeue(){const O=this.items[this.firstIdx];return this.firstIdx++,O}takeCount(O){const D=this.items.slice(this.firstIdx,this.firstIdx+O);return this.firstIdx+=O,D}}e.ArrayQueue=R}),define(re[218],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=void 0;function E(m,k){if(!m)throw new Error(k?`Assertion failed (${k})`:"Assertion Failed")}e.ok=E}),define(re[116],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt8=e.readUInt8=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const E=typeof Buffer!="undefined";let m;class k{constructor(n){this.buffer=n,this.byteLength=this.buffer.byteLength}static wrap(n){return E&&!Buffer.isBuffer(n)&&(n=Buffer.from(n.buffer,n.byteOffset,n.byteLength)),new k(n)}toString(){return E?this.buffer.toString():(m||(m=new TextDecoder),m.decode(this.buffer))}}e.VSBuffer=k;function I(i,n){return i[n+0]<<0>>>0|i[n+1]<<8>>>0}e.readUInt16LE=I;function L(i,n,t){i[t+0]=n&255,n=n>>>8,i[t+1]=n&255}e.writeUInt16LE=L;function _(i,n){return i[n]*Math.pow(2,24)+i[n+1]*Math.pow(2,16)+i[n+2]*Math.pow(2,8)+i[n+3]}e.readUInt32BE=_;function v(i,n,t){i[t+3]=n,n=n>>>8,i[t+2]=n,n=n>>>8,i[t+1]=n,n=n>>>8,i[t]=n}e.writeUInt32BE=v;function u(i,n){return i[n]}e.readUInt8=u;function h(i,n,t){i[t]=n}e.writeUInt8=h}),define(re[219],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CachedFunction=e.LRUCachedFunction=void 0;class E{constructor(I){this.fn=I,this.lastCache=void 0,this.lastArgKey=void 0}get(I){const L=JSON.stringify(I);return this.lastArgKey!==L&&(this.lastArgKey=L,this.lastCache=this.fn(I)),this.lastCache}}e.LRUCachedFunction=E;class m{constructor(I){this.fn=I,this._map=new Map}get cachedValues(){return this._map}get(I){if(this._map.has(I))return this._map.get(I);const L=this.fn(I);return this._map.set(I,L),L}}e.CachedFunction=m}),define(re[28],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSIcon=e.Codicon=e.getCodiconAriaLabel=void 0;function E(I){return I?I.replace(/\$\((.*?)\)/g,(L,_)=>` ${_} `).trim():""}e.getCodiconAriaLabel=E;class m{constructor(L,_,v){this.id=L,this.definition=_,this.description=v,m._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return m._allCodicons}}e.Codicon=m,m._allCodicons=[],m.add=new m("add",{fontCharacter:"\\ea60"}),m.plus=new m("plus",m.add.definition),m.gistNew=new m("gist-new",m.add.definition),m.repoCreate=new m("repo-create",m.add.definition),m.lightbulb=new m("lightbulb",{fontCharacter:"\\ea61"}),m.lightBulb=new m("light-bulb",{fontCharacter:"\\ea61"}),m.repo=new m("repo",{fontCharacter:"\\ea62"}),m.repoDelete=new m("repo-delete",{fontCharacter:"\\ea62"}),m.gistFork=new m("gist-fork",{fontCharacter:"\\ea63"}),m.repoForked=new m("repo-forked",{fontCharacter:"\\ea63"}),m.gitPullRequest=new m("git-pull-request",{fontCharacter:"\\ea64"}),m.gitPullRequestAbandoned=new m("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),m.recordKeys=new m("record-keys",{fontCharacter:"\\ea65"}),m.keyboard=new m("keyboard",{fontCharacter:"\\ea65"}),m.tag=new m("tag",{fontCharacter:"\\ea66"}),m.tagAdd=new m("tag-add",{fontCharacter:"\\ea66"}),m.tagRemove=new m("tag-remove",{fontCharacter:"\\ea66"}),m.person=new m("person",{fontCharacter:"\\ea67"}),m.personFollow=new m("person-follow",{fontCharacter:"\\ea67"}),m.personOutline=new m("person-outline",{fontCharacter:"\\ea67"}),m.personFilled=new m("person-filled",{fontCharacter:"\\ea67"}),m.gitBranch=new m("git-branch",{fontCharacter:"\\ea68"}),m.gitBranchCreate=new m("git-branch-create",{fontCharacter:"\\ea68"}),m.gitBranchDelete=new m("git-branch-delete",{fontCharacter:"\\ea68"}),m.sourceControl=new m("source-control",{fontCharacter:"\\ea68"}),m.mirror=new m("mirror",{fontCharacter:"\\ea69"}),m.mirrorPublic=new m("mirror-public",{fontCharacter:"\\ea69"}),m.star=new m("star",{fontCharacter:"\\ea6a"}),m.starAdd=new m("star-add",{fontCharacter:"\\ea6a"}),m.starDelete=new m("star-delete",{fontCharacter:"\\ea6a"}),m.starEmpty=new m("star-empty",{fontCharacter:"\\ea6a"}),m.comment=new m("comment",{fontCharacter:"\\ea6b"}),m.commentAdd=new m("comment-add",{fontCharacter:"\\ea6b"}),m.alert=new m("alert",{fontCharacter:"\\ea6c"}),m.warning=new m("warning",{fontCharacter:"\\ea6c"}),m.search=new m("search",{fontCharacter:"\\ea6d"}),m.searchSave=new m("search-save",{fontCharacter:"\\ea6d"}),m.logOut=new m("log-out",{fontCharacter:"\\ea6e"}),m.signOut=new m("sign-out",{fontCharacter:"\\ea6e"}),m.logIn=new m("log-in",{fontCharacter:"\\ea6f"}),m.signIn=new m("sign-in",{fontCharacter:"\\ea6f"}),m.eye=new m("eye",{fontCharacter:"\\ea70"}),m.eyeUnwatch=new m("eye-unwatch",{fontCharacter:"\\ea70"}),m.eyeWatch=new m("eye-watch",{fontCharacter:"\\ea70"}),m.circleFilled=new m("circle-filled",{fontCharacter:"\\ea71"}),m.primitiveDot=new m("primitive-dot",{fontCharacter:"\\ea71"}),m.closeDirty=new m("close-dirty",{fontCharacter:"\\ea71"}),m.debugBreakpoint=new m("debug-breakpoint",{fontCharacter:"\\ea71"}),m.debugBreakpointDisabled=new m("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),m.debugHint=new m("debug-hint",{fontCharacter:"\\ea71"}),m.primitiveSquare=new m("primitive-square",{fontCharacter:"\\ea72"}),m.edit=new m("edit",{fontCharacter:"\\ea73"}),m.pencil=new m("pencil",{fontCharacter:"\\ea73"}),m.info=new m("info",{fontCharacter:"\\ea74"}),m.issueOpened=new m("issue-opened",{fontCharacter:"\\ea74"}),m.gistPrivate=new m("gist-private",{fontCharacter:"\\ea75"}),m.gitForkPrivate=new m("git-fork-private",{fontCharacter:"\\ea75"}),m.lock=new m("lock",{fontCharacter:"\\ea75"}),m.mirrorPrivate=new m("mirror-private",{fontCharacter:"\\ea75"}),m.close=new m("close",{fontCharacter:"\\ea76"}),m.removeClose=new m("remove-close",{fontCharacter:"\\ea76"}),m.x=new m("x",{fontCharacter:"\\ea76"}),m.repoSync=new m("repo-sync",{fontCharacter:"\\ea77"}),m.sync=new m("sync",{fontCharacter:"\\ea77"}),m.clone=new m("clone",{fontCharacter:"\\ea78"}),m.desktopDownload=new m("desktop-download",{fontCharacter:"\\ea78"}),m.beaker=new m("beaker",{fontCharacter:"\\ea79"}),m.microscope=new m("microscope",{fontCharacter:"\\ea79"}),m.vm=new m("vm",{fontCharacter:"\\ea7a"}),m.deviceDesktop=new m("device-desktop",{fontCharacter:"\\ea7a"}),m.file=new m("file",{fontCharacter:"\\ea7b"}),m.fileText=new m("file-text",{fontCharacter:"\\ea7b"}),m.more=new m("more",{fontCharacter:"\\ea7c"}),m.ellipsis=new m("ellipsis",{fontCharacter:"\\ea7c"}),m.kebabHorizontal=new m("kebab-horizontal",{fontCharacter:"\\ea7c"}),m.mailReply=new m("mail-reply",{fontCharacter:"\\ea7d"}),m.reply=new m("reply",{fontCharacter:"\\ea7d"}),m.organization=new m("organization",{fontCharacter:"\\ea7e"}),m.organizationFilled=new m("organization-filled",{fontCharacter:"\\ea7e"}),m.organizationOutline=new m("organization-outline",{fontCharacter:"\\ea7e"}),m.newFile=new m("new-file",{fontCharacter:"\\ea7f"}),m.fileAdd=new m("file-add",{fontCharacter:"\\ea7f"}),m.newFolder=new m("new-folder",{fontCharacter:"\\ea80"}),m.fileDirectoryCreate=new m("file-directory-create",{fontCharacter:"\\ea80"}),m.trash=new m("trash",{fontCharacter:"\\ea81"}),m.trashcan=new m("trashcan",{fontCharacter:"\\ea81"}),m.history=new m("history",{fontCharacter:"\\ea82"}),m.clock=new m("clock",{fontCharacter:"\\ea82"}),m.folder=new m("folder",{fontCharacter:"\\ea83"}),m.fileDirectory=new m("file-directory",{fontCharacter:"\\ea83"}),m.symbolFolder=new m("symbol-folder",{fontCharacter:"\\ea83"}),m.logoGithub=new m("logo-github",{fontCharacter:"\\ea84"}),m.markGithub=new m("mark-github",{fontCharacter:"\\ea84"}),m.github=new m("github",{fontCharacter:"\\ea84"}),m.terminal=new m("terminal",{fontCharacter:"\\ea85"}),m.console=new m("console",{fontCharacter:"\\ea85"}),m.repl=new m("repl",{fontCharacter:"\\ea85"}),m.zap=new m("zap",{fontCharacter:"\\ea86"}),m.symbolEvent=new m("symbol-event",{fontCharacter:"\\ea86"}),m.error=new m("error",{fontCharacter:"\\ea87"}),m.stop=new m("stop",{fontCharacter:"\\ea87"}),m.variable=new m("variable",{fontCharacter:"\\ea88"}),m.symbolVariable=new m("symbol-variable",{fontCharacter:"\\ea88"}),m.array=new m("array",{fontCharacter:"\\ea8a"}),m.symbolArray=new m("symbol-array",{fontCharacter:"\\ea8a"}),m.symbolModule=new m("symbol-module",{fontCharacter:"\\ea8b"}),m.symbolPackage=new m("symbol-package",{fontCharacter:"\\ea8b"}),m.symbolNamespace=new m("symbol-namespace",{fontCharacter:"\\ea8b"}),m.symbolObject=new m("symbol-object",{fontCharacter:"\\ea8b"}),m.symbolMethod=new m("symbol-method",{fontCharacter:"\\ea8c"}),m.symbolFunction=new m("symbol-function",{fontCharacter:"\\ea8c"}),m.symbolConstructor=new m("symbol-constructor",{fontCharacter:"\\ea8c"}),m.symbolBoolean=new m("symbol-boolean",{fontCharacter:"\\ea8f"}),m.symbolNull=new m("symbol-null",{fontCharacter:"\\ea8f"}),m.symbolNumeric=new m("symbol-numeric",{fontCharacter:"\\ea90"}),m.symbolNumber=new m("symbol-number",{fontCharacter:"\\ea90"}),m.symbolStructure=new m("symbol-structure",{fontCharacter:"\\ea91"}),m.symbolStruct=new m("symbol-struct",{fontCharacter:"\\ea91"}),m.symbolParameter=new m("symbol-parameter",{fontCharacter:"\\ea92"}),m.symbolTypeParameter=new m("symbol-type-parameter",{fontCharacter:"\\ea92"}),m.symbolKey=new m("symbol-key",{fontCharacter:"\\ea93"}),m.symbolText=new m("symbol-text",{fontCharacter:"\\ea93"}),m.symbolReference=new m("symbol-reference",{fontCharacter:"\\ea94"}),m.goToFile=new m("go-to-file",{fontCharacter:"\\ea94"}),m.symbolEnum=new m("symbol-enum",{fontCharacter:"\\ea95"}),m.symbolValue=new m("symbol-value",{fontCharacter:"\\ea95"}),m.symbolRuler=new m("symbol-ruler",{fontCharacter:"\\ea96"}),m.symbolUnit=new m("symbol-unit",{fontCharacter:"\\ea96"}),m.activateBreakpoints=new m("activate-breakpoints",{fontCharacter:"\\ea97"}),m.archive=new m("archive",{fontCharacter:"\\ea98"}),m.arrowBoth=new m("arrow-both",{fontCharacter:"\\ea99"}),m.arrowDown=new m("arrow-down",{fontCharacter:"\\ea9a"}),m.arrowLeft=new m("arrow-left",{fontCharacter:"\\ea9b"}),m.arrowRight=new m("arrow-right",{fontCharacter:"\\ea9c"}),m.arrowSmallDown=new m("arrow-small-down",{fontCharacter:"\\ea9d"}),m.arrowSmallLeft=new m("arrow-small-left",{fontCharacter:"\\ea9e"}),m.arrowSmallRight=new m("arrow-small-right",{fontCharacter:"\\ea9f"}),m.arrowSmallUp=new m("arrow-small-up",{fontCharacter:"\\eaa0"}),m.arrowUp=new m("arrow-up",{fontCharacter:"\\eaa1"}),m.bell=new m("bell",{fontCharacter:"\\eaa2"}),m.bold=new m("bold",{fontCharacter:"\\eaa3"}),m.book=new m("book",{fontCharacter:"\\eaa4"}),m.bookmark=new m("bookmark",{fontCharacter:"\\eaa5"}),m.debugBreakpointConditionalUnverified=new m("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),m.debugBreakpointConditional=new m("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),m.debugBreakpointConditionalDisabled=new m("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),m.debugBreakpointDataUnverified=new m("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),m.debugBreakpointData=new m("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),m.debugBreakpointDataDisabled=new m("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),m.debugBreakpointLogUnverified=new m("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),m.debugBreakpointLog=new m("debug-breakpoint-log",{fontCharacter:"\\eaab"}),m.debugBreakpointLogDisabled=new m("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),m.briefcase=new m("briefcase",{fontCharacter:"\\eaac"}),m.broadcast=new m("broadcast",{fontCharacter:"\\eaad"}),m.browser=new m("browser",{fontCharacter:"\\eaae"}),m.bug=new m("bug",{fontCharacter:"\\eaaf"}),m.calendar=new m("calendar",{fontCharacter:"\\eab0"}),m.caseSensitive=new m("case-sensitive",{fontCharacter:"\\eab1"}),m.check=new m("check",{fontCharacter:"\\eab2"}),m.checklist=new m("checklist",{fontCharacter:"\\eab3"}),m.chevronDown=new m("chevron-down",{fontCharacter:"\\eab4"}),m.dropDownButton=new m("drop-down-button",m.chevronDown.definition),m.chevronLeft=new m("chevron-left",{fontCharacter:"\\eab5"}),m.chevronRight=new m("chevron-right",{fontCharacter:"\\eab6"}),m.chevronUp=new m("chevron-up",{fontCharacter:"\\eab7"}),m.chromeClose=new m("chrome-close",{fontCharacter:"\\eab8"}),m.chromeMaximize=new m("chrome-maximize",{fontCharacter:"\\eab9"}),m.chromeMinimize=new m("chrome-minimize",{fontCharacter:"\\eaba"}),m.chromeRestore=new m("chrome-restore",{fontCharacter:"\\eabb"}),m.circleOutline=new m("circle-outline",{fontCharacter:"\\eabc"}),m.debugBreakpointUnverified=new m("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),m.circleSlash=new m("circle-slash",{fontCharacter:"\\eabd"}),m.circuitBoard=new m("circuit-board",{fontCharacter:"\\eabe"}),m.clearAll=new m("clear-all",{fontCharacter:"\\eabf"}),m.clippy=new m("clippy",{fontCharacter:"\\eac0"}),m.closeAll=new m("close-all",{fontCharacter:"\\eac1"}),m.cloudDownload=new m("cloud-download",{fontCharacter:"\\eac2"}),m.cloudUpload=new m("cloud-upload",{fontCharacter:"\\eac3"}),m.code=new m("code",{fontCharacter:"\\eac4"}),m.collapseAll=new m("collapse-all",{fontCharacter:"\\eac5"}),m.colorMode=new m("color-mode",{fontCharacter:"\\eac6"}),m.commentDiscussion=new m("comment-discussion",{fontCharacter:"\\eac7"}),m.compareChanges=new m("compare-changes",{fontCharacter:"\\eafd"}),m.creditCard=new m("credit-card",{fontCharacter:"\\eac9"}),m.dash=new m("dash",{fontCharacter:"\\eacc"}),m.dashboard=new m("dashboard",{fontCharacter:"\\eacd"}),m.database=new m("database",{fontCharacter:"\\eace"}),m.debugContinue=new m("debug-continue",{fontCharacter:"\\eacf"}),m.debugDisconnect=new m("debug-disconnect",{fontCharacter:"\\ead0"}),m.debugPause=new m("debug-pause",{fontCharacter:"\\ead1"}),m.debugRestart=new m("debug-restart",{fontCharacter:"\\ead2"}),m.debugStart=new m("debug-start",{fontCharacter:"\\ead3"}),m.debugStepInto=new m("debug-step-into",{fontCharacter:"\\ead4"}),m.debugStepOut=new m("debug-step-out",{fontCharacter:"\\ead5"}),m.debugStepOver=new m("debug-step-over",{fontCharacter:"\\ead6"}),m.debugStop=new m("debug-stop",{fontCharacter:"\\ead7"}),m.debug=new m("debug",{fontCharacter:"\\ead8"}),m.deviceCameraVideo=new m("device-camera-video",{fontCharacter:"\\ead9"}),m.deviceCamera=new m("device-camera",{fontCharacter:"\\eada"}),m.deviceMobile=new m("device-mobile",{fontCharacter:"\\eadb"}),m.diffAdded=new m("diff-added",{fontCharacter:"\\eadc"}),m.diffIgnored=new m("diff-ignored",{fontCharacter:"\\eadd"}),m.diffModified=new m("diff-modified",{fontCharacter:"\\eade"}),m.diffRemoved=new m("diff-removed",{fontCharacter:"\\eadf"}),m.diffRenamed=new m("diff-renamed",{fontCharacter:"\\eae0"}),m.diff=new m("diff",{fontCharacter:"\\eae1"}),m.discard=new m("discard",{fontCharacter:"\\eae2"}),m.editorLayout=new m("editor-layout",{fontCharacter:"\\eae3"}),m.emptyWindow=new m("empty-window",{fontCharacter:"\\eae4"}),m.exclude=new m("exclude",{fontCharacter:"\\eae5"}),m.extensions=new m("extensions",{fontCharacter:"\\eae6"}),m.eyeClosed=new m("eye-closed",{fontCharacter:"\\eae7"}),m.fileBinary=new m("file-binary",{fontCharacter:"\\eae8"}),m.fileCode=new m("file-code",{fontCharacter:"\\eae9"}),m.fileMedia=new m("file-media",{fontCharacter:"\\eaea"}),m.filePdf=new m("file-pdf",{fontCharacter:"\\eaeb"}),m.fileSubmodule=new m("file-submodule",{fontCharacter:"\\eaec"}),m.fileSymlinkDirectory=new m("file-symlink-directory",{fontCharacter:"\\eaed"}),m.fileSymlinkFile=new m("file-symlink-file",{fontCharacter:"\\eaee"}),m.fileZip=new m("file-zip",{fontCharacter:"\\eaef"}),m.files=new m("files",{fontCharacter:"\\eaf0"}),m.filter=new m("filter",{fontCharacter:"\\eaf1"}),m.flame=new m("flame",{fontCharacter:"\\eaf2"}),m.foldDown=new m("fold-down",{fontCharacter:"\\eaf3"}),m.foldUp=new m("fold-up",{fontCharacter:"\\eaf4"}),m.fold=new m("fold",{fontCharacter:"\\eaf5"}),m.folderActive=new m("folder-active",{fontCharacter:"\\eaf6"}),m.folderOpened=new m("folder-opened",{fontCharacter:"\\eaf7"}),m.gear=new m("gear",{fontCharacter:"\\eaf8"}),m.gift=new m("gift",{fontCharacter:"\\eaf9"}),m.gistSecret=new m("gist-secret",{fontCharacter:"\\eafa"}),m.gist=new m("gist",{fontCharacter:"\\eafb"}),m.gitCommit=new m("git-commit",{fontCharacter:"\\eafc"}),m.gitCompare=new m("git-compare",{fontCharacter:"\\eafd"}),m.gitMerge=new m("git-merge",{fontCharacter:"\\eafe"}),m.githubAction=new m("github-action",{fontCharacter:"\\eaff"}),m.githubAlt=new m("github-alt",{fontCharacter:"\\eb00"}),m.globe=new m("globe",{fontCharacter:"\\eb01"}),m.grabber=new m("grabber",{fontCharacter:"\\eb02"}),m.graph=new m("graph",{fontCharacter:"\\eb03"}),m.gripper=new m("gripper",{fontCharacter:"\\eb04"}),m.heart=new m("heart",{fontCharacter:"\\eb05"}),m.home=new m("home",{fontCharacter:"\\eb06"}),m.horizontalRule=new m("horizontal-rule",{fontCharacter:"\\eb07"}),m.hubot=new m("hubot",{fontCharacter:"\\eb08"}),m.inbox=new m("inbox",{fontCharacter:"\\eb09"}),m.issueClosed=new m("issue-closed",{fontCharacter:"\\eba4"}),m.issueReopened=new m("issue-reopened",{fontCharacter:"\\eb0b"}),m.issues=new m("issues",{fontCharacter:"\\eb0c"}),m.italic=new m("italic",{fontCharacter:"\\eb0d"}),m.jersey=new m("jersey",{fontCharacter:"\\eb0e"}),m.json=new m("json",{fontCharacter:"\\eb0f"}),m.kebabVertical=new m("kebab-vertical",{fontCharacter:"\\eb10"}),m.key=new m("key",{fontCharacter:"\\eb11"}),m.law=new m("law",{fontCharacter:"\\eb12"}),m.lightbulbAutofix=new m("lightbulb-autofix",{fontCharacter:"\\eb13"}),m.linkExternal=new m("link-external",{fontCharacter:"\\eb14"}),m.link=new m("link",{fontCharacter:"\\eb15"}),m.listOrdered=new m("list-ordered",{fontCharacter:"\\eb16"}),m.listUnordered=new m("list-unordered",{fontCharacter:"\\eb17"}),m.liveShare=new m("live-share",{fontCharacter:"\\eb18"}),m.loading=new m("loading",{fontCharacter:"\\eb19"}),m.location=new m("location",{fontCharacter:"\\eb1a"}),m.mailRead=new m("mail-read",{fontCharacter:"\\eb1b"}),m.mail=new m("mail",{fontCharacter:"\\eb1c"}),m.markdown=new m("markdown",{fontCharacter:"\\eb1d"}),m.megaphone=new m("megaphone",{fontCharacter:"\\eb1e"}),m.mention=new m("mention",{fontCharacter:"\\eb1f"}),m.milestone=new m("milestone",{fontCharacter:"\\eb20"}),m.mortarBoard=new m("mortar-board",{fontCharacter:"\\eb21"}),m.move=new m("move",{fontCharacter:"\\eb22"}),m.multipleWindows=new m("multiple-windows",{fontCharacter:"\\eb23"}),m.mute=new m("mute",{fontCharacter:"\\eb24"}),m.noNewline=new m("no-newline",{fontCharacter:"\\eb25"}),m.note=new m("note",{fontCharacter:"\\eb26"}),m.octoface=new m("octoface",{fontCharacter:"\\eb27"}),m.openPreview=new m("open-preview",{fontCharacter:"\\eb28"}),m.package_=new m("package",{fontCharacter:"\\eb29"}),m.paintcan=new m("paintcan",{fontCharacter:"\\eb2a"}),m.pin=new m("pin",{fontCharacter:"\\eb2b"}),m.play=new m("play",{fontCharacter:"\\eb2c"}),m.run=new m("run",{fontCharacter:"\\eb2c"}),m.plug=new m("plug",{fontCharacter:"\\eb2d"}),m.preserveCase=new m("preserve-case",{fontCharacter:"\\eb2e"}),m.preview=new m("preview",{fontCharacter:"\\eb2f"}),m.project=new m("project",{fontCharacter:"\\eb30"}),m.pulse=new m("pulse",{fontCharacter:"\\eb31"}),m.question=new m("question",{fontCharacter:"\\eb32"}),m.quote=new m("quote",{fontCharacter:"\\eb33"}),m.radioTower=new m("radio-tower",{fontCharacter:"\\eb34"}),m.reactions=new m("reactions",{fontCharacter:"\\eb35"}),m.references=new m("references",{fontCharacter:"\\eb36"}),m.refresh=new m("refresh",{fontCharacter:"\\eb37"}),m.regex=new m("regex",{fontCharacter:"\\eb38"}),m.remoteExplorer=new m("remote-explorer",{fontCharacter:"\\eb39"}),m.remote=new m("remote",{fontCharacter:"\\eb3a"}),m.remove=new m("remove",{fontCharacter:"\\eb3b"}),m.replaceAll=new m("replace-all",{fontCharacter:"\\eb3c"}),m.replace=new m("replace",{fontCharacter:"\\eb3d"}),m.repoClone=new m("repo-clone",{fontCharacter:"\\eb3e"}),m.repoForcePush=new m("repo-force-push",{fontCharacter:"\\eb3f"}),m.repoPull=new m("repo-pull",{fontCharacter:"\\eb40"}),m.repoPush=new m("repo-push",{fontCharacter:"\\eb41"}),m.report=new m("report",{fontCharacter:"\\eb42"}),m.requestChanges=new m("request-changes",{fontCharacter:"\\eb43"}),m.rocket=new m("rocket",{fontCharacter:"\\eb44"}),m.rootFolderOpened=new m("root-folder-opened",{fontCharacter:"\\eb45"}),m.rootFolder=new m("root-folder",{fontCharacter:"\\eb46"}),m.rss=new m("rss",{fontCharacter:"\\eb47"}),m.ruby=new m("ruby",{fontCharacter:"\\eb48"}),m.saveAll=new m("save-all",{fontCharacter:"\\eb49"}),m.saveAs=new m("save-as",{fontCharacter:"\\eb4a"}),m.save=new m("save",{fontCharacter:"\\eb4b"}),m.screenFull=new m("screen-full",{fontCharacter:"\\eb4c"}),m.screenNormal=new m("screen-normal",{fontCharacter:"\\eb4d"}),m.searchStop=new m("search-stop",{fontCharacter:"\\eb4e"}),m.server=new m("server",{fontCharacter:"\\eb50"}),m.settingsGear=new m("settings-gear",{fontCharacter:"\\eb51"}),m.settings=new m("settings",{fontCharacter:"\\eb52"}),m.shield=new m("shield",{fontCharacter:"\\eb53"}),m.smiley=new m("smiley",{fontCharacter:"\\eb54"}),m.sortPrecedence=new m("sort-precedence",{fontCharacter:"\\eb55"}),m.splitHorizontal=new m("split-horizontal",{fontCharacter:"\\eb56"}),m.splitVertical=new m("split-vertical",{fontCharacter:"\\eb57"}),m.squirrel=new m("squirrel",{fontCharacter:"\\eb58"}),m.starFull=new m("star-full",{fontCharacter:"\\eb59"}),m.starHalf=new m("star-half",{fontCharacter:"\\eb5a"}),m.symbolClass=new m("symbol-class",{fontCharacter:"\\eb5b"}),m.symbolColor=new m("symbol-color",{fontCharacter:"\\eb5c"}),m.symbolCustomColor=new m("symbol-customcolor",{fontCharacter:"\\eb5c"}),m.symbolConstant=new m("symbol-constant",{fontCharacter:"\\eb5d"}),m.symbolEnumMember=new m("symbol-enum-member",{fontCharacter:"\\eb5e"}),m.symbolField=new m("symbol-field",{fontCharacter:"\\eb5f"}),m.symbolFile=new m("symbol-file",{fontCharacter:"\\eb60"}),m.symbolInterface=new m("symbol-interface",{fontCharacter:"\\eb61"}),m.symbolKeyword=new m("symbol-keyword",{fontCharacter:"\\eb62"}),m.symbolMisc=new m("symbol-misc",{fontCharacter:"\\eb63"}),m.symbolOperator=new m("symbol-operator",{fontCharacter:"\\eb64"}),m.symbolProperty=new m("symbol-property",{fontCharacter:"\\eb65"}),m.wrench=new m("wrench",{fontCharacter:"\\eb65"}),m.wrenchSubaction=new m("wrench-subaction",{fontCharacter:"\\eb65"}),m.symbolSnippet=new m("symbol-snippet",{fontCharacter:"\\eb66"}),m.tasklist=new m("tasklist",{fontCharacter:"\\eb67"}),m.telescope=new m("telescope",{fontCharacter:"\\eb68"}),m.textSize=new m("text-size",{fontCharacter:"\\eb69"}),m.threeBars=new m("three-bars",{fontCharacter:"\\eb6a"}),m.thumbsdown=new m("thumbsdown",{fontCharacter:"\\eb6b"}),m.thumbsup=new m("thumbsup",{fontCharacter:"\\eb6c"}),m.tools=new m("tools",{fontCharacter:"\\eb6d"}),m.triangleDown=new m("triangle-down",{fontCharacter:"\\eb6e"}),m.triangleLeft=new m("triangle-left",{fontCharacter:"\\eb6f"}),m.triangleRight=new m("triangle-right",{fontCharacter:"\\eb70"}),m.triangleUp=new m("triangle-up",{fontCharacter:"\\eb71"}),m.twitter=new m("twitter",{fontCharacter:"\\eb72"}),m.unfold=new m("unfold",{fontCharacter:"\\eb73"}),m.unlock=new m("unlock",{fontCharacter:"\\eb74"}),m.unmute=new m("unmute",{fontCharacter:"\\eb75"}),m.unverified=new m("unverified",{fontCharacter:"\\eb76"}),m.verified=new m("verified",{fontCharacter:"\\eb77"}),m.versions=new m("versions",{fontCharacter:"\\eb78"}),m.vmActive=new m("vm-active",{fontCharacter:"\\eb79"}),m.vmOutline=new m("vm-outline",{fontCharacter:"\\eb7a"}),m.vmRunning=new m("vm-running",{fontCharacter:"\\eb7b"}),m.watch=new m("watch",{fontCharacter:"\\eb7c"}),m.whitespace=new m("whitespace",{fontCharacter:"\\eb7d"}),m.wholeWord=new m("whole-word",{fontCharacter:"\\eb7e"}),m.window=new m("window",{fontCharacter:"\\eb7f"}),m.wordWrap=new m("word-wrap",{fontCharacter:"\\eb80"}),m.zoomIn=new m("zoom-in",{fontCharacter:"\\eb81"}),m.zoomOut=new m("zoom-out",{fontCharacter:"\\eb82"}),m.listFilter=new m("list-filter",{fontCharacter:"\\eb83"}),m.listFlat=new m("list-flat",{fontCharacter:"\\eb84"}),m.listSelection=new m("list-selection",{fontCharacter:"\\eb85"}),m.selection=new m("selection",{fontCharacter:"\\eb85"}),m.listTree=new m("list-tree",{fontCharacter:"\\eb86"}),m.debugBreakpointFunctionUnverified=new m("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),m.debugBreakpointFunction=new m("debug-breakpoint-function",{fontCharacter:"\\eb88"}),m.debugBreakpointFunctionDisabled=new m("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),m.debugStackframeActive=new m("debug-stackframe-active",{fontCharacter:"\\eb89"}),m.debugStackframeDot=new m("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),m.debugStackframe=new m("debug-stackframe",{fontCharacter:"\\eb8b"}),m.debugStackframeFocused=new m("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),m.debugBreakpointUnsupported=new m("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),m.symbolString=new m("symbol-string",{fontCharacter:"\\eb8d"}),m.debugReverseContinue=new m("debug-reverse-continue",{fontCharacter:"\\eb8e"}),m.debugStepBack=new m("debug-step-back",{fontCharacter:"\\eb8f"}),m.debugRestartFrame=new m("debug-restart-frame",{fontCharacter:"\\eb90"}),m.callIncoming=new m("call-incoming",{fontCharacter:"\\eb92"}),m.callOutgoing=new m("call-outgoing",{fontCharacter:"\\eb93"}),m.menu=new m("menu",{fontCharacter:"\\eb94"}),m.expandAll=new m("expand-all",{fontCharacter:"\\eb95"}),m.feedback=new m("feedback",{fontCharacter:"\\eb96"}),m.groupByRefType=new m("group-by-ref-type",{fontCharacter:"\\eb97"}),m.ungroupByRefType=new m("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),m.account=new m("account",{fontCharacter:"\\eb99"}),m.bellDot=new m("bell-dot",{fontCharacter:"\\eb9a"}),m.debugConsole=new m("debug-console",{fontCharacter:"\\eb9b"}),m.library=new m("library",{fontCharacter:"\\eb9c"}),m.output=new m("output",{fontCharacter:"\\eb9d"}),m.runAll=new m("run-all",{fontCharacter:"\\eb9e"}),m.syncIgnored=new m("sync-ignored",{fontCharacter:"\\eb9f"}),m.pinned=new m("pinned",{fontCharacter:"\\eba0"}),m.githubInverted=new m("github-inverted",{fontCharacter:"\\eba1"}),m.debugAlt=new m("debug-alt",{fontCharacter:"\\eb91"}),m.serverProcess=new m("server-process",{fontCharacter:"\\eba2"}),m.serverEnvironment=new m("server-environment",{fontCharacter:"\\eba3"}),m.pass=new m("pass",{fontCharacter:"\\eba4"}),m.stopCircle=new m("stop-circle",{fontCharacter:"\\eba5"}),m.playCircle=new m("play-circle",{fontCharacter:"\\eba6"}),m.record=new m("record",{fontCharacter:"\\eba7"}),m.debugAltSmall=new m("debug-alt-small",{fontCharacter:"\\eba8"}),m.vmConnect=new m("vm-connect",{fontCharacter:"\\eba9"}),m.cloud=new m("cloud",{fontCharacter:"\\ebaa"}),m.merge=new m("merge",{fontCharacter:"\\ebab"}),m.exportIcon=new m("export",{fontCharacter:"\\ebac"}),m.graphLeft=new m("graph-left",{fontCharacter:"\\ebad"}),m.magnet=new m("magnet",{fontCharacter:"\\ebae"}),m.notebook=new m("notebook",{fontCharacter:"\\ebaf"}),m.redo=new m("redo",{fontCharacter:"\\ebb0"}),m.checkAll=new m("check-all",{fontCharacter:"\\ebb1"}),m.pinnedDirty=new m("pinned-dirty",{fontCharacter:"\\ebb2"}),m.passFilled=new m("pass-filled",{fontCharacter:"\\ebb3"}),m.circleLargeFilled=new m("circle-large-filled",{fontCharacter:"\\ebb4"}),m.circleLargeOutline=new m("circle-large-outline",{fontCharacter:"\\ebb5"}),m.combine=new m("combine",{fontCharacter:"\\ebb6"}),m.gather=new m("gather",{fontCharacter:"\\ebb6"}),m.table=new m("table",{fontCharacter:"\\ebb7"}),m.variableGroup=new m("variable-group",{fontCharacter:"\\ebb8"}),m.typeHierarchy=new m("type-hierarchy",{fontCharacter:"\\ebb9"}),m.typeHierarchySub=new m("type-hierarchy-sub",{fontCharacter:"\\ebba"}),m.typeHierarchySuper=new m("type-hierarchy-super",{fontCharacter:"\\ebbb"}),m.gitPullRequestCreate=new m("git-pull-request-create",{fontCharacter:"\\ebbc"}),m.runAbove=new m("run-above",{fontCharacter:"\\ebbd"}),m.runBelow=new m("run-below",{fontCharacter:"\\ebbe"}),m.notebookTemplate=new m("notebook-template",{fontCharacter:"\\ebbf"}),m.debugRerun=new m("debug-rerun",{fontCharacter:"\\ebc0"}),m.workspaceTrusted=new m("workspace-trusted",{fontCharacter:"\\ebc1"}),m.workspaceUntrusted=new m("workspace-untrusted",{fontCharacter:"\\ebc2"}),m.workspaceUnspecified=new m("workspace-unspecified",{fontCharacter:"\\ebc3"}),m.terminalCmd=new m("terminal-cmd",{fontCharacter:"\\ebc4"}),m.terminalDebian=new m("terminal-debian",{fontCharacter:"\\ebc5"}),m.terminalLinux=new m("terminal-linux",{fontCharacter:"\\ebc6"}),m.terminalPowershell=new m("terminal-powershell",{fontCharacter:"\\ebc7"}),m.terminalTmux=new m("terminal-tmux",{fontCharacter:"\\ebc8"}),m.terminalUbuntu=new m("terminal-ubuntu",{fontCharacter:"\\ebc9"}),m.terminalBash=new m("terminal-bash",{fontCharacter:"\\ebca"}),m.arrowSwap=new m("arrow-swap",{fontCharacter:"\\ebcb"}),m.copy=new m("copy",{fontCharacter:"\\ebcc"}),m.personAdd=new m("person-add",{fontCharacter:"\\ebcd"}),m.filterFilled=new m("filter-filled",{fontCharacter:"\\ebce"}),m.wand=new m("wand",{fontCharacter:"\\ebcf"}),m.debugLineByLine=new m("debug-line-by-line",{fontCharacter:"\\ebd0"}),m.inspect=new m("inspect",{fontCharacter:"\\ebd1"}),m.layers=new m("layers",{fontCharacter:"\\ebd2"}),m.layersDot=new m("layers-dot",{fontCharacter:"\\ebd3"}),m.layersActive=new m("layers-active",{fontCharacter:"\\ebd4"}),m.compass=new m("compass",{fontCharacter:"\\ebd5"}),m.compassDot=new m("compass-dot",{fontCharacter:"\\ebd6"}),m.compassActive=new m("compass-active",{fontCharacter:"\\ebd7"}),m.azure=new m("azure",{fontCharacter:"\\ebd8"}),m.issueDraft=new m("issue-draft",{fontCharacter:"\\ebd9"}),m.gitPullRequestClosed=new m("git-pull-request-closed",{fontCharacter:"\\ebda"}),m.gitPullRequestDraft=new m("git-pull-request-draft",{fontCharacter:"\\ebdb"}),m.debugAll=new m("debug-all",{fontCharacter:"\\ebdc"}),m.debugCoverage=new m("debug-coverage",{fontCharacter:"\\ebdd"}),m.runErrors=new m("run-errors",{fontCharacter:"\\ebde"}),m.folderLibrary=new m("folder-library",{fontCharacter:"\\ebdf"}),m.debugContinueSmall=new m("debug-continue-small",{fontCharacter:"\\ebe0"}),m.beakerStop=new m("beaker-stop",{fontCharacter:"\\ebe1"}),m.graphLine=new m("graph-line",{fontCharacter:"\\ebe2"}),m.graphScatter=new m("graph-scatter",{fontCharacter:"\\ebe3"}),m.pieChart=new m("pie-chart",{fontCharacter:"\\ebe4"}),m.bracket=new m("bracket",m.json.definition),m.bracketDot=new m("bracket-dot",{fontCharacter:"\\ebe5"}),m.bracketError=new m("bracket-error",{fontCharacter:"\\ebe6"}),m.lockSmall=new m("lock-small",{fontCharacter:"\\ebe7"}),m.azureDevops=new m("azure-devops",{fontCharacter:"\\ebe8"}),m.verifiedFilled=new m("verified-filled",{fontCharacter:"\\ebe9"}),m.newLine=new m("newline",{fontCharacter:"\\ebea"}),m.layout=new m("layout",{fontCharacter:"\\ebeb"}),m.layoutActivitybarLeft=new m("layout-activitybar-left",{fontCharacter:"\\ebec"}),m.layoutActivitybarRight=new m("layout-activitybar-right",{fontCharacter:"\\ebed"}),m.layoutPanelLeft=new m("layout-panel-left",{fontCharacter:"\\ebee"}),m.layoutPanelCenter=new m("layout-panel-center",{fontCharacter:"\\ebef"}),m.layoutPanelJustify=new m("layout-panel-justify",{fontCharacter:"\\ebf0"}),m.layoutPanelRight=new m("layout-panel-right",{fontCharacter:"\\ebf1"}),m.layoutPanel=new m("layout-panel",{fontCharacter:"\\ebf2"}),m.layoutSidebarLeft=new m("layout-sidebar-left",{fontCharacter:"\\ebf3"}),m.layoutSidebarRight=new m("layout-sidebar-right",{fontCharacter:"\\ebf4"}),m.layoutStatusbar=new m("layout-statusbar",{fontCharacter:"\\ebf5"}),m.layoutMenubar=new m("layout-menubar",{fontCharacter:"\\ebf6"}),m.layoutCentered=new m("layout-centered",{fontCharacter:"\\ebf7"}),m.target=new m("target",{fontCharacter:"\\ebf8"}),m.indent=new m("indent",{fontCharacter:"\\ebf9"}),m.recordSmall=new m("record-small",{fontCharacter:"\\ebfa"}),m.errorSmall=new m("error-small",{fontCharacter:"\\ebfb"}),m.arrowCircleDown=new m("arrow-circle-down",{fontCharacter:"\\ebfc"}),m.arrowCircleLeft=new m("arrow-circle-left",{fontCharacter:"\\ebfd"}),m.arrowCircleRight=new m("arrow-circle-right",{fontCharacter:"\\ebfe"}),m.arrowCircleUp=new m("arrow-circle-up",{fontCharacter:"\\ebff"}),m.dialogError=new m("dialog-error",m.error.definition),m.dialogWarning=new m("dialog-warning",m.warning.definition),m.dialogInfo=new m("dialog-info",m.info.definition),m.dialogClose=new m("dialog-close",m.close.definition),m.treeItemExpanded=new m("tree-item-expanded",m.chevronDown.definition),m.treeFilterOnTypeOn=new m("tree-filter-on-type-on",m.listFilter.definition),m.treeFilterOnTypeOff=new m("tree-filter-on-type-off",m.listSelection.definition),m.treeFilterClear=new m("tree-filter-clear",m.close.definition),m.treeItemLoading=new m("tree-item-loading",m.loading.definition),m.menuSelection=new m("menu-selection",m.check.definition),m.menuSubmenu=new m("menu-submenu",m.chevronRight.definition),m.menuBarMore=new m("menubar-more",m.more.definition),m.scrollbarButtonLeft=new m("scrollbar-button-left",m.triangleLeft.definition),m.scrollbarButtonRight=new m("scrollbar-button-right",m.triangleRight.definition),m.scrollbarButtonUp=new m("scrollbar-button-up",m.triangleUp.definition),m.scrollbarButtonDown=new m("scrollbar-button-down",m.triangleDown.definition),m.toolBarMore=new m("toolbar-more",m.more.definition),m.quickInputBack=new m("quick-input-back",m.arrowLeft.definition);var k;(function(I){I.iconNameSegment="[A-Za-z0-9]+",I.iconNameExpression="[A-Za-z0-9-]+",I.iconModifierExpression="~[A-Za-z]+",I.iconNameCharacter="[A-Za-z0-9~-]";const L=new RegExp(`^(${I.iconNameExpression})(${I.iconModifierExpression})?$`);function _(h){if(h instanceof m)return["codicon","codicon-"+h.id];const i=L.exec(h.id);if(!i)return _(m.error);let[,n,t]=i;const o=["codicon","codicon-"+n];return t&&o.push("codicon-modifier-"+t.substr(1)),o}I.asClassNameArray=_;function v(h){return _(h).join(" ")}I.asClassName=v;function u(h){return"."+_(h).join(".")}I.asCSSSelector=u})(k=e.CSSIcon||(e.CSSIcon={}))}),define(re[220],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.forEach=void 0;const E=Object.prototype.hasOwnProperty;function m(I,L){for(let _ in I)if(E.call(I,_)&&L({key:_,value:I[_]},function(){delete I[_]})===!1)return}e.forEach=m;class k{constructor(){this.map=new Map}add(L,_){let v=this.map.get(L);v||(v=new Set,this.map.set(L,v)),v.add(_)}delete(L,_){const v=this.map.get(L);!v||(v.delete(_),v.size===0&&this.map.delete(L))}forEach(L,_){const v=this.map.get(L);!v||v.forEach(_)}}e.SetMap=k}),define(re[30],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function E(_,v){const u=Math.pow(10,v);return Math.round(_*u)/u}class m{constructor(v,u,h,i=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,v))|0,this.g=Math.min(255,Math.max(0,u))|0,this.b=Math.min(255,Math.max(0,h))|0,this.a=E(Math.max(Math.min(1,i),0),3)}static equals(v,u){return v.r===u.r&&v.g===u.g&&v.b===u.b&&v.a===u.a}}e.RGBA=m;class k{constructor(v,u,h,i){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,v),0)|0,this.s=E(Math.max(Math.min(1,u),0),3),this.l=E(Math.max(Math.min(1,h),0),3),this.a=E(Math.max(Math.min(1,i),0),3)}static equals(v,u){return v.h===u.h&&v.s===u.s&&v.l===u.l&&v.a===u.a}static fromRGBA(v){const u=v.r/255,h=v.g/255,i=v.b/255,n=v.a,t=Math.max(u,h,i),o=Math.min(u,h,i);let d=0,r=0;const c=(o+t)/2,s=t-o;if(s>0){switch(r=Math.min(c<=.5?s/(2*c):s/(2-2*c),1),t){case u:d=(h-i)/s+(h<i?6:0);break;case h:d=(i-u)/s+2;break;case i:d=(u-h)/s+4;break}d*=60,d=Math.round(d)}return new k(d,r,c,n)}static _hue2rgb(v,u,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?v+(u-v)*6*h:h<1/2?u:h<2/3?v+(u-v)*(2/3-h)*6:v}static toRGBA(v){const u=v.h/360,{s:h,l:i,a:n}=v;let t,o,d;if(h===0)t=o=d=i;else{const r=i<.5?i*(1+h):i+h-i*h,c=2*i-r;t=k._hue2rgb(c,r,u+1/3),o=k._hue2rgb(c,r,u),d=k._hue2rgb(c,r,u-1/3)}return new m(Math.round(t*255),Math.round(o*255),Math.round(d*255),n)}}e.HSLA=k;class I{constructor(v,u,h,i){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,v),0)|0,this.s=E(Math.max(Math.min(1,u),0),3),this.v=E(Math.max(Math.min(1,h),0),3),this.a=E(Math.max(Math.min(1,i),0),3)}static equals(v,u){return v.h===u.h&&v.s===u.s&&v.v===u.v&&v.a===u.a}static fromRGBA(v){const u=v.r/255,h=v.g/255,i=v.b/255,n=Math.max(u,h,i),t=Math.min(u,h,i),o=n-t,d=n===0?0:o/n;let r;return o===0?r=0:n===u?r=((h-i)/o%6+6)%6:n===h?r=(i-u)/o+2:r=(u-h)/o+4,new I(Math.round(r*60),d,n,v.a)}static toRGBA(v){const{h:u,s:h,v:i,a:n}=v,t=i*h,o=t*(1-Math.abs(u/60%2-1)),d=i-t;let[r,c,s]=[0,0,0];return u<60?(r=t,c=o):u<120?(r=o,c=t):u<180?(c=t,s=o):u<240?(c=o,s=t):u<300?(r=o,s=t):u<=360&&(r=t,s=o),r=Math.round((r+d)*255),c=Math.round((c+d)*255),s=Math.round((s+d)*255),new m(r,c,s,n)}}e.HSVA=I;class L{constructor(v){if(v)if(v instanceof m)this.rgba=v;else if(v instanceof k)this._hsla=v,this.rgba=k.toRGBA(v);else if(v instanceof I)this._hsva=v,this.rgba=I.toRGBA(v);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(v){return L.Format.CSS.parseHex(v)||L.red}get hsla(){return this._hsla?this._hsla:k.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:I.fromRGBA(this.rgba)}equals(v){return!!v&&m.equals(this.rgba,v.rgba)&&k.equals(this.hsla,v.hsla)&&I.equals(this.hsva,v.hsva)}getRelativeLuminance(){const v=L._relativeLuminanceForComponent(this.rgba.r),u=L._relativeLuminanceForComponent(this.rgba.g),h=L._relativeLuminanceForComponent(this.rgba.b),i=.2126*v+.7152*u+.0722*h;return E(i,4)}static _relativeLuminanceForComponent(v){const u=v/255;return u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(v){const u=this.getRelativeLuminance(),h=v.getRelativeLuminance();return u>h}isDarkerThan(v){const u=this.getRelativeLuminance(),h=v.getRelativeLuminance();return u<h}lighten(v){return new L(new k(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*v,this.hsla.a))}darken(v){return new L(new k(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*v,this.hsla.a))}transparent(v){const{r:u,g:h,b:i,a:n}=this.rgba;return new L(new m(u,h,i,n*v))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new L(new m(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=L.Format.CSS.format(this)),this._toString}static getLighterColor(v,u,h){if(v.isLighterThan(u))return v;h=h||.5;const i=v.getRelativeLuminance(),n=u.getRelativeLuminance();return h=h*(n-i)/n,v.lighten(h)}static getDarkerColor(v,u,h){if(v.isDarkerThan(u))return v;h=h||.5;const i=v.getRelativeLuminance(),n=u.getRelativeLuminance();return h=h*(i-n)/i,v.darken(h)}}e.Color=L,L.white=new L(new m(255,255,255,1)),L.black=new L(new m(0,0,0,1)),L.red=new L(new m(255,0,0,1)),L.blue=new L(new m(0,0,255,1)),L.green=new L(new m(0,255,0,1)),L.cyan=new L(new m(0,255,255,1)),L.lightgrey=new L(new m(211,211,211,1)),L.transparent=new L(new m(0,0,0,0)),function(_){let v;(function(u){let h;(function(i){function n(g){return g.rgba.a===1?`rgb(${g.rgba.r}, ${g.rgba.g}, ${g.rgba.b})`:_.Format.CSS.formatRGBA(g)}i.formatRGB=n;function t(g){return`rgba(${g.rgba.r}, ${g.rgba.g}, ${g.rgba.b}, ${+g.rgba.a.toFixed(2)})`}i.formatRGBA=t;function o(g){return g.hsla.a===1?`hsl(${g.hsla.h}, ${(g.hsla.s*100).toFixed(2)}%, ${(g.hsla.l*100).toFixed(2)}%)`:_.Format.CSS.formatHSLA(g)}i.formatHSL=o;function d(g){return`hsla(${g.hsla.h}, ${(g.hsla.s*100).toFixed(2)}%, ${(g.hsla.l*100).toFixed(2)}%, ${g.hsla.a.toFixed(2)})`}i.formatHSLA=d;function r(g){const b=g.toString(16);return b.length!==2?"0"+b:b}function c(g){return`#${r(g.rgba.r)}${r(g.rgba.g)}${r(g.rgba.b)}`}i.formatHex=c;function s(g,b=!1){return b&&g.rgba.a===1?_.Format.CSS.formatHex(g):`#${r(g.rgba.r)}${r(g.rgba.g)}${r(g.rgba.b)}${r(Math.round(g.rgba.a*255))}`}i.formatHexA=s;function a(g){return g.isOpaque()?_.Format.CSS.formatHex(g):_.Format.CSS.formatRGBA(g)}i.format=a;function l(g){const b=g.length;if(b===0||g.charCodeAt(0)!==35)return null;if(b===7){const p=16*f(g.charCodeAt(1))+f(g.charCodeAt(2)),C=16*f(g.charCodeAt(3))+f(g.charCodeAt(4)),S=16*f(g.charCodeAt(5))+f(g.charCodeAt(6));return new _(new m(p,C,S,1))}if(b===9){const p=16*f(g.charCodeAt(1))+f(g.charCodeAt(2)),C=16*f(g.charCodeAt(3))+f(g.charCodeAt(4)),S=16*f(g.charCodeAt(5))+f(g.charCodeAt(6)),y=16*f(g.charCodeAt(7))+f(g.charCodeAt(8));return new _(new m(p,C,S,y/255))}if(b===4){const p=f(g.charCodeAt(1)),C=f(g.charCodeAt(2)),S=f(g.charCodeAt(3));return new _(new m(16*p+p,16*C+C,16*S+S))}if(b===5){const p=f(g.charCodeAt(1)),C=f(g.charCodeAt(2)),S=f(g.charCodeAt(3)),y=f(g.charCodeAt(4));return new _(new m(16*p+p,16*C+C,16*S+S,(16*y+y)/255))}return null}i.parseHex=l;function f(g){switch(g){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(h=u.CSS||(u.CSS={}))})(v=_.Format||(_.Format={}))}(L=e.Color||(e.Color={}))}),define(re[99],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=void 0;function E(m,k,I){let L=null,_=null;if(typeof I.value=="function"?(L="value",_=I.value,_.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof I.get=="function"&&(L="get",_=I.get),!_)throw new Error("not supported");const v=`$memoize$${k}`;I[L]=function(...u){return this.hasOwnProperty(v)||Object.defineProperty(this,v,{configurable:!1,enumerable:!1,writable:!1,value:_.apply(this,u)}),this[v]}}e.memoize=E}),define(re[320],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class E{constructor(k,I,L,_){this.originalStart=k,this.originalLength=I,this.modifiedStart=L,this.modifiedLength=_}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=E}),define(re[13],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BugIndicatingError=e.NotSupportedError=e.illegalState=e.illegalArgument=e.canceled=e.CancellationError=e.isCancellationError=e.transformErrorForSerialization=e.onUnexpectedExternalError=e.onUnexpectedError=e.errorHandler=e.ErrorHandler=void 0;class E{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(d){setTimeout(()=>{throw d.stack?new Error(d.message+`

`+d.stack):d},0)}}emit(d){this.listeners.forEach(r=>{r(d)})}onUnexpectedError(d){this.unexpectedErrorHandler(d),this.emit(d)}onUnexpectedExternalError(d){this.unexpectedErrorHandler(d)}}e.ErrorHandler=E,e.errorHandler=new E;function m(o){_(o)||e.errorHandler.onUnexpectedError(o)}e.onUnexpectedError=m;function k(o){_(o)||e.errorHandler.onUnexpectedExternalError(o)}e.onUnexpectedExternalError=k;function I(o){if(o instanceof Error){let{name:d,message:r}=o;const c=o.stacktrace||o.stack;return{$isError:!0,name:d,message:r,stack:c}}return o}e.transformErrorForSerialization=I;const L="Canceled";function _(o){return o instanceof v?!0:o instanceof Error&&o.name===L&&o.message===L}e.isCancellationError=_;class v extends Error{constructor(){super(L);this.name=this.message}}e.CancellationError=v;function u(){const o=new Error(L);return o.name=o.message,o}e.canceled=u;function h(o){return o?new Error(`Illegal argument: ${o}`):new Error("Illegal argument")}e.illegalArgument=h;function i(o){return o?new Error(`Illegal state: ${o}`):new Error("Illegal state")}e.illegalState=i;class n extends Error{constructor(d){super("NotSupported");d&&(this.message=d)}}e.NotSupportedError=n;class t extends Error{constructor(d){super(d);Object.setPrototypeOf(this,t.prototype);debugger}}e.BugIndicatingError=t}),define(re[92],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.once=void 0;function E(m){const k=this;let I=!1,L;return function(){return I||(I=!0,L=m.apply(k,arguments)),L}}e.once=E}),define(re[136],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class E{constructor(k){this._prefix=k,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=E,e.defaultGenerator=new E("id#")}),define(re[55],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var E;(function(m){function k(f){return f&&typeof f=="object"&&typeof f[Symbol.iterator]=="function"}m.is=k;const I=Object.freeze([]);function L(){return I}m.empty=L;function*_(f){yield f}m.single=_;function v(f){return f||I}m.from=v;function u(f){return!f||f[Symbol.iterator]().next().done===!0}m.isEmpty=u;function h(f){return f[Symbol.iterator]().next().value}m.first=h;function i(f,g){for(const b of f)if(g(b))return!0;return!1}m.some=i;function n(f,g){for(const b of f)if(g(b))return b}m.find=n;function*t(f,g){for(const b of f)g(b)&&(yield b)}m.filter=t;function*o(f,g){let b=0;for(const p of f)yield g(p,b++)}m.map=o;function*d(...f){for(const g of f)for(const b of g)yield b}m.concat=d;function*r(f){for(const g of f)for(const b of g)yield b}m.concatNested=r;function c(f,g,b){let p=b;for(const C of f)p=g(p,C);return p}m.reduce=c;function*s(f,g,b=f.length){for(g<0&&(g+=f.length),b<0?b+=f.length:b>f.length&&(b=f.length);g<b;g++)yield f[g]}m.slice=s;function a(f,g=Number.POSITIVE_INFINITY){const b=[];if(g===0)return[b,f];const p=f[Symbol.iterator]();for(let C=0;C<g;C++){const S=p.next();if(S.done)return[b,m.empty()];b.push(S.value)}return[b,{[Symbol.iterator](){return p}}]}m.consume=a;function l(f,g,b=(p,C)=>p===C){const p=f[Symbol.iterator](),C=g[Symbol.iterator]();for(;;){const S=p.next(),y=C.next();if(S.done!==y.done)return!1;if(S.done)return!0;if(!b(S.value,y.value))return!1}}m.equals=l})(E=e.Iterable||(e.Iterable={}))}),define(re[59],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyChord=e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0;class E{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(n,t){this._keyCodeToStr[n]=t,this._strToKeyCode[t.toLowerCase()]=n}keyCodeToStr(n){return this._keyCodeToStr[n]}strToKeyCode(n){return this._strToKeyCode[n.toLowerCase()]||0}}const m=new E,k=new E,I=new E;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const L=[],_=Object.create(null),v=Object.create(null);e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let i=0;i<=193;i++)e.IMMUTABLE_CODE_TO_KEY_CODE[i]=-1;for(let i=0;i<=127;i++)e.IMMUTABLE_KEY_CODE_TO_CODE[i]=-1;(function(){const i="",n=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",i,i],[0,1,1,"Hyper",0,i,0,i,i,i],[0,1,2,"Super",0,i,0,i,i,i],[0,1,3,"Fn",0,i,0,i,i,i],[0,1,4,"FnLock",0,i,0,i,i,i],[0,1,5,"Suspend",0,i,0,i,i,i],[0,1,6,"Resume",0,i,0,i,i,i],[0,1,7,"Turbo",0,i,0,i,i,i],[0,1,8,"Sleep",0,i,0,"VK_SLEEP",i,i],[0,1,9,"WakeUp",0,i,0,i,i,i],[31,0,10,"KeyA",31,"A",65,"VK_A",i,i],[32,0,11,"KeyB",32,"B",66,"VK_B",i,i],[33,0,12,"KeyC",33,"C",67,"VK_C",i,i],[34,0,13,"KeyD",34,"D",68,"VK_D",i,i],[35,0,14,"KeyE",35,"E",69,"VK_E",i,i],[36,0,15,"KeyF",36,"F",70,"VK_F",i,i],[37,0,16,"KeyG",37,"G",71,"VK_G",i,i],[38,0,17,"KeyH",38,"H",72,"VK_H",i,i],[39,0,18,"KeyI",39,"I",73,"VK_I",i,i],[40,0,19,"KeyJ",40,"J",74,"VK_J",i,i],[41,0,20,"KeyK",41,"K",75,"VK_K",i,i],[42,0,21,"KeyL",42,"L",76,"VK_L",i,i],[43,0,22,"KeyM",43,"M",77,"VK_M",i,i],[44,0,23,"KeyN",44,"N",78,"VK_N",i,i],[45,0,24,"KeyO",45,"O",79,"VK_O",i,i],[46,0,25,"KeyP",46,"P",80,"VK_P",i,i],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",i,i],[48,0,27,"KeyR",48,"R",82,"VK_R",i,i],[49,0,28,"KeyS",49,"S",83,"VK_S",i,i],[50,0,29,"KeyT",50,"T",84,"VK_T",i,i],[51,0,30,"KeyU",51,"U",85,"VK_U",i,i],[52,0,31,"KeyV",52,"V",86,"VK_V",i,i],[53,0,32,"KeyW",53,"W",87,"VK_W",i,i],[54,0,33,"KeyX",54,"X",88,"VK_X",i,i],[55,0,34,"KeyY",55,"Y",89,"VK_Y",i,i],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",i,i],[22,0,36,"Digit1",22,"1",49,"VK_1",i,i],[23,0,37,"Digit2",23,"2",50,"VK_2",i,i],[24,0,38,"Digit3",24,"3",51,"VK_3",i,i],[25,0,39,"Digit4",25,"4",52,"VK_4",i,i],[26,0,40,"Digit5",26,"5",53,"VK_5",i,i],[27,0,41,"Digit6",27,"6",54,"VK_6",i,i],[28,0,42,"Digit7",28,"7",55,"VK_7",i,i],[29,0,43,"Digit8",29,"8",56,"VK_8",i,i],[30,0,44,"Digit9",30,"9",57,"VK_9",i,i],[21,0,45,"Digit0",21,"0",48,"VK_0",i,i],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",i,i],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",i,i],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",i,i],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",i,i],[10,1,50,"Space",10,"Space",32,"VK_SPACE",i,i],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,i,0,i,i,i],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",i,i],[59,1,64,"F1",59,"F1",112,"VK_F1",i,i],[60,1,65,"F2",60,"F2",113,"VK_F2",i,i],[61,1,66,"F3",61,"F3",114,"VK_F3",i,i],[62,1,67,"F4",62,"F4",115,"VK_F4",i,i],[63,1,68,"F5",63,"F5",116,"VK_F5",i,i],[64,1,69,"F6",64,"F6",117,"VK_F6",i,i],[65,1,70,"F7",65,"F7",118,"VK_F7",i,i],[66,1,71,"F8",66,"F8",119,"VK_F8",i,i],[67,1,72,"F9",67,"F9",120,"VK_F9",i,i],[68,1,73,"F10",68,"F10",121,"VK_F10",i,i],[69,1,74,"F11",69,"F11",122,"VK_F11",i,i],[70,1,75,"F12",70,"F12",123,"VK_F12",i,i],[0,1,76,"PrintScreen",0,i,0,i,i,i],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",i,i],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",i,i],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",i,i],[14,1,80,"Home",14,"Home",36,"VK_HOME",i,i],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",i,i],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",i,i],[13,1,83,"End",13,"End",35,"VK_END",i,i],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",i,i],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",i],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",i],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",i],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",i],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",i,i],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",i,i],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",i,i],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",i,i],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",i,i],[3,1,94,"NumpadEnter",3,i,0,i,i,i],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",i,i],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",i,i],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",i,i],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",i,i],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",i,i],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",i,i],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",i,i],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",i,i],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",i,i],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",i,i],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",i,i],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",i,i],[58,1,107,"ContextMenu",58,"ContextMenu",93,i,i,i],[0,1,108,"Power",0,i,0,i,i,i],[0,1,109,"NumpadEqual",0,i,0,i,i,i],[71,1,110,"F13",71,"F13",124,"VK_F13",i,i],[72,1,111,"F14",72,"F14",125,"VK_F14",i,i],[73,1,112,"F15",73,"F15",126,"VK_F15",i,i],[74,1,113,"F16",74,"F16",127,"VK_F16",i,i],[75,1,114,"F17",75,"F17",128,"VK_F17",i,i],[76,1,115,"F18",76,"F18",129,"VK_F18",i,i],[77,1,116,"F19",77,"F19",130,"VK_F19",i,i],[0,1,117,"F20",0,i,0,"VK_F20",i,i],[0,1,118,"F21",0,i,0,"VK_F21",i,i],[0,1,119,"F22",0,i,0,"VK_F22",i,i],[0,1,120,"F23",0,i,0,"VK_F23",i,i],[0,1,121,"F24",0,i,0,"VK_F24",i,i],[0,1,122,"Open",0,i,0,i,i,i],[0,1,123,"Help",0,i,0,i,i,i],[0,1,124,"Select",0,i,0,i,i,i],[0,1,125,"Again",0,i,0,i,i,i],[0,1,126,"Undo",0,i,0,i,i,i],[0,1,127,"Cut",0,i,0,i,i,i],[0,1,128,"Copy",0,i,0,i,i,i],[0,1,129,"Paste",0,i,0,i,i,i],[0,1,130,"Find",0,i,0,i,i,i],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",i,i],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",i,i],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",i,i],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",i,i],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",i,i],[0,1,136,"KanaMode",0,i,0,i,i,i],[0,0,137,"IntlYen",0,i,0,i,i,i],[0,1,138,"Convert",0,i,0,i,i,i],[0,1,139,"NonConvert",0,i,0,i,i,i],[0,1,140,"Lang1",0,i,0,i,i,i],[0,1,141,"Lang2",0,i,0,i,i,i],[0,1,142,"Lang3",0,i,0,i,i,i],[0,1,143,"Lang4",0,i,0,i,i,i],[0,1,144,"Lang5",0,i,0,i,i,i],[0,1,145,"Abort",0,i,0,i,i,i],[0,1,146,"Props",0,i,0,i,i,i],[0,1,147,"NumpadParenLeft",0,i,0,i,i,i],[0,1,148,"NumpadParenRight",0,i,0,i,i,i],[0,1,149,"NumpadBackspace",0,i,0,i,i,i],[0,1,150,"NumpadMemoryStore",0,i,0,i,i,i],[0,1,151,"NumpadMemoryRecall",0,i,0,i,i,i],[0,1,152,"NumpadMemoryClear",0,i,0,i,i,i],[0,1,153,"NumpadMemoryAdd",0,i,0,i,i,i],[0,1,154,"NumpadMemorySubtract",0,i,0,i,i,i],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",i,i],[0,1,156,"NumpadClearEntry",0,i,0,i,i,i],[5,1,0,i,5,"Ctrl",17,"VK_CONTROL",i,i],[4,1,0,i,4,"Shift",16,"VK_SHIFT",i,i],[6,1,0,i,6,"Alt",18,"VK_MENU",i,i],[57,1,0,i,57,"Meta",0,"VK_COMMAND",i,i],[5,1,157,"ControlLeft",5,i,0,"VK_LCONTROL",i,i],[4,1,158,"ShiftLeft",4,i,0,"VK_LSHIFT",i,i],[6,1,159,"AltLeft",6,i,0,"VK_LMENU",i,i],[57,1,160,"MetaLeft",57,i,0,"VK_LWIN",i,i],[5,1,161,"ControlRight",5,i,0,"VK_RCONTROL",i,i],[4,1,162,"ShiftRight",4,i,0,"VK_RSHIFT",i,i],[6,1,163,"AltRight",6,i,0,"VK_RMENU",i,i],[57,1,164,"MetaRight",57,i,0,"VK_RWIN",i,i],[0,1,165,"BrightnessUp",0,i,0,i,i,i],[0,1,166,"BrightnessDown",0,i,0,i,i,i],[0,1,167,"MediaPlay",0,i,0,i,i,i],[0,1,168,"MediaRecord",0,i,0,i,i,i],[0,1,169,"MediaFastForward",0,i,0,i,i,i],[0,1,170,"MediaRewind",0,i,0,i,i,i],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",i,i],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",i,i],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",i,i],[0,1,174,"Eject",0,i,0,i,i,i],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",i,i],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",i,i],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",i,i],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",i,i],[0,1,179,"LaunchApp1",0,i,0,"VK_MEDIA_LAUNCH_APP1",i,i],[0,1,180,"SelectTask",0,i,0,i,i,i],[0,1,181,"LaunchScreenSaver",0,i,0,i,i,i],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",i,i],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",i,i],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",i,i],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",i,i],[0,1,186,"BrowserStop",0,i,0,"VK_BROWSER_STOP",i,i],[0,1,187,"BrowserRefresh",0,i,0,"VK_BROWSER_REFRESH",i,i],[0,1,188,"BrowserFavorites",0,i,0,"VK_BROWSER_FAVORITES",i,i],[0,1,189,"ZoomToggle",0,i,0,i,i,i],[0,1,190,"MailReply",0,i,0,i,i,i],[0,1,191,"MailForward",0,i,0,i,i,i],[0,1,192,"MailSend",0,i,0,i,i,i],[109,1,0,i,109,"KeyInComposition",229,i,i,i],[111,1,0,i,111,"ABNT_C2",194,"VK_ABNT_C2",i,i],[91,1,0,i,91,"OEM_8",223,"VK_OEM_8",i,i],[0,1,0,i,0,i,0,"VK_KANA",i,i],[0,1,0,i,0,i,0,"VK_HANGUL",i,i],[0,1,0,i,0,i,0,"VK_JUNJA",i,i],[0,1,0,i,0,i,0,"VK_FINAL",i,i],[0,1,0,i,0,i,0,"VK_HANJA",i,i],[0,1,0,i,0,i,0,"VK_KANJI",i,i],[0,1,0,i,0,i,0,"VK_CONVERT",i,i],[0,1,0,i,0,i,0,"VK_NONCONVERT",i,i],[0,1,0,i,0,i,0,"VK_ACCEPT",i,i],[0,1,0,i,0,i,0,"VK_MODECHANGE",i,i],[0,1,0,i,0,i,0,"VK_SELECT",i,i],[0,1,0,i,0,i,0,"VK_PRINT",i,i],[0,1,0,i,0,i,0,"VK_EXECUTE",i,i],[0,1,0,i,0,i,0,"VK_SNAPSHOT",i,i],[0,1,0,i,0,i,0,"VK_HELP",i,i],[0,1,0,i,0,i,0,"VK_APPS",i,i],[0,1,0,i,0,i,0,"VK_PROCESSKEY",i,i],[0,1,0,i,0,i,0,"VK_PACKET",i,i],[0,1,0,i,0,i,0,"VK_DBE_SBCSCHAR",i,i],[0,1,0,i,0,i,0,"VK_DBE_DBCSCHAR",i,i],[0,1,0,i,0,i,0,"VK_ATTN",i,i],[0,1,0,i,0,i,0,"VK_CRSEL",i,i],[0,1,0,i,0,i,0,"VK_EXSEL",i,i],[0,1,0,i,0,i,0,"VK_EREOF",i,i],[0,1,0,i,0,i,0,"VK_PLAY",i,i],[0,1,0,i,0,i,0,"VK_ZOOM",i,i],[0,1,0,i,0,i,0,"VK_NONAME",i,i],[0,1,0,i,0,i,0,"VK_PA1",i,i],[0,1,0,i,0,i,0,"VK_OEM_CLEAR",i,i]];let t=[],o=[];for(const d of n){const[r,c,s,a,l,f,g,b,p,C]=d;if(o[s]||(o[s]=!0,L[s]=a,_[a]=s,v[a.toLowerCase()]=s,c&&(e.IMMUTABLE_CODE_TO_KEY_CODE[s]=l,l!==0&&l!==3&&l!==5&&l!==4&&l!==6&&l!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[l]=s))),!t[l]){if(t[l]=!0,!f)throw new Error(`String representation missing for key code ${l} around scan code ${a}`);m.define(l,f),k.define(l,p||f),I.define(l,C||p||f)}g&&(e.EVENT_KEY_CODE_MAP[g]=l),b&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[b]=l)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var u;(function(i){function n(s){return m.keyCodeToStr(s)}i.toString=n;function t(s){return m.strToKeyCode(s)}i.fromString=t;function o(s){return k.keyCodeToStr(s)}i.toUserSettingsUS=o;function d(s){return I.keyCodeToStr(s)}i.toUserSettingsGeneral=d;function r(s){return k.strToKeyCode(s)||I.strToKeyCode(s)}i.fromUserSettings=r;function c(s){if(s>=93&&s<=108)return null;switch(s){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return m.keyCodeToStr(s)}i.toElectronAccelerator=c})(u=e.KeyCodeUtils||(e.KeyCodeUtils={}));function h(i,n){const t=(n&65535)<<16>>>0;return(i|t)>>>0}e.KeyChord=h}),define(re[100],se([1,0,13]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedKeybindingPart=e.ScanCodeBinding=e.ChordKeybinding=e.SimpleKeybinding=e.createSimpleKeybinding=e.createKeybinding=void 0;function m(h,i){if(h===0)return null;const n=(h&65535)>>>0,t=(h&4294901760)>>>16;return t!==0?new L([k(n,i),k(t,i)]):new L([k(n,i)])}e.createKeybinding=m;function k(h,i){const n=!!(h&2048),t=!!(h&256),o=i===2?t:n,d=!!(h&1024),r=!!(h&512),c=i===2?n:t,s=h&255;return new I(o,d,r,c,s)}e.createSimpleKeybinding=k;class I{constructor(i,n,t,o,d){this.ctrlKey=i,this.shiftKey=n,this.altKey=t,this.metaKey=o,this.keyCode=d}equals(i){return this.ctrlKey===i.ctrlKey&&this.shiftKey===i.shiftKey&&this.altKey===i.altKey&&this.metaKey===i.metaKey&&this.keyCode===i.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new L([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.SimpleKeybinding=I;class L{constructor(i){if(i.length===0)throw(0,E.illegalArgument)("parts");this.parts=i}}e.ChordKeybinding=L;class _{constructor(i,n,t,o,d){this.ctrlKey=i,this.shiftKey=n,this.altKey=t,this.metaKey=o,this.scanCode=d}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeBinding=_;class v{constructor(i,n,t,o,d,r){this.ctrlKey=i,this.shiftKey=n,this.altKey=t,this.metaKey=o,this.keyLabel=d,this.keyAriaLabel=r}}e.ResolvedKeybindingPart=v;class u{}e.ResolvedKeybinding=u}),define(re[137],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class E{constructor(k){this.executor=k,this._didRun=!1}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(k){this._error=k}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=E}),define(re[2],se([1,0,92,55]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImmortalReference=e.SafeDisposable=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=e.toDisposable=e.combinedDisposable=e.dispose=e.isDisposable=e.MultiDisposeError=e.markAsSingleton=e.setDisposableTracker=void 0;const k=!1;let I=null;function L(b){I=b}if(e.setDisposableTracker=L,k){const b="__is_disposable_tracked__";L(new class{trackDisposable(p){const C=new Error("Potentially leaked disposable").stack;setTimeout(()=>{p[b]||console.log(C)},3e3)}setParent(p,C){if(p&&p!==s.None)try{p[b]=!0}catch{}}markAsDisposed(p){if(p&&p!==s.None)try{p[b]=!0}catch{}}markAsSingleton(p){}})}function _(b){return I==null||I.trackDisposable(b),b}function v(b){I==null||I.markAsDisposed(b)}function u(b,p){I==null||I.setParent(b,p)}function h(b,p){if(!!I)for(const C of b)I.setParent(C,p)}function i(b){return I==null||I.markAsSingleton(b),b}e.markAsSingleton=i;class n extends Error{constructor(p){super(`Encountered errors while disposing of store. Errors: [${p.join(", ")}]`);this.errors=p}}e.MultiDisposeError=n;function t(b){return typeof b.dispose=="function"&&b.dispose.length===0}e.isDisposable=t;function o(b){if(m.Iterable.is(b)){let p=[];for(const C of b)if(C)try{C.dispose()}catch(S){p.push(S)}if(p.length===1)throw p[0];if(p.length>1)throw new n(p);return Array.isArray(b)?[]:b}else if(b)return b.dispose(),b}e.dispose=o;function d(...b){const p=r(()=>o(b));return h(b,p),p}e.combinedDisposable=d;function r(b){const p=_({dispose:(0,E.once)(()=>{v(p),b()})});return p}e.toDisposable=r;class c{constructor(){this._toDispose=new Set,this._isDisposed=!1,_(this)}dispose(){this._isDisposed||(v(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{o(this._toDispose.values())}finally{this._toDispose.clear()}}add(p){if(!p)return p;if(p===this)throw new Error("Cannot register a disposable on itself!");return u(p,this),this._isDisposed?c.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(p),p}}e.DisposableStore=c,c.DISABLE_DISPOSED_WARNING=!1;class s{constructor(){this._store=new c,_(this),u(this._store,this)}dispose(){v(this),this._store.dispose()}_register(p){if(p===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(p)}}e.Disposable=s,s.None=Object.freeze({dispose(){}});class a{constructor(){this._isDisposed=!1,_(this)}get value(){return this._isDisposed?void 0:this._value}set value(p){var C;this._isDisposed||p===this._value||((C=this._value)===null||C===void 0||C.dispose(),p&&u(p,this),this._value=p)}clear(){this.value=void 0}dispose(){var p;this._isDisposed=!0,v(this),(p=this._value)===null||p===void 0||p.dispose(),this._value=void 0}clearAndLeak(){const p=this._value;return this._value=void 0,p&&u(p,null),p}}e.MutableDisposable=a;class l{constructor(p){this._disposable=p,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter==0&&this._disposable.dispose(),this}}e.RefCountedDisposable=l;class f{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1,_(this)}set(p){let C=p;return this.unset=()=>C=void 0,this.isset=()=>C!==void 0,this.dispose=()=>{C&&(C(),C=void 0,v(this))},this}}e.SafeDisposable=f;class g{constructor(p){this.object=p}dispose(){}}e.ImmortalReference=g}),define(re[84],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class E{constructor(I){this.element=I,this.next=E.Undefined,this.prev=E.Undefined}}E.Undefined=new E(void 0);class m{constructor(){this._first=E.Undefined,this._last=E.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===E.Undefined}clear(){let I=this._first;for(;I!==E.Undefined;){const L=I.next;I.prev=E.Undefined,I.next=E.Undefined,I=L}this._first=E.Undefined,this._last=E.Undefined,this._size=0}unshift(I){return this._insert(I,!1)}push(I){return this._insert(I,!0)}_insert(I,L){const _=new E(I);if(this._first===E.Undefined)this._first=_,this._last=_;else if(L){const u=this._last;this._last=_,_.prev=u,u.next=_}else{const u=this._first;this._first=_,_.next=u,u.prev=_}this._size+=1;let v=!1;return()=>{v||(v=!0,this._remove(_))}}shift(){if(this._first!==E.Undefined){const I=this._first.element;return this._remove(this._first),I}}pop(){if(this._last!==E.Undefined){const I=this._last.element;return this._remove(this._last),I}}_remove(I){if(I.prev!==E.Undefined&&I.next!==E.Undefined){const L=I.prev;L.next=I.next,I.next.prev=L}else I.prev===E.Undefined&&I.next===E.Undefined?(this._first=E.Undefined,this._last=E.Undefined):I.next===E.Undefined?(this._last=this._last.prev,this._last.next=E.Undefined):I.prev===E.Undefined&&(this._first=this._first.next,this._first.prev=E.Undefined);this._size-=1}*[Symbol.iterator](){let I=this._first;for(;I!==E.Undefined;)yield I.element,I=I.next}}e.LinkedList=m}),function(U,e){typeof exports=="object"&&typeof module!="undefined"?e(exports):typeof define=="function"&&define.amd?define(re[321],se([0]),e):(U=typeof globalThis!="undefined"?globalThis:U||self,e(U.marked={}))}(this,function(U){"use strict";function e(Z,j){for(var $=0;$<j.length;$++){var H=j[$];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(Z,H.key,H)}}function E(Z,j,$){return j&&e(Z.prototype,j),$&&e(Z,$),Object.defineProperty(Z,"prototype",{writable:!1}),Z}function m(Z,j){if(!!Z){if(typeof Z=="string")return k(Z,j);var $=Object.prototype.toString.call(Z).slice(8,-1);if($==="Object"&&Z.constructor&&($=Z.constructor.name),$==="Map"||$==="Set")return Array.from(Z);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return k(Z,j)}}function k(Z,j){(j==null||j>Z.length)&&(j=Z.length);for(var $=0,H=new Array(j);$<j;$++)H[$]=Z[$];return H}function I(Z,j){var $=typeof Symbol!="undefined"&&Z[Symbol.iterator]||Z["@@iterator"];if($)return($=$.call(Z)).next.bind($);if(Array.isArray(Z)||($=m(Z))||j&&Z&&typeof Z.length=="number"){$&&(Z=$);var H=0;return function(){return H>=Z.length?{done:!0}:{done:!1,value:Z[H++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}U.defaults=L();function _(Z){U.defaults=Z}var v=/[&<>"']/,u=/[&<>"']/g,h=/[<>"']|&(?!#?\w+;)/,i=/[<>"']|&(?!#?\w+;)/g,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},t=function(j){return n[j]};function o(Z,j){if(j){if(v.test(Z))return Z.replace(u,t)}else if(h.test(Z))return Z.replace(i,t);return Z}var d=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function r(Z){return Z.replace(d,function(j,$){return $=$.toLowerCase(),$==="colon"?":":$.charAt(0)==="#"?$.charAt(1)==="x"?String.fromCharCode(parseInt($.substring(2),16)):String.fromCharCode(+$.substring(1)):""})}var c=/(^|[^\[])\^/g;function s(Z,j){Z=Z.source||Z,j=j||"";var $={replace:function(te,ne){return ne=ne.source||ne,ne=ne.replace(c,"$1"),Z=Z.replace(te,ne),$},getRegex:function(){return new RegExp(Z,j)}};return $}var a=/[^\w:]/g,l=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function f(Z,j,$){if(Z){var H;try{H=decodeURIComponent(r($)).replace(a,"").toLowerCase()}catch{return null}if(H.indexOf("javascript:")===0||H.indexOf("vbscript:")===0||H.indexOf("data:")===0)return null}j&&!l.test($)&&($=S(j,$));try{$=encodeURI($).replace(/%25/g,"%")}catch{return null}return $}var g={},b=/^[^:]+:\/*[^/]*$/,p=/^([^:]+:)[\s\S]*$/,C=/^([^:]+:\/*[^/]*)[\s\S]*$/;function S(Z,j){g[" "+Z]||(b.test(Z)?g[" "+Z]=Z+"/":g[" "+Z]=N(Z,"/",!0)),Z=g[" "+Z];var $=Z.indexOf(":")===-1;return j.substring(0,2)==="//"?$?j:Z.replace(p,"$1")+j:j.charAt(0)==="/"?$?j:Z.replace(C,"$1")+j:Z+j}var y={exec:function(){}};function w(Z){for(var j=1,$,H;j<arguments.length;j++){$=arguments[j];for(H in $)Object.prototype.hasOwnProperty.call($,H)&&(Z[H]=$[H])}return Z}function T(Z,j){var $=Z.replace(/\|/g,function(ne,de,he){for(var pe=!1,ve=de;--ve>=0&&he[ve]==="\\";)pe=!pe;return pe?"|":" |"}),H=$.split(/ \|/),te=0;if(H[0].trim()||H.shift(),H[H.length-1].trim()||H.pop(),H.length>j)H.splice(j);else for(;H.length<j;)H.push("");for(;te<H.length;te++)H[te]=H[te].trim().replace(/\\\|/g,"|");return H}function N(Z,j,$){var H=Z.length;if(H===0)return"";for(var te=0;te<H;){var ne=Z.charAt(H-te-1);if(ne===j&&!$)te++;else if(ne!==j&&$)te++;else break}return Z.substr(0,H-te)}function R(Z,j){if(Z.indexOf(j[1])===-1)return-1;for(var $=Z.length,H=0,te=0;te<$;te++)if(Z[te]==="\\")te++;else if(Z[te]===j[0])H++;else if(Z[te]===j[1]&&(H--,H<0))return te;return-1}function B(Z){Z&&Z.sanitize&&!Z.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function O(Z,j){if(j<1)return"";for(var $="";j>1;)j&1&&($+=Z),j>>=1,Z+=Z;return $+Z}function D(Z,j,$,H){var te=j.href,ne=j.title?o(j.title):null,de=Z[1].replace(/\\([\[\]])/g,"$1");if(Z[0].charAt(0)!=="!"){H.state.inLink=!0;var he={type:"link",raw:$,href:te,title:ne,text:de,tokens:H.inlineTokens(de,[])};return H.state.inLink=!1,he}else return{type:"image",raw:$,href:te,title:ne,text:o(de)}}function A(Z,j){var $=Z.match(/^(\s+)(?:```)/);if($===null)return j;var H=$[1];return j.split(`
`).map(function(te){var ne=te.match(/^\s+/);if(ne===null)return te;var de=ne[0];return de.length>=H.length?te.slice(H.length):te}).join(`
`)}var P=function(){function Z($){this.options=$||U.defaults}var j=Z.prototype;return j.space=function(H){var te=this.rules.block.newline.exec(H);if(te&&te[0].length>0)return{type:"space",raw:te[0]}},j.code=function(H){var te=this.rules.block.code.exec(H);if(te){var ne=te[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:te[0],codeBlockStyle:"indented",text:this.options.pedantic?ne:N(ne,`
`)}}},j.fences=function(H){var te=this.rules.block.fences.exec(H);if(te){var ne=te[0],de=A(ne,te[3]||"");return{type:"code",raw:ne,lang:te[2]?te[2].trim():te[2],text:de}}},j.heading=function(H){var te=this.rules.block.heading.exec(H);if(te){var ne=te[2].trim();if(/#$/.test(ne)){var de=N(ne,"#");(this.options.pedantic||!de||/ $/.test(de))&&(ne=de.trim())}var he={type:"heading",raw:te[0],depth:te[1].length,text:ne,tokens:[]};return this.lexer.inline(he.text,he.tokens),he}},j.hr=function(H){var te=this.rules.block.hr.exec(H);if(te)return{type:"hr",raw:te[0]}},j.blockquote=function(H){var te=this.rules.block.blockquote.exec(H);if(te){var ne=te[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:te[0],tokens:this.lexer.blockTokens(ne,[]),text:ne}}},j.list=function(H){var te=this.rules.block.list.exec(H);if(te){var ne,de,he,pe,ve,ue,Ce,me,be,ce,ge,_e,ye=te[1].trim(),Me=ye.length>1,ke={type:"list",raw:"",ordered:Me,start:Me?+ye.slice(0,-1):"",loose:!1,items:[]};ye=Me?"\\d{1,9}\\"+ye.slice(-1):"\\"+ye,this.options.pedantic&&(ye=Me?ye:"[*+-]");for(var Te=new RegExp("^( {0,3}"+ye+")((?: [^\\n]*)?(?:\\n|$))");H&&(_e=!1,!(!(te=Te.exec(H))||this.rules.block.hr.test(H)));){if(ne=te[0],H=H.substring(ne.length),me=te[2].split(`
`,1)[0],be=H.split(`
`,1)[0],this.options.pedantic?(pe=2,ge=me.trimLeft()):(pe=te[2].search(/[^ ]/),pe=pe>4?1:pe,ge=me.slice(pe),pe+=te[1].length),ue=!1,!me&&/^ *$/.test(be)&&(ne+=be+`
`,H=H.substring(be.length+1),_e=!0),!_e)for(var Oe=new RegExp("^ {0,"+Math.min(3,pe-1)+"}(?:[*+-]|\\d{1,9}[.)])");H&&(ce=H.split(`
`,1)[0],me=ce,this.options.pedantic&&(me=me.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!Oe.test(me));){if(me.search(/[^ ]/)>=pe||!me.trim())ge+=`
`+me.slice(pe);else if(!ue)ge+=`
`+me;else break;!ue&&!me.trim()&&(ue=!0),ne+=ce+`
`,H=H.substring(ce.length+1)}ke.loose||(Ce?ke.loose=!0:/\n *\n *$/.test(ne)&&(Ce=!0)),this.options.gfm&&(de=/^\[[ xX]\] /.exec(ge),de&&(he=de[0]!=="[ ] ",ge=ge.replace(/^\[[ xX]\] +/,""))),ke.items.push({type:"list_item",raw:ne,task:!!de,checked:he,loose:!1,text:ge}),ke.raw+=ne}ke.items[ke.items.length-1].raw=ne.trimRight(),ke.items[ke.items.length-1].text=ge.trimRight(),ke.raw=ke.raw.trimRight();var Be=ke.items.length;for(ve=0;ve<Be;ve++){this.lexer.state.top=!1,ke.items[ve].tokens=this.lexer.blockTokens(ke.items[ve].text,[]);var xe=ke.items[ve].tokens.filter(function(Ze){return Ze.type==="space"}),Ke=xe.every(function(Ze){for(var we=Ze.raw.split(""),Se=0,De=I(we),Pe;!(Pe=De()).done;){var ze=Pe.value;if(ze===`
`&&(Se+=1),Se>1)return!0}return!1});!ke.loose&&xe.length&&Ke&&(ke.loose=!0,ke.items[ve].loose=!0)}return ke}},j.html=function(H){var te=this.rules.block.html.exec(H);if(te){var ne={type:"html",raw:te[0],pre:!this.options.sanitizer&&(te[1]==="pre"||te[1]==="script"||te[1]==="style"),text:te[0]};return this.options.sanitize&&(ne.type="paragraph",ne.text=this.options.sanitizer?this.options.sanitizer(te[0]):o(te[0]),ne.tokens=[],this.lexer.inline(ne.text,ne.tokens)),ne}},j.def=function(H){var te=this.rules.block.def.exec(H);if(te){te[3]&&(te[3]=te[3].substring(1,te[3].length-1));var ne=te[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:ne,raw:te[0],href:te[2],title:te[3]}}},j.table=function(H){var te=this.rules.block.table.exec(H);if(te){var ne={type:"table",header:T(te[1]).map(function(Ce){return{text:Ce}}),align:te[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:te[3]?te[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(ne.header.length===ne.align.length){ne.raw=te[0];var de=ne.align.length,he,pe,ve,ue;for(he=0;he<de;he++)/^ *-+: *$/.test(ne.align[he])?ne.align[he]="right":/^ *:-+: *$/.test(ne.align[he])?ne.align[he]="center":/^ *:-+ *$/.test(ne.align[he])?ne.align[he]="left":ne.align[he]=null;for(de=ne.rows.length,he=0;he<de;he++)ne.rows[he]=T(ne.rows[he],ne.header.length).map(function(Ce){return{text:Ce}});for(de=ne.header.length,pe=0;pe<de;pe++)ne.header[pe].tokens=[],this.lexer.inlineTokens(ne.header[pe].text,ne.header[pe].tokens);for(de=ne.rows.length,pe=0;pe<de;pe++)for(ue=ne.rows[pe],ve=0;ve<ue.length;ve++)ue[ve].tokens=[],this.lexer.inlineTokens(ue[ve].text,ue[ve].tokens);return ne}}},j.lheading=function(H){var te=this.rules.block.lheading.exec(H);if(te){var ne={type:"heading",raw:te[0],depth:te[2].charAt(0)==="="?1:2,text:te[1],tokens:[]};return this.lexer.inline(ne.text,ne.tokens),ne}},j.paragraph=function(H){var te=this.rules.block.paragraph.exec(H);if(te){var ne={type:"paragraph",raw:te[0],text:te[1].charAt(te[1].length-1)===`
`?te[1].slice(0,-1):te[1],tokens:[]};return this.lexer.inline(ne.text,ne.tokens),ne}},j.text=function(H){var te=this.rules.block.text.exec(H);if(te){var ne={type:"text",raw:te[0],text:te[0],tokens:[]};return this.lexer.inline(ne.text,ne.tokens),ne}},j.escape=function(H){var te=this.rules.inline.escape.exec(H);if(te)return{type:"escape",raw:te[0],text:o(te[1])}},j.tag=function(H){var te=this.rules.inline.tag.exec(H);if(te)return!this.lexer.state.inLink&&/^<a /i.test(te[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(te[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(te[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(te[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:te[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(te[0]):o(te[0]):te[0]}},j.link=function(H){var te=this.rules.inline.link.exec(H);if(te){var ne=te[2].trim();if(!this.options.pedantic&&/^</.test(ne)){if(!/>$/.test(ne))return;var de=N(ne.slice(0,-1),"\\");if((ne.length-de.length)%2==0)return}else{var he=R(te[2],"()");if(he>-1){var pe=te[0].indexOf("!")===0?5:4,ve=pe+te[1].length+he;te[2]=te[2].substring(0,he),te[0]=te[0].substring(0,ve).trim(),te[3]=""}}var ue=te[2],Ce="";if(this.options.pedantic){var me=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ue);me&&(ue=me[1],Ce=me[3])}else Ce=te[3]?te[3].slice(1,-1):"";return ue=ue.trim(),/^</.test(ue)&&(this.options.pedantic&&!/>$/.test(ne)?ue=ue.slice(1):ue=ue.slice(1,-1)),D(te,{href:ue&&ue.replace(this.rules.inline._escapes,"$1"),title:Ce&&Ce.replace(this.rules.inline._escapes,"$1")},te[0],this.lexer)}},j.reflink=function(H,te){var ne;if((ne=this.rules.inline.reflink.exec(H))||(ne=this.rules.inline.nolink.exec(H))){var de=(ne[2]||ne[1]).replace(/\s+/g," ");if(de=te[de.toLowerCase()],!de||!de.href){var he=ne[0].charAt(0);return{type:"text",raw:he,text:he}}return D(ne,de,ne[0],this.lexer)}},j.emStrong=function(H,te,ne){ne===void 0&&(ne="");var de=this.rules.inline.emStrong.lDelim.exec(H);if(!!de&&!(de[3]&&ne.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var he=de[1]||de[2]||"";if(!he||he&&(ne===""||this.rules.inline.punctuation.exec(ne))){var pe=de[0].length-1,ve,ue,Ce=pe,me=0,be=de[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(be.lastIndex=0,te=te.slice(-1*H.length+pe);(de=be.exec(te))!=null;)if(ve=de[1]||de[2]||de[3]||de[4]||de[5]||de[6],!!ve){if(ue=ve.length,de[3]||de[4]){Ce+=ue;continue}else if((de[5]||de[6])&&pe%3&&!((pe+ue)%3)){me+=ue;continue}if(Ce-=ue,!(Ce>0)){if(ue=Math.min(ue,ue+Ce+me),Math.min(pe,ue)%2){var ce=H.slice(1,pe+de.index+ue);return{type:"em",raw:H.slice(0,pe+de.index+ue+1),text:ce,tokens:this.lexer.inlineTokens(ce,[])}}var ge=H.slice(2,pe+de.index+ue-1);return{type:"strong",raw:H.slice(0,pe+de.index+ue+1),text:ge,tokens:this.lexer.inlineTokens(ge,[])}}}}}},j.codespan=function(H){var te=this.rules.inline.code.exec(H);if(te){var ne=te[2].replace(/\n/g," "),de=/[^ ]/.test(ne),he=/^ /.test(ne)&&/ $/.test(ne);return de&&he&&(ne=ne.substring(1,ne.length-1)),ne=o(ne,!0),{type:"codespan",raw:te[0],text:ne}}},j.br=function(H){var te=this.rules.inline.br.exec(H);if(te)return{type:"br",raw:te[0]}},j.del=function(H){var te=this.rules.inline.del.exec(H);if(te)return{type:"del",raw:te[0],text:te[2],tokens:this.lexer.inlineTokens(te[2],[])}},j.autolink=function(H,te){var ne=this.rules.inline.autolink.exec(H);if(ne){var de,he;return ne[2]==="@"?(de=o(this.options.mangle?te(ne[1]):ne[1]),he="mailto:"+de):(de=o(ne[1]),he=de),{type:"link",raw:ne[0],text:de,href:he,tokens:[{type:"text",raw:de,text:de}]}}},j.url=function(H,te){var ne;if(ne=this.rules.inline.url.exec(H)){var de,he;if(ne[2]==="@")de=o(this.options.mangle?te(ne[0]):ne[0]),he="mailto:"+de;else{var pe;do pe=ne[0],ne[0]=this.rules.inline._backpedal.exec(ne[0])[0];while(pe!==ne[0]);de=o(ne[0]),ne[1]==="www."?he="http://"+de:he=de}return{type:"link",raw:ne[0],text:de,href:he,tokens:[{type:"text",raw:de,text:de}]}}},j.inlineText=function(H,te){var ne=this.rules.inline.text.exec(H);if(ne){var de;return this.lexer.state.inRawBlock?de=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ne[0]):o(ne[0]):ne[0]:de=o(this.options.smartypants?te(ne[0]):ne[0]),{type:"text",raw:ne[0],text:de}}},Z}(),F={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:y,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};F._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,F._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,F.def=s(F.def).replace("label",F._label).replace("title",F._title).getRegex(),F.bullet=/(?:[*+-]|\d{1,9}[.)])/,F.listItemStart=s(/^( *)(bull) */).replace("bull",F.bullet).getRegex(),F.list=s(F.list).replace(/bull/g,F.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+F.def.source+")").getRegex(),F._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",F._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,F.html=s(F.html,"i").replace("comment",F._comment).replace("tag",F._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),F.paragraph=s(F._paragraph).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.blockquote=s(F.blockquote).replace("paragraph",F.paragraph).getRegex(),F.normal=w({},F),F.gfm=w({},F.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),F.gfm.table=s(F.gfm.table).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.gfm.paragraph=s(F._paragraph).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",F.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.pedantic=w({},F.normal,{html:s(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",F._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:y,paragraph:s(F.normal._paragraph).replace("hr",F.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",F.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var W={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:y,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:y,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};W._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",W.punctuation=s(W.punctuation).replace(/punctuation/g,W._punctuation).getRegex(),W.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,W.escapedEmSt=/\\\*|\\_/g,W._comment=s(F._comment).replace("(?:-->|$)","-->").getRegex(),W.emStrong.lDelim=s(W.emStrong.lDelim).replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimAst=s(W.emStrong.rDelimAst,"g").replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimUnd=s(W.emStrong.rDelimUnd,"g").replace(/punct/g,W._punctuation).getRegex(),W._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,W._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,W._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,W.autolink=s(W.autolink).replace("scheme",W._scheme).replace("email",W._email).getRegex(),W._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,W.tag=s(W.tag).replace("comment",W._comment).replace("attribute",W._attribute).getRegex(),W._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,W._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,W._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,W.link=s(W.link).replace("label",W._label).replace("href",W._href).replace("title",W._title).getRegex(),W.reflink=s(W.reflink).replace("label",W._label).replace("ref",F._label).getRegex(),W.nolink=s(W.nolink).replace("ref",F._label).getRegex(),W.reflinkSearch=s(W.reflinkSearch,"g").replace("reflink",W.reflink).replace("nolink",W.nolink).getRegex(),W.normal=w({},W),W.pedantic=w({},W.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:s(/^!?\[(label)\]\((.*?)\)/).replace("label",W._label).getRegex(),reflink:s(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",W._label).getRegex()}),W.gfm=w({},W.normal,{escape:s(W.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),W.gfm.url=s(W.gfm.url,"i").replace("email",W.gfm._extended_email).getRegex(),W.breaks=w({},W.gfm,{br:s(W.br).replace("{2,}","*").getRegex(),text:s(W.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function M(Z){return Z.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function z(Z){var j="",$,H,te=Z.length;for($=0;$<te;$++)H=Z.charCodeAt($),Math.random()>.5&&(H="x"+H.toString(16)),j+="&#"+H+";";return j}var ee=function(){function Z($){this.tokens=[],this.tokens.links=Object.create(null),this.options=$||U.defaults,this.options.tokenizer=this.options.tokenizer||new P,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var H={block:F.normal,inline:W.normal};this.options.pedantic?(H.block=F.pedantic,H.inline=W.pedantic):this.options.gfm&&(H.block=F.gfm,this.options.breaks?H.inline=W.breaks:H.inline=W.gfm),this.tokenizer.rules=H}Z.lex=function(H,te){var ne=new Z(te);return ne.lex(H)},Z.lexInline=function(H,te){var ne=new Z(te);return ne.inlineTokens(H)};var j=Z.prototype;return j.lex=function(H){H=H.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(H,this.tokens);for(var te;te=this.inlineQueue.shift();)this.inlineTokens(te.src,te.tokens);return this.tokens},j.blockTokens=function(H,te){var ne=this;te===void 0&&(te=[]),this.options.pedantic&&(H=H.replace(/^ +$/gm,""));for(var de,he,pe,ve;H;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Ce){return(de=Ce.call({lexer:ne},H,te))?(H=H.substring(de.raw.length),te.push(de),!0):!1}))){if(de=this.tokenizer.space(H)){H=H.substring(de.raw.length),de.raw.length===1&&te.length>0?te[te.length-1].raw+=`
`:te.push(de);continue}if(de=this.tokenizer.code(H)){H=H.substring(de.raw.length),he=te[te.length-1],he&&(he.type==="paragraph"||he.type==="text")?(he.raw+=`
`+de.raw,he.text+=`
`+de.text,this.inlineQueue[this.inlineQueue.length-1].src=he.text):te.push(de);continue}if(de=this.tokenizer.fences(H)){H=H.substring(de.raw.length),te.push(de);continue}if(de=this.tokenizer.heading(H)){H=H.substring(de.raw.length),te.push(de);continue}if(de=this.tokenizer.hr(H)){H=H.substring(de.raw.length),te.push(de);continue}if(de=this.tokenizer.blockquote(H)){H=H.substring(de.raw.length),te.push(de);continue}if(de=this.tokenizer.list(H)){H=H.substring(de.raw.length),te.push(de);continue}if(de=this.tokenizer.html(H)){H=H.substring(de.raw.length),te.push(de);continue}if(de=this.tokenizer.def(H)){H=H.substring(de.raw.length),he=te[te.length-1],he&&(he.type==="paragraph"||he.type==="text")?(he.raw+=`
`+de.raw,he.text+=`
`+de.raw,this.inlineQueue[this.inlineQueue.length-1].src=he.text):this.tokens.links[de.tag]||(this.tokens.links[de.tag]={href:de.href,title:de.title});continue}if(de=this.tokenizer.table(H)){H=H.substring(de.raw.length),te.push(de);continue}if(de=this.tokenizer.lheading(H)){H=H.substring(de.raw.length),te.push(de);continue}if(pe=H,this.options.extensions&&this.options.extensions.startBlock&&function(){var Ce=1/0,me=H.slice(1),be=void 0;ne.options.extensions.startBlock.forEach(function(ce){be=ce.call({lexer:this},me),typeof be=="number"&&be>=0&&(Ce=Math.min(Ce,be))}),Ce<1/0&&Ce>=0&&(pe=H.substring(0,Ce+1))}(),this.state.top&&(de=this.tokenizer.paragraph(pe))){he=te[te.length-1],ve&&he.type==="paragraph"?(he.raw+=`
`+de.raw,he.text+=`
`+de.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=he.text):te.push(de),ve=pe.length!==H.length,H=H.substring(de.raw.length);continue}if(de=this.tokenizer.text(H)){H=H.substring(de.raw.length),he=te[te.length-1],he&&he.type==="text"?(he.raw+=`
`+de.raw,he.text+=`
`+de.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=he.text):te.push(de);continue}if(H){var ue="Infinite loop on byte: "+H.charCodeAt(0);if(this.options.silent){console.error(ue);break}else throw new Error(ue)}}return this.state.top=!0,te},j.inline=function(H,te){this.inlineQueue.push({src:H,tokens:te})},j.inlineTokens=function(H,te){var ne=this;te===void 0&&(te=[]);var de,he,pe,ve=H,ue,Ce,me;if(this.tokens.links){var be=Object.keys(this.tokens.links);if(be.length>0)for(;(ue=this.tokenizer.rules.inline.reflinkSearch.exec(ve))!=null;)be.includes(ue[0].slice(ue[0].lastIndexOf("[")+1,-1))&&(ve=ve.slice(0,ue.index)+"["+O("a",ue[0].length-2)+"]"+ve.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ue=this.tokenizer.rules.inline.blockSkip.exec(ve))!=null;)ve=ve.slice(0,ue.index)+"["+O("a",ue[0].length-2)+"]"+ve.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ue=this.tokenizer.rules.inline.escapedEmSt.exec(ve))!=null;)ve=ve.slice(0,ue.index)+"++"+ve.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;H;)if(Ce||(me=""),Ce=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(ge){return(de=ge.call({lexer:ne},H,te))?(H=H.substring(de.raw.length),te.push(de),!0):!1}))){if(de=this.tokenizer.escape(H)){H=H.substring(de.raw.length),te.push(de);continue}if(de=this.tokenizer.tag(H)){H=H.substring(de.raw.length),he=te[te.length-1],he&&de.type==="text"&&he.type==="text"?(he.raw+=de.raw,he.text+=de.text):te.push(de);continue}if(de=this.tokenizer.link(H)){H=H.substring(de.raw.length),te.push(de);continue}if(de=this.tokenizer.reflink(H,this.tokens.links)){H=H.substring(de.raw.length),he=te[te.length-1],he&&de.type==="text"&&he.type==="text"?(he.raw+=de.raw,he.text+=de.text):te.push(de);continue}if(de=this.tokenizer.emStrong(H,ve,me)){H=H.substring(de.raw.length),te.push(de);continue}if(de=this.tokenizer.codespan(H)){H=H.substring(de.raw.length),te.push(de);continue}if(de=this.tokenizer.br(H)){H=H.substring(de.raw.length),te.push(de);continue}if(de=this.tokenizer.del(H)){H=H.substring(de.raw.length),te.push(de);continue}if(de=this.tokenizer.autolink(H,z)){H=H.substring(de.raw.length),te.push(de);continue}if(!this.state.inLink&&(de=this.tokenizer.url(H,z))){H=H.substring(de.raw.length),te.push(de);continue}if(pe=H,this.options.extensions&&this.options.extensions.startInline&&function(){var ge=1/0,_e=H.slice(1),ye=void 0;ne.options.extensions.startInline.forEach(function(Me){ye=Me.call({lexer:this},_e),typeof ye=="number"&&ye>=0&&(ge=Math.min(ge,ye))}),ge<1/0&&ge>=0&&(pe=H.substring(0,ge+1))}(),de=this.tokenizer.inlineText(pe,M)){H=H.substring(de.raw.length),de.raw.slice(-1)!=="_"&&(me=de.raw.slice(-1)),Ce=!0,he=te[te.length-1],he&&he.type==="text"?(he.raw+=de.raw,he.text+=de.text):te.push(de);continue}if(H){var ce="Infinite loop on byte: "+H.charCodeAt(0);if(this.options.silent){console.error(ce);break}else throw new Error(ce)}}return te},E(Z,null,[{key:"rules",get:function(){return{block:F,inline:W}}}]),Z}(),ie=function(){function Z($){this.options=$||U.defaults}var j=Z.prototype;return j.code=function(H,te,ne){var de=(te||"").match(/\S*/)[0];if(this.options.highlight){var he=this.options.highlight(H,de);he!=null&&he!==H&&(ne=!0,H=he)}return H=H.replace(/\n$/,"")+`
`,de?'<pre><code class="'+this.options.langPrefix+o(de,!0)+'">'+(ne?H:o(H,!0))+`</code></pre>
`:"<pre><code>"+(ne?H:o(H,!0))+`</code></pre>
`},j.blockquote=function(H){return`<blockquote>
`+H+`</blockquote>
`},j.html=function(H){return H},j.heading=function(H,te,ne,de){return this.options.headerIds?"<h"+te+' id="'+this.options.headerPrefix+de.slug(ne)+'">'+H+"</h"+te+`>
`:"<h"+te+">"+H+"</h"+te+`>
`},j.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},j.list=function(H,te,ne){var de=te?"ol":"ul",he=te&&ne!==1?' start="'+ne+'"':"";return"<"+de+he+`>
`+H+"</"+de+`>
`},j.listitem=function(H){return"<li>"+H+`</li>
`},j.checkbox=function(H){return"<input "+(H?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},j.paragraph=function(H){return"<p>"+H+`</p>
`},j.table=function(H,te){return te&&(te="<tbody>"+te+"</tbody>"),`<table>
<thead>
`+H+`</thead>
`+te+`</table>
`},j.tablerow=function(H){return`<tr>
`+H+`</tr>
`},j.tablecell=function(H,te){var ne=te.header?"th":"td",de=te.align?"<"+ne+' align="'+te.align+'">':"<"+ne+">";return de+H+"</"+ne+`>
`},j.strong=function(H){return"<strong>"+H+"</strong>"},j.em=function(H){return"<em>"+H+"</em>"},j.codespan=function(H){return"<code>"+H+"</code>"},j.br=function(){return this.options.xhtml?"<br/>":"<br>"},j.del=function(H){return"<del>"+H+"</del>"},j.link=function(H,te,ne){if(H=f(this.options.sanitize,this.options.baseUrl,H),H===null)return ne;var de='<a href="'+o(H)+'"';return te&&(de+=' title="'+te+'"'),de+=">"+ne+"</a>",de},j.image=function(H,te,ne){if(H=f(this.options.sanitize,this.options.baseUrl,H),H===null)return ne;var de='<img src="'+H+'" alt="'+ne+'"';return te&&(de+=' title="'+te+'"'),de+=this.options.xhtml?"/>":">",de},j.text=function(H){return H},Z}(),Y=function(){function Z(){}var j=Z.prototype;return j.strong=function(H){return H},j.em=function(H){return H},j.codespan=function(H){return H},j.del=function(H){return H},j.html=function(H){return H},j.text=function(H){return H},j.link=function(H,te,ne){return""+ne},j.image=function(H,te,ne){return""+ne},j.br=function(){return""},Z}(),X=function(){function Z(){this.seen={}}var j=Z.prototype;return j.serialize=function(H){return H.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},j.getNextSafeSlug=function(H,te){var ne=H,de=0;if(this.seen.hasOwnProperty(ne)){de=this.seen[H];do de++,ne=H+"-"+de;while(this.seen.hasOwnProperty(ne))}return te||(this.seen[H]=de,this.seen[ne]=0),ne},j.slug=function(H,te){te===void 0&&(te={});var ne=this.serialize(H);return this.getNextSafeSlug(ne,te.dryrun)},Z}(),J=function(){function Z($){this.options=$||U.defaults,this.options.renderer=this.options.renderer||new ie,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Y,this.slugger=new X}Z.parse=function(H,te){var ne=new Z(te);return ne.parse(H)},Z.parseInline=function(H,te){var ne=new Z(te);return ne.parseInline(H)};var j=Z.prototype;return j.parse=function(H,te){te===void 0&&(te=!0);var ne="",de,he,pe,ve,ue,Ce,me,be,ce,ge,_e,ye,Me,ke,Te,Oe,Be,xe,Ke,Ze=H.length;for(de=0;de<Ze;de++){if(ge=H[de],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ge.type]&&(Ke=this.options.extensions.renderers[ge.type].call({parser:this},ge),Ke!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ge.type))){ne+=Ke||"";continue}switch(ge.type){case"space":continue;case"hr":{ne+=this.renderer.hr();continue}case"heading":{ne+=this.renderer.heading(this.parseInline(ge.tokens),ge.depth,r(this.parseInline(ge.tokens,this.textRenderer)),this.slugger);continue}case"code":{ne+=this.renderer.code(ge.text,ge.lang,ge.escaped);continue}case"table":{for(be="",me="",ve=ge.header.length,he=0;he<ve;he++)me+=this.renderer.tablecell(this.parseInline(ge.header[he].tokens),{header:!0,align:ge.align[he]});for(be+=this.renderer.tablerow(me),ce="",ve=ge.rows.length,he=0;he<ve;he++){for(Ce=ge.rows[he],me="",ue=Ce.length,pe=0;pe<ue;pe++)me+=this.renderer.tablecell(this.parseInline(Ce[pe].tokens),{header:!1,align:ge.align[pe]});ce+=this.renderer.tablerow(me)}ne+=this.renderer.table(be,ce);continue}case"blockquote":{ce=this.parse(ge.tokens),ne+=this.renderer.blockquote(ce);continue}case"list":{for(_e=ge.ordered,ye=ge.start,Me=ge.loose,ve=ge.items.length,ce="",he=0;he<ve;he++)Te=ge.items[he],Oe=Te.checked,Be=Te.task,ke="",Te.task&&(xe=this.renderer.checkbox(Oe),Me?Te.tokens.length>0&&Te.tokens[0].type==="paragraph"?(Te.tokens[0].text=xe+" "+Te.tokens[0].text,Te.tokens[0].tokens&&Te.tokens[0].tokens.length>0&&Te.tokens[0].tokens[0].type==="text"&&(Te.tokens[0].tokens[0].text=xe+" "+Te.tokens[0].tokens[0].text)):Te.tokens.unshift({type:"text",text:xe}):ke+=xe),ke+=this.parse(Te.tokens,Me),ce+=this.renderer.listitem(ke,Be,Oe);ne+=this.renderer.list(ce,_e,ye);continue}case"html":{ne+=this.renderer.html(ge.text);continue}case"paragraph":{ne+=this.renderer.paragraph(this.parseInline(ge.tokens));continue}case"text":{for(ce=ge.tokens?this.parseInline(ge.tokens):ge.text;de+1<Ze&&H[de+1].type==="text";)ge=H[++de],ce+=`
`+(ge.tokens?this.parseInline(ge.tokens):ge.text);ne+=te?this.renderer.paragraph(ce):ce;continue}default:{var we='Token with "'+ge.type+'" type was not found.';if(this.options.silent){console.error(we);return}else throw new Error(we)}}}return ne},j.parseInline=function(H,te){te=te||this.renderer;var ne="",de,he,pe,ve=H.length;for(de=0;de<ve;de++){if(he=H[de],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[he.type]&&(pe=this.options.extensions.renderers[he.type].call({parser:this},he),pe!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(he.type))){ne+=pe||"";continue}switch(he.type){case"escape":{ne+=te.text(he.text);break}case"html":{ne+=te.html(he.text);break}case"link":{ne+=te.link(he.href,he.title,this.parseInline(he.tokens,te));break}case"image":{ne+=te.image(he.href,he.title,he.text);break}case"strong":{ne+=te.strong(this.parseInline(he.tokens,te));break}case"em":{ne+=te.em(this.parseInline(he.tokens,te));break}case"codespan":{ne+=te.codespan(he.text);break}case"br":{ne+=te.br();break}case"del":{ne+=te.del(this.parseInline(he.tokens,te));break}case"text":{ne+=te.text(he.text);break}default:{var ue='Token with "'+he.type+'" type was not found.';if(this.options.silent){console.error(ue);return}else throw new Error(ue)}}}return ne},Z}();function oe(Z,j,$){if(typeof Z=="undefined"||Z===null)throw new Error("marked(): input parameter is undefined or null");if(typeof Z!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Z)+", string expected");if(typeof j=="function"&&($=j,j=null),j=w({},oe.defaults,j||{}),B(j),$){var H=j.highlight,te;try{te=ee.lex(Z,j)}catch(pe){return $(pe)}var ne=function(ve){var ue;if(!ve)try{j.walkTokens&&oe.walkTokens(te,j.walkTokens),ue=J.parse(te,j)}catch(Ce){ve=Ce}return j.highlight=H,ve?$(ve):$(null,ue)};if(!H||H.length<3||(delete j.highlight,!te.length))return ne();var de=0;oe.walkTokens(te,function(pe){pe.type==="code"&&(de++,setTimeout(function(){H(pe.text,pe.lang,function(ve,ue){if(ve)return ne(ve);ue!=null&&ue!==pe.text&&(pe.text=ue,pe.escaped=!0),de--,de===0&&ne()})},0))}),de===0&&ne();return}try{var he=ee.lex(Z,j);return j.walkTokens&&oe.walkTokens(he,j.walkTokens),J.parse(he,j)}catch(pe){if(pe.message+=`
Please report this to https://github.com/markedjs/marked.`,j.silent)return"<p>An error occurred:</p><pre>"+o(pe.message+"",!0)+"</pre>";throw pe}}oe.options=oe.setOptions=function(Z){return w(oe.defaults,Z),_(oe.defaults),oe},oe.getDefaults=L,oe.defaults=U.defaults,oe.use=function(){for(var Z=arguments.length,j=new Array(Z),$=0;$<Z;$++)j[$]=arguments[$];var H=w.apply(void 0,[{}].concat(j)),te=oe.defaults.extensions||{renderers:{},childTokens:{}},ne;j.forEach(function(de){if(de.extensions&&(ne=!0,de.extensions.forEach(function(pe){if(!pe.name)throw new Error("extension name required");if(pe.renderer){var ve=te.renderers?te.renderers[pe.name]:null;ve?te.renderers[pe.name]=function(){for(var ue=arguments.length,Ce=new Array(ue),me=0;me<ue;me++)Ce[me]=arguments[me];var be=pe.renderer.apply(this,Ce);return be===!1&&(be=ve.apply(this,Ce)),be}:te.renderers[pe.name]=pe.renderer}if(pe.tokenizer){if(!pe.level||pe.level!=="block"&&pe.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");te[pe.level]?te[pe.level].unshift(pe.tokenizer):te[pe.level]=[pe.tokenizer],pe.start&&(pe.level==="block"?te.startBlock?te.startBlock.push(pe.start):te.startBlock=[pe.start]:pe.level==="inline"&&(te.startInline?te.startInline.push(pe.start):te.startInline=[pe.start]))}pe.childTokens&&(te.childTokens[pe.name]=pe.childTokens)})),de.renderer&&function(){var pe=oe.defaults.renderer||new ie,ve=function(me){var be=pe[me];pe[me]=function(){for(var ce=arguments.length,ge=new Array(ce),_e=0;_e<ce;_e++)ge[_e]=arguments[_e];var ye=de.renderer[me].apply(pe,ge);return ye===!1&&(ye=be.apply(pe,ge)),ye}};for(var ue in de.renderer)ve(ue);H.renderer=pe}(),de.tokenizer&&function(){var pe=oe.defaults.tokenizer||new P,ve=function(me){var be=pe[me];pe[me]=function(){for(var ce=arguments.length,ge=new Array(ce),_e=0;_e<ce;_e++)ge[_e]=arguments[_e];var ye=de.tokenizer[me].apply(pe,ge);return ye===!1&&(ye=be.apply(pe,ge)),ye}};for(var ue in de.tokenizer)ve(ue);H.tokenizer=pe}(),de.walkTokens){var he=oe.defaults.walkTokens;H.walkTokens=function(pe){de.walkTokens.call(this,pe),he&&he.call(this,pe)}}ne&&(H.extensions=te),oe.setOptions(H)})},oe.walkTokens=function(Z,j){for(var $=function(){var de=te.value;switch(j.call(oe,de),de.type){case"table":{for(var he=I(de.header),pe;!(pe=he()).done;){var ve=pe.value;oe.walkTokens(ve.tokens,j)}for(var ue=I(de.rows),Ce;!(Ce=ue()).done;)for(var me=Ce.value,be=I(me),ce;!(ce=be()).done;){var ge=ce.value;oe.walkTokens(ge.tokens,j)}break}case"list":{oe.walkTokens(de.items,j);break}default:oe.defaults.extensions&&oe.defaults.extensions.childTokens&&oe.defaults.extensions.childTokens[de.type]?oe.defaults.extensions.childTokens[de.type].forEach(function(_e){oe.walkTokens(de[_e],j)}):de.tokens&&oe.walkTokens(de.tokens,j)}},H=I(Z),te;!(te=H()).done;)$()},oe.parseInline=function(Z,j){if(typeof Z=="undefined"||Z===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Z!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Z)+", string expected");j=w({},oe.defaults,j||{}),B(j);try{var $=ee.lexInline(Z,j);return j.walkTokens&&oe.walkTokens($,j.walkTokens),J.parseInline($,j)}catch(H){if(H.message+=`
Please report this to https://github.com/markedjs/marked.`,j.silent)return"<p>An error occurred:</p><pre>"+o(H.message+"",!0)+"</pre>";throw H}},oe.Parser=J,oe.parser=J.parse,oe.Renderer=ie,oe.TextRenderer=Y,oe.Lexer=ee,oe.lexer=ee.lex,oe.Tokenizer=P,oe.Slugger=X,oe.parse=oe;var G=oe.options,x=oe.setOptions,V=oe.use,K=oe.walkTokens,le=oe.parseInline,ae=oe,Q=J.parse,q=ee.lex;U.Lexer=ee,U.Parser=J,U.Renderer=ie,U.Slugger=X,U.TextRenderer=Y,U.Tokenizer=P,U.getDefaults=L,U.lexer=q,U.marked=oe,U.options=G,U.parse=ae,U.parseInline=le,U.parser=Q,U.setOptions=x,U.use=V,U.walkTokens=K,Object.defineProperty(U,"__esModule",{value:!0})}),define(re[138],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mimes=void 0;var E;(function(m){m.text="text/plain",m.binary="application/octet-stream",m.unknown="application/unknown",m.markdown="text/markdown",m.latex="text/latex",m.uriList="text/uri-list"})(E=e.Mimes||(e.Mimes={}))}),define(re[169],se([1,0,138]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StaticDND=e.DragAndDropData=e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:E.Mimes.text};class m{constructor(I){this.data=I}update(){}getData(){return this.data}}e.DragAndDropData=m,e.StaticDND={CurrentDragAndDropData:void 0}}),define(re[322],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class E{constructor(k,I=0,L=k.length,_=I-1){this.items=k,this.start=I,this.end=L,this.index=_}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=E}),define(re[323],se([1,0,322]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class m{constructor(I=[],L=10){this._initialize(I),this._limit=L,this._onChange()}getHistory(){return this._elements}add(I){this._history.delete(I),this._history.add(I),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(I){return this._history.has(I)}_onChange(){this._reduceToLimit();const I=this._elements;this._navigator=new E.ArrayNavigator(I,0,I.length,I.length)}_reduceToLimit(){const I=this._elements;I.length>this._limit&&this._initialize(I.slice(I.length-this._limit))}_currentPosition(){const I=this._navigator.current();return I?this._elements.indexOf(I):-1}_initialize(I){this._history=new Set;for(const L of I)this._history.add(L)}get _elements(){const I=[];return this._history.forEach(L=>I.push(L)),I}}e.HistoryNavigator=m}),define(re[117],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlidingWindowAverage=e.MovingAverage=e.clamp=void 0;function E(I,L,_){return Math.min(Math.max(I,L),_)}e.clamp=E;class m{constructor(){this._n=1,this._val=0}update(L){return this._val=this._val+(L-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}e.MovingAverage=m;class k{constructor(L){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(L),this._values.fill(0,0,L)}update(L){const _=this._values[this._index];return this._values[this._index]=L,this._index=(this._index+1)%this._values.length,this._sum-=_,this._sum+=L,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}e.SlidingWindowAverage=k}),define(re[17],se([1,0]),function(U,e){"use strict";var E;Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isEdge=e.isSafari=e.isFirefox=e.isChrome=e.isLittleEndian=e.OS=e.setTimeout0=e.language=e.userAgent=e.isIOS=e.isWebWorker=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.globals=void 0;const m="en";let k=!1,I=!1,L=!1,_=!1,v=!1,u=!1,h=!1,i=!1,n=!1,t,o=m,d,r;e.globals=typeof self=="object"?self:typeof global=="object"?global:{};let c;typeof e.globals.vscode!="undefined"&&typeof e.globals.vscode.process!="undefined"?c=e.globals.vscode.process:typeof process!="undefined"&&(c=process);const s=typeof((E=c==null?void 0:c.versions)===null||E===void 0?void 0:E.electron)=="string",a=s&&(c==null?void 0:c.type)==="renderer";if(typeof navigator=="object"&&!a)r=navigator.userAgent,k=r.indexOf("Windows")>=0,I=r.indexOf("Macintosh")>=0,i=(r.indexOf("Macintosh")>=0||r.indexOf("iPad")>=0||r.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,L=r.indexOf("Linux")>=0,u=!0,t=navigator.language,o=t;else if(typeof c=="object"){k=c.platform==="win32",I=c.platform==="darwin",L=c.platform==="linux",_=L&&!!c.env.SNAP&&!!c.env.SNAP_REVISION,h=s,n=!!c.env.CI||!!c.env.BUILD_ARTIFACTSTAGINGDIRECTORY,t=m,o=m;const p=c.env.VSCODE_NLS_CONFIG;if(p)try{const C=JSON.parse(p),S=C.availableLanguages["*"];t=C.locale,o=S||m,d=C._translationsConfigFile}catch{}v=!0}else console.error("Unable to resolve platform.");let l=0;I?l=1:k?l=3:L&&(l=2),e.isWindows=k,e.isMacintosh=I,e.isLinux=L,e.isNative=v,e.isWeb=u,e.isWebWorker=u&&typeof e.globals.importScripts=="function",e.isIOS=i,e.userAgent=r,e.language=o,e.setTimeout0=(()=>{if(typeof e.globals.postMessage=="function"&&!e.globals.importScripts){let p=[];e.globals.addEventListener("message",S=>{if(S.data&&S.data.vscodeScheduleAsyncWork)for(let y=0,w=p.length;y<w;y++){const T=p[y];if(T.id===S.data.vscodeScheduleAsyncWork){p.splice(y,1),T.callback();return}}});let C=0;return S=>{const y=++C;p.push({id:y,callback:S}),e.globals.postMessage({vscodeScheduleAsyncWork:y},"*")}}return p=>setTimeout(p)})(),e.OS=I||i?2:k?1:3;let f=!0,g=!1;function b(){if(!g){g=!0;const p=new Uint8Array(2);p[0]=1,p[1]=2,f=new Uint16Array(p.buffer)[0]===(2<<8)+1}return f}e.isLittleEndian=b,e.isChrome=!!(e.userAgent&&e.userAgent.indexOf("Chrome")>=0),e.isFirefox=!!(e.userAgent&&e.userAgent.indexOf("Firefox")>=0),e.isSafari=!!(!e.isChrome&&e.userAgent&&e.userAgent.indexOf("Safari")>=0),e.isEdge=!!(e.userAgent&&e.userAgent.indexOf("Edg/")>=0),e.isAndroid=!!(e.userAgent&&e.userAgent.indexOf("Android")>=0)}),define(re[324],se([1,0,17]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let m;if(typeof E.globals.vscode!="undefined"&&typeof E.globals.vscode.process!="undefined"){const k=E.globals.vscode.process;m={get platform(){return k.platform},get arch(){return k.arch},get env(){return k.env},cwd(){return k.cwd()}}}else typeof process!="undefined"?m={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:m={get platform(){return E.isWindows?"win32":E.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=m.cwd,e.env=m.env,e.platform=m.platform}),define(re[85],se([1,0,324]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const m=65,k=97,I=90,L=122,_=46,v=47,u=92,h=58,i=63;class n extends Error{constructor(l,f,g){let b;typeof f=="string"&&f.indexOf("not ")===0?(b="must not be",f=f.replace(/^not /,"")):b="must be";const p=l.indexOf(".")!==-1?"property":"argument";let C=`The "${l}" ${p} ${b} of type ${f}`;C+=`. Received type ${typeof g}`;super(C);this.code="ERR_INVALID_ARG_TYPE"}}function t(a,l){if(typeof a!="string")throw new n(l,"string",a)}function o(a){return a===v||a===u}function d(a){return a===v}function r(a){return a>=m&&a<=I||a>=k&&a<=L}function c(a,l,f,g){let b="",p=0,C=-1,S=0,y=0;for(let w=0;w<=a.length;++w){if(w<a.length)y=a.charCodeAt(w);else{if(g(y))break;y=v}if(g(y)){if(!(C===w-1||S===1))if(S===2){if(b.length<2||p!==2||b.charCodeAt(b.length-1)!==_||b.charCodeAt(b.length-2)!==_){if(b.length>2){const T=b.lastIndexOf(f);T===-1?(b="",p=0):(b=b.slice(0,T),p=b.length-1-b.lastIndexOf(f)),C=w,S=0;continue}else if(b.length!==0){b="",p=0,C=w,S=0;continue}}l&&(b+=b.length>0?`${f}..`:"..",p=2)}else b.length>0?b+=`${f}${a.slice(C+1,w)}`:b=a.slice(C+1,w),p=w-C-1;C=w,S=0}else y===_&&S!==-1?++S:S=-1}return b}function s(a,l){if(l===null||typeof l!="object")throw new n("pathObject","Object",l);const f=l.dir||l.root,g=l.base||`${l.name||""}${l.ext||""}`;return f?f===l.root?`${f}${g}`:`${f}${a}${g}`:g}e.win32={resolve(...a){let l="",f="",g=!1;for(let b=a.length-1;b>=-1;b--){let p;if(b>=0){if(p=a[b],t(p,"path"),p.length===0)continue}else l.length===0?p=E.cwd():(p=E.env[`=${l}`]||E.cwd(),(p===void 0||p.slice(0,2).toLowerCase()!==l.toLowerCase()&&p.charCodeAt(2)===u)&&(p=`${l}\\`));const C=p.length;let S=0,y="",w=!1;const T=p.charCodeAt(0);if(C===1)o(T)&&(S=1,w=!0);else if(o(T))if(w=!0,o(p.charCodeAt(1))){let N=2,R=N;for(;N<C&&!o(p.charCodeAt(N));)N++;if(N<C&&N!==R){const B=p.slice(R,N);for(R=N;N<C&&o(p.charCodeAt(N));)N++;if(N<C&&N!==R){for(R=N;N<C&&!o(p.charCodeAt(N));)N++;(N===C||N!==R)&&(y=`\\\\${B}\\${p.slice(R,N)}`,S=N)}}}else S=1;else r(T)&&p.charCodeAt(1)===h&&(y=p.slice(0,2),S=2,C>2&&o(p.charCodeAt(2))&&(w=!0,S=3));if(y.length>0)if(l.length>0){if(y.toLowerCase()!==l.toLowerCase())continue}else l=y;if(g){if(l.length>0)break}else if(f=`${p.slice(S)}\\${f}`,g=w,w&&l.length>0)break}return f=c(f,!g,"\\",o),g?`${l}\\${f}`:`${l}${f}`||"."},normalize(a){t(a,"path");const l=a.length;if(l===0)return".";let f=0,g,b=!1;const p=a.charCodeAt(0);if(l===1)return d(p)?"\\":a;if(o(p))if(b=!0,o(a.charCodeAt(1))){let S=2,y=S;for(;S<l&&!o(a.charCodeAt(S));)S++;if(S<l&&S!==y){const w=a.slice(y,S);for(y=S;S<l&&o(a.charCodeAt(S));)S++;if(S<l&&S!==y){for(y=S;S<l&&!o(a.charCodeAt(S));)S++;if(S===l)return`\\\\${w}\\${a.slice(y)}\\`;S!==y&&(g=`\\\\${w}\\${a.slice(y,S)}`,f=S)}}}else f=1;else r(p)&&a.charCodeAt(1)===h&&(g=a.slice(0,2),f=2,l>2&&o(a.charCodeAt(2))&&(b=!0,f=3));let C=f<l?c(a.slice(f),!b,"\\",o):"";return C.length===0&&!b&&(C="."),C.length>0&&o(a.charCodeAt(l-1))&&(C+="\\"),g===void 0?b?`\\${C}`:C:b?`${g}\\${C}`:`${g}${C}`},isAbsolute(a){t(a,"path");const l=a.length;if(l===0)return!1;const f=a.charCodeAt(0);return o(f)||l>2&&r(f)&&a.charCodeAt(1)===h&&o(a.charCodeAt(2))},join(...a){if(a.length===0)return".";let l,f;for(let p=0;p<a.length;++p){const C=a[p];t(C,"path"),C.length>0&&(l===void 0?l=f=C:l+=`\\${C}`)}if(l===void 0)return".";let g=!0,b=0;if(typeof f=="string"&&o(f.charCodeAt(0))){++b;const p=f.length;p>1&&o(f.charCodeAt(1))&&(++b,p>2&&(o(f.charCodeAt(2))?++b:g=!1))}if(g){for(;b<l.length&&o(l.charCodeAt(b));)b++;b>=2&&(l=`\\${l.slice(b)}`)}return e.win32.normalize(l)},relative(a,l){if(t(a,"from"),t(l,"to"),a===l)return"";const f=e.win32.resolve(a),g=e.win32.resolve(l);if(f===g||(a=f.toLowerCase(),l=g.toLowerCase(),a===l))return"";let b=0;for(;b<a.length&&a.charCodeAt(b)===u;)b++;let p=a.length;for(;p-1>b&&a.charCodeAt(p-1)===u;)p--;const C=p-b;let S=0;for(;S<l.length&&l.charCodeAt(S)===u;)S++;let y=l.length;for(;y-1>S&&l.charCodeAt(y-1)===u;)y--;const w=y-S,T=C<w?C:w;let N=-1,R=0;for(;R<T;R++){const O=a.charCodeAt(b+R);if(O!==l.charCodeAt(S+R))break;O===u&&(N=R)}if(R!==T){if(N===-1)return g}else{if(w>T){if(l.charCodeAt(S+R)===u)return g.slice(S+R+1);if(R===2)return g.slice(S+R)}C>T&&(a.charCodeAt(b+R)===u?N=R:R===2&&(N=3)),N===-1&&(N=0)}let B="";for(R=b+N+1;R<=p;++R)(R===p||a.charCodeAt(R)===u)&&(B+=B.length===0?"..":"\\..");return S+=N,B.length>0?`${B}${g.slice(S,y)}`:(g.charCodeAt(S)===u&&++S,g.slice(S,y))},toNamespacedPath(a){if(typeof a!="string")return a;if(a.length===0)return"";const l=e.win32.resolve(a);if(l.length<=2)return a;if(l.charCodeAt(0)===u){if(l.charCodeAt(1)===u){const f=l.charCodeAt(2);if(f!==i&&f!==_)return`\\\\?\\UNC\\${l.slice(2)}`}}else if(r(l.charCodeAt(0))&&l.charCodeAt(1)===h&&l.charCodeAt(2)===u)return`\\\\?\\${l}`;return a},dirname(a){t(a,"path");const l=a.length;if(l===0)return".";let f=-1,g=0;const b=a.charCodeAt(0);if(l===1)return o(b)?a:".";if(o(b)){if(f=g=1,o(a.charCodeAt(1))){let S=2,y=S;for(;S<l&&!o(a.charCodeAt(S));)S++;if(S<l&&S!==y){for(y=S;S<l&&o(a.charCodeAt(S));)S++;if(S<l&&S!==y){for(y=S;S<l&&!o(a.charCodeAt(S));)S++;if(S===l)return a;S!==y&&(f=g=S+1)}}}}else r(b)&&a.charCodeAt(1)===h&&(f=l>2&&o(a.charCodeAt(2))?3:2,g=f);let p=-1,C=!0;for(let S=l-1;S>=g;--S)if(o(a.charCodeAt(S))){if(!C){p=S;break}}else C=!1;if(p===-1){if(f===-1)return".";p=f}return a.slice(0,p)},basename(a,l){l!==void 0&&t(l,"ext"),t(a,"path");let f=0,g=-1,b=!0,p;if(a.length>=2&&r(a.charCodeAt(0))&&a.charCodeAt(1)===h&&(f=2),l!==void 0&&l.length>0&&l.length<=a.length){if(l===a)return"";let C=l.length-1,S=-1;for(p=a.length-1;p>=f;--p){const y=a.charCodeAt(p);if(o(y)){if(!b){f=p+1;break}}else S===-1&&(b=!1,S=p+1),C>=0&&(y===l.charCodeAt(C)?--C==-1&&(g=p):(C=-1,g=S))}return f===g?g=S:g===-1&&(g=a.length),a.slice(f,g)}for(p=a.length-1;p>=f;--p)if(o(a.charCodeAt(p))){if(!b){f=p+1;break}}else g===-1&&(b=!1,g=p+1);return g===-1?"":a.slice(f,g)},extname(a){t(a,"path");let l=0,f=-1,g=0,b=-1,p=!0,C=0;a.length>=2&&a.charCodeAt(1)===h&&r(a.charCodeAt(0))&&(l=g=2);for(let S=a.length-1;S>=l;--S){const y=a.charCodeAt(S);if(o(y)){if(!p){g=S+1;break}continue}b===-1&&(p=!1,b=S+1),y===_?f===-1?f=S:C!==1&&(C=1):f!==-1&&(C=-1)}return f===-1||b===-1||C===0||C===1&&f===b-1&&f===g+1?"":a.slice(f,b)},format:s.bind(null,"\\"),parse(a){t(a,"path");const l={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return l;const f=a.length;let g=0,b=a.charCodeAt(0);if(f===1)return o(b)?(l.root=l.dir=a,l):(l.base=l.name=a,l);if(o(b)){if(g=1,o(a.charCodeAt(1))){let N=2,R=N;for(;N<f&&!o(a.charCodeAt(N));)N++;if(N<f&&N!==R){for(R=N;N<f&&o(a.charCodeAt(N));)N++;if(N<f&&N!==R){for(R=N;N<f&&!o(a.charCodeAt(N));)N++;N===f?g=N:N!==R&&(g=N+1)}}}}else if(r(b)&&a.charCodeAt(1)===h){if(f<=2)return l.root=l.dir=a,l;if(g=2,o(a.charCodeAt(2))){if(f===3)return l.root=l.dir=a,l;g=3}}g>0&&(l.root=a.slice(0,g));let p=-1,C=g,S=-1,y=!0,w=a.length-1,T=0;for(;w>=g;--w){if(b=a.charCodeAt(w),o(b)){if(!y){C=w+1;break}continue}S===-1&&(y=!1,S=w+1),b===_?p===-1?p=w:T!==1&&(T=1):p!==-1&&(T=-1)}return S!==-1&&(p===-1||T===0||T===1&&p===S-1&&p===C+1?l.base=l.name=a.slice(C,S):(l.name=a.slice(C,p),l.base=a.slice(C,S),l.ext=a.slice(p,S))),C>0&&C!==g?l.dir=a.slice(0,C-1):l.dir=l.root,l},sep:"\\",delimiter:";",win32:null,posix:null},e.posix={resolve(...a){let l="",f=!1;for(let g=a.length-1;g>=-1&&!f;g--){const b=g>=0?a[g]:E.cwd();t(b,"path"),b.length!==0&&(l=`${b}/${l}`,f=b.charCodeAt(0)===v)}return l=c(l,!f,"/",d),f?`/${l}`:l.length>0?l:"."},normalize(a){if(t(a,"path"),a.length===0)return".";const l=a.charCodeAt(0)===v,f=a.charCodeAt(a.length-1)===v;return a=c(a,!l,"/",d),a.length===0?l?"/":f?"./":".":(f&&(a+="/"),l?`/${a}`:a)},isAbsolute(a){return t(a,"path"),a.length>0&&a.charCodeAt(0)===v},join(...a){if(a.length===0)return".";let l;for(let f=0;f<a.length;++f){const g=a[f];t(g,"path"),g.length>0&&(l===void 0?l=g:l+=`/${g}`)}return l===void 0?".":e.posix.normalize(l)},relative(a,l){if(t(a,"from"),t(l,"to"),a===l||(a=e.posix.resolve(a),l=e.posix.resolve(l),a===l))return"";const f=1,g=a.length,b=g-f,p=1,C=l.length-p,S=b<C?b:C;let y=-1,w=0;for(;w<S;w++){const N=a.charCodeAt(f+w);if(N!==l.charCodeAt(p+w))break;N===v&&(y=w)}if(w===S)if(C>S){if(l.charCodeAt(p+w)===v)return l.slice(p+w+1);if(w===0)return l.slice(p+w)}else b>S&&(a.charCodeAt(f+w)===v?y=w:w===0&&(y=0));let T="";for(w=f+y+1;w<=g;++w)(w===g||a.charCodeAt(w)===v)&&(T+=T.length===0?"..":"/..");return`${T}${l.slice(p+y)}`},toNamespacedPath(a){return a},dirname(a){if(t(a,"path"),a.length===0)return".";const l=a.charCodeAt(0)===v;let f=-1,g=!0;for(let b=a.length-1;b>=1;--b)if(a.charCodeAt(b)===v){if(!g){f=b;break}}else g=!1;return f===-1?l?"/":".":l&&f===1?"//":a.slice(0,f)},basename(a,l){l!==void 0&&t(l,"ext"),t(a,"path");let f=0,g=-1,b=!0,p;if(l!==void 0&&l.length>0&&l.length<=a.length){if(l===a)return"";let C=l.length-1,S=-1;for(p=a.length-1;p>=0;--p){const y=a.charCodeAt(p);if(y===v){if(!b){f=p+1;break}}else S===-1&&(b=!1,S=p+1),C>=0&&(y===l.charCodeAt(C)?--C==-1&&(g=p):(C=-1,g=S))}return f===g?g=S:g===-1&&(g=a.length),a.slice(f,g)}for(p=a.length-1;p>=0;--p)if(a.charCodeAt(p)===v){if(!b){f=p+1;break}}else g===-1&&(b=!1,g=p+1);return g===-1?"":a.slice(f,g)},extname(a){t(a,"path");let l=-1,f=0,g=-1,b=!0,p=0;for(let C=a.length-1;C>=0;--C){const S=a.charCodeAt(C);if(S===v){if(!b){f=C+1;break}continue}g===-1&&(b=!1,g=C+1),S===_?l===-1?l=C:p!==1&&(p=1):l!==-1&&(p=-1)}return l===-1||g===-1||p===0||p===1&&l===g-1&&l===f+1?"":a.slice(l,g)},format:s.bind(null,"/"),parse(a){t(a,"path");const l={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return l;const f=a.charCodeAt(0)===v;let g;f?(l.root="/",g=1):g=0;let b=-1,p=0,C=-1,S=!0,y=a.length-1,w=0;for(;y>=g;--y){const T=a.charCodeAt(y);if(T===v){if(!S){p=y+1;break}continue}C===-1&&(S=!1,C=y+1),T===_?b===-1?b=y:w!==1&&(w=1):b!==-1&&(w=-1)}if(C!==-1){const T=p===0&&f?1:p;b===-1||w===0||w===1&&b===C-1&&b===p+1?l.base=l.name=a.slice(T,C):(l.name=a.slice(T,b),l.base=a.slice(T,C),l.ext=a.slice(b,C))}return p>0?l.dir=a.slice(0,p-1):f&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=E.platform==="win32"?e.win32.normalize:e.posix.normalize,e.resolve=E.platform==="win32"?e.win32.resolve:e.posix.resolve,e.relative=E.platform==="win32"?e.win32.relative:e.posix.relative,e.dirname=E.platform==="win32"?e.win32.dirname:e.posix.dirname,e.basename=E.platform==="win32"?e.win32.basename:e.posix.basename,e.extname=E.platform==="win32"?e.win32.extname:e.posix.extname,e.sep=E.platform==="win32"?e.win32.sep:e.posix.sep}),define(re[139],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var E;(function(m){function k(v,u){if(v.start>=u.end||u.start>=v.end)return{start:0,end:0};const h=Math.max(v.start,u.start),i=Math.min(v.end,u.end);return i-h<=0?{start:0,end:0}:{start:h,end:i}}m.intersect=k;function I(v){return v.end-v.start<=0}m.isEmpty=I;function L(v,u){return!I(k(v,u))}m.intersects=L;function _(v,u){const h=[],i={start:v.start,end:Math.min(u.start,v.end)},n={start:Math.max(u.end,v.start),end:v.end};return I(i)||h.push(i),I(n)||h.push(n),h}m.relativeComplement=_})(E=e.Range||(e.Range={}))}),define(re[325],se([1,0,139]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=e.consolidate=e.shift=e.groupIntersect=void 0;function m(v,u){const h=[];for(let i of u){if(v.start>=i.range.end)continue;if(v.end<i.range.start)break;const n=E.Range.intersect(v,i.range);E.Range.isEmpty(n)||h.push({range:n,size:i.size})}return h}e.groupIntersect=m;function k({start:v,end:u},h){return{start:v+h,end:u+h}}e.shift=k;function I(v){const u=[];let h=null;for(let i of v){const n=i.range.start,t=i.range.end,o=i.size;if(h&&o===h.size){h.range.end=t;continue}h={range:{start:n,end:t},size:o},u.push(h)}return u}e.consolidate=I;function L(...v){return I(v.reduce((u,h)=>u.concat(h),[]))}class _{constructor(){this.groups=[],this._size=0}splice(u,h,i=[]){const n=i.length-h,t=m({start:0,end:u},this.groups),o=m({start:u+h,end:Number.POSITIVE_INFINITY},this.groups).map(r=>({range:k(r.range,n),size:r.size})),d=i.map((r,c)=>({range:{start:u+c,end:u+c+1},size:r.size}));this.groups=L(t,d,o),this._size=this.groups.reduce((r,c)=>r+c.size*(c.range.end-c.range.start),0)}get count(){const u=this.groups.length;return u?this.groups[u-1].range.end:0}get size(){return this._size}indexAt(u){if(u<0)return-1;let h=0,i=0;for(let n of this.groups){const t=n.range.end-n.range.start,o=i+t*n.size;if(u<o)return h+Math.floor((u-i)/n.size);h+=t,i=o}return h}indexAfter(u){return Math.min(this.indexAt(u)+1,this.count)}positionAt(u){if(u<0)return-1;let h=0,i=0;for(let n of this.groups){const t=n.range.end-n.range.start,o=i+t;if(u<o)return h+(u-i)*n.size;h+=t*n.size,i=o}return-1}}e.RangeMap=_}),define(re[56],se([1,0,17]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const m=E.globals.performance&&typeof E.globals.performance.now=="function";class k{constructor(L){this._highResolution=m&&L,this._startTime=this._now(),this._stopTime=-1}static create(L=!0){return new k(L)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?E.globals.performance.now():Date.now()}}e.StopWatch=k}),define(re[4],se([1,0,13,2,84,56]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.DebounceEmitter=e.PauseableEmitter=e.EventDeliveryQueue=e.Emitter=e.Event=void 0;let L=!1,_=!1;var v;(function(g){g.None=()=>m.Disposable.None;function b(Y){if(_){const{onListenerDidAdd:X}=Y,J=n.create();let oe=0;Y.onListenerDidAdd=()=>{++oe==2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),J.print()),X==null||X()}}}function p(Y){return(X,J=null,oe)=>{let G=!1,x;return x=Y(V=>{if(!G)return x?x.dispose():G=!0,X.call(J,V)},null,oe),G&&x.dispose(),x}}g.once=p;function C(Y,X,J){return R((oe,G=null,x)=>Y(V=>oe.call(G,X(V)),null,x),J)}g.map=C;function S(Y,X,J){return R((oe,G=null,x)=>Y(V=>{X(V),oe.call(G,V)},null,x),J)}g.forEach=S;function y(Y,X,J){return R((oe,G=null,x)=>Y(V=>X(V)&&oe.call(G,V),null,x),J)}g.filter=y;function w(Y){return Y}g.signal=w;function T(...Y){return(X,J=null,oe)=>(0,m.combinedDisposable)(...Y.map(G=>G(x=>X.call(J,x),null,oe)))}g.any=T;function N(Y,X,J,oe){let G=J;return C(Y,x=>(G=X(G,x),G),oe)}g.reduce=N;function R(Y,X){let J;const oe={onFirstListenerAdd(){J=Y(G.fire,G)},onLastListenerRemove(){J.dispose()}};X||b(oe);const G=new o(oe);return X&&X.add(G),G.event}function B(Y,X,J=100,oe=!1,G,x){let V,K,le,ae=0;const Q={leakWarningThreshold:G,onFirstListenerAdd(){V=Y(Z=>{ae++,K=X(K,Z),oe&&!le&&(q.fire(K),K=void 0),clearTimeout(le),le=setTimeout(()=>{const j=K;K=void 0,le=void 0,(!oe||ae>1)&&q.fire(j),ae=0},J)})},onLastListenerRemove(){V.dispose()}};x||b(Q);const q=new o(Q);return x&&x.add(q),q.event}g.debounce=B;function O(Y,X=(oe,G)=>oe===G,J){let oe=!0,G;return y(Y,x=>{const V=oe||!X(x,G);return oe=!1,G=x,V},J)}g.latch=O;function D(Y,X,J){return[g.filter(Y,X,J),g.filter(Y,oe=>!X(oe),J)]}g.split=D;function A(Y,X=!1,J=[]){let oe=J.slice(),G=Y(K=>{oe?oe.push(K):V.fire(K)});const x=()=>{oe&&oe.forEach(K=>V.fire(K)),oe=null},V=new o({onFirstListenerAdd(){G||(G=Y(K=>V.fire(K)))},onFirstListenerDidAdd(){oe&&(X?setTimeout(x):x())},onLastListenerRemove(){G&&G.dispose(),G=null}});return V.event}g.buffer=A;class P{constructor(X){this.event=X}map(X){return new P(C(this.event,X))}forEach(X){return new P(S(this.event,X))}filter(X){return new P(y(this.event,X))}reduce(X,J){return new P(N(this.event,X,J))}latch(){return new P(O(this.event))}debounce(X,J=100,oe=!1,G){return new P(B(this.event,X,J,oe,G))}on(X,J,oe){return this.event(X,J,oe)}once(X,J,oe){return p(this.event)(X,J,oe)}}function F(Y){return new P(Y)}g.chain=F;function W(Y,X,J=oe=>oe){const oe=(...K)=>V.fire(J(...K)),G=()=>Y.on(X,oe),x=()=>Y.removeListener(X,oe),V=new o({onFirstListenerAdd:G,onLastListenerRemove:x});return V.event}g.fromNodeEventEmitter=W;function M(Y,X,J=oe=>oe){const oe=(...K)=>V.fire(J(...K)),G=()=>Y.addEventListener(X,oe),x=()=>Y.removeEventListener(X,oe),V=new o({onFirstListenerAdd:G,onLastListenerRemove:x});return V.event}g.fromDOMEventEmitter=M;function z(Y){return new Promise(X=>p(Y)(X))}g.toPromise=z;function ee(Y,X){return X(void 0),Y(J=>X(J))}g.runAndSubscribe=ee;function ie(Y,X){let J=null;function oe(x){J==null||J.dispose(),J=new m.DisposableStore,X(x,J)}oe(void 0);const G=Y(x=>oe(x));return(0,m.toDisposable)(()=>{G.dispose(),J==null||J.dispose()})}g.runAndSubscribeWithStore=ie})(v=e.Event||(e.Event={}));class u{constructor(b){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${b}_${u._idPool++}`}start(b){this._stopWatch=new I.StopWatch(!0),this._listenerCount=b}stop(){if(this._stopWatch){const b=this._stopWatch.elapsed();this._elapsedOverall+=b,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${b.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}u._idPool=0;let h=-1;class i{constructor(b,p=Math.random().toString(18).slice(2,5)){this.customThreshold=b,this.name=p,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(b,p){let C=h;if(typeof this.customThreshold=="number"&&(C=this.customThreshold),C<=0||p<C)return;this._stacks||(this._stacks=new Map);const S=this._stacks.get(b.value)||0;if(this._stacks.set(b.value,S+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=C*.5;let y,w=0;for(const[T,N]of this._stacks)(!y||w<N)&&(y=T,w=N);console.warn(`[${this.name}] potential listener LEAK detected, having ${p} listeners already. MOST frequent listener (${w}):`),console.warn(y)}return()=>{const y=this._stacks.get(b.value)||0;this._stacks.set(b.value,y-1)}}}class n{constructor(b){this.value=b}static create(){var b;return new n((b=new Error().stack)!==null&&b!==void 0?b:"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class t{constructor(b,p,C){this.callback=b,this.callbackThis=p,this.stack=C,this.subscription=new m.SafeDisposable}invoke(b){this.callback.call(this.callbackThis,b)}}class o{constructor(b){var p,C;this._disposed=!1,this._options=b,this._leakageMon=h>0?new i(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=((p=this._options)===null||p===void 0?void 0:p._profName)?new u(this._options._profName):void 0,this._deliveryQueue=(C=this._options)===null||C===void 0?void 0:C.deliveryQueue}dispose(){var b,p,C,S;if(!this._disposed){if(this._disposed=!0,this._listeners){if(L){const y=Array.from(this._listeners);queueMicrotask(()=>{var w;for(const T of y)T.subscription.isset()&&(T.subscription.unset(),(w=T.stack)===null||w===void 0||w.print())})}this._listeners.clear()}(b=this._deliveryQueue)===null||b===void 0||b.clear(this),(C=(p=this._options)===null||p===void 0?void 0:p.onLastListenerRemove)===null||C===void 0||C.call(p),(S=this._leakageMon)===null||S===void 0||S.dispose()}}get event(){return this._event||(this._event=(b,p,C)=>{var S,y,w;this._listeners||(this._listeners=new k.LinkedList);const T=this._listeners.isEmpty();T&&((S=this._options)===null||S===void 0?void 0:S.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this);let N,R;this._leakageMon&&this._listeners.size>=30&&(R=n.create(),N=this._leakageMon.check(R,this._listeners.size+1)),L&&(R=R??n.create());const B=new t(b,p,R),O=this._listeners.push(B);T&&((y=this._options)===null||y===void 0?void 0:y.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),((w=this._options)===null||w===void 0?void 0:w.onListenerDidAdd)&&this._options.onListenerDidAdd(this,b,p);const D=B.subscription.set(()=>{N&&N(),this._disposed||(O(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return C instanceof m.DisposableStore?C.add(D):Array.isArray(C)&&C.push(D),D}),this._event}fire(b){var p,C;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new r);for(let S of this._listeners)this._deliveryQueue.push(this,S,b);(p=this._perfMon)===null||p===void 0||p.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),(C=this._perfMon)===null||C===void 0||C.stop()}}}e.Emitter=o;class d{constructor(){this._queue=new k.LinkedList}get size(){return this._queue.size}push(b,p,C){this._queue.push(new c(b,p,C))}clear(b){const p=new k.LinkedList;for(const C of this._queue)C.emitter!==b&&p.push(C);this._queue=p}deliver(){for(;this._queue.size>0;){const b=this._queue.shift();try{b.listener.invoke(b.event)}catch(p){(0,E.onUnexpectedError)(p)}}}}e.EventDeliveryQueue=d;class r extends d{clear(b){this._queue.clear()}}class c{constructor(b,p,C){this.emitter=b,this.listener=p,this.event=C}}class s extends o{constructor(b){super(b);this._isPaused=0,this._eventQueue=new k.LinkedList,this._mergeFn=b==null?void 0:b.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused==0)if(this._mergeFn){const b=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(b))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(b){this._listeners&&(this._isPaused!==0?this._eventQueue.push(b):super.fire(b))}}e.PauseableEmitter=s;class a extends s{constructor(b){var p;super(b);this._delay=(p=b.delay)!==null&&p!==void 0?p:100}fire(b){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(b)}}e.DebounceEmitter=a;class l{constructor(){this.buffers=[]}wrapEvent(b){return(p,C,S)=>b(y=>{const w=this.buffers[this.buffers.length-1];w?w.push(()=>p.call(C,y)):p.call(C,y)},void 0,S)}bufferEvents(b){const p=[];this.buffers.push(p);const C=b();return this.buffers.pop(),p.forEach(S=>S()),C}}e.EventBufferer=l;class f{constructor(){this.listening=!1,this.inputEvent=v.None,this.inputEventListener=m.Disposable.None,this.emitter=new o({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(b){this.inputEvent=b,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=b(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=f}),define(re[34],se([1,0,4,2]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStandalone=e.isAndroid=e.isElectron=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=e.getZoomFactor=e.PixelRatio=e.addMatchMediaChangeListener=void 0;class k{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}k.INSTANCE=new k;class I extends m.Disposable{constructor(){super();this._onDidChange=this._register(new E.Emitter),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(o){this._mediaQueryList&&this._mediaQueryList.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),o&&this._onDidChange.fire()}}class L extends m.Disposable{constructor(){super();this._onDidChange=this._register(new E.Emitter),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const o=this._register(new I);this._register(o.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}get value(){return this._value}_getPixelRatio(){const o=document.createElement("canvas").getContext("2d"),d=window.devicePixelRatio||1,r=o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1;return d/r}}class _{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,m.markAsSingleton)(new L)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function v(t,o){typeof t=="string"&&(t=window.matchMedia(t)),t.addEventListener("change",o)}e.addMatchMediaChangeListener=v,e.PixelRatio=new _;function u(){return k.INSTANCE.getZoomFactor()}e.getZoomFactor=u;const h=navigator.userAgent;e.isFirefox=h.indexOf("Firefox")>=0,e.isWebKit=h.indexOf("AppleWebKit")>=0,e.isChrome=h.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&h.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isElectron=h.indexOf("Electron/")>=0,e.isAndroid=h.indexOf("Android")>=0;let i=!1;if(window.matchMedia){const t=window.matchMedia("(display-mode: standalone)");i=t.matches,v(t,({matches:o})=>{i=o})}function n(){return i}e.isStandalone=n}),define(re[170],se([1,0,34,17]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:m.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:m.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>m.isNative||E.isStandalone()?0:navigator.keyboard||E.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}}),define(re[93],se([1,0,4]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stopEvent=e.DomEmitter=void 0;class m{constructor(L,_,v){const u=h=>this.emitter.fire(h);this.emitter=new E.Emitter({onFirstListenerAdd:()=>L.addEventListener(_,u,v),onLastListenerRemove:()=>L.removeEventListener(_,u,v)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}e.DomEmitter=m;function k(I){return I.preventDefault(),I.stopPropagation(),I}e.stopEvent=k}),define(re[44],se([1,0,34,59,100,17]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;function L(n){if(n.charCode){let o=String.fromCharCode(n.charCode).toUpperCase();return m.KeyCodeUtils.fromString(o)}const t=n.keyCode;if(t===3)return 7;if(E.isFirefox){if(t===59)return 80;if(t===107)return 81;if(t===109)return 83;if(I.isMacintosh&&t===224)return 57}else if(E.isWebKit){if(t===91)return 57;if(I.isMacintosh&&t===93)return 57;if(!I.isMacintosh&&t===92)return 57}return m.EVENT_KEY_CODE_MAP[t]||0}const _=I.isMacintosh?256:2048,v=512,u=1024,h=I.isMacintosh?2048:256;class i{constructor(t){this._standardKeyboardEventBrand=!0;let o=t;this.browserEvent=o,this.target=o.target,this.ctrlKey=o.ctrlKey,this.shiftKey=o.shiftKey,this.altKey=o.altKey,this.metaKey=o.metaKey,this.keyCode=L(o),this.code=o.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(t){return this._asKeybinding===t}_computeKeybinding(){let t=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode);let o=0;return this.ctrlKey&&(o|=_),this.altKey&&(o|=v),this.shiftKey&&(o|=u),this.metaKey&&(o|=h),o|=t,o}_computeRuntimeKeybinding(){let t=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(t=this.keyCode),new k.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,t)}}e.StandardKeyboardEvent=i}),define(re[63],se([1,0,34,317,17]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class I{constructor(v){this.timestamp=Date.now(),this.browserEvent=v,this.leftButton=v.button===0,this.middleButton=v.button===1,this.rightButton=v.button===2,this.buttons=v.buttons,this.target=v.target,this.detail=v.detail||1,v.type==="dblclick"&&(this.detail=2),this.ctrlKey=v.ctrlKey,this.shiftKey=v.shiftKey,this.altKey=v.altKey,this.metaKey=v.metaKey,typeof v.pageX=="number"?(this.posx=v.pageX,this.posy=v.pageY):(this.posx=v.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=v.clientY+document.body.scrollTop+document.documentElement.scrollTop);let u=m.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,v.view);this.posx-=u.left,this.posy-=u.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=I;class L{constructor(v,u=0,h=0){if(this.browserEvent=v||null,this.target=v?v.target||v.targetNode||v.srcElement:null,this.deltaY=h,this.deltaX=u,v){let i=v,n=v;if(typeof i.wheelDeltaY!="undefined")this.deltaY=i.wheelDeltaY/120;else if(typeof n.VERTICAL_AXIS!="undefined"&&n.axis===n.VERTICAL_AXIS)this.deltaY=-n.detail/3;else if(v.type==="wheel"){const t=v;t.deltaMode===t.DOM_DELTA_LINE?E.isFirefox&&!k.isMacintosh?this.deltaY=-v.deltaY/3:this.deltaY=-v.deltaY:this.deltaY=-v.deltaY/40}if(typeof i.wheelDeltaX!="undefined")E.isSafari&&k.isWindows?this.deltaX=-(i.wheelDeltaX/120):this.deltaX=i.wheelDeltaX/120;else if(typeof n.HORIZONTAL_AXIS!="undefined"&&n.axis===n.HORIZONTAL_AXIS)this.deltaX=-v.detail/3;else if(v.type==="wheel"){const t=v;t.deltaMode===t.DOM_DELTA_LINE?E.isFirefox&&!k.isMacintosh?this.deltaX=-v.deltaX/3:this.deltaX=-v.deltaX:this.deltaX=-v.deltaX/40}this.deltaY===0&&this.deltaX===0&&v.wheelDelta&&(this.deltaY=v.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}e.StandardWheelEvent=L}),define(re[21],se([1,0,4]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const m=Object.freeze(function(_,v){const u=setTimeout(_.bind(v),0);return{dispose(){clearTimeout(u)}}});var k;(function(_){function v(u){return u===_.None||u===_.Cancelled||u instanceof I?!0:!u||typeof u!="object"?!1:typeof u.isCancellationRequested=="boolean"&&typeof u.onCancellationRequested=="function"}_.isCancellationToken=v,_.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:E.Event.None}),_.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:m})})(k=e.CancellationToken||(e.CancellationToken={}));class I{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?m:(this._emitter||(this._emitter=new E.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class L{constructor(v){this._token=void 0,this._parentListener=void 0,this._parentListener=v&&v.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new I),this._token}cancel(){this._token?this._token instanceof I&&this._token.cancel():this._token=k.Cancelled}dispose(v=!1){v&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof I&&this._token.dispose():this._token=k.None}}e.CancellationTokenSource=L});var Le=this&&this.__awaiter||function(U,e,E,m){function k(I){return I instanceof E?I:new E(function(L){L(I)})}return new(E||(E=Promise))(function(I,L){function _(h){try{u(m.next(h))}catch(i){L(i)}}function v(h){try{u(m.throw(h))}catch(i){L(i)}}function u(h){h.done?I(h.value):k(h.value).then(_,v)}u((m=m.apply(U,e||[])).next())})},Ct=this&&this.__asyncValues||function(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=U[Symbol.asyncIterator],E;return e?e.call(U):(U=typeof __values=="function"?__values(U):U[Symbol.iterator](),E={},m("next"),m("throw"),m("return"),E[Symbol.asyncIterator]=function(){return this},E);function m(I){E[I]=U[I]&&function(L){return new Promise(function(_,v){L=U[I](L),k(_,v,L.done,L.value)})}}function k(I,L,_,v){Promise.resolve(v).then(function(u){I({value:u,done:_})},L)}};define(re[10],se([1,0,21,13,4,2,17]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCancelableAsyncIterable=e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.IdleValue=e.runWhenIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.first=e.disposableTimeout=e.timeout=e.ThrottledDelayer=e.Delayer=e.MicrotaskDelay=e.Throttler=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function _(y){return!!y&&typeof y.then=="function"}e.isThenable=_;function v(y){const w=new E.CancellationTokenSource,T=y(w.token),N=new Promise((R,B)=>{const O=w.token.onCancellationRequested(()=>{O.dispose(),w.dispose(),B(new m.CancellationError)});Promise.resolve(T).then(D=>{O.dispose(),w.dispose(),R(D)},D=>{O.dispose(),w.dispose(),B(D)})});return new class{cancel(){w.cancel()}then(R,B){return N.then(R,B)}catch(R){return this.then(void 0,R)}finally(R){return N.finally(R)}}}e.createCancelablePromise=v;function u(y,w,T){return new Promise((N,R)=>{const B=w.onCancellationRequested(()=>{B.dispose(),N(T)});y.then(N,R).finally(()=>B.dispose())})}e.raceCancellation=u;class h{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(w){if(this.activePromise){if(this.queuedPromiseFactory=w,!this.queuedPromise){const T=()=>{this.queuedPromise=null;const N=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,N};this.queuedPromise=new Promise(N=>{this.activePromise.then(T,T).then(N)})}return new Promise((T,N)=>{this.queuedPromise.then(T,N)})}return this.activePromise=w(),new Promise((T,N)=>{this.activePromise.then(R=>{this.activePromise=null,T(R)},R=>{this.activePromise=null,N(R)})})}}e.Throttler=h;const i=(y,w)=>{let T=!0;const N=setTimeout(()=>{T=!1,w()},y);return{isTriggered:()=>T,dispose:()=>{clearTimeout(N),T=!1}}},n=y=>{let w=!0;return queueMicrotask(()=>{w&&(w=!1,y())}),{isTriggered:()=>w,dispose:()=>{w=!1}}};e.MicrotaskDelay=Symbol("MicrotaskDelay");class t{constructor(w){this.defaultDelay=w,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(w,T=this.defaultDelay){this.task=w,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((R,B)=>{this.doResolve=R,this.doReject=B}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const R=this.task;return this.task=null,R()}}));const N=()=>{var R;this.deferred=null,(R=this.doResolve)===null||R===void 0||R.call(this,null)};return this.deferred=T===e.MicrotaskDelay?n(N):i(T,N),this.completionPromise}isTriggered(){var w;return!!((w=this.deferred)===null||w===void 0?void 0:w.isTriggered())}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(new m.CancellationError),this.completionPromise=null)}cancelTimeout(){var w;(w=this.deferred)===null||w===void 0||w.dispose(),this.deferred=null}dispose(){this.cancel()}}e.Delayer=t;class o{constructor(w){this.delayer=new t(w),this.throttler=new h}trigger(w,T){return this.delayer.trigger(()=>this.throttler.queue(w),T)}dispose(){this.delayer.dispose()}}e.ThrottledDelayer=o;function d(y,w){return w?new Promise((T,N)=>{const R=setTimeout(()=>{B.dispose(),T()},y),B=w.onCancellationRequested(()=>{clearTimeout(R),B.dispose(),N(new m.CancellationError)})}):v(T=>d(y,T))}e.timeout=d;function r(y,w=0){const T=setTimeout(y,w);return(0,I.toDisposable)(()=>clearTimeout(T))}e.disposableTimeout=r;function c(y,w=N=>!!N,T=null){let N=0;const R=y.length,B=()=>{if(N>=R)return Promise.resolve(T);const O=y[N++];return Promise.resolve(O()).then(A=>w(A)?Promise.resolve(A):B())};return B()}e.first=c;class s{constructor(w,T){this._token=-1,typeof w=="function"&&typeof T=="number"&&this.setIfNotSet(w,T)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(w,T){this.cancel(),this._token=setTimeout(()=>{this._token=-1,w()},T)}setIfNotSet(w,T){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,w()},T))}}e.TimeoutTimer=s;class a{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(w,T){this.cancel(),this._token=setInterval(()=>{w()},T)}}e.IntervalTimer=a;class l{constructor(w,T){this.timeoutToken=-1,this.runner=w,this.timeout=T,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(w=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,w)}get delay(){return this.timeout}set delay(w){this.timeout=w}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}e.RunOnceScheduler=l,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=y=>{(0,L.setTimeout0)(()=>{if(w)return;const T=Date.now()+15;y(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,T-Date.now())}}))});let w=!1;return{dispose(){w||(w=!0)}}}:e.runWhenIdle=(y,w)=>{const T=requestIdleCallback(y,typeof w=="number"?{timeout:w}:void 0);let N=!1;return{dispose(){N||(N=!0,cancelIdleCallback(T))}}}}();class f{constructor(w){this._didRun=!1,this._executor=()=>{try{this._value=w()}catch(T){this._error=T}finally{this._didRun=!0}},this._handle=(0,e.runWhenIdle)(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.IdleValue=f;class g{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((w,T)=>{this.completeCallback=w,this.errorCallback=T})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(w){return new Promise(T=>{this.completeCallback(w),this.resolved=!0,T()})}cancel(){new Promise(w=>{this.errorCallback(new m.CancellationError),this.rejected=!0,w()})}}e.DeferredPromise=g;var b;(function(y){function w(N){return Le(this,void 0,void 0,function*(){let R;const B=yield Promise.all(N.map(O=>O.then(D=>D,D=>{R||(R=D)})));if(typeof R!="undefined")throw R;return B})}y.settled=w;function T(N){return new Promise((R,B)=>Le(this,void 0,void 0,function*(){try{yield N(R,B)}catch(O){B(O)}}))}y.withAsyncBody=T})(b=e.Promises||(e.Promises={}));class p{constructor(w){this._state=0,this._results=[],this._error=null,this._onStateChanged=new k.Emitter,queueMicrotask(()=>Le(this,void 0,void 0,function*(){const T={emitOne:N=>this.emitOne(N),emitMany:N=>this.emitMany(N),reject:N=>this.reject(N)};try{yield Promise.resolve(w(T)),this.resolve()}catch(N){this.reject(N)}finally{T.emitOne=void 0,T.emitMany=void 0,T.reject=void 0}}))}static fromArray(w){return new p(T=>{T.emitMany(w)})}static fromPromise(w){return new p(T=>Le(this,void 0,void 0,function*(){T.emitMany(yield w)}))}static fromPromises(w){return new p(T=>Le(this,void 0,void 0,function*(){yield Promise.all(w.map(N=>Le(this,void 0,void 0,function*(){return T.emitOne(yield N)})))}))}static merge(w){return new p(T=>Le(this,void 0,void 0,function*(){yield Promise.all(w.map(N=>{var R,B;return Le(this,void 0,void 0,function*(){var O,D;try{for(R=Ct(N);B=yield R.next(),!B.done;){const A=B.value;T.emitOne(A)}}catch(A){O={error:A}}finally{try{B&&!B.done&&(D=R.return)&&(yield D.call(R))}finally{if(O)throw O.error}}})}))}))}[Symbol.asyncIterator](){let w=0;return{next:()=>Le(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(w<this._results.length)return{done:!1,value:this._results[w++]};if(this._state===1)return{done:!0,value:void 0};yield k.Event.toPromise(this._onStateChanged.event)}while(!0)})}}static map(w,T){return new p(N=>Le(this,void 0,void 0,function*(){var R,B;try{for(var O=Ct(w),D;D=yield O.next(),!D.done;){const A=D.value;N.emitOne(T(A))}}catch(A){R={error:A}}finally{try{D&&!D.done&&(B=O.return)&&(yield B.call(O))}finally{if(R)throw R.error}}}))}map(w){return p.map(this,w)}static filter(w,T){return new p(N=>Le(this,void 0,void 0,function*(){var R,B;try{for(var O=Ct(w),D;D=yield O.next(),!D.done;){const A=D.value;T(A)&&N.emitOne(A)}}catch(A){R={error:A}}finally{try{D&&!D.done&&(B=O.return)&&(yield B.call(O))}finally{if(R)throw R.error}}}))}filter(w){return p.filter(this,w)}static coalesce(w){return p.filter(w,T=>!!T)}coalesce(){return p.coalesce(this)}static toPromise(w){var T,N,R,B;return Le(this,void 0,void 0,function*(){const O=[];try{for(T=Ct(w);N=yield T.next(),!N.done;){const D=N.value;O.push(D)}}catch(D){R={error:D}}finally{try{N&&!N.done&&(B=T.return)&&(yield B.call(T))}finally{if(R)throw R.error}}return O})}toPromise(){return p.toPromise(this)}emitOne(w){this._state===0&&(this._results.push(w),this._onStateChanged.fire())}emitMany(w){this._state===0&&(this._results=this._results.concat(w),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(w){this._state===0&&(this._state=2,this._error=w,this._onStateChanged.fire())}}e.AsyncIterableObject=p,p.EMPTY=p.fromArray([]);class C extends p{constructor(w,T){super(T);this._source=w}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=C;function S(y){const w=new E.CancellationTokenSource,T=y(w.token);return new C(w,N=>Le(this,void 0,void 0,function*(){var R,B;const O=w.token.onCancellationRequested(()=>{O.dispose(),w.dispose(),N.reject(new m.CancellationError)});try{try{for(var D=Ct(T),A;A=yield D.next(),!A.done;){const P=A.value;if(w.token.isCancellationRequested)return;N.emitOne(P)}}catch(P){R={error:P}}finally{try{A&&!A.done&&(B=D.return)&&(yield B.call(D))}finally{if(R)throw R.error}}O.dispose(),w.dispose()}catch(P){O.dispose(),w.dispose(),N.reject(P)}}))}e.createCancelableAsyncIterable=S}),define(re[326],se([1,0,10,2]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class k extends m.Disposable{constructor(L,_,v){super();this._visibility=L,this._visibleClassName=_,this._invisibleClassName=v,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new E.TimeoutTimer)}setVisibility(L){this._visibility!==L&&(this._visibility=L,this._updateShouldBeVisible())}setShouldBeVisible(L){this._rawShouldBeVisible=L,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const L=this._applyVisibilitySetting();this._shouldBeVisible!==L&&(this._shouldBeVisible=L,this.ensureVisibility())}setIsNeeded(L){this._isNeeded!==L&&(this._isNeeded=L,this.ensureVisibility())}setDomNode(L){this._domNode=L,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(L){this._revealTimer.cancel(),!!this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(L?" fade":"")))}}e.ScrollbarVisibilityController=k}),define(re[327],se([1,0,10]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.compareFileNames=void 0;const m=new E.IdleValue(()=>{const u=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:u,collatorIsNumeric:u.resolvedOptions().numeric}}),k=new E.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),I=new E.IdleValue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function L(u,h,i=!1){const n=u||"",t=h||"",o=m.value.collator.compare(n,t);return m.value.collatorIsNumeric&&o===0&&n!==t?n<t?-1:1:o}e.compareFileNames=L;function _(u,h,i){const n=u.toLowerCase(),t=h.toLowerCase(),o=v(u,h,i);if(o)return o;const d=n.endsWith(i),r=t.endsWith(i);if(d!==r)return d?-1:1;const c=L(n,t);return c!==0?c:n.localeCompare(t)}e.compareAnything=_;function v(u,h,i){const n=u.toLowerCase(),t=h.toLowerCase(),o=n.startsWith(i),d=t.startsWith(i);if(o!==d)return o?-1:1;if(o&&d){if(n.length<t.length)return-1;if(n.length>t.length)return 1}return 0}e.compareByPrefix=v}),define(re[140],se([1,0,4,2]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class k{constructor(t,o,d,r,c,s,a){this._forceIntegerValues=t,this._scrollStateBrand=void 0,this._forceIntegerValues&&(o=o|0,d=d|0,r=r|0,c=c|0,s=s|0,a=a|0),this.rawScrollLeft=r,this.rawScrollTop=a,o<0&&(o=0),r+o>d&&(r=d-o),r<0&&(r=0),c<0&&(c=0),a+c>s&&(a=s-c),a<0&&(a=0),this.width=o,this.scrollWidth=d,this.scrollLeft=r,this.height=c,this.scrollHeight=s,this.scrollTop=a}equals(t){return this.rawScrollLeft===t.rawScrollLeft&&this.rawScrollTop===t.rawScrollTop&&this.width===t.width&&this.scrollWidth===t.scrollWidth&&this.scrollLeft===t.scrollLeft&&this.height===t.height&&this.scrollHeight===t.scrollHeight&&this.scrollTop===t.scrollTop}withScrollDimensions(t,o){return new k(this._forceIntegerValues,typeof t.width!="undefined"?t.width:this.width,typeof t.scrollWidth!="undefined"?t.scrollWidth:this.scrollWidth,o?this.rawScrollLeft:this.scrollLeft,typeof t.height!="undefined"?t.height:this.height,typeof t.scrollHeight!="undefined"?t.scrollHeight:this.scrollHeight,o?this.rawScrollTop:this.scrollTop)}withScrollPosition(t){return new k(this._forceIntegerValues,this.width,this.scrollWidth,typeof t.scrollLeft!="undefined"?t.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof t.scrollTop!="undefined"?t.scrollTop:this.rawScrollTop)}createScrollEvent(t,o){const d=this.width!==t.width,r=this.scrollWidth!==t.scrollWidth,c=this.scrollLeft!==t.scrollLeft,s=this.height!==t.height,a=this.scrollHeight!==t.scrollHeight,l=this.scrollTop!==t.scrollTop;return{inSmoothScrolling:o,oldWidth:t.width,oldScrollWidth:t.scrollWidth,oldScrollLeft:t.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:t.height,oldScrollHeight:t.scrollHeight,oldScrollTop:t.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:d,scrollWidthChanged:r,scrollLeftChanged:c,heightChanged:s,scrollHeightChanged:a,scrollTopChanged:l}}}e.ScrollState=k;class I extends m.Disposable{constructor(t){super();this._scrollableBrand=void 0,this._onScroll=this._register(new E.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=t.smoothScrollDuration,this._scheduleAtNextAnimationFrame=t.scheduleAtNextAnimationFrame,this._state=new k(t.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(t){this._smoothScrollDuration=t}validateScrollPosition(t){return this._state.withScrollPosition(t)}getScrollDimensions(){return this._state}setScrollDimensions(t,o){const d=this._state.withScrollDimensions(t,o);this._setState(d,Boolean(this._smoothScrolling)),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(t){const o=this._state.withScrollPosition(t);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(o,!1)}setScrollPositionSmooth(t,o){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(t);if(this._smoothScrolling){t={scrollLeft:typeof t.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:t.scrollLeft,scrollTop:typeof t.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:t.scrollTop};const d=this._state.withScrollPosition(t);if(this._smoothScrolling.to.scrollLeft===d.scrollLeft&&this._smoothScrolling.to.scrollTop===d.scrollTop)return;let r;o?r=new u(this._smoothScrolling.from,d,this._smoothScrolling.startTime,this._smoothScrolling.duration):r=this._smoothScrolling.combine(this._state,d,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=r}else{const d=this._state.withScrollPosition(t);this._smoothScrolling=u.start(this._state,d,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const t=this._smoothScrolling.tick(),o=this._state.withScrollPosition(t);if(this._setState(o,!0),!!this._smoothScrolling){if(t.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(t,o){const d=this._state;d.equals(t)||(this._state=t,this._onScroll.fire(this._state.createScrollEvent(d,o)))}}e.Scrollable=I;class L{constructor(t,o,d){this.scrollLeft=t,this.scrollTop=o,this.isDone=d}}e.SmoothScrollingUpdate=L;function _(n,t){const o=t-n;return function(d){return n+o*i(d)}}function v(n,t,o){return function(d){return d<o?n(d/o):t((d-o)/(1-o))}}class u{constructor(t,o,d,r){this.from=t,this.to=o,this.duration=r,this.startTime=d,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(t,o,d){if(Math.abs(t-o)>2.5*d){let c,s;return t<o?(c=t+.75*d,s=o-.75*d):(c=t-.75*d,s=o+.75*d),v(_(t,c),_(s,o),.33)}return _(t,o)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(t){this.to=t.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(t){const o=(t-this.startTime)/this.duration;if(o<1){const d=this.scrollLeft(o),r=this.scrollTop(o);return new L(d,r,!1)}return new L(this.to.scrollLeft,this.to.scrollTop,!0)}combine(t,o,d){return u.start(t,o,d)}static start(t,o,d){d=d+10;const r=Date.now()-10;return new u(t,o,r,d)}}e.SmoothScrollingOperation=u;function h(n){return Math.pow(n,3)}function i(n){return 1-h(1-n)}}),define(re[8],se([1,0,219,137]),function(U,e,E,m){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.getLeftDeleteOffset=e.singleLetterHash=e.containsUppercaseCharacter=e.startsWithUTF8BOM=e.UTF8_BOM_CHARACTER=e.isEmojiImprecise=e.isFullWidthCharacter=e.containsUnusualLineTerminators=e.UNUSUAL_LINE_TERMINATORS=e.isBasicASCII=e.containsRTL=e.getCharContainingOffset=e.prevCharLength=e.nextCharLength=e.GraphemeIterator=e.CodePointIterator=e.getNextCodePoint=e.computeCodePoint=e.isLowSurrogate=e.isHighSurrogate=e.commonSuffixLength=e.commonPrefixLength=e.startsWithIgnoreCase=e.equalsIgnoreCase=e.isUpperAsciiLetter=e.isLowerAsciiLetter=e.compareSubstringIgnoreCase=e.compareIgnoreCase=e.compareSubstring=e.compare=e.lastNonWhitespaceIndex=e.getLeadingWhitespace=e.firstNonWhitespaceIndex=e.splitLines=e.regExpFlags=e.regExpLeadsToEndlessLoop=e.createRegExp=e.stripWildcards=e.convertSimple2RegExpPattern=e.rtrim=e.ltrim=e.trim=e.escapeRegExpCharacters=e.escape=e.format=e.isFalsyOrWhitespace=void 0;function I(ne){return!ne||typeof ne!="string"?!0:ne.trim().length===0}e.isFalsyOrWhitespace=I;const L=/{(\d+)}/g;function _(ne,...de){return de.length===0?ne:ne.replace(L,function(he,pe){const ve=parseInt(pe,10);return isNaN(ve)||ve<0||ve>=de.length?he:de[ve]})}e.format=_;function v(ne){return ne.replace(/[<>&]/g,function(de){switch(de){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return de}})}e.escape=v;function u(ne){return ne.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}e.escapeRegExpCharacters=u;function h(ne,de=" "){const he=i(ne,de);return n(he,de)}e.trim=h;function i(ne,de){if(!ne||!de)return ne;const he=de.length;if(he===0||ne.length===0)return ne;let pe=0;for(;ne.indexOf(de,pe)===pe;)pe=pe+he;return ne.substring(pe)}e.ltrim=i;function n(ne,de){if(!ne||!de)return ne;const he=de.length,pe=ne.length;if(he===0||pe===0)return ne;let ve=pe,ue=-1;for(;ue=ne.lastIndexOf(de,ve-1),!(ue===-1||ue+he!==ve);){if(ue===0)return"";ve=ue}return ne.substring(0,ve)}e.rtrim=n;function t(ne){return ne.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}e.convertSimple2RegExpPattern=t;function o(ne){return ne.replace(/\*/g,"")}e.stripWildcards=o;function d(ne,de,he={}){if(!ne)throw new Error("Cannot create regex from empty string");de||(ne=u(ne)),he.wholeWord&&(/\B/.test(ne.charAt(0))||(ne="\\b"+ne),/\B/.test(ne.charAt(ne.length-1))||(ne=ne+"\\b"));let pe="";return he.global&&(pe+="g"),he.matchCase||(pe+="i"),he.multiline&&(pe+="m"),he.unicode&&(pe+="u"),new RegExp(ne,pe)}e.createRegExp=d;function r(ne){return ne.source==="^"||ne.source==="^$"||ne.source==="$"||ne.source==="^\\s*$"?!1:!!(ne.exec("")&&ne.lastIndex===0)}e.regExpLeadsToEndlessLoop=r;function c(ne){return(ne.global?"g":"")+(ne.ignoreCase?"i":"")+(ne.multiline?"m":"")+(ne.unicode?"u":"")}e.regExpFlags=c;function s(ne){return ne.split(/\r\n|\r|\n/)}e.splitLines=s;function a(ne){for(let de=0,he=ne.length;de<he;de++){const pe=ne.charCodeAt(de);if(pe!==32&&pe!==9)return de}return-1}e.firstNonWhitespaceIndex=a;function l(ne,de=0,he=ne.length){for(let pe=de;pe<he;pe++){const ve=ne.charCodeAt(pe);if(ve!==32&&ve!==9)return ne.substring(de,pe)}return ne.substring(de,he)}e.getLeadingWhitespace=l;function f(ne,de=ne.length-1){for(let he=de;he>=0;he--){const pe=ne.charCodeAt(he);if(pe!==32&&pe!==9)return he}return-1}e.lastNonWhitespaceIndex=f;function g(ne,de){return ne<de?-1:ne>de?1:0}e.compare=g;function b(ne,de,he=0,pe=ne.length,ve=0,ue=de.length){for(;he<pe&&ve<ue;he++,ve++){let be=ne.charCodeAt(he),ce=de.charCodeAt(ve);if(be<ce)return-1;if(be>ce)return 1}const Ce=pe-he,me=ue-ve;return Ce<me?-1:Ce>me?1:0}e.compareSubstring=b;function p(ne,de){return C(ne,de,0,ne.length,0,de.length)}e.compareIgnoreCase=p;function C(ne,de,he=0,pe=ne.length,ve=0,ue=de.length){for(;he<pe&&ve<ue;he++,ve++){let be=ne.charCodeAt(he),ce=de.charCodeAt(ve);if(be===ce)continue;if(be>=128||ce>=128)return b(ne.toLowerCase(),de.toLowerCase(),he,pe,ve,ue);S(be)&&(be-=32),S(ce)&&(ce-=32);const ge=be-ce;if(ge!==0)return ge}const Ce=pe-he,me=ue-ve;return Ce<me?-1:Ce>me?1:0}e.compareSubstringIgnoreCase=C;function S(ne){return ne>=97&&ne<=122}e.isLowerAsciiLetter=S;function y(ne){return ne>=65&&ne<=90}e.isUpperAsciiLetter=y;function w(ne,de){return ne.length===de.length&&C(ne,de)===0}e.equalsIgnoreCase=w;function T(ne,de){const he=de.length;return de.length>ne.length?!1:C(ne,de,0,he)===0}e.startsWithIgnoreCase=T;function N(ne,de){let he,pe=Math.min(ne.length,de.length);for(he=0;he<pe;he++)if(ne.charCodeAt(he)!==de.charCodeAt(he))return he;return pe}e.commonPrefixLength=N;function R(ne,de){let he,pe=Math.min(ne.length,de.length);const ve=ne.length-1,ue=de.length-1;for(he=0;he<pe;he++)if(ne.charCodeAt(ve-he)!==de.charCodeAt(ue-he))return he;return pe}e.commonSuffixLength=R;function B(ne){return 55296<=ne&&ne<=56319}e.isHighSurrogate=B;function O(ne){return 56320<=ne&&ne<=57343}e.isLowSurrogate=O;function D(ne,de){return(ne-55296<<10)+(de-56320)+65536}e.computeCodePoint=D;function A(ne,de,he){const pe=ne.charCodeAt(he);if(B(pe)&&he+1<de){const ve=ne.charCodeAt(he+1);if(O(ve))return D(pe,ve)}return pe}e.getNextCodePoint=A;function P(ne,de){const he=ne.charCodeAt(de-1);if(O(he)&&de>1){const pe=ne.charCodeAt(de-2);if(B(pe))return D(pe,he)}return he}class F{constructor(de,he=0){this._str=de,this._len=de.length,this._offset=he}get offset(){return this._offset}setOffset(de){this._offset=de}prevCodePoint(){const de=P(this._str,this._offset);return this._offset-=de>=65536?2:1,de}nextCodePoint(){const de=A(this._str,this._len,this._offset);return this._offset+=de>=65536?2:1,de}eol(){return this._offset>=this._len}}e.CodePointIterator=F;class W{constructor(de,he=0){this._iterator=new F(de,he)}get offset(){return this._iterator.offset}nextGraphemeLength(){const de=Q.getInstance(),he=this._iterator,pe=he.offset;let ve=de.getGraphemeBreakType(he.nextCodePoint());for(;!he.eol();){const ue=he.offset,Ce=de.getGraphemeBreakType(he.nextCodePoint());if(ae(ve,Ce)){he.setOffset(ue);break}ve=Ce}return he.offset-pe}prevGraphemeLength(){const de=Q.getInstance(),he=this._iterator,pe=he.offset;let ve=de.getGraphemeBreakType(he.prevCodePoint());for(;he.offset>0;){const ue=he.offset,Ce=de.getGraphemeBreakType(he.prevCodePoint());if(ae(Ce,ve)){he.setOffset(ue);break}ve=Ce}return pe-he.offset}eol(){return this._iterator.eol()}}e.GraphemeIterator=W;function M(ne,de){return new W(ne,de).nextGraphemeLength()}e.nextCharLength=M;function z(ne,de){return new W(ne,de).prevGraphemeLength()}e.prevCharLength=z;function ee(ne,de){de>0&&O(ne.charCodeAt(de))&&de--;const he=de+M(ne,de);return[he-z(ne,he),he]}e.getCharContainingOffset=ee;const ie=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function Y(ne){return ie.test(ne)}e.containsRTL=Y;const X=/^[\t\n\r\x20-\x7E]*$/;function J(ne){return X.test(ne)}e.isBasicASCII=J,e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function oe(ne){return e.UNUSUAL_LINE_TERMINATORS.test(ne)}e.containsUnusualLineTerminators=oe;function G(ne){return ne>=11904&&ne<=55215||ne>=63744&&ne<=64255||ne>=65281&&ne<=65374}e.isFullWidthCharacter=G;function x(ne){return ne>=127462&&ne<=127487||ne===8986||ne===8987||ne===9200||ne===9203||ne>=9728&&ne<=10175||ne===11088||ne===11093||ne>=127744&&ne<=128591||ne>=128640&&ne<=128764||ne>=128992&&ne<=129008||ne>=129280&&ne<=129535||ne>=129648&&ne<=129782}e.isEmojiImprecise=x,e.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function V(ne){return!!(ne&&ne.length>0&&ne.charCodeAt(0)===65279)}e.startsWithUTF8BOM=V;function K(ne,de=!1){return ne?(de&&(ne=ne.replace(/\\./g,"")),ne.toLowerCase()!==ne):!1}e.containsUppercaseCharacter=K;function le(ne){const de=90-65+1;return ne=ne%(2*de),ne<de?String.fromCharCode(97+ne):String.fromCharCode(65+ne-de)}e.singleLetterHash=le;function ae(ne,de){return ne===0?de!==5&&de!==7:ne===2&&de===3?!1:ne===4||ne===2||ne===3||de===4||de===2||de===3?!0:!(ne===8&&(de===8||de===9||de===11||de===12)||(ne===11||ne===9)&&(de===9||de===10)||(ne===12||ne===10)&&de===10||de===5||de===13||de===7||ne===1||ne===13&&de===14||ne===6&&de===6)}class Q{constructor(){this._data=q()}static getInstance(){return Q._INSTANCE||(Q._INSTANCE=new Q),Q._INSTANCE}getGraphemeBreakType(de){if(de<32)return de===10?3:de===13?2:4;if(de<127)return 0;const he=this._data,pe=he.length/3;let ve=1;for(;ve<=pe;)if(de<he[3*ve])ve=2*ve;else if(de>he[3*ve+1])ve=2*ve+1;else return he[3*ve+2];return 0}}Q._INSTANCE=null;function q(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function Z(ne,de){if(ne===0)return 0;const he=j(ne,de);if(he!==void 0)return he;const pe=new F(de,ne);return pe.prevCodePoint(),pe.offset}e.getLeftDeleteOffset=Z;function j(ne,de){const he=new F(de,ne);let pe=he.prevCodePoint();for(;$(pe)||pe===65039||pe===8419;){if(he.offset===0)return;pe=he.prevCodePoint()}if(!x(pe))return;let ve=he.offset;return ve>0&&he.prevCodePoint()===8205&&(ve=he.offset),ve}function $(ne){return 127995<=ne&&ne<=127999}e.noBreakWhitespace="\xA0";class H{constructor(de){this.confusableDictionary=de}static getInstance(de){return H.cache.get(Array.from(de))}static getLocales(){return H._locales.getValue()}isAmbiguous(de){return this.confusableDictionary.has(de)}getPrimaryConfusable(de){return this.confusableDictionary.get(de)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}e.AmbiguousCharacters=H,k=H,H.ambiguousCharacterData=new m.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),H.cache=new E.LRUCachedFunction(ne=>{function de(ce){const ge=new Map;for(let _e=0;_e<ce.length;_e+=2)ge.set(ce[_e],ce[_e+1]);return ge}function he(ce,ge){const _e=new Map(ce);for(const[ye,Me]of ge)_e.set(ye,Me);return _e}function pe(ce,ge){if(!ce)return ge;const _e=new Map;for(const[ye,Me]of ce)ge.has(ye)&&_e.set(ye,Me);return _e}const ve=k.ambiguousCharacterData.getValue();let ue=ne.filter(ce=>!ce.startsWith("_")&&ce in ve);ue.length===0&&(ue=["_default"]);let Ce;for(const ce of ue){const ge=de(ve[ce]);Ce=pe(Ce,ge)}const me=de(ve._common),be=he(me,Ce);return new H(be)}),H._locales=new m.Lazy(()=>Object.keys(H.ambiguousCharacterData.getValue()).filter(ne=>!ne.startsWith("_")));class te{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(te.getRawData())),this._data}static isInvisibleCharacter(de){return te.getData().has(de)}static get codePoints(){return te.getData()}}e.InvisibleCharacters=te,te._data=void 0}),define(re[171],se([1,0,85,17,8]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasDriveLetter=e.isRootOrDriveLetter=e.isWindowsDriveLetter=e.isEqualOrParent=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function I(t){return t===47||t===92}e.isPathSeparator=I;function L(t){return t.replace(/[\\/]/g,E.posix.sep)}e.toSlashes=L;function _(t){return t.indexOf("/")===-1&&(t=L(t)),/^[a-zA-Z]:(\/|$)/.test(t)&&(t="/"+t),t}e.toPosixPath=_;function v(t,o=E.posix.sep){if(!t)return"";const d=t.length,r=t.charCodeAt(0);if(I(r)){if(I(t.charCodeAt(1))&&!I(t.charCodeAt(2))){let s=3;const a=s;for(;s<d&&!I(t.charCodeAt(s));s++);if(a!==s&&!I(t.charCodeAt(s+1))){for(s+=1;s<d;s++)if(I(t.charCodeAt(s)))return t.slice(0,s+1).replace(/[\\/]/g,o)}}return o}else if(h(r)&&t.charCodeAt(1)===58)return I(t.charCodeAt(2))?t.slice(0,2)+o:t.slice(0,2);let c=t.indexOf("://");if(c!==-1){for(c+=3;c<d;c++)if(I(t.charCodeAt(c)))return t.slice(0,c+1)}return""}e.getRoot=v;function u(t,o,d,r=E.sep){if(t===o)return!0;if(!t||!o||o.length>t.length)return!1;if(d){if(!(0,k.startsWithIgnoreCase)(t,o))return!1;if(o.length===t.length)return!0;let s=o.length;return o.charAt(o.length-1)===r&&s--,t.charAt(s)===r}return o.charAt(o.length-1)!==r&&(o+=r),t.indexOf(o)===0}e.isEqualOrParent=u;function h(t){return t>=65&&t<=90||t>=97&&t<=122}e.isWindowsDriveLetter=h;function i(t){const o=(0,E.normalize)(t);return m.isWindows?t.length>3?!1:n(o)&&(t.length===2||o.charCodeAt(2)===92):o===E.posix.sep}e.isRootOrDriveLetter=i;function n(t,o=m.isWindows){return o?h(t.charCodeAt(0))&&t.charCodeAt(1)===58:!1}e.hasDriveLetter=n}),define(re[118],se([1,0,8]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=e.toHexString=e.stringHash=e.numberHash=e.doHash=e.hash=void 0;function m(d){return k(d,0)}e.hash=m;function k(d,r){switch(typeof d){case"object":return d===null?I(349,r):Array.isArray(d)?v(d,r):u(d,r);case"string":return _(d,r);case"boolean":return L(d,r);case"number":return I(d,r);case"undefined":return I(937,r);default:return I(617,r)}}e.doHash=k;function I(d,r){return(r<<5)-r+d|0}e.numberHash=I;function L(d,r){return I(d?433:863,r)}function _(d,r){r=I(149417,r);for(let c=0,s=d.length;c<s;c++)r=I(d.charCodeAt(c),r);return r}e.stringHash=_;function v(d,r){return r=I(104579,r),d.reduce((c,s)=>k(s,c),r)}function u(d,r){return r=I(181387,r),Object.keys(d).sort().reduce((c,s)=>(c=_(s,c),k(d[s],c)),r)}function h(d,r,c=32){const s=c-r,a=~((1<<s)-1);return(d<<r|(a&d)>>>s)>>>0}function i(d,r=0,c=d.byteLength,s=0){for(let a=0;a<c;a++)d[r+a]=s}function n(d,r,c="0"){for(;d.length<r;)d=c+d;return d}function t(d,r=32){return d instanceof ArrayBuffer?Array.from(new Uint8Array(d)).map(c=>c.toString(16).padStart(2,"0")).join(""):n((d>>>0).toString(16),r/4)}e.toHexString=t;class o{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(r){const c=r.length;if(c===0)return;const s=this._buff;let a=this._buffLen,l=this._leftoverHighSurrogate,f,g;for(l!==0?(f=l,g=-1,l=0):(f=r.charCodeAt(0),g=0);;){let b=f;if(E.isHighSurrogate(f))if(g+1<c){const p=r.charCodeAt(g+1);E.isLowSurrogate(p)?(g++,b=E.computeCodePoint(f,p)):b=65533}else{l=f;break}else E.isLowSurrogate(f)&&(b=65533);if(a=this._push(s,a,b),g++,g<c)f=r.charCodeAt(g);else break}this._buffLen=a,this._leftoverHighSurrogate=l}_push(r,c,s){return s<128?r[c++]=s:s<2048?(r[c++]=192|(s&1984)>>>6,r[c++]=128|(s&63)>>>0):s<65536?(r[c++]=224|(s&61440)>>>12,r[c++]=128|(s&4032)>>>6,r[c++]=128|(s&63)>>>0):(r[c++]=240|(s&1835008)>>>18,r[c++]=128|(s&258048)>>>12,r[c++]=128|(s&4032)>>>6,r[c++]=128|(s&63)>>>0),c>=64&&(this._step(),c-=64,this._totalLen+=64,r[0]=r[64+0],r[1]=r[64+1],r[2]=r[64+2]),c}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),t(this._h0)+t(this._h1)+t(this._h2)+t(this._h3)+t(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,i(this._buff,this._buffLen),this._buffLen>56&&(this._step(),i(this._buff));const r=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(r/4294967296),!1),this._buffDV.setUint32(60,r%4294967296,!1),this._step()}_step(){const r=o._bigBlock32,c=this._buffDV;for(let S=0;S<64;S+=4)r.setUint32(S,c.getUint32(S,!1),!1);for(let S=64;S<320;S+=4)r.setUint32(S,h(r.getUint32(S-12,!1)^r.getUint32(S-32,!1)^r.getUint32(S-56,!1)^r.getUint32(S-64,!1),1),!1);let s=this._h0,a=this._h1,l=this._h2,f=this._h3,g=this._h4,b,p,C;for(let S=0;S<80;S++)S<20?(b=a&l|~a&f,p=1518500249):S<40?(b=a^l^f,p=1859775393):S<60?(b=a&l|a&f|l&f,p=2400959708):(b=a^l^f,p=3395469782),C=h(s,5)+b+g+p+r.getUint32(S*4,!1)&4294967295,g=f,f=l,l=h(a,30),a=s,s=C;this._h0=this._h0+s&4294967295,this._h1=this._h1+a&4294967295,this._h2=this._h2+l&4294967295,this._h3=this._h3+f&4294967295,this._h4=this._h4+g&4294967295}}e.StringSHA1=o,o._bigBlock32=new DataView(new ArrayBuffer(320))}),define(re[141],se([1,0,320,118]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.MyArray=e.Debug=e.stringDiff=e.StringDiffSequence=void 0;class k{constructor(i){this.source=i}getElements(){const i=this.source,n=new Int32Array(i.length);for(let t=0,o=i.length;t<o;t++)n[t]=i.charCodeAt(t);return n}}e.StringDiffSequence=k;function I(h,i,n){return new u(new k(h),new k(i)).ComputeDiff(n).changes}e.stringDiff=I;class L{static Assert(i,n){if(!i)throw new Error(n)}}e.Debug=L;class _{static Copy(i,n,t,o,d){for(let r=0;r<d;r++)t[o+r]=i[n+r]}static Copy2(i,n,t,o,d){for(let r=0;r<d;r++)t[o+r]=i[n+r]}}e.MyArray=_;class v{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new E.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(i,n){this.m_originalStart=Math.min(this.m_originalStart,i),this.m_modifiedStart=Math.min(this.m_modifiedStart,n),this.m_originalCount++}AddModifiedElement(i,n){this.m_originalStart=Math.min(this.m_originalStart,i),this.m_modifiedStart=Math.min(this.m_modifiedStart,n),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class u{constructor(i,n,t=null){this.ContinueProcessingPredicate=t,this._originalSequence=i,this._modifiedSequence=n;const[o,d,r]=u._getElements(i),[c,s,a]=u._getElements(n);this._hasStrings=r&&a,this._originalStringElements=o,this._originalElementsOrHash=d,this._modifiedStringElements=c,this._modifiedElementsOrHash=s,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(i){return i.length>0&&typeof i[0]=="string"}static _getElements(i){const n=i.getElements();if(u._isStringArray(n)){const t=new Int32Array(n.length);for(let o=0,d=n.length;o<d;o++)t[o]=(0,m.stringHash)(n[o],0);return[n,t,!0]}return n instanceof Int32Array?[[],n,!1]:[[],new Int32Array(n),!1]}ElementsAreEqual(i,n){return this._originalElementsOrHash[i]!==this._modifiedElementsOrHash[n]?!1:this._hasStrings?this._originalStringElements[i]===this._modifiedStringElements[n]:!0}ElementsAreStrictEqual(i,n){if(!this.ElementsAreEqual(i,n))return!1;const t=u._getStrictElement(this._originalSequence,i),o=u._getStrictElement(this._modifiedSequence,n);return t===o}static _getStrictElement(i,n){return typeof i.getStrictElement=="function"?i.getStrictElement(n):null}OriginalElementsAreEqual(i,n){return this._originalElementsOrHash[i]!==this._originalElementsOrHash[n]?!1:this._hasStrings?this._originalStringElements[i]===this._originalStringElements[n]:!0}ModifiedElementsAreEqual(i,n){return this._modifiedElementsOrHash[i]!==this._modifiedElementsOrHash[n]?!1:this._hasStrings?this._modifiedStringElements[i]===this._modifiedStringElements[n]:!0}ComputeDiff(i){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,i)}_ComputeDiff(i,n,t,o,d){const r=[!1];let c=this.ComputeDiffRecursive(i,n,t,o,r);return d&&(c=this.PrettifyChanges(c)),{quitEarly:r[0],changes:c}}ComputeDiffRecursive(i,n,t,o,d){for(d[0]=!1;i<=n&&t<=o&&this.ElementsAreEqual(i,t);)i++,t++;for(;n>=i&&o>=t&&this.ElementsAreEqual(n,o);)n--,o--;if(i>n||t>o){let f;return t<=o?(L.Assert(i===n+1,"originalStart should only be one more than originalEnd"),f=[new E.DiffChange(i,0,t,o-t+1)]):i<=n?(L.Assert(t===o+1,"modifiedStart should only be one more than modifiedEnd"),f=[new E.DiffChange(i,n-i+1,t,0)]):(L.Assert(i===n+1,"originalStart should only be one more than originalEnd"),L.Assert(t===o+1,"modifiedStart should only be one more than modifiedEnd"),f=[]),f}const r=[0],c=[0],s=this.ComputeRecursionPoint(i,n,t,o,r,c,d),a=r[0],l=c[0];if(s!==null)return s;if(!d[0]){const f=this.ComputeDiffRecursive(i,a,t,l,d);let g=[];return d[0]?g=[new E.DiffChange(a+1,n-(a+1)+1,l+1,o-(l+1)+1)]:g=this.ComputeDiffRecursive(a+1,n,l+1,o,d),this.ConcatenateChanges(f,g)}return[new E.DiffChange(i,n-i+1,t,o-t+1)]}WALKTRACE(i,n,t,o,d,r,c,s,a,l,f,g,b,p,C,S,y,w){let T=null,N=null,R=new v,B=n,O=t,D=b[0]-S[0]-o,A=-1073741824,P=this.m_forwardHistory.length-1;do{const F=D+i;F===B||F<O&&a[F-1]<a[F+1]?(f=a[F+1],p=f-D-o,f<A&&R.MarkNextChange(),A=f,R.AddModifiedElement(f+1,p),D=F+1-i):(f=a[F-1]+1,p=f-D-o,f<A&&R.MarkNextChange(),A=f-1,R.AddOriginalElement(f,p+1),D=F-1-i),P>=0&&(a=this.m_forwardHistory[P],i=a[0],B=1,O=a.length-1)}while(--P>=-1);if(T=R.getReverseChanges(),w[0]){let F=b[0]+1,W=S[0]+1;if(T!==null&&T.length>0){const M=T[T.length-1];F=Math.max(F,M.getOriginalEnd()),W=Math.max(W,M.getModifiedEnd())}N=[new E.DiffChange(F,g-F+1,W,C-W+1)]}else{R=new v,B=r,O=c,D=b[0]-S[0]-s,A=1073741824,P=y?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const F=D+d;F===B||F<O&&l[F-1]>=l[F+1]?(f=l[F+1]-1,p=f-D-s,f>A&&R.MarkNextChange(),A=f+1,R.AddOriginalElement(f+1,p+1),D=F+1-d):(f=l[F-1],p=f-D-s,f>A&&R.MarkNextChange(),A=f,R.AddModifiedElement(f+1,p+1),D=F-1-d),P>=0&&(l=this.m_reverseHistory[P],d=l[0],B=1,O=l.length-1)}while(--P>=-1);N=R.getChanges()}return this.ConcatenateChanges(T,N)}ComputeRecursionPoint(i,n,t,o,d,r,c){let s=0,a=0,l=0,f=0,g=0,b=0;i--,t--,d[0]=0,r[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const p=n-i+(o-t),C=p+1,S=new Int32Array(C),y=new Int32Array(C),w=o-t,T=n-i,N=i-t,R=n-o,O=(T-w)%2==0;S[w]=i,y[T]=n,c[0]=!1;for(let D=1;D<=p/2+1;D++){let A=0,P=0;l=this.ClipDiagonalBound(w-D,D,w,C),f=this.ClipDiagonalBound(w+D,D,w,C);for(let W=l;W<=f;W+=2){W===l||W<f&&S[W-1]<S[W+1]?s=S[W+1]:s=S[W-1]+1,a=s-(W-w)-N;const M=s;for(;s<n&&a<o&&this.ElementsAreEqual(s+1,a+1);)s++,a++;if(S[W]=s,s+a>A+P&&(A=s,P=a),!O&&Math.abs(W-T)<=D-1&&s>=y[W])return d[0]=s,r[0]=a,M<=y[W]&&1447>0&&D<=1447+1?this.WALKTRACE(w,l,f,N,T,g,b,R,S,y,s,n,d,a,o,r,O,c):null}const F=(A-i+(P-t)-D)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(A,F))return c[0]=!0,d[0]=A,r[0]=P,F>0&&1447>0&&D<=1447+1?this.WALKTRACE(w,l,f,N,T,g,b,R,S,y,s,n,d,a,o,r,O,c):(i++,t++,[new E.DiffChange(i,n-i+1,t,o-t+1)]);g=this.ClipDiagonalBound(T-D,D,T,C),b=this.ClipDiagonalBound(T+D,D,T,C);for(let W=g;W<=b;W+=2){W===g||W<b&&y[W-1]>=y[W+1]?s=y[W+1]-1:s=y[W-1],a=s-(W-T)-R;const M=s;for(;s>i&&a>t&&this.ElementsAreEqual(s,a);)s--,a--;if(y[W]=s,O&&Math.abs(W-w)<=D&&s<=S[W])return d[0]=s,r[0]=a,M>=S[W]&&1447>0&&D<=1447+1?this.WALKTRACE(w,l,f,N,T,g,b,R,S,y,s,n,d,a,o,r,O,c):null}if(D<=1447){let W=new Int32Array(f-l+2);W[0]=w-l+1,_.Copy2(S,l,W,1,f-l+1),this.m_forwardHistory.push(W),W=new Int32Array(b-g+2),W[0]=T-g+1,_.Copy2(y,g,W,1,b-g+1),this.m_reverseHistory.push(W)}}return this.WALKTRACE(w,l,f,N,T,g,b,R,S,y,s,n,d,a,o,r,O,c)}PrettifyChanges(i){for(let n=0;n<i.length;n++){const t=i[n],o=n<i.length-1?i[n+1].originalStart:this._originalElementsOrHash.length,d=n<i.length-1?i[n+1].modifiedStart:this._modifiedElementsOrHash.length,r=t.originalLength>0,c=t.modifiedLength>0;for(;t.originalStart+t.originalLength<o&&t.modifiedStart+t.modifiedLength<d&&(!r||this.OriginalElementsAreEqual(t.originalStart,t.originalStart+t.originalLength))&&(!c||this.ModifiedElementsAreEqual(t.modifiedStart,t.modifiedStart+t.modifiedLength));){const a=this.ElementsAreStrictEqual(t.originalStart,t.modifiedStart);if(this.ElementsAreStrictEqual(t.originalStart+t.originalLength,t.modifiedStart+t.modifiedLength)&&!a)break;t.originalStart++,t.modifiedStart++}let s=[null];if(n<i.length-1&&this.ChangesOverlap(i[n],i[n+1],s)){i[n]=s[0],i.splice(n+1,1),n--;continue}}for(let n=i.length-1;n>=0;n--){const t=i[n];let o=0,d=0;if(n>0){const f=i[n-1];o=f.originalStart+f.originalLength,d=f.modifiedStart+f.modifiedLength}const r=t.originalLength>0,c=t.modifiedLength>0;let s=0,a=this._boundaryScore(t.originalStart,t.originalLength,t.modifiedStart,t.modifiedLength);for(let f=1;;f++){const g=t.originalStart-f,b=t.modifiedStart-f;if(g<o||b<d||r&&!this.OriginalElementsAreEqual(g,g+t.originalLength)||c&&!this.ModifiedElementsAreEqual(b,b+t.modifiedLength))break;const C=(g===o&&b===d?5:0)+this._boundaryScore(g,t.originalLength,b,t.modifiedLength);C>a&&(a=C,s=f)}t.originalStart-=s,t.modifiedStart-=s;const l=[null];if(n>0&&this.ChangesOverlap(i[n-1],i[n],l)){i[n-1]=l[0],i.splice(n,1),n++;continue}}if(this._hasStrings)for(let n=1,t=i.length;n<t;n++){const o=i[n-1],d=i[n],r=d.originalStart-o.originalStart-o.originalLength,c=o.originalStart,s=d.originalStart+d.originalLength,a=s-c,l=o.modifiedStart,f=d.modifiedStart+d.modifiedLength,g=f-l;if(r<5&&a<20&&g<20){const b=this._findBetterContiguousSequence(c,a,l,g,r);if(b){const[p,C]=b;(p!==o.originalStart+o.originalLength||C!==o.modifiedStart+o.modifiedLength)&&(o.originalLength=p-o.originalStart,o.modifiedLength=C-o.modifiedStart,d.originalStart=p+r,d.modifiedStart=C+r,d.originalLength=s-d.originalStart,d.modifiedLength=f-d.modifiedStart)}}}return i}_findBetterContiguousSequence(i,n,t,o,d){if(n<d||o<d)return null;const r=i+n-d+1,c=t+o-d+1;let s=0,a=0,l=0;for(let f=i;f<r;f++)for(let g=t;g<c;g++){const b=this._contiguousSequenceScore(f,g,d);b>0&&b>s&&(s=b,a=f,l=g)}return s>0?[a,l]:null}_contiguousSequenceScore(i,n,t){let o=0;for(let d=0;d<t;d++){if(!this.ElementsAreEqual(i+d,n+d))return 0;o+=this._originalStringElements[i+d].length}return o}_OriginalIsBoundary(i){return i<=0||i>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[i])}_OriginalRegionIsBoundary(i,n){if(this._OriginalIsBoundary(i)||this._OriginalIsBoundary(i-1))return!0;if(n>0){const t=i+n;if(this._OriginalIsBoundary(t-1)||this._OriginalIsBoundary(t))return!0}return!1}_ModifiedIsBoundary(i){return i<=0||i>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[i])}_ModifiedRegionIsBoundary(i,n){if(this._ModifiedIsBoundary(i)||this._ModifiedIsBoundary(i-1))return!0;if(n>0){const t=i+n;if(this._ModifiedIsBoundary(t-1)||this._ModifiedIsBoundary(t))return!0}return!1}_boundaryScore(i,n,t,o){const d=this._OriginalRegionIsBoundary(i,n)?1:0,r=this._ModifiedRegionIsBoundary(t,o)?1:0;return d+r}ConcatenateChanges(i,n){let t=[];if(i.length===0||n.length===0)return n.length>0?n:i;if(this.ChangesOverlap(i[i.length-1],n[0],t)){const o=new Array(i.length+n.length-1);return _.Copy(i,0,o,0,i.length-1),o[i.length-1]=t[0],_.Copy(n,1,o,i.length,n.length-1),o}else{const o=new Array(i.length+n.length);return _.Copy(i,0,o,0,i.length),_.Copy(n,0,o,i.length,n.length),o}}ChangesOverlap(i,n,t){if(L.Assert(i.originalStart<=n.originalStart,"Left change is not less than or equal to right change"),L.Assert(i.modifiedStart<=n.modifiedStart,"Left change is not less than or equal to right change"),i.originalStart+i.originalLength>=n.originalStart||i.modifiedStart+i.modifiedLength>=n.modifiedStart){const o=i.originalStart;let d=i.originalLength;const r=i.modifiedStart;let c=i.modifiedLength;return i.originalStart+i.originalLength>=n.originalStart&&(d=n.originalStart+n.originalLength-i.originalStart),i.modifiedStart+i.modifiedLength>=n.modifiedStart&&(c=n.modifiedStart+n.modifiedLength-i.modifiedStart),t[0]=new E.DiffChange(o,d,r,c),!0}else return t[0]=null,!1}ClipDiagonalBound(i,n,t,o){if(i>=0&&i<o)return i;const d=t,r=o-t-1,c=n%2==0;if(i<0){const s=d%2==0;return c===s?0:1}else{const s=r%2==0;return c===s?o-1:o-2}}}e.LcsDiff=u}),define(re[172],se([1,0,115,18,10,141,4,55]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=e.getVisibleState=e.isFilterResult=void 0;function v(n){return typeof n=="object"&&"visibility"in n&&"data"in n}e.isFilterResult=v;function u(n){switch(n){case!0:return 1;case!1:return 0;default:return n}}e.getVisibleState=u;function h(n){return typeof n.collapsible=="boolean"}class i{constructor(t,o,d,r={}){this.user=t,this.list=o,this.rootRef=[],this.eventBufferer=new L.EventBufferer,this._onDidChangeCollapseState=new L.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new L.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new L.Emitter,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new k.Delayer(k.MicrotaskDelay),this.collapseByDefault=typeof r.collapseByDefault=="undefined"?!1:r.collapseByDefault,this.filter=r.filter,this.autoExpandSingleChildren=typeof r.autoExpandSingleChildren=="undefined"?!1:r.autoExpandSingleChildren,this.root={parent:void 0,element:d,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(t,o,d=_.Iterable.empty(),r={}){if(t.length===0)throw new E.TreeError(this.user,"Invalid tree location");r.diffIdentityProvider?this.spliceSmart(r.diffIdentityProvider,t,o,d,r):this.spliceSimple(t,o,d,r)}spliceSmart(t,o,d,r,c,s){var a;r===void 0&&(r=_.Iterable.empty()),s===void 0&&(s=(a=c.diffDepth)!==null&&a!==void 0?a:0);const{parentNode:l}=this.getParentNodeWithListIndex(o);if(!l.lastDiffIds)return this.spliceSimple(o,d,r,c);const f=[...r],g=o[o.length-1],b=new I.LcsDiff({getElements:()=>l.lastDiffIds},{getElements:()=>[...l.children.slice(0,g),...f,...l.children.slice(g+d)].map(w=>t.getId(w.element).toString())}).ComputeDiff(!1);if(b.quitEarly)return l.lastDiffIds=void 0,this.spliceSimple(o,d,f,c);const p=o.slice(0,-1),C=(w,T,N)=>{if(s>0)for(let R=0;R<N;R++)w--,T--,this.spliceSmart(t,[...p,w,0],Number.MAX_SAFE_INTEGER,f[T].children,c,s-1)};let S=Math.min(l.children.length,g+d),y=f.length;for(const w of b.changes.sort((T,N)=>N.originalStart-T.originalStart))C(S,y,S-(w.originalStart+w.originalLength)),S=w.originalStart,y=w.modifiedStart-g,this.spliceSimple([...p,S],w.originalLength,_.Iterable.slice(f,y,y+w.modifiedLength),c);C(S,y,S)}spliceSimple(t,o,d=_.Iterable.empty(),{onDidCreateNode:r,onDidDeleteNode:c,diffIdentityProvider:s}){const{parentNode:a,listIndex:l,revealed:f,visible:g}=this.getParentNodeWithListIndex(t),b=[],p=_.Iterable.map(d,A=>this.createTreeNode(A,a,a.visible?1:0,f,b,r)),C=t[t.length-1],S=a.children.length>0;let y=0;for(let A=C;A>=0&&A<a.children.length;A--){const P=a.children[A];if(P.visible){y=P.visibleChildIndex;break}}const w=[];let T=0,N=0;for(const A of p)w.push(A),N+=A.renderNodeCount,A.visible&&(A.visibleChildIndex=y+T++);const R=(0,m.splice)(a.children,C,o,w);s?a.lastDiffIds?(0,m.splice)(a.lastDiffIds,C,o,w.map(A=>s.getId(A.element).toString())):a.lastDiffIds=a.children.map(A=>s.getId(A.element).toString()):a.lastDiffIds=void 0;let B=0;for(const A of R)A.visible&&B++;if(B!==0)for(let A=C+w.length;A<a.children.length;A++){const P=a.children[A];P.visible&&(P.visibleChildIndex-=B)}if(a.visibleChildrenCount+=T-B,f&&g){const A=R.reduce((P,F)=>P+(F.visible?F.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,N-A),this.list.splice(l,A,b)}if(R.length>0&&c){const A=P=>{c(P),P.children.forEach(A)};R.forEach(A)}this._onDidSplice.fire({insertedNodes:w,deletedNodes:R});const O=a.children.length>0;S!==O&&this.setCollapsible(t.slice(0,-1),O);let D=a;for(;D;){if(D.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}D=D.parent}}rerender(t){if(t.length===0)throw new E.TreeError(this.user,"Invalid tree location");const{node:o,listIndex:d,revealed:r}=this.getTreeNodeWithListIndex(t);o.visible&&r&&this.list.splice(d,1,[o])}has(t){return this.hasTreeNode(t)}getListIndex(t){const{listIndex:o,visible:d,revealed:r}=this.getTreeNodeWithListIndex(t);return d&&r?o:-1}getListRenderCount(t){return this.getTreeNode(t).renderNodeCount}isCollapsible(t){return this.getTreeNode(t).collapsible}setCollapsible(t,o){const d=this.getTreeNode(t);typeof o=="undefined"&&(o=!d.collapsible);const r={collapsible:o};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,r))}isCollapsed(t){return this.getTreeNode(t).collapsed}setCollapsed(t,o,d){const r=this.getTreeNode(t);typeof o=="undefined"&&(o=!r.collapsed);const c={collapsed:o,recursive:d||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,c))}_setCollapseState(t,o){const{node:d,listIndex:r,revealed:c}=this.getTreeNodeWithListIndex(t),s=this._setListNodeCollapseState(d,r,c,o);if(d!==this.root&&this.autoExpandSingleChildren&&s&&!h(o)&&d.collapsible&&!d.collapsed&&!o.recursive){let a=-1;for(let l=0;l<d.children.length;l++)if(d.children[l].visible)if(a>-1){a=-1;break}else a=l;a>-1&&this._setCollapseState([...t,a],o)}return s}_setListNodeCollapseState(t,o,d,r){const c=this._setNodeCollapseState(t,r,!1);if(!d||!t.visible||!c)return c;const s=t.renderNodeCount,a=this.updateNodeAfterCollapseChange(t),l=s-(o===-1?0:1);return this.list.splice(o+1,l,a.slice(1)),c}_setNodeCollapseState(t,o,d){let r;if(t===this.root?r=!1:(h(o)?(r=t.collapsible!==o.collapsible,t.collapsible=o.collapsible):t.collapsible?(r=t.collapsed!==o.collapsed,t.collapsed=o.collapsed):r=!1,r&&this._onDidChangeCollapseState.fire({node:t,deep:d})),!h(o)&&o.recursive)for(const c of t.children)r=this._setNodeCollapseState(c,o,!0)||r;return r}expandTo(t){this.eventBufferer.bufferEvents(()=>{let o=this.getTreeNode(t);for(;o.parent;)o=o.parent,t=t.slice(0,t.length-1),o.collapsed&&this._setCollapseState(t,{collapsed:!1,recursive:!1})})}refilter(){const t=this.root.renderNodeCount,o=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,t,o),this.refilterDelayer.cancel()}createTreeNode(t,o,d,r,c,s){const a={parent:o,element:t.element,children:[],depth:o.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof t.collapsible=="boolean"?t.collapsible:typeof t.collapsed!="undefined",collapsed:typeof t.collapsed=="undefined"?this.collapseByDefault:t.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(a,d);a.visibility=l,r&&c.push(a);const f=t.children||_.Iterable.empty(),g=r&&l!==0&&!a.collapsed,b=_.Iterable.map(f,S=>this.createTreeNode(S,a,l,g,c,s));let p=0,C=1;for(const S of b)a.children.push(S),C+=S.renderNodeCount,S.visible&&(S.visibleChildIndex=p++);return a.collapsible=a.collapsible||a.children.length>0,a.visibleChildrenCount=p,a.visible=l===2?p>0:l===1,a.visible?a.collapsed||(a.renderNodeCount=C):(a.renderNodeCount=0,r&&c.pop()),s&&s(a),a}updateNodeAfterCollapseChange(t){const o=t.renderNodeCount,d=[];return this._updateNodeAfterCollapseChange(t,d),this._updateAncestorsRenderNodeCount(t.parent,d.length-o),d}_updateNodeAfterCollapseChange(t,o){if(t.visible===!1)return 0;if(o.push(t),t.renderNodeCount=1,!t.collapsed)for(const d of t.children)t.renderNodeCount+=this._updateNodeAfterCollapseChange(d,o);return this._onDidChangeRenderNodeCount.fire(t),t.renderNodeCount}updateNodeAfterFilterChange(t){const o=t.renderNodeCount,d=[];return this._updateNodeAfterFilterChange(t,t.visible?1:0,d),this._updateAncestorsRenderNodeCount(t.parent,d.length-o),d}_updateNodeAfterFilterChange(t,o,d,r=!0){let c;if(t!==this.root){if(c=this._filterNode(t,o),c===0)return t.visible=!1,t.renderNodeCount=0,!1;r&&d.push(t)}const s=d.length;t.renderNodeCount=t===this.root?0:1;let a=!1;if(!t.collapsed||c!==0){let l=0;for(const f of t.children)a=this._updateNodeAfterFilterChange(f,c,d,r&&!t.collapsed)||a,f.visible&&(f.visibleChildIndex=l++);t.visibleChildrenCount=l}else t.visibleChildrenCount=0;return t!==this.root&&(t.visible=c===2?a:c===1,t.visibility=c),t.visible?t.collapsed||(t.renderNodeCount+=d.length-s):(t.renderNodeCount=0,r&&d.pop()),this._onDidChangeRenderNodeCount.fire(t),t.visible}_updateAncestorsRenderNodeCount(t,o){if(o!==0)for(;t;)t.renderNodeCount+=o,this._onDidChangeRenderNodeCount.fire(t),t=t.parent}_filterNode(t,o){const d=this.filter?this.filter.filter(t.element,o):1;return typeof d=="boolean"?(t.filterData=void 0,d?1:0):v(d)?(t.filterData=d.data,u(d.visibility)):(t.filterData=void 0,u(d))}hasTreeNode(t,o=this.root){if(!t||t.length===0)return!0;const[d,...r]=t;return d<0||d>o.children.length?!1:this.hasTreeNode(r,o.children[d])}getTreeNode(t,o=this.root){if(!t||t.length===0)return o;const[d,...r]=t;if(d<0||d>o.children.length)throw new E.TreeError(this.user,"Invalid tree location");return this.getTreeNode(r,o.children[d])}getTreeNodeWithListIndex(t){if(t.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:o,listIndex:d,revealed:r,visible:c}=this.getParentNodeWithListIndex(t),s=t[t.length-1];if(s<0||s>o.children.length)throw new E.TreeError(this.user,"Invalid tree location");const a=o.children[s];return{node:a,listIndex:d,revealed:r,visible:c&&a.visible}}getParentNodeWithListIndex(t,o=this.root,d=0,r=!0,c=!0){const[s,...a]=t;if(s<0||s>o.children.length)throw new E.TreeError(this.user,"Invalid tree location");for(let l=0;l<s;l++)d+=o.children[l].renderNodeCount;return r=r&&!o.collapsed,c=c&&o.visible,a.length===0?{parentNode:o,listIndex:d,revealed:r,visible:c}:this.getParentNodeWithListIndex(a,o.children[s],d+1,r,c)}getNode(t=[]){return this.getTreeNode(t)}getNodeLocation(t){const o=[];let d=t;for(;d.parent;)o.push(d.parent.children.indexOf(d)),d=d.parent;return o.reverse()}getParentNodeLocation(t){if(t.length!==0)return t.length===1?[]:(0,m.tail2)(t)[0]}getFirstElementChild(t){const o=this.getTreeNode(t);if(o.children.length!==0)return o.children[0].element}}e.IndexTreeModel=i}),define(re[173],se([1,0,172,115,55]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class I{constructor(_,v,u={}){this.user=_,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new E.IndexTreeModel(_,v,null,u),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,u.sorter&&(this.sorter={compare(h,i){return u.sorter.compare(h.element,i.element)}}),this.identityProvider=u.identityProvider}setChildren(_,v=k.Iterable.empty(),u={}){const h=this.getElementLocation(_);this._setChildren(h,this.preserveCollapseState(v),u)}_setChildren(_,v=k.Iterable.empty(),u){const h=new Set,i=new Set,n=o=>{var d;if(o.element===null)return;const r=o;if(h.add(r.element),this.nodes.set(r.element,r),this.identityProvider){const c=this.identityProvider.getId(r.element).toString();i.add(c),this.nodesByIdentity.set(c,r)}(d=u.onDidCreateNode)===null||d===void 0||d.call(u,r)},t=o=>{var d;if(o.element===null)return;const r=o;if(h.has(r.element)||this.nodes.delete(r.element),this.identityProvider){const c=this.identityProvider.getId(r.element).toString();i.has(c)||this.nodesByIdentity.delete(c)}(d=u.onDidDeleteNode)===null||d===void 0||d.call(u,r)};this.model.splice([..._,0],Number.MAX_VALUE,v,Object.assign(Object.assign({},u),{onDidCreateNode:n,onDidDeleteNode:t}))}preserveCollapseState(_=k.Iterable.empty()){return this.sorter&&(_=[..._].sort(this.sorter.compare.bind(this.sorter))),k.Iterable.map(_,v=>{let u=this.nodes.get(v.element);if(!u&&this.identityProvider){const n=this.identityProvider.getId(v.element).toString();u=this.nodesByIdentity.get(n)}if(!u)return Object.assign(Object.assign({},v),{children:this.preserveCollapseState(v.children)});const h=typeof v.collapsible=="boolean"?v.collapsible:u.collapsible,i=typeof v.collapsed!="undefined"?v.collapsed:u.collapsed;return Object.assign(Object.assign({},v),{collapsible:h,collapsed:i,children:this.preserveCollapseState(v.children)})})}rerender(_){const v=this.getElementLocation(_);this.model.rerender(v)}getFirstElementChild(_=null){const v=this.getElementLocation(_);return this.model.getFirstElementChild(v)}has(_){return this.nodes.has(_)}getListIndex(_){const v=this.getElementLocation(_);return this.model.getListIndex(v)}getListRenderCount(_){const v=this.getElementLocation(_);return this.model.getListRenderCount(v)}isCollapsible(_){const v=this.getElementLocation(_);return this.model.isCollapsible(v)}setCollapsible(_,v){const u=this.getElementLocation(_);return this.model.setCollapsible(u,v)}isCollapsed(_){const v=this.getElementLocation(_);return this.model.isCollapsed(v)}setCollapsed(_,v,u){const h=this.getElementLocation(_);return this.model.setCollapsed(h,v,u)}expandTo(_){const v=this.getElementLocation(_);this.model.expandTo(v)}refilter(){this.model.refilter()}getNode(_=null){if(_===null)return this.model.getNode(this.model.rootRef);const v=this.nodes.get(_);if(!v)throw new m.TreeError(this.user,`Tree element not found: ${_}`);return v}getNodeLocation(_){return _.element}getParentNodeLocation(_){if(_===null)throw new m.TreeError(this.user,"Invalid getParentNodeLocation call");const v=this.nodes.get(_);if(!v)throw new m.TreeError(this.user,`Tree element not found: ${_}`);const u=this.model.getNodeLocation(v),h=this.model.getParentNodeLocation(u);return this.model.getNode(h).element}getElementLocation(_){if(_===null)return[];const v=this.nodes.get(_);if(!v)throw new m.TreeError(this.user,`Tree element not found: ${_}`);return this.model.getNodeLocation(v)}}e.ObjectTreeModel=I}),define(re[328],se([1,0,173,115,4,55]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=e.decompress=e.compress=void 0;function L(s){const a=[s.element],l=s.incompressible||!1;return{element:{elements:a,incompressible:l},children:I.Iterable.map(I.Iterable.from(s.children),L),collapsible:s.collapsible,collapsed:s.collapsed}}function _(s){const a=[s.element],l=s.incompressible||!1;let f,g;for(;[g,f]=I.Iterable.consume(I.Iterable.from(s.children),2),!(g.length!==1||g[0].incompressible);)s=g[0],a.push(s.element);return{element:{elements:a,incompressible:l},children:I.Iterable.map(I.Iterable.concat(g,f),_),collapsible:s.collapsible,collapsed:s.collapsed}}e.compress=_;function v(s,a=0){let l;return a<s.element.elements.length-1?l=[v(s,a+1)]:l=I.Iterable.map(I.Iterable.from(s.children),f=>v(f,0)),a===0&&s.element.incompressible?{element:s.element.elements[a],children:l,incompressible:!0,collapsible:s.collapsible,collapsed:s.collapsed}:{element:s.element.elements[a],children:l,collapsible:s.collapsible,collapsed:s.collapsed}}function u(s){return v(s,0)}e.decompress=u;function h(s,a,l){return s.element===a?Object.assign(Object.assign({},s),{children:l}):Object.assign(Object.assign({},s),{children:I.Iterable.map(I.Iterable.from(s.children),f=>h(f,a,l))})}const i=s=>({getId(a){return a.elements.map(l=>s.getId(l).toString()).join("\0")}});class n{constructor(a,l,f={}){this.user=a,this.rootRef=null,this.nodes=new Map,this.model=new E.ObjectTreeModel(a,l,f),this.enabled=typeof f.compressionEnabled=="undefined"?!0:f.compressionEnabled,this.identityProvider=f.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(a,l=I.Iterable.empty(),f){const g=f.diffIdentityProvider&&i(f.diffIdentityProvider);if(a===null){const R=I.Iterable.map(l,this.enabled?_:L);this._setChildren(null,R,{diffIdentityProvider:g,diffDepth:1/0});return}const b=this.nodes.get(a);if(!b)throw new Error("Unknown compressed tree node");const p=this.model.getNode(b),C=this.model.getParentNodeLocation(b),S=this.model.getNode(C),y=u(p),w=h(y,a,l),T=(this.enabled?_:L)(w),N=S.children.map(R=>R===p?T:R);this._setChildren(S.element,N,{diffIdentityProvider:g,diffDepth:p.depth-S.depth})}setCompressionEnabled(a){if(a===this.enabled)return;this.enabled=a;const f=this.model.getNode().children,g=I.Iterable.map(f,u),b=I.Iterable.map(g,a?_:L);this._setChildren(null,b,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(a,l,f){const g=new Set,b=C=>{for(const S of C.element.elements)g.add(S),this.nodes.set(S,C.element)},p=C=>{for(const S of C.element.elements)g.has(S)||this.nodes.delete(S)};this.model.setChildren(a,l,Object.assign(Object.assign({},f),{onDidCreateNode:b,onDidDeleteNode:p}))}has(a){return this.nodes.has(a)}getListIndex(a){const l=this.getCompressedNode(a);return this.model.getListIndex(l)}getListRenderCount(a){const l=this.getCompressedNode(a);return this.model.getListRenderCount(l)}getNode(a){if(typeof a=="undefined")return this.model.getNode();const l=this.getCompressedNode(a);return this.model.getNode(l)}getNodeLocation(a){const l=this.model.getNodeLocation(a);return l===null?null:l.elements[l.elements.length-1]}getParentNodeLocation(a){const l=this.getCompressedNode(a),f=this.model.getParentNodeLocation(l);return f===null?null:f.elements[f.elements.length-1]}getFirstElementChild(a){const l=this.getCompressedNode(a);return this.model.getFirstElementChild(l)}isCollapsible(a){const l=this.getCompressedNode(a);return this.model.isCollapsible(l)}setCollapsible(a,l){const f=this.getCompressedNode(a);return this.model.setCollapsible(f,l)}isCollapsed(a){const l=this.getCompressedNode(a);return this.model.isCollapsed(l)}setCollapsed(a,l,f){const g=this.getCompressedNode(a);return this.model.setCollapsed(g,l,f)}expandTo(a){const l=this.getCompressedNode(a);this.model.expandTo(l)}rerender(a){const l=this.getCompressedNode(a);this.model.rerender(l)}refilter(){this.model.refilter()}getCompressedNode(a){if(a===null)return null;const l=this.nodes.get(a);if(!l)throw new m.TreeError(this.user,`Tree element not found: ${a}`);return l}}e.CompressedObjectTreeModel=n;const t=s=>s[s.length-1];e.DefaultElementMapper=t;class o{constructor(a,l){this.unwrapper=a,this.node=l}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(a=>new o(this.unwrapper,a))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function d(s,a){return{splice(l,f,g){a.splice(l,f,g.map(b=>s.map(b)))},updateElementHeight(l,f){a.updateElementHeight(l,f)}}}function r(s,a){return Object.assign(Object.assign({},a),{identityProvider:a.identityProvider&&{getId(l){return a.identityProvider.getId(s(l))}},sorter:a.sorter&&{compare(l,f){return a.sorter.compare(l.elements[0],f.elements[0])}},filter:a.filter&&{filter(l,f){return a.filter.filter(s(l),f)}}})}class c{constructor(a,l,f={}){this.rootRef=null,this.elementMapper=f.elementMapper||e.DefaultElementMapper;const g=b=>this.elementMapper(b.elements);this.nodeMapper=new m.WeakMapper(b=>new o(g,b)),this.model=new n(a,d(this.nodeMapper,l),r(g,f))}get onDidSplice(){return k.Event.map(this.model.onDidSplice,({insertedNodes:a,deletedNodes:l})=>({insertedNodes:a.map(f=>this.nodeMapper.map(f)),deletedNodes:l.map(f=>this.nodeMapper.map(f))}))}get onDidChangeCollapseState(){return k.Event.map(this.model.onDidChangeCollapseState,({node:a,deep:l})=>({node:this.nodeMapper.map(a),deep:l}))}get onDidChangeRenderNodeCount(){return k.Event.map(this.model.onDidChangeRenderNodeCount,a=>this.nodeMapper.map(a))}setChildren(a,l=I.Iterable.empty(),f={}){this.model.setChildren(a,l,f)}setCompressionEnabled(a){this.model.setCompressionEnabled(a)}has(a){return this.model.has(a)}getListIndex(a){return this.model.getListIndex(a)}getListRenderCount(a){return this.model.getListRenderCount(a)}getNode(a){return this.nodeMapper.map(this.model.getNode(a))}getNodeLocation(a){return a.element}getParentNodeLocation(a){return this.model.getParentNodeLocation(a)}getFirstElementChild(a){const l=this.model.getFirstElementChild(a);return l===null||typeof l=="undefined"?l:this.elementMapper(l.elements)}isCollapsible(a){return this.model.isCollapsible(a)}setCollapsible(a,l){return this.model.setCollapsible(a,l)}isCollapsed(a){return this.model.isCollapsed(a)}setCollapsed(a,l,f){return this.model.setCollapsed(a,l,f)}expandTo(a){return this.model.expandTo(a)}rerender(a){return this.model.rerender(a)}refilter(){return this.model.refilter()}getCompressedTreeNode(a=null){return this.model.getNode(a)}}e.CompressibleObjectTreeModel=c}),define(re[51],se([1,0,8]),function(U,e,E){"use strict";var m,k;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.ResourceMap=e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class I{constructor(){this._value="",this._pos=0}reset(r){return this._value=r,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(r){const c=r.charCodeAt(0),s=this._value.charCodeAt(this._pos);return c-s}value(){return this._value[this._pos]}}e.StringIterator=I;class L{constructor(r=!0){this._caseSensitive=r}reset(r){return this._value=r,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let r=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(r)this._from++;else break;else r=!1;return this}cmp(r){return this._caseSensitive?(0,E.compareSubstring)(r,this._value,0,r.length,this._from,this._to):(0,E.compareSubstringIgnoreCase)(r,this._value,0,r.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=L;class _{constructor(r=!0,c=!0){this._splitOnBackslash=r,this._caseSensitive=c}reset(r){this._from=0,this._to=0,this._value=r,this._valueLen=r.length;for(let c=r.length-1;c>=0;c--,this._valueLen--){const s=this._value.charCodeAt(c);if(!(s===47||this._splitOnBackslash&&s===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let r=!0;for(;this._to<this._valueLen;this._to++){const c=this._value.charCodeAt(this._to);if(c===47||this._splitOnBackslash&&c===92)if(r)this._from++;else break;else r=!1}return this}cmp(r){return this._caseSensitive?(0,E.compareSubstring)(r,this._value,0,r.length,this._from,this._to):(0,E.compareSubstringIgnoreCase)(r,this._value,0,r.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=_;class v{constructor(r,c){this._ignorePathCasing=r,this._ignoreQueryAndFragment=c,this._states=[],this._stateIdx=0}reset(r){return this._value=r,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new _(!1,!this._ignorePathCasing(r)),this._pathIterator.reset(r.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(r)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(r){if(this._states[this._stateIdx]===1)return(0,E.compareIgnoreCase)(r,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,E.compareIgnoreCase)(r,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(r);if(this._states[this._stateIdx]===4)return(0,E.compare)(r,this._value.query);if(this._states[this._stateIdx]===5)return(0,E.compare)(r,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=v;class u{constructor(){this.height=1}rotateLeft(){const r=this.right;return this.right=r.left,r.left=this,this.updateHeight(),r.updateHeight(),r}rotateRight(){const r=this.left;return this.left=r.right,r.right=this,this.updateHeight(),r.updateHeight(),r}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var r,c;return(c=(r=this.left)===null||r===void 0?void 0:r.height)!==null&&c!==void 0?c:0}get heightRight(){var r,c;return(c=(r=this.right)===null||r===void 0?void 0:r.height)!==null&&c!==void 0?c:0}}class h{constructor(r){this._iter=r}static forUris(r=()=>!1,c=()=>!1){return new h(new v(r,c))}static forStrings(){return new h(new I)}static forConfigKeys(){return new h(new L)}clear(){this._root=void 0}set(r,c){const s=this._iter.reset(r);let a;this._root||(this._root=new u,this._root.segment=s.value());const l=[];for(a=this._root;;){const g=s.cmp(a.segment);if(g>0)a.left||(a.left=new u,a.left.segment=s.value()),l.push([-1,a]),a=a.left;else if(g<0)a.right||(a.right=new u,a.right.segment=s.value()),l.push([1,a]),a=a.right;else if(s.hasNext())s.next(),a.mid||(a.mid=new u,a.mid.segment=s.value()),l.push([0,a]),a=a.mid;else break}const f=a.value;a.value=c,a.key=r;for(let g=l.length-1;g>=0;g--){const b=l[g][1];b.updateHeight();const p=b.balanceFactor();if(p<-1||p>1){const C=l[g][0],S=l[g+1][0];if(C===1&&S===1)l[g][1]=b.rotateLeft();else if(C===-1&&S===-1)l[g][1]=b.rotateRight();else if(C===1&&S===-1)b.right=l[g+1][1]=l[g+1][1].rotateRight(),l[g][1]=b.rotateLeft();else if(C===-1&&S===1)b.left=l[g+1][1]=l[g+1][1].rotateLeft(),l[g][1]=b.rotateRight();else throw new Error;if(g>0)switch(l[g-1][0]){case-1:l[g-1][1].left=l[g][1];break;case 1:l[g-1][1].right=l[g][1];break;case 0:l[g-1][1].mid=l[g][1];break}else this._root=l[0][1]}}return f}get(r){var c;return(c=this._getNode(r))===null||c===void 0?void 0:c.value}_getNode(r){const c=this._iter.reset(r);let s=this._root;for(;s;){const a=c.cmp(s.segment);if(a>0)s=s.left;else if(a<0)s=s.right;else if(c.hasNext())c.next(),s=s.mid;else break}return s}has(r){const c=this._getNode(r);return!((c==null?void 0:c.value)===void 0&&(c==null?void 0:c.mid)===void 0)}delete(r){return this._delete(r,!1)}deleteSuperstr(r){return this._delete(r,!0)}_delete(r,c){var s;const a=this._iter.reset(r),l=[];let f=this._root;for(;f;){const g=a.cmp(f.segment);if(g>0)l.push([-1,f]),f=f.left;else if(g<0)l.push([1,f]),f=f.right;else if(a.hasNext())a.next(),l.push([0,f]),f=f.mid;else break}if(!!f){if(c?(f.left=void 0,f.mid=void 0,f.right=void 0,f.height=1):(f.key=void 0,f.value=void 0),!f.mid&&!f.value)if(f.left&&f.right){const g=this._min(f.right),{key:b,value:p,segment:C}=g;this._delete(g.key,!1),f.key=b,f.value=p,f.segment=C}else{const g=(s=f.left)!==null&&s!==void 0?s:f.right;if(l.length>0){const[b,p]=l[l.length-1];switch(b){case-1:p.left=g;break;case 0:p.mid=g;break;case 1:p.right=g;break}}else this._root=g}for(let g=l.length-1;g>=0;g--){const b=l[g][1];b.updateHeight();const p=b.balanceFactor();if(p>1?(b.right.balanceFactor()>=0||(b.right=b.right.rotateRight()),l[g][1]=b.rotateLeft()):p<-1&&(b.left.balanceFactor()<=0||(b.left=b.left.rotateLeft()),l[g][1]=b.rotateRight()),g>0)switch(l[g-1][0]){case-1:l[g-1][1].left=l[g][1];break;case 1:l[g-1][1].right=l[g][1];break;case 0:l[g-1][1].mid=l[g][1];break}else this._root=l[0][1]}}}_min(r){for(;r.left;)r=r.left;return r}findSubstr(r){const c=this._iter.reset(r);let s=this._root,a;for(;s;){const l=c.cmp(s.segment);if(l>0)s=s.left;else if(l<0)s=s.right;else if(c.hasNext())c.next(),a=s.value||a,s=s.mid;else break}return s&&s.value||a}findSuperstr(r){const c=this._iter.reset(r);let s=this._root;for(;s;){const a=c.cmp(s.segment);if(a>0)s=s.left;else if(a<0)s=s.right;else if(c.hasNext())c.next(),s=s.mid;else return s.mid?this._entries(s.mid):void 0}}forEach(r){for(const[c,s]of this)r(s,c)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(r){!r||(r.left&&(yield*this._entries(r.left)),r.value&&(yield[r.key,r.value]),r.mid&&(yield*this._entries(r.mid)),r.right&&(yield*this._entries(r.right)))}}e.TernarySearchTree=h;class i{constructor(r,c){this.uri=r,this.value=c}}class n{constructor(r,c){this[m]="ResourceMap",r instanceof n?(this.map=new Map(r.map),this.toKey=c??n.defaultToKey):(this.map=new Map,this.toKey=r??n.defaultToKey)}set(r,c){return this.map.set(this.toKey(r),new i(r,c)),this}get(r){var c;return(c=this.map.get(this.toKey(r)))===null||c===void 0?void 0:c.value}has(r){return this.map.has(this.toKey(r))}get size(){return this.map.size}clear(){this.map.clear()}delete(r){return this.map.delete(this.toKey(r))}forEach(r,c){typeof c!="undefined"&&(r=r.bind(c));for(let[s,a]of this.map)r(a.value,a.uri,this)}*values(){for(let r of this.map.values())yield r.value}*keys(){for(let r of this.map.values())yield r.uri}*entries(){for(let r of this.map.values())yield[r.uri,r.value]}*[(m=Symbol.toStringTag,Symbol.iterator)](){for(let[,r]of this.map)yield[r.uri,r.value]}}e.ResourceMap=n,n.defaultToKey=d=>d.toString();class t{constructor(){this[k]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var r;return(r=this._head)===null||r===void 0?void 0:r.value}get last(){var r;return(r=this._tail)===null||r===void 0?void 0:r.value}has(r){return this._map.has(r)}get(r,c=0){const s=this._map.get(r);if(!!s)return c!==0&&this.touch(s,c),s.value}set(r,c,s=0){let a=this._map.get(r);if(a)a.value=c,s!==0&&this.touch(a,s);else{switch(a={key:r,value:c,next:void 0,previous:void 0},s){case 0:this.addItemLast(a);break;case 1:this.addItemFirst(a);break;case 2:this.addItemLast(a);break;default:this.addItemLast(a);break}this._map.set(r,a),this._size++}return this}delete(r){return!!this.remove(r)}remove(r){const c=this._map.get(r);if(!!c)return this._map.delete(r),this.removeItem(c),this._size--,c.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const r=this._head;return this._map.delete(r.key),this.removeItem(r),this._size--,r.value}forEach(r,c){const s=this._state;let a=this._head;for(;a;){if(c?r.bind(c)(a.value,a.key,this):r(a.value,a.key,this),this._state!==s)throw new Error("LinkedMap got modified during iteration.");a=a.next}}keys(){const r=this,c=this._state;let s=this._head;const a={[Symbol.iterator](){return a},next(){if(r._state!==c)throw new Error("LinkedMap got modified during iteration.");if(s){const l={value:s.key,done:!1};return s=s.next,l}else return{value:void 0,done:!0}}};return a}values(){const r=this,c=this._state;let s=this._head;const a={[Symbol.iterator](){return a},next(){if(r._state!==c)throw new Error("LinkedMap got modified during iteration.");if(s){const l={value:s.value,done:!1};return s=s.next,l}else return{value:void 0,done:!0}}};return a}entries(){const r=this,c=this._state;let s=this._head;const a={[Symbol.iterator](){return a},next(){if(r._state!==c)throw new Error("LinkedMap got modified during iteration.");if(s){const l={value:[s.key,s.value],done:!1};return s=s.next,l}else return{value:void 0,done:!0}}};return a}[(k=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(r){if(r>=this.size)return;if(r===0){this.clear();return}let c=this._head,s=this.size;for(;c&&s>r;)this._map.delete(c.key),c=c.next,s--;this._head=c,this._size=s,c&&(c.previous=void 0),this._state++}addItemFirst(r){if(!this._head&&!this._tail)this._tail=r;else if(this._head)r.next=this._head,this._head.previous=r;else throw new Error("Invalid list");this._head=r,this._state++}addItemLast(r){if(!this._head&&!this._tail)this._head=r;else if(this._tail)r.previous=this._tail,this._tail.next=r;else throw new Error("Invalid list");this._tail=r,this._state++}removeItem(r){if(r===this._head&&r===this._tail)this._head=void 0,this._tail=void 0;else if(r===this._head){if(!r.next)throw new Error("Invalid list");r.next.previous=void 0,this._head=r.next}else if(r===this._tail){if(!r.previous)throw new Error("Invalid list");r.previous.next=void 0,this._tail=r.previous}else{const c=r.next,s=r.previous;if(!c||!s)throw new Error("Invalid list");c.previous=s,s.next=c}r.next=void 0,r.previous=void 0,this._state++}touch(r,c){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(c!==1&&c!==2)){if(c===1){if(r===this._head)return;const s=r.next,a=r.previous;r===this._tail?(a.next=void 0,this._tail=a):(s.previous=a,a.next=s),r.previous=void 0,r.next=this._head,this._head.previous=r,this._head=r,this._state++}else if(c===2){if(r===this._tail)return;const s=r.next,a=r.previous;r===this._head?(s.previous=void 0,this._head=s):(s.previous=a,a.next=s),r.next=void 0,r.previous=this._tail,this._tail.next=r,this._tail=r,this._state++}}}toJSON(){const r=[];return this.forEach((c,s)=>{r.push([s,c])}),r}fromJSON(r){this.clear();for(const[c,s]of r)this.set(c,s)}}e.LinkedMap=t;class o extends t{constructor(r,c=1){super();this._limit=r,this._ratio=Math.min(Math.max(0,c),1)}get limit(){return this._limit}set limit(r){this._limit=r,this.checkTrim()}get(r,c=2){return super.get(r,c)}peek(r){return super.get(r,0)}set(r,c){return super.set(r,c,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=o}),define(re[64],se([1,0,51,8]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScoreOptions=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function k(...$){return function(H,te){for(let ne=0,de=$.length;ne<de;ne++){const he=$[ne](H,te);if(he)return he}return null}}e.or=k,e.matchesStrictPrefix=I.bind(void 0,!1),e.matchesPrefix=I.bind(void 0,!0);function I($,H,te){if(!te||te.length<H.length)return null;let ne;return $?ne=m.startsWithIgnoreCase(te,H):ne=te.indexOf(H)===0,ne?H.length>0?[{start:0,end:H.length}]:[]:null}function L($,H){const te=H.toLowerCase().indexOf($.toLowerCase());return te===-1?null:[{start:te,end:te+$.length}]}e.matchesContiguousSubString=L;function _($,H){return v($.toLowerCase(),H.toLowerCase(),0,0)}e.matchesSubString=_;function v($,H,te,ne){if(te===$.length)return[];if(ne===H.length)return null;if($[te]===H[ne]){let de=null;return(de=v($,H,te+1,ne+1))?c({start:ne,end:ne+1},de):null}return v($,H,te,ne+1)}function u($){return 97<=$&&$<=122}function h($){return 65<=$&&$<=90}e.isUpper=h;function i($){return 48<=$&&$<=57}function n($){return $===32||$===9||$===10||$===13}const t=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach($=>t.add($.charCodeAt(0)));function o($){return n($)||t.has($)}function d($,H){return $===H||o($)&&o(H)}function r($){return u($)||h($)||i($)}function c($,H){return H.length===0?H=[$]:$.end===H[0].start?H[0].start=$.start:H.unshift($),H}function s($,H){for(let te=H;te<$.length;te++){const ne=$.charCodeAt(te);if(h(ne)||i(ne)||te>0&&!r($.charCodeAt(te-1)))return te}return $.length}function a($,H,te,ne){if(te===$.length)return[];if(ne===H.length)return null;if($[te]!==H[ne].toLowerCase())return null;{let de=null,he=ne+1;for(de=a($,H,te+1,ne+1);!de&&(he=s(H,he))<H.length;)de=a($,H,te+1,he),he++;return de===null?null:c({start:ne,end:ne+1},de)}}function l($){let H=0,te=0,ne=0,de=0,he=0;for(let me=0;me<$.length;me++)he=$.charCodeAt(me),h(he)&&H++,u(he)&&te++,r(he)&&ne++,i(he)&&de++;const pe=H/$.length,ve=te/$.length,ue=ne/$.length,Ce=de/$.length;return{upperPercent:pe,lowerPercent:ve,alphaPercent:ue,numericPercent:Ce}}function f($){const{upperPercent:H,lowerPercent:te}=$;return te===0&&H>.6}function g($){const{upperPercent:H,lowerPercent:te,alphaPercent:ne,numericPercent:de}=$;return te>.2&&H<.8&&ne>.6&&de<.2}function b($){let H=0,te=0,ne=0,de=0;for(let he=0;he<$.length;he++)ne=$.charCodeAt(he),h(ne)&&H++,u(ne)&&te++,n(ne)&&de++;return(H===0||te===0)&&de===0?$.length<=30:H<=5}function p($,H){if(!H||(H=H.trim(),H.length===0)||!b($)||H.length>60)return null;const te=l(H);if(!g(te)){if(!f(te))return null;H=H.toLowerCase()}let ne=null,de=0;for($=$.toLowerCase();de<H.length&&(ne=a($,H,0,de))===null;)de=s(H,de+1);return ne}e.matchesCamelCase=p;function C($,H,te=!1){if(!H||H.length===0)return null;let ne=null,de=0;for($=$.toLowerCase(),H=H.toLowerCase();de<H.length&&(ne=S($,H,0,de,te))===null;)de=y(H,de+1);return ne}e.matchesWords=C;function S($,H,te,ne,de){if(te===$.length)return[];if(ne===H.length)return null;if(d($.charCodeAt(te),H.charCodeAt(ne))){let he=null,pe=ne+1;if(he=S($,H,te+1,ne+1,de),!de)for(;!he&&(pe=y(H,pe))<H.length;)he=S($,H,te+1,pe,de),pe++;return he===null?null:c({start:ne,end:ne+1},he)}else return null}function y($,H){for(let te=H;te<$.length;te++)if(o($.charCodeAt(te))||te>0&&o($.charCodeAt(te-1)))return te;return $.length}const w=k(e.matchesPrefix,p,L),T=k(e.matchesPrefix,p,_),N=new E.LRUCache(1e4);function R($,H,te=!1){if(typeof $!="string"||typeof H!="string")return null;let ne=N.get($);ne||(ne=new RegExp(m.convertSimple2RegExpPattern($),"i"),N.set($,ne));const de=ne.exec(H);return de?[{start:de.index,end:de.index+de[0].length}]:te?T($,H):w($,H)}e.matchesFuzzy=R;function B($,H,te,ne,de,he){const pe=Math.min(13,$.length);for(;te<pe;te++){const ve=le($,H,te,ne,de,he,{firstMatchCanBeWeak:!1,boostFullMatch:!0});if(ve)return ve}return[0,he]}e.anyScore=B;function O($){if(typeof $=="undefined")return[];const H=[],te=$[1];for(let ne=$.length-1;ne>1;ne--){const de=$[ne]+te,he=H[H.length-1];he&&he.end===de?he.end=de+1:H.push({start:de,end:de+1})}return H}e.createMatches=O;const D=128;function A(){const $=[],H=[];for(let te=0;te<=D;te++)H[te]=0;for(let te=0;te<=D;te++)$.push(H.slice(0));return $}function P($){const H=[];for(let te=0;te<=$;te++)H[te]=0;return H}const F=P(2*D),W=P(2*D),M=A(),z=A(),ee=A(),ie=!1;function Y($,H,te,ne,de){function he(ve,ue,Ce=" "){for(;ve.length<ue;)ve=Ce+ve;return ve}let pe=` |   |${ne.split("").map(ve=>he(ve,3)).join("|")}
`;for(let ve=0;ve<=te;ve++)ve===0?pe+=" |":pe+=`${H[ve-1]}|`,pe+=$[ve].slice(0,de+1).map(ue=>he(ue.toString(),3)).join("|")+`
`;return pe}function X($,H,te,ne){$=$.substr(H),te=te.substr(ne),console.log(Y(z,$,$.length,te,te.length)),console.log(Y(ee,$,$.length,te,te.length)),console.log(Y(M,$,$.length,te,te.length))}function J($,H){if(H<0||H>=$.length)return!1;const te=$.codePointAt(H);switch(te){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!m.isEmojiImprecise(te)}}function oe($,H){if(H<0||H>=$.length)return!1;switch($.charCodeAt(H)){case 32:case 9:return!0;default:return!1}}function G($,H,te){return H[$]!==te[$]}function x($,H,te,ne,de,he,pe=!1){for(;H<te&&de<he;)$[H]===ne[de]&&(pe&&(F[H]=de),H+=1),de+=1;return H===te}e.isPatternInWord=x;var V;(function($){$.Default=[-100,0];function H(te){return!te||te.length===2&&te[0]===-100&&te[1]===0}$.isDefault=H})(V=e.FuzzyScore||(e.FuzzyScore={}));class K{constructor(H,te){this.firstMatchCanBeWeak=H,this.boostFullMatch=te}}e.FuzzyScoreOptions=K,K.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function le($,H,te,ne,de,he,pe=K.default){const ve=$.length>D?D:$.length,ue=ne.length>D?D:ne.length;if(te>=ve||he>=ue||ve-te>ue-he||!x(H,te,ve,de,he,ue,!0))return;ae(ve,ue,te,he,H,de);let Ce=1,me=1,be=te,ce=he;const ge=[!1];for(Ce=1,be=te;be<ve;Ce++,be++){const Te=F[be],Oe=W[be],Be=be+1<ve?W[be+1]:ue;for(me=Te-he+1,ce=Te;ce<Be;me++,ce++){let xe=Number.MIN_SAFE_INTEGER,Ke=!1;ce<=Oe&&(xe=Q($,H,be,te,ne,de,ce,ue,he,M[Ce-1][me-1]===0,ge));let Ze=0;xe!==Number.MAX_SAFE_INTEGER&&(Ke=!0,Ze=xe+z[Ce-1][me-1]);const we=ce>Te,Se=we?z[Ce][me-1]+(M[Ce][me-1]>0?-5:0):0,De=ce>Te+1&&M[Ce][me-1]>0,Pe=De?z[Ce][me-2]+(M[Ce][me-2]>0?-5:0):0;if(De&&(!we||Pe>=Se)&&(!Ke||Pe>=Ze))z[Ce][me]=Pe,ee[Ce][me]=3,M[Ce][me]=0;else if(we&&(!Ke||Se>=Ze))z[Ce][me]=Se,ee[Ce][me]=2,M[Ce][me]=0;else if(Ke)z[Ce][me]=Ze,ee[Ce][me]=1,M[Ce][me]=M[Ce-1][me-1]+1;else throw new Error("not possible")}}if(ie&&X($,te,ne,he),!ge[0]&&!pe.firstMatchCanBeWeak)return;Ce--,me--;const _e=[z[Ce][me],he];let ye=0,Me=0;for(;Ce>=1;){let Te=me;do{const Oe=ee[Ce][Te];if(Oe===3)Te=Te-2;else if(Oe===2)Te=Te-1;else break}while(Te>=1);ye>1&&H[te+Ce-1]===de[he+me-1]&&!G(Te+he-1,ne,de)&&ye+1>M[Ce][Te]&&(Te=me),Te===me?ye++:ye=1,Me||(Me=Te),Ce--,me=Te-1,_e.push(me)}ue===ve&&pe.boostFullMatch&&(_e[0]+=2);const ke=Me-ve;return _e[0]-=ke,_e}e.fuzzyScore=le;function ae($,H,te,ne,de,he){let pe=$-1,ve=H-1;for(;pe>=te&&ve>=ne;)de[pe]===he[ve]&&(W[pe]=ve,pe--),ve--}function Q($,H,te,ne,de,he,pe,ve,ue,Ce,me){if(H[te]!==he[pe])return Number.MIN_SAFE_INTEGER;let be=1,ce=!1;return pe===te-ne?be=$[te]===de[pe]?7:5:G(pe,de,he)&&(pe===0||!G(pe-1,de,he))?(be=$[te]===de[pe]?7:5,ce=!0):J(he,pe)&&(pe===0||!J(he,pe-1))?be=5:(J(he,pe-1)||oe(he,pe-1))&&(be=5,ce=!0),be>1&&te===ne&&(me[0]=!0),ce||(ce=G(pe,de,he)||J(he,pe-1)||oe(he,pe-1)),te===ne?pe>ue&&(be-=ce?3:5):Ce?be+=ce?2:0:be+=ce?0:1,pe+1===ve&&(be-=ce?3:5),be}function q($,H,te,ne,de,he,pe){return Z($,H,te,ne,de,he,!0,pe)}e.fuzzyScoreGracefulAggressive=q;function Z($,H,te,ne,de,he,pe,ve){let ue=le($,H,te,ne,de,he,ve);if(ue&&!pe)return ue;if($.length>=3){const Ce=Math.min(7,$.length-1);for(let me=te+1;me<Ce;me++){const be=j($,me);if(be){const ce=le(be,be.toLowerCase(),te,ne,de,he,ve);ce&&(ce[0]-=3,(!ue||ce[0]>ue[0])&&(ue=ce))}}}return ue}function j($,H){if(H+1>=$.length)return;const te=$[H],ne=$[H+1];if(te!==ne)return $.slice(0,H)+ne+te+$.slice(H+2)}}),define(re[329],se([1,0,64,85,17,8]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pieceToQuery=e.prepareQuery=e.scoreFuzzy2=void 0;const L=[void 0,[]];function _(s,a,l=0,f=0){const g=a;return g.values&&g.values.length>1?v(s,g.values,l,f):u(s,a,l,f)}e.scoreFuzzy2=_;function v(s,a,l,f){let g=0;const b=[];for(const p of a){const[C,S]=u(s,p,l,f);if(typeof C!="number")return L;g+=C,b.push(...S)}return[g,i(b)]}function u(s,a,l,f){const g=(0,E.fuzzyScore)(a.original,a.originalLowercase,l,s,s.toLowerCase(),f);return g?[g[0],(0,E.createMatches)(g)]:L}const h=Object.freeze({score:0});function i(s){const a=s.sort((g,b)=>g.start-b.start),l=[];let f;for(const g of a)!f||!n(f,g)?(f=g,l.push(g)):(f.start=Math.min(f.start,g.start),f.end=Math.max(f.end,g.end));return l}function n(s,a){return!(s.end<a.start||a.end<s.start)}function t(s){return s.startsWith('"')&&s.endsWith('"')}const o=" ";function d(s){typeof s!="string"&&(s="");const a=s.toLowerCase(),{pathNormalized:l,normalized:f,normalizedLowercase:g}=r(s),b=l.indexOf(m.sep)>=0,p=t(s);let C;const S=s.split(o);if(S.length>1)for(const y of S){const w=t(y),{pathNormalized:T,normalized:N,normalizedLowercase:R}=r(y);N&&(C||(C=[]),C.push({original:y,originalLowercase:y.toLowerCase(),pathNormalized:T,normalized:N,normalizedLowercase:R,expectContiguousMatch:w}))}return{original:s,originalLowercase:a,pathNormalized:l,normalized:f,normalizedLowercase:g,values:C,containsPathSeparator:b,expectContiguousMatch:p}}e.prepareQuery=d;function r(s){let a;k.isWindows?a=s.replace(/\//g,m.sep):a=s.replace(/\\/g,m.sep);const l=(0,I.stripWildcards)(a).replace(/\s|"/g,"");return{pathNormalized:a,normalized:l,normalizedLowercase:l.toLowerCase()}}function c(s){return Array.isArray(s)?d(s.map(a=>a.original).join(o)):d(s.original)}e.pieceToQuery=c}),define(re[221],se([1,0,10,171,51,85,17,8]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isRelativePattern=e.parse=e.match=e.splitGlobAware=e.GLOB_SPLIT=e.GLOBSTAR=void 0,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const v="[/\\\\]",u="[^/\\\\]",h=/\//g;function i(F,W){switch(F){case 0:return"";case 1:return`${u}*?`;default:return`(?:${v}|${u}+${v}${W?`|${v}${u}+`:""})*?`}}function n(F,W){if(!F)return[];const M=[];let z=!1,ee=!1,ie="";for(const Y of F){switch(Y){case W:if(!z&&!ee){M.push(ie),ie="";continue}break;case"{":z=!0;break;case"}":z=!1;break;case"[":ee=!0;break;case"]":ee=!1;break}ie+=Y}return ie&&M.push(ie),M}e.splitGlobAware=n;function t(F){if(!F)return"";let W="";const M=n(F,e.GLOB_SPLIT);if(M.every(z=>z===e.GLOBSTAR))W=".*";else{let z=!1;M.forEach((ee,ie)=>{if(ee===e.GLOBSTAR){if(z)return;W+=i(2,ie===M.length-1)}else{let Y=!1,X="",J=!1,oe="";for(const G of ee){if(G!=="}"&&Y){X+=G;continue}if(J&&(G!=="]"||!oe)){let x;G==="-"?x=G:(G==="^"||G==="!")&&!oe?x="^":G===e.GLOB_SPLIT?x="":x=(0,_.escapeRegExpCharacters)(G),oe+=x;continue}switch(G){case"{":Y=!0;continue;case"[":J=!0;continue;case"}":{W+=`(?:${n(X,",").map(K=>t(K)).join("|")})`,Y=!1,X="";break}case"]":{W+="["+oe+"]",J=!1,oe="";break}case"?":W+=u;continue;case"*":W+=i(1);continue;default:W+=(0,_.escapeRegExpCharacters)(G)}}ie<M.length-1&&(M[ie+1]!==e.GLOBSTAR||ie+2<M.length)&&(W+=v)}z=ee===e.GLOBSTAR})}return W}const o=/^\*\*\/\*\.[\w\.-]+$/,d=/^\*\*\/([\w\.-]+)\/?$/,r=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,c=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,s=/^\*\*((\/[\w\.-]+)+)\/?$/,a=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,l=new k.LRUCache(1e4),f=function(){return!1},g=function(){return null};function b(F,W){if(!F)return g;let M;typeof F!="string"?M=F.pattern:M=F,M=M.trim();const z=`${M}_${!!W.trimForExclusions}`;let ee=l.get(z);if(ee)return p(ee,F);let ie;return o.test(M)?ee=S(M.substr(4),M):(ie=d.exec(C(M,W)))?ee=y(ie[1],M):(W.trimForExclusions?c:r).test(M)?ee=w(M,W):(ie=s.exec(C(M,W)))?ee=T(ie[1].substr(1),M,!0):(ie=a.exec(C(M,W)))?ee=T(ie[1],M,!1):ee=N(M),l.set(z,ee),p(ee,F)}function p(F,W){if(typeof W=="string")return F;const M=function(z,ee){return(0,m.isEqualOrParent)(z,W.base,!L.isLinux)?F(z.substr(W.base.length+1),ee):null};return M.allBasenames=F.allBasenames,M.allPaths=F.allPaths,M.basenames=F.basenames,M.patterns=F.patterns,M}function C(F,W){return W.trimForExclusions&&F.endsWith("/**")?F.substr(0,F.length-2):F}function S(F,W){return function(M,z){return typeof M=="string"&&M.endsWith(F)?W:null}}function y(F,W){const M=`/${F}`,z=`\\${F}`,ee=function(Y,X){return typeof Y!="string"?null:X?X===F?W:null:Y===F||Y.endsWith(M)||Y.endsWith(z)?W:null},ie=[F];return ee.basenames=ie,ee.patterns=[W],ee.allBasenames=ie,ee}function w(F,W){const M=P(F.slice(1,-1).split(",").map(X=>b(X,W)).filter(X=>X!==g),F),z=M.length;if(!z)return g;if(z===1)return M[0];const ee=function(X,J){for(let oe=0,G=M.length;oe<G;oe++)if(M[oe](X,J))return F;return null},ie=M.find(X=>!!X.allBasenames);ie&&(ee.allBasenames=ie.allBasenames);const Y=M.reduce((X,J)=>J.allPaths?X.concat(J.allPaths):X,[]);return Y.length&&(ee.allPaths=Y),ee}function T(F,W,M){const z=I.sep===I.posix.sep,ee=z?F:F.replace(h,I.sep),ie=I.sep+ee,Y=I.posix.sep+F;let X;return M?X=function(J,oe){return typeof J=="string"&&(J===ee||J.endsWith(ie)||!z&&(J===F||J.endsWith(Y)))?W:null}:X=function(J,oe){return typeof J=="string"&&(J===ee||!z&&J===F)?W:null},X.allPaths=[(M?"*/":"./")+F],X}function N(F){try{const W=new RegExp(`^${t(F)}$`);return function(M){return W.lastIndex=0,typeof M=="string"&&W.test(M)?F:null}}catch{return g}}function R(F,W,M){return!F||typeof W!="string"?!1:B(F)(W,void 0,M)}e.match=R;function B(F,W={}){if(!F)return f;if(typeof F=="string"||O(F)){const M=b(F,W);if(M===g)return f;const z=function(ee,ie){return!!M(ee,ie)};return M.allBasenames&&(z.allBasenames=M.allBasenames),M.allPaths&&(z.allPaths=M.allPaths),z}return D(F,W)}e.parse=B;function O(F){const W=F;return W?typeof W.base=="string"&&typeof W.pattern=="string":!1}e.isRelativePattern=O;function D(F,W){const M=P(Object.getOwnPropertyNames(F).map(X=>A(X,F[X],W)).filter(X=>X!==g)),z=M.length;if(!z)return g;if(!M.some(X=>!!X.requiresSiblings)){if(z===1)return M[0];const X=function(G,x){let V;for(let K=0,le=M.length;K<le;K++){const ae=M[K](G,x);if(typeof ae=="string")return ae;(0,E.isThenable)(ae)&&(V||(V=[]),V.push(ae))}return V?(()=>Le(this,void 0,void 0,function*(){for(const K of V){const le=yield K;if(typeof le=="string")return le}return null}))():null},J=M.find(G=>!!G.allBasenames);J&&(X.allBasenames=J.allBasenames);const oe=M.reduce((G,x)=>x.allPaths?G.concat(x.allPaths):G,[]);return oe.length&&(X.allPaths=oe),X}const ee=function(X,J,oe){let G,x;for(let V=0,K=M.length;V<K;V++){const le=M[V];le.requiresSiblings&&oe&&(J||(J=(0,I.basename)(X)),G||(G=J.substr(0,J.length-(0,I.extname)(X).length)));const ae=le(X,J,G,oe);if(typeof ae=="string")return ae;(0,E.isThenable)(ae)&&(x||(x=[]),x.push(ae))}return x?(()=>Le(this,void 0,void 0,function*(){for(const V of x){const K=yield V;if(typeof K=="string")return K}return null}))():null},ie=M.find(X=>!!X.allBasenames);ie&&(ee.allBasenames=ie.allBasenames);const Y=M.reduce((X,J)=>J.allPaths?X.concat(J.allPaths):X,[]);return Y.length&&(ee.allPaths=Y),ee}function A(F,W,M){if(W===!1)return g;const z=b(F,M);if(z===g)return g;if(typeof W=="boolean")return z;if(W){const ee=W.when;if(typeof ee=="string"){const ie=(Y,X,J,oe)=>{if(!oe||!z(Y,X))return null;const G=ee.replace("$(basename)",J),x=oe(G);return(0,E.isThenable)(x)?x.then(V=>V?F:null):x?F:null};return ie.requiresSiblings=!0,ie}}return z}function P(F,W){const M=F.filter(X=>!!X.basenames);if(M.length<2)return F;const z=M.reduce((X,J)=>{const oe=J.basenames;return oe?X.concat(oe):X},[]);let ee;if(W){ee=[];for(let X=0,J=z.length;X<J;X++)ee.push(W)}else ee=M.reduce((X,J)=>{const oe=J.patterns;return oe?X.concat(oe):X},[]);const ie=function(X,J){if(typeof X!="string")return null;if(!J){let G;for(G=X.length;G>0;G--){const x=X.charCodeAt(G-1);if(x===47||x===92)break}J=X.substr(G)}const oe=z.indexOf(J);return oe!==-1?ee[oe]:null};ie.basenames=z,ie.patterns=ee,ie.allBasenames=z;const Y=F.filter(X=>!X.basenames);return Y.push(ie),Y}}),define(re[101],se([1,0,28,64,8]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=e.iconStartMarker=void 0,e.iconStartMarker="$(";const I=new RegExp(`\\$\\(${E.CSSIcon.iconNameExpression}(?:${E.CSSIcon.iconModifierExpression})?\\)`,"g"),L=new RegExp(E.CSSIcon.iconNameCharacter),_=new RegExp(`(\\\\)?${I.source}`,"g");function v(r){return r.replace(_,(c,s)=>s?c:`\\${c}`)}e.escapeIcons=v;const u=new RegExp(`\\\\${I.source}`,"g");function h(r){return r.replace(u,c=>`\\${c}`)}e.markdownEscapeEscapedIcons=h;const i=new RegExp(`(\\s)?(\\\\)?${I.source}(\\s)?`,"g");function n(r){return r.indexOf(e.iconStartMarker)===-1?r:r.replace(i,(c,s,a,l)=>a?c:s||l||"")}e.stripIcons=n;function t(r){const c=r.indexOf(e.iconStartMarker);return c===-1?{text:r}:o(r,c)}e.parseLabelWithIcons=t;function o(r,c){const s=[];let a="";function l(w){if(w){a+=w;for(const T of w)s.push(b)}}let f=-1,g="",b=0,p,C,S=c;const y=r.length;for(l(r.substr(0,c));S<y;)p=r[S],C=r[S+1],p===e.iconStartMarker[0]&&C===e.iconStartMarker[1]?(f=S,l(g),g=e.iconStartMarker,S++):p===")"&&f!==-1?(b+=S-f+1,f=-1,g=""):f!==-1?L.test(p)?g+=p:(l(g),f=-1,g=""):l(p),S++;return l(g),{text:a,iconOffsets:s}}function d(r,c,s=!1){const{text:a,iconOffsets:l}=c;if(!l||l.length===0)return(0,m.matchesFuzzy)(r,a,s);const f=(0,k.ltrim)(a," "),g=a.length-f.length,b=(0,m.matchesFuzzy)(r,f,s);if(b)for(const p of b){const C=l[p.start+g]+g;p.start+=C,p.end+=C}return b}e.matchesFuzzyIconAware=d}),define(re[65],se([1,0,13,101,8]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeMarkdownSyntaxTokens=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=void 0;class I{constructor(n="",t=!1){var o,d,r;if(this.value=n,typeof this.value!="string")throw(0,E.illegalArgument)("value");typeof t=="boolean"?(this.isTrusted=t,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(o=t.isTrusted)!==null&&o!==void 0?o:void 0,this.supportThemeIcons=(d=t.supportThemeIcons)!==null&&d!==void 0?d:!1,this.supportHtml=(r=t.supportHtml)!==null&&r!==void 0?r:!1)}appendText(n,t=0){return this.value+=v(this.supportThemeIcons?(0,m.escapeIcons)(n):n).replace(/([ \t]+)/g,(o,d)=>"&nbsp;".repeat(d.length)).replace(/\>/gm,"\\>").replace(/\n/g,t===1?`\\
`:`

`),this}appendMarkdown(n){return this.value+=n,this}appendCodeblock(n,t){return this.value+="\n```",this.value+=n,this.value+=`
`,this.value+=t,this.value+="\n```\n",this}appendLink(n,t,o){return this.value+="[",this.value+=this._escape(t,"]"),this.value+="](",this.value+=this._escape(String(n),")"),o&&(this.value+=` "${this._escape(this._escape(o,'"'),")")}"`),this.value+=")",this}_escape(n,t){const o=new RegExp((0,k.escapeRegExpCharacters)(t),"g");return n.replace(o,(d,r)=>n.charAt(r-1)!=="\\"?`\\${d}`:d)}}e.MarkdownString=I;function L(i){return _(i)?!i.value:Array.isArray(i)?i.every(L):!0}e.isEmptyMarkdownString=L;function _(i){return i instanceof I?!0:i&&typeof i=="object"?typeof i.value=="string"&&(typeof i.isTrusted=="boolean"||i.isTrusted===void 0)&&(typeof i.supportThemeIcons=="boolean"||i.supportThemeIcons===void 0):!1}e.isMarkdownString=_;function v(i){return i.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=v;function u(i){return i&&i.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}e.removeMarkdownEscapes=u;function h(i){const n=[],t=i.split("|").map(d=>d.trim());i=t[0];const o=t[1];if(o){const d=/height=(\d+)/.exec(o),r=/width=(\d+)/.exec(o),c=d?d[1]:"",s=r?r[1]:"",a=isFinite(parseInt(s)),l=isFinite(parseInt(c));a&&n.push(`width="${s}"`),l&&n.push(`height="${c}"`)}return{href:i,dimensions:n}}e.parseHrefAndDimensions=h}),define(re[330],se([1,0,8]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=void 0;function m(L,_){if(L&&L[0]!==""){const v=k(L,_,"-"),u=k(L,_,"_");return v&&!u?I(L,_,"-"):!v&&u?I(L,_,"_"):L[0].toUpperCase()===L[0]?_.toUpperCase():L[0].toLowerCase()===L[0]?_.toLowerCase():E.containsUppercaseCharacter(L[0][0])&&_.length>0?_[0].toUpperCase()+_.substr(1):L[0][0].toUpperCase()!==L[0][0]&&_.length>0?_[0].toLowerCase()+_.substr(1):_}else return _}e.buildReplaceStringWithCasePreserved=m;function k(L,_,v){return L[0].indexOf(v)!==-1&&_.indexOf(v)!==-1&&L[0].split(v).length===_.split(v).length}function I(L,_,v){const u=_.split(v),h=L[0].split(v);let i="";return u.forEach((n,t)=>{i+=m([h[t]],n)+v}),i.slice(0,-1)}}),define(re[78],se([1,0,8]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m;(function(k){k[k.Ignore=0]="Ignore",k[k.Info=1]="Info",k[k.Warning=2]="Warning",k[k.Error=3]="Error"})(m||(m={})),function(k){const I="error",L="warning",_="warn",v="info",u="ignore";function h(n){return n?E.equalsIgnoreCase(I,n)?k.Error:E.equalsIgnoreCase(L,n)||E.equalsIgnoreCase(_,n)?k.Warning:E.equalsIgnoreCase(v,n)?k.Info:k.Ignore:k.Ignore}k.fromValue=h;function i(n){switch(n){case k.Error:return I;case k.Warning:return L;case k.Info:return v;default:return u}}k.toString=i}(m||(m={})),e.default=m}),define(re[19],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertNever=e.withNullAsUndefined=e.createProxyObject=e.getAllMethodNames=e.getAllPropertyNames=e.validateConstraint=e.validateConstraints=e.isFunction=e.assertIsDefined=e.assertType=e.isUndefinedOrNull=e.isDefined=e.isUndefined=e.isBoolean=e.isIterable=e.isNumber=e.isTypedArray=e.isObject=e.isString=e.isArray=void 0;function E(g){return Array.isArray(g)}e.isArray=E;function m(g){return typeof g=="string"}e.isString=m;function k(g){return typeof g=="object"&&g!==null&&!Array.isArray(g)&&!(g instanceof RegExp)&&!(g instanceof Date)}e.isObject=k;function I(g){return typeof g=="object"&&(g instanceof Uint8Array||g instanceof Uint16Array||g instanceof Uint32Array||g instanceof Float32Array||g instanceof Float64Array||g instanceof Int8Array||g instanceof Int16Array||g instanceof Int32Array||g instanceof BigInt64Array||g instanceof BigUint64Array||g instanceof Uint8ClampedArray)}e.isTypedArray=I;function L(g){return typeof g=="number"&&!isNaN(g)}e.isNumber=L;function _(g){return!!g&&typeof g[Symbol.iterator]=="function"}e.isIterable=_;function v(g){return g===!0||g===!1}e.isBoolean=v;function u(g){return typeof g=="undefined"}e.isUndefined=u;function h(g){return!i(g)}e.isDefined=h;function i(g){return u(g)||g===null}e.isUndefinedOrNull=i;function n(g,b){if(!g)throw new Error(b?`Unexpected type, expected '${b}'`:"Unexpected type")}e.assertType=n;function t(g){if(i(g))throw new Error("Assertion Failed: argument is undefined or null");return g}e.assertIsDefined=t;function o(g){return typeof g=="function"}e.isFunction=o;function d(g,b){const p=Math.min(g.length,b.length);for(let C=0;C<p;C++)r(g[C],b[C])}e.validateConstraints=d;function r(g,b){if(m(b)){if(typeof g!==b)throw new Error(`argument does not match constraint: typeof ${b}`)}else if(o(b)){try{if(g instanceof b)return}catch{}if(!i(g)&&g.constructor===b||b.length===1&&b.call(void 0,g)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.validateConstraint=r;function c(g){let b=[],p=Object.getPrototypeOf(g);for(;Object.prototype!==p;)b=b.concat(Object.getOwnPropertyNames(p)),p=Object.getPrototypeOf(p);return b}e.getAllPropertyNames=c;function s(g){const b=[];for(const p of c(g))typeof g[p]=="function"&&b.push(p);return b}e.getAllMethodNames=s;function a(g,b){const p=S=>function(){const y=Array.prototype.slice.call(arguments,0);return b(S,y)};let C={};for(const S of g)C[S]=p(S);return C}e.createProxyObject=a;function l(g){return g===null?void 0:g}e.withNullAsUndefined=l;function f(g,b="Unreachable"){throw new Error(b)}e.assertNever=f}),define(re[41],se([1,0,19]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOrDefault=e.equals=e.mixin=e.cloneAndChange=e.deepFreeze=e.deepClone=void 0;function m(i){if(!i||typeof i!="object"||i instanceof RegExp)return i;const n=Array.isArray(i)?[]:{};return Object.keys(i).forEach(t=>{i[t]&&typeof i[t]=="object"?n[t]=m(i[t]):n[t]=i[t]}),n}e.deepClone=m;function k(i){if(!i||typeof i!="object")return i;const n=[i];for(;n.length>0;){const t=n.shift();Object.freeze(t);for(const o in t)if(I.call(t,o)){const d=t[o];typeof d=="object"&&!Object.isFrozen(d)&&!(0,E.isTypedArray)(d)&&n.push(d)}}return i}e.deepFreeze=k;const I=Object.prototype.hasOwnProperty;function L(i,n){return _(i,n,new Set)}e.cloneAndChange=L;function _(i,n,t){if((0,E.isUndefinedOrNull)(i))return i;const o=n(i);if(typeof o!="undefined")return o;if((0,E.isArray)(i)){const d=[];for(const r of i)d.push(_(r,n,t));return d}if((0,E.isObject)(i)){if(t.has(i))throw new Error("Cannot clone recursive data-structure");t.add(i);const d={};for(let r in i)I.call(i,r)&&(d[r]=_(i[r],n,t));return t.delete(i),d}return i}function v(i,n,t=!0){return(0,E.isObject)(i)?((0,E.isObject)(n)&&Object.keys(n).forEach(o=>{o in i?t&&((0,E.isObject)(i[o])&&(0,E.isObject)(n[o])?v(i[o],n[o],t):i[o]=n[o]):i[o]=n[o]}),i):n}e.mixin=v;function u(i,n){if(i===n)return!0;if(i==null||n===null||n===void 0||typeof i!=typeof n||typeof i!="object"||Array.isArray(i)!==Array.isArray(n))return!1;let t,o;if(Array.isArray(i)){if(i.length!==n.length)return!1;for(t=0;t<i.length;t++)if(!u(i[t],n[t]))return!1}else{const d=[];for(o in i)d.push(o);d.sort();const r=[];for(o in n)r.push(o);if(r.sort(),!u(d,r))return!1;for(t=0;t<d.length;t++)if(!u(i[d[t]],n[d[t]]))return!1}return!0}e.equals=u;function h(i,n,t){const o=n(i);return typeof o=="undefined"?t:o}e.getOrDefault=h}),define(re[142],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32=e.toUint8=void 0;function E(k){return k<0?0:k>255?255:k|0}e.toUint8=E;function m(k){return k<0?0:k>4294967295?4294967295:k|0}e.toUint32=m}),define(re[25],se([1,0,85,17]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uriToFsPath=e.URI=void 0;const k=/^\w[\w\d+.-]*$/,I=/^\//,L=/^\/\//;function _(p,C){if(!p.scheme&&C)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${p.authority}", path: "${p.path}", query: "${p.query}", fragment: "${p.fragment}"}`);if(p.scheme&&!k.test(p.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(p.path){if(p.authority){if(!I.test(p.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(L.test(p.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function v(p,C){return!p&&!C?"file":p}function u(p,C){switch(p){case"https":case"http":case"file":C?C[0]!==i&&(C=i+C):C=i;break}return C}const h="",i="/",n=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class t{constructor(C,S,y,w,T,N=!1){typeof C=="object"?(this.scheme=C.scheme||h,this.authority=C.authority||h,this.path=C.path||h,this.query=C.query||h,this.fragment=C.fragment||h):(this.scheme=v(C,N),this.authority=S||h,this.path=u(this.scheme,y||h),this.query=w||h,this.fragment=T||h,_(this,N))}static isUri(C){return C instanceof t?!0:C?typeof C.authority=="string"&&typeof C.fragment=="string"&&typeof C.path=="string"&&typeof C.query=="string"&&typeof C.scheme=="string"&&typeof C.fsPath=="string"&&typeof C.with=="function"&&typeof C.toString=="function":!1}get fsPath(){return a(this,!1)}with(C){if(!C)return this;let{scheme:S,authority:y,path:w,query:T,fragment:N}=C;return S===void 0?S=this.scheme:S===null&&(S=h),y===void 0?y=this.authority:y===null&&(y=h),w===void 0?w=this.path:w===null&&(w=h),T===void 0?T=this.query:T===null&&(T=h),N===void 0?N=this.fragment:N===null&&(N=h),S===this.scheme&&y===this.authority&&w===this.path&&T===this.query&&N===this.fragment?this:new d(S,y,w,T,N)}static parse(C,S=!1){const y=n.exec(C);return y?new d(y[2]||h,b(y[4]||h),b(y[5]||h),b(y[7]||h),b(y[9]||h),S):new d(h,h,h,h,h)}static file(C){let S=h;if(m.isWindows&&(C=C.replace(/\\/g,i)),C[0]===i&&C[1]===i){const y=C.indexOf(i,2);y===-1?(S=C.substring(2),C=i):(S=C.substring(2,y),C=C.substring(y)||i)}return new d("file",S,C,h,h)}static from(C){const S=new d(C.scheme,C.authority,C.path,C.query,C.fragment);return _(S,!0),S}static joinPath(C,...S){if(!C.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let y;return m.isWindows&&C.scheme==="file"?y=t.file(E.win32.join(a(C,!0),...S)).path:y=E.posix.join(C.path,...S),C.with({path:y})}toString(C=!1){return l(this,C)}toJSON(){return this}static revive(C){if(C){if(C instanceof t)return C;{const S=new d(C);return S._formatted=C.external,S._fsPath=C._sep===o?C.fsPath:null,S}}else return C}}e.URI=t;const o=m.isWindows?1:void 0;class d extends t{constructor(){super(...arguments);this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=a(this,!1)),this._fsPath}toString(C=!1){return C?l(this,!0):(this._formatted||(this._formatted=l(this,!1)),this._formatted)}toJSON(){const C={$mid:1};return this._fsPath&&(C.fsPath=this._fsPath,C._sep=o),this._formatted&&(C.external=this._formatted),this.path&&(C.path=this.path),this.scheme&&(C.scheme=this.scheme),this.authority&&(C.authority=this.authority),this.query&&(C.query=this.query),this.fragment&&(C.fragment=this.fragment),C}}const r={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function c(p,C){let S,y=-1;for(let w=0;w<p.length;w++){const T=p.charCodeAt(w);if(T>=97&&T<=122||T>=65&&T<=90||T>=48&&T<=57||T===45||T===46||T===95||T===126||C&&T===47)y!==-1&&(S+=encodeURIComponent(p.substring(y,w)),y=-1),S!==void 0&&(S+=p.charAt(w));else{S===void 0&&(S=p.substr(0,w));const N=r[T];N!==void 0?(y!==-1&&(S+=encodeURIComponent(p.substring(y,w)),y=-1),S+=N):y===-1&&(y=w)}}return y!==-1&&(S+=encodeURIComponent(p.substring(y))),S!==void 0?S:p}function s(p){let C;for(let S=0;S<p.length;S++){const y=p.charCodeAt(S);y===35||y===63?(C===void 0&&(C=p.substr(0,S)),C+=r[y]):C!==void 0&&(C+=p[S])}return C!==void 0?C:p}function a(p,C){let S;return p.authority&&p.path.length>1&&p.scheme==="file"?S=`//${p.authority}${p.path}`:p.path.charCodeAt(0)===47&&(p.path.charCodeAt(1)>=65&&p.path.charCodeAt(1)<=90||p.path.charCodeAt(1)>=97&&p.path.charCodeAt(1)<=122)&&p.path.charCodeAt(2)===58?C?S=p.path.substr(1):S=p.path[1].toLowerCase()+p.path.substr(2):S=p.path,m.isWindows&&(S=S.replace(/\//g,"\\")),S}e.uriToFsPath=a;function l(p,C){const S=C?s:c;let y="",{scheme:w,authority:T,path:N,query:R,fragment:B}=p;if(w&&(y+=w,y+=":"),(T||w==="file")&&(y+=i,y+=i),T){let O=T.indexOf("@");if(O!==-1){const D=T.substr(0,O);T=T.substr(O+1),O=D.indexOf(":"),O===-1?y+=S(D,!1):(y+=S(D.substr(0,O),!1),y+=":",y+=S(D.substr(O+1),!1)),y+="@"}T=T.toLowerCase(),O=T.indexOf(":"),O===-1?y+=S(T,!1):(y+=S(T.substr(0,O),!1),y+=T.substr(O))}if(N){if(N.length>=3&&N.charCodeAt(0)===47&&N.charCodeAt(2)===58){const O=N.charCodeAt(1);O>=65&&O<=90&&(N=`/${String.fromCharCode(O+32)}:${N.substr(3)}`)}else if(N.length>=2&&N.charCodeAt(1)===58){const O=N.charCodeAt(0);O>=65&&O<=90&&(N=`${String.fromCharCode(O+32)}:${N.substr(2)}`)}y+=S(N,!0)}return R&&(y+="?",y+=S(R,!1)),B&&(y+="#",y+=C?B:c(B,!1)),y}function f(p){try{return decodeURIComponent(p)}catch{return p.length>3?p.substr(0,3)+f(p.substr(3)):p}}const g=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function b(p){return p.match(g)?p.replace(g,C=>f(C)):p}}),define(re[222],se([1,0,116,25]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=void 0;function k(L){let _=JSON.parse(L);return _=I(_),_}e.parse=k;function I(L,_=0){if(!L||_>200)return L;if(typeof L=="object"){switch(L.$mid){case 1:return m.URI.revive(L);case 2:return new RegExp(L.source,L.flags);case 14:return new Date(L.source)}if(L instanceof E.VSBuffer||L instanceof Uint8Array)return L;if(Array.isArray(L))for(let v=0;v<L.length;++v)L[v]=I(L[v],_+1);else for(const v in L)Object.hasOwnProperty.call(L,v)&&(L[v]=I(L[v],_+1))}return L}e.revive=I}),define(re[45],se([1,0,17,25]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileAccess=e.RemoteAuthorities=e.connectionTokenQueryName=e.Schemas=void 0;var k;(function(_){_.inMemory="inmemory",_.vscode="vscode",_.internal="private",_.walkThrough="walkThrough",_.walkThroughSnippet="walkThroughSnippet",_.http="http",_.https="https",_.file="file",_.mailto="mailto",_.untitled="untitled",_.data="data",_.command="command",_.vscodeRemote="vscode-remote",_.vscodeRemoteResource="vscode-remote-resource",_.vscodeUserData="vscode-userdata",_.vscodeCustomEditor="vscode-custom-editor",_.vscodeNotebook="vscode-notebook",_.vscodeNotebookCell="vscode-notebook-cell",_.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",_.vscodeNotebookCellOutput="vscode-notebook-cell-output",_.vscodeInteractive="vscode-interactive",_.vscodeInteractiveInput="vscode-interactive-input",_.vscodeSettings="vscode-settings",_.vscodeWorkspaceTrust="vscode-workspace-trust",_.vscodeTerminal="vscode-terminal",_.webviewPanel="webview-panel",_.vscodeWebview="vscode-webview",_.extension="extension",_.vscodeFileResource="vscode-file",_.tmp="tmp",_.vsls="vsls"})(k=e.Schemas||(e.Schemas={})),e.connectionTokenQueryName="tkn";class I{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(v){this._preferredWebSchema=v}rewrite(v){if(this._delegate)return this._delegate(v);const u=v.authority;let h=this._hosts[u];h&&h.indexOf(":")!==-1&&(h=`[${h}]`);const i=this._ports[u],n=this._connectionTokens[u];let t=`path=${encodeURIComponent(v.path)}`;return typeof n=="string"&&(t+=`&${e.connectionTokenQueryName}=${encodeURIComponent(n)}`),m.URI.from({scheme:E.isWeb?this._preferredWebSchema:k.vscodeRemoteResource,authority:`${h}:${i}`,path:"/vscode-remote-resource",query:t})}}e.RemoteAuthorities=new I;class L{asBrowserUri(v,u){const h=this.toUri(v,u);return h.scheme===k.vscodeRemote?e.RemoteAuthorities.rewrite(h):h.scheme===k.file&&(E.isNative||E.isWebWorker&&E.globals.origin===`${k.vscodeFileResource}://${L.FALLBACK_AUTHORITY}`)?h.with({scheme:k.vscodeFileResource,authority:h.authority||L.FALLBACK_AUTHORITY,query:null,fragment:null}):h}toUri(v,u){return m.URI.isUri(v)?v:m.URI.parse(u.toUrl(v))}}L.FALLBACK_AUTHORITY="vscode-app",e.FileAccess=new L}),define(re[7],se([1,0,34,170,44,63,10,13,4,331,2,45,17]),function(U,e,E,m,k,I,L,_,v,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropObserver=e.ModifierKeyEmitter=e.hookDomPurifyHrefAndSrcSanitizer=e.asCSSPropertyValue=e.asCSSUrl=e.animate=e.windowOpenNoOpener=e.computeScreenAwareSize=e.getElementsByTagName=e.hide=e.show=e.$=e.Namespace=e.reset=e.prepend=e.append=e.trackFocus=e.restoreParentsScrollTop=e.saveParentsScrollTop=e.EventHelper=e.EventType=e.isHTMLElement=e.removeCSSRulesContainingSelector=e.createCSSRule=e.createStyleSheet=e.getActiveElement=e.getShadowRoot=e.isInShadowDOM=e.isShadowRoot=e.hasParentWithClass=e.findParentWithClass=e.isAncestor=e.getTotalHeight=e.getContentHeight=e.getContentWidth=e.getTotalWidth=e.StandardWindow=e.getDomNodePagePosition=e.size=e.getTopLeftOffset=e.Dimension=e.getClientArea=e.getComputedStyle=e.addDisposableThrottledListener=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.createEventEmitter=e.addDisposableNonBubblingPointerOutListener=e.addDisposableNonBubblingMouseOutListener=e.addDisposableGenericMouseUpListener=e.addDisposableGenericMouseDownListener=e.addStandardDisposableGenericMouseUpListener=e.addStandardDisposableGenericMouseDownListener=e.addStandardDisposableListener=e.addDisposableListener=e.isInDOM=e.clearNode=void 0;function t(we){for(;we.firstChild;)we.firstChild.remove()}e.clearNode=t;function o(we){var Se;return(Se=we==null?void 0:we.isConnected)!==null&&Se!==void 0?Se:!1}e.isInDOM=o;class d{constructor(Se,De,Pe,ze){this._node=Se,this._type=De,this._handler=Pe,this._options=ze||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function r(we,Se,De,Pe){return new d(we,Se,De,Pe)}e.addDisposableListener=r;function c(we){return function(Se){return we(new I.StandardMouseEvent(Se))}}function s(we){return function(Se){return we(new k.StandardKeyboardEvent(Se))}}let a=function(Se,De,Pe,ze){let je=Pe;return De==="click"||De==="mousedown"?je=c(Pe):(De==="keydown"||De==="keypress"||De==="keyup")&&(je=s(Pe)),r(Se,De,je,ze)};e.addStandardDisposableListener=a;let l=function(Se,De,Pe){let ze=c(De);return g(Se,ze,Pe)};e.addStandardDisposableGenericMouseDownListener=l;let f=function(Se,De,Pe){let ze=c(De);return b(Se,ze,Pe)};e.addStandardDisposableGenericMouseUpListener=f;function g(we,Se,De){return r(we,n.isIOS&&m.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,Se,De)}e.addDisposableGenericMouseDownListener=g;function b(we,Se,De){return r(we,n.isIOS&&m.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,Se,De)}e.addDisposableGenericMouseUpListener=b;function p(we,Se){return r(we,"mouseout",De=>{let Pe=De.relatedTarget;for(;Pe&&Pe!==we;)Pe=Pe.parentNode;Pe!==we&&Se(De)})}e.addDisposableNonBubblingMouseOutListener=p;function C(we,Se){return r(we,"pointerout",De=>{let Pe=De.relatedTarget;for(;Pe&&Pe!==we;)Pe=Pe.parentNode;Pe!==we&&Se(De)})}e.addDisposableNonBubblingPointerOutListener=C;function S(we,Se,De){let Pe=null;const ze=Fe=>He.fire(Fe),je=()=>{Pe||(Pe=new d(we,Se,ze,De))},Ye=()=>{Pe&&(Pe.dispose(),Pe=null)},He=new v.Emitter({onFirstListenerAdd:je,onLastListenerRemove:Ye});return He}e.createEventEmitter=S;let y=null;function w(we){if(!y){const Se=De=>setTimeout(()=>De(new Date().getTime()),0);y=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||Se}return y.call(self,we)}class T{constructor(Se,De=0){this._runner=Se,this.priority=De,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(Se){(0,_.onUnexpectedError)(Se)}}static sort(Se,De){return De.priority-Se.priority}}(function(){let we=[],Se=null,De=!1,Pe=!1,ze=()=>{for(De=!1,Se=we,we=[],Pe=!0;Se.length>0;)Se.sort(T.sort),Se.shift().execute();Pe=!1};e.scheduleAtNextAnimationFrame=(je,Ye=0)=>{let He=new T(je,Ye);return we.push(He),De||(De=!0,w(ze)),He},e.runAtThisOrScheduleAtNextAnimationFrame=(je,Ye)=>{if(Pe){let He=new T(je,Ye);return Se.push(He),He}else return(0,e.scheduleAtNextAnimationFrame)(je,Ye)}})();const N=8,R=function(we,Se){return Se};class B extends h.Disposable{constructor(Se,De,Pe,ze=R,je=N){super();let Ye=null,He=0,Fe=this._register(new L.TimeoutTimer),Ee=()=>{He=new Date().getTime(),Pe(Ye),Ye=null};this._register(r(Se,De,Ae=>{Ye=ze(Ye,Ae);let We=new Date().getTime()-He;We>=je?(Fe.cancel(),Ee()):Fe.setIfNotSet(Ee,je-We)}))}}function O(we,Se,De,Pe,ze){return new B(we,Se,De,Pe,ze)}e.addDisposableThrottledListener=O;function D(we){return document.defaultView.getComputedStyle(we,null)}e.getComputedStyle=D;function A(we){if(we!==document.body)return new F(we.clientWidth,we.clientHeight);if(n.isIOS&&window.visualViewport)return new F(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new F(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new F(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new F(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}e.getClientArea=A;class P{static convertToPixels(Se,De){return parseFloat(De)||0}static getDimension(Se,De,Pe){let ze=D(Se),je="0";return ze&&(ze.getPropertyValue?je=ze.getPropertyValue(De):je=ze.getAttribute(Pe)),P.convertToPixels(Se,je)}static getBorderLeftWidth(Se){return P.getDimension(Se,"border-left-width","borderLeftWidth")}static getBorderRightWidth(Se){return P.getDimension(Se,"border-right-width","borderRightWidth")}static getBorderTopWidth(Se){return P.getDimension(Se,"border-top-width","borderTopWidth")}static getBorderBottomWidth(Se){return P.getDimension(Se,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(Se){return P.getDimension(Se,"padding-left","paddingLeft")}static getPaddingRight(Se){return P.getDimension(Se,"padding-right","paddingRight")}static getPaddingTop(Se){return P.getDimension(Se,"padding-top","paddingTop")}static getPaddingBottom(Se){return P.getDimension(Se,"padding-bottom","paddingBottom")}static getMarginLeft(Se){return P.getDimension(Se,"margin-left","marginLeft")}static getMarginTop(Se){return P.getDimension(Se,"margin-top","marginTop")}static getMarginRight(Se){return P.getDimension(Se,"margin-right","marginRight")}static getMarginBottom(Se){return P.getDimension(Se,"margin-bottom","marginBottom")}}class F{constructor(Se,De){this.width=Se,this.height=De}with(Se=this.width,De=this.height){return Se!==this.width||De!==this.height?new F(Se,De):this}static is(Se){return typeof Se=="object"&&typeof Se.height=="number"&&typeof Se.width=="number"}static lift(Se){return Se instanceof F?Se:new F(Se.width,Se.height)}static equals(Se,De){return Se===De?!0:!Se||!De?!1:Se.width===De.width&&Se.height===De.height}}e.Dimension=F,F.None=new F(0,0);function W(we){let Se=we.offsetParent,De=we.offsetTop,Pe=we.offsetLeft;for(;(we=we.parentNode)!==null&&we!==document.body&&we!==document.documentElement;){De-=we.scrollTop;const ze=x(we)?null:D(we);ze&&(Pe-=ze.direction!=="rtl"?we.scrollLeft:-we.scrollLeft),we===Se&&(Pe+=P.getBorderLeftWidth(we),De+=P.getBorderTopWidth(we),De+=we.offsetTop,Pe+=we.offsetLeft,Se=we.offsetParent)}return{left:Pe,top:De}}e.getTopLeftOffset=W;function M(we,Se,De){typeof Se=="number"&&(we.style.width=`${Se}px`),typeof De=="number"&&(we.style.height=`${De}px`)}e.size=M;function z(we){let Se=we.getBoundingClientRect();return{left:Se.left+e.StandardWindow.scrollX,top:Se.top+e.StandardWindow.scrollY,width:Se.width,height:Se.height}}e.getDomNodePagePosition=z,e.StandardWindow=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function ee(we){let Se=P.getMarginLeft(we)+P.getMarginRight(we);return we.offsetWidth+Se}e.getTotalWidth=ee;function ie(we){let Se=P.getBorderLeftWidth(we)+P.getBorderRightWidth(we),De=P.getPaddingLeft(we)+P.getPaddingRight(we);return we.offsetWidth-Se-De}e.getContentWidth=ie;function Y(we){let Se=P.getBorderTopWidth(we)+P.getBorderBottomWidth(we),De=P.getPaddingTop(we)+P.getPaddingBottom(we);return we.offsetHeight-Se-De}e.getContentHeight=Y;function X(we){let Se=P.getMarginTop(we)+P.getMarginBottom(we);return we.offsetHeight+Se}e.getTotalHeight=X;function J(we,Se){for(;we;){if(we===Se)return!0;we=we.parentNode}return!1}e.isAncestor=J;function oe(we,Se,De){for(;we&&we.nodeType===we.ELEMENT_NODE;){if(we.classList.contains(Se))return we;if(De){if(typeof De=="string"){if(we.classList.contains(De))return null}else if(we===De)return null}we=we.parentNode}return null}e.findParentWithClass=oe;function G(we,Se,De){return!!oe(we,Se,De)}e.hasParentWithClass=G;function x(we){return we&&!!we.host&&!!we.mode}e.isShadowRoot=x;function V(we){return!!K(we)}e.isInShadowDOM=V;function K(we){for(;we.parentNode;){if(we===document.body)return null;we=we.parentNode}return x(we)?we:null}e.getShadowRoot=K;function le(){let we=document.activeElement;for(;we==null?void 0:we.shadowRoot;)we=we.shadowRoot.activeElement;return we}e.getActiveElement=le;function ae(we=document.getElementsByTagName("head")[0]){let Se=document.createElement("style");return Se.type="text/css",Se.media="screen",we.appendChild(Se),Se}e.createStyleSheet=ae;let Q=null;function q(){return Q||(Q=ae()),Q}function Z(we){var Se,De;return((Se=we==null?void 0:we.sheet)===null||Se===void 0?void 0:Se.rules)?we.sheet.rules:((De=we==null?void 0:we.sheet)===null||De===void 0?void 0:De.cssRules)?we.sheet.cssRules:[]}function j(we,Se,De=q()){!De||!Se||De.sheet.insertRule(we+"{"+Se+"}",0)}e.createCSSRule=j;function $(we,Se=q()){if(!Se)return;let De=Z(Se),Pe=[];for(let ze=0;ze<De.length;ze++)De[ze].selectorText.indexOf(we)!==-1&&Pe.push(ze);for(let ze=Pe.length-1;ze>=0;ze--)Se.sheet.deleteRule(Pe[ze])}e.removeCSSRulesContainingSelector=$;function H(we){return typeof HTMLElement=="object"?we instanceof HTMLElement:we&&typeof we=="object"&&we.nodeType===1&&typeof we.nodeName=="string"}e.isHTMLElement=H,e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:E.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:E.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:E.isWebKit?"webkitAnimationIteration":"animationiteration"},e.EventHelper={stop:function(we,Se){we.preventDefault?we.preventDefault():we.returnValue=!1,Se&&(we.stopPropagation?we.stopPropagation():we.cancelBubble=!0)}};function te(we){let Se=[];for(let De=0;we&&we.nodeType===we.ELEMENT_NODE;De++)Se[De]=we.scrollTop,we=we.parentNode;return Se}e.saveParentsScrollTop=te;function ne(we,Se){for(let De=0;we&&we.nodeType===we.ELEMENT_NODE;De++)we.scrollTop!==Se[De]&&(we.scrollTop=Se[De]),we=we.parentNode}e.restoreParentsScrollTop=ne;class de extends h.Disposable{constructor(Se){super();this._onDidFocus=this._register(new v.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new v.Emitter),this.onDidBlur=this._onDidBlur.event;let De=de.hasFocusWithin(Se),Pe=!1;const ze=()=>{Pe=!1,De||(De=!0,this._onDidFocus.fire())},je=()=>{De&&(Pe=!0,window.setTimeout(()=>{Pe&&(Pe=!1,De=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{de.hasFocusWithin(Se)!==De&&(De?je():ze())},this._register(r(Se,e.EventType.FOCUS,ze,!0)),this._register(r(Se,e.EventType.BLUR,je,!0)),this._register(r(Se,e.EventType.FOCUS_IN,()=>this._refreshStateHandler())),this._register(r(Se,e.EventType.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(Se){const De=K(Se),Pe=De?De.activeElement:document.activeElement;return J(Pe,Se)}}function he(we){return new de(we)}e.trackFocus=he;function pe(we,...Se){if(we.append(...Se),Se.length===1&&typeof Se[0]!="string")return Se[0]}e.append=pe;function ve(we,Se){return we.insertBefore(Se,we.firstChild),Se}e.prepend=ve;function ue(we,...Se){we.innerText="",pe(we,...Se)}e.reset=ue;const Ce=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var me;(function(we){we.HTML="http://www.w3.org/1999/xhtml",we.SVG="http://www.w3.org/2000/svg"})(me=e.Namespace||(e.Namespace={}));function be(we,Se,De,...Pe){let ze=Ce.exec(Se);if(!ze)throw new Error("Bad use of emmet");De=Object.assign({},De||{});let je=ze[1]||"div",Ye;return we!==me.HTML?Ye=document.createElementNS(we,je):Ye=document.createElement(je),ze[3]&&(Ye.id=ze[3]),ze[4]&&(Ye.className=ze[4].replace(/\./g," ").trim()),Object.keys(De).forEach(He=>{const Fe=De[He];typeof Fe!="undefined"&&(/^on\w+$/.test(He)?Ye[He]=Fe:He==="selected"?Fe&&Ye.setAttribute(He,"true"):Ye.setAttribute(He,Fe))}),Ye.append(...Pe),Ye}function ce(we,Se,...De){return be(me.HTML,we,Se,...De)}e.$=ce,ce.SVG=function(we,Se,...De){return be(me.SVG,we,Se,...De)};function ge(...we){for(let Se of we)Se.style.display="",Se.removeAttribute("aria-hidden")}e.show=ge;function _e(...we){for(let Se of we)Se.style.display="none",Se.setAttribute("aria-hidden","true")}e.hide=_e;function ye(we){return Array.prototype.slice.call(document.getElementsByTagName(we),0)}e.getElementsByTagName=ye;function Me(we){const Se=window.devicePixelRatio*we;return Math.max(1,Math.floor(Se))/window.devicePixelRatio}e.computeScreenAwareSize=Me;function ke(we){window.open(we,"_blank","noopener")}e.windowOpenNoOpener=ke;function Te(we){const Se=()=>{we(),De=(0,e.scheduleAtNextAnimationFrame)(Se)};let De=(0,e.scheduleAtNextAnimationFrame)(Se);return(0,h.toDisposable)(()=>De.dispose())}e.animate=Te,i.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function Oe(we){return we?`url('${i.FileAccess.asBrowserUri(we).toString(!0).replace(/'/g,"%27")}')`:"url('')"}e.asCSSUrl=Oe;function Be(we){return`'${we.replace(/'/g,"%27")}'`}e.asCSSPropertyValue=Be;function xe(we,Se=!1){const De=document.createElement("a");return u.addHook("afterSanitizeAttributes",Pe=>{for(const ze of["href","src"])if(Pe.hasAttribute(ze)){const je=Pe.getAttribute(ze);if(ze==="href"&&je.startsWith("#"))continue;if(De.href=je,!we.includes(De.protocol.replace(/:$/,""))){if(Se&&ze==="src"&&De.href.startsWith("data:"))continue;Pe.removeAttribute(ze)}}}),(0,h.toDisposable)(()=>{u.removeHook("afterSanitizeAttributes")})}e.hookDomPurifyHrefAndSrcSanitizer=xe;class Ke extends v.Emitter{constructor(){super();this._subscriptions=new h.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(r(window,"keydown",Se=>{if(Se.defaultPrevented)return;const De=new k.StandardKeyboardEvent(Se);if(!(De.keyCode===6&&Se.repeat)){if(Se.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Se.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Se.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Se.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(De.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=Se.altKey,this._keyStatus.ctrlKey=Se.ctrlKey,this._keyStatus.metaKey=Se.metaKey,this._keyStatus.shiftKey=Se.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Se,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(r(window,"keyup",Se=>{Se.defaultPrevented||(!Se.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!Se.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!Se.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!Se.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Se.altKey,this._keyStatus.ctrlKey=Se.ctrlKey,this._keyStatus.metaKey=Se.metaKey,this._keyStatus.shiftKey=Se.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Se,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(r(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(r(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(r(document.body,"mousemove",Se=>{Se.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(r(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Ke.instance||(Ke.instance=new Ke),Ke.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=Ke;class Ze extends h.Disposable{constructor(Se,De){super();this.element=Se,this.callbacks=De,this.counter=0,this.registerListeners()}registerListeners(){this._register(r(this.element,e.EventType.DRAG_ENTER,Se=>{this.counter++,this.callbacks.onDragEnter(Se)})),this._register(r(this.element,e.EventType.DRAG_OVER,Se=>{Se.preventDefault(),this.callbacks.onDragOver&&this.callbacks.onDragOver(Se)})),this._register(r(this.element,e.EventType.DRAG_LEAVE,Se=>{this.counter--,this.counter===0&&this.callbacks.onDragLeave(Se)})),this._register(r(this.element,e.EventType.DRAG_END,Se=>{this.counter=0,this.callbacks.onDragEnd(Se)})),this._register(r(this.element,e.EventType.DROP,Se=>{this.counter=0,this.callbacks.onDrop(Se)}))}}e.DragAndDropObserver=Ze}),define(re[174],se([1,0,7]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createElement=e.renderFormattedText=e.renderText=void 0;function m(i,n={}){const t=I(n);return t.textContent=i,t}e.renderText=m;function k(i,n={}){const t=I(n);return _(t,v(i,!!n.renderCodeSegments),n.actionHandler,n.renderCodeSegments),t}e.renderFormattedText=k;function I(i){const n=i.inline?"span":"div",t=document.createElement(n);return i.className&&(t.className=i.className),t}e.createElement=I;class L{constructor(n){this.source=n,this.index=0}eos(){return this.index>=this.source.length}next(){const n=this.peek();return this.advance(),n}peek(){return this.source[this.index]}advance(){this.index++}}function _(i,n,t,o){let d;if(n.type===2)d=document.createTextNode(n.content||"");else if(n.type===3)d=document.createElement("b");else if(n.type===4)d=document.createElement("i");else if(n.type===7&&o)d=document.createElement("code");else if(n.type===5&&t){const r=document.createElement("a");t.disposables.add(E.addStandardDisposableListener(r,"click",c=>{t.callback(String(n.index),c)})),d=r}else n.type===8?d=document.createElement("br"):n.type===1&&(d=i);d&&i!==d&&i.appendChild(d),d&&Array.isArray(n.children)&&n.children.forEach(r=>{_(d,r,t,o)})}function v(i,n){const t={type:1,children:[]};let o=0,d=t;const r=[],c=new L(i);for(;!c.eos();){let s=c.next();const a=s==="\\"&&h(c.peek(),n)!==0;if(a&&(s=c.next()),!a&&u(s,n)&&s===c.peek()){c.advance(),d.type===2&&(d=r.pop());const l=h(s,n);if(d.type===l||d.type===5&&l===6)d=r.pop();else{const f={type:l,children:[]};l===5&&(f.index=o,o++),d.children.push(f),r.push(d),d=f}}else if(s===`
`)d.type===2&&(d=r.pop()),d.children.push({type:8});else if(d.type!==2){const l={type:2,content:s};d.children.push(l),r.push(d),d=l}else d.content+=s}return d.type===2&&(d=r.pop()),r.length,t}function u(i,n){return h(i,n)!==0}function h(i,n){switch(i){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return n?7:0;default:return 0}}}),define(re[119],se([1,0,7,2]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalPointerMoveMonitor=e.standardPointerMoveMerger=void 0;function k(L,_){return _.preventDefault(),{leftButton:_.button===0,buttons:_.buttons,pageX:_.pageX,pageY:_.pageY}}e.standardPointerMoveMerger=k;class I{constructor(){this._hooks=new m.DisposableStore,this._pointerMoveEventMerger=null,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(_,v){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveEventMerger=null,this._pointerMoveCallback=null;const u=this._onStopCallback;this._onStopCallback=null,_&&u&&u(v)}isMonitoring(){return!!this._pointerMoveEventMerger}startMonitoring(_,v,u,h,i,n){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveEventMerger=h,this._pointerMoveCallback=i,this._onStopCallback=n;try{_.setPointerCapture(v),this._hooks.add((0,m.toDisposable)(()=>{_.releasePointerCapture(v)}))}catch{}this._hooks.add(E.addDisposableThrottledListener(_,E.EventType.POINTER_MOVE,t=>{if(t.buttons!==u){this.stopMonitoring(!0);return}this._pointerMoveCallback(t)},(t,o)=>this._pointerMoveEventMerger(t,o))),this._hooks.add(E.addDisposableListener(_,E.EventType.POINTER_UP,t=>this.stopMonitoring(!0)))}}e.GlobalPointerMoveMonitor=I});var Ie=this&&this.__decorate||function(U,e,E,m){var k=arguments.length,I=k<3?e:m===null?m=Object.getOwnPropertyDescriptor(e,E):m,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(U,e,E,m);else for(var _=U.length-1;_>=0;_--)(L=U[_])&&(I=(k<3?L(I):k>3?L(e,E,I):L(e,E))||I);return k>3&&I&&Object.defineProperty(e,E,I),I};define(re[60],se([1,0,7,18,99,2]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var L;(function(v){v.Tap="-monaco-gesturetap",v.Change="-monaco-gesturechange",v.Start="-monaco-gesturestart",v.End="-monaco-gesturesend",v.Contextmenu="-monaco-gesturecontextmenu"})(L=e.EventType||(e.EventType={}));class _ extends I.Disposable{constructor(){super();this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(E.addDisposableListener(document,"touchstart",u=>this.onTouchStart(u),{passive:!1})),this._register(E.addDisposableListener(document,"touchend",u=>this.onTouchEnd(u))),this._register(E.addDisposableListener(document,"touchmove",u=>this.onTouchMove(u),{passive:!1}))}static addTarget(u){return _.isTouchDevice()?(_.INSTANCE||(_.INSTANCE=new _),_.INSTANCE.targets.push(u),{dispose:()=>{_.INSTANCE.targets=_.INSTANCE.targets.filter(h=>h!==u)}}):I.Disposable.None}static ignoreTarget(u){return _.isTouchDevice()?(_.INSTANCE||(_.INSTANCE=new _),_.INSTANCE.ignoreTargets.push(u),{dispose:()=>{_.INSTANCE.ignoreTargets=_.INSTANCE.ignoreTargets.filter(h=>h!==u)}}):I.Disposable.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(u){let h=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,n=u.targetTouches.length;i<n;i++){let t=u.targetTouches.item(i);this.activeTouches[t.identifier]={id:t.identifier,initialTarget:t.target,initialTimeStamp:h,initialPageX:t.pageX,initialPageY:t.pageY,rollingTimestamps:[h],rollingPageX:[t.pageX],rollingPageY:[t.pageY]};let o=this.newGestureEvent(L.Start,t.target);o.pageX=t.pageX,o.pageY=t.pageY,this.dispatchEvent(o)}this.dispatched&&(u.preventDefault(),u.stopPropagation(),this.dispatched=!1)}onTouchEnd(u){let h=Date.now(),i=Object.keys(this.activeTouches).length;for(let n=0,t=u.changedTouches.length;n<t;n++){let o=u.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(o.identifier))){console.warn("move of an UNKNOWN touch",o);continue}let d=this.activeTouches[o.identifier],r=Date.now()-d.initialTimeStamp;if(r<_.HOLD_DELAY&&Math.abs(d.initialPageX-m.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-m.tail(d.rollingPageY))<30){let c=this.newGestureEvent(L.Tap,d.initialTarget);c.pageX=m.tail(d.rollingPageX),c.pageY=m.tail(d.rollingPageY),this.dispatchEvent(c)}else if(r>=_.HOLD_DELAY&&Math.abs(d.initialPageX-m.tail(d.rollingPageX))<30&&Math.abs(d.initialPageY-m.tail(d.rollingPageY))<30){let c=this.newGestureEvent(L.Contextmenu,d.initialTarget);c.pageX=m.tail(d.rollingPageX),c.pageY=m.tail(d.rollingPageY),this.dispatchEvent(c)}else if(i===1){let c=m.tail(d.rollingPageX),s=m.tail(d.rollingPageY),a=m.tail(d.rollingTimestamps)-d.rollingTimestamps[0],l=c-d.rollingPageX[0],f=s-d.rollingPageY[0];const g=this.targets.filter(b=>d.initialTarget instanceof Node&&b.contains(d.initialTarget));this.inertia(g,h,Math.abs(l)/a,l>0?1:-1,c,Math.abs(f)/a,f>0?1:-1,s)}this.dispatchEvent(this.newGestureEvent(L.End,d.initialTarget)),delete this.activeTouches[o.identifier]}this.dispatched&&(u.preventDefault(),u.stopPropagation(),this.dispatched=!1)}newGestureEvent(u,h){let i=document.createEvent("CustomEvent");return i.initEvent(u,!1,!0),i.initialTarget=h,i.tapCount=0,i}dispatchEvent(u){if(u.type===L.Tap){const h=new Date().getTime();let i=0;h-this._lastSetTapCountTime>_.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=h,u.tapCount=i}else(u.type===L.Change||u.type===L.Contextmenu)&&(this._lastSetTapCountTime=0);for(let h=0;h<this.ignoreTargets.length;h++)if(u.initialTarget instanceof Node&&this.ignoreTargets[h].contains(u.initialTarget))return;this.targets.forEach(h=>{u.initialTarget instanceof Node&&h.contains(u.initialTarget)&&(h.dispatchEvent(u),this.dispatched=!0)})}inertia(u,h,i,n,t,o,d,r){this.handle=E.scheduleAtNextAnimationFrame(()=>{let c=Date.now(),s=c-h,a=0,l=0,f=!0;i+=_.SCROLL_FRICTION*s,o+=_.SCROLL_FRICTION*s,i>0&&(f=!1,a=n*i*s),o>0&&(f=!1,l=d*o*s);let g=this.newGestureEvent(L.Change);g.translationX=a,g.translationY=l,u.forEach(b=>b.dispatchEvent(g)),f||this.inertia(u,c,i,n,t+a,o,d,r+l)})}onTouchMove(u){let h=Date.now();for(let i=0,n=u.changedTouches.length;i<n;i++){let t=u.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(t.identifier))){console.warn("end of an UNKNOWN touch",t);continue}let o=this.activeTouches[t.identifier],d=this.newGestureEvent(L.Change,o.initialTarget);d.translationX=t.pageX-m.tail(o.rollingPageX),d.translationY=t.pageY-m.tail(o.rollingPageY),d.pageX=t.pageX,d.pageY=t.pageY,this.dispatchEvent(d),o.rollingPageX.length>3&&(o.rollingPageX.shift(),o.rollingPageY.shift(),o.rollingTimestamps.shift()),o.rollingPageX.push(t.pageX),o.rollingPageY.push(t.pageY),o.rollingTimestamps.push(h)}this.dispatched&&(u.preventDefault(),u.stopPropagation(),this.dispatched=!1)}}_.SCROLL_FRICTION=-.005,_.HOLD_DELAY=700,_.CLEAR_TAP_COUNT_TIME=400,Ie([k.memoize],_,"isTouchDevice",null),e.Gesture=_}),define(re[120],se([1,0,7,28]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderIcon=e.renderLabelWithIcons=void 0;const k=new RegExp(`(\\\\)?\\$\\((${m.CSSIcon.iconNameExpression}(?:${m.CSSIcon.iconModifierExpression})?)\\)`,"g");function I(_){const v=new Array;let u,h=0,i=0;for(;(u=k.exec(_))!==null;){i=u.index||0,v.push(_.substring(h,i)),h=(u.index||0)+u[0].length;const[,n,t]=u;v.push(n?`$(${t})`:L({id:t}))}return h<_.length&&v.push(_.substring(h)),v}e.renderLabelWithIcons=I;function L(_){const v=E.$("span");return v.classList.add(...m.CSSIcon.asClassNameArray(_)),v}e.renderIcon=L}),define(re[223],se([1,0,7,120,41]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class I{constructor(_,v){var u;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(u=v==null?void 0:v.supportIcons)!==null&&u!==void 0?u:!1,this.domNode=E.append(_,E.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(_,v=[],u="",h){_||(_=""),h&&(_=I.escapeNewLines(_,v)),!(this.didEverRender&&this.text===_&&this.title===u&&k.equals(this.highlights,v))&&(this.text=_,this.title=u,this.highlights=v,this.render())}render(){const _=[];let v=0;for(const u of this.highlights){if(u.end===u.start)continue;if(v<u.start){const n=this.text.substring(v,u.start);_.push(E.$("span",void 0,...this.supportIcons?(0,m.renderLabelWithIcons)(n):[n])),v=u.end}const h=this.text.substring(u.start,u.end),i=E.$("span.highlight",void 0,...this.supportIcons?(0,m.renderLabelWithIcons)(h):[h]);u.extraClasses&&i.classList.add(...u.extraClasses),_.push(i),v=u.end}if(v<this.text.length){const u=this.text.substring(v);_.push(E.$("span",void 0,...this.supportIcons?(0,m.renderLabelWithIcons)(u):[u]))}E.reset(this.domNode,..._),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(_,v){let u=0,h=0;return _.replace(/\r\n|\r|\n/g,(i,n)=>{h=i===`\r
`?-1:0,n+=u;for(const t of v)t.end<=n||(t.start>=n&&(t.start+=h),t.end>=n&&(t.end+=h));return u+=h,"\u23CE"})}}e.HighlightedLabel=I}),define(re[332],se([1,0,7]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function m(I){try{I.parentElement&&I.parentElement.removeChild(I)}catch{}}class k{constructor(L){this.renderers=L,this.cache=new Map}alloc(L){let _=this.getTemplateCache(L).pop();if(!_){const v=(0,E.$)(".monaco-list-row"),h=this.getRenderer(L).renderTemplate(v);_={domNode:v,templateId:L,templateData:h}}return _}release(L){!L||this.releaseRow(L)}releaseRow(L){const{domNode:_,templateId:v}=L;_&&(_.classList.remove("scrolling"),m(_)),this.getTemplateCache(v).push(L)}getTemplateCache(L){let _=this.cache.get(L);return _||(_=[],this.cache.set(L,_)),_}dispose(){this.cache.forEach((L,_)=>{for(const v of L)this.getRenderer(_).disposeTemplate(v.templateData),v.templateData=null}),this.cache.clear()}getRenderer(L){const _=this.renderers.get(L);if(!_)throw new Error(`No renderer found for ${L}`);return _}}e.RowCache=k}),define(re[66],se([1,0,7,44,63,60,2]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class _ extends L.Disposable{onclick(u,h){this._register(E.addDisposableListener(u,E.EventType.CLICK,i=>h(new k.StandardMouseEvent(i))))}onmousedown(u,h){this._register(E.addDisposableListener(u,E.EventType.MOUSE_DOWN,i=>h(new k.StandardMouseEvent(i))))}onmouseover(u,h){this._register(E.addDisposableListener(u,E.EventType.MOUSE_OVER,i=>h(new k.StandardMouseEvent(i))))}onnonbubblingmouseout(u,h){this._register(E.addDisposableNonBubblingMouseOutListener(u,i=>h(new k.StandardMouseEvent(i))))}onkeydown(u,h){this._register(E.addDisposableListener(u,E.EventType.KEY_DOWN,i=>h(new m.StandardKeyboardEvent(i))))}onkeyup(u,h){this._register(E.addDisposableListener(u,E.EventType.KEY_UP,i=>h(new m.StandardKeyboardEvent(i))))}oninput(u,h){this._register(E.addDisposableListener(u,E.EventType.INPUT,h))}onblur(u,h){this._register(E.addDisposableListener(u,E.EventType.BLUR,h))}onfocus(u,h){this._register(E.addDisposableListener(u,E.EventType.FOCUS,h))}ignoreGesture(u){I.Gesture.ignoreTarget(u)}}e.Widget=_}),define(re[175],se([1,0,119,66,10,7]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class L extends m.Widget{constructor(v){super();this._onActivate=v.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=v.bgWidth+"px",this.bgDomNode.style.height=v.bgHeight+"px",typeof v.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof v.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof v.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof v.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=v.className,this.domNode.classList.add(...v.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof v.top!="undefined"&&(this.domNode.style.top=v.top+"px"),typeof v.left!="undefined"&&(this.domNode.style.left=v.left+"px"),typeof v.bottom!="undefined"&&(this.domNode.style.bottom=v.bottom+"px"),typeof v.right!="undefined"&&(this.domNode.style.right=v.right+"px"),this._pointerMoveMonitor=this._register(new E.GlobalPointerMoveMonitor),this._register(I.addStandardDisposableListener(this.bgDomNode,I.EventType.POINTER_DOWN,u=>this._arrowPointerDown(u))),this._register(I.addStandardDisposableListener(this.domNode,I.EventType.POINTER_DOWN,u=>this._arrowPointerDown(u))),this._pointerdownRepeatTimer=this._register(new k.IntervalTimer),this._pointerdownScheduleRepeatTimer=this._register(new k.TimeoutTimer)}_arrowPointerDown(v){if(!v.target||!(v.target instanceof Element))return;const u=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(u,200),this._pointerMoveMonitor.startMonitoring(v.target,v.pointerId,v.buttons,E.standardPointerMoveMerger,h=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),v.preventDefault()}}e.ScrollbarArrow=L}),define(re[224],se([1,0,7,32,119,175,326,66,17]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const u=140;class h extends _.Widget{constructor(n){super();this._lazyRender=n.lazyRender,this._host=n.host,this._scrollable=n.scrollable,this._scrollByPage=n.scrollByPage,this._scrollbarState=n.scrollbarState,this._visibilityController=this._register(new L.ScrollbarVisibilityController(n.visibility,"visible scrollbar "+n.extraScrollbarClassName,"invisible scrollbar "+n.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new k.GlobalPointerMoveMonitor),this._shouldRender=!0,this.domNode=(0,m.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(E.addDisposableListener(this.domNode.domNode,E.EventType.POINTER_DOWN,t=>this._domNodePointerDown(t)))}_createArrow(n){const t=this._register(new I.ScrollbarArrow(n));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(n,t,o,d){this.slider=(0,m.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(n),this.slider.setLeft(t),typeof o=="number"&&this.slider.setWidth(o),typeof d=="number"&&this.slider.setHeight(d),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(E.addDisposableListener(this.slider.domNode,E.EventType.POINTER_DOWN,r=>{r.button===0&&(r.preventDefault(),this._sliderPointerDown(r))})),this.onclick(this.slider.domNode,r=>{r.leftButton&&r.stopPropagation()})}_onElementSize(n){return this._scrollbarState.setVisibleSize(n)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(n){return this._scrollbarState.setScrollSize(n)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(n){return this._scrollbarState.setScrollPosition(n)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(n){n.target===this.domNode.domNode&&this._onPointerDown(n)}delegatePointerDown(n){const t=this.domNode.domNode.getClientRects()[0].top,o=t+this._scrollbarState.getSliderPosition(),d=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),r=this._sliderPointerPosition(n);o<=r&&r<=d?n.button===0&&(n.preventDefault(),this._sliderPointerDown(n)):this._onPointerDown(n)}_onPointerDown(n){let t,o;if(n.target===this.domNode.domNode&&typeof n.offsetX=="number"&&typeof n.offsetY=="number")t=n.offsetX,o=n.offsetY;else{const r=E.getDomNodePagePosition(this.domNode.domNode);t=n.pageX-r.left,o=n.pageY-r.top}const d=this._pointerDownRelativePosition(t,o);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(d):this._scrollbarState.getDesiredScrollPositionFromOffset(d)),n.button===0&&(n.preventDefault(),this._sliderPointerDown(n))}_sliderPointerDown(n){if(!n.target||!(n.target instanceof Element))return;const t=this._sliderPointerPosition(n),o=this._sliderOrthogonalPointerPosition(n),d=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(n.target,n.pointerId,n.buttons,k.standardPointerMoveMerger,r=>{const c=this._sliderOrthogonalPointerPosition(r),s=Math.abs(c-o);if(v.isWindows&&s>u){this._setDesiredScrollPositionNow(d.getScrollPosition());return}const l=this._sliderPointerPosition(r)-t;this._setDesiredScrollPositionNow(d.getDesiredScrollPositionFromDelta(l))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(n){const t={};this.writeScrollPosition(t,n),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(n){this._updateScrollbarSize(n),this._scrollbarState.setScrollbarSize(n),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=h}),define(re[333],se([1,0,63,224,175,217,28]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class _ extends m.AbstractScrollbar{constructor(u,h,i){const n=u.getScrollDimensions(),t=u.getCurrentScrollPosition();super({lazyRender:h.lazyRender,host:i,scrollbarState:new I.ScrollbarState(h.horizontalHasArrows?h.arrowSize:0,h.horizontal===2?0:h.horizontalScrollbarSize,h.vertical===2?0:h.verticalScrollbarSize,n.width,n.scrollWidth,t.scrollLeft),visibility:h.horizontal,extraScrollbarClassName:"horizontal",scrollable:u,scrollByPage:h.scrollByPage});if(h.horizontalHasArrows){const o=(h.arrowSize-k.ARROW_IMG_SIZE)/2,d=(h.horizontalScrollbarSize-k.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:L.Codicon.scrollbarButtonLeft,top:d,left:o,bottom:void 0,right:void 0,bgWidth:h.arrowSize,bgHeight:h.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new E.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:L.Codicon.scrollbarButtonRight,top:d,left:void 0,bottom:void 0,right:o,bgWidth:h.arrowSize,bgHeight:h.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new E.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((h.horizontalScrollbarSize-h.horizontalSliderSize)/2),0,void 0,h.horizontalSliderSize)}_updateSlider(u,h){this.slider.setWidth(u),this.slider.setLeft(h)}_renderDomNode(u,h){this.domNode.setWidth(u),this.domNode.setHeight(h),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(u){return this._shouldRender=this._onElementScrollSize(u.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(u.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(u.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(u,h){return u}_sliderPointerPosition(u){return u.pageX}_sliderOrthogonalPointerPosition(u){return u.pageY}_updateScrollbarSize(u){this.slider.setHeight(u)}writeScrollPosition(u,h){u.scrollLeft=h}updateOptions(u){this.updateScrollbarSize(u.horizontal===2?0:u.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(u.vertical===2?0:u.verticalScrollbarSize),this._visibilityController.setVisibility(u.horizontal),this._scrollByPage=u.scrollByPage}}e.HorizontalScrollbar=_}),define(re[334],se([1,0,63,224,175,217,28]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class _ extends m.AbstractScrollbar{constructor(u,h,i){const n=u.getScrollDimensions(),t=u.getCurrentScrollPosition();super({lazyRender:h.lazyRender,host:i,scrollbarState:new I.ScrollbarState(h.verticalHasArrows?h.arrowSize:0,h.vertical===2?0:h.verticalScrollbarSize,0,n.height,n.scrollHeight,t.scrollTop),visibility:h.vertical,extraScrollbarClassName:"vertical",scrollable:u,scrollByPage:h.scrollByPage});if(h.verticalHasArrows){const o=(h.arrowSize-k.ARROW_IMG_SIZE)/2,d=(h.verticalScrollbarSize-k.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:L.Codicon.scrollbarButtonUp,top:o,left:d,bottom:void 0,right:void 0,bgWidth:h.verticalScrollbarSize,bgHeight:h.arrowSize,onActivate:()=>this._host.onMouseWheel(new E.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:L.Codicon.scrollbarButtonDown,top:void 0,left:d,bottom:o,right:void 0,bgWidth:h.verticalScrollbarSize,bgHeight:h.arrowSize,onActivate:()=>this._host.onMouseWheel(new E.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((h.verticalScrollbarSize-h.verticalSliderSize)/2),h.verticalSliderSize,void 0)}_updateSlider(u,h){this.slider.setHeight(u),this.slider.setTop(h)}_renderDomNode(u,h){this.domNode.setWidth(h),this.domNode.setHeight(u),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(u){return this._shouldRender=this._onElementScrollSize(u.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(u.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(u.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(u,h){return h}_sliderPointerPosition(u){return u.pageY}_sliderOrthogonalPointerPosition(u){return u.pageX}_updateScrollbarSize(u){this.slider.setWidth(u)}writeScrollPosition(u,h){u.scrollTop=h}updateOptions(u){this.updateScrollbarSize(u.vertical===2?0:u.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(u.vertical),this._scrollByPage=u.scrollByPage}}e.VerticalScrollbar=_}),define(re[42],se([1,0,171,45,85,17,8,25]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function v(i){return(0,_.uriToFsPath)(i,!0)}e.originalFSPath=v;class u{constructor(n){this._ignorePathCasing=n}compare(n,t,o=!1){return n===t?0:(0,L.compare)(this.getComparisonKey(n,o),this.getComparisonKey(t,o))}isEqual(n,t,o=!1){return n===t?!0:!n||!t?!1:this.getComparisonKey(n,o)===this.getComparisonKey(t,o)}getComparisonKey(n,t=!1){return n.with({path:this._ignorePathCasing(n)?n.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(n,t,o=!1){if(n.scheme===t.scheme){if(n.scheme===m.Schemas.file)return E.isEqualOrParent(v(n),v(t),this._ignorePathCasing(n))&&n.query===t.query&&(o||n.fragment===t.fragment);if((0,e.isEqualAuthority)(n.authority,t.authority))return E.isEqualOrParent(n.path,t.path,this._ignorePathCasing(n),"/")&&n.query===t.query&&(o||n.fragment===t.fragment)}return!1}joinPath(n,...t){return _.URI.joinPath(n,...t)}basenameOrAuthority(n){return(0,e.basename)(n)||n.authority}basename(n){return k.posix.basename(n.path)}extname(n){return k.posix.extname(n.path)}dirname(n){if(n.path.length===0)return n;let t;return n.scheme===m.Schemas.file?t=_.URI.file(k.dirname(v(n))).path:(t=k.posix.dirname(n.path),n.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${n.toString})) resulted in a relative path`),t="/")),n.with({path:t})}normalizePath(n){if(!n.path.length)return n;let t;return n.scheme===m.Schemas.file?t=_.URI.file(k.normalize(v(n))).path:t=k.posix.normalize(n.path),n.with({path:t})}relativePath(n,t){if(n.scheme!==t.scheme||!(0,e.isEqualAuthority)(n.authority,t.authority))return;if(n.scheme===m.Schemas.file){const r=k.relative(v(n),v(t));return I.isWindows?E.toSlashes(r):r}let o=n.path||"/",d=t.path||"/";if(this._ignorePathCasing(n)){let r=0;for(const c=Math.min(o.length,d.length);r<c&&!(o.charCodeAt(r)!==d.charCodeAt(r)&&o.charAt(r).toLowerCase()!==d.charAt(r).toLowerCase());r++);o=d.substr(0,r)+o.substr(r)}return k.posix.relative(o,d)}resolvePath(n,t){if(n.scheme===m.Schemas.file){const o=_.URI.file(k.resolve(v(n),t));return n.with({authority:o.authority,path:o.path})}return t=E.toPosixPath(t),n.with({path:k.posix.resolve(n.path,t)})}isAbsolutePath(n){return!!n.path&&n.path[0]==="/"}isEqualAuthority(n,t){return n===t||n!==void 0&&t!==void 0&&(0,L.equalsIgnoreCase)(n,t)}hasTrailingPathSeparator(n,t=k.sep){if(n.scheme===m.Schemas.file){const o=v(n);return o.length>E.getRoot(o).length&&o[o.length-1]===t}else{const o=n.path;return o.length>1&&o.charCodeAt(o.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(n.fsPath)}}removeTrailingPathSeparator(n,t=k.sep){return(0,e.hasTrailingPathSeparator)(n,t)?n.with({path:n.path.substr(0,n.path.length-1)}):n}addTrailingPathSeparator(n,t=k.sep){let o=!1;if(n.scheme===m.Schemas.file){const d=v(n);o=d!==void 0&&d.length===E.getRoot(d).length&&d[d.length-1]===t}else{t="/";const d=n.path;o=d.length===1&&d.charCodeAt(d.length-1)===47}return!o&&!(0,e.hasTrailingPathSeparator)(n,t)?n.with({path:n.path+"/"}):n}}e.ExtUri=u,e.extUri=new u(()=>!1),e.extUriBiasedIgnorePathCase=new u(i=>i.scheme===m.Schemas.file?!I.isLinux:!0),e.extUriIgnorePathCase=new u(i=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);var h;(function(i){i.META_DATA_LABEL="label",i.META_DATA_DESCRIPTION="description",i.META_DATA_SIZE="size",i.META_DATA_MIME="mime";function n(t){const o=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(c=>{const[s,a]=c.split(":");s&&a&&o.set(s,a)});const r=t.path.substring(0,t.path.indexOf(";"));return r&&o.set(i.META_DATA_MIME,r),o}i.parseMetaData=n})(h=e.DataUri||(e.DataUri={}))}),define(re[335],se([1,0,7,331,93,174,63,120,10,21,13,4,65,101,136,2,321,222,45,41,42,8,25]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdown=void 0;function b(y,w={},T={}){var N;const R=new d.DisposableStore;let B=!1;const O=R.add(new u.CancellationTokenSource),D=(0,I.createElement)(w),A=function(X){let J;try{J=(0,c.parse)(decodeURIComponent(X))}catch{}return J?(J=(0,a.cloneAndChange)(J,oe=>{if(y.uris&&y.uris[oe])return g.URI.revive(y.uris[oe])}),encodeURIComponent(JSON.stringify(J))):X},P=function(X,J){const oe=y.uris&&y.uris[X];let G=g.URI.revive(oe);return J?X.startsWith(s.Schemas.data+":")?X:(G||(G=g.URI.parse(X)),s.FileAccess.asBrowserUri(G).toString(!0)):!G||g.URI.parse(X).toString()===G.toString()?X:(G.query&&(G=G.with({query:A(G.query)})),G.toString())};let F;const W=new Promise(X=>F=X),M=new r.marked.Renderer;if(M.image=(X,J,oe)=>{let G=[],x=[];return X&&({href:X,dimensions:G}=(0,n.parseHrefAndDimensions)(X),x.push(`src="${X}"`)),oe&&x.push(`alt="${oe}"`),J&&x.push(`title="${J}"`),G.length&&(x=x.concat(G)),"<img "+x.join(" ")+">"},M.link=(X,J,oe)=>typeof X!="string"?"":(X===oe&&(oe=(0,n.removeMarkdownEscapes)(oe)),X=P(X,!1),y.baseUri&&(X=p(g.URI.from(y.baseUri),X)),J=typeof J=="string"?(0,n.removeMarkdownEscapes)(J):"",X=(0,n.removeMarkdownEscapes)(X),!X||/^data:|javascript:/i.test(X)||/^command:/i.test(X)&&!y.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(X)?oe:(X=X.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a data-href="${X}" title="${J||X}">${oe}</a>`)),M.paragraph=X=>`<p>${X}</p>`,w.codeBlockRenderer&&(M.code=(X,J)=>{const oe=w.codeBlockRenderer(J??"",X),G=o.defaultGenerator.nextId();return(0,v.raceCancellation)(Promise.all([oe,W]),O.token).then(x=>{var V;if(!B&&x){const K=D.querySelector(`div[data-code="${G}"]`);K&&E.reset(K,x[0]),(V=w.asyncRenderCallback)===null||V===void 0||V.call(w)}}).catch(()=>{}),`<div class="code" data-code="${G}">${(0,f.escape)(X)}</div>`}),w.actionHandler){const X=w.actionHandler.disposables.add(new k.DomEmitter(D,"click")),J=w.actionHandler.disposables.add(new k.DomEmitter(D,"auxclick"));w.actionHandler.disposables.add(i.Event.any(X.event,J.event)(oe=>{const G=new L.StandardMouseEvent(oe);if(!G.leftButton&&!G.middleButton)return;let x=G.target;if(!(x.tagName!=="A"&&(x=x.parentElement,!x||x.tagName!=="A")))try{let V=x.dataset.href;V&&(y.baseUri&&(V=p(g.URI.from(y.baseUri),V)),w.actionHandler.callback(V,G))}catch(V){(0,h.onUnexpectedError)(V)}finally{G.preventDefault()}}))}y.supportHtml||(T.sanitizer=X=>(y.isTrusted?X.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?X:"",T.sanitize=!0,T.silent=!0),T.renderer=M;let z=(N=y.value)!==null&&N!==void 0?N:"";z.length>1e5&&(z=`${z.substr(0,1e5)}\u2026`),y.supportThemeIcons&&(z=(0,t.markdownEscapeEscapedIcons)(z));let ee=r.marked.parse(z,T);y.supportThemeIcons&&(ee=(0,_.renderLabelWithIcons)(ee).map(J=>typeof J=="string"?J:J.outerHTML).join(""));const Y=new DOMParser().parseFromString(C(y,ee),"text/html");if(Y.body.querySelectorAll("img").forEach(X=>{const J=X.getAttribute("src");if(J){let oe=J;try{y.baseUri&&(oe=p(g.URI.from(y.baseUri),oe))}catch{}X.src=P(oe,!0)}}),D.innerHTML=C(y,Y.body.innerHTML),F(),w.asyncRenderCallback)for(const X of D.getElementsByTagName("img")){const J=R.add(E.addDisposableListener(X,"load",()=>{J.dispose(),w.asyncRenderCallback()}))}return{element:D,dispose:()=>{B=!0,O.cancel(),R.dispose()}}}e.renderMarkdown=b;function p(y,w){return/^\w[\w\d+.-]*:/.test(w)?w:y.path.endsWith("/")?(0,l.resolvePath)(y,w).toString():(0,l.resolvePath)((0,l.dirname)(y),w).toString()}function C(y,w){const{config:T,allowedSchemes:N}=S(y);m.addHook("uponSanitizeAttribute",(B,O)=>{if(O.attrName==="style"||O.attrName==="class"){if(B.tagName==="SPAN"){if(O.attrName==="style"){O.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(O.attrValue);return}else if(O.attrName==="class"){O.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(O.attrValue);return}}O.keepAttr=!1;return}});const R=E.hookDomPurifyHrefAndSrcSanitizer(N);try{return m.sanitize(w,Object.assign(Object.assign({},T),{RETURN_TRUSTED_TYPE:!0}))}finally{m.removeHook("uponSanitizeAttribute"),R.dispose()}}function S(y){const w=[s.Schemas.http,s.Schemas.https,s.Schemas.mailto,s.Schemas.data,s.Schemas.file,s.Schemas.vscodeFileResource,s.Schemas.vscodeRemote,s.Schemas.vscodeRemoteResource];return y.isTrusted&&w.push(s.Schemas.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:w}}}),define(re[176],se([1,0,171,45,17,42,25]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=e.getBaseLabel=void 0;function _(h){if(!h)return;typeof h=="string"&&(h=L.URI.file(h));const i=(0,I.basename)(h)||(h.scheme===m.Schemas.file?h.fsPath:h.path);return k.isWindows&&(0,E.isRootOrDriveLetter)(i)?v(i):i}e.getBaseLabel=_;function v(h,i=k.isWindows){return(0,E.hasDriveLetter)(h,i)?h.charAt(0).toUpperCase()+h.slice(1):h}e.normalizeDriveLetter=v;let u=Object.create(null)}),define(re[336],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0;const E=new Uint8Array(16),m=[];for(let L=0;L<256;L++)m.push(L.toString(16).padStart(2,"0"));let k;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?k=crypto.getRandomValues.bind(crypto):k=function(L){for(let _=0;_<L.length;_++)L[_]=Math.floor(Math.random()*256);return L};function I(){k(E),E[6]=E[6]&15|64,E[8]=E[8]&63|128;let L=0,_="";return _+=m[E[L++]],_+=m[E[L++]],_+=m[E[L++]],_+=m[E[L++]],_+="-",_+=m[E[L++]],_+=m[E[L++]],_+="-",_+=m[E[L++]],_+=m[E[L++]],_+="-",_+=m[E[L++]],_+=m[E[L++]],_+="-",_+=m[E[L++]],_+=m[E[L++]],_+=m[E[L++]],_+=m[E[L++]],_+=m[E[L++]],_+=m[E[L++]],_}e.generateUuid=I}),define(re[225],se([1,0,13,4,2,17,19,8]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.SimpleWorkerServer=e.SimpleWorkerClient=e.logOnceWebWorkerWarning=void 0;const v="$initialize";let u=!1;function h(b){!I.isWeb||(u||(u=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(b.message))}e.logOnceWebWorkerWarning=h;class i{constructor(p,C,S,y){this.vsWorker=p,this.req=C,this.method=S,this.args=y,this.type=0}}class n{constructor(p,C,S,y){this.vsWorker=p,this.seq=C,this.res=S,this.err=y,this.type=1}}class t{constructor(p,C,S,y){this.vsWorker=p,this.req=C,this.eventName=S,this.arg=y,this.type=2}}class o{constructor(p,C,S){this.vsWorker=p,this.req=C,this.event=S,this.type=3}}class d{constructor(p,C){this.vsWorker=p,this.req=C,this.type=4}}class r{constructor(p){this._workerId=-1,this._handler=p,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(p){this._workerId=p}sendMessage(p,C){const S=String(++this._lastSentReq);return new Promise((y,w)=>{this._pendingReplies[S]={resolve:y,reject:w},this._send(new i(this._workerId,S,p,C))})}listen(p,C){let S=null;const y=new m.Emitter({onFirstListenerAdd:()=>{S=String(++this._lastSentReq),this._pendingEmitters.set(S,y),this._send(new t(this._workerId,S,p,C))},onLastListenerRemove:()=>{this._pendingEmitters.delete(S),this._send(new d(this._workerId,S)),S=null}});return y.event}handleMessage(p){!p||!p.vsWorker||this._workerId!==-1&&p.vsWorker!==this._workerId||this._handleMessage(p)}_handleMessage(p){switch(p.type){case 1:return this._handleReplyMessage(p);case 0:return this._handleRequestMessage(p);case 2:return this._handleSubscribeEventMessage(p);case 3:return this._handleEventMessage(p);case 4:return this._handleUnsubscribeEventMessage(p)}}_handleReplyMessage(p){if(!this._pendingReplies[p.seq]){console.warn("Got reply to unknown seq");return}let C=this._pendingReplies[p.seq];if(delete this._pendingReplies[p.seq],p.err){let S=p.err;p.err.$isError&&(S=new Error,S.name=p.err.name,S.message=p.err.message,S.stack=p.err.stack),C.reject(S);return}C.resolve(p.res)}_handleRequestMessage(p){let C=p.req;this._handler.handleMessage(p.method,p.args).then(y=>{this._send(new n(this._workerId,C,y,void 0))},y=>{y.detail instanceof Error&&(y.detail=(0,E.transformErrorForSerialization)(y.detail)),this._send(new n(this._workerId,C,void 0,(0,E.transformErrorForSerialization)(y)))})}_handleSubscribeEventMessage(p){const C=p.req,S=this._handler.handleEvent(p.eventName,p.arg)(y=>{this._send(new o(this._workerId,C,y))});this._pendingEvents.set(C,S)}_handleEventMessage(p){if(!this._pendingEmitters.has(p.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(p.req).fire(p.event)}_handleUnsubscribeEventMessage(p){if(!this._pendingEvents.has(p.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(p.req).dispose(),this._pendingEvents.delete(p.req)}_send(p){let C=[];if(p.type===0)for(let S=0;S<p.args.length;S++)p.args[S]instanceof ArrayBuffer&&C.push(p.args[S]);else p.type===1&&p.res instanceof ArrayBuffer&&C.push(p.res);this._handler.sendMessage(p,C)}}class c extends k.Disposable{constructor(p,C,S){super();let y=null;this._worker=this._register(p.create("vs/base/common/worker/simpleWorker",B=>{this._protocol.handleMessage(B)},B=>{y&&y(B)})),this._protocol=new r({sendMessage:(B,O)=>{this._worker.postMessage(B,O)},handleMessage:(B,O)=>{if(typeof S[B]!="function")return Promise.reject(new Error("Missing method "+B+" on main thread host."));try{return Promise.resolve(S[B].apply(S,O))}catch(D){return Promise.reject(D)}},handleEvent:(B,O)=>{if(a(B)){const D=S[B].call(S,O);if(typeof D!="function")throw new Error(`Missing dynamic event ${B} on main thread host.`);return D}if(s(B)){const D=S[B];if(typeof D!="function")throw new Error(`Missing event ${B} on main thread host.`);return D}throw new Error(`Malformed event name ${B}`)}}),this._protocol.setWorkerId(this._worker.getId());let w=null;typeof I.globals.require!="undefined"&&typeof I.globals.require.getConfig=="function"?w=I.globals.require.getConfig():typeof I.globals.requirejs!="undefined"&&(w=I.globals.requirejs.s.contexts._.config);const T=L.getAllMethodNames(S);this._onModuleLoaded=this._protocol.sendMessage(v,[this._worker.getId(),JSON.parse(JSON.stringify(w)),C,T]);const N=(B,O)=>this._request(B,O),R=(B,O)=>this._protocol.listen(B,O);this._lazyProxy=new Promise((B,O)=>{y=O,this._onModuleLoaded.then(D=>{B(l(D,N,R))},D=>{O(D),this._onError("Worker failed to load "+C,D)})})}getProxyObject(){return this._lazyProxy}_request(p,C){return new Promise((S,y)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(p,C).then(S,y)},y)})}_onError(p,C){console.error(p),console.info(C)}}e.SimpleWorkerClient=c;function s(b){return b[0]==="o"&&b[1]==="n"&&_.isUpperAsciiLetter(b.charCodeAt(2))}function a(b){return/^onDynamic/.test(b)&&_.isUpperAsciiLetter(b.charCodeAt(9))}function l(b,p,C){const S=T=>function(){const N=Array.prototype.slice.call(arguments,0);return p(T,N)},y=T=>function(N){return C(T,N)};let w={};for(const T of b){if(a(T)){w[T]=y(T);continue}if(s(T)){w[T]=C(T,void 0);continue}w[T]=S(T)}return w}class f{constructor(p,C){this._requestHandlerFactory=C,this._requestHandler=null,this._protocol=new r({sendMessage:(S,y)=>{p(S,y)},handleMessage:(S,y)=>this._handleMessage(S,y),handleEvent:(S,y)=>this._handleEvent(S,y)})}onmessage(p){this._protocol.handleMessage(p)}_handleMessage(p,C){if(p===v)return this.initialize(C[0],C[1],C[2],C[3]);if(!this._requestHandler||typeof this._requestHandler[p]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+p));try{return Promise.resolve(this._requestHandler[p].apply(this._requestHandler,C))}catch(S){return Promise.reject(S)}}_handleEvent(p,C){if(!this._requestHandler)throw new Error("Missing requestHandler");if(a(p)){const S=this._requestHandler[p].call(this._requestHandler,C);if(typeof S!="function")throw new Error(`Missing dynamic event ${p} on request handler.`);return S}if(s(p)){const S=this._requestHandler[p];if(typeof S!="function")throw new Error(`Missing event ${p} on request handler.`);return S}throw new Error(`Malformed event name ${p}`)}initialize(p,C,S,y){this._protocol.setWorkerId(p);const N=l(y,(R,B)=>this._protocol.sendMessage(R,B),(R,B)=>this._protocol.listen(R,B));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(N),Promise.resolve(L.getAllMethodNames(this._requestHandler))):(C&&(typeof C.baseUrl!="undefined"&&delete C.baseUrl,typeof C.paths!="undefined"&&typeof C.paths.vs!="undefined"&&delete C.paths.vs,typeof C.trustedTypesPolicy!==void 0&&delete C.trustedTypesPolicy,C.catchError=!0,I.globals.require.config(C)),new Promise((R,B)=>{(I.globals.require||U)([S],D=>{if(this._requestHandler=D.create(N),!this._requestHandler){B(new Error("No RequestHandler!"));return}R(L.getAllMethodNames(this._requestHandler))},B)}))}}e.SimpleWorkerServer=f;function g(b){return new f(b,null)}e.create=g}),define(re[337],se([1,0,17,225]),function(U,e,E,m){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=e.getWorkerBootstrapUrl=void 0;const I=(k=window.trustedTypes)===null||k===void 0?void 0:k.createPolicy("defaultWorkerFactory",{createScriptURL:i=>i});function L(i){if(E.globals.MonacoEnvironment){if(typeof E.globals.MonacoEnvironment.getWorker=="function")return E.globals.MonacoEnvironment.getWorker("workerMain.js",i);if(typeof E.globals.MonacoEnvironment.getWorkerUrl=="function"){const n=E.globals.MonacoEnvironment.getWorkerUrl("workerMain.js",i);return new Worker(I?I.createScriptURL(n):n,{name:i})}}if(typeof U=="function"){const n=U.toUrl("vs/base/worker/workerMain.js"),t=_(n,i);return new Worker(I?I.createScriptURL(t):t,{name:i})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function _(i,n){if(/^((http:)|(https:)|(file:))/.test(i)&&i.substring(0,self.origin.length)!==self.origin){const t="vs/base/worker/defaultWorkerFactory.js",o=U.toUrl(t).slice(0,-t.length),d=`/*${n}*/self.MonacoEnvironment={baseUrl: '${o}'};const ttPolicy = self.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${i}') ?? '${i}');/*${n}*/`,r=new Blob([d],{type:"application/javascript"});return URL.createObjectURL(r)}return i+"#"+n}e.getWorkerBootstrapUrl=_;function v(i){return typeof i.then=="function"}class u{constructor(n,t,o,d,r){this.id=t;const c=L(o);v(c)?this.worker=c:this.worker=Promise.resolve(c),this.postMessage(n,[]),this.worker.then(s=>{s.onmessage=function(a){d(a.data)},s.onmessageerror=r,typeof s.addEventListener=="function"&&s.addEventListener("error",r)})}getId(){return this.id}postMessage(n,t){this.worker&&this.worker.then(o=>o.postMessage(n,t))}dispose(){this.worker&&this.worker.then(n=>n.terminate()),this.worker=null}}class h{constructor(n){this._label=n,this._webWorkerFailedBeforeError=!1}create(n,t,o){let d=++h.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new u(n,d,this._label||"anonymous"+d,t,r=>{(0,m.logOnceWebWorkerWarning)(r),this._webWorkerFailedBeforeError=r,o(r)})}}e.DefaultWorkerFactory=h,h.LAST_WORKER_ID=0}),define(re[226],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quickPickItemScorerAccessor=e.QuickPickItemScorerAccessor=e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var E;(function(I){I[I.Blur=1]="Blur",I[I.Gesture=2]="Gesture",I[I.Other=3]="Other"})(E=e.QuickInputHideReason||(e.QuickInputHideReason={}));var m;(function(I){I[I.NONE=0]="NONE",I[I.FIRST=1]="FIRST",I[I.SECOND=2]="SECOND",I[I.LAST=3]="LAST"})(m=e.ItemActivation||(e.ItemActivation={}));class k{constructor(L){this.options=L}}e.QuickPickItemScorerAccessor=k,e.quickPickItemScorerAccessor=new k}),define(re[338],se([1,0,10,4,2,19]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=e.StorageState=void 0;var L;(function(u){u[u.None=0]="None",u[u.Initialized=1]="Initialized",u[u.Closed=2]="Closed"})(L=e.StorageState||(e.StorageState={}));class _ extends k.Disposable{constructor(h,i=Object.create(null)){super();this.database=h,this.options=i,this._onDidChangeStorage=this._register(new m.Emitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=L.None,this.cache=new Map,this.flushDelayer=new E.ThrottledDelayer(_.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(h=>this.onDidChangeItemsExternal(h)))}onDidChangeItemsExternal(h){var i,n;(i=h.changed)===null||i===void 0||i.forEach((t,o)=>this.accept(o,t)),(n=h.deleted)===null||n===void 0||n.forEach(t=>this.accept(t,void 0))}accept(h,i){if(this.state===L.Closed)return;let n=!1;(0,I.isUndefinedOrNull)(i)?n=this.cache.delete(h):this.cache.get(h)!==i&&(this.cache.set(h,i),n=!0),n&&this._onDidChangeStorage.fire(h)}get(h,i){const n=this.cache.get(h);return(0,I.isUndefinedOrNull)(n)?i:n}getBoolean(h,i){const n=this.get(h);return(0,I.isUndefinedOrNull)(n)?i:n==="true"}getNumber(h,i){const n=this.get(h);return(0,I.isUndefinedOrNull)(n)?i:parseInt(n,10)}set(h,i){return Le(this,void 0,void 0,function*(){if(this.state===L.Closed)return;if((0,I.isUndefinedOrNull)(i))return this.delete(h);const n=String(i);if(this.cache.get(h)!==n)return this.cache.set(h,n),this.pendingInserts.set(h,n),this.pendingDeletes.delete(h),this._onDidChangeStorage.fire(h),this.doFlush()})}delete(h){return Le(this,void 0,void 0,function*(){if(!(this.state===L.Closed||!this.cache.delete(h)))return this.pendingDeletes.has(h)||this.pendingDeletes.add(h),this.pendingInserts.delete(h),this._onDidChangeStorage.fire(h),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Le(this,void 0,void 0,function*(){if(!this.hasPending)return;const h={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(h).finally(()=>{var i;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(i=this.whenFlushedCallbacks.pop())===null||i===void 0||i()})})}doFlush(h){return Le(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),h)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}e.Storage=_,_.DEFAULT_FLUSH_DELAY=100;class v{constructor(){this.onDidChangeItemsExternal=m.Event.None,this.items=new Map}updateItems(h){return Le(this,void 0,void 0,function*(){h.insert&&h.insert.forEach((i,n)=>this.items.set(n,i)),h.delete&&h.delete.forEach(i=>this.items.delete(i))})}}e.InMemoryStorageDatabase=v}),define(re[227],se([12]),{}),define(re[339],se([12]),{}),define(re[46],se([1,0,7,17,339]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.status=e.alert=e.setARIAContainer=void 0;const k=2e4;let I,L,_,v,u;function h(o){I=document.createElement("div"),I.className="monaco-aria-container";const d=()=>{const c=document.createElement("div");return c.className="monaco-alert",c.setAttribute("role","alert"),c.setAttribute("aria-atomic","true"),I.appendChild(c),c};L=d(),_=d();const r=()=>{const c=document.createElement("div");return c.className="monaco-status",c.setAttribute("role","complementary"),c.setAttribute("aria-live","polite"),c.setAttribute("aria-atomic","true"),I.appendChild(c),c};v=r(),u=r(),o.appendChild(I)}e.setARIAContainer=h;function i(o){!I||(L.textContent!==o?(E.clearNode(_),t(L,o)):(E.clearNode(L),t(_,o)))}e.alert=i;function n(o){!I||(m.isMacintosh?i(o):v.textContent!==o?(E.clearNode(u),t(v,o)):(E.clearNode(v),t(u,o)))}e.status=n;function t(o,d){E.clearNode(o),d.length>k&&(d=d.substr(0,k)),o.textContent=d,o.style.visibility="hidden",o.style.visibility="visible"}}),define(re[340],se([12]),{}),define(re[341],se([1,0,7,44,60,120,30,4,2,41,340]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0;const h={buttonBackground:L.Color.fromHex("#0E639C"),buttonHoverBackground:L.Color.fromHex("#006BB3"),buttonForeground:L.Color.white};class i extends v.Disposable{constructor(t,o){super();this._onDidClick=this._register(new _.Emitter),this.options=o||Object.create(null),(0,u.mixin)(this.options,h,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),t.appendChild(this._element),this._register(k.Gesture.addTarget(this._element)),[E.EventType.CLICK,k.EventType.Tap].forEach(d=>{this._register((0,E.addDisposableListener)(this._element,d,r=>{if(!this.enabled){E.EventHelper.stop(r);return}this._onDidClick.fire(r)}))}),this._register((0,E.addDisposableListener)(this._element,E.EventType.KEY_DOWN,d=>{const r=new m.StandardKeyboardEvent(d);let c=!1;this.enabled&&(r.equals(3)||r.equals(10))?(this._onDidClick.fire(d),c=!0):r.equals(9)&&(this._element.blur(),c=!0),c&&E.EventHelper.stop(r,!0)})),this._register((0,E.addDisposableListener)(this._element,E.EventType.MOUSE_OVER,d=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,E.addDisposableListener)(this._element,E.EventType.MOUSE_OUT,d=>{this.applyStyles()})),this.focusTracker=this._register((0,E.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let t;this.options.secondary?t=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:t=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,t&&(this._element.style.backgroundColor=t)}style(t){this.buttonForeground=t.buttonForeground,this.buttonBackground=t.buttonBackground,this.buttonHoverBackground=t.buttonHoverBackground,this.buttonSecondaryForeground=t.buttonSecondaryForeground,this.buttonSecondaryBackground=t.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=t.buttonSecondaryHoverBackground,this.buttonBorder=t.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let t,o;this.options.secondary?(o=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",t=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(o=this.buttonForeground?this.buttonForeground.toString():"",t=this.buttonBackground?this.buttonBackground.toString():"");const d=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=o,this._element.style.backgroundColor=t,this._element.style.borderWidth=d?"1px":"",this._element.style.borderStyle=d?"solid":"",this._element.style.borderColor=d}}get element(){return this._element}set label(t){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,E.reset)(this._element,...(0,I.renderLabelWithIcons)(t)):this._element.textContent=t,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=t)}set enabled(t){t?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}e.Button=i}),define(re[342],se([12]),{}),define(re[343],se([12]),{}),define(re[143],se([1,0,28,342,343]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatRule=void 0;function m(k){let I=k.definition;for(;I instanceof E.Codicon;)I=I.definition;return`.codicon-${k.id}:before { content: '${I.fontCharacter}'; }`}e.formatRule=m}),define(re[344],se([12]),{}),define(re[228],se([1,0,170,7,2,17,139,344]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.layout=e.LayoutAnchorMode=void 0;var _;(function(i){i[i.AVOID=0]="AVOID",i[i.ALIGN=1]="ALIGN"})(_=e.LayoutAnchorMode||(e.LayoutAnchorMode={}));function v(i,n,t){const o=t.mode===_.ALIGN?t.offset:t.offset+t.size,d=t.mode===_.ALIGN?t.offset+t.size:t.offset;return t.position===0?n<=i-o?o:n<=d?d-n:Math.max(i-n,0):n<=d?d-n:n<=i-o?o:0}e.layout=v;class u extends k.Disposable{constructor(n,t){super();this.container=null,this.delegate=null,this.toDisposeOnClean=k.Disposable.None,this.toDisposeOnSetContainer=k.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=m.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,m.hide(this.view),this.setContainer(n,t),this._register((0,k.toDisposable)(()=>this.setContainer(null,1)))}setContainer(n,t){var o;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(o=this.shadowRootHostElement)===null||o===void 0||o.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),n){if(this.container=n,this.useFixedPosition=t!==1,this.useShadowDOM=t===3,this.useShadowDOM){this.shadowRootHostElement=m.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const r=document.createElement("style");r.textContent=h,this.shadowRoot.appendChild(r),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(m.$("slot"))}else this.container.appendChild(this.view);const d=new k.DisposableStore;u.BUBBLE_UP_EVENTS.forEach(r=>{d.add(m.addStandardDisposableListener(this.container,r,c=>{this.onDOMEvent(c,!1)}))}),u.BUBBLE_DOWN_EVENTS.forEach(r=>{d.add(m.addStandardDisposableListener(this.container,r,c=>{this.onDOMEvent(c,!0)},!0))}),this.toDisposeOnSetContainer=d}}show(n){this.isVisible()&&this.hide(),m.clearNode(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",m.show(this.view),this.toDisposeOnClean=n.render(this.view)||k.Disposable.None,this.delegate=n,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(I.isIOS&&E.BrowserFeatures.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let n=this.delegate.getAnchor(),t;if(m.isHTMLElement(n)){let g=m.getDomNodePagePosition(n);t={top:g.top,left:g.left,width:g.width,height:g.height}}else t={top:n.y,left:n.x,width:n.width||1,height:n.height||2};const o=m.getTotalWidth(this.view),d=m.getTotalHeight(this.view),r=this.delegate.anchorPosition||0,c=this.delegate.anchorAlignment||0,s=this.delegate.anchorAxisAlignment||0;let a,l;if(s===0){const g={offset:t.top-window.pageYOffset,size:t.height,position:r===0?0:1},b={offset:t.left,size:t.width,position:c===0?0:1,mode:_.ALIGN};a=v(window.innerHeight,d,g)+window.pageYOffset,L.Range.intersects({start:a,end:a+d},{start:g.offset,end:g.offset+g.size})&&(b.mode=_.AVOID),l=v(window.innerWidth,o,b)}else{const g={offset:t.left,size:t.width,position:c===0?0:1},b={offset:t.top,size:t.height,position:r===0?0:1,mode:_.ALIGN};l=v(window.innerWidth,o,g),L.Range.intersects({start:l,end:l+o},{start:g.offset,end:g.offset+g.size})&&(b.mode=_.AVOID),a=v(window.innerHeight,d,b)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(r===0?"bottom":"top"),this.view.classList.add(c===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const f=m.getDomNodePagePosition(this.container);this.view.style.top=`${a-(this.useFixedPosition?m.getDomNodePagePosition(this.view).top:f.top)}px`,this.view.style.left=`${l-(this.useFixedPosition?m.getDomNodePagePosition(this.view).left:f.left)}px`,this.view.style.width="initial"}hide(n){const t=this.delegate;this.delegate=null,(t==null?void 0:t.onHide)&&t.onHide(n),this.toDisposeOnClean.dispose(),m.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(n,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(n,document.activeElement):t&&!m.isAncestor(n.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=u,u.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],u.BUBBLE_DOWN_EVENTS=["click"];let h=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(re[345],se([12]),{}),define(re[229],se([1,0,7,30,41,8,345]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;const L={badgeBackground:m.Color.fromHex("#4D4D4D"),badgeForeground:m.Color.fromHex("#FFFFFF")};class _{constructor(u,h){this.count=0,this.options=h||Object.create(null),(0,k.mixin)(this.options,L,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,E.append)(u,(0,E.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(u){this.count=u,this.render()}setTitleFormat(u){this.titleFormat=u,this.render()}render(){this.element.textContent=(0,I.format)(this.countFormat,this.count),this.element.title=(0,I.format)(this.titleFormat,this.count),this.applyStyles()}style(u){this.badgeBackground=u.badgeBackground,this.badgeForeground=u.badgeForeground,this.badgeBorder=u.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const u=this.badgeBackground?this.badgeBackground.toString():"",h=this.badgeForeground?this.badgeForeground.toString():"",i=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=u,this.element.style.color=h,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}}}e.CountBadge=_}),define(re[230],se([12]),{}),define(re[231],se([12]),{}),define(re[346],se([12]),{}),define(re[347],se([12]),{}),define(re[348],se([12]),{}),define(re[349],se([12]),{}),define(re[232],se([12]),{}),define(re[350],se([12]),{}),define(re[144],se([1,0,350]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(re[351],se([12]),{}),define(re[352],se([1,0,7,10,30,2,41,351]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const _="done",v="active",u="infinite",h="infinite-long-running",i="discrete",n={progressBarBackground:k.Color.fromHex("#0E70C0")};class t extends I.Disposable{constructor(d,r){super();this.options=r||Object.create(null),(0,L.mixin)(this.options,n,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new m.RunOnceScheduler(()=>(0,E.show)(this.element),0)),this.longRunningScheduler=this._register(new m.RunOnceScheduler(()=>this.infiniteLongRunning(),t.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(d)}create(d){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),d.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(v,u,h,i),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(d){return this.element.classList.add(_),this.element.classList.contains(u)?(this.bit.style.opacity="0",d?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",d?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(i,_,h),this.element.classList.add(v,u),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(h)}getContainer(){return this.element}style(d){this.progressBarBackground=d.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const d=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=d}}}e.ProgressBar=t,t.LONG_RUNNING_INFINITE_THRESHOLD=1e4}),define(re[353],se([12]),{}),define(re[121],se([1,0,7,93,60,10,99,4,2,17,353]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;let h=!1;var i;(function(f){f.North="north",f.South="south",f.East="east",f.West="west"})(i=e.OrthogonalEdge||(e.OrthogonalEdge={}));let n=4;const t=new _.Emitter;let o=300;const d=new _.Emitter;class r{constructor(){this.disposables=new v.DisposableStore}get onPointerMove(){return this.disposables.add(new m.DomEmitter(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new m.DomEmitter(window,"mouseup")).event}dispose(){this.disposables.dispose()}}Ie([L.memoize],r.prototype,"onPointerMove",null),Ie([L.memoize],r.prototype,"onPointerUp",null);class c{constructor(g){this.el=g,this.disposables=new v.DisposableStore}get onPointerMove(){return this.disposables.add(new m.DomEmitter(this.el,k.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new m.DomEmitter(this.el,k.EventType.End)).event}dispose(){this.disposables.dispose()}}Ie([L.memoize],c.prototype,"onPointerMove",null),Ie([L.memoize],c.prototype,"onPointerUp",null);class s{constructor(g){this.factory=g}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}Ie([L.memoize],s.prototype,"onPointerMove",null),Ie([L.memoize],s.prototype,"onPointerUp",null);const a="pointer-events-disabled";class l extends v.Disposable{constructor(g,b,p){super();this.hoverDelay=o,this.hoverDelayer=this._register(new I.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new _.Emitter),this._onDidStart=this._register(new _.Emitter),this._onDidChange=this._register(new _.Emitter),this._onDidReset=this._register(new _.Emitter),this._onDidEnd=this._register(new _.Emitter),this.orthogonalStartSashDisposables=this._register(new v.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new v.DisposableStore),this.orthogonalEndSashDisposables=this._register(new v.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new v.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,E.append)(g,(0,E.$)(".monaco-sash")),p.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${p.orthogonalEdge}`),u.isMacintosh&&this.el.classList.add("mac");const C=this._register(new m.DomEmitter(this.el,"mousedown")).event;this._register(C(B=>this.onPointerStart(B,new r),this));const S=this._register(new m.DomEmitter(this.el,"dblclick")).event;this._register(S(this.onPointerDoublePress,this));const y=this._register(new m.DomEmitter(this.el,"mouseenter")).event;this._register(y(()=>l.onMouseEnter(this)));const w=this._register(new m.DomEmitter(this.el,"mouseleave")).event;this._register(w(()=>l.onMouseLeave(this))),this._register(k.Gesture.addTarget(this.el));const T=_.Event.map(this._register(new m.DomEmitter(this.el,k.EventType.Start)).event,B=>{var O;return Object.assign(Object.assign({},B),{target:(O=B.initialTarget)!==null&&O!==void 0?O:null})});this._register(T(B=>this.onPointerStart(B,new c(this.el)),this));const N=this._register(new m.DomEmitter(this.el,k.EventType.Tap)).event,R=_.Event.map(_.Event.filter(_.Event.debounce(N,(B,O)=>{var D;return{event:O,count:((D=B==null?void 0:B.count)!==null&&D!==void 0?D:0)+1}},250),({count:B})=>B===2),({event:B})=>{var O;return Object.assign(Object.assign({},B),{target:(O=B.initialTarget)!==null&&O!==void 0?O:null})});this._register(R(this.onPointerDoublePress,this)),typeof p.size=="number"?(this.size=p.size,p.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=n,this._register(t.event(B=>{this.size=B,this.layout()}))),this._register(d.event(B=>this.hoverDelay=B)),this.layoutProvider=b,this.orthogonalStartSash=p.orthogonalStartSash,this.orthogonalEndSash=p.orthogonalEndSash,this.orientation=p.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",h),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(g){this._state!==g&&(this.el.classList.toggle("disabled",g===0),this.el.classList.toggle("minimum",g===1),this.el.classList.toggle("maximum",g===2),this._state=g,this.onDidEnablementChange.fire(g))}set orthogonalStartSash(g){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),g){const b=p=>{this.orthogonalStartDragHandleDisposables.clear(),p!==0&&(this._orthogonalStartDragHandle=(0,E.append)(this.el,(0,E.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,v.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new m.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>l.onMouseEnter(g),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new m.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>l.onMouseLeave(g),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(g.onDidEnablementChange.event(b,this)),b(g.state)}this._orthogonalStartSash=g}set orthogonalEndSash(g){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),g){const b=p=>{this.orthogonalEndDragHandleDisposables.clear(),p!==0&&(this._orthogonalEndDragHandle=(0,E.append)(this.el,(0,E.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,v.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new m.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>l.onMouseEnter(g),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new m.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>l.onMouseLeave(g),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(g.onDidEnablementChange.event(b,this)),b(g.state)}this._orthogonalEndSash=g}onPointerStart(g,b){E.EventHelper.stop(g);let p=!1;if(!g.__orthogonalSashEvent){const A=this.getOrthogonalSash(g);A&&(p=!0,g.__orthogonalSashEvent=!0,A.onPointerStart(g,new s(b)))}if(this.linkedSash&&!g.__linkedSashEvent&&(g.__linkedSashEvent=!0,this.linkedSash.onPointerStart(g,new s(b))),!this.state)return;const C=(0,E.getElementsByTagName)("iframe");for(const A of C)A.classList.add(a);const S=g.pageX,y=g.pageY,w=g.altKey,T={startX:S,currentX:S,startY:y,currentY:y,altKey:w};this.el.classList.add("active"),this._onDidStart.fire(T);const N=(0,E.createStyleSheet)(this.el),R=()=>{let A="";p?A="all-scroll":this.orientation===1?this.state===1?A="s-resize":this.state===2?A="n-resize":A=u.isMacintosh?"row-resize":"ns-resize":this.state===1?A="e-resize":this.state===2?A="w-resize":A=u.isMacintosh?"col-resize":"ew-resize",N.textContent=`* { cursor: ${A} !important; }`},B=new v.DisposableStore;R(),p||this.onDidEnablementChange.event(R,null,B);const O=A=>{E.EventHelper.stop(A,!1);const P={startX:S,currentX:A.pageX,startY:y,currentY:A.pageY,altKey:w};this._onDidChange.fire(P)},D=A=>{E.EventHelper.stop(A,!1),this.el.removeChild(N),this.el.classList.remove("active"),this._onDidEnd.fire(),B.dispose();for(const P of C)P.classList.remove(a)};b.onPointerMove(O,null,B),b.onPointerUp(D,null,B),B.add(b)}onPointerDoublePress(g){const b=this.getOrthogonalSash(g);b&&b._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(g,b=!1){g.el.classList.contains("active")?(g.hoverDelayer.cancel(),g.el.classList.add("hover")):g.hoverDelayer.trigger(()=>g.el.classList.add("hover"),g.hoverDelay).then(void 0,()=>{}),!b&&g.linkedSash&&l.onMouseEnter(g.linkedSash,!0)}static onMouseLeave(g,b=!1){g.hoverDelayer.cancel(),g.el.classList.remove("hover"),!b&&g.linkedSash&&l.onMouseLeave(g.linkedSash,!0)}clearSashHoverState(){l.onMouseLeave(this)}layout(){if(this.orientation===0){const g=this.layoutProvider;this.el.style.left=g.getVerticalSashLeft(this)-this.size/2+"px",g.getVerticalSashTop&&(this.el.style.top=g.getVerticalSashTop(this)+"px"),g.getVerticalSashHeight&&(this.el.style.height=g.getVerticalSashHeight(this)+"px")}else{const g=this.layoutProvider;this.el.style.top=g.getHorizontalSashTop(this)-this.size/2+"px",g.getHorizontalSashLeft&&(this.el.style.left=g.getHorizontalSashLeft(this)+"px"),g.getHorizontalSashWidth&&(this.el.style.width=g.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(g){if(!(!g.target||!(g.target instanceof HTMLElement))&&g.target.classList.contains("orthogonal-drag-handle"))return g.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=l}),define(re[354],se([12]),{}),define(re[72],se([1,0,34,7,32,63,333,334,66,10,4,2,17,140,354]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const o=500,d=50,r=!0;class c{constructor(C,S,y){this.timestamp=C,this.deltaX=S,this.deltaY=y,this.score=0}}class s{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let C=1,S=0,y=1,w=this._rear;do{const T=w===this._front?C:Math.pow(2,-y);if(C-=T,S+=this._memory[w].score*T,w===this._front)break;w=(this._capacity+w-1)%this._capacity,y++}while(!0);return S<=.5}accept(C,S,y){const w=new c(C,S,y);w.score=this._computeScore(w),this._front===-1&&this._rear===-1?(this._memory[0]=w,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=w)}_computeScore(C){if(Math.abs(C.deltaX)>0&&Math.abs(C.deltaY)>0)return 1;let S=.5;const y=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(C.deltaX)||!this._isAlmostInt(C.deltaY))&&(S+=.25),Math.min(Math.max(S,0),1)}_isAlmostInt(C){return Math.abs(Math.round(C)-C)<.01}}e.MouseWheelClassifier=s,s.INSTANCE=new s;class a extends v.Widget{constructor(C,S,y){super();this._onScroll=this._register(new h.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new h.Emitter),C.style.overflow="hidden",this._options=b(S),this._scrollable=y,this._register(this._scrollable.onScroll(T=>{this._onWillScroll.fire(T),this._onDidScroll(T),this._onScroll.fire(T)}));const w={onMouseWheel:T=>this._onMouseWheel(T),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new _.VerticalScrollbar(this._scrollable,this._options,w)),this._horizontalScrollbar=this._register(new L.HorizontalScrollbar(this._scrollable,this._options,w)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(C),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,k.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,k.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,k.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,T=>this._onMouseOver(T)),this.onnonbubblingmouseout(this._listenOnDomNode,T=>this._onMouseOut(T)),this._hideTimeout=this._register(new u.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=(0,i.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(C){this._verticalScrollbar.delegatePointerDown(C)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(C){this._scrollable.setScrollDimensions(C,!1)}updateClassName(C){this._options.className=C,n.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(C){typeof C.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=C.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof C.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=C.mouseWheelScrollSensitivity),typeof C.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=C.fastScrollSensitivity),typeof C.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=C.scrollPredominantAxis),typeof C.horizontal!="undefined"&&(this._options.horizontal=C.horizontal),typeof C.vertical!="undefined"&&(this._options.vertical=C.vertical),typeof C.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=C.horizontalScrollbarSize),typeof C.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=C.verticalScrollbarSize),typeof C.scrollByPage!="undefined"&&(this._options.scrollByPage=C.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(C){if(this._mouseWheelToDispose.length>0!==C&&(this._mouseWheelToDispose=(0,i.dispose)(this._mouseWheelToDispose),C)){const y=w=>{this._onMouseWheel(new I.StandardWheelEvent(w))};this._mouseWheelToDispose.push(m.addDisposableListener(this._listenOnDomNode,m.EventType.MOUSE_WHEEL,y,{passive:!1}))}}_onMouseWheel(C){const S=s.INSTANCE;if(r){const T=window.devicePixelRatio/(0,E.getZoomFactor)();n.isWindows||n.isLinux?S.accept(Date.now(),C.deltaX/T,C.deltaY/T):S.accept(Date.now(),C.deltaX,C.deltaY)}let y=!1;if(C.deltaY||C.deltaX){let T=C.deltaY*this._options.mouseWheelScrollSensitivity,N=C.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(T)>=Math.abs(N)?N=0:T=0),this._options.flipAxes&&([T,N]=[N,T]);const R=!n.isMacintosh&&C.browserEvent&&C.browserEvent.shiftKey;(this._options.scrollYToX||R)&&!N&&(N=T,T=0),C.browserEvent&&C.browserEvent.altKey&&(N=N*this._options.fastScrollSensitivity,T=T*this._options.fastScrollSensitivity);const B=this._scrollable.getFutureScrollPosition();let O={};if(T){const D=d*T,A=B.scrollTop-(D<0?Math.floor(D):Math.ceil(D));this._verticalScrollbar.writeScrollPosition(O,A)}if(N){const D=d*N,A=B.scrollLeft-(D<0?Math.floor(D):Math.ceil(D));this._horizontalScrollbar.writeScrollPosition(O,A)}O=this._scrollable.validateScrollPosition(O),(B.scrollLeft!==O.scrollLeft||B.scrollTop!==O.scrollTop)&&(r&&this._options.mouseWheelSmoothScroll&&S.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(O):this._scrollable.setScrollPositionNow(O),y=!0)}let w=y;!w&&this._options.alwaysConsumeMouseWheel&&(w=!0),!w&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(w=!0),w&&(C.preventDefault(),C.stopPropagation())}_onDidScroll(C){this._shouldRender=this._horizontalScrollbar.onDidScroll(C)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(C)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const C=this._scrollable.getCurrentScrollPosition(),S=C.scrollTop>0,y=C.scrollLeft>0,w=y?" left":"",T=S?" top":"",N=y||S?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${w}`),this._topShadowDomNode.setClassName(`shadow${T}`),this._topLeftShadowDomNode.setClassName(`shadow${N}${T}${w}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(C){this._mouseIsOver=!1,this._hide()}_onMouseOver(C){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),o)}}e.AbstractScrollableElement=a;class l extends a{constructor(C,S){S=S||{},S.mouseWheelSmoothScroll=!1;const y=new t.Scrollable({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:w=>m.scheduleAtNextAnimationFrame(w)});super(C,S,y);this._register(y)}setScrollPosition(C){this._scrollable.setScrollPositionNow(C)}}e.ScrollableElement=l;class f extends a{constructor(C,S,y){super(C,S,y)}setScrollPosition(C){C.reuseAnimation?this._scrollable.setScrollPositionSmooth(C,C.reuseAnimation):this._scrollable.setScrollPositionNow(C)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=f;class g extends a{constructor(C,S){S=S||{},S.mouseWheelSmoothScroll=!1;const y=new t.Scrollable({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:w=>m.scheduleAtNextAnimationFrame(w)});super(C,S,y);this._register(y),this._element=C,this.onScroll(w=>{w.scrollTopChanged&&(this._element.scrollTop=w.scrollTop),w.scrollLeftChanged&&(this._element.scrollLeft=w.scrollLeft)}),this.scanDomNode()}setScrollPosition(C){this._scrollable.setScrollPositionNow(C)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=g;function b(p){const C={lazyRender:typeof p.lazyRender!="undefined"?p.lazyRender:!1,className:typeof p.className!="undefined"?p.className:"",useShadows:typeof p.useShadows!="undefined"?p.useShadows:!0,handleMouseWheel:typeof p.handleMouseWheel!="undefined"?p.handleMouseWheel:!0,flipAxes:typeof p.flipAxes!="undefined"?p.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof p.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?p.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof p.alwaysConsumeMouseWheel!="undefined"?p.alwaysConsumeMouseWheel:!1,scrollYToX:typeof p.scrollYToX!="undefined"?p.scrollYToX:!1,mouseWheelScrollSensitivity:typeof p.mouseWheelScrollSensitivity!="undefined"?p.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof p.fastScrollSensitivity!="undefined"?p.fastScrollSensitivity:5,scrollPredominantAxis:typeof p.scrollPredominantAxis!="undefined"?p.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof p.mouseWheelSmoothScroll!="undefined"?p.mouseWheelSmoothScroll:!0,arrowSize:typeof p.arrowSize!="undefined"?p.arrowSize:11,listenOnDomNode:typeof p.listenOnDomNode!="undefined"?p.listenOnDomNode:null,horizontal:typeof p.horizontal!="undefined"?p.horizontal:1,horizontalScrollbarSize:typeof p.horizontalScrollbarSize!="undefined"?p.horizontalScrollbarSize:10,horizontalSliderSize:typeof p.horizontalSliderSize!="undefined"?p.horizontalSliderSize:0,horizontalHasArrows:typeof p.horizontalHasArrows!="undefined"?p.horizontalHasArrows:!1,vertical:typeof p.vertical!="undefined"?p.vertical:1,verticalScrollbarSize:typeof p.verticalScrollbarSize!="undefined"?p.verticalScrollbarSize:10,verticalHasArrows:typeof p.verticalHasArrows!="undefined"?p.verticalHasArrows:!1,verticalSliderSize:typeof p.verticalSliderSize!="undefined"?p.verticalSliderSize:0,scrollByPage:typeof p.scrollByPage!="undefined"?p.scrollByPage:!1};return C.horizontalSliderSize=typeof p.horizontalSliderSize!="undefined"?p.horizontalSliderSize:C.horizontalScrollbarSize,C.verticalSliderSize=typeof p.verticalSliderSize!="undefined"?p.verticalSliderSize:C.verticalScrollbarSize,n.isMacintosh&&(C.className+=" mac"),C}}),define(re[233],se([1,0,7,44,72,2,346]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAction=e.HoverWidget=void 0;const L=E.$;class _ extends I.Disposable{constructor(){super();this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new k.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}e.HoverWidget=_;class v extends I.Disposable{constructor(h,i,n){super();this.actionContainer=E.append(h,L("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=E.append(this.actionContainer,L("a.action")),this.action.setAttribute("role","button"),i.iconClass&&E.append(this.action,L(`span.icon.${i.iconClass}`));const t=E.append(this.action,L("span"));t.textContent=n?`${i.label} (${n})`:i.label,this._register(E.addDisposableListener(this.actionContainer,E.EventType.CLICK,o=>{o.stopPropagation(),o.preventDefault(),i.run(this.actionContainer)})),this._register(E.addDisposableListener(this.actionContainer,E.EventType.KEY_UP,o=>{new m.StandardKeyboardEvent(o).equals(3)&&(o.stopPropagation(),o.preventDefault(),i.run(this.actionContainer))})),this.setEnabled(!0)}static render(h,i,n){return new v(h,i,n)}setEnabled(h){h?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=v}),define(re[177],se([1,0,34,169,7,93,60,72,18,10,99,4,2,41,139,140,325,332]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const s={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(C){return[C]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class a{constructor(S){this.elements=S}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=a;class l{constructor(S){this.elements=S}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=l;class f{constructor(){this.types=[],this.files=[]}update(S){if(S.types&&this.types.splice(0,this.types.length,...S.types),S.files){this.files.splice(0,this.files.length);for(let y=0;y<S.files.length;y++){const w=S.files.item(y);w&&(w.size||w.type)&&this.files.push(w)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=f;function g(C,S){return Array.isArray(C)&&Array.isArray(S)?(0,v.equals)(C,S):C===S}class b{constructor(S){(S==null?void 0:S.getSetSize)?this.getSetSize=S.getSetSize.bind(S):this.getSetSize=(y,w,T)=>T,(S==null?void 0:S.getPosInSet)?this.getPosInSet=S.getPosInSet.bind(S):this.getPosInSet=(y,w)=>w+1,(S==null?void 0:S.getRole)?this.getRole=S.getRole.bind(S):this.getRole=y=>"listitem",(S==null?void 0:S.isChecked)?this.isChecked=S.isChecked.bind(S):this.isChecked=y=>{}}}class p{constructor(S,y,w,T=s){if(this.virtualDelegate=y,this.domId=`list_id_${++p.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new u.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=n.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=n.Disposable.None,this.onDragLeaveTimeout=n.Disposable.None,this.disposables=new n.DisposableStore,this._onDidChangeContentHeight=new i.Emitter,this._horizontalScrolling=!1,T.horizontalScrolling&&T.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new r.RangeMap;for(const R of w)this.renderers.set(R.templateId,R);this.cache=this.disposables.add(new c.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof T.mouseSupport=="boolean"?T.mouseSupport:!0),this._horizontalScrolling=(0,t.getOrDefault)(T,R=>R.horizontalScrolling,s.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof T.additionalScrollHeight=="undefined"?0:T.additionalScrollHeight,this.accessibilityProvider=new b(T.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(0,t.getOrDefault)(T,R=>R.transformOptimization,s.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(L.Gesture.addTarget(this.rowsContainer)),this.scrollable=new d.Scrollable({forceIntegerValues:!0,smoothScrollDuration:(0,t.getOrDefault)(T,R=>R.smoothScrolling,!1)?125:0,scheduleAtNextAnimationFrame:R=>(0,k.scheduleAtNextAnimationFrame)(R)}),this.scrollableElement=this.disposables.add(new _.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(0,t.getOrDefault)(T,R=>R.alwaysConsumeMouseWheel,s.alwaysConsumeMouseWheel),horizontal:1,vertical:(0,t.getOrDefault)(T,R=>R.verticalScrollMode,s.verticalScrollMode),useShadows:(0,t.getOrDefault)(T,R=>R.useShadows,s.useShadows),mouseWheelScrollSensitivity:T.mouseWheelScrollSensitivity,fastScrollSensitivity:T.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),S.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,k.addDisposableListener)(this.rowsContainer,L.EventType.Change,R=>this.onTouchChange(R))),this.disposables.add((0,k.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",R=>R.target.scrollTop=0)),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragover",R=>this.onDragOver(this.toDragEvent(R)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"drop",R=>this.onDrop(this.toDragEvent(R)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragleave",R=>this.onDragLeave(this.toDragEvent(R)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragend",R=>this.onDragEnd(R))),this.setRowLineHeight=(0,t.getOrDefault)(T,R=>R.setRowLineHeight,s.setRowLineHeight),this.setRowHeight=(0,t.getOrDefault)(T,R=>R.setRowHeight,s.setRowHeight),this.supportDynamicHeights=(0,t.getOrDefault)(T,R=>R.supportDynamicHeights,s.supportDynamicHeights),this.dnd=(0,t.getOrDefault)(T,R=>R.dnd,s.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(S){if(S!==this._horizontalScrolling){if(S&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=S,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const y of this.items)this.measureItemWidth(y);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,k.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(S){S.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=S.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),S.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(S.smoothScrolling?125:0),S.horizontalScrolling!==void 0&&(this.horizontalScrolling=S.horizontalScrolling),S.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:S.mouseWheelScrollSensitivity}),S.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:S.fastScrollSensitivity})}splice(S,y,w=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(S,y,w)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(S,y,w=[]){const T=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),N={start:S,end:S+y},R=o.Range.intersect(T,N),B=new Map;for(let G=R.end-1;G>=R.start;G--){const x=this.items[G];if(x.dragStartDisposable.dispose(),x.checkedDisposable.dispose(),x.row){let V=B.get(x.templateId);V||(V=[],B.set(x.templateId,V));const K=this.renderers.get(x.templateId);K&&K.disposeElement&&K.disposeElement(x.element,G,x.row.templateData,x.size),V.push(x.row)}x.row=null}const O={start:S+y,end:this.items.length},D=o.Range.intersect(O,T),A=o.Range.relativeComplement(O,T),P=w.map(G=>({id:String(this.itemId++),element:G,templateId:this.virtualDelegate.getTemplateId(G),size:this.virtualDelegate.getHeight(G),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(G),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:n.Disposable.None,checkedDisposable:n.Disposable.None}));let F;S===0&&y>=this.items.length?(this.rangeMap=new r.RangeMap,this.rangeMap.splice(0,0,P),F=this.items,this.items=P):(this.rangeMap.splice(S,y,P),F=this.items.splice(S,y,...P));const W=w.length-y,M=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),z=(0,r.shift)(D,W),ee=o.Range.intersect(M,z);for(let G=ee.start;G<ee.end;G++)this.updateItemInDOM(this.items[G],G);const ie=o.Range.relativeComplement(z,M);for(const G of ie)for(let x=G.start;x<G.end;x++)this.removeItemFromDOM(x);const Y=A.map(G=>(0,r.shift)(G,W)),J=[{start:S,end:S+w.length},...Y].map(G=>o.Range.intersect(M,G)),oe=this.getNextToLastElement(J);for(const G of J)for(let x=G.start;x<G.end;x++){const V=this.items[x],K=B.get(V.templateId),le=K==null?void 0:K.pop();this.insertItemInDOM(x,oe,le)}for(const G of B.values())for(const x of G)this.cache.release(x);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),F.map(G=>G.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,k.scheduleAtNextAnimationFrame)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let S=0;for(const y of this.items)typeof y.width!="undefined"&&(S=Math.max(S,y.width));this.scrollWidth=S,this.scrollableElement.setScrollDimensions({scrollWidth:S===0?0:S+10})}rerender(){if(!!this.supportDynamicHeights){for(const S of this.items)S.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(S){return this.items[S].element}domElement(S){const y=this.items[S].row;return y&&y.domNode}elementHeight(S){return this.items[S].size}elementTop(S){return this.rangeMap.positionAt(S)}indexAt(S){return this.rangeMap.indexAt(S)}indexAfter(S){return this.rangeMap.indexAfter(S)}layout(S,y){let w={height:typeof S=="number"?S:(0,k.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,w.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(w),typeof y!="undefined"&&(this.renderWidth=y,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof y=="number"?y:(0,k.getContentWidth)(this.domNode)})}render(S,y,w,T,N,R=!1){const B=this.getRenderRange(y,w),O=o.Range.relativeComplement(B,S),D=o.Range.relativeComplement(S,B),A=this.getNextToLastElement(O);if(R){const P=o.Range.intersect(S,B);for(let F=P.start;F<P.end;F++)this.updateItemInDOM(this.items[F],F)}for(const P of O)for(let F=P.start;F<P.end;F++)this.insertItemInDOM(F,A);for(const P of D)for(let F=P.start;F<P.end;F++)this.removeItemFromDOM(F);T!==void 0&&(this.rowsContainer.style.left=`-${T}px`),this.rowsContainer.style.top=`-${y}px`,this.horizontalScrolling&&N!==void 0&&(this.rowsContainer.style.width=`${Math.max(N,this.renderWidth)}px`),this.lastRenderTop=y,this.lastRenderHeight=w}insertItemInDOM(S,y,w){const T=this.items[S];T.row||(T.row=w??this.cache.alloc(T.templateId));const N=this.accessibilityProvider.getRole(T.element)||"listitem";T.row.domNode.setAttribute("role",N);const R=this.accessibilityProvider.isChecked(T.element);if(typeof R=="boolean")T.row.domNode.setAttribute("aria-checked",String(!!R));else if(R){const D=A=>T.row.domNode.setAttribute("aria-checked",String(!!A));D(R.value),T.checkedDisposable=R.onDidChange(D)}T.row.domNode.parentElement||(y?this.rowsContainer.insertBefore(T.row.domNode,y):this.rowsContainer.appendChild(T.row.domNode)),this.updateItemInDOM(T,S);const B=this.renderers.get(T.templateId);if(!B)throw new Error(`No renderer found for template id ${T.templateId}`);B&&B.renderElement(T.element,S,T.row.templateData,T.size);const O=this.dnd.getDragURI(T.element);T.dragStartDisposable.dispose(),T.row.domNode.draggable=!!O,O&&(T.dragStartDisposable=(0,k.addDisposableListener)(T.row.domNode,"dragstart",D=>this.onDragStart(T.element,O,D))),this.horizontalScrolling&&(this.measureItemWidth(T),this.eventuallyUpdateScrollWidth())}measureItemWidth(S){if(!S.row||!S.row.domNode)return;S.row.domNode.style.width=E.isFirefox?"-moz-fit-content":"fit-content",S.width=(0,k.getContentWidth)(S.row.domNode);const y=window.getComputedStyle(S.row.domNode);y.paddingLeft&&(S.width+=parseFloat(y.paddingLeft)),y.paddingRight&&(S.width+=parseFloat(y.paddingRight)),S.row.domNode.style.width=""}updateItemInDOM(S,y){S.row.domNode.style.top=`${this.elementTop(y)}px`,this.setRowHeight&&(S.row.domNode.style.height=`${S.size}px`),this.setRowLineHeight&&(S.row.domNode.style.lineHeight=`${S.size}px`),S.row.domNode.setAttribute("data-index",`${y}`),S.row.domNode.setAttribute("data-last-element",y===this.length-1?"true":"false"),S.row.domNode.setAttribute("data-parity",y%2==0?"even":"odd"),S.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(S.element,y,this.length))),S.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(S.element,y))),S.row.domNode.setAttribute("id",this.getElementDomId(y)),S.row.domNode.classList.toggle("drop-target",S.dropTarget)}removeItemFromDOM(S){const y=this.items[S];if(y.dragStartDisposable.dispose(),y.checkedDisposable.dispose(),y.row){const w=this.renderers.get(y.templateId);w&&w.disposeElement&&w.disposeElement(y.element,S,y.row.templateData,y.size),this.cache.release(y.row),y.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(S,y){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:S,reuseAnimation:y})}get scrollTop(){return this.getScrollTop()}set scrollTop(S){this.setScrollTop(S)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return i.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"click")).event,S=>this.toMouseEvent(S))}get onMouseDblClick(){return i.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"dblclick")).event,S=>this.toMouseEvent(S))}get onMouseMiddleClick(){return i.Event.filter(i.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"auxclick")).event,S=>this.toMouseEvent(S)),S=>S.browserEvent.button===1)}get onMouseDown(){return i.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"mousedown")).event,S=>this.toMouseEvent(S))}get onContextMenu(){return i.Event.any(i.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"contextmenu")).event,S=>this.toMouseEvent(S)),i.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,L.EventType.Contextmenu)).event,S=>this.toGestureEvent(S)))}get onTouchStart(){return i.Event.map(this.disposables.add(new I.DomEmitter(this.domNode,"touchstart")).event,S=>this.toTouchEvent(S))}get onTap(){return i.Event.map(this.disposables.add(new I.DomEmitter(this.rowsContainer,L.EventType.Tap)).event,S=>this.toGestureEvent(S))}toMouseEvent(S){const y=this.getItemIndexFromEventTarget(S.target||null),w=typeof y=="undefined"?void 0:this.items[y],T=w&&w.element;return{browserEvent:S,index:y,element:T}}toTouchEvent(S){const y=this.getItemIndexFromEventTarget(S.target||null),w=typeof y=="undefined"?void 0:this.items[y],T=w&&w.element;return{browserEvent:S,index:y,element:T}}toGestureEvent(S){const y=this.getItemIndexFromEventTarget(S.initialTarget||null),w=typeof y=="undefined"?void 0:this.items[y],T=w&&w.element;return{browserEvent:S,index:y,element:T}}toDragEvent(S){const y=this.getItemIndexFromEventTarget(S.target||null),w=typeof y=="undefined"?void 0:this.items[y],T=w&&w.element;return{browserEvent:S,index:y,element:T}}onScroll(S){try{const y=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(y,S.scrollTop,S.height,S.scrollLeft,S.scrollWidth),this.supportDynamicHeights&&this._rerender(S.scrollTop,S.height,S.inSmoothScrolling)}catch(y){throw console.error("Got bad scroll event:",S),y}}onTouchChange(S){S.preventDefault(),S.stopPropagation(),this.scrollTop-=S.translationY}onDragStart(S,y,w){if(!w.dataTransfer)return;const T=this.dnd.getDragElements(S);if(w.dataTransfer.effectAllowed="copyMove",w.dataTransfer.setData(m.DataTransfers.TEXT,y),w.dataTransfer.setDragImage){let N;this.dnd.getDragLabel&&(N=this.dnd.getDragLabel(T,w)),typeof N=="undefined"&&(N=String(T.length));const R=(0,k.$)(".monaco-drag-image");R.textContent=N,document.body.appendChild(R),w.dataTransfer.setDragImage(R,-10,-10),setTimeout(()=>document.body.removeChild(R),0)}this.currentDragData=new a(T),m.StaticDND.CurrentDragAndDropData=new l(T),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,w)}onDragOver(S){if(S.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),m.StaticDND.CurrentDragAndDropData&&m.StaticDND.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(S.browserEvent),!S.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(m.StaticDND.CurrentDragAndDropData)this.currentDragData=m.StaticDND.CurrentDragAndDropData;else{if(!S.browserEvent.dataTransfer.types)return!1;this.currentDragData=new f}const y=this.dnd.onDragOver(this.currentDragData,S.element,S.index,S.browserEvent);if(this.canDrop=typeof y=="boolean"?y:y.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;S.browserEvent.dataTransfer.dropEffect=typeof y!="boolean"&&y.effect===0?"copy":"move";let w;if(typeof y!="boolean"&&y.feedback?w=y.feedback:typeof S.index=="undefined"?w=[-1]:w=[S.index],w=(0,v.distinct)(w).filter(T=>T>=-1&&T<this.length).sort((T,N)=>T-N),w=w[0]===-1?[-1]:w,g(this.currentDragFeedback,w))return!0;if(this.currentDragFeedback=w,this.currentDragFeedbackDisposable.dispose(),w[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,n.toDisposable)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const T of w){const N=this.items[T];N.dropTarget=!0,N.row&&N.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,n.toDisposable)(()=>{for(const T of w){const N=this.items[T];N.dropTarget=!1,N.row&&N.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(S){var y,w;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,u.disposableTimeout)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((w=(y=this.dnd).onDragLeave)===null||w===void 0||w.call(y,this.currentDragData,S.element,S.index,S.browserEvent))}onDrop(S){if(!this.canDrop)return;const y=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,m.StaticDND.CurrentDragAndDropData=void 0,!(!y||!S.browserEvent.dataTransfer)&&(S.browserEvent.preventDefault(),y.update(S.browserEvent.dataTransfer),this.dnd.drop(y,S.element,S.index,S.browserEvent))}onDragEnd(S){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,m.StaticDND.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(S)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=n.Disposable.None}setupDragAndDropScrollTopAnimation(S){if(!this.dragOverAnimationDisposable){const y=(0,k.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,k.animate)(this.animateDragAndDropScrollTop.bind(this,y))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,u.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=S.pageY}animateDragAndDropScrollTop(S){if(this.dragOverMouseY===void 0)return;const y=this.dragOverMouseY-S,w=this.renderHeight-35;y<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(y-35))):y>w&&(this.scrollTop+=Math.min(14,Math.floor(.3*(y-w))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(S){const y=this.scrollableElement.getDomNode();let w=S;for(;w instanceof HTMLElement&&w!==this.rowsContainer&&y.contains(w);){const T=w.getAttribute("data-index");if(T){const N=Number(T);if(!isNaN(N))return N}w=w.parentElement}}getRenderRange(S,y){return{start:this.rangeMap.indexAt(S),end:this.rangeMap.indexAfter(S+y-1)}}_rerender(S,y,w){const T=this.getRenderRange(S,y);let N,R;S===this.elementTop(T.start)?(N=T.start,R=0):T.end-T.start>1&&(N=T.start+1,R=this.elementTop(N)-S);let B=0;for(;;){const O=this.getRenderRange(S,y);let D=!1;for(let A=O.start;A<O.end;A++){const P=this.probeDynamicHeight(A);P!==0&&this.rangeMap.splice(A,1,[this.items[A]]),B+=P,D=D||P!==0}if(!D){B!==0&&this.eventuallyUpdateScrollDimensions();const A=o.Range.relativeComplement(T,O);for(const F of A)for(let W=F.start;W<F.end;W++)this.items[W].row&&this.removeItemFromDOM(W);const P=o.Range.relativeComplement(O,T);for(const F of P)for(let W=F.start;W<F.end;W++){const M=W+1,z=M<this.items.length?this.items[M].row:null,ee=z?z.domNode:null;this.insertItemInDOM(W,ee)}for(let F=O.start;F<O.end;F++)this.items[F].row&&this.updateItemInDOM(this.items[F],F);if(typeof N=="number"){const F=this.scrollable.getFutureScrollPosition().scrollTop-S,W=this.elementTop(N)-R+F;this.setScrollTop(W,w)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(S){const y=this.items[S];if(this.virtualDelegate.getDynamicHeight){const R=this.virtualDelegate.getDynamicHeight(y.element);if(R!==null){const B=y.size;return y.size=R,y.lastDynamicHeightWidth=this.renderWidth,R-B}}if(!y.hasDynamicHeight||y.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(y.element))return 0;const w=y.size;if(!this.setRowHeight&&y.row){let R=y.row.domNode.offsetHeight;return y.size=R,y.lastDynamicHeightWidth=this.renderWidth,R-w}const T=this.cache.alloc(y.templateId);T.domNode.style.height="",this.rowsContainer.appendChild(T.domNode);const N=this.renderers.get(y.templateId);return N&&(N.renderElement(y.element,S,T.templateData,void 0),N.disposeElement&&N.disposeElement(y.element,S,T.templateData,void 0)),y.size=T.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(y.element,y.size),y.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(T.domNode),this.cache.release(T),y.size-w}getNextToLastElement(S){const y=S[S.length-1];if(!y)return null;const w=this.items[y.end];return!w||!w.row?null:w.row.domNode}getElementDomId(S){return`${this.domId}_${S}`}dispose(){if(this.items){for(const S of this.items)if(S.row){const y=this.renderers.get(S.row.templateId);y&&(y.disposeElement&&y.disposeElement(S.element,-1,S.row.templateData,void 0),y.disposeTemplate(S.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,n.dispose)(this.disposables)}}p.InstanceCount=0,Ie([h.memoize],p.prototype,"onMouseClick",null),Ie([h.memoize],p.prototype,"onMouseDblClick",null),Ie([h.memoize],p.prototype,"onMouseMiddleClick",null),Ie([h.memoize],p.prototype,"onMouseDown",null),Ie([h.memoize],p.prototype,"onContextMenu",null),Ie([h.memoize],p.prototype,"onTouchStart",null),Ie([h.memoize],p.prototype,"onTap",null),e.ListView=p}),define(re[122],se([1,0,7,93,44,60,46,319,18,10,30,99,4,64,2,117,41,17,19,318,177,232]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.DefaultStyleController=e.MouseController=e.isSelectionRangeChangeEvent=e.isSelectionSingleChangeEvent=e.DefaultKeyboardNavigationDelegate=e.isMonacoEditor=e.isInputElement=void 0;class f{constructor(x){this.trait=x,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(x){return x}renderElement(x,V,K){const le=this.renderedElements.findIndex(ae=>ae.templateData===K);if(le>=0){const ae=this.renderedElements[le];this.trait.unrender(K),ae.index=V}else{const ae={index:V,templateData:K};this.renderedElements.push(ae)}this.trait.renderIndex(V,K)}splice(x,V,K){const le=[];for(const ae of this.renderedElements)ae.index<x?le.push(ae):ae.index>=x+V&&le.push({index:ae.index+K-V,templateData:ae.templateData});this.renderedElements=le}renderIndexes(x){for(const{index:V,templateData:K}of this.renderedElements)x.indexOf(V)>-1&&this.trait.renderIndex(V,K)}disposeTemplate(x){const V=this.renderedElements.findIndex(K=>K.templateData===x);V<0||this.renderedElements.splice(V,1)}}class g{constructor(x){this._trait=x,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new n.Emitter,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new f(this)}splice(x,V,K){var le;V=Math.max(0,Math.min(V,this.length-x));const ae=K.length-V,Q=x+V,q=[...this.sortedIndexes.filter(j=>j<x),...K.map((j,$)=>j?$+x:-1).filter(j=>j!==-1),...this.sortedIndexes.filter(j=>j>=Q).map(j=>j+ae)],Z=this.length+ae;if(this.sortedIndexes.length>0&&q.length===0&&Z>0){const j=(le=this.sortedIndexes.find($=>$>=x))!==null&&le!==void 0?le:Z-1;q.push(Math.min(j,Z-1))}this.renderer.splice(x,V,K.length),this._set(q,q),this.length=Z}renderIndex(x,V){V.classList.toggle(this._trait,this.contains(x))}unrender(x){x.classList.remove(this._trait)}set(x,V){return this._set(x,[...x].sort(ie),V)}_set(x,V,K){const le=this.indexes,ae=this.sortedIndexes;this.indexes=x,this.sortedIndexes=V;const Q=z(ae,x);return this.renderer.renderIndexes(Q),this._onChange.fire({indexes:x,browserEvent:K}),le}get(){return this.indexes}contains(x){return(0,v.binarySearch)(this.sortedIndexes,x,ie)>=0}dispose(){(0,o.dispose)(this._onChange)}}Ie([i.memoize],g.prototype,"renderer",null);class b extends g{constructor(x){super("selected");this.setAriaSelected=x}renderIndex(x,V){super.renderIndex(x,V),this.setAriaSelected&&(this.contains(x)?V.setAttribute("aria-selected","true"):V.setAttribute("aria-selected","false"))}}class p{constructor(x,V,K){this.trait=x,this.view=V,this.identityProvider=K}splice(x,V,K){if(!this.identityProvider)return this.trait.splice(x,V,K.map(()=>!1));const le=this.trait.get().map(Q=>this.identityProvider.getId(this.view.element(Q)).toString()),ae=K.map(Q=>le.indexOf(this.identityProvider.getId(Q).toString())>-1);this.trait.splice(x,V,ae)}}function C(G){return G.tagName==="INPUT"||G.tagName==="TEXTAREA"}e.isInputElement=C;function S(G){return G.classList.contains("monaco-editor")?!0:G.classList.contains("monaco-list")||!G.parentElement?!1:S(G.parentElement)}e.isMonacoEditor=S;class y{constructor(x,V,K){this.list=x,this.view=V,this.disposables=new o.DisposableStore,this.multipleSelectionDisposables=new o.DisposableStore,this.onKeyDown.filter(le=>le.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(le=>le.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(le=>le.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(le=>le.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(le=>le.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(le=>le.keyCode===9).on(this.onEscape,this,this.disposables),K.multipleSelectionSupport!==!1&&this.onKeyDown.filter(le=>(c.isMacintosh?le.metaKey:le.ctrlKey)&&le.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return n.Event.chain(this.disposables.add(new m.DomEmitter(this.view.domNode,"keydown")).event).filter(x=>!C(x.target)).map(x=>new k.StandardKeyboardEvent(x))}updateOptions(x){x.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),x.multipleSelectionSupport&&this.onKeyDown.filter(V=>(c.isMacintosh?V.metaKey:V.ctrlKey)&&V.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(x){x.preventDefault(),x.stopPropagation(),this.list.setSelection(this.list.getFocus(),x.browserEvent)}onUpArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusPrevious(1,!1,x.browserEvent);const V=this.list.getFocus()[0];this.list.setAnchor(V),this.list.reveal(V),this.view.domNode.focus()}onDownArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusNext(1,!1,x.browserEvent);const V=this.list.getFocus()[0];this.list.setAnchor(V),this.list.reveal(V),this.view.domNode.focus()}onPageUpArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusPreviousPage(x.browserEvent);const V=this.list.getFocus()[0];this.list.setAnchor(V),this.list.reveal(V),this.view.domNode.focus()}onPageDownArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusNextPage(x.browserEvent);const V=this.list.getFocus()[0];this.list.setAnchor(V),this.list.reveal(V),this.view.domNode.focus()}onCtrlA(x){x.preventDefault(),x.stopPropagation(),this.list.setSelection((0,v.range)(this.list.length),x.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(x){this.list.getSelection().length&&(x.preventDefault(),x.stopPropagation(),this.list.setSelection([],x.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Ie([i.memoize],y.prototype,"onKeyDown",null);var w;(function(G){G[G.Idle=0]="Idle",G[G.Typing=1]="Typing"})(w||(w={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(G){return G.ctrlKey||G.metaKey||G.altKey?!1:G.keyCode>=31&&G.keyCode<=56||G.keyCode>=21&&G.keyCode<=30||G.keyCode>=93&&G.keyCode<=102||G.keyCode>=80&&G.keyCode<=90}};class T{constructor(x,V,K,le){this.list=x,this.view=V,this.keyboardNavigationLabelProvider=K,this.delegate=le,this.enabled=!1,this.state=w.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new o.DisposableStore,this.disposables=new o.DisposableStore,this.updateOptions(x.options)}updateOptions(x){(typeof x.enableKeyboardNavigation=="undefined"?!0:!!x.enableKeyboardNavigation)?this.enable():this.disable(),typeof x.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=x.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const x=n.Event.chain(this.enabledDisposables.add(new m.DomEmitter(this.view.domNode,"keydown")).event).filter(le=>!C(le.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(le=>new k.StandardKeyboardEvent(le)).filter(le=>this.delegate.mightProducePrintableCharacter(le)).forEach(le=>le.preventDefault()).map(le=>le.browserEvent.key).event,V=n.Event.debounce(x,()=>null,800);n.Event.reduce(n.Event.any(x,V),(le,ae)=>ae===null?null:(le||"")+ae)(this.onInput,this,this.enabledDisposables),V(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var x;const V=this.list.getFocus();if(V.length>0&&V[0]===this.previouslyFocused){const K=(x=this.list.options.accessibilityProvider)===null||x===void 0?void 0:x.getAriaLabel(this.list.element(V[0]));K&&(0,L.alert)(K)}this.previouslyFocused=-1}onInput(x){if(!x){this.state=w.Idle,this.triggered=!1;return}const V=this.list.getFocus(),K=V.length>0?V[0]:0,le=this.state===w.Idle?1:0;this.state=w.Typing;for(let ae=0;ae<this.list.length;ae++){const Q=(K+ae+le)%this.list.length,q=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Q)),Z=q&&q.toString();if(typeof Z=="undefined"||(0,t.matchesPrefix)(x,Z)){this.previouslyFocused=K,this.list.setFocus([Q]),this.list.reveal(Q);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class N{constructor(x,V){this.list=x,this.view=V,this.disposables=new o.DisposableStore,n.Event.chain(this.disposables.add(new m.DomEmitter(V.domNode,"keydown")).event).filter(le=>!C(le.target)).map(le=>new k.StandardKeyboardEvent(le)).filter(le=>le.keyCode===2&&!le.ctrlKey&&!le.metaKey&&!le.shiftKey&&!le.altKey).on(this.onTab,this,this.disposables)}onTab(x){if(x.target!==this.view.domNode)return;const V=this.list.getFocus();if(V.length===0)return;const K=this.view.domElement(V[0]);if(!K)return;const le=K.querySelector("[tabIndex]");if(!le||!(le instanceof HTMLElement)||le.tabIndex===-1)return;const ae=window.getComputedStyle(le);ae.visibility==="hidden"||ae.display==="none"||(x.preventDefault(),x.stopPropagation(),le.focus())}dispose(){this.disposables.dispose()}}function R(G){return c.isMacintosh?G.browserEvent.metaKey:G.browserEvent.ctrlKey}e.isSelectionSingleChangeEvent=R;function B(G){return G.browserEvent.shiftKey}e.isSelectionRangeChangeEvent=B;function O(G){return G instanceof MouseEvent&&G.button===2}const D={isSelectionSingleChangeEvent:R,isSelectionRangeChangeEvent:B};class A{constructor(x){this.list=x,this.disposables=new o.DisposableStore,this._onPointer=new n.Emitter,this.onPointer=this._onPointer.event,x.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||D),this.mouseSupport=typeof x.options.mouseSupport=="undefined"||!!x.options.mouseSupport,this.mouseSupport&&(x.onMouseDown(this.onMouseDown,this,this.disposables),x.onContextMenu(this.onContextMenu,this,this.disposables),x.onMouseDblClick(this.onDoubleClick,this,this.disposables),x.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(I.Gesture.addTarget(x.getHTMLElement()))),n.Event.any(x.onMouseClick,x.onMouseMiddleClick,x.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(x){x.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,x.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||D))}isSelectionSingleChangeEvent(x){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(x):!1}isSelectionRangeChangeEvent(x){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(x):!1}isSelectionChangeEvent(x){return this.isSelectionSingleChangeEvent(x)||this.isSelectionRangeChangeEvent(x)}onMouseDown(x){S(x.browserEvent.target)||document.activeElement!==x.browserEvent.target&&this.list.domFocus()}onContextMenu(x){if(S(x.browserEvent.target))return;const V=typeof x.index=="undefined"?[]:[x.index];this.list.setFocus(V,x.browserEvent)}onViewPointer(x){if(!this.mouseSupport||C(x.browserEvent.target)||S(x.browserEvent.target))return;const V=x.index;if(typeof V=="undefined"){this.list.setFocus([],x.browserEvent),this.list.setSelection([],x.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(x))return this.changeSelection(x);if(this.isSelectionChangeEvent(x))return this.changeSelection(x);this.list.setFocus([V],x.browserEvent),this.list.setAnchor(V),O(x.browserEvent)||this.list.setSelection([V],x.browserEvent),this._onPointer.fire(x)}onDoubleClick(x){if(C(x.browserEvent.target)||S(x.browserEvent.target)||this.isSelectionChangeEvent(x))return;const V=this.list.getFocus();this.list.setSelection(V,x.browserEvent)}changeSelection(x){const V=x.index;let K=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(x)){if(typeof K=="undefined"){const $=this.list.getFocus()[0];K=$??V,this.list.setAnchor(K)}const le=Math.min(K,V),ae=Math.max(K,V),Q=(0,v.range)(le,ae+1),q=this.list.getSelection(),Z=M(z(q,[K]),K);if(Z.length===0)return;const j=z(Q,ee(q,Z));this.list.setSelection(j,x.browserEvent),this.list.setFocus([V],x.browserEvent)}else if(this.isSelectionSingleChangeEvent(x)){const le=this.list.getSelection(),ae=le.filter(Q=>Q!==V);this.list.setFocus([V]),this.list.setAnchor(V),le.length===ae.length?this.list.setSelection([...ae,V],x.browserEvent):this.list.setSelection(ae,x.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=A;class P{constructor(x,V){this.styleElement=x,this.selectorSuffix=V}style(x){const V=this.selectorSuffix&&`.${this.selectorSuffix}`,K=[];x.listBackground&&(x.listBackground.isOpaque()?K.push(`.monaco-list${V} .monaco-list-rows { background: ${x.listBackground}; }`):c.isMacintosh||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),x.listFocusBackground&&(K.push(`.monaco-list${V}:focus .monaco-list-row.focused { background-color: ${x.listFocusBackground}; }`),K.push(`.monaco-list${V}:focus .monaco-list-row.focused:hover { background-color: ${x.listFocusBackground}; }`)),x.listFocusForeground&&K.push(`.monaco-list${V}:focus .monaco-list-row.focused { color: ${x.listFocusForeground}; }`),x.listActiveSelectionBackground&&(K.push(`.monaco-list${V}:focus .monaco-list-row.selected { background-color: ${x.listActiveSelectionBackground}; }`),K.push(`.monaco-list${V}:focus .monaco-list-row.selected:hover { background-color: ${x.listActiveSelectionBackground}; }`)),x.listActiveSelectionForeground&&K.push(`.monaco-list${V}:focus .monaco-list-row.selected { color: ${x.listActiveSelectionForeground}; }`),x.listActiveSelectionIconForeground&&K.push(`.monaco-list${V}:focus .monaco-list-row.selected .codicon { color: ${x.listActiveSelectionIconForeground}; }`),x.listFocusAndSelectionBackground&&K.push(`
				.monaco-drag-image,
				.monaco-list${V}:focus .monaco-list-row.selected.focused { background-color: ${x.listFocusAndSelectionBackground}; }
			`),x.listFocusAndSelectionForeground&&K.push(`
				.monaco-drag-image,
				.monaco-list${V}:focus .monaco-list-row.selected.focused { color: ${x.listFocusAndSelectionForeground}; }
			`),x.listInactiveFocusForeground&&(K.push(`.monaco-list${V} .monaco-list-row.focused { color:  ${x.listInactiveFocusForeground}; }`),K.push(`.monaco-list${V} .monaco-list-row.focused:hover { color:  ${x.listInactiveFocusForeground}; }`)),x.listInactiveSelectionIconForeground&&K.push(`.monaco-list${V} .monaco-list-row.focused .codicon { color:  ${x.listInactiveSelectionIconForeground}; }`),x.listInactiveFocusBackground&&(K.push(`.monaco-list${V} .monaco-list-row.focused { background-color:  ${x.listInactiveFocusBackground}; }`),K.push(`.monaco-list${V} .monaco-list-row.focused:hover { background-color:  ${x.listInactiveFocusBackground}; }`)),x.listInactiveSelectionBackground&&(K.push(`.monaco-list${V} .monaco-list-row.selected { background-color:  ${x.listInactiveSelectionBackground}; }`),K.push(`.monaco-list${V} .monaco-list-row.selected:hover { background-color:  ${x.listInactiveSelectionBackground}; }`)),x.listInactiveSelectionForeground&&K.push(`.monaco-list${V} .monaco-list-row.selected { color: ${x.listInactiveSelectionForeground}; }`),x.listHoverBackground&&K.push(`.monaco-list${V}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${x.listHoverBackground}; }`),x.listHoverForeground&&K.push(`.monaco-list${V} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${x.listHoverForeground}; }`),x.listSelectionOutline&&K.push(`.monaco-list${V} .monaco-list-row.selected { outline: 1px dotted ${x.listSelectionOutline}; outline-offset: -1px; }`),x.listFocusOutline&&K.push(`
				.monaco-drag-image,
				.monaco-list${V}:focus .monaco-list-row.focused { outline: 1px solid ${x.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${V}.last-focused .monaco-list-row.focused { outline: 1px solid ${x.listFocusOutline}; outline-offset: -1px; }
			`),x.listInactiveFocusOutline&&K.push(`.monaco-list${V} .monaco-list-row.focused { outline: 1px dotted ${x.listInactiveFocusOutline}; outline-offset: -1px; }`),x.listHoverOutline&&K.push(`.monaco-list${V} .monaco-list-row:hover { outline: 1px dashed ${x.listHoverOutline}; outline-offset: -1px; }`),x.listDropBackground&&K.push(`
				.monaco-list${V}.drop-target,
				.monaco-list${V} .monaco-list-rows.drop-target,
				.monaco-list${V} .monaco-list-row.drop-target { background-color: ${x.listDropBackground} !important; color: inherit !important; }
			`),x.listFilterWidgetBackground&&K.push(`.monaco-list-type-filter { background-color: ${x.listFilterWidgetBackground} }`),x.listFilterWidgetOutline&&K.push(`.monaco-list-type-filter { border: 1px solid ${x.listFilterWidgetOutline}; }`),x.listFilterWidgetNoMatchesOutline&&K.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${x.listFilterWidgetNoMatchesOutline}; }`),x.listMatchesShadow&&K.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${x.listMatchesShadow}; }`),x.tableColumnsBorder&&K.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${x.tableColumnsBorder};
			}`),x.tableOddRowsBackgroundColor&&K.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${x.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=K.join(`
`)}}e.DefaultStyleController=P;const F={listFocusBackground:h.Color.fromHex("#7FB0D0"),listActiveSelectionBackground:h.Color.fromHex("#0E639C"),listActiveSelectionForeground:h.Color.fromHex("#FFFFFF"),listActiveSelectionIconForeground:h.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:h.Color.fromHex("#094771"),listFocusAndSelectionForeground:h.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:h.Color.fromHex("#3F3F46"),listInactiveSelectionIconForeground:h.Color.fromHex("#FFFFFF"),listHoverBackground:h.Color.fromHex("#2A2D2E"),listDropBackground:h.Color.fromHex("#383B3D"),treeIndentGuidesStroke:h.Color.fromHex("#a9a9a9"),tableColumnsBorder:h.Color.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:h.Color.fromHex("#cccccc").transparent(.04)},W={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function M(G,x){const V=G.indexOf(x);if(V===-1)return[];const K=[];let le=V-1;for(;le>=0&&G[le]===x-(V-le);)K.push(G[le--]);for(K.reverse(),le=V;le<G.length&&G[le]===x+(le-V);)K.push(G[le++]);return K}function z(G,x){const V=[];let K=0,le=0;for(;K<G.length||le<x.length;)if(K>=G.length)V.push(x[le++]);else if(le>=x.length)V.push(G[K++]);else if(G[K]===x[le]){V.push(G[K]),K++,le++;continue}else G[K]<x[le]?V.push(G[K++]):V.push(x[le++]);return V}function ee(G,x){const V=[];let K=0,le=0;for(;K<G.length||le<x.length;)if(K>=G.length)V.push(x[le++]);else if(le>=x.length)V.push(G[K++]);else if(G[K]===x[le]){K++,le++;continue}else G[K]<x[le]?V.push(G[K++]):le++;return V}const ie=(G,x)=>G-x;class Y{constructor(x,V){this._templateId=x,this.renderers=V}get templateId(){return this._templateId}renderTemplate(x){return this.renderers.map(V=>V.renderTemplate(x))}renderElement(x,V,K,le){let ae=0;for(const Q of this.renderers)Q.renderElement(x,V,K[ae++],le)}disposeElement(x,V,K,le){let ae=0;for(const Q of this.renderers)Q.disposeElement&&Q.disposeElement(x,V,K[ae],le),ae+=1}disposeTemplate(x){let V=0;for(const K of this.renderers)K.disposeTemplate(x[V++])}}class X{constructor(x){this.accessibilityProvider=x,this.templateId="a18n"}renderTemplate(x){return x}renderElement(x,V,K){const le=this.accessibilityProvider.getAriaLabel(x);le?K.setAttribute("aria-label",le):K.removeAttribute("aria-label");const ae=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(x);typeof ae=="number"?K.setAttribute("aria-level",`${ae}`):K.removeAttribute("aria-level")}disposeTemplate(x){}}class J{constructor(x,V){this.list=x,this.dnd=V}getDragElements(x){const V=this.list.getSelectedElements();return V.indexOf(x)>-1?V:[x]}getDragURI(x){return this.dnd.getDragURI(x)}getDragLabel(x,V){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(x,V)}onDragStart(x,V){this.dnd.onDragStart&&this.dnd.onDragStart(x,V)}onDragOver(x,V,K,le){return this.dnd.onDragOver(x,V,K,le)}onDragLeave(x,V,K,le){var ae,Q;(Q=(ae=this.dnd).onDragLeave)===null||Q===void 0||Q.call(ae,x,V,K,le)}onDragEnd(x){this.dnd.onDragEnd&&this.dnd.onDragEnd(x)}drop(x,V,K,le){this.dnd.drop(x,V,K,le)}}class oe{constructor(x,V,K,le,ae=W){var Q;this.user=x,this._options=ae,this.focus=new g("focused"),this.anchor=new g("anchor"),this.eventBufferer=new n.EventBufferer,this._ariaLabel="",this.disposables=new o.DisposableStore,this._onDidDispose=new n.Emitter,this.onDidDispose=this._onDidDispose.event;const q=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(Q=this._options.accessibilityProvider)===null||Q===void 0?void 0:Q.getWidgetRole():"list";this.selection=new b(q!=="listbox"),(0,r.mixin)(ae,F,!1);const Z=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=ae.accessibilityProvider,this.accessibilityProvider&&(Z.push(new X(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),le=le.map($=>new Y($.templateId,[...Z,$]));const j=Object.assign(Object.assign({},ae),{dnd:ae.dnd&&new J(this,ae.dnd)});if(this.view=new l.ListView(V,K,le,j),this.view.domNode.setAttribute("role",q),ae.styleController)this.styleController=ae.styleController(this.view.domId);else{const $=(0,E.createStyleSheet)(this.view.domNode);this.styleController=new P($,this.view.domId)}if(this.spliceable=new _.CombinedSpliceable([new p(this.focus,this.view,ae.identityProvider),new p(this.selection,this.view,ae.identityProvider),new p(this.anchor,this.view,ae.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new N(this,this.view)),(typeof ae.keyboardSupport!="boolean"||ae.keyboardSupport)&&(this.keyboardController=new y(this,this.view,ae),this.disposables.add(this.keyboardController)),ae.keyboardNavigationLabelProvider){const $=ae.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeLabelController=new T(this,this.view,ae.keyboardNavigationLabelProvider,$),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(ae),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return n.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),x=>this.toListEvent(x))}get onDidChangeSelection(){return n.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),x=>this.toListEvent(x))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let x=!1;const V=n.Event.chain(this.disposables.add(new m.DomEmitter(this.view.domNode,"keydown")).event).map(ae=>new k.StandardKeyboardEvent(ae)).filter(ae=>x=ae.keyCode===58||ae.shiftKey&&ae.keyCode===68).map(m.stopEvent).filter(()=>!1).event,K=n.Event.chain(this.disposables.add(new m.DomEmitter(this.view.domNode,"keyup")).event).forEach(()=>x=!1).map(ae=>new k.StandardKeyboardEvent(ae)).filter(ae=>ae.keyCode===58||ae.shiftKey&&ae.keyCode===68).map(m.stopEvent).map(({browserEvent:ae})=>{const Q=this.getFocus(),q=Q.length?Q[0]:void 0,Z=typeof q!="undefined"?this.view.element(q):void 0,j=typeof q!="undefined"?this.view.domElement(q):this.view.domNode;return{index:q,element:Z,anchor:j,browserEvent:ae}}).event,le=n.Event.chain(this.view.onContextMenu).filter(ae=>!x).map(({element:ae,index:Q,browserEvent:q})=>({element:ae,index:Q,anchor:{x:q.pageX+1,y:q.pageY},browserEvent:q})).event;return n.Event.any(V,K,le)}get onKeyDown(){return this.disposables.add(new m.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return n.Event.signal(this.disposables.add(new m.DomEmitter(this.view.domNode,"focus",!0)).event)}createMouseController(x){return new A(this)}updateOptions(x={}){var V;this._options=Object.assign(Object.assign({},this._options),x),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(x),(V=this.keyboardController)===null||V===void 0||V.updateOptions(x),this.view.updateOptions(x)}get options(){return this._options}splice(x,V,K=[]){if(x<0||x>this.view.length)throw new a.ListError(this.user,`Invalid start index: ${x}`);if(V<0)throw new a.ListError(this.user,`Invalid delete count: ${V}`);V===0&&K.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(x,V,K))}rerender(){this.view.rerender()}element(x){return this.view.element(x)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(x){this.view.setScrollTop(x)}get ariaLabel(){return this._ariaLabel}set ariaLabel(x){this._ariaLabel=x,this.view.domNode.setAttribute("aria-label",x)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(x,V){this.view.layout(x,V)}setSelection(x,V){for(const K of x)if(K<0||K>=this.length)throw new a.ListError(this.user,`Invalid index ${K}`);this.selection.set(x,V)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(x=>this.view.element(x))}setAnchor(x){if(typeof x=="undefined"){this.anchor.set([]);return}if(x<0||x>=this.length)throw new a.ListError(this.user,`Invalid index ${x}`);this.anchor.set([x])}getAnchor(){return(0,v.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const x=this.getAnchor();return typeof x=="undefined"?void 0:this.element(x)}setFocus(x,V){for(const K of x)if(K<0||K>=this.length)throw new a.ListError(this.user,`Invalid index ${K}`);this.focus.set(x,V)}focusNext(x=1,V=!1,K,le){if(this.length===0)return;const ae=this.focus.get(),Q=this.findNextIndex(ae.length>0?ae[0]+x:0,V,le);Q>-1&&this.setFocus([Q],K)}focusPrevious(x=1,V=!1,K,le){if(this.length===0)return;const ae=this.focus.get(),Q=this.findPreviousIndex(ae.length>0?ae[0]-x:0,V,le);Q>-1&&this.setFocus([Q],K)}focusNextPage(x,V){return Le(this,void 0,void 0,function*(){let K=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);K=K===0?0:K-1;const le=this.view.element(K),ae=this.getFocusedElements()[0];if(ae!==le){const Q=this.findPreviousIndex(K,!1,V);Q>-1&&ae!==this.view.element(Q)?this.setFocus([Q],x):this.setFocus([K],x)}else{const Q=this.view.getScrollTop();this.view.setScrollTop(Q+this.view.renderHeight-this.view.elementHeight(K)),this.view.getScrollTop()!==Q&&(this.setFocus([]),yield(0,u.timeout)(0),yield this.focusNextPage(x,V))}})}focusPreviousPage(x,V){return Le(this,void 0,void 0,function*(){let K;const le=this.view.getScrollTop();le===0?K=this.view.indexAt(le):K=this.view.indexAfter(le-1);const ae=this.view.element(K),Q=this.getFocusedElements()[0];if(Q!==ae){const q=this.findNextIndex(K,!1,V);q>-1&&Q!==this.view.element(q)?this.setFocus([q],x):this.setFocus([K],x)}else{const q=le;this.view.setScrollTop(le-this.view.renderHeight),this.view.getScrollTop()!==q&&(this.setFocus([]),yield(0,u.timeout)(0),yield this.focusPreviousPage(x,V))}})}focusLast(x,V){if(this.length===0)return;const K=this.findPreviousIndex(this.length-1,!1,V);K>-1&&this.setFocus([K],x)}focusFirst(x,V){this.focusNth(0,x,V)}focusNth(x,V,K){if(this.length===0)return;const le=this.findNextIndex(x,!1,K);le>-1&&this.setFocus([le],V)}findNextIndex(x,V=!1,K){for(let le=0;le<this.length;le++){if(x>=this.length&&!V)return-1;if(x=x%this.length,!K||K(this.element(x)))return x;x++}return-1}findPreviousIndex(x,V=!1,K){for(let le=0;le<this.length;le++){if(x<0&&!V)return-1;if(x=(this.length+x%this.length)%this.length,!K||K(this.element(x)))return x;x--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(x=>this.view.element(x))}reveal(x,V){if(x<0||x>=this.length)throw new a.ListError(this.user,`Invalid index ${x}`);const K=this.view.getScrollTop(),le=this.view.elementTop(x),ae=this.view.elementHeight(x);if((0,s.isNumber)(V)){const Q=ae-this.view.renderHeight;this.view.setScrollTop(Q*(0,d.clamp)(V,0,1)+le)}else{const Q=le+ae,q=K+this.view.renderHeight;le<K&&Q>=q||(le<K||Q>=q&&ae>=this.view.renderHeight?this.view.setScrollTop(le):Q>=q&&this.view.setScrollTop(Q-this.view.renderHeight))}}getRelativeTop(x){if(x<0||x>=this.length)throw new a.ListError(this.user,`Invalid index ${x}`);const V=this.view.getScrollTop(),K=this.view.elementTop(x),le=this.view.elementHeight(x);if(K<V||K+le>V+this.view.renderHeight)return null;const ae=le-this.view.renderHeight;return Math.abs((V-K)/ae)}getHTMLElement(){return this.view.domNode}style(x){this.styleController.style(x)}toListEvent({indexes:x,browserEvent:V}){return{indexes:x,elements:x.map(K=>this.view.element(K)),browserEvent:V}}_onFocusChange(){const x=this.focus.get();this.view.domNode.classList.toggle("element-focused",x.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var x;const V=this.focus.get();if(V.length>0){let K;((x=this.accessibilityProvider)===null||x===void 0?void 0:x.getActiveDescendantId)&&(K=this.accessibilityProvider.getActiveDescendantId(this.view.element(V[0]))),this.view.domNode.setAttribute("aria-activedescendant",K||this.view.getElementDomId(V[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const x=this.selection.get();this.view.domNode.classList.toggle("selection-none",x.length===0),this.view.domNode.classList.toggle("selection-single",x.length===1),this.view.domNode.classList.toggle("selection-multiple",x.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Ie([i.memoize],oe.prototype,"onDidChangeFocus",null),Ie([i.memoize],oe.prototype,"onDidChangeSelection",null),Ie([i.memoize],oe.prototype,"onContextMenu",null),Ie([i.memoize],oe.prototype,"onKeyDown",null),Ie([i.memoize],oe.prototype,"onDidFocus",null),e.List=oe}),define(re[355],se([1,0,18,21,4,2,122,232]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class _{constructor(n,t){this.renderer=n,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(n){return{data:this.renderer.renderTemplate(n),disposable:I.Disposable.None}}renderElement(n,t,o,d){if(o.disposable&&o.disposable.dispose(),!o.data)return;const r=this.modelProvider();if(r.isResolved(n))return this.renderer.renderElement(r.get(n),n,o.data,d);const c=new m.CancellationTokenSource,s=r.resolve(n,c.token);o.disposable={dispose:()=>c.cancel()},this.renderer.renderPlaceholder(n,o.data),s.then(a=>this.renderer.renderElement(a,n,o.data,d))}disposeTemplate(n){n.disposable&&(n.disposable.dispose(),n.disposable=void 0),n.data&&(this.renderer.disposeTemplate(n.data),n.data=void 0)}}class v{constructor(n,t){this.modelProvider=n,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(n){const t=this.modelProvider();return t.isResolved(n)?this.accessibilityProvider.getAriaLabel(t.get(n)):null}}function u(i,n){return Object.assign(Object.assign({},n),{accessibilityProvider:n.accessibilityProvider&&new v(i,n.accessibilityProvider)})}class h{constructor(n,t,o,d,r={}){const c=()=>this.model,s=d.map(a=>new _(a,c));this.list=new L.List(n,t,o,s,u(c,r))}updateOptions(n){this.list.updateOptions(n)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return k.Event.map(this.list.onMouseDblClick,({element:n,index:t,browserEvent:o})=>({element:n===void 0?void 0:this._model.get(n),index:t,browserEvent:o}))}get onPointer(){return k.Event.map(this.list.onPointer,({element:n,index:t,browserEvent:o})=>({element:n===void 0?void 0:this._model.get(n),index:t,browserEvent:o}))}get onDidChangeSelection(){return k.Event.map(this.list.onDidChangeSelection,({elements:n,indexes:t,browserEvent:o})=>({elements:n.map(d=>this._model.get(d)),indexes:t,browserEvent:o}))}get model(){return this._model}set model(n){this._model=n,this.list.splice(0,this.list.length,(0,E.range)(n.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(n=>this.model.get(n))}style(n){this.list.style(n)}dispose(){this.list.dispose()}}e.PagedList=h}),define(re[356],se([12]),{}),define(re[234],se([1,0,7,121,72,18,30,4,2,117,140,19,356]),function(U,e,E,m,k,I,L,_,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const n={separatorBorder:L.Color.transparent};class t{constructor(l,f,g,b){this.container=l,this.view=f,this.disposable=b,this._cachedVisibleSize=void 0,typeof g=="number"?(this._size=g,this._cachedVisibleSize=void 0,l.classList.add("visible")):(this._size=0,this._cachedVisibleSize=g.cachedVisibleSize)}set size(l){this._size=l}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(l,f){l!==this.visible&&(l?(this.size=(0,u.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof f=="number"?f:this.size,this.size=0),this.container.classList.toggle("visible",l),this.view.setVisible&&this.view.setVisible(l))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(l){this.container.style.pointerEvents=l?"":"none"}layout(l,f){this.layoutContainer(l),this.view.layout(this.size,l,f)}dispose(){return this.disposable.dispose(),this.view}}class o extends t{layoutContainer(l){this.container.style.top=`${l}px`,this.container.style.height=`${this.size}px`}}class d extends t{layoutContainer(l){this.container.style.left=`${l}px`,this.container.style.width=`${this.size}px`}}var r;(function(a){a[a.Idle=0]="Idle",a[a.Busy=1]="Busy"})(r||(r={}));var c;(function(a){a.Distribute={type:"distribute"};function l(g){return{type:"split",index:g}}a.Split=l;function f(g){return{type:"invisible",cachedVisibleSize:g}}a.Invisible=f})(c=e.Sizing||(e.Sizing={}));class s extends v.Disposable{constructor(l,f={}){var g,b,p,C,S;super();this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=r.Idle,this._onDidSashChange=this._register(new _.Emitter),this._onDidSashReset=this._register(new _.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(g=f.orientation)!==null&&g!==void 0?g:0,this.inverseAltBehavior=(b=f.inverseAltBehavior)!==null&&b!==void 0?b:!1,this.proportionalLayout=(p=f.proportionalLayout)!==null&&p!==void 0?p:!0,this.getSashOrthogonalSize=f.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),l.appendChild(this.el),this.sashContainer=(0,E.append)(this.el,(0,E.$)(".sash-container")),this.viewContainer=(0,E.$)(".split-view-container"),this.scrollable=new h.Scrollable({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:E.scheduleAtNextAnimationFrame}),this.scrollableElement=this._register(new k.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(C=f.scrollbarVisibility)!==null&&C!==void 0?C:1:2,horizontal:this.orientation===1?(S=f.scrollbarVisibility)!==null&&S!==void 0?S:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(y=>{this.viewContainer.scrollTop=y.scrollTop,this.viewContainer.scrollLeft=y.scrollLeft})),(0,E.append)(this.el,this.scrollableElement.getDomNode()),this.style(f.styles||n),f.descriptor&&(this.size=f.descriptor.size,f.descriptor.views.forEach((y,w)=>{const T=i.isUndefined(y.visible)||y.visible?y.size:{type:"invisible",cachedVisibleSize:y.size},N=y.view;this.doAddView(N,T,w,!0)}),this.contentSize=this.viewItems.reduce((y,w)=>y+w.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(l){for(const f of this.sashItems)f.sash.orthogonalStartSash=l;this._orthogonalStartSash=l}set orthogonalEndSash(l){for(const f of this.sashItems)f.sash.orthogonalEndSash=l;this._orthogonalEndSash=l}set startSnappingEnabled(l){this._startSnappingEnabled!==l&&(this._startSnappingEnabled=l,this.updateSashEnablement())}set endSnappingEnabled(l){this._endSnappingEnabled!==l&&(this._endSnappingEnabled=l,this.updateSashEnablement())}style(l){l.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",l.separatorBorder.toString()))}addView(l,f,g=this.viewItems.length,b){this.doAddView(l,f,g,b)}layout(l,f){const g=Math.max(this.size,this.contentSize);if(this.size=l,this.layoutContext=f,this.proportions)for(let b=0;b<this.viewItems.length;b++){const p=this.viewItems[b];p.size=(0,u.clamp)(Math.round(this.proportions[b]*l),p.minimumSize,p.maximumSize)}else{const b=(0,I.range)(this.viewItems.length),p=b.filter(S=>this.viewItems[S].priority===1),C=b.filter(S=>this.viewItems[S].priority===2);this.resize(this.viewItems.length-1,l-g,void 0,p,C)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(l=>l.size/this.contentSize))}onSashStart({sash:l,start:f,alt:g}){for(const S of this.viewItems)S.enabled=!1;const b=this.sashItems.findIndex(S=>S.sash===l),p=(0,v.combinedDisposable)((0,E.addDisposableListener)(document.body,"keydown",S=>C(this.sashDragState.current,S.altKey)),(0,E.addDisposableListener)(document.body,"keyup",()=>C(this.sashDragState.current,!1))),C=(S,y)=>{const w=this.viewItems.map(O=>O.size);let T=Number.NEGATIVE_INFINITY,N=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(y=!y),y)if(b===this.sashItems.length-1){const D=this.viewItems[b];T=(D.minimumSize-D.size)/2,N=(D.maximumSize-D.size)/2}else{const D=this.viewItems[b+1];T=(D.size-D.maximumSize)/2,N=(D.size-D.minimumSize)/2}let R,B;if(!y){const O=(0,I.range)(b,-1),D=(0,I.range)(b+1,this.viewItems.length),A=O.reduce((Y,X)=>Y+(this.viewItems[X].minimumSize-w[X]),0),P=O.reduce((Y,X)=>Y+(this.viewItems[X].viewMaximumSize-w[X]),0),F=D.length===0?Number.POSITIVE_INFINITY:D.reduce((Y,X)=>Y+(w[X]-this.viewItems[X].minimumSize),0),W=D.length===0?Number.NEGATIVE_INFINITY:D.reduce((Y,X)=>Y+(w[X]-this.viewItems[X].viewMaximumSize),0),M=Math.max(A,W),z=Math.min(F,P),ee=this.findFirstSnapIndex(O),ie=this.findFirstSnapIndex(D);if(typeof ee=="number"){const Y=this.viewItems[ee],X=Math.floor(Y.viewMinimumSize/2);R={index:ee,limitDelta:Y.visible?M-X:M+X,size:Y.size}}if(typeof ie=="number"){const Y=this.viewItems[ie],X=Math.floor(Y.viewMinimumSize/2);B={index:ie,limitDelta:Y.visible?z+X:z-X,size:Y.size}}}this.sashDragState={start:S,current:S,index:b,sizes:w,minDelta:T,maxDelta:N,alt:y,snapBefore:R,snapAfter:B,disposable:p}};C(f,g)}onSashChange({current:l}){const{index:f,start:g,sizes:b,alt:p,minDelta:C,maxDelta:S,snapBefore:y,snapAfter:w}=this.sashDragState;this.sashDragState.current=l;const T=l-g,N=this.resize(f,T,b,void 0,void 0,C,S,y,w);if(p){const R=f===this.sashItems.length-1,B=this.viewItems.map(W=>W.size),O=R?f:f+1,D=this.viewItems[O],A=D.size-D.maximumSize,P=D.size-D.minimumSize,F=R?f-1:f+1;this.resize(F,-N,B,void 0,void 0,A,P)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(l){this._onDidSashChange.fire(l),this.sashDragState.disposable.dispose(),this.saveProportions();for(const f of this.viewItems)f.enabled=!0}onViewChange(l,f){const g=this.viewItems.indexOf(l);g<0||g>=this.viewItems.length||(f=typeof f=="number"?f:l.size,f=(0,u.clamp)(f,l.minimumSize,l.maximumSize),this.inverseAltBehavior&&g>0?(this.resize(g-1,Math.floor((l.size-f)/2)),this.distributeEmptySpace(),this.layoutViews()):(l.size=f,this.relayout([g],void 0)))}resizeView(l,f){if(this.state!==r.Idle)throw new Error("Cant modify splitview");if(this.state=r.Busy,l<0||l>=this.viewItems.length)return;const g=(0,I.range)(this.viewItems.length).filter(S=>S!==l),b=[...g.filter(S=>this.viewItems[S].priority===1),l],p=g.filter(S=>this.viewItems[S].priority===2),C=this.viewItems[l];f=Math.round(f),f=(0,u.clamp)(f,C.minimumSize,Math.min(C.maximumSize,this.size)),C.size=f,this.relayout(b,p),this.state=r.Idle}distributeViewSizes(){const l=[];let f=0;for(const S of this.viewItems)S.maximumSize-S.minimumSize>0&&(l.push(S),f+=S.size);const g=Math.floor(f/l.length);for(const S of l)S.size=(0,u.clamp)(g,S.minimumSize,S.maximumSize);const b=(0,I.range)(this.viewItems.length),p=b.filter(S=>this.viewItems[S].priority===1),C=b.filter(S=>this.viewItems[S].priority===2);this.relayout(p,C)}getViewSize(l){return l<0||l>=this.viewItems.length?-1:this.viewItems[l].size}doAddView(l,f,g=this.viewItems.length,b){if(this.state!==r.Idle)throw new Error("Cant modify splitview");this.state=r.Busy;const p=(0,E.$)(".split-view-view");g===this.viewItems.length?this.viewContainer.appendChild(p):this.viewContainer.insertBefore(p,this.viewContainer.children.item(g));const C=l.onDidChange(R=>this.onViewChange(T,R)),S=(0,v.toDisposable)(()=>this.viewContainer.removeChild(p)),y=(0,v.combinedDisposable)(C,S);let w;typeof f=="number"?w=f:f.type==="split"?w=this.getViewSize(f.index)/2:f.type==="invisible"?w={cachedVisibleSize:f.cachedVisibleSize}:w=l.minimumSize;const T=this.orientation===0?new o(p,l,w,y):new d(p,l,w,y);if(this.viewItems.splice(g,0,T),this.viewItems.length>1){let R={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const B=this.orientation===0?new m.Sash(this.sashContainer,{getHorizontalSashTop:Y=>this.getSashPosition(Y),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},R),{orientation:1})):new m.Sash(this.sashContainer,{getVerticalSashLeft:Y=>this.getSashPosition(Y),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},R),{orientation:0})),O=this.orientation===0?Y=>({sash:B,start:Y.startY,current:Y.currentY,alt:Y.altKey}):Y=>({sash:B,start:Y.startX,current:Y.currentX,alt:Y.altKey}),A=_.Event.map(B.onDidStart,O)(this.onSashStart,this),F=_.Event.map(B.onDidChange,O)(this.onSashChange,this),M=_.Event.map(B.onDidEnd,()=>this.sashItems.findIndex(Y=>Y.sash===B))(this.onSashEnd,this),z=B.onDidReset(()=>{const Y=this.sashItems.findIndex(x=>x.sash===B),X=(0,I.range)(Y,-1),J=(0,I.range)(Y+1,this.viewItems.length),oe=this.findFirstSnapIndex(X),G=this.findFirstSnapIndex(J);typeof oe=="number"&&!this.viewItems[oe].visible||typeof G=="number"&&!this.viewItems[G].visible||this._onDidSashReset.fire(Y)}),ee=(0,v.combinedDisposable)(A,F,M,z,B),ie={sash:B,disposable:ee};this.sashItems.splice(g-1,0,ie)}p.appendChild(l.element);let N;typeof f!="number"&&f.type==="split"&&(N=[f.index]),b||this.relayout([g],N),this.state=r.Idle,!b&&typeof f!="number"&&f.type==="distribute"&&this.distributeViewSizes()}relayout(l,f){const g=this.viewItems.reduce((b,p)=>b+p.size,0);this.resize(this.viewItems.length-1,this.size-g,void 0,l,f),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(l,f,g=this.viewItems.map(T=>T.size),b,p,C=Number.NEGATIVE_INFINITY,S=Number.POSITIVE_INFINITY,y,w){if(l<0||l>=this.viewItems.length)return 0;const T=(0,I.range)(l,-1),N=(0,I.range)(l+1,this.viewItems.length);if(p)for(const ie of p)(0,I.pushToStart)(T,ie),(0,I.pushToStart)(N,ie);if(b)for(const ie of b)(0,I.pushToEnd)(T,ie),(0,I.pushToEnd)(N,ie);const R=T.map(ie=>this.viewItems[ie]),B=T.map(ie=>g[ie]),O=N.map(ie=>this.viewItems[ie]),D=N.map(ie=>g[ie]),A=T.reduce((ie,Y)=>ie+(this.viewItems[Y].minimumSize-g[Y]),0),P=T.reduce((ie,Y)=>ie+(this.viewItems[Y].maximumSize-g[Y]),0),F=N.length===0?Number.POSITIVE_INFINITY:N.reduce((ie,Y)=>ie+(g[Y]-this.viewItems[Y].minimumSize),0),W=N.length===0?Number.NEGATIVE_INFINITY:N.reduce((ie,Y)=>ie+(g[Y]-this.viewItems[Y].maximumSize),0),M=Math.max(A,W,C),z=Math.min(F,P,S);let ee=!1;if(y){const ie=this.viewItems[y.index],Y=f>=y.limitDelta;ee=Y!==ie.visible,ie.setVisible(Y,y.size)}if(!ee&&w){const ie=this.viewItems[w.index],Y=f<w.limitDelta;ee=Y!==ie.visible,ie.setVisible(Y,w.size)}if(ee)return this.resize(l,f,g,b,p,C,S);f=(0,u.clamp)(f,M,z);for(let ie=0,Y=f;ie<R.length;ie++){const X=R[ie],J=(0,u.clamp)(B[ie]+Y,X.minimumSize,X.maximumSize);Y-=J-B[ie],X.size=J}for(let ie=0,Y=f;ie<O.length;ie++){const X=O[ie],J=(0,u.clamp)(D[ie]-Y,X.minimumSize,X.maximumSize);Y+=J-D[ie],X.size=J}return f}distributeEmptySpace(l){const f=this.viewItems.reduce((S,y)=>S+y.size,0);let g=this.size-f;const b=(0,I.range)(this.viewItems.length-1,-1),p=b.filter(S=>this.viewItems[S].priority===1),C=b.filter(S=>this.viewItems[S].priority===2);for(const S of C)(0,I.pushToStart)(b,S);for(const S of p)(0,I.pushToEnd)(b,S);typeof l=="number"&&(0,I.pushToEnd)(b,l);for(let S=0;g!==0&&S<b.length;S++){const y=this.viewItems[b[S]],w=(0,u.clamp)(y.size+g,y.minimumSize,y.maximumSize);g-=w-y.size,y.size=w}}layoutViews(){this.contentSize=this.viewItems.reduce((f,g)=>f+g.size,0);let l=0;for(const f of this.viewItems)f.layout(l,this.layoutContext),l+=f.size;this.sashItems.forEach(f=>f.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let l=!1;const f=this.viewItems.map(y=>l=y.size-y.minimumSize>0||l);l=!1;const g=this.viewItems.map(y=>l=y.maximumSize-y.size>0||l),b=[...this.viewItems].reverse();l=!1;const p=b.map(y=>l=y.size-y.minimumSize>0||l).reverse();l=!1;const C=b.map(y=>l=y.maximumSize-y.size>0||l).reverse();let S=0;for(let y=0;y<this.sashItems.length;y++){const{sash:w}=this.sashItems[y];S+=this.viewItems[y].size;const N=!(f[y]&&C[y+1]),R=!(g[y]&&p[y+1]);if(N&&R){const B=(0,I.range)(y,-1),O=(0,I.range)(y+1,this.viewItems.length),D=this.findFirstSnapIndex(B),A=this.findFirstSnapIndex(O),P=typeof D=="number"&&!this.viewItems[D].visible,F=typeof A=="number"&&!this.viewItems[A].visible;P&&p[y]&&(S>0||this.startSnappingEnabled)?w.state=1:F&&f[y]&&(S<this.contentSize||this.endSnappingEnabled)?w.state=2:w.state=0}else N&&!R?w.state=1:!N&&R?w.state=2:w.state=3}}getSashPosition(l){let f=0;for(let g=0;g<this.sashItems.length;g++)if(f+=this.viewItems[g].size,this.sashItems[g].sash===l)return f;return 0}findFirstSnapIndex(l){for(const f of l){const g=this.viewItems[f];if(!!g.visible&&g.snap)return f}for(const f of l){const g=this.viewItems[f];if(g.visible&&g.maximumSize-g.minimumSize>0)return;if(!g.visible&&g.snap)return f}}dispose(){super.dispose(),(0,v.dispose)(this.viewItems),this.viewItems=[],this.sashItems.forEach(l=>l.disposable.dispose()),this.sashItems=[]}}e.SplitView=s}),define(re[357],se([12]),{}),define(re[358],se([1,0,7,122,234,4,2,357]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class _{constructor(n,t,o){this.columns=n,this.getColumnSize=o,this.templateId=_.TemplateId,this.renderedTemplates=new Set;const d=new Map(t.map(r=>[r.templateId,r]));this.renderers=[];for(const r of n){const c=d.get(r.templateId);if(!c)throw new Error(`Table cell renderer for template id ${r.templateId} not found.`);this.renderers.push(c)}}renderTemplate(n){const t=(0,E.append)(n,(0,E.$)(".monaco-table-tr")),o=[],d=[];for(let c=0;c<this.columns.length;c++){const s=this.renderers[c],a=(0,E.append)(t,(0,E.$)(".monaco-table-td",{"data-col-index":c}));a.style.width=`${this.getColumnSize(c)}px`,o.push(a),d.push(s.renderTemplate(a))}const r={container:n,cellContainers:o,cellTemplateData:d};return this.renderedTemplates.add(r),r}renderElement(n,t,o,d){for(let r=0;r<this.columns.length;r++){const s=this.columns[r].project(n);this.renderers[r].renderElement(s,t,o.cellTemplateData[r],d)}}disposeElement(n,t,o,d){for(let r=0;r<this.columns.length;r++){const c=this.renderers[r];if(c.disposeElement){const a=this.columns[r].project(n);c.disposeElement(a,t,o.cellTemplateData[r],d)}}}disposeTemplate(n){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(n.cellTemplateData[t]);(0,E.clearNode)(n.container),this.renderedTemplates.delete(n)}layoutColumn(n,t){for(const{cellContainers:o}of this.renderedTemplates)o[n].style.width=`${t}px`}}_.TemplateId="row";function v(i){return{getHeight(n){return i.getHeight(n)},getTemplateId(){return _.TemplateId}}}class u{constructor(n,t){this.column=n,this.index=t,this._onDidLayout=new I.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,E.$)(".monaco-table-th",{"data-col-index":t,title:n.tooltip},n.label)}get minimumSize(){var n;return(n=this.column.minimumWidth)!==null&&n!==void 0?n:120}get maximumSize(){var n;return(n=this.column.maximumWidth)!==null&&n!==void 0?n:Number.POSITIVE_INFINITY}get onDidChange(){var n;return(n=this.column.onDidChangeWidthConstraints)!==null&&n!==void 0?n:I.Event.None}layout(n){this._onDidLayout.fire([this.index,n])}}class h{constructor(n,t,o,d,r,c){this.virtualDelegate=o,this.domId=`table_id_${++h.InstanceCount}`,this.disposables=new L.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,E.append)(t,(0,E.$)(`.monaco-table.${this.domId}`));const s=d.map((f,g)=>new u(f,g)),a={size:s.reduce((f,g)=>f+g.column.weight,0),views:s.map(f=>({size:f.column.weight,view:f}))};this.splitview=this.disposables.add(new k.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:a})),this.splitview.el.style.height=`${o.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${o.headerRowHeight}px`;const l=new _(d,r,f=>this.splitview.getViewSize(f));this.list=this.disposables.add(new m.List(n,this.domNode,v(o),[l],c)),I.Event.any(...s.map(f=>f.onDidLayout))(([f,g])=>l.layoutColumn(f,g),null,this.disposables),this.splitview.onDidSashReset(f=>{const g=d.reduce((p,C)=>p+C.weight,0),b=d[f].weight/g*this.cachedWidth;this.splitview.resizeView(f,b)},null,this.disposables),this.styleElement=(0,E.createStyleSheet)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(n){this.list.updateOptions(n)}splice(n,t,o=[]){this.list.splice(n,t,o)}getHTMLElement(){return this.domNode}style(n){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(n)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}e.Table=h,h.InstanceCount=0}),define(re[359],se([12]),{}),define(re[178],se([1,0,66,28,30,4,359]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toggle=void 0;const L={inputActiveOptionBorder:k.Color.fromHex("#007ACC00"),inputActiveOptionForeground:k.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:k.Color.fromHex("#0E639C50")};class _ extends E.Widget{constructor(u){super();this._onChange=this._register(new I.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new I.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},L),u),this._checked=this._opts.isChecked;const h=["monaco-custom-toggle"];this._opts.icon&&h.push(...m.CSSIcon.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&h.push(...this._opts.actionClassName.split(" ")),this._checked&&h.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...h),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,i=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),i.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,i=>{if(i.keyCode===10||i.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),i.preventDefault();return}this._onKeyDown.fire(i)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(u){this._checked=u,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(u){u.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=u.inputActiveOptionBorder),u.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=u.inputActiveOptionForeground),u.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=u.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Toggle=_}),define(re[360],se([12]),{}),define(re[145],se([12]),{}),define(re[235],se([1,0,7,136,145]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClass=void 0;const k={},I=new m.IdGenerator("quick-input-button-icon-");function L(_){if(!_)return;let v;const u=_.dark.toString();return k[u]?v=k[u]:(v=I.nextId(),E.createCSSRule(`.${v}, .hc-light .${v}`,`background-image: ${E.asCSSUrl(_.light||_.dark)}`),E.createCSSRule(`.vs-dark .${v}, .hc-black .${v}`,`background-image: ${E.asCSSUrl(_.dark)}`),k[u]=v),v}e.getIconClass=L}),define(re[361],se([12]),{}),define(re[362],se([12]),{}),define(re[363],se([12]),{}),define(re[364],se([12]),{}),define(re[365],se([12]),{}),define(re[366],se([12]),{}),define(re[367],se([12]),{}),define(re[368],se([12]),{}),define(re[369],se([12]),{}),define(re[370],se([12]),{}),define(re[371],se([12]),{}),define(re[372],se([12]),{}),define(re[373],se([12]),{}),define(re[374],se([12]),{}),define(re[375],se([12]),{}),define(re[376],se([12]),{}),define(re[377],se([12]),{}),define(re[378],se([12]),{}),define(re[379],se([12]),{}),define(re[380],se([12]),{}),define(re[381],se([12]),{}),define(re[382],se([12]),{}),define(re[383],se([12]),{}),define(re[384],se([12]),{}),define(re[385],se([12]),{}),define(re[386],se([12]),{}),define(re[387],se([12]),{}),define(re[388],se([12]),{}),define(re[389],se([12]),{}),define(re[390],se([12]),{}),define(re[391],se([12]),{}),define(re[392],se([12]),{}),define(re[393],se([12]),{}),define(re[394],se([12]),{}),define(re[395],se([12]),{}),define(re[396],se([12]),{}),define(re[397],se([12]),{}),define(re[398],se([12]),{}),define(re[399],se([12]),{}),define(re[400],se([12]),{}),define(re[401],se([12]),{}),define(re[402],se([12]),{}),define(re[403],se([12]),{}),define(re[404],se([12]),{}),define(re[405],se([12]),{}),define(re[406],se([12]),{}),define(re[407],se([12]),{}),define(re[236],se([1,0,2,4]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class k extends E.Disposable{constructor(L,_){super();this._onDidChange=this._register(new m.Emitter),this.onDidChange=this._onDidChange.event,this._referenceDomElement=L,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,_)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(L=>{L&&L[0]&&L[0].contentRect?this.observe({width:L[0].contentRect.width,height:L[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(L){this.measureReferenceDomElement(!0,L)}measureReferenceDomElement(L,_){let v=0,u=0;_?(v=_.width,u=_.height):this._referenceDomElement&&(v=this._referenceDomElement.clientWidth,u=this._referenceDomElement.clientHeight),v=Math.max(5,v),u=Math.max(5,u),(this._width!==v||this._height!==u)&&(this._width=v,this._height=u,L&&this._onDidChange.fire())}}e.ElementSizeObserver=k}),define(re[408],se([1,0,220]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.migrateOptions=e.EditorSettingMigration=void 0;class m{constructor(u,h){this.key=u,this.migrate=h}apply(u){const h=m._read(u,this.key),i=t=>m._read(u,t),n=(t,o)=>m._write(u,t,o);this.migrate(h,i,n)}static _read(u,h){if(typeof u=="undefined")return;const i=h.indexOf(".");if(i>=0){const n=h.substring(0,i);return this._read(u[n],h.substring(i+1))}return u[h]}static _write(u,h,i){const n=h.indexOf(".");if(n>=0){const t=h.substring(0,n);u[t]=u[t]||{},this._write(u[t],h.substring(n+1),i);return}u[h]=i}}e.EditorSettingMigration=m,m.items=[];function k(v,u){m.items.push(new m(v,u))}function I(v,u){k(v,(h,i,n)=>{if(typeof h!="undefined"){for(const[t,o]of u)if(h===t){n(v,o);return}}})}function L(v){m.items.forEach(u=>u.apply(v))}e.migrateOptions=L,I("wordWrap",[[!0,"on"],[!1,"off"]]),I("lineNumbers",[[!0,"on"],[!1,"off"]]),I("cursorBlinking",[["visible","solid"]]),I("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),I("renderLineHighlight",[[!0,"line"],[!1,"none"]]),I("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),I("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),I("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),I("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),I("autoIndent",[[!1,"advanced"],[!0,"full"]]),I("matchBrackets",[[!0,"always"],[!1,"never"]]),k("autoClosingBrackets",(v,u,h)=>{v===!1&&(h("autoClosingBrackets","never"),typeof u("autoClosingQuotes")=="undefined"&&h("autoClosingQuotes","never"),typeof u("autoSurround")=="undefined"&&h("autoSurround","never"))}),k("renderIndentGuides",(v,u,h)=>{typeof v!="undefined"&&(h("renderIndentGuides",void 0),typeof u("guides.indentation")=="undefined"&&h("guides.indentation",!!v))}),k("highlightActiveIndentGuide",(v,u,h)=>{typeof v!="undefined"&&(h("highlightActiveIndentGuide",void 0),typeof u("guides.highlightActiveIndentation")=="undefined"&&h("guides.highlightActiveIndentation",!!v))});const _={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};k("suggest.filteredTypes",(v,u,h)=>{v&&typeof v=="object"&&((0,E.forEach)(_,i=>{v[i.key]===!1&&typeof u(`suggest.${i.value}`)=="undefined"&&h(`suggest.${i.value}`,!1)}),h("suggest.filteredTypes",void 0))})}),define(re[237],se([1,0,4]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabFocus=void 0;class m{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new E.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(I){this._tabFocus!==I&&(this._tabFocus=I,this._onDidChangeTabFocus.fire(this._tabFocus))}}e.TabFocus=new m}),define(re[146],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=void 0;class E{constructor(k,I,L){this._visiblePosition=k,this._visiblePositionScrollDelta=I,this._cursorPosition=L}static capture(k){let I=null,L=0;if(k.getScrollTop()!==0){const _=k.getVisibleRanges();if(_.length>0){I=_[0].getStartPosition();const v=k.getTopForPosition(I.lineNumber,I.column);L=k.getScrollTop()-v}}return new E(I,L,k.getPosition())}restore(k){if(this._visiblePosition){const I=k.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);k.setScrollTop(I+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(k){const I=k.getPosition();if(!this._cursorPosition||!I)return;const L=k.getTopForLineNumber(I.lineNumber)-k.getTopForLineNumber(this._cursorPosition.lineNumber);k.setScrollTop(k.getScrollTop()+L)}}e.StableEditorScrollState=E}),define(re[123],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class E{constructor(h,i){this._restrictedRenderingContextBrand=void 0,this._viewLayout=h,this.viewportData=i,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const n=this._viewLayout.getCurrentViewport();this.scrollTop=n.top,this.scrollLeft=n.left,this.viewportWidth=n.width,this.viewportHeight=n.height}getScrolledTopFromAbsoluteTop(h){return h-this.scrollTop}getVerticalOffsetForLineNumber(h){return this._viewLayout.getVerticalOffsetForLineNumber(h)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=E;class m extends E{constructor(h,i,n){super(h,i);this._renderingContextBrand=void 0,this._viewLines=n}linesVisibleRangesForRange(h,i){return this._viewLines.linesVisibleRangesForRange(h,i)}visibleRangeForPosition(h){return this._viewLines.visibleRangeForPosition(h)}}e.RenderingContext=m;class k{constructor(h,i,n){this.outsideRenderedLine=h,this.lineNumber=i,this.ranges=n}}e.LineVisibleRanges=k;class I{constructor(h,i){this._horizontalRangeBrand=void 0,this.left=Math.round(h),this.width=Math.round(i)}static from(h){const i=new Array(h.length);for(let n=0,t=h.length;n<t;n++){const o=h[n];i[n]=new I(o.left,o.width)}return i}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=I;class L{constructor(h,i){this._floatHorizontalRangeBrand=void 0,this.left=h,this.width=i}toString(){return`[${this.left},${this.width}]`}static compare(h,i){return h.left-i.left}}e.FloatHorizontalRange=L;class _{constructor(h,i){this.outsideRenderedLine=h,this.originalLeft=i,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=_;class v{constructor(h,i){this.outsideRenderedLine=h,this.ranges=i}}e.VisibleRanges=v}),define(re[238],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class E{constructor(k){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=k}emitKeyDown(k){this.onKeyDown&&this.onKeyDown(k)}emitKeyUp(k){this.onKeyUp&&this.onKeyUp(k)}emitContextMenu(k){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(k))}emitMouseMove(k){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(k))}emitMouseLeave(k){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(k))}emitMouseDown(k){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(k))}emitMouseUp(k){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(k))}emitMouseDrag(k){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(k))}emitMouseDrop(k){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(k))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(k){this.onMouseWheel&&this.onMouseWheel(k)}_convertViewToModelMouseEvent(k){return k.target?{event:k.event,target:this._convertViewToModelMouseTarget(k.target)}:k}_convertViewToModelMouseTarget(k){return E.convertViewToModelMouseTarget(k,this._coordinatesConverter)}static convertViewToModelMouseTarget(k,I){const L=Object.assign({},k);return L.position&&(L.position=I.convertViewPositionToModelPosition(L.position)),L.range&&(L.range=I.convertViewRangeToModelRange(L.range)),L}}e.ViewUserInputEvents=E}),define(re[409],se([1,0,123]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class m{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(I,L){I.selectNodeContents(L)}static _readClientRects(I,L,_,v,u){const h=this._createRange();try{return h.setStart(I,L),h.setEnd(_,v),h.getClientRects()}catch{return null}finally{this._detachRange(h,u)}}static _mergeAdjacentRanges(I){if(I.length===1)return I;I.sort(E.FloatHorizontalRange.compare);const L=[];let _=0,v=I[0];for(let u=1,h=I.length;u<h;u++){const i=I[u];v.left+v.width+.9>=i.left?v.width=Math.max(v.width,i.left+i.width-v.left):(L[_++]=v,v=i)}return L[_++]=v,L}static _createHorizontalRangesFromClientRects(I,L,_){if(!I||I.length===0)return null;const v=[];for(let u=0,h=I.length;u<h;u++){const i=I[u];v[u]=new E.FloatHorizontalRange(Math.max(0,(i.left-L)/_),i.width/_)}return this._mergeAdjacentRanges(v)}static readHorizontalRanges(I,L,_,v,u,h,i,n){const t=0,o=I.children.length-1;if(t>o)return null;if(L=Math.min(o,Math.max(t,L)),v=Math.min(o,Math.max(t,v)),L===v&&_===u&&_===0&&!I.children[L].firstChild){const s=I.children[L].getClientRects();return this._createHorizontalRangesFromClientRects(s,h,i)}L!==v&&v>0&&u===0&&(v--,u=1073741824);let d=I.children[L].firstChild,r=I.children[v].firstChild;if((!d||!r)&&(!d&&_===0&&L>0&&(d=I.children[L-1].firstChild,_=1073741824),!r&&u===0&&v>0&&(r=I.children[v-1].firstChild,u=1073741824)),!d||!r)return null;_=Math.min(d.textContent.length,Math.max(0,_)),u=Math.min(r.textContent.length,Math.max(0,u));const c=this._readClientRects(d,_,r,u,n);return this._createHorizontalRangesFromClientRects(c,h,i)}}e.RangeUtil=m}),define(re[239],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const m=[];for(let k=32;k<=126;k++)m.push(k);return m.push(65533),m})();const E=(m,k)=>(m-=32,m<0||m>96?k<=2?(m+96)%96:96-1:m);e.getCharIndex=E}),define(re[410],se([1,0,239,142]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class k{constructor(L,_){this.scale=_,this._minimapCharRendererBrand=void 0,this.charDataNormal=k.soften(L,12/15),this.charDataLight=k.soften(L,50/60)}static soften(L,_){const v=new Uint8ClampedArray(L.length);for(let u=0,h=L.length;u<h;u++)v[u]=(0,m.toUint8)(L[u]*_);return v}renderChar(L,_,v,u,h,i,n,t,o,d,r){const c=1*this.scale,s=2*this.scale,a=r?1:s;if(_+c>L.width||v+a>L.height){console.warn("bad render request outside image data");return}const l=d?this.charDataLight:this.charDataNormal,f=(0,E.getCharIndex)(u,o),g=L.width*4,b=n.r,p=n.g,C=n.b,S=h.r-b,y=h.g-p,w=h.b-C,T=Math.max(i,t),N=L.data;let R=f*c*s,B=v*g+_*4;for(let O=0;O<a;O++){let D=B;for(let A=0;A<c;A++){const P=l[R++]/255*(i/255);N[D++]=b+S*P,N[D++]=p+y*P,N[D++]=C+w*P,N[D++]=T}B+=g}}blockRenderChar(L,_,v,u,h,i,n,t){const o=1*this.scale,d=2*this.scale,r=t?1:d;if(_+o>L.width||v+r>L.height){console.warn("bad render request outside image data");return}const c=L.width*4,s=.5*(h/255),a=i.r,l=i.g,f=i.b,g=u.r-a,b=u.g-l,p=u.b-f,C=a+g*s,S=l+b*s,y=f+p*s,w=Math.max(h,n),T=L.data;let N=v*c+_*4;for(let R=0;R<r;R++){let B=N;for(let O=0;O<o;O++)T[B++]=C,T[B++]=S,T[B++]=y,T[B++]=w;N+=c}}}e.MinimapCharRenderer=k}),define(re[411],se([1,0,92]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const m={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,A:10,B:11,C:12,D:13,E:14,F:15},k=I=>{const L=new Uint8ClampedArray(I.length/2);for(let _=0;_<I.length;_+=2)L[_>>1]=m[I[_]]<<4|m[I[_+1]]&15;return L};e.prebakedMiniMaps={1:(0,E.once)(()=>k("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,E.once)(()=>k("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(re[412],se([1,0,410,239,411,142]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class L{static create(v,u){if(this.lastCreated&&v===this.lastCreated.scale&&u===this.lastFontFamily)return this.lastCreated;let h;return k.prebakedMiniMaps[v]?h=new E.MinimapCharRenderer(k.prebakedMiniMaps[v](),v):h=L.createFromSampleData(L.createSampleData(u).data,v),this.lastFontFamily=u,this.lastCreated=h,h}static createSampleData(v){const u=document.createElement("canvas"),h=u.getContext("2d");u.style.height=`${16}px`,u.height=16,u.width=96*10,u.style.width=96*10+"px",h.fillStyle="#ffffff",h.font=`bold ${16}px ${v}`,h.textBaseline="middle";let i=0;for(const n of m.allCharCodes)h.fillText(String.fromCharCode(n),i,16/2),i+=10;return h.getImageData(0,0,96*10,16)}static createFromSampleData(v,u){const h=16*10*4*96;if(v.length!==h)throw new Error("Unexpected source in MinimapCharRenderer");const i=L._downsample(v,u);return new E.MinimapCharRenderer(i,u)}static _downsampleChar(v,u,h,i,n){const t=1*n,o=2*n;let d=i,r=0;for(let c=0;c<o;c++){const s=c/o*16,a=(c+1)/o*16;for(let l=0;l<t;l++){const f=l/t*10,g=(l+1)/t*10;let b=0,p=0;for(let S=s;S<a;S++){const y=u+Math.floor(S)*3840,w=1-(S-Math.floor(S));for(let T=f;T<g;T++){const N=1-(T-Math.floor(T)),R=y+Math.floor(T)*4,B=N*w;p+=B,b+=v[R]*v[R+3]/255*B}}const C=b/p;r=Math.max(r,C),h[d++]=(0,I.toUint8)(C)}}return r}static _downsample(v,u){const h=2*u*1*u,i=h*96,n=new Uint8ClampedArray(i);let t=0,o=0,d=0;for(let r=0;r<96;r++)d=Math.max(d,this._downsampleChar(v,o,n,t,u)),t+=h,o+=10*4;if(d>0){const r=255/d;for(let c=0;c<i;c++)n[c]*=r}return n}}e.MinimapCharRendererFactory=L}),define(re[147],se([1,0,4]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new E.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(m){m=Math.min(Math.max(-5,m),20),this._zoomLevel!==m&&(this._zoomLevel=m,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(re[179],se([1,0,17,147]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const k=E.isMacintosh?1.5:1.35,I=8;class L{constructor(u){this._bareFontInfoBrand=void 0,this.pixelRatio=u.pixelRatio,this.fontFamily=String(u.fontFamily),this.fontWeight=String(u.fontWeight),this.fontSize=u.fontSize,this.fontFeatureSettings=u.fontFeatureSettings,this.lineHeight=u.lineHeight|0,this.letterSpacing=u.letterSpacing}static createFromValidatedSettings(u,h,i){const n=u.get(43),t=u.get(47),o=u.get(46),d=u.get(45),r=u.get(59),c=u.get(56);return L._create(n,t,o,d,r,c,h,i)}static _create(u,h,i,n,t,o,d,r){t===0?t=k*i:t<I&&(t=t*i),t=Math.round(t),t<I&&(t=I);const c=1+(r?0:m.EditorZoom.getZoomLevel()*.1);return i*=c,t*=c,new L({pixelRatio:d,fontFamily:u,fontWeight:h,fontSize:i,fontFeatureSettings:n,lineHeight:t,letterSpacing:o})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(u){const h=L._wrapInQuotes(this.fontFamily);return u&&this.fontFamily!==u?`${h}, ${u}`:h}static _wrapInQuotes(u){return/[,"']/.test(u)?u:/[+ ]/.test(u)?`"${u}"`:u}}e.BareFontInfo=L,e.SERIALIZED_FONT_INFO_VERSION=1;class _ extends L{constructor(u,h){super(u);this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=h,this.isMonospace=u.isMonospace,this.typicalHalfwidthCharacterWidth=u.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=u.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=u.canUseHalfwidthRightwardsArrow,this.spaceWidth=u.spaceWidth,this.middotWidth=u.middotWidth,this.wsmiddotWidth=u.wsmiddotWidth,this.maxDigitWidth=u.maxDigitWidth}equals(u){return this.fontFamily===u.fontFamily&&this.fontWeight===u.fontWeight&&this.fontSize===u.fontSize&&this.fontFeatureSettings===u.fontFeatureSettings&&this.lineHeight===u.lineHeight&&this.letterSpacing===u.letterSpacing&&this.typicalHalfwidthCharacterWidth===u.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===u.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===u.canUseHalfwidthRightwardsArrow&&this.spaceWidth===u.spaceWidth&&this.middotWidth===u.middotWidth&&this.wsmiddotWidth===u.wsmiddotWidth&&this.maxDigitWidth===u.maxDigitWidth}}e.FontInfo=_}),define(re[102],se([1,0,142]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class m{constructor(L){const _=(0,E.toUint8)(L);this._defaultValue=_,this._asciiMap=m._createAsciiMap(_),this._map=new Map}static _createAsciiMap(L){const _=new Uint8Array(256);for(let v=0;v<256;v++)_[v]=L;return _}set(L,_){const v=(0,E.toUint8)(_);L>=0&&L<256?this._asciiMap[L]=v:this._map.set(L,v)}get(L){return L>=0&&L<256?this._asciiMap[L]:this._map.get(L)||this._defaultValue}}e.CharacterClassifier=m;class k{constructor(){this._actual=new m(0)}add(L){this._actual.set(L,1)}has(L){return this._actual.get(L)===1}}e.CharacterSet=k}),define(re[73],se([1,0,8]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class m{static _nextVisibleColumn(I,L,_){return I===9?m.nextRenderTabStop(L,_):E.isFullWidthCharacter(I)||E.isEmojiImprecise(I)?L+2:L+1}static visibleColumnFromColumn(I,L,_){const v=Math.min(L-1,I.length),u=I.substring(0,v),h=new E.GraphemeIterator(u);let i=0;for(;!h.eol();){const n=E.getNextCodePoint(u,v,h.offset);h.nextGraphemeLength(),i=this._nextVisibleColumn(n,i,_)}return i}static columnFromVisibleColumn(I,L,_){if(L<=0)return 1;const v=I.length,u=new E.GraphemeIterator(I);let h=0,i=1;for(;!u.eol();){const n=E.getNextCodePoint(I,v,u.offset);u.nextGraphemeLength();const t=this._nextVisibleColumn(n,h,_),o=u.offset+1;if(t>=L){const d=L-h;return t-L<d?o:i}h=t,i=o}return v+1}static nextRenderTabStop(I,L){return I+L-I%L}static nextIndentTabStop(I,L){return I+L-I%L}static prevRenderTabStop(I,L){return Math.max(0,I-1-(I-1)%L)}static prevIndentTabStop(I,L){return Math.max(0,I-1-(I-1)%L)}}e.CursorColumns=m}),define(re[124],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countEOL=void 0;function E(m){let k=0,I=0,L=0,_=0;for(let v=0,u=m.length;v<u;v++){const h=m.charCodeAt(v);h===13?(k===0&&(I=v),k++,v+1<u&&m.charCodeAt(v+1)===10?(_|=2,v++):_|=3,L=v+1):h===10&&(_|=1,k===0&&(I=v),k++,L=v+1)}return k===0&&(I=m.length),[k,I,m.length-L,_]}e.countEOL=E}),define(re[180],se([1,0,8]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeIndentation=void 0;function m(I,L,_){let v=0;for(let h=0;h<I.length;h++)I.charAt(h)==="	"?v+=L:v++;let u="";if(!_){const h=Math.floor(v/L);v=v%L;for(let i=0;i<h;i++)u+="	"}for(let h=0;h<v;h++)u+=" ";return u}function k(I,L,_){let v=E.firstNonWhitespaceIndex(I);return v===-1&&(v=I.length),m(I.substring(0,v),L,_)+I.substring(v)}e.normalizeIndentation=k}),define(re[11],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class E{constructor(k,I){this.lineNumber=k,this.column=I}with(k=this.lineNumber,I=this.column){return k===this.lineNumber&&I===this.column?this:new E(k,I)}delta(k=0,I=0){return this.with(this.lineNumber+k,this.column+I)}equals(k){return E.equals(this,k)}static equals(k,I){return!k&&!I?!0:!!k&&!!I&&k.lineNumber===I.lineNumber&&k.column===I.column}isBefore(k){return E.isBefore(this,k)}static isBefore(k,I){return k.lineNumber<I.lineNumber?!0:I.lineNumber<k.lineNumber?!1:k.column<I.column}isBeforeOrEqual(k){return E.isBeforeOrEqual(this,k)}static isBeforeOrEqual(k,I){return k.lineNumber<I.lineNumber?!0:I.lineNumber<k.lineNumber?!1:k.column<=I.column}static compare(k,I){const L=k.lineNumber|0,_=I.lineNumber|0;if(L===_){const v=k.column|0,u=I.column|0;return v-u}return L-_}clone(){return new E(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(k){return new E(k.lineNumber,k.column)}static isIPosition(k){return k&&typeof k.lineNumber=="number"&&typeof k.column=="number"}}e.Position=E}),define(re[3],se([1,0,11]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class m{constructor(I,L,_,v){I>_||I===_&&L>v?(this.startLineNumber=_,this.startColumn=v,this.endLineNumber=I,this.endColumn=L):(this.startLineNumber=I,this.startColumn=L,this.endLineNumber=_,this.endColumn=v)}isEmpty(){return m.isEmpty(this)}static isEmpty(I){return I.startLineNumber===I.endLineNumber&&I.startColumn===I.endColumn}containsPosition(I){return m.containsPosition(this,I)}static containsPosition(I,L){return!(L.lineNumber<I.startLineNumber||L.lineNumber>I.endLineNumber||L.lineNumber===I.startLineNumber&&L.column<I.startColumn||L.lineNumber===I.endLineNumber&&L.column>I.endColumn)}static strictContainsPosition(I,L){return!(L.lineNumber<I.startLineNumber||L.lineNumber>I.endLineNumber||L.lineNumber===I.startLineNumber&&L.column<=I.startColumn||L.lineNumber===I.endLineNumber&&L.column>=I.endColumn)}containsRange(I){return m.containsRange(this,I)}static containsRange(I,L){return!(L.startLineNumber<I.startLineNumber||L.endLineNumber<I.startLineNumber||L.startLineNumber>I.endLineNumber||L.endLineNumber>I.endLineNumber||L.startLineNumber===I.startLineNumber&&L.startColumn<I.startColumn||L.endLineNumber===I.endLineNumber&&L.endColumn>I.endColumn)}strictContainsRange(I){return m.strictContainsRange(this,I)}static strictContainsRange(I,L){return!(L.startLineNumber<I.startLineNumber||L.endLineNumber<I.startLineNumber||L.startLineNumber>I.endLineNumber||L.endLineNumber>I.endLineNumber||L.startLineNumber===I.startLineNumber&&L.startColumn<=I.startColumn||L.endLineNumber===I.endLineNumber&&L.endColumn>=I.endColumn)}plusRange(I){return m.plusRange(this,I)}static plusRange(I,L){let _,v,u,h;return L.startLineNumber<I.startLineNumber?(_=L.startLineNumber,v=L.startColumn):L.startLineNumber===I.startLineNumber?(_=L.startLineNumber,v=Math.min(L.startColumn,I.startColumn)):(_=I.startLineNumber,v=I.startColumn),L.endLineNumber>I.endLineNumber?(u=L.endLineNumber,h=L.endColumn):L.endLineNumber===I.endLineNumber?(u=L.endLineNumber,h=Math.max(L.endColumn,I.endColumn)):(u=I.endLineNumber,h=I.endColumn),new m(_,v,u,h)}intersectRanges(I){return m.intersectRanges(this,I)}static intersectRanges(I,L){let _=I.startLineNumber,v=I.startColumn,u=I.endLineNumber,h=I.endColumn,i=L.startLineNumber,n=L.startColumn,t=L.endLineNumber,o=L.endColumn;return _<i?(_=i,v=n):_===i&&(v=Math.max(v,n)),u>t?(u=t,h=o):u===t&&(h=Math.min(h,o)),_>u||_===u&&v>h?null:new m(_,v,u,h)}equalsRange(I){return m.equalsRange(this,I)}static equalsRange(I,L){return!!I&&!!L&&I.startLineNumber===L.startLineNumber&&I.startColumn===L.startColumn&&I.endLineNumber===L.endLineNumber&&I.endColumn===L.endColumn}getEndPosition(){return m.getEndPosition(this)}static getEndPosition(I){return new E.Position(I.endLineNumber,I.endColumn)}getStartPosition(){return m.getStartPosition(this)}static getStartPosition(I){return new E.Position(I.startLineNumber,I.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(I,L){return new m(this.startLineNumber,this.startColumn,I,L)}setStartPosition(I,L){return new m(I,L,this.endLineNumber,this.endColumn)}collapseToStart(){return m.collapseToStart(this)}static collapseToStart(I){return new m(I.startLineNumber,I.startColumn,I.startLineNumber,I.startColumn)}static fromPositions(I,L=I){return new m(I.lineNumber,I.column,L.lineNumber,L.column)}static lift(I){return I?new m(I.startLineNumber,I.startColumn,I.endLineNumber,I.endColumn):null}static isIRange(I){return I&&typeof I.startLineNumber=="number"&&typeof I.startColumn=="number"&&typeof I.endLineNumber=="number"&&typeof I.endColumn=="number"}static areIntersectingOrTouching(I,L){return!(I.endLineNumber<L.startLineNumber||I.endLineNumber===L.startLineNumber&&I.endColumn<L.startColumn||L.endLineNumber<I.startLineNumber||L.endLineNumber===I.startLineNumber&&L.endColumn<I.startColumn)}static areIntersecting(I,L){return!(I.endLineNumber<L.startLineNumber||I.endLineNumber===L.startLineNumber&&I.endColumn<=L.startColumn||L.endLineNumber<I.startLineNumber||L.endLineNumber===I.startLineNumber&&L.endColumn<=I.startColumn)}static compareRangesUsingStarts(I,L){if(I&&L){const u=I.startLineNumber|0,h=L.startLineNumber|0;if(u===h){const i=I.startColumn|0,n=L.startColumn|0;if(i===n){const t=I.endLineNumber|0,o=L.endLineNumber|0;if(t===o){const d=I.endColumn|0,r=L.endColumn|0;return d-r}return t-o}return i-n}return u-h}return(I?1:0)-(L?1:0)}static compareRangesUsingEnds(I,L){return I.endLineNumber===L.endLineNumber?I.endColumn===L.endColumn?I.startLineNumber===L.startLineNumber?I.startColumn-L.startColumn:I.startLineNumber-L.startLineNumber:I.endColumn-L.endColumn:I.endLineNumber-L.endLineNumber}static spansMultipleLines(I){return I.endLineNumber>I.startLineNumber}toJSON(){return this}}e.Range=m}),define(re[240],se([1,0,8,11,3]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class I{constructor(v,u,h,i,n){this.value=v,this.selectionStart=u,this.selectionEnd=h,this.selectionStartPosition=i,this.selectionEndPosition=n}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(v){return new I(v.getValue(),v.getSelectionStart(),v.getSelectionEnd(),null,null)}collapseSelection(){return new I(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(v,u,h){e._debugComposition&&console.log(`writeToTextArea ${v}: ${this.toString()}`),u.setValue(v,this.value),h&&u.setSelectionRange(v,this.selectionStart,this.selectionEnd)}deduceEditorPosition(v){if(v<=this.selectionStart){const i=this.value.substring(v,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,i,-1)}if(v>=this.selectionEnd){const i=this.value.substring(this.selectionEnd,v);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,1)}const u=this.value.substring(this.selectionStart,v);if(u.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,u,1);const h=this.value.substring(v,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,h,-1)}_finishDeduceEditorPosition(v,u,h){let i=0,n=-1;for(;(n=u.indexOf(`
`,n+1))!==-1;)i++;return[v,h*u.length,i]}static deduceInput(v,u,h){if(!v)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${v.toString()}`),console.log(`CURRENT STATE: ${u.toString()}`));const i=Math.min(E.commonPrefixLength(v.value,u.value),v.selectionStart,u.selectionStart),n=Math.min(E.commonSuffixLength(v.value,u.value),v.value.length-v.selectionEnd,u.value.length-u.selectionEnd),t=v.value.substring(i,v.value.length-n),o=u.value.substring(i,u.value.length-n),d=v.selectionStart-i,r=v.selectionEnd-i,c=u.selectionStart-i,s=u.selectionEnd-i;if(e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${t}>, selectionStart: ${d}, selectionEnd: ${r}`),console.log(`AFTER DIFFING CURRENT STATE: <${o}>, selectionStart: ${c}, selectionEnd: ${s}`)),c===s){const l=v.selectionStart-i;return e._debugComposition&&console.log(`REMOVE PREVIOUS: ${l} chars`),{text:o,replacePrevCharCnt:l,replaceNextCharCnt:0,positionDelta:0}}const a=r-d;return{text:o,replacePrevCharCnt:a,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(v,u){if(!v)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${v.toString()}`),console.log(`CURRENT STATE: ${u.toString()}`)),v.value===u.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:u.selectionEnd-v.selectionEnd};const h=Math.min(E.commonPrefixLength(v.value,u.value),v.selectionEnd),i=Math.min(E.commonSuffixLength(v.value,u.value),v.value.length-v.selectionEnd),n=v.value.substring(h,v.value.length-i),t=u.value.substring(h,u.value.length-i),o=v.selectionStart-h,d=v.selectionEnd-h,r=u.selectionStart-h,c=u.selectionEnd-h;return e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${n}>, selectionStart: ${o}, selectionEnd: ${d}`),console.log(`AFTER DIFFING CURRENT STATE: <${t}>, selectionStart: ${r}, selectionEnd: ${c}`)),{text:t,replacePrevCharCnt:d,replaceNextCharCnt:n.length-d,positionDelta:c-t.length}}}e.TextAreaState=I,I.EMPTY=new I("",0,0,null,null);class L{static _getPageOfLine(v,u){return Math.floor((v-1)/u)}static _getRangeForPage(v,u){const h=v*u,i=h+1,n=h+u;return new k.Range(i,1,n+1,1)}static fromEditorSelection(v,u,h,i,n){const t=L._getPageOfLine(h.startLineNumber,i),o=L._getRangeForPage(t,i),d=L._getPageOfLine(h.endLineNumber,i),r=L._getRangeForPage(d,i),c=o.intersectRanges(new k.Range(1,1,h.startLineNumber,h.startColumn));let s=u.getValueInRange(c,1);const a=u.getLineCount(),l=u.getLineMaxColumn(a),f=r.intersectRanges(new k.Range(h.endLineNumber,h.endColumn,a,l));let g=u.getValueInRange(f,1),b;if(t===d||t+1===d)b=u.getValueInRange(h,1);else{const p=o.intersectRanges(h),C=r.intersectRanges(h);b=u.getValueInRange(p,1)+String.fromCharCode(8230)+u.getValueInRange(C,1)}if(n){const p=500;s.length>p&&(s=s.substring(s.length-p,s.length)),g.length>p&&(g=g.substring(0,p)),b.length>2*p&&(b=b.substring(0,p)+String.fromCharCode(8230)+b.substring(b.length-p,b.length))}return new I(s+b+g,s.length,s.length+b.length,new m.Position(h.startLineNumber,h.startColumn),new m.Position(h.endLineNumber,h.endColumn))}}e.PagedScreenReaderStrategy=L}),define(re[241],se([1,0,218,4,2,41,3]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffNavigator=void 0;const _={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class v extends k.Disposable{constructor(h,i={}){super();this._onDidUpdate=this._register(new m.Emitter),this._editor=h,this._options=I.mixin(i,_,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(n=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(n=>{this.revealFirst=!0})),this._init()}_init(){!!this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(h){this.ranges=[],h&&h.forEach(i=>{!this._options.ignoreCharChanges&&i.charChanges?i.charChanges.forEach(n=>{this.ranges.push({rhs:!0,range:new L.Range(n.modifiedStartLineNumber,n.modifiedStartColumn,n.modifiedEndLineNumber,n.modifiedEndColumn)})}):i.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new L.Range(i.modifiedStartLineNumber,1,i.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new L.Range(i.modifiedStartLineNumber,1,i.modifiedEndLineNumber+1,1)})}),this.ranges.sort((i,n)=>L.Range.compareRangesUsingStarts(i.range,n.range)),this._onDidUpdate.fire(this)}_initIdx(h){let i=!1;const n=this._editor.getPosition();if(!n){this.nextIdx=0;return}for(let t=0,o=this.ranges.length;t<o&&!i;t++){const d=this.ranges[t].range;n.isBeforeOrEqual(d.getStartPosition())&&(this.nextIdx=t+(h?0:-1),i=!0)}i||(this.nextIdx=h?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(h,i){if(E.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(h):h?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const n=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const t=n.range.getStartPosition();this._editor.setPosition(t),this._editor.revealRangeInCenter(n.range,i)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(h=0){this._move(!0,h)}previous(h=0){this._move(!1,h)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}e.DiffNavigator=v}),define(re[61],se([1,0,3]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class m{static insert(I,L){return{range:new E.Range(I.lineNumber,I.column,I.lineNumber,I.column),text:L,forceMoveMarkers:!0}}static delete(I){return{range:I,text:null}}static replace(I,L){return{range:I,text:L}}static replaceMove(I,L){return{range:I,text:L,forceMoveMarkers:!0}}}e.EditOperation=m}),define(re[413],se([1,0,8,61,3]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.trimTrailingWhitespace=e.TrimTrailingWhitespaceCommand=void 0;class I{constructor(v,u){this._selection=v,this._cursors=u,this._selectionId=null}getEditOperations(v,u){const h=L(v,this._cursors);for(let i=0,n=h.length;i<n;i++){const t=h[i];u.addEditOperation(t.range,t.text)}this._selectionId=u.trackSelection(this._selection)}computeCursorState(v,u){return u.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=I;function L(_,v){v.sort((t,o)=>t.lineNumber===o.lineNumber?t.column-o.column:t.lineNumber-o.lineNumber);for(let t=v.length-2;t>=0;t--)v[t].lineNumber===v[t+1].lineNumber&&v.splice(t,1);const u=[];let h=0,i=0;const n=v.length;for(let t=1,o=_.getLineCount();t<=o;t++){const d=_.getLineContent(t),r=d.length+1;let c=0;if(i<n&&v[i].lineNumber===t&&(c=v[i].column,i++,c===r)||d.length===0)continue;const s=E.lastNonWhitespaceIndex(d);let a=0;if(s===-1)a=1;else if(s!==d.length-1)a=s+2;else continue;a=Math.max(c,a),u[h++]=m.EditOperation.delete(new k.Range(t,a,t,r))}return u}e.trimTrailingWhitespace=L}),define(re[242],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class E{constructor(k,I,L,_){this._rgba8Brand=void 0,this.r=E._clamp(k),this.g=E._clamp(I),this.b=E._clamp(L),this.a=E._clamp(_)}equals(k){return this.r===k.r&&this.g===k.g&&this.b===k.b&&this.a===k.a}static _clamp(k){return k<0?0:k>255?255:k|0}}e.RGBA8=E,E.Empty=new E(0,0,0,0)}),define(re[24],se([1,0,11,3]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class k extends m.Range{constructor(L,_,v,u){super(L,_,v,u);this.selectionStartLineNumber=L,this.selectionStartColumn=_,this.positionLineNumber=v,this.positionColumn=u}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(L){return k.selectionsEqual(this,L)}static selectionsEqual(L,_){return L.selectionStartLineNumber===_.selectionStartLineNumber&&L.selectionStartColumn===_.selectionStartColumn&&L.positionLineNumber===_.positionLineNumber&&L.positionColumn===_.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(L,_){return this.getDirection()===0?new k(this.startLineNumber,this.startColumn,L,_):new k(L,_,this.startLineNumber,this.startColumn)}getPosition(){return new E.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new E.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(L,_){return this.getDirection()===0?new k(L,_,this.endLineNumber,this.endColumn):new k(this.endLineNumber,this.endColumn,L,_)}static fromPositions(L,_=L){return new k(L.lineNumber,L.column,_.lineNumber,_.column)}static fromRange(L,_){return _===0?new k(L.startLineNumber,L.startColumn,L.endLineNumber,L.endColumn):new k(L.endLineNumber,L.endColumn,L.startLineNumber,L.startColumn)}static liftSelection(L){return new k(L.selectionStartLineNumber,L.selectionStartColumn,L.positionLineNumber,L.positionColumn)}static selectionsArrEqual(L,_){if(L&&!_||!L&&_)return!1;if(!L&&!_)return!0;if(L.length!==_.length)return!1;for(let v=0,u=L.length;v<u;v++)if(!this.selectionsEqual(L[v],_[v]))return!1;return!0}static isISelection(L){return L&&typeof L.selectionStartLineNumber=="number"&&typeof L.selectionStartColumn=="number"&&typeof L.positionLineNumber=="number"&&typeof L.positionColumn=="number"}static createWithDirection(L,_,v,u,h){return h===0?new k(L,_,v,u):new k(v,u,L,_)}}e.Selection=k}),define(re[181],se([1,0,34,7,44,10,4,2,138,8,240,24]),function(U,e,E,m,k,I,L,_,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var n;(function(s){s.Tap="-monaco-textarea-synthetic-tap"})(n=e.TextAreaSyntethicEvents||(e.TextAreaSyntethicEvents={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class t{constructor(){this._lastState=null}set(a,l){this._lastState={lastCopiedValue:a,data:l}}get(a){return this._lastState&&this._lastState.lastCopiedValue===a?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=t,t.INSTANCE=new t;class o{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(a){a=a||"";const l={text:a,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=a.length,l}}class d extends _.Disposable{constructor(a,l,f,g){super();this._host=a,this._textArea=l,this._OS=f,this._browser=g,this._onFocus=this._register(new L.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new L.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new L.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new L.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new L.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new L.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new L.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new L.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new L.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new L.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new L.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new I.RunOnceScheduler(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new I.RunOnceScheduler(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=h.TextAreaState.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let b=null;this._register(this._textArea.onKeyDown(p=>{const C=new k.StandardKeyboardEvent(p);(C.keyCode===109||this._currentComposition&&C.keyCode===1)&&C.stopPropagation(),C.equals(9)&&C.preventDefault(),b=C,this._onKeyDown.fire(C)})),this._register(this._textArea.onKeyUp(p=>{const C=new k.StandardKeyboardEvent(p);this._onKeyUp.fire(C)})),this._register(this._textArea.onCompositionStart(p=>{h._debugComposition&&console.log("[compositionstart]",p);const C=new o;if(this._currentComposition){this._currentComposition=C;return}if(this._currentComposition=C,this._OS===2&&b&&b.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===p.data&&(b.code==="ArrowRight"||b.code==="ArrowLeft")){h._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",p),C.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:p.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:p.data});return}this._onCompositionStart.fire({data:p.data})})),this._register(this._textArea.onCompositionUpdate(p=>{h._debugComposition&&console.log("[compositionupdate]",p);const C=this._currentComposition;if(!C)return;if(this._browser.isAndroid){const y=h.TextAreaState.readFromTextArea(this._textArea),w=h.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,y);this._textAreaState=y,this._onType.fire(w),this._onCompositionUpdate.fire(p);return}const S=C.handleCompositionUpdate(p.data);this._textAreaState=h.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(S),this._onCompositionUpdate.fire(p)})),this._register(this._textArea.onCompositionEnd(p=>{h._debugComposition&&console.log("[compositionend]",p);const C=this._currentComposition;if(!C)return;if(this._currentComposition=null,this._browser.isAndroid){const y=h.TextAreaState.readFromTextArea(this._textArea),w=h.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,y);this._textAreaState=y,this._onType.fire(w),this._onCompositionEnd.fire();return}const S=C.handleCompositionUpdate(p.data);this._textAreaState=h.TextAreaState.readFromTextArea(this._textArea),this._onType.fire(S),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(p=>{if(h._debugComposition&&console.log("[input]",p),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const C=h.TextAreaState.readFromTextArea(this._textArea),S=h.TextAreaState.deduceInput(this._textAreaState,C,this._OS===2);S.replacePrevCharCnt===0&&S.text.length===1&&u.isHighSurrogate(S.text.charCodeAt(0))||(this._textAreaState=C,(S.text!==""||S.replacePrevCharCnt!==0||S.replaceNextCharCnt!==0||S.positionDelta!==0)&&this._onType.fire(S))})),this._register(this._textArea.onCut(p=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(p),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(p=>{this._ensureClipboardGetsEditorSelection(p)})),this._register(this._textArea.onPaste(p=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),p.preventDefault(),!p.clipboardData)return;let[C,S]=r.getTextData(p.clipboardData);!C||(S=S||t.INSTANCE.get(C),this._onPaste.fire({text:C,metadata:S}))})),this._register(this._textArea.onFocus(()=>{const p=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!p&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let a=0;return m.addDisposableListener(document,"selectionchange",l=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const f=Date.now(),g=f-a;if(a=f,g<5)return;const b=f-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),b<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const p=this._textArea.getValue();if(this._textAreaState.value!==p)return;const C=this._textArea.getSelectionStart(),S=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===C&&this._textAreaState.selectionEnd===S)return;const y=this._textAreaState.deduceEditorPosition(C),w=this._host.deduceModelPosition(y[0],y[1],y[2]),T=this._textAreaState.deduceEditorPosition(S),N=this._host.deduceModelPosition(T[0],T[1],T[2]),R=new i.Selection(w.lineNumber,w.column,N.lineNumber,N.column);this._onSelectionChangeRequest.fire(R)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(a){this._hasFocus!==a&&(this._hasFocus=a,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(a,l){this._hasFocus||(l=l.collapseSelection()),l.writeToTextArea(a,this._textArea,this._hasFocus),this._textAreaState=l}writeScreenReaderContent(a){this._currentComposition||this._setAndWriteTextAreaState(a,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(a){const l=this._host.getDataToCopy(),f={version:1,isFromEmptySelection:l.isFromEmptySelection,multicursorText:l.multicursorText,mode:l.mode};t.INSTANCE.set(this._browser.isFirefox?l.text.replace(/\r\n/g,`
`):l.text,f),a.preventDefault(),a.clipboardData&&r.setTextData(a.clipboardData,l.text,l.html,f)}}e.TextAreaInput=d;class r{static getTextData(a){const l=a.getData(v.Mimes.text);let f=null;const g=a.getData("vscode-editor-data");if(typeof g=="string")try{f=JSON.parse(g),f.version!==1&&(f=null)}catch{}return[l,f]}static setTextData(a,l,f,g){a.setData(v.Mimes.text,l),typeof f=="string"&&a.setData("text/html",f),a.setData("vscode-editor-data",JSON.stringify(g))}}class c extends _.Disposable{constructor(a){super();this._actual=a,this.onKeyDown=this._register(m.createEventEmitter(this._actual,"keydown")).event,this.onKeyUp=this._register(m.createEventEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(m.createEventEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(m.createEventEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(m.createEventEmitter(this._actual,"compositionend")).event,this.onInput=this._register(m.createEventEmitter(this._actual,"input")).event,this.onCut=this._register(m.createEventEmitter(this._actual,"cut")).event,this.onCopy=this._register(m.createEventEmitter(this._actual,"copy")).event,this.onPaste=this._register(m.createEventEmitter(this._actual,"paste")).event,this.onFocus=this._register(m.createEventEmitter(this._actual,"focus")).event,this.onBlur=this._register(m.createEventEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new L.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(m.addDisposableListener(this._actual,n.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const a=m.getShadowRoot(this._actual);return a?a.activeElement===this._actual:m.isInDOM(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(a){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(a,l){const f=this._actual;f.value!==l&&(this.setIgnoreSelectionChangeTime("setValue"),f.value=l)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(a,l,f){const g=this._actual;let b=null;const p=m.getShadowRoot(g);p?b=p.activeElement:b=document.activeElement;const C=b===g,S=g.selectionStart,y=g.selectionEnd;if(C&&S===l&&y===f){E.isFirefox&&window.parent!==window&&g.focus();return}if(C){this.setIgnoreSelectionChangeTime("setSelectionRange"),g.setSelectionRange(l,f),E.isFirefox&&window.parent!==window&&g.focus();return}try{const w=m.saveParentsScrollTop(g);this.setIgnoreSelectionChangeTime("setSelectionRange"),g.focus(),g.setSelectionRange(l,f),m.restoreParentsScrollTop(g,w)}catch{}}}e.TextAreaWrapper=c}),define(re[103],se([1,0,24]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class m{constructor(u,h,i=!1){this._range=u,this._text=h,this.insertsAutoWhitespace=i}getEditOperations(u,h){h.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,h){const n=h.getInverseEditOperations()[0].range;return E.Selection.fromPositions(n.getEndPosition())}}e.ReplaceCommand=m;class k{constructor(u,h){this._range=u,this._text=h}getEditOperations(u,h){h.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,h){const n=h.getInverseEditOperations()[0].range;return E.Selection.fromRange(n,0)}}e.ReplaceCommandThatSelectsText=k;class I{constructor(u,h,i=!1){this._range=u,this._text=h,this.insertsAutoWhitespace=i}getEditOperations(u,h){h.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,h){const n=h.getInverseEditOperations()[0].range;return E.Selection.fromPositions(n.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=I;class L{constructor(u,h,i,n,t=!1){this._range=u,this._text=h,this._columnDeltaOffset=n,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=t}getEditOperations(u,h){h.addTrackedEditOperation(this._range,this._text)}computeCursorState(u,h){const n=h.getInverseEditOperations()[0].range;return E.Selection.fromPositions(n.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}e.ReplaceCommandWithOffsetCursorState=L;class _{constructor(u,h,i,n=!1){this._range=u,this._text=h,this._initialSelection=i,this._forceMoveMarkers=n,this._selectionId=null}getEditOperations(u,h){h.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=h.trackSelection(this._initialSelection)}computeCursorState(u,h){return h.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=_}),define(re[414],se([1,0,3,24]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionSurroundSelectionCommand=e.SurroundSelectionCommand=void 0;class k{constructor(_,v,u){this._range=_,this._charBeforeSelection=v,this._charAfterSelection=u}getEditOperations(_,v){v.addTrackedEditOperation(new E.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),v.addTrackedEditOperation(new E.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(_,v){const u=v.getInverseEditOperations(),h=u[0].range,i=u[1].range;return new m.Selection(h.endLineNumber,h.endColumn,i.endLineNumber,i.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=k;class I{constructor(_,v,u){this._position=_,this._text=v,this._charAfter=u}getEditOperations(_,v){v.addTrackedEditOperation(new E.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(_,v){const h=v.getInverseEditOperations()[0].range;return new m.Selection(h.endLineNumber,h.startColumn,h.endLineNumber,h.endColumn-this._charAfter.length)}}e.CompositionSurroundSelectionCommand=I}),define(re[94],se([1,0,8,17,116]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeUTF16LE=e.createStringBuilder=e.hasTextDecoder=e.getPlatformTextDecoder=void 0;let I;function L(){return I||(I=new TextDecoder("UTF-16LE")),I}let _;function v(){return _||(_=new TextDecoder("UTF-16BE")),_}let u;function h(){return u||(u=m.isLittleEndian()?L():v()),u}e.getPlatformTextDecoder=h,e.hasTextDecoder=typeof TextDecoder!="undefined",e.hasTextDecoder?(e.createStringBuilder=d=>new t(d),e.decodeUTF16LE=i):(e.createStringBuilder=d=>new o,e.decodeUTF16LE=n);function i(d,r,c){const s=new Uint16Array(d.buffer,r,c);return c>0&&(s[0]===65279||s[0]===65534)?n(d,r,c):L().decode(s)}function n(d,r,c){const s=[];let a=0;for(let l=0;l<c;l++){const f=k.readUInt16LE(d,r);r+=2,s[a++]=String.fromCharCode(f)}return s.join("")}class t{constructor(r){this._capacity=r|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const r=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return h().decode(r)}_flushBuffer(){const r=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[r]:this._completedStrings[this._completedStrings.length]=r}write1(r){const c=this._capacity-this._bufferLength;c<=1&&(c===0||E.isHighSurrogate(r))&&this._flushBuffer(),this._buffer[this._bufferLength++]=r}appendASCII(r){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=r}appendASCIIString(r){const c=r.length;if(this._bufferLength+c>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=r;return}for(let s=0;s<c;s++)this._buffer[this._bufferLength++]=r.charCodeAt(s)}}class o{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(r){this._pieces[this._piecesLen++]=String.fromCharCode(r)}appendASCII(r){this._pieces[this._piecesLen++]=String.fromCharCode(r)}appendASCIIString(r){this._pieces[this._piecesLen++]=r}}}),define(re[182],se([1,0,32,94]),function(U,e,E,m){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class I{constructor(u){this._createLine=u,this._set(1,[])}flush(){this._set(1,[])}_set(u,h){this._lines=h,this._rendLineNumberStart=u}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(u){const h=u-this._rendLineNumberStart;if(h<0||h>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[h]}onLinesDeleted(u,h){if(this.getCount()===0)return null;const i=this.getStartLineNumber(),n=this.getEndLineNumber();if(h<i){const r=h-u+1;return this._rendLineNumberStart-=r,null}if(u>n)return null;let t=0,o=0;for(let r=i;r<=n;r++){const c=r-this._rendLineNumberStart;u<=r&&r<=h&&(o===0?(t=c,o=1):o++)}if(u<i){let r=0;h<i?r=h-u+1:r=i-u,this._rendLineNumberStart-=r}return this._lines.splice(t,o)}onLinesChanged(u,h){const i=u+h-1;if(this.getCount()===0)return!1;const n=this.getStartLineNumber(),t=this.getEndLineNumber();let o=!1;for(let d=u;d<=i;d++)d>=n&&d<=t&&(this._lines[d-this._rendLineNumberStart].onContentChanged(),o=!0);return o}onLinesInserted(u,h){if(this.getCount()===0)return null;const i=h-u+1,n=this.getStartLineNumber(),t=this.getEndLineNumber();if(u<=n)return this._rendLineNumberStart+=i,null;if(u>t)return null;if(i+u>t)return this._lines.splice(u-this._rendLineNumberStart,t-u+1);const o=[];for(let a=0;a<i;a++)o[a]=this._createLine();const d=u-this._rendLineNumberStart,r=this._lines.slice(0,d),c=this._lines.slice(d,this._lines.length-i),s=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=r.concat(o).concat(c),s}onTokensChanged(u){if(this.getCount()===0)return!1;const h=this.getStartLineNumber(),i=this.getEndLineNumber();let n=!1;for(let t=0,o=u.length;t<o;t++){const d=u[t];if(d.toLineNumber<h||d.fromLineNumber>i)continue;const r=Math.max(h,d.fromLineNumber),c=Math.min(i,d.toLineNumber);for(let s=r;s<=c;s++){const a=s-this._rendLineNumberStart;this._lines[a].onTokensChanged(),n=!0}}return n}}e.RenderedLinesCollection=I;class L{constructor(u){this._host=u,this.domNode=this._createDomNode(),this._linesCollection=new I(()=>this._host.createVisibleLine())}_createDomNode(){const u=(0,E.createFastDomNode)(document.createElement("div"));return u.setClassName("view-layer"),u.setPosition("absolute"),u.domNode.setAttribute("role","presentation"),u.domNode.setAttribute("aria-hidden","true"),u}onConfigurationChanged(u){return!!u.hasChanged(131)}onFlushed(u){return this._linesCollection.flush(),!0}onLinesChanged(u){return this._linesCollection.onLinesChanged(u.fromLineNumber,u.count)}onLinesDeleted(u){const h=this._linesCollection.onLinesDeleted(u.fromLineNumber,u.toLineNumber);if(h)for(let i=0,n=h.length;i<n;i++){const t=h[i].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onLinesInserted(u){const h=this._linesCollection.onLinesInserted(u.fromLineNumber,u.toLineNumber);if(h)for(let i=0,n=h.length;i<n;i++){const t=h[i].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onScrollChanged(u){return u.scrollTopChanged}onTokensChanged(u){return this._linesCollection.onTokensChanged(u.ranges)}onZonesChanged(u){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(u){return this._linesCollection.getLine(u)}renderLines(u){const h=this._linesCollection._get(),i=new _(this.domNode.domNode,this._host,u),n={rendLineNumberStart:h.rendLineNumberStart,lines:h.lines,linesLength:h.lines.length},t=i.render(n,u.startLineNumber,u.endLineNumber,u.relativeVerticalOffset);this._linesCollection._set(t.rendLineNumberStart,t.lines)}}e.VisibleLinesCollection=L;class _{constructor(u,h,i){this.domNode=u,this.host=h,this.viewportData=i}render(u,h,i,n){const t={rendLineNumberStart:u.rendLineNumberStart,lines:u.lines.slice(0),linesLength:u.linesLength};if(t.rendLineNumberStart+t.linesLength-1<h||i<t.rendLineNumberStart){t.rendLineNumberStart=h,t.linesLength=i-h+1,t.lines=[];for(let o=h;o<=i;o++)t.lines[o-h]=this.host.createVisibleLine();return this._finishRendering(t,!0,n),t}if(this._renderUntouchedLines(t,Math.max(h-t.rendLineNumberStart,0),Math.min(i-t.rendLineNumberStart,t.linesLength-1),n,h),t.rendLineNumberStart>h){const o=h,d=Math.min(i,t.rendLineNumberStart-1);o<=d&&(this._insertLinesBefore(t,o,d,n,h),t.linesLength+=d-o+1)}else if(t.rendLineNumberStart<h){const o=Math.min(t.linesLength,h-t.rendLineNumberStart);o>0&&(this._removeLinesBefore(t,o),t.linesLength-=o)}if(t.rendLineNumberStart=h,t.rendLineNumberStart+t.linesLength-1<i){const o=t.rendLineNumberStart+t.linesLength,d=i;o<=d&&(this._insertLinesAfter(t,o,d,n,h),t.linesLength+=d-o+1)}else if(t.rendLineNumberStart+t.linesLength-1>i){const o=Math.max(0,i-t.rendLineNumberStart+1),r=t.linesLength-1-o+1;r>0&&(this._removeLinesAfter(t,r),t.linesLength-=r)}return this._finishRendering(t,!1,n),t}_renderUntouchedLines(u,h,i,n,t){const o=u.rendLineNumberStart,d=u.lines;for(let r=h;r<=i;r++){const c=o+r;d[r].layoutLine(c,n[c-t])}}_insertLinesBefore(u,h,i,n,t){const o=[];let d=0;for(let r=h;r<=i;r++)o[d++]=this.host.createVisibleLine();u.lines=o.concat(u.lines)}_removeLinesBefore(u,h){for(let i=0;i<h;i++){const n=u.lines[i].getDomNode();n&&this.domNode.removeChild(n)}u.lines.splice(0,h)}_insertLinesAfter(u,h,i,n,t){const o=[];let d=0;for(let r=h;r<=i;r++)o[d++]=this.host.createVisibleLine();u.lines=u.lines.concat(o)}_removeLinesAfter(u,h){const i=u.linesLength-h;for(let n=0;n<h;n++){const t=u.lines[i+n].getDomNode();t&&this.domNode.removeChild(t)}u.lines.splice(i,h)}_finishRenderingNewLines(u,h,i,n){_._ttPolicy&&(i=_._ttPolicy.createHTML(i));const t=this.domNode.lastChild;h||!t?this.domNode.innerHTML=i:t.insertAdjacentHTML("afterend",i);let o=this.domNode.lastChild;for(let d=u.linesLength-1;d>=0;d--){const r=u.lines[d];n[d]&&(r.setDomNode(o),o=o.previousSibling)}}_finishRenderingInvalidLines(u,h,i){const n=document.createElement("div");_._ttPolicy&&(h=_._ttPolicy.createHTML(h)),n.innerHTML=h;for(let t=0;t<u.linesLength;t++){const o=u.lines[t];if(i[t]){const d=n.firstChild,r=o.getDomNode();r.parentNode.replaceChild(d,r),o.setDomNode(d)}}}_finishRendering(u,h,i){const n=_._sb,t=u.linesLength,o=u.lines,d=u.rendLineNumberStart,r=[];{n.reset();let c=!1;for(let s=0;s<t;s++){const a=o[s];r[s]=!1,!(a.getDomNode()||!a.renderLine(s+d,i[s],this.viewportData,n))&&(r[s]=!0,c=!0)}c&&this._finishRenderingNewLines(u,h,n.build(),r)}{n.reset();let c=!1;const s=[];for(let a=0;a<t;a++){const l=o[a];s[a]=!1,!(r[a]||!l.renderLine(a+d,i[a],this.viewportData,n))&&(s[a]=!0,c=!0)}c&&this._finishRenderingInvalidLines(u,n.build(),s)}}}_._ttPolicy=(k=window.trustedTypes)===null||k===void 0?void 0:k.createPolicy("editorViewLayer",{createHTML:v=>v}),_._sb=(0,m.createStringBuilder)(1e5)}),define(re[243],se([1,0,116,94]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressConsecutiveTextChanges=e.TextChange=void 0;function k(v){return v.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class I{constructor(u,h,i,n){this.oldPosition=u,this.oldText=h,this.newPosition=i,this.newText=n}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${k(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${k(this.oldText)}")`:`(replace@${this.oldPosition} "${k(this.oldText)}" with "${k(this.newText)}")`}static _writeStringSize(u){return 4+2*u.length}static _writeString(u,h,i){const n=h.length;E.writeUInt32BE(u,n,i),i+=4;for(let t=0;t<n;t++)E.writeUInt16LE(u,h.charCodeAt(t),i),i+=2;return i}static _readString(u,h){const i=E.readUInt32BE(u,h);return h+=4,(0,m.decodeUTF16LE)(u,h,i)}writeSize(){return 4+4+I._writeStringSize(this.oldText)+I._writeStringSize(this.newText)}write(u,h){return E.writeUInt32BE(u,this.oldPosition,h),h+=4,E.writeUInt32BE(u,this.newPosition,h),h+=4,h=I._writeString(u,this.oldText,h),h=I._writeString(u,this.newText,h),h}static read(u,h,i){const n=E.readUInt32BE(u,h);h+=4;const t=E.readUInt32BE(u,h);h+=4;const o=I._readString(u,h);h+=I._writeStringSize(o);const d=I._readString(u,h);return h+=I._writeStringSize(d),i.push(new I(n,o,t,d)),h}}e.TextChange=I;function L(v,u){return v===null||v.length===0?u:new _(v,u).compress()}e.compressConsecutiveTextChanges=L;class _{constructor(u,h){this._prevEdits=u,this._currEdits=h,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let u=0,h=0,i=this._getPrev(u),n=this._getCurr(h);for(;u<this._prevLen||h<this._currLen;){if(i===null){this._acceptCurr(n),n=this._getCurr(++h);continue}if(n===null){this._acceptPrev(i),i=this._getPrev(++u);continue}if(n.oldEnd<=i.newPosition){this._acceptCurr(n),n=this._getCurr(++h);continue}if(i.newEnd<=n.oldPosition){this._acceptPrev(i),i=this._getPrev(++u);continue}if(n.oldPosition<i.newPosition){const[c,s]=_._splitCurr(n,i.newPosition-n.oldPosition);this._acceptCurr(c),n=s;continue}if(i.newPosition<n.oldPosition){const[c,s]=_._splitPrev(i,n.oldPosition-i.newPosition);this._acceptPrev(c),i=s;continue}let d,r;if(n.oldEnd===i.newEnd)d=i,r=n,i=this._getPrev(++u),n=this._getCurr(++h);else if(n.oldEnd<i.newEnd){const[c,s]=_._splitPrev(i,n.oldLength);d=c,r=n,i=s,n=this._getCurr(++h)}else{const[c,s]=_._splitCurr(n,i.newLength);d=i,r=c,i=this._getPrev(++u),n=s}this._result[this._resultLen++]=new I(d.oldPosition,d.oldText,r.newPosition,r.newText),this._prevDeltaOffset+=d.newLength-d.oldLength,this._currDeltaOffset+=r.newLength-r.oldLength}const t=_._merge(this._result);return _._removeNoOps(t)}_acceptCurr(u){this._result[this._resultLen++]=_._rebaseCurr(this._prevDeltaOffset,u),this._currDeltaOffset+=u.newLength-u.oldLength}_getCurr(u){return u<this._currLen?this._currEdits[u]:null}_acceptPrev(u){this._result[this._resultLen++]=_._rebasePrev(this._currDeltaOffset,u),this._prevDeltaOffset+=u.newLength-u.oldLength}_getPrev(u){return u<this._prevLen?this._prevEdits[u]:null}static _rebaseCurr(u,h){return new I(h.oldPosition-u,h.oldText,h.newPosition,h.newText)}static _rebasePrev(u,h){return new I(h.oldPosition,h.oldText,h.newPosition+u,h.newText)}static _splitPrev(u,h){const i=u.newText.substr(0,h),n=u.newText.substr(h);return[new I(u.oldPosition,u.oldText,u.newPosition,i),new I(u.oldEnd,"",u.newPosition+h,n)]}static _splitCurr(u,h){const i=u.oldText.substr(0,h),n=u.oldText.substr(h);return[new I(u.oldPosition,i,u.newPosition,u.newText),new I(u.oldPosition+h,n,u.newEnd,"")]}static _merge(u){if(u.length===0)return u;const h=[];let i=0,n=u[0];for(let t=1;t<u.length;t++){const o=u[t];n.oldEnd===o.oldPosition?n=new I(n.oldPosition,n.oldText+o.oldText,n.newPosition,n.newText+o.newText):(h[i++]=n,n=o)}return h[i++]=n,h}static _removeNoOps(u){if(u.length===0)return u;const h=[];let i=0;for(let n=0;n<u.length;n++){const t=u[n];t.oldText!==t.newText&&(h[i++]=t)}return h}}}),define(re[148],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDITOR_MODEL_DEFAULTS=void 0,e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}}),define(re[125],se([1,0,102]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMapForWordSeparators=e.WordCharacterClassifier=void 0;class m extends E.CharacterClassifier{constructor(L){super(0);for(let _=0,v=L.length;_<v;_++)this.set(L.charCodeAt(_),2);this.set(32,1),this.set(9,1)}}e.WordCharacterClassifier=m;function k(I){const L={};return _=>(L.hasOwnProperty(_)||(L[_]=I(_)),L[_])}e.getMapForWordSeparators=k(I=>new m(I))}),define(re[126],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getWordAtText=e.ensureValidWordDefinition=e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function E(_=""){let v="(-?\\d*\\.\\d\\w*)|([^";for(const u of e.USUAL_WORD_SEPARATORS)_.indexOf(u)>=0||(v+="\\"+u);return v+="\\s]+)",new RegExp(v,"g")}e.DEFAULT_WORD_REGEXP=E();function m(_){let v=e.DEFAULT_WORD_REGEXP;if(_&&_ instanceof RegExp)if(_.global)v=_;else{let u="g";_.ignoreCase&&(u+="i"),_.multiline&&(u+="m"),_.unicode&&(u+="u"),v=new RegExp(_.source,u)}return v.lastIndex=0,v}e.ensureValidWordDefinition=m;const k={maxLen:1e3,windowSize:15,timeBudget:150};function I(_,v,u,h,i=k){if(u.length>i.maxLen){let r=_-i.maxLen/2;return r<0?r=0:h+=r,u=u.substring(r,_+i.maxLen/2),I(_,v,u,h,i)}const n=Date.now(),t=_-1-h;let o=-1,d=null;for(let r=1;!(Date.now()-n>=i.timeBudget);r++){const c=t-i.windowSize*r;v.lastIndex=Math.max(0,c);const s=L(v,u,t,o);if(!s&&d||(d=s,c<=0))break;o=c}if(d){const r={word:d[0],startColumn:h+1+d.index,endColumn:h+1+d.index+d[0].length};return v.lastIndex=0,r}return null}e.getWordAtText=I;function L(_,v,u,h){let i;for(;i=_.exec(v);){const n=i.index||0;if(n<=u&&_.lastIndex>=u)return i;if(h>0&&n>h)return null}return null}}),define(re[244],se([1,0,73]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class m{static whitespaceVisibleColumn(I,L,_){const v=I.length;let u=0,h=-1,i=-1;for(let n=0;n<v;n++){if(n===L)return[h,i,u];switch(u%_==0&&(h=n,i=u),I.charCodeAt(n)){case 32:u+=1;break;case 9:u=E.CursorColumns.nextRenderTabStop(u,_);break;default:return[-1,-1,-1]}}return L===v?[h,i,u]:[-1,-1,-1]}static atomicPosition(I,L,_,v){const u=I.length,[h,i,n]=m.whitespaceVisibleColumn(I,L,_);if(n===-1)return-1;let t;switch(v){case 0:t=!0;break;case 1:t=!1;break;case 2:if(n%_==0)return L;t=n%_<=_/2;break}if(t){if(h===-1)return-1;let r=i;for(let c=h;c<u;++c){if(r===i+_)return h;switch(I.charCodeAt(c)){case 32:r+=1;break;case 9:r=E.CursorColumns.nextRenderTabStop(r,_);break;default:return-1}}return r===i+_?h:-1}const o=E.CursorColumns.nextRenderTabStop(n,_);let d=n;for(let r=L;r<u;r++){if(d===o)return r;switch(I.charCodeAt(r)){case 32:d+=1;break;case 9:d=E.CursorColumns.nextRenderTabStop(d,_);break;default:return-1}}return d===o?u:-1}}e.AtomicTabMoveOperations=m}),define(re[415],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorContext=void 0;class E{constructor(k,I,L,_){this._cursorContextBrand=void 0,this.model=k,this.viewModel=I,this.coordinatesConverter=L,this.cursorConfig=_}}e.CursorContext=E}),define(re[416],se([1,0,141,8]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=void 0;const k=3;function I(d,r,c,s){return new E.LcsDiff(d,r,c).ComputeDiff(s)}class L{constructor(r){const c=[],s=[];for(let a=0,l=r.length;a<l;a++)c[a]=n(r[a],1),s[a]=t(r[a],1);this.lines=r,this._startColumns=c,this._endColumns=s}getElements(){const r=[];for(let c=0,s=this.lines.length;c<s;c++)r[c]=this.lines[c].substring(this._startColumns[c]-1,this._endColumns[c]-1);return r}getStrictElement(r){return this.lines[r]}getStartLineNumber(r){return r+1}getEndLineNumber(r){return r+1}createCharSequence(r,c,s){const a=[],l=[],f=[];let g=0;for(let b=c;b<=s;b++){const p=this.lines[b],C=r?this._startColumns[b]:1,S=r?this._endColumns[b]:p.length+1;for(let y=C;y<S;y++)a[g]=p.charCodeAt(y-1),l[g]=b+1,f[g]=y,g++}return new _(a,l,f)}}class _{constructor(r,c,s){this._charCodes=r,this._lineNumbers=c,this._columns=s}getElements(){return this._charCodes}getStartLineNumber(r){return this._lineNumbers[r]}getStartColumn(r){return this._columns[r]}getEndLineNumber(r){return this._lineNumbers[r]}getEndColumn(r){return this._columns[r]+1}}class v{constructor(r,c,s,a,l,f,g,b){this.originalStartLineNumber=r,this.originalStartColumn=c,this.originalEndLineNumber=s,this.originalEndColumn=a,this.modifiedStartLineNumber=l,this.modifiedStartColumn=f,this.modifiedEndLineNumber=g,this.modifiedEndColumn=b}static createFromDiffChange(r,c,s){let a,l,f,g,b,p,C,S;return r.originalLength===0?(a=0,l=0,f=0,g=0):(a=c.getStartLineNumber(r.originalStart),l=c.getStartColumn(r.originalStart),f=c.getEndLineNumber(r.originalStart+r.originalLength-1),g=c.getEndColumn(r.originalStart+r.originalLength-1)),r.modifiedLength===0?(b=0,p=0,C=0,S=0):(b=s.getStartLineNumber(r.modifiedStart),p=s.getStartColumn(r.modifiedStart),C=s.getEndLineNumber(r.modifiedStart+r.modifiedLength-1),S=s.getEndColumn(r.modifiedStart+r.modifiedLength-1)),new v(a,l,f,g,b,p,C,S)}}function u(d){if(d.length<=1)return d;const r=[d[0]];let c=r[0];for(let s=1,a=d.length;s<a;s++){const l=d[s],f=l.originalStart-(c.originalStart+c.originalLength),g=l.modifiedStart-(c.modifiedStart+c.modifiedLength);Math.min(f,g)<k?(c.originalLength=l.originalStart+l.originalLength-c.originalStart,c.modifiedLength=l.modifiedStart+l.modifiedLength-c.modifiedStart):(r.push(l),c=l)}return r}class h{constructor(r,c,s,a,l){this.originalStartLineNumber=r,this.originalEndLineNumber=c,this.modifiedStartLineNumber=s,this.modifiedEndLineNumber=a,this.charChanges=l}static createFromDiffResult(r,c,s,a,l,f,g){let b,p,C,S,y;if(c.originalLength===0?(b=s.getStartLineNumber(c.originalStart)-1,p=0):(b=s.getStartLineNumber(c.originalStart),p=s.getEndLineNumber(c.originalStart+c.originalLength-1)),c.modifiedLength===0?(C=a.getStartLineNumber(c.modifiedStart)-1,S=0):(C=a.getStartLineNumber(c.modifiedStart),S=a.getEndLineNumber(c.modifiedStart+c.modifiedLength-1)),f&&c.originalLength>0&&c.originalLength<20&&c.modifiedLength>0&&c.modifiedLength<20&&l()){const w=s.createCharSequence(r,c.originalStart,c.originalStart+c.originalLength-1),T=a.createCharSequence(r,c.modifiedStart,c.modifiedStart+c.modifiedLength-1);let N=I(w,T,l,!0).changes;g&&(N=u(N)),y=[];for(let R=0,B=N.length;R<B;R++)y.push(v.createFromDiffChange(N[R],w,T))}return new h(b,p,C,S,y)}}class i{constructor(r,c,s){this.shouldComputeCharChanges=s.shouldComputeCharChanges,this.shouldPostProcessCharChanges=s.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=s.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=s.shouldMakePrettyDiff,this.originalLines=r,this.modifiedLines=c,this.original=new L(r),this.modified=new L(c),this.continueLineDiff=o(s.maxComputationTime),this.continueCharDiff=o(s.maxComputationTime===0?0:Math.min(s.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const r=I(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),c=r.changes,s=r.quitEarly;if(this.shouldIgnoreTrimWhitespace){const g=[];for(let b=0,p=c.length;b<p;b++)g.push(h.createFromDiffResult(this.shouldIgnoreTrimWhitespace,c[b],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:s,changes:g}}const a=[];let l=0,f=0;for(let g=-1,b=c.length;g<b;g++){const p=g+1<b?c[g+1]:null,C=p?p.originalStart:this.originalLines.length,S=p?p.modifiedStart:this.modifiedLines.length;for(;l<C&&f<S;){const y=this.originalLines[l],w=this.modifiedLines[f];if(y!==w){{let T=n(y,1),N=n(w,1);for(;T>1&&N>1;){const R=y.charCodeAt(T-2),B=w.charCodeAt(N-2);if(R!==B)break;T--,N--}(T>1||N>1)&&this._pushTrimWhitespaceCharChange(a,l+1,1,T,f+1,1,N)}{let T=t(y,1),N=t(w,1);const R=y.length+1,B=w.length+1;for(;T<R&&N<B;){const O=y.charCodeAt(T-1),D=y.charCodeAt(N-1);if(O!==D)break;T++,N++}(T<R||N<B)&&this._pushTrimWhitespaceCharChange(a,l+1,T,R,f+1,N,B)}}l++,f++}p&&(a.push(h.createFromDiffResult(this.shouldIgnoreTrimWhitespace,p,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),l+=p.originalLength,f+=p.modifiedLength)}return{quitEarly:s,changes:a}}_pushTrimWhitespaceCharChange(r,c,s,a,l,f,g){if(this._mergeTrimWhitespaceCharChange(r,c,s,a,l,f,g))return;let b;this.shouldComputeCharChanges&&(b=[new v(c,s,c,a,l,f,l,g)]),r.push(new h(c,c,l,l,b))}_mergeTrimWhitespaceCharChange(r,c,s,a,l,f,g){const b=r.length;if(b===0)return!1;const p=r[b-1];return p.originalEndLineNumber===0||p.modifiedEndLineNumber===0?!1:p.originalEndLineNumber+1===c&&p.modifiedEndLineNumber+1===l?(p.originalEndLineNumber=c,p.modifiedEndLineNumber=l,this.shouldComputeCharChanges&&p.charChanges&&p.charChanges.push(new v(c,s,c,a,l,f,l,g)),!0):!1}}e.DiffComputer=i;function n(d,r){const c=m.firstNonWhitespaceIndex(d);return c===-1?r:c+1}function t(d,r){const c=m.lastNonWhitespaceIndex(d);return c===-1?r:c+2}function o(d){if(d===0)return()=>!0;const r=Date.now();return()=>Date.now()-r<d}}),define(re[245],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class E{constructor(k,I,L,_,v,u){this.id=k,this.label=I,this.alias=L,this._precondition=_,this._run=v,this._contextKeyService=u}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}e.InternalEditorAction=E}),define(re[149],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(re[150],se([1,0,149]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeEditor=e.isDiffEditor=e.isCodeEditor=void 0;function m(L){return L&&typeof L.getEditorType=="function"?L.getEditorType()===E.EditorType.ICodeEditor:!1}e.isCodeEditor=m;function k(L){return L&&typeof L.getEditorType=="function"?L.getEditorType()===E.EditorType.IDiffEditor:!1}e.isDiffEditor=k;function I(L){return m(L)?L:k(L)?L.getModifiedEditor():null}e.getCodeEditor=I}),define(re[417],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorTheme=void 0;class E{constructor(k){this._theme=k}get type(){return this._theme.type}get value(){return this._theme}update(k){this._theme=k}getColor(k){return this._theme.getColor(k)}}e.EditorTheme=E}),define(re[418],se([1,0,221,85]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function k(I,L,_,v,u){if(Array.isArray(I)){let h=0;for(const i of I){const n=k(i,L,_,v,u);if(n===10)return n;n>h&&(h=n)}return h}else{if(typeof I=="string")return v?I==="*"?5:I===_?10:0:0;if(I){const{language:h,pattern:i,scheme:n,hasAccessToAllModels:t,notebookType:o}=I;if(!v&&!t)return 0;let d=0;if(n)if(n===L.scheme)d=10;else if(n==="*")d=5;else return 0;if(h)if(h===_)d=10;else if(h==="*")d=Math.max(d,5);else return 0;if(o)if(o===u)d=10;else if(o==="*"&&u!==void 0)d=Math.max(d,5);else return 0;if(i){let r;if(typeof i=="string"?r=i:r=Object.assign(Object.assign({},i),{base:(0,m.normalize)(i.base)}),r===L.fsPath||(0,E.match)(r,L.fsPath))d=10;else return 0}return d}else return 0}}e.score=k}),define(re[95],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var E;(function(L){L[L.None=0]="None",L[L.Indent=1]="Indent",L[L.IndentOutdent=2]="IndentOutdent",L[L.Outdent=3]="Outdent"})(E=e.IndentAction||(e.IndentAction={}));class m{constructor(_){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=_.open,this.close=_.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(_.notIn))for(let v=0,u=_.notIn.length;v<u;v++)switch(_.notIn[v]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(_){switch(_){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(_,v){if(_.getTokenCount()===0)return!0;const u=_.findTokenIndexAtOffset(v-2),h=_.getStandardTokenType(u);return this.isOK(h)}_findNeutralCharacterInRange(_,v){for(let u=_;u<=v;u++){const h=String.fromCharCode(u);if(!this.open.includes(h)&&!this.close.includes(h))return h}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=m;class k{constructor(_){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const v of _)I(this.autoClosingPairsOpenByStart,v.open.charAt(0),v),I(this.autoClosingPairsOpenByEnd,v.open.charAt(v.open.length-1),v),I(this.autoClosingPairsCloseByStart,v.close.charAt(0),v),I(this.autoClosingPairsCloseByEnd,v.close.charAt(v.close.length-1),v),v.close.length===1&&v.open.length===1&&I(this.autoClosingPairsCloseSingleChar,v.close,v)}}e.AutoClosingPairs=k;function I(L,_,v){L.has(_)?L.get(_).push(v):L.set(_,[v])}}),define(re[419],se([1,0,102]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeLinks=e.LinkComputer=e.StateMachine=e.Uint8Matrix=void 0;class m{constructor(n,t,o){const d=new Uint8Array(n*t);for(let r=0,c=n*t;r<c;r++)d[r]=o;this._data=d,this.rows=n,this.cols=t}get(n,t){return this._data[n*this.cols+t]}set(n,t,o){this._data[n*this.cols+t]=o}}e.Uint8Matrix=m;class k{constructor(n){let t=0,o=0;for(let r=0,c=n.length;r<c;r++){const[s,a,l]=n[r];a>t&&(t=a),s>o&&(o=s),l>o&&(o=l)}t++,o++;const d=new m(o,t,0);for(let r=0,c=n.length;r<c;r++){const[s,a,l]=n[r];d.set(s,a,l)}this._states=d,this._maxCharCode=t}nextState(n,t){return t<0||t>=this._maxCharCode?0:this._states.get(n,t)}}e.StateMachine=k;let I=null;function L(){return I===null&&(I=new k([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),I}let _=null;function v(){if(_===null){_=new E.CharacterClassifier(0);const i=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let t=0;t<i.length;t++)_.set(i.charCodeAt(t),1);const n=".,;";for(let t=0;t<n.length;t++)_.set(n.charCodeAt(t),2)}return _}class u{static _createLink(n,t,o,d,r){let c=r-1;do{const s=t.charCodeAt(c);if(n.get(s)!==2)break;c--}while(c>d);if(d>0){const s=t.charCodeAt(d-1),a=t.charCodeAt(c);(s===40&&a===41||s===91&&a===93||s===123&&a===125)&&c--}return{range:{startLineNumber:o,startColumn:d+1,endLineNumber:o,endColumn:c+2},url:t.substring(d,c+1)}}static computeLinks(n,t=L()){const o=v(),d=[];for(let r=1,c=n.getLineCount();r<=c;r++){const s=n.getLineContent(r),a=s.length;let l=0,f=0,g=0,b=1,p=!1,C=!1,S=!1,y=!1;for(;l<a;){let w=!1;const T=s.charCodeAt(l);if(b===13){let N;switch(T){case 40:p=!0,N=0;break;case 41:N=p?0:1;break;case 91:S=!0,C=!0,N=0;break;case 93:S=!1,N=C?0:1;break;case 123:y=!0,N=0;break;case 125:N=y?0:1;break;case 39:N=g===34||g===96?0:1;break;case 34:N=g===39||g===96?0:1;break;case 96:N=g===39||g===34?0:1;break;case 42:N=g===42?1:0;break;case 124:N=g===124?1:0;break;case 32:N=S?0:1;break;default:N=o.get(T)}N===1&&(d.push(u._createLink(o,s,r,f,l)),w=!0)}else if(b===12){let N;T===91?(C=!0,N=0):N=o.get(T),N===1?w=!0:b=13}else b=t.nextState(b,T),b===0&&(w=!0);w&&(b=1,p=!1,C=!1,y=!1,f=l+1,g=T),l++}b===13&&d.push(u._createLink(o,s,r,f,a))}return d}}e.LinkComputer=u;function h(i){return!i||typeof i.getLineCount!="function"||typeof i.getLineContent!="function"?[]:u.computeLinks(i)}e.computeLinks=h}),define(re[104],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreBracketsInToken=e.ScopedLineTokens=e.createScopedLineTokens=void 0;function E(I,L){const _=I.getCount(),v=I.findTokenIndexAtOffset(L),u=I.getLanguageId(v);let h=v;for(;h+1<_&&I.getLanguageId(h+1)===u;)h++;let i=v;for(;i>0&&I.getLanguageId(i-1)===u;)i--;return new m(I,u,i,h+1,I.getStartOffset(i),I.getEndOffset(h))}e.createScopedLineTokens=E;class m{constructor(L,_,v,u,h,i){this._scopedLineTokensBrand=void 0,this._actual=L,this.languageId=_,this._firstTokenIndex=v,this._lastTokenIndex=u,this.firstCharOffset=h,this._lastCharOffset=i}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(L){return this._actual.getLineContent().substring(0,this.firstCharOffset+L)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(L){return this._actual.findTokenIndexAtOffset(L+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(L){return this._actual.getStandardTokenType(L+this._firstTokenIndex)}}e.ScopedLineTokens=m;function k(I){return(I&3)!=0}e.ignoreBracketsInToken=k}),define(re[62],se([1,0,11,3,24,104,73,180]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isQuote=e.EditOperationResult=e.SingleCursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorState=e.CursorConfiguration=void 0;const v=()=>!0,u=()=>!1,h=s=>s===" "||s==="	";class i{constructor(a,l,f,g){this.languageConfigurationService=g,this._cursorMoveConfigurationBrand=void 0,this._languageId=a;const b=f.options,p=b.get(131);this.readOnly=b.get(81),this.tabSize=l.tabSize,this.indentSize=l.indentSize,this.insertSpaces=l.insertSpaces,this.stickyTabStops=b.get(104),this.lineHeight=b.get(59),this.pageSize=Math.max(1,Math.floor(p.height/this.lineHeight)-2),this.useTabStops=b.get(116),this.wordSeparators=b.get(117),this.emptySelectionClipboard=b.get(32),this.copyWithSyntaxHighlighting=b.get(21),this.multiCursorMergeOverlapping=b.get(69),this.multiCursorPaste=b.get(71),this.autoClosingBrackets=b.get(5),this.autoClosingQuotes=b.get(8),this.autoClosingDelete=b.get(6),this.autoClosingOvertype=b.get(7),this.autoSurround=b.get(11),this.autoIndent=b.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(a,this.autoClosingQuotes),bracket:this._getShouldAutoClose(a,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(a).getAutoClosingPairs();const C=this.languageConfigurationService.getLanguageConfiguration(a).getSurroundingPairs();if(C)for(const S of C)this.surroundingPairs[S.open]=S.close}static shouldRecreate(a){return a.hasChanged(131)||a.hasChanged(117)||a.hasChanged(32)||a.hasChanged(69)||a.hasChanged(71)||a.hasChanged(5)||a.hasChanged(8)||a.hasChanged(6)||a.hasChanged(7)||a.hasChanged(11)||a.hasChanged(116)||a.hasChanged(59)||a.hasChanged(81)}get electricChars(){var a;if(!this._electricChars){this._electricChars={};const l=(a=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||a===void 0?void 0:a.getElectricCharacters();if(l)for(const f of l)this._electricChars[f]=!0}return this._electricChars}onElectricCharacter(a,l,f){const g=(0,I.createScopedLineTokens)(l,f-1),b=this.languageConfigurationService.getLanguageConfiguration(g.languageId).electricCharacter;return b?b.onElectricCharacter(a,g,f-g.firstCharOffset):null}normalizeIndentation(a){return(0,_.normalizeIndentation)(a,this.indentSize,this.insertSpaces)}_getShouldAutoClose(a,l){switch(l){case"beforeWhitespace":return h;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(a);case"always":return v;case"never":return u}}_getLanguageDefinedShouldAutoClose(a){const l=this.languageConfigurationService.getLanguageConfiguration(a).getAutoCloseBeforeSet();return f=>l.indexOf(f)!==-1}visibleColumnFromColumn(a,l){return L.CursorColumns.visibleColumnFromColumn(a.getLineContent(l.lineNumber),l.column,this.tabSize)}columnFromVisibleColumn(a,l,f){const g=L.CursorColumns.columnFromVisibleColumn(a.getLineContent(l),f,this.tabSize),b=a.getLineMinColumn(l);if(g<b)return b;const p=a.getLineMaxColumn(l);return g>p?p:g}}e.CursorConfiguration=i;class n{constructor(a,l){this._cursorStateBrand=void 0,this.modelState=a,this.viewState=l}static fromModelState(a){return new t(a)}static fromViewState(a){return new o(a)}static fromModelSelection(a){const l=k.Selection.liftSelection(a),f=new d(m.Range.fromPositions(l.getSelectionStart()),0,l.getPosition(),0);return n.fromModelState(f)}static fromModelSelections(a){const l=[];for(let f=0,g=a.length;f<g;f++)l[f]=this.fromModelSelection(a[f]);return l}equals(a){return this.viewState.equals(a.viewState)&&this.modelState.equals(a.modelState)}}e.CursorState=n;class t{constructor(a){this.modelState=a,this.viewState=null}}e.PartialModelCursorState=t;class o{constructor(a){this.modelState=null,this.viewState=a}}e.PartialViewCursorState=o;class d{constructor(a,l,f,g){this._singleCursorStateBrand=void 0,this.selectionStart=a,this.selectionStartLeftoverVisibleColumns=l,this.position=f,this.leftoverVisibleColumns=g,this.selection=d._computeSelection(this.selectionStart,this.position)}equals(a){return this.selectionStartLeftoverVisibleColumns===a.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===a.leftoverVisibleColumns&&this.position.equals(a.position)&&this.selectionStart.equalsRange(a.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(a,l,f,g){return a?new d(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new E.Position(l,f),g):new d(new m.Range(l,f,l,f),g,new E.Position(l,f),g)}static _computeSelection(a,l){return a.isEmpty()||!l.isBeforeOrEqual(a.getStartPosition())?k.Selection.fromPositions(a.getStartPosition(),l):k.Selection.fromPositions(a.getEndPosition(),l)}}e.SingleCursorState=d;class r{constructor(a,l,f){this._editOperationResultBrand=void 0,this.type=a,this.commands=l,this.shouldPushStackElementBefore=f.shouldPushStackElementBefore,this.shouldPushStackElementAfter=f.shouldPushStackElementAfter}}e.EditOperationResult=r;function c(s){return s==="'"||s==='"'||s==="`"}e.isQuote=c}),define(re[420],se([1,0,62,11,3]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class I{static columnSelect(_,v,u,h,i,n){const t=Math.abs(i-u)+1,o=u>i,d=h>n,r=h<n,c=[];for(let s=0;s<t;s++){const a=u+(o?-s:s),l=_.columnFromVisibleColumn(v,a,h),f=_.columnFromVisibleColumn(v,a,n),g=_.visibleColumnFromColumn(v,new m.Position(a,l)),b=_.visibleColumnFromColumn(v,new m.Position(a,f));r&&(g>n||b<h)||d&&(b>h||g<n)||c.push(new E.SingleCursorState(new k.Range(a,l,a,l),0,new m.Position(a,f),0))}if(c.length===0)for(let s=0;s<t;s++){const a=u+(o?-s:s),l=v.getLineMaxColumn(a);c.push(new E.SingleCursorState(new k.Range(a,l,a,l),0,new m.Position(a,l),0))}return{viewStates:c,reversed:o,fromLineNumber:u,fromVisualColumn:h,toLineNumber:i,toVisualColumn:n}}static columnSelectLeft(_,v,u){let h=u.toViewVisualColumn;return h>0&&h--,I.columnSelect(_,v,u.fromViewLineNumber,u.fromViewVisualColumn,u.toViewLineNumber,h)}static columnSelectRight(_,v,u){let h=0;const i=Math.min(u.fromViewLineNumber,u.toViewLineNumber),n=Math.max(u.fromViewLineNumber,u.toViewLineNumber);for(let o=i;o<=n;o++){const d=v.getLineMaxColumn(o),r=_.visibleColumnFromColumn(v,new m.Position(o,d));h=Math.max(h,r)}let t=u.toViewVisualColumn;return t<h&&t++,this.columnSelect(_,v,u.fromViewLineNumber,u.fromViewVisualColumn,u.toViewLineNumber,t)}static columnSelectUp(_,v,u,h){const i=h?_.pageSize:1,n=Math.max(1,u.toViewLineNumber-i);return this.columnSelect(_,v,u.fromViewLineNumber,u.fromViewVisualColumn,n,u.toViewVisualColumn)}static columnSelectDown(_,v,u,h){const i=h?_.pageSize:1,n=Math.min(v.getLineCount(),u.toViewLineNumber+i);return this.columnSelect(_,v,u.fromViewLineNumber,u.fromViewVisualColumn,n,u.toViewVisualColumn)}}e.ColumnSelection=I}),define(re[183],se([1,0,62,73,11,3,8,244]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class v{constructor(i,n,t){this._cursorPositionBrand=void 0,this.lineNumber=i,this.column=n,this.leftoverVisibleColumns=t}}e.CursorPosition=v;class u{static leftPosition(i,n){if(n.column>i.getLineMinColumn(n.lineNumber))return n.delta(void 0,-L.prevCharLength(i.getLineContent(n.lineNumber),n.column-1));if(n.lineNumber>1){const t=n.lineNumber-1;return new k.Position(t,i.getLineMaxColumn(t))}else return n}static leftPositionAtomicSoftTabs(i,n,t){if(n.column<=i.getLineIndentColumn(n.lineNumber)){const o=i.getLineMinColumn(n.lineNumber),d=i.getLineContent(n.lineNumber),r=_.AtomicTabMoveOperations.atomicPosition(d,n.column-1,t,0);if(r!==-1&&r+1>=o)return new k.Position(n.lineNumber,r+1)}return this.leftPosition(i,n)}static left(i,n,t){const o=i.stickyTabStops?u.leftPositionAtomicSoftTabs(n,t,i.tabSize):u.leftPosition(n,t);return new v(o.lineNumber,o.column,0)}static moveLeft(i,n,t,o,d){let r,c;if(t.hasSelection()&&!o)r=t.selection.startLineNumber,c=t.selection.startColumn;else{const s=t.position.delta(void 0,-(d-1)),a=n.normalizePosition(u.clipPositionColumn(s,n),0),l=u.left(i,n,a);r=l.lineNumber,c=l.column}return t.move(o,r,c,0)}static clipPositionColumn(i,n){return new k.Position(i.lineNumber,u.clipRange(i.column,n.getLineMinColumn(i.lineNumber),n.getLineMaxColumn(i.lineNumber)))}static clipRange(i,n,t){return i<n?n:i>t?t:i}static rightPosition(i,n,t){return t<i.getLineMaxColumn(n)?t=t+L.nextCharLength(i.getLineContent(n),t-1):n<i.getLineCount()&&(n=n+1,t=i.getLineMinColumn(n)),new k.Position(n,t)}static rightPositionAtomicSoftTabs(i,n,t,o,d){if(t<i.getLineIndentColumn(n)){const r=i.getLineContent(n),c=_.AtomicTabMoveOperations.atomicPosition(r,t-1,o,1);if(c!==-1)return new k.Position(n,c+1)}return this.rightPosition(i,n,t)}static right(i,n,t){const o=i.stickyTabStops?u.rightPositionAtomicSoftTabs(n,t.lineNumber,t.column,i.tabSize,i.indentSize):u.rightPosition(n,t.lineNumber,t.column);return new v(o.lineNumber,o.column,0)}static moveRight(i,n,t,o,d){let r,c;if(t.hasSelection()&&!o)r=t.selection.endLineNumber,c=t.selection.endColumn;else{const s=t.position.delta(void 0,d-1),a=n.normalizePosition(u.clipPositionColumn(s,n),1),l=u.right(i,n,a);r=l.lineNumber,c=l.column}return t.move(o,r,c,0)}static vertical(i,n,t,o,d,r,c,s){const a=m.CursorColumns.visibleColumnFromColumn(n.getLineContent(t),o,i.tabSize)+d,l=n.getLineCount(),f=t===1&&o===1,g=t===l&&o===n.getLineMaxColumn(t),b=r<t?f:g;if(t=r,t<1?(t=1,c?o=n.getLineMinColumn(t):o=Math.min(n.getLineMaxColumn(t),o)):t>l?(t=l,c?o=n.getLineMaxColumn(t):o=Math.min(n.getLineMaxColumn(t),o)):o=i.columnFromVisibleColumn(n,t,a),b?d=0:d=a-m.CursorColumns.visibleColumnFromColumn(n.getLineContent(t),o,i.tabSize),s!==void 0){const p=new k.Position(t,o),C=n.normalizePosition(p,s);d=d+(o-C.column),t=C.lineNumber,o=C.column}return new v(t,o,d)}static down(i,n,t,o,d,r,c){return this.vertical(i,n,t,o,d,t+r,c,4)}static moveDown(i,n,t,o,d){let r,c;t.hasSelection()&&!o?(r=t.selection.endLineNumber,c=t.selection.endColumn):(r=t.position.lineNumber,c=t.position.column);const s=u.down(i,n,r,c,t.leftoverVisibleColumns,d,!0);return t.move(o,s.lineNumber,s.column,s.leftoverVisibleColumns)}static translateDown(i,n,t){const o=t.selection,d=u.down(i,n,o.selectionStartLineNumber,o.selectionStartColumn,t.selectionStartLeftoverVisibleColumns,1,!1),r=u.down(i,n,o.positionLineNumber,o.positionColumn,t.leftoverVisibleColumns,1,!1);return new E.SingleCursorState(new I.Range(d.lineNumber,d.column,d.lineNumber,d.column),d.leftoverVisibleColumns,new k.Position(r.lineNumber,r.column),r.leftoverVisibleColumns)}static up(i,n,t,o,d,r,c){return this.vertical(i,n,t,o,d,t-r,c,3)}static moveUp(i,n,t,o,d){let r,c;t.hasSelection()&&!o?(r=t.selection.startLineNumber,c=t.selection.startColumn):(r=t.position.lineNumber,c=t.position.column);const s=u.up(i,n,r,c,t.leftoverVisibleColumns,d,!0);return t.move(o,s.lineNumber,s.column,s.leftoverVisibleColumns)}static translateUp(i,n,t){const o=t.selection,d=u.up(i,n,o.selectionStartLineNumber,o.selectionStartColumn,t.selectionStartLeftoverVisibleColumns,1,!1),r=u.up(i,n,o.positionLineNumber,o.positionColumn,t.leftoverVisibleColumns,1,!1);return new E.SingleCursorState(new I.Range(d.lineNumber,d.column,d.lineNumber,d.column),d.leftoverVisibleColumns,new k.Position(r.lineNumber,r.column),r.leftoverVisibleColumns)}static _isBlankLine(i,n){return i.getLineFirstNonWhitespaceColumn(n)===0}static moveToPrevBlankLine(i,n,t,o){let d=t.position.lineNumber;for(;d>1&&this._isBlankLine(n,d);)d--;for(;d>1&&!this._isBlankLine(n,d);)d--;return t.move(o,d,n.getLineMinColumn(d),0)}static moveToNextBlankLine(i,n,t,o){const d=n.getLineCount();let r=t.position.lineNumber;for(;r<d&&this._isBlankLine(n,r);)r++;for(;r<d&&!this._isBlankLine(n,r);)r++;return t.move(o,r,n.getLineMinColumn(r),0)}static moveToBeginningOfLine(i,n,t,o){const d=t.position.lineNumber,r=n.getLineMinColumn(d),c=n.getLineFirstNonWhitespaceColumn(d)||r;let s;return t.position.column===c?s=r:s=c,t.move(o,d,s,0)}static moveToEndOfLine(i,n,t,o,d){const r=t.position.lineNumber,c=n.getLineMaxColumn(r);return t.move(o,r,c,d?1073741824-c:0)}static moveToBeginningOfBuffer(i,n,t,o){return t.move(o,1,1,0)}static moveToEndOfBuffer(i,n,t,o){const d=n.getLineCount(),r=n.getLineMaxColumn(d);return t.move(o,d,r,0)}}e.MoveOperations=u}),define(re[184],se([1,0,8,103,62,73,183,3,11]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class u{static deleteRight(i,n,t,o){const d=[];let r=i!==3;for(let c=0,s=o.length;c<s;c++){const a=o[c];let l=a;if(l.isEmpty()){const f=a.getPosition(),g=L.MoveOperations.right(n,t,f);l=new _.Range(g.lineNumber,g.column,f.lineNumber,f.column)}if(l.isEmpty()){d[c]=null;continue}l.startLineNumber!==l.endLineNumber&&(r=!0),d[c]=new m.ReplaceCommand(l,"")}return[r,d]}static isAutoClosingPairDelete(i,n,t,o,d,r,c){if(n==="never"&&t==="never"||i==="never")return!1;for(let s=0,a=r.length;s<a;s++){const l=r[s],f=l.getPosition();if(!l.isEmpty())return!1;const g=d.getLineContent(f.lineNumber);if(f.column<2||f.column>=g.length+1)return!1;const b=g.charAt(f.column-2),p=o.get(b);if(!p)return!1;if((0,k.isQuote)(b)){if(t==="never")return!1}else if(n==="never")return!1;const C=g.charAt(f.column-1);let S=!1;for(const y of p)y.open===b&&y.close===C&&(S=!0);if(!S)return!1;if(i==="auto"){let y=!1;for(let w=0,T=c.length;w<T;w++){const N=c[w];if(f.lineNumber===N.startLineNumber&&f.column===N.startColumn){y=!0;break}}if(!y)return!1}}return!0}static _runAutoClosingPairDelete(i,n,t){const o=[];for(let d=0,r=t.length;d<r;d++){const c=t[d].getPosition(),s=new _.Range(c.lineNumber,c.column-1,c.lineNumber,c.column+1);o[d]=new m.ReplaceCommand(s,"")}return[!0,o]}static deleteLeft(i,n,t,o,d){if(this.isAutoClosingPairDelete(n.autoClosingDelete,n.autoClosingBrackets,n.autoClosingQuotes,n.autoClosingPairs.autoClosingPairsOpenByEnd,t,o,d))return this._runAutoClosingPairDelete(n,t,o);const r=[];let c=i!==2;for(let s=0,a=o.length;s<a;s++){const l=u.getDeleteRange(o[s],t,n);if(l.isEmpty()){r[s]=null;continue}l.startLineNumber!==l.endLineNumber&&(c=!0),r[s]=new m.ReplaceCommand(l,"")}return[c,r]}static getDeleteRange(i,n,t){if(!i.isEmpty())return i;const o=i.getPosition();if(t.useTabStops&&o.column>1){const d=n.getLineContent(o.lineNumber),r=E.firstNonWhitespaceIndex(d),c=r===-1?d.length+1:r+1;if(o.column<=c){const s=t.visibleColumnFromColumn(n,o),a=I.CursorColumns.prevIndentTabStop(s,t.indentSize),l=t.columnFromVisibleColumn(n,o.lineNumber,a);return new _.Range(o.lineNumber,l,o.lineNumber,o.column)}}return _.Range.fromPositions(u.getPositionAfterDeleteLeft(o,n),o)}static getPositionAfterDeleteLeft(i,n){if(i.column>1){const t=E.getLeftDeleteOffset(i.column-1,n.getLineContent(i.lineNumber));return i.with(void 0,t+1)}else if(i.lineNumber>1){const t=i.lineNumber-1;return new v.Position(t,n.getLineMaxColumn(t))}else return i}static cut(i,n,t){const o=[];let d=null;t.sort((r,c)=>v.Position.compare(r.getStartPosition(),c.getEndPosition()));for(let r=0,c=t.length;r<c;r++){const s=t[r];if(s.isEmpty())if(i.emptySelectionClipboard){const a=s.getPosition();let l,f,g,b;a.lineNumber<n.getLineCount()?(l=a.lineNumber,f=1,g=a.lineNumber+1,b=1):a.lineNumber>1&&(d==null?void 0:d.endLineNumber)!==a.lineNumber?(l=a.lineNumber-1,f=n.getLineMaxColumn(a.lineNumber-1),g=a.lineNumber,b=n.getLineMaxColumn(a.lineNumber)):(l=a.lineNumber,f=1,g=a.lineNumber,b=n.getLineMaxColumn(a.lineNumber));const p=new _.Range(l,f,g,b);d=p,p.isEmpty()?o[r]=null:o[r]=new m.ReplaceCommand(p,"")}else o[r]=null;else o[r]=new m.ReplaceCommand(s,"")}return new k.EditOperationResult(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=u}),define(re[151],se([1,0,8,62,184,125,11,3]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class v{static _createWord(n,t,o,d,r){return{start:d,end:r,wordType:t,nextCharClass:o}}static _findPreviousWordOnLine(n,t,o){const d=t.getLineContent(o.lineNumber);return this._doFindPreviousWordOnLine(d,n,o)}static _doFindPreviousWordOnLine(n,t,o){let d=0;for(let r=o.column-2;r>=0;r--){const c=n.charCodeAt(r),s=t.get(c);if(s===0){if(d===2)return this._createWord(n,d,s,r+1,this._findEndOfWord(n,t,d,r+1));d=1}else if(s===2){if(d===1)return this._createWord(n,d,s,r+1,this._findEndOfWord(n,t,d,r+1));d=2}else if(s===1&&d!==0)return this._createWord(n,d,s,r+1,this._findEndOfWord(n,t,d,r+1))}return d!==0?this._createWord(n,d,1,0,this._findEndOfWord(n,t,d,0)):null}static _findEndOfWord(n,t,o,d){const r=n.length;for(let c=d;c<r;c++){const s=n.charCodeAt(c),a=t.get(s);if(a===1||o===1&&a===2||o===2&&a===0)return c}return r}static _findNextWordOnLine(n,t,o){const d=t.getLineContent(o.lineNumber);return this._doFindNextWordOnLine(d,n,o)}static _doFindNextWordOnLine(n,t,o){let d=0;const r=n.length;for(let c=o.column-1;c<r;c++){const s=n.charCodeAt(c),a=t.get(s);if(a===0){if(d===2)return this._createWord(n,d,a,this._findStartOfWord(n,t,d,c-1),c);d=1}else if(a===2){if(d===1)return this._createWord(n,d,a,this._findStartOfWord(n,t,d,c-1),c);d=2}else if(a===1&&d!==0)return this._createWord(n,d,a,this._findStartOfWord(n,t,d,c-1),c)}return d!==0?this._createWord(n,d,1,this._findStartOfWord(n,t,d,r-1),r):null}static _findStartOfWord(n,t,o,d){for(let r=d;r>=0;r--){const c=n.charCodeAt(r),s=t.get(c);if(s===1||o===1&&s===2||o===2&&s===0)return r+1}return 0}static moveWordLeft(n,t,o,d){let r=o.lineNumber,c=o.column;c===1&&r>1&&(r=r-1,c=t.getLineMaxColumn(r));let s=v._findPreviousWordOnLine(n,t,new L.Position(r,c));if(d===0)return new L.Position(r,s?s.start+1:1);if(d===1)return s&&s.wordType===2&&s.end-s.start==1&&s.nextCharClass===0&&(s=v._findPreviousWordOnLine(n,t,new L.Position(r,s.start+1))),new L.Position(r,s?s.start+1:1);if(d===3){for(;s&&s.wordType===2;)s=v._findPreviousWordOnLine(n,t,new L.Position(r,s.start+1));return new L.Position(r,s?s.start+1:1)}return s&&c<=s.end+1&&(s=v._findPreviousWordOnLine(n,t,new L.Position(r,s.start+1))),new L.Position(r,s?s.end+1:1)}static _moveWordPartLeft(n,t){const o=t.lineNumber,d=n.getLineMaxColumn(o);if(t.column===1)return o>1?new L.Position(o-1,n.getLineMaxColumn(o-1)):t;const r=n.getLineContent(o);for(let c=t.column-1;c>1;c--){const s=r.charCodeAt(c-2),a=r.charCodeAt(c-1);if(s===95&&a!==95)return new L.Position(o,c);if(E.isLowerAsciiLetter(s)&&E.isUpperAsciiLetter(a))return new L.Position(o,c);if(E.isUpperAsciiLetter(s)&&E.isUpperAsciiLetter(a)&&c+1<d){const l=r.charCodeAt(c);if(E.isLowerAsciiLetter(l))return new L.Position(o,c)}}return new L.Position(o,1)}static moveWordRight(n,t,o,d){let r=o.lineNumber,c=o.column,s=!1;c===t.getLineMaxColumn(r)&&r<t.getLineCount()&&(s=!0,r=r+1,c=1);let a=v._findNextWordOnLine(n,t,new L.Position(r,c));if(d===2)a&&a.wordType===2&&a.end-a.start==1&&a.nextCharClass===0&&(a=v._findNextWordOnLine(n,t,new L.Position(r,a.end+1))),a?c=a.end+1:c=t.getLineMaxColumn(r);else if(d===3){for(s&&(c=0);a&&(a.wordType===2||a.start+1<=c);)a=v._findNextWordOnLine(n,t,new L.Position(r,a.end+1));a?c=a.start+1:c=t.getLineMaxColumn(r)}else a&&!s&&c>=a.start+1&&(a=v._findNextWordOnLine(n,t,new L.Position(r,a.end+1))),a?c=a.start+1:c=t.getLineMaxColumn(r);return new L.Position(r,c)}static _moveWordPartRight(n,t){const o=t.lineNumber,d=n.getLineMaxColumn(o);if(t.column===d)return o<n.getLineCount()?new L.Position(o+1,1):t;const r=n.getLineContent(o);for(let c=t.column+1;c<d;c++){const s=r.charCodeAt(c-2),a=r.charCodeAt(c-1);if(s!==95&&a===95)return new L.Position(o,c);if(E.isLowerAsciiLetter(s)&&E.isUpperAsciiLetter(a))return new L.Position(o,c);if(E.isUpperAsciiLetter(s)&&E.isUpperAsciiLetter(a)&&c+1<d){const l=r.charCodeAt(c);if(E.isLowerAsciiLetter(l))return new L.Position(o,c)}}return new L.Position(o,d)}static _deleteWordLeftWhitespace(n,t){const o=n.getLineContent(t.lineNumber),d=t.column-2,r=E.lastNonWhitespaceIndex(o,d);return r+1<d?new _.Range(t.lineNumber,r+2,t.lineNumber,t.column):null}static deleteWordLeft(n,t){const o=n.wordSeparators,d=n.model,r=n.selection,c=n.whitespaceHeuristics;if(!r.isEmpty())return r;if(k.DeleteOperations.isAutoClosingPairDelete(n.autoClosingDelete,n.autoClosingBrackets,n.autoClosingQuotes,n.autoClosingPairs.autoClosingPairsOpenByEnd,n.model,[n.selection],n.autoClosedCharacters)){const g=n.selection.getPosition();return new _.Range(g.lineNumber,g.column-1,g.lineNumber,g.column+1)}const s=new L.Position(r.positionLineNumber,r.positionColumn);let a=s.lineNumber,l=s.column;if(a===1&&l===1)return null;if(c){const g=this._deleteWordLeftWhitespace(d,s);if(g)return g}let f=v._findPreviousWordOnLine(o,d,s);return t===0?f?l=f.start+1:l>1?l=1:(a--,l=d.getLineMaxColumn(a)):(f&&l<=f.end+1&&(f=v._findPreviousWordOnLine(o,d,new L.Position(a,f.start+1))),f?l=f.end+1:l>1?l=1:(a--,l=d.getLineMaxColumn(a))),new _.Range(a,l,s.lineNumber,s.column)}static deleteInsideWord(n,t,o){if(!o.isEmpty())return o;const d=new L.Position(o.positionLineNumber,o.positionColumn),r=this._deleteInsideWordWhitespace(t,d);return r||this._deleteInsideWordDetermineDeleteRange(n,t,d)}static _charAtIsWhitespace(n,t){const o=n.charCodeAt(t);return o===32||o===9}static _deleteInsideWordWhitespace(n,t){const o=n.getLineContent(t.lineNumber),d=o.length;if(d===0)return null;let r=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(o,r))return null;let c=Math.min(t.column-1,d-1);if(!this._charAtIsWhitespace(o,c))return null;for(;r>0&&this._charAtIsWhitespace(o,r-1);)r--;for(;c+1<d&&this._charAtIsWhitespace(o,c+1);)c++;return new _.Range(t.lineNumber,r+1,t.lineNumber,c+2)}static _deleteInsideWordDetermineDeleteRange(n,t,o){const d=t.getLineContent(o.lineNumber),r=d.length;if(r===0)return o.lineNumber>1?new _.Range(o.lineNumber-1,t.getLineMaxColumn(o.lineNumber-1),o.lineNumber,1):o.lineNumber<t.getLineCount()?new _.Range(o.lineNumber,1,o.lineNumber+1,1):new _.Range(o.lineNumber,1,o.lineNumber,1);const c=g=>g.start+1<=o.column&&o.column<=g.end+1,s=(g,b)=>(g=Math.min(g,o.column),b=Math.max(b,o.column),new _.Range(o.lineNumber,g,o.lineNumber,b)),a=g=>{let b=g.start+1,p=g.end+1,C=!1;for(;p-1<r&&this._charAtIsWhitespace(d,p-1);)C=!0,p++;if(!C)for(;b>1&&this._charAtIsWhitespace(d,b-2);)b--;return s(b,p)},l=v._findPreviousWordOnLine(n,t,o);if(l&&c(l))return a(l);const f=v._findNextWordOnLine(n,t,o);return f&&c(f)?a(f):l&&f?s(l.end+1,f.start+1):l?s(l.start+1,l.end+1):f?s(f.start+1,f.end+1):s(1,r+1)}static _deleteWordPartLeft(n,t){if(!t.isEmpty())return t;const o=t.getPosition(),d=v._moveWordPartLeft(n,o);return new _.Range(o.lineNumber,o.column,d.lineNumber,d.column)}static _findFirstNonWhitespaceChar(n,t){const o=n.length;for(let d=t;d<o;d++){const r=n.charAt(d);if(r!==" "&&r!=="	")return d}return o}static _deleteWordRightWhitespace(n,t){const o=n.getLineContent(t.lineNumber),d=t.column-1,r=this._findFirstNonWhitespaceChar(o,d);return d+1<r?new _.Range(t.lineNumber,t.column,t.lineNumber,r+1):null}static deleteWordRight(n,t){const o=n.wordSeparators,d=n.model,r=n.selection,c=n.whitespaceHeuristics;if(!r.isEmpty())return r;const s=new L.Position(r.positionLineNumber,r.positionColumn);let a=s.lineNumber,l=s.column;const f=d.getLineCount(),g=d.getLineMaxColumn(a);if(a===f&&l===g)return null;if(c){const p=this._deleteWordRightWhitespace(d,s);if(p)return p}let b=v._findNextWordOnLine(o,d,s);return t===2?b?l=b.end+1:l<g||a===f?l=g:(a++,b=v._findNextWordOnLine(o,d,new L.Position(a,1)),b?l=b.start+1:l=d.getLineMaxColumn(a)):(b&&l>=b.start+1&&(b=v._findNextWordOnLine(o,d,new L.Position(a,b.end+1))),b?l=b.start+1:l<g||a===f?l=g:(a++,b=v._findNextWordOnLine(o,d,new L.Position(a,1)),b?l=b.start+1:l=d.getLineMaxColumn(a))),new _.Range(a,l,s.lineNumber,s.column)}static _deleteWordPartRight(n,t){if(!t.isEmpty())return t;const o=t.getPosition(),d=v._moveWordPartRight(n,o);return new _.Range(o.lineNumber,o.column,d.lineNumber,d.column)}static _createWordAtPosition(n,t,o){const d=new _.Range(t,o.start+1,t,o.end+1);return{word:n.getValueInRange(d),startColumn:d.startColumn,endColumn:d.endColumn}}static getWordAtPosition(n,t,o){const d=(0,I.getMapForWordSeparators)(t),r=v._findPreviousWordOnLine(d,n,o);if(r&&r.wordType===1&&r.start<=o.column-1&&o.column-1<=r.end)return v._createWordAtPosition(n,o.lineNumber,r);const c=v._findNextWordOnLine(d,n,o);return c&&c.wordType===1&&c.start<=o.column-1&&o.column-1<=c.end?v._createWordAtPosition(n,o.lineNumber,c):null}static word(n,t,o,d,r){const c=(0,I.getMapForWordSeparators)(n.wordSeparators),s=v._findPreviousWordOnLine(c,t,r),a=v._findNextWordOnLine(c,t,r);if(!d){let p,C;return s&&s.wordType===1&&s.start<=r.column-1&&r.column-1<=s.end?(p=s.start+1,C=s.end+1):a&&a.wordType===1&&a.start<=r.column-1&&r.column-1<=a.end?(p=a.start+1,C=a.end+1):(s?p=s.end+1:p=1,a?C=a.start+1:C=t.getLineMaxColumn(r.lineNumber)),new m.SingleCursorState(new _.Range(r.lineNumber,p,r.lineNumber,C),0,new L.Position(r.lineNumber,C),0)}let l,f;s&&s.wordType===1&&s.start<r.column-1&&r.column-1<s.end?(l=s.start+1,f=s.end+1):a&&a.wordType===1&&a.start<r.column-1&&r.column-1<a.end?(l=a.start+1,f=a.end+1):(l=r.column,f=r.column);const g=r.lineNumber;let b;if(o.selectionStart.containsPosition(r))b=o.selectionStart.endColumn;else if(r.isBeforeOrEqual(o.selectionStart.getStartPosition())){b=l;const p=new L.Position(g,b);o.selectionStart.containsPosition(p)&&(b=o.selectionStart.endColumn)}else{b=f;const p=new L.Position(g,b);o.selectionStart.containsPosition(p)&&(b=o.selectionStart.startColumn)}return o.move(!0,g,b,0)}}e.WordOperations=v;class u extends v{static deleteWordPartLeft(n){const t=h([v.deleteWordLeft(n,0),v.deleteWordLeft(n,2),v._deleteWordPartLeft(n.model,n.selection)]);return t.sort(_.Range.compareRangesUsingEnds),t[2]}static deleteWordPartRight(n){const t=h([v.deleteWordRight(n,0),v.deleteWordRight(n,2),v._deleteWordPartRight(n.model,n.selection)]);return t.sort(_.Range.compareRangesUsingStarts),t[0]}static moveWordPartLeft(n,t,o){const d=h([v.moveWordLeft(n,t,o,0),v.moveWordLeft(n,t,o,2),v._moveWordPartLeft(t,o)]);return d.sort(L.Position.compare),d[2]}static moveWordPartRight(n,t,o){const d=h([v.moveWordRight(n,t,o,0),v.moveWordRight(n,t,o,2),v._moveWordPartRight(t,o)]);return d.sort(L.Position.compare),d[0]}}e.WordPartOperations=u;function h(i){return i.filter(n=>Boolean(n))}}),define(re[185],se([1,0,19,62,183,151,11,3]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class v{static addCursorDown(i,n,t){const o=[];let d=0;for(let r=0,c=n.length;r<c;r++){const s=n[r];o[d++]=new m.CursorState(s.modelState,s.viewState),t?o[d++]=m.CursorState.fromModelState(k.MoveOperations.translateDown(i.cursorConfig,i.model,s.modelState)):o[d++]=m.CursorState.fromViewState(k.MoveOperations.translateDown(i.cursorConfig,i,s.viewState))}return o}static addCursorUp(i,n,t){const o=[];let d=0;for(let r=0,c=n.length;r<c;r++){const s=n[r];o[d++]=new m.CursorState(s.modelState,s.viewState),t?o[d++]=m.CursorState.fromModelState(k.MoveOperations.translateUp(i.cursorConfig,i.model,s.modelState)):o[d++]=m.CursorState.fromViewState(k.MoveOperations.translateUp(i.cursorConfig,i,s.viewState))}return o}static moveToBeginningOfLine(i,n,t){let o=[];for(let d=0,r=n.length;d<r;d++){const c=n[d];o[d]=this._moveToLineStart(i,c,t)}return o}static _moveToLineStart(i,n,t){const o=n.viewState.position.column,d=n.modelState.position.column,r=o===d,c=n.viewState.position.lineNumber,s=i.getLineFirstNonWhitespaceColumn(c);return!r&&!(o===s)?this._moveToLineStartByView(i,n,t):this._moveToLineStartByModel(i,n,t)}static _moveToLineStartByView(i,n,t){return m.CursorState.fromViewState(k.MoveOperations.moveToBeginningOfLine(i.cursorConfig,i,n.viewState,t))}static _moveToLineStartByModel(i,n,t){return m.CursorState.fromModelState(k.MoveOperations.moveToBeginningOfLine(i.cursorConfig,i.model,n.modelState,t))}static moveToEndOfLine(i,n,t,o){const d=[];for(let r=0,c=n.length;r<c;r++){const s=n[r];d[r]=this._moveToLineEnd(i,s,t,o)}return d}static _moveToLineEnd(i,n,t,o){const d=n.viewState.position,r=i.getLineMaxColumn(d.lineNumber),c=d.column===r,s=n.modelState.position,a=i.model.getLineMaxColumn(s.lineNumber),l=r-d.column==a-s.column;return c||l?this._moveToLineEndByModel(i,n,t,o):this._moveToLineEndByView(i,n,t,o)}static _moveToLineEndByView(i,n,t,o){return m.CursorState.fromViewState(k.MoveOperations.moveToEndOfLine(i.cursorConfig,i,n.viewState,t,o))}static _moveToLineEndByModel(i,n,t,o){return m.CursorState.fromModelState(k.MoveOperations.moveToEndOfLine(i.cursorConfig,i.model,n.modelState,t,o))}static expandLineSelection(i,n){const t=[];for(let o=0,d=n.length;o<d;o++){const r=n[o],c=r.modelState.selection.startLineNumber,s=i.model.getLineCount();let a=r.modelState.selection.endLineNumber,l;a===s?l=i.model.getLineMaxColumn(s):(a++,l=1),t[o]=m.CursorState.fromModelState(new m.SingleCursorState(new _.Range(c,1,c,1),0,new L.Position(a,l),0))}return t}static moveToBeginningOfBuffer(i,n,t){const o=[];for(let d=0,r=n.length;d<r;d++){const c=n[d];o[d]=m.CursorState.fromModelState(k.MoveOperations.moveToBeginningOfBuffer(i.cursorConfig,i.model,c.modelState,t))}return o}static moveToEndOfBuffer(i,n,t){const o=[];for(let d=0,r=n.length;d<r;d++){const c=n[d];o[d]=m.CursorState.fromModelState(k.MoveOperations.moveToEndOfBuffer(i.cursorConfig,i.model,c.modelState,t))}return o}static selectAll(i,n){const t=i.model.getLineCount(),o=i.model.getLineMaxColumn(t);return m.CursorState.fromModelState(new m.SingleCursorState(new _.Range(1,1,1,1),0,new L.Position(t,o),0))}static line(i,n,t,o,d){const r=i.model.validatePosition(o),c=d?i.coordinatesConverter.validateViewPosition(new L.Position(d.lineNumber,d.column),r):i.coordinatesConverter.convertModelPositionToViewPosition(r);if(!t||!n.modelState.hasSelection()){const a=i.model.getLineCount();let l=r.lineNumber+1,f=1;return l>a&&(l=a,f=i.model.getLineMaxColumn(l)),m.CursorState.fromModelState(new m.SingleCursorState(new _.Range(r.lineNumber,1,l,f),0,new L.Position(l,f),0))}const s=n.modelState.selectionStart.getStartPosition().lineNumber;if(r.lineNumber<s)return m.CursorState.fromViewState(n.viewState.move(n.modelState.hasSelection(),c.lineNumber,1,0));if(r.lineNumber>s){const a=i.getLineCount();let l=c.lineNumber+1,f=1;return l>a&&(l=a,f=i.getLineMaxColumn(l)),m.CursorState.fromViewState(n.viewState.move(n.modelState.hasSelection(),l,f,0))}else{const a=n.modelState.selectionStart.getEndPosition();return m.CursorState.fromModelState(n.modelState.move(n.modelState.hasSelection(),a.lineNumber,a.column,0))}}static word(i,n,t,o){const d=i.model.validatePosition(o);return m.CursorState.fromModelState(I.WordOperations.word(i.cursorConfig,i.model,n.modelState,t,d))}static cancelSelection(i,n){if(!n.modelState.hasSelection())return new m.CursorState(n.modelState,n.viewState);const t=n.viewState.position.lineNumber,o=n.viewState.position.column;return m.CursorState.fromViewState(new m.SingleCursorState(new _.Range(t,o,t,o),0,new L.Position(t,o),0))}static moveTo(i,n,t,o,d){const r=i.model.validatePosition(o),c=d?i.coordinatesConverter.validateViewPosition(new L.Position(d.lineNumber,d.column),r):i.coordinatesConverter.convertModelPositionToViewPosition(r);return m.CursorState.fromViewState(n.viewState.move(t,c.lineNumber,c.column,0))}static simpleMove(i,n,t,o,d,r){switch(t){case 0:return r===4?this._moveHalfLineLeft(i,n,o):this._moveLeft(i,n,o,d);case 1:return r===4?this._moveHalfLineRight(i,n,o):this._moveRight(i,n,o,d);case 2:return r===2?this._moveUpByViewLines(i,n,o,d):this._moveUpByModelLines(i,n,o,d);case 3:return r===2?this._moveDownByViewLines(i,n,o,d):this._moveDownByModelLines(i,n,o,d);case 4:return r===2?n.map(c=>m.CursorState.fromViewState(k.MoveOperations.moveToPrevBlankLine(i.cursorConfig,i,c.viewState,o))):n.map(c=>m.CursorState.fromModelState(k.MoveOperations.moveToPrevBlankLine(i.cursorConfig,i.model,c.modelState,o)));case 5:return r===2?n.map(c=>m.CursorState.fromViewState(k.MoveOperations.moveToNextBlankLine(i.cursorConfig,i,c.viewState,o))):n.map(c=>m.CursorState.fromModelState(k.MoveOperations.moveToNextBlankLine(i.cursorConfig,i.model,c.modelState,o)));case 6:return this._moveToViewMinColumn(i,n,o);case 7:return this._moveToViewFirstNonWhitespaceColumn(i,n,o);case 8:return this._moveToViewCenterColumn(i,n,o);case 9:return this._moveToViewMaxColumn(i,n,o);case 10:return this._moveToViewLastNonWhitespaceColumn(i,n,o);default:return null}}static viewportMove(i,n,t,o,d){const r=i.getCompletelyVisibleViewRange(),c=i.coordinatesConverter.convertViewRangeToModelRange(r);switch(t){case 11:{const s=this._firstLineNumberInRange(i.model,c,d),a=i.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(i,n[0],o,s,a)]}case 13:{const s=this._lastLineNumberInRange(i.model,c,d),a=i.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(i,n[0],o,s,a)]}case 12:{const s=Math.round((c.startLineNumber+c.endLineNumber)/2),a=i.model.getLineFirstNonWhitespaceColumn(s);return[this._moveToModelPosition(i,n[0],o,s,a)]}case 14:{const s=[];for(let a=0,l=n.length;a<l;a++){const f=n[a];s[a]=this.findPositionInViewportIfOutside(i,f,r,o)}return s}default:return null}}static findPositionInViewportIfOutside(i,n,t,o){const d=n.viewState.position.lineNumber;if(t.startLineNumber<=d&&d<=t.endLineNumber-1)return new m.CursorState(n.modelState,n.viewState);{let r;d>t.endLineNumber-1?r=t.endLineNumber-1:d<t.startLineNumber?r=t.startLineNumber:r=d;const c=k.MoveOperations.vertical(i.cursorConfig,i,d,n.viewState.position.column,n.viewState.leftoverVisibleColumns,r,!1);return m.CursorState.fromViewState(n.viewState.move(o,c.lineNumber,c.column,c.leftoverVisibleColumns))}}static _firstLineNumberInRange(i,n,t){let o=n.startLineNumber;return n.startColumn!==i.getLineMinColumn(o)&&o++,Math.min(n.endLineNumber,o+t-1)}static _lastLineNumberInRange(i,n,t){let o=n.startLineNumber;return n.startColumn!==i.getLineMinColumn(o)&&o++,Math.max(o,n.endLineNumber-t+1)}static _moveLeft(i,n,t,o){return n.map(d=>m.CursorState.fromViewState(k.MoveOperations.moveLeft(i.cursorConfig,i,d.viewState,t,o)))}static _moveHalfLineLeft(i,n,t){const o=[];for(let d=0,r=n.length;d<r;d++){const c=n[d],s=c.viewState.position.lineNumber,a=Math.round(i.getLineContent(s).length/2);o[d]=m.CursorState.fromViewState(k.MoveOperations.moveLeft(i.cursorConfig,i,c.viewState,t,a))}return o}static _moveRight(i,n,t,o){return n.map(d=>m.CursorState.fromViewState(k.MoveOperations.moveRight(i.cursorConfig,i,d.viewState,t,o)))}static _moveHalfLineRight(i,n,t){const o=[];for(let d=0,r=n.length;d<r;d++){const c=n[d],s=c.viewState.position.lineNumber,a=Math.round(i.getLineContent(s).length/2);o[d]=m.CursorState.fromViewState(k.MoveOperations.moveRight(i.cursorConfig,i,c.viewState,t,a))}return o}static _moveDownByViewLines(i,n,t,o){const d=[];for(let r=0,c=n.length;r<c;r++){const s=n[r];d[r]=m.CursorState.fromViewState(k.MoveOperations.moveDown(i.cursorConfig,i,s.viewState,t,o))}return d}static _moveDownByModelLines(i,n,t,o){const d=[];for(let r=0,c=n.length;r<c;r++){const s=n[r];d[r]=m.CursorState.fromModelState(k.MoveOperations.moveDown(i.cursorConfig,i.model,s.modelState,t,o))}return d}static _moveUpByViewLines(i,n,t,o){const d=[];for(let r=0,c=n.length;r<c;r++){const s=n[r];d[r]=m.CursorState.fromViewState(k.MoveOperations.moveUp(i.cursorConfig,i,s.viewState,t,o))}return d}static _moveUpByModelLines(i,n,t,o){const d=[];for(let r=0,c=n.length;r<c;r++){const s=n[r];d[r]=m.CursorState.fromModelState(k.MoveOperations.moveUp(i.cursorConfig,i.model,s.modelState,t,o))}return d}static _moveToViewPosition(i,n,t,o,d){return m.CursorState.fromViewState(n.viewState.move(t,o,d,0))}static _moveToModelPosition(i,n,t,o,d){return m.CursorState.fromModelState(n.modelState.move(t,o,d,0))}static _moveToViewMinColumn(i,n,t){const o=[];for(let d=0,r=n.length;d<r;d++){const c=n[d],s=c.viewState.position.lineNumber,a=i.getLineMinColumn(s);o[d]=this._moveToViewPosition(i,c,t,s,a)}return o}static _moveToViewFirstNonWhitespaceColumn(i,n,t){const o=[];for(let d=0,r=n.length;d<r;d++){const c=n[d],s=c.viewState.position.lineNumber,a=i.getLineFirstNonWhitespaceColumn(s);o[d]=this._moveToViewPosition(i,c,t,s,a)}return o}static _moveToViewCenterColumn(i,n,t){const o=[];for(let d=0,r=n.length;d<r;d++){const c=n[d],s=c.viewState.position.lineNumber,a=Math.round((i.getLineMaxColumn(s)+i.getLineMinColumn(s))/2);o[d]=this._moveToViewPosition(i,c,t,s,a)}return o}static _moveToViewMaxColumn(i,n,t){const o=[];for(let d=0,r=n.length;d<r;d++){const c=n[d],s=c.viewState.position.lineNumber,a=i.getLineMaxColumn(s);o[d]=this._moveToViewPosition(i,c,t,s,a)}return o}static _moveToViewLastNonWhitespaceColumn(i,n,t){const o=[];for(let d=0,r=n.length;d<r;d++){const c=n[d],s=c.viewState.position.lineNumber,a=i.getLineLastNonWhitespaceColumn(s);o[d]=this._moveToViewPosition(i,c,t,s,a)}return o}}e.CursorMoveCommands=v;var u;(function(h){const i=function(t){if(!E.isObject(t))return!1;const o=t;return!(!E.isString(o.to)||!E.isUndefined(o.select)&&!E.isBoolean(o.select)||!E.isUndefined(o.by)&&!E.isString(o.by)||!E.isUndefined(o.value)&&!E.isNumber(o.value))};h.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:i,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},h.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},h.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function n(t){if(!t.to)return null;let o;switch(t.to){case h.RawDirection.Left:o=0;break;case h.RawDirection.Right:o=1;break;case h.RawDirection.Up:o=2;break;case h.RawDirection.Down:o=3;break;case h.RawDirection.PrevBlankLine:o=4;break;case h.RawDirection.NextBlankLine:o=5;break;case h.RawDirection.WrappedLineStart:o=6;break;case h.RawDirection.WrappedLineFirstNonWhitespaceCharacter:o=7;break;case h.RawDirection.WrappedLineColumnCenter:o=8;break;case h.RawDirection.WrappedLineEnd:o=9;break;case h.RawDirection.WrappedLineLastNonWhitespaceCharacter:o=10;break;case h.RawDirection.ViewPortTop:o=11;break;case h.RawDirection.ViewPortBottom:o=13;break;case h.RawDirection.ViewPortCenter:o=12;break;case h.RawDirection.ViewPortIfOutside:o=14;break;default:return null}let d=0;switch(t.by){case h.RawUnit.Line:d=1;break;case h.RawUnit.WrappedLine:d=2;break;case h.RawUnit.Character:d=3;break;case h.RawUnit.HalfLine:d=4;break}return{direction:o,unit:d,select:!!t.select,value:t.value||1}}h.parse=n})(u=e.CursorMove||(e.CursorMove={}))}),define(re[421],se([1,0,62,11,3,24]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class L{constructor(v){this._selTrackedRange=null,this._trackSelection=!0,this._setState(v,new E.SingleCursorState(new k.Range(1,1,1,1),0,new m.Position(1,1),0),new E.SingleCursorState(new k.Range(1,1,1,1),0,new m.Position(1,1),0))}dispose(v){this._removeTrackedRange(v)}startTrackingSelection(v){this._trackSelection=!0,this._updateTrackedRange(v)}stopTrackingSelection(v){this._trackSelection=!1,this._removeTrackedRange(v)}_updateTrackedRange(v){!this._trackSelection||(this._selTrackedRange=v.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(v){this._selTrackedRange=v.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new E.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(v){const u=v.model._getTrackedRange(this._selTrackedRange);return I.Selection.fromRange(u,this.modelState.selection.getDirection())}ensureValidState(v){this._setState(v,this.modelState,this.viewState)}setState(v,u,h){this._setState(v,u,h)}static _validatePositionWithCache(v,u,h,i){return u.equals(h)?i:v.normalizePosition(u,2)}static _validateViewState(v,u){const h=u.position,i=u.selectionStart.getStartPosition(),n=u.selectionStart.getEndPosition(),t=v.normalizePosition(h,2),o=this._validatePositionWithCache(v,i,h,t),d=this._validatePositionWithCache(v,n,i,o);return h.equals(t)&&i.equals(o)&&n.equals(d)?u:new E.SingleCursorState(k.Range.fromPositions(o,d),u.selectionStartLeftoverVisibleColumns+i.column-o.column,t,u.leftoverVisibleColumns+h.column-t.column)}_setState(v,u,h){if(h&&(h=L._validateViewState(v.viewModel,h)),u){const i=v.model.validateRange(u.selectionStart),n=u.selectionStart.equalsRange(i)?u.selectionStartLeftoverVisibleColumns:0,t=v.model.validatePosition(u.position),o=u.position.equals(t)?u.leftoverVisibleColumns:0;u=new E.SingleCursorState(i,n,t,o)}else{if(!h)return;const i=v.model.validateRange(v.coordinatesConverter.convertViewRangeToModelRange(h.selectionStart)),n=v.model.validatePosition(v.coordinatesConverter.convertViewPositionToModelPosition(h.position));u=new E.SingleCursorState(i,h.selectionStartLeftoverVisibleColumns,n,h.leftoverVisibleColumns)}if(h){const i=v.coordinatesConverter.validateViewRange(h.selectionStart,u.selectionStart),n=v.coordinatesConverter.validateViewPosition(h.position,u.position);h=new E.SingleCursorState(i,u.selectionStartLeftoverVisibleColumns,n,u.leftoverVisibleColumns)}else{const i=v.coordinatesConverter.convertModelPositionToViewPosition(new m.Position(u.selectionStart.startLineNumber,u.selectionStart.startColumn)),n=v.coordinatesConverter.convertModelPositionToViewPosition(new m.Position(u.selectionStart.endLineNumber,u.selectionStart.endColumn)),t=new k.Range(i.lineNumber,i.column,n.lineNumber,n.column),o=v.coordinatesConverter.convertModelPositionToViewPosition(u.position);h=new E.SingleCursorState(t,u.selectionStartLeftoverVisibleColumns,o,u.leftoverVisibleColumns)}this.modelState=u,this.viewState=h,this._updateTrackedRange(v)}}e.Cursor=L}),define(re[422],se([1,0,18,62,421,11,3,24]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class v{constructor(h){this.context=h,this.cursors=[new k.Cursor(h)],this.lastAddedCursorIndex=0}dispose(){for(const h of this.cursors)h.dispose(this.context)}startTrackingSelections(){for(const h of this.cursors)h.startTrackingSelection(this.context)}stopTrackingSelections(){for(const h of this.cursors)h.stopTrackingSelection(this.context)}updateContext(h){this.context=h}ensureValidState(){for(const h of this.cursors)h.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(h=>h.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(h=>h.asCursorState())}getViewPositions(){return this.cursors.map(h=>h.viewState.position)}getTopMostViewPosition(){return(0,E.findMinBy)(this.cursors,(0,E.compareBy)(h=>h.viewState.position,I.Position.compare)).viewState.position}getBottomMostViewPosition(){return(0,E.findLastMaxBy)(this.cursors,(0,E.compareBy)(h=>h.viewState.position,I.Position.compare)).viewState.position}getSelections(){return this.cursors.map(h=>h.modelState.selection)}getViewSelections(){return this.cursors.map(h=>h.viewState.selection)}setSelections(h){this.setStates(m.CursorState.fromModelSelections(h))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(h){h!==null&&(this.cursors[0].setState(this.context,h[0].modelState,h[0].viewState),this._setSecondaryStates(h.slice(1)))}_setSecondaryStates(h){const i=this.cursors.length-1,n=h.length;if(i<n){const t=n-i;for(let o=0;o<t;o++)this._addSecondaryCursor()}else if(i>n){const t=i-n;for(let o=0;o<t;o++)this._removeSecondaryCursor(this.cursors.length-2)}for(let t=0;t<n;t++)this.cursors[t+1].setState(this.context,h[t].modelState,h[t].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new k.Cursor(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(h){this.lastAddedCursorIndex>=h+1&&this.lastAddedCursorIndex--,this.cursors[h+1].dispose(this.context),this.cursors.splice(h+1,1)}normalize(){if(this.cursors.length===1)return;const h=this.cursors.slice(0),i=[];for(let n=0,t=h.length;n<t;n++)i.push({index:n,selection:h[n].modelState.selection});i.sort((0,E.compareBy)(n=>n.selection,L.Range.compareRangesUsingStarts));for(let n=0;n<i.length-1;n++){const t=i[n],o=i[n+1],d=t.selection,r=o.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let c;if(r.isEmpty()||d.isEmpty()?c=r.getStartPosition().isBeforeOrEqual(d.getEndPosition()):c=r.getStartPosition().isBefore(d.getEndPosition()),c){const s=t.index<o.index?n:n+1,a=t.index<o.index?n+1:n,l=i[a].index,f=i[s].index,g=i[a].selection,b=i[s].selection;if(!g.equalsSelection(b)){const p=g.plusRange(b),C=g.selectionStartLineNumber===g.startLineNumber&&g.selectionStartColumn===g.startColumn,S=b.selectionStartLineNumber===b.startLineNumber&&b.selectionStartColumn===b.startColumn;let y;l===this.lastAddedCursorIndex?(y=C,this.lastAddedCursorIndex=f):y=S;let w;y?w=new _.Selection(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn):w=new _.Selection(p.endLineNumber,p.endColumn,p.startLineNumber,p.startColumn),i[s].selection=w;const T=m.CursorState.fromModelSelection(w);h[f].setState(this.context,T.modelState,T.viewState)}for(const p of i)p.index>l&&p.index--;h.splice(l,1),i.splice(a,1),this._removeSecondaryCursor(l-1),n--}}}}e.CursorCollection=v}),define(re[423],se([1,0,95]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class m{constructor(I){if(I.autoClosingPairs?this._autoClosingPairs=I.autoClosingPairs.map(L=>new E.StandardAutoClosingPairConditional(L)):I.brackets?this._autoClosingPairs=I.brackets.map(L=>new E.StandardAutoClosingPairConditional({open:L[0],close:L[1]})):this._autoClosingPairs=[],I.__electricCharacterSupport&&I.__electricCharacterSupport.docComment){const L=I.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new E.StandardAutoClosingPairConditional({open:L.open,close:L.close||""}))}this._autoCloseBefore=typeof I.autoCloseBefore=="string"?I.autoCloseBefore:m.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=I.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=m,m.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`}),define(re[424],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function E(k){return k.global&&(k.lastIndex=0),!0}class m{constructor(I){this._indentationRules=I}shouldIncrease(I){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&E(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(I))}shouldDecrease(I){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&E(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(I))}shouldIndentNextLine(I){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&E(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(I))}shouldIgnore(I){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&E(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(I))}getIndentMetadata(I){let L=0;return this.shouldIncrease(I)&&(L+=1),this.shouldDecrease(I)&&(L+=2),this.shouldIndentNextLine(I)&&(L+=4),this.shouldIgnore(I)&&(L+=8),L}}e.IndentRulesSupport=m}),define(re[425],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class E{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(k,I,L,_,v){if(k&&I){const u=this.doNavigateValueSet(I,v);if(u)return{range:k,value:u}}if(L&&_){const u=this.doNavigateValueSet(_,v);if(u)return{range:L,value:u}}return null}doNavigateValueSet(k,I){const L=this.numberReplace(k,I);return L!==null?L:this.textReplace(k,I)}numberReplace(k,I){const L=Math.pow(10,k.length-(k.lastIndexOf(".")+1));let _=Number(k),v=parseFloat(k);return!isNaN(_)&&!isNaN(v)&&_===v?_===0&&!I?null:(_=Math.floor(_*L),_+=I?L:-L,String(_/L)):null}textReplace(k,I){return this.valueSetsReplace(this._defaultValueSet,k,I)}valueSetsReplace(k,I,L){let _=null;for(let v=0,u=k.length;_===null&&v<u;v++)_=this.valueSetReplace(k[v],I,L);return _}valueSetReplace(k,I,L){let _=k.indexOf(I);return _>=0?(_+=L?1:-1,_<0?_=k.length-1:_%=k.length,k[_]):null}}e.BasicInplaceReplace=E,E.INSTANCE=new E}),define(re[426],se([1,0,219,13]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClosingBracketKind=e.OpeningBracketKind=e.BracketKindBase=e.LanguageBracketsConfiguration=void 0;class k{constructor(h,i){this.languageId=h;let n;i.colorizedBracketPairs?n=I(i.colorizedBracketPairs.map(d=>[d[0],d[1]])):i.brackets?n=I(i.brackets.map(d=>[d[0],d[1]]).filter(d=>!(d[0]==="<"&&d[1]===">"))):n=[];const t=new E.CachedFunction(d=>{const r=new Set;return{info:new _(this,d,r),closing:r}}),o=new E.CachedFunction(d=>{const r=new Set;return{info:new v(this,d,r),opening:r}});for(const[d,r]of n){const c=t.get(d),s=o.get(r);c.closing.add(s.info),s.opening.add(c.info)}this._openingBrackets=new Map([...t.cachedValues].map(([d,r])=>[d,r.info])),this._closingBrackets=new Map([...o.cachedValues].map(([d,r])=>[d,r.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(h){return this._openingBrackets.get(h)}getClosingBracketInfo(h){return this._closingBrackets.get(h)}getBracketInfo(h){return this.getOpeningBracketInfo(h)||this.getClosingBracketInfo(h)}}e.LanguageBracketsConfiguration=k;function I(u){return u.filter(([h,i])=>h!==""&&i!=="")}class L{constructor(h,i){this.config=h,this.bracketText=i}get languageId(){return this.config.languageId}}e.BracketKindBase=L;class _ extends L{constructor(h,i,n){super(h,i);this.openedBrackets=n,this.isOpeningBracket=!0}}e.OpeningBracketKind=_;class v extends L{constructor(h,i,n){super(h,i);this.closedBrackets=n,this.isOpeningBracket=!1}closes(h){if(h.languageId===this.languageId&&h.config!==this.config)throw new m.BugIndicatingError("Brackets from different language configuration cannot be used.");return this.closedBrackets.has(h)}getClosedBrackets(){return[...this.closedBrackets]}}e.ClosingBracketKind=v}),define(re[427],se([1,0,13,8,95]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class I{constructor(_){_=_||{},_.brackets=_.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],_.brackets.forEach(v=>{const u=I._createOpenBracketRegExp(v[0]),h=I._createCloseBracketRegExp(v[1]);u&&h&&this._brackets.push({open:v[0],openRegExp:u,close:v[1],closeRegExp:h})}),this._regExpRules=_.onEnterRules||[]}onEnter(_,v,u,h){if(_>=3)for(let i=0,n=this._regExpRules.length;i<n;i++){const t=this._regExpRules[i];if([{reg:t.beforeText,text:u},{reg:t.afterText,text:h},{reg:t.previousLineText,text:v}].every(d=>d.reg?(d.reg.lastIndex=0,d.reg.test(d.text)):!0))return t.action}if(_>=2&&u.length>0&&h.length>0)for(let i=0,n=this._brackets.length;i<n;i++){const t=this._brackets[i];if(t.openRegExp.test(u)&&t.closeRegExp.test(h))return{indentAction:k.IndentAction.IndentOutdent}}if(_>=2&&u.length>0){for(let i=0,n=this._brackets.length;i<n;i++)if(this._brackets[i].openRegExp.test(u))return{indentAction:k.IndentAction.Indent}}return null}static _createOpenBracketRegExp(_){let v=m.escapeRegExpCharacters(_);return/\B/.test(v.charAt(0))||(v="\\b"+v),v+="\\s*$",I._safeRegExp(v)}static _createCloseBracketRegExp(_){let v=m.escapeRegExpCharacters(_);return/\B/.test(v.charAt(v.length-1))||(v=v+"\\b"),v="^\\s*"+v,I._safeRegExp(v)}static _safeRegExp(_){try{return new RegExp(_)}catch(v){return(0,E.onUnexpectedError)(v),null}}}e.OnEnterSupport=I}),define(re[186],se([1,0,8,94,3]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class I{constructor(l,f,g,b,p,C){this._richEditBracketBrand=void 0,this.languageId=l,this.index=f,this.open=g,this.close=b,this.forwardRegex=p,this.reversedRegex=C,this._openSet=I._toSet(this.open),this._closeSet=I._toSet(this.close)}isOpen(l){return this._openSet.has(l)}isClose(l){return this._closeSet.has(l)}static _toSet(l){const f=new Set;for(const g of l)f.add(g);return f}}e.RichEditBracket=I;function L(a){const l=a.length;a=a.map(C=>[C[0].toLowerCase(),C[1].toLowerCase()]);const f=[];for(let C=0;C<l;C++)f[C]=C;const g=(C,S)=>{const[y,w]=C,[T,N]=S;return y===T||y===N||w===T||w===N},b=(C,S)=>{const y=Math.min(C,S),w=Math.max(C,S);for(let T=0;T<l;T++)f[T]===w&&(f[T]=y)};for(let C=0;C<l;C++){const S=a[C];for(let y=C+1;y<l;y++){const w=a[y];g(S,w)&&b(f[C],f[y])}}const p=[];for(let C=0;C<l;C++){const S=[],y=[];for(let w=0;w<l;w++)if(f[w]===C){const[T,N]=a[w];S.push(T),y.push(N)}S.length>0&&p.push({open:S,close:y})}return p}class _{constructor(l,f){this._richEditBracketsBrand=void 0;const g=L(f);this.brackets=g.map((b,p)=>new I(l,p,b.open,b.close,i(b.open,b.close,g,p),n(b.open,b.close,g,p))),this.forwardRegex=t(this.brackets),this.reversedRegex=o(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const b of this.brackets){for(const p of b.open)this.textIsBracket[p]=b,this.textIsOpenBracket[p]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,p.length);for(const p of b.close)this.textIsBracket[p]=b,this.textIsOpenBracket[p]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,p.length)}}}e.RichEditBrackets=_;function v(a,l,f,g){for(let b=0,p=l.length;b<p;b++){if(b===f)continue;const C=l[b];for(const S of C.open)S.indexOf(a)>=0&&g.push(S);for(const S of C.close)S.indexOf(a)>=0&&g.push(S)}}function u(a,l){return a.length-l.length}function h(a){if(a.length<=1)return a;const l=[],f=new Set;for(const g of a)f.has(g)||(l.push(g),f.add(g));return l}function i(a,l,f,g){let b=[];b=b.concat(a),b=b.concat(l);for(let p=0,C=b.length;p<C;p++)v(b[p],f,g,b);return b=h(b),b.sort(u),b.reverse(),r(b)}function n(a,l,f,g){let b=[];b=b.concat(a),b=b.concat(l);for(let p=0,C=b.length;p<C;p++)v(b[p],f,g,b);return b=h(b),b.sort(u),b.reverse(),r(b.map(c))}function t(a){let l=[];for(const f of a){for(const g of f.open)l.push(g);for(const g of f.close)l.push(g)}return l=h(l),r(l)}function o(a){let l=[];for(const f of a){for(const g of f.open)l.push(g);for(const g of f.close)l.push(g)}return l=h(l),r(l.map(c))}function d(a){const l=/^[\w ]+$/.test(a);return a=E.escapeRegExpCharacters(a),l?`\\b${a}\\b`:a}function r(a){const l=`(${a.map(d).join(")|(")})`;return E.createRegExp(l,!0)}const c=function(){function a(g){if(m.hasTextDecoder){const b=new Uint16Array(g.length);let p=0;for(let C=g.length-1;C>=0;C--)b[p++]=g.charCodeAt(C);return m.getPlatformTextDecoder().decode(b)}else{const b=[];let p=0;for(let C=g.length-1;C>=0;C--)b[p++]=g.charAt(C);return b.join("")}}let l=null,f=null;return function(b){return l!==b&&(l=b,f=a(l)),f}}();class s{static _findPrevBracketInText(l,f,g,b){const p=g.match(l);if(!p)return null;const C=g.length-(p.index||0),S=p[0].length,y=b+C;return new k.Range(f,y-S+1,f,y+1)}static findPrevBracketInRange(l,f,g,b,p){const S=c(g).substring(g.length-p,g.length-b);return this._findPrevBracketInText(l,f,S,b)}static findNextBracketInText(l,f,g,b){const p=g.match(l);if(!p)return null;const C=p.index||0,S=p[0].length;if(S===0)return null;const y=b+C;return new k.Range(f,y+1,f,y+1+S)}static findNextBracketInRange(l,f,g,b,p){const C=g.substring(b,p);return this.findNextBracketInText(l,f,C,b)}}e.BracketsUtils=s}),define(re[428],se([1,0,18,104,186]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class I{constructor(_){this._richEditBrackets=_}getElectricCharacters(){const _=[];if(this._richEditBrackets)for(const v of this._richEditBrackets.brackets)for(const u of v.close){const h=u.charAt(u.length-1);_.push(h)}return(0,E.distinct)(_)}onElectricCharacter(_,v,u){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const h=v.findTokenIndexAtOffset(u-1);if((0,m.ignoreBracketsInToken)(v.getStandardTokenType(h)))return null;const i=this._richEditBrackets.reversedRegex,n=v.getLineContent().substring(0,u-1)+_,t=k.BracketsUtils.findPrevBracketInRange(i,1,n,0,n.length);if(!t)return null;const o=n.substring(t.startColumn-1,t.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[o])return null;const r=v.getActualLineContentBefore(t.startColumn-1);return/^\s*$/.test(r)?{matchOpenBracket:o}:null}}e.BracketElectricCharacterSupport=I}),define(re[429],se([1,0,30]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateTokensCSSForColorMap=e.ThemeTrieElement=e.ThemeTrieElementRule=e.strcmp=e.toStandardTokenType=e.TokenTheme=e.ColorMap=e.parseTokenTheme=e.ParsedTokenThemeRule=void 0;class m{constructor(r,c,s,a,l){this._parsedThemeRuleBrand=void 0,this.token=r,this.index=c,this.fontStyle=s,this.foreground=a,this.background=l}}e.ParsedTokenThemeRule=m;function k(d){if(!d||!Array.isArray(d))return[];const r=[];let c=0;for(let s=0,a=d.length;s<a;s++){const l=d[s];let f=-1;if(typeof l.fontStyle=="string"){f=0;const p=l.fontStyle.split(" ");for(let C=0,S=p.length;C<S;C++)switch(p[C]){case"italic":f=f|1;break;case"bold":f=f|2;break;case"underline":f=f|4;break;case"strikethrough":f=f|8;break}}let g=null;typeof l.foreground=="string"&&(g=l.foreground);let b=null;typeof l.background=="string"&&(b=l.background),r[c++]=new m(l.token||"",s,f,g,b)}return r}e.parseTokenTheme=k;function I(d,r){d.sort((C,S)=>{const y=i(C.token,S.token);return y!==0?y:C.index-S.index});let c=0,s="000000",a="ffffff";for(;d.length>=1&&d[0].token==="";){const C=d.shift();C.fontStyle!==-1&&(c=C.fontStyle),C.foreground!==null&&(s=C.foreground),C.background!==null&&(a=C.background)}const l=new _;for(let C of r)l.getId(C);const f=l.getId(s),g=l.getId(a),b=new n(c,f,g),p=new t(b);for(let C=0,S=d.length;C<S;C++){const y=d[C];p.insert(y.token,y.fontStyle,l.getId(y.foreground),l.getId(y.background))}return new v(l,p)}const L=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class _{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(r){if(r===null)return 0;const c=r.match(L);if(!c)throw new Error("Illegal value for token color: "+r);r=c[1].toUpperCase();let s=this._color2id.get(r);return s||(s=++this._lastColorId,this._color2id.set(r,s),this._id2color[s]=E.Color.fromHex("#"+r),s)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=_;class v{constructor(r,c){this._colorMap=r,this._root=c,this._cache=new Map}static createFromRawTokenTheme(r,c){return this.createFromParsedTokenTheme(k(r),c)}static createFromParsedTokenTheme(r,c){return I(r,c)}getColorMap(){return this._colorMap.getColorMap()}_match(r){return this._root.match(r)}match(r,c){let s=this._cache.get(c);if(typeof s=="undefined"){const a=this._match(c),l=h(c);s=(a.metadata|l<<8)>>>0,this._cache.set(c,s)}return(s|r<<0)>>>0}}e.TokenTheme=v;const u=/\b(comment|string|regex|regexp)\b/;function h(d){const r=d.match(u);if(!r)return 0;switch(r[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}e.toStandardTokenType=h;function i(d,r){return d<r?-1:d>r?1:0}e.strcmp=i;class n{constructor(r,c,s){this._themeTrieElementRuleBrand=void 0,this._fontStyle=r,this._foreground=c,this._background=s,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new n(this._fontStyle,this._foreground,this._background)}acceptOverwrite(r,c,s){r!==-1&&(this._fontStyle=r),c!==0&&(this._foreground=c),s!==0&&(this._background=s),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}e.ThemeTrieElementRule=n;class t{constructor(r){this._themeTrieElementBrand=void 0,this._mainRule=r,this._children=new Map}match(r){if(r==="")return this._mainRule;const c=r.indexOf(".");let s,a;c===-1?(s=r,a=""):(s=r.substring(0,c),a=r.substring(c+1));const l=this._children.get(s);return typeof l!="undefined"?l.match(a):this._mainRule}insert(r,c,s,a){if(r===""){this._mainRule.acceptOverwrite(c,s,a);return}const l=r.indexOf(".");let f,g;l===-1?(f=r,g=""):(f=r.substring(0,l),g=r.substring(l+1));let b=this._children.get(f);typeof b=="undefined"&&(b=new t(this._mainRule.clone()),this._children.set(f,b)),b.insert(g,c,s,a)}}e.ThemeTrieElement=t;function o(d){const r=[];for(let c=1,s=d.length;c<s;c++){const a=d[c];r[c]=`.mtk${c} { color: ${a}; }`}return r.push(".mtki { font-style: italic; }"),r.push(".mtkb { font-weight: bold; }"),r.push(".mtku { text-decoration: underline; text-underline-position: under; }"),r.push(".mtks { text-decoration: line-through; }"),r.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),r.join(`
`)}e.generateTokensCSSForColorMap=o}),define(re[47],se([1,0,41]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldSynchronizeModel=e.ApplyEditsResult=e.SearchData=e.ValidAnnotatedEditOperation=e.FindMatch=e.TextModelResolvedOptions=e.InjectedTextCursorStops=e.MinimapPosition=e.OverviewRulerLane=void 0;var m;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(m=e.OverviewRulerLane||(e.OverviewRulerLane={}));var k;(function(n){n[n.Inline=1]="Inline",n[n.Gutter=2]="Gutter"})(k=e.MinimapPosition||(e.MinimapPosition={}));var I;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(I=e.InjectedTextCursorStops||(e.InjectedTextCursorStops={}));class L{constructor(t){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,t.tabSize|0),this.indentSize=t.tabSize|0,this.insertSpaces=Boolean(t.insertSpaces),this.defaultEOL=t.defaultEOL|0,this.trimAutoWhitespace=Boolean(t.trimAutoWhitespace),this.bracketPairColorizationOptions=t.bracketPairColorizationOptions}equals(t){return this.tabSize===t.tabSize&&this.indentSize===t.indentSize&&this.insertSpaces===t.insertSpaces&&this.defaultEOL===t.defaultEOL&&this.trimAutoWhitespace===t.trimAutoWhitespace&&(0,E.equals)(this.bracketPairColorizationOptions,t.bracketPairColorizationOptions)}createChangeEvent(t){return{tabSize:this.tabSize!==t.tabSize,indentSize:this.indentSize!==t.indentSize,insertSpaces:this.insertSpaces!==t.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==t.trimAutoWhitespace}}}e.TextModelResolvedOptions=L;class _{constructor(t,o){this._findMatchBrand=void 0,this.range=t,this.matches=o}}e.FindMatch=_;class v{constructor(t,o,d,r,c,s){this.identifier=t,this.range=o,this.text=d,this.forceMoveMarkers=r,this.isAutoWhitespaceEdit=c,this._isTracked=s}}e.ValidAnnotatedEditOperation=v;class u{constructor(t,o,d){this.regex=t,this.wordSeparators=o,this.simpleSearch=d}}e.SearchData=u;class h{constructor(t,o,d){this.reverseEdits=t,this.changes=o,this.trimAutoWhitespaceLineNumbers=d}}e.ApplyEditsResult=h;function i(n){return!n.isTooLargeForSyncing()&&!n.isForSimpleWidget}e.shouldSynchronizeModel=i}),define(re[430],se([1,0,4,2,47,418]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRegistry=void 0;function L(u){return typeof u=="string"?!1:Array.isArray(u)?u.every(L):!!u.exclusive}class _{constructor(h,i,n){this.uri=h,this.languageId=i,this.notebookType=n}equals(h){return this.notebookType===h.notebookType&&this.languageId===h.languageId&&this.uri.toString()===h.uri.toString()}}class v{constructor(h){this._notebookInfoResolver=h,this._clock=0,this._entries=[],this._onDidChange=new E.Emitter,this.onDidChange=this._onDidChange.event}register(h,i){let n={selector:h,provider:i,_score:-1,_time:this._clock++};return this._entries.push(n),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,m.toDisposable)(()=>{if(n){const t=this._entries.indexOf(n);t>=0&&(this._entries.splice(t,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),n=void 0)}})}has(h){return this.all(h).length>0}all(h){if(!h)return[];this._updateScores(h);const i=[];for(let n of this._entries)n._score>0&&i.push(n.provider);return i}ordered(h){const i=[];return this._orderedForEach(h,n=>i.push(n.provider)),i}orderedGroups(h){const i=[];let n,t;return this._orderedForEach(h,o=>{n&&t===o._score?n.push(o.provider):(t=o._score,n=[o.provider],i.push(n))}),i}_orderedForEach(h,i){this._updateScores(h);for(const n of this._entries)n._score>0&&i(n)}_updateScores(h){var i,n;const t=(i=this._notebookInfoResolver)===null||i===void 0?void 0:i.call(this,h.uri),o=t?new _(t.uri,h.getLanguageId(),t.type):new _(h.uri,h.getLanguageId(),void 0);if(!((n=this._lastCandidate)===null||n===void 0?void 0:n.equals(o))){this._lastCandidate=o;for(let d of this._entries)if(d._score=(0,I.score)(d.selector,o.uri,o.languageId,(0,k.shouldSynchronizeModel)(h),o.notebookType),L(d.selector)&&d._score>0){for(let r of this._entries)r._score=0;d._score=1e3;break}this._entries.sort(v._compareByScoreAndTime)}}static _compareByScoreAndTime(h,i){return h._score<i._score?1:h._score>i._score?-1:h._time<i._time?1:h._time>i._time?-1:0}}e.LanguageFeatureRegistry=v}),define(re[86],se([1,0,8,3]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthOfString=e.lengthsToRange=e.positionToLength=e.lengthGreaterThanEqual=e.lengthLessThanEqual=e.lengthLessThan=e.lengthDiffNonNegative=e.lengthAdd=e.lengthGetColumnCountIfZeroLineCount=e.lengthGetLineCount=e.lengthToObj=e.toLength=e.lengthIsZero=e.lengthZero=e.lengthDiff=e.LengthObj=void 0;class k{constructor(f,g){this.lineCount=f,this.columnCount=g}toString(){return`${this.lineCount},${this.columnCount}`}}e.LengthObj=k,k.zero=new k(0,0);function I(l,f,g,b){return l!==g?v(g-l,b):v(0,b-f)}e.lengthDiff=I,e.lengthZero=0;function L(l){return l===0}e.lengthIsZero=L;const _=Math.pow(2,26);function v(l,f){return l*_+f}e.toLength=v;function u(l){const f=l,g=Math.floor(f/_),b=f-g*_;return new k(g,b)}e.lengthToObj=u;function h(l){return Math.floor(l/_)}e.lengthGetLineCount=h;function i(l){return l}e.lengthGetColumnCountIfZeroLineCount=i;function n(l,f){return f<_?l+f:l-l%_+f}e.lengthAdd=n;function t(l,f){const g=l,b=f;if(b-g<=0)return e.lengthZero;const C=Math.floor(g/_),S=Math.floor(b/_),y=b-S*_;if(C===S){const w=g-C*_;return v(0,y-w)}else return v(S-C,y)}e.lengthDiffNonNegative=t;function o(l,f){return l<f}e.lengthLessThan=o;function d(l,f){return l<=f}e.lengthLessThanEqual=d;function r(l,f){return l>=f}e.lengthGreaterThanEqual=r;function c(l){return v(l.lineNumber-1,l.column-1)}e.positionToLength=c;function s(l,f){const g=l,b=Math.floor(g/_),p=g-b*_,C=f,S=Math.floor(C/_),y=C-S*_;return new m.Range(b+1,p+1,S+1,y+1)}e.lengthsToRange=s;function a(l){const f=(0,E.splitLines)(l);return v(f.length-1,f[f.length-1].length)}e.lengthOfString=a}),define(re[246],se([1,0,86]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class m{constructor(_,v,u){this.startOffset=_,this.endOffset=v,this.newLength=u}}e.TextEditInfo=m;class k{constructor(_,v){this.documentLength=v,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=_.map(u=>I.from(u))}getOffsetBeforeChange(_){return this.adjustNextEdit(_),this.translateCurToOld(_)}getDistanceToNextChange(_){this.adjustNextEdit(_);const v=this.edits[this.nextEditIdx],u=v?this.translateOldToCur(v.offsetObj):this.documentLength;return(0,E.lengthDiffNonNegative)(_,u)}translateOldToCur(_){return _.lineCount===this.deltaLineIdxInOld?(0,E.toLength)(_.lineCount+this.deltaOldToNewLineCount,_.columnCount+this.deltaOldToNewColumnCount):(0,E.toLength)(_.lineCount+this.deltaOldToNewLineCount,_.columnCount)}translateCurToOld(_){const v=(0,E.lengthToObj)(_);return v.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,E.toLength)(v.lineCount-this.deltaOldToNewLineCount,v.columnCount-this.deltaOldToNewColumnCount):(0,E.toLength)(v.lineCount-this.deltaOldToNewLineCount,v.columnCount)}adjustNextEdit(_){for(;this.nextEditIdx<this.edits.length;){const v=this.edits[this.nextEditIdx],u=this.translateOldToCur(v.endOffsetAfterObj);if((0,E.lengthLessThanEqual)(u,_)){this.nextEditIdx++;const h=(0,E.lengthToObj)(u),i=(0,E.lengthToObj)(this.translateOldToCur(v.endOffsetBeforeObj)),n=h.lineCount-i.lineCount;this.deltaOldToNewLineCount+=n;const t=this.deltaLineIdxInOld===v.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,o=h.columnCount-i.columnCount;this.deltaOldToNewColumnCount=t+o,this.deltaLineIdxInOld=v.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=k;class I{constructor(_,v,u){this.endOffsetBeforeObj=(0,E.lengthToObj)(v),this.endOffsetAfterObj=(0,E.lengthToObj)((0,E.lengthAdd)(_,u)),this.offsetObj=(0,E.lengthToObj)(_)}static from(_){return new I(_.startOffset,_.endOffset,_.newLength)}}}),define(re[431],se([1,0,86]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class m{constructor(_){this.lastOffset=E.lengthZero,this.nextNodes=[_],this.offsets=[E.lengthZero],this.idxs=[]}readLongestNodeAt(_,v){if((0,E.lengthLessThan)(_,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=_;;){const u=I(this.nextNodes);if(!u)return;const h=I(this.offsets);if((0,E.lengthLessThan)(_,h))return;if((0,E.lengthLessThan)(h,_))if((0,E.lengthAdd)(h,u.length)<=_)this.nextNodeAfterCurrent();else{const i=k(u);i!==-1?(this.nextNodes.push(u.getChild(i)),this.offsets.push(h),this.idxs.push(i)):this.nextNodeAfterCurrent()}else{if(v(u))return this.nextNodeAfterCurrent(),u;{const i=k(u);if(i===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(u.getChild(i)),this.offsets.push(h),this.idxs.push(i)}}}}nextNodeAfterCurrent(){for(;;){const _=I(this.offsets),v=I(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const u=I(this.nextNodes),h=k(u,this.idxs[this.idxs.length-1]);if(h!==-1){this.nextNodes.push(u.getChild(h)),this.offsets.push((0,E.lengthAdd)(_,v.length)),this.idxs[this.idxs.length-1]=h;break}else this.idxs.pop()}}}e.NodeReader=m;function k(L,_=-1){for(;;){if(_++,_>=L.childrenLength)return-1;if(L.getChild(_))return _}}function I(L){return L.length>0?L[L.length-1]:void 0}}),define(re[105],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const E=new Array;class m{constructor(L,_){this.items=L,this.additionalItems=_}static create(L,_){if(L<=128&&_.length===0){let v=m.cache[L];return v||(v=new m(L,_),m.cache[L]=v),v}return new m(L,_)}static getEmpty(){return this.empty}add(L,_){const v=_.getKey(L);let u=v>>5;if(u===0){const i=1<<v|this.items;return i===this.items?this:m.create(i,this.additionalItems)}u--;const h=this.additionalItems.slice(0);for(;h.length<u;)h.push(0);return h[u]|=1<<(v&31),m.create(this.items,h)}merge(L){const _=this.items|L.items;if(this.additionalItems===E&&L.additionalItems===E)return _===this.items?this:_===L.items?L:m.create(_,E);const v=new Array;for(let u=0;u<Math.max(this.additionalItems.length,L.additionalItems.length);u++){const h=this.additionalItems[u]||0,i=L.additionalItems[u]||0;v.push(h|i)}return m.create(_,v)}intersects(L){if((this.items&L.items)!=0)return!0;for(let _=0;_<Math.min(this.additionalItems.length,L.additionalItems.length);_++)if((this.additionalItems[_]&L.additionalItems[_])!=0)return!0;return!1}}e.SmallImmutableSet=m,m.cache=new Array(129),m.empty=m.create(0,E),e.identityKeyProvider={getKey(I){return I}};class k{constructor(){this.items=new Map}getKey(L){let _=this.items.get(L);return _===void 0&&(_=this.items.size,this.items.set(L,_)),_}}e.DenseKeyProvider=k}),define(re[152],se([1,0,73,86,105]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class I{constructor(s){this._length=s}get length(){return this._length}}class L extends I{constructor(s,a,l,f,g){super(s);this.openingBracket=a,this.child=l,this.closingBracket=f,this.missingOpeningBracketIds=g}static create(s,a,l){let f=s.length;return a&&(f=(0,m.lengthAdd)(f,a.length)),l&&(f=(0,m.lengthAdd)(f,l.length)),new L(f,s,a,l,a?a.missingOpeningBracketIds:k.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(s){switch(s){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const s=new Array;return s.push(this.openingBracket),this.child&&s.push(this.child),this.closingBracket&&s.push(this.closingBracket),s}canBeReused(s){return!(this.closingBracket===null||s.intersects(this.missingOpeningBracketIds))}deepClone(){return new L(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(s,a){return this.child?this.child.computeMinIndentation((0,m.lengthAdd)(s,this.openingBracket.length),a):Number.MAX_SAFE_INTEGER}}e.PairAstNode=L;class _ extends I{constructor(s,a,l){super(s);this.listHeight=a,this._missingOpeningBracketIds=l,this.cachedMinIndentation=-1}static create23(s,a,l,f=!1){let g=s.length,b=s.missingOpeningBracketIds;if(s.listHeight!==a.listHeight)throw new Error("Invalid list heights");if(g=(0,m.lengthAdd)(g,a.length),b=b.merge(a.missingOpeningBracketIds),l){if(s.listHeight!==l.listHeight)throw new Error("Invalid list heights");g=(0,m.lengthAdd)(g,l.length),b=b.merge(l.missingOpeningBracketIds)}return f?new u(g,s.listHeight+1,s,a,l,b):new v(g,s.listHeight+1,s,a,l,b)}static getEmpty(){return new i(m.lengthZero,0,[],k.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const s=this.childrenLength;if(s===0)return;const a=this.getChild(s-1),l=a.kind===4?a.toMutable():a;return a!==l&&this.setChild(s-1,l),l}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const a=this.getChild(0),l=a.kind===4?a.toMutable():a;return a!==l&&this.setChild(0,l),l}canBeReused(s){if(s.intersects(this.missingOpeningBracketIds))return!1;let a=this,l;for(;a.kind===4&&(l=a.childrenLength)>0;)a=a.getChild(l-1);return a.canBeReused(s)}handleChildrenChanged(){this.throwIfImmutable();const s=this.childrenLength;let a=this.getChild(0).length,l=this.getChild(0).missingOpeningBracketIds;for(let f=1;f<s;f++){const g=this.getChild(f);a=(0,m.lengthAdd)(a,g.length),l=l.merge(g.missingOpeningBracketIds)}this._length=a,this._missingOpeningBracketIds=l,this.cachedMinIndentation=-1}computeMinIndentation(s,a){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let l=Number.MAX_SAFE_INTEGER,f=s;for(let g=0;g<this.childrenLength;g++){const b=this.getChild(g);b&&(l=Math.min(l,b.computeMinIndentation(f,a)),f=(0,m.lengthAdd)(f,b.length))}return this.cachedMinIndentation=l,l}}e.ListAstNode=_;class v extends _{constructor(s,a,l,f,g,b){super(s,a,b);this._item1=l,this._item2=f,this._item3=g}get childrenLength(){return this._item3!==null?3:2}getChild(s){switch(s){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(s,a){switch(s){case 0:this._item1=a;return;case 1:this._item2=a;return;case 2:this._item3=a;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new v(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(s){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=s,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const s=this._item3;return this._item3=null,this.handleChildrenChanged(),s}prependChildOfSameHeight(s){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=s,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const s=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),s}toMutable(){return this}}class u extends v{toMutable(){return new v(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class h extends _{constructor(s,a,l,f){super(s,a,f);this._children=l}get childrenLength(){return this._children.length}getChild(s){return this._children[s]}setChild(s,a){this._children[s]=a}get children(){return this._children}deepClone(){const s=new Array(this._children.length);for(let a=0;a<this._children.length;a++)s[a]=this._children[a].deepClone();return new h(this.length,this.listHeight,s,this.missingOpeningBracketIds)}appendChildOfSameHeight(s){this.throwIfImmutable(),this._children.push(s),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const s=this._children.pop();return this.handleChildrenChanged(),s}prependChildOfSameHeight(s){this.throwIfImmutable(),this._children.unshift(s),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const s=this._children.shift();return this.handleChildrenChanged(),s}toMutable(){return this}}class i extends h{toMutable(){return new h(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const n=[];class t extends I{get listHeight(){return 0}get childrenLength(){return 0}getChild(s){return null}get children(){return n}deepClone(){return this}}class o extends t{get kind(){return 0}get missingOpeningBracketIds(){return k.SmallImmutableSet.getEmpty()}canBeReused(s){return!0}computeMinIndentation(s,a){const l=(0,m.lengthToObj)(s),f=(l.columnCount===0?l.lineCount:l.lineCount+1)+1,g=(0,m.lengthGetLineCount)((0,m.lengthAdd)(s,this.length))+1;let b=Number.MAX_SAFE_INTEGER;for(let p=f;p<=g;p++){const C=a.getLineFirstNonWhitespaceColumn(p),S=a.getLineContent(p);if(C===0)continue;const y=E.CursorColumns.visibleColumnFromColumn(S,C,a.getOptions().tabSize);b=Math.min(b,y)}return b}}e.TextAstNode=o;class d extends t{constructor(s,a,l){super(s);this.bracketInfo=a,this.bracketIds=l}static create(s,a,l){return new d(s,a,l)}get kind(){return 1}get missingOpeningBracketIds(){return k.SmallImmutableSet.getEmpty()}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(s){return!1}computeMinIndentation(s,a){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=d;class r extends t{constructor(s,a){super(a);this.missingOpeningBracketIds=s}get kind(){return 3}canBeReused(s){return!s.intersects(this.missingOpeningBracketIds)}computeMinIndentation(s,a){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=r}),define(re[432],se([1,0,152]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23TreesOfSameHeight=e.concat23Trees=void 0;function m(u){if(u.length===0)return null;if(u.length===1)return u[0];let h=0;function i(){if(h>=u.length)return null;const d=h,r=u[d].listHeight;for(h++;h<u.length&&u[h].listHeight===r;)h++;return h-d>=2?k(d===0&&h===u.length?u:u.slice(d,h),!1):u[d]}let n=i(),t=i();if(!t)return n;for(let d=i();d;d=i())I(n,t)<=I(t,d)?(n=L(n,t),t=d):t=L(t,d);return L(n,t)}e.concat23Trees=m;function k(u,h=!1){if(u.length===0)return null;if(u.length===1)return u[0];let i=u.length;for(;i>3;){const n=i>>1;for(let t=0;t<n;t++){const o=t<<1;u[t]=E.ListAstNode.create23(u[o],u[o+1],o+3===i?u[o+2]:null,h)}i=n}return E.ListAstNode.create23(u[0],u[1],i>=3?u[2]:null,h)}e.concat23TreesOfSameHeight=k;function I(u,h){return Math.abs(u.listHeight-h.listHeight)}function L(u,h){return u.listHeight===h.listHeight?E.ListAstNode.create23(u,h,null,!1):u.listHeight>h.listHeight?_(u,h):v(h,u)}function _(u,h){u=u.toMutable();let i=u;const n=new Array;let t;for(;;){if(h.listHeight===i.listHeight){t=h;break}if(i.kind!==4)throw new Error("unexpected");n.push(i),i=i.makeLastElementMutable()}for(let o=n.length-1;o>=0;o--){const d=n[o];t?d.childrenLength>=3?t=E.ListAstNode.create23(d.unappendChild(),t,null,!1):(d.appendChildOfSameHeight(t),t=void 0):d.handleChildrenChanged()}return t?E.ListAstNode.create23(u,t,null,!1):u}function v(u,h){u=u.toMutable();let i=u;const n=new Array;for(;h.listHeight!==i.listHeight;){if(i.kind!==4)throw new Error("unexpected");n.push(i),i=i.makeFirstElementMutable()}let t=h;for(let o=n.length-1;o>=0;o--){const d=n[o];t?d.childrenLength>=3?t=E.ListAstNode.create23(t,d.unprependChild(),null,!1):(d.prependChildOfSameHeight(t),t=void 0):d.handleChildrenChanged()}return t?E.ListAstNode.create23(t,u,null,!1):u}}),define(re[247],se([1,0,152,246,105,86,432,431]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=void 0;function v(h,i,n,t){return new u(h,i,n,t).parseDocument()}e.parseDocument=v;class u{constructor(i,n,t,o){if(this.tokenizer=i,this.createImmutableLists=o,this._itemsConstructed=0,this._itemsFromCache=0,t&&o)throw new Error("Not supported");this.oldNodeReader=t?new _.NodeReader(t):void 0,this.positionMapper=new m.BeforeEditPositionMapper(n,i.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let i=this.parseList(k.SmallImmutableSet.getEmpty());return i||(i=E.ListAstNode.getEmpty()),i}parseList(i){const n=new Array;for(;;){const o=this.tokenizer.peek();if(!o||o.kind===2&&o.bracketIds.intersects(i))break;const d=this.parseChild(i);d.kind===4&&d.childrenLength===0||n.push(d)}return this.oldNodeReader?(0,L.concat23Trees)(n):(0,L.concat23TreesOfSameHeight)(n,this.createImmutableLists)}parseChild(i){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,I.lengthIsZero)(t)){const o=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),d=>(0,I.lengthLessThan)(d.length,t)?d.canBeReused(i):!1);if(o)return this._itemsFromCache++,this.tokenizer.skip(o.length),o}}this._itemsConstructed++;const n=this.tokenizer.read();switch(n.kind){case 2:return new E.InvalidBracketAstNode(n.bracketIds,n.length);case 0:return n.astNode;case 1:{const t=i.merge(n.bracketIds),o=this.parseList(t),d=this.tokenizer.peek();return d&&d.kind===2&&(d.bracketId===n.bracketId||d.bracketIds.intersects(n.bracketIds))?(this.tokenizer.read(),E.PairAstNode.create(n.astNode,o,d.astNode)):E.PairAstNode.create(n.astNode,o,null)}default:throw new Error("unexpected")}}}}),define(re[433],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=void 0;class E{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function m(I,L,_,v,u){u.spacesDiff=0,u.looksLikeAlignment=!1;let h;for(h=0;h<L&&h<v;h++){const c=I.charCodeAt(h),s=_.charCodeAt(h);if(c!==s)break}let i=0,n=0;for(let c=h;c<L;c++)I.charCodeAt(c)===32?i++:n++;let t=0,o=0;for(let c=h;c<v;c++)_.charCodeAt(c)===32?t++:o++;if(i>0&&n>0||t>0&&o>0)return;const d=Math.abs(n-o),r=Math.abs(i-t);if(d===0){u.spacesDiff=r,r>0&&0<=t-1&&t-1<I.length&&t<_.length&&_.charCodeAt(t)!==32&&I.charCodeAt(t-1)===32&&I.charCodeAt(I.length-1)===44&&(u.looksLikeAlignment=!0);return}if(r%d==0){u.spacesDiff=r/d;return}}function k(I,L,_){const v=Math.min(I.getLineCount(),1e4);let u=0,h=0,i="",n=0;const t=[2,4,6,8,3,5,7],o=8,d=[0,0,0,0,0,0,0,0,0],r=new E;for(let a=1;a<=v;a++){const l=I.getLineLength(a),f=I.getLineContent(a),g=l<=65536;let b=!1,p=0,C=0,S=0;for(let w=0,T=l;w<T;w++){const N=g?f.charCodeAt(w):I.getLineCharCode(a,w);if(N===9)S++;else if(N===32)C++;else{b=!0,p=w;break}}if(!b||(S>0?u++:C>1&&h++,m(i,n,f,p,r),r.looksLikeAlignment&&!(_&&L===r.spacesDiff)))continue;const y=r.spacesDiff;y<=o&&d[y]++,i=f,n=p}let c=_;u!==h&&(c=u<h);let s=L;if(c){let a=c?0:.1*v;t.forEach(l=>{const f=d[l];f>a&&(a=f,s=l)}),s===4&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2&&(s=2)}return{insertSpaces:c,tabSize:s}}e.guessIndentation=k}),define(re[434],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intervalCompare=e.recomputeMaxEnd=e.nodeAcceptEdit=e.IntervalTree=e.SENTINEL=e.IntervalNode=e.getNodeColor=void 0;function E(D){return(D.metadata&1)>>>0}e.getNodeColor=E;function m(D,A){D.metadata=D.metadata&254|A<<0}function k(D){return(D.metadata&2)>>>1==1}function I(D,A){D.metadata=D.metadata&253|(A?1:0)<<1}function L(D){return(D.metadata&4)>>>2==1}function _(D,A){D.metadata=D.metadata&251|(A?1:0)<<2}function v(D){return(D.metadata&24)>>>3}function u(D,A){D.metadata=D.metadata&231|A<<3}function h(D){return(D.metadata&32)>>>5==1}function i(D,A){D.metadata=D.metadata&223|(A?1:0)<<5}class n{constructor(A,P,F){this.metadata=0,this.parent=this,this.left=this,this.right=this,m(this,1),this.start=P,this.end=F,this.delta=0,this.maxEnd=F,this.id=A,this.ownerId=0,this.options=null,_(this,!1),u(this,1),i(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=P,this.cachedAbsoluteEnd=F,this.range=null,I(this,!1)}reset(A,P,F,W){this.start=P,this.end=F,this.maxEnd=F,this.cachedVersionId=A,this.cachedAbsoluteStart=P,this.cachedAbsoluteEnd=F,this.range=W}setOptions(A){this.options=A;const P=this.options.className;_(this,P==="squiggly-error"||P==="squiggly-warning"||P==="squiggly-info"),u(this,this.options.stickiness),i(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(A,P,F){this.cachedVersionId!==F&&(this.range=null),this.cachedVersionId=F,this.cachedAbsoluteStart=A,this.cachedAbsoluteEnd=P}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=n,e.SENTINEL=new n(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,m(e.SENTINEL,0);class t{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(A,P,F,W,M){return this.root===e.SENTINEL?[]:g(this,A,P,F,W,M)}search(A,P,F){return this.root===e.SENTINEL?[]:f(this,A,P,F)}collectNodesFromOwner(A){return a(this,A)}collectNodesPostOrder(){return l(this)}insert(A){b(this,A),this._normalizeDeltaIfNecessary()}delete(A){C(this,A),this._normalizeDeltaIfNecessary()}resolveNode(A,P){const F=A;let W=0;for(;A!==this.root;)A===A.parent.right&&(W+=A.parent.delta),A=A.parent;const M=F.start+W,z=F.end+W;F.setCachedOffsets(M,z,P)}acceptReplace(A,P,F,W){const M=c(this,A,A+P);for(let z=0,ee=M.length;z<ee;z++){const ie=M[z];C(this,ie)}this._normalizeDeltaIfNecessary(),s(this,A,A+P,F),this._normalizeDeltaIfNecessary();for(let z=0,ee=M.length;z<ee;z++){const ie=M[z];ie.start=ie.cachedAbsoluteStart,ie.end=ie.cachedAbsoluteEnd,r(ie,A,A+P,F,W),ie.maxEnd=ie.end,b(this,ie)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,o(this))}}e.IntervalTree=t;function o(D){let A=D.root,P=0;for(;A!==e.SENTINEL;){if(A.left!==e.SENTINEL&&!k(A.left)){A=A.left;continue}if(A.right!==e.SENTINEL&&!k(A.right)){P+=A.delta,A=A.right;continue}A.start=P+A.start,A.end=P+A.end,A.delta=0,R(A),I(A,!0),I(A.left,!1),I(A.right,!1),A===A.parent.right&&(P-=A.parent.delta),A=A.parent}I(D.root,!1)}function d(D,A,P,F){return D<P?!0:D>P||F===1?!1:F===2?!0:A}function r(D,A,P,F,W){const M=v(D),z=M===0||M===2,ee=M===1||M===2,ie=P-A,Y=F,X=Math.min(ie,Y),J=D.start;let oe=!1;const G=D.end;let x=!1;A<=J&&G<=P&&h(D)&&(D.start=A,oe=!0,D.end=A,x=!0);{const K=W?1:ie>0?2:0;!oe&&d(J,z,A,K)&&(oe=!0),!x&&d(G,ee,A,K)&&(x=!0)}if(X>0&&!W){const K=ie>Y?2:0;!oe&&d(J,z,A+X,K)&&(oe=!0),!x&&d(G,ee,A+X,K)&&(x=!0)}{const K=W?1:0;!oe&&d(J,z,P,K)&&(D.start=A+Y,oe=!0),!x&&d(G,ee,P,K)&&(D.end=A+Y,x=!0)}const V=Y-ie;oe||(D.start=Math.max(0,J+V)),x||(D.end=Math.max(0,G+V)),D.start>D.end&&(D.end=D.start)}e.nodeAcceptEdit=r;function c(D,A,P){let F=D.root,W=0,M=0,z=0,ee=0;const ie=[];let Y=0;for(;F!==e.SENTINEL;){if(k(F)){I(F.left,!1),I(F.right,!1),F===F.parent.right&&(W-=F.parent.delta),F=F.parent;continue}if(!k(F.left)){if(M=W+F.maxEnd,M<A){I(F,!0);continue}if(F.left!==e.SENTINEL){F=F.left;continue}}if(z=W+F.start,z>P){I(F,!0);continue}if(ee=W+F.end,ee>=A&&(F.setCachedOffsets(z,ee,0),ie[Y++]=F),I(F,!0),F.right!==e.SENTINEL&&!k(F.right)){W+=F.delta,F=F.right;continue}}return I(D.root,!1),ie}function s(D,A,P,F){let W=D.root,M=0,z=0,ee=0;const ie=F-(P-A);for(;W!==e.SENTINEL;){if(k(W)){I(W.left,!1),I(W.right,!1),W===W.parent.right&&(M-=W.parent.delta),R(W),W=W.parent;continue}if(!k(W.left)){if(z=M+W.maxEnd,z<A){I(W,!0);continue}if(W.left!==e.SENTINEL){W=W.left;continue}}if(ee=M+W.start,ee>P){W.start+=ie,W.end+=ie,W.delta+=ie,(W.delta<-1073741824||W.delta>1073741824)&&(D.requestNormalizeDelta=!0),I(W,!0);continue}if(I(W,!0),W.right!==e.SENTINEL&&!k(W.right)){M+=W.delta,W=W.right;continue}}I(D.root,!1)}function a(D,A){let P=D.root;const F=[];let W=0;for(;P!==e.SENTINEL;){if(k(P)){I(P.left,!1),I(P.right,!1),P=P.parent;continue}if(P.left!==e.SENTINEL&&!k(P.left)){P=P.left;continue}if(P.ownerId===A&&(F[W++]=P),I(P,!0),P.right!==e.SENTINEL&&!k(P.right)){P=P.right;continue}}return I(D.root,!1),F}function l(D){let A=D.root;const P=[];let F=0;for(;A!==e.SENTINEL;){if(k(A)){I(A.left,!1),I(A.right,!1),A=A.parent;continue}if(A.left!==e.SENTINEL&&!k(A.left)){A=A.left;continue}if(A.right!==e.SENTINEL&&!k(A.right)){A=A.right;continue}P[F++]=A,I(A,!0)}return I(D.root,!1),P}function f(D,A,P,F){let W=D.root,M=0,z=0,ee=0;const ie=[];let Y=0;for(;W!==e.SENTINEL;){if(k(W)){I(W.left,!1),I(W.right,!1),W===W.parent.right&&(M-=W.parent.delta),W=W.parent;continue}if(W.left!==e.SENTINEL&&!k(W.left)){W=W.left;continue}z=M+W.start,ee=M+W.end,W.setCachedOffsets(z,ee,F);let X=!0;if(A&&W.ownerId&&W.ownerId!==A&&(X=!1),P&&L(W)&&(X=!1),X&&(ie[Y++]=W),I(W,!0),W.right!==e.SENTINEL&&!k(W.right)){M+=W.delta,W=W.right;continue}}return I(D.root,!1),ie}function g(D,A,P,F,W,M){let z=D.root,ee=0,ie=0,Y=0,X=0;const J=[];let oe=0;for(;z!==e.SENTINEL;){if(k(z)){I(z.left,!1),I(z.right,!1),z===z.parent.right&&(ee-=z.parent.delta),z=z.parent;continue}if(!k(z.left)){if(ie=ee+z.maxEnd,ie<A){I(z,!0);continue}if(z.left!==e.SENTINEL){z=z.left;continue}}if(Y=ee+z.start,Y>P){I(z,!0);continue}if(X=ee+z.end,X>=A){z.setCachedOffsets(Y,X,M);let G=!0;F&&z.ownerId&&z.ownerId!==F&&(G=!1),W&&L(z)&&(G=!1),G&&(J[oe++]=z)}if(I(z,!0),z.right!==e.SENTINEL&&!k(z.right)){ee+=z.delta,z=z.right;continue}}return I(D.root,!1),J}function b(D,A){if(D.root===e.SENTINEL)return A.parent=e.SENTINEL,A.left=e.SENTINEL,A.right=e.SENTINEL,m(A,0),D.root=A,D.root;p(D,A),B(A.parent);let P=A;for(;P!==D.root&&E(P.parent)===1;)if(P.parent===P.parent.parent.left){const F=P.parent.parent.right;E(F)===1?(m(P.parent,0),m(F,0),m(P.parent.parent,1),P=P.parent.parent):(P===P.parent.right&&(P=P.parent,w(D,P)),m(P.parent,0),m(P.parent.parent,1),T(D,P.parent.parent))}else{const F=P.parent.parent.left;E(F)===1?(m(P.parent,0),m(F,0),m(P.parent.parent,1),P=P.parent.parent):(P===P.parent.left&&(P=P.parent,T(D,P)),m(P.parent,0),m(P.parent.parent,1),w(D,P.parent.parent))}return m(D.root,0),A}function p(D,A){let P=0,F=D.root;const W=A.start,M=A.end;for(;;)if(O(W,M,F.start+P,F.end+P)<0)if(F.left===e.SENTINEL){A.start-=P,A.end-=P,A.maxEnd-=P,F.left=A;break}else F=F.left;else if(F.right===e.SENTINEL){A.start-=P+F.delta,A.end-=P+F.delta,A.maxEnd-=P+F.delta,F.right=A;break}else P+=F.delta,F=F.right;A.parent=F,A.left=e.SENTINEL,A.right=e.SENTINEL,m(A,1)}function C(D,A){let P,F;if(A.left===e.SENTINEL?(P=A.right,F=A,P.delta+=A.delta,(P.delta<-1073741824||P.delta>1073741824)&&(D.requestNormalizeDelta=!0),P.start+=A.delta,P.end+=A.delta):A.right===e.SENTINEL?(P=A.left,F=A):(F=S(A.right),P=F.right,P.start+=F.delta,P.end+=F.delta,P.delta+=F.delta,(P.delta<-1073741824||P.delta>1073741824)&&(D.requestNormalizeDelta=!0),F.start+=A.delta,F.end+=A.delta,F.delta=A.delta,(F.delta<-1073741824||F.delta>1073741824)&&(D.requestNormalizeDelta=!0)),F===D.root){D.root=P,m(P,0),A.detach(),y(),R(P),D.root.parent=e.SENTINEL;return}const W=E(F)===1;if(F===F.parent.left?F.parent.left=P:F.parent.right=P,F===A?P.parent=F.parent:(F.parent===A?P.parent=F:P.parent=F.parent,F.left=A.left,F.right=A.right,F.parent=A.parent,m(F,E(A)),A===D.root?D.root=F:A===A.parent.left?A.parent.left=F:A.parent.right=F,F.left!==e.SENTINEL&&(F.left.parent=F),F.right!==e.SENTINEL&&(F.right.parent=F)),A.detach(),W){B(P.parent),F!==A&&(B(F),B(F.parent)),y();return}B(P),B(P.parent),F!==A&&(B(F),B(F.parent));let M;for(;P!==D.root&&E(P)===0;)P===P.parent.left?(M=P.parent.right,E(M)===1&&(m(M,0),m(P.parent,1),w(D,P.parent),M=P.parent.right),E(M.left)===0&&E(M.right)===0?(m(M,1),P=P.parent):(E(M.right)===0&&(m(M.left,0),m(M,1),T(D,M),M=P.parent.right),m(M,E(P.parent)),m(P.parent,0),m(M.right,0),w(D,P.parent),P=D.root)):(M=P.parent.left,E(M)===1&&(m(M,0),m(P.parent,1),T(D,P.parent),M=P.parent.left),E(M.left)===0&&E(M.right)===0?(m(M,1),P=P.parent):(E(M.left)===0&&(m(M.right,0),m(M,1),w(D,M),M=P.parent.left),m(M,E(P.parent)),m(P.parent,0),m(M.left,0),T(D,P.parent),P=D.root));m(P,0),y()}function S(D){for(;D.left!==e.SENTINEL;)D=D.left;return D}function y(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function w(D,A){const P=A.right;P.delta+=A.delta,(P.delta<-1073741824||P.delta>1073741824)&&(D.requestNormalizeDelta=!0),P.start+=A.delta,P.end+=A.delta,A.right=P.left,P.left!==e.SENTINEL&&(P.left.parent=A),P.parent=A.parent,A.parent===e.SENTINEL?D.root=P:A===A.parent.left?A.parent.left=P:A.parent.right=P,P.left=A,A.parent=P,R(A),R(P)}function T(D,A){const P=A.left;A.delta-=P.delta,(A.delta<-1073741824||A.delta>1073741824)&&(D.requestNormalizeDelta=!0),A.start-=P.delta,A.end-=P.delta,A.left=P.right,P.right!==e.SENTINEL&&(P.right.parent=A),P.parent=A.parent,A.parent===e.SENTINEL?D.root=P:A===A.parent.right?A.parent.right=P:A.parent.left=P,P.right=A,A.parent=P,R(A),R(P)}function N(D){let A=D.end;if(D.left!==e.SENTINEL){const P=D.left.maxEnd;P>A&&(A=P)}if(D.right!==e.SENTINEL){const P=D.right.maxEnd+D.delta;P>A&&(A=P)}return A}function R(D){D.maxEnd=N(D)}e.recomputeMaxEnd=R;function B(D){for(;D!==e.SENTINEL;){const A=N(D);if(D.maxEnd===A)return;D.maxEnd=A,D=D.parent}}function O(D,A,P,F){return D===P?A-F:D-P}e.intervalCompare=O}),define(re[435],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.recomputeTreeMetadata=e.updateTreeMetadata=e.fixInsert=e.rbDelete=e.rightRotate=e.leftRotate=e.resetSentinel=e.calculateLF=e.calculateSize=e.righttest=e.leftest=e.SENTINEL=e.TreeNode=void 0;class E{constructor(d,r){this.piece=d,this.color=r,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return m(this.right);let d=this;for(;d.parent!==e.SENTINEL&&d.parent.left!==d;)d=d.parent;return d.parent===e.SENTINEL?e.SENTINEL:d.parent}prev(){if(this.left!==e.SENTINEL)return k(this.left);let d=this;for(;d.parent!==e.SENTINEL&&d.parent.right!==d;)d=d.parent;return d.parent===e.SENTINEL?e.SENTINEL:d.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=E,e.SENTINEL=new E(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function m(o){for(;o.left!==e.SENTINEL;)o=o.left;return o}e.leftest=m;function k(o){for(;o.right!==e.SENTINEL;)o=o.right;return o}e.righttest=k;function I(o){return o===e.SENTINEL?0:o.size_left+o.piece.length+I(o.right)}e.calculateSize=I;function L(o){return o===e.SENTINEL?0:o.lf_left+o.piece.lineFeedCnt+L(o.right)}e.calculateLF=L;function _(){e.SENTINEL.parent=e.SENTINEL}e.resetSentinel=_;function v(o,d){const r=d.right;r.size_left+=d.size_left+(d.piece?d.piece.length:0),r.lf_left+=d.lf_left+(d.piece?d.piece.lineFeedCnt:0),d.right=r.left,r.left!==e.SENTINEL&&(r.left.parent=d),r.parent=d.parent,d.parent===e.SENTINEL?o.root=r:d.parent.left===d?d.parent.left=r:d.parent.right=r,r.left=d,d.parent=r}e.leftRotate=v;function u(o,d){const r=d.left;d.left=r.right,r.right!==e.SENTINEL&&(r.right.parent=d),r.parent=d.parent,d.size_left-=r.size_left+(r.piece?r.piece.length:0),d.lf_left-=r.lf_left+(r.piece?r.piece.lineFeedCnt:0),d.parent===e.SENTINEL?o.root=r:d===d.parent.right?d.parent.right=r:d.parent.left=r,r.right=d,d.parent=r}e.rightRotate=u;function h(o,d){let r,c;if(d.left===e.SENTINEL?(c=d,r=c.right):d.right===e.SENTINEL?(c=d,r=c.left):(c=m(d.right),r=c.right),c===o.root){o.root=r,r.color=0,d.detach(),_(),o.root.parent=e.SENTINEL;return}const s=c.color===1;if(c===c.parent.left?c.parent.left=r:c.parent.right=r,c===d?(r.parent=c.parent,t(o,r)):(c.parent===d?r.parent=c:r.parent=c.parent,t(o,r),c.left=d.left,c.right=d.right,c.parent=d.parent,c.color=d.color,d===o.root?o.root=c:d===d.parent.left?d.parent.left=c:d.parent.right=c,c.left!==e.SENTINEL&&(c.left.parent=c),c.right!==e.SENTINEL&&(c.right.parent=c),c.size_left=d.size_left,c.lf_left=d.lf_left,t(o,c)),d.detach(),r.parent.left===r){const l=I(r),f=L(r);if(l!==r.parent.size_left||f!==r.parent.lf_left){const g=l-r.parent.size_left,b=f-r.parent.lf_left;r.parent.size_left=l,r.parent.lf_left=f,n(o,r.parent,g,b)}}if(t(o,r.parent),s){_();return}let a;for(;r!==o.root&&r.color===0;)r===r.parent.left?(a=r.parent.right,a.color===1&&(a.color=0,r.parent.color=1,v(o,r.parent),a=r.parent.right),a.left.color===0&&a.right.color===0?(a.color=1,r=r.parent):(a.right.color===0&&(a.left.color=0,a.color=1,u(o,a),a=r.parent.right),a.color=r.parent.color,r.parent.color=0,a.right.color=0,v(o,r.parent),r=o.root)):(a=r.parent.left,a.color===1&&(a.color=0,r.parent.color=1,u(o,r.parent),a=r.parent.left),a.left.color===0&&a.right.color===0?(a.color=1,r=r.parent):(a.left.color===0&&(a.right.color=0,a.color=1,v(o,a),a=r.parent.left),a.color=r.parent.color,r.parent.color=0,a.left.color=0,u(o,r.parent),r=o.root));r.color=0,_()}e.rbDelete=h;function i(o,d){for(t(o,d);d!==o.root&&d.parent.color===1;)if(d.parent===d.parent.parent.left){const r=d.parent.parent.right;r.color===1?(d.parent.color=0,r.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.right&&(d=d.parent,v(o,d)),d.parent.color=0,d.parent.parent.color=1,u(o,d.parent.parent))}else{const r=d.parent.parent.left;r.color===1?(d.parent.color=0,r.color=0,d.parent.parent.color=1,d=d.parent.parent):(d===d.parent.left&&(d=d.parent,u(o,d)),d.parent.color=0,d.parent.parent.color=1,v(o,d.parent.parent))}o.root.color=0}e.fixInsert=i;function n(o,d,r,c){for(;d!==o.root&&d!==e.SENTINEL;)d.parent.left===d&&(d.parent.size_left+=r,d.parent.lf_left+=c),d=d.parent}e.updateTreeMetadata=n;function t(o,d){let r=0,c=0;if(d!==o.root){for(;d!==o.root&&d===d.parent.right;)d=d.parent;if(d!==o.root)for(d=d.parent,r=I(d.left)-d.size_left,c=L(d.left)-d.lf_left,d.size_left+=r,d.lf_left+=c;d!==o.root&&(r!==0||c!==0);)d.parent.left===d&&(d.parent.size_left+=r,d.parent.lf_left+=c),d=d.parent}}e.recomputeTreeMetadata=t}),define(re[248],se([1,0,18,142]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class k{constructor(v){this.values=v,this.prefixSum=new Uint32Array(v.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(v,u){v=(0,m.toUint32)(v);const h=this.values,i=this.prefixSum,n=u.length;return n===0?!1:(this.values=new Uint32Array(h.length+n),this.values.set(h.subarray(0,v),0),this.values.set(h.subarray(v),v+n),this.values.set(u,v),v-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=v-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(v,u){return v=(0,m.toUint32)(v),u=(0,m.toUint32)(u),this.values[v]===u?!1:(this.values[v]=u,v-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=v-1),!0)}removeValues(v,u){v=(0,m.toUint32)(v),u=(0,m.toUint32)(u);const h=this.values,i=this.prefixSum;if(v>=h.length)return!1;const n=h.length-v;return u>=n&&(u=n),u===0?!1:(this.values=new Uint32Array(h.length-u),this.values.set(h.subarray(0,v),0),this.values.set(h.subarray(v+u),v),this.prefixSum=new Uint32Array(this.values.length),v-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=v-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(v){return v<0?0:(v=(0,m.toUint32)(v),this._getPrefixSum(v))}_getPrefixSum(v){if(v<=this.prefixSumValidIndex[0])return this.prefixSum[v];let u=this.prefixSumValidIndex[0]+1;u===0&&(this.prefixSum[0]=this.values[0],u++),v>=this.values.length&&(v=this.values.length-1);for(let h=u;h<=v;h++)this.prefixSum[h]=this.prefixSum[h-1]+this.values[h];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],v),this.prefixSum[v]}getIndexOf(v){v=Math.floor(v),this.getTotalSum();let u=0,h=this.values.length-1,i=0,n=0,t=0;for(;u<=h;)if(i=u+(h-u)/2|0,n=this.prefixSum[i],t=n-this.values[i],v<t)h=i-1;else if(v>=n)u=i+1;else break;return new L(i,v-t)}}e.PrefixSumComputer=k;class I{constructor(v){this._values=v,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(v){return this._ensureValid(),v===0?0:this._prefixSum[v-1]}getIndexOf(v){this._ensureValid();const u=this._indexBySum[v],h=u>0?this._prefixSum[u-1]:0;return new L(u,v-h)}removeValues(v,u){this._values.splice(v,u),this._invalidate(v)}insertValues(v,u){this._values=(0,E.arrayInsert)(this._values,v,u),this._invalidate(v)}_invalidate(v){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,v-1)}_ensureValid(){if(!this._isValid){for(let v=this._validEndIndex+1,u=this._values.length;v<u;v++){const h=this._values[v],i=v>0?this._prefixSum[v-1]:0;this._prefixSum[v]=i+h;for(let n=0;n<h;n++)this._indexBySum[i+n]=v}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(v,u){this._values[v]!==u&&(this._values[v]=u,this._invalidate(v))}}e.ConstantTimePrefixSumComputer=I;class L{constructor(v,u){this.index=v,this.remainder=u,this._prefixSumIndexOfResultBrand=void 0,this.index=v,this.remainder=u}}e.PrefixSumIndexOfResult=L}),define(re[436],se([1,0,8,11,248]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class I{constructor(_,v,u,h){this._uri=_,this._lines=v,this._eol=u,this._versionId=h,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(_){_.eol&&_.eol!==this._eol&&(this._eol=_.eol,this._lineStarts=null);const v=_.changes;for(const u of v)this._acceptDeleteRange(u.range),this._acceptInsertText(new m.Position(u.range.startLineNumber,u.range.startColumn),u.text);this._versionId=_.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const _=this._eol.length,v=this._lines.length,u=new Uint32Array(v);for(let h=0;h<v;h++)u[h]=this._lines[h].length+_;this._lineStarts=new k.PrefixSumComputer(u)}}_setLineText(_,v){this._lines[_]=v,this._lineStarts&&this._lineStarts.setValue(_,this._lines[_].length+this._eol.length)}_acceptDeleteRange(_){if(_.startLineNumber===_.endLineNumber){if(_.startColumn===_.endColumn)return;this._setLineText(_.startLineNumber-1,this._lines[_.startLineNumber-1].substring(0,_.startColumn-1)+this._lines[_.startLineNumber-1].substring(_.endColumn-1));return}this._setLineText(_.startLineNumber-1,this._lines[_.startLineNumber-1].substring(0,_.startColumn-1)+this._lines[_.endLineNumber-1].substring(_.endColumn-1)),this._lines.splice(_.startLineNumber,_.endLineNumber-_.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(_.startLineNumber,_.endLineNumber-_.startLineNumber)}_acceptInsertText(_,v){if(v.length===0)return;const u=(0,E.splitLines)(v);if(u.length===1){this._setLineText(_.lineNumber-1,this._lines[_.lineNumber-1].substring(0,_.column-1)+u[0]+this._lines[_.lineNumber-1].substring(_.column-1));return}u[u.length-1]+=this._lines[_.lineNumber-1].substring(_.column-1),this._setLineText(_.lineNumber-1,this._lines[_.lineNumber-1].substring(0,_.column-1)+u[0]);const h=new Uint32Array(u.length-1);for(let i=1;i<u.length;i++)this._lines.splice(_.lineNumber+i-1,0,u[i]),h[i-1]=u[i].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(_.lineNumber,h)}}e.MirrorTextModel=I}),define(re[249],se([1,0,2]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelPart=void 0;class m extends E.Disposable{constructor(){super(...arguments);this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}e.TextModelPart=m}),define(re[153],se([1,0,8,125,11,3,47]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.isValidMatch=e.TextModelSearch=e.createFindMatch=e.isMultilineRegexSource=e.SearchParams=void 0;const _=999;class v{constructor(s,a,l,f){this.searchString=s,this.isRegex=a,this.matchCase=l,this.wordSeparators=f}parseSearchRequest(){if(this.searchString==="")return null;let s;this.isRegex?s=u(this.searchString):s=this.searchString.indexOf(`
`)>=0;let a=null;try{a=E.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:s,global:!0,unicode:!0})}catch{return null}if(!a)return null;let l=!this.isRegex&&!s;return l&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(l=this.matchCase),new L.SearchData(a,this.wordSeparators?(0,m.getMapForWordSeparators)(this.wordSeparators):null,l?this.searchString:null)}}e.SearchParams=v;function u(c){if(!c||c.length===0)return!1;for(let s=0,a=c.length;s<a;s++)if(c.charCodeAt(s)===92){if(s++,s>=a)break;const f=c.charCodeAt(s);if(f===110||f===114||f===87)return!0}return!1}e.isMultilineRegexSource=u;function h(c,s,a){if(!a)return new L.FindMatch(c,null);const l=[];for(let f=0,g=s.length;f<g;f++)l[f]=s[f];return new L.FindMatch(c,l)}e.createFindMatch=h;class i{constructor(s){const a=[];let l=0;for(let f=0,g=s.length;f<g;f++)s.charCodeAt(f)===10&&(a[l++]=f);this._lineFeedsOffsets=a}findLineFeedCountBeforeOffset(s){const a=this._lineFeedsOffsets;let l=0,f=a.length-1;if(f===-1||s<=a[0])return 0;for(;l<f;){const g=l+((f-l)/2>>0);a[g]>=s?f=g-1:a[g+1]>=s?(l=g,f=g):l=g+1}return l+1}}class n{static findMatches(s,a,l,f,g){const b=a.parseSearchRequest();return b?b.regex.multiline?this._doFindMatchesMultiline(s,l,new r(b.wordSeparators,b.regex),f,g):this._doFindMatchesLineByLine(s,l,b,f,g):[]}static _getMultilineMatchRange(s,a,l,f,g,b){let p,C=0;f?(C=f.findLineFeedCountBeforeOffset(g),p=a+g+C):p=a+g;let S;if(f){const N=f.findLineFeedCountBeforeOffset(g+b.length)-C;S=p+b.length+N}else S=p+b.length;const y=s.getPositionAt(p),w=s.getPositionAt(S);return new I.Range(y.lineNumber,y.column,w.lineNumber,w.column)}static _doFindMatchesMultiline(s,a,l,f,g){const b=s.getOffsetAt(a.getStartPosition()),p=s.getValueInRange(a,1),C=s.getEOL()===`\r
`?new i(p):null,S=[];let y=0,w;for(l.reset(0);w=l.next(p);)if(S[y++]=h(this._getMultilineMatchRange(s,b,p,C,w.index,w[0]),w,f),y>=g)return S;return S}static _doFindMatchesLineByLine(s,a,l,f,g){const b=[];let p=0;if(a.startLineNumber===a.endLineNumber){const S=s.getLineContent(a.startLineNumber).substring(a.startColumn-1,a.endColumn-1);return p=this._findMatchesInLine(l,S,a.startLineNumber,a.startColumn-1,p,b,f,g),b}const C=s.getLineContent(a.startLineNumber).substring(a.startColumn-1);p=this._findMatchesInLine(l,C,a.startLineNumber,a.startColumn-1,p,b,f,g);for(let S=a.startLineNumber+1;S<a.endLineNumber&&p<g;S++)p=this._findMatchesInLine(l,s.getLineContent(S),S,0,p,b,f,g);if(p<g){const S=s.getLineContent(a.endLineNumber).substring(0,a.endColumn-1);p=this._findMatchesInLine(l,S,a.endLineNumber,0,p,b,f,g)}return b}static _findMatchesInLine(s,a,l,f,g,b,p,C){const S=s.wordSeparators;if(!p&&s.simpleSearch){const T=s.simpleSearch,N=T.length,R=a.length;let B=-N;for(;(B=a.indexOf(T,B+N))!==-1;)if((!S||d(S,a,R,B,N))&&(b[g++]=new L.FindMatch(new I.Range(l,B+1+f,l,B+1+N+f),null),g>=C))return g;return g}const y=new r(s.wordSeparators,s.regex);let w;y.reset(0);do if(w=y.next(a),w&&(b[g++]=h(new I.Range(l,w.index+1+f,l,w.index+1+w[0].length+f),w,p),g>=C))return g;while(w);return g}static findNextMatch(s,a,l,f){const g=a.parseSearchRequest();if(!g)return null;const b=new r(g.wordSeparators,g.regex);return g.regex.multiline?this._doFindNextMatchMultiline(s,l,b,f):this._doFindNextMatchLineByLine(s,l,b,f)}static _doFindNextMatchMultiline(s,a,l,f){const g=new k.Position(a.lineNumber,1),b=s.getOffsetAt(g),p=s.getLineCount(),C=s.getValueInRange(new I.Range(g.lineNumber,g.column,p,s.getLineMaxColumn(p)),1),S=s.getEOL()===`\r
`?new i(C):null;l.reset(a.column-1);let y=l.next(C);return y?h(this._getMultilineMatchRange(s,b,C,S,y.index,y[0]),y,f):a.lineNumber!==1||a.column!==1?this._doFindNextMatchMultiline(s,new k.Position(1,1),l,f):null}static _doFindNextMatchLineByLine(s,a,l,f){const g=s.getLineCount(),b=a.lineNumber,p=s.getLineContent(b),C=this._findFirstMatchInLine(l,p,b,a.column,f);if(C)return C;for(let S=1;S<=g;S++){const y=(b+S-1)%g,w=s.getLineContent(y+1),T=this._findFirstMatchInLine(l,w,y+1,1,f);if(T)return T}return null}static _findFirstMatchInLine(s,a,l,f,g){s.reset(f-1);const b=s.next(a);return b?h(new I.Range(l,b.index+1,l,b.index+1+b[0].length),b,g):null}static findPreviousMatch(s,a,l,f){const g=a.parseSearchRequest();if(!g)return null;const b=new r(g.wordSeparators,g.regex);return g.regex.multiline?this._doFindPreviousMatchMultiline(s,l,b,f):this._doFindPreviousMatchLineByLine(s,l,b,f)}static _doFindPreviousMatchMultiline(s,a,l,f){const g=this._doFindMatchesMultiline(s,new I.Range(1,1,a.lineNumber,a.column),l,f,10*_);if(g.length>0)return g[g.length-1];const b=s.getLineCount();return a.lineNumber!==b||a.column!==s.getLineMaxColumn(b)?this._doFindPreviousMatchMultiline(s,new k.Position(b,s.getLineMaxColumn(b)),l,f):null}static _doFindPreviousMatchLineByLine(s,a,l,f){const g=s.getLineCount(),b=a.lineNumber,p=s.getLineContent(b).substring(0,a.column-1),C=this._findLastMatchInLine(l,p,b,f);if(C)return C;for(let S=1;S<=g;S++){const y=(g+b-S-1)%g,w=s.getLineContent(y+1),T=this._findLastMatchInLine(l,w,y+1,f);if(T)return T}return null}static _findLastMatchInLine(s,a,l,f){let g=null,b;for(s.reset(0);b=s.next(a);)g=h(new I.Range(l,b.index+1,l,b.index+1+b[0].length),b,f);return g}}e.TextModelSearch=n;function t(c,s,a,l,f){if(l===0)return!0;const g=s.charCodeAt(l-1);if(c.get(g)!==0||g===13||g===10)return!0;if(f>0){const b=s.charCodeAt(l);if(c.get(b)!==0)return!0}return!1}function o(c,s,a,l,f){if(l+f===a)return!0;const g=s.charCodeAt(l+f);if(c.get(g)!==0||g===13||g===10)return!0;if(f>0){const b=s.charCodeAt(l+f-1);if(c.get(b)!==0)return!0}return!1}function d(c,s,a,l,f){return t(c,s,a,l,f)&&o(c,s,a,l,f)}e.isValidMatch=d;class r{constructor(s,a){this._wordSeparators=s,this._searchRegex=a,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(s){this._searchRegex.lastIndex=s,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(s){const a=s.length;let l;do{if(this._prevMatchStartIndex+this._prevMatchLength===a||(l=this._searchRegex.exec(s),!l))return null;const f=l.index,g=l[0].length;if(f===this._prevMatchStartIndex&&g===this._prevMatchLength){if(g===0){E.getNextCodePoint(s,a,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=f,this._prevMatchLength=g,!this._wordSeparators||d(this._wordSeparators,s,a,f,g))return l}while(l);return null}}e.Searcher=r}),define(re[250],se([1,0,11,3,47,435,153]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=e.createLineStarts=e.createLineStartsFast=e.LineStarts=e.createUintArray=e.AverageBufferSize=void 0,e.AverageBufferSize=65535;function _(r){let c;return r[r.length-1]<65536?c=new Uint16Array(r.length):c=new Uint32Array(r.length),c.set(r,0),c}e.createUintArray=_;class v{constructor(c,s,a,l,f){this.lineStarts=c,this.cr=s,this.lf=a,this.crlf=l,this.isBasicASCII=f}}e.LineStarts=v;function u(r,c=!0){const s=[0];let a=1;for(let l=0,f=r.length;l<f;l++){const g=r.charCodeAt(l);g===13?l+1<f&&r.charCodeAt(l+1)===10?(s[a++]=l+2,l++):s[a++]=l+1:g===10&&(s[a++]=l+1)}return c?_(s):s}e.createLineStartsFast=u;function h(r,c){r.length=0,r[0]=0;let s=1,a=0,l=0,f=0,g=!0;for(let p=0,C=c.length;p<C;p++){const S=c.charCodeAt(p);S===13?p+1<C&&c.charCodeAt(p+1)===10?(f++,r[s++]=p+2,p++):(a++,r[s++]=p+1):S===10?(l++,r[s++]=p+1):g&&S!==9&&(S<32||S>126)&&(g=!1)}const b=new v(_(r),a,l,f,g);return r.length=0,b}e.createLineStarts=h;class i{constructor(c,s,a,l,f){this.bufferIndex=c,this.start=s,this.end=a,this.lineFeedCnt=l,this.length=f}}e.Piece=i;class n{constructor(c,s){this.buffer=c,this.lineStarts=s}}e.StringBuffer=n;class t{constructor(c,s){this._pieces=[],this._tree=c,this._BOM=s,this._index=0,c.root!==I.SENTINEL&&c.iterate(c.root,a=>(a!==I.SENTINEL&&this._pieces.push(a.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class o{constructor(c){this._limit=c,this._cache=[]}get(c){for(let s=this._cache.length-1;s>=0;s--){const a=this._cache[s];if(a.nodeStartOffset<=c&&a.nodeStartOffset+a.node.piece.length>=c)return a}return null}get2(c){for(let s=this._cache.length-1;s>=0;s--){const a=this._cache[s];if(a.nodeStartLineNumber&&a.nodeStartLineNumber<c&&a.nodeStartLineNumber+a.node.piece.lineFeedCnt>=c)return a}return null}set(c){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(c)}validate(c){let s=!1;const a=this._cache;for(let l=0;l<a.length;l++){const f=a[l];if(f.node.parent===null||f.nodeStartOffset>=c){a[l]=null,s=!0;continue}}if(s){const l=[];for(const f of a)f!==null&&l.push(f);this._cache=l}}}class d{constructor(c,s,a){this.create(c,s,a)}create(c,s,a){this._buffers=[new n("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=I.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=s,this._EOLLength=s.length,this._EOLNormalized=a;let l=null;for(let f=0,g=c.length;f<g;f++)if(c[f].buffer.length>0){c[f].lineStarts||(c[f].lineStarts=u(c[f].buffer));const b=new i(f+1,{line:0,column:0},{line:c[f].lineStarts.length-1,column:c[f].buffer.length-c[f].lineStarts[c[f].lineStarts.length-1]},c[f].lineStarts.length-1,c[f].buffer.length);this._buffers.push(c[f]),l=this.rbInsertRight(l,b)}this._searchCache=new o(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(c){const s=e.AverageBufferSize,a=s-Math.floor(s/3),l=a*2;let f="",g=0;const b=[];if(this.iterate(this.root,p=>{const C=this.getNodeContent(p),S=C.length;if(g<=a||g+S<l)return f+=C,g+=S,!0;const y=f.replace(/\r\n|\r|\n/g,c);return b.push(new n(y,u(y))),f=C,g=S,!0}),g>0){const p=f.replace(/\r\n|\r|\n/g,c);b.push(new n(p,u(p)))}this.create(b,c,!0)}getEOL(){return this._EOL}setEOL(c){this._EOL=c,this._EOLLength=this._EOL.length,this.normalizeEOL(c)}createSnapshot(c){return new t(this,c)}getOffsetAt(c,s){let a=0,l=this.root;for(;l!==I.SENTINEL;)if(l.left!==I.SENTINEL&&l.lf_left+1>=c)l=l.left;else{if(l.lf_left+l.piece.lineFeedCnt+1>=c)return a+=l.size_left,a+=this.getAccumulatedValue(l,c-l.lf_left-2)+s-1;c-=l.lf_left+l.piece.lineFeedCnt,a+=l.size_left+l.piece.length,l=l.right}return a}getPositionAt(c){c=Math.floor(c),c=Math.max(0,c);let s=this.root,a=0;const l=c;for(;s!==I.SENTINEL;)if(s.size_left!==0&&s.size_left>=c)s=s.left;else if(s.size_left+s.piece.length>=c){const f=this.getIndexOf(s,c-s.size_left);if(a+=s.lf_left+f.index,f.index===0){const g=this.getOffsetAt(a+1,1),b=l-g;return new E.Position(a+1,b+1)}return new E.Position(a+1,f.remainder+1)}else if(c-=s.size_left+s.piece.length,a+=s.lf_left+s.piece.lineFeedCnt,s.right===I.SENTINEL){const f=this.getOffsetAt(a+1,1),g=l-c-f;return new E.Position(a+1,g+1)}else s=s.right;return new E.Position(1,1)}getValueInRange(c,s){if(c.startLineNumber===c.endLineNumber&&c.startColumn===c.endColumn)return"";const a=this.nodeAt2(c.startLineNumber,c.startColumn),l=this.nodeAt2(c.endLineNumber,c.endColumn),f=this.getValueInRange2(a,l);return s?s!==this._EOL||!this._EOLNormalized?f.replace(/\r\n|\r|\n/g,s):s===this.getEOL()&&this._EOLNormalized?f:f.replace(/\r\n|\r|\n/g,s):f}getValueInRange2(c,s){if(c.node===s.node){const b=c.node,p=this._buffers[b.piece.bufferIndex].buffer,C=this.offsetInBuffer(b.piece.bufferIndex,b.piece.start);return p.substring(C+c.remainder,C+s.remainder)}let a=c.node;const l=this._buffers[a.piece.bufferIndex].buffer,f=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);let g=l.substring(f+c.remainder,f+a.piece.length);for(a=a.next();a!==I.SENTINEL;){const b=this._buffers[a.piece.bufferIndex].buffer,p=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);if(a===s.node){g+=b.substring(p,p+s.remainder);break}else g+=b.substr(p,a.piece.length);a=a.next()}return g}getLinesContent(){const c=[];let s=0,a="",l=!1;return this.iterate(this.root,f=>{if(f===I.SENTINEL)return!0;const g=f.piece;let b=g.length;if(b===0)return!0;const p=this._buffers[g.bufferIndex].buffer,C=this._buffers[g.bufferIndex].lineStarts,S=g.start.line,y=g.end.line;let w=C[S]+g.start.column;if(l&&(p.charCodeAt(w)===10&&(w++,b--),c[s++]=a,a="",l=!1,b===0))return!0;if(S===y)return!this._EOLNormalized&&p.charCodeAt(w+b-1)===13?(l=!0,a+=p.substr(w,b-1)):a+=p.substr(w,b),!0;a+=this._EOLNormalized?p.substring(w,Math.max(w,C[S+1]-this._EOLLength)):p.substring(w,C[S+1]).replace(/(\r\n|\r|\n)$/,""),c[s++]=a;for(let T=S+1;T<y;T++)a=this._EOLNormalized?p.substring(C[T],C[T+1]-this._EOLLength):p.substring(C[T],C[T+1]).replace(/(\r\n|\r|\n)$/,""),c[s++]=a;return!this._EOLNormalized&&p.charCodeAt(C[y]+g.end.column-1)===13?(l=!0,g.end.column===0?s--:a=p.substr(C[y],g.end.column-1)):a=p.substr(C[y],g.end.column),!0}),l&&(c[s++]=a,a=""),c[s++]=a,c}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(c){return this._lastVisitedLine.lineNumber===c?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=c,c===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(c):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(c,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(c).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(c){if(c.remainder===c.node.piece.length){const s=c.node.next();if(!s)return 0;const a=this._buffers[s.piece.bufferIndex],l=this.offsetInBuffer(s.piece.bufferIndex,s.piece.start);return a.buffer.charCodeAt(l)}else{const s=this._buffers[c.node.piece.bufferIndex],l=this.offsetInBuffer(c.node.piece.bufferIndex,c.node.piece.start)+c.remainder;return s.buffer.charCodeAt(l)}}getLineCharCode(c,s){const a=this.nodeAt2(c,s+1);return this._getCharCode(a)}getLineLength(c){if(c===this.getLineCount()){const s=this.getOffsetAt(c,1);return this.getLength()-s}return this.getOffsetAt(c+1,1)-this.getOffsetAt(c,1)-this._EOLLength}findMatchesInNode(c,s,a,l,f,g,b,p,C,S,y){const w=this._buffers[c.piece.bufferIndex],T=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start),N=this.offsetInBuffer(c.piece.bufferIndex,f),R=this.offsetInBuffer(c.piece.bufferIndex,g);let B;const O={line:0,column:0};let D,A;s._wordSeparators?(D=w.buffer.substring(N,R),A=P=>P+N,s.reset(0)):(D=w.buffer,A=P=>P,s.reset(N));do if(B=s.next(D),B){if(A(B.index)>=R)return S;this.positionInBuffer(c,A(B.index)-T,O);const P=this.getLineFeedCnt(c.piece.bufferIndex,f,O),F=O.line===f.line?O.column-f.column+l:O.column+1,W=F+B[0].length;if(y[S++]=(0,L.createFindMatch)(new m.Range(a+P,F,a+P,W),B,p),A(B.index)+B[0].length>=R||S>=C)return S}while(B);return S}findMatchesLineByLine(c,s,a,l){const f=[];let g=0;const b=new L.Searcher(s.wordSeparators,s.regex);let p=this.nodeAt2(c.startLineNumber,c.startColumn);if(p===null)return[];const C=this.nodeAt2(c.endLineNumber,c.endColumn);if(C===null)return[];let S=this.positionInBuffer(p.node,p.remainder);const y=this.positionInBuffer(C.node,C.remainder);if(p.node===C.node)return this.findMatchesInNode(p.node,b,c.startLineNumber,c.startColumn,S,y,s,a,l,g,f),f;let w=c.startLineNumber,T=p.node;for(;T!==C.node;){const R=this.getLineFeedCnt(T.piece.bufferIndex,S,T.piece.end);if(R>=1){const O=this._buffers[T.piece.bufferIndex].lineStarts,D=this.offsetInBuffer(T.piece.bufferIndex,T.piece.start),A=O[S.line+R],P=w===c.startLineNumber?c.startColumn:1;if(g=this.findMatchesInNode(T,b,w,P,S,this.positionInBuffer(T,A-D),s,a,l,g,f),g>=l)return f;w+=R}const B=w===c.startLineNumber?c.startColumn-1:0;if(w===c.endLineNumber){const O=this.getLineContent(w).substring(B,c.endColumn-1);return g=this._findMatchesInLine(s,b,O,c.endLineNumber,B,g,f,a,l),f}if(g=this._findMatchesInLine(s,b,this.getLineContent(w).substr(B),w,B,g,f,a,l),g>=l)return f;w++,p=this.nodeAt2(w,1),T=p.node,S=this.positionInBuffer(p.node,p.remainder)}if(w===c.endLineNumber){const R=w===c.startLineNumber?c.startColumn-1:0,B=this.getLineContent(w).substring(R,c.endColumn-1);return g=this._findMatchesInLine(s,b,B,c.endLineNumber,R,g,f,a,l),f}const N=w===c.startLineNumber?c.startColumn:1;return g=this.findMatchesInNode(C.node,b,w,N,S,y,s,a,l,g,f),f}_findMatchesInLine(c,s,a,l,f,g,b,p,C){const S=c.wordSeparators;if(!p&&c.simpleSearch){const w=c.simpleSearch,T=w.length,N=a.length;let R=-T;for(;(R=a.indexOf(w,R+T))!==-1;)if((!S||(0,L.isValidMatch)(S,a,N,R,T))&&(b[g++]=new k.FindMatch(new m.Range(l,R+1+f,l,R+1+T+f),null),g>=C))return g;return g}let y;s.reset(0);do if(y=s.next(a),y&&(b[g++]=(0,L.createFindMatch)(new m.Range(l,y.index+1+f,l,y.index+1+y[0].length+f),y,p),g>=C))return g;while(y);return g}insert(c,s,a=!1){if(this._EOLNormalized=this._EOLNormalized&&a,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==I.SENTINEL){const{node:l,remainder:f,nodeStartOffset:g}=this.nodeAt(c),b=l.piece,p=b.bufferIndex,C=this.positionInBuffer(l,f);if(l.piece.bufferIndex===0&&b.end.line===this._lastChangeBufferPos.line&&b.end.column===this._lastChangeBufferPos.column&&g+b.length===c&&s.length<e.AverageBufferSize){this.appendToNode(l,s),this.computeBufferMetadata();return}if(g===c)this.insertContentToNodeLeft(s,l),this._searchCache.validate(c);else if(g+l.piece.length>c){const S=[];let y=new i(b.bufferIndex,C,b.end,this.getLineFeedCnt(b.bufferIndex,C,b.end),this.offsetInBuffer(p,b.end)-this.offsetInBuffer(p,C));if(this.shouldCheckCRLF()&&this.endWithCR(s)&&this.nodeCharCodeAt(l,f)===10){const R={line:y.start.line+1,column:0};y=new i(y.bufferIndex,R,y.end,this.getLineFeedCnt(y.bufferIndex,R,y.end),y.length-1),s+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(s))if(this.nodeCharCodeAt(l,f-1)===13){const R=this.positionInBuffer(l,f-1);this.deleteNodeTail(l,R),s="\r"+s,l.piece.length===0&&S.push(l)}else this.deleteNodeTail(l,C);else this.deleteNodeTail(l,C);const w=this.createNewPieces(s);y.length>0&&this.rbInsertRight(l,y);let T=l;for(let N=0;N<w.length;N++)T=this.rbInsertRight(T,w[N]);this.deleteNodes(S)}else this.insertContentToNodeRight(s,l)}else{const l=this.createNewPieces(s);let f=this.rbInsertLeft(null,l[0]);for(let g=1;g<l.length;g++)f=this.rbInsertRight(f,l[g])}this.computeBufferMetadata()}delete(c,s){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",s<=0||this.root===I.SENTINEL)return;const a=this.nodeAt(c),l=this.nodeAt(c+s),f=a.node,g=l.node;if(f===g){const w=this.positionInBuffer(f,a.remainder),T=this.positionInBuffer(f,l.remainder);if(a.nodeStartOffset===c){if(s===f.piece.length){const N=f.next();(0,I.rbDelete)(this,f),this.validateCRLFWithPrevNode(N),this.computeBufferMetadata();return}this.deleteNodeHead(f,T),this._searchCache.validate(c),this.validateCRLFWithPrevNode(f),this.computeBufferMetadata();return}if(a.nodeStartOffset+f.piece.length===c+s){this.deleteNodeTail(f,w),this.validateCRLFWithNextNode(f),this.computeBufferMetadata();return}this.shrinkNode(f,w,T),this.computeBufferMetadata();return}const b=[],p=this.positionInBuffer(f,a.remainder);this.deleteNodeTail(f,p),this._searchCache.validate(c),f.piece.length===0&&b.push(f);const C=this.positionInBuffer(g,l.remainder);this.deleteNodeHead(g,C),g.piece.length===0&&b.push(g);const S=f.next();for(let w=S;w!==I.SENTINEL&&w!==g;w=w.next())b.push(w);const y=f.piece.length===0?f.prev():f;this.deleteNodes(b),this.validateCRLFWithNextNode(y),this.computeBufferMetadata()}insertContentToNodeLeft(c,s){const a=[];if(this.shouldCheckCRLF()&&this.endWithCR(c)&&this.startWithLF(s)){const g=s.piece,b={line:g.start.line+1,column:0},p=new i(g.bufferIndex,b,g.end,this.getLineFeedCnt(g.bufferIndex,b,g.end),g.length-1);s.piece=p,c+=`
`,(0,I.updateTreeMetadata)(this,s,-1,-1),s.piece.length===0&&a.push(s)}const l=this.createNewPieces(c);let f=this.rbInsertLeft(s,l[l.length-1]);for(let g=l.length-2;g>=0;g--)f=this.rbInsertLeft(f,l[g]);this.validateCRLFWithPrevNode(f),this.deleteNodes(a)}insertContentToNodeRight(c,s){this.adjustCarriageReturnFromNext(c,s)&&(c+=`
`);const a=this.createNewPieces(c),l=this.rbInsertRight(s,a[0]);let f=l;for(let g=1;g<a.length;g++)f=this.rbInsertRight(f,a[g]);this.validateCRLFWithPrevNode(l)}positionInBuffer(c,s,a){const l=c.piece,f=c.piece.bufferIndex,g=this._buffers[f].lineStarts,p=g[l.start.line]+l.start.column+s;let C=l.start.line,S=l.end.line,y=0,w=0,T=0;for(;C<=S&&(y=C+(S-C)/2|0,T=g[y],y!==S);)if(w=g[y+1],p<T)S=y-1;else if(p>=w)C=y+1;else break;return a?(a.line=y,a.column=p-T,null):{line:y,column:p-T}}getLineFeedCnt(c,s,a){if(a.column===0)return a.line-s.line;const l=this._buffers[c].lineStarts;if(a.line===l.length-1)return a.line-s.line;const f=l[a.line+1],g=l[a.line]+a.column;if(f>g+1)return a.line-s.line;const b=g-1;return this._buffers[c].buffer.charCodeAt(b)===13?a.line-s.line+1:a.line-s.line}offsetInBuffer(c,s){return this._buffers[c].lineStarts[s.line]+s.column}deleteNodes(c){for(let s=0;s<c.length;s++)(0,I.rbDelete)(this,c[s])}createNewPieces(c){if(c.length>e.AverageBufferSize){const S=[];for(;c.length>e.AverageBufferSize;){const w=c.charCodeAt(e.AverageBufferSize-1);let T;w===13||w>=55296&&w<=56319?(T=c.substring(0,e.AverageBufferSize-1),c=c.substring(e.AverageBufferSize-1)):(T=c.substring(0,e.AverageBufferSize),c=c.substring(e.AverageBufferSize));const N=u(T);S.push(new i(this._buffers.length,{line:0,column:0},{line:N.length-1,column:T.length-N[N.length-1]},N.length-1,T.length)),this._buffers.push(new n(T,N))}const y=u(c);return S.push(new i(this._buffers.length,{line:0,column:0},{line:y.length-1,column:c.length-y[y.length-1]},y.length-1,c.length)),this._buffers.push(new n(c,y)),S}let s=this._buffers[0].buffer.length;const a=u(c,!1);let l=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===s&&s!==0&&this.startWithLF(c)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},l=this._lastChangeBufferPos;for(let S=0;S<a.length;S++)a[S]+=s+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(a.slice(1)),this._buffers[0].buffer+="_"+c,s+=1}else{if(s!==0)for(let S=0;S<a.length;S++)a[S]+=s;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(a.slice(1)),this._buffers[0].buffer+=c}const f=this._buffers[0].buffer.length,g=this._buffers[0].lineStarts.length-1,b=f-this._buffers[0].lineStarts[g],p={line:g,column:b},C=new i(0,l,p,this.getLineFeedCnt(0,l,p),f-s);return this._lastChangeBufferPos=p,[C]}getLineRawContent(c,s=0){let a=this.root,l="";const f=this._searchCache.get2(c);if(f){a=f.node;const g=this.getAccumulatedValue(a,c-f.nodeStartLineNumber-1),b=this._buffers[a.piece.bufferIndex].buffer,p=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);if(f.nodeStartLineNumber+a.piece.lineFeedCnt===c)l=b.substring(p+g,p+a.piece.length);else{const C=this.getAccumulatedValue(a,c-f.nodeStartLineNumber);return b.substring(p+g,p+C-s)}}else{let g=0;const b=c;for(;a!==I.SENTINEL;)if(a.left!==I.SENTINEL&&a.lf_left>=c-1)a=a.left;else if(a.lf_left+a.piece.lineFeedCnt>c-1){const p=this.getAccumulatedValue(a,c-a.lf_left-2),C=this.getAccumulatedValue(a,c-a.lf_left-1),S=this._buffers[a.piece.bufferIndex].buffer,y=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return g+=a.size_left,this._searchCache.set({node:a,nodeStartOffset:g,nodeStartLineNumber:b-(c-1-a.lf_left)}),S.substring(y+p,y+C-s)}else if(a.lf_left+a.piece.lineFeedCnt===c-1){const p=this.getAccumulatedValue(a,c-a.lf_left-2),C=this._buffers[a.piece.bufferIndex].buffer,S=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);l=C.substring(S+p,S+a.piece.length);break}else c-=a.lf_left+a.piece.lineFeedCnt,g+=a.size_left+a.piece.length,a=a.right}for(a=a.next();a!==I.SENTINEL;){const g=this._buffers[a.piece.bufferIndex].buffer;if(a.piece.lineFeedCnt>0){const b=this.getAccumulatedValue(a,0),p=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return l+=g.substring(p,p+b-s),l}else{const b=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);l+=g.substr(b,a.piece.length)}a=a.next()}return l}computeBufferMetadata(){let c=this.root,s=1,a=0;for(;c!==I.SENTINEL;)s+=c.lf_left+c.piece.lineFeedCnt,a+=c.size_left+c.piece.length,c=c.right;this._lineCnt=s,this._length=a,this._searchCache.validate(this._length)}getIndexOf(c,s){const a=c.piece,l=this.positionInBuffer(c,s),f=l.line-a.start.line;if(this.offsetInBuffer(a.bufferIndex,a.end)-this.offsetInBuffer(a.bufferIndex,a.start)===s){const g=this.getLineFeedCnt(c.piece.bufferIndex,a.start,l);if(g!==f)return{index:g,remainder:0}}return{index:f,remainder:l.column}}getAccumulatedValue(c,s){if(s<0)return 0;const a=c.piece,l=this._buffers[a.bufferIndex].lineStarts,f=a.start.line+s+1;return f>a.end.line?l[a.end.line]+a.end.column-l[a.start.line]-a.start.column:l[f]-l[a.start.line]-a.start.column}deleteNodeTail(c,s){const a=c.piece,l=a.lineFeedCnt,f=this.offsetInBuffer(a.bufferIndex,a.end),g=s,b=this.offsetInBuffer(a.bufferIndex,g),p=this.getLineFeedCnt(a.bufferIndex,a.start,g),C=p-l,S=b-f,y=a.length+S;c.piece=new i(a.bufferIndex,a.start,g,p,y),(0,I.updateTreeMetadata)(this,c,S,C)}deleteNodeHead(c,s){const a=c.piece,l=a.lineFeedCnt,f=this.offsetInBuffer(a.bufferIndex,a.start),g=s,b=this.getLineFeedCnt(a.bufferIndex,g,a.end),p=this.offsetInBuffer(a.bufferIndex,g),C=b-l,S=f-p,y=a.length+S;c.piece=new i(a.bufferIndex,g,a.end,b,y),(0,I.updateTreeMetadata)(this,c,S,C)}shrinkNode(c,s,a){const l=c.piece,f=l.start,g=l.end,b=l.length,p=l.lineFeedCnt,C=s,S=this.getLineFeedCnt(l.bufferIndex,l.start,C),y=this.offsetInBuffer(l.bufferIndex,s)-this.offsetInBuffer(l.bufferIndex,f);c.piece=new i(l.bufferIndex,l.start,C,S,y),(0,I.updateTreeMetadata)(this,c,y-b,S-p);const w=new i(l.bufferIndex,a,g,this.getLineFeedCnt(l.bufferIndex,a,g),this.offsetInBuffer(l.bufferIndex,g)-this.offsetInBuffer(l.bufferIndex,a)),T=this.rbInsertRight(c,w);this.validateCRLFWithPrevNode(T)}appendToNode(c,s){this.adjustCarriageReturnFromNext(s,c)&&(s+=`
`);const a=this.shouldCheckCRLF()&&this.startWithLF(s)&&this.endWithCR(c),l=this._buffers[0].buffer.length;this._buffers[0].buffer+=s;const f=u(s,!1);for(let T=0;T<f.length;T++)f[T]+=l;if(a){const T=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:l-T}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(f.slice(1));const g=this._buffers[0].lineStarts.length-1,b=this._buffers[0].buffer.length-this._buffers[0].lineStarts[g],p={line:g,column:b},C=c.piece.length+s.length,S=c.piece.lineFeedCnt,y=this.getLineFeedCnt(0,c.piece.start,p),w=y-S;c.piece=new i(c.piece.bufferIndex,c.piece.start,p,y,C),this._lastChangeBufferPos=p,(0,I.updateTreeMetadata)(this,c,s.length,w)}nodeAt(c){let s=this.root;const a=this._searchCache.get(c);if(a)return{node:a.node,nodeStartOffset:a.nodeStartOffset,remainder:c-a.nodeStartOffset};let l=0;for(;s!==I.SENTINEL;)if(s.size_left>c)s=s.left;else if(s.size_left+s.piece.length>=c){l+=s.size_left;const f={node:s,remainder:c-s.size_left,nodeStartOffset:l};return this._searchCache.set(f),f}else c-=s.size_left+s.piece.length,l+=s.size_left+s.piece.length,s=s.right;return null}nodeAt2(c,s){let a=this.root,l=0;for(;a!==I.SENTINEL;)if(a.left!==I.SENTINEL&&a.lf_left>=c-1)a=a.left;else if(a.lf_left+a.piece.lineFeedCnt>c-1){const f=this.getAccumulatedValue(a,c-a.lf_left-2),g=this.getAccumulatedValue(a,c-a.lf_left-1);return l+=a.size_left,{node:a,remainder:Math.min(f+s-1,g),nodeStartOffset:l}}else if(a.lf_left+a.piece.lineFeedCnt===c-1){const f=this.getAccumulatedValue(a,c-a.lf_left-2);if(f+s-1<=a.piece.length)return{node:a,remainder:f+s-1,nodeStartOffset:l};s-=a.piece.length-f;break}else c-=a.lf_left+a.piece.lineFeedCnt,l+=a.size_left+a.piece.length,a=a.right;for(a=a.next();a!==I.SENTINEL;){if(a.piece.lineFeedCnt>0){const f=this.getAccumulatedValue(a,0),g=this.offsetOfNode(a);return{node:a,remainder:Math.min(s-1,f),nodeStartOffset:g}}else if(a.piece.length>=s-1){const f=this.offsetOfNode(a);return{node:a,remainder:s-1,nodeStartOffset:f}}else s-=a.piece.length;a=a.next()}return null}nodeCharCodeAt(c,s){if(c.piece.lineFeedCnt<1)return-1;const a=this._buffers[c.piece.bufferIndex],l=this.offsetInBuffer(c.piece.bufferIndex,c.piece.start)+s;return a.buffer.charCodeAt(l)}offsetOfNode(c){if(!c)return 0;let s=c.size_left;for(;c!==this.root;)c.parent.right===c&&(s+=c.parent.size_left+c.parent.piece.length),c=c.parent;return s}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(c){if(typeof c=="string")return c.charCodeAt(0)===10;if(c===I.SENTINEL||c.piece.lineFeedCnt===0)return!1;const s=c.piece,a=this._buffers[s.bufferIndex].lineStarts,l=s.start.line,f=a[l]+s.start.column;return l===a.length-1||a[l+1]>f+1?!1:this._buffers[s.bufferIndex].buffer.charCodeAt(f)===10}endWithCR(c){return typeof c=="string"?c.charCodeAt(c.length-1)===13:c===I.SENTINEL||c.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(c,c.piece.length-1)===13}validateCRLFWithPrevNode(c){if(this.shouldCheckCRLF()&&this.startWithLF(c)){const s=c.prev();this.endWithCR(s)&&this.fixCRLF(s,c)}}validateCRLFWithNextNode(c){if(this.shouldCheckCRLF()&&this.endWithCR(c)){const s=c.next();this.startWithLF(s)&&this.fixCRLF(c,s)}}fixCRLF(c,s){const a=[],l=this._buffers[c.piece.bufferIndex].lineStarts;let f;c.piece.end.column===0?f={line:c.piece.end.line-1,column:l[c.piece.end.line]-l[c.piece.end.line-1]-1}:f={line:c.piece.end.line,column:c.piece.end.column-1};const g=c.piece.length-1,b=c.piece.lineFeedCnt-1;c.piece=new i(c.piece.bufferIndex,c.piece.start,f,b,g),(0,I.updateTreeMetadata)(this,c,-1,-1),c.piece.length===0&&a.push(c);const p={line:s.piece.start.line+1,column:0},C=s.piece.length-1,S=this.getLineFeedCnt(s.piece.bufferIndex,p,s.piece.end);s.piece=new i(s.piece.bufferIndex,p,s.piece.end,S,C),(0,I.updateTreeMetadata)(this,s,-1,-1),s.piece.length===0&&a.push(s);const y=this.createNewPieces(`\r
`);this.rbInsertRight(c,y[0]);for(let w=0;w<a.length;w++)(0,I.rbDelete)(this,a[w])}adjustCarriageReturnFromNext(c,s){if(this.shouldCheckCRLF()&&this.endWithCR(c)){const a=s.next();if(this.startWithLF(a)){if(c+=`
`,a.piece.length===1)(0,I.rbDelete)(this,a);else{const l=a.piece,f={line:l.start.line+1,column:0},g=l.length-1,b=this.getLineFeedCnt(l.bufferIndex,f,l.end);a.piece=new i(l.bufferIndex,f,l.end,b,g),(0,I.updateTreeMetadata)(this,a,-1,-1)}return!0}}return!1}iterate(c,s){if(c===I.SENTINEL)return s(I.SENTINEL);const a=this.iterate(c.left,s);return a&&s(c)&&this.iterate(c.right,s)}getNodeContent(c){if(c===I.SENTINEL)return"";const s=this._buffers[c.piece.bufferIndex];let a;const l=c.piece,f=this.offsetInBuffer(l.bufferIndex,l.start),g=this.offsetInBuffer(l.bufferIndex,l.end);return a=s.buffer.substring(f,g),a}getPieceContent(c){const s=this._buffers[c.bufferIndex],a=this.offsetInBuffer(c.bufferIndex,c.start),l=this.offsetInBuffer(c.bufferIndex,c.end);return s.buffer.substring(a,l)}rbInsertRight(c,s){const a=new I.TreeNode(s,1);if(a.left=I.SENTINEL,a.right=I.SENTINEL,a.parent=I.SENTINEL,a.size_left=0,a.lf_left=0,this.root===I.SENTINEL)this.root=a,a.color=0;else if(c.right===I.SENTINEL)c.right=a,a.parent=c;else{const f=(0,I.leftest)(c.right);f.left=a,a.parent=f}return(0,I.fixInsert)(this,a),a}rbInsertLeft(c,s){const a=new I.TreeNode(s,1);if(a.left=I.SENTINEL,a.right=I.SENTINEL,a.parent=I.SENTINEL,a.size_left=0,a.lf_left=0,this.root===I.SENTINEL)this.root=a,a.color=0;else if(c.left===I.SENTINEL)c.left=a,a.parent=c;else{const l=(0,I.righttest)(c.left);l.right=a,a.parent=l}return(0,I.fixInsert)(this,a),a}}e.PieceTreeBase=d}),define(re[251],se([1,0,4,8,3,47,250,124,243,2]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class h extends u.Disposable{constructor(n,t,o,d,r,c,s){super();this._onDidChangeContent=this._register(new E.Emitter),this._BOM=t,this._mightContainNonBasicASCII=!c,this._mightContainRTL=d,this._mightContainUnusualLineTerminators=r,this._pieceTree=new L.PieceTreeBase(n,o,s)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(n){return this._pieceTree.createSnapshot(n?this._BOM:"")}getOffsetAt(n,t){return this._pieceTree.getOffsetAt(n,t)}getPositionAt(n){return this._pieceTree.getPositionAt(n)}getRangeAt(n,t){const o=n+t,d=this.getPositionAt(n),r=this.getPositionAt(o);return new k.Range(d.lineNumber,d.column,r.lineNumber,r.column)}getValueInRange(n,t=0){if(n.isEmpty())return"";const o=this._getEndOfLine(t);return this._pieceTree.getValueInRange(n,o)}getValueLengthInRange(n,t=0){if(n.isEmpty())return 0;if(n.startLineNumber===n.endLineNumber)return n.endColumn-n.startColumn;const o=this.getOffsetAt(n.startLineNumber,n.startColumn);return this.getOffsetAt(n.endLineNumber,n.endColumn)-o}getCharacterCountInRange(n,t=0){if(this._mightContainNonBasicASCII){let o=0;const d=n.startLineNumber,r=n.endLineNumber;for(let c=d;c<=r;c++){const s=this.getLineContent(c),a=c===d?n.startColumn-1:0,l=c===r?n.endColumn-1:s.length;for(let f=a;f<l;f++)m.isHighSurrogate(s.charCodeAt(f))?(o=o+1,f=f+1):o=o+1}return o+=this._getEndOfLine(t).length*(r-d),o}return this.getValueLengthInRange(n,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(n){return this._pieceTree.getLineContent(n)}getLineCharCode(n,t){return this._pieceTree.getLineCharCode(n,t)}getLineLength(n){return this._pieceTree.getLineLength(n)}getLineFirstNonWhitespaceColumn(n){const t=m.firstNonWhitespaceIndex(this.getLineContent(n));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(n){const t=m.lastNonWhitespaceIndex(this.getLineContent(n));return t===-1?0:t+2}_getEndOfLine(n){switch(n){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(n){this._pieceTree.setEOL(n)}applyEdits(n,t,o){let d=this._mightContainRTL,r=this._mightContainUnusualLineTerminators,c=this._mightContainNonBasicASCII,s=!0,a=[];for(let S=0;S<n.length;S++){const y=n[S];s&&y._isTracked&&(s=!1);const w=y.range;if(y.text){let O=!0;c||(O=!m.isBasicASCII(y.text),c=O),!d&&O&&(d=m.containsRTL(y.text)),!r&&O&&(r=m.containsUnusualLineTerminators(y.text))}let T="",N=0,R=0,B=0;if(y.text){let O;[N,R,B,O]=(0,_.countEOL)(y.text);const D=this.getEOL();O===0||O===(D===`\r
`?2:1)?T=y.text:T=y.text.replace(/\r\n|\r|\n/g,D)}a[S]={sortIndex:S,identifier:y.identifier||null,range:w,rangeOffset:this.getOffsetAt(w.startLineNumber,w.startColumn),rangeLength:this.getValueLengthInRange(w),text:T,eolCount:N,firstLineLength:R,lastLineLength:B,forceMoveMarkers:Boolean(y.forceMoveMarkers),isAutoWhitespaceEdit:y.isAutoWhitespaceEdit||!1}}a.sort(h._sortOpsAscending);let l=!1;for(let S=0,y=a.length-1;S<y;S++){const w=a[S].range.getEndPosition(),T=a[S+1].range.getStartPosition();if(T.isBeforeOrEqual(w)){if(T.isBefore(w))throw new Error("Overlapping ranges are not allowed!");l=!0}}s&&(a=this._reduceOperations(a));const f=o||t?h._getInverseEditRanges(a):[],g=[];if(t)for(let S=0;S<a.length;S++){const y=a[S],w=f[S];if(y.isAutoWhitespaceEdit&&y.range.isEmpty())for(let T=w.startLineNumber;T<=w.endLineNumber;T++){let N="";T===w.startLineNumber&&(N=this.getLineContent(y.range.startLineNumber),m.firstNonWhitespaceIndex(N)!==-1)||g.push({lineNumber:T,oldContent:N})}}let b=null;if(o){let S=0;b=[];for(let y=0;y<a.length;y++){const w=a[y],T=f[y],N=this.getValueInRange(w.range),R=w.rangeOffset+S;S+=w.text.length-N.length,b[y]={sortIndex:w.sortIndex,identifier:w.identifier,range:T,text:N,textChange:new v.TextChange(w.rangeOffset,N,R,w.text)}}l||b.sort((y,w)=>y.sortIndex-w.sortIndex)}this._mightContainRTL=d,this._mightContainUnusualLineTerminators=r,this._mightContainNonBasicASCII=c;const p=this._doApplyEdits(a);let C=null;if(t&&g.length>0){g.sort((S,y)=>y.lineNumber-S.lineNumber),C=[];for(let S=0,y=g.length;S<y;S++){const w=g[S].lineNumber;if(S>0&&g[S-1].lineNumber===w)continue;const T=g[S].oldContent,N=this.getLineContent(w);N.length===0||N===T||m.firstNonWhitespaceIndex(N)!==-1||C.push(w)}}return this._onDidChangeContent.fire(),new I.ApplyEditsResult(b,p,C)}_reduceOperations(n){return n.length<1e3?n:[this._toSingleEditOperation(n)]}_toSingleEditOperation(n){let t=!1;const o=n[0].range,d=n[n.length-1].range,r=new k.Range(o.startLineNumber,o.startColumn,d.endLineNumber,d.endColumn);let c=o.startLineNumber,s=o.startColumn;const a=[];for(let p=0,C=n.length;p<C;p++){const S=n[p],y=S.range;t=t||S.forceMoveMarkers,a.push(this.getValueInRange(new k.Range(c,s,y.startLineNumber,y.startColumn))),S.text.length>0&&a.push(S.text),c=y.endLineNumber,s=y.endColumn}const l=a.join(""),[f,g,b]=(0,_.countEOL)(l);return{sortIndex:0,identifier:n[0].identifier,range:r,rangeOffset:this.getOffsetAt(r.startLineNumber,r.startColumn),rangeLength:this.getValueLengthInRange(r,0),text:l,eolCount:f,firstLineLength:g,lastLineLength:b,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(n){n.sort(h._sortOpsDescending);const t=[];for(let o=0;o<n.length;o++){const d=n[o],r=d.range.startLineNumber,c=d.range.startColumn,s=d.range.endLineNumber,a=d.range.endColumn;if(r===s&&c===a&&d.text.length===0)continue;d.text?(this._pieceTree.delete(d.rangeOffset,d.rangeLength),this._pieceTree.insert(d.rangeOffset,d.text,!0)):this._pieceTree.delete(d.rangeOffset,d.rangeLength);const l=new k.Range(r,c,s,a);t.push({range:l,rangeLength:d.rangeLength,text:d.text,rangeOffset:d.rangeOffset,forceMoveMarkers:d.forceMoveMarkers})}return t}findMatchesLineByLine(n,t,o,d){return this._pieceTree.findMatchesLineByLine(n,t,o,d)}static _getInverseEditRanges(n){const t=[];let o=0,d=0,r=null;for(let c=0,s=n.length;c<s;c++){const a=n[c];let l,f;r?r.range.endLineNumber===a.range.startLineNumber?(l=o,f=d+(a.range.startColumn-r.range.endColumn)):(l=o+(a.range.startLineNumber-r.range.endLineNumber),f=a.range.startColumn):(l=a.range.startLineNumber,f=a.range.startColumn);let g;if(a.text.length>0){const b=a.eolCount+1;b===1?g=new k.Range(l,f,l,f+a.firstLineLength):g=new k.Range(l,f,l+b-1,a.lastLineLength+1)}else g=new k.Range(l,f,l,f);o=g.endLineNumber,d=g.endColumn,t.push(g),r=a}return t}static _sortOpsAscending(n,t){const o=k.Range.compareRangesUsingEnds(n.range,t.range);return o===0?n.sortIndex-t.sortIndex:o}static _sortOpsDescending(n,t){const o=k.Range.compareRangesUsingEnds(n.range,t.range);return o===0?t.sortIndex-n.sortIndex:-o}}e.PieceTreeTextBuffer=h}),define(re[437],se([1,0,8,250,251]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=e.PieceTreeTextBufferFactory=void 0;class I{constructor(v,u,h,i,n,t,o,d,r){this._chunks=v,this._bom=u,this._cr=h,this._lf=i,this._crlf=n,this._containsRTL=t,this._containsUnusualLineTerminators=o,this._isBasicASCII=d,this._normalizeEOL=r}_getEOL(v){const u=this._cr+this._lf+this._crlf,h=this._cr+this._crlf;return u===0?v===1?`
`:`\r
`:h>u/2?`\r
`:`
`}create(v){const u=this._getEOL(v),h=this._chunks;if(this._normalizeEOL&&(u===`\r
`&&(this._cr>0||this._lf>0)||u===`
`&&(this._cr>0||this._crlf>0)))for(let n=0,t=h.length;n<t;n++){const o=h[n].buffer.replace(/\r\n|\r|\n/g,u),d=(0,m.createLineStartsFast)(o);h[n]=new m.StringBuffer(o,d)}const i=new k.PieceTreeTextBuffer(h,this._bom,u,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:i,disposable:i}}}e.PieceTreeTextBufferFactory=I;class L{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(v){if(v.length===0)return;this.chunks.length===0&&E.startsWithUTF8BOM(v)&&(this.BOM=E.UTF8_BOM_CHARACTER,v=v.substr(1));const u=v.charCodeAt(v.length-1);u===13||u>=55296&&u<=56319?(this._acceptChunk1(v.substr(0,v.length-1),!1),this._hasPreviousChar=!0,this._previousChar=u):(this._acceptChunk1(v,!1),this._hasPreviousChar=!1,this._previousChar=u)}_acceptChunk1(v,u){!u&&v.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+v):this._acceptChunk2(v))}_acceptChunk2(v){const u=(0,m.createLineStarts)(this._tmpLineStarts,v);this.chunks.push(new m.StringBuffer(v,u.lineStarts)),this.cr+=u.cr,this.lf+=u.lf,this.crlf+=u.crlf,this.isBasicASCII&&(this.isBasicASCII=u.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=E.containsRTL(v)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=E.containsUnusualLineTerminators(v))}finish(v=!0){return this._finish(),new I(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,v)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const v=this.chunks[this.chunks.length-1];v.buffer+=String.fromCharCode(this._previousChar);const u=(0,m.createLineStartsFast)(v.buffer);v.lineStarts=u,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=L}),define(re[187],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeIndentLevel=void 0;function E(m,k){let I=0,L=0;const _=m.length;for(;L<_;){const v=m.charCodeAt(L);if(v===32)I++;else if(v===9)I=I-I%k+k;else break;L++}return L===_?-1:I}e.computeIndentLevel=E}),define(re[252],se([1,0,19,11,47]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class I{constructor(i,n,t,o,d){this.injectionOffsets=i,this.injectionOptions=n,this.breakOffsets=t,this.breakOffsetsVisibleColumn=o,this.wrappedTextIndentLength=d}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(i){return i>0?this.wrappedTextIndentLength:0}getLineLength(i){const n=i>0?this.breakOffsets[i-1]:0;let o=this.breakOffsets[i]-n;return i>0&&(o+=this.wrappedTextIndentLength),o}getMaxOutputOffset(i){return this.getLineLength(i)}translateToInputOffset(i,n){i>0&&(n=Math.max(0,n-this.wrappedTextIndentLength));let o=i===0?n:this.breakOffsets[i-1]+n;if(this.injectionOffsets!==null)for(let d=0;d<this.injectionOffsets.length&&o>this.injectionOffsets[d];d++)o<this.injectionOffsets[d]+this.injectionOptions[d].content.length?o=this.injectionOffsets[d]:o-=this.injectionOptions[d].content.length;return o}translateToOutputPosition(i,n=2){let t=i;if(this.injectionOffsets!==null)for(let o=0;o<this.injectionOffsets.length&&!(i<this.injectionOffsets[o]||n!==1&&i===this.injectionOffsets[o]);o++)t+=this.injectionOptions[o].content.length;return this.offsetInInputWithInjectionsToOutputPosition(t,n)}offsetInInputWithInjectionsToOutputPosition(i,n=2){let t=0,o=this.breakOffsets.length-1,d=0,r=0;for(;t<=o;){d=t+(o-t)/2|0;const s=this.breakOffsets[d];if(r=d>0?this.breakOffsets[d-1]:0,n===0)if(i<=r)o=d-1;else if(i>s)t=d+1;else break;else if(i<r)o=d-1;else if(i>=s)t=d+1;else break}let c=i-r;return d>0&&(c+=this.wrappedTextIndentLength),new u(d,c)}normalizeOutputPosition(i,n,t){if(this.injectionOffsets!==null){const o=this.outputPositionToOffsetInInputWithInjections(i,n),d=this.normalizeOffsetInInputWithInjectionsAroundInjections(o,t);if(d!==o)return this.offsetInInputWithInjectionsToOutputPosition(d,t)}if(t===0){if(i>0&&n===this.getMinOutputOffset(i))return new u(i-1,this.getMaxOutputOffset(i-1))}else if(t===1){const o=this.getOutputLineCount()-1;if(i<o&&n===this.getMaxOutputOffset(i))return new u(i+1,this.getMinOutputOffset(i+1))}return new u(i,n)}outputPositionToOffsetInInputWithInjections(i,n){return i>0&&(n=Math.max(0,n-this.wrappedTextIndentLength)),(i>0?this.breakOffsets[i-1]:0)+n}normalizeOffsetInInputWithInjectionsAroundInjections(i,n){const t=this.getInjectedTextAtOffset(i);if(!t)return i;if(n===2){if(i===t.offsetInInputWithInjections+t.length&&L(this.injectionOptions[t.injectedTextIndex].cursorStops))return t.offsetInInputWithInjections+t.length;{let o=t.offsetInInputWithInjections;if(_(this.injectionOptions[t.injectedTextIndex].cursorStops))return o;let d=t.injectedTextIndex-1;for(;d>=0&&this.injectionOffsets[d]===this.injectionOffsets[t.injectedTextIndex]&&!(L(this.injectionOptions[d].cursorStops)||(o-=this.injectionOptions[d].content.length,_(this.injectionOptions[d].cursorStops)));)d--;return o}}else if(n===1||n===4){let o=t.offsetInInputWithInjections+t.length,d=t.injectedTextIndex;for(;d+1<this.injectionOffsets.length&&this.injectionOffsets[d+1]===this.injectionOffsets[d];)o+=this.injectionOptions[d+1].content.length,d++;return o}else if(n===0||n===3){let o=t.offsetInInputWithInjections,d=t.injectedTextIndex;for(;d-1>=0&&this.injectionOffsets[d-1]===this.injectionOffsets[d];)o-=this.injectionOptions[d-1].content.length,d--;return o}(0,E.assertNever)(n)}getInjectedText(i,n){const t=this.outputPositionToOffsetInInputWithInjections(i,n),o=this.getInjectedTextAtOffset(t);return o?{options:this.injectionOptions[o.injectedTextIndex]}:null}getInjectedTextAtOffset(i){const n=this.injectionOffsets,t=this.injectionOptions;if(n!==null){let o=0;for(let d=0;d<n.length;d++){const r=t[d].content.length,c=n[d]+o,s=n[d]+o+r;if(c>i)break;if(i<=s)return{injectedTextIndex:d,offsetInInputWithInjections:c,length:r};o+=r}}}}e.ModelLineProjectionData=I;function L(h){return h==null?!0:h===k.InjectedTextCursorStops.Right||h===k.InjectedTextCursorStops.Both}function _(h){return h==null?!0:h===k.InjectedTextCursorStops.Left||h===k.InjectedTextCursorStops.Both}class v{constructor(i){this.options=i}}e.InjectedText=v;class u{constructor(i,n){this.outputLineIndex=i,this.outputOffset=n}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(i){return new m.Position(i+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=u}),define(re[438],se([1,0,116,17]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=void 0;function k(v){for(let u=0,h=v.length;u<h;u+=4){const i=v[u+0],n=v[u+1],t=v[u+2],o=v[u+3];v[u+0]=o,v[u+1]=t,v[u+2]=n,v[u+3]=i}}function I(v){const u=new Uint8Array(v.buffer,v.byteOffset,v.length*4);return m.isLittleEndian()||k(u),E.VSBuffer.wrap(u)}function L(v){const u=new Uint32Array(_(v));let h=0;if(u[h++]=v.id,v.type==="full")u[h++]=1,u[h++]=v.data.length,u.set(v.data,h),h+=v.data.length;else{u[h++]=2,u[h++]=v.deltas.length;for(const i of v.deltas)u[h++]=i.start,u[h++]=i.deleteCount,i.data?(u[h++]=i.data.length,u.set(i.data,h),h+=i.data.length):u[h++]=0}return I(u)}e.encodeSemanticTokensDto=L;function _(v){let u=0;if(u+=1+1,v.type==="full")u+=1+v.data.length;else{u+=1,u+=(1+1+1)*v.deltas.length;for(const h of v.deltas)h.data&&(u+=h.data.length)}return u}}),define(re[253],se([1,0,3,153,8,19,126]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class _{static computeUnicodeHighlights(n,t,o){const d=o?o.startLineNumber:1,r=o?o.endLineNumber:n.getLineCount(),c=new u(t),s=c.getCandidateCodePoints();let a;s==="allNonBasicAscii"?a=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):a=new RegExp(`${v(Array.from(s))}`,"g");const l=new m.Searcher(null,a),f=[];let g=!1,b,p=0,C=0,S=0;e:for(let y=d,w=r;y<=w;y++){const T=n.getLineContent(y),N=T.length;l.reset(0);do if(b=l.next(T),b){let R=b.index,B=b.index+b[0].length;if(R>0){const P=T.charCodeAt(R-1);k.isHighSurrogate(P)&&R--}if(B+1<N){const P=T.charCodeAt(B-1);k.isHighSurrogate(P)&&B++}const O=T.substring(R,B),D=(0,L.getWordAtText)(R+1,L.DEFAULT_WORD_REGEXP,T,0),A=c.shouldHighlightNonBasicASCII(O,D?D.word:null);if(A!==0){A===3?p++:A===2?C++:A===1?S++:(0,I.assertNever)(A);const P=1e3;if(f.length>=P){g=!0;break e}f.push(new E.Range(y,R+1,y,B+1))}}while(b)}return{ranges:f,hasMore:g,ambiguousCharacterCount:p,invisibleCharacterCount:C,nonBasicAsciiCharacterCount:S}}static computeUnicodeHighlightReason(n,t){const o=new u(t);switch(o.shouldHighlightNonBasicASCII(n,null)){case 0:return null;case 2:return{kind:1};case 3:{const r=n.codePointAt(0),c=o.ambiguousCharacters.getPrimaryConfusable(r),s=k.AmbiguousCharacters.getLocales().filter(a=>!k.AmbiguousCharacters.getInstance(new Set([...t.allowedLocales,a])).isAmbiguous(r));return{kind:0,confusableWith:String.fromCodePoint(c),notAmbiguousInLocales:s}}case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=_;function v(i,n){return`[${k.escapeRegExpCharacters(i.map(o=>String.fromCodePoint(o)).join(""))}]`}class u{constructor(n){this.options=n,this.allowedCodePoints=new Set(n.allowedCodePoints),this.ambiguousCharacters=k.AmbiguousCharacters.getInstance(new Set(n.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const n=new Set;if(this.options.invisibleCharacters)for(const t of k.InvisibleCharacters.codePoints)h(String.fromCodePoint(t))||n.add(t);if(this.options.ambiguousCharacters)for(const t of this.ambiguousCharacters.getConfusableCodePoints())n.add(t);for(const t of this.allowedCodePoints)n.delete(t);return n}shouldHighlightNonBasicASCII(n,t){const o=n.codePointAt(0);if(this.allowedCodePoints.has(o))return 0;if(this.options.nonBasicASCII)return 1;let d=!1,r=!1;if(t)for(let c of t){const s=c.codePointAt(0),a=k.isBasicASCII(c);d=d||a,!a&&!this.ambiguousCharacters.isAmbiguous(s)&&!k.InvisibleCharacters.isInvisibleCharacter(s)&&(r=!0)}return!d&&r?0:this.options.invisibleCharacters&&!h(n)&&k.InvisibleCharacters.isInvisibleCharacter(o)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(o)?3:0}}function h(i){return i===" "||i===`
`||i==="	"}}),define(re[154],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.PositionAffinity=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.MouseTargetType=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineCompletionTriggerKind=e.InlayHintKind=e.InjectedTextCursorStops=e.IndentAction=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.AccessibilitySupport=void 0;var E;(function(M){M[M.Unknown=0]="Unknown",M[M.Disabled=1]="Disabled",M[M.Enabled=2]="Enabled"})(E=e.AccessibilitySupport||(e.AccessibilitySupport={}));var m;(function(M){M[M.KeepWhitespace=1]="KeepWhitespace",M[M.InsertAsSnippet=4]="InsertAsSnippet"})(m=e.CompletionItemInsertTextRule||(e.CompletionItemInsertTextRule={}));var k;(function(M){M[M.Method=0]="Method",M[M.Function=1]="Function",M[M.Constructor=2]="Constructor",M[M.Field=3]="Field",M[M.Variable=4]="Variable",M[M.Class=5]="Class",M[M.Struct=6]="Struct",M[M.Interface=7]="Interface",M[M.Module=8]="Module",M[M.Property=9]="Property",M[M.Event=10]="Event",M[M.Operator=11]="Operator",M[M.Unit=12]="Unit",M[M.Value=13]="Value",M[M.Constant=14]="Constant",M[M.Enum=15]="Enum",M[M.EnumMember=16]="EnumMember",M[M.Keyword=17]="Keyword",M[M.Text=18]="Text",M[M.Color=19]="Color",M[M.File=20]="File",M[M.Reference=21]="Reference",M[M.Customcolor=22]="Customcolor",M[M.Folder=23]="Folder",M[M.TypeParameter=24]="TypeParameter",M[M.User=25]="User",M[M.Issue=26]="Issue",M[M.Snippet=27]="Snippet"})(k=e.CompletionItemKind||(e.CompletionItemKind={}));var I;(function(M){M[M.Deprecated=1]="Deprecated"})(I=e.CompletionItemTag||(e.CompletionItemTag={}));var L;(function(M){M[M.Invoke=0]="Invoke",M[M.TriggerCharacter=1]="TriggerCharacter",M[M.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(L=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var _;(function(M){M[M.EXACT=0]="EXACT",M[M.ABOVE=1]="ABOVE",M[M.BELOW=2]="BELOW"})(_=e.ContentWidgetPositionPreference||(e.ContentWidgetPositionPreference={}));var v;(function(M){M[M.NotSet=0]="NotSet",M[M.ContentFlush=1]="ContentFlush",M[M.RecoverFromMarkers=2]="RecoverFromMarkers",M[M.Explicit=3]="Explicit",M[M.Paste=4]="Paste",M[M.Undo=5]="Undo",M[M.Redo=6]="Redo"})(v=e.CursorChangeReason||(e.CursorChangeReason={}));var u;(function(M){M[M.LF=1]="LF",M[M.CRLF=2]="CRLF"})(u=e.DefaultEndOfLine||(e.DefaultEndOfLine={}));var h;(function(M){M[M.Text=0]="Text",M[M.Read=1]="Read",M[M.Write=2]="Write"})(h=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var i;(function(M){M[M.None=0]="None",M[M.Keep=1]="Keep",M[M.Brackets=2]="Brackets",M[M.Advanced=3]="Advanced",M[M.Full=4]="Full"})(i=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={}));var n;(function(M){M[M.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",M[M.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",M[M.accessibilitySupport=2]="accessibilitySupport",M[M.accessibilityPageSize=3]="accessibilityPageSize",M[M.ariaLabel=4]="ariaLabel",M[M.autoClosingBrackets=5]="autoClosingBrackets",M[M.autoClosingDelete=6]="autoClosingDelete",M[M.autoClosingOvertype=7]="autoClosingOvertype",M[M.autoClosingQuotes=8]="autoClosingQuotes",M[M.autoIndent=9]="autoIndent",M[M.automaticLayout=10]="automaticLayout",M[M.autoSurround=11]="autoSurround",M[M.bracketPairColorization=12]="bracketPairColorization",M[M.guides=13]="guides",M[M.codeLens=14]="codeLens",M[M.codeLensFontFamily=15]="codeLensFontFamily",M[M.codeLensFontSize=16]="codeLensFontSize",M[M.colorDecorators=17]="colorDecorators",M[M.columnSelection=18]="columnSelection",M[M.comments=19]="comments",M[M.contextmenu=20]="contextmenu",M[M.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",M[M.cursorBlinking=22]="cursorBlinking",M[M.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",M[M.cursorStyle=24]="cursorStyle",M[M.cursorSurroundingLines=25]="cursorSurroundingLines",M[M.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",M[M.cursorWidth=27]="cursorWidth",M[M.disableLayerHinting=28]="disableLayerHinting",M[M.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",M[M.domReadOnly=30]="domReadOnly",M[M.dragAndDrop=31]="dragAndDrop",M[M.emptySelectionClipboard=32]="emptySelectionClipboard",M[M.extraEditorClassName=33]="extraEditorClassName",M[M.fastScrollSensitivity=34]="fastScrollSensitivity",M[M.find=35]="find",M[M.fixedOverflowWidgets=36]="fixedOverflowWidgets",M[M.folding=37]="folding",M[M.foldingStrategy=38]="foldingStrategy",M[M.foldingHighlight=39]="foldingHighlight",M[M.foldingImportsByDefault=40]="foldingImportsByDefault",M[M.foldingMaximumRegions=41]="foldingMaximumRegions",M[M.unfoldOnClickAfterEndOfLine=42]="unfoldOnClickAfterEndOfLine",M[M.fontFamily=43]="fontFamily",M[M.fontInfo=44]="fontInfo",M[M.fontLigatures=45]="fontLigatures",M[M.fontSize=46]="fontSize",M[M.fontWeight=47]="fontWeight",M[M.formatOnPaste=48]="formatOnPaste",M[M.formatOnType=49]="formatOnType",M[M.glyphMargin=50]="glyphMargin",M[M.gotoLocation=51]="gotoLocation",M[M.hideCursorInOverviewRuler=52]="hideCursorInOverviewRuler",M[M.hover=53]="hover",M[M.inDiffEditor=54]="inDiffEditor",M[M.inlineSuggest=55]="inlineSuggest",M[M.letterSpacing=56]="letterSpacing",M[M.lightbulb=57]="lightbulb",M[M.lineDecorationsWidth=58]="lineDecorationsWidth",M[M.lineHeight=59]="lineHeight",M[M.lineNumbers=60]="lineNumbers",M[M.lineNumbersMinChars=61]="lineNumbersMinChars",M[M.linkedEditing=62]="linkedEditing",M[M.links=63]="links",M[M.matchBrackets=64]="matchBrackets",M[M.minimap=65]="minimap",M[M.mouseStyle=66]="mouseStyle",M[M.mouseWheelScrollSensitivity=67]="mouseWheelScrollSensitivity",M[M.mouseWheelZoom=68]="mouseWheelZoom",M[M.multiCursorMergeOverlapping=69]="multiCursorMergeOverlapping",M[M.multiCursorModifier=70]="multiCursorModifier",M[M.multiCursorPaste=71]="multiCursorPaste",M[M.occurrencesHighlight=72]="occurrencesHighlight",M[M.overviewRulerBorder=73]="overviewRulerBorder",M[M.overviewRulerLanes=74]="overviewRulerLanes",M[M.padding=75]="padding",M[M.parameterHints=76]="parameterHints",M[M.peekWidgetDefaultFocus=77]="peekWidgetDefaultFocus",M[M.definitionLinkOpensInPeek=78]="definitionLinkOpensInPeek",M[M.quickSuggestions=79]="quickSuggestions",M[M.quickSuggestionsDelay=80]="quickSuggestionsDelay",M[M.readOnly=81]="readOnly",M[M.renameOnType=82]="renameOnType",M[M.renderControlCharacters=83]="renderControlCharacters",M[M.renderFinalNewline=84]="renderFinalNewline",M[M.renderLineHighlight=85]="renderLineHighlight",M[M.renderLineHighlightOnlyWhenFocus=86]="renderLineHighlightOnlyWhenFocus",M[M.renderValidationDecorations=87]="renderValidationDecorations",M[M.renderWhitespace=88]="renderWhitespace",M[M.revealHorizontalRightPadding=89]="revealHorizontalRightPadding",M[M.roundedSelection=90]="roundedSelection",M[M.rulers=91]="rulers",M[M.scrollbar=92]="scrollbar",M[M.scrollBeyondLastColumn=93]="scrollBeyondLastColumn",M[M.scrollBeyondLastLine=94]="scrollBeyondLastLine",M[M.scrollPredominantAxis=95]="scrollPredominantAxis",M[M.selectionClipboard=96]="selectionClipboard",M[M.selectionHighlight=97]="selectionHighlight",M[M.selectOnLineNumbers=98]="selectOnLineNumbers",M[M.showFoldingControls=99]="showFoldingControls",M[M.showUnused=100]="showUnused",M[M.snippetSuggestions=101]="snippetSuggestions",M[M.smartSelect=102]="smartSelect",M[M.smoothScrolling=103]="smoothScrolling",M[M.stickyTabStops=104]="stickyTabStops",M[M.stopRenderingLineAfter=105]="stopRenderingLineAfter",M[M.suggest=106]="suggest",M[M.suggestFontSize=107]="suggestFontSize",M[M.suggestLineHeight=108]="suggestLineHeight",M[M.suggestOnTriggerCharacters=109]="suggestOnTriggerCharacters",M[M.suggestSelection=110]="suggestSelection",M[M.tabCompletion=111]="tabCompletion",M[M.tabIndex=112]="tabIndex",M[M.unicodeHighlighting=113]="unicodeHighlighting",M[M.unusualLineTerminators=114]="unusualLineTerminators",M[M.useShadowDOM=115]="useShadowDOM",M[M.useTabStops=116]="useTabStops",M[M.wordSeparators=117]="wordSeparators",M[M.wordWrap=118]="wordWrap",M[M.wordWrapBreakAfterCharacters=119]="wordWrapBreakAfterCharacters",M[M.wordWrapBreakBeforeCharacters=120]="wordWrapBreakBeforeCharacters",M[M.wordWrapColumn=121]="wordWrapColumn",M[M.wordWrapOverride1=122]="wordWrapOverride1",M[M.wordWrapOverride2=123]="wordWrapOverride2",M[M.wrappingIndent=124]="wrappingIndent",M[M.wrappingStrategy=125]="wrappingStrategy",M[M.showDeprecated=126]="showDeprecated",M[M.inlayHints=127]="inlayHints",M[M.editorClassName=128]="editorClassName",M[M.pixelRatio=129]="pixelRatio",M[M.tabFocusMode=130]="tabFocusMode",M[M.layoutInfo=131]="layoutInfo",M[M.wrappingInfo=132]="wrappingInfo"})(n=e.EditorOption||(e.EditorOption={}));var t;(function(M){M[M.TextDefined=0]="TextDefined",M[M.LF=1]="LF",M[M.CRLF=2]="CRLF"})(t=e.EndOfLinePreference||(e.EndOfLinePreference={}));var o;(function(M){M[M.LF=0]="LF",M[M.CRLF=1]="CRLF"})(o=e.EndOfLineSequence||(e.EndOfLineSequence={}));var d;(function(M){M[M.None=0]="None",M[M.Indent=1]="Indent",M[M.IndentOutdent=2]="IndentOutdent",M[M.Outdent=3]="Outdent"})(d=e.IndentAction||(e.IndentAction={}));var r;(function(M){M[M.Both=0]="Both",M[M.Right=1]="Right",M[M.Left=2]="Left",M[M.None=3]="None"})(r=e.InjectedTextCursorStops||(e.InjectedTextCursorStops={}));var c;(function(M){M[M.Type=1]="Type",M[M.Parameter=2]="Parameter"})(c=e.InlayHintKind||(e.InlayHintKind={}));var s;(function(M){M[M.Automatic=0]="Automatic",M[M.Explicit=1]="Explicit"})(s=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var a;(function(M){M[M.DependsOnKbLayout=-1]="DependsOnKbLayout",M[M.Unknown=0]="Unknown",M[M.Backspace=1]="Backspace",M[M.Tab=2]="Tab",M[M.Enter=3]="Enter",M[M.Shift=4]="Shift",M[M.Ctrl=5]="Ctrl",M[M.Alt=6]="Alt",M[M.PauseBreak=7]="PauseBreak",M[M.CapsLock=8]="CapsLock",M[M.Escape=9]="Escape",M[M.Space=10]="Space",M[M.PageUp=11]="PageUp",M[M.PageDown=12]="PageDown",M[M.End=13]="End",M[M.Home=14]="Home",M[M.LeftArrow=15]="LeftArrow",M[M.UpArrow=16]="UpArrow",M[M.RightArrow=17]="RightArrow",M[M.DownArrow=18]="DownArrow",M[M.Insert=19]="Insert",M[M.Delete=20]="Delete",M[M.Digit0=21]="Digit0",M[M.Digit1=22]="Digit1",M[M.Digit2=23]="Digit2",M[M.Digit3=24]="Digit3",M[M.Digit4=25]="Digit4",M[M.Digit5=26]="Digit5",M[M.Digit6=27]="Digit6",M[M.Digit7=28]="Digit7",M[M.Digit8=29]="Digit8",M[M.Digit9=30]="Digit9",M[M.KeyA=31]="KeyA",M[M.KeyB=32]="KeyB",M[M.KeyC=33]="KeyC",M[M.KeyD=34]="KeyD",M[M.KeyE=35]="KeyE",M[M.KeyF=36]="KeyF",M[M.KeyG=37]="KeyG",M[M.KeyH=38]="KeyH",M[M.KeyI=39]="KeyI",M[M.KeyJ=40]="KeyJ",M[M.KeyK=41]="KeyK",M[M.KeyL=42]="KeyL",M[M.KeyM=43]="KeyM",M[M.KeyN=44]="KeyN",M[M.KeyO=45]="KeyO",M[M.KeyP=46]="KeyP",M[M.KeyQ=47]="KeyQ",M[M.KeyR=48]="KeyR",M[M.KeyS=49]="KeyS",M[M.KeyT=50]="KeyT",M[M.KeyU=51]="KeyU",M[M.KeyV=52]="KeyV",M[M.KeyW=53]="KeyW",M[M.KeyX=54]="KeyX",M[M.KeyY=55]="KeyY",M[M.KeyZ=56]="KeyZ",M[M.Meta=57]="Meta",M[M.ContextMenu=58]="ContextMenu",M[M.F1=59]="F1",M[M.F2=60]="F2",M[M.F3=61]="F3",M[M.F4=62]="F4",M[M.F5=63]="F5",M[M.F6=64]="F6",M[M.F7=65]="F7",M[M.F8=66]="F8",M[M.F9=67]="F9",M[M.F10=68]="F10",M[M.F11=69]="F11",M[M.F12=70]="F12",M[M.F13=71]="F13",M[M.F14=72]="F14",M[M.F15=73]="F15",M[M.F16=74]="F16",M[M.F17=75]="F17",M[M.F18=76]="F18",M[M.F19=77]="F19",M[M.NumLock=78]="NumLock",M[M.ScrollLock=79]="ScrollLock",M[M.Semicolon=80]="Semicolon",M[M.Equal=81]="Equal",M[M.Comma=82]="Comma",M[M.Minus=83]="Minus",M[M.Period=84]="Period",M[M.Slash=85]="Slash",M[M.Backquote=86]="Backquote",M[M.BracketLeft=87]="BracketLeft",M[M.Backslash=88]="Backslash",M[M.BracketRight=89]="BracketRight",M[M.Quote=90]="Quote",M[M.OEM_8=91]="OEM_8",M[M.IntlBackslash=92]="IntlBackslash",M[M.Numpad0=93]="Numpad0",M[M.Numpad1=94]="Numpad1",M[M.Numpad2=95]="Numpad2",M[M.Numpad3=96]="Numpad3",M[M.Numpad4=97]="Numpad4",M[M.Numpad5=98]="Numpad5",M[M.Numpad6=99]="Numpad6",M[M.Numpad7=100]="Numpad7",M[M.Numpad8=101]="Numpad8",M[M.Numpad9=102]="Numpad9",M[M.NumpadMultiply=103]="NumpadMultiply",M[M.NumpadAdd=104]="NumpadAdd",M[M.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",M[M.NumpadSubtract=106]="NumpadSubtract",M[M.NumpadDecimal=107]="NumpadDecimal",M[M.NumpadDivide=108]="NumpadDivide",M[M.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",M[M.ABNT_C1=110]="ABNT_C1",M[M.ABNT_C2=111]="ABNT_C2",M[M.AudioVolumeMute=112]="AudioVolumeMute",M[M.AudioVolumeUp=113]="AudioVolumeUp",M[M.AudioVolumeDown=114]="AudioVolumeDown",M[M.BrowserSearch=115]="BrowserSearch",M[M.BrowserHome=116]="BrowserHome",M[M.BrowserBack=117]="BrowserBack",M[M.BrowserForward=118]="BrowserForward",M[M.MediaTrackNext=119]="MediaTrackNext",M[M.MediaTrackPrevious=120]="MediaTrackPrevious",M[M.MediaStop=121]="MediaStop",M[M.MediaPlayPause=122]="MediaPlayPause",M[M.LaunchMediaPlayer=123]="LaunchMediaPlayer",M[M.LaunchMail=124]="LaunchMail",M[M.LaunchApp2=125]="LaunchApp2",M[M.Clear=126]="Clear",M[M.MAX_VALUE=127]="MAX_VALUE"})(a=e.KeyCode||(e.KeyCode={}));var l;(function(M){M[M.Hint=1]="Hint",M[M.Info=2]="Info",M[M.Warning=4]="Warning",M[M.Error=8]="Error"})(l=e.MarkerSeverity||(e.MarkerSeverity={}));var f;(function(M){M[M.Unnecessary=1]="Unnecessary",M[M.Deprecated=2]="Deprecated"})(f=e.MarkerTag||(e.MarkerTag={}));var g;(function(M){M[M.Inline=1]="Inline",M[M.Gutter=2]="Gutter"})(g=e.MinimapPosition||(e.MinimapPosition={}));var b;(function(M){M[M.UNKNOWN=0]="UNKNOWN",M[M.TEXTAREA=1]="TEXTAREA",M[M.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",M[M.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",M[M.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",M[M.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",M[M.CONTENT_TEXT=6]="CONTENT_TEXT",M[M.CONTENT_EMPTY=7]="CONTENT_EMPTY",M[M.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",M[M.CONTENT_WIDGET=9]="CONTENT_WIDGET",M[M.OVERVIEW_RULER=10]="OVERVIEW_RULER",M[M.SCROLLBAR=11]="SCROLLBAR",M[M.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",M[M.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(b=e.MouseTargetType||(e.MouseTargetType={}));var p;(function(M){M[M.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",M[M.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",M[M.TOP_CENTER=2]="TOP_CENTER"})(p=e.OverlayWidgetPositionPreference||(e.OverlayWidgetPositionPreference={}));var C;(function(M){M[M.Left=1]="Left",M[M.Center=2]="Center",M[M.Right=4]="Right",M[M.Full=7]="Full"})(C=e.OverviewRulerLane||(e.OverviewRulerLane={}));var S;(function(M){M[M.Left=0]="Left",M[M.Right=1]="Right",M[M.None=2]="None",M[M.LeftOfInjectedText=3]="LeftOfInjectedText",M[M.RightOfInjectedText=4]="RightOfInjectedText"})(S=e.PositionAffinity||(e.PositionAffinity={}));var y;(function(M){M[M.Off=0]="Off",M[M.On=1]="On",M[M.Relative=2]="Relative",M[M.Interval=3]="Interval",M[M.Custom=4]="Custom"})(y=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));var w;(function(M){M[M.None=0]="None",M[M.Text=1]="Text",M[M.Blocks=2]="Blocks"})(w=e.RenderMinimap||(e.RenderMinimap={}));var T;(function(M){M[M.Smooth=0]="Smooth",M[M.Immediate=1]="Immediate"})(T=e.ScrollType||(e.ScrollType={}));var N;(function(M){M[M.Auto=1]="Auto",M[M.Hidden=2]="Hidden",M[M.Visible=3]="Visible"})(N=e.ScrollbarVisibility||(e.ScrollbarVisibility={}));var R;(function(M){M[M.LTR=0]="LTR",M[M.RTL=1]="RTL"})(R=e.SelectionDirection||(e.SelectionDirection={}));var B;(function(M){M[M.Invoke=1]="Invoke",M[M.TriggerCharacter=2]="TriggerCharacter",M[M.ContentChange=3]="ContentChange"})(B=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var O;(function(M){M[M.File=0]="File",M[M.Module=1]="Module",M[M.Namespace=2]="Namespace",M[M.Package=3]="Package",M[M.Class=4]="Class",M[M.Method=5]="Method",M[M.Property=6]="Property",M[M.Field=7]="Field",M[M.Constructor=8]="Constructor",M[M.Enum=9]="Enum",M[M.Interface=10]="Interface",M[M.Function=11]="Function",M[M.Variable=12]="Variable",M[M.Constant=13]="Constant",M[M.String=14]="String",M[M.Number=15]="Number",M[M.Boolean=16]="Boolean",M[M.Array=17]="Array",M[M.Object=18]="Object",M[M.Key=19]="Key",M[M.Null=20]="Null",M[M.EnumMember=21]="EnumMember",M[M.Struct=22]="Struct",M[M.Event=23]="Event",M[M.Operator=24]="Operator",M[M.TypeParameter=25]="TypeParameter"})(O=e.SymbolKind||(e.SymbolKind={}));var D;(function(M){M[M.Deprecated=1]="Deprecated"})(D=e.SymbolTag||(e.SymbolTag={}));var A;(function(M){M[M.Hidden=0]="Hidden",M[M.Blink=1]="Blink",M[M.Smooth=2]="Smooth",M[M.Phase=3]="Phase",M[M.Expand=4]="Expand",M[M.Solid=5]="Solid"})(A=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));var P;(function(M){M[M.Line=1]="Line",M[M.Block=2]="Block",M[M.Underline=3]="Underline",M[M.LineThin=4]="LineThin",M[M.BlockOutline=5]="BlockOutline",M[M.UnderlineThin=6]="UnderlineThin"})(P=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));var F;(function(M){M[M.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",M[M.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",M[M.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",M[M.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(F=e.TrackedRangeStickiness||(e.TrackedRangeStickiness={}));var W;(function(M){M[M.None=0]="None",M[M.Same=1]="Same",M[M.Indent=2]="Indent",M[M.DeepIndent=3]="DeepIndent"})(W=e.WrappingIndent||(e.WrappingIndent={}))}),define(re[439],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class E{constructor(L,_,v,u){this.range=L,this.nestingLevel=_,this.nestingLevelOfEqualBracketType=v,this.isInvalid=u}}e.BracketInfo=E;class m{constructor(L,_,v,u,h,i){this.range=L,this.openingBracketRange=_,this.closingBracketRange=v,this.nestingLevel=u,this.nestingLevelOfEqualBracketType=h,this.bracketPairNode=i}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}e.BracketPairInfo=m;class k extends m{constructor(L,_,v,u,h,i,n){super(L,_,v,u,h,i);this.minVisibleColumnIndentation=n}}e.BracketPairWithMinIndentationInfo=k}),define(re[96],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class E{constructor(){this.changeType=1}}e.ModelRawFlush=E;class m{constructor(n,t,o,d,r){this.ownerId=n,this.lineNumber=t,this.column=o,this.options=d,this.order=r}static applyInjectedText(n,t){if(!t||t.length===0)return n;let o="",d=0;for(const r of t)o+=n.substring(d,r.column-1),d=r.column-1,o+=r.options.content;return o+=n.substring(d),o}static fromDecorations(n){const t=[];for(const o of n)o.options.before&&o.options.before.content.length>0&&t.push(new m(o.ownerId,o.range.startLineNumber,o.range.startColumn,o.options.before,0)),o.options.after&&o.options.after.content.length>0&&t.push(new m(o.ownerId,o.range.endLineNumber,o.range.endColumn,o.options.after,1));return t.sort((o,d)=>o.lineNumber===d.lineNumber?o.column===d.column?o.order-d.order:o.column-d.column:o.lineNumber-d.lineNumber),t}}e.LineInjectedText=m;class k{constructor(n,t,o){this.changeType=2,this.lineNumber=n,this.detail=t,this.injectedText=o}}e.ModelRawLineChanged=k;class I{constructor(n,t){this.changeType=3,this.fromLineNumber=n,this.toLineNumber=t}}e.ModelRawLinesDeleted=I;class L{constructor(n,t,o,d){this.changeType=4,this.injectedTexts=d,this.fromLineNumber=n,this.toLineNumber=t,this.detail=o}}e.ModelRawLinesInserted=L;class _{constructor(){this.changeType=5}}e.ModelRawEOLChanged=_;class v{constructor(n,t,o,d){this.changes=n,this.versionId=t,this.isUndoing=o,this.isRedoing=d,this.resultingSelection=null}containsEvent(n){for(let t=0,o=this.changes.length;t<o;t++)if(this.changes[t].changeType===n)return!0;return!1}static merge(n,t){const o=[].concat(n.changes).concat(t.changes),d=t.versionId,r=n.isUndoing||t.isUndoing,c=n.isRedoing||t.isRedoing;return new v(o,d,r,c)}}e.ModelRawContentChangedEvent=v;class u{constructor(n){this.changes=n}}e.ModelInjectedTextChangedEvent=u;class h{constructor(n,t){this.rawContentChangedEvent=n,this.contentChangedEvent=t}merge(n){const t=v.merge(this.rawContentChangedEvent,n.rawContentChangedEvent),o=h._mergeChangeEvents(this.contentChangedEvent,n.contentChangedEvent);return new h(t,o)}static _mergeChangeEvents(n,t){const o=[].concat(n.changes).concat(t.changes),d=t.eol,r=t.versionId,c=n.isUndoing||t.isUndoing,s=n.isRedoing||t.isRedoing,a=n.isFlush||t.isFlush;return{changes:o,eol:d,versionId:r,isUndoing:c,isRedoing:s,isFlush:a}}}e.InternalModelContentChangeEvent=h}),define(re[188],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=void 0;var E;(function(I){I[I.Disabled=0]="Disabled",I[I.EnabledForActive=1]="EnabledForActive",I[I.Enabled=2]="Enabled"})(E=e.HorizontalGuidesState||(e.HorizontalGuidesState={}));class m{constructor(L,_,v,u,h,i){if(this.visibleColumn=L,this.column=_,this.className=v,this.horizontalLine=u,this.forWrappedLinesAfterColumn=h,this.forWrappedLinesBeforeOrAtColumn=i,L!==-1==(_!==-1))throw new Error}}e.IndentGuide=m;class k{constructor(L,_){this.top=L,this.endColumn=_}}e.IndentGuideHorizontalLine=k}),define(re[254],se([1,0,18,8,73,3,249,187,188]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairGuidesClassNames=e.GuidesTextModelPart=void 0;class u extends L.TextModelPart{constructor(n,t){super();this.textModel=n,this.languageConfigurationService=t}getLanguageConfiguration(n){return this.languageConfigurationService.getLanguageConfiguration(n)}_computeIndentLevel(n){return(0,_.computeIndentLevel)(this.textModel.getLineContent(n+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(n,t,o){this.assertNotDisposed();const d=this.textModel.getLineCount();if(n<1||n>d)throw new Error("Illegal value for lineNumber");const r=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,c=Boolean(r&&r.offSide);let s=-2,a=-1,l=-2,f=-1;const g=D=>{if(s!==-1&&(s===-2||s>D-1)){s=-1,a=-1;for(let A=D-2;A>=0;A--){const P=this._computeIndentLevel(A);if(P>=0){s=A,a=P;break}}}if(l===-2){l=-1,f=-1;for(let A=D;A<d;A++){const P=this._computeIndentLevel(A);if(P>=0){l=A,f=P;break}}}};let b=-2,p=-1,C=-2,S=-1;const y=D=>{if(b===-2){b=-1,p=-1;for(let A=D-2;A>=0;A--){const P=this._computeIndentLevel(A);if(P>=0){b=A,p=P;break}}}if(C!==-1&&(C===-2||C<D-1)){C=-1,S=-1;for(let A=D;A<d;A++){const P=this._computeIndentLevel(A);if(P>=0){C=A,S=P;break}}}};let w=0,T=!0,N=0,R=!0,B=0,O=0;for(let D=0;T||R;D++){const A=n-D,P=n+D;D>1&&(A<1||A<t)&&(T=!1),D>1&&(P>d||P>o)&&(R=!1),D>5e4&&(T=!1,R=!1);let F=-1;if(T&&A>=1){const M=this._computeIndentLevel(A-1);M>=0?(l=A-1,f=M,F=Math.ceil(M/this.textModel.getOptions().indentSize)):(g(A),F=this._getIndentLevelForWhitespaceLine(c,a,f))}let W=-1;if(R&&P<=d){const M=this._computeIndentLevel(P-1);M>=0?(b=P-1,p=M,W=Math.ceil(M/this.textModel.getOptions().indentSize)):(y(P),W=this._getIndentLevelForWhitespaceLine(c,p,S))}if(D===0){O=F;continue}if(D===1){if(P<=d&&W>=0&&O+1===W){T=!1,w=P,N=P,B=W;continue}if(A>=1&&F>=0&&F-1===O){R=!1,w=A,N=A,B=F;continue}if(w=n,N=n,B=O,B===0)return{startLineNumber:w,endLineNumber:N,indent:B}}T&&(F>=B?w=A:T=!1),R&&(W>=B?N=P:R=!1)}return{startLineNumber:w,endLineNumber:N,indent:B}}getLinesBracketGuides(n,t,o,d){var r;const c=[];for(let b=n;b<=t;b++)c.push([]);const s=!0,a=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new I.Range(n,1,t,this.textModel.getLineMaxColumn(t)));let l;if(o&&a.length>0){const b=(n<=o.lineNumber&&o.lineNumber<=t?a:this.textModel.bracketPairs.getBracketPairsInRange(I.Range.fromPositions(o))).filter(p=>I.Range.strictContainsPosition(p.range,o));l=(r=(0,E.findLast)(b,p=>s||p.range.startLineNumber!==p.range.endLineNumber))===null||r===void 0?void 0:r.range}const f=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,g=new h;for(const b of a){if(!b.closingBracketRange)continue;const p=l&&b.range.equalsRange(l);if(!p&&!d.includeInactive)continue;const C=g.getInlineClassName(b.nestingLevel,b.nestingLevelOfEqualBracketType,f)+(d.highlightActive&&p?" "+g.activeClassName:""),S=b.openingBracketRange.getStartPosition(),y=b.closingBracketRange.getStartPosition(),w=d.horizontalGuides===v.HorizontalGuidesState.Enabled||d.horizontalGuides===v.HorizontalGuidesState.EnabledForActive&&p;if(b.range.startLineNumber===b.range.endLineNumber){s&&w&&c[b.range.startLineNumber-n].push(new v.IndentGuide(-1,b.openingBracketRange.getEndPosition().column,C,new v.IndentGuideHorizontalLine(!1,y.column),-1,-1));continue}const T=this.getVisibleColumnFromPosition(y),N=this.getVisibleColumnFromPosition(b.openingBracketRange.getStartPosition()),R=Math.min(N,T,b.minVisibleColumnIndentation+1);let B=!1;m.firstNonWhitespaceIndex(this.textModel.getLineContent(b.closingBracketRange.startLineNumber))<b.closingBracketRange.startColumn-1&&(B=!0);const A=Math.max(S.lineNumber,n),P=Math.min(y.lineNumber,t),F=B?1:0;for(let W=A;W<P+F;W++)c[W-n].push(new v.IndentGuide(R,-1,C,null,W===S.lineNumber?S.column:-1,W===y.lineNumber?y.column:-1));w&&(S.lineNumber>=n&&N>R&&c[S.lineNumber-n].push(new v.IndentGuide(R,-1,C,new v.IndentGuideHorizontalLine(!1,S.column),-1,-1)),y.lineNumber<=t&&T>R&&c[y.lineNumber-n].push(new v.IndentGuide(R,-1,C,new v.IndentGuideHorizontalLine(!B,y.column),-1,-1)))}for(const b of c)b.sort((p,C)=>p.visibleColumn-C.visibleColumn);return c}getVisibleColumnFromPosition(n){return k.CursorColumns.visibleColumnFromColumn(this.textModel.getLineContent(n.lineNumber),n.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(n,t){this.assertNotDisposed();const o=this.textModel.getLineCount();if(n<1||n>o)throw new Error("Illegal value for startLineNumber");if(t<1||t>o)throw new Error("Illegal value for endLineNumber");const d=this.textModel.getOptions(),r=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,c=Boolean(r&&r.offSide),s=new Array(t-n+1);let a=-2,l=-1,f=-2,g=-1;for(let b=n;b<=t;b++){const p=b-n,C=this._computeIndentLevel(b-1);if(C>=0){a=b-1,l=C,s[p]=Math.ceil(C/d.indentSize);continue}if(a===-2){a=-1,l=-1;for(let S=b-2;S>=0;S--){const y=this._computeIndentLevel(S);if(y>=0){a=S,l=y;break}}}if(f!==-1&&(f===-2||f<b-1)){f=-1,g=-1;for(let S=b;S<o;S++){const y=this._computeIndentLevel(S);if(y>=0){f=S,g=y;break}}}s[p]=this._getIndentLevelForWhitespaceLine(c,l,g)}return s}_getIndentLevelForWhitespaceLine(n,t,o){const d=this.textModel.getOptions();return t===-1||o===-1?0:t<o?1+Math.floor(t/d.indentSize):t===o||n?Math.ceil(o/d.indentSize):1+Math.floor(o/d.indentSize)}}e.GuidesTextModelPart=u;class h{constructor(){this.activeClassName="indent-active"}getInlineClassName(n,t,o){return this.getInlineClassNameOfLevel(o?t:n)}getInlineClassNameOfLevel(n){return`bracket-indent-guide lvl-${n%30}`}}e.BracketPairGuidesClassNames=h}),define(re[440],se([1,0,4,2]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=void 0;class k{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new E.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(_){this._onDidChange.fire({changedLanguages:_,changedColorMap:!1})}register(_,v){return this._map.set(_,v),this.fire([_]),(0,m.toDisposable)(()=>{this._map.get(_)===v&&(this._map.delete(_),this.fire([_]))})}registerFactory(_,v){var u;(u=this._factories.get(_))===null||u===void 0||u.dispose();const h=new I(this,_,v);return this._factories.set(_,h),(0,m.toDisposable)(()=>{const i=this._factories.get(_);!i||i!==h||(this._factories.delete(_),i.dispose())})}getOrCreate(_){return Le(this,void 0,void 0,function*(){const v=this.get(_);if(v)return v;const u=this._factories.get(_);return!u||u.isResolved?null:(yield u.resolve(),this.get(_))})}get(_){return this._map.get(_)||null}isResolved(_){if(this.get(_))return!0;const u=this._factories.get(_);return!!(!u||u.isResolved)}setColorMap(_){this._colorMap=_,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistry=k;class I extends m.Disposable{constructor(_,v,u){super();this._registry=_,this._languageId=v,this._factory=u,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return Le(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return Le(this,void 0,void 0,function*(){const _=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,_&&!this._isDisposed&&this._register(this._registry.register(this._languageId,_))})}}}),define(re[27],se([1,0,25,3,440,28]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=e.InlayHintKind=e.Command=e.FoldingRangeKind=e.SymbolKinds=e.isLocationLink=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.InlineCompletionTriggerKind=e.CompletionItemKinds=e.EncodedTokenizationResult=e.TokenizationResult=e.Token=e.TokenMetadata=void 0;class L{static getLanguageId(l){return(l&255)>>>0}static getTokenType(l){return(l&768)>>>8}static containsBalancedBrackets(l){return(l&1024)!=0}static getFontStyle(l){return(l&30720)>>>11}static getForeground(l){return(l&16744448)>>>15}static getBackground(l){return(l&4278190080)>>>24}static getClassNameFromMetadata(l){const f=this.getForeground(l);let g="mtk"+f;const b=this.getFontStyle(l);return b&1&&(g+=" mtki"),b&2&&(g+=" mtkb"),b&4&&(g+=" mtku"),b&8&&(g+=" mtks"),g}static getInlineStyleFromMetadata(l,f){const g=this.getForeground(l),b=this.getFontStyle(l);let p=`color: ${f[g]};`;b&1&&(p+="font-style: italic;"),b&2&&(p+="font-weight: bold;");let C="";return b&4&&(C+=" underline"),b&8&&(C+=" line-through"),C&&(p+=`text-decoration:${C};`),p}static getPresentationFromMetadata(l){const f=this.getForeground(l),g=this.getFontStyle(l);return{foreground:f,italic:Boolean(g&1),bold:Boolean(g&2),underline:Boolean(g&4),strikethrough:Boolean(g&8)}}}e.TokenMetadata=L;class _{constructor(l,f,g){this._tokenBrand=void 0,this.offset=l,this.type=f,this.language=g}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=_;class v{constructor(l,f){this._tokenizationResultBrand=void 0,this.tokens=l,this.endState=f}}e.TokenizationResult=v;class u{constructor(l,f){this._encodedTokenizationResultBrand=void 0,this.tokens=l,this.endState=f}}e.EncodedTokenizationResult=u;var h;(function(a){const l=new Map;l.set(0,I.Codicon.symbolMethod),l.set(1,I.Codicon.symbolFunction),l.set(2,I.Codicon.symbolConstructor),l.set(3,I.Codicon.symbolField),l.set(4,I.Codicon.symbolVariable),l.set(5,I.Codicon.symbolClass),l.set(6,I.Codicon.symbolStruct),l.set(7,I.Codicon.symbolInterface),l.set(8,I.Codicon.symbolModule),l.set(9,I.Codicon.symbolProperty),l.set(10,I.Codicon.symbolEvent),l.set(11,I.Codicon.symbolOperator),l.set(12,I.Codicon.symbolUnit),l.set(13,I.Codicon.symbolValue),l.set(15,I.Codicon.symbolEnum),l.set(14,I.Codicon.symbolConstant),l.set(15,I.Codicon.symbolEnum),l.set(16,I.Codicon.symbolEnumMember),l.set(17,I.Codicon.symbolKeyword),l.set(27,I.Codicon.symbolSnippet),l.set(18,I.Codicon.symbolText),l.set(19,I.Codicon.symbolColor),l.set(20,I.Codicon.symbolFile),l.set(21,I.Codicon.symbolReference),l.set(22,I.Codicon.symbolCustomColor),l.set(23,I.Codicon.symbolFolder),l.set(24,I.Codicon.symbolTypeParameter),l.set(25,I.Codicon.account),l.set(26,I.Codicon.issues);function f(p){let C=l.get(p);return C||(console.info("No codicon found for CompletionItemKind "+p),C=I.Codicon.symbolProperty),C}a.toIcon=f;const g=new Map;g.set("method",0),g.set("function",1),g.set("constructor",2),g.set("field",3),g.set("variable",4),g.set("class",5),g.set("struct",6),g.set("interface",7),g.set("module",8),g.set("property",9),g.set("event",10),g.set("operator",11),g.set("unit",12),g.set("value",13),g.set("constant",14),g.set("enum",15),g.set("enum-member",16),g.set("enumMember",16),g.set("keyword",17),g.set("snippet",27),g.set("text",18),g.set("color",19),g.set("file",20),g.set("reference",21),g.set("customcolor",22),g.set("folder",23),g.set("type-parameter",24),g.set("typeParameter",24),g.set("account",25),g.set("issue",26);function b(p,C){let S=g.get(p);return typeof S=="undefined"&&!C&&(S=9),S}a.fromString=b})(h=e.CompletionItemKinds||(e.CompletionItemKinds={}));var i;(function(a){a[a.Automatic=0]="Automatic",a[a.Explicit=1]="Explicit"})(i=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));var n;(function(a){a[a.Invoke=1]="Invoke",a[a.TriggerCharacter=2]="TriggerCharacter",a[a.ContentChange=3]="ContentChange"})(n=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var t;(function(a){a[a.Text=0]="Text",a[a.Read=1]="Read",a[a.Write=2]="Write"})(t=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));function o(a){return a&&E.URI.isUri(a.uri)&&m.Range.isIRange(a.range)&&(m.Range.isIRange(a.originSelectionRange)||m.Range.isIRange(a.targetSelectionRange))}e.isLocationLink=o;var d;(function(a){const l=new Map;l.set(0,I.Codicon.symbolFile),l.set(1,I.Codicon.symbolModule),l.set(2,I.Codicon.symbolNamespace),l.set(3,I.Codicon.symbolPackage),l.set(4,I.Codicon.symbolClass),l.set(5,I.Codicon.symbolMethod),l.set(6,I.Codicon.symbolProperty),l.set(7,I.Codicon.symbolField),l.set(8,I.Codicon.symbolConstructor),l.set(9,I.Codicon.symbolEnum),l.set(10,I.Codicon.symbolInterface),l.set(11,I.Codicon.symbolFunction),l.set(12,I.Codicon.symbolVariable),l.set(13,I.Codicon.symbolConstant),l.set(14,I.Codicon.symbolString),l.set(15,I.Codicon.symbolNumber),l.set(16,I.Codicon.symbolBoolean),l.set(17,I.Codicon.symbolArray),l.set(18,I.Codicon.symbolObject),l.set(19,I.Codicon.symbolKey),l.set(20,I.Codicon.symbolNull),l.set(21,I.Codicon.symbolEnumMember),l.set(22,I.Codicon.symbolStruct),l.set(23,I.Codicon.symbolEvent),l.set(24,I.Codicon.symbolOperator),l.set(25,I.Codicon.symbolTypeParameter);function f(g){let b=l.get(g);return b||(console.info("No codicon found for SymbolKind "+g),b=I.Codicon.symbolProperty),b}a.toIcon=f})(d=e.SymbolKinds||(e.SymbolKinds={}));class r{constructor(l){this.value=l}}e.FoldingRangeKind=r,r.Comment=new r("comment"),r.Imports=new r("imports"),r.Region=new r("region");var c;(function(a){function l(f){return!f||typeof f!="object"?!1:typeof f.id=="string"&&typeof f.title=="string"}a.is=l})(c=e.Command||(e.Command={}));var s;(function(a){a[a.Type=1]="Type",a[a.Parameter=2]="Parameter"})(s=e.InlayHintKind||(e.InlayHintKind={})),e.TokenizationRegistry=new k.TokenizationRegistry}),define(re[127],se([1,0,27]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nullTokenizeEncoded=e.nullTokenize=e.NullState=void 0,e.NullState=new class{clone(){return this}equals(I){return this===I}};function m(I,L){return new E.TokenizationResult([new E.Token(0,"",I)],L)}e.nullTokenize=m;function k(I,L){const _=new Uint32Array(2);return _[0]=0,_[1]=(I<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new E.EncodedTokenizationResult(_,L===null?e.NullState:L)}e.nullTokenizeEncoded=k}),define(re[189],se([1,0,13,27,152,86,105]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class _{constructor(n,t,o,d,r){this.length=n,this.kind=t,this.bracketId=o,this.bracketIds=d,this.astNode=r}}e.Token=_;class v{constructor(n,t){this.textModel=n,this.bracketTokens=t,this.reader=new u(this.textModel,this.bracketTokens),this._offset=I.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=n.getLineCount(),this.textBufferLastLineLength=n.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,I.toLength)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(n){this.didPeek=!1,this._offset=(0,I.lengthAdd)(this._offset,n);const t=(0,I.lengthToObj)(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let n;return this.peeked?(this.didPeek=!1,n=this.peeked):n=this.reader.read(),n&&(this._offset=(0,I.lengthAdd)(this._offset,n.length)),n}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=v;class u{constructor(n,t){this.textModel=n,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=n.getLineCount(),this.textBufferLastLineLength=n.getLineLength(this.textBufferLineCount)}setPosition(n,t){n===this.lineIdx?(this.lineCharOffset=t,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=n,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const r=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,I.lengthGetColumnCountIfZeroLineCount)(r.length),r}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const n=this.lineIdx,t=this.lineCharOffset;let o=0;for(;;){const r=this.lineTokens,c=r.getCount();let s=null;if(this.lineTokenOffset<c){const a=r.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<c&&a===r.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const l=m.TokenMetadata.getTokenType(a)===0,f=m.TokenMetadata.containsBalancedBrackets(a),g=r.getEndOffset(this.lineTokenOffset);if(f&&l&&g!==this.lineCharOffset){const b=r.getLanguageId(this.lineTokenOffset),p=this.line.substring(this.lineCharOffset,g),C=this.bracketTokens.getSingleLanguageBracketTokens(b),S=C.regExpGlobal;if(S){S.lastIndex=0;const y=S.exec(p);y&&(s=C.getToken(y[0]),s&&(this.lineCharOffset+=y.index))}}if(o+=g-this.lineCharOffset,s)if(n!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=s;break}else return this.lineCharOffset+=(0,I.lengthGetColumnCountIfZeroLineCount)(s.length),s;else this.lineTokenOffset++,this.lineCharOffset=g}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,o+=33,o>1e3))break;if(o>1500)break}const d=(0,I.lengthDiff)(n,t,this.lineIdx,this.lineCharOffset);return new _(d,0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode(d))}}class h{constructor(n,t){this.text=n,this._offset=I.lengthZero,this.idx=0;const o=t.getRegExpStr(),d=o?new RegExp(o+`|
`,"gi"):null,r=[];let c,s=0,a=0,l=0,f=0;const g=new Array;for(let C=0;C<60;C++)g.push(new _((0,I.toLength)(0,C),0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode((0,I.toLength)(0,C))));const b=new Array;for(let C=0;C<60;C++)b.push(new _((0,I.toLength)(1,C),0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode((0,I.toLength)(1,C))));if(d)for(d.lastIndex=0;(c=d.exec(n))!==null;){const C=c.index,S=c[0];if(S===`
`)s++,a=C+1;else{if(l!==C){let y;if(f===s){const w=C-l;if(w<g.length)y=g[w];else{const T=(0,I.toLength)(0,w);y=new _(T,0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode(T))}}else{const w=s-f,T=C-a;if(w===1&&T<b.length)y=b[T];else{const N=(0,I.toLength)(w,T);y=new _(N,0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode(N))}}r.push(y)}r.push(t.getToken(S)),l=C+S.length,f=s}}const p=n.length;if(l!==p){const C=f===s?(0,I.toLength)(0,p-l):(0,I.toLength)(s-f,p-a);r.push(new _(C,0,-1,L.SmallImmutableSet.getEmpty(),new k.TextAstNode(C)))}this.length=(0,I.toLength)(s,p-a),this.tokens=r}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(n){throw new E.NotSupportedError}}e.FastTokenizer=h}),define(re[255],se([1,0,8,152,86,105,189]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class _{constructor(i){this.map=i,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(i,n){function t(d){return n.getKey(`${d.languageId}:::${d.bracketText}`)}const o=new Map;for(const d of i.bracketsNew.openingBrackets){const r=(0,k.toLength)(0,d.bracketText.length),c=t(d),s=I.SmallImmutableSet.getEmpty().add(c,I.identityKeyProvider);o.set(d.bracketText,new L.Token(r,1,c,s,m.BracketAstNode.create(r,d,s)))}for(const d of i.bracketsNew.closingBrackets){const r=(0,k.toLength)(0,d.bracketText.length);let c=I.SmallImmutableSet.getEmpty();const s=d.getClosedBrackets();for(const a of s)c=c.add(t(a),I.identityKeyProvider);o.set(d.bracketText,new L.Token(r,2,t(s[0]),c,m.BracketAstNode.create(r,d,c)))}return new _(o)}getRegExpStr(){if(this.isEmpty)return null;{const i=[...this.map.keys()];return i.sort(),i.reverse(),i.map(n=>v(n)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const i=this.getRegExpStr();this._regExpGlobal=i?new RegExp(i,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(i){return this.map.get(i.toLowerCase())}findClosingTokenText(i){for(const[n,t]of this.map)if(t.bracketIds.intersects(i))return n}get isEmpty(){return this.map.size===0}}e.BracketTokens=_;function v(h){const i=(0,E.escapeRegExpCharacters)(h);return/^[\w ]+$/.test(h)?`\\b${i}\\b`:i}class u{constructor(i,n){this.denseKeyProvider=i,this.getLanguageConfiguration=n,this.languageIdToBracketTokens=new Map}didLanguageChange(i){return this.languageIdToBracketTokens.has(i)}getSingleLanguageBracketTokens(i){let n=this.languageIdToBracketTokens.get(i);return n||(n=_.createFromLanguage(this.getLanguageConfiguration(i),this.denseKeyProvider),this.languageIdToBracketTokens.set(i,n)),n}}e.LanguageAgnosticBracketTokens=u}),define(re[441],se([1,0,4,2,3,439,246,255,86,247,105,189]),function(U,e,E,m,k,I,L,_,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class n extends m.Disposable{constructor(a,l){super();if(this.textModel=a,this.getLanguageConfiguration=l,this.didChangeEmitter=new E.Emitter,this.denseKeyProvider=new h.DenseKeyProvider,this.brackets=new _.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,a.tokenization.backgroundTokenizationState===0){const f=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),g=new i.FastTokenizer(this.textModel.getValue(),f);this.initialAstWithoutTokens=(0,u.parseDocument)(g,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else a.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):a.tokenization.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(a){return this.brackets.didLanguageChange(a)}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const a=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,a||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:a}){const l=a.map(f=>new L.TextEditInfo((0,v.toLength)(f.fromLineNumber-1,0),(0,v.toLength)(f.toLineNumber,0),(0,v.toLength)(f.toLineNumber-f.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(l,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(a){const l=a.changes.map(f=>{const g=k.Range.lift(f.range);return new L.TextEditInfo((0,v.positionToLength)(g.getStartPosition()),(0,v.positionToLength)(g.getEndPosition()),(0,v.lengthOfString)(f.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(l,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(l,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(a,l,f){const b=!1?l==null?void 0:l.deepClone():l,p=new i.TextBufferTokenizer(this.textModel,this.brackets);return(0,u.parseDocument)(p,a,b,f)}getBracketsInRange(a){const l=(0,v.toLength)(a.startLineNumber-1,a.startColumn-1),f=(0,v.toLength)(a.endLineNumber-1,a.endColumn-1),g=new Array,b=this.initialAstWithoutTokens||this.astWithTokens;return d(b,v.lengthZero,b.length,l,f,g,0,new Map),g}getBracketPairsInRange(a,l){const f=new Array,g=(0,v.positionToLength)(a.getStartPosition()),b=(0,v.positionToLength)(a.getEndPosition()),p=this.initialAstWithoutTokens||this.astWithTokens,C=new r(f,l,this.textModel);return c(p,v.lengthZero,p.length,g,b,C,0,new Map),f}getFirstBracketAfter(a){const l=this.initialAstWithoutTokens||this.astWithTokens;return o(l,v.lengthZero,l.length,(0,v.positionToLength)(a))}getFirstBracketBefore(a){const l=this.initialAstWithoutTokens||this.astWithTokens;return t(l,v.lengthZero,l.length,(0,v.positionToLength)(a))}}e.BracketPairsTree=n;function t(s,a,l,f){if(s.kind===4||s.kind===2){const g=[];for(const b of s.children)l=(0,v.lengthAdd)(a,b.length),g.push({nodeOffsetStart:a,nodeOffsetEnd:l}),a=l;for(let b=g.length-1;b>=0;b--){const{nodeOffsetStart:p,nodeOffsetEnd:C}=g[b];if((0,v.lengthLessThan)(p,f)){const S=t(s.children[b],p,C,f);if(S)return S}}return null}else{if(s.kind===3)return null;if(s.kind===1){const g=(0,v.lengthsToRange)(a,l);return{bracketInfo:s.bracketInfo,range:g}}}return null}function o(s,a,l,f){if(s.kind===4||s.kind===2){for(const g of s.children){if(l=(0,v.lengthAdd)(a,g.length),(0,v.lengthLessThan)(f,l)){const b=o(g,a,l,f);if(b)return b}a=l}return null}else{if(s.kind===3)return null;if(s.kind===1){const g=(0,v.lengthsToRange)(a,l);return{bracketInfo:s.bracketInfo,range:g}}}return null}function d(s,a,l,f,g,b,p,C){if(s.kind===4)for(const S of s.children)l=(0,v.lengthAdd)(a,S.length),(0,v.lengthLessThanEqual)(a,g)&&(0,v.lengthGreaterThanEqual)(l,f)&&d(S,a,l,f,g,b,p,C),a=l;else if(s.kind===2){let S=0;if(C){let y=C.get(s.openingBracket.text);y===void 0&&(y=0),S=y,y++,C.set(s.openingBracket.text,y)}{const y=s.openingBracket;if(l=(0,v.lengthAdd)(a,y.length),(0,v.lengthLessThanEqual)(a,g)&&(0,v.lengthGreaterThanEqual)(l,f)){const w=(0,v.lengthsToRange)(a,l);b.push(new I.BracketInfo(w,p,S,!s.closingBracket))}a=l}if(s.child){const y=s.child;l=(0,v.lengthAdd)(a,y.length),(0,v.lengthLessThanEqual)(a,g)&&(0,v.lengthGreaterThanEqual)(l,f)&&d(y,a,l,f,g,b,p+1,C),a=l}if(s.closingBracket){const y=s.closingBracket;if(l=(0,v.lengthAdd)(a,y.length),(0,v.lengthLessThanEqual)(a,g)&&(0,v.lengthGreaterThanEqual)(l,f)){const w=(0,v.lengthsToRange)(a,l);b.push(new I.BracketInfo(w,p,S,!1))}a=l}C&&C.set(s.openingBracket.text,S)}else if(s.kind===3){const S=(0,v.lengthsToRange)(a,l);b.push(new I.BracketInfo(S,p-1,0,!0))}else if(s.kind===1){const S=(0,v.lengthsToRange)(a,l);b.push(new I.BracketInfo(S,p-1,0,!1))}}class r{constructor(a,l,f){this.result=a,this.includeMinIndentation=l,this.textModel=f}}function c(s,a,l,f,g,b,p,C){var S;if(s.kind===2){let y=0;if(C){let N=C.get(s.openingBracket.text);N===void 0&&(N=0),y=N,N++,C.set(s.openingBracket.text,N)}const w=(0,v.lengthAdd)(a,s.openingBracket.length);let T=-1;if(b.includeMinIndentation&&(T=s.computeMinIndentation(a,b.textModel)),b.result.push(new I.BracketPairWithMinIndentationInfo((0,v.lengthsToRange)(a,l),(0,v.lengthsToRange)(a,w),s.closingBracket?(0,v.lengthsToRange)((0,v.lengthAdd)(w,((S=s.child)===null||S===void 0?void 0:S.length)||v.lengthZero),l):void 0,p,y,s,T)),a=w,s.child){const N=s.child;l=(0,v.lengthAdd)(a,N.length),(0,v.lengthLessThanEqual)(a,g)&&(0,v.lengthGreaterThanEqual)(l,f)&&c(N,a,l,f,g,b,p+1,C)}C&&C.set(s.openingBracket.text,y)}else{let y=a;for(const w of s.children){const T=y;y=(0,v.lengthAdd)(y,w.length),(0,v.lengthLessThanEqual)(T,g)&&(0,v.lengthLessThanEqual)(f,y)&&c(w,T,y,f,g,b,p,C)}}}}),define(re[442],se([1,0,4,2,3,441,104,186,18]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTextModelPart=void 0;class u extends m.Disposable{constructor(d,r){super();this.textModel=d,this.languageConfigurationService=r,this.bracketPairsTree=this._register(new m.MutableDisposable),this.onDidChangeEmitter=new E.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(c=>{var s;(!c.languageId||((s=this.bracketPairsTree.value)===null||s===void 0?void 0:s.object.didLanguageChange(c.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get canBuildAST(){const d=5e4*100;return this.textModel.getValueLength()<=d}handleDidChangeOptions(d){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(d){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(d){var r;(r=this.bracketPairsTree.value)===null||r===void 0||r.object.handleContentChanged(d)}handleDidChangeBackgroundTokenizationState(){var d;(d=this.bracketPairsTree.value)===null||d===void 0||d.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(d){var r;(r=this.bracketPairsTree.value)===null||r===void 0||r.object.handleDidChangeTokens(d)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const d=new m.DisposableStore;this.bracketPairsTree.value=h(d.add(new I.BracketPairsTree(this.textModel,r=>this.languageConfigurationService.getLanguageConfiguration(r))),d),d.add(this.bracketPairsTree.value.object.onDidChange(r=>this.onDidChangeEmitter.fire(r))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(d){var r;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((r=this.bracketPairsTree.value)===null||r===void 0?void 0:r.object.getBracketPairsInRange(d,!1))||[]}getBracketPairsInRangeWithMinIndentation(d){var r;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((r=this.bracketPairsTree.value)===null||r===void 0?void 0:r.object.getBracketPairsInRange(d,!0))||[]}getBracketsInRange(d){var r;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((r=this.bracketPairsTree.value)===null||r===void 0?void 0:r.object.getBracketsInRange(d))||[]}findMatchingBracketUp(d,r,c){const s=this.textModel.validatePosition(r),a=this.textModel.getLanguageIdAtPosition(s.lineNumber,s.column);if(this.canBuildAST){const l=this.languageConfigurationService.getLanguageConfiguration(a).bracketsNew.getClosingBracketInfo(d),f=(0,v.findLast)(this.getBracketPairsInRange(k.Range.fromPositions(r,r))||[],g=>l.closes(g.openingBracketInfo));return f?f.openingBracketRange:null}else{const l=d.toLowerCase(),f=this.languageConfigurationService.getLanguageConfiguration(a).brackets;if(!f)return null;const g=f.textIsBracket[l];return g?t(this._findMatchingBracketUp(g,s,i(c))):null}}matchBracket(d,r){if(this.canBuildAST){const c=(0,v.findLastMaxBy)(this.getBracketPairsInRange(k.Range.fromPositions(d,d)).filter(s=>s.closingBracketRange!==void 0&&(s.openingBracketRange.containsPosition(d)||s.closingBracketRange.containsPosition(d))),(0,v.compareBy)(s=>s.openingBracketRange.containsPosition(d)?s.openingBracketRange:s.closingBracketRange,k.Range.compareRangesUsingStarts));return c?[c.openingBracketRange,c.closingBracketRange]:null}else{const c=i(r);return this._matchBracket(this.textModel.validatePosition(d),c)}}_establishBracketSearchOffsets(d,r,c,s){const a=r.getCount(),l=r.getLanguageId(s);let f=Math.max(0,d.column-1-c.maxBracketLength);for(let b=s-1;b>=0;b--){const p=r.getEndOffset(b);if(p<=f)break;if((0,L.ignoreBracketsInToken)(r.getStandardTokenType(b))||r.getLanguageId(b)!==l){f=p;break}}let g=Math.min(r.getLineContent().length,d.column-1+c.maxBracketLength);for(let b=s+1;b<a;b++){const p=r.getStartOffset(b);if(p>=g)break;if((0,L.ignoreBracketsInToken)(r.getStandardTokenType(b))||r.getLanguageId(b)!==l){g=p;break}}return{searchStartOffset:f,searchEndOffset:g}}_matchBracket(d,r){const c=d.lineNumber,s=this.textModel.tokenization.getLineTokens(c),a=this.textModel.getLineContent(c),l=s.findTokenIndexAtOffset(d.column-1);if(l<0)return null;const f=this.languageConfigurationService.getLanguageConfiguration(s.getLanguageId(l)).brackets;if(f&&!(0,L.ignoreBracketsInToken)(s.getStandardTokenType(l))){let{searchStartOffset:g,searchEndOffset:b}=this._establishBracketSearchOffsets(d,s,f,l),p=null;for(;;){const C=_.BracketsUtils.findNextBracketInRange(f.forwardRegex,c,a,g,b);if(!C)break;if(C.startColumn<=d.column&&d.column<=C.endColumn){const S=a.substring(C.startColumn-1,C.endColumn-1).toLowerCase(),y=this._matchFoundBracket(C,f.textIsBracket[S],f.textIsOpenBracket[S],r);if(y){if(y instanceof n)return null;p=y}}g=C.endColumn-1}if(p)return p}if(l>0&&s.getStartOffset(l)===d.column-1){const g=l-1,b=this.languageConfigurationService.getLanguageConfiguration(s.getLanguageId(g)).brackets;if(b&&!(0,L.ignoreBracketsInToken)(s.getStandardTokenType(g))){const{searchStartOffset:p,searchEndOffset:C}=this._establishBracketSearchOffsets(d,s,b,g),S=_.BracketsUtils.findPrevBracketInRange(b.reversedRegex,c,a,p,C);if(S&&S.startColumn<=d.column&&d.column<=S.endColumn){const y=a.substring(S.startColumn-1,S.endColumn-1).toLowerCase(),w=this._matchFoundBracket(S,b.textIsBracket[y],b.textIsOpenBracket[y],r);if(w)return w instanceof n?null:w}}}return null}_matchFoundBracket(d,r,c,s){if(!r)return null;const a=c?this._findMatchingBracketDown(r,d.getEndPosition(),s):this._findMatchingBracketUp(r,d.getStartPosition(),s);return a?a instanceof n?a:[d,a]:null}_findMatchingBracketUp(d,r,c){const s=d.languageId,a=d.reversedRegex;let l=-1,f=0;const g=(b,p,C,S)=>{for(;;){if(c&&++f%100==0&&!c())return n.INSTANCE;const y=_.BracketsUtils.findPrevBracketInRange(a,b,p,C,S);if(!y)break;const w=p.substring(y.startColumn-1,y.endColumn-1).toLowerCase();if(d.isOpen(w)?l++:d.isClose(w)&&l--,l===0)return y;S=y.startColumn-1}return null};for(let b=r.lineNumber;b>=1;b--){const p=this.textModel.tokenization.getLineTokens(b),C=p.getCount(),S=this.textModel.getLineContent(b);let y=C-1,w=S.length,T=S.length;b===r.lineNumber&&(y=p.findTokenIndexAtOffset(r.column-1),w=r.column-1,T=r.column-1);let N=!0;for(;y>=0;y--){const R=p.getLanguageId(y)===s&&!(0,L.ignoreBracketsInToken)(p.getStandardTokenType(y));if(R)N?w=p.getStartOffset(y):(w=p.getStartOffset(y),T=p.getEndOffset(y));else if(N&&w!==T){const B=g(b,S,w,T);if(B)return B}N=R}if(N&&w!==T){const R=g(b,S,w,T);if(R)return R}}return null}_findMatchingBracketDown(d,r,c){const s=d.languageId,a=d.forwardRegex;let l=1,f=0;const g=(p,C,S,y)=>{for(;;){if(c&&++f%100==0&&!c())return n.INSTANCE;const w=_.BracketsUtils.findNextBracketInRange(a,p,C,S,y);if(!w)break;const T=C.substring(w.startColumn-1,w.endColumn-1).toLowerCase();if(d.isOpen(T)?l++:d.isClose(T)&&l--,l===0)return w;S=w.endColumn-1}return null},b=this.textModel.getLineCount();for(let p=r.lineNumber;p<=b;p++){const C=this.textModel.tokenization.getLineTokens(p),S=C.getCount(),y=this.textModel.getLineContent(p);let w=0,T=0,N=0;p===r.lineNumber&&(w=C.findTokenIndexAtOffset(r.column-1),T=r.column-1,N=r.column-1);let R=!0;for(;w<S;w++){const B=C.getLanguageId(w)===s&&!(0,L.ignoreBracketsInToken)(C.getStandardTokenType(w));if(B)R||(T=C.getStartOffset(w)),N=C.getEndOffset(w);else if(R&&T!==N){const O=g(p,y,T,N);if(O)return O}R=B}if(R&&T!==N){const B=g(p,y,T,N);if(B)return B}}return null}findPrevBracket(d){var r;const c=this.textModel.validatePosition(d);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((r=this.bracketPairsTree.value)===null||r===void 0?void 0:r.object.getFirstBracketBefore(c))||null;let s=null,a=null,l=null;for(let f=c.lineNumber;f>=1;f--){const g=this.textModel.tokenization.getLineTokens(f),b=g.getCount(),p=this.textModel.getLineContent(f);let C=b-1,S=p.length,y=p.length;if(f===c.lineNumber){C=g.findTokenIndexAtOffset(c.column-1),S=c.column-1,y=c.column-1;const T=g.getLanguageId(C);s!==T&&(s=T,a=this.languageConfigurationService.getLanguageConfiguration(s).brackets,l=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew)}let w=!0;for(;C>=0;C--){const T=g.getLanguageId(C);if(s!==T){if(a&&l&&w&&S!==y){const R=_.BracketsUtils.findPrevBracketInRange(a.reversedRegex,f,p,S,y);if(R)return this._toFoundBracket(l,R);w=!1}s=T,a=this.languageConfigurationService.getLanguageConfiguration(s).brackets,l=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew}const N=!!a&&!(0,L.ignoreBracketsInToken)(g.getStandardTokenType(C));if(N)w?S=g.getStartOffset(C):(S=g.getStartOffset(C),y=g.getEndOffset(C));else if(l&&a&&w&&S!==y){const R=_.BracketsUtils.findPrevBracketInRange(a.reversedRegex,f,p,S,y);if(R)return this._toFoundBracket(l,R)}w=N}if(l&&a&&w&&S!==y){const T=_.BracketsUtils.findPrevBracketInRange(a.reversedRegex,f,p,S,y);if(T)return this._toFoundBracket(l,T)}}return null}findNextBracket(d){var r;const c=this.textModel.validatePosition(d);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((r=this.bracketPairsTree.value)===null||r===void 0?void 0:r.object.getFirstBracketAfter(c))||null;const s=this.textModel.getLineCount();let a=null,l=null,f=null;for(let g=c.lineNumber;g<=s;g++){const b=this.textModel.tokenization.getLineTokens(g),p=b.getCount(),C=this.textModel.getLineContent(g);let S=0,y=0,w=0;if(g===c.lineNumber){S=b.findTokenIndexAtOffset(c.column-1),y=c.column-1,w=c.column-1;const N=b.getLanguageId(S);a!==N&&(a=N,l=this.languageConfigurationService.getLanguageConfiguration(a).brackets,f=this.languageConfigurationService.getLanguageConfiguration(a).bracketsNew)}let T=!0;for(;S<p;S++){const N=b.getLanguageId(S);if(a!==N){if(f&&l&&T&&y!==w){const B=_.BracketsUtils.findNextBracketInRange(l.forwardRegex,g,C,y,w);if(B)return this._toFoundBracket(f,B);T=!1}a=N,l=this.languageConfigurationService.getLanguageConfiguration(a).brackets,f=this.languageConfigurationService.getLanguageConfiguration(a).bracketsNew}const R=!!l&&!(0,L.ignoreBracketsInToken)(b.getStandardTokenType(S));if(R)T||(y=b.getStartOffset(S)),w=b.getEndOffset(S);else if(f&&l&&T&&y!==w){const B=_.BracketsUtils.findNextBracketInRange(l.forwardRegex,g,C,y,w);if(B)return this._toFoundBracket(f,B)}T=R}if(f&&l&&T&&y!==w){const N=_.BracketsUtils.findNextBracketInRange(l.forwardRegex,g,C,y,w);if(N)return this._toFoundBracket(f,N)}}return null}findEnclosingBrackets(d,r){const c=this.textModel.validatePosition(d);if(this.canBuildAST){const y=k.Range.fromPositions(c),w=(0,v.findLast)(this.getBracketPairsInRange(k.Range.fromPositions(c,c)),T=>T.closingBracketRange!==void 0&&T.range.strictContainsRange(y));return w?[w.openingBracketRange,w.closingBracketRange]:null}const s=i(r),a=this.textModel.getLineCount(),l=new Map;let f=[];const g=(y,w)=>{if(!l.has(y)){const T=[];for(let N=0,R=w?w.brackets.length:0;N<R;N++)T[N]=0;l.set(y,T)}f=l.get(y)};let b=0;const p=(y,w,T,N,R)=>{for(;;){if(s&&++b%100==0&&!s())return n.INSTANCE;const B=_.BracketsUtils.findNextBracketInRange(y.forwardRegex,w,T,N,R);if(!B)break;const O=T.substring(B.startColumn-1,B.endColumn-1).toLowerCase(),D=y.textIsBracket[O];if(D&&(D.isOpen(O)?f[D.index]++:D.isClose(O)&&f[D.index]--,f[D.index]===-1))return this._matchFoundBracket(B,D,!1,s);N=B.endColumn-1}return null};let C=null,S=null;for(let y=c.lineNumber;y<=a;y++){const w=this.textModel.tokenization.getLineTokens(y),T=w.getCount(),N=this.textModel.getLineContent(y);let R=0,B=0,O=0;if(y===c.lineNumber){R=w.findTokenIndexAtOffset(c.column-1),B=c.column-1,O=c.column-1;const A=w.getLanguageId(R);C!==A&&(C=A,S=this.languageConfigurationService.getLanguageConfiguration(C).brackets,g(C,S))}let D=!0;for(;R<T;R++){const A=w.getLanguageId(R);if(C!==A){if(S&&D&&B!==O){const F=p(S,y,N,B,O);if(F)return t(F);D=!1}C=A,S=this.languageConfigurationService.getLanguageConfiguration(C).brackets,g(C,S)}const P=!!S&&!(0,L.ignoreBracketsInToken)(w.getStandardTokenType(R));if(P)D||(B=w.getStartOffset(R)),O=w.getEndOffset(R);else if(S&&D&&B!==O){const F=p(S,y,N,B,O);if(F)return t(F)}D=P}if(S&&D&&B!==O){const A=p(S,y,N,B,O);if(A)return t(A)}}return null}_toFoundBracket(d,r){if(!r)return null;let c=this.textModel.getValueInRange(r);c=c.toLowerCase();const s=d.getBracketInfo(c);return s?{range:r,bracketInfo:s}:null}}e.BracketPairsTextModelPart=u;function h(o,d){return{object:o,dispose:()=>d==null?void 0:d.dispose()}}function i(o){if(typeof o=="undefined")return()=>!0;{const d=Date.now();return()=>Date.now()-d<=o}}class n{constructor(){this._searchCanceledBrand=void 0}}n.INSTANCE=new n;function t(o){return o instanceof n?null:o}}),define(re[443],se([1,0,255,86,247,105,189]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixBracketsInLine=void 0;function _(u,h){const i=new I.DenseKeyProvider,n=new E.LanguageAgnosticBracketTokens(i,s=>h.getLanguageConfiguration(s)),t=new L.TextBufferTokenizer(new v([u]),n),o=(0,k.parseDocument)(t,[],void 0,!0);let d="";const r=u.getLineContent();function c(s,a){if(s.kind===2)c(s.openingBracket,a),a=(0,m.lengthAdd)(a,s.openingBracket.length),s.child&&(c(s.child,a),a=(0,m.lengthAdd)(a,s.child.length)),s.closingBracket?(c(s.closingBracket,a),a=(0,m.lengthAdd)(a,s.closingBracket.length)):d+=n.getSingleLanguageBracketTokens(s.openingBracket.languageId).findClosingTokenText(s.openingBracket.bracketIds);else if(s.kind!==3){if(s.kind===0||s.kind===1)d+=r.substring((0,m.lengthGetColumnCountIfZeroLineCount)(a),(0,m.lengthGetColumnCountIfZeroLineCount)((0,m.lengthAdd)(a,s.length)));else if(s.kind===4)for(const l of s.children)c(l,a),a=(0,m.lengthAdd)(a,l.length)}}return c(o,m.lengthZero),d}e.fixBracketsInLine=_;class v{constructor(h){this.lines=h,this.tokenization={getLineTokens:i=>this.lines[i-1]}}getLineCount(){return this.lines.length}getLineLength(h){return this.lines[h-1].getLineContent().length}}}),define(re[256],se([1,0,21,4,59,25,11,3,24,27,154]),function(U,e,E,m,k,I,L,_,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoBaseAPI=e.KeyMod=void 0;class i{static chord(o,d){return(0,k.KeyChord)(o,d)}}e.KeyMod=i,i.CtrlCmd=2048,i.Shift=1024,i.Alt=512,i.WinCtrl=256;function n(){return{editor:void 0,languages:void 0,CancellationTokenSource:E.CancellationTokenSource,Emitter:m.Emitter,KeyCode:h.KeyCode,KeyMod:i,Position:L.Position,Range:_.Range,Selection:v.Selection,SelectionDirection:h.SelectionDirection,MarkerSeverity:h.MarkerSeverity,MarkerTag:h.MarkerTag,Uri:I.URI,Token:u.Token}}e.createMonacoBaseAPI=n}),define(re[444],se([1,0,141,17,25,11,3,416,436,126,419,425,256,19,56,253]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.EditorSimpleWorker=e.MirrorModel=void 0;class r extends v.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(l){return this._lines[l-1]}getWordAtPosition(l,f){const g=(0,u.getWordAtText)(l.column,(0,u.ensureValidWordDefinition)(f),this._lines[l.lineNumber-1],0);return g?new L.Range(l.lineNumber,g.startColumn,l.lineNumber,g.endColumn):null}words(l){const f=this._lines,g=this._wordenize.bind(this);let b=0,p="",C=0,S=[];return{*[Symbol.iterator](){for(;;)if(C<S.length){const y=p.substring(S[C].start,S[C].end);C+=1,yield y}else if(b<f.length)p=f[b],S=g(p,l),C=0,b+=1;else break}}}getLineWords(l,f){const g=this._lines[l-1],b=this._wordenize(g,f),p=[];for(const C of b)p.push({word:g.substring(C.start,C.end),startColumn:C.start+1,endColumn:C.end+1});return p}_wordenize(l,f){const g=[];let b;for(f.lastIndex=0;(b=f.exec(l))&&b[0].length!==0;)g.push({start:b.index,end:b.index+b[0].length});return g}getValueInRange(l){if(l=this._validateRange(l),l.startLineNumber===l.endLineNumber)return this._lines[l.startLineNumber-1].substring(l.startColumn-1,l.endColumn-1);const f=this._eol,g=l.startLineNumber-1,b=l.endLineNumber-1,p=[];p.push(this._lines[g].substring(l.startColumn-1));for(let C=g+1;C<b;C++)p.push(this._lines[C]);return p.push(this._lines[b].substring(0,l.endColumn-1)),p.join(f)}offsetAt(l){return l=this._validatePosition(l),this._ensureLineStarts(),this._lineStarts.getPrefixSum(l.lineNumber-2)+(l.column-1)}positionAt(l){l=Math.floor(l),l=Math.max(0,l),this._ensureLineStarts();const f=this._lineStarts.getIndexOf(l),g=this._lines[f.index].length;return{lineNumber:1+f.index,column:1+Math.min(f.remainder,g)}}_validateRange(l){const f=this._validatePosition({lineNumber:l.startLineNumber,column:l.startColumn}),g=this._validatePosition({lineNumber:l.endLineNumber,column:l.endColumn});return f.lineNumber!==l.startLineNumber||f.column!==l.startColumn||g.lineNumber!==l.endLineNumber||g.column!==l.endColumn?{startLineNumber:f.lineNumber,startColumn:f.column,endLineNumber:g.lineNumber,endColumn:g.column}:l}_validatePosition(l){if(!I.Position.isIPosition(l))throw new Error("bad position");let{lineNumber:f,column:g}=l,b=!1;if(f<1)f=1,g=1,b=!0;else if(f>this._lines.length)f=this._lines.length,g=this._lines[f-1].length+1,b=!0;else{const p=this._lines[f-1].length+1;g<1?(g=1,b=!0):g>p&&(g=p,b=!0)}return b?{lineNumber:f,column:g}:l}}e.MirrorModel=r;class c{constructor(l,f){this._host=l,this._models=Object.create(null),this._foreignModuleFactory=f,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(l){return this._models[l]}_getModels(){const l=[];return Object.keys(this._models).forEach(f=>l.push(this._models[f])),l}acceptNewModel(l){this._models[l.url]=new r(k.URI.parse(l.url),l.lines,l.EOL,l.versionId)}acceptModelChanged(l,f){if(!this._models[l])return;this._models[l].onEvents(f)}acceptRemovedModel(l){!this._models[l]||delete this._models[l]}computeUnicodeHighlights(l,f,g){return Le(this,void 0,void 0,function*(){const b=this._getModel(l);return b?d.UnicodeTextModelHighlighter.computeUnicodeHighlights(b,f,g):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(l,f,g,b){return Le(this,void 0,void 0,function*(){const p=this._getModel(l),C=this._getModel(f);if(!p||!C)return null;const S=p.getLinesContent(),y=C.getLinesContent(),T=new _.DiffComputer(S,y,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:g,shouldMakePrettyDiff:!0,maxComputationTime:b}).computeDiff(),N=T.changes.length>0?!1:this._modelsAreIdentical(p,C);return{quitEarly:T.quitEarly,identical:N,changes:T.changes}})}_modelsAreIdentical(l,f){const g=l.getLineCount(),b=f.getLineCount();if(g!==b)return!1;for(let p=1;p<=g;p++){const C=l.getLineContent(p),S=f.getLineContent(p);if(C!==S)return!1}return!0}computeMoreMinimalEdits(l,f){return Le(this,void 0,void 0,function*(){const g=this._getModel(l);if(!g)return f;const b=[];let p;f=f.slice(0).sort((C,S)=>{if(C.range&&S.range)return L.Range.compareRangesUsingStarts(C.range,S.range);const y=C.range?0:1,w=S.range?0:1;return y-w});for(let{range:C,text:S,eol:y}of f){if(typeof y=="number"&&(p=y),L.Range.isEmpty(C)&&!S)continue;const w=g.getValueInRange(C);if(S=S.replace(/\r\n|\n|\r/g,g.eol),w===S)continue;if(Math.max(S.length,w.length)>c._diffLimit){b.push({range:C,text:S});continue}const T=(0,E.stringDiff)(w,S,!1),N=g.offsetAt(L.Range.lift(C).getStartPosition());for(const R of T){const B=g.positionAt(N+R.originalStart),O=g.positionAt(N+R.originalStart+R.originalLength),D={text:S.substr(R.modifiedStart,R.modifiedLength),range:{startLineNumber:B.lineNumber,startColumn:B.column,endLineNumber:O.lineNumber,endColumn:O.column}};g.getValueInRange(D.range)!==D.text&&b.push(D)}}return typeof p=="number"&&b.push({eol:p,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),b})}computeLinks(l){return Le(this,void 0,void 0,function*(){const f=this._getModel(l);return f?(0,h.computeLinks)(f):null})}textualSuggest(l,f,g,b){return Le(this,void 0,void 0,function*(){const p=new o.StopWatch(!0),C=new RegExp(g,b),S=new Set;e:for(let y of l){const w=this._getModel(y);if(!!w){for(let T of w.words(C))if(!(T===f||!isNaN(Number(T)))&&(S.add(T),S.size>c._suggestionsLimit))break e}}return{words:Array.from(S),duration:p.elapsed()}})}computeWordRanges(l,f,g,b){return Le(this,void 0,void 0,function*(){const p=this._getModel(l);if(!p)return Object.create(null);const C=new RegExp(g,b),S=Object.create(null);for(let y=f.startLineNumber;y<f.endLineNumber;y++){const w=p.getLineWords(y,C);for(const T of w){if(!isNaN(Number(T.word)))continue;let N=S[T.word];N||(N=[],S[T.word]=N),N.push({startLineNumber:y,startColumn:T.startColumn,endLineNumber:y,endColumn:T.endColumn})}}return S})}navigateValueSet(l,f,g,b,p){return Le(this,void 0,void 0,function*(){const C=this._getModel(l);if(!C)return null;const S=new RegExp(b,p);f.startColumn===f.endColumn&&(f={startLineNumber:f.startLineNumber,startColumn:f.startColumn,endLineNumber:f.endLineNumber,endColumn:f.endColumn+1});const y=C.getValueInRange(f),w=C.getWordAtPosition({lineNumber:f.startLineNumber,column:f.startColumn},S);if(!w)return null;const T=C.getValueInRange(w);return i.BasicInplaceReplace.INSTANCE.navigateValueSet(f,y,w,T,g)})}loadForeignModule(l,f,g){const b=(S,y)=>this._host.fhr(S,y),C={host:t.createProxyObject(g,b),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(C,f),Promise.resolve(t.getAllMethodNames(this._foreignModule))):new Promise((S,y)=>{U([l],w=>{this._foreignModule=w.create(C,f),S(t.getAllMethodNames(this._foreignModule))},y)})}fmr(l,f){if(!this._foreignModule||typeof this._foreignModule[l]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+l));try{return Promise.resolve(this._foreignModule[l].apply(this._foreignModule,f))}catch(g){return Promise.reject(g)}}}e.EditorSimpleWorker=c,c._diffLimit=1e5,c._suggestionsLimit=1e4;function s(a){return new c(a,null)}e.create=s,typeof importScripts=="function"&&(m.globals.monaco=(0,n.createMonacoBaseAPI)())}),define(re[445],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokens=void 0;class E{constructor(k,I){this._startLineNumber=k,this._tokens=I}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(k){return this._tokens[k-this._startLineNumber]}appendLineTokens(k){this._tokens.push(k)}}e.ContiguousMultilineTokens=E}),define(re[446],se([1,0,445]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokensBuilder=void 0;class m{constructor(){this._tokens=[]}add(I,L){if(this._tokens.length>0){const _=this._tokens[this._tokens.length-1];if(_.endLineNumber+1===I){_.appendLineTokens(L);return}}this._tokens.push(new E.ContiguousMultilineTokens(I,[L]))}finalize(){return this._tokens}}e.ContiguousMultilineTokensBuilder=m}),define(re[79],se([1,0,27]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineTokens=void 0;class m{constructor(L,_,v){this._lineTokensBrand=void 0,this._tokens=L,this._tokensCount=this._tokens.length>>>1,this._text=_,this._languageIdCodec=v}static createEmpty(L,_){const v=m.defaultTokenMetadata,u=new Uint32Array(2);return u[0]=L.length,u[1]=v,new m(u,L,_)}equals(L){return L instanceof m?this.slicedEquals(L,0,this._tokensCount):!1}slicedEquals(L,_,v){if(this._text!==L._text||this._tokensCount!==L._tokensCount)return!1;const u=_<<1,h=u+(v<<1);for(let i=u;i<h;i++)if(this._tokens[i]!==L._tokens[i])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(L){return L>0?this._tokens[L-1<<1]:0}getMetadata(L){return this._tokens[(L<<1)+1]}getLanguageId(L){const _=this._tokens[(L<<1)+1],v=E.TokenMetadata.getLanguageId(_);return this._languageIdCodec.decodeLanguageId(v)}getStandardTokenType(L){const _=this._tokens[(L<<1)+1];return E.TokenMetadata.getTokenType(_)}getForeground(L){const _=this._tokens[(L<<1)+1];return E.TokenMetadata.getForeground(_)}getClassName(L){const _=this._tokens[(L<<1)+1];return E.TokenMetadata.getClassNameFromMetadata(_)}getInlineStyle(L,_){const v=this._tokens[(L<<1)+1];return E.TokenMetadata.getInlineStyleFromMetadata(v,_)}getPresentation(L){const _=this._tokens[(L<<1)+1];return E.TokenMetadata.getPresentationFromMetadata(_)}getEndOffset(L){return this._tokens[L<<1]}findTokenIndexAtOffset(L){return m.findIndexInTokensArray(this._tokens,L)}inflate(){return this}sliceAndInflate(L,_,v){return new k(this,L,_,v)}static convertToEndOffset(L,_){const u=(L.length>>>1)-1;for(let h=0;h<u;h++)L[h<<1]=L[h+1<<1];L[u<<1]=_}static findIndexInTokensArray(L,_){if(L.length<=2)return 0;let v=0,u=(L.length>>>1)-1;for(;v<u;){const h=v+Math.floor((u-v)/2),i=L[h<<1];if(i===_)return h+1;i<_?v=h+1:i>_&&(u=h)}return v}withInserted(L){if(L.length===0)return this;let _=0,v=0,u="";const h=new Array;let i=0;for(;;){const n=_<this._tokensCount?this._tokens[_<<1]:-1,t=v<L.length?L[v]:null;if(n!==-1&&(t===null||n<=t.offset)){u+=this._text.substring(i,n);const o=this._tokens[(_<<1)+1];h.push(u.length,o),_++,i=n}else if(t){if(t.offset>i){u+=this._text.substring(i,t.offset);const o=this._tokens[(_<<1)+1];h.push(u.length,o),i=t.offset}u+=t.text,h.push(u.length,t.tokenMetadata),v++}else break}return new m(new Uint32Array(h),u,this._languageIdCodec)}}e.LineTokens=m,m.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0;class k{constructor(L,_,v,u){this._source=L,this._startOffset=_,this._endOffset=v,this._deltaOffset=u,this._firstTokenIndex=L.findTokenIndexAtOffset(_),this._tokensCount=0;for(let h=this._firstTokenIndex,i=L.getCount();h<i&&!(L.getStartOffset(h)>=v);h++)this._tokensCount++}getMetadata(L){return this._source.getMetadata(this._firstTokenIndex+L)}getLanguageId(L){return this._source.getLanguageId(this._firstTokenIndex+L)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(L){return L instanceof k?this._startOffset===L._startOffset&&this._endOffset===L._endOffset&&this._deltaOffset===L._deltaOffset&&this._source.slicedEquals(L._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(L){return this._source.getForeground(this._firstTokenIndex+L)}getEndOffset(L){const _=this._source.getEndOffset(this._firstTokenIndex+L);return Math.min(this._endOffset,_)-this._startOffset+this._deltaOffset}getClassName(L){return this._source.getClassName(this._firstTokenIndex+L)}getInlineStyle(L,_){return this._source.getInlineStyle(this._firstTokenIndex+L,_)}getPresentation(L){return this._source.getPresentation(this._firstTokenIndex+L)}findTokenIndexAtOffset(L){return this._source.findTokenIndexAtOffset(L+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}}),define(re[257],se([1,0,8,79,27,127]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._tokenizeToString=e.tokenizeLineToHTML=e.tokenizeToString=void 0;const L={getInitialState:()=>I.NullState,tokenizeEncoded:(h,i,n)=>(0,I.nullTokenizeEncoded)(0,n)};function _(h,i,n){return Le(this,void 0,void 0,function*(){if(!n)return u(i,h.languageIdCodec,L);const t=yield k.TokenizationRegistry.getOrCreate(n);return u(i,h.languageIdCodec,t||L)})}e.tokenizeToString=_;function v(h,i,n,t,o,d,r){let c="<div>",s=t,a=0,l=!0;for(let f=0,g=i.getCount();f<g;f++){const b=i.getEndOffset(f);if(b<=t)continue;let p="";for(;s<b&&s<o;s++){const C=h.charCodeAt(s);switch(C){case 9:{let S=d-(s+a)%d;for(a+=S-1;S>0;)r&&l?(p+="&#160;",l=!1):(p+=" ",l=!0),S--;break}case 60:p+="&lt;",l=!1;break;case 62:p+="&gt;",l=!1;break;case 38:p+="&amp;",l=!1;break;case 0:p+="&#00;",l=!1;break;case 65279:case 8232:case 8233:case 133:p+="\uFFFD",l=!1;break;case 13:p+="&#8203",l=!1;break;case 32:r&&l?(p+="&#160;",l=!1):(p+=" ",l=!0);break;default:p+=String.fromCharCode(C),l=!1}}if(c+=`<span style="${i.getInlineStyle(f,n)}">${p}</span>`,b>o||s>=o)break}return c+="</div>",c}e.tokenizeLineToHTML=v;function u(h,i,n){let t='<div class="monaco-tokenized-source">';const o=E.splitLines(h);let d=n.getInitialState();for(let r=0,c=o.length;r<c;r++){const s=o[r];r>0&&(t+="<br/>");const a=n.tokenizeEncoded(s,!0,d);m.LineTokens.convertToEndOffset(a.tokens,s.length);const f=new m.LineTokens(a.tokens,s,i).inflate();let g=0;for(let b=0,p=f.getCount();b<p;b++){const C=f.getClassName(b),S=f.getEndOffset(b);t+=`<span class="${C}">${E.escape(s.substring(g,S))}</span>`,g=S}d=a.endState}return t+="</div>",t}e._tokenizeToString=u}),define(re[447],se([1,0,18,13,79,27,127,2,56,124,446,10,17]),function(U,e,E,m,k,I,L,_,v,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelTokenization=e.TokenizationStateStore=void 0;class t{constructor(a){this._default=a,this._store=[]}get(a){return a<this._store.length?this._store[a]:this._default}set(a,l){for(;a>=this._store.length;)this._store[this._store.length]=this._default;this._store[a]=l}delete(a,l){l===0||a>=this._store.length||this._store.splice(a,l)}insert(a,l){if(l===0||a>=this._store.length)return;const f=[];for(let g=0;g<l;g++)f[g]=this._default;this._store=E.arrayInsert(this._store,a,f)}}class o{constructor(a,l){this.tokenizationSupport=a,this.initialState=l,this._lineBeginState=new t(null),this._lineNeedsTokenization=new t(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(a){this._lineNeedsTokenization.set(a,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,a)}getBeginState(a){return this._lineBeginState.get(a)}setEndState(a,l,f){if(this._lineNeedsTokenization.set(l,!1),this._firstLineNeedsTokenization=l+1,l===a-1)return;const g=this._lineBeginState.get(l+1);if(g===null||!f.equals(g)){this._lineBeginState.set(l+1,f),this.markMustBeTokenized(l+1);return}let b=l+1;for(;b<a&&!this._lineNeedsTokenization.get(b);)b++;this._firstLineNeedsTokenization=b}applyEdits(a,l){this.markMustBeTokenized(a.startLineNumber-1),this._lineBeginState.delete(a.startLineNumber,a.endLineNumber-a.startLineNumber),this._lineNeedsTokenization.delete(a.startLineNumber,a.endLineNumber-a.startLineNumber),this._lineBeginState.insert(a.startLineNumber,l),this._lineNeedsTokenization.insert(a.startLineNumber,l)}}e.TokenizationStateStore=o;class d extends _.Disposable{constructor(a,l,f){super();this._textModel=a,this._tokenizationPart=l,this._languageIdCodec=f,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(I.TokenizationRegistry.onDidChange(g=>{const b=this._textModel.getLanguageId();g.changedLanguages.indexOf(b)!==-1&&(this._resetTokenizationState(),this._tokenizationPart.clearTokens())})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(a){if(a.isFlush){this._resetTokenizationState();return}if(this._tokenizationStateStore)for(let l=0,f=a.changes.length;l<f;l++){const g=a.changes[l],[b]=(0,u.countEOL)(g.text);this._tokenizationStateStore.applyEdits(g.range,b)}this._beginBackgroundTokenization()}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(a){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}_resetTokenizationState(){const[a,l]=r(this._textModel,this._tokenizationPart);a&&l?this._tokenizationStateStore=new o(a,l):this._tokenizationStateStore=null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,i.runWhenIdle)(a=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(a)}))}_backgroundTokenizeWithDeadline(a){const l=Date.now()+a.timeRemaining(),f=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<l?(0,n.setTimeout0)(f):this._beginBackgroundTokenization())};f()}_backgroundTokenizeForAtLeast1ms(){const a=this._textModel.getLineCount(),l=new h.ContiguousMultilineTokensBuilder,f=v.StopWatch.create(!1);do if(f.elapsed()>1||this._tokenizeOneInvalidLine(l)>=a)break;while(this._hasLinesToTokenize());this._tokenizationPart.setTokens(l.finalize(),this._isTokenizationComplete())}tokenizeViewport(a,l){const f=new h.ContiguousMultilineTokensBuilder;this._tokenizeViewport(f,a,l),this._tokenizationPart.setTokens(f.finalize(),this._isTokenizationComplete())}reset(){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}forceTokenization(a){const l=new h.ContiguousMultilineTokensBuilder;this._updateTokensUntilLine(l,a),this._tokenizationPart.setTokens(l.finalize(),this._isTokenizationComplete())}getTokenTypeIfInsertingCharacter(a,l){if(!this._tokenizationStateStore)return 0;this.forceTokenization(a.lineNumber);const f=this._tokenizationStateStore.getBeginState(a.lineNumber-1);if(!f)return 0;const g=this._textModel.getLanguageId(),b=this._textModel.getLineContent(a.lineNumber),p=b.substring(0,a.column-1)+l+b.substring(a.column-1),C=c(this._languageIdCodec,g,this._tokenizationStateStore.tokenizationSupport,p,!0,f),S=new k.LineTokens(C.tokens,p,this._languageIdCodec);if(S.getCount()===0)return 0;const y=S.findTokenIndexAtOffset(a.column-1);return S.getStandardTokenType(y)}tokenizeLineWithEdit(a,l,f){const g=a.lineNumber,b=a.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(g);const p=this._tokenizationStateStore.getBeginState(g-1);if(!p)return null;const C=this._textModel.getLineContent(g),S=C.substring(0,b-1)+f+C.substring(b-1+l),y=this._textModel.getLanguageIdAtPosition(g,0),w=c(this._languageIdCodec,y,this._tokenizationStateStore.tokenizationSupport,S,!0,p);return new k.LineTokens(w.tokens,S,this._languageIdCodec)}isCheapToTokenize(a){if(!this._tokenizationStateStore)return!0;const l=this._tokenizationStateStore.invalidLineStartIndex+1;return a>l?!1:a<l||this._textModel.getLineLength(a)<2048}_hasLinesToTokenize(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_isTokenizationComplete(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex>=this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(a){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const l=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(a,l),l}_updateTokensUntilLine(a,l){if(!this._tokenizationStateStore)return;const f=this._textModel.getLanguageId(),g=this._textModel.getLineCount(),b=l-1;for(let p=this._tokenizationStateStore.invalidLineStartIndex;p<=b;p++){const C=this._textModel.getLineContent(p+1),S=this._tokenizationStateStore.getBeginState(p),y=c(this._languageIdCodec,f,this._tokenizationStateStore.tokenizationSupport,C,!0,S);a.add(p+1,y.tokens),this._tokenizationStateStore.setEndState(g,p,y.endState),p=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(a,l,f){if(!this._tokenizationStateStore||f<=this._tokenizationStateStore.invalidLineStartIndex)return;if(l<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(a,f);return}let g=this._textModel.getLineFirstNonWhitespaceColumn(l);const b=[];let p=null;for(let y=l-1;g>1&&y>=1;y--){const w=this._textModel.getLineFirstNonWhitespaceColumn(y);if(w!==0&&w<g){if(p=this._tokenizationStateStore.getBeginState(y-1),p)break;b.push(this._textModel.getLineContent(y)),g=w}}p||(p=this._tokenizationStateStore.initialState);const C=this._textModel.getLanguageId();let S=p;for(let y=b.length-1;y>=0;y--)S=c(this._languageIdCodec,C,this._tokenizationStateStore.tokenizationSupport,b[y],!1,S).endState;for(let y=l;y<=f;y++){const w=this._textModel.getLineContent(y),T=c(this._languageIdCodec,C,this._tokenizationStateStore.tokenizationSupport,w,!0,S);a.add(y,T.tokens),this._tokenizationStateStore.markMustBeTokenized(y-1),S=T.endState}}}e.TextModelTokenization=d;function r(s,a){if(s.isTooLargeForTokenization())return[null,null];const l=I.TokenizationRegistry.get(a.getLanguageId());if(!l)return[null,null];let f;try{f=l.getInitialState()}catch(g){return(0,m.onUnexpectedError)(g),[null,null]}return[l,f]}function c(s,a,l,f,g,b){let p=null;if(l)try{p=l.tokenizeEncoded(f,g,b.clone())}catch(C){(0,m.onUnexpectedError)(C)}return p||(p=(0,L.nullTokenizeEncoded)(s.encodeLanguageId(a),b)),k.LineTokens.convertToEndOffset(p.tokens,f.length),p}}),define(re[448],se([1,0,79]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint32Array=e.ContiguousTokensEditing=e.EMPTY_LINE_TOKENS=void 0,e.EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class m{static deleteBeginning(L,_){return L===null||L===e.EMPTY_LINE_TOKENS?L:m.delete(L,0,_)}static deleteEnding(L,_){if(L===null||L===e.EMPTY_LINE_TOKENS)return L;const v=k(L),u=v[v.length-2];return m.delete(L,_,u)}static delete(L,_,v){if(L===null||L===e.EMPTY_LINE_TOKENS||_===v)return L;const u=k(L),h=u.length>>>1;if(_===0&&u[u.length-2]===v)return e.EMPTY_LINE_TOKENS;const i=E.LineTokens.findIndexInTokensArray(u,_),n=i>0?u[i-1<<1]:0,t=u[i<<1];if(v<t){const s=v-_;for(let a=i;a<h;a++)u[a<<1]-=s;return L}let o,d;n!==_?(u[i<<1]=_,o=i+1<<1,d=_):(o=i<<1,d=n);const r=v-_;for(let s=i+1;s<h;s++){const a=u[s<<1]-r;a>d&&(u[o++]=a,u[o++]=u[(s<<1)+1],d=a)}if(o===u.length)return L;const c=new Uint32Array(o);return c.set(u.subarray(0,o),0),c.buffer}static append(L,_){if(_===e.EMPTY_LINE_TOKENS)return L;if(L===e.EMPTY_LINE_TOKENS)return _;if(L===null)return L;if(_===null)return null;const v=k(L),u=k(_),h=u.length>>>1,i=new Uint32Array(v.length+u.length);i.set(v,0);let n=v.length;const t=v[v.length-2];for(let o=0;o<h;o++)i[n++]=u[o<<1]+t,i[n++]=u[(o<<1)+1];return i.buffer}static insert(L,_,v){if(L===null||L===e.EMPTY_LINE_TOKENS)return L;const u=k(L),h=u.length>>>1;let i=E.LineTokens.findIndexInTokensArray(u,_);i>0&&u[i-1<<1]===_&&i--;for(let n=i;n<h;n++)u[n<<1]+=v;return L}}e.ContiguousTokensEditing=m;function k(I){return I instanceof Uint32Array?I:new Uint32Array(I)}e.toUint32Array=k}),define(re[449],se([1,0,18,11,448,79,27]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensStore=void 0;class _{constructor(h){this._lineTokens=[],this._len=0,this._languageIdCodec=h}flush(){this._lineTokens=[],this._len=0}getTokens(h,i,n){let t=null;if(i<this._len&&(t=this._lineTokens[i]),t!==null&&t!==k.EMPTY_LINE_TOKENS)return new I.LineTokens((0,k.toUint32Array)(t),n,this._languageIdCodec);const o=new Uint32Array(2);return o[0]=n.length,o[1]=v(this._languageIdCodec.encodeLanguageId(h)),new I.LineTokens(o,n,this._languageIdCodec)}static _massageTokens(h,i,n){const t=n?(0,k.toUint32Array)(n):null;if(i===0){let o=!1;if(t&&t.length>1&&(o=L.TokenMetadata.getLanguageId(t[1])!==h),!o)return k.EMPTY_LINE_TOKENS}if(!t||t.length===0){const o=new Uint32Array(2);return o[0]=i,o[1]=v(h),o.buffer}return t[t.length-2]=i,t.byteOffset===0&&t.byteLength===t.buffer.byteLength?t.buffer:t}_ensureLine(h){for(;h>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(h,i){i!==0&&(h+i>this._len&&(i=this._len-h),this._lineTokens.splice(h,i),this._len-=i)}_insertLines(h,i){if(i===0)return;const n=[];for(let t=0;t<i;t++)n[t]=null;this._lineTokens=E.arrayInsert(this._lineTokens,h,n),this._len+=i}setTokens(h,i,n,t,o){const d=_._massageTokens(this._languageIdCodec.encodeLanguageId(h),n,t);this._ensureLine(i);const r=this._lineTokens[i];return this._lineTokens[i]=d,o?!_._equals(r,d):!1}static _equals(h,i){if(!h||!i)return!h&&!i;const n=(0,k.toUint32Array)(h),t=(0,k.toUint32Array)(i);if(n.length!==t.length)return!1;for(let o=0,d=n.length;o<d;o++)if(n[o]!==t[o])return!1;return!0}acceptEdit(h,i,n){this._acceptDeleteRange(h),this._acceptInsertText(new m.Position(h.startLineNumber,h.startColumn),i,n)}_acceptDeleteRange(h){const i=h.startLineNumber-1;if(i>=this._len)return;if(h.startLineNumber===h.endLineNumber){if(h.startColumn===h.endColumn)return;this._lineTokens[i]=k.ContiguousTokensEditing.delete(this._lineTokens[i],h.startColumn-1,h.endColumn-1);return}this._lineTokens[i]=k.ContiguousTokensEditing.deleteEnding(this._lineTokens[i],h.startColumn-1);const n=h.endLineNumber-1;let t=null;n<this._len&&(t=k.ContiguousTokensEditing.deleteBeginning(this._lineTokens[n],h.endColumn-1)),this._lineTokens[i]=k.ContiguousTokensEditing.append(this._lineTokens[i],t),this._deleteLines(h.startLineNumber,h.endLineNumber-h.startLineNumber)}_acceptInsertText(h,i,n){if(i===0&&n===0)return;const t=h.lineNumber-1;if(!(t>=this._len)){if(i===0){this._lineTokens[t]=k.ContiguousTokensEditing.insert(this._lineTokens[t],h.column-1,n);return}this._lineTokens[t]=k.ContiguousTokensEditing.deleteEnding(this._lineTokens[t],h.column-1),this._lineTokens[t]=k.ContiguousTokensEditing.insert(this._lineTokens[t],h.column-1,n),this._insertLines(h.lineNumber,i)}}}e.ContiguousTokensStore=_;function v(u){return(u<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}}),define(re[450],se([1,0,11,3,124]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseLineTokens=e.SparseMultilineTokens=void 0;class I{constructor(u,h){this._startLineNumber=u,this._tokens=h,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(u,h){return new I(u,new L(h))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(u){return this._startLineNumber<=u&&u<=this._endLineNumber?this._tokens.getLineTokens(u-this._startLineNumber):null}getRange(){const u=this._tokens.getRange();return u&&new m.Range(this._startLineNumber+u.startLineNumber,u.startColumn,this._startLineNumber+u.endLineNumber,u.endColumn)}removeTokens(u){const h=u.startLineNumber-this._startLineNumber,i=u.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(h,u.startColumn-1,i,u.endColumn-1),this._updateEndLineNumber()}split(u){const h=u.startLineNumber-this._startLineNumber,i=u.endLineNumber-this._startLineNumber,[n,t,o]=this._tokens.split(h,u.startColumn-1,i,u.endColumn-1);return[new I(this._startLineNumber,n),new I(this._startLineNumber+o,t)]}applyEdit(u,h){const[i,n,t]=(0,k.countEOL)(h);this.acceptEdit(u,i,n,t,h.length>0?h.charCodeAt(0):0)}acceptEdit(u,h,i,n,t){this._acceptDeleteRange(u),this._acceptInsertText(new E.Position(u.startLineNumber,u.startColumn),h,i,n,t),this._updateEndLineNumber()}_acceptDeleteRange(u){if(u.startLineNumber===u.endLineNumber&&u.startColumn===u.endColumn)return;const h=u.startLineNumber-this._startLineNumber,i=u.endLineNumber-this._startLineNumber;if(i<0){const t=i-h;this._startLineNumber-=t;return}const n=this._tokens.getMaxDeltaLine();if(!(h>=n+1)){if(h<0&&i>=n+1){this._startLineNumber=0,this._tokens.clear();return}if(h<0){const t=-h;this._startLineNumber-=t,this._tokens.acceptDeleteRange(u.startColumn-1,0,0,i,u.endColumn-1)}else this._tokens.acceptDeleteRange(0,h,u.startColumn-1,i,u.endColumn-1)}}_acceptInsertText(u,h,i,n,t){if(h===0&&i===0)return;const o=u.lineNumber-this._startLineNumber;if(o<0){this._startLineNumber+=h;return}const d=this._tokens.getMaxDeltaLine();o>=d+1||this._tokens.acceptInsertText(o,u.column-1,h,i,n,t)}}e.SparseMultilineTokens=I;class L{constructor(u){this._tokens=u,this._tokenCount=u.length/4}toString(u){const h=[];for(let i=0;i<this._tokenCount;i++)h.push(`(${this._getDeltaLine(i)+u},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${h.join(",")}]`}getMaxDeltaLine(){const u=this._getTokenCount();return u===0?-1:this._getDeltaLine(u-1)}getRange(){const u=this._getTokenCount();if(u===0)return null;const h=this._getStartCharacter(0),i=this._getDeltaLine(u-1),n=this._getEndCharacter(u-1);return new m.Range(0,h+1,i,n+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(u){return this._tokens[4*u]}_getStartCharacter(u){return this._tokens[4*u+1]}_getEndCharacter(u){return this._tokens[4*u+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(u){let h=0,i=this._getTokenCount()-1;for(;h<i;){const n=h+Math.floor((i-h)/2),t=this._getDeltaLine(n);if(t<u)h=n+1;else if(t>u)i=n-1;else{let o=n;for(;o>h&&this._getDeltaLine(o-1)===u;)o--;let d=n;for(;d<i&&this._getDeltaLine(d+1)===u;)d++;return new _(this._tokens.subarray(4*o,4*d+4))}}return this._getDeltaLine(h)===u?new _(this._tokens.subarray(4*h,4*h+4)):null}clear(){this._tokenCount=0}removeTokens(u,h,i,n){const t=this._tokens,o=this._tokenCount;let d=0,r=!1,c=0;for(let s=0;s<o;s++){const a=4*s,l=t[a],f=t[a+1],g=t[a+2],b=t[a+3];if((l>u||l===u&&g>=h)&&(l<i||l===i&&f<=n))r=!0;else{if(d===0&&(c=l),r){const p=4*d;t[p]=l-c,t[p+1]=f,t[p+2]=g,t[p+3]=b}d++}}return this._tokenCount=d,c}split(u,h,i,n){const t=this._tokens,o=this._tokenCount,d=[],r=[];let c=d,s=0,a=0;for(let l=0;l<o;l++){const f=4*l,g=t[f],b=t[f+1],p=t[f+2],C=t[f+3];if(g>u||g===u&&p>=h){if(g<i||g===i&&b<=n)continue;c!==r&&(c=r,s=0,a=g)}c[s++]=g-a,c[s++]=b,c[s++]=p,c[s++]=C}return[new L(new Uint32Array(d)),new L(new Uint32Array(r)),a]}acceptDeleteRange(u,h,i,n,t){const o=this._tokens,d=this._tokenCount,r=n-h;let c=0,s=!1;for(let a=0;a<d;a++){const l=4*a;let f=o[l],g=o[l+1],b=o[l+2];const p=o[l+3];if(f<h||f===h&&b<=i){c++;continue}else if(f===h&&g<i)f===n&&b>t?b-=t-i:b=i;else if(f===h&&g===i)if(f===n&&b>t)b-=t-i;else{s=!0;continue}else if(f<n||f===n&&g<t)if(f===n&&b>t)f===h?(g=i,b=g+(b-t)):(g=0,b=g+(b-t));else{s=!0;continue}else if(f>n){if(r===0&&!s){c=d;break}f-=r}else if(f===n&&g>=t)u&&f===0&&(g+=u,b+=u),f-=r,g-=t-i,b-=t-i;else throw new Error("Not possible!");const C=4*c;o[C]=f,o[C+1]=g,o[C+2]=b,o[C+3]=p,c++}this._tokenCount=c}acceptInsertText(u,h,i,n,t,o){const d=i===0&&n===1&&(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122),r=this._tokens,c=this._tokenCount;for(let s=0;s<c;s++){const a=4*s;let l=r[a],f=r[a+1],g=r[a+2];if(!(l<u||l===u&&g<h)){if(l===u&&g===h)if(d)g+=1;else continue;else if(l===u&&f<h&&h<g)i===0?g+=n:g=h;else{if(l===u&&f===h&&d)continue;if(l===u)if(l+=i,i===0)f+=n,g+=n;else{const b=g-f;f=t+(f-h),g=f+b}else l+=i}r[a]=l,r[a+1]=f,r[a+2]=g}}}}class _{constructor(u){this._tokens=u}getCount(){return this._tokens.length/4}getStartCharacter(u){return this._tokens[4*u+1]}getEndCharacter(u){return this._tokens[4*u+2]}getMetadata(u){return this._tokens[4*u+3]}}e.SparseLineTokens=_}),define(re[451],se([1,0,18,79]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseTokensStore=void 0;class k{constructor(L){this._pieces=[],this._isComplete=!1,this._languageIdCodec=L}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(L,_){this._pieces=L||[],this._isComplete=_}setPartial(L,_){let v=L;if(_.length>0){const h=_[0].getRange(),i=_[_.length-1].getRange();if(!h||!i)return L;v=L.plusRange(h).plusRange(i)}let u=null;for(let h=0,i=this._pieces.length;h<i;h++){const n=this._pieces[h];if(n.endLineNumber<v.startLineNumber)continue;if(n.startLineNumber>v.endLineNumber){u=u||{index:h};break}if(n.removeTokens(v),n.isEmpty()){this._pieces.splice(h,1),h--,i--;continue}if(n.endLineNumber<v.startLineNumber)continue;if(n.startLineNumber>v.endLineNumber){u=u||{index:h};continue}const[t,o]=n.split(v);if(t.isEmpty()){u=u||{index:h};continue}o.isEmpty()||(this._pieces.splice(h,1,t,o),h++,i++,u=u||{index:h})}return u=u||{index:this._pieces.length},_.length>0&&(this._pieces=E.arrayInsert(this._pieces,u.index,_)),v}isComplete(){return this._isComplete}addSparseTokens(L,_){const v=this._pieces;if(v.length===0)return _;const u=k._findFirstPieceWithLine(v,L),h=v[u].getLineTokens(L);if(!h)return _;const i=_.getCount(),n=h.getCount();let t=0;const o=[];let d=0,r=0;const c=(s,a)=>{s!==r&&(r=s,o[d++]=s,o[d++]=a)};for(let s=0;s<n;s++){const a=h.getStartCharacter(s),l=h.getEndCharacter(s),f=h.getMetadata(s),g=((f&1?2048:0)|(f&2?4096:0)|(f&4?8192:0)|(f&8?16384:0)|(f&16?16744448:0)|(f&32?4278190080:0))>>>0,b=~g>>>0;for(;t<i&&_.getEndOffset(t)<=a;)c(_.getEndOffset(t),_.getMetadata(t)),t++;for(t<i&&_.getStartOffset(t)<a&&c(a,_.getMetadata(t));t<i&&_.getEndOffset(t)<l;)c(_.getEndOffset(t),_.getMetadata(t)&b|f&g),t++;if(t<i)c(l,_.getMetadata(t)&b|f&g),_.getEndOffset(t)===l&&t++;else{const p=Math.min(Math.max(0,t-1),i-1);c(l,_.getMetadata(p)&b|f&g)}}for(;t<i;)c(_.getEndOffset(t),_.getMetadata(t)),t++;return new m.LineTokens(new Uint32Array(o),_.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(L,_){let v=0,u=L.length-1;for(;v<u;){let h=v+Math.floor((u-v)/2);if(L[h].endLineNumber<_)v=h+1;else if(L[h].startLineNumber>_)u=h-1;else{for(;h>v&&L[h-1].startLineNumber<=_&&_<=L[h-1].endLineNumber;)h--;return h}}return v}acceptEdit(L,_,v,u,h){for(const i of this._pieces)i.acceptEdit(L,_,v,u,h)}}e.SparseTokensStore=k}),define(re[452],se([1,0,4,11,126,249,447,449,451]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationTextModelPart=void 0;class u extends I.TextModelPart{constructor(i,n,t,o,d){super();this._languageService=i,this._languageConfigurationService=n,this._textModel=t,this.bracketPairsTextModelPart=o,this._languageId=d,this._onDidChangeLanguage=this._register(new E.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new E.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new E.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new E.Emitter),this._tokens=new _.ContiguousTokensStore(this._languageService.languageIdCodec),this._semanticTokens=new v.SparseTokensStore(this._languageService.languageIdCodec),this._tokenization=new L.TextModelTokenization(t,this,this._languageService.languageIdCodec),this._languageRegistryListener=this._languageConfigurationService.onDidChange(r=>{r.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})}acceptEdit(i,n,t,o,d){this._tokens.acceptEdit(i,t,o),this._semanticTokens.acceptEdit(i,t,o,d,n.length>0?n.charCodeAt(0):0)}handleDidChangeAttached(){this._tokenization.handleDidChangeAttached()}flush(){this._tokens.flush(),this._semanticTokens.flush()}handleDidChangeContent(i){this._tokenization.handleDidChangeContent(i)}dispose(){this._languageRegistryListener.dispose(),this._tokenization.dispose(),super.dispose()}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(i){if(this._backgroundTokenizationState===2)return;const n=i?2:1;this._backgroundTokenizationState!==n&&(this._backgroundTokenizationState=n,this.bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}setTokens(i,n=!1){if(i.length!==0){const t=[];for(let o=0,d=i.length;o<d;o++){const r=i[o];let c=0,s=0,a=!1;for(let l=r.startLineNumber;l<=r.endLineNumber;l++)a?(this._tokens.setTokens(this._languageId,l-1,this._textModel.getLineLength(l),r.getLineTokens(l),!1),s=l):this._tokens.setTokens(this._languageId,l-1,this._textModel.getLineLength(l),r.getLineTokens(l),!0)&&(a=!0,c=l,s=l);a&&t.push({fromLineNumber:c,toLineNumber:s})}t.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:t})}this.handleTokenizationProgress(n)}setSemanticTokens(i,n){this._semanticTokens.set(i,n),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:i!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(i,n){if(this.hasCompleteSemanticTokens())return;const t=this._textModel.validateRange(this._semanticTokens.setPartial(i,n));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:t.startLineNumber,toLineNumber:t.endLineNumber}]})}tokenizeViewport(i,n){i=Math.max(1,i),n=Math.min(this._textModel.getLineCount(),n),this._tokenization.tokenizeViewport(i,n)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}_emitModelTokensChangedEvent(i){this._textModel._isDisposing()||(this.bracketPairsTextModelPart.handleDidChangeTokens(i),this._onDidChangeTokens.fire(i))}resetTokenization(){this._tokenization.reset()}forceTokenization(i){if(i<1||i>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(i)}isCheapToTokenize(i){return this._tokenization.isCheapToTokenize(i)}tokenizeIfCheap(i){this.isCheapToTokenize(i)&&this.forceTokenization(i)}getLineTokens(i){if(i<1||i>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(i)}_getLineTokens(i){const n=this._textModel.getLineContent(i),t=this._tokens.getTokens(this._languageId,i-1,n);return this._semanticTokens.addSparseTokens(i,t)}getTokenTypeIfInsertingCharacter(i,n,t){const o=this._textModel.validatePosition(new m.Position(i,n));return this._tokenization.getTokenTypeIfInsertingCharacter(o,t)}tokenizeLineWithEdit(i,n,t){const o=this._textModel.validatePosition(i);return this._tokenization.tokenizeLineWithEdit(o,n,t)}getLanguageConfiguration(i){return this._languageConfigurationService.getLanguageConfiguration(i)}getWordAtPosition(i){this.assertNotDisposed();const n=this._textModel.validatePosition(i),t=this._textModel.getLineContent(n.lineNumber),o=this._getLineTokens(n.lineNumber),d=o.findTokenIndexAtOffset(n.column-1),[r,c]=u._findLanguageBoundaries(o,d),s=(0,k.getWordAtText)(n.column,this.getLanguageConfiguration(o.getLanguageId(d)).getWordDefinition(),t.substring(r,c),r);if(s&&s.startColumn<=i.column&&i.column<=s.endColumn)return s;if(d>0&&r===n.column-1){const[a,l]=u._findLanguageBoundaries(o,d-1),f=(0,k.getWordAtText)(n.column,this.getLanguageConfiguration(o.getLanguageId(d-1)).getWordDefinition(),t.substring(a,l),a);if(f&&f.startColumn<=i.column&&i.column<=f.endColumn)return f}return null}static _findLanguageBoundaries(i,n){const t=i.getLanguageId(n);let o=0;for(let r=n;r>=0&&i.getLanguageId(r)===t;r--)o=i.getStartOffset(r);let d=i.getLineContent().length;for(let r=n,c=i.getCount();r<c&&i.getLanguageId(r)===t;r++)d=i.getEndOffset(r);return[o,d]}getWordUntilPosition(i){const n=this.getWordAtPosition(i);return n?{word:n.word.substr(0,i.column-n.startColumn),startColumn:n.startColumn,endColumn:i.column}:{word:"",startColumn:i.column,endColumn:i.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(i,n){const t=this._textModel.validatePosition(new m.Position(i,n)),o=this.getLineTokens(t.lineNumber);return o.getLanguageId(o.findTokenIndexAtOffset(t.column-1))}setLanguageId(i){if(this._languageId===i)return;const n={oldLanguage:this._languageId,newLanguage:i};this._languageId=i,this.bracketPairsTextModelPart.handleDidChangeLanguage(n),this._tokenization.handleDidChangeLanguage(n),this._onDidChangeLanguage.fire(n),this._onDidChangeLanguageConfiguration.fire({})}}e.TokenizationTextModelPart=u}),define(re[128],se([1,0,2]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class m extends E.Disposable{constructor(){super();this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(I){return!1}onCompositionEnd(I){return!1}onConfigurationChanged(I){return!1}onCursorStateChanged(I){return!1}onDecorationsChanged(I){return!1}onFlushed(I){return!1}onFocusChanged(I){return!1}onLanguageConfigurationChanged(I){return!1}onLineMappingChanged(I){return!1}onLinesChanged(I){return!1}onLinesDeleted(I){return!1}onLinesInserted(I){return!1}onRevealRangeRequest(I){return!1}onScrollChanged(I){return!1}onThemeChanged(I){return!1}onTokensChanged(I){return!1}onTokensColorsChanged(I){return!1}onZonesChanged(I){return!1}handleEvents(I){let L=!1;for(let _=0,v=I.length;_<v;_++){const u=I[_];switch(u.type){case 0:this.onCompositionStart(u)&&(L=!0);break;case 1:this.onCompositionEnd(u)&&(L=!0);break;case 2:this.onConfigurationChanged(u)&&(L=!0);break;case 3:this.onCursorStateChanged(u)&&(L=!0);break;case 4:this.onDecorationsChanged(u)&&(L=!0);break;case 5:this.onFlushed(u)&&(L=!0);break;case 6:this.onFocusChanged(u)&&(L=!0);break;case 7:this.onLanguageConfigurationChanged(u)&&(L=!0);break;case 8:this.onLineMappingChanged(u)&&(L=!0);break;case 9:this.onLinesChanged(u)&&(L=!0);break;case 10:this.onLinesDeleted(u)&&(L=!0);break;case 11:this.onLinesInserted(u)&&(L=!0);break;case 12:this.onRevealRangeRequest(u)&&(L=!0);break;case 13:this.onScrollChanged(u)&&(L=!0);break;case 15:this.onTokensChanged(u)&&(L=!0);break;case 14:this.onThemeChanged(u)&&(L=!0);break;case 16:this.onTokensColorsChanged(u)&&(L=!0);break;case 17:this.onZonesChanged(u)&&(L=!0);break;default:console.info("View received unknown event: "),console.info(u)}}L&&(this._shouldRender=!0)}}e.ViewEventHandler=m}),define(re[106],se([1,0,128]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class m extends E.ViewEventHandler{}e.DynamicViewOverlay=m}),define(re[52],se([1,0,128]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class m extends E.ViewEventHandler{constructor(L){super();this._context=L,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=m;class k{static write(L,_){L.setAttribute("data-mprt",String(_))}static read(L){const _=L.getAttribute("data-mprt");return _===null?0:parseInt(_,10)}static collect(L,_){const v=[];let u=0;for(;L&&L!==document.body&&L!==_;)L.nodeType===L.ELEMENT_NODE&&(v[u++]=this.read(L)),L=L.parentElement;const h=new Uint8Array(u);for(let i=0;i<u;i++)h[i]=v[u-i-1];return h}}e.PartFingerprints=k}),define(re[453],se([1,0,7,32,52]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class I{constructor(h,i){this._coordinateBrand=void 0,this.top=h,this.left=i}}class L extends k.ViewPart{constructor(h,i){super(h);this._viewDomNode=i,this._widgets={},this.domNode=(0,m.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,m.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(h){const i=Object.keys(this._widgets);for(const n of i)this._widgets[n].onConfigurationChanged(h);return!0}onDecorationsChanged(h){return!0}onFlushed(h){return!0}onLineMappingChanged(h){const i=Object.keys(this._widgets);for(const n of i)this._widgets[n].onLineMappingChanged(h);return!0}onLinesChanged(h){return!0}onLinesDeleted(h){return!0}onLinesInserted(h){return!0}onScrollChanged(h){return!0}onZonesChanged(h){return!0}addWidget(h){const i=new _(this._context,this._viewDomNode,h);this._widgets[i.id]=i,i.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(i.domNode):this.domNode.appendChild(i.domNode),this.setShouldRender()}setWidgetPosition(h,i,n,t){this._widgets[h.getId()].setPosition(i,n,t),this.setShouldRender()}removeWidget(h){const i=h.getId();if(this._widgets.hasOwnProperty(i)){const n=this._widgets[i];delete this._widgets[i];const t=n.domNode.domNode;t.parentNode.removeChild(t),t.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(h){return this._widgets.hasOwnProperty(h)?this._widgets[h].suppressMouseDown:!1}onBeforeRender(h){const i=Object.keys(this._widgets);for(const n of i)this._widgets[n].onBeforeRender(h)}prepareRender(h){const i=Object.keys(this._widgets);for(const n of i)this._widgets[n].prepareRender(h)}render(h){const i=Object.keys(this._widgets);for(const n of i)this._widgets[n].render(h)}}e.ViewContentWidgets=L;class _{constructor(h,i,n){this._context=h,this._viewDomNode=i,this._actual=n,this.domNode=(0,m.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const t=this._context.configuration.options,o=t.get(131);this._fixedOverflowWidgets=t.get(36),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,this._lineHeight=t.get(59),this._range=null,this._viewRange=null,this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(h){const i=this._context.configuration.options;if(this._lineHeight=i.get(59),h.hasChanged(131)){const n=i.get(131);this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(h){this._setPosition(this._range,this._affinity)}_setPosition(h,i){var n;if(this._range=h,this._viewRange=null,this._affinity=i,this._range){const t=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(t.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(t.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(t,(n=this._affinity)!==null&&n!==void 0?n:void 0))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(h,i,n){this._setPosition(h,n),this._preference=i,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(h,i,n,t,o){const d=h.top,r=d,c=i.top+this._lineHeight,s=o.viewportHeight-c,a=d-t,l=r>=t,f=c,g=s>=t;let b=h.left,p=i.left;return b+n>o.scrollLeft+o.viewportWidth&&(b=o.scrollLeft+o.viewportWidth-n),p+n>o.scrollLeft+o.viewportWidth&&(p=o.scrollLeft+o.viewportWidth-n),b<o.scrollLeft&&(b=o.scrollLeft),p<o.scrollLeft&&(p=o.scrollLeft),{fitsAbove:l,aboveTop:a,aboveLeft:b,fitsBelow:g,belowTop:f,belowLeft:p}}_layoutHorizontalSegmentInPage(h,i,n,t){const o=Math.max(0,i.left-t),d=Math.min(i.left+i.width+t,h.width);let r=i.left+n-E.StandardWindow.scrollX;if(r+t>d){const c=r-(d-t);r-=c,n-=c}if(r<o){const c=r-o;r-=c,n-=c}return[n,r]}_layoutBoxInPage(h,i,n,t,o){const d=h.top-t,r=i.top+this._lineHeight,c=E.getDomNodePagePosition(this._viewDomNode.domNode),s=c.top+d-E.StandardWindow.scrollY,a=c.top+r-E.StandardWindow.scrollY,l=E.getClientArea(document.body),[f,g]=this._layoutHorizontalSegmentInPage(l,c,h.left-o.scrollLeft+this._contentLeft,n),[b,p]=this._layoutHorizontalSegmentInPage(l,c,i.left-o.scrollLeft+this._contentLeft,n),C=22,S=22,y=s>=C,w=a+t<=l.height-S;return this._fixedOverflowWidgets?{fitsAbove:y,aboveTop:Math.max(s,C),aboveLeft:g,fitsBelow:w,belowTop:a,belowLeft:p}:{fitsAbove:y,aboveTop:d,aboveLeft:f,fitsBelow:w,belowTop:r,belowLeft:b}}_prepareRenderWidgetAtExactPositionOverflowing(h){return new I(h.top,h.left+this._contentLeft)}_getTopAndBottomLeft(h){if(!this._viewRange)return[null,null];const i=h.linesVisibleRangesForRange(this._viewRange,!1);if(!i||i.length===0)return[null,null];let n=i[0],t=i[0];for(const l of i)l.lineNumber<n.lineNumber&&(n=l),l.lineNumber>t.lineNumber&&(t=l);let o=1073741824;for(const l of n.ranges)l.left<o&&(o=l.left);let d=1073741824;for(const l of t.ranges)l.left<d&&(d=l.left);const r=h.getVerticalOffsetForLineNumber(n.lineNumber)-h.scrollTop,c=new I(r,o),s=h.getVerticalOffsetForLineNumber(t.lineNumber)-h.scrollTop,a=new I(s,d);return[c,a]}_prepareRenderWidget(h){if(!this._preference||this._preference.length===0)return null;const[i,n]=this._getTopAndBottomLeft(h);if(!i||!n)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let o=null;if(typeof this._actual.beforeRender=="function"&&(o=v(this._actual.beforeRender,this._actual)),o)this._cachedDomNodeOffsetWidth=o.width,this._cachedDomNodeOffsetHeight=o.height;else{const r=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(r.width),this._cachedDomNodeOffsetHeight=Math.round(r.height)}}let t;this.allowEditorOverflow?t=this._layoutBoxInPage(i,n,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,h):t=this._layoutBoxInViewport(i,n,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,h);for(let o=1;o<=2;o++)for(const d of this._preference)if(d===1){if(!t)return null;if(o===2||t.fitsAbove)return{coordinate:new I(t.aboveTop,t.aboveLeft),position:1}}else if(d===2){if(!t)return null;if(o===2||t.fitsBelow)return{coordinate:new I(t.belowTop,t.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(i),position:0}:{coordinate:i,position:0};return null}onBeforeRender(h){!this._viewRange||!this._preference||this._viewRange.endLineNumber<h.startLineNumber||this._viewRange.startLineNumber>h.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(h){this._renderData=this._prepareRenderWidget(h)}render(h){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&v(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+h.scrollTop-h.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&v(this._actual.afterRender,this._actual,this._renderData.position)}}function v(u,h,...i){try{return u.call(h,...i)}catch{return null}}}),define(re[454],se([1,0,106,3,123,363]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class I extends E.DynamicViewOverlay{constructor(_){super();this._context=_;const v=this._context.configuration.options;this._lineHeight=v.get(59),this._typicalHalfwidthCharacterWidth=v.get(44).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(_){const v=this._context.configuration.options;return this._lineHeight=v.get(59),this._typicalHalfwidthCharacterWidth=v.get(44).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(_){return!0}onFlushed(_){return!0}onLinesChanged(_){return!0}onLinesDeleted(_){return!0}onLinesInserted(_){return!0}onScrollChanged(_){return _.scrollTopChanged||_.scrollWidthChanged}onZonesChanged(_){return!0}prepareRender(_){const v=_.getDecorationsInViewport();let u=[],h=0;for(let o=0,d=v.length;o<d;o++){const r=v[o];r.options.className&&(u[h++]=r)}u=u.sort((o,d)=>{if(o.options.zIndex<d.options.zIndex)return-1;if(o.options.zIndex>d.options.zIndex)return 1;const r=o.options.className,c=d.options.className;return r<c?-1:r>c?1:m.Range.compareRangesUsingStarts(o.range,d.range)});const i=_.visibleRange.startLineNumber,n=_.visibleRange.endLineNumber,t=[];for(let o=i;o<=n;o++){const d=o-i;t[d]=""}this._renderWholeLineDecorations(_,u,t),this._renderNormalDecorations(_,u,t),this._renderResult=t}_renderWholeLineDecorations(_,v,u){const h=String(this._lineHeight),i=_.visibleRange.startLineNumber,n=_.visibleRange.endLineNumber;for(let t=0,o=v.length;t<o;t++){const d=v[t];if(!d.options.isWholeLine)continue;const r='<div class="cdr '+d.options.className+'" style="left:0;width:100%;height:'+h+'px;"></div>',c=Math.max(d.range.startLineNumber,i),s=Math.min(d.range.endLineNumber,n);for(let a=c;a<=s;a++){const l=a-i;u[l]+=r}}}_renderNormalDecorations(_,v,u){const h=String(this._lineHeight),i=_.visibleRange.startLineNumber;let n=null,t=!1,o=null;for(let d=0,r=v.length;d<r;d++){const c=v[d];if(c.options.isWholeLine)continue;const s=c.options.className,a=Boolean(c.options.showIfCollapsed);let l=c.range;if(a&&l.endColumn===1&&l.endLineNumber!==l.startLineNumber&&(l=new m.Range(l.startLineNumber,l.startColumn,l.endLineNumber-1,this._context.viewModel.getLineMaxColumn(l.endLineNumber-1))),n===s&&t===a&&m.Range.areIntersectingOrTouching(o,l)){o=m.Range.plusRange(o,l);continue}n!==null&&this._renderNormalDecoration(_,o,n,t,h,i,u),n=s,t=a,o=l}n!==null&&this._renderNormalDecoration(_,o,n,t,h,i,u)}_renderNormalDecoration(_,v,u,h,i,n,t){const o=_.linesVisibleRangesForRange(v,u==="findMatch");if(!!o)for(let d=0,r=o.length;d<r;d++){const c=o[d];if(c.outsideRenderedLine)continue;const s=c.lineNumber-n;if(h&&c.ranges.length===1){const a=c.ranges[0];if(a.width<this._typicalHalfwidthCharacterWidth){const l=Math.round(a.left+a.width/2),f=Math.max(0,Math.round(l-this._typicalHalfwidthCharacterWidth/2));c.ranges[0]=new k.HorizontalRange(f,this._typicalHalfwidthCharacterWidth)}}for(let a=0,l=c.ranges.length;a<l;a++){const f=c.ranges[a],g='<div class="cdr '+u+'" style="left:'+String(f.left)+"px;width:"+String(f.width)+"px;height:"+i+'px;"></div>';t[s]+=g}}}render(_,v){if(!this._renderResult)return"";const u=v-_;return u<0||u>=this._renderResult.length?"":this._renderResult[u]}}e.DecorationsOverlay=I}),define(re[190],se([1,0,106,364]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginOverlay=e.DedupOverlay=e.DecorationToRender=void 0;class m{constructor(_,v,u){this._decorationToRenderBrand=void 0,this.startLineNumber=+_,this.endLineNumber=+v,this.className=String(u)}}e.DecorationToRender=m;class k extends E.DynamicViewOverlay{_render(_,v,u){const h=[];for(let t=_;t<=v;t++){const o=t-_;h[o]=[]}if(u.length===0)return h;u.sort((t,o)=>t.className===o.className?t.startLineNumber===o.startLineNumber?t.endLineNumber-o.endLineNumber:t.startLineNumber-o.startLineNumber:t.className<o.className?-1:1);let i=null,n=0;for(let t=0,o=u.length;t<o;t++){const d=u[t],r=d.className;let c=Math.max(d.startLineNumber,_)-_;const s=Math.min(d.endLineNumber,v)-_;i===r?(c=Math.max(n+1,c),n=Math.max(n,s)):(i=r,n=s);for(let a=c;a<=n;a++)h[a].push(i)}return h}}e.DedupOverlay=k;class I extends k{constructor(_){super();this._context=_;const v=this._context.configuration.options,u=v.get(131);this._lineHeight=v.get(59),this._glyphMargin=v.get(50),this._glyphMarginLeft=u.glyphMarginLeft,this._glyphMarginWidth=u.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(_){const v=this._context.configuration.options,u=v.get(131);return this._lineHeight=v.get(59),this._glyphMargin=v.get(50),this._glyphMarginLeft=u.glyphMarginLeft,this._glyphMarginWidth=u.glyphMarginWidth,!0}onDecorationsChanged(_){return!0}onFlushed(_){return!0}onLinesChanged(_){return!0}onLinesDeleted(_){return!0}onLinesInserted(_){return!0}onScrollChanged(_){return _.scrollTopChanged}onZonesChanged(_){return!0}_getDecorations(_){const v=_.getDecorationsInViewport(),u=[];let h=0;for(let i=0,n=v.length;i<n;i++){const t=v[i],o=t.options.glyphMarginClassName;o&&(u[h++]=new m(t.range.startLineNumber,t.range.endLineNumber,o))}return u}prepareRender(_){if(!this._glyphMargin){this._renderResult=null;return}const v=_.visibleRange.startLineNumber,u=_.visibleRange.endLineNumber,h=this._render(v,u,this._getDecorations(_)),i=this._lineHeight.toString(),n=this._glyphMarginLeft.toString(),t=this._glyphMarginWidth.toString(),o='" style="left:'+n+"px;width:"+t+"px;height:"+i+'px;"></div>',d=[];for(let r=v;r<=u;r++){const c=r-v,s=h[c];s.length===0?d[c]="":d[c]='<div class="cgmr codicon '+s.join(" ")+o}this._renderResult=d}render(_,v){if(!this._renderResult)return"";const u=v-_;return u<0||u>=this._renderResult.length?"":this._renderResult[u]}}e.GlyphMarginOverlay=I}),define(re[455],se([1,0,190,368]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class m extends E.DedupOverlay{constructor(I){super();this._context=I;const _=this._context.configuration.options.get(131);this._decorationsLeft=_.decorationsLeft,this._decorationsWidth=_.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(I){const _=this._context.configuration.options.get(131);return this._decorationsLeft=_.decorationsLeft,this._decorationsWidth=_.decorationsWidth,!0}onDecorationsChanged(I){return!0}onFlushed(I){return!0}onLinesChanged(I){return!0}onLinesDeleted(I){return!0}onLinesInserted(I){return!0}onScrollChanged(I){return I.scrollTopChanged}onZonesChanged(I){return!0}_getDecorations(I){const L=I.getDecorationsInViewport(),_=[];let v=0;for(let u=0,h=L.length;u<h;u++){const i=L[u],n=i.options.linesDecorationsClassName;n&&(_[v++]=new E.DecorationToRender(i.range.startLineNumber,i.range.endLineNumber,n));const t=i.options.firstLineDecorationClassName;t&&(_[v++]=new E.DecorationToRender(i.range.startLineNumber,i.range.startLineNumber,t))}return _}prepareRender(I){const L=I.visibleRange.startLineNumber,_=I.visibleRange.endLineNumber,v=this._render(L,_,this._getDecorations(I)),u=this._decorationsLeft.toString(),h=this._decorationsWidth.toString(),i='" style="left:'+u+"px;width:"+h+'px;"></div>',n=[];for(let t=L;t<=_;t++){const o=t-L,d=v[o];let r="";for(let c=0,s=d.length;c<s;c++)r+='<div class="cldr '+d[c]+i;n[o]=r}this._renderResult=n}render(I,L){return this._renderResult?this._renderResult[L-I]:""}}e.LinesDecorationsOverlay=m}),define(re[258],se([1,0,32,52]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class k extends m.ViewPart{constructor(L){super(L);const _=this._context.configuration.options,v=_.get(131);this._canUseLayerHinting=!_.get(28),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,this._domNode=(0,E.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(k.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,E.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(k.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(L){const _=this._context.configuration.options,v=_.get(131);return this._canUseLayerHinting=!_.get(28),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,!0}onScrollChanged(L){return super.onScrollChanged(L)||L.scrollTopChanged}prepareRender(L){}render(L){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const _=L.scrollTop-L.bigNumbersDelta;this._domNode.setTop(-_);const v=Math.min(L.scrollHeight,1e6);this._domNode.setHeight(v),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(v)}}e.Margin=k,k.CLASS_NAME="glyph-margin",k.OUTER_CLASS_NAME="margin"}),define(re[456],se([1,0,190,369]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class m extends E.DedupOverlay{constructor(I){super();this._context=I,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(I){return!0}onDecorationsChanged(I){return!0}onFlushed(I){return!0}onLinesChanged(I){return!0}onLinesDeleted(I){return!0}onLinesInserted(I){return!0}onScrollChanged(I){return I.scrollTopChanged}onZonesChanged(I){return!0}_getDecorations(I){const L=I.getDecorationsInViewport(),_=[];let v=0;for(let u=0,h=L.length;u<h;u++){const i=L[u],n=i.options.marginClassName;n&&(_[v++]=new E.DecorationToRender(i.range.startLineNumber,i.range.endLineNumber,n))}return _}prepareRender(I){const L=I.visibleRange.startLineNumber,_=I.visibleRange.endLineNumber,v=this._render(L,_,this._getDecorations(I)),u=[];for(let h=L;h<=_;h++){const i=h-L,n=v[i];let t="";for(let o=0,d=n.length;o<d;o++)t+='<div class="cmdr '+n[o]+'" style=""></div>';u[i]=t}this._renderResult=u}render(I,L){return this._renderResult?this._renderResult[L-I]:""}}e.MarginViewLineDecorationsOverlay=m}),define(re[457],se([1,0,32,52,371]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class k extends m.ViewPart{constructor(L){super(L);const v=this._context.configuration.options.get(131);this._widgets={},this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,this._domNode=(0,E.createFastDomNode)(document.createElement("div")),m.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(L){const v=this._context.configuration.options.get(131);return this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,!0}addWidget(L){const _=(0,E.createFastDomNode)(L.getDomNode());this._widgets[L.getId()]={widget:L,preference:null,domNode:_},_.setPosition("absolute"),_.setAttribute("widgetId",L.getId()),this._domNode.appendChild(_),this.setShouldRender()}setWidgetPosition(L,_){const v=this._widgets[L.getId()];return v.preference===_?!1:(v.preference=_,this.setShouldRender(),!0)}removeWidget(L){const _=L.getId();if(this._widgets.hasOwnProperty(_)){const u=this._widgets[_].domNode.domNode;delete this._widgets[_],u.parentNode.removeChild(u),this.setShouldRender()}}_renderWidget(L){const _=L.domNode;if(L.preference===null){_.setTop("");return}if(L.preference===0)_.setTop(0),_.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(L.preference===1){const v=_.domNode.clientHeight;_.setTop(this._editorHeight-v-2*this._horizontalScrollbarHeight),_.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else L.preference===2&&(_.setTop(0),_.domNode.style.right="50%")}prepareRender(L){}render(L){this._domNode.setWidth(this._editorWidth);const _=Object.keys(this._widgets);for(let v=0,u=_.length;v<u;v++){const h=_[v];this._renderWidget(this._widgets[h])}}}e.ViewOverlayWidgets=k}),define(re[458],se([1,0,32,13,52,11]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const L=()=>{throw new Error("Invalid change accessor")};class _ extends k.ViewPart{constructor(h){super(h);const i=this._context.configuration.options,n=i.get(131);this._lineHeight=i.get(59),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,this.domNode=(0,E.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,E.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const h=this._context.viewLayout.getWhitespaces(),i=new Map;for(const t of h)i.set(t.id,t);let n=!1;return this._context.viewModel.changeWhitespace(t=>{const o=Object.keys(this._zones);for(let d=0,r=o.length;d<r;d++){const c=o[d],s=this._zones[c],a=this._computeWhitespaceProps(s.delegate);s.isInHiddenArea=a.isInHiddenArea;const l=i.get(c);l&&(l.afterLineNumber!==a.afterViewLineNumber||l.height!==a.heightInPx)&&(t.changeOneWhitespace(c,a.afterViewLineNumber,a.heightInPx),this._safeCallOnComputedHeight(s.delegate,a.heightInPx),n=!0)}}),n}onConfigurationChanged(h){const i=this._context.configuration.options,n=i.get(131);return this._lineHeight=i.get(59),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,h.hasChanged(59)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(h){return this._recomputeWhitespacesProps()}onLinesDeleted(h){return!0}onScrollChanged(h){return h.scrollTopChanged||h.scrollWidthChanged}onZonesChanged(h){return!0}onLinesInserted(h){return!0}_getZoneOrdinal(h){return typeof h.afterColumn!="undefined"?h.afterColumn:1e4}_computeWhitespaceProps(h){if(h.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(h),minWidthInPx:this._minWidthInPixels(h)};let i;if(typeof h.afterColumn!="undefined")i=this._context.viewModel.model.validatePosition({lineNumber:h.afterLineNumber,column:h.afterColumn});else{const d=this._context.viewModel.model.validatePosition({lineNumber:h.afterLineNumber,column:1}).lineNumber;i=new I.Position(d,this._context.viewModel.model.getLineMaxColumn(d))}let n;i.column===this._context.viewModel.model.getLineMaxColumn(i.lineNumber)?n=this._context.viewModel.model.validatePosition({lineNumber:i.lineNumber+1,column:1}):n=this._context.viewModel.model.validatePosition({lineNumber:i.lineNumber,column:i.column+1});const t=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i,h.afterColumnAffinity),o=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(n);return{isInHiddenArea:!o,afterViewLineNumber:t.lineNumber,heightInPx:o?this._heightInPixels(h):0,minWidthInPx:this._minWidthInPixels(h)}}changeViewZones(h){let i=!1;return this._context.viewModel.changeWhitespace(n=>{const t={addZone:o=>(i=!0,this._addZone(n,o)),removeZone:o=>{!o||(i=this._removeZone(n,o)||i)},layoutZone:o=>{!o||(i=this._layoutZone(n,o)||i)}};v(h,t),t.addZone=L,t.removeZone=L,t.layoutZone=L}),i}_addZone(h,i){const n=this._computeWhitespaceProps(i),o={whitespaceId:h.insertWhitespace(n.afterViewLineNumber,this._getZoneOrdinal(i),n.heightInPx,n.minWidthInPx),delegate:i,isInHiddenArea:n.isInHiddenArea,isVisible:!1,domNode:(0,E.createFastDomNode)(i.domNode),marginDomNode:i.marginDomNode?(0,E.createFastDomNode)(i.marginDomNode):null};return this._safeCallOnComputedHeight(o.delegate,n.heightInPx),o.domNode.setPosition("absolute"),o.domNode.domNode.style.width="100%",o.domNode.setDisplay("none"),o.domNode.setAttribute("monaco-view-zone",o.whitespaceId),this.domNode.appendChild(o.domNode),o.marginDomNode&&(o.marginDomNode.setPosition("absolute"),o.marginDomNode.domNode.style.width="100%",o.marginDomNode.setDisplay("none"),o.marginDomNode.setAttribute("monaco-view-zone",o.whitespaceId),this.marginDomNode.appendChild(o.marginDomNode)),this._zones[o.whitespaceId]=o,this.setShouldRender(),o.whitespaceId}_removeZone(h,i){if(this._zones.hasOwnProperty(i)){const n=this._zones[i];return delete this._zones[i],h.removeWhitespace(n.whitespaceId),n.domNode.removeAttribute("monaco-visible-view-zone"),n.domNode.removeAttribute("monaco-view-zone"),n.domNode.domNode.parentNode.removeChild(n.domNode.domNode),n.marginDomNode&&(n.marginDomNode.removeAttribute("monaco-visible-view-zone"),n.marginDomNode.removeAttribute("monaco-view-zone"),n.marginDomNode.domNode.parentNode.removeChild(n.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(h,i){if(this._zones.hasOwnProperty(i)){const n=this._zones[i],t=this._computeWhitespaceProps(n.delegate);return n.isInHiddenArea=t.isInHiddenArea,h.changeOneWhitespace(n.whitespaceId,t.afterViewLineNumber,t.heightInPx),this._safeCallOnComputedHeight(n.delegate,t.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(h){if(this._zones.hasOwnProperty(h)){const i=this._zones[h];return Boolean(i.delegate.suppressMouseDown)}return!1}_heightInPixels(h){return typeof h.heightInPx=="number"?h.heightInPx:typeof h.heightInLines=="number"?this._lineHeight*h.heightInLines:this._lineHeight}_minWidthInPixels(h){return typeof h.minWidthInPx=="number"?h.minWidthInPx:0}_safeCallOnComputedHeight(h,i){if(typeof h.onComputedHeight=="function")try{h.onComputedHeight(i)}catch(n){(0,m.onUnexpectedError)(n)}}_safeCallOnDomNodeTop(h,i){if(typeof h.onDomNodeTop=="function")try{h.onDomNodeTop(i)}catch(n){(0,m.onUnexpectedError)(n)}}prepareRender(h){}render(h){const i=h.viewportData.whitespaceViewportData,n={};let t=!1;for(const d of i)this._zones[d.id].isInHiddenArea||(n[d.id]=d,t=!0);const o=Object.keys(this._zones);for(let d=0,r=o.length;d<r;d++){const c=o[d],s=this._zones[c];let a=0,l=0,f="none";n.hasOwnProperty(c)?(a=n[c].verticalOffset-h.bigNumbersDelta,l=n[c].height,f="block",s.isVisible||(s.domNode.setAttribute("monaco-visible-view-zone","true"),s.isVisible=!0),this._safeCallOnDomNodeTop(s.delegate,h.getScrolledTopFromAbsoluteTop(n[c].verticalOffset))):(s.isVisible&&(s.domNode.removeAttribute("monaco-visible-view-zone"),s.isVisible=!1),this._safeCallOnDomNodeTop(s.delegate,h.getScrolledTopFromAbsoluteTop(-1e6))),s.domNode.setTop(a),s.domNode.setHeight(l),s.domNode.setDisplay(f),s.marginDomNode&&(s.marginDomNode.setTop(a),s.marginDomNode.setHeight(l),s.marginDomNode.setDisplay(f))}t&&(this.domNode.setWidth(Math.max(h.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=_;function v(u,h){try{return u(h)}catch(i){(0,m.onUnexpectedError)(i)}}}),define(re[191],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class E{constructor(){this.type=0}}e.ViewCompositionStartEvent=E;class m{constructor(){this.type=1}}e.ViewCompositionEndEvent=m;class k{constructor(f){this.type=2,this._source=f}hasChanged(f){return this._source.hasChanged(f)}}e.ViewConfigurationChangedEvent=k;class I{constructor(f,g){this.type=3,this.selections=f,this.modelSelections=g}}e.ViewCursorStateChangedEvent=I;class L{constructor(f){this.type=4,f?(this.affectsMinimap=f.affectsMinimap,this.affectsOverviewRuler=f.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}e.ViewDecorationsChangedEvent=L;class _{constructor(){this.type=5}}e.ViewFlushedEvent=_;class v{constructor(f){this.type=6,this.isFocused=f}}e.ViewFocusChangedEvent=v;class u{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=u;class h{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=h;class i{constructor(f,g){this.fromLineNumber=f,this.count=g,this.type=9}}e.ViewLinesChangedEvent=i;class n{constructor(f,g){this.type=10,this.fromLineNumber=f,this.toLineNumber=g}}e.ViewLinesDeletedEvent=n;class t{constructor(f,g){this.type=11,this.fromLineNumber=f,this.toLineNumber=g}}e.ViewLinesInsertedEvent=t;class o{constructor(f,g,b,p,C,S,y){this.source=f,this.minimalReveal=g,this.range=b,this.selections=p,this.verticalType=C,this.revealHorizontal=S,this.scrollType=y,this.type=12}}e.ViewRevealRangeRequestEvent=o;class d{constructor(f){this.type=13,this.scrollWidth=f.scrollWidth,this.scrollLeft=f.scrollLeft,this.scrollHeight=f.scrollHeight,this.scrollTop=f.scrollTop,this.scrollWidthChanged=f.scrollWidthChanged,this.scrollLeftChanged=f.scrollLeftChanged,this.scrollHeightChanged=f.scrollHeightChanged,this.scrollTopChanged=f.scrollTopChanged}}e.ViewScrollChangedEvent=d;class r{constructor(f){this.theme=f,this.type=14}}e.ViewThemeChangedEvent=r;class c{constructor(f){this.type=15,this.ranges=f}}e.ViewTokensChangedEvent=c;class s{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=s;class a{constructor(){this.type=17}}e.ViewZonesChangedEvent=a}),define(re[155],se([1,0,8]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class m{constructor(v,u,h,i){this.startColumn=v,this.endColumn=u,this.className=h,this.type=i,this._lineDecorationBrand=void 0}static _equals(v,u){return v.startColumn===u.startColumn&&v.endColumn===u.endColumn&&v.className===u.className&&v.type===u.type}static equalsArr(v,u){const h=v.length,i=u.length;if(h!==i)return!1;for(let n=0;n<h;n++)if(!m._equals(v[n],u[n]))return!1;return!0}static extractWrapped(v,u,h){if(v.length===0)return v;const i=u+1,n=h+1,t=h-u,o=[];let d=0;for(const r of v)r.endColumn<=i||r.startColumn>=n||(o[d++]=new m(Math.max(1,r.startColumn-i+1),Math.min(t+1,r.endColumn-i+1),r.className,r.type));return o}static filter(v,u,h,i){if(v.length===0)return[];const n=[];let t=0;for(let o=0,d=v.length;o<d;o++){const r=v[o],c=r.range;if(c.endLineNumber<u||c.startLineNumber>u||c.isEmpty()&&(r.type===0||r.type===3))continue;const s=c.startLineNumber===u?c.startColumn:h,a=c.endLineNumber===u?c.endColumn:i;n[t++]=new m(s,a,r.inlineClassName,r.type)}return n}static _typeCompare(v,u){const h=[2,0,1,3];return h[v]-h[u]}static compare(v,u){if(v.startColumn!==u.startColumn)return v.startColumn-u.startColumn;if(v.endColumn!==u.endColumn)return v.endColumn-u.endColumn;const h=m._typeCompare(v.type,u.type);return h!==0?h:v.className!==u.className?v.className<u.className?-1:1:0}}e.LineDecoration=m;class k{constructor(v,u,h,i){this.startOffset=v,this.endOffset=u,this.className=h,this.metadata=i}}e.DecorationSegment=k;class I{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(v){let u=0;for(let h=0,i=v.length;h<i;h++)u|=v[h];return u}consumeLowerThan(v,u,h){for(;this.count>0&&this.stopOffsets[0]<v;){let i=0;for(;i+1<this.count&&this.stopOffsets[i]===this.stopOffsets[i+1];)i++;h.push(new k(u,this.stopOffsets[i],this.classNames.join(" "),I._metadata(this.metadata))),u=this.stopOffsets[i]+1,this.stopOffsets.splice(0,i+1),this.classNames.splice(0,i+1),this.metadata.splice(0,i+1),this.count-=i+1}return this.count>0&&u<v&&(h.push(new k(u,v-1,this.classNames.join(" "),I._metadata(this.metadata))),u=v),u}insert(v,u,h){if(this.count===0||this.stopOffsets[this.count-1]<=v)this.stopOffsets.push(v),this.classNames.push(u),this.metadata.push(h);else for(let i=0;i<this.count;i++)if(this.stopOffsets[i]>=v){this.stopOffsets.splice(i,0,v),this.classNames.splice(i,0,u),this.metadata.splice(i,0,h);break}this.count++}}class L{static normalize(v,u){if(u.length===0)return[];const h=[],i=new I;let n=0;for(let t=0,o=u.length;t<o;t++){const d=u[t];let r=d.startColumn,c=d.endColumn;const s=d.className,a=d.type===1?2:d.type===2?4:0;if(r>1){const g=v.charCodeAt(r-2);E.isHighSurrogate(g)&&r--}if(c>1){const g=v.charCodeAt(c-2);E.isHighSurrogate(g)&&c--}const l=r-1,f=c-2;n=i.consumeLowerThan(l,n,h),i.count===0&&(n=l),i.insert(f,s,a)}return i.consumeLowerThan(1073741824,n,h),h}}e.LineDecorationsNormalizer=L}),define(re[459],se([1,0,8]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class m{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(_){this._hasPending=!0,this._inserts.push(_)}change(_){this._hasPending=!0,this._changes.push(_)}remove(_){this._hasPending=!0,this._removes.push(_)}mustCommit(){return this._hasPending}commit(_){if(!this._hasPending)return;const v=this._inserts,u=this._changes,h=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],_._commitPendingChanges(v,u,h)}}class k{constructor(_,v,u,h,i){this.id=_,this.afterLineNumber=v,this.ordinal=u,this.height=h,this.minWidth=i,this.prefixSum=0}}e.EditorWhitespace=k;class I{constructor(_,v,u,h){this._instanceId=E.singleLetterHash(++I.INSTANCE_COUNT),this._pendingChanges=new m,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=_,this._lineHeight=v,this._paddingTop=u,this._paddingBottom=h}static findInsertionIndex(_,v,u){let h=0,i=_.length;for(;h<i;){const n=h+i>>>1;v===_[n].afterLineNumber?u<_[n].ordinal?i=n:h=n+1:v<_[n].afterLineNumber?i=n:h=n+1}return h}setLineHeight(_){this._checkPendingChanges(),this._lineHeight=_}setPadding(_,v){this._paddingTop=_,this._paddingBottom=v}onFlushed(_){this._checkPendingChanges(),this._lineCount=_}changeWhitespace(_){let v=!1;try{_({insertWhitespace:(h,i,n,t)=>{v=!0,h=h|0,i=i|0,n=n|0,t=t|0;const o=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new k(o,h,i,n,t)),o},changeOneWhitespace:(h,i,n)=>{v=!0,i=i|0,n=n|0,this._pendingChanges.change({id:h,newAfterLineNumber:i,newHeight:n})},removeWhitespace:h=>{v=!0,this._pendingChanges.remove({id:h})}})}finally{this._pendingChanges.commit(this)}return v}_commitPendingChanges(_,v,u){if((_.length>0||u.length>0)&&(this._minWidth=-1),_.length+v.length+u.length<=1){for(const o of _)this._insertWhitespace(o);for(const o of v)this._changeOneWhitespace(o.id,o.newAfterLineNumber,o.newHeight);for(const o of u){const d=this._findWhitespaceIndex(o.id);d!==-1&&this._removeWhitespace(d)}return}const h=new Set;for(const o of u)h.add(o.id);const i=new Map;for(const o of v)i.set(o.id,o);const n=o=>{const d=[];for(const r of o)if(!h.has(r.id)){if(i.has(r.id)){const c=i.get(r.id);r.afterLineNumber=c.newAfterLineNumber,r.height=c.newHeight}d.push(r)}return d},t=n(this._arr).concat(n(_));t.sort((o,d)=>o.afterLineNumber===d.afterLineNumber?o.ordinal-d.ordinal:o.afterLineNumber-d.afterLineNumber),this._arr=t,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(_){const v=I.findInsertionIndex(this._arr,_.afterLineNumber,_.ordinal);this._arr.splice(v,0,_),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,v-1)}_findWhitespaceIndex(_){const v=this._arr;for(let u=0,h=v.length;u<h;u++)if(v[u].id===_)return u;return-1}_changeOneWhitespace(_,v,u){const h=this._findWhitespaceIndex(_);if(h!==-1&&(this._arr[h].height!==u&&(this._arr[h].height=u,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,h-1)),this._arr[h].afterLineNumber!==v)){const i=this._arr[h];this._removeWhitespace(h),i.afterLineNumber=v,this._insertWhitespace(i)}}_removeWhitespace(_){this._arr.splice(_,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,_-1)}onLinesDeleted(_,v){this._checkPendingChanges(),_=_|0,v=v|0,this._lineCount-=v-_+1;for(let u=0,h=this._arr.length;u<h;u++){const i=this._arr[u].afterLineNumber;_<=i&&i<=v?this._arr[u].afterLineNumber=_-1:i>v&&(this._arr[u].afterLineNumber-=v-_+1)}}onLinesInserted(_,v){this._checkPendingChanges(),_=_|0,v=v|0,this._lineCount+=v-_+1;for(let u=0,h=this._arr.length;u<h;u++){const i=this._arr[u].afterLineNumber;_<=i&&(this._arr[u].afterLineNumber+=v-_+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(_){this._checkPendingChanges(),_=_|0;let v=Math.max(0,this._prefixSumValidIndex+1);v===0&&(this._arr[0].prefixSum=this._arr[0].height,v++);for(let u=v;u<=_;u++)this._arr[u].prefixSum=this._arr[u-1].prefixSum+this._arr[u].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,_),this._arr[_].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const _=this._lineHeight*this._lineCount,v=this.getWhitespacesTotalHeight();return _+v+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(_){this._checkPendingChanges(),_=_|0;const v=this._findLastWhitespaceBeforeLineNumber(_);return v===-1?0:this.getWhitespacesAccumulatedHeight(v)}_findLastWhitespaceBeforeLineNumber(_){_=_|0;const v=this._arr;let u=0,h=v.length-1;for(;u<=h;){const n=(h-u|0)/2|0,t=u+n|0;if(v[t].afterLineNumber<_){if(t+1>=v.length||v[t+1].afterLineNumber>=_)return t;u=t+1|0}else h=t-1|0}return-1}_findFirstWhitespaceAfterLineNumber(_){_=_|0;const u=this._findLastWhitespaceBeforeLineNumber(_)+1;return u<this._arr.length?u:-1}getFirstWhitespaceIndexAfterLineNumber(_){return this._checkPendingChanges(),_=_|0,this._findFirstWhitespaceAfterLineNumber(_)}getVerticalOffsetForLineNumber(_){this._checkPendingChanges(),_=_|0;let v;_>1?v=this._lineHeight*(_-1):v=0;const u=this.getWhitespaceAccumulatedHeightBeforeLineNumber(_);return v+u+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let _=0;for(let v=0,u=this._arr.length;v<u;v++)_=Math.max(_,this._arr[v].minWidth);this._minWidth=_}return this._minWidth}isAfterLines(_){this._checkPendingChanges();const v=this.getLinesTotalHeight();return _>v}isInTopPadding(_){return this._paddingTop===0?!1:(this._checkPendingChanges(),_<this._paddingTop)}isInBottomPadding(_){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const v=this.getLinesTotalHeight();return _>=v-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(_){if(this._checkPendingChanges(),_=_|0,_<0)return 1;const v=this._lineCount|0,u=this._lineHeight;let h=1,i=v;for(;h<i;){const n=(h+i)/2|0,t=this.getVerticalOffsetForLineNumber(n)|0;if(_>=t+u)h=n+1;else{if(_>=t)return n;i=n}}return h>v?v:h}getLinesViewportData(_,v){this._checkPendingChanges(),_=_|0,v=v|0;const u=this._lineHeight,h=this.getLineNumberAtOrAfterVerticalOffset(_)|0,i=this.getVerticalOffsetForLineNumber(h)|0;let n=this._lineCount|0,t=this.getFirstWhitespaceIndexAfterLineNumber(h)|0;const o=this.getWhitespacesCount()|0;let d,r;t===-1?(t=o,r=n+1,d=0):(r=this.getAfterLineNumberForWhitespaceIndex(t)|0,d=this.getHeightForWhitespaceIndex(t)|0);let c=i,s=c;const a=5e5;let l=0;i>=a&&(l=Math.floor(i/a)*a,l=Math.floor(l/u)*u,s-=l);const f=[],g=_+(v-_)/2;let b=-1;for(let y=h;y<=n;y++){if(b===-1){const w=c,T=c+u;(w<=g&&g<T||w>g)&&(b=y)}for(c+=u,f[y-h]=s,s+=u;r===y;)s+=d,c+=d,t++,t>=o?r=n+1:(r=this.getAfterLineNumberForWhitespaceIndex(t)|0,d=this.getHeightForWhitespaceIndex(t)|0);if(c>=v){n=y;break}}b===-1&&(b=n);const p=this.getVerticalOffsetForLineNumber(n)|0;let C=h,S=n;return C<S&&i<_&&C++,C<S&&p+u>v&&S--,{bigNumbersDelta:l,startLineNumber:h,endLineNumber:n,relativeVerticalOffset:f,centeredLineNumber:b,completelyVisibleStartLineNumber:C,completelyVisibleEndLineNumber:S}}getVerticalOffsetForWhitespaceIndex(_){this._checkPendingChanges(),_=_|0;const v=this.getAfterLineNumberForWhitespaceIndex(_);let u;v>=1?u=this._lineHeight*v:u=0;let h;return _>0?h=this.getWhitespacesAccumulatedHeight(_-1):h=0,u+h+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(_){this._checkPendingChanges(),_=_|0;let v=0,u=this.getWhitespacesCount()-1;if(u<0)return-1;const h=this.getVerticalOffsetForWhitespaceIndex(u),i=this.getHeightForWhitespaceIndex(u);if(_>=h+i)return-1;for(;v<u;){const n=Math.floor((v+u)/2),t=this.getVerticalOffsetForWhitespaceIndex(n),o=this.getHeightForWhitespaceIndex(n);if(_>=t+o)v=n+1;else{if(_>=t)return n;u=n}}return v}getWhitespaceAtVerticalOffset(_){this._checkPendingChanges(),_=_|0;const v=this.getWhitespaceIndexAtOrAfterVerticallOffset(_);if(v<0||v>=this.getWhitespacesCount())return null;const u=this.getVerticalOffsetForWhitespaceIndex(v);if(u>_)return null;const h=this.getHeightForWhitespaceIndex(v),i=this.getIdForWhitespaceIndex(v),n=this.getAfterLineNumberForWhitespaceIndex(v);return{id:i,afterLineNumber:n,verticalOffset:u,height:h}}getWhitespaceViewportData(_,v){this._checkPendingChanges(),_=_|0,v=v|0;const u=this.getWhitespaceIndexAtOrAfterVerticallOffset(_),h=this.getWhitespacesCount()-1;if(u<0)return[];const i=[];for(let n=u;n<=h;n++){const t=this.getVerticalOffsetForWhitespaceIndex(n),o=this.getHeightForWhitespaceIndex(n);if(t>=v)break;i.push({id:this.getIdForWhitespaceIndex(n),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(n),verticalOffset:t,height:o})}return i}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(_){return this._checkPendingChanges(),_=_|0,this._arr[_].id}getAfterLineNumberForWhitespaceIndex(_){return this._checkPendingChanges(),_=_|0,this._arr[_].afterLineNumber}getHeightForWhitespaceIndex(_){return this._checkPendingChanges(),_=_|0,this._arr[_].height}}e.LinesLayout=I,I.INSTANCE_COUNT=0}),define(re[129],se([1,0,8,94,155]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderViewLine2=e.RenderLineOutput2=e.renderViewLine=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0;class I{constructor(C,S,y,w){this.endIndex=C,this.type=S,this.metadata=y,this.containsRTL=w,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class L{constructor(C,S){this.startOffset=C,this.endOffset=S}equals(C){return this.startOffset===C.startOffset&&this.endOffset===C.endOffset}}e.LineRange=L;class _{constructor(C,S,y,w,T,N,R,B,O,D,A,P,F,W,M,z,ee,ie,Y){this.useMonospaceOptimizations=C,this.canUseHalfwidthRightwardsArrow=S,this.lineContent=y,this.continuesWithWrappedLine=w,this.isBasicASCII=T,this.containsRTL=N,this.fauxIndentLength=R,this.lineTokens=B,this.lineDecorations=O.sort(k.LineDecoration.compare),this.tabSize=D,this.startVisibleColumn=A,this.spaceWidth=P,this.stopRenderingLineAfter=M,this.renderWhitespace=z==="all"?4:z==="boundary"?1:z==="selection"?2:z==="trailing"?3:0,this.renderControlCharacters=ee,this.fontLigatures=ie,this.selectionsOnLine=Y&&Y.sort((oe,G)=>oe.startOffset<G.startOffset?-1:1);const X=Math.abs(W-P),J=Math.abs(F-P);X<J?(this.renderSpaceWidth=W,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=F,this.renderSpaceCharCode=183)}sameSelection(C){if(this.selectionsOnLine===null)return C===null;if(C===null||C.length!==this.selectionsOnLine.length)return!1;for(let S=0;S<this.selectionsOnLine.length;S++)if(!this.selectionsOnLine[S].equals(C[S]))return!1;return!0}equals(C){return this.useMonospaceOptimizations===C.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===C.canUseHalfwidthRightwardsArrow&&this.lineContent===C.lineContent&&this.continuesWithWrappedLine===C.continuesWithWrappedLine&&this.isBasicASCII===C.isBasicASCII&&this.containsRTL===C.containsRTL&&this.fauxIndentLength===C.fauxIndentLength&&this.tabSize===C.tabSize&&this.startVisibleColumn===C.startVisibleColumn&&this.spaceWidth===C.spaceWidth&&this.renderSpaceWidth===C.renderSpaceWidth&&this.renderSpaceCharCode===C.renderSpaceCharCode&&this.stopRenderingLineAfter===C.stopRenderingLineAfter&&this.renderWhitespace===C.renderWhitespace&&this.renderControlCharacters===C.renderControlCharacters&&this.fontLigatures===C.fontLigatures&&k.LineDecoration.equalsArr(this.lineDecorations,C.lineDecorations)&&this.lineTokens.equals(C.lineTokens)&&this.sameSelection(C.selectionsOnLine)}}e.RenderLineInput=_;class v{constructor(C,S){this.partIndex=C,this.charIndex=S}}e.DomPosition=v;class u{constructor(C,S){this.length=C,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(C){return(C&4294901760)>>>16}static getCharIndex(C){return(C&65535)>>>0}setColumnInfo(C,S,y,w){const T=(S<<16|y<<0)>>>0;this._data[C-1]=T,this._absoluteOffsets[C-1]=w+y}getAbsoluteOffset(C){return this._absoluteOffsets.length===0?0:this._absoluteOffsets[C-1]}charOffsetToPartData(C){return this.length===0?0:C<0?this._data[0]:C>=this.length?this._data[this.length-1]:this._data[C]}getDomPosition(C){const S=this.charOffsetToPartData(C-1),y=u.getPartIndex(S),w=u.getCharIndex(S);return new v(y,w)}getColumn(C,S){return this.partDataToCharOffset(C.partIndex,S,C.charIndex)+1}partDataToCharOffset(C,S,y){if(this.length===0)return 0;const w=(C<<16|y<<0)>>>0;let T=0,N=this.length-1;for(;T+1<N;){const M=T+N>>>1,z=this._data[M];if(z===w)return M;z>w?N=M:T=M}if(T===N)return T;const R=this._data[T],B=this._data[N];if(R===w)return T;if(B===w)return N;const O=u.getPartIndex(R),D=u.getCharIndex(R),A=u.getPartIndex(B);let P;O!==A?P=S:P=u.getCharIndex(B);const F=y-D,W=P-y;return F<=W?T:N}}e.CharacterMapping=u;class h{constructor(C,S,y){this._renderLineOutputBrand=void 0,this.characterMapping=C,this.containsRTL=S,this.containsForeignElements=y}}e.RenderLineOutput=h;function i(p,C){if(p.lineContent.length===0){if(p.lineDecorations.length>0){C.appendASCIIString("<span>");let S=0,y=0,w=0;for(const N of p.lineDecorations)(N.type===1||N.type===2)&&(C.appendASCIIString('<span class="'),C.appendASCIIString(N.className),C.appendASCIIString('"></span>'),N.type===1&&(w|=1,S++),N.type===2&&(w|=2,y++));C.appendASCIIString("</span>");const T=new u(1,S+y);return T.setColumnInfo(1,S,0,0),new h(T,!1,w)}return C.appendASCIIString("<span><span></span></span>"),new h(new u(0,0),!1,0)}return g(d(p),C)}e.renderViewLine=i;class n{constructor(C,S,y,w){this.characterMapping=C,this.html=S,this.containsRTL=y,this.containsForeignElements=w}}e.RenderLineOutput2=n;function t(p){const C=(0,m.createStringBuilder)(1e4),S=i(p,C);return new n(S.characterMapping,C.build(),S.containsRTL,S.containsForeignElements)}e.renderViewLine2=t;class o{constructor(C,S,y,w,T,N,R,B,O,D,A,P,F,W,M){this.fontIsMonospace=C,this.canUseHalfwidthRightwardsArrow=S,this.lineContent=y,this.len=w,this.isOverflowing=T,this.parts=N,this.containsForeignElements=R,this.fauxIndentLength=B,this.tabSize=O,this.startVisibleColumn=D,this.containsRTL=A,this.spaceWidth=P,this.renderSpaceCharCode=F,this.renderWhitespace=W,this.renderControlCharacters=M}}function d(p){const C=p.lineContent;let S,y;p.stopRenderingLineAfter!==-1&&p.stopRenderingLineAfter<C.length?(S=!0,y=p.stopRenderingLineAfter):(S=!1,y=C.length);let w=r(C,p.containsRTL,p.lineTokens,p.fauxIndentLength,y);p.renderControlCharacters&&!p.isBasicASCII&&(w=a(C,w)),(p.renderWhitespace===4||p.renderWhitespace===1||p.renderWhitespace===2&&!!p.selectionsOnLine||p.renderWhitespace===3)&&(w=l(p,C,y,w));let T=0;if(p.lineDecorations.length>0){for(let N=0,R=p.lineDecorations.length;N<R;N++){const B=p.lineDecorations[N];B.type===3||B.type===1?T|=1:B.type===2&&(T|=2)}w=f(C,y,w,p.lineDecorations)}return p.containsRTL||(w=c(C,w,!p.isBasicASCII||p.fontLigatures)),new o(p.useMonospaceOptimizations,p.canUseHalfwidthRightwardsArrow,C,y,S,w,T,p.fauxIndentLength,p.tabSize,p.startVisibleColumn,p.containsRTL,p.spaceWidth,p.renderSpaceCharCode,p.renderWhitespace,p.renderControlCharacters)}function r(p,C,S,y,w){const T=[];let N=0;y>0&&(T[N++]=new I(y,"",0,!1));let R=y;for(let B=0,O=S.getCount();B<O;B++){const D=S.getEndOffset(B);if(D<=y)continue;const A=S.getClassName(B);if(D>=w){const F=C?E.containsRTL(p.substring(R,w)):!1;T[N++]=new I(w,A,0,F);break}const P=C?E.containsRTL(p.substring(R,D)):!1;T[N++]=new I(D,A,0,P),R=D}return T}function c(p,C,S){let y=0;const w=[];let T=0;if(S)for(let N=0,R=C.length;N<R;N++){const B=C[N],O=B.endIndex;if(y+50<O){const D=B.type,A=B.metadata,P=B.containsRTL;let F=-1,W=y;for(let M=y;M<O;M++)p.charCodeAt(M)===32&&(F=M),F!==-1&&M-W>=50&&(w[T++]=new I(F+1,D,A,P),W=F+1,F=-1);W!==O&&(w[T++]=new I(O,D,A,P))}else w[T++]=B;y=O}else for(let N=0,R=C.length;N<R;N++){const B=C[N],O=B.endIndex,D=O-y;if(D>50){const A=B.type,P=B.metadata,F=B.containsRTL,W=Math.ceil(D/50);for(let M=1;M<W;M++){const z=y+M*50;w[T++]=new I(z,A,P,F)}w[T++]=new I(O,A,P,F)}else w[T++]=B;y=O}return w}function s(p){return p<32?p!==9:p===127||p>=8234&&p<=8238||p>=8294&&p<=8297||p>=8206&&p<=8207||p===1564}function a(p,C){const S=[];let y=new I(0,"",0,!1),w=0;for(const T of C){const N=T.endIndex;for(;w<N;w++){const R=p.charCodeAt(w);s(R)&&(w>y.endIndex&&(y=new I(w,T.type,T.metadata,T.containsRTL),S.push(y)),y=new I(w+1,"mtkcontrol",T.metadata,!1),S.push(y))}w>y.endIndex&&(y=new I(N,T.type,T.metadata,T.containsRTL),S.push(y))}return S}function l(p,C,S,y){const w=p.continuesWithWrappedLine,T=p.fauxIndentLength,N=p.tabSize,R=p.startVisibleColumn,B=p.useMonospaceOptimizations,O=p.selectionsOnLine,D=p.renderWhitespace===1,A=p.renderWhitespace===3,P=p.renderSpaceWidth!==p.spaceWidth,F=[];let W=0,M=0,z=y[M].type,ee=y[M].containsRTL,ie=y[M].endIndex;const Y=y.length;let X=!1,J=E.firstNonWhitespaceIndex(C),oe;J===-1?(X=!0,J=S,oe=S):oe=E.lastNonWhitespaceIndex(C);let G=!1,x=0,V=O&&O[x],K=R%N;for(let ae=T;ae<S;ae++){const Q=C.charCodeAt(ae);V&&ae>=V.endOffset&&(x++,V=O&&O[x]);let q;if(ae<J||ae>oe)q=!0;else if(Q===9)q=!0;else if(Q===32)if(D)if(G)q=!0;else{const Z=ae+1<S?C.charCodeAt(ae+1):0;q=Z===32||Z===9}else q=!0;else q=!1;if(q&&O&&(q=!!V&&V.startOffset<=ae&&V.endOffset>ae),q&&A&&(q=X||ae>oe),q&&ee&&ae>=J&&ae<=oe&&(q=!1),G){if(!q||!B&&K>=N){if(P){const Z=W>0?F[W-1].endIndex:T;for(let j=Z+1;j<=ae;j++)F[W++]=new I(j,"mtkw",1,!1)}else F[W++]=new I(ae,"mtkw",1,!1);K=K%N}}else(ae===ie||q&&ae>T)&&(F[W++]=new I(ae,z,0,ee),K=K%N);for(Q===9?K=N:E.isFullWidthCharacter(Q)?K+=2:K++,G=q;ae===ie&&(M++,M<Y);)z=y[M].type,ee=y[M].containsRTL,ie=y[M].endIndex}let le=!1;if(G)if(w&&D){const ae=S>0?C.charCodeAt(S-1):0,Q=S>1?C.charCodeAt(S-2):0;ae===32&&Q!==32&&Q!==9||(le=!0)}else le=!0;if(le)if(P){const ae=W>0?F[W-1].endIndex:T;for(let Q=ae+1;Q<=S;Q++)F[W++]=new I(Q,"mtkw",1,!1)}else F[W++]=new I(S,"mtkw",1,!1);else F[W++]=new I(S,z,0,ee);return F}function f(p,C,S,y){y.sort(k.LineDecoration.compare);const w=k.LineDecorationsNormalizer.normalize(p,y),T=w.length;let N=0;const R=[];let B=0,O=0;for(let A=0,P=S.length;A<P;A++){const F=S[A],W=F.endIndex,M=F.type,z=F.metadata,ee=F.containsRTL;for(;N<T&&w[N].startOffset<W;){const ie=w[N];if(ie.startOffset>O&&(O=ie.startOffset,R[B++]=new I(O,M,z,ee)),ie.endOffset+1<=W)O=ie.endOffset+1,R[B++]=new I(O,M+" "+ie.className,z|ie.metadata,ee),N++;else{O=W,R[B++]=new I(O,M+" "+ie.className,z|ie.metadata,ee);break}}W>O&&(O=W,R[B++]=new I(O,M,z,ee))}const D=S[S.length-1].endIndex;if(N<T&&w[N].startOffset===D)for(;N<T&&w[N].startOffset===D;){const A=w[N];R[B++]=new I(O,A.className,A.metadata,!1),N++}return R}function g(p,C){const S=p.fontIsMonospace,y=p.canUseHalfwidthRightwardsArrow,w=p.containsForeignElements,T=p.lineContent,N=p.len,R=p.isOverflowing,B=p.parts,O=p.fauxIndentLength,D=p.tabSize,A=p.startVisibleColumn,P=p.containsRTL,F=p.spaceWidth,W=p.renderSpaceCharCode,M=p.renderWhitespace,z=p.renderControlCharacters,ee=new u(N+1,B.length);let ie=!1,Y=0,X=A,J=0,oe=0,G=0,x=0;P?C.appendASCIIString('<span dir="ltr">'):C.appendASCIIString("<span>");for(let V=0,K=B.length;V<K;V++){x+=G;const le=B[V],ae=le.endIndex,Q=le.type,q=le.containsRTL,Z=M!==0&&le.isWhitespace(),j=Z&&!S&&(Q==="mtkw"||!w),$=Y===ae&&le.isPseudoAfter();if(J=0,C.appendASCIIString("<span "),q&&C.appendASCIIString('style="unicode-bidi:isolate" '),C.appendASCIIString('class="'),C.appendASCIIString(j?"mtkz":Q),C.appendASCII(34),Z){let H=0;{let te=Y,ne=X;for(;te<ae;te++){const he=(T.charCodeAt(te)===9?D-ne%D:1)|0;H+=he,te>=O&&(ne+=he)}}for(j&&(C.appendASCIIString(' style="width:'),C.appendASCIIString(String(F*H)),C.appendASCIIString('px"')),C.appendASCII(62);Y<ae;Y++){ee.setColumnInfo(Y+1,V-oe,J,x),oe=0;const te=T.charCodeAt(Y);let ne;if(te===9){ne=D-X%D|0,!y||ne>1?C.write1(8594):C.write1(65515);for(let de=2;de<=ne;de++)C.write1(160)}else ne=1,C.write1(W);J+=ne,Y>=O&&(X+=ne)}G=H}else{let H=0;for(C.appendASCII(62);Y<ae;Y++){ee.setColumnInfo(Y+1,V-oe,J,x),oe=0;const te=T.charCodeAt(Y);let ne=1,de=1;switch(te){case 9:ne=D-X%D,de=ne;for(let he=1;he<=ne;he++)C.write1(160);break;case 32:C.write1(160);break;case 60:C.appendASCIIString("&lt;");break;case 62:C.appendASCIIString("&gt;");break;case 38:C.appendASCIIString("&amp;");break;case 0:z?C.write1(9216):C.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:C.write1(65533);break;default:E.isFullWidthCharacter(te)&&de++,z&&te<32?C.write1(9216+te):z&&te===127?C.write1(9249):z&&s(te)?(C.appendASCIIString("[U+"),C.appendASCIIString(b(te)),C.appendASCIIString("]"),ne=8):C.write1(te)}J+=ne,H+=ne,Y>=O&&(X+=de)}G=H}$?oe++:oe=0,Y>=N&&!ie&&le.isPseudoAfter()&&(ie=!0,ee.setColumnInfo(Y+1,V,J,x)),C.appendASCIIString("</span>")}return ie||ee.setColumnInfo(N+1,B.length-1,J,x),R&&C.appendASCIIString("<span>&hellip;</span>"),C.appendASCIIString("</span>"),new h(ee,P,w)}function b(p){return p.toString(16).toUpperCase().padStart(4,"0")}}),define(re[460],se([1,0,3]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class m{constructor(I,L,_,v){this.selections=I,this.startLineNumber=L.startLineNumber|0,this.endLineNumber=L.endLineNumber|0,this.relativeVerticalOffset=L.relativeVerticalOffset,this.bigNumbersDelta=L.bigNumbersDelta|0,this.whitespaceViewportData=_,this._model=v,this.visibleRange=new E.Range(L.startLineNumber,this._model.getLineMinColumn(L.startLineNumber),L.endLineNumber,this._model.getLineMaxColumn(L.endLineNumber))}getViewLineRenderingData(I){return this._model.getViewLineRenderingData(this.visibleRange,I)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=m}),define(re[74],se([1,0,8,3]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class k{constructor(t,o,d,r){this._viewportBrand=void 0,this.top=t|0,this.left=o|0,this.width=d|0,this.height=r|0}}e.Viewport=k;class I{constructor(t,o){this.tabSize=t,this.data=o}}e.MinimapLinesRenderingData=I;class L{constructor(t,o,d,r,c,s,a){this._viewLineDataBrand=void 0,this.content=t,this.continuesWithWrappedLine=o,this.minColumn=d,this.maxColumn=r,this.startVisibleColumn=c,this.tokens=s,this.inlineDecorations=a}}e.ViewLineData=L;class _{constructor(t,o,d,r,c,s,a,l,f,g){this.minColumn=t,this.maxColumn=o,this.content=d,this.continuesWithWrappedLine=r,this.isBasicASCII=_.isBasicASCII(d,s),this.containsRTL=_.containsRTL(d,this.isBasicASCII,c),this.tokens=a,this.inlineDecorations=l,this.tabSize=f,this.startVisibleColumn=g}static isBasicASCII(t,o){return o?E.isBasicASCII(t):!0}static containsRTL(t,o,d){return!o&&d?E.containsRTL(t):!1}}e.ViewLineRenderingData=_;class v{constructor(t,o,d){this.range=t,this.inlineClassName=o,this.type=d}}e.InlineDecoration=v;class u{constructor(t,o,d,r){this.startOffset=t,this.endOffset=o,this.inlineClassName=d,this.inlineClassNameAffectsLetterSpacing=r}toInlineDecoration(t){return new v(new m.Range(t,this.startOffset+1,t,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=u;class h{constructor(t,o){this._viewModelDecorationBrand=void 0,this.range=t,this.options=o}}e.ViewModelDecoration=h;class i{constructor(t,o,d){this.color=t,this.zIndex=o,this.data=d}static cmp(t,o){return t.zIndex===o.zIndex?t.color<o.color?-1:t.color>o.color?1:0:t.zIndex-o.zIndex}}e.OverviewRulerDecorationsGroup=i}),define(re[259],se([1,0,4,2,242,27]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class L extends m.Disposable{constructor(){super();this._onDidChange=new E.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(I.TokenizationRegistry.onDidChange(v=>{v.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,m.markAsSingleton)(new L)),this._INSTANCE}_updateColorMap(){const v=I.TokenizationRegistry.getColorMap();if(!v){this._colors=[k.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[k.RGBA8.Empty];for(let h=1;h<v.length;h++){const i=v[h].rgba;this._colors[h]=new k.RGBA8(i.r,i.g,i.b,Math.round(i.a*255))}const u=v[2].getRelativeLuminance();this._backgroundIsLight=u>=.5,this._onDidChange.fire(void 0)}getColor(v){return(v<1||v>=this._colors.length)&&(v=2),this._colors[v]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=L,L._INSTANCE=null}),define(re[461],se([1,0,79,11,96,74]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=void 0;function L(t,o){return t===null?o?v.INSTANCE:u.INSTANCE:new _(t,o)}e.createModelLineProjection=L;class _{constructor(o,d){this._projectionData=o,this._isVisible=d}isVisible(){return this._isVisible}setVisible(o){return this._isVisible=o,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(o,d,r){this._assertVisible();const c=r>0?this._projectionData.breakOffsets[r-1]:0,s=this._projectionData.breakOffsets[r];let a;if(this._projectionData.injectionOffsets!==null){const l=this._projectionData.injectionOffsets.map((g,b)=>new k.LineInjectedText(0,0,g+1,this._projectionData.injectionOptions[b],0));a=k.LineInjectedText.applyInjectedText(o.getLineContent(d),l).substring(c,s)}else a=o.getValueInRange({startLineNumber:d,startColumn:c+1,endLineNumber:d,endColumn:s+1});return r>0&&(a=i(this._projectionData.wrappedTextIndentLength)+a),a}getViewLineLength(o,d,r){return this._assertVisible(),this._projectionData.getLineLength(r)}getViewLineMinColumn(o,d,r){return this._assertVisible(),this._projectionData.getMinOutputOffset(r)+1}getViewLineMaxColumn(o,d,r){return this._assertVisible(),this._projectionData.getMaxOutputOffset(r)+1}getViewLineData(o,d,r){const c=new Array;return this.getViewLinesData(o,d,r,1,0,[!0],c),c[0]}getViewLinesData(o,d,r,c,s,a,l){this._assertVisible();const f=this._projectionData,g=f.injectionOffsets,b=f.injectionOptions;let p=null;if(g){p=[];let S=0,y=0;for(let w=0;w<f.getOutputLineCount();w++){const T=new Array;p[w]=T;const N=w>0?f.breakOffsets[w-1]:0,R=f.breakOffsets[w];for(;y<g.length;){const B=b[y].content.length,O=g[y]+S,D=O+B;if(O>R)break;if(N<D){const A=b[y];if(A.inlineClassName){const P=w>0?f.wrappedTextIndentLength:0,F=P+Math.max(O-N,0),W=P+Math.min(D-N,R);F!==W&&T.push(new I.SingleLineInlineDecoration(F,W,A.inlineClassName,A.inlineClassNameAffectsLetterSpacing))}}if(D<=R)S+=B,y++;else break}}}let C;g?C=o.tokenization.getLineTokens(d).withInserted(g.map((S,y)=>({offset:S,text:b[y].content,tokenMetadata:E.LineTokens.defaultTokenMetadata}))):C=o.tokenization.getLineTokens(d);for(let S=r;S<r+c;S++){const y=s+S-r;if(!a[y]){l[y]=null;continue}l[y]=this._getViewLineData(C,p?p[S]:null,S)}}_getViewLineData(o,d,r){this._assertVisible();const c=this._projectionData,s=r>0?c.wrappedTextIndentLength:0,a=r>0?c.breakOffsets[r-1]:0,l=c.breakOffsets[r],f=o.sliceAndInflate(a,l,s);let g=f.getLineContent();r>0&&(g=i(c.wrappedTextIndentLength)+g);const b=this._projectionData.getMinOutputOffset(r)+1,p=g.length+1,C=r+1<this.getViewLineCount(),S=r===0?0:c.breakOffsetsVisibleColumn[r-1];return new I.ViewLineData(g,C,b,p,S,f,d)}getModelColumnOfViewPosition(o,d){return this._assertVisible(),this._projectionData.translateToInputOffset(o,d-1)+1}getViewPositionOfModelPosition(o,d,r=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(d-1,r).toPosition(o)}getViewLineNumberOfModelPosition(o,d){this._assertVisible();const r=this._projectionData.translateToOutputPosition(d-1);return o+r.outputLineIndex}normalizePosition(o,d,r){const c=d.lineNumber-o;return this._projectionData.normalizeOutputPosition(o,d.column-1,r).toPosition(c)}getInjectedTextAt(o,d){return this._projectionData.getInjectedText(o,d-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class v{constructor(){}isVisible(){return!0}setVisible(o){return o?this:u.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(o,d,r){return o.getLineContent(d)}getViewLineLength(o,d,r){return o.getLineLength(d)}getViewLineMinColumn(o,d,r){return o.getLineMinColumn(d)}getViewLineMaxColumn(o,d,r){return o.getLineMaxColumn(d)}getViewLineData(o,d,r){const c=o.tokenization.getLineTokens(d),s=c.getLineContent();return new I.ViewLineData(s,!1,1,s.length+1,0,c.inflate(),null)}getViewLinesData(o,d,r,c,s,a,l){if(!a[s]){l[s]=null;return}l[s]=this.getViewLineData(o,d,0)}getModelColumnOfViewPosition(o,d){return d}getViewPositionOfModelPosition(o,d){return new m.Position(o,d)}getViewLineNumberOfModelPosition(o,d){return o}normalizePosition(o,d,r){return d}getInjectedTextAt(o,d){return null}}v.INSTANCE=new v;class u{constructor(){}isVisible(){return!1}setVisible(o){return o?v.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(o,d,r){throw new Error("Not supported")}getViewLineLength(o,d,r){throw new Error("Not supported")}getViewLineMinColumn(o,d,r){throw new Error("Not supported")}getViewLineMaxColumn(o,d,r){throw new Error("Not supported")}getViewLineData(o,d,r){throw new Error("Not supported")}getViewLinesData(o,d,r,c,s,a,l){throw new Error("Not supported")}getModelColumnOfViewPosition(o,d){throw new Error("Not supported")}getViewPositionOfModelPosition(o,d){throw new Error("Not supported")}getViewLineNumberOfModelPosition(o,d){throw new Error("Not supported")}normalizePosition(o,d,r){throw new Error("Not supported")}getInjectedTextAt(o,d){throw new Error("Not supported")}}u.INSTANCE=new u;let h=[""];function i(t){if(t>=h.length)for(let o=1;o<=t;o++)h[o]=n(o);return h[t]}function n(t){return new Array(t+1).join(" ")}}),define(re[462],se([1,0,8,102,96,252]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class L{constructor(c,s){this.classifier=new _(c,s)}static create(c){return new L(c.get(120),c.get(119))}createLineBreaksComputer(c,s,a,l){const f=[],g=[],b=[];return{addRequest:(p,C,S)=>{f.push(p),g.push(C),b.push(S)},finalize:()=>{const p=c.typicalFullwidthCharacterWidth/c.typicalHalfwidthCharacterWidth,C=[];for(let S=0,y=f.length;S<y;S++){const w=g[S],T=b[S];T&&!T.injectionOptions&&!w?C[S]=h(this.classifier,T,f[S],s,a,p,l):C[S]=i(this.classifier,f[S],w,s,a,p,l)}return v.length=0,u.length=0,C}}}}e.MonospaceLineBreaksComputerFactory=L;class _ extends m.CharacterClassifier{constructor(c,s){super(0);for(let a=0;a<c.length;a++)this.set(c.charCodeAt(a),1);for(let a=0;a<s.length;a++)this.set(s.charCodeAt(a),2)}get(c){return c>=0&&c<256?this._asciiMap[c]:c>=12352&&c<=12543||c>=13312&&c<=19903||c>=19968&&c<=40959?3:this._map.get(c)||this._defaultValue}}let v=[],u=[];function h(r,c,s,a,l,f,g){if(l===-1)return null;const b=s.length;if(b<=1)return null;const p=c.breakOffsets,C=c.breakOffsetsVisibleColumn,S=d(s,a,l,f,g),y=l-S,w=v,T=u;let N=0,R=0,B=0,O=l;const D=p.length;let A=0;if(A>=0){let P=Math.abs(C[A]-O);for(;A+1<D;){const F=Math.abs(C[A+1]-O);if(F>=P)break;P=F,A++}}for(;A<D;){let P=A<0?0:p[A],F=A<0?0:C[A];R>P&&(P=R,F=B);let W=0,M=0,z=0,ee=0;if(F<=O){let Y=F,X=P===0?0:s.charCodeAt(P-1),J=P===0?0:r.get(X),oe=!0;for(let G=P;G<b;G++){const x=G,V=s.charCodeAt(G);let K,le;if(E.isHighSurrogate(V)?(G++,K=0,le=2):(K=r.get(V),le=n(V,Y,a,f)),x>R&&o(X,J,V,K)&&(W=x,M=Y),Y+=le,Y>O){x>R?(z=x,ee=Y-le):(z=G+1,ee=Y),Y-M>y&&(W=0),oe=!1;break}X=V,J=K}if(oe){N>0&&(w[N]=p[p.length-1],T[N]=C[p.length-1],N++);break}}if(W===0){let Y=F,X=s.charCodeAt(P),J=r.get(X),oe=!1;for(let G=P-1;G>=R;G--){const x=G+1,V=s.charCodeAt(G);if(V===9){oe=!0;break}let K,le;if(E.isLowSurrogate(V)?(G--,K=0,le=2):(K=r.get(V),le=E.isFullWidthCharacter(V)?f:1),Y<=O){if(z===0&&(z=x,ee=Y),Y<=O-y)break;if(o(V,K,X,J)){W=x,M=Y;break}}Y-=le,X=V,J=K}if(W!==0){const G=y-(ee-M);if(G<=a){const x=s.charCodeAt(z);let V;E.isHighSurrogate(x)?V=2:V=n(x,ee,a,f),G-V<0&&(W=0)}}if(oe){A--;continue}}if(W===0&&(W=z,M=ee),W<=R){const Y=s.charCodeAt(R);E.isHighSurrogate(Y)?(W=R+2,M=B+2):(W=R+1,M=B+n(Y,B,a,f))}for(R=W,w[N]=W,B=M,T[N]=M,N++,O=M+y;A<0||A<D&&C[A]<M;)A++;let ie=Math.abs(C[A]-O);for(;A+1<D;){const Y=Math.abs(C[A+1]-O);if(Y>=ie)break;ie=Y,A++}}return N===0?null:(w.length=N,T.length=N,v=c.breakOffsets,u=c.breakOffsetsVisibleColumn,c.breakOffsets=w,c.breakOffsetsVisibleColumn=T,c.wrappedTextIndentLength=S,c)}function i(r,c,s,a,l,f,g){const b=k.LineInjectedText.applyInjectedText(c,s);let p,C;if(s&&s.length>0?(p=s.map(M=>M.options),C=s.map(M=>M.column-1)):(p=null,C=null),l===-1)return p?new I.ModelLineProjectionData(C,p,[b.length],[],0):null;const S=b.length;if(S<=1)return p?new I.ModelLineProjectionData(C,p,[b.length],[],0):null;const y=d(b,a,l,f,g),w=l-y,T=[],N=[];let R=0,B=0,O=0,D=l,A=b.charCodeAt(0),P=r.get(A),F=n(A,0,a,f),W=1;E.isHighSurrogate(A)&&(F+=1,A=b.charCodeAt(1),P=r.get(A),W++);for(let M=W;M<S;M++){const z=M,ee=b.charCodeAt(M);let ie,Y;E.isHighSurrogate(ee)?(M++,ie=0,Y=2):(ie=r.get(ee),Y=n(ee,F,a,f)),o(A,P,ee,ie)&&(B=z,O=F),F+=Y,F>D&&((B===0||F-O>w)&&(B=z,O=F-Y),T[R]=B,N[R]=O,R++,D=O+w,B=0),A=ee,P=ie}return R===0&&(!s||s.length===0)?null:(T[R]=S,N[R]=F,new I.ModelLineProjectionData(C,p,T,N,y))}function n(r,c,s,a){return r===9?s-c%s:E.isFullWidthCharacter(r)||r<32?a:1}function t(r,c){return c-r%c}function o(r,c,s,a){return s!==32&&(c===2||c===3&&a!==2||a===1||a===3&&c!==1)}function d(r,c,s,a,l){let f=0;if(l!==0){const g=E.firstNonWhitespaceIndex(r);if(g!==-1){for(let p=0;p<g;p++)f+=r.charCodeAt(p)===9?t(f,c):1;const b=l===3?2:l===2?1:0;for(let p=0;p<b;p++)f+=t(f,c);f+a>s&&(f=0)}}return f}}),define(re[260],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class E{constructor(L,_,v){this._colorZoneBrand=void 0,this.from=L|0,this.to=_|0,this.colorId=v|0}static compare(L,_){return L.colorId===_.colorId?L.from===_.from?L.to-_.to:L.from-_.from:L.colorId-_.colorId}}e.ColorZone=E;class m{constructor(L,_,v,u){this._overviewRulerZoneBrand=void 0,this.startLineNumber=L,this.endLineNumber=_,this.heightInLines=v,this.color=u,this._colorZone=null}static compare(L,_){return L.color===_.color?L.startLineNumber===_.startLineNumber?L.heightInLines===_.heightInLines?L.endLineNumber-_.endLineNumber:L.heightInLines-_.heightInLines:L.startLineNumber-_.startLineNumber:L.color<_.color?-1:1}setColorZone(L){this._colorZone=L}getColorZones(){return this._colorZone}}e.OverviewRulerZone=m;class k{constructor(L){this._getVerticalOffsetForLine=L,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(L){this._zones=L,this._zones.sort(m.compare)}setLineHeight(L){return this._lineHeight===L?!1:(this._lineHeight=L,this._colorZonesInvalid=!0,!0)}setPixelRatio(L){this._pixelRatio=L,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(L){return this._domWidth===L?!1:(this._domWidth=L,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(L){return this._domHeight===L?!1:(this._domHeight=L,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(L){return this._outerHeight===L?!1:(this._outerHeight=L,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const L=this._colorZonesInvalid,_=Math.floor(this._lineHeight),v=Math.floor(this.getCanvasHeight()),u=Math.floor(this._outerHeight),h=v/u,i=Math.floor(4*this._pixelRatio/2),n=[];for(let t=0,o=this._zones.length;t<o;t++){const d=this._zones[t];if(!L){const C=d.getColorZones();if(C){n.push(C);continue}}const r=this._getVerticalOffsetForLine(d.startLineNumber),c=d.heightInLines===0?this._getVerticalOffsetForLine(d.endLineNumber)+_:r+d.heightInLines*_,s=Math.floor(h*r),a=Math.floor(h*c);let l=Math.floor((s+a)/2),f=a-l;f<i&&(f=i),l-f<0&&(l=f),l+f>v&&(l=v-f);const g=d.color;let b=this._color2Id[g];b||(b=++this._lastAssignedId,this._color2Id[g]=b,this._id2Color[b]=g);const p=new E(l-f,l+f,b);d.setColorZone(p),n.push(p)}return this._colorZonesInvalid=!1,n.sort(E.compare),n}}e.OverviewZoneManager=k}),define(re[463],se([1,0,32,260,128]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class I extends k.ViewEventHandler{constructor(_,v){super();this._context=_;const u=this._context.configuration.options;this._domNode=(0,E.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(v),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new m.OverviewZoneManager(h=>this._context.viewLayout.getVerticalOffsetForLineNumber(h)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(u.get(59)),this._zoneManager.setPixelRatio(u.get(129)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(_){const v=this._context.configuration.options;return _.hasChanged(59)&&(this._zoneManager.setLineHeight(v.get(59)),this._render()),_.hasChanged(129)&&(this._zoneManager.setPixelRatio(v.get(129)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(_){return this._render(),!0}onScrollChanged(_){return _.scrollHeightChanged&&(this._zoneManager.setOuterHeight(_.scrollHeight),this._render()),!0}onZonesChanged(_){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(_){this._domNode.setTop(_.top),this._domNode.setRight(_.right);let v=!1;v=this._zoneManager.setDOMWidth(_.width)||v,v=this._zoneManager.setDOMHeight(_.height)||v,v&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(_){this._zoneManager.setZones(_),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const _=this._zoneManager.getCanvasWidth(),v=this._zoneManager.getCanvasHeight(),u=this._zoneManager.resolveColorZones(),h=this._zoneManager.getId2Color(),i=this._domNode.domNode.getContext("2d");return i.clearRect(0,0,_,v),u.length>0&&this._renderOneLane(i,u,h,_),!0}_renderOneLane(_,v,u,h){let i=0,n=0,t=0;for(const o of v){const d=o.colorId,r=o.from,c=o.to;d!==i?(_.fillRect(0,n,h,t-n),i=d,_.fillStyle=u[i],n=r,t=c):t>=r?t=Math.max(t,c):(_.fillRect(0,n,h,t-n),n=r,t=c)}_.fillRect(0,n,h,t-n)}}e.OverviewRuler=I}),define(re[464],se([1,0,417]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=void 0;class m{constructor(I,L,_){this.configuration=I,this.theme=new E.EditorTheme(L),this.viewModel=_,this.viewLayout=_.viewLayout}addEventHandler(I){this.viewModel.addViewEventHandler(I)}removeEventHandler(I){this.viewModel.removeViewEventHandler(I)}}e.ViewContext=m}),define(re[192],se([1,0,4,2]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelTokensChangedEvent=e.ModelOptionsChangedEvent=e.ModelContentChangedEvent=e.ModelLanguageConfigurationChangedEvent=e.ModelLanguageChangedEvent=e.ModelDecorationsChangedEvent=e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class k extends m.Disposable{constructor(){super();this._onEvent=this._register(new E.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(l){this._addOutgoingEvent(l),this._emitOutgoingEvents()}_addOutgoingEvent(l){for(let f=0,g=this._outgoingEvents.length;f<g;f++){const b=this._outgoingEvents[f].kind===l.kind?this._outgoingEvents[f].attemptToMerge(l):null;if(b){this._outgoingEvents[f]=b;return}}this._outgoingEvents.push(l)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const l=this._outgoingEvents.shift();l.isNoOp()||this._onEvent.fire(l)}}addViewEventHandler(l){for(let f=0,g=this._eventHandlers.length;f<g;f++)this._eventHandlers[f]===l&&console.warn("Detected duplicate listener in ViewEventDispatcher",l);this._eventHandlers.push(l)}removeViewEventHandler(l){for(let f=0;f<this._eventHandlers.length;f++)if(this._eventHandlers[f]===l){this._eventHandlers.splice(f,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new I),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const l=this._collector.outgoingEvents,f=this._collector.viewEvents;this._collector=null;for(const g of l)this._addOutgoingEvent(g);f.length>0&&this._emitMany(f)}this._emitOutgoingEvents()}emitSingleViewEvent(l){try{this.beginEmitViewEvents().emitViewEvent(l)}finally{this.endEmitViewEvents()}}_emitMany(l){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(l):this._viewEventQueue=l,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const l=this._viewEventQueue;this._viewEventQueue=null;const f=this._eventHandlers.slice(0);for(const g of f)g.handleEvents(l)}}}e.ViewModelEventDispatcher=k;class I{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(l){this.viewEvents.push(l)}emitOutgoingEvent(l){this.outgoingEvents.push(l)}}e.ViewModelEventsCollector=I;class L{constructor(l,f,g,b){this.kind=0,this._oldContentWidth=l,this._oldContentHeight=f,this.contentWidth=g,this.contentHeight=b,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(l){return l.kind!==this.kind?null:new L(this._oldContentWidth,this._oldContentHeight,l.contentWidth,l.contentHeight)}}e.ContentSizeChangedEvent=L;class _{constructor(l,f){this.kind=1,this.oldHasFocus=l,this.hasFocus=f}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(l){return l.kind!==this.kind?null:new _(this.oldHasFocus,l.hasFocus)}}e.FocusChangedEvent=_;class v{constructor(l,f,g,b,p,C,S,y){this.kind=2,this._oldScrollWidth=l,this._oldScrollLeft=f,this._oldScrollHeight=g,this._oldScrollTop=b,this.scrollWidth=p,this.scrollLeft=C,this.scrollHeight=S,this.scrollTop=y,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(l){return l.kind!==this.kind?null:new v(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,l.scrollWidth,l.scrollLeft,l.scrollHeight,l.scrollTop)}}e.ScrollChangedEvent=v;class u{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(l){return l.kind!==this.kind?null:this}}e.ViewZonesChangedEvent=u;class h{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(l){return l.kind!==this.kind?null:this}}e.HiddenAreasChangedEvent=h;class i{constructor(l,f,g,b,p,C,S){this.kind=6,this.oldSelections=l,this.selections=f,this.oldModelVersionId=g,this.modelVersionId=b,this.source=p,this.reason=C,this.reachedMaxCursorCount=S}static _selectionsAreEqual(l,f){if(!l&&!f)return!0;if(!l||!f)return!1;const g=l.length,b=f.length;if(g!==b)return!1;for(let p=0;p<g;p++)if(!l[p].equalsSelection(f[p]))return!1;return!0}isNoOp(){return i._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(l){return l.kind!==this.kind?null:new i(this.oldSelections,l.selections,this.oldModelVersionId,l.modelVersionId,l.source,l.reason,this.reachedMaxCursorCount||l.reachedMaxCursorCount)}}e.CursorStateChangedEvent=i;class n{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(l){return l.kind!==this.kind?null:this}}e.ReadOnlyEditAttemptEvent=n;class t{constructor(l){this.event=l,this.kind=7}isNoOp(){return!1}attemptToMerge(l){return null}}e.ModelDecorationsChangedEvent=t;class o{constructor(l){this.event=l,this.kind=8}isNoOp(){return!1}attemptToMerge(l){return null}}e.ModelLanguageChangedEvent=o;class d{constructor(l){this.event=l,this.kind=9}isNoOp(){return!1}attemptToMerge(l){return null}}e.ModelLanguageConfigurationChangedEvent=d;class r{constructor(l){this.event=l,this.kind=10}isNoOp(){return!1}attemptToMerge(l){return null}}e.ModelContentChangedEvent=r;class c{constructor(l){this.event=l,this.kind=11}isNoOp(){return!1}attemptToMerge(l){return null}}e.ModelOptionsChangedEvent=c;class s{constructor(l){this.event=l,this.kind=12}isNoOp(){return!1}attemptToMerge(l){return null}}e.ModelTokensChangedEvent=s}),define(re[465],se([1,0,4,2,140,459,74,192]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const v=125;class u{constructor(t,o,d,r){t=t|0,o=o|0,d=d|0,r=r|0,t<0&&(t=0),o<0&&(o=0),d<0&&(d=0),r<0&&(r=0),this.width=t,this.contentWidth=o,this.scrollWidth=Math.max(t,o),this.height=d,this.contentHeight=r,this.scrollHeight=Math.max(d,r)}equals(t){return this.width===t.width&&this.contentWidth===t.contentWidth&&this.height===t.height&&this.contentHeight===t.contentHeight}}class h extends m.Disposable{constructor(t,o){super();this._onDidContentSizeChange=this._register(new E.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new u(0,0,0,0),this._scrollable=this._register(new k.Scrollable({forceIntegerValues:!0,smoothScrollDuration:t,scheduleAtNextAnimationFrame:o})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(t){this._scrollable.setSmoothScrollDuration(t)}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}getScrollDimensions(){return this._dimensions}setScrollDimensions(t){if(this._dimensions.equals(t))return;const o=this._dimensions;this._dimensions=t,this._scrollable.setScrollDimensions({width:t.width,scrollWidth:t.scrollWidth,height:t.height,scrollHeight:t.scrollHeight},!0);const d=o.contentWidth!==t.contentWidth,r=o.contentHeight!==t.contentHeight;(d||r)&&this._onDidContentSizeChange.fire(new _.ContentSizeChangedEvent(o.contentWidth,o.contentHeight,t.contentWidth,t.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(t){this._scrollable.setScrollPositionNow(t)}setScrollPositionSmooth(t){this._scrollable.setScrollPositionSmooth(t)}}class i extends m.Disposable{constructor(t,o,d){super();this._configuration=t;const r=this._configuration.options,c=r.get(131),s=r.get(75);this._linesLayout=new I.LinesLayout(o,r.get(59),s.top,s.bottom),this._scrollable=this._register(new h(0,d)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new u(c.contentWidth,0,c.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(103)?v:0)}onConfigurationChanged(t){const o=this._configuration.options;if(t.hasChanged(59)&&this._linesLayout.setLineHeight(o.get(59)),t.hasChanged(75)){const d=o.get(75);this._linesLayout.setPadding(d.top,d.bottom)}if(t.hasChanged(131)){const d=o.get(131),r=d.contentWidth,c=d.height,s=this._scrollable.getScrollDimensions(),a=s.contentWidth;this._scrollable.setScrollDimensions(new u(r,s.contentWidth,c,this._getContentHeight(r,c,a)))}else this._updateHeight();t.hasChanged(103)&&this._configureSmoothScrollDuration()}onFlushed(t){this._linesLayout.onFlushed(t)}onLinesDeleted(t,o){this._linesLayout.onLinesDeleted(t,o)}onLinesInserted(t,o){this._linesLayout.onLinesInserted(t,o)}_getHorizontalScrollbarHeight(t,o){const r=this._configuration.options.get(92);return r.horizontal===2||t>=o?0:r.horizontalScrollbarSize}_getContentHeight(t,o,d){const r=this._configuration.options;let c=this._linesLayout.getLinesTotalHeight();return r.get(94)?c+=Math.max(0,o-r.get(59)-r.get(75).bottom):c+=this._getHorizontalScrollbarHeight(t,d),c}_updateHeight(){const t=this._scrollable.getScrollDimensions(),o=t.width,d=t.height,r=t.contentWidth;this._scrollable.setScrollDimensions(new u(o,t.contentWidth,d,this._getContentHeight(o,d,r)))}getCurrentViewport(){const t=this._scrollable.getScrollDimensions(),o=this._scrollable.getCurrentScrollPosition();return new L.Viewport(o.scrollTop,o.scrollLeft,t.width,t.height)}getFutureViewport(){const t=this._scrollable.getScrollDimensions(),o=this._scrollable.getFutureScrollPosition();return new L.Viewport(o.scrollTop,o.scrollLeft,t.width,t.height)}_computeContentWidth(t){const o=this._configuration.options,d=o.get(132),r=o.get(44);if(d.isViewportWrapping){const c=o.get(131),s=o.get(65);return t>c.contentWidth+r.typicalHalfwidthCharacterWidth&&s.enabled&&s.side==="right"?t+c.verticalScrollbarWidth:t}else{const c=o.get(93)*r.typicalHalfwidthCharacterWidth,s=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+c,s)}}setMaxLineWidth(t){const o=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new u(o.width,this._computeContentWidth(t),o.height,o.contentHeight)),this._updateHeight()}saveState(){const t=this._scrollable.getFutureScrollPosition(),o=t.scrollTop,d=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(o),r=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(d);return{scrollTop:o,scrollTopWithoutViewZones:o-r,scrollLeft:t.scrollLeft}}changeWhitespace(t){const o=this._linesLayout.changeWhitespace(t);return o&&this.onHeightMaybeChanged(),o}getVerticalOffsetForLineNumber(t){return this._linesLayout.getVerticalOffsetForLineNumber(t)}isAfterLines(t){return this._linesLayout.isAfterLines(t)}isInTopPadding(t){return this._linesLayout.isInTopPadding(t)}isInBottomPadding(t){return this._linesLayout.isInBottomPadding(t)}getLineNumberAtVerticalOffset(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)}getWhitespaceAtVerticalOffset(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)}getLinesViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)}getLinesViewportDataAtScrollTop(t){const o=this._scrollable.getScrollDimensions();return t+o.height>o.scrollHeight&&(t=o.scrollHeight-o.height),t<0&&(t=0),this._linesLayout.getLinesViewportData(t,t+o.height)}getWhitespaceViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}setScrollPosition(t,o){o===1?this._scrollable.setScrollPositionNow(t):this._scrollable.setScrollPositionSmooth(t)}deltaScrollNow(t,o){const d=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:d.scrollLeft+t,scrollTop:d.scrollTop+o})}}e.ViewLayout=i}),define(re[466],se([1,0,3,24]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class k{constructor(L,_){this._selection=L,this._isMovingLeft=_}getEditOperations(L,_){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const v=this._selection.startLineNumber,u=this._selection.startColumn,h=this._selection.endColumn;if(!(this._isMovingLeft&&u===1)&&!(!this._isMovingLeft&&h===L.getLineMaxColumn(v)))if(this._isMovingLeft){const i=new E.Range(v,u-1,v,u),n=L.getValueInRange(i);_.addEditOperation(i,null),_.addEditOperation(new E.Range(v,h,v,h),n)}else{const i=new E.Range(v,h,v,h+1),n=L.getValueInRange(i);_.addEditOperation(i,null),_.addEditOperation(new E.Range(v,u,v,u),n)}}computeCursorState(L,_){return this._isMovingLeft?new m.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new m.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=k}),define(re[156],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionCommandArgs=e.filtersAction=e.mayIncludeActionsOfKind=e.CodeActionKind=void 0;class E{constructor(v){this.value=v}equals(v){return this.value===v.value}contains(v){return this.equals(v)||this.value===""||v.value.startsWith(this.value+E.sep)}intersects(v){return this.contains(v)||v.contains(this)}append(v){return new E(this.value+E.sep+v)}}e.CodeActionKind=E,E.sep=".",E.None=new E("@@none@@"),E.Empty=new E(""),E.QuickFix=new E("quickfix"),E.Refactor=new E("refactor"),E.Source=new E("source"),E.SourceOrganizeImports=E.Source.append("organizeImports"),E.SourceFixAll=E.Source.append("fixAll");function m(_,v){return!(_.include&&!_.include.intersects(v)||_.excludes&&_.excludes.some(u=>I(v,u,_.include))||!_.includeSourceActions&&E.Source.contains(v))}e.mayIncludeActionsOfKind=m;function k(_,v){const u=v.kind?new E(v.kind):void 0;return!(_.include&&(!u||!_.include.contains(u))||_.excludes&&u&&_.excludes.some(h=>I(u,h,_.include))||!_.includeSourceActions&&u&&E.Source.contains(u)||_.onlyIncludePreferredActions&&!v.isPreferred)}e.filtersAction=k;function I(_,v,u){return!(!v.contains(_)||u&&v.contains(u))}class L{constructor(v,u,h){this.kind=v,this.apply=u,this.preferred=h}static fromUser(v,u){return!v||typeof v!="object"?new L(u.kind,u.apply,!1):new L(L.getKindFromUser(v,u.kind),L.getApplyFromUser(v,u.apply),L.getPreferredUser(v))}static getApplyFromUser(v,u){switch(typeof v.apply=="string"?v.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return u}}static getKindFromUser(v,u){return typeof v.kind=="string"?new E(v.kind):u}static getPreferredUser(v){return typeof v.preferred=="boolean"?v.preferred:!1}}e.CodeActionCommandArgs=L}),define(re[467],se([1,0,4]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class m{constructor(I,L,_){this.presentationIndex=_,this._onColorFlushed=new E.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new E.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new E.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=I,this._color=I,this._colorPresentations=L}get color(){return this._color}set color(I){this._color.equals(I)||(this._color=I,this._onDidChangeColor.fire(I))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(I){this._colorPresentations=I,this.presentationIndex>I.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(I,L){for(let _=0;_<this.colorPresentations.length;_++)if(L.toLowerCase()===this.colorPresentations[_].label){this.presentationIndex=_,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=m}),define(re[261],se([1,0,61,11,3,24]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class L{constructor(v,u,h){this.languageConfigurationService=h,this._selection=v,this._insertSpace=u,this._usedEndToken=null}static _haystackHasNeedleAtOffset(v,u,h){if(h<0)return!1;const i=u.length,n=v.length;if(h+i>n)return!1;for(let t=0;t<i;t++){const o=v.charCodeAt(h+t),d=u.charCodeAt(t);if(o!==d&&!(o>=65&&o<=90&&o+32===d)&&!(d>=65&&d<=90&&d+32===o))return!1}return!0}_createOperationsForBlockComment(v,u,h,i,n,t){const o=v.startLineNumber,d=v.startColumn,r=v.endLineNumber,c=v.endColumn,s=n.getLineContent(o),a=n.getLineContent(r);let l=s.lastIndexOf(u,d-1+u.length),f=a.indexOf(h,c-1-h.length);if(l!==-1&&f!==-1)if(o===r)s.substring(l+u.length,f).indexOf(h)>=0&&(l=-1,f=-1);else{const b=s.substring(l+u.length),p=a.substring(0,f);(b.indexOf(h)>=0||p.indexOf(h)>=0)&&(l=-1,f=-1)}let g;l!==-1&&f!==-1?(i&&l+u.length<s.length&&s.charCodeAt(l+u.length)===32&&(u=u+" "),i&&f>0&&a.charCodeAt(f-1)===32&&(h=" "+h,f-=1),g=L._createRemoveBlockCommentOperations(new k.Range(o,l+u.length+1,r,f+1),u,h)):(g=L._createAddBlockCommentOperations(v,u,h,this._insertSpace),this._usedEndToken=g.length===1?h:null);for(const b of g)t.addTrackedEditOperation(b.range,b.text)}static _createRemoveBlockCommentOperations(v,u,h){let i=[];return k.Range.isEmpty(v)?i.push(E.EditOperation.delete(new k.Range(v.startLineNumber,v.startColumn-u.length,v.endLineNumber,v.endColumn+h.length))):(i.push(E.EditOperation.delete(new k.Range(v.startLineNumber,v.startColumn-u.length,v.startLineNumber,v.startColumn))),i.push(E.EditOperation.delete(new k.Range(v.endLineNumber,v.endColumn,v.endLineNumber,v.endColumn+h.length)))),i}static _createAddBlockCommentOperations(v,u,h,i){let n=[];return k.Range.isEmpty(v)?n.push(E.EditOperation.replace(new k.Range(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn),u+"  "+h)):(n.push(E.EditOperation.insert(new m.Position(v.startLineNumber,v.startColumn),u+(i?" ":""))),n.push(E.EditOperation.insert(new m.Position(v.endLineNumber,v.endColumn),(i?" ":"")+h))),n}getEditOperations(v,u){const h=this._selection.startLineNumber,i=this._selection.startColumn;v.tokenization.tokenizeIfCheap(h);const n=v.getLanguageIdAtPosition(h,i),t=this.languageConfigurationService.getLanguageConfiguration(n).comments;!t||!t.blockCommentStartToken||!t.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,t.blockCommentStartToken,t.blockCommentEndToken,this._insertSpace,v,u)}computeCursorState(v,u){const h=u.getInverseEditOperations();if(h.length===2){const i=h[0],n=h[1];return new I.Selection(i.range.endLineNumber,i.range.endColumn,n.range.startLineNumber,n.range.startColumn)}else{const i=h[0].range,n=this._usedEndToken?-this._usedEndToken.length-1:0;return new I.Selection(i.endLineNumber,i.endColumn+n,i.endLineNumber,i.endColumn+n)}}}e.BlockCommentCommand=L}),define(re[468],se([1,0,8,61,11,3,24,261]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class v{constructor(h,i,n,t,o,d,r){this.languageConfigurationService=h,this._selection=i,this._tabSize=n,this._type=t,this._insertSpace=o,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=d,this._ignoreFirstLine=r||!1}static _gatherPreflightCommentStrings(h,i,n,t){h.tokenization.tokenizeIfCheap(i);const o=h.getLanguageIdAtPosition(i,1),d=t.getLanguageConfiguration(o).comments,r=d?d.lineCommentToken:null;if(!r)return null;let c=[];for(let s=0,a=n-i+1;s<a;s++)c[s]={ignore:!1,commentStr:r,commentStrOffset:0,commentStrLength:r.length};return c}static _analyzeLines(h,i,n,t,o,d,r,c){let s=!0,a;h===0?a=!0:h===1?a=!1:a=!0;for(let l=0,f=t.length;l<f;l++){const g=t[l],b=o+l;if(b===o&&r){g.ignore=!0;continue}const p=n.getLineContent(b),C=E.firstNonWhitespaceIndex(p);if(C===-1){g.ignore=d,g.commentStrOffset=p.length;continue}if(s=!1,g.ignore=!1,g.commentStrOffset=C,a&&!_.BlockCommentCommand._haystackHasNeedleAtOffset(p,g.commentStr,C)&&(h===0?a=!1:h===1||(g.ignore=!0)),a&&i){const S=C+g.commentStrLength;S<p.length&&p.charCodeAt(S)===32&&(g.commentStrLength+=1)}}if(h===0&&s){a=!1;for(let l=0,f=t.length;l<f;l++)t[l].ignore=!1}return{supported:!0,shouldRemoveComments:a,lines:t}}static _gatherPreflightData(h,i,n,t,o,d,r,c){const s=v._gatherPreflightCommentStrings(n,t,o,c);return s===null?{supported:!1}:v._analyzeLines(h,i,n,s,t,d,r,c)}_executeLineComments(h,i,n,t){let o;n.shouldRemoveComments?o=v._createRemoveLineCommentsOperations(n.lines,t.startLineNumber):(v._normalizeInsertionPoint(h,n.lines,t.startLineNumber,this._tabSize),o=this._createAddLineCommentsOperations(n.lines,t.startLineNumber));const d=new k.Position(t.positionLineNumber,t.positionColumn);for(let r=0,c=o.length;r<c;r++)i.addEditOperation(o[r].range,o[r].text),I.Range.isEmpty(o[r].range)&&I.Range.getStartPosition(o[r].range).equals(d)&&h.getLineContent(d.lineNumber).length+1===d.column&&(this._deltaColumn=(o[r].text||"").length);this._selectionId=i.trackSelection(t)}_attemptRemoveBlockComment(h,i,n,t){let o=i.startLineNumber,d=i.endLineNumber,r=t.length+Math.max(h.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.startColumn),c=h.getLineContent(o).lastIndexOf(n,r-1),s=h.getLineContent(d).indexOf(t,i.endColumn-1-n.length);return c!==-1&&s===-1&&(s=h.getLineContent(o).indexOf(t,c+n.length),d=o),c===-1&&s!==-1&&(c=h.getLineContent(d).lastIndexOf(n,s),o=d),i.isEmpty()&&(c===-1||s===-1)&&(c=h.getLineContent(o).indexOf(n),c!==-1&&(s=h.getLineContent(o).indexOf(t,c+n.length))),c!==-1&&h.getLineContent(o).charCodeAt(c+n.length)===32&&(n+=" "),s!==-1&&h.getLineContent(d).charCodeAt(s-1)===32&&(t=" "+t,s-=1),c!==-1&&s!==-1?_.BlockCommentCommand._createRemoveBlockCommentOperations(new I.Range(o,c+n.length+1,d,s+1),n,t):null}_executeBlockComment(h,i,n){h.tokenization.tokenizeIfCheap(n.startLineNumber);let t=h.getLanguageIdAtPosition(n.startLineNumber,1);const o=this.languageConfigurationService.getLanguageConfiguration(t).comments;if(!o||!o.blockCommentStartToken||!o.blockCommentEndToken)return;const d=o.blockCommentStartToken,r=o.blockCommentEndToken;let c=this._attemptRemoveBlockComment(h,n,d,r);if(!c){if(n.isEmpty()){const s=h.getLineContent(n.startLineNumber);let a=E.firstNonWhitespaceIndex(s);a===-1&&(a=s.length),c=_.BlockCommentCommand._createAddBlockCommentOperations(new I.Range(n.startLineNumber,a+1,n.startLineNumber,s.length+1),d,r,this._insertSpace)}else c=_.BlockCommentCommand._createAddBlockCommentOperations(new I.Range(n.startLineNumber,h.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,h.getLineMaxColumn(n.endLineNumber)),d,r,this._insertSpace);c.length===1&&(this._deltaColumn=d.length+1)}this._selectionId=i.trackSelection(n);for(const s of c)i.addEditOperation(s.range,s.text)}getEditOperations(h,i){let n=this._selection;if(this._moveEndPositionDown=!1,n.startLineNumber===n.endLineNumber&&this._ignoreFirstLine){i.addEditOperation(new I.Range(n.startLineNumber,h.getLineMaxColumn(n.startLineNumber),n.startLineNumber+1,1),n.startLineNumber===h.getLineCount()?"":`
`),this._selectionId=i.trackSelection(n);return}n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,h.getLineMaxColumn(n.endLineNumber-1)));const t=v._gatherPreflightData(this._type,this._insertSpace,h,n.startLineNumber,n.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return t.supported?this._executeLineComments(h,i,t,n):this._executeBlockComment(h,i,n)}computeCursorState(h,i){let n=i.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new L.Selection(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(h,i){let n=[];for(let t=0,o=h.length;t<o;t++){const d=h[t];d.ignore||n.push(m.EditOperation.delete(new I.Range(i+t,d.commentStrOffset+1,i+t,d.commentStrOffset+d.commentStrLength+1)))}return n}_createAddLineCommentsOperations(h,i){let n=[];const t=this._insertSpace?" ":"";for(let o=0,d=h.length;o<d;o++){const r=h[o];r.ignore||n.push(m.EditOperation.insert(new k.Position(i+o,r.commentStrOffset+1),r.commentStr+t))}return n}static nextVisibleColumn(h,i,n,t){return n?h+(i-h%i):h+t}static _normalizeInsertionPoint(h,i,n,t){let o=1073741824,d,r;for(let c=0,s=i.length;c<s;c++){if(i[c].ignore)continue;const a=h.getLineContent(n+c);let l=0;for(let f=0,g=i[c].commentStrOffset;l<o&&f<g;f++)l=v.nextVisibleColumn(l,t,a.charCodeAt(f)===9,1);l<o&&(o=l)}o=Math.floor(o/t)*t;for(let c=0,s=i.length;c<s;c++){if(i[c].ignore)continue;const a=h.getLineContent(n+c);let l=0;for(d=0,r=i[c].commentStrOffset;l<o&&d<r;d++)l=v.nextVisibleColumn(l,t,a.charCodeAt(d)===9,1);l>o?i[c].commentStrOffset=d-1:i[c].commentStrOffset=d}}}e.LineCommentCommand=v}),define(re[469],se([1,0,3,24]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class k{constructor(L,_,v){this.selection=L,this.targetPosition=_,this.copy=v,this.targetSelection=null}getEditOperations(L,_){let v=L.getValueInRange(this.selection);if(this.copy||_.addEditOperation(this.selection,null),_.addEditOperation(new E.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),v),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new m.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new m.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new m.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new m.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new m.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(L,_){return this.targetSelection}}e.DragAndDropCommand=k}),define(re[470],se([1,0,3]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class m{constructor(I,L,_){this._editorSelection=I,this._ranges=L,this._replaceStrings=_,this._trackedEditorSelectionId=null}getEditOperations(I,L){if(this._ranges.length>0){let _=[];for(let h=0;h<this._ranges.length;h++)_.push({range:this._ranges[h],text:this._replaceStrings[h]});_.sort((h,i)=>E.Range.compareRangesUsingStarts(h.range,i.range));let v=[],u=_[0];for(let h=1;h<_.length;h++)u.range.endLineNumber===_[h].range.startLineNumber&&u.range.endColumn===_[h].range.startColumn?(u.range=u.range.plusRange(_[h].range),u.text=u.text+_[h].text):(v.push(u),u=_[h]);v.push(u);for(const h of v)L.addEditOperation(h.range,h.text)}this._trackedEditorSelectionId=L.trackSelection(this._editorSelection)}computeCursorState(I,L){return L.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=m}),define(re[471],se([1,0,330]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseReplaceString=e.ReplacePiece=e.ReplacePattern=void 0;class m{constructor(h){this.staticValue=h,this.kind=0}}class k{constructor(h){this.pieces=h,this.kind=1}}class I{constructor(h){!h||h.length===0?this._state=new m(""):h.length===1&&h[0].staticValue!==null?this._state=new m(h[0].staticValue):this._state=new k(h)}static fromStaticValue(h){return new I([L.staticValue(h)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(h,i){if(this._state.kind===0)return i?(0,E.buildReplaceStringWithCasePreserved)(h,this._state.staticValue):this._state.staticValue;let n="";for(let t=0,o=this._state.pieces.length;t<o;t++){let d=this._state.pieces[t];if(d.staticValue!==null){n+=d.staticValue;continue}let r=I._substitute(d.matchIndex,h);if(d.caseOps!==null&&d.caseOps.length>0){let c=[],s=d.caseOps.length,a=0;for(let l=0,f=r.length;l<f;l++){if(a>=s){c.push(r.slice(l));break}switch(d.caseOps[a]){case"U":c.push(r[l].toUpperCase());break;case"u":c.push(r[l].toUpperCase()),a++;break;case"L":c.push(r[l].toLowerCase());break;case"l":c.push(r[l].toLowerCase()),a++;break;default:c.push(r[l])}}r=c.join("")}n+=r}return n}static _substitute(h,i){if(i===null)return"";if(h===0)return i[0];let n="";for(;h>0;){if(h<i.length)return(i[h]||"")+n;n=String(h%10)+n,h=Math.floor(h/10)}return"$"+n}}e.ReplacePattern=I;class L{constructor(h,i,n){this.staticValue=h,this.matchIndex=i,!n||n.length===0?this.caseOps=null:this.caseOps=n.slice(0)}static staticValue(h){return new L(h,-1,null)}static caseOps(h,i){return new L(null,h,i)}}e.ReplacePiece=L;class _{constructor(h){this._source=h,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(h){this._emitStatic(this._source.substring(this._lastCharIndex,h)),this._lastCharIndex=h}emitStatic(h,i){this._emitStatic(h),this._lastCharIndex=i}_emitStatic(h){h.length!==0&&(this._currentStaticPiece+=h)}emitMatchIndex(h,i,n){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=L.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=L.caseOps(h,n),this._lastCharIndex=i}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=L.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new I(this._result)}}function v(u){if(!u||u.length===0)return new I(null);let h=[],i=new _(u);for(let n=0,t=u.length;n<t;n++){let o=u.charCodeAt(n);if(o===92){if(n++,n>=t)break;let d=u.charCodeAt(n);switch(d){case 92:i.emitUnchanged(n-1),i.emitStatic("\\",n+1);break;case 110:i.emitUnchanged(n-1),i.emitStatic(`
`,n+1);break;case 116:i.emitUnchanged(n-1),i.emitStatic("	",n+1);break;case 117:case 85:case 108:case 76:i.emitUnchanged(n-1),i.emitStatic("",n+1),h.push(String.fromCharCode(d));break}continue}if(o===36){if(n++,n>=t)break;let d=u.charCodeAt(n);if(d===36){i.emitUnchanged(n-1),i.emitStatic("$",n+1);continue}if(d===48||d===38){i.emitUnchanged(n-1),i.emitMatchIndex(0,n+1,h),h.length=0;continue}if(49<=d&&d<=57){let r=d-48;if(n+1<t){let c=u.charCodeAt(n+1);if(48<=c&&c<=57){n++,r=r*10+(c-48),i.emitUnchanged(n-2),i.emitMatchIndex(r,n+1,h),h.length=0;continue}}i.emitUnchanged(n-1),i.emitMatchIndex(r,n+1,h),h.length=0;continue}}}return i.finalize()}e.parseReplaceString=v}),define(re[193],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=void 0,e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const E=4278190080;class m{constructor(L,_,v){if(L.length!==_.length||L.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=L,this._endIndexes=_,this._collapseStates=new Uint32Array(Math.ceil(L.length/32)),this._types=v,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let L=[],_=(v,u)=>{let h=L[L.length-1];return this.getStartLineNumber(h)<=v&&this.getEndLineNumber(h)>=u};for(let v=0,u=this._startIndexes.length;v<u;v++){let h=this._startIndexes[v],i=this._endIndexes[v];if(h>e.MAX_LINE_NUMBER||i>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;L.length>0&&!_(h,i);)L.pop();let n=L.length>0?L[L.length-1]:-1;L.push(v),this._startIndexes[v]=h+((n&255)<<24),this._endIndexes[v]=i+((n&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(L){return this._startIndexes[L]&e.MAX_LINE_NUMBER}getEndLineNumber(L){return this._endIndexes[L]&e.MAX_LINE_NUMBER}getType(L){return this._types?this._types[L]:void 0}hasTypes(){return!!this._types}isCollapsed(L){let _=L/32|0,v=L%32;return(this._collapseStates[_]&1<<v)!=0}setCollapsed(L,_){let v=L/32|0,u=L%32,h=this._collapseStates[v];_?this._collapseStates[v]=h|1<<u:this._collapseStates[v]=h&~(1<<u)}setCollapsedAllOfType(L,_){let v=!1;if(this._types)for(let u=0;u<this._types.length;u++)this._types[u]===L&&(this.setCollapsed(u,_),v=!0);return v}toRegion(L){return new k(this,L)}getParentIndex(L){this.ensureParentIndices();let _=((this._startIndexes[L]&E)>>>24)+((this._endIndexes[L]&E)>>>16);return _===e.MAX_FOLDING_REGIONS?-1:_}contains(L,_){return this.getStartLineNumber(L)<=_&&this.getEndLineNumber(L)>=_}findIndex(L){let _=0,v=this._startIndexes.length;if(v===0)return-1;for(;_<v;){let u=Math.floor((_+v)/2);L<this.getStartLineNumber(u)?v=u:_=u+1}return _-1}findRange(L){let _=this.findIndex(L);if(_>=0){if(this.getEndLineNumber(_)>=L)return _;for(_=this.getParentIndex(_);_!==-1;){if(this.contains(_,L))return _;_=this.getParentIndex(_)}}return-1}toString(){let L=[];for(let _=0;_<this.length;_++)L[_]=`[${this.isCollapsed(_)?"+":"-"}] ${this.getStartLineNumber(_)}/${this.getEndLineNumber(_)}`;return L.join(", ")}}e.FoldingRegions=m;class k{constructor(L,_){this.ranges=L,this.index=_}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(L){return L.startLineNumber<=this.startLineNumber&&L.endLineNumber>=this.endLineNumber}containsLine(L){return this.startLineNumber<=L&&L<=this.endLineNumber}}e.FoldingRegion=k}),define(re[472],se([1,0,4,193]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNextFoldLine=e.getPreviousFoldLine=e.getParentFoldLine=e.setCollapseStateForType=e.setCollapseStateForMatchingLines=e.setCollapseStateForRest=e.setCollapseStateAtLevel=e.setCollapseStateUp=e.setCollapseStateLevelsUp=e.setCollapseStateLevelsDown=e.toggleCollapseState=e.FoldingModel=void 0;class k{constructor(c,s){this._updateEventEmitter=new E.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=c,this._decorationProvider=s,this._regions=new m.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(c){if(!c.length)return;c=c.sort((a,l)=>a.regionIndex-l.regionIndex);const s={};this._decorationProvider.changeDecorations(a=>{let l=0,f=-1,g=-1;const b=p=>{for(;l<p;){const C=this._regions.getEndLineNumber(l),S=this._regions.isCollapsed(l);C<=f&&a.changeDecorationOptions(this._editorDecorationIds[l],this._decorationProvider.getDecorationOption(S,C<=g)),S&&C>g&&(g=C),l++}};for(let p of c){let C=p.regionIndex,S=this._editorDecorationIds[C];if(S&&!s[S]){s[S]=!0,b(C);let y=!this._regions.isCollapsed(C);this._regions.setCollapsed(C,y),f=Math.max(f,this._regions.getEndLineNumber(C))}}b(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:c})}update(c,s=[]){let a=[],l=(y,w)=>{for(let T of s)if(y<T&&T<=w)return!0;return!1},f=-1,g=(y,w)=>{const T=c.getStartLineNumber(y),N=c.getEndLineNumber(y);w||(w=c.isCollapsed(y)),w&&l(T,N)&&(w=!1),c.setCollapsed(y,w);const R=this._textModel.getLineMaxColumn(T),B={startLineNumber:T,startColumn:Math.max(R-1,1),endLineNumber:T,endColumn:R};a.push({range:B,options:this._decorationProvider.getDecorationOption(w,N<=f)}),w&&N>f&&(f=N)},b=0,p=()=>{for(;b<this._regions.length;){let y=this._regions.isCollapsed(b);if(b++,y)return b-1}return-1},C=0,S=p();for(;S!==-1&&C<c.length;){let y=this._textModel.getDecorationRange(this._editorDecorationIds[S]);if(y){let w=y.startLineNumber;if(y.startColumn===Math.max(y.endColumn-1,1)&&this._textModel.getLineMaxColumn(w)===y.endColumn)for(;C<c.length;){let T=c.getStartLineNumber(C);if(w>=T)g(C,w===T),C++;else break}}S=p()}for(;C<c.length;)g(C,!1),C++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,a),this._regions=c,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let c=[];for(let s=0;s<this._regions.length;s++)if(this._regions.isCollapsed(s)){let a=this._textModel.getDecorationRange(this._editorDecorationIds[s]);if(a){let l=a.startLineNumber,f=a.endLineNumber+this._regions.getEndLineNumber(s)-this._regions.getStartLineNumber(s);c.push({startLineNumber:l,endLineNumber:f})}}if(c.length>0)return c}applyMemento(c){if(!Array.isArray(c))return;let s=[];for(let a of c){let l=this.getRegionAtLine(a.startLineNumber);l&&!l.isCollapsed&&s.push(l)}this.toggleCollapseState(s)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(c,s){let a=[];if(this._regions){let l=this._regions.findRange(c),f=1;for(;l>=0;){let g=this._regions.toRegion(l);(!s||s(g,f))&&a.push(g),f++,l=g.parentIndex}}return a}getRegionAtLine(c){if(this._regions){let s=this._regions.findRange(c);if(s>=0)return this._regions.toRegion(s)}return null}getRegionsInside(c,s){let a=[],l=c?c.regionIndex+1:0,f=c?c.endLineNumber:Number.MAX_VALUE;if(s&&s.length===2){const g=[];for(let b=l,p=this._regions.length;b<p;b++){let C=this._regions.toRegion(b);if(this._regions.getStartLineNumber(b)<f){for(;g.length>0&&!C.containedBy(g[g.length-1]);)g.pop();g.push(C),s(C,g.length)&&a.push(C)}else break}}else for(let g=l,b=this._regions.length;g<b;g++){let p=this._regions.toRegion(g);if(this._regions.getStartLineNumber(g)<f)(!s||s(p))&&a.push(p);else break}return a}}e.FoldingModel=k;function I(r,c,s){let a=[];for(let l of s){let f=r.getRegionAtLine(l);if(f){const g=!f.isCollapsed;if(a.push(f),c>1){let b=r.getRegionsInside(f,(p,C)=>p.isCollapsed!==g&&C<c);a.push(...b)}}}r.toggleCollapseState(a)}e.toggleCollapseState=I;function L(r,c,s=Number.MAX_VALUE,a){let l=[];if(a&&a.length>0)for(let f of a){let g=r.getRegionAtLine(f);if(g&&(g.isCollapsed!==c&&l.push(g),s>1)){let b=r.getRegionsInside(g,(p,C)=>p.isCollapsed!==c&&C<s);l.push(...b)}}else{let f=r.getRegionsInside(null,(g,b)=>g.isCollapsed!==c&&b<s);l.push(...f)}r.toggleCollapseState(l)}e.setCollapseStateLevelsDown=L;function _(r,c,s,a){let l=[];for(let f of a){let g=r.getAllRegionsAtLine(f,(b,p)=>b.isCollapsed!==c&&p<=s);l.push(...g)}r.toggleCollapseState(l)}e.setCollapseStateLevelsUp=_;function v(r,c,s){let a=[];for(let l of s){let f=r.getAllRegionsAtLine(l,g=>g.isCollapsed!==c);f.length>0&&a.push(f[0])}r.toggleCollapseState(a)}e.setCollapseStateUp=v;function u(r,c,s,a){let l=(g,b)=>b===c&&g.isCollapsed!==s&&!a.some(p=>g.containsLine(p)),f=r.getRegionsInside(null,l);r.toggleCollapseState(f)}e.setCollapseStateAtLevel=u;function h(r,c,s){let a=[];for(let g of s){const b=r.getAllRegionsAtLine(g,void 0);b.length>0&&a.push(b[0])}let l=g=>a.every(b=>!b.containedBy(g)&&!g.containedBy(b))&&g.isCollapsed!==c,f=r.getRegionsInside(null,l);r.toggleCollapseState(f)}e.setCollapseStateForRest=h;function i(r,c,s){let a=r.textModel,l=r.regions,f=[];for(let g=l.length-1;g>=0;g--)if(s!==l.isCollapsed(g)){let b=l.getStartLineNumber(g);c.test(a.getLineContent(b))&&f.push(l.toRegion(g))}r.toggleCollapseState(f)}e.setCollapseStateForMatchingLines=i;function n(r,c,s){let a=r.regions,l=[];for(let f=a.length-1;f>=0;f--)s!==a.isCollapsed(f)&&c===a.getType(f)&&l.push(a.toRegion(f));r.toggleCollapseState(l)}e.setCollapseStateForType=n;function t(r,c){let s=null,a=c.getRegionAtLine(r);if(a!==null&&(s=a.startLineNumber,r===s)){let l=a.parentIndex;l!==-1?s=c.regions.getStartLineNumber(l):s=null}return s}e.getParentFoldLine=t;function o(r,c){let s=c.getRegionAtLine(r);if(s!==null&&s.startLineNumber===r){if(r!==s.startLineNumber)return s.startLineNumber;{let a=s.parentIndex,l=0;for(a!==-1&&(l=c.regions.getStartLineNumber(s.parentIndex));s!==null;)if(s.regionIndex>0){if(s=c.regions.toRegion(s.regionIndex-1),s.startLineNumber<=l)return null;if(s.parentIndex===a)return s.startLineNumber}else return null}}else if(c.regions.length>0)for(s=c.regions.toRegion(c.regions.length-1);s!==null;){if(s.startLineNumber<r)return s.startLineNumber;s.regionIndex>0?s=c.regions.toRegion(s.regionIndex-1):s=null}return null}e.getPreviousFoldLine=o;function d(r,c){let s=c.getRegionAtLine(r);if(s!==null&&s.startLineNumber===r){let a=s.parentIndex,l=0;if(a!==-1)l=c.regions.getEndLineNumber(s.parentIndex);else{if(c.regions.length===0)return null;l=c.regions.getEndLineNumber(c.regions.length-1)}for(;s!==null;)if(s.regionIndex<c.regions.length){if(s=c.regions.toRegion(s.regionIndex+1),s.startLineNumber>=l)return null;if(s.parentIndex===a)return s.startLineNumber}else return null}else if(c.regions.length>0)for(s=c.regions.toRegion(0);s!==null;){if(s.startLineNumber>r)return s.startLineNumber;s.regionIndex<c.regions.length?s=c.regions.toRegion(s.regionIndex+1):s=null}return null}e.getNextFoldLine=d}),define(re[473],se([1,0,18,4,3,124]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class L{constructor(h){this._updateEventEmitter=new m.Emitter,this._hasLineChanges=!1,this._foldingModel=h,this._foldingModelListener=h.onDidChange(i=>this.updateHiddenRanges()),this._hiddenRanges=[],h.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(h){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=h.changes.some(i=>i.range.endLineNumber!==i.range.startLineNumber||(0,I.countEOL)(i.text)[0]!==0))}updateHiddenRanges(){let h=!1,i=[],n=0,t=0,o=Number.MAX_VALUE,d=-1,r=this._foldingModel.regions;for(;n<r.length;n++){if(!r.isCollapsed(n))continue;let c=r.getStartLineNumber(n)+1,s=r.getEndLineNumber(n);o<=c&&s<=d||(!h&&t<this._hiddenRanges.length&&this._hiddenRanges[t].startLineNumber===c&&this._hiddenRanges[t].endLineNumber===s?(i.push(this._hiddenRanges[t]),t++):(h=!0,i.push(new k.Range(c,1,s,1))),o=c,d=s)}(this._hasLineChanges||h||t<this._hiddenRanges.length)&&this.applyHiddenRanges(i)}applyMemento(h){if(!Array.isArray(h)||h.length===0)return!1;let i=[];for(let n of h){if(!n.startLineNumber||!n.endLineNumber)return!1;i.push(new k.Range(n.startLineNumber+1,1,n.endLineNumber,1))}return this.applyHiddenRanges(i),!0}getMemento(){return this._hiddenRanges.map(h=>({startLineNumber:h.startLineNumber-1,endLineNumber:h.endLineNumber}))}applyHiddenRanges(h){this._hiddenRanges=h,this._hasLineChanges=!1,this._updateEventEmitter.fire(h)}hasRanges(){return this._hiddenRanges.length>0}isHidden(h){return v(this._hiddenRanges,h)!==null}adjustSelections(h){let i=!1,n=this._foldingModel.textModel,t=null,o=d=>((!t||!_(d,t))&&(t=v(this._hiddenRanges,d)),t?t.startLineNumber-1:null);for(let d=0,r=h.length;d<r;d++){let c=h[d],s=o(c.startLineNumber);s&&(c=c.setStartPosition(s,n.getLineMaxColumn(s)),i=!0);let a=o(c.endLineNumber);a&&(c=c.setEndPosition(a,n.getLineMaxColumn(a)),i=!0),h[d]=c}return i}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=L;function _(u,h){return u>=h.startLineNumber&&u<=h.endLineNumber}function v(u,h){let i=(0,E.findFirstInSorted)(u,n=>h<n.startLineNumber)-1;return i>=0&&u[i].endLineNumber>=h?u[i]:null}}),define(re[474],se([1,0,187,193]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeRanges=e.RangesCollector=e.IndentRangeProvider=e.ID_INDENT_PROVIDER=void 0;const k=5e3;e.ID_INDENT_PROVIDER="indent";class I{constructor(u,h,i){this.editorModel=u,this.languageConfigurationService=h,this.maxFoldingRegions=i,this.id=e.ID_INDENT_PROVIDER}dispose(){}compute(u,h){let i=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,n=i&&!!i.offSide,t=i&&i.markers;return Promise.resolve(_(this.editorModel,n,t,this.maxFoldingRegions,h))}}e.IndentRangeProvider=I;class L{constructor(u,h){this._notifyTooManyRegions=h,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=u}insertFirst(u,h,i){if(u>m.MAX_LINE_NUMBER||h>m.MAX_LINE_NUMBER)return;let n=this._length;this._startIndexes[n]=u,this._endIndexes[n]=h,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(u){if(this._length<=this._foldingRangesLimit){let h=new Uint32Array(this._length),i=new Uint32Array(this._length);for(let n=this._length-1,t=0;n>=0;n--,t++)h[t]=this._startIndexes[n],i[t]=this._endIndexes[n];return new m.FoldingRegions(h,i)}else{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let h=0,i=this._indentOccurrences.length;for(let d=0;d<this._indentOccurrences.length;d++){let r=this._indentOccurrences[d];if(r){if(r+h>this._foldingRangesLimit){i=d;break}h+=r}}const n=u.getOptions().tabSize;let t=new Uint32Array(this._foldingRangesLimit),o=new Uint32Array(this._foldingRangesLimit);for(let d=this._length-1,r=0;d>=0;d--){let c=this._startIndexes[d],s=u.getLineContent(c),a=(0,E.computeIndentLevel)(s,n);(a<i||a===i&&h++<this._foldingRangesLimit)&&(t[r]=c,o[r]=this._endIndexes[d],r++)}return new m.FoldingRegions(t,o)}}}e.RangesCollector=L;function _(v,u,h,i,n){const t=v.getOptions().tabSize;i=i??k;let o=new L(i,n),d;h&&(d=new RegExp(`(${h.start.source})|(?:${h.end.source})`));let r=[],c=v.getLineCount()+1;r.push({indent:-1,endAbove:c,line:c});for(let s=v.getLineCount();s>0;s--){let a=v.getLineContent(s),l=(0,E.computeIndentLevel)(a,t),f=r[r.length-1];if(l===-1){u&&(f.endAbove=s);continue}let g;if(d&&(g=a.match(d)))if(g[1]){let b=r.length-1;for(;b>0&&r[b].indent!==-2;)b--;if(b>0){r.length=b+1,f=r[b],o.insertFirst(s,f.line,l),f.line=s,f.indent=l,f.endAbove=s;continue}}else{r.push({indent:-2,endAbove:s,line:s});continue}if(f.indent>l){do r.pop(),f=r[r.length-1];while(f.indent>l);let b=f.endAbove-1;b-s>=1&&o.insertFirst(s,b,l)}f.indent===l?f.endAbove=s:r.push({indent:l,endAbove:s,line:s})}return o.toIndentRanges(v)}e.computeRanges=_}),define(re[262],se([1,0,13,2,193]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeRanges=e.RangesCollector=e.SyntaxRangeProvider=e.ID_SYNTAX_PROVIDER=void 0;const I={};e.ID_SYNTAX_PROVIDER="syntax";class L{constructor(i,n,t,o){this.editorModel=i,this.providers=n,this.limit=o,this.id=e.ID_SYNTAX_PROVIDER;for(const d of n)typeof d.onDidChange=="function"&&(this.disposables||(this.disposables=new m.DisposableStore),this.disposables.add(d.onDidChange(t)))}compute(i,n){return _(this.providers,this.editorModel,i).then(t=>t?u(t,this.limit,n):null)}dispose(){var i;(i=this.disposables)===null||i===void 0||i.dispose()}}e.SyntaxRangeProvider=L;function _(h,i,n){let t=null,o=h.map((d,r)=>Promise.resolve(d.provideFoldingRanges(i,I,n)).then(c=>{if(!n.isCancellationRequested&&Array.isArray(c)){Array.isArray(t)||(t=[]);let s=i.getLineCount();for(let a of c)a.start>0&&a.end>a.start&&a.end<=s&&t.push({start:a.start,end:a.end,rank:r,kind:a.kind})}},E.onUnexpectedExternalError));return Promise.all(o).then(d=>t)}class v{constructor(i,n){this._notifyTooManyRegions=n,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=i}add(i,n,t,o){if(i>k.MAX_LINE_NUMBER||n>k.MAX_LINE_NUMBER)return;let d=this._length;this._startIndexes[d]=i,this._endIndexes[d]=n,this._nestingLevels[d]=o,this._types[d]=t,this._length++,o<30&&(this._nestingLevelCounts[o]=(this._nestingLevelCounts[o]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let i=new Uint32Array(this._length),n=new Uint32Array(this._length);for(let t=0;t<this._length;t++)i[t]=this._startIndexes[t],n[t]=this._endIndexes[t];return new k.FoldingRegions(i,n,this._types)}else{this._notifyTooManyRegions&&this._notifyTooManyRegions(this._foldingRangesLimit);let i=0,n=this._nestingLevelCounts.length;for(let r=0;r<this._nestingLevelCounts.length;r++){let c=this._nestingLevelCounts[r];if(c){if(c+i>this._foldingRangesLimit){n=r;break}i+=c}}let t=new Uint32Array(this._foldingRangesLimit),o=new Uint32Array(this._foldingRangesLimit),d=[];for(let r=0,c=0;r<this._length;r++){let s=this._nestingLevels[r];(s<n||s===n&&i++<this._foldingRangesLimit)&&(t[c]=this._startIndexes[r],o[c]=this._endIndexes[r],d[c]=this._types[r],c++)}return new k.FoldingRegions(t,o,d)}}}e.RangesCollector=v;function u(h,i,n){let t=h.sort((c,s)=>{let a=c.start-s.start;return a===0&&(a=c.rank-s.rank),a}),o=new v(i,n),d,r=[];for(let c of t)if(!d)d=c,o.add(c.start,c.end,c.kind&&c.kind.value,r.length);else if(c.start>d.start)if(c.end<=d.end)r.push(d),d=c,o.add(c.start,c.end,c.kind&&c.kind.value,r.length);else{if(c.start>d.end){do d=r.pop();while(d&&c.start>d.end);d&&r.push(d),d=c}o.add(c.start,c.end,c.kind&&c.kind.value,r.length)}return o.toIndentRanges()}e.sanitizeRanges=u}),define(re[475],se([1,0,262]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InitializingRangeProvider=e.ID_INIT_PROVIDER=void 0,e.ID_INIT_PROVIDER="init";class m{constructor(I,L,_,v){if(this.editorModel=I,this.id=e.ID_INIT_PROVIDER,L.length){let u=h=>({range:{startLineNumber:h.startLineNumber,startColumn:0,endLineNumber:h.endLineNumber,endColumn:I.getLineLength(h.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=I.deltaDecorations([],L.map(u)),this.timeout=setTimeout(_,v)}}dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),typeof this.timeout=="number"&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(I){let L=[];if(this.decorationIds)for(let _ of this.decorationIds){let v=this.editorModel.getDecorationRange(_);v&&L.push({start:v.startLineNumber,end:v.endLineNumber,rank:1})}return Promise.resolve((0,E.sanitizeRanges)(L,Number.MAX_VALUE))}}e.InitializingRangeProvider=m}),define(re[263],se([1,0,61,3]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class k{static _handleEolEdits(L,_){let v,u=[];for(let h of _)typeof h.eol=="number"&&(v=h.eol),h.range&&typeof h.text=="string"&&u.push(h);return typeof v=="number"&&L.hasModel()&&L.getModel().pushEOL(v),u}static _isFullModelReplaceEdit(L,_){if(!L.hasModel())return!1;const v=L.getModel(),u=v.validateRange(_.range);return v.getFullModelRange().equalsRange(u)}static execute(L,_,v){v&&L.pushUndoStop();const u=k._handleEolEdits(L,_);u.length===1&&k._isFullModelReplaceEdit(L,u[0])?L.executeEdits("formatEditsCommand",u.map(h=>E.EditOperation.replace(m.Range.lift(h.range),h.text))):L.executeEdits("formatEditsCommand",u.map(h=>E.EditOperation.replaceMove(m.Range.lift(h.range),h.text))),v&&L.pushUndoStop()}}e.FormattingEdit=k}),define(re[194],se([1,0,4,2,17]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function I(i,n){return!!i[n]}class L{constructor(n,t){this.target=n.target,this.hasTriggerModifier=I(n.event,t.triggerModifier),this.hasSideBySideModifier=I(n.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=n.event.detail<=1}}e.ClickLinkMouseEvent=L;class _{constructor(n,t){this.keyCodeIsTriggerKey=n.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=n.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=I(n,t.triggerModifier)}}e.ClickLinkKeyboardEvent=_;class v{constructor(n,t,o,d){this.triggerKey=n,this.triggerModifier=t,this.triggerSideBySideKey=o,this.triggerSideBySideModifier=d}equals(n){return this.triggerKey===n.triggerKey&&this.triggerModifier===n.triggerModifier&&this.triggerSideBySideKey===n.triggerSideBySideKey&&this.triggerSideBySideModifier===n.triggerSideBySideModifier}}e.ClickLinkOptions=v;function u(i){return i==="altKey"?k.isMacintosh?new v(57,"metaKey",6,"altKey"):new v(5,"ctrlKey",6,"altKey"):k.isMacintosh?new v(6,"altKey",57,"metaKey"):new v(6,"altKey",5,"ctrlKey")}class h extends m.Disposable{constructor(n){super();this._onMouseMoveOrRelevantKeyDown=this._register(new E.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new E.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new E.Emitter),this.onCancel=this._onCancel.event,this._editor=n,this._opts=u(this._editor.getOption(70)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(t=>{if(t.hasChanged(70)){const o=u(this._editor.getOption(70));if(this._opts.equals(o))return;this._opts=o,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(t=>this._onEditorMouseMove(new L(t,this._opts)))),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(new L(t,this._opts)))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(new L(t,this._opts)))),this._register(this._editor.onKeyDown(t=>this._onEditorKeyDown(new _(t,this._opts)))),this._register(this._editor.onKeyUp(t=>this._onEditorKeyUp(new _(t,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(t=>this._onDidChangeCursorSelection(t))),this._register(this._editor.onDidChangeModel(t=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(t=>{(t.scrollTopChanged||t.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(n){n.selection&&n.selection.startColumn!==n.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(n){this._lastMouseMoveEvent=n,this._onMouseMoveOrRelevantKeyDown.fire([n,null])}_onEditorMouseDown(n){this._hasTriggerKeyOnMouseDown=n.hasTriggerModifier,this._lineNumberOnMouseDown=n.target.position?n.target.position.lineNumber:0}_onEditorMouseUp(n){const t=n.target.position?n.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(n)}_onEditorKeyDown(n){this._lastMouseMoveEvent&&(n.keyCodeIsTriggerKey||n.keyCodeIsSideBySideKey&&n.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,n]):n.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(n){n.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=h});var Ct=this&&this.__asyncValues||function(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=U[Symbol.asyncIterator],E;return e?e.call(U):(U=typeof __values=="function"?__values(U):U[Symbol.iterator](),E={},m("next"),m("throw"),m("return"),E[Symbol.asyncIterator]=function(){return this},E);function m(I){E[I]=U[I]&&function(L){return new Promise(function(_,v){L=U[I](L),k(_,v,L.done,L.value)})}}function k(I,L,_,v){Promise.resolve(v).then(function(u){I({value:u,done:_})},L)}};define(re[264],se([1,0,10,13,4,2]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=e.HoverResult=void 0;class L{constructor(u,h,i){this.value=u,this.isComplete=h,this.hasLoadingMessage=i}}e.HoverResult=L;class _ extends I.Disposable{constructor(u,h){super();this._editor=u,this._computer=h,this._onResult=this._register(new k.Emitter),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new E.RunOnceScheduler(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new E.RunOnceScheduler(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new E.RunOnceScheduler(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(53).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(u,h=!0){this._state=u,h&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,E.createCancelableAsyncIterable)(u=>this._computer.computeAsync(u)),(()=>Le(this,void 0,void 0,function*(){var u,h;try{try{for(var i=Ct(this._asyncIterable),n;n=yield i.next(),!n.done;){const t=n.value;t&&(this._result.push(t),this._fireResult())}}catch(t){u={error:t}}finally{try{n&&!n.done&&(h=i.return)&&(yield h.call(i))}finally{if(u)throw u.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(t){(0,m.onUnexpectedError)(t)}}))()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const u=this._state===0,h=this._state===4;this._onResult.fire(new L(this._result.slice(0),u,h))}start(u){if(u===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}e.HoverOperation=_}),define(re[87],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverParticipantRegistry=e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class E{constructor(I,L){this.priority=I,this.range=L,this.type=1}equals(I){return I.type===1&&this.range.equalsRange(I.range)}canAdoptVisibleHover(I,L){return I.type===1&&L.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=E;class m{constructor(I,L,_){this.priority=I,this.owner=L,this.range=_,this.type=2}equals(I){return I.type===2&&this.owner===I.owner}canAdoptVisibleHover(I,L){return I.type===2&&this.owner===I.owner}}e.HoverForeignElementAnchor=m,e.HoverParticipantRegistry=new class{constructor(){this._participants=[]}register(I){this._participants.push(I)}getAll(){return this._participants}}}),define(re[476],se([1,0,24]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class m{constructor(I,L,_){this._editRange=I,this._originalSelection=L,this._text=_}getEditOperations(I,L){L.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(I,L){const v=L.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new E.Selection(v.endLineNumber,Math.min(this._originalSelection.positionColumn,v.endColumn),v.endLineNumber,Math.min(this._originalSelection.positionColumn,v.endColumn)):new E.Selection(v.endLineNumber,v.endColumn-this._text.length,v.endLineNumber,v.endColumn)}}e.InPlaceReplaceCommand=m}),define(re[265],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateIndent=e.getSpaceCnt=void 0;function E(k,I){let L=0;for(let _=0;_<k.length;_++)k.charAt(_)==="	"?L+=I:L++;return L}e.getSpaceCnt=E;function m(k,I,L){k=k<0?0:k;let _="";if(!L){let v=Math.floor(k/I);k=k%I;for(let u=0;u<v;u++)_+="	"}for(let v=0;v<k;v++)_+=" ";return _}e.generateIndent=m}),define(re[266],se([1,0,13,2,11,3,45,25]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asCommandLink=e.InlayHintsFragments=e.InlayHintItem=e.InlayHintAnchor=void 0;class v{constructor(t,o){this.range=t,this.direction=o}}e.InlayHintAnchor=v;class u{constructor(t,o,d){this.hint=t,this.anchor=o,this.provider=d,this._isResolved=!1}with(t){const o=new u(this.hint,t.anchor,this.provider);return o._isResolved=this._isResolved,o._currentResolve=this._currentResolve,o}resolve(t){return Le(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,t.isCancellationRequested?void 0:this.resolve(t);this._isResolved||(this._currentResolve=this._doResolve(t).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(t){var o,d;return Le(this,void 0,void 0,function*(){try{const r=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,t));this.hint.tooltip=(o=r==null?void 0:r.tooltip)!==null&&o!==void 0?o:this.hint.tooltip,this.hint.label=(d=r==null?void 0:r.label)!==null&&d!==void 0?d:this.hint.label,this._isResolved=!0}catch(r){(0,E.onUnexpectedExternalError)(r),this._isResolved=!1}})}}e.InlayHintItem=u;class h{constructor(t,o,d){this._disposables=new m.DisposableStore,this.ranges=t,this.provider=new Set;const r=[];for(const[c,s]of o){this._disposables.add(c),this.provider.add(s);for(const a of c.hints){let l=d.validatePosition(a.position),f="before";const g=h._getRangeAtPosition(d,l);let b;g.getStartPosition().isBefore(l)?(b=I.Range.fromPositions(g.getStartPosition(),l),f="after"):(b=I.Range.fromPositions(l,g.getEndPosition()),f="before"),r.push(new u(a,new v(b,f),s))}}this.items=r.sort((c,s)=>k.Position.compare(c.hint.position,s.hint.position))}static create(t,o,d,r){return Le(this,void 0,void 0,function*(){const c=[],s=t.ordered(o).reverse().map(a=>d.map(l=>Le(this,void 0,void 0,function*(){try{const f=yield a.provideInlayHints(o,l,r);(f==null?void 0:f.hints.length)&&c.push([f,a])}catch(f){(0,E.onUnexpectedExternalError)(f)}})));if(yield Promise.all(s.flat()),r.isCancellationRequested||o.isDisposed())throw new E.CancellationError;return new h(d,c,o)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(t,o){const d=o.lineNumber,r=t.getWordAtPosition(o);if(r)return new I.Range(d,r.startColumn,d,r.endColumn);t.tokenization.tokenizeIfCheap(d);const c=t.tokenization.getLineTokens(d),s=o.column-1,a=c.findTokenIndexAtOffset(s);let l=c.getStartOffset(a),f=c.getEndOffset(a);return f-l==1&&(l===s&&a>1?(l=c.getStartOffset(a-1),f=c.getEndOffset(a-1)):f===s&&a<c.getCount()-1&&(l=c.getStartOffset(a+1),f=c.getEndOffset(a+1))),new I.Range(d,l+1,d,f+1)}}e.InlayHintsFragments=h;function i(n){return _.URI.from({scheme:L.Schemas.command,path:n.id,query:n.arguments&&encodeURIComponent(JSON.stringify(n.arguments))}).toString()}e.asCommandLink=i}),define(re[195],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit"}),define(re[196],se([1,0,3]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReadonlyEmptyArray=e.applyEdits=e.createDisposableRef=void 0;function m(v,u){return{object:v,dispose:()=>u==null?void 0:u.dispose()}}e.createDisposableRef=m;function k(v,u){const h=new I(v),i=u.map(n=>{const t=E.Range.lift(n.range);return{startOffset:h.getOffset(t.getStartPosition()),endOffset:h.getOffset(t.getEndPosition()),text:n.text}});i.sort((n,t)=>t.startOffset-n.startOffset);for(const n of i)v=v.substring(0,n.startOffset)+n.text+v.substring(n.endOffset);return v}e.applyEdits=k;class I{constructor(u){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let h=0;h<u.length;h++)u.charAt(h)===`
`&&this.lineStartOffsetByLineIdx.push(h+1)}getOffset(u){return this.lineStartOffsetByLineIdx[u.lineNumber-1]+u.column-1}}const L=[];function _(){return L}e.getReadonlyEmptyArray=_}),define(re[157],se([1,0,4,2,196]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseGhostTextWidgetModel=e.GhostTextReplacement=e.GhostTextPart=e.GhostText=void 0;class I{constructor(h,i,n=0){this.lineNumber=h,this.parts=i,this.additionalReservedLineCount=n}renderForScreenReader(h){if(this.parts.length===0)return"";const i=this.parts[this.parts.length-1],n=h.substr(0,i.column-1);return(0,k.applyEdits)(n,this.parts.map(o=>({range:{startLineNumber:1,endLineNumber:1,startColumn:o.column,endColumn:o.column},text:o.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(h=>h.lines.length===0)}}e.GhostText=I;class L{constructor(h,i,n){this.column=h,this.lines=i,this.preview=n}}e.GhostTextPart=L;class _{constructor(h,i,n,t,o=0){this.lineNumber=h,this.columnStart=i,this.length=n,this.newLines=t,this.additionalReservedLineCount=o,this.parts=[new L(this.columnStart+this.length,this.newLines,!1)]}renderForScreenReader(h){return this.newLines.join(`
`)}}e.GhostTextReplacement=_;class v extends m.Disposable{constructor(h){super();this.editor=h,this._expanded=void 0,this.onDidChangeEmitter=new E.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this._register(h.onDidChangeConfiguration(i=>{i.hasChanged(106)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(h){this._expanded=!0,this.onDidChangeEmitter.fire()}}e.BaseGhostTextWidgetModel=v}),define(re[197],se([1,0,141,8,3,157]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineCompletionToGhostText=e.normalizedInlineCompletionsEquals=e.minimizeInlineCompletion=void 0;function L(t,o){if(!o)return o;const d=t.getValueInRange(o.range),r=m.commonPrefixLength(d,o.insertText),c=t.getOffsetAt(o.range.getStartPosition())+r,s=t.getPositionAt(c),a=d.substr(r),l=m.commonSuffixLength(a,o.insertText),f=t.getPositionAt(Math.max(c,t.getOffsetAt(o.range.getEndPosition())-l));return{range:k.Range.fromPositions(s,f),insertText:o.insertText.substr(r,o.insertText.length-r-l),snippetInfo:o.snippetInfo,filterText:o.filterText,additionalTextEdits:o.additionalTextEdits}}e.minimizeInlineCompletion=L;function _(t,o){return t===o?!0:!t||!o?!1:t.range.equalsRange(o.range)&&t.insertText===o.insertText&&t.command===o.command}e.normalizedInlineCompletionsEquals=_;function v(t,o,d,r,c=0){if(t.range.startLineNumber!==t.range.endLineNumber)return;const s=o.getLineContent(t.range.startLineNumber),a=m.getLeadingWhitespace(s).length;if(t.range.startColumn-1<=a){const S=m.getLeadingWhitespace(t.insertText).length,y=s.substring(t.range.startColumn-1,a),w=k.Range.fromPositions(t.range.getStartPosition().delta(0,y.length),t.range.getEndPosition()),T=t.insertText.startsWith(y)?t.insertText.substring(y.length):t.insertText.substring(S);t={range:w,insertText:T,command:t.command,snippetInfo:void 0,filterText:t.filterText,additionalTextEdits:t.additionalTextEdits}}const f=o.getValueInRange(t.range),g=h(f,t.insertText);if(!g)return;const b=t.range.startLineNumber,p=new Array;if(d==="prefix"){const S=g.filter(y=>y.originalLength===0);if(S.length>1||S.length===1&&S[0].originalStart!==f.length)return}const C=t.insertText.length-c;for(const S of g){const y=t.range.startColumn+S.originalStart+S.originalLength;if(d==="subwordSmart"&&r&&r.lineNumber===t.range.startLineNumber&&y<r.column||S.originalLength>0)return;if(S.modifiedLength===0)continue;const w=S.modifiedStart+S.modifiedLength,T=Math.max(S.modifiedStart,Math.min(w,C)),N=t.insertText.substring(S.modifiedStart,T),R=t.insertText.substring(T,Math.max(S.modifiedStart,w));if(N.length>0){const B=m.splitLines(N);p.push(new I.GhostTextPart(y,B,!1))}if(R.length>0){const B=m.splitLines(R);p.push(new I.GhostTextPart(y,B,!0))}}return new I.GhostText(b,p,0)}e.inlineCompletionToGhostText=v;let u;function h(t,o){if((u==null?void 0:u.originalValue)===t&&(u==null?void 0:u.newValue)===o)return u==null?void 0:u.changes;{let d=n(t,o,!0);if(d){const r=i(d);if(r>0){const c=n(t,o,!1);c&&i(c)<r&&(d=c)}}return u={originalValue:t,newValue:o,changes:d},d}}function i(t){let o=0;for(const d of t)o+=Math.max(d.originalLength-d.modifiedLength,0);return o}function n(t,o,d){if(t.length>5e3||o.length>5e3)return;function r(g){let b=0;for(let p=0,C=g.length;p<C;p++){const S=g.charCodeAt(p);S>b&&(b=S)}return b}const c=Math.max(r(t),r(o));function s(g){if(g<0)throw new Error("unexpected");return c+g+1}function a(g){let b=0,p=0;const C=new Int32Array(g.length);for(let S=0,y=g.length;S<y;S++)if(d&&g[S]==="("){const w=p*100+b;C[S]=s(2*w),b++}else if(d&&g[S]===")"){b=Math.max(b-1,0);const w=p*100+b;C[S]=s(2*w+1),b===0&&p++}else C[S]=g.charCodeAt(S);return C}const l=a(t),f=a(o);return new E.LcsDiff({getElements:()=>l},{getElements:()=>f}).ComputeDiff(!1).changes}}),define(re[477],se([1,0,3,24]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class k{constructor(L,_,v){this._selection=L,this._isCopyingDown=_,this._noop=v||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(L,_){let v=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,v.startLineNumber<v.endLineNumber&&v.endColumn===1&&(this._endLineNumberDelta=1,v=v.setEndPosition(v.endLineNumber-1,L.getLineMaxColumn(v.endLineNumber-1)));let u=[];for(let i=v.startLineNumber;i<=v.endLineNumber;i++)u.push(L.getLineContent(i));const h=u.join(`
`);h===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?_.addEditOperation(new E.Range(v.endLineNumber,L.getLineMaxColumn(v.endLineNumber),v.endLineNumber+1,1),v.endLineNumber===L.getLineCount()?"":`
`):this._isCopyingDown?_.addEditOperation(new E.Range(v.startLineNumber,1,v.startLineNumber,1),h+`
`):_.addEditOperation(new E.Range(v.endLineNumber,L.getLineMaxColumn(v.endLineNumber),v.endLineNumber,L.getLineMaxColumn(v.endLineNumber)),`
`+h),this._selectionId=_.trackSelection(v),this._selectionDirection=this._selection.getDirection()}computeCursorState(L,_){let v=_.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let u=v.startLineNumber,h=v.startColumn,i=v.endLineNumber,n=v.endColumn;this._startLineNumberDelta!==0&&(u=u+this._startLineNumberDelta,h=1),this._endLineNumberDelta!==0&&(i=i+this._endLineNumberDelta,n=1),v=m.Selection.createWithDirection(u,h,i,n,this._selectionDirection)}return v}}e.CopyLinesCommand=k}),define(re[478],se([1,0,61,3]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class k{constructor(v,u){this.selection=v,this.descending=u,this.selectionId=null}static getCollator(){return k._COLLATOR||(k._COLLATOR=new Intl.Collator),k._COLLATOR}getEditOperations(v,u){let h=L(v,this.selection,this.descending);h&&u.addEditOperation(h.range,h.text),this.selectionId=u.trackSelection(this.selection)}computeCursorState(v,u){return u.getTrackedSelection(this.selectionId)}static canRun(v,u,h){if(v===null)return!1;let i=I(v,u,h);if(!i)return!1;for(let n=0,t=i.before.length;n<t;n++)if(i.before[n]!==i.after[n])return!0;return!1}}e.SortLinesCommand=k,k._COLLATOR=null;function I(_,v,u){let h=v.startLineNumber,i=v.endLineNumber;if(v.endColumn===1&&i--,h>=i)return null;let n=[];for(let o=h;o<=i;o++)n.push(_.getLineContent(o));let t=n.slice(0);return t.sort(k.getCollator().compare),u===!0&&(t=t.reverse()),{startLineNumber:h,endLineNumber:i,before:n,after:t}}function L(_,v,u){let h=I(_,v,u);return h?E.EditOperation.replace(new m.Range(h.startLineNumber,1,h.endLineNumber,_.getLineMaxColumn(h.endLineNumber)),h.after.join(`
`)):null}}),define(re[267],se([1,0,84,11,3]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class I{provideSelectionRanges(_,v){return Le(this,void 0,void 0,function*(){const u=[];for(const h of v){const i=[];u.push(i);const n=new Map;yield new Promise(t=>I._bracketsRightYield(t,0,_,h,n)),yield new Promise(t=>I._bracketsLeftYield(t,0,_,h,n,i))}return u})}static _bracketsRightYield(_,v,u,h,i){const n=new Map,t=Date.now();for(;;){if(v>=I._maxRounds){_();break}if(!h){_();break}let o=u.bracketPairs.findNextBracket(h);if(!o){_();break}if(Date.now()-t>I._maxDuration){setTimeout(()=>I._bracketsRightYield(_,v+1,u,h,i));break}if(o.bracketInfo.isOpeningBracket){const r=o.bracketInfo.bracketText;let c=n.has(r)?n.get(r):0;n.set(r,c+1)}else{const r=o.bracketInfo.getClosedBrackets()[0].bracketText;let c=n.has(r)?n.get(r):0;if(c-=1,n.set(r,Math.max(0,c)),c<0){let s=i.get(r);s||(s=new E.LinkedList,i.set(r,s)),s.push(o.range)}}h=o.range.getEndPosition()}}static _bracketsLeftYield(_,v,u,h,i,n){const t=new Map,o=Date.now();for(;;){if(v>=I._maxRounds&&i.size===0){_();break}if(!h){_();break}let d=u.bracketPairs.findPrevBracket(h);if(!d){_();break}if(Date.now()-o>I._maxDuration){setTimeout(()=>I._bracketsLeftYield(_,v+1,u,h,i,n));break}if(d.bracketInfo.isOpeningBracket){const c=d.bracketInfo.bracketText;let s=t.has(c)?t.get(c):0;if(s-=1,t.set(c,Math.max(0,s)),s<0){let a=i.get(c);if(a){let l=a.shift();a.size===0&&i.delete(c);const f=k.Range.fromPositions(d.range.getEndPosition(),l.getStartPosition()),g=k.Range.fromPositions(d.range.getStartPosition(),l.getEndPosition());n.push({range:f}),n.push({range:g}),I._addBracketLeading(u,g,n)}}}else{const c=d.bracketInfo.getClosedBrackets()[0].bracketText;let s=t.has(c)?t.get(c):0;t.set(c,s+1)}h=d.range.getStartPosition()}}static _addBracketLeading(_,v,u){if(v.startLineNumber===v.endLineNumber)return;const h=v.startLineNumber,i=_.getLineFirstNonWhitespaceColumn(h);i!==0&&i!==v.startColumn&&(u.push({range:k.Range.fromPositions(new m.Position(h,i),v.getEndPosition())}),u.push({range:k.Range.fromPositions(new m.Position(h,1),v.getEndPosition())}));const n=h-1;if(n>0){const t=_.getLineFirstNonWhitespaceColumn(n);t===v.startColumn&&t!==_.getLineLastNonWhitespaceColumn(n)&&(u.push({range:k.Range.fromPositions(new m.Position(n,t),v.getEndPosition())}),u.push({range:k.Range.fromPositions(new m.Position(n,1),v.getEndPosition())}))}}}e.BracketSelectionRangeProvider=I,I._maxDuration=30,I._maxRounds=2}),define(re[479],se([1,0,8,3]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class k{provideSelectionRanges(L,_){const v=[];for(const u of _){const h=[];v.push(h),this._addInWordRanges(h,L,u),this._addWordRanges(h,L,u),this._addWhitespaceLine(h,L,u),h.push({range:L.getFullModelRange()})}return v}_addInWordRanges(L,_,v){const u=_.getWordAtPosition(v);if(!u)return;let{word:h,startColumn:i}=u,n=v.column-i,t=n,o=n,d=0;for(;t>=0;t--){let r=h.charCodeAt(t);if(t!==n&&(r===95||r===45))break;if((0,E.isLowerAsciiLetter)(r)&&(0,E.isUpperAsciiLetter)(d))break;d=r}for(t+=1;o<h.length;o++){let r=h.charCodeAt(o);if((0,E.isUpperAsciiLetter)(r)&&(0,E.isLowerAsciiLetter)(d))break;if(r===95||r===45)break;d=r}t<o&&L.push({range:new m.Range(v.lineNumber,i+t,v.lineNumber,i+o)})}_addWordRanges(L,_,v){const u=_.getWordAtPosition(v);u&&L.push({range:new m.Range(v.lineNumber,u.startColumn,v.lineNumber,u.endColumn)})}_addWhitespaceLine(L,_,v){_.getLineLength(v.lineNumber)>0&&_.getLineFirstNonWhitespaceColumn(v.lineNumber)===0&&_.getLineLastNonWhitespaceColumn(v.lineNumber)===0&&L.push({range:new m.Range(v.lineNumber,1,v.lineNumber,_.getLineMaxColumn(v.lineNumber))})}}e.WordSelectionRangeProvider=k}),define(re[107],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class E{constructor(){this.value="",this.pos=0}static isDigitCharacter(d){return d>=48&&d<=57}static isVariableCharacter(d){return d===95||d>=97&&d<=122||d>=65&&d<=90}text(d){this.value=d,this.pos=0}tokenText(d){return this.value.substr(d.pos,d.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let d=this.pos,r=0,c=this.value.charCodeAt(d),s;if(s=E._table[c],typeof s=="number")return this.pos+=1,{type:s,pos:d,len:1};if(E.isDigitCharacter(c)){s=8;do r+=1,c=this.value.charCodeAt(d+r);while(E.isDigitCharacter(c));return this.pos+=r,{type:s,pos:d,len:r}}if(E.isVariableCharacter(c)){s=9;do c=this.value.charCodeAt(d+ ++r);while(E.isVariableCharacter(c)||E.isDigitCharacter(c));return this.pos+=r,{type:s,pos:d,len:r}}s=10;do r+=1,c=this.value.charCodeAt(d+r);while(!isNaN(c)&&typeof E._table[c]=="undefined"&&!E.isDigitCharacter(c)&&!E.isVariableCharacter(c));return this.pos+=r,{type:s,pos:d,len:r}}}e.Scanner=E,E._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class m{constructor(){this._children=[]}appendChild(d){return d instanceof k&&this._children[this._children.length-1]instanceof k?this._children[this._children.length-1].value+=d.value:(d.parent=this,this._children.push(d)),this}replace(d,r){const{parent:c}=d,s=c.children.indexOf(d),a=c.children.slice(0);a.splice(s,1,...r),c._children=a,function l(f,g){for(const b of f)b.parent=g,l(b.children,b)}(r,c)}get children(){return this._children}get snippet(){let d=this;for(;;){if(!d)return;if(d instanceof n)return d;d=d.parent}}toString(){return this.children.reduce((d,r)=>d+r.toString(),"")}len(){return 0}}e.Marker=m;class k extends m{constructor(d){super();this.value=d}toString(){return this.value}len(){return this.value.length}clone(){return new k(this.value)}}e.Text=k;class I extends m{}e.TransformableMarker=I;class L extends I{constructor(d){super();this.index=d}static compareByIndex(d,r){return d.index===r.index?0:d.isFinalTabstop?1:r.isFinalTabstop||d.index<r.index?-1:d.index>r.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof _?this._children[0]:void 0}clone(){let d=new L(this.index);return this.transform&&(d.transform=this.transform.clone()),d._children=this.children.map(r=>r.clone()),d}}e.Placeholder=L;class _ extends m{constructor(){super(...arguments);this.options=[]}appendChild(d){return d instanceof k&&(d.parent=this,this.options.push(d)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let d=new _;return this.options.forEach(d.appendChild,d),d}}e.Choice=_;class v extends m{constructor(){super(...arguments);this.regexp=new RegExp("")}resolve(d){const r=this;let c=!1,s=d.replace(this.regexp,function(){return c=!0,r._replace(Array.prototype.slice.call(arguments,0,-2))});return!c&&this._children.some(a=>a instanceof u&&Boolean(a.elseValue))&&(s=this._replace([])),s}_replace(d){let r="";for(const c of this._children)if(c instanceof u){let s=d[c.index]||"";s=c.resolve(s),r+=s}else r+=c.toString();return r}toString(){return""}clone(){let d=new v;return d.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),d._children=this.children.map(r=>r.clone()),d}}e.Transform=v;class u extends m{constructor(d,r,c,s){super();this.index=d,this.shorthandName=r,this.ifValue=c,this.elseValue=s}resolve(d){return this.shorthandName==="upcase"?d?d.toLocaleUpperCase():"":this.shorthandName==="downcase"?d?d.toLocaleLowerCase():"":this.shorthandName==="capitalize"?d?d[0].toLocaleUpperCase()+d.substr(1):"":this.shorthandName==="pascalcase"?d?this._toPascalCase(d):"":this.shorthandName==="camelcase"?d?this._toCamelCase(d):"":Boolean(d)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(d)&&typeof this.elseValue=="string"?this.elseValue:d||""}_toPascalCase(d){const r=d.match(/[a-z0-9]+/gi);return r?r.map(c=>c.charAt(0).toUpperCase()+c.substr(1)).join(""):d}_toCamelCase(d){const r=d.match(/[a-z0-9]+/gi);return r?r.map((c,s)=>s===0?c.charAt(0).toLowerCase()+c.substr(1):c.charAt(0).toUpperCase()+c.substr(1)).join(""):d}clone(){return new u(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=u;class h extends I{constructor(d){super();this.name=d}resolve(d){let r=d.resolve(this);return this.transform&&(r=this.transform.resolve(r||"")),r!==void 0?(this._children=[new k(r)],!0):!1}clone(){const d=new h(this.name);return this.transform&&(d.transform=this.transform.clone()),d._children=this.children.map(r=>r.clone()),d}}e.Variable=h;function i(o,d){const r=[...o];for(;r.length>0;){const c=r.shift();if(!d(c))break;r.unshift(...c.children)}}class n extends m{get placeholderInfo(){if(!this._placeholders){let d=[],r;this.walk(function(c){return c instanceof L&&(d.push(c),r=!r||r.index<c.index?c:r),!0}),this._placeholders={all:d,last:r}}return this._placeholders}get placeholders(){const{all:d}=this.placeholderInfo;return d}offset(d){let r=0,c=!1;return this.walk(s=>s===d?(c=!0,!1):(r+=s.len(),!0)),c?r:-1}fullLen(d){let r=0;return i([d],c=>(r+=c.len(),!0)),r}enclosingPlaceholders(d){let r=[],{parent:c}=d;for(;c;)c instanceof L&&r.push(c),c=c.parent;return r}resolveVariables(d){return this.walk(r=>(r instanceof h&&r.resolve(d)&&(this._placeholders=void 0),!0)),this}appendChild(d){return this._placeholders=void 0,super.appendChild(d)}replace(d,r){return this._placeholders=void 0,super.replace(d,r)}clone(){let d=new n;return this._children=this.children.map(r=>r.clone()),d}walk(d){i(this.children,d)}}e.TextmateSnippet=n;class t{constructor(){this._scanner=new E,this._token={type:14,pos:0,len:0}}static escape(d){return d.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(d){return/\${?CLIPBOARD/.test(d)}parse(d,r,c){this._scanner.text(d),this._token=this._scanner.next();const s=new n;for(;this._parse(s););const a=new Map,l=[];let f=0;s.walk(g=>(g instanceof L&&(f+=1,g.isFinalTabstop?a.set(0,void 0):!a.has(g.index)&&g.children.length>0?a.set(g.index,g.children):l.push(g)),!0));for(const g of l){const b=a.get(g.index);if(b){const p=new L(g.index);p.transform=g.transform;for(const C of b)p.appendChild(C.clone());s.replace(g,[p])}}return c||(c=f>0&&r),!a.has(0)&&c&&s.appendChild(new L(0)),s}_accept(d,r){if(d===void 0||this._token.type===d){let c=r?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),c}return!1}_backTo(d){return this._scanner.pos=d.pos+d.len,this._token=d,!1}_until(d){const r=this._token;for(;this._token.type!==d;){if(this._token.type===14)return!1;if(this._token.type===5){const s=this._scanner.next();if(s.type!==0&&s.type!==4&&s.type!==5)return!1}this._token=this._scanner.next()}const c=this._scanner.value.substring(r.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),c}_parse(d){return this._parseEscaped(d)||this._parseTabstopOrVariableName(d)||this._parseComplexPlaceholder(d)||this._parseComplexVariable(d)||this._parseAnything(d)}_parseEscaped(d){let r;return(r=this._accept(5,!0))?(r=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||r,d.appendChild(new k(r)),!0):!1}_parseTabstopOrVariableName(d){let r;const c=this._token;return this._accept(0)&&(r=this._accept(9,!0)||this._accept(8,!0))?(d.appendChild(/^\d+$/.test(r)?new L(Number(r)):new h(r)),!0):this._backTo(c)}_parseComplexPlaceholder(d){let r;const c=this._token;if(!(this._accept(0)&&this._accept(3)&&(r=this._accept(8,!0))))return this._backTo(c);const a=new L(Number(r));if(this._accept(1))for(;;){if(this._accept(4))return d.appendChild(a),!0;if(!this._parse(a))return d.appendChild(new k("${"+r+":")),a.children.forEach(d.appendChild,d),!0}else if(a.index>0&&this._accept(7)){const l=new _;for(;;){if(this._parseChoiceElement(l)){if(this._accept(2))continue;if(this._accept(7)&&(a.appendChild(l),this._accept(4)))return d.appendChild(a),!0}return this._backTo(c),!1}}else return this._accept(6)?this._parseTransform(a)?(d.appendChild(a),!0):(this._backTo(c),!1):this._accept(4)?(d.appendChild(a),!0):this._backTo(c)}_parseChoiceElement(d){const r=this._token,c=[];for(;!(this._token.type===2||this._token.type===7);){let s;if((s=this._accept(5,!0))?s=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||s:s=this._accept(void 0,!0),!s)return this._backTo(r),!1;c.push(s)}return c.length===0?(this._backTo(r),!1):(d.appendChild(new k(c.join(""))),!0)}_parseComplexVariable(d){let r;const c=this._token;if(!(this._accept(0)&&this._accept(3)&&(r=this._accept(9,!0))))return this._backTo(c);const a=new h(r);if(this._accept(1))for(;;){if(this._accept(4))return d.appendChild(a),!0;if(!this._parse(a))return d.appendChild(new k("${"+r+":")),a.children.forEach(d.appendChild,d),!0}else return this._accept(6)?this._parseTransform(a)?(d.appendChild(a),!0):(this._backTo(c),!1):this._accept(4)?(d.appendChild(a),!0):this._backTo(c)}_parseTransform(d){let r=new v,c="",s="";for(;!this._accept(6);){let a;if(a=this._accept(5,!0)){a=this._accept(6,!0)||a,c+=a;continue}if(this._token.type!==14){c+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let a;if(a=this._accept(5,!0)){a=this._accept(5,!0)||this._accept(6,!0)||a,r.appendChild(new k(a));continue}if(!(this._parseFormatString(r)||this._parseAnything(r)))return!1}for(;!this._accept(4);){if(this._token.type!==14){s+=this._accept(void 0,!0);continue}return!1}try{r.regexp=new RegExp(c,s)}catch{return!1}return d.transform=r,!0}_parseFormatString(d){const r=this._token;if(!this._accept(0))return!1;let c=!1;this._accept(3)&&(c=!0);let s=this._accept(8,!0);if(s)if(c){if(this._accept(4))return d.appendChild(new u(Number(s))),!0;if(!this._accept(1))return this._backTo(r),!1}else return d.appendChild(new u(Number(s))),!0;else return this._backTo(r),!1;if(this._accept(6)){let a=this._accept(9,!0);return!a||!this._accept(4)?(this._backTo(r),!1):(d.appendChild(new u(Number(s),a)),!0)}else if(this._accept(11)){let a=this._until(4);if(a)return d.appendChild(new u(Number(s),void 0,a,void 0)),!0}else if(this._accept(12)){let a=this._until(4);if(a)return d.appendChild(new u(Number(s),void 0,void 0,a)),!0}else if(this._accept(13)){let a=this._until(1);if(a){let l=this._until(4);if(l)return d.appendChild(new u(Number(s),void 0,a,l)),!0}}else{let a=this._until(4);if(a)return d.appendChild(new u(Number(s),void 0,void 0,a)),!0}return this._backTo(r),!1}_parseAnything(d){return this._token.type!==14?(d.appendChild(new k(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=t}),define(re[268],se([1,0,18,64,8]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class I{constructor(v,u){this.leadingLineContent=v,this.characterCountDelta=u}}e.LineContext=I;class L{constructor(v,u,h,i,n,t,o=m.FuzzyScoreOptions.default,d=void 0){this.clipboardText=d,this._snippetCompareFn=L._compareCompletionItems,this._items=v,this._column=u,this._wordDistance=i,this._options=n,this._refilterKind=1,this._lineContext=h,this._fuzzyScoreOptions=o,t==="top"?this._snippetCompareFn=L._compareCompletionItemsSnippetsUp:t==="bottom"&&(this._snippetCompareFn=L._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(v){(this._lineContext.leadingLineContent!==v.leadingLineContent||this._lineContext.characterCountDelta!==v.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<v.characterCountDelta&&this._filteredItems?2:1,this._lineContext=v)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const v=new Set;for(let[u,h]of this._providerInfo)h&&v.add(u);return v}adopt(v){let u=[];for(let h=0;h<this._items.length;)v.has(this._items[h].provider)?h++:(u.push(this._items[h]),this._items[h]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,u}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const v=[],{leadingLineContent:u,characterCountDelta:h}=this._lineContext;let i="",n="";const t=this._refilterKind===1?this._items:this._filteredItems,o=[],d=!this._options.filterGraceful||t.length>2e3?m.fuzzyScore:m.fuzzyScoreGracefulAggressive;for(let r=0;r<t.length;r++){const c=t[r];if(c.isInvalid)continue;this._providerInfo.set(c.provider,Boolean(c.container.incomplete));const s=c.position.column-c.editStart.column,a=s+h-(c.position.column-this._column);if(i.length!==a&&(i=a===0?"":u.slice(-a),n=i.toLowerCase()),c.word=i,a===0)c.score=m.FuzzyScore.Default;else{let l=0;for(;l<s;){const f=i.charCodeAt(l);if(f===32||f===9)l+=1;else break}if(l>=a)c.score=m.FuzzyScore.Default;else if(typeof c.completion.filterText=="string"){let f=d(i,n,l,c.completion.filterText,c.filterTextLow,0,this._fuzzyScoreOptions);if(!f)continue;(0,k.compareIgnoreCase)(c.completion.filterText,c.textLabel)===0?c.score=f:(c.score=(0,m.anyScore)(i,n,l,c.textLabel,c.labelLow,0),c.score[0]=f[0])}else{let f=d(i,n,l,c.textLabel,c.labelLow,0,this._fuzzyScoreOptions);if(!f)continue;c.score=f}}c.idx=r,c.distance=this._wordDistance.distance(c.position,c.completion),o.push(c),v.push(c.textLabel.length)}this._filteredItems=o.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:v.length?(0,E.quickSelect)(v.length-.85,v,(r,c)=>r-c):0}}static _compareCompletionItems(v,u){return v.score[0]>u.score[0]?-1:v.score[0]<u.score[0]?1:v.distance<u.distance?-1:v.distance>u.distance?1:v.idx<u.idx?-1:v.idx>u.idx?1:0}static _compareCompletionItemsSnippetsDown(v,u){if(v.completion.kind!==u.completion.kind){if(v.completion.kind===27)return 1;if(u.completion.kind===27)return-1}return L._compareCompletionItems(v,u)}static _compareCompletionItemsSnippetsUp(v,u){if(v.completion.kind!==u.completion.kind){if(v.completion.kind===27)return-1;if(u.completion.kind===27)return 1}return L._compareCompletionItems(v,u)}}e.CompletionModel=L}),define(re[269],se([1,0,7,121,4,2]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class L{constructor(){this._onDidWillResize=new k.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new k.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new I.DisposableStore,this._size=new E.Dimension(0,0),this._minSize=new E.Dimension(0,0),this._maxSize=new E.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new m.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new m.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new m.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:m.OrthogonalEdge.North}),this._southSash=new m.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:m.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let v,u=0,h=0;this._sashListener.add(k.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{v===void 0&&(this._onDidWillResize.fire(),v=this._size,u=0,h=0)})),this._sashListener.add(k.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{v!==void 0&&(v=void 0,u=0,h=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(i=>{v&&(h=i.currentX-i.startX,this.layout(v.height+u,v.width+h),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(i=>{v&&(h=-(i.currentX-i.startX),this.layout(v.height+u,v.width+h),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(i=>{v&&(u=-(i.currentY-i.startY),this.layout(v.height+u,v.width+h),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(i=>{v&&(u=i.currentY-i.startY,this.layout(v.height+u,v.width+h),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(k.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(i=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(k.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(i=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(v,u,h,i){this._northSash.state=v?3:0,this._eastSash.state=u?3:0,this._southSash.state=h?3:0,this._westSash.state=i?3:0}layout(v=this.size.height,u=this.size.width){const{height:h,width:i}=this._minSize,{height:n,width:t}=this._maxSize;v=Math.max(h,Math.min(n,v)),u=Math.max(i,Math.min(t,u));const o=new E.Dimension(u,v);E.Dimension.equals(o,this._size)||(this.domNode.style.height=v+"px",this.domNode.style.width=u+"px",this._size=o,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(v){this._maxSize=v}get maxSize(){return this._maxSize}set minSize(v){this._minSize=v}get minSize(){return this._minSize}set preferredSize(v){this._preferredSize=v}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=L}),define(re[480],se([1,0,18,2,102]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class I{constructor(_,v,u){this._disposables=new m.DisposableStore,this._disposables.add(v.onDidShow(()=>this._onItem(v.getFocusedItem()))),this._disposables.add(v.onDidFocus(this._onItem,this)),this._disposables.add(v.onDidHide(this.reset,this)),this._disposables.add(_.onWillType(h=>{if(this._active&&!v.isFrozen()){const i=h.charCodeAt(h.length-1);this._active.acceptCharacters.has(i)&&_.getOption(0)&&u(this._active.item)}}))}_onItem(_){if(!_||!(0,E.isNonEmptyArray)(_.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===_.item)return;const v=new k.CharacterSet;for(const u of _.item.completion.commitCharacters)u.length>0&&v.add(u.charCodeAt(0));this._active={acceptCharacters:v,item:_}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=I}),define(re[481],se([1,0,2]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class m{constructor(I,L){this._disposables=new E.DisposableStore,this._lastOvertyped=[],this._empty=!0,this._disposables.add(I.onWillType(()=>{if(!this._empty||!I.hasModel())return;const _=I.getSelections(),v=_.length;let u=!1;for(let i=0;i<v;i++)if(!_[i].isEmpty()){u=!0;break}if(!u)return;this._lastOvertyped=[];const h=I.getModel();for(let i=0;i<v;i++){const n=_[i];if(h.getValueLengthInRange(n)>m._maxSelectionLength)return;this._lastOvertyped[i]={value:h.getValueInRange(n),multiline:n.startLineNumber!==n.endLineNumber}}this._empty=!1})),this._disposables.add(L.onDidCancel(_=>{!this._empty&&!_.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(I){if(!this._empty&&I>=0&&I<this._lastOvertyped.length)return this._lastOvertyped[I]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=m,m._maxSelectionLength=51200}),define(re[270],se([1,0,18,3,267]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class I{static create(_,v){return Le(this,void 0,void 0,function*(){if(!v.getOption(106).localityBonus||!v.hasModel())return I.None;const u=v.getModel(),h=v.getPosition();if(!_.canComputeWordRanges(u.uri))return I.None;const[i]=yield new k.BracketSelectionRangeProvider().provideSelectionRanges(u,[h]);if(i.length===0)return I.None;const n=yield _.computeWordRanges(u.uri,i[0].range);if(!n)return I.None;const t=u.getWordUntilPosition(h);return delete n[t.word],new class extends I{distance(o,d){if(!h.equals(v.getPosition()))return 0;if(d.kind===17)return 2<<20;let r=typeof d.label=="string"?d.label:d.label.label,c=n[r];if((0,E.isFalsyOrEmpty)(c))return 2<<20;let s=(0,E.binarySearch)(c,m.Range.fromPositions(o),m.Range.compareRangesUsingStarts),a=s>=0?c[s]:c[Math.max(0,~s-1)],l=i.length;for(const f of i){if(!m.Range.containsRange(f.range,a))break;l-=1}return l}}})}}e.WordDistance=I,I.None=new class extends I{distance(){return 0}}}),define(re[271],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stateExists=e.findRules=e.substituteMatches=e.createError=e.log=e.sanitize=e.fixCase=e.empty=e.isIAction=e.isString=e.isFuzzyAction=e.isFuzzyActionArr=void 0;function E(o){return Array.isArray(o)}e.isFuzzyActionArr=E;function m(o){return!E(o)}e.isFuzzyAction=m;function k(o){return typeof o=="string"}e.isString=k;function I(o){return!k(o)}e.isIAction=I;function L(o){return!o}e.empty=L;function _(o,d){return o.ignoreCase&&d?d.toLowerCase():d}e.fixCase=_;function v(o){return o.replace(/[&<>'"_]/g,"-")}e.sanitize=v;function u(o,d){console.log(`${o.languageId}: ${d}`)}e.log=u;function h(o,d){return new Error(`${o.languageId}: ${d}`)}e.createError=h;function i(o,d,r,c,s){const a=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let l=null;return d.replace(a,function(f,g,b,p,C,S,y,w,T){return L(b)?L(p)?!L(C)&&C<c.length?_(o,c[C]):!L(y)&&o&&typeof o[y]=="string"?o[y]:(l===null&&(l=s.split("."),l.unshift(s)),!L(S)&&S<l.length?_(o,l[S]):""):_(o,r):"$"})}e.substituteMatches=i;function n(o,d){let r=d;for(;r&&r.length>0;){const c=o.tokenizer[r];if(c)return c;const s=r.lastIndexOf(".");s<0?r=null:r=r.substr(0,s)}return null}e.findRules=n;function t(o,d){let r=d;for(;r&&r.length>0;){if(o.stateNames[r])return!0;const s=r.lastIndexOf(".");s<0?r=null:r=r.substr(0,s)}return!1}e.stateExists=t}),define(re[482],se([1,0,271]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=void 0;function m(o,d){if(!d||!Array.isArray(d))return!1;for(const r of d)if(!o(r))return!1;return!0}function k(o,d){return typeof o=="boolean"?o:d}function I(o,d){return typeof o=="string"?o:d}function L(o){const d={};for(const r of o)d[r]=!0;return d}function _(o,d=!1){d&&(o=o.map(function(c){return c.toLowerCase()}));const r=L(o);return d?function(c){return r[c.toLowerCase()]!==void 0&&r.hasOwnProperty(c.toLowerCase())}:function(c){return r[c]!==void 0&&r.hasOwnProperty(c)}}function v(o,d){d=d.replace(/@@/g,"");let r=0,c;do c=!1,d=d.replace(/@(\w+)/g,function(a,l){c=!0;let f="";if(typeof o[l]=="string")f=o[l];else if(o[l]&&o[l]instanceof RegExp)f=o[l].source;else throw o[l]===void 0?E.createError(o,"language definition does not contain attribute '"+l+"', used at: "+d):E.createError(o,"attribute reference '"+l+"' must be a string, used at: "+d);return E.empty(f)?"":"(?:"+f+")"}),r++;while(c&&r<5);d=d.replace(/\x01/g,"@");const s=(o.ignoreCase?"i":"")+(o.unicode?"u":"");return new RegExp(d,s)}function u(o,d,r,c){if(c<0)return o;if(c<d.length)return d[c];if(c>=100){c=c-100;const s=r.split(".");if(s.unshift(r),c<s.length)return s[c]}return null}function h(o,d,r,c){let s=-1,a=r,l=r.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);l&&(l[3]&&(s=parseInt(l[3]),l[2]&&(s=s+100)),a=l[4]);let f="~",g=a;!a||a.length===0?(f="!=",g=""):/^\w*$/.test(g)?f="==":(l=a.match(/^(@|!@|~|!~|==|!=)(.*)$/),l&&(f=l[1],g=l[2]));let b;if((f==="~"||f==="!~")&&/^(\w|\|)*$/.test(g)){const p=_(g.split("|"),o.ignoreCase);b=function(C){return f==="~"?p(C):!p(C)}}else if(f==="@"||f==="!@"){const p=o[g];if(!p)throw E.createError(o,"the @ match target '"+g+"' is not defined, in rule: "+d);if(!m(function(S){return typeof S=="string"},p))throw E.createError(o,"the @ match target '"+g+"' must be an array of strings, in rule: "+d);const C=_(p,o.ignoreCase);b=function(S){return f==="@"?C(S):!C(S)}}else if(f==="~"||f==="!~")if(g.indexOf("$")<0){const p=v(o,"^"+g+"$");b=function(C){return f==="~"?p.test(C):!p.test(C)}}else b=function(p,C,S,y){return v(o,"^"+E.substituteMatches(o,g,C,S,y)+"$").test(p)};else if(g.indexOf("$")<0){const p=E.fixCase(o,g);b=function(C){return f==="=="?C===p:C!==p}}else{const p=E.fixCase(o,g);b=function(C,S,y,w,T){const N=E.substituteMatches(o,p,S,y,w);return f==="=="?C===N:C!==N}}return s===-1?{name:r,value:c,test:function(p,C,S,y){return b(p,p,C,S,y)}}:{name:r,value:c,test:function(p,C,S,y){const w=u(p,C,S,s);return b(w||"",p,C,S,y)}}}function i(o,d,r){if(r){if(typeof r=="string")return r;if(r.token||r.token===""){if(typeof r.token!="string")throw E.createError(o,"a 'token' attribute must be of type string, in rule: "+d);{const c={token:r.token};if(r.token.indexOf("$")>=0&&(c.tokenSubst=!0),typeof r.bracket=="string")if(r.bracket==="@open")c.bracket=1;else if(r.bracket==="@close")c.bracket=-1;else throw E.createError(o,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+d);if(r.next){if(typeof r.next!="string")throw E.createError(o,"the next state must be a string value in rule: "+d);{let s=r.next;if(!/^(@pop|@push|@popall)$/.test(s)&&(s[0]==="@"&&(s=s.substr(1)),s.indexOf("$")<0&&!E.stateExists(o,E.substituteMatches(o,s,"",[],""))))throw E.createError(o,"the next state '"+r.next+"' is not defined in rule: "+d);c.next=s}}return typeof r.goBack=="number"&&(c.goBack=r.goBack),typeof r.switchTo=="string"&&(c.switchTo=r.switchTo),typeof r.log=="string"&&(c.log=r.log),typeof r.nextEmbedded=="string"&&(c.nextEmbedded=r.nextEmbedded,o.usesEmbedded=!0),c}}else if(Array.isArray(r)){const c=[];for(let s=0,a=r.length;s<a;s++)c[s]=i(o,d,r[s]);return{group:c}}else if(r.cases){const c=[];for(let a in r.cases)if(r.cases.hasOwnProperty(a)){const l=i(o,d,r.cases[a]);a==="@default"||a==="@"||a===""?c.push({test:void 0,value:l,name:a}):a==="@eos"?c.push({test:function(f,g,b,p){return p},value:l,name:a}):c.push(h(o,d,a,l))}const s=o.defaultToken;return{test:function(a,l,f,g){for(const b of c)if(!b.test||b.test(a,l,f,g))return b.value;return s}}}else throw E.createError(o,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+d)}else return{token:""}}class n{constructor(d){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=d}setRegex(d,r){let c;if(typeof r=="string")c=r;else if(r instanceof RegExp)c=r.source;else throw E.createError(d,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=c.length>0&&c[0]==="^",this.name=this.name+": "+c,this.regex=v(d,"^(?:"+(this.matchOnlyAtLineStart?c.substr(1):c)+")")}setAction(d,r){this.action=i(d,this.name,r)}}function t(o,d){if(!d||typeof d!="object")throw new Error("Monarch: expecting a language definition object");const r={};r.languageId=o,r.includeLF=k(d.includeLF,!1),r.noThrow=!1,r.maxStack=100,r.start=typeof d.start=="string"?d.start:null,r.ignoreCase=k(d.ignoreCase,!1),r.unicode=k(d.unicode,!1),r.tokenPostfix=I(d.tokenPostfix,"."+r.languageId),r.defaultToken=I(d.defaultToken,"source"),r.usesEmbedded=!1;const c=d;c.languageId=o,c.includeLF=r.includeLF,c.ignoreCase=r.ignoreCase,c.unicode=r.unicode,c.noThrow=r.noThrow,c.usesEmbedded=r.usesEmbedded,c.stateNames=d.tokenizer,c.defaultToken=r.defaultToken;function s(l,f,g){for(const b of g){let p=b.include;if(p){if(typeof p!="string")throw E.createError(r,"an 'include' attribute must be a string at: "+l);if(p[0]==="@"&&(p=p.substr(1)),!d.tokenizer[p])throw E.createError(r,"include target '"+p+"' is not defined at: "+l);s(l+"."+p,f,d.tokenizer[p])}else{const C=new n(l);if(Array.isArray(b)&&b.length>=1&&b.length<=3)if(C.setRegex(c,b[0]),b.length>=3)if(typeof b[1]=="string")C.setAction(c,{token:b[1],next:b[2]});else if(typeof b[1]=="object"){const S=b[1];S.next=b[2],C.setAction(c,S)}else throw E.createError(r,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+l);else C.setAction(c,b[1]);else{if(!b.regex)throw E.createError(r,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+l);b.name&&typeof b.name=="string"&&(C.name=b.name),b.matchOnlyAtStart&&(C.matchOnlyAtLineStart=k(b.matchOnlyAtLineStart,!1)),C.setRegex(c,b.regex),C.setAction(c,b.action)}f.push(C)}}}if(!d.tokenizer||typeof d.tokenizer!="object")throw E.createError(r,"a language definition must define the 'tokenizer' attribute as an object");r.tokenizer=[];for(let l in d.tokenizer)if(d.tokenizer.hasOwnProperty(l)){r.start||(r.start=l);const f=d.tokenizer[l];r.tokenizer[l]=new Array,s("tokenizer."+l,r.tokenizer[l],f)}if(r.usesEmbedded=c.usesEmbedded,d.brackets){if(!Array.isArray(d.brackets))throw E.createError(r,"the 'brackets' attribute must be defined as an array")}else d.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const a=[];for(let l of d.brackets){let f=l;if(f&&Array.isArray(f)&&f.length===3&&(f={token:f[2],open:f[0],close:f[1]}),f.open===f.close)throw E.createError(r,"open and close brackets in a 'brackets' attribute must be different: "+f.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof f.open=="string"&&typeof f.token=="string"&&typeof f.close=="string")a.push({token:f.token+r.tokenPostfix,open:E.fixCase(r,f.open),close:E.fixCase(r,f.close)});else throw E.createError(r,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return r.brackets=a,r.noThrow=!0,r}e.compile=t}),define(re[272],se([1,0,27,127,271]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonarchTokenizer=void 0;const I=5;class L{constructor(r){this._maxCacheDepth=r,this._entries=Object.create(null)}static create(r,c){return this._INSTANCE.create(r,c)}create(r,c){if(r!==null&&r.depth>=this._maxCacheDepth)return new _(r,c);let s=_.getStackElementId(r);s.length>0&&(s+="|"),s+=c;let a=this._entries[s];return a||(a=new _(r,c),this._entries[s]=a,a)}}L._INSTANCE=new L(I);class _{constructor(r,c){this.parent=r,this.state=c,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(r){let c="";for(;r!==null;)c.length>0&&(c+="|"),c+=r.state,r=r.parent;return c}static _equals(r,c){for(;r!==null&&c!==null;){if(r===c)return!0;if(r.state!==c.state)return!1;r=r.parent,c=c.parent}return r===null&&c===null}equals(r){return _._equals(this,r)}push(r){return L.create(this,r)}pop(){return this.parent}popall(){let r=this;for(;r.parent;)r=r.parent;return r}switchTo(r){return L.create(this.parent,r)}}class v{constructor(r,c){this.languageId=r,this.state=c}equals(r){return this.languageId===r.languageId&&this.state.equals(r.state)}clone(){return this.state.clone()===this.state?this:new v(this.languageId,this.state)}}class u{constructor(r){this._maxCacheDepth=r,this._entries=Object.create(null)}static create(r,c){return this._INSTANCE.create(r,c)}create(r,c){if(c!==null)return new h(r,c);if(r!==null&&r.depth>=this._maxCacheDepth)return new h(r,c);const s=_.getStackElementId(r);let a=this._entries[s];return a||(a=new h(r,null),this._entries[s]=a,a)}}u._INSTANCE=new u(I);class h{constructor(r,c){this.stack=r,this.embeddedLanguageData=c}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:u.create(this.stack,this.embeddedLanguageData)}equals(r){return!(r instanceof h)||!this.stack.equals(r.stack)?!1:this.embeddedLanguageData===null&&r.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||r.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(r.embeddedLanguageData)}}class i{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(r){this._languageId=r}emit(r,c){this._lastTokenType===c&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=c,this._lastTokenLanguage=this._languageId,this._tokens.push(new E.Token(r,c,this._languageId)))}nestedLanguageTokenize(r,c,s,a){const l=s.languageId,f=s.state,g=E.TokenizationRegistry.get(l);if(!g)return this.enterLanguage(l),this.emit(a,""),f;const b=g.tokenize(r,c,f);if(a!==0)for(const p of b.tokens)this._tokens.push(new E.Token(p.offset+a,p.type,p.language));else this._tokens=this._tokens.concat(b.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,b.endState}finalize(r){return new E.TokenizationResult(this._tokens,r)}}class n{constructor(r,c){this._languageService=r,this._theme=c,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(r){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(r)}emit(r,c){const s=this._theme.match(this._currentLanguageId,c);this._lastTokenMetadata!==s&&(this._lastTokenMetadata=s,this._tokens.push(r),this._tokens.push(s))}static _merge(r,c,s){const a=r!==null?r.length:0,l=c.length,f=s!==null?s.length:0;if(a===0&&l===0&&f===0)return new Uint32Array(0);if(a===0&&l===0)return s;if(l===0&&f===0)return r;const g=new Uint32Array(a+l+f);r!==null&&g.set(r);for(let b=0;b<l;b++)g[a+b]=c[b];return s!==null&&g.set(s,a+l),g}nestedLanguageTokenize(r,c,s,a){const l=s.languageId,f=s.state,g=E.TokenizationRegistry.get(l);if(!g)return this.enterLanguage(l),this.emit(a,""),f;const b=g.tokenizeEncoded(r,c,f);if(a!==0)for(let p=0,C=b.tokens.length;p<C;p+=2)b.tokens[p]+=a;return this._prependTokens=n._merge(this._prependTokens,this._tokens,b.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,b.endState}finalize(r){return new E.EncodedTokenizationResult(n._merge(this._prependTokens,this._tokens,null),r)}}class t{constructor(r,c,s,a){this._languageService=r,this._standaloneThemeService=c,this._languageId=s,this._lexer=a,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let l=!1;this._tokenizationRegistryListener=E.TokenizationRegistry.onDidChange(f=>{if(l)return;let g=!1;for(let b=0,p=f.changedLanguages.length;b<p;b++){const C=f.changedLanguages[b];if(this._embeddedLanguages[C]){g=!0;break}}g&&(l=!0,E.TokenizationRegistry.fire([this._languageId]),l=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const r=[];for(let c in this._embeddedLanguages){const s=E.TokenizationRegistry.get(c);if(s){if(s instanceof t){const a=s.getLoadStatus();a.loaded===!1&&r.push(a.promise)}continue}E.TokenizationRegistry.isResolved(c)||r.push(E.TokenizationRegistry.getOrCreate(c))}return r.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(r).then(c=>{})}}getInitialState(){const r=L.create(null,this._lexer.start);return u.create(r,null)}tokenize(r,c,s){const a=new i,l=this._tokenize(r,c,s,a);return a.finalize(l)}tokenizeEncoded(r,c,s){const a=new n(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),l=this._tokenize(r,c,s,a);return a.finalize(l)}_tokenize(r,c,s,a){return s.embeddedLanguageData?this._nestedTokenize(r,c,s,0,a):this._myTokenize(r,c,s,0,a)}_findLeavingNestedLanguageOffset(r,c){let s=this._lexer.tokenizer[c.stack.state];if(!s&&(s=k.findRules(this._lexer,c.stack.state),!s))throw k.createError(this._lexer,"tokenizer state is not defined: "+c.stack.state);let a=-1,l=!1;for(const f of s){if(!k.isIAction(f.action)||f.action.nextEmbedded!=="@pop")continue;l=!0;let g=f.regex;const b=f.regex.source;if(b.substr(0,4)==="^(?:"&&b.substr(b.length-1,1)===")"){const C=(g.ignoreCase?"i":"")+(g.unicode?"u":"");g=new RegExp(b.substr(4,b.length-5),C)}const p=r.search(g);p===-1||p!==0&&f.matchOnlyAtLineStart||(a===-1||p<a)&&(a=p)}if(!l)throw k.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+c.stack.state);return a}_nestedTokenize(r,c,s,a,l){const f=this._findLeavingNestedLanguageOffset(r,s);if(f===-1){const p=l.nestedLanguageTokenize(r,c,s.embeddedLanguageData,a);return u.create(s.stack,new v(s.embeddedLanguageData.languageId,p))}const g=r.substring(0,f);g.length>0&&l.nestedLanguageTokenize(g,!1,s.embeddedLanguageData,a);const b=r.substring(f);return this._myTokenize(b,c,s,a+f,l)}_safeRuleName(r){return r?r.name:"(unknown)"}_myTokenize(r,c,s,a,l){l.enterLanguage(this._languageId);const f=r.length,g=c&&this._lexer.includeLF?r+`
`:r,b=g.length;let p=s.embeddedLanguageData,C=s.stack,S=0,y=null,w=!0;for(;w||S<b;){const T=S,N=C.depth,R=y?y.groups.length:0,B=C.state;let O=null,D=null,A=null,P=null,F=null;if(y){O=y.matches;const z=y.groups.shift();D=z.matched,A=z.action,P=y.rule,y.groups.length===0&&(y=null)}else{if(!w&&S>=b)break;w=!1;let z=this._lexer.tokenizer[B];if(!z&&(z=k.findRules(this._lexer,B),!z))throw k.createError(this._lexer,"tokenizer state is not defined: "+B);let ee=g.substr(S);for(const ie of z)if((S===0||!ie.matchOnlyAtLineStart)&&(O=ee.match(ie.regex),O)){D=O[0],A=ie.action;break}}if(O||(O=[""],D=""),A||(S<b&&(O=[g.charAt(S)],D=O[0]),A=this._lexer.defaultToken),D===null)break;for(S+=D.length;k.isFuzzyAction(A)&&k.isIAction(A)&&A.test;)A=A.test(D,O,B,S===b);let W=null;if(typeof A=="string"||Array.isArray(A))W=A;else if(A.group)W=A.group;else if(A.token!==null&&A.token!==void 0){if(A.tokenSubst?W=k.substituteMatches(this._lexer,A.token,D,O,B):W=A.token,A.nextEmbedded)if(A.nextEmbedded==="@pop"){if(!p)throw k.createError(this._lexer,"cannot pop embedded language if not inside one");p=null}else{if(p)throw k.createError(this._lexer,"cannot enter embedded language from within an embedded language");F=k.substituteMatches(this._lexer,A.nextEmbedded,D,O,B)}if(A.goBack&&(S=Math.max(0,S-A.goBack)),A.switchTo&&typeof A.switchTo=="string"){let z=k.substituteMatches(this._lexer,A.switchTo,D,O,B);if(z[0]==="@"&&(z=z.substr(1)),k.findRules(this._lexer,z))C=C.switchTo(z);else throw k.createError(this._lexer,"trying to switch to a state '"+z+"' that is undefined in rule: "+this._safeRuleName(P))}else{if(A.transform&&typeof A.transform=="function")throw k.createError(this._lexer,"action.transform not supported");if(A.next)if(A.next==="@push"){if(C.depth>=this._lexer.maxStack)throw k.createError(this._lexer,"maximum tokenizer stack size reached: ["+C.state+","+C.parent.state+",...]");C=C.push(B)}else if(A.next==="@pop"){if(C.depth<=1)throw k.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(P));C=C.pop()}else if(A.next==="@popall")C=C.popall();else{let z=k.substituteMatches(this._lexer,A.next,D,O,B);if(z[0]==="@"&&(z=z.substr(1)),k.findRules(this._lexer,z))C=C.push(z);else throw k.createError(this._lexer,"trying to set a next state '"+z+"' that is undefined in rule: "+this._safeRuleName(P))}}A.log&&typeof A.log=="string"&&k.log(this._lexer,this._lexer.languageId+": "+k.substituteMatches(this._lexer,A.log,D,O,B))}if(W===null)throw k.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(P));const M=z=>{const ee=this._languageService.getLanguageIdByLanguageName(z)||this._languageService.getLanguageIdByMimeType(z)||z,ie=this._getNestedEmbeddedLanguageData(ee);if(S<b){const Y=r.substr(S);return this._nestedTokenize(Y,c,u.create(C,ie),a+S,l)}else return u.create(C,ie)};if(Array.isArray(W)){if(y&&y.groups.length>0)throw k.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(P));if(O.length!==W.length+1)throw k.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(P));let z=0;for(let ee=1;ee<O.length;ee++)z+=O[ee].length;if(z!==D.length)throw k.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(P));y={rule:P,matches:O,groups:[]};for(let ee=0;ee<W.length;ee++)y.groups[ee]={action:W[ee],matched:O[ee+1]};S-=D.length;continue}else{if(W==="@rematch"&&(S-=D.length,D="",O=null,W="",F!==null))return M(F);if(D.length===0){if(b===0||N!==C.depth||B!==C.state||(y?y.groups.length:0)!==R)continue;throw k.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(P))}let z=null;if(k.isString(W)&&W.indexOf("@brackets")===0){const ee=W.substr("@brackets".length),ie=o(this._lexer,D);if(!ie)throw k.createError(this._lexer,"@brackets token returned but no bracket defined as: "+D);z=k.sanitize(ie.token+ee)}else{const ee=W===""?"":W+this._lexer.tokenPostfix;z=k.sanitize(ee)}T<f&&l.emit(T+a,z)}if(F!==null)return M(F)}return u.create(C,p)}_getNestedEmbeddedLanguageData(r){if(!this._languageService.isRegisteredLanguageId(r))return new v(r,m.NullState);r!==this._languageId&&(E.TokenizationRegistry.getOrCreate(r),this._embeddedLanguages[r]=!0);const c=E.TokenizationRegistry.get(r);return c?new v(r,c.getInitialState()):new v(r,m.NullState)}}e.MonarchTokenizer=t;function o(d,r){if(!r)return null;r=k.fixCase(d,r);const c=d.brackets;for(const s of c){if(s.open===r)return{token:s.token,bracketType:1};if(s.close===r)return{token:s.token,bracketType:-1}}return null}}),define(re[483],se([1,0,8,79,27,129,74,272]),function(U,e,E,m,k,I,L,_){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const u=(v=window.trustedTypes)===null||v===void 0?void 0:v.createPolicy("standaloneColorizer",{createHTML:o=>o});class h{static colorizeElement(d,r,c,s){s=s||{};const a=s.theme||"vs",l=s.mimeType||c.getAttribute("lang")||c.getAttribute("data-lang");if(!l)return console.error("Mode not detected"),Promise.resolve();const f=r.getLanguageIdByMimeType(l)||l;d.setTheme(a);const g=c.firstChild?c.firstChild.nodeValue:"";c.className+=" "+a;const b=p=>{var C;const S=(C=u==null?void 0:u.createHTML(p))!==null&&C!==void 0?C:p;c.innerHTML=S};return this.colorize(r,g||"",f,s).then(b,p=>console.error(p))}static colorize(d,r,c,s){return Le(this,void 0,void 0,function*(){const a=d.languageIdCodec;let l=4;s&&typeof s.tabSize=="number"&&(l=s.tabSize),E.startsWithUTF8BOM(r)&&(r=r.substr(1));const f=E.splitLines(r);if(!d.isRegisteredLanguageId(c))return n(f,l,a);const g=yield k.TokenizationRegistry.getOrCreate(c);return g?i(f,l,g,a):n(f,l,a)})}static colorizeLine(d,r,c,s,a=4){const l=L.ViewLineRenderingData.isBasicASCII(d,r),f=L.ViewLineRenderingData.containsRTL(d,l,c);return(0,I.renderViewLine2)(new I.RenderLineInput(!1,!0,d,!1,l,f,0,s,[],a,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(d,r,c=4){const s=d.getLineContent(r);d.tokenization.forceTokenization(r);const l=d.tokenization.getLineTokens(r).inflate();return this.colorizeLine(s,d.mightContainNonBasicASCII(),d.mightContainRTL(),l,c)}}e.Colorizer=h;function i(o,d,r,c){return new Promise((s,a)=>{const l=()=>{const f=t(o,d,r,c);if(r instanceof _.MonarchTokenizer){const g=r.getLoadStatus();if(g.loaded===!1){g.promise.then(l,a);return}}s(f)};l()})}function n(o,d,r){let c=[];const s=(0<<11|1<<15|2<<24)>>>0,a=new Uint32Array(2);a[0]=0,a[1]=s;for(let l=0,f=o.length;l<f;l++){const g=o[l];a[0]=g.length;const b=new m.LineTokens(a,g,r),p=L.ViewLineRenderingData.isBasicASCII(g,!0),C=L.ViewLineRenderingData.containsRTL(g,p,!0),S=(0,I.renderViewLine2)(new I.RenderLineInput(!1,!0,g,!1,p,C,0,b,[],d,0,0,0,0,-1,"none",!1,!1,null));c=c.concat(S.html),c.push("<br/>")}return c.join("")}function t(o,d,r,c){let s=[],a=r.getInitialState();for(let l=0,f=o.length;l<f;l++){const g=o[l],b=r.tokenizeEncoded(g,!0,a);m.LineTokens.convertToEndOffset(b.tokens,g.length);const p=new m.LineTokens(b.tokens,g,c),C=L.ViewLineRenderingData.isBasicASCII(g,!0),S=L.ViewLineRenderingData.containsRTL(g,C,!0),y=(0,I.renderViewLine2)(new I.RenderLineInput(!1,!0,g,!1,C,S,0,p.inflate(),[],d,0,0,0,0,-1,"none",!1,!1,null));s=s.concat(y.html),s.push("<br/>"),a=b.endState}return s.join("")}}),define(re[484],se([5,6]),function(U,e){return U.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(re[485],se([5,6]),function(U,e){return U.create("vs/base/browser/ui/findinput/findInput",e)}),define(re[486],se([5,6]),function(U,e){return U.create("vs/base/browser/ui/findinput/findInputToggles",e)}),define(re[273],se([1,0,178,28,486]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexToggle=e.WholeWordsToggle=e.CaseSensitiveToggle=void 0;const I=k.localize(0,null),L=k.localize(1,null),_=k.localize(2,null);class v extends E.Toggle{constructor(n){super({icon:m.Codicon.caseSensitive,title:I+n.appendTitle,isChecked:n.isChecked,inputActiveOptionBorder:n.inputActiveOptionBorder,inputActiveOptionForeground:n.inputActiveOptionForeground,inputActiveOptionBackground:n.inputActiveOptionBackground})}}e.CaseSensitiveToggle=v;class u extends E.Toggle{constructor(n){super({icon:m.Codicon.wholeWord,title:L+n.appendTitle,isChecked:n.isChecked,inputActiveOptionBorder:n.inputActiveOptionBorder,inputActiveOptionForeground:n.inputActiveOptionForeground,inputActiveOptionBackground:n.inputActiveOptionBackground})}}e.WholeWordsToggle=u;class h extends E.Toggle{constructor(n){super({icon:m.Codicon.regex,title:_+n.appendTitle,isChecked:n.isChecked,inputActiveOptionBorder:n.inputActiveOptionBorder,inputActiveOptionForeground:n.inputActiveOptionForeground,inputActiveOptionBackground:n.inputActiveOptionBackground})}}e.RegexToggle=h}),define(re[487],se([5,6]),function(U,e){return U.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(re[488],se([5,6]),function(U,e){return U.create("vs/base/browser/ui/iconLabel/iconLabelHover",e)}),define(re[489],se([1,0,7,10,21,65,101,2,19,488]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setupCustomHover=e.setupNativeHover=void 0;function h(t,o){(0,v.isString)(o)?t.title=(0,L.stripIcons)(o):(o==null?void 0:o.markdownNotSupportedFallback)?t.title=o.markdownNotSupportedFallback:t.removeAttribute("title")}e.setupNativeHover=h;class i{constructor(o,d,r){this.hoverDelegate=o,this.target=d,this.fadeInAnimation=r}update(o,d){var r;return Le(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let c;if(o===void 0||(0,v.isString)(o)||o instanceof HTMLElement)c=o;else if(!(0,v.isFunction)(o.markdown))c=(r=o.markdown)!==null&&r!==void 0?r:o.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,u.localize)(0,null),d),this._cancellationTokenSource=new k.CancellationTokenSource;const s=this._cancellationTokenSource.token;if(c=yield o.markdown(s),c===void 0&&(c=o.markdownNotSupportedFallback),this.isDisposed||s.isCancellationRequested)return}this.show(c,d)})}show(o,d){const r=this._hoverWidget;if(this.hasContent(o)){const c={content:o,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!r};this._hoverWidget=this.hoverDelegate.showHover(c,d)}r==null||r.dispose()}hasContent(o){return o?(0,I.isMarkdownString)(o)?!!o.value:!0:!1}get isDisposed(){var o;return(o=this._hoverWidget)===null||o===void 0?void 0:o.isDisposed}dispose(){var o,d;(o=this._hoverWidget)===null||o===void 0||o.dispose(),(d=this._cancellationTokenSource)===null||d===void 0||d.dispose(!0),this._cancellationTokenSource=void 0}}function n(t,o,d){let r,c;const s=(b,p)=>{var C;b&&(c==null||c.dispose(),c=void 0),p&&(r==null||r.dispose(),r=void 0),(C=t.onDidHideHover)===null||C===void 0||C.call(t)},a=(b,p,C)=>new m.TimeoutTimer(()=>Le(this,void 0,void 0,function*(){(!c||c.isDisposed)&&(c=new i(t,C||o,b>0),yield c.update(d,p))}),b),l=()=>{if(r)return;const b=new _.DisposableStore,p=y=>s(!1,y.fromElement===o);b.add(E.addDisposableListener(o,E.EventType.MOUSE_LEAVE,p,!0));const C=()=>s(!0,!0);b.add(E.addDisposableListener(o,E.EventType.MOUSE_DOWN,C,!0));const S={targetElements:[o],dispose:()=>{}};if(t.placement===void 0||t.placement==="mouse"){const y=w=>{S.x=w.x+10,w.target instanceof HTMLElement&&w.target.classList.contains("action-label")&&s(!0,!0)};b.add(E.addDisposableListener(o,E.EventType.MOUSE_MOVE,y,!0))}b.add(a(t.delay,!1,S)),r=b},f=E.addDisposableListener(o,E.EventType.MOUSE_OVER,l,!0);return{show:b=>{s(!1,!0),a(0,b)},hide:()=>{s(!0,!0)},update:b=>Le(this,void 0,void 0,function*(){d=b,yield c==null?void 0:c.update(d)}),dispose:()=>{f.dispose(),s(!0,!0)}}}e.setupCustomHover=n}),define(re[198],se([1,0,7,223,489,2,41,139,347]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class v{constructor(o){this._element=o}get element(){return this._element}set textContent(o){this.disposed||o===this._textContent||(this._textContent=o,this._element.textContent=o)}set className(o){this.disposed||o===this._className||(this._className=o,this._element.className=o)}set empty(o){this.disposed||o===this._empty||(this._empty=o,this._element.style.marginLeft=o?"0":"")}dispose(){this.disposed=!0}}class u extends I.Disposable{constructor(o,d){super();this.customHovers=new Map,this.domNode=this._register(new v(E.append(o,E.$(".monaco-icon-label")))),this.labelContainer=E.append(this.domNode.element,E.$(".monaco-icon-label-container"));const r=E.append(this.labelContainer,E.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new v(E.append(this.labelContainer,E.$("span.monaco-icon-description-container")))),(d==null?void 0:d.supportHighlights)||(d==null?void 0:d.supportIcons)?this.nameNode=new n(r,!!d.supportIcons):this.nameNode=new h(r),(d==null?void 0:d.supportDescriptionHighlights)?this.descriptionNodeFactory=()=>new m.HighlightedLabel(E.append(this.descriptionContainer.element,E.$("span.label-description")),{supportIcons:!!d.supportIcons}):this.descriptionNodeFactory=()=>this._register(new v(E.append(this.descriptionContainer.element,E.$("span.label-description")))),this.hoverDelegate=d==null?void 0:d.hoverDelegate}get element(){return this.domNode.element}setLabel(o,d,r){const c=["monaco-icon-label"];r&&(r.extraClasses&&c.push(...r.extraClasses),r.italic&&c.push("italic"),r.strikethrough&&c.push("strikethrough")),this.domNode.className=c.join(" "),this.setupHover((r==null?void 0:r.descriptionTitle)?this.labelContainer:this.element,r==null?void 0:r.title),this.nameNode.setLabel(o,r),(d||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof m.HighlightedLabel?(this.descriptionNode.set(d||"",r?r.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,r==null?void 0:r.descriptionTitle)):(this.descriptionNode.textContent=d||"",this.setupHover(this.descriptionNode.element,(r==null?void 0:r.descriptionTitle)||""),this.descriptionNode.empty=!d))}setupHover(o,d){const r=this.customHovers.get(o);if(r&&(r.dispose(),this.customHovers.delete(o)),!d){o.removeAttribute("title");return}if(!this.hoverDelegate)(0,k.setupNativeHover)(o,d);else{const c=(0,k.setupCustomHover)(this.hoverDelegate,o,d);c&&this.customHovers.set(o,c)}}dispose(){super.dispose();for(const o of this.customHovers.values())o.dispose();this.customHovers.clear()}}e.IconLabel=u;class h{constructor(o){this.container=o,this.label=void 0,this.singleLabel=void 0}setLabel(o,d){if(!(this.label===o&&(0,L.equals)(this.options,d)))if(this.label=o,this.options=d,typeof o=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=E.append(this.container,E.$("a.label-name",{id:d==null?void 0:d.domId}))),this.singleLabel.textContent=o;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let r=0;r<o.length;r++){const c=o[r],s=(d==null?void 0:d.domId)&&`${d==null?void 0:d.domId}_${r}`;E.append(this.container,E.$("a.label-name",{id:s,"data-icon-label-count":o.length,"data-icon-label-index":r,role:"treeitem"},c)),r<o.length-1&&E.append(this.container,E.$("span.label-separator",void 0,(d==null?void 0:d.separator)||"/"))}}}}function i(t,o,d){if(!d)return;let r=0;return t.map(c=>{const s={start:r,end:r+c.length},a=d.map(l=>_.Range.intersect(s,l)).filter(l=>!_.Range.isEmpty(l)).map(({start:l,end:f})=>({start:l-r,end:f-r}));return r=s.end+o.length,a})}class n{constructor(o,d){this.container=o,this.supportIcons=d,this.label=void 0,this.singleLabel=void 0}setLabel(o,d){if(!(this.label===o&&(0,L.equals)(this.options,d)))if(this.label=o,this.options=d,typeof o=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new m.HighlightedLabel(E.append(this.container,E.$("a.label-name",{id:d==null?void 0:d.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(o,d==null?void 0:d.matches,void 0,d==null?void 0:d.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const r=(d==null?void 0:d.separator)||"/",c=i(o,r,d==null?void 0:d.matches);for(let s=0;s<o.length;s++){const a=o[s],l=c?c[s]:void 0,f=(d==null?void 0:d.domId)&&`${d==null?void 0:d.domId}_${s}`,g=E.$("a.label-name",{id:f,"data-icon-label-count":o.length,"data-icon-label-index":s,role:"treeitem"});new m.HighlightedLabel(E.append(this.container,g),{supportIcons:this.supportIcons}).set(a,l,void 0,d==null?void 0:d.labelEscapeNewLines),s<o.length-1&&E.append(g,E.$("span.label-separator",void 0,r))}}}}}),define(re[490],se([5,6]),function(U,e){return U.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(re[491],se([5,6]),function(U,e){return U.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(re[492],se([5,6]),function(U,e){return U.create("vs/base/browser/ui/tree/abstractTree",e)}),define(re[199],se([1,0,169,7,93,44,177,122,172,115,18,10,28,220,4,64,2,117,17,492,360]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class l extends L.ElementsDragAndDropData{constructor(F){super(F.elements.map(W=>W.element));this.data=F}}function f(P){return P instanceof L.ElementsDragAndDropData?new l(P):P}class g{constructor(F,W){this.modelProvider=F,this.dnd=W,this.autoExpandDisposable=r.Disposable.None}getDragURI(F){return this.dnd.getDragURI(F.element)}getDragLabel(F,W){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(F.map(M=>M.element),W)}onDragStart(F,W){this.dnd.onDragStart&&this.dnd.onDragStart(f(F),W)}onDragOver(F,W,M,z,ee=!0){const ie=this.dnd.onDragOver(f(F),W&&W.element,M,z),Y=this.autoExpandNode!==W;if(Y&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=W),typeof W=="undefined")return ie;if(Y&&typeof ie!="boolean"&&ie.autoExpand&&(this.autoExpandDisposable=(0,i.disposableTimeout)(()=>{const x=this.modelProvider(),V=x.getNodeLocation(W);x.isCollapsed(V)&&x.setCollapsed(V,!1),this.autoExpandNode=void 0},500)),typeof ie=="boolean"||!ie.accept||typeof ie.bubble=="undefined"||ie.feedback){if(!ee){const x=typeof ie=="boolean"?ie:ie.accept,V=typeof ie=="boolean"?void 0:ie.effect;return{accept:x,effect:V,feedback:[M]}}return ie}if(ie.bubble===1){const x=this.modelProvider(),V=x.getNodeLocation(W),K=x.getParentNodeLocation(V),le=x.getNode(K),ae=K&&x.getListIndex(K);return this.onDragOver(F,le,ae,z,!1)}const X=this.modelProvider(),J=X.getNodeLocation(W),oe=X.getListIndex(J),G=X.getListRenderCount(J);return Object.assign(Object.assign({},ie),{feedback:(0,h.range)(oe,oe+G)})}drop(F,W,M,z){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(f(F),W&&W.element,M,z)}onDragEnd(F){this.dnd.onDragEnd&&this.dnd.onDragEnd(F)}}function b(P,F){return F&&Object.assign(Object.assign({},F),{identityProvider:F.identityProvider&&{getId(W){return F.identityProvider.getId(W.element)}},dnd:F.dnd&&new g(P,F.dnd),multipleSelectionController:F.multipleSelectionController&&{isSelectionSingleChangeEvent(W){return F.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},W),{element:W.element}))},isSelectionRangeChangeEvent(W){return F.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},W),{element:W.element}))}},accessibilityProvider:F.accessibilityProvider&&Object.assign(Object.assign({},F.accessibilityProvider),{getSetSize(W){const M=P(),z=M.getNodeLocation(W),ee=M.getParentNodeLocation(z);return M.getNode(ee).visibleChildrenCount},getPosInSet(W){return W.visibleChildIndex+1},isChecked:F.accessibilityProvider&&F.accessibilityProvider.isChecked?W=>F.accessibilityProvider.isChecked(W.element):void 0,getRole:F.accessibilityProvider&&F.accessibilityProvider.getRole?W=>F.accessibilityProvider.getRole(W.element):()=>"treeitem",getAriaLabel(W){return F.accessibilityProvider.getAriaLabel(W.element)},getWidgetAriaLabel(){return F.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:F.accessibilityProvider&&F.accessibilityProvider.getWidgetRole?()=>F.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:F.accessibilityProvider&&F.accessibilityProvider.getAriaLevel?W=>F.accessibilityProvider.getAriaLevel(W.element):W=>W.depth,getActiveDescendantId:F.accessibilityProvider.getActiveDescendantId&&(W=>F.accessibilityProvider.getActiveDescendantId(W.element))}),keyboardNavigationLabelProvider:F.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},F.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(W){return F.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(W.element)}}),enableKeyboardNavigation:F.simpleKeyboardNavigation})}class p{constructor(F){this.delegate=F}getHeight(F){return this.delegate.getHeight(F.element)}getTemplateId(F){return this.delegate.getTemplateId(F.element)}hasDynamicHeight(F){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(F.element)}setDynamicHeight(F,W){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(F.element,W)}}e.ComposedTreeDelegate=p;var C;(function(P){P.None="none",P.OnHover="onHover",P.Always="always"})(C=e.RenderIndentGuides||(e.RenderIndentGuides={}));class S{constructor(F,W=[]){this._elements=W,this.onDidChange=o.Event.forEach(F,M=>this._elements=M)}get elements(){return this._elements}}class y{constructor(F,W,M,z,ee={}){this.renderer=F,this.modelProvider=W,this.activeNodes=z,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=y.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new t.SetMap,this.activeIndentNodes=new Set,this.indentGuidesDisposable=r.Disposable.None,this.disposables=new r.DisposableStore,this.templateId=F.templateId,this.updateOptions(ee),o.Event.map(M,ie=>ie.node)(this.onDidChangeNodeTwistieState,this,this.disposables),F.onDidChangeTwistieState&&F.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(F={}){if(typeof F.indent!="undefined"&&(this.indent=(0,c.clamp)(F.indent,0,40)),typeof F.renderIndentGuides!="undefined"){const W=F.renderIndentGuides!==C.None;if(W!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=W,this.indentGuidesDisposable.dispose(),W)){const M=new r.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,M),this.indentGuidesDisposable=M,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof F.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=F.hideTwistiesOfChildlessElements)}renderTemplate(F){const W=(0,m.append)(F,(0,m.$)(".monaco-tl-row")),M=(0,m.append)(W,(0,m.$)(".monaco-tl-indent")),z=(0,m.append)(W,(0,m.$)(".monaco-tl-twistie")),ee=(0,m.append)(W,(0,m.$)(".monaco-tl-contents")),ie=this.renderer.renderTemplate(ee);return{container:F,indent:M,twistie:z,indentGuidesDisposable:r.Disposable.None,templateData:ie}}renderElement(F,W,M,z){typeof z=="number"&&(this.renderedNodes.set(F,{templateData:M,height:z}),this.renderedElements.set(F.element,F));const ee=y.DefaultIndent+(F.depth-1)*this.indent;M.twistie.style.paddingLeft=`${ee}px`,M.indent.style.width=`${ee+this.indent-16}px`,this.renderTwistie(F,M),typeof z=="number"&&this.renderIndentGuides(F,M),this.renderer.renderElement(F,W,M.templateData,z)}disposeElement(F,W,M,z){M.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(F,W,M.templateData,z),typeof z=="number"&&(this.renderedNodes.delete(F),this.renderedElements.delete(F.element))}disposeTemplate(F){this.renderer.disposeTemplate(F.templateData)}onDidChangeTwistieState(F){const W=this.renderedElements.get(F);!W||this.onDidChangeNodeTwistieState(W)}onDidChangeNodeTwistieState(F){const W=this.renderedNodes.get(F);!W||(this.renderTwistie(F,W.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(F,W.templateData))}renderTwistie(F,W){W.twistie.classList.remove(...n.Codicon.treeItemExpanded.classNamesArray);let M=!1;this.renderer.renderTwistie&&(M=this.renderer.renderTwistie(F.element,W.twistie)),F.collapsible&&(!this.hideTwistiesOfChildlessElements||F.visibleChildrenCount>0)?(M||W.twistie.classList.add(...n.Codicon.treeItemExpanded.classNamesArray),W.twistie.classList.add("collapsible"),W.twistie.classList.toggle("collapsed",F.collapsed)):W.twistie.classList.remove("collapsible","collapsed"),F.collapsible?W.container.setAttribute("aria-expanded",String(!F.collapsed)):W.container.removeAttribute("aria-expanded")}renderIndentGuides(F,W){if((0,m.clearNode)(W.indent),W.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const M=new r.DisposableStore,z=this.modelProvider();let ee=F;for(;;){const ie=z.getNodeLocation(ee),Y=z.getParentNodeLocation(ie);if(!Y)break;const X=z.getNode(Y),J=(0,m.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(X)&&J.classList.add("active"),W.indent.childElementCount===0?W.indent.appendChild(J):W.indent.insertBefore(J,W.indent.firstElementChild),this.renderedIndentGuides.add(X,J),M.add((0,r.toDisposable)(()=>this.renderedIndentGuides.delete(X,J))),ee=X}W.indentGuidesDisposable=M}_onDidChangeActiveNodes(F){if(!this.shouldRenderIndentGuides)return;const W=new Set,M=this.modelProvider();F.forEach(z=>{const ee=M.getNodeLocation(z);try{const ie=M.getParentNodeLocation(ee);z.collapsible&&z.children.length>0&&!z.collapsed?W.add(z):ie&&W.add(M.getNode(ie))}catch{}}),this.activeIndentNodes.forEach(z=>{W.has(z)||this.renderedIndentGuides.forEach(z,ee=>ee.classList.remove("active"))}),W.forEach(z=>{this.activeIndentNodes.has(z)||this.renderedIndentGuides.forEach(z,ee=>ee.classList.add("active"))}),this.activeIndentNodes=W}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,r.dispose)(this.disposables)}}y.DefaultIndent=8;class w{constructor(F,W,M){this.tree=F,this.keyboardNavigationLabelProvider=W,this._filter=M,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new r.DisposableStore,F.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(F){this._pattern=F,this._lowercasePattern=F.toLowerCase()}filter(F,W){if(this._filter){const ee=this._filter.filter(F,W);if(this.tree.options.simpleKeyboardNavigation)return ee;let ie;if(typeof ee=="boolean"?ie=ee?1:0:(0,v.isFilterResult)(ee)?ie=(0,v.getVisibleState)(ee.visibility):ie=ee,ie===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:d.FuzzyScore.Default,visibility:!0};const M=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(F),z=Array.isArray(M)?M:[M];for(const ee of z){const ie=ee&&ee.toString();if(typeof ie=="undefined")return{data:d.FuzzyScore.Default,visibility:!0};const Y=(0,d.fuzzyScore)(this._pattern,this._lowercasePattern,0,ie,ie.toLowerCase(),0);if(Y)return this._matchCount++,z.length===1?{data:Y,visibility:!0}:{data:{label:ie,score:Y},visibility:!0}}return this.tree.options.filterOnType?2:{data:d.FuzzyScore.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,r.dispose)(this.disposables)}}class T{constructor(F,W,M,z,ee){this.tree=F,this.view=M,this.filter=z,this.keyboardNavigationDelegate=ee,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new o.Emitter,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new o.Emitter,this.enabledDisposables=new r.DisposableStore,this.disposables=new r.DisposableStore,this.domNode=(0,m.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,m.addDisposableListener)(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=(0,m.append)(M.getHTMLElement(),(0,m.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,m.append)(this.domNode,(0,m.$)("span.label"));const ie=(0,m.append)(this.domNode,(0,m.$)(".controls"));this._filterOnType=!!F.options.filterOnType,this.filterOnTypeDomNode=(0,m.append)(ie,(0,m.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,m.addDisposableListener)(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=(0,m.append)(ie,(0,m.$)("button.clear"+n.Codicon.treeFilterClear.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,a.localize)(0,null),this.keyboardNavigationEventFilter=F.options.keyboardNavigationEventFilter,W.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(F.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(F){F.simpleKeyboardNavigation?this.disable():this.enable(),typeof F.filterOnType!="undefined"&&(this._filterOnType=!!F.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof F.automaticKeyboardNavigation!="undefined"&&(this.automaticKeyboardNavigation=F.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const F=this.enabledDisposables.add(new k.DomEmitter(this.view.getHTMLElement(),"keydown")),W=o.Event.chain(F.event).filter(z=>!(0,_.isInputElement)(z.target)||z.target===this.filterOnTypeDomNode).filter(z=>z.key!=="Dead"&&!/^Media/.test(z.key)).map(z=>new I.StandardKeyboardEvent(z)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(z=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(z)&&!(z.keyCode===18||z.keyCode===16||z.keyCode===15||z.keyCode===17)||(this.pattern.length>0||this.triggered)&&(z.keyCode===9||z.keyCode===1)&&!z.altKey&&!z.ctrlKey&&!z.metaKey||z.keyCode===1&&(s.isMacintosh?z.altKey&&!z.metaKey:z.ctrlKey)&&!z.shiftKey).forEach(z=>{z.stopPropagation(),z.preventDefault()}).event,M=this.enabledDisposables.add(new k.DomEmitter(this.clearDomNode,"click"));o.Event.chain(o.Event.any(W,M.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){!this._enabled||(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(F){typeof F=="string"?this.onInput(F):F instanceof MouseEvent||F.keyCode===9||F.keyCode===1&&(s.isMacintosh?F.altKey:F.ctrlKey)?this.onInput(""):F.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+F.browserEvent.key)}onInput(F){const W=this.view.getHTMLElement();F&&!this.domNode.parentElement?W.append(this.domNode):!F&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=F,this._onDidChangePattern.fire(F),this.filter.pattern=F,this.tree.refilter(),F&&this.tree.focusNext(0,!0,void 0,z=>!d.FuzzyScore.isDefault(z.filterData));const M=this.tree.getFocus();if(M.length>0){const z=M[0];this.tree.getRelativeTop(z)===null&&this.tree.reveal(z,.5)}this.render(),F||(this.triggered=!1)}onDragStart(){const F=this.view.getHTMLElement(),{left:W}=(0,m.getDomNodePagePosition)(F),M=F.clientWidth,z=M/2,ee=this.domNode.clientWidth,ie=new r.DisposableStore;let Y=this.positionClassName;const X=()=>{switch(Y){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${M-ee-6}px`;break}},J=G=>{G.preventDefault();const x=G.clientX-W;G.dataTransfer&&(G.dataTransfer.dropEffect="none"),x<z?Y="nw":Y="ne",X()},oe=()=>{this.positionClassName=Y,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,r.dispose)(ie)};X(),this.domNode.classList.remove(Y),this.domNode.classList.add("dragging"),ie.add((0,r.toDisposable)(()=>this.domNode.classList.remove("dragging"))),ie.add((0,m.addDisposableListener)(document,"dragover",G=>J(G))),ie.add((0,m.addDisposableListener)(this.domNode,"dragend",()=>oe())),E.StaticDND.CurrentDragAndDropData=new E.DragAndDropData("vscode-ui"),ie.add((0,r.toDisposable)(()=>E.StaticDND.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...n.Codicon.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.classList.add(...n.Codicon.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.title=(0,a.localize)(1,null)):(this.filterOnTypeDomNode.classList.remove(...n.Codicon.treeFilterOnTypeOn.classNamesArray),this.filterOnTypeDomNode.classList.add(...n.Codicon.treeFilterOnTypeOff.classNamesArray),this.filterOnTypeDomNode.title=(0,a.localize)(2,null))}render(){const F=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&F?(this.messageDomNode.textContent=(0,a.localize)(3,null),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",F),this.domNode.title=(0,a.localize)(4,null,this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"\u2026"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(F){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!d.FuzzyScore.isDefault(F.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,r.dispose)(this.disposables)}}function N(P){let F=u.TreeMouseEventTarget.Unknown;return(0,m.hasParentWithClass)(P.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?F=u.TreeMouseEventTarget.Twistie:(0,m.hasParentWithClass)(P.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(F=u.TreeMouseEventTarget.Element),{browserEvent:P.browserEvent,element:P.element?P.element.element:null,target:F}}function R(P,F){F(P),P.children.forEach(W=>R(W,F))}class B{constructor(F,W){this.getFirstViewElementWithTrait=F,this.identityProvider=W,this.nodes=[],this._onDidChange=new o.Emitter,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(F,W){!(W==null?void 0:W.__forceEvent)&&(0,h.equals)(this.nodes,F)||this._set(F,!1,W)}_set(F,W,M){if(this.nodes=[...F],this.elements=void 0,this._nodeSet=void 0,!W){const z=this;this._onDidChange.fire({get elements(){return z.get()},browserEvent:M})}}get(){return this.elements||(this.elements=this.nodes.map(F=>F.element)),[...this.elements]}getNodes(){return this.nodes}has(F){return this.nodeSet.has(F)}onDidModelSplice({insertedNodes:F,deletedNodes:W}){if(!this.identityProvider){const X=this.createNodeSet(),J=oe=>X.delete(oe);W.forEach(oe=>R(oe,J)),this.set([...X.values()]);return}const M=new Set,z=X=>M.add(this.identityProvider.getId(X.element).toString());W.forEach(X=>R(X,z));const ee=new Map,ie=X=>ee.set(this.identityProvider.getId(X.element).toString(),X);F.forEach(X=>R(X,ie));const Y=[];for(const X of this.nodes){const J=this.identityProvider.getId(X.element).toString();if(!M.has(J))Y.push(X);else{const G=ee.get(J);G&&Y.push(G)}}if(this.nodes.length>0&&Y.length===0){const X=this.getFirstViewElementWithTrait();X&&Y.push(X)}this._set(Y,!0)}createNodeSet(){const F=new Set;for(const W of this.nodes)F.add(W);return F}}class O extends _.MouseController{constructor(F,W){super(F);this.tree=W}onViewPointer(F){if((0,_.isInputElement)(F.browserEvent.target)||(0,_.isMonacoEditor)(F.browserEvent.target))return;const W=F.element;if(!W)return super.onViewPointer(F);if(this.isSelectionRangeChangeEvent(F)||this.isSelectionSingleChangeEvent(F))return super.onViewPointer(F);const M=F.browserEvent.target,z=M.classList.contains("monaco-tl-twistie")||M.classList.contains("monaco-icon-label")&&M.classList.contains("folder-icon")&&F.browserEvent.offsetX<16;let ee=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?ee=this.tree.expandOnlyOnTwistieClick(W.element):ee=!!this.tree.expandOnlyOnTwistieClick,ee&&!z&&F.browserEvent.detail!==2)return super.onViewPointer(F);if(!this.tree.expandOnDoubleClick&&F.browserEvent.detail===2)return super.onViewPointer(F);if(W.collapsible){const ie=this.tree.model,Y=ie.getNodeLocation(W),X=F.browserEvent.altKey;if(this.tree.setFocus([Y]),ie.setCollapsed(Y,void 0,X),ee&&z)return}super.onViewPointer(F)}onDoubleClick(F){F.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(F)}}class D extends _.List{constructor(F,W,M,z,ee,ie,Y,X){super(F,W,M,z,X);this.focusTrait=ee,this.selectionTrait=ie,this.anchorTrait=Y}createMouseController(F){return new O(this,F.tree)}splice(F,W,M=[]){if(super.splice(F,W,M),M.length===0)return;const z=[],ee=[];let ie;M.forEach((Y,X)=>{this.focusTrait.has(Y)&&z.push(F+X),this.selectionTrait.has(Y)&&ee.push(F+X),this.anchorTrait.has(Y)&&(ie=F+X)}),z.length>0&&super.setFocus((0,h.distinct)([...super.getFocus(),...z])),ee.length>0&&super.setSelection((0,h.distinct)([...super.getSelection(),...ee])),typeof ie=="number"&&super.setAnchor(ie)}setFocus(F,W,M=!1){super.setFocus(F,W),M||this.focusTrait.set(F.map(z=>this.element(z)),W)}setSelection(F,W,M=!1){super.setSelection(F,W),M||this.selectionTrait.set(F.map(z=>this.element(z)),W)}setAnchor(F,W=!1){super.setAnchor(F),W||(typeof F=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(F)]))}}class A{constructor(F,W,M,z,ee={}){this._user=F,this._options=ee,this.eventBufferer=new o.EventBufferer,this.disposables=new r.DisposableStore,this._onWillRefilter=new o.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new o.Emitter;const ie=new p(M),Y=new o.Relay,X=new o.Relay,J=new S(X.event);this.renderers=z.map(x=>new y(x,()=>this.model,Y.event,J,ee));for(let x of this.renderers)this.disposables.add(x);let oe;ee.keyboardNavigationLabelProvider&&(oe=new w(this,ee.keyboardNavigationLabelProvider,ee.filter),ee=Object.assign(Object.assign({},ee),{filter:oe}),this.disposables.add(oe)),this.focus=new B(()=>this.view.getFocusedElements()[0],ee.identityProvider),this.selection=new B(()=>this.view.getSelectedElements()[0],ee.identityProvider),this.anchor=new B(()=>this.view.getAnchorElement(),ee.identityProvider),this.view=new D(F,W,ie,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},b(()=>this.model,ee)),{tree:this})),this.model=this.createModel(F,this.view,ee),Y.input=this.model.onDidChangeCollapseState;const G=o.Event.forEach(this.model.onDidSplice,x=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(x),this.selection.onDidModelSplice(x)})});if(G(()=>null,null,this.disposables),X.input=o.Event.chain(o.Event.any(G,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const x=new Set;for(const V of this.focus.getNodes())x.add(V);for(const V of this.selection.getNodes())x.add(V);return[...x.values()]}).event,ee.keyboardSupport!==!1){const x=o.Event.chain(this.view.onKeyDown).filter(V=>!(0,_.isInputElement)(V.target)).map(V=>new I.StandardKeyboardEvent(V));x.filter(V=>V.keyCode===15).on(this.onLeftArrow,this,this.disposables),x.filter(V=>V.keyCode===17).on(this.onRightArrow,this,this.disposables),x.filter(V=>V.keyCode===10).on(this.onSpace,this,this.disposables)}if(ee.keyboardNavigationLabelProvider){const x=ee.keyboardNavigationDelegate||_.DefaultKeyboardNavigationDelegate;this.typeFilterController=new T(this,this.model,this.view,oe,x),this.focusNavigationFilter=V=>this.typeFilterController.shouldAllowFocus(V),this.disposables.add(this.typeFilterController)}this.styleElement=(0,m.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===C.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return o.Event.map(this.view.onMouseDblClick,N)}get onPointer(){return o.Event.map(this.view.onPointer,N)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return o.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(F={}){this._options=Object.assign(Object.assign({},this._options),F);for(const W of this.renderers)W.updateOptions(F);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===C.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(F){this.view.scrollTop=F}domFocus(){this.view.domFocus()}layout(F,W){this.view.layout(F,W)}style(F){const W=`.${this.view.domId}`,M=[];F.treeIndentGuidesStroke&&(M.push(`.monaco-list${W}:hover .monaco-tl-indent > .indent-guide, .monaco-list${W}.always .monaco-tl-indent > .indent-guide  { border-color: ${F.treeIndentGuidesStroke.transparent(.4)}; }`),M.push(`.monaco-list${W} .monaco-tl-indent > .indent-guide.active { border-color: ${F.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=M.join(`
`),this.view.style(F)}getParentElement(F){const W=this.model.getParentNodeLocation(F);return this.model.getNode(W).element}getFirstElementChild(F){return this.model.getFirstElementChild(F)}getNode(F){return this.model.getNode(F)}collapse(F,W=!1){return this.model.setCollapsed(F,!0,W)}expand(F,W=!1){return this.model.setCollapsed(F,!1,W)}isCollapsible(F){return this.model.isCollapsible(F)}setCollapsible(F,W){return this.model.setCollapsible(F,W)}isCollapsed(F){return this.model.isCollapsed(F)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(F,W){const M=F.map(ee=>this.model.getNode(ee));this.selection.set(M,W);const z=F.map(ee=>this.model.getListIndex(ee)).filter(ee=>ee>-1);this.view.setSelection(z,W,!0)}getSelection(){return this.selection.get()}setFocus(F,W){const M=F.map(ee=>this.model.getNode(ee));this.focus.set(M,W);const z=F.map(ee=>this.model.getListIndex(ee)).filter(ee=>ee>-1);this.view.setFocus(z,W,!0)}focusNext(F=1,W=!1,M,z=this.focusNavigationFilter){this.view.focusNext(F,W,M,z)}getFocus(){return this.focus.get()}reveal(F,W){this.model.expandTo(F);const M=this.model.getListIndex(F);M!==-1&&this.view.reveal(M,W)}getRelativeTop(F){const W=this.model.getListIndex(F);return W===-1?null:this.view.getRelativeTop(W)}onLeftArrow(F){F.preventDefault(),F.stopPropagation();const W=this.view.getFocusedElements();if(W.length===0)return;const M=W[0],z=this.model.getNodeLocation(M);if(!this.model.setCollapsed(z,!0)){const ie=this.model.getParentNodeLocation(z);if(!ie)return;const Y=this.model.getListIndex(ie);this.view.reveal(Y),this.view.setFocus([Y])}}onRightArrow(F){F.preventDefault(),F.stopPropagation();const W=this.view.getFocusedElements();if(W.length===0)return;const M=W[0],z=this.model.getNodeLocation(M);if(!this.model.setCollapsed(z,!1)){if(!M.children.some(X=>X.visible))return;const[ie]=this.view.getFocus(),Y=ie+1;this.view.reveal(Y),this.view.setFocus([Y])}}onSpace(F){F.preventDefault(),F.stopPropagation();const W=this.view.getFocusedElements();if(W.length===0)return;const M=W[0],z=this.model.getNodeLocation(M),ee=F.browserEvent.altKey;this.model.setCollapsed(z,void 0,ee)}dispose(){(0,r.dispose)(this.disposables),this.view.dispose()}}e.AbstractTree=A}),define(re[493],se([1,0,199,173]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class k extends E.AbstractTree{constructor(L,_,v,u,h,i={}){super(L,_,v,u,i);this.user=L,this.dataSource=h,this.identityProvider=i.identityProvider}createModel(L,_,v){return new m.ObjectTreeModel(L,_,v)}}e.DataTree=k}),define(re[274],se([1,0,199,328,173,99,55]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class _ extends E.AbstractTree{constructor(n,t,o,d,r={}){super(n,t,o,d,r);this.user=n}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(n,t=L.Iterable.empty(),o){this.model.setChildren(n,t,o)}rerender(n){if(n===void 0){this.view.rerender();return}this.model.rerender(n)}hasElement(n){return this.model.has(n)}createModel(n,t,o){return new k.ObjectTreeModel(n,t,o)}}e.ObjectTree=_;class v{constructor(n,t){this._compressedTreeNodeProvider=n,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(n){const t=this.renderer.renderTemplate(n);return{compressedTreeNode:void 0,data:t}}renderElement(n,t,o,d){const r=this.compressedTreeNodeProvider.getCompressedTreeNode(n.element);r.element.elements.length===1?(o.compressedTreeNode=void 0,this.renderer.renderElement(n,t,o.data,d)):(o.compressedTreeNode=r,this.renderer.renderCompressedElements(r,t,o.data,d))}disposeElement(n,t,o,d){o.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(o.compressedTreeNode,t,o.data,d):this.renderer.disposeElement&&this.renderer.disposeElement(n,t,o.data,d)}disposeTemplate(n){this.renderer.disposeTemplate(n.data)}renderTwistie(n,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(n,t):!1}}Ie([I.memoize],v.prototype,"compressedTreeNodeProvider",null);function u(i,n){return n&&Object.assign(Object.assign({},n),{keyboardNavigationLabelProvider:n.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let o;try{o=i().getCompressedTreeNode(t)}catch{return n.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return o.element.elements.length===1?n.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):n.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(o.element.elements)}}})}class h extends _{constructor(n,t,o,d,r={}){const c=()=>this,s=d.map(a=>new v(c,a));super(n,t,o,s,u(c,r))}setChildren(n,t=L.Iterable.empty(),o){this.model.setChildren(n,t,o)}createModel(n,t,o){return new m.CompressibleObjectTreeModel(n,t,o)}updateOptions(n={}){super.updateOptions(n),typeof n.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(n.compressionEnabled)}getCompressedTreeNode(n=null){return this.model.getCompressedTreeNode(n)}}e.CompressibleObjectTree=h}),define(re[494],se([1,0,177,199,172,274,115,10,28,13,4,55,2,19]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function o(B){return Object.assign(Object.assign({},B),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function d(B,O){return O.parent?O.parent===B?!0:d(B,O.parent):!1}function r(B,O){return B===O||d(B,O)||d(O,B)}class c{constructor(O){this.node=O}get element(){return this.node.element.element}get children(){return this.node.children.map(O=>new c(O))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class s{constructor(O,D,A){this.renderer=O,this.nodeMapper=D,this.onDidChangeTwistieState=A,this.renderedNodes=new Map,this.templateId=O.templateId}renderTemplate(O){return{templateData:this.renderer.renderTemplate(O)}}renderElement(O,D,A,P){this.renderer.renderElement(this.nodeMapper.map(O),D,A.templateData,P)}renderTwistie(O,D){return O.slow?(D.classList.add(...v.Codicon.treeItemLoading.classNamesArray),!0):(D.classList.remove(...v.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(O,D,A,P){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(O),D,A.templateData,P)}disposeTemplate(O){this.renderer.disposeTemplate(O.templateData)}dispose(){this.renderedNodes.clear()}}function a(B){return{browserEvent:B.browserEvent,elements:B.elements.map(O=>O.element)}}function l(B){return{browserEvent:B.browserEvent,element:B.element&&B.element.element,target:B.target}}class f extends E.ElementsDragAndDropData{constructor(O){super(O.elements.map(D=>D.element));this.data=O}}function g(B){return B instanceof E.ElementsDragAndDropData?new f(B):B}class b{constructor(O){this.dnd=O}getDragURI(O){return this.dnd.getDragURI(O.element)}getDragLabel(O,D){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(O.map(A=>A.element),D)}onDragStart(O,D){this.dnd.onDragStart&&this.dnd.onDragStart(g(O),D)}onDragOver(O,D,A,P,F=!0){return this.dnd.onDragOver(g(O),D&&D.element,A,P)}drop(O,D,A,P){this.dnd.drop(g(O),D&&D.element,A,P)}onDragEnd(O){this.dnd.onDragEnd&&this.dnd.onDragEnd(O)}}function p(B){return B&&Object.assign(Object.assign({},B),{collapseByDefault:!0,identityProvider:B.identityProvider&&{getId(O){return B.identityProvider.getId(O.element)}},dnd:B.dnd&&new b(B.dnd),multipleSelectionController:B.multipleSelectionController&&{isSelectionSingleChangeEvent(O){return B.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},O),{element:O.element}))},isSelectionRangeChangeEvent(O){return B.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},O),{element:O.element}))}},accessibilityProvider:B.accessibilityProvider&&Object.assign(Object.assign({},B.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:B.accessibilityProvider.getRole?O=>B.accessibilityProvider.getRole(O.element):()=>"treeitem",isChecked:B.accessibilityProvider.isChecked?O=>{var D;return!!((D=B.accessibilityProvider)===null||D===void 0?void 0:D.isChecked(O.element))}:void 0,getAriaLabel(O){return B.accessibilityProvider.getAriaLabel(O.element)},getWidgetAriaLabel(){return B.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:B.accessibilityProvider.getWidgetRole?()=>B.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:B.accessibilityProvider.getAriaLevel&&(O=>B.accessibilityProvider.getAriaLevel(O.element)),getActiveDescendantId:B.accessibilityProvider.getActiveDescendantId&&(O=>B.accessibilityProvider.getActiveDescendantId(O.element))}),filter:B.filter&&{filter(O,D){return B.filter.filter(O.element,D)}},keyboardNavigationLabelProvider:B.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},B.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(O){return B.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(O.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof B.expandOnlyOnTwistieClick=="undefined"?void 0:typeof B.expandOnlyOnTwistieClick!="function"?B.expandOnlyOnTwistieClick:O=>B.expandOnlyOnTwistieClick(O.element),additionalScrollHeight:B.additionalScrollHeight})}function C(B,O){O(B),B.children.forEach(D=>C(D,O))}class S{constructor(O,D,A,P,F,W={}){this.user=O,this.dataSource=F,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new h.Emitter,this._onDidChangeNodeSlowState=new h.Emitter,this.nodeMapper=new L.WeakMapper(M=>new c(M)),this.disposables=new n.DisposableStore,this.identityProvider=W.identityProvider,this.autoExpandSingleChildren=typeof W.autoExpandSingleChildren=="undefined"?!1:W.autoExpandSingleChildren,this.sorter=W.sorter,this.collapseByDefault=W.collapseByDefault,this.tree=this.createTree(O,D,A,P,W),this.root=o({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return h.Event.map(this.tree.onDidChangeFocus,a)}get onDidChangeSelection(){return h.Event.map(this.tree.onDidChangeSelection,a)}get onMouseDblClick(){return h.Event.map(this.tree.onMouseDblClick,l)}get onPointer(){return h.Event.map(this.tree.onPointer,l)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidDispose(){return this.tree.onDidDispose}createTree(O,D,A,P,F){const W=new m.ComposedTreeDelegate(A),M=P.map(ee=>new s(ee,this.nodeMapper,this._onDidChangeNodeSlowState.event)),z=p(F)||{};return new I.ObjectTree(O,D,W,M,z)}updateOptions(O={}){this.tree.updateOptions(O)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(O){this.tree.scrollTop=O}domFocus(){this.tree.domFocus()}layout(O,D){this.tree.layout(O,D)}style(O){this.tree.style(O)}getInput(){return this.root.element}setInput(O,D){return Le(this,void 0,void 0,function*(){this.refreshPromises.forEach(P=>P.cancel()),this.refreshPromises.clear(),this.root.element=O;const A=D&&{viewState:D,focus:[],selection:[]};yield this._updateChildren(O,!0,!1,A),A&&(this.tree.setFocus(A.focus),this.tree.setSelection(A.selection)),D&&typeof D.scrollTop=="number"&&(this.scrollTop=D.scrollTop)})}_updateChildren(O=this.root.element,D=!0,A=!1,P,F){return Le(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new L.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield h.Event.toPromise(this._onDidRender.event));const W=this.getDataNode(O);if(yield this.refreshAndRenderNode(W,D,P,F),A)try{this.tree.rerender(W)}catch{}})}rerender(O){if(O===void 0||O===this.root.element){this.tree.rerender();return}const D=this.getDataNode(O);this.tree.rerender(D)}getNode(O=this.root.element){const D=this.getDataNode(O),A=this.tree.getNode(D===this.root?null:D);return this.nodeMapper.map(A)}collapse(O,D=!1){const A=this.getDataNode(O);return this.tree.collapse(A===this.root?null:A,D)}expand(O,D=!1){return Le(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new L.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield h.Event.toPromise(this._onDidRender.event));const A=this.getDataNode(O);if(this.tree.hasElement(A)&&!this.tree.isCollapsible(A)||(A.refreshPromise&&(yield this.root.refreshPromise,yield h.Event.toPromise(this._onDidRender.event)),A!==this.root&&!A.refreshPromise&&!this.tree.isCollapsed(A)))return!1;const P=this.tree.expand(A===this.root?null:A,D);return A.refreshPromise&&(yield this.root.refreshPromise,yield h.Event.toPromise(this._onDidRender.event)),P})}setSelection(O,D){const A=O.map(P=>this.getDataNode(P));this.tree.setSelection(A,D)}getSelection(){return this.tree.getSelection().map(D=>D.element)}setFocus(O,D){const A=O.map(P=>this.getDataNode(P));this.tree.setFocus(A,D)}getFocus(){return this.tree.getFocus().map(D=>D.element)}reveal(O,D){this.tree.reveal(this.getDataNode(O),D)}getParentElement(O){const D=this.tree.getParentElement(this.getDataNode(O));return D&&D.element}getFirstElementChild(O=this.root.element){const D=this.getDataNode(O),A=this.tree.getFirstElementChild(D===this.root?null:D);return A&&A.element}getDataNode(O){const D=this.nodes.get(O===this.root.element?null:O);if(!D)throw new L.TreeError(this.user,`Data tree node not found: ${O}`);return D}refreshAndRenderNode(O,D,A,P){return Le(this,void 0,void 0,function*(){yield this.refreshNode(O,D,A),this.render(O,A,P)})}refreshNode(O,D,A){return Le(this,void 0,void 0,function*(){let P;return this.subTreeRefreshPromises.forEach((F,W)=>{!P&&r(W,O)&&(P=F.then(()=>this.refreshNode(O,D,A)))}),P||this.doRefreshSubTree(O,D,A)})}doRefreshSubTree(O,D,A){return Le(this,void 0,void 0,function*(){let P;O.refreshPromise=new Promise(F=>P=F),this.subTreeRefreshPromises.set(O,O.refreshPromise),O.refreshPromise.finally(()=>{O.refreshPromise=void 0,this.subTreeRefreshPromises.delete(O)});try{const F=yield this.doRefreshNode(O,D,A);O.stale=!1,yield _.Promises.settled(F.map(W=>this.doRefreshSubTree(W,D,A)))}finally{P()}})}doRefreshNode(O,D,A){return Le(this,void 0,void 0,function*(){O.hasChildren=!!this.dataSource.hasChildren(O.element);let P;if(!O.hasChildren)P=Promise.resolve(i.Iterable.empty());else{const F=this.doGetChildren(O);if((0,t.isIterable)(F))P=Promise.resolve(F);else{const W=(0,_.timeout)(800);W.then(()=>{O.slow=!0,this._onDidChangeNodeSlowState.fire(O)},M=>null),P=F.finally(()=>W.cancel())}}try{const F=yield P;return this.setChildren(O,F,D,A)}catch(F){if(O!==this.root&&this.tree.hasElement(O)&&this.tree.collapse(O),(0,u.isCancellationError)(F))return[];throw F}finally{O.slow&&(O.slow=!1,this._onDidChangeNodeSlowState.fire(O))}})}doGetChildren(O){let D=this.refreshPromises.get(O);if(D)return D;const A=this.dataSource.getChildren(O.element);return(0,t.isIterable)(A)?this.processChildren(A):(D=(0,_.createCancelablePromise)(()=>Le(this,void 0,void 0,function*(){return this.processChildren(yield A)})),this.refreshPromises.set(O,D),D.finally(()=>{this.refreshPromises.delete(O)}))}_onDidChangeCollapseState({node:O,deep:D}){O.element!==null&&!O.collapsed&&O.element.stale&&(D?this.collapse(O.element.element):this.refreshAndRenderNode(O.element,!1).catch(u.onUnexpectedError))}setChildren(O,D,A,P){const F=[...D];if(O.children.length===0&&F.length===0)return[];const W=new Map,M=new Map;for(const ie of O.children)if(W.set(ie.element,ie),this.identityProvider){const Y=this.tree.isCollapsed(ie);M.set(ie.id,{node:ie,collapsed:Y})}const z=[],ee=F.map(ie=>{const Y=!!this.dataSource.hasChildren(ie);if(!this.identityProvider){const G=o({element:ie,parent:O,hasChildren:Y});return Y&&this.collapseByDefault&&!this.collapseByDefault(ie)&&(G.collapsedByDefault=!1,z.push(G)),G}const X=this.identityProvider.getId(ie).toString(),J=M.get(X);if(J){const G=J.node;return W.delete(G.element),this.nodes.delete(G.element),this.nodes.set(ie,G),G.element=ie,G.hasChildren=Y,A?J.collapsed?(G.children.forEach(x=>C(x,V=>this.nodes.delete(V.element))),G.children.splice(0,G.children.length),G.stale=!0):z.push(G):Y&&this.collapseByDefault&&!this.collapseByDefault(ie)&&(G.collapsedByDefault=!1,z.push(G)),G}const oe=o({element:ie,parent:O,id:X,hasChildren:Y});return P&&P.viewState.focus&&P.viewState.focus.indexOf(X)>-1&&P.focus.push(oe),P&&P.viewState.selection&&P.viewState.selection.indexOf(X)>-1&&P.selection.push(oe),P&&P.viewState.expanded&&P.viewState.expanded.indexOf(X)>-1?z.push(oe):Y&&this.collapseByDefault&&!this.collapseByDefault(ie)&&(oe.collapsedByDefault=!1,z.push(oe)),oe});for(const ie of W.values())C(ie,Y=>this.nodes.delete(Y.element));for(const ie of ee)this.nodes.set(ie.element,ie);return O.children.splice(0,O.children.length,...ee),O!==this.root&&this.autoExpandSingleChildren&&ee.length===1&&z.length===0&&(ee[0].collapsedByDefault=!1,z.push(ee[0])),z}render(O,D,A){const P=O.children.map(W=>this.asTreeElement(W,D)),F=A&&Object.assign(Object.assign({},A),{diffIdentityProvider:A.diffIdentityProvider&&{getId(W){return A.diffIdentityProvider.getId(W.element)}}});this.tree.setChildren(O===this.root?null:O,P,F),O!==this.root&&this.tree.setCollapsible(O,O.hasChildren),this._onDidRender.fire()}asTreeElement(O,D){if(O.stale)return{element:O,collapsible:O.hasChildren,collapsed:!0};let A;return D&&D.viewState.expanded&&O.id&&D.viewState.expanded.indexOf(O.id)>-1?A=!1:A=O.collapsedByDefault,O.collapsedByDefault=void 0,{element:O,children:O.hasChildren?i.Iterable.map(O.children,P=>this.asTreeElement(P,D)):[],collapsible:O.hasChildren,collapsed:A}}processChildren(O){return this.sorter&&(O=[...O].sort(this.sorter.compare.bind(this.sorter))),O}dispose(){this.disposables.dispose()}}e.AsyncDataTree=S;class y{constructor(O){this.node=O}get element(){return{elements:this.node.element.elements.map(O=>O.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(O=>new y(O))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class w{constructor(O,D,A,P){this.renderer=O,this.nodeMapper=D,this.compressibleNodeMapperProvider=A,this.onDidChangeTwistieState=P,this.renderedNodes=new Map,this.disposables=[],this.templateId=O.templateId}renderTemplate(O){return{templateData:this.renderer.renderTemplate(O)}}renderElement(O,D,A,P){this.renderer.renderElement(this.nodeMapper.map(O),D,A.templateData,P)}renderCompressedElements(O,D,A,P){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(O),D,A.templateData,P)}renderTwistie(O,D){return O.slow?(D.classList.add(...v.Codicon.treeItemLoading.classNamesArray),!0):(D.classList.remove(...v.Codicon.treeItemLoading.classNamesArray),!1)}disposeElement(O,D,A,P){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(O),D,A.templateData,P)}disposeCompressedElements(O,D,A,P){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(O),D,A.templateData,P)}disposeTemplate(O){this.renderer.disposeTemplate(O.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,n.dispose)(this.disposables)}}function T(B){const O=B&&p(B);return O&&Object.assign(Object.assign({},O),{keyboardNavigationLabelProvider:O.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},O.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(D){return B.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(D.map(A=>A.element))}})})}class N extends S{constructor(O,D,A,P,F,W,M={}){super(O,D,A,F,W,M);this.compressionDelegate=P,this.compressibleNodeMapper=new L.WeakMapper(z=>new y(z)),this.filter=M.filter}createTree(O,D,A,P,F){const W=new m.ComposedTreeDelegate(A),M=P.map(ee=>new w(ee,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),z=T(F)||{};return new I.CompressibleObjectTree(O,D,W,M,z)}asTreeElement(O,D){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(O.element)},super.asTreeElement(O,D))}updateOptions(O={}){this.tree.updateOptions(O)}render(O,D){if(!this.identityProvider)return super.render(O,D);const A=X=>this.identityProvider.getId(X).toString(),P=X=>{const J=new Set;for(const oe of X){const G=this.tree.getCompressedTreeNode(oe===this.root?null:oe);if(!!G.element)for(const x of G.element.elements)J.add(A(x.element))}return J},F=P(this.tree.getSelection()),W=P(this.tree.getFocus());super.render(O,D);const M=this.getSelection();let z=!1;const ee=this.getFocus();let ie=!1;const Y=X=>{const J=X.element;if(J)for(let oe=0;oe<J.elements.length;oe++){const G=A(J.elements[oe].element),x=J.elements[J.elements.length-1].element;F.has(G)&&M.indexOf(x)===-1&&(M.push(x),z=!0),W.has(G)&&ee.indexOf(x)===-1&&(ee.push(x),ie=!0)}X.children.forEach(Y)};Y(this.tree.getCompressedTreeNode(O===this.root?null:O)),z&&this.setSelection(M),ie&&this.setFocus(ee)}processChildren(O){return this.filter&&(O=i.Iterable.filter(O,D=>{const A=this.filter.filter(D,1),P=R(A);if(P===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return P===1})),super.processChildren(O)}}e.CompressibleAsyncDataTree=N;function R(B){return typeof B=="boolean"?B?1:0:(0,k.isFilterResult)(B)?(0,k.getVisibleState)(B.visibility):(0,k.getVisibleState)(B)}}),define(re[495],se([5,6]),function(U,e){return U.create("vs/base/common/actions",e)}),define(re[48],se([1,0,4,2,495]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class I extends m.Disposable{constructor(i,n="",t="",o=!0,d){super();this._onDidChange=this._register(new E.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=i,this._label=n,this._cssClass=t,this._enabled=o,this._actionCallback=d}get id(){return this._id}get label(){return this._label}set label(i){this._setLabel(i)}_setLabel(i){this._label!==i&&(this._label=i,this._onDidChange.fire({label:i}))}get tooltip(){return this._tooltip||""}set tooltip(i){this._setTooltip(i)}_setTooltip(i){this._tooltip!==i&&(this._tooltip=i,this._onDidChange.fire({tooltip:i}))}get class(){return this._cssClass}set class(i){this._setClass(i)}_setClass(i){this._cssClass!==i&&(this._cssClass=i,this._onDidChange.fire({class:i}))}get enabled(){return this._enabled}set enabled(i){this._setEnabled(i)}_setEnabled(i){this._enabled!==i&&(this._enabled=i,this._onDidChange.fire({enabled:i}))}get checked(){return this._checked}set checked(i){this._setChecked(i)}_setChecked(i){this._checked!==i&&(this._checked=i,this._onDidChange.fire({checked:i}))}run(i,n){return Le(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(i))})}}e.Action=I;class L extends m.Disposable{constructor(){super(...arguments);this._onBeforeRun=this._register(new E.Emitter),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new E.Emitter),this.onDidRun=this._onDidRun.event}run(i,n){return Le(this,void 0,void 0,function*(){if(!i.enabled)return;this._onBeforeRun.fire({action:i});let t;try{yield this.runAction(i,n)}catch(o){t=o}this._onDidRun.fire({action:i,error:t})})}runAction(i,n){return Le(this,void 0,void 0,function*(){yield i.run(n)})}}e.ActionRunner=L;class _ extends I{constructor(i){super(_.ID,i,i?"separator text":"separator");this.checked=!1,this.enabled=!1}}e.Separator=_,_.ID="vs.actions.separator";class v{constructor(i,n,t,o){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=i,this.label=n,this.class=o,this._actions=t}get actions(){return this._actions}dispose(){}run(){return Le(this,void 0,void 0,function*(){})}}e.SubmenuAction=v;class u extends I{constructor(){super(u.ID,k.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=u,u.ID="vs.actions.empty"}),define(re[130],se([1,0,34,169,7,60,48,2,17,19,484,227]),function(U,e,E,m,k,I,L,_,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionViewItem=e.BaseActionViewItem=void 0;class i extends _.Disposable{constructor(o,d,r={}){super();this.options=r,this._context=o||this,this._action=d,d instanceof L.Action&&this._register(d.onDidChange(c=>{!this.element||this.handleActionChangeEvent(c)}))}get action(){return this._action}handleActionChangeEvent(o){o.enabled!==void 0&&this.updateEnabled(),o.checked!==void 0&&this.updateChecked(),o.class!==void 0&&this.updateClass(),o.label!==void 0&&(this.updateLabel(),this.updateTooltip()),o.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new L.ActionRunner)),this._actionRunner}set actionRunner(o){this._actionRunner=o}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(o){this._context=o}render(o){const d=this.element=o;this._register(I.Gesture.addTarget(o));const r=this.options&&this.options.draggable;r&&(o.draggable=!0,E.isFirefox&&this._register((0,k.addDisposableListener)(o,k.EventType.DRAG_START,c=>{var s;return(s=c.dataTransfer)===null||s===void 0?void 0:s.setData(m.DataTransfers.TEXT,this._action.label)}))),this._register((0,k.addDisposableListener)(d,I.EventType.Tap,c=>this.onClick(c,!0))),this._register((0,k.addDisposableListener)(d,k.EventType.MOUSE_DOWN,c=>{r||k.EventHelper.stop(c,!0),this._action.enabled&&c.button===0&&d.classList.add("active")})),v.isMacintosh&&this._register((0,k.addDisposableListener)(d,k.EventType.CONTEXT_MENU,c=>{c.button===0&&c.ctrlKey===!0&&this.onClick(c)})),this._register((0,k.addDisposableListener)(d,k.EventType.CLICK,c=>{k.EventHelper.stop(c,!0),this.options&&this.options.isMenu||this.onClick(c)})),this._register((0,k.addDisposableListener)(d,k.EventType.DBLCLICK,c=>{k.EventHelper.stop(c,!0)})),[k.EventType.MOUSE_UP,k.EventType.MOUSE_OUT].forEach(c=>{this._register((0,k.addDisposableListener)(d,c,s=>{k.EventHelper.stop(s),d.classList.remove("active")}))})}onClick(o,d=!1){var r;k.EventHelper.stop(o,!0);const c=u.isUndefinedOrNull(this._context)?((r=this.options)===null||r===void 0?void 0:r.useEventAsContext)?o:{preserveFocus:d}:this._context;this.actionRunner.run(this._action,c)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(o){this.element&&(this.element.tabIndex=o?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}e.BaseActionViewItem=i;class n extends i{constructor(o,d,r={}){super(o,d,r);this.options=r,this.options.icon=r.icon!==void 0?r.icon:!1,this.options.label=r.label!==void 0?r.label:!0,this.cssClass=""}render(o){super.render(o),this.element&&(this.label=(0,k.append)(this.element,(0,k.$)("a.action-label"))),this.label&&(this._action.id===L.Separator.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,k.append)(this.element,(0,k.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(o){this.label&&(this.label.tabIndex=o?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let o=null;this.getAction().tooltip?o=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(o=this.getAction().label,this.options.keybinding&&(o=h.localize(0,null,o,this.options.keybinding))),o&&this.label&&(this.label.title=o,this.label.setAttribute("aria-label",o))}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}e.ActionViewItem=n}),define(re[88],se([1,0,7,44,130,48,4,2,19,227]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class u extends _.Disposable{constructor(i,n={}){var t,o,d,r,c,s;super();this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new L.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new L.Emitter({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new L.Emitter),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new L.Emitter),this.onBeforeRun=this._onBeforeRun.event,this.options=n,this._context=(t=n.context)!==null&&t!==void 0?t:null,this._orientation=(o=this.options.orientation)!==null&&o!==void 0?o:0,this._triggerKeys={keyDown:(r=(d=this.options.triggerKeys)===null||d===void 0?void 0:d.keyDown)!==null&&r!==void 0?r:!1,keys:(s=(c=this.options.triggerKeys)===null||c===void 0?void 0:c.keys)!==null&&s!==void 0?s:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new I.ActionRunner,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(f=>this._onDidRun.fire(f))),this._register(this._actionRunner.onBeforeRun(f=>this._onBeforeRun.fire(f))),this._actionIds=[],this.viewItems=[],this.viewItemDisposables=new Map,this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",n.animated!==!1&&this.domNode.classList.add("animated");let a,l;switch(this._orientation){case 0:a=[15],l=[17];break;case 1:a=[16],l=[18],this.domNode.className+=" vertical";break}this._register(E.addDisposableListener(this.domNode,E.EventType.KEY_DOWN,f=>{const g=new m.StandardKeyboardEvent(f);let b=!0;const p=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;a&&(g.equals(a[0])||g.equals(a[1]))?b=this.focusPrevious():l&&(g.equals(l[0])||g.equals(l[1]))?b=this.focusNext():g.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():g.equals(14)?b=this.focusFirst():g.equals(13)?b=this.focusLast():g.equals(2)&&p instanceof k.BaseActionViewItem&&p.trapsArrowNavigation?b=this.focusNext():this.isTriggerKeyEvent(g)?this._triggerKeys.keyDown?this.doTrigger(g):this.triggerKeyDown=!0:b=!1,b&&(g.preventDefault(),g.stopPropagation())})),this._register(E.addDisposableListener(this.domNode,E.EventType.KEY_UP,f=>{const g=new m.StandardKeyboardEvent(f);this.isTriggerKeyEvent(g)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(g)),g.preventDefault(),g.stopPropagation()):(g.equals(2)||g.equals(1024|2))&&this.updateFocusedItem()})),this.focusTracker=this._register(E.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(E.getActiveElement()===this.domNode||!E.isAncestor(E.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),i.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(i){if(this.focusable=i,this.focusable){const n=this.viewItems.find(t=>t instanceof k.BaseActionViewItem&&t.isEnabled());n instanceof k.BaseActionViewItem&&n.setFocusable(!0)}else this.viewItems.forEach(n=>{n instanceof k.BaseActionViewItem&&n.setFocusable(!1)})}isTriggerKeyEvent(i){let n=!1;return this._triggerKeys.keys.forEach(t=>{n=n||i.equals(t)}),n}updateFocusedItem(){for(let i=0;i<this.actionsList.children.length;i++){const n=this.actionsList.children[i];if(E.isAncestor(E.getActiveElement(),n)){this.focusedItem=i;break}}}get context(){return this._context}set context(i){this._context=i,this.viewItems.forEach(n=>n.setActionContext(i))}get actionRunner(){return this._actionRunner}set actionRunner(i){i&&(this._actionRunner=i,this.viewItems.forEach(n=>n.actionRunner=i))}getContainer(){return this.domNode}push(i,n={}){const t=Array.isArray(i)?i:[i];let o=v.isNumber(n.index)?n.index:null;t.forEach(d=>{const r=document.createElement("li");r.className="action-item",r.setAttribute("role","presentation");let c;this.options.actionViewItemProvider&&(c=this.options.actionViewItemProvider(d)),c||(c=new k.ActionViewItem(this.context,d,n)),this.options.allowContextMenu||this.viewItemDisposables.set(c,E.addDisposableListener(r,E.EventType.CONTEXT_MENU,s=>{E.EventHelper.stop(s,!0)})),c.actionRunner=this._actionRunner,c.setActionContext(this.context),c.render(r),this.focusable&&c instanceof k.BaseActionViewItem&&this.viewItems.length===0&&c.setFocusable(!0),o===null||o<0||o>=this.actionsList.children.length?(this.actionsList.appendChild(r),this.viewItems.push(c),this._actionIds.push(d.id)):(this.actionsList.insertBefore(r,this.actionsList.children[o]),this.viewItems.splice(o,0,c),this._actionIds.splice(o,0,d.id),o++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){(0,_.dispose)(this.viewItems),this.viewItemDisposables.forEach(i=>i.dispose()),this.viewItemDisposables.clear(),this.viewItems=[],this._actionIds=[],E.clearNode(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(i){let n=!1,t;if(i===void 0?n=!0:typeof i=="number"?t=i:typeof i=="boolean"&&(n=i),n&&typeof this.focusedItem=="undefined"){const o=this.viewItems.findIndex(d=>d.isEnabled());this.focusedItem=o===-1?void 0:o,this.updateFocus(void 0,void 0,!0)}else t!==void 0&&(this.focusedItem=t),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(i){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const n=this.focusedItem;let t;do{if(!i&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=n,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,t=this.viewItems[this.focusedItem]}while(this.focusedItem!==n&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===I.Separator.ID));return this.updateFocus(),!0}focusPrevious(i){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const n=this.focusedItem;let t;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!i&&this.options.preventLoopNavigation)return this.focusedItem=n,!1;this.focusedItem=this.viewItems.length-1}t=this.viewItems[this.focusedItem]}while(this.focusedItem!==n&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===I.Separator.ID));return this.updateFocus(!0),!0}updateFocus(i,n,t=!1){var o;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:n}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((o=this.viewItems[this.previouslyFocusedItem])===null||o===void 0||o.blur());const d=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(d){let r=!0;v.isFunction(d.focus)||(r=!1),this.options.focusOnlyEnabledItems&&v.isFunction(d.isEnabled)&&!d.isEnabled()&&(r=!1),d.action.id===I.Separator.ID&&(r=!1),r?(t||this.previouslyFocusedItem!==this.focusedItem)&&(d.focus(i),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:n}),this.previouslyFocusedItem=void 0)}}doTrigger(i){if(typeof this.focusedItem=="undefined")return;const n=this.viewItems[this.focusedItem];if(n instanceof k.BaseActionViewItem){const t=n._context===null||n._context===void 0?i:n._context;this.run(n._action,t)}}run(i,n){return Le(this,void 0,void 0,function*(){yield this._actionRunner.run(i,n)})}dispose(){(0,_.dispose)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}e.ActionBar=u}),define(re[496],se([1,0,7,44,60,48,4,230]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=e.BaseDropdown=void 0;class _ extends I.ActionRunner{constructor(h,i){super();this._onDidChangeVisibility=this._register(new L.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,E.append)(h,(0,E.$)(".monaco-dropdown")),this._label=(0,E.append)(this._element,(0,E.$)(".dropdown-label"));let n=i.labelRenderer;n||(n=o=>(o.textContent=i.label||"",null));for(const o of[E.EventType.CLICK,E.EventType.MOUSE_DOWN,k.EventType.Tap])this._register((0,E.addDisposableListener)(this.element,o,d=>E.EventHelper.stop(d,!0)));for(const o of[E.EventType.MOUSE_DOWN,k.EventType.Tap])this._register((0,E.addDisposableListener)(this._label,o,d=>{d instanceof MouseEvent&&d.detail>1||(this.visible?this.hide():this.show())}));this._register((0,E.addDisposableListener)(this._label,E.EventType.KEY_UP,o=>{const d=new m.StandardKeyboardEvent(o);(d.equals(3)||d.equals(10))&&(E.EventHelper.stop(o,!0),this.visible?this.hide():this.show())}));const t=n(this._label);t&&this._register(t),this._register(k.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}e.BaseDropdown=_;class v extends _{constructor(h,i){super(h,i);this._actions=[],this._contextMenuProvider=i.contextMenuProvider,this.actions=i.actions||[],this.actionProvider=i.actionProvider,this.menuClassName=i.menuClassName||"",this.menuAsChild=!!i.menuAsChild}set menuOptions(h){this._menuOptions=h}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(h){this._actions=h}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:h=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(h):void 0,getKeyBinding:h=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(h):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=v}),define(re[497],se([1,0,7,130,496,4,230]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class L extends m.BaseActionViewItem{constructor(v,u,h,i=Object.create(null)){super(null,v,i);this.actionItem=null,this._onDidChangeVisibility=this._register(new I.Emitter),this.menuActionsOrProvider=u,this.contextMenuProvider=h,this.options=i,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(v){this.actionItem=v;const u=n=>{this.element=(0,E.append)(n,(0,E.$)("a.action-label"));let t=[];return typeof this.options.classNames=="string"?t=this.options.classNames.split(/\s+/g).filter(o=>!!o):this.options.classNames&&(t=this.options.classNames),t.find(o=>o==="icon")||t.push("codicon"),this.element.classList.add(...t),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},h=Array.isArray(this.menuActionsOrProvider),i={contextMenuProvider:this.contextMenuProvider,labelRenderer:u,menuAsChild:this.options.menuAsChild,actions:h?this.menuActionsOrProvider:void 0,actionProvider:h?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new k.DropdownMenu(v,i)),this._register(this.dropdownMenu.onDidChangeVisibility(n=>{var t;(t=this.element)===null||t===void 0||t.setAttribute("aria-expanded",`${n}`),this._onDidChangeVisibility.fire(n)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const n=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return n.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(v){super.setActionContext(v),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=v:this.dropdownMenu.menuOptions={context:v})}updateEnabled(){var v,u;const h=!this.getAction().enabled;(v=this.actionItem)===null||v===void 0||v.classList.toggle("disabled",h),(u=this.element)===null||u===void 0||u.classList.toggle("disabled",h)}}e.DropdownMenuActionViewItem=L}),define(re[200],se([1,0,7,93,174,88,46,72,66,30,4,323,41,490,348]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=void 0;const o=E.$,d={inputBackground:u.Color.fromHex("#3C3C3C"),inputForeground:u.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:u.Color.fromHex("#55AAFF"),inputValidationInfoBackground:u.Color.fromHex("#063B49"),inputValidationWarningBorder:u.Color.fromHex("#B89500"),inputValidationWarningBackground:u.Color.fromHex("#352A05"),inputValidationErrorBorder:u.Color.fromHex("#BE1100"),inputValidationErrorBackground:u.Color.fromHex("#5A1D1D")};class r extends v.Widget{constructor(a,l,f){var g;super();this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new h.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new h.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=l,this.options=f||Object.create(null),(0,n.mixin)(this.options,d,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(g=this.options.tooltip)!==null&&g!==void 0?g:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=E.append(a,o(".monaco-inputbox.idle"));let b=this.options.flexibleHeight?"textarea":"input",p=E.append(this.element,o(".ibwrapper"));if(this.input=E.append(p,o(b+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=E.append(p,o("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new _.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),E.append(a,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(y=>this.input.scrollTop=y.scrollTop));const C=this._register(new m.DomEmitter(document,"selectionchange")),S=h.Event.filter(C.event,()=>{const y=document.getSelection();return(y==null?void 0:y.anchorNode)===p});this._register(S(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new I.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(a){this.placeholder=a,this.input.setAttribute("placeholder",a)}setTooltip(a){this.tooltip=a,this.input.title=a}setAriaLabel(a){this.ariaLabel=a,a?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(a){this.input.value!==a&&(this.input.value=a,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:E.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(a=null){this.input.select(),a&&(this.input.setSelectionRange(a.start,a.end),a.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return E.getTotalWidth(this.input)}set width(a){if(this.options.flexibleHeight&&this.options.flexibleWidth){let l=0;if(this.mirror){const f=parseFloat(this.mirror.style.paddingLeft||"")||0,g=parseFloat(this.mirror.style.paddingRight||"")||0;l=f+g}this.input.style.width=a-l+"px"}else this.input.style.width=a+"px";this.mirror&&(this.mirror.style.width=a+"px")}set paddingRight(a){this.input.style.width=`calc(100% - ${a}px)`,this.mirror&&(this.mirror.style.paddingRight=a+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const a=this.cachedContentHeight,l=this.cachedHeight,f=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:a,height:l}),this.scrollableElement.setScrollPosition({scrollTop:f})}showMessage(a,l){this.message=a,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(a.type));const f=this.stylesForType(this.message.type);this.element.style.border=f.border?`1px solid ${f.border}`:"",(this.hasFocus()||l)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let a=null;return this.validation&&(a=this.validation(this.value),a?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(a)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),a==null?void 0:a.type}stylesForType(a){switch(a){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(a){switch(a){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let a,l=()=>a.style.width=E.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:g=>{if(!this.message)return null;a=E.append(g,o(".monaco-inputbox-container")),l();const b={inline:!0,className:"monaco-inputbox-message"},p=this.message.formatContent?(0,k.renderFormattedText)(this.message.content,b):(0,k.renderText)(this.message.content,b);p.classList.add(this.classForType(this.message.type));const C=this.stylesForType(this.message.type);return p.style.backgroundColor=C.background?C.background.toString():"",p.style.color=C.foreground?C.foreground.toString():"",p.style.border=C.border?`1px solid ${C.border}`:"",E.append(a,p),null},onHide:()=>{this.state="closed"},layout:l});let f;this.message.type===3?f=t.localize(0,null,this.message.content):this.message.type===2?f=t.localize(1,null,this.message.content):f=t.localize(2,null,this.message.content),L.alert(f),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const a=this.value,f=a.charCodeAt(a.length-1)===10?" ":"";(a+f).replace(/\u000c/g,"")?this.mirror.textContent=a+f:this.mirror.innerText="\xA0",this.layout()}style(a){this.inputBackground=a.inputBackground,this.inputForeground=a.inputForeground,this.inputBorder=a.inputBorder,this.inputValidationInfoBackground=a.inputValidationInfoBackground,this.inputValidationInfoForeground=a.inputValidationInfoForeground,this.inputValidationInfoBorder=a.inputValidationInfoBorder,this.inputValidationWarningBackground=a.inputValidationWarningBackground,this.inputValidationWarningForeground=a.inputValidationWarningForeground,this.inputValidationWarningBorder=a.inputValidationWarningBorder,this.inputValidationErrorBackground=a.inputValidationErrorBackground,this.inputValidationErrorForeground=a.inputValidationErrorForeground,this.inputValidationErrorBorder=a.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const a=this.inputBackground?this.inputBackground.toString():"",l=this.inputForeground?this.inputForeground.toString():"",f=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=a,this.element.style.color=l,this.input.style.backgroundColor="inherit",this.input.style.color=l,this.element.style.borderWidth=f?"1px":"",this.element.style.borderStyle=f?"solid":"",this.element.style.borderColor=f}layout(){if(!this.mirror)return;const a=this.cachedContentHeight;this.cachedContentHeight=E.getTotalHeight(this.mirror),a!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(a){const l=this.inputElement,f=l.selectionStart,g=l.selectionEnd,b=l.value;f!==null&&g!==null&&(this.value=b.substr(0,f)+a+b.substr(g),l.setSelectionRange(f+1,f+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}e.InputBox=r;class c extends r{constructor(a,l,f){const g=t.localize(3,null),b=` or \u21C5 ${g}`,p=` (\u21C5 ${g})`;super(a,l,f);this.history=new i.HistoryNavigator(f.history,100);const C=()=>{if(f.showHistoryHint&&f.showHistoryHint()&&!this.placeholder.endsWith(b)&&!this.placeholder.endsWith(p)&&this.history.getHistory().length){const S=this.placeholder.endsWith(")")?b:p,y=this.placeholder+S;f.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=y:this.setPlaceHolder(y)}};this.observer=new MutationObserver((S,y)=>{S.forEach(w=>{w.target.textContent||C()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>C()),this.onblur(this.input,()=>{const S=y=>{if(this.placeholder.endsWith(y)){const w=this.placeholder.slice(0,this.placeholder.length-y.length);return f.showPlaceholderOnFocus?this.placeholder=w:this.setPlaceHolder(w),!0}else return!1};S(p)||S(b)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let a=this.getNextValue();a&&(a=a===this.value?this.getNextValue():a),a&&(this.value=a,L.status(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let a=this.getPreviousValue();a&&(a=a===this.value?this.getPreviousValue():a),a&&(this.value=a,L.status(this.value))}getCurrentValue(){let a=this.history.current();return a||(a=this.history.last(),this.history.next()),a}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}e.HistoryInputBox=c}),define(re[498],se([1,0,7,273,200,66,4,485,231]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const v=_.localize(0,null);class u extends I.Widget{constructor(i,n,t,o){super();this._showOptionButtons=t,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new L.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new L.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new L.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new L.Emitter),this._onKeyUp=this._register(new L.Emitter),this._onCaseSensitiveKeyDown=this._register(new L.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new L.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=n,this.placeholder=o.placeholder||"",this.validation=o.validation,this.label=o.label||v,this.inputActiveOptionBorder=o.inputActiveOptionBorder,this.inputActiveOptionForeground=o.inputActiveOptionForeground,this.inputActiveOptionBackground=o.inputActiveOptionBackground,this.inputBackground=o.inputBackground,this.inputForeground=o.inputForeground,this.inputBorder=o.inputBorder,this.inputValidationInfoBorder=o.inputValidationInfoBorder,this.inputValidationInfoBackground=o.inputValidationInfoBackground,this.inputValidationInfoForeground=o.inputValidationInfoForeground,this.inputValidationWarningBorder=o.inputValidationWarningBorder,this.inputValidationWarningBackground=o.inputValidationWarningBackground,this.inputValidationWarningForeground=o.inputValidationWarningForeground,this.inputValidationErrorBorder=o.inputValidationErrorBorder,this.inputValidationErrorBackground=o.inputValidationErrorBackground,this.inputValidationErrorForeground=o.inputValidationErrorForeground;const d=o.appendCaseSensitiveLabel||"",r=o.appendWholeWordsLabel||"",c=o.appendRegexLabel||"",s=o.history||[],a=!!o.flexibleHeight,l=!!o.flexibleWidth,f=o.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new k.HistoryInputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:s,showHistoryHint:o.showHistoryHint,flexibleHeight:a,flexibleWidth:l,flexibleMaxHeight:f})),this.regex=this._register(new m.RegexToggle({appendTitle:c,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(b=>{this._onRegexKeyDown.fire(b)})),this.wholeWords=this._register(new m.WholeWordsToggle({appendTitle:r,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new m.CaseSensitiveToggle({appendTitle:d,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(b=>{this._onDidOptionChange.fire(b),!b&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(b=>{this._onCaseSensitiveKeyDown.fire(b)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let g=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,b=>{if(b.equals(15)||b.equals(17)||b.equals(9)){let p=g.indexOf(document.activeElement);if(p>=0){let C=-1;b.equals(17)?C=(p+1)%g.length:b.equals(15)&&(p===0?C=g.length-1:C=p-1),b.equals(9)?(g[p].blur(),this.inputBox.focus()):C>=0&&g[C].focus(),E.EventHelper.stop(b,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this.domNode.appendChild(this.controls),i&&i.appendChild(this.domNode),this._register(E.addDisposableListener(this.inputBox.inputElement,"compositionstart",b=>{this.imeSessionInProgress=!0})),this._register(E.addDisposableListener(this.inputBox.inputElement,"compositionend",b=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,b=>this._onKeyDown.fire(b)),this.onkeyup(this.inputBox.inputElement,b=>this._onKeyUp.fire(b)),this.oninput(this.inputBox.inputElement,b=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,b=>this._onMouseDown.fire(b))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(i){this.fixFocusOnOptionClickEnabled=i}setEnabled(i){i?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(i){this.inputBox.value!==i&&(this.inputBox.value=i)}style(i){this.inputActiveOptionBorder=i.inputActiveOptionBorder,this.inputActiveOptionForeground=i.inputActiveOptionForeground,this.inputActiveOptionBackground=i.inputActiveOptionBackground,this.inputBackground=i.inputBackground,this.inputForeground=i.inputForeground,this.inputBorder=i.inputBorder,this.inputValidationInfoBackground=i.inputValidationInfoBackground,this.inputValidationInfoForeground=i.inputValidationInfoForeground,this.inputValidationInfoBorder=i.inputValidationInfoBorder,this.inputValidationWarningBackground=i.inputValidationWarningBackground,this.inputValidationWarningForeground=i.inputValidationWarningForeground,this.inputValidationWarningBorder=i.inputValidationWarningBorder,this.inputValidationErrorBackground=i.inputValidationErrorBackground,this.inputValidationErrorForeground=i.inputValidationErrorForeground,this.inputValidationErrorBorder=i.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const i={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(i),this.wholeWords.style(i),this.caseSensitive.style(i);const n={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(n)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(i){this.caseSensitive.checked=i}getWholeWords(){return this.wholeWords.checked}setWholeWords(i){this.wholeWords.checked=i}getRegex(){return this.regex.checked}setRegex(i){this.regex.checked=i,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=u}),define(re[499],se([1,0,7,178,200,66,28,4,487,231]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=e.PreserveCaseToggle=void 0;const u=v.localize(0,null),h=v.localize(1,null);class i extends m.Toggle{constructor(o){super({icon:L.Codicon.preserveCase,title:h+o.appendTitle,isChecked:o.isChecked,inputActiveOptionBorder:o.inputActiveOptionBorder,inputActiveOptionForeground:o.inputActiveOptionForeground,inputActiveOptionBackground:o.inputActiveOptionBackground})}}e.PreserveCaseToggle=i;class n extends I.Widget{constructor(o,d,r,c){super();this._showOptionButtons=r,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new _.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new _.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new _.Emitter),this._onInput=this._register(new _.Emitter),this._onKeyUp=this._register(new _.Emitter),this._onPreserveCaseKeyDown=this._register(new _.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=d,this.placeholder=c.placeholder||"",this.validation=c.validation,this.label=c.label||u,this.inputActiveOptionBorder=c.inputActiveOptionBorder,this.inputActiveOptionForeground=c.inputActiveOptionForeground,this.inputActiveOptionBackground=c.inputActiveOptionBackground,this.inputBackground=c.inputBackground,this.inputForeground=c.inputForeground,this.inputBorder=c.inputBorder,this.inputValidationInfoBorder=c.inputValidationInfoBorder,this.inputValidationInfoBackground=c.inputValidationInfoBackground,this.inputValidationInfoForeground=c.inputValidationInfoForeground,this.inputValidationWarningBorder=c.inputValidationWarningBorder,this.inputValidationWarningBackground=c.inputValidationWarningBackground,this.inputValidationWarningForeground=c.inputValidationWarningForeground,this.inputValidationErrorBorder=c.inputValidationErrorBorder,this.inputValidationErrorBackground=c.inputValidationErrorBackground,this.inputValidationErrorForeground=c.inputValidationErrorForeground;const s=c.appendPreserveCaseLabel||"",a=c.history||[],l=!!c.flexibleHeight,f=!!c.flexibleWidth,g=c.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new k.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:a,showHistoryHint:c.showHistoryHint,flexibleHeight:l,flexibleWidth:f,flexibleMaxHeight:g})),this.preserveCase=this._register(new i({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(C=>{this._onDidOptionChange.fire(C),!C&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(C=>{this._onPreserveCaseKeyDown.fire(C)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let b=[this.preserveCase.domNode];this.onkeydown(this.domNode,C=>{if(C.equals(15)||C.equals(17)||C.equals(9)){let S=b.indexOf(document.activeElement);if(S>=0){let y=-1;C.equals(17)?y=(S+1)%b.length:C.equals(15)&&(S===0?y=b.length-1:y=S-1),C.equals(9)?(b[S].blur(),this.inputBox.focus()):y>=0&&b[y].focus(),E.EventHelper.stop(C,!0)}}});let p=document.createElement("div");p.className="controls",p.style.display=this._showOptionButtons?"block":"none",p.appendChild(this.preserveCase.domNode),this.domNode.appendChild(p),o&&o.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,C=>this._onKeyDown.fire(C)),this.onkeyup(this.inputBox.inputElement,C=>this._onKeyUp.fire(C)),this.oninput(this.inputBox.inputElement,C=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,C=>this._onMouseDown.fire(C))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(o){o?this.enable():this.disable()}style(o){this.inputActiveOptionBorder=o.inputActiveOptionBorder,this.inputActiveOptionForeground=o.inputActiveOptionForeground,this.inputActiveOptionBackground=o.inputActiveOptionBackground,this.inputBackground=o.inputBackground,this.inputForeground=o.inputForeground,this.inputBorder=o.inputBorder,this.inputValidationInfoBackground=o.inputValidationInfoBackground,this.inputValidationInfoForeground=o.inputValidationInfoForeground,this.inputValidationInfoBorder=o.inputValidationInfoBorder,this.inputValidationWarningBackground=o.inputValidationWarningBackground,this.inputValidationWarningForeground=o.inputValidationWarningForeground,this.inputValidationWarningBorder=o.inputValidationWarningBorder,this.inputValidationErrorBackground=o.inputValidationErrorBackground,this.inputValidationErrorForeground=o.inputValidationErrorForeground,this.inputValidationErrorBorder=o.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const o={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(o);const d={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(d)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(o){this.preserveCase.checked=o}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(o){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=o,this.domNode.style.width=o+"px"}dispose(){super.dispose()}}e.ReplaceInput=n}),define(re[500],se([1,0,34,60,7,44,63,88,130,143,228,72,48,10,28,101,2,17,8]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanMnemonic=e.Menu=e.Direction=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var a;(function(S){S[S.Right=0]="Right",S[S.Left=1]="Left"})(a=e.Direction||(e.Direction={}));class l extends _.ActionBar{constructor(y,w,T={}){y.classList.add("monaco-menu-container"),y.setAttribute("role","presentation");const N=document.createElement("div");N.classList.add("monaco-menu"),N.setAttribute("role","presentation");super(N,{orientation:1,actionViewItemProvider:O=>this.doGetActionViewItem(O,T,R),context:T.context,actionRunner:T.actionRunner,ariaLabel:T.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...c.isMacintosh||c.isLinux?[10]:[]],keyDown:!0}});this.menuElement=N,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new r.DisposableStore),this.initializeOrUpdateStyleSheet(y,{}),this._register(m.Gesture.addTarget(N)),(0,k.addDisposableListener)(N,k.EventType.KEY_DOWN,O=>{new I.StandardKeyboardEvent(O).equals(2)&&O.preventDefault()}),T.enableMnemonics&&this.menuDisposables.add((0,k.addDisposableListener)(N,k.EventType.KEY_DOWN,O=>{const D=O.key.toLocaleLowerCase();if(this.mnemonics.has(D)){k.EventHelper.stop(O,!0);const A=this.mnemonics.get(D);if(A.length===1&&(A[0]instanceof g&&A[0].container&&this.focusItemByElement(A[0].container),A[0].onClick(O)),A.length>1){const P=A.shift();P&&P.container&&(this.focusItemByElement(P.container),A.push(P)),this.mnemonics.set(D,A)}}})),c.isLinux&&this._register((0,k.addDisposableListener)(N,k.EventType.KEY_DOWN,O=>{const D=new I.StandardKeyboardEvent(O);D.equals(14)||D.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),k.EventHelper.stop(O,!0)):(D.equals(13)||D.equals(12))&&(this.focusedItem=0,this.focusPrevious(),k.EventHelper.stop(O,!0))})),this._register((0,k.addDisposableListener)(this.domNode,k.EventType.MOUSE_OUT,O=>{let D=O.relatedTarget;(0,k.isAncestor)(D,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),O.stopPropagation())})),this._register((0,k.addDisposableListener)(this.actionsList,k.EventType.MOUSE_OVER,O=>{let D=O.target;if(!(!D||!(0,k.isAncestor)(D,this.actionsList)||D===this.actionsList)){for(;D.parentElement!==this.actionsList&&D.parentElement!==null;)D=D.parentElement;if(D.classList.contains("action-item")){const A=this.focusedItem;this.setFocusedItem(D),A!==this.focusedItem&&this.updateFocus()}}})),this._register(m.Gesture.addTarget(this.actionsList)),this._register((0,k.addDisposableListener)(this.actionsList,m.EventType.Tap,O=>{let D=O.initialTarget;if(!(!D||!(0,k.isAncestor)(D,this.actionsList)||D===this.actionsList)){for(;D.parentElement!==this.actionsList&&D.parentElement!==null;)D=D.parentElement;if(D.classList.contains("action-item")){const A=this.focusedItem;this.setFocusedItem(D),A!==this.focusedItem&&this.updateFocus()}}}));let R={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new i.DomScrollableElement(N,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const B=this.scrollableElement.getDomNode();B.style.position="",this._register((0,k.addDisposableListener)(N,m.EventType.Change,O=>{k.EventHelper.stop(O,!0);const D=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:D-O.translationY})})),this._register((0,k.addDisposableListener)(B,k.EventType.MOUSE_UP,O=>{O.preventDefault()})),N.style.maxHeight=`${Math.max(10,window.innerHeight-y.getBoundingClientRect().top-35)}px`,w=w.filter(O=>{var D;return((D=T.submenuIds)===null||D===void 0?void 0:D.has(O.id))?(console.warn(`Found submenu cycle: ${O.id}`),!1):!0}),this.push(w,{icon:!0,label:!0,isMenu:!0}),y.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(O=>!(O instanceof b)).forEach((O,D,A)=>{O.updatePositionInSet(D+1,A.length)})}initializeOrUpdateStyleSheet(y,w){this.styleSheet||((0,k.isInShadowDOM)(y)?this.styleSheet=(0,k.createStyleSheet)(y):(l.globalStyleSheet||(l.globalStyleSheet=(0,k.createStyleSheet)()),this.styleSheet=l.globalStyleSheet)),this.styleSheet.textContent=C(w,(0,k.isInShadowDOM)(y))}style(y){const w=this.getContainer();this.initializeOrUpdateStyleSheet(w,y);const T=y.foregroundColor?`${y.foregroundColor}`:"",N=y.backgroundColor?`${y.backgroundColor}`:"",R=y.borderColor?`1px solid ${y.borderColor}`:"",B=y.shadowColor?`0 2px 4px ${y.shadowColor}`:"";w.style.border=R,this.domNode.style.color=T,this.domNode.style.backgroundColor=N,w.style.boxShadow=B,this.viewItems&&this.viewItems.forEach(O=>{(O instanceof f||O instanceof b)&&O.style(y)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(y){const w=this.focusedItem;this.setFocusedItem(y),w!==this.focusedItem&&this.updateFocus()}setFocusedItem(y){for(let w=0;w<this.actionsList.children.length;w++){let T=this.actionsList.children[w];if(y===T){this.focusedItem=w;break}}}updateFocus(y){super.updateFocus(y,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(y,w,T){if(y instanceof n.Separator)return new b(w.context,y,{icon:!0});if(y instanceof n.SubmenuAction){const N=new g(y,y.actions,T,Object.assign(Object.assign({},w),{submenuIds:new Set([...w.submenuIds||[],y.id])}));if(w.enableMnemonics){const R=N.getMnemonic();if(R&&N.isEnabled()){let B=[];this.mnemonics.has(R)&&(B=this.mnemonics.get(R)),B.push(N),this.mnemonics.set(R,B)}}return N}else{const N={enableMnemonics:w.enableMnemonics,useEventAsContext:w.useEventAsContext};if(w.getKeyBinding){const B=w.getKeyBinding(y);if(B){const O=B.getLabel();O&&(N.keybinding=O)}}const R=new f(w.context,y,N);if(w.enableMnemonics){const B=R.getMnemonic();if(B&&R.isEnabled()){let O=[];this.mnemonics.has(B)&&(O=this.mnemonics.get(B)),O.push(R),this.mnemonics.set(B,O)}}return R}}}e.Menu=l;class f extends v.BaseActionViewItem{constructor(y,w,T={}){T.isMenu=!0;super(w,w,T);if(this.options=T,this.options.icon=T.icon!==void 0?T.icon:!1,this.options.label=T.label!==void 0?T.label:!0,this.cssClass="",this.options.label&&T.enableMnemonics){let N=this.getAction().label;if(N){let R=e.MENU_MNEMONIC_REGEX.exec(N);R&&(this.mnemonic=(R[1]?R[1]:R[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new t.RunOnceScheduler(()=>{!this.element||(this._register((0,k.addDisposableListener)(this.element,k.EventType.MOUSE_UP,N=>{if(k.EventHelper.stop(N,!0),E.isFirefox){if(new L.StandardMouseEvent(N).rightButton)return;this.onClick(N)}else setTimeout(()=>{this.onClick(N)},0)})),this._register((0,k.addDisposableListener)(this.element,k.EventType.CONTEXT_MENU,N=>{k.EventHelper.stop(N,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(y){super.render(y),!!this.element&&(this.container=y,this.item=(0,k.append)(this.element,(0,k.$)("a.action-menu-item")),this._action.id===n.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,k.append)(this.item,(0,k.$)("span.menu-item-check"+o.Codicon.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,k.append)(this.item,(0,k.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,k.append)(this.item,(0,k.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(y,w){this.item&&(this.item.setAttribute("aria-posinset",`${y}`),this.item.setAttribute("aria-setsize",`${w}`))}updateLabel(){if(!!this.label&&this.options.label){(0,k.clearNode)(this.label);let y=(0,d.stripIcons)(this.getAction().label);if(y){const w=p(y);this.options.enableMnemonics||(y=w),this.label.setAttribute("aria-label",w.replace(/&&/g,"&"));const T=e.MENU_MNEMONIC_REGEX.exec(y);if(T){y=s.escape(y),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let N=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(y);for(;N&&N[1];)N=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(y);const R=B=>B.replace(/&amp;&amp;/g,"&amp;");N?this.label.append(s.ltrim(R(y.substr(0,N.index))," "),(0,k.$)("u",{"aria-hidden":"true"},N[3]),s.rtrim(R(y.substr(N.index+N[0].length))," ")):this.label.innerText=R(y).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(T[1]?T[1]:T[3]).toLocaleLowerCase())}else this.label.innerText=y.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const y=this.getAction().checked;this.item.classList.toggle("checked",!!y),y!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",y?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const y=this.element&&this.element.classList.contains("focused"),w=y&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,T=y&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,N=y&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=w?w.toString():"",this.item.style.backgroundColor=T?T.toString():""),this.check&&(this.check.style.color=w?w.toString():""),this.container&&(this.container.style.border=N)}style(y){this.menuStyle=y,this.applyStyle()}}class g extends f{constructor(y,w,T,N){super(y,y,N);this.submenuActions=w,this.parentData=T,this.submenuOptions=N,this.mysubmenu=null,this.submenuDisposables=this._register(new r.DisposableStore),this.mouseOver=!1,this.expandDirection=N&&N.expandDirection!==void 0?N.expandDirection:a.Right,this.showScheduler=new t.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new t.RunOnceScheduler(()=>{this.element&&!(0,k.isAncestor)((0,k.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(y){super.render(y),!!this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,k.append)(this.item,(0,k.$)("span.submenu-indicator"+o.Codicon.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,k.addDisposableListener)(this.element,k.EventType.KEY_UP,w=>{let T=new I.StandardKeyboardEvent(w);(T.equals(17)||T.equals(3))&&(k.EventHelper.stop(w,!0),this.createSubmenu(!0))})),this._register((0,k.addDisposableListener)(this.element,k.EventType.KEY_DOWN,w=>{let T=new I.StandardKeyboardEvent(w);(0,k.getActiveElement)()===this.item&&(T.equals(17)||T.equals(3))&&k.EventHelper.stop(w,!0)})),this._register((0,k.addDisposableListener)(this.element,k.EventType.MOUSE_OVER,w=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,k.addDisposableListener)(this.element,k.EventType.MOUSE_LEAVE,w=>{this.mouseOver=!1})),this._register((0,k.addDisposableListener)(this.element,k.EventType.FOCUS_OUT,w=>{this.element&&!(0,k.isAncestor)((0,k.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(y){k.EventHelper.stop(y,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(y){if(this.parentData.submenu&&(y||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(y,w,T,N){const R={top:0,left:0};return R.left=(0,h.layout)(y.width,w.width,{position:N===a.Right?0:1,offset:T.left,size:T.width}),R.left>=T.left&&R.left<T.left+T.width&&(T.left+10+w.width<=y.width&&(R.left=T.left+10),T.top+=10,T.height=0),R.top=(0,h.layout)(y.height,w.height,{position:0,offset:T.top,size:0}),R.top+w.height===T.top&&R.top+T.height+w.height<=y.height&&(R.top+=T.height),R}createSubmenu(y=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,k.append)(this.element,(0,k.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const w=getComputedStyle(this.parentData.parent.domNode),T=parseFloat(w.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new l(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new n.EmptySubmenuAction],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const N=this.element.getBoundingClientRect(),R={top:N.top-T,left:N.left,height:N.height+2*T,width:N.width},B=this.submenuContainer.getBoundingClientRect(),{top:O,left:D}=this.calculateSubmenuMenuLayout(new k.Dimension(window.innerWidth,window.innerHeight),k.Dimension.lift(B),R,this.expandDirection);this.submenuContainer.style.left=`${D-B.left}px`,this.submenuContainer.style.top=`${O-B.top}px`,this.submenuDisposables.add((0,k.addDisposableListener)(this.submenuContainer,k.EventType.KEY_UP,A=>{new I.StandardKeyboardEvent(A).equals(15)&&(k.EventHelper.stop(A,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,k.addDisposableListener)(this.submenuContainer,k.EventType.KEY_DOWN,A=>{new I.StandardKeyboardEvent(A).equals(15)&&k.EventHelper.stop(A,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(y),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(y){var w;this.item&&((w=this.item)===null||w===void 0||w.setAttribute("aria-expanded",y))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const w=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=w?`${w}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class b extends v.ActionViewItem{style(y){this.label&&(this.label.style.borderBottomColor=y.separatorColor?`${y.separatorColor}`:"")}}function p(S){const y=e.MENU_MNEMONIC_REGEX,w=y.exec(S);if(!w)return S;const T=!w[1];return S.replace(y,T?"$2$3":"").trim()}e.cleanMnemonic=p;function C(S,y){let w=`
.monaco-menu {
	font-size: 13px;

}

${(0,u.formatRule)(o.Codicon.menuSelection)}
${(0,u.formatRule)(o.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(y){w+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const T=S.scrollbarShadow;T&&(w+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${T} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${T} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${T} 6px 6px 6px -6px inset;
				}
			`);const N=S.scrollbarSliderBackground;N&&(w+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${N};
				}
			`);const R=S.scrollbarSliderHoverBackground;R&&(w+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${R};
				}
			`);const B=S.scrollbarSliderActiveBackground;B&&(w+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${B};
				}
			`)}return w}}),define(re[501],se([1,0,7,44,63,200,2,78,145]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const v=E.$;class u extends L.Disposable{constructor(i){super();this.parent=i,this.onKeyDown=n=>E.addDisposableListener(this.inputBox.inputElement,E.EventType.KEY_DOWN,t=>{n(new m.StandardKeyboardEvent(t))}),this.onMouseDown=n=>E.addDisposableListener(this.inputBox.inputElement,E.EventType.MOUSE_DOWN,t=>{n(new k.StandardMouseEvent(t))}),this.onDidChange=n=>this.inputBox.onDidChange(n),this.container=E.append(this.parent,v(".quick-input-box")),this.inputBox=this._register(new I.InputBox(this.container,void 0))}get value(){return this.inputBox.value}set value(i){this.inputBox.value=i}select(i=null){this.inputBox.select(i)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(i){this.inputBox.setPlaceHolder(i)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(i){this.inputBox.setAriaLabel(i)}get password(){return this.inputBox.inputElement.type==="password"}set password(i){this.inputBox.inputElement.type=i?"password":"text"}setAttribute(i,n){this.inputBox.inputElement.setAttribute(i,n)}removeAttribute(i){this.inputBox.inputElement.removeAttribute(i)}showDecoration(i){i===_.default.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:i===_.default.Info?1:i===_.default.Warning?2:3,content:""})}stylesForType(i){return this.inputBox.stylesForType(i===_.default.Info?1:i===_.default.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(i){this.inputBox.style(i)}}e.QuickInputBox=u}),define(re[502],se([5,6]),function(U,e){return U.create("vs/base/common/errorMessage",e)}),define(re[503],se([1,0,18,19,502]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=void 0;function I(u,h){return h&&(u.stack||u.stacktrace)?k.localize(0,null,_(u),L(u.stack)||L(u.stacktrace)):_(u)}function L(u){return Array.isArray(u)?u.join(`
`):u}function _(u){return typeof u.code=="string"&&typeof u.errno=="number"&&typeof u.syscall=="string"?k.localize(1,null,u.message):u.message||k.localize(2,null)}function v(u=null,h=!1){if(!u)return k.localize(3,null);if(Array.isArray(u)){const i=E.coalesce(u),n=v(i[0],h);return i.length>1?k.localize(4,null,n,i.length):n}if(m.isString(u))return u;if(u.detail){const i=u.detail;if(i.error)return I(i.error,h);if(i.exception)return I(i.exception,h)}return u.stack?I(u,h):u.message?u.message:k.localize(5,null)}e.toErrorMessage=v}),define(re[504],se([5,6]),function(U,e){return U.create("vs/base/common/keybindingLabels",e)}),define(re[201],se([1,0,504]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserSettingsLabelProvider=e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class m{constructor(L,_,v=_){this.modifierLabels=[null],this.modifierLabels[2]=L,this.modifierLabels[1]=_,this.modifierLabels[3]=v}toLabel(L,_,v){if(_.length===0)return null;const u=[];for(let h=0,i=_.length;h<i;h++){const n=_[h],t=v(n);if(t===null)return null;u[h]=k(n,t,this.modifierLabels[L])}return u.join(" ")}}e.ModifierLabelProvider=m,e.UILabelProvider=new m({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:E.localize(0,null),shiftKey:E.localize(1,null),altKey:E.localize(2,null),metaKey:E.localize(3,null),separator:"+"},{ctrlKey:E.localize(4,null),shiftKey:E.localize(5,null),altKey:E.localize(6,null),metaKey:E.localize(7,null),separator:"+"}),e.AriaLabelProvider=new m({ctrlKey:E.localize(8,null),shiftKey:E.localize(9,null),altKey:E.localize(10,null),metaKey:E.localize(11,null),separator:"+"},{ctrlKey:E.localize(12,null),shiftKey:E.localize(13,null),altKey:E.localize(14,null),metaKey:E.localize(15,null),separator:"+"},{ctrlKey:E.localize(16,null),shiftKey:E.localize(17,null),altKey:E.localize(18,null),metaKey:E.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new m({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new m({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function k(I,L,_){if(L===null)return"";const v=[];return I.ctrlKey&&v.push(_.ctrlKey),I.shiftKey&&v.push(_.shiftKey),I.altKey&&v.push(_.altKey),I.metaKey&&v.push(_.metaKey),L!==""&&v.push(L),v.join(_.separator)}}),define(re[505],se([1,0,7,201,41,491,349]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=void 0;const L=E.$;class _{constructor(u,h,i){this.os=h,this.keyElements=new Set,this.options=i||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=E.append(u,L(".monaco-keybinding")),this.didEverRender=!1,u.appendChild(this.domNode)}get element(){return this.domNode}set(u,h){this.didEverRender&&this.keybinding===u&&_.areSame(this.matches,h)||(this.keybinding=u,this.matches=h,this.render())}render(){if(this.clear(),this.keybinding){let[u,h]=this.keybinding.getParts();u&&this.renderPart(this.domNode,u,this.matches?this.matches.firstPart:null),h&&(E.append(this.domNode,L("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,h,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){E.clearNode(this.domNode),this.keyElements.clear()}renderPart(u,h,i){const n=m.UILabelProvider.modifierLabels[this.os];h.ctrlKey&&this.renderKey(u,n.ctrlKey,Boolean(i==null?void 0:i.ctrlKey),n.separator),h.shiftKey&&this.renderKey(u,n.shiftKey,Boolean(i==null?void 0:i.shiftKey),n.separator),h.altKey&&this.renderKey(u,n.altKey,Boolean(i==null?void 0:i.altKey),n.separator),h.metaKey&&this.renderKey(u,n.metaKey,Boolean(i==null?void 0:i.metaKey),n.separator);const t=h.keyLabel;t&&this.renderKey(u,t,Boolean(i==null?void 0:i.keyCode),"")}renderKey(u,h,i,n){E.append(u,this.createKeyElement(h,i?".highlight":"")),n&&E.append(u,L("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(u){E.append(u,this.createKeyElement((0,I.localize)(0,null)))}createKeyElement(u,h=""){const i=L("span.monaco-keybinding-key"+h,void 0,u);return this.keyElements.add(i),i}style(u){this.labelBackground=u.keybindingLabelBackground,this.labelForeground=u.keybindingLabelForeground,this.labelBorder=u.keybindingLabelBorder,this.labelBottomBorder=u.keybindingLabelBottomBorder,this.labelShadow=u.keybindingLabelShadow,this.applyStyles()}applyStyles(){var u;if(this.element){for(const h of this.keyElements)this.labelBackground&&(h.style.backgroundColor=(u=this.labelBackground)===null||u===void 0?void 0:u.toString()),this.labelBorder&&(h.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(h.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(h.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(u,h){return u===h||!u&&!h?!0:!!u&&!!h&&(0,k.equals)(u.firstPart,h.firstPart)&&(0,k.equals)(u.chordPart,h.chordPart)}}e.KeybindingLabel=_}),define(re[506],se([5,6]),function(U,e){return U.create("vs/base/parts/quickinput/browser/quickInput",e)}),define(re[507],se([5,6]),function(U,e){return U.create("vs/base/parts/quickinput/browser/quickInputList",e)}),define(re[508],se([1,0,7,44,88,198,505,48,18,28,327,99,4,101,2,17,19,235,507,145]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputList=e.QuickInputListFocus=void 0;const a=E.$;class l{constructor(w){this.hidden=!1,this._onChecked=new n.Emitter,this.onChecked=this._onChecked.event,Object.assign(this,w)}get checked(){return!!this._checked}set checked(w){w!==this._checked&&(this._checked=w,this._onChecked.fire(w))}dispose(){this._onChecked.dispose()}}class f{get templateId(){return f.ID}renderTemplate(w){const T=Object.create(null);T.toDisposeElement=[],T.toDisposeTemplate=[],T.entry=E.append(w,a(".quick-input-list-entry"));const N=E.append(T.entry,a("label.quick-input-list-label"));T.toDisposeTemplate.push(E.addStandardDisposableListener(N,E.EventType.CLICK,P=>{T.checkbox.offsetParent||P.preventDefault()})),T.checkbox=E.append(N,a("input.quick-input-list-checkbox")),T.checkbox.type="checkbox",T.toDisposeTemplate.push(E.addStandardDisposableListener(T.checkbox,E.EventType.CHANGE,P=>{T.element.checked=T.checkbox.checked}));const R=E.append(N,a(".quick-input-list-rows")),B=E.append(R,a(".quick-input-list-row")),O=E.append(R,a(".quick-input-list-row"));T.label=new I.IconLabel(B,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const D=E.append(B,a(".quick-input-list-entry-keybinding"));T.keybinding=new L.KeybindingLabel(D,d.OS);const A=E.append(O,a(".quick-input-list-label-meta"));return T.detail=new I.IconLabel(A,{supportHighlights:!0,supportIcons:!0}),T.separator=E.append(T.entry,a(".quick-input-list-separator")),T.actionBar=new k.ActionBar(T.entry),T.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),T.toDisposeTemplate.push(T.actionBar),T}renderElement(w,T,N){N.toDisposeElement=(0,o.dispose)(N.toDisposeElement),N.element=w,N.checkbox.checked=w.checked,N.toDisposeElement.push(w.onChecked(P=>N.checkbox.checked=P));const{labelHighlights:R,descriptionHighlights:B,detailHighlights:O}=w,D=Object.create(null);D.matches=R||[],D.descriptionTitle=w.saneDescription,D.descriptionMatches=B||[],D.extraClasses=w.item.iconClasses,D.italic=w.item.italic,D.strikethrough=w.item.strikethrough,N.label.setLabel(w.saneLabel,w.saneDescription,D),N.keybinding.set(w.item.keybinding),w.saneDetail&&N.detail.setLabel(w.saneDetail,void 0,{matches:O,title:w.saneDetail}),w.separator&&w.separator.label?(N.separator.textContent=w.separator.label,N.separator.style.display=""):N.separator.style.display="none",N.entry.classList.toggle("quick-input-list-separator-border",!!w.separator),N.actionBar.clear();const A=w.item.buttons;A&&A.length?(N.actionBar.push(A.map((P,F)=>{let W=P.iconClass||(P.iconPath?(0,c.getIconClass)(P.iconPath):void 0);P.alwaysVisible&&(W=W?`${W} always-visible`:"always-visible");const M=new _.Action(`id-${F}`,"",W,!0,()=>Le(this,void 0,void 0,function*(){w.fireButtonTriggered({button:P,item:w.item})}));return M.tooltip=P.tooltip||"",M}),{icon:!0,label:!1}),N.entry.classList.add("has-actions")):N.entry.classList.remove("has-actions")}disposeElement(w,T,N){N.toDisposeElement=(0,o.dispose)(N.toDisposeElement)}disposeTemplate(w){w.toDisposeElement=(0,o.dispose)(w.toDisposeElement),w.toDisposeTemplate=(0,o.dispose)(w.toDisposeTemplate)}}f.ID="listelement";class g{getHeight(w){return w.saneDetail?44:22}getTemplateId(w){return f.ID}}var b;(function(y){y[y.First=1]="First",y[y.Second=2]="Second",y[y.Last=3]="Last",y[y.Next=4]="Next",y[y.Previous=5]="Previous",y[y.NextPage=6]="NextPage",y[y.PreviousPage=7]="PreviousPage"})(b=e.QuickInputListFocus||(e.QuickInputListFocus={}));class p{constructor(w,T,N){this.parent=w,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new n.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new n.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new n.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new n.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new n.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new n.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new n.Emitter,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=T,this.container=E.append(this.parent,a(".quick-input-list"));const R=new g,B=new S;this.list=N.createList("QuickInput",this.container,R,[new f],{identityProvider:{getId:O=>O.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:B}),this.list.getHTMLElement().id=T,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(O=>{const D=new m.StandardKeyboardEvent(O);switch(D.keyCode){case 10:this.toggleCheckbox();break;case 31:(d.isMacintosh?O.metaKey:O.ctrlKey)&&this.list.setFocus((0,v.range)(this.list.length));break;case 16:{const A=this.list.getFocus();A.length===1&&A[0]===0&&this._onLeave.fire();break}case 18:{const A=this.list.getFocus();A.length===1&&A[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(D)})),this.disposables.push(this.list.onMouseDown(O=>{O.browserEvent.button!==2&&O.browserEvent.preventDefault()})),this.disposables.push(E.addDisposableListener(this.container,E.EventType.CLICK,O=>{(O.x||O.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(O=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(O=>{typeof O.index=="number"&&(O.browserEvent.preventDefault(),this.list.setSelection([O.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return n.Event.map(this.list.onDidChangeFocus,w=>w.elements.map(T=>T.item))}get onDidChangeSelection(){return n.Event.map(this.list.onDidChangeSelection,w=>({items:w.elements.map(T=>T.item),event:w.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(w){this.list.scrollTop=w}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(w,T=!0){for(let N=0,R=w.length;N<R;N++){const B=w[N];if(!B.hidden)if(B.checked)T=!0;else return!1}return T}getCheckedCount(){let w=0;const T=this.elements;for(let N=0,R=T.length;N<R;N++)T[N].checked&&w++;return w}getVisibleCount(){let w=0;const T=this.elements;for(let N=0,R=T.length;N<R;N++)T[N].hidden||w++;return w}setAllVisibleChecked(w){try{this._fireCheckedEvents=!1,this.elements.forEach(T=>{T.hidden||(T.checked=w)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(w){this.elementDisposables=(0,o.dispose)(this.elementDisposables);const T=N=>this.fireButtonTriggered(N);this.inputElements=w,this.elements=w.reduce((N,R,B)=>{var O,D,A;if(R.type!=="separator"){const P=B&&w[B-1],F=R.label&&R.label.replace(/\r?\n/g," "),W=R.meta&&R.meta.replace(/\r?\n/g," "),M=R.description&&R.description.replace(/\r?\n/g," "),z=R.detail&&R.detail.replace(/\r?\n/g," "),ee=R.ariaLabel||[F,M,z].map(Y=>(0,u.getCodiconAriaLabel)(Y)).filter(Y=>!!Y).join(", "),ie=this.parent.classList.contains("show-checkboxes");N.push(new l({hasCheckbox:ie,index:B,item:R,saneLabel:F,saneMeta:W,saneAriaLabel:ee,saneDescription:M,saneDetail:z,labelHighlights:(O=R.highlights)===null||O===void 0?void 0:O.label,descriptionHighlights:(D=R.highlights)===null||D===void 0?void 0:D.description,detailHighlights:(A=R.highlights)===null||A===void 0?void 0:A.detail,checked:!1,separator:P&&P.type==="separator"?P:void 0,fireButtonTriggered:T}))}return N},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(N=>N.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((N,R,B)=>(N.set(R.item,B),N),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(w=>w.item)}setFocusedElements(w){if(this.list.setFocus(w.filter(T=>this.elementsToIndexes.has(T)).map(T=>this.elementsToIndexes.get(T))),w.length>0){const T=this.list.getFocus()[0];typeof T=="number"&&this.list.reveal(T)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(w){this.list.setSelection(w.filter(T=>this.elementsToIndexes.has(T)).map(T=>this.elementsToIndexes.get(T)))}getCheckedElements(){return this.elements.filter(w=>w.checked).map(w=>w.item)}setCheckedElements(w){try{this._fireCheckedEvents=!1;const T=new Set;for(const N of w)T.add(N);for(const N of this.elements)N.checked=T.has(N.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(w){this.list.getHTMLElement().style.pointerEvents=w?"":"none"}focus(w){if(!this.list.length)return;switch(w===b.Next&&this.list.getFocus()[0]===this.list.length-1&&(w=b.First),w===b.Previous&&this.list.getFocus()[0]===0&&(w=b.Last),w===b.Second&&this.list.length<2&&(w=b.First),w){case b.First:this.list.focusFirst();break;case b.Second:this.list.focusNth(1);break;case b.Last:this.list.focusLast();break;case b.Next:this.list.focusNext();break;case b.Previous:this.list.focusPrevious();break;case b.NextPage:this.list.focusNextPage();break;case b.PreviousPage:this.list.focusPreviousPage();break}const T=this.list.getFocus()[0];typeof T=="number"&&this.list.reveal(T)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(w){this.list.getHTMLElement().style.maxHeight=w?`calc(${Math.floor(w/44)*44}px)`:"",this.list.layout()}filter(w){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(w=w.trim(),!w||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(N=>{N.labelHighlights=void 0,N.descriptionHighlights=void 0,N.detailHighlights=void 0,N.hidden=!1;const R=N.index&&this.inputElements[N.index-1];N.separator=R&&R.type==="separator"?R:void 0});else{let N;this.elements.forEach(R=>{const B=this.matchOnLabel?(0,r.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(w,(0,t.parseLabelWithIcons)(R.saneLabel))):void 0,O=this.matchOnDescription?(0,r.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(w,(0,t.parseLabelWithIcons)(R.saneDescription||""))):void 0,D=this.matchOnDetail?(0,r.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(w,(0,t.parseLabelWithIcons)(R.saneDetail||""))):void 0,A=this.matchOnMeta?(0,r.withNullAsUndefined)((0,t.matchesFuzzyIconAware)(w,(0,t.parseLabelWithIcons)(R.saneMeta||""))):void 0;if(B||O||D||A?(R.labelHighlights=B,R.descriptionHighlights=O,R.detailHighlights=D,R.hidden=!1):(R.labelHighlights=void 0,R.descriptionHighlights=void 0,R.detailHighlights=void 0,R.hidden=!R.item.alwaysShow),R.separator=void 0,!this.sortByLabel){const P=R.index&&this.inputElements[R.index-1];N=P&&P.type==="separator"?P:N,N&&!R.hidden&&(R.separator=N,N=void 0)}})}const T=this.elements.filter(N=>!N.hidden);if(this.sortByLabel&&w){const N=w.toLowerCase();T.sort((R,B)=>C(R,B,N))}return this.elementsToIndexes=T.reduce((N,R,B)=>(N.set(R.item,B),N),new Map),this.list.splice(0,this.list.length,T),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(T.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const w=this.list.getFocusedElements(),T=this.allVisibleChecked(w);for(const N of w)N.checked=!T}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(w){this.container.style.display=w?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,o.dispose)(this.elementDisposables),this.disposables=(0,o.dispose)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(w){this._onButtonTriggered.fire(w)}style(w){this.list.style(w)}}Ie([i.memoize],p.prototype,"onDidChangeFocus",null),Ie([i.memoize],p.prototype,"onDidChangeSelection",null),e.QuickInputList=p;function C(y,w,T){const N=y.labelHighlights||[],R=w.labelHighlights||[];return N.length&&!R.length?-1:!N.length&&R.length?1:N.length===0&&R.length===0?0:(0,h.compareAnything)(y.saneLabel,w.saneLabel,T)}class S{getWidgetAriaLabel(){return(0,s.localize)(0,null)}getAriaLabel(w){return w.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(w){return w.hasCheckbox?"checkbox":"option"}isChecked(w){if(!!w.hasCheckbox)return{value:w.checked,onDidChange:w.onChecked}}}}),define(re[509],se([1,0,7,44,88,341,229,120,352,48,18,10,21,28,4,2,17,78,19,235,226,506,501,508,145]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const p=E.$,C={iconClass:t.Codicon.quickInputBack.classNames,tooltip:(0,f.localize)(0,null),handle:-1};class S extends d.Disposable{constructor(N){super();this.ui=N,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=S.noPromptMessage,this._severity=c.default.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new o.Emitter),this.onDidHideEmitter=this._register(new o.Emitter),this.onDisposeEmitter=this._register(new o.Emitter),this.visibleDisposables=this._register(new d.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(N){this._title=N,this.update()}get description(){return this._description}set description(N){this._description=N,this.update()}get step(){return this._steps}set step(N){this._steps=N,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(N){this._totalSteps=N,this.update()}get enabled(){return this._enabled}set enabled(N){this._enabled=N,this.update()}get contextKey(){return this._contextKey}set contextKey(N){this._contextKey=N,this.update()}get busy(){return this._busy}set busy(N){this._busy=N,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(N){const R=this._ignoreFocusOut!==N&&!r.isIOS;this._ignoreFocusOut=N&&!r.isIOS,R&&this.update()}get buttons(){return this._buttons}set buttons(N){this._buttons=N,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(N){this._validationMessage=N,this.update()}get severity(){return this._severity}set severity(N){this._severity=N,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(N=>{this.buttons.indexOf(N)!==-1&&this.onDidTriggerButtonEmitter.fire(N)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(N=l.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:N})}update(){if(!this.visible)return;const N=this.getTitle();N&&this.ui.title.textContent!==N?this.ui.title.textContent=N:!N&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const R=this.getDescription();if(this.ui.description1.textContent!==R&&(this.ui.description1.textContent=R),this.ui.description2.textContent!==R&&(this.ui.description2.textContent=R),this.busy&&!this.busyDelay&&(this.busyDelay=new i.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const O=this.buttons.filter(A=>A===C);this.ui.leftActionBar.push(O.map((A,P)=>{const F=new u.Action(`id-${P}`,"",A.iconClass||(0,a.getIconClass)(A.iconPath),!0,()=>Le(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(A)}));return F.tooltip=A.tooltip||"",F}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const D=this.buttons.filter(A=>A!==C);this.ui.rightActionBar.push(D.map((A,P)=>{const F=new u.Action(`id-${P}`,"",A.iconClass||(0,a.getIconClass)(A.iconPath),!0,()=>Le(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(A)}));return F.tooltip=A.tooltip||"",F}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const B=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==B&&(this._lastValidationMessage=B,E.reset(this.ui.message,...(0,_.renderLabelWithIcons)(B))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,f.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(N){if(this.ui.inputBox.showDecoration(N),N!==c.default.Ignore){const R=this.ui.inputBox.stylesForType(N);this.ui.message.style.color=R.foreground?`${R.foreground}`:"",this.ui.message.style.backgroundColor=R.background?`${R.background}`:"",this.ui.message.style.border=R.border?`1px solid ${R.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}S.noPromptMessage=(0,f.localize)(1,null);class y extends S{constructor(){super(...arguments);this._value="",this.onDidChangeValueEmitter=this._register(new o.Emitter),this.onWillAcceptEmitter=this._register(new o.Emitter),this.onDidAcceptEmitter=this._register(new o.Emitter),this.onDidCustomEmitter=this._register(new o.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?l.ItemActivation.NONE:l.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new o.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new o.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new o.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=N=>N,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(N){this._quickNavigate=N,this.update()}get value(){return this._value}set value(N){this.doSetValue(N)}doSetValue(N,R){this._value!==N&&(this._value=N,R||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(N){this._ariaLabel=N,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(N){this._placeholder=N,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(N){this.ui.list.scrollTop=N}set items(N){this._items=N,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(N){this._canSelectMany=N,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(N){this._canAcceptInBackground=N}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(N){this._matchOnDescription=N,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(N){this._matchOnDetail=N,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(N){this._matchOnLabel=N,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(N){this._sortByLabel=N,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(N){this._autoFocusOnList=N,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(N){this._keepScrollPosition=N}get itemActivation(){return this._itemActivation}set itemActivation(N){this._itemActivation=N}get activeItems(){return this._activeItems}set activeItems(N){this._activeItems=N,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(N){this._selectedItems=N,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?l.NO_KEY_MODS:this.ui.keyMods}set valueSelection(N){this._valueSelection=N,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(N){this._customButton=N,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(N){this._customButtonLabel=N,this.update()}get customHover(){return this._customButtonHover}set customHover(N){this._customButtonHover=N,this.update()}get ok(){return this._ok}set ok(N){this._ok=N,this.update()}get hideInput(){return!!this._hideInput}set hideInput(N){this._hideInput=N,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(b.QuickInputListFocus.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(N=>{this.doSetValue(N,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(N=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(N=>{switch(N.keyCode){case 18:this.ui.list.focus(b.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),E.EventHelper.stop(N,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(b.QuickInputListFocus.Previous):this.ui.list.focus(b.QuickInputListFocus.Last),this.canSelectMany&&this.ui.list.domFocus(),E.EventHelper.stop(N,!0);break;case 12:this.ui.list.focus(b.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),E.EventHelper.stop(N,!0);break;case 11:this.ui.list.focus(b.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),E.EventHelper.stop(N,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(N.ctrlKey||N.metaKey)&&!N.shiftKey&&!N.altKey&&(this.ui.list.focus(b.QuickInputListFocus.First),E.EventHelper.stop(N,!0));break;case 13:(N.ctrlKey||N.metaKey)&&!N.shiftKey&&!N.altKey&&(this.ui.list.focus(b.QuickInputListFocus.Last),E.EventHelper.stop(N,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(N=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,h.equals)(N,this._activeItems,(R,B)=>R===B)||(this._activeItems=N,this.onDidChangeActiveEmitter.fire(N))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:N,event:R})=>{if(this.canSelectMany){N.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,h.equals)(N,this._selectedItems,(B,O)=>B===O)||(this._selectedItems=N,this.onDidChangeSelectionEmitter.fire(N),N.length&&this.handleAccept(R instanceof MouseEvent&&R.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(N=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,h.equals)(N,this._selectedItems,(R,B)=>R===B)||(this._selectedItems=N,this.onDidChangeSelectionEmitter.fire(N))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(N=>this.onDidTriggerItemButtonEmitter.fire(N))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(N){let R=!1;this.onWillAcceptEmitter.fire({veto:()=>R=!0}),R||this.onDidAcceptEmitter.fire({inBackground:N})}registerQuickNavigation(){return E.addDisposableListener(this.ui.container,E.EventType.KEY_UP,N=>{if(this.canSelectMany||!this._quickNavigate)return;const R=new m.StandardKeyboardEvent(N),B=R.keyCode;this._quickNavigate.keybindings.some(A=>{const[P,F]=A.getParts();return F?!1:P.shiftKey&&B===4?!(R.ctrlKey||R.altKey||R.metaKey):!!(P.altKey&&B===6||P.ctrlKey&&B===5||P.metaKey&&B===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const N=this.keepScrollPosition?this.scrollTop:0,R=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",R&&!this.description);const B={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!R,progressBar:!R,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(B),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const O=this.ariaLabel||this.placeholder||y.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==O&&(this.ui.inputBox.ariaLabel=O),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case l.ItemActivation.NONE:this._itemActivation=l.ItemActivation.FIRST;break;case l.ItemActivation.SECOND:this.ui.list.focus(b.QuickInputListFocus.Second),this._itemActivation=l.ItemActivation.FIRST;break;case l.ItemActivation.LAST:this.ui.list.focus(b.QuickInputListFocus.Last),this._itemActivation=l.ItemActivation.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),B.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(b.QuickInputListFocus.First)),this.keepScrollPosition&&(this.scrollTop=N)}}y.DEFAULT_ARIA_LABEL=(0,f.localize)(3,null);class w extends d.Disposable{constructor(N){super();this.options=N,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new o.Emitter),this.onDidCustomEmitter=this._register(new o.Emitter),this.onDidTriggerButtonEmitter=this._register(new o.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new o.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new o.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=N.idPrefix,this.parentElement=N.container,this.styles=N.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const N=R=>{this.keyMods.ctrlCmd=R.ctrlKey||R.metaKey,this.keyMods.alt=R.altKey};this._register(E.addDisposableListener(window,E.EventType.KEY_DOWN,N,!0)),this._register(E.addDisposableListener(window,E.EventType.KEY_UP,N,!0)),this._register(E.addDisposableListener(window,E.EventType.MOUSE_DOWN,N,!0))}getUI(){if(this.ui)return this.ui;const N=E.append(this.parentElement,p(".quick-input-widget.show-file-icons"));N.tabIndex=-1,N.style.display="none";const R=E.createStyleSheet(N),B=E.append(N,p(".quick-input-titlebar")),O=this._register(new k.ActionBar(B));O.domNode.classList.add("quick-input-left-action-bar");const D=E.append(B,p(".quick-input-title")),A=this._register(new k.ActionBar(B));A.domNode.classList.add("quick-input-right-action-bar");const P=E.append(N,p(".quick-input-description")),F=E.append(N,p(".quick-input-header")),W=E.append(F,p("input.quick-input-check-all"));W.type="checkbox",this._register(E.addStandardDisposableListener(W,E.EventType.CHANGE,Z=>{const j=W.checked;ae.setAllVisibleChecked(j)})),this._register(E.addDisposableListener(W,E.EventType.CLICK,Z=>{(Z.x||Z.y)&&ie.setFocus()}));const M=E.append(F,p(".quick-input-description")),z=E.append(F,p(".quick-input-and-message")),ee=E.append(z,p(".quick-input-filter")),ie=this._register(new g.QuickInputBox(ee));ie.setAttribute("aria-describedby",`${this.idPrefix}message`);const Y=E.append(ee,p(".quick-input-visible-count"));Y.setAttribute("aria-live","polite"),Y.setAttribute("aria-atomic","true");const X=new L.CountBadge(Y,{countFormat:(0,f.localize)(4,null)}),J=E.append(ee,p(".quick-input-count"));J.setAttribute("aria-live","polite");const oe=new L.CountBadge(J,{countFormat:(0,f.localize)(5,null)}),G=E.append(F,p(".quick-input-action")),x=new I.Button(G);x.label=(0,f.localize)(6,null),this._register(x.onDidClick(Z=>{this.onDidAcceptEmitter.fire()}));const V=E.append(F,p(".quick-input-action")),K=new I.Button(V);K.label=(0,f.localize)(7,null),this._register(K.onDidClick(Z=>{this.onDidCustomEmitter.fire()}));const le=E.append(z,p(`#${this.idPrefix}message.quick-input-message`)),ae=this._register(new b.QuickInputList(N,this.idPrefix+"list",this.options));this._register(ae.onChangedAllVisibleChecked(Z=>{W.checked=Z})),this._register(ae.onChangedVisibleCount(Z=>{X.setCount(Z)})),this._register(ae.onChangedCheckedCount(Z=>{oe.setCount(Z)})),this._register(ae.onLeave(()=>{setTimeout(()=>{ie.setFocus(),this.controller instanceof y&&this.controller.canSelectMany&&ae.clearFocus()},0)})),this._register(ae.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const Q=new v.ProgressBar(N);Q.getContainer().classList.add("quick-input-progress");const q=E.trackFocus(N);return this._register(q),this._register(E.addDisposableListener(N,E.EventType.FOCUS,Z=>{this.previousFocusElement=Z.relatedTarget instanceof HTMLElement?Z.relatedTarget:void 0},!0)),this._register(q.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(l.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(E.addDisposableListener(N,E.EventType.FOCUS,Z=>{ie.setFocus()})),this._register(E.addDisposableListener(N,E.EventType.KEY_DOWN,Z=>{const j=new m.StandardKeyboardEvent(Z);switch(j.keyCode){case 3:E.EventHelper.stop(Z,!0),this.onDidAcceptEmitter.fire();break;case 9:E.EventHelper.stop(Z,!0),this.hide(l.QuickInputHideReason.Gesture);break;case 2:if(!j.altKey&&!j.ctrlKey&&!j.metaKey){const $=[".action-label.codicon"];N.classList.contains("show-checkboxes")?$.push("input"):$.push("input[type=text]"),this.getUI().list.isDisplayed()&&$.push(".monaco-list");const H=N.querySelectorAll($.join(", "));j.shiftKey&&j.target===H[0]?(E.EventHelper.stop(Z,!0),H[H.length-1].focus()):!j.shiftKey&&j.target===H[H.length-1]&&(E.EventHelper.stop(Z,!0),H[0].focus())}break}})),this.ui={container:N,styleSheet:R,leftActionBar:O,titleBar:B,title:D,description1:P,description2:M,rightActionBar:A,checkAll:W,filterContainer:ee,inputBox:ie,visibleCountContainer:Y,visibleCount:X,countContainer:J,count:oe,okContainer:G,ok:x,message:le,customButtonContainer:V,customButton:K,list:ae,progressBar:Q,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:Z=>this.show(Z),hide:()=>this.hide(),setVisibilities:Z=>this.setVisibilities(Z),setComboboxAccessibility:Z=>this.setComboboxAccessibility(Z),setEnabled:Z=>this.setEnabled(Z),setContextKey:Z=>this.options.setContextKey(Z)},this.updateStyles(),this.ui}pick(N,R={},B=n.CancellationToken.None){return new Promise((O,D)=>{let A=M=>{A=O,R.onKeyMods&&R.onKeyMods(P.keyMods),O(M)};if(B.isCancellationRequested){A(void 0);return}const P=this.createQuickPick();let F;const W=[P,P.onDidAccept(()=>{if(P.canSelectMany)A(P.selectedItems.slice()),P.hide();else{const M=P.activeItems[0];M&&(A(M),P.hide())}}),P.onDidChangeActive(M=>{const z=M[0];z&&R.onDidFocus&&R.onDidFocus(z)}),P.onDidChangeSelection(M=>{if(!P.canSelectMany){const z=M[0];z&&(A(z),P.hide())}}),P.onDidTriggerItemButton(M=>R.onDidTriggerItemButton&&R.onDidTriggerItemButton(Object.assign(Object.assign({},M),{removeItem:()=>{const z=P.items.indexOf(M.item);if(z!==-1){const ee=P.items.slice(),ie=ee.splice(z,1),Y=P.activeItems.filter(J=>J!==ie[0]),X=P.keepScrollPosition;P.keepScrollPosition=!0,P.items=ee,Y&&(P.activeItems=Y),P.keepScrollPosition=X}}}))),P.onDidChangeValue(M=>{F&&!M&&(P.activeItems.length!==1||P.activeItems[0]!==F)&&(P.activeItems=[F])}),B.onCancellationRequested(()=>{P.hide()}),P.onDidHide(()=>{(0,d.dispose)(W),A(void 0)})];P.title=R.title,P.canSelectMany=!!R.canPickMany,P.placeholder=R.placeHolder,P.ignoreFocusOut=!!R.ignoreFocusLost,P.matchOnDescription=!!R.matchOnDescription,P.matchOnDetail=!!R.matchOnDetail,P.matchOnLabel=R.matchOnLabel===void 0||R.matchOnLabel,P.autoFocusOnList=R.autoFocusOnList===void 0||R.autoFocusOnList,P.quickNavigate=R.quickNavigate,P.hideInput=!!R.hideInput,P.contextKey=R.contextKey,P.busy=!0,Promise.all([N,R.activeItem]).then(([M,z])=>{F=z,P.busy=!1,P.items=M,P.canSelectMany&&(P.selectedItems=M.filter(ee=>ee.type!=="separator"&&ee.picked)),F&&(P.activeItems=[F])}),P.show(),Promise.resolve(N).then(void 0,M=>{D(M),P.hide()})})}createQuickPick(){const N=this.getUI();return new y(N)}show(N){const R=this.getUI();this.onShowEmitter.fire();const B=this.controller;this.controller=N,B&&B.didHide(),this.setEnabled(!0),R.leftActionBar.clear(),R.title.textContent="",R.description1.textContent="",R.description2.textContent="",R.rightActionBar.clear(),R.checkAll.checked=!1,R.inputBox.placeholder="",R.inputBox.password=!1,R.inputBox.showDecoration(c.default.Ignore),R.visibleCount.setCount(0),R.count.setCount(0),E.reset(R.message),R.progressBar.stop(),R.list.setElements([]),R.list.matchOnDescription=!1,R.list.matchOnDetail=!1,R.list.matchOnLabel=!0,R.list.sortByLabel=!0,R.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),R.inputBox.ariaLabel="";const O=this.options.backKeybindingLabel();C.tooltip=O?(0,f.localize)(8,null,O):(0,f.localize)(9,null),R.container.style.display="",this.updateLayout(),R.inputBox.setFocus()}setVisibilities(N){const R=this.getUI();R.title.style.display=N.title?"":"none",R.description1.style.display=N.description&&(N.inputBox||N.checkAll)?"":"none",R.description2.style.display=N.description&&!(N.inputBox||N.checkAll)?"":"none",R.checkAll.style.display=N.checkAll?"":"none",R.filterContainer.style.display=N.inputBox?"":"none",R.visibleCountContainer.style.display=N.visibleCount?"":"none",R.countContainer.style.display=N.count?"":"none",R.okContainer.style.display=N.ok?"":"none",R.customButtonContainer.style.display=N.customButton?"":"none",R.message.style.display=N.message?"":"none",R.progressBar.getContainer().style.display=N.progressBar?"":"none",R.list.display(!!N.list),R.container.classList[N.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(N){if(N!==this.comboboxAccessibility){const R=this.getUI();this.comboboxAccessibility=N,this.comboboxAccessibility?(R.inputBox.setAttribute("role","combobox"),R.inputBox.setAttribute("aria-haspopup","true"),R.inputBox.setAttribute("aria-autocomplete","list"),R.inputBox.setAttribute("aria-activedescendant",R.list.getActiveDescendant()||"")):(R.inputBox.removeAttribute("role"),R.inputBox.removeAttribute("aria-haspopup"),R.inputBox.removeAttribute("aria-autocomplete"),R.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(N){if(N!==this.enabled){this.enabled=N;for(const R of this.getUI().leftActionBar.viewItems)R.getAction().enabled=N;for(const R of this.getUI().rightActionBar.viewItems)R.getAction().enabled=N;this.getUI().checkAll.disabled=!N,this.getUI().ok.enabled=N,this.getUI().list.enabled=N}}hide(N){var R;const B=this.controller;if(B){const O=!((R=this.ui)===null||R===void 0?void 0:R.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!O){let D=this.previousFocusElement;for(;D&&!D.offsetParent;)D=(0,s.withNullAsUndefined)(D.parentElement);(D==null?void 0:D.offsetParent)?(D.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}B.didHide(N)}}layout(N,R){this.dimension=N,this.titleBarOffset=R,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const N=this.ui.container.style,R=Math.min(this.dimension.width*.62,w.MAX_WIDTH);N.width=R+"px",N.marginLeft="-"+R/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(N){this.styles=N,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:N,quickInputBackground:R,quickInputForeground:B,contrastBorder:O,widgetShadow:D}=this.styles.widget;this.ui.titleBar.style.backgroundColor=N?N.toString():"",this.ui.container.style.backgroundColor=R?R.toString():"",this.ui.container.style.color=B?B.toString():"",this.ui.container.style.border=O?`1px solid ${O}`:"",this.ui.container.style.boxShadow=D?`0 0 8px 2px ${D}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const A=[];this.styles.list.pickerGroupBorder&&A.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&A.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(A.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&A.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&A.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&A.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&A.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&A.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),A.push("}"));const P=A.join(`
`);P!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=P)}}}e.QuickInputController=w,w.MAX_WIDTH=600}),define(re[510],se([5,6]),function(U,e){return U.create("vs/editor/browser/controller/textAreaHandler",e)}),define(re[511],se([5,6]),function(U,e){return U.create("vs/editor/browser/coreCommands",e)}),define(re[512],se([5,6]),function(U,e){return U.create("vs/editor/browser/editorExtensions",e)}),define(re[513],se([5,6]),function(U,e){return U.create("vs/editor/browser/widget/codeEditorWidget",e)}),define(re[514],se([5,6]),function(U,e){return U.create("vs/editor/browser/widget/diffEditorWidget",e)}),define(re[515],se([5,6]),function(U,e){return U.create("vs/editor/browser/widget/diffReview",e)}),define(re[516],se([5,6]),function(U,e){return U.create("vs/editor/browser/widget/inlineDiffMargin",e)}),define(re[517],se([1,0,516,7,48,2,3,28]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffMargin=void 0;class v extends I.Disposable{constructor(h,i,n,t,o,d){super();this._viewZoneId=h,this._marginDomNode=i,this.editor=n,this.diff=t,this._contextMenuService=o,this._clipboardService=d,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=_.Codicon.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const r=n.getOption(59),c=n.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${r}px`,this._diffActions.style.lineHeight=`${r}px`,this._marginDomNode.appendChild(this._diffActions);const s=[],a=t.modifiedEndLineNumber===0;s.push(new k.Action("diff.clipboard.copyDeletedContent",a?t.originalEndLineNumber>t.modifiedStartLineNumber?E.localize(0,null):E.localize(1,null):t.originalEndLineNumber>t.modifiedStartLineNumber?E.localize(2,null):E.localize(3,null),void 0,!0,()=>Le(this,void 0,void 0,function*(){const p=new L.Range(t.originalStartLineNumber,1,t.originalEndLineNumber+1,1),C=t.originalModel.getValueInRange(p);yield this._clipboardService.writeText(C)})));let l=0,f;t.originalEndLineNumber>t.modifiedStartLineNumber&&(f=new k.Action("diff.clipboard.copyDeletedLineContent",a?E.localize(4,null,t.originalStartLineNumber):E.localize(5,null,t.originalStartLineNumber),void 0,!0,()=>Le(this,void 0,void 0,function*(){const p=t.originalModel.getLineContent(t.originalStartLineNumber+l);if(p===""){const C=t.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(C===0?`
`:`\r
`)}else yield this._clipboardService.writeText(p)})),s.push(f)),n.getOption(81)||s.push(new k.Action("diff.inline.revertChange",E.localize(6,null),void 0,!0,()=>Le(this,void 0,void 0,function*(){const p=new L.Range(t.originalStartLineNumber,1,t.originalEndLineNumber,t.originalModel.getLineMaxColumn(t.originalEndLineNumber)),C=t.originalModel.getValueInRange(p);if(t.modifiedEndLineNumber===0){const S=n.getModel().getLineMaxColumn(t.modifiedStartLineNumber);n.executeEdits("diffEditor",[{range:new L.Range(t.modifiedStartLineNumber,S,t.modifiedStartLineNumber,S),text:c+C}])}else{const S=n.getModel().getLineMaxColumn(t.modifiedEndLineNumber);n.executeEdits("diffEditor",[{range:new L.Range(t.modifiedStartLineNumber,1,t.modifiedEndLineNumber,S),text:C}])}})));const b=(p,C)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:p,y:C}),getActions:()=>(f&&(f.label=a?E.localize(7,null,t.originalStartLineNumber+l):E.localize(8,null,t.originalStartLineNumber+l)),s),autoSelectFirstItem:!0})};this._register(m.addStandardDisposableListener(this._diffActions,"mousedown",p=>{const{top:C,height:S}=m.getDomNodePagePosition(this._diffActions),y=Math.floor(r/3);p.preventDefault(),b(p.posx,C+S+y)})),this._register(n.onMouseMove(p=>{p.target.type===8||p.target.type===5?p.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,l=this._updateLightBulbPosition(this._marginDomNode,p.event.browserEvent.y,r)):this.visibility=!1:this.visibility=!1})),this._register(n.onMouseDown(p=>{!p.event.rightButton||(p.target.type===8||p.target.type===5)&&p.target.detail.viewZoneId===this._viewZoneId&&(p.event.preventDefault(),l=this._updateLightBulbPosition(this._marginDomNode,p.event.browserEvent.y,r),b(p.event.posx,p.event.posy+r))}))}get visibility(){return this._visibility}set visibility(h){this._visibility!==h&&(this._visibility=h,h?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(h,i,n){const{top:t}=m.getDomNodePagePosition(h),o=i-t,d=Math.floor(o/n),r=d*n;if(this._diffActions.style.top=`${r}px`,this.diff.viewLineCounts){let c=0;for(let s=0;s<this.diff.viewLineCounts.length;s++)if(c+=this.diff.viewLineCounts[s],d<c)return s}return d}}e.InlineDiffMargin=v}),define(re[518],se([5,6]),function(U,e){return U.create("vs/editor/common/config/editorConfigurationSchema",e)}),define(re[519],se([5,6]),function(U,e){return U.create("vs/editor/common/config/editorOptions",e)}),define(re[33],se([1,0,519,17,126,18,41,148]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.filterValidationDecorations=e.EditorLayoutInfoComputer=e.EditorFontLigatures=e.TextEditorCursorStyle=e.stringSet=e.clampedInt=e.boolean=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.MINIMAP_GUTTER_WIDTH=8;class v{constructor(ce){this._values=ce}hasChanged(ce){return this._values[ce]}}e.ConfigurationChangedEvent=v;class u{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=u;class h{constructor(ce,ge,_e,ye){this.id=ce,this.name=ge,this.defaultValue=_e,this.schema=ye}applyUpdate(ce,ge){return n(ce,ge)}compute(ce,ge,_e){return _e}}class i{constructor(ce,ge){this.newValue=ce,this.didChange=ge}}e.ApplyUpdateResult=i;function n(be,ce){if(typeof be!="object"||typeof ce!="object"||!be||!ce)return new i(ce,be!==ce);if(Array.isArray(be)||Array.isArray(ce)){const _e=Array.isArray(be)&&Array.isArray(ce)&&I.equals(be,ce);return new i(ce,_e)}let ge=!1;for(const _e in ce)if(ce.hasOwnProperty(_e)){const ye=n(be[_e],ce[_e]);ye.didChange&&(be[_e]=ye.newValue,ge=!0)}return new i(be,ge)}class t{constructor(ce){this.schema=void 0,this.id=ce,this.name="_never_",this.defaultValue=void 0}applyUpdate(ce,ge){return n(ce,ge)}validate(ce){return this.defaultValue}}class o{constructor(ce,ge,_e,ye){this.id=ce,this.name=ge,this.defaultValue=_e,this.schema=ye}applyUpdate(ce,ge){return n(ce,ge)}validate(ce){return typeof ce=="undefined"?this.defaultValue:ce}compute(ce,ge,_e){return _e}}function d(be,ce){return typeof be=="undefined"?ce:be==="false"?!1:Boolean(be)}e.boolean=d;class r extends o{constructor(ce,ge,_e,ye=void 0){typeof ye!="undefined"&&(ye.type="boolean",ye.default=_e);super(ce,ge,_e,ye)}validate(ce){return d(ce,this.defaultValue)}}function c(be,ce,ge,_e){if(typeof be=="undefined")return ce;let ye=parseInt(be,10);return isNaN(ye)?ce:(ye=Math.max(ge,ye),ye=Math.min(_e,ye),ye|0)}e.clampedInt=c;class s extends o{constructor(ce,ge,_e,ye,Me,ke=void 0){typeof ke!="undefined"&&(ke.type="integer",ke.default=_e,ke.minimum=ye,ke.maximum=Me);super(ce,ge,_e,ke);this.minimum=ye,this.maximum=Me}static clampedInt(ce,ge,_e,ye){return c(ce,ge,_e,ye)}validate(ce){return s.clampedInt(ce,this.defaultValue,this.minimum,this.maximum)}}class a extends o{constructor(ce,ge,_e,ye,Me){typeof Me!="undefined"&&(Me.type="number",Me.default=_e);super(ce,ge,_e,Me);this.validationFn=ye}static clamp(ce,ge,_e){return ce<ge?ge:ce>_e?_e:ce}static float(ce,ge){if(typeof ce=="number")return ce;if(typeof ce=="undefined")return ge;const _e=parseFloat(ce);return isNaN(_e)?ge:_e}validate(ce){return this.validationFn(a.float(ce,this.defaultValue))}}class l extends o{static string(ce,ge){return typeof ce!="string"?ge:ce}constructor(ce,ge,_e,ye=void 0){typeof ye!="undefined"&&(ye.type="string",ye.default=_e);super(ce,ge,_e,ye)}validate(ce){return l.string(ce,this.defaultValue)}}function f(be,ce,ge){return typeof be!="string"||ge.indexOf(be)===-1?ce:be}e.stringSet=f;class g extends o{constructor(ce,ge,_e,ye,Me=void 0){typeof Me!="undefined"&&(Me.type="string",Me.enum=ye,Me.default=_e);super(ce,ge,_e,Me);this._allowedValues=ye}validate(ce){return f(ce,this.defaultValue,this._allowedValues)}}class b extends h{constructor(ce,ge,_e,ye,Me,ke,Te=void 0){typeof Te!="undefined"&&(Te.type="string",Te.enum=Me,Te.default=ye);super(ce,ge,_e,Te);this._allowedValues=Me,this._convert=ke}validate(ce){return typeof ce!="string"?this.defaultValue:this._allowedValues.indexOf(ce)===-1?this.defaultValue:this._convert(ce)}}function p(be){switch(be){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class C extends h{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[E.localize(0,null),E.localize(1,null),E.localize(2,null)],default:"auto",description:E.localize(3,null)})}validate(ce){switch(ce){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(ce,ge,_e){return _e===0?ce.accessibilitySupport:_e}}class S extends h{constructor(){const ce={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",ce,{"editor.comments.insertSpace":{type:"boolean",default:ce.insertSpace,description:E.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:ce.ignoreEmptyLines,description:E.localize(5,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{insertSpace:d(ge.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:d(ge.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function y(be){switch(be){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var w;(function(be){be[be.Line=1]="Line",be[be.Block=2]="Block",be[be.Underline=3]="Underline",be[be.LineThin=4]="LineThin",be[be.BlockOutline=5]="BlockOutline",be[be.UnderlineThin=6]="UnderlineThin"})(w=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function T(be){switch(be){case"line":return w.Line;case"block":return w.Block;case"underline":return w.Underline;case"line-thin":return w.LineThin;case"block-outline":return w.BlockOutline;case"underline-thin":return w.UnderlineThin}}class N extends t{constructor(){super(128)}compute(ce,ge,_e){const ye=["monaco-editor"];return ge.get(33)&&ye.push(ge.get(33)),ce.extraEditorClassName&&ye.push(ce.extraEditorClassName),ge.get(66)==="default"?ye.push("mouse-default"):ge.get(66)==="copy"&&ye.push("mouse-copy"),ge.get(100)&&ye.push("showUnused"),ge.get(126)&&ye.push("showDeprecated"),ye.join(" ")}}class R extends r{constructor(){super(32,"emptySelectionClipboard",!0,{description:E.localize(6,null)})}compute(ce,ge,_e){return _e&&ce.emptySelectionClipboard}}class B extends h{constructor(){const ce={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(35,"find",ce,{"editor.find.cursorMoveOnType":{type:"boolean",default:ce.cursorMoveOnType,description:E.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:ce.seedSearchStringFromSelection,enumDescriptions:[E.localize(8,null),E.localize(9,null),E.localize(10,null)],description:E.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:ce.autoFindInSelection,enumDescriptions:[E.localize(12,null),E.localize(13,null),E.localize(14,null)],description:E.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:ce.globalFindClipboard,description:E.localize(16,null),included:m.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:ce.addExtraSpaceOnTop,description:E.localize(17,null)},"editor.find.loop":{type:"boolean",default:ce.loop,description:E.localize(18,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{cursorMoveOnType:d(ge.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof ce.seedSearchStringFromSelection=="boolean"?ce.seedSearchStringFromSelection?"always":"never":f(ge.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof ce.autoFindInSelection=="boolean"?ce.autoFindInSelection?"always":"never":f(ge.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:d(ge.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:d(ge.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:d(ge.loop,this.defaultValue.loop)}}}class O extends h{constructor(){super(45,"fontLigatures",O.OFF,{anyOf:[{type:"boolean",description:E.localize(19,null)},{type:"string",description:E.localize(20,null)}],description:E.localize(21,null),default:!1})}validate(ce){return typeof ce=="undefined"?this.defaultValue:typeof ce=="string"?ce==="false"?O.OFF:ce==="true"?O.ON:ce:Boolean(ce)?O.ON:O.OFF}}e.EditorFontLigatures=O,O.OFF='"liga" off, "calt" off',O.ON='"liga" on, "calt" on';class D extends t{constructor(){super(44)}compute(ce,ge,_e){return ce.fontInfo}}class A extends o{constructor(){super(46,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:E.localize(22,null)})}validate(ce){const ge=a.float(ce,this.defaultValue);return ge===0?e.EDITOR_FONT_DEFAULTS.fontSize:a.clamp(ge,6,100)}compute(ce,ge,_e){return ce.fontInfo.fontSize}}class P extends h{constructor(){super(47,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:P.MINIMUM_VALUE,maximum:P.MAXIMUM_VALUE,errorMessage:E.localize(23,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:P.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:E.localize(24,null)})}validate(ce){return ce==="normal"||ce==="bold"?ce:String(s.clampedInt(ce,e.EDITOR_FONT_DEFAULTS.fontWeight,P.MINIMUM_VALUE,P.MAXIMUM_VALUE))}}P.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],P.MINIMUM_VALUE=1,P.MAXIMUM_VALUE=1e3;class F extends h{constructor(){const ce={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},ge={type:"string",enum:["peek","gotoAndPeek","goto"],default:ce.multiple,enumDescriptions:[E.localize(25,null),E.localize(26,null),E.localize(27,null)]},_e=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(51,"gotoLocation",ce,{"editor.gotoLocation.multiple":{deprecationMessage:E.localize(28,null)},"editor.gotoLocation.multipleDefinitions":Object.assign({description:E.localize(29,null)},ge),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:E.localize(30,null)},ge),"editor.gotoLocation.multipleDeclarations":Object.assign({description:E.localize(31,null)},ge),"editor.gotoLocation.multipleImplementations":Object.assign({description:E.localize(32,null)},ge),"editor.gotoLocation.multipleReferences":Object.assign({description:E.localize(33,null)},ge),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:ce.alternativeDefinitionCommand,enum:_e,description:E.localize(34,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:ce.alternativeTypeDefinitionCommand,enum:_e,description:E.localize(35,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:ce.alternativeDeclarationCommand,enum:_e,description:E.localize(36,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:ce.alternativeImplementationCommand,enum:_e,description:E.localize(37,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:ce.alternativeReferenceCommand,enum:_e,description:E.localize(38,null)}})}validate(ce){var ge,_e,ye,Me,ke;if(!ce||typeof ce!="object")return this.defaultValue;const Te=ce;return{multiple:f(Te.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(ge=Te.multipleDefinitions)!==null&&ge!==void 0?ge:f(Te.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(_e=Te.multipleTypeDefinitions)!==null&&_e!==void 0?_e:f(Te.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(ye=Te.multipleDeclarations)!==null&&ye!==void 0?ye:f(Te.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(Me=Te.multipleImplementations)!==null&&Me!==void 0?Me:f(Te.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(ke=Te.multipleReferences)!==null&&ke!==void 0?ke:f(Te.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:l.string(Te.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:l.string(Te.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:l.string(Te.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:l.string(Te.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:l.string(Te.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class W extends h{constructor(){const ce={enabled:!0,delay:300,sticky:!0,above:!0};super(53,"hover",ce,{"editor.hover.enabled":{type:"boolean",default:ce.enabled,description:E.localize(39,null)},"editor.hover.delay":{type:"number",default:ce.delay,minimum:0,maximum:1e4,description:E.localize(40,null)},"editor.hover.sticky":{type:"boolean",default:ce.sticky,description:E.localize(41,null)},"editor.hover.above":{type:"boolean",default:ce.above,description:E.localize(42,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{enabled:d(ge.enabled,this.defaultValue.enabled),delay:s.clampedInt(ge.delay,this.defaultValue.delay,0,1e4),sticky:d(ge.sticky,this.defaultValue.sticky),above:d(ge.above,this.defaultValue.above)}}}class M extends t{constructor(){super(131)}compute(ce,ge,_e){return M.computeLayout(ge,{memory:ce.memory,outerWidth:ce.outerWidth,outerHeight:ce.outerHeight,isDominatedByLongLines:ce.isDominatedByLongLines,lineHeight:ce.fontInfo.lineHeight,viewLineCount:ce.viewLineCount,lineNumbersDigitCount:ce.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:ce.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:ce.fontInfo.maxDigitWidth,pixelRatio:ce.pixelRatio})}static computeContainedMinimapLineCount(ce){const ge=ce.height/ce.lineHeight,_e=ce.scrollBeyondLastLine?ge-1:0,ye=(ce.viewLineCount+_e)/(ce.pixelRatio*ce.height),Me=Math.floor(ce.viewLineCount/ye);return{typicalViewportLineCount:ge,extraLinesBeyondLastLine:_e,desiredRatio:ye,minimapLineCount:Me}}static _computeMinimapLayout(ce,ge){const _e=ce.outerWidth,ye=ce.outerHeight,Me=ce.pixelRatio;if(!ce.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Me*ye),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:ye};const ke=ge.stableMinimapLayoutInput,Te=ke&&ce.outerHeight===ke.outerHeight&&ce.lineHeight===ke.lineHeight&&ce.typicalHalfwidthCharacterWidth===ke.typicalHalfwidthCharacterWidth&&ce.pixelRatio===ke.pixelRatio&&ce.scrollBeyondLastLine===ke.scrollBeyondLastLine&&ce.minimap.enabled===ke.minimap.enabled&&ce.minimap.side===ke.minimap.side&&ce.minimap.size===ke.minimap.size&&ce.minimap.showSlider===ke.minimap.showSlider&&ce.minimap.renderCharacters===ke.minimap.renderCharacters&&ce.minimap.maxColumn===ke.minimap.maxColumn&&ce.minimap.scale===ke.minimap.scale&&ce.verticalScrollbarWidth===ke.verticalScrollbarWidth&&ce.isViewportWrapping===ke.isViewportWrapping,Oe=ce.lineHeight,Be=ce.typicalHalfwidthCharacterWidth,xe=ce.scrollBeyondLastLine,Ke=ce.minimap.renderCharacters;let Ze=Me>=2?Math.round(ce.minimap.scale*2):ce.minimap.scale;const we=ce.minimap.maxColumn,Se=ce.minimap.size,De=ce.minimap.side,Pe=ce.verticalScrollbarWidth,ze=ce.viewLineCount,je=ce.remainingWidth,Ye=ce.isViewportWrapping,He=Ke?2:3;let Fe=Math.floor(Me*ye);const Ee=Fe/Me;let Ae=!1,We=!1,Ve=He*Ze,Qe=Ze/Me,et=1;if(Se==="fill"||Se==="fit"){const{typicalViewportLineCount:Ge,extraLinesBeyondLastLine:Xe,desiredRatio:it,minimapLineCount:lt}=M.computeContainedMinimapLineCount({viewLineCount:ze,scrollBeyondLastLine:xe,height:ye,lineHeight:Oe,pixelRatio:Me});if(ze/lt>1)Ae=!0,We=!0,Ze=1,Ve=1,Qe=Ze/Me;else{let dt=!1,at=Ze+1;if(Se==="fit"){const nt=Math.ceil((ze+Xe)*Ve);Ye&&Te&&je<=ge.stableFitRemainingWidth?(dt=!0,at=ge.stableFitMaxMinimapScale):dt=nt>Fe}if(Se==="fill"||dt){Ae=!0;const nt=Ze;Ve=Math.min(Oe*Me,Math.max(1,Math.floor(1/it))),Ye&&Te&&je<=ge.stableFitRemainingWidth&&(at=ge.stableFitMaxMinimapScale),Ze=Math.min(at,Math.max(1,Math.floor(Ve/He))),Ze>nt&&(et=Math.min(2,Ze/nt)),Qe=Ze/Me/et,Fe=Math.ceil(Math.max(Ge,ze+Xe)*Ve),Ye?(ge.stableMinimapLayoutInput=ce,ge.stableFitRemainingWidth=je,ge.stableFitMaxMinimapScale=Ze):(ge.stableMinimapLayoutInput=null,ge.stableFitRemainingWidth=0)}}}const Ue=Math.floor(we*Qe),Ne=Math.min(Ue,Math.max(0,Math.floor((je-Pe-2)*Qe/(Be+Qe)))+e.MINIMAP_GUTTER_WIDTH);let Re=Math.floor(Me*Ne);const qe=Re/Me;Re=Math.floor(Re*et);const $e=Ke?1:2,tt=De==="left"?0:_e-Ne-Pe;return{renderMinimap:$e,minimapLeft:tt,minimapWidth:Ne,minimapHeightIsEditorHeight:Ae,minimapIsSampling:We,minimapScale:Ze,minimapLineHeight:Ve,minimapCanvasInnerWidth:Re,minimapCanvasInnerHeight:Fe,minimapCanvasOuterWidth:qe,minimapCanvasOuterHeight:Ee}}static computeLayout(ce,ge){const _e=ge.outerWidth|0,ye=ge.outerHeight|0,Me=ge.lineHeight|0,ke=ge.lineNumbersDigitCount|0,Te=ge.typicalHalfwidthCharacterWidth,Oe=ge.maxDigitWidth,Be=ge.pixelRatio,xe=ge.viewLineCount,Ke=ce.get(123),Ze=Ke==="inherit"?ce.get(122):Ke,we=Ze==="inherit"?ce.get(118):Ze,Se=ce.get(121),De=ce.get(2),Pe=ge.isDominatedByLongLines,ze=ce.get(50),je=ce.get(60).renderType!==0,Ye=ce.get(61),He=ce.get(94),Fe=ce.get(65),Ee=ce.get(92),Ae=Ee.verticalScrollbarSize,We=Ee.verticalHasArrows,Ve=Ee.arrowSize,Qe=Ee.horizontalScrollbarSize,et=ce.get(58),Ue=ce.get(37);let Ne;if(typeof et=="string"&&/^\d+(\.\d+)?ch$/.test(et)){const ct=parseFloat(et.substr(0,et.length-2));Ne=s.clampedInt(ct*Te,0,0,1e3)}else Ne=s.clampedInt(et,0,0,1e3);Ue&&(Ne+=16);let Re=0;if(je){const ct=Math.max(ke,Ye);Re=Math.round(ct*Oe)}let qe=0;ze&&(qe=Me);let $e=0,tt=$e+qe,Ge=tt+Re,Xe=Ge+Ne;const it=_e-qe-Re-Ne;let lt=!1,ft=!1,dt=-1;De!==2&&(Ze==="inherit"&&Pe?(lt=!0,ft=!0):we==="on"||we==="bounded"?ft=!0:we==="wordWrapColumn"&&(dt=Se));const at=M._computeMinimapLayout({outerWidth:_e,outerHeight:ye,lineHeight:Me,typicalHalfwidthCharacterWidth:Te,pixelRatio:Be,scrollBeyondLastLine:He,minimap:Fe,verticalScrollbarWidth:Ae,viewLineCount:xe,remainingWidth:it,isViewportWrapping:ft},ge.memory||new u);at.renderMinimap!==0&&at.minimapLeft===0&&($e+=at.minimapWidth,tt+=at.minimapWidth,Ge+=at.minimapWidth,Xe+=at.minimapWidth);const nt=it-at.minimapWidth,ht=Math.max(1,Math.floor((nt-Ae-2)/Te)),vt=We?Ve:0;return ft&&(dt=Math.max(1,ht),we==="bounded"&&(dt=Math.min(dt,Se))),{width:_e,height:ye,glyphMarginLeft:$e,glyphMarginWidth:qe,lineNumbersLeft:tt,lineNumbersWidth:Re,decorationsLeft:Ge,decorationsWidth:Ne,contentLeft:Xe,contentWidth:nt,minimap:at,viewportColumn:ht,isWordWrapMinified:lt,isViewportWrapping:ft,wrappingColumn:dt,verticalScrollbarWidth:Ae,horizontalScrollbarHeight:Qe,overviewRuler:{top:vt,width:Ae,height:ye-2*vt,right:0}}}}e.EditorLayoutInfoComputer=M;class z extends h{constructor(){const ce={enabled:!0};super(57,"lightbulb",ce,{"editor.lightbulb.enabled":{type:"boolean",default:ce.enabled,description:E.localize(43,null)}})}validate(ce){return!ce||typeof ce!="object"?this.defaultValue:{enabled:d(ce.enabled,this.defaultValue.enabled)}}}class ee extends h{constructor(){const ce={enabled:!0,toggle:null,fontSize:0,fontFamily:"",displayStyle:"compact"};super(127,"inlayHints",ce,{"editor.inlayHints.enabled":{type:"boolean",default:ce.enabled,description:E.localize(44,null)},"editor.inlayHints.toggle":{type:"string",enum:["show","hide"],markdownEnumDescriptions:[E.localize(45,null),E.localize(46,null)],default:ce.toggle,markdownDescription:E.localize(47,null)},"editor.inlayHints.fontSize":{type:"number",default:ce.fontSize,markdownDescription:E.localize(48,null)},"editor.inlayHints.fontFamily":{type:"string",default:ce.fontFamily,markdownDescription:E.localize(49,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{enabled:d(ge.enabled,this.defaultValue.enabled),toggle:f(ge.toggle,this.defaultValue.toggle,["show","hide"]),fontSize:s.clampedInt(ge.fontSize,this.defaultValue.fontSize,0,100),fontFamily:l.string(ge.fontFamily,this.defaultValue.fontFamily),displayStyle:f(ge.displayStyle,this.defaultValue.displayStyle,["standard","compact"])}}}class ie extends a{constructor(){super(59,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,ce=>a.clamp(ce,0,150),{markdownDescription:E.localize(50,null)})}compute(ce,ge,_e){return ce.fontInfo.lineHeight}}class Y extends h{constructor(){const ce={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(65,"minimap",ce,{"editor.minimap.enabled":{type:"boolean",default:ce.enabled,description:E.localize(51,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[E.localize(52,null),E.localize(53,null),E.localize(54,null)],default:ce.size,description:E.localize(55,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:ce.side,description:E.localize(56,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:ce.showSlider,description:E.localize(57,null)},"editor.minimap.scale":{type:"number",default:ce.scale,minimum:1,maximum:3,enum:[1,2,3],description:E.localize(58,null)},"editor.minimap.renderCharacters":{type:"boolean",default:ce.renderCharacters,description:E.localize(59,null)},"editor.minimap.maxColumn":{type:"number",default:ce.maxColumn,description:E.localize(60,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{enabled:d(ge.enabled,this.defaultValue.enabled),size:f(ge.size,this.defaultValue.size,["proportional","fill","fit"]),side:f(ge.side,this.defaultValue.side,["right","left"]),showSlider:f(ge.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:d(ge.renderCharacters,this.defaultValue.renderCharacters),scale:s.clampedInt(ge.scale,1,1,3),maxColumn:s.clampedInt(ge.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function X(be){return be==="ctrlCmd"?m.isMacintosh?"metaKey":"ctrlKey":"altKey"}class J extends h{constructor(){super(75,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:E.localize(61,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:E.localize(62,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{top:s.clampedInt(ge.top,0,0,1e3),bottom:s.clampedInt(ge.bottom,0,0,1e3)}}}class oe extends h{constructor(){const ce={enabled:!0,cycle:!1};super(76,"parameterHints",ce,{"editor.parameterHints.enabled":{type:"boolean",default:ce.enabled,description:E.localize(63,null)},"editor.parameterHints.cycle":{type:"boolean",default:ce.cycle,description:E.localize(64,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{enabled:d(ge.enabled,this.defaultValue.enabled),cycle:d(ge.cycle,this.defaultValue.cycle)}}}class G extends t{constructor(){super(129)}compute(ce,ge,_e){return ce.pixelRatio}}class x extends h{constructor(){const ce={other:"on",comments:"off",strings:"off"},ge=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[E.localize(65,null),E.localize(66,null),E.localize(67,null)]}];super(79,"quickSuggestions",ce,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{anyOf:ge,default:ce.strings,description:E.localize(68,null)},comments:{anyOf:ge,default:ce.comments,description:E.localize(69,null)},other:{anyOf:ge,default:ce.other,description:E.localize(70,null)}}}],default:ce,markdownDescription:E.localize(71,null)});this.defaultValue=ce}validate(ce){if(typeof ce=="boolean"){const Be=ce?"on":"off";return{comments:Be,strings:Be,other:Be}}if(!ce||typeof ce!="object")return this.defaultValue;const{other:ge,comments:_e,strings:ye}=ce,Me=["on","inline","off"];let ke,Te,Oe;return typeof ge=="boolean"?ke=ge?"on":"off":ke=f(ge,this.defaultValue.other,Me),typeof _e=="boolean"?Te=_e?"on":"off":Te=f(_e,this.defaultValue.comments,Me),typeof ye=="boolean"?Oe=ye?"on":"off":Oe=f(ye,this.defaultValue.strings,Me),{other:ke,comments:Te,strings:Oe}}}class V extends h{constructor(){super(60,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[E.localize(72,null),E.localize(73,null),E.localize(74,null),E.localize(75,null)],default:"on",description:E.localize(76,null)})}validate(ce){let ge=this.defaultValue.renderType,_e=this.defaultValue.renderFn;return typeof ce!="undefined"&&(typeof ce=="function"?(ge=4,_e=ce):ce==="interval"?ge=3:ce==="relative"?ge=2:ce==="on"?ge=1:ge=0),{renderType:ge,renderFn:_e}}}function K(be){const ce=be.get(87);return ce==="editable"?be.get(81):ce!=="on"}e.filterValidationDecorations=K;class le extends h{constructor(){const ce=[],ge={type:"number",description:E.localize(77,null)};super(91,"rulers",ce,{type:"array",items:{anyOf:[ge,{type:["object"],properties:{column:ge,color:{type:"string",description:E.localize(78,null),format:"color-hex"}}}]},default:ce,description:E.localize(79,null)})}validate(ce){if(Array.isArray(ce)){const ge=[];for(let _e of ce)if(typeof _e=="number")ge.push({column:s.clampedInt(_e,0,0,1e4),color:null});else if(_e&&typeof _e=="object"){const ye=_e;ge.push({column:s.clampedInt(ye.column,0,0,1e4),color:ye.color})}return ge.sort((_e,ye)=>_e.column-ye.column),ge}return this.defaultValue}}function ae(be,ce){if(typeof be!="string")return ce;switch(be){case"hidden":return 2;case"visible":return 3;default:return 1}}class Q extends h{constructor(){const ce={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(92,"scrollbar",ce,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[E.localize(80,null),E.localize(81,null),E.localize(82,null)],default:"auto",description:E.localize(83,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[E.localize(84,null),E.localize(85,null),E.localize(86,null)],default:"auto",description:E.localize(87,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:ce.verticalScrollbarSize,description:E.localize(88,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:ce.horizontalScrollbarSize,description:E.localize(89,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:ce.scrollByPage,description:E.localize(90,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce,_e=s.clampedInt(ge.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),ye=s.clampedInt(ge.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:s.clampedInt(ge.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:ae(ge.vertical,this.defaultValue.vertical),horizontal:ae(ge.horizontal,this.defaultValue.horizontal),useShadows:d(ge.useShadows,this.defaultValue.useShadows),verticalHasArrows:d(ge.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:d(ge.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:d(ge.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:d(ge.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:_e,horizontalSliderSize:s.clampedInt(ge.horizontalSliderSize,_e,0,1e3),verticalScrollbarSize:ye,verticalSliderSize:s.clampedInt(ge.verticalSliderSize,ye,0,1e3),scrollByPage:d(ge.scrollByPage,this.defaultValue.scrollByPage)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class q extends h{constructor(){const ce={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(113,"unicodeHighlight",ce,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:ce.nonBasicASCII,description:E.localize(91,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:ce.invisibleCharacters,description:E.localize(92,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:ce.ambiguousCharacters,description:E.localize(93,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:ce.includeComments,description:E.localize(94,null)},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:ce.includeStrings,description:E.localize(95,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:ce.allowedCharacters,description:E.localize(96,null),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:ce.allowedLocales,description:E.localize(97,null)}})}applyUpdate(ce,ge){let _e=!1;ge.allowedCharacters&&(L.equals(ce.allowedCharacters,ge.allowedCharacters)||(ce=Object.assign(Object.assign({},ce),{allowedCharacters:ge.allowedCharacters}),_e=!0)),ge.allowedLocales&&(L.equals(ce.allowedLocales,ge.allowedLocales)||(ce=Object.assign(Object.assign({},ce),{allowedLocales:ge.allowedLocales}),_e=!0));const ye=super.applyUpdate(ce,ge);return _e?new i(ye.newValue,!0):ye}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{nonBasicASCII:H(ge.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:d(ge.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:d(ge.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:H(ge.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:H(ge.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateBooleanMap(ce.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(ce.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(ce,ge){if(typeof ce!="object"||!ce)return ge;const _e={};for(const[ye,Me]of Object.entries(ce))Me===!0&&(_e[ye]=!0);return _e}}class Z extends h{constructor(){const ce={enabled:!0,mode:"subwordSmart"};super(55,"inlineSuggest",ce,{"editor.inlineSuggest.enabled":{type:"boolean",default:ce.enabled,description:E.localize(98,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{enabled:d(ge.enabled,this.defaultValue.enabled),mode:f(ge.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class j extends h{constructor(){const ce={enabled:_.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:_.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(12,"bracketPairColorization",ce,{"editor.bracketPairColorization.enabled":{type:"boolean",default:ce.enabled,markdownDescription:E.localize(99,null)},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:ce.independentColorPoolPerBracketType,description:E.localize(100,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{enabled:d(ge.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:d(ge.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class $ extends h{constructor(){const ce={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",ce,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[E.localize(101,null),E.localize(102,null),E.localize(103,null)],default:ce.bracketPairs,description:E.localize(104,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[E.localize(105,null),E.localize(106,null),E.localize(107,null)],default:ce.bracketPairsHorizontal,description:E.localize(108,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:ce.highlightActiveBracketPair,description:E.localize(109,null)},"editor.guides.indentation":{type:"boolean",default:ce.indentation,description:E.localize(110,null)},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[E.localize(111,null),E.localize(112,null),E.localize(113,null)],default:ce.highlightActiveIndentation,description:E.localize(114,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{bracketPairs:H(ge.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:H(ge.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:d(ge.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:d(ge.indentation,this.defaultValue.indentation),highlightActiveIndentation:H(ge.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function H(be,ce,ge){const _e=ge.indexOf(be);return _e===-1?ce:ge[_e]}class te extends h{constructor(){const ce={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(106,"suggest",ce,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[E.localize(115,null),E.localize(116,null)],default:ce.insertMode,description:E.localize(117,null)},"editor.suggest.filterGraceful":{type:"boolean",default:ce.filterGraceful,description:E.localize(118,null)},"editor.suggest.localityBonus":{type:"boolean",default:ce.localityBonus,description:E.localize(119,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:ce.shareSuggestSelections,markdownDescription:E.localize(120,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:ce.snippetsPreventQuickSuggestions,description:E.localize(121,null)},"editor.suggest.showIcons":{type:"boolean",default:ce.showIcons,description:E.localize(122,null)},"editor.suggest.showStatusBar":{type:"boolean",default:ce.showStatusBar,description:E.localize(123,null)},"editor.suggest.preview":{type:"boolean",default:ce.preview,description:E.localize(124,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:ce.showInlineDetails,description:E.localize(125,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:E.localize(126,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:E.localize(127,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:E.localize(128,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:E.localize(129,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:E.localize(130,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:E.localize(131,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:E.localize(132,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:E.localize(133,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:E.localize(134,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:E.localize(135,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:E.localize(136,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:E.localize(137,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:E.localize(138,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:E.localize(139,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:E.localize(140,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:E.localize(141,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:E.localize(142,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:E.localize(143,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:E.localize(144,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:E.localize(145,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:E.localize(146,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:E.localize(147,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:E.localize(148,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:E.localize(149,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:E.localize(150,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:E.localize(151,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:E.localize(152,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:E.localize(153,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:E.localize(154,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:E.localize(155,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:E.localize(156,null)}})}validate(ce){if(!ce||typeof ce!="object")return this.defaultValue;const ge=ce;return{insertMode:f(ge.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:d(ge.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:d(ge.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:d(ge.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:d(ge.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:d(ge.showIcons,this.defaultValue.showIcons),showStatusBar:d(ge.showStatusBar,this.defaultValue.showStatusBar),preview:d(ge.preview,this.defaultValue.preview),previewMode:f(ge.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:d(ge.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:d(ge.showMethods,this.defaultValue.showMethods),showFunctions:d(ge.showFunctions,this.defaultValue.showFunctions),showConstructors:d(ge.showConstructors,this.defaultValue.showConstructors),showDeprecated:d(ge.showDeprecated,this.defaultValue.showDeprecated),showFields:d(ge.showFields,this.defaultValue.showFields),showVariables:d(ge.showVariables,this.defaultValue.showVariables),showClasses:d(ge.showClasses,this.defaultValue.showClasses),showStructs:d(ge.showStructs,this.defaultValue.showStructs),showInterfaces:d(ge.showInterfaces,this.defaultValue.showInterfaces),showModules:d(ge.showModules,this.defaultValue.showModules),showProperties:d(ge.showProperties,this.defaultValue.showProperties),showEvents:d(ge.showEvents,this.defaultValue.showEvents),showOperators:d(ge.showOperators,this.defaultValue.showOperators),showUnits:d(ge.showUnits,this.defaultValue.showUnits),showValues:d(ge.showValues,this.defaultValue.showValues),showConstants:d(ge.showConstants,this.defaultValue.showConstants),showEnums:d(ge.showEnums,this.defaultValue.showEnums),showEnumMembers:d(ge.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:d(ge.showKeywords,this.defaultValue.showKeywords),showWords:d(ge.showWords,this.defaultValue.showWords),showColors:d(ge.showColors,this.defaultValue.showColors),showFiles:d(ge.showFiles,this.defaultValue.showFiles),showReferences:d(ge.showReferences,this.defaultValue.showReferences),showFolders:d(ge.showFolders,this.defaultValue.showFolders),showTypeParameters:d(ge.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:d(ge.showSnippets,this.defaultValue.showSnippets),showUsers:d(ge.showUsers,this.defaultValue.showUsers),showIssues:d(ge.showIssues,this.defaultValue.showIssues)}}}class ne extends h{constructor(){super(102,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:E.localize(157,null),default:!0,type:"boolean"}})}validate(ce){return!ce||typeof ce!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:d(ce.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class de extends t{constructor(){super(130)}compute(ce,ge,_e){return ge.get(81)?!0:ce.tabFocusMode}}function he(be){switch(be){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class pe extends t{constructor(){super(132)}compute(ce,ge,_e){const ye=ge.get(131);return{isDominatedByLongLines:ce.isDominatedByLongLines,isWordWrapMinified:ye.isWordWrapMinified,isViewportWrapping:ye.isViewportWrapping,wrappingColumn:ye.wrappingColumn}}}const ve="Consolas, 'Courier New', monospace",ue="Menlo, Monaco, 'Courier New', monospace",Ce="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:m.isMacintosh?ue:m.isLinux?Ce:ve,fontWeight:"normal",fontSize:m.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.editorOptionsRegistry=[];function me(be){return e.editorOptionsRegistry[be.id]=be,be}e.EditorOptions={acceptSuggestionOnCommitCharacter:me(new r(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:E.localize(158,null)})),acceptSuggestionOnEnter:me(new g(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",E.localize(159,null),""],markdownDescription:E.localize(160,null)})),accessibilitySupport:me(new C),accessibilityPageSize:me(new s(3,"accessibilityPageSize",10,1,1073741824,{description:E.localize(161,null)})),ariaLabel:me(new l(4,"ariaLabel",E.localize(162,null))),autoClosingBrackets:me(new g(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",E.localize(163,null),E.localize(164,null),""],description:E.localize(165,null)})),autoClosingDelete:me(new g(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",E.localize(166,null),""],description:E.localize(167,null)})),autoClosingOvertype:me(new g(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",E.localize(168,null),""],description:E.localize(169,null)})),autoClosingQuotes:me(new g(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",E.localize(170,null),E.localize(171,null),""],description:E.localize(172,null)})),autoIndent:me(new b(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],p,{enumDescriptions:[E.localize(173,null),E.localize(174,null),E.localize(175,null),E.localize(176,null),E.localize(177,null)],description:E.localize(178,null)})),automaticLayout:me(new r(10,"automaticLayout",!1)),autoSurround:me(new g(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[E.localize(179,null),E.localize(180,null),E.localize(181,null),""],description:E.localize(182,null)})),bracketPairColorization:me(new j),bracketPairGuides:me(new $),stickyTabStops:me(new r(104,"stickyTabStops",!1,{description:E.localize(183,null)})),codeLens:me(new r(14,"codeLens",!0,{description:E.localize(184,null)})),codeLensFontFamily:me(new l(15,"codeLensFontFamily","",{description:E.localize(185,null)})),codeLensFontSize:me(new s(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:E.localize(186,null)})),colorDecorators:me(new r(17,"colorDecorators",!0,{description:E.localize(187,null)})),columnSelection:me(new r(18,"columnSelection",!1,{description:E.localize(188,null)})),comments:me(new S),contextmenu:me(new r(20,"contextmenu",!0)),copyWithSyntaxHighlighting:me(new r(21,"copyWithSyntaxHighlighting",!0,{description:E.localize(189,null)})),cursorBlinking:me(new b(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],y,{description:E.localize(190,null)})),cursorSmoothCaretAnimation:me(new r(23,"cursorSmoothCaretAnimation",!1,{description:E.localize(191,null)})),cursorStyle:me(new b(24,"cursorStyle",w.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],T,{description:E.localize(192,null)})),cursorSurroundingLines:me(new s(25,"cursorSurroundingLines",0,0,1073741824,{description:E.localize(193,null)})),cursorSurroundingLinesStyle:me(new g(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[E.localize(194,null),E.localize(195,null)],description:E.localize(196,null)})),cursorWidth:me(new s(27,"cursorWidth",0,0,1073741824,{markdownDescription:E.localize(197,null)})),disableLayerHinting:me(new r(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:me(new r(29,"disableMonospaceOptimizations",!1)),domReadOnly:me(new r(30,"domReadOnly",!1)),dragAndDrop:me(new r(31,"dragAndDrop",!0,{description:E.localize(198,null)})),emptySelectionClipboard:me(new R),extraEditorClassName:me(new l(33,"extraEditorClassName","")),fastScrollSensitivity:me(new a(34,"fastScrollSensitivity",5,be=>be<=0?5:be,{markdownDescription:E.localize(199,null)})),find:me(new B),fixedOverflowWidgets:me(new r(36,"fixedOverflowWidgets",!1)),folding:me(new r(37,"folding",!0,{description:E.localize(200,null)})),foldingStrategy:me(new g(38,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[E.localize(201,null),E.localize(202,null)],description:E.localize(203,null)})),foldingHighlight:me(new r(39,"foldingHighlight",!0,{description:E.localize(204,null)})),foldingImportsByDefault:me(new r(40,"foldingImportsByDefault",!1,{description:E.localize(205,null)})),foldingMaximumRegions:me(new s(41,"foldingMaximumRegions",5e3,10,65e3,{description:E.localize(206,null)})),unfoldOnClickAfterEndOfLine:me(new r(42,"unfoldOnClickAfterEndOfLine",!1,{description:E.localize(207,null)})),fontFamily:me(new l(43,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:E.localize(208,null)})),fontInfo:me(new D),fontLigatures2:me(new O),fontSize:me(new A),fontWeight:me(new P),formatOnPaste:me(new r(48,"formatOnPaste",!1,{description:E.localize(209,null)})),formatOnType:me(new r(49,"formatOnType",!1,{description:E.localize(210,null)})),glyphMargin:me(new r(50,"glyphMargin",!0,{description:E.localize(211,null)})),gotoLocation:me(new F),hideCursorInOverviewRuler:me(new r(52,"hideCursorInOverviewRuler",!1,{description:E.localize(212,null)})),hover:me(new W),inDiffEditor:me(new r(54,"inDiffEditor",!1)),letterSpacing:me(new a(56,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,be=>a.clamp(be,-5,20),{description:E.localize(213,null)})),lightbulb:me(new z),lineDecorationsWidth:me(new o(58,"lineDecorationsWidth",10)),lineHeight:me(new ie),lineNumbers:me(new V),lineNumbersMinChars:me(new s(61,"lineNumbersMinChars",5,1,300)),linkedEditing:me(new r(62,"linkedEditing",!1,{description:E.localize(214,null)})),links:me(new r(63,"links",!0,{description:E.localize(215,null)})),matchBrackets:me(new g(64,"matchBrackets","always",["always","near","never"],{description:E.localize(216,null)})),minimap:me(new Y),mouseStyle:me(new g(66,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:me(new a(67,"mouseWheelScrollSensitivity",1,be=>be===0?1:be,{markdownDescription:E.localize(217,null)})),mouseWheelZoom:me(new r(68,"mouseWheelZoom",!1,{markdownDescription:E.localize(218,null)})),multiCursorMergeOverlapping:me(new r(69,"multiCursorMergeOverlapping",!0,{description:E.localize(219,null)})),multiCursorModifier:me(new b(70,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],X,{markdownEnumDescriptions:[E.localize(220,null),E.localize(221,null)],markdownDescription:E.localize(222,null)})),multiCursorPaste:me(new g(71,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[E.localize(223,null),E.localize(224,null)],markdownDescription:E.localize(225,null)})),occurrencesHighlight:me(new r(72,"occurrencesHighlight",!0,{description:E.localize(226,null)})),overviewRulerBorder:me(new r(73,"overviewRulerBorder",!0,{description:E.localize(227,null)})),overviewRulerLanes:me(new s(74,"overviewRulerLanes",3,0,3)),padding:me(new J),parameterHints:me(new oe),peekWidgetDefaultFocus:me(new g(77,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[E.localize(228,null),E.localize(229,null)],description:E.localize(230,null)})),definitionLinkOpensInPeek:me(new r(78,"definitionLinkOpensInPeek",!1,{description:E.localize(231,null)})),quickSuggestions:me(new x),quickSuggestionsDelay:me(new s(80,"quickSuggestionsDelay",10,0,1073741824,{description:E.localize(232,null)})),readOnly:me(new r(81,"readOnly",!1)),renameOnType:me(new r(82,"renameOnType",!1,{description:E.localize(233,null),markdownDeprecationMessage:E.localize(234,null)})),renderControlCharacters:me(new r(83,"renderControlCharacters",!0,{description:E.localize(235,null),restricted:!0})),renderFinalNewline:me(new r(84,"renderFinalNewline",!0,{description:E.localize(236,null)})),renderLineHighlight:me(new g(85,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",E.localize(237,null)],description:E.localize(238,null)})),renderLineHighlightOnlyWhenFocus:me(new r(86,"renderLineHighlightOnlyWhenFocus",!1,{description:E.localize(239,null)})),renderValidationDecorations:me(new g(87,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:me(new g(88,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",E.localize(240,null),E.localize(241,null),E.localize(242,null),""],description:E.localize(243,null)})),revealHorizontalRightPadding:me(new s(89,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:me(new r(90,"roundedSelection",!0,{description:E.localize(244,null)})),rulers:me(new le),scrollbar:me(new Q),scrollBeyondLastColumn:me(new s(93,"scrollBeyondLastColumn",5,0,1073741824,{description:E.localize(245,null)})),scrollBeyondLastLine:me(new r(94,"scrollBeyondLastLine",!0,{description:E.localize(246,null)})),scrollPredominantAxis:me(new r(95,"scrollPredominantAxis",!0,{description:E.localize(247,null)})),selectionClipboard:me(new r(96,"selectionClipboard",!0,{description:E.localize(248,null),included:m.isLinux})),selectionHighlight:me(new r(97,"selectionHighlight",!0,{description:E.localize(249,null)})),selectOnLineNumbers:me(new r(98,"selectOnLineNumbers",!0)),showFoldingControls:me(new g(99,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[E.localize(250,null),E.localize(251,null)],description:E.localize(252,null)})),showUnused:me(new r(100,"showUnused",!0,{description:E.localize(253,null)})),showDeprecated:me(new r(126,"showDeprecated",!0,{description:E.localize(254,null)})),inlayHints:me(new ee),snippetSuggestions:me(new g(101,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[E.localize(255,null),E.localize(256,null),E.localize(257,null),E.localize(258,null)],description:E.localize(259,null)})),smartSelect:me(new ne),smoothScrolling:me(new r(103,"smoothScrolling",!1,{description:E.localize(260,null)})),stopRenderingLineAfter:me(new s(105,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:me(new te),inlineSuggest:me(new Z),suggestFontSize:me(new s(107,"suggestFontSize",0,0,1e3,{markdownDescription:E.localize(261,null)})),suggestLineHeight:me(new s(108,"suggestLineHeight",0,0,1e3,{markdownDescription:E.localize(262,null)})),suggestOnTriggerCharacters:me(new r(109,"suggestOnTriggerCharacters",!0,{description:E.localize(263,null)})),suggestSelection:me(new g(110,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[E.localize(264,null),E.localize(265,null),E.localize(266,null)],description:E.localize(267,null)})),tabCompletion:me(new g(111,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[E.localize(268,null),E.localize(269,null),E.localize(270,null)],description:E.localize(271,null)})),tabIndex:me(new s(112,"tabIndex",0,-1,1073741824)),unicodeHighlight:me(new q),unusualLineTerminators:me(new g(114,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[E.localize(272,null),E.localize(273,null),E.localize(274,null)],description:E.localize(275,null)})),useShadowDOM:me(new r(115,"useShadowDOM",!0)),useTabStops:me(new r(116,"useTabStops",!0,{description:E.localize(276,null)})),wordSeparators:me(new l(117,"wordSeparators",k.USUAL_WORD_SEPARATORS,{description:E.localize(277,null)})),wordWrap:me(new g(118,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[E.localize(278,null),E.localize(279,null),E.localize(280,null),E.localize(281,null)],description:E.localize(282,null)})),wordWrapBreakAfterCharacters:me(new l(119,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:me(new l(120,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:me(new s(121,"wordWrapColumn",80,1,1073741824,{markdownDescription:E.localize(283,null)})),wordWrapOverride1:me(new g(122,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:me(new g(123,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:me(new b(124,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],he,{enumDescriptions:[E.localize(284,null),E.localize(285,null),E.localize(286,null),E.localize(287,null)],description:E.localize(288,null)})),wrappingStrategy:me(new g(125,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[E.localize(289,null),E.localize(290,null)],description:E.localize(291,null)})),editorClassName:me(new N),pixelRatio:me(new G),tabFocusMode:me(new de),layoutInfo:me(new M),wrappingInfo:me(new pe)}}),define(re[67],se([1,0,34,32,33]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyFontInfo=void 0;function I(L,_){L instanceof m.FastDomNode?(L.setFontFamily(_.getMassagedFontFamily(E.isSafari?k.EDITOR_FONT_DEFAULTS.fontFamily:null)),L.setFontWeight(_.fontWeight),L.setFontSize(_.fontSize),L.setFontFeatureSettings(_.fontFeatureSettings),L.setLineHeight(_.lineHeight),L.setLetterSpacing(_.letterSpacing)):(L.style.fontFamily=_.getMassagedFontFamily(E.isSafari?k.EDITOR_FONT_DEFAULTS.fontFamily:null),L.style.fontWeight=_.fontWeight,L.style.fontSize=_.fontSize+"px",L.style.fontFeatureSettings=_.fontFeatureSettings,L.style.lineHeight=_.lineHeight+"px",L.style.letterSpacing=_.letterSpacing+"px")}e.applyFontInfo=I}),define(re[520],se([1,0,67]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readCharWidths=e.CharWidthRequest=void 0;class m{constructor(_,v){this.chr=_,this.type=v,this.width=0}fulfill(_){this.width=_}}e.CharWidthRequest=m;class k{constructor(_,v){this._bareFontInfo=_,this._requests=v,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const _=document.createElement("div");_.style.position="absolute",_.style.top="-50000px",_.style.width="50000px";const v=document.createElement("div");(0,E.applyFontInfo)(v,this._bareFontInfo),_.appendChild(v);const u=document.createElement("div");(0,E.applyFontInfo)(u,this._bareFontInfo),u.style.fontWeight="bold",_.appendChild(u);const h=document.createElement("div");(0,E.applyFontInfo)(h,this._bareFontInfo),h.style.fontStyle="italic",_.appendChild(h);const i=[];for(const n of this._requests){let t;n.type===0&&(t=v),n.type===2&&(t=u),n.type===1&&(t=h),t.appendChild(document.createElement("br"));const o=document.createElement("span");k._render(o,n),t.appendChild(o),i.push(o)}this._container=_,this._testElements=i}static _render(_,v){if(v.chr===" "){let u="\xA0";for(let h=0;h<8;h++)u+=u;_.innerText=u}else{let u=v.chr;for(let h=0;h<8;h++)u+=u;_.textContent=u}}_readFromDomElements(){for(let _=0,v=this._requests.length;_<v;_++){const u=this._requests[_],h=this._testElements[_];u.fulfill(h.offsetWidth/256)}}}function I(L,_){new k(L,_).read()}e.readCharWidths=I}),define(re[275],se([1,0,34,4,2,520,33,179]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontMeasurements=void 0;class v extends k.Disposable{constructor(){super();this._onDidChange=this._register(new m.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new u,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new u,this._onDidChange.fire()}_writeToCache(i,n){this._cache.put(i,n),!n.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const i=this._cache.getValues();let n=!1;for(const t of i)t.isTrusted||(n=!0,this._cache.remove(t));n&&this._onDidChange.fire()}readFontInfo(i){if(!this._cache.has(i)){let n=this._actualReadFontInfo(i);(n.typicalHalfwidthCharacterWidth<=2||n.typicalFullwidthCharacterWidth<=2||n.spaceWidth<=2||n.maxDigitWidth<=2)&&(n=new _.FontInfo({pixelRatio:E.PixelRatio.value,fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:n.isMonospace,typicalHalfwidthCharacterWidth:Math.max(n.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(n.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:n.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(n.spaceWidth,5),middotWidth:Math.max(n.middotWidth,5),wsmiddotWidth:Math.max(n.wsmiddotWidth,5),maxDigitWidth:Math.max(n.maxDigitWidth,5)},!1)),this._writeToCache(i,n)}return this._cache.get(i)}_createRequest(i,n,t,o){const d=new I.CharWidthRequest(i,n);return t.push(d),o&&o.push(d),d}_actualReadFontInfo(i){const n=[],t=[],o=this._createRequest("n",0,n,t),d=this._createRequest("\uFF4D",0,n,null),r=this._createRequest(" ",0,n,t),c=this._createRequest("0",0,n,t),s=this._createRequest("1",0,n,t),a=this._createRequest("2",0,n,t),l=this._createRequest("3",0,n,t),f=this._createRequest("4",0,n,t),g=this._createRequest("5",0,n,t),b=this._createRequest("6",0,n,t),p=this._createRequest("7",0,n,t),C=this._createRequest("8",0,n,t),S=this._createRequest("9",0,n,t),y=this._createRequest("\u2192",0,n,t),w=this._createRequest("\uFFEB",0,n,null),T=this._createRequest("\xB7",0,n,t),N=this._createRequest(String.fromCharCode(11825),0,n,null),R="|/-_ilm%";for(let P=0,F=R.length;P<F;P++)this._createRequest(R.charAt(P),0,n,t),this._createRequest(R.charAt(P),1,n,t),this._createRequest(R.charAt(P),2,n,t);(0,I.readCharWidths)(i,n);const B=Math.max(c.width,s.width,a.width,l.width,f.width,g.width,b.width,p.width,C.width,S.width);let O=i.fontFeatureSettings===L.EditorFontLigatures.OFF;const D=t[0].width;for(let P=1,F=t.length;O&&P<F;P++){const W=D-t[P].width;if(W<-.001||W>.001){O=!1;break}}let A=!0;return O&&w.width!==D&&(A=!1),w.width>y.width&&(A=!1),new _.FontInfo({pixelRatio:E.PixelRatio.value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:O,typicalHalfwidthCharacterWidth:o.width,typicalFullwidthCharacterWidth:d.width,canUseHalfwidthRightwardsArrow:A,spaceWidth:r.width,middotWidth:T.width,wsmiddotWidth:N.width,maxDigitWidth:B},!0)}}class u{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(i){const n=i.getId();return!!this._values[n]}get(i){const n=i.getId();return this._values[n]}put(i,n){const t=i.getId();this._keys[t]=i,this._values[t]=n}remove(i){const n=i.getId();delete this._keys[n],delete this._values[n]}getValues(){return Object.keys(this._keys).map(i=>this._values[i])}}e.FontMeasurements=new v}),define(re[521],se([1,0,94,8,67,96,252]),function(U,e,E,m,k,I,L){"use strict";var _;Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const v=(_=window.trustedTypes)===null||_===void 0?void 0:_.createPolicy("domLineBreaksComputer",{createHTML:d=>d});class u{static create(){return new u}constructor(){}createLineBreaksComputer(r,c,s,a){const l=[],f=[];return{addRequest:(g,b,p)=>{l.push(g),f.push(b)},finalize:()=>h(l,r,c,s,a,f)}}}e.DOMLineBreaksComputerFactory=u;function h(d,r,c,s,a,l){var f;function g(M){const z=l[M];if(z){const ee=I.LineInjectedText.applyInjectedText(d[M],z),ie=z.map(X=>X.options),Y=z.map(X=>X.column-1);return new L.ModelLineProjectionData(Y,ie,[ee.length],[],0)}else return null}if(s===-1){const M=[];for(let z=0,ee=d.length;z<ee;z++)M[z]=g(z);return M}const b=Math.round(s*r.typicalHalfwidthCharacterWidth),C=Math.round(c*(a===3?2:a===2?1:0)),S=Math.ceil(r.spaceWidth*C),y=document.createElement("div");(0,k.applyFontInfo)(y,r);const w=(0,E.createStringBuilder)(1e4),T=[],N=[],R=[],B=[],O=[];for(let M=0;M<d.length;M++){const z=I.LineInjectedText.applyInjectedText(d[M],l[M]);let ee=0,ie=0,Y=b;if(a!==0)if(ee=m.firstNonWhitespaceIndex(z),ee===-1)ee=0;else{for(let G=0;G<ee;G++)ie+=z.charCodeAt(G)===9?c-ie%c:1;const oe=Math.ceil(r.spaceWidth*ie);oe+r.typicalFullwidthCharacterWidth>b?(ee=0,ie=0):Y=b-oe}const X=z.substr(ee),J=i(X,ie,c,Y,w,S);T[M]=ee,N[M]=ie,R[M]=X,B[M]=J[0],O[M]=J[1]}const D=w.build(),A=(f=v==null?void 0:v.createHTML(D))!==null&&f!==void 0?f:D;y.innerHTML=A,y.style.position="absolute",y.style.top="10000",y.style.wordWrap="break-word",document.body.appendChild(y);const P=document.createRange(),F=Array.prototype.slice.call(y.children,0),W=[];for(let M=0;M<d.length;M++){const z=F[M],ee=n(P,z,R[M],B[M]);if(ee===null){W[M]=g(M);continue}const ie=T[M],Y=N[M]+C,X=O[M],J=[];for(let V=0,K=ee.length;V<K;V++)J[V]=X[ee[V]];if(ie!==0)for(let V=0,K=ee.length;V<K;V++)ee[V]+=ie;let oe,G;const x=l[M];x?(oe=x.map(V=>V.options),G=x.map(V=>V.column-1)):(oe=null,G=null),W[M]=new L.ModelLineProjectionData(G,oe,ee,J,Y)}return document.body.removeChild(y),W}function i(d,r,c,s,a,l){if(l!==0){const y=String(l);a.appendASCIIString('<div style="text-indent: -'),a.appendASCIIString(y),a.appendASCIIString("px; padding-left: "),a.appendASCIIString(y),a.appendASCIIString("px; box-sizing: border-box; width:")}else a.appendASCIIString('<div style="width:');a.appendASCIIString(String(s)),a.appendASCIIString('px;">');const f=d.length;let g=r,b=0;const p=[],C=[];let S=0<f?d.charCodeAt(0):0;a.appendASCIIString("<span>");for(let y=0;y<f;y++){y!==0&&y%16384==0&&a.appendASCIIString("</span><span>"),p[y]=b,C[y]=g;const w=S;S=y+1<f?d.charCodeAt(y+1):0;let T=1,N=1;switch(w){case 9:T=c-g%c,N=T;for(let R=1;R<=T;R++)R<T?a.write1(160):a.appendASCII(32);break;case 32:S===32?a.write1(160):a.appendASCII(32);break;case 60:a.appendASCIIString("&lt;");break;case 62:a.appendASCIIString("&gt;");break;case 38:a.appendASCIIString("&amp;");break;case 0:a.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:a.write1(65533);break;default:m.isFullWidthCharacter(w)&&N++,w<32?a.write1(9216+w):a.write1(w)}b+=T,g+=N}return a.appendASCIIString("</span>"),p[d.length]=b,C[d.length]=g,a.appendASCIIString("</div>"),[p,C]}function n(d,r,c,s){if(c.length<=1)return null;const a=Array.prototype.slice.call(r.children,0),l=[];try{t(d,a,s,0,null,c.length-1,null,l)}catch(f){return console.log(f),null}return l.length===0?null:(l.push(c.length),l)}function t(d,r,c,s,a,l,f,g){if(s===l||(a=a||o(d,r,c[s],c[s+1]),f=f||o(d,r,c[l],c[l+1]),Math.abs(a[0].top-f[0].top)<=.1))return;if(s+1===l){g.push(l);return}const b=s+(l-s)/2|0,p=o(d,r,c[b],c[b+1]);t(d,r,c,s,a,b,p,g),t(d,r,c,b,p,l,f,g)}function o(d,r,c,s){return d.setStart(r[c/16384|0].firstChild,c%16384),d.setEnd(r[s/16384|0].firstChild,s%16384),d.getClientRects()}}),define(re[522],se([1,0,32,67,182,52]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class L extends I.ViewPart{constructor(i){super(i);this._visibleLines=new k.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let i=0,n=this._dynamicOverlays.length;i<n;i++)if(this._dynamicOverlays[i].shouldRender())return!0;return!1}dispose(){super.dispose();for(let i=0,n=this._dynamicOverlays.length;i<n;i++)this._dynamicOverlays[i].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new _(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(i){this._dynamicOverlays.push(i)}onConfigurationChanged(i){this._visibleLines.onConfigurationChanged(i);const n=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let o=n;o<=t;o++)this._visibleLines.getVisibleLine(o).onConfigurationChanged(i);return!0}onFlushed(i){return this._visibleLines.onFlushed(i)}onFocusChanged(i){return this._isFocused=i.isFocused,!0}onLinesChanged(i){return this._visibleLines.onLinesChanged(i)}onLinesDeleted(i){return this._visibleLines.onLinesDeleted(i)}onLinesInserted(i){return this._visibleLines.onLinesInserted(i)}onScrollChanged(i){return this._visibleLines.onScrollChanged(i)||!0}onTokensChanged(i){return this._visibleLines.onTokensChanged(i)}onZonesChanged(i){return this._visibleLines.onZonesChanged(i)}prepareRender(i){const n=this._dynamicOverlays.filter(t=>t.shouldRender());for(let t=0,o=n.length;t<o;t++){const d=n[t];d.prepareRender(i),d.onDidRender()}}render(i){this._viewOverlaysRender(i),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(i){this._visibleLines.renderLines(i.viewportData)}}e.ViewOverlays=L;class _{constructor(i,n){this._configuration=i,this._lineHeight=this._configuration.options.get(59),this._dynamicOverlays=n,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(i){this._domNode=(0,E.createFastDomNode)(i)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(i){this._lineHeight=this._configuration.options.get(59)}renderLine(i,n,t,o){let d="";for(let r=0,c=this._dynamicOverlays.length;r<c;r++)d+=this._dynamicOverlays[r].render(t.startLineNumber,i);return this._renderedContent===d?!1:(this._renderedContent=d,o.appendASCIIString('<div style="position:absolute;top:'),o.appendASCIIString(String(n)),o.appendASCIIString("px;width:100%;height:"),o.appendASCIIString(String(this._lineHeight)),o.appendASCIIString('px;">'),o.appendASCIIString(d),o.appendASCIIString("</div>"),!0)}layoutLine(i,n){this._domNode&&(this._domNode.setTop(n),this._domNode.setHeight(this._lineHeight))}}e.ViewOverlayLine=_;class v extends L{constructor(i){super(i);const t=this._context.configuration.options.get(131);this._contentWidth=t.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(i){const t=this._context.configuration.options.get(131);return this._contentWidth=t.contentWidth,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollWidthChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i),this.domNode.setWidth(Math.max(i.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=v;class u extends L{constructor(i){super(i);const n=this._context.configuration.options,t=n.get(131);this._contentLeft=t.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,m.applyFontInfo)(this.domNode,n.get(44))}onConfigurationChanged(i){const n=this._context.configuration.options;(0,m.applyFontInfo)(this.domNode,n.get(44));const t=n.get(131);return this._contentLeft=t.contentLeft,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollHeightChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i);const n=Math.min(i.scrollHeight,1e6);this.domNode.setHeight(n),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=u}),define(re[523],se([1,0,7,32,8,67,33,11,3,144]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=void 0;class h{constructor(t,o,d,r,c,s){this.top=t,this.left=o,this.width=d,this.height=r,this.textContent=c,this.textContentClassName=s}}class i{constructor(t){this._context=t;const o=this._context.configuration.options,d=o.get(44);this._cursorStyle=o.get(24),this._lineHeight=o.get(59),this._typicalHalfwidthCharacterWidth=d.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,m.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,I.applyFontInfo)(this._domNode,d),this._domNode.setDisplay("none"),this._position=new _.Position(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(t){const o=this._context.configuration.options,d=o.get(44);return this._cursorStyle=o.get(24),this._lineHeight=o.get(59),this._typicalHalfwidthCharacterWidth=d.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(27),this._typicalHalfwidthCharacterWidth),(0,I.applyFontInfo)(this._domNode,d),!0}onCursorPositionChanged(t){return this._position=t,!0}_getGraphemeAwarePosition(){const{lineNumber:t,column:o}=this._position,d=this._context.viewModel.getLineContent(t),[r,c]=k.getCharContainingOffset(d,o-1);return[new _.Position(t,r+1),d.substring(r,c)]}_prepareRender(t){let o="";const[d,r]=this._getGraphemeAwarePosition();if(this._cursorStyle===L.TextEditorCursorStyle.Line||this._cursorStyle===L.TextEditorCursorStyle.LineThin){const p=t.visibleRangeForPosition(d);if(!p||p.outsideRenderedLine)return null;let C;this._cursorStyle===L.TextEditorCursorStyle.Line?(C=E.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2),C>2&&(o=r)):C=E.computeScreenAwareSize(1);let S=p.left;C>=2&&S>=1&&(S-=1);const y=t.getVerticalOffsetForLineNumber(d.lineNumber)-t.bigNumbersDelta;return new h(y,S,C,this._lineHeight,o,"")}const c=t.linesVisibleRangesForRange(new v.Range(d.lineNumber,d.column,d.lineNumber,d.column+r.length),!1);if(!c||c.length===0)return null;const s=c[0];if(s.outsideRenderedLine||s.ranges.length===0)return null;const a=s.ranges[0],l=a.width<1?this._typicalHalfwidthCharacterWidth:a.width;let f="";if(this._cursorStyle===L.TextEditorCursorStyle.Block){const p=this._context.viewModel.getViewLineData(d.lineNumber);o=r;const C=p.tokens.findTokenIndexAtOffset(d.column-1);f=p.tokens.getClassName(C)}let g=t.getVerticalOffsetForLineNumber(d.lineNumber)-t.bigNumbersDelta,b=this._lineHeight;return(this._cursorStyle===L.TextEditorCursorStyle.Underline||this._cursorStyle===L.TextEditorCursorStyle.UnderlineThin)&&(g+=this._lineHeight-2,b=2),new h(g,a.left,l,b,o,f)}prepareRender(t){this._renderData=this._prepareRender(t)}render(t){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=i}),define(re[276],se([1,0,11,3,74,33]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isModelDecorationInString=e.isModelDecorationInComment=e.isModelDecorationVisible=e.ViewModelDecorations=void 0;class L{constructor(n,t,o,d,r){this.editorId=n,this.model=t,this.configuration=o,this._linesCollection=d,this._coordinatesConverter=r,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(n){const t=n.id;let o=this._decorationsCache[t];if(!o){const d=n.range,r=n.options;let c;if(r.isWholeLine){const s=this._coordinatesConverter.convertModelPositionToViewPosition(new E.Position(d.startLineNumber,1),0),a=this._coordinatesConverter.convertModelPositionToViewPosition(new E.Position(d.endLineNumber,this.model.getLineMaxColumn(d.endLineNumber)),1);c=new m.Range(s.lineNumber,s.column,a.lineNumber,a.column)}else c=this._coordinatesConverter.convertModelRangeToViewRange(d,1);o=new k.ViewModelDecoration(c,r),this._decorationsCache[t]=o}return o}getDecorationsViewportData(n){let t=this._cachedModelDecorationsResolver!==null;return t=t&&n.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(n),this._cachedModelDecorationsResolverViewRange=n),this._cachedModelDecorationsResolver}_getDecorationsViewportData(n){const t=this._linesCollection.getDecorationsInRange(n,this.editorId,(0,I.filterValidationDecorations)(this.configuration.options)),o=n.startLineNumber,d=n.endLineNumber,r=[];let c=0;const s=[];for(let a=o;a<=d;a++)s[a-o]=[];for(let a=0,l=t.length;a<l;a++){const f=t[a],g=f.options;if(!_(this.model,f))continue;const b=this._getOrCreateViewModelDecoration(f),p=b.range;if(r[c++]=b,g.inlineClassName){const C=new k.InlineDecoration(p,g.inlineClassName,g.inlineClassNameAffectsLetterSpacing?3:0),S=Math.max(o,p.startLineNumber),y=Math.min(d,p.endLineNumber);for(let w=S;w<=y;w++)s[w-o].push(C)}if(g.beforeContentClassName&&o<=p.startLineNumber&&p.startLineNumber<=d){const C=new k.InlineDecoration(new m.Range(p.startLineNumber,p.startColumn,p.startLineNumber,p.startColumn),g.beforeContentClassName,1);s[p.startLineNumber-o].push(C)}if(g.afterContentClassName&&o<=p.endLineNumber&&p.endLineNumber<=d){const C=new k.InlineDecoration(new m.Range(p.endLineNumber,p.endColumn,p.endLineNumber,p.endColumn),g.afterContentClassName,2);s[p.endLineNumber-o].push(C)}}return{decorations:r,inlineDecorations:s}}}e.ViewModelDecorations=L;function _(i,n){return!(n.options.hideInCommentTokens&&v(i,n)||n.options.hideInStringTokens&&u(i,n))}e.isModelDecorationVisible=_;function v(i,n){return h(i,n.range,t=>t===1)}e.isModelDecorationInComment=v;function u(i,n){return h(i,n.range,t=>t===2)}e.isModelDecorationInString=u;function h(i,n,t){for(let o=n.startLineNumber;o<=n.endLineNumber;o++){const d=i.tokenization.getLineTokens(o),r=o===n.startLineNumber,c=o===n.endLineNumber;let s=r?d.findTokenIndexAtOffset(n.startColumn-1):0;for(;s<d.getCount()&&!(c&&d.getStartOffset(s)>n.endColumn-1);){if(!t(d.getStandardTokenType(s)))return!1;s++}}return!0}}),define(re[524],se([5,6]),function(U,e){return U.create("vs/editor/common/core/editorColorRegistry",e)}),define(re[525],se([5,6]),function(U,e){return U.create("vs/editor/common/editorContextKeys",e)}),define(re[526],se([5,6]),function(U,e){return U.create("vs/editor/common/languages/modesRegistry",e)}),define(re[527],se([5,6]),function(U,e){return U.create("vs/editor/common/model/editStack",e)}),define(re[277],se([1,0,527,13,24,25,243,116,42]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.isEditStackElement=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0;function u(r){return r.toString()}class h{constructor(c,s,a,l,f,g,b){this.beforeVersionId=c,this.afterVersionId=s,this.beforeEOL=a,this.afterEOL=l,this.beforeCursorState=f,this.afterCursorState=g,this.changes=b}static create(c,s){const a=c.getAlternativeVersionId(),l=t(c);return new h(a,a,l,l,s,s,[])}append(c,s,a,l,f){s.length>0&&(this.changes=(0,L.compressConsecutiveTextChanges)(this.changes,s)),this.afterEOL=a,this.afterVersionId=l,this.afterCursorState=f}static _writeSelectionsSize(c){return 4+4*4*(c?c.length:0)}static _writeSelections(c,s,a){if(_.writeUInt32BE(c,s?s.length:0,a),a+=4,s)for(const l of s)_.writeUInt32BE(c,l.selectionStartLineNumber,a),a+=4,_.writeUInt32BE(c,l.selectionStartColumn,a),a+=4,_.writeUInt32BE(c,l.positionLineNumber,a),a+=4,_.writeUInt32BE(c,l.positionColumn,a),a+=4;return a}static _readSelections(c,s,a){const l=_.readUInt32BE(c,s);s+=4;for(let f=0;f<l;f++){const g=_.readUInt32BE(c,s);s+=4;const b=_.readUInt32BE(c,s);s+=4;const p=_.readUInt32BE(c,s);s+=4;const C=_.readUInt32BE(c,s);s+=4,a.push(new k.Selection(g,b,p,C))}return s}serialize(){let c=4+4+1+1+h._writeSelectionsSize(this.beforeCursorState)+h._writeSelectionsSize(this.afterCursorState)+4;for(const l of this.changes)c+=l.writeSize();const s=new Uint8Array(c);let a=0;_.writeUInt32BE(s,this.beforeVersionId,a),a+=4,_.writeUInt32BE(s,this.afterVersionId,a),a+=4,_.writeUInt8(s,this.beforeEOL,a),a+=1,_.writeUInt8(s,this.afterEOL,a),a+=1,a=h._writeSelections(s,this.beforeCursorState,a),a=h._writeSelections(s,this.afterCursorState,a),_.writeUInt32BE(s,this.changes.length,a),a+=4;for(const l of this.changes)a=l.write(s,a);return s.buffer}static deserialize(c){const s=new Uint8Array(c);let a=0;const l=_.readUInt32BE(s,a);a+=4;const f=_.readUInt32BE(s,a);a+=4;const g=_.readUInt8(s,a);a+=1;const b=_.readUInt8(s,a);a+=1;const p=[];a=h._readSelections(s,a,p);const C=[];a=h._readSelections(s,a,C);const S=_.readUInt32BE(s,a);a+=4;const y=[];for(let w=0;w<S;w++)a=L.TextChange.read(s,a,y);return new h(l,f,g,b,p,C,y)}}e.SingleModelEditStackData=h;class i{constructor(c,s,a,l){this.label=c,this.code=s,this.model=a,this._data=h.create(a,l)}get type(){return 0}get resource(){return I.URI.isUri(this.model)?this.model:this.model.uri}toString(){return(this._data instanceof h?this._data:h.deserialize(this._data)).changes.map(s=>s.toString()).join(", ")}matchesResource(c){return(I.URI.isUri(this.model)?this.model:this.model.uri).toString()===c.toString()}setModel(c){this.model=c}canAppend(c){return this.model===c&&this._data instanceof h}append(c,s,a,l,f){this._data instanceof h&&this._data.append(c,s,a,l,f)}close(){this._data instanceof h&&(this._data=this._data.serialize())}open(){this._data instanceof h||(this._data=h.deserialize(this._data))}undo(){if(I.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof h&&(this._data=this._data.serialize());const c=h.deserialize(this._data);this.model._applyUndo(c.changes,c.beforeEOL,c.beforeVersionId,c.beforeCursorState)}redo(){if(I.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof h&&(this._data=this._data.serialize());const c=h.deserialize(this._data);this.model._applyRedo(c.changes,c.afterEOL,c.afterVersionId,c.afterCursorState)}heapSize(){return this._data instanceof h&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=i;class n{constructor(c,s,a){this.label=c,this.code=s,this.type=1,this._isOpen=!0,this._editStackElementsArr=a.slice(0),this._editStackElementsMap=new Map;for(const l of this._editStackElementsArr){const f=u(l.resource);this._editStackElementsMap.set(f,l)}this._delegate=null}get resources(){return this._editStackElementsArr.map(c=>c.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(c){const s=u(c);return this._editStackElementsMap.has(s)}setModel(c){const s=u(I.URI.isUri(c)?c:c.uri);this._editStackElementsMap.has(s)&&this._editStackElementsMap.get(s).setModel(c)}canAppend(c){if(!this._isOpen)return!1;const s=u(c.uri);return this._editStackElementsMap.has(s)?this._editStackElementsMap.get(s).canAppend(c):!1}append(c,s,a,l,f){const g=u(c.uri);this._editStackElementsMap.get(g).append(c,s,a,l,f)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const c of this._editStackElementsArr)c.undo()}redo(){for(const c of this._editStackElementsArr)c.redo()}heapSize(c){const s=u(c);return this._editStackElementsMap.has(s)?this._editStackElementsMap.get(s).heapSize():0}split(){return this._editStackElementsArr}toString(){let c=[];for(const s of this._editStackElementsArr)c.push(`${(0,v.basename)(s.resource)}: ${s}`);return`{${c.join(", ")}}`}}e.MultiModelEditStackElement=n;function t(r){return r.getEOL()===`
`?0:1}function o(r){return r?r instanceof i||r instanceof n:!1}e.isEditStackElement=o;class d{constructor(c,s){this._model=c,this._undoRedoService=s}pushStackElement(){const c=this._undoRedoService.getLastElement(this._model.uri);o(c)&&c.close()}popStackElement(){const c=this._undoRedoService.getLastElement(this._model.uri);o(c)&&c.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(c){const s=this._undoRedoService.getLastElement(this._model.uri);if(o(s)&&s.canAppend(this._model))return s;const a=new i(E.localize(0,null),"undoredo.textBufferEdit",this._model,c);return this._undoRedoService.pushElement(a),a}pushEOL(c){const s=this._getOrCreateEditStackElement(null);this._model.setEOL(c),s.append(this._model,[],t(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(c,s,a){const l=this._getOrCreateEditStackElement(c),f=this._model.applyEdits(s,!0),g=d._computeCursorState(a,f),b=f.map((p,C)=>({index:C,textChange:p.textChange}));return b.sort((p,C)=>p.textChange.oldPosition===C.textChange.oldPosition?p.index-C.index:p.textChange.oldPosition-C.textChange.oldPosition),l.append(this._model,b.map(p=>p.textChange),t(this._model),this._model.getAlternativeVersionId(),g),g}static _computeCursorState(c,s){try{return c?c(s):null}catch(a){return(0,m.onUnexpectedError)(a),null}}}e.EditStack=d}),define(re[528],se([5,6]),function(U,e){return U.create("vs/editor/common/standaloneStrings",e)}),define(re[75],se([1,0,528]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=e.AccessibilityHelpNLS=void 0;var m;(function(n){n.noSelection=E.localize(0,null),n.singleSelectionRange=E.localize(1,null),n.singleSelection=E.localize(2,null),n.multiSelectionRange=E.localize(3,null),n.multiSelection=E.localize(4,null),n.emergencyConfOn=E.localize(5,null),n.openingDocs=E.localize(6,null),n.readonlyDiffEditor=E.localize(7,null),n.editableDiffEditor=E.localize(8,null),n.readonlyEditor=E.localize(9,null),n.editableEditor=E.localize(10,null),n.changeConfigToOnMac=E.localize(11,null),n.changeConfigToOnWinLinux=E.localize(12,null),n.auto_on=E.localize(13,null),n.auto_off=E.localize(14,null),n.tabFocusModeOnMsg=E.localize(15,null),n.tabFocusModeOnMsgNoKb=E.localize(16,null),n.tabFocusModeOffMsg=E.localize(17,null),n.tabFocusModeOffMsgNoKb=E.localize(18,null),n.openDocMac=E.localize(19,null),n.openDocWinLinux=E.localize(20,null),n.outroMsg=E.localize(21,null),n.showAccessibilityHelpAction=E.localize(22,null)})(m=e.AccessibilityHelpNLS||(e.AccessibilityHelpNLS={}));var k;(function(n){n.inspectTokensAction=E.localize(23,null)})(k=e.InspectTokensNLS||(e.InspectTokensNLS={}));var I;(function(n){n.gotoLineActionLabel=E.localize(24,null)})(I=e.GoToLineNLS||(e.GoToLineNLS={}));var L;(function(n){n.helpQuickAccessActionLabel=E.localize(25,null)})(L=e.QuickHelpNLS||(e.QuickHelpNLS={}));var _;(function(n){n.quickCommandActionLabel=E.localize(26,null),n.quickCommandHelp=E.localize(27,null)})(_=e.QuickCommandNLS||(e.QuickCommandNLS={}));var v;(function(n){n.quickOutlineActionLabel=E.localize(28,null),n.quickOutlineByCategoryActionLabel=E.localize(29,null)})(v=e.QuickOutlineNLS||(e.QuickOutlineNLS={}));var u;(function(n){n.editorViewAccessibleLabel=E.localize(30,null),n.accessibilityHelpMessage=E.localize(31,null)})(u=e.StandaloneCodeEditorNLS||(e.StandaloneCodeEditorNLS={}));var h;(function(n){n.toggleHighContrast=E.localize(32,null)})(h=e.ToggleHighContrastNLS||(e.ToggleHighContrastNLS={}));var i;(function(n){n.bulkEditServiceSummary=E.localize(33,null)})(i=e.StandaloneServicesNLS||(e.StandaloneServicesNLS={}))}),define(re[529],se([5,6]),function(U,e){return U.create("vs/editor/contrib/anchorSelect/browser/anchorSelect",e)}),define(re[530],se([5,6]),function(U,e){return U.create("vs/editor/contrib/bracketMatching/browser/bracketMatching",e)}),define(re[531],se([5,6]),function(U,e){return U.create("vs/editor/contrib/caretOperations/browser/caretOperations",e)}),define(re[532],se([5,6]),function(U,e){return U.create("vs/editor/contrib/caretOperations/browser/transpose",e)}),define(re[533],se([5,6]),function(U,e){return U.create("vs/editor/contrib/clipboard/browser/clipboard",e)}),define(re[534],se([5,6]),function(U,e){return U.create("vs/editor/contrib/codeAction/browser/codeActionCommands",e)}),define(re[535],se([5,6]),function(U,e){return U.create("vs/editor/contrib/codeAction/browser/lightBulbWidget",e)}),define(re[536],se([5,6]),function(U,e){return U.create("vs/editor/contrib/codelens/browser/codelensController",e)}),define(re[537],se([5,6]),function(U,e){return U.create("vs/editor/contrib/colorPicker/browser/colorPickerWidget",e)}),define(re[538],se([5,6]),function(U,e){return U.create("vs/editor/contrib/comment/browser/comment",e)}),define(re[539],se([5,6]),function(U,e){return U.create("vs/editor/contrib/contextmenu/browser/contextmenu",e)}),define(re[540],se([5,6]),function(U,e){return U.create("vs/editor/contrib/cursorUndo/browser/cursorUndo",e)}),define(re[541],se([5,6]),function(U,e){return U.create("vs/editor/contrib/editorState/browser/keybindingCancellation",e)}),define(re[542],se([5,6]),function(U,e){return U.create("vs/editor/contrib/find/browser/findController",e)}),define(re[543],se([5,6]),function(U,e){return U.create("vs/editor/contrib/find/browser/findWidget",e)}),define(re[544],se([5,6]),function(U,e){return U.create("vs/editor/contrib/folding/browser/folding",e)}),define(re[545],se([5,6]),function(U,e){return U.create("vs/editor/contrib/folding/browser/foldingDecorations",e)}),define(re[546],se([5,6]),function(U,e){return U.create("vs/editor/contrib/fontZoom/browser/fontZoom",e)}),define(re[547],se([5,6]),function(U,e){return U.create("vs/editor/contrib/format/browser/format",e)}),define(re[548],se([5,6]),function(U,e){return U.create("vs/editor/contrib/format/browser/formatActions",e)}),define(re[549],se([5,6]),function(U,e){return U.create("vs/editor/contrib/gotoError/browser/gotoError",e)}),define(re[550],se([5,6]),function(U,e){return U.create("vs/editor/contrib/gotoError/browser/gotoErrorWidget",e)}),define(re[551],se([5,6]),function(U,e){return U.create("vs/editor/contrib/gotoSymbol/browser/goToCommands",e)}),define(re[552],se([5,6]),function(U,e){return U.create("vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition",e)}),define(re[553],se([5,6]),function(U,e){return U.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesController",e)}),define(re[554],se([5,6]),function(U,e){return U.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesTree",e)}),define(re[555],se([5,6]),function(U,e){return U.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget",e)}),define(re[556],se([5,6]),function(U,e){return U.create("vs/editor/contrib/gotoSymbol/browser/referencesModel",e)}),define(re[131],se([1,0,13,4,136,2,51,42,8,3,556]),function(U,e,E,m,k,I,L,_,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class i{constructor(r,c,s,a){this.isProviderFirst=r,this.parent=c,this.link=s,this._rangeCallback=a,this.id=k.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var r,c;return(c=(r=this._range)!==null&&r!==void 0?r:this.link.targetSelectionRange)!==null&&c!==void 0?c:this.link.range}set range(r){this._range=r,this._rangeCallback(this)}get ariaMessage(){var r;const c=(r=this.parent.getPreview(this))===null||r===void 0?void 0:r.preview(this.range);return c?(0,h.localize)(1,null,(0,_.basename)(this.uri),this.range.startLineNumber,this.range.startColumn,c.value):(0,h.localize)(0,null,(0,_.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=i;class n{constructor(r){this._modelReference=r}dispose(){this._modelReference.dispose()}preview(r,c=8){const s=this._modelReference.object.textEditorModel;if(!s)return;const{startLineNumber:a,startColumn:l,endLineNumber:f,endColumn:g}=r,b=s.getWordUntilPosition({lineNumber:a,column:l-c}),p=new u.Range(a,b.startColumn,a,l),C=new u.Range(f,g,f,1073741824),S=s.getValueInRange(p).replace(/^\s+/,""),y=s.getValueInRange(r),w=s.getValueInRange(C).replace(/\s+$/,"");return{value:S+y+w,highlight:{start:S.length,end:S.length+y.length}}}}e.FilePreview=n;class t{constructor(r,c){this.parent=r,this.uri=c,this.children=[],this._previews=new L.ResourceMap}dispose(){(0,I.dispose)(this._previews.values()),this._previews.clear()}getPreview(r){return this._previews.get(r.uri)}get ariaMessage(){const r=this.children.length;return r===1?(0,h.localize)(2,null,(0,_.basename)(this.uri),this.uri.fsPath):(0,h.localize)(3,null,r,(0,_.basename)(this.uri),this.uri.fsPath)}resolve(r){return Le(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(let c of this.children)if(!this._previews.has(c.uri))try{const s=yield r.createModelReference(c.uri);this._previews.set(c.uri,new n(s))}catch(s){(0,E.onUnexpectedError)(s)}return this})}}e.FileReferences=t;class o{constructor(r,c){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new m.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=r,this._title=c;const[s]=r;r.sort(o._compareReferences);let a;for(let l of r)if((!a||!_.extUri.isEqual(a.uri,l.uri,!0))&&(a=new t(this,l.uri),this.groups.push(a)),a.children.length===0||o._compareReferences(l,a.children[a.children.length-1])!==0){const f=new i(s===l,a,l,g=>this._onDidChangeReferenceRange.fire(g));this.references.push(f),a.children.push(f)}}dispose(){(0,I.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new o(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,h.localize)(4,null):this.references.length===1?(0,h.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,h.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,h.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(r,c){let{parent:s}=r,a=s.children.indexOf(r),l=s.children.length,f=s.parent.groups.length;return f===1||c&&a+1<l||!c&&a>0?(c?a=(a+1)%l:a=(a+l-1)%l,s.children[a]):(a=s.parent.groups.indexOf(s),c?(a=(a+1)%f,s.parent.groups[a].children[0]):(a=(a+f-1)%f,s.parent.groups[a].children[s.parent.groups[a].children.length-1]))}nearestReference(r,c){const s=this.references.map((a,l)=>({idx:l,prefixLen:v.commonPrefixLength(a.uri.toString(),r.toString()),offsetDist:Math.abs(a.range.startLineNumber-c.lineNumber)*100+Math.abs(a.range.startColumn-c.column)})).sort((a,l)=>a.prefixLen>l.prefixLen?-1:a.prefixLen<l.prefixLen?1:a.offsetDist<l.offsetDist?-1:a.offsetDist>l.offsetDist?1:0)[0];if(s)return this.references[s.idx]}referenceAt(r,c){for(const s of this.references)if(s.uri.toString()===r.toString()&&u.Range.containsPosition(s.range,c))return s}firstReference(){for(const r of this.references)if(r.isProviderFirst)return r;return this.references[0]}static _compareReferences(r,c){return _.extUri.compare(r.uri,c.uri)||u.Range.compareRangesUsingStarts(r.range,c.range)}}e.ReferencesModel=o}),define(re[557],se([5,6]),function(U,e){return U.create("vs/editor/contrib/gotoSymbol/browser/symbolNavigation",e)}),define(re[558],se([5,6]),function(U,e){return U.create("vs/editor/contrib/hover/browser/hover",e)}),define(re[559],se([5,6]),function(U,e){return U.create("vs/editor/contrib/hover/browser/markdownHoverParticipant",e)}),define(re[560],se([5,6]),function(U,e){return U.create("vs/editor/contrib/hover/browser/markerHoverParticipant",e)}),define(re[561],se([5,6]),function(U,e){return U.create("vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace",e)}),define(re[562],se([5,6]),function(U,e){return U.create("vs/editor/contrib/indentation/browser/indentation",e)}),define(re[563],se([5,6]),function(U,e){return U.create("vs/editor/contrib/inlayHints/browser/inlayHintsController",e)}),define(re[564],se([5,6]),function(U,e){return U.create("vs/editor/contrib/inlayHints/browser/inlayHintsHover",e)}),define(re[565],se([5,6]),function(U,e){return U.create("vs/editor/contrib/inlineCompletions/browser/ghostTextController",e)}),define(re[566],se([5,6]),function(U,e){return U.create("vs/editor/contrib/inlineCompletions/browser/ghostTextHoverParticipant",e)}),define(re[567],se([5,6]),function(U,e){return U.create("vs/editor/contrib/lineSelection/browser/lineSelection",e)}),define(re[568],se([5,6]),function(U,e){return U.create("vs/editor/contrib/linesOperations/browser/linesOperations",e)}),define(re[569],se([5,6]),function(U,e){return U.create("vs/editor/contrib/linkedEditing/browser/linkedEditing",e)}),define(re[570],se([5,6]),function(U,e){return U.create("vs/editor/contrib/links/browser/links",e)}),define(re[571],se([5,6]),function(U,e){return U.create("vs/editor/contrib/message/browser/messageController",e)}),define(re[572],se([5,6]),function(U,e){return U.create("vs/editor/contrib/multicursor/browser/multicursor",e)}),define(re[573],se([5,6]),function(U,e){return U.create("vs/editor/contrib/parameterHints/browser/parameterHints",e)}),define(re[574],se([5,6]),function(U,e){return U.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",e)}),define(re[575],se([5,6]),function(U,e){return U.create("vs/editor/contrib/peekView/browser/peekView",e)}),define(re[576],se([5,6]),function(U,e){return U.create("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess",e)}),define(re[577],se([5,6]),function(U,e){return U.create("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess",e)}),define(re[578],se([5,6]),function(U,e){return U.create("vs/editor/contrib/rename/browser/rename",e)}),define(re[579],se([5,6]),function(U,e){return U.create("vs/editor/contrib/rename/browser/renameInputField",e)}),define(re[580],se([5,6]),function(U,e){return U.create("vs/editor/contrib/smartSelect/browser/smartSelect",e)}),define(re[581],se([5,6]),function(U,e){return U.create("vs/editor/contrib/snippet/browser/snippetController2",e)}),define(re[582],se([5,6]),function(U,e){return U.create("vs/editor/contrib/snippet/browser/snippetVariables",e)}),define(re[583],se([5,6]),function(U,e){return U.create("vs/editor/contrib/suggest/browser/suggest",e)}),define(re[584],se([5,6]),function(U,e){return U.create("vs/editor/contrib/suggest/browser/suggestController",e)}),define(re[585],se([5,6]),function(U,e){return U.create("vs/editor/contrib/suggest/browser/suggestWidget",e)}),define(re[586],se([5,6]),function(U,e){return U.create("vs/editor/contrib/suggest/browser/suggestWidgetDetails",e)}),define(re[587],se([5,6]),function(U,e){return U.create("vs/editor/contrib/suggest/browser/suggestWidgetRenderer",e)}),define(re[588],se([5,6]),function(U,e){return U.create("vs/editor/contrib/suggest/browser/suggestWidgetStatus",e)}),define(re[589],se([5,6]),function(U,e){return U.create("vs/editor/contrib/symbolIcons/browser/symbolIcons",e)}),define(re[590],se([5,6]),function(U,e){return U.create("vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode",e)}),define(re[591],se([5,6]),function(U,e){return U.create("vs/editor/contrib/tokenization/browser/tokenization",e)}),define(re[592],se([5,6]),function(U,e){return U.create("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter",e)}),define(re[593],se([5,6]),function(U,e){return U.create("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators",e)}),define(re[594],se([5,6]),function(U,e){return U.create("vs/editor/contrib/wordHighlighter/browser/wordHighlighter",e)}),define(re[595],se([5,6]),function(U,e){return U.create("vs/editor/contrib/wordOperations/browser/wordOperations",e)}),define(re[596],se([5,6]),function(U,e){return U.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(re[597],se([5,6]),function(U,e){return U.create("vs/platform/configuration/common/configurationRegistry",e)}),define(re[598],se([5,6]),function(U,e){return U.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(re[599],se([5,6]),function(U,e){return U.create("vs/platform/contextkey/common/contextkeys",e)}),define(re[600],se([5,6]),function(U,e){return U.create("vs/platform/history/browser/contextScopedHistoryWidget",e)}),define(re[601],se([5,6]),function(U,e){return U.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(re[602],se([5,6]),function(U,e){return U.create("vs/platform/list/browser/listService",e)}),define(re[603],se([5,6]),function(U,e){return U.create("vs/platform/markers/common/markers",e)}),define(re[604],se([5,6]),function(U,e){return U.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(re[605],se([5,6]),function(U,e){return U.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(re[606],se([5,6]),function(U,e){return U.create("vs/platform/theme/common/colorRegistry",e)}),define(re[607],se([5,6]),function(U,e){return U.create("vs/platform/theme/common/iconRegistry",e)}),define(re[608],se([5,6]),function(U,e){return U.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(re[609],se([5,6]),function(U,e){return U.create("vs/platform/workspace/common/workspace",e)}),define(re[610],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenSource=void 0;var E;(function(m){m[m.API=0]="API",m[m.USER=1]="USER"})(E=e.EditorOpenSource||(e.EditorOpenSource={}))}),define(re[611],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifier=void 0;class E{constructor(k){this.value=k,this._lower=k.toLowerCase()}static toKey(k){return typeof k=="string"?k.toLowerCase():k._lower}}e.ExtensionIdentifier=E}),define(re[278],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var E;(function(m){m[m.FILE=0]="FILE",m[m.FOLDER=1]="FOLDER",m[m.ROOT_FOLDER=2]="ROOT_FOLDER"})(E=e.FileKind||(e.FileKind={}))}),define(re[612],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=void 0;function E(m){var k,I;return((k=m.lookupKeybinding("history.showPrevious"))===null||k===void 0?void 0:k.getElectronAccelerator())==="Up"&&((I=m.lookupKeybinding("history.showNext"))===null||I===void 0?void 0:I.getElectronAccelerator())==="Down"}e.showHistoryKeybindingHint=E}),define(re[202],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class E{constructor(k,I=[],L=!1){this.ctor=k,this.staticArguments=I,this.supportsDelayedInstantiation=L}}e.SyncDescriptor=E}),define(re[53],se([1,0,202]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=void 0;const m=[];function k(L,_,v){_ instanceof E.SyncDescriptor||(_=new E.SyncDescriptor(_,[],v)),m.push([L,_])}e.registerSingleton=k;function I(){return m}e.getSingletonServiceDescriptors=I}),define(re[613],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class E{constructor(I){this.incoming=new Map,this.outgoing=new Map,this.data=I}}e.Node=E;class m{constructor(I){this._hashFn=I,this._nodes=new Map}roots(){const I=[];for(let L of this._nodes.values())L.outgoing.size===0&&I.push(L);return I}insertEdge(I,L){const _=this.lookupOrInsertNode(I),v=this.lookupOrInsertNode(L);_.outgoing.set(this._hashFn(L),v),v.incoming.set(this._hashFn(I),_)}removeNode(I){const L=this._hashFn(I);this._nodes.delete(L);for(let _ of this._nodes.values())_.outgoing.delete(L),_.incoming.delete(L)}lookupOrInsertNode(I){const L=this._hashFn(I);let _=this._nodes.get(L);return _||(_=new E(I),this._nodes.set(L,_)),_}isEmpty(){return this._nodes.size===0}toString(){let I=[];for(let[L,_]of this._nodes)I.push(`${L}, (incoming)[${[..._.incoming.keys()].join(", ")}], (outgoing)[${[..._.outgoing.keys()].join(",")}]`);return I.join(`
`)}findCycleSlow(){for(let[I,L]of this._nodes){const _=new Set([I]),v=this._findCycle(L,_);if(v)return v}}_findCycle(I,L){for(let[_,v]of I.outgoing){if(L.has(_))return[...L,_].join(" -> ");L.add(_);const u=this._findCycle(v,L);if(u)return u;L.delete(_)}}}e.Graph=m}),define(re[9],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createDecorator=e.IInstantiationService=e._util=void 0;var E;(function(I){I.serviceIds=new Map,I.DI_TARGET="$di$target",I.DI_DEPENDENCIES="$di$dependencies";function L(_){return _[I.DI_DEPENDENCIES]||[]}I.getServiceDependencies=L})(E=e._util||(e._util={})),e.IInstantiationService=k("instantiationService");function m(I,L,_){L[E.DI_TARGET]===L?L[E.DI_DEPENDENCIES].push({id:I,index:_}):(L[E.DI_DEPENDENCIES]=[{id:I,index:_}],L[E.DI_TARGET]=L)}function k(I){if(E.serviceIds.has(I))return E.serviceIds.get(I);const L=function(_,v,u){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");m(L,_,u)};return L.toString=()=>I,E.serviceIds.set(I,L),L}e.createDecorator=k}),define(re[203],se([1,0,9,25,19]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,E.createDecorator)("IWorkspaceEditService");function I(h){return(0,k.isObject)(h)&&(Boolean(h.newUri)||Boolean(h.oldUri))}function L(h){return(0,k.isObject)(h)&&m.URI.isUri(h.resource)&&(0,k.isObject)(h.edit)}class _{constructor(i){this.metadata=i}static convert(i){return i.edits.map(n=>{if(L(n))return new v(n.resource,n.edit,n.modelVersionId,n.metadata);if(I(n))return new u(n.oldUri,n.newUri,n.options,n.metadata);throw new Error("Unsupported edit")})}}e.ResourceEdit=_;class v extends _{constructor(i,n,t,o){super(o);this.resource=i,this.textEdit=n,this.versionId=t}}e.ResourceTextEdit=v;class u extends _{constructor(i,n,t,o){super(o);this.oldResource=i,this.newResource=n,this.options=t}}e.ResourceFileEdit=u}),define(re[29],se([1,0,9]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,E.createDecorator)("codeEditorService")}),define(re[37],se([1,0,9]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageService=void 0,e.ILanguageService=(0,E.createDecorator)("languageService")}),define(re[89],se([1,0,9]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=e.ID_EDITOR_WORKER_SERVICE=void 0,e.ID_EDITOR_WORKER_SERVICE="editorWorkerService",e.IEditorWorkerService=(0,E.createDecorator)(e.ID_EDITOR_WORKER_SERVICE)}),define(re[20],se([1,0,9]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageFeaturesService=void 0,e.ILanguageFeaturesService=(0,E.createDecorator)("ILanguageFeaturesService")}),define(re[614],se([1,0,430,20,53]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeaturesService=void 0;class I{constructor(){this.referenceProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.renameProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.codeActionProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.definitionProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.typeDefinitionProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.declarationProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.implementationProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.documentSymbolProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.inlayHintsProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.colorProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.codeLensProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.documentFormattingEditProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeFormattingEditProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.onTypeFormattingEditProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.signatureHelpProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.hoverProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.documentHighlightProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.selectionRangeProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.foldingRangeProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.linkProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.inlineCompletionsProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.completionProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.linkedEditingRangeProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new E.LanguageFeatureRegistry(this._score.bind(this)),this.documentSemanticTokensProvider=new E.LanguageFeatureRegistry(this._score.bind(this))}_score(_){var v;return(v=this._notebookTypeResolver)===null||v===void 0?void 0:v.call(this,_)}}e.LanguageFeaturesService=I,(0,k.registerSingleton)(m.ILanguageFeaturesService,I,!0)}),define(re[204],se([1,0,9]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,E.createDecorator)("markerDecorationsService")}),define(re[49],se([1,0,9]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModelService=void 0,e.IModelService=(0,E.createDecorator)("modelService")}),define(re[57],se([1,0,9]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,E.createDecorator)("textModelService")}),define(re[158],se([1,0,9]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,E.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,E.createDecorator)("textResourcePropertiesService")}),define(re[108],se([1,0,9]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,E.createDecorator)("themeService")}),define(re[97],se([1,0,9]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,E.createDecorator)("clipboardService")}),define(re[26],se([1,0,4,55,2,84,19,9]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullCommandService=e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,_.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new E.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(v,u){if(!v)throw new Error("invalid command");if(typeof v=="string"){if(!u)throw new Error("invalid command");return this.registerCommand({id:v,handler:u})}if(v.description){const o=[];for(let r of v.description.args)o.push(r.constraint);const d=v.handler;v.handler=function(r,...c){return(0,L.validateConstraints)(c,o),d(r,...c)}}const{id:h}=v;let i=this._commands.get(h);i||(i=new I.LinkedList,this._commands.set(h,i));let n=i.unshift(v),t=(0,k.toDisposable)(()=>{n();const o=this._commands.get(h);(o==null?void 0:o.isEmpty())&&this._commands.delete(h)});return this._onDidRegisterCommand.fire(h),t}registerCommandAlias(v,u){return e.CommandsRegistry.registerCommand(v,(h,...i)=>h.get(e.ICommandService).executeCommand(u,...i))}getCommand(v){const u=this._commands.get(v);if(!(!u||u.isEmpty()))return m.Iterable.first(u)}getCommands(){const v=new Map;for(const u of this._commands.keys()){const h=this.getCommand(u);h&&v.set(u,h)}return v}},e.NullCommandService={_serviceBrand:void 0,onWillExecuteCommand:()=>k.Disposable.None,onDidExecuteCommand:()=>k.Disposable.None,executeCommand(){return Promise.resolve(void 0)}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(re[279],se([1,0,21,13,25,49,26,19,438,3,20]),function(U,e,E,m,k,I,L,_,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDocumentRangeSemanticTokens=e.hasDocumentRangeSemanticTokensProvider=e.getDocumentSemanticTokens=e.hasDocumentSemanticTokensProvider=e.DocumentSemanticTokensResult=e.isSemanticTokensEdits=e.isSemanticTokens=void 0;function i(g){return g&&!!g.data}e.isSemanticTokens=i;function n(g){return g&&Array.isArray(g.edits)}e.isSemanticTokensEdits=n;class t{constructor(b,p,C){this.provider=b,this.tokens=p,this.error=C}}e.DocumentSemanticTokensResult=t;function o(g,b){return g.has(b)}e.hasDocumentSemanticTokensProvider=o;function d(g,b){const p=g.orderedGroups(b);return p.length>0?p[0]:[]}function r(g,b,p,C,S){return Le(this,void 0,void 0,function*(){const y=d(g,b),w=yield Promise.all(y.map(T=>Le(this,void 0,void 0,function*(){let N,R=null;try{N=yield T.provideDocumentSemanticTokens(b,T===p?C:null,S)}catch(B){R=B,N=null}return(!N||!i(N)&&!n(N))&&(N=null),new t(T,N,R)})));for(const T of w){if(T.error)throw T.error;if(T.tokens)return T}return w.length>0?w[0]:null})}e.getDocumentSemanticTokens=r;function c(g,b){const p=g.orderedGroups(b);return p.length>0?p[0]:null}class s{constructor(b,p){this.provider=b,this.tokens=p}}function a(g,b){return g.has(b)}e.hasDocumentRangeSemanticTokensProvider=a;function l(g,b){const p=g.orderedGroups(b);return p.length>0?p[0]:[]}function f(g,b,p,C){return Le(this,void 0,void 0,function*(){const S=l(g,b),y=yield Promise.all(S.map(w=>Le(this,void 0,void 0,function*(){let T;try{T=yield w.provideDocumentRangeSemanticTokens(b,p,C)}catch(N){(0,m.onUnexpectedExternalError)(N),T=null}return(!T||!i(T))&&(T=null),new s(w,T)})));for(const w of y)if(w.tokens)return w;return y.length>0?y[0]:null})}e.getDocumentRangeSemanticTokens=f,L.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",(g,...b)=>Le(void 0,void 0,void 0,function*(){const[p]=b;(0,_.assertType)(p instanceof k.URI);const C=g.get(I.IModelService).getModel(p);if(!C)return;const{documentSemanticTokensProvider:S}=g.get(h.ILanguageFeaturesService),y=c(S,C);return y?y[0].getLegend():g.get(L.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",p)})),L.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",(g,...b)=>Le(void 0,void 0,void 0,function*(){const[p]=b;(0,_.assertType)(p instanceof k.URI);const C=g.get(I.IModelService).getModel(p);if(!C)return;const{documentSemanticTokensProvider:S}=g.get(h.ILanguageFeaturesService);if(!o(S,C))return g.get(L.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",p,C.getFullModelRange());const y=yield r(S,C,null,null,E.CancellationToken.None);if(!y)return;const{provider:w,tokens:T}=y;if(!T||!i(T))return;const N=(0,v.encodeSemanticTokensDto)({id:0,type:"full",data:T.data});return T.resultId&&w.releaseDocumentSemanticTokens(T.resultId),N})),L.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",(g,...b)=>Le(void 0,void 0,void 0,function*(){const[p,C]=b;(0,_.assertType)(p instanceof k.URI);const S=g.get(I.IModelService).getModel(p);if(!S)return;const{documentRangeSemanticTokensProvider:y}=g.get(h.ILanguageFeaturesService),w=l(y,S);if(w.length===0)return;if(w.length===1)return w[0].getLegend();if(!C||!u.Range.isIRange(C))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),w[0].getLegend();const T=yield f(y,S,u.Range.lift(C),E.CancellationToken.None);if(!!T)return T.provider.getLegend()})),L.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",(g,...b)=>Le(void 0,void 0,void 0,function*(){const[p,C]=b;(0,_.assertType)(p instanceof k.URI),(0,_.assertType)(u.Range.isIRange(C));const S=g.get(I.IModelService).getModel(p);if(!S)return;const{documentRangeSemanticTokensProvider:y}=g.get(h.ILanguageFeaturesService),w=yield f(y,S,u.Range.lift(C),E.CancellationToken.None);if(!(!w||!w.tokens))return(0,v.encodeSemanticTokensDto)({id:0,type:"full",data:w.tokens.data})}))}),define(re[280],se([1,0,21,13,2,19,25,49,26,20]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeLensModel=e.CodeLensModel=void 0;class h{constructor(){this.lenses=[],this._disposables=new k.DisposableStore}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(t,o){this._disposables.add(t);for(const d of t.lenses)this.lenses.push({symbol:d,provider:o})}}e.CodeLensModel=h;function i(n,t,o){return Le(this,void 0,void 0,function*(){const d=n.ordered(t),r=new Map,c=new h,s=d.map((a,l)=>Le(this,void 0,void 0,function*(){r.set(a,l);try{const f=yield Promise.resolve(a.provideCodeLenses(t,o));f&&c.add(f,a)}catch(f){(0,m.onUnexpectedExternalError)(f)}}));return yield Promise.all(s),c.lenses=c.lenses.sort((a,l)=>a.symbol.range.startLineNumber<l.symbol.range.startLineNumber?-1:a.symbol.range.startLineNumber>l.symbol.range.startLineNumber?1:r.get(a.provider)<r.get(l.provider)?-1:r.get(a.provider)>r.get(l.provider)?1:a.symbol.range.startColumn<l.symbol.range.startColumn?-1:a.symbol.range.startColumn>l.symbol.range.startColumn?1:0),c})}e.getCodeLensModel=i,v.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(n,...t){let[o,d]=t;(0,I.assertType)(L.URI.isUri(o)),(0,I.assertType)(typeof d=="number"||!d);const{codeLensProvider:r}=n.get(u.ILanguageFeaturesService),c=n.get(_.IModelService).getModel(o);if(!c)throw(0,m.illegalArgument)();const s=[],a=new k.DisposableStore;return i(r,c,E.CancellationToken.None).then(l=>{a.add(l);let f=[];for(const g of l.lenses)d==null||Boolean(g.symbol.command)?s.push(g.symbol):d-- >0&&g.provider.resolveCodeLens&&f.push(Promise.resolve(g.provider.resolveCodeLens(c,g.symbol,E.CancellationToken.None)).then(b=>s.push(b||g.symbol)));return Promise.all(f)}).then(()=>s).finally(()=>{setTimeout(()=>a.dispose(),100)})})}),define(re[281],se([1,0,21,13,25,3,49,26,20]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColorPresentations=e.getColors=void 0;function u(i,n,t){const o=[],r=i.ordered(n).reverse().map(c=>Promise.resolve(c.provideDocumentColors(n,t)).then(s=>{if(Array.isArray(s))for(let a of s)o.push({colorInfo:a,provider:c})}));return Promise.all(r).then(()=>o)}e.getColors=u;function h(i,n,t,o){return Promise.resolve(t.provideColorPresentations(i,n,o))}e.getColorPresentations=h,_.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(i,...n){const[t]=n;if(!(t instanceof k.URI))throw(0,m.illegalArgument)();const{colorProvider:o}=i.get(v.ILanguageFeaturesService),d=i.get(L.IModelService).getModel(t);if(!d)throw(0,m.illegalArgument)();const r=[],s=o.ordered(d).reverse().map(a=>Promise.resolve(a.provideDocumentColors(d,E.CancellationToken.None)).then(l=>{if(Array.isArray(l))for(let f of l)r.push({range:f.range,color:[f.color.red,f.color.green,f.color.blue,f.color.alpha]})}));return Promise.all(s).then(()=>r)}),_.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(i,...n){const[t,o]=n,{uri:d,range:r}=o;if(!(d instanceof k.URI)||!Array.isArray(t)||t.length!==4||!I.Range.isIRange(r))throw(0,m.illegalArgument)();const[c,s,a,l]=t,{colorProvider:f}=i.get(v.ILanguageFeaturesService),g=i.get(L.IModelService).getModel(d);if(!g)throw(0,m.illegalArgument)();const b={range:r,color:{red:c,green:s,blue:a,alpha:l}},p=[],S=f.ordered(g).reverse().map(y=>Promise.resolve(y.provideColorPresentations(g,b,E.CancellationToken.None)).then(w=>{Array.isArray(w)&&p.push(...w)}));return Promise.all(S).then(()=>p)})}),define(re[615],se([1,0,18,21,13,2,19,25,3,49,26,20]),function(U,e,E,m,k,I,L,_,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLinks=e.LinksList=e.Link=void 0;class n{constructor(r,c){this._link=r,this._provider=c}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(r){return Le(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,r)).then(c=>(this._link=c||this._link,this._link.url?this.resolve(r):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}e.Link=n;class t{constructor(r){this._disposables=new I.DisposableStore;let c=[];for(const[s,a]of r){const l=s.links.map(f=>new n(f,a));c=t._union(c,l),(0,I.isDisposable)(s)&&this._disposables.add(s)}this.links=c}dispose(){this._disposables.dispose(),this.links.length=0}static _union(r,c){let s=[],a,l,f,g;for(a=0,f=0,l=r.length,g=c.length;a<l&&f<g;){const b=r[a],p=c[f];if(v.Range.areIntersectingOrTouching(b.range,p.range)){a++;continue}v.Range.compareRangesUsingStarts(b.range,p.range)<0?(s.push(b),a++):(s.push(p),f++)}for(;a<l;a++)s.push(r[a]);for(;f<g;f++)s.push(c[f]);return s}}e.LinksList=t;function o(d,r,c){const s=[],a=d.ordered(r).reverse().map((l,f)=>Promise.resolve(l.provideLinks(r,c)).then(g=>{g&&(s[f]=[g,l])},k.onUnexpectedExternalError));return Promise.all(a).then(()=>{const l=new t((0,E.coalesce)(s));return c.isCancellationRequested?(l.dispose(),new t([])):l})}e.getLinks=o,h.CommandsRegistry.registerCommand("_executeLinkProvider",(d,...r)=>Le(void 0,void 0,void 0,function*(){let[c,s]=r;(0,L.assertType)(c instanceof _.URI),typeof s!="number"&&(s=0);const{linkProvider:a}=d.get(i.ILanguageFeaturesService),l=d.get(u.IModelService).getModel(c);if(!l)return[];const f=yield o(a,l,m.CancellationToken.None);if(!f)return[];for(let b=0;b<Math.min(s,f.links.length);b++)yield f.links[b].resolve(m.CancellationToken.None);const g=f.links.slice(0);return f.dispose(),g}))}),define(re[35],se([1,0,9]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageTagSettingPlainKey=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.IConfigurationService=void 0,e.IConfigurationService=(0,E.createDecorator)("configurationService");function m(u,h){const i=Object.create(null);for(let n in u)k(i,n,u[n],h);return i}e.toValuesTree=m;function k(u,h,i,n){const t=h.split("."),o=t.pop();let d=u;for(let r=0;r<t.length;r++){let c=t[r],s=d[c];switch(typeof s){case"undefined":s=d[c]=Object.create(null);break;case"object":break;default:n(`Ignoring ${h} as ${t.slice(0,r+1).join(".")} is ${JSON.stringify(s)}`);return}d=s}if(typeof d=="object"&&d!==null)try{d[o]=i}catch{n(`Ignoring ${h} as ${t.join(".")} is ${JSON.stringify(d)}`)}else n(`Ignoring ${h} as ${t.join(".")} is ${JSON.stringify(d)}`)}e.addToValueTree=k;function I(u,h){const i=h.split(".");L(u,i)}e.removeFromValueTree=I;function L(u,h){const i=h.shift();if(h.length===0){delete u[i];return}if(Object.keys(u).indexOf(i)!==-1){const n=u[i];typeof n=="object"&&!Array.isArray(n)&&(L(n,h),Object.keys(n).length===0&&delete u[i])}}function _(u,h,i){function n(d,r){let c=d;for(const s of r){if(typeof c!="object"||c===null)return;c=c[s]}return c}const t=h.split("."),o=n(u,t);return typeof o=="undefined"?i:o}e.getConfigurationValue=_;function v(u){return u.replace(/[\[\]]/g,"")}e.getLanguageTagSettingPlainKey=v}),define(re[16],se([1,0,17,8,9]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.SET_CONTEXT_COMMAND_ID=e.IContextKeyService=e.RawContextKey=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.expressionsAreEqualWithConstantSubstitution=e.ContextKeyExpr=void 0;const I=new Map;I.set("false",!1),I.set("true",!0),I.set("isMac",E.isMacintosh),I.set("isLinux",E.isLinux),I.set("isWindows",E.isWindows),I.set("isWeb",E.isWeb),I.set("isMacNative",E.isMacintosh&&!E.isWeb),I.set("isEdge",E.isEdge),I.set("isFirefox",E.isFirefox),I.set("isChrome",E.isChrome),I.set("isSafari",E.isSafari);const L=Object.prototype.hasOwnProperty;class _{static has(D){return n.create(D)}static equals(D,A){return t.create(D,A)}static regex(D,A){return b.create(D,A)}static not(D){return c.create(D)}static and(...D){return S.create(D,null)}static or(...D){return y.create(D,null,!0)}static deserialize(D,A=!1){if(!!D)return this._deserializeOrExpression(D,A)}static _deserializeOrExpression(D,A){let P=D.split("||");return y.create(P.map(F=>this._deserializeAndExpression(F,A)),null,!0)}static _deserializeAndExpression(D,A){let P=D.split("&&");return S.create(P.map(F=>this._deserializeOne(F,A)),null)}static _deserializeOne(D,A){if(D=D.trim(),D.indexOf("!=")>=0){let P=D.split("!=");return r.create(P[0].trim(),this._deserializeValue(P[1],A))}if(D.indexOf("==")>=0){let P=D.split("==");return t.create(P[0].trim(),this._deserializeValue(P[1],A))}if(D.indexOf("=~")>=0){let P=D.split("=~");return b.create(P[0].trim(),this._deserializeRegexValue(P[1],A))}if(D.indexOf(" in ")>=0){let P=D.split(" in ");return o.create(P[0].trim(),P[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(D)){const P=D.split(">=");return l.create(P[0].trim(),P[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(D)){const P=D.split(">");return a.create(P[0].trim(),P[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(D)){const P=D.split("<=");return g.create(P[0].trim(),P[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(D)){const P=D.split("<");return f.create(P[0].trim(),P[1].trim())}return/^\!\s*/.test(D)?c.create(D.substr(1).trim()):n.create(D)}static _deserializeValue(D,A){if(D=D.trim(),D==="true")return!0;if(D==="false")return!1;let P=/^'([^']*)'$/.exec(D);return P?P[1].trim():D}static _deserializeRegexValue(D,A){if((0,m.isFalsyOrWhitespace)(D)){if(A)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let P=D.indexOf("/"),F=D.lastIndexOf("/");if(P===F||P<0){if(A)throw new Error(`bad regexp-value '${D}', missing /-enclosure`);return console.warn(`bad regexp-value '${D}', missing /-enclosure`),null}let W=D.slice(P+1,F),M=D[F+1]==="i"?"i":"";try{return new RegExp(W,M)}catch(z){if(A)throw new Error(`bad regexp-value '${D}', parse error: ${z}`);return console.warn(`bad regexp-value '${D}', parse error: ${z}`),null}}}e.ContextKeyExpr=_;function v(O,D){const A=O?O.substituteConstants():void 0,P=D?D.substituteConstants():void 0;return!A&&!P?!0:!A||!P?!1:A.equals(P)}e.expressionsAreEqualWithConstantSubstitution=v;function u(O,D){return O.cmp(D)}class h{constructor(){this.type=0}cmp(D){return this.type-D.type}equals(D){return D.type===this.type}substituteConstants(){return this}evaluate(D){return!1}serialize(){return"false"}keys(){return[]}negate(){return i.INSTANCE}}e.ContextKeyFalseExpr=h,h.INSTANCE=new h;class i{constructor(){this.type=1}cmp(D){return this.type-D.type}equals(D){return D.type===this.type}substituteConstants(){return this}evaluate(D){return!0}serialize(){return"true"}keys(){return[]}negate(){return h.INSTANCE}}e.ContextKeyTrueExpr=i,i.INSTANCE=new i;class n{constructor(D,A){this.key=D,this.negated=A,this.type=2}static create(D,A=null){const P=I.get(D);return typeof P=="boolean"?P?i.INSTANCE:h.INSTANCE:new n(D,A)}cmp(D){return D.type!==this.type?this.type-D.type:T(this.key,D.key)}equals(D){return D.type===this.type?this.key===D.key:!1}substituteConstants(){const D=I.get(this.key);return typeof D=="boolean"?D?i.INSTANCE:h.INSTANCE:this}evaluate(D){return!!D.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=c.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=n;class t{constructor(D,A,P){this.key=D,this.value=A,this.negated=P,this.type=4}static create(D,A,P=null){if(typeof A=="boolean")return A?n.create(D,P):c.create(D,P);const F=I.get(D);return typeof F=="boolean"?A===(F?"true":"false")?i.INSTANCE:h.INSTANCE:new t(D,A,P)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}substituteConstants(){const D=I.get(this.key);if(typeof D=="boolean"){const A=D?"true":"false";return this.value===A?i.INSTANCE:h.INSTANCE}return this}evaluate(D){return D.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=r.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=t;class o{constructor(D,A){this.key=D,this.valueKey=A,this.type=10,this.negated=null}static create(D,A){return new o(D,A)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.valueKey,D.key,D.valueKey)}equals(D){return D.type===this.type?this.key===D.key&&this.valueKey===D.valueKey:!1}substituteConstants(){return this}evaluate(D){const A=D.getValue(this.valueKey),P=D.getValue(this.key);return Array.isArray(A)?A.indexOf(P)>=0:typeof P=="string"&&typeof A=="object"&&A!==null?L.call(A,P):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=d.create(this)),this.negated}}e.ContextKeyInExpr=o;class d{constructor(D){this._actual=D,this.type=11}static create(D){return new d(D)}cmp(D){return D.type!==this.type?this.type-D.type:this._actual.cmp(D._actual)}equals(D){return D.type===this.type?this._actual.equals(D._actual):!1}substituteConstants(){return this}evaluate(D){return!this._actual.evaluate(D)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotInExpr=d;class r{constructor(D,A,P){this.key=D,this.value=A,this.negated=P,this.type=5}static create(D,A,P=null){if(typeof A=="boolean")return A?c.create(D,P):n.create(D,P);const F=I.get(D);return typeof F=="boolean"?A===(F?"true":"false")?h.INSTANCE:i.INSTANCE:new r(D,A,P)}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}substituteConstants(){const D=I.get(this.key);if(typeof D=="boolean"){const A=D?"true":"false";return this.value===A?h.INSTANCE:i.INSTANCE}return this}evaluate(D){return D.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=t.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=r;class c{constructor(D,A){this.key=D,this.negated=A,this.type=3}static create(D,A=null){const P=I.get(D);return typeof P=="boolean"?P?h.INSTANCE:i.INSTANCE:new c(D,A)}cmp(D){return D.type!==this.type?this.type-D.type:T(this.key,D.key)}equals(D){return D.type===this.type?this.key===D.key:!1}substituteConstants(){const D=I.get(this.key);return typeof D=="boolean"?D?h.INSTANCE:i.INSTANCE:this}evaluate(D){return!D.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=n.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=c;function s(O,D){if(typeof O=="string"){const A=parseFloat(O);isNaN(A)||(O=A)}return typeof O=="string"||typeof O=="number"?D(O):h.INSTANCE}class a{constructor(D,A,P){this.key=D,this.value=A,this.negated=P,this.type=12}static create(D,A,P=null){return s(A,F=>new a(D,F,P))}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}substituteConstants(){return this}evaluate(D){return typeof this.value=="string"?!1:parseFloat(D.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=g.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=a;class l{constructor(D,A,P){this.key=D,this.value=A,this.negated=P,this.type=13}static create(D,A,P=null){return s(A,F=>new l(D,F,P))}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}substituteConstants(){return this}evaluate(D){return typeof this.value=="string"?!1:parseFloat(D.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=f.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=l;class f{constructor(D,A,P){this.key=D,this.value=A,this.negated=P,this.type=14}static create(D,A,P=null){return s(A,F=>new f(D,F,P))}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}substituteConstants(){return this}evaluate(D){return typeof this.value=="string"?!1:parseFloat(D.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=l.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=f;class g{constructor(D,A,P){this.key=D,this.value=A,this.negated=P,this.type=15}static create(D,A,P=null){return s(A,F=>new g(D,F,P))}cmp(D){return D.type!==this.type?this.type-D.type:N(this.key,this.value,D.key,D.value)}equals(D){return D.type===this.type?this.key===D.key&&this.value===D.value:!1}substituteConstants(){return this}evaluate(D){return typeof this.value=="string"?!1:parseFloat(D.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=a.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=g;class b{constructor(D,A){this.key=D,this.regexp=A,this.type=7,this.negated=null}static create(D,A){return new b(D,A)}cmp(D){if(D.type!==this.type)return this.type-D.type;if(this.key<D.key)return-1;if(this.key>D.key)return 1;const A=this.regexp?this.regexp.source:"",P=D.regexp?D.regexp.source:"";return A<P?-1:A>P?1:0}equals(D){if(D.type===this.type){const A=this.regexp?this.regexp.source:"",P=D.regexp?D.regexp.source:"";return this.key===D.key&&A===P}return!1}substituteConstants(){return this}evaluate(D){let A=D.getValue(this.key);return this.regexp?this.regexp.test(A):!1}serialize(){const D=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${D}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=p.create(this)),this.negated}}e.ContextKeyRegexExpr=b;class p{constructor(D){this._actual=D,this.type=8}static create(D){return new p(D)}cmp(D){return D.type!==this.type?this.type-D.type:this._actual.cmp(D._actual)}equals(D){return D.type===this.type?this._actual.equals(D._actual):!1}substituteConstants(){return this}evaluate(D){return!this._actual.evaluate(D)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=p;function C(O){let D=null;for(let A=0,P=O.length;A<P;A++){const F=O[A].substituteConstants();if(O[A]!==F&&D===null){D=[];for(let W=0;W<A;W++)D[W]=O[W]}D!==null&&(D[A]=F)}return D===null?O:D}class S{constructor(D,A){this.expr=D,this.negated=A,this.type=6}static create(D,A){return S._normalizeArr(D,A)}cmp(D){if(D.type!==this.type)return this.type-D.type;if(this.expr.length<D.expr.length)return-1;if(this.expr.length>D.expr.length)return 1;for(let A=0,P=this.expr.length;A<P;A++){const F=u(this.expr[A],D.expr[A]);if(F!==0)return F}return 0}equals(D){if(D.type===this.type){if(this.expr.length!==D.expr.length)return!1;for(let A=0,P=this.expr.length;A<P;A++)if(!this.expr[A].equals(D.expr[A]))return!1;return!0}return!1}substituteConstants(){const D=C(this.expr);return D===this.expr?this:S.create(D,this.negated)}evaluate(D){for(let A=0,P=this.expr.length;A<P;A++)if(!this.expr[A].evaluate(D))return!1;return!0}static _normalizeArr(D,A){const P=[];let F=!1;for(const W of D)if(!!W){if(W.type===1){F=!0;continue}if(W.type===0)return h.INSTANCE;if(W.type===6){P.push(...W.expr);continue}P.push(W)}if(P.length===0&&F)return i.INSTANCE;if(P.length!==0){if(P.length===1)return P[0];P.sort(u);for(let W=1;W<P.length;W++)P[W-1].equals(P[W])&&(P.splice(W,1),W--);if(P.length===1)return P[0];for(;P.length>1;){const W=P[P.length-1];if(W.type!==9)break;P.pop();const M=P.pop(),z=P.length===0,ee=y.create(W.expr.map(ie=>S.create([ie,M],null)),null,z);ee&&(P.push(ee),P.sort(u))}return P.length===1?P[0]:new S(P,A)}}serialize(){return this.expr.map(D=>D.serialize()).join(" && ")}keys(){const D=[];for(let A of this.expr)D.push(...A.keys());return D}negate(){if(!this.negated){const D=[];for(let A of this.expr)D.push(A.negate());this.negated=y.create(D,this,!0)}return this.negated}}class y{constructor(D,A){this.expr=D,this.negated=A,this.type=9}static create(D,A,P){return y._normalizeArr(D,A,P)}cmp(D){if(D.type!==this.type)return this.type-D.type;if(this.expr.length<D.expr.length)return-1;if(this.expr.length>D.expr.length)return 1;for(let A=0,P=this.expr.length;A<P;A++){const F=u(this.expr[A],D.expr[A]);if(F!==0)return F}return 0}equals(D){if(D.type===this.type){if(this.expr.length!==D.expr.length)return!1;for(let A=0,P=this.expr.length;A<P;A++)if(!this.expr[A].equals(D.expr[A]))return!1;return!0}return!1}substituteConstants(){const D=C(this.expr);return D===this.expr?this:y.create(D,this.negated,!1)}evaluate(D){for(let A=0,P=this.expr.length;A<P;A++)if(this.expr[A].evaluate(D))return!0;return!1}static _normalizeArr(D,A,P){let F=[],W=!1;if(D){for(let M=0,z=D.length;M<z;M++){const ee=D[M];if(!!ee){if(ee.type===0){W=!0;continue}if(ee.type===1)return i.INSTANCE;if(ee.type===9){F=F.concat(ee.expr);continue}F.push(ee)}}if(F.length===0&&W)return h.INSTANCE;F.sort(u)}if(F.length!==0){if(F.length===1)return F[0];for(let M=1;M<F.length;M++)F[M-1].equals(F[M])&&(F.splice(M,1),M--);if(F.length===1)return F[0];if(P){for(let M=0;M<F.length;M++)for(let z=M+1;z<F.length;z++)R(F[M],F[z])&&(F.splice(z,1),z--);if(F.length===1)return F[0]}return new y(F,A)}}serialize(){return this.expr.map(D=>D.serialize()).join(" || ")}keys(){const D=[];for(let A of this.expr)D.push(...A.keys());return D}negate(){if(!this.negated){let D=[];for(let A of this.expr)D.push(A.negate());for(;D.length>1;){const A=D.shift(),P=D.shift(),F=[];for(const M of B(A))for(const z of B(P))F.push(S.create([M,z],null));const W=D.length===0;D.unshift(y.create(F,null,W))}this.negated=D[0]}return this.negated}}class w extends n{constructor(D,A,P){super(D,null);this._defaultValue=A,typeof P=="object"?w._info.push(Object.assign(Object.assign({},P),{key:D})):P!==!0&&w._info.push({key:D,description:P,type:A!=null?typeof A:void 0})}static all(){return w._info.values()}bindTo(D){return D.createKey(this.key,this._defaultValue)}getValue(D){return D.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(D){return t.create(this.key,D)}}e.RawContextKey=w,w._info=[],e.IContextKeyService=(0,k.createDecorator)("contextKeyService"),e.SET_CONTEXT_COMMAND_ID="setContext";function T(O,D){return O<D?-1:O>D?1:0}function N(O,D,A,P){return O<A?-1:O>A?1:D<P?-1:D>P?1:0}function R(O,D){if(D.type===6&&O.type!==9&&O.type!==6){for(const F of D.expr)if(O.equals(F))return!0}const A=O.negate(),P=B(A).concat(B(D));P.sort(u);for(let F=0;F<P.length;F++){const M=P[F].negate();for(let z=F+1;z<P.length;z++){const ee=P[z];if(M.equals(ee))return!0}}return!1}e.implies=R;function B(O){return O.type===9?O.expr:[O]}}),define(re[22],se([1,0,525,16]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var k;(function(I){I.editorSimpleInput=new m.RawContextKey("editorSimpleInput",!1,!0),I.editorTextFocus=new m.RawContextKey("editorTextFocus",!1,E.localize(0,null)),I.focus=new m.RawContextKey("editorFocus",!1,E.localize(1,null)),I.textInputFocus=new m.RawContextKey("textInputFocus",!1,E.localize(2,null)),I.readOnly=new m.RawContextKey("editorReadonly",!1,E.localize(3,null)),I.inDiffEditor=new m.RawContextKey("inDiffEditor",!1,E.localize(4,null)),I.columnSelection=new m.RawContextKey("editorColumnSelection",!1,E.localize(5,null)),I.writable=I.readOnly.toNegated(),I.hasNonEmptySelection=new m.RawContextKey("editorHasSelection",!1,E.localize(6,null)),I.hasOnlyEmptySelection=I.hasNonEmptySelection.toNegated(),I.hasMultipleSelections=new m.RawContextKey("editorHasMultipleSelections",!1,E.localize(7,null)),I.hasSingleSelection=I.hasMultipleSelections.toNegated(),I.tabMovesFocus=new m.RawContextKey("editorTabMovesFocus",!1,E.localize(8,null)),I.tabDoesNotMoveFocus=I.tabMovesFocus.toNegated(),I.isInWalkThroughSnippet=new m.RawContextKey("isInEmbeddedEditor",!1,!0),I.canUndo=new m.RawContextKey("canUndo",!1,!0),I.canRedo=new m.RawContextKey("canRedo",!1,!0),I.hoverVisible=new m.RawContextKey("editorHoverVisible",!1,E.localize(9,null)),I.inCompositeEditor=new m.RawContextKey("inCompositeEditor",void 0,E.localize(10,null)),I.notInCompositeEditor=I.inCompositeEditor.toNegated(),I.languageId=new m.RawContextKey("editorLangId","",E.localize(11,null)),I.hasCompletionItemProvider=new m.RawContextKey("editorHasCompletionItemProvider",!1,E.localize(12,null)),I.hasCodeActionsProvider=new m.RawContextKey("editorHasCodeActionsProvider",!1,E.localize(13,null)),I.hasCodeLensProvider=new m.RawContextKey("editorHasCodeLensProvider",!1,E.localize(14,null)),I.hasDefinitionProvider=new m.RawContextKey("editorHasDefinitionProvider",!1,E.localize(15,null)),I.hasDeclarationProvider=new m.RawContextKey("editorHasDeclarationProvider",!1,E.localize(16,null)),I.hasImplementationProvider=new m.RawContextKey("editorHasImplementationProvider",!1,E.localize(17,null)),I.hasTypeDefinitionProvider=new m.RawContextKey("editorHasTypeDefinitionProvider",!1,E.localize(18,null)),I.hasHoverProvider=new m.RawContextKey("editorHasHoverProvider",!1,E.localize(19,null)),I.hasDocumentHighlightProvider=new m.RawContextKey("editorHasDocumentHighlightProvider",!1,E.localize(20,null)),I.hasDocumentSymbolProvider=new m.RawContextKey("editorHasDocumentSymbolProvider",!1,E.localize(21,null)),I.hasReferenceProvider=new m.RawContextKey("editorHasReferenceProvider",!1,E.localize(22,null)),I.hasRenameProvider=new m.RawContextKey("editorHasRenameProvider",!1,E.localize(23,null)),I.hasSignatureHelpProvider=new m.RawContextKey("editorHasSignatureHelpProvider",!1,E.localize(24,null)),I.hasInlayHintsProvider=new m.RawContextKey("editorHasInlayHintsProvider",!1,E.localize(25,null)),I.hasDocumentFormattingProvider=new m.RawContextKey("editorHasDocumentFormattingProvider",!1,E.localize(26,null)),I.hasDocumentSelectionFormattingProvider=new m.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,E.localize(27,null)),I.hasMultipleDocumentFormattingProvider=new m.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,E.localize(28,null)),I.hasMultipleDocumentSelectionFormattingProvider=new m.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,E.localize(29,null))})(k=e.EditorContextKeys||(e.EditorContextKeys={}))}),define(re[205],se([1,0,21,13,19,25,11,27,57,26,16,20]),function(U,e,E,m,k,I,L,_,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSignatureHelp=e.Context=void 0,e.Context={Visible:new h.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new h.RawContextKey("parameterHintsMultipleSignatures",!1)};function n(t,o,d,r,c){return Le(this,void 0,void 0,function*(){const s=t.ordered(o);for(const a of s)try{const l=yield a.provideSignatureHelp(o,d,c,r);if(l)return l}catch(l){(0,m.onUnexpectedExternalError)(l)}})}e.provideSignatureHelp=n,u.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",(t,...o)=>Le(void 0,void 0,void 0,function*(){const[d,r,c]=o;(0,k.assertType)(I.URI.isUri(d)),(0,k.assertType)(L.Position.isIPosition(r)),(0,k.assertType)(typeof c=="string"||!c);const s=t.get(i.ILanguageFeaturesService),a=yield t.get(v.ITextModelService).createModelReference(d);try{const l=yield n(s.signatureHelpProvider,a.object.textEditorModel,L.Position.lift(r),{triggerKind:_.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:c},E.CancellationToken.None);return l?(setTimeout(()=>l.dispose(),0),l.value):void 0}finally{a.dispose()}}))}),define(re[616],se([1,0,10,13,4,2,102,27,205]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var u;(function(n){n.Default={type:0};class t{constructor(r,c){this.request=r,this.previouslyActiveHints=c,this.type=2}}n.Pending=t;class o{constructor(r){this.hints=r,this.type=1}}n.Active=o})(u||(u={}));class h extends I.Disposable{constructor(t,o,d=h.DEFAULT_DELAY){super();this._onChangedHints=this._register(new k.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=u.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new I.MutableDisposable),this.triggerChars=new L.CharacterSet,this.retriggerChars=new L.CharacterSet,this.triggerId=0,this.editor=t,this.providers=o,this.throttledDelayer=new E.Delayer(d),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(r=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(r=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(r=>this.onCursorChange(r))),this._register(this.editor.onDidChangeModelContent(r=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(r=>this.onDidType(r))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(t){this._state.type===2&&this._state.request.cancel(),this._state=t}cancel(t=!1){this.state=u.Default,this.throttledDelayer.cancel(),t||this._onChangedHints.fire(void 0)}trigger(t,o){const d=this.editor.getModel();if(!d||!this.providers.has(d))return;const r=++this.triggerId;this._pendingTriggers.push(t),this.throttledDelayer.trigger(()=>this.doTrigger(r),o).catch(m.onUnexpectedError)}next(){if(this.state.type!==1)return;const t=this.state.hints.signatures.length,o=this.state.hints.activeSignature,d=o%t==t-1,r=this.editor.getOption(76).cycle;if((t<2||d)&&!r){this.cancel();return}this.updateActiveSignature(d&&r?0:o+1)}previous(){if(this.state.type!==1)return;const t=this.state.hints.signatures.length,o=this.state.hints.activeSignature,d=o===0,r=this.editor.getOption(76).cycle;if((t<2||d)&&!r){this.cancel();return}this.updateActiveSignature(d&&r?t-1:o-1)}updateActiveSignature(t){this.state.type===1&&(this.state=new u.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:t})),this._onChangedHints.fire(this.state.hints))}doTrigger(t){return Le(this,void 0,void 0,function*(){const o=this.state.type===1||this.state.type===2,d=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const r=this._pendingTriggers.reduce(i);this._pendingTriggers=[];const c={triggerKind:r.triggerKind,triggerCharacter:r.triggerCharacter,isRetrigger:o,activeSignatureHelp:d};if(!this.editor.hasModel())return!1;const s=this.editor.getModel(),a=this.editor.getPosition();this.state=new u.Pending((0,E.createCancelablePromise)(l=>(0,v.provideSignatureHelp)(this.providers,s,a,c,l)),d);try{const l=yield this.state.request;return t!==this.triggerId?(l==null||l.dispose(),!1):!l||!l.value.signatures||l.value.signatures.length===0?(l==null||l.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new u.Active(l.value),this._lastSignatureHelpResult.value=l,this._onChangedHints.fire(this.state.hints),!0)}catch(l){return t===this.triggerId&&(this.state=u.Default),(0,m.onUnexpectedError)(l),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new L.CharacterSet,this.retriggerChars=new L.CharacterSet;const t=this.editor.getModel();if(!!t)for(const o of this.providers.ordered(t)){for(const d of o.signatureHelpTriggerCharacters||[])this.triggerChars.add(d.charCodeAt(0)),this.retriggerChars.add(d.charCodeAt(0));for(const d of o.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(d.charCodeAt(0))}}onDidType(t){if(!this.triggerOnType)return;const o=t.length-1,d=t.charCodeAt(o);(this.triggerChars.has(d)||this.isTriggered&&this.retriggerChars.has(d))&&this.trigger({triggerKind:_.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:t.charAt(o)})}onCursorChange(t){t.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:_.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:_.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(76).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=h,h.DEFAULT_DELAY=120;function i(n,t){switch(t.triggerKind){case _.SignatureHelpTriggerKind.Invoke:return t;case _.SignatureHelpTriggerKind.ContentChange:return n;case _.SignatureHelpTriggerKind.TriggerCharacter:default:return t}}});var fe=this&&this.__param||function(U,e){return function(E,m){e(E,m,U)}};define(re[617],se([1,0,16]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let m=class Wt{constructor(I,L){this._editor=I,this._index=0,this._ckOtherSuggestions=Wt.OtherSuggestions.bindTo(L)}dispose(){this.reset()}reset(){var I;this._ckOtherSuggestions.reset(),(I=this._listener)===null||I===void 0||I.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:I,index:L},_){if(I.items.length===0){this.reset();return}if(Wt._moveIndex(!0,I,L)===L){this.reset();return}this._acceptNext=_,this._model=I,this._index=L,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(I,L,_){let v=_;for(;v=(v+L.items.length+(I?1:-1))%L.items.length,!(v===_||!L.items[v].completion.additionalTextEdits););return v}next(){this._move(!0)}prev(){this._move(!1)}_move(I){if(!!this._model)try{this._ignore=!0,this._index=Wt._moveIndex(I,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};m.OtherSuggestions=new E.RawContextKey("hasOtherSuggestions",!1),m=Ie([fe(1,E.IContextKeyService)],m),e.SuggestAlternatives=m}),define(re[618],se([1,0,16]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let m=class yi{constructor(I,L){this._editor=I,this._enabled=!1,this._ckAtEnd=yi.AtEnd.bindTo(L),this._configListener=this._editor.onDidChangeConfiguration(_=>_.hasChanged(111)&&this._update()),this._update()}dispose(){var I;this._configListener.dispose(),(I=this._selectionListener)===null||I===void 0||I.dispose(),this._ckAtEnd.reset()}_update(){const I=this._editor.getOption(111)==="on";if(this._enabled!==I)if(this._enabled=I,this._enabled){const L=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const _=this._editor.getModel(),v=this._editor.getSelection(),u=_.getWordAtPosition(v.getStartPosition());if(!u){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(u.endColumn===v.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(L),L()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};m.AtEnd=new E.RawContextKey("atEndOfWord",!1),m=Ie([fe(1,E.IContextKeyService)],m),e.WordContextKey=m}),define(re[68],se([1,0,16,9]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,m.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new E.RawContextKey("accessibilityModeEnabled",!1)}),define(re[619],se([1,0,34,18,4,2,41,17,236,275,408,237,33,147,179,68]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComputedEditorOptions=e.EditorConfiguration=void 0;let r=class extends I.Disposable{constructor(p,C,S,y){super();this._accessibilityService=y,this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new k.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new n.ComputeOptionsMemory,this.isSimpleWidget=p,this._containerObserver=this._register(new v.ElementSizeObserver(S,C.dimension)),this._rawOptions=g(C),this._validatedOptions=f.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(t.EditorZoom.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(i.TabFocus.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(u.FontMeasurements.onDidChange(()=>this._recomputeOptions())),this._register(E.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const p=this._computeOptions(),C=f.checkEquals(this.options,p);C!==null&&(this.options=p,this._onDidChangeFast.fire(C),this._onDidChange.fire(C))}_computeOptions(){const p=this._readEnvConfiguration(),C=o.BareFontInfo.createFromValidatedSettings(this._validatedOptions,p.pixelRatio,this.isSimpleWidget),S=this._readFontInfo(C),y={memory:this._computeOptionsMemory,outerWidth:p.outerWidth,outerHeight:p.outerHeight-this._reservedHeight,fontInfo:S,extraEditorClassName:p.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:p.emptySelectionClipboard,pixelRatio:p.pixelRatio,tabFocusMode:i.TabFocus.getTabFocusMode(),accessibilitySupport:p.accessibilitySupport};return f.computeOptions(this._validatedOptions,y)}_readEnvConfiguration(){return{extraEditorClassName:s(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:E.isWebKit||E.isFirefox,pixelRatio:E.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(p){return u.FontMeasurements.readFontInfo(p)}getRawOptions(){return this._rawOptions}updateOptions(p){const C=g(p);!f.applyUpdate(this._rawOptions,C)||(this._validatedOptions=f.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(p){this._containerObserver.observe(p)}setIsDominatedByLongLines(p){this._isDominatedByLongLines!==p&&(this._isDominatedByLongLines=p,this._recomputeOptions())}setModelLineCount(p){const C=c(p);this._lineNumbersDigitCount!==C&&(this._lineNumbersDigitCount=C,this._recomputeOptions())}setViewLineCount(p){this._viewLineCount!==p&&(this._viewLineCount=p,this._recomputeOptions())}setReservedHeight(p){this._reservedHeight!==p&&(this._reservedHeight=p,this._recomputeOptions())}};r=Ie([fe(3,d.IAccessibilityService)],r),e.EditorConfiguration=r;function c(b){let p=0;for(;b;)b=Math.floor(b/10),p++;return p||1}function s(){let b="";return!E.isSafari&&!E.isWebkitWebView&&(b+="no-user-select "),E.isSafari&&(b+="no-minimap-shadow ",b+="enable-user-select "),_.isMacintosh&&(b+="mac "),b}class a{constructor(){this._values=[]}_read(p){return this._values[p]}get(p){return this._values[p]}_write(p,C){this._values[p]=C}}class l{constructor(){this._values=[]}_read(p){if(p>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[p]}get(p){return this._read(p)}_write(p,C){this._values[p]=C}}e.ComputedEditorOptions=l;class f{static validateOptions(p){const C=new a;for(const S of n.editorOptionsRegistry){const y=S.name==="_never_"?void 0:p[S.name];C._write(S.id,S.validate(y))}return C}static computeOptions(p,C){const S=new l;for(const y of n.editorOptionsRegistry)S._write(y.id,y.compute(C,S,p._read(y.id)));return S}static _deepEquals(p,C){if(typeof p!="object"||typeof C!="object"||!p||!C)return p===C;if(Array.isArray(p)||Array.isArray(C))return Array.isArray(p)&&Array.isArray(C)?m.equals(p,C):!1;if(Object.keys(p).length!==Object.keys(C).length)return!1;for(const S in p)if(!f._deepEquals(p[S],C[S]))return!1;return!0}static checkEquals(p,C){const S=[];let y=!1;for(const w of n.editorOptionsRegistry){const T=!f._deepEquals(p._read(w.id),C._read(w.id));S[w.id]=T,T&&(y=!0)}return y?new n.ConfigurationChangedEvent(S):null}static applyUpdate(p,C){let S=!1;for(const y of n.editorOptionsRegistry)if(C.hasOwnProperty(y.name)){const w=y.applyUpdate(p[y.name],C[y.name]);p[y.name]=w.newValue,S=S||w.didChange}return S}}function g(b){const p=L.deepClone(b);return(0,h.migrateOptions)(p),p}}),define(re[620],se([1,0,4,55,2,51,598,26,35,16]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0;const h="data-keybinding-context";class i{constructor(b,p){this._id=b,this._parent=p,this._value=Object.create(null),this._value._contextId=b}setValue(b,p){return this._value[b]!==p?(this._value[b]=p,!0):!1}removeValue(b){return b in this._value?(delete this._value[b],!0):!1}getValue(b){const p=this._value[b];return typeof p=="undefined"&&this._parent?this._parent.getValue(b):p}}e.Context=i;class n extends i{constructor(){super(-1,null)}setValue(b,p){return!1}removeValue(b){return!1}getValue(b){}}n.INSTANCE=new n;class t extends i{constructor(b,p,C){super(b,null);this._configurationService=p,this._values=I.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(S=>{if(S.source===6){const y=Array.from(m.Iterable.map(this._values,([w])=>w));this._values.clear(),C.fire(new r(y))}else{const y=[];for(const w of S.affectedKeys){const T=`config.${w}`,N=this._values.findSuperstr(T);N!==void 0&&(y.push(...m.Iterable.map(N,([R])=>R)),this._values.deleteSuperstr(T)),this._values.has(T)&&(y.push(T),this._values.delete(T))}C.fire(new r(y))}})}dispose(){this._listener.dispose()}getValue(b){if(b.indexOf(t._keyPrefix)!==0)return super.getValue(b);if(this._values.has(b))return this._values.get(b);const p=b.substr(t._keyPrefix.length),C=this._configurationService.getValue(p);let S;switch(typeof C){case"number":case"boolean":case"string":S=C;break;default:Array.isArray(C)?S=JSON.stringify(C):S=C}return this._values.set(b,S),S}setValue(b,p){return super.setValue(b,p)}removeValue(b){return super.removeValue(b)}}t._keyPrefix="config.";class o{constructor(b,p,C){this._service=b,this._key=p,this._defaultValue=C,this.reset()}set(b){this._service.setContext(this._key,b)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class d{constructor(b){this.key=b}affectsSome(b){return b.has(this.key)}}class r{constructor(b){this.keys=b}affectsSome(b){for(const p of this.keys)if(b.has(p))return!0;return!1}}class c{constructor(b){this.events=b}affectsSome(b){for(const p of this.events)if(p.affectsSome(b))return!0;return!1}}class s{constructor(b){this._onDidChangeContext=new E.PauseableEmitter({merge:p=>new c(p)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=b}createKey(b,p){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new o(this,b,p)}bufferChangeEvents(b){this._onDidChangeContext.pause();try{b()}finally{this._onDidChangeContext.resume()}}createScoped(b){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new l(this,b)}contextMatchesRules(b){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const p=this.getContextValuesContainer(this._myContextId);return b?b.evaluate(p):!0}getContextKeyValue(b){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(b)}setContext(b,p){if(this._isDisposed)return;const C=this.getContextValuesContainer(this._myContextId);!C||C.setValue(b,p)&&this._onDidChangeContext.fire(new d(b))}removeContext(b){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(b)&&this._onDidChangeContext.fire(new d(b))}getContext(b){return this._isDisposed?n.INSTANCE:this.getContextValuesContainer(f(b))}}e.AbstractContextKeyService=s;let a=class extends s{constructor(b){super(0);this._contexts=new Map,this._toDispose=new k.DisposableStore,this._lastContextId=0;const p=new t(this._myContextId,b,this._onDidChangeContext);this._contexts.set(this._myContextId,p),this._toDispose.add(p)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(b){return this._isDisposed?n.INSTANCE:this._contexts.get(b)||n.INSTANCE}createChildContext(b=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let p=++this._lastContextId;return this._contexts.set(p,new i(p,this.getContextValuesContainer(b))),p}disposeContext(b){this._isDisposed||this._contexts.delete(b)}};a=Ie([fe(0,v.IConfigurationService)],a),e.ContextKeyService=a;class l extends s{constructor(b,p){super(b.createChildContext());if(this._parentChangeListener=new k.MutableDisposable,this._parent=b,this._updateParentChangeListener(),this._domNode=p,this._domNode.hasAttribute(h)){let C="";this._domNode.classList&&(C=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${C?": "+C:""}`)}this._domNode.setAttribute(h,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(h),this._isDisposed=!0)}getContextValuesContainer(b){return this._isDisposed?n.INSTANCE:this._parent.getContextValuesContainer(b)}createChildContext(b=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(b)}disposeContext(b){this._isDisposed||this._parent.disposeContext(b)}}function f(g){for(;g;){if(g.hasAttribute(h)){const b=g.getAttribute(h);return b?parseInt(b,10):NaN}g=g.parentElement}return 0}_.CommandsRegistry.registerCommand(u.SET_CONTEXT_COMMAND_ID,function(g,b,p){g.get(u.IContextKeyService).createKey(String(b),p)}),_.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...u.RawContextKey.all()].sort((g,b)=>g.key.localeCompare(b.key))},description:{description:(0,L.localize)(0,null),args:[]}}),_.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const g=[],b=new Set;for(let p of u.RawContextKey.all())b.has(p.key)||(b.add(p.key),g.push(p));g.sort((p,C)=>p.key.localeCompare(C.key)),console.log(JSON.stringify(g,void 0,2))})}),define(re[282],se([1,0,17,599,16]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.IsDevelopmentContext=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new k.RawContextKey("isMac",E.isMacintosh,(0,m.localize)(0,null)),e.IsLinuxContext=new k.RawContextKey("isLinux",E.isLinux,(0,m.localize)(1,null)),e.IsWindowsContext=new k.RawContextKey("isWindows",E.isWindows,(0,m.localize)(2,null)),e.IsWebContext=new k.RawContextKey("isWeb",E.isWeb,(0,m.localize)(3,null)),e.IsMacNativeContext=new k.RawContextKey("isMacNative",E.isMacintosh&&!E.isWeb,(0,m.localize)(4,null)),e.IsIOSContext=new k.RawContextKey("isIOS",E.isIOS,(0,m.localize)(5,null)),e.IsDevelopmentContext=new k.RawContextKey("isDevelopment",!1,!0),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new k.RawContextKey(e.InputFocusedContextKey,!1,(0,m.localize)(6,null))}),define(re[80],se([1,0,9]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,E.createDecorator)("contextViewService"),e.IContextMenuService=(0,E.createDecorator)("contextMenuService")}),define(re[132],se([1,0,9]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,E.createDecorator)("dialogService")}),define(re[159],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class E{constructor(...k){this._entries=new Map;for(let[I,L]of k)this.set(I,L)}set(k,I){const L=this._entries.get(k);return this._entries.set(k,I),L}get(k){return this._entries.get(k)}}e.ServiceCollection=E}),define(re[621],se([1,0,10,13,202,613,9,159]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=e.InstantiationService=void 0;const v=!1;class u extends Error{constructor(t){var o;super("cyclic dependency between services");this.message=(o=t.findCycleSlow())!==null&&o!==void 0?o:`UNABLE to detect cycle, dumping graph: 
${t.toString()}`}}class h{constructor(t=new _.ServiceCollection,o=!1,d){this._activeInstantiations=new Set,this._services=t,this._strict=o,this._parent=d,this._services.set(L.IInstantiationService,this)}createChild(t){return new h(t,this._strict,this)}invokeFunction(t,...o){let d=i.traceInvocation(t),r=!1;try{return t({get:s=>{if(r)throw(0,m.illegalState)("service accessor is only valid during the invocation of its target method");const a=this._getOrCreateServiceInstance(s,d);if(!a)throw new Error(`[invokeFunction] unknown service '${s}'`);return a}},...o)}finally{r=!0,d.stop()}}createInstance(t,...o){let d,r;return t instanceof k.SyncDescriptor?(d=i.traceCreation(t.ctor),r=this._createInstance(t.ctor,t.staticArguments.concat(o),d)):(d=i.traceCreation(t),r=this._createInstance(t,o,d)),d.stop(),r}_createInstance(t,o=[],d){let r=L._util.getServiceDependencies(t).sort((a,l)=>a.index-l.index),c=[];for(const a of r){let l=this._getOrCreateServiceInstance(a.id,d);l||this._throwIfStrict(`[createInstance] ${t.name} depends on UNKNOWN service ${a.id}.`,!1),c.push(l)}let s=r.length>0?r[0].index:o.length;if(o.length!==s){console.trace(`[createInstance] First service dependency of ${t.name} at position ${s+1} conflicts with ${o.length} static arguments`);let a=s-o.length;a>0?o=o.concat(new Array(a)):o=o.slice(0,s)}return new t(...[...o,...c])}_setServiceInstance(t,o){if(this._services.get(t)instanceof k.SyncDescriptor)this._services.set(t,o);else if(this._parent)this._parent._setServiceInstance(t,o);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(t){let o=this._services.get(t);return!o&&this._parent?this._parent._getServiceInstanceOrDescriptor(t):o}_getOrCreateServiceInstance(t,o){let d=this._getServiceInstanceOrDescriptor(t);return d instanceof k.SyncDescriptor?this._safeCreateAndCacheServiceInstance(t,d,o.branch(t,!0)):(o.branch(t,!1),d)}_safeCreateAndCacheServiceInstance(t,o,d){if(this._activeInstantiations.has(t))throw new Error(`illegal state - RECURSIVELY instantiating service '${t}'`);this._activeInstantiations.add(t);try{return this._createAndCacheServiceInstance(t,o,d)}finally{this._activeInstantiations.delete(t)}}_createAndCacheServiceInstance(t,o,d){const r=new I.Graph(a=>a.id.toString());let c=0;const s=[{id:t,desc:o,_trace:d}];for(;s.length;){const a=s.pop();if(r.lookupOrInsertNode(a),c++>1e3)throw new u(r);for(let l of L._util.getServiceDependencies(a.desc.ctor)){let f=this._getServiceInstanceOrDescriptor(l.id);if(f||this._throwIfStrict(`[createInstance] ${t} depends on ${l.id} which is NOT registered.`,!0),f instanceof k.SyncDescriptor){const g={id:l.id,desc:f,_trace:a._trace.branch(l.id,!0)};r.insertEdge(a,g),s.push(g)}}}for(;;){const a=r.roots();if(a.length===0){if(!r.isEmpty())throw new u(r);break}for(const{data:l}of a){if(this._getServiceInstanceOrDescriptor(l.id)instanceof k.SyncDescriptor){const g=this._createServiceInstanceWithOwner(l.id,l.desc.ctor,l.desc.staticArguments,l.desc.supportsDelayedInstantiation,l._trace);this._setServiceInstance(l.id,g)}r.removeNode(l)}}return this._getServiceInstanceOrDescriptor(t)}_createServiceInstanceWithOwner(t,o,d=[],r,c){if(this._services.get(t)instanceof k.SyncDescriptor)return this._createServiceInstance(o,d,r,c);if(this._parent)return this._parent._createServiceInstanceWithOwner(t,o,d,r,c);throw new Error(`illegalState - creating UNKNOWN service instance ${o.name}`)}_createServiceInstance(t,o=[],d,r){if(d){const c=new E.IdleValue(()=>this._createInstance(t,o,r));return new Proxy(Object.create(null),{get(s,a){if(a in s)return s[a];let l=c.value,f=l[a];return typeof f!="function"||(f=f.bind(l),s[a]=f),f},set(s,a,l){return c.value[a]=l,!0}})}else return this._createInstance(t,o,r)}_throwIfStrict(t,o){if(o&&console.warn(o),this._strict)throw new Error(t)}}e.InstantiationService=h;class i{constructor(t,o){this.type=t,this.name=o,this._start=Date.now(),this._dep=[]}static traceInvocation(t){return v?new i(1,t.name||t.toString().substring(0,42).replace(/\n/g,"")):i._None}static traceCreation(t){return v?new i(0,t.name):i._None}branch(t,o){let d=new i(2,t.toString());return this._dep.push([t,o,d]),d}stop(){let t=Date.now()-this._start;i._totals+=t;let o=!1;function d(c,s){let a=[],l=new Array(c+1).join("	");for(const[f,g,b]of s._dep)if(g&&b){o=!0,a.push(`${l}CREATES -> ${f}`);let p=d(c+1,b);p&&a.push(p)}else a.push(`${l}uses -> ${f}`);return a.join(`
`)}let r=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${d(1,this)}`,`DONE, took ${t.toFixed(2)}ms (grand total ${i._totals.toFixed(2)}ms)`];(t>2||o)&&console.log(r.join(`
`))}}e.Trace=i,i._None=new class extends i{constructor(){super(-1,null)}stop(){}branch(){return this}},i._totals=0}),define(re[622],se([1,0,10,4,2,601]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const L=/^(cursor|delete)/;class _ extends k.Disposable{constructor(h,i,n,t,o){super();this._contextKeyService=h,this._commandService=i,this._telemetryService=n,this._notificationService=t,this._logService=o,this._onDidUpdateKeybindings=this._register(new m.Emitter),this._currentChord=null,this._currentChordChecker=new E.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=v.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new E.TimeoutTimer,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:m.Event.None}dispose(){super.dispose()}_log(h){this._logging&&this._logService.info(`[KeybindingService]: ${h}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(h,i){const n=this._getResolver().lookupPrimaryKeybinding(h,i||this._contextKeyService);if(!!n)return n.resolvedKeybinding}dispatchEvent(h,i){return this._dispatch(h,i)}softDispatch(h,i){const n=this.resolveKeyboardEvent(h);if(n.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[t]=n.getDispatchParts();if(t===null)return null;const o=this._contextKeyService.getContext(i),d=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(o,d,t)}_enterChordMode(h,i){this._currentChord={keypress:h,label:i},this._currentChordStatusMessage=this._notificationService.status(I.localize(0,null,i));const n=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-n>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(h,i){return this._doDispatch(this.resolveKeyboardEvent(h),i,!1)}_singleModifierDispatch(h,i){const n=this.resolveKeyboardEvent(h),[t]=n.getSingleModifierDispatchParts();if(t)return this._ignoreSingleModifiers.has(t)?(this._log(`+ Ignoring single modifier ${t} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=v.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=v.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${t}.`),this._currentSingleModifier=t,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):t===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${t} ${t}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(n,i,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${t}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[o]=n.getParts();return this._ignoreSingleModifiers=new v(o),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(h,i,n=!1){let t=!1;if(h.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let o=null,d=null;if(n){const[a]=h.getSingleModifierDispatchParts();o=a,d=a}else[o]=h.getDispatchParts(),d=this._currentChord?this._currentChord.keypress:null;if(o===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),t;const r=this._contextKeyService.getContext(i),c=h.getLabel(),s=this._getResolver().resolve(r,d,o);return this._logService.trace("KeybindingService#dispatch",c,s==null?void 0:s.commandId),s&&s.enterChord?(t=!0,this._enterChordMode(o,c),t):(this._currentChord&&(!s||!s.commandId)&&(this._notificationService.status(I.localize(1,null,this._currentChord.label,c),{hideAfter:10*1e3}),t=!0),this._leaveChordMode(),s&&s.commandId&&(s.bubble||(t=!0),typeof s.commandArgs=="undefined"?this._commandService.executeCommand(s.commandId).then(void 0,a=>this._notificationService.warn(a)):this._commandService.executeCommand(s.commandId,s.commandArgs).then(void 0,a=>this._notificationService.warn(a)),L.test(s.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:s.commandId,from:"keybinding"})),t)}mightProducePrintableCharacter(h){return h.ctrlKey||h.metaKey?!1:h.keyCode>=31&&h.keyCode<=56||h.keyCode>=21&&h.keyCode<=30}}e.AbstractKeybindingService=_;class v{constructor(h){this._ctrlKey=h?h.ctrlKey:!1,this._shiftKey=h?h.shiftKey:!1,this._altKey=h?h.altKey:!1,this._metaKey=h?h.metaKey:!1}has(h){switch(h){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}v.EMPTY=new v(null)}),define(re[623],se([1,0,13,201,100]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class I extends k.ResolvedKeybinding{constructor(_,v){super();if(v.length===0)throw(0,E.illegalArgument)("parts");this._os=_,this._parts=v}getLabel(){return m.UILabelProvider.toLabel(this._os,this._parts,_=>this._getLabel(_))}getAriaLabel(){return m.AriaLabelProvider.toLabel(this._os,this._parts,_=>this._getAriaLabel(_))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:m.ElectronAcceleratorLabelProvider.toLabel(this._os,this._parts,_=>this._getElectronAccelerator(_))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(_=>this._getPart(_))}_getPart(_){return new k.ResolvedKeybindingPart(_.ctrlKey,_.shiftKey,_.altKey,_.metaKey,this._getLabel(_),this._getAriaLabel(_))}getDispatchParts(){return this._parts.map(_=>this._getDispatchPart(_))}getSingleModifierDispatchParts(){return this._parts.map(_=>this._getSingleModifierDispatchPart(_))}}e.BaseResolvedKeybinding=I}),define(re[43],se([1,0,9]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,E.createDecorator)("keybindingService")}),define(re[624],se([1,0,16]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=void 0;class m{constructor(_,v,u){this._log=u,this._defaultKeybindings=_,this._defaultBoundCommands=new Map;for(const h of _){const i=h.command;i&&i.charAt(0)!=="-"&&this._defaultBoundCommands.set(i,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=m.handleRemovals([].concat(_).concat(v));for(let h=0,i=this._keybindings.length;h<i;h++){let n=this._keybindings[h];n.keypressParts.length!==0&&(n.when&&n.when.type===0||this._addKeyPress(n.keypressParts[0],n))}}static _isTargetedForRemoval(_,v,u,h){return!(v&&_.keypressParts[0]!==v||u&&_.keypressParts[1]!==u||h&&(!_.when||!(0,E.expressionsAreEqualWithConstantSubstitution)(h,_.when)))}static handleRemovals(_){const v=new Map;for(let h=0,i=_.length;h<i;h++){const n=_[h];if(n.command&&n.command.charAt(0)==="-"){const t=n.command.substring(1);v.has(t)?v.get(t).push(n):v.set(t,[n])}}if(v.size===0)return _;const u=[];for(let h=0,i=_.length;h<i;h++){const n=_[h];if(!n.command||n.command.length===0){u.push(n);continue}if(n.command.charAt(0)==="-")continue;const t=v.get(n.command);if(!t||!n.isDefault){u.push(n);continue}let o=!1;for(const d of t){const r=d.keypressParts[0],c=d.keypressParts[1],s=d.when;if(this._isTargetedForRemoval(n,r,c,s)){o=!0;break}}if(!o){u.push(n);continue}}return u}_addKeyPress(_,v){const u=this._map.get(_);if(typeof u=="undefined"){this._map.set(_,[v]),this._addToLookupMap(v);return}for(let h=u.length-1;h>=0;h--){let i=u[h];if(i.command===v.command)continue;const n=i.keypressParts.length>1,t=v.keypressParts.length>1;n&&t&&i.keypressParts[1]!==v.keypressParts[1]||m.whenIsEntirelyIncluded(i.when,v.when)&&this._removeFromLookupMap(i)}u.push(v),this._addToLookupMap(v)}_addToLookupMap(_){if(!_.command)return;let v=this._lookupMap.get(_.command);typeof v=="undefined"?(v=[_],this._lookupMap.set(_.command,v)):v.push(_)}_removeFromLookupMap(_){if(!_.command)return;let v=this._lookupMap.get(_.command);if(typeof v!="undefined"){for(let u=0,h=v.length;u<h;u++)if(v[u]===_){v.splice(u,1);return}}}static whenIsEntirelyIncluded(_,v){return!v||v.type===1?!0:!_||_.type===1?!1:(0,E.implies)(_,v)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(_,v){const u=this._lookupMap.get(_);if(typeof u=="undefined"||u.length===0)return null;if(u.length===1)return u[0];for(let h=u.length-1;h>=0;h--){const i=u[h];if(v.contextMatchesRules(i.when))return i}return u[u.length-1]}resolve(_,v,u){this._log(`| Resolving ${u}${v?` chorded from ${v}`:""}`);let h=null;if(v!==null){const n=this._map.get(v);if(typeof n=="undefined")return this._log("\\ No keybinding entries."),null;h=[];for(let t=0,o=n.length;t<o;t++){let d=n[t];d.keypressParts[1]===u&&h.push(d)}}else{const n=this._map.get(u);if(typeof n=="undefined")return this._log("\\ No keybinding entries."),null;h=n}let i=this._findCommand(_,h);return i?v===null&&i.keypressParts.length>1&&i.keypressParts[1]!==null?(this._log(`\\ From ${h.length} keybinding entries, matched chord, when: ${k(i.when)}, source: ${I(i)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${h.length} keybinding entries, matched ${i.command}, when: ${k(i.when)}, source: ${I(i)}.`),{enterChord:!1,leaveChord:i.keypressParts.length>1,commandId:i.command,commandArgs:i.commandArgs,bubble:i.bubble}):(this._log(`\\ From ${h.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(_,v){for(let u=v.length-1;u>=0;u--){let h=v[u];if(!!m._contextMatchesRules(_,h.when))return h}return null}static _contextMatchesRules(_,v){return v?v.evaluate(_):!0}}e.KeybindingResolver=m;function k(L){return L?`${L.serialize()}`:"no when condition"}function I(L){return L.extensionId?L.isBuiltinExtension?`built-in extension ${L.extensionId}`:`user extension ${L.extensionId}`:L.isDefault?"built-in":"user"}}),define(re[283],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeElementsAfterNulls=e.ResolvedKeybindingItem=void 0;class E{constructor(I,L,_,v,u,h,i){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=I,this.keypressParts=I?m(I.getDispatchParts()):[],I&&this.keypressParts.length===0&&(this.keypressParts=m(I.getSingleModifierDispatchParts())),this.bubble=L?L.charCodeAt(0)===94:!1,this.command=this.bubble?L.substr(1):L,this.commandArgs=_,this.when=v,this.isDefault=u,this.extensionId=h,this.isBuiltinExtension=i}}e.ResolvedKeybindingItem=E;function m(k){let I=[];for(let L=0,_=k.length;L<_;L++){const v=k[L];if(!v)return I;I.push(v)}return I}e.removeElementsAfterNulls=m}),define(re[625],se([1,0,59,100,623,283]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class L extends k.BaseResolvedKeybinding{constructor(v,u){super(u,v.parts)}_keyCodeToUILabel(v){if(this._os===2)switch(v){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return E.KeyCodeUtils.toString(v)}_getLabel(v){return v.isDuplicateModifierCase()?"":this._keyCodeToUILabel(v.keyCode)}_getAriaLabel(v){return v.isDuplicateModifierCase()?"":E.KeyCodeUtils.toString(v.keyCode)}_getElectronAccelerator(v){return E.KeyCodeUtils.toElectronAccelerator(v.keyCode)}_getDispatchPart(v){return L.getDispatchStr(v)}static getDispatchStr(v){if(v.isModifierKey())return null;let u="";return v.ctrlKey&&(u+="ctrl+"),v.shiftKey&&(u+="shift+"),v.altKey&&(u+="alt+"),v.metaKey&&(u+="meta+"),u+=E.KeyCodeUtils.toString(v.keyCode),u}_getSingleModifierDispatchPart(v){return v.keyCode===5&&!v.shiftKey&&!v.altKey&&!v.metaKey?"ctrl":v.keyCode===4&&!v.ctrlKey&&!v.altKey&&!v.metaKey?"shift":v.keyCode===6&&!v.ctrlKey&&!v.shiftKey&&!v.metaKey?"alt":v.keyCode===57&&!v.ctrlKey&&!v.shiftKey&&!v.altKey?"meta":null}static _scanCodeToKeyCode(v){const u=E.IMMUTABLE_CODE_TO_KEY_CODE[v];if(u!==-1)return u;switch(v){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(v){if(!v)return null;if(v instanceof m.SimpleKeybinding)return v;const u=this._scanCodeToKeyCode(v.scanCode);return u===0?null:new m.SimpleKeybinding(v.ctrlKey,v.shiftKey,v.altKey,v.metaKey,u)}static resolveUserBinding(v,u){const h=(0,I.removeElementsAfterNulls)(v.map(i=>this._resolveSimpleUserBinding(i)));return h.length>0?[new L(new m.ChordKeybinding(h),u)]:[]}}e.USLayoutResolvedKeybinding=L}),define(re[133],se([1,0,9]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,E.createDecorator)("labelService")}),define(re[109],se([1,0,9]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,E.createDecorator)("layoutService")}),define(re[284],se([1,0,7,4,109,29,53]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScopedLayoutService=void 0;let _=class{constructor(h){this._codeEditorService=h,this.onDidLayout=m.Event.None}get dimension(){return this._dimension||(this._dimension=E.getClientArea(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var h;(h=this._codeEditorService.getFocusedCodeEditor())===null||h===void 0||h.focus()}};_=Ie([fe(0,I.ICodeEditorService)],_);let v=class extends _{constructor(h,i){super(i);this._container=h}get hasContainer(){return!1}get container(){return this._container}};v=Ie([fe(1,I.ICodeEditorService)],v),e.EditorScopedLayoutService=v,(0,L.registerSingleton)(k.ILayoutService,_)}),define(re[626],se([1,0,7,4,2,68,35,16,109]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let u=class extends k.Disposable{constructor(i,n,t){super();this._contextKeyService=i,this._layoutService=n,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new m.Emitter,this._onDidChangeReducedMotion=new m.Emitter,this._accessibilityModeEnabledContext=I.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const o=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(r=>{r.affectsConfiguration("editor.accessibilitySupport")&&(o(),this._onDidChangeScreenReaderOptimized.fire()),r.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),o(),this._register(this.onDidChangeScreenReaderOptimized(()=>o()));const d=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=d.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(d)}initReducedMotionListeners(i){if(!this._layoutService.hasContainer)return;this._register((0,E.addDisposableListener)(i,"change",()=>{this._systemMotionReduced=i.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const n=()=>{const t=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",t),this._layoutService.container.classList.toggle("enable-motion",!t)};n(),this._register(this.onDidChangeReducedMotion(()=>n()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const i=this._configurationService.getValue("editor.accessibilitySupport");return i==="on"||i==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const i=this._configMotionReduced;return i==="on"||i==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};u=Ie([fe(0,_.IContextKeyService),fe(1,v.ILayoutService),fe(2,L.IConfigurationService)],u),e.AccessibilityService=u}),define(re[627],se([1,0,228,2,109]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=void 0;let I=class extends m.Disposable{constructor(_){super();this.layoutService=_,this.currentViewDisposable=m.Disposable.None,this.container=_.hasContainer?_.container:null,this.contextView=this._register(new E.ContextView(this.container,1)),this.layout(),this._register(_.onDidLayout(()=>this.layout()))}setContainer(_,v){this.contextView.setContainer(_,v||1)}showContextView(_,v,u){v?v!==this.container&&(this.container=v,this.setContainer(v,u?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(_);const h=(0,m.toDisposable)(()=>{this.currentViewDisposable===h&&this.hideContextView()});return this.currentViewDisposable=h,h}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(_){this.contextView.hide(_)}};I=Ie([fe(0,k.ILayoutService)],I),e.ContextViewService=I}),define(re[69],se([1,0,4,2,9]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.ILogService=(0,k.createDecorator)("logService");var I;(function(u){u[u.Trace=0]="Trace",u[u.Debug=1]="Debug",u[u.Info=2]="Info",u[u.Warning=3]="Warning",u[u.Error=4]="Error",u[u.Critical=5]="Critical",u[u.Off=6]="Off"})(I=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=I.Info;class L extends m.Disposable{constructor(){super(...arguments);this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new E.Emitter)}setLevel(h){this.level!==h&&(this.level=h,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}e.AbstractLogger=L;class _ extends L{constructor(h=e.DEFAULT_LOG_LEVEL){super();this.setLevel(h)}trace(h,...i){this.getLevel()<=I.Trace&&console.log("%cTRACE","color: #888",h,...i)}debug(h,...i){this.getLevel()<=I.Debug&&console.log("%cDEBUG","background: #eee; color: #888",h,...i)}info(h,...i){this.getLevel()<=I.Info&&console.log("%c INFO","color: #33f",h,...i)}error(h,...i){this.getLevel()<=I.Error&&console.log("%c  ERR","color: #f33",h,...i)}dispose(){}}e.ConsoleLogger=_;class v extends m.Disposable{constructor(h){super();this.logger=h,this._register(h)}getLevel(){return this.logger.getLevel()}trace(h,...i){this.logger.trace(h,...i)}debug(h,...i){this.logger.debug(h,...i)}info(h,...i){this.logger.info(h,...i)}error(h,...i){this.logger.error(h,...i)}}e.LogService=v}),define(re[628],se([1,0,34,7,10,2,109,69]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;let v=class extends I.Disposable{constructor(h,i){super();this.layoutService=h,this.logService=i,this.mapTextToType=new Map,this.findText="",(E.isSafari||E.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const h=()=>{const i=new k.DeferredPromise;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=i,navigator.clipboard.write([new ClipboardItem({"text/plain":i.p})]).catch(n=>Le(this,void 0,void 0,function*(){(!(n instanceof Error)||n.name!=="NotAllowedError"||!i.isRejected)&&this.logService.error(n)}))};this.layoutService.hasContainer&&(this._register((0,m.addDisposableListener)(this.layoutService.container,"click",h)),this._register((0,m.addDisposableListener)(this.layoutService.container,"keydown",h)))}writeText(h,i){return Le(this,void 0,void 0,function*(){if(i){this.mapTextToType.set(i,h);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(h);try{return yield navigator.clipboard.writeText(h)}catch(o){console.error(o)}const n=document.activeElement,t=document.body.appendChild((0,m.$)("textarea",{"aria-hidden":!0}));t.style.height="1px",t.style.width="1px",t.style.position="absolute",t.value=h,t.focus(),t.select(),document.execCommand("copy"),n instanceof HTMLElement&&n.focus(),document.body.removeChild(t)})}readText(h){return Le(this,void 0,void 0,function*(){if(h)return this.mapTextToType.get(h)||"";try{return yield navigator.clipboard.readText()}catch(i){return console.error(i),""}})}readFindText(){return Le(this,void 0,void 0,function*(){return this.findText})}writeFindText(h){return Le(this,void 0,void 0,function*(){this.findText=h})}};v=Ie([fe(0,L.ILayoutService),fe(1,_.ILogService)],v),e.BrowserClipboardService=v}),define(re[81],se([1,0,78,603,9]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var I;(function(_){_[_.Hint=1]="Hint",_[_.Info=2]="Info",_[_.Warning=4]="Warning",_[_.Error=8]="Error"})(I=e.MarkerSeverity||(e.MarkerSeverity={})),function(_){function v(t,o){return o-t}_.compare=v;const u=Object.create(null);u[_.Error]=(0,m.localize)(0,null),u[_.Warning]=(0,m.localize)(1,null),u[_.Info]=(0,m.localize)(2,null);function h(t){return u[t]||""}_.toString=h;function i(t){switch(t){case E.default.Error:return _.Error;case E.default.Warning:return _.Warning;case E.default.Info:return _.Info;case E.default.Ignore:return _.Hint}}_.fromSeverity=i;function n(t){switch(t){case _.Error:return E.default.Error;case _.Warning:return E.default.Warning;case _.Info:return E.default.Info;case _.Hint:return E.default.Ignore}}_.toSeverity=n}(I=e.MarkerSeverity||(e.MarkerSeverity={}));var L;(function(_){const v="";function u(i){return h(i,!0)}_.makeKey=u;function h(i,n){let t=[v];return i.source?t.push(i.source.replace("\xA6","\\\xA6")):t.push(v),i.code?typeof i.code=="string"?t.push(i.code.replace("\xA6","\\\xA6")):t.push(i.code.value.replace("\xA6","\\\xA6")):t.push(v),i.severity!==void 0&&i.severity!==null?t.push(I.toString(i.severity)):t.push(v),i.message&&n?t.push(i.message.replace("\xA6","\\\xA6")):t.push(v),i.startLineNumber!==void 0&&i.startLineNumber!==null?t.push(i.startLineNumber.toString()):t.push(v),i.startColumn!==void 0&&i.startColumn!==null?t.push(i.startColumn.toString()):t.push(v),i.endLineNumber!==void 0&&i.endLineNumber!==null?t.push(i.endLineNumber.toString()):t.push(v),i.endColumn!==void 0&&i.endColumn!==null?t.push(i.endColumn.toString()):t.push(v),t.push(v),t.join("\xA6")}_.makeKeyOptionalMessage=h})(L=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=(0,k.createDecorator)("markerService")}),define(re[629],se([1,0,18,4,2,84,8,25,3,53,9,81,35]),function(U,e,E,m,k,I,L,_,v,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class t{constructor(c,s,a){this.marker=c,this.index=s,this.total=a}}e.MarkerCoordinate=t;let o=class{constructor(c,s,a){this._markerService=s,this._configService=a,this._onDidChange=new m.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new k.DisposableStore,this._markers=[],this._nextIdx=-1,_.URI.isUri(c)?this._resourceFilter=b=>b.toString()===c.toString():c&&(this._resourceFilter=c);const l=this._configService.getValue("problems.sortOrder"),f=(b,p)=>{let C=(0,L.compare)(b.resource.toString(),p.resource.toString());return C===0&&(l==="position"?C=v.Range.compareRangesUsingStarts(b,p)||i.MarkerSeverity.compare(b.severity,p.severity):C=i.MarkerSeverity.compare(b.severity,p.severity)||v.Range.compareRangesUsingStarts(b,p)),C},g=()=>{this._markers=this._markerService.read({resource:_.URI.isUri(c)?c:void 0,severities:i.MarkerSeverity.Error|i.MarkerSeverity.Warning|i.MarkerSeverity.Info}),typeof c=="function"&&(this._markers=this._markers.filter(b=>this._resourceFilter(b.resource))),this._markers.sort(f)};g(),this._dispoables.add(s.onMarkerChanged(b=>{(!this._resourceFilter||b.some(p=>this._resourceFilter(p)))&&(g(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(c){return!this._resourceFilter&&!c?!0:!this._resourceFilter||!c?!1:this._resourceFilter(c)}get selected(){const c=this._markers[this._nextIdx];return c&&new t(c,this._nextIdx+1,this._markers.length)}_initIdx(c,s,a){let l=!1,f=this._markers.findIndex(g=>g.resource.toString()===c.uri.toString());f<0&&(f=(0,E.binarySearch)(this._markers,{resource:c.uri},(g,b)=>(0,L.compare)(g.resource.toString(),b.resource.toString())),f<0&&(f=~f));for(let g=f;g<this._markers.length;g++){let b=v.Range.lift(this._markers[g]);if(b.isEmpty()){const p=c.getWordAtPosition(b.getStartPosition());p&&(b=new v.Range(b.startLineNumber,p.startColumn,b.startLineNumber,p.endColumn))}if(s&&(b.containsPosition(s)||s.isBeforeOrEqual(b.getStartPosition()))){this._nextIdx=g,l=!0;break}if(this._markers[g].resource.toString()!==c.uri.toString())break}l||(this._nextIdx=a?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(c,s,a){if(this._markers.length===0)return!1;let l=this._nextIdx;return this._nextIdx===-1?this._initIdx(s,a,c):c?this._nextIdx=(this._nextIdx+1)%this._markers.length:c||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),l!==this._nextIdx}find(c,s){let a=this._markers.findIndex(l=>l.resource.toString()===c.toString());if(!(a<0)){for(;a<this._markers.length;a++)if(v.Range.containsPosition(this._markers[a],s))return new t(this._markers[a],a+1,this._markers.length)}}};o=Ie([fe(1,i.IMarkerService),fe(2,n.IConfigurationService)],o),e.MarkerList=o,e.IMarkerNavigationService=(0,h.createDecorator)("IMarkerNavigationService");let d=class{constructor(c,s){this._markerService=c,this._configService=s,this._provider=new I.LinkedList}getMarkerList(c){for(let s of this._provider){const a=s.getMarkerList(c);if(a)return a}return new o(c,this._markerService,this._configService)}};d=Ie([fe(0,i.IMarkerService),fe(1,n.IConfigurationService)],d),(0,u.registerSingleton)(e.IMarkerNavigationService,d,!0)}),define(re[630],se([1,0,18,4,55,51,45,25,81]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=void 0;class u{constructor(){this._byResource=new I.ResourceMap,this._byOwner=new Map}set(t,o,d){let r=this._byResource.get(t);r||(r=new Map,this._byResource.set(t,r)),r.set(o,d);let c=this._byOwner.get(o);c||(c=new I.ResourceMap,this._byOwner.set(o,c)),c.set(t,d)}get(t,o){let d=this._byResource.get(t);return d==null?void 0:d.get(o)}delete(t,o){let d=!1,r=!1,c=this._byResource.get(t);c&&(d=c.delete(o));let s=this._byOwner.get(o);if(s&&(r=s.delete(t)),d!==r)throw new Error("illegal state");return d&&r}values(t){var o,d,r,c;return typeof t=="string"?(d=(o=this._byOwner.get(t))===null||o===void 0?void 0:o.values())!==null&&d!==void 0?d:k.Iterable.empty():_.URI.isUri(t)?(c=(r=this._byResource.get(t))===null||r===void 0?void 0:r.values())!==null&&c!==void 0?c:k.Iterable.empty():k.Iterable.map(k.Iterable.concat(...this._byOwner.values()),s=>s[1])}}class h{constructor(t){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new I.ResourceMap,this._service=t,this._subscription=t.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(t){for(const o of t){const d=this._data.get(o);d&&this._substract(d);const r=this._resourceStats(o);this._add(r),this._data.set(o,r)}}_resourceStats(t){const o={errors:0,warnings:0,infos:0,unknowns:0};if(t.scheme===L.Schemas.inMemory||t.scheme===L.Schemas.walkThrough||t.scheme===L.Schemas.walkThroughSnippet)return o;for(const{severity:d}of this._service.read({resource:t}))d===v.MarkerSeverity.Error?o.errors+=1:d===v.MarkerSeverity.Warning?o.warnings+=1:d===v.MarkerSeverity.Info?o.infos+=1:o.unknowns+=1;return o}_substract(t){this.errors-=t.errors,this.warnings-=t.warnings,this.infos-=t.infos,this.unknowns-=t.unknowns}_add(t){this.errors+=t.errors,this.warnings+=t.warnings,this.infos+=t.infos,this.unknowns+=t.unknowns}}class i{constructor(){this._onMarkerChanged=new m.DebounceEmitter({delay:0,merge:i._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new u,this._stats=new h(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(t,o){for(const d of o||[])this.changeOne(t,d,[])}changeOne(t,o,d){if((0,E.isFalsyOrEmpty)(d))this._data.delete(o,t)&&this._onMarkerChanged.fire([o]);else{const r=[];for(const c of d){const s=i._toMarker(t,o,c);s&&r.push(s)}this._data.set(o,t,r),this._onMarkerChanged.fire([o])}}static _toMarker(t,o,d){let{code:r,severity:c,message:s,source:a,startLineNumber:l,startColumn:f,endLineNumber:g,endColumn:b,relatedInformation:p,tags:C}=d;if(!!s)return l=l>0?l:1,f=f>0?f:1,g=g>=l?g:l,b=b>0?b:f,{resource:o,owner:t,code:r,severity:c,message:s,source:a,startLineNumber:l,startColumn:f,endLineNumber:g,endColumn:b,relatedInformation:p,tags:C}}read(t=Object.create(null)){let{owner:o,resource:d,severities:r,take:c}=t;if((!c||c<0)&&(c=-1),o&&d){const s=this._data.get(d,o);if(s){const a=[];for(const l of s)if(i._accept(l,r)){const f=a.push(l);if(c>0&&f===c)break}return a}else return[]}else if(!o&&!d){const s=[];for(let a of this._data.values())for(let l of a)if(i._accept(l,r)){const f=s.push(l);if(c>0&&f===c)return s}return s}else{const s=this._data.values(d??o),a=[];for(const l of s)for(const f of l)if(i._accept(f,r)){const g=a.push(f);if(c>0&&g===c)return a}return a}}static _accept(t,o){return o===void 0||(o&t.severity)===t.severity}static _merge(t){const o=new I.ResourceMap;for(let d of t)for(let r of d)o.set(r,!0);return Array.from(o.keys())}}e.MarkerService=i}),define(re[40],se([1,0,78,9]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=E.default,e.INotificationService=(0,m.createDecorator)("notificationService");class k{}e.NoOpNotification=k}),define(re[50],se([1,0,2,8,25,9]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractSelection=e.matchesSomeScheme=e.matchesScheme=e.NullOpenerService=e.IOpenerService=void 0,e.IOpenerService=(0,I.createDecorator)("openerService"),e.NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener(){return E.Disposable.None},registerValidator(){return E.Disposable.None},registerExternalUriResolver(){return E.Disposable.None},setDefaultExternalOpener(){},registerExternalOpener(){return E.Disposable.None},open(){return Le(this,void 0,void 0,function*(){return!1})},resolveExternalUri(u){return Le(this,void 0,void 0,function*(){return{resolved:u,dispose(){}}})}});function L(u,h){return k.URI.isUri(u)?(0,m.equalsIgnoreCase)(u.scheme,h):(0,m.startsWithIgnoreCase)(u,h+":")}e.matchesScheme=L;function _(u,...h){return h.some(i=>L(u,i))}e.matchesSomeScheme=_;function v(u){let h;const i=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(u.fragment);return i&&(h={startLineNumber:parseInt(i[1]),startColumn:i[2]?parseInt(i[2]):1,endLineNumber:i[4]?parseInt(i[4]):void 0,endColumn:i[4]?i[5]?parseInt(i[5]):1:void 0},u=u.with({fragment:""})),{selection:h,uri:u}}e.extractSelection=v}),define(re[631],se([1,0,7,21,84,51,222,45,42,25,29,26,610,50]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let o=class{constructor(s){this._commandService=s}open(s,a){return Le(this,void 0,void 0,function*(){if(!(0,t.matchesScheme)(s,_.Schemas.command))return!1;if(!(a==null?void 0:a.allowCommands))return!0;typeof s=="string"&&(s=u.URI.parse(s));let l=[];try{l=(0,L.parse)(decodeURIComponent(s.query))}catch{try{l=(0,L.parse)(s.query)}catch{}}return Array.isArray(l)||(l=[l]),yield this._commandService.executeCommand(s.path,...l),!0})}};o=Ie([fe(0,i.ICommandService)],o);let d=class{constructor(s){this._editorService=s}open(s,a){return Le(this,void 0,void 0,function*(){typeof s=="string"&&(s=u.URI.parse(s));const{selection:l,uri:f}=(0,t.extractSelection)(s);return s=f,s.scheme===_.Schemas.file&&(s=(0,v.normalizePath)(s)),yield this._editorService.openCodeEditor({resource:s,options:Object.assign({selection:l,source:(a==null?void 0:a.fromUserGesture)?n.EditorOpenSource.USER:n.EditorOpenSource.API},a==null?void 0:a.editorOptions)},this._editorService.getFocusedCodeEditor(),a==null?void 0:a.openToSide),!0})}};d=Ie([fe(0,h.ICodeEditorService)],d);let r=class{constructor(s,a){this._openers=new k.LinkedList,this._validators=new k.LinkedList,this._resolvers=new k.LinkedList,this._resolvedUriTargets=new I.ResourceMap(l=>l.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new k.LinkedList,this._defaultExternalOpener={openExternal:l=>Le(this,void 0,void 0,function*(){return(0,t.matchesSomeScheme)(l,_.Schemas.http,_.Schemas.https)?E.windowOpenNoOpener(l):window.location.href=l,!0})},this._openers.push({open:(l,f)=>Le(this,void 0,void 0,function*(){return(f==null?void 0:f.openExternal)||(0,t.matchesSomeScheme)(l,_.Schemas.mailto,_.Schemas.http,_.Schemas.https,_.Schemas.vsls)?(yield this._doOpenExternal(l,f),!0):!1})}),this._openers.push(new o(a)),this._openers.push(new d(s))}registerOpener(s){return{dispose:this._openers.unshift(s)}}registerValidator(s){return{dispose:this._validators.push(s)}}registerExternalUriResolver(s){return{dispose:this._resolvers.push(s)}}setDefaultExternalOpener(s){this._defaultExternalOpener=s}registerExternalOpener(s){return{dispose:this._externalOpeners.push(s)}}open(s,a){var l;return Le(this,void 0,void 0,function*(){const f=typeof s=="string"?u.URI.parse(s):s,g=(l=this._resolvedUriTargets.get(f))!==null&&l!==void 0?l:s;for(const b of this._validators)if(!(yield b.shouldOpen(g)))return!1;for(const b of this._openers)if(yield b.open(s,a))return!0;return!1})}resolveExternalUri(s,a){return Le(this,void 0,void 0,function*(){for(const l of this._resolvers)try{const f=yield l.resolveExternalUri(s,a);if(f)return this._resolvedUriTargets.has(f.resolved)||this._resolvedUriTargets.set(f.resolved,s),f}catch{}throw new Error("Could not resolve external URI: "+s.toString())})}_doOpenExternal(s,a){return Le(this,void 0,void 0,function*(){const l=typeof s=="string"?u.URI.parse(s):s;let f;try{f=(yield this.resolveExternalUri(l,a)).resolved}catch{f=l}let g;if(typeof s=="string"&&l.toString()===f.toString()?g=s:g=encodeURI(f.toString(!0)),a==null?void 0:a.allowContributedOpeners){const b=typeof(a==null?void 0:a.allowContributedOpeners)=="string"?a==null?void 0:a.allowContributedOpeners:void 0;for(const p of this._externalOpeners)if(yield p.openExternal(g,{sourceUri:l,preferredOpenerId:b},m.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(g,{sourceUri:l},m.CancellationToken.None)})}dispose(){this._validators.clear()}};r=Ie([fe(0,h.ICodeEditorService),fe(1,i.ICommandService)],r),e.OpenerService=r}),define(re[70],se([1,0,118,51,117,53,9,69,50]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureDebounceService=e.ILanguageFeatureDebounceService=void 0,e.ILanguageFeatureDebounceService=(0,L.createDecorator)("ILanguageFeatureDebounceService");var u;(function(n){const t=new WeakMap;let o=0;function d(r){let c=t.get(r);return c===void 0&&(c=++o,t.set(r,c)),c}n.of=d})(u||(u={}));class h{constructor(t,o,d,r,c,s){this._logService=t,this._name=o,this._registry=d,this._default=r,this._min=c,this._max=s,this._cache=new m.LRUCache(50,.7)}_key(t){return t.id+this._registry.all(t).reduce((o,d)=>(0,E.doHash)(u.of(d),o),0)}get(t){const o=this._key(t),d=this._cache.get(o);return d?(0,k.clamp)(d.value,this._min,this._max):this.default()}update(t,o){const d=this._key(t);let r=this._cache.get(d);r||(r=new k.SlidingWindowAverage(6),this._cache.set(d,r));const c=(0,k.clamp)(r.update(o),this._min,this._max);return(0,v.matchesScheme)(t.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${t.uri.toString()} is ${c}ms`),c}_overall(){const t=new k.MovingAverage;for(const[,o]of this._cache)t.update(o.value);return t.value}default(){const t=this._overall()|0||this._default;return(0,k.clamp)(t,this._min,this._max)}}let i=class{constructor(t){this._logService=t,this._data=new Map}for(t,o,d){var r,c,s;const a=(r=d==null?void 0:d.min)!==null&&r!==void 0?r:50,l=(c=d==null?void 0:d.max)!==null&&c!==void 0?c:Math.pow(a,2),f=(s=d==null?void 0:d.key)!==null&&s!==void 0?s:void 0,g=`${u.of(t)},${a}${f?","+f:""}`;let b=this._data.get(g);return b||(b=new h(this._logService,o,t,this._overallAverage()|0||a*1.5,a,l),this._data.set(g,b)),b}_overallAverage(){let t=new k.MovingAverage;for(let o of this._data.values())t.update(o.default());return t.value}};i=Ie([fe(0,_.ILogService)],i),e.LanguageFeatureDebounceService=i,(0,I.registerSingleton)(e.ILanguageFeatureDebounceService,i,!0)}),define(re[206],se([1,0,18,21,13,55,51,11,3,70,9,53,49,2,20]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModelService=e.IOutlineModelService=e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class d{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(f,g){let b;typeof f=="string"?b=`${g.id}/${f}`:(b=`${g.id}/${f.name}`,g.children.get(b)!==void 0&&(b=`${g.id}/${f.name}_${f.range.startLineNumber}_${f.range.startColumn}`));let p=b;for(let C=0;g.children.get(p)!==void 0;C++)p=`${b}_${C}`;return p}static empty(f){return f.children.size===0}}e.TreeElement=d;class r extends d{constructor(f,g,b){super();this.id=f,this.parent=g,this.symbol=b,this.children=new Map}}e.OutlineElement=r;class c extends d{constructor(f,g,b,p){super();this.id=f,this.parent=g,this.label=b,this.order=p,this.children=new Map}}e.OutlineGroup=c;class s extends d{constructor(f){super();this.uri=f,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(f,g,b){const p=new m.CancellationTokenSource(b),C=new s(g.uri),S=f.ordered(g),y=S.map((T,N)=>{var R;let B=d.findId(`provider_${N}`,C),O=new c(B,C,(R=T.displayName)!==null&&R!==void 0?R:"Unknown Outline Provider",N);return Promise.resolve(T.provideDocumentSymbols(g,p.token)).then(D=>{for(const A of D||[])s._makeOutlineElement(A,O);return O},D=>((0,k.onUnexpectedExternalError)(D),O)).then(D=>{d.empty(D)?D.remove():C._groups.set(B,D)})}),w=f.onDidChange(()=>{const T=f.ordered(g);(0,E.equals)(T,S)||p.cancel()});return Promise.all(y).then(()=>p.token.isCancellationRequested&&!b.isCancellationRequested?s.create(f,g,b):C._compact()).finally(()=>{w.dispose()})}static _makeOutlineElement(f,g){let b=d.findId(f,g),p=new r(b,g,f);if(f.children)for(const C of f.children)s._makeOutlineElement(C,p);g.children.set(p.id,p)}_compact(){let f=0;for(const[g,b]of this._groups)b.children.size===0?this._groups.delete(g):f+=1;if(f!==1)this.children=this._groups;else{let g=I.Iterable.first(this._groups.values());for(let[,b]of g.children)b.parent=this,this.children.set(b.id,b)}return this}getTopLevelSymbols(){const f=[];for(const g of this.children.values())g instanceof r?f.push(g.symbol):f.push(...I.Iterable.map(g.children.values(),b=>b.symbol));return f.sort((g,b)=>v.Range.compareRangesUsingStarts(g.range,b.range))}asListOfDocumentSymbols(){const f=this.getTopLevelSymbols(),g=[];return s._flattenDocumentSymbols(g,f,""),g.sort((b,p)=>_.Position.compare(v.Range.getStartPosition(b.range),v.Range.getStartPosition(p.range))||_.Position.compare(v.Range.getEndPosition(p.range),v.Range.getEndPosition(b.range)))}static _flattenDocumentSymbols(f,g,b){for(const p of g)f.push({kind:p.kind,tags:p.tags,name:p.name,detail:p.detail,containerName:p.containerName||b,range:p.range,selectionRange:p.selectionRange,children:void 0}),p.children&&s._flattenDocumentSymbols(f,p.children,p.name)}}e.OutlineModel=s,e.IOutlineModelService=(0,h.createDecorator)("IOutlineModelService");let a=class{constructor(f,g,b){this._languageFeaturesService=f,this._disposables=new t.DisposableStore,this._cache=new L.LRUCache(10,.7),this._debounceInformation=g.for(f.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(b.onModelRemoved(p=>{this._cache.delete(p.id)}))}dispose(){this._disposables.dispose()}getOrCreate(f,g){return Le(this,void 0,void 0,function*(){const b=this._languageFeaturesService.documentSymbolProvider,p=b.ordered(f);let C=this._cache.get(f.id);if(!C||C.versionId!==f.getVersionId()||!(0,E.equals)(C.provider,p)){let y=new m.CancellationTokenSource;C={versionId:f.getVersionId(),provider:p,promiseCnt:0,source:y,promise:s.create(b,f,y.token),model:void 0},this._cache.set(f.id,C);const w=Date.now();C.promise.then(T=>{C.model=T,this._debounceInformation.update(f,Date.now()-w)}).catch(T=>{this._cache.delete(f.id)})}if(C.model)return C.model;C.promiseCnt+=1;const S=g.onCancellationRequested(()=>{--C.promiseCnt==0&&(C.source.cancel(),this._cache.delete(f.id))});try{return yield C.promise}finally{S.dispose()}})}};a=Ie([fe(0,o.ILanguageFeaturesService),fe(1,u.ILanguageFeatureDebounceService),fe(2,n.IModelService)],a),e.OutlineModelService=a,(0,i.registerSingleton)(e.IOutlineModelService,a,!0)}),define(re[632],se([1,0,21,19,25,57,206,26]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),_.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",function(v,...u){return Le(this,void 0,void 0,function*(){const[h]=u;(0,m.assertType)(k.URI.isUri(h));const i=v.get(L.IOutlineModelService),t=yield v.get(I.ITextModelService).createModelReference(h);try{return(yield i.getOrCreate(t.object.textEditorModel,E.CancellationToken.None)).getTopLevelSymbols()}finally{t.dispose()}})})}),define(re[76],se([1,0,9]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=e.emptyProgressRunner=void 0,e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class m{constructor(I){this.callback=I}report(I){this._value=I,this.callback(this._value)}}e.Progress=m,m.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,E.createDecorator)("editorProgressService")}),define(re[633],se([1,0,10,21,2]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var I;(function(u){u[u.NO_ACTION=0]="NO_ACTION",u[u.CLOSE_PICKER=1]="CLOSE_PICKER",u[u.REFRESH_PICKER=2]="REFRESH_PICKER",u[u.REMOVE_ITEM=3]="REMOVE_ITEM"})(I=e.TriggerAction||(e.TriggerAction={}));function L(u){const h=u;return Array.isArray(h.items)}function _(u){const h=u;return!!h.picks&&h.additionalPicks instanceof Promise}class v extends k.Disposable{constructor(h,i){super();this.prefix=h,this.options=i}provide(h,i){var n;const t=new k.DisposableStore;h.canAcceptInBackground=!!((n=this.options)===null||n===void 0?void 0:n.canAcceptInBackground),h.matchOnLabel=h.matchOnDescription=h.matchOnDetail=h.sortByLabel=!1;let o;const d=t.add(new k.MutableDisposable),r=()=>Le(this,void 0,void 0,function*(){const c=d.value=new k.DisposableStore;o==null||o.dispose(!0),h.busy=!1,o=new m.CancellationTokenSource(i);const s=o.token,a=h.value.substr(this.prefix.length).trim(),l=this._getPicks(a,c,s),f=(g,b)=>{var p;let C,S;if(L(g)?(C=g.items,S=g.active):C=g,C.length===0){if(b)return!1;a.length>0&&((p=this.options)===null||p===void 0?void 0:p.noResultsPick)&&(C=[this.options.noResultsPick])}return h.items=C,S&&(h.activeItems=[S]),!0};if(l!==null)if(_(l)){let g=!1,b=!1;yield Promise.all([(()=>Le(this,void 0,void 0,function*(){yield(0,E.timeout)(v.FAST_PICKS_RACE_DELAY),!s.isCancellationRequested&&(b||(g=f(l.picks,!0)))}))(),(()=>Le(this,void 0,void 0,function*(){h.busy=!0;try{const p=yield l.additionalPicks;if(s.isCancellationRequested)return;let C,S;L(l.picks)?(C=l.picks.items,S=l.picks.active):C=l.picks;let y,w;if(L(p)?(y=p.items,w=p.active):y=p,y.length>0||!g){let T;if(!S&&!w){const N=h.activeItems[0];N&&C.indexOf(N)!==-1&&(T=N)}f({items:[...C,...y],active:S||w||T})}}finally{s.isCancellationRequested||(h.busy=!1),b=!0}}))()])}else if(!(l instanceof Promise))f(l);else{h.busy=!0;try{const g=yield l;if(s.isCancellationRequested)return;f(g)}finally{s.isCancellationRequested||(h.busy=!1)}}});return t.add(h.onDidChangeValue(()=>r())),r(),t.add(h.onDidAccept(c=>{const[s]=h.selectedItems;typeof(s==null?void 0:s.accept)=="function"&&(c.inBackground||h.hide(),s.accept(h.keyMods,c))})),t.add(h.onDidTriggerItemButton(({button:c,item:s})=>Le(this,void 0,void 0,function*(){var a,l;if(typeof s.trigger=="function"){const f=(l=(a=s.buttons)===null||a===void 0?void 0:a.indexOf(c))!==null&&l!==void 0?l:-1;if(f>=0){const g=s.trigger(f,h.keyMods),b=typeof g=="number"?g:yield g;if(i.isCancellationRequested)return;switch(b){case I.NO_ACTION:break;case I.CLOSE_PICKER:h.hide();break;case I.REFRESH_PICKER:r();break;case I.REMOVE_ITEM:{const p=h.items.indexOf(s);if(p!==-1){const C=h.items.slice(),S=C.splice(p,1),y=h.activeItems.filter(T=>T!==S[0]),w=h.keepScrollPosition;h.keepScrollPosition=!0,h.items=C,y&&(h.activeItems=y),h.keepScrollPosition=w}break}}}}}))),t}}e.PickerQuickAccessProvider=v,v.FAST_PICKS_RACE_DELAY=200});var Jt=this&&this.__createBinding||(Object.create?function(U,e,E,m){m===void 0&&(m=E);var k=Object.getOwnPropertyDescriptor(e,E);(!k||("get"in k?!e.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return e[E]}}),Object.defineProperty(U,m,k)}:function(U,e,E,m){m===void 0&&(m=E),U[m]=e[E]}),ei=this&&this.__exportStar||function(U,e){for(var E in U)E!=="default"&&!Object.prototype.hasOwnProperty.call(e,E)&&Jt(e,U,E)};define(re[82],se([1,0,9,226]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=void 0,ei(m,e),e.IQuickInputService=(0,E.createDecorator)("quickInputService")}),define(re[38],se([1,0,218,19]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class k{constructor(){this.data=new Map}add(L,_){E.ok(m.isString(L)),E.ok(m.isObject(_)),E.ok(!this.data.has(L),"There is already an extension with this id"),this.data.set(L,_)}as(L){return this.data.get(L)||null}}e.Registry=new k}),define(re[207],se([1,0,4,38]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function k(_){return _.length>0&&_.charAt(_.length-1)==="#"?_.substring(0,_.length-1):_}class I{constructor(){this._onDidChangeSchema=new E.Emitter,this.schemasById={}}registerSchema(v,u){this.schemasById[k(v)]=u,this._onDidChangeSchema.fire(v)}notifySchemaChanged(v){this._onDidChangeSchema.fire(v)}}const L=new I;m.Registry.add(e.Extensions.JSONContribution,L)}),define(re[110],se([1,0,18,4,19,597,35,207,38]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateProperty=e.getDefaultValue=e.overrideIdentifiersFromKey=e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const u=v.Registry.as(_.Extensions.JSONContribution);class h{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new m.Emitter,this._onDidUpdateConfiguration=new m.Emitter,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:I.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},u.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(s,a=!0){this.registerConfigurations([s],a)}registerConfigurations(s,a=!0){const l=this.doRegisterConfigurations(s,a);u.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:l})}registerDefaultConfigurations(s){var a;const l=[],f=[];for(const{overrides:g,source:b}of s)for(const p in g)if(l.push(p),e.OVERRIDE_PROPERTY_REGEX.test(p)){const C=Object.assign(Object.assign({},((a=this.configurationDefaultsOverrides.get(p))===null||a===void 0?void 0:a.value)||{}),g[p]);this.configurationDefaultsOverrides.set(p,{source:b,value:C});const S=(0,L.getLanguageTagSettingPlainKey)(p),y={type:"object",default:C,description:I.localize(1,null,S),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:C,source:k.isString(b)?void 0:b};f.push(...t(p)),this.configurationProperties[p]=y,this.defaultLanguageConfigurationOverridesNode.properties[p]=y}else{this.configurationDefaultsOverrides.set(p,{value:g[p],source:b});const C=this.configurationProperties[p];C&&(this.updatePropertyDefaultValue(p,C),this.updateSchema(p,C))}this.registerOverrideIdentifiers(f),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:l,defaultsOverrides:!0})}registerOverrideIdentifiers(s){for(const a of s)this.overrideIdentifiers.add(a);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(s,a){const l=[];return s.forEach(f=>{l.push(...this.validateAndRegisterProperties(f,a,f.extensionInfo,f.restrictedProperties)),this.configurationContributors.push(f),this.registerJSONConfiguration(f)}),l}validateAndRegisterProperties(s,a=!0,l,f,g=3){g=k.isUndefinedOrNull(s.scope)?g:s.scope;let b=[],p=s.properties;if(p)for(let S in p){if(a&&r(S)){delete p[S];continue}const y=p[S];if(y.source=l,y.defaultDefaultValue=p[S].default,this.updatePropertyDefaultValue(S,y),e.OVERRIDE_PROPERTY_REGEX.test(S)?y.scope=void 0:(y.scope=k.isUndefinedOrNull(y.scope)?g:y.scope,y.restricted=k.isUndefinedOrNull(y.restricted)?!!(f==null?void 0:f.includes(S)):y.restricted),p[S].hasOwnProperty("included")&&!p[S].included){this.excludedConfigurationProperties[S]=p[S],delete p[S];continue}else this.configurationProperties[S]=p[S];!p[S].deprecationMessage&&p[S].markdownDeprecationMessage&&(p[S].deprecationMessage=p[S].markdownDeprecationMessage),b.push(S)}let C=s.allOf;if(C)for(let S of C)b.push(...this.validateAndRegisterProperties(S,a,l,f,g));return b}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(s){const a=l=>{let f=l.properties;if(f)for(const b in f)this.updateSchema(b,f[b]);let g=l.allOf;g&&g.forEach(a)};a(s)}updateSchema(s,a){switch(e.allSettings.properties[s]=a,a.scope){case 1:e.applicationSettings.properties[s]=a;break;case 2:e.machineSettings.properties[s]=a;break;case 6:e.machineOverridableSettings.properties[s]=a;break;case 3:e.windowSettings.properties[s]=a;break;case 4:e.resourceSettings.properties[s]=a;break;case 5:e.resourceSettings.properties[s]=a,this.resourceLanguageSettingsSchema.properties[s]=a;break}}updateOverridePropertyPatternKey(){for(const s of this.overrideIdentifiers.values()){const a=`[${s}]`,l={type:"object",description:I.localize(2,null),errorMessage:I.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(a,l),e.allSettings.properties[a]=l,e.applicationSettings.properties[a]=l,e.machineSettings.properties[a]=l,e.machineOverridableSettings.properties[a]=l,e.windowSettings.properties[a]=l,e.resourceSettings.properties[a]=l}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const s={type:"object",description:I.localize(4,null),errorMessage:I.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=s,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(s,a){const l=this.configurationDefaultsOverrides.get(s);let f=l==null?void 0:l.value,g=l==null?void 0:l.source;k.isUndefined(f)&&(f=a.defaultDefaultValue,g=void 0),k.isUndefined(f)&&(f=o(a.type)),a.default=f,a.defaultValueSource=g}}const i="\\[([^\\]]+)\\]",n=new RegExp(i,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${i})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function t(c){const s=[];if(e.OVERRIDE_PROPERTY_REGEX.test(c)){let a=n.exec(c);for(;a==null?void 0:a.length;){const l=a[1].trim();l&&s.push(l),a=n.exec(c)}}return(0,E.distinct)(s)}e.overrideIdentifiersFromKey=t;function o(c){switch(Array.isArray(c)?c[0]:c){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=o;const d=new h;v.Registry.add(e.Extensions.Configuration,d);function r(c){return c.trim()?e.OVERRIDE_PROPERTY_REGEX.test(c)?I.localize(7,null,c):d.getConfigurationProperties()[c]!==void 0?I.localize(8,null,c):null:I.localize(6,null)}e.validateProperty=r}),define(re[634],se([1,0,33,148,518,110,38]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isDiffEditorConfigurationKey=e.isEditorConfigurationKey=e.editorConfigurationBaseNode=void 0,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:k.localize(0,null),scope:5});const _=Object.assign(Object.assign({},e.editorConfigurationBaseNode),{properties:{"editor.tabSize":{type:"number",default:m.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:k.localize(1,null)},"editor.insertSpaces":{type:"boolean",default:m.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:k.localize(2,null)},"editor.detectIndentation":{type:"boolean",default:m.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:k.localize(3,null)},"editor.trimAutoWhitespace":{type:"boolean",default:m.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:k.localize(4,null)},"editor.largeFileOptimizations":{type:"boolean",default:m.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:k.localize(5,null)},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:k.localize(6,null)},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[k.localize(7,null),k.localize(8,null),k.localize(9,null)],description:k.localize(10,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[k.localize(11,null),k.localize(12,null),k.localize(13,null)],default:"configuredByTheme",description:k.localize(14,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:k.localize(15,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:k.localize(16,null)},"editor.language.brackets":{type:["array","null"],default:null,description:k.localize(17,null),items:{type:"array",items:[{type:"string",description:k.localize(18,null)},{type:"string",description:k.localize(19,null)}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:k.localize(20,null),items:{type:"array",items:[{type:"string",description:k.localize(21,null)},{type:"string",description:k.localize(22,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:k.localize(23,null)},"diffEditor.maxFileSize":{type:"number",default:50,description:k.localize(24,null)},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:k.localize(25,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:k.localize(26,null)},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:k.localize(27,null)},"diffEditor.codeLens":{type:"boolean",default:!1,description:k.localize(28,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[k.localize(29,null),k.localize(30,null),k.localize(31,null)]}}});function v(o){return typeof o.type!="undefined"||typeof o.anyOf!="undefined"}for(const o of E.editorOptionsRegistry){const d=o.schema;if(typeof d!="undefined")if(v(d))_.properties[`editor.${o.name}`]=d;else for(const r in d)Object.hasOwnProperty.call(d,r)&&(_.properties[r]=d[r])}let u=null;function h(){return u===null&&(u=Object.create(null),Object.keys(_.properties).forEach(o=>{u[o]=!0})),u}function i(o){return h()[`editor.${o}`]||!1}e.isEditorConfigurationKey=i;function n(o){return h()[`diffEditor.${o}`]||!1}e.isDiffEditorConfigurationKey=n,L.Registry.as(I.Extensions.Configuration).registerConfiguration(_)}),define(re[71],se([1,0,526,4,38,138,110]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_LANGUAGE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class _{constructor(){this._onDidChangeLanguages=new m.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(u){return this._languages.push(u),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let h=0,i=this._languages.length;h<i;h++)if(this._languages[h]===u){this._languages.splice(h,1);return}}}}getLanguages(){return this._languages}}e.EditorModesRegistry=_,e.ModesRegistry=new _,k.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_LANGUAGE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_LANGUAGE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[E.localize(0,null),"text"],mimetypes:[I.Mimes.text]}),k.Registry.as(L.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])}),define(re[31],se([1,0,4,2,8,126,95,104,423,428,424,427,186,9,35,37,53,71,426]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationChangeEvent=e.getScopedLineTokens=e.getIndentationAtPosition=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0;class a{constructor(D){this.languageId=D}affects(D){return this.languageId?this.languageId===D:!0}}e.LanguageConfigurationServiceChangeEvent=a,e.ILanguageConfigurationService=(0,t.createDecorator)("languageConfigurationService");let l=class extends m.Disposable{constructor(D,A){super();this.configurationService=D,this.languageService=A,this._registry=this._register(new R),this.onDidChangeEmitter=this._register(new E.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const P=new Set(Object.values(g));this._register(this.configurationService.onDidChangeConfiguration(F=>{const W=F.change.keys.some(z=>P.has(z)),M=F.change.overrides.filter(([z,ee])=>ee.some(ie=>P.has(ie))).map(([z])=>z);if(W)this.configurations.clear(),this.onDidChangeEmitter.fire(new a(void 0));else for(const z of M)this.languageService.isRegisteredLanguageId(z)&&(this.configurations.delete(z),this.onDidChangeEmitter.fire(new a(z)))})),this._register(this._registry.onDidChange(F=>{this.configurations.delete(F.languageId),this.onDidChangeEmitter.fire(new a(F.languageId))}))}register(D,A,P){return this._registry.register(D,A,P)}getLanguageConfiguration(D){let A=this.configurations.get(D);return A||(A=f(D,this._registry,this.configurationService,this.languageService),this.configurations.set(D,A)),A}};l=Ie([fe(0,o.IConfigurationService),fe(1,d.ILanguageService)],l),e.LanguageConfigurationService=l;function f(O,D,A,P){let F=D.getLanguageConfiguration(O);if(!F){if(!P.isRegisteredLanguageId(O))throw new Error(`Language id "${O}" is not configured nor known`);F=new B(O,{})}const W=b(F.languageId,A),M=w([F.underlyingConfig,W]);return new B(F.languageId,M)}const g={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function b(O,D){const A=D.getValue(g.brackets,{overrideIdentifier:O}),P=D.getValue(g.colorizedBracketPairs,{overrideIdentifier:O});return{brackets:p(A),colorizedBracketPairs:p(P)}}function p(O){if(!!Array.isArray(O))return O.map(D=>{if(!(!Array.isArray(D)||D.length!==2))return[D[0],D[1]]}).filter(D=>!!D)}function C(O,D,A){const P=O.getLineContent(D);let F=k.getLeadingWhitespace(P);return F.length>A-1&&(F=F.substring(0,A-1)),F}e.getIndentationAtPosition=C;function S(O,D,A){O.tokenization.forceTokenization(D);const P=O.tokenization.getLineTokens(D),F=typeof A=="undefined"?O.getLineMaxColumn(D)-1:A-1;return(0,_.createScopedLineTokens)(P,F)}e.getScopedLineTokens=S;class y{constructor(D){this.languageId=D,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(D,A){const P=new T(D,A,++this._order);return this._entries.push(P),this._resolved=null,(0,m.toDisposable)(()=>{for(let F=0;F<this._entries.length;F++)if(this._entries[F]===P){this._entries.splice(F,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const D=this._resolve();D&&(this._resolved=new B(this.languageId,D))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(T.cmp),w(this._entries.map(D=>D.configuration)))}}function w(O){let D={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const A of O)D={comments:A.comments||D.comments,brackets:A.brackets||D.brackets,wordPattern:A.wordPattern||D.wordPattern,indentationRules:A.indentationRules||D.indentationRules,onEnterRules:A.onEnterRules||D.onEnterRules,autoClosingPairs:A.autoClosingPairs||D.autoClosingPairs,surroundingPairs:A.surroundingPairs||D.surroundingPairs,autoCloseBefore:A.autoCloseBefore||D.autoCloseBefore,folding:A.folding||D.folding,colorizedBracketPairs:A.colorizedBracketPairs||D.colorizedBracketPairs,__electricCharacterSupport:A.__electricCharacterSupport||D.__electricCharacterSupport};return D}class T{constructor(D,A,P){this.configuration=D,this.priority=A,this.order=P}static cmp(D,A){return D.priority===A.priority?D.order-A.order:D.priority-A.priority}}class N{constructor(D){this.languageId=D}}e.LanguageConfigurationChangeEvent=N;class R extends m.Disposable{constructor(){super();this._entries=new Map,this._onDidChange=this._register(new E.Emitter),this.onDidChange=this._onDidChange.event,this._register(this.register(c.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(D,A,P=0){let F=this._entries.get(D);F||(F=new y(D),this._entries.set(D,F));const W=F.register(A,P);return this._onDidChange.fire(new N(D)),(0,m.toDisposable)(()=>{W.dispose(),this._onDidChange.fire(new N(D))})}getLanguageConfiguration(D){const A=this._entries.get(D);return(A==null?void 0:A.getResolvedConfiguration())||null}}e.LanguageConfigurationRegistry=R;class B{constructor(D,A){this.languageId=D,this.underlyingConfig=A,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new i.OnEnterSupport(this.underlyingConfig):null,this.comments=B._handleComments(this.underlyingConfig),this.characterPair=new v.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||I.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new h.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new s.LanguageBracketsConfiguration(D,this.underlyingConfig)}getWordDefinition(){return(0,I.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new n.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new u.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(D,A,P,F){return this._onEnterSupport?this._onEnterSupport.onEnter(D,A,P,F):null}getAutoClosingPairs(){return new L.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(D){const A=D.comments;if(!A)return null;const P={};if(A.lineComment&&(P.lineCommentToken=A.lineComment),A.blockComment){const[F,W]=A.blockComment;P.blockCommentStartToken=F,P.blockCommentEndToken=W}return P}}e.ResolvedLanguageConfiguration=B,(0,r.registerSingleton)(e.ILanguageConfigurationService,l)}),define(re[285],se([1,0,10,2,225,337,3,31,444,49,158,8,18,69,56,13,20]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerService=void 0;const c=60*1e3,s=5*60*1e3;function a(y,w){const T=y.getModel(w);return!(!T||T.isTooLargeForSyncing())}let l=class extends m.Disposable{constructor(w,T,N,R,B){super();this._modelService=w,this._workerManager=this._register(new g(this._modelService,R)),this._logService=N,this._register(B.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(O,D)=>a(this._modelService,O.uri)?this._workerManager.withWorker().then(A=>A.computeLinks(O.uri)).then(A=>A&&{links:A}):Promise.resolve({links:[]})})),this._register(B.completionProvider.register("*",new f(this._workerManager,T,this._modelService,R)))}dispose(){super.dispose()}canComputeUnicodeHighlights(w){return a(this._modelService,w)}computedUnicodeHighlights(w,T,N){return this._workerManager.withWorker().then(R=>R.computedUnicodeHighlights(w,T,N))}computeDiff(w,T,N,R){return this._workerManager.withWorker().then(B=>B.computeDiff(w,T,N,R))}computeMoreMinimalEdits(w,T){if((0,n.isNonEmptyArray)(T)){if(!a(this._modelService,w))return Promise.resolve(T);const N=o.StopWatch.create(!0),R=this._workerManager.withWorker().then(B=>B.computeMoreMinimalEdits(w,T));return R.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",w.toString(!0),N.elapsed())),Promise.race([R,(0,E.timeout)(1e3).then(()=>T)])}else return Promise.resolve(void 0)}canNavigateValueSet(w){return a(this._modelService,w)}navigateValueSet(w,T,N){return this._workerManager.withWorker().then(R=>R.navigateValueSet(w,T,N))}canComputeWordRanges(w){return a(this._modelService,w)}computeWordRanges(w,T){return this._workerManager.withWorker().then(N=>N.computeWordRanges(w,T))}};l=Ie([fe(0,u.IModelService),fe(1,h.ITextResourceConfigurationService),fe(2,t.ILogService),fe(3,_.ILanguageConfigurationService),fe(4,r.ILanguageFeaturesService)],l),e.EditorWorkerService=l;class f{constructor(w,T,N,R){this.languageConfigurationService=R,this._debugDisplayName="wordbasedCompletions",this._workerManager=w,this._configurationService=T,this._modelService=N}provideCompletionItems(w,T){return Le(this,void 0,void 0,function*(){const N=this._configurationService.getValue(w.uri,T,"editor");if(!N.wordBasedSuggestions)return;const R=[];if(N.wordBasedSuggestionsMode==="currentDocument")a(this._modelService,w.uri)&&R.push(w.uri);else for(const W of this._modelService.getModels())!a(this._modelService,W.uri)||(W===w?R.unshift(W.uri):(N.wordBasedSuggestionsMode==="allDocuments"||W.getLanguageId()===w.getLanguageId())&&R.push(W.uri));if(R.length===0)return;const B=this.languageConfigurationService.getLanguageConfiguration(w.getLanguageId()).getWordDefinition(),O=w.getWordAtPosition(T),D=O?new L.Range(T.lineNumber,O.startColumn,T.lineNumber,O.endColumn):L.Range.fromPositions(T),A=D.setEndPosition(T.lineNumber,T.column),F=yield(yield this._workerManager.withWorker()).textualSuggest(R,O==null?void 0:O.word,B);if(!!F)return{duration:F.duration,suggestions:F.words.map(W=>({kind:18,label:W,insertText:W,range:{insert:A,replace:D}}))}})}}class g extends m.Disposable{constructor(w,T){super();this.languageConfigurationService=T,this._modelService=w,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new E.IntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(s/2)),this._register(this._modelService.onModelRemoved(R=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>s&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new S(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class b extends m.Disposable{constructor(w,T,N){super();if(this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=w,this._modelService=T,!N){const R=new E.IntervalTimer;R.cancelAndSet(()=>this._checkStopModelSync(),Math.round(c/2)),this._register(R)}}dispose(){for(let w in this._syncedModels)(0,m.dispose)(this._syncedModels[w]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(w,T){for(const N of w){const R=N.toString();this._syncedModels[R]||this._beginModelSync(N,T),this._syncedModels[R]&&(this._syncedModelsLastUsedTime[R]=new Date().getTime())}}_checkStopModelSync(){const w=new Date().getTime(),T=[];for(let N in this._syncedModelsLastUsedTime)w-this._syncedModelsLastUsedTime[N]>c&&T.push(N);for(const N of T)this._stopModelSync(N)}_beginModelSync(w,T){const N=this._modelService.getModel(w);if(!N||!T&&N.isTooLargeForSyncing())return;const R=w.toString();this._proxy.acceptNewModel({url:N.uri.toString(),lines:N.getLinesContent(),EOL:N.getEOL(),versionId:N.getVersionId()});const B=new m.DisposableStore;B.add(N.onDidChangeContent(O=>{this._proxy.acceptModelChanged(R.toString(),O)})),B.add(N.onWillDispose(()=>{this._stopModelSync(R)})),B.add((0,m.toDisposable)(()=>{this._proxy.acceptRemovedModel(R)})),this._syncedModels[R]=B}_stopModelSync(w){const T=this._syncedModels[w];delete this._syncedModels[w],delete this._syncedModelsLastUsedTime[w],(0,m.dispose)(T)}}class p{constructor(w){this._instance=w,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class C{constructor(w){this._workerClient=w}fhr(w,T){return this._workerClient.fhr(w,T)}}e.EditorWorkerHost=C;class S extends m.Disposable{constructor(w,T,N,R){super();this.languageConfigurationService=R,this._disposed=!1,this._modelService=w,this._keepIdleModels=T,this._workerFactory=new I.DefaultWorkerFactory(N),this._worker=null,this._modelManager=null}fhr(w,T){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new k.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new C(this)))}catch(w){(0,k.logOnceWebWorkerWarning)(w),this._worker=new p(new v.EditorSimpleWorker(new C(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,w=>((0,k.logOnceWebWorkerWarning)(w),this._worker=new p(new v.EditorSimpleWorker(new C(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(w){return this._modelManager||(this._modelManager=this._register(new b(w,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(w,T=!1){return Le(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,d.canceled)()):this._getProxy().then(N=>(this._getOrCreateModelManager(N).ensureSyncedResources(w,T),N))})}computedUnicodeHighlights(w,T,N){return this._withSyncedResources([w]).then(R=>R.computeUnicodeHighlights(w.toString(),T,N))}computeDiff(w,T,N,R){return this._withSyncedResources([w,T],!0).then(B=>B.computeDiff(w.toString(),T.toString(),N,R))}computeMoreMinimalEdits(w,T){return this._withSyncedResources([w]).then(N=>N.computeMoreMinimalEdits(w.toString(),T))}computeLinks(w){return this._withSyncedResources([w]).then(T=>T.computeLinks(w.toString()))}textualSuggest(w,T,N){return Le(this,void 0,void 0,function*(){const R=yield this._withSyncedResources(w),B=N.source,O=(0,i.regExpFlags)(N);return R.textualSuggest(w.map(D=>D.toString()),T,B,O)})}computeWordRanges(w,T){return this._withSyncedResources([w]).then(N=>{const R=this._modelService.getModel(w);if(!R)return Promise.resolve(null);const B=this.languageConfigurationService.getLanguageConfiguration(R.getLanguageId()).getWordDefinition(),O=B.source,D=(0,i.regExpFlags)(B);return N.computeWordRanges(w.toString(),T,O,D)})}navigateValueSet(w,T,N){return this._withSyncedResources([w]).then(R=>{const B=this._modelService.getModel(w);if(!B)return null;const O=this.languageConfigurationService.getLanguageConfiguration(B.getLanguageId()).getWordDefinition(),D=O.source,A=(0,i.regExpFlags)(O);return R.navigateValueSet(w.toString(),T,N,D,A)})}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=S}),define(re[635],se([1,0,285,19]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=void 0;function k(L,_,v){return new I(L,_,v)}e.createWebWorker=k;class I extends E.EditorWorkerClient{constructor(_,v,u){super(_,u.keepIdleModels||!1,u.label,v);this._foreignModuleId=u.moduleId,this._foreignModuleCreateData=u.createData||null,this._foreignModuleHost=u.host||null,this._foreignProxy=null}fhr(_,v){if(!this._foreignModuleHost||typeof this._foreignModuleHost[_]!="function")return Promise.reject(new Error("Missing method "+_+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[_].apply(this._foreignModuleHost,v))}catch(u){return Promise.reject(u)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(_=>{const v=this._foreignModuleHost?m.getAllMethodNames(this._foreignModuleHost):[];return _.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,v).then(u=>{this._foreignModuleCreateData=null;const h=(t,o)=>_.fmr(t,o),i=(t,o)=>function(){const d=Array.prototype.slice.call(arguments,0);return o(t,d)},n={};for(const t of u)n[t]=i(t,h);return n})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(_){return this._withSyncedResources(_).then(v=>this.getProxy())}}}),define(re[208],se([1,0,8,95,104,31]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIndentMetadata=e.getIndentActionForType=e.getIndentForEnter=e.getGoodIndentForLine=e.getInheritIndentForLine=void 0;function L(n,t,o){const d=n.tokenization.getLanguageIdAtPosition(t,0);if(t>1){let r,c=-1;for(r=t-1;r>=1;r--){if(n.tokenization.getLanguageIdAtPosition(r,0)!==d)return c;const s=n.getLineContent(r);if(o.shouldIgnore(s)||/^\s+$/.test(s)||s===""){c=r;continue}return r}}return-1}function _(n,t,o,d=!0,r){if(n<4)return null;const c=r.getLanguageConfiguration(t.tokenization.getLanguageId()).indentRulesSupport;if(!c)return null;if(o<=1)return{indentation:"",action:null};const s=L(t,o,c);if(s<0)return null;if(s<1)return{indentation:"",action:null};const a=t.getLineContent(s);if(c.shouldIncrease(a)||c.shouldIndentNextLine(a))return{indentation:E.getLeadingWhitespace(a),action:m.IndentAction.Indent,line:s};if(c.shouldDecrease(a))return{indentation:E.getLeadingWhitespace(a),action:null,line:s};{if(s===1)return{indentation:E.getLeadingWhitespace(t.getLineContent(s)),action:null,line:s};const l=s-1,f=c.getIndentMetadata(t.getLineContent(l));if(!(f&(1|2))&&f&4){let g=0;for(let b=l-1;b>0;b--)if(!c.shouldIndentNextLine(t.getLineContent(b))){g=b;break}return{indentation:E.getLeadingWhitespace(t.getLineContent(g+1)),action:null,line:g+1}}if(d)return{indentation:E.getLeadingWhitespace(t.getLineContent(s)),action:null,line:s};for(let g=s;g>0;g--){const b=t.getLineContent(g);if(c.shouldIncrease(b))return{indentation:E.getLeadingWhitespace(b),action:m.IndentAction.Indent,line:g};if(c.shouldIndentNextLine(b)){let p=0;for(let C=g-1;C>0;C--)if(!c.shouldIndentNextLine(t.getLineContent(g))){p=C;break}return{indentation:E.getLeadingWhitespace(t.getLineContent(p+1)),action:null,line:p+1}}else if(c.shouldDecrease(b))return{indentation:E.getLeadingWhitespace(b),action:null,line:g}}return{indentation:E.getLeadingWhitespace(t.getLineContent(1)),action:null,line:1}}}e.getInheritIndentForLine=_;function v(n,t,o,d,r,c){if(n<4)return null;const s=c.getLanguageConfiguration(o);if(!s)return null;const a=c.getLanguageConfiguration(o).indentRulesSupport;if(!a)return null;const l=_(n,t,d,void 0,c),f=t.getLineContent(d);if(l){const g=l.line;if(g!==void 0){const b=s.onEnter(n,"",t.getLineContent(g),"");if(b){let p=E.getLeadingWhitespace(t.getLineContent(g));return b.removeText&&(p=p.substring(0,p.length-b.removeText)),b.indentAction===m.IndentAction.Indent||b.indentAction===m.IndentAction.IndentOutdent?p=r.shiftIndent(p):b.indentAction===m.IndentAction.Outdent&&(p=r.unshiftIndent(p)),a.shouldDecrease(f)&&(p=r.unshiftIndent(p)),b.appendText&&(p+=b.appendText),E.getLeadingWhitespace(p)}}return a.shouldDecrease(f)?l.action===m.IndentAction.Indent?l.indentation:r.unshiftIndent(l.indentation):l.action===m.IndentAction.Indent?r.shiftIndent(l.indentation):l.indentation}return null}e.getGoodIndentForLine=v;function u(n,t,o,d,r){if(n<4)return null;t.tokenization.forceTokenization(o.startLineNumber);const c=t.tokenization.getLineTokens(o.startLineNumber),s=(0,k.createScopedLineTokens)(c,o.startColumn-1),a=s.getLineContent();let l=!1,f;s.firstCharOffset>0&&c.getLanguageId(0)!==s.languageId?(l=!0,f=a.substr(0,o.startColumn-1-s.firstCharOffset)):f=c.getLineContent().substring(0,o.startColumn-1);let g;o.isEmpty()?g=a.substr(o.startColumn-1-s.firstCharOffset):g=(0,I.getScopedLineTokens)(t,o.endLineNumber,o.endColumn).getLineContent().substr(o.endColumn-1-s.firstCharOffset);const b=r.getLanguageConfiguration(s.languageId).indentRulesSupport;if(!b)return null;const p=f,C=E.getLeadingWhitespace(f),S={tokenization:{getLineTokens:N=>t.tokenization.getLineTokens(N),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(N,R)=>t.getLanguageIdAtPosition(N,R)},getLineContent:N=>N===o.startLineNumber?p:t.getLineContent(N)},y=E.getLeadingWhitespace(c.getLineContent()),w=_(n,S,o.startLineNumber+1,void 0,r);if(!w){const N=l?y:C;return{beforeEnter:N,afterEnter:N}}let T=l?y:w.indentation;return w.action===m.IndentAction.Indent&&(T=d.shiftIndent(T)),b.shouldDecrease(g)&&(T=d.unshiftIndent(T)),{beforeEnter:l?y:C,afterEnter:T}}e.getIndentForEnter=u;function h(n,t,o,d,r,c){if(n<4)return null;const s=(0,I.getScopedLineTokens)(t,o.startLineNumber,o.startColumn);if(s.firstCharOffset)return null;const a=c.getLanguageConfiguration(s.languageId).indentRulesSupport;if(!a)return null;const l=s.getLineContent(),f=l.substr(0,o.startColumn-1-s.firstCharOffset);let g;if(o.isEmpty()?g=l.substr(o.startColumn-1-s.firstCharOffset):g=(0,I.getScopedLineTokens)(t,o.endLineNumber,o.endColumn).getLineContent().substr(o.endColumn-1-s.firstCharOffset),!a.shouldDecrease(f+g)&&a.shouldDecrease(f+d+g)){const b=_(n,t,o.startLineNumber,!1,c);if(!b)return null;let p=b.indentation;return b.action!==m.IndentAction.Indent&&(p=r.unshiftIndent(p)),p}return null}e.getIndentActionForType=h;function i(n,t,o){const d=o.getLanguageConfiguration(n.getLanguageId()).indentRulesSupport;return!d||t<1||t>n.getLineCount()?null:d.getIndentMetadata(n.getLineContent(t))}e.getIndentMetadata=i}),define(re[209],se([1,0,95,31]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnterAction=void 0;function k(I,L,_,v){const u=(0,m.getScopedLineTokens)(L,_.startLineNumber,_.startColumn),h=v.getLanguageConfiguration(u.languageId);if(!h)return null;const i=u.getLineContent(),n=i.substr(0,_.startColumn-1-u.firstCharOffset);let t;_.isEmpty()?t=i.substr(_.startColumn-1-u.firstCharOffset):t=(0,m.getScopedLineTokens)(L,_.endLineNumber,_.endColumn).getLineContent().substr(_.endColumn-1-u.firstCharOffset);let o="";if(_.startLineNumber>1&&u.firstCharOffset===0){const l=(0,m.getScopedLineTokens)(L,_.startLineNumber-1);l.languageId===u.languageId&&(o=l.getLineContent())}const d=h.onEnter(I,o,n,t);if(!d)return null;const r=d.indentAction;let c=d.appendText;const s=d.removeText||0;c?r===E.IndentAction.Indent&&(c="	"+c):r===E.IndentAction.Indent||r===E.IndentAction.IndentOutdent?c="	":c="";let a=(0,m.getIndentationAtPosition)(L,_.startLineNumber,_.startColumn);return s&&(a=a.substring(0,a.length-s)),{indentAction:r,appendText:c,removeText:s,indentation:a}}e.getEnterAction=k}),define(re[210],se([1,0,8,73,3,24,209,31]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=e.cachedStringRepeat=void 0;const v=Object.create(null);function u(i,n){if(n<=0)return"";v[i]||(v[i]=["",i]);const t=v[i];for(let o=t.length;o<=n;o++)t[o]=t[o-1]+i;return t[n]}e.cachedStringRepeat=u;let h=class ii{constructor(n,t,o){this._languageConfigurationService=o,this._opts=t,this._selection=n,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(n,t,o,d,r){const c=m.CursorColumns.visibleColumnFromColumn(n,t,o);if(r){const s=u(" ",d),l=m.CursorColumns.prevIndentTabStop(c,d)/d;return u(s,l)}else{const s="	",l=m.CursorColumns.prevRenderTabStop(c,o)/o;return u(s,l)}}static shiftIndent(n,t,o,d,r){const c=m.CursorColumns.visibleColumnFromColumn(n,t,o);if(r){const s=u(" ",d),l=m.CursorColumns.nextIndentTabStop(c,d)/d;return u(s,l)}else{const s="	",l=m.CursorColumns.nextRenderTabStop(c,o)/o;return u(s,l)}}_addEditOperation(n,t,o){this._useLastEditRangeForCursorEndPosition?n.addTrackedEditOperation(t,o):n.addEditOperation(t,o)}getEditOperations(n,t){const o=this._selection.startLineNumber;let d=this._selection.endLineNumber;this._selection.endColumn===1&&o!==d&&(d=d-1);const{tabSize:r,indentSize:c,insertSpaces:s}=this._opts,a=o===d;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(n.getLineContent(o))&&(this._useLastEditRangeForCursorEndPosition=!0);let l=0,f=0;for(let g=o;g<=d;g++,l=f){f=0;const b=n.getLineContent(g);let p=E.firstNonWhitespaceIndex(b);if(this._opts.isUnshift&&(b.length===0||p===0)||!a&&!this._opts.isUnshift&&b.length===0)continue;if(p===-1&&(p=b.length),g>1&&m.CursorColumns.visibleColumnFromColumn(b,p+1,r)%c!=0&&n.tokenization.isCheapToTokenize(g-1)){const y=(0,L.getEnterAction)(this._opts.autoIndent,n,new k.Range(g-1,n.getLineMaxColumn(g-1),g-1,n.getLineMaxColumn(g-1)),this._languageConfigurationService);if(y){if(f=l,y.appendText)for(let w=0,T=y.appendText.length;w<T&&f<c&&y.appendText.charCodeAt(w)===32;w++)f++;y.removeText&&(f=Math.max(0,f-y.removeText));for(let w=0;w<f&&!(p===0||b.charCodeAt(p-1)!==32);w++)p--}}if(this._opts.isUnshift&&p===0)continue;let C;this._opts.isUnshift?C=ii.unshiftIndent(b,p+1,r,c,s):C=ii.shiftIndent(b,p+1,r,c,s),this._addEditOperation(t,new k.Range(g,1,g,p+1),C),g===o&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=p+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&n.getLineLength(o)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const l=s?u(" ",c):"	";for(let f=o;f<=d;f++){const g=n.getLineContent(f);let b=E.firstNonWhitespaceIndex(g);if(!(this._opts.isUnshift&&(g.length===0||b===0))&&!(!a&&!this._opts.isUnshift&&g.length===0)&&(b===-1&&(b=g.length),!(this._opts.isUnshift&&b===0)))if(this._opts.isUnshift){b=Math.min(b,c);for(let p=0;p<b;p++)if(g.charCodeAt(p)===9){b=p+1;break}this._addEditOperation(t,new k.Range(f,1,f,b+1),"")}else this._addEditOperation(t,new k.Range(f,1,f,1),l),f===o&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(n,t){if(this._useLastEditRangeForCursorEndPosition){const d=t.getInverseEditOperations()[0];return new I.Selection(d.range.endLineNumber,d.range.endColumn,d.range.endLineNumber,d.range.endColumn)}const o=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const d=this._selection.startColumn;return o.startColumn<=d?o:o.getDirection()===0?new I.Selection(o.startLineNumber,d,o.endLineNumber,o.endColumn):new I.Selection(o.endLineNumber,o.endColumn,o.startLineNumber,d)}return o}};h=Ie([fe(2,_.ILanguageConfigurationService)],h),e.ShiftCommand=h}),define(re[211],se([1,0,13,8,103,210,414,62,125,3,11,95,31,104,208,209]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionOutcome=e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class r{static indent(p,C,S){if(C===null||S===null)return[];const y=[];for(let w=0,T=S.length;w<T;w++)y[w]=new I.ShiftCommand(S[w],{isUnshift:!1,tabSize:p.tabSize,indentSize:p.indentSize,insertSpaces:p.insertSpaces,useTabStops:p.useTabStops,autoIndent:p.autoIndent},p.languageConfigurationService);return y}static outdent(p,C,S){const y=[];for(let w=0,T=S.length;w<T;w++)y[w]=new I.ShiftCommand(S[w],{isUnshift:!0,tabSize:p.tabSize,indentSize:p.indentSize,insertSpaces:p.insertSpaces,useTabStops:p.useTabStops,autoIndent:p.autoIndent},p.languageConfigurationService);return y}static shiftIndent(p,C,S){return S=S||1,I.ShiftCommand.shiftIndent(C,C.length+S,p.tabSize,p.indentSize,p.insertSpaces)}static unshiftIndent(p,C,S){return S=S||1,I.ShiftCommand.unshiftIndent(C,C.length+S,p.tabSize,p.indentSize,p.insertSpaces)}static _distributedPaste(p,C,S,y){const w=[];for(let T=0,N=S.length;T<N;T++)w[T]=new k.ReplaceCommand(S[T],y[T]);return new _.EditOperationResult(0,w,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(p,C,S,y,w){const T=[];for(let N=0,R=S.length;N<R;N++){const B=S[N],O=B.getPosition();if(w&&!B.isEmpty()&&(w=!1),w&&y.indexOf(`
`)!==y.length-1&&(w=!1),w){const D=new u.Range(O.lineNumber,1,O.lineNumber,1);T[N]=new k.ReplaceCommandThatPreservesSelection(D,y,B,!0)}else T[N]=new k.ReplaceCommand(B,y)}return new _.EditOperationResult(0,T,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(p,C,S,y,w){if(y||C.length===1)return null;if(w&&w.length===C.length)return w;if(p.multiCursorPaste==="spread"){S.charCodeAt(S.length-1)===10&&(S=S.substr(0,S.length-1)),S.charCodeAt(S.length-1)===13&&(S=S.substr(0,S.length-1));const T=m.splitLines(S);if(T.length===C.length)return T}return null}static paste(p,C,S,y,w,T){const N=this._distributePasteToCursors(p,S,y,w,T);return N?(S=S.sort(u.Range.compareRangesUsingStarts),this._distributedPaste(p,C,S,N)):this._simplePaste(p,C,S,y,w)}static _goodIndentForLine(p,C,S){let y=null,w="";const T=(0,o.getInheritIndentForLine)(p.autoIndent,C,S,!1,p.languageConfigurationService);if(T)y=T.action,w=T.indentation;else if(S>1){let N;for(N=S-1;N>=1;N--){const O=C.getLineContent(N);if(m.lastNonWhitespaceIndex(O)>=0)break}if(N<1)return null;const R=C.getLineMaxColumn(N),B=(0,d.getEnterAction)(p.autoIndent,C,new u.Range(N,R,N,R),p.languageConfigurationService);B&&(w=B.indentation+B.appendText)}return y&&(y===i.IndentAction.Indent&&(w=r.shiftIndent(p,w)),y===i.IndentAction.Outdent&&(w=r.unshiftIndent(p,w)),w=p.normalizeIndentation(w)),w||null}static _replaceJumpToNextIndent(p,C,S,y){let w="";const T=S.getStartPosition();if(p.insertSpaces){const N=p.visibleColumnFromColumn(C,T),R=p.indentSize,B=R-N%R;for(let O=0;O<B;O++)w+=" "}else w="	";return new k.ReplaceCommand(S,w,y)}static tab(p,C,S){const y=[];for(let w=0,T=S.length;w<T;w++){const N=S[w];if(N.isEmpty()){const R=C.getLineContent(N.startLineNumber);if(/^\s*$/.test(R)&&C.tokenization.isCheapToTokenize(N.startLineNumber)){let B=this._goodIndentForLine(p,C,N.startLineNumber);B=B||"	";const O=p.normalizeIndentation(B);if(!R.startsWith(O)){y[w]=new k.ReplaceCommand(new u.Range(N.startLineNumber,1,N.startLineNumber,R.length+1),O,!0);continue}}y[w]=this._replaceJumpToNextIndent(p,C,N,!0)}else{if(N.startLineNumber===N.endLineNumber){const R=C.getLineMaxColumn(N.startLineNumber);if(N.startColumn!==1||N.endColumn!==R){y[w]=this._replaceJumpToNextIndent(p,C,N,!1);continue}}y[w]=new I.ShiftCommand(N,{isUnshift:!1,tabSize:p.tabSize,indentSize:p.indentSize,insertSpaces:p.insertSpaces,useTabStops:p.useTabStops,autoIndent:p.autoIndent},p.languageConfigurationService)}}return y}static compositionType(p,C,S,y,w,T,N,R){const B=y.map(O=>this._compositionType(S,O,w,T,N,R));return new _.EditOperationResult(4,B,{shouldPushStackElementBefore:l(p,4),shouldPushStackElementAfter:!1})}static _compositionType(p,C,S,y,w,T){if(!C.isEmpty())return null;const N=C.getPosition(),R=Math.max(1,N.column-y),B=Math.min(p.getLineMaxColumn(N.lineNumber),N.column+w),O=new u.Range(N.lineNumber,R,N.lineNumber,B);return p.getValueInRange(O)===S&&T===0?null:new k.ReplaceCommandWithOffsetCursorState(O,S,0,T)}static _typeCommand(p,C,S){return S?new k.ReplaceCommandWithoutChangingPosition(p,C,!0):new k.ReplaceCommand(p,C,!0)}static _enter(p,C,S,y){if(p.autoIndent===0)return r._typeCommand(y,`
`,S);if(!C.tokenization.isCheapToTokenize(y.getStartPosition().lineNumber)||p.autoIndent===1){const R=C.getLineContent(y.startLineNumber),B=m.getLeadingWhitespace(R).substring(0,y.startColumn-1);return r._typeCommand(y,`
`+p.normalizeIndentation(B),S)}const w=(0,d.getEnterAction)(p.autoIndent,C,y,p.languageConfigurationService);if(w){if(w.indentAction===i.IndentAction.None)return r._typeCommand(y,`
`+p.normalizeIndentation(w.indentation+w.appendText),S);if(w.indentAction===i.IndentAction.Indent)return r._typeCommand(y,`
`+p.normalizeIndentation(w.indentation+w.appendText),S);if(w.indentAction===i.IndentAction.IndentOutdent){const R=p.normalizeIndentation(w.indentation),B=p.normalizeIndentation(w.indentation+w.appendText),O=`
`+B+`
`+R;return S?new k.ReplaceCommandWithoutChangingPosition(y,O,!0):new k.ReplaceCommandWithOffsetCursorState(y,O,-1,B.length-R.length,!0)}else if(w.indentAction===i.IndentAction.Outdent){const R=r.unshiftIndent(p,w.indentation);return r._typeCommand(y,`
`+p.normalizeIndentation(R+w.appendText),S)}}const T=C.getLineContent(y.startLineNumber),N=m.getLeadingWhitespace(T).substring(0,y.startColumn-1);if(p.autoIndent>=4){const R=(0,o.getIndentForEnter)(p.autoIndent,C,y,{unshiftIndent:B=>r.unshiftIndent(p,B),shiftIndent:B=>r.shiftIndent(p,B),normalizeIndentation:B=>p.normalizeIndentation(B)},p.languageConfigurationService);if(R){let B=p.visibleColumnFromColumn(C,y.getEndPosition());const O=y.endColumn,D=C.getLineContent(y.endLineNumber),A=m.firstNonWhitespaceIndex(D);if(A>=0?y=y.setEndPosition(y.endLineNumber,Math.max(y.endColumn,A+1)):y=y.setEndPosition(y.endLineNumber,C.getLineMaxColumn(y.endLineNumber)),S)return new k.ReplaceCommandWithoutChangingPosition(y,`
`+p.normalizeIndentation(R.afterEnter),!0);{let P=0;return O<=A+1&&(p.insertSpaces||(B=Math.ceil(B/p.indentSize)),P=Math.min(B+1-p.normalizeIndentation(R.afterEnter).length-1,0)),new k.ReplaceCommandWithOffsetCursorState(y,`
`+p.normalizeIndentation(R.afterEnter),0,P,!0)}}}return r._typeCommand(y,`
`+p.normalizeIndentation(N),S)}static _isAutoIndentType(p,C,S){if(p.autoIndent<4)return!1;for(let y=0,w=S.length;y<w;y++)if(!C.tokenization.isCheapToTokenize(S[y].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(p,C,S,y){const w=(0,n.getIndentationAtPosition)(C,S.startLineNumber,S.startColumn),T=(0,o.getIndentActionForType)(p.autoIndent,C,S,y,{shiftIndent:N=>r.shiftIndent(p,N),unshiftIndent:N=>r.unshiftIndent(p,N)},p.languageConfigurationService);if(T===null)return null;if(T!==p.normalizeIndentation(w)){const N=C.getLineFirstNonWhitespaceColumn(S.startLineNumber);return N===0?r._typeCommand(new u.Range(S.startLineNumber,1,S.endLineNumber,S.endColumn),p.normalizeIndentation(T)+y,!1):r._typeCommand(new u.Range(S.startLineNumber,1,S.endLineNumber,S.endColumn),p.normalizeIndentation(T)+C.getLineContent(S.startLineNumber).substring(N-1,S.startColumn-1)+y,!1)}return null}static _isAutoClosingOvertype(p,C,S,y,w){if(p.autoClosingOvertype==="never"||!p.autoClosingPairs.autoClosingPairsCloseSingleChar.has(w))return!1;for(let T=0,N=S.length;T<N;T++){const R=S[T];if(!R.isEmpty())return!1;const B=R.getPosition(),O=C.getLineContent(B.lineNumber);if(O.charAt(B.column-1)!==w)return!1;const A=(0,_.isQuote)(w);if((B.column>2?O.charCodeAt(B.column-2):0)===92&&A)return!1;if(p.autoClosingOvertype==="auto"){let F=!1;for(let W=0,M=y.length;W<M;W++){const z=y[W];if(B.lineNumber===z.startLineNumber&&B.column===z.startColumn){F=!0;break}}if(!F)return!1}}return!0}static _runAutoClosingOvertype(p,C,S,y,w){const T=[];for(let N=0,R=y.length;N<R;N++){const O=y[N].getPosition(),D=new u.Range(O.lineNumber,O.column,O.lineNumber,O.column+1);T[N]=new k.ReplaceCommand(D,w)}return new _.EditOperationResult(4,T,{shouldPushStackElementBefore:l(p,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(p,C){const S=C.charAt(0),y=p.autoClosingPairs.autoClosingPairsOpenByStart.get(S)||[],w=p.autoClosingPairs.autoClosingPairsCloseByStart.get(S)||[],T=y.some(R=>C.startsWith(R.open)),N=w.some(R=>C.startsWith(R.close));return!T&&N}static _findAutoClosingPairOpen(p,C,S,y){const w=p.autoClosingPairs.autoClosingPairsOpenByEnd.get(y);if(!w)return null;let T=null;for(const N of w)if(T===null||N.open.length>T.open.length){let R=!0;for(const B of S)if(C.getValueInRange(new u.Range(B.lineNumber,B.column-N.open.length+1,B.lineNumber,B.column))+y!==N.open){R=!1;break}R&&(T=N)}return T}static _findContainedAutoClosingPair(p,C){if(C.open.length<=1)return null;const S=C.close.charAt(C.close.length-1),y=p.autoClosingPairs.autoClosingPairsCloseByEnd.get(S)||[];let w=null;for(const T of y)T.open!==C.open&&C.open.includes(T.open)&&C.close.endsWith(T.close)&&(!w||T.open.length>w.open.length)&&(w=T);return w}static _getAutoClosingPairClose(p,C,S,y,w){const T=(0,_.isQuote)(y),N=T?p.autoClosingQuotes:p.autoClosingBrackets,R=T?p.shouldAutoCloseBefore.quote:p.shouldAutoCloseBefore.bracket;if(N==="never")return null;for(const F of S)if(!F.isEmpty())return null;const B=S.map(F=>{const W=F.getPosition();return w?{lineNumber:W.lineNumber,beforeColumn:W.column-y.length,afterColumn:W.column}:{lineNumber:W.lineNumber,beforeColumn:W.column,afterColumn:W.column}}),O=this._findAutoClosingPairOpen(p,C,B.map(F=>new h.Position(F.lineNumber,F.beforeColumn)),y);if(!O)return null;const D=this._findContainedAutoClosingPair(p,O),A=D?D.close:"";let P=!0;for(const F of B){const{lineNumber:W,beforeColumn:M,afterColumn:z}=F,ee=C.getLineContent(W),ie=ee.substring(0,M-1),Y=ee.substring(z-1);if(Y.startsWith(A)||(P=!1),Y.length>0){const G=Y.charAt(0);if(!r._isBeforeClosingBrace(p,Y)&&!R(G))return null}if(O.open.length===1&&(y==="'"||y==='"')&&N!=="always"){const G=(0,v.getMapForWordSeparators)(p.wordSeparators);if(ie.length>0){const x=ie.charCodeAt(ie.length-1);if(G.get(x)===0)return null}}if(!C.tokenization.isCheapToTokenize(W))return null;C.tokenization.forceTokenization(W);const X=C.tokenization.getLineTokens(W),J=(0,t.createScopedLineTokens)(X,M-1);if(!O.shouldAutoClose(J,M-J.firstCharOffset))return null;const oe=O.findNeutralCharacter();if(oe){const G=C.tokenization.getTokenTypeIfInsertingCharacter(W,M,oe);if(!O.isOK(G))return null}}return P?O.close.substring(0,O.close.length-A.length):O.close}static _runAutoClosingOpenCharType(p,C,S,y,w,T,N){const R=[];for(let B=0,O=y.length;B<O;B++){const D=y[B];R[B]=new c(D,w,!T,N)}return new _.EditOperationResult(4,R,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(p,C){return(0,_.isQuote)(C)?p.autoSurround==="quotes"||p.autoSurround==="languageDefined":p.autoSurround==="brackets"||p.autoSurround==="languageDefined"}static _isSurroundSelectionType(p,C,S,y){if(!r._shouldSurroundChar(p,y)||!p.surroundingPairs.hasOwnProperty(y))return!1;const w=(0,_.isQuote)(y);for(const T of S){if(T.isEmpty())return!1;let N=!0;for(let R=T.startLineNumber;R<=T.endLineNumber;R++){const B=C.getLineContent(R),O=R===T.startLineNumber?T.startColumn-1:0,D=R===T.endLineNumber?T.endColumn-1:B.length,A=B.substring(O,D);if(/[^ \t]/.test(A)){N=!1;break}}if(N)return!1;if(w&&T.startLineNumber===T.endLineNumber&&T.startColumn+1===T.endColumn){const R=C.getValueInRange(T);if((0,_.isQuote)(R))return!1}}return!0}static _runSurroundSelectionType(p,C,S,y,w){const T=[];for(let N=0,R=y.length;N<R;N++){const B=y[N],O=C.surroundingPairs[w];T[N]=new L.SurroundSelectionCommand(B,w,O)}return new _.EditOperationResult(0,T,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(p,C,S){return!!(S.length===1&&C.tokenization.isCheapToTokenize(S[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(p,C,S,y,w){if(!C.electricChars.hasOwnProperty(w)||!y.isEmpty())return null;const T=y.getPosition();S.tokenization.forceTokenization(T.lineNumber);const N=S.tokenization.getLineTokens(T.lineNumber);let R;try{R=C.onElectricCharacter(w,N,T.column)}catch(B){return(0,E.onUnexpectedError)(B),null}if(!R)return null;if(R.matchOpenBracket){const B=(N.getLineContent()+w).lastIndexOf(R.matchOpenBracket)+1,O=S.bracketPairs.findMatchingBracketUp(R.matchOpenBracket,{lineNumber:T.lineNumber,column:B},500);if(O){if(O.startLineNumber===T.lineNumber)return null;const D=S.getLineContent(O.startLineNumber),A=m.getLeadingWhitespace(D),P=C.normalizeIndentation(A),F=S.getLineContent(T.lineNumber),W=S.getLineFirstNonWhitespaceColumn(T.lineNumber)||T.column,M=F.substring(W-1,T.column-1),z=P+M+w,ee=new u.Range(T.lineNumber,1,T.lineNumber,T.column),ie=new k.ReplaceCommand(ee,z);return new _.EditOperationResult(a(z,p),[ie],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(p,C,S,y,w,T){if(!y)return null;let N=null;for(const D of y)if(N===null)N=D.insertedText;else if(N!==D.insertedText)return null;if(!N||N.length!==1)return null;const R=N;let B=!1;for(const D of y)if(D.deletedText.length!==0){B=!0;break}if(B){if(!r._shouldSurroundChar(C,R)||!C.surroundingPairs.hasOwnProperty(R))return null;const D=(0,_.isQuote)(R);for(const F of y)if(F.deletedSelectionStart!==0||F.deletedSelectionEnd!==F.deletedText.length||/^[ \t]+$/.test(F.deletedText)||D&&(0,_.isQuote)(F.deletedText))return null;const A=[];for(const F of w){if(!F.isEmpty())return null;A.push(F.getPosition())}if(A.length!==y.length)return null;const P=[];for(let F=0,W=A.length;F<W;F++)P.push(new L.CompositionSurroundSelectionCommand(A[F],y[F].deletedText,R));return new _.EditOperationResult(4,P,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(C,S,w,T,R)){const D=w.map(A=>new k.ReplaceCommand(new u.Range(A.positionLineNumber,A.positionColumn,A.positionLineNumber,A.positionColumn+1),"",!1));return new _.EditOperationResult(4,D,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const O=this._getAutoClosingPairClose(C,S,w,R,!0);return O!==null?this._runAutoClosingOpenCharType(p,C,S,w,R,!0,O):null}static typeWithInterceptors(p,C,S,y,w,T,N){if(!p&&N===`
`){const O=[];for(let D=0,A=w.length;D<A;D++)O[D]=r._enter(S,y,!1,w[D]);return new _.EditOperationResult(4,O,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!p&&this._isAutoIndentType(S,y,w)){const O=[];let D=!1;for(let A=0,P=w.length;A<P;A++)if(O[A]=this._runAutoIndentType(S,y,w[A],N),!O[A]){D=!0;break}if(!D)return new _.EditOperationResult(4,O,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(S,y,w,T,N))return this._runAutoClosingOvertype(C,S,y,w,N);if(!p){const O=this._getAutoClosingPairClose(S,y,w,N,!1);if(O)return this._runAutoClosingOpenCharType(C,S,y,w,N,!1,O)}if(!p&&this._isSurroundSelectionType(S,y,w,N))return this._runSurroundSelectionType(C,S,y,w,N);if(!p&&this._isTypeInterceptorElectricChar(S,y,w)){const O=this._typeInterceptorElectricChar(C,S,y,w[0],N);if(O)return O}const R=[];for(let O=0,D=w.length;O<D;O++)R[O]=new k.ReplaceCommand(w[O],N);const B=a(N,C);return new _.EditOperationResult(B,R,{shouldPushStackElementBefore:l(C,B),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(p,C,S,y,w){const T=[];for(let R=0,B=y.length;R<B;R++)T[R]=new k.ReplaceCommand(y[R],w);const N=a(w,p);return new _.EditOperationResult(N,T,{shouldPushStackElementBefore:l(p,N),shouldPushStackElementAfter:!1})}static lineInsertBefore(p,C,S){if(C===null||S===null)return[];const y=[];for(let w=0,T=S.length;w<T;w++){let N=S[w].positionLineNumber;if(N===1)y[w]=new k.ReplaceCommandWithoutChangingPosition(new u.Range(1,1,1,1),`
`);else{N--;const R=C.getLineMaxColumn(N);y[w]=this._enter(p,C,!1,new u.Range(N,R,N,R))}}return y}static lineInsertAfter(p,C,S){if(C===null||S===null)return[];const y=[];for(let w=0,T=S.length;w<T;w++){const N=S[w].positionLineNumber,R=C.getLineMaxColumn(N);y[w]=this._enter(p,C,!1,new u.Range(N,R,N,R))}return y}static lineBreakInsert(p,C,S){const y=[];for(let w=0,T=S.length;w<T;w++)y[w]=this._enter(p,C,!0,S[w]);return y}}e.TypeOperations=r;class c extends k.ReplaceCommandWithOffsetCursorState{constructor(p,C,S,y){super(p,(S?C:"")+y,0,-y.length);this._openCharacter=C,this._closeCharacter=y,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(p,C){const y=C.getInverseEditOperations()[0].range;return this.closeCharacterRange=new u.Range(y.startLineNumber,y.endColumn-this._closeCharacter.length,y.endLineNumber,y.endColumn),this.enclosingRange=new u.Range(y.startLineNumber,y.endColumn-this._openCharacter.length-this._closeCharacter.length,y.endLineNumber,y.endColumn),super.computeCursorState(p,C)}}e.TypeWithAutoClosingCommand=c;class s{constructor(p,C,S,y,w,T){this.deletedText=p,this.deletedSelectionStart=C,this.deletedSelectionEnd=S,this.insertedText=y,this.insertedSelectionStart=w,this.insertedSelectionEnd=T}}e.CompositionOutcome=s;function a(b,p){return b===" "?p===5||p===6?6:5:4}function l(b,p){return g(b)&&!g(p)?!0:b===5?!1:f(b)!==f(p)}function f(b){return b===6||b===5?"space":b}function g(b){return b===4||b===5||b===6}}),define(re[286],se([1,0,13,8,422,62,415,184,211,3,24,96,191,2,192]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=void 0;class d extends t.Disposable{constructor(g,b,p,C){super();this._model=g,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=b,this._coordinatesConverter=p,this.context=new L.CursorContext(this._model,this._viewModel,this._coordinatesConverter,C),this._cursors=new k.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,t.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(g){this.context=new L.CursorContext(this._model,this._viewModel,this._coordinatesConverter,g),this._cursors.updateContext(this.context)}onLineMappingChanged(g){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(g,"viewModel",0,this.getCursorStates())}setHasFocus(g){this._hasFocus=g}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const g=this._cursors.getSelections();for(let b=0;b<this._autoClosedActions.length;b++){const p=this._autoClosedActions[b];p.isValid(g)||(p.dispose(),this._autoClosedActions.splice(b,1),b--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(g,b,p,C){let S=!1;C!==null&&C.length>d.MAX_CURSOR_COUNT&&(C=C.slice(0,d.MAX_CURSOR_COUNT),S=!0);const y=r.from(this._model,this);return this._cursors.setStates(C),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(g,b,p,y,S)}setCursorColumnSelectData(g){this._columnSelectData=g}revealPrimary(g,b,p,C,S,y){const w=this._cursors.getViewPositions();let T=null,N=null;w.length>1?N=this._cursors.getViewSelections():T=u.Range.fromPositions(w[0],w[0]),g.emitViewEvent(new n.ViewRevealRangeRequestEvent(b,p,T,N,C,S,y))}saveState(){const g=[],b=this._cursors.getSelections();for(let p=0,C=b.length;p<C;p++){const S=b[p];g.push({inSelectionMode:!S.isEmpty(),selectionStart:{lineNumber:S.selectionStartLineNumber,column:S.selectionStartColumn},position:{lineNumber:S.positionLineNumber,column:S.positionColumn}})}return g}restoreState(g,b){const p=[];for(let C=0,S=b.length;C<S;C++){const y=b[C];let w=1,T=1;y.position&&y.position.lineNumber&&(w=y.position.lineNumber),y.position&&y.position.column&&(T=y.position.column);let N=w,R=T;y.selectionStart&&y.selectionStart.lineNumber&&(N=y.selectionStart.lineNumber),y.selectionStart&&y.selectionStart.column&&(R=y.selectionStart.column),p.push({selectionStartLineNumber:N,selectionStartColumn:R,positionLineNumber:w,positionColumn:T})}this.setStates(g,"restoreState",0,I.CursorState.fromModelSelections(p)),this.revealPrimary(g,"restoreState",!1,0,!0,1)}onModelContentChanged(g,b){if(b instanceof i.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(g,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const p=b.rawContentChangedEvent;if(this._knownModelVersionId=p.versionId,this._isHandling)return;const C=p.containsEvent(1);if(this._prevEditOperationType=0,C)this._cursors.dispose(),this._cursors=new k.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(g,"model",1,null,!1);else if(this._hasFocus&&p.resultingSelection&&p.resultingSelection.length>0){const S=I.CursorState.fromModelSelections(p.resultingSelection);this.setStates(g,"modelChange",p.isUndoing?5:p.isRedoing?6:2,S)&&this.revealPrimary(g,"modelChange",!1,0,!0,0)}else{const S=this._cursors.readSelectionFromMarkers();this.setStates(g,"modelChange",2,I.CursorState.fromModelSelections(S))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const g=this._cursors.getPrimaryCursor(),b=g.viewState.selectionStart.getStartPosition(),p=g.viewState.position;return{isReal:!1,fromViewLineNumber:b.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,b),toViewLineNumber:p.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,p)}}getSelections(){return this._cursors.getSelections()}setSelections(g,b,p,C){this.setStates(g,b,C,I.CursorState.fromModelSelections(p))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(g){this._prevEditOperationType=g}_pushAutoClosedAction(g,b){const p=[],C=[];for(let w=0,T=g.length;w<T;w++)p.push({range:g[w],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),C.push({range:b[w],options:{description:"auto-closed-enclosing",stickiness:1}});const S=this._model.deltaDecorations([],p),y=this._model.deltaDecorations([],C);this._autoClosedActions.push(new c(this._model,S,y))}_executeEditOperation(g){if(!g)return;g.shouldPushStackElementBefore&&this._model.pushStackElement();const b=s.executeCommands(this._model,this._cursors.getSelections(),g.commands);if(b){this._interpretCommandResult(b);const p=[],C=[];for(let S=0;S<g.commands.length;S++){const y=g.commands[S];y instanceof v.TypeWithAutoClosingCommand&&y.enclosingRange&&y.closeCharacterRange&&(p.push(y.closeCharacterRange),C.push(y.enclosingRange))}p.length>0&&this._pushAutoClosedAction(p,C),this._prevEditOperationType=g.type}g.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(g){(!g||g.length===0)&&(g=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(g),this._cursors.normalize()}_emitStateChangedIfNecessary(g,b,p,C,S){const y=r.from(this._model,this);if(y.equals(C))return!1;const w=this._cursors.getSelections(),T=this._cursors.getViewSelections();if(g.emitViewEvent(new n.ViewCursorStateChangedEvent(T,w)),!C||C.cursorState.length!==y.cursorState.length||y.cursorState.some((N,R)=>!N.modelState.equals(C.cursorState[R].modelState))){const N=C?C.cursorState.map(B=>B.modelState.selection):null,R=C?C.modelVersionId:0;g.emitOutgoingEvent(new o.CursorStateChangedEvent(N,w,R,y.modelVersionId,b||"keyboard",p,S))}return!0}_findAutoClosingPairs(g){if(!g.length)return null;const b=[];for(let p=0,C=g.length;p<C;p++){const S=g[p];if(!S.text||S.text.indexOf(`
`)>=0)return null;const y=S.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!y)return null;const w=y[1],T=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(w);if(!T||T.length!==1)return null;const N=T[0].open,R=S.text.length-y[2].length-1,B=S.text.lastIndexOf(N,R-1);if(B===-1)return null;b.push([B,R])}return b}executeEdits(g,b,p,C){let S=null;b==="snippet"&&(S=this._findAutoClosingPairs(p)),S&&(p[0]._isTracked=!0);const y=[],w=[],T=this._model.pushEditOperations(this.getSelections(),p,N=>{if(S)for(let B=0,O=S.length;B<O;B++){const[D,A]=S[B],P=N[B],F=P.range.startLineNumber,W=P.range.startColumn-1+D,M=P.range.startColumn-1+A;y.push(new u.Range(F,M+1,F,M+2)),w.push(new u.Range(F,W+1,F,M+2))}const R=C(N);return R&&(this._isHandling=!0),R});T&&(this._isHandling=!1,this.setSelections(g,b,T,0)),y.length>0&&this._pushAutoClosedAction(y,w)}_executeEdit(g,b,p,C=0){if(this.context.cursorConfig.readOnly)return;const S=r.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),g()}catch(y){(0,E.onUnexpectedError)(y)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(b,p,C,S,!1)&&this.revealPrimary(b,p,!1,0,!0,0)}getAutoClosedCharacters(){return c.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(g){this._compositionState=new l(this._model,this.getSelections())}endComposition(g,b){const p=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{b==="keyboard"&&this._executeEditOperation(v.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,p,this.getSelections(),this.getAutoClosedCharacters()))},g,b)}type(g,b,p){this._executeEdit(()=>{if(p==="keyboard"){const C=b.length;let S=0;for(;S<C;){const y=m.nextCharLength(b,S),w=b.substr(S,y);this._executeEditOperation(v.TypeOperations.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),w)),S+=y}}else this._executeEditOperation(v.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),b))},g,p)}compositionType(g,b,p,C,S,y){if(b.length===0&&p===0&&C===0){if(S!==0){const w=this.getSelections().map(T=>{const N=T.getPosition();return new h.Selection(N.lineNumber,N.column+S,N.lineNumber,N.column+S)});this.setSelections(g,y,w,0)}return}this._executeEdit(()=>{this._executeEditOperation(v.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),b,p,C,S))},g,y)}paste(g,b,p,C,S){this._executeEdit(()=>{this._executeEditOperation(v.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),b,p,C||[]))},g,S,4)}cut(g,b){this._executeEdit(()=>{this._executeEditOperation(_.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},g,b)}executeCommand(g,b,p){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new I.EditOperationResult(0,[b],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},g,p)}executeCommands(g,b,p){this._executeEdit(()=>{this._executeEditOperation(new I.EditOperationResult(0,b,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},g,p)}}e.CursorsController=d,d.MAX_CURSOR_COUNT=1e4;class r{constructor(g,b){this.modelVersionId=g,this.cursorState=b}static from(g,b){return new r(g.getVersionId(),b.getCursorStates())}equals(g){if(!g||this.modelVersionId!==g.modelVersionId||this.cursorState.length!==g.cursorState.length)return!1;for(let b=0,p=this.cursorState.length;b<p;b++)if(!this.cursorState[b].equals(g.cursorState[b]))return!1;return!0}}class c{constructor(g,b,p){this._model=g,this._autoClosedCharactersDecorations=b,this._autoClosedEnclosingDecorations=p}static getAllAutoClosedCharacters(g){let b=[];for(const p of g)b=b.concat(p.getAutoClosedCharactersRanges());return b}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const g=[];for(let b=0;b<this._autoClosedCharactersDecorations.length;b++){const p=this._model.getDecorationRange(this._autoClosedCharactersDecorations[b]);p&&g.push(p)}return g}isValid(g){const b=[];for(let p=0;p<this._autoClosedEnclosingDecorations.length;p++){const C=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[p]);if(C&&(b.push(C),C.startLineNumber!==C.endLineNumber))return!1}b.sort(u.Range.compareRangesUsingStarts),g.sort(u.Range.compareRangesUsingStarts);for(let p=0;p<g.length;p++)if(p>=b.length||!b[p].strictContainsRange(g[p]))return!1;return!0}}class s{static executeCommands(g,b,p){const C={model:g,selectionsBefore:b,trackedRanges:[],trackedRangesDirection:[]},S=this._innerExecuteCommands(C,p);for(let y=0,w=C.trackedRanges.length;y<w;y++)C.model._setTrackedRange(C.trackedRanges[y],null,0);return S}static _innerExecuteCommands(g,b){if(this._arrayIsEmpty(b))return null;const p=this._getEditOperations(g,b);if(p.operations.length===0)return null;const C=p.operations,S=this._getLoserCursorMap(C);if(S.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const y=[];for(let N=0,R=C.length;N<R;N++)S.hasOwnProperty(C[N].identifier.major.toString())||y.push(C[N]);p.hadTrackedEditOperation&&y.length>0&&(y[0]._isTracked=!0);let w=g.model.pushEditOperations(g.selectionsBefore,y,N=>{const R=[];for(let D=0;D<g.selectionsBefore.length;D++)R[D]=[];for(const D of N)!D.identifier||R[D.identifier.major].push(D);const B=(D,A)=>D.identifier.minor-A.identifier.minor,O=[];for(let D=0;D<g.selectionsBefore.length;D++)R[D].length>0?(R[D].sort(B),O[D]=b[D].computeCursorState(g.model,{getInverseEditOperations:()=>R[D],getTrackedSelection:A=>{const P=parseInt(A,10),F=g.model._getTrackedRange(g.trackedRanges[P]);return g.trackedRangesDirection[P]===0?new h.Selection(F.startLineNumber,F.startColumn,F.endLineNumber,F.endColumn):new h.Selection(F.endLineNumber,F.endColumn,F.startLineNumber,F.startColumn)}})):O[D]=g.selectionsBefore[D];return O});w||(w=g.selectionsBefore);const T=[];for(let N in S)S.hasOwnProperty(N)&&T.push(parseInt(N,10));T.sort((N,R)=>R-N);for(const N of T)w.splice(N,1);return w}static _arrayIsEmpty(g){for(let b=0,p=g.length;b<p;b++)if(g[b])return!1;return!0}static _getEditOperations(g,b){let p=[],C=!1;for(let S=0,y=b.length;S<y;S++){const w=b[S];if(w){const T=this._getEditOperationsFromCommand(g,S,w);p=p.concat(T.operations),C=C||T.hadTrackedEditOperation}}return{operations:p,hadTrackedEditOperation:C}}static _getEditOperationsFromCommand(g,b,p){const C=[];let S=0;const y=(B,O,D=!1)=>{u.Range.isEmpty(B)&&O===""||C.push({identifier:{major:b,minor:S++},range:B,text:O,forceMoveMarkers:D,isAutoWhitespaceEdit:p.insertsAutoWhitespace})};let w=!1;const R={addEditOperation:y,addTrackedEditOperation:(B,O,D)=>{w=!0,y(B,O,D)},trackSelection:(B,O)=>{const D=h.Selection.liftSelection(B);let A;if(D.isEmpty())if(typeof O=="boolean")O?A=2:A=3;else{const W=g.model.getLineMaxColumn(D.startLineNumber);D.startColumn===W?A=2:A=3}else A=1;const P=g.trackedRanges.length,F=g.model._setTrackedRange(null,D,A);return g.trackedRanges[P]=F,g.trackedRangesDirection[P]=D.getDirection(),P.toString()}};try{p.getEditOperations(g.model,R)}catch(B){return(0,E.onUnexpectedError)(B),{operations:[],hadTrackedEditOperation:!1}}return{operations:C,hadTrackedEditOperation:w}}static _getLoserCursorMap(g){g=g.slice(0),g.sort((p,C)=>-u.Range.compareRangesUsingEnds(p.range,C.range));const b={};for(let p=1;p<g.length;p++){const C=g[p-1],S=g[p];if(u.Range.getStartPosition(C.range).isBefore(u.Range.getEndPosition(S.range))){let y;C.identifier.major>S.identifier.major?y=C.identifier.major:y=S.identifier.major,b[y.toString()]=!0;for(let w=0;w<g.length;w++)g[w].identifier.major===y&&(g.splice(w,1),w<p&&p--,w--);p>0&&p--}}return b}}class a{constructor(g,b,p){this.text=g,this.startSelection=b,this.endSelection=p}}class l{constructor(g,b){this._original=l._capture(g,b)}static _capture(g,b){const p=[];for(const C of b){if(C.startLineNumber!==C.endLineNumber)return null;p.push(new a(g.getLineContent(C.startLineNumber),C.startColumn-1,C.endColumn-1))}return p}deduceOutcome(g,b){if(!this._original)return null;const p=l._capture(g,b);if(!p||this._original.length!==p.length)return null;const C=[];for(let S=0,y=this._original.length;S<y;S++)C.push(l._deduceOutcome(this._original[S],p[S]));return C}static _deduceOutcome(g,b){const p=Math.min(g.startSelection,b.startSelection,m.commonPrefixLength(g.text,b.text)),C=Math.min(g.text.length-g.endSelection,b.text.length-b.endSelection,m.commonSuffixLength(g.text,b.text)),S=g.text.substring(p,g.text.length-C),y=b.text.substring(p,b.text.length-C);return new v.CompositionOutcome(S,g.startSelection-p,g.endSelection-p,y,b.startSelection-p,b.endSelection-p)}}}),define(re[636],se([1,0,45,42,71,278]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cssEscape=e.getIconClasses=void 0;const L=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function _(h,i,n,t){const o=t===I.FileKind.ROOT_FOLDER?["rootfolder-icon"]:t===I.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(n){let d;if(n.scheme===E.Schemas.data)d=m.DataUri.parseMetaData(n).get(m.DataUri.META_DATA_LABEL);else{const r=n.path.match(L);r?(d=u(r[2].toLowerCase()),r[1]&&o.push(`${u(r[1].toLowerCase())}-name-dir-icon`)):d=u(n.authority.toLowerCase())}if(t===I.FileKind.FOLDER)o.push(`${d}-name-folder-icon`);else{if(d){if(o.push(`${d}-name-file-icon`),o.push("name-file-icon"),d.length<=255){const c=d.split(".");for(let s=1;s<c.length;s++)o.push(`${c.slice(s).join(".")}-ext-file-icon`)}o.push("ext-file-icon")}const r=v(h,i,n);r&&o.push(`${u(r)}-lang-file-icon`)}}return o}e.getIconClasses=_;function v(h,i,n){if(!n)return null;let t=null;if(n.scheme===E.Schemas.data){const d=m.DataUri.parseMetaData(n).get(m.DataUri.META_DATA_MIME);d&&(t=i.getLanguageIdByMimeType(d))}else{const o=h.getModel(n);o&&(t=o.getLanguageId())}return t&&t!==k.PLAINTEXT_LANGUAGE_ID?t:i.guessLanguageIdByFilepathOrFirstLine(n)}function u(h){return h.replace(/[\11\12\14\15\40]/g,"/")}e.cssEscape=u}),define(re[637],se([1,0,221,138,45,85,42,8,71]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageIds=e.clearPlatformLanguageAssociations=e.registerPlatformLanguageAssociation=void 0;let u=[],h=[],i=[];function n(l,f=!1){t(l,!1,f)}e.registerPlatformLanguageAssociation=n;function t(l,f,g){const b=o(l,f);u.push(b),b.userConfigured?i.push(b):h.push(b),g&&!b.userConfigured&&u.forEach(p=>{p.mime===b.mime||p.userConfigured||(b.extension&&p.extension===b.extension&&console.warn(`Overwriting extension <<${b.extension}>> to now point to mime <<${b.mime}>>`),b.filename&&p.filename===b.filename&&console.warn(`Overwriting filename <<${b.filename}>> to now point to mime <<${b.mime}>>`),b.filepattern&&p.filepattern===b.filepattern&&console.warn(`Overwriting filepattern <<${b.filepattern}>> to now point to mime <<${b.mime}>>`),b.firstline&&p.firstline===b.firstline&&console.warn(`Overwriting firstline <<${b.firstline}>> to now point to mime <<${b.mime}>>`))})}function o(l,f){return{id:l.id,mime:l.mime,filename:l.filename,extension:l.extension,filepattern:l.filepattern,firstline:l.firstline,userConfigured:f,filenameLowercase:l.filename?l.filename.toLowerCase():void 0,extensionLowercase:l.extension?l.extension.toLowerCase():void 0,filepatternLowercase:l.filepattern?(0,E.parse)(l.filepattern.toLowerCase()):void 0,filepatternOnPath:l.filepattern?l.filepattern.indexOf(I.posix.sep)>=0:!1}}function d(){u=u.filter(l=>l.userConfigured),h=[]}e.clearPlatformLanguageAssociations=d;function r(l,f){return c(l,f).map(g=>g.id)}e.getLanguageIds=r;function c(l,f){let g;if(l)switch(l.scheme){case k.Schemas.file:g=l.fsPath;break;case k.Schemas.data:{g=L.DataUri.parseMetaData(l).get(L.DataUri.META_DATA_LABEL);break}default:g=l.path}if(!g)return[{id:"unknown",mime:m.Mimes.unknown}];g=g.toLowerCase();const b=(0,I.basename)(g),p=s(g,b,i);if(p)return[p,{id:v.PLAINTEXT_LANGUAGE_ID,mime:m.Mimes.text}];const C=s(g,b,h);if(C)return[C,{id:v.PLAINTEXT_LANGUAGE_ID,mime:m.Mimes.text}];if(f){const S=a(f);if(S)return[S,{id:v.PLAINTEXT_LANGUAGE_ID,mime:m.Mimes.text}]}return[{id:"unknown",mime:m.Mimes.unknown}]}function s(l,f,g){var b;let p,C,S;for(let y=g.length-1;y>=0;y--){const w=g[y];if(f===w.filenameLowercase){p=w;break}if(w.filepattern&&(!C||w.filepattern.length>C.filepattern.length)){const T=w.filepatternOnPath?l:f;((b=w.filepatternLowercase)===null||b===void 0?void 0:b.call(w,T))&&(C=w)}w.extension&&(!S||w.extension.length>S.extension.length)&&f.endsWith(w.extensionLowercase)&&(S=w)}if(p)return p;if(C)return C;if(S)return S}function a(l){if((0,_.startsWithUTF8BOM)(l)&&(l=l.substr(1)),l.length>0)for(let f=u.length-1;f>=0;f--){const g=u[f];if(!g.firstline)continue;const b=l.match(g.firstline);if(b&&b.length>0)return g}}}),define(re[638],se([1,0,13,4,2,8,637,71,110,38]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const h=Object.prototype.hasOwnProperty,i="vs.editor.nullLanguage";class n{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(i,0),this._register(_.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2}_register(d,r){this._languageIdToLanguage[r]=d,this._languageToLanguageId.set(d,r)}register(d){if(this._languageToLanguageId.has(d))return;const r=this._nextLanguageId++;this._register(d,r)}encodeLanguageId(d){return this._languageToLanguageId.get(d)||0}decodeLanguageId(d){return this._languageIdToLanguage[d]||i}}e.LanguageIdCodec=n;class t extends k.Disposable{constructor(d=!0,r=!1){super();this._onDidChange=this._register(new m.Emitter),this.onDidChange=this._onDidChange.event,t.instanceCount++,this._warnOnOverwrite=r,this.languageIdCodec=new n,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},d&&(this._initializeFromRegistry(),this._register(_.ModesRegistry.onDidChangeLanguages(c=>{this._initializeFromRegistry()})))}dispose(){t.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,L.clearPlatformLanguageAssociations)();const d=[].concat(_.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(d)}_registerLanguages(d){for(const r of d)this._registerLanguage(r);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(r=>{const c=this._languages[r];c.name&&(this._nameMap[c.name]=c.identifier),c.aliases.forEach(s=>{this._lowercaseNameMap[s.toLowerCase()]=c.identifier}),c.mimetypes.forEach(s=>{this._mimeTypesMap[s]=c.identifier})}),u.Registry.as(v.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(d){const r=d.id;let c;h.call(this._languages,r)?c=this._languages[r]:(this.languageIdCodec.register(r),c={identifier:r,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[r]=c),this._mergeLanguage(c,d)}_mergeLanguage(d,r){const c=r.id;let s=null;if(Array.isArray(r.mimetypes)&&r.mimetypes.length>0&&(d.mimetypes.push(...r.mimetypes),s=r.mimetypes[0]),s||(s=`text/x-${c}`,d.mimetypes.push(s)),Array.isArray(r.extensions)){r.configuration?d.extensions=r.extensions.concat(d.extensions):d.extensions=d.extensions.concat(r.extensions);for(let f of r.extensions)(0,L.registerPlatformLanguageAssociation)({id:c,mime:s,extension:f},this._warnOnOverwrite)}if(Array.isArray(r.filenames))for(let f of r.filenames)(0,L.registerPlatformLanguageAssociation)({id:c,mime:s,filename:f},this._warnOnOverwrite),d.filenames.push(f);if(Array.isArray(r.filenamePatterns))for(let f of r.filenamePatterns)(0,L.registerPlatformLanguageAssociation)({id:c,mime:s,filepattern:f},this._warnOnOverwrite);if(typeof r.firstLine=="string"&&r.firstLine.length>0){let f=r.firstLine;f.charAt(0)!=="^"&&(f="^"+f);try{const g=new RegExp(f);(0,I.regExpLeadsToEndlessLoop)(g)||(0,L.registerPlatformLanguageAssociation)({id:c,mime:s,firstline:g},this._warnOnOverwrite)}catch(g){(0,E.onUnexpectedError)(g)}}d.aliases.push(c);let a=null;if(typeof r.aliases!="undefined"&&Array.isArray(r.aliases)&&(r.aliases.length===0?a=[null]:a=r.aliases),a!==null)for(const f of a)!f||f.length===0||d.aliases.push(f);const l=a!==null&&a.length>0;if(!(l&&a[0]===null)){const f=(l?a[0]:null)||c;(l||!d.name)&&(d.name=f)}r.configuration&&d.configurationFiles.push(r.configuration),r.icon&&d.icons.push(r.icon)}isRegisteredLanguageId(d){return d?h.call(this._languages,d):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(d){const r=d.toLowerCase();return h.call(this._lowercaseNameMap,r)?this._lowercaseNameMap[r]:null}getLanguageIdByMimeType(d){return d&&h.call(this._mimeTypesMap,d)?this._mimeTypesMap[d]:null}guessLanguageIdByFilepathOrFirstLine(d,r){return!d&&!r?[]:(0,L.getLanguageIds)(d,r)}}e.LanguagesRegistry=t,t.instanceCount=0}),define(re[639],se([1,0,4,2,638,18,27,71]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageService=void 0;class v extends m.Disposable{constructor(i=!1){super();this._onDidEncounterLanguage=this._register(new E.Emitter),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new E.Emitter({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,v.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new k.LanguagesRegistry(!0,i)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){v.instanceCount--,super.dispose()}isRegisteredLanguageId(i){return this._registry.isRegisteredLanguageId(i)}getLanguageIdByLanguageName(i){return this._registry.getLanguageIdByLanguageName(i)}getLanguageIdByMimeType(i){return this._registry.getLanguageIdByMimeType(i)}guessLanguageIdByFilepathOrFirstLine(i,n){const t=this._registry.guessLanguageIdByFilepathOrFirstLine(i,n);return(0,I.firstOrDefault)(t,null)}createById(i){return new u(this.onDidChange,()=>this._createAndGetLanguageIdentifier(i))}createByFilepathOrFirstLine(i,n){return new u(this.onDidChange,()=>{const t=this.guessLanguageIdByFilepathOrFirstLine(i,n);return this._createAndGetLanguageIdentifier(t)})}_createAndGetLanguageIdentifier(i){return(!i||!this.isRegisteredLanguageId(i))&&(i=_.PLAINTEXT_LANGUAGE_ID),this._encounteredLanguages.has(i)||(this._encounteredLanguages.add(i),L.TokenizationRegistry.getOrCreate(i),this._onDidEncounterLanguage.fire(i)),i}}e.LanguageService=v,v.instanceCount=0;class u{constructor(i,n){this._onDidChangeLanguages=i,this._selector=n,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new E.Emitter({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){const i=this._selector();i!==this.languageId&&(this.languageId=i,this._emitter&&this._emitter.fire(this.languageId))}}}),define(re[640],se([1,0,8,210,3,24,95,31,265,208,209]),function(U,e,E,m,k,I,L,_,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;let i=class{constructor(t,o,d,r){this._languageConfigurationService=r,this._selection=t,this._isMovingDown=o,this._autoIndent=d,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(t,o){let d=t.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===d){this._selectionId=o.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=o.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let r=this._selection;r.startLineNumber<r.endLineNumber&&r.endColumn===1&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,t.getLineMaxColumn(r.endLineNumber-1)));const{tabSize:c,indentSize:s,insertSpaces:a}=t.getOptions();let l=this.buildIndentConverter(c,s,a),f={tokenization:{getLineTokens:g=>t.tokenization.getLineTokens(g),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(g,b)=>t.getLanguageIdAtPosition(g,b)},getLineContent:null};if(r.startLineNumber===r.endLineNumber&&t.getLineMaxColumn(r.startLineNumber)===1){let g=r.startLineNumber,b=this._isMovingDown?g+1:g-1;t.getLineMaxColumn(b)===1?o.addEditOperation(new k.Range(1,1,1,1),null):(o.addEditOperation(new k.Range(g,1,g,1),t.getLineContent(b)),o.addEditOperation(new k.Range(b,1,b,t.getLineMaxColumn(b)),null)),r=new I.Selection(b,1,b,1)}else{let g,b;if(this._isMovingDown){g=r.endLineNumber+1,b=t.getLineContent(g),o.addEditOperation(new k.Range(g-1,t.getLineMaxColumn(g-1),g,t.getLineMaxColumn(g)),null);let p=b;if(this.shouldAutoIndent(t,r)){let C=this.matchEnterRule(t,l,c,g,r.startLineNumber-1);if(C!==null){let y=E.getLeadingWhitespace(t.getLineContent(g)),w=C+v.getSpaceCnt(y,c);p=v.generateIndent(w,c,a)+this.trimLeft(b)}else{f.getLineContent=w=>w===r.startLineNumber?t.getLineContent(g):t.getLineContent(w);let y=(0,u.getGoodIndentForLine)(this._autoIndent,f,t.getLanguageIdAtPosition(g,1),r.startLineNumber,l,this._languageConfigurationService);if(y!==null){let w=E.getLeadingWhitespace(t.getLineContent(g)),T=v.getSpaceCnt(y,c),N=v.getSpaceCnt(w,c);T!==N&&(p=v.generateIndent(T,c,a)+this.trimLeft(b))}}o.addEditOperation(new k.Range(r.startLineNumber,1,r.startLineNumber,1),p+`
`);let S=this.matchEnterRuleMovingDown(t,l,c,r.startLineNumber,g,p);if(S!==null)S!==0&&this.getIndentEditsOfMovingBlock(t,o,r,c,a,S);else{f.getLineContent=w=>w===r.startLineNumber?p:w>=r.startLineNumber+1&&w<=r.endLineNumber+1?t.getLineContent(w-1):t.getLineContent(w);let y=(0,u.getGoodIndentForLine)(this._autoIndent,f,t.getLanguageIdAtPosition(g,1),r.startLineNumber+1,l,this._languageConfigurationService);if(y!==null){const w=E.getLeadingWhitespace(t.getLineContent(r.startLineNumber)),T=v.getSpaceCnt(y,c),N=v.getSpaceCnt(w,c);if(T!==N){const R=T-N;this.getIndentEditsOfMovingBlock(t,o,r,c,a,R)}}}}else o.addEditOperation(new k.Range(r.startLineNumber,1,r.startLineNumber,1),p+`
`)}else if(g=r.startLineNumber-1,b=t.getLineContent(g),o.addEditOperation(new k.Range(g,1,g+1,1),null),o.addEditOperation(new k.Range(r.endLineNumber,t.getLineMaxColumn(r.endLineNumber),r.endLineNumber,t.getLineMaxColumn(r.endLineNumber)),`
`+b),this.shouldAutoIndent(t,r)){f.getLineContent=C=>C===g?t.getLineContent(r.startLineNumber):t.getLineContent(C);let p=this.matchEnterRule(t,l,c,r.startLineNumber,r.startLineNumber-2);if(p!==null)p!==0&&this.getIndentEditsOfMovingBlock(t,o,r,c,a,p);else{let C=(0,u.getGoodIndentForLine)(this._autoIndent,f,t.getLanguageIdAtPosition(r.startLineNumber,1),g,l,this._languageConfigurationService);if(C!==null){let S=E.getLeadingWhitespace(t.getLineContent(r.startLineNumber)),y=v.getSpaceCnt(C,c),w=v.getSpaceCnt(S,c);if(y!==w){let T=y-w;this.getIndentEditsOfMovingBlock(t,o,r,c,a,T)}}}}}this._selectionId=o.trackSelection(r)}buildIndentConverter(t,o,d){return{shiftIndent:r=>m.ShiftCommand.shiftIndent(r,r.length+1,t,o,d),unshiftIndent:r=>m.ShiftCommand.unshiftIndent(r,r.length+1,t,o,d)}}parseEnterResult(t,o,d,r,c){if(c){let s=c.indentation;c.indentAction===L.IndentAction.None||c.indentAction===L.IndentAction.Indent?s=c.indentation+c.appendText:c.indentAction===L.IndentAction.IndentOutdent?s=c.indentation:c.indentAction===L.IndentAction.Outdent&&(s=o.unshiftIndent(c.indentation)+c.appendText);let a=t.getLineContent(r);if(this.trimLeft(a).indexOf(this.trimLeft(s))>=0){let l=E.getLeadingWhitespace(t.getLineContent(r)),f=E.getLeadingWhitespace(s),g=(0,u.getIndentMetadata)(t,r,this._languageConfigurationService);g!==null&&g&2&&(f=o.unshiftIndent(f));let b=v.getSpaceCnt(f,d),p=v.getSpaceCnt(l,d);return b-p}}return null}matchEnterRuleMovingDown(t,o,d,r,c,s){if(E.lastNonWhitespaceIndex(s)>=0){let a=t.getLineMaxColumn(c),l=(0,h.getEnterAction)(this._autoIndent,t,new k.Range(c,a,c,a),this._languageConfigurationService);return this.parseEnterResult(t,o,d,r,l)}else{let a=r-1;for(;a>=1;){let g=t.getLineContent(a);if(E.lastNonWhitespaceIndex(g)>=0)break;a--}if(a<1||r>t.getLineCount())return null;let l=t.getLineMaxColumn(a),f=(0,h.getEnterAction)(this._autoIndent,t,new k.Range(a,l,a,l),this._languageConfigurationService);return this.parseEnterResult(t,o,d,r,f)}}matchEnterRule(t,o,d,r,c,s){let a=c;for(;a>=1;){let g;if(a===c&&s!==void 0?g=s:g=t.getLineContent(a),E.lastNonWhitespaceIndex(g)>=0)break;a--}if(a<1||r>t.getLineCount())return null;let l=t.getLineMaxColumn(a),f=(0,h.getEnterAction)(this._autoIndent,t,new k.Range(a,l,a,l),this._languageConfigurationService);return this.parseEnterResult(t,o,d,r,f)}trimLeft(t){return t.replace(/^\s+/,"")}shouldAutoIndent(t,o){if(this._autoIndent<4||!t.tokenization.isCheapToTokenize(o.startLineNumber))return!1;let d=t.getLanguageIdAtPosition(o.startLineNumber,1),r=t.getLanguageIdAtPosition(o.endLineNumber,1);return!(d!==r||this._languageConfigurationService.getLanguageConfiguration(d).indentRulesSupport===null)}getIndentEditsOfMovingBlock(t,o,d,r,c,s){for(let a=d.startLineNumber;a<=d.endLineNumber;a++){let l=t.getLineContent(a),f=E.getLeadingWhitespace(l),b=v.getSpaceCnt(f,r)+s,p=v.generateIndent(b,r,c);p!==f&&(o.addEditOperation(new k.Range(a,1,a,f.length+1),p),a===d.endLineNumber&&d.endColumn<=f.length+1&&p===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(t,o){let d=o.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(d=d.setEndPosition(d.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&d.startLineNumber<d.endLineNumber&&(d=d.setEndPosition(d.endLineNumber,2)),d}};i=Ie([fe(3,_.ILanguageConfigurationService)],i),e.MoveLinesCommand=i}),define(re[111],se([1,0,335,50,37,13,257,4,2,67,71]),function(U,e,E,m,k,I,L,_,v,u,h){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0;let n=class Ei{constructor(o,d,r){this._options=o,this._languageService=d,this._openerService=r,this._onDidRenderAsync=new _.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(o,d,r){if(!o)return{element:document.createElement("span"),dispose:()=>{}};const c=new v.DisposableStore;return{element:c.add((0,E.renderMarkdown)(o,Object.assign(Object.assign({},this._getRenderOptions(o,c)),d),r)).element,dispose:()=>c.dispose()}}_getRenderOptions(o,d){return{codeBlockRenderer:(r,c)=>Le(this,void 0,void 0,function*(){var s,a,l;let f;r?f=this._languageService.getLanguageIdByLanguageName(r):this._options.editor&&(f=(s=this._options.editor.getModel())===null||s===void 0?void 0:s.getLanguageId()),f||(f=h.PLAINTEXT_LANGUAGE_ID);const g=yield(0,L.tokenizeToString)(this._languageService,c,f),b=document.createElement("span");if(b.innerHTML=(l=(a=Ei._ttpTokenizer)===null||a===void 0?void 0:a.createHTML(g))!==null&&l!==void 0?l:g,this._options.editor){const p=this._options.editor.getOption(44);(0,u.applyFontInfo)(b,p)}else this._options.codeBlockFontFamily&&(b.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(b.style.fontSize=this._options.codeBlockFontSize),b}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:r=>this._openerService.open(r,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:o.isTrusted}).catch(I.onUnexpectedError),disposables:d}}}};n._ttpTokenizer=(i=window.trustedTypes)===null||i===void 0?void 0:i.createPolicy("tokenizeToString",{createHTML(t){return t}}),n=Ie([fe(1,k.ILanguageService),fe(2,m.IOpenerService)],n),e.MarkdownRenderer=n}),define(re[641],se([1,0,7,18,65,2,111,264,50,233]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverWidget=void 0;const h=E.$;class i extends I.Disposable{constructor(o,d,r=v.NullOpenerService){super();this._renderDisposeables=this._register(new I.DisposableStore),this._editor=o,this._isVisible=!1,this._messages=[],this._hover=this._register(new u.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new L.MarkdownRenderer({editor:this._editor},d,r)),this._computer=new n(this._editor),this._hoverOperation=this._register(new _.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(c=>{this._withResult(c.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(44)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return i.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(d=>this._editor.applyFontInfo(d))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(o){this._computer.lineNumber!==o&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=o,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),!!this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(o){this._messages=o,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(o,d){this._renderDisposeables.clear();const r=document.createDocumentFragment();for(const c of d){const s=h("div.hover-row.markdown-hover"),a=E.append(s,h("div.hover-contents")),l=this._renderDisposeables.add(this._markdownRenderer.render(c.value));a.appendChild(l.element),r.appendChild(s)}this._updateContents(r),this._showAt(o)}_updateContents(o){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(o),this._updateFont()}_showAt(o){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const d=this._editor.getLayoutInfo(),r=this._editor.getTopForLineNumber(o),c=this._editor.getScrollTop(),s=this._editor.getOption(59),a=this._hover.containerDomNode.clientHeight,l=r-c-(a-s)/2;this._hover.containerDomNode.style.left=`${d.glyphMarginLeft+d.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(l),0)}px`}}e.MarginHoverWidget=i,i.ID="editor.contrib.modesGlyphHoverWidget";class n{constructor(o){this._editor=o,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(o){this._lineNumber=o}computeSync(){const o=c=>({value:c}),d=this._editor.getLineDecorations(this._lineNumber),r=[];if(!d)return r;for(const c of d){if(!c.options.glyphMarginClassName)continue;const s=c.options.glyphMarginHoverMessage;!s||(0,k.isEmptyMarkdownString)(s)||r.push(...(0,m.asArray)(s).map(o))}return r}}}),define(re[287],se([1,0,34,7,72,28,4,65,2,111,33,269,586,9]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=e.canExpandCompletionItem=void 0;function o(c){return!!c&&Boolean(c.completion.documentation||c.completion.detail&&c.completion.detail!==c.completion.label)}e.canExpandCompletionItem=o;let d=class{constructor(s,a){this._editor=s,this._onDidClose=new L.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new L.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new v.DisposableStore,this._renderDisposeable=new v.DisposableStore,this._borderWidth=1,this._size=new m.Dimension(330,0),this.domNode=m.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=a.createInstance(u.MarkdownRenderer,{editor:s}),this._body=m.$(".body"),this._scrollbar=new k.DomScrollableElement(this._body,{}),m.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=m.append(this._body,m.$(".header")),this._close=m.append(this._header,m.$("span"+I.Codicon.close.cssSelector)),this._close.title=n.localize(0,null),this._type=m.append(this._header,m.$("p.type")),this._docs=m.append(this._body,m.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(44)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const s=this._editor.getOptions(),a=s.get(44),l=a.getMassagedFontFamily(E.isSafari?h.EDITOR_FONT_DEFAULTS.fontFamily:null),f=s.get(107)||a.fontSize,g=s.get(108)||a.lineHeight,b=a.fontWeight,p=`${f}px`,C=`${g}px`;this.domNode.style.fontSize=p,this.domNode.style.lineHeight=`${g/f}`,this.domNode.style.fontWeight=b,this.domNode.style.fontFeatureSettings=a.fontFeatureSettings,this._type.style.fontFamily=l,this._close.style.height=C,this._close.style.width=C}getLayoutInfo(){const s=this._editor.getOption(108)||this._editor.getOption(44).lineHeight,a=this._borderWidth,l=a*2;return{lineHeight:s,borderWidth:a,borderHeight:l,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=n.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(s,a){var l,f;this._renderDisposeable.clear();let{detail:g,documentation:b}=s.completion;if(a){let p="";p+=`score: ${s.score[0]}
`,p+=`prefix: ${(l=s.word)!==null&&l!==void 0?l:"(no prefix)"}
`,p+=`word: ${s.completion.filterText?s.completion.filterText+" (filterText)":s.textLabel}
`,p+=`distance: ${s.distance} (localityBonus-setting)
`,p+=`index: ${s.idx}, based on ${s.completion.sortText&&`sortText: "${s.completion.sortText}"`||"label"}
`,p+=`commit_chars: ${(f=s.completion.commitCharacters)===null||f===void 0?void 0:f.join("")}
`,b=new _.MarkdownString().appendCodeblock("empty",p),g=`Provider: ${s.provider._debugDisplayName}`}if(!a&&!o(s)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),g){const p=g.length>1e5?`${g.substr(0,1e5)}\u2026`:g;this._type.textContent=p,this._type.title=p,m.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(p))}else m.clearNode(this._type),this._type.title="",m.hide(this._type),this.domNode.classList.add("no-type");if(m.clearNode(this._docs),typeof b=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=b;else if(b){this._docs.classList.add("markdown-docs"),m.clearNode(this._docs);const p=this._markdownRenderer.render(b);this._docs.appendChild(p.element),this._renderDisposeable.add(p),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=p=>{p.preventDefault(),p.stopPropagation()},this._close.onclick=p=>{p.preventDefault(),p.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(s,a){const l=new m.Dimension(s,a);m.Dimension.equals(l,this._size)||(this._size=l,m.size(this.domNode,s,a)),this._scrollbar.scanDomNode()}scrollDown(s=8){this._body.scrollTop+=s}scrollUp(s=8){this._body.scrollTop-=s}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(s){this._borderWidth=s}get borderWidth(){return this._borderWidth}};d=Ie([fe(1,t.IInstantiationService)],d),e.SuggestDetailsWidget=d;class r{constructor(s,a){this.widget=s,this._editor=a,this._disposables=new v.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new i.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(s.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let l,f,g=0,b=0;this._disposables.add(this._resizable.onDidWillResize(()=>{l=this._topLeft,f=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(p=>{if(l&&f){this.widget.layout(p.dimension.width,p.dimension.height);let C=!1;p.west&&(b=f.width-p.dimension.width,C=!0),p.north&&(g=f.height-p.dimension.height,C=!0),C&&this._applyTopLeft({top:l.top+g,left:l.left+b})}p.done&&(l=void 0,f=void 0,g=0,b=0,this._userSize=p.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var p;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(p=this._userSize)!==null&&p!==void 0?p:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(s=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),s&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(s,a){var l;const f=s.getBoundingClientRect();this._anchorBox=f,this._preferAlignAtTop=a,this._placeAtAnchor(this._anchorBox,(l=this._userSize)!==null&&l!==void 0?l:this.widget.size,a)}_placeAtAnchor(s,a,l){var f;const g=m.getClientArea(document.body),b=this.widget.getLayoutInfo(),p=new m.Dimension(220,2*b.lineHeight),C=s.top,S=function(){const P=g.width-(s.left+s.width+b.borderWidth+b.horizontalPadding),F=-b.borderWidth+s.left+s.width,W=new m.Dimension(P,g.height-s.top-b.borderHeight-b.verticalPadding),M=W.with(void 0,s.top+s.height-b.borderHeight-b.verticalPadding);return{top:C,left:F,fit:P-a.width,maxSizeTop:W,maxSizeBottom:M,minSize:p.with(Math.min(P,p.width))}}(),y=function(){const P=s.left-b.borderWidth-b.horizontalPadding,F=Math.max(b.horizontalPadding,s.left-a.width-b.borderWidth),W=new m.Dimension(P,g.height-s.top-b.borderHeight-b.verticalPadding),M=W.with(void 0,s.top+s.height-b.borderHeight-b.verticalPadding);return{top:C,left:F,fit:P-a.width,maxSizeTop:W,maxSizeBottom:M,minSize:p.with(Math.min(P,p.width))}}(),w=function(){const P=s.left,F=-b.borderWidth+s.top+s.height,W=new m.Dimension(s.width-b.borderHeight,g.height-s.top-s.height-b.verticalPadding);return{top:F,left:P,fit:W.height-a.height,maxSizeBottom:W,maxSizeTop:W,minSize:p.with(W.width)}}(),T=[S,y,w],N=(f=T.find(P=>P.fit>=0))!==null&&f!==void 0?f:T.sort((P,F)=>F.fit-P.fit)[0],R=s.top+s.height-b.borderHeight;let B,O=a.height;const D=Math.max(N.maxSizeTop.height,N.maxSizeBottom.height);O>D&&(O=D);let A;l?O<=N.maxSizeTop.height?(B=!0,A=N.maxSizeTop):(B=!1,A=N.maxSizeBottom):O<=N.maxSizeBottom.height?(B=!1,A=N.maxSizeBottom):(B=!0,A=N.maxSizeTop),this._applyTopLeft({left:N.left,top:B?N.top:R-O}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!B,N===S,B,N!==S),this._resizable.minSize=N.minSize,this._resizable.maxSize=A,this._resizable.layout(O,Math.min(A.width,a.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(s){this._topLeft=s,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}e.SuggestDetailsOverlay=r}),define(re[642],se([1,0,18,51,41,19,25,35,110,38]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.DefaultConfigurationModel=e.ConfigurationModel=void 0;class h{constructor(d={},r=[],c=[]){this._contents=d,this._keys=r,this._overrides=c,this.isFrozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(d){return d?(0,_.getConfigurationValue)(this.contents,d):this.contents}getOverrideValue(d,r){const c=this.getContentsForOverrideIdentifer(r);return c?d?(0,_.getConfigurationValue)(c,d):c:void 0}override(d){let r=this.overrideConfigurations.get(d);return r||(r=this.createOverrideConfigurationModel(d),this.overrideConfigurations.set(d,r)),r}merge(...d){const r=k.deepClone(this.contents),c=k.deepClone(this.overrides),s=[...this.keys];for(const a of d){this.mergeContents(r,a.contents);for(const l of a.overrides){const[f]=c.filter(g=>E.equals(g.identifiers,l.identifiers));f?(this.mergeContents(f.contents,l.contents),f.keys.push(...l.keys),f.keys=E.distinct(f.keys)):c.push(k.deepClone(l))}for(const l of a.keys)s.indexOf(l)===-1&&s.push(l)}return new h(r,s,c)}freeze(){return this.isFrozen=!0,this}createOverrideConfigurationModel(d){const r=this.getContentsForOverrideIdentifer(d);if(!r||typeof r!="object"||!Object.keys(r).length)return this;let c={};for(const s of E.distinct([...Object.keys(this.contents),...Object.keys(r)])){let a=this.contents[s],l=r[s];l&&(typeof a=="object"&&typeof l=="object"?(a=k.deepClone(a),this.mergeContents(a,l)):a=l),c[s]=a}return new h(c,this.keys,this.overrides)}mergeContents(d,r){for(const c of Object.keys(r)){if(c in d&&I.isObject(d[c])&&I.isObject(r[c])){this.mergeContents(d[c],r[c]);continue}d[c]=k.deepClone(r[c])}}checkAndFreeze(d){return this.isFrozen&&!Object.isFrozen(d)?k.deepFreeze(d):d}getContentsForOverrideIdentifer(d){let r=null,c=null;const s=a=>{a&&(c?this.mergeContents(c,a):c=k.deepClone(a))};for(const a of this.overrides)E.equals(a.identifiers,[d])?r=a.contents:a.identifiers.includes(d)&&s(a.contents);return s(r),c}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(d,r){this.addKey(d),(0,_.addToValueTree)(this.contents,d,r,c=>{throw new Error(c)})}removeValue(d){this.removeKey(d)&&(0,_.removeFromValueTree)(this.contents,d)}addKey(d){let r=this.keys.length;for(let c=0;c<r;c++)d.indexOf(this.keys[c])===0&&(r=c);this.keys.splice(r,1,d)}removeKey(d){let r=this.keys.indexOf(d);return r!==-1?(this.keys.splice(r,1),!0):!1}}e.ConfigurationModel=h;class i extends h{constructor(d={}){const r=u.Registry.as(v.Extensions.Configuration).getConfigurationProperties(),c=Object.keys(r),s=Object.create(null),a=[];for(const l in r){const f=d[l],g=f!==void 0?f:r[l].default;(0,_.addToValueTree)(s,l,g,b=>console.error(`Conflict in default settings: ${b}`))}for(const l of Object.keys(s))v.OVERRIDE_PROPERTY_REGEX.test(l)&&a.push({identifiers:(0,v.overrideIdentifiersFromKey)(l),keys:Object.keys(s[l]),contents:(0,_.toValuesTree)(s[l],f=>console.error(`Conflict in default settings file: ${f}`))});super(s,c,a)}}e.DefaultConfigurationModel=i;class n{constructor(d,r,c=new h,s=new h,a=new m.ResourceMap,l=new h,f=new m.ResourceMap,g=!0){this._defaultConfiguration=d,this._localUserConfiguration=r,this._remoteUserConfiguration=c,this._workspaceConfiguration=s,this._folderConfigurations=a,this._memoryConfiguration=l,this._memoryConfigurationByResource=f,this._freeze=g,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new m.ResourceMap,this._userConfiguration=null}getValue(d,r,c){return this.getConsolidateConfigurationModel(r,c).getValue(d)}updateValue(d,r,c={}){let s;c.resource?(s=this._memoryConfigurationByResource.get(c.resource),s||(s=new h,this._memoryConfigurationByResource.set(c.resource,s))):s=this._memoryConfiguration,r===void 0?s.removeValue(d):s.setValue(d,r),c.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(d,r,c){const s=this.getConsolidateConfigurationModel(r,c),a=this.getFolderConfigurationModelForResource(r.resource,c),l=r.resource?this._memoryConfigurationByResource.get(r.resource)||this._memoryConfiguration:this._memoryConfiguration,f=r.overrideIdentifier?this._defaultConfiguration.freeze().override(r.overrideIdentifier).getValue(d):this._defaultConfiguration.freeze().getValue(d),g=r.overrideIdentifier?this.userConfiguration.freeze().override(r.overrideIdentifier).getValue(d):this.userConfiguration.freeze().getValue(d),b=r.overrideIdentifier?this.localUserConfiguration.freeze().override(r.overrideIdentifier).getValue(d):this.localUserConfiguration.freeze().getValue(d),p=r.overrideIdentifier?this.remoteUserConfiguration.freeze().override(r.overrideIdentifier).getValue(d):this.remoteUserConfiguration.freeze().getValue(d),C=c?r.overrideIdentifier?this._workspaceConfiguration.freeze().override(r.overrideIdentifier).getValue(d):this._workspaceConfiguration.freeze().getValue(d):void 0,S=a?r.overrideIdentifier?a.freeze().override(r.overrideIdentifier).getValue(d):a.freeze().getValue(d):void 0,y=r.overrideIdentifier?l.override(r.overrideIdentifier).getValue(d):l.getValue(d),w=s.getValue(d),T=E.distinct(E.flatten(s.overrides.map(N=>N.identifiers))).filter(N=>s.getOverrideValue(d,N)!==void 0);return{defaultValue:f,userValue:g,userLocalValue:b,userRemoteValue:p,workspaceValue:C,workspaceFolderValue:S,memoryValue:y,value:w,default:f!==void 0?{value:this._defaultConfiguration.freeze().getValue(d),override:r.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(d,r.overrideIdentifier):void 0}:void 0,user:g!==void 0?{value:this.userConfiguration.freeze().getValue(d),override:r.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(d,r.overrideIdentifier):void 0}:void 0,userLocal:b!==void 0?{value:this.localUserConfiguration.freeze().getValue(d),override:r.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(d,r.overrideIdentifier):void 0}:void 0,userRemote:p!==void 0?{value:this.remoteUserConfiguration.freeze().getValue(d),override:r.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(d,r.overrideIdentifier):void 0}:void 0,workspace:C!==void 0?{value:this._workspaceConfiguration.freeze().getValue(d),override:r.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(d,r.overrideIdentifier):void 0}:void 0,workspaceFolder:S!==void 0?{value:a==null?void 0:a.freeze().getValue(d),override:r.overrideIdentifier?a==null?void 0:a.freeze().getOverrideValue(d,r.overrideIdentifier):void 0}:void 0,memory:y!==void 0?{value:l.getValue(d),override:r.overrideIdentifier?l.getOverrideValue(d,r.overrideIdentifier):void 0}:void 0,overrideIdentifiers:T.length?T:void 0}}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidateConfigurationModel(d,r){let c=this.getConsolidatedConfigurationModelForResource(d,r);return d.overrideIdentifier?c.override(d.overrideIdentifier):c}getConsolidatedConfigurationModelForResource({resource:d},r){let c=this.getWorkspaceConsolidatedConfiguration();if(r&&d){const s=r.getFolder(d);s&&(c=this.getFolderConsolidatedConfiguration(s.uri)||c);const a=this._memoryConfigurationByResource.get(d);a&&(c=c.merge(a))}return c}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(d){let r=this._foldersConsolidatedConfigurations.get(d);if(!r){const c=this.getWorkspaceConsolidatedConfiguration(),s=this._folderConfigurations.get(d);s?(r=c.merge(s),this._freeze&&(r=r.freeze()),this._foldersConsolidatedConfigurations.set(d,r)):r=c}return r}getFolderConfigurationModelForResource(d,r){if(r&&d){const c=r.getFolder(d);if(c)return this._folderConfigurations.get(c.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((d,r)=>{const{contents:c,overrides:s,keys:a}=this._folderConfigurations.get(r);return d.push([r,{contents:c,overrides:s,keys:a}]),d},[])}}static parse(d){const r=this.parseConfigurationModel(d.defaults),c=this.parseConfigurationModel(d.user),s=this.parseConfigurationModel(d.workspace),a=d.folders.reduce((l,f)=>(l.set(L.URI.revive(f[0]),this.parseConfigurationModel(f[1])),l),new m.ResourceMap);return new n(r,c,new h,s,a,new h,new m.ResourceMap,!1)}static parseConfigurationModel(d){return new h(d.contents,d.keys,d.overrides).freeze()}}e.Configuration=n;class t{constructor(d,r,c,s){this.change=d,this.previous=r,this.currentConfiguraiton=c,this.currentWorkspace=s,this._previousConfiguration=void 0;const a=new Set;d.keys.forEach(f=>a.add(f)),d.overrides.forEach(([,f])=>f.forEach(g=>a.add(g))),this.affectedKeys=[...a.values()];const l=new h;this.affectedKeys.forEach(f=>l.setValue(f,{})),this.affectedKeysTree=l.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=n.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(d,r){var c;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,d)){if(r){const s=this.previousConfiguration?this.previousConfiguration.getValue(d,r,(c=this.previous)===null||c===void 0?void 0:c.workspace):void 0,a=this.currentConfiguraiton.getValue(d,r,this.currentWorkspace);return!k.equals(s,a)}return!0}return!1}doesAffectedKeysTreeContains(d,r){let c=(0,_.toValuesTree)({[r]:!0},()=>{}),s;for(;typeof c=="object"&&(s=Object.keys(c)[0]);){if(d=d[s],!d)return!1;c=c[s]}return!0}}e.ConfigurationChangeEvent=t}),define(re[90],se([1,0,100,17,26,38]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class L{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(u){if(m.OS===1){if(u&&u.win)return u.win}else if(m.OS===2){if(u&&u.mac)return u.mac}else if(u&&u.linux)return u.linux;return u}registerKeybindingRule(u){const h=L.bindToCurrentPlatform(u);if(h&&h.primary){const i=(0,E.createKeybinding)(h.primary,m.OS);i&&this._registerDefaultKeybinding(i,u.id,u.args,u.weight,0,u.when)}if(h&&Array.isArray(h.secondary))for(let i=0,n=h.secondary.length;i<n;i++){const t=h.secondary[i],o=(0,E.createKeybinding)(t,m.OS);o&&this._registerDefaultKeybinding(o,u.id,u.args,u.weight,-i-1,u.when)}}registerCommandAndKeybindingRule(u){this.registerKeybindingRule(u),k.CommandsRegistry.registerCommand(u)}static _mightProduceChar(u){return u>=21&&u<=30||u>=31&&u<=56?!0:u===80||u===81||u===82||u===83||u===84||u===85||u===86||u===110||u===111||u===87||u===88||u===89||u===90||u===91||u===92}_assertNoCtrlAlt(u,h){u.ctrlKey&&u.altKey&&!u.metaKey&&L._mightProduceChar(u.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",u," for ",h)}_registerDefaultKeybinding(u,h,i,n,t,o){m.OS===1&&this._assertNoCtrlAlt(u.parts[0],h),this._coreKeybindings.push({keybinding:u.parts,command:h,commandArgs:i,when:o,weight1:n,weight2:t,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(_)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new L,e.Extensions={EditorModes:"platform.keybindingsRegistry"},I.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function _(v,u){return v.weight1!==u.weight1?v.weight1-u.weight1:v.command<u.command?-1:v.command>u.command?1:v.weight2-u.weight2}}),define(re[288],se([1,0,498,499,16,90,600]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.createAndBindHistoryNavigationWidgetScopedContextKeyService=e.HistoryNavigationWidgetContext=e.historyNavigationVisible=void 0,e.historyNavigationVisible=new k.RawContextKey("suggestWidgetVisible",!1,(0,L.localize)(0,null)),e.HistoryNavigationWidgetContext="historyNavigationWidget";const _="historyNavigationForwardsEnabled",v="historyNavigationBackwardsEnabled";function u(d,r,c){new k.RawContextKey(c,r).bindTo(d)}function h(d,r){return d.createScoped(r.target)}function i(d,r){return d.getContext(document.activeElement).getValue(r)}function n(d,r){const c=h(d,r);u(c,r,e.HistoryNavigationWidgetContext);const s=new k.RawContextKey(_,!0).bindTo(c),a=new k.RawContextKey(v,!0).bindTo(c);return{scopedContextKeyService:c,historyNavigationForwardsEnablement:s,historyNavigationBackwardsEnablement:a}}e.createAndBindHistoryNavigationWidgetScopedContextKeyService=n;let t=class extends E.FindInput{constructor(r,c,s,a,l=!1){super(r,c,l,s);this._register(n(a,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};t=Ie([fe(3,k.IContextKeyService)],t),e.ContextScopedFindInput=t;let o=class extends m.ReplaceInput{constructor(r,c,s,a,l=!1){super(r,c,l,s);this._register(n(a,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};o=Ie([fe(3,k.IContextKeyService)],o),e.ContextScopedReplaceInput=o,I.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:k.ContextKeyExpr.and(k.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),k.ContextKeyExpr.equals(v,!0),e.historyNavigationVisible.isEqualTo(!1)),primary:16,secondary:[512|16],handler:d=>{const r=i(d.get(k.IContextKeyService),e.HistoryNavigationWidgetContext);r&&r.historyNavigator.showPreviousValue()}}),I.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:k.ContextKeyExpr.and(k.ContextKeyExpr.has(e.HistoryNavigationWidgetContext),k.ContextKeyExpr.equals(_,!0),e.historyNavigationVisible.isEqualTo(!1)),primary:18,secondary:[512|18],handler:d=>{const r=i(d.get(k.IContextKeyService),e.HistoryNavigationWidgetContext);r&&r.historyNavigator.showNextValue()}})}),define(re[112],se([1,0,18,2,38]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var I;(function(_){_[_.PRESERVE=0]="PRESERVE",_[_.LAST=1]="LAST"})(I=e.DefaultQuickAccessFilterValue||(e.DefaultQuickAccessFilterValue={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class L{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(v){return v.prefix.length===0?this.defaultProvider=v:this.providers.push(v),this.providers.sort((u,h)=>h.prefix.length-u.prefix.length),(0,m.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(v),1),this.defaultProvider===v&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,E.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(v){return v&&this.providers.find(h=>v.startsWith(h.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=L,k.Registry.add(e.Extensions.Quickaccess,new L)}),define(re[643],se([1,0,2,605,112,82,38]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let _=class xt{constructor(u){this.quickInputService=u,this.registry=L.Registry.as(k.Extensions.Quickaccess)}provide(u){const h=new E.DisposableStore;h.add(u.onDidAccept(()=>{const[t]=u.selectedItems;t&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})})),h.add(u.onDidChangeValue(t=>{const o=this.registry.getQuickAccessProvider(t.substr(xt.PREFIX.length));o&&o.prefix&&o.prefix!==xt.PREFIX&&this.quickInputService.quickAccess.show(o.prefix,{preserveValue:!0})}));const{editorProviders:i,globalProviders:n}=this.getQuickAccessProviders();return u.items=i.length===0||n.length===0?[...i.length===0?n:i]:[{label:(0,m.localize)(0,null),type:"separator"},...n,{label:(0,m.localize)(1,null),type:"separator"},...i],h}getQuickAccessProviders(){const u=[],h=[];for(const i of this.registry.getQuickAccessProviders().sort((n,t)=>n.prefix.localeCompare(t.prefix)))if(i.prefix!==xt.PREFIX)for(const n of i.helpEntries){const t=n.prefix||i.prefix,o=t||"\u2026";(n.needsEditor?h:u).push({prefix:t,label:o,ariaLabel:(0,m.localize)(2,null,o,n.description),description:n.description})}return{editorProviders:h,globalProviders:u}}};_.PREFIX="?",_=Ie([fe(0,I.IQuickInputService)],_),e.HelpQuickAccessProvider=_}),define(re[644],se([1,0,38,112,75,643]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),E.Registry.as(m.Extensions.Quickaccess).registerQuickAccessProvider({ctor:I.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:k.QuickHelpNLS.helpQuickAccessActionLabel,needsEditor:!0}]})}),define(re[645],se([1,0,10,21,92,2,9,112,82,38]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let h=class extends I.Disposable{constructor(n,t){super();this.quickInputService=n,this.instantiationService=t,this.registry=u.Registry.as(_.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(n="",t){this.doShowOrPick(n,!1,t)}doShowOrPick(n,t,o){var d;const[r,c]=this.getOrInstantiateProvider(n),s=this.visibleQuickAccess,a=s==null?void 0:s.descriptor;if(s&&c&&a===c){n!==c.prefix&&!(o==null?void 0:o.preserveValue)&&(s.picker.value=n),this.adjustValueSelection(s.picker,c,o);return}if(c&&!(o==null?void 0:o.preserveValue)){let p;if(s&&a&&a!==c){const C=s.value.substr(a.prefix.length);C&&(p=`${c.prefix}${C}`)}if(!p){const C=r==null?void 0:r.defaultFilterValue;C===_.DefaultQuickAccessFilterValue.LAST?p=this.lastAcceptedPickerValues.get(c):typeof C=="string"&&(p=`${c.prefix}${C}`)}typeof p=="string"&&(n=p)}const l=new I.DisposableStore,f=l.add(this.quickInputService.createQuickPick());f.value=n,this.adjustValueSelection(f,c,o),f.placeholder=c==null?void 0:c.placeholder,f.quickNavigate=o==null?void 0:o.quickNavigateConfiguration,f.hideInput=!!f.quickNavigate&&!s,(typeof(o==null?void 0:o.itemActivation)=="number"||(o==null?void 0:o.quickNavigateConfiguration))&&(f.itemActivation=(d=o==null?void 0:o.itemActivation)!==null&&d!==void 0?d:v.ItemActivation.SECOND),f.contextKey=c==null?void 0:c.contextKey,f.filterValue=p=>p.substring(c?c.prefix.length:0),(c==null?void 0:c.placeholder)&&(f.ariaLabel=c==null?void 0:c.placeholder);let g;t&&(g=new E.DeferredPromise,l.add((0,k.once)(f.onWillAccept)(p=>{p.veto(),f.hide()}))),l.add(this.registerPickerListeners(f,r,c,n));const b=l.add(new m.CancellationTokenSource);if(r&&l.add(r.provide(f,b.token)),(0,k.once)(f.onDidHide)(()=>{f.selectedItems.length===0&&b.cancel(),l.dispose(),g==null||g.complete(f.selectedItems.slice(0))}),f.show(),t)return g==null?void 0:g.p}adjustValueSelection(n,t,o){var d;let r;(o==null?void 0:o.preserveValue)?r=[n.value.length,n.value.length]:r=[(d=t==null?void 0:t.prefix.length)!==null&&d!==void 0?d:0,n.value.length],n.valueSelection=r}registerPickerListeners(n,t,o,d){const r=new I.DisposableStore,c=this.visibleQuickAccess={picker:n,descriptor:o,value:d};return r.add((0,I.toDisposable)(()=>{c===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),r.add(n.onDidChangeValue(s=>{const[a]=this.getOrInstantiateProvider(s);a!==t?this.show(s,{preserveValue:!0}):c.value=s})),o&&r.add(n.onDidAccept(()=>{this.lastAcceptedPickerValues.set(o,n.value)})),r}getOrInstantiateProvider(n){const t=this.registry.getQuickAccessProvider(n);if(!t)return[void 0,void 0];let o=this.mapProviderToDescriptor.get(t);return o||(o=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,o)),[o,t]}};h=Ie([fe(0,v.IQuickInputService),fe(1,L.IInstantiationService)],h),e.QuickAccessController=h}),define(re[83],se([1,0,4,2,19,338,9]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=void 0;const _="__$__targetStorageMarker";e.IStorageService=(0,L.createDecorator)("storageService");var v;(function(i){i[i.NONE=0]="NONE",i[i.SHUTDOWN=1]="SHUTDOWN"})(v=e.WillSaveStateReason||(e.WillSaveStateReason={}));class u extends m.Disposable{constructor(n={flushInterval:u.DEFAULT_FLUSH_INTERVAL}){super();this.options=n,this._onDidChangeValue=this._register(new E.PauseableEmitter),this._onDidChangeTarget=this._register(new E.PauseableEmitter),this._onWillSaveState=this._register(new E.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(n,t){t===_?(n===0?this._globalKeyTargets=void 0:n===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:n})):this._onDidChangeValue.fire({scope:n,key:t,target:this.getKeyTargets(n)[t]})}get(n,t,o){var d;return(d=this.getStorage(t))===null||d===void 0?void 0:d.get(n,o)}getBoolean(n,t,o){var d;return(d=this.getStorage(t))===null||d===void 0?void 0:d.getBoolean(n,o)}getNumber(n,t,o){var d;return(d=this.getStorage(t))===null||d===void 0?void 0:d.getNumber(n,o)}store(n,t,o,d){if((0,k.isUndefinedOrNull)(t)){this.remove(n,o);return}this.withPausedEmitters(()=>{var r;this.updateKeyTarget(n,o,d),(r=this.getStorage(o))===null||r===void 0||r.set(n,t)})}remove(n,t){this.withPausedEmitters(()=>{var o;this.updateKeyTarget(n,t,void 0),(o=this.getStorage(t))===null||o===void 0||o.delete(n)})}withPausedEmitters(n){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{n()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(n,t,o){var d,r;const c=this.getKeyTargets(t);typeof o=="number"?c[n]!==o&&(c[n]=o,(d=this.getStorage(t))===null||d===void 0||d.set(_,JSON.stringify(c))):typeof c[n]=="number"&&(delete c[n],(r=this.getStorage(t))===null||r===void 0||r.set(_,JSON.stringify(c)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(n){return n===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(n){const t=this.get(_,n);if(t)try{return JSON.parse(t)}catch{}return Object.create(null)}}e.AbstractStorageService=u,u.DEFAULT_FLUSH_INTERVAL=60*1e3;class h extends u{constructor(){super();this.globalStorage=this._register(new I.Storage(new I.InMemoryStorageDatabase)),this.workspaceStorage=this._register(new I.Storage(new I.InMemoryStorageDatabase)),this._register(this.workspaceStorage.onDidChangeStorage(n=>this.emitDidChangeValue(1,n))),this._register(this.globalStorage.onDidChangeStorage(n=>this.emitDidChangeValue(0,n)))}getStorage(n){return n===0?this.globalStorage:this.workspaceStorage}}e.InMemoryStorageService=h}),define(re[646],se([1,0,10,92,51,3,280,53,9,83]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,v.createDecorator)("ICodeLensCache");class h{constructor(t,o){this.lineCount=t,this.data=o}}let i=class{constructor(t){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new k.LRUCache(20,.75);const o="codelens/cache";(0,E.runWhenIdle)(()=>t.remove(o,1));const d="codelens/cache2",r=t.get(d,1,"{}");this._deserialize(r),(0,m.once)(t.onWillSaveState)(c=>{c.reason===u.WillSaveStateReason.SHUTDOWN&&t.store(d,this._serialize(),1,1)})}put(t,o){const d=o.lenses.map(s=>{var a;return{range:s.symbol.range,command:s.symbol.command&&{id:"",title:(a=s.symbol.command)===null||a===void 0?void 0:a.title}}}),r=new L.CodeLensModel;r.add({lenses:d,dispose:()=>{}},this._fakeProvider);const c=new h(t.getLineCount(),r);this._cache.set(t.uri.toString(),c)}get(t){const o=this._cache.get(t.uri.toString());return o&&o.lineCount===t.getLineCount()?o.data:void 0}delete(t){this._cache.delete(t.uri.toString())}_serialize(){const t=Object.create(null);for(const[o,d]of this._cache){const r=new Set;for(const c of d.data.lenses)r.add(c.symbol.range.startLineNumber);t[o]={lineCount:d.lineCount,lines:[...r.values()]}}return JSON.stringify(t)}_deserialize(t){try{const o=JSON.parse(t);for(const d in o){const r=o[d],c=[];for(const a of r.lines)c.push({range:new I.Range(a,1,a,11)});const s=new L.CodeLensModel;s.add({lenses:c,dispose(){}},this._fakeProvider),this._cache.set(d,new h(r.lineCount,s))}}catch{}}};i=Ie([fe(0,u.IStorageService)],i),e.CodeLensCache=i,(0,_.registerSingleton)(e.ICodeLensCache,i)}),define(re[289],se([1,0,10,2,51,27,35,53,9,83]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class h{constructor(r){this.name=r}select(r,c,s){if(s.length===0)return 0;let a=s[0].score[0];for(let l=0;l<s.length;l++){const{score:f,completion:g}=s[l];if(f[0]!==a)break;if(g.preselect)return l}return 0}}e.Memory=h;class i extends h{constructor(){super("first")}memorize(r,c,s){}toJSON(){}fromJSON(){}}e.NoMemory=i;class n extends h{constructor(){super("recentlyUsed");this._cache=new k.LRUCache(300,.66),this._seq=0}memorize(r,c,s){const a=`${r.getLanguageId()}/${s.textLabel}`;this._cache.set(a,{touch:this._seq++,type:s.completion.kind,insertText:s.completion.insertText})}select(r,c,s){if(s.length===0)return 0;const a=r.getLineContent(c.lineNumber).substr(c.column-10,c.column-1);if(/\s$/.test(a))return super.select(r,c,s);let l=s[0].score[0],f=-1,g=-1,b=-1;for(let p=0;p<s.length&&s[p].score[0]===l;p++){const C=`${r.getLanguageId()}/${s[p].textLabel}`,S=this._cache.peek(C);if(S&&S.touch>b&&S.type===s[p].completion.kind&&S.insertText===s[p].completion.insertText&&(b=S.touch,g=p),s[p].completion.preselect&&f===-1)return f=p}return g!==-1?g:f!==-1?f:0}toJSON(){return this._cache.toJSON()}fromJSON(r){this._cache.clear();let c=0;for(const[s,a]of r)a.touch=c,a.type=typeof a.type=="number"?a.type:I.CompletionItemKinds.fromString(a.type),this._cache.set(s,a);this._seq=this._cache.size}}e.LRUMemory=n;class t extends h{constructor(){super("recentlyUsedByPrefix");this._trie=k.TernarySearchTree.forStrings(),this._seq=0}memorize(r,c,s){const{word:a}=r.getWordUntilPosition(c),l=`${r.getLanguageId()}/${a}`;this._trie.set(l,{type:s.completion.kind,insertText:s.completion.insertText,touch:this._seq++})}select(r,c,s){let{word:a}=r.getWordUntilPosition(c);if(!a)return super.select(r,c,s);let l=`${r.getLanguageId()}/${a}`,f=this._trie.get(l);if(f||(f=this._trie.findSubstr(l)),f)for(let g=0;g<s.length;g++){let{kind:b,insertText:p}=s[g].completion;if(b===f.type&&p===f.insertText)return g}return super.select(r,c,s)}toJSON(){let r=[];return this._trie.forEach((c,s)=>r.push([s,c])),r.sort((c,s)=>-(c[1].touch-s[1].touch)).forEach((c,s)=>c[1].touch=s),r.slice(0,200)}fromJSON(r){if(this._trie.clear(),r.length>0){this._seq=r[0][1].touch+1;for(const[c,s]of r)s.type=typeof s.type=="number"?s.type:I.CompletionItemKinds.fromString(s.type),this._trie.set(c,s)}}}e.PrefixMemory=t;let o=class zt{constructor(r,c){this._storageService=r,this._configService=c,this._disposables=new m.DisposableStore,this._persistSoon=new E.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(r.onWillSaveState(s=>{s.reason===u.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(r,c,s){this._withStrategy(r,c).memorize(r,c,s),this._persistSoon.schedule()}select(r,c,s){return this._withStrategy(r,c).select(r,c,s)}_withStrategy(r,c){var s;const a=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:r.getLanguageIdAtPosition(c.lineNumber,c.column),resource:r.uri});if(((s=this._strategy)===null||s===void 0?void 0:s.name)!==a){this._saveState();const l=zt._strategyCtors.get(a)||i;this._strategy=new l;try{const g=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,b=this._storageService.get(`${zt._storagePrefix}/${a}`,g);b&&this._strategy.fromJSON(JSON.parse(b))}catch{}}return this._strategy}_saveState(){if(this._strategy){const c=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,s=JSON.stringify(this._strategy);this._storageService.store(`${zt._storagePrefix}/${this._strategy.name}`,s,c,1)}}};o._strategyCtors=new Map([["recentlyUsedByPrefix",t],["recentlyUsed",n],["first",i]]),o._storagePrefix="suggest/memories",o=Ie([fe(0,u.IStorageService),fe(1,L.IConfigurationService)],o),e.SuggestMemoryService=o,e.ISuggestMemoryService=(0,v.createDecorator)("ISuggestMemories"),(0,_.registerSingleton)(e.ISuggestMemoryService,o,!0)}),define(re[91],se([1,0,9]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,E.createDecorator)("telemetryService")}),define(re[647],se([1,0,503,13,64,2,51,78,19,604,26,35,132,9,43,633,83,91]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let s=class Vt extends d.PickerQuickAccessProvider{constructor(f,g,b,p,C,S){super(Vt.PREFIX,f);this.instantiationService=g,this.keybindingService=b,this.commandService=p,this.telemetryService=C,this.dialogService=S,this.commandsHistory=this._register(this.instantiationService.createInstance(a)),this.options=f}_getPicks(f,g,b){return Le(this,void 0,void 0,function*(){const p=yield this.getCommandPicks(g,b);if(b.isCancellationRequested)return[];const C=[];for(const T of p){const N=(0,v.withNullAsUndefined)(Vt.WORD_FILTER(f,T.label)),R=T.commandAlias?(0,v.withNullAsUndefined)(Vt.WORD_FILTER(f,T.commandAlias)):void 0;N||R?(T.highlights={label:N,detail:this.options.showAlias?R:void 0},C.push(T)):f===T.commandId&&C.push(T)}const S=new Map;for(const T of C){const N=S.get(T.label);N?(T.description=T.commandId,N.description=N.commandId):S.set(T.label,T)}C.sort((T,N)=>{const R=this.commandsHistory.peek(T.commandId),B=this.commandsHistory.peek(N.commandId);return R&&B?R>B?-1:1:R?-1:B?1:T.label.localeCompare(N.label)});const y=[];let w=!1;for(let T=0;T<C.length;T++){const N=C[T],R=this.keybindingService.lookupKeybinding(N.commandId),B=R?(0,u.localize)(0,null,N.label,R.getAriaLabel()):N.label;T===0&&this.commandsHistory.peek(N.commandId)&&(y.push({type:"separator",label:(0,u.localize)(1,null)}),w=!0),T!==0&&w&&!this.commandsHistory.peek(N.commandId)&&(y.push({type:"separator",label:(0,u.localize)(2,null)}),w=!1),y.push(Object.assign(Object.assign({},N),{ariaLabel:B,detail:this.options.showAlias&&N.commandAlias!==N.label?N.commandAlias:void 0,keybinding:R,accept:()=>Le(this,void 0,void 0,function*(){this.commandsHistory.push(N.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:N.commandId,from:"quick open"});try{yield this.commandService.executeCommand(N.commandId)}catch(O){(0,m.isCancellationError)(O)||this.dialogService.show(_.default.Error,(0,u.localize)(3,null,N.label,(0,E.toErrorMessage)(O)))}})}))}return y})}};s.PREFIX=">",s.WORD_FILTER=(0,k.or)(k.matchesPrefix,k.matchesWords,k.matchesContiguousSubString),s=Ie([fe(1,t.IInstantiationService),fe(2,o.IKeybindingService),fe(3,h.ICommandService),fe(4,c.ITelemetryService),fe(5,n.IDialogService)],s),e.AbstractCommandsQuickAccessProvider=s;let a=class ot extends I.Disposable{constructor(f,g){super();this.storageService=f,this.configurationService=g,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=ot.getConfiguredCommandHistoryLength(this.configurationService),ot.cache&&ot.cache.limit!==this.configuredCommandsHistoryLength&&(ot.cache.limit=this.configuredCommandsHistoryLength,ot.saveState(this.storageService))}load(){const f=this.storageService.get(ot.PREF_KEY_CACHE,0);let g;if(f)try{g=JSON.parse(f)}catch{}const b=ot.cache=new L.LRUCache(this.configuredCommandsHistoryLength,1);if(g){let p;g.usesLRU?p=g.entries:p=g.entries.sort((C,S)=>C.value-S.value),p.forEach(C=>b.set(C.key,C.value))}ot.counter=this.storageService.getNumber(ot.PREF_KEY_COUNTER,0,ot.counter)}push(f){!ot.cache||(ot.cache.set(f,ot.counter++),ot.saveState(this.storageService))}peek(f){var g;return(g=ot.cache)===null||g===void 0?void 0:g.peek(f)}static saveState(f){if(!ot.cache)return;const g={usesLRU:!0,entries:[]};ot.cache.forEach((b,p)=>g.entries.push({key:p,value:b})),f.store(ot.PREF_KEY_CACHE,JSON.stringify(g),0,0),f.store(ot.PREF_KEY_COUNTER,ot.counter,0,0)}static getConfiguredCommandHistoryLength(f){var g,b;const C=(b=(g=f.getValue().workbench)===null||g===void 0?void 0:g.commandPalette)===null||b===void 0?void 0:b.history;return typeof C=="number"?C:ot.DEFAULT_COMMANDS_HISTORY_LENGTH}};a.DEFAULT_COMMANDS_HISTORY_LENGTH=50,a.PREF_KEY_CACHE="commandPalette.mru.cache",a.PREF_KEY_COUNTER="commandPalette.mru.counter",a.counter=1,a=Ie([fe(0,r.IStorageService),fe(1,i.IConfigurationService)],a),e.CommandsHistory=a}),define(re[648],se([1,0,101,647]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class k extends m.AbstractCommandsQuickAccessProvider{constructor(L,_,v,u,h,i){super(L,_,v,u,h,i)}getCodeEditorCommandPicks(){const L=this.activeTextEditorControl;if(!L)return[];const _=[];for(const v of L.getSupportedActions())_.push({commandId:v.id,commandAlias:v.alias,label:(0,E.stripIcons)(v.label)||v.id});return _}}e.AbstractEditorCommandsQuickAccessProvider=k}),define(re[23],se([1,0,10,30,4,19,606,207,38]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.resolveColorValue=e.ifDefinedThenElse=e.oneOf=e.transparent=e.lighten=e.darken=e.executeTransform=e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapForegroundOpacity=e.minimapBackground=e.minimapWarning=e.minimapError=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.listDeemphasizedForeground=e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeIndentGuidesStroke=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffOverviewRulerRemoved=e.diffOverviewRulerInserted=e.diffRemovedLineGutter=e.diffInsertedLineGutter=e.diffRemovedLine=e.diffInsertedLine=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorActiveLinkForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorForeground=e.editorBackground=e.sashHoverBorder=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonForeground=e.checkboxBorder=e.checkboxForeground=e.checkboxBackground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=e.widgetShadow=e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatForeground=e.textLinkActiveForeground=e.textLinkForeground=e.textSeparatorForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.disabledForeground=e.foreground=e.registerColor=e.Extensions=e.asCssVariableName=void 0;function u(N){return`--vscode-${N.replace(/\./g,"-")}`}e.asCssVariableName=u,e.Extensions={ColorContribution:"base.contributions.colors"};class h{constructor(){this._onDidChangeSchema=new k.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(R,B,O,D=!1,A){let P={id:R,description:O,defaults:B,needsTransparency:D,deprecationMessage:A};this.colorsById[R]=P;let F={type:"string",description:O,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return A&&(F.deprecationMessage=A),this.colorSchema.properties[R]=F,this.colorReferenceSchema.enum.push(R),this.colorReferenceSchema.enumDescriptions.push(O),this._onDidChangeSchema.fire(),R}getColors(){return Object.keys(this.colorsById).map(R=>this.colorsById[R])}resolveDefaultColor(R,B){const O=this.colorsById[R];if(O&&O.defaults){const D=O.defaults[B.type];return y(D,B)}}getColorSchema(){return this.colorSchema}toString(){let R=(B,O)=>{let D=B.indexOf(".")===-1?0:1,A=O.indexOf(".")===-1?0:1;return D!==A?D-A:B.localeCompare(O)};return Object.keys(this.colorsById).sort(R).map(B=>`- \`${B}\`: ${this.colorsById[B].description}`).join(`
`)}}const i=new h;v.Registry.add(e.Extensions.ColorContribution,i);function n(N){return N===null||typeof N.hcLight=="undefined"&&(N.hcDark===null||typeof N.hcDark=="string"?N.hcLight=N.hcDark:N.hcLight=N.light),N}function t(N,R,B,O,D){return i.registerColor(N,n(R),B,O,D)}e.registerColor=t,e.foreground=t("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},L.localize(0,null)),e.disabledForeground=t("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},L.localize(1,null)),e.errorForeground=t("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},L.localize(2,null)),e.descriptionForeground=t("descriptionForeground",{light:"#717171",dark:b(e.foreground,.7),hcDark:b(e.foreground,.7),hcLight:b(e.foreground,.7)},L.localize(3,null)),e.iconForeground=t("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},L.localize(4,null)),e.focusBorder=t("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#0F4A85"},L.localize(5,null)),e.contrastBorder=t("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},L.localize(6,null)),e.activeContrastBorder=t("contrastActiveBorder",{light:null,dark:null,hcDark:e.focusBorder,hcLight:e.focusBorder},L.localize(7,null)),e.selectionBackground=t("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},L.localize(8,null)),e.textSeparatorForeground=t("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:m.Color.black,hcLight:"#292929"},L.localize(9,null)),e.textLinkForeground=t("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},L.localize(10,null)),e.textLinkActiveForeground=t("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},L.localize(11,null)),e.textPreformatForeground=t("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},L.localize(12,null)),e.textBlockQuoteBackground=t("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},L.localize(13,null)),e.textBlockQuoteBorder=t("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:m.Color.white,hcLight:"#292929"},L.localize(14,null)),e.textCodeBlockBackground=t("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:m.Color.black,hcLight:"#F2F2F2"},L.localize(15,null)),e.widgetShadow=t("widget.shadow",{dark:b(m.Color.black,.36),light:b(m.Color.black,.16),hcDark:null,hcLight:null},L.localize(16,null)),e.inputBackground=t("input.background",{dark:"#3C3C3C",light:m.Color.white,hcDark:m.Color.black,hcLight:m.Color.white},L.localize(17,null)),e.inputForeground=t("input.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},L.localize(18,null)),e.inputBorder=t("input.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(19,null)),e.inputActiveOptionBorder=t("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(20,null)),e.inputActiveOptionHoverBackground=t("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},L.localize(21,null)),e.inputActiveOptionBackground=t("inputOption.activeBackground",{dark:b(e.focusBorder,.4),light:b(e.focusBorder,.2),hcDark:m.Color.transparent,hcLight:m.Color.transparent},L.localize(22,null)),e.inputActiveOptionForeground=t("inputOption.activeForeground",{dark:m.Color.white,light:m.Color.black,hcDark:null,hcLight:e.foreground},L.localize(23,null)),e.inputPlaceholderForeground=t("input.placeholderForeground",{light:b(e.foreground,.5),dark:b(e.foreground,.5),hcDark:b(e.foreground,.7),hcLight:b(e.foreground,.7)},L.localize(24,null)),e.inputValidationInfoBackground=t("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:m.Color.black,hcLight:m.Color.white},L.localize(25,null)),e.inputValidationInfoForeground=t("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},L.localize(26,null)),e.inputValidationInfoBorder=t("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(27,null)),e.inputValidationWarningBackground=t("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:m.Color.black,hcLight:m.Color.white},L.localize(28,null)),e.inputValidationWarningForeground=t("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},L.localize(29,null)),e.inputValidationWarningBorder=t("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(30,null)),e.inputValidationErrorBackground=t("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:m.Color.black,hcLight:m.Color.white},L.localize(31,null)),e.inputValidationErrorForeground=t("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:e.foreground},L.localize(32,null)),e.inputValidationErrorBorder=t("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(33,null)),e.selectBackground=t("dropdown.background",{dark:"#3C3C3C",light:m.Color.white,hcDark:m.Color.black,hcLight:m.Color.white},L.localize(34,null)),e.selectListBackground=t("dropdown.listBackground",{dark:null,light:null,hcDark:m.Color.black,hcLight:m.Color.white},L.localize(35,null)),e.selectForeground=t("dropdown.foreground",{dark:"#F0F0F0",light:null,hcDark:m.Color.white,hcLight:e.foreground},L.localize(36,null)),e.selectBorder=t("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(37,null)),e.checkboxBackground=t("checkbox.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},L.localize(38,null)),e.checkboxForeground=t("checkbox.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},L.localize(39,null)),e.checkboxBorder=t("checkbox.border",{dark:e.selectBorder,light:e.selectBorder,hcDark:e.selectBorder,hcLight:e.selectBorder},L.localize(40,null)),e.buttonForeground=t("button.foreground",{dark:m.Color.white,light:m.Color.white,hcDark:m.Color.white,hcLight:m.Color.white},L.localize(41,null)),e.buttonBackground=t("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},L.localize(42,null)),e.buttonHoverBackground=t("button.hoverBackground",{dark:g(e.buttonBackground,.2),light:f(e.buttonBackground,.2),hcDark:null,hcLight:null},L.localize(43,null)),e.buttonBorder=t("button.border",{dark:e.contrastBorder,light:e.contrastBorder,hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(44,null)),e.buttonSecondaryForeground=t("button.secondaryForeground",{dark:m.Color.white,light:m.Color.white,hcDark:m.Color.white,hcLight:e.foreground},L.localize(45,null)),e.buttonSecondaryBackground=t("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:m.Color.white},L.localize(46,null)),e.buttonSecondaryHoverBackground=t("button.secondaryHoverBackground",{dark:g(e.buttonSecondaryBackground,.2),light:f(e.buttonSecondaryBackground,.2),hcDark:null,hcLight:null},L.localize(47,null)),e.badgeBackground=t("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:m.Color.black,hcLight:"#0F4A85"},L.localize(48,null)),e.badgeForeground=t("badge.foreground",{dark:m.Color.white,light:"#333",hcDark:m.Color.white,hcLight:m.Color.white},L.localize(49,null)),e.scrollbarShadow=t("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},L.localize(50,null)),e.scrollbarSliderBackground=t("scrollbarSlider.background",{dark:m.Color.fromHex("#797979").transparent(.4),light:m.Color.fromHex("#646464").transparent(.4),hcDark:b(e.contrastBorder,.6),hcLight:b(e.contrastBorder,.4)},L.localize(51,null)),e.scrollbarSliderHoverBackground=t("scrollbarSlider.hoverBackground",{dark:m.Color.fromHex("#646464").transparent(.7),light:m.Color.fromHex("#646464").transparent(.7),hcDark:b(e.contrastBorder,.8),hcLight:b(e.contrastBorder,.8)},L.localize(52,null)),e.scrollbarSliderActiveBackground=t("scrollbarSlider.activeBackground",{dark:m.Color.fromHex("#BFBFBF").transparent(.4),light:m.Color.fromHex("#000000").transparent(.6),hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(53,null)),e.progressBarBackground=t("progressBar.background",{dark:m.Color.fromHex("#0E70C0"),light:m.Color.fromHex("#0E70C0"),hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(54,null)),e.editorErrorBackground=t("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(55,null),!0),e.editorErrorForeground=t("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},L.localize(56,null)),e.editorErrorBorder=t("editorError.border",{dark:null,light:null,hcDark:m.Color.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},L.localize(57,null)),e.editorWarningBackground=t("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(58,null),!0),e.editorWarningForeground=t("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD37",hcLight:"#895503"},L.localize(59,null)),e.editorWarningBorder=t("editorWarning.border",{dark:null,light:null,hcDark:m.Color.fromHex("#FFCC00").transparent(.8),hcLight:"#"},L.localize(60,null)),e.editorInfoBackground=t("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(61,null),!0),e.editorInfoForeground=t("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},L.localize(62,null)),e.editorInfoBorder=t("editorInfo.border",{dark:null,light:null,hcDark:m.Color.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},L.localize(63,null)),e.editorHintForeground=t("editorHint.foreground",{dark:m.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},L.localize(64,null)),e.editorHintBorder=t("editorHint.border",{dark:null,light:null,hcDark:m.Color.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},L.localize(65,null)),e.sashHoverBorder=t("sash.hoverBorder",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.focusBorder,hcLight:e.focusBorder},L.localize(66,null)),e.editorBackground=t("editor.background",{light:"#fffffe",dark:"#1E1E1E",hcDark:m.Color.black,hcLight:m.Color.white},L.localize(67,null)),e.editorForeground=t("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:m.Color.white,hcLight:e.foreground},L.localize(68,null)),e.editorWidgetBackground=t("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:m.Color.white},L.localize(69,null)),e.editorWidgetForeground=t("editorWidget.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},L.localize(70,null)),e.editorWidgetBorder=t("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(71,null)),e.editorWidgetResizeBorder=t("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},L.localize(72,null)),e.quickInputBackground=t("quickInput.background",{dark:e.editorWidgetBackground,light:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(73,null)),e.quickInputForeground=t("quickInput.foreground",{dark:e.editorWidgetForeground,light:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},L.localize(74,null)),e.quickInputTitleBackground=t("quickInputTitle.background",{dark:new m.Color(new m.RGBA(255,255,255,.105)),light:new m.Color(new m.RGBA(0,0,0,.06)),hcDark:"#000000",hcLight:m.Color.white},L.localize(75,null)),e.pickerGroupForeground=t("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:m.Color.white,hcLight:"#0F4A85"},L.localize(76,null)),e.pickerGroupBorder=t("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:m.Color.white,hcLight:"#0F4A85"},L.localize(77,null)),e.keybindingLabelBackground=t("keybindingLabel.background",{dark:new m.Color(new m.RGBA(128,128,128,.17)),light:new m.Color(new m.RGBA(221,221,221,.4)),hcDark:m.Color.transparent,hcLight:m.Color.transparent},L.localize(78,null)),e.keybindingLabelForeground=t("keybindingLabel.foreground",{dark:m.Color.fromHex("#CCCCCC"),light:m.Color.fromHex("#555555"),hcDark:m.Color.white,hcLight:e.foreground},L.localize(79,null)),e.keybindingLabelBorder=t("keybindingLabel.border",{dark:new m.Color(new m.RGBA(51,51,51,.6)),light:new m.Color(new m.RGBA(204,204,204,.4)),hcDark:new m.Color(new m.RGBA(111,195,223)),hcLight:e.contrastBorder},L.localize(80,null)),e.keybindingLabelBottomBorder=t("keybindingLabel.bottomBorder",{dark:new m.Color(new m.RGBA(68,68,68,.6)),light:new m.Color(new m.RGBA(187,187,187,.4)),hcDark:new m.Color(new m.RGBA(111,195,223)),hcLight:e.foreground},L.localize(81,null)),e.editorSelectionBackground=t("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},L.localize(82,null)),e.editorSelectionForeground=t("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:m.Color.white},L.localize(83,null)),e.editorInactiveSelection=t("editor.inactiveSelectionBackground",{light:b(e.editorSelectionBackground,.5),dark:b(e.editorSelectionBackground,.5),hcDark:b(e.editorSelectionBackground,.7),hcLight:b(e.editorSelectionBackground,.5)},L.localize(84,null),!0),e.editorSelectionHighlight=t("editor.selectionHighlightBackground",{light:S(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:S(e.editorSelectionBackground,e.editorBackground,.3,.6),hcDark:null,hcLight:null},L.localize(85,null),!0),e.editorSelectionHighlightBorder=t("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(86,null)),e.editorFindMatch=t("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},L.localize(87,null)),e.editorFindMatchHighlight=t("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},L.localize(88,null),!0),e.editorFindRangeHighlight=t("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},L.localize(89,null),!0),e.editorFindMatchBorder=t("editor.findMatchBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(90,null)),e.editorFindMatchHighlightBorder=t("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(91,null)),e.editorFindRangeHighlightBorder=t("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:b(e.activeContrastBorder,.4),hcLight:b(e.activeContrastBorder,.4)},L.localize(92,null),!0),e.searchEditorFindMatch=t("searchEditor.findMatchBackground",{light:b(e.editorFindMatchHighlight,.66),dark:b(e.editorFindMatchHighlight,.66),hcDark:e.editorFindMatchHighlight,hcLight:e.editorFindMatchHighlight},L.localize(93,null)),e.searchEditorFindMatchBorder=t("searchEditor.findMatchBorder",{light:b(e.editorFindMatchHighlightBorder,.66),dark:b(e.editorFindMatchHighlightBorder,.66),hcDark:e.editorFindMatchHighlightBorder,hcLight:e.editorFindMatchHighlightBorder},L.localize(94,null)),e.editorHoverHighlight=t("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},L.localize(95,null),!0),e.editorHoverBackground=t("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(96,null)),e.editorHoverForeground=t("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},L.localize(97,null)),e.editorHoverBorder=t("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hcDark:e.editorWidgetBorder,hcLight:e.editorWidgetBorder},L.localize(98,null)),e.editorHoverStatusBarBackground=t("editorHoverWidget.statusBarBackground",{dark:g(e.editorHoverBackground,.2),light:f(e.editorHoverBackground,.05),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(99,null)),e.editorActiveLinkForeground=t("editorLink.activeForeground",{dark:"#4E94CE",light:m.Color.blue,hcDark:m.Color.cyan,hcLight:"#292929"},L.localize(100,null)),e.editorInlayHintForeground=t("editorInlayHint.foreground",{dark:b(e.badgeForeground,.8),light:b(e.badgeForeground,.8),hcDark:e.badgeForeground,hcLight:e.badgeForeground},L.localize(101,null)),e.editorInlayHintBackground=t("editorInlayHint.background",{dark:b(e.badgeBackground,.6),light:b(e.badgeBackground,.3),hcDark:e.badgeBackground,hcLight:e.badgeBackground},L.localize(102,null)),e.editorInlayHintTypeForeground=t("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},L.localize(103,null)),e.editorInlayHintTypeBackground=t("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},L.localize(104,null)),e.editorInlayHintParameterForeground=t("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},L.localize(105,null)),e.editorInlayHintParameterBackground=t("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},L.localize(106,null)),e.editorLightBulbForeground=t("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},L.localize(107,null)),e.editorLightBulbAutoFixForeground=t("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},L.localize(108,null)),e.defaultInsertColor=new m.Color(new m.RGBA(155,185,85,.2)),e.defaultRemoveColor=new m.Color(new m.RGBA(255,0,0,.2)),e.diffInserted=t("diffEditor.insertedTextBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hcDark:null,hcLight:null},L.localize(109,null),!0),e.diffRemoved=t("diffEditor.removedTextBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hcDark:null,hcLight:null},L.localize(110,null),!0),e.diffInsertedLine=t("diffEditor.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(111,null),!0),e.diffRemovedLine=t("diffEditor.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(112,null),!0),e.diffInsertedLineGutter=t("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(113,null)),e.diffRemovedLineGutter=t("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(114,null)),e.diffOverviewRulerInserted=t("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(115,null)),e.diffOverviewRulerRemoved=t("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(116,null)),e.diffInsertedOutline=t("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},L.localize(117,null)),e.diffRemovedOutline=t("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},L.localize(118,null)),e.diffBorder=t("diffEditor.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(119,null)),e.diffDiagonalFill=t("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},L.localize(120,null)),e.listFocusBackground=t("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(121,null)),e.listFocusForeground=t("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(122,null)),e.listFocusOutline=t("list.focusOutline",{dark:e.focusBorder,light:e.focusBorder,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(123,null)),e.listActiveSelectionBackground=t("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hcDark:null,hcLight:m.Color.fromHex("#0F4A85").transparent(.1)},L.localize(124,null)),e.listActiveSelectionForeground=t("list.activeSelectionForeground",{dark:m.Color.white,light:m.Color.white,hcDark:null,hcLight:null},L.localize(125,null)),e.listActiveSelectionIconForeground=t("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(126,null)),e.listInactiveSelectionBackground=t("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:m.Color.fromHex("#0F4A85").transparent(.1)},L.localize(127,null)),e.listInactiveSelectionForeground=t("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(128,null)),e.listInactiveSelectionIconForeground=t("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(129,null)),e.listInactiveFocusBackground=t("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(130,null)),e.listInactiveFocusOutline=t("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(131,null)),e.listHoverBackground=t("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:m.Color.fromHex("#0F4A85").transparent(.1)},L.localize(132,null)),e.listHoverForeground=t("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(133,null)),e.listDropBackground=t("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},L.localize(134,null)),e.listHighlightForeground=t("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hcDark:e.focusBorder,hcLight:e.focusBorder},L.localize(135,null)),e.listFocusHighlightForeground=t("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:C(e.listActiveSelectionBackground,e.listHighlightForeground,"#9DDDFF"),hcDark:e.listHighlightForeground,hcLight:e.listHighlightForeground},L.localize(136,null)),e.listInvalidItemForeground=t("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},L.localize(137,null)),e.listErrorForeground=t("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},L.localize(138,null)),e.listWarningForeground=t("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},L.localize(139,null)),e.listFilterWidgetBackground=t("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hcDark:m.Color.black,hcLight:m.Color.white},L.localize(140,null)),e.listFilterWidgetOutline=t("listFilterWidget.outline",{dark:m.Color.transparent,light:m.Color.transparent,hcDark:"#f38518",hcLight:"#007ACC"},L.localize(141,null)),e.listFilterWidgetNoMatchesOutline=t("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(142,null)),e.listFilterMatchHighlight=t("list.filterMatchBackground",{dark:e.editorFindMatchHighlight,light:e.editorFindMatchHighlight,hcDark:null,hcLight:null},L.localize(143,null)),e.listFilterMatchHighlightBorder=t("list.filterMatchBorder",{dark:e.editorFindMatchHighlightBorder,light:e.editorFindMatchHighlightBorder,hcDark:e.contrastBorder,hcLight:e.activeContrastBorder},L.localize(144,null)),e.treeIndentGuidesStroke=t("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},L.localize(145,null)),e.tableColumnsBorder=t("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},L.localize(146,null)),e.tableOddRowsBackgroundColor=t("tree.tableOddRowsBackground",{dark:b(e.foreground,.04),light:b(e.foreground,.04),hcDark:null,hcLight:null},L.localize(147,null)),e.listDeemphasizedForeground=t("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},L.localize(148,null)),e._deprecatedQuickInputListFocusBackground=t("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,L.localize(149,null)),e.quickInputListFocusForeground=t("quickInputList.focusForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},L.localize(150,null)),e.quickInputListFocusIconForeground=t("quickInputList.focusIconForeground",{dark:e.listActiveSelectionIconForeground,light:e.listActiveSelectionIconForeground,hcDark:e.listActiveSelectionIconForeground,hcLight:e.listActiveSelectionIconForeground},L.localize(151,null)),e.quickInputListFocusBackground=t("quickInputList.focusBackground",{dark:p(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),light:p(e._deprecatedQuickInputListFocusBackground,e.listActiveSelectionBackground),hcDark:null,hcLight:null},L.localize(152,null)),e.menuBorder=t("menu.border",{dark:null,light:null,hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(153,null)),e.menuForeground=t("menu.foreground",{dark:e.selectForeground,light:e.foreground,hcDark:e.selectForeground,hcLight:e.selectForeground},L.localize(154,null)),e.menuBackground=t("menu.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},L.localize(155,null)),e.menuSelectionForeground=t("menu.selectionForeground",{dark:e.listActiveSelectionForeground,light:e.listActiveSelectionForeground,hcDark:e.listActiveSelectionForeground,hcLight:e.listActiveSelectionForeground},L.localize(156,null)),e.menuSelectionBackground=t("menu.selectionBackground",{dark:e.listActiveSelectionBackground,light:e.listActiveSelectionBackground,hcDark:e.listActiveSelectionBackground,hcLight:e.listActiveSelectionBackground},L.localize(157,null)),e.menuSelectionBorder=t("menu.selectionBorder",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(158,null)),e.menuSeparatorBackground=t("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hcDark:e.contrastBorder,hcLight:e.contrastBorder},L.localize(159,null)),e.toolbarHoverBackground=t("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},L.localize(160,null)),e.toolbarHoverOutline=t("toolbar.hoverOutline",{dark:null,light:null,hcDark:e.activeContrastBorder,hcLight:e.activeContrastBorder},L.localize(161,null)),e.toolbarActiveBackground=t("toolbar.activeBackground",{dark:g(e.toolbarHoverBackground,.1),light:f(e.toolbarHoverBackground,.1),hcDark:null,hcLight:null},L.localize(162,null)),e.snippetTabstopHighlightBackground=t("editor.snippetTabstopHighlightBackground",{dark:new m.Color(new m.RGBA(124,124,124,.3)),light:new m.Color(new m.RGBA(10,50,100,.2)),hcDark:new m.Color(new m.RGBA(124,124,124,.3)),hcLight:new m.Color(new m.RGBA(10,50,100,.2))},L.localize(163,null)),e.snippetTabstopHighlightBorder=t("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(164,null)),e.snippetFinalTabstopHighlightBackground=t("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(165,null)),e.snippetFinalTabstopHighlightBorder=t("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new m.Color(new m.RGBA(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},L.localize(166,null)),e.breadcrumbsForeground=t("breadcrumb.foreground",{light:b(e.foreground,.8),dark:b(e.foreground,.8),hcDark:b(e.foreground,.8),hcLight:b(e.foreground,.8)},L.localize(167,null)),e.breadcrumbsBackground=t("breadcrumb.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},L.localize(168,null)),e.breadcrumbsFocusForeground=t("breadcrumb.focusForeground",{light:f(e.foreground,.2),dark:g(e.foreground,.1),hcDark:g(e.foreground,.1),hcLight:g(e.foreground,.1)},L.localize(169,null)),e.breadcrumbsActiveSelectionForeground=t("breadcrumb.activeSelectionForeground",{light:f(e.foreground,.2),dark:g(e.foreground,.1),hcDark:g(e.foreground,.1),hcLight:g(e.foreground,.1)},L.localize(170,null)),e.breadcrumbsPickerBackground=t("breadcrumbPicker.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},L.localize(171,null));const o=.5,d=m.Color.fromHex("#40C8AE").transparent(o),r=m.Color.fromHex("#40A6FF").transparent(o),c=m.Color.fromHex("#606060").transparent(.4),s=.4,a=1;e.mergeCurrentHeaderBackground=t("merge.currentHeaderBackground",{dark:d,light:d,hcDark:null,hcLight:null},L.localize(172,null),!0),e.mergeCurrentContentBackground=t("merge.currentContentBackground",{dark:b(e.mergeCurrentHeaderBackground,s),light:b(e.mergeCurrentHeaderBackground,s),hcDark:b(e.mergeCurrentHeaderBackground,s),hcLight:b(e.mergeCurrentHeaderBackground,s)},L.localize(173,null),!0),e.mergeIncomingHeaderBackground=t("merge.incomingHeaderBackground",{dark:r,light:r,hcDark:null,hcLight:null},L.localize(174,null),!0),e.mergeIncomingContentBackground=t("merge.incomingContentBackground",{dark:b(e.mergeIncomingHeaderBackground,s),light:b(e.mergeIncomingHeaderBackground,s),hcDark:b(e.mergeIncomingHeaderBackground,s),hcLight:b(e.mergeIncomingHeaderBackground,s)},L.localize(175,null),!0),e.mergeCommonHeaderBackground=t("merge.commonHeaderBackground",{dark:c,light:c,hcDark:null,hcLight:null},L.localize(176,null),!0),e.mergeCommonContentBackground=t("merge.commonContentBackground",{dark:b(e.mergeCommonHeaderBackground,s),light:b(e.mergeCommonHeaderBackground,s),hcDark:b(e.mergeCommonHeaderBackground,s),hcLight:b(e.mergeCommonHeaderBackground,s)},L.localize(177,null),!0),e.mergeBorder=t("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},L.localize(178,null)),e.overviewRulerCurrentContentForeground=t("editorOverviewRuler.currentContentForeground",{dark:b(e.mergeCurrentHeaderBackground,a),light:b(e.mergeCurrentHeaderBackground,a),hcDark:e.mergeBorder,hcLight:e.mergeBorder},L.localize(179,null)),e.overviewRulerIncomingContentForeground=t("editorOverviewRuler.incomingContentForeground",{dark:b(e.mergeIncomingHeaderBackground,a),light:b(e.mergeIncomingHeaderBackground,a),hcDark:e.mergeBorder,hcLight:e.mergeBorder},L.localize(180,null)),e.overviewRulerCommonContentForeground=t("editorOverviewRuler.commonContentForeground",{dark:b(e.mergeCommonHeaderBackground,a),light:b(e.mergeCommonHeaderBackground,a),hcDark:e.mergeBorder,hcLight:e.mergeBorder},L.localize(181,null)),e.overviewRulerFindMatchForeground=t("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},L.localize(182,null),!0),e.overviewRulerSelectionHighlightForeground=t("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},L.localize(183,null),!0),e.minimapFindMatch=t("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},L.localize(184,null),!0),e.minimapSelectionOccurrenceHighlight=t("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},L.localize(185,null),!0),e.minimapSelection=t("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},L.localize(186,null),!0),e.minimapError=t("minimap.errorHighlight",{dark:new m.Color(new m.RGBA(255,18,18,.7)),light:new m.Color(new m.RGBA(255,18,18,.7)),hcDark:new m.Color(new m.RGBA(255,50,50,1)),hcLight:"#B5200D"},L.localize(187,null)),e.minimapWarning=t("minimap.warningHighlight",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningBorder,hcLight:e.editorWarningBorder},L.localize(188,null)),e.minimapBackground=t("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},L.localize(189,null)),e.minimapForegroundOpacity=t("minimap.foregroundOpacity",{dark:m.Color.fromHex("#000f"),light:m.Color.fromHex("#000f"),hcDark:m.Color.fromHex("#000f"),hcLight:m.Color.fromHex("#000f")},L.localize(190,null)),e.minimapSliderBackground=t("minimapSlider.background",{light:b(e.scrollbarSliderBackground,.5),dark:b(e.scrollbarSliderBackground,.5),hcDark:b(e.scrollbarSliderBackground,.5),hcLight:b(e.scrollbarSliderBackground,.5)},L.localize(191,null)),e.minimapSliderHoverBackground=t("minimapSlider.hoverBackground",{light:b(e.scrollbarSliderHoverBackground,.5),dark:b(e.scrollbarSliderHoverBackground,.5),hcDark:b(e.scrollbarSliderHoverBackground,.5),hcLight:b(e.scrollbarSliderHoverBackground,.5)},L.localize(192,null)),e.minimapSliderActiveBackground=t("minimapSlider.activeBackground",{light:b(e.scrollbarSliderActiveBackground,.5),dark:b(e.scrollbarSliderActiveBackground,.5),hcDark:b(e.scrollbarSliderActiveBackground,.5),hcLight:b(e.scrollbarSliderActiveBackground,.5)},L.localize(193,null)),e.problemsErrorIconForeground=t("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},L.localize(194,null)),e.problemsWarningIconForeground=t("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},L.localize(195,null)),e.problemsInfoIconForeground=t("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},L.localize(196,null)),e.chartsForeground=t("charts.foreground",{dark:e.foreground,light:e.foreground,hcDark:e.foreground,hcLight:e.foreground},L.localize(197,null)),e.chartsLines=t("charts.lines",{dark:b(e.foreground,.5),light:b(e.foreground,.5),hcDark:b(e.foreground,.5),hcLight:b(e.foreground,.5)},L.localize(198,null)),e.chartsRed=t("charts.red",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},L.localize(199,null)),e.chartsBlue=t("charts.blue",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},L.localize(200,null)),e.chartsYellow=t("charts.yellow",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},L.localize(201,null)),e.chartsOrange=t("charts.orange",{dark:e.minimapFindMatch,light:e.minimapFindMatch,hcDark:e.minimapFindMatch,hcLight:e.minimapFindMatch},L.localize(202,null)),e.chartsGreen=t("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},L.localize(203,null)),e.chartsPurple=t("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},L.localize(204,null));function l(N,R){var B,O,D;switch(N.op){case 0:return(B=y(N.value,R))===null||B===void 0?void 0:B.darken(N.factor);case 1:return(O=y(N.value,R))===null||O===void 0?void 0:O.lighten(N.factor);case 2:return(D=y(N.value,R))===null||D===void 0?void 0:D.transparent(N.factor);case 3:for(const A of N.values){const P=y(A,R);if(P)return P}return;case 5:return y(R.defines(N.if)?N.then:N.else,R);case 4:{const A=y(N.value,R);if(!A)return;const P=y(N.background,R);return P?A.isDarkerThan(P)?m.Color.getLighterColor(A,P,N.factor).transparent(N.transparency):m.Color.getDarkerColor(A,P,N.factor).transparent(N.transparency):A.transparent(N.factor*N.transparency)}default:throw(0,I.assertNever)(N)}}e.executeTransform=l;function f(N,R){return{op:0,value:N,factor:R}}e.darken=f;function g(N,R){return{op:1,value:N,factor:R}}e.lighten=g;function b(N,R){return{op:2,value:N,factor:R}}e.transparent=b;function p(...N){return{op:3,values:N}}e.oneOf=p;function C(N,R,B){return{op:5,if:N,then:R,else:B}}e.ifDefinedThenElse=C;function S(N,R,B,O){return{op:4,value:N,background:R,factor:B,transparency:O}}function y(N,R){if(N!==null){if(typeof N=="string")return N[0]==="#"?m.Color.fromHex(N):R.getColor(N);if(N instanceof m.Color)return N;if(typeof N=="object")return l(N,R)}}e.resolveColorValue=y,e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";let w=v.Registry.as(_.Extensions.JSONContribution);w.registerSchema(e.workbenchColorsSchemaId,i.getColorSchema());const T=new E.RunOnceScheduler(()=>w.notifySchemaChanged(e.workbenchColorsSchemaId),200);i.onDidChangeSchema(()=>{T.isScheduled()||T.schedule()})}),define(re[134],se([1,0,7,119,63,10,2,23]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorPointerMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.createCoordinatesRelativeToEditor=e.createEditorPagePosition=e.CoordinatesRelativeToEditor=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0;class v{constructor(g,b){this.x=g,this.y=b,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new u(this.x-E.StandardWindow.scrollX,this.y-E.StandardWindow.scrollY)}}e.PageCoordinates=v;class u{constructor(g,b){this.clientX=g,this.clientY=b,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new v(this.clientX+E.StandardWindow.scrollX,this.clientY+E.StandardWindow.scrollY)}}e.ClientCoordinates=u;class h{constructor(g,b,p,C){this.x=g,this.y=b,this.width=p,this.height=C,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=h;class i{constructor(g,b){this.x=g,this.y=b,this._positionRelativeToEditorBrand=void 0}}e.CoordinatesRelativeToEditor=i;function n(f){const g=E.getDomNodePagePosition(f);return new h(g.left,g.top,g.width,g.height)}e.createEditorPagePosition=n;function t(f,g,b){const p=g.width/f.offsetWidth,C=g.height/f.offsetHeight,S=(b.x-g.x)/p,y=(b.y-g.y)/C;return new i(S,y)}e.createCoordinatesRelativeToEditor=t;class o extends k.StandardMouseEvent{constructor(g,b,p){super(g);this._editorMouseEventBrand=void 0,this.isFromPointerCapture=b,this.pos=new v(this.posx,this.posy),this.editorPos=n(p),this.relativePos=t(p,this.editorPos,this.pos)}}e.EditorMouseEvent=o;class d{constructor(g){this._editorViewDomNode=g}_create(g){return new o(g,!1,this._editorViewDomNode)}onContextMenu(g,b){return E.addDisposableListener(g,"contextmenu",p=>{b(this._create(p))})}onMouseUp(g,b){return E.addDisposableListener(g,"mouseup",p=>{b(this._create(p))})}onMouseDown(g,b){return E.addDisposableListener(g,E.EventType.MOUSE_DOWN,p=>{b(this._create(p))})}onPointerDown(g,b){return E.addDisposableListener(g,E.EventType.POINTER_DOWN,p=>{b(this._create(p),p.pointerType,p.pointerId)})}onMouseLeave(g,b){return E.addDisposableNonBubblingMouseOutListener(g,p=>{b(this._create(p))})}onMouseMoveThrottled(g,b,p,C){const S=(y,w)=>p(y,this._create(w));return E.addDisposableThrottledListener(g,"mousemove",b,S,C)}}e.EditorMouseEventFactory=d;class r{constructor(g){this._editorViewDomNode=g}_create(g){return new o(g,!1,this._editorViewDomNode)}onPointerUp(g,b){return E.addDisposableListener(g,"pointerup",p=>{b(this._create(p))})}onPointerDown(g,b){return E.addDisposableListener(g,E.EventType.POINTER_DOWN,p=>{b(this._create(p),p.pointerId)})}onPointerLeave(g,b){return E.addDisposableNonBubblingPointerOutListener(g,p=>{b(this._create(p))})}onPointerMoveThrottled(g,b,p,C){const S=(y,w)=>p(y,this._create(w));return E.addDisposableThrottledListener(g,"pointermove",b,S,C)}}e.EditorPointerEventFactory=r;class c extends L.Disposable{constructor(g){super();this._editorViewDomNode=g,this._globalPointerMoveMonitor=this._register(new m.GlobalPointerMoveMonitor),this._keydownListener=null}startMonitoring(g,b,p,C,S,y){this._keydownListener=E.addStandardDisposableListener(document,"keydown",T=>{T.toKeybinding().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,T.browserEvent)},!0);const w=(T,N)=>C(T,new o(N,!0,this._editorViewDomNode));this._globalPointerMoveMonitor.startMonitoring(g,b,p,w,S,T=>{this._keydownListener.dispose(),y(T)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorPointerMoveMonitor=c;class s{constructor(g){this._editor=g,this._instanceId=++s._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new I.RunOnceScheduler(()=>this.garbageCollect(),1e3)}createClassNameRef(g){const b=this.getOrCreateRule(g);return b.increaseRefCount(),{className:b.className,dispose:()=>{b.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(g){const b=this.computeUniqueKey(g);let p=this._rules.get(b);if(!p){const C=this._counter++;p=new a(b,`dyn-rule-${this._instanceId}-${C}`,E.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,g),this._rules.set(b,p)}return p}computeUniqueKey(g){return JSON.stringify(g)}garbageCollect(){for(const g of this._rules.values())g.hasReferences()||(this._rules.delete(g.key),g.dispose())}}e.DynamicCssRules=s,s._idPool=0;class a{constructor(g,b,p,C){this.key=g,this.className=b,this.properties=C,this._referenceCount=0,this._styleElement=E.createStyleSheet(p),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(g,b){let p=`.${g} {`;for(const C in b){const S=b[C];let y;typeof S=="object"?y=`var(${(0,_.asCssVariableName)(S.id)})`:y=S,p+=`
	${l(C)}: ${y};`}return p+=`
}`,p}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function l(f){return f.replace(/(^[A-Z])/,([g])=>g.toLowerCase()).replace(/([A-Z])/g,([g])=>`-${g.toLowerCase()}`)}}),define(re[135],se([1,0,23]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachMenuStyler=e.defaultMenuStyles=e.defaultListStyles=e.attachListStyler=e.attachBadgeStyler=e.attachStyler=e.computeStyles=void 0;function m(v,u){const h=Object.create(null);for(let i in u){const n=u[i];n&&(h[i]=(0,E.resolveColorValue)(n,v))}return h}e.computeStyles=m;function k(v,u,h){function i(){const n=m(v.getColorTheme(),u);typeof h=="function"?h(n):h.style(n)}return i(),v.onDidColorThemeChange(i)}e.attachStyler=k;function I(v,u,h){return k(u,{badgeBackground:(h==null?void 0:h.badgeBackground)||E.badgeBackground,badgeForeground:(h==null?void 0:h.badgeForeground)||E.badgeForeground,badgeBorder:E.contrastBorder},v)}e.attachBadgeStyler=I;function L(v,u,h){return k(u,Object.assign(Object.assign({},e.defaultListStyles),h||{}),v)}e.attachListStyler=L,e.defaultListStyles={listFocusBackground:E.listFocusBackground,listFocusForeground:E.listFocusForeground,listFocusOutline:E.listFocusOutline,listActiveSelectionBackground:E.listActiveSelectionBackground,listActiveSelectionForeground:E.listActiveSelectionForeground,listActiveSelectionIconForeground:E.listActiveSelectionIconForeground,listFocusAndSelectionBackground:E.listActiveSelectionBackground,listFocusAndSelectionForeground:E.listActiveSelectionForeground,listInactiveSelectionBackground:E.listInactiveSelectionBackground,listInactiveSelectionIconForeground:E.listInactiveSelectionIconForeground,listInactiveSelectionForeground:E.listInactiveSelectionForeground,listInactiveFocusBackground:E.listInactiveFocusBackground,listInactiveFocusOutline:E.listInactiveFocusOutline,listHoverBackground:E.listHoverBackground,listHoverForeground:E.listHoverForeground,listDropBackground:E.listDropBackground,listSelectionOutline:E.activeContrastBorder,listHoverOutline:E.activeContrastBorder,listFilterWidgetBackground:E.listFilterWidgetBackground,listFilterWidgetOutline:E.listFilterWidgetOutline,listFilterWidgetNoMatchesOutline:E.listFilterWidgetNoMatchesOutline,listMatchesShadow:E.widgetShadow,treeIndentGuidesStroke:E.treeIndentGuidesStroke,tableColumnsBorder:E.tableColumnsBorder,tableOddRowsBackgroundColor:E.tableOddRowsBackgroundColor},e.defaultMenuStyles={shadowColor:E.widgetShadow,borderColor:E.menuBorder,foregroundColor:E.menuForeground,backgroundColor:E.menuBackground,selectionForegroundColor:E.menuSelectionForeground,selectionBackgroundColor:E.menuSelectionBackground,selectionBorderColor:E.menuSelectionBorder,separatorColor:E.menuSeparatorBackground,scrollbarShadow:E.scrollbarShadow,scrollbarSliderBackground:E.scrollbarSliderBackground,scrollbarSliderHoverBackground:E.scrollbarSliderHoverBackground,scrollbarSliderActiveBackground:E.scrollbarSliderActiveBackground};function _(v,u,h){return k(u,Object.assign(Object.assign({},e.defaultMenuStyles),h),v)}e.attachMenuStyler=_}),define(re[649],se([1,0,7,63,500,48,13,2,135,407]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class u{constructor(i,n,t,o,d){this.contextViewService=i,this.telemetryService=n,this.notificationService=t,this.keybindingService=o,this.themeService=d,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(i){this.options=i}showContextMenu(i){const n=i.getActions();if(!n.length)return;this.focusToReturn=document.activeElement;let t,o=(0,E.isHTMLElement)(i.domForShadowRoot)?i.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>i.getAnchor(),canRelayout:!1,anchorAlignment:i.anchorAlignment,anchorAxisAlignment:i.anchorAxisAlignment,render:d=>{let r=i.getMenuClassName?i.getMenuClassName():"";r&&(d.className+=" "+r),this.options.blockMouse&&(this.block=d.appendChild((0,E.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,E.addDisposableListener)(this.block,E.EventType.MOUSE_DOWN,a=>a.stopPropagation()));const c=new _.DisposableStore,s=i.actionRunner||new I.ActionRunner;return s.onBeforeRun(this.onActionRun,this,c),s.onDidRun(this.onDidActionRun,this,c),t=new k.Menu(d,n,{actionViewItemProvider:i.getActionViewItem,context:i.getActionsContext?i.getActionsContext():null,actionRunner:s,getKeyBinding:i.getKeyBinding?i.getKeyBinding:a=>this.keybindingService.lookupKeybinding(a.id)}),c.add((0,v.attachMenuStyler)(t,this.themeService)),t.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,c),t.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,c),c.add((0,E.addDisposableListener)(window,E.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),c.add((0,E.addDisposableListener)(window,E.EventType.MOUSE_DOWN,a=>{if(a.defaultPrevented)return;let l=new m.StandardMouseEvent(a),f=l.target;if(!l.rightButton){for(;f;){if(f===d)return;f=f.parentElement}this.contextViewService.hideContextView(!0)}})),(0,_.combinedDisposable)(c,t)},focus:()=>{t&&t.focus(!!i.autoSelectFirstItem)},onHide:d=>{i.onHide&&i.onHide(!!d),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},o,!!o)}onActionRun(i){this.telemetryService.publicLog2("workbenchActionExecuted",{id:i.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(i){i.error&&!(0,L.isCancellationError)(i.error)&&this.notificationService.error(i.error)}}e.ContextMenuHandler=u}),define(re[58],se([1,0]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isHighContrast=e.ColorScheme=void 0;var E;(function(k){k.DARK="dark",k.LIGHT="light",k.HIGH_CONTRAST_DARK="hcDark",k.HIGH_CONTRAST_LIGHT="hcLight"})(E=e.ColorScheme||(e.ColorScheme={}));function m(k){return k===E.HIGH_CONTRAST_DARK||k===E.HIGH_CONTRAST_LIGHT}e.isHighContrast=m}),define(re[290],se([1,0,34,32,17,409,123,155,129,58,33]),function(U,e,E,m,k,I,L,_,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=e.DomReadingContext=void 0;const i=function(){return k.isNative?!0:!(k.isLinux||E.isFirefox||E.isSafari)}();let n=!0;class t{constructor(b,p){this._domNode=b,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=p}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const b=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=b.left,this._clientRectScale=b.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}e.DomReadingContext=t;class o{constructor(b,p){this.themeType=p;const C=b.options,S=C.get(44);this.renderWhitespace=C.get(88),this.renderControlCharacters=C.get(83),this.spaceWidth=S.spaceWidth,this.middotWidth=S.middotWidth,this.wsmiddotWidth=S.wsmiddotWidth,this.useMonospaceOptimizations=S.isMonospace&&!C.get(29),this.canUseHalfwidthRightwardsArrow=S.canUseHalfwidthRightwardsArrow,this.lineHeight=C.get(59),this.stopRenderingLineAfter=C.get(105),this.fontLigatures=C.get(45)}equals(b){return this.themeType===b.themeType&&this.renderWhitespace===b.renderWhitespace&&this.renderControlCharacters===b.renderControlCharacters&&this.spaceWidth===b.spaceWidth&&this.middotWidth===b.middotWidth&&this.wsmiddotWidth===b.wsmiddotWidth&&this.useMonospaceOptimizations===b.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===b.canUseHalfwidthRightwardsArrow&&this.lineHeight===b.lineHeight&&this.stopRenderingLineAfter===b.stopRenderingLineAfter&&this.fontLigatures===b.fontLigatures}}e.ViewLineOptions=o;class d{constructor(b){this._options=b,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(b){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,m.createFastDomNode)(b);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(b){this._isMaybeInvalid=!0,this._options=b}onSelectionChanged(){return(0,u.isHighContrast)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(b,p,C,S){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const y=C.getViewLineRenderingData(b),w=this._options,T=_.LineDecoration.filter(y.inlineDecorations,b,y.minColumn,y.maxColumn);let N=null;if((0,u.isHighContrast)(w.themeType)||this._options.renderWhitespace==="selection"){const D=C.selections;for(const A of D){if(A.endLineNumber<b||A.startLineNumber>b)continue;const P=A.startLineNumber===b?A.startColumn:y.minColumn,F=A.endLineNumber===b?A.endColumn:y.maxColumn;P<F&&((0,u.isHighContrast)(w.themeType)||this._options.renderWhitespace!=="selection"?T.push(new _.LineDecoration(P,F,"inline-selected-text",0)):(N||(N=[]),N.push(new v.LineRange(P-1,F-1))))}}const R=new v.RenderLineInput(w.useMonospaceOptimizations,w.canUseHalfwidthRightwardsArrow,y.content,y.continuesWithWrappedLine,y.isBasicASCII,y.containsRTL,y.minColumn-1,y.tokens,T,y.tabSize,y.startVisibleColumn,w.spaceWidth,w.middotWidth,w.wsmiddotWidth,w.stopRenderingLineAfter,w.renderWhitespace,w.renderControlCharacters,w.fontLigatures!==h.EditorFontLigatures.OFF,N);if(this._renderedViewLine&&this._renderedViewLine.input.equals(R))return!1;S.appendASCIIString('<div style="top:'),S.appendASCIIString(String(p)),S.appendASCIIString("px;height:"),S.appendASCIIString(String(this._options.lineHeight)),S.appendASCIIString('px;" class="'),S.appendASCIIString(d.CLASS_NAME),S.appendASCIIString('">');const B=(0,v.renderViewLine)(R,S);S.appendASCIIString("</div>");let O=null;return n&&i&&y.isBasicASCII&&w.useMonospaceOptimizations&&B.containsForeignElements===0&&y.content.length<300&&R.lineTokens.getCount()<100&&(O=new r(this._renderedViewLine?this._renderedViewLine.domNode:null,R,B.characterMapping)),O||(O=a(this._renderedViewLine?this._renderedViewLine.domNode:null,R,B.characterMapping,B.containsRTL,B.containsForeignElements)),this._renderedViewLine=O,!0}layoutLine(b,p){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(p),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof r:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof r?this._renderedViewLine.monospaceAssumptionsAreValid():n}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof r&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(b,p,C,S){if(!this._renderedViewLine)return null;p=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,p)),C=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,C));const y=this._renderedViewLine.input.stopRenderingLineAfter;let w=!1;y!==-1&&p>y+1&&C>y+1&&(w=!0),y!==-1&&p>y+1&&(p=y+1),y!==-1&&C>y+1&&(C=y+1);const T=this._renderedViewLine.getVisibleRangesForRange(b,p,C,S);return T&&T.length>0?new L.VisibleRanges(w,T):null}getColumnOfNodeOffset(b,p,C){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(b,p,C):1}}e.ViewLine=d,d.CLASS_NAME="view-line";class r{constructor(b,p,C){this.domNode=b,this.input=p,this._characterMapping=C,this._charWidth=p.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return n;const b=this.getWidth(),p=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(b-p)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),n=!1),n}toSlowRenderedLine(){return a(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(b,p,C,S){const y=this._getCharPosition(p),w=this._getCharPosition(C);return[new L.FloatHorizontalRange(y,w-y)]}_getCharPosition(b){const p=this._characterMapping.getAbsoluteOffset(b);return this._charWidth*p}getColumnOfNodeOffset(b,p,C){const S=p.textContent.length;let y=-1;for(;p;)p=p.previousSibling,y++;return this._characterMapping.getColumn(new v.DomPosition(y,C),S)}}class c{constructor(b,p,C,S,y){if(this.domNode=b,this.input=p,this._characterMapping=C,this._isWhitespaceOnly=/^\s*$/.test(p.lineContent),this._containsForeignElements=y,this._cachedWidth=-1,this._pixelOffsetCache=null,!S||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let w=0,T=this._characterMapping.length;w<=T;w++)this._pixelOffsetCache[w]=-1}}_getReadingTarget(b){return b.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(b,p,C,S){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const y=this._readPixelOffset(this.domNode,b,p,S);if(y===-1)return null;const w=this._readPixelOffset(this.domNode,b,C,S);return w===-1?null:[new L.FloatHorizontalRange(y,w-y)]}return this._readVisibleRangesForRange(this.domNode,b,p,C,S)}_readVisibleRangesForRange(b,p,C,S,y){if(C===S){const w=this._readPixelOffset(b,p,C,y);return w===-1?null:[new L.FloatHorizontalRange(w,0)]}else return this._readRawVisibleRangesForRange(b,C,S,y)}_readPixelOffset(b,p,C,S){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const y=this._getReadingTarget(b);return y.firstChild?y.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const y=this._pixelOffsetCache[C];if(y!==-1)return y;const w=this._actualReadPixelOffset(b,p,C,S);return this._pixelOffsetCache[C]=w,w}return this._actualReadPixelOffset(b,p,C,S)}_actualReadPixelOffset(b,p,C,S){if(this._characterMapping.length===0){const N=I.RangeUtil.readHorizontalRanges(this._getReadingTarget(b),0,0,0,0,S.clientRectDeltaLeft,S.clientRectScale,S.endNode);return!N||N.length===0?-1:N[0].left}if(C===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const y=this._characterMapping.getDomPosition(C),w=I.RangeUtil.readHorizontalRanges(this._getReadingTarget(b),y.partIndex,y.charIndex,y.partIndex,y.charIndex,S.clientRectDeltaLeft,S.clientRectScale,S.endNode);if(!w||w.length===0)return-1;const T=w[0].left;if(this.input.isBasicASCII){const N=this._characterMapping.getAbsoluteOffset(C),R=Math.round(this.input.spaceWidth*N);if(Math.abs(R-T)<=1)return R}return T}_readRawVisibleRangesForRange(b,p,C,S){if(p===1&&C===this._characterMapping.length)return[new L.FloatHorizontalRange(0,this.getWidth())];const y=this._characterMapping.getDomPosition(p),w=this._characterMapping.getDomPosition(C);return I.RangeUtil.readHorizontalRanges(this._getReadingTarget(b),y.partIndex,y.charIndex,w.partIndex,w.charIndex,S.clientRectDeltaLeft,S.clientRectScale,S.endNode)}getColumnOfNodeOffset(b,p,C){const S=p.textContent.length;let y=-1;for(;p;)p=p.previousSibling,y++;return this._characterMapping.getColumn(new v.DomPosition(y,C),S)}}class s extends c{_readVisibleRangesForRange(b,p,C,S,y){const w=super._readVisibleRangesForRange(b,p,C,S,y);if(!w||w.length===0||C===S||C===1&&S===this._characterMapping.length)return w;if(!this.input.containsRTL){const T=this._readPixelOffset(b,p,S,y);if(T!==-1){const N=w[w.length-1];N.left<T&&(N.width=T-N.left)}}return w}}const a=function(){return E.isWebKit?l:f}();function l(g,b,p,C,S){return new s(g,b,p,C,S)}function f(g,b,p,C,S){return new c(g,b,p,C,S)}}),define(re[291],se([1,0,134,52,290,11,3,73,7,244]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shadowCaretRangeFromPoint=e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class h{constructor(C=null){this.hitTarget=C,this.type=0}}class i{constructor(C,S,y){this.position=C,this.spanNode=S,this.injectedText=y,this.type=1}}var n;(function(p){function C(S,y,w){const T=S.getPositionFromDOMInfo(y,w);return T?new i(T,y,null):new h(y)}p.createFromDOMInfo=C})(n||(n={}));class t{constructor(C,S){this.lastViewCursorsRenderData=C,this.lastTextareaPosition=S}}e.PointerHandlerLastRenderData=t;class o{static _deduceRage(C,S=null){return!S&&C?new L.Range(C.lineNumber,C.column,C.lineNumber,C.column):S??null}static createUnknown(C,S,y){return{type:0,element:C,mouseColumn:S,position:y,range:this._deduceRage(y)}}static createTextarea(C,S){return{type:1,element:C,mouseColumn:S,position:null,range:null}}static createMargin(C,S,y,w,T,N){return{type:C,element:S,mouseColumn:y,position:w,range:T,detail:N}}static createViewZone(C,S,y,w,T){return{type:C,element:S,mouseColumn:y,position:w,range:this._deduceRage(w),detail:T}}static createContentText(C,S,y,w,T){return{type:6,element:C,mouseColumn:S,position:y,range:this._deduceRage(y,w),detail:T}}static createContentEmpty(C,S,y,w){return{type:7,element:C,mouseColumn:S,position:y,range:this._deduceRage(y),detail:w}}static createContentWidget(C,S,y){return{type:9,element:C,mouseColumn:S,position:null,range:null,detail:y}}static createScrollbar(C,S,y){return{type:11,element:C,mouseColumn:S,position:y,range:this._deduceRage(y)}}static createOverlayWidget(C,S,y){return{type:12,element:C,mouseColumn:S,position:null,range:null,detail:y}}static createOutsideEditor(C,S){return{type:13,element:null,mouseColumn:C,position:S,range:this._deduceRage(S)}}static _typeToString(C){return C===1?"TEXTAREA":C===2?"GUTTER_GLYPH_MARGIN":C===3?"GUTTER_LINE_NUMBERS":C===4?"GUTTER_LINE_DECORATIONS":C===5?"GUTTER_VIEW_ZONE":C===6?"CONTENT_TEXT":C===7?"CONTENT_EMPTY":C===8?"CONTENT_VIEW_ZONE":C===9?"CONTENT_WIDGET":C===10?"OVERVIEW_RULER":C===11?"SCROLLBAR":C===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(C){return this._typeToString(C.type)+": "+C.position+" - "+C.range+" - "+JSON.stringify(C.detail)}}e.MouseTarget=o;class d{static isTextArea(C){return C.length===2&&C[0]===3&&C[1]===6}static isChildOfViewLines(C){return C.length>=4&&C[0]===3&&C[3]===7}static isStrictChildOfViewLines(C){return C.length>4&&C[0]===3&&C[3]===7}static isChildOfScrollableElement(C){return C.length>=2&&C[0]===3&&C[1]===5}static isChildOfMinimap(C){return C.length>=2&&C[0]===3&&C[1]===8}static isChildOfContentWidgets(C){return C.length>=4&&C[0]===3&&C[3]===1}static isChildOfOverflowingContentWidgets(C){return C.length>=1&&C[0]===2}static isChildOfOverlayWidgets(C){return C.length>=2&&C[0]===3&&C[1]===4}}class r{constructor(C,S,y){this.viewModel=C.viewModel;const w=C.configuration.options;this.layoutInfo=w.get(131),this.viewDomNode=S.viewDomNode,this.lineHeight=w.get(59),this.stickyTabStops=w.get(104),this.typicalHalfwidthCharacterWidth=w.get(44).typicalHalfwidthCharacterWidth,this.lastRenderData=y,this._context=C,this._viewHelper=S}getZoneAtCoord(C){return r.getZoneAtCoord(this._context,C)}static getZoneAtCoord(C,S){const y=C.viewLayout.getWhitespaceAtVerticalOffset(S);if(y){const w=y.verticalOffset+y.height/2,T=C.viewModel.getLineCount();let N=null,R,B=null;return y.afterLineNumber!==T&&(B=new I.Position(y.afterLineNumber+1,1)),y.afterLineNumber>0&&(N=new I.Position(y.afterLineNumber,C.viewModel.getLineMaxColumn(y.afterLineNumber))),B===null?R=N:N===null?R=B:S<w?R=N:R=B,{viewZoneId:y.id,afterLineNumber:y.afterLineNumber,positionBefore:N,positionAfter:B,position:R}}return null}getFullLineRangeAtCoord(C){if(this._context.viewLayout.isAfterLines(C)){const w=this._context.viewModel.getLineCount(),T=this._context.viewModel.getLineMaxColumn(w);return{range:new L.Range(w,T,w,T),isAfterLines:!0}}const S=this._context.viewLayout.getLineNumberAtVerticalOffset(C),y=this._context.viewModel.getLineMaxColumn(S);return{range:new L.Range(S,1,S,y),isAfterLines:!1}}getLineNumberAtVerticalOffset(C){return this._context.viewLayout.getLineNumberAtVerticalOffset(C)}isAfterLines(C){return this._context.viewLayout.isAfterLines(C)}isInTopPadding(C){return this._context.viewLayout.isInTopPadding(C)}isInBottomPadding(C){return this._context.viewLayout.isInBottomPadding(C)}getVerticalOffsetForLineNumber(C){return this._context.viewLayout.getVerticalOffsetForLineNumber(C)}findAttribute(C,S){return r._findAttribute(C,S,this._viewHelper.viewDomNode)}static _findAttribute(C,S,y){for(;C&&C!==document.body;){if(C.hasAttribute&&C.hasAttribute(S))return C.getAttribute(S);if(C===y)return null;C=C.parentNode}return null}getLineWidth(C){return this._viewHelper.getLineWidth(C)}visibleRangeForPosition(C,S){return this._viewHelper.visibleRangeForPosition(C,S)}getPositionFromDOMInfo(C,S){return this._viewHelper.getPositionFromDOMInfo(C,S)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=r;class c{constructor(C,S,y,w){this.editorPos=S,this.pos=y,this.relativePos=w,this.mouseVerticalOffset=Math.max(0,C.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=C.getCurrentScrollLeft()+this.relativePos.x-C.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<C.layoutInfo.contentLeft&&this.relativePos.x>=C.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,f._getMouseColumn(this.mouseContentHorizontalOffset,C.typicalHalfwidthCharacterWidth))}}class s extends c{constructor(C,S,y,w,T){super(C,S,y,w);this._ctx=C,T?(this.target=T,this.targetPath=m.PartFingerprints.collect(T,C.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(C=null){return C&&C.column<this._ctx.viewModel.getLineMaxColumn(C.lineNumber)?_.CursorColumns.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(C.lineNumber),C.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(C=null){return o.createUnknown(this.target,this._getMouseColumn(C),C)}fulfillTextarea(){return o.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(C,S,y,w){return o.createMargin(C,this.target,this._getMouseColumn(S),S,y,w)}fulfillViewZone(C,S,y){return o.createViewZone(C,this.target,this._getMouseColumn(S),S,y)}fulfillContentText(C,S,y){return o.createContentText(this.target,this._getMouseColumn(C),C,S,y)}fulfillContentEmpty(C,S){return o.createContentEmpty(this.target,this._getMouseColumn(C),C,S)}fulfillContentWidget(C){return o.createContentWidget(this.target,this._getMouseColumn(),C)}fulfillScrollbar(C){return o.createScrollbar(this.target,this._getMouseColumn(C),C)}fulfillOverlayWidget(C){return o.createOverlayWidget(this.target,this._getMouseColumn(),C)}withTarget(C){return new s(this._ctx,this.editorPos,this.pos,this.relativePos,C)}}const a={isAfterLines:!0};function l(p){return{isAfterLines:!1,horizontalDistanceToText:p}}class f{constructor(C,S){this._context=C,this._viewHelper=S}mouseTargetIsWidget(C){const S=C.target,y=m.PartFingerprints.collect(S,this._viewHelper.viewDomNode);return!!(d.isChildOfContentWidgets(y)||d.isChildOfOverflowingContentWidgets(y)||d.isChildOfOverlayWidgets(y))}createMouseTarget(C,S,y,w,T){const N=new r(this._context,this._viewHelper,C),R=new s(N,S,y,w,T);try{return f._createMouseTarget(N,R,!1)}catch{return R.fulfillUnknown()}}static _createMouseTarget(C,S,y){if(S.target===null){if(y)return S.fulfillUnknown();const N=f._doHitTest(C,S);return N.type===1?f.createMouseTargetFromHitTestPosition(C,S,N.spanNode,N.position,N.injectedText):this._createMouseTarget(C,S.withTarget(N.hitTarget),!0)}const w=S;let T=null;return T=T||f._hitTestContentWidget(C,w),T=T||f._hitTestOverlayWidget(C,w),T=T||f._hitTestMinimap(C,w),T=T||f._hitTestScrollbarSlider(C,w),T=T||f._hitTestViewZone(C,w),T=T||f._hitTestMargin(C,w),T=T||f._hitTestViewCursor(C,w),T=T||f._hitTestTextArea(C,w),T=T||f._hitTestViewLines(C,w,y),T=T||f._hitTestScrollbar(C,w),T||S.fulfillUnknown()}static _hitTestContentWidget(C,S){if(d.isChildOfContentWidgets(S.targetPath)||d.isChildOfOverflowingContentWidgets(S.targetPath)){const y=C.findAttribute(S.target,"widgetId");return y?S.fulfillContentWidget(y):S.fulfillUnknown()}return null}static _hitTestOverlayWidget(C,S){if(d.isChildOfOverlayWidgets(S.targetPath)){const y=C.findAttribute(S.target,"widgetId");return y?S.fulfillOverlayWidget(y):S.fulfillUnknown()}return null}static _hitTestViewCursor(C,S){if(S.target){const y=C.lastRenderData.lastViewCursorsRenderData;for(const w of y)if(S.target===w.domNode)return S.fulfillContentText(w.position,null,{mightBeForeignElement:!1,injectedText:null})}if(S.isInContentArea){const y=C.lastRenderData.lastViewCursorsRenderData,w=S.mouseContentHorizontalOffset,T=S.mouseVerticalOffset;for(const N of y){if(w<N.contentLeft||w>N.contentLeft+N.width)continue;const R=C.getVerticalOffsetForLineNumber(N.position.lineNumber);if(R<=T&&T<=R+N.height)return S.fulfillContentText(N.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(C,S){const y=C.getZoneAtCoord(S.mouseVerticalOffset);if(y){const w=S.isInContentArea?8:5;return S.fulfillViewZone(w,y.position,y)}return null}static _hitTestTextArea(C,S){return d.isTextArea(S.targetPath)?C.lastRenderData.lastTextareaPosition?S.fulfillContentText(C.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):S.fulfillTextarea():null}static _hitTestMargin(C,S){if(S.isInMarginArea){const y=C.getFullLineRangeAtCoord(S.mouseVerticalOffset),w=y.range.getStartPosition();let T=Math.abs(S.relativePos.x);const N={isAfterLines:y.isAfterLines,glyphMarginLeft:C.layoutInfo.glyphMarginLeft,glyphMarginWidth:C.layoutInfo.glyphMarginWidth,lineNumbersWidth:C.layoutInfo.lineNumbersWidth,offsetX:T};return T-=C.layoutInfo.glyphMarginLeft,T<=C.layoutInfo.glyphMarginWidth?S.fulfillMargin(2,w,y.range,N):(T-=C.layoutInfo.glyphMarginWidth,T<=C.layoutInfo.lineNumbersWidth?S.fulfillMargin(3,w,y.range,N):(T-=C.layoutInfo.lineNumbersWidth,S.fulfillMargin(4,w,y.range,N)))}return null}static _hitTestViewLines(C,S,y){if(!d.isChildOfViewLines(S.targetPath))return null;if(C.isInTopPadding(S.mouseVerticalOffset))return S.fulfillContentEmpty(new I.Position(1,1),a);if(C.isAfterLines(S.mouseVerticalOffset)||C.isInBottomPadding(S.mouseVerticalOffset)){const T=C.viewModel.getLineCount(),N=C.viewModel.getLineMaxColumn(T);return S.fulfillContentEmpty(new I.Position(T,N),a)}if(y){if(d.isStrictChildOfViewLines(S.targetPath)){const T=C.getLineNumberAtVerticalOffset(S.mouseVerticalOffset);if(C.viewModel.getLineLength(T)===0){const R=C.getLineWidth(T),B=l(S.mouseContentHorizontalOffset-R);return S.fulfillContentEmpty(new I.Position(T,1),B)}const N=C.getLineWidth(T);if(S.mouseContentHorizontalOffset>=N){const R=l(S.mouseContentHorizontalOffset-N),B=new I.Position(T,C.viewModel.getLineMaxColumn(T));return S.fulfillContentEmpty(B,R)}}return S.fulfillUnknown()}const w=f._doHitTest(C,S);return w.type===1?f.createMouseTargetFromHitTestPosition(C,S,w.spanNode,w.position,w.injectedText):this._createMouseTarget(C,S.withTarget(w.hitTarget),!0)}static _hitTestMinimap(C,S){if(d.isChildOfMinimap(S.targetPath)){const y=C.getLineNumberAtVerticalOffset(S.mouseVerticalOffset),w=C.viewModel.getLineMaxColumn(y);return S.fulfillScrollbar(new I.Position(y,w))}return null}static _hitTestScrollbarSlider(C,S){if(d.isChildOfScrollableElement(S.targetPath)&&S.target&&S.target.nodeType===1){const y=S.target.className;if(y&&/\b(slider|scrollbar)\b/.test(y)){const w=C.getLineNumberAtVerticalOffset(S.mouseVerticalOffset),T=C.viewModel.getLineMaxColumn(w);return S.fulfillScrollbar(new I.Position(w,T))}}return null}static _hitTestScrollbar(C,S){if(d.isChildOfScrollableElement(S.targetPath)){const y=C.getLineNumberAtVerticalOffset(S.mouseVerticalOffset),w=C.viewModel.getLineMaxColumn(y);return S.fulfillScrollbar(new I.Position(y,w))}return null}getMouseColumn(C){const S=this._context.configuration.options,y=S.get(131),w=this._context.viewLayout.getCurrentScrollLeft()+C.x-y.contentLeft;return f._getMouseColumn(w,S.get(44).typicalHalfwidthCharacterWidth)}static _getMouseColumn(C,S){return C<0?1:Math.round(C/S)+1}static createMouseTargetFromHitTestPosition(C,S,y,w,T){const N=w.lineNumber,R=w.column,B=C.getLineWidth(N);if(S.mouseContentHorizontalOffset>B){const z=l(S.mouseContentHorizontalOffset-B);return S.fulfillContentEmpty(w,z)}const O=C.visibleRangeForPosition(N,R);if(!O)return S.fulfillUnknown(w);const D=O.left;if(S.mouseContentHorizontalOffset===D)return S.fulfillContentText(w,null,{mightBeForeignElement:!!T,injectedText:T});const A=[];if(A.push({offset:O.left,column:R}),R>1){const z=C.visibleRangeForPosition(N,R-1);z&&A.push({offset:z.left,column:R-1})}const P=C.viewModel.getLineMaxColumn(N);if(R<P){const z=C.visibleRangeForPosition(N,R+1);z&&A.push({offset:z.left,column:R+1})}A.sort((z,ee)=>z.offset-ee.offset);const F=S.pos.toClientCoordinates(),W=y.getBoundingClientRect(),M=W.left<=F.clientX&&F.clientX<=W.right;for(let z=1;z<A.length;z++){const ee=A[z-1],ie=A[z];if(ee.offset<=S.mouseContentHorizontalOffset&&S.mouseContentHorizontalOffset<=ie.offset){const Y=new L.Range(N,ee.column,N,ie.column);return S.fulfillContentText(w,Y,{mightBeForeignElement:!M||!!T,injectedText:T})}}return S.fulfillContentText(w,null,{mightBeForeignElement:!M||!!T,injectedText:T})}static _doHitTestWithCaretRangeFromPoint(C,S){const y=C.getLineNumberAtVerticalOffset(S.mouseVerticalOffset),T=C.getVerticalOffsetForLineNumber(y)+Math.floor(C.lineHeight/2);let N=S.pos.y+(T-S.mouseVerticalOffset);N<=S.editorPos.y&&(N=S.editorPos.y+1),N>=S.editorPos.y+S.editorPos.height&&(N=S.editorPos.y+S.editorPos.height-1);const R=new E.PageCoordinates(S.pos.x,N),B=this._actualDoHitTestWithCaretRangeFromPoint(C,R.toClientCoordinates());return B.type===1?B:this._actualDoHitTestWithCaretRangeFromPoint(C,S.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(C,S){const y=v.getShadowRoot(C.viewDomNode);let w;if(y?typeof y.caretRangeFromPoint=="undefined"?w=g(y,S.clientX,S.clientY):w=y.caretRangeFromPoint(S.clientX,S.clientY):w=document.caretRangeFromPoint(S.clientX,S.clientY),!w||!w.startContainer)return new h;const T=w.startContainer;if(T.nodeType===T.TEXT_NODE){const N=T.parentNode,R=N?N.parentNode:null,B=R?R.parentNode:null;return(B&&B.nodeType===B.ELEMENT_NODE?B.className:null)===k.ViewLine.CLASS_NAME?n.createFromDOMInfo(C,N,w.startOffset):new h(T.parentNode)}else if(T.nodeType===T.ELEMENT_NODE){const N=T.parentNode,R=N?N.parentNode:null;return(R&&R.nodeType===R.ELEMENT_NODE?R.className:null)===k.ViewLine.CLASS_NAME?n.createFromDOMInfo(C,T,T.textContent.length):new h(T)}return new h}static _doHitTestWithCaretPositionFromPoint(C,S){const y=document.caretPositionFromPoint(S.clientX,S.clientY);if(y.offsetNode.nodeType===y.offsetNode.TEXT_NODE){const w=y.offsetNode.parentNode,T=w?w.parentNode:null,N=T?T.parentNode:null;return(N&&N.nodeType===N.ELEMENT_NODE?N.className:null)===k.ViewLine.CLASS_NAME?n.createFromDOMInfo(C,y.offsetNode.parentNode,y.offset):new h(y.offsetNode.parentNode)}if(y.offsetNode.nodeType===y.offsetNode.ELEMENT_NODE){const w=y.offsetNode.parentNode,T=w&&w.nodeType===w.ELEMENT_NODE?w.className:null,N=w?w.parentNode:null,R=N&&N.nodeType===N.ELEMENT_NODE?N.className:null;if(T===k.ViewLine.CLASS_NAME){const B=y.offsetNode.childNodes[Math.min(y.offset,y.offsetNode.childNodes.length-1)];if(B)return n.createFromDOMInfo(C,B,0)}else if(R===k.ViewLine.CLASS_NAME)return n.createFromDOMInfo(C,y.offsetNode,0)}return new h(y.offsetNode)}static _snapToSoftTabBoundary(C,S){const y=S.getLineContent(C.lineNumber),{tabSize:w}=S.model.getOptions(),T=u.AtomicTabMoveOperations.atomicPosition(y,C.column-1,w,2);return T!==-1?new I.Position(C.lineNumber,T+1):C}static _doHitTest(C,S){let y=new h;if(typeof document.caretRangeFromPoint=="function"?y=this._doHitTestWithCaretRangeFromPoint(C,S):document.caretPositionFromPoint&&(y=this._doHitTestWithCaretPositionFromPoint(C,S.pos.toClientCoordinates())),y.type===1){const w=C.viewModel.getInjectedTextAt(y.position),T=C.viewModel.normalizePosition(y.position,2);(w||!T.equals(y.position))&&(y=new i(T,y.spanNode,w))}return y.type===1&&C.stickyTabStops&&(y=new i(this._snapToSoftTabBoundary(y.position,C.viewModel),y.spanNode,y.injectedText)),y}}e.MouseTargetFactory=f;function g(p,C,S){const y=document.createRange();let w=p.elementFromPoint(C,S);if(w!==null){for(;w&&w.firstChild&&w.firstChild.nodeType!==w.firstChild.TEXT_NODE&&w.lastChild&&w.lastChild.firstChild;)w=w.lastChild;const T=w.getBoundingClientRect(),N=window.getComputedStyle(w,null).getPropertyValue("font"),R=w.innerText;let B=T.left,O=0,D;if(C>T.left+T.width)O=R.length;else{const A=b.getInstance();for(let P=0;P<R.length+1;P++){if(D=A.getCharWidth(R.charAt(P),N)/2,B+=D,C<B){O=P;break}B+=D}}y.setStart(w.firstChild,O),y.setEnd(w.firstChild,O)}return y}e.shadowCaretRangeFromPoint=g;class b{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return b._INSTANCE||(b._INSTANCE=new b),b._INSTANCE}getCharWidth(C,S){const y=C+S;if(this._cache[y])return this._cache[y];const w=this._canvas.getContext("2d");w.font=S;const N=w.measureText(C).width;return this._cache[y]=N,N}}b._INSTANCE=null}),define(re[650],se([1,0,7,63,10,2,17,291,134,147,11,24,128]),function(U,e,E,m,k,I,L,_,v,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=e.createMouseMoveEventMerger=void 0;function t(c){return function(s,a){let l=!1;return c&&(l=c.mouseTargetIsWidget(a)),l||a.preventDefault(),a}}e.createMouseMoveEventMerger=t;class o extends n.ViewEventHandler{constructor(s,a,l){super();this._context=s,this.viewController=a,this.viewHelper=l,this.mouseTargetFactory=new _.MouseTargetFactory(this._context,l),this._mouseDownOperation=this._register(new d(this._context,this.viewController,this.viewHelper,(p,C)=>this._createMouseTarget(p,C),p=>this._getMouseColumn(p))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(131).height;const f=new v.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(f.onContextMenu(this.viewHelper.viewDomNode,p=>this._onContextMenu(p,!0))),this._register(f.onMouseMoveThrottled(this.viewHelper.viewDomNode,p=>this._onMouseMove(p),t(this.mouseTargetFactory),o.MOUSE_MOVE_MINIMUM_TIME)),this._register(f.onMouseUp(this.viewHelper.viewDomNode,p=>this._onMouseUp(p))),this._register(f.onMouseLeave(this.viewHelper.viewDomNode,p=>this._onMouseLeave(p)));let g=0;this._register(f.onPointerDown(this.viewHelper.viewDomNode,(p,C,S)=>{C==="mouse"&&(g=S)})),this._register(E.addDisposableListener(this.viewHelper.viewDomNode,E.EventType.POINTER_UP,p=>{this._mouseDownOperation.onPointerUp()})),this._register(f.onMouseDown(this.viewHelper.viewDomNode,p=>this._onMouseDown(p,g)));const b=p=>{if(this.viewController.emitMouseWheel(p),!this._context.configuration.options.get(68))return;const C=new m.StandardWheelEvent(p);if(L.isMacintosh?(p.metaKey||p.ctrlKey)&&!p.shiftKey&&!p.altKey:p.ctrlKey&&!p.metaKey&&!p.shiftKey&&!p.altKey){const y=u.EditorZoom.getZoomLevel(),w=C.deltaY>0?1:-1;u.EditorZoom.setZoomLevel(y+w),C.preventDefault(),C.stopPropagation()}};this._register(E.addDisposableListener(this.viewHelper.viewDomNode,E.EventType.MOUSE_WHEEL,b,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(s){if(s.hasChanged(131)){const a=this._context.configuration.options.get(131).height;this._height!==a&&(this._height=a,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(s){return this._mouseDownOperation.onCursorStateChanged(s),!1}onFocusChanged(s){return!1}onScrollChanged(s){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(s,a){const f=new v.ClientCoordinates(s,a).toPageCoordinates(),g=(0,v.createEditorPagePosition)(this.viewHelper.viewDomNode);if(f.y<g.y||f.y>g.y+g.height||f.x<g.x||f.x>g.x+g.width)return null;const b=(0,v.createCoordinatesRelativeToEditor)(this.viewHelper.viewDomNode,g,f);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),g,f,b,null)}_createMouseTarget(s,a){let l=s.target;if(!this.viewHelper.viewDomNode.contains(l)){const f=E.getShadowRoot(this.viewHelper.viewDomNode);f&&(l=f.elementsFromPoint(s.posx,s.posy).find(g=>this.viewHelper.viewDomNode.contains(g)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),s.editorPos,s.pos,s.relativePos,a?l:null)}_getMouseColumn(s){return this.mouseTargetFactory.getMouseColumn(s.relativePos)}_onContextMenu(s,a){this.viewController.emitContextMenu({event:s,target:this._createMouseTarget(s,a)})}_onMouseMove(s){this._mouseDownOperation.isActive()||s.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:s,target:this._createMouseTarget(s,!0)})}_onMouseLeave(s){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:s,target:null})}_onMouseUp(s){this.viewController.emitMouseUp({event:s,target:this._createMouseTarget(s,!0)})}_onMouseDown(s,a){const l=this._createMouseTarget(s,!0),f=l.type===6||l.type===7,g=l.type===2||l.type===3||l.type===4,b=l.type===3,p=this._context.configuration.options.get(98),C=l.type===8||l.type===5,S=l.type===9;let y=s.leftButton||s.middleButton;L.isMacintosh&&s.leftButton&&s.ctrlKey&&(y=!1);const w=()=>{s.preventDefault(),this.viewHelper.focusTextArea()};if(y&&(f||b&&p))w(),this._mouseDownOperation.start(l.type,s,a);else if(g)s.preventDefault();else if(C){const T=l.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(T.viewZoneId)&&(w(),this._mouseDownOperation.start(l.type,s,a),s.preventDefault())}else S&&this.viewHelper.shouldSuppressMouseDownOnWidget(l.detail)&&(w(),s.preventDefault());this.viewController.emitMouseDown({event:s,target:l})}}e.MouseHandler=o,o.MOUSE_MOVE_MINIMUM_TIME=100;class d extends I.Disposable{constructor(s,a,l,f,g){super();this._context=s,this._viewController=a,this._viewHelper=l,this._createMouseTarget=f,this._getMouseColumn=g,this._mouseMoveMonitor=this._register(new v.GlobalEditorPointerMoveMonitor(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new k.TimeoutTimer),this._mouseState=new r,this._currentSelection=new i.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(s){this._lastMouseEvent=s,this._mouseState.setModifiers(s);const a=this._findMousePosition(s,!1);!a||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:s,target:a}):this._dispatchMouse(a,!0))}start(s,a,l){this._lastMouseEvent=a,this._mouseState.setStartedOnLineNumbers(s===3),this._mouseState.setStartButtons(a),this._mouseState.setModifiers(a);const f=this._findMousePosition(a,!0);if(!f||!f.position)return;this._mouseState.trySetCount(a.detail,f.position),a.detail=this._mouseState.count;const g=this._context.configuration.options;if(!g.get(81)&&g.get(31)&&!g.get(18)&&!this._mouseState.altKey&&a.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&f.type===6&&f.position&&this._currentSelection.containsPosition(f.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,l,a.buttons,t(null),b=>this._onMouseDownThenMove(b),b=>{const p=this._findMousePosition(this._lastMouseEvent,!1);b&&b instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:p?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(f,a.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,l,a.buttons,t(null),b=>this._onMouseDownThenMove(b),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const s=this._findMousePosition(this._lastMouseEvent,!1);!s||this._mouseState.isDragAndDrop||this._dispatchMouse(s,!0)},10)}onCursorStateChanged(s){this._currentSelection=s.selections[0]}_getPositionOutsideEditor(s){const a=s.editorPos,l=this._context.viewModel,f=this._context.viewLayout,g=this._getMouseColumn(s);if(s.posy<a.y){const p=Math.max(f.getCurrentScrollTop()-(a.y-s.posy),0),C=_.HitTestContext.getZoneAtCoord(this._context,p);if(C){const y=this._helpPositionJumpOverViewZone(C);if(y)return _.MouseTarget.createOutsideEditor(g,y)}const S=f.getLineNumberAtVerticalOffset(p);return _.MouseTarget.createOutsideEditor(g,new h.Position(S,1))}if(s.posy>a.y+a.height){const p=f.getCurrentScrollTop()+s.relativePos.y,C=_.HitTestContext.getZoneAtCoord(this._context,p);if(C){const y=this._helpPositionJumpOverViewZone(C);if(y)return _.MouseTarget.createOutsideEditor(g,y)}const S=f.getLineNumberAtVerticalOffset(p);return _.MouseTarget.createOutsideEditor(g,new h.Position(S,l.getLineMaxColumn(S)))}const b=f.getLineNumberAtVerticalOffset(f.getCurrentScrollTop()+s.relativePos.y);return s.posx<a.x?_.MouseTarget.createOutsideEditor(g,new h.Position(b,1)):s.posx>a.x+a.width?_.MouseTarget.createOutsideEditor(g,new h.Position(b,l.getLineMaxColumn(b))):null}_findMousePosition(s,a){const l=this._getPositionOutsideEditor(s);if(l)return l;const f=this._createMouseTarget(s,a);if(!f.position)return null;if(f.type===8||f.type===5){const b=this._helpPositionJumpOverViewZone(f.detail);if(b)return _.MouseTarget.createViewZone(f.type,f.element,f.mouseColumn,b,f.detail)}return f}_helpPositionJumpOverViewZone(s){const a=new h.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),l=s.positionBefore,f=s.positionAfter;return l&&f?l.isBefore(a)?l:f:null}_dispatchMouse(s,a){!s.position||this._viewController.dispatchMouse({position:s.position,mouseColumn:s.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:a,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:s.type===6&&s.detail.injectedText!==null})}}class r{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(s){this._altKey=s.altKey,this._ctrlKey=s.ctrlKey,this._metaKey=s.metaKey,this._shiftKey=s.shiftKey}setStartButtons(s){this._leftButton=s.leftButton,this._middleButton=s.middleButton}setStartedOnLineNumbers(s){this._startedOnLineNumbers=s}trySetCount(s,a){const l=new Date().getTime();l-this._lastSetMouseDownCountTime>r.CLEAR_MOUSE_DOWN_COUNT_TIME&&(s=1),this._lastSetMouseDownCountTime=l,s>this._lastMouseDownCount+1&&(s=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(a)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=a,this._lastMouseDownCount=Math.min(s,this._lastMouseDownPositionEqualCount)}}r.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(re[651],se([1,0,7,17,60,2,650,134,170,181]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class h extends L.MouseHandler{constructor(o,d,r){super(o,d,r);this._register(k.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(E.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Tap,s=>this.onTap(s))),this._register(E.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Change,s=>this.onChange(s))),this._register(E.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Contextmenu,s=>this._onContextMenu(new _.EditorMouseEvent(s,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(E.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",s=>{const a=s.pointerType;if(a==="mouse"){this._lastPointerType="mouse";return}else a==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const c=new _.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(c.onPointerMoveThrottled(this.viewHelper.viewDomNode,s=>this._onMouseMove(s),(0,L.createMouseMoveEventMerger)(this.mouseTargetFactory),L.MouseHandler.MOUSE_MOVE_MINIMUM_TIME)),this._register(c.onPointerUp(this.viewHelper.viewDomNode,s=>this._onMouseUp(s))),this._register(c.onPointerLeave(this.viewHelper.viewDomNode,s=>this._onMouseLeave(s))),this._register(c.onPointerDown(this.viewHelper.viewDomNode,(s,a)=>this._onMouseDown(s,a)))}onTap(o){if(!o.initialTarget||!this.viewHelper.linesContentDomNode.contains(o.initialTarget))return;o.preventDefault(),this.viewHelper.focusTextArea();const d=this._createMouseTarget(new _.EditorMouseEvent(o,!1,this.viewHelper.viewDomNode),!1);d.position&&this.viewController.dispatchMouse({position:d.position,mouseColumn:d.position.column,startedOnLineNumbers:!1,mouseDownCount:o.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:d.type===6&&d.detail.injectedText!==null})}onChange(o){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-o.translationX,-o.translationY)}_onMouseDown(o,d){o.browserEvent.pointerType!=="touch"&&super._onMouseDown(o,d)}}e.PointerEventHandler=h;class i extends L.MouseHandler{constructor(o,d,r){super(o,d,r);this._register(k.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(E.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Tap,c=>this.onTap(c))),this._register(E.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Change,c=>this.onChange(c))),this._register(E.addDisposableListener(this.viewHelper.linesContentDomNode,k.EventType.Contextmenu,c=>this._onContextMenu(new _.EditorMouseEvent(c,!1,this.viewHelper.viewDomNode),!1)))}onTap(o){o.preventDefault(),this.viewHelper.focusTextArea();const d=this._createMouseTarget(new _.EditorMouseEvent(o,!1,this.viewHelper.viewDomNode),!1);if(d.position){const r=document.createEvent("CustomEvent");r.initEvent(u.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(r),this.viewController.moveTo(d.position)}}onChange(o){this._context.viewModel.viewLayout.deltaScrollNow(-o.translationX,-o.translationY)}}class n extends I.Disposable{constructor(o,d,r){super();m.isIOS&&v.BrowserFeatures.pointerEvents?this.handler=this._register(new h(o,d,r)):window.TouchEvent?this.handler=this._register(new i(o,d,r)):this.handler=this._register(new L.MouseHandler(o,d,r))}getTargetAtClientPoint(o,d){return this.handler.getTargetAtClientPoint(o,d)}}e.PointerHandler=n}),define(re[652],se([1,0,17,10,67,182,52,290,11,3,123,144,367]),function(U,e,E,m,k,I,L,_,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class n{constructor(){this._currentVisibleRange=new u.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(c){this._currentVisibleRange=c}}class t{constructor(c,s,a,l,f,g,b){this.minimalReveal=c,this.lineNumber=s,this.startColumn=a,this.endColumn=l,this.startScrollTop=f,this.stopScrollTop=g,this.scrollType=b,this.type="range",this.minLineNumber=s,this.maxLineNumber=s}}class o{constructor(c,s,a,l,f){this.minimalReveal=c,this.selections=s,this.startScrollTop=a,this.stopScrollTop=l,this.scrollType=f,this.type="selections";let g=s[0].startLineNumber,b=s[0].endLineNumber;for(let p=1,C=s.length;p<C;p++){const S=s[p];g=Math.min(g,S.startLineNumber),b=Math.max(b,S.endLineNumber)}this.minLineNumber=g,this.maxLineNumber=b}}class d extends L.ViewPart{constructor(c,s){super(c);this._linesContent=s,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new I.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const a=this._context.configuration,l=this._context.configuration.options,f=l.get(44),g=l.get(132),b=l.get(131);this._lineHeight=l.get(59),this._typicalHalfwidthCharacterWidth=f.typicalHalfwidthCharacterWidth,this._isViewportWrapping=g.isViewportWrapping,this._revealHorizontalRightPadding=l.get(89),this._horizontalScrollbarHeight=b.horizontalScrollbarHeight,this._cursorSurroundingLines=l.get(25),this._cursorSurroundingLinesStyle=l.get(26),this._canUseLayerHinting=!l.get(28),this._viewLineOptions=new _.ViewLineOptions(a,this._context.theme.type),L.PartFingerprints.write(this.domNode,7),this.domNode.setClassName(`view-lines ${i.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),(0,k.applyFontInfo)(this.domNode,f),this._maxLineWidth=0,this._asyncUpdateLineWidths=new m.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new m.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new n,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new _.ViewLine(this._viewLineOptions)}onConfigurationChanged(c){this._visibleLines.onConfigurationChanged(c),c.hasChanged(132)&&(this._maxLineWidth=0);const s=this._context.configuration.options,a=s.get(44),l=s.get(132),f=s.get(131);return this._lineHeight=s.get(59),this._typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this._isViewportWrapping=l.isViewportWrapping,this._revealHorizontalRightPadding=s.get(89),this._horizontalScrollbarHeight=f.horizontalScrollbarHeight,this._cursorSurroundingLines=s.get(25),this._cursorSurroundingLinesStyle=s.get(26),this._canUseLayerHinting=!s.get(28),(0,k.applyFontInfo)(this.domNode,a),this._onOptionsMaybeChanged(),c.hasChanged(131)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const c=this._context.configuration,s=new _.ViewLineOptions(c,this._context.theme.type);if(!this._viewLineOptions.equals(s)){this._viewLineOptions=s;const a=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let f=a;f<=l;f++)this._visibleLines.getVisibleLine(f).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(c){const s=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();let l=!1;for(let f=s;f<=a;f++)l=this._visibleLines.getVisibleLine(f).onSelectionChanged()||l;return l}onDecorationsChanged(c){{const s=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();for(let l=s;l<=a;l++)this._visibleLines.getVisibleLine(l).onDecorationsChanged()}return!0}onFlushed(c){const s=this._visibleLines.onFlushed(c);return this._maxLineWidth=0,s}onLinesChanged(c){return this._visibleLines.onLinesChanged(c)}onLinesDeleted(c){return this._visibleLines.onLinesDeleted(c)}onLinesInserted(c){return this._visibleLines.onLinesInserted(c)}onRevealRangeRequest(c){const s=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),c.source,c.minimalReveal,c.range,c.selections,c.verticalType);if(s===-1)return!1;let a=this._context.viewLayout.validateScrollPosition({scrollTop:s});c.revealHorizontal?c.range&&c.range.startLineNumber!==c.range.endLineNumber?a={scrollTop:a.scrollTop,scrollLeft:0}:c.range?this._horizontalRevealRequest=new t(c.minimalReveal,c.range.startLineNumber,c.range.startColumn,c.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),a.scrollTop,c.scrollType):c.selections&&c.selections.length>0&&(this._horizontalRevealRequest=new o(c.minimalReveal,c.selections,this._context.viewLayout.getCurrentScrollTop(),a.scrollTop,c.scrollType)):this._horizontalRevealRequest=null;const f=Math.abs(this._context.viewLayout.getCurrentScrollTop()-a.scrollTop)<=this._lineHeight?1:c.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(a,f),!0}onScrollChanged(c){if(this._horizontalRevealRequest&&c.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&c.scrollTopChanged){const s=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),a=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(c.scrollTop<s||c.scrollTop>a)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(c.scrollWidth),this._visibleLines.onScrollChanged(c)||!0}onTokensChanged(c){return this._visibleLines.onTokensChanged(c)}onZonesChanged(c){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(c)}onThemeChanged(c){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(c,s){const a=this._getViewLineDomNode(c);if(a===null)return null;const l=this._getLineNumberFor(a);if(l===-1||l<1||l>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(l)===1)return new v.Position(l,1);const f=this._visibleLines.getStartLineNumber(),g=this._visibleLines.getEndLineNumber();if(l<f||l>g)return null;let b=this._visibleLines.getVisibleLine(l).getColumnOfNodeOffset(l,c,s);const p=this._context.viewModel.getLineMinColumn(l);return b<p&&(b=p),new v.Position(l,b)}_getViewLineDomNode(c){for(;c&&c.nodeType===1;){if(c.className===_.ViewLine.CLASS_NAME)return c;c=c.parentElement}return null}_getLineNumberFor(c){const s=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();for(let l=s;l<=a;l++){const f=this._visibleLines.getVisibleLine(l);if(c===f.getDomNode())return l}return-1}getLineWidth(c){const s=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();return c<s||c>a?-1:this._visibleLines.getVisibleLine(c).getWidth()}linesVisibleRangesForRange(c,s){if(this.shouldRender())return null;const a=c.endLineNumber,l=u.Range.intersectRanges(c,this._lastRenderedData.getCurrentVisibleRange());if(!l)return null;let f=[],g=0;const b=new _.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let p=0;s&&(p=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new v.Position(l.startLineNumber,1)).lineNumber);const C=this._visibleLines.getStartLineNumber(),S=this._visibleLines.getEndLineNumber();for(let y=l.startLineNumber;y<=l.endLineNumber;y++){if(y<C||y>S)continue;const w=y===l.startLineNumber?l.startColumn:1,T=y===l.endLineNumber?l.endColumn:this._context.viewModel.getLineMaxColumn(y),N=this._visibleLines.getVisibleLine(y).getVisibleRangesForRange(y,w,T,b);if(!!N){if(s&&y<a){const R=p;p=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new v.Position(y+1,1)).lineNumber,R!==p&&(N.ranges[N.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}f[g++]=new h.LineVisibleRanges(N.outsideRenderedLine,y,h.HorizontalRange.from(N.ranges))}}return g===0?null:f}_visibleRangesForLineRange(c,s,a){return this.shouldRender()||c<this._visibleLines.getStartLineNumber()||c>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(c).getVisibleRangesForRange(c,s,a,new _.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(c){const s=this._visibleRangesForLineRange(c.lineNumber,c.column,c.column);return s?new h.HorizontalPosition(s.outsideRenderedLine,s.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(c){const s=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();let l=1,f=!0;for(let g=s;g<=a;g++){const b=this._visibleLines.getVisibleLine(g);if(c&&!b.getWidthIsFast()){f=!1;continue}l=Math.max(l,b.getWidth())}return f&&s===1&&a===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(l),f}_checkMonospaceFontAssumptions(){let c=-1,s=-1;const a=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let f=a;f<=l;f++){const g=this._visibleLines.getVisibleLine(f);if(g.needsMonospaceFontCheck()){const b=g.getWidth();b>s&&(s=b,c=f)}}if(c!==-1&&!this._visibleLines.getVisibleLine(c).monospaceAssumptionsAreValid())for(let f=a;f<=l;f++)this._visibleLines.getVisibleLine(f).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(c){if(this._visibleLines.renderLines(c),this._lastRenderedData.setCurrentVisibleRange(c.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const a=this._horizontalRevealRequest;if(c.startLineNumber<=a.minLineNumber&&a.maxLineNumber<=c.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const l=this._computeScrollLeftToReveal(a);l&&(this._isViewportWrapping||this._ensureMaxLineWidth(l.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:l.scrollLeft},a.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),E.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const a=this._visibleLines.getStartLineNumber(),l=this._visibleLines.getEndLineNumber();for(let f=a;f<=l;f++)if(this._visibleLines.getVisibleLine(f).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const s=this._context.viewLayout.getCurrentScrollTop()-c.bigNumbersDelta;this._linesContent.setTop(-s),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(c){const s=Math.ceil(c);this._maxLineWidth<s&&(this._maxLineWidth=s,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(c,s,a,l,f,g){const b=c.top,p=c.height,C=b+p;let S,y,w;if(f&&f.length>0){let R=f[0].startLineNumber,B=f[0].endLineNumber;for(let O=1,D=f.length;O<D;O++){const A=f[O];R=Math.min(R,A.startLineNumber),B=Math.max(B,A.endLineNumber)}S=!1,y=this._context.viewLayout.getVerticalOffsetForLineNumber(R),w=this._context.viewLayout.getVerticalOffsetForLineNumber(B)+this._lineHeight}else if(l)S=!0,y=this._context.viewLayout.getVerticalOffsetForLineNumber(l.startLineNumber),w=this._context.viewLayout.getVerticalOffsetForLineNumber(l.endLineNumber)+this._lineHeight;else return-1;if((s==="mouse"||a)&&this._cursorSurroundingLinesStyle==="default")a||(y-=this._lineHeight);else{const R=Math.min(p/this._lineHeight/2,this._cursorSurroundingLines);y-=R*this._lineHeight,w+=Math.max(0,R-1)*this._lineHeight}(g===0||g===4)&&(w+=a?this._horizontalScrollbarHeight:this._lineHeight);let N;if(w-y>p){if(!S)return-1;N=y}else if(g===5||g===6)if(g===6&&b<=y&&w<=C)N=b;else{const R=Math.max(5*this._lineHeight,p*.2),B=y-R,O=w-p;N=Math.max(O,B)}else if(g===1||g===2)if(g===2&&b<=y&&w<=C)N=b;else{const R=(y+w)/2;N=Math.max(0,R-p/2)}else N=this._computeMinimumScrolling(b,C,y,w,g===3,g===4);return N}_computeScrollLeftToReveal(c){const s=this._context.viewLayout.getCurrentViewport(),a=s.left,l=a+s.width;let f=1073741824,g=0;if(c.type==="range"){const p=this._visibleRangesForLineRange(c.lineNumber,c.startColumn,c.endColumn);if(!p)return null;for(const C of p.ranges)f=Math.min(f,Math.round(C.left)),g=Math.max(g,Math.round(C.left+C.width))}else for(const p of c.selections){if(p.startLineNumber!==p.endLineNumber)return null;const C=this._visibleRangesForLineRange(p.startLineNumber,p.startColumn,p.endColumn);if(!C)return null;for(const S of C.ranges)f=Math.min(f,Math.round(S.left)),g=Math.max(g,Math.round(S.left+S.width))}return c.minimalReveal||(f=Math.max(0,f-d.HORIZONTAL_EXTRA_PX),g+=this._revealHorizontalRightPadding),c.type==="selections"&&g-f>s.width?null:{scrollLeft:this._computeMinimumScrolling(a,l,f,g),maxHorizontalOffset:g}}_computeMinimumScrolling(c,s,a,l,f,g){c=c|0,s=s|0,a=a|0,l=l|0,f=!!f,g=!!g;const b=s-c;if(l-a<b){if(f)return a;if(g)return Math.max(0,l-b);if(a<c)return a;if(l>s)return Math.max(0,l-b)}else return a;return c}}e.ViewLines=d,d.HORIZONTAL_EXTRA_PX=30}),define(re[14],se([1,0,28,4,2,9,38,58]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.registerThemingParticipant=e.Extensions=e.getThemeTypeSelector=e.ThemeIcon=e.themeColorFromId=e.ThemeColor=e.IThemeService=void 0,e.IThemeService=(0,I.createDecorator)("themeService");var v;(function(r){function c(s){return s&&typeof s=="object"&&typeof s.id=="string"}r.isThemeColor=c})(v=e.ThemeColor||(e.ThemeColor={}));function u(r){return{id:r}}e.themeColorFromId=u;var h;(function(r){function c(C){return C&&typeof C=="object"&&typeof C.id=="string"&&(typeof C.color=="undefined"||v.isThemeColor(C.color))}r.isThemeIcon=c;const s=new RegExp(`^\\$\\((${E.CSSIcon.iconNameExpression}(?:${E.CSSIcon.iconModifierExpression})?)\\)$`);function a(C){const S=s.exec(C);if(!S)return;let[,y]=S;return{id:y}}r.fromString=a;function l(C){return{id:C}}r.fromId=l;function f(C,S){let y=C.id;const w=y.lastIndexOf("~");return w!==-1&&(y=y.substring(0,w)),S&&(y=`${y}~${S}`),{id:y}}r.modify=f;function g(C){const S=C.id.lastIndexOf("~");if(S!==-1)return C.id.substring(S+1)}r.getModifier=g;function b(C,S){var y,w;return C.id===S.id&&((y=C.color)===null||y===void 0?void 0:y.id)===((w=S.color)===null||w===void 0?void 0:w.id)}r.isEqual=b;function p(C,S){return{id:C.id,color:S?u(S):void 0}}r.asThemeIcon=p,r.asClassNameArray=E.CSSIcon.asClassNameArray,r.asClassName=E.CSSIcon.asClassName,r.asCSSSelector=E.CSSIcon.asCSSSelector})(h=e.ThemeIcon||(e.ThemeIcon={}));function i(r){switch(r){case _.ColorScheme.DARK:return"vs-dark";case _.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case _.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}e.getThemeTypeSelector=i,e.Extensions={ThemingContribution:"base.contributions.theming"};class n{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new m.Emitter}onColorThemeChange(c){return this.themingParticipants.push(c),this.onThemingParticipantAddedEmitter.fire(c),(0,k.toDisposable)(()=>{const s=this.themingParticipants.indexOf(c);this.themingParticipants.splice(s,1)})}getThemingParticipants(){return this.themingParticipants}}let t=new n;L.Registry.add(e.Extensions.ThemingContribution,t);function o(r){return t.onColorThemeChange(r)}e.registerThemingParticipant=o;class d extends k.Disposable{constructor(c){super();this.themeService=c,this.theme=c.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(s=>this.onThemeChange(s)))}onThemeChange(c){this.theme=c,this.updateStyles()}updateStyles(){}}e.Themable=d}),define(re[653],se([1,0,4,2,14]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalStyleSheet=e.AbstractCodeEditorService=void 0;let I=class extends m.Disposable{constructor(v){super();this._themeService=v,this._onCodeEditorAdd=this._register(new E.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new E.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new E.Emitter),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new E.Emitter),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(v){this._codeEditors[v.getId()]=v,this._onCodeEditorAdd.fire(v)}removeCodeEditor(v){delete this._codeEditors[v.getId()]&&this._onCodeEditorRemove.fire(v)}listCodeEditors(){return Object.keys(this._codeEditors).map(v=>this._codeEditors[v])}addDiffEditor(v){this._diffEditors[v.getId()]=v,this._onDiffEditorAdd.fire(v)}removeDiffEditor(v){delete this._diffEditors[v.getId()]&&this._onDiffEditorRemove.fire(v)}listDiffEditors(){return Object.keys(this._diffEditors).map(v=>this._diffEditors[v])}getFocusedCodeEditor(){let v=null;const u=this.listCodeEditors();for(const h of u){if(h.hasTextFocus())return h;h.hasWidgetFocus()&&(v=h)}return v}removeDecorationType(v){const u=this._decorationOptionProviders.get(v);u&&(u.refCount--,u.refCount<=0&&(this._decorationOptionProviders.delete(v),u.dispose(),this.listCodeEditors().forEach(h=>h.removeDecorations(v))))}setModelProperty(v,u,h){const i=v.toString();let n;this._modelProperties.has(i)?n=this._modelProperties.get(i):(n=new Map,this._modelProperties.set(i,n)),n.set(u,h)}getModelProperty(v,u){const h=v.toString();if(this._modelProperties.has(h))return this._modelProperties.get(h).get(u)}};I=Ie([fe(0,k.IThemeService)],I),e.AbstractCodeEditorService=I;class L{constructor(v){this._styleSheet=v}}e.GlobalStyleSheet=L}),define(re[654],se([1,0,7,32,72,52,14,23]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class v extends I.ViewPart{constructor(h,i,n,t){super(h);const o=this._context.configuration.options,d=o.get(92),r=o.get(67),c=o.get(34),s=o.get(95),a={listenOnDomNode:n.domNode,className:"editor-scrollable "+(0,L.getThemeTypeSelector)(h.theme.type),useShadows:!1,lazyRender:!0,vertical:d.vertical,horizontal:d.horizontal,verticalHasArrows:d.verticalHasArrows,horizontalHasArrows:d.horizontalHasArrows,verticalScrollbarSize:d.verticalScrollbarSize,verticalSliderSize:d.verticalSliderSize,horizontalScrollbarSize:d.horizontalScrollbarSize,horizontalSliderSize:d.horizontalSliderSize,handleMouseWheel:d.handleMouseWheel,alwaysConsumeMouseWheel:d.alwaysConsumeMouseWheel,arrowSize:d.arrowSize,mouseWheelScrollSensitivity:r,fastScrollSensitivity:c,scrollPredominantAxis:s,scrollByPage:d.scrollByPage};this.scrollbar=this._register(new k.SmoothScrollableElement(i.domNode,a,this._context.viewLayout.getScrollable())),I.PartFingerprints.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,m.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const l=(f,g,b)=>{const p={};if(g){const C=f.scrollTop;C&&(p.scrollTop=this._context.viewLayout.getCurrentScrollTop()+C,f.scrollTop=0)}if(b){const C=f.scrollLeft;C&&(p.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+C,f.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(p,1)};this._register(E.addDisposableListener(n.domNode,"scroll",f=>l(n.domNode,!0,!0))),this._register(E.addDisposableListener(i.domNode,"scroll",f=>l(i.domNode,!0,!1))),this._register(E.addDisposableListener(t.domNode,"scroll",f=>l(t.domNode,!0,!1))),this._register(E.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",f=>l(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const h=this._context.configuration.options,i=h.get(131);this.scrollbarDomNode.setLeft(i.contentLeft),h.get(65).side==="right"?this.scrollbarDomNode.setWidth(i.contentWidth+i.minimap.minimapWidth):this.scrollbarDomNode.setWidth(i.contentWidth),this.scrollbarDomNode.setHeight(i.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(h){this.scrollbar.delegateVerticalScrollbarPointerDown(h)}onConfigurationChanged(h){if(h.hasChanged(92)||h.hasChanged(67)||h.hasChanged(34)){const i=this._context.configuration.options,n=i.get(92),t=i.get(67),o=i.get(34),d=i.get(95),r={vertical:n.vertical,horizontal:n.horizontal,verticalScrollbarSize:n.verticalScrollbarSize,horizontalScrollbarSize:n.horizontalScrollbarSize,scrollByPage:n.scrollByPage,handleMouseWheel:n.handleMouseWheel,mouseWheelScrollSensitivity:t,fastScrollSensitivity:o,scrollPredominantAxis:d};this.scrollbar.updateOptions(r)}return h.hasChanged(131)&&this._setLayout(),!0}onScrollChanged(h){return!0}onThemeChanged(h){return this.scrollbar.updateClassName("editor-scrollable "+(0,L.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(h){}render(h){this.scrollbar.renderNow()}}e.EditorScrollbar=v,(0,L.registerThemingParticipant)((u,h)=>{const i=u.getColor(_.scrollbarShadow);i&&h.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${i} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${i} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${i} 6px 6px 6px -6px inset;
			}
		`);const n=u.getColor(_.scrollbarSliderBackground);n&&h.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${n};
			}
		`);const t=u.getColor(_.scrollbarSliderHoverBackground);t&&h.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${t};
			}
		`);const o=u.getColor(_.scrollbarSliderActiveBackground);o&&h.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${o};
			}
		`)})}),define(re[655],se([1,0,7,32,119,2,17,8,182,52,33,3,242,259,74,23,14,24,60,412,47,92,370]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const g=140,b=2;class p{constructor(D,A,P){const F=D.options,W=F.get(129),M=F.get(131),z=M.minimap,ee=F.get(44),ie=F.get(65);this.renderMinimap=z.renderMinimap,this.size=ie.size,this.minimapHeightIsEditorHeight=z.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=F.get(94),this.showSlider=ie.showSlider,this.pixelRatio=W,this.typicalHalfwidthCharacterWidth=ee.typicalHalfwidthCharacterWidth,this.lineHeight=F.get(59),this.minimapLeft=z.minimapLeft,this.minimapWidth=z.minimapWidth,this.minimapHeight=M.height,this.canvasInnerWidth=z.minimapCanvasInnerWidth,this.canvasInnerHeight=z.minimapCanvasInnerHeight,this.canvasOuterWidth=z.minimapCanvasOuterWidth,this.canvasOuterHeight=z.minimapCanvasOuterHeight,this.isSampling=z.minimapIsSampling,this.editorHeight=M.height,this.fontScale=z.minimapScale,this.minimapLineHeight=z.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,f.once)(()=>a.MinimapCharRendererFactory.create(this.fontScale,ee.fontFamily)),this.defaultBackgroundColor=P.getColor(2),this.backgroundColor=p._getMinimapBackground(A,this.defaultBackgroundColor),this.foregroundAlpha=p._getMinimapForegroundOpacity(A)}static _getMinimapBackground(D,A){const P=D.getColor(d.minimapBackground);return P?new n.RGBA8(P.rgba.r,P.rgba.g,P.rgba.b,Math.round(255*P.rgba.a)):A}static _getMinimapForegroundOpacity(D){const A=D.getColor(d.minimapForegroundOpacity);return A?n.RGBA8._clamp(Math.round(255*A.rgba.a)):255}equals(D){return this.renderMinimap===D.renderMinimap&&this.size===D.size&&this.minimapHeightIsEditorHeight===D.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===D.scrollBeyondLastLine&&this.showSlider===D.showSlider&&this.pixelRatio===D.pixelRatio&&this.typicalHalfwidthCharacterWidth===D.typicalHalfwidthCharacterWidth&&this.lineHeight===D.lineHeight&&this.minimapLeft===D.minimapLeft&&this.minimapWidth===D.minimapWidth&&this.minimapHeight===D.minimapHeight&&this.canvasInnerWidth===D.canvasInnerWidth&&this.canvasInnerHeight===D.canvasInnerHeight&&this.canvasOuterWidth===D.canvasOuterWidth&&this.canvasOuterHeight===D.canvasOuterHeight&&this.isSampling===D.isSampling&&this.editorHeight===D.editorHeight&&this.fontScale===D.fontScale&&this.minimapLineHeight===D.minimapLineHeight&&this.minimapCharWidth===D.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(D.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(D.backgroundColor)&&this.foregroundAlpha===D.foregroundAlpha}}class C{constructor(D,A,P,F,W,M,z,ee){this.scrollTop=D,this.scrollHeight=A,this.sliderNeeded=P,this._computedSliderRatio=F,this.sliderTop=W,this.sliderHeight=M,this.startLineNumber=z,this.endLineNumber=ee}getDesiredScrollTopFromDelta(D){return Math.round(this.scrollTop+D/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(D){return Math.round((D-this.sliderHeight/2)/this._computedSliderRatio)}static create(D,A,P,F,W,M,z,ee,ie,Y,X){const J=D.pixelRatio,oe=D.minimapLineHeight,G=Math.floor(D.canvasInnerHeight/oe),x=D.lineHeight;if(D.minimapHeightIsEditorHeight){const q=ee*D.lineHeight+(D.scrollBeyondLastLine?W-D.lineHeight:0),Z=Math.max(1,Math.floor(W*W/q)),j=Math.max(0,D.minimapHeight-Z),$=j/(Y-W),H=ie*$,te=j>0,ne=Math.floor(D.canvasInnerHeight/D.minimapLineHeight);return new C(ie,Y,te,$,H,Z,1,Math.min(z,ne))}let V;if(M&&P!==z){const q=P-A+1;V=Math.floor(q*oe/J)}else{const q=W/x;V=Math.floor(q*oe/J)}let K;D.scrollBeyondLastLine?K=(z-1)*oe/J:K=Math.max(0,z*oe/J-V),K=Math.min(D.minimapHeight-V,K);const le=K/(Y-W),ae=ie*le;let Q=0;if(D.scrollBeyondLastLine&&(Q=W/x-1),G>=z+Q){const q=1,Z=z,j=K>0;return new C(ie,Y,j,le,ae,V,q,Z)}else{let q=Math.max(1,Math.floor(A-ae*J/oe));X&&X.scrollHeight===Y&&(X.scrollTop>ie&&(q=Math.min(q,X.startLineNumber)),X.scrollTop<ie&&(q=Math.max(q,X.startLineNumber)));const Z=Math.min(z,q+G-1),j=(ie-F)/x,$=(A-q+j)*oe/J;return new C(ie,Y,!0,le,$,V,q,Z)}}}class S{constructor(D){this.dy=D}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}S.INVALID=new S(-1);class y{constructor(D,A,P){this.renderedLayout=D,this._imageData=A,this._renderedLines=new v.RenderedLinesCollection(()=>S.INVALID),this._renderedLines._set(D.startLineNumber,P)}linesEquals(D){if(!this.scrollEquals(D))return!1;const P=this._renderedLines._get().lines;for(let F=0,W=P.length;F<W;F++)if(P[F].dy===-1)return!1;return!0}scrollEquals(D){return this.renderedLayout.startLineNumber===D.startLineNumber&&this.renderedLayout.endLineNumber===D.endLineNumber}_get(){const D=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:D.rendLineNumberStart,lines:D.lines}}onLinesChanged(D,A){return this._renderedLines.onLinesChanged(D,A)}onLinesDeleted(D,A){this._renderedLines.onLinesDeleted(D,A)}onLinesInserted(D,A){this._renderedLines.onLinesInserted(D,A)}onTokensChanged(D){return this._renderedLines.onTokensChanged(D)}}class w{constructor(D,A,P,F){this._backgroundFillData=w._createBackgroundFillData(A,P,F),this._buffers=[D.createImageData(A,P),D.createImageData(A,P)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const D=this._buffers[this._lastUsedBuffer];return D.data.set(this._backgroundFillData),D}static _createBackgroundFillData(D,A,P){const F=P.r,W=P.g,M=P.b,z=P.a,ee=new Uint8ClampedArray(D*A*4);let ie=0;for(let Y=0;Y<A;Y++)for(let X=0;X<D;X++)ee[ie]=F,ee[ie+1]=W,ee[ie+2]=M,ee[ie+3]=z,ie+=4;return ee}}class T{constructor(D,A){this.samplingRatio=D,this.minimapLines=A}static compute(D,A,P){if(D.renderMinimap===0||!D.isSampling)return[null,[]];const F=D.pixelRatio,W=D.lineHeight,M=D.scrollBeyondLastLine,{minimapLineCount:z}=h.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:A,scrollBeyondLastLine:M,height:D.editorHeight,lineHeight:W,pixelRatio:F}),ee=A/z,ie=ee/2;if(!P||P.minimapLines.length===0){const ae=[];if(ae[0]=1,z>1){for(let Q=0,q=z-1;Q<q;Q++)ae[Q]=Math.round(Q*ee+ie);ae[z-1]=A}return[new T(ee,ae),[]]}const Y=P.minimapLines,X=Y.length,J=[];let oe=0,G=0,x=1;const V=10;let K=[],le=null;for(let ae=0;ae<z;ae++){const Q=Math.max(x,Math.round(ae*ee)),q=Math.max(Q,Math.round((ae+1)*ee));for(;oe<X&&Y[oe]<Q;){if(K.length<V){const j=oe+1+G;le&&le.type==="deleted"&&le._oldIndex===oe-1?le.deleteToLineNumber++:(le={type:"deleted",_oldIndex:oe,deleteFromLineNumber:j,deleteToLineNumber:j},K.push(le)),G--}oe++}let Z;if(oe<X&&Y[oe]<=q)Z=Y[oe],oe++;else if(ae===0?Z=1:ae+1===z?Z=A:Z=Math.round(ae*ee+ie),K.length<V){const j=oe+1+G;le&&le.type==="inserted"&&le._i===ae-1?le.insertToLineNumber++:(le={type:"inserted",_i:ae,insertFromLineNumber:j,insertToLineNumber:j},K.push(le)),G++}J[ae]=Z,x=Z}if(K.length<V)for(;oe<X;){const ae=oe+1+G;le&&le.type==="deleted"&&le._oldIndex===oe-1?le.deleteToLineNumber++:(le={type:"deleted",_oldIndex:oe,deleteFromLineNumber:ae,deleteToLineNumber:ae},K.push(le)),G--,oe++}else K=[{type:"flush"}];return[new T(ee,J),K]}modelLineToMinimapLine(D){return Math.min(this.minimapLines.length,Math.max(1,Math.round(D/this.samplingRatio)))}modelLineRangeToMinimapLineRange(D,A){let P=this.modelLineToMinimapLine(D)-1;for(;P>0&&this.minimapLines[P-1]>=D;)P--;let F=this.modelLineToMinimapLine(A)-1;for(;F+1<this.minimapLines.length&&this.minimapLines[F+1]<=A;)F++;if(P===F){const W=this.minimapLines[P];if(W<D||W>A)return null}return[P+1,F+1]}decorationLineRangeToMinimapLineRange(D,A){let P=this.modelLineToMinimapLine(D),F=this.modelLineToMinimapLine(A);return D!==A&&F===P&&(F===this.minimapLines.length?P>1&&P--:F++),[P,F]}onLinesDeleted(D){const A=D.toLineNumber-D.fromLineNumber+1;let P=this.minimapLines.length,F=0;for(let W=this.minimapLines.length-1;W>=0&&!(this.minimapLines[W]<D.fromLineNumber);W--)this.minimapLines[W]<=D.toLineNumber?(this.minimapLines[W]=Math.max(1,D.fromLineNumber-1),P=Math.min(P,W),F=Math.max(F,W)):this.minimapLines[W]-=A;return[P,F]}onLinesInserted(D){const A=D.toLineNumber-D.fromLineNumber+1;for(let P=this.minimapLines.length-1;P>=0&&!(this.minimapLines[P]<D.fromLineNumber);P--)this.minimapLines[P]+=A}}class N extends u.ViewPart{constructor(D){super(D);this.tokensColorTracker=t.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new p(this._context.configuration,this._context.theme,this.tokensColorTracker);const[A]=T.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=A,this._shouldCheckSampling=!1,this._actual=new R(D.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const D=new p(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(D)?!1:(this.options=D,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(D){return this._onOptionsMaybeChanged()}onCursorStateChanged(D){return this._selections=D.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(D){return D.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(D){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(D){if(this._samplingState){const A=this._samplingState.modelLineRangeToMinimapLineRange(D.fromLineNumber,D.fromLineNumber+D.count-1);return A?this._actual.onLinesChanged(A[0],A[1]-A[0]+1):!1}else return this._actual.onLinesChanged(D.fromLineNumber,D.count)}onLinesDeleted(D){if(this._samplingState){const[A,P]=this._samplingState.onLinesDeleted(D);return A<=P&&this._actual.onLinesChanged(A+1,P-A+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(D.fromLineNumber,D.toLineNumber)}onLinesInserted(D){return this._samplingState?(this._samplingState.onLinesInserted(D),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(D.fromLineNumber,D.toLineNumber)}onScrollChanged(D){return this._actual.onScrollChanged()}onThemeChanged(D){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(D){if(this._samplingState){const A=[];for(const P of D.ranges){const F=this._samplingState.modelLineRangeToMinimapLineRange(P.fromLineNumber,P.toLineNumber);F&&A.push({fromLineNumber:F[0],toLineNumber:F[1]})}return A.length?this._actual.onTokensChanged(A):!1}else return this._actual.onTokensChanged(D.ranges)}onTokensColorsChanged(D){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(D){return this._actual.onZonesChanged()}prepareRender(D){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(D){let A=D.visibleRange.startLineNumber,P=D.visibleRange.endLineNumber;this._samplingState&&(A=this._samplingState.modelLineToMinimapLine(A),P=this._samplingState.modelLineToMinimapLine(P));const F={viewportContainsWhitespaceGaps:D.viewportData.whitespaceViewportData.length>0,scrollWidth:D.scrollWidth,scrollHeight:D.scrollHeight,viewportStartLineNumber:A,viewportEndLineNumber:P,viewportStartLineNumberVerticalOffset:D.getVerticalOffsetForLineNumber(A),scrollTop:D.scrollTop,scrollLeft:D.scrollLeft,viewportWidth:D.viewportWidth,viewportHeight:D.viewportHeight};this._actual.render(F)}_recreateLineSampling(){this._minimapSelections=null;const D=Boolean(this._samplingState),[A,P]=T.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=A,D&&this._samplingState)for(const F of P)switch(F.type){case"deleted":this._actual.onLinesDeleted(F.deleteFromLineNumber,F.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(F.insertFromLineNumber,F.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(D){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[D-1]):this._context.viewModel.getLineContent(D)}getLineMaxColumn(D){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[D-1]):this._context.viewModel.getLineMaxColumn(D)}getMinimapLinesRenderingData(D,A,P){if(this._samplingState){const F=[];for(let W=0,M=A-D+1;W<M;W++)P[W]?F[W]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[D+W-1]):F[W]=null;return F}return this._context.viewModel.getMinimapLinesRenderingData(D,A,P).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const D of this._selections){const[A,P]=this._samplingState.decorationLineRangeToMinimapLineRange(D.startLineNumber,D.endLineNumber);this._minimapSelections.push(new c.Selection(A,D.startColumn,P,D.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(D,A){let P;if(this._samplingState){const W=this._samplingState.minimapLines[D-1],M=this._samplingState.minimapLines[A-1];P=new i.Range(W,1,M,this._context.viewModel.getLineMaxColumn(M))}else P=new i.Range(D,1,A,this._context.viewModel.getLineMaxColumn(A));const F=this._context.viewModel.getDecorationsInViewport(P);if(this._samplingState){const W=[];for(const M of F){if(!M.options.minimap)continue;const z=M.range,ee=this._samplingState.modelLineToMinimapLine(z.startLineNumber),ie=this._samplingState.modelLineToMinimapLine(z.endLineNumber);W.push(new o.ViewModelDecoration(new i.Range(ee,z.startColumn,ie,z.endColumn),M.options))}return W}return F}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(D){this._samplingState&&(D=this._samplingState.minimapLines[D-1]),this._context.viewModel.revealRange("mouse",!1,new i.Range(D,1,D,1),1,0)}setScrollTop(D){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:D},1)}}e.Minimap=N;class R extends I.Disposable{constructor(D,A){super();this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=D,this._model=A,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(d.minimapSelection),this._domNode=(0,m.createFastDomNode)(document.createElement("div")),u.PartFingerprints.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,m.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,m.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,m.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,m.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,m.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=E.addStandardDisposableListener(this._domNode.domNode,E.EventType.POINTER_DOWN,P=>{if(P.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(P.button===0&&this._lastRenderData){const ie=E.getDomNodePagePosition(this._slider.domNode),Y=ie.top+ie.height/2;this._startSliderDragging(P,Y,this._lastRenderData.renderedLayout)}return}const W=this._model.options.minimapLineHeight,M=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*P.offsetY;let ee=Math.floor(M/W)+this._lastRenderData.renderedLayout.startLineNumber;ee=Math.min(ee,this._model.getLineCount()),this._model.revealLineNumber(ee)}),this._sliderPointerMoveMonitor=new k.GlobalPointerMoveMonitor,this._sliderPointerDownListener=E.addStandardDisposableListener(this._slider.domNode,E.EventType.POINTER_DOWN,P=>{P.preventDefault(),P.stopPropagation(),P.button===0&&this._lastRenderData&&this._startSliderDragging(P,P.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=s.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=E.addDisposableListener(this._domNode.domNode,s.EventType.Start,P=>{P.preventDefault(),P.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(P))},{passive:!1}),this._sliderTouchMoveListener=E.addDisposableListener(this._domNode.domNode,s.EventType.Change,P=>{P.preventDefault(),P.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(P)},{passive:!1}),this._sliderTouchEndListener=E.addStandardDisposableListener(this._domNode.domNode,s.EventType.End,P=>{P.preventDefault(),P.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(D,A,P){if(!D.target||!(D.target instanceof Element))return;const F=D.pageX;this._slider.toggleClassName("active",!0);const W=(M,z)=>{const ee=Math.abs(z-F);if(L.isWindows&&ee>g){this._model.setScrollTop(P.scrollTop);return}const ie=M-A;this._model.setScrollTop(P.getDesiredScrollTopFromDelta(ie))};D.pageY!==A&&W(D.pageY,F),this._sliderPointerMoveMonitor.startMonitoring(D.target,D.pointerId,D.buttons,k.standardPointerMoveMerger,M=>W(M.pageY,M.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(D){const A=this._domNode.domNode.getBoundingClientRect().top,P=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(D.pageY-A);this._model.setScrollTop(P)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new w(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(D,A){return this._lastRenderData?this._lastRenderData.onLinesChanged(D,A):!1}onLinesDeleted(D,A){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(D,A),!0}onLinesInserted(D,A){return this._lastRenderData&&this._lastRenderData.onLinesInserted(D,A),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(d.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(D){return this._lastRenderData?this._lastRenderData.onTokensChanged(D):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(D){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}D.scrollLeft+D.viewportWidth>=D.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const P=C.create(this._model.options,D.viewportStartLineNumber,D.viewportEndLineNumber,D.viewportStartLineNumberVerticalOffset,D.viewportHeight,D.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),D.scrollTop,D.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(P.sliderNeeded?"block":"none"),this._slider.setTop(P.sliderTop),this._slider.setHeight(P.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(P.sliderHeight),this.renderDecorations(P),this._lastRenderData=this.renderLines(P)}renderDecorations(D){if(this._renderDecorations){this._renderDecorations=!1;const A=this._model.getSelections();A.sort(i.Range.compareRangesUsingStarts);const P=this._model.getMinimapDecorationsInViewport(D.startLineNumber,D.endLineNumber);P.sort((J,oe)=>(J.options.zIndex||0)-(oe.options.zIndex||0));const{canvasInnerWidth:F,canvasInnerHeight:W}=this._model.options,M=this._model.options.minimapLineHeight,z=this._model.options.minimapCharWidth,ee=this._model.getOptions().tabSize,ie=this._decorationsCanvas.domNode.getContext("2d");ie.clearRect(0,0,F,W);const Y=new B(D.startLineNumber,D.endLineNumber,!1);this._renderSelectionLineHighlights(ie,A,Y,D,M),this._renderDecorationsLineHighlights(ie,P,Y,D,M);const X=new B(D.startLineNumber,D.endLineNumber,null);this._renderSelectionsHighlights(ie,A,X,D,M,ee,z,F),this._renderDecorationsHighlights(ie,P,X,D,M,ee,z,F)}}_renderSelectionLineHighlights(D,A,P,F,W){if(!this._selectionColor||this._selectionColor.isTransparent())return;D.fillStyle=this._selectionColor.transparent(.5).toString();let M=0,z=0;for(const ee of A){const ie=Math.max(F.startLineNumber,ee.startLineNumber),Y=Math.min(F.endLineNumber,ee.endLineNumber);if(ie>Y)continue;for(let oe=ie;oe<=Y;oe++)P.set(oe,!0);const X=(ie-F.startLineNumber)*W,J=(Y-F.startLineNumber)*W+W;z>=X||(z>M&&D.fillRect(h.MINIMAP_GUTTER_WIDTH,M,D.canvas.width,z-M),M=X),z=J}z>M&&D.fillRect(h.MINIMAP_GUTTER_WIDTH,M,D.canvas.width,z-M)}_renderDecorationsLineHighlights(D,A,P,F,W){const M=new Map;for(let z=A.length-1;z>=0;z--){const ee=A[z],ie=ee.options.minimap;if(!ie||ie.position!==l.MinimapPosition.Inline)continue;const Y=Math.max(F.startLineNumber,ee.range.startLineNumber),X=Math.min(F.endLineNumber,ee.range.endLineNumber);if(Y>X)continue;const J=ie.getColor(this._theme.value);if(!J||J.isTransparent())continue;let oe=M.get(J.toString());oe||(oe=J.transparent(.5).toString(),M.set(J.toString(),oe)),D.fillStyle=oe;for(let G=Y;G<=X;G++){if(P.has(G))continue;P.set(G,!0);const x=(Y-F.startLineNumber)*W;D.fillRect(h.MINIMAP_GUTTER_WIDTH,x,D.canvas.width,W)}}}_renderSelectionsHighlights(D,A,P,F,W,M,z,ee){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const ie of A){const Y=Math.max(F.startLineNumber,ie.startLineNumber),X=Math.min(F.endLineNumber,ie.endLineNumber);if(!(Y>X))for(let J=Y;J<=X;J++)this.renderDecorationOnLine(D,P,ie,this._selectionColor,F,J,W,W,M,z,ee)}}_renderDecorationsHighlights(D,A,P,F,W,M,z,ee){for(const ie of A){const Y=ie.options.minimap;if(!Y)continue;const X=Math.max(F.startLineNumber,ie.range.startLineNumber),J=Math.min(F.endLineNumber,ie.range.endLineNumber);if(X>J)continue;const oe=Y.getColor(this._theme.value);if(!(!oe||oe.isTransparent()))for(let G=X;G<=J;G++)switch(Y.position){case l.MinimapPosition.Inline:this.renderDecorationOnLine(D,P,ie.range,oe,F,G,W,W,M,z,ee);continue;case l.MinimapPosition.Gutter:{const x=(G-F.startLineNumber)*W,V=2;this.renderDecoration(D,oe,V,x,b,W);continue}}}}renderDecorationOnLine(D,A,P,F,W,M,z,ee,ie,Y,X){const J=(M-W.startLineNumber)*ee;if(J+z<0||J>this._model.options.canvasInnerHeight)return;const{startLineNumber:oe,endLineNumber:G}=P,x=oe===M?P.startColumn:1,V=G===M?P.endColumn:this._model.getLineMaxColumn(M),K=this.getXOffsetForPosition(A,M,x,ie,Y,X),le=this.getXOffsetForPosition(A,M,V,ie,Y,X);this.renderDecoration(D,F,K,J,le-K,z)}getXOffsetForPosition(D,A,P,F,W,M){if(P===1)return h.MINIMAP_GUTTER_WIDTH;if((P-1)*W>=M)return M;let ee=D.get(A);if(!ee){const ie=this._model.getLineContent(A);ee=[h.MINIMAP_GUTTER_WIDTH];let Y=h.MINIMAP_GUTTER_WIDTH;for(let X=1;X<ie.length+1;X++){const J=ie.charCodeAt(X-1),oe=J===9?F*W:_.isFullWidthCharacter(J)?2*W:W,G=Y+oe;if(G>=M){ee[X]=M;break}ee[X]=G,Y=G}D.set(A,ee)}return P-1<ee.length?ee[P-1]:M}renderDecoration(D,A,P,F,W,M){D.fillStyle=A&&A.toString()||"",D.fillRect(P,F,W,M)}renderLines(D){const A=D.startLineNumber,P=D.endLineNumber,F=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(D)){const ve=this._lastRenderData._get();return new y(D,ve.imageData,ve.lines)}const W=this._getBuffer();if(!W)return null;const[M,z,ee]=R._renderUntouchedLines(W,A,P,F,this._lastRenderData),ie=this._model.getMinimapLinesRenderingData(A,P,ee),Y=this._model.getOptions().tabSize,X=this._model.options.defaultBackgroundColor,J=this._model.options.backgroundColor,oe=this._model.options.foregroundAlpha,G=this._model.tokensColorTracker,x=G.backgroundIsLight(),V=this._model.options.renderMinimap,K=this._model.options.charRenderer(),le=this._model.options.fontScale,ae=this._model.options.minimapCharWidth,q=(V===1?2:2+1)*le,Z=F>q?Math.floor((F-q)/2):0,j=J.a/255,$=new n.RGBA8(Math.round((J.r-X.r)*j+X.r),Math.round((J.g-X.g)*j+X.g),Math.round((J.b-X.b)*j+X.b),255);let H=0;const te=[];for(let ve=0,ue=P-A+1;ve<ue;ve++)ee[ve]&&R._renderLine(W,$,J.a,x,V,ae,G,oe,K,H,Z,Y,ie[ve],le,F),te[ve]=new S(H),H+=F;const ne=M===-1?0:M,he=(z===-1?W.height:z)-ne;return this._canvas.domNode.getContext("2d").putImageData(W,0,0,0,ne,W.width,he),new y(D,W,te)}static _renderUntouchedLines(D,A,P,F,W){const M=[];if(!W){for(let $=0,H=P-A+1;$<H;$++)M[$]=!0;return[-1,-1,M]}const z=W._get(),ee=z.imageData.data,ie=z.rendLineNumberStart,Y=z.lines,X=Y.length,J=D.width,oe=D.data,G=(P-A+1)*F*J*4;let x=-1,V=-1,K=-1,le=-1,ae=-1,Q=-1,q=0;for(let $=A;$<=P;$++){const H=$-A,te=$-ie,ne=te>=0&&te<X?Y[te].dy:-1;if(ne===-1){M[H]=!0,q+=F;continue}const de=ne*J*4,he=(ne+F)*J*4,pe=q*J*4,ve=(q+F)*J*4;le===de&&Q===pe?(le=he,Q=ve):(K!==-1&&(oe.set(ee.subarray(K,le),ae),x===-1&&K===0&&K===ae&&(x=le),V===-1&&le===G&&K===ae&&(V=K)),K=de,le=he,ae=pe,Q=ve),M[H]=!1,q+=F}K!==-1&&(oe.set(ee.subarray(K,le),ae),x===-1&&K===0&&K===ae&&(x=le),V===-1&&le===G&&K===ae&&(V=K));const Z=x===-1?-1:x/(J*4),j=V===-1?-1:V/(J*4);return[Z,j,M]}static _renderLine(D,A,P,F,W,M,z,ee,ie,Y,X,J,oe,G,x){const V=oe.content,K=oe.tokens,le=D.width-M,ae=x===1;let Q=h.MINIMAP_GUTTER_WIDTH,q=0,Z=0;for(let j=0,$=K.getCount();j<$;j++){const H=K.getEndOffset(j),te=K.getForeground(j),ne=z.getColor(te);for(;q<H;q++){if(Q>le)return;const de=V.charCodeAt(q);if(de===9){const he=J-(q+Z)%J;Z+=he-1,Q+=he*M}else if(de===32)Q+=M;else{const he=_.isFullWidthCharacter(de)?2:1;for(let pe=0;pe<he;pe++)if(W===2?ie.blockRenderChar(D,Q,Y+X,ne,ee,A,P,ae):ie.renderChar(D,Q,Y+X,de,ne,ee,A,P,G,F,ae),Q+=M,Q>le)return}}}}}class B{constructor(D,A,P){this._startLineNumber=D,this._endLineNumber=A,this._defaultValue=P,this._values=[];for(let F=0,W=this._endLineNumber-this._startLineNumber+1;F<W;F++)this._values[F]=P}has(D){return this.get(D)!==this._defaultValue}set(D,A){D<this._startLineNumber||D>this._endLineNumber||(this._values[D-this._startLineNumber]=A)}get(D){return D<this._startLineNumber||D>this._endLineNumber?this._defaultValue:this._values[D-this._startLineNumber]}}(0,r.registerThemingParticipant)((O,D)=>{const A=O.getColor(d.minimapSliderBackground);A&&D.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${A}; }`);const P=O.getColor(d.minimapSliderHoverBackground);P&&D.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${P}; }`);const F=O.getColor(d.minimapSliderActiveBackground);F&&D.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${F}; }`);const W=O.getColor(d.scrollbarShadow);W&&D.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${W} -6px 0 6px -6px inset; }`)})}),define(re[656],se([1,0,32,52,23,14,373]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class L extends m.ViewPart{constructor(v){super(v);this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const h=this._context.configuration.options.get(92);this._useShadows=h.useShadows,this._domNode=(0,E.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const v=this._useShadows&&this._scrollTop>0;return this._shouldShow!==v?(this._shouldShow=v,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const u=this._context.configuration.options.get(131);u.minimap.renderMinimap===0||u.minimap.minimapWidth>0&&u.minimap.minimapLeft===0?this._width=u.width:this._width=u.width-u.minimap.minimapWidth-u.verticalScrollbarWidth}onConfigurationChanged(v){const h=this._context.configuration.options.get(92);return this._useShadows=h.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(v){return this._scrollTop=v.scrollTop,this._updateShouldShow()}prepareRender(v){}render(v){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=L,(0,I.registerThemingParticipant)((_,v)=>{const u=_.getColor(k.scrollbarShadow);u&&v.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${u} 0 6px 6px -6px inset; }`)})}),define(re[657],se([1,0,106,23,14,374]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class I{constructor(n){this.left=n.left,this.width=n.width,this.startStyle=null,this.endStyle=null}}class L{constructor(n,t){this.lineNumber=n,this.ranges=t}}function _(i){return new I(i)}function v(i){return new L(i.lineNumber,i.ranges.map(_))}class u extends E.DynamicViewOverlay{constructor(n){super();this._previousFrameVisibleRangesWithStyle=[],this._context=n;const t=this._context.configuration.options;this._lineHeight=t.get(59),this._roundedSelection=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(44).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(n){const t=this._context.configuration.options;return this._lineHeight=t.get(59),this._roundedSelection=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(44).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(n){return this._selections=n.selections.slice(0),!0}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollTopChanged}onZonesChanged(n){return!0}_visibleRangesHaveGaps(n){for(let t=0,o=n.length;t<o;t++)if(n[t].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(n,t,o){const d=this._typicalHalfwidthCharacterWidth/4;let r=null,c=null;if(o&&o.length>0&&t.length>0){const s=t[0].lineNumber;if(s===n.startLineNumber)for(let l=0;!r&&l<o.length;l++)o[l].lineNumber===s&&(r=o[l].ranges[0]);const a=t[t.length-1].lineNumber;if(a===n.endLineNumber)for(let l=o.length-1;!c&&l>=0;l--)o[l].lineNumber===a&&(c=o[l].ranges[0]);r&&!r.startStyle&&(r=null),c&&!c.startStyle&&(c=null)}for(let s=0,a=t.length;s<a;s++){const l=t[s].ranges[0],f=l.left,g=l.left+l.width,b={top:0,bottom:0},p={top:0,bottom:0};if(s>0){const C=t[s-1].ranges[0].left,S=t[s-1].ranges[0].left+t[s-1].ranges[0].width;h(f-C)<d?b.top=2:f>C&&(b.top=1),h(g-S)<d?p.top=2:C<g&&g<S&&(p.top=1)}else r&&(b.top=r.startStyle.top,p.top=r.endStyle.top);if(s+1<a){const C=t[s+1].ranges[0].left,S=t[s+1].ranges[0].left+t[s+1].ranges[0].width;h(f-C)<d?b.bottom=2:C<f&&f<S&&(b.bottom=1),h(g-S)<d?p.bottom=2:g<S&&(p.bottom=1)}else c&&(b.bottom=c.startStyle.bottom,p.bottom=c.endStyle.bottom);l.startStyle=b,l.endStyle=p}}_getVisibleRangesWithStyle(n,t,o){const r=(t.linesVisibleRangesForRange(n,!0)||[]).map(v);return!this._visibleRangesHaveGaps(r)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,r,o),r}_createSelectionPiece(n,t,o,d,r){return'<div class="cslr '+o+'" style="top:'+n.toString()+"px;left:"+d.toString()+"px;width:"+r.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(n,t,o,d){if(d.length===0)return;const r=!!d[0].ranges[0].startStyle,c=this._lineHeight.toString(),s=(this._lineHeight-1).toString(),a=d[0].lineNumber,l=d[d.length-1].lineNumber;for(let f=0,g=d.length;f<g;f++){const b=d[f],p=b.lineNumber,C=p-t,S=o&&(p===l||p===a)?s:c,y=o&&p===a?1:0;let w="",T="";for(let N=0,R=b.ranges.length;N<R;N++){const B=b.ranges[N];if(r){const D=B.startStyle,A=B.endStyle;if(D.top===1||D.bottom===1){w+=this._createSelectionPiece(y,S,u.SELECTION_CLASS_NAME,B.left-u.ROUNDED_PIECE_WIDTH,u.ROUNDED_PIECE_WIDTH);let P=u.EDITOR_BACKGROUND_CLASS_NAME;D.top===1&&(P+=" "+u.SELECTION_TOP_RIGHT),D.bottom===1&&(P+=" "+u.SELECTION_BOTTOM_RIGHT),w+=this._createSelectionPiece(y,S,P,B.left-u.ROUNDED_PIECE_WIDTH,u.ROUNDED_PIECE_WIDTH)}if(A.top===1||A.bottom===1){w+=this._createSelectionPiece(y,S,u.SELECTION_CLASS_NAME,B.left+B.width,u.ROUNDED_PIECE_WIDTH);let P=u.EDITOR_BACKGROUND_CLASS_NAME;A.top===1&&(P+=" "+u.SELECTION_TOP_LEFT),A.bottom===1&&(P+=" "+u.SELECTION_BOTTOM_LEFT),w+=this._createSelectionPiece(y,S,P,B.left+B.width,u.ROUNDED_PIECE_WIDTH)}}let O=u.SELECTION_CLASS_NAME;if(r){const D=B.startStyle,A=B.endStyle;D.top===0&&(O+=" "+u.SELECTION_TOP_LEFT),D.bottom===0&&(O+=" "+u.SELECTION_BOTTOM_LEFT),A.top===0&&(O+=" "+u.SELECTION_TOP_RIGHT),A.bottom===0&&(O+=" "+u.SELECTION_BOTTOM_RIGHT)}T+=this._createSelectionPiece(y,S,O,B.left,B.width)}n[C][0]+=w,n[C][1]+=T}}prepareRender(n){const t=[],o=n.visibleRange.startLineNumber,d=n.visibleRange.endLineNumber;for(let c=o;c<=d;c++){const s=c-o;t[s]=["",""]}const r=[];for(let c=0,s=this._selections.length;c<s;c++){const a=this._selections[c];if(a.isEmpty()){r[c]=null;continue}const l=this._getVisibleRangesWithStyle(a,n,this._previousFrameVisibleRangesWithStyle[c]);r[c]=l,this._actualRenderOneSelection(t,o,this._selections.length>1,l)}this._previousFrameVisibleRangesWithStyle=r,this._renderResult=t.map(([c,s])=>c+s)}render(n,t){if(!this._renderResult)return"";const o=t-n;return o<0||o>=this._renderResult.length?"":this._renderResult[o]}}e.SelectionsOverlay=u,u.SELECTION_CLASS_NAME="selected-text",u.SELECTION_TOP_LEFT="top-left-radius",u.SELECTION_BOTTOM_LEFT="bottom-left-radius",u.SELECTION_TOP_RIGHT="top-right-radius",u.SELECTION_BOTTOM_RIGHT="bottom-right-radius",u.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",u.ROUNDED_PIECE_WIDTH=10,(0,k.registerThemingParticipant)((i,n)=>{const t=i.getColor(m.editorSelectionBackground);t&&n.addRule(`.monaco-editor .focused .selected-text { background-color: ${t}; }`);const o=i.getColor(m.editorInactiveSelection);o&&n.addRule(`.monaco-editor .selected-text { background-color: ${o}; }`);const d=i.getColor(m.editorSelectionForeground);d&&!d.isTransparent()&&n.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${d}; }`)});function h(i){return i<0?-i:i}}),define(re[54],se([1,0,524,30,23,14,58]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBackground=e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorActiveLineNumber=e.editorLineNumbers=e.editorActiveIndentGuides=e.editorIndentGuides=e.editorWhitespaces=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,k.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},E.localize(0,null)),e.editorLineHighlightBorder=(0,k.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:k.contrastBorder},E.localize(1,null)),e.editorRangeHighlight=(0,k.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},E.localize(2,null),!0),e.editorRangeHighlightBorder=(0,k.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:k.activeContrastBorder,hcLight:k.activeContrastBorder},E.localize(3,null),!0),e.editorSymbolHighlight=(0,k.registerColor)("editor.symbolHighlightBackground",{dark:k.editorFindMatchHighlight,light:k.editorFindMatchHighlight,hcDark:null,hcLight:null},E.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,k.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:k.activeContrastBorder,hcLight:k.activeContrastBorder},E.localize(5,null),!0),e.editorCursorForeground=(0,k.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:m.Color.black,hcDark:m.Color.white,hcLight:"#0F4A85"},E.localize(6,null)),e.editorCursorBackground=(0,k.registerColor)("editorCursor.background",null,E.localize(7,null)),e.editorWhitespaces=(0,k.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},E.localize(8,null)),e.editorIndentGuides=(0,k.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},E.localize(9,null)),e.editorActiveIndentGuides=(0,k.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},E.localize(10,null)),e.editorLineNumbers=(0,k.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:m.Color.white,hcLight:"#292929"},E.localize(11,null));const _=(0,k.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:k.activeContrastBorder,hcLight:k.activeContrastBorder},E.localize(12,null),!1,E.localize(13,null));e.editorActiveLineNumber=(0,k.registerColor)("editorLineNumber.activeForeground",{dark:_,light:_,hcDark:_,hcLight:_},E.localize(14,null)),e.editorRuler=(0,k.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:m.Color.lightgrey,hcDark:m.Color.white,hcLight:"#292929"},E.localize(15,null)),e.editorCodeLensForeground=(0,k.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},E.localize(16,null)),e.editorBracketMatchBackground=(0,k.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},E.localize(17,null)),e.editorBracketMatchBorder=(0,k.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:k.contrastBorder,hcLight:k.contrastBorder},E.localize(18,null)),e.editorOverviewRulerBorder=(0,k.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},E.localize(19,null)),e.editorOverviewRulerBackground=(0,k.registerColor)("editorOverviewRuler.background",null,E.localize(20,null)),e.editorGutter=(0,k.registerColor)("editorGutter.background",{dark:k.editorBackground,light:k.editorBackground,hcDark:k.editorBackground,hcLight:k.editorBackground},E.localize(21,null)),e.editorUnnecessaryCodeBorder=(0,k.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:m.Color.fromHex("#fff").transparent(.8),hcLight:k.contrastBorder},E.localize(22,null)),e.editorUnnecessaryCodeOpacity=(0,k.registerColor)("editorUnnecessaryCode.opacity",{dark:m.Color.fromHex("#000a"),light:m.Color.fromHex("#0007"),hcDark:null,hcLight:null},E.localize(23,null)),e.ghostTextBorder=(0,k.registerColor)("editorGhostText.border",{dark:null,light:null,hcDark:m.Color.fromHex("#fff").transparent(.8),hcLight:m.Color.fromHex("#292929").transparent(.8)},E.localize(24,null)),e.ghostTextForeground=(0,k.registerColor)("editorGhostText.foreground",{dark:m.Color.fromHex("#ffffff56"),light:m.Color.fromHex("#0007"),hcDark:null,hcLight:null},E.localize(25,null)),e.ghostTextBackground=(0,k.registerColor)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},E.localize(26,null));const v=new m.Color(new m.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,k.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:v,light:v,hcDark:v,hcLight:v},E.localize(27,null),!0),e.overviewRulerError=(0,k.registerColor)("editorOverviewRuler.errorForeground",{dark:new m.Color(new m.RGBA(255,18,18,.7)),light:new m.Color(new m.RGBA(255,18,18,.7)),hcDark:new m.Color(new m.RGBA(255,50,50,1)),hcLight:"#B5200D"},E.localize(28,null)),e.overviewRulerWarning=(0,k.registerColor)("editorOverviewRuler.warningForeground",{dark:k.editorWarningForeground,light:k.editorWarningForeground,hcDark:k.editorWarningBorder,hcLight:k.editorWarningBorder},E.localize(29,null)),e.overviewRulerInfo=(0,k.registerColor)("editorOverviewRuler.infoForeground",{dark:k.editorInfoForeground,light:k.editorInfoForeground,hcDark:k.editorInfoBorder,hcLight:k.editorInfoBorder},E.localize(30,null)),e.editorBracketHighlightingForeground1=(0,k.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},E.localize(31,null)),e.editorBracketHighlightingForeground2=(0,k.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},E.localize(32,null)),e.editorBracketHighlightingForeground3=(0,k.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},E.localize(33,null)),e.editorBracketHighlightingForeground4=(0,k.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},E.localize(34,null)),e.editorBracketHighlightingForeground5=(0,k.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},E.localize(35,null)),e.editorBracketHighlightingForeground6=(0,k.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},E.localize(36,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,k.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new m.Color(new m.RGBA(255,18,18,.8)),light:new m.Color(new m.RGBA(255,18,18,.8)),hcDark:new m.Color(new m.RGBA(255,50,50,1)),hcLight:""},E.localize(37,null)),e.editorBracketPairGuideBackground1=(0,k.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},E.localize(38,null)),e.editorBracketPairGuideBackground2=(0,k.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},E.localize(39,null)),e.editorBracketPairGuideBackground3=(0,k.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},E.localize(40,null)),e.editorBracketPairGuideBackground4=(0,k.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},E.localize(41,null)),e.editorBracketPairGuideBackground5=(0,k.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},E.localize(42,null)),e.editorBracketPairGuideBackground6=(0,k.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},E.localize(43,null)),e.editorBracketPairGuideActiveBackground1=(0,k.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},E.localize(44,null)),e.editorBracketPairGuideActiveBackground2=(0,k.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},E.localize(45,null)),e.editorBracketPairGuideActiveBackground3=(0,k.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},E.localize(46,null)),e.editorBracketPairGuideActiveBackground4=(0,k.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},E.localize(47,null)),e.editorBracketPairGuideActiveBackground5=(0,k.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},E.localize(48,null)),e.editorBracketPairGuideActiveBackground6=(0,k.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},E.localize(49,null)),e.editorUnicodeHighlightBorder=(0,k.registerColor)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:""},E.localize(50,null)),e.editorUnicodeHighlightBackground=(0,k.registerColor)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:""},E.localize(51,null)),(0,I.registerThemingParticipant)((u,h)=>{const i=u.getColor(k.editorBackground);i&&h.addRule(`.monaco-editor, .monaco-editor-background { background-color: ${i}; }`);const n=u.getColor(e.editorLineHighlight),t=n&&!n.isTransparent()?n:i;t&&h.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${t}; }`);const o=u.getColor(k.editorForeground);o&&h.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${o}; }`);const d=u.getColor(e.editorGutter);d&&h.addRule(`.monaco-editor .margin { background-color: ${d}; }`);const r=u.getColor(e.editorRangeHighlight);r&&h.addRule(`.monaco-editor .rangeHighlight { background-color: ${r}; }`);const c=u.getColor(e.editorRangeHighlightBorder);c&&h.addRule(`.monaco-editor .rangeHighlight { border: 1px ${(0,L.isHighContrast)(u.type)?"dotted":"solid"} ${c}; }`);const s=u.getColor(e.editorSymbolHighlight);s&&h.addRule(`.monaco-editor .symbolHighlight { background-color: ${s}; }`);const a=u.getColor(e.editorSymbolHighlightBorder);a&&h.addRule(`.monaco-editor .symbolHighlight { border: 1px ${(0,L.isHighContrast)(u.type)?"dotted":"solid"} ${a}; }`);const l=u.getColor(e.editorWhitespaces);l&&(h.addRule(`.monaco-editor .mtkw { color: ${l} !important; }`),h.addRule(`.monaco-editor .mtkz { color: ${l} !important; }`))})}),define(re[658],se([1,0,106,54,18,14,24,58,362]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;class v extends E.DynamicViewOverlay{constructor(n){super();this._context=n;const t=this._context.configuration.options,o=t.get(131);this._lineHeight=t.get(59),this._renderLineHighlight=t.get(85),this._renderLineHighlightOnlyWhenFocus=t.get(86),this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new L.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let n=!1;const t=this._selections.map(d=>d.positionLineNumber);t.sort((d,r)=>d-r),k.equals(this._cursorLineNumbers,t)||(this._cursorLineNumbers=t,n=!0);const o=this._selections.every(d=>d.isEmpty());return this._selectionIsEmpty!==o&&(this._selectionIsEmpty=o,n=!0),n}onThemeChanged(n){return this._readFromSelections()}onConfigurationChanged(n){const t=this._context.configuration.options,o=t.get(131);return this._lineHeight=t.get(59),this._renderLineHighlight=t.get(85),this._renderLineHighlightOnlyWhenFocus=t.get(86),this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,!0}onCursorStateChanged(n){return this._selections=n.selections,this._readFromSelections()}onFlushed(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return n.scrollWidthChanged||n.scrollTopChanged}onZonesChanged(n){return!0}onFocusChanged(n){return this._renderLineHighlightOnlyWhenFocus?(this._focused=n.isFocused,!0):!1}prepareRender(n){if(!this._shouldRenderThis()){this._renderData=null;return}const t=this._renderOne(n),o=n.visibleRange.startLineNumber,d=n.visibleRange.endLineNumber,r=this._cursorLineNumbers.length;let c=0;const s=[];for(let a=o;a<=d;a++){const l=a-o;for(;c<r&&this._cursorLineNumbers[c]<a;)c++;c<r&&this._cursorLineNumbers[c]===a?s[l]=t:s[l]=""}this._renderData=s}render(n,t){if(!this._renderData)return"";const o=t-n;return o>=this._renderData.length?"":this._renderData[o]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.AbstractLineHighlightOverlay=v;class u extends v{_renderOne(n){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(n.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}e.CurrentLineHighlightOverlay=u;class h extends v{_renderOne(n){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}e.CurrentLineMarginHighlightOverlay=h,(0,I.registerThemingParticipant)((i,n)=>{const t=i.getColor(m.editorLineHighlight);if(t&&(n.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),n.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||i.defines(m.editorLineHighlightBorder)){const o=i.getColor(m.editorLineHighlightBorder);o&&(n.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${o}; }`),n.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${o}; }`),(0,_.isHighContrast)(i.type)&&(n.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),n.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}})}),define(re[659],se([1,0,106,54,14,11,18,19,254,188,365]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class h extends E.DynamicViewOverlay{constructor(t){super();this._context=t,this._primaryPosition=null;const o=this._context.configuration.options,d=o.get(132),r=o.get(44);this._lineHeight=o.get(59),this._spaceWidth=r.spaceWidth,this._maxIndentLeft=d.wrappingColumn===-1?-1:d.wrappingColumn*r.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const o=this._context.configuration.options,d=o.get(132),r=o.get(44);return this._lineHeight=o.get(59),this._spaceWidth=r.spaceWidth,this._maxIndentLeft=d.wrappingColumn===-1?-1:d.wrappingColumn*r.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(13),!0}onCursorStateChanged(t){var o;const r=t.selections[0].getPosition();return((o=this._primaryPosition)===null||o===void 0?void 0:o.equals(r))?!1:(this._primaryPosition=r,!0)}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}onLanguageConfigurationChanged(t){return!0}prepareRender(t){var o,d,r,c;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const s=t.visibleRange.startLineNumber,a=t.visibleRange.endLineNumber,l=t.scrollWidth,f=this._lineHeight,g=this._primaryPosition,b=this.getGuidesByLine(s,a,g),p=[];for(let C=s;C<=a;C++){const S=C-s,y=b[S];let w="";const T=(d=(o=t.visibleRangeForPosition(new I.Position(C,1)))===null||o===void 0?void 0:o.left)!==null&&d!==void 0?d:0;for(const N of y){const R=N.column===-1?T+(N.visibleColumn-1)*this._spaceWidth:t.visibleRangeForPosition(new I.Position(C,N.column)).left;if(R>l||this._maxIndentLeft>0&&R>this._maxIndentLeft)break;const B=N.horizontalLine?N.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",O=N.horizontalLine?((c=(r=t.visibleRangeForPosition(new I.Position(C,N.horizontalLine.endColumn)))===null||r===void 0?void 0:r.left)!==null&&c!==void 0?c:R+this._spaceWidth)-R:this._spaceWidth;w+=`<div class="core-guide ${N.className} ${B}" style="left:${R}px;height:${f}px;width:${O}px"></div>`}p[S]=w}this._renderResult=p}getGuidesByLine(t,o,d){const r=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(t,o,d,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?u.HorizontalGuidesState.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?u.HorizontalGuidesState.EnabledForActive:u.HorizontalGuidesState.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,c=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(t,o):null;let s=0,a=0,l=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&d){const b=this._context.viewModel.getActiveIndentGuide(d.lineNumber,t,o);s=b.startLineNumber,a=b.endLineNumber,l=b.indent}const{indentSize:f}=this._context.viewModel.model.getOptions(),g=[];for(let b=t;b<=o;b++){const p=new Array;g.push(p);const C=r?r[b-t]:[],S=new L.ArrayQueue(C),y=c?c[b-t]:[];for(let w=1;w<=y;w++){const T=(w-1)*f+1,N=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||C.length===0)&&s<=b&&b<=a&&w===l;p.push(...S.takeWhile(B=>B.visibleColumn<T)||[]);const R=S.peek();(!R||R.visibleColumn!==T||R.horizontalLine)&&p.push(new u.IndentGuide(T,-1,N?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}p.push(...S.takeWhile(w=>!0)||[])}return g}render(t,o){if(!this._renderResult)return"";const d=o-t;return d<0||d>=this._renderResult.length?"":this._renderResult[d]}}e.IndentGuidesOverlay=h;function i(n){if(!(n&&n.isTransparent()))return n}(0,k.registerThemingParticipant)((n,t)=>{const o=n.getColor(m.editorIndentGuides);o&&t.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${o} inset; }`);const d=n.getColor(m.editorActiveIndentGuides)||o;d&&t.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${d} inset; }`);const r=[{bracketColor:m.editorBracketHighlightingForeground1,guideColor:m.editorBracketPairGuideBackground1,guideColorActive:m.editorBracketPairGuideActiveBackground1},{bracketColor:m.editorBracketHighlightingForeground2,guideColor:m.editorBracketPairGuideBackground2,guideColorActive:m.editorBracketPairGuideActiveBackground2},{bracketColor:m.editorBracketHighlightingForeground3,guideColor:m.editorBracketPairGuideBackground3,guideColorActive:m.editorBracketPairGuideActiveBackground3},{bracketColor:m.editorBracketHighlightingForeground4,guideColor:m.editorBracketPairGuideBackground4,guideColorActive:m.editorBracketPairGuideActiveBackground4},{bracketColor:m.editorBracketHighlightingForeground5,guideColor:m.editorBracketPairGuideBackground5,guideColorActive:m.editorBracketPairGuideActiveBackground5},{bracketColor:m.editorBracketHighlightingForeground6,guideColor:m.editorBracketPairGuideBackground6,guideColorActive:m.editorBracketPairGuideActiveBackground6}],c=new v.BracketPairGuidesClassNames,s=r.map(a=>{var l,f;const g=n.getColor(a.bracketColor),b=n.getColor(a.guideColor),p=n.getColor(a.guideColorActive),C=i((l=i(b))!==null&&l!==void 0?l:g==null?void 0:g.transparent(.3)),S=i((f=i(p))!==null&&f!==void 0?f:g);if(!(!C||!S))return{guideColor:C,guideColorActive:S}}).filter(_.isDefined);if(s.length>0){for(let a=0;a<30;a++){const l=s[a%s.length];t.addRule(`.monaco-editor .${c.getInlineClassNameOfLevel(a).replace(/ /g,".")} { --guide-color: ${l.guideColor}; --guide-color-active: ${l.guideColorActive}; }`)}t.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),t.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),t.addRule(`.monaco-editor .vertical.${c.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),t.addRule(`.monaco-editor .horizontal-top.${c.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),t.addRule(`.monaco-editor .horizontal-bottom.${c.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}})}),define(re[292],se([1,0,17,106,11,54,14,366]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class _ extends m.DynamicViewOverlay{constructor(u){super();this._context=u,this._readConfig(),this._lastCursorModelPosition=new k.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const u=this._context.configuration.options;this._lineHeight=u.get(59);const h=u.get(60);this._renderLineNumbers=h.renderType,this._renderCustomLineNumbers=h.renderFn,this._renderFinalNewline=u.get(84);const i=u.get(131);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(u){return this._readConfig(),!0}onCursorStateChanged(u){const h=u.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(h);let i=!1;return this._activeLineNumber!==h.lineNumber&&(this._activeLineNumber=h.lineNumber,i=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(i=!0),i}onFlushed(u){return!0}onLinesChanged(u){return!0}onLinesDeleted(u){return!0}onLinesInserted(u){return!0}onScrollChanged(u){return u.scrollTopChanged}onZonesChanged(u){return!0}_getLineRenderLineNumber(u){const h=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new k.Position(u,1));if(h.column!==1)return"";const i=h.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(this._renderLineNumbers===2){const n=Math.abs(this._lastCursorModelPosition.lineNumber-i);return n===0?'<span class="relative-current-line-number">'+i+"</span>":String(n)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===i||i%10==0?String(i):"":String(i)}prepareRender(u){if(this._renderLineNumbers===0){this._renderResult=null;return}const h=E.isLinux?this._lineHeight%2==0?" lh-even":" lh-odd":"",i=u.visibleRange.startLineNumber,n=u.visibleRange.endLineNumber,t='<div class="'+_.CLASS_NAME+h+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',o=this._context.viewModel.getLineCount(),d=[];for(let r=i;r<=n;r++){const c=r-i;if(!this._renderFinalNewline&&r===o&&this._context.viewModel.getLineLength(r)===0){d[c]="";continue}const s=this._getLineRenderLineNumber(r);s?r===this._activeLineNumber?d[c]='<div class="active-line-number '+_.CLASS_NAME+h+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+s+"</div>":d[c]=t+s+"</div>":d[c]=""}this._renderResult=d}render(u,h){if(!this._renderResult)return"";const i=h-u;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}e.LineNumbersOverlay=_,_.CLASS_NAME="line-numbers",(0,L.registerThemingParticipant)((v,u)=>{const h=v.getColor(I.editorLineNumbers);h&&u.addRule(`.monaco-editor .line-numbers { color: ${h}; }`);const i=v.getColor(I.editorActiveLineNumber);i&&u.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${i}; }`)})}),define(re[660],se([1,0,510,34,32,17,8,67,181,240,52,292,258,33,125,11,3,24,144,27,30,361]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class f{constructor(S,y,w,T,N){this._context=S,this.modelLineNumber=y,this.distanceToModelLineStart=w,this.widthOfHiddenLineTextBefore=T,this.distanceToModelLineEnd=N,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(S){const y=new d.Position(this.modelLineNumber,this.distanceToModelLineStart+1),w=new d.Position(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(y),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(w),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=S.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=S.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(S){return this._previousPresentation||(S?this._previousPresentation=S:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const g=m.isFirefox;class b extends h.ViewPart{constructor(S,y,w){super(S);this._primaryCursorPosition=new d.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=y,this._visibleRangeProvider=w,this._scrollLeft=0,this._scrollTop=0;const T=this._context.configuration.options,N=T.get(131);this._setAccessibilityOptions(T),this._contentLeft=N.contentLeft,this._contentWidth=N.contentWidth,this._contentHeight=N.height,this._fontInfo=T.get(44),this._lineHeight=T.get(59),this._emptySelectionClipboard=T.get(32),this._copyWithSyntaxHighlighting=T.get(21),this._visibleTextArea=null,this._selections=[new c.Selection(1,1,1,1)],this._modelSelections=[new c.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,k.createFastDomNode)(document.createElement("textarea")),h.PartFingerprints.write(this.textArea,6),this.textArea.setClassName(`inputarea ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(T)),this.textArea.setAttribute("tabindex",String(T.get(112))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",E.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),T.get(30)&&T.get(81)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,k.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const R={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:D=>this._context.viewModel.getLineMaxColumn(D),getValueInRange:(D,A)=>this._context.viewModel.getValueInRange(D,A)},B={getDataToCopy:()=>{const D=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,I.isWindows),A=this._context.viewModel.model.getEOL(),P=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),F=Array.isArray(D)?D:null,W=Array.isArray(D)?D.join(A):D;let M,z=null;if(v.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&W.length<65536){const ee=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);ee&&(M=ee.html,z=ee.mode)}return{isFromEmptySelection:P,multicursorText:F,text:W,html:M,mode:z}},getScreenReaderContent:D=>{if(this._accessibilitySupport===1){if(I.isMacintosh){const A=this._selections[0];if(A.isEmpty()){const P=A.getStartPosition();let F=this._getWordBeforePosition(P);if(F.length===0&&(F=this._getCharacterBeforePosition(P)),F.length>0)return new u.TextAreaState(F,F.length,F.length,P,P)}}return u.TextAreaState.EMPTY}if(m.isAndroid){const A=this._selections[0];if(A.isEmpty()){const P=A.getStartPosition(),[F,W]=this._getAndroidWordAtPosition(P);if(F.length>0)return new u.TextAreaState(F,W,W,P,P)}return u.TextAreaState.EMPTY}return u.PagedScreenReaderStrategy.fromEditorSelection(D,R,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(D,A,P)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(D,A,P)},O=this._register(new v.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(new v.TextAreaInput(B,O,I.OS,m)),this._register(this._textAreaInput.onKeyDown(D=>{this._viewController.emitKeyDown(D)})),this._register(this._textAreaInput.onKeyUp(D=>{this._viewController.emitKeyUp(D)})),this._register(this._textAreaInput.onPaste(D=>{let A=!1,P=null,F=null;D.metadata&&(A=this._emptySelectionClipboard&&!!D.metadata.isFromEmptySelection,P=typeof D.metadata.multicursorText!="undefined"?D.metadata.multicursorText:null,F=D.metadata.mode),this._viewController.paste(D.text,A,P,F)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(D=>{D.replacePrevCharCnt||D.replaceNextCharCnt||D.positionDelta?(u._debugComposition&&console.log(` => compositionType: <<${D.text}>>, ${D.replacePrevCharCnt}, ${D.replaceNextCharCnt}, ${D.positionDelta}`),this._viewController.compositionType(D.text,D.replacePrevCharCnt,D.replaceNextCharCnt,D.positionDelta)):(u._debugComposition&&console.log(` => type: <<${D.text}>>`),this._viewController.type(D.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(D=>{this._viewController.setSelection(D)})),this._register(this._textAreaInput.onCompositionStart(D=>{const A=this.textArea.domNode,P=this._modelSelections[0],{distanceToModelLineStart:F,widthOfHiddenTextBefore:W}=(()=>{const z=A.value.substring(0,Math.min(A.selectionStart,A.selectionEnd)),ee=z.lastIndexOf(`
`),ie=z.substring(ee+1),Y=ie.lastIndexOf("	"),X=ie.length-Y-1,J=P.getStartPosition(),oe=Math.min(J.column-1,X),G=J.column-1-oe,x=ie.substring(0,ie.length-oe),V=p(x,this._fontInfo);return{distanceToModelLineStart:G,widthOfHiddenTextBefore:V}})(),{distanceToModelLineEnd:M}=(()=>{const z=A.value.substring(Math.max(A.selectionStart,A.selectionEnd)),ee=z.indexOf(`
`),ie=ee===-1?z:z.substring(0,ee),Y=ie.indexOf("	"),X=Y===-1?ie.length:ie.length-Y-1,J=P.getEndPosition(),oe=Math.min(this._context.viewModel.model.getLineMaxColumn(J.lineNumber)-J.column,X);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(J.lineNumber)-J.column-oe}})();this._context.viewModel.revealRange("keyboard",!0,r.Range.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new f(this._context,P.startLineNumber,F,W,M),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(D=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${s.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(S){const y='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',w=this._context.viewModel.getLineContent(S.lineNumber),T=(0,o.getMapForWordSeparators)(y);let N=!0,R=S.column,B=!0,O=S.column,D=0;for(;D<50&&(N||B);){if(N&&R<=1&&(N=!1),N){const A=w.charCodeAt(R-2);T.get(A)!==0?N=!1:R--}if(B&&O>w.length&&(B=!1),B){const A=w.charCodeAt(O-1);T.get(A)!==0?B=!1:O++}D++}return[w.substring(R-1,O-1),S.column-R]}_getWordBeforePosition(S){const y=this._context.viewModel.getLineContent(S.lineNumber),w=(0,o.getMapForWordSeparators)(this._context.configuration.options.get(117));let T=S.column,N=0;for(;T>1;){const R=y.charCodeAt(T-2);if(w.get(R)!==0||N>50)return y.substring(T-1,S.column-1);N++,T--}return y.substring(0,S.column-1)}_getCharacterBeforePosition(S){if(S.column>1){const w=this._context.viewModel.getLineContent(S.lineNumber).charAt(S.column-2);if(!L.isHighSurrogate(w.charCodeAt(0)))return w}return""}_getAriaLabel(S){return S.get(2)===1?E.localize(1,null,I.isLinux?"Shift+Alt+F1":"Alt+F1"):S.get(4)}_setAccessibilityOptions(S){this._accessibilitySupport=S.get(2);const y=S.get(3);this._accessibilitySupport===2&&y===t.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=y}onConfigurationChanged(S){const y=this._context.configuration.options,w=y.get(131);return this._setAccessibilityOptions(y),this._contentLeft=w.contentLeft,this._contentWidth=w.contentWidth,this._contentHeight=w.height,this._fontInfo=y.get(44),this._lineHeight=y.get(59),this._emptySelectionClipboard=y.get(32),this._copyWithSyntaxHighlighting=y.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(y)),this.textArea.setAttribute("tabindex",String(y.get(112))),(S.hasChanged(30)||S.hasChanged(81))&&(y.get(30)&&y.get(81)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),S.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(S){return this._selections=S.selections.slice(0),this._modelSelections=S.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(S){return!0}onFlushed(S){return!0}onLinesChanged(S){return!0}onLinesDeleted(S){return!0}onLinesInserted(S){return!0}onScrollChanged(S){return this._scrollLeft=S.scrollLeft,this._scrollTop=S.scrollTop,!0}onZonesChanged(S){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(S){S.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",S.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),S.role&&this.textArea.setAttribute("role",S.role)}prepareRender(S){this._primaryCursorPosition=new d.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=S.visibleRangeForPosition(this._primaryCursorPosition),this._visibleTextArea&&this._visibleTextArea.prepareRender(S)}render(S){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const w=this._visibleTextArea.visibleTextareaStart,T=this._visibleTextArea.visibleTextareaEnd,N=this._visibleTextArea.startPosition,R=this._visibleTextArea.endPosition;if(N&&R&&w&&T&&T.left>=this._scrollLeft&&w.left<=this._scrollLeft+this._contentWidth){const B=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,O=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let D=this._visibleTextArea.widthOfHiddenLineTextBefore,A=this._contentLeft+w.left-this._scrollLeft,P=T.left-w.left+1;if(A<this._contentLeft){const ie=this._contentLeft-A;A+=ie,D+=ie,P-=ie}P>this._contentWidth&&(P=this._contentWidth);const F=this._context.viewModel.getViewLineData(N.lineNumber),W=F.tokens.findTokenIndexAtOffset(N.column-1),M=F.tokens.findTokenIndexAtOffset(R.column-1),z=W===M,ee=this._visibleTextArea.definePresentation(z?F.tokens.getPresentation(W):null);this.textArea.domNode.scrollTop=O*this._lineHeight,this.textArea.domNode.scrollLeft=D,this._doRender({lastRenderPosition:null,top:B,left:A,width:P,height:this._lineHeight,useCover:!1,color:(a.TokenizationRegistry.getColorMap()||[])[ee.foreground],italic:ee.italic,bold:ee.bold,underline:ee.underline,strikethrough:ee.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const S=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(S<this._contentLeft||S>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const y=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(y<0||y>this._contentHeight){this._renderAtTopLeft();return}if(I.isMacintosh){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:y,left:S,width:g?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const w=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=w*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:y,left:S,width:g?0:1,height:g?0:1,useCover:!1})}_newlinecount(S){let y=0,w=-1;do{if(w=S.indexOf(`
`,w+1),w===-1)break;y++}while(!0);return y}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:g?0:1,height:g?0:1,useCover:!0})}_doRender(S){this._lastRenderPosition=S.lastRenderPosition;const y=this.textArea,w=this.textAreaCover;(0,_.applyFontInfo)(y,this._fontInfo),y.setTop(S.top),y.setLeft(S.left),y.setWidth(S.width),y.setHeight(S.height),y.setColor(S.color?l.Color.Format.CSS.formatHex(S.color):""),y.setFontStyle(S.italic?"italic":""),S.bold&&y.setFontWeight("bold"),y.setTextDecoration(`${S.underline?" underline":""}${S.strikethrough?" line-through":""}`),w.setTop(S.useCover?S.top:0),w.setLeft(S.useCover?S.left:0),w.setWidth(S.useCover?S.width:0),w.setHeight(S.useCover?S.height:0);const T=this._context.configuration.options;T.get(50)?w.setClassName("monaco-editor-background textAreaCover "+n.Margin.OUTER_CLASS_NAME):T.get(60).renderType!==0?w.setClassName("monaco-editor-background textAreaCover "+i.LineNumbersOverlay.CLASS_NAME):w.setClassName("monaco-editor-background textAreaCover")}}e.TextAreaHandler=b;function p(C,S){if(C.length===0)return 0;const y=document.createElement("div");y.style.position="absolute",y.style.top="-50000px",y.style.width="50000px";const w=document.createElement("span");(0,_.applyFontInfo)(w,S),w.style.whiteSpace="pre",w.append(C),y.appendChild(w),document.body.appendChild(y);const T=w.offsetWidth;return document.body.removeChild(y),T}}),define(re[661],se([1,0,32,30,52,11,27,54,74]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class u{constructor(n,t){const o=n.options;this.lineHeight=o.get(59),this.pixelRatio=o.get(129),this.overviewRulerLanes=o.get(74),this.renderBorder=o.get(73);const d=t.getColor(_.editorOverviewRulerBorder);this.borderColor=d?d.toString():null,this.hideCursor=o.get(52);const r=t.getColor(_.editorCursorForeground);this.cursorColor=r?r.transparent(.7).toString():null,this.themeType=t.type;const c=o.get(65),s=c.enabled,a=c.side,l=s?t.getColor(_.editorOverviewRulerBackground)||L.TokenizationRegistry.getDefaultBackground():null;l===null||a==="left"?this.backgroundColor=null:this.backgroundColor=m.Color.Format.CSS.formatHex(l);const g=o.get(131).overviewRuler;this.top=g.top,this.right=g.right,this.domWidth=g.width,this.domHeight=g.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[b,p]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=b,this.w=p}_initLanes(n,t,o){const d=t-n;if(o>=3){const r=Math.floor(d/3),c=Math.floor(d/3),s=d-r-c,a=n,l=a+r,f=a+r+s;return[[0,a,l,a,f,a,l,a],[0,r,s,r+s,c,r+s+c,s+c,r+s+c]]}else if(o===2){const r=Math.floor(d/2),c=d-r,s=n,a=s+r;return[[0,s,s,s,a,s,s,s],[0,r,r,r,c,r+c,r+c,r+c]]}else{const r=n,c=d;return[[0,r,r,r,r,r,r,r],[0,c,c,c,c,c,c,c]]}}equals(n){return this.lineHeight===n.lineHeight&&this.pixelRatio===n.pixelRatio&&this.overviewRulerLanes===n.overviewRulerLanes&&this.renderBorder===n.renderBorder&&this.borderColor===n.borderColor&&this.hideCursor===n.hideCursor&&this.cursorColor===n.cursorColor&&this.themeType===n.themeType&&this.backgroundColor===n.backgroundColor&&this.top===n.top&&this.right===n.right&&this.domWidth===n.domWidth&&this.domHeight===n.domHeight&&this.canvasWidth===n.canvasWidth&&this.canvasHeight===n.canvasHeight}}class h extends k.ViewPart{constructor(n){super(n);this._domNode=(0,E.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=L.TokenizationRegistry.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(n){const t=new u(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,n&&this._render(),!0)}onConfigurationChanged(n){return this._updateSettings(!1)}onCursorStateChanged(n){this._cursorPositions=[];for(let t=0,o=n.selections.length;t<o;t++)this._cursorPositions[t]=n.selections[t].getPosition();return this._cursorPositions.sort(I.Position.compare),!0}onDecorationsChanged(n){return!!n.affectsOverviewRuler}onFlushed(n){return!0}onScrollChanged(n){return n.scrollHeightChanged}onZonesChanged(n){return!0}onThemeChanged(n){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(n){}render(n){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");const n=this._settings.canvasWidth,t=this._settings.canvasHeight,o=this._settings.lineHeight,d=this._context.viewLayout,r=this._context.viewLayout.getScrollHeight(),c=t/r,s=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),a=6*this._settings.pixelRatio|0,l=a/2|0,f=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?f.clearRect(0,0,n,t):(f.fillStyle=this._settings.backgroundColor,f.fillRect(0,0,n,t));const g=this._settings.x,b=this._settings.w;s.sort(v.OverviewRulerDecorationsGroup.cmp);for(const p of s){const C=p.color,S=p.data;f.fillStyle=C;let y=0,w=0,T=0;for(let N=0,R=S.length/3;N<R;N++){const B=S[3*N],O=S[3*N+1],D=S[3*N+2];let A=d.getVerticalOffsetForLineNumber(O)*c|0,P=(d.getVerticalOffsetForLineNumber(D)+o)*c|0;if(P-A<a){let W=(A+P)/2|0;W<l?W=l:W+l>t&&(W=t-l),A=W-l,P=W+l}A>T+1||B!==y?(N!==0&&f.fillRect(g[y],w,b[y],T-w),y=B,w=A,T=P):P>T&&(T=P)}f.fillRect(g[y],w,b[y],T-w)}if(!this._settings.hideCursor&&this._settings.cursorColor){const p=2*this._settings.pixelRatio|0,C=p/2|0,S=this._settings.x[7],y=this._settings.w[7];f.fillStyle=this._settings.cursorColor;let w=-100,T=-100;for(let N=0,R=this._cursorPositions.length;N<R;N++){const B=this._cursorPositions[N];let O=d.getVerticalOffsetForLineNumber(B.lineNumber)*c|0;O<C?O=C:O+C>t&&(O=t-C);const D=O-C,A=D+p;D>T+1?(N!==0&&f.fillRect(S,w,y,T-w),w=D,T=A):A>T&&(T=A)}f.fillRect(S,w,y,T-w)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(f.beginPath(),f.lineWidth=1,f.strokeStyle=this._settings.borderColor,f.moveTo(0,0),f.lineTo(0,t),f.stroke(),f.moveTo(0,0),f.lineTo(n,0),f.stroke())}}e.DecorationsOverviewRuler=h}),define(re[662],se([1,0,32,52,54,14,372]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class L extends m.ViewPart{constructor(v){super(v);this.domNode=(0,E.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const u=this._context.configuration.options;this._rulers=u.get(91),this._typicalHalfwidthCharacterWidth=u.get(44).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(v){const u=this._context.configuration.options;return this._rulers=u.get(91),this._typicalHalfwidthCharacterWidth=u.get(44).typicalHalfwidthCharacterWidth,!0}onScrollChanged(v){return v.scrollHeightChanged}prepareRender(v){}_ensureRulersCount(){const v=this._renderedRulers.length,u=this._rulers.length;if(v===u)return;if(v<u){const{tabSize:i}=this._context.viewModel.model.getOptions(),n=i;let t=u-v;for(;t>0;){const o=(0,E.createFastDomNode)(document.createElement("div"));o.setClassName("view-ruler"),o.setWidth(n),this.domNode.appendChild(o),this._renderedRulers.push(o),t--}return}let h=v-u;for(;h>0;){const i=this._renderedRulers.pop();this.domNode.removeChild(i),h--}}render(v){this._ensureRulersCount();for(let u=0,h=this._rulers.length;u<h;u++){const i=this._renderedRulers[u],n=this._rulers[u];i.setBoxShadow(n.color?`1px 0 0 0 ${n.color} inset`:""),i.setHeight(Math.min(v.scrollHeight,1e6)),i.setLeft(n.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=L,(0,I.registerThemingParticipant)((_,v)=>{const u=_.getColor(k.editorRuler);u&&v.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${u} inset; }`)})}),define(re[663],se([1,0,32,10,52,523,33,54,14,58,375]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class h extends k.ViewPart{constructor(n){super(n);const t=this._context.configuration.options;this._readOnly=t.get(81),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new I.ViewCursor(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,E.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new m.TimeoutTimer,this._cursorFlatBlinkInterval=new m.IntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(n){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(n){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(n){const t=this._context.configuration.options;this._readOnly=t.get(81),this._cursorBlinking=t.get(22),this._cursorStyle=t.get(24),this._cursorSmoothCaretAnimation=t.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(n);for(let o=0,d=this._secondaryCursors.length;o<d;o++)this._secondaryCursors[o].onConfigurationChanged(n);return!0}_onCursorPositionChanged(n,t){if(this._primaryCursor.onCursorPositionChanged(n),this._updateBlinking(),this._secondaryCursors.length<t.length){const o=t.length-this._secondaryCursors.length;for(let d=0;d<o;d++){const r=new I.ViewCursor(this._context);this._domNode.domNode.insertBefore(r.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(r)}}else if(this._secondaryCursors.length>t.length){const o=this._secondaryCursors.length-t.length;for(let d=0;d<o;d++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let o=0;o<t.length;o++)this._secondaryCursors[o].onCursorPositionChanged(t[o])}onCursorStateChanged(n){const t=[];for(let d=0,r=n.selections.length;d<r;d++)t[d]=n.selections[d].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));const o=n.selections[0].isEmpty();return this._selectionIsEmpty!==o&&(this._selectionIsEmpty=o,this._updateDomClassName()),!0}onDecorationsChanged(n){return!0}onFlushed(n){return!0}onFocusChanged(n){return this._editorHasFocus=n.isFocused,this._updateBlinking(),!1}onLinesChanged(n){return!0}onLinesDeleted(n){return!0}onLinesInserted(n){return!0}onScrollChanged(n){return!0}onTokensChanged(n){const t=o=>{for(let d=0,r=n.ranges.length;d<r;d++)if(n.ranges[d].fromLineNumber<=o.lineNumber&&o.lineNumber<=n.ranges[d].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const o of this._secondaryCursors)if(t(o.getPosition()))return!0;return!1}onZonesChanged(n){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const n=this._getCursorBlinking(),t=n===0,o=n===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!o&&(n===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},h.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},h.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let n="cursors-layer";switch(this._selectionIsEmpty||(n+=" has-selection"),this._cursorStyle){case L.TextEditorCursorStyle.Line:n+=" cursor-line-style";break;case L.TextEditorCursorStyle.Block:n+=" cursor-block-style";break;case L.TextEditorCursorStyle.Underline:n+=" cursor-underline-style";break;case L.TextEditorCursorStyle.LineThin:n+=" cursor-line-thin-style";break;case L.TextEditorCursorStyle.BlockOutline:n+=" cursor-block-outline-style";break;case L.TextEditorCursorStyle.UnderlineThin:n+=" cursor-underline-thin-style";break;default:n+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:n+=" cursor-blink";break;case 2:n+=" cursor-smooth";break;case 3:n+=" cursor-phase";break;case 4:n+=" cursor-expand";break;case 5:n+=" cursor-solid";break;default:n+=" cursor-solid"}else n+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(n+=" cursor-smooth-caret-animation"),n}_show(){this._primaryCursor.show();for(let n=0,t=this._secondaryCursors.length;n<t;n++)this._secondaryCursors[n].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let n=0,t=this._secondaryCursors.length;n<t;n++)this._secondaryCursors[n].hide();this._isVisible=!1}prepareRender(n){this._primaryCursor.prepareRender(n);for(let t=0,o=this._secondaryCursors.length;t<o;t++)this._secondaryCursors[t].prepareRender(n)}render(n){const t=[];let o=0;const d=this._primaryCursor.render(n);d&&(t[o++]=d);for(let r=0,c=this._secondaryCursors.length;r<c;r++){const s=this._secondaryCursors[r].render(n);s&&(t[o++]=s)}this._renderData=t}getLastRenderData(){return this._renderData}}e.ViewCursors=h,h.BLINK_INTERVAL=500,(0,v.registerThemingParticipant)((i,n)=>{const t=i.getColor(_.editorCursorForeground);if(t){let o=i.getColor(_.editorCursorBackground);o||(o=t.opposite()),n.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${t}; }`),n.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${t}; border-color: ${t}; color: ${o}; }`),(0,u.isHighContrast)(i.type)&&n.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${o}; border-right: 1px solid ${o}; }`)}})}),define(re[664],se([1,0,4,2,3,54,14]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class _ extends m.Disposable{constructor(h){super();this.textModel=h,this.colorProvider=new v,this.onDidChangeEmitter=new E.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=h.getOptions().bracketPairColorizationOptions,this._register(h.bracketPairs.onDidChange(i=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(h){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(h,i,n){if(i===void 0)return[];if(!this.colorizationOptions.enabled)return[];const t=new Array,o=this.textModel.bracketPairs.getBracketsInRange(h);for(const d of o)t.push({id:`bracket${d.range.toString()}-${d.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(d,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:d.range});return t}getAllDecorations(h,i){return h===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new k.Range(1,1,this.textModel.getLineCount(),1),h,i):[]}}e.ColorizedBracketPairsDecorationProvider=_;class v{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(h,i){return h.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(i?h.nestingLevelOfEqualBracketType:h.nestingLevel)}getInlineClassNameOfLevel(h){return`bracket-highlighting-${h%30}`}}(0,L.registerThemingParticipant)((u,h)=>{const i=[I.editorBracketHighlightingForeground1,I.editorBracketHighlightingForeground2,I.editorBracketHighlightingForeground3,I.editorBracketHighlightingForeground4,I.editorBracketHighlightingForeground5,I.editorBracketHighlightingForeground6],n=new v;h.addRule(`.monaco-editor .${n.unexpectedClosingBracketClassName} { color: ${u.getColor(I.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const t=i.map(o=>u.getColor(o)).filter(o=>!!o).filter(o=>!o.isTransparent());for(let o=0;o<30;o++){const d=t[o%t.length];h.addRule(`.monaco-editor .${n.getInlineClassNameOfLevel(o)} { color: ${d}; }`)}})}),define(re[665],se([1,0,81,2,47,14,54,49,3,45,4,23,51]),function(U,e,E,m,k,I,L,_,v,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;class t extends m.Disposable{constructor(r){super();this.model=r,this._markersData=new Map,this._register((0,m.toDisposable)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(r,c){const s=[...this._markersData.keys()];this._markersData.clear();const a=this.model.deltaDecorations(s,c);for(let l=0;l<a.length;l++)this._markersData.set(a[l],r[l]);return s.length!==0||a.length!==0}getMarker(r){return this._markersData.get(r.id)}}let o=class extends m.Disposable{constructor(r,c){super();this._markerService=c,this._onDidChangeMarker=this._register(new h.Emitter),this._markerDecorations=new n.ResourceMap,r.getModels().forEach(s=>this._onModelAdded(s)),this._register(r.onModelAdded(this._onModelAdded,this)),this._register(r.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(r=>r.dispose()),this._markerDecorations.clear()}getMarker(r,c){const s=this._markerDecorations.get(r);return s&&s.getMarker(c)||null}_handleMarkerChange(r){r.forEach(c=>{const s=this._markerDecorations.get(c);s&&this._updateDecorations(s)})}_onModelAdded(r){const c=new t(r);this._markerDecorations.set(r.uri,c),this._updateDecorations(c)}_onModelRemoved(r){const c=this._markerDecorations.get(r.uri);c&&(c.dispose(),this._markerDecorations.delete(r.uri)),(r.uri.scheme===u.Schemas.inMemory||r.uri.scheme===u.Schemas.internal||r.uri.scheme===u.Schemas.vscode)&&this._markerService&&this._markerService.read({resource:r.uri}).map(s=>s.owner).forEach(s=>this._markerService.remove(s,[r.uri]))}_updateDecorations(r){const c=this._markerService.read({resource:r.model.uri,take:500}),s=c.map(a=>({range:this._createDecorationRange(r.model,a),options:this._createDecorationOption(a)}));r.update(c,s)&&this._onDidChangeMarker.fire(r.model)}_createDecorationRange(r,c){let s=v.Range.lift(c);if(c.severity===E.MarkerSeverity.Hint&&!this._hasMarkerTag(c,1)&&!this._hasMarkerTag(c,2)&&(s=s.setEndPosition(s.startLineNumber,s.startColumn+2)),s=r.validateRange(s),s.isEmpty()){const a=r.getLineLastNonWhitespaceColumn(s.startLineNumber)||r.getLineMaxColumn(s.startLineNumber);if(a===1||s.endColumn>=a)return s;const l=r.getWordAtPosition(s.getStartPosition());l&&(s=new v.Range(s.startLineNumber,l.startColumn,s.endLineNumber,l.endColumn))}else if(c.endColumn===Number.MAX_VALUE&&c.startColumn===1&&s.startLineNumber===s.endLineNumber){let a=r.getLineFirstNonWhitespaceColumn(c.startLineNumber);a<s.endColumn&&(s=new v.Range(s.startLineNumber,a,s.endLineNumber,s.endColumn),c.startColumn=a)}return s}_createDecorationOption(r){let c,s,a,l,f;switch(r.severity){case E.MarkerSeverity.Hint:this._hasMarkerTag(r,2)?c=void 0:this._hasMarkerTag(r,1)?c="squiggly-unnecessary":c="squiggly-hint",a=0;break;case E.MarkerSeverity.Warning:c="squiggly-warning",s=(0,I.themeColorFromId)(L.overviewRulerWarning),a=20,f={color:(0,I.themeColorFromId)(i.minimapWarning),position:k.MinimapPosition.Inline};break;case E.MarkerSeverity.Info:c="squiggly-info",s=(0,I.themeColorFromId)(L.overviewRulerInfo),a=10;break;case E.MarkerSeverity.Error:default:c="squiggly-error",s=(0,I.themeColorFromId)(L.overviewRulerError),a=30,f={color:(0,I.themeColorFromId)(i.minimapError),position:k.MinimapPosition.Inline};break}return r.tags&&(r.tags.indexOf(1)!==-1&&(l="squiggly-inline-unnecessary"),r.tags.indexOf(2)!==-1&&(l="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:c,showIfCollapsed:!0,overviewRuler:{color:s,position:k.OverviewRulerLane.Right},minimap:f,zIndex:a,inlineClassName:l}}_hasMarkerTag(r,c){return r.tags?r.tags.indexOf(c)>=0:!1}};o=Ie([fe(0,_.IModelService),fe(1,E.IMarkerService)],o),e.MarkerDecorationsService=o}),define(re[293],se([1,0,27,14,69,450,37]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMultilineTokens2=e.SemanticTokensProviderStyling=void 0;let _=class{constructor(n,t,o,d){this._legend=n,this._themeService=t,this._languageService=o,this._logService=d,this._hashTable=new h,this._hasWarnedOverlappingTokens=!1}getMetadata(n,t,o){const d=this._languageService.languageIdCodec.encodeLanguageId(o),r=this._hashTable.get(n,t,d);let c;if(r)c=r.metadata,this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${n} / ${t}: foreground ${E.TokenMetadata.getForeground(c)}, fontStyle ${E.TokenMetadata.getFontStyle(c).toString(2)}`);else{let s=this._legend.tokenTypes[n];const a=[];if(s){let l=t;for(let g=0;l>0&&g<this._legend.tokenModifiers.length;g++)l&1&&a.push(this._legend.tokenModifiers[g]),l=l>>1;l>0&&this._logService.getLevel()===k.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),a.push("not-in-legend"));const f=this._themeService.getColorTheme().getTokenStyleMetadata(s,a,o);typeof f=="undefined"?c=2147483647:(c=0,typeof f.italic!="undefined"&&(c|=(f.italic?1:0)<<11|1),typeof f.bold!="undefined"&&(c|=(f.bold?2:0)<<11|2),typeof f.underline!="undefined"&&(c|=(f.underline?4:0)<<11|4),typeof f.strikethrough!="undefined"&&(c|=(f.strikethrough?8:0)<<11|8),f.foreground&&(c|=f.foreground<<15|16),c===0&&(c=2147483647))}else this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${n} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),c=2147483647,s="not-in-legend";this._hashTable.add(n,t,d,c),this._logService.getLevel()===k.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${n} (${s}) / ${t} (${a.join(" ")}): foreground ${E.TokenMetadata.getForeground(c)}, fontStyle ${E.TokenMetadata.getFontStyle(c).toString(2)}`)}return c}warnOverlappingSemanticTokens(n,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${n}, column ${t}`))}};_=Ie([fe(1,m.IThemeService),fe(2,L.ILanguageService),fe(3,k.ILogService)],_),e.SemanticTokensProviderStyling=_;function v(i,n,t){const o=i.data,d=i.data.length/5|0,r=Math.max(Math.ceil(d/1024),400),c=[];let s=0,a=1,l=0;for(;s<d;){const f=s;let g=Math.min(f+r,d);if(g<d){let N=g;for(;N-1>f&&o[5*N]===0;)N--;if(N-1===f){let R=g;for(;R+1<d&&o[5*R]===0;)R++;g=R}else g=N}let b=new Uint32Array((g-f)*4),p=0,C=0,S=0,y=0,w=0;for(;s<g;){const N=5*s,R=o[N],B=o[N+1],O=a+R|0,D=R===0?l+B|0:B,A=o[N+2],P=o[N+3],F=o[N+4],W=n.getMetadata(P,F,t);W!==2147483647&&(C===0&&(C=O),S===O&&w>D&&(n.warnOverlappingSemanticTokens(O,D+1),y<D?b[p-4+2]=D:p-=4),b[p]=O-C,b[p+1]=D,b[p+2]=D+A,b[p+3]=W,p+=4,S=O,y=D,w=D+A),a=O,l=D,s++}p!==b.length&&(b=b.subarray(0,p));const T=I.SparseMultilineTokens.create(C,b);c.push(T)}return c}e.toMultilineTokens2=v;class u{constructor(n,t,o,d){this.tokenTypeIndex=n,this.tokenModifierSet=t,this.languageId=o,this.metadata=d,this.next=null}}class h{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=h._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<h._SIZES.length?2/3*this._currentLength:0),this._elements=[],h._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(n,t){for(let o=0;o<t;o++)n[o]=null}_hash2(n,t){return(n<<5)-n+t|0}_hashFunc(n,t,o){return this._hash2(this._hash2(n,t),o)%this._currentLength}get(n,t,o){const d=this._hashFunc(n,t,o);let r=this._elements[d];for(;r;){if(r.tokenTypeIndex===n&&r.tokenModifierSet===t&&r.languageId===o)return r;r=r.next}return null}add(n,t,o,d){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const r=this._elements;this._currentLengthIndex++,this._currentLength=h._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<h._SIZES.length?2/3*this._currentLength:0),this._elements=[],h._nullOutEntries(this._elements,this._currentLength);for(const c of r){let s=c;for(;s;){const a=s.next;s.next=null,this._add(s),s=a}}}this._add(new u(n,t,o,d))}_add(n){const t=this._hashFunc(n.tokenTypeIndex,n.tokenModifierSet,n.languageId);n.next=this._elements[t],this._elements[t]=n}}h._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(re[666],se([1,0,7,60,28,4,2,187,535,43,23,14,381]),function(U,e,E,m,k,I,L,_,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var n;(function(o){o.Hidden={type:0};class d{constructor(c,s,a,l){this.actions=c,this.trigger=s,this.editorPosition=a,this.widgetPosition=l,this.type=1}}o.Showing=d})(n||(n={}));let t=class Ii extends L.Disposable{constructor(d,r,c,s){super();this._editor=d,this._quickFixActionId=r,this._preferredFixActionId=c,this._keybindingService=s,this._onClick=this._register(new I.Emitter),this.onClick=this._onClick.event,this._state=n.Hidden,this._domNode=document.createElement("div"),this._domNode.className=k.Codicon.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(a=>{const l=this._editor.getModel();(this.state.type!==1||!l||this.state.editorPosition.lineNumber>=l.getLineCount())&&this.hide()})),m.Gesture.ignoreTarget(this._domNode),this._register(E.addStandardDisposableGenericMouseDownListener(this._domNode,a=>{if(this.state.type!==1)return;this._editor.focus(),a.preventDefault();const{top:l,height:f}=E.getDomNodePagePosition(this._domNode),g=this._editor.getOption(59);let b=Math.floor(g/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(b+=g),this._onClick.fire({x:a.posx,y:l+f+b,actions:this.state.actions,trigger:this.state.trigger})})),this._register(E.addDisposableListener(this._domNode,"mouseenter",a=>{(a.buttons&1)==1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(a=>{a.hasChanged(57)&&!this._editor.getOption(57).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(d,r,c){if(d.validActions.length<=0)return this.hide();const s=this._editor.getOptions();if(!s.get(57).enabled)return this.hide();const a=this._editor.getModel();if(!a)return this.hide();const{lineNumber:l,column:f}=a.validatePosition(c),g=a.getOptions().tabSize,b=s.get(44),p=a.getLineContent(l),C=(0,_.computeIndentLevel)(p,g),S=b.spaceWidth*C>22,y=T=>T>2&&this._editor.getTopForLineNumber(T)===this._editor.getTopForLineNumber(T-1);let w=l;if(!S){if(l>1&&!y(l-1))w-=1;else if(!y(l+1))w+=1;else if(f*b.spaceWidth<22)return this.hide()}this.state=new n.Showing(d,r,c,{position:{lineNumber:w,column:1},preference:Ii._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=n.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(d){this._state=d,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...k.Codicon.lightBulb.classNamesArray),this._domNode.classList.add(...k.Codicon.lightbulbAutofix.classNamesArray);const r=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(r){this.title=v.localize(0,null,r.getLabel());return}}this._domNode.classList.remove(...k.Codicon.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...k.Codicon.lightBulb.classNamesArray);const d=this._keybindingService.lookupKeybinding(this._quickFixActionId);d?this.title=v.localize(1,null,d.getLabel()):this.title=v.localize(2,null)}set title(d){this._domNode.title=d}};t._posPref=[0],t=Ie([fe(3,u.IKeybindingService)],t),e.LightBulbWidget=t,(0,i.registerThemingParticipant)((o,d)=>{var r;const c=(r=o.getColor(h.editorBackground))===null||r===void 0?void 0:r.transparent(.7),s=o.getColor(h.editorLightBulbForeground);s&&d.addRule(`
		.monaco-editor .contentWidgets ${k.Codicon.lightBulb.cssSelector} {
			color: ${s};
			background-color: ${c};
		}`);const a=o.getColor(h.editorLightBulbAutoFixForeground);a&&d.addRule(`
		.monaco-editor .contentWidgets ${k.Codicon.lightbulbAutofix.cssSelector} {
			color: ${a};
			background-color: ${c};
		}`)})}),define(re[667],se([1,0,34,7,119,66,30,4,2,537,23,14,383]),function(U,e,E,m,k,I,L,_,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.ColorPickerBody=e.ColorPickerHeader=void 0;const n=m.$;class t extends v.Disposable{constructor(f,g,b){super();this.model=g,this.domNode=n(".colorpicker-header"),m.append(f,this.domNode),this.pickedColorNode=m.append(this.domNode,n(".picked-color"));const p=(0,u.localize)(0,null);this.pickedColorNode.setAttribute("title",p);const C=m.append(this.domNode,n(".original-color"));C.style.backgroundColor=L.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=b.getColorTheme().getColor(h.editorHoverBackground)||L.Color.white,this._register((0,i.registerThemingParticipant)((S,y)=>{this.backgroundColor=S.getColor(h.editorHoverBackground)||L.Color.white})),this._register(m.addDisposableListener(this.pickedColorNode,m.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(m.addDisposableListener(C,m.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(g.onDidChangeColor(this.onDidChangeColor,this)),this._register(g.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=L.Color.Format.CSS.format(g.color)||"",this.pickedColorNode.classList.toggle("light",g.color.rgba.a<.5?this.backgroundColor.isLighter():g.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(f){this.pickedColorNode.style.backgroundColor=L.Color.Format.CSS.format(f)||"",this.pickedColorNode.classList.toggle("light",f.rgba.a<.5?this.backgroundColor.isLighter():f.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(n(".codicon.codicon-color-mode"))}}e.ColorPickerHeader=t;class o extends v.Disposable{constructor(f,g,b){super();this.model=g,this.pixelRatio=b,this.domNode=n(".colorpicker-body"),m.append(f,this.domNode),this.saturationBox=new d(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new c(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new s(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:f,v:g}){const b=this.model.color.hsva;this.model.color=new L.Color(new L.HSVA(b.h,f,g,b.a))}onDidOpacityChange(f){const g=this.model.color.hsva;this.model.color=new L.Color(new L.HSVA(g.h,g.s,g.v,f))}onDidHueChange(f){const g=this.model.color.hsva,b=(1-f)*360;this.model.color=new L.Color(new L.HSVA(b===360?0:b,g.s,g.v,g.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}e.ColorPickerBody=o;class d extends v.Disposable{constructor(f,g,b){super();this.model=g,this.pixelRatio=b,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new _.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=n(".saturation-wrap"),m.append(f,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",m.append(this.domNode,this.canvas),this.selection=n(".saturation-selection"),m.append(this.domNode,this.selection),this.layout(),this._register(m.addDisposableListener(this.domNode,m.EventType.POINTER_DOWN,p=>this.onPointerDown(p))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onPointerDown(f){if(!f.target||!(f.target instanceof Element))return;this.monitor=this._register(new k.GlobalPointerMoveMonitor);const g=m.getDomNodePagePosition(this.domNode);f.target!==this.selection&&this.onDidChangePosition(f.offsetX,f.offsetY),this.monitor.startMonitoring(f.target,f.pointerId,f.buttons,k.standardPointerMoveMerger,p=>this.onDidChangePosition(p.pageX-g.left,p.pageY-g.top),()=>null);const b=m.addDisposableListener(document,m.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),b.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(f,g){const b=Math.max(0,Math.min(1,f/this.width)),p=Math.max(0,Math.min(1,1-g/this.height));this.paintSelection(b,p),this._onDidChange.fire({s:b,v:p})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const f=this.model.color.hsva;this.paintSelection(f.s,f.v)}paint(){const f=this.model.color.hsva,g=new L.Color(new L.HSVA(f.h,1,1,1)),b=this.canvas.getContext("2d"),p=b.createLinearGradient(0,0,this.canvas.width,0);p.addColorStop(0,"rgba(255, 255, 255, 1)"),p.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),p.addColorStop(1,"rgba(255, 255, 255, 0)");const C=b.createLinearGradient(0,0,0,this.canvas.height);C.addColorStop(0,"rgba(0, 0, 0, 0)"),C.addColorStop(1,"rgba(0, 0, 0, 1)"),b.rect(0,0,this.canvas.width,this.canvas.height),b.fillStyle=L.Color.Format.CSS.format(g),b.fill(),b.fillStyle=p,b.fill(),b.fillStyle=C,b.fill()}paintSelection(f,g){this.selection.style.left=`${f*this.width}px`,this.selection.style.top=`${this.height-g*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class r extends v.Disposable{constructor(f,g){super();this.model=g,this._onDidChange=new _.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new _.Emitter,this.onColorFlushed=this._onColorFlushed.event,this.domNode=m.append(f,n(".strip")),this.overlay=m.append(this.domNode,n(".overlay")),this.slider=m.append(this.domNode,n(".slider")),this.slider.style.top="0px",this._register(m.addDisposableListener(this.domNode,m.EventType.POINTER_DOWN,b=>this.onPointerDown(b))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const f=this.getValue(this.model.color);this.updateSliderPosition(f)}onPointerDown(f){if(!f.target||!(f.target instanceof Element))return;const g=this._register(new k.GlobalPointerMoveMonitor),b=m.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),f.target!==this.slider&&this.onDidChangeTop(f.offsetY),g.startMonitoring(f.target,f.pointerId,f.buttons,k.standardPointerMoveMerger,C=>this.onDidChangeTop(C.pageY-b.top),()=>null);const p=m.addDisposableListener(document,m.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),p.dispose(),g.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(f){const g=Math.max(0,Math.min(1,1-f/this.height));this.updateSliderPosition(g),this._onDidChange.fire(g)}updateSliderPosition(f){this.slider.style.top=`${(1-f)*this.height}px`}}class c extends r{constructor(f,g){super(f,g);this.domNode.classList.add("opacity-strip"),this._register(g.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(f){const{r:g,g:b,b:p}=f.rgba,C=new L.Color(new L.RGBA(g,b,p,1)),S=new L.Color(new L.RGBA(g,b,p,0));this.overlay.style.background=`linear-gradient(to bottom, ${C} 0%, ${S} 100%)`}getValue(f){return f.hsva.a}}class s extends r{constructor(f,g){super(f,g);this.domNode.classList.add("hue-strip")}getValue(f){return 1-f.hsva.h/360}}class a extends I.Widget{constructor(f,g,b,p){super();this.model=g,this.pixelRatio=b,this._register(E.PixelRatio.onDidChange(()=>this.layout()));const C=n(".colorpicker-widget");f.appendChild(C);const S=new t(C,this.model,p);this.body=new o(C,this.model,this.pixelRatio),this._register(S),this._register(this.body)}layout(){this.body.layout()}}e.ColorPickerWidget=a}),define(re[668],se([1,0,7,229,223,198,64,176,2,42,57,554,9,43,133,135,14,131]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let s=class{constructor(w){this._resolverService=w}hasChildren(w){return w instanceof c.ReferencesModel||w instanceof c.FileReferences}getChildren(w){if(w instanceof c.ReferencesModel)return w.groups;if(w instanceof c.FileReferences)return w.resolve(this._resolverService).then(T=>T.children);throw new Error("bad tree")}};s=Ie([fe(0,h.ITextModelService)],s),e.DataSource=s;class a{getHeight(){return 23}getTemplateId(w){return w instanceof c.FileReferences?b.id:C.id}}e.Delegate=a;let l=class{constructor(w){this._keybindingService=w}getKeyboardNavigationLabel(w){var T;if(w instanceof c.OneReference){const N=(T=w.parent.getPreview(w))===null||T===void 0?void 0:T.preview(w.range);if(N)return N.value}return(0,u.basename)(w.uri)}};l=Ie([fe(0,t.IKeybindingService)],l),e.StringRepresentationProvider=l;class f{getId(w){return w instanceof c.OneReference?w.id:w.uri}}e.IdentityProvider=f;let g=class extends v.Disposable{constructor(w,T,N){super();this._uriLabel=T;const R=document.createElement("div");R.classList.add("reference-file"),this.file=this._register(new I.IconLabel(R,{supportHighlights:!0})),this.badge=new m.CountBadge(E.append(R,E.$(".count"))),this._register((0,d.attachBadgeStyler)(this.badge,N)),w.appendChild(R)}set(w,T){let N=(0,u.dirname)(w.uri);this.file.setLabel((0,_.getBaseLabel)(w.uri),this._uriLabel.getUriLabel(N,{relative:!0}),{title:this._uriLabel.getUriLabel(w.uri),matches:T});const R=w.children.length;this.badge.setCount(R),R>1?this.badge.setTitleFormat((0,i.localize)(0,null,R)):this.badge.setTitleFormat((0,i.localize)(1,null,R))}};g=Ie([fe(1,o.ILabelService),fe(2,r.IThemeService)],g);let b=class Di{constructor(w){this._instantiationService=w,this.templateId=Di.id}renderTemplate(w){return this._instantiationService.createInstance(g,w)}renderElement(w,T,N){N.set(w.element,(0,L.createMatches)(w.filterData))}disposeTemplate(w){w.dispose()}};b.id="FileReferencesRenderer",b=Ie([fe(0,n.IInstantiationService)],b),e.FileReferencesRenderer=b;class p{constructor(w){this.label=new k.HighlightedLabel(w)}set(w,T){var N;const R=(N=w.parent.getPreview(w))===null||N===void 0?void 0:N.preview(w.range);if(!R||!R.value)this.label.set(`${(0,u.basename)(w.uri)}:${w.range.startLineNumber+1}:${w.range.startColumn+1}`);else{const{value:B,highlight:O}=R;T&&!L.FuzzyScore.isDefault(T)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(B,(0,L.createMatches)(T))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(B,[O]))}}}class C{constructor(){this.templateId=C.id}renderTemplate(w){return new p(w)}renderElement(w,T,N){N.set(w.element,w.filterData)}disposeTemplate(){}}e.OneReferenceRenderer=C,C.id="OneReferenceRenderer";class S{getWidgetAriaLabel(){return(0,i.localize)(2,null)}getAriaLabel(w){return w.ariaMessage}}e.AccessibilityProvider=S}),define(re[669],se([1,0,7,2,8,67,33,79,11,3,94,47,37,54,155,129,157,9,14,390]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s){"use strict";var a;Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=void 0;const l=(a=window.trustedTypes)===null||a===void 0?void 0:a.createPolicy("editorGhostText",{createHTML:y=>y});let f=class extends m.Disposable{constructor(w,T,N,R){super();this.editor=w,this.model=T,this.instantiationService=N,this.languageService=R,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(b,this.editor)),this.additionalLinesWidget=this._register(new p(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this.replacementDecoration=this._register(new g(this.editor)),this._register(this.editor.onDidChangeConfiguration(B=>{(B.hasChanged(29)||B.hasChanged(105)||B.hasChanged(88)||B.hasChanged(83)||B.hasChanged(45)||B.hasChanged(44)||B.hasChanged(59))&&this.update()})),this._register((0,m.toDisposable)(()=>{var B;this.disposed=!0,this.update(),(B=this.viewMoreContentWidget)===null||B===void 0||B.dispose(),this.viewMoreContentWidget=void 0})),this._register(T.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(w){return this.additionalLinesWidget.viewZoneId===w}update(){var w;const T=this.model.ghostText;if(!this.editor.hasModel()||!T||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear(),this.replacementDecoration.clear();return}const N=new Array,R=new Array;function B(P,F){if(R.length>0){const W=R[R.length-1];F&&W.decorations.push(new o.LineDecoration(W.content.length+1,W.content.length+1+P[0].length,F,0)),W.content+=P[0],P=P.slice(1)}for(const W of P)R.push({content:W,decorations:F?[new o.LineDecoration(1,W.length+1,F,0)]:[]})}T instanceof r.GhostTextReplacement?this.replacementDecoration.setDecorations([{range:new u.Range(T.lineNumber,T.columnStart,T.lineNumber,T.columnStart+T.length),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}]):this.replacementDecoration.setDecorations([]);const O=this.editor.getModel().getLineContent(T.lineNumber);let D,A=0;for(const P of T.parts){let F=P.lines;D===void 0?(N.push({column:P.column,text:F[0],preview:P.preview}),F=F.slice(1)):B([O.substring(A,P.column-1)],void 0),F.length>0&&(B(F,"ghost-text"),D===void 0&&P.column<=O.length&&(D=P.column)),A=P.column-1}D!==void 0&&B([O.substring(A)],void 0),this.partsWidget.setParts(T.lineNumber,N,D!==void 0?{column:D,length:O.length+1-D}:void 0),this.additionalLinesWidget.updateLines(T.lineNumber,R,T.additionalReservedLineCount),0<0?this.viewMoreContentWidget=this.renderViewMoreLines(new v.Position(T.lineNumber,this.editor.getModel().getLineMaxColumn(T.lineNumber)),"",0):((w=this.viewMoreContentWidget)===null||w===void 0||w.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(w,T,N){const R=this.editor.getOption(44),B=document.createElement("div");B.className="suggest-preview-additional-widget",(0,I.applyFontInfo)(B,R);const O=document.createElement("span");O.className="content-spacer",O.append(T),B.append(O);const D=document.createElement("span");D.className="content-newline suggest-preview-text",D.append("\u23CE  "),B.append(D);const A=new m.DisposableStore,P=document.createElement("div");return P.className="button suggest-preview-text",P.append(`+${N} lines\u2026`),A.add(E.addStandardDisposableListener(P,"mousedown",F=>{var W;(W=this.model)===null||W===void 0||W.setExpanded(!0),F.preventDefault(),this.editor.focus()})),B.append(P),new S(this.editor,w,B,A)}};f=Ie([fe(2,c.IInstantiationService),fe(3,n.ILanguageService)],f),e.GhostTextWidget=f;class g{constructor(w){this.editor=w,this.decorationIds=[]}setDecorations(w){this.decorationIds=this.editor.deltaDecorations(this.decorationIds,w)}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.decorationIds=[]}dispose(){this.clear()}}class b{constructor(w){this.editor=w,this.decorationIds=[],this.disposableStore=new m.DisposableStore}dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(w,T,N){if(this.disposableStore.clear(),!this.editor.getModel())return;const B=new Array;N&&B.push({range:u.Range.fromPositions(new v.Position(w,N.column),new v.Position(w,N.column+N.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,T.map(O=>({range:u.Range.fromPositions(new v.Position(w,O.column)),options:{description:"ghost-text",after:{content:O.text,inlineClassName:O.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:i.InjectedTextCursorStops.Left},showIfCollapsed:!0}})).concat(B))}}class p{constructor(w,T){this.editor=w,this.languageIdCodec=T,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(w=>{this._viewZoneId&&(w.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(w,T,N){const R=this.editor.getModel();if(!R)return;const{tabSize:B}=R.getOptions();this.editor.changeViewZones(O=>{this._viewZoneId&&(O.removeZone(this._viewZoneId),this._viewZoneId=void 0);const D=Math.max(T.length,N);if(D>0){const A=document.createElement("div");C(A,B,T,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=O.addZone({afterLineNumber:w,heightInLines:D,domNode:A,afterColumnAffinity:1})}})}}function C(y,w,T,N,R){const B=N.get(29),O=N.get(105),D="none",A=N.get(83),P=N.get(45),F=N.get(44),W=N.get(59),M=(0,h.createStringBuilder)(1e4);M.appendASCIIString('<div class="suggest-preview-text">');for(let ie=0,Y=T.length;ie<Y;ie++){const X=T[ie],J=X.content;M.appendASCIIString('<div class="view-line'),M.appendASCIIString('" style="top:'),M.appendASCIIString(String(ie*W)),M.appendASCIIString('px;width:1000000px;">');const oe=k.isBasicASCII(J),G=k.containsRTL(J),x=_.LineTokens.createEmpty(J,R);(0,d.renderViewLine)(new d.RenderLineInput(F.isMonospace&&!B,F.canUseHalfwidthRightwardsArrow,J,!1,oe,G,0,x,X.decorations,w,0,F.spaceWidth,F.middotWidth,F.wsmiddotWidth,O,D,A,P!==L.EditorFontLigatures.OFF,null),M),M.appendASCIIString("</div>")}M.appendASCIIString("</div>"),(0,I.applyFontInfo)(y,F);const z=M.build(),ee=l?l.createHTML(z):z;y.innerHTML=ee}class S extends m.Disposable{constructor(w,T,N,R){super();this.editor=w,this.position=T,this.domNode=N,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(R),this._register((0,m.toDisposable)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,s.registerThemingParticipant)((y,w)=>{const T=y.getColor(t.ghostTextForeground);T&&(w.addRule(`.monaco-editor .ghost-text-decoration { color: ${T.toString()} !important; }`),w.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${T.toString()} !important; }`),w.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${T.toString()} !important; }`));const N=y.getColor(t.ghostTextBackground);N&&(w.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${N.toString()}; }`),w.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${N.toString()}; }`),w.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${N.toString()}; }`));const R=y.getColor(t.ghostTextBorder);R&&(w.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${R}; }`),w.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${R}; }`),w.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${R}; }`))})}),define(re[294],se([1,0,92,2,19,150,47,54,14]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class u{constructor(i){this.options=i,this.rangeHighlightDecorationId=void 0}provide(i,n){var t;const o=new m.DisposableStore;i.canAcceptInBackground=!!((t=this.options)===null||t===void 0?void 0:t.canAcceptInBackground),i.matchOnLabel=i.matchOnDescription=i.matchOnDetail=i.sortByLabel=!1;const d=o.add(new m.MutableDisposable);return d.value=this.doProvide(i,n),o.add(this.onDidActiveTextEditorControlChange(()=>{d.value=void 0,d.value=this.doProvide(i,n)})),o}doProvide(i,n){const t=new m.DisposableStore,o=this.activeTextEditorControl;if(o&&this.canProvideWithTextEditor(o)){const d={editor:o},r=(0,I.getCodeEditor)(o);if(r){let c=(0,k.withNullAsUndefined)(o.saveViewState());t.add(r.onDidChangeCursorPosition(()=>{c=(0,k.withNullAsUndefined)(o.saveViewState())})),d.restoreViewState=()=>{c&&o===this.activeTextEditorControl&&o.restoreViewState(c)},t.add((0,E.once)(n.onCancellationRequested)(()=>{var s;return(s=d.restoreViewState)===null||s===void 0?void 0:s.call(d)}))}t.add((0,m.toDisposable)(()=>this.clearDecorations(o))),t.add(this.provideWithTextEditor(d,i,n))}else t.add(this.provideWithoutTextEditor(i,n));return t}canProvideWithTextEditor(i){return!0}gotoLocation({editor:i},n){i.setSelection(n.range),i.revealRangeInCenter(n.range,0),n.preserveFocus||i.focus()}getModel(i){var n;return(0,I.isDiffEditor)(i)?(n=i.getModel())===null||n===void 0?void 0:n.modified:i.getModel()}addDecorations(i,n){i.changeDecorations(t=>{const o=[];this.rangeHighlightDecorationId&&(o.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),o.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const d=[{range:n,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:n,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,v.themeColorFromId)(_.overviewRulerRangeHighlight),position:L.OverviewRulerLane.Full}}}],[r,c]=t.deltaDecorations(o,d);this.rangeHighlightDecorationId={rangeHighlightId:r,overviewRulerDecorationId:c}})}clearDecorations(i){const n=this.rangeHighlightDecorationId;n&&(i.changeDecorations(t=>{t.deltaDecorations([n.overviewRulerDecorationId,n.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=u}),define(re[670],se([1,0,2,150,294,576]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class L extends k.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(v){const u=(0,I.localize)(0,null);return v.items=[{label:u}],v.ariaLabel=u,E.Disposable.None}provideWithTextEditor(v,u,h){const i=v.editor,n=new E.DisposableStore;n.add(u.onDidAccept(d=>{const[r]=u.selectedItems;if(r){if(!this.isValidLineNumber(i,r.lineNumber))return;this.gotoLocation(v,{range:this.toRange(r.lineNumber,r.column),keyMods:u.keyMods,preserveFocus:d.inBackground}),d.inBackground||u.hide()}}));const t=()=>{const d=this.parsePosition(i,u.value.trim().substr(L.PREFIX.length)),r=this.getPickLabel(i,d.lineNumber,d.column);if(u.items=[{lineNumber:d.lineNumber,column:d.column,label:r}],u.ariaLabel=r,!this.isValidLineNumber(i,d.lineNumber)){this.clearDecorations(i);return}const c=this.toRange(d.lineNumber,d.column);i.revealRangeInCenter(c,0),this.addDecorations(i,c)};t(),n.add(u.onDidChangeValue(()=>t()));const o=(0,m.getCodeEditor)(i);return o&&o.getOptions().get(60).renderType===2&&(o.updateOptions({lineNumbers:"on"}),n.add((0,E.toDisposable)(()=>o.updateOptions({lineNumbers:"relative"})))),n}toRange(v=1,u=1){return{startLineNumber:v,startColumn:u,endLineNumber:v,endColumn:u}}parsePosition(v,u){const h=u.split(/,|:|#/).map(n=>parseInt(n,10)).filter(n=>!isNaN(n)),i=this.lineCount(v)+1;return{lineNumber:h[0]>0?h[0]:i+h[0],column:h[1]}}getPickLabel(v,u,h){if(this.isValidLineNumber(v,u))return this.isValidColumn(v,u,h)?(0,I.localize)(1,null,u,h):(0,I.localize)(2,null,u);const i=v.getPosition()||{lineNumber:1,column:1},n=this.lineCount(v);return n>1?(0,I.localize)(3,null,i.lineNumber,i.column,n):(0,I.localize)(4,null,i.lineNumber,i.column)}isValidLineNumber(v,u){return!u||typeof u!="number"?!1:u>0&&u<=this.lineCount(v)}isValidColumn(v,u,h){if(!h||typeof h!="number")return!1;const i=this.getModel(v);if(!i)return!1;const n={lineNumber:u,column:h};return i.validatePosition(n).equals(n)}lineCount(v){var u,h;return(h=(u=this.getModel(v))===null||u===void 0?void 0:u.getLineCount())!==null&&h!==void 0?h:0}}e.AbstractGotoLineQuickAccessProvider=L,L.PREFIX=":"}),define(re[671],se([1,0,10,21,28,329,2,8,3,27,206,294,577,20]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;let o=class ni extends i.AbstractEditorNavigationQuickAccessProvider{constructor(s,a,l=Object.create(null)){super(l);this._languageFeaturesService=s,this._outlineModelService=a,this.options=l,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(s){return this.provideLabelPick(s,(0,n.localize)(0,null)),L.Disposable.None}provideWithTextEditor(s,a,l){const f=s.editor,g=this.getModel(f);return g?this._languageFeaturesService.documentSymbolProvider.has(g)?this.doProvideWithEditorSymbols(s,g,a,l):this.doProvideWithoutEditorSymbols(s,g,a,l):L.Disposable.None}doProvideWithoutEditorSymbols(s,a,l,f){const g=new L.DisposableStore;return this.provideLabelPick(l,(0,n.localize)(1,null)),(()=>Le(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(a,g))||f.isCancellationRequested||g.add(this.doProvideWithEditorSymbols(s,a,l,f))}))(),g}provideLabelPick(s,a){s.items=[{label:a,index:0,kind:14}],s.ariaLabel=a}waitForLanguageSymbolRegistry(s,a){return Le(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(s))return!0;const l=new E.DeferredPromise,f=a.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(s)&&(f.dispose(),l.complete(!0))}));return a.add((0,L.toDisposable)(()=>l.complete(!1))),l.p})}doProvideWithEditorSymbols(s,a,l,f){const g=s.editor,b=new L.DisposableStore;b.add(l.onDidAccept(w=>{const[T]=l.selectedItems;T&&T.range&&(this.gotoLocation(s,{range:T.range.selection,keyMods:l.keyMods,preserveFocus:w.inBackground}),w.inBackground||l.hide())})),b.add(l.onDidTriggerItemButton(({item:w})=>{w&&w.range&&(this.gotoLocation(s,{range:w.range.selection,keyMods:l.keyMods,forceSideBySide:!0}),l.hide())}));const p=this.getDocumentSymbols(a,f);let C;const S=()=>Le(this,void 0,void 0,function*(){C==null||C.dispose(!0),l.busy=!1,C=new m.CancellationTokenSource(f),l.busy=!0;try{const w=(0,I.prepareQuery)(l.value.substr(ni.PREFIX.length).trim()),T=yield this.doGetSymbolPicks(p,w,void 0,C.token);if(f.isCancellationRequested)return;T.length>0?l.items=T:w.original.length>0?this.provideLabelPick(l,(0,n.localize)(2,null)):this.provideLabelPick(l,(0,n.localize)(3,null))}finally{f.isCancellationRequested||(l.busy=!1)}});b.add(l.onDidChangeValue(()=>S())),S();let y=!0;return b.add(l.onDidChangeActive(()=>{const[w]=l.activeItems;if(w&&w.range){if(y){y=!1;return}g.revealRangeInCenter(w.range.selection,0),this.addDecorations(g,w.range.decoration)}})),b}doGetSymbolPicks(s,a,l,f){return Le(this,void 0,void 0,function*(){const g=yield s;if(f.isCancellationRequested)return[];const b=a.original.indexOf(ni.SCOPE_PREFIX)===0,p=b?1:0;let C,S;a.values&&a.values.length>1?(C=(0,I.pieceToQuery)(a.values[0]),S=(0,I.pieceToQuery)(a.values.slice(1))):C=a;const y=[];for(let N=0;N<g.length;N++){const R=g[N],B=(0,_.trim)(R.name),O=`$(${u.SymbolKinds.toIcon(R.kind).id}) ${B}`,D=O.length-B.length;let A=R.containerName;(l==null?void 0:l.extraContainerLabel)&&(A?A=`${l.extraContainerLabel} \u2022 ${A}`:A=l.extraContainerLabel);let P,F,W,M;if(a.original.length>p){let ee=!1;if(C!==a&&([P,F]=(0,I.scoreFuzzy2)(O,Object.assign(Object.assign({},a),{values:void 0}),p,D),typeof P=="number"&&(ee=!0)),typeof P!="number"&&([P,F]=(0,I.scoreFuzzy2)(O,C,p,D),typeof P!="number"))continue;if(!ee&&S){if(A&&S.original.length>0&&([W,M]=(0,I.scoreFuzzy2)(A,S)),typeof W!="number")continue;typeof P=="number"&&(P+=W)}}const z=R.tags&&R.tags.indexOf(1)>=0;y.push({index:N,kind:R.kind,score:P,label:O,ariaLabel:B,description:A,highlights:z?void 0:{label:F,description:M},range:{selection:v.Range.collapseToStart(R.selectionRange),decoration:R.range},strikethrough:z,buttons:(()=>{var ee,ie;const Y=((ee=this.options)===null||ee===void 0?void 0:ee.openSideBySideDirection)?(ie=this.options)===null||ie===void 0?void 0:ie.openSideBySideDirection():void 0;if(!!Y)return[{iconClass:Y==="right"?k.Codicon.splitHorizontal.classNames:k.Codicon.splitVertical.classNames,tooltip:Y==="right"?(0,n.localize)(4,null):(0,n.localize)(5,null)}]})()})}const w=y.sort((N,R)=>b?this.compareByKindAndScore(N,R):this.compareByScore(N,R));let T=[];if(b){let O=function(){R&&typeof N=="number"&&B>0&&(R.label=(0,_.format)(r[N]||d,B))},N,R,B=0;for(const D of w)N!==D.kind?(O(),N=D.kind,B=1,R={type:"separator"},T.push(R)):B++,T.push(D);O()}else w.length>0&&(T=[{label:(0,n.localize)(6,null,y.length),type:"separator"},...w]);return T})}compareByScore(s,a){if(typeof s.score!="number"&&typeof a.score=="number")return 1;if(typeof s.score=="number"&&typeof a.score!="number")return-1;if(typeof s.score=="number"&&typeof a.score=="number"){if(s.score>a.score)return-1;if(s.score<a.score)return 1}return s.index<a.index?-1:s.index>a.index?1:0}compareByKindAndScore(s,a){const l=r[s.kind]||d,f=r[a.kind]||d,g=l.localeCompare(f);return g===0?this.compareByScore(s,a):g}getDocumentSymbols(s,a){return Le(this,void 0,void 0,function*(){const l=yield this._outlineModelService.getOrCreate(s,a);return a.isCancellationRequested?[]:l.asListOfDocumentSymbols()})}};o.PREFIX="@",o.SCOPE_PREFIX=":",o.PREFIX_BY_CATEGORY=`${o.PREFIX}${o.SCOPE_PREFIX}`,o=Ie([fe(0,t.ILanguageFeaturesService),fe(1,h.IOutlineModelService)],o),e.AbstractGotoSymbolQuickAccessProvider=o;const d=(0,n.localize)(7,null),r={[5]:(0,n.localize)(8,null),[11]:(0,n.localize)(9,null),[8]:(0,n.localize)(10,null),[12]:(0,n.localize)(11,null),[4]:(0,n.localize)(12,null),[22]:(0,n.localize)(13,null),[23]:(0,n.localize)(14,null),[24]:(0,n.localize)(15,null),[10]:(0,n.localize)(16,null),[2]:(0,n.localize)(17,null),[3]:(0,n.localize)(18,null),[25]:(0,n.localize)(19,null),[1]:(0,n.localize)(20,null),[6]:(0,n.localize)(21,null),[9]:(0,n.localize)(22,null),[21]:(0,n.localize)(23,null),[14]:(0,n.localize)(24,null),[0]:(0,n.localize)(25,null),[17]:(0,n.localize)(26,null),[15]:(0,n.localize)(27,null),[16]:(0,n.localize)(28,null),[18]:(0,n.localize)(29,null),[19]:(0,n.localize)(30,null),[7]:(0,n.localize)(31,null),[13]:(0,n.localize)(32,null)}}),define(re[672],se([1,0,2,11,579,16,43,23,14,395]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameInputField=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_RENAME_INPUT_VISIBLE=new I.RawContextKey("renameInputVisible",!1,(0,k.localize)(0,null));let u=class{constructor(i,n,t,o,d){this._editor=i,this._acceptKeybindings=n,this._themeService=t,this._keybindingService=o,this._disposables=new E.DisposableStore,this.allowEditorOverflow=!0,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(d),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(44)&&this._updateFont()})),this._disposables.add(t.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,k.localize)(1,null)),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const i=()=>{var n,t;const[o,d]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(o),this._label.innerText=(0,k.localize)(2,null,(n=this._keybindingService.lookupKeybinding(o))===null||n===void 0?void 0:n.getLabel(),(t=this._keybindingService.lookupKeybinding(d))===null||t===void 0?void 0:t.getLabel())};i(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(i)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(i){var n,t,o,d;if(!this._input||!this._domNode)return;const r=i.getColor(_.widgetShadow);this._domNode.style.backgroundColor=String((n=i.getColor(_.editorWidgetBackground))!==null&&n!==void 0?n:""),this._domNode.style.boxShadow=r?` 0 0 8px 2px ${r}`:"",this._domNode.style.color=String((t=i.getColor(_.inputForeground))!==null&&t!==void 0?t:""),this._input.style.backgroundColor=String((o=i.getColor(_.inputBackground))!==null&&o!==void 0?o:"");const c=i.getColor(_.inputBorder);this._input.style.borderWidth=c?"1px":"0px",this._input.style.borderStyle=c?"solid":"none",this._input.style.borderColor=(d=c==null?void 0:c.toString())!==null&&d!==void 0?d:"none"}_updateFont(){if(!this._input||!this._label)return;const i=this._editor.getOption(44);this._input.style.fontFamily=i.fontFamily,this._input.style.fontWeight=i.fontWeight,this._input.style.fontSize=`${i.fontSize}px`,this._label.style.fontSize=`${i.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(i){i||this.cancelInput(!0)}acceptInput(i){this._currentAcceptInput&&this._currentAcceptInput(i)}cancelInput(i){this._currentCancelInput&&this._currentCancelInput(i)}getInput(i,n,t,o,d,r){this._domNode.classList.toggle("preview",d),this._position=new m.Position(i.startLineNumber,i.startColumn),this._input.value=n,this._input.setAttribute("selectionStart",t.toString()),this._input.setAttribute("selectionEnd",o.toString()),this._input.size=Math.max((i.endColumn-i.startColumn)*1.1,20);const c=new E.DisposableStore;return new Promise(s=>{this._currentCancelInput=a=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,s(a),!0),this._currentAcceptInput=a=>{if(this._input.value.trim().length===0||this._input.value===n){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,s({newName:this._input.value,wantsPreview:d&&a})},c.add(r.onCancellationRequested(()=>this.cancelInput(!0))),c.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{c.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};u=Ie([fe(2,v.IThemeService),fe(3,L.IKeybindingService),fe(4,I.IContextKeyService)],u),e.RenameInputField=u}),define(re[295],se([1,0,28,589,23,14]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,k.registerColor)("symbolIcon.arrayForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,k.registerColor)("symbolIcon.booleanForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,k.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,m.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,k.registerColor)("symbolIcon.colorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,k.registerColor)("symbolIcon.constantForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,k.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,m.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,m.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,m.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,k.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,m.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,k.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,m.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,k.registerColor)("symbolIcon.fileForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,k.registerColor)("symbolIcon.folderForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,k.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,m.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,k.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,m.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,k.registerColor)("symbolIcon.keyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,k.registerColor)("symbolIcon.keywordForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,k.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,m.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,k.registerColor)("symbolIcon.moduleForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,k.registerColor)("symbolIcon.namespaceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,k.registerColor)("symbolIcon.nullForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.numberForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,k.registerColor)("symbolIcon.objectForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.operatorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,k.registerColor)("symbolIcon.packageForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,k.registerColor)("symbolIcon.propertyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,k.registerColor)("symbolIcon.referenceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,k.registerColor)("symbolIcon.snippetForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,k.registerColor)("symbolIcon.stringForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,k.registerColor)("symbolIcon.structForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,k.registerColor)("symbolIcon.textForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,k.registerColor)("symbolIcon.typeParameterForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,k.registerColor)("symbolIcon.unitForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,m.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,k.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,m.localize)(32,null)),(0,I.registerThemingParticipant)((L,_)=>{const v=L.getColor(e.SYMBOL_ICON_ARRAY_FOREGROUND);v&&_.addRule(`${E.Codicon.symbolArray.cssSelector} { color: ${v}; }`);const u=L.getColor(e.SYMBOL_ICON_BOOLEAN_FOREGROUND);u&&_.addRule(`${E.Codicon.symbolBoolean.cssSelector} { color: ${u}; }`);const h=L.getColor(e.SYMBOL_ICON_CLASS_FOREGROUND);h&&_.addRule(`${E.Codicon.symbolClass.cssSelector} { color: ${h}; }`);const i=L.getColor(e.SYMBOL_ICON_METHOD_FOREGROUND);i&&_.addRule(`${E.Codicon.symbolMethod.cssSelector} { color: ${i}; }`);const n=L.getColor(e.SYMBOL_ICON_COLOR_FOREGROUND);n&&_.addRule(`${E.Codicon.symbolColor.cssSelector} { color: ${n}; }`);const t=L.getColor(e.SYMBOL_ICON_CONSTANT_FOREGROUND);t&&_.addRule(`${E.Codicon.symbolConstant.cssSelector} { color: ${t}; }`);const o=L.getColor(e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND);o&&_.addRule(`${E.Codicon.symbolConstructor.cssSelector} { color: ${o}; }`);const d=L.getColor(e.SYMBOL_ICON_ENUMERATOR_FOREGROUND);d&&_.addRule(`
			${E.Codicon.symbolValue.cssSelector},${E.Codicon.symbolEnum.cssSelector} { color: ${d}; }`);const r=L.getColor(e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND);r&&_.addRule(`${E.Codicon.symbolEnumMember.cssSelector} { color: ${r}; }`);const c=L.getColor(e.SYMBOL_ICON_EVENT_FOREGROUND);c&&_.addRule(`${E.Codicon.symbolEvent.cssSelector} { color: ${c}; }`);const s=L.getColor(e.SYMBOL_ICON_FIELD_FOREGROUND);s&&_.addRule(`${E.Codicon.symbolField.cssSelector} { color: ${s}; }`);const a=L.getColor(e.SYMBOL_ICON_FILE_FOREGROUND);a&&_.addRule(`${E.Codicon.symbolFile.cssSelector} { color: ${a}; }`);const l=L.getColor(e.SYMBOL_ICON_FOLDER_FOREGROUND);l&&_.addRule(`${E.Codicon.symbolFolder.cssSelector} { color: ${l}; }`);const f=L.getColor(e.SYMBOL_ICON_FUNCTION_FOREGROUND);f&&_.addRule(`${E.Codicon.symbolFunction.cssSelector} { color: ${f}; }`);const g=L.getColor(e.SYMBOL_ICON_INTERFACE_FOREGROUND);g&&_.addRule(`${E.Codicon.symbolInterface.cssSelector} { color: ${g}; }`);const b=L.getColor(e.SYMBOL_ICON_KEY_FOREGROUND);b&&_.addRule(`${E.Codicon.symbolKey.cssSelector} { color: ${b}; }`);const p=L.getColor(e.SYMBOL_ICON_KEYWORD_FOREGROUND);p&&_.addRule(`${E.Codicon.symbolKeyword.cssSelector} { color: ${p}; }`);const C=L.getColor(e.SYMBOL_ICON_MODULE_FOREGROUND);C&&_.addRule(`${E.Codicon.symbolModule.cssSelector} { color: ${C}; }`);const S=L.getColor(e.SYMBOL_ICON_NAMESPACE_FOREGROUND);S&&_.addRule(`${E.Codicon.symbolNamespace.cssSelector} { color: ${S}; }`);const y=L.getColor(e.SYMBOL_ICON_NULL_FOREGROUND);y&&_.addRule(`${E.Codicon.symbolNull.cssSelector} { color: ${y}; }`);const w=L.getColor(e.SYMBOL_ICON_NUMBER_FOREGROUND);w&&_.addRule(`${E.Codicon.symbolNumber.cssSelector} { color: ${w}; }`);const T=L.getColor(e.SYMBOL_ICON_OBJECT_FOREGROUND);T&&_.addRule(`${E.Codicon.symbolObject.cssSelector} { color: ${T}; }`);const N=L.getColor(e.SYMBOL_ICON_OPERATOR_FOREGROUND);N&&_.addRule(`${E.Codicon.symbolOperator.cssSelector} { color: ${N}; }`);const R=L.getColor(e.SYMBOL_ICON_PACKAGE_FOREGROUND);R&&_.addRule(`${E.Codicon.symbolPackage.cssSelector} { color: ${R}; }`);const B=L.getColor(e.SYMBOL_ICON_PROPERTY_FOREGROUND);B&&_.addRule(`${E.Codicon.symbolProperty.cssSelector} { color: ${B}; }`);const O=L.getColor(e.SYMBOL_ICON_REFERENCE_FOREGROUND);O&&_.addRule(`${E.Codicon.symbolReference.cssSelector} { color: ${O}; }`);const D=L.getColor(e.SYMBOL_ICON_SNIPPET_FOREGROUND);D&&_.addRule(`${E.Codicon.symbolSnippet.cssSelector} { color: ${D}; }`);const A=L.getColor(e.SYMBOL_ICON_STRING_FOREGROUND);A&&_.addRule(`${E.Codicon.symbolString.cssSelector} { color: ${A}; }`);const P=L.getColor(e.SYMBOL_ICON_STRUCT_FOREGROUND);P&&_.addRule(`${E.Codicon.symbolStruct.cssSelector} { color: ${P}; }`);const F=L.getColor(e.SYMBOL_ICON_TEXT_FOREGROUND);F&&_.addRule(`${E.Codicon.symbolText.cssSelector} { color: ${F}; }`);const W=L.getColor(e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND);W&&_.addRule(`${E.Codicon.symbolTypeParameter.cssSelector} { color: ${W}; }`);const M=L.getColor(e.SYMBOL_ICON_UNIT_FOREGROUND);M&&_.addRule(`${E.Codicon.symbolUnit.cssSelector} { color: ${M}; }`);const z=L.getColor(e.SYMBOL_ICON_VARIABLE_FOREGROUND);z&&_.addRule(`${E.Codicon.symbolVariable.cssSelector} { color: ${z}; }`)})}),define(re[296],se([1,0,7,45,653,29,16,53,14]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorService=void 0;let u=class extends k.AbstractCodeEditorService{constructor(i,n){super(n);this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=i.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let i=!1;for(const n of this.listCodeEditors())if(!n.isSimpleWidget){i=!0;break}this._editorIsOpen.set(i)}setActiveCodeEditor(i){this._activeCodeEditor=i}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(i,n,t){return n?Promise.resolve(this.doOpenEditor(n,i)):Promise.resolve(null)}doOpenEditor(i,n){if(!this.findModel(i,n.resource)){if(n.resource){const d=n.resource.scheme;if(d===m.Schemas.http||d===m.Schemas.https)return(0,E.windowOpenNoOpener)(n.resource.toString()),i}return null}const o=n.options?n.options.selection:null;if(o)if(typeof o.endLineNumber=="number"&&typeof o.endColumn=="number")i.setSelection(o),i.revealRangeInCenter(o,1);else{const d={lineNumber:o.startLineNumber,column:o.startColumn};i.setPosition(d),i.revealPositionInCenter(d,1)}return i}findModel(i,n){const t=i.getModel();return t&&t.uri.toString()!==n.toString()?null:t}};u=Ie([fe(0,L.IContextKeyService),fe(1,v.IThemeService)],u),e.StandaloneCodeEditorService=u,(0,_.registerSingleton)(I.ICodeEditorService,u)}),define(re[673],se([1,0,54,23]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_light=e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[m.editorBackground]:"#FFFFFE",[m.editorForeground]:"#000000",[m.editorInactiveSelection]:"#E5EBF1",[E.editorIndentGuides]:"#D3D3D3",[E.editorActiveIndentGuides]:"#939393",[m.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[m.editorBackground]:"#1E1E1E",[m.editorForeground]:"#D4D4D4",[m.editorInactiveSelection]:"#3A3D41",[E.editorIndentGuides]:"#404040",[E.editorActiveIndentGuides]:"#707070",[m.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[m.editorBackground]:"#000000",[m.editorForeground]:"#FFFFFF",[E.editorIndentGuides]:"#FFFFFF",[E.editorActiveIndentGuides]:"#FFFFFF"}},e.hc_light={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[m.editorBackground]:"#FFFFFF",[m.editorForeground]:"#292929",[E.editorIndentGuides]:"#292929",[E.editorActiveIndentGuides]:"#292929"}}});var En=this&&this.__rest||function(U,e){var E={};for(var m in U)Object.prototype.hasOwnProperty.call(U,m)&&e.indexOf(m)<0&&(E[m]=U[m]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function")for(var k=0,m=Object.getOwnPropertySymbols(U);k<m.length;k++)e.indexOf(m[k])<0&&Object.prototype.propertyIsEnumerable.call(U,m[k])&&(E[m[k]]=U[m[k]]);return E};define(re[39],se([1,0,48,28,4,55,2,84,26,16,9,90,14]),function(U,e,E,m,k,I,L,_,v,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerAction2=e.Action2=e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=e.isIMenuItem=void 0;function t(a){return a.command!==void 0}e.isIMenuItem=t;class o{constructor(l){this.id=o._idPool++,this._debugName=l}}e.MenuId=o,o._idPool=0,o.CommandPalette=new o("CommandPalette"),o.DebugBreakpointsContext=new o("DebugBreakpointsContext"),o.DebugCallStackContext=new o("DebugCallStackContext"),o.DebugConsoleContext=new o("DebugConsoleContext"),o.DebugVariablesContext=new o("DebugVariablesContext"),o.DebugWatchContext=new o("DebugWatchContext"),o.DebugToolBar=new o("DebugToolBar"),o.DebugToolBarStop=new o("DebugToolBarStop"),o.EditorContext=new o("EditorContext"),o.SimpleEditorContext=new o("SimpleEditorContext"),o.EditorContextCopy=new o("EditorContextCopy"),o.EditorContextPeek=new o("EditorContextPeek"),o.EditorTitle=new o("EditorTitle"),o.EditorTitleRun=new o("EditorTitleRun"),o.EditorTitleContext=new o("EditorTitleContext"),o.EmptyEditorGroup=new o("EmptyEditorGroup"),o.EmptyEditorGroupContext=new o("EmptyEditorGroupContext"),o.ExplorerContext=new o("ExplorerContext"),o.ExtensionContext=new o("ExtensionContext"),o.GlobalActivity=new o("GlobalActivity"),o.LayoutControlMenuSubmenu=new o("LayoutControlMenuSubmenu"),o.LayoutControlMenu=new o("LayoutControlMenu"),o.MenubarMainMenu=new o("MenubarMainMenu"),o.MenubarAppearanceMenu=new o("MenubarAppearanceMenu"),o.MenubarDebugMenu=new o("MenubarDebugMenu"),o.MenubarEditMenu=new o("MenubarEditMenu"),o.MenubarCopy=new o("MenubarCopy"),o.MenubarFileMenu=new o("MenubarFileMenu"),o.MenubarGoMenu=new o("MenubarGoMenu"),o.MenubarHelpMenu=new o("MenubarHelpMenu"),o.MenubarLayoutMenu=new o("MenubarLayoutMenu"),o.MenubarNewBreakpointMenu=new o("MenubarNewBreakpointMenu"),o.MenubarPanelAlignmentMenu=new o("MenubarPanelAlignmentMenu"),o.MenubarPanelPositionMenu=new o("MenubarPanelPositionMenu"),o.MenubarPreferencesMenu=new o("MenubarPreferencesMenu"),o.MenubarRecentMenu=new o("MenubarRecentMenu"),o.MenubarSelectionMenu=new o("MenubarSelectionMenu"),o.MenubarSwitchEditorMenu=new o("MenubarSwitchEditorMenu"),o.MenubarSwitchGroupMenu=new o("MenubarSwitchGroupMenu"),o.MenubarTerminalMenu=new o("MenubarTerminalMenu"),o.MenubarViewMenu=new o("MenubarViewMenu"),o.MenubarHomeMenu=new o("MenubarHomeMenu"),o.OpenEditorsContext=new o("OpenEditorsContext"),o.ProblemsPanelContext=new o("ProblemsPanelContext"),o.SCMChangeContext=new o("SCMChangeContext"),o.SCMResourceContext=new o("SCMResourceContext"),o.SCMResourceFolderContext=new o("SCMResourceFolderContext"),o.SCMResourceGroupContext=new o("SCMResourceGroupContext"),o.SCMSourceControl=new o("SCMSourceControl"),o.SCMTitle=new o("SCMTitle"),o.SearchContext=new o("SearchContext"),o.StatusBarWindowIndicatorMenu=new o("StatusBarWindowIndicatorMenu"),o.StatusBarRemoteIndicatorMenu=new o("StatusBarRemoteIndicatorMenu"),o.TestItem=new o("TestItem"),o.TestItemGutter=new o("TestItemGutter"),o.TestPeekElement=new o("TestPeekElement"),o.TestPeekTitle=new o("TestPeekTitle"),o.TouchBarContext=new o("TouchBarContext"),o.TitleBarContext=new o("TitleBarContext"),o.TunnelContext=new o("TunnelContext"),o.TunnelPrivacy=new o("TunnelPrivacy"),o.TunnelProtocol=new o("TunnelProtocol"),o.TunnelPortInline=new o("TunnelInline"),o.TunnelTitle=new o("TunnelTitle"),o.TunnelLocalAddressInline=new o("TunnelLocalAddressInline"),o.TunnelOriginInline=new o("TunnelOriginInline"),o.ViewItemContext=new o("ViewItemContext"),o.ViewContainerTitle=new o("ViewContainerTitle"),o.ViewContainerTitleContext=new o("ViewContainerTitleContext"),o.ViewTitle=new o("ViewTitle"),o.ViewTitleContext=new o("ViewTitleContext"),o.CommentThreadTitle=new o("CommentThreadTitle"),o.CommentThreadActions=new o("CommentThreadActions"),o.CommentTitle=new o("CommentTitle"),o.CommentActions=new o("CommentActions"),o.InteractiveToolbar=new o("InteractiveToolbar"),o.InteractiveCellTitle=new o("InteractiveCellTitle"),o.InteractiveCellExecute=new o("InteractiveCellExecute"),o.InteractiveInputExecute=new o("InteractiveInputExecute"),o.NotebookToolbar=new o("NotebookToolbar"),o.NotebookCellTitle=new o("NotebookCellTitle"),o.NotebookCellInsert=new o("NotebookCellInsert"),o.NotebookCellBetween=new o("NotebookCellBetween"),o.NotebookCellListTop=new o("NotebookCellTop"),o.NotebookCellExecute=new o("NotebookCellExecute"),o.NotebookCellExecutePrimary=new o("NotebookCellExecutePrimary"),o.NotebookDiffCellInputTitle=new o("NotebookDiffCellInputTitle"),o.NotebookDiffCellMetadataTitle=new o("NotebookDiffCellMetadataTitle"),o.NotebookDiffCellOutputsTitle=new o("NotebookDiffCellOutputsTitle"),o.NotebookOutputToolbar=new o("NotebookOutputToolbar"),o.NotebookEditorLayoutConfigure=new o("NotebookEditorLayoutConfigure"),o.BulkEditTitle=new o("BulkEditTitle"),o.BulkEditContext=new o("BulkEditContext"),o.TimelineItemContext=new o("TimelineItemContext"),o.TimelineTitle=new o("TimelineTitle"),o.TimelineTitleContext=new o("TimelineTitleContext"),o.TimelineFilterSubMenu=new o("TimelineFilterSubMenu"),o.AccountsContext=new o("AccountsContext"),o.PanelTitle=new o("PanelTitle"),o.AuxiliaryBarTitle=new o("AuxiliaryBarTitle"),o.TerminalInstanceContext=new o("TerminalInstanceContext"),o.TerminalEditorInstanceContext=new o("TerminalEditorInstanceContext"),o.TerminalNewDropdownContext=new o("TerminalNewDropdownContext"),o.TerminalTabContext=new o("TerminalTabContext"),o.TerminalTabEmptyAreaContext=new o("TerminalTabEmptyAreaContext"),o.TerminalInlineTabContext=new o("TerminalInlineTabContext"),o.WebviewContext=new o("WebviewContext"),o.InlineCompletionsActions=new o("InlineCompletionsActions"),o.NewFile=new o("NewFile"),e.IMenuService=(0,h.createDecorator)("menuService"),e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new k.Emitter,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:a=>a===o.CommandPalette}}addCommand(a){return this.addCommands(I.Iterable.single(a))}addCommands(a){for(const l of a)this._commands.set(l.id,l);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,L.toDisposable)(()=>{let l=!1;for(const f of a)l=this._commands.delete(f.id)||l;l&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(a){return this._commands.get(a)}getCommands(){const a=new Map;return this._commands.forEach((l,f)=>a.set(f,l)),a}appendMenuItem(a,l){return this.appendMenuItems(I.Iterable.single({id:a,item:l}))}appendMenuItems(a){const l=new Set,f=new _.LinkedList;for(const{id:g,item:b}of a){let p=this._menuItems.get(g);p||(p=new _.LinkedList,this._menuItems.set(g,p)),f.push(p.push(b)),l.add(g)}return this._onDidChangeMenu.fire(l),(0,L.toDisposable)(()=>{if(f.size>0){for(let g of f)g();this._onDidChangeMenu.fire(l),f.clear()}})}getMenuItems(a){let l;return this._menuItems.has(a)?l=[...this._menuItems.get(a)]:l=[],a===o.CommandPalette&&this._appendImplicitItems(l),l}_appendImplicitItems(a){const l=new Set;for(const f of a)t(f)&&(l.add(f.command.id),f.alt&&l.add(f.alt.id));this._commands.forEach((f,g)=>{l.has(g)||a.push({command:f})})}};class d extends E.SubmenuAction{constructor(l,f,g,b){super(`submenuitem.${l.submenu.id}`,typeof l.title=="string"?l.title:l.title.value,[],"submenu");this.item=l,this._menuService=f,this._contextKeyService=g,this._options=b}get actions(){const l=[],f=this._menuService.createMenu(this.item.submenu,this._contextKeyService),g=f.getActions(this._options);f.dispose();for(const[,b]of g)b.length>0&&(l.push(...b),l.push(new E.Separator));return l.length&&l.pop(),l}}e.SubmenuItemAction=d;let r=class ki{constructor(l,f,g,b,p){var C,S;if(this._commandService=p,this.id=l.id,this.label=(g==null?void 0:g.renderShortTitle)&&l.shortTitle?typeof l.shortTitle=="string"?l.shortTitle:l.shortTitle.value:typeof l.title=="string"?l.title:l.title.value,this.tooltip=(S=typeof l.tooltip=="string"?l.tooltip:(C=l.tooltip)===null||C===void 0?void 0:C.value)!==null&&S!==void 0?S:"",this.enabled=!l.precondition||b.contextMatchesRules(l.precondition),this.checked=void 0,l.toggled){const y=l.toggled.condition?l.toggled:{condition:l.toggled};this.checked=b.contextMatchesRules(y.condition),this.checked&&y.tooltip&&(this.tooltip=typeof y.tooltip=="string"?y.tooltip:y.tooltip.value),y.title&&(this.label=typeof y.title=="string"?y.title:y.title.value)}this.item=l,this.alt=f?new ki(f,void 0,g,b,p):void 0,this._options=g,n.ThemeIcon.isThemeIcon(l.icon)&&(this.class=m.CSSIcon.asClassName(l.icon))}dispose(){}run(...l){var f,g;let b=[];return((f=this._options)===null||f===void 0?void 0:f.arg)&&(b=[...b,this._options.arg]),((g=this._options)===null||g===void 0?void 0:g.shouldForwardArgs)&&(b=[...b,...l]),this._commandService.executeCommand(this.id,...b)}};r=Ie([fe(3,u.IContextKeyService),fe(4,v.ICommandService)],r),e.MenuItemAction=r;class c{constructor(l){this.desc=l}}e.Action2=c;function s(a){const l=new L.DisposableStore,f=new a,g=f.desc,{f1:b,menu:p,keybinding:C,description:S}=g,y=En(g,["f1","menu","keybinding","description"]);if(l.add(v.CommandsRegistry.registerCommand({id:y.id,handler:(w,...T)=>f.run(w,...T),description:S})),Array.isArray(p)?l.add(e.MenuRegistry.appendMenuItems(p.map(w=>({id:w.id,item:Object.assign({command:y},w)})))):p&&l.add(e.MenuRegistry.appendMenuItem(p.id,Object.assign({command:y},p))),b&&(l.add(e.MenuRegistry.appendMenuItem(o.CommandPalette,{command:y,when:y.precondition})),l.add(e.MenuRegistry.addCommand(y))),Array.isArray(C))for(let w of C)i.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},w),{id:y.id,when:y.precondition?u.ContextKeyExpr.and(y.precondition,w.when):w.when}));else C&&i.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},C),{id:y.id,when:y.precondition?u.ContextKeyExpr.and(y.precondition,C.when):C.when}));return l}e.registerAction2=s}),define(re[15],se([1,0,512,25,29,11,49,57,39,26,16,9,90,38,91,19,69]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.registerEditorContribution=e.registerInstantiatedEditorAction=e.registerMultiEditorAction=e.registerEditorAction=e.registerEditorCommand=e.registerModelAndPositionCommand=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0;class c{constructor(D){this.id=D.id,this.precondition=D.precondition,this._kbOpts=D.kbOpts,this._menuOpts=D.menuOpts,this._description=D.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const D=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const A of D){let P=A.kbExpr;this.precondition&&(P?P=h.ContextKeyExpr.and(P,this.precondition):P=this.precondition);const F={id:this.id,weight:A.weight,args:A.args,when:P,primary:A.primary,secondary:A.secondary,win:A.win,linux:A.linux,mac:A.mac};n.KeybindingsRegistry.registerKeybindingRule(F)}}u.CommandsRegistry.registerCommand({id:this.id,handler:(D,A)=>this.runCommand(D,A),description:this._description})}_registerMenuItem(D){v.MenuRegistry.appendMenuItem(D.menuId,{group:D.group,command:{id:this.id,title:D.title,icon:D.icon,precondition:this.precondition},when:D.when,order:D.order})}}e.Command=c;class s extends c{constructor(){super(...arguments);this._implementations=[]}addImplementation(D,A,P){return this._implementations.push({priority:D,name:A,implementation:P}),this._implementations.sort((F,W)=>W.priority-F.priority),{dispose:()=>{for(let F=0;F<this._implementations.length;F++)if(this._implementations[F].implementation===P){this._implementations.splice(F,1);return}}}}runCommand(D,A){const P=D.get(r.ILogService);P.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const F of this._implementations){const W=F.implementation(D,A);if(W)return P.trace(`Command '${this.id}' was handled by '${F.name}'.`),typeof W=="boolean"?void 0:W}P.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=s;class a extends c{constructor(D,A){super(A);this.command=D}runCommand(D,A){return this.command.runCommand(D,A)}}e.ProxyCommand=a;class l extends c{static bindToContribution(D){return class extends l{constructor(P){super(P);this._callback=P.handler}runEditorCommand(P,F,W){const M=D(F);M&&this._callback(M,W)}}}runCommand(D,A){const P=D.get(k.ICodeEditorService),F=P.getFocusedCodeEditor()||P.getActiveCodeEditor();if(!!F)return F.invokeWithinContext(W=>{if(!!W.get(h.IContextKeyService).contextMatchesRules((0,d.withNullAsUndefined)(this.precondition)))return this.runEditorCommand(W,F,A)})}}e.EditorCommand=l;class f extends l{constructor(D){super(f.convertOptions(D));this.label=D.label,this.alias=D.alias}static convertOptions(D){let A;Array.isArray(D.menuOpts)?A=D.menuOpts:D.menuOpts?A=[D.menuOpts]:A=[];function P(F){return F.menuId||(F.menuId=v.MenuId.EditorContext),F.title||(F.title=D.label),F.when=h.ContextKeyExpr.and(D.precondition,F.when),F}return Array.isArray(D.contextMenuOpts)?A.push(...D.contextMenuOpts.map(P)):D.contextMenuOpts&&A.push(P(D.contextMenuOpts)),D.menuOpts=A,D}runEditorCommand(D,A,P){return this.reportTelemetry(D,A),this.run(D,A,P||{})}reportTelemetry(D,A){D.get(o.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=f;class g extends f{constructor(){super(...arguments);this._implementations=[]}addImplementation(D,A){return this._implementations.push([D,A]),this._implementations.sort((P,F)=>F[0]-P[0]),{dispose:()=>{for(let P=0;P<this._implementations.length;P++)if(this._implementations[P][1]===A){this._implementations.splice(P,1);return}}}}run(D,A,P){for(const F of this._implementations){const W=F[1](D,A,P);if(W)return typeof W=="boolean"?void 0:W}}}e.MultiEditorAction=g;function b(O,D){u.CommandsRegistry.registerCommand(O,function(A,...P){const F=A.get(i.IInstantiationService),[W,M]=P;(0,d.assertType)(m.URI.isUri(W)),(0,d.assertType)(I.Position.isIPosition(M));const z=A.get(L.IModelService).getModel(W);if(z){const ee=I.Position.lift(M);return F.invokeFunction(D,z,ee,...P.slice(2))}return A.get(_.ITextModelService).createModelReference(W).then(ee=>new Promise((ie,Y)=>{try{const X=F.invokeFunction(D,ee.object.textEditorModel,I.Position.lift(M),P.slice(2));ie(X)}catch(X){Y(X)}}).finally(()=>{ee.dispose()}))})}e.registerModelAndPositionCommand=b;function p(O){return R.INSTANCE.registerEditorCommand(O),O}e.registerEditorCommand=p;function C(O){const D=new O;return R.INSTANCE.registerEditorAction(D),D}e.registerEditorAction=C;function S(O){return R.INSTANCE.registerEditorAction(O),O}e.registerMultiEditorAction=S;function y(O){R.INSTANCE.registerEditorAction(O)}e.registerInstantiatedEditorAction=y;function w(O,D){R.INSTANCE.registerEditorContribution(O,D)}e.registerEditorContribution=w;var T;(function(O){function D(M){return R.INSTANCE.getEditorCommand(M)}O.getEditorCommand=D;function A(){return R.INSTANCE.getEditorActions()}O.getEditorActions=A;function P(){return R.INSTANCE.getEditorContributions()}O.getEditorContributions=P;function F(M){return R.INSTANCE.getEditorContributions().filter(z=>M.indexOf(z.id)>=0)}O.getSomeEditorContributions=F;function W(){return R.INSTANCE.getDiffEditorContributions()}O.getDiffEditorContributions=W})(T=e.EditorExtensionsRegistry||(e.EditorExtensionsRegistry={}));const N={EditorCommonContributions:"editor.contributions"};class R{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(D,A){this.editorContributions.push({id:D,ctor:A})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(D){D.register(),this.editorActions.push(D)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(D){D.register(),this.editorCommands[D.id]=D}getEditorCommand(D){return this.editorCommands[D]||null}}R.INSTANCE=new R,t.Registry.add(N.EditorCommonContributions,R.INSTANCE);function B(O){return O.register(),O}e.UndoCommand=B(new s({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2048|56},menuOpts:[{menuId:v.MenuId.MenubarEditMenu,group:"1_do",title:E.localize(0,null),order:1},{menuId:v.MenuId.CommandPalette,group:"",title:E.localize(1,null),order:1}]})),B(new a(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=B(new s({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}},menuOpts:[{menuId:v.MenuId.MenubarEditMenu,group:"1_do",title:E.localize(2,null),order:2},{menuId:v.MenuId.CommandPalette,group:"",title:E.localize(3,null),order:1}]})),B(new a(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=B(new s({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2048|31},menuOpts:[{menuId:v.MenuId.MenubarSelectionMenu,group:"1_basic",title:E.localize(4,null),order:1},{menuId:v.MenuId.CommandPalette,group:"",title:E.localize(5,null),order:1}]}))}),define(re[160],se([1,0,511,34,19,46,15,29,420,62,184,185,211,11,3,22,16,90]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const s=0;class a extends L.EditorCommand{runEditorCommand(R,B,O){const D=B._getViewModel();!D||this.runCoreEditorCommand(D,O||{})}}e.CoreEditorCommand=a;var l;(function(N){const R=function(O){if(!k.isObject(O))return!1;const D=O;return!(!k.isString(D.to)||!k.isUndefined(D.by)&&!k.isString(D.by)||!k.isUndefined(D.value)&&!k.isNumber(D.value)||!k.isUndefined(D.revealCursor)&&!k.isBoolean(D.revealCursor))};N.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:R,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},N.RawDirection={Up:"up",Down:"down"},N.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function B(O){let D;switch(O.to){case N.RawDirection.Up:D=1;break;case N.RawDirection.Down:D=2;break;default:return null}let A;switch(O.by){case N.RawUnit.Line:A=1;break;case N.RawUnit.WrappedLine:A=2;break;case N.RawUnit.Page:A=3;break;case N.RawUnit.HalfPage:A=4;break;default:A=2}const P=Math.floor(O.value||1),F=!!O.revealCursor;return{direction:D,unit:A,value:P,revealCursor:F,select:!!O.select}}N.parse=B})(l=e.EditorScroll_||(e.EditorScroll_={}));var f;(function(N){const R=function(B){if(!k.isObject(B))return!1;const O=B;return!(!k.isNumber(O.lineNumber)&&!k.isString(O.lineNumber)||!k.isUndefined(O.at)&&!k.isString(O.at))};N.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:R,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},N.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(f=e.RevealLine_||(e.RevealLine_={}));class g{constructor(R){R.addImplementation(1e4,"code-editor",(B,O)=>{const D=B.get(_.ICodeEditorService).getFocusedCodeEditor();return D&&D.hasTextFocus()?this._runEditorCommand(B,D,O):!1}),R.addImplementation(1e3,"generic-dom-input-textarea",(B,O)=>{const D=document.activeElement;return D&&["input","textarea"].indexOf(D.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),R.addImplementation(0,"generic-dom",(B,O)=>{const D=B.get(_.ICodeEditorService).getActiveCodeEditor();return D?(D.focus(),this._runEditorCommand(B,D,O)):!1})}_runEditorCommand(R,B,O){const D=this.runEditorCommand(R,B,O);return D||!0}}var b;(function(N){class R extends a{constructor(x){super(x);this._minimalReveal=x.minimalReveal,this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,V){x.model.pushStackElement(),x.setCursorStates(V.source,3,[i.CursorMoveCommands.moveTo(x,x.getPrimaryCursorState(),this._inSelectionMode,V.position,V.viewPosition)])&&x.revealPrimaryCursor(V.source,!0,this._minimalReveal)}}N.MoveTo=(0,L.registerEditorCommand)(new R({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),N.MoveToSelect=(0,L.registerEditorCommand)(new R({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class B extends a{runCoreEditorCommand(x,V){x.model.pushStackElement();const K=this._getColumnSelectResult(x,x.getPrimaryCursorState(),x.getCursorColumnSelectData(),V);x.setCursorStates(V.source,3,K.viewStates.map(le=>u.CursorState.fromViewState(le))),x.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:K.fromLineNumber,fromViewVisualColumn:K.fromVisualColumn,toViewLineNumber:K.toLineNumber,toViewVisualColumn:K.toVisualColumn}),K.reversed?x.revealTopMostCursor(V.source):x.revealBottomMostCursor(V.source)}}N.ColumnSelect=(0,L.registerEditorCommand)(new class extends B{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(G,x,V,K){const le=G.model.validatePosition(K.position),ae=G.coordinatesConverter.validateViewPosition(new t.Position(K.viewPosition.lineNumber,K.viewPosition.column),le),Q=K.doColumnSelect?V.fromViewLineNumber:ae.lineNumber,q=K.doColumnSelect?V.fromViewVisualColumn:K.mouseColumn-1;return v.ColumnSelection.columnSelect(G.cursorConfig,G,Q,q,ae.lineNumber,K.mouseColumn-1)}}),N.CursorColumnSelectLeft=(0,L.registerEditorCommand)(new class extends B{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|15,linux:{primary:0}}})}_getColumnSelectResult(G,x,V,K){return v.ColumnSelection.columnSelectLeft(G.cursorConfig,G,V)}}),N.CursorColumnSelectRight=(0,L.registerEditorCommand)(new class extends B{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|17,linux:{primary:0}}})}_getColumnSelectResult(G,x,V,K){return v.ColumnSelection.columnSelectRight(G.cursorConfig,G,V)}});class O extends B{constructor(x){super(x);this._isPaged=x.isPaged}_getColumnSelectResult(x,V,K,le){return v.ColumnSelection.columnSelectUp(x.cursorConfig,x,K,this._isPaged)}}N.CursorColumnSelectUp=(0,L.registerEditorCommand)(new O({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|16,linux:{primary:0}}})),N.CursorColumnSelectPageUp=(0,L.registerEditorCommand)(new O({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|11,linux:{primary:0}}}));class D extends B{constructor(x){super(x);this._isPaged=x.isPaged}_getColumnSelectResult(x,V,K,le){return v.ColumnSelection.columnSelectDown(x.cursorConfig,x,K,this._isPaged)}}N.CursorColumnSelectDown=(0,L.registerEditorCommand)(new D({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|18,linux:{primary:0}}})),N.CursorColumnSelectPageDown=(0,L.registerEditorCommand)(new D({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|512|12,linux:{primary:0}}}));class A extends a{constructor(){super({id:"cursorMove",precondition:void 0,description:i.CursorMove.description})}runCoreEditorCommand(x,V){const K=i.CursorMove.parse(V);!K||this._runCursorMove(x,V.source,K)}_runCursorMove(x,V,K){x.model.pushStackElement(),x.setCursorStates(V,3,A._move(x,x.getCursorStates(),K)),x.revealPrimaryCursor(V,!0)}static _move(x,V,K){const le=K.select,ae=K.value;switch(K.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return i.CursorMoveCommands.simpleMove(x,V,K.direction,le,ae,K.unit);case 11:case 13:case 12:case 14:return i.CursorMoveCommands.viewportMove(x,V,K.direction,le,ae);default:return null}}}N.CursorMoveImpl=A,N.CursorMove=(0,L.registerEditorCommand)(new A);class P extends a{constructor(x){super(x);this._staticArgs=x.args}runCoreEditorCommand(x,V){let K=this._staticArgs;this._staticArgs.value===-1&&(K={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:V.pageSize||x.cursorConfig.pageSize}),x.model.pushStackElement(),x.setCursorStates(V.source,3,i.CursorMoveCommands.simpleMove(x,x.getCursorStates(),K.direction,K.select,K.value,K.unit)),x.revealPrimaryCursor(V.source,!0)}}N.CursorLeft=(0,L.registerEditorCommand)(new P({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[256|32]}}})),N.CursorLeftSelect=(0,L.registerEditorCommand)(new P({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|15}})),N.CursorRight=(0,L.registerEditorCommand)(new P({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[256|36]}}})),N.CursorRightSelect=(0,L.registerEditorCommand)(new P({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|17}})),N.CursorUp=(0,L.registerEditorCommand)(new P({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[256|46]}}})),N.CursorUpSelect=(0,L.registerEditorCommand)(new P({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}})),N.CursorPageUp=(0,L.registerEditorCommand)(new P({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:11}})),N.CursorPageUpSelect=(0,L.registerEditorCommand)(new P({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|11}})),N.CursorDown=(0,L.registerEditorCommand)(new P({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[256|44]}}})),N.CursorDownSelect=(0,L.registerEditorCommand)(new P({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}})),N.CursorPageDown=(0,L.registerEditorCommand)(new P({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:12}})),N.CursorPageDownSelect=(0,L.registerEditorCommand)(new P({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|12}})),N.CreateCursor=(0,L.registerEditorCommand)(new class extends a{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(G,x){let V;x.wholeLine?V=i.CursorMoveCommands.line(G,G.getPrimaryCursorState(),!1,x.position,x.viewPosition):V=i.CursorMoveCommands.moveTo(G,G.getPrimaryCursorState(),!1,x.position,x.viewPosition);const K=G.getCursorStates();if(K.length>1){const le=V.modelState?V.modelState.position:null,ae=V.viewState?V.viewState.position:null;for(let Q=0,q=K.length;Q<q;Q++){const Z=K[Q];if(!(le&&!Z.modelState.selection.containsPosition(le))&&!(ae&&!Z.viewState.selection.containsPosition(ae))){K.splice(Q,1),G.model.pushStackElement(),G.setCursorStates(x.source,3,K);return}}}K.push(V),G.model.pushStackElement(),G.setCursorStates(x.source,3,K)}}),N.LastCursorMoveToSelect=(0,L.registerEditorCommand)(new class extends a{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(G,x){const V=G.getLastAddedCursorIndex(),K=G.getCursorStates(),le=K.slice(0);le[V]=i.CursorMoveCommands.moveTo(G,K[V],!0,x.position,x.viewPosition),G.model.pushStackElement(),G.setCursorStates(x.source,3,le)}});class F extends a{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,V){x.model.pushStackElement(),x.setCursorStates(V.source,3,i.CursorMoveCommands.moveToBeginningOfLine(x,x.getCursorStates(),this._inSelectionMode)),x.revealPrimaryCursor(V.source,!0)}}N.CursorHome=(0,L.registerEditorCommand)(new F({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}})),N.CursorHomeSelect=(0,L.registerEditorCommand)(new F({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));class W extends a{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,V){x.model.pushStackElement(),x.setCursorStates(V.source,3,this._exec(x.getCursorStates())),x.revealPrimaryCursor(V.source,!0)}_exec(x){const V=[];for(let K=0,le=x.length;K<le;K++){const ae=x[K],Q=ae.modelState.position.lineNumber;V[K]=u.CursorState.fromModelState(ae.modelState.move(this._inSelectionMode,Q,1,0))}return V}}N.CursorLineStart=(0,L.registerEditorCommand)(new W({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|31}}})),N.CursorLineStartSelect=(0,L.registerEditorCommand)(new W({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|31}}}));class M extends a{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,V){x.model.pushStackElement(),x.setCursorStates(V.source,3,i.CursorMoveCommands.moveToEndOfLine(x,x.getCursorStates(),this._inSelectionMode,V.sticky||!1)),x.revealPrimaryCursor(V.source,!0)}}N.CursorEnd=(0,L.registerEditorCommand)(new M({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2048|17]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:E.localize(0,null),type:"boolean",default:!1}}}}]}})),N.CursorEndSelect=(0,L.registerEditorCommand)(new M({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:E.localize(1,null),type:"boolean",default:!1}}}}]}}));class z extends a{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,V){x.model.pushStackElement(),x.setCursorStates(V.source,3,this._exec(x,x.getCursorStates())),x.revealPrimaryCursor(V.source,!0)}_exec(x,V){const K=[];for(let le=0,ae=V.length;le<ae;le++){const Q=V[le],q=Q.modelState.position.lineNumber,Z=x.model.getLineMaxColumn(q);K[le]=u.CursorState.fromModelState(Q.modelState.move(this._inSelectionMode,q,Z,0))}return K}}N.CursorLineEnd=(0,L.registerEditorCommand)(new z({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|35}}})),N.CursorLineEndSelect=(0,L.registerEditorCommand)(new z({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|1024|35}}}));class ee extends a{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,V){x.model.pushStackElement(),x.setCursorStates(V.source,3,i.CursorMoveCommands.moveToBeginningOfBuffer(x,x.getCursorStates(),this._inSelectionMode)),x.revealPrimaryCursor(V.source,!0)}}N.CursorTop=(0,L.registerEditorCommand)(new ee({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|14,mac:{primary:2048|16}}})),N.CursorTopSelect=(0,L.registerEditorCommand)(new ee({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));class ie extends a{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,V){x.model.pushStackElement(),x.setCursorStates(V.source,3,i.CursorMoveCommands.moveToEndOfBuffer(x,x.getCursorStates(),this._inSelectionMode)),x.revealPrimaryCursor(V.source,!0)}}N.CursorBottom=(0,L.registerEditorCommand)(new ie({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|13,mac:{primary:2048|18}}})),N.CursorBottomSelect=(0,L.registerEditorCommand)(new ie({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));class Y extends a{constructor(){super({id:"editorScroll",precondition:void 0,description:l.description})}runCoreEditorCommand(x,V){const K=l.parse(V);!K||this._runEditorScroll(x,V.source,K)}_runEditorScroll(x,V,K){const le=this._computeDesiredScrollTop(x,K);if(K.revealCursor){const ae=x.getCompletelyVisibleViewRangeAtScrollTop(le);x.setCursorStates(V,3,[i.CursorMoveCommands.findPositionInViewportIfOutside(x,x.getPrimaryCursorState(),ae,K.select)])}x.viewLayout.setScrollPosition({scrollTop:le},0)}_computeDesiredScrollTop(x,V){if(V.unit===1){const ae=x.getCompletelyVisibleViewRange(),Q=x.coordinatesConverter.convertViewRangeToModelRange(ae);let q;V.direction===1?q=Math.max(1,Q.startLineNumber-V.value):q=Math.min(x.model.getLineCount(),Q.startLineNumber+V.value);const Z=x.coordinatesConverter.convertModelPositionToViewPosition(new t.Position(q,1));return x.viewLayout.getVerticalOffsetForLineNumber(Z.lineNumber)}let K;V.unit===3?K=x.cursorConfig.pageSize*V.value:V.unit===4?K=Math.round(x.cursorConfig.pageSize/2)*V.value:K=V.value;const le=(V.direction===1?-1:1)*K;return x.viewLayout.getCurrentScrollTop()+le*x.cursorConfig.lineHeight}}N.EditorScrollImpl=Y,N.EditorScroll=(0,L.registerEditorCommand)(new Y),N.ScrollLineUp=(0,L.registerEditorCommand)(new class extends a{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|16,mac:{primary:256|11}}})}runCoreEditorCommand(G,x){N.EditorScroll._runEditorScroll(G,x.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),N.ScrollPageUp=(0,L.registerEditorCommand)(new class extends a{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})}runCoreEditorCommand(G,x){N.EditorScroll._runEditorScroll(G,x.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),N.ScrollLineDown=(0,L.registerEditorCommand)(new class extends a{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|18,mac:{primary:256|12}}})}runCoreEditorCommand(G,x){N.EditorScroll._runEditorScroll(G,x.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),N.ScrollPageDown=(0,L.registerEditorCommand)(new class extends a{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})}runCoreEditorCommand(G,x){N.EditorScroll._runEditorScroll(G,x.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class X extends a{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,V){x.model.pushStackElement(),x.setCursorStates(V.source,3,[i.CursorMoveCommands.word(x,x.getPrimaryCursorState(),this._inSelectionMode,V.position)]),x.revealPrimaryCursor(V.source,!0)}}N.WordSelect=(0,L.registerEditorCommand)(new X({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),N.WordSelectDrag=(0,L.registerEditorCommand)(new X({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),N.LastCursorWordSelect=(0,L.registerEditorCommand)(new class extends a{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(G,x){const V=G.getLastAddedCursorIndex(),K=G.getCursorStates(),le=K.slice(0),ae=K[V];le[V]=i.CursorMoveCommands.word(G,ae,ae.modelState.hasSelection(),x.position),G.model.pushStackElement(),G.setCursorStates(x.source,3,le)}});class J extends a{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,V){x.model.pushStackElement(),x.setCursorStates(V.source,3,[i.CursorMoveCommands.line(x,x.getPrimaryCursorState(),this._inSelectionMode,V.position,V.viewPosition)]),x.revealPrimaryCursor(V.source,!1)}}N.LineSelect=(0,L.registerEditorCommand)(new J({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),N.LineSelectDrag=(0,L.registerEditorCommand)(new J({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class oe extends a{constructor(x){super(x);this._inSelectionMode=x.inSelectionMode}runCoreEditorCommand(x,V){const K=x.getLastAddedCursorIndex(),le=x.getCursorStates(),ae=le.slice(0);ae[K]=i.CursorMoveCommands.line(x,le[K],this._inSelectionMode,V.position,V.viewPosition),x.model.pushStackElement(),x.setCursorStates(V.source,3,ae)}}N.LastCursorLineSelect=(0,L.registerEditorCommand)(new oe({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),N.LastCursorLineSelectDrag=(0,L.registerEditorCommand)(new oe({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),N.CancelSelection=(0,L.registerEditorCommand)(new class extends a{constructor(){super({id:"cancelSelection",precondition:d.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(G,x){G.model.pushStackElement(),G.setCursorStates(x.source,3,[i.CursorMoveCommands.cancelSelection(G,G.getPrimaryCursorState())]),G.revealPrimaryCursor(x.source,!0)}}),N.RemoveSecondaryCursors=(0,L.registerEditorCommand)(new class extends a{constructor(){super({id:"removeSecondaryCursors",precondition:d.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:s+1,kbExpr:d.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})}runCoreEditorCommand(G,x){G.model.pushStackElement(),G.setCursorStates(x.source,3,[G.getPrimaryCursorState()]),G.revealPrimaryCursor(x.source,!0),(0,I.status)(E.localize(2,null))}}),N.RevealLine=(0,L.registerEditorCommand)(new class extends a{constructor(){super({id:"revealLine",precondition:void 0,description:f.description})}runCoreEditorCommand(G,x){const V=x,K=V.lineNumber||0;let le=typeof K=="number"?K+1:parseInt(K)+1;le<1&&(le=1);const ae=G.model.getLineCount();le>ae&&(le=ae);const Q=new o.Range(le,1,le,G.model.getLineMaxColumn(le));let q=0;if(V.at)switch(V.at){case f.RawAtArgument.Top:q=3;break;case f.RawAtArgument.Center:q=1;break;case f.RawAtArgument.Bottom:q=4;break;default:break}const Z=G.coordinatesConverter.convertModelRangeToViewRange(Q);G.revealRange(x.source,!1,Z,q,0)}}),N.SelectAll=new class extends g{constructor(){super(L.SelectAllCommand)}runDOMCommand(){m.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(G,x,V){const K=x._getViewModel();!K||this.runCoreEditorCommand(K,V)}runCoreEditorCommand(G,x){G.model.pushStackElement(),G.setCursorStates("keyboard",3,[i.CursorMoveCommands.selectAll(G,G.getPrimaryCursorState())])}},N.SetSelection=(0,L.registerEditorCommand)(new class extends a{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(G,x){G.model.pushStackElement(),G.setCursorStates(x.source,3,[u.CursorState.fromModelSelection(x.selection)])}})})(b=e.CoreNavigationCommands||(e.CoreNavigationCommands={}));const p=r.ContextKeyExpr.and(d.EditorContextKeys.textInputFocus,d.EditorContextKeys.columnSelection);function C(N,R){c.KeybindingsRegistry.registerKeybindingRule({id:N,primary:R,when:p,weight:s+1})}C(b.CursorColumnSelectLeft.id,1024|15),C(b.CursorColumnSelectRight.id,1024|17),C(b.CursorColumnSelectUp.id,1024|16),C(b.CursorColumnSelectPageUp.id,1024|11),C(b.CursorColumnSelectDown.id,1024|18),C(b.CursorColumnSelectPageDown.id,1024|12);function S(N){return N.register(),N}var y;(function(N){class R extends L.EditorCommand{runEditorCommand(O,D,A){const P=D._getViewModel();!P||this.runCoreEditingCommand(D,P,A||{})}}N.CoreEditingCommand=R,N.LineBreakInsert=(0,L.registerEditorCommand)(new class extends R{constructor(){super({id:"lineBreakInsert",precondition:d.EditorContextKeys.writable,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|45}}})}runCoreEditingCommand(B,O,D){B.pushUndoStop(),B.executeCommands(this.id,n.TypeOperations.lineBreakInsert(O.cursorConfig,O.model,O.getCursorStates().map(A=>A.modelState.selection)))}}),N.Outdent=(0,L.registerEditorCommand)(new class extends R{constructor(){super({id:"outdent",precondition:d.EditorContextKeys.writable,kbOpts:{weight:s,kbExpr:r.ContextKeyExpr.and(d.EditorContextKeys.editorTextFocus,d.EditorContextKeys.tabDoesNotMoveFocus),primary:1024|2}})}runCoreEditingCommand(B,O,D){B.pushUndoStop(),B.executeCommands(this.id,n.TypeOperations.outdent(O.cursorConfig,O.model,O.getCursorStates().map(A=>A.modelState.selection))),B.pushUndoStop()}}),N.Tab=(0,L.registerEditorCommand)(new class extends R{constructor(){super({id:"tab",precondition:d.EditorContextKeys.writable,kbOpts:{weight:s,kbExpr:r.ContextKeyExpr.and(d.EditorContextKeys.editorTextFocus,d.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(B,O,D){B.pushUndoStop(),B.executeCommands(this.id,n.TypeOperations.tab(O.cursorConfig,O.model,O.getCursorStates().map(A=>A.modelState.selection))),B.pushUndoStop()}}),N.DeleteLeft=(0,L.registerEditorCommand)(new class extends R{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})}runCoreEditingCommand(B,O,D){const[A,P]=h.DeleteOperations.deleteLeft(O.getPrevEditOperationType(),O.cursorConfig,O.model,O.getCursorStates().map(F=>F.modelState.selection),O.getCursorAutoClosedCharacters());A&&B.pushUndoStop(),B.executeCommands(this.id,P),O.setPrevEditOperationType(2)}}),N.DeleteRight=(0,L.registerEditorCommand)(new class extends R{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:s,kbExpr:d.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})}runCoreEditingCommand(B,O,D){const[A,P]=h.DeleteOperations.deleteRight(O.getPrevEditOperationType(),O.cursorConfig,O.model,O.getCursorStates().map(F=>F.modelState.selection));A&&B.pushUndoStop(),B.executeCommands(this.id,P),O.setPrevEditOperationType(3)}}),N.Undo=new class extends g{constructor(){super(L.UndoCommand)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(B,O,D){if(!(!O.hasModel()||O.getOption(81)===!0))return O.getModel().undo()}},N.Redo=new class extends g{constructor(){super(L.RedoCommand)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(B,O,D){if(!(!O.hasModel()||O.getOption(81)===!0))return O.getModel().redo()}}})(y=e.CoreEditingCommands||(e.CoreEditingCommands={}));class w extends L.Command{constructor(R,B,O){super({id:R,precondition:void 0,description:O});this._handlerId=B}runCommand(R,B){const O=R.get(_.ICodeEditorService).getFocusedCodeEditor();!O||O.trigger("keyboard",this._handlerId,B)}}function T(N,R){S(new w("default:"+N,N)),S(new w(N,N,R))}T("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),T("replacePreviousChar"),T("compositionType"),T("compositionStart"),T("compositionEnd"),T("paste"),T("cut")}),define(re[674],se([1,0,204,15]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let k=class{constructor(L,_){}dispose(){}};k.ID="editor.contrib.markerDecorations",k=Ie([fe(1,E.IMarkerDecorationsService)],k),e.MarkerDecorationsContribution=k,(0,m.registerEditorContribution)(k.ID,k)}),define(re[675],se([1,0,160,11,17]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class I{constructor(_,v,u,h){this.configuration=_,this.viewModel=v,this.userInputEvents=u,this.commandDelegate=h}paste(_,v,u,h){this.commandDelegate.paste(_,v,u,h)}type(_){this.commandDelegate.type(_)}compositionType(_,v,u,h){this.commandDelegate.compositionType(_,v,u,h)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(_){E.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:_})}_validateViewColumn(_){const v=this.viewModel.getLineMinColumn(_.lineNumber);return _.column<v?new m.Position(_.lineNumber,v):_}_hasMulticursorModifier(_){switch(this.configuration.options.get(70)){case"altKey":return _.altKey;case"ctrlKey":return _.ctrlKey;case"metaKey":return _.metaKey;default:return!1}}_hasNonMulticursorModifier(_){switch(this.configuration.options.get(70)){case"altKey":return _.ctrlKey||_.metaKey;case"ctrlKey":return _.altKey||_.metaKey;case"metaKey":return _.ctrlKey||_.altKey;default:return!1}}dispatchMouse(_){const v=this.configuration.options,u=k.isLinux&&v.get(96),h=v.get(18);_.middleButton&&!u?this._columnSelect(_.position,_.mouseColumn,_.inSelectionMode):_.startedOnLineNumbers?this._hasMulticursorModifier(_)?_.inSelectionMode?this._lastCursorLineSelect(_.position):this._createCursor(_.position,!0):_.inSelectionMode?this._lineSelectDrag(_.position):this._lineSelect(_.position):_.mouseDownCount>=4?this._selectAll():_.mouseDownCount===3?this._hasMulticursorModifier(_)?_.inSelectionMode?this._lastCursorLineSelectDrag(_.position):this._lastCursorLineSelect(_.position):_.inSelectionMode?this._lineSelectDrag(_.position):this._lineSelect(_.position):_.mouseDownCount===2?_.onInjectedText||(this._hasMulticursorModifier(_)?this._lastCursorWordSelect(_.position):_.inSelectionMode?this._wordSelectDrag(_.position):this._wordSelect(_.position)):this._hasMulticursorModifier(_)?this._hasNonMulticursorModifier(_)||(_.shiftKey?this._columnSelect(_.position,_.mouseColumn,!0):_.inSelectionMode?this._lastCursorMoveToSelect(_.position):this._createCursor(_.position,!1)):_.inSelectionMode?_.altKey?this._columnSelect(_.position,_.mouseColumn,!0):h?this._columnSelect(_.position,_.mouseColumn,!0):this._moveToSelect(_.position):this.moveTo(_.position)}_usualArgs(_){return _=this._validateViewColumn(_),{source:"mouse",position:this._convertViewToModelPosition(_),viewPosition:_}}moveTo(_){E.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_moveToSelect(_){E.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_columnSelect(_,v,u){_=this._validateViewColumn(_),E.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(_),viewPosition:_,mouseColumn:v,doColumnSelect:u})}_createCursor(_,v){_=this._validateViewColumn(_),E.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(_),viewPosition:_,wholeLine:v})}_lastCursorMoveToSelect(_){E.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_wordSelect(_){E.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_wordSelectDrag(_){E.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_lastCursorWordSelect(_){E.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_lineSelect(_){E.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_lineSelectDrag(_){E.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_lastCursorLineSelect(_){E.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_lastCursorLineSelectDrag(_){E.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(_))}_selectAll(){E.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(_){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(_)}emitKeyDown(_){this.userInputEvents.emitKeyDown(_)}emitKeyUp(_){this.userInputEvents.emitKeyUp(_)}emitContextMenu(_){this.userInputEvents.emitContextMenu(_)}emitMouseMove(_){this.userInputEvents.emitMouseMove(_)}emitMouseLeave(_){this.userInputEvents.emitMouseLeave(_)}emitMouseUp(_){this.userInputEvents.emitMouseUp(_)}emitMouseDown(_){this.userInputEvents.emitMouseDown(_)}emitMouseDrag(_){this.userInputEvents.emitMouseDrag(_)}emitMouseDrop(_){this.userInputEvents.emitMouseDrop(_)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(_){this.userInputEvents.emitMouseWheel(_)}}e.ViewController=I}),define(re[676],se([1,0,7,24,32,13,651,660,675,238,522,52,453,658,454,654,190,659,292,652,455,258,456,655,457,661,463,662,656,657,663,458,11,3,123,464,460,128,14,291]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g,b,p,C,S,y,w,T,N,R,B,O,D,A,P,F,W,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;class z extends F.ViewEventHandler{constructor(Y,X,J,oe,G,x){super();this._selections=[new m.Selection(1,1,1,1)],this._renderAnimationFrame=null;const V=new v.ViewController(X,oe,G,Y);this._context=new A.ViewContext(X,J,oe),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new _.TextAreaHandler(this._context,V,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,k.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,k.createFastDomNode)(document.createElement("div")),i.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new d.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new a.ViewLines(this._context,this._linesContent),this._viewZones=new R.ViewZones(this._context),this._viewParts.push(this._viewZones);const K=new C.DecorationsOverviewRuler(this._context);this._viewParts.push(K);const le=new w.ScrollDecorationViewPart(this._context);this._viewParts.push(le);const ae=new h.ContentViewOverlays(this._context);this._viewParts.push(ae),ae.addDynamicOverlay(new t.CurrentLineHighlightOverlay(this._context)),ae.addDynamicOverlay(new T.SelectionsOverlay(this._context)),ae.addDynamicOverlay(new c.IndentGuidesOverlay(this._context)),ae.addDynamicOverlay(new o.DecorationsOverlay(this._context));const Q=new h.MarginViewOverlays(this._context);this._viewParts.push(Q),Q.addDynamicOverlay(new t.CurrentLineMarginHighlightOverlay(this._context)),Q.addDynamicOverlay(new r.GlyphMarginOverlay(this._context)),Q.addDynamicOverlay(new g.MarginViewLineDecorationsOverlay(this._context)),Q.addDynamicOverlay(new l.LinesDecorationsOverlay(this._context)),Q.addDynamicOverlay(new s.LineNumbersOverlay(this._context));const q=new f.Margin(this._context);q.getDomNode().appendChild(this._viewZones.marginDomNode),q.getDomNode().appendChild(Q.getDomNode()),this._viewParts.push(q),this._contentWidgets=new n.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new N.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new p.ViewOverlayWidgets(this._context),this._viewParts.push(this._overlayWidgets);const Z=new y.Rulers(this._context);this._viewParts.push(Z);const j=new b.Minimap(this._context);if(this._viewParts.push(j),K){const $=this._scrollbar.getOverviewRulerLayoutInfo();$.parent.insertBefore(K.getDomNode(),$.insertBefore)}this._linesContent.appendChild(ae.getDomNode()),this._linesContent.appendChild(Z.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(q.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(le.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(j.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),x?x.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new L.PointerHandler(this._context,V,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:Y=>{this._textAreaHandler.textArea.domNode.dispatchEvent(Y)},getLastRenderData:()=>{const Y=this._viewCursors.getLastRenderData()||[],X=this._textAreaHandler.getLastRenderData();return new M.PointerHandlerLastRenderData(Y,X)},shouldSuppressMouseDownOnViewZone:Y=>this._viewZones.shouldSuppressMouseDownOnViewZone(Y),shouldSuppressMouseDownOnWidget:Y=>this._contentWidgets.shouldSuppressMouseDownOnWidget(Y),getPositionFromDOMInfo:(Y,X)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(Y,X)),visibleRangeForPosition:(Y,X)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new B.Position(Y,X))),getLineWidth:Y=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(Y))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:Y=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(Y))}}_applyLayout(){const X=this._context.configuration.options.get(131);this.domNode.setWidth(X.width),this.domNode.setHeight(X.height),this._overflowGuardContainer.setWidth(X.width),this._overflowGuardContainer.setHeight(X.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const Y=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(128)+" "+(0,W.getThemeTypeSelector)(this._context.theme.type)+Y}handleEvents(Y){super.handleEvents(Y),this._scheduleRender()}onConfigurationChanged(Y){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(Y){return this._selections=Y.selections,!1}onFocusChanged(Y){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(Y){return this._context.theme.update(Y.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const Y of this._viewParts)Y.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=E.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){ee(()=>this._actualRender())}_getViewPartsToRender(){const Y=[];let X=0;for(const J of this._viewParts)J.shouldRender()&&(Y[X++]=J);return Y}_actualRender(){if(!E.isInDOM(this.domNode.domNode))return;let Y=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&Y.length===0)return;const X=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(X.startLineNumber,X.endLineNumber,X.centeredLineNumber);const J=new P.ViewportData(this._selections,X,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(J),this._viewLines.shouldRender()&&(this._viewLines.renderText(J),this._viewLines.onDidRender(),Y=this._getViewPartsToRender());const oe=new D.RenderingContext(this._context.viewLayout,J,this._viewLines);for(const G of Y)G.prepareRender(oe);for(const G of Y)G.render(oe),G.onDidRender()}delegateVerticalScrollbarPointerDown(Y){this._scrollbar.delegateVerticalScrollbarPointerDown(Y)}restoreState(Y){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:Y.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:Y.scrollLeft},1)}getOffsetForColumn(Y,X){const J=this._context.viewModel.model.validatePosition({lineNumber:Y,column:X}),oe=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(J);this._flushAccumulatedAndRenderNow();const G=this._viewLines.visibleRangeForPosition(new B.Position(oe.lineNumber,oe.column));return G?G.left:-1}getTargetAtClientPoint(Y,X){const J=this._pointerHandler.getTargetAtClientPoint(Y,X);return J?u.ViewUserInputEvents.convertViewToModelMouseTarget(J,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(Y){return new S.OverviewRuler(this._context,Y)}change(Y){this._viewZones.changeViewZones(Y),this._scheduleRender()}render(Y,X){if(X){this._viewLines.forceShouldRender();for(const J of this._viewParts)J.forceShouldRender()}Y?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(Y){this._textAreaHandler.setAriaOptions(Y)}addContentWidget(Y){this._contentWidgets.addWidget(Y.widget),this.layoutContentWidget(Y),this._scheduleRender()}layoutContentWidget(Y){var X,J;let oe=Y.position&&Y.position.range||null;if(oe===null){const x=Y.position?Y.position.position:null;x!==null&&(oe=new O.Range(x.lineNumber,x.column,x.lineNumber,x.column))}const G=Y.position?Y.position.preference:null;this._contentWidgets.setWidgetPosition(Y.widget,oe,G,(J=(X=Y.position)===null||X===void 0?void 0:X.positionAffinity)!==null&&J!==void 0?J:null),this._scheduleRender()}removeContentWidget(Y){this._contentWidgets.removeWidget(Y.widget),this._scheduleRender()}addOverlayWidget(Y){this._overlayWidgets.addWidget(Y.widget),this.layoutOverlayWidget(Y),this._scheduleRender()}layoutOverlayWidget(Y){const X=Y.position?Y.position.preference:null;this._overlayWidgets.setWidgetPosition(Y.widget,X)&&this._scheduleRender()}removeOverlayWidget(Y){this._overlayWidgets.removeWidget(Y.widget),this._scheduleRender()}}e.View=z;function ee(ie){try{return ie()}catch(Y){(0,I.onUnexpectedError)(Y)}}}),define(re[677],se([1,0,46,65,59,15,24,22,529,16,379]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new u.RawContextKey("selectionAnchorSet",!1);let h=class Ni{constructor(r,c){this.editor=r,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(c),this.modelChangeListener=r.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(r){return r.getContribution(Ni.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const r=this.editor.getPosition(),c=this.decorationId?[this.decorationId]:[],s=this.editor.deltaDecorations(c,[{range:L.Selection.fromPositions(r,r),options:{description:"selection-anchor",stickiness:1,hoverMessage:new m.MarkdownString().appendText((0,v.localize)(0,null)),className:"selection-anchor"}}]);this.decorationId=s[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,E.alert)((0,v.localize)(1,null,r.lineNumber,r.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const r=this.editor.getModel().getDecorationRange(this.decorationId);r&&this.editor.setPosition(r.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const r=this.editor.getModel().getDecorationRange(this.decorationId);if(r){const c=this.editor.getPosition();this.editor.setSelection(L.Selection.fromPositions(r.getStartPosition(),c)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};h.ID="editor.contrib.selectionAnchorController",h=Ie([fe(1,u.IContextKeyService)],h);class i extends I.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,v.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|32),weight:100}})}run(r,c){var s;return Le(this,void 0,void 0,function*(){(s=h.get(c))===null||s===void 0||s.setSelectionAnchor()})}}class n extends I.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,v.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}run(r,c){var s;return Le(this,void 0,void 0,function*(){(s=h.get(c))===null||s===void 0||s.goToSelectionAnchor()})}}class t extends I.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,v.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|41),weight:100}})}run(r,c){var s;return Le(this,void 0,void 0,function*(){(s=h.get(c))===null||s===void 0||s.selectFromAnchorToCursor()})}}class o extends I.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,v.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:_.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}run(r,c){var s;return Le(this,void 0,void 0,function*(){(s=h.get(c))===null||s===void 0||s.cancelSelectionAnchor()})}}(0,I.registerEditorContribution)(h.ID,h),(0,I.registerEditorAction)(i),(0,I.registerEditorAction)(n),(0,I.registerEditorAction)(t),(0,I.registerEditorAction)(o)}),define(re[678],se([1,0,15,22,466,531]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends E.EditorAction{constructor(h,i){super(i);this.left=h}run(h,i){if(!i.hasModel())return;const n=[],t=i.getSelections();for(const o of t)n.push(new k.MoveCaretCommand(o,this.left));i.pushUndoStop(),i.executeCommands(this.id,n),i.pushUndoStop()}}class _ extends L{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:I.localize(0,null),alias:"Move Selected Text Left",precondition:m.EditorContextKeys.writable})}}class v extends L{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:I.localize(1,null),alias:"Move Selected Text Right",precondition:m.EditorContextKeys.writable})}}(0,E.registerEditorAction)(_),(0,E.registerEditorAction)(v)}),define(re[679],se([1,0,15,103,183,3,22,532]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class v extends E.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:_.localize(0,null),alias:"Transpose Letters",precondition:L.EditorContextKeys.writable,kbOpts:{kbExpr:L.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|50},weight:100}})}run(h,i){if(!i.hasModel())return;let n=i.getModel(),t=[],o=i.getSelections();for(let d of o){if(!d.isEmpty())continue;let r=d.startLineNumber,c=d.startColumn,s=n.getLineMaxColumn(r);if(r===1&&(c===1||c===2&&s===2))continue;let a=c===s?d.getPosition():k.MoveOperations.rightPosition(n,d.getPosition().lineNumber,d.getPosition().column),l=k.MoveOperations.leftPosition(n,a),f=k.MoveOperations.leftPosition(n,l),g=n.getValueInRange(I.Range.fromPositions(f,l)),b=n.getValueInRange(I.Range.fromPositions(l,a)),p=I.Range.fromPositions(f,a);t.push(new m.ReplaceCommand(p,b+g))}t.length>0&&(i.pushUndoStop(),i.executeCommands(this.id,t),i.pushUndoStop())}}(0,E.registerEditorAction)(v)}),define(re[680],se([1,0,34,17,181,15,29,22,533,39,97]),function(U,e,E,m,k,I,L,_,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const i="9_cutcopypaste",n=m.isNative||document.queryCommandSupported("cut"),t=m.isNative||document.queryCommandSupported("copy"),o=typeof navigator.clipboard=="undefined"||E.isFirefox?document.queryCommandSupported("paste"):!0;function d(s){return s.register(),s}e.CutAction=n?d(new I.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:m.isNative||m.isSafari?{primary:2048|54,win:{primary:2048|54,secondary:[1024|20]},weight:100}:void 0,menuOpts:[{menuId:u.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(0,null),order:1},{menuId:u.MenuId.EditorContext,group:i,title:v.localize(1,null),when:_.EditorContextKeys.writable,order:1},{menuId:u.MenuId.CommandPalette,group:"",title:v.localize(2,null),order:1},{menuId:u.MenuId.SimpleEditorContext,group:i,title:v.localize(3,null),when:_.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=t?d(new I.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:m.isNative?{primary:2048|33,win:{primary:2048|33,secondary:[2048|19]},weight:100}:void 0,menuOpts:[{menuId:u.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(4,null),order:2},{menuId:u.MenuId.EditorContext,group:i,title:v.localize(5,null),order:2},{menuId:u.MenuId.CommandPalette,group:"",title:v.localize(6,null),order:1},{menuId:u.MenuId.SimpleEditorContext,group:i,title:v.localize(7,null),order:2}]})):void 0,u.MenuRegistry.appendMenuItem(u.MenuId.MenubarEditMenu,{submenu:u.MenuId.MenubarCopy,title:{value:v.localize(8,null),original:"Copy As"},group:"2_ccp",order:3}),u.MenuRegistry.appendMenuItem(u.MenuId.EditorContext,{submenu:u.MenuId.EditorContextCopy,title:{value:v.localize(9,null),original:"Copy As"},group:i,order:3}),e.PasteAction=o?d(new I.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:m.isNative?{primary:2048|52,win:{primary:2048|52,secondary:[1024|19]},linux:{primary:2048|52,secondary:[1024|19]},weight:100}:void 0,menuOpts:[{menuId:u.MenuId.MenubarEditMenu,group:"2_ccp",title:v.localize(10,null),order:4},{menuId:u.MenuId.EditorContext,group:i,title:v.localize(11,null),when:_.EditorContextKeys.writable,order:4},{menuId:u.MenuId.CommandPalette,group:"",title:v.localize(12,null),order:1},{menuId:u.MenuId.SimpleEditorContext,group:i,title:v.localize(13,null),when:_.EditorContextKeys.writable,order:4}]})):void 0;class r extends I.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:v.localize(14,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:_.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(a,l){!l.hasModel()||!l.getOption(32)&&l.getSelection().isEmpty()||(k.CopyOptions.forceCopyWithSyntaxHighlighting=!0,l.focus(),document.execCommand("copy"),k.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function c(s,a){!s||(s.addImplementation(1e4,"code-editor",(l,f)=>{const g=l.get(L.ICodeEditorService).getFocusedCodeEditor();if(g&&g.hasTextFocus()){const b=g.getOption(32),p=g.getSelection();return p&&p.isEmpty()&&!b||document.execCommand(a),!0}return!1}),s.addImplementation(0,"generic-dom",(l,f)=>(document.execCommand(a),!0)))}c(e.CutAction,"cut"),c(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(s,a)=>{const l=s.get(L.ICodeEditorService),f=s.get(h.IClipboardService),g=l.getFocusedCodeEditor();return g&&g.hasTextFocus()?!document.execCommand("paste")&&m.isWeb?(()=>Le(void 0,void 0,void 0,function*(){const p=yield f.readText();if(p!==""){const C=k.InMemoryClipboardMetadataManager.INSTANCE.get(p);let S=!1,y=null,w=null;C&&(S=g.getOption(32)&&!!C.isFromEmptySelection,y=typeof C.multicursorText!="undefined"?C.multicursorText:null,w=C.mode),g.trigger("keyboard","paste",{text:p,pasteOnNewLine:S,multicursorText:y,mode:w})}}))():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(s,a)=>(document.execCommand("paste"),!0))),t&&(0,I.registerEditorAction)(r)}),define(re[681],se([1,0,59,15,3,22,31,261,468,538,39]),function(U,e,E,m,k,I,L,_,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i extends m.EditorAction{constructor(c,s){super(s);this._type=c}run(c,s){const a=c.get(L.ILanguageConfigurationService);if(!s.hasModel())return;const l=s.getModel(),f=[],g=l.getOptions(),b=s.getOption(19),p=s.getSelections().map((S,y)=>({selection:S,index:y,ignoreFirstLine:!1}));p.sort((S,y)=>k.Range.compareRangesUsingStarts(S.selection,y.selection));let C=p[0];for(let S=1;S<p.length;S++){const y=p[S];C.selection.endLineNumber===y.selection.startLineNumber&&(C.index<y.index?y.ignoreFirstLine=!0:(C.ignoreFirstLine=!0,C=y))}for(const S of p)f.push(new v.LineCommentCommand(a,S.selection,g.tabSize,this._type,b.insertSpace,b.ignoreEmptyLines,S.ignoreFirstLine));s.pushUndoStop(),s.executeCommands(this.id,f),s.pushUndoStop()}}class n extends i{constructor(){super(0,{id:"editor.action.commentLine",label:u.localize(0,null),alias:"Toggle Line Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:2048|85,weight:100},menuOpts:{menuId:h.MenuId.MenubarEditMenu,group:"5_insert",title:u.localize(1,null),order:1}})}}class t extends i{constructor(){super(1,{id:"editor.action.addCommentLine",label:u.localize(2,null),alias:"Add Line Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2048|41,2048|33),weight:100}})}}class o extends i{constructor(){super(2,{id:"editor.action.removeCommentLine",label:u.localize(3,null),alias:"Remove Line Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2048|41,2048|51),weight:100}})}}class d extends m.EditorAction{constructor(){super({id:"editor.action.blockComment",label:u.localize(4,null),alias:"Toggle Block Comment",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.editorTextFocus,primary:1024|512|31,linux:{primary:2048|1024|31},weight:100},menuOpts:{menuId:h.MenuId.MenubarEditMenu,group:"5_insert",title:u.localize(5,null),order:2}})}run(c,s){const a=c.get(L.ILanguageConfigurationService);if(!s.hasModel())return;const l=s.getOption(19),f=[],g=s.getSelections();for(const b of g)f.push(new _.BlockCommentCommand(b,l.insertSpace,a));s.pushUndoStop(),s.executeCommands(this.id,f),s.pushUndoStop()}}(0,m.registerEditorAction)(n),(0,m.registerEditorAction)(t),(0,m.registerEditorAction)(o),(0,m.registerEditorAction)(d)}),define(re[682],se([1,0,7,130,48,2,17,15,22,539,39,16,80,43]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let o=class Ti{constructor(c,s,a,l,f,g){this._contextMenuService=s,this._contextViewService=a,this._contextKeyService=l,this._keybindingService=f,this._menuService=g,this._toDispose=new I.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=c,this._toDispose.add(this._editor.onContextMenu(b=>this._onContextMenu(b))),this._toDispose.add(this._editor.onMouseWheel(b=>{if(this._contextMenuIsBeingShownCount>0){const p=this._contextViewService.getContextViewElement(),C=b.srcElement;C.shadowRoot&&E.getShadowRoot(p)===C.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(b=>{!this._editor.getOption(20)||b.keyCode===58&&(b.preventDefault(),b.stopPropagation(),this.showContextMenu())}))}static get(c){return c.getContribution(Ti.ID)}_onContextMenu(c){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),c.target.position&&!this._editor.getSelection().containsPosition(c.target.position)&&this._editor.setPosition(c.target.position);return}if(c.target.type===12||c.target.type===6&&c.target.detail.injectedText||(c.event.preventDefault(),c.event.stopPropagation(),c.target.type!==6&&c.target.type!==7&&c.target.type!==1))return;if(this._editor.focus(),c.target.position){let a=!1;for(const l of this._editor.getSelections())if(l.containsPosition(c.target.position)){a=!0;break}a||this._editor.setPosition(c.target.position)}let s=null;c.target.type!==1&&(s={x:c.event.posx-1,width:2,y:c.event.posy-1,height:2}),this.showContextMenu(s)}showContextMenu(c){if(!this._editor.getOption(20)||!this._editor.hasModel())return;if(!this._contextMenuService){this._editor.focus();return}const s=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?h.MenuId.SimpleEditorContext:h.MenuId.EditorContext);s.length>0&&this._doShowContextMenu(s,c)}_getMenuActions(c,s){const a=[],l=this._menuService.createMenu(s,this._contextKeyService),f=l.getActions({arg:c.uri});l.dispose();for(let g of f){const[,b]=g;let p=0;for(const C of b)if(C instanceof h.SubmenuItemAction){const S=this._getMenuActions(c,C.item.submenu);S.length>0&&(a.push(new k.SubmenuAction(C.id,C.label,S)),p++)}else a.push(C),p++;p&&a.push(new k.Separator)}return a.length&&a.pop(),a}_doShowContextMenu(c,s=null){if(!this._editor.hasModel())return;const a=this._editor.getOption(53);if(this._editor.updateOptions({hover:{enabled:!1}}),!s){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const f=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),g=E.getDomNodePagePosition(this._editor.getDomNode()),b=g.left+f.left,p=g.top+f.top+f.height;s={x:b,y:p}}const l=this._editor.getOption(115)&&!L.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:l?this._editor.getDomNode():void 0,getAnchor:()=>s,getActions:()=>c,getActionViewItem:f=>{const g=this._keybindingFor(f);if(g)return new m.ActionViewItem(f,f,{label:!0,keybinding:g.getLabel(),isMenu:!0});const b=f;return typeof b.getActionViewItem=="function"?b.getActionViewItem():new m.ActionViewItem(f,f,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:f=>this._keybindingFor(f),onHide:f=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:a})}})}_keybindingFor(c){return this._keybindingService.lookupKeybinding(c.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};o.ID="editor.contrib.contextmenu",o=Ie([fe(1,n.IContextMenuService),fe(2,n.IContextViewService),fe(3,i.IContextKeyService),fe(4,t.IKeybindingService),fe(5,h.IMenuService)],o),e.ContextMenuController=o;class d extends _.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:u.localize(0,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.textInputFocus,primary:1024|68,weight:100}})}run(c,s){var a;(a=o.get(s))===null||a===void 0||a.showContextMenu()}}(0,_.registerEditorContribution)(o.ID,o),(0,_.registerEditorAction)(d)}),define(re[683],se([1,0,2,15,22,540]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class L{constructor(n){this.selections=n}equals(n){const t=this.selections.length,o=n.selections.length;if(t!==o)return!1;for(let d=0;d<t;d++)if(!this.selections[d].equalsSelection(n.selections[d]))return!1;return!0}}class _{constructor(n,t,o){this.cursorState=n,this.scrollTop=t,this.scrollLeft=o}}class v extends E.Disposable{constructor(n){super();this._editor=n,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(n.onDidChangeModel(t=>{this._undoStack=[],this._redoStack=[]})),this._register(n.onDidChangeModelContent(t=>{this._undoStack=[],this._redoStack=[]})),this._register(n.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;const o=new L(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(o)||(this._undoStack.push(new _(o,n.getScrollTop(),n.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(n){return n.getContribution(v.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new _(new L(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new _(new L(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(n){this._isCursorUndoRedo=!0,this._editor.setSelections(n.cursorState.selections),this._editor.setScrollPosition({scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=v,v.ID="editor.contrib.cursorUndoRedoController";class u extends m.EditorAction{constructor(){super({id:"cursorUndo",label:I.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:k.EditorContextKeys.textInputFocus,primary:2048|51,weight:100}})}run(n,t,o){var d;(d=v.get(t))===null||d===void 0||d.cursorUndo()}}e.CursorUndo=u;class h extends m.EditorAction{constructor(){super({id:"cursorRedo",label:I.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(n,t,o){var d;(d=v.get(t))===null||d===void 0||d.cursorRedo()}}e.CursorRedo=h,(0,m.registerEditorContribution)(v.ID,v),(0,m.registerEditorAction)(u),(0,m.registerEditorAction)(h)}),define(re[684],se([1,0,15,16,21,84,9,53,541]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const u=(0,L.createDecorator)("IEditorCancelService"),h=new m.RawContextKey("cancellableOperation",!1,(0,v.localize)(0,null));(0,_.registerSingleton)(u,class{constructor(){this._tokens=new WeakMap}add(n,t){let o=this._tokens.get(n);o||(o=n.invokeWithinContext(r=>{const c=h.bindTo(r.get(m.IContextKeyService)),s=new I.LinkedList;return{key:c,tokens:s}}),this._tokens.set(n,o));let d;return o.key.set(!0),d=o.tokens.push(t),()=>{d&&(d(),o.key.set(!o.tokens.isEmpty()),d=void 0)}}cancel(n){const t=this._tokens.get(n);if(!t)return;const o=t.tokens.pop();o&&(o.cancel(),t.key.set(!t.tokens.isEmpty()))}},!0);class i extends k.CancellationTokenSource{constructor(t,o){super(o);this.editor=t,this._unregister=t.invokeWithinContext(d=>d.get(u).add(t,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=i,(0,E.registerEditorCommand)(new class extends E.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:h})}runEditorCommand(n,t){n.get(u).cancel(t)}})}),define(re[113],se([1,0,8,3,21,2,684]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class _{constructor(i,n){if(this.flags=n,(this.flags&1)!=0){const t=i.getModel();this.modelVersionId=t?E.format("{0}#{1}",t.uri.toString(),t.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!=0?this.position=i.getPosition():this.position=null,(this.flags&2)!=0?this.selection=i.getSelection():this.selection=null,(this.flags&8)!=0?(this.scrollLeft=i.getScrollLeft(),this.scrollTop=i.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(i){if(!(i instanceof _))return!1;const n=i;return!(this.modelVersionId!==n.modelVersionId||this.scrollLeft!==n.scrollLeft||this.scrollTop!==n.scrollTop||!this.position&&n.position||this.position&&!n.position||this.position&&n.position&&!this.position.equals(n.position)||!this.selection&&n.selection||this.selection&&!n.selection||this.selection&&n.selection&&!this.selection.equalsRange(n.selection))}validate(i){return this._equals(new _(i,this.flags))}}e.EditorState=_;class v extends L.EditorKeybindingCancellationTokenSource{constructor(i,n,t,o){super(i,o);this._listener=new I.DisposableStore,n&4&&this._listener.add(i.onDidChangeCursorPosition(d=>{(!t||!m.Range.containsPosition(t,d.position))&&this.cancel()})),n&2&&this._listener.add(i.onDidChangeCursorSelection(d=>{(!t||!m.Range.containsRange(t,d.selection))&&this.cancel()})),n&8&&this._listener.add(i.onDidScrollChange(d=>this.cancel())),n&1&&(this._listener.add(i.onDidChangeModel(d=>this.cancel())),this._listener.add(i.onDidChangeModelContent(d=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=v;class u extends k.CancellationTokenSource{constructor(i,n){super(n);this._listener=i.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=u}),define(re[161],se([1,0,18,21,13,2,25,113,3,24,49,26,76,156,20]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCodeActions=e.CodeActionItem=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.codeActionCommandId=void 0,e.codeActionCommandId="editor.action.codeAction",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class d{constructor(g,b){this.action=g,this.provider=b}resolve(g){var b;return Le(this,void 0,void 0,function*(){if(((b=this.provider)===null||b===void 0?void 0:b.resolveCodeAction)&&!this.action.edit){let p;try{p=yield this.provider.resolveCodeAction(this.action,g)}catch(C){(0,k.onUnexpectedExternalError)(C)}p&&(this.action.edit=p.edit)}return this})}}e.CodeActionItem=d;class r extends I.Disposable{constructor(g,b,p){super();this.documentation=b,this._register(p),this.allActions=[...g].sort(r.codeActionsComparator),this.validActions=this.allActions.filter(({action:C})=>!C.disabled)}static codeActionsComparator({action:g},{action:b}){return g.isPreferred&&!b.isPreferred?-1:!g.isPreferred&&b.isPreferred?1:(0,E.isNonEmptyArray)(g.diagnostics)?(0,E.isNonEmptyArray)(b.diagnostics)?g.diagnostics[0].message.localeCompare(b.diagnostics[0].message):-1:(0,E.isNonEmptyArray)(b.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:g})=>!!g.kind&&t.CodeActionKind.QuickFix.contains(new t.CodeActionKind(g.kind))&&!!g.isPreferred)}}const c={actions:[],documentation:void 0};function s(f,g,b,p,C,S){var y;const w=p.filter||{},T={only:(y=w.include)===null||y===void 0?void 0:y.value,trigger:p.type},N=new _.TextModelCancellationTokenSource(g,S),R=a(f,g,w),B=new I.DisposableStore,O=R.map(A=>Le(this,void 0,void 0,function*(){try{C.report(A);const P=yield A.provideCodeActions(g,b,T,N.token);if(P&&B.add(P),N.token.isCancellationRequested)return c;const F=((P==null?void 0:P.actions)||[]).filter(M=>M&&(0,t.filtersAction)(w,M)),W=l(A,F,w.include);return{actions:F.map(M=>new d(M,A)),documentation:W}}catch(P){if((0,k.isCancellationError)(P))throw P;return(0,k.onUnexpectedExternalError)(P),c}})),D=f.onDidChange(()=>{const A=f.all(g);(0,E.equals)(A,R)||N.cancel()});return Promise.all(O).then(A=>{const P=A.map(W=>W.actions).flat(),F=(0,E.coalesce)(A.map(W=>W.documentation));return new r(P,F,B)}).finally(()=>{D.dispose(),N.dispose()})}e.getCodeActions=s;function a(f,g,b){return f.all(g).filter(p=>p.providedCodeActionKinds?p.providedCodeActionKinds.some(C=>(0,t.mayIncludeActionsOfKind)(b,new t.CodeActionKind(C))):!0)}function l(f,g,b){if(!f.documentation)return;const p=f.documentation.map(C=>({kind:new t.CodeActionKind(C.kind),command:C.command}));if(b){let C;for(const S of p)S.kind.contains(b)&&(C?C.kind.contains(S.kind)&&(C=S):C=S);if(C)return C==null?void 0:C.command}for(const C of g)if(!!C.kind){for(const S of p)if(S.kind.contains(new t.CodeActionKind(C.kind)))return S.command}}i.CommandsRegistry.registerCommand("_executeCodeActionProvider",function(f,g,b,p,C){return Le(this,void 0,void 0,function*(){if(!(g instanceof L.URI))throw(0,k.illegalArgument)();const{codeActionProvider:S}=f.get(o.ILanguageFeaturesService),y=f.get(h.IModelService).getModel(g);if(!y)throw(0,k.illegalArgument)();const w=u.Selection.isISelection(b)?u.Selection.liftSelection(b):v.Range.isIRange(b)?y.validateRange(b):void 0;if(!w)throw(0,k.illegalArgument)();const T=typeof p=="string"?new t.CodeActionKind(p):void 0,N=yield s(S,y,w,{type:1,filter:{includeSourceActions:!0,include:T}},n.Progress.None,m.CancellationToken.None),R=[],B=Math.min(N.validActions.length,typeof C=="number"?C:0);for(let O=0;O<B;O++)R.push(N.validActions[O].resolve(m.CancellationToken.None));try{return yield Promise.all(R),N.validActions.map(O=>O.action)}finally{setTimeout(()=>N.dispose(),100)}})})}),define(re[685],se([1,0,7,48,13,137,2,11,20,161,156,80,43]),function(U,e,E,m,k,I,L,_,v,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=e.CodeActionMenu=void 0;class t extends m.Action{constructor(s,a){super(s.command?s.command.id:s.title,o(s.title),void 0,!s.disabled,a);this.action=s}}function o(c){return c.replace(/\r\n|\r|\n/g," ")}let d=class extends L.Disposable{constructor(s,a,l,f,g){super();this._editor=s,this._delegate=a,this._contextMenuService=l,this._languageFeaturesService=g,this._visible=!1,this._showingActions=this._register(new L.MutableDisposable),this._keybindingResolver=new r({getKeybindings:()=>f.getKeybindings()})}get isVisible(){return this._visible}show(s,a,l,f){return Le(this,void 0,void 0,function*(){const g=f.includeDisabledActions?a.allActions:a.validActions;if(!g.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,k.canceled)();this._visible=!0,this._showingActions.value=a;const b=this.getMenuActions(s,g,a.documentation),p=_.Position.isIPosition(l)?this._toCoords(l):l||{x:0,y:0},C=this._keybindingResolver.getResolver(),S=this._editor.getOption(115);this._contextMenuService.showContextMenu({domForShadowRoot:S?this._editor.getDomNode():void 0,getAnchor:()=>p,getActions:()=>b,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:y=>y instanceof t?C(y.action):void 0})})}getMenuActions(s,a,l){var f,g;const b=y=>new t(y.action,()=>this._delegate.onSelectCodeAction(y)),p=a.map(b),C=[...l],S=this._editor.getModel();if(S&&p.length)for(const y of this._languageFeaturesService.codeActionProvider.all(S))y._getAdditionalMenuItems&&C.push(...y._getAdditionalMenuItems({trigger:s.type,only:(g=(f=s.filter)===null||f===void 0?void 0:f.include)===null||g===void 0?void 0:g.value},a.map(w=>w.action)));return C.length&&p.push(new m.Separator,...C.map(y=>b(new u.CodeActionItem({title:y.title,command:y},void 0)))),p}_toCoords(s){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(s,1),this._editor.render();const a=this._editor.getScrolledVisiblePosition(s),l=(0,E.getDomNodePagePosition)(this._editor.getDomNode()),f=l.left+a.left,g=l.top+a.top+a.height;return{x:f,y:g}}};d=Ie([fe(2,i.IContextMenuService),fe(3,n.IKeybindingService),fe(4,v.ILanguageFeaturesService)],d),e.CodeActionMenu=d;class r{constructor(s){this._keybindingProvider=s}getResolver(){const s=new I.Lazy(()=>this._keybindingProvider.getKeybindings().filter(a=>r.codeActionCommands.indexOf(a.command)>=0).filter(a=>a.resolvedKeybinding).map(a=>{let l=a.commandArgs;return a.command===u.organizeImportsCommandId?l={kind:h.CodeActionKind.SourceOrganizeImports.value}:a.command===u.fixAllCommandId&&(l={kind:h.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:a.resolvedKeybinding},h.CodeActionCommandArgs.fromUser(l,{kind:h.CodeActionKind.None,apply:"never"}))}));return a=>{if(a.kind){const l=this.bestKeybindingForCodeAction(a,s.getValue());return l==null?void 0:l.resolvedKeybinding}}}bestKeybindingForCodeAction(s,a){if(!s.kind)return;const l=new h.CodeActionKind(s.kind);return a.filter(f=>f.kind.contains(l)).filter(f=>f.preferred?s.isPreferred:!0).reduceRight((f,g)=>f?f.kind.contains(g.kind)?g:f:g,void 0)}}e.CodeActionKeybindingResolver=r,r.codeActionCommands=[u.refactorCommandId,u.codeActionCommandId,u.sourceActionCommandId,u.organizeImportsCommandId,u.fixAllCommandId]});var Tt=this&&this.__classPrivateFieldGet||function(U,e,E,m){if(E==="a"&&!m)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?U!==e||!m:!e.has(U))throw new TypeError("Cannot read private member from an object whose class did not declare it");return E==="m"?m:E==="a"?m.call(U):m?m.value:e.get(U)},ti=this&&this.__classPrivateFieldSet||function(U,e,E,m,k){if(m==="m")throw new TypeError("Private method is not writable");if(m==="a"&&!k)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?U!==e||!k:!e.has(U))throw new TypeError("Cannot write private member to an object whose class did not declare it");return m==="a"?k.call(U,E):k?k.value=E:e.set(U,E),E};define(re[686],se([1,0,10,13,4,2,42,3,16,76,161]),function(U,e,E,m,k,I,L,_,v,u,h){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new v.RawContextKey("supportedCodeAction","");class n extends I.Disposable{constructor(c,s,a,l=250){super();this._editor=c,this._markerService=s,this._signalChange=a,this._delay=l,this._autoTriggerTimer=this._register(new E.TimeoutTimer),this._register(this._markerService.onMarkerChanged(f=>this._onMarkerChanges(f))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(c){const s=this._getRangeOfSelectionUnlessWhitespaceEnclosed(c);return this._createEventAndSignalChange(c,s)}_onMarkerChanges(c){const s=this._editor.getModel();!s||c.some(a=>(0,L.isEqual)(a,s.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2})},this._delay)}_getRangeOfMarker(c){const s=this._editor.getModel();if(!!s)for(const a of this._markerService.read({resource:s.uri})){const l=s.validateRange(a);if(_.Range.intersectRanges(l,c))return _.Range.lift(l)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(c){if(!this._editor.hasModel())return;const s=this._editor.getModel(),a=this._editor.getSelection();if(a.isEmpty()&&c.type===2){const{lineNumber:l,column:f}=a.getPosition(),g=s.getLineContent(l);if(g.length===0)return;if(f===1){if(/\s/.test(g[0]))return}else if(f===s.getLineMaxColumn(l)){if(/\s/.test(g[g.length-1]))return}else if(/\s/.test(g[f-2])&&/\s/.test(g[f-1]))return}return a}_createEventAndSignalChange(c,s){const a=this._editor.getModel();if(!s||!a){this._signalChange(void 0);return}const l=this._getRangeOfMarker(s),f=l?l.getStartPosition():s.getStartPosition(),g={trigger:c,selection:s,position:f};return this._signalChange(g),g}}var t;(function(r){r.Empty={type:0};class c{constructor(a,l,f,g){this.trigger=a,this.rangeOrSelection=l,this.position=f,this._cancellablePromise=g,this.type=1,this.actions=g.catch(b=>{if((0,m.isCancellationError)(b))return o;throw b})}cancel(){this._cancellablePromise.cancel()}}r.Triggered=c})(t=e.CodeActionsState||(e.CodeActionsState={}));const o={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class d extends I.Disposable{constructor(c,s,a,l,f){super();this._editor=c,this._registry=s,this._markerService=a,this._progressService=f,this._codeActionOracle=this._register(new I.MutableDisposable),this._state=t.Empty,this._onDidChangeState=this._register(new k.Emitter),this.onDidChangeState=this._onDidChangeState.event,i.set(this,!1),this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(l),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){Tt(this,i,"f")||(ti(this,i,!0,"f"),super.dispose(),this.setState(t.Empty,!0))}_update(){if(Tt(this,i,"f"))return;this._codeActionOracle.value=void 0,this.setState(t.Empty);const c=this._editor.getModel();if(c&&this._registry.has(c)&&!this._editor.getOption(81)){const s=[];for(const a of this._registry.all(c))Array.isArray(a.providedCodeActionKinds)&&s.push(...a.providedCodeActionKinds);this._supportedCodeActions.set(s.join(" ")),this._codeActionOracle.value=new n(this._editor,this._markerService,a=>{var l;if(!a){this.setState(t.Empty);return}const f=(0,E.createCancelablePromise)(g=>(0,h.getCodeActions)(this._registry,c,a.selection,a.trigger,u.Progress.None,g));a.trigger.type===1&&((l=this._progressService)===null||l===void 0||l.showWhile(f,250)),this.setState(new t.Triggered(a.trigger,a.selection,a.position,f))},void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(c){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(c)}setState(c,s){c!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=c,!s&&!Tt(this,i,"f")&&this._onDidChangeState.fire(c))}}e.CodeActionModel=d,i=new WeakMap}),define(re[687],se([1,0,15,147,546]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class I extends E.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:k.localize(0,null),alias:"Editor Font Zoom In",precondition:void 0})}run(u,h){m.EditorZoom.setZoomLevel(m.EditorZoom.getZoomLevel()+1)}}class L extends E.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:k.localize(1,null),alias:"Editor Font Zoom Out",precondition:void 0})}run(u,h){m.EditorZoom.setZoomLevel(m.EditorZoom.getZoomLevel()-1)}}class _ extends E.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:k.localize(2,null),alias:"Editor Font Zoom Reset",precondition:void 0})}run(u,h){m.EditorZoom.setZoomLevel(0)}}(0,E.registerEditorAction)(I),(0,E.registerEditorAction)(L),(0,E.registerEditorAction)(_)}),define(re[297],se([1,0,46,18,21,13,55,84,19,25,113,150,11,3,24,89,57,263,547,26,611,9,20]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOnTypeFormattingEdits=e.getDocumentFormattingEditsUntilResult=e.getDocumentRangeFormattingEditsUntilResult=e.formatDocumentWithProvider=e.formatDocumentWithSelectedProvider=e.formatDocumentRangesWithProvider=e.formatDocumentRangesWithSelectedProvider=e.FormattingConflicts=e.getRealAndSyntheticDocumentFormattersOrdered=e.alertFormattingEdits=void 0;function b(O){if(O=O.filter(F=>F.range),!O.length)return;let{range:D}=O[0];for(let F=1;F<O.length;F++)D=t.Range.plusRange(D,O[F].range);const{startLineNumber:A,endLineNumber:P}=D;A===P?O.length===1?(0,E.alert)(s.localize(0,null,A)):(0,E.alert)(s.localize(1,null,O.length,A)):O.length===1?(0,E.alert)(s.localize(2,null,A,P)):(0,E.alert)(s.localize(3,null,O.length,A,P))}e.alertFormattingEdits=b;function p(O,D,A){const P=[],F=new Set,W=O.ordered(A);for(const z of W)P.push(z),z.extensionId&&F.add(l.ExtensionIdentifier.toKey(z.extensionId));const M=D.ordered(A);for(const z of M){if(z.extensionId){if(F.has(l.ExtensionIdentifier.toKey(z.extensionId)))continue;F.add(l.ExtensionIdentifier.toKey(z.extensionId))}P.push({displayName:z.displayName,extensionId:z.extensionId,provideDocumentFormattingEdits(ee,ie,Y){return z.provideDocumentRangeFormattingEdits(ee,ee.getFullModelRange(),ie,Y)}})}return P}e.getRealAndSyntheticDocumentFormattersOrdered=p;class C{static setFormatterSelector(D){return{dispose:C._selectors.unshift(D)}}static select(D,A,P){return Le(this,void 0,void 0,function*(){if(D.length===0)return;const F=L.Iterable.first(C._selectors);if(F)return yield F(D,A,P)})}}e.FormattingConflicts=C,C._selectors=new _.LinkedList;function S(O,D,A,P,F,W){return Le(this,void 0,void 0,function*(){const M=O.get(f.IInstantiationService),{documentRangeFormattingEditProvider:z}=O.get(g.ILanguageFeaturesService),ee=(0,i.isCodeEditor)(D)?D.getModel():D,ie=z.ordered(ee),Y=yield C.select(ie,ee,P);Y&&(F.report(Y),yield M.invokeFunction(y,Y,D,A,W))})}e.formatDocumentRangesWithSelectedProvider=S;function y(O,D,A,P,F){return Le(this,void 0,void 0,function*(){const W=O.get(d.IEditorWorkerService);let M,z;(0,i.isCodeEditor)(A)?(M=A.getModel(),z=new h.EditorStateCancellationTokenSource(A,1|4,void 0,F)):(M=A,z=new h.TextModelCancellationTokenSource(A,F));let ee=[],ie=0;for(let G of(0,m.asArray)(P).sort(t.Range.compareRangesUsingStarts))ie>0&&t.Range.areIntersectingOrTouching(ee[ie-1],G)?ee[ie-1]=t.Range.fromPositions(ee[ie-1].getStartPosition(),G.getEndPosition()):ie=ee.push(G);const Y=G=>Le(this,void 0,void 0,function*(){return(yield D.provideDocumentRangeFormattingEdits(M,G,M.getFormattingOptions(),z.token))||[]}),X=(G,x)=>{if(!G.length||!x.length)return!1;const V=G.reduce((K,le)=>t.Range.plusRange(K,le.range),G[0].range);if(!x.some(K=>t.Range.intersectRanges(V,K.range)))return!1;for(let K of G)for(let le of x)if(t.Range.intersectRanges(K.range,le.range))return!0;return!1},J=[],oe=[];try{for(let G of ee){if(z.token.isCancellationRequested)return!0;oe.push(yield Y(G))}for(let G=0;G<ee.length;++G)for(let x=G+1;x<ee.length;++x){if(z.token.isCancellationRequested)return!0;if(X(oe[G],oe[x])){const V=t.Range.plusRange(ee[G],ee[x]),K=yield Y(V);ee.splice(x,1),ee.splice(G,1),ee.push(V),oe.splice(x,1),oe.splice(G,1),oe.push(K),G=0,x=0}}for(let G of oe){if(z.token.isCancellationRequested)return!0;const x=yield W.computeMoreMinimalEdits(M.uri,G);x&&J.push(...x)}}finally{z.dispose()}if(J.length===0)return!1;if((0,i.isCodeEditor)(A))c.FormattingEdit.execute(A,J,!0),b(J),A.revealPositionInCenterIfOutsideViewport(A.getPosition(),1);else{const[{range:G}]=J,x=new o.Selection(G.startLineNumber,G.startColumn,G.endLineNumber,G.endColumn);M.pushEditOperations([x],J.map(V=>({text:V.text,range:t.Range.lift(V.range),forceMoveMarkers:!0})),V=>{for(const{range:K}of V)if(t.Range.areIntersectingOrTouching(K,x))return[new o.Selection(K.startLineNumber,K.startColumn,K.endLineNumber,K.endColumn)];return null})}return!0})}e.formatDocumentRangesWithProvider=y;function w(O,D,A,P,F){return Le(this,void 0,void 0,function*(){const W=O.get(f.IInstantiationService),M=O.get(g.ILanguageFeaturesService),z=(0,i.isCodeEditor)(D)?D.getModel():D,ee=p(M.documentFormattingEditProvider,M.documentRangeFormattingEditProvider,z),ie=yield C.select(ee,z,A);ie&&(P.report(ie),yield W.invokeFunction(T,ie,D,A,F))})}e.formatDocumentWithSelectedProvider=w;function T(O,D,A,P,F){return Le(this,void 0,void 0,function*(){const W=O.get(d.IEditorWorkerService);let M,z;(0,i.isCodeEditor)(A)?(M=A.getModel(),z=new h.EditorStateCancellationTokenSource(A,1|4,void 0,F)):(M=A,z=new h.TextModelCancellationTokenSource(A,F));let ee;try{const ie=yield D.provideDocumentFormattingEdits(M,M.getFormattingOptions(),z.token);if(ee=yield W.computeMoreMinimalEdits(M.uri,ie),z.token.isCancellationRequested)return!0}finally{z.dispose()}if(!ee||ee.length===0)return!1;if((0,i.isCodeEditor)(A))c.FormattingEdit.execute(A,ee,P!==2),P!==2&&(b(ee),A.revealPositionInCenterIfOutsideViewport(A.getPosition(),1));else{const[{range:ie}]=ee,Y=new o.Selection(ie.startLineNumber,ie.startColumn,ie.endLineNumber,ie.endColumn);M.pushEditOperations([Y],ee.map(X=>({text:X.text,range:t.Range.lift(X.range),forceMoveMarkers:!0})),X=>{for(const{range:J}of X)if(t.Range.areIntersectingOrTouching(J,Y))return[new o.Selection(J.startLineNumber,J.startColumn,J.endLineNumber,J.endColumn)];return null})}return!0})}e.formatDocumentWithProvider=T;function N(O,D,A,P,F,W){return Le(this,void 0,void 0,function*(){const M=D.documentRangeFormattingEditProvider.ordered(A);for(const z of M){let ee=yield Promise.resolve(z.provideDocumentRangeFormattingEdits(A,P,F,W)).catch(I.onUnexpectedExternalError);if((0,m.isNonEmptyArray)(ee))return yield O.computeMoreMinimalEdits(A.uri,ee)}})}e.getDocumentRangeFormattingEditsUntilResult=N;function R(O,D,A,P,F){return Le(this,void 0,void 0,function*(){const W=p(D.documentFormattingEditProvider,D.documentRangeFormattingEditProvider,A);for(const M of W){let z=yield Promise.resolve(M.provideDocumentFormattingEdits(A,P,F)).catch(I.onUnexpectedExternalError);if((0,m.isNonEmptyArray)(z))return yield O.computeMoreMinimalEdits(A.uri,z)}})}e.getDocumentFormattingEditsUntilResult=R;function B(O,D,A,P,F,W,M){const z=D.onTypeFormattingEditProvider.ordered(A);return z.length===0||z[0].autoFormatTriggerCharacters.indexOf(F)<0?Promise.resolve(void 0):Promise.resolve(z[0].provideOnTypeFormattingEdits(A,P,F,W,M)).catch(I.onUnexpectedExternalError).then(ee=>O.computeMoreMinimalEdits(A.uri,ee))}e.getOnTypeFormattingEdits=B,a.CommandsRegistry.registerCommand("_executeFormatRangeProvider",function(O,...D){return Le(this,void 0,void 0,function*(){const[A,P,F]=D;(0,v.assertType)(u.URI.isUri(A)),(0,v.assertType)(t.Range.isIRange(P));const W=O.get(r.ITextModelService),M=O.get(d.IEditorWorkerService),z=O.get(g.ILanguageFeaturesService),ee=yield W.createModelReference(A);try{return N(M,z,ee.object.textEditorModel,t.Range.lift(P),F,k.CancellationToken.None)}finally{ee.dispose()}})}),a.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",function(O,...D){return Le(this,void 0,void 0,function*(){const[A,P]=D;(0,v.assertType)(u.URI.isUri(A));const F=O.get(r.ITextModelService),W=O.get(d.IEditorWorkerService),M=O.get(g.ILanguageFeaturesService),z=yield F.createModelReference(A);try{return R(W,M,z.object.textEditorModel,P,k.CancellationToken.None)}finally{z.dispose()}})}),a.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",function(O,...D){return Le(this,void 0,void 0,function*(){const[A,P,F,W]=D;(0,v.assertType)(u.URI.isUri(A)),(0,v.assertType)(n.Position.isIPosition(P)),(0,v.assertType)(typeof F=="string");const M=O.get(r.ITextModelService),z=O.get(d.IEditorWorkerService),ee=O.get(g.ILanguageFeaturesService),ie=yield M.createModelReference(A);try{return B(z,ee,ie.object.textEditorModel,n.Position.lift(P),F,W,k.CancellationToken.None)}finally{ie.dispose()}})})}),define(re[688],se([1,0,18,21,13,59,2,15,29,102,3,22,89,20,297,263,548,26,16,9,76]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let f=class{constructor(S,y,w){this._editor=S,this._languageFeaturesService=y,this._workerService=w,this._disposables=new L.DisposableStore,this._sessionDisposables=new L.DisposableStore,this._disposables.add(y.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(S.onDidChangeModel(()=>this._update())),this._disposables.add(S.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(S.onDidChangeConfiguration(T=>{T.hasChanged(49)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(49)||!this._editor.hasModel())return;const S=this._editor.getModel(),[y]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(S);if(!y||!y.autoFormatTriggerCharacters)return;let w=new u.CharacterSet;for(let T of y.autoFormatTriggerCharacters)w.add(T.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(T=>{let N=T.charCodeAt(T.length-1);w.has(N)&&this._trigger(String.fromCharCode(N))}))}_trigger(S){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const y=this._editor.getModel(),w=this._editor.getPosition(),T=new m.CancellationTokenSource,N=this._editor.onDidChangeModelContent(R=>{if(R.isFlush){T.cancel(),N.dispose();return}for(let B=0,O=R.changes.length;B<O;B++)if(R.changes[B].range.endLineNumber<=w.lineNumber){T.cancel(),N.dispose();return}});(0,o.getOnTypeFormattingEdits)(this._workerService,this._languageFeaturesService,y,w,S,y.getFormattingOptions(),T.token).then(R=>{T.token.isCancellationRequested||(0,E.isNonEmptyArray)(R)&&(d.FormattingEdit.execute(this._editor,R,!0),(0,o.alertFormattingEdits)(R))}).finally(()=>{N.dispose()})}};f.ID="editor.contrib.autoFormat",f=Ie([fe(1,t.ILanguageFeaturesService),fe(2,n.IEditorWorkerService)],f);let g=class{constructor(S,y,w){this.editor=S,this._languageFeaturesService=y,this._instantiationService=w,this._callOnDispose=new L.DisposableStore,this._callOnModel=new L.DisposableStore,this._callOnDispose.add(S.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(S.onDidChangeModel(()=>this._update())),this._callOnDispose.add(S.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(y.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),!!this.editor.getOption(48)&&(!this.editor.hasModel()||!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:S})=>this._trigger(S))))}_trigger(S){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(o.formatDocumentRangesWithSelectedProvider,this.editor,S,2,l.Progress.None,m.CancellationToken.None).catch(k.onUnexpectedError)}};g.ID="editor.contrib.formatOnPaste",g=Ie([fe(1,t.ILanguageFeaturesService),fe(2,a.IInstantiationService)],g);class b extends _.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:r.localize(0,null),alias:"Format Document",precondition:s.ContextKeyExpr.and(i.EditorContextKeys.notInCompositeEditor,i.EditorContextKeys.writable,i.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:1024|512|36,linux:{primary:2048|1024|39},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(S,y){return Le(this,void 0,void 0,function*(){if(y.hasModel()){const w=S.get(a.IInstantiationService);yield S.get(l.IEditorProgressService).showWhile(w.invokeFunction(o.formatDocumentWithSelectedProvider,y,1,l.Progress.None,m.CancellationToken.None),250)}})}}class p extends _.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:r.localize(1,null),alias:"Format Selection",precondition:s.ContextKeyExpr.and(i.EditorContextKeys.writable,i.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2048|41,2048|36),weight:100},contextMenuOpts:{when:i.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(S,y){return Le(this,void 0,void 0,function*(){if(!y.hasModel())return;const w=S.get(a.IInstantiationService),T=y.getModel(),N=y.getSelections().map(B=>B.isEmpty()?new h.Range(B.startLineNumber,1,B.startLineNumber,T.getLineMaxColumn(B.startLineNumber)):B);yield S.get(l.IEditorProgressService).showWhile(w.invokeFunction(o.formatDocumentRangesWithSelectedProvider,y,N,1,l.Progress.None,m.CancellationToken.None),250)})}}(0,_.registerEditorContribution)(f.ID,f),(0,_.registerEditorContribution)(g.ID,g),(0,_.registerEditorAction)(b),(0,_.registerEditorAction)(p),c.CommandsRegistry.registerCommand("editor.action.format",C=>Le(void 0,void 0,void 0,function*(){const S=C.get(v.ICodeEditorService).getFocusedCodeEditor();if(!S||!S.hasModel())return;const y=C.get(c.ICommandService);S.getSelection().isEmpty()?yield y.executeCommand("editor.action.formatDocument"):yield y.executeCommand("editor.action.formatSelection")}))}),define(re[298],se([1,0,21,13,15,131,20]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReferencesAtPosition=e.getTypeDefinitionsAtPosition=e.getImplementationsAtPosition=e.getDeclarationsAtPosition=e.getDefinitionsAtPosition=void 0;function _(o,d,r,c){const a=r.ordered(o).map(l=>Promise.resolve(c(l,o,d)).then(void 0,f=>{(0,m.onUnexpectedExternalError)(f)}));return Promise.all(a).then(l=>{const f=[];for(let g of l)Array.isArray(g)?f.push(...g):g&&f.push(g);return f})}function v(o,d,r,c){return _(d,r,o,(s,a,l)=>s.provideDefinition(a,l,c))}e.getDefinitionsAtPosition=v;function u(o,d,r,c){return _(d,r,o,(s,a,l)=>s.provideDeclaration(a,l,c))}e.getDeclarationsAtPosition=u;function h(o,d,r,c){return _(d,r,o,(s,a,l)=>s.provideImplementation(a,l,c))}e.getImplementationsAtPosition=h;function i(o,d,r,c){return _(d,r,o,(s,a,l)=>s.provideTypeDefinition(a,l,c))}e.getTypeDefinitionsAtPosition=i;function n(o,d,r,c,s){return _(d,r,o,(a,l,f)=>Le(this,void 0,void 0,function*(){const g=yield a.provideReferences(l,f,{includeDeclaration:!0},s);if(!c||!g||g.length!==2)return g;const b=yield a.provideReferences(l,f,{includeDeclaration:!1},s);return b&&b.length===1?b:g}))}e.getReferencesAtPosition=n;function t(o){return Le(this,void 0,void 0,function*(){const d=yield o(),r=new I.ReferencesModel(d,""),c=r.references.map(s=>s.link);return r.dispose(),c})}(0,k.registerModelAndPositionCommand)("_executeDefinitionProvider",(o,d,r)=>{const c=o.get(L.ILanguageFeaturesService),s=v(c.definitionProvider,d,r,E.CancellationToken.None);return t(()=>s)}),(0,k.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(o,d,r)=>{const c=o.get(L.ILanguageFeaturesService),s=i(c.typeDefinitionProvider,d,r,E.CancellationToken.None);return t(()=>s)}),(0,k.registerModelAndPositionCommand)("_executeDeclarationProvider",(o,d,r)=>{const c=o.get(L.ILanguageFeaturesService),s=u(c.declarationProvider,d,r,E.CancellationToken.None);return t(()=>s)}),(0,k.registerModelAndPositionCommand)("_executeReferenceProvider",(o,d,r)=>{const c=o.get(L.ILanguageFeaturesService),s=n(c.referenceProvider,d,r,!1,E.CancellationToken.None);return t(()=>s)}),(0,k.registerModelAndPositionCommand)("_executeImplementationProvider",(o,d,r)=>{const c=o.get(L.ILanguageFeaturesService),s=h(c.implementationProvider,d,r,E.CancellationToken.None);return t(()=>s)})}),define(re[689],se([1,0,4,2,42,15,29,3,557,16,53,9,43,90,40]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new u.RawContextKey("hasSymbols",!1,(0,v.localize)(0,null)),e.ISymbolNavigationService=(0,i.createDecorator)("ISymbolNavigationService");let d=class{constructor(s,a,l,f){this._editorService=a,this._notificationService=l,this._keybindingService=f,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(s)}reset(){var s,a;this._ctxHasSymbols.reset(),(s=this._currentState)===null||s===void 0||s.dispose(),(a=this._currentMessage)===null||a===void 0||a.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(s){const a=s.parent.parent;if(a.references.length<=1){this.reset();return}this._currentModel=a,this._currentIdx=a.references.indexOf(s),this._ctxHasSymbols.set(!0),this._showMessage();const l=new r(this._editorService),f=l.onDidChange(g=>{if(this._ignoreEditorChange)return;const b=this._editorService.getActiveCodeEditor();if(!b)return;const p=b.getModel(),C=b.getPosition();if(!p||!C)return;let S=!1,y=!1;for(const w of a.references)if((0,k.isEqual)(w.uri,p.uri))S=!0,y=y||_.Range.containsPosition(w.range,C);else if(S)break;(!S||!y)&&this.reset()});this._currentState=(0,m.combinedDisposable)(l,f)}revealNext(s){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const a=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:a.uri,options:{selection:_.Range.collapseToStart(a.range),selectionRevealType:3}},s).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var s;(s=this._currentMessage)===null||s===void 0||s.dispose();const a=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),l=a?(0,v.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,a.getLabel()):(0,v.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(l)}};d=Ie([fe(0,u.IContextKeyService),fe(1,L.ICodeEditorService),fe(2,o.INotificationService),fe(3,n.IKeybindingService)],d),(0,h.registerSingleton)(e.ISymbolNavigationService,d,!0),(0,I.registerEditorCommand)(new class extends I.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(c,s){return c.get(e.ISymbolNavigationService).revealNext(s)}}),t.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(c){c.get(e.ISymbolNavigationService).reset()}});let r=class{constructor(s){this._listener=new Map,this._disposables=new m.DisposableStore,this._onDidChange=new E.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(s.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(s.onCodeEditorAdd(this._onDidAddEditor,this)),s.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,m.dispose)(this._listener.values())}_onDidAddEditor(s){this._listener.set(s,(0,m.combinedDisposable)(s.onDidChangeCursorPosition(a=>this._onDidChange.fire({editor:s})),s.onDidChangeModelContent(a=>this._onDidChange.fire({editor:s}))))}_onDidRemoveEditor(s){var a;(a=this._listener.get(s))===null||a===void 0||a.dispose(),this._listener.delete(s)}};r=Ie([fe(0,L.ICodeEditorService)],r)}),define(re[299],se([1,0,10,21,13,15,20]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHoverPromise=e.getHover=e.HoverProviderResult=void 0;class _{constructor(t,o,d){this.provider=t,this.hover=o,this.ordinal=d}}e.HoverProviderResult=_;function v(n,t,o,d,r){return Le(this,void 0,void 0,function*(){try{const c=yield Promise.resolve(n.provideHover(o,d,r));if(c&&i(c))return new _(n,c,t)}catch(c){(0,k.onUnexpectedExternalError)(c)}})}function u(n,t,o,d){const c=n.ordered(t).map((s,a)=>v(s,a,t,o,d));return E.AsyncIterableObject.fromPromises(c).coalesce()}e.getHover=u;function h(n,t,o,d){return u(n,t,o,d).map(r=>r.hover).toPromise()}e.getHoverPromise=h,(0,I.registerModelAndPositionCommand)("_executeHoverProvider",(n,t,o)=>{const d=n.get(L.ILanguageFeaturesService);return h(d.hoverProvider,t,o,m.CancellationToken.None)});function i(n){const t=typeof n.range!="undefined",o=typeof n.contents!="undefined"&&n.contents&&n.contents.length>0;return t&&o}}),define(re[212],se([1,0,7,18,10,65,2,111,11,3,37,299,559,35,50,20]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderMarkdownHovers=e.MarkdownHoverParticipant=e.MarkdownHover=void 0;const r=E.$;class c{constructor(f,g,b,p){this.owner=f,this.range=g,this.contents=b,this.ordinal=p}isValidForHoverAnchor(f){return f.type===1&&this.range.startColumn<=f.range.startColumn&&this.range.endColumn>=f.range.endColumn}}e.MarkdownHover=c;let s=class{constructor(f,g,b,p,C){this._editor=f,this._languageService=g,this._openerService=b,this._configurationService=p,this._languageFeaturesService=C,this.hoverOrdinal=2}createLoadingMessage(f){return new c(this,f.range,[new I.MarkdownString().appendText(n.localize(0,null))],2e3)}computeSync(f,g){if(!this._editor.hasModel()||f.type!==1)return[];const b=this._editor.getModel(),p=f.range.startLineNumber,C=b.getLineMaxColumn(p),S=[];let y=1e3;const w=b.getLineLength(p),T=b.getLanguageIdAtPosition(f.range.startLineNumber,f.range.startColumn),N=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:T});typeof N=="number"&&w>=N&&S.push(new c(this,f.range,[{value:n.localize(1,null)}],y++));for(const R of g){const B=R.range.startLineNumber===p?R.range.startColumn:1,O=R.range.endLineNumber===p?R.range.endColumn:C,D=R.options.hoverMessage;if(!D||(0,I.isEmptyMarkdownString)(D))continue;const A=new u.Range(f.range.startLineNumber,B,f.range.startLineNumber,O);S.push(new c(this,A,(0,m.asArray)(D),y++))}return S}computeAsync(f,g,b){if(!this._editor.hasModel()||f.type!==1)return k.AsyncIterableObject.EMPTY;const p=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(p))return k.AsyncIterableObject.EMPTY;const C=new v.Position(f.range.startLineNumber,f.range.startColumn);return(0,i.getHover)(this._languageFeaturesService.hoverProvider,p,C,b).filter(S=>!(0,I.isEmptyMarkdownString)(S.hover.contents)).map(S=>{const y=S.hover.range?u.Range.lift(S.hover.range):f.range;return new c(this,y,S.hover.contents,S.ordinal)})}renderHoverParts(f,g){return a(f,g,this._editor,this._languageService,this._openerService)}};s=Ie([fe(1,h.ILanguageService),fe(2,o.IOpenerService),fe(3,t.IConfigurationService),fe(4,d.ILanguageFeaturesService)],s),e.MarkdownHoverParticipant=s;function a(l,f,g,b,p){f.sort((S,y)=>S.ordinal-y.ordinal);const C=new L.DisposableStore;for(const S of f)for(const y of S.contents){if((0,I.isEmptyMarkdownString)(y))continue;const w=r("div.hover-row.markdown-hover"),T=E.append(w,r("div.hover-contents")),N=C.add(new _.MarkdownRenderer({editor:g},b,p));C.add(N.onDidRenderAsync(()=>{T.className="hover-contents code-hover-contents",l.onContentsChanged()}));const R=C.add(N.render(y));T.appendChild(R.element),l.fragment.appendChild(w)}return C}e.renderMarkdownHovers=a}),define(re[690],se([1,0,2,8,15,210,61,3,24,22,31,49,265,562,82,180,208]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=e.getReindentEditOperations=void 0;function c(R,B,O,D,A){if(R.getLineCount()===1&&R.getLineMaxColumn(1)===1)return[];const P=B.getLanguageConfiguration(R.getLanguageId()).indentationRules;if(!P)return[];for(D=Math.min(D,R.getLineCount());O<=D&&P.unIndentedLinePattern;){let G=R.getLineContent(O);if(!P.unIndentedLinePattern.test(G))break;O++}if(O>D-1)return[];const{tabSize:F,indentSize:W,insertSpaces:M}=R.getOptions(),z=(G,x)=>(x=x||1,I.ShiftCommand.shiftIndent(G,G.length+x,F,W,M)),ee=(G,x)=>(x=x||1,I.ShiftCommand.unshiftIndent(G,G.length+x,F,W,M));let ie=[],Y,X=R.getLineContent(O),J=X;if(A!=null){Y=A;let G=m.getLeadingWhitespace(X);J=Y+X.substring(G.length),P.decreaseIndentPattern&&P.decreaseIndentPattern.test(J)&&(Y=ee(Y),J=Y+X.substring(G.length)),X!==J&&ie.push(L.EditOperation.replaceMove(new v.Selection(O,1,O,G.length+1),(0,d.normalizeIndentation)(Y,W,M)))}else Y=m.getLeadingWhitespace(X);let oe=Y;P.increaseIndentPattern&&P.increaseIndentPattern.test(J)?(oe=z(oe),Y=z(Y)):P.indentNextLinePattern&&P.indentNextLinePattern.test(J)&&(oe=z(oe)),O++;for(let G=O;G<=D;G++){let x=R.getLineContent(G),V=m.getLeadingWhitespace(x),K=oe+x.substring(V.length);P.decreaseIndentPattern&&P.decreaseIndentPattern.test(K)&&(oe=ee(oe),Y=ee(Y)),V!==oe&&ie.push(L.EditOperation.replaceMove(new v.Selection(G,1,G,V.length+1),(0,d.normalizeIndentation)(oe,W,M))),!(P.unIndentedLinePattern&&P.unIndentedLinePattern.test(x))&&(P.increaseIndentPattern&&P.increaseIndentPattern.test(K)?(Y=z(Y),oe=Y):P.indentNextLinePattern&&P.indentNextLinePattern.test(K)?oe=z(oe):oe=Y)}return ie}e.getReindentEditOperations=c;class s extends k.EditorAction{constructor(){super({id:s.ID,label:t.localize(0,null),alias:"Convert Indentation to Spaces",precondition:u.EditorContextKeys.writable})}run(B,O){let D=O.getModel();if(!D)return;let A=D.getOptions(),P=O.getSelection();if(!P)return;const F=new T(P,A.tabSize);O.pushUndoStop(),O.executeCommands(this.id,[F]),O.pushUndoStop(),D.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=s,s.ID="editor.action.indentationToSpaces";class a extends k.EditorAction{constructor(){super({id:a.ID,label:t.localize(1,null),alias:"Convert Indentation to Tabs",precondition:u.EditorContextKeys.writable})}run(B,O){let D=O.getModel();if(!D)return;let A=D.getOptions(),P=O.getSelection();if(!P)return;const F=new N(P,A.tabSize);O.pushUndoStop(),O.executeCommands(this.id,[F]),O.pushUndoStop(),D.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=a,a.ID="editor.action.indentationToTabs";class l extends k.EditorAction{constructor(B,O){super(O);this.insertSpaces=B}run(B,O){const D=B.get(o.IQuickInputService),A=B.get(i.IModelService);let P=O.getModel();if(!P)return;const F=A.getCreationOptions(P.getLanguageId(),P.uri,P.isForSimpleWidget),W=[1,2,3,4,5,6,7,8].map(z=>({id:z.toString(),label:z.toString(),description:z===F.tabSize?t.localize(2,null):void 0})),M=Math.min(P.getOptions().tabSize-1,7);setTimeout(()=>{D.pick(W,{placeHolder:t.localize(3,null),activeItem:W[M]}).then(z=>{z&&P&&!P.isDisposed()&&P.updateOptions({tabSize:parseInt(z.label,10),insertSpaces:this.insertSpaces})})},50)}}e.ChangeIndentationSizeAction=l;class f extends l{constructor(){super(!1,{id:f.ID,label:t.localize(4,null),alias:"Indent Using Tabs",precondition:void 0})}}e.IndentUsingTabs=f,f.ID="editor.action.indentUsingTabs";class g extends l{constructor(){super(!0,{id:g.ID,label:t.localize(5,null),alias:"Indent Using Spaces",precondition:void 0})}}e.IndentUsingSpaces=g,g.ID="editor.action.indentUsingSpaces";class b extends k.EditorAction{constructor(){super({id:b.ID,label:t.localize(6,null),alias:"Detect Indentation from Content",precondition:void 0})}run(B,O){const D=B.get(i.IModelService);let A=O.getModel();if(!A)return;const P=D.getCreationOptions(A.getLanguageId(),A.uri,A.isForSimpleWidget);A.detectIndentation(P.insertSpaces,P.tabSize)}}e.DetectIndentation=b,b.ID="editor.action.detectIndentation";class p extends k.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:t.localize(7,null),alias:"Reindent Lines",precondition:u.EditorContextKeys.writable})}run(B,O){const D=B.get(h.ILanguageConfigurationService);let A=O.getModel();if(!A)return;let P=c(A,D,1,A.getLineCount());P.length>0&&(O.pushUndoStop(),O.executeEdits(this.id,P),O.pushUndoStop())}}e.ReindentLinesAction=p;class C extends k.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:t.localize(8,null),alias:"Reindent Selected Lines",precondition:u.EditorContextKeys.writable})}run(B,O){const D=B.get(h.ILanguageConfigurationService);let A=O.getModel();if(!A)return;let P=O.getSelections();if(P===null)return;let F=[];for(let W of P){let M=W.startLineNumber,z=W.endLineNumber;if(M!==z&&W.endColumn===1&&z--,M===1){if(M===z)continue}else M--;let ee=c(A,D,M,z);F.push(...ee)}F.length>0&&(O.pushUndoStop(),O.executeEdits(this.id,F),O.pushUndoStop())}}e.ReindentSelectedLinesAction=C;class S{constructor(B,O){this._initialSelection=O,this._edits=[],this._selectionId=null;for(let D of B)D.range&&typeof D.text=="string"&&this._edits.push(D)}getEditOperations(B,O){for(let A of this._edits)O.addEditOperation(_.Range.lift(A.range),A.text);let D=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(D=!0,this._selectionId=O.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(D=!0,this._selectionId=O.trackSelection(this._initialSelection,!1))),D||(this._selectionId=O.trackSelection(this._initialSelection))}computeCursorState(B,O){return O.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=S;let y=class{constructor(B,O){this.editor=B,this._languageConfigurationService=O,this.callOnDispose=new E.DisposableStore,this.callOnModel=new E.DisposableStore,this.callOnDispose.add(B.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(B.onDidChangeModel(()=>this.update())),this.callOnDispose.add(B.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(48))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:B})=>{this.trigger(B)})))}trigger(B){let O=this.editor.getSelections();if(O===null||O.length>1)return;const D=this.editor.getModel();if(!D||!D.tokenization.isCheapToTokenize(B.getStartPosition().lineNumber))return;const A=this.editor.getOption(9),{tabSize:P,indentSize:F,insertSpaces:W}=D.getOptions();let M=[],z={shiftIndent:X=>I.ShiftCommand.shiftIndent(X,X.length+1,P,F,W),unshiftIndent:X=>I.ShiftCommand.unshiftIndent(X,X.length+1,P,F,W)},ee=B.startLineNumber;for(;ee<=B.endLineNumber;){if(this.shouldIgnoreLine(D,ee)){ee++;continue}break}if(ee>B.endLineNumber)return;let ie=D.getLineContent(ee);if(!/\S/.test(ie.substring(0,B.startColumn-1))){const X=(0,r.getGoodIndentForLine)(A,D,D.getLanguageId(),ee,z,this._languageConfigurationService);if(X!==null){let J=m.getLeadingWhitespace(ie),oe=n.getSpaceCnt(X,P),G=n.getSpaceCnt(J,P);if(oe!==G){let x=n.generateIndent(oe,P,W);M.push({range:new _.Range(ee,1,ee,J.length+1),text:x}),ie=x+ie.substr(J.length)}else{let x=(0,r.getIndentMetadata)(D,ee,this._languageConfigurationService);if(x===0||x===8)return}}}const Y=ee;for(;ee<B.endLineNumber;){if(!/\S/.test(D.getLineContent(ee+1))){ee++;continue}break}if(ee!==B.endLineNumber){let X={tokenization:{getLineTokens:oe=>D.tokenization.getLineTokens(oe),getLanguageId:()=>D.getLanguageId(),getLanguageIdAtPosition:(oe,G)=>D.getLanguageIdAtPosition(oe,G)},getLineContent:oe=>oe===Y?ie:D.getLineContent(oe)},J=(0,r.getGoodIndentForLine)(A,X,D.getLanguageId(),ee+1,z,this._languageConfigurationService);if(J!==null){let oe=n.getSpaceCnt(J,P),G=n.getSpaceCnt(m.getLeadingWhitespace(D.getLineContent(ee+1)),P);if(oe!==G){let x=oe-G;for(let V=ee+1;V<=B.endLineNumber;V++){let K=D.getLineContent(V),le=m.getLeadingWhitespace(K),Q=n.getSpaceCnt(le,P)+x,q=n.generateIndent(Q,P,W);q!==le&&M.push({range:new _.Range(V,1,V,le.length+1),text:q})}}}}if(M.length>0){this.editor.pushUndoStop();let X=new S(M,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",X),this.editor.pushUndoStop()}}shouldIgnoreLine(B,O){B.tokenization.forceTokenization(O);let D=B.getLineFirstNonWhitespaceColumn(O);if(D===0)return!0;let A=B.tokenization.getLineTokens(O);if(A.getCount()>0){let P=A.findTokenIndexAtOffset(D);if(P>=0&&A.getStandardTokenType(P)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};y.ID="editor.contrib.autoIndentOnPaste",y=Ie([fe(1,h.ILanguageConfigurationService)],y),e.AutoIndentOnPaste=y;function w(R,B,O,D){if(R.getLineCount()===1&&R.getLineMaxColumn(1)===1)return;let A="";for(let F=0;F<O;F++)A+=" ";let P=new RegExp(A,"gi");for(let F=1,W=R.getLineCount();F<=W;F++){let M=R.getLineFirstNonWhitespaceColumn(F);if(M===0&&(M=R.getLineMaxColumn(F)),M===1)continue;const z=new _.Range(F,1,F,M),ee=R.getValueInRange(z),ie=D?ee.replace(/\t/ig,A):ee.replace(P,"	");B.addEditOperation(z,ie)}}class T{constructor(B,O){this.selection=B,this.tabSize=O,this.selectionId=null}getEditOperations(B,O){this.selectionId=O.trackSelection(this.selection),w(B,O,this.tabSize,!0)}computeCursorState(B,O){return O.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=T;class N{constructor(B,O){this.selection=B,this.tabSize=O,this.selectionId=null}getEditOperations(B,O){this.selectionId=O.trackSelection(this.selection),w(B,O,this.tabSize,!1)}computeCursorState(B,O){return O.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=N,(0,k.registerEditorContribution)(y.ID,y),(0,k.registerEditorAction)(s),(0,k.registerEditorAction)(a),(0,k.registerEditorAction)(f),(0,k.registerEditorAction)(g),(0,k.registerEditorAction)(b),(0,k.registerEditorAction)(p),(0,k.registerEditorAction)(C)}),define(re[691],se([1,0,15,185,22,567]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class L extends E.EditorAction{constructor(){super({id:"expandLineSelection",label:I.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:k.EditorContextKeys.textInputFocus,primary:2048|42}})}run(v,u,h){if(h=h||{},!u.hasModel())return;const i=u._getViewModel();i.model.pushStackElement(),i.setCursorStates(h.source,3,m.CursorMoveCommands.expandLineSelection(i,i.getCursorStates())),i.revealPrimaryCursor(h.source,!0)}}e.ExpandLineSelectionAction=L,(0,E.registerEditorAction)(L)}),define(re[692],se([1,0,59,160,15,103,413,211,61,11,3,24,22,477,640,478,568,39,31]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class a extends k.EditorAction{constructor(x,V){super(V);this.down=x}run(x,V){if(!V.hasModel())return;const K=V.getSelections().map((Q,q)=>({selection:Q,index:q,ignore:!1}));K.sort((Q,q)=>h.Range.compareRangesUsingStarts(Q.selection,q.selection));let le=K[0];for(let Q=1;Q<K.length;Q++){const q=K[Q];le.selection.endLineNumber===q.selection.startLineNumber&&(le.index<q.index?q.ignore=!0:(le.ignore=!0,le=q))}const ae=[];for(const Q of K)ae.push(new t.CopyLinesCommand(Q.selection,this.down,Q.ignore));V.pushUndoStop(),V.executeCommands(this.id,ae),V.pushUndoStop()}}class l extends a{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:r.localize(0,null),alias:"Copy Line Up",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16},weight:100},menuOpts:{menuId:c.MenuId.MenubarSelectionMenu,group:"2_line",title:r.localize(1,null),order:1}})}}class f extends a{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:r.localize(2,null),alias:"Copy Line Down",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18},weight:100},menuOpts:{menuId:c.MenuId.MenubarSelectionMenu,group:"2_line",title:r.localize(3,null),order:2}})}}class g extends k.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:r.localize(4,null),alias:"Duplicate Selection",precondition:n.EditorContextKeys.writable,menuOpts:{menuId:c.MenuId.MenubarSelectionMenu,group:"2_line",title:r.localize(5,null),order:5}})}run(x,V,K){if(!V.hasModel())return;const le=[],ae=V.getSelections(),Q=V.getModel();for(const q of ae)if(q.isEmpty())le.push(new t.CopyLinesCommand(q,!0));else{const Z=new i.Selection(q.endLineNumber,q.endColumn,q.endLineNumber,q.endColumn);le.push(new I.ReplaceCommandThatSelectsText(Z,Q.getValueInRange(q)))}V.pushUndoStop(),V.executeCommands(this.id,le),V.pushUndoStop()}}e.DuplicateSelectionAction=g;class b extends k.EditorAction{constructor(x,V){super(V);this.down=x}run(x,V){const K=x.get(s.ILanguageConfigurationService);let le=[],ae=V.getSelections()||[];const Q=V.getOption(9);for(const q of ae)le.push(new o.MoveLinesCommand(q,this.down,Q,K));V.pushUndoStop(),V.executeCommands(this.id,le),V.pushUndoStop()}}class p extends b{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:r.localize(6,null),alias:"Move Line Up",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:512|16,linux:{primary:512|16},weight:100},menuOpts:{menuId:c.MenuId.MenubarSelectionMenu,group:"2_line",title:r.localize(7,null),order:3}})}}class C extends b{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:r.localize(8,null),alias:"Move Line Down",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:512|18,linux:{primary:512|18},weight:100},menuOpts:{menuId:c.MenuId.MenubarSelectionMenu,group:"2_line",title:r.localize(9,null),order:4}})}}class S extends k.EditorAction{constructor(x,V){super(V);this.descending=x}run(x,V){const K=V.getSelections()||[];for(const ae of K)if(!d.SortLinesCommand.canRun(V.getModel(),ae,this.descending))return;let le=[];for(let ae=0,Q=K.length;ae<Q;ae++)le[ae]=new d.SortLinesCommand(K[ae],this.descending);V.pushUndoStop(),V.executeCommands(this.id,le),V.pushUndoStop()}}e.AbstractSortLinesAction=S;class y extends S{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:r.localize(10,null),alias:"Sort Lines Ascending",precondition:n.EditorContextKeys.writable})}}e.SortLinesAscendingAction=y;class w extends S{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:r.localize(11,null),alias:"Sort Lines Descending",precondition:n.EditorContextKeys.writable})}}e.SortLinesDescendingAction=w;class T extends k.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:r.localize(12,null),alias:"Delete Duplicate Lines",precondition:n.EditorContextKeys.writable})}run(x,V){if(!V.hasModel())return;let K=V.getModel();if(K.getLineCount()===1&&K.getLineMaxColumn(1)===1)return;let le=[],ae=[],Q=0;for(let q of V.getSelections()){let Z=new Set,j=[];for(let ne=q.startLineNumber;ne<=q.endLineNumber;ne++){let de=K.getLineContent(ne);Z.has(de)||(j.push(de),Z.add(de))}let $=new i.Selection(q.startLineNumber,1,q.endLineNumber,K.getLineMaxColumn(q.endLineNumber)),H=q.startLineNumber-Q,te=new i.Selection(H,1,H+j.length-1,j[j.length-1].length);le.push(v.EditOperation.replace($,j.join(`
`))),ae.push(te),Q+=q.endLineNumber-q.startLineNumber+1-j.length}V.pushUndoStop(),V.executeEdits(this.id,le,ae),V.pushUndoStop()}}e.DeleteDuplicateLinesAction=T;class N extends k.EditorAction{constructor(){super({id:N.ID,label:r.localize(13,null),alias:"Trim Trailing Whitespace",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2048|41,2048|54),weight:100}})}run(x,V,K){let le=[];K.reason==="auto-save"&&(le=(V.getSelections()||[]).map(q=>new u.Position(q.positionLineNumber,q.positionColumn)));let ae=V.getSelection();if(ae===null)return;let Q=new L.TrimTrailingWhitespaceCommand(ae,le);V.pushUndoStop(),V.executeCommands(this.id,[Q]),V.pushUndoStop()}}e.TrimTrailingWhitespaceAction=N,N.ID="editor.action.trimTrailingWhitespace";class R extends k.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:r.localize(14,null),alias:"Delete Line",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:2048|1024|41,weight:100}})}run(x,V){if(!V.hasModel())return;let K=this._getLinesToRemove(V),le=V.getModel();if(le.getLineCount()===1&&le.getLineMaxColumn(1)===1)return;let ae=0,Q=[],q=[];for(let Z=0,j=K.length;Z<j;Z++){const $=K[Z];let H=$.startLineNumber,te=$.endLineNumber,ne=1,de=le.getLineMaxColumn(te);te<le.getLineCount()?(te+=1,de=1):H>1&&(H-=1,ne=le.getLineMaxColumn(H)),Q.push(v.EditOperation.replace(new i.Selection(H,ne,te,de),"")),q.push(new i.Selection(H-ae,$.positionColumn,H-ae,$.positionColumn)),ae+=$.endLineNumber-$.startLineNumber+1}V.pushUndoStop(),V.executeEdits(this.id,Q,q),V.pushUndoStop()}_getLinesToRemove(x){let V=x.getSelections().map(ae=>{let Q=ae.endLineNumber;return ae.startLineNumber<ae.endLineNumber&&ae.endColumn===1&&(Q-=1),{startLineNumber:ae.startLineNumber,selectionStartColumn:ae.selectionStartColumn,endLineNumber:Q,positionColumn:ae.positionColumn}});V.sort((ae,Q)=>ae.startLineNumber===Q.startLineNumber?ae.endLineNumber-Q.endLineNumber:ae.startLineNumber-Q.startLineNumber);let K=[],le=V[0];for(let ae=1;ae<V.length;ae++)le.endLineNumber+1>=V[ae].startLineNumber?le.endLineNumber=V[ae].endLineNumber:(K.push(le),le=V[ae]);return K.push(le),K}}e.DeleteLinesAction=R;class B extends k.EditorAction{constructor(){super({id:"editor.action.indentLines",label:r.localize(15,null),alias:"Indent Line",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:2048|89,weight:100}})}run(x,V){const K=V._getViewModel();!K||(V.pushUndoStop(),V.executeCommands(this.id,_.TypeOperations.indent(K.cursorConfig,V.getModel(),V.getSelections())),V.pushUndoStop())}}e.IndentLinesAction=B;class O extends k.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:r.localize(16,null),alias:"Outdent Line",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:2048|87,weight:100}})}run(x,V){m.CoreEditingCommands.Outdent.runEditorCommand(x,V,null)}}class D extends k.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:r.localize(17,null),alias:"Insert Line Above",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:2048|1024|3,weight:100}})}run(x,V){const K=V._getViewModel();!K||(V.pushUndoStop(),V.executeCommands(this.id,_.TypeOperations.lineInsertBefore(K.cursorConfig,V.getModel(),V.getSelections())))}}e.InsertLineBeforeAction=D;class A extends k.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:r.localize(18,null),alias:"Insert Line Below",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:2048|3,weight:100}})}run(x,V){const K=V._getViewModel();!K||(V.pushUndoStop(),V.executeCommands(this.id,_.TypeOperations.lineInsertAfter(K.cursorConfig,V.getModel(),V.getSelections())))}}e.InsertLineAfterAction=A;class P extends k.EditorAction{run(x,V){if(!V.hasModel())return;const K=V.getSelection();let le=this._getRangesToDelete(V),ae=[];for(let Z=0,j=le.length-1;Z<j;Z++){let $=le[Z],H=le[Z+1];h.Range.intersectRanges($,H)===null?ae.push($):le[Z+1]=h.Range.plusRange($,H)}ae.push(le[le.length-1]);let Q=this._getEndCursorState(K,ae),q=ae.map(Z=>v.EditOperation.replace(Z,""));V.pushUndoStop(),V.executeEdits(this.id,q,Q),V.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=P;class F extends P{constructor(){super({id:"deleteAllLeft",label:r.localize(19,null),alias:"Delete All Left",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2048|1},weight:100}})}_getEndCursorState(x,V){let K=null,le=[],ae=0;return V.forEach(Q=>{let q;if(Q.endColumn===1&&ae>0){let Z=Q.startLineNumber-ae;q=new i.Selection(Z,Q.startColumn,Z,Q.startColumn)}else q=new i.Selection(Q.startLineNumber,Q.startColumn,Q.startLineNumber,Q.startColumn);ae+=Q.endLineNumber-Q.startLineNumber,Q.intersectRanges(x)?K=q:le.push(q)}),K&&le.unshift(K),le}_getRangesToDelete(x){let V=x.getSelections();if(V===null)return[];let K=V,le=x.getModel();return le===null?[]:(K.sort(h.Range.compareRangesUsingStarts),K=K.map(ae=>{if(ae.isEmpty())if(ae.startColumn===1){let Q=Math.max(1,ae.startLineNumber-1),q=ae.startLineNumber===1?1:le.getLineContent(Q).length+1;return new h.Range(Q,q,ae.startLineNumber,1)}else return new h.Range(ae.startLineNumber,1,ae.startLineNumber,ae.startColumn);else return new h.Range(ae.startLineNumber,1,ae.endLineNumber,ae.endColumn)}),K)}}e.DeleteAllLeftAction=F;class W extends P{constructor(){super({id:"deleteAllRight",label:r.localize(20,null),alias:"Delete All Right",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|41,secondary:[2048|20]},weight:100}})}_getEndCursorState(x,V){let K=null,le=[];for(let ae=0,Q=V.length,q=0;ae<Q;ae++){let Z=V[ae],j=new i.Selection(Z.startLineNumber-q,Z.startColumn,Z.startLineNumber-q,Z.startColumn);Z.intersectRanges(x)?K=j:le.push(j)}return K&&le.unshift(K),le}_getRangesToDelete(x){let V=x.getModel();if(V===null)return[];let K=x.getSelections();if(K===null)return[];let le=K.map(ae=>{if(ae.isEmpty()){const Q=V.getLineMaxColumn(ae.startLineNumber);return ae.startColumn===Q?new h.Range(ae.startLineNumber,ae.startColumn,ae.startLineNumber+1,1):new h.Range(ae.startLineNumber,ae.startColumn,ae.startLineNumber,Q)}return ae});return le.sort(h.Range.compareRangesUsingStarts),le}}e.DeleteAllRightAction=W;class M extends k.EditorAction{constructor(){super({id:"editor.action.joinLines",label:r.localize(21,null),alias:"Join Lines",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:256|40},weight:100}})}run(x,V){let K=V.getSelections();if(K===null)return;let le=V.getSelection();if(le===null)return;K.sort(h.Range.compareRangesUsingStarts);let ae=[],Q=K.reduce((te,ne)=>te.isEmpty()?te.endLineNumber===ne.startLineNumber?(le.equalsSelection(te)&&(le=ne),ne):ne.startLineNumber>te.endLineNumber+1?(ae.push(te),ne):new i.Selection(te.startLineNumber,te.startColumn,ne.endLineNumber,ne.endColumn):ne.startLineNumber>te.endLineNumber?(ae.push(te),ne):new i.Selection(te.startLineNumber,te.startColumn,ne.endLineNumber,ne.endColumn));ae.push(Q);let q=V.getModel();if(q===null)return;let Z=[],j=[],$=le,H=0;for(let te=0,ne=ae.length;te<ne;te++){let de=ae[te],he=de.startLineNumber,pe=1,ve=0,ue,Ce,me=q.getLineContent(de.endLineNumber).length-de.endColumn;if(de.isEmpty()||de.startLineNumber===de.endLineNumber){let ge=de.getStartPosition();ge.lineNumber<q.getLineCount()?(ue=he+1,Ce=q.getLineMaxColumn(ue)):(ue=ge.lineNumber,Ce=q.getLineMaxColumn(ge.lineNumber))}else ue=de.endLineNumber,Ce=q.getLineMaxColumn(ue);let be=q.getLineContent(he);for(let ge=he+1;ge<=ue;ge++){let _e=q.getLineContent(ge),ye=q.getLineFirstNonWhitespaceColumn(ge);if(ye>=1){let Me=!0;be===""&&(Me=!1),Me&&(be.charAt(be.length-1)===" "||be.charAt(be.length-1)==="	")&&(Me=!1,be=be.replace(/[\s\uFEFF\xA0]+$/g," "));let ke=_e.substr(ye-1);be+=(Me?" ":"")+ke,Me?ve=ke.length+1:ve=ke.length}else ve=0}let ce=new h.Range(he,pe,ue,Ce);if(!ce.isEmpty()){let ge;de.isEmpty()?(Z.push(v.EditOperation.replace(ce,be)),ge=new i.Selection(ce.startLineNumber-H,be.length-ve+1,he-H,be.length-ve+1)):de.startLineNumber===de.endLineNumber?(Z.push(v.EditOperation.replace(ce,be)),ge=new i.Selection(de.startLineNumber-H,de.startColumn,de.endLineNumber-H,de.endColumn)):(Z.push(v.EditOperation.replace(ce,be)),ge=new i.Selection(de.startLineNumber-H,de.startColumn,de.startLineNumber-H,be.length-me)),h.Range.intersectRanges(ce,le)!==null?$=ge:j.push(ge)}H+=ce.endLineNumber-ce.startLineNumber}j.unshift($),V.pushUndoStop(),V.executeEdits(this.id,Z,j),V.pushUndoStop()}}e.JoinLinesAction=M;class z extends k.EditorAction{constructor(){super({id:"editor.action.transpose",label:r.localize(22,null),alias:"Transpose characters around the cursor",precondition:n.EditorContextKeys.writable})}run(x,V){let K=V.getSelections();if(K===null)return;let le=V.getModel();if(le===null)return;let ae=[];for(let Q=0,q=K.length;Q<q;Q++){let Z=K[Q];if(!Z.isEmpty())continue;let j=Z.getStartPosition(),$=le.getLineMaxColumn(j.lineNumber);if(j.column>=$){if(j.lineNumber===le.getLineCount())continue;let H=new h.Range(j.lineNumber,Math.max(1,j.column-1),j.lineNumber+1,1),te=le.getValueInRange(H).split("").reverse().join("");ae.push(new I.ReplaceCommand(new i.Selection(j.lineNumber,Math.max(1,j.column-1),j.lineNumber+1,1),te))}else{let H=new h.Range(j.lineNumber,Math.max(1,j.column-1),j.lineNumber,j.column+1),te=le.getValueInRange(H).split("").reverse().join("");ae.push(new I.ReplaceCommandThatPreservesSelection(H,te,new i.Selection(j.lineNumber,j.column+1,j.lineNumber,j.column+1)))}}V.pushUndoStop(),V.executeCommands(this.id,ae),V.pushUndoStop()}}e.TransposeAction=z;class ee extends k.EditorAction{run(x,V){const K=V.getSelections();if(K===null)return;const le=V.getModel();if(le===null)return;const ae=V.getOption(117),Q=[];for(const q of K)if(q.isEmpty()){const Z=q.getStartPosition(),j=V.getConfiguredWordAtPosition(Z);if(!j)continue;const $=new h.Range(Z.lineNumber,j.startColumn,Z.lineNumber,j.endColumn),H=le.getValueInRange($);Q.push(v.EditOperation.replace($,this._modifyText(H,ae)))}else{const Z=le.getValueInRange(q);Q.push(v.EditOperation.replace(q,this._modifyText(Z,ae)))}V.pushUndoStop(),V.executeEdits(this.id,Q),V.pushUndoStop()}}e.AbstractCaseAction=ee;class ie extends ee{constructor(){super({id:"editor.action.transformToUppercase",label:r.localize(23,null),alias:"Transform to Uppercase",precondition:n.EditorContextKeys.writable})}_modifyText(x,V){return x.toLocaleUpperCase()}}e.UpperCaseAction=ie;class Y extends ee{constructor(){super({id:"editor.action.transformToLowercase",label:r.localize(24,null),alias:"Transform to Lowercase",precondition:n.EditorContextKeys.writable})}_modifyText(x,V){return x.toLocaleLowerCase()}}e.LowerCaseAction=Y;class X{constructor(x,V){this._pattern=x,this._flags=V,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class J extends ee{constructor(){super({id:"editor.action.transformToTitlecase",label:r.localize(25,null),alias:"Transform to Title Case",precondition:n.EditorContextKeys.writable})}_modifyText(x,V){const K=J.titleBoundary.get();return K?x.toLocaleLowerCase().replace(K,le=>le.toLocaleUpperCase()):x}}e.TitleCaseAction=J,J.titleBoundary=new X("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class oe extends ee{constructor(){super({id:"editor.action.transformToSnakecase",label:r.localize(26,null),alias:"Transform to Snake Case",precondition:n.EditorContextKeys.writable})}_modifyText(x,V){const K=oe.caseBoundary.get(),le=oe.singleLetters.get();return!K||!le?x:x.replace(K,"$1_$2").replace(le,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=oe,oe.caseBoundary=new X("(\\p{Ll})(\\p{Lu})","gmu"),oe.singleLetters=new X("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),(0,k.registerEditorAction)(l),(0,k.registerEditorAction)(f),(0,k.registerEditorAction)(g),(0,k.registerEditorAction)(p),(0,k.registerEditorAction)(C),(0,k.registerEditorAction)(y),(0,k.registerEditorAction)(w),(0,k.registerEditorAction)(T),(0,k.registerEditorAction)(N),(0,k.registerEditorAction)(R),(0,k.registerEditorAction)(B),(0,k.registerEditorAction)(O),(0,k.registerEditorAction)(D),(0,k.registerEditorAction)(A),(0,k.registerEditorAction)(F),(0,k.registerEditorAction)(W),(0,k.registerEditorAction)(M),(0,k.registerEditorAction)(z),(0,k.registerEditorAction)(ie),(0,k.registerEditorAction)(Y),oe.caseBoundary.isSupported()&&oe.singleLetters.isSupported()&&(0,k.registerEditorAction)(oe),J.titleBoundary.isSupported()&&(0,k.registerEditorAction)(J)}),define(re[162],se([1,0,46,10,2,15,3,571,16,392]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let u=class oi{constructor(t,o){this._messageWidget=new k.MutableDisposable,this._messageListeners=new k.DisposableStore,this._editor=t,this._visible=oi.MESSAGE_VISIBLE.bindTo(o),this._editorListener=this._editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit())}static get(t){return t.getContribution(oi.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(t,o){(0,E.alert)(t),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new i(this._editor,o,t),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new m.TimeoutTimer(()=>this.closeMessage(),3e3));let d;this._messageListeners.add(this._editor.onMouseMove(r=>{!r.target.position||(d?d.containsPosition(r.target.position)||this.closeMessage():d=new L.Range(o.lineNumber-3,1,r.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(i.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(_.localize(1,null),this._editor.getPosition())}};u.ID="editor.contrib.messageController",u.MESSAGE_VISIBLE=new v.RawContextKey("messageVisible",!1,_.localize(0,null)),u=Ie([fe(1,v.IContextKeyService)],u),e.MessageController=u;const h=I.EditorCommand.bindToContribution(u.get);(0,I.registerEditorCommand)(new h({id:"leaveEditorMessage",precondition:u.MESSAGE_VISIBLE,handler:n=>n.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class i{constructor(t,{lineNumber:o,column:d},r){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=t,this._editor.revealLinesInCenterIfOutsideViewport(o,o,0),this._position={lineNumber:o,column:d},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const c=document.createElement("div");c.classList.add("anchor","top"),this._domNode.appendChild(c);const s=document.createElement("div");s.classList.add("message"),s.textContent=r,this._domNode.appendChild(s);const a=document.createElement("div");a.classList.add("anchor","below"),this._domNode.appendChild(a),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(t){let o;const d=()=>{t.dispose(),clearTimeout(o),t.getDomNode().removeEventListener("animationend",d)};return o=setTimeout(d,110),t.getDomNode().addEventListener("animationend",d),t.getDomNode().classList.add("fadeOut"),{dispose:d}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(t){this._domNode.classList.toggle("below",t===2)}}(0,I.registerEditorContribution)(u.ID,u)});var ti=this&&this.__classPrivateFieldSet||function(U,e,E,m,k){if(m==="m")throw new TypeError("Private method is not writable");if(m==="a"&&!k)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?U!==e||!k:!e.has(U))throw new TypeError("Cannot write private member to an object whose class did not declare it");return m==="a"?k.call(U,E):k?k.value=E:e.set(U,E),E},Tt=this&&this.__classPrivateFieldGet||function(U,e,E,m){if(E==="a"&&!m)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?U!==e||!m:!e.has(U))throw new TypeError("Cannot read private member from an object whose class did not declare it");return E==="m"?m:E==="a"?m.call(U):m?m.value:e.get(U)};define(re[693],se([1,0,13,137,2,162,9,685,666]),function(U,e,E,m,k,I,L,_,v){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionUi=void 0;let h=class extends k.Disposable{constructor(n,t,o,d,r){super();this._editor=n,this.delegate=d,this._activeCodeActions=this._register(new k.MutableDisposable),u.set(this,!1),this._codeActionWidget=new m.Lazy(()=>this._register(r.createInstance(_.CodeActionMenu,this._editor,{onSelectCodeAction:c=>Le(this,void 0,void 0,function*(){this.delegate.applyCodeAction(c,!0)})}))),this._lightBulbWidget=new m.Lazy(()=>{const c=this._register(r.createInstance(v.LightBulbWidget,this._editor,t,o));return this._register(c.onClick(s=>this.showCodeActionList(s.trigger,s.actions,s,{includeDisabledActions:!1}))),c})}dispose(){ti(this,u,!0,"f"),super.dispose()}update(n){var t,o,d,r,c;return Le(this,void 0,void 0,function*(){if(n.type!==1){(t=this._lightBulbWidget.rawValue)===null||t===void 0||t.hide();return}let s;try{s=yield n.actions}catch(a){(0,E.onUnexpectedError)(a);return}if(!Tt(this,u,"f"))if(this._lightBulbWidget.getValue().update(s,n.trigger,n.position),n.trigger.type===1){if((o=n.trigger.filter)===null||o===void 0?void 0:o.include){const l=this.tryGetValidActionToApply(n.trigger,s);if(l){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(l,!1)}finally{s.dispose()}return}if(n.trigger.context){const f=this.getInvalidActionThatWouldHaveBeenApplied(n.trigger,s);if(f&&f.action.disabled){(d=I.MessageController.get(this._editor))===null||d===void 0||d.showMessage(f.action.disabled,n.trigger.context.position),s.dispose();return}}}const a=!!((r=n.trigger.filter)===null||r===void 0?void 0:r.include);if(n.trigger.context&&(!s.allActions.length||!a&&!s.validActions.length)){(c=I.MessageController.get(this._editor))===null||c===void 0||c.showMessage(n.trigger.context.notAvailableMessage,n.trigger.context.position),this._activeCodeActions.value=s,s.dispose();return}this._activeCodeActions.value=s,this._codeActionWidget.getValue().show(n.trigger,s,n.position,{includeDisabledActions:a})}else this._codeActionWidget.getValue().isVisible?s.dispose():this._activeCodeActions.value=s})}getInvalidActionThatWouldHaveBeenApplied(n,t){if(!!t.allActions.length&&(n.autoApply==="first"&&t.validActions.length===0||n.autoApply==="ifSingle"&&t.allActions.length===1))return t.allActions.find(({action:o})=>o.disabled)}tryGetValidActionToApply(n,t){if(!!t.validActions.length&&(n.autoApply==="first"&&t.validActions.length>0||n.autoApply==="ifSingle"&&t.validActions.length===1))return t.validActions[0]}showCodeActionList(n,t,o,d){return Le(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(n,t,o,d)})}};u=new WeakMap,h=Ie([fe(4,L.IInstantiationService)],h),e.CodeActionUi=h}),define(re[300],se([1,0,21,137,2,8,15,203,22,20,161,693,162,534,26,16,9,81,40,76,91,686,156]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=e.applyCodeAction=e.QuickFixController=void 0;function b(P){return d.ContextKeyExpr.regex(f.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,I.escapeRegExpCharacters)(P.value)+"\\b"))}const p={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:t.localize(0,null)},apply:{type:"string",description:t.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[t.localize(2,null),t.localize(3,null),t.localize(4,null)]},preferred:{type:"boolean",default:!1,description:t.localize(5,null)}}};let C=class Mi extends k.Disposable{constructor(F,W,M,z,ee,ie){super();this._instantiationService=ee,this._editor=F,this._model=this._register(new f.CodeActionModel(this._editor,ie.codeActionProvider,W,M,z)),this._register(this._model.onDidChangeState(Y=>this.update(Y))),this._ui=new m.Lazy(()=>this._register(new i.CodeActionUi(F,T.Id,A.Id,{applyCodeAction:(Y,X)=>Le(this,void 0,void 0,function*(){try{yield this._applyCodeAction(Y)}finally{X&&this._trigger({type:2,filter:{}})}})},this._instantiationService)))}static get(F){return F.getContribution(Mi.ID)}update(F){this._ui.getValue().update(F)}showCodeActions(F,W,M){return this._ui.getValue().showCodeActionList(F,W,M,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(F,W,M){var z;if(!this._editor.hasModel())return;(z=n.MessageController.get(this._editor))===null||z===void 0||z.closeMessage();const ee=this._editor.getPosition();this._trigger({type:1,filter:W,autoApply:M,context:{notAvailableMessage:F,position:ee}})}_trigger(F){return this._model.trigger(F)}_applyCodeAction(F){return this._instantiationService.invokeFunction(S,F,this._editor)}};C.ID="editor.contrib.quickFixController",C=Ie([fe(1,c.IMarkerService),fe(2,d.IContextKeyService),fe(3,a.IEditorProgressService),fe(4,r.IInstantiationService),fe(5,u.ILanguageFeaturesService)],C),e.QuickFixController=C;function S(P,F,W){return Le(this,void 0,void 0,function*(){const M=P.get(_.IBulkEditService),z=P.get(o.ICommandService),ee=P.get(l.ITelemetryService),ie=P.get(s.INotificationService);if(ee.publicLog2("codeAction.applyCodeAction",{codeActionTitle:F.action.title,codeActionKind:F.action.kind,codeActionIsPreferred:!!F.action.isPreferred}),yield F.resolve(E.CancellationToken.None),F.action.edit&&(yield M.apply(_.ResourceEdit.convert(F.action.edit),{editor:W,label:F.action.title,quotableLabel:F.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:!0})),F.action.command)try{yield z.executeCommand(F.action.command.id,...F.action.command.arguments||[])}catch(Y){const X=y(Y);ie.error(typeof X=="string"?X:t.localize(6,null))}})}e.applyCodeAction=S;function y(P){return typeof P=="string"?P:P instanceof Error&&typeof P.message=="string"?P.message:void 0}function w(P,F,W,M){if(P.hasModel()){const z=C.get(P);z&&z.manualTriggerAtCurrentPosition(F,W,M)}}class T extends L.EditorAction{constructor(){super({id:T.Id,label:t.localize(7,null),alias:"Quick Fix...",precondition:d.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|84,weight:100}})}run(F,W){return w(W,t.localize(8,null),void 0,void 0)}}e.QuickFixAction=T,T.Id="editor.action.quickFix";class N extends L.EditorCommand{constructor(){super({id:h.codeActionCommandId,precondition:d.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:p}]}})}runEditorCommand(F,W,M){const z=g.CodeActionCommandArgs.fromUser(M,{kind:g.CodeActionKind.Empty,apply:"ifSingle"});return w(W,typeof(M==null?void 0:M.kind)=="string"?z.preferred?t.localize(9,null,M.kind):t.localize(10,null,M.kind):z.preferred?t.localize(11,null):t.localize(12,null),{include:z.kind,includeSourceActions:!0,onlyIncludePreferredActions:z.preferred},z.apply)}}e.CodeActionCommand=N;class R extends L.EditorAction{constructor(){super({id:h.refactorCommandId,label:t.localize(13,null),alias:"Refactor...",precondition:d.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|1024|48,mac:{primary:256|1024|48},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:d.ContextKeyExpr.and(v.EditorContextKeys.writable,b(g.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:p}]}})}run(F,W,M){const z=g.CodeActionCommandArgs.fromUser(M,{kind:g.CodeActionKind.Refactor,apply:"never"});return w(W,typeof(M==null?void 0:M.kind)=="string"?z.preferred?t.localize(14,null,M.kind):t.localize(15,null,M.kind):z.preferred?t.localize(16,null):t.localize(17,null),{include:g.CodeActionKind.Refactor.contains(z.kind)?z.kind:g.CodeActionKind.None,onlyIncludePreferredActions:z.preferred},z.apply)}}e.RefactorAction=R;class B extends L.EditorAction{constructor(){super({id:h.sourceActionCommandId,label:t.localize(18,null),alias:"Source Action...",precondition:d.ContextKeyExpr.and(v.EditorContextKeys.writable,v.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:d.ContextKeyExpr.and(v.EditorContextKeys.writable,b(g.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:p}]}})}run(F,W,M){const z=g.CodeActionCommandArgs.fromUser(M,{kind:g.CodeActionKind.Source,apply:"never"});return w(W,typeof(M==null?void 0:M.kind)=="string"?z.preferred?t.localize(19,null,M.kind):t.localize(20,null,M.kind):z.preferred?t.localize(21,null):t.localize(22,null),{include:g.CodeActionKind.Source.contains(z.kind)?z.kind:g.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:z.preferred},z.apply)}}e.SourceAction=B;class O extends L.EditorAction{constructor(){super({id:h.organizeImportsCommandId,label:t.localize(23,null),alias:"Organize Imports",precondition:d.ContextKeyExpr.and(v.EditorContextKeys.writable,b(g.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:1024|512|45,weight:100}})}run(F,W){return w(W,t.localize(24,null),{include:g.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}}e.OrganizeImportsAction=O;class D extends L.EditorAction{constructor(){super({id:h.fixAllCommandId,label:t.localize(25,null),alias:"Fix All",precondition:d.ContextKeyExpr.and(v.EditorContextKeys.writable,b(g.CodeActionKind.SourceFixAll))})}run(F,W){return w(W,t.localize(26,null),{include:g.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}}e.FixAllAction=D;class A extends L.EditorAction{constructor(){super({id:A.Id,label:t.localize(27,null),alias:"Auto Fix...",precondition:d.ContextKeyExpr.and(v.EditorContextKeys.writable,b(g.CodeActionKind.QuickFix)),kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:512|1024|84,mac:{primary:2048|512|84},weight:100}})}run(F,W){return w(W,t.localize(28,null),{include:g.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}}e.AutoFixAction=A,A.Id="editor.action.autoFix"}),define(re[694],se([1,0,15,300]),function(U,e,E,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,E.registerEditorContribution)(m.QuickFixController.ID,m.QuickFixController),(0,E.registerEditorAction)(m.QuickFixAction),(0,E.registerEditorAction)(m.RefactorAction),(0,E.registerEditorAction)(m.SourceAction),(0,E.registerEditorAction)(m.OrganizeImportsAction),(0,E.registerEditorAction)(m.AutoFixAction),(0,E.registerEditorAction)(m.FixAllAction),(0,E.registerEditorCommand)(new m.CodeActionCommand)}),define(re[695],se([1,0,46,10,21,13,2,19,25,113,15,203,29,11,3,22,158,162,578,110,16,9,69,40,76,38,672,20]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g,b,p,C,S,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=e.rename=void 0;class w{constructor(D,A,P){this.model=D,this.position=A,this._providerRenameIdx=0,this._providers=P.ordered(D)}hasProvider(){return this._providers.length>0}resolveRenameLocation(D){return Le(this,void 0,void 0,function*(){const A=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const F=this._providers[this._providerRenameIdx];if(!F.resolveRenameLocation)break;let W=yield F.resolveRenameLocation(this.model,this.position,D);if(!!W){if(W.rejectReason){A.push(W.rejectReason);continue}return W}}const P=this.model.getWordAtPosition(this.position);return P?{range:new o.Range(this.position.lineNumber,P.startColumn,this.position.lineNumber,P.endColumn),text:P.word,rejectReason:A.length>0?A.join(`
`):void 0}:{range:o.Range.fromPositions(this.position),text:"",rejectReason:A.length>0?A.join(`
`):void 0}})}provideRenameEdits(D,A){return Le(this,void 0,void 0,function*(){return this._provideRenameEdits(D,this._providerRenameIdx,[],A)})}_provideRenameEdits(D,A,P,F){return Le(this,void 0,void 0,function*(){const W=this._providers[A];if(!W)return{edits:[],rejectReason:P.join(`
`)};const M=yield W.provideRenameEdits(this.model,this.position,D,F);if(M){if(M.rejectReason)return this._provideRenameEdits(D,A+1,P.concat(M.rejectReason),F)}else return this._provideRenameEdits(D,A+1,P.concat(s.localize(0,null)),F);return M})}}function T(O,D,A,P){return Le(this,void 0,void 0,function*(){const F=new w(D,A,O),W=yield F.resolveRenameLocation(k.CancellationToken.None);return(W==null?void 0:W.rejectReason)?{edits:[],rejectReason:W.rejectReason}:F.provideRenameEdits(P,k.CancellationToken.None)})}e.rename=T;let N=class Ai{constructor(D,A,P,F,W,M,z,ee){this.editor=D,this._instaService=A,this._notificationService=P,this._bulkEditService=F,this._progressService=W,this._logService=M,this._configService=z,this._languageFeaturesService=ee,this._dispoableStore=new L.DisposableStore,this._cts=new k.CancellationTokenSource,this._renameInputField=this._dispoableStore.add(new m.IdleValue(()=>this._dispoableStore.add(this._instaService.createInstance(S.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(D){return D.getContribution(Ai.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){var D,A;return Le(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const P=this.editor.getPosition(),F=new w(this.editor.getModel(),P,this._languageFeaturesService.renameProvider);if(!F.hasProvider())return;this._cts=new u.EditorStateCancellationTokenSource(this.editor,4|1);let W;try{const J=F.resolveRenameLocation(this._cts.token);this._progressService.showWhile(J,250),W=yield J}catch(J){(D=c.MessageController.get(this.editor))===null||D===void 0||D.showMessage(J||s.localize(1,null),P);return}if(!W)return;if(W.rejectReason){(A=c.MessageController.get(this.editor))===null||A===void 0||A.showMessage(W.rejectReason,P);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new u.EditorStateCancellationTokenSource(this.editor,4|1,W.range);let M=this.editor.getSelection(),z=0,ee=W.text.length;!o.Range.isEmpty(M)&&!o.Range.spansMultipleLines(M)&&o.Range.containsRange(W.range,M)&&(z=Math.max(0,M.startColumn-W.range.startColumn),ee=Math.min(W.range.endColumn,M.endColumn)-W.range.startColumn);const ie=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),Y=yield this._renameInputField.value.getInput(W.range,W.text,z,ee,ie,this._cts.token);if(typeof Y=="boolean"){Y&&this.editor.focus();return}this.editor.focus();const X=(0,m.raceCancellation)(F.provideRenameEdits(Y.newName,this._cts.token),this._cts.token).then(J=>Le(this,void 0,void 0,function*(){if(!(!J||!this.editor.hasModel())){if(J.rejectReason){this._notificationService.info(J.rejectReason);return}this.editor.setSelection(o.Range.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(i.ResourceEdit.convert(J),{editor:this.editor,showPreview:Y.wantsPreview,label:s.localize(2,null,W==null?void 0:W.text,Y.newName),code:"undoredo.rename",quotableLabel:s.localize(3,null,W==null?void 0:W.text,Y.newName),respectAutoSaveConfig:!0}).then(oe=>{oe.ariaSummary&&(0,E.alert)(s.localize(4,null,W.text,Y.newName,oe.ariaSummary))}).catch(oe=>{this._notificationService.error(s.localize(5,null)),this._logService.error(oe)})}}),J=>{this._notificationService.error(s.localize(6,null)),this._logService.error(J)});return this._progressService.showWhile(X,250),X})}acceptRenameInput(D){this._renameInputField.value.acceptInput(D)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};N.ID="editor.contrib.renameController",N=Ie([fe(1,f.IInstantiationService),fe(2,b.INotificationService),fe(3,i.IBulkEditService),fe(4,p.IEditorProgressService),fe(5,g.ILogService),fe(6,r.ITextResourceConfigurationService),fe(7,y.ILanguageFeaturesService)],N);class R extends h.EditorAction{constructor(){super({id:"editor.action.rename",label:s.localize(7,null),alias:"Rename Symbol",precondition:l.ContextKeyExpr.and(d.EditorContextKeys.writable,d.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(D,A){const P=D.get(n.ICodeEditorService),[F,W]=Array.isArray(A)&&A||[void 0,void 0];return v.URI.isUri(F)&&t.Position.isIPosition(W)?P.openCodeEditor({resource:F},P.getActiveCodeEditor()).then(M=>{!M||(M.setPosition(W),M.invokeWithinContext(z=>(this.reportTelemetry(z,M),this.run(z,M))))},I.onUnexpectedError):super.runCommand(D,A)}run(D,A){const P=N.get(A);return P?P.run():Promise.resolve()}}e.RenameAction=R,(0,h.registerEditorContribution)(N.ID,N),(0,h.registerEditorAction)(R);const B=h.EditorCommand.bindToContribution(N.get);(0,h.registerEditorCommand)(new B({id:"acceptRenameInput",precondition:S.CONTEXT_RENAME_INPUT_VISIBLE,handler:O=>O.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:d.EditorContextKeys.focus,primary:3}})),(0,h.registerEditorCommand)(new B({id:"acceptRenameInputWithPreview",precondition:l.ContextKeyExpr.and(S.CONTEXT_RENAME_INPUT_VISIBLE,l.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:O=>O.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:d.EditorContextKeys.focus,primary:1024+3}})),(0,h.registerEditorCommand)(new B({id:"cancelRenameInput",precondition:S.CONTEXT_RENAME_INPUT_VISIBLE,handler:O=>O.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:d.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,h.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(O,D,A,...P){const[F]=P;(0,_.assertType)(typeof F=="string");const{renameProvider:W}=O.get(y.ILanguageFeaturesService);return T(W,D,A,F)}),(0,h.registerModelAndPositionCommand)("_executePrepareRename",function(O,D,A){return Le(this,void 0,void 0,function*(){const{renameProvider:P}=O.get(y.ILanguageFeaturesService),W=yield new w(D,A,P).resolveRenameLocation(k.CancellationToken.None);if(W==null?void 0:W.rejectReason)throw new Error(W.rejectReason);return W})}),C.Registry.as(a.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:s.localize(8,null),default:!0,type:"boolean"}}})}),define(re[696],se([1,0,18,21,13,15,11,3,24,22,267,479,580,39,26,20,57,19,25]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideSelectionRanges=void 0;class a{constructor(S,y){this.index=S,this.ranges=y}mov(S){let y=this.index+(S?1:-1);if(y<0||y>=this.ranges.length)return this;const w=new a(y,this.ranges);return w.ranges[y].equalsRange(this.ranges[this.index])?w.mov(S):w}}let l=class Pi{constructor(S,y){this._editor=S,this._languageFeaturesService=y,this._ignoreSelection=!1}static get(S){return S.getContribution(Pi.ID)}dispose(){var S;(S=this._selectionListener)===null||S===void 0||S.dispose()}run(S){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const y=this._editor.getSelections(),w=this._editor.getModel();if(this._state||(yield p(this._languageFeaturesService.selectionRangeProvider,w,y.map(N=>N.getPosition()),this._editor.getOption(102),m.CancellationToken.None).then(N=>{var R;if(!(!E.isNonEmptyArray(N)||N.length!==y.length)&&!(!this._editor.hasModel()||!E.equals(this._editor.getSelections(),y,(B,O)=>B.equalsSelection(O)))){for(let B=0;B<N.length;B++)N[B]=N[B].filter(O=>O.containsPosition(y[B].getStartPosition())&&O.containsPosition(y[B].getEndPosition())),N[B].unshift(y[B]);this._state=N.map(B=>new a(0,B)),(R=this._selectionListener)===null||R===void 0||R.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var B;this._ignoreSelection||((B=this._selectionListener)===null||B===void 0||B.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(N=>N.mov(S));const T=this._state.map(N=>v.Selection.fromPositions(N.ranges[N.index].getStartPosition(),N.ranges[N.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(T)}finally{this._ignoreSelection=!1}})}};l.ID="editor.contrib.smartSelectController",l=Ie([fe(1,d.ILanguageFeaturesService)],l);class f extends I.EditorAction{constructor(S,y){super(y);this._forward=S}run(S,y){return Le(this,void 0,void 0,function*(){let w=l.get(y);w&&(yield w.run(this._forward))})}}class g extends f{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:n.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17,secondary:[256|1024|17]},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"1_basic",title:n.localize(1,null),order:2}})}}o.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class b extends f{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:n.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15,secondary:[256|1024|15]},weight:100},menuOpts:{menuId:t.MenuId.MenubarSelectionMenu,group:"1_basic",title:n.localize(3,null),order:3}})}}(0,I.registerEditorContribution)(l.ID,l),(0,I.registerEditorAction)(g),(0,I.registerEditorAction)(b);function p(C,S,y,w,T){return Le(this,void 0,void 0,function*(){const N=C.all(S).concat(new i.WordSelectionRangeProvider);N.length===1&&N.unshift(new h.BracketSelectionRangeProvider);let R=[],B=[];for(const O of N)R.push(Promise.resolve(O.provideSelectionRanges(S,y,T)).then(D=>{if(E.isNonEmptyArray(D)&&D.length===y.length)for(let A=0;A<y.length;A++){B[A]||(B[A]=[]);for(const P of D[A])_.Range.isIRange(P.range)&&_.Range.containsPosition(P.range,y[A])&&B[A].push(_.Range.lift(P.range))}},k.onUnexpectedExternalError));return yield Promise.all(R),B.map(O=>{if(O.length===0)return[];O.sort((F,W)=>L.Position.isBefore(F.getStartPosition(),W.getStartPosition())?1:L.Position.isBefore(W.getStartPosition(),F.getStartPosition())||L.Position.isBefore(F.getEndPosition(),W.getEndPosition())?-1:L.Position.isBefore(W.getEndPosition(),F.getEndPosition())?1:0);let D=[],A;for(const F of O)(!A||_.Range.containsRange(F,A)&&!_.Range.equalsRange(F,A))&&(D.push(F),A=F);if(!w.selectLeadingAndTrailingWhitespace)return D;let P=[D[0]];for(let F=1;F<D.length;F++){const W=D[F-1],M=D[F];if(M.startLineNumber!==W.startLineNumber||M.endLineNumber!==W.endLineNumber){const z=new _.Range(W.startLineNumber,S.getLineFirstNonWhitespaceColumn(W.startLineNumber),W.endLineNumber,S.getLineLastNonWhitespaceColumn(W.endLineNumber));z.containsRange(W)&&!z.equalsRange(W)&&M.containsRange(z)&&!M.equalsRange(z)&&P.push(z);const ee=new _.Range(W.startLineNumber,1,W.endLineNumber,S.getLineMaxColumn(W.endLineNumber));ee.containsRange(W)&&!ee.equalsRange(z)&&M.containsRange(ee)&&!M.equalsRange(ee)&&P.push(ee)}P.push(M)}return P})})}e.provideSelectionRanges=p,o.CommandsRegistry.registerCommand("_executeSelectionRangeProvider",function(C,...S){return Le(this,void 0,void 0,function*(){const[y,w]=S;(0,c.assertType)(s.URI.isUri(y));const T=C.get(d.ILanguageFeaturesService).selectionRangeProvider,N=yield C.get(r.ITextModelService).createModelReference(y);try{return p(T,N.object.textEditorModel,w,{selectLeadingAndTrailingWhitespace:!0},m.CancellationToken.None)}finally{N.dispose()}})})}),define(re[98],se([1,0,21,13,64,2,56,19,25,11,3,57,107,583,39,26,16,20,288]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickSuggestionsOptions=e.showSimpleSuggestions=e.getSuggestionComparator=e.provideSuggestionItems=e.CompletionItemModel=e.getSnippetSuggestSupport=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.Context={Visible:s.historyNavigationVisible,DetailsVisible:new r.RawContextKey("suggestWidgetDetailsVisible",!1,(0,t.localize)(0,null)),MultipleSuggestions:new r.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,t.localize)(1,null)),MakesTextEdit:new r.RawContextKey("suggestionMakesTextEdit",!0,(0,t.localize)(2,null)),AcceptSuggestionsOnEnter:new r.RawContextKey("acceptSuggestionOnEnter",!0,(0,t.localize)(3,null)),HasInsertAndReplaceRange:new r.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,t.localize)(4,null)),InsertMode:new r.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,t.localize)(5,null)}),CanResolve:new r.RawContextKey("suggestionCanResolve",!1,(0,t.localize)(6,null))},e.suggestWidgetStatusbarMenu=new o.MenuId("suggestWidgetStatusBar");class a{constructor(O,D,A,P){this.position=O,this.completion=D,this.container=A,this.provider=P,this.isInvalid=!1,this.score=k.FuzzyScore.Default,this.distance=0,this.textLabel=typeof D.label=="string"?D.label:D.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=D.sortText&&D.sortText.toLowerCase(),this.filterTextLow=D.filterText&&D.filterText.toLowerCase(),this.extensionId=D.extensionId,h.Range.isIRange(D.range)?(this.editStart=new u.Position(D.range.startLineNumber,D.range.startColumn),this.editInsertEnd=new u.Position(D.range.endLineNumber,D.range.endColumn),this.editReplaceEnd=new u.Position(D.range.endLineNumber,D.range.endColumn),this.isInvalid=this.isInvalid||h.Range.spansMultipleLines(D.range)||D.range.startLineNumber!==O.lineNumber):(this.editStart=new u.Position(D.range.insert.startLineNumber,D.range.insert.startColumn),this.editInsertEnd=new u.Position(D.range.insert.endLineNumber,D.range.insert.endColumn),this.editReplaceEnd=new u.Position(D.range.replace.endLineNumber,D.range.replace.endColumn),this.isInvalid=this.isInvalid||h.Range.spansMultipleLines(D.range.insert)||h.Range.spansMultipleLines(D.range.replace)||D.range.insert.startLineNumber!==O.lineNumber||D.range.replace.startLineNumber!==O.lineNumber||D.range.insert.startColumn!==D.range.replace.startColumn),typeof P.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(O){return Le(this,void 0,void 0,function*(){if(!this._resolveCache){const D=O.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,O)).then(A=>{Object.assign(this.completion,A),this._isResolved=!0,D.dispose()},A=>{(0,m.isCancellationError)(A)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}e.CompletionItem=a;class l{constructor(O=2,D=new Set,A=new Set,P=!0){this.snippetSortOrder=O,this.kindFilter=D,this.providerFilter=A,this.showDeprecated=P}}e.CompletionOptions=l,l.default=new l;let f;function g(){return f}e.getSnippetSuggestSupport=g;class b{constructor(O,D,A,P){this.items=O,this.needsClipboard=D,this.durations=A,this.disposable=P}}e.CompletionItemModel=b;function p(B,O,D,A=l.default,P={triggerKind:0},F=E.CancellationToken.None){return Le(this,void 0,void 0,function*(){const W=new L.StopWatch(!0);D=D.clone();const M=O.getWordAtPosition(D),z=M?new h.Range(D.lineNumber,M.startColumn,D.lineNumber,M.endColumn):h.Range.fromPositions(D),ee={replace:z,insert:z.setEndPosition(D.lineNumber,D.column)},ie=[],Y=new I.DisposableStore,X=[];let J=!1;const oe=(x,V,K)=>{var le,ae,Q;let q=!1;if(!V)return q;for(let Z of V.suggestions)if(!A.kindFilter.has(Z.kind)){if(!A.showDeprecated&&((le=Z==null?void 0:Z.tags)===null||le===void 0?void 0:le.includes(1)))continue;Z.range||(Z.range=ee),Z.sortText||(Z.sortText=typeof Z.label=="string"?Z.label:Z.label.label),!J&&Z.insertTextRules&&Z.insertTextRules&4&&(J=n.SnippetParser.guessNeedsClipboard(Z.insertText)),ie.push(new a(D,Z,V,x)),q=!0}return(0,I.isDisposable)(V)&&Y.add(V),X.push({providerName:(ae=x._debugDisplayName)!==null&&ae!==void 0?ae:"unknown_provider",elapsedProvider:(Q=V.duration)!==null&&Q!==void 0?Q:-1,elapsedOverall:K.elapsed()}),q},G=(()=>Le(this,void 0,void 0,function*(){if(!f||A.kindFilter.has(27)||A.providerFilter.size>0&&!A.providerFilter.has(f))return;const x=new L.StopWatch(!0),V=yield f.provideCompletionItems(O,D,P,F);oe(f,V,x)}))();for(let x of B.orderedGroups(O)){let V=!1;if(yield Promise.all(x.map(K=>Le(this,void 0,void 0,function*(){if(!(A.providerFilter.size>0&&!A.providerFilter.has(K)))try{const le=new L.StopWatch(!0),ae=yield K.provideCompletionItems(O,D,P,F);V=oe(K,ae,le)||V}catch(le){(0,m.onUnexpectedExternalError)(le)}}))),V||F.isCancellationRequested)break}return yield G,F.isCancellationRequested?(Y.dispose(),Promise.reject(new m.CancellationError)):new b(ie.sort(T(A.snippetSortOrder)),J,{entries:X,elapsed:W.elapsed()},Y)})}e.provideSuggestionItems=p;function C(B,O){if(B.sortTextLow&&O.sortTextLow){if(B.sortTextLow<O.sortTextLow)return-1;if(B.sortTextLow>O.sortTextLow)return 1}return B.completion.label<O.completion.label?-1:B.completion.label>O.completion.label?1:B.completion.kind-O.completion.kind}function S(B,O){if(B.completion.kind!==O.completion.kind){if(B.completion.kind===27)return-1;if(O.completion.kind===27)return 1}return C(B,O)}function y(B,O){if(B.completion.kind!==O.completion.kind){if(B.completion.kind===27)return 1;if(O.completion.kind===27)return-1}return C(B,O)}const w=new Map;w.set(0,S),w.set(2,y),w.set(1,C);function T(B){return w.get(B)}e.getSuggestionComparator=T,d.CommandsRegistry.registerCommand("_executeCompletionItemProvider",(B,...O)=>Le(void 0,void 0,void 0,function*(){const[D,A,P,F]=O;(0,_.assertType)(v.URI.isUri(D)),(0,_.assertType)(u.Position.isIPosition(A)),(0,_.assertType)(typeof P=="string"||!P),(0,_.assertType)(typeof F=="number"||!F);const{completionProvider:W}=B.get(c.ILanguageFeaturesService),M=yield B.get(i.ITextModelService).createModelReference(D);try{const z={incomplete:!1,suggestions:[]},ee=[],ie=yield p(W,M.object.textEditorModel,u.Position.lift(A),void 0,{triggerCharacter:P,triggerKind:P?1:0});for(const Y of ie.items)ee.length<(F??0)&&ee.push(Y.resolve(E.CancellationToken.None)),z.incomplete=z.incomplete||Y.container.incomplete,z.suggestions.push(Y.completion);try{return yield Promise.all(ee),z}finally{setTimeout(()=>ie.disposable.dispose(),100)}}finally{M.dispose()}}));function N(B,O){var D;(D=B.getContribution("editor.contrib.suggestController"))===null||D===void 0||D.triggerSuggest(new Set().add(O))}e.showSimpleSuggestions=N;class R{static isAllOff(O){return O.other==="off"&&O.comments==="off"&&O.strings==="off"}static isAllOn(O){return O.other==="on"&&O.comments==="on"&&O.strings==="on"}static valueFor(O,D){switch(D){case 1:return O.comments;case 2:return O.strings;default:return O.other}}}e.QuickSuggestionsOptions=R}),define(re[697],se([1,0,21,64,55,2,15,29,3,20,154,268,98,289,270,97,9]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestInlineCompletions=void 0;class c{constructor(g,b,p,C,S,y){this.range=g,this.insertText=b,this.filterText=p,this.additionalTextEdits=C,this.command=S,this.completion=y}}let s=class extends I.RefCountedDisposable{constructor(g,b,p,C,S,y){super(S.disposable);this.model=g,this.line=b,this.word=p,this.completionModel=C,this._suggestMemoryService=y}canBeReused(g,b,p){return this.model===g&&this.line===b&&this.word.word.length>0&&this.word.startColumn===p.startColumn&&this.word.endColumn<p.endColumn&&this.completionModel.incomplete.size===0}get items(){var g;const b=[],{items:p}=this.completionModel,C=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},p),S=k.Iterable.slice(p,C),y=k.Iterable.slice(p,0,C);let w=5;for(const T of k.Iterable.concat(S,y)){if(T.score===m.FuzzyScore.Default)continue;const N=new v.Range(T.editStart.lineNumber,T.editStart.column,T.editInsertEnd.lineNumber,T.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),R=T.completion.insertTextRules&&T.completion.insertTextRules&h.CompletionItemInsertTextRule.InsertAsSnippet?{snippet:T.completion.insertText}:T.completion.insertText;b.push(new c(N,R,(g=T.filterTextLow)!==null&&g!==void 0?g:T.labelLow,T.completion.additionalTextEdits,T.completion.command,T)),w-->=0&&T.resolve(E.CancellationToken.None)}return b}};s=Ie([fe(5,t.ISuggestMemoryService)],s);let a=class{constructor(g,b,p,C){this._getEditorOption=g,this._languageFeatureService=b,this._clipboardService=p,this._suggestMemoryService=C}provideInlineCompletions(g,b,p,C){var S;return Le(this,void 0,void 0,function*(){if(p.selectedSuggestionInfo)return;const y=this._getEditorOption(79,g);if(n.QuickSuggestionsOptions.isAllOff(y))return;g.tokenization.tokenizeIfCheap(b.lineNumber);const w=g.tokenization.getLineTokens(b.lineNumber),T=w.getStandardTokenType(w.findTokenIndexAtOffset(Math.max(b.column-1-1,0)));if(n.QuickSuggestionsOptions.valueFor(y,T)!=="inline")return;let N=g.getWordAtPosition(b),R;if((N==null?void 0:N.word)||(R=this._getTriggerCharacterInfo(g,b)),!(N==null?void 0:N.word)&&!R||(N||(N=g.getWordUntilPosition(b)),N.endColumn!==b.column))return;let B;const O=g.getValueInRange(new v.Range(b.lineNumber,1,b.lineNumber,b.column));if(!R&&((S=this._lastResult)===null||S===void 0?void 0:S.canBeReused(g,b.lineNumber,N))){const D=new i.LineContext(O,b.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=D,this._lastResult.acquire(),B=this._lastResult}else{const D=yield(0,n.provideSuggestionItems)(this._languageFeatureService.completionProvider,g,b,new n.CompletionOptions(void 0,void 0,R==null?void 0:R.providers),R&&{triggerKind:1,triggerCharacter:R.ch},C);let A;D.needsClipboard&&(A=yield this._clipboardService.readText());const P=new i.CompletionModel(D.items,b.column,new i.LineContext(O,0),o.WordDistance.None,this._getEditorOption(106,g),this._getEditorOption(101,g),{boostFullMatch:!1,firstMatchCanBeWeak:!1},A);B=new s(g,b.lineNumber,N,P,D,this._suggestMemoryService)}return this._lastResult=B,B})}handleItemDidShow(g,b){b.completion.resolve(E.CancellationToken.None)}freeInlineCompletions(g){g.release()}_getTriggerCharacterInfo(g,b){var p;const C=g.getValueInRange(v.Range.fromPositions({lineNumber:b.lineNumber,column:b.column-1},b)),S=new Set;for(const y of this._languageFeatureService.completionProvider.all(g))((p=y.triggerCharacters)===null||p===void 0?void 0:p.includes(C))&&S.add(y);if(S.size!==0)return{providers:S,ch:C}}};a=Ie([fe(1,u.ILanguageFeaturesService),fe(2,d.IClipboardService),fe(3,t.ISuggestMemoryService)],a),e.SuggestInlineCompletions=a;let l=class It{constructor(g,b,p,C){if(++It._counter==1){const S=C.createInstance(a,(y,w)=>{var T;return((T=p.listCodeEditors().find(R=>R.getModel()===w))!==null&&T!==void 0?T:g).getOption(y)});It._disposable=b.inlineCompletionsProvider.register("*",S)}}dispose(){var g;--It._counter==0&&((g=It._disposable)===null||g===void 0||g.dispose(),It._disposable=void 0)}};l._counter=0,l=Ie([fe(1,u.ILanguageFeaturesService),fe(2,_.ICodeEditorService),fe(3,r.IInstantiationService)],l),(0,L.registerEditorContribution)("suggest.inlineCompletionsProvider",l)}),define(re[301],se([1,0,46,237,15,590]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class L extends k.EditorAction{constructor(){super({id:L.ID,label:I.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2048|43,mac:{primary:256|1024|43},weight:100}})}run(v,u){const i=!m.TabFocus.getTabFocusMode();m.TabFocus.setTabFocusMode(i),i?(0,E.alert)(I.localize(1,null)):(0,E.alert)(I.localize(2,null))}}e.ToggleTabFocusModeAction=L,L.ID="editor.action.toggleTabFocusMode",(0,k.registerEditorAction)(L)}),define(re[698],se([1,0,56,15,591]),function(U,e,E,m,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class I extends m.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:k.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(_,v){if(!v.hasModel())return;const u=v.getModel();u.tokenization.resetTokenization();const h=new E.StopWatch(!0);u.tokenization.forceTokenization(u.getLineCount()),h.stop(),console.log(`tokenization took ${h.elapsed()}`)}}(0,m.registerEditorAction)(I)}),define(re[699],se([1,0,2,42,15,29,593,132]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const v="ignoreUnusualLineTerminators";function u(n,t,o){n.setModelProperty(t.uri,v,o)}function h(n,t){return n.getModelProperty(t.uri,v)}let i=class extends E.Disposable{constructor(t,o,d){super();this._editor=t,this._dialogService=o,this._codeEditorService=d,this._config=this._editor.getOption(114),this._register(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(114)&&(this._config=this._editor.getOption(114),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(r=>{r.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return Le(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const t=this._editor.getModel();if(!t.mightContainUnusualLineTerminators()||h(this._codeEditorService,t)===!0||this._editor.getOption(81))return;if(this._config==="auto"){t.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:L.localize(0,null),message:L.localize(1,null),detail:L.localize(2,null,(0,m.basename)(t.uri)),primaryButton:L.localize(3,null),secondaryButton:L.localize(4,null)})).confirmed){u(this._codeEditorService,t,!0);return}t.removeUnusualLineTerminators(this._editor.getSelections())})}};i.ID="editor.contrib.unusualLineTerminatorsDetector",i=Ie([fe(1,_.IDialogService),fe(2,I.ICodeEditorService)],i),e.UnusualLineTerminatorsDetector=i,(0,k.registerEditorContribution)(i.ID,i)}),define(re[302],se([1,0,15,103,33,62,151,125,11,3,24,22,31,595,68,16,282]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class c extends E.EditorCommand{constructor(G){super(G);this._inSelectionMode=G.inSelectionMode,this._wordNavigationType=G.wordNavigationType}runEditorCommand(G,x,V){if(!x.hasModel())return;const K=(0,_.getMapForWordSeparators)(x.getOption(117)),le=x.getModel(),Q=x.getSelections().map(q=>{const Z=new v.Position(q.positionLineNumber,q.positionColumn),j=this._move(K,le,Z,this._wordNavigationType);return this._moveTo(q,j,this._inSelectionMode)});if(le.pushStackElement(),x._getViewModel().setCursorStates("moveWordCommand",3,Q.map(q=>I.CursorState.fromModelSelection(q))),Q.length===1){const q=new v.Position(Q[0].positionLineNumber,Q[0].positionColumn);x.revealPosition(q,0)}}_moveTo(G,x,V){return V?new h.Selection(G.selectionStartLineNumber,G.selectionStartColumn,x.lineNumber,x.column):new h.Selection(x.lineNumber,x.column,x.lineNumber,x.column)}}e.MoveWordCommand=c;class s extends c{_move(G,x,V,K){return L.WordOperations.moveWordLeft(G,x,V,K)}}e.WordLeftCommand=s;class a extends c{_move(G,x,V,K){return L.WordOperations.moveWordRight(G,x,V,K)}}e.WordRightCommand=a;class l extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=l;class f extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=f;class g extends s{constructor(){var G;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:d.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(G=d.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||G===void 0?void 0:G.negate()),primary:2048|15,mac:{primary:512|15},weight:100}})}}e.CursorWordLeft=g;class b extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=b;class p extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=p;class C extends s{constructor(){var G;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:d.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(G=d.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||G===void 0?void 0:G.negate()),primary:2048|1024|15,mac:{primary:512|1024|15},weight:100}})}}e.CursorWordLeftSelect=C;class S extends s{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(G,x,V,K){return super._move((0,_.getMapForWordSeparators)(k.EditorOptions.wordSeparators.defaultValue),x,V,K)}}e.CursorWordAccessibilityLeft=S;class y extends s{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(G,x,V,K){return super._move((0,_.getMapForWordSeparators)(k.EditorOptions.wordSeparators.defaultValue),x,V,K)}}e.CursorWordAccessibilityLeftSelect=y;class w extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=w;class T extends a{constructor(){var G;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:d.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(G=d.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||G===void 0?void 0:G.negate()),primary:2048|17,mac:{primary:512|17},weight:100}})}}e.CursorWordEndRight=T;class N extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=N;class R extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=R;class B extends a{constructor(){var G;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:d.ContextKeyExpr.and(i.EditorContextKeys.textInputFocus,(G=d.ContextKeyExpr.and(o.CONTEXT_ACCESSIBILITY_MODE_ENABLED,r.IsWindowsContext))===null||G===void 0?void 0:G.negate()),primary:2048|1024|17,mac:{primary:512|1024|17},weight:100}})}}e.CursorWordEndRightSelect=B;class O extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=O;class D extends a{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(G,x,V,K){return super._move((0,_.getMapForWordSeparators)(k.EditorOptions.wordSeparators.defaultValue),x,V,K)}}e.CursorWordAccessibilityRight=D;class A extends a{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(G,x,V,K){return super._move((0,_.getMapForWordSeparators)(k.EditorOptions.wordSeparators.defaultValue),x,V,K)}}e.CursorWordAccessibilityRightSelect=A;class P extends E.EditorCommand{constructor(G){super(G);this._whitespaceHeuristics=G.whitespaceHeuristics,this._wordNavigationType=G.wordNavigationType}runEditorCommand(G,x,V){const K=G.get(n.ILanguageConfigurationService);if(!x.hasModel())return;const le=(0,_.getMapForWordSeparators)(x.getOption(117)),ae=x.getModel(),Q=x.getSelections(),q=x.getOption(5),Z=x.getOption(8),j=K.getLanguageConfiguration(ae.getLanguageId()).getAutoClosingPairs(),$=x._getViewModel(),H=Q.map(te=>{const ne=this._delete({wordSeparators:le,model:ae,selection:te,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:x.getOption(6),autoClosingBrackets:q,autoClosingQuotes:Z,autoClosingPairs:j,autoClosedCharacters:$.getCursorAutoClosedCharacters()},this._wordNavigationType);return new m.ReplaceCommand(ne,"")});x.pushUndoStop(),x.executeCommands(this.id,H),x.pushUndoStop()}}e.DeleteWordCommand=P;class F extends P{_delete(G,x){let V=L.WordOperations.deleteWordLeft(G,x);return V||new u.Range(1,1,1,1)}}e.DeleteWordLeftCommand=F;class W extends P{_delete(G,x){let V=L.WordOperations.deleteWordRight(G,x);if(V)return V;const K=G.model.getLineCount(),le=G.model.getLineMaxColumn(K);return new u.Range(K,le,K,le)}}e.DeleteWordRightCommand=W;class M extends F{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:i.EditorContextKeys.writable})}}e.DeleteWordStartLeft=M;class z extends F{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:i.EditorContextKeys.writable})}}e.DeleteWordEndLeft=z;class ee extends F{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:2048|1,mac:{primary:512|1},weight:100}})}}e.DeleteWordLeft=ee;class ie extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:i.EditorContextKeys.writable})}}e.DeleteWordStartRight=ie;class Y extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:i.EditorContextKeys.writable})}}e.DeleteWordEndRight=Y;class X extends W{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textInputFocus,primary:2048|20,mac:{primary:512|20},weight:100}})}}e.DeleteWordRight=X;class J extends E.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:i.EditorContextKeys.writable,label:t.localize(0,null),alias:"Delete Word"})}run(G,x,V){if(!x.hasModel())return;const K=(0,_.getMapForWordSeparators)(x.getOption(117)),le=x.getModel(),Q=x.getSelections().map(q=>{const Z=L.WordOperations.deleteInsideWord(K,le,q);return new m.ReplaceCommand(Z,"")});x.pushUndoStop(),x.executeCommands(this.id,Q),x.pushUndoStop()}}e.DeleteInsideWord=J,(0,E.registerEditorCommand)(new l),(0,E.registerEditorCommand)(new f),(0,E.registerEditorCommand)(new g),(0,E.registerEditorCommand)(new b),(0,E.registerEditorCommand)(new p),(0,E.registerEditorCommand)(new C),(0,E.registerEditorCommand)(new w),(0,E.registerEditorCommand)(new T),(0,E.registerEditorCommand)(new N),(0,E.registerEditorCommand)(new R),(0,E.registerEditorCommand)(new B),(0,E.registerEditorCommand)(new O),(0,E.registerEditorCommand)(new S),(0,E.registerEditorCommand)(new y),(0,E.registerEditorCommand)(new D),(0,E.registerEditorCommand)(new A),(0,E.registerEditorCommand)(new M),(0,E.registerEditorCommand)(new z),(0,E.registerEditorCommand)(new ee),(0,E.registerEditorCommand)(new ie),(0,E.registerEditorCommand)(new Y),(0,E.registerEditorCommand)(new X),(0,E.registerEditorAction)(J)}),define(re[700],se([1,0,15,151,3,22,302,26]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class v extends L.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1},weight:100}})}_delete(c,s){let a=m.WordPartOperations.deleteWordPartLeft(c);return a||new k.Range(1,1,1,1)}}e.DeleteWordPartLeft=v;class u extends L.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:I.EditorContextKeys.writable,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|20},weight:100}})}_delete(c,s){let a=m.WordPartOperations.deleteWordPartRight(c);if(a)return a;const l=c.model.getLineCount(),f=c.model.getLineMaxColumn(l);return new k.Range(l,f,l,f)}}e.DeleteWordPartRight=u;class h extends L.MoveWordCommand{_move(c,s,a,l){return m.WordPartOperations.moveWordPartLeft(c,s,a)}}e.WordPartLeftCommand=h;class i extends h{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|15},weight:100}})}}e.CursorWordPartLeft=i,_.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class n extends h{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|15},weight:100}})}}e.CursorWordPartLeftSelect=n,_.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class t extends L.MoveWordCommand{_move(c,s,a,l){return m.WordPartOperations.moveWordPartRight(c,s,a)}}e.WordPartRightCommand=t;class o extends t{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|17},weight:100}})}}e.CursorWordPartRight=o;class d extends t{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:I.EditorContextKeys.textInputFocus,primary:0,mac:{primary:256|512|1024|17},weight:100}})}}e.CursorWordPartRightSelect=d,(0,E.registerEditorCommand)(new v),(0,E.registerEditorCommand)(new u),(0,E.registerEditorCommand)(new i),(0,E.registerEditorCommand)(new n),(0,E.registerEditorCommand)(new o),(0,E.registerEditorCommand)(new d)}),define(re[701],se([1,0,7,32,174,46,66,2,17,8,25,15,22,301,16,9,43,50,23,14,75,401]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const f=new o.RawContextKey("accessibilityHelpWidgetVisible",!1);let g=class Ri extends _.Disposable{constructor(w,T){super();this._editor=w,this._widget=this._register(T.createInstance(p,this._editor))}static get(w){return w.getContribution(Ri.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};g.ID="editor.contrib.accessibilityHelpController",g=Ie([fe(1,d.IInstantiationService)],g);function b(y,w){return!y||y.length===0?l.AccessibilityHelpNLS.noSelection:y.length===1?w?u.format(l.AccessibilityHelpNLS.singleSelectionRange,y[0].positionLineNumber,y[0].positionColumn,w):u.format(l.AccessibilityHelpNLS.singleSelection,y[0].positionLineNumber,y[0].positionColumn):w?u.format(l.AccessibilityHelpNLS.multiSelectionRange,y.length,w):y.length>0?u.format(l.AccessibilityHelpNLS.multiSelection,y.length):""}let p=class Ht extends L.Widget{constructor(w,T,N,R){super();this._contextKeyService=T,this._keybindingService=N,this._openerService=R,this._editor=w,this._isVisibleKey=f.bindTo(this._contextKeyService),this._domNode=(0,m.createFastDomNode)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,m.createFastDomNode)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(E.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",B=>{if(!!this._isVisible&&(B.equals(2048|35)&&((0,I.alert)(l.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),E.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),B.preventDefault(),B.stopPropagation()),B.equals(2048|38))){(0,I.alert)(l.AccessibilityHelpNLS.openingDocs);let O=this._editor.getRawOptions().accessibilityHelpUrl;typeof O=="undefined"&&(O="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(h.URI.parse(O)),B.preventDefault(),B.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Ht.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(w,T,N){const R=this._keybindingService.lookupKeybinding(w);return R?u.format(T,R.getAriaLabel()):u.format(N,w)}_buildContent(){const w=this._editor.getOptions(),T=this._editor.getSelections();let N=0;if(T){const D=this._editor.getModel();D&&T.forEach(A=>{N+=D.getValueLengthInRange(A)})}let R=b(T,N);w.get(54)?w.get(81)?R+=l.AccessibilityHelpNLS.readonlyDiffEditor:R+=l.AccessibilityHelpNLS.editableDiffEditor:w.get(81)?R+=l.AccessibilityHelpNLS.readonlyEditor:R+=l.AccessibilityHelpNLS.editableEditor;const B=v.isMacintosh?l.AccessibilityHelpNLS.changeConfigToOnMac:l.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(w.get(2)){case 0:R+=`

 - `+B;break;case 2:R+=`

 - `+l.AccessibilityHelpNLS.auto_on;break;case 1:R+=`

 - `+l.AccessibilityHelpNLS.auto_off,R+=" "+B;break}w.get(130)?R+=`

 - `+this._descriptionForCommand(t.ToggleTabFocusModeAction.ID,l.AccessibilityHelpNLS.tabFocusModeOnMsg,l.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):R+=`

 - `+this._descriptionForCommand(t.ToggleTabFocusModeAction.ID,l.AccessibilityHelpNLS.tabFocusModeOffMsg,l.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);const O=v.isMacintosh?l.AccessibilityHelpNLS.openDocMac:l.AccessibilityHelpNLS.openDocWinLinux;R+=`

 - `+O,R+=`

`+l.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild((0,k.renderFormattedText)(R)),this._contentDomNode.domNode.setAttribute("aria-label",R)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,E.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){const w=this._editor.getLayoutInfo(),T=Math.max(5,Math.min(Ht.WIDTH,w.width-40)),N=Math.max(5,Math.min(Ht.HEIGHT,w.height-40));this._domNode.setWidth(T),this._domNode.setHeight(N);const R=Math.round((w.height-N)/2);this._domNode.setTop(R);const B=Math.round((w.width-T)/2);this._domNode.setLeft(B)}};p.ID="editor.contrib.accessibilityHelpWidget",p.WIDTH=500,p.HEIGHT=300,p=Ie([fe(1,o.IContextKeyService),fe(2,r.IKeybindingService),fe(3,c.IOpenerService)],p);class C extends i.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:l.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:512|59,weight:100,linux:{primary:512|1024|59,secondary:[512|59]}}})}run(w,T){const N=g.get(T);N&&N.show()}}(0,i.registerEditorContribution)(g.ID,g),(0,i.registerEditorAction)(C);const S=i.EditorCommand.bindToContribution(g.get);(0,i.registerEditorCommand)(new S({id:"closeAccessibilityHelp",precondition:f,handler:y=>y.hide(),kbOpts:{weight:100+100,kbExpr:n.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,a.registerThemingParticipant)((y,w)=>{const T=y.getColor(s.editorWidgetBackground);T&&w.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${T}; }`);const N=y.getColor(s.editorWidgetForeground);N&&w.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${N}; }`);const R=y.getColor(s.widgetShadow);R&&w.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${R}; }`);const B=y.getColor(s.contrastBorder);B&&w.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${B}; }`)})}),define(re[702],se([1,0,7,2,15,17,402]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class L extends m.Disposable{constructor(u){super();this.editor=u,this.widget=null,I.isIOS&&(this._register(u.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const u=!this.editor.getOption(81);!this.widget&&u?this.widget=new _(this.editor):this.widget&&!u&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=L,L.ID="editor.contrib.iPadShowKeyboard";class _ extends m.Disposable{constructor(u){super();this.editor=u,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(E.addDisposableListener(this._domNode,"touchstart",h=>{this.editor.focus()})),this._register(E.addDisposableListener(this._domNode,"focus",h=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return _.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}_.ID="editor.contrib.ShowKeyboardWidget",(0,k.registerEditorContribution)(L.ID,L)}),define(re[703],se([1,0,7,30,2,15,27,127,37,108,23,14,75,58,403]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let o=class Oi extends k.Disposable{constructor(l,f,g){super();this._editor=l,this._languageService=g,this._widget=null,this._register(this._editor.onDidChangeModel(b=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(b=>this.stop())),this._register(L.TokenizationRegistry.onDidChange(b=>this.stop())),this._register(this._editor.onKeyUp(b=>b.keyCode===9&&this.stop()))}static get(l){return l.getContribution(Oi.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new s(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};o.ID="editor.contrib.inspectTokens",o=Ie([fe(1,u.IStandaloneThemeService),fe(2,v.ILanguageService)],o);class d extends I.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:n.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(l,f){const g=o.get(f);g&&g.launch()}}function r(a){let l="";for(let f=0,g=a.length;f<g;f++){const b=a.charCodeAt(f);switch(b){case 9:l+="\u2192";break;case 32:l+="\xB7";break;default:l+=String.fromCharCode(b)}}return l}function c(a,l){const f=L.TokenizationRegistry.get(l);if(f)return f;const g=a.encodeLanguageId(l);return{getInitialState:()=>_.NullState,tokenize:(b,p,C)=>(0,_.nullTokenize)(l,C),tokenizeEncoded:(b,p,C)=>(0,_.nullTokenizeEncoded)(g,C)}}class s extends k.Disposable{constructor(l,f){super();this.allowEditorOverflow=!0,this._editor=l,this._languageService=f,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=c(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(g=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return s._ID}_compute(l){const f=this._getTokensAtLine(l.lineNumber);let g=0;for(let y=f.tokens1.length-1;y>=0;y--){const w=f.tokens1[y];if(l.column-1>=w.offset){g=y;break}}let b=0;for(let y=f.tokens2.length>>>1;y>=0;y--)if(l.column-1>=f.tokens2[y<<1]){b=y;break}const p=this._model.getLineContent(l.lineNumber);let C="";if(g<f.tokens1.length){const y=f.tokens1[g].offset,w=g+1<f.tokens1.length?f.tokens1[g+1].offset:p.length;C=p.substring(y,w)}(0,E.reset)(this._domNode,(0,E.$)("h2.tm-token",void 0,r(C),(0,E.$)("span.tm-token-length",void 0,`${C.length} ${C.length===1?"char":"chars"}`))),(0,E.append)(this._domNode,(0,E.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const S=(b<<1)+1<f.tokens2.length?this._decodeMetadata(f.tokens2[(b<<1)+1]):null;(0,E.append)(this._domNode,(0,E.$)("table.tm-metadata-table",void 0,(0,E.$)("tbody",void 0,(0,E.$)("tr",void 0,(0,E.$)("td.tm-metadata-key",void 0,"language"),(0,E.$)("td.tm-metadata-value",void 0,`${S?S.languageId:"-?-"}`)),(0,E.$)("tr",void 0,(0,E.$)("td.tm-metadata-key",void 0,"token type"),(0,E.$)("td.tm-metadata-value",void 0,`${S?this._tokenTypeToString(S.tokenType):"-?-"}`)),(0,E.$)("tr",void 0,(0,E.$)("td.tm-metadata-key",void 0,"font style"),(0,E.$)("td.tm-metadata-value",void 0,`${S?this._fontStyleToString(S.fontStyle):"-?-"}`)),(0,E.$)("tr",void 0,(0,E.$)("td.tm-metadata-key",void 0,"foreground"),(0,E.$)("td.tm-metadata-value",void 0,`${S?m.Color.Format.CSS.formatHex(S.foreground):"-?-"}`)),(0,E.$)("tr",void 0,(0,E.$)("td.tm-metadata-key",void 0,"background"),(0,E.$)("td.tm-metadata-value",void 0,`${S?m.Color.Format.CSS.formatHex(S.background):"-?-"}`))))),(0,E.append)(this._domNode,(0,E.$)("hr.tokens-inspect-separator")),g<f.tokens1.length&&(0,E.append)(this._domNode,(0,E.$)("span.tm-token-type",void 0,f.tokens1[g].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(l){const f=L.TokenizationRegistry.getColorMap(),g=L.TokenMetadata.getLanguageId(l),b=L.TokenMetadata.getTokenType(l),p=L.TokenMetadata.getFontStyle(l),C=L.TokenMetadata.getForeground(l),S=L.TokenMetadata.getBackground(l);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(g),tokenType:b,fontStyle:p,foreground:f[C],background:f[S]}}_tokenTypeToString(l){switch(l){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(l){let f="";return l&1&&(f+="italic "),l&2&&(f+="bold "),l&4&&(f+="underline "),l&8&&(f+="strikethrough "),f.length===0&&(f="---"),f}_getTokensAtLine(l){const f=this._getStateBeforeLine(l),g=this._tokenizationSupport.tokenize(this._model.getLineContent(l),!0,f),b=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(l),!0,f);return{startState:f,tokens1:g.tokens,tokens2:b.tokens,endState:g.endState}}_getStateBeforeLine(l){let f=this._tokenizationSupport.getInitialState();for(let g=1;g<l;g++)f=this._tokenizationSupport.tokenize(this._model.getLineContent(g),!0,f).endState;return f}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}s._ID="editor.contrib.inspectTokensWidget",(0,I.registerEditorContribution)(o.ID,o),(0,I.registerEditorAction)(d),(0,i.registerThemingParticipant)((a,l)=>{const f=a.getColor(h.editorHoverBorder);if(f){const p=(0,t.isHighContrast)(a.type)?2:1;l.addRule(`.monaco-editor .tokens-inspect-widget { border: ${p}px solid ${f}; }`),l.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${f}; }`)}const g=a.getColor(h.editorHoverBackground);g&&l.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${g}; }`);const b=a.getColor(h.editorHoverForeground);b&&l.addRule(`.monaco-editor .tokens-inspect-widget { color: ${b}; }`)})}),define(re[704],se([1,0,38,112,75,29,648,19,9,43,26,91,132,15,22,82]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let r=class extends L.AbstractEditorCommandsQuickAccessProvider{constructor(a,l,f,g,b,p){super({showAlias:!1},a,f,g,b,p);this.codeEditorService=l}get activeTextEditorControl(){return(0,_.withNullAsUndefined)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return Le(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};r=Ie([fe(0,v.IInstantiationService),fe(1,I.ICodeEditorService),fe(2,u.IKeybindingService),fe(3,h.ICommandService),fe(4,i.ITelemetryService),fe(5,n.IDialogService)],r),e.StandaloneCommandsQuickAccessProvider=r,E.Registry.as(m.Extensions.Quickaccess).registerQuickAccessProvider({ctor:r,prefix:r.PREFIX,helpEntries:[{description:k.QuickCommandNLS.quickCommandHelp,needsEditor:!0}]});class c extends t.EditorAction{constructor(){super({id:"editor.action.quickCommand",label:k.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:o.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(a){a.get(d.IQuickInputService).quickAccess.show(r.PREFIX)}}e.GotoLineAction=c,(0,t.registerEditorAction)(c)}),define(re[705],se([1,0,670,38,112,29,19,75,4,15,22,82]),function(U,e,E,m,k,I,L,_,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let n=class extends E.AbstractGotoLineQuickAccessProvider{constructor(d){super();this.editorService=d,this.onDidActiveTextEditorControlChange=v.Event.None}get activeTextEditorControl(){return(0,L.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};n=Ie([fe(0,I.ICodeEditorService)],n),e.StandaloneGotoLineQuickAccessProvider=n,m.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:n,prefix:n.PREFIX,helpEntries:[{description:_.GoToLineNLS.gotoLineActionLabel,needsEditor:!0}]});class t extends u.EditorAction{constructor(){super({id:"editor.action.gotoLine",label:_.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.focus,primary:2048|37,mac:{primary:256|37},weight:100}})}run(d){d.get(i.IQuickInputService).quickAccess.show(n.PREFIX)}}e.GotoLineAction=t,(0,u.registerEditorAction)(t)}),define(re[706],se([1,0,671,38,112,29,19,75,4,15,22,82,206,20,143,295]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let o=class extends E.AbstractGotoSymbolQuickAccessProvider{constructor(c,s,a){super(s,a);this.editorService=c,this.onDidActiveTextEditorControlChange=v.Event.None}get activeTextEditorControl(){return(0,L.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};o=Ie([fe(0,I.ICodeEditorService),fe(1,t.ILanguageFeaturesService),fe(2,n.IOutlineModelService)],o),e.StandaloneGotoSymbolQuickAccessProvider=o,m.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:o,prefix:E.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:_.QuickOutlineNLS.quickOutlineActionLabel,prefix:E.AbstractGotoSymbolQuickAccessProvider.PREFIX,needsEditor:!0},{description:_.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:E.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY,needsEditor:!0}]});class d extends u.EditorAction{constructor(){super({id:"editor.action.quickOutline",label:_.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:h.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:h.EditorContextKeys.focus,primary:2048|1024|45,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(c){c.get(i.IQuickInputService).quickAccess.show(E.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}e.GotoLineAction=d,(0,u.registerEditorAction)(d)}),define(re[707],se([1,0,15,108,75,58]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class L extends E.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:k.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0});this._originalThemeName=null}run(v,u){const h=v.get(m.IStandaloneThemeService);(0,I.isHighContrast)(h.getColorTheme().type)?(h.setTheme(this._originalThemeName||"vs"),this._originalThemeName=null):(this._originalThemeName=h.getColorTheme().themeName,h.setTheme("hc-black"))}}(0,E.registerEditorAction)(L)}),define(re[213],se([1,0,7,44,130,497,48,201,2,17,596,39,16,80,9,43,40,83,14,406]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=e.createAndFillInActionBarActions=void 0;function a(S,y,w,T,N,R,B){const O=S.getActions(y);return f(O,w,!1,typeof T=="string"?A=>A===T:T,N,R,B),l(O)}e.createAndFillInActionBarActions=a;function l(S){const y=new v.DisposableStore;for(const[,w]of S)for(const T of w)y.add(T);return y}function f(S,y,w,T=O=>O==="navigation",N=Number.MAX_SAFE_INTEGER,R=()=>!1,B=!1){let O,D;Array.isArray(y)?(O=y,D=y):(O=y.primary,D=y.secondary);const A=new Set;for(const[P,F]of S){let W;T(P)?(W=O,W.length>0&&B&&W.push(new L.Separator)):(W=D,W.length>0&&W.push(new L.Separator));for(let M of F){w&&(M=M instanceof i.MenuItemAction&&M.alt?M.alt:M);const z=W.push(M);M instanceof L.SubmenuAction&&A.add({group:P,action:M,index:z-1})}}for(const{group:P,action:F,index:W}of A){const M=T(P)?O:D,z=F.actions;(z.length<=1||M.length+z.length-2<=N)&&R(F,P,M.length)&&M.splice(W,1,...z)}if(O!==D&&O.length>N){const P=O.splice(N,O.length-N);D.unshift(...P,new L.Separator)}}let g=class extends k.ActionViewItem{constructor(y,w,T,N,R){super(void 0,y,{icon:!!(y.class||y.item.icon),label:!y.class&&!y.item.icon,draggable:w==null?void 0:w.draggable});this._keybindingService=T,this._notificationService=N,this._contextKeyService=R,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new v.MutableDisposable),this._altKey=E.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(y){return Le(this,void 0,void 0,function*(){y.preventDefault(),y.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(w){this._notificationService.error(w)}})}render(y){super.render(y),y.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let w=!1,T=this._altKey.keyStatus.altKey||(u.isWindows||u.isLinux)&&this._altKey.keyStatus.shiftKey;const N=()=>{var R;const B=w&&T&&!!((R=this._commandAction.alt)===null||R===void 0?void 0:R.enabled);B!==this._wantsAltCommand&&(this._wantsAltCommand=B,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(R=>{T=R.altKey||(u.isWindows||u.isLinux)&&R.shiftKey,N()})),this._register((0,E.addDisposableListener)(y,"mouseleave",R=>{w=!1,N()})),this._register((0,E.addDisposableListener)(y,"mouseenter",R=>{w=!0,N()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){var y;if(this.label){const w=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),T=w&&w.getLabel(),N=this._commandAction.tooltip||this._commandAction.label;let R=T?(0,h.localize)(0,null,N,T):N;if(!this._wantsAltCommand&&((y=this._menuItemAction.alt)===null||y===void 0?void 0:y.enabled)){const B=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,O=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),D=O&&O.getLabel(),A=D?(0,h.localize)(1,null,B,D):B;R+=`
[${_.UILabelProvider.modifierLabels[u.OS].altKey}] ${A}`}this.label.title=R,this.label.setAttribute("aria-label",R)}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(y){var w;this._itemClassDispose.value=void 0;const{element:T,label:N}=this;if(!T||!N)return;const R=this._commandAction.checked&&((w=y.toggled)===null||w===void 0?void 0:w.icon)?y.toggled.icon:y.icon;if(!!R)if(s.ThemeIcon.isThemeIcon(R)){const B=s.ThemeIcon.asClassNameArray(R);N.classList.add(...B),this._itemClassDispose.value=(0,v.toDisposable)(()=>{N.classList.remove(...B)})}else R.light&&N.style.setProperty("--menu-entry-icon-light",(0,E.asCSSUrl)(R.light)),R.dark&&N.style.setProperty("--menu-entry-icon-dark",(0,E.asCSSUrl)(R.dark)),N.classList.add("icon"),this._itemClassDispose.value=(0,v.toDisposable)(()=>{N.classList.remove("icon"),N.style.removeProperty("--menu-entry-icon-light"),N.style.removeProperty("--menu-entry-icon-dark")})}};g=Ie([fe(2,d.IKeybindingService),fe(3,r.INotificationService),fe(4,n.IContextKeyService)],g),e.MenuEntryActionViewItem=g;let b=class extends I.DropdownMenuActionViewItem{constructor(y,w,T){var N,R;const B=Object.assign({},w??Object.create(null),{menuAsChild:(N=w==null?void 0:w.menuAsChild)!==null&&N!==void 0?N:!1,classNames:(R=w==null?void 0:w.classNames)!==null&&R!==void 0?R:s.ThemeIcon.isThemeIcon(y.item.icon)?s.ThemeIcon.asClassName(y.item.icon):void 0});super(y,{getActions:()=>y.actions},T,B)}render(y){if(super.render(y),this.element){y.classList.add("menu-entry");const{icon:w}=this._action.item;w&&!s.ThemeIcon.isThemeIcon(w)&&(this.element.classList.add("icon"),w.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,E.asCSSUrl)(w.light)),w.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,E.asCSSUrl)(w.dark)))}}};b=Ie([fe(2,t.IContextMenuService)],b),e.SubmenuEntryActionViewItem=b;let p=class extends k.BaseActionViewItem{constructor(y,w,T,N,R,B,O,D){var A,P,F;super(null,y);this._keybindingService=T,this._notificationService=N,this._contextMenuService=R,this._menuService=B,this._instaService=O,this._storageService=D,this._container=null,this._storageKey=`${y.item.submenu._debugName}_lastActionId`;let W,M=D.get(this._storageKey,1);M&&(W=y.actions.find(ee=>M===ee.id)),W||(W=y.actions[0]),this._defaultAction=this._instaService.createInstance(g,W,void 0);const z=Object.assign({},w??Object.create(null),{menuAsChild:(A=w==null?void 0:w.menuAsChild)!==null&&A!==void 0?A:!0,classNames:(P=w==null?void 0:w.classNames)!==null&&P!==void 0?P:["codicon","codicon-chevron-down"],actionRunner:(F=w==null?void 0:w.actionRunner)!==null&&F!==void 0?F:new L.ActionRunner});this._dropdown=new I.DropdownMenuActionViewItem(y,y.actions,this._contextMenuService,z),this._dropdown.actionRunner.onDidRun(ee=>{ee.action instanceof i.MenuItemAction&&this.update(ee.action)})}update(y){this._storageService.store(this._storageKey,y.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(g,y,void 0),this._defaultAction.actionRunner=new class extends L.ActionRunner{runAction(w,T){return Le(this,void 0,void 0,function*(){yield w.run(void 0)})}},this._container&&this._defaultAction.render((0,E.prepend)(this._container,(0,E.$)(".action-container")))}setActionContext(y){super.setActionContext(y),this._defaultAction.setActionContext(y),this._dropdown.setActionContext(y)}render(y){this._container=y,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const w=(0,E.$)(".action-container");this._defaultAction.render((0,E.append)(this._container,w)),this._register((0,E.addDisposableListener)(w,E.EventType.KEY_DOWN,N=>{const R=new m.StandardKeyboardEvent(N);R.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),R.stopPropagation())}));const T=(0,E.$)(".dropdown-action-container");this._dropdown.render((0,E.append)(this._container,T)),this._register((0,E.addDisposableListener)(T,E.EventType.KEY_DOWN,N=>{var R;const B=new m.StandardKeyboardEvent(N);B.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(R=this._defaultAction.element)===null||R===void 0||R.focus(),B.stopPropagation())}))}focus(y){y?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(y){y?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};p=Ie([fe(2,d.IKeybindingService),fe(3,r.INotificationService),fe(4,t.IContextMenuService),fe(5,i.IMenuService),fe(6,o.IInstantiationService),fe(7,c.IStorageService)],p);function C(S,y,w){return y instanceof i.MenuItemAction?S.createInstance(g,y,void 0):y instanceof i.SubmenuItemAction?y.item.rememberDefaultAction?S.createInstance(p,y,w):S.createInstance(b,y,w):void 0}e.createActionViewItem=C}),define(re[708],se([1,0,7,88,2,98,588,213,39,16,9]),function(U,e,E,m,k,I,L,_,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class i extends _.MenuEntryActionViewItem{updateLabel(){const o=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!o)return super.updateLabel();this.label&&(this.label.textContent=(0,L.localize)(0,null,this._action.label,i.symbolPrintEnter(o)))}static symbolPrintEnter(o){var d;return(d=o.getLabel())===null||d===void 0?void 0:d.replace(/\benter\b/gi,"\u23CE")}}let n=class{constructor(o,d,r,c){this._menuService=r,this._contextKeyService=c,this._menuDisposables=new k.DisposableStore,this.element=E.append(o,E.$(".suggest-status-bar"));const s=a=>a instanceof v.MenuItemAction?d.createInstance(i,a,void 0):void 0;this._leftActions=new m.ActionBar(this.element,{actionViewItemProvider:s}),this._rightActions=new m.ActionBar(this.element,{actionViewItemProvider:s}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const o=this._menuService.createMenu(I.suggestWidgetStatusbarMenu,this._contextKeyService),d=()=>{const r=[],c=[];for(let[s,a]of o.getActions())s==="left"?r.push(...a):c.push(...a);this._leftActions.clear(),this._leftActions.push(r),this._rightActions.clear(),this._rightActions.push(c)};this._menuDisposables.add(o.onDidChange(()=>d())),this._menuDisposables.add(o)}hide(){this._menuDisposables.clear()}};n=Ie([fe(1,h.IInstantiationService),fe(2,v.IMenuService),fe(3,u.IContextKeyService)],n),e.SuggestWidgetStatus=n}),define(re[709],se([1,0,10,4,2,39,26,16]),function(U,e,E,m,k,I,L,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0;let v=class{constructor(i){this._commandService=i}createMenu(i,n,t){return new u(i,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},t),this._commandService,n,this)}};v=Ie([fe(0,L.ICommandService)],v),e.MenuService=v;let u=class Dt{constructor(i,n,t,o,d){this._id=i,this._options=n,this._commandService=t,this._contextKeyService=o,this._menuService=d,this._disposables=new k.DisposableStore,this._menuGroups=[],this._contextKeys=new Set,this._build();const r=new E.RunOnceScheduler(()=>{this._build(),this._onDidChange.fire(this)},n.eventDebounceDelay);this._disposables.add(r),this._disposables.add(I.MenuRegistry.onDidChangeMenu(a=>{a.has(i)&&r.schedule()}));const c=this._disposables.add(new k.DisposableStore),s=()=>{const a=new E.RunOnceScheduler(()=>this._onDidChange.fire(this),n.eventDebounceDelay);c.add(a),c.add(o.onDidChangeContext(l=>{l.affectsSome(this._contextKeys)&&a.schedule()}))};this._onDidChange=new m.Emitter({onFirstListenerAdd:s,onLastListenerRemove:c.clear.bind(c)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const i=I.MenuRegistry.getMenuItems(this._id);let n;i.sort(Dt._compareMenuItems);for(const t of i){const o=t.group||"";(!n||n[0]!==o)&&(n=[o,[]],this._menuGroups.push(n)),n[1].push(t),this._collectContextKeys(t)}}_collectContextKeys(i){if(Dt._fillInKbExprKeys(i.when,this._contextKeys),(0,I.isIMenuItem)(i)){if(i.command.precondition&&Dt._fillInKbExprKeys(i.command.precondition,this._contextKeys),i.command.toggled){const n=i.command.toggled.condition||i.command.toggled;Dt._fillInKbExprKeys(n,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&I.MenuRegistry.getMenuItems(i.submenu).forEach(this._collectContextKeys,this)}getActions(i){const n=[];for(let t of this._menuGroups){const[o,d]=t,r=[];for(const c of d)if(this._contextKeyService.contextMatchesRules(c.when)){const s=(0,I.isIMenuItem)(c)?new I.MenuItemAction(c.command,c.alt,i,this._contextKeyService,this._commandService):new I.SubmenuItemAction(c,this._menuService,this._contextKeyService,i);r.push(s)}r.length>0&&n.push([o,r])}return n}static _fillInKbExprKeys(i,n){if(i)for(let t of i.keys())n.add(t)}static _compareMenuItems(i,n){let t=i.group,o=n.group;if(t!==o){if(t){if(!o)return-1}else return 1;if(t==="navigation")return-1;if(o==="navigation")return 1;let c=t.localeCompare(o);if(c!==0)return c}let d=i.order||0,r=n.order||0;return d<r?-1:d>r?1:Dt._compareTitles((0,I.isIMenuItem)(i)?i.command.title:i.title,(0,I.isIMenuItem)(n)?n.command.title:n.title)}static _compareTitles(i,n){const t=typeof i=="string"?i:i.original,o=typeof n=="string"?n:n.original;return t.localeCompare(o)}};u=Ie([fe(2,L.ICommandService),fe(3,_.IContextKeyService),fe(4,I.IMenuService)],u)}),define(re[710],se([1,0,7,4,2,43,40,91,14,649,80]),function(U,e,E,m,k,I,L,_,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuService=void 0;let i=class extends k.Disposable{constructor(t,o,d,r,c){super();this._onDidShowContextMenu=new m.Emitter,this._onDidHideContextMenu=new m.Emitter,this.contextMenuHandler=new u.ContextMenuHandler(d,t,o,r,c)}configure(t){this.contextMenuHandler.configure(t)}showContextMenu(t){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},t),{onHide:o=>{t.onHide&&t.onHide(o),this._onDidHideContextMenu.fire()}})),E.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};i=Ie([fe(0,_.ITelemetryService),fe(1,L.INotificationService),fe(2,h.IContextViewService),fe(3,I.IKeybindingService),fe(4,v.IThemeService)],i),e.ContextMenuService=i}),define(re[163],se([1,0,7,355,122,358,494,493,274,4,2,602,68,35,110,16,282,9,43,38,135,14]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchListAutomaticKeyboardNavigationKey=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,c.createDecorator)("listService");let g=class{constructor(j){this._themeService=j,this.disposables=new h.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(j){var $,H;j!==this._lastFocusedWidget&&(($=this._lastFocusedWidget)===null||$===void 0||$.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=j,(H=this._lastFocusedWidget)===null||H===void 0||H.getHTMLElement().classList.add("last-focused"))}register(j,$){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const te=new k.DefaultStyleController((0,E.createStyleSheet)(),"");this.disposables.add((0,l.attachListStyler)(te,this._themeService))}if(this.lists.some(te=>te.widget===j))throw new Error("Cannot register the same widget multiple times");const H={widget:j,extraContextKeys:$};return this.lists.push(H),j.getHTMLElement()===document.activeElement&&this.setLastFocusedList(j),(0,h.combinedDisposable)(j.onDidFocus(()=>this.setLastFocusedList(j)),(0,h.toDisposable)(()=>this.lists.splice(this.lists.indexOf(H),1)),j.onDidDispose(()=>{this.lists=this.lists.filter(te=>te!==H),this._lastFocusedWidget===j&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};g=Ie([fe(0,f.IThemeService)],g),e.ListService=g;const b=new d.RawContextKey("listFocus",!0);e.WorkbenchListSupportsMultiSelectContextKey=new d.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=d.ContextKeyExpr.and(b,d.ContextKeyExpr.not(r.InputFocusedContextKey)),e.WorkbenchListHasSelectionOrFocus=new d.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new d.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new d.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new d.RawContextKey("listSelectionNavigation",!1),e.WorkbenchTreeElementCanCollapse=new d.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new d.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new d.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new d.RawContextKey("treeElementHasChild",!1),e.WorkbenchListAutomaticKeyboardNavigationKey="listAutomaticKeyboardNavigation";function p(Z,j){const $=Z.createScoped(j.getHTMLElement());return b.bindTo($),$}const C="workbench.list.multiSelectModifier",S="workbench.list.openMode",y="workbench.list.horizontalScrolling",w="workbench.list.keyboardNavigation",T="workbench.list.automaticKeyboardNavigation",N="workbench.tree.indent",R="workbench.tree.renderIndentGuides",B="workbench.list.smoothScrolling",O="workbench.list.mouseWheelScrollSensitivity",D="workbench.list.fastScrollSensitivity",A="workbench.tree.expandMode";function P(Z){return Z.getValue(C)==="alt"}class F extends h.Disposable{constructor(j){super();this.configurationService=j,this.useAltAsMultipleSelectionModifier=P(j),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(j=>{j.affectsConfiguration(C)&&(this.useAltAsMultipleSelectionModifier=P(this.configurationService))}))}isSelectionSingleChangeEvent(j){return this.useAltAsMultipleSelectionModifier?j.browserEvent.altKey:(0,k.isSelectionSingleChangeEvent)(j)}isSelectionRangeChangeEvent(j){return(0,k.isSelectionRangeChangeEvent)(j)}}function W(Z,j,$){var H;const te=new h.DisposableStore;return[Object.assign(Object.assign({},Z),{keyboardNavigationDelegate:{mightProducePrintableCharacter(de){return $.mightProducePrintableCharacter(de)}},smoothScrolling:Boolean(j.getValue(B)),mouseWheelScrollSensitivity:j.getValue(O),fastScrollSensitivity:j.getValue(D),multipleSelectionController:(H=Z.multipleSelectionController)!==null&&H!==void 0?H:te.add(new F(j))}),te]}let M=class extends k.List{constructor(j,$,H,te,ne,de,he,pe,ve,ue){const Ce=typeof ne.horizontalScrolling!="undefined"?ne.horizontalScrolling:Boolean(ve.getValue(y)),[me,be]=W(ne,ve,ue);super(j,$,H,te,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,l.computeStyles)(pe.getColorTheme(),l.defaultListStyles)),me),{horizontalScrolling:Ce}));this.disposables.add(be),this.contextKeyService=p(de,this),this.themeService=pe,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ne.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ne.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=ne.horizontalScrolling,this._useAltAsMultipleSelectionModifier=P(ve),this.disposables.add(this.contextKeyService),this.disposables.add(he.register(this)),ne.overrideStyles&&this.updateStyles(ne.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const ge=this.getSelection(),_e=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(ge.length>0||_e.length>0),this.listMultiSelection.set(ge.length>1),this.listDoubleSelection.set(ge.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const ge=this.getSelection(),_e=this.getFocus();this.listHasSelectionOrFocus.set(ge.length>0||_e.length>0)})),this.disposables.add(ve.onDidChangeConfiguration(ge=>{ge.affectsConfiguration(C)&&(this._useAltAsMultipleSelectionModifier=P(ve));let _e={};if(ge.affectsConfiguration(y)&&this.horizontalScrolling===void 0){const ye=Boolean(ve.getValue(y));_e=Object.assign(Object.assign({},_e),{horizontalScrolling:ye})}if(ge.affectsConfiguration(B)){const ye=Boolean(ve.getValue(B));_e=Object.assign(Object.assign({},_e),{smoothScrolling:ye})}if(ge.affectsConfiguration(O)){const ye=ve.getValue(O);_e=Object.assign(Object.assign({},_e),{mouseWheelScrollSensitivity:ye})}if(ge.affectsConfiguration(D)){const ye=ve.getValue(D);_e=Object.assign(Object.assign({},_e),{fastScrollSensitivity:ye})}Object.keys(_e).length>0&&this.updateOptions(_e)})),this.navigator=new Y(this,Object.assign({configurationService:ve},ne)),this.disposables.add(this.navigator)}updateOptions(j){super.updateOptions(j),j.overrideStyles&&this.updateStyles(j.overrideStyles),j.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!j.multipleSelectionSupport)}updateStyles(j){var $;($=this._styler)===null||$===void 0||$.dispose(),this._styler=(0,l.attachListStyler)(this,this.themeService,j)}dispose(){var j;(j=this._styler)===null||j===void 0||j.dispose(),super.dispose()}};M=Ie([fe(5,d.IContextKeyService),fe(6,e.IListService),fe(7,f.IThemeService),fe(8,t.IConfigurationService),fe(9,s.IKeybindingService)],M),e.WorkbenchList=M;let z=class extends m.PagedList{constructor(j,$,H,te,ne,de,he,pe,ve,ue){const Ce=typeof ne.horizontalScrolling!="undefined"?ne.horizontalScrolling:Boolean(ve.getValue(y)),[me,be]=W(ne,ve,ue);super(j,$,H,te,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,l.computeStyles)(pe.getColorTheme(),l.defaultListStyles)),me),{horizontalScrolling:Ce}));this.disposables=new h.DisposableStore,this.disposables.add(be),this.contextKeyService=p(de,this),this.themeService=pe,this.horizontalScrolling=ne.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(ne.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(ne.selectionNavigation)),this._useAltAsMultipleSelectionModifier=P(ve),this.disposables.add(this.contextKeyService),this.disposables.add(he.register(this)),ne.overrideStyles&&this.updateStyles(ne.overrideStyles),ne.overrideStyles&&this.disposables.add((0,l.attachListStyler)(this,pe,ne.overrideStyles)),this.disposables.add(ve.onDidChangeConfiguration(ge=>{ge.affectsConfiguration(C)&&(this._useAltAsMultipleSelectionModifier=P(ve));let _e={};if(ge.affectsConfiguration(y)&&this.horizontalScrolling===void 0){const ye=Boolean(ve.getValue(y));_e=Object.assign(Object.assign({},_e),{horizontalScrolling:ye})}if(ge.affectsConfiguration(B)){const ye=Boolean(ve.getValue(B));_e=Object.assign(Object.assign({},_e),{smoothScrolling:ye})}if(ge.affectsConfiguration(O)){const ye=ve.getValue(O);_e=Object.assign(Object.assign({},_e),{mouseWheelScrollSensitivity:ye})}if(ge.affectsConfiguration(D)){const ye=ve.getValue(D);_e=Object.assign(Object.assign({},_e),{fastScrollSensitivity:ye})}Object.keys(_e).length>0&&this.updateOptions(_e)})),this.navigator=new Y(this,Object.assign({configurationService:ve},ne)),this.disposables.add(this.navigator)}updateOptions(j){super.updateOptions(j),j.overrideStyles&&this.updateStyles(j.overrideStyles),j.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!j.multipleSelectionSupport)}updateStyles(j){var $;($=this._styler)===null||$===void 0||$.dispose(),this._styler=(0,l.attachListStyler)(this,this.themeService,j)}dispose(){var j;(j=this._styler)===null||j===void 0||j.dispose(),this.disposables.dispose(),super.dispose()}};z=Ie([fe(5,d.IContextKeyService),fe(6,e.IListService),fe(7,f.IThemeService),fe(8,t.IConfigurationService),fe(9,s.IKeybindingService)],z),e.WorkbenchPagedList=z;let ee=class extends I.Table{constructor(j,$,H,te,ne,de,he,pe,ve,ue,Ce){const me=typeof de.horizontalScrolling!="undefined"?de.horizontalScrolling:Boolean(ue.getValue(y)),[be,ce]=W(de,ue,Ce);super(j,$,H,te,ne,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,l.computeStyles)(ve.getColorTheme(),l.defaultListStyles)),be),{horizontalScrolling:me}));this.disposables.add(ce),this.contextKeyService=p(he,this),this.themeService=ve,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(de.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(de.selectionNavigation)),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=de.horizontalScrolling,this._useAltAsMultipleSelectionModifier=P(ue),this.disposables.add(this.contextKeyService),this.disposables.add(pe.register(this)),de.overrideStyles&&this.updateStyles(de.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const _e=this.getSelection(),ye=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(_e.length>0||ye.length>0),this.listMultiSelection.set(_e.length>1),this.listDoubleSelection.set(_e.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const _e=this.getSelection(),ye=this.getFocus();this.listHasSelectionOrFocus.set(_e.length>0||ye.length>0)})),this.disposables.add(ue.onDidChangeConfiguration(_e=>{_e.affectsConfiguration(C)&&(this._useAltAsMultipleSelectionModifier=P(ue));let ye={};if(_e.affectsConfiguration(y)&&this.horizontalScrolling===void 0){const Me=Boolean(ue.getValue(y));ye=Object.assign(Object.assign({},ye),{horizontalScrolling:Me})}if(_e.affectsConfiguration(B)){const Me=Boolean(ue.getValue(B));ye=Object.assign(Object.assign({},ye),{smoothScrolling:Me})}if(_e.affectsConfiguration(O)){const Me=ue.getValue(O);ye=Object.assign(Object.assign({},ye),{mouseWheelScrollSensitivity:Me})}if(_e.affectsConfiguration(D)){const Me=ue.getValue(D);ye=Object.assign(Object.assign({},ye),{fastScrollSensitivity:Me})}Object.keys(ye).length>0&&this.updateOptions(ye)})),this.navigator=new X(this,Object.assign({configurationService:ue},de)),this.disposables.add(this.navigator)}updateOptions(j){super.updateOptions(j),j.overrideStyles&&this.updateStyles(j.overrideStyles),j.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!j.multipleSelectionSupport)}updateStyles(j){var $;($=this._styler)===null||$===void 0||$.dispose(),this._styler=(0,l.attachListStyler)(this,this.themeService,j)}dispose(){var j;(j=this._styler)===null||j===void 0||j.dispose(),this.disposables.dispose(),super.dispose()}};ee=Ie([fe(6,d.IContextKeyService),fe(7,e.IListService),fe(8,f.IThemeService),fe(9,t.IConfigurationService),fe(10,s.IKeybindingService)],ee),e.WorkbenchTable=ee;class ie extends h.Disposable{constructor(j,$){var H;super();this.widget=j,this._onDidOpen=this._register(new u.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(u.Event.filter(this.widget.onDidChangeSelection,te=>te.browserEvent instanceof KeyboardEvent)(te=>this.onSelectionFromKeyboard(te))),this._register(this.widget.onPointer(te=>this.onPointer(te.element,te.browserEvent))),this._register(this.widget.onMouseDblClick(te=>this.onMouseDblClick(te.element,te.browserEvent))),typeof($==null?void 0:$.openOnSingleClick)!="boolean"&&($==null?void 0:$.configurationService)?(this.openOnSingleClick=($==null?void 0:$.configurationService.getValue(S))!=="doubleClick",this._register($==null?void 0:$.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=($==null?void 0:$.configurationService.getValue(S))!=="doubleClick"}))):this.openOnSingleClick=(H=$==null?void 0:$.openOnSingleClick)!==null&&H!==void 0?H:!0}onSelectionFromKeyboard(j){if(j.elements.length!==1)return;const $=j.browserEvent,H=typeof $.preserveFocus=="boolean"?$.preserveFocus:!0,te=typeof $.pinned=="boolean"?$.pinned:!H,ne=!1;this._open(this.getSelectedElement(),H,te,ne,j.browserEvent)}onPointer(j,$){if(!this.openOnSingleClick||$.detail===2)return;const te=$.button===1,ne=!0,de=te,he=$.ctrlKey||$.metaKey||$.altKey;this._open(j,ne,de,he,$)}onMouseDblClick(j,$){if(!$)return;const H=$.target;if(H.classList.contains("monaco-tl-twistie")||H.classList.contains("monaco-icon-label")&&H.classList.contains("folder-icon")&&$.offsetX<16)return;const ne=!1,de=!0,he=$.ctrlKey||$.metaKey||$.altKey;this._open(j,ne,de,he,$)}_open(j,$,H,te,ne){!j||this._onDidOpen.fire({editorOptions:{preserveFocus:$,pinned:H,revealIfVisible:!0},sideBySide:te,element:j,browserEvent:ne})}}class Y extends ie{constructor(j,$){super(j,$);this.widget=j}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class X extends ie{constructor(j,$){super(j,$)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class J extends ie{constructor(j,$){super(j,$)}getSelectedElement(){var j;return(j=this.widget.getSelection()[0])!==null&&j!==void 0?j:void 0}}function oe(Z,j){let $=!1;return H=>{if(H.toKeybinding().isModifierKey())return!1;if($)return $=!1,!1;const te=j.softDispatch(H,Z);return te&&te.enterChord?($=!0,!1):($=!1,!0)}}let G=class extends v.ObjectTree{constructor(j,$,H,te,ne,de,he,pe,ve,ue,Ce){const{options:me,getAutomaticKeyboardNavigation:be,disposable:ce}=ae($,ne,de,ve,ue,Ce);super(j,$,H,te,me);this.disposables.add(ce),this.internals=new Q(this,ne,be,ne.overrideStyles,de,he,pe,ve,Ce),this.disposables.add(this.internals)}updateOptions(j){super.updateOptions(j),this.internals.updateOptions(j)}};G=Ie([fe(5,d.IContextKeyService),fe(6,e.IListService),fe(7,f.IThemeService),fe(8,t.IConfigurationService),fe(9,s.IKeybindingService),fe(10,n.IAccessibilityService)],G),e.WorkbenchObjectTree=G;let x=class extends v.CompressibleObjectTree{constructor(j,$,H,te,ne,de,he,pe,ve,ue,Ce){const{options:me,getAutomaticKeyboardNavigation:be,disposable:ce}=ae($,ne,de,ve,ue,Ce);super(j,$,H,te,me);this.disposables.add(ce),this.internals=new Q(this,ne,be,ne.overrideStyles,de,he,pe,ve,Ce),this.disposables.add(this.internals)}updateOptions(j={}){super.updateOptions(j),j.overrideStyles&&this.internals.updateStyleOverrides(j.overrideStyles),this.internals.updateOptions(j)}};x=Ie([fe(5,d.IContextKeyService),fe(6,e.IListService),fe(7,f.IThemeService),fe(8,t.IConfigurationService),fe(9,s.IKeybindingService),fe(10,n.IAccessibilityService)],x),e.WorkbenchCompressibleObjectTree=x;let V=class extends _.DataTree{constructor(j,$,H,te,ne,de,he,pe,ve,ue,Ce,me){const{options:be,getAutomaticKeyboardNavigation:ce,disposable:ge}=ae($,de,he,ue,Ce,me);super(j,$,H,te,ne,be);this.disposables.add(ge),this.internals=new Q(this,de,ce,de.overrideStyles,he,pe,ve,ue,me),this.disposables.add(this.internals)}updateOptions(j={}){super.updateOptions(j),j.overrideStyles&&this.internals.updateStyleOverrides(j.overrideStyles),this.internals.updateOptions(j)}};V=Ie([fe(6,d.IContextKeyService),fe(7,e.IListService),fe(8,f.IThemeService),fe(9,t.IConfigurationService),fe(10,s.IKeybindingService),fe(11,n.IAccessibilityService)],V),e.WorkbenchDataTree=V;let K=class extends L.AsyncDataTree{constructor(j,$,H,te,ne,de,he,pe,ve,ue,Ce,me){const{options:be,getAutomaticKeyboardNavigation:ce,disposable:ge}=ae($,de,he,ue,Ce,me);super(j,$,H,te,ne,be);this.disposables.add(ge),this.internals=new Q(this,de,ce,de.overrideStyles,he,pe,ve,ue,me),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(j={}){super.updateOptions(j),j.overrideStyles&&this.internals.updateStyleOverrides(j.overrideStyles),this.internals.updateOptions(j)}};K=Ie([fe(6,d.IContextKeyService),fe(7,e.IListService),fe(8,f.IThemeService),fe(9,t.IConfigurationService),fe(10,s.IKeybindingService),fe(11,n.IAccessibilityService)],K),e.WorkbenchAsyncDataTree=K;let le=class extends L.CompressibleAsyncDataTree{constructor(j,$,H,te,ne,de,he,pe,ve,ue,Ce,me,be){const{options:ce,getAutomaticKeyboardNavigation:ge,disposable:_e}=ae($,he,pe,Ce,me,be);super(j,$,H,te,ne,de,ce);this.disposables.add(_e),this.internals=new Q(this,he,ge,he.overrideStyles,pe,ve,ue,Ce,be),this.disposables.add(this.internals)}updateOptions(j){super.updateOptions(j),this.internals.updateOptions(j)}};le=Ie([fe(7,d.IContextKeyService),fe(8,e.IListService),fe(9,f.IThemeService),fe(10,t.IConfigurationService),fe(11,s.IKeybindingService),fe(12,n.IAccessibilityService)],le),e.WorkbenchCompressibleAsyncDataTree=le;function ae(Z,j,$,H,te,ne){var de;const he=()=>{let ce=Boolean($.getContextKeyValue(e.WorkbenchListAutomaticKeyboardNavigationKey));return ce&&(ce=Boolean(H.getValue(T))),ce},pe=ne.isScreenReaderOptimized(),ve=j.simpleKeyboardNavigation||pe?"simple":H.getValue(w),ue=j.horizontalScrolling!==void 0?j.horizontalScrolling:Boolean(H.getValue(y)),[Ce,me]=W(j,H,te),be=j.additionalScrollHeight;return{getAutomaticKeyboardNavigation:he,disposable:me,options:Object.assign(Object.assign({keyboardSupport:!1},Ce),{indent:typeof H.getValue(N)=="number"?H.getValue(N):void 0,renderIndentGuides:H.getValue(R),smoothScrolling:Boolean(H.getValue(B)),automaticKeyboardNavigation:he(),simpleKeyboardNavigation:ve==="simple",filterOnType:ve==="filter",horizontalScrolling:ue,keyboardNavigationEventFilter:oe(Z,te),additionalScrollHeight:be,hideTwistiesOfChildlessElements:j.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(de=j.expandOnlyOnTwistieClick)!==null&&de!==void 0?de:H.getValue(A)==="doubleClick"})}}let Q=class{constructor(j,$,H,te,ne,de,he,pe,ve){this.tree=j,this.themeService=he,this.disposables=[],this.contextKeyService=p(ne,j),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set($.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean($.selectionNavigation)),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=P(pe);const Ce=new Set;Ce.add(e.WorkbenchListAutomaticKeyboardNavigationKey);const me=()=>{const ge=ve.isScreenReaderOptimized()?"simple":pe.getValue(w);j.updateOptions({simpleKeyboardNavigation:ge==="simple",filterOnType:ge==="filter"})};this.updateStyleOverrides(te);const be=()=>{const ce=j.getFocus()[0];if(!ce)return;const ge=j.getNode(ce);this.treeElementCanCollapse.set(ge.collapsible&&!ge.collapsed),this.treeElementHasParent.set(!!j.getParentElement(ce)),this.treeElementCanExpand.set(ge.collapsible&&ge.collapsed),this.treeElementHasChild.set(!!j.getFirstElementChild(ce))};this.disposables.push(this.contextKeyService,de.register(j),j.onDidChangeSelection(()=>{const ce=j.getSelection(),ge=j.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(ce.length>0||ge.length>0),this.hasMultiSelection.set(ce.length>1),this.hasDoubleSelection.set(ce.length===2)})}),j.onDidChangeFocus(()=>{const ce=j.getSelection(),ge=j.getFocus();this.hasSelectionOrFocus.set(ce.length>0||ge.length>0),be()}),j.onDidChangeCollapseState(be),j.onDidChangeModel(be),pe.onDidChangeConfiguration(ce=>{let ge={};if(ce.affectsConfiguration(C)&&(this._useAltAsMultipleSelectionModifier=P(pe)),ce.affectsConfiguration(N)){const _e=pe.getValue(N);ge=Object.assign(Object.assign({},ge),{indent:_e})}if(ce.affectsConfiguration(R)){const _e=pe.getValue(R);ge=Object.assign(Object.assign({},ge),{renderIndentGuides:_e})}if(ce.affectsConfiguration(B)){const _e=Boolean(pe.getValue(B));ge=Object.assign(Object.assign({},ge),{smoothScrolling:_e})}if(ce.affectsConfiguration(w)&&me(),ce.affectsConfiguration(T)&&(ge=Object.assign(Object.assign({},ge),{automaticKeyboardNavigation:H()})),ce.affectsConfiguration(y)&&$.horizontalScrolling===void 0){const _e=Boolean(pe.getValue(y));ge=Object.assign(Object.assign({},ge),{horizontalScrolling:_e})}if(ce.affectsConfiguration(A)&&$.expandOnlyOnTwistieClick===void 0&&(ge=Object.assign(Object.assign({},ge),{expandOnlyOnTwistieClick:pe.getValue(A)==="doubleClick"})),ce.affectsConfiguration(O)){const _e=pe.getValue(O);ge=Object.assign(Object.assign({},ge),{mouseWheelScrollSensitivity:_e})}if(ce.affectsConfiguration(D)){const _e=pe.getValue(D);ge=Object.assign(Object.assign({},ge),{fastScrollSensitivity:_e})}Object.keys(ge).length>0&&j.updateOptions(ge)}),this.contextKeyService.onDidChangeContext(ce=>{ce.affectsSome(Ce)&&j.updateOptions({automaticKeyboardNavigation:H()})}),ve.onDidChangeScreenReaderOptimized(()=>me())),this.navigator=new J(j,Object.assign({configurationService:pe},$)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(j){j.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!j.multipleSelectionSupport)}updateStyleOverrides(j){(0,h.dispose)(this.styler),this.styler=j?(0,l.attachListStyler)(this.tree,this.themeService,j):h.Disposable.None}dispose(){this.disposables=(0,h.dispose)(this.disposables),(0,h.dispose)(this.styler),this.styler=void 0}};Q=Ie([fe(4,d.IContextKeyService),fe(5,e.IListService),fe(6,f.IThemeService),fe(7,t.IConfigurationService),fe(8,n.IAccessibilityService)],Q),a.Registry.as(o.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,i.localize)(0,null),type:"object",properties:{[C]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,i.localize)(1,null),(0,i.localize)(2,null)],default:"ctrlCmd",description:(0,i.localize)(3,null)},[S]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(4,null)},[y]:{type:"boolean",default:!1,description:(0,i.localize)(5,null)},[N]:{type:"number",default:8,minimum:4,maximum:40,description:(0,i.localize)(6,null)},[R]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,i.localize)(7,null)},[B]:{type:"boolean",default:!1,description:(0,i.localize)(8,null)},[O]:{type:"number",default:1,markdownDescription:(0,i.localize)(9,null)},[D]:{type:"number",default:5,description:(0,i.localize)(10,null)},[w]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,i.localize)(11,null),(0,i.localize)(12,null),(0,i.localize)(13,null)],default:"highlight",description:(0,i.localize)(14,null)},[T]:{type:"boolean",default:!0,markdownDescription:(0,i.localize)(15,null)},[A]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,i.localize)(16,null)}}})}),define(re[711],se([1,0,7,93,44,60,4,2,50,23,14]),function(U,e,E,m,k,I,L,_,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let i=class extends _.Disposable{constructor(t,o,d={},r){var c;super();this._link=o,this._enabled=!0,this.el=(0,E.append)(t,(0,E.$)("a.monaco-link",{tabIndex:(c=o.tabIndex)!==null&&c!==void 0?c:0,href:o.href,title:o.title},o.label)),this.el.setAttribute("role","button");const s=this._register(new m.DomEmitter(this.el,"click")),a=this._register(new m.DomEmitter(this.el,"keypress")),l=L.Event.chain(a.event).map(b=>new k.StandardKeyboardEvent(b)).filter(b=>b.keyCode===3).event,f=this._register(new m.DomEmitter(this.el,I.EventType.Tap)).event;this._register(I.Gesture.addTarget(this.el));const g=L.Event.any(s.event,l,f);this._register(g(b=>{!this.enabled||(E.EventHelper.stop(b,!0),(d==null?void 0:d.opener)?d.opener(this._link.href):r.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(t){t?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=t}};i=Ie([fe(3,v.IOpenerService)],i),e.Link=i,(0,h.registerThemingParticipant)((n,t)=>{const o=n.getColor(u.textLinkForeground);o&&t.addRule(`.monaco-link { color: ${o}; }`);const d=n.getColor(u.textLinkActiveForeground);d&&t.addRule(`.monaco-link:hover { color: ${d}; }`)})}),define(re[712],se([1,0,21,509,68,16,9,109,163,645,23,135,14]),function(U,e,E,m,k,I,L,_,v,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let t=class extends n.Themable{constructor(d,r,c,s,a){super(c);this.instantiationService=d,this.contextKeyService=r,this.accessibilityService=s,this.layoutService=a,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(u.QuickAccessController))),this._quickAccess}createController(d=this.layoutService,r){var c,s;const a={idPrefix:"quickInput_",container:d.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:f=>this.setContextKey(f),returnFocus:()=>d.focus(),createList:(f,g,b,p,C)=>this.instantiationService.createInstance(v.WorkbenchList,f,g,b,p,C),styles:this.computeStyles()},l=this._register(new m.QuickInputController(Object.assign(Object.assign({},a),r)));return l.layout(d.dimension,(s=(c=d.offset)===null||c===void 0?void 0:c.top)!==null&&s!==void 0?s:0),this._register(d.onDidLayout(f=>{var g,b;return l.layout(f,(b=(g=d.offset)===null||g===void 0?void 0:g.top)!==null&&b!==void 0?b:0)})),this._register(l.onShow(()=>this.resetContextKeys())),this._register(l.onHide(()=>this.resetContextKeys())),l}setContextKey(d){let r;d&&(r=this.contexts.get(d),r||(r=new I.RawContextKey(d,!1).bindTo(this.contextKeyService),this.contexts.set(d,r))),!(r&&r.get())&&(this.resetContextKeys(),r&&r.set(!0))}resetContextKeys(){this.contexts.forEach(d=>{d.get()&&d.reset()})}pick(d,r={},c=E.CancellationToken.None){return this.controller.pick(d,r,c)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,i.computeStyles)(this.theme,{quickInputBackground:h.quickInputBackground,quickInputForeground:h.quickInputForeground,quickInputTitleBackground:h.quickInputTitleBackground,contrastBorder:h.contrastBorder,widgetShadow:h.widgetShadow})),inputBox:(0,i.computeStyles)(this.theme,{inputForeground:h.inputForeground,inputBackground:h.inputBackground,inputBorder:h.inputBorder,inputValidationInfoBackground:h.inputValidationInfoBackground,inputValidationInfoForeground:h.inputValidationInfoForeground,inputValidationInfoBorder:h.inputValidationInfoBorder,inputValidationWarningBackground:h.inputValidationWarningBackground,inputValidationWarningForeground:h.inputValidationWarningForeground,inputValidationWarningBorder:h.inputValidationWarningBorder,inputValidationErrorBackground:h.inputValidationErrorBackground,inputValidationErrorForeground:h.inputValidationErrorForeground,inputValidationErrorBorder:h.inputValidationErrorBorder}),countBadge:(0,i.computeStyles)(this.theme,{badgeBackground:h.badgeBackground,badgeForeground:h.badgeForeground,badgeBorder:h.contrastBorder}),button:(0,i.computeStyles)(this.theme,{buttonForeground:h.buttonForeground,buttonBackground:h.buttonBackground,buttonHoverBackground:h.buttonHoverBackground,buttonBorder:h.contrastBorder}),progressBar:(0,i.computeStyles)(this.theme,{progressBarBackground:h.progressBarBackground}),keybindingLabel:(0,i.computeStyles)(this.theme,{keybindingLabelBackground:h.keybindingLabelBackground,keybindingLabelForeground:h.keybindingLabelForeground,keybindingLabelBorder:h.keybindingLabelBorder,keybindingLabelBottomBorder:h.keybindingLabelBottomBorder,keybindingLabelShadow:h.widgetShadow}),list:(0,i.computeStyles)(this.theme,{listBackground:h.quickInputBackground,listInactiveFocusForeground:h.quickInputListFocusForeground,listInactiveSelectionIconForeground:h.quickInputListFocusIconForeground,listInactiveFocusBackground:h.quickInputListFocusBackground,listFocusOutline:h.activeContrastBorder,listInactiveFocusOutline:h.activeContrastBorder,pickerGroupBorder:h.pickerGroupBorder,pickerGroupForeground:h.pickerGroupForeground})}}};t=Ie([fe(0,L.IInstantiationService),fe(1,I.IContextKeyService),fe(2,n.IThemeService),fe(3,k.IAccessibilityService),fe(4,_.ILayoutService)],t),e.QuickInputService=t}),define(re[713],se([1,0,15,14,21,9,16,68,284,29,712,92,404]),function(U,e,E,m,k,I,L,_,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputService=e.EditorScopedQuickInputService=void 0;let n=class extends h.QuickInputService{constructor(c,s,a,l,f,g){super(s,a,l,f,new v.EditorScopedLayoutService(c.getContainerDomNode(),g));this.host=void 0;const b=o.get(c);if(b){const p=b.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return p.getDomNode()},get dimension(){return c.getLayoutInfo()},get onDidLayout(){return c.onDidLayoutChange},focus:()=>c.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};n=Ie([fe(1,I.IInstantiationService),fe(2,L.IContextKeyService),fe(3,m.IThemeService),fe(4,_.IAccessibilityService),fe(5,u.ICodeEditorService)],n),e.EditorScopedQuickInputService=n;let t=class{constructor(c,s){this.instantiationService=c,this.codeEditorService=s,this.mapEditorToService=new Map}get activeService(){const c=this.codeEditorService.getFocusedCodeEditor();if(!c)throw new Error("Quick input service needs a focused editor to work.");let s=this.mapEditorToService.get(c);if(!s){const a=s=this.instantiationService.createInstance(n,c);this.mapEditorToService.set(c,s),(0,i.once)(c.onDidDispose)(()=>{a.dispose(),this.mapEditorToService.delete(c)})}return s}get quickAccess(){return this.activeService.quickAccess}pick(c,s={},a=k.CancellationToken.None){return this.activeService.pick(c,s,a)}createQuickPick(){return this.activeService.createQuickPick()}};t=Ie([fe(0,I.IInstantiationService),fe(1,u.ICodeEditorService)],t),e.StandaloneQuickInputService=t;class o{constructor(c){this.editor=c,this.widget=new d(this.editor)}static get(c){return c.getContribution(o.ID)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=o,o.ID="editor.controller.quickInput";class d{constructor(c){this.codeEditor=c,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return d.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=d,d.ID="editor.contrib.quickInputWidget",(0,E.registerEditorContribution)(o.ID,o)}),define(re[714],se([1,0,28,78,23,14]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var L;(function(_){function v(u){switch(u){case m.default.Ignore:return"severity-ignore "+E.Codicon.info.classNames;case m.default.Info:return E.Codicon.info.classNames;case m.default.Warning:return E.Codicon.warning.classNames;case m.default.Error:return E.Codicon.error.classNames;default:return""}}_.className=v})(L=e.SeverityIcon||(e.SeverityIcon={})),(0,I.registerThemingParticipant)((_,v)=>{const u=_.getColor(k.problemsErrorIconForeground);if(u){const n=E.Codicon.error.cssSelector;v.addRule(`
			.monaco-editor .zone-widget ${n},
			.markers-panel .marker-icon${n},
			.text-search-provider-messages .providerMessage ${n},
			.extensions-viewlet > .extensions ${n} {
				color: ${u};
			}
		`)}const h=_.getColor(k.problemsWarningIconForeground);if(h){const n=E.Codicon.warning.cssSelector;v.addRule(`
			.monaco-editor .zone-widget ${n},
			.markers-panel .marker-icon${n},
			.extensions-viewlet > .extensions ${n},
			.extension-editor ${n},
			.text-search-provider-messages .providerMessage ${n},
			.preferences-editor ${n} {
				color: ${h};
			}
		`)}const i=_.getColor(k.problemsInfoIconForeground);if(i){const n=E.Codicon.info.cssSelector;v.addRule(`
			.monaco-editor .zone-widget ${n},
			.markers-panel .marker-icon${n},
			.extensions-viewlet > .extensions ${n},
			.text-search-provider-messages .providerMessage ${n},
			.extension-editor ${n} {
				color: ${i};
			}
		`)}})}),define(re[77],se([1,0,10,28,4,607,207,38,14]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.IconContribution=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};var u;(function(c){function s(a,l){let f=a.defaults;for(;v.ThemeIcon.isThemeIcon(f);){const g=i.getIcon(f.id);if(!g)return;f=g.defaults}return f}c.getDefinition=s})(u=e.IconContribution||(e.IconContribution={}));class h{constructor(){this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,I.localize)(0,null)},fontCharacter:{type:"string",description:(0,I.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${m.CSSIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(s,a,l,f){const g=this.iconsById[s];if(g){if(l&&!g.description){g.description=l,this.iconSchema.properties[s].markdownDescription=`${l} $(${s})`;const C=this.iconReferenceSchema.enum.indexOf(s);C!==-1&&(this.iconReferenceSchema.enumDescriptions[C]=l),this._onDidChange.fire()}return g}let b={id:s,description:l,defaults:a,deprecationMessage:f};this.iconsById[s]=b;let p={$ref:"#/definitions/icons"};return f&&(p.deprecationMessage=f),l&&(p.markdownDescription=`${l}: $(${s})`),this.iconSchema.properties[s]=p,this.iconReferenceSchema.enum.push(s),this.iconReferenceSchema.enumDescriptions.push(l||""),this._onDidChange.fire(),{id:s}}getIcons(){return Object.keys(this.iconsById).map(s=>this.iconsById[s])}getIcon(s){return this.iconsById[s]}getIconSchema(){return this.iconSchema}toString(){const s=(g,b)=>g.id.localeCompare(b.id),a=g=>{for(;v.ThemeIcon.isThemeIcon(g.defaults);)g=this.iconsById[g.defaults.id];return`codicon codicon-${g?g.id:""}`};let l=[];l.push("| preview     | identifier                        | default codicon ID                | description"),l.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const f=Object.keys(this.iconsById).map(g=>this.iconsById[g]);for(const g of f.filter(b=>!!b.description).sort(s))l.push(`|<i class="${a(g)}"></i>|${g.id}|${v.ThemeIcon.isThemeIcon(g.defaults)?g.defaults.id:g.id}|${g.description||""}|`);l.push("| preview     | identifier                        "),l.push("| ----------- | --------------------------------- |");for(const g of f.filter(b=>!v.ThemeIcon.isThemeIcon(b.defaults)).sort(s))l.push(`|<i class="${a(g)}"></i>|${g.id}|`);return l.join(`
`)}}const i=new h;_.Registry.add(e.Extensions.IconContribution,i);function n(c,s,a,l){return i.registerIcon(c,s,a,l)}e.registerIcon=n;function t(){return i}e.getIconRegistry=t;function o(){for(const c of m.Codicon.getAll())i.registerIcon(c.id,c.definition,c.description)}o(),e.iconsSchemaId="vscode://schemas/icons";let d=_.Registry.as(L.Extensions.JSONContribution);d.registerSchema(e.iconsSchemaId,i.getIconSchema());const r=new E.RunOnceScheduler(()=>d.notifySchemaChanged(e.iconsSchemaId),200);i.onDidChange(()=>{r.isScheduled()||r.schedule()}),e.widgetClose=n("widget-close",m.Codicon.close,(0,I.localize)(2,null)),e.gotoPreviousLocation=n("goto-previous-location",m.Codicon.arrowUp,(0,I.localize)(3,null)),e.gotoNextLocation=n("goto-next-location",m.Codicon.arrowDown,(0,I.localize)(4,null)),e.syncing=v.ThemeIcon.modify(m.Codicon.sync,"spin"),e.spinningLoading=v.ThemeIcon.modify(m.Codicon.loading,"spin")}),define(re[715],se([1,0,515,7,32,88,72,48,2,67,15,29,33,79,11,54,129,74,16,23,14,28,77,37,377]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g,b){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffReview=void 0;const C=3;class S{constructor(P,F,W,M){this.originalLineStart=P,this.originalLineEnd=F,this.modifiedLineStart=W,this.modifiedLineEnd=M}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class y{constructor(P){this.entries=P}}const w=(0,g.registerIcon)("diff-review-insert",f.Codicon.add,E.localize(0,null)),T=(0,g.registerIcon)("diff-review-remove",f.Codicon.remove,E.localize(1,null)),N=(0,g.registerIcon)("diff-review-close",f.Codicon.close,E.localize(2,null));let R=class Lt extends v.Disposable{constructor(P,F){super();this._languageService=F,this._width=0,this._diffEditor=P,this._isVisible=!1,this.shadow=(0,k.createFastDomNode)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,k.createFastDomNode)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new I.ActionBar(this.actionBarContainer.domNode)),this._actionBar.push(new _.Action("diffreview.close",E.localize(3,null),"close-diff-review "+l.ThemeIcon.asClassName(N),!0,()=>Le(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,k.createFastDomNode)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new L.DomScrollableElement(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(P.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(P.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(m.addStandardDisposableListener(this.domNode.domNode,"click",W=>{W.preventDefault();const M=m.findParentWithClass(W.target,"diff-review-row");M&&this._goToRow(M)})),this._register(m.addStandardDisposableListener(this.domNode.domNode,"keydown",W=>{(W.equals(18)||W.equals(2048|18)||W.equals(512|18))&&(W.preventDefault(),this._goToRow(this._getNextRow())),(W.equals(16)||W.equals(2048|16)||W.equals(512|16))&&(W.preventDefault(),this._goToRow(this._getPrevRow())),(W.equals(9)||W.equals(2048|9)||W.equals(512|9)||W.equals(1024|9))&&(W.preventDefault(),this.hide()),(W.equals(10)||W.equals(3))&&(W.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let P=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let W=-1;for(let M=0,z=this._diffs.length;M<z;M++)if(this._diffs[M]===this._currentDiff){W=M;break}P=this._diffs.length+W-1}else P=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;P=P%this._diffs.length;const F=this._diffs[P].entries;this._diffEditor.setPosition(new o.Position(F[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:F[0].modifiedLineStart,endColumn:1073741824,endLineNumber:F[F.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let P=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let W=-1;for(let M=0,z=this._diffs.length;M<z;M++)if(this._diffs[M]===this._currentDiff){W=M;break}P=W+1}else P=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;P=P%this._diffs.length;const F=this._diffs[P].entries;this._diffEditor.setPosition(new o.Position(F[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:F[0].modifiedLineStart,endColumn:1073741824,endLineNumber:F[F.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let P=-1;const F=this._getCurrentFocusedRow();if(F){const W=parseInt(F.getAttribute("data-line"),10);isNaN(W)||(P=W)}this.hide(),P!==-1&&(this._diffEditor.setPosition(new o.Position(P,1)),this._diffEditor.revealPosition(new o.Position(P,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const P=this._getCurrentFocusedRow();return P?P.previousElementSibling?P.previousElementSibling:P:this._getFirstRow()}_getNextRow(){const P=this._getCurrentFocusedRow();return P?P.nextElementSibling?P.nextElementSibling:P:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const P=document.activeElement;return P&&/diff-review-row/.test(P.className)?P:null}_goToRow(P){const F=this._getCurrentFocusedRow();P.tabIndex=0,P.focus(),F&&F!==P&&(F.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(P,F,W){this._width=F,this.shadow.setTop(P-6),this.shadow.setWidth(F),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(P),this.domNode.setWidth(F),this.domNode.setHeight(W),this._content.setHeight(W),this._content.setWidth(F),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const P=this._diffEditor.getLineChanges();if(!P||P.length===0)return[];const F=this._diffEditor.getOriginalEditor().getModel(),W=this._diffEditor.getModifiedEditor().getModel();return!F||!W?[]:Lt._mergeAdjacent(P,F.getLineCount(),W.getLineCount())}static _mergeAdjacent(P,F,W){if(!P||P.length===0)return[];const M=[];let z=0;for(let X=0,J=P.length;X<J;X++){const oe=P[X],G=oe.originalStartLineNumber,x=oe.originalEndLineNumber,V=oe.modifiedStartLineNumber,K=oe.modifiedEndLineNumber,le=[];let ae=0;{const Q=x===0?G:G-1,q=K===0?V:V-1;let Z=1,j=1;if(X>0){const te=P[X-1];te.originalEndLineNumber===0?Z=te.originalStartLineNumber+1:Z=te.originalEndLineNumber+1,te.modifiedEndLineNumber===0?j=te.modifiedStartLineNumber+1:j=te.modifiedEndLineNumber+1}let $=Q-C+1,H=q-C+1;if($<Z){const te=Z-$;$=$+te,H=H+te}if(H<j){const te=j-H;$=$+te,H=H+te}le[ae++]=new S($,Q,H,q)}x!==0&&(le[ae++]=new S(G,x,0,0)),K!==0&&(le[ae++]=new S(0,0,V,K));{const Q=x===0?G+1:x+1,q=K===0?V+1:K+1;let Z=F,j=W;if(X+1<J){const te=P[X+1];te.originalEndLineNumber===0?Z=te.originalStartLineNumber:Z=te.originalStartLineNumber-1,te.modifiedEndLineNumber===0?j=te.modifiedStartLineNumber:j=te.modifiedStartLineNumber-1}let $=Q+C-1,H=q+C-1;if($>Z){const te=Z-$;$=$+te,H=H+te}if(H>j){const te=j-H;$=$+te,H=H+te}le[ae++]=new S(Q,$,q,H)}M[z++]=new y(le)}let ee=M[0].entries;const ie=[];let Y=0;for(let X=1,J=M.length;X<J;X++){const oe=M[X].entries,G=ee[ee.length-1],x=oe[0];if(G.getType()===0&&x.getType()===0&&x.originalLineStart<=G.originalLineEnd){ee[ee.length-1]=new S(G.originalLineStart,x.originalLineEnd,G.modifiedLineStart,x.modifiedLineEnd),ee=ee.concat(oe.slice(1));continue}ie[Y++]=new y(ee),ee=oe}return ie[Y++]=new y(ee),ie}_findDiffIndex(P){const F=P.lineNumber;for(let W=0,M=this._diffs.length;W<M;W++){const z=this._diffs[W].entries,ee=z[z.length-1].modifiedLineEnd;if(F<=ee)return W}return 0}_render(){const P=this._diffEditor.getOriginalEditor().getOptions(),F=this._diffEditor.getModifiedEditor().getOptions(),W=this._diffEditor.getOriginalEditor().getModel(),M=this._diffEditor.getModifiedEditor().getModel(),z=W.getOptions(),ee=M.getOptions();if(!this._isVisible||!W||!M){m.clearNode(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const ie=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[ie]===this._currentDiff)return;this._currentDiff=this._diffs[ie];const Y=this._diffs[ie].entries,X=document.createElement("div");X.className="diff-review-table",X.setAttribute("role","list"),X.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,u.applyFontInfo)(X,F.get(44));let J=0,oe=0,G=0,x=0;for(let H=0,te=Y.length;H<te;H++){const ne=Y[H],de=ne.originalLineStart,he=ne.originalLineEnd,pe=ne.modifiedLineStart,ve=ne.modifiedLineEnd;de!==0&&(J===0||de<J)&&(J=de),he!==0&&(oe===0||he>oe)&&(oe=he),pe!==0&&(G===0||pe<G)&&(G=pe),ve!==0&&(x===0||ve>x)&&(x=ve)}const V=document.createElement("div");V.className="diff-review-row";const K=document.createElement("div");K.className="diff-review-cell diff-review-summary";const le=oe-J+1,ae=x-G+1;K.appendChild(document.createTextNode(`${ie+1}/${this._diffs.length}: @@ -${J},${le} +${G},${ae} @@`)),V.setAttribute("data-line",String(G));const Q=H=>H===0?E.localize(4,null):H===1?E.localize(5,null):E.localize(6,null,H),q=Q(le),Z=Q(ae);V.setAttribute("aria-label",E.localize(7,null,ie+1,this._diffs.length,J,q,G,Z)),V.appendChild(K),V.setAttribute("role","listitem"),X.appendChild(V);const j=F.get(59);let $=G;for(let H=0,te=Y.length;H<te;H++){const ne=Y[H];Lt._renderSection(X,ne,$,j,this._width,P,W,z,F,M,ee,this._languageService.languageIdCodec),ne.modifiedLineStart!==0&&($=ne.modifiedLineEnd)}m.clearNode(this._content.domNode),this._content.domNode.appendChild(X),this.scrollbar.scanDomNode()}static _renderSection(P,F,W,M,z,ee,ie,Y,X,J,oe,G){const x=F.getType();let V="diff-review-row",K="";const le="diff-review-spacer";let ae=null;switch(x){case 1:V="diff-review-row line-insert",K=" char-insert",ae=w;break;case 2:V="diff-review-row line-delete",K=" char-delete",ae=T;break}const Q=F.originalLineStart,q=F.originalLineEnd,Z=F.modifiedLineStart,j=F.modifiedLineEnd,$=Math.max(j-Z,q-Q),H=ee.get(131),te=H.glyphMarginWidth+H.lineNumbersWidth,ne=X.get(131),de=10+ne.glyphMarginWidth+ne.lineNumbersWidth;for(let he=0;he<=$;he++){const pe=Q===0?0:Q+he,ve=Z===0?0:Z+he,ue=document.createElement("div");ue.style.minWidth=z+"px",ue.className=V,ue.setAttribute("role","listitem"),ve!==0&&(W=ve),ue.setAttribute("data-line",String(W));const Ce=document.createElement("div");Ce.className="diff-review-cell",Ce.style.height=`${M}px`,ue.appendChild(Ce);const me=document.createElement("span");me.style.width=te+"px",me.style.minWidth=te+"px",me.className="diff-review-line-number"+K,pe!==0?me.appendChild(document.createTextNode(String(pe))):me.innerText="\xA0",Ce.appendChild(me);const be=document.createElement("span");be.style.width=de+"px",be.style.minWidth=de+"px",be.style.paddingRight="10px",be.className="diff-review-line-number"+K,ve!==0?be.appendChild(document.createTextNode(String(ve))):be.innerText="\xA0",Ce.appendChild(be);const ce=document.createElement("span");if(ce.className=le,ae){const ye=document.createElement("span");ye.className=l.ThemeIcon.asClassName(ae),ye.innerText="\xA0\xA0",ce.appendChild(ye)}else ce.innerText="\xA0\xA0";Ce.appendChild(ce);let ge;if(ve!==0){let ye=this._renderLine(J,X,oe.tabSize,ve,G);Lt._ttPolicy&&(ye=Lt._ttPolicy.createHTML(ye)),Ce.insertAdjacentHTML("beforeend",ye),ge=J.getLineContent(ve)}else{let ye=this._renderLine(ie,ee,Y.tabSize,pe,G);Lt._ttPolicy&&(ye=Lt._ttPolicy.createHTML(ye)),Ce.insertAdjacentHTML("beforeend",ye),ge=ie.getLineContent(pe)}ge.length===0&&(ge=E.localize(8,null));let _e="";switch(x){case 0:pe===ve?_e=E.localize(9,null,ge,pe):_e=E.localize(10,null,ge,pe,ve);break;case 1:_e=E.localize(11,null,ge,ve);break;case 2:_e=E.localize(12,null,ge,pe);break}ue.setAttribute("aria-label",_e),P.appendChild(ue)}}static _renderLine(P,F,W,M,z){const ee=P.getLineContent(M),ie=F.get(44),Y=t.LineTokens.createEmpty(ee,z),X=c.ViewLineRenderingData.isBasicASCII(ee,P.mightContainNonBasicASCII()),J=c.ViewLineRenderingData.containsRTL(ee,X,P.mightContainRTL());return(0,r.renderViewLine2)(new r.RenderLineInput(ie.isMonospace&&!F.get(29),ie.canUseHalfwidthRightwardsArrow,ee,!1,X,J,0,Y,[],W,0,ie.spaceWidth,ie.middotWidth,ie.wsmiddotWidth,F.get(105),F.get(88),F.get(83),F.get(45)!==n.EditorFontLigatures.OFF,null)).html}};R._ttPolicy=(p=window.trustedTypes)===null||p===void 0?void 0:p.createPolicy("diffReview",{createHTML:A=>A}),R=Ie([fe(1,b.ILanguageService)],R),e.DiffReview=R,(0,l.registerThemingParticipant)((A,P)=>{const F=A.getColor(d.editorLineNumbers);F&&P.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${F}; }`);const W=A.getColor(a.scrollbarShadow);W&&P.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${W} 0 -6px 6px -6px inset; }`)});class B extends h.EditorAction{constructor(){super({id:"editor.action.diffReview.next",label:E.localize(13,null),alias:"Go to Next Difference",precondition:s.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(P,F){const W=D(P);W&&W.diffReviewNext()}}class O extends h.EditorAction{constructor(){super({id:"editor.action.diffReview.prev",label:E.localize(14,null),alias:"Go to Previous Difference",precondition:s.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65,weight:100}})}run(P,F){const W=D(P);W&&W.diffReviewPrev()}}function D(A){const P=A.get(i.ICodeEditorService),F=P.listDiffEditors(),W=P.getActiveCodeEditor();if(!W)return null;for(let M=0,z=F.length;M<z;M++){const ee=F[M];if(ee.getModifiedEditor().getId()===W.getId()||ee.getOriginalEditor().getId()===W.getId())return ee}return null}(0,h.registerEditorAction)(B),(0,h.registerEditorAction)(O)}),define(re[716],se([1,0,7,46,72,28,4,2,8,19,111,37,616,205,574,16,50,23,77,58,14,20,393]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorHoverWidgetHighlightForeground=e.ParameterHintsWidget=void 0;const g=E.$,b=(0,s.registerIcon)("parameter-hints-next",I.Codicon.chevronDown,o.localize(0,null)),p=(0,s.registerIcon)("parameter-hints-previous",I.Codicon.chevronUp,o.localize(1,null));let C=class Fi extends _.Disposable{constructor(y,w,T,N,R){super();this.editor=y,this.renderDisposeables=this._register(new _.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new h.MarkdownRenderer({editor:y},N,T)),this.model=this._register(new n.ParameterHintsModel(y,R.signatureHelpProvider)),this.keyVisible=t.Context.Visible.bindTo(w),this.keyMultipleSignatures=t.Context.MultipleSignatures.bindTo(w),this._register(this.model.onChangedHints(B=>{B?(this.show(),this.render(B)):this.hide()}))}createParameterHintDOMNodes(){const y=g(".editor-widget.parameter-hints-widget"),w=E.append(y,g(".phwrapper"));w.tabIndex=-1;const T=E.append(w,g(".controls")),N=E.append(T,g(".button"+l.ThemeIcon.asCSSSelector(p))),R=E.append(T,g(".overloads")),B=E.append(T,g(".button"+l.ThemeIcon.asCSSSelector(b)));this._register(E.addDisposableListener(N,"click",W=>{E.EventHelper.stop(W),this.previous()})),this._register(E.addDisposableListener(B,"click",W=>{E.EventHelper.stop(W),this.next()}));const O=g(".body"),D=new k.DomScrollableElement(O,{});this._register(D),w.appendChild(D.getDomNode());const A=E.append(O,g(".signature")),P=E.append(O,g(".docs"));y.style.userSelect="text",this.domNodes={element:y,signature:A,overloads:R,docs:P,scrollbar:D},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(W=>{this.visible&&this.editor.layoutContentWidget(this)}));const F=()=>{if(!this.domNodes)return;const W=this.editor.getOption(44);this.domNodes.element.style.fontSize=`${W.fontSize}px`,this.domNodes.element.style.lineHeight=`${W.lineHeight/W.fontSize}`};F(),this._register(L.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(W=>W.hasChanged(44)).on(F,null)),this._register(this.editor.onDidLayoutChange(W=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{this.domNodes&&this.domNodes.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),!!this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(y){var w;if(this.renderDisposeables.clear(),!this.domNodes)return;const T=y.signatures.length>1;this.domNodes.element.classList.toggle("multiple",T),this.keyMultipleSignatures.set(T),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const N=y.signatures[y.activeSignature];if(!N)return;const R=E.append(this.domNodes.signature,g(".code")),B=this.editor.getOption(44);R.style.fontSize=`${B.fontSize}px`,R.style.fontFamily=B.fontFamily;const O=N.parameters.length>0,D=(w=N.activeParameter)!==null&&w!==void 0?w:y.activeParameter;if(O)this.renderParameters(R,N,D);else{const F=E.append(R,g("span"));F.textContent=N.label}const A=N.parameters[D];if(A==null?void 0:A.documentation){const F=g("span.documentation");if(typeof A.documentation=="string")F.textContent=A.documentation;else{const W=this.renderMarkdownDocs(A.documentation);F.appendChild(W.element)}E.append(this.domNodes.docs,g("p",{},F))}if(N.documentation!==void 0)if(typeof N.documentation=="string")E.append(this.domNodes.docs,g("p",{},N.documentation));else{const F=this.renderMarkdownDocs(N.documentation);E.append(this.domNodes.docs,F.element)}const P=this.hasDocs(N,A);if(this.domNodes.signature.classList.toggle("has-docs",P),this.domNodes.docs.classList.toggle("empty",!P),this.domNodes.overloads.textContent=String(y.activeSignature+1).padStart(y.signatures.length.toString().length,"0")+"/"+y.signatures.length,A){let F="";const W=N.parameters[D];Array.isArray(W.label)?F=N.label.substring(W.label[0],W.label[1]):F=W.label,W.documentation&&(F+=typeof W.documentation=="string"?`, ${W.documentation}`:`, ${W.documentation.value}`),N.documentation&&(F+=typeof N.documentation=="string"?`, ${N.documentation}`:`, ${N.documentation.value}`),this.announcedLabel!==F&&(m.alert(o.localize(2,null,F)),this.announcedLabel=F)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(y){const w=this.renderDisposeables.add(this.markdownRenderer.render(y,{asyncRenderCallback:()=>{var T;(T=this.domNodes)===null||T===void 0||T.scrollbar.scanDomNode()}}));return w.element.classList.add("markdown-docs"),w}hasDocs(y,w){return!!(w&&typeof w.documentation=="string"&&(0,u.assertIsDefined)(w.documentation).length>0||w&&typeof w.documentation=="object"&&(0,u.assertIsDefined)(w.documentation).value.length>0||y.documentation&&typeof y.documentation=="string"&&(0,u.assertIsDefined)(y.documentation).length>0||y.documentation&&typeof y.documentation=="object"&&(0,u.assertIsDefined)(y.documentation.value).length>0)}renderParameters(y,w,T){const[N,R]=this.getParameterLabelOffsets(w,T),B=document.createElement("span");B.textContent=w.label.substring(0,N);const O=document.createElement("span");O.textContent=w.label.substring(N,R),O.className="parameter active";const D=document.createElement("span");D.textContent=w.label.substring(R),E.append(y,B,O,D)}getParameterLabelOffsets(y,w){const T=y.parameters[w];if(T){if(Array.isArray(T.label))return T.label;if(T.label.length){const N=new RegExp(`(\\W|^)${(0,v.escapeRegExpCharacters)(T.label)}(?=\\W|$)`,"g");N.test(y.label);const R=N.lastIndex-T.label.length;return R>=0?[R,N.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Fi.ID}trigger(y){this.model.trigger(y,0)}updateMaxHeight(){if(!this.domNodes)return;const w=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=w;const T=this.domNodes.element.getElementsByClassName("phwrapper");T.length&&(T[0].style.maxHeight=w)}};C.ID="editor.widget.parameterHintsWidget",C=Ie([fe(1,d.IContextKeyService),fe(2,r.IOpenerService),fe(3,i.ILanguageService),fe(4,f.ILanguageFeaturesService)],C),e.ParameterHintsWidget=C,e.editorHoverWidgetHighlightForeground=(0,c.registerColor)("editorHoverWidget.highlightForeground",{dark:c.listHighlightForeground,light:c.listHighlightForeground,hcDark:c.listHighlightForeground,hcLight:c.listHighlightForeground},o.localize(3,null)),(0,l.registerThemingParticipant)((S,y)=>{const w=S.getColor(c.editorHoverBorder);if(w){const A=(0,a.isHighContrast)(S.type)?2:1;y.addRule(`.monaco-editor .parameter-hints-widget { border: ${A}px solid ${w}; }`),y.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${w.transparent(.5)}; }`),y.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${w.transparent(.5)}; }`)}const T=S.getColor(c.editorHoverBackground);T&&y.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${T}; }`);const N=S.getColor(c.textLinkForeground);N&&y.addRule(`.monaco-editor .parameter-hints-widget a { color: ${N}; }`);const R=S.getColor(c.textLinkActiveForeground);R&&y.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${R}; }`);const B=S.getColor(c.editorHoverForeground);B&&y.addRule(`.monaco-editor .parameter-hints-widget { color: ${B}; }`);const O=S.getColor(c.textCodeBlockBackground);O&&y.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${O}; }`);const D=S.getColor(e.editorHoverWidgetHighlightForeground);D&&y.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${D}}`)})}),define(re[717],se([1,0,2,15,22,27,205,573,16,9,716]),function(U,e,E,m,k,I,L,_,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=void 0;let i=class Bi extends E.Disposable{constructor(r,c){super();this.editor=r,this.widget=this._register(c.createInstance(h.ParameterHintsWidget,this.editor))}static get(r){return r.getContribution(Bi.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(r){this.widget.trigger(r)}};i.ID="editor.controller.parameterHints",i=Ie([fe(1,u.IInstantiationService)],i);class n extends m.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:_.localize(0,null),alias:"Trigger Parameter Hints",precondition:k.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:k.EditorContextKeys.editorTextFocus,primary:2048|1024|10,weight:100}})}run(r,c){const s=i.get(c);s&&s.trigger({triggerKind:I.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=n,(0,m.registerEditorContribution)(i.ID,i),(0,m.registerEditorAction)(n);const t=100+75,o=m.EditorCommand.bindToContribution(i.get);(0,m.registerEditorCommand)(new o({id:"closeParameterHints",precondition:L.Context.Visible,handler:d=>d.cancel(),kbOpts:{weight:t,kbExpr:k.EditorContextKeys.focus,primary:9,secondary:[1024|9]}})),(0,m.registerEditorCommand)(new o({id:"showPrevParameterHint",precondition:v.ContextKeyExpr.and(L.Context.Visible,L.Context.MultipleSignatures),handler:d=>d.previous(),kbOpts:{weight:t,kbExpr:k.EditorContextKeys.focus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}})),(0,m.registerEditorCommand)(new o({id:"showNextParameterHint",precondition:v.ContextKeyExpr.and(L.Context.Visible,L.Context.MultipleSignatures),handler:d=>d.next(),kbOpts:{weight:t,kbExpr:k.EditorContextKeys.focus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}))}),define(re[718],se([1,0,34,7,198,28,4,64,2,25,33,27,636,49,37,587,278,77,14,287]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a){"use strict";var l;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=e.suggestMoreInfoIcon=e.getAriaId=void 0;function f(C){return`suggest-aria-id:${C}`}e.getAriaId=f,e.suggestMoreInfoIcon=(0,c.registerIcon)("suggest-more-info",I.Codicon.chevronRight,d.localize(0,null));const g=new(l=class Ut{extract(S,y){if(S.textLabel.match(Ut._regexStrict))return y[0]=S.textLabel,!0;if(S.completion.detail&&S.completion.detail.match(Ut._regexStrict))return y[0]=S.completion.detail,!0;if(typeof S.completion.documentation=="string"){const w=Ut._regexRelaxed.exec(S.completion.documentation);if(w&&(w.index===0||w.index+w[0].length===S.completion.documentation.length))return y[0]=w[0],!0}return!1}},l._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,l._regexStrict=new RegExp(`^${l._regexRelaxed.source}$`,"i"),l);let b=class{constructor(S,y,w,T){this._editor=S,this._modelService=y,this._languageService=w,this._themeService=T,this._onDidToggleDetails=new L.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(S){const y=Object.create(null);y.disposables=new v.DisposableStore,y.root=S,y.root.classList.add("show-file-icons"),y.icon=(0,m.append)(S,(0,m.$)(".icon")),y.colorspan=(0,m.append)(y.icon,(0,m.$)("span.colorspan"));const w=(0,m.append)(S,(0,m.$)(".contents")),T=(0,m.append)(w,(0,m.$)(".main"));y.iconContainer=(0,m.append)(T,(0,m.$)(".icon-label.codicon")),y.left=(0,m.append)(T,(0,m.$)("span.left")),y.right=(0,m.append)(T,(0,m.$)("span.right")),y.iconLabel=new k.IconLabel(y.left,{supportHighlights:!0,supportIcons:!0}),y.disposables.add(y.iconLabel),y.parametersLabel=(0,m.append)(y.left,(0,m.$)("span.signature-label")),y.qualifierLabel=(0,m.append)(y.left,(0,m.$)("span.qualifier-label")),y.detailsLabel=(0,m.append)(y.right,(0,m.$)("span.details-label")),y.readMore=(0,m.append)(y.right,(0,m.$)("span.readMore"+s.ThemeIcon.asCSSSelector(e.suggestMoreInfoIcon))),y.readMore.title=d.localize(1,null);const N=()=>{const R=this._editor.getOptions(),B=R.get(44),O=B.getMassagedFontFamily(E.isSafari?h.EDITOR_FONT_DEFAULTS.fontFamily:null),D=B.fontFeatureSettings,A=R.get(107)||B.fontSize,P=R.get(108)||B.lineHeight,F=B.fontWeight,W=`${A}px`,M=`${P}px`;y.root.style.fontSize=W,y.root.style.fontWeight=F,T.style.fontFamily=O,T.style.fontFeatureSettings=D,T.style.lineHeight=M,y.icon.style.height=M,y.icon.style.width=M,y.readMore.style.height=M,y.readMore.style.width=M};return N(),y.disposables.add(this._editor.onDidChangeConfiguration(R=>{(R.hasChanged(44)||R.hasChanged(107)||R.hasChanged(108))&&N()})),y}renderElement(S,y,w){const{completion:T}=S;w.root.id=f(y),w.colorspan.style.backgroundColor="";const N={labelEscapeNewLines:!0,matches:(0,_.createMatches)(S.score)};let R=[];if(T.kind===19&&g.extract(S,R))w.icon.className="icon customcolor",w.iconContainer.className="icon hide",w.colorspan.style.backgroundColor=R[0];else if(T.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){w.icon.className="icon hide",w.iconContainer.className="icon hide";const B=(0,n.getIconClasses)(this._modelService,this._languageService,u.URI.from({scheme:"fake",path:S.textLabel}),r.FileKind.FILE),O=(0,n.getIconClasses)(this._modelService,this._languageService,u.URI.from({scheme:"fake",path:T.detail}),r.FileKind.FILE);N.extraClasses=B.length>O.length?B:O}else T.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(w.icon.className="icon hide",w.iconContainer.className="icon hide",N.extraClasses=[(0,n.getIconClasses)(this._modelService,this._languageService,u.URI.from({scheme:"fake",path:S.textLabel}),r.FileKind.FOLDER),(0,n.getIconClasses)(this._modelService,this._languageService,u.URI.from({scheme:"fake",path:T.detail}),r.FileKind.FOLDER)].flat()):(w.icon.className="icon hide",w.iconContainer.className="",w.iconContainer.classList.add("suggest-icon",...I.CSSIcon.asClassNameArray(i.CompletionItemKinds.toIcon(T.kind))));T.tags&&T.tags.indexOf(1)>=0&&(N.extraClasses=(N.extraClasses||[]).concat(["deprecated"]),N.matches=[]),w.iconLabel.setLabel(S.textLabel,void 0,N),typeof T.label=="string"?(w.parametersLabel.textContent="",w.detailsLabel.textContent=p(T.detail||""),w.root.classList.add("string-label")):(w.parametersLabel.textContent=p(T.label.detail||""),w.detailsLabel.textContent=p(T.label.description||""),w.root.classList.remove("string-label")),this._editor.getOption(106).showInlineDetails?(0,m.show)(w.detailsLabel):(0,m.hide)(w.detailsLabel),(0,a.canExpandCompletionItem)(S)?(w.right.classList.add("can-expand-details"),(0,m.show)(w.readMore),w.readMore.onmousedown=B=>{B.stopPropagation(),B.preventDefault()},w.readMore.onclick=B=>{B.stopPropagation(),B.preventDefault(),this._onDidToggleDetails.fire()}):(w.right.classList.remove("can-expand-details"),(0,m.hide)(w.readMore),w.readMore.onmousedown=null,w.readMore.onclick=null)}disposeTemplate(S){S.disposables.dispose()}};b=Ie([fe(1,t.IModelService),fe(2,o.ILanguageService),fe(3,s.IThemeService)],b),e.ItemRenderer=b;function p(C){return C.replace(/\r\n|\r|\n/g,"")}}),define(re[719],se([1,0,7,88,48,2,111,9,711,77,14,398]),function(U,e,E,m,k,I,L,_,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const i=26;let n=class extends I.Disposable{constructor(d,r){super();this._editor=d,this.instantiationService=r,this.banner=this._register(this.instantiationService.createInstance(t))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(d){this.banner.show(Object.assign(Object.assign({},d),{onClose:()=>{this.hide(),d.onClose&&d.onClose()}})),this._editor.setBanner(this.banner.element,i)}};n=Ie([fe(1,_.IInstantiationService)],n),e.BannerController=n;let t=class extends I.Disposable{constructor(d){super();this.instantiationService=d,this.markdownRenderer=this.instantiationService.createInstance(L.MarkdownRenderer,{}),this.element=(0,E.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(d){if(d.ariaLabel)return d.ariaLabel;if(typeof d.message=="string")return d.message}getBannerMessage(d){if(typeof d=="string"){const r=(0,E.$)("span");return r.innerText=d,r}return this.markdownRenderer.render(d).element}clear(){(0,E.clearNode)(this.element)}show(d){(0,E.clearNode)(this.element);const r=this.getAriaLabel(d);r&&this.element.setAttribute("aria-label",r);const c=(0,E.append)(this.element,(0,E.$)("div.icon-container"));c.setAttribute("aria-hidden","true"),d.icon&&c.appendChild((0,E.$)(`div${h.ThemeIcon.asCSSSelector(d.icon)}`));const s=(0,E.append)(this.element,(0,E.$)("div.message-container"));if(s.setAttribute("aria-hidden","true"),s.appendChild(this.getBannerMessage(d.message)),this.messageActionsContainer=(0,E.append)(this.element,(0,E.$)("div.message-actions-container")),d.actions)for(const l of d.actions)this._register(this.instantiationService.createInstance(v.Link,this.messageActionsContainer,Object.assign(Object.assign({},l),{tabIndex:-1}),{}));const a=(0,E.append)(this.element,(0,E.$)("div.action-container"));this.actionBar=this._register(new m.ActionBar(a)),this.actionBar.push(this._register(new k.Action("banner.close","Close Banner",h.ThemeIcon.asClassName(u.widgetClose),!0,()=>{typeof d.onClose=="function"&&d.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};t=Ie([fe(0,_.IInstantiationService)],t)}),define(re[720],se([1,0,7,4,77,14]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnthemedProductIconTheme=e.getIconsStyleSheet=void 0;function L(v){const u=new m.Emitter,h=(0,k.getIconRegistry)();return h.onDidChange(()=>u.fire()),v==null||v.onDidProductIconThemeChange(()=>u.fire()),{onDidChange:u.event,getCSS(){const i=v?v.getProductIconTheme():new _,n={},t=d=>{const r=i.getIcon(d);if(!r)return;const c=r.font;return c?(n[c.id]=c.definition,`.codicon-${d.id}:before { content: '${r.fontCharacter}'; font-family: ${(0,E.asCSSPropertyValue)(c.id)}; }`):`.codicon-${d.id}:before { content: '${r.fontCharacter}'; }`},o=[];for(let d of h.getIcons()){const r=t(d);r&&o.push(r)}for(let d in n){const r=n[d],c=r.weight?`font-weight: ${r.weight};`:"",s=r.style?`font-style: ${r.style};`:"",a=r.src.map(l=>`${(0,E.asCSSUrl)(l.location)} format('${l.format}')`).join(", ");o.push(`@font-face { src: ${a}; font-family: ${(0,E.asCSSPropertyValue)(d)};${c}${s} font-display: block; }`)}return o.join(`
`)}}}e.getIconsStyleSheet=L;class _{getIcon(u){const h=(0,k.getIconRegistry)();let i=u.defaults;for(;I.ThemeIcon.isThemeIcon(i);){const n=h.getIcon(i.id);if(!n)return;i=n.defaults}return i}}e.UnthemedProductIconTheme=_}),define(re[721],se([1,0,7,34,30,4,27,429,673,38,23,14,2,58,720]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeService=void 0;const d="vs",r="vs-dark",c="hc-black",s="hc-light",a=u.Registry.as(h.Extensions.ColorContribution),l=u.Registry.as(i.Extensions.ThemingContribution);class f{constructor(y,w){this.semanticHighlighting=!1,this.themeData=w;const T=w.base;y.length>0?(g(y)?this.id=y:this.id=T+" "+y,this.themeName=y):(this.id=T,this.themeName=T),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const y=new Map;for(let w in this.themeData.colors)y.set(w,k.Color.fromHex(this.themeData.colors[w]));if(this.themeData.inherit){const w=b(this.themeData.base);for(let T in w.colors)y.has(T)||y.set(T,k.Color.fromHex(w.colors[T]))}this.colors=y}return this.colors}getColor(y,w){const T=this.getColors().get(y);if(T)return T;if(w!==!1)return this.getDefault(y)}getDefault(y){let w=this.defaultColors[y];return w||(w=a.resolveDefaultColor(y,this),this.defaultColors[y]=w,w)}defines(y){return Object.prototype.hasOwnProperty.call(this.getColors(),y)}get type(){switch(this.base){case d:return t.ColorScheme.LIGHT;case c:return t.ColorScheme.HIGH_CONTRAST_DARK;case s:return t.ColorScheme.HIGH_CONTRAST_LIGHT;default:return t.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let y=[],w=[];if(this.themeData.inherit){const R=b(this.themeData.base);y=R.rules,R.encodedTokensColors&&(w=R.encodedTokensColors)}const T=this.themeData.colors["editor.foreground"],N=this.themeData.colors["editor.background"];if(T||N){const R={token:""};T&&(R.foreground=T),N&&(R.background=N),y.push(R)}y=y.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(w=this.themeData.encodedTokensColors),this._tokenTheme=_.TokenTheme.createFromRawTokenTheme(y,w)}return this._tokenTheme}getTokenStyleMetadata(y,w,T){const R=this.tokenTheme._match([y].concat(w).join(".")).metadata,B=L.TokenMetadata.getForeground(R),O=L.TokenMetadata.getFontStyle(R);return{foreground:B,italic:Boolean(O&1),bold:Boolean(O&2),underline:Boolean(O&4),strikethrough:Boolean(O&8)}}}function g(S){return S===d||S===r||S===c||S===s}function b(S){switch(S){case d:return v.vs;case r:return v.vs_dark;case c:return v.hc_black;case s:return v.hc_light}}function p(S){const y=b(S);return new f(S,y)}class C extends n.Disposable{constructor(){super();this._onColorThemeChange=this._register(new I.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new I.Emitter),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new o.UnthemedProductIconTheme,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(d,p(d)),this._knownThemes.set(r,p(r)),this._knownThemes.set(c,p(c));const y=(0,o.getIconsStyleSheet)(this);this._codiconCSS=y.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(d),y.onDidChange(()=>{this._codiconCSS=y.getCSS(),this._updateCSS()}),(0,m.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(y){return E.isInShadowDOM(y)?this._registerShadowDomContainer(y):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=E.createStyleSheet(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),n.Disposable.None}_registerShadowDomContainer(y){const w=E.createStyleSheet(y);return w.className="monaco-colors",w.textContent=this._allCSS,this._styleElements.push(w),{dispose:()=>{for(let T=0;T<this._styleElements.length;T++)if(this._styleElements[T]===w){this._styleElements.splice(T,1);return}}}}defineTheme(y,w){if(!/^[a-z0-9\-]+$/i.test(y))throw new Error("Illegal theme name!");if(!g(w.base)&&!g(y))throw new Error("Illegal theme base!");this._knownThemes.set(y,new f(y,w)),g(y)&&this._knownThemes.forEach(T=>{T.base===y&&T.notifyBaseUpdated()}),this._theme.themeName===y&&this.setTheme(y)}getColorTheme(){return this._theme}setColorMapOverride(y){this._colorMapOverride=y,this._updateThemeOrColorMap()}setTheme(y){let w;this._knownThemes.has(y)?w=this._knownThemes.get(y):w=this._knownThemes.get(d),this._desiredTheme=w,this._updateActualTheme()}_updateActualTheme(){const y=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(c):this._desiredTheme;this._theme!==y&&(this._theme=y,this._updateThemeOrColorMap())}setAutoDetectHighContrast(y){this._autoDetectHighContrast=y,this._updateActualTheme()}_updateThemeOrColorMap(){const y=[],w={},T={addRule:B=>{w[B]||(y.push(B),w[B]=!0)}};l.getThemingParticipants().forEach(B=>B(this._theme,T,this._environment));const N=[];for(const B of a.getColors()){const O=this._theme.getColor(B.id,!0);O&&N.push(`${(0,h.asCssVariableName)(B.id)}: ${O.toString()};`)}T.addRule(`.monaco-editor { ${N.join(`
`)} }`);const R=this._colorMapOverride||this._theme.tokenTheme.getColorMap();T.addRule((0,_.generateTokensCSSForColorMap)(R)),this._themeCSS=y.join(`
`),this._updateCSS(),L.TokenizationRegistry.setColorMap(R),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(y=>y.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}e.StandaloneThemeService=C}),define(re[164],se([1,0,9]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,E.createDecorator)("undoRedoService");class m{constructor(_,v){this.resource=_,this.elements=v}}e.ResourceEditStackSnapshot=m;class k{constructor(){this.id=k._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=k,k._ID=0,k.None=new k;class I{constructor(){this.id=I._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=I,I._ID=0,I.None=new I}),define(re[36],se([1,0,18,30,13,4,2,8,25,124,180,11,3,24,148,37,31,47,442,664,277,254,433,434,251,437,153,452,96,164]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g,b,p,C,S,y,w,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeContentEmitter=e.DidChangeDecorationsEmitter=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=e.LONG_LINE_BOUNDARY=e.createTextBuffer=e.createTextBufferFactory=void 0;function N(){return new C.PieceTreeTextBufferBuilder}function R(ae){const Q=N();return Q.acceptChunk(ae),Q.finish()}e.createTextBufferFactory=R;function B(ae,Q){return(typeof ae=="string"?R(ae):ae).create(Q)}e.createTextBuffer=B;let O=0;const D=999;e.LONG_LINE_BOUNDARY=1e4;class A{constructor(Q){this._source=Q,this._eos=!1}read(){if(this._eos)return null;const Q=[];let q=0,Z=0;do{const j=this._source.read();if(j===null)return this._eos=!0,q===0?null:Q.join("");if(j.length>0&&(Q[q++]=j,Z+=j.length),Z>=64*1024)return Q.join("")}while(!0)}}const P=()=>{throw new Error("Invalid change accessor")};let F=class Mt extends L.Disposable{constructor(Q,q,Z,j=null,$,H,te){super();this._undoRedoService=$,this._languageService=H,this._languageConfigurationService=te,this._onWillDispose=this._register(new I.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new K(ve=>this.handleBeforeFireDecorationsChangedEvent(ve))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new I.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new I.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new I.Emitter),this._eventEmitter=this._register(new le),O++,this.id="$model"+O,this.isForSimpleWidget=Z.isForSimpleWidget,typeof j=="undefined"||j===null?this._associatedResource=v.URI.parse("inmemory://model/"+O):this._associatedResource=j,this._attachedEditorCount=0;const{textBuffer:ne,disposable:de}=B(Q,Z.defaultEOL);this._buffer=ne,this._bufferDisposable=de,this._options=Mt.resolveOptions(this._buffer,Z),this._bracketPairs=this._register(new s.BracketPairsTextModelPart(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new f.GuidesTextModelPart(this,this._languageConfigurationService)),this._decorationProvider=this._register(new a.ColorizedBracketPairsDecorationProvider(this)),this._tokenizationTextModelPart=new y.TokenizationTextModelPart(this._languageService,this._languageConfigurationService,this,this._bracketPairs,q);const he=this._buffer.getLineCount(),pe=this._buffer.getValueLengthInRange(new n.Range(1,1,he,this._buffer.getLineLength(he)+1),0);Z.largeFileOptimizations?this._isTooLargeForTokenization=pe>Mt.LARGE_FILE_SIZE_THRESHOLD||he>Mt.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=pe>Mt.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=_.singleLetterHash(O),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new ee,this._commandManager=new l.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(Q,q){if(q.detectIndentation){const Z=(0,g.guessIndentation)(Q,q.tabSize,q.insertSpaces);return new c.TextModelResolvedOptions({tabSize:Z.tabSize,indentSize:Z.tabSize,insertSpaces:Z.insertSpaces,trimAutoWhitespace:q.trimAutoWhitespace,defaultEOL:q.defaultEOL,bracketPairColorizationOptions:q.bracketPairColorizationOptions})}return new c.TextModelResolvedOptions({tabSize:q.tabSize,indentSize:q.indentSize,insertSpaces:q.insertSpaces,trimAutoWhitespace:q.trimAutoWhitespace,defaultEOL:q.defaultEOL,bracketPairColorizationOptions:q.bracketPairColorizationOptions})}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(Q){return this._eventEmitter.slowEvent(q=>Q(q.contentChangedEvent))}onDidChangeContentOrInjectedText(Q){return(0,L.combinedDisposable)(this._eventEmitter.fastEvent(q=>Q(q)),this._onDidChangeInjectedText.event(q=>Q(q)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const Q=new p.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);Q.dispose(),this._buffer=Q,this._bufferDisposable=L.Disposable.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(Q,q){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(q),this._bracketPairs.handleDidChangeContent(q),this._eventEmitter.fire(new w.InternalModelContentChangeEvent(Q,q)))}setValue(Q){if(this._assertNotDisposed(),Q===null)return;const{textBuffer:q,disposable:Z}=B(Q,this._options.defaultEOL);this._setValueFromTextBuffer(q,Z)}_createContentChanged2(Q,q,Z,j,$,H,te){return{changes:[{range:Q,rangeOffset:q,rangeLength:Z,text:j}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:$,isRedoing:H,isFlush:te}}_setValueFromTextBuffer(Q,q){this._assertNotDisposed();const Z=this.getFullModelRange(),j=this.getValueLengthInRange(Z),$=this.getLineCount(),H=this.getLineMaxColumn($);this._buffer=Q,this._bufferDisposable.dispose(),this._bufferDisposable=q,this._increaseVersionId(),this._tokenizationTextModelPart.flush(),this._decorations=Object.create(null),this._decorationsTree=new ee,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new w.ModelRawContentChangedEvent([new w.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new n.Range(1,1,$,H),0,j,this.getValue(),!1,!1,!0))}setEOL(Q){this._assertNotDisposed();const q=Q===1?`\r
`:`
`;if(this._buffer.getEOL()===q)return;const Z=this.getFullModelRange(),j=this.getValueLengthInRange(Z),$=this.getLineCount(),H=this.getLineMaxColumn($);this._onBeforeEOLChange(),this._buffer.setEOL(q),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new w.ModelRawContentChangedEvent([new w.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new n.Range(1,1,$,H),0,j,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const Q=this.getVersionId(),q=this._decorationsTree.collectNodesPostOrder();for(let Z=0,j=q.length;Z<j;Z++){const $=q[Z],H=$.range,te=$.cachedAbsoluteStart-$.start,ne=this._buffer.getOffsetAt(H.startLineNumber,H.startColumn),de=this._buffer.getOffsetAt(H.endLineNumber,H.endColumn);$.cachedAbsoluteStart=ne,$.cachedAbsoluteEnd=de,$.cachedVersionId=Q,$.start=ne-te,$.end=de-te,(0,b.recomputeMaxEnd)($)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let Q=0,q=0;const Z=this._buffer.getLineCount();for(let j=1;j<=Z;j++){const $=this._buffer.getLineLength(j);$>=e.LONG_LINE_BOUNDARY?q+=$:Q+=$}return q>Q}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(Q){this._assertNotDisposed();const q=typeof Q.tabSize!="undefined"?Q.tabSize:this._options.tabSize,Z=typeof Q.indentSize!="undefined"?Q.indentSize:this._options.indentSize,j=typeof Q.insertSpaces!="undefined"?Q.insertSpaces:this._options.insertSpaces,$=typeof Q.trimAutoWhitespace!="undefined"?Q.trimAutoWhitespace:this._options.trimAutoWhitespace,H=typeof Q.bracketColorizationOptions!="undefined"?Q.bracketColorizationOptions:this._options.bracketPairColorizationOptions,te=new c.TextModelResolvedOptions({tabSize:q,indentSize:Z,insertSpaces:j,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:$,bracketPairColorizationOptions:H});if(this._options.equals(te))return;const ne=this._options.createChangeEvent(te);this._options=te,this._bracketPairs.handleDidChangeOptions(ne),this._decorationProvider.handleDidChangeOptions(ne),this._onDidChangeOptions.fire(ne)}detectIndentation(Q,q){this._assertNotDisposed();const Z=(0,g.guessIndentation)(this._buffer,q,Q);this.updateOptions({insertSpaces:Z.insertSpaces,tabSize:Z.tabSize,indentSize:Z.tabSize})}normalizeIndentation(Q){return this._assertNotDisposed(),(0,h.normalizeIndentation)(Q,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(Q=null){const q=this.findMatches(_.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(Q,q.map(Z=>({range:Z.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(Q){this._assertNotDisposed();const q=this._validatePosition(Q.lineNumber,Q.column,0);return this._buffer.getOffsetAt(q.lineNumber,q.column)}getPositionAt(Q){this._assertNotDisposed();const q=Math.min(this._buffer.getLength(),Math.max(0,Q));return this._buffer.getPositionAt(q)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(Q){this._versionId=Q}_overwriteAlternativeVersionId(Q){this._alternativeVersionId=Q}_overwriteInitialUndoRedoSnapshot(Q){this._initialUndoRedoSnapshot=Q}getValue(Q,q=!1){this._assertNotDisposed();const Z=this.getFullModelRange(),j=this.getValueInRange(Z,Q);return q?this._buffer.getBOM()+j:j}createSnapshot(Q=!1){return new A(this._buffer.createSnapshot(Q))}getValueLength(Q,q=!1){this._assertNotDisposed();const Z=this.getFullModelRange(),j=this.getValueLengthInRange(Z,Q);return q?this._buffer.getBOM().length+j:j}getValueInRange(Q,q=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(Q),q)}getValueLengthInRange(Q,q=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(Q),q)}getCharacterCountInRange(Q,q=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(Q),q)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(Q){if(this._assertNotDisposed(),Q<1||Q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(Q)}getLineLength(Q){if(this._assertNotDisposed(),Q<1||Q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(Q)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(Q){return this._assertNotDisposed(),1}getLineMaxColumn(Q){if(this._assertNotDisposed(),Q<1||Q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(Q)+1}getLineFirstNonWhitespaceColumn(Q){if(this._assertNotDisposed(),Q<1||Q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(Q)}getLineLastNonWhitespaceColumn(Q){if(this._assertNotDisposed(),Q<1||Q>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(Q)}_validateRangeRelaxedNoAllocations(Q){const q=this._buffer.getLineCount(),Z=Q.startLineNumber,j=Q.startColumn;let $=Math.floor(typeof Z=="number"&&!isNaN(Z)?Z:1),H=Math.floor(typeof j=="number"&&!isNaN(j)?j:1);if($<1)$=1,H=1;else if($>q)$=q,H=this.getLineMaxColumn($);else if(H<=1)H=1;else{const pe=this.getLineMaxColumn($);H>=pe&&(H=pe)}const te=Q.endLineNumber,ne=Q.endColumn;let de=Math.floor(typeof te=="number"&&!isNaN(te)?te:1),he=Math.floor(typeof ne=="number"&&!isNaN(ne)?ne:1);if(de<1)de=1,he=1;else if(de>q)de=q,he=this.getLineMaxColumn(de);else if(he<=1)he=1;else{const pe=this.getLineMaxColumn(de);he>=pe&&(he=pe)}return Z===$&&j===H&&te===de&&ne===he&&Q instanceof n.Range&&!(Q instanceof t.Selection)?Q:new n.Range($,H,de,he)}_isValidPosition(Q,q,Z){if(typeof Q!="number"||typeof q!="number"||isNaN(Q)||isNaN(q)||Q<1||q<1||(Q|0)!==Q||(q|0)!==q)return!1;const j=this._buffer.getLineCount();if(Q>j)return!1;if(q===1)return!0;const $=this.getLineMaxColumn(Q);if(q>$)return!1;if(Z===1){const H=this._buffer.getLineCharCode(Q,q-2);if(_.isHighSurrogate(H))return!1}return!0}_validatePosition(Q,q,Z){const j=Math.floor(typeof Q=="number"&&!isNaN(Q)?Q:1),$=Math.floor(typeof q=="number"&&!isNaN(q)?q:1),H=this._buffer.getLineCount();if(j<1)return new i.Position(1,1);if(j>H)return new i.Position(H,this.getLineMaxColumn(H));if($<=1)return new i.Position(j,1);const te=this.getLineMaxColumn(j);if($>=te)return new i.Position(j,te);if(Z===1){const ne=this._buffer.getLineCharCode(j,$-2);if(_.isHighSurrogate(ne))return new i.Position(j,$-1)}return new i.Position(j,$)}validatePosition(Q){const q=1;return this._assertNotDisposed(),Q instanceof i.Position&&this._isValidPosition(Q.lineNumber,Q.column,q)?Q:this._validatePosition(Q.lineNumber,Q.column,q)}_isValidRange(Q,q){const Z=Q.startLineNumber,j=Q.startColumn,$=Q.endLineNumber,H=Q.endColumn;if(!this._isValidPosition(Z,j,0)||!this._isValidPosition($,H,0))return!1;if(q===1){const te=j>1?this._buffer.getLineCharCode(Z,j-2):0,ne=H>1&&H<=this._buffer.getLineLength($)?this._buffer.getLineCharCode($,H-2):0,de=_.isHighSurrogate(te),he=_.isHighSurrogate(ne);return!de&&!he}return!0}validateRange(Q){const q=1;if(this._assertNotDisposed(),Q instanceof n.Range&&!(Q instanceof t.Selection)&&this._isValidRange(Q,q))return Q;const Z=this._validatePosition(Q.startLineNumber,Q.startColumn,0),j=this._validatePosition(Q.endLineNumber,Q.endColumn,0),$=Z.lineNumber,H=Z.column,te=j.lineNumber,ne=j.column;if(q===1){const de=H>1?this._buffer.getLineCharCode($,H-2):0,he=ne>1&&ne<=this._buffer.getLineLength(te)?this._buffer.getLineCharCode(te,ne-2):0,pe=_.isHighSurrogate(de),ve=_.isHighSurrogate(he);return!pe&&!ve?new n.Range($,H,te,ne):$===te&&H===ne?new n.Range($,H-1,te,ne-1):pe&&ve?new n.Range($,H-1,te,ne+1):pe?new n.Range($,H-1,te,ne):new n.Range($,H,te,ne+1)}return new n.Range($,H,te,ne)}modifyPosition(Q,q){this._assertNotDisposed();const Z=this.getOffsetAt(Q)+q;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,Z)))}getFullModelRange(){this._assertNotDisposed();const Q=this.getLineCount();return new n.Range(1,1,Q,this.getLineMaxColumn(Q))}findMatchesLineByLine(Q,q,Z,j){return this._buffer.findMatchesLineByLine(Q,q,Z,j)}findMatches(Q,q,Z,j,$,H,te=D){this._assertNotDisposed();let ne=null;q!==null&&(Array.isArray(q)||(q=[q]),q.every(pe=>n.Range.isIRange(pe))&&(ne=q.map(pe=>this.validateRange(pe)))),ne===null&&(ne=[this.getFullModelRange()]),ne=ne.sort((pe,ve)=>pe.startLineNumber-ve.startLineNumber||pe.startColumn-ve.startColumn);const de=[];de.push(ne.reduce((pe,ve)=>n.Range.areIntersecting(pe,ve)?pe.plusRange(ve):(de.push(pe),ve)));let he;if(!Z&&Q.indexOf(`
`)<0){const ve=new S.SearchParams(Q,Z,j,$).parseSearchRequest();if(!ve)return[];he=ue=>this.findMatchesLineByLine(ue,ve,H,te)}else he=pe=>S.TextModelSearch.findMatches(this,new S.SearchParams(Q,Z,j,$),pe,H,te);return de.map(he).reduce((pe,ve)=>pe.concat(ve),[])}findNextMatch(Q,q,Z,j,$,H){this._assertNotDisposed();const te=this.validatePosition(q);if(!Z&&Q.indexOf(`
`)<0){const de=new S.SearchParams(Q,Z,j,$).parseSearchRequest();if(!de)return null;const he=this.getLineCount();let pe=new n.Range(te.lineNumber,te.column,he,this.getLineMaxColumn(he)),ve=this.findMatchesLineByLine(pe,de,H,1);return S.TextModelSearch.findNextMatch(this,new S.SearchParams(Q,Z,j,$),te,H),ve.length>0||(pe=new n.Range(1,1,te.lineNumber,this.getLineMaxColumn(te.lineNumber)),ve=this.findMatchesLineByLine(pe,de,H,1),ve.length>0)?ve[0]:null}return S.TextModelSearch.findNextMatch(this,new S.SearchParams(Q,Z,j,$),te,H)}findPreviousMatch(Q,q,Z,j,$,H){this._assertNotDisposed();const te=this.validatePosition(q);return S.TextModelSearch.findPreviousMatch(this,new S.SearchParams(Q,Z,j,$),te,H)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(Q){if((this.getEOL()===`
`?0:1)!==Q)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(Q)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(Q){return Q instanceof c.ValidAnnotatedEditOperation?Q:new c.ValidAnnotatedEditOperation(Q.identifier||null,this.validateRange(Q.range),Q.text,Q.forceMoveMarkers||!1,Q.isAutoWhitespaceEdit||!1,Q._isTracked||!1)}_validateEditOperations(Q){const q=[];for(let Z=0,j=Q.length;Z<j;Z++)q[Z]=this._validateEditOperation(Q[Z]);return q}pushEditOperations(Q,q,Z){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(Q,this._validateEditOperations(q),Z)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(Q,q,Z){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const j=q.map(H=>({range:this.validateRange(H.range),text:H.text}));let $=!0;if(Q)for(let H=0,te=Q.length;H<te;H++){const ne=Q[H];let de=!1;for(let he=0,pe=j.length;he<pe;he++){const ve=j[he].range,ue=ve.startLineNumber>ne.endLineNumber,Ce=ne.startLineNumber>ve.endLineNumber;if(!ue&&!Ce){de=!0;break}}if(!de){$=!1;break}}if($)for(let H=0,te=this._trimAutoWhitespaceLines.length;H<te;H++){const ne=this._trimAutoWhitespaceLines[H],de=this.getLineMaxColumn(ne);let he=!0;for(let pe=0,ve=j.length;pe<ve;pe++){const ue=j[pe].range,Ce=j[pe].text;if(!(ne<ue.startLineNumber||ne>ue.endLineNumber)&&!(ne===ue.startLineNumber&&ue.startColumn===de&&ue.isEmpty()&&Ce&&Ce.length>0&&Ce.charAt(0)===`
`)&&!(ne===ue.startLineNumber&&ue.startColumn===1&&ue.isEmpty()&&Ce&&Ce.length>0&&Ce.charAt(Ce.length-1)===`
`)){he=!1;break}}if(he){const pe=new n.Range(ne,1,ne,de);q.push(new c.ValidAnnotatedEditOperation(null,pe,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(Q,q,Z)}_applyUndo(Q,q,Z,j){const $=Q.map(H=>{const te=this.getPositionAt(H.newPosition),ne=this.getPositionAt(H.newEnd);return{range:new n.Range(te.lineNumber,te.column,ne.lineNumber,ne.column),text:H.oldText}});this._applyUndoRedoEdits($,q,!0,!1,Z,j)}_applyRedo(Q,q,Z,j){const $=Q.map(H=>{const te=this.getPositionAt(H.oldPosition),ne=this.getPositionAt(H.oldEnd);return{range:new n.Range(te.lineNumber,te.column,ne.lineNumber,ne.column),text:H.newText}});this._applyUndoRedoEdits($,q,!1,!0,Z,j)}_applyUndoRedoEdits(Q,q,Z,j,$,H){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=Z,this._isRedoing=j,this.applyEdits(Q,!1),this.setEOL(q),this._overwriteAlternativeVersionId($)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(H),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(Q,q=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const Z=this._validateEditOperations(Q);return this._doApplyEdits(Z,q)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(Q,q){const Z=this._buffer.getLineCount(),j=this._buffer.applyEdits(Q,this._options.trimAutoWhitespace,q),$=this._buffer.getLineCount(),H=j.changes;if(this._trimAutoWhitespaceLines=j.trimAutoWhitespaceLineNumbers,H.length!==0){for(let de=0,he=H.length;de<he;de++){const pe=H[de],[ve,ue,Ce]=(0,u.countEOL)(pe.text);this._tokenizationTextModelPart.acceptEdit(pe.range,pe.text,ve,ue,Ce),this._decorationsTree.acceptReplace(pe.rangeOffset,pe.rangeLength,pe.text.length,pe.forceMoveMarkers)}const te=[];this._increaseVersionId();let ne=Z;for(let de=0,he=H.length;de<he;de++){const pe=H[de],[ve]=(0,u.countEOL)(pe.text);this._onDidChangeDecorations.fire();const ue=pe.range.startLineNumber,Ce=pe.range.endLineNumber,me=Ce-ue,be=ve,ce=Math.min(me,be),ge=be-me,_e=$-ne-ge+ue,ye=_e,Me=_e+be,ke=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new i.Position(ye,1)),this.getOffsetAt(new i.Position(Me,this.getLineMaxColumn(Me))),0),Te=w.LineInjectedText.fromDecorations(ke),Oe=new E.ArrayQueue(Te);for(let Be=ce;Be>=0;Be--){const xe=ue+Be,Ke=_e+Be;Oe.takeFromEndWhile(we=>we.lineNumber>Ke);const Ze=Oe.takeFromEndWhile(we=>we.lineNumber===Ke);te.push(new w.ModelRawLineChanged(xe,this.getLineContent(Ke),Ze))}if(ce<me){const Be=ue+ce;te.push(new w.ModelRawLinesDeleted(Be+1,Ce))}if(ce<be){const Be=new E.ArrayQueue(Te),xe=ue+ce,Ke=be-ce,Ze=$-ne-Ke+xe+1,we=[],Se=[];for(let De=0;De<Ke;De++){const Pe=Ze+De;Se[De]=this.getLineContent(Pe),Be.takeWhile(ze=>ze.lineNumber<Pe),we[De]=Be.takeWhile(ze=>ze.lineNumber===Pe)}te.push(new w.ModelRawLinesInserted(xe+1,ue+be,Se,we))}ne+=ge}this._emitContentChangedEvent(new w.ModelRawContentChangedEvent(te,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:H,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return j.reverseEdits===null?void 0:j.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(Q){if(Q===null||Q.size===0)return;const Z=Array.from(Q).map(j=>new w.ModelRawLineChanged(j,this.getLineContent(j),this._getInjectedTextInLine(j)));this._onDidChangeInjectedText.fire(new w.ModelInjectedTextChangedEvent(Z))}changeDecorations(Q,q=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(q,Q)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(Q,q){const Z={addDecoration:($,H)=>this._deltaDecorationsImpl(Q,[],[{range:$,options:H}])[0],changeDecoration:($,H)=>{this._changeDecorationImpl($,H)},changeDecorationOptions:($,H)=>{this._changeDecorationOptionsImpl($,V(H))},removeDecoration:$=>{this._deltaDecorationsImpl(Q,[$],[])},deltaDecorations:($,H)=>$.length===0&&H.length===0?[]:this._deltaDecorationsImpl(Q,$,H)};let j=null;try{j=q(Z)}catch($){(0,k.onUnexpectedError)($)}return Z.addDecoration=P,Z.changeDecoration=P,Z.changeDecorationOptions=P,Z.removeDecoration=P,Z.deltaDecorations=P,j}deltaDecorations(Q,q,Z=0){if(this._assertNotDisposed(),Q||(Q=[]),Q.length===0&&q.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(Z,Q,q)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(Q){return this.getDecorationRange(Q)}_setTrackedRange(Q,q,Z){const j=Q?this._decorations[Q]:null;if(!j)return q?this._deltaDecorationsImpl(0,[],[{range:q,options:x[Z]}])[0]:null;if(!q)return this._decorationsTree.delete(j),delete this._decorations[j.id],null;const $=this._validateRangeRelaxedNoAllocations(q),H=this._buffer.getOffsetAt($.startLineNumber,$.startColumn),te=this._buffer.getOffsetAt($.endLineNumber,$.endColumn);return this._decorationsTree.delete(j),j.reset(this.getVersionId(),H,te,$),j.setOptions(x[Z]),this._decorationsTree.insert(j),j.id}removeAllDecorationsWithOwnerId(Q){if(this._isDisposed)return;const q=this._decorationsTree.collectNodesFromOwner(Q);for(let Z=0,j=q.length;Z<j;Z++){const $=q[Z];this._decorationsTree.delete($),delete this._decorations[$.id]}}getDecorationOptions(Q){const q=this._decorations[Q];return q?q.options:null}getDecorationRange(Q){const q=this._decorations[Q];return q?this._decorationsTree.getNodeRange(this,q):null}getLineDecorations(Q,q=0,Z=!1){return Q<1||Q>this.getLineCount()?[]:this.getLinesDecorations(Q,Q,q,Z)}getLinesDecorations(Q,q,Z=0,j=!1){const $=this.getLineCount(),H=Math.min($,Math.max(1,Q)),te=Math.min($,Math.max(1,q)),ne=this.getLineMaxColumn(te),de=new n.Range(H,1,te,ne),he=this._getDecorationsInRange(de,Z,j);return(0,E.pushMany)(he,this._decorationProvider.getDecorationsInRange(de,Z,j)),he}getDecorationsInRange(Q,q=0,Z=!1){const j=this.validateRange(Q),$=this._getDecorationsInRange(j,q,Z);return(0,E.pushMany)($,this._decorationProvider.getDecorationsInRange(j,q,Z)),$}getOverviewRulerDecorations(Q=0,q=!1){return this._decorationsTree.getAll(this,Q,q,!0)}getInjectedTextDecorations(Q=0){return this._decorationsTree.getAllInjectedText(this,Q)}_getInjectedTextInLine(Q){const q=this._buffer.getOffsetAt(Q,1),Z=q+this._buffer.getLineLength(Q),j=this._decorationsTree.getInjectedTextInInterval(this,q,Z,0);return w.LineInjectedText.fromDecorations(j).filter($=>$.lineNumber===Q)}getAllDecorations(Q=0,q=!1){let Z=this._decorationsTree.getAll(this,Q,q,!1);return Z=Z.concat(this._decorationProvider.getAllDecorations(Q,q)),Z}_getDecorationsInRange(Q,q,Z){const j=this._buffer.getOffsetAt(Q.startLineNumber,Q.startColumn),$=this._buffer.getOffsetAt(Q.endLineNumber,Q.endColumn);return this._decorationsTree.getAllInInterval(this,j,$,q,Z)}getRangeAt(Q,q){return this._buffer.getRangeAt(Q,q-Q)}_changeDecorationImpl(Q,q){const Z=this._decorations[Q];if(!Z)return;if(Z.options.after){const te=this.getDecorationRange(Q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(te.endLineNumber)}if(Z.options.before){const te=this.getDecorationRange(Q);this._onDidChangeDecorations.recordLineAffectedByInjectedText(te.startLineNumber)}const j=this._validateRangeRelaxedNoAllocations(q),$=this._buffer.getOffsetAt(j.startLineNumber,j.startColumn),H=this._buffer.getOffsetAt(j.endLineNumber,j.endColumn);this._decorationsTree.delete(Z),Z.reset(this.getVersionId(),$,H,j),this._decorationsTree.insert(Z),this._onDidChangeDecorations.checkAffectedAndFire(Z.options),Z.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(j.endLineNumber),Z.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(j.startLineNumber)}_changeDecorationOptionsImpl(Q,q){const Z=this._decorations[Q];if(!Z)return;const j=!!(Z.options.overviewRuler&&Z.options.overviewRuler.color),$=!!(q.overviewRuler&&q.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(Z.options),this._onDidChangeDecorations.checkAffectedAndFire(q),Z.options.after||q.after){const H=this._decorationsTree.getNodeRange(this,Z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(H.endLineNumber)}if(Z.options.before||q.before){const H=this._decorationsTree.getNodeRange(this,Z);this._onDidChangeDecorations.recordLineAffectedByInjectedText(H.startLineNumber)}j!==$?(this._decorationsTree.delete(Z),Z.setOptions(q),this._decorationsTree.insert(Z)):Z.setOptions(q)}_deltaDecorationsImpl(Q,q,Z){const j=this.getVersionId(),$=q.length;let H=0;const te=Z.length;let ne=0;const de=new Array(te);for(;H<$||ne<te;){let he=null;if(H<$){do he=this._decorations[q[H++]];while(!he&&H<$);if(he){if(he.options.after){const pe=this._decorationsTree.getNodeRange(this,he);this._onDidChangeDecorations.recordLineAffectedByInjectedText(pe.endLineNumber)}if(he.options.before){const pe=this._decorationsTree.getNodeRange(this,he);this._onDidChangeDecorations.recordLineAffectedByInjectedText(pe.startLineNumber)}this._decorationsTree.delete(he),this._onDidChangeDecorations.checkAffectedAndFire(he.options)}}if(ne<te){if(!he){const be=++this._lastDecorationId,ce=`${this._instanceId};${be}`;he=new b.IntervalNode(ce,0,0),this._decorations[ce]=he}const pe=Z[ne],ve=this._validateRangeRelaxedNoAllocations(pe.range),ue=V(pe.options),Ce=this._buffer.getOffsetAt(ve.startLineNumber,ve.startColumn),me=this._buffer.getOffsetAt(ve.endLineNumber,ve.endColumn);he.ownerId=Q,he.reset(j,Ce,me,ve),he.setOptions(ue),he.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.endLineNumber),he.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(ue),this._decorationsTree.insert(he),de[ne]=he.id,ne++}else he&&delete this._decorations[he.id]}return de}getLanguageId(){return this.tokenization.getLanguageId()}setMode(Q){this.tokenization.setLanguageId(Q)}getLanguageIdAtPosition(Q,q){return this.tokenization.getLanguageIdAtPosition(Q,q)}getWordAtPosition(Q){return this._tokenizationTextModelPart.getWordAtPosition(Q)}getWordUntilPosition(Q){return this._tokenizationTextModelPart.getWordUntilPosition(Q)}normalizePosition(Q,q){return Q}getLineIndentColumn(Q){return W(this.getLineContent(Q))+1}};F.MODEL_SYNC_LIMIT=50*1024*1024,F.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,F.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,F.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:o.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:o.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:o.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:o.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:o.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:o.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},F=Ie([fe(4,T.IUndoRedoService),fe(5,d.ILanguageService),fe(6,r.ILanguageConfigurationService)],F),e.TextModel=F;function W(ae){let Q=0;for(const q of ae)if(q===" "||q==="	")Q++;else break;return Q}function M(ae){return!!(ae.options.overviewRuler&&ae.options.overviewRuler.color)}function z(ae){return!!ae.options.after||!!ae.options.before}class ee{constructor(){this._decorationsTree0=new b.IntervalTree,this._decorationsTree1=new b.IntervalTree,this._injectedTextDecorationsTree=new b.IntervalTree}ensureAllNodesHaveRanges(Q){this.getAll(Q,0,!1,!1)}_ensureNodesHaveRanges(Q,q){for(const Z of q)Z.range===null&&(Z.range=Q.getRangeAt(Z.cachedAbsoluteStart,Z.cachedAbsoluteEnd));return q}getAllInInterval(Q,q,Z,j,$){const H=Q.getVersionId(),te=this._intervalSearch(q,Z,j,$,H);return this._ensureNodesHaveRanges(Q,te)}_intervalSearch(Q,q,Z,j,$){const H=this._decorationsTree0.intervalSearch(Q,q,Z,j,$),te=this._decorationsTree1.intervalSearch(Q,q,Z,j,$),ne=this._injectedTextDecorationsTree.intervalSearch(Q,q,Z,j,$);return H.concat(te).concat(ne)}getInjectedTextInInterval(Q,q,Z,j){const $=Q.getVersionId(),H=this._injectedTextDecorationsTree.intervalSearch(q,Z,j,!1,$);return this._ensureNodesHaveRanges(Q,H).filter(te=>te.options.showIfCollapsed||!te.range.isEmpty())}getAllInjectedText(Q,q){const Z=Q.getVersionId(),j=this._injectedTextDecorationsTree.search(q,!1,Z);return this._ensureNodesHaveRanges(Q,j).filter($=>$.options.showIfCollapsed||!$.range.isEmpty())}getAll(Q,q,Z,j){const $=Q.getVersionId(),H=this._search(q,Z,j,$);return this._ensureNodesHaveRanges(Q,H)}_search(Q,q,Z,j){if(Z)return this._decorationsTree1.search(Q,q,j);{const $=this._decorationsTree0.search(Q,q,j),H=this._decorationsTree1.search(Q,q,j),te=this._injectedTextDecorationsTree.search(Q,q,j);return $.concat(H).concat(te)}}collectNodesFromOwner(Q){const q=this._decorationsTree0.collectNodesFromOwner(Q),Z=this._decorationsTree1.collectNodesFromOwner(Q),j=this._injectedTextDecorationsTree.collectNodesFromOwner(Q);return q.concat(Z).concat(j)}collectNodesPostOrder(){const Q=this._decorationsTree0.collectNodesPostOrder(),q=this._decorationsTree1.collectNodesPostOrder(),Z=this._injectedTextDecorationsTree.collectNodesPostOrder();return Q.concat(q).concat(Z)}insert(Q){z(Q)?this._injectedTextDecorationsTree.insert(Q):M(Q)?this._decorationsTree1.insert(Q):this._decorationsTree0.insert(Q)}delete(Q){z(Q)?this._injectedTextDecorationsTree.delete(Q):M(Q)?this._decorationsTree1.delete(Q):this._decorationsTree0.delete(Q)}getNodeRange(Q,q){const Z=Q.getVersionId();return q.cachedVersionId!==Z&&this._resolveNode(q,Z),q.range===null&&(q.range=Q.getRangeAt(q.cachedAbsoluteStart,q.cachedAbsoluteEnd)),q.range}_resolveNode(Q,q){z(Q)?this._injectedTextDecorationsTree.resolveNode(Q,q):M(Q)?this._decorationsTree1.resolveNode(Q,q):this._decorationsTree0.resolveNode(Q,q)}acceptReplace(Q,q,Z,j){this._decorationsTree0.acceptReplace(Q,q,Z,j),this._decorationsTree1.acceptReplace(Q,q,Z,j),this._injectedTextDecorationsTree.acceptReplace(Q,q,Z,j)}}function ie(ae){return ae.replace(/[^a-z0-9\-_]/gi," ")}class Y{constructor(Q){this.color=Q.color||"",this.darkColor=Q.darkColor||""}}class X extends Y{constructor(Q){super(Q);this._resolvedColor=null,this.position=typeof Q.position=="number"?Q.position:c.OverviewRulerLane.Center}getColor(Q){return this._resolvedColor||(Q.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,Q):this._resolvedColor=this._resolveColor(this.color,Q)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(Q,q){if(typeof Q=="string")return Q;const Z=Q?q.getColor(Q.id):null;return Z?Z.toString():""}}e.ModelDecorationOverviewRulerOptions=X;class J extends Y{constructor(Q){super(Q);this.position=Q.position}getColor(Q){return this._resolvedColor||(Q.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,Q):this._resolvedColor=this._resolveColor(this.color,Q)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(Q,q){return typeof Q=="string"?m.Color.fromHex(Q):q.getColor(Q.id)}}e.ModelDecorationMinimapOptions=J;class oe{constructor(Q){this.content=Q.content||"",this.inlineClassName=Q.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=Q.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=Q.attachedData||null,this.cursorStops=Q.cursorStops||null}static from(Q){return Q instanceof oe?Q:new oe(Q)}}e.ModelDecorationInjectedTextOptions=oe;class G{constructor(Q){var q,Z;this.description=Q.description,this.stickiness=Q.stickiness||0,this.zIndex=Q.zIndex||0,this.className=Q.className?ie(Q.className):null,this.hoverMessage=Q.hoverMessage||null,this.glyphMarginHoverMessage=Q.glyphMarginHoverMessage||null,this.isWholeLine=Q.isWholeLine||!1,this.showIfCollapsed=Q.showIfCollapsed||!1,this.collapseOnReplaceEdit=Q.collapseOnReplaceEdit||!1,this.overviewRuler=Q.overviewRuler?new X(Q.overviewRuler):null,this.minimap=Q.minimap?new J(Q.minimap):null,this.glyphMarginClassName=Q.glyphMarginClassName?ie(Q.glyphMarginClassName):null,this.linesDecorationsClassName=Q.linesDecorationsClassName?ie(Q.linesDecorationsClassName):null,this.firstLineDecorationClassName=Q.firstLineDecorationClassName?ie(Q.firstLineDecorationClassName):null,this.marginClassName=Q.marginClassName?ie(Q.marginClassName):null,this.inlineClassName=Q.inlineClassName?ie(Q.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=Q.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=Q.beforeContentClassName?ie(Q.beforeContentClassName):null,this.afterContentClassName=Q.afterContentClassName?ie(Q.afterContentClassName):null,this.after=Q.after?oe.from(Q.after):null,this.before=Q.before?oe.from(Q.before):null,this.hideInCommentTokens=(q=Q.hideInCommentTokens)!==null&&q!==void 0?q:!1,this.hideInStringTokens=(Z=Q.hideInStringTokens)!==null&&Z!==void 0?Z:!1}static register(Q){return new G(Q)}static createDynamic(Q){return new G(Q)}}e.ModelDecorationOptions=G,G.EMPTY=G.register({description:"empty"});const x=[G.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),G.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),G.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),G.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function V(ae){return ae instanceof G?ae:G.createDynamic(ae)}class K extends L.Disposable{constructor(Q){super();this.handleBeforeFire=Q,this._actual=this._register(new I.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var Q;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const q={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(q)}(Q=this._affectedInjectedTextLines)===null||Q===void 0||Q.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(Q){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(Q)}checkAffectedAndFire(Q){this._affectsMinimap||(this._affectsMinimap=!!(Q.minimap&&Q.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(Q.overviewRuler&&Q.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}e.DidChangeDecorationsEmitter=K;class le extends L.Disposable{constructor(){super();this._fastEmitter=this._register(new I.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new I.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(Q=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=Q;const q=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(q),this._slowEmitter.fire(q)}}fire(Q){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(Q):this._deferredEvent=Q;return}this._fastEmitter.fire(Q),this._slowEmitter.fire(Q)}}e.DidChangeContentEmitter=le}),define(re[303],se([1,0,4,2,17,13,36,148,71,37,49,158,35,10,21,14,69,164,118,277,45,293,279,41,31,70,56,20]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g,b,p,C,S,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelSemanticColoring=e.isSemanticColoringEnabled=e.SEMANTIC_HIGHLIGHTING_SETTING_ID=e.ModelService=void 0;function w(M){return M.toString()}function T(M){const z=new s.StringSHA1,ee=M.createSnapshot();let ie;for(;ie=ee.read();)z.update(ie);return z.digest()}class N{constructor(z,ee,ie){this._modelEventListeners=new m.DisposableStore,this.model=z,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(z.onWillDispose(()=>ee(z))),this._modelEventListeners.add(z.onDidChangeLanguage(Y=>ie(z,Y)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(z){this._disposeLanguageSelection(),this._languageSelection=z,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(z.languageId)),this.model.setMode(z.languageId)}}const R=k.isLinux||k.isMacintosh?1:2;class B{constructor(z,ee,ie,Y,X,J,oe,G){this.uri=z,this.initialUndoRedoSnapshot=ee,this.time=ie,this.sharesUndoRedoStack=Y,this.heapSize=X,this.sha1=J,this.versionId=oe,this.alternativeVersionId=G}}let O=class At extends m.Disposable{constructor(z,ee,ie,Y,X,J,oe,G,x){super();this._configurationService=z,this._resourcePropertiesService=ee,this._themeService=ie,this._logService=Y,this._undoRedoService=X,this._languageService=J,this._languageConfigurationService=oe,this._languageFeatureDebounceService=G,this._onModelAdded=this._register(new E.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new E.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new E.Emitter),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new P(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new A(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,x))}static _readModelOptions(z,ee){var ie;let Y=_.EDITOR_MODEL_DEFAULTS.tabSize;if(z.editor&&typeof z.editor.tabSize!="undefined"){const ae=parseInt(z.editor.tabSize,10);isNaN(ae)||(Y=ae),Y<1&&(Y=1)}let X=Y;if(z.editor&&typeof z.editor.indentSize!="undefined"&&z.editor.indentSize!=="tabSize"){const ae=parseInt(z.editor.indentSize,10);isNaN(ae)||(X=ae),X<1&&(X=1)}let J=_.EDITOR_MODEL_DEFAULTS.insertSpaces;z.editor&&typeof z.editor.insertSpaces!="undefined"&&(J=z.editor.insertSpaces==="false"?!1:Boolean(z.editor.insertSpaces));let oe=R;const G=z.eol;G===`\r
`?oe=2:G===`
`&&(oe=1);let x=_.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;z.editor&&typeof z.editor.trimAutoWhitespace!="undefined"&&(x=z.editor.trimAutoWhitespace==="false"?!1:Boolean(z.editor.trimAutoWhitespace));let V=_.EDITOR_MODEL_DEFAULTS.detectIndentation;z.editor&&typeof z.editor.detectIndentation!="undefined"&&(V=z.editor.detectIndentation==="false"?!1:Boolean(z.editor.detectIndentation));let K=_.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;z.editor&&typeof z.editor.largeFileOptimizations!="undefined"&&(K=z.editor.largeFileOptimizations==="false"?!1:Boolean(z.editor.largeFileOptimizations));let le=_.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return((ie=z.editor)===null||ie===void 0?void 0:ie.bracketPairColorization)&&typeof z.editor.bracketPairColorization=="object"&&(le={enabled:!!z.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!z.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:ee,tabSize:Y,indentSize:X,insertSpaces:J,detectIndentation:V,defaultEOL:oe,trimAutoWhitespace:x,largeFileOptimizations:K,bracketPairColorizationOptions:le}}_getEOL(z,ee){if(z)return this._resourcePropertiesService.getEOL(z,ee);const ie=this._configurationService.getValue("files.eol",{overrideIdentifier:ee});return ie&&typeof ie=="string"&&ie!=="auto"?ie:k.OS===3||k.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const z=this._configurationService.getValue("files.restoreUndoStack");return typeof z=="boolean"?z:!0}getCreationOptions(z,ee,ie){let Y=this._modelCreationOptionsByLanguageAndResource[z+ee];if(!Y){const X=this._configurationService.getValue("editor",{overrideIdentifier:z,resource:ee}),J=this._getEOL(ee,z);Y=At._readModelOptions({editor:X,eol:J},ie),this._modelCreationOptionsByLanguageAndResource[z+ee]=Y}return Y}_updateModelOptions(){const z=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const ee=Object.keys(this._models);for(let ie=0,Y=ee.length;ie<Y;ie++){const X=ee[ie],J=this._models[X],oe=J.model.getLanguageId(),G=J.model.uri,x=z[oe+G],V=this.getCreationOptions(oe,G,J.model.isForSimpleWidget);At._setModelOptionsForModel(J.model,V,x)}}static _setModelOptionsForModel(z,ee,ie){ie&&ie.defaultEOL!==ee.defaultEOL&&z.getLineCount()===1&&z.setEOL(ee.defaultEOL===1?0:1),!(ie&&ie.detectIndentation===ee.detectIndentation&&ie.insertSpaces===ee.insertSpaces&&ie.tabSize===ee.tabSize&&ie.indentSize===ee.indentSize&&ie.trimAutoWhitespace===ee.trimAutoWhitespace&&(0,b.equals)(ie.bracketPairColorizationOptions,ee.bracketPairColorizationOptions))&&(ee.detectIndentation?(z.detectIndentation(ee.insertSpaces,ee.tabSize),z.updateOptions({trimAutoWhitespace:ee.trimAutoWhitespace,bracketColorizationOptions:ee.bracketPairColorizationOptions})):z.updateOptions({insertSpaces:ee.insertSpaces,tabSize:ee.tabSize,indentSize:ee.indentSize,trimAutoWhitespace:ee.trimAutoWhitespace,bracketColorizationOptions:ee.bracketPairColorizationOptions}))}_insertDisposedModel(z){this._disposedModels.set(w(z.uri),z),this._disposedModelsHeapSize+=z.heapSize}_removeDisposedModel(z){const ee=this._disposedModels.get(w(z));return ee&&(this._disposedModelsHeapSize-=ee.heapSize),this._disposedModels.delete(w(z)),ee}_ensureDisposedModelsHeapSize(z){if(this._disposedModelsHeapSize>z){const ee=[];for(this._disposedModels.forEach(ie=>{ie.sharesUndoRedoStack||ee.push(ie)}),ee.sort((ie,Y)=>ie.time-Y.time);ee.length>0&&this._disposedModelsHeapSize>z;){const ie=ee.shift();this._removeDisposedModel(ie.uri),ie.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(ie.initialUndoRedoSnapshot)}}}_createModelData(z,ee,ie,Y){const X=this.getCreationOptions(ee,ie,Y),J=new L.TextModel(z,ee,X,ie,this._undoRedoService,this._languageService,this._languageConfigurationService);if(ie&&this._disposedModels.has(w(ie))){const x=this._removeDisposedModel(ie),V=this._undoRedoService.getElements(ie),K=T(J)===x.sha1;if(K||x.sharesUndoRedoStack){for(const le of V.past)(0,a.isEditStackElement)(le)&&le.matchesResource(ie)&&le.setModel(J);for(const le of V.future)(0,a.isEditStackElement)(le)&&le.matchesResource(ie)&&le.setModel(J);this._undoRedoService.setElementsValidFlag(ie,!0,le=>(0,a.isEditStackElement)(le)&&le.matchesResource(ie)),K&&(J._overwriteVersionId(x.versionId),J._overwriteAlternativeVersionId(x.alternativeVersionId),J._overwriteInitialUndoRedoSnapshot(x.initialUndoRedoSnapshot))}else x.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(x.initialUndoRedoSnapshot)}const oe=w(J.uri);if(this._models[oe])throw new Error("ModelService: Cannot add model because it already exists!");const G=new N(J,x=>this._onWillDispose(x),(x,V)=>this._onDidChangeLanguage(x,V));return this._models[oe]=G,G}createModel(z,ee,ie,Y=!1){let X;return ee?(X=this._createModelData(z,ee.languageId,ie,Y),this.setMode(X.model,ee)):X=this._createModelData(z,v.PLAINTEXT_LANGUAGE_ID,ie,Y),this._onModelAdded.fire(X.model),X.model}setMode(z,ee){if(!ee)return;const ie=this._models[w(z.uri)];!ie||ie.setLanguage(ee)}getModels(){const z=[],ee=Object.keys(this._models);for(let ie=0,Y=ee.length;ie<Y;ie++){const X=ee[ie];z.push(this._models[X].model)}return z}getModel(z){const ee=w(z),ie=this._models[ee];return ie?ie.model:null}getSemanticTokensProviderStyling(z){return this._semanticStyling.get(z)}_schemaShouldMaintainUndoRedoElements(z){return z.scheme===l.Schemas.file||z.scheme===l.Schemas.vscodeRemote||z.scheme===l.Schemas.vscodeUserData||z.scheme===l.Schemas.vscodeNotebookCell||z.scheme==="fake-fs"}_onWillDispose(z){const ee=w(z.uri),ie=this._models[ee],Y=this._undoRedoService.getUriComparisonKey(z.uri)!==z.uri.toString();let X=!1,J=0;if(Y||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(z.uri)){const G=this._undoRedoService.getElements(z.uri);if(G.past.length>0||G.future.length>0){for(const x of G.past)(0,a.isEditStackElement)(x)&&x.matchesResource(z.uri)&&(X=!0,J+=x.heapSize(z.uri),x.setModel(z.uri));for(const x of G.future)(0,a.isEditStackElement)(x)&&x.matchesResource(z.uri)&&(X=!0,J+=x.heapSize(z.uri),x.setModel(z.uri))}}const oe=At.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(X)if(!Y&&J>oe){const G=ie.model.getInitialUndoRedoSnapshot();G!==null&&this._undoRedoService.restoreSnapshot(G)}else this._ensureDisposedModelsHeapSize(oe-J),this._undoRedoService.setElementsValidFlag(z.uri,!1,G=>(0,a.isEditStackElement)(G)&&G.matchesResource(z.uri)),this._insertDisposedModel(new B(z.uri,ie.model.getInitialUndoRedoSnapshot(),Date.now(),Y,J,T(z),z.getVersionId(),z.getAlternativeVersionId()));else if(!Y){const G=ie.model.getInitialUndoRedoSnapshot();G!==null&&this._undoRedoService.restoreSnapshot(G)}delete this._models[ee],ie.dispose(),delete this._modelCreationOptionsByLanguageAndResource[z.getLanguageId()+z.uri],this._onModelRemoved.fire(z)}_onDidChangeLanguage(z,ee){const ie=ee.oldLanguage,Y=z.getLanguageId(),X=this.getCreationOptions(ie,z.uri,z.isForSimpleWidget),J=this.getCreationOptions(Y,z.uri,z.isForSimpleWidget);At._setModelOptionsForModel(z,J,X),this._onModelModeChanged.fire({model:z,oldLanguageId:ie})}};O.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,O=Ie([fe(0,n.IConfigurationService),fe(1,i.ITextResourcePropertiesService),fe(2,d.IThemeService),fe(3,r.ILogService),fe(4,c.IUndoRedoService),fe(5,u.ILanguageService),fe(6,p.ILanguageConfigurationService),fe(7,C.ILanguageFeatureDebounceService),fe(8,y.ILanguageFeaturesService)],O),e.ModelService=O,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function D(M,z,ee){var ie;const Y=(ie=ee.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:M.getLanguageId(),resource:M.uri}))===null||ie===void 0?void 0:ie.enabled;return typeof Y=="boolean"?Y:z.getColorTheme().semanticHighlighting}e.isSemanticColoringEnabled=D;let A=class extends m.Disposable{constructor(z,ee,ie,Y,X,J){super();this._watchers=Object.create(null),this._semanticStyling=z;const oe=V=>{this._watchers[V.uri.toString()]=new W(V,this._semanticStyling,ie,X,J)},G=(V,K)=>{K.dispose(),delete this._watchers[V.uri.toString()]},x=()=>{for(let V of ee.getModels()){const K=this._watchers[V.uri.toString()];D(V,ie,Y)?K||oe(V):K&&G(V,K)}};this._register(ee.onModelAdded(V=>{D(V,ie,Y)&&oe(V)})),this._register(ee.onModelRemoved(V=>{const K=this._watchers[V.uri.toString()];K&&G(V,K)})),this._register(Y.onDidChangeConfiguration(V=>{V.affectsConfiguration(e.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&x()})),this._register(ie.onDidColorThemeChange(x))}};A=Ie([fe(1,h.IModelService),fe(2,d.IThemeService),fe(3,n.IConfigurationService),fe(4,C.ILanguageFeatureDebounceService),fe(5,y.ILanguageFeaturesService)],A);class P extends m.Disposable{constructor(z,ee,ie){super();this._themeService=z,this._languageService=ee,this._logService=ie,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(z){return this._caches.has(z)||this._caches.set(z,new f.SemanticTokensProviderStyling(z.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(z)}}class F{constructor(z,ee,ie){this.provider=z,this.resultId=ee,this.data=ie}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let W=class yt extends m.Disposable{constructor(z,ee,ie,Y,X){super();this._isDisposed=!1,this._model=z,this._semanticStyling=ee,this._provider=X.documentSemanticTokensProvider,this._debounceInformation=Y.for(this._provider,"DocumentSemanticTokens",{min:yt.REQUEST_MIN_DELAY,max:yt.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new t.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),yt.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const J=()=>{(0,m.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const oe of this._provider.all(z))typeof oe.onDidChange=="function"&&this._documentProvidersChangeListeners.push(oe.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};J(),this._register(this._provider.onDidChange(()=>{J(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(ie.onDidColorThemeChange(oe=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,g.hasDocumentSemanticTokensProvider)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}const z=new o.CancellationTokenSource,ee=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,ie=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,Y=(0,g.getDocumentSemanticTokens)(this._provider,this._model,ee,ie,z.token);this._currentDocumentRequestCancellationTokenSource=z;const X=[],J=this._model.onDidChangeContent(G=>{X.push(G)}),oe=new S.StopWatch(!1);Y.then(G=>{if(this._debounceInformation.update(this._model,oe.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,J.dispose(),!G)this._setDocumentSemanticTokens(null,null,null,X);else{const{provider:x,tokens:V}=G,K=this._semanticStyling.get(x);this._setDocumentSemanticTokens(x,V||null,K,X)}},G=>{G&&(I.isCancellationError(G)||typeof G.message=="string"&&G.message.indexOf("busy")!==-1)||I.onUnexpectedError(G),this._currentDocumentRequestCancellationTokenSource=null,J.dispose(),X.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(z,ee,ie,Y,X){for(let J=0;J<X;J++)ie[Y+J]=z[ee+J]}_setDocumentSemanticTokens(z,ee,ie,Y){const X=this._currentDocumentResponse,J=()=>{Y.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){z&&ee&&z.releaseDocumentSemanticTokens(ee.resultId);return}if(!z||!ie){this._model.tokenization.setSemanticTokens(null,!1);return}if(!ee){this._model.tokenization.setSemanticTokens(null,!0),J();return}if((0,g.isSemanticTokensEdits)(ee)){if(!X){this._model.tokenization.setSemanticTokens(null,!0);return}if(ee.edits.length===0)ee={resultId:ee.resultId,data:X.data};else{let oe=0;for(const le of ee.edits)oe+=(le.data?le.data.length:0)-le.deleteCount;const G=X.data,x=new Uint32Array(G.length+oe);let V=G.length,K=x.length;for(let le=ee.edits.length-1;le>=0;le--){const ae=ee.edits[le],Q=V-(ae.start+ae.deleteCount);Q>0&&(yt._copy(G,V-Q,x,K-Q,Q),K-=Q),ae.data&&(yt._copy(ae.data,0,x,K-ae.data.length,ae.data.length),K-=ae.data.length),V=ae.start}V>0&&yt._copy(G,0,x,0,V),ee={resultId:ee.resultId,data:x}}}if((0,g.isSemanticTokens)(ee)){this._currentDocumentResponse=new F(z,ee.resultId,ee.data);const oe=(0,f.toMultilineTokens2)(ee,ie,this._model.getLanguageId());if(Y.length>0)for(const G of Y)for(const x of oe)for(const V of G.changes)x.applyEdit(V.range,V.text);this._model.tokenization.setSemanticTokens(oe,!0)}else this._model.tokenization.setSemanticTokens(null,!0);J()}};W.REQUEST_MIN_DELAY=300,W.REQUEST_MAX_DELAY=2e3,W=Ie([fe(2,d.IThemeService),fe(3,C.ILanguageFeatureDebounceService),fe(4,y.ILanguageFeaturesService)],W),e.ModelSemanticColoring=W}),define(re[722],se([1,0,18,11,3,188,36,96,191,461,248,74]),function(U,e,E,m,k,I,L,_,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class n{constructor(l,f,g,b,p,C,S,y,w){this._editorId=l,this.model=f,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=g,this._monospaceLineBreaksComputerFactory=b,this.fontInfo=p,this.tabSize=C,this.wrappingStrategy=S,this.wrappingColumn=y,this.wrappingIndent=w,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new r(this)}_constructLines(l,f){this.modelLineProjections=[],l&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const g=this.model.getLinesContent(),b=this.model.getInjectedTextDecorations(this._editorId),p=g.length,C=this.createLineBreaksComputer(),S=new E.ArrayQueue(_.LineInjectedText.fromDecorations(b));for(let D=0;D<p;D++){const A=S.takeWhile(P=>P.lineNumber===D+1);C.addRequest(g[D],A,f?f[D]:null)}const y=C.finalize(),w=[],T=this.hiddenAreasDecorationIds.map(D=>this.model.getDecorationRange(D)).sort(k.Range.compareRangesUsingStarts);let N=1,R=0,B=-1,O=B+1<T.length?R+1:p+2;for(let D=0;D<p;D++){const A=D+1;A===O&&(B++,N=T[B].startLineNumber,R=T[B].endLineNumber,O=B+1<T.length?R+1:p+2);const P=A>=N&&A<=R,F=(0,u.createModelLineProjection)(y[D],!P);w[D]=F.getViewLineCount(),this.modelLineProjections[D]=F}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new h.ConstantTimePrefixSumComputer(w)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(l=>this.model.getDecorationRange(l))}setHiddenAreas(l){const f=l.map(R=>this.model.validateRange(R)),g=t(f),b=this.hiddenAreasDecorationIds.map(R=>this.model.getDecorationRange(R)).sort(k.Range.compareRangesUsingStarts);if(g.length===b.length){let R=!1;for(let B=0;B<g.length;B++)if(!g[B].equalsRange(b[B])){R=!0;break}if(!R)return!1}const p=g.map(R=>({range:R,options:L.ModelDecorationOptions.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,p);const C=g;let S=1,y=0,w=-1,T=w+1<C.length?y+1:this.modelLineProjections.length+2,N=!1;for(let R=0;R<this.modelLineProjections.length;R++){const B=R+1;B===T&&(w++,S=C[w].startLineNumber,y=C[w].endLineNumber,T=w+1<C.length?y+1:this.modelLineProjections.length+2);let O=!1;if(B>=S&&B<=y?this.modelLineProjections[R].isVisible()&&(this.modelLineProjections[R]=this.modelLineProjections[R].setVisible(!1),O=!0):(N=!0,this.modelLineProjections[R].isVisible()||(this.modelLineProjections[R]=this.modelLineProjections[R].setVisible(!0),O=!0)),O){const D=this.modelLineProjections[R].getViewLineCount();this.projectedModelLineLineCounts.setValue(R,D)}}return N||this.setHiddenAreas([]),!0}modelPositionIsVisible(l,f){return l<1||l>this.modelLineProjections.length?!1:this.modelLineProjections[l-1].isVisible()}getModelLineViewLineCount(l){return l<1||l>this.modelLineProjections.length?1:this.modelLineProjections[l-1].getViewLineCount()}setTabSize(l){return this.tabSize===l?!1:(this.tabSize=l,this._constructLines(!1,null),!0)}setWrappingSettings(l,f,g,b){const p=this.fontInfo.equals(l),C=this.wrappingStrategy===f,S=this.wrappingColumn===g,y=this.wrappingIndent===b;if(p&&C&&S&&y)return!1;const w=p&&C&&!S&&y;this.fontInfo=l,this.wrappingStrategy=f,this.wrappingColumn=g,this.wrappingIndent=b;let T=null;if(w){T=[];for(let N=0,R=this.modelLineProjections.length;N<R;N++)T[N]=this.modelLineProjections[N].getProjectionData()}return this._constructLines(!1,T),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(l,f,g){if(!l||l<=this._validModelVersionId)return null;const b=f===1?1:this.projectedModelLineLineCounts.getPrefixSum(f-1)+1,p=this.projectedModelLineLineCounts.getPrefixSum(g);return this.modelLineProjections.splice(f-1,g-f+1),this.projectedModelLineLineCounts.removeValues(f-1,g-f+1),new v.ViewLinesDeletedEvent(b,p)}onModelLinesInserted(l,f,g,b){if(!l||l<=this._validModelVersionId)return null;const p=f>2&&!this.modelLineProjections[f-2].isVisible(),C=f===1?1:this.projectedModelLineLineCounts.getPrefixSum(f-1)+1;let S=0;const y=[],w=[];for(let T=0,N=b.length;T<N;T++){const R=(0,u.createModelLineProjection)(b[T],!p);y.push(R);const B=R.getViewLineCount();S+=B,w[T]=B}return this.modelLineProjections=this.modelLineProjections.slice(0,f-1).concat(y).concat(this.modelLineProjections.slice(f-1)),this.projectedModelLineLineCounts.insertValues(f-1,w),new v.ViewLinesInsertedEvent(C,C+S-1)}onModelLineChanged(l,f,g){if(l!==null&&l<=this._validModelVersionId)return[!1,null,null,null];const b=f-1,p=this.modelLineProjections[b].getViewLineCount(),C=this.modelLineProjections[b].isVisible(),S=(0,u.createModelLineProjection)(g,C);this.modelLineProjections[b]=S;const y=this.modelLineProjections[b].getViewLineCount();let w=!1,T=0,N=-1,R=0,B=-1,O=0,D=-1;p>y?(T=this.projectedModelLineLineCounts.getPrefixSum(f-1)+1,N=T+y-1,O=N+1,D=O+(p-y)-1,w=!0):p<y?(T=this.projectedModelLineLineCounts.getPrefixSum(f-1)+1,N=T+p-1,R=N+1,B=R+(y-p)-1,w=!0):(T=this.projectedModelLineLineCounts.getPrefixSum(f-1)+1,N=T+y-1),this.projectedModelLineLineCounts.setValue(b,y);const A=T<=N?new v.ViewLinesChangedEvent(T,N-T+1):null,P=R<=B?new v.ViewLinesInsertedEvent(R,B):null,F=O<=D?new v.ViewLinesDeletedEvent(O,D):null;return[w,A,P,F]}acceptVersionId(l){this._validModelVersionId=l,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(l){if(l<1)return 1;const f=this.getViewLineCount();return l>f?f:l|0}getActiveIndentGuide(l,f,g){l=this._toValidViewLineNumber(l),f=this._toValidViewLineNumber(f),g=this._toValidViewLineNumber(g);const b=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),p=this.convertViewPositionToModelPosition(f,this.getViewLineMinColumn(f)),C=this.convertViewPositionToModelPosition(g,this.getViewLineMinColumn(g)),S=this.model.guides.getActiveIndentGuide(b.lineNumber,p.lineNumber,C.lineNumber),y=this.convertModelPositionToViewPosition(S.startLineNumber,1),w=this.convertModelPositionToViewPosition(S.endLineNumber,this.model.getLineMaxColumn(S.endLineNumber));return{startLineNumber:y.lineNumber,endLineNumber:w.lineNumber,indent:S.indent}}getViewLineInfo(l){l=this._toValidViewLineNumber(l);const f=this.projectedModelLineLineCounts.getIndexOf(l-1),g=f.index,b=f.remainder;return new o(g+1,b)}getMinColumnOfViewLine(l){return this.modelLineProjections[l.modelLineNumber-1].getViewLineMinColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(l){return this.modelLineProjections[l.modelLineNumber-1].getViewLineMaxColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(l){const f=this.modelLineProjections[l.modelLineNumber-1],g=f.getViewLineMinColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx),b=f.getModelColumnOfViewPosition(l.modelLineWrappedLineIdx,g);return new m.Position(l.modelLineNumber,b)}getModelEndPositionOfViewLine(l){const f=this.modelLineProjections[l.modelLineNumber-1],g=f.getViewLineMaxColumn(this.model,l.modelLineNumber,l.modelLineWrappedLineIdx),b=f.getModelColumnOfViewPosition(l.modelLineWrappedLineIdx,g);return new m.Position(l.modelLineNumber,b)}getViewLineInfosGroupedByModelRanges(l,f){const g=this.getViewLineInfo(l),b=this.getViewLineInfo(f),p=new Array;let C=this.getModelStartPositionOfViewLine(g),S=new Array;for(let y=g.modelLineNumber;y<=b.modelLineNumber;y++){const w=this.modelLineProjections[y-1];if(w.isVisible()){const T=y===g.modelLineNumber?g.modelLineWrappedLineIdx:0,N=y===b.modelLineNumber?b.modelLineWrappedLineIdx+1:w.getViewLineCount();for(let R=T;R<N;R++)S.push(new o(y,R))}if(!w.isVisible()&&C){const T=new m.Position(y-1,this.model.getLineMaxColumn(y-1)+1),N=k.Range.fromPositions(C,T);p.push(new d(N,S)),S=[],C=null}else w.isVisible()&&!C&&(C=new m.Position(y,1))}if(C){const y=k.Range.fromPositions(C,this.getModelEndPositionOfViewLine(b));p.push(new d(y,S))}return p}getViewLinesBracketGuides(l,f,g,b){const p=g?this.convertViewPositionToModelPosition(g.lineNumber,g.column):null,C=[];for(const S of this.getViewLineInfosGroupedByModelRanges(l,f)){const y=S.modelRange.startLineNumber,w=this.model.guides.getLinesBracketGuides(y,S.modelRange.endLineNumber,p,b);for(const T of S.viewLines)if(T.isWrappedLineContinuation&&this.getMinColumnOfViewLine(T)===1)C.push([]);else{const R=w[T.modelLineNumber-y].map(B=>{if(B.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[T.modelLineNumber-1].getViewPositionOfModelPosition(0,B.forWrappedLinesAfterColumn).lineNumber>=T.modelLineWrappedLineIdx||B.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[T.modelLineNumber-1].getViewPositionOfModelPosition(0,B.forWrappedLinesBeforeOrAtColumn).lineNumber<T.modelLineWrappedLineIdx)return;if(!B.horizontalLine)return B;let O=-1;if(B.column!==-1){const P=this.modelLineProjections[T.modelLineNumber-1].getViewPositionOfModelPosition(0,B.column);if(P.lineNumber===T.modelLineWrappedLineIdx)O=P.column;else if(P.lineNumber<T.modelLineWrappedLineIdx)O=this.getMinColumnOfViewLine(T);else if(P.lineNumber>T.modelLineWrappedLineIdx)return}const D=this.convertModelPositionToViewPosition(T.modelLineNumber,B.horizontalLine.endColumn),A=this.modelLineProjections[T.modelLineNumber-1].getViewPositionOfModelPosition(0,B.horizontalLine.endColumn);return A.lineNumber===T.modelLineWrappedLineIdx?new I.IndentGuide(B.visibleColumn,O,B.className,new I.IndentGuideHorizontalLine(B.horizontalLine.top,D.column),-1,-1):A.lineNumber<T.modelLineWrappedLineIdx||B.visibleColumn!==-1?void 0:new I.IndentGuide(B.visibleColumn,O,B.className,new I.IndentGuideHorizontalLine(B.horizontalLine.top,this.getMaxColumnOfViewLine(T)),-1,-1)});C.push(R.filter(B=>!!B))}}return C}getViewLinesIndentGuides(l,f){l=this._toValidViewLineNumber(l),f=this._toValidViewLineNumber(f);const g=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),b=this.convertViewPositionToModelPosition(f,this.getViewLineMaxColumn(f));let p=[];const C=[],S=[],y=g.lineNumber-1,w=b.lineNumber-1;let T=null;for(let O=y;O<=w;O++){const D=this.modelLineProjections[O];if(D.isVisible()){const A=D.getViewLineNumberOfModelPosition(0,O===y?g.column:1),P=D.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(O+1)),F=P-A+1;let W=0;F>1&&D.getViewLineMinColumn(this.model,O+1,P)===1&&(W=A===0?1:2),C.push(F),S.push(W),T===null&&(T=new m.Position(O+1,0))}else T!==null&&(p=p.concat(this.model.guides.getLinesIndentGuides(T.lineNumber,O)),T=null)}T!==null&&(p=p.concat(this.model.guides.getLinesIndentGuides(T.lineNumber,b.lineNumber)),T=null);const N=f-l+1,R=new Array(N);let B=0;for(let O=0,D=p.length;O<D;O++){let A=p[O];const P=Math.min(N-B,C[O]),F=S[O];let W;F===2?W=0:F===1?W=1:W=P;for(let M=0;M<P;M++)M===W&&(A=0),R[B++]=A}return R}getViewLineContent(l){const f=this.getViewLineInfo(l);return this.modelLineProjections[f.modelLineNumber-1].getViewLineContent(this.model,f.modelLineNumber,f.modelLineWrappedLineIdx)}getViewLineLength(l){const f=this.getViewLineInfo(l);return this.modelLineProjections[f.modelLineNumber-1].getViewLineLength(this.model,f.modelLineNumber,f.modelLineWrappedLineIdx)}getViewLineMinColumn(l){const f=this.getViewLineInfo(l);return this.modelLineProjections[f.modelLineNumber-1].getViewLineMinColumn(this.model,f.modelLineNumber,f.modelLineWrappedLineIdx)}getViewLineMaxColumn(l){const f=this.getViewLineInfo(l);return this.modelLineProjections[f.modelLineNumber-1].getViewLineMaxColumn(this.model,f.modelLineNumber,f.modelLineWrappedLineIdx)}getViewLineData(l){const f=this.getViewLineInfo(l);return this.modelLineProjections[f.modelLineNumber-1].getViewLineData(this.model,f.modelLineNumber,f.modelLineWrappedLineIdx)}getViewLinesData(l,f,g){l=this._toValidViewLineNumber(l),f=this._toValidViewLineNumber(f);const b=this.projectedModelLineLineCounts.getIndexOf(l-1);let p=l;const C=b.index,S=b.remainder,y=[];for(let w=C,T=this.model.getLineCount();w<T;w++){const N=this.modelLineProjections[w];if(!N.isVisible())continue;const R=w===C?S:0;let B=N.getViewLineCount()-R,O=!1;if(p+B>f&&(O=!0,B=f-p+1),N.getViewLinesData(this.model,w+1,R,B,p-l,g,y),p+=B,O)break}return y}validateViewPosition(l,f,g){l=this._toValidViewLineNumber(l);const b=this.projectedModelLineLineCounts.getIndexOf(l-1),p=b.index,C=b.remainder,S=this.modelLineProjections[p],y=S.getViewLineMinColumn(this.model,p+1,C),w=S.getViewLineMaxColumn(this.model,p+1,C);f<y&&(f=y),f>w&&(f=w);const T=S.getModelColumnOfViewPosition(C,f);return this.model.validatePosition(new m.Position(p+1,T)).equals(g)?new m.Position(l,f):this.convertModelPositionToViewPosition(g.lineNumber,g.column)}validateViewRange(l,f){const g=this.validateViewPosition(l.startLineNumber,l.startColumn,f.getStartPosition()),b=this.validateViewPosition(l.endLineNumber,l.endColumn,f.getEndPosition());return new k.Range(g.lineNumber,g.column,b.lineNumber,b.column)}convertViewPositionToModelPosition(l,f){const g=this.getViewLineInfo(l),b=this.modelLineProjections[g.modelLineNumber-1].getModelColumnOfViewPosition(g.modelLineWrappedLineIdx,f);return this.model.validatePosition(new m.Position(g.modelLineNumber,b))}convertViewRangeToModelRange(l){const f=this.convertViewPositionToModelPosition(l.startLineNumber,l.startColumn),g=this.convertViewPositionToModelPosition(l.endLineNumber,l.endColumn);return new k.Range(f.lineNumber,f.column,g.lineNumber,g.column)}convertModelPositionToViewPosition(l,f,g=2){const b=this.model.validatePosition(new m.Position(l,f)),p=b.lineNumber,C=b.column;let S=p-1,y=!1;for(;S>0&&!this.modelLineProjections[S].isVisible();)S--,y=!0;if(S===0&&!this.modelLineProjections[S].isVisible())return new m.Position(1,1);const w=1+this.projectedModelLineLineCounts.getPrefixSum(S);let T;return y?T=this.modelLineProjections[S].getViewPositionOfModelPosition(w,this.model.getLineMaxColumn(S+1),g):T=this.modelLineProjections[p-1].getViewPositionOfModelPosition(w,C,g),T}convertModelRangeToViewRange(l,f=0){if(l.isEmpty()){const g=this.convertModelPositionToViewPosition(l.startLineNumber,l.startColumn,f);return k.Range.fromPositions(g)}else{const g=this.convertModelPositionToViewPosition(l.startLineNumber,l.startColumn,1),b=this.convertModelPositionToViewPosition(l.endLineNumber,l.endColumn,0);return new k.Range(g.lineNumber,g.column,b.lineNumber,b.column)}}getViewLineNumberOfModelPosition(l,f){let g=l-1;if(this.modelLineProjections[g].isVisible()){const p=1+this.projectedModelLineLineCounts.getPrefixSum(g);return this.modelLineProjections[g].getViewLineNumberOfModelPosition(p,f)}for(;g>0&&!this.modelLineProjections[g].isVisible();)g--;if(g===0&&!this.modelLineProjections[g].isVisible())return 1;const b=1+this.projectedModelLineLineCounts.getPrefixSum(g);return this.modelLineProjections[g].getViewLineNumberOfModelPosition(b,this.model.getLineMaxColumn(g+1))}getDecorationsInRange(l,f,g){const b=this.convertViewPositionToModelPosition(l.startLineNumber,l.startColumn),p=this.convertViewPositionToModelPosition(l.endLineNumber,l.endColumn);if(p.lineNumber-b.lineNumber<=l.endLineNumber-l.startLineNumber)return this.model.getDecorationsInRange(new k.Range(b.lineNumber,1,p.lineNumber,p.column),f,g);let C=[];const S=b.lineNumber-1,y=p.lineNumber-1;let w=null;for(let B=S;B<=y;B++)if(this.modelLineProjections[B].isVisible())w===null&&(w=new m.Position(B+1,B===S?b.column:1));else if(w!==null){const D=this.model.getLineMaxColumn(B);C=C.concat(this.model.getDecorationsInRange(new k.Range(w.lineNumber,w.column,B,D),f,g)),w=null}w!==null&&(C=C.concat(this.model.getDecorationsInRange(new k.Range(w.lineNumber,w.column,p.lineNumber,p.column),f,g)),w=null),C.sort((B,O)=>{const D=k.Range.compareRangesUsingStarts(B.range,O.range);return D===0?B.id<O.id?-1:B.id>O.id?1:0:D});let T=[],N=0,R=null;for(const B of C){const O=B.id;R!==O&&(R=O,T[N++]=B)}return T}getInjectedTextAt(l){const f=this.getViewLineInfo(l.lineNumber);return this.modelLineProjections[f.modelLineNumber-1].getInjectedTextAt(f.modelLineWrappedLineIdx,l.column)}normalizePosition(l,f){const g=this.getViewLineInfo(l.lineNumber);return this.modelLineProjections[g.modelLineNumber-1].normalizePosition(g.modelLineWrappedLineIdx,l,f)}getLineIndentColumn(l){const f=this.getViewLineInfo(l);return f.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(f.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=n;function t(a){if(a.length===0)return[];const l=a.slice();l.sort(k.Range.compareRangesUsingStarts);const f=[];let g=l[0].startLineNumber,b=l[0].endLineNumber;for(let p=1,C=l.length;p<C;p++){const S=l[p];S.startLineNumber>b+1?(f.push(new k.Range(g,1,b,1)),g=S.startLineNumber,b=S.endLineNumber):S.endLineNumber>b&&(b=S.endLineNumber)}return f.push(new k.Range(g,1,b,1)),f}class o{constructor(l,f){this.modelLineNumber=l,this.modelLineWrappedLineIdx=f}get isWrappedLineContinuation(){return this.modelLineWrappedLineIdx>0}}class d{constructor(l,f){this.modelRange=l,this.viewLines=f}}class r{constructor(l){this._lines=l}convertViewPositionToModelPosition(l){return this._lines.convertViewPositionToModelPosition(l.lineNumber,l.column)}convertViewRangeToModelRange(l){return this._lines.convertViewRangeToModelRange(l)}validateViewPosition(l,f){return this._lines.validateViewPosition(l.lineNumber,l.column,f)}validateViewRange(l,f){return this._lines.validateViewRange(l,f)}convertModelPositionToViewPosition(l,f){return this._lines.convertModelPositionToViewPosition(l.lineNumber,l.column,f)}convertModelRangeToViewRange(l,f){return this._lines.convertModelRangeToViewRange(l,f)}modelPositionIsVisible(l){return this._lines.modelPositionIsVisible(l.lineNumber,l.column)}getModelLineViewLineCount(l){return this._lines.getModelLineViewLineCount(l)}getViewLineNumberOfModelPosition(l,f){return this._lines.getViewLineNumberOfModelPosition(l,f)}}class c{constructor(l){this.model=l}dispose(){}createCoordinatesConverter(){return new s(this)}getHiddenAreas(){return[]}setHiddenAreas(l){return!1}setTabSize(l){return!1}setWrappingSettings(l,f,g,b){return!1}createLineBreaksComputer(){const l=[];return{addRequest:(f,g,b)=>{l.push(null)},finalize:()=>l}}onModelFlushed(){}onModelLinesDeleted(l,f,g){return new v.ViewLinesDeletedEvent(f,g)}onModelLinesInserted(l,f,g,b){return new v.ViewLinesInsertedEvent(f,g)}onModelLineChanged(l,f,g){return[!1,new v.ViewLinesChangedEvent(f,1),null,null]}acceptVersionId(l){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(l,f,g){return{startLineNumber:l,endLineNumber:l,indent:0}}getViewLinesBracketGuides(l,f,g){return new Array(f-l+1).fill([])}getViewLinesIndentGuides(l,f){const g=f-l+1,b=new Array(g);for(let p=0;p<g;p++)b[p]=0;return b}getViewLineContent(l){return this.model.getLineContent(l)}getViewLineLength(l){return this.model.getLineLength(l)}getViewLineMinColumn(l){return this.model.getLineMinColumn(l)}getViewLineMaxColumn(l){return this.model.getLineMaxColumn(l)}getViewLineData(l){const f=this.model.tokenization.getLineTokens(l),g=f.getLineContent();return new i.ViewLineData(g,!1,1,g.length+1,0,f.inflate(),null)}getViewLinesData(l,f,g){const b=this.model.getLineCount();l=Math.min(Math.max(1,l),b),f=Math.min(Math.max(1,f),b);const p=[];for(let C=l;C<=f;C++){const S=C-l;p[S]=g[S]?this.getViewLineData(C):null}return p}getDecorationsInRange(l,f,g){return this.model.getDecorationsInRange(l,f,g)}normalizePosition(l,f){return this.model.normalizePosition(l,f)}getLineIndentColumn(l){return this.model.getLineIndentColumn(l)}getInjectedTextAt(l){return null}}e.ViewModelLinesFromModelAsIs=c;class s{constructor(l){this._lines=l}_validPosition(l){return this._lines.model.validatePosition(l)}_validRange(l){return this._lines.model.validateRange(l)}convertViewPositionToModelPosition(l){return this._validPosition(l)}convertViewRangeToModelRange(l){return this._validRange(l)}validateViewPosition(l,f){return this._validPosition(f)}validateViewRange(l,f){return this._validRange(f)}convertModelPositionToViewPosition(l){return this._validPosition(l)}convertModelRangeToViewRange(l){return this._validRange(l)}modelPositionIsVisible(l){const f=this._lines.model.getLineCount();return!(l.lineNumber<1||l.lineNumber>f)}getModelLineViewLineCount(l){return 1}getViewLineNumberOfModelPosition(l,f){return l}}}),define(re[723],se([1,0,18,10,30,2,17,8,33,286,62,11,3,96,27,71,257,191,465,259,74,276,192,722]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const p=!0;class C extends I.Disposable{constructor(w,T,N,R,B,O,D,A){super();if(this.languageConfigurationService=D,this._themeService=A,this._editorId=w,this._configuration=T,this.model=N,this._eventDispatcher=new g.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new h.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new m.RunOnceScheduler(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new m.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,p&&this.model.isTooLargeForTokenization())this._lines=new b.ViewModelLinesFromModelAsIs(this.model);else{const P=this._configuration.options,F=P.get(44),W=P.get(125),M=P.get(132),z=P.get(124);this._lines=new b.ViewModelLinesFromProjectedModel(this._editorId,this.model,R,B,F,this.model.getOptions().tabSize,W,M.wrappingColumn,z)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new u.CursorsController(N,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new s.ViewLayout(this._configuration,this.getLineCount(),O)),this._register(this.viewLayout.onDidScroll(P=>{P.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new c.ViewScrollChangedEvent(P)),this._eventDispatcher.emitOutgoingEvent(new g.ScrollChangedEvent(P.oldScrollWidth,P.oldScrollLeft,P.oldScrollHeight,P.oldScrollTop,P.scrollWidth,P.scrollLeft,P.scrollHeight,P.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(P=>{this._eventDispatcher.emitOutgoingEvent(P)})),this._decorations=new f.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(P=>{try{const F=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(F,P)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(a.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new c.ViewTokensColorsChangedEvent)})),this._register(this._themeService.onDidColorThemeChange(P=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new c.ViewThemeChangedEvent(P))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(w){this._eventDispatcher.addViewEventHandler(w)}removeViewEventHandler(w){this._eventDispatcher.removeViewEventHandler(w)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const w=this.viewLayout.getLinesViewportData(),T=new n.Range(w.startLineNumber,this.getLineMinColumn(w.startLineNumber),w.endLineNumber,this.getLineMaxColumn(w.endLineNumber)),N=this._toModelVisibleRanges(T);for(const R of N)this.model.tokenization.tokenizeViewport(R.startLineNumber,R.endLineNumber)}setHasFocus(w){this._hasFocus=w,this._cursor.setHasFocus(w),this._eventDispatcher.emitSingleViewEvent(new c.ViewFocusChangedEvent(w)),this._eventDispatcher.emitOutgoingEvent(new g.FocusChangedEvent(!w,w))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new c.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new c.ViewCompositionEndEvent)}_onConfigurationChanged(w,T){let N=null;if(this._viewportStartLine!==-1){const F=new i.Position(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));N=this.coordinatesConverter.convertViewPositionToModelPosition(F)}let R=!1;const B=this._configuration.options,O=B.get(44),D=B.get(125),A=B.get(132),P=B.get(124);if(this._lines.setWrappingSettings(O,D,A.wrappingColumn,P)&&(w.emitViewEvent(new c.ViewFlushedEvent),w.emitViewEvent(new c.ViewLineMappingChangedEvent),w.emitViewEvent(new c.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(w),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(R=!0),this._updateConfigurationViewLineCount.schedule()),T.hasChanged(81)&&(this._decorations.reset(),w.emitViewEvent(new c.ViewDecorationsChangedEvent(null))),w.emitViewEvent(new c.ViewConfigurationChangedEvent(T)),this.viewLayout.onConfigurationChanged(T),R&&N){const F=this.coordinatesConverter.convertModelPositionToViewPosition(N),W=this.viewLayout.getVerticalOffsetForLineNumber(F.lineNumber);this.viewLayout.setScrollPosition({scrollTop:W+this._viewportStartLineDelta},1)}h.CursorConfiguration.shouldRecreate(T)&&(this.cursorConfig=new h.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(w=>{try{const T=this._eventDispatcher.beginEmitViewEvents();let N=!1,R=!1;const B=w instanceof t.InternalModelContentChangeEvent?w.rawContentChangedEvent.changes:w.changes,O=w instanceof t.InternalModelContentChangeEvent?w.rawContentChangedEvent.versionId:null,D=this._lines.createLineBreaksComputer();for(const F of B)switch(F.changeType){case 4:{for(let W=0;W<F.detail.length;W++){const M=F.detail[W];let z=F.injectedTexts[W];z&&(z=z.filter(ee=>!ee.ownerId||ee.ownerId===this._editorId)),D.addRequest(M,z,null)}break}case 2:{let W=null;F.injectedText&&(W=F.injectedText.filter(M=>!M.ownerId||M.ownerId===this._editorId)),D.addRequest(F.detail,W,null);break}}const A=D.finalize(),P=new E.ArrayQueue(A);for(const F of B)switch(F.changeType){case 1:{this._lines.onModelFlushed(),T.emitViewEvent(new c.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),N=!0;break}case 3:{const W=this._lines.onModelLinesDeleted(O,F.fromLineNumber,F.toLineNumber);W!==null&&(T.emitViewEvent(W),this.viewLayout.onLinesDeleted(W.fromLineNumber,W.toLineNumber)),N=!0;break}case 4:{const W=P.takeCount(F.detail.length),M=this._lines.onModelLinesInserted(O,F.fromLineNumber,F.toLineNumber,W);M!==null&&(T.emitViewEvent(M),this.viewLayout.onLinesInserted(M.fromLineNumber,M.toLineNumber)),N=!0;break}case 2:{const W=P.dequeue(),[M,z,ee,ie]=this._lines.onModelLineChanged(O,F.lineNumber,W);R=M,z&&T.emitViewEvent(z),ee&&(T.emitViewEvent(ee),this.viewLayout.onLinesInserted(ee.fromLineNumber,ee.toLineNumber)),ie&&(T.emitViewEvent(ie),this.viewLayout.onLinesDeleted(ie.fromLineNumber,ie.toLineNumber));break}case 5:break}O!==null&&this._lines.acceptVersionId(O),this.viewLayout.onHeightMaybeChanged(),!N&&R&&(T.emitViewEvent(new c.ViewLineMappingChangedEvent),T.emitViewEvent(new c.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(T),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const T=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(T){const N=this.coordinatesConverter.convertModelPositionToViewPosition(T.getStartPosition()),R=this.viewLayout.getVerticalOffsetForLineNumber(N.lineNumber);this.viewLayout.setScrollPosition({scrollTop:R+this._viewportStartLineDelta},1)}}try{const T=this._eventDispatcher.beginEmitViewEvents();w instanceof t.InternalModelContentChangeEvent&&T.emitOutgoingEvent(new g.ModelContentChangedEvent(w.contentChangedEvent)),this._cursor.onModelContentChanged(T,w)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(w=>{const T=[];for(let N=0,R=w.ranges.length;N<R;N++){const B=w.ranges[N],O=this.coordinatesConverter.convertModelPositionToViewPosition(new i.Position(B.fromLineNumber,1)).lineNumber,D=this.coordinatesConverter.convertModelPositionToViewPosition(new i.Position(B.toLineNumber,this.model.getLineMaxColumn(B.toLineNumber))).lineNumber;T[N]={fromLineNumber:O,toLineNumber:D}}this._eventDispatcher.emitSingleViewEvent(new c.ViewTokensChangedEvent(T)),w.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitOutgoingEvent(new g.ModelTokensChangedEvent(w))})),this._register(this.model.onDidChangeLanguageConfiguration(w=>{this._eventDispatcher.emitSingleViewEvent(new c.ViewLanguageConfigurationEvent),this.cursorConfig=new h.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new g.ModelLanguageConfigurationChangedEvent(w))})),this._register(this.model.onDidChangeLanguage(w=>{this.cursorConfig=new h.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new g.ModelLanguageChangedEvent(w))})),this._register(this.model.onDidChangeOptions(w=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const T=this._eventDispatcher.beginEmitViewEvents();T.emitViewEvent(new c.ViewFlushedEvent),T.emitViewEvent(new c.ViewLineMappingChangedEvent),T.emitViewEvent(new c.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(T),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new h.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new g.ModelOptionsChangedEvent(w))})),this._register(this.model.onDidChangeDecorations(w=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new c.ViewDecorationsChangedEvent(w)),this._eventDispatcher.emitOutgoingEvent(new g.ModelDecorationsChangedEvent(w))}))}setHiddenAreas(w){let T=!1;try{const N=this._eventDispatcher.beginEmitViewEvents();T=this._lines.setHiddenAreas(w),T&&(N.emitViewEvent(new c.ViewFlushedEvent),N.emitViewEvent(new c.ViewLineMappingChangedEvent),N.emitViewEvent(new c.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(N),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),T&&this._eventDispatcher.emitOutgoingEvent(new g.ViewZonesChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const w=this._configuration.options.get(131),T=this._configuration.options.get(59),N=Math.max(20,Math.round(w.height/T)),R=this.viewLayout.getLinesViewportData(),B=Math.max(1,R.completelyVisibleStartLineNumber-N),O=Math.min(this.getLineCount(),R.completelyVisibleEndLineNumber+N);return this._toModelVisibleRanges(new n.Range(B,this.getLineMinColumn(B),O,this.getLineMaxColumn(O)))}getVisibleRanges(){const w=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(w)}_toModelVisibleRanges(w){const T=this.coordinatesConverter.convertViewRangeToModelRange(w),N=this._lines.getHiddenAreas();if(N.length===0)return[T];const R=[];let B=0,O=T.startLineNumber,D=T.startColumn;const A=T.endLineNumber,P=T.endColumn;for(let F=0,W=N.length;F<W;F++){const M=N[F].startLineNumber,z=N[F].endLineNumber;z<O||M>A||(O<M&&(R[B++]=new n.Range(O,D,M-1,this.model.getLineMaxColumn(M-1))),O=z+1,D=1)}return(O<A||O===A&&D<P)&&(R[B++]=new n.Range(O,D,A,P)),R}getCompletelyVisibleViewRange(){const w=this.viewLayout.getLinesViewportData(),T=w.completelyVisibleStartLineNumber,N=w.completelyVisibleEndLineNumber;return new n.Range(T,this.getLineMinColumn(T),N,this.getLineMaxColumn(N))}getCompletelyVisibleViewRangeAtScrollTop(w){const T=this.viewLayout.getLinesViewportDataAtScrollTop(w),N=T.completelyVisibleStartLineNumber,R=T.completelyVisibleEndLineNumber;return new n.Range(N,this.getLineMinColumn(N),R,this.getLineMaxColumn(R))}saveState(){const w=this.viewLayout.saveState(),T=w.scrollTop,N=this.viewLayout.getLineNumberAtVerticalOffset(T),R=this.coordinatesConverter.convertViewPositionToModelPosition(new i.Position(N,this.getLineMinColumn(N))),B=this.viewLayout.getVerticalOffsetForLineNumber(N)-T;return{scrollLeft:w.scrollLeft,firstPosition:R,firstPositionDeltaTop:B}}reduceRestoreState(w){if(typeof w.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(w);const T=this.model.validatePosition(w.firstPosition),N=this.coordinatesConverter.convertModelPositionToViewPosition(T),R=this.viewLayout.getVerticalOffsetForLineNumber(N.lineNumber)-w.firstPositionDeltaTop;return{scrollLeft:w.scrollLeft,scrollTop:R}}_reduceRestoreStateCompatibility(w){return{scrollLeft:w.scrollLeft,scrollTop:w.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(w,T,N){this._viewportStartLine=w;const R=this.coordinatesConverter.convertViewPositionToModelPosition(new i.Position(w,this.getLineMinColumn(w)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new n.Range(R.lineNumber,R.column,R.lineNumber,R.column),1);const B=this.viewLayout.getVerticalOffsetForLineNumber(w),O=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=O-B}getActiveIndentGuide(w,T,N){return this._lines.getActiveIndentGuide(w,T,N)}getLinesIndentGuides(w,T){return this._lines.getViewLinesIndentGuides(w,T)}getBracketGuidesInRangeByLine(w,T,N,R){return this._lines.getViewLinesBracketGuides(w,T,N,R)}getLineContent(w){return this._lines.getViewLineContent(w)}getLineLength(w){return this._lines.getViewLineLength(w)}getLineMinColumn(w){return this._lines.getViewLineMinColumn(w)}getLineMaxColumn(w){return this._lines.getViewLineMaxColumn(w)}getLineFirstNonWhitespaceColumn(w){const T=_.firstNonWhitespaceIndex(this.getLineContent(w));return T===-1?0:T+1}getLineLastNonWhitespaceColumn(w){const T=_.lastNonWhitespaceIndex(this.getLineContent(w));return T===-1?0:T+2}getDecorationsInViewport(w){return this._decorations.getDecorationsViewportData(w).decorations}getInjectedTextAt(w){return this._lines.getInjectedTextAt(w)}getViewLineRenderingData(w,T){const N=this.model.mightContainRTL(),R=this.model.mightContainNonBasicASCII(),B=this.getTabSize(),O=this._lines.getViewLineData(T);let A=this._decorations.getDecorationsViewportData(w).inlineDecorations[T-w.startLineNumber];return O.inlineDecorations&&(A=[...A,...O.inlineDecorations.map(P=>P.toInlineDecoration(T))]),new l.ViewLineRenderingData(O.minColumn,O.maxColumn,O.content,O.continuesWithWrappedLine,N,R,O.tokens,A,B,O.startVisibleColumn)}getViewLineData(w){return this._lines.getViewLineData(w)}getMinimapLinesRenderingData(w,T,N){const R=this._lines.getViewLinesData(w,T,N);return new l.MinimapLinesRenderingData(this.getTabSize(),R)}getAllOverviewRulerDecorations(w){const T=this.model.getOverviewRulerDecorations(this._editorId,(0,v.filterValidationDecorations)(this._configuration.options)),N=new S;for(const R of T){const B=R.options,O=B.overviewRuler;if(!O)continue;const D=O.position;if(D===0)continue;const A=O.getColor(w.value),P=this.coordinatesConverter.getViewLineNumberOfModelPosition(R.range.startLineNumber,R.range.startColumn),F=this.coordinatesConverter.getViewLineNumberOfModelPosition(R.range.endLineNumber,R.range.endColumn);N.accept(A,B.zIndex,P,F,D)}return N.asArray}_invalidateDecorationsColorCache(){const w=this.model.getOverviewRulerDecorations();for(const T of w){const N=T.options.overviewRuler;N&&N.invalidateCachedColor();const R=T.options.minimap;R&&R.invalidateCachedColor()}}getValueInRange(w,T){const N=this.coordinatesConverter.convertViewRangeToModelRange(w);return this.model.getValueInRange(N,T)}deduceModelPositionRelativeToViewPosition(w,T,N){const R=this.coordinatesConverter.convertViewPositionToModelPosition(w);this.model.getEOL().length===2&&(T<0?T-=N:T+=N);const O=this.model.getOffsetAt(R)+T;return this.model.getPositionAt(O)}getPlainTextToCopy(w,T,N){const R=N?`\r
`:this.model.getEOL();w=w.slice(0),w.sort(n.Range.compareRangesUsingStarts);let B=!1,O=!1;for(const A of w)A.isEmpty()?B=!0:O=!0;if(!O){if(!T)return"";const A=w.map(F=>F.startLineNumber);let P="";for(let F=0;F<A.length;F++)F>0&&A[F-1]===A[F]||(P+=this.model.getLineContent(A[F])+R);return P}if(B&&T){const A=[];let P=0;for(const F of w){const W=F.startLineNumber;F.isEmpty()?W!==P&&A.push(this.model.getLineContent(W)):A.push(this.model.getValueInRange(F,N?2:0)),P=W}return A.length===1?A[0]:A}const D=[];for(const A of w)A.isEmpty()||D.push(this.model.getValueInRange(A,N?2:0));return D.length===1?D[0]:D}getRichTextToCopy(w,T){const N=this.model.getLanguageId();if(N===d.PLAINTEXT_LANGUAGE_ID||w.length!==1)return null;let R=w[0];if(R.isEmpty()){if(!T)return null;const F=R.startLineNumber;R=new n.Range(F,this.model.getLineMinColumn(F),F,this.model.getLineMaxColumn(F))}const B=this._configuration.options.get(44),O=this._getColorMap(),A=/[:;\\\/<>]/.test(B.fontFamily)||B.fontFamily===v.EDITOR_FONT_DEFAULTS.fontFamily;let P;return A?P=v.EDITOR_FONT_DEFAULTS.fontFamily:(P=B.fontFamily,P=P.replace(/"/g,"'"),/[,']/.test(P)||/[+ ]/.test(P)&&(P=`'${P}'`),P=`${P}, ${v.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:N,html:`<div style="color: ${O[1]};background-color: ${O[2]};font-family: ${P};font-weight: ${B.fontWeight};font-size: ${B.fontSize}px;line-height: ${B.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(R,O)+"</div>"}}_getHTMLToCopy(w,T){const N=w.startLineNumber,R=w.startColumn,B=w.endLineNumber,O=w.endColumn,D=this.getTabSize();let A="";for(let P=N;P<=B;P++){const F=this.model.tokenization.getLineTokens(P),W=F.getLineContent(),M=P===N?R-1:0,z=P===B?O-1:W.length;W===""?A+="<br>":A+=(0,r.tokenizeLineToHTML)(W,F.inflate(),T,M,z,D,L.isWindows)}return A}_getColorMap(){const w=o.TokenizationRegistry.getColorMap(),T=["#000000"];if(w)for(let N=1,R=w.length;N<R;N++)T[N]=k.Color.Format.CSS.formatHex(w[N]);return T}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(w,T,N){return this._withViewEventsCollector(R=>this._cursor.setStates(R,w,T,N))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(w){this._cursor.setCursorColumnSelectData(w)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(w){this._cursor.setPrevEditOperationType(w)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(w,T,N=0){this._withViewEventsCollector(R=>this._cursor.setSelections(R,w,T,N))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(w){this._withViewEventsCollector(T=>this._cursor.restoreState(T,w))}_executeCursorEdit(w){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new g.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(w)}executeEdits(w,T,N){this._executeCursorEdit(R=>this._cursor.executeEdits(R,w,T,N))}startComposition(){this._executeCursorEdit(w=>this._cursor.startComposition(w))}endComposition(w){this._executeCursorEdit(T=>this._cursor.endComposition(T,w))}type(w,T){this._executeCursorEdit(N=>this._cursor.type(N,w,T))}compositionType(w,T,N,R,B){this._executeCursorEdit(O=>this._cursor.compositionType(O,w,T,N,R,B))}paste(w,T,N,R){this._executeCursorEdit(B=>this._cursor.paste(B,w,T,N,R))}cut(w){this._executeCursorEdit(T=>this._cursor.cut(T,w))}executeCommand(w,T){this._executeCursorEdit(N=>this._cursor.executeCommand(N,w,T))}executeCommands(w,T){this._executeCursorEdit(N=>this._cursor.executeCommands(N,w,T))}revealPrimaryCursor(w,T,N=!1){this._withViewEventsCollector(R=>this._cursor.revealPrimary(R,w,N,0,T,0))}revealTopMostCursor(w){const T=this._cursor.getTopMostViewPosition(),N=new n.Range(T.lineNumber,T.column,T.lineNumber,T.column);this._withViewEventsCollector(R=>R.emitViewEvent(new c.ViewRevealRangeRequestEvent(w,!1,N,null,0,!0,0)))}revealBottomMostCursor(w){const T=this._cursor.getBottomMostViewPosition(),N=new n.Range(T.lineNumber,T.column,T.lineNumber,T.column);this._withViewEventsCollector(R=>R.emitViewEvent(new c.ViewRevealRangeRequestEvent(w,!1,N,null,0,!0,0)))}revealRange(w,T,N,R,B){this._withViewEventsCollector(O=>O.emitViewEvent(new c.ViewRevealRangeRequestEvent(w,!1,N,null,R,T,B)))}changeWhitespace(w){this.viewLayout.changeWhitespace(w)&&(this._eventDispatcher.emitSingleViewEvent(new c.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new g.ViewZonesChangedEvent))}_withViewEventsCollector(w){try{const T=this._eventDispatcher.beginEmitViewEvents();return w(T)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(w,T){return this._lines.normalizePosition(w,T)}getLineIndentColumn(w){return this._lines.getLineIndentColumn(w)}}e.ViewModel=C;class S{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(w,T,N,R,B){const O=this._asMap[w];if(O){const D=O.data,A=D[D.length-3],P=D[D.length-1];if(A===B&&P+1>=N){R>P&&(D[D.length-1]=R);return}D.push(B,N,R)}else{const D=new l.OverviewRulerDecorationsGroup(w,T,[B,N,R]);this._asMap[w]=D,this.asArray.push(D)}}}}),define(re[165],se([1,0,513,7,13,4,2,45,619,15,29,676,238,33,286,73,11,3,24,245,149,22,36,54,23,723,26,16,9,159,40,14,68,19,462,521,151,31,67,20,674,378]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g,b,p,C,S,y,w,T,N,R,B,O,D,A,P,F,W,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let z=0;class ee{constructor(q,Z,j,$,H){this.model=q,this.viewModel=Z,this.view=j,this.hasRealView=$,this.listenersToRemove=H}dispose(){(0,L.dispose)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let ie=class Pt extends L.Disposable{constructor(q,Z,j,$,H,te,ne,de,he,pe,ve,ue){super();this.languageConfigurationService=ve,this._deliveryQueue=new I.EventDeliveryQueue,this._onDidDispose=this._register(new I.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this._onDidChangeConfiguration=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Y({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Y({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onWillType=this._onWillType.event,this._onDidType=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this._onContextMenu=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new I.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null,this._dropIntoEditorDecorationIds=[];const Ce=Object.assign({},Z);this._domElement=q,this._overflowWidgetsDomNode=Ce.overflowWidgetsDomNode,delete Ce.overflowWidgetsDomNode,this._id=++z,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=j.telemetryData,this._configuration=this._register(this._createConfiguration(j.isSimpleWidget||!1,Ce,pe)),this._register(this._configuration.onDidChange(be=>{this._onDidChangeConfiguration.fire(be);const ce=this._configuration.options;if(be.hasChanged(131)){const ge=ce.get(131);this._onDidLayoutChange.fire(ge)}})),this._contextKeyService=this._register(ne.createScoped(this._domElement)),this._notificationService=he,this._codeEditorService=H,this._commandService=te,this._themeService=de,this._register(new X(this,this._contextKeyService)),this._register(new J(this,this._contextKeyService,ue)),this._instantiationService=$.createChild(new T.ServiceCollection([y.IContextKeyService,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new oe(q),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let me;Array.isArray(j.contributions)?me=j.contributions:me=u.EditorExtensionsRegistry.getEditorContributions();for(const be of me){if(this._contributions[be.id]){(0,k.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${be.id}`));continue}try{const ce=this._instantiationService.createInstance(be.ctor,this);this._contributions[be.id]=ce}catch(ce){(0,k.onUnexpectedError)(ce)}}u.EditorExtensionsRegistry.getEditorActions().forEach(be=>{if(this._actions[be.id]){(0,k.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${be.id}`));return}const ce=new a.InternalEditorAction(be.id,be.label,be.alias,(0,O.withNullAsUndefined)(be.precondition),()=>this._instantiationService.invokeFunction(ge=>Promise.resolve(be.runEditorCommand(ge,this,null))),this._contextKeyService);this._actions[ce.id]=ce}),Z.enableDropIntoEditor&&this._register(new m.DragAndDropObserver(this._domElement,{onDragEnter:()=>{},onDragOver:be=>{const ce=this.getTargetAtClientPoint(be.clientX,be.clientY);(ce==null?void 0:ce.position)&&this.showDropIndicatorAt(ce.position)},onDrop:be=>Le(this,void 0,void 0,function*(){if(this.removeDropIndicator(),!be.dataTransfer)return;const ce=this.getTargetAtClientPoint(be.clientX,be.clientY);(ce==null?void 0:ce.position)&&this._onDropIntoEditor.fire({position:ce.position,event:be})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(q,Z,j){return new v.EditorConfiguration(q,Z,this._domElement,j)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return l.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const q=Object.keys(this._contributions);for(let Z=0,j=q.length;Z<j;Z++){const $=q[Z];this._contributions[$].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(q){return this._instantiationService.invokeFunction(q)}updateOptions(q){this._configuration.updateOptions(q||{})}getOptions(){return this._configuration.options}getOption(q){return this._configuration.options.get(q)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(q){return this._modelData?P.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(117),q):null}getValue(q=null){if(!this._modelData)return"";const Z=!!(q&&q.preserveBOM);let j=0;return q&&q.lineEnding&&q.lineEnding===`
`?j=1:q&&q.lineEnding&&q.lineEnding===`\r
`&&(j=2),this._modelData.model.getValue(j,Z)}setValue(q){!this._modelData||this._modelData.model.setValue(q)}getModel(){return this._modelData?this._modelData.model:null}setModel(q=null){const Z=q;if(this._modelData===null&&Z===null||this._modelData&&this._modelData.model===Z)return;const j=this.hasTextFocus(),$=this._detachModel();this._attachModel(Z),j&&this.hasModel()&&this.focus();const H={oldModelUrl:$?$.uri:null,newModelUrl:Z?Z.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(H),this._postDetachModelCleanup($)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let q in this._decorationTypeSubtypes){const Z=this._decorationTypeSubtypes[q];for(let j in Z)this._removeDecorationType(q+"-"+j)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(q,Z,j){const $=q.model.validatePosition({lineNumber:Z,column:j}),H=q.viewModel.coordinatesConverter.convertModelPositionToViewPosition($);return q.viewModel.viewLayout.getVerticalOffsetForLineNumber(H.lineNumber)}getTopForLineNumber(q){return this._modelData?Pt._getVerticalOffsetForPosition(this._modelData,q,1):-1}getTopForPosition(q,Z){return this._modelData?Pt._getVerticalOffsetForPosition(this._modelData,q,Z):-1}setHiddenAreas(q){this._modelData&&this._modelData.viewModel.setHiddenAreas(q.map(Z=>c.Range.lift(Z)))}getVisibleColumnFromPosition(q){if(!this._modelData)return q.column;const Z=this._modelData.model.validatePosition(q),j=this._modelData.model.getOptions().tabSize;return d.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(Z.lineNumber),Z.column,j)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(q,Z="api"){if(!!this._modelData){if(!r.Position.isIPosition(q))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(Z,[{selectionStartLineNumber:q.lineNumber,selectionStartColumn:q.column,positionLineNumber:q.lineNumber,positionColumn:q.column}])}}_sendRevealRange(q,Z,j,$){if(!this._modelData)return;if(!c.Range.isIRange(q))throw new Error("Invalid arguments");const H=this._modelData.model.validateRange(q),te=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(H);this._modelData.viewModel.revealRange("api",j,te,Z,$)}revealLine(q,Z=0){this._revealLine(q,0,Z)}revealLineInCenter(q,Z=0){this._revealLine(q,1,Z)}revealLineInCenterIfOutsideViewport(q,Z=0){this._revealLine(q,2,Z)}revealLineNearTop(q,Z=0){this._revealLine(q,5,Z)}_revealLine(q,Z,j){if(typeof q!="number")throw new Error("Invalid arguments");this._sendRevealRange(new c.Range(q,1,q,1),Z,!1,j)}revealPosition(q,Z=0){this._revealPosition(q,0,!0,Z)}revealPositionInCenter(q,Z=0){this._revealPosition(q,1,!0,Z)}revealPositionInCenterIfOutsideViewport(q,Z=0){this._revealPosition(q,2,!0,Z)}revealPositionNearTop(q,Z=0){this._revealPosition(q,5,!0,Z)}_revealPosition(q,Z,j,$){if(!r.Position.isIPosition(q))throw new Error("Invalid arguments");this._sendRevealRange(new c.Range(q.lineNumber,q.column,q.lineNumber,q.column),Z,j,$)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(q,Z="api"){const j=s.Selection.isISelection(q),$=c.Range.isIRange(q);if(!j&&!$)throw new Error("Invalid arguments");if(j)this._setSelectionImpl(q,Z);else if($){const H={selectionStartLineNumber:q.startLineNumber,selectionStartColumn:q.startColumn,positionLineNumber:q.endLineNumber,positionColumn:q.endColumn};this._setSelectionImpl(H,Z)}}_setSelectionImpl(q,Z){if(!this._modelData)return;const j=new s.Selection(q.selectionStartLineNumber,q.selectionStartColumn,q.positionLineNumber,q.positionColumn);this._modelData.viewModel.setSelections(Z,[j])}revealLines(q,Z,j=0){this._revealLines(q,Z,0,j)}revealLinesInCenter(q,Z,j=0){this._revealLines(q,Z,1,j)}revealLinesInCenterIfOutsideViewport(q,Z,j=0){this._revealLines(q,Z,2,j)}revealLinesNearTop(q,Z,j=0){this._revealLines(q,Z,5,j)}_revealLines(q,Z,j,$){if(typeof q!="number"||typeof Z!="number")throw new Error("Invalid arguments");this._sendRevealRange(new c.Range(q,1,Z,1),j,!1,$)}revealRange(q,Z=0,j=!1,$=!0){this._revealRange(q,j?1:0,$,Z)}revealRangeInCenter(q,Z=0){this._revealRange(q,1,!0,Z)}revealRangeInCenterIfOutsideViewport(q,Z=0){this._revealRange(q,2,!0,Z)}revealRangeNearTop(q,Z=0){this._revealRange(q,5,!0,Z)}revealRangeNearTopIfOutsideViewport(q,Z=0){this._revealRange(q,6,!0,Z)}revealRangeAtTop(q,Z=0){this._revealRange(q,3,!0,Z)}_revealRange(q,Z,j,$){if(!c.Range.isIRange(q))throw new Error("Invalid arguments");this._sendRevealRange(c.Range.lift(q),Z,j,$)}setSelections(q,Z="api",j=0){if(!!this._modelData){if(!q||q.length===0)throw new Error("Invalid arguments");for(let $=0,H=q.length;$<H;$++)if(!s.Selection.isISelection(q[$]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(Z,q,j)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(q,Z=1){if(!!this._modelData){if(typeof q!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:q},Z)}}setScrollTop(q,Z=1){if(!!this._modelData){if(typeof q!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:q},Z)}}setScrollPosition(q,Z=1){!this._modelData||this._modelData.viewModel.viewLayout.setScrollPosition(q,Z)}saveViewState(){if(!this._modelData)return null;const q={},Z=Object.keys(this._contributions);for(const H of Z){const te=this._contributions[H];typeof te.saveViewState=="function"&&(q[H]=te.saveViewState())}const j=this._modelData.viewModel.saveCursorState(),$=this._modelData.viewModel.saveState();return{cursorState:j,viewState:$,contributionsState:q}}restoreViewState(q){if(!this._modelData||!this._modelData.hasRealView)return;const Z=q;if(Z&&Z.cursorState&&Z.viewState){const j=Z.cursorState;Array.isArray(j)?j.length>0&&this._modelData.viewModel.restoreCursorState(j):this._modelData.viewModel.restoreCursorState([j]);const $=Z.contributionsState||{},H=Object.keys(this._contributions);for(let ne=0,de=H.length;ne<de;ne++){const he=H[ne],pe=this._contributions[he];typeof pe.restoreViewState=="function"&&pe.restoreViewState($[he])}const te=this._modelData.viewModel.reduceRestoreState(Z.viewState);this._modelData.view.restoreState(te)}}getContribution(q){return this._contributions[q]||null}getActions(){const q=[],Z=Object.keys(this._actions);for(let j=0,$=Z.length;j<$;j++){const H=Z[j];q.push(this._actions[H])}return q}getSupportedActions(){let q=this.getActions();return q=q.filter(Z=>Z.isSupported()),q}getAction(q){return this._actions[q]||null}trigger(q,Z,j){switch(j=j||{},Z){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(q);return;case"type":{const H=j;this._type(q,H.text||"");return}case"replacePreviousChar":{const H=j;this._compositionType(q,H.text||"",H.replaceCharCnt||0,0,0);return}case"compositionType":{const H=j;this._compositionType(q,H.text||"",H.replacePrevCharCnt||0,H.replaceNextCharCnt||0,H.positionDelta||0);return}case"paste":{const H=j;this._paste(q,H.text||"",H.pasteOnNewLine||!1,H.multicursorText||null,H.mode||null);return}case"cut":this._cut(q);return}const $=this.getAction(Z);if($){Promise.resolve($.run()).then(void 0,k.onUnexpectedError);return}!this._modelData||this._triggerEditorCommand(q,Z,j)||this._triggerCommand(Z,j)}_triggerCommand(q,Z){this._commandService.executeCommand(q,Z)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(q){!this._modelData||(this._modelData.viewModel.endComposition(q),this._onDidCompositionEnd.fire())}_type(q,Z){!this._modelData||Z.length===0||(q==="keyboard"&&this._onWillType.fire(Z),this._modelData.viewModel.type(Z,q),q==="keyboard"&&this._onDidType.fire(Z))}_compositionType(q,Z,j,$,H){!this._modelData||this._modelData.viewModel.compositionType(Z,j,$,H,q)}_paste(q,Z,j,$,H){if(!this._modelData||Z.length===0)return;const te=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(Z,j,$,q);const ne=this._modelData.viewModel.getSelection().getStartPosition();q==="keyboard"&&this._onDidPaste.fire({range:new c.Range(te.lineNumber,te.column,ne.lineNumber,ne.column),languageId:H})}_cut(q){!this._modelData||this._modelData.viewModel.cut(q)}_triggerEditorCommand(q,Z,j){const $=u.EditorExtensionsRegistry.getEditorCommand(Z);return $?(j=j||{},j.source=q,this._instantiationService.invokeFunction(H=>{Promise.resolve($.runEditorCommand(H,this,j)).then(void 0,k.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(81)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(81)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(q,Z,j){if(!this._modelData||this._configuration.options.get(81))return!1;let $;return j?Array.isArray(j)?$=()=>j:$=j:$=()=>null,this._modelData.viewModel.executeEdits(q,Z,$),!0}executeCommand(q,Z){!this._modelData||this._modelData.viewModel.executeCommand(Z,q)}executeCommands(q,Z){!this._modelData||this._modelData.viewModel.executeCommands(Z,q)}changeDecorations(q){return this._modelData?this._modelData.model.changeDecorations(q,this._id):null}getLineDecorations(q){return this._modelData?this._modelData.model.getLineDecorations(q,this._id,(0,t.filterValidationDecorations)(this._configuration.options)):null}getDecorationsInRange(q){return this._modelData?this._modelData.model.getDecorationsInRange(q,this._id,(0,t.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(q,Z){return this._modelData?q.length===0&&Z.length===0?q:this._modelData.model.deltaDecorations(q,Z,this._id):[]}removeDecorations(q){const Z=this._decorationTypeKeysToIds[q];Z&&this.deltaDecorations(Z,[]),this._decorationTypeKeysToIds.hasOwnProperty(q)&&delete this._decorationTypeKeysToIds[q],this._decorationTypeSubtypes.hasOwnProperty(q)&&delete this._decorationTypeSubtypes[q]}getLayoutInfo(){return this._configuration.options.get(131)}createOverviewRuler(q){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(q)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(q){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(q)}layout(q){this._configuration.observeContainer(q),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(q){const Z={widget:q,position:q.getPosition()};this._contentWidgets.hasOwnProperty(q.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[q.getId()]=Z,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(Z)}layoutContentWidget(q){const Z=q.getId();if(this._contentWidgets.hasOwnProperty(Z)){const j=this._contentWidgets[Z];j.position=q.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(j)}}removeContentWidget(q){const Z=q.getId();if(this._contentWidgets.hasOwnProperty(Z)){const j=this._contentWidgets[Z];delete this._contentWidgets[Z],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(j)}}addOverlayWidget(q){const Z={widget:q,position:q.getPosition()};this._overlayWidgets.hasOwnProperty(q.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[q.getId()]=Z,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(Z)}layoutOverlayWidget(q){const Z=q.getId();if(this._overlayWidgets.hasOwnProperty(Z)){const j=this._overlayWidgets[Z];j.position=q.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(j)}}removeOverlayWidget(q){const Z=q.getId();if(this._overlayWidgets.hasOwnProperty(Z)){const j=this._overlayWidgets[Z];delete this._overlayWidgets[Z],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(j)}}changeViewZones(q){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(q)}getTargetAtClientPoint(q,Z){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(q,Z)}getScrolledVisiblePosition(q){if(!this._modelData||!this._modelData.hasRealView)return null;const Z=this._modelData.model.validatePosition(q),j=this._configuration.options,$=j.get(131),H=Pt._getVerticalOffsetForPosition(this._modelData,Z.lineNumber,Z.column)-this.getScrollTop(),te=this._modelData.view.getOffsetForColumn(Z.lineNumber,Z.column)+$.glyphMarginWidth+$.lineNumbersWidth+$.decorationsWidth-this.getScrollLeft();return{top:H,left:te,height:j.get(59)}}getOffsetForColumn(q,Z){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(q,Z)}render(q=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,q)}setAriaOptions(q){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(q)}applyFontInfo(q){(0,W.applyFontInfo)(q,this._configuration.options.get(44))}setBanner(q,Z){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=q,this._configuration.setReservedHeight(q?Z:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(q){if(!q){this._modelData=null;return}const Z=[];this._domElement.setAttribute("data-mode-id",q.getLanguageId()),this._configuration.setIsDominatedByLongLines(q.isDominatedByLongLines()),this._configuration.setModelLineCount(q.getLineCount()),q.onBeforeAttached();const j=new C.ViewModel(this._id,this._configuration,q,A.DOMLineBreaksComputerFactory.create(),D.MonospaceLineBreaksComputerFactory.create(this._configuration.options),te=>m.scheduleAtNextAnimationFrame(te),this.languageConfigurationService,this._themeService);Z.push(q.onWillDispose(()=>this.setModel(null))),Z.push(j.onEvent(te=>{switch(te.kind){case 0:this._onDidContentSizeChange.fire(te);break;case 1:this._editorTextFocus.setValue(te.hasFocus);break;case 2:this._onDidScrollChange.fire(te);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{te.reachedMaxCursorCount&&this._notificationService.warn(E.localize(0,null,o.CursorsController.MAX_CURSOR_COUNT));const ne=[];for(let pe=0,ve=te.selections.length;pe<ve;pe++)ne[pe]=te.selections[pe].getPosition();const de={position:ne[0],secondaryPositions:ne.slice(1),reason:te.reason,source:te.source};this._onDidChangeCursorPosition.fire(de);const he={selection:te.selections[0],secondarySelections:te.selections.slice(1),modelVersionId:te.modelVersionId,oldSelections:te.oldSelections,oldModelVersionId:te.oldModelVersionId,source:te.source,reason:te.reason};this._onDidChangeCursorSelection.fire(he);break}case 7:this._onDidChangeModelDecorations.fire(te.event);break;case 8:this._domElement.setAttribute("data-mode-id",q.getLanguageId()),this._onDidChangeModelLanguage.fire(te.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(te.event);break;case 10:this._onDidChangeModelContent.fire(te.event);break;case 11:this._onDidChangeModelOptions.fire(te.event);break;case 12:this._onDidChangeModelTokens.fire(te.event);break}}));const[$,H]=this._createView(j);if(H){this._domElement.appendChild($.domNode.domNode);let te=Object.keys(this._contentWidgets);for(let ne=0,de=te.length;ne<de;ne++){const he=te[ne];$.addContentWidget(this._contentWidgets[he])}te=Object.keys(this._overlayWidgets);for(let ne=0,de=te.length;ne<de;ne++){const he=te[ne];$.addOverlayWidget(this._overlayWidgets[he])}$.render(!1,!0),$.domNode.domNode.setAttribute("data-uri",q.uri.toString())}this._modelData=new ee(q,j,$,H,Z)}_createView(q){let Z;this.isSimpleWidget?Z={paste:(H,te,ne,de)=>{this._paste("keyboard",H,te,ne,de)},type:H=>{this._type("keyboard",H)},compositionType:(H,te,ne,de)=>{this._compositionType("keyboard",H,te,ne,de)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:Z={paste:(H,te,ne,de)=>{const he={text:H,pasteOnNewLine:te,multicursorText:ne,mode:de};this._commandService.executeCommand("paste",he)},type:H=>{const te={text:H};this._commandService.executeCommand("type",te)},compositionType:(H,te,ne,de)=>{if(ne||de){const he={text:H,replacePrevCharCnt:te,replaceNextCharCnt:ne,positionDelta:de};this._commandService.executeCommand("compositionType",he)}else{const he={text:H,replaceCharCnt:te};this._commandService.executeCommand("replacePreviousChar",he)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const j=new n.ViewUserInputEvents(q.coordinatesConverter);return j.onKeyDown=H=>this._onKeyDown.fire(H),j.onKeyUp=H=>this._onKeyUp.fire(H),j.onContextMenu=H=>this._onContextMenu.fire(H),j.onMouseMove=H=>this._onMouseMove.fire(H),j.onMouseLeave=H=>this._onMouseLeave.fire(H),j.onMouseDown=H=>this._onMouseDown.fire(H),j.onMouseUp=H=>this._onMouseUp.fire(H),j.onMouseDrag=H=>this._onMouseDrag.fire(H),j.onMouseDrop=H=>this._onMouseDrop.fire(H),j.onMouseDropCanceled=H=>this._onMouseDropCanceled.fire(H),j.onMouseWheel=H=>this._onMouseWheel.fire(H),[new i.View(Z,this._configuration,this._themeService.getColorTheme(),q,j,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(q){q&&q.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const q=this._modelData.model,Z=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),Z&&this._domElement.contains(Z)&&this._domElement.removeChild(Z),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),q}_removeDecorationType(q){this._codeEditorService.removeDecorationType(q)}hasModel(){return this._modelData!==null}showDropIndicatorAt(q){let Z=[{range:new c.Range(q.lineNumber,q.column,q.lineNumber,q.column),options:Pt.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorationIds=this.deltaDecorations(this._dropIntoEditorDecorationIds,Z),this.revealPosition(q,1)}removeDropIndicator(){this._dropIntoEditorDecorationIds=this.deltaDecorations(this._dropIntoEditorDecorationIds,[])}};ie.dropIntoEditorDecorationOptions=g.ModelDecorationOptions.register({description:"workbench-dnd-target",className:"dnd-target"}),ie=Ie([fe(3,w.IInstantiationService),fe(4,h.ICodeEditorService),fe(5,S.ICommandService),fe(6,y.IContextKeyService),fe(7,R.IThemeService),fe(8,N.INotificationService),fe(9,B.IAccessibilityService),fe(10,F.ILanguageConfigurationService),fe(11,M.ILanguageFeaturesService)],ie),e.CodeEditorWidget=ie;class Y extends L.Disposable{constructor(q){super();this._emitterOptions=q,this._onDidChangeToTrue=this._register(new I.Emitter(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new I.Emitter(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(q){const Z=q?2:1;this._value!==Z&&(this._value=Z,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=Y;class X extends L.Disposable{constructor(q,Z){super();this._editor=q,Z.createKey("editorId",q.getId()),this._editorSimpleInput=f.EditorContextKeys.editorSimpleInput.bindTo(Z),this._editorFocus=f.EditorContextKeys.focus.bindTo(Z),this._textInputFocus=f.EditorContextKeys.textInputFocus.bindTo(Z),this._editorTextFocus=f.EditorContextKeys.editorTextFocus.bindTo(Z),this._editorTabMovesFocus=f.EditorContextKeys.tabMovesFocus.bindTo(Z),this._editorReadonly=f.EditorContextKeys.readOnly.bindTo(Z),this._inDiffEditor=f.EditorContextKeys.inDiffEditor.bindTo(Z),this._editorColumnSelection=f.EditorContextKeys.columnSelection.bindTo(Z),this._hasMultipleSelections=f.EditorContextKeys.hasMultipleSelections.bindTo(Z),this._hasNonEmptySelection=f.EditorContextKeys.hasNonEmptySelection.bindTo(Z),this._canUndo=f.EditorContextKeys.canUndo.bindTo(Z),this._canRedo=f.EditorContextKeys.canRedo.bindTo(Z),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const q=this._editor.getOptions();this._editorTabMovesFocus.set(q.get(130)),this._editorReadonly.set(q.get(81)),this._inDiffEditor.set(q.get(54)),this._editorColumnSelection.set(q.get(18))}_updateFromSelection(){const q=this._editor.getSelections();q?(this._hasMultipleSelections.set(q.length>1),this._hasNonEmptySelection.set(q.some(Z=>!Z.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const q=this._editor.getModel();this._canUndo.set(Boolean(q&&q.canUndo())),this._canRedo.set(Boolean(q&&q.canRedo()))}}class J extends L.Disposable{constructor(q,Z,j){super();this._editor=q,this._contextKeyService=Z,this._languageFeaturesService=j,this._langId=f.EditorContextKeys.languageId.bindTo(Z),this._hasCompletionItemProvider=f.EditorContextKeys.hasCompletionItemProvider.bindTo(Z),this._hasCodeActionsProvider=f.EditorContextKeys.hasCodeActionsProvider.bindTo(Z),this._hasCodeLensProvider=f.EditorContextKeys.hasCodeLensProvider.bindTo(Z),this._hasDefinitionProvider=f.EditorContextKeys.hasDefinitionProvider.bindTo(Z),this._hasDeclarationProvider=f.EditorContextKeys.hasDeclarationProvider.bindTo(Z),this._hasImplementationProvider=f.EditorContextKeys.hasImplementationProvider.bindTo(Z),this._hasTypeDefinitionProvider=f.EditorContextKeys.hasTypeDefinitionProvider.bindTo(Z),this._hasHoverProvider=f.EditorContextKeys.hasHoverProvider.bindTo(Z),this._hasDocumentHighlightProvider=f.EditorContextKeys.hasDocumentHighlightProvider.bindTo(Z),this._hasDocumentSymbolProvider=f.EditorContextKeys.hasDocumentSymbolProvider.bindTo(Z),this._hasReferenceProvider=f.EditorContextKeys.hasReferenceProvider.bindTo(Z),this._hasRenameProvider=f.EditorContextKeys.hasRenameProvider.bindTo(Z),this._hasSignatureHelpProvider=f.EditorContextKeys.hasSignatureHelpProvider.bindTo(Z),this._hasInlayHintsProvider=f.EditorContextKeys.hasInlayHintsProvider.bindTo(Z),this._hasDocumentFormattingProvider=f.EditorContextKeys.hasDocumentFormattingProvider.bindTo(Z),this._hasDocumentSelectionFormattingProvider=f.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(Z),this._hasMultipleDocumentFormattingProvider=f.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(Z),this._hasMultipleDocumentSelectionFormattingProvider=f.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(Z),this._isInWalkThrough=f.EditorContextKeys.isInWalkThroughSnippet.bindTo(Z);const $=()=>this._update();this._register(q.onDidChangeModel($)),this._register(q.onDidChangeModelLanguage($)),this._register(j.completionProvider.onDidChange($)),this._register(j.codeActionProvider.onDidChange($)),this._register(j.codeLensProvider.onDidChange($)),this._register(j.definitionProvider.onDidChange($)),this._register(j.declarationProvider.onDidChange($)),this._register(j.implementationProvider.onDidChange($)),this._register(j.typeDefinitionProvider.onDidChange($)),this._register(j.hoverProvider.onDidChange($)),this._register(j.documentHighlightProvider.onDidChange($)),this._register(j.documentSymbolProvider.onDidChange($)),this._register(j.referenceProvider.onDidChange($)),this._register(j.renameProvider.onDidChange($)),this._register(j.documentFormattingEditProvider.onDidChange($)),this._register(j.documentRangeFormattingEditProvider.onDidChange($)),this._register(j.signatureHelpProvider.onDidChange($)),this._register(j.inlayHintsProvider.onDidChange($)),$()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const q=this._editor.getModel();if(!q){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(q.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(q)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(q)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(q)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(q)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(q)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(q)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(q)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(q)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(q)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(q)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(q)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(q)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(q)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(q)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(q)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(q)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(q)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(q).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(q).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(q).length>1),this._isInWalkThrough.set(q.uri.scheme===_.Schemas.walkThroughSnippet)})}}e.EditorModeContext=J;class oe extends L.Disposable{constructor(q){super();this._onChange=this._register(new I.Emitter),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(m.trackFocus(q)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const G=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),x=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function V(Q){return G+encodeURIComponent(Q.toString())+x}const K=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),le=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function ae(Q){return K+encodeURIComponent(Q.toString())+le}(0,R.registerThemingParticipant)((Q,q)=>{const Z=Q.getColor(p.editorErrorBorder);Z&&q.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${Z}; }`);const j=Q.getColor(p.editorErrorForeground);j&&q.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${V(j)}") repeat-x bottom left; }`);const $=Q.getColor(p.editorErrorBackground);$&&q.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${$}; }`);const H=Q.getColor(p.editorWarningBorder);H&&q.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${H}; }`);const te=Q.getColor(p.editorWarningForeground);te&&q.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${V(te)}") repeat-x bottom left; }`);const ne=Q.getColor(p.editorWarningBackground);ne&&q.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${ne}; }`);const de=Q.getColor(p.editorInfoBorder);de&&q.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${de}; }`);const he=Q.getColor(p.editorInfoForeground);he&&q.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${V(he)}") repeat-x bottom left; }`);const pe=Q.getColor(p.editorInfoBackground);pe&&q.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${pe}; }`);const ve=Q.getColor(p.editorHintBorder);ve&&q.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${ve}; }`);const ue=Q.getColor(p.editorHintForeground);ue&&q.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${ae(ue)}") no-repeat bottom left; }`);const Ce=Q.getColor(b.editorUnnecessaryCodeOpacity);Ce&&q.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${Ce.rgba.a}; }`);const me=Q.getColor(b.editorUnnecessaryCodeBorder);me&&q.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${me}; }`);const be=Q.getColor(p.editorForeground)||"inherit";q.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${be}}`)})}),define(re[304],se([1,0,514,7,32,121,10,4,2,67,146,29,165,715,33,3,94,149,36,89,260,155,129,74,16,9,159,40,23,14,80,517,97,15,13,76,236,28,144,77,58,376]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g,b,p,C,S,y,w,T,N,R,B,O,D,A,P,F,W,M,z){"use strict";var ee;Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;class ie{constructor(ue,Ce){this._contextMenuService=ue,this._clipboardService=Ce,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(ue){return ue.filter(Ce=>!this._zonesMap[String(Ce.id)])}clean(ue){this._zones.length>0&&ue.changeViewZones(Ce=>{for(const me of this._zones)Ce.removeZone(me)}),this._zones=[],this._zonesMap={},this._decorations=ue.deltaDecorations(this._decorations,[])}apply(ue,Ce,me,be){const ce=be?h.StableEditorScrollState.capture(ue):null;ue.changeViewZones(ge=>{var _e;for(const ye of this._zones)ge.removeZone(ye);for(const ye of this._inlineDiffMargins)ye.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let ye=0,Me=me.zones.length;ye<Me;ye++){const ke=me.zones[ye];ke.suppressMouseDown=!0;const Te=ge.addZone(ke);this._zones.push(Te),this._zonesMap[String(Te)]=!0,me.zones[ye].diff&&ke.marginDomNode&&(ke.suppressMouseDown=!1,((_e=me.zones[ye].diff)===null||_e===void 0?void 0:_e.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new R.InlineDiffMargin(Te,ke.marginDomNode,ue,me.zones[ye].diff,this._contextMenuService,this._clipboardService)))}}),ce&&ce.restore(ue),this._decorations=ue.deltaDecorations(this._decorations,me.decorations),Ce&&Ce.setZones(me.overviewZones)}}let Y=0;const X=(0,M.registerIcon)("diff-insert",F.Codicon.add,E.localize(0,null)),J=(0,M.registerIcon)("diff-remove",F.Codicon.remove,E.localize(1,null)),oe=(ee=window.trustedTypes)===null||ee===void 0?void 0:ee.createPolicy("diffEditorWidget",{createHTML:ve=>ve});let G=class rt extends v.Disposable{constructor(ue,Ce,me,be,ce,ge,_e,ye,Me,ke,Te,Oe){super();this._editorProgressService=Oe,this._onDidDispose=this._register(new _.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new _.Emitter),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new _.Emitter),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=ce,this._codeEditorService=ye,this._contextKeyService=this._register(ge.createScoped(ue)),this._instantiationService=_e.createChild(new S.ServiceCollection([p.IContextKeyService,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Me,this._notificationService=ke,this._id=++Y,this._state=0,this._updatingDiffProgress=null,this._domElement=ue,Ce=Ce||{},this._options=he(Ce,{enableSplitViewResizing:!0,renderSideBySide:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof Ce.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",Ce.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new L.RunOnceScheduler(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=rt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,k.createFastDomNode)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(m.addStandardDisposableListener(this._overviewDomElement,m.EventType.POINTER_DOWN,xe=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(xe)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new ie(Te,be),this._modifiedEditorState=new ie(Te,be),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new P.ElementSizeObserver(this._containerDomElement,Ce.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),Ce.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(Ce,me.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(Ce,me.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=_e.createInstance(t.DiffReview,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new Q(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Z(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(Me.onDidColorThemeChange(xe=>{this._strategy&&this._strategy.applyColors(xe)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=rt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const Be=O.EditorExtensionsRegistry.getDiffEditorContributions();for(const xe of Be)try{this._register(_e.createInstance(xe.ctor,this))}catch(Ke){(0,D.onUnexpectedError)(Ke)}this._codeEditorService.addDiffEditor(this)}_setState(ue){this._state!==ue&&(this._state=ue,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(ue,Ce){let me="monaco-diff-editor monaco-editor-background ";return Ce&&(me+="side-by-side "),me+=(0,T.getThemeTypeSelector)(ue.type),me}_recreateOverviewRulers(){!this._options.renderOverviewRuler||(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(ue,Ce){const me=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(ue),Ce);this._register(me.onDidScrollChange(ce=>{this._isHandlingScrollEvent||!ce.scrollTopChanged&&!ce.scrollLeftChanged&&!ce.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:ce.scrollLeft,scrollTop:ce.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(me.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(me.onDidChangeConfiguration(ce=>{!me.getModel()||(ce.hasChanged(44)&&this._updateDecorationsRunner.schedule(),ce.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(me.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(me.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const be=this._contextKeyService.createKey("isInDiffLeftEditor",me.hasWidgetFocus());return this._register(me.onDidFocusEditorWidget(()=>be.set(!0))),this._register(me.onDidBlurEditorWidget(()=>be.set(!1))),this._register(me.onDidContentSizeChange(ce=>{const ge=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+rt.ONE_OVERVIEW_WIDTH,_e=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:_e,contentWidth:ge,contentHeightChanged:ce.contentHeightChanged,contentWidthChanged:ce.contentWidthChanged})})),me}_createRightHandSideEditor(ue,Ce){const me=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(ue),Ce);this._register(me.onDidScrollChange(ce=>{this._isHandlingScrollEvent||!ce.scrollTopChanged&&!ce.scrollLeftChanged&&!ce.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:ce.scrollLeft,scrollTop:ce.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(me.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(me.onDidChangeConfiguration(ce=>{!me.getModel()||(ce.hasChanged(44)&&this._updateDecorationsRunner.schedule(),ce.hasChanged(132)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(me.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(me.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(me.onDidChangeModelOptions(ce=>{ce.tabSize&&this._updateDecorationsRunner.schedule()}));const be=this._contextKeyService.createKey("isInDiffRightEditor",me.hasWidgetFocus());return this._register(me.onDidFocusEditorWidget(()=>be.set(!0))),this._register(me.onDidBlurEditorWidget(()=>be.set(!1))),this._register(me.onDidContentSizeChange(ce=>{const ge=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+rt.ONE_OVERVIEW_WIDTH,_e=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:_e,contentWidth:ge,contentHeightChanged:ce.contentHeightChanged,contentWidthChanged:ce.contentWidthChanged})})),me}_createInnerEditor(ue,Ce,me,be){return ue.createInstance(n.CodeEditorWidget,Ce,Object.assign({enableDropIntoEditor:!0},me),be)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return c.EditorType.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(ue){const Ce=he(ue,this._options),me=pe(this._options,Ce);this._options=Ce;const be=me.ignoreTrimWhitespace||me.renderIndicators,ce=this._isVisible&&(me.maxComputationTime||me.maxFileSize);be?this._beginUpdateDecorations():ce&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(ue)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(ue)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),me.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new Q(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Z(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=rt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),me.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(ue){if(ue&&(!ue.original||!ue.modified))throw new Error(ue.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(ue?ue.original:null),this._modifiedEditor.setModel(ue?ue.modified:null),this._updateDecorationsRunner.cancel(),ue&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),ue&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(ue){return this._modifiedEditor.getVisibleColumnFromPosition(ue)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(ue,Ce="api"){this._modifiedEditor.setPosition(ue,Ce)}revealLine(ue,Ce=0){this._modifiedEditor.revealLine(ue,Ce)}revealLineInCenter(ue,Ce=0){this._modifiedEditor.revealLineInCenter(ue,Ce)}revealLineInCenterIfOutsideViewport(ue,Ce=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(ue,Ce)}revealLineNearTop(ue,Ce=0){this._modifiedEditor.revealLineNearTop(ue,Ce)}revealPosition(ue,Ce=0){this._modifiedEditor.revealPosition(ue,Ce)}revealPositionInCenter(ue,Ce=0){this._modifiedEditor.revealPositionInCenter(ue,Ce)}revealPositionInCenterIfOutsideViewport(ue,Ce=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(ue,Ce)}revealPositionNearTop(ue,Ce=0){this._modifiedEditor.revealPositionNearTop(ue,Ce)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(ue,Ce="api"){this._modifiedEditor.setSelection(ue,Ce)}setSelections(ue,Ce="api"){this._modifiedEditor.setSelections(ue,Ce)}revealLines(ue,Ce,me=0){this._modifiedEditor.revealLines(ue,Ce,me)}revealLinesInCenter(ue,Ce,me=0){this._modifiedEditor.revealLinesInCenter(ue,Ce,me)}revealLinesInCenterIfOutsideViewport(ue,Ce,me=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(ue,Ce,me)}revealLinesNearTop(ue,Ce,me=0){this._modifiedEditor.revealLinesNearTop(ue,Ce,me)}revealRange(ue,Ce=0,me=!1,be=!0){this._modifiedEditor.revealRange(ue,Ce,me,be)}revealRangeInCenter(ue,Ce=0){this._modifiedEditor.revealRangeInCenter(ue,Ce)}revealRangeInCenterIfOutsideViewport(ue,Ce=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(ue,Ce)}revealRangeNearTop(ue,Ce=0){this._modifiedEditor.revealRangeNearTop(ue,Ce)}revealRangeNearTopIfOutsideViewport(ue,Ce=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(ue,Ce)}revealRangeAtTop(ue,Ce=0){this._modifiedEditor.revealRangeAtTop(ue,Ce)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const ue=this._originalEditor.saveViewState(),Ce=this._modifiedEditor.saveViewState();return{original:ue,modified:Ce}}restoreViewState(ue){if(ue&&ue.original&&ue.modified){const Ce=ue;this._originalEditor.restoreViewState(Ce.original),this._modifiedEditor.restoreViewState(Ce.modified)}}layout(ue){this._elementSizeObserver.observe(ue)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(ue,Ce,me){this._modifiedEditor.trigger(ue,Ce,me)}changeDecorations(ue){return this._modifiedEditor.changeDecorations(ue)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const ue=this._elementSizeObserver.getHeight(),Ce=this._getReviewHeight(),me=rt.ENTIRE_DIFF_OVERVIEW_WIDTH-2*rt.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:rt.ONE_OVERVIEW_WIDTH,right:me+rt.ONE_OVERVIEW_WIDTH,height:ue-Ce}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:rt.ONE_OVERVIEW_WIDTH,height:ue-Ce}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),rt.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(ue,Ce){return!ue&&!Ce?!0:!ue||!Ce?!1:ue.toString()===Ce.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const ue=this._originalEditor.getModel(),Ce=this._modifiedEditor.getModel();if(!ue||!Ce)return;this._diffComputationToken++;const me=this._diffComputationToken,be=this._options.maxFileSize*1024*1024,ce=ge=>{const _e=ge.getValueLength();return be===0||_e<=be};if(!ce(ue)||!ce(Ce)){(!rt._equals(ue.uri,this._lastOriginalWarning)||!rt._equals(Ce.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=ue.uri,this._lastModifiedWarning=Ce.uri,this._notificationService.warn(E.localize(2,null)));return}this._setState(1),this._editorWorkerService.computeDiff(ue.uri,Ce.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(ge=>{me===this._diffComputationToken&&ue===this._originalEditor.getModel()&&Ce===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=ge,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},ge=>{me===this._diffComputationToken&&ue===this._originalEditor.getModel()&&Ce===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const ue=this._diffComputationResult?this._diffComputationResult.changes:[],Ce=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),me=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),be=this._strategy.getEditorsDiffDecorations(ue,this._options.ignoreTrimWhitespace,this._options.renderIndicators,Ce,me);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,be.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,be.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(ue){const Ce=Object.assign({},ue);return Ce.inDiffEditor=!0,Ce.automaticLayout=!1,Ce.scrollbar=Object.assign({},Ce.scrollbar||{}),Ce.scrollbar.vertical="visible",Ce.folding=!1,Ce.codeLens=this._options.diffCodeLens,Ce.fixedOverflowWidgets=!0,Ce.minimap=Object.assign({},Ce.minimap||{}),Ce.minimap.enabled=!1,Ce}_adjustOptionsForLeftHandSide(ue){const Ce=this._adjustOptionsForSubEditor(ue);return this._options.renderSideBySide?Ce.wordWrapOverride1=this._options.diffWordWrap:(Ce.wordWrapOverride1="off",Ce.wordWrapOverride2="off"),ue.originalAriaLabel&&(Ce.ariaLabel=ue.originalAriaLabel),Ce.readOnly=!this._options.originalEditable,Ce.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},Ce),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(ue){const Ce=this._adjustOptionsForSubEditor(ue);return ue.modifiedAriaLabel&&(Ce.ariaLabel=ue.modifiedAriaLabel),Ce.wordWrapOverride1=this._options.diffWordWrap,Ce.revealHorizontalRightPadding=o.EditorOptions.revealHorizontalRightPadding.defaultValue+rt.ENTIRE_DIFF_OVERVIEW_WIDTH,Ce.scrollbar.verticalHasArrows=!1,Ce.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},Ce),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const ue=this._elementSizeObserver.getWidth(),Ce=this._elementSizeObserver.getHeight(),me=this._getReviewHeight(),be=this._strategy.layout();this._originalDomNode.style.width=be+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=ue-be+"px",this._modifiedDomNode.style.left=be+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=Ce-me+"px",this._overviewDomElement.style.width=rt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=ue-rt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(rt.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:be,height:Ce-me}),this._modifiedEditor.layout({width:ue-be-(this._options.renderOverviewRuler?rt.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:Ce-me}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(Ce-me,ue,me),this._layoutOverviewViewport()}_layoutOverviewViewport(){const ue=this._computeOverviewViewport();ue?(this._overviewViewportDomElement.setTop(ue.top),this._overviewViewportDomElement.setHeight(ue.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const ue=this._modifiedEditor.getLayoutInfo();if(!ue)return null;const Ce=this._modifiedEditor.getScrollTop(),me=this._modifiedEditor.getScrollHeight(),be=Math.max(0,ue.height),ce=Math.max(0,be-2*0),ge=me>0?ce/me:0,_e=Math.max(0,Math.floor(ue.height*ge)),ye=Math.floor(Ce*ge);return{height:_e,top:ye}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(ue){this._strategy&&this._strategy.dispose(),this._strategy=ue,ue.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(ue,Ce){const me=this._diffComputationResult?this._diffComputationResult.changes:[];if(me.length===0||ue<Ce(me[0]))return null;let be=0,ce=me.length-1;for(;be<ce;){const ge=Math.floor((be+ce)/2),_e=Ce(me[ge]),ye=ge+1<=ce?Ce(me[ge+1]):1073741824;ue<_e?ce=ge-1:ue>=ye?be=ge+1:(be=ge,ce=ge)}return me[be]}_getEquivalentLineForOriginalLineNumber(ue){const Ce=this._getLineChangeAtOrBeforeLineNumber(ue,ye=>ye.originalStartLineNumber);if(!Ce)return ue;const me=Ce.originalStartLineNumber+(Ce.originalEndLineNumber>0?-1:0),be=Ce.modifiedStartLineNumber+(Ce.modifiedEndLineNumber>0?-1:0),ce=Ce.originalEndLineNumber>0?Ce.originalEndLineNumber-Ce.originalStartLineNumber+1:0,ge=Ce.modifiedEndLineNumber>0?Ce.modifiedEndLineNumber-Ce.modifiedStartLineNumber+1:0,_e=ue-me;return _e<=ce?be+Math.min(_e,ge):be+ge-ce+_e}_getEquivalentLineForModifiedLineNumber(ue){const Ce=this._getLineChangeAtOrBeforeLineNumber(ue,ye=>ye.modifiedStartLineNumber);if(!Ce)return ue;const me=Ce.originalStartLineNumber+(Ce.originalEndLineNumber>0?-1:0),be=Ce.modifiedStartLineNumber+(Ce.modifiedEndLineNumber>0?-1:0),ce=Ce.originalEndLineNumber>0?Ce.originalEndLineNumber-Ce.originalStartLineNumber+1:0,ge=Ce.modifiedEndLineNumber>0?Ce.modifiedEndLineNumber-Ce.modifiedStartLineNumber+1:0,_e=ue-be;return _e<=ge?me+Math.min(_e,ce):me+ce-ge+_e}getDiffLineInformationForOriginal(ue){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(ue)}:null}getDiffLineInformationForModified(ue){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(ue)}:null}};G.ONE_OVERVIEW_WIDTH=15,G.ENTIRE_DIFF_OVERVIEW_WIDTH=30,G.UPDATE_DIFF_DECORATIONS_DELAY=200,G=Ie([fe(3,B.IClipboardService),fe(4,a.IEditorWorkerService),fe(5,p.IContextKeyService),fe(6,C.IInstantiationService),fe(7,i.ICodeEditorService),fe(8,T.IThemeService),fe(9,y.INotificationService),fe(10,N.IContextMenuService),fe(11,A.IEditorProgressService)],G),e.DiffEditorWidget=G;class x extends v.Disposable{constructor(ue){super();this._dataSource=ue,this._insertColor=null,this._removeColor=null}applyColors(ue){const Ce=ue.getColor(w.diffOverviewRulerInserted)||(ue.getColor(w.diffInserted)||w.defaultInsertColor).transparent(2),me=ue.getColor(w.diffOverviewRulerRemoved)||(ue.getColor(w.diffRemoved)||w.defaultRemoveColor).transparent(2),be=!Ce.equals(this._insertColor)||!me.equals(this._removeColor);return this._insertColor=Ce,this._removeColor=me,be}getEditorsDiffDecorations(ue,Ce,me,be,ce){ce=ce.sort((Me,ke)=>Me.afterLineNumber-ke.afterLineNumber),be=be.sort((Me,ke)=>Me.afterLineNumber-ke.afterLineNumber);const ge=this._getViewZones(ue,be,ce,me),_e=this._getOriginalEditorDecorations(ge,ue,Ce,me),ye=this._getModifiedEditorDecorations(ge,ue,Ce,me);return{original:{decorations:_e.decorations,overviewZones:_e.overviewZones,zones:ge.original},modified:{decorations:ye.decorations,overviewZones:ye.overviewZones,zones:ge.modified}}}}class V{constructor(ue){this._source=ue,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class K{constructor(ue,Ce,me,be,ce){this._lineChanges=ue,this._originalForeignVZ=Ce,this._modifiedForeignVZ=me,this._originalEditor=be,this._modifiedEditor=ce}static _getViewLineCount(ue,Ce,me){const be=ue.getModel(),ce=ue._getViewModel();if(be&&ce){const ge=de(be,ce,Ce,me);return ge.endLineNumber-ge.startLineNumber+1}return me-Ce+1}getViewZones(){const ue=this._originalEditor.getOption(59),Ce=this._modifiedEditor.getOption(59),me=this._originalEditor.getOption(132).wrappingColumn!==-1,be=this._modifiedEditor.getOption(132).wrappingColumn!==-1,ce=me||be,ge=this._originalEditor.getModel(),_e=this._originalEditor._getViewModel().coordinatesConverter,ye=this._modifiedEditor._getViewModel().coordinatesConverter,Me={original:[],modified:[]};let ke=0,Te=0,Oe=0,Be=0,xe=0,Ke=0;const Ze=(je,Ye)=>je.afterLineNumber-Ye.afterLineNumber,we=(je,Ye)=>{if(Ye.domNode===null&&je.length>0){const He=je[je.length-1];if(He.afterLineNumber===Ye.afterLineNumber&&He.domNode===null){He.heightInLines+=Ye.heightInLines;return}}je.push(Ye)},Se=new V(this._modifiedForeignVZ),De=new V(this._originalForeignVZ);let Pe=1,ze=1;for(let je=0,Ye=this._lineChanges.length;je<=Ye;je++){const He=je<Ye?this._lineChanges[je]:null;He!==null?(Oe=He.originalStartLineNumber+(He.originalEndLineNumber>0?-1:0),Be=He.modifiedStartLineNumber+(He.modifiedEndLineNumber>0?-1:0),Te=He.originalEndLineNumber>0?K._getViewLineCount(this._originalEditor,He.originalStartLineNumber,He.originalEndLineNumber):0,ke=He.modifiedEndLineNumber>0?K._getViewLineCount(this._modifiedEditor,He.modifiedStartLineNumber,He.modifiedEndLineNumber):0,xe=Math.max(He.originalStartLineNumber,He.originalEndLineNumber),Ke=Math.max(He.modifiedStartLineNumber,He.modifiedEndLineNumber)):(Oe+=1e7+Te,Be+=1e7+ke,xe=Oe,Ke=Be);let Fe=[],Ee=[];if(ce){let Ve;He?He.originalEndLineNumber>0?Ve=He.originalStartLineNumber-Pe:Ve=He.modifiedStartLineNumber-ze:Ve=ge.getLineCount()-Pe+1;for(let Qe=0;Qe<Ve;Qe++){const et=Pe+Qe,Ue=ze+Qe,Ne=_e.getModelLineViewLineCount(et),Re=ye.getModelLineViewLineCount(Ue);Ne<Re?Fe.push({afterLineNumber:et,heightInLines:Re-Ne,domNode:null,marginDomNode:null}):Ne>Re&&Ee.push({afterLineNumber:Ue,heightInLines:Ne-Re,domNode:null,marginDomNode:null})}He&&(Pe=(He.originalEndLineNumber>0?He.originalEndLineNumber:He.originalStartLineNumber)+1,ze=(He.modifiedEndLineNumber>0?He.modifiedEndLineNumber:He.modifiedStartLineNumber)+1)}for(;Se.current&&Se.current.afterLineNumber<=Ke;){let Ve;Se.current.afterLineNumber<=Be?Ve=Oe-Be+Se.current.afterLineNumber:Ve=xe;let Qe=null;He&&He.modifiedStartLineNumber<=Se.current.afterLineNumber&&Se.current.afterLineNumber<=He.modifiedEndLineNumber&&(Qe=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),Fe.push({afterLineNumber:Ve,heightInLines:Se.current.height/Ce,domNode:null,marginDomNode:Qe}),Se.advance()}for(;De.current&&De.current.afterLineNumber<=xe;){let Ve;De.current.afterLineNumber<=Oe?Ve=Be-Oe+De.current.afterLineNumber:Ve=Ke,Ee.push({afterLineNumber:Ve,heightInLines:De.current.height/ue,domNode:null}),De.advance()}if(He!==null&&H(He)){const Ve=this._produceOriginalFromDiff(He,Te,ke);Ve&&Fe.push(Ve)}if(He!==null&&te(He)){const Ve=this._produceModifiedFromDiff(He,Te,ke);Ve&&Ee.push(Ve)}let Ae=0,We=0;for(Fe=Fe.sort(Ze),Ee=Ee.sort(Ze);Ae<Fe.length&&We<Ee.length;){const Ve=Fe[Ae],Qe=Ee[We],et=Ve.afterLineNumber-Oe,Ue=Qe.afterLineNumber-Be;et<Ue?(we(Me.original,Ve),Ae++):Ue<et?(we(Me.modified,Qe),We++):Ve.shouldNotShrink?(we(Me.original,Ve),Ae++):Qe.shouldNotShrink?(we(Me.modified,Qe),We++):Ve.heightInLines>=Qe.heightInLines?(Ve.heightInLines-=Qe.heightInLines,We++):(Qe.heightInLines-=Ve.heightInLines,Ae++)}for(;Ae<Fe.length;)we(Me.original,Fe[Ae]),Ae++;for(;We<Ee.length;)we(Me.modified,Ee[We]),We++}return{original:K._ensureDomNodes(Me.original),modified:K._ensureDomNodes(Me.modified)}}static _ensureDomNodes(ue){return ue.map(Ce=>(Ce.domNode||(Ce.domNode=ne()),Ce))}}function le(ve,ue,Ce,me,be){return{range:new d.Range(ve,ue,Ce,me),options:be}}const ae={charDelete:s.ModelDecorationOptions.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:s.ModelDecorationOptions.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:s.ModelDecorationOptions.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:s.ModelDecorationOptions.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:s.ModelDecorationOptions.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:s.ModelDecorationOptions.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+T.ThemeIcon.asClassName(X),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:s.ModelDecorationOptions.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:s.ModelDecorationOptions.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+T.ThemeIcon.asClassName(J),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:s.ModelDecorationOptions.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};class Q extends x{constructor(ue,Ce){super(ue);this._disableSash=Ce===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new I.Sash(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(me=>this._onSashDrag(me)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(ue){const Ce=ue===!1;this._disableSash!==Ce&&(this._disableSash=Ce,this._sash.state=this._disableSash?0:3)}layout(ue=this._sashRatio){const me=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?G.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let be=Math.floor((ue||.5)*me);const ce=Math.floor(.5*me);return be=this._disableSash?ce:be||ce,me>Q.MINIMUM_EDITOR_WIDTH*2?(be<Q.MINIMUM_EDITOR_WIDTH&&(be=Q.MINIMUM_EDITOR_WIDTH),be>me-Q.MINIMUM_EDITOR_WIDTH&&(be=me-Q.MINIMUM_EDITOR_WIDTH)):be=ce,this._sashPosition!==be&&(this._sashPosition=be),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(ue){const me=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?G.ENTIRE_DIFF_OVERVIEW_WIDTH:0),be=this.layout((this._startSashPosition+(ue.currentX-ue.startX))/me);this._sashRatio=be/me,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(ue){return 0}getVerticalSashLeft(ue){return this._sashPosition}getVerticalSashHeight(ue){return this._dataSource.getHeight()}_getViewZones(ue,Ce,me){const be=this._dataSource.getOriginalEditor(),ce=this._dataSource.getModifiedEditor();return new q(ue,Ce,me,be,ce).getViewZones()}_getOriginalEditorDecorations(ue,Ce,me,be){const ce=this._dataSource.getOriginalEditor(),ge=String(this._removeColor),_e={decorations:[],overviewZones:[]},ye=ce.getModel(),Me=ce._getViewModel();for(const ke of Ce)if(te(ke)){_e.decorations.push({range:new d.Range(ke.originalStartLineNumber,1,ke.originalEndLineNumber,1073741824),options:be?ae.lineDeleteWithSign:ae.lineDelete}),(!H(ke)||!ke.charChanges)&&_e.decorations.push(le(ke.originalStartLineNumber,1,ke.originalEndLineNumber,1073741824,ae.charDeleteWholeLine));const Te=de(ye,Me,ke.originalStartLineNumber,ke.originalEndLineNumber);if(_e.overviewZones.push(new l.OverviewRulerZone(Te.startLineNumber,Te.endLineNumber,0,ge)),ke.charChanges){for(const Oe of ke.charChanges)if(te(Oe))if(me)for(let Be=Oe.originalStartLineNumber;Be<=Oe.originalEndLineNumber;Be++){let xe,Ke;Be===Oe.originalStartLineNumber?xe=Oe.originalStartColumn:xe=ye.getLineFirstNonWhitespaceColumn(Be),Be===Oe.originalEndLineNumber?Ke=Oe.originalEndColumn:Ke=ye.getLineLastNonWhitespaceColumn(Be),_e.decorations.push(le(Be,xe,Be,Ke,ae.charDelete))}else _e.decorations.push(le(Oe.originalStartLineNumber,Oe.originalStartColumn,Oe.originalEndLineNumber,Oe.originalEndColumn,ae.charDelete))}}return _e}_getModifiedEditorDecorations(ue,Ce,me,be){const ce=this._dataSource.getModifiedEditor(),ge=String(this._insertColor),_e={decorations:[],overviewZones:[]},ye=ce.getModel(),Me=ce._getViewModel();for(const ke of Ce)if(H(ke)){_e.decorations.push({range:new d.Range(ke.modifiedStartLineNumber,1,ke.modifiedEndLineNumber,1073741824),options:be?ae.lineInsertWithSign:ae.lineInsert}),(!te(ke)||!ke.charChanges)&&_e.decorations.push(le(ke.modifiedStartLineNumber,1,ke.modifiedEndLineNumber,1073741824,ae.charInsertWholeLine));const Te=de(ye,Me,ke.modifiedStartLineNumber,ke.modifiedEndLineNumber);if(_e.overviewZones.push(new l.OverviewRulerZone(Te.startLineNumber,Te.endLineNumber,0,ge)),ke.charChanges){for(const Oe of ke.charChanges)if(H(Oe))if(me)for(let Be=Oe.modifiedStartLineNumber;Be<=Oe.modifiedEndLineNumber;Be++){let xe,Ke;Be===Oe.modifiedStartLineNumber?xe=Oe.modifiedStartColumn:xe=ye.getLineFirstNonWhitespaceColumn(Be),Be===Oe.modifiedEndLineNumber?Ke=Oe.modifiedEndColumn:Ke=ye.getLineLastNonWhitespaceColumn(Be),_e.decorations.push(le(Be,xe,Be,Ke,ae.charInsert))}else _e.decorations.push(le(Oe.modifiedStartLineNumber,Oe.modifiedStartColumn,Oe.modifiedEndLineNumber,Oe.modifiedEndColumn,ae.charInsert))}}return _e}}Q.MINIMUM_EDITOR_WIDTH=100;class q extends K{constructor(ue,Ce,me,be,ce){super(ue,Ce,me,be,ce)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(ue,Ce,me){return me>Ce?{afterLineNumber:Math.max(ue.originalStartLineNumber,ue.originalEndLineNumber),heightInLines:me-Ce,domNode:null}:null}_produceModifiedFromDiff(ue,Ce,me){return Ce>me?{afterLineNumber:Math.max(ue.modifiedStartLineNumber,ue.modifiedEndLineNumber),heightInLines:Ce-me,domNode:null}:null}}class Z extends x{constructor(ue,Ce){super(ue);this._decorationsLeft=ue.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(ue.getOriginalEditor().onDidLayoutChange(me=>{this._decorationsLeft!==me.decorationsLeft&&(this._decorationsLeft=me.decorationsLeft,ue.relayoutEditors())}))}setEnableSplitViewResizing(ue){}_getViewZones(ue,Ce,me,be){const ce=this._dataSource.getOriginalEditor(),ge=this._dataSource.getModifiedEditor();return new j(ue,Ce,me,ce,ge,be).getViewZones()}_getOriginalEditorDecorations(ue,Ce,me,be){const ce=String(this._removeColor),ge={decorations:[],overviewZones:[]},_e=this._dataSource.getOriginalEditor(),ye=_e.getModel(),Me=_e._getViewModel();let ke=0;for(const Te of Ce)if(te(Te)){for(ge.decorations.push({range:new d.Range(Te.originalStartLineNumber,1,Te.originalEndLineNumber,1073741824),options:ae.lineDeleteMargin});ke<ue.modified.length;){const xe=ue.modified[ke];if(xe.diff&&xe.diff.originalStartLineNumber>=Te.originalStartLineNumber)break;ke++}let Oe=0;if(ke<ue.modified.length){const xe=ue.modified[ke];xe.diff&&xe.diff.originalStartLineNumber===Te.originalStartLineNumber&&xe.diff.originalEndLineNumber===Te.originalEndLineNumber&&xe.diff.modifiedStartLineNumber===Te.modifiedStartLineNumber&&xe.diff.modifiedEndLineNumber===Te.modifiedEndLineNumber&&(Oe=xe.heightInLines)}const Be=de(ye,Me,Te.originalStartLineNumber,Te.originalEndLineNumber);ge.overviewZones.push(new l.OverviewRulerZone(Be.startLineNumber,Be.endLineNumber,Oe,ce))}return ge}_getModifiedEditorDecorations(ue,Ce,me,be){const ce=this._dataSource.getModifiedEditor(),ge=String(this._insertColor),_e={decorations:[],overviewZones:[]},ye=ce.getModel(),Me=ce._getViewModel();for(const ke of Ce)if(H(ke)){_e.decorations.push({range:new d.Range(ke.modifiedStartLineNumber,1,ke.modifiedEndLineNumber,1073741824),options:be?ae.lineInsertWithSign:ae.lineInsert});const Te=de(ye,Me,ke.modifiedStartLineNumber,ke.modifiedEndLineNumber);if(_e.overviewZones.push(new l.OverviewRulerZone(Te.startLineNumber,Te.endLineNumber,0,ge)),ke.charChanges){for(const Oe of ke.charChanges)if(H(Oe))if(me)for(let Be=Oe.modifiedStartLineNumber;Be<=Oe.modifiedEndLineNumber;Be++){let xe,Ke;Be===Oe.modifiedStartLineNumber?xe=Oe.modifiedStartColumn:xe=ye.getLineFirstNonWhitespaceColumn(Be),Be===Oe.modifiedEndLineNumber?Ke=Oe.modifiedEndColumn:Ke=ye.getLineLastNonWhitespaceColumn(Be),_e.decorations.push(le(Be,xe,Be,Ke,ae.charInsert))}else _e.decorations.push(le(Oe.modifiedStartLineNumber,Oe.modifiedStartColumn,Oe.modifiedEndLineNumber,Oe.modifiedEndColumn,ae.charInsert))}else _e.decorations.push(le(ke.modifiedStartLineNumber,1,ke.modifiedEndLineNumber,1073741824,ae.charInsertWholeLine))}return _e}layout(){return Math.max(5,this._decorationsLeft)}}class j extends K{constructor(ue,Ce,me,be,ce,ge){super(ue,Ce,me,be,ce);this._originalModel=be.getModel(),this._renderIndicators=ge,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const ue=super.getViewZones();return this._finalize(ue),ue}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const ue=document.createElement("div");return ue.className="inline-added-margin-view-zone",ue}_produceOriginalFromDiff(ue,Ce,me){const be=document.createElement("div");return be.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(ue.originalStartLineNumber,ue.originalEndLineNumber),heightInLines:me,domNode:document.createElement("div"),marginDomNode:be}}_produceModifiedFromDiff(ue,Ce,me){const be=document.createElement("div");be.className=`view-lines line-delete ${W.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`;const ce=document.createElement("div");ce.className="inline-deleted-margin-view-zone";const ge={shouldNotShrink:!0,afterLineNumber:ue.modifiedEndLineNumber===0?ue.modifiedStartLineNumber:ue.modifiedStartLineNumber-1,heightInLines:Ce,minWidthInPx:0,domNode:be,marginDomNode:ce,diff:{originalStartLineNumber:ue.originalStartLineNumber,originalEndLineNumber:ue.originalEndLineNumber,modifiedStartLineNumber:ue.modifiedStartLineNumber,modifiedEndLineNumber:ue.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let _e=ue.originalStartLineNumber;_e<=ue.originalEndLineNumber;_e++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(_e),null,null);return this._pendingLineChange.push(ue),this._pendingViewZones.push(ge),ge}_finalize(ue){const Ce=this._modifiedEditor.getOptions(),me=this._modifiedEditor.getModel().getOptions().tabSize,be=Ce.get(44),ce=Ce.get(29),ge=be.typicalHalfwidthCharacterWidth,_e=Ce.get(93),ye=this._originalModel.mightContainNonBasicASCII(),Me=this._originalModel.mightContainRTL(),ke=Ce.get(59),Oe=Ce.get(131).decorationsWidth,Be=Ce.get(105),xe=Ce.get(88),Ke=Ce.get(83),Ze=Ce.get(45),we=this._lineBreaksComputer.finalize();let Se=0;for(let De=0;De<this._pendingLineChange.length;De++){const Pe=this._pendingLineChange[De],ze=this._pendingViewZones[De],je=ze.domNode;(0,u.applyFontInfo)(je,be);const Ye=ze.marginDomNode;(0,u.applyFontInfo)(Ye,be);const He=[];if(Pe.charChanges)for(const Ue of Pe.charChanges)te(Ue)&&He.push(new b.InlineDecoration(new d.Range(Ue.originalStartLineNumber,Ue.originalStartColumn,Ue.originalEndLineNumber,Ue.originalEndColumn),"char-delete",0));const Fe=He.length>0,Ee=(0,r.createStringBuilder)(1e4);let Ae=0,We=0,Ve=null;for(let Ue=Pe.originalStartLineNumber;Ue<=Pe.originalEndLineNumber;Ue++){const Ne=Ue-Pe.originalStartLineNumber,Re=this._originalModel.tokenization.getLineTokens(Ue),qe=Re.getLineContent(),$e=we[Se++],tt=f.LineDecoration.filter(He,Ue,1,qe.length+1);if($e){let Ge=0;for(const it of $e.breakOffsets){const lt=Re.sliceAndInflate(Ge,it,0),ft=qe.substring(Ge,it);Ae=Math.max(Ae,this._renderOriginalLine(We++,ft,lt,f.LineDecoration.extractWrapped(tt,Ge,it),Fe,ye,Me,be,ce,ke,Oe,Be,xe,Ke,Ze,me,Ee,Ye)),Ge=it}for(Ve||(Ve=[]);Ve.length<Ne;)Ve[Ve.length]=1;Ve[Ne]=$e.breakOffsets.length,ze.heightInLines+=$e.breakOffsets.length-1;const Xe=document.createElement("div");Xe.className="gutter-delete",ue.original.push({afterLineNumber:Ue,afterColumn:0,heightInLines:$e.breakOffsets.length-1,domNode:ne(),marginDomNode:Xe})}else Ae=Math.max(Ae,this._renderOriginalLine(We++,qe,Re,tt,Fe,ye,Me,be,ce,ke,Oe,Be,xe,Ke,Ze,me,Ee,Ye))}Ae+=_e;const Qe=Ee.build(),et=oe?oe.createHTML(Qe):Qe;if(je.innerHTML=et,ze.minWidthInPx=Ae*ge,Ve){const Ue=Pe.originalEndLineNumber-Pe.originalStartLineNumber;for(;Ve.length<=Ue;)Ve[Ve.length]=1}ze.diff.viewLineCounts=Ve}ue.original.sort((De,Pe)=>De.afterLineNumber-Pe.afterLineNumber)}_renderOriginalLine(ue,Ce,me,be,ce,ge,_e,ye,Me,ke,Te,Oe,Be,xe,Ke,Ze,we,Se){we.appendASCIIString('<div class="view-line'),ce||we.appendASCIIString(" char-delete"),we.appendASCIIString('" style="top:'),we.appendASCIIString(String(ue*ke)),we.appendASCIIString('px;width:1000000px;">');const De=b.ViewLineRenderingData.isBasicASCII(Ce,ge),Pe=b.ViewLineRenderingData.containsRTL(Ce,De,_e),ze=(0,g.renderViewLine)(new g.RenderLineInput(ye.isMonospace&&!Me,ye.canUseHalfwidthRightwardsArrow,Ce,!1,De,Pe,0,me,be,Ze,0,ye.spaceWidth,ye.middotWidth,ye.wsmiddotWidth,Oe,Be,xe,Ke!==o.EditorFontLigatures.OFF,null),we);if(we.appendASCIIString("</div>"),this._renderIndicators){const je=document.createElement("div");je.className=`delete-sign ${T.ThemeIcon.asClassName(J)}`,je.setAttribute("style",`position:absolute;top:${ue*ke}px;width:${Te}px;height:${ke}px;right:0;`),Se.appendChild(je)}return ze.characterMapping.getAbsoluteOffset(ze.characterMapping.length)}}function $(ve,ue){return(0,o.stringSet)(ve,ue,["off","on","inherit"])}function H(ve){return ve.modifiedEndLineNumber>0}function te(ve){return ve.originalEndLineNumber>0}function ne(){const ve=document.createElement("div");return ve.className="diagonal-fill",ve}function de(ve,ue,Ce,me){const be=ve.getLineCount();return Ce=Math.min(be,Math.max(1,Ce)),me=Math.min(be,Math.max(1,me)),ue.coordinatesConverter.convertModelRangeToViewRange(new d.Range(Ce,ve.getLineMinColumn(Ce),me,ve.getLineMaxColumn(me)))}function he(ve,ue){return{enableSplitViewResizing:(0,o.boolean)(ve.enableSplitViewResizing,ue.enableSplitViewResizing),renderSideBySide:(0,o.boolean)(ve.renderSideBySide,ue.renderSideBySide),maxComputationTime:(0,o.clampedInt)(ve.maxComputationTime,ue.maxComputationTime,0,1073741824),maxFileSize:(0,o.clampedInt)(ve.maxFileSize,ue.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,o.boolean)(ve.ignoreTrimWhitespace,ue.ignoreTrimWhitespace),renderIndicators:(0,o.boolean)(ve.renderIndicators,ue.renderIndicators),originalEditable:(0,o.boolean)(ve.originalEditable,ue.originalEditable),diffCodeLens:(0,o.boolean)(ve.diffCodeLens,ue.diffCodeLens),renderOverviewRuler:(0,o.boolean)(ve.renderOverviewRuler,ue.renderOverviewRuler),diffWordWrap:$(ve.diffWordWrap,ue.diffWordWrap)}}function pe(ve,ue){return{enableSplitViewResizing:ve.enableSplitViewResizing!==ue.enableSplitViewResizing,renderSideBySide:ve.renderSideBySide!==ue.renderSideBySide,maxComputationTime:ve.maxComputationTime!==ue.maxComputationTime,maxFileSize:ve.maxFileSize!==ue.maxFileSize,ignoreTrimWhitespace:ve.ignoreTrimWhitespace!==ue.ignoreTrimWhitespace,renderIndicators:ve.renderIndicators!==ue.renderIndicators,originalEditable:ve.originalEditable!==ue.originalEditable,diffCodeLens:ve.diffCodeLens!==ue.diffCodeLens,renderOverviewRuler:ve.renderOverviewRuler!==ue.renderOverviewRuler,diffWordWrap:ve.diffWordWrap!==ue.diffWordWrap}}(0,T.registerThemingParticipant)((ve,ue)=>{const Ce=ve.getColor(w.diffInserted);Ce&&ue.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${Ce}; }`);const me=ve.getColor(w.diffInsertedLine)||Ce;me&&ue.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${me}; }`);const be=ve.getColor(w.diffInsertedLineGutter)||me;be&&(ue.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${be}; }`),ue.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${be}; }`));const ce=ve.getColor(w.diffRemoved);ce&&ue.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${ce}; }`);const ge=ve.getColor(w.diffRemovedLine)||ce;ge&&ue.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${ge}; }`);const _e=ve.getColor(w.diffRemovedLineGutter)||ge;_e&&(ue.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${_e}; }`),ue.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${_e}; }`));const ye=ve.getColor(w.diffInsertedOutline);ye&&ue.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${(0,z.isHighContrast)(ve.type)?"dashed":"solid"} ${ye}; }`);const Me=ve.getColor(w.diffRemovedOutline);Me&&ue.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${(0,z.isHighContrast)(ve.type)?"dashed":"solid"} ${Me}; }`);const ke=ve.getColor(w.scrollbarShadow);ke&&ue.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${ke}; }`);const Te=ve.getColor(w.diffBorder);Te&&ue.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${Te}; }`);const Oe=ve.getColor(w.scrollbarSliderBackground);Oe&&ue.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${Oe};
			}
		`);const Be=ve.getColor(w.scrollbarSliderHoverBackground);Be&&ue.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${Be};
			}
		`);const xe=ve.getColor(w.scrollbarSliderActiveBackground);xe&&ue.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${xe};
			}
		`);const Ke=ve.getColor(w.diffDiagonalFill);ue.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${Ke} 12.5%,
			#0000 12.5%, #0000 50%,
			${Ke} 50%, ${Ke} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})}),define(re[166],se([1,0,41,29,165,26,16,9,40,14,68,31,20]),function(U,e,E,m,k,I,L,_,v,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let t=class extends k.CodeEditorWidget{constructor(d,r,c,s,a,l,f,g,b,p,C,S){super(d,Object.assign(Object.assign({},c.getRawOptions()),{overflowWidgetsDomNode:c.getOverflowWidgetsDomNode()}),{},s,a,l,f,g,b,p,C,S);this._parentEditor=c,this._overwriteOptions=r,super.updateOptions(this._overwriteOptions),this._register(c.onDidChangeConfiguration(y=>this._onParentConfigurationChanged(y)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(d){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(d){E.mixin(this._overwriteOptions,d,!0),super.updateOptions(this._overwriteOptions)}};t=Ie([fe(3,_.IInstantiationService),fe(4,m.ICodeEditorService),fe(5,I.ICommandService),fe(6,L.IContextKeyService),fe(7,u.IThemeService),fe(8,v.INotificationService),fe(9,h.IAccessibilityService),fe(10,i.ILanguageConfigurationService),fe(11,n.ILanguageFeaturesService)],t),e.EmbeddedCodeEditorWidget=t}),define(re[724],se([1,0,10,2,15,11,3,24,22,47,36,54,530,39,23,14,380]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const r=(0,o.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},n.localize(0,null));class c extends k.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:n.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|1024|88,weight:100}})}run(g,b){var p;(p=l.get(b))===null||p===void 0||p.jumpToBracket()}}class s extends k.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:n.localize(2,null),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(g,b,p){var C;let S=!0;p&&p.selectBrackets===!1&&(S=!1),(C=l.get(b))===null||C===void 0||C.selectToBracket(S)}}class a{constructor(g,b,p){this.position=g,this.brackets=b,this.options=p}}class l extends m.Disposable{constructor(g){super();this._editor=g,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new E.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(64),this._updateBracketsSoon.schedule(),this._register(g.onDidChangeCursorPosition(b=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(g.onDidChangeModelContent(b=>{this._updateBracketsSoon.schedule()})),this._register(g.onDidChangeModel(b=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()})),this._register(g.onDidChangeModelLanguageConfiguration(b=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(g.onDidChangeConfiguration(b=>{b.hasChanged(64)&&(this._matchBrackets=this._editor.getOption(64),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(g.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(g.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(g){return g.getContribution(l.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const g=this._editor.getModel(),b=this._editor.getSelections().map(p=>{const C=p.getStartPosition(),S=g.bracketPairs.matchBracket(C);let y=null;if(S)S[0].containsPosition(C)&&!S[1].containsPosition(C)?y=S[1].getStartPosition():S[1].containsPosition(C)&&(y=S[0].getStartPosition());else{const w=g.bracketPairs.findEnclosingBrackets(C);if(w)y=w[1].getStartPosition();else{const T=g.bracketPairs.findNextBracket(C);T&&T.range&&(y=T.range.getStartPosition())}}return y?new _.Selection(y.lineNumber,y.column,y.lineNumber,y.column):new _.Selection(C.lineNumber,C.column,C.lineNumber,C.column)});this._editor.setSelections(b),this._editor.revealRange(b[0])}selectToBracket(g){if(!this._editor.hasModel())return;const b=this._editor.getModel(),p=[];this._editor.getSelections().forEach(C=>{const S=C.getStartPosition();let y=b.bracketPairs.matchBracket(S);if(!y&&(y=b.bracketPairs.findEnclosingBrackets(S),!y)){const N=b.bracketPairs.findNextBracket(S);N&&N.range&&(y=b.bracketPairs.matchBracket(N.range.getStartPosition()))}let w=null,T=null;if(y){y.sort(L.Range.compareRangesUsingStarts);const[N,R]=y;if(w=g?N.getStartPosition():N.getEndPosition(),T=g?R.getEndPosition():R.getStartPosition(),R.containsPosition(S)){const B=w;w=T,T=B}}w&&T&&p.push(new _.Selection(w.lineNumber,w.column,T.lineNumber,T.column))}),p.length>0&&(this._editor.setSelections(p),this._editor.revealRange(p[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();let g=[],b=0;for(const p of this._lastBracketsData){let C=p.brackets;C&&(g[b++]={range:C[0],options:p.options},g[b++]={range:C[1],options:p.options})}this._decorations=this._editor.deltaDecorations(this._decorations,g)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const g=this._editor.getSelections();if(g.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const b=this._editor.getModel(),p=b.getVersionId();let C=[];this._lastVersionId===p&&(C=this._lastBracketsData);let S=[],y=0;for(let B=0,O=g.length;B<O;B++){let D=g[B];D.isEmpty()&&(S[y++]=D.getStartPosition())}S.length>1&&S.sort(I.Position.compare);let w=[],T=0,N=0,R=C.length;for(let B=0,O=S.length;B<O;B++){let D=S[B];for(;N<R&&C[N].position.isBefore(D);)N++;if(N<R&&C[N].position.equals(D))w[T++]=C[N];else{let A=b.bracketPairs.matchBracket(D,20),P=l._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!A&&this._matchBrackets==="always"&&(A=b.bracketPairs.findEnclosingBrackets(D,20),P=l._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),w[T++]=new a(D,A,P)}}this._lastBracketsData=w,this._lastVersionId=p}}e.BracketMatchingController=l,l.ID="editor.contrib.bracketMatchingController",l._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=h.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,d.themeColorFromId)(r),position:u.OverviewRulerLane.Center}}),l._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=h.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,k.registerEditorContribution)(l.ID,l),(0,k.registerEditorAction)(s),(0,k.registerEditorAction)(c),(0,d.registerThemingParticipant)((f,g)=>{const b=f.getColor(i.editorBracketMatchBackground);b&&g.addRule(`.monaco-editor .bracket-match { background-color: ${b}; }`);const p=f.getColor(i.editorBracketMatchBorder);p&&g.addRule(`.monaco-editor .bracket-match { border: 1px solid ${p}; }`)}),t.MenuRegistry.appendMenuItem(t.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:n.localize(3,null)},order:2})}),define(re[725],se([1,0,7,120,3,36,382]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class L{constructor(i,n,t){this.afterColumn=1073741824,this.afterLineNumber=i,this.heightInPx=n,this._onHeight=t,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(i){this._lastHeight===void 0?this._lastHeight=i:this._lastHeight!==i&&(this._lastHeight=i,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class _{constructor(i,n,t){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=i,this._id=`codelens.widget-${_._idPool++}`,this.updatePosition(t),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${n}`}withCommands(i,n){this._commands.clear();let t=[],o=!1;for(let d=0;d<i.length;d++){const r=i[d];if(!!r&&(o=!0,r.command)){const c=(0,m.renderLabelWithIcons)(r.command.title.trim());r.command.id?(t.push(E.$("a",{id:String(d),title:r.command.tooltip,role:"button"},...c)),this._commands.set(String(d),r.command)):t.push(E.$("span",{title:r.command.tooltip},...c)),d+1<i.length&&t.push(E.$("span",void 0,"\xA0|\xA0"))}}o?(E.reset(this._domNode,...t),this._isEmpty&&n&&this._domNode.classList.add("fadein"),this._isEmpty=!1):E.reset(this._domNode,E.$("span",void 0,"no commands"))}getCommand(i){return i.parentElement===this._domNode?this._commands.get(i.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(i){const n=this._editor.getModel().getLineFirstNonWhitespaceColumn(i);this._widgetPosition={position:{lineNumber:i,column:n},preference:[1]}}getPosition(){return this._widgetPosition||null}}_._idPool=0;class v{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(i,n){this._addDecorations.push(i),this._addDecorationsCallbacks.push(n)}removeDecoration(i){this._removeDecorations.push(i)}commit(i){let n=i.deltaDecorations(this._removeDecorations,this._addDecorations);for(let t=0,o=n.length;t<o;t++)this._addDecorationsCallbacks[t](n[t])}}e.CodeLensHelper=v;class u{constructor(i,n,t,o,d,r,c){this._isDisposed=!1,this._editor=n,this._className=t,this._data=i,this._decorationIds=[];let s,a=[];this._data.forEach((l,f)=>{l.symbol.command&&a.push(l.symbol),o.addDecoration({range:l.symbol.range,options:I.ModelDecorationOptions.EMPTY},g=>this._decorationIds[f]=g),s?s=k.Range.plusRange(s,l.symbol.range):s=k.Range.lift(l.symbol.range)}),this._viewZone=new L(s.startLineNumber-1,r,c),this._viewZoneId=d.addZone(this._viewZone),a.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(a,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new _(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(i,n){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],n&&n.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((i,n)=>{const t=this._editor.getModel().getDecorationRange(i),o=this._data[n].symbol;return!!(t&&k.Range.isEmpty(o.range)===t.isEmpty())})}updateCodeLensSymbols(i,n){this._decorationIds.forEach(n.removeDecoration,n),this._decorationIds=[],this._data=i,this._data.forEach((t,o)=>{n.addDecoration({range:t.symbol.range,options:I.ModelDecorationOptions.EMPTY},d=>this._decorationIds[o]=d)})}updateHeight(i,n){this._viewZone.heightInPx=i,n.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(i){if(!this._viewZone.isVisible())return null;for(let n=0;n<this._decorationIds.length;n++){const t=i.getDecorationRange(this._decorationIds[n]);t&&(this._data[n].symbol.range=t)}return this._data}updateCommands(i){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(i,!0);for(let n=0;n<this._data.length;n++){const t=i[n];if(t){const{symbol:o}=this._data[n];o.command=t.command||o.command}}}getCommand(i){var n;return(n=this._contentWidget)===null||n===void 0?void 0:n.getCommand(i)}getLineNumber(){const i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return i?i.startLineNumber:-1}update(i){if(this.isValid()){const n=this._editor.getModel().getDecorationRange(this._decorationIds[0]);n&&(this._viewZone.afterLineNumber=n.startLineNumber-1,i.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(n.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}e.CodeLensWidget=u}),define(re[726],se([1,0,7,10,13,118,2,146,15,33,22,280,646,725,536,26,40,82,70,20]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let l=class{constructor(g,b,p,C,S,y){this._editor=g,this._languageFeaturesService=b,this._commandService=C,this._notificationService=S,this._codeLensCache=y,this._disposables=new L.DisposableStore,this._localToDispose=new L.DisposableStore,this._lenses=[],this._oldCodeLensModels=new L.DisposableStore,this._provideCodeLensDebounce=p.for(b.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=p.for(b.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new m.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(w=>{(w.hasChanged(44)||w.hasChanged(16)||w.hasChanged(15))&&this._updateLensStyle(),w.hasChanged(14)&&this._onModelChange()})),this._disposables.add(b.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,I.hash)(this._editor.getId()).toString(16),this._styleElement=E.createStyleSheet(E.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var g;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(g=this._currentCodeLensModel)===null||g===void 0||g.dispose(),this._styleElement.remove()}_getLayoutInfo(){const g=Math.max(1.3,this._editor.getOption(59)/this._editor.getOption(46));let b=this._editor.getOption(16);return(!b||b<5)&&(b=this._editor.getOption(46)*.9|0),{fontSize:b,codeLensHeight:b*g|0}}_updateLensStyle(){const{codeLensHeight:g,fontSize:b}=this._getLayoutInfo(),p=this._editor.getOption(15),C=this._editor.getOption(44),S=`--codelens-font-family${this._styleClassName}`,y=`--codelens-font-features${this._styleClassName}`;let w=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${g}px; font-size: ${b}px; padding-right: ${Math.round(b*.5)}px; font-feature-settings: var(${y}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${g}px; font-size: ${b}px; }
		`;p&&(w+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${S}), ${u.EDITOR_FONT_DEFAULTS.fontFamily}}`),this._styleElement.textContent=w,this._editor.getContainerDomNode().style.setProperty(S,p??"inherit"),this._editor.getContainerDomNode().style.setProperty(y,C.fontFeatureSettings),this._editor.changeViewZones(T=>{for(let N of this._lenses)N.updateHeight(g,T)})}_localDispose(){var g,b,p;(g=this._getCodeLensModelPromise)===null||g===void 0||g.cancel(),this._getCodeLensModelPromise=void 0,(b=this._resolveCodeLensesPromise)===null||b===void 0||b.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(p=this._currentCodeLensModel)===null||p===void 0||p.dispose()}_onModelChange(){this._localDispose();const g=this._editor.getModel();if(!g||!this._editor.getOption(14))return;const b=this._codeLensCache.get(g);if(b&&this._renderCodeLensSymbols(b),!this._languageFeaturesService.codeLensProvider.has(g)){b&&this._localToDispose.add((0,m.disposableTimeout)(()=>{const C=this._codeLensCache.get(g);b===C&&(this._codeLensCache.delete(g),this._onModelChange())},30*1e3));return}for(const C of this._languageFeaturesService.codeLensProvider.all(g))if(typeof C.onDidChange=="function"){let S=C.onDidChange(()=>p.schedule());this._localToDispose.add(S)}const p=new m.RunOnceScheduler(()=>{var C;const S=Date.now();(C=this._getCodeLensModelPromise)===null||C===void 0||C.cancel(),this._getCodeLensModelPromise=(0,m.createCancelablePromise)(y=>(0,i.getCodeLensModel)(this._languageFeaturesService.codeLensProvider,g,y)),this._getCodeLensModelPromise.then(y=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=y,this._codeLensCache.put(g,y);const w=this._provideCodeLensDebounce.update(g,Date.now()-S);p.delay=w,this._renderCodeLensSymbols(y),this._resolveCodeLensesInViewportSoon()},k.onUnexpectedError)},this._provideCodeLensDebounce.get(g));this._localToDispose.add(p),this._localToDispose.add((0,L.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(C=>{this._editor.changeViewZones(S=>{let y=[],w=-1;this._lenses.forEach(N=>{!N.isValid()||w===N.getLineNumber()?y.push(N):(N.update(S),w=N.getLineNumber())});let T=new t.CodeLensHelper;y.forEach(N=>{N.dispose(T,S),this._lenses.splice(this._lenses.indexOf(N),1)}),T.commit(C)})}),p.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{p.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(C=>{C.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,L.toDisposable)(()=>{if(this._editor.getModel()){const C=_.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(S=>{this._editor.changeViewZones(y=>{this._disposeAllLenses(S,y)})}),C.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(C=>{if(C.target.type!==9)return;let S=C.target.element;if((S==null?void 0:S.tagName)==="SPAN"&&(S=S.parentElement),(S==null?void 0:S.tagName)==="A")for(const y of this._lenses){let w=y.getCommand(S);if(w){this._commandService.executeCommand(w.id,...w.arguments||[]).catch(T=>this._notificationService.error(T));break}}})),p.schedule()}_disposeAllLenses(g,b){const p=new t.CodeLensHelper;for(const C of this._lenses)C.dispose(p,b);g&&p.commit(g),this._lenses.length=0}_renderCodeLensSymbols(g){if(!this._editor.hasModel())return;let b=this._editor.getModel().getLineCount(),p=[],C;for(let w of g.lenses){let T=w.symbol.range.startLineNumber;T<1||T>b||(C&&C[C.length-1].symbol.range.startLineNumber===T?C.push(w):(C=[w],p.push(C)))}const S=_.StableEditorScrollState.capture(this._editor),y=this._getLayoutInfo();this._editor.changeDecorations(w=>{this._editor.changeViewZones(T=>{const N=new t.CodeLensHelper;let R=0,B=0;for(;B<p.length&&R<this._lenses.length;){let O=p[B][0].symbol.range.startLineNumber,D=this._lenses[R].getLineNumber();D<O?(this._lenses[R].dispose(N,T),this._lenses.splice(R,1)):D===O?(this._lenses[R].updateCodeLensSymbols(p[B],N),B++,R++):(this._lenses.splice(R,0,new t.CodeLensWidget(p[B],this._editor,this._styleClassName,N,T,y.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),R++,B++)}for(;R<this._lenses.length;)this._lenses[R].dispose(N,T),this._lenses.splice(R,1);for(;B<p.length;)this._lenses.push(new t.CodeLensWidget(p[B],this._editor,this._styleClassName,N,T,y.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),B++;N.commit(w)})}),S.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var g;(g=this._resolveCodeLensesPromise)===null||g===void 0||g.cancel(),this._resolveCodeLensesPromise=void 0;const b=this._editor.getModel();if(!b)return;const p=[],C=[];if(this._lenses.forEach(w=>{const T=w.computeIfNecessary(b);T&&(p.push(T),C.push(w))}),p.length===0)return;const S=Date.now(),y=(0,m.createCancelablePromise)(w=>{const T=p.map((N,R)=>{const B=new Array(N.length),O=N.map((D,A)=>!D.symbol.command&&typeof D.provider.resolveCodeLens=="function"?Promise.resolve(D.provider.resolveCodeLens(b,D.symbol,w)).then(P=>{B[A]=P},k.onUnexpectedExternalError):(B[A]=D.symbol,Promise.resolve(void 0)));return Promise.all(O).then(()=>{!w.isCancellationRequested&&!C[R].isDisposed()&&C[R].updateCommands(B)})});return Promise.all(T)});this._resolveCodeLensesPromise=y,this._resolveCodeLensesPromise.then(()=>{const w=this._resolveCodeLensesDebounce.update(b,Date.now()-S);this._resolveCodeLensesScheduler.delay=w,this._currentCodeLensModel&&this._codeLensCache.put(b,this._currentCodeLensModel),this._oldCodeLensModels.clear(),y===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},w=>{(0,k.onUnexpectedError)(w),y===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};l.ID="css.editor.codeLens",l=Ie([fe(1,a.ILanguageFeaturesService),fe(2,s.ILanguageFeatureDebounceService),fe(3,d.ICommandService),fe(4,r.INotificationService),fe(5,n.ICodeLensCache)],l),e.CodeLensContribution=l,(0,v.registerEditorContribution)(l.ID,l),(0,v.registerEditorAction)(class extends v.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:h.EditorContextKeys.hasCodeLensProvider,label:(0,o.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}run(g,b){return Le(this,void 0,void 0,function*(){if(!b.hasModel())return;const p=g.get(c.IQuickInputService),C=g.get(d.ICommandService),S=g.get(r.INotificationService),y=b.getSelection().positionLineNumber,w=b.getContribution(l.ID);if(!w)return;const T=w.getModel();if(!T)return;const N=[];for(const B of T.lenses)B.symbol.command&&B.symbol.range.startLineNumber===y&&N.push({label:B.symbol.command.title,command:B.symbol.command});if(N.length===0)return;const R=yield p.pick(N,{canPickMany:!1});if(!!R){if(T.isDisposed)return yield C.executeCommand(this.id);try{yield C.executeCommand(R.command.id,...R.command.arguments||[])}catch(B){S.error(B)}}})}})}),define(re[305],se([1,0,10,30,13,2,56,8,134,15,3,36,70,20,281,35]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorDetector=e.ColorDecorationInjectedTextMarker=void 0,e.ColorDecorationInjectedTextMarker=Object.create({});const r=500;let c=class Wi extends I.Disposable{constructor(a,l,f,g){super();this._editor=a,this._configurationService=l,this._languageFeaturesService=f,this._localToDispose=this._register(new I.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=new Set,this._ruleFactory=new v.DynamicCssRules(this._editor),this._colorDecorationClassRefs=this._register(new I.DisposableStore),this._debounceInformation=g.for(f.colorProvider,"Document Colors",{min:Wi.RECOMPUTE_TIME}),this._register(a.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(a.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(f.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(a.onDidChangeConfiguration(()=>{let b=this._isEnabled;this._isEnabled=this.isEnabled(),b!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const a=this._editor.getModel();if(!a)return!1;const l=a.getLanguageId(),f=this._configurationService.getValue(l);if(f&&typeof f=="object"){const g=f.colorDecorators;if(g&&g.enable!==void 0&&!g.enable)return g.enable}return this._editor.getOption(17)}static get(a){return a.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const a=this._editor.getModel();!a||!this._languageFeaturesService.colorProvider.has(a)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new E.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(a)))})),this.beginCompute())}beginCompute(){this._computePromise=(0,E.createCancelablePromise)(a=>Le(this,void 0,void 0,function*(){const l=this._editor.getModel();if(!l)return Promise.resolve([]);const f=new L.StopWatch(!1),g=yield(0,o.getColors)(this._languageFeaturesService.colorProvider,l,a);return this._debounceInformation.update(l,f.elapsed()),g})),this._computePromise.then(a=>{this.updateDecorations(a),this.updateColorDecorators(a),this._computePromise=null},k.onUnexpectedError)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(a){const l=a.map(f=>({range:{startLineNumber:f.colorInfo.range.startLineNumber,startColumn:f.colorInfo.range.startColumn,endLineNumber:f.colorInfo.range.endLineNumber,endColumn:f.colorInfo.range.endColumn},options:i.ModelDecorationOptions.EMPTY}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,l),this._colorDatas=new Map,this._decorationsIds.forEach((f,g)=>this._colorDatas.set(f,a[g]))}updateColorDecorators(a){this._colorDecorationClassRefs.clear();let l=[];for(let f=0;f<a.length&&l.length<r;f++){const{red:g,green:b,blue:p,alpha:C}=a[f].colorInfo.color,S=new m.RGBA(Math.round(g*255),Math.round(b*255),Math.round(p*255),C);let y=`rgba(${S.r}, ${S.g}, ${S.b}, ${S.a})`;const w=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:y}));l.push({range:{startLineNumber:a[f].colorInfo.range.startLineNumber,startColumn:a[f].colorInfo.range.startColumn,endLineNumber:a[f].colorInfo.range.endLineNumber,endColumn:a[f].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:_.noBreakWhitespace,inlineClassName:`${w.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:e.ColorDecorationInjectedTextMarker}}})}this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],l))}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=new Set(this._editor.deltaDecorations([...this._colorDecoratorIds],[])),this._colorDecorationClassRefs.clear()}getColorData(a){const l=this._editor.getModel();if(!l)return null;const f=l.getDecorationsInRange(h.Range.fromPositions(a,a)).filter(g=>this._colorDatas.has(g.id));return f.length===0?null:this._colorDatas.get(f[0].id)}isColorDecorationId(a){return this._colorDecoratorIds.has(a)}};c.ID="editor.contrib.colorDetector",c.RECOMPUTE_TIME=1e3,c=Ie([fe(1,d.IConfigurationService),fe(2,t.ILanguageFeaturesService),fe(3,n.ILanguageFeatureDebounceService)],c),e.ColorDetector=c,(0,u.registerEditorContribution)(c.ID,c)}),define(re[727],se([1,0,10,21,30,2,3,281,305,467,667,14]),function(U,e,E,m,k,I,L,_,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorHoverParticipant=e.ColorHover=void 0;class n{constructor(d,r,c,s){this.owner=d,this.range=r,this.model=c,this.provider=s,this.forceShowAtRange=!0}isValidForHoverAnchor(d){return d.type===1&&this.range.startColumn<=d.range.startColumn&&this.range.endColumn>=d.range.endColumn}}e.ColorHover=n;let t=class{constructor(d,r){this._editor=d,this._themeService=r,this.hoverOrdinal=1}computeSync(d,r){return[]}computeAsync(d,r,c){return E.AsyncIterableObject.fromPromise(this._computeAsync(d,r,c))}_computeAsync(d,r,c){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const s=v.ColorDetector.get(this._editor);if(!s)return[];for(const a of r){if(!s.isColorDecorationId(a.id))continue;const l=s.getColorData(a.range.getStartPosition());if(l)return[yield this._createColorHover(this._editor.getModel(),l.colorInfo,l.provider)]}return[]})}_createColorHover(d,r,c){return Le(this,void 0,void 0,function*(){const s=d.getValueInRange(r.range),{red:a,green:l,blue:f,alpha:g}=r.color,b=new k.RGBA(Math.round(a*255),Math.round(l*255),Math.round(f*255),g),p=new k.Color(b),C=yield(0,_.getColorPresentations)(d,r,c,m.CancellationToken.None),S=new u.ColorPickerModel(p,[],0);return S.colorPresentations=C||[],S.guessColorPresentation(p,s),new n(this,L.Range.lift(r.range),S,c)})}renderHoverParts(d,r){if(r.length===0||!this._editor.hasModel())return I.Disposable.None;const c=new I.DisposableStore,s=r[0],a=this._editor.getModel(),l=s.model,f=c.add(new h.ColorPickerWidget(d.fragment,l,this._editor.getOption(129),this._themeService));d.setColorPicker(f);let g=new L.Range(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn);const b=()=>{let C,S;if(l.presentation.textEdit){C=[l.presentation.textEdit],S=new L.Range(l.presentation.textEdit.range.startLineNumber,l.presentation.textEdit.range.startColumn,l.presentation.textEdit.range.endLineNumber,l.presentation.textEdit.range.endColumn);const y=this._editor.getModel()._setTrackedRange(null,S,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",C),S=this._editor.getModel()._getTrackedRange(y)||S}else C=[{range:g,text:l.presentation.label,forceMoveMarkers:!1}],S=g.setEndPosition(g.endLineNumber,g.startColumn+l.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",C);l.presentation.additionalTextEdits&&(C=[...l.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",C),d.hide()),this._editor.pushUndoStop(),g=S},p=C=>(0,_.getColorPresentations)(a,{range:g,color:{red:C.rgba.r/255,green:C.rgba.g/255,blue:C.rgba.b/255,alpha:C.rgba.a}},s.provider,m.CancellationToken.None).then(S=>{l.colorPresentations=S||[]});return c.add(l.onColorFlushed(C=>{p(C).then(b)})),c.add(l.onDidChangeColor(p)),c}};t=Ie([fe(1,i.IThemeService)],t),e.ColorHoverParticipant=t}),define(re[728],se([1,0,2,17,15,11,3,24,36,469,384]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function h(n){return m.isMacintosh?n.altKey:n.ctrlKey}class i extends E.Disposable{constructor(t){super();this._editor=t,this._register(this._editor.onMouseDown(o=>this._onEditorMouseDown(o))),this._register(this._editor.onMouseUp(o=>this._onEditorMouseUp(o))),this._register(this._editor.onMouseDrag(o=>this._onEditorMouseDrag(o))),this._register(this._editor.onMouseDrop(o=>this._onEditorMouseDrop(o))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(o=>this.onEditorKeyDown(o))),this._register(this._editor.onKeyUp(o=>this.onEditorKeyUp(o))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(t){!this._editor.getOption(31)||this._editor.getOption(18)||(h(t)&&(this._modifierPressed=!0),this._mouseDown&&h(t)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(t){!this._editor.getOption(31)||this._editor.getOption(18)||(h(t)&&(this._modifierPressed=!1),this._mouseDown&&t.keyCode===i.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(t){this._mouseDown=!0}_onEditorMouseUp(t){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(t){let o=t.target;if(this._dragSelection===null){let r=(this._editor.getSelections()||[]).filter(c=>o.position&&c.containsPosition(o.position));if(r.length===1)this._dragSelection=r[0];else return}h(t.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),o.position&&(this._dragSelection.containsPosition(o.position)?this._removeDecoration():this.showAt(o.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(t){if(t.target&&(this._hitContent(t.target)||this._hitMargin(t.target))&&t.target.position){let o=new I.Position(t.target.position.lineNumber,t.target.position.column);if(this._dragSelection===null){let d=null;if(t.event.shiftKey){let r=this._editor.getSelection();if(r){const{selectionStartLineNumber:c,selectionStartColumn:s}=r;d=[new _.Selection(c,s,o.lineNumber,o.column)]}}else d=(this._editor.getSelections()||[]).map(r=>r.containsPosition(o)?new _.Selection(o.lineNumber,o.column,o.lineNumber,o.column):r);this._editor.setSelections(d||[],"mouse",3)}else(!this._dragSelection.containsPosition(o)||(h(t.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(o)||this._dragSelection.getStartPosition().equals(o)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(i.ID,new u.DragAndDropCommand(this._dragSelection,o,h(t.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(t){let o=[{range:new L.Range(t.lineNumber,t.column,t.lineNumber,t.column),options:i._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,o),this._editor.revealPosition(t,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(t){return t.type===6||t.type===7}_hitMargin(t){return t.type===2||t.type===3||t.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=i,i.ID="editor.contrib.dragAndDrop",i.TRIGGER_KEY_VALUE=m.isMacintosh?6:5,i._DECORATION_OPTIONS=v.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,k.registerEditorContribution)(i.ID,i)}),define(re[729],se([1,0,3,47,36,23,14]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class _{constructor(u){this._editor=u,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const u=this._findScopeDecorationIds.map(h=>this._editor.getModel().getDecorationRange(h)).filter(h=>!!h);if(u.length)return u}return null}getStartPosition(){return this._startPosition}setStartPosition(u){this._startPosition=u,this.setCurrentFindMatch(null)}_getDecorationIndex(u){const h=this._decorations.indexOf(u);return h>=0?h+1:1}getCurrentMatchesPosition(u){let h=this._editor.getModel().getDecorationsInRange(u);for(const i of h){const n=i.options;if(n===_._FIND_MATCH_DECORATION||n===_._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(u){let h=null,i=0;if(u)for(let n=0,t=this._decorations.length;n<t;n++){let o=this._editor.getModel().getDecorationRange(this._decorations[n]);if(u.equalsRange(o)){h=this._decorations[n],i=n+1;break}}return(this._highlightedDecorationId!==null||h!==null)&&this._editor.changeDecorations(n=>{if(this._highlightedDecorationId!==null&&(n.changeDecorationOptions(this._highlightedDecorationId,_._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),h!==null&&(this._highlightedDecorationId=h,n.changeDecorationOptions(this._highlightedDecorationId,_._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),h!==null){let t=this._editor.getModel().getDecorationRange(h);if(t.startLineNumber!==t.endLineNumber&&t.endColumn===1){let o=t.endLineNumber-1,d=this._editor.getModel().getLineMaxColumn(o);t=new E.Range(t.startLineNumber,t.startColumn,o,d)}this._rangeHighlightDecorationId=n.addDecoration(t,_._RANGE_HIGHLIGHT_DECORATION)}}),i}set(u,h){this._editor.changeDecorations(i=>{let n=_._FIND_MATCH_DECORATION,t=[];if(u.length>1e3){n=_._FIND_MATCH_NO_OVERVIEW_DECORATION;const d=this._editor.getModel().getLineCount(),c=this._editor.getLayoutInfo().height/d,s=Math.max(2,Math.ceil(3/c));let a=u[0].range.startLineNumber,l=u[0].range.endLineNumber;for(let f=1,g=u.length;f<g;f++){const b=u[f].range;l+s>=b.startLineNumber?b.endLineNumber>l&&(l=b.endLineNumber):(t.push({range:new E.Range(a,1,l,1),options:_._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),a=b.startLineNumber,l=b.endLineNumber)}t.push({range:new E.Range(a,1,l,1),options:_._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let o=new Array(u.length);for(let d=0,r=u.length;d<r;d++)o[d]={range:u[d].range,options:n};this._decorations=i.deltaDecorations(this._decorations,o),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,t),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(d=>i.removeDecoration(d)),this._findScopeDecorationIds=[]),(h==null?void 0:h.length)&&(this._findScopeDecorationIds=h.map(d=>i.addDecoration(d,_._FIND_SCOPE_DECORATION)))})}matchBeforePosition(u){if(this._decorations.length===0)return null;for(let h=this._decorations.length-1;h>=0;h--){let i=this._decorations[h],n=this._editor.getModel().getDecorationRange(i);if(!(!n||n.endLineNumber>u.lineNumber)){if(n.endLineNumber<u.lineNumber)return n;if(!(n.endColumn>u.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(u){if(this._decorations.length===0)return null;for(let h=0,i=this._decorations.length;h<i;h++){let n=this._decorations[h],t=this._editor.getModel().getDecorationRange(n);if(!(!t||t.startLineNumber<u.lineNumber)){if(t.startLineNumber>u.lineNumber)return t;if(!(t.startColumn<u.column))return t}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let u=[];return u=u.concat(this._decorations),u=u.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&u.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&u.push(this._rangeHighlightDecorationId),u}}e.FindDecorations=_,_._CURRENT_FIND_MATCH_DECORATION=k.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,L.themeColorFromId)(I.overviewRulerFindMatchForeground),position:m.OverviewRulerLane.Center},minimap:{color:(0,L.themeColorFromId)(I.minimapFindMatch),position:m.MinimapPosition.Inline}}),_._FIND_MATCH_DECORATION=k.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,L.themeColorFromId)(I.overviewRulerFindMatchForeground),position:m.OverviewRulerLane.Center},minimap:{color:(0,L.themeColorFromId)(I.minimapFindMatch),position:m.MinimapPosition.Inline}}),_._FIND_MATCH_NO_OVERVIEW_DECORATION=k.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),_._FIND_MATCH_ONLY_OVERVIEW_DECORATION=k.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,L.themeColorFromId)(I.overviewRulerFindMatchForeground),position:m.OverviewRulerLane.Center}}),_._RANGE_HIGHLIGHT_DECORATION=k.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),_._FIND_SCOPE_DECORATION=k.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(re[167],se([1,0,18,10,2,103,11,3,24,153,729,470,471,16]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new t.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new t.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new t.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:512|33,mac:{primary:2048|512|33}},e.ToggleWholeWordKeybinding={primary:512|53,mac:{primary:2048|512|53}},e.ToggleRegexKeybinding={primary:512|48,mac:{primary:2048|512|48}},e.ToggleSearchScopeKeybinding={primary:512|42,mac:{primary:2048|512|42}},e.TogglePreserveCaseKeybinding={primary:512|46,mac:{primary:2048|512|46}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const o=240;class d{constructor(c,s){this._toDispose=new k.DisposableStore,this._editor=c,this._state=s,this._isDisposed=!1,this._startSearchingTimer=new m.TimeoutTimer,this._decorations=new h.FindDecorations(c),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new m.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(a=>{(a.reason===3||a.reason===5||a.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(a=>{this._ignoreModelContentChanged||(a.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(a=>this._onStateChanged(a))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,k.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(c){this._isDisposed||!this._editor.hasModel()||(c.searchString||c.isReplaceRevealed||c.isRegex||c.wholeWord||c.matchCase||c.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{c.searchScope?this.research(c.moveCursor,this._state.searchScope):this.research(c.moveCursor)},o)):c.searchScope?this.research(c.moveCursor,this._state.searchScope):this.research(c.moveCursor))}static _getSearchRange(c,s){return s||c.getFullModelRange()}research(c,s){let a=null;typeof s!="undefined"?s!==null&&(Array.isArray(s)?a=s:a=[s]):a=this._decorations.getFindScopes(),a!==null&&(a=a.map(b=>{if(b.startLineNumber!==b.endLineNumber){let p=b.endLineNumber;return b.endColumn===1&&(p=p-1),new _.Range(b.startLineNumber,1,p,this._editor.getModel().getLineMaxColumn(p))}return b}));let l=this._findMatches(a,!1,e.MATCHES_LIMIT);this._decorations.set(l,a);const f=this._editor.getSelection();let g=this._decorations.getCurrentMatchesPosition(f);if(g===0&&l.length>0){const b=(0,E.findFirstInSorted)(l.map(p=>p.range),p=>_.Range.compareRangesUsingStarts(p,f)>=0);g=b>0?b-1+1:g}this._state.changeMatchInfo(g,this._decorations.getCount(),void 0),c&&this._editor.getOption(35).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let c=this._decorations.getFindScope();return c&&this._editor.revealRangeInCenterIfOutsideViewport(c,0),!0}return!1}_setCurrentFindMatch(c){let s=this._decorations.setCurrentFindMatch(c);this._state.changeMatchInfo(s,this._decorations.getCount(),c),this._editor.setSelection(c),this._editor.revealRangeInCenterIfOutsideViewport(c,0)}_prevSearchPosition(c){let s=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:a,column:l}=c,f=this._editor.getModel();return s||l===1?(a===1?a=f.getLineCount():a--,l=f.getLineMaxColumn(a)):l--,new L.Position(a,l)}_moveToPrevMatch(c,s=!1){if(!this._state.canNavigateBack()){const S=this._decorations.matchAfterPosition(c);S&&this._setCurrentFindMatch(S);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let S=this._decorations.matchBeforePosition(c);S&&S.isEmpty()&&S.getStartPosition().equals(c)&&(c=this._prevSearchPosition(c),S=this._decorations.matchBeforePosition(c)),S&&this._setCurrentFindMatch(S);return}if(this._cannotFind())return;let a=this._decorations.getFindScope(),l=d._getSearchRange(this._editor.getModel(),a);l.getEndPosition().isBefore(c)&&(c=l.getEndPosition()),c.isBefore(l.getStartPosition())&&(c=l.getEndPosition());let{lineNumber:f,column:g}=c,b=this._editor.getModel(),p=new L.Position(f,g),C=b.findPreviousMatch(this._state.searchString,p,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1);if(C&&C.range.isEmpty()&&C.range.getStartPosition().equals(p)&&(p=this._prevSearchPosition(p),C=b.findPreviousMatch(this._state.searchString,p,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,!1)),!!C){if(!s&&!l.containsRange(C.range))return this._moveToPrevMatch(C.range.getStartPosition(),!0);this._setCurrentFindMatch(C.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(c){let s=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:a,column:l}=c,f=this._editor.getModel();return s||l===f.getLineMaxColumn(a)?(a===f.getLineCount()?a=1:a++,l=1):l++,new L.Position(a,l)}_moveToNextMatch(c){if(!this._state.canNavigateForward()){const a=this._decorations.matchBeforePosition(c);a&&this._setCurrentFindMatch(a);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let a=this._decorations.matchAfterPosition(c);a&&a.isEmpty()&&a.getStartPosition().equals(c)&&(c=this._nextSearchPosition(c),a=this._decorations.matchAfterPosition(c)),a&&this._setCurrentFindMatch(a);return}let s=this._getNextMatch(c,!1,!0);s&&this._setCurrentFindMatch(s.range)}_getNextMatch(c,s,a,l=!1){if(this._cannotFind())return null;let f=this._decorations.getFindScope(),g=d._getSearchRange(this._editor.getModel(),f);g.getEndPosition().isBefore(c)&&(c=g.getStartPosition()),c.isBefore(g.getStartPosition())&&(c=g.getStartPosition());let{lineNumber:b,column:p}=c,C=this._editor.getModel(),S=new L.Position(b,p),y=C.findNextMatch(this._state.searchString,S,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,s);return a&&y&&y.range.isEmpty()&&y.range.getStartPosition().equals(S)&&(S=this._nextSearchPosition(S),y=C.findNextMatch(this._state.searchString,S,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,s)),y?!l&&!g.containsRange(y.range)?this._getNextMatch(y.range.getEndPosition(),s,a,!0):y:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?(0,n.parseReplaceString)(this._state.replaceString):n.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let c=this._getReplacePattern(),s=this._editor.getSelection(),a=this._getNextMatch(s.getStartPosition(),!0,!1);if(a)if(s.equalsRange(a.range)){let l=c.buildReplaceString(a.matches,this._state.preserveCase),f=new I.ReplaceCommand(s,l);this._executeEditorCommand("replace",f),this._decorations.setStartPosition(new L.Position(s.startLineNumber,s.startColumn+l.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(a.range)}_findMatches(c,s,a){const l=(c||[null]).map(f=>d._getSearchRange(this._editor.getModel(),f));return this._editor.getModel().findMatches(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null,s,a)}replaceAll(){if(!this._hasMatches())return;const c=this._decorations.getFindScopes();c===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(c),this.research(!1)}_largeReplaceAll(){const s=new u.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(117):null).parseSearchRequest();if(!s)return;let a=s.regex;if(!a.multiline){let y="mu";a.ignoreCase&&(y+="i"),a.global&&(y+="g"),a=new RegExp(a.source,y)}const l=this._editor.getModel(),f=l.getValue(1),g=l.getFullModelRange(),b=this._getReplacePattern();let p;const C=this._state.preserveCase;b.hasReplacementPatterns||C?p=f.replace(a,function(){return b.buildReplaceString(arguments,C)}):p=f.replace(a,b.buildReplaceString(null,C));let S=new I.ReplaceCommandThatPreservesSelection(g,p,this._editor.getSelection());this._executeEditorCommand("replaceAll",S)}_regularReplaceAll(c){const s=this._getReplacePattern();let a=this._findMatches(c,s.hasReplacementPatterns||this._state.preserveCase,1073741824),l=[];for(let g=0,b=a.length;g<b;g++)l[g]=s.buildReplaceString(a[g].matches,this._state.preserveCase);let f=new i.ReplaceAllCommand(this._editor.getSelection(),a.map(g=>g.range),l);this._executeEditorCommand("replaceAll",f)}selectAllMatches(){if(!this._hasMatches())return;let c=this._decorations.getFindScopes(),a=this._findMatches(c,!1,1073741824).map(f=>new v.Selection(f.range.startLineNumber,f.range.startColumn,f.range.endLineNumber,f.range.endColumn)),l=this._editor.getSelection();for(let f=0,g=a.length;f<g;f++)if(a[f].equalsRange(l)){a=[l].concat(a.slice(0,f)).concat(a.slice(f+1));break}this._editor.setSelections(a)}_executeEditorCommand(c,s){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(c,s),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=d}),define(re[730],se([1,0,7,273,66,10,167,23,14]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class u extends k.Widget{constructor(i,n,t,o){super();this._hideSoon=this._register(new I.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=i,this._state=n,this._keybindingService=t,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const d=o.getColorTheme().getColor(_.inputActiveOptionBorder),r=o.getColorTheme().getColor(_.inputActiveOptionForeground),c=o.getColorTheme().getColor(_.inputActiveOptionBackground);this.caseSensitive=this._register(new m.CaseSensitiveToggle({appendTitle:this._keybindingLabelFor(L.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:d,inputActiveOptionForeground:r,inputActiveOptionBackground:c})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new m.WholeWordsToggle({appendTitle:this._keybindingLabelFor(L.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:d,inputActiveOptionForeground:r,inputActiveOptionBackground:c})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new m.RegexToggle({appendTitle:this._keybindingLabelFor(L.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:d,inputActiveOptionForeground:r,inputActiveOptionBackground:c})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(s=>{let a=!1;s.isRegex&&(this.regex.checked=this._state.isRegex,a=!0),s.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,a=!0),s.matchCase&&(this.caseSensitive.checked=this._state.matchCase,a=!0),!this._state.isRevealed&&a&&this._revealTemporarily()})),this._register(E.addDisposableNonBubblingMouseOutListener(this._domNode,s=>this._onMouseOut())),this._register(E.addDisposableListener(this._domNode,"mouseover",s=>this._onMouseOver())),this._applyTheme(o.getColorTheme()),this._register(o.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(i){let n=this._keybindingService.lookupKeybinding(i);return n?` (${n.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return u.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(i){let n={inputActiveOptionBorder:i.getColor(_.inputActiveOptionBorder),inputActiveOptionForeground:i.getColor(_.inputActiveOptionForeground),inputActiveOptionBackground:i.getColor(_.inputActiveOptionBackground)};this.caseSensitive.style(n),this.wholeWords.style(n),this.regex.style(n)}}e.FindOptionsWidget=u,u.ID="editor.contrib.findOptionsWidget",(0,v.registerThemingParticipant)((h,i)=>{const n=h.getColor(_.editorWidgetBackground);n&&i.addRule(`.monaco-editor .findOptionsWidget { background-color: ${n}; }`);const t=h.getColor(_.editorWidgetForeground);t&&i.addRule(`.monaco-editor .findOptionsWidget { color: ${t}; }`);const o=h.getColor(_.widgetShadow);o&&i.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${o}; }`);const d=h.getColor(_.contrastBorder);d&&i.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${d}; }`)})}),define(re[731],se([1,0,4,2,3,167]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function L(v,u){return v===1?!0:v===2?!1:u}class _ extends m.Disposable{constructor(){super();this._onFindReplaceStateChange=this._register(new E.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return L(this._isRegexOverride,this._isRegex)}get wholeWord(){return L(this._wholeWordOverride,this._wholeWord)}get matchCase(){return L(this._matchCaseOverride,this._matchCase)}get preserveCase(){return L(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(u,h,i){let n={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},t=!1;h===0&&(u=0),u>h&&(u=h),this._matchesPosition!==u&&(this._matchesPosition=u,n.matchesPosition=!0,t=!0),this._matchesCount!==h&&(this._matchesCount=h,n.matchesCount=!0,t=!0),typeof i!="undefined"&&(k.Range.equalsRange(this._currentMatch,i)||(this._currentMatch=i,n.currentMatch=!0,t=!0)),t&&this._onFindReplaceStateChange.fire(n)}change(u,h,i=!0){var n;let t={moveCursor:h,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1},o=!1;const d=this.isRegex,r=this.wholeWord,c=this.matchCase,s=this.preserveCase;typeof u.searchString!="undefined"&&this._searchString!==u.searchString&&(this._searchString=u.searchString,t.searchString=!0,o=!0),typeof u.replaceString!="undefined"&&this._replaceString!==u.replaceString&&(this._replaceString=u.replaceString,t.replaceString=!0,o=!0),typeof u.isRevealed!="undefined"&&this._isRevealed!==u.isRevealed&&(this._isRevealed=u.isRevealed,t.isRevealed=!0,o=!0),typeof u.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==u.isReplaceRevealed&&(this._isReplaceRevealed=u.isReplaceRevealed,t.isReplaceRevealed=!0,o=!0),typeof u.isRegex!="undefined"&&(this._isRegex=u.isRegex),typeof u.wholeWord!="undefined"&&(this._wholeWord=u.wholeWord),typeof u.matchCase!="undefined"&&(this._matchCase=u.matchCase),typeof u.preserveCase!="undefined"&&(this._preserveCase=u.preserveCase),typeof u.searchScope!="undefined"&&(((n=u.searchScope)===null||n===void 0?void 0:n.every(a=>{var l;return(l=this._searchScope)===null||l===void 0?void 0:l.some(f=>!k.Range.equalsRange(f,a))}))||(this._searchScope=u.searchScope,t.searchScope=!0,o=!0)),typeof u.loop!="undefined"&&this._loop!==u.loop&&(this._loop=u.loop,t.loop=!0,o=!0),typeof u.isSearching!="undefined"&&this._isSearching!==u.isSearching&&(this._isSearching=u.isSearching,t.isSearching=!0,o=!0),typeof u.filters!="undefined"&&(this._filters?this._filters.update(u.filters):this._filters=u.filters,t.filters=!0,o=!0),this._isRegexOverride=typeof u.isRegexOverride!="undefined"?u.isRegexOverride:0,this._wholeWordOverride=typeof u.wholeWordOverride!="undefined"?u.wholeWordOverride:0,this._matchCaseOverride=typeof u.matchCaseOverride!="undefined"?u.matchCaseOverride:0,this._preserveCaseOverride=typeof u.preserveCaseOverride!="undefined"?u.preserveCaseOverride:0,d!==this.isRegex&&(o=!0,t.isRegex=!0),r!==this.wholeWord&&(o=!0,t.wholeWord=!0),c!==this.matchCase&&(o=!0,t.matchCase=!0),s!==this.preserveCase&&(o=!0,t.preserveCase=!0),o&&this._onFindReplaceStateChange.fire(t)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=I.MATCHES_LIMIT}}e.FindReplaceState=_}),define(re[732],se([1,0,7,46,178,121,66,10,28,13,2,17,8,3,167,543,288,612,23,77,14,58,385]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const g=(0,a.registerIcon)("find-selection",v.Codicon.selection,d.localize(0,null)),b=(0,a.registerIcon)("find-collapsed",v.Codicon.chevronRight,d.localize(1,null)),p=(0,a.registerIcon)("find-expanded",v.Codicon.chevronDown,d.localize(2,null));e.findReplaceIcon=(0,a.registerIcon)("find-replace",v.Codicon.replace,d.localize(3,null)),e.findReplaceAllIcon=(0,a.registerIcon)("find-replace-all",v.Codicon.replaceAll,d.localize(4,null)),e.findPreviousMatchIcon=(0,a.registerIcon)("find-previous-match",v.Codicon.arrowUp,d.localize(5,null)),e.findNextMatchIcon=(0,a.registerIcon)("find-next-match",v.Codicon.arrowDown,d.localize(6,null));const C=d.localize(7,null),S=d.localize(8,null),y=d.localize(9,null),w=d.localize(10,null),T=d.localize(11,null),N=d.localize(12,null),R=d.localize(13,null),B=d.localize(14,null),O=d.localize(15,null),D=d.localize(16,null),A=d.localize(17,null),P=d.localize(18,null,o.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=d.localize(19,null),e.NLS_NO_RESULTS=d.localize(20,null);const F=419,M=275-54;let z=69;const ee=33,ie="ctrlEnterReplaceAll.windows.donotask",Y=i.isMacintosh?256:2048;class X{constructor(K){this.afterLineNumber=K,this.heightInPx=ee,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=X;function J(V,K,le){const ae=!!K.match(/\n/);if(le&&ae&&le.selectionStart>0){V.stopPropagation();return}}function oe(V,K,le){const ae=!!K.match(/\n/);if(le&&ae&&le.selectionEnd<le.value.length){V.stopPropagation();return}}class G extends L.Widget{constructor(K,le,ae,Q,q,Z,j,$,H){super();this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=K,this._controller=le,this._state=ae,this._contextViewProvider=Q,this._keybindingService=q,this._contextKeyService=Z,this._storageService=$,this._notificationService=H,this._ctrlEnterReplaceAllWarningPrompted=!!$.getBoolean(ie,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new _.Delayer(500),this._register((0,h.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(te=>this._onStateChanged(te))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(te=>{if(te.hasChanged(81)&&(this._codeEditor.getOption(81)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),te.hasChanged(131)&&this._tryUpdateWidgetWidth(),te.hasChanged(2)&&this.updateAccessibilitySupport(),te.hasChanged(35)){const ne=this._codeEditor.getOption(35).addExtraSpaceOnTop;ne&&!this._viewZone&&(this._viewZone=new X(0),this._showViewZone()),!ne&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>Le(this,void 0,void 0,function*(){if(this._isVisible){let te=yield this._controller.getGlobalBufferTerm();te&&te!==this._state.searchString&&(this._state.change({searchString:te},!1),this._findInput.select())}}))),this._findInputFocused=o.CONTEXT_FIND_INPUT_FOCUSED.bindTo(Z),this._findFocusTracker=this._register(E.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=o.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(Z),this._replaceFocusTracker=this._register(E.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(35).addExtraSpaceOnTop&&(this._viewZone=new X(0)),this._applyTheme(j.getColorTheme()),this._register(j.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(te=>{if(te.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return G.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(K){if(K.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(K.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),K.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),K.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(81)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=E.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(K.isRevealed||K.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),K.isRegex&&this._findInput.setRegex(this._state.isRegex),K.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),K.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),K.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),K.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),K.searchString||K.matchesCount||K.matchesPosition){let le=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",le),this._updateMatchesCount(),this._updateButtons()}(K.searchString||K.currentMatch)&&this._layoutViewZone(),K.updateHistory&&this._delayedUpdateHistory(),K.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,u.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=z+"px",this._state.matchesCount>=o.MATCHES_LIMIT?this._matchesCount.title=P:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let K;if(this._state.matchesCount>0){let le=String(this._state.matchesCount);this._state.matchesCount>=o.MATCHES_LIMIT&&(le+="+");let ae=String(this._state.matchesPosition);ae==="0"&&(ae="?"),K=n.format(e.NLS_MATCHES_LOCATION,ae,le)}else K=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(K)),(0,m.alert)(this._getAriaLabel(K,this._state.currentMatch,this._state.searchString)),z=Math.max(z,this._matchesCount.clientWidth)}_getAriaLabel(K,le,ae){if(K===e.NLS_NO_RESULTS)return ae===""?d.localize(21,null,K):d.localize(22,null,K,ae);if(le){const Q=d.localize(23,null,K,ae,le.startLineNumber+":"+le.startColumn),q=this._codeEditor.getModel();return q&&le.startLineNumber<=q.getLineCount()&&le.startLineNumber>=1?`${q.getLineContent(le.startLineNumber)}, ${Q}`:Q}return d.localize(24,null,K,ae)}_updateToggleSelectionFindButton(){let K=this._codeEditor.getSelection(),le=K?K.startLineNumber!==K.endLineNumber||K.startColumn!==K.endColumn:!1,ae=this._toggleSelectionFind.checked;this._isVisible&&(ae||le)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let K=this._state.searchString.length>0,le=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&K&&le&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&K&&le&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&K),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&K),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let ae=!this._codeEditor.getOption(81);this._toggleReplaceBtn.setEnabled(this._isVisible&&ae)}_reveal(){if(this._revealTimeouts.forEach(K=>{clearTimeout(K)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const K=this._codeEditor.getSelection();switch(this._codeEditor.getOption(35).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const ae=!!K&&K.startLineNumber!==K.endLineNumber;this._toggleSelectionFind.checked=ae;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let le=!0;if(this._codeEditor.getOption(35).seedSearchStringFromSelection&&K){const ae=this._codeEditor.getDomNode();if(ae){const Q=E.getDomNodePagePosition(ae),q=this._codeEditor.getScrolledVisiblePosition(K.getStartPosition()),Z=Q.left+(q?q.left:0),j=q?q.top:0;if(this._viewZone&&j<this._viewZone.heightInPx){K.endLineNumber>K.startLineNumber&&(le=!1);const $=E.getTopLeftOffset(this._domNode).left;Z>$&&(le=!1);const H=this._codeEditor.getScrolledVisiblePosition(K.getEndPosition());Q.left+(H?H.left:0)>$&&(le=!1)}}}this._showViewZone(le)}}_hide(K){this._revealTimeouts.forEach(le=>{clearTimeout(le)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),K&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(K){if(!this._codeEditor.getOption(35).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const ae=this._viewZone;this._viewZoneId!==void 0||!ae||this._codeEditor.changeViewZones(Q=>{ae.heightInPx=this._getHeight(),this._viewZoneId=Q.addZone(ae),this._codeEditor.setScrollTop(K||this._codeEditor.getScrollTop()+ae.heightInPx)})}_showViewZone(K=!0){if(!this._isVisible||!this._codeEditor.getOption(35).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new X(0));const ae=this._viewZone;this._codeEditor.changeViewZones(Q=>{if(this._viewZoneId!==void 0){const q=this._getHeight();if(q===ae.heightInPx)return;let Z=q-ae.heightInPx;ae.heightInPx=q,Q.layoutZone(this._viewZoneId),K&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+Z);return}else{let q=this._getHeight();if(q-=this._codeEditor.getOption(75).top,q<=0)return;ae.heightInPx=q,this._viewZoneId=Q.addZone(ae),K&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+q)}})}_removeViewZone(){this._codeEditor.changeViewZones(K=>{this._viewZoneId!==void 0&&(K.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(K){let le={inputActiveOptionBorder:K.getColor(s.inputActiveOptionBorder),inputActiveOptionBackground:K.getColor(s.inputActiveOptionBackground),inputActiveOptionForeground:K.getColor(s.inputActiveOptionForeground),inputBackground:K.getColor(s.inputBackground),inputForeground:K.getColor(s.inputForeground),inputBorder:K.getColor(s.inputBorder),inputValidationInfoBackground:K.getColor(s.inputValidationInfoBackground),inputValidationInfoForeground:K.getColor(s.inputValidationInfoForeground),inputValidationInfoBorder:K.getColor(s.inputValidationInfoBorder),inputValidationWarningBackground:K.getColor(s.inputValidationWarningBackground),inputValidationWarningForeground:K.getColor(s.inputValidationWarningForeground),inputValidationWarningBorder:K.getColor(s.inputValidationWarningBorder),inputValidationErrorBackground:K.getColor(s.inputValidationErrorBackground),inputValidationErrorForeground:K.getColor(s.inputValidationErrorForeground),inputValidationErrorBorder:K.getColor(s.inputValidationErrorBorder)};this._findInput.style(le),this._replaceInput.style(le),this._toggleSelectionFind.style(le)}_tryUpdateWidgetWidth(){if(!this._isVisible||!E.isInDOM(this._domNode))return;const K=this._codeEditor.getLayoutInfo();if(K.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const ae=K.width,Q=K.minimap.minimapWidth;let q=!1,Z=!1,j=!1;if(this._resized&&E.getTotalWidth(this._domNode)>F){this._domNode.style.maxWidth=`${ae-28-Q-15}px`,this._replaceInput.width=E.getTotalWidth(this._findInput.domNode);return}if(F+28+Q>=ae&&(Z=!0),F+28+Q-z>=ae&&(j=!0),F+28+Q-z>=ae+50&&(q=!0),this._domNode.classList.toggle("collapsed-find-widget",q),this._domNode.classList.toggle("narrow-find-widget",j),this._domNode.classList.toggle("reduced-find-widget",Z),!j&&!q&&(this._domNode.style.maxWidth=`${ae-28-Q-15}px`),this._resized){this._findInput.inputBox.layout();let $=this._findInput.inputBox.element.clientWidth;$>0&&(this._replaceInput.width=$)}else this._isReplaceVisible&&(this._replaceInput.width=E.getTotalWidth(this._findInput.domNode))}_getHeight(){let K=0;return K+=4,K+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(K+=4,K+=this._replaceInput.inputBox.height+2),K+=4,K}_tryUpdateHeight(){const K=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===K?!1:(this._cachedHeight=K,this._domNode.style.height=`${K}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let K=this._codeEditor.getSelections();K.map(le=>{le.endColumn===1&&le.endLineNumber>le.startLineNumber&&(le=le.setEndPosition(le.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(le.endLineNumber-1)));const ae=this._state.currentMatch;return le.startLineNumber!==le.endLineNumber&&!t.Range.equalsRange(le,ae)?le:null}).filter(le=>!!le),K.length&&this._state.change({searchScope:K},!0)}}_onFindInputMouseDown(K){K.middleButton&&K.stopPropagation()}_onFindInputKeyDown(K){if(K.equals(Y|3))if(this._keybindingService.dispatchEvent(K,K.target)){K.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),K.preventDefault();return}if(K.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),K.preventDefault();return}if(K.equals(2048|18)){this._codeEditor.focus(),K.preventDefault();return}if(K.equals(16))return J(K,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(K.equals(18))return oe(K,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(K){if(K.equals(Y|3))if(this._keybindingService.dispatchEvent(K,K.target)){K.preventDefault();return}else{i.isWindows&&i.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(d.localize(25,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(ie,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),K.preventDefault();return}if(K.equals(2)){this._findInput.focusOnCaseSensitive(),K.preventDefault();return}if(K.equals(1024|2)){this._findInput.focus(),K.preventDefault();return}if(K.equals(2048|18)){this._codeEditor.focus(),K.preventDefault();return}if(K.equals(16))return J(K,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(K.equals(18))return oe(K,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(K){return 0}_keybindingLabelFor(K){let le=this._keybindingService.lookupKeybinding(K);return le?` (${le.getLabel()})`:""}_buildDomNode(){const K=!0,le=!0;this._findInput=this._register(new r.ContextScopedFindInput(null,this._contextViewProvider,{width:M,label:C,placeholder:S,appendCaseSensitiveLabel:this._keybindingLabelFor(o.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(o.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(o.FIND_IDS.ToggleRegexCommand),validation:$=>{if($.length===0||!this._findInput.getRegex())return null;try{return new RegExp($,"gu"),null}catch(H){return{content:H.message}}},flexibleHeight:K,flexibleWidth:le,flexibleMaxHeight:118,showHistoryHint:()=>(0,c.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown($=>this._onFindInputKeyDown($))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown($=>{$.equals(1024|2)&&this._isReplaceVisible&&(this._replaceInput.focus(),$.preventDefault())})),this._register(this._findInput.onRegexKeyDown($=>{$.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),$.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange($=>{this._tryUpdateHeight()&&this._showViewZone()})),i.isLinux&&this._register(this._findInput.onMouseDown($=>this._onFindInputMouseDown($))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new x({label:y+this._keybindingLabelFor(o.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,onTrigger:()=>{this._codeEditor.getAction(o.FIND_IDS.PreviousMatchFindAction).run().then(void 0,u.onUnexpectedError)}})),this._nextBtn=this._register(new x({label:w+this._keybindingLabelFor(o.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,onTrigger:()=>{this._codeEditor.getAction(o.FIND_IDS.NextMatchFindAction).run().then(void 0,u.onUnexpectedError)}}));let ae=document.createElement("div");ae.className="find-part",ae.appendChild(this._findInput.domNode);const Q=document.createElement("div");Q.className="find-actions",ae.appendChild(Q),Q.appendChild(this._matchesCount),Q.appendChild(this._prevBtn.domNode),Q.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new k.Toggle({icon:g,title:T+this._keybindingLabelFor(o.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let $=this._codeEditor.getSelections();$.map(H=>(H.endColumn===1&&H.endLineNumber>H.startLineNumber&&(H=H.setEndPosition(H.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(H.endLineNumber-1))),H.isEmpty()?null:H)).filter(H=>!!H),$.length&&this._state.change({searchScope:$},!0)}}else this._state.change({searchScope:null},!0)})),Q.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new x({label:N+this._keybindingLabelFor(o.FIND_IDS.CloseFindWidgetCommand),icon:a.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:$=>{$.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),$.preventDefault())}})),Q.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new r.ContextScopedReplaceInput(null,void 0,{label:R,placeholder:B,appendPreserveCaseLabel:this._keybindingLabelFor(o.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:K,flexibleWidth:le,flexibleMaxHeight:118,showHistoryHint:()=>(0,c.showHistoryKeybindingHint)(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown($=>this._onReplaceInputKeyDown($))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange($=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown($=>{$.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),$.preventDefault())})),this._replaceBtn=this._register(new x({label:O+this._keybindingLabelFor(o.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,onTrigger:()=>{this._controller.replace()},onKeyDown:$=>{$.equals(1024|2)&&(this._closeBtn.focus(),$.preventDefault())}})),this._replaceAllBtn=this._register(new x({label:D+this._keybindingLabelFor(o.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,onTrigger:()=>{this._controller.replaceAll()}}));let q=document.createElement("div");q.className="replace-part",q.appendChild(this._replaceInput.domNode);const Z=document.createElement("div");Z.className="replace-actions",q.appendChild(Z),Z.appendChild(this._replaceBtn.domNode),Z.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new x({label:A,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=E.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${F}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(ae),this._domNode.appendChild(q),this._resizeSash=new I.Sash(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let j=F;this._register(this._resizeSash.onDidStart(()=>{j=E.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange($=>{this._resized=!0;let H=j+$.startX-$.currentX;if(H<F)return;const te=parseFloat(E.getComputedStyle(this._domNode).maxWidth)||0;H>te||(this._domNode.style.width=`${H}px`,this._isReplaceVisible&&(this._replaceInput.width=E.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const $=E.getTotalWidth(this._domNode);if($<F)return;let H=F;if(!this._resized||$===F){const te=this._codeEditor.getLayoutInfo();H=te.width-28-te.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${H}px`,this._isReplaceVisible&&(this._replaceInput.width=E.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const K=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(K!==2)}}e.FindWidget=G,G.ID="editor.contrib.findWidget";class x extends L.Widget{constructor(K){super();this._opts=K;let le="button";this._opts.className&&(le=le+" "+this._opts.className),this._opts.icon&&(le=le+" "+l.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=le,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,ae=>{this._opts.onTrigger(),ae.preventDefault()}),this.onkeydown(this._domNode,ae=>{if(ae.equals(10)||ae.equals(3)){this._opts.onTrigger(),ae.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(ae)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(K){this._domNode.classList.toggle("disabled",!K),this._domNode.setAttribute("aria-disabled",String(!K)),this._domNode.tabIndex=K?0:-1}setExpanded(K){this._domNode.setAttribute("aria-expanded",String(!!K)),K?(this._domNode.classList.remove(...l.ThemeIcon.asClassNameArray(b)),this._domNode.classList.add(...l.ThemeIcon.asClassNameArray(p))):(this._domNode.classList.remove(...l.ThemeIcon.asClassNameArray(p)),this._domNode.classList.add(...l.ThemeIcon.asClassNameArray(b)))}}e.SimpleButton=x,(0,l.registerThemingParticipant)((V,K)=>{const le=(pe,ve)=>{ve&&K.addRule(`.monaco-editor ${pe} { background-color: ${ve}; }`)};le(".findMatch",V.getColor(s.editorFindMatchHighlight)),le(".currentFindMatch",V.getColor(s.editorFindMatch)),le(".findScope",V.getColor(s.editorFindRangeHighlight));const ae=V.getColor(s.editorWidgetBackground);le(".find-widget",ae);const Q=V.getColor(s.widgetShadow);Q&&K.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${Q}; }`);const q=V.getColor(s.editorFindMatchHighlightBorder);q&&K.addRule(`.monaco-editor .findMatch { border: 1px ${(0,f.isHighContrast)(V.type)?"dotted":"solid"} ${q}; box-sizing: border-box; }`);const Z=V.getColor(s.editorFindMatchBorder);Z&&K.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${Z}; padding: 1px; box-sizing: border-box; }`);const j=V.getColor(s.editorFindRangeHighlightBorder);j&&K.addRule(`.monaco-editor .findScope { border: 1px ${(0,f.isHighContrast)(V.type)?"dashed":"solid"} ${j}; }`);const $=V.getColor(s.contrastBorder);$&&K.addRule(`.monaco-editor .find-widget { border: 1px solid ${$}; }`);const H=V.getColor(s.editorWidgetForeground);H&&K.addRule(`.monaco-editor .find-widget { color: ${H}; }`);const te=V.getColor(s.errorForeground);te&&K.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${te}; }`);const ne=V.getColor(s.editorWidgetResizeBorder);if(ne)K.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ne}; }`);else{const pe=V.getColor(s.editorWidgetBorder);pe&&K.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${pe}; }`)}const de=V.getColor(s.toolbarHoverBackground);de&&K.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${de} !important;
		}
	`);const he=V.getColor(s.focusBorder);he&&K.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${he}; }`)})}),define(re[306],se([1,0,10,2,8,15,22,167,730,731,732,542,39,97,16,80,43,40,83,14]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=e.getSelectionSearchString=void 0;const l=524288;function f(D,A="single",P=!1){if(!D.hasModel())return null;const F=D.getSelection();if(A==="single"&&F.startLineNumber===F.endLineNumber||A==="multiple"){if(F.isEmpty()){const W=D.getConfiguredWordAtPosition(F.getStartPosition());if(W&&P===!1)return W.word}else if(D.getModel().getValueLengthInRange(F)<l)return D.getModel().getValueInRange(F)}return null}e.getSelectionSearchString=f;let g=class xi extends m.Disposable{constructor(A,P,F,W){super();this._editor=A,this._findWidgetVisible=_.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(P),this._contextKeyService=P,this._storageService=F,this._clipboardService=W,this._updateHistoryDelayer=new E.Delayer(500),this._state=this._register(new u.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(M=>this._onStateChanged(M))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let M=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),M&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(35).loop})}))}get editor(){return this._editor}static get(A){return A.getContribution(xi.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(A){this.saveQueryState(A),A.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),A.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(A){A.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),A.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),A.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),A.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!_.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let A=this._editor.getSelections();A.map(P=>(P.endColumn===1&&P.endLineNumber>P.startLineNumber&&(P=P.setEndPosition(P.endLineNumber-1,this._editor.getModel().getLineMaxColumn(P.endLineNumber-1))),P.isEmpty()?null:P)).filter(P=>!!P),A.length&&this._state.change({searchScope:A},!0)}}setSearchString(A){this._state.isRegex&&(A=k.escapeRegExpCharacters(A)),this._state.change({searchString:A},!1)}highlightFindOptions(A=!1){}_start(A,P){return Le(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let F=Object.assign(Object.assign({},P),{isRevealed:!0});if(A.seedSearchStringFromSelection==="single"){let W=f(this._editor,A.seedSearchStringFromSelection,A.seedSearchStringFromNonEmptySelection);W&&(this._state.isRegex?F.searchString=k.escapeRegExpCharacters(W):F.searchString=W)}else if(A.seedSearchStringFromSelection==="multiple"&&!A.updateSearchScope){let W=f(this._editor,A.seedSearchStringFromSelection);W&&(F.searchString=W)}if(!F.searchString&&A.seedSearchStringFromGlobalClipboard){let W=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;W&&(F.searchString=W)}if(A.forceRevealReplace||F.isReplaceRevealed?F.isReplaceRevealed=!0:this._findWidgetVisible.get()||(F.isReplaceRevealed=!1),A.updateSearchScope){let W=this._editor.getSelections();W.some(M=>!M.isEmpty())&&(F.searchScope=W)}F.loop=A.loop,this._state.change(F,!1),this._model||(this._model=new _.FindModelBoundToEditorModel(this._editor,this._state))})}start(A,P){return this._start(A,P)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return Le(this,void 0,void 0,function*(){return this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(A){this._editor.getOption(35).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(A)}};g.ID="editor.contrib.findController",g=Ie([fe(1,o.IContextKeyService),fe(2,s.IStorageService),fe(3,t.IClipboardService)],g),e.CommonFindController=g;let b=class extends g{constructor(A,P,F,W,M,z,ee,ie){super(A,F,ee,ie);this._contextViewService=P,this._keybindingService=W,this._themeService=M,this._notificationService=z,this._widget=null,this._findOptionsWidget=null}_start(A,P){const F=Object.create(null,{_start:{get:()=>super._start}});return Le(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const W=this._editor.getSelection();let M=!1;switch(this._editor.getOption(35).autoFindInSelection){case"always":M=!0;break;case"never":M=!1;break;case"multiline":{M=!!W&&W.startLineNumber!==W.endLineNumber;break}default:break}A.updateSearchScope=A.updateSearchScope||M,yield F._start.call(this,A,P),this._widget&&(A.shouldFocus===2?this._widget.focusReplaceInput():A.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(A=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!A?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new h.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new v.FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))}};b=Ie([fe(1,d.IContextViewService),fe(2,o.IContextKeyService),fe(3,r.IKeybindingService),fe(4,a.IThemeService),fe(5,c.INotificationService),fe(6,s.IStorageService),fe(7,t.IClipboardService)],b),e.FindController=b,e.StartFindAction=(0,I.registerMultiEditorAction)(new I.MultiEditorAction({id:_.FIND_IDS.StartFindAction,label:i.localize(0,null),alias:"Find",precondition:o.ContextKeyExpr.or(L.EditorContextKeys.focus,o.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|36,weight:100},menuOpts:{menuId:n.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(1,null),order:1}})),e.StartFindAction.addImplementation(0,(D,A,P)=>{const F=g.get(A);return F?F.start({forceRevealReplace:!1,seedSearchStringFromSelection:A.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:A.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:A.getOption(35).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:A.getOption(35).loop}):!1});const p={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:i.localize(2,null)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:i.localize(3,null)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:i.localize(4,null)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:i.localize(5,null)},findInSelection:{type:"boolean"}}}}]};class C extends I.EditorAction{constructor(){super({id:_.FIND_IDS.StartFindWithArgs,label:i.localize(6,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:p})}run(A,P,F){return Le(this,void 0,void 0,function*(){const W=g.get(P);if(W){const M=F?{searchString:F.searchString,replaceString:F.replaceString,isReplaceRevealed:F.replaceString!==void 0,isRegex:F.isRegex,wholeWord:F.matchWholeWord,matchCase:F.isCaseSensitive,preserveCase:F.preserveCase}:{};yield W.start({forceRevealReplace:!1,seedSearchStringFromSelection:W.getState().searchString.length===0&&P.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:P.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(F==null?void 0:F.findInSelection)||!1,loop:P.getOption(35).loop},M),W.setGlobalBufferTerm(W.getState().searchString)}})}}e.StartFindWithArgsAction=C;class S extends I.EditorAction{constructor(){super({id:_.FIND_IDS.StartFindWithSelection,label:i.localize(7,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2048|35},weight:100}})}run(A,P){return Le(this,void 0,void 0,function*(){const F=g.get(P);F&&(yield F.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:P.getOption(35).loop}),F.setGlobalBufferTerm(F.getState().searchString))})}}e.StartFindWithSelectionAction=S;class y extends I.EditorAction{run(A,P){return Le(this,void 0,void 0,function*(){const F=g.get(P);F&&!this._run(F)&&(yield F.start({forceRevealReplace:!1,seedSearchStringFromSelection:F.getState().searchString.length===0&&P.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:P.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:P.getOption(35).loop}),this._run(F))})}}e.MatchFindAction=y;class w extends y{constructor(){super({id:_.FIND_IDS.NextMatchFindAction,label:i.localize(8,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:L.EditorContextKeys.focus,primary:61,mac:{primary:2048|37,secondary:[61]},weight:100},{kbExpr:o.ContextKeyExpr.and(L.EditorContextKeys.focus,_.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(A){return A.moveToNextMatch()?(A.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=w;class T extends y{constructor(){super({id:_.FIND_IDS.PreviousMatchFindAction,label:i.localize(9,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:L.EditorContextKeys.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]},weight:100},{kbExpr:o.ContextKeyExpr.and(L.EditorContextKeys.focus,_.CONTEXT_FIND_INPUT_FOCUSED),primary:1024|3,weight:100}]})}_run(A){return A.moveToPrevMatch()}}e.PreviousMatchFindAction=T;class N extends I.EditorAction{run(A,P){return Le(this,void 0,void 0,function*(){const F=g.get(P);if(!F)return;const W=P.getOption(35).seedSearchStringFromSelection==="selection";let M=null;P.getOption(35).seedSearchStringFromSelection!=="never"&&(M=f(P,"single",W)),M&&F.setSearchString(M),this._run(F)||(yield F.start({forceRevealReplace:!1,seedSearchStringFromSelection:P.getOption(35).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:W,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:P.getOption(35).loop}),this._run(F))})}}e.SelectionMatchFindAction=N;class R extends N{constructor(){super({id:_.FIND_IDS.NextSelectionMatchFindAction,label:i.localize(10,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.focus,primary:2048|61,weight:100}})}_run(A){return A.moveToNextMatch()}}e.NextSelectionMatchFindAction=R;class B extends N{constructor(){super({id:_.FIND_IDS.PreviousSelectionMatchFindAction,label:i.localize(11,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.focus,primary:2048|1024|61,weight:100}})}_run(A){return A.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=B,e.StartFindReplaceAction=(0,I.registerMultiEditorAction)(new I.MultiEditorAction({id:_.FIND_IDS.StartFindReplaceAction,label:i.localize(12,null),alias:"Replace",precondition:o.ContextKeyExpr.or(L.EditorContextKeys.focus,o.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36},weight:100},menuOpts:{menuId:n.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(13,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(D,A,P)=>{if(!A.hasModel()||A.getOption(81))return!1;const F=g.get(A);if(!F)return!1;const W=A.getSelection(),M=F.isFindInputFocused(),z=!W.isEmpty()&&W.startLineNumber===W.endLineNumber&&A.getOption(35).seedSearchStringFromSelection!=="never"&&!M,ee=M||z?2:1;return F.start({forceRevealReplace:!0,seedSearchStringFromSelection:z?"single":"none",seedSearchStringFromNonEmptySelection:A.getOption(35).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:A.getOption(35).seedSearchStringFromSelection!=="never",shouldFocus:ee,shouldAnimate:!0,updateSearchScope:!1,loop:A.getOption(35).loop})}),(0,I.registerEditorContribution)(g.ID,b),(0,I.registerEditorAction)(C),(0,I.registerEditorAction)(S),(0,I.registerEditorAction)(w),(0,I.registerEditorAction)(T),(0,I.registerEditorAction)(R),(0,I.registerEditorAction)(B);const O=I.EditorCommand.bindToContribution(g.get);(0,I.registerEditorCommand)(new O({id:_.FIND_IDS.CloseFindWidgetCommand,precondition:_.CONTEXT_FIND_WIDGET_VISIBLE,handler:D=>D.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:o.ContextKeyExpr.and(L.EditorContextKeys.focus,o.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1024|9]}})),(0,I.registerEditorCommand)(new O({id:_.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:D=>D.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:_.ToggleCaseSensitiveKeybinding.primary,mac:_.ToggleCaseSensitiveKeybinding.mac,win:_.ToggleCaseSensitiveKeybinding.win,linux:_.ToggleCaseSensitiveKeybinding.linux}})),(0,I.registerEditorCommand)(new O({id:_.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:D=>D.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:_.ToggleWholeWordKeybinding.primary,mac:_.ToggleWholeWordKeybinding.mac,win:_.ToggleWholeWordKeybinding.win,linux:_.ToggleWholeWordKeybinding.linux}})),(0,I.registerEditorCommand)(new O({id:_.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:D=>D.toggleRegex(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:_.ToggleRegexKeybinding.primary,mac:_.ToggleRegexKeybinding.mac,win:_.ToggleRegexKeybinding.win,linux:_.ToggleRegexKeybinding.linux}})),(0,I.registerEditorCommand)(new O({id:_.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:D=>D.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:_.ToggleSearchScopeKeybinding.primary,mac:_.ToggleSearchScopeKeybinding.mac,win:_.ToggleSearchScopeKeybinding.win,linux:_.ToggleSearchScopeKeybinding.linux}})),(0,I.registerEditorCommand)(new O({id:_.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:D=>D.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:_.TogglePreserveCaseKeybinding.primary,mac:_.TogglePreserveCaseKeybinding.mac,win:_.TogglePreserveCaseKeybinding.win,linux:_.TogglePreserveCaseKeybinding.linux}})),(0,I.registerEditorCommand)(new O({id:_.FIND_IDS.ReplaceOneAction,precondition:_.CONTEXT_FIND_WIDGET_VISIBLE,handler:D=>D.replace(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:2048|1024|22}})),(0,I.registerEditorCommand)(new O({id:_.FIND_IDS.ReplaceOneAction,precondition:_.CONTEXT_FIND_WIDGET_VISIBLE,handler:D=>D.replace(),kbOpts:{weight:100+5,kbExpr:o.ContextKeyExpr.and(L.EditorContextKeys.focus,_.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,I.registerEditorCommand)(new O({id:_.FIND_IDS.ReplaceAllAction,precondition:_.CONTEXT_FIND_WIDGET_VISIBLE,handler:D=>D.replaceAll(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:2048|512|3}})),(0,I.registerEditorCommand)(new O({id:_.FIND_IDS.ReplaceAllAction,precondition:_.CONTEXT_FIND_WIDGET_VISIBLE,handler:D=>D.replaceAll(),kbOpts:{weight:100+5,kbExpr:o.ContextKeyExpr.and(L.EditorContextKeys.focus,_.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2048|3}}})),(0,I.registerEditorCommand)(new O({id:_.FIND_IDS.SelectAllMatchesAction,precondition:_.CONTEXT_FIND_WIDGET_VISIBLE,handler:D=>D.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:L.EditorContextKeys.focus,primary:512|3}}))}),define(re[733],se([1,0,28,36,545,77,14]),function(U,e,E,m,k,I,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0,e.foldingExpandedIcon=(0,I.registerIcon)("folding-expanded",E.Codicon.chevronDown,(0,k.localize)(0,null)),e.foldingCollapsedIcon=(0,I.registerIcon)("folding-collapsed",E.Codicon.chevronRight,(0,k.localize)(1,null));class _{constructor(u){this.editor=u,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}getDecorationOption(u,h){return h?_.HIDDEN_RANGE_DECORATION:u?this.showFoldingHighlights?_.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:_.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?_.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:_.EXPANDED_VISUAL_DECORATION}deltaDecorations(u,h){return this.editor.deltaDecorations(u,h)}changeDecorations(u){return this.editor.changeDecorations(u)}}e.FoldingDecorationProvider=_,_.COLLAPSED_VISUAL_DECORATION=m.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:L.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),_.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=m.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:L.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),_.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=m.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:L.ThemeIcon.asClassName(e.foldingExpandedIcon)}),_.EXPANDED_VISUAL_DECORATION=m.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+L.ThemeIcon.asClassName(e.foldingExpandedIcon)}),_.HIDDEN_RANGE_DECORATION=m.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(re[734],se([1,0,10,13,59,2,8,19,146,15,22,27,31,472,473,474,475,544,16,23,14,733,262,40,78,70,56,20,386]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g,b,p,C,S,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorFoldForeground=e.foldBackgroundBackground=e.FoldingController=void 0;const w=new s.RawContextKey("foldingEnabled",!1);let T=class zi extends I.Disposable{constructor(V,K,le,ae,Q,q){super();this.contextKeyService=K,this.languageConfigurationService=le,this.languageFeaturesService=q,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new I.DisposableStore),this.editor=V;const Z=this.editor.getOptions();this._isEnabled=Z.get(37),this._useFoldingProviders=Z.get(38)!=="indentation",this._unfoldOnClickAfterEndOfLine=Z.get(42),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=Z.get(40),this._maxFoldingRegions=Z.get(41),this.updateDebounceInfo=Q.for(q.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new f.FoldingDecorationProvider(V),this.foldingDecorationProvider.autoHideFoldingControls=Z.get(99)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=Z.get(39),this.foldingEnabled=w.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=j=>{this._tooManyRegionsNotified||(ae.notify({severity:p.default.Warning,sticky:!0,message:c.localize(0,null,j)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(j=>{if(j.hasChanged(37)&&(this._isEnabled=this.editor.getOptions().get(37),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),j.hasChanged(41)&&(this._maxFoldingRegions=this.editor.getOptions().get(41),this._tooManyRegionsNotified=!1,this.onModelChanged()),j.hasChanged(99)||j.hasChanged(39)){const $=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls=$.get(99)==="mouseover",this.foldingDecorationProvider.showFoldingHighlights=$.get(39),this.triggerFoldingModelChanged()}j.hasChanged(38)&&(this._useFoldingProviders=this.editor.getOptions().get(38)!=="indentation",this.onFoldingStrategyChanged()),j.hasChanged(42)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(42)),j.hasChanged(40)&&(this._foldingImportsByDefault=this.editor.getOptions().get(40))})),this.onModelChanged()}static get(V){return V.getContribution(zi.ID)}saveViewState(){let V=this.editor.getModel();if(!V||!this._isEnabled||V.isTooLargeForTokenization())return{};if(this.foldingModel){let K=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),le=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:K,lineCount:V.getLineCount(),provider:le,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(V){let K=this.editor.getModel();if(!K||!this._isEnabled||K.isTooLargeForTokenization()||!this.hiddenRangeModel||!V||V.lineCount!==K.getLineCount()||(this._currentModelHasFoldedImports=!!V.foldedImports,!V.collapsedRegions))return;(V.provider===g.ID_SYNTAX_PROVIDER||V.provider===r.ID_INIT_PROVIDER)&&(this.foldingStateMemento=V);const le=V.collapsedRegions;if(this.hiddenRangeModel.applyMemento(le)){const ae=this.getFoldingModel();ae&&ae.then(Q=>{if(Q){this._restoringViewState=!0;try{Q.applyMemento(le)}finally{this._restoringViewState=!1}}}).then(void 0,m.onUnexpectedError)}}onModelChanged(){this.localToDispose.clear();let V=this.editor.getModel();!this._isEnabled||!V||V.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new t.FoldingModel(V,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new o.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(K=>this.onHiddenRangesChanges(K))),this.updateScheduler=new E.Delayer(this.updateDebounceInfo.get(V)),this.cursorChangedScheduler=new E.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(K=>this.onDidChangeModelContent(K))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(K=>this.onEditorMouseDown(K))),this.localToDispose.add(this.editor.onMouseUp(K=>this.onEditorMouseUp(K))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(V){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new d.IndentRangeProvider(V,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){let K=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);if(K.length===0&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions)return this.rangeProvider=new r.InitializingRangeProvider(V,this.foldingStateMemento.collapsedRegions,()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()},3e4);K.length>0&&(this.rangeProvider=new g.SyntaxRangeProvider(V,K,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(V){var K;(K=this.hiddenRangeModel)===null||K===void 0||K.notifyChangeModelContent(V),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const V=this.foldingModel;if(!V)return null;const K=new S.StopWatch(!0),le=this.getRangeProvider(V.textModel);let ae=this.foldingRegionPromise=(0,E.createCancelablePromise)(Q=>le.compute(Q,this._notifyTooManyRegions));return ae.then(Q=>{if(Q&&ae===this.foldingRegionPromise){let q;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const H=Q.setCollapsedAllOfType(i.FoldingRangeKind.Imports.value,!0);H&&(q=v.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=H)}let Z=this.editor.getSelections(),j=Z?Z.map(H=>H.startLineNumber):[];V.update(Q,j),q&&q.restore(this.editor);const $=this.updateDebounceInfo.update(V.textModel,K.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=$)}return V})}).then(void 0,V=>((0,m.onUnexpectedError)(V),null)))}onHiddenRangesChanges(V){if(this.hiddenRangeModel&&V.length&&!this._restoringViewState){let K=this.editor.getSelections();K&&this.hiddenRangeModel.adjustSelections(K)&&this.editor.setSelections(K)}this.editor.setHiddenAreas(V)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const V=this.getFoldingModel();!V||V.then(K=>{if(K){let le=this.editor.getSelections();if(le&&le.length>0){let ae=[];for(let Q of le){let q=Q.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(q)&&ae.push(...K.getAllRegionsAtLine(q,Z=>Z.isCollapsed&&q>Z.startLineNumber))}ae.length&&(K.toggleCollapseState(ae),this.reveal(le[0].getPosition()))}}}).then(void 0,m.onUnexpectedError)}onEditorMouseDown(V){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!V.target||!V.target.range||!V.event.leftButton&&!V.event.middleButton)return;const K=V.target.range;let le=!1;switch(V.target.type){case 4:{const ae=V.target.detail,Q=V.target.element.offsetLeft;if(ae.offsetX-Q<5)return;le=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!V.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){let ae=this.editor.getModel();if(ae&&K.startColumn===ae.getLineMaxColumn(K.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:K.startLineNumber,iconClicked:le}}onEditorMouseUp(V){const K=this.foldingModel;if(!K||!this.mouseDownInfo||!V.target)return;let le=this.mouseDownInfo.lineNumber,ae=this.mouseDownInfo.iconClicked,Q=V.target.range;if(!Q||Q.startLineNumber!==le)return;if(ae){if(V.target.type!==4)return}else{let Z=this.editor.getModel();if(!Z||Q.startColumn!==Z.getLineMaxColumn(le))return}let q=K.getRegionAtLine(le);if(q&&q.startLineNumber===le){let Z=q.isCollapsed;if(ae||Z){let j=V.event.altKey,$=[];if(j){let H=ne=>!ne.containedBy(q)&&!q.containedBy(ne),te=K.getRegionsInside(null,H);for(const ne of te)ne.isCollapsed&&$.push(ne);$.length===0&&($=te)}else{let H=V.event.middleButton||V.event.shiftKey;if(H)for(const te of K.getRegionsInside(q))te.isCollapsed===Z&&$.push(te);(Z||!H||$.length===0)&&$.push(q)}K.toggleCollapseState($),this.reveal({lineNumber:le,column:1})}}}reveal(V){this.editor.revealPositionInCenterIfOutsideViewport(V,0)}};T.ID="editor.contrib.folding",T=Ie([fe(1,s.IContextKeyService),fe(2,n.ILanguageConfigurationService),fe(3,b.INotificationService),fe(4,C.ILanguageFeatureDebounceService),fe(5,y.ILanguageFeaturesService)],T),e.FoldingController=T;class N extends u.EditorAction{runEditorCommand(V,K,le){const ae=V.get(n.ILanguageConfigurationService),Q=T.get(K);if(!Q)return;const q=Q.getFoldingModel();if(q)return this.reportTelemetry(V,K),q.then(Z=>{if(Z){this.invoke(Q,Z,K,le,ae);const j=K.getSelection();j&&Q.reveal(j.getStartPosition())}})}getSelectedLines(V){let K=V.getSelections();return K?K.map(le=>le.startLineNumber):[]}getLineNumbers(V,K){return V&&V.selectionLines?V.selectionLines.map(le=>le+1):this.getSelectedLines(K)}run(V,K){}}function R(x){if(!_.isUndefined(x)){if(!_.isObject(x))return!1;const V=x;if(!_.isUndefined(V.levels)&&!_.isNumber(V.levels)||!_.isUndefined(V.direction)&&!_.isString(V.direction)||!_.isUndefined(V.selectionLines)&&(!_.isArray(V.selectionLines)||!V.selectionLines.every(_.isNumber)))return!1}return!0}class B extends N{constructor(){super({id:"editor.unfold",label:c.localize(1,null),alias:"Unfold",precondition:w,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:2048|1024|89,mac:{primary:2048|512|89},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:R,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(V,K,le,ae){let Q=ae&&ae.levels||1,q=this.getLineNumbers(ae,le);ae&&ae.direction==="up"?(0,t.setCollapseStateLevelsUp)(K,!1,Q,q):(0,t.setCollapseStateLevelsDown)(K,!1,Q,q)}}class O extends N{constructor(){super({id:"editor.unfoldRecursively",label:c.localize(2,null),alias:"Unfold Recursively",precondition:w,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|89),weight:100}})}invoke(V,K,le,ae){(0,t.setCollapseStateLevelsDown)(K,!1,Number.MAX_VALUE,this.getSelectedLines(le))}}class D extends N{constructor(){super({id:"editor.fold",label:c.localize(3,null),alias:"Fold",precondition:w,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:2048|1024|87,mac:{primary:2048|512|87},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:R,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(V,K,le,ae){let Q=this.getLineNumbers(ae,le);const q=ae&&ae.levels,Z=ae&&ae.direction;typeof q!="number"&&typeof Z!="string"?(0,t.setCollapseStateUp)(K,!0,Q):Z==="up"?(0,t.setCollapseStateLevelsUp)(K,!0,q||1,Q):(0,t.setCollapseStateLevelsDown)(K,!0,q||1,Q)}}class A extends N{constructor(){super({id:"editor.toggleFold",label:c.localize(4,null),alias:"Toggle Fold",precondition:w,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|42),weight:100}})}invoke(V,K,le){let ae=this.getSelectedLines(le);(0,t.toggleCollapseState)(K,1,ae)}}class P extends N{constructor(){super({id:"editor.foldRecursively",label:c.localize(5,null),alias:"Fold Recursively",precondition:w,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|87),weight:100}})}invoke(V,K,le){let ae=this.getSelectedLines(le);(0,t.setCollapseStateLevelsDown)(K,!0,Number.MAX_VALUE,ae)}}class F extends N{constructor(){super({id:"editor.foldAllBlockComments",label:c.localize(6,null),alias:"Fold All Block Comments",precondition:w,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|85),weight:100}})}invoke(V,K,le,ae,Q){if(K.regions.hasTypes())(0,t.setCollapseStateForType)(K,i.FoldingRangeKind.Comment.value,!0);else{const q=le.getModel();if(!q)return;const Z=Q.getLanguageConfiguration(q.getLanguageId()).comments;if(Z&&Z.blockCommentStartToken){let j=new RegExp("^\\s*"+(0,L.escapeRegExpCharacters)(Z.blockCommentStartToken));(0,t.setCollapseStateForMatchingLines)(K,j,!0)}}}}class W extends N{constructor(){super({id:"editor.foldAllMarkerRegions",label:c.localize(7,null),alias:"Fold All Regions",precondition:w,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|29),weight:100}})}invoke(V,K,le,ae,Q){if(K.regions.hasTypes())(0,t.setCollapseStateForType)(K,i.FoldingRangeKind.Region.value,!0);else{const q=le.getModel();if(!q)return;const Z=Q.getLanguageConfiguration(q.getLanguageId()).foldingRules;if(Z&&Z.markers&&Z.markers.start){let j=new RegExp(Z.markers.start);(0,t.setCollapseStateForMatchingLines)(K,j,!0)}}}}class M extends N{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:c.localize(8,null),alias:"Unfold All Regions",precondition:w,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|30),weight:100}})}invoke(V,K,le,ae,Q){if(K.regions.hasTypes())(0,t.setCollapseStateForType)(K,i.FoldingRangeKind.Region.value,!1);else{const q=le.getModel();if(!q)return;const Z=Q.getLanguageConfiguration(q.getLanguageId()).foldingRules;if(Z&&Z.markers&&Z.markers.start){let j=new RegExp(Z.markers.start);(0,t.setCollapseStateForMatchingLines)(K,j,!1)}}}}class z extends N{constructor(){super({id:"editor.foldAllExcept",label:c.localize(9,null),alias:"Fold All Regions Except Selected",precondition:w,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|83),weight:100}})}invoke(V,K,le){let ae=this.getSelectedLines(le);(0,t.setCollapseStateForRest)(K,!0,ae)}}class ee extends N{constructor(){super({id:"editor.unfoldAllExcept",label:c.localize(10,null),alias:"Unfold All Regions Except Selected",precondition:w,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|81),weight:100}})}invoke(V,K,le){let ae=this.getSelectedLines(le);(0,t.setCollapseStateForRest)(K,!1,ae)}}class ie extends N{constructor(){super({id:"editor.foldAll",label:c.localize(11,null),alias:"Fold All",precondition:w,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|21),weight:100}})}invoke(V,K,le){(0,t.setCollapseStateLevelsDown)(K,!0)}}class Y extends N{constructor(){super({id:"editor.unfoldAll",label:c.localize(12,null),alias:"Unfold All",precondition:w,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|40),weight:100}})}invoke(V,K,le){(0,t.setCollapseStateLevelsDown)(K,!1)}}class X extends N{getFoldingLevel(){return parseInt(this.id.substr(X.ID_PREFIX.length))}invoke(V,K,le){(0,t.setCollapseStateAtLevel)(K,this.getFoldingLevel(),!0,this.getSelectedLines(le))}}X.ID_PREFIX="editor.foldLevel",X.ID=x=>X.ID_PREFIX+x;class J extends N{constructor(){super({id:"editor.gotoParentFold",label:c.localize(13,null),alias:"Go to Parent Fold",precondition:w,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,weight:100}})}invoke(V,K,le){let ae=this.getSelectedLines(le);if(ae.length>0){let Q=(0,t.getParentFoldLine)(ae[0],K);Q!==null&&le.setSelection({startLineNumber:Q,startColumn:1,endLineNumber:Q,endColumn:1})}}}class oe extends N{constructor(){super({id:"editor.gotoPreviousFold",label:c.localize(14,null),alias:"Go to Previous Folding Range",precondition:w,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,weight:100}})}invoke(V,K,le){let ae=this.getSelectedLines(le);if(ae.length>0){let Q=(0,t.getPreviousFoldLine)(ae[0],K);Q!==null&&le.setSelection({startLineNumber:Q,startColumn:1,endLineNumber:Q,endColumn:1})}}}class G extends N{constructor(){super({id:"editor.gotoNextFold",label:c.localize(15,null),alias:"Go to Next Folding Range",precondition:w,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,weight:100}})}invoke(V,K,le){let ae=this.getSelectedLines(le);if(ae.length>0){let Q=(0,t.getNextFoldLine)(ae[0],K);Q!==null&&le.setSelection({startLineNumber:Q,startColumn:1,endLineNumber:Q,endColumn:1})}}}(0,u.registerEditorContribution)(T.ID,T),(0,u.registerEditorAction)(B),(0,u.registerEditorAction)(O),(0,u.registerEditorAction)(D),(0,u.registerEditorAction)(P),(0,u.registerEditorAction)(ie),(0,u.registerEditorAction)(Y),(0,u.registerEditorAction)(F),(0,u.registerEditorAction)(W),(0,u.registerEditorAction)(M),(0,u.registerEditorAction)(z),(0,u.registerEditorAction)(ee),(0,u.registerEditorAction)(A),(0,u.registerEditorAction)(J),(0,u.registerEditorAction)(oe),(0,u.registerEditorAction)(G);for(let x=1;x<=7;x++)(0,u.registerInstantiatedEditorAction)(new X({id:X.ID(x),label:c.localize(16,null,x),alias:`Fold Level ${x}`,precondition:w,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2048|41,2048|21+x),weight:100}}));e.foldBackgroundBackground=(0,a.registerColor)("editor.foldBackground",{light:(0,a.transparent)(a.editorSelectionBackground,.3),dark:(0,a.transparent)(a.editorSelectionBackground,.3),hcDark:null,hcLight:null},c.localize(17,null),!0),e.editorFoldForeground=(0,a.registerColor)("editorGutter.foldingControlForeground",{dark:a.iconForeground,light:a.iconForeground,hcDark:a.iconForeground,hcLight:a.iconForeground},c.localize(18,null)),(0,l.registerThemingParticipant)((x,V)=>{const K=x.getColor(e.foldBackgroundBackground);K&&V.addRule(`.monaco-editor .folded-background { background-color: ${K}; }`);const le=x.getColor(e.editorFoldForeground);le&&V.addRule(`
		.monaco-editor .cldr${l.ThemeIcon.asCSSSelector(f.foldingExpandedIcon)},
		.monaco-editor .cldr${l.ThemeIcon.asCSSSelector(f.foldingCollapsedIcon)} {
			color: ${le} !important;
		}
		`)})}),define(re[735],se([1,0,7,233,18,2,11,3,36,27,264,87,16,9,43,98,10,22,4]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContentHoverWidget=e.ContentHoverController=void 0;const a=E.$;let l=class Vi extends I.Disposable{constructor(y,w,T){super();this._editor=y,this._instantiationService=w,this._keybindingService=T,this._widget=this._register(this._instantiationService.createInstance(b,this._editor)),this._decorationsChangerListener=this._register(new f(this._editor)),this._messages=[],this._messagesAreComplete=!1,this._participants=[];for(const N of i.HoverParticipantRegistry.getAll())this._participants.push(this._instantiationService.createInstance(N,this._editor));this._participants.sort((N,R)=>N.hoverOrdinal-R.hoverOrdinal),this._computer=new C(this._editor,this._participants),this._hoverOperation=this._register(new h.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(N=>{this._withResult(N.value,N.isComplete,N.hasLoadingMessage)})),this._register(this._decorationsChangerListener.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(E.addStandardDisposableListener(this._widget.getDomNode(),"keydown",N=>{N.equals(9)&&this.hide()})),this._register(u.TokenizationRegistry.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}maybeShowAt(y){const w=[];for(const N of this._participants)if(N.suggestHoverAnchor){const R=N.suggestHoverAnchor(y);R&&w.push(R)}const T=y.target;if(T.type===6&&w.push(new i.HoverRangeAnchor(0,T.range)),T.type===7){const N=this._editor.getOption(44).typicalHalfwidthCharacterWidth/2;!T.detail.isAfterLines&&typeof T.detail.horizontalDistanceToText=="number"&&T.detail.horizontalDistanceToText<N&&w.push(new i.HoverRangeAnchor(0,T.range))}return w.length===0?!1:(w.sort((N,R)=>R.priority-N.priority),this._startShowingAt(w[0],0,!1),!0)}startShowingAtRange(y,w,T){this._startShowingAt(new i.HoverRangeAnchor(0,y),w,T)}_startShowingAt(y,w,T){if(!(this._computer.anchor&&this._computer.anchor.equals(y))){if(this._hoverOperation.cancel(),this._widget.position)if(!this._computer.anchor||!y.canAdoptVisibleHover(this._computer.anchor,this._widget.position))this.hide();else{const N=this._messages.filter(R=>R.isValidForHoverAnchor(y));if(N.length===0)this.hide();else{if(N.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(y,N)}}this._computer.anchor=y,this._computer.shouldFocus=T,this._hoverOperation.start(w)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return this._widget.isColorPickerVisible}containsNode(y){return this._widget.getDomNode().contains(y)}_addLoadingMessage(y){if(this._computer.anchor){for(const w of this._participants)if(w.createLoadingMessage){const T=w.createLoadingMessage(this._computer.anchor);if(T)return y.slice(0).concat([T])}}return y}_withResult(y,w,T){this._messages=T?this._addLoadingMessage(y):y,this._messagesAreComplete=w,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):w&&this.hide()}_renderMessages(y,w){let T=1073741824,N=w[0].range,R=null;for(const F of w)T=Math.min(T,F.range.startColumn),N=_.Range.plusRange(N,F.range),F.forceShowAtRange&&(R=F.range);const B=new I.DisposableStore,O=B.add(new p(this._keybindingService)),D=document.createDocumentFragment();let A=null;const P={fragment:D,statusBar:O,setColorPicker:F=>A=F,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const F of this._participants){const W=w.filter(M=>M.owner===F);W.length>0&&B.add(F.renderHoverParts(P,W))}if(O.hasContent&&D.appendChild(O.hoverElement),D.hasChildNodes()){if(N){const F=this._decorationsChangerListener.deltaDecorations([],[{range:N,options:Vi._DECORATION_OPTIONS}]);B.add((0,I.toDisposable)(()=>{this._decorationsChangerListener.deltaDecorations(F,[])}))}this._widget.showAt(D,new g(A,R?R.getStartPosition():new L.Position(y.range.startLineNumber,T),R||N,this._editor.getOption(53).above,this._computer.shouldFocus,B))}else B.dispose()}};l._DECORATION_OPTIONS=v.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),l=Ie([fe(1,t.IInstantiationService),fe(2,o.IKeybindingService)],l),e.ContentHoverController=l;class f extends I.Disposable{constructor(y){super();this._editor=y,this._onDidChangeModelDecorations=this._register(new s.Emitter),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._isChangingDecorations=!1,this._register(this._editor.onDidChangeModelDecorations(w=>{this._isChangingDecorations||this._onDidChangeModelDecorations.fire(w)}))}deltaDecorations(y,w){try{return this._isChangingDecorations=!0,this._editor.deltaDecorations(y,w)}finally{this._isChangingDecorations=!1}}}class g{constructor(y,w,T,N,R,B){this.colorPicker=y,this.showAtPosition=w,this.showAtRange=T,this.preferAbove=N,this.stoleFocus=R,this.disposables=B}}let b=class Hi extends I.Disposable{constructor(y,w){super();this._editor=y,this._contextKeyService=w,this.allowEditorOverflow=!0,this._hoverVisibleKey=c.EditorContextKeys.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new m.HoverWidget),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(T=>{T.hasChanged(44)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var y,w;return(w=(y=this._visibleData)===null||y===void 0?void 0:y.showAtPosition)!==null&&w!==void 0?w:null}get isColorPickerVisible(){var y;return Boolean((y=this._visibleData)===null||y===void 0?void 0:y.colorPicker)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return Hi.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let y=this._visibleData.preferAbove;return!y&&this._contextKeyService.getContextKeyValue(d.Context.Visible.key)&&(y=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:y?[1,2]:[2,1]}}_setVisibleData(y){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=y,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const y=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:w,lineHeight:T}=this._editor.getOption(44);this._hover.contentsDomNode.style.fontSize=`${w}px`,this._hover.contentsDomNode.style.lineHeight=`${T/w}`,this._hover.contentsDomNode.style.maxHeight=`${y}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(w=>this._editor.applyFontInfo(w))}showAt(y,w){this._setVisibleData(w),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(y),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this._editor.layoutContentWidget(this),this.onContentsChanged(),this._editor.render(),this._editor.layoutContentWidget(this),this.onContentsChanged(),w.stoleFocus&&this._hover.containerDomNode.focus(),w.colorPicker&&w.colorPicker.layout()}hide(){if(this._visibleData){const y=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),y&&this._editor.focus()}}onContentsChanged(){this._hover.onContentsChanged();const y=this._hover.scrollbar.getScrollDimensions();if(y.scrollWidth>y.width){const T=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==T&&(this._hover.contentsDomNode.style.paddingBottom=T,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};b.ID="editor.contrib.contentHoverWidget",b=Ie([fe(1,n.IContextKeyService)],b),e.ContentHoverWidget=b;let p=class extends I.Disposable{constructor(y){super();this._keybindingService=y,this._hasContent=!1,this.hoverElement=a("div.hover-row.status-bar"),this.actionsElement=E.append(this.hoverElement,a("div.actions"))}get hasContent(){return this._hasContent}addAction(y){const w=this._keybindingService.lookupKeybinding(y.commandId),T=w?w.getLabel():null;return this._hasContent=!0,this._register(m.HoverAction.render(this.actionsElement,y,T))}append(y){const w=E.append(this.actionsElement,y);return this._hasContent=!0,w}};p=Ie([fe(0,o.IKeybindingService)],p);class C{constructor(y,w){this._editor=y,this._participants=w,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(y){this._anchor=y}get shouldFocus(){return this._shouldFocus}set shouldFocus(y){this._shouldFocus=y}static _getLineDecorations(y,w){if(w.type!==1)return[];const T=y.getModel(),N=w.range.startLineNumber;if(N>T.getLineCount())return[];const R=T.getLineMaxColumn(N);return y.getLineDecorations(N).filter(B=>{if(B.options.isWholeLine)return!0;const O=B.range.startLineNumber===N?B.range.startColumn:1,D=B.range.endLineNumber===N?B.range.endColumn:R;if(B.options.showIfCollapsed){if(O>w.range.startColumn+1||w.range.endColumn-1>D)return!1}else if(O>w.range.startColumn||w.range.endColumn>D)return!1;return!0})}computeAsync(y){const w=this._anchor;if(!this._editor.hasModel()||!w)return r.AsyncIterableObject.EMPTY;const T=C._getLineDecorations(this._editor,w);return r.AsyncIterableObject.merge(this._participants.map(N=>N.computeAsync?N.computeAsync(w,T,y):r.AsyncIterableObject.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const y=C._getLineDecorations(this._editor,this._anchor);let w=[];for(const T of this._participants)w=w.concat(T.computeSync(this._anchor,y));return(0,k.coalesce)(w)}}}),define(re[736],se([1,0,10,13,113,15,3,24,22,36,89,54,561,14,476]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let d=class ri{constructor(a,l){this.decorationIds=[],this.editor=a,this.editorWorkerService=l}static get(a){return a.getContribution(ri.ID)}dispose(){}run(a,l){this.currentRequest&&this.currentRequest.cancel();const f=this.editor.getSelection(),g=this.editor.getModel();if(!g||!f)return;let b=f;if(b.startLineNumber!==b.endLineNumber)return;const p=new k.EditorState(this.editor,1|4),C=g.uri;return this.editorWorkerService.canNavigateValueSet(C)?(this.currentRequest=(0,E.createCancelablePromise)(S=>this.editorWorkerService.navigateValueSet(C,b,l)),this.currentRequest.then(S=>{if(!S||!S.range||!S.value||!p.validate(this.editor))return;let y=L.Range.lift(S.range),w=S.range,T=S.value.length-(b.endColumn-b.startColumn);w={startLineNumber:w.startLineNumber,startColumn:w.startColumn,endLineNumber:w.endLineNumber,endColumn:w.startColumn+S.value.length},T>1&&(b=new _.Selection(b.startLineNumber,b.startColumn,b.endLineNumber,b.endColumn+T-1));const N=new o.InPlaceReplaceCommand(y,b,S.value);this.editor.pushUndoStop(),this.editor.executeCommand(a,N),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:w,options:ri.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,E.timeout)(350),this.decorationRemover.then(()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[])).catch(m.onUnexpectedError)}).catch(m.onUnexpectedError)):Promise.resolve(void 0)}};d.ID="editor.contrib.inPlaceReplaceController",d.DECORATION=u.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),d=Ie([fe(1,h.IEditorWorkerService)],d);class r extends I.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:n.localize(0,null),alias:"Replace with Previous Value",precondition:v.EditorContextKeys.writable,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|1024|82,weight:100}})}run(a,l){const f=d.get(l);return f?f.run(this.id,!0):Promise.resolve(void 0)}}class c extends I.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:n.localize(1,null),alias:"Replace with Next Value",precondition:v.EditorContextKeys.writable,kbOpts:{kbExpr:v.EditorContextKeys.editorTextFocus,primary:2048|1024|84,weight:100}})}run(a,l){const f=d.get(l);return f?f.run(this.id,!1):Promise.resolve(void 0)}}(0,I.registerEditorContribution)(d.ID,d),(0,I.registerEditorAction)(r),(0,I.registerEditorAction)(c),(0,t.registerThemingParticipant)((s,a)=>{const l=s.getColor(i.editorBracketMatchBorder);l&&a.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${l}; }`)})}),define(re[737],se([1,0,18,10,21,30,13,4,2,8,25,15,29,11,3,22,36,31,569,16,23,14,20,70,56]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new a.RawContextKey("LinkedEditingInputVisible",!1);const C="linked-editing-decoration";let S=class si extends v.Disposable{constructor(R,B,O,D,A){super();this.languageConfigurationService=D,this._localToDispose=this._register(new v.DisposableStore),this._editor=R,this._providers=O.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(B),this._debounceInformation=A.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new v.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(P=>{(P.hasChanged(62)||P.hasChanged(82))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(R){return R.getContribution(si.ID)}reinitialize(R){const B=this._editor.getModel(),O=B!==null&&(this._editor.getOption(62)||this._editor.getOption(82))&&this._providers.has(B);if(O===this._enabled&&!R||(this._enabled=O,this.clearRanges(),this._localToDispose.clear(),!O||B===null))return;this._localToDispose.add(_.Event.runAndSubscribe(B.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(B.getLanguageId()).getWordDefinition()}));const D=new m.Delayer(this._debounceInformation.get(B)),A=()=>{var W;this._rangeUpdateTriggerPromise=D.trigger(()=>this.updateRanges(),(W=this._debounceDuration)!==null&&W!==void 0?W:this._debounceInformation.get(B))},P=new m.Delayer(0),F=W=>{this._rangeSyncTriggerPromise=P.trigger(()=>this._syncRanges(W))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{A()})),this._localToDispose.add(this._editor.onDidChangeModelContent(W=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const M=B.getDecorationRange(this._currentDecorations[0]);if(M&&W.changes.every(z=>M.intersectRanges(z.range))){F(this._currentDecorations);return}}A()})),this._localToDispose.add({dispose:()=>{D.dispose(),P.dispose()}}),this.updateRanges()}_syncRanges(R){if(!this._editor.hasModel()||R!==this._currentDecorations||R.length===0)return;const B=this._editor.getModel(),O=B.getDecorationRange(R[0]);if(!O||O.startLineNumber!==O.endLineNumber)return this.clearRanges();const D=B.getValueInRange(O);if(this._currentWordPattern){const P=D.match(this._currentWordPattern);if((P?P[0].length:0)!==D.length)return this.clearRanges()}let A=[];for(let P=1,F=R.length;P<F;P++){const W=B.getDecorationRange(R[P]);if(!!W)if(W.startLineNumber!==W.endLineNumber)A.push({range:W,text:D});else{let M=B.getValueInRange(W),z=D,ee=W.startColumn,ie=W.endColumn;const Y=u.commonPrefixLength(M,z);ee+=Y,M=M.substr(Y),z=z.substr(Y);const X=u.commonSuffixLength(M,z);ie-=X,M=M.substr(0,M.length-X),z=z.substr(0,z.length-X),(ee!==ie||z.length!==0)&&A.push({range:new o.Range(W.startLineNumber,ee,W.endLineNumber,ie),text:z})}}if(A.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const P=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",A),this._editor._getViewModel().setPrevEditOperationType(P)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(R=!1){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const B=this._editor.getPosition();if(!this._enabled&&!R||this._editor.getSelections().length>1){this.clearRanges();return}const O=this._editor.getModel(),D=O.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===D){if(B.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const P=O.getDecorationRange(this._currentDecorations[0]);if(P&&P.containsPosition(B))return}}this._currentRequestPosition=B,this._currentRequestModelVersion=D;const A=(0,m.createCancelablePromise)(P=>Le(this,void 0,void 0,function*(){try{const F=new p.StopWatch(!1),W=yield T(this._providers,O,B,P);if(this._debounceInformation.update(O,F.elapsed()),A!==this._currentRequest||(this._currentRequest=null,D!==O.getVersionId()))return;let M=[];(W==null?void 0:W.ranges)&&(M=W.ranges),this._currentWordPattern=(W==null?void 0:W.wordPattern)||this._languageWordPattern;let z=!1;for(let ie=0,Y=M.length;ie<Y;ie++)if(o.Range.containsPosition(M[ie],B)){if(z=!0,ie!==0){const X=M[ie];M.splice(ie,1),M.unshift(X)}break}if(!z){this.clearRanges();return}const ee=M.map(ie=>({range:ie,options:si.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,ee)}catch(F){(0,L.isCancellationError)(F)||(0,L.onUnexpectedError)(F),(this._currentRequest===A||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=A,A})}};S.ID="editor.contrib.linkedEditing",S.DECORATION=r.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:C}),S=Ie([fe(1,a.IContextKeyService),fe(2,g.ILanguageFeaturesService),fe(3,c.ILanguageConfigurationService),fe(4,b.ILanguageFeatureDebounceService)],S),e.LinkedEditingContribution=S;class y extends i.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:s.localize(0,null),alias:"Start Linked Editing",precondition:a.ContextKeyExpr.and(d.EditorContextKeys.writable,d.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:2048|1024|60,weight:100}})}runCommand(R,B){const O=R.get(n.ICodeEditorService),[D,A]=Array.isArray(B)&&B||[void 0,void 0];return h.URI.isUri(D)&&t.Position.isIPosition(A)?O.openCodeEditor({resource:D},O.getActiveCodeEditor()).then(P=>{!P||(P.setPosition(A),P.invokeWithinContext(F=>(this.reportTelemetry(F,P),this.run(F,P))))},L.onUnexpectedError):super.runCommand(R,B)}run(R,B){const O=S.get(B);return O?Promise.resolve(O.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=y;const w=i.EditorCommand.bindToContribution(S.get);(0,i.registerEditorCommand)(new w({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:N=>N.clearRanges(),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,weight:100+99,primary:9,secondary:[1024|9]}}));function T(N,R,B,O){const D=N.ordered(R);return(0,m.first)(D.map(A=>()=>Le(this,void 0,void 0,function*(){try{return yield A.provideLinkedEditingRanges(R,B,O)}catch(P){(0,L.onUnexpectedExternalError)(P);return}})),A=>!!A&&E.isNonEmptyArray(A==null?void 0:A.ranges))}e.editorLinkedEditingBackground=(0,l.registerColor)("editor.linkedEditingBackground",{dark:I.Color.fromHex("#f00").transparent(.3),light:I.Color.fromHex("#f00").transparent(.3),hcDark:I.Color.fromHex("#f00").transparent(.3),hcLight:I.Color.white},s.localize(1,null)),(0,f.registerThemingParticipant)((N,R)=>{const B=N.getColor(e.editorLinkedEditingBackground);B&&R.addRule(`.monaco-editor .${C} { background: ${B}; border-left-color: ${B}; }`)}),(0,i.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(N,R,B)=>{const{linkedEditingRangeProvider:O}=N.get(g.ILanguageFeaturesService);return T(O,R,B,k.CancellationToken.None)}),(0,i.registerEditorContribution)(S.ID,S),(0,i.registerEditorAction)(y)}),define(re[738],se([1,0,10,21,13,65,2,45,17,42,56,25,15,36,70,20,194,615,570,40,50,23,14,391]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;let b=class Ui extends L.Disposable{constructor(T,N,R,B,O){super();this.editor=T,this.openerService=N,this.notificationService=R,this.languageFeaturesService=B,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=O.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new E.RunOnceScheduler(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const D=this._register(new r.ClickLinkGesture(T));this._register(D.onMouseMoveOrRelevantKeyDown(([A,P])=>{this._onEditorMouseMove(A,P)})),this._register(D.onExecute(A=>{this.onEditorMouseUp(A)})),this._register(D.onCancel(A=>{this.cleanUpActiveLinkDecoration()})),this._register(T.onDidChangeConfiguration(A=>{!A.hasChanged(63)||(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(T.onDidChangeModelContent(A=>{!this.editor.hasModel()||this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(T.onDidChangeModel(A=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(T.onDidChangeModelLanguage(A=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(A=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}static get(T){return T.getContribution(Ui.ID)}computeLinksNow(){return Le(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(63))return;const T=this.editor.getModel();if(!!this.providers.has(T)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,E.createCancelablePromise)(N=>(0,c.getLinks)(this.providers,T,N));try{const N=new h.StopWatch(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(T,N.elapsed()),T.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(N){(0,k.onUnexpectedError)(N)}finally{this.computePromise=null}}})}updateDecorations(T){const N=this.editor.getOption(70)==="altKey",R=[],B=Object.keys(this.currentOccurrences);for(const A of B){const P=this.currentOccurrences[A];R.push(P.decorationId)}const O=[];if(T)for(const A of T)O.push(C.decoration(A,N));const D=this.editor.deltaDecorations(R,O);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let A=0,P=D.length;A<P;A++){const F=new C(T[A],D[A]);this.currentOccurrences[F.decorationId]=F}}_onEditorMouseMove(T,N){const R=this.editor.getOption(70)==="altKey";if(this.isEnabled(T,N)){this.cleanUpActiveLinkDecoration();const B=this.getLinkOccurrence(T.target.position);B&&this.editor.changeDecorations(O=>{B.activate(O,R),this.activeLinkDecorationId=B.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const T=this.editor.getOption(70)==="altKey";if(this.activeLinkDecorationId){const N=this.currentOccurrences[this.activeLinkDecorationId];N&&this.editor.changeDecorations(R=>{N.deactivate(R,T)}),this.activeLinkDecorationId=null}}onEditorMouseUp(T){if(!this.isEnabled(T))return;const N=this.getLinkOccurrence(T.target.position);!N||this.openLinkOccurrence(N,T.hasSideBySideModifier,!0)}openLinkOccurrence(T,N,R=!1){if(!this.openerService)return;const{link:B}=T;B.resolve(m.CancellationToken.None).then(O=>{if(typeof O=="string"&&this.editor.hasModel()){const D=this.editor.getModel().uri;if(D.scheme===_.Schemas.file&&O.startsWith(`${_.Schemas.file}:`)){const A=i.URI.parse(O);if(A.scheme===_.Schemas.file){const P=u.originalFSPath(A);let F=null;P.startsWith("/./")?F=`.${P.substr(1)}`:P.startsWith("//./")&&(F=`.${P.substr(2)}`),F&&(O=u.joinPath(D,F))}}}return this.openerService.open(O,{openToSide:N,fromUserGesture:R,allowContributedOpeners:!0,allowCommands:!0})},O=>{const D=O instanceof Error?O.message:O;D==="invalid"?this.notificationService.warn(s.localize(0,null,B.url.toString())):D==="missing"?this.notificationService.warn(s.localize(1,null)):(0,k.onUnexpectedError)(O)})}getLinkOccurrence(T){if(!this.editor.hasModel()||!T)return null;const N=this.editor.getModel().getDecorationsInRange({startLineNumber:T.lineNumber,startColumn:T.column,endLineNumber:T.lineNumber,endColumn:T.column},0,!0);for(const R of N){const B=this.currentOccurrences[R.id];if(B)return B}return null}isEnabled(T,N){return Boolean(T.target.type===6&&(T.hasTriggerModifier||N&&N.keyCodeIsTriggerKey))}stop(){var T;this.computeLinks.cancel(),this.activeLinksList&&((T=this.activeLinksList)===null||T===void 0||T.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};b.ID="editor.linkDetector",b=Ie([fe(1,l.IOpenerService),fe(2,a.INotificationService),fe(3,d.ILanguageFeaturesService),fe(4,o.ILanguageFeatureDebounceService)],b),e.LinkDetector=b;const p={general:t.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:t.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class C{constructor(T,N){this.link=T,this.decorationId=N}static decoration(T,N){return{range:T.range,options:C._getOptions(T,N,!1)}}static _getOptions(T,N,R){const B=Object.assign({},R?p.active:p.general);return B.hoverMessage=S(T,N),B}activate(T,N){T.changeDecorationOptions(this.decorationId,C._getOptions(this.link,N,!0))}deactivate(T,N){T.changeDecorationOptions(this.decorationId,C._getOptions(this.link,N,!1))}}function S(w,T){const N=w.url&&/^command:/i.test(w.url.toString()),R=w.tooltip?w.tooltip:N?s.localize(2,null):s.localize(3,null),B=T?v.isMacintosh?s.localize(4,null):s.localize(5,null):v.isMacintosh?s.localize(6,null):s.localize(7,null);if(w.url){let O="";if(/^command:/i.test(w.url.toString())){const A=w.url.toString().match(/^command:([^?#]+)/);if(A){const P=A[1];O=s.localize(8,null,P)}}return new I.MarkdownString("",!0).appendLink(w.url.toString(!0).replace(/ /g,"%20"),R,O).appendMarkdown(` (${B})`)}else return new I.MarkdownString().appendText(`${R} (${B})`)}class y extends n.EditorAction{constructor(){super({id:"editor.action.openLink",label:s.localize(9,null),alias:"Open Link",precondition:void 0})}run(T,N){const R=b.get(N);if(!R||!N.hasModel())return;const B=N.getSelections();for(const O of B){const D=R.getLinkOccurrence(O.getEndPosition());D&&R.openLinkOccurrence(D,!1)}}}(0,n.registerEditorContribution)(b.ID,b),(0,n.registerEditorAction)(y),(0,g.registerThemingParticipant)((w,T)=>{const N=w.getColor(f.editorActiveLinkForeground);N&&T.addRule(`.monaco-editor .detected-link-active { color: ${N} !important; }`)})}),define(re[739],se([1,0,46,10,59,2,15,185,3,24,22,47,36,306,572,39,16,23,14,20]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FocusPreviousCursor=e.FocusNextCursor=e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function l(ie,Y){const X=Y.filter(J=>!ie.find(oe=>oe.equals(J)));if(X.length>=1){const J=X.map(G=>`line ${G.viewState.position.lineNumber} column ${G.viewState.position.column}`).join(", "),oe=X.length===1?o.localize(0,null,J):o.localize(1,null,J);(0,E.status)(oe)}}class f extends L.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:o.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]},weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(3,null),order:2}})}run(Y,X,J){if(!X.hasModel())return;let oe=!0;J&&J.logicalLine===!1&&(oe=!1);const G=X._getViewModel();if(G.cursorConfig.readOnly)return;G.model.pushStackElement();const x=G.getCursorStates();G.setCursorStates(J.source,3,_.CursorMoveCommands.addCursorUp(G,x,oe)),G.revealTopMostCursor(J.source),l(x,G.getCursorStates())}}e.InsertCursorAbove=f;class g extends L.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:o.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]},weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(5,null),order:3}})}run(Y,X,J){if(!X.hasModel())return;let oe=!0;J&&J.logicalLine===!1&&(oe=!1);const G=X._getViewModel();if(G.cursorConfig.readOnly)return;G.model.pushStackElement();const x=G.getCursorStates();G.setCursorStates(J.source,3,_.CursorMoveCommands.addCursorDown(G,x,oe)),G.revealBottomMostCursor(J.source),l(x,G.getCursorStates())}}e.InsertCursorBelow=g;class b extends L.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:o.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:1024|512|39,weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(7,null),order:4}})}getCursorsForSelection(Y,X,J){if(!Y.isEmpty()){for(let oe=Y.startLineNumber;oe<Y.endLineNumber;oe++){let G=X.getLineMaxColumn(oe);J.push(new u.Selection(oe,G,oe,G))}Y.endColumn>1&&J.push(new u.Selection(Y.endLineNumber,Y.endColumn,Y.endLineNumber,Y.endColumn))}}run(Y,X){if(!X.hasModel())return;const J=X.getModel(),oe=X.getSelections(),G=X._getViewModel(),x=G.getCursorStates();let V=[];oe.forEach(K=>this.getCursorsForSelection(K,J,V)),V.length>0&&X.setSelections(V),l(x,G.getCursorStates())}}class p extends L.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:o.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(Y,X){if(!X.hasModel())return;const J=X.getSelections(),oe=X.getModel().getLineCount();let G=[];for(let K=J[0].startLineNumber;K<=oe;K++)G.push(new u.Selection(K,J[0].startColumn,K,J[0].endColumn));const x=X._getViewModel(),V=x.getCursorStates();G.length>0&&X.setSelections(G),l(V,x.getCursorStates())}}class C extends L.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:o.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(Y,X){if(!X.hasModel())return;const J=X.getSelections();let oe=[];for(let V=J[0].startLineNumber;V>=1;V--)oe.push(new u.Selection(V,J[0].startColumn,V,J[0].endColumn));const G=X._getViewModel(),x=G.getCursorStates();oe.length>0&&X.setSelections(oe),l(x,G.getCursorStates())}}class S{constructor(Y,X,J){this.selections=Y,this.revealRange=X,this.revealScrollType=J}}e.MultiCursorSessionResult=S;class y{constructor(Y,X,J,oe,G,x,V){this._editor=Y,this.findController=X,this.isDisconnectedFromFindController=J,this.searchText=oe,this.wholeWord=G,this.matchCase=x,this.currentMatch=V}static create(Y,X){if(!Y.hasModel())return null;const J=X.getState();if(!Y.hasTextFocus()&&J.isRevealed&&J.searchString.length>0)return new y(Y,X,!1,J.searchString,J.wholeWord,J.matchCase,null);let oe=!1,G,x;const V=Y.getSelections();V.length===1&&V[0].isEmpty()?(oe=!0,G=!0,x=!0):(G=J.wholeWord,x=J.matchCase);const K=Y.getSelection();let le,ae=null;if(K.isEmpty()){const Q=Y.getConfiguredWordAtPosition(K.getStartPosition());if(!Q)return null;le=Q.word,ae=new u.Selection(K.startLineNumber,Q.startColumn,K.startLineNumber,Q.endColumn)}else le=Y.getModel().getValueInRange(K).replace(/\r\n/g,`
`);return new y(Y,X,oe,le,G,x,ae)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const Y=this._getNextMatch();if(!Y)return null;const X=this._editor.getSelections();return new S(X.concat(Y),Y,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const Y=this._getNextMatch();if(!Y)return null;const X=this._editor.getSelections();return new S(X.slice(0,X.length-1).concat(Y),Y,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const oe=this.currentMatch;return this.currentMatch=null,oe}this.findController.highlightFindOptions();const Y=this._editor.getSelections(),X=Y[Y.length-1],J=this._editor.getModel().findNextMatch(this.searchText,X.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return J?new u.Selection(J.range.startLineNumber,J.range.startColumn,J.range.endLineNumber,J.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const Y=this._getPreviousMatch();if(!Y)return null;const X=this._editor.getSelections();return new S(X.concat(Y),Y,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const Y=this._getPreviousMatch();if(!Y)return null;const X=this._editor.getSelections();return new S(X.slice(0,X.length-1).concat(Y),Y,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const oe=this.currentMatch;return this.currentMatch=null,oe}this.findController.highlightFindOptions();const Y=this._editor.getSelections(),X=Y[Y.length-1],J=this._editor.getModel().findPreviousMatch(this.searchText,X.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1);return J?new u.Selection(J.range.startLineNumber,J.range.startColumn,J.range.endLineNumber,J.range.endColumn):null}selectAll(Y){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const X=this._editor.getModel();return Y?X.findMatches(this.searchText,Y,!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1,1073741824):X.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(117):null,!1,1073741824)}}e.MultiCursorSession=y;class w extends I.Disposable{constructor(Y){super();this._sessionDispose=this._register(new I.DisposableStore),this._editor=Y,this._ignoreSelectionChange=!1,this._session=null}static get(Y){return Y.getContribution(w.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(Y){if(!this._session){const X=y.create(this._editor,Y);if(!X)return;this._session=X;const J={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(J.wholeWordOverride=1,J.matchCaseOverride=1,J.isRegexOverride=2),Y.getState().change(J,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(oe=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(Y.getState().onFindReplaceStateChange(oe=>{(oe.matchCase||oe.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const Y={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(Y,!1)}this._session=null}_setSelections(Y){this._ignoreSelectionChange=!0,this._editor.setSelections(Y),this._ignoreSelectionChange=!1}_expandEmptyToWord(Y,X){if(!X.isEmpty())return X;const J=this._editor.getConfiguredWordAtPosition(X.getStartPosition());return J?new u.Selection(X.startLineNumber,J.startColumn,X.startLineNumber,J.endColumn):X}_applySessionResult(Y){!Y||(this._setSelections(Y.selections),Y.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(Y.revealRange,Y.revealScrollType))}getSession(Y){return this._session}addSelectionToNextFindMatch(Y){if(!!this._editor.hasModel()){if(!this._session){const X=this._editor.getSelections();if(X.length>1){const oe=Y.getState().matchCase;if(!W(this._editor.getModel(),X,oe)){const x=this._editor.getModel();let V=[];for(let K=0,le=X.length;K<le;K++)V[K]=this._expandEmptyToWord(x,X[K]);this._editor.setSelections(V);return}}}this._beginSessionIfNeeded(Y),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(Y){this._beginSessionIfNeeded(Y),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(Y){this._beginSessionIfNeeded(Y),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(Y){this._beginSessionIfNeeded(Y),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(Y){if(!this._editor.hasModel())return;let X=null;const J=Y.getState();if(J.isRevealed&&J.searchString.length>0&&J.isRegex){const oe=this._editor.getModel();J.searchScope?X=oe.findMatches(J.searchString,J.searchScope,J.isRegex,J.matchCase,J.wholeWord?this._editor.getOption(117):null,!1,1073741824):X=oe.findMatches(J.searchString,!0,J.isRegex,J.matchCase,J.wholeWord?this._editor.getOption(117):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(Y),!this._session)return;X=this._session.selectAll(J.searchScope)}if(X.length>0){const oe=this._editor.getSelection();for(let G=0,x=X.length;G<x;G++){const V=X[G];if(V.range.intersectRanges(oe)){X[G]=X[0],X[0]=V;break}}this._setSelections(X.map(G=>new u.Selection(G.range.startLineNumber,G.range.startColumn,G.range.endLineNumber,G.range.endColumn)))}}}e.MultiCursorSelectionController=w,w.ID="editor.contrib.multiCursorController";class T extends L.EditorAction{run(Y,X){const J=w.get(X);if(!J)return;const oe=t.CommonFindController.get(X);if(!oe)return;const G=X._getViewModel();if(G){const x=G.getCursorStates();this._run(J,oe),l(x,G.getCursorStates())}}}e.MultiCursorSelectionControllerAction=T;class N extends T{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:o.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.focus,primary:2048|34,weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(11,null),order:5}})}_run(Y,X){Y.addSelectionToNextFindMatch(X)}}e.AddSelectionToNextFindMatchAction=N;class R extends T{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:o.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(13,null),order:6}})}_run(Y,X){Y.addSelectionToPreviousFindMatch(X)}}e.AddSelectionToPreviousFindMatchAction=R;class B extends T{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:o.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.focus,primary:(0,k.KeyChord)(2048|41,2048|34),weight:100}})}_run(Y,X){Y.moveSelectionToNextFindMatch(X)}}e.MoveSelectionToNextFindMatchAction=B;class O extends T{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:o.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(Y,X){Y.moveSelectionToPreviousFindMatch(X)}}e.MoveSelectionToPreviousFindMatchAction=O;class D extends T{constructor(){super({id:"editor.action.selectHighlights",label:o.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.focus,primary:2048|1024|42,weight:100},menuOpts:{menuId:d.MenuId.MenubarSelectionMenu,group:"3_multi",title:o.localize(17,null),order:7}})}_run(Y,X){Y.selectAll(X)}}e.SelectHighlightsAction=D;class A extends T{constructor(){super({id:"editor.action.changeAll",label:o.localize(18,null),alias:"Change All Occurrences",precondition:r.ContextKeyExpr.and(h.EditorContextKeys.writable,h.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:2048|60,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(Y,X){Y.selectAll(X)}}e.CompatChangeAll=A;class P{constructor(Y,X,J,oe,G){this._model=Y,this._searchText=X,this._matchCase=J,this._wordSeparators=oe,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,G&&this._model===G._model&&this._searchText===G._searchText&&this._matchCase===G._matchCase&&this._wordSeparators===G._wordSeparators&&this._modelVersionId===G._modelVersionId&&(this._cachedFindMatches=G._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(Y=>Y.range),this._cachedFindMatches.sort(v.Range.compareRangesUsingStarts)),this._cachedFindMatches}}let F=class Kt extends I.Disposable{constructor(Y,X){super();this._languageFeaturesService=X,this.editor=Y,this._isEnabled=Y.getOption(97),this.decorations=[],this.updateSoon=this._register(new m.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(Y.onDidChangeConfiguration(oe=>{this._isEnabled=Y.getOption(97)})),this._register(Y.onDidChangeCursorSelection(oe=>{!this._isEnabled||(oe.selection.isEmpty()?oe.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(Y.onDidChangeModel(oe=>{this._setState(null)})),this._register(Y.onDidChangeModelContent(oe=>{this._isEnabled&&this.updateSoon.schedule()}));const J=t.CommonFindController.get(Y);J&&this._register(J.getState().onFindReplaceStateChange(oe=>{this._update()}))}_update(){this._setState(Kt._createState(this.state,this._isEnabled,this.editor))}static _createState(Y,X,J){if(!X||!J.hasModel())return null;const oe=J.getSelection();if(oe.startLineNumber!==oe.endLineNumber)return null;const G=w.get(J);if(!G)return null;const x=t.CommonFindController.get(J);if(!x)return null;let V=G.getSession(x);if(!V){const ae=J.getSelections();if(ae.length>1){const q=x.getState().matchCase;if(!W(J.getModel(),ae,q))return null}V=y.create(J,x)}if(!V||V.currentMatch||/^[ \t]+$/.test(V.searchText)||V.searchText.length>200)return null;const K=x.getState(),le=K.matchCase;if(K.isRevealed){let ae=K.searchString;le||(ae=ae.toLowerCase());let Q=V.searchText;if(le||(Q=Q.toLowerCase()),ae===Q&&V.matchCase===K.matchCase&&V.wholeWord===K.wholeWord&&!K.isRegex)return null}return new P(J.getModel(),V.searchText,V.matchCase,V.wholeWord?J.getOption(117):null,Y)}_setState(Y){if(this.state=Y,!this.state){this.decorations=this.editor.deltaDecorations(this.decorations,[]);return}if(!this.editor.hasModel())return;const X=this.editor.getModel();if(X.isTooLargeForTokenization())return;const J=this.state.findMatches(),oe=this.editor.getSelections();oe.sort(v.Range.compareRangesUsingStarts);const G=[];for(let K=0,le=0,ae=J.length,Q=oe.length;K<ae;){const q=J[K];if(le>=Q)G.push(q),K++;else{const Z=v.Range.compareRangesUsingStarts(q,oe[le]);Z<0?((oe[le].isEmpty()||!v.Range.areIntersecting(q,oe[le]))&&G.push(q),K++):(Z>0||K++,le++)}}const x=this._languageFeaturesService.documentHighlightProvider.has(X)&&this.editor.getOption(72),V=G.map(K=>({range:K,options:x?Kt._SELECTION_HIGHLIGHT:Kt._SELECTION_HIGHLIGHT_OVERVIEW}));this.decorations=this.editor.deltaDecorations(this.decorations,V)}dispose(){this._setState(null),super.dispose()}};F.ID="editor.contrib.selectionHighlighter",F._SELECTION_HIGHLIGHT_OVERVIEW=n.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,s.themeColorFromId)(c.minimapSelectionOccurrenceHighlight),position:i.MinimapPosition.Inline},overviewRuler:{color:(0,s.themeColorFromId)(c.overviewRulerSelectionHighlightForeground),position:i.OverviewRulerLane.Center}}),F._SELECTION_HIGHLIGHT=n.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),F=Ie([fe(1,a.ILanguageFeaturesService)],F),e.SelectionHighlighter=F;function W(ie,Y,X){const J=M(ie,Y[0],!X);for(let oe=1,G=Y.length;oe<G;oe++){const x=Y[oe];if(x.isEmpty())return!1;const V=M(ie,x,!X);if(J!==V)return!1}return!0}function M(ie,Y,X){const J=ie.getValueInRange(Y);return X?J.toLowerCase():J}class z extends L.EditorAction{constructor(){super({id:"editor.action.focusNextCursor",label:o.localize(19,null),description:{description:o.localize(20,null),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(Y,X,J){if(!X.hasModel())return;const oe=X._getViewModel();if(oe.cursorConfig.readOnly)return;oe.model.pushStackElement();const G=Array.from(oe.getCursorStates()),x=G.shift();!x||(G.push(x),oe.setCursorStates(J.source,3,G),oe.revealPrimaryCursor(J.source,!0),l(G,oe.getCursorStates()))}}e.FocusNextCursor=z;class ee extends L.EditorAction{constructor(){super({id:"editor.action.focusPreviousCursor",label:o.localize(21,null),description:{description:o.localize(22,null),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(Y,X,J){if(!X.hasModel())return;const oe=X._getViewModel();if(oe.cursorConfig.readOnly)return;oe.model.pushStackElement();const G=Array.from(oe.getCursorStates()),x=G.pop();!x||(G.unshift(x),oe.setCursorStates(J.source,3,G),oe.revealPrimaryCursor(J.source,!0),l(G,oe.getCursorStates()))}}e.FocusPreviousCursor=ee,(0,L.registerEditorContribution)(w.ID,w),(0,L.registerEditorContribution)(F.ID,F),(0,L.registerEditorAction)(f),(0,L.registerEditorAction)(g),(0,L.registerEditorAction)(b),(0,L.registerEditorAction)(N),(0,L.registerEditorAction)(R),(0,L.registerEditorAction)(B),(0,L.registerEditorAction)(O),(0,L.registerEditorAction)(D),(0,L.registerEditorAction)(A),(0,L.registerEditorAction)(p),(0,L.registerEditorAction)(C),(0,L.registerEditorAction)(z),(0,L.registerEditorAction)(ee)}),define(re[740],se([1,0,7,122,10,13,4,2,117,8,166,708,585,16,9,83,23,135,58,14,269,98,287,718,143,397,295]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetStatusForeground=e.editorSuggestWidgetHighlightFocusForeground=e.editorSuggestWidgetHighlightForeground=e.editorSuggestWidgetSelectedBackground=e.editorSuggestWidgetSelectedIconForeground=e.editorSuggestWidgetSelectedForeground=e.editorSuggestWidgetForeground=e.editorSuggestWidgetBorder=e.editorSuggestWidgetBackground=void 0,e.editorSuggestWidgetBackground=(0,r.registerColor)("editorSuggestWidget.background",{dark:r.editorWidgetBackground,light:r.editorWidgetBackground,hcDark:r.editorWidgetBackground,hcLight:r.editorWidgetBackground},n.localize(0,null)),e.editorSuggestWidgetBorder=(0,r.registerColor)("editorSuggestWidget.border",{dark:r.editorWidgetBorder,light:r.editorWidgetBorder,hcDark:r.editorWidgetBorder,hcLight:r.editorWidgetBorder},n.localize(1,null)),e.editorSuggestWidgetForeground=(0,r.registerColor)("editorSuggestWidget.foreground",{dark:r.editorForeground,light:r.editorForeground,hcDark:r.editorForeground,hcLight:r.editorForeground},n.localize(2,null)),e.editorSuggestWidgetSelectedForeground=(0,r.registerColor)("editorSuggestWidget.selectedForeground",{dark:r.quickInputListFocusForeground,light:r.quickInputListFocusForeground,hcDark:r.quickInputListFocusForeground,hcLight:r.quickInputListFocusForeground},n.localize(3,null)),e.editorSuggestWidgetSelectedIconForeground=(0,r.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:r.quickInputListFocusIconForeground,light:r.quickInputListFocusIconForeground,hcDark:r.quickInputListFocusIconForeground,hcLight:r.quickInputListFocusIconForeground},n.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,r.registerColor)("editorSuggestWidget.selectedBackground",{dark:r.quickInputListFocusBackground,light:r.quickInputListFocusBackground,hcDark:r.quickInputListFocusBackground,hcLight:r.quickInputListFocusBackground},n.localize(5,null)),e.editorSuggestWidgetHighlightForeground=(0,r.registerColor)("editorSuggestWidget.highlightForeground",{dark:r.listHighlightForeground,light:r.listHighlightForeground,hcDark:r.listHighlightForeground,hcLight:r.listHighlightForeground},n.localize(6,null)),e.editorSuggestWidgetHighlightFocusForeground=(0,r.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:r.listFocusHighlightForeground,light:r.listFocusHighlightForeground,hcDark:r.listFocusHighlightForeground,hcLight:r.listFocusHighlightForeground},n.localize(7,null)),e.editorSuggestWidgetStatusForeground=(0,r.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,r.transparent)(e.editorSuggestWidgetForeground,.5),light:(0,r.transparent)(e.editorSuggestWidgetForeground,.5),hcDark:(0,r.transparent)(e.editorSuggestWidgetForeground,.5),hcLight:(0,r.transparent)(e.editorSuggestWidgetForeground,.5)},n.localize(8,null));class p{constructor(w,T){this._service=w,this._key=`suggestWidget.size/${T.getEditorType()}/${T instanceof h.EmbeddedCodeEditorWidget}`}restore(){var w;const T=(w=this._service.get(this._key,0))!==null&&w!==void 0?w:"";try{const N=JSON.parse(T);if(E.Dimension.is(N))return E.Dimension.lift(N)}catch{}}store(w){this._service.store(this._key,JSON.stringify(w),0,1)}reset(){this._service.remove(this._key,0)}}let C=class ai{constructor(w,T,N,R,B){this.editor=w,this._storageService=T,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new k.TimeoutTimer,this._disposables=new _.DisposableStore,this._onDidSelect=new L.Emitter,this._onDidFocus=new L.Emitter,this._onDidHide=new L.Emitter,this._onDidShow=new L.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new L.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new l.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new S(this,w),this._persistedSize=new p(T,w);class O{constructor(z,ee,ie=!1,Y=!1){this.persistedSize=z,this.currentSize=ee,this.persistHeight=ie,this.persistWidth=Y}}let D;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),D=new O(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(M=>{var z,ee,ie,Y;if(this._resize(M.dimension.width,M.dimension.height),D&&(D.persistHeight=D.persistHeight||!!M.north||!!M.south,D.persistWidth=D.persistWidth||!!M.east||!!M.west),!!M.done){if(D){const{itemHeight:X,defaultSize:J}=this.getLayoutInfo(),oe=Math.round(X/2);let{width:G,height:x}=this.element.size;(!D.persistHeight||Math.abs(D.currentSize.height-x)<=oe)&&(x=(ee=(z=D.persistedSize)===null||z===void 0?void 0:z.height)!==null&&ee!==void 0?ee:J.height),(!D.persistWidth||Math.abs(D.currentSize.width-G)<=oe)&&(G=(Y=(ie=D.persistedSize)===null||ie===void 0?void 0:ie.width)!==null&&Y!==void 0?Y:J.width),this._persistedSize.store(new E.Dimension(G,x))}this._contentWidget.unlockPreference(),D=void 0}})),this._messageElement=E.append(this.element.domNode,E.$(".message")),this._listElement=E.append(this.element.domNode,E.$(".tree"));const A=B.createInstance(g.SuggestDetailsWidget,this.editor);A.onDidClose(this.toggleDetails,this,this._disposables),this._details=new g.SuggestDetailsOverlay(A,this.editor);const P=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(106).showIcons);P();const F=B.createInstance(b.ItemRenderer,this.editor);this._disposables.add(F),this._disposables.add(F.onDidToggleDetails(()=>this.toggleDetails())),this._list=new m.List("SuggestWidget",this._listElement,{getHeight:M=>this.getLayoutInfo().itemHeight,getTemplateId:M=>"suggestion"},[F],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>n.localize(11,null),getWidgetRole:()=>"listbox",getAriaLabel:M=>{let z=M.textLabel;if(typeof M.completion.label!="string"){const{detail:X,description:J}=M.completion.label;X&&J?z=n.localize(12,null,z,X,J):X?z=n.localize(13,null,z,X):J&&(z=n.localize(14,null,z,J))}if(!M.isResolved||!this._isDetailsVisible())return z;const{documentation:ee,detail:ie}=M.completion,Y=u.format("{0}{1}",ie||"",ee?typeof ee=="string"?ee:ee.value:"");return n.localize(15,null,z,Y)}}}),this._status=B.createInstance(i.SuggestWidgetStatus,this.element.domNode);const W=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(106).showStatusBar);W(),this._disposables.add((0,c.attachListStyler)(this._list,R,{listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:r.activeContrastBorder})),this._disposables.add(R.onDidColorThemeChange(M=>this._onThemeChange(M))),this._onThemeChange(R.getColorTheme()),this._disposables.add(this._list.onMouseDown(M=>this._onListMouseDownOrTap(M))),this._disposables.add(this._list.onTap(M=>this._onListMouseDownOrTap(M))),this._disposables.add(this._list.onDidChangeSelection(M=>this._onListSelection(M))),this._disposables.add(this._list.onDidChangeFocus(M=>this._onListFocus(M))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(M=>{M.hasChanged(106)&&(W(),P())})),this._ctxSuggestWidgetVisible=f.Context.Visible.bindTo(N),this._ctxSuggestWidgetDetailsVisible=f.Context.DetailsVisible.bindTo(N),this._ctxSuggestWidgetMultipleSuggestions=f.Context.MultipleSuggestions.bindTo(N),this._disposables.add(E.addStandardDisposableListener(this._details.widget.domNode,"keydown",M=>{this._onDetailsKeydown.fire(M)})),this._disposables.add(this.editor.onMouseDown(M=>this._onEditorMouseDown(M)))}dispose(){var w;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(w=this._loadingTimeout)===null||w===void 0||w.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(w){this._details.widget.domNode.contains(w.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(w.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(w){typeof w.element=="undefined"||typeof w.index=="undefined"||(w.browserEvent.preventDefault(),w.browserEvent.stopPropagation(),this._select(w.element,w.index))}_onListSelection(w){w.elements.length&&this._select(w.elements[0],w.indexes[0])}_select(w,T){const N=this._completionModel;N&&(this._onDidSelect.fire({item:w,index:T,model:N}),this.editor.focus())}_onThemeChange(w){this._details.widget.borderWidth=(0,s.isHighContrast)(w.type)?2:1}_onListFocus(w){var T;if(this._ignoreFocusEvents)return;if(!w.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0});return}if(!this._completionModel)return;const N=w.elements[0],R=w.indexes[0];N!==this._focusedItem&&((T=this._currentSuggestionDetails)===null||T===void 0||T.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=N,this._list.reveal(R),this._currentSuggestionDetails=(0,k.createCancelablePromise)(B=>Le(this,void 0,void 0,function*(){const O=(0,k.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),D=B.onCancellationRequested(()=>O.dispose()),A=yield N.resolve(B);return O.dispose(),D.dispose(),A})),this._currentSuggestionDetails.then(()=>{R>=this._list.length||N!==this._list.element(R)||(this._ignoreFocusEvents=!0,this._list.splice(R,1,[N]),this._list.setFocus([R]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,b.getAriaId)(R)}))}).catch(I.onUnexpectedError)),this._onDidFocus.fire({item:N,index:R,model:this._completionModel})}_setState(w){if(this._state!==w)switch(this._state=w,this.element.domNode.classList.toggle("frozen",w===4),this.element.domNode.classList.remove("message"),w){case 0:E.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=ai.LOADING_MESSAGE,E.hide(this._listElement,this._status.element),E.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=ai.NO_SUGGESTIONS_MESSAGE,E.hide(this._listElement,this._status.element),E.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:E.hide(this._messageElement),E.show(this._listElement,this._status.element),this._show();break;case 4:E.hide(this._messageElement),E.show(this._listElement,this._status.element),this._show();break;case 5:E.hide(this._messageElement),E.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(w,T){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!w,this._isAuto||(this._loadingTimeout=(0,k.disposableTimeout)(()=>this._setState(1),T)))}showSuggestions(w,T,N,R){var B,O;if(this._contentWidget.setPosition(this.editor.getPosition()),(B=this._loadingTimeout)===null||B===void 0||B.dispose(),(O=this._currentSuggestionDetails)===null||O===void 0||O.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==w&&(this._completionModel=w),N&&this._state!==2&&this._state!==0){this._setState(4);return}const D=this._completionModel.items.length,A=D===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(D>1),A){this._setState(R?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(N?4:3),this._list.reveal(T,0),this._list.setFocus([T]),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,g.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(w){this._details.show(),w?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var w;(w=this._loadingTimeout)===null||w===void 0||w.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const T=this._persistedSize.restore(),N=Math.ceil(this.getLayoutInfo().itemHeight*4.3);T&&T.height<N&&this._persistedSize.store(T.with(void 0,N))}isFrozen(){return this._state===4}_afterRender(w){if(w===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(w){var T,N,R;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const B=E.getClientArea(document.body),O=this.getLayoutInfo();w||(w=O.defaultSize);let D=w.height,A=w.width;if(this._status.element.style.lineHeight=`${O.itemHeight}px`,this._state===2||this._state===1)D=O.itemHeight+O.borderHeight,A=O.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new E.Dimension(A,D),this._contentWidget.setPreference(2);else{const P=B.width-O.borderHeight-2*O.horizontalPadding;A>P&&(A=P);const F=this._completionModel?this._completionModel.stats.pLabelLen*O.typicalHalfwidthCharacterWidth:A,W=O.statusBarHeight+this._list.contentHeight+O.borderHeight,M=O.itemHeight+O.statusBarHeight,z=E.getDomNodePagePosition(this.editor.getDomNode()),ee=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),ie=z.top+ee.top+ee.height,Y=Math.min(B.height-ie-O.verticalPadding,W),X=z.top+ee.top-O.verticalPadding,J=Math.min(X,W);let oe=Math.min(Math.max(J,Y)+O.borderHeight,W);D===((T=this._cappedHeight)===null||T===void 0?void 0:T.capped)&&(D=this._cappedHeight.wanted),D<M&&(D=M),D>oe&&(D=oe);const G=150;D>Y||this._forceRenderingAbove&&X>G?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),oe=J):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),oe=Y),this.element.preferredSize=new E.Dimension(F,O.defaultSize.height),this.element.maxSize=new E.Dimension(P,oe),this.element.minSize=new E.Dimension(220,M),this._cappedHeight=D===W?{wanted:(R=(N=this._cappedHeight)===null||N===void 0?void 0:N.wanted)!==null&&R!==void 0?R:w.height,capped:D}:void 0}this._resize(A,D)}_resize(w,T){const{width:N,height:R}=this.element.maxSize;w=Math.min(N,w),T=Math.min(R,T);const{statusBarHeight:B}=this.getLayoutInfo();this._list.layout(T-B,w),this._listElement.style.height=`${T-B}px`,this.element.layout(T,w),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var w;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((w=this._contentWidget.getPosition())===null||w===void 0?void 0:w.preference[0])===2)}getLayoutInfo(){const w=this.editor.getOption(44),T=(0,v.clamp)(this.editor.getOption(108)||w.lineHeight,8,1e3),N=!this.editor.getOption(106).showStatusBar||this._state===2||this._state===1?0:T,R=this._details.widget.borderWidth,B=2*R;return{itemHeight:T,statusBarHeight:N,borderWidth:R,borderHeight:B,typicalHalfwidthCharacterWidth:w.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new E.Dimension(430,N+12*T+B)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(w){this._storageService.store("expandSuggestionDocs",w,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};C.LOADING_MESSAGE=n.localize(9,null),C.NO_SUGGESTIONS_MESSAGE=n.localize(10,null),C=Ie([fe(1,d.IStorageService),fe(2,t.IContextKeyService),fe(3,a.IThemeService),fe(4,o.IInstantiationService)],C),e.SuggestWidget=C;class S{constructor(w,T){this._widget=w,this._editor=T,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:w,width:T}=this._widget.element.size,{borderWidth:N,horizontalPadding:R}=this._widget.getLayoutInfo();return new E.Dimension(T+2*N+R,w+2*N)}afterRender(w){this._widget._afterRender(w)}setPreference(w){this._preferenceLocked||(this._preference=w)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(w){this._position=w}}e.SuggestContentWidget=S}),define(re[741],se([1,0,10,2,15,279,49,303,293,35,14,70,56,20]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let o=class extends m.Disposable{constructor(r,c,s,a,l,f){super();this._modelService=c,this._themeService=s,this._configurationService=a,this._editor=r,this._provider=f.documentRangeSemanticTokensProvider,this._debounceInformation=l.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new E.RunOnceScheduler(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const g=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{g()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),g()})),this._register(this._editor.onDidChangeModelContent(b=>{this._cancelAll(),g()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),g()})),this._register(this._configurationService.onDidChangeConfiguration(b=>{b.affectsConfiguration(_.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),g())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),g()}))}_cancelAll(){for(const r of this._outstandingRequests)r.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(r){for(let c=0,s=this._outstandingRequests.length;c<s;c++)if(this._outstandingRequests[c]===r){this._outstandingRequests.splice(c,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const r=this._editor.getModel();if(r.tokenization.hasCompleteSemanticTokens())return;if(!(0,_.isSemanticColoringEnabled)(r,this._themeService,this._configurationService)){r.tokenization.hasSomeSemanticTokens()&&r.tokenization.setSemanticTokens(null,!1);return}if(!(0,I.hasDocumentRangeSemanticTokensProvider)(this._provider,r)){r.tokenization.hasSomeSemanticTokens()&&r.tokenization.setSemanticTokens(null,!1);return}const c=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(c.map(s=>this._requestRange(r,s)))}_requestRange(r,c){const s=r.getVersionId(),a=(0,E.createCancelablePromise)(f=>Promise.resolve((0,I.getDocumentRangeSemanticTokens)(this._provider,r,c,f))),l=new n.StopWatch(!1);return a.then(f=>{if(this._debounceInformation.update(r,l.elapsed()),!f||!f.tokens||r.isDisposed()||r.getVersionId()!==s)return;const{provider:g,tokens:b}=f,p=this._modelService.getSemanticTokensProviderStyling(g);r.tokenization.setPartialSemanticTokens(c,(0,v.toMultilineTokens2)(b,p,r.getLanguageId()))}).then(()=>this._removeOutstandingRequest(a),()=>this._removeOutstandingRequest(a)),a}};o.ID="editor.contrib.viewportSemanticTokens",o=Ie([fe(1,L.IModelService),fe(2,h.IThemeService),fe(3,u.IConfigurationService),fe(4,i.ILanguageFeatureDebounceService),fe(5,t.ILanguageFeaturesService)],o),(0,k.registerEditorContribution)(o.ID,o)}),define(re[742],se([1,0,46,18,10,21,13,2,15,3,22,47,36,27,594,16,23,14,20,58]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOccurrencesAtPosition=void 0;const l=(0,r.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},o.localize(0,null),!0),f=(0,r.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},o.localize(1,null),!0),g=(0,r.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:r.activeContrastBorder,hcLight:r.activeContrastBorder},o.localize(2,null)),b=(0,r.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:r.activeContrastBorder,hcLight:r.activeContrastBorder},o.localize(3,null)),p=(0,r.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},o.localize(4,null),!0),C=(0,r.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},o.localize(5,null),!0),S=new d.RawContextKey("hasWordHighlights",!1);function y(W,M,z,ee){const ie=W.ordered(M);return(0,k.first)(ie.map(Y=>()=>Promise.resolve(Y.provideDocumentHighlights(M,z,ee)).then(void 0,L.onUnexpectedExternalError)),m.isNonEmptyArray)}e.getOccurrencesAtPosition=y;class w{constructor(M,z,ee){this._model=M,this._selection=z,this._wordSeparators=ee,this._wordRange=this._getCurrentWordRange(M,z),this._result=null}get result(){return this._result||(this._result=(0,k.createCancelablePromise)(M=>this._compute(this._model,this._selection,this._wordSeparators,M))),this._result}_getCurrentWordRange(M,z){const ee=M.getWordAtPosition(z.getPosition());return ee?new u.Range(z.startLineNumber,ee.startColumn,z.startLineNumber,ee.endColumn):null}isValid(M,z,ee){const ie=z.startLineNumber,Y=z.startColumn,X=z.endColumn,J=this._getCurrentWordRange(M,z);let oe=Boolean(this._wordRange&&this._wordRange.equalsRange(J));for(let G=0,x=ee.length;!oe&&G<x;G++){let V=M.getDecorationRange(ee[G]);V&&V.startLineNumber===ie&&V.startColumn<=Y&&V.endColumn>=X&&(oe=!0)}return oe}cancel(){this.result.cancel()}}class T extends w{constructor(M,z,ee,ie){super(M,z,ee);this._providers=ie}_compute(M,z,ee,ie){return y(this._providers,M,z.getPosition(),ie).then(Y=>Y||[])}}class N extends w{constructor(M,z,ee){super(M,z,ee);this._selectionIsEmpty=z.isEmpty()}_compute(M,z,ee,ie){return(0,k.timeout)(250,ie).then(()=>{if(!z.isEmpty())return[];const Y=M.getWordAtPosition(z.getPosition());return!Y||Y.word.length>1e3?[]:M.findMatches(Y.word,!0,!1,!0,ee,!1).map(J=>({range:J.range,kind:t.DocumentHighlightKind.Text}))})}isValid(M,z,ee){const ie=z.isEmpty();return this._selectionIsEmpty!==ie?!1:super.isValid(M,z,ee)}}function R(W,M,z,ee){return W.has(M)?new T(M,z,ee,W):new N(M,z,ee)}(0,v.registerModelAndPositionCommand)("_executeDocumentHighlights",(W,M,z)=>{const ee=W.get(s.ILanguageFeaturesService);return y(ee.documentHighlightProvider,M,z,I.CancellationToken.None)});class B{constructor(M,z,ee){this.toUnhook=new _.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=M,this.providers=z,this._hasWordHighlights=S.bindTo(ee),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(72),this.model=this.editor.getModel(),this.toUnhook.add(M.onDidChangeCursorPosition(ie=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(ie)})),this.toUnhook.add(M.onDidChangeModelContent(ie=>{this._stopAll()})),this.toUnhook.add(M.onDidChangeConfiguration(ie=>{let Y=this.editor.getOption(72);this.occurrencesHighlight!==Y&&(this.occurrencesHighlight=Y,this._stopAll())})),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this._decorationIds.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return m.coalesce(this._decorationIds.map(M=>this.model.getDecorationRange(M)).sort(u.Range.compareRangesUsingStarts))}moveNext(){let M=this._getSortedHighlights(),ee=(M.findIndex(Y=>Y.containsPosition(this.editor.getPosition()))+1)%M.length,ie=M[ee];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(ie.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(ie);const Y=this._getWord();if(Y){const X=this.editor.getModel().getLineContent(ie.startLineNumber);(0,E.alert)(`${X}, ${ee+1} of ${M.length} for '${Y.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let M=this._getSortedHighlights(),ee=(M.findIndex(Y=>Y.containsPosition(this.editor.getPosition()))-1+M.length)%M.length,ie=M[ee];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(ie.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(ie);const Y=this._getWord();if(Y){const X=this.editor.getModel().getLineContent(ie.startLineNumber);(0,E.alert)(`${X}, ${ee+1} of ${M.length} for '${Y.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(M){if(!this.occurrencesHighlight){this._stopAll();return}if(M.reason!==3){this._stopAll();return}this._run()}_getWord(){let M=this.editor.getSelection(),z=M.startLineNumber,ee=M.startColumn;return this.model.getWordAtPosition({lineNumber:z,column:ee})}_run(){let M=this.editor.getSelection();if(M.startLineNumber!==M.endLineNumber){this._stopAll();return}let z=M.startColumn,ee=M.endColumn;const ie=this._getWord();if(!ie||ie.startColumn>z||ie.endColumn<ee){this._stopAll();return}const Y=this.workerRequest&&this.workerRequest.isValid(this.model,M,this._decorationIds);if(this.lastCursorPositionChangeTime=new Date().getTime(),Y)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let X=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=R(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(117)),this.workerRequest.result.then(J=>{X===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=J||[],this._beginRenderDecorations())},L.onUnexpectedError)}}_beginRenderDecorations(){let M=new Date().getTime(),z=this.lastCursorPositionChangeTime+250;M>=z?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},z-M)}renderDecorations(){this.renderDecorationsTimer=-1;let M=[];for(const z of this.workerRequestValue)z.range&&M.push({range:z.range,options:B._getDecorationOptions(z.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,M),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(M){return M===t.DocumentHighlightKind.Write?this._WRITE_OPTIONS:M===t.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}B._WRITE_OPTIONS=n.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,c.themeColorFromId)(C),position:i.OverviewRulerLane.Center},minimap:{color:(0,c.themeColorFromId)(r.minimapSelectionOccurrenceHighlight),position:i.MinimapPosition.Inline}}),B._TEXT_OPTIONS=n.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,c.themeColorFromId)(r.overviewRulerSelectionHighlightForeground),position:i.OverviewRulerLane.Center},minimap:{color:(0,c.themeColorFromId)(r.minimapSelectionOccurrenceHighlight),position:i.MinimapPosition.Inline}}),B._REGULAR_OPTIONS=n.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,c.themeColorFromId)(p),position:i.OverviewRulerLane.Center},minimap:{color:(0,c.themeColorFromId)(r.minimapSelectionOccurrenceHighlight),position:i.MinimapPosition.Inline}});let O=class Ki extends _.Disposable{constructor(M,z,ee){super();this.wordHighlighter=null;const ie=()=>{M.hasModel()&&(this.wordHighlighter=new B(M,ee.documentHighlightProvider,z))};this._register(M.onDidChangeModel(Y=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),ie()})),ie()}static get(M){return M.getContribution(Ki.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(M){this.wordHighlighter&&M&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};O.ID="editor.contrib.wordHighlighter",O=Ie([fe(1,d.IContextKeyService),fe(2,s.ILanguageFeaturesService)],O);class D extends v.EditorAction{constructor(M,z){super(z);this._isNext=M}run(M,z){const ee=O.get(z);!ee||(this._isNext?ee.moveNext():ee.moveBack())}}class A extends D{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:o.localize(6,null),alias:"Go to Next Symbol Highlight",precondition:S,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class P extends D{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:o.localize(7,null),alias:"Go to Previous Symbol Highlight",precondition:S,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:1024|65,weight:100}})}}class F extends v.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:o.localize(8,null),alias:"Trigger Symbol Highlight",precondition:S.toNegated(),kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(M,z,ee){const ie=O.get(z);!ie||ie.restoreViewState(!0)}}(0,v.registerEditorContribution)(O.ID,O),(0,v.registerEditorAction)(A),(0,v.registerEditorAction)(P),(0,v.registerEditorAction)(F),(0,c.registerThemingParticipant)((W,M)=>{const z=W.getColor(r.editorSelectionHighlight);z&&(M.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${z}; }`),M.addRule(`.monaco-editor .selectionHighlight { background-color: ${z.transparent(.5)}; }`));const ee=W.getColor(l);ee&&M.addRule(`.monaco-editor .wordHighlight { background-color: ${ee}; }`);const ie=W.getColor(f);ie&&M.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${ie}; }`);const Y=W.getColor(r.editorSelectionHighlightBorder);Y&&M.addRule(`.monaco-editor .selectionHighlight { border: 1px ${(0,a.isHighContrast)(W.type)?"dotted":"solid"} ${Y}; box-sizing: border-box; }`);const X=W.getColor(g);X&&M.addRule(`.monaco-editor .wordHighlight { border: 1px ${(0,a.isHighContrast)(W.type)?"dashed":"solid"} ${X}; box-sizing: border-box; }`);const J=W.getColor(b);J&&M.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${(0,a.isHighContrast)(W.type)?"dashed":"solid"} ${J}; box-sizing: border-box; }`)})}),define(re[743],se([1,0,7,121,30,136,2,41,3,36,400]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=e.ViewZoneDelegate=void 0;const h=new k.Color(new k.RGBA(0,122,204)),i={showArrow:!0,showFrame:!0,className:"",frameColor:h,arrowColor:h,keepEditorSelection:!1},n="vs.editor.contrib.zoneWidget";class t{constructor(s,a,l,f,g,b){this.id="",this.domNode=s,this.afterLineNumber=a,this.afterColumn=l,this.heightInLines=f,this._onDomNodeTop=g,this._onComputedHeight=b}onDomNodeTop(s){this._onDomNodeTop(s)}onComputedHeight(s){this._onComputedHeight(s)}}e.ViewZoneDelegate=t;class o{constructor(s,a){this._id=s,this._domNode=a}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=o;class d{constructor(s){this._editor=s,this._ruleName=d._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}dispose(){this.hide(),E.removeCSSRulesContainingSelector(this._ruleName)}set color(s){this._color!==s&&(this._color=s,this._updateStyle())}set height(s){this._height!==s&&(this._height=s,this._updateStyle())}_updateStyle(){E.removeCSSRulesContainingSelector(this._ruleName),E.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(s){s.column===1&&(s={lineNumber:s.lineNumber,column:2}),this._decorations=this._editor.deltaDecorations(this._decorations,[{range:v.Range.fromPositions(s),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}}d._IdGenerator=new I.IdGenerator(".arrow-decoration-");class r{constructor(s,a={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new L.DisposableStore,this.container=null,this._isShowing=!1,this.editor=s,this.options=_.deepClone(a),_.mixin(this.options,i,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(l=>{const f=this._getWidth(l);this.domNode.style.width=f+"px",this.domNode.style.left=this._getLeft(l)+"px",this._onWidth(f)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(s=>{this._viewZone&&s.removeZone(this._viewZone.id),this._viewZone=null}),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new d(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(s){s.frameColor&&(this.options.frameColor=s.frameColor),s.arrowColor&&(this.options.arrowColor=s.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let s=this.options.frameColor.toString();this.container.style.borderTopColor=s,this.container.style.borderBottomColor=s}if(this._arrow&&this.options.arrowColor){let s=this.options.arrowColor.toString();this._arrow.color=s}}_getWidth(s){return s.width-s.minimap.minimapWidth-s.verticalScrollbarWidth}_getLeft(s){return s.minimap.minimapWidth>0&&s.minimap.minimapLeft===0?s.minimap.minimapWidth:0}_onViewZoneTop(s){this.domNode.style.top=s+"px"}_onViewZoneHeight(s){if(this.domNode.style.height=`${s}px`,this.container){let a=s-this._decoratingElementsHeight();this.container.style.height=`${a}px`;const l=this.editor.getLayoutInfo();this._doLayout(a,this._getWidth(l))}this._resizeSash&&this._resizeSash.layout()}get position(){const[s]=this._positionMarkerId;if(!s)return;const a=this.editor.getModel();if(!a)return;const l=a.getDecorationRange(s);if(!!l)return l.getStartPosition()}show(s,a){const l=v.Range.isIRange(s)?v.Range.lift(s):v.Range.fromPositions(s);this._isShowing=!0,this._showImpl(l,a),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:l,options:u.ModelDecorationOptions.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(s=>{this._viewZone&&s.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let s=this.editor.getOption(59),a=0;if(this.options.showArrow){let l=Math.round(s/3);a+=2*l}if(this.options.showFrame){let l=Math.round(s/9);a+=2*l}return a}_showImpl(s,a){const l=s.getStartPosition(),f=this.editor.getLayoutInfo(),g=this._getWidth(f);this.domNode.style.width=`${g}px`,this.domNode.style.left=this._getLeft(f)+"px";const b=document.createElement("div");b.style.overflow="hidden";const p=this.editor.getOption(59),C=Math.max(12,this.editor.getLayoutInfo().height/p*.8);a=Math.min(a,C);let S=0,y=0;if(this._arrow&&this.options.showArrow&&(S=Math.round(p/3),this._arrow.height=S,this._arrow.show(l)),this.options.showFrame&&(y=Math.round(p/9)),this.editor.changeViewZones(N=>{this._viewZone&&N.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new t(b,l.lineNumber,l.column,a,R=>this._onViewZoneTop(R),R=>this._onViewZoneHeight(R)),this._viewZone.id=N.addZone(this._viewZone),this._overlayWidget=new o(n+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const N=this.options.frameWidth?this.options.frameWidth:y;this.container.style.borderTopWidth=N+"px",this.container.style.borderBottomWidth=N+"px"}let w=a*p-this._decoratingElementsHeight();this.container&&(this.container.style.top=S+"px",this.container.style.height=w+"px",this.container.style.overflow="hidden"),this._doLayout(w,g),this.options.keepEditorSelection||this.editor.setSelection(s);const T=this.editor.getModel();if(T){const N=s.endLineNumber+1;N<=T.getLineCount()?this.revealLine(N,!1):this.revealLine(T.getLineCount(),!0)}}revealLine(s,a){a?this.editor.revealLineInCenter(s,0):this.editor.revealLine(s,0)}setCssClass(s,a){!this.container||(a&&this.container.classList.remove(a),this.container.classList.add(s))}_onWidth(s){}_doLayout(s,a){}_relayout(s){this._viewZone&&this._viewZone.heightInLines!==s&&this.editor.changeViewZones(a=>{this._viewZone&&(this._viewZone.heightInLines=s,a.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new m.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let s;this._disposables.add(this._resizeSash.onDidStart(a=>{this._viewZone&&(s={startY:a.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{s=void 0})),this._disposables.add(this._resizeSash.onDidChange(a=>{if(s){let l=(a.currentY-s.startY)/this.editor.getOption(59),f=l<0?Math.ceil(l):Math.floor(l),g=s.heightInLines+f;g>5&&g<35&&this._relayout(g)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const s=this.editor.getLayoutInfo();return s.width-s.minimap.minimapWidth}}e.ZoneWidget=r}),define(re[114],se([1,0,7,88,48,28,30,4,41,15,29,166,743,575,213,16,53,9,23,394]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.getOuterEditor=e.PeekContext=e.IPeekViewService=void 0,e.IPeekViewService=(0,c.createDecorator)("IPeekViewService"),(0,r.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(p,C){const S=this._widgets.get(p);S&&(S.listener.dispose(),S.widget.dispose());const y=()=>{const w=this._widgets.get(p);w&&w.widget===C&&(w.listener.dispose(),this._widgets.delete(p))};this._widgets.set(p,{widget:C,listener:C.onDidClose(y)})}});var a;(function(p){p.inPeekEditor=new d.RawContextKey("inReferenceSearchEditor",!0,t.localize(0,null)),p.notInPeekEditor=p.inPeekEditor.toNegated()})(a=e.PeekContext||(e.PeekContext={}));let l=class{constructor(C,S){C instanceof i.EmbeddedCodeEditorWidget&&a.inPeekEditor.bindTo(S)}dispose(){}};l.ID="editor.contrib.referenceController",l=Ie([fe(1,d.IContextKeyService)],l),(0,u.registerEditorContribution)(l.ID,l);function f(p){let C=p.get(h.ICodeEditorService).getFocusedCodeEditor();return C instanceof i.EmbeddedCodeEditorWidget?C.getParentEditor():C}e.getOuterEditor=f;const g={headerBackgroundColor:L.Color.white,primaryHeadingColor:L.Color.fromHex("#333333"),secondaryHeadingColor:L.Color.fromHex("#6c6c6cb3")};let b=class extends n.ZoneWidget{constructor(C,S,y){super(C,S);this.instantiationService=y,this._onDidClose=new _.Emitter,this.onDidClose=this._onDidClose.event,v.mixin(this.options,g,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(C){let S=this.options;C.headerBackgroundColor&&(S.headerBackgroundColor=C.headerBackgroundColor),C.primaryHeadingColor&&(S.primaryHeadingColor=C.primaryHeadingColor),C.secondaryHeadingColor&&(S.secondaryHeadingColor=C.secondaryHeadingColor),super.style(C)}_applyStyles(){super._applyStyles();let C=this.options;this._headElement&&C.headerBackgroundColor&&(this._headElement.style.backgroundColor=C.headerBackgroundColor.toString()),this._primaryHeading&&C.primaryHeadingColor&&(this._primaryHeading.style.color=C.primaryHeadingColor.toString()),this._secondaryHeading&&C.secondaryHeadingColor&&(this._secondaryHeading.style.color=C.secondaryHeadingColor.toString()),this._bodyElement&&C.frameColor&&(this._bodyElement.style.borderColor=C.frameColor.toString())}_fillContainer(C){this.setCssClass("peekview-widget"),this._headElement=E.$(".head"),this._bodyElement=E.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),C.appendChild(this._headElement),C.appendChild(this._bodyElement)}_fillHead(C,S){const y=E.$(".peekview-title");this.options.supportOnTitleClick&&(y.classList.add("clickable"),E.addStandardDisposableListener(y,"click",N=>this._onTitleClick(N))),E.append(this._headElement,y),this._fillTitleIcon(y),this._primaryHeading=E.$("span.filename"),this._secondaryHeading=E.$("span.dirname"),this._metaHeading=E.$("span.meta"),E.append(y,this._primaryHeading,this._secondaryHeading,this._metaHeading);const w=E.$(".peekview-actions");E.append(this._headElement,w);const T=this._getActionBarOptions();this._actionbarWidget=new m.ActionBar(w,T),this._disposables.add(this._actionbarWidget),S||this._actionbarWidget.push(new k.Action("peekview.close",t.localize(1,null),I.Codicon.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(C){}_getActionBarOptions(){return{actionViewItemProvider:o.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(C){}setTitle(C,S){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=C,this._primaryHeading.setAttribute("title",C),S?this._secondaryHeading.innerText=S:E.clearNode(this._secondaryHeading))}setMetaTitle(C){this._metaHeading&&(C?(this._metaHeading.innerText=C,E.show(this._metaHeading)):E.hide(this._metaHeading))}_doLayout(C,S){if(!this._isShowing&&C<0){this.dispose();return}const y=Math.ceil(this.editor.getOption(59)*1.2),w=Math.round(C-(y+2));this._doLayoutHead(y,S),this._doLayoutBody(w,S)}_doLayoutHead(C,S){this._headElement&&(this._headElement.style.height=`${C}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(C,S){this._bodyElement&&(this._bodyElement.style.height=`${C}px`)}};b=Ie([fe(2,c.IInstantiationService)],b),e.PeekViewWidget=b,e.peekViewTitleBackground=(0,s.registerColor)("peekViewTitle.background",{dark:(0,s.transparent)(s.editorInfoForeground,.1),light:(0,s.transparent)(s.editorInfoForeground,.1),hcDark:null,hcLight:null},t.localize(2,null)),e.peekViewTitleForeground=(0,s.registerColor)("peekViewTitleLabel.foreground",{dark:L.Color.white,light:L.Color.black,hcDark:L.Color.white,hcLight:s.editorForeground},t.localize(3,null)),e.peekViewTitleInfoForeground=(0,s.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},t.localize(4,null)),e.peekViewBorder=(0,s.registerColor)("peekView.border",{dark:s.editorInfoForeground,light:s.editorInfoForeground,hcDark:s.contrastBorder,hcLight:s.contrastBorder},t.localize(5,null)),e.peekViewResultsBackground=(0,s.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:L.Color.black,hcLight:L.Color.white},t.localize(6,null)),e.peekViewResultsMatchForeground=(0,s.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:L.Color.white,hcLight:s.editorForeground},t.localize(7,null)),e.peekViewResultsFileForeground=(0,s.registerColor)("peekViewResult.fileForeground",{dark:L.Color.white,light:"#1E1E1E",hcDark:L.Color.white,hcLight:s.editorForeground},t.localize(8,null)),e.peekViewResultsSelectionBackground=(0,s.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},t.localize(9,null)),e.peekViewResultsSelectionForeground=(0,s.registerColor)("peekViewResult.selectionForeground",{dark:L.Color.white,light:"#6C6C6C",hcDark:L.Color.white,hcLight:s.editorForeground},t.localize(10,null)),e.peekViewEditorBackground=(0,s.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:L.Color.black,hcLight:L.Color.white},t.localize(11,null)),e.peekViewEditorGutterBackground=(0,s.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},t.localize(12,null)),e.peekViewResultsMatchHighlight=(0,s.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},t.localize(13,null)),e.peekViewEditorMatchHighlight=(0,s.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},t.localize(14,null)),e.peekViewEditorMatchHighlightBorder=(0,s.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:s.activeContrastBorder,hcLight:s.activeContrastBorder},t.localize(15,null))}),define(re[744],se([1,0,7,72,18,30,4,176,2,42,8,3,114,550,213,39,16,9,133,81,50,714,23,14,387]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorMarkerNavigationBackground=e.editorMarkerNavigationInfoHeader=e.editorMarkerNavigationInfo=e.editorMarkerNavigationWarningHeader=e.editorMarkerNavigationWarning=e.editorMarkerNavigationErrorHeader=e.editorMarkerNavigationError=e.MarkerNavigationWidget=void 0;class p{constructor(N,R,B,O,D){this._openerService=O,this._labelService=D,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new v.DisposableStore,this._editor=R;const A=document.createElement("div");A.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),A.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),A.appendChild(this._relatedBlock),this._disposables.add(E.addStandardDisposableListener(this._relatedBlock,"click",P=>{P.preventDefault();const F=this._relatedDiagnostics.get(P.target);F&&B(F)})),this._scrollable=new m.ScrollableElement(A,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),N.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(P=>{A.style.left=`-${P.scrollLeft}px`,A.style.top=`-${P.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,v.dispose)(this._disposables)}update(N){const{source:R,message:B,relatedInformation:O,code:D}=N;let A=((R==null?void 0:R.length)||0)+"()".length;D&&(typeof D=="string"?A+=D.length:A+=D.value.length);const P=(0,h.splitLines)(B);this._lines=P.length,this._longestLineLength=0;for(const ee of P)this._longestLineLength=Math.max(ee.length+A,this._longestLineLength);E.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(N)),this._editor.applyFontInfo(this._messageBlock);let F=this._messageBlock;for(const ee of P)F=document.createElement("div"),F.innerText=ee,ee===""&&(F.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(F);if(R||D){const ee=document.createElement("span");if(ee.classList.add("details"),F.appendChild(ee),R){const ie=document.createElement("span");ie.innerText=R,ie.classList.add("source"),ee.appendChild(ie)}if(D)if(typeof D=="string"){const ie=document.createElement("span");ie.innerText=`(${D})`,ie.classList.add("code"),ee.appendChild(ie)}else{this._codeLink=E.$("a.code-link"),this._codeLink.setAttribute("href",`${D.target.toString()}`),this._codeLink.onclick=Y=>{this._openerService.open(D.target,{allowCommands:!0}),Y.preventDefault(),Y.stopPropagation()};const ie=E.append(this._codeLink,E.$("span"));ie.innerText=D.value,ee.appendChild(this._codeLink)}}if(E.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,k.isNonEmptyArray)(O)){const ee=this._relatedBlock.appendChild(document.createElement("div"));ee.style.paddingTop=`${Math.floor(this._editor.getOption(59)*.66)}px`,this._lines+=1;for(const ie of O){let Y=document.createElement("div"),X=document.createElement("a");X.classList.add("filename"),X.innerText=`${(0,_.getBaseLabel)(ie.resource)}(${ie.startLineNumber}, ${ie.startColumn}): `,X.title=this._labelService.getUriLabel(ie.resource),this._relatedDiagnostics.set(X,ie);let J=document.createElement("span");J.innerText=ie.message,Y.appendChild(X),Y.appendChild(J),this._lines+=1,ee.appendChild(Y)}}const W=this._editor.getOption(44),M=Math.ceil(W.typicalFullwidthCharacterWidth*this._longestLineLength*.75),z=W.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:M,scrollHeight:z})}layout(N,R){this._scrollable.getDomNode().style.height=`${N}px`,this._scrollable.getDomNode().style.width=`${R}px`,this._scrollable.setScrollDimensions({width:R,height:N})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(N){let R="";switch(N.severity){case a.MarkerSeverity.Error:R=t.localize(0,null);break;case a.MarkerSeverity.Warning:R=t.localize(1,null);break;case a.MarkerSeverity.Info:R=t.localize(2,null);break;case a.MarkerSeverity.Hint:R=t.localize(3,null);break}let B=t.localize(4,null,R,N.startLineNumber+":"+N.startColumn);const O=this._editor.getModel();return O&&N.startLineNumber<=O.getLineCount()&&N.startLineNumber>=1&&(B=`${O.getLineContent(N.startLineNumber)}, ${B}`),B}}let C=class ji extends n.PeekViewWidget{constructor(N,R,B,O,D,A,P){super(N,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},D);this._themeService=R,this._openerService=B,this._menuService=O,this._contextKeyService=A,this._labelService=P,this._callOnDispose=new v.DisposableStore,this._onDidSelectRelatedInformation=new L.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=a.MarkerSeverity.Warning,this._backgroundColor=I.Color.white,this._applyTheme(R.getColorTheme()),this._callOnDispose.add(R.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(N){this._backgroundColor=N.getColor(e.editorMarkerNavigationBackground);let R=e.editorMarkerNavigationError,B=e.editorMarkerNavigationErrorHeader;this._severity===a.MarkerSeverity.Warning?(R=e.editorMarkerNavigationWarning,B=e.editorMarkerNavigationWarningHeader):this._severity===a.MarkerSeverity.Info&&(R=e.editorMarkerNavigationInfo,B=e.editorMarkerNavigationInfoHeader);const O=N.getColor(R),D=N.getColor(B);this.style({arrowColor:O,frameColor:O,headerBackgroundColor:D,primaryHeadingColor:N.getColor(n.peekViewTitleForeground),secondaryHeadingColor:N.getColor(n.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(N){super._fillHead(N),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(O=>this.editor.focus()));const R=[],B=this._menuService.createMenu(ji.TitleMenu,this._contextKeyService);(0,o.createAndFillInActionBarActions)(B,void 0,R),this._actionbarWidget.push(R,{label:!1,icon:!0,index:0}),B.dispose()}_fillTitleIcon(N){this._icon=E.append(N,E.$(""))}_fillBody(N){this._parentContainer=N,N.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),N.appendChild(this._container),this._message=new p(this._container,this.editor,R=>this._onDidSelectRelatedInformation.fire(R),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(N,R,B){this._container.classList.remove("stale"),this._message.update(N),this._severity=N.severity,this._applyTheme(this._themeService.getColorTheme());let O=i.Range.lift(N);const D=this.editor.getPosition();let A=D&&O.containsPosition(D)?D:O.getStartPosition();super.show(A,this.computeRequiredHeight());const P=this.editor.getModel();if(P){const F=B>1?t.localize(5,null,R,B):t.localize(6,null,R,B);this.setTitle((0,u.basename)(P.uri),F)}this._icon.className=`codicon ${f.SeverityIcon.className(a.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(A,0),this.editor.focus()}updateMarker(N){this._container.classList.remove("stale"),this._message.update(N)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(N,R){super._doLayoutBody(N,R),this._heightInPixel=N,this._message.layout(N,R),this._container.style.height=`${N}px`}_onWidth(N){this._message.layout(this._heightInPixel,N)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};C.TitleMenu=new d.MenuId("gotoErrorTitleMenu"),C=Ie([fe(1,b.IThemeService),fe(2,l.IOpenerService),fe(3,d.IMenuService),fe(4,c.IInstantiationService),fe(5,r.IContextKeyService),fe(6,s.ILabelService)],C),e.MarkerNavigationWidget=C;let S=(0,g.oneOf)(g.editorErrorForeground,g.editorErrorBorder),y=(0,g.oneOf)(g.editorWarningForeground,g.editorWarningBorder),w=(0,g.oneOf)(g.editorInfoForeground,g.editorInfoBorder);e.editorMarkerNavigationError=(0,g.registerColor)("editorMarkerNavigationError.background",{dark:S,light:S,hcDark:g.contrastBorder,hcLight:g.contrastBorder},t.localize(7,null)),e.editorMarkerNavigationErrorHeader=(0,g.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,g.transparent)(e.editorMarkerNavigationError,.1),light:(0,g.transparent)(e.editorMarkerNavigationError,.1),hcDark:null,hcLight:null},t.localize(8,null)),e.editorMarkerNavigationWarning=(0,g.registerColor)("editorMarkerNavigationWarning.background",{dark:y,light:y,hcDark:g.contrastBorder,hcLight:g.contrastBorder},t.localize(9,null)),e.editorMarkerNavigationWarningHeader=(0,g.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,g.transparent)(e.editorMarkerNavigationWarning,.1),light:(0,g.transparent)(e.editorMarkerNavigationWarning,.1),hcDark:"#0C141F",hcLight:(0,g.transparent)(e.editorMarkerNavigationWarning,.2)},t.localize(10,null)),e.editorMarkerNavigationInfo=(0,g.registerColor)("editorMarkerNavigationInfo.background",{dark:w,light:w,hcDark:g.contrastBorder,hcLight:g.contrastBorder},t.localize(11,null)),e.editorMarkerNavigationInfoHeader=(0,g.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,g.transparent)(e.editorMarkerNavigationInfo,.1),light:(0,g.transparent)(e.editorMarkerNavigationInfo,.1),hcDark:null,hcLight:null},t.localize(12,null)),e.editorMarkerNavigationBackground=(0,g.registerColor)("editorMarkerNavigation.background",{dark:g.editorBackground,light:g.editorBackground,hcDark:g.editorBackground,hcLight:g.editorBackground},t.localize(13,null))}),define(re[307],se([1,0,28,2,15,29,11,3,22,629,549,39,16,9,77,744]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let r=class jt{constructor(C,S,y,w,T){this._markerNavigationService=S,this._contextKeyService=y,this._editorService=w,this._instantiationService=T,this._sessionDispoables=new m.DisposableStore,this._editor=C,this._widgetVisible=g.bindTo(this._contextKeyService)}static get(C){return C.getContribution(jt.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(C){if(this._model&&this._model.matches(C))return this._model;let S=!1;return this._model&&(S=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(C),S&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(d.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(y=>{var w,T,N;(!((w=this._model)===null||w===void 0?void 0:w.selected)||!_.Range.containsPosition((T=this._model)===null||T===void 0?void 0:T.selected.marker,y.position))&&((N=this._model)===null||N===void 0||N.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const y=this._model.find(this._editor.getModel().uri,this._widget.position);y?this._widget.updateMarker(y.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(y=>{this._editorService.openCodeEditor({resource:y.resource,options:{pinned:!0,revealIfOpened:!0,selection:_.Range.lift(y).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(C=!0){this._cleanUp(),C&&this._editor.focus()}showAtMarker(C){if(this._editor.hasModel()){const S=this._getOrCreateModel(this._editor.getModel().uri);S.resetIndex(),S.move(!0,this._editor.getModel(),new L.Position(C.startLineNumber,C.startColumn)),S.selected&&this._widget.showAtMarker(S.selected.marker,S.selected.index,S.selected.total)}}nagivate(C,S){var y,w;return Le(this,void 0,void 0,function*(){if(this._editor.hasModel()){const T=this._getOrCreateModel(S?void 0:this._editor.getModel().uri);if(T.move(C,this._editor.getModel(),this._editor.getPosition()),!T.selected)return;if(T.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const N=yield this._editorService.openCodeEditor({resource:T.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:T.selected.marker}},this._editor);N&&((y=jt.get(N))===null||y===void 0||y.close(),(w=jt.get(N))===null||w===void 0||w.nagivate(C,S))}else this._widget.showAtMarker(T.selected.marker,T.selected.index,T.selected.total)}})}};r.ID="editor.contrib.markerController",r=Ie([fe(1,u.IMarkerNavigationService),fe(2,n.IContextKeyService),fe(3,I.ICodeEditorService),fe(4,t.IInstantiationService)],r),e.MarkerController=r;class c extends k.EditorAction{constructor(C,S,y){super(y);this._next=C,this._multiFile=S}run(C,S){var y;return Le(this,void 0,void 0,function*(){S.hasModel()&&((y=r.get(S))===null||y===void 0||y.nagivate(this._next,this._multiFile))})}}class s extends c{constructor(){super(!0,!1,{id:s.ID,label:s.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:512|66,weight:100},menuOpts:{menuId:d.MarkerNavigationWidget.TitleMenu,title:s.LABEL,icon:(0,o.registerIcon)("marker-navigation-next",E.Codicon.arrowDown,h.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=s,s.ID="editor.action.marker.next",s.LABEL=h.localize(0,null);class a extends c{constructor(){super(!1,!1,{id:a.ID,label:a.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:1024|512|66,weight:100},menuOpts:{menuId:d.MarkerNavigationWidget.TitleMenu,title:a.LABEL,icon:(0,o.registerIcon)("marker-navigation-previous",E.Codicon.arrowUp,h.localize(3,null)),group:"navigation",order:2}})}}a.ID="editor.action.marker.prev",a.LABEL=h.localize(2,null);class l extends c{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:h.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:i.MenuId.MenubarGoMenu,title:h.localize(5,null),group:"6_problem_nav",order:1}})}}class f extends c{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:h.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:1024|66,weight:100},menuOpts:{menuId:i.MenuId.MenubarGoMenu,title:h.localize(7,null),group:"6_problem_nav",order:2}})}}(0,k.registerEditorContribution)(r.ID,r),(0,k.registerEditorAction)(s),(0,k.registerEditorAction)(a),(0,k.registerEditorAction)(l),(0,k.registerEditorAction)(f);const g=new n.RawContextKey("markersNavigationVisible",!1),b=k.EditorCommand.bindToContribution(r.get);(0,k.registerEditorCommand)(new b({id:"closeMarkersNavigation",precondition:g,handler:p=>p.close(),kbOpts:{weight:100+50,kbExpr:v.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}))}),define(re[745],se([1,0,7,234,30,4,2,45,42,166,3,36,31,71,37,57,668,114,555,9,43,133,163,14,164,131,389]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g,b,p,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class S{constructor(R,B){this._editor=R,this._model=B,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new L.DisposableStore,this._callOnModelChange=new L.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const R=this._editor.getModel();if(!!R){for(let B of this._model.references)if(B.uri.toString()===R.uri.toString()){this._addDecorations(B.parent);return}}}_addDecorations(R){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const B=[],O=[];for(let A=0,P=R.children.length;A<P;A++){let F=R.children[A];this._decorationIgnoreSet.has(F.id)||F.uri.toString()===this._editor.getModel().uri.toString()&&(B.push({range:F.range,options:S.DecorationOptions}),O.push(A))}const D=this._editor.deltaDecorations([],B);for(let A=0;A<D.length;A++)this._decorations.set(D[A],R.children[O[A]])}_onDecorationChanged(){const R=[],B=this._editor.getModel();if(!!B){for(let[O,D]of this._decorations){const A=B.getDecorationRange(O);if(!A)continue;let P=!1;if(!h.Range.equalsRange(A,D.range)){if(h.Range.spansMultipleLines(A))P=!0;else{const F=D.range.endColumn-D.range.startColumn,W=A.endColumn-A.startColumn;F!==W&&(P=!0)}P?(this._decorationIgnoreSet.add(D.id),R.push(O)):D.range=A}}for(let O=0,D=R.length;O<D;O++)this._decorations.delete(R[O]);this._editor.deltaDecorations(R,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}}S.DecorationOptions=i.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class y{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(R){let B,O;try{const D=JSON.parse(R);B=D.ratio,O=D.heightInLines}catch{}return{ratio:B||.7,heightInLines:O||18}}}e.LayoutData=y;class w extends g.WorkbenchAsyncDataTree{}let T=class extends c.PeekViewWidget{constructor(R,B,O,D,A,P,F,W,M,z,ee,ie){super(R,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},P);this._defaultTreeKeyboardSupport=B,this.layoutData=O,this._textModelResolverService=A,this._instantiationService=P,this._peekViewService=F,this._uriLabel=W,this._undoRedoService=M,this._keybindingService=z,this._languageService=ee,this._languageConfigurationService=ie,this._disposeOnNewModel=new L.DisposableStore,this._callOnDispose=new L.DisposableStore,this._onDidSelectReference=new I.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new E.Dimension(0,0),this._applyTheme(D.getColorTheme()),this._callOnDispose.add(D.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(R,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,L.dispose)(this._preview),(0,L.dispose)(this._previewNotAvailableMessage),(0,L.dispose)(this._tree),(0,L.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(R){const B=R.getColor(c.peekViewBorder)||k.Color.transparent;this.style({arrowColor:B,frameColor:B,headerBackgroundColor:R.getColor(c.peekViewTitleBackground)||k.Color.transparent,primaryHeadingColor:R.getColor(c.peekViewTitleForeground),secondaryHeadingColor:R.getColor(c.peekViewTitleInfoForeground)})}show(R){setTimeout(()=>{this.editor.revealRangeInCenterIfOutsideViewport(Object.assign(Object.assign({},R),{endLineNumber:R.startLineNumber+1,endColumn:1}),0)}),super.show(R,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(R){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:R.ctrlKey||R.metaKey||R.altKey?"side":"open",source:"title"})}_fillBody(R){this.setCssClass("reference-zone-widget"),this._messageContainer=E.append(R,E.$("div.messages")),E.hide(this._messageContainer),this._splitView=new m.SplitView(R,{orientation:1}),this._previewContainer=E.append(R,E.$("div.preview.inline"));let B={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(u.EmbeddedCodeEditorWidget,this._previewContainer,B,this.editor),E.hide(this._previewContainer),this._previewNotAvailableMessage=new i.TextModel(s.localize(0,null),t.PLAINTEXT_LANGUAGE_ID,i.TextModel.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=E.append(R,E.$("div.ref-tree.inline"));const O={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new r.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(r.StringRepresentationProvider),identityProvider:new r.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:c.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(E.addStandardDisposableListener(this._treeContainer,"keydown",A=>{A.equals(9)&&(this._keybindingService.dispatchEvent(A,A.target),A.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(w,"ReferencesWidget",this._treeContainer,new r.Delegate,[this._instantiationService.createInstance(r.FileReferencesRenderer),this._instantiationService.createInstance(r.OneReferenceRenderer)],this._instantiationService.createInstance(r.DataSource),O),this._splitView.addView({onDidChange:I.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:A=>{this._preview.layout({height:this._dim.height,width:A})}},m.Sizing.Distribute),this._splitView.addView({onDidChange:I.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:A=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${A}px`,this._tree.layout(this._dim.height,A)}},m.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));let D=(A,P)=>{A instanceof C.OneReference&&(P==="show"&&this._revealReference(A,!1),this._onDidSelectReference.fire({element:A,kind:P,source:"tree"}))};this._tree.onDidOpen(A=>{A.sideBySide?D(A.element,"side"):A.editorOptions.pinned?D(A.element,"goto"):D(A.element,"show")}),E.hide(this._treeContainer)}_onWidth(R){this._dim&&this._doLayoutBody(this._dim.height,R)}_doLayoutBody(R,B){super._doLayoutBody(R,B),this._dim=new E.Dimension(B,R),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(B),this._splitView.resizeView(0,B*this.layoutData.ratio)}setSelection(R){return this._revealReference(R,!0).then(()=>{!this._model||(this._tree.setSelection([R]),this._tree.setFocus([R]))})}setModel(R){return this._disposeOnNewModel.clear(),this._model=R,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=s.localize(1,null),E.show(this._messageContainer),Promise.resolve(void 0)):(E.hide(this._messageContainer),this._decorationsManager=new S(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(R=>this._tree.rerender(R))),this._disposeOnNewModel.add(this._preview.onMouseDown(R=>{const{event:B,target:O}=R;if(B.detail!==2)return;const D=this._getFocusedReference();!D||this._onDidSelectReference.fire({element:{uri:D.uri,range:O.range},kind:B.ctrlKey||B.metaKey||B.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),E.show(this._treeContainer),E.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[R]=this._tree.getFocus();if(R instanceof C.OneReference)return R;if(R instanceof C.FileReferences&&R.children.length>0)return R.children[0]}revealReference(R){return Le(this,void 0,void 0,function*(){yield this._revealReference(R,!1),this._onDidSelectReference.fire({element:R,kind:"goto",source:"tree"})})}_revealReference(R,B){return Le(this,void 0,void 0,function*(){if(this._revealedReference===R)return;this._revealedReference=R,R.uri.scheme!==_.Schemas.inMemory?this.setTitle((0,v.basenameOrAuthority)(R.uri),this._uriLabel.getUriLabel((0,v.dirname)(R.uri))):this.setTitle(s.localize(2,null));const O=this._textModelResolverService.createModelReference(R.uri);this._tree.getInput()===R.parent?this._tree.reveal(R):(B&&this._tree.reveal(R.parent),yield this._tree.expand(R.parent),this._tree.reveal(R));const D=yield O;if(!this._model){D.dispose();return}(0,L.dispose)(this._previewModelReference);const A=D.object;if(A){const P=this._preview.getModel()===A.textEditorModel?0:1,F=h.Range.lift(R.range).collapseToStart();this._previewModelReference=D,this._preview.setModel(A.textEditorModel),this._preview.setSelection(F),this._preview.revealRangeInCenter(F,P)}else this._preview.setModel(this._previewNotAvailableMessage),D.dispose()})}};T=Ie([fe(3,b.IThemeService),fe(4,d.ITextModelService),fe(5,a.IInstantiationService),fe(6,c.IPeekViewService),fe(7,f.ILabelService),fe(8,p.IUndoRedoService),fe(9,l.IKeybindingService),fe(10,o.ILanguageService),fe(11,n.ILanguageConfigurationService)],T),e.ReferenceWidget=T}),define(re[308],se([1,0,10,13,59,2,29,11,3,114,553,26,35,16,9,90,163,40,83,131,745]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new t.RawContextKey("referenceSearchVisible",!1,h.localize(0,null));let f=class li{constructor(p,C,S,y,w,T,N,R){this._defaultTreeKeyboardSupport=p,this._editor=C,this._editorService=y,this._notificationService=w,this._instantiationService=T,this._storageService=N,this._configurationService=R,this._disposables=new I.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(S)}static get(p){return p.getContribution(li.ID)}dispose(){var p,C;this._referenceSearchVisible.reset(),this._disposables.dispose(),(p=this._widget)===null||p===void 0||p.dispose(),(C=this._model)===null||C===void 0||C.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(p,C,S){let y;if(this._widget&&(y=this._widget.position),this.closeWidget(),!!y&&p.containsPosition(y))return;this._peekMode=S,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const w="peekViewLayout",T=l.LayoutData.fromJSON(this._storageService.get(w,0,"{}"));this._widget=this._instantiationService.createInstance(l.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,T),this._widget.setTitle(h.localize(1,null)),this._widget.show(p),this._disposables.add(this._widget.onDidClose(()=>{C.cancel(),this._widget&&(this._storageService.store(w,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(R=>{let{element:B,kind:O}=R;if(!!B)switch(O){case"open":(R.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(B,!1,!1);break;case"side":this.openReference(B,!0,!1);break;case"goto":S?this._gotoReference(B):this.openReference(B,!1,!0);break}}));const N=++this._requestIdPool;C.then(R=>{var B;if(N!==this._requestIdPool||!this._widget){R.dispose();return}return(B=this._model)===null||B===void 0||B.dispose(),this._model=R,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(h.localize(2,null,this._model.title,this._model.references.length));let O=this._editor.getModel().uri,D=new _.Position(p.startLineNumber,p.startColumn),A=this._model.nearestReference(O,D);if(A)return this._widget.setSelection(A).then(()=>{this._widget&&this._editor.getOption(77)==="editor"&&this._widget.focusOnPreviewEditor()})}})},R=>{this._notificationService.error(R)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(p){return Le(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const C=this._widget.position;if(!C)return;const S=this._model.nearestReference(this._editor.getModel().uri,C);if(!S)return;const y=this._model.nextOrPreviousReference(S,p),w=this._editor.hasTextFocus(),T=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(y),yield this._gotoReference(y),w?this._editor.focus():this._widget&&T&&this._widget.focusOnPreviewEditor()})}revealReference(p){return Le(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(p))})}closeWidget(p=!0){var C,S;(C=this._widget)===null||C===void 0||C.dispose(),(S=this._model)===null||S===void 0||S.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,p&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(p){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const C=v.Range.lift(p.range).collapseToStart();return this._editorService.openCodeEditor({resource:p.uri,options:{selection:C,selectionSource:"code.jump"}},this._editor).then(S=>{var y;if(this._ignoreModelChangeEvent=!1,!S||!this._widget){this.closeWidget();return}if(this._editor===S)this._widget.show(C),this._widget.focusOnReferenceTree();else{const w=li.get(S),T=this._model.clone();this.closeWidget(),S.focus(),w==null||w.toggleWidget(C,(0,E.createCancelablePromise)(N=>Promise.resolve(T)),(y=this._peekMode)!==null&&y!==void 0?y:!1)}},S=>{this._ignoreModelChangeEvent=!1,(0,m.onUnexpectedError)(S)})}openReference(p,C,S){C||this.closeWidget();const{uri:y,range:w}=p;this._editorService.openCodeEditor({resource:y,options:{selection:w,selectionSource:"code.jump",pinned:S}},this._editor,C)}};f.ID="editor.contrib.referencesController",f=Ie([fe(2,t.IContextKeyService),fe(3,L.ICodeEditorService),fe(4,c.INotificationService),fe(5,o.IInstantiationService),fe(6,s.IStorageService),fe(7,n.IConfigurationService)],f),e.ReferencesController=f;function g(b,p){const C=(0,u.getOuterEditor)(b);if(!C)return;const S=f.get(C);S&&p(S)}d.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,k.KeyChord)(2048|41,60),when:t.ContextKeyExpr.or(e.ctxReferenceSearchVisible,u.PeekContext.inPeekEditor),handler(b){g(b,p=>{p.changeFocusBetweenPreviewAndReferences()})}}),d.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:t.ContextKeyExpr.or(e.ctxReferenceSearchVisible,u.PeekContext.inPeekEditor),handler(b){g(b,p=>{p.goToNextOrPreviousReference(!0)})}}),d.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1024|62,secondary:[1024|70],when:t.ContextKeyExpr.or(e.ctxReferenceSearchVisible,u.PeekContext.inPeekEditor),handler(b){g(b,p=>{p.goToNextOrPreviousReference(!1)})}}),i.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),i.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),i.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),i.CommandsRegistry.registerCommand("closeReferenceSearch",b=>g(b,p=>p.closeWidget())),d.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1024|9],when:t.ContextKeyExpr.and(u.PeekContext.inPeekEditor,t.ContextKeyExpr.not("config.editor.stablePeek"))}),d.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1024|9],when:t.ContextKeyExpr.and(e.ctxReferenceSearchVisible,t.ContextKeyExpr.not("config.editor.stablePeek"))}),d.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2048|18]},when:t.ContextKeyExpr.and(e.ctxReferenceSearchVisible,r.WorkbenchListFocusContextKey,r.WorkbenchTreeElementCanCollapse.negate(),r.WorkbenchTreeElementCanExpand.negate()),handler(b){var p;const S=(p=b.get(r.IListService).lastFocusedList)===null||p===void 0?void 0:p.getFocus();Array.isArray(S)&&S[0]instanceof a.OneReference&&g(b,y=>y.revealReference(S[0]))}}),d.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2048|3,mac:{primary:256|3},when:t.ContextKeyExpr.and(e.ctxReferenceSearchVisible,r.WorkbenchListFocusContextKey,r.WorkbenchTreeElementCanCollapse.negate(),r.WorkbenchTreeElementCanExpand.negate()),handler(b){var p;const S=(p=b.get(r.IListService).lastFocusedList)===null||p===void 0?void 0:p.getFocus();Array.isArray(S)&&S[0]instanceof a.OneReference&&g(b,y=>y.openReference(S[0],!0,!0))}}),i.CommandsRegistry.registerCommand("openReference",b=>{var p;const S=(p=b.get(r.IListService).lastFocusedList)===null||p===void 0?void 0:p.getFocus();Array.isArray(S)&&S[0]instanceof a.OneReference&&g(b,y=>y.openReference(S[0],!1,!0))})}),define(re[214],se([1,0,34,46,10,59,17,19,25,113,150,15,29,166,11,3,22,27,308,131,689,162,114,551,39,26,16,9,40,76,298,20]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g,b,p,C,S,y,w,T,N,R){"use strict";var B,O,D,A,P,F,W,M;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=e.SymbolNavigationAction=e.SymbolNavigationAnchor=void 0,p.MenuRegistry.appendMenuItem(p.MenuId.EditorContext,{submenu:p.MenuId.EditorContextPeek,title:b.localize(0,null),group:"navigation",order:100});const z=new Set;function ee(le){const ae=new le;return(0,i.registerInstantiatedEditorAction)(ae),z.add(ae.id),ae}class ie{constructor(ae,Q){this.model=ae,this.position=Q}static is(ae){return!ae||typeof ae!="object"?!1:!!(ae instanceof ie||o.Position.isIPosition(ae.position)&&ae.model)}}e.SymbolNavigationAnchor=ie;class Y extends i.EditorAction{constructor(ae,Q){super(Q);this.configuration=ae}run(ae,Q,q){if(!Q.hasModel())return Promise.resolve(void 0);const Z=ae.get(w.INotificationService),j=ae.get(n.ICodeEditorService),$=ae.get(T.IEditorProgressService),H=ae.get(l.ISymbolNavigationService),te=ae.get(R.ILanguageFeaturesService),ne=Q.getModel(),de=Q.getPosition(),he=ie.is(q)?q:new ie(ne,de),pe=new u.EditorStateCancellationTokenSource(Q,1|4),ve=(0,k.raceCancellation)(this._getLocationModel(te,he.model,he.position,pe.token),pe.token).then(ue=>Le(this,void 0,void 0,function*(){var Ce;if(!ue||pe.token.isCancellationRequested)return;(0,m.alert)(ue.ariaMessage);let me;if(ue.referenceAt(ne.uri,de)){const ce=this._getAlternativeCommand(Q);ce!==this.id&&z.has(ce)&&(me=Q.getAction(ce))}const be=ue.references.length;if(be===0){if(!this.configuration.muteMessage){const ce=ne.getWordAtPosition(de);(Ce=f.MessageController.get(Q))===null||Ce===void 0||Ce.showMessage(this._getNoResultFoundMessage(ce),de)}}else if(be===1&&me)me.run();else return this._onResult(j,H,Q,ue)}),ue=>{Z.error(ue)}).finally(()=>{pe.dispose()});return $.showWhile(ve,250),ve}_onResult(ae,Q,q,Z){return Le(this,void 0,void 0,function*(){const j=this._getGoToPreference(q);if(!(q instanceof t.EmbeddedCodeEditorWidget)&&(this.configuration.openInPeek||j==="peek"&&Z.references.length>1))this._openInPeek(q,Z);else{const $=Z.firstReference(),H=Z.references.length>1&&j==="gotoAndPeek",te=yield this._openReference(q,ae,$,this.configuration.openToSide,!H);H&&te?this._openInPeek(te,Z):Z.dispose(),j==="goto"&&Q.put($)}})}_openReference(ae,Q,q,Z,j){return Le(this,void 0,void 0,function*(){let $;if((0,c.isLocationLink)(q)&&($=q.targetSelectionRange),$||($=q.range),!$)return;const H=yield Q.openCodeEditor({resource:q.uri,options:{selection:d.Range.collapseToStart($),selectionRevealType:3,selectionSource:"code.jump"}},ae,Z);if(!!H){if(j){const te=H.getModel(),ne=H.deltaDecorations([],[{range:$,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{H.getModel()===te&&H.deltaDecorations(ne,[])},350)}return H}})}_openInPeek(ae,Q){const q=s.ReferencesController.get(ae);q&&ae.hasModel()?q.toggleWidget(ae.getSelection(),(0,k.createCancelablePromise)(Z=>Promise.resolve(Q)),this.configuration.openInPeek):Q.dispose()}}e.SymbolNavigationAction=Y;class X extends Y{_getLocationModel(ae,Q,q,Z){return Le(this,void 0,void 0,function*(){return new a.ReferencesModel(yield(0,N.getDefinitionsAtPosition)(ae.definitionProvider,Q,q,Z),b.localize(1,null))})}_getNoResultFoundMessage(ae){return ae&&ae.word?b.localize(2,null,ae.word):b.localize(3,null)}_getAlternativeCommand(ae){return ae.getOption(51).alternativeDefinitionCommand}_getGoToPreference(ae){return ae.getOption(51).multipleDefinitions}}e.DefinitionAction=X;const J=L.isWeb&&!(0,E.isStandalone)()?2048|70:70;ee((B=class di extends X{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:di.id,label:b.localize(4,null),alias:"Go to Definition",precondition:S.ContextKeyExpr.and(r.EditorContextKeys.hasDefinitionProvider,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:J,weight:100},contextMenuOpts:{group:"navigation",order:1.1}});C.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",di.id)}},B.id="editor.action.revealDefinition",B)),ee((O=class ci extends X{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:ci.id,label:b.localize(5,null),alias:"Open Definition to the Side",precondition:S.ContextKeyExpr.and(r.EditorContextKeys.hasDefinitionProvider,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:(0,I.KeyChord)(2048|41,J),weight:100}});C.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",ci.id)}},O.id="editor.action.revealDefinitionAside",O)),ee((D=class ui extends X{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:ui.id,label:b.localize(6,null),alias:"Peek Definition",precondition:S.ContextKeyExpr.and(r.EditorContextKeys.hasDefinitionProvider,g.PeekContext.notInPeekEditor,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:512|70,linux:{primary:2048|1024|68},weight:100},contextMenuOpts:{menuId:p.MenuId.EditorContextPeek,group:"peek",order:2}});C.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",ui.id)}},D.id="editor.action.peekDefinition",D));class oe extends Y{_getLocationModel(ae,Q,q,Z){return Le(this,void 0,void 0,function*(){return new a.ReferencesModel(yield(0,N.getDeclarationsAtPosition)(ae.declarationProvider,Q,q,Z),b.localize(7,null))})}_getNoResultFoundMessage(ae){return ae&&ae.word?b.localize(8,null,ae.word):b.localize(9,null)}_getAlternativeCommand(ae){return ae.getOption(51).alternativeDeclarationCommand}_getGoToPreference(ae){return ae.getOption(51).multipleDeclarations}}ee((A=class qi extends oe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:qi.id,label:b.localize(10,null),alias:"Go to Declaration",precondition:S.ContextKeyExpr.and(r.EditorContextKeys.hasDeclarationProvider,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(ae){return ae&&ae.word?b.localize(11,null,ae.word):b.localize(12,null)}},A.id="editor.action.revealDeclaration",A)),ee(class extends oe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:b.localize(13,null),alias:"Peek Declaration",precondition:S.ContextKeyExpr.and(r.EditorContextKeys.hasDeclarationProvider,g.PeekContext.notInPeekEditor,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:p.MenuId.EditorContextPeek,group:"peek",order:3}})}});class G extends Y{_getLocationModel(ae,Q,q,Z){return Le(this,void 0,void 0,function*(){return new a.ReferencesModel(yield(0,N.getTypeDefinitionsAtPosition)(ae.typeDefinitionProvider,Q,q,Z),b.localize(14,null))})}_getNoResultFoundMessage(ae){return ae&&ae.word?b.localize(15,null,ae.word):b.localize(16,null)}_getAlternativeCommand(ae){return ae.getOption(51).alternativeTypeDefinitionCommand}_getGoToPreference(ae){return ae.getOption(51).multipleTypeDefinitions}}ee((P=class $i extends G{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:$i.ID,label:b.localize(17,null),alias:"Go to Type Definition",precondition:S.ContextKeyExpr.and(r.EditorContextKeys.hasTypeDefinitionProvider,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},P.ID="editor.action.goToTypeDefinition",P)),ee((F=class Gi extends G{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Gi.ID,label:b.localize(18,null),alias:"Peek Type Definition",precondition:S.ContextKeyExpr.and(r.EditorContextKeys.hasTypeDefinitionProvider,g.PeekContext.notInPeekEditor,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:p.MenuId.EditorContextPeek,group:"peek",order:4}})}},F.ID="editor.action.peekTypeDefinition",F));class x extends Y{_getLocationModel(ae,Q,q,Z){return Le(this,void 0,void 0,function*(){return new a.ReferencesModel(yield(0,N.getImplementationsAtPosition)(ae.implementationProvider,Q,q,Z),b.localize(19,null))})}_getNoResultFoundMessage(ae){return ae&&ae.word?b.localize(20,null,ae.word):b.localize(21,null)}_getAlternativeCommand(ae){return ae.getOption(51).alternativeImplementationCommand}_getGoToPreference(ae){return ae.getOption(51).multipleImplementations}}ee((W=class Zi extends x{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Zi.ID,label:b.localize(22,null),alias:"Go to Implementations",precondition:S.ContextKeyExpr.and(r.EditorContextKeys.hasImplementationProvider,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:2048|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},W.ID="editor.action.goToImplementation",W)),ee((M=class Yi extends x{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Yi.ID,label:b.localize(23,null),alias:"Peek Implementations",precondition:S.ContextKeyExpr.and(r.EditorContextKeys.hasImplementationProvider,g.PeekContext.notInPeekEditor,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:2048|1024|70,weight:100},contextMenuOpts:{menuId:p.MenuId.EditorContextPeek,group:"peek",order:5}})}},M.ID="editor.action.peekImplementation",M));class V extends Y{_getNoResultFoundMessage(ae){return ae?b.localize(24,null,ae.word):b.localize(25,null)}_getAlternativeCommand(ae){return ae.getOption(51).alternativeReferenceCommand}_getGoToPreference(ae){return ae.getOption(51).multipleReferences}}ee(class extends V{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:b.localize(26,null),alias:"Go to References",precondition:S.ContextKeyExpr.and(r.EditorContextKeys.hasReferenceProvider,g.PeekContext.notInPeekEditor,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:r.EditorContextKeys.editorTextFocus,primary:1024|70,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(ae,Q,q,Z){return Le(this,void 0,void 0,function*(){return new a.ReferencesModel(yield(0,N.getReferencesAtPosition)(ae.referenceProvider,Q,q,!0,Z),b.localize(27,null))})}}),ee(class extends V{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:b.localize(28,null),alias:"Peek References",precondition:S.ContextKeyExpr.and(r.EditorContextKeys.hasReferenceProvider,g.PeekContext.notInPeekEditor,r.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:p.MenuId.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(ae,Q,q,Z){return Le(this,void 0,void 0,function*(){return new a.ReferencesModel(yield(0,N.getReferencesAtPosition)(ae.referenceProvider,Q,q,!1,Z),b.localize(29,null))})}});class K extends Y{constructor(ae,Q,q){super(ae,{id:"editor.action.goToLocation",label:b.localize(30,null),alias:"Go to Any Symbol",precondition:S.ContextKeyExpr.and(g.PeekContext.notInPeekEditor,r.EditorContextKeys.isInWalkThroughSnippet.toNegated())});this._references=Q,this._gotoMultipleBehaviour=q}_getLocationModel(ae,Q,q,Z){return Le(this,void 0,void 0,function*(){return new a.ReferencesModel(this._references,b.localize(31,null))})}_getNoResultFoundMessage(ae){return ae&&b.localize(32,null,ae.word)||""}_getGoToPreference(ae){var Q;return(Q=this._gotoMultipleBehaviour)!==null&&Q!==void 0?Q:ae.getOption(51).multipleReferences}_getAlternativeCommand(){return""}}C.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:v.URI},{name:"position",description:"The position at which to start",constraint:o.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(le,ae,Q,q,Z,j,$)=>Le(void 0,void 0,void 0,function*(){(0,_.assertType)(v.URI.isUri(ae)),(0,_.assertType)(o.Position.isIPosition(Q)),(0,_.assertType)(Array.isArray(q)),(0,_.assertType)(typeof Z=="undefined"||typeof Z=="string"),(0,_.assertType)(typeof $=="undefined"||typeof $=="boolean");const H=le.get(n.ICodeEditorService),te=yield H.openCodeEditor({resource:ae},H.getFocusedCodeEditor());if((0,h.isCodeEditor)(te))return te.setPosition(Q),te.revealPositionInCenterIfOutsideViewport(Q,0),te.invokeWithinContext(ne=>{const de=new class extends K{_getNoResultFoundMessage(he){return j||super._getNoResultFoundMessage(he)}}({muteMessage:!Boolean(j),openInPeek:Boolean($),openToSide:!1},q,Z);ne.get(y.IInstantiationService).invokeFunction(de.run.bind(de),te)})})}),C.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:v.URI},{name:"position",description:"The position at which to start",constraint:o.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(le,ae,Q,q,Z)=>Le(void 0,void 0,void 0,function*(){le.get(C.ICommandService).executeCommand("editor.action.goToLocations",ae,Q,q,Z,void 0,!0)})}),C.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(le,ae,Q)=>{(0,_.assertType)(v.URI.isUri(ae)),(0,_.assertType)(o.Position.isIPosition(Q));const q=le.get(R.ILanguageFeaturesService),Z=le.get(n.ICodeEditorService);return Z.openCodeEditor({resource:ae},Z.getFocusedCodeEditor()).then(j=>{if(!(0,h.isCodeEditor)(j)||!j.hasModel())return;const $=s.ReferencesController.get(j);if(!$)return;const H=(0,k.createCancelablePromise)(ne=>(0,N.getReferencesAtPosition)(q.referenceProvider,j.getModel(),o.Position.lift(Q),!1,ne).then(de=>new a.ReferencesModel(de,b.localize(33,null)))),te=new d.Range(Q.lineNumber,Q.column,Q.lineNumber,Q.column);return Promise.resolve($.toggleWidget(te,H,!1))})}}),C.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),p.MenuRegistry.appendMenuItems([{id:p.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:b.localize(34,null)},group:"4_symbol_nav",order:2}},{id:p.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:b.localize(35,null)},group:"4_symbol_nav",order:3}},{id:p.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:b.localize(36,null)},group:"4_symbol_nav",order:3}},{id:p.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:b.localize(37,null)},group:"4_symbol_nav",order:4}},{id:p.MenuId.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:b.localize(38,null)},group:"4_symbol_nav",order:5}}])}),define(re[309],se([1,0,10,13,65,2,19,113,15,3,37,57,194,114,552,16,23,14,214,298,20,388]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let f=class qt{constructor(b,p,C,S){this.textModelResolverService=p,this.languageService=C,this.languageFeaturesService=S,this.toUnhook=new I.DisposableStore,this.toUnhookForKeyboard=new I.DisposableStore,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=b;let y=new n.ClickLinkGesture(b);this.toUnhook.add(y),this.toUnhook.add(y.onMouseMoveOrRelevantKeyDown(([w,T])=>{this.startFindDefinitionFromMouse(w,(0,L.withNullAsUndefined)(T))})),this.toUnhook.add(y.onExecute(w=>{this.isEnabled(w)&&this.gotoDefinition(w.target.position,w.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},T=>{this.removeLinkDecorations(),(0,m.onUnexpectedError)(T)})})),this.toUnhook.add(y.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(b){return b.getContribution(qt.ID)}startFindDefinitionFromCursor(b){return this.startFindDefinition(b).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(p=>{p&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(b,p){if(b.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(b,p)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const C=b.target.position;this.startFindDefinition(C)}startFindDefinition(b){var p;this.toUnhookForKeyboard.clear();const C=b?(p=this.editor.getModel())===null||p===void 0?void 0:p.getWordAtPosition(b):null;if(!C)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===C.startColumn&&this.currentWordAtPosition.endColumn===C.endColumn&&this.currentWordAtPosition.word===C.word)return Promise.resolve(0);this.currentWordAtPosition=C;let S=new _.EditorState(this.editor,4|1|2|8);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,E.createCancelablePromise)(y=>this.findDefinition(b,y)),this.previousPromise.then(y=>{if(!y||!y.length||!S.validate(this.editor)){this.removeLinkDecorations();return}if(y.length>1)this.addDecoration(new u.Range(b.lineNumber,C.startColumn,b.lineNumber,C.endColumn),new k.MarkdownString().appendText(o.localize(0,null,y.length)));else{let w=y[0];if(!w.uri)return;this.textModelResolverService.createModelReference(w.uri).then(T=>{if(!T.object||!T.object.textEditorModel){T.dispose();return}const{object:{textEditorModel:N}}=T,{startLineNumber:R}=w.range;if(R<1||R>N.getLineCount()){T.dispose();return}const B=this.getPreviewValue(N,R,w);let O;w.originSelectionRange?O=u.Range.lift(w.originSelectionRange):O=new u.Range(b.lineNumber,C.startColumn,b.lineNumber,C.endColumn);const D=this.languageService.guessLanguageIdByFilepathOrFirstLine(N.uri);this.addDecoration(O,new k.MarkdownString().appendCodeblock(D||"",B)),T.dispose()})}}).then(void 0,m.onUnexpectedError)}getPreviewValue(b,p,C){let S=C.range;return S.endLineNumber-S.startLineNumber>=qt.MAX_SOURCE_PREVIEW_LINES&&(S=this.getPreviewRangeBasedOnIndentation(b,p)),this.stripIndentationFromPreviewRange(b,p,S)}stripIndentationFromPreviewRange(b,p,C){let y=b.getLineFirstNonWhitespaceColumn(p);for(let T=p+1;T<C.endLineNumber;T++){const N=b.getLineFirstNonWhitespaceColumn(T);y=Math.min(y,N)}return b.getValueInRange(C).replace(new RegExp(`^\\s{${y-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(b,p){const C=b.getLineFirstNonWhitespaceColumn(p),S=Math.min(b.getLineCount(),p+qt.MAX_SOURCE_PREVIEW_LINES);let y=p+1;for(;y<S;y++){let w=b.getLineFirstNonWhitespaceColumn(y);if(C===w)break}return new u.Range(p,1,y+1,1)}addDecoration(b,p){const C={range:b,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:p}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[C])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(b,p){return this.editor.hasModel()&&b.isNoneOrSingleMouseDown&&b.target.type===6&&(b.hasTriggerModifier||(p?p.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(b,p){const C=this.editor.getModel();return C?(0,a.getDefinitionsAtPosition)(this.languageFeaturesService.definitionProvider,C,b,p):Promise.resolve(null)}gotoDefinition(b,p){return this.editor.setPosition(b),this.editor.invokeWithinContext(C=>{const S=!p&&this.editor.getOption(78)&&!this.isInPeekEditor(C);return new s.DefinitionAction({openToSide:p,openInPeek:S,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(C,this.editor)})}isInPeekEditor(b){const p=b.get(d.IContextKeyService);return t.PeekContext.inPeekEditor.getValue(p)}dispose(){this.toUnhook.dispose()}};f.ID="editor.contrib.gotodefinitionatposition",f.MAX_SOURCE_PREVIEW_LINES=8,f=Ie([fe(1,i.ITextModelService),fe(2,h.ILanguageService),fe(3,l.ILanguageFeaturesService)],f),e.GotoDefinitionAtPositionEditorContribution=f,(0,v.registerEditorContribution)(f.ID,f),(0,c.registerThemingParticipant)((g,b)=>{const p=g.getColor(r.editorActiveLinkForeground);p&&b.addRule(`.monaco-editor .goto-definition-link { color: ${p} !important; }`)})}),define(re[746],se([1,0,7,18,10,13,2,42,3,204,161,300,156,307,560,81,50,76,23,14,20]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const f=E.$;class g{constructor(S,y,w){this.owner=S,this.range=y,this.marker=w}isValidForHoverAnchor(S){return S.type===1&&this.range.startColumn<=S.range.startColumn&&this.range.endColumn>=S.range.endColumn}}e.MarkerHover=g;const b={type:1,filter:{include:n.CodeActionKind.QuickFix}};let p=class{constructor(S,y,w,T){this._editor=S,this._markerDecorationsService=y,this._openerService=w,this._languageFeaturesService=T,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(S,y){if(!this._editor.hasModel()||S.type!==1)return[];const w=this._editor.getModel(),T=S.range.startLineNumber,N=w.getLineMaxColumn(T),R=[];for(const B of y){const O=B.range.startLineNumber===T?B.range.startColumn:1,D=B.range.endLineNumber===T?B.range.endColumn:N,A=this._markerDecorationsService.getMarker(w.uri,B);if(!A)continue;const P=new v.Range(S.range.startLineNumber,O,S.range.startLineNumber,D);R.push(new g(this,P,A))}return R}renderHoverParts(S,y){if(!y.length)return L.Disposable.None;const w=new L.DisposableStore;y.forEach(N=>S.fragment.appendChild(this.renderMarkerHover(N,w)));const T=y.length===1?y[0]:y.sort((N,R)=>d.MarkerSeverity.compare(N.marker.severity,R.marker.severity))[0];return this.renderMarkerStatusbar(S,T,w),w}renderMarkerHover(S,y){const w=f("div.hover-row"),T=E.append(w,f("div.marker.hover-contents")),{source:N,message:R,code:B,relatedInformation:O}=S.marker;this._editor.applyFontInfo(T);const D=E.append(T,f("span"));if(D.style.whiteSpace="pre-wrap",D.innerText=R,N||B)if(B&&typeof B!="string"){const A=f("span");if(N){const M=E.append(A,f("span"));M.innerText=N}const P=E.append(A,f("a.code-link"));P.setAttribute("href",B.target.toString()),y.add(E.addDisposableListener(P,"click",M=>{this._openerService.open(B.target,{allowCommands:!0}),M.preventDefault(),M.stopPropagation()}));const F=E.append(P,f("span"));F.innerText=B.value;const W=E.append(T,A);W.style.opacity="0.6",W.style.paddingLeft="6px"}else{const A=E.append(T,f("span"));A.style.opacity="0.6",A.style.paddingLeft="6px",A.innerText=N&&B?`${N}(${B})`:N||`(${B})`}if((0,m.isNonEmptyArray)(O))for(const{message:A,resource:P,startLineNumber:F,startColumn:W}of O){const M=E.append(T,f("div"));M.style.marginTop="8px";const z=E.append(M,f("a"));z.innerText=`${(0,_.basename)(P)}(${F}, ${W}): `,z.style.cursor="pointer",y.add(E.addDisposableListener(z,"click",ie=>{ie.stopPropagation(),ie.preventDefault(),this._openerService&&this._openerService.open(P,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:F,startColumn:W}}}).catch(I.onUnexpectedError)}));const ee=E.append(M,f("span"));ee.innerText=A,this._editor.applyFontInfo(ee)}return w}renderMarkerStatusbar(S,y,w){if((y.marker.severity===d.MarkerSeverity.Error||y.marker.severity===d.MarkerSeverity.Warning||y.marker.severity===d.MarkerSeverity.Info)&&S.statusBar.addAction({label:o.localize(0,null),commandId:t.NextMarkerAction.ID,run:()=>{var T;S.hide(),(T=t.MarkerController.get(this._editor))===null||T===void 0||T.showAtMarker(y.marker),this._editor.focus()}}),!this._editor.getOption(81)){const T=S.statusBar.append(f("div"));this.recentMarkerCodeActionsInfo&&(d.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===d.IMarkerData.makeKey(y.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(T.textContent=o.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const N=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?L.Disposable.None:w.add((0,k.disposableTimeout)(()=>T.textContent=o.localize(2,null),200));T.textContent||(T.textContent=String.fromCharCode(160));const R=this.getCodeActions(y.marker);w.add((0,L.toDisposable)(()=>R.cancel())),R.then(B=>{if(N.dispose(),this.recentMarkerCodeActionsInfo={marker:y.marker,hasCodeActions:B.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){B.dispose(),T.textContent=o.localize(3,null);return}T.style.display="none";let O=!1;w.add((0,L.toDisposable)(()=>{O||B.dispose()})),S.statusBar.addAction({label:o.localize(4,null),commandId:i.QuickFixAction.Id,run:D=>{O=!0;const A=i.QuickFixController.get(this._editor),P=E.getDomNodePagePosition(D);S.hide(),A==null||A.showCodeActions(b,B,{x:P.left+6,y:P.top+P.height+6,width:P.width,height:P.height})}})},I.onUnexpectedError)}}getCodeActions(S){return(0,k.createCancelablePromise)(y=>(0,h.getCodeActions)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new v.Range(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn),b,c.Progress.None,y))}};p=Ie([fe(1,u.IMarkerDecorationsService),fe(2,r.IOpenerService),fe(3,l.ILanguageFeaturesService)],p),e.MarkerHoverParticipant=p,(0,a.registerThemingParticipant)((C,S)=>{const y=C.getColor(s.textLinkForeground);y&&S.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${y}; }`);const w=C.getColor(s.textLinkActiveForeground);w&&S.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${w}; }`)})}),define(re[310],se([1,0,59,2,15,3,22,37,309,735,641,558,16,9,50,23,14,87,212,746]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModesHoverController=void 0;let l=class Qi{constructor(p,C,S,y,w){this._editor=p,this._instantiationService=C,this._openerService=S,this._languageService=y,this._toUnhook=new m.DisposableStore,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(T=>{T.hasChanged(53)&&(this._unhookEvents(),this._hookEvents())})}static get(p){return p.getContribution(Qi.ID)}_hookEvents(){const p=()=>this._hideWidgets(),C=this._editor.getOption(53);this._isHoverEnabled=C.enabled,this._isHoverSticky=C.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(S=>this._onEditorMouseDown(S))),this._toUnhook.add(this._editor.onMouseUp(S=>this._onEditorMouseUp(S))),this._toUnhook.add(this._editor.onMouseMove(S=>this._onEditorMouseMove(S))),this._toUnhook.add(this._editor.onKeyDown(S=>this._onKeyDown(S)))):(this._toUnhook.add(this._editor.onMouseMove(S=>this._onEditorMouseMove(S))),this._toUnhook.add(this._editor.onKeyDown(S=>this._onKeyDown(S)))),this._toUnhook.add(this._editor.onMouseLeave(S=>this._onEditorMouseLeave(S))),this._toUnhook.add(this._editor.onDidChangeModel(p)),this._toUnhook.add(this._editor.onDidScrollChange(S=>this._onEditorScrollChanged(S)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(p){(p.scrollTopChanged||p.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(p){this._isMouseDown=!0;const C=p.target;if(C.type===9&&C.detail===u.ContentHoverWidget.ID){this._hoverClicked=!0;return}C.type===12&&C.detail===h.MarginHoverWidget.ID||(C.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(p){this._isMouseDown=!1}_onEditorMouseLeave(p){var C;const S=p.event.browserEvent.relatedTarget;((C=this._contentWidget)===null||C===void 0?void 0:C.containsNode(S))||this._hideWidgets()}_onEditorMouseMove(p){var C,S,y,w,T;const N=p.target;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&N.type===9&&N.detail===u.ContentHoverWidget.ID||this._isHoverSticky&&!((S=(C=p.event.browserEvent.view)===null||C===void 0?void 0:C.getSelection())===null||S===void 0?void 0:S.isCollapsed)||!this._isHoverSticky&&N.type===9&&N.detail===u.ContentHoverWidget.ID&&((y=this._contentWidget)===null||y===void 0?void 0:y.isColorPickerVisible())||this._isHoverSticky&&N.type===12&&N.detail===h.MarginHoverWidget.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(p)){(w=this._glyphWidget)===null||w===void 0||w.hide();return}if(N.type===2&&N.position){(T=this._contentWidget)===null||T===void 0||T.hide(),this._glyphWidget||(this._glyphWidget=new h.MarginHoverWidget(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(N.position.lineNumber);return}this._hideWidgets()}_onKeyDown(p){p.keyCode!==5&&p.keyCode!==6&&p.keyCode!==57&&p.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var p,C,S;this._isMouseDown&&this._hoverClicked&&((p=this._contentWidget)===null||p===void 0?void 0:p.isColorPickerVisible())||(this._hoverClicked=!1,(C=this._glyphWidget)===null||C===void 0||C.hide(),(S=this._contentWidget)===null||S===void 0||S.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(u.ContentHoverController,this._editor)),this._contentWidget}isColorPickerVisible(){var p;return((p=this._contentWidget)===null||p===void 0?void 0:p.isColorPickerVisible())||!1}showContentHover(p,C,S){this._getOrCreateContentWidget().startShowingAtRange(p,C,S)}dispose(){var p,C;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(p=this._glyphWidget)===null||p===void 0||p.dispose(),(C=this._contentWidget)===null||C===void 0||C.dispose()}};l.ID="editor.contrib.hover",l=Ie([fe(1,t.IInstantiationService),fe(2,o.IOpenerService),fe(3,_.ILanguageService),fe(4,n.IContextKeyService)],l),e.ModesHoverController=l;class f extends k.EditorAction{constructor(){super({id:"editor.action.showHover",label:i.localize(0,null),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:L.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2048|41,2048|39),weight:100}})}run(p,C){if(!C.hasModel())return;let S=l.get(C);if(!S)return;const y=C.getPosition(),w=new I.Range(y.lineNumber,y.column,y.lineNumber,y.column),T=C.getOption(2)===2;S.showContentHover(w,1,T)}}class g extends k.EditorAction{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:i.localize(1,null),alias:"Show Definition Preview Hover",precondition:void 0})}run(p,C){const S=l.get(C);if(!S)return;const y=C.getPosition();if(!y)return;const w=new I.Range(y.lineNumber,y.column,y.lineNumber,y.column),T=v.GotoDefinitionAtPositionEditorContribution.get(C);if(!T)return;T.startFindDefinitionFromCursor(y).then(()=>{S.showContentHover(w,1,!0)})}}(0,k.registerEditorContribution)(l.ID,l),(0,k.registerEditorAction)(f),(0,k.registerEditorAction)(g),c.HoverParticipantRegistry.register(s.MarkdownHoverParticipant),c.HoverParticipantRegistry.register(a.MarkerHoverParticipant),(0,r.registerThemingParticipant)((b,p)=>{const C=b.getColor(d.editorHoverHighlight);C&&p.addRule(`.monaco-editor .hoverHighlight { background-color: ${C}; }`);const S=b.getColor(d.editorHoverBackground);S&&p.addRule(`.monaco-editor .monaco-hover { background-color: ${S}; }`);const y=b.getColor(d.editorHoverBorder);y&&(p.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${y}; }`),p.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${y.transparent(.5)}; }`),p.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${y.transparent(.5)}; }`),p.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${y.transparent(.5)}; }`));const w=b.getColor(d.textLinkForeground);w&&p.addRule(`.monaco-editor .monaco-hover a { color: ${w}; }`);const T=b.getColor(d.textLinkActiveForeground);T&&p.addRule(`.monaco-editor .monaco-hover a:hover { color: ${T}; }`);const N=b.getColor(d.editorHoverForeground);N&&p.addRule(`.monaco-editor .monaco-hover { color: ${N}; }`);const R=b.getColor(d.editorHoverStatusBarBackground);R&&p.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${R}; }`);const B=b.getColor(d.textCodeBlockBackground);B&&p.addRule(`.monaco-editor .monaco-hover code { background-color: ${B}; }`)})}),define(re[747],se([1,0,2,15,3,305,727,310,87]),function(U,e,E,m,k,I,L,_,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class u extends E.Disposable{constructor(i){super();this._editor=i,this._register(i.onMouseDown(n=>this.onMouseDown(n)))}dispose(){super.dispose()}onMouseDown(i){const n=i.target;if(n.type!==6||!n.detail.injectedText||n.detail.injectedText.options.attachedData!==I.ColorDecorationInjectedTextMarker||!n.range)return;const t=this._editor.getContribution(_.ModesHoverController.ID);if(!!t&&!t.isColorPickerVisible()){const o=new k.Range(n.range.startLineNumber,n.range.startColumn+1,n.range.endLineNumber,n.range.endColumn+1);t.showContentHover(o,1,!1)}}}e.ColorContribution=u,u.ID="editor.contrib.colorContribution",(0,m.registerEditorContribution)(u.ID,u),v.HoverParticipantRegistry.register(L.ColorHoverParticipant)}),define(re[748],se([1,0,7,48,21,15,3,57,214,114,39,26,16,80,9,40]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.goToDefinitionWithLocation=e.showGoToContextMenu=void 0;function r(s,a,l,f){var g;return Le(this,void 0,void 0,function*(){const b=s.get(_.ITextModelService),p=s.get(t.IContextMenuService),C=s.get(i.ICommandService),S=s.get(o.IInstantiationService),y=s.get(d.INotificationService);if(yield f.item.resolve(k.CancellationToken.None),!f.part.location)return;const w=f.part.location,T=[],N=new Set(h.MenuRegistry.getMenuItems(h.MenuId.EditorContext).map(B=>(0,h.isIMenuItem)(B)?B.command.id:""));for(const B of I.EditorExtensionsRegistry.getEditorActions())B instanceof v.SymbolNavigationAction&&N.has(B.id)&&T.push(new m.Action(B.id,B.label,void 0,!0,()=>Le(this,void 0,void 0,function*(){const O=yield b.createModelReference(w.uri);try{yield S.invokeFunction(B.run.bind(B),a,new v.SymbolNavigationAnchor(O.object.textEditorModel,L.Range.getStartPosition(w.range)))}finally{O.dispose()}})));if(f.part.command){const{command:B}=f.part;T.push(new m.Separator),T.push(new m.Action(B.id,B.title,void 0,!0,()=>Le(this,void 0,void 0,function*(){var O;try{yield C.executeCommand(B.id,...(O=B.arguments)!==null&&O!==void 0?O:[])}catch(D){y.notify({severity:d.Severity.Error,source:f.item.provider.displayName,message:D})}})))}const R=a.getOption(115);p.showContextMenu({domForShadowRoot:R&&(g=a.getDomNode())!==null&&g!==void 0?g:void 0,getAnchor:()=>{const B=E.getDomNodePagePosition(l);return{x:B.left,y:B.top+B.height+8}},getActions:()=>T,onHide:()=>{a.focus()},autoSelectFirstItem:!0})})}e.showGoToContextMenu=r;function c(s,a,l,f){return Le(this,void 0,void 0,function*(){const b=yield s.get(_.ITextModelService).createModelReference(f.uri);yield l.invokeWithinContext(p=>Le(this,void 0,void 0,function*(){const C=a.hasSideBySideModifier,S=p.get(n.IContextKeyService),y=u.PeekContext.inPeekEditor.getValue(S),w=!C&&l.getOption(78)&&!y;return new v.DefinitionAction({openToSide:C,openInPeek:w,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(p,l,{model:b.object.textEditorModel,position:L.Range.getStartPosition(f.range)})})),b.dispose()})}e.goToDefinitionWithLocation=c}),define(re[311],se([1,0,7,18,10,21,13,2,51,19,25,134,33,61,3,27,47,36,70,20,57,194,266,748,563,39,26,35,16,53,9,40,23,14]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g,b,p,C,S,y,w,T,N,R,B,O){"use strict";var D;Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.RenderedInlayHintLabelPart=void 0;class A{constructor(){this._entries=new v.LRUCache(50)}get(ie){const Y=A._key(ie);return this._entries.get(Y)}set(ie,Y){const X=A._key(ie);this._entries.set(X,Y)}static _key(ie){return`${ie.uri.toString()}/${ie.getVersionId()}`}}const P=(0,N.createDecorator)("IInlayHintsCache");(0,T.registerSingleton)(P,A,!0);class F{constructor(ie,Y){this.item=ie,this.index=Y}get part(){const ie=this.item.hint.label;return typeof ie=="string"?{label:ie}:ie[this.index]}}e.RenderedInlayHintLabelPart=F;class W{constructor(ie,Y){this.part=ie,this.hasTriggerModifier=Y}}let M=class Et{constructor(ie,Y,X,J,oe,G,x){this._editor=ie,this._languageFeaturesService=Y,this._inlayHintsCache=J,this._commandService=oe,this._notificationService=G,this._instaService=x,this._disposables=new _.DisposableStore,this._sessionDisposables=new _.DisposableStore,this._decorationsMetadata=new Map,this._ruleFactory=new i.DynamicCssRules(this._editor),this._styleElement=(0,E.createStyleSheet)((0,E.isInShadowDOM)(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._debounceInfo=X.for(Y.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(Y.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(ie.onDidChangeModel(()=>this._update())),this._disposables.add(ie.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(ie.onDidChangeConfiguration(V=>{V.hasChanged(127)&&this._update()})),this._update()}static get(ie){var Y;return(Y=ie.getContribution(Et.ID))!==null&&Y!==void 0?Y:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose(),this._styleElement.remove()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const ie=this._editor.getOption(127);if(!ie.enabled)return;const Y=this._editor.getModel();if(!Y||!this._languageFeaturesService.inlayHintsProvider.has(Y))return;const X=this._inlayHintsCache.get(Y);X&&this._updateHintsDecorators([Y.getFullModelRange()],X),this._sessionDisposables.add((0,_.toDisposable)(()=>{Y.isDisposed()||this._cacheHintsForFastRestore(Y)}));let J,oe=new Set;const G=new k.RunOnceScheduler(()=>Le(this,void 0,void 0,function*(){const x=Date.now();J==null||J.dispose(!0),J=new I.CancellationTokenSource;const V=Y.onWillDispose(()=>J==null?void 0:J.cancel());try{const K=J.token,le=yield g.InlayHintsFragments.create(this._languageFeaturesService.inlayHintsProvider,Y,this._getHintsRanges(),K);if(G.delay=this._debounceInfo.update(Y,Date.now()-x),K.isCancellationRequested){le.dispose();return}for(const ae of le.provider)typeof ae.onDidChangeInlayHints=="function"&&!oe.has(ae)&&(oe.add(ae),this._sessionDisposables.add(ae.onDidChangeInlayHints(()=>{G.isScheduled()||G.schedule()})));this._sessionDisposables.add(le),this._updateHintsDecorators(le.ranges,le.items),this._cacheHintsForFastRestore(Y)}catch(K){(0,L.onUnexpectedError)(K)}finally{J.dispose(),V.dispose()}}),this._debounceInfo.get(Y));if(this._sessionDisposables.add(G),this._sessionDisposables.add((0,_.toDisposable)(()=>J==null?void 0:J.dispose(!0))),G.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(x=>{(x.scrollTopChanged||!G.isScheduled())&&G.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(x=>{const V=Math.max(G.delay,1250);G.schedule(V)})),!ie.toggle)this._editor.getContainerDomNode().style.setProperty(Et._renderModeCssVariable,"inherit");else{let x,V;ie.toggle==="hide"?(x="inherit",V="none"):(x="none",V="inherit"),this._editor.getContainerDomNode().style.setProperty(Et._renderModeCssVariable,x);let K=x;this._sessionDisposables.add(E.ModifierKeyEmitter.getInstance().event(le=>{const ae=le.altKey&&le.ctrlKey?V:x;ae!==K&&(this._editor.getContainerDomNode().style.setProperty(Et._renderModeCssVariable,ae),K=ae)}))}this._sessionDisposables.add(this._installDblClickGesture(()=>G.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const ie=new _.DisposableStore,Y=ie.add(new f.ClickLinkGesture(this._editor)),X=new _.DisposableStore;return ie.add(X),ie.add(Y.onMouseMoveOrRelevantKeyDown(J=>{const[oe]=J,G=this._getInlayHintLabelPart(oe),x=this._editor.getModel();if(!G||!x){X.clear();return}const V=new I.CancellationTokenSource;X.add((0,_.toDisposable)(()=>V.dispose(!0))),G.item.resolve(V.token),this._activeInlayHintPart=G.part.command||G.part.location?new W(G,oe.hasTriggerModifier):void 0;const K=G.item.hint.position.lineNumber,le=new o.Range(K,1,K,x.getLineMaxColumn(K)),ae=this._getInlineHintsForRange(le);this._updateHintsDecorators([le],ae),X.add((0,_.toDisposable)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([le],ae)}))})),ie.add(Y.onCancel(()=>X.clear())),ie.add(Y.onExecute(J=>Le(this,void 0,void 0,function*(){const oe=this._getInlayHintLabelPart(J);if(oe){const G=oe.part;G.location?this._instaService.invokeFunction(b.goToDefinitionWithLocation,J,this._editor,G.location):d.Command.is(G.command)&&(yield this._invokeCommand(G.command,oe.item))}}))),ie}_getInlineHintsForRange(ie){const Y=new Set;for(const X of this._decorationsMetadata.values())ie.containsRange(X.item.anchor.range)&&Y.add(X.item);return Array.from(Y)}_installDblClickGesture(ie){return this._editor.onMouseUp(Y=>Le(this,void 0,void 0,function*(){if(Y.event.detail!==2)return;const X=this._getInlayHintLabelPart(Y);if(!!X&&(Y.event.preventDefault(),yield X.item.resolve(I.CancellationToken.None),(0,m.isNonEmptyArray)(X.item.hint.textEdits))){const J=X.item.hint.textEdits.map(oe=>t.EditOperation.replace(o.Range.lift(oe.range),oe.text));this._editor.executeEdits("inlayHint.default",J),ie()}}))}_installContextMenu(){return this._editor.onContextMenu(ie=>Le(this,void 0,void 0,function*(){if(!(ie.event.target instanceof HTMLElement))return;const Y=this._getInlayHintLabelPart(ie);Y&&(yield this._instaService.invokeFunction(b.showGoToContextMenu,this._editor,ie.event.target,Y))}))}_getInlayHintLabelPart(ie){var Y;if(ie.target.type!==6)return;const X=(Y=ie.target.detail.injectedText)===null||Y===void 0?void 0:Y.options;if(X instanceof c.ModelDecorationInjectedTextOptions&&(X==null?void 0:X.attachedData)instanceof F)return X.attachedData}_invokeCommand(ie,Y){var X;return Le(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(ie.id,...(X=ie.arguments)!==null&&X!==void 0?X:[])}catch(J){this._notificationService.notify({severity:R.Severity.Error,source:Y.provider.displayName,message:J})}})}_cacheHintsForFastRestore(ie){const Y=new Map;for(const[X,J]of this._decorationsMetadata){if(Y.has(J.item))continue;let oe=J.item;const G=ie.getDecorationRange(X);if(G){const x=new g.InlayHintAnchor(G,J.item.anchor.direction);oe=J.item.with({anchor:x})}Y.set(J.item,oe)}this._inlayHintsCache.set(ie,Array.from(Y.values()))}_getHintsRanges(){const ie=30,Y=this._editor.getModel(),X=this._editor.getVisibleRangesPlusViewportAboveBelow(),J=[];for(const oe of X.sort(o.Range.compareRangesUsingStarts)){const G=Y.validateRange(new o.Range(oe.startLineNumber-ie,oe.startColumn,oe.endLineNumber+ie,oe.endColumn));J.length===0||!o.Range.areIntersectingOrTouching(J[J.length-1],G)?J.push(G):J[J.length-1]=o.Range.plusRange(J[J.length-1],G)}return J}_updateHintsDecorators(ie,Y){var X,J;const oe=[],G=(j,$,H,te,ne)=>{const de={content:H,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:$.className,cursorStops:te,attachedData:ne};oe.push({item:j,classNameRef:$,decoration:{range:j.anchor.range,options:{description:"InlayHint",showIfCollapsed:j.anchor.range.isEmpty(),collapseOnReplaceEdit:!j.anchor.range.isEmpty(),stickiness:0,[j.anchor.direction]:de}}})},x=(j,$)=>{const H=this._ruleFactory.createClassNameRef({width:`${V/3|0}px`,display:"inline-block"});G(j,H,"\u200A",$?r.InjectedTextCursorStops.Right:r.InjectedTextCursorStops.None)},{fontSize:V,fontFamily:K,displayStyle:le}=this._getLayoutInfo(),ae="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(ae,K);for(const j of Y){j.hint.paddingLeft&&x(j,!1);const $=typeof j.hint.label=="string"?[{label:j.hint.label}]:j.hint.label;for(let H=0;H<$.length;H++){const te=$[H],ne=H===0,de=H===$.length-1,he={fontSize:`${V}px`,fontFamily:`var(${ae}), ${n.EDITOR_FONT_DEFAULTS.fontFamily}`};(0,m.isNonEmptyArray)(j.hint.textEdits)&&(he.cursor="default"),this._fillInColors(he,j.hint),(te.command||te.location)&&((X=this._activeInlayHintPart)===null||X===void 0?void 0:X.part.item)===j&&this._activeInlayHintPart.part.index===H&&(he.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(he.color=(0,O.themeColorFromId)(B.editorActiveLinkForeground),he.cursor="pointer")),le==="standard"&&(he.verticalAlign="middle",ne&&de?(he.padding=`1px ${Math.max(1,V/4)|0}px`,he.borderRadius=`${V/4|0}px`):ne?(he.padding=`1px 0 1px ${Math.max(1,V/4)|0}px`,he.borderRadius=`${V/4|0}px 0 0 ${V/4|0}px`):de?(he.padding=`1px ${Math.max(1,V/4)|0}px 1px 0`,he.borderRadius=`0 ${V/4|0}px ${V/4|0}px 0`):he.padding="1px 0 1px 0"),G(j,this._ruleFactory.createClassNameRef(he),z(te.label),de&&!j.hint.paddingRight?r.InjectedTextCursorStops.Right:r.InjectedTextCursorStops.None,new F(j,H))}if(j.hint.paddingRight&&x(j,!0),oe.length>Et._MAX_DECORATORS)break}const Q=[];for(const j of ie)for(const{id:$}of(J=this._editor.getDecorationsInRange(j))!==null&&J!==void 0?J:[]){const H=this._decorationsMetadata.get($);H&&(Q.push($),H.classNameRef.dispose(),this._decorationsMetadata.delete($))}const q=this._editor.deltaDecorations(Q,oe.map(j=>j.decoration));for(let j=0;j<q.length;j++){const $=oe[j];this._decorationsMetadata.set(q[j],$)}const Z=[];for(let j of this._decorationsMetadata.values())Z.push(`.${j.classNameRef.className}`);this._styleElement.textContent=`${Z.join(", ")} { display: var(${Et._renderModeCssVariable}) !important; }`}_fillInColors(ie,Y){Y.kind===d.InlayHintKind.Parameter?(ie.backgroundColor=(0,O.themeColorFromId)(B.editorInlayHintParameterBackground),ie.color=(0,O.themeColorFromId)(B.editorInlayHintParameterForeground)):Y.kind===d.InlayHintKind.Type?(ie.backgroundColor=(0,O.themeColorFromId)(B.editorInlayHintTypeBackground),ie.color=(0,O.themeColorFromId)(B.editorInlayHintTypeForeground)):(ie.backgroundColor=(0,O.themeColorFromId)(B.editorInlayHintBackground),ie.color=(0,O.themeColorFromId)(B.editorInlayHintForeground))}_getLayoutInfo(){const ie=this._editor.getOption(127),Y=this._editor.getOption(46);let X=ie.fontSize;(!X||X<5||X>Y)&&(X=Y);const J=ie.fontFamily||this._editor.getOption(43);return{fontSize:X,fontFamily:J,displayStyle:ie.displayStyle}}_removeAllDecorations(){this._editor.deltaDecorations(Array.from(this._decorationsMetadata.keys()),[]);for(let ie of this._decorationsMetadata.values())ie.classNameRef.dispose();this._decorationsMetadata.clear()}};M.ID="editor.contrib.InlayHints",M._MAX_DECORATORS=1500,M._renderModeCssVariable="--inlay-hints-render-mode",M=Ie([fe(1,a.ILanguageFeaturesService),fe(2,s.ILanguageFeatureDebounceService),fe(3,P),fe(4,S.ICommandService),fe(5,R.INotificationService),fe(6,N.IInstantiationService)],M),e.InlayHintsController=M;function z(ee){const ie="\xA0";return ee.replace(/[ \t]/g,ie)}S.CommandsRegistry.registerCommand("_executeInlayHintProvider",(ee,...ie)=>Le(void 0,void 0,void 0,function*(){const[Y,X]=ie;(0,u.assertType)(h.URI.isUri(Y)),(0,u.assertType)(o.Range.isIRange(X));const{inlayHintsProvider:J}=ee.get(a.ILanguageFeaturesService),oe=yield ee.get(l.ITextModelService).createModelReference(Y);try{const G=yield g.InlayHintsFragments.create(J,oe.object.textEditorModel,[o.Range.lift(X)],I.CancellationToken.None),x=G.items.map(V=>V.hint);return setTimeout(()=>G.dispose(),0),x}finally{oe.dispose()}})),(0,C.registerAction2)((D=class $t extends C.Action2{constructor(){super({id:"inlayhint.toggle",title:{value:(0,p.localize)(0,null),mnemonicTitle:(0,p.localize)(1,null),original:"Toggle Inlay Hints"},category:(0,p.localize)(2,null),toggled:w.ContextKeyExpr.equals(`config.${$t._key}`,!0),f1:!0,menu:[{id:C.MenuId.MenubarViewMenu,group:"5_editor",order:3.5}]})}run(ie,...Y){let X=ie.get(y.IConfigurationService);const J=Boolean(X.getValue($t._key));X.updateValue($t._key,!J)}},D._key="editor.inlayHints.enabled",D))});var Ct=this&&this.__asyncValues||function(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=U[Symbol.asyncIterator],E;return e?e.call(U):(U=typeof __values=="function"?__values(U):U[Symbol.iterator](),E={},m("next"),m("throw"),m("return"),E[Symbol.asyncIterator]=function(){return this},E);function m(I){E[I]=U[I]&&function(L){return new Promise(function(_,v){L=U[I](L),k(_,v,L.done,L.value)})}}function k(I,L,_,v){Promise.resolve(v).then(function(u){I({value:u,done:_})},L)}};define(re[749],se([1,0,10,65,11,36,87,37,57,299,212,311,35,50,20,564,17,266,18]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsHover=void 0;class a extends L.HoverForeignElementAnchor{constructor(g,b){super(10,b,g.item.anchor.range);this.part=g}}let l=class extends h.MarkdownHoverParticipant{constructor(g,b,p,C,S,y){super(g,b,p,C,y);this._resolverService=S,this.hoverOrdinal=6}suggestHoverAnchor(g){var b;if(!i.InlayHintsController.get(this._editor)||g.target.type!==6)return null;const C=(b=g.target.detail.injectedText)===null||b===void 0?void 0:b.options;return C instanceof I.ModelDecorationInjectedTextOptions&&C.attachedData instanceof i.RenderedInlayHintLabelPart?new a(C.attachedData,this):null}computeSync(){return[]}computeAsync(g,b,p){return g instanceof a?new E.AsyncIterableObject(C=>Le(this,void 0,void 0,function*(){var S,y;const{part:w}=g;if(yield w.item.resolve(p),p.isCancellationRequested)return;let T;typeof w.item.hint.tooltip=="string"?T=new m.MarkdownString().appendText(w.item.hint.tooltip):w.item.hint.tooltip&&(T=w.item.hint.tooltip),T&&C.emitOne(new h.MarkdownHover(this,g.range,[T],0)),(0,s.isNonEmptyArray)(w.item.hint.textEdits)&&C.emitOne(new h.MarkdownHover(this,g.range,[new m.MarkdownString().appendText((0,d.localize)(0,null))],10001));let N;if(typeof w.part.tooltip=="string"?N=new m.MarkdownString().appendText(w.part.tooltip):w.part.tooltip&&(N=w.part.tooltip),N&&C.emitOne(new h.MarkdownHover(this,g.range,[N],1)),w.part.location||w.part.command){let D;const P=this._editor.getOption(70)==="altKey"?r.isMacintosh?(0,d.localize)(1,null):(0,d.localize)(2,null):r.isMacintosh?(0,d.localize)(3,null):(0,d.localize)(4,null);w.part.location&&w.part.command?D=new m.MarkdownString().appendText((0,d.localize)(5,null,P)):w.part.location?D=new m.MarkdownString().appendText((0,d.localize)(6,null,P)):w.part.command&&(D=new m.MarkdownString(`[${(0,d.localize)(7,null)}](${(0,c.asCommandLink)(w.part.command)} "${w.part.command.title}") (${P})`,{isTrusted:!0})),D&&C.emitOne(new h.MarkdownHover(this,g.range,[D],1e4))}const R=yield this._resolveInlayHintLabelPartHover(w,p);try{for(var B=Ct(R),O;O=yield B.next(),!O.done;){let D=O.value;C.emitOne(D)}}catch(D){S={error:D}}finally{try{O&&!O.done&&(y=B.return)&&(yield y.call(B))}finally{if(S)throw S.error}}})):E.AsyncIterableObject.EMPTY}_resolveInlayHintLabelPartHover(g,b){return Le(this,void 0,void 0,function*(){if(!g.part.location)return E.AsyncIterableObject.EMPTY;const{uri:p,range:C}=g.part.location,S=yield this._resolverService.createModelReference(p);try{const y=S.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(y)?(0,u.getHover)(this._languageFeaturesService.hoverProvider,y,new k.Position(C.startLineNumber,C.startColumn),b).filter(w=>!(0,m.isEmptyMarkdownString)(w.hover.contents)).map(w=>new h.MarkdownHover(this,g.item.anchor.range,w.hover.contents,2+w.ordinal)):E.AsyncIterableObject.EMPTY}finally{S.dispose()}})}};l=Ie([fe(1,_.ILanguageService),fe(2,t.IOpenerService),fe(3,n.IConfigurationService),fe(4,v.ITextModelService),fe(5,o.ILanguageFeaturesService)],l),e.InlayHintsHover=l}),define(re[750],se([1,0,15,87,311,749]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,E.registerEditorContribution)(k.InlayHintsController.ID,k.InlayHintsController),m.HoverParticipantRegistry.register(I.InlayHintsHover)}),define(re[751],se([1,0,15,29,308,35,16,9,40,83]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let h=class extends k.ReferencesController{constructor(n,t,o,d,r,c,s){super(!0,n,t,o,d,r,c,s)}};h=Ie([fe(1,L.IContextKeyService),fe(2,m.ICodeEditorService),fe(3,v.INotificationService),fe(4,_.IInstantiationService),fe(5,u.IStorageService),fe(6,I.IConfigurationService)],h),e.StandaloneReferencesController=h,(0,E.registerEditorContribution)(k.ReferencesController.ID,h)}),define(re[752],se([1,0,13,2,45,78,608,132,53,40,164]),function(U,e,E,m,k,I,L,_,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const i=!1;function n(b){return b.scheme===k.Schemas.file?b.fsPath:b.path}let t=0;class o{constructor(p,C,S,y,w,T,N){this.id=++t,this.type=0,this.actual=p,this.label=p.label,this.confirmBeforeUndo=p.confirmBeforeUndo||!1,this.resourceLabel=C,this.strResource=S,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=y,this.groupOrder=w,this.sourceId=T,this.sourceOrder=N,this.isValid=!0}setValid(p){this.isValid=p}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class d{constructor(p,C){this.resourceLabel=p,this.reason=C}}class r{constructor(){this.elements=new Map}createMessage(){const p=[],C=[];for(const[,y]of this.elements)(y.reason===0?p:C).push(y.resourceLabel);let S=[];return p.length>0&&S.push(L.localize(0,null,p.join(", "))),C.length>0&&S.push(L.localize(1,null,C.join(", "))),S.join(`
`)}get size(){return this.elements.size}has(p){return this.elements.has(p)}set(p,C){this.elements.set(p,C)}delete(p){return this.elements.delete(p)}}class c{constructor(p,C,S,y,w,T,N){this.id=++t,this.type=1,this.actual=p,this.label=p.label,this.confirmBeforeUndo=p.confirmBeforeUndo||!1,this.resourceLabels=C,this.strResources=S,this.groupId=y,this.groupOrder=w,this.sourceId=T,this.sourceOrder=N,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(p,C,S){this.removedResources||(this.removedResources=new r),this.removedResources.has(C)||this.removedResources.set(C,new d(p,S))}setValid(p,C,S){S?this.invalidatedResources&&(this.invalidatedResources.delete(C),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new r),this.invalidatedResources.has(C)||this.invalidatedResources.set(C,new d(p,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class s{constructor(p,C){this.resourceLabel=p,this.strResource=C,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const p of this._past)p.type===1&&p.removeResource(this.resourceLabel,this.strResource,0);for(const p of this._future)p.type===1&&p.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let p=[];p.push(`* ${this.strResource}:`);for(let C=0;C<this._past.length;C++)p.push(`   * [UNDO] ${this._past[C]}`);for(let C=this._future.length-1;C>=0;C--)p.push(`   * [REDO] ${this._future[C]}`);return p.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(p,C){p.type===1?p.setValid(this.resourceLabel,this.strResource,C):p.setValid(C)}setElementsValidFlag(p,C){for(const S of this._past)C(S.actual)&&this._setElementValidFlag(S,p);for(const S of this._future)C(S.actual)&&this._setElementValidFlag(S,p)}pushElement(p){for(const C of this._future)C.type===1&&C.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(p),this.versionId++}createSnapshot(p){const C=[];for(let S=0,y=this._past.length;S<y;S++)C.push(this._past[S].id);for(let S=this._future.length-1;S>=0;S--)C.push(this._future[S].id);return new h.ResourceEditStackSnapshot(p,C)}restoreSnapshot(p){const C=p.elements.length;let S=!0,y=0,w=-1;for(let N=0,R=this._past.length;N<R;N++,y++){const B=this._past[N];S&&(y>=C||B.id!==p.elements[y])&&(S=!1,w=0),!S&&B.type===1&&B.removeResource(this.resourceLabel,this.strResource,0)}let T=-1;for(let N=this._future.length-1;N>=0;N--,y++){const R=this._future[N];S&&(y>=C||R.id!==p.elements[y])&&(S=!1,T=N),!S&&R.type===1&&R.removeResource(this.resourceLabel,this.strResource,0)}w!==-1&&(this._past=this._past.slice(0,w)),T!==-1&&(this._future=this._future.slice(T+1)),this.versionId++}getElements(){const p=[],C=[];for(const S of this._past)p.push(S.actual);for(const S of this._future)C.push(S.actual);return{past:p,future:C}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(p,C){for(let S=this._past.length-1;S>=0;S--)if(this._past[S]===p){C.has(this.strResource)?this._past[S]=C.get(this.strResource):this._past.splice(S,1);break}this.versionId++}splitFutureWorkspaceElement(p,C){for(let S=this._future.length-1;S>=0;S--)if(this._future[S]===p){C.has(this.strResource)?this._future[S]=C.get(this.strResource):this._future.splice(S,1);break}this.versionId++}moveBackward(p){this._past.pop(),this._future.push(p),this.versionId++}moveForward(p){this._future.pop(),this._past.push(p),this.versionId++}}class a{constructor(p){this.editStacks=p,this._versionIds=[];for(let C=0,S=this.editStacks.length;C<S;C++)this._versionIds[C]=this.editStacks[C].versionId}isValid(){for(let p=0,C=this.editStacks.length;p<C;p++)if(this._versionIds[p]!==this.editStacks[p].versionId)return!1;return!0}}const l=new s("","");l.locked=!0;let f=class{constructor(p,C){this._dialogService=p,this._notificationService=C,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(p){for(const C of this._uriComparisonKeyComputers)if(C[0]===p.scheme)return C[1].getComparisonKey(p);return p.toString()}_print(p){console.log("------------------------------------"),console.log(`AFTER ${p}: `);let C=[];for(const S of this._editStacks)C.push(S[1].toString());console.log(C.join(`
`))}pushElement(p,C=h.UndoRedoGroup.None,S=h.UndoRedoSource.None){if(p.type===0){const y=n(p.resource),w=this.getUriComparisonKey(p.resource);this._pushElement(new o(p,y,w,C.id,C.nextOrder(),S.id,S.nextOrder()))}else{const y=new Set,w=[],T=[];for(const N of p.resources){const R=n(N),B=this.getUriComparisonKey(N);y.has(B)||(y.add(B),w.push(R),T.push(B))}w.length===1?this._pushElement(new o(p,w[0],T[0],C.id,C.nextOrder(),S.id,S.nextOrder())):this._pushElement(new c(p,w,T,C.id,C.nextOrder(),S.id,S.nextOrder()))}i&&this._print("pushElement")}_pushElement(p){for(let C=0,S=p.strResources.length;C<S;C++){const y=p.resourceLabels[C],w=p.strResources[C];let T;this._editStacks.has(w)?T=this._editStacks.get(w):(T=new s(y,w),this._editStacks.set(w,T)),T.pushElement(p)}}getLastElement(p){const C=this.getUriComparisonKey(p);if(this._editStacks.has(C)){const S=this._editStacks.get(C);if(S.hasFutureElements())return null;const y=S.getClosestPastElement();return y?y.actual:null}return null}_splitPastWorkspaceElement(p,C){const S=p.actual.split(),y=new Map;for(const w of S){const T=n(w.resource),N=this.getUriComparisonKey(w.resource),R=new o(w,T,N,0,0,0,0);y.set(R.strResource,R)}for(const w of p.strResources){if(C&&C.has(w))continue;this._editStacks.get(w).splitPastWorkspaceElement(p,y)}}_splitFutureWorkspaceElement(p,C){const S=p.actual.split(),y=new Map;for(const w of S){const T=n(w.resource),N=this.getUriComparisonKey(w.resource),R=new o(w,T,N,0,0,0,0);y.set(R.strResource,R)}for(const w of p.strResources){if(C&&C.has(w))continue;this._editStacks.get(w).splitFutureWorkspaceElement(p,y)}}removeElements(p){const C=typeof p=="string"?p:this.getUriComparisonKey(p);this._editStacks.has(C)&&(this._editStacks.get(C).dispose(),this._editStacks.delete(C)),i&&this._print("removeElements")}setElementsValidFlag(p,C,S){const y=this.getUriComparisonKey(p);this._editStacks.has(y)&&this._editStacks.get(y).setElementsValidFlag(C,S),i&&this._print("setElementsValidFlag")}createSnapshot(p){const C=this.getUriComparisonKey(p);return this._editStacks.has(C)?this._editStacks.get(C).createSnapshot(p):new h.ResourceEditStackSnapshot(p,[])}restoreSnapshot(p){const C=this.getUriComparisonKey(p.resource);if(this._editStacks.has(C)){const S=this._editStacks.get(C);S.restoreSnapshot(p),!S.hasPastElements()&&!S.hasFutureElements()&&(S.dispose(),this._editStacks.delete(C))}i&&this._print("restoreSnapshot")}getElements(p){const C=this.getUriComparisonKey(p);return this._editStacks.has(C)?this._editStacks.get(C).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(p){if(!p)return[null,null];let C=null,S=null;for(const[y,w]of this._editStacks){const T=w.getClosestPastElement();!T||T.sourceId===p&&(!C||T.sourceOrder>C.sourceOrder)&&(C=T,S=y)}return[C,S]}canUndo(p){if(p instanceof h.UndoRedoSource){const[,S]=this._findClosestUndoElementWithSource(p.id);return!!S}const C=this.getUriComparisonKey(p);return this._editStacks.has(C)?this._editStacks.get(C).hasPastElements():!1}_onError(p,C){(0,E.onUnexpectedError)(p);for(const S of C.strResources)this.removeElements(S);this._notificationService.error(p)}_acquireLocks(p){for(const C of p.editStacks)if(C.locked)throw new Error("Cannot acquire edit stack lock");for(const C of p.editStacks)C.locked=!0;return()=>{for(const C of p.editStacks)C.locked=!1}}_safeInvokeWithLocks(p,C,S,y,w){const T=this._acquireLocks(S);let N;try{N=C()}catch(R){return T(),y.dispose(),this._onError(R,p)}return N?N.then(()=>(T(),y.dispose(),w()),R=>(T(),y.dispose(),this._onError(R,p))):(T(),y.dispose(),w())}_invokeWorkspacePrepare(p){return Le(this,void 0,void 0,function*(){if(typeof p.actual.prepareUndoRedo=="undefined")return m.Disposable.None;const C=p.actual.prepareUndoRedo();return typeof C=="undefined"?m.Disposable.None:C})}_invokeResourcePrepare(p,C){if(p.actual.type!==1||typeof p.actual.prepareUndoRedo=="undefined")return C(m.Disposable.None);const S=p.actual.prepareUndoRedo();return S?(0,m.isDisposable)(S)?C(S):S.then(y=>C(y)):C(m.Disposable.None)}_getAffectedEditStacks(p){const C=[];for(const S of p.strResources)C.push(this._editStacks.get(S)||l);return new a(C)}_tryToSplitAndUndo(p,C,S,y){if(C.canSplit())return this._splitPastWorkspaceElement(C,S),this._notificationService.warn(y),new g(this._undo(p,0,!0));for(const w of C.strResources)this.removeElements(w);return this._notificationService.warn(y),new g}_checkWorkspaceUndo(p,C,S,y){if(C.removedResources)return this._tryToSplitAndUndo(p,C,C.removedResources,L.localize(2,null,C.label,C.removedResources.createMessage()));if(y&&C.invalidatedResources)return this._tryToSplitAndUndo(p,C,C.invalidatedResources,L.localize(3,null,C.label,C.invalidatedResources.createMessage()));const w=[];for(const N of S.editStacks)N.getClosestPastElement()!==C&&w.push(N.resourceLabel);if(w.length>0)return this._tryToSplitAndUndo(p,C,null,L.localize(4,null,C.label,w.join(", ")));const T=[];for(const N of S.editStacks)N.locked&&T.push(N.resourceLabel);return T.length>0?this._tryToSplitAndUndo(p,C,null,L.localize(5,null,C.label,T.join(", "))):S.isValid()?null:this._tryToSplitAndUndo(p,C,null,L.localize(6,null,C.label))}_workspaceUndo(p,C,S){const y=this._getAffectedEditStacks(C),w=this._checkWorkspaceUndo(p,C,y,!1);return w?w.returnValue:this._confirmAndExecuteWorkspaceUndo(p,C,y,S)}_isPartOfUndoGroup(p){if(!p.groupId)return!1;for(const[,C]of this._editStacks){const S=C.getClosestPastElement();if(!!S){if(S===p){const y=C.getSecondClosestPastElement();if(y&&y.groupId===p.groupId)return!0}if(S.groupId===p.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(p,C,S,y){return Le(this,void 0,void 0,function*(){if(C.canSplit()&&!this._isPartOfUndoGroup(C)){const N=yield this._dialogService.show(I.default.Info,L.localize(7,null,C.label),[L.localize(8,null,S.editStacks.length),L.localize(9,null),L.localize(10,null)],{cancelId:2});if(N.choice===2)return;if(N.choice===1)return this._splitPastWorkspaceElement(C,null),this._undo(p,0,!0);const R=this._checkWorkspaceUndo(p,C,S,!1);if(R)return R.returnValue;y=!0}let w;try{w=yield this._invokeWorkspacePrepare(C)}catch(N){return this._onError(N,C)}const T=this._checkWorkspaceUndo(p,C,S,!0);if(T)return w.dispose(),T.returnValue;for(const N of S.editStacks)N.moveBackward(C);return this._safeInvokeWithLocks(C,()=>C.actual.undo(),S,w,()=>this._continueUndoInGroup(C.groupId,y))})}_resourceUndo(p,C,S){if(!C.isValid){p.flushAllElements();return}if(p.locked){const y=L.localize(11,null,C.label);this._notificationService.warn(y);return}return this._invokeResourcePrepare(C,y=>(p.moveBackward(C),this._safeInvokeWithLocks(C,()=>C.actual.undo(),new a([p]),y,()=>this._continueUndoInGroup(C.groupId,S))))}_findClosestUndoElementInGroup(p){if(!p)return[null,null];let C=null,S=null;for(const[y,w]of this._editStacks){const T=w.getClosestPastElement();!T||T.groupId===p&&(!C||T.groupOrder>C.groupOrder)&&(C=T,S=y)}return[C,S]}_continueUndoInGroup(p,C){if(!p)return;const[,S]=this._findClosestUndoElementInGroup(p);if(S)return this._undo(S,0,C)}undo(p){if(p instanceof h.UndoRedoSource){const[,C]=this._findClosestUndoElementWithSource(p.id);return C?this._undo(C,p.id,!1):void 0}return typeof p=="string"?this._undo(p,0,!1):this._undo(this.getUriComparisonKey(p),0,!1)}_undo(p,C=0,S){if(!this._editStacks.has(p))return;const y=this._editStacks.get(p),w=y.getClosestPastElement();if(!w)return;if(w.groupId){const[N,R]=this._findClosestUndoElementInGroup(w.groupId);if(w!==N&&R)return this._undo(R,C,S)}if((w.sourceId!==C||w.confirmBeforeUndo)&&!S)return this._confirmAndContinueUndo(p,C,w);try{return w.type===1?this._workspaceUndo(p,w,S):this._resourceUndo(y,w,S)}finally{i&&this._print("undo")}}_confirmAndContinueUndo(p,C,S){return Le(this,void 0,void 0,function*(){if((yield this._dialogService.show(I.default.Info,L.localize(12,null,S.label),[L.localize(13,null),L.localize(14,null)],{cancelId:1})).choice!==1)return this._undo(p,C,!0)})}_findClosestRedoElementWithSource(p){if(!p)return[null,null];let C=null,S=null;for(const[y,w]of this._editStacks){const T=w.getClosestFutureElement();!T||T.sourceId===p&&(!C||T.sourceOrder<C.sourceOrder)&&(C=T,S=y)}return[C,S]}canRedo(p){if(p instanceof h.UndoRedoSource){const[,S]=this._findClosestRedoElementWithSource(p.id);return!!S}const C=this.getUriComparisonKey(p);return this._editStacks.has(C)?this._editStacks.get(C).hasFutureElements():!1}_tryToSplitAndRedo(p,C,S,y){if(C.canSplit())return this._splitFutureWorkspaceElement(C,S),this._notificationService.warn(y),new g(this._redo(p));for(const w of C.strResources)this.removeElements(w);return this._notificationService.warn(y),new g}_checkWorkspaceRedo(p,C,S,y){if(C.removedResources)return this._tryToSplitAndRedo(p,C,C.removedResources,L.localize(15,null,C.label,C.removedResources.createMessage()));if(y&&C.invalidatedResources)return this._tryToSplitAndRedo(p,C,C.invalidatedResources,L.localize(16,null,C.label,C.invalidatedResources.createMessage()));const w=[];for(const N of S.editStacks)N.getClosestFutureElement()!==C&&w.push(N.resourceLabel);if(w.length>0)return this._tryToSplitAndRedo(p,C,null,L.localize(17,null,C.label,w.join(", ")));const T=[];for(const N of S.editStacks)N.locked&&T.push(N.resourceLabel);return T.length>0?this._tryToSplitAndRedo(p,C,null,L.localize(18,null,C.label,T.join(", "))):S.isValid()?null:this._tryToSplitAndRedo(p,C,null,L.localize(19,null,C.label))}_workspaceRedo(p,C){const S=this._getAffectedEditStacks(C),y=this._checkWorkspaceRedo(p,C,S,!1);return y?y.returnValue:this._executeWorkspaceRedo(p,C,S)}_executeWorkspaceRedo(p,C,S){return Le(this,void 0,void 0,function*(){let y;try{y=yield this._invokeWorkspacePrepare(C)}catch(T){return this._onError(T,C)}const w=this._checkWorkspaceRedo(p,C,S,!0);if(w)return y.dispose(),w.returnValue;for(const T of S.editStacks)T.moveForward(C);return this._safeInvokeWithLocks(C,()=>C.actual.redo(),S,y,()=>this._continueRedoInGroup(C.groupId))})}_resourceRedo(p,C){if(!C.isValid){p.flushAllElements();return}if(p.locked){const S=L.localize(20,null,C.label);this._notificationService.warn(S);return}return this._invokeResourcePrepare(C,S=>(p.moveForward(C),this._safeInvokeWithLocks(C,()=>C.actual.redo(),new a([p]),S,()=>this._continueRedoInGroup(C.groupId))))}_findClosestRedoElementInGroup(p){if(!p)return[null,null];let C=null,S=null;for(const[y,w]of this._editStacks){const T=w.getClosestFutureElement();!T||T.groupId===p&&(!C||T.groupOrder<C.groupOrder)&&(C=T,S=y)}return[C,S]}_continueRedoInGroup(p){if(!p)return;const[,C]=this._findClosestRedoElementInGroup(p);if(C)return this._redo(C)}redo(p){if(p instanceof h.UndoRedoSource){const[,C]=this._findClosestRedoElementWithSource(p.id);return C?this._redo(C):void 0}return typeof p=="string"?this._redo(p):this._redo(this.getUriComparisonKey(p))}_redo(p){if(!this._editStacks.has(p))return;const C=this._editStacks.get(p),S=C.getClosestFutureElement();if(!!S){if(S.groupId){const[y,w]=this._findClosestRedoElementInGroup(S.groupId);if(S!==y&&w)return this._redo(w)}try{return S.type===1?this._workspaceRedo(p,S):this._resourceRedo(C,S)}finally{i&&this._print("redo")}}}};f=Ie([fe(0,_.IDialogService),fe(1,u.INotificationService)],f),e.UndoRedoService=f;class g{constructor(p){this.returnValue=p}}(0,v.registerSingleton)(h.IUndoRedoService,f)}),define(re[215],se([1,0,609,51,25,9]),function(U,e,E,m,k,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=e.WorkspaceFolder=e.Workspace=e.toWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,I.createDecorator)("contextService");function L(h){const i=h;return typeof(i==null?void 0:i.id)=="string"&&k.URI.isUri(i.uri)}e.isSingleFolderWorkspaceIdentifier=L;function _(h){if(h.configuration)return{id:h.id,configPath:h.configuration};if(h.folders.length===1)return{id:h.id,uri:h.folders[0].uri}}e.toWorkspaceIdentifier=_;class v{constructor(i,n,t,o,d){this._id=i,this._transient=t,this._configuration=o,this._ignorePathCasing=d,this._foldersMap=m.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=n}get folders(){return this._folders}set folders(i){this._folders=i,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(i){this._configuration=i}getFolder(i){return i&&this._foldersMap.findSubstr(i.with({scheme:i.scheme,authority:i.authority,path:i.path}))||null}updateFoldersMap(){this._foldersMap=m.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const i of this.folders)this._foldersMap.set(i.uri,i)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=v;class u{constructor(i,n){this.raw=n,this.uri=i.uri,this.index=i.index,this.name=i.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=u,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_FILTER=[{name:(0,E.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}]}),define(re[753],se([1,0,176,85,42,8,336,31,107,582,215]),function(U,e,E,m,k,I,L,_,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class i{constructor(l){this._delegates=l}resolve(l){for(const f of this._delegates){let g=f.resolve(l);if(g!==void 0)return g}}}e.CompositeSnippetVariableResolver=i;class n{constructor(l,f,g,b){this._model=l,this._selection=f,this._selectionIdx=g,this._overtypingCapturer=b}resolve(l){const{name:f}=l;if(f==="SELECTION"||f==="TM_SELECTED_TEXT"){let g=this._model.getValueInRange(this._selection)||void 0,b=this._selection.startLineNumber!==this._selection.endLineNumber;if(!g&&this._overtypingCapturer){const p=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);p&&(g=p.value,b=p.multiline)}if(g&&b&&l.snippet){const p=this._model.getLineContent(this._selection.startLineNumber),C=(0,I.getLeadingWhitespace)(p,0,this._selection.startColumn-1);let S=C;l.snippet.walk(w=>w===l?!1:(w instanceof v.Text&&(S=(0,I.getLeadingWhitespace)((0,I.splitLines)(w.value).pop())),!0));const y=(0,I.commonPrefixLength)(S,C);g=g.replace(/(\r\n|\r|\n)(.*)/g,(w,T,N)=>`${T}${S.substr(y)}${N}`)}return g}else{if(f==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(f==="TM_CURRENT_WORD"){const g=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return g&&g.word||void 0}else{if(f==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(f==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(f==="CURSOR_INDEX")return String(this._selectionIdx);if(f==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}e.SelectionBasedVariableResolver=n;class t{constructor(l,f){this._labelService=l,this._model=f}resolve(l){const{name:f}=l;if(f==="TM_FILENAME")return m.basename(this._model.uri.fsPath);if(f==="TM_FILENAME_BASE"){const g=m.basename(this._model.uri.fsPath),b=g.lastIndexOf(".");return b<=0?g:g.slice(0,b)}else{if(f==="TM_DIRECTORY")return m.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,k.dirname)(this._model.uri));if(f==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(f==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=t;class o{constructor(l,f,g,b){this._readClipboardText=l,this._selectionIdx=f,this._selectionCount=g,this._spread=b}resolve(l){if(l.name!=="CLIPBOARD")return;const f=this._readClipboardText();if(!!f){if(this._spread){const g=f.split(/\r\n|\n|\r/).filter(b=>!(0,I.isFalsyOrWhitespace)(b));if(g.length===this._selectionCount)return g[this._selectionIdx]}return f}}}e.ClipboardBasedVariableResolver=o;let d=class{constructor(l,f,g){this._model=l,this._selection=f,this._languageConfigurationService=g}resolve(l){const{name:f}=l,g=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),b=this._languageConfigurationService.getLanguageConfiguration(g).comments;if(!!b){if(f==="LINE_COMMENT")return b.lineCommentToken||void 0;if(f==="BLOCK_COMMENT_START")return b.blockCommentStartToken||void 0;if(f==="BLOCK_COMMENT_END")return b.blockCommentEndToken||void 0}}};d=Ie([fe(2,_.ILanguageConfigurationService)],d),e.CommentBasedVariableResolver=d;class r{constructor(){this._date=new Date}resolve(l){const{name:f}=l;if(f==="CURRENT_YEAR")return String(this._date.getFullYear());if(f==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(f==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(f==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(f==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(f==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(f==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(f==="CURRENT_DAY_NAME")return r.dayNames[this._date.getDay()];if(f==="CURRENT_DAY_NAME_SHORT")return r.dayNamesShort[this._date.getDay()];if(f==="CURRENT_MONTH_NAME")return r.monthNames[this._date.getMonth()];if(f==="CURRENT_MONTH_NAME_SHORT")return r.monthNamesShort[this._date.getMonth()];if(f==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}e.TimeBasedVariableResolver=r,r.dayNames=[u.localize(0,null),u.localize(1,null),u.localize(2,null),u.localize(3,null),u.localize(4,null),u.localize(5,null),u.localize(6,null)],r.dayNamesShort=[u.localize(7,null),u.localize(8,null),u.localize(9,null),u.localize(10,null),u.localize(11,null),u.localize(12,null),u.localize(13,null)],r.monthNames=[u.localize(14,null),u.localize(15,null),u.localize(16,null),u.localize(17,null),u.localize(18,null),u.localize(19,null),u.localize(20,null),u.localize(21,null),u.localize(22,null),u.localize(23,null),u.localize(24,null),u.localize(25,null)],r.monthNamesShort=[u.localize(26,null),u.localize(27,null),u.localize(28,null),u.localize(29,null),u.localize(30,null),u.localize(31,null),u.localize(32,null),u.localize(33,null),u.localize(34,null),u.localize(35,null),u.localize(36,null),u.localize(37,null)];class c{constructor(l){this._workspaceService=l}resolve(l){if(!this._workspaceService)return;const f=(0,h.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!!f){if(l.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(f);if(l.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(f)}}_resolveWorkspaceName(l){if((0,h.isSingleFolderWorkspaceIdentifier)(l))return m.basename(l.uri.path);let f=m.basename(l.configPath.path);return f.endsWith(h.WORKSPACE_EXTENSION)&&(f=f.substr(0,f.length-h.WORKSPACE_EXTENSION.length-1)),f}_resoveWorkspacePath(l){if((0,h.isSingleFolderWorkspaceIdentifier)(l))return(0,E.normalizeDriveLetter)(l.uri.fsPath);let f=m.basename(l.configPath.path),g=l.configPath.fsPath;return g.endsWith(f)&&(g=g.substr(0,g.length-f.length-1)),g?(0,E.normalizeDriveLetter)(g):"/"}}e.WorkspaceBasedVariableResolver=c;class s{resolve(l){const{name:f}=l;if(f==="RANDOM")return Math.random().toString().slice(-6);if(f==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(f==="UUID")return(0,L.generateUuid)()}}e.RandomBasedVariableResolver=s}),define(re[312],se([1,0,18,2,8,61,3,24,31,36,133,215,107,753,396]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class o{constructor(s,a,l){this._editor=s,this._snippet=a,this._snippetLineLeadingWhitespace=l,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,E.groupBy)(a.placeholders,n.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}initialize(s){this._offset=s.newPosition}dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const s=this._editor.getModel();this._editor.changeDecorations(a=>{for(const l of this._snippet.placeholders){const f=this._snippet.offset(l),g=this._snippet.fullLen(l),b=L.Range.fromPositions(s.getPositionAt(this._offset+f),s.getPositionAt(this._offset+f+g)),p=l.isFinalTabstop?o._decor.inactiveFinal:o._decor.inactive,C=a.addDecoration(b,p);this._placeholderDecorations.set(l,C)}})}move(s){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let f=[];for(const g of this._placeholderGroups[this._placeholderGroupsIdx])if(g.transform){const b=this._placeholderDecorations.get(g),p=this._editor.getModel().getDecorationRange(b),C=this._editor.getModel().getValueInRange(p),S=g.transform.resolve(C).split(/\r\n|\r|\n/);for(let y=1;y<S.length;y++)S[y]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+S[y]);f.push(I.EditOperation.replace(p,S.join(this._editor.getModel().getEOL())))}f.length>0&&this._editor.executeEdits("snippet.placeholderTransform",f)}let a=!1;s===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,a=!0):s===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,a=!0);const l=this._editor.getModel().changeDecorations(f=>{const g=new Set,b=[];for(const p of this._placeholderGroups[this._placeholderGroupsIdx]){const C=this._placeholderDecorations.get(p),S=this._editor.getModel().getDecorationRange(C);b.push(new _.Selection(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn)),a=a&&this._hasPlaceholderBeenCollapsed(p),f.changeDecorationOptions(C,p.isFinalTabstop?o._decor.activeFinal:o._decor.active),g.add(p);for(const y of this._snippet.enclosingPlaceholders(p)){const w=this._placeholderDecorations.get(y);f.changeDecorationOptions(w,y.isFinalTabstop?o._decor.activeFinal:o._decor.active),g.add(y)}}for(const[p,C]of this._placeholderDecorations)g.has(p)||f.changeDecorationOptions(C,p.isFinalTabstop?o._decor.inactiveFinal:o._decor.inactive);return b});return a?this.move(s):l??[]}_hasPlaceholderBeenCollapsed(s){let a=s;for(;a;){if(a instanceof n.Placeholder){const l=this._placeholderDecorations.get(a);if(this._editor.getModel().getDecorationRange(l).isEmpty()&&a.toString().length>0)return!0}a=a.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){return this._snippet.placeholders.length===0||this._snippet.placeholders.length===1&&this._snippet.placeholders[0].isFinalTabstop}computePossibleSelections(){const s=new Map;for(const a of this._placeholderGroups){let l;for(const f of a){if(f.isFinalTabstop)break;l||(l=[],s.set(f.index,l));const g=this._placeholderDecorations.get(f),b=this._editor.getModel().getDecorationRange(g);if(!b){s.delete(f.index);break}l.push(b)}}return s}get activeChoice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}get hasChoice(){let s=!1;return this._snippet.walk(a=>(s=a instanceof n.Choice,!s)),s}merge(s){const a=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(l=>{for(const f of this._placeholderGroups[this._placeholderGroupsIdx]){const g=s.shift();console.assert(g._offset!==-1),console.assert(!g._placeholderDecorations);const b=g._snippet.placeholderInfo.last.index;for(const C of g._snippet.placeholderInfo.all)C.isFinalTabstop?C.index=f.index+(b+1)/this._nestingLevel:C.index=f.index+C.index/this._nestingLevel;this._snippet.replace(f,g._snippet.children);const p=this._placeholderDecorations.get(f);l.removeDecoration(p),this._placeholderDecorations.delete(f);for(const C of g._snippet.placeholders){const S=g._snippet.offset(C),y=g._snippet.fullLen(C),w=L.Range.fromPositions(a.getPositionAt(g._offset+S),a.getPositionAt(g._offset+S+y)),T=l.addDecoration(w,o._decor.inactive);this._placeholderDecorations.set(C,T)}}this._placeholderGroups=(0,E.groupBy)(this._snippet.placeholders,n.Placeholder.compareByIndex)})}}e.OneSnippet=o,o._decor={active:u.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:u.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:u.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:u.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const d={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let r=class _t{constructor(s,a,l=d,f){this._languageConfigurationService=f,this._templateMerges=[],this._snippets=[],this._editor=s,this._template=a,this._options=l}static adjustWhitespace(s,a,l,f,g){const b=s.getLineContent(a.lineNumber),p=(0,k.getLeadingWhitespace)(b,0,a.column-1);let C;return l.walk(S=>{if(!(S instanceof n.Text)||S.parent instanceof n.Choice)return!0;const y=S.value.split(/\r\n|\r|\n/);if(f){const T=l.offset(S);if(T===0)y[0]=s.normalizeIndentation(y[0]);else{C=C??l.toString();let N=C.charCodeAt(T-1);(N===10||N===13)&&(y[0]=s.normalizeIndentation(p+y[0]))}for(let N=1;N<y.length;N++)y[N]=s.normalizeIndentation(p+y[N])}const w=y.join(s.getEOL());return w!==S.value&&(S.parent.replace(S,[new n.Text(w)]),C=void 0),!0}),p}static adjustSelection(s,a,l,f){if(l!==0||f!==0){const{positionLineNumber:g,positionColumn:b}=a,p=b-l,C=b+f,S=s.validateRange({startLineNumber:g,startColumn:p,endLineNumber:g,endColumn:C});a=_.Selection.createWithDirection(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn,a.getDirection())}return a}static createEditsAndSnippets(s,a,l,f,g,b,p,C,S){const y=[],w=[];if(!s.hasModel())return{edits:y,snippets:w};const T=s.getModel(),N=s.invokeWithinContext(F=>F.get(i.IWorkspaceContextService)),R=s.invokeWithinContext(F=>new t.ModelBasedVariableResolver(F.get(h.ILabelService),T)),B=()=>p;let O=T.getValueInRange(_t.adjustSelection(T,s.getSelection(),l,0)),D=T.getValueInRange(_t.adjustSelection(T,s.getSelection(),0,f)),A=T.getLineFirstNonWhitespaceColumn(s.getSelection().positionLineNumber);const P=s.getSelections().map((F,W)=>({selection:F,idx:W})).sort((F,W)=>L.Range.compareRangesUsingStarts(F.selection,W.selection));for(const{selection:F,idx:W}of P){let M=_t.adjustSelection(T,F,l,0),z=_t.adjustSelection(T,F,0,f);O!==T.getValueInRange(M)&&(M=F),D!==T.getValueInRange(z)&&(z=F);const ee=F.setStartPosition(M.startLineNumber,M.startColumn).setEndPosition(z.endLineNumber,z.endColumn),ie=new n.SnippetParser().parse(a,!0,g),Y=ee.getStartPosition(),X=_t.adjustWhitespace(T,Y,ie,b||W>0&&A!==T.getLineFirstNonWhitespaceColumn(F.positionLineNumber),!0);ie.resolveVariables(new t.CompositeSnippetVariableResolver([R,new t.ClipboardBasedVariableResolver(B,W,P.length,s.getOption(71)==="spread"),new t.SelectionBasedVariableResolver(T,F,W,C),new t.CommentBasedVariableResolver(T,F,S),new t.TimeBasedVariableResolver,new t.WorkspaceBasedVariableResolver(N),new t.RandomBasedVariableResolver])),y[W]=I.EditOperation.replace(ee,ie.toString()),y[W].identifier={major:W,minor:0},y[W]._isTracked=!0,w[W]=new o(s,ie,X)}return{edits:y,snippets:w}}dispose(){(0,m.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:s,snippets:a}=_t.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=a,this._editor.executeEdits("snippet",s,l=>{const f=l.filter(g=>!!g.identifier);for(let g=0;g<a.length;g++)a[g].initialize(f[g].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):f.map(g=>_.Selection.fromPositions(g.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(s,a=d){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,s]);const{edits:l,snippets:f}=_t.createEditsAndSnippets(this._editor,s,a.overwriteBefore,a.overwriteAfter,!0,a.adjustWhitespace,a.clipboardText,a.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",l,g=>{const b=g.filter(C=>!!C.identifier);for(let C=0;C<f.length;C++)f[C].initialize(b[C].textChange);const p=f[0].isTrivialSnippet;if(!p){for(const C of this._snippets)C.merge(f);console.assert(f.length===0)}return this._snippets[0].hasPlaceholder&&!p?this._move(void 0):b.map(C=>_.Selection.fromPositions(C.range.getEndPosition()))})}next(){const s=this._move(!0);this._editor.setSelections(s),this._editor.revealPositionInCenterIfOutsideViewport(s[0].getPosition())}prev(){const s=this._move(!1);this._editor.setSelections(s),this._editor.revealPositionInCenterIfOutsideViewport(s[0].getPosition())}_move(s){const a=[];for(const l of this._snippets){const f=l.move(s);a.push(...f)}return a}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const s=this._editor.getSelections();if(s.length<this._snippets.length)return!1;let a=new Map;for(const l of this._snippets){const f=l.computePossibleSelections();if(a.size===0)for(const[g,b]of f){b.sort(L.Range.compareRangesUsingStarts);for(const p of s)if(b[0].containsRange(p)){a.set(g,[]);break}}if(a.size===0)return!1;a.forEach((g,b)=>{g.push(...f.get(b))})}s.sort(L.Range.compareRangesUsingStarts);for(let[l,f]of a){if(f.length!==s.length){a.delete(l);continue}f.sort(L.Range.compareRangesUsingStarts);for(let g=0;g<f.length;g++)if(!f[g].containsRange(s[g])){a.delete(l);continue}}return a.size>0}};r=Ie([fe(3,v.ILanguageConfigurationService)],r),e.SnippetSession=r}),define(re[168],se([1,0,2,15,11,3,22,31,20,98,581,16,69,312]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const o={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let d=class Rt{constructor(s,a,l,f,g){this._editor=s,this._logService=a,this._languageFeaturesService=l,this._languageConfigurationService=g,this._snippetListener=new E.DisposableStore,this._modelVersionId=-1,this._inSnippet=Rt.InSnippetMode.bindTo(f),this._hasNextTabstop=Rt.HasNextTabstop.bindTo(f),this._hasPrevTabstop=Rt.HasPrevTabstop.bindTo(f)}static get(s){return s.getContribution(Rt.ID)}dispose(){var s;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(s=this._session)===null||s===void 0||s.dispose(),this._snippetListener.dispose()}insert(s,a){try{this._doInsert(s,typeof a=="undefined"?o:Object.assign(Object.assign({},o),a))}catch(l){this.cancel(),this._logService.error(l),this._logService.error("snippet_error"),this._logService.error("insert_template=",s),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(s,a){var l;if(!!this._editor.hasModel()){if(this._snippetListener.clear(),a.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(s,a):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new t.SnippetSession(this._editor,s,a,this._languageConfigurationService),this._session.insert()),a.undoStopAfter&&this._editor.getModel().pushStackElement(),(l=this._session)===null||l===void 0?void 0:l.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:(g,b)=>{if(!this._session||g!==this._editor.getModel()||!k.Position.equals(this._editor.getPosition(),b))return;const{activeChoice:p}=this._session;if(!p||p.options.length===0)return;const C=g.getWordUntilPosition(b),S=Boolean(p.options.find(w=>w.value===C.word)),y=[];for(let w=0;w<p.options.length;w++){const T=p.options[w];y.push({kind:13,label:T.value,insertText:T.value,sortText:"a".repeat(w+1),range:new I.Range(b.lineNumber,C.startColumn,b.lineNumber,C.endColumn),filterText:S?`${C.word}_${T.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,h.localize)(3,null)}})}return{suggestions:y}}};const f=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.path,scheme:this._editor.getModel().uri.scheme},this._choiceCompletionItemProvider);this._snippetListener.add(f)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(f=>f.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:s}=this._session;if(!s||!this._choiceCompletionItemProvider){this._currentChoice=void 0;return}this._currentChoice!==s&&(this._currentChoice=s,queueMicrotask(()=>{(0,u.showSimpleSuggestions)(this._editor,this._choiceCompletionItemProvider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(s=!1){var a;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(a=this._session)===null||a===void 0||a.dispose(),this._session=void 0,this._modelVersionId=-1,s&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};d.ID="snippetController2",d.InSnippetMode=new i.RawContextKey("inSnippetMode",!1,(0,h.localize)(0,null)),d.HasNextTabstop=new i.RawContextKey("hasNextTabstop",!1,(0,h.localize)(1,null)),d.HasPrevTabstop=new i.RawContextKey("hasPrevTabstop",!1,(0,h.localize)(2,null)),d=Ie([fe(1,n.ILogService),fe(2,v.ILanguageFeaturesService),fe(3,i.IContextKeyService),fe(4,_.ILanguageConfigurationService)],d),e.SnippetController2=d,(0,m.registerEditorContribution)(d.ID,d);const r=m.EditorCommand.bindToContribution(d.get);(0,m.registerEditorCommand)(new r({id:"jumpToNextSnippetPlaceholder",precondition:i.ContextKeyExpr.and(d.InSnippetMode,d.HasNextTabstop),handler:c=>c.next(),kbOpts:{weight:100+30,kbExpr:L.EditorContextKeys.editorTextFocus,primary:2}})),(0,m.registerEditorCommand)(new r({id:"jumpToPrevSnippetPlaceholder",precondition:i.ContextKeyExpr.and(d.InSnippetMode,d.HasPrevTabstop),handler:c=>c.prev(),kbOpts:{weight:100+30,kbExpr:L.EditorContextKeys.editorTextFocus,primary:1024|2}})),(0,m.registerEditorCommand)(new r({id:"leaveSnippet",precondition:d.InSnippetMode,handler:c=>c.cancel(!0),kbOpts:{weight:100+30,kbExpr:L.EditorContextKeys.editorTextFocus,primary:9,secondary:[1024|9]}})),(0,m.registerEditorCommand)(new r({id:"acceptSnippet",precondition:d.InSnippetMode,handler:c=>c.finish()}))}),define(re[313],se([1,0,10,21,13,4,2,160,61,3,27,157,26,195,197,31,443,20,70,107,168,19,64,196,35]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.provideInlineCompletions=e.SynchronizedInlineCompletionsCache=e.UpdateOperation=e.InlineCompletionsSession=e.InlineCompletionsModel=void 0;let C=class extends L.Disposable{constructor(D,A,P,F,W,M,z){super();this.editor=D,this.cache=A,this.commandService=P,this.languageConfigurationService=F,this.languageFeaturesService=W,this.debounceService=M,this.onDidChangeEmitter=new I.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new L.MutableDisposable),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:200}),this._register(P.onDidExecuteCommand(ee=>{new Set([_.CoreEditingCommands.Tab.id,_.CoreEditingCommands.DeleteLeft.id,_.CoreEditingCommands.DeleteRight.id,t.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(ee.commandId)&&D.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(ee=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(ee=>{(ee.reason===3||this.session&&!this.session.isValid)&&this.hide()})),this._register((0,L.toDisposable)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{z.getValue("editor.inlineSuggest.hideOnBlur")||this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var D;return(D=this.session)===null||D===void 0?void 0:D.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(D){var A;(A=this.session)===null||A===void 0||A.setExpanded(D)}setActive(D){var A;this.active=D,D&&((A=this.session)===null||A===void 0||A.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(55).enabled||this.session&&this.session.isValid||this.trigger(h.InlineCompletionTriggerKind.Automatic)}trigger(D){if(this.completionSession.value){D===h.InlineCompletionTriggerKind.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new S(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,D,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var D;(D=this.session)===null||D===void 0||D.commitCurrentCompletion()}showNext(){var D;(D=this.session)===null||D===void 0||D.showNextInlineCompletion()}showPrevious(){var D;(D=this.session)===null||D===void 0||D.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var D;return Le(this,void 0,void 0,function*(){const A=yield(D=this.session)===null||D===void 0?void 0:D.hasMultipleInlineCompletions();return A!==void 0?A:!1})}};C=Ie([fe(2,n.ICommandService),fe(3,d.ILanguageConfigurationService),fe(4,c.ILanguageFeaturesService),fe(5,s.ILanguageFeatureDebounceService),fe(6,p.IConfigurationService)],C),e.InlineCompletionsModel=C;class S extends i.BaseGhostTextWidgetModel{constructor(D,A,P,F,W,M,z,ee,ie){super(D);this.triggerPosition=A,this.shouldUpdate=P,this.commandService=F,this.cache=W,this.initialTriggerKind=M,this.languageConfigurationService=z,this.registry=ee,this.debounce=ie,this.minReservedLineCount=0,this.updateOperation=this._register(new L.MutableDisposable),this.updateSoon=this._register(new E.RunOnceScheduler(()=>{let X=this.initialTriggerKind;return this.initialTriggerKind=h.InlineCompletionTriggerKind.Automatic,this.update(X)},50)),this.filteredCompletions=[],this.currentlySelectedCompletionId=void 0;let Y;this._register(this.onDidChange(()=>{const X=this.currentCompletion;if(X&&X.sourceInlineCompletion!==Y){Y=X.sourceInlineCompletion;const J=X.sourceProvider;J.handleItemDidShow&&J.handleItemDidShow(X.sourceInlineCompletions,Y)}})),this._register((0,L.toDisposable)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(X=>{var J;X.reason!==3&&((J=this.cache.value)===null||J===void 0||J.updateRanges(),this.cache.value&&(this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire()))})),this._register(this.editor.onDidChangeModelContent(X=>{var J;(J=this.cache.value)===null||J===void 0||J.updateRanges(),this.updateFilteredInlineCompletions(),this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}updateFilteredInlineCompletions(){if(!this.cache.value){this.filteredCompletions=[];return}const D=this.editor.getModel(),A=D.validatePosition(this.editor.getPosition());this.filteredCompletions=this.cache.value.completions.filter(P=>{const F=D.getValueInRange(P.synchronizedRange).toLowerCase(),W=P.inlineCompletion.filterText.toLowerCase(),M=D.getLineIndentColumn(P.synchronizedRange.startLineNumber),z=Math.max(0,A.column-P.synchronizedRange.startColumn);let ee=W.substring(0,z),ie=W.substring(z),Y=F.substring(0,z),X=F.substring(z);return P.synchronizedRange.startColumn<=M&&(Y=Y.trimStart(),Y.length===0&&(X=X.trimStart()),ee=ee.trimStart(),ee.length===0&&(ie=ie.trimStart())),ee.startsWith(Y)&&(0,g.matchesSubString)(X,ie)})}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const D=this.filteredCompletions.findIndex(A=>A.semanticId===this.currentlySelectedCompletionId);return D===-1?(this.currentlySelectedCompletionId=void 0,0):D}get currentCachedCompletion(){if(!!this.cache.value)return this.filteredCompletions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){return Le(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const D=this.filteredCompletions||[];if(D.length>0){const A=(this.fixAndGetIndexOfCurrentSelection()+1)%D.length;this.currentlySelectedCompletionId=D[A].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){return Le(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const D=this.filteredCompletions||[];if(D.length>0){const A=(this.fixAndGetIndexOfCurrentSelection()+D.length-1)%D.length;this.currentlySelectedCompletionId=D[A].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var D;return Le(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===h.InlineCompletionTriggerKind.Explicit?yield this.updateOperation.value.promise:yield this.update(h.InlineCompletionTriggerKind.Explicit):((D=this.cache.value)===null||D===void 0?void 0:D.triggerKind)!==h.InlineCompletionTriggerKind.Explicit&&(yield this.update(h.InlineCompletionTriggerKind.Explicit))})}hasMultipleInlineCompletions(){var D;return Le(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((D=this.cache.value)===null||D===void 0?void 0:D.completions.length)||0)>1})}get ghostText(){const D=this.currentCompletion;if(!D)return;const A=this.editor.getPosition();if(D.range.getEndPosition().isBefore(A))return;const P=this.editor.getOptions().get(55).mode,F=(0,o.inlineCompletionToGhostText)(D,this.editor.getModel(),P,A);return F?F.isEmpty()?void 0:F:new i.GhostTextReplacement(D.range.startLineNumber,D.range.startColumn,D.range.endColumn-D.range.startColumn,D.insertText.split(`
`),0)}get currentCompletion(){const D=this.currentCachedCompletion;if(!!D)return D.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(D){return Le(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const A=this.editor.getPosition(),P=new Date,F=(0,E.createCancelablePromise)(M=>Le(this,void 0,void 0,function*(){let z;try{z=yield N(this.registry,A,this.editor.getModel(),{triggerKind:D,selectedSuggestionInfo:void 0},M,this.languageConfigurationService);const ee=new Date;this.debounce.update(this.editor.getModel(),ee.getTime()-P.getTime())}catch(ee){(0,k.onUnexpectedError)(ee);return}M.isCancellationRequested||(this.cache.setValue(this.editor,z,D),this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire())})),W=new y(F,D);this.updateOperation.value=W,yield F,this.updateOperation.value===W&&this.updateOperation.clear()})}takeOwnership(D){this._register(D)}commitCurrentCompletion(){if(!this.ghostText)return;const A=this.currentCompletion;A&&this.commit(A)}commit(D){var A;const P=this.cache.clearAndLeak();D.snippetInfo?(this.editor.executeEdits("inlineSuggestion.accept",[v.EditOperation.replaceMove(D.range,""),...D.additionalTextEdits]),this.editor.setPosition(D.snippetInfo.range.getStartPosition()),(A=l.SnippetController2.get(this.editor))===null||A===void 0||A.insert(D.snippetInfo.snippet)):this.editor.executeEdits("inlineSuggestion.accept",[v.EditOperation.replaceMove(D.range,D.insertText),...D.additionalTextEdits]),D.command?this.commandService.executeCommand(D.command.id,...D.command.arguments||[]).finally(()=>{P==null||P.dispose()}).then(void 0,k.onUnexpectedExternalError):P==null||P.dispose(),this.onDidChangeEmitter.fire()}get commands(){var D;return[...new Set(((D=this.cache.value)===null||D===void 0?void 0:D.completions.map(P=>P.inlineCompletion.sourceInlineCompletions))||[])].flatMap(P=>P.commands||[])}}e.InlineCompletionsSession=S;class y{constructor(D,A){this.promise=D,this.triggerKind=A}dispose(){this.promise.cancel()}}e.UpdateOperation=y;class w extends L.Disposable{constructor(D,A,P,F){super();this.editor=A,this.onChange=P,this.triggerKind=F,this.isDisposing=!1;const W=A.deltaDecorations([],D.items.map(M=>({range:M.range,options:{description:"inline-completion-tracking-range"}})));this._register((0,L.toDisposable)(()=>{this.isDisposing=!0,A.deltaDecorations(W,[])})),this.completions=D.items.map((M,z)=>new T(M,W[z])),this._register(A.onDidChangeModelContent(()=>{this.updateRanges()})),this._register(D)}updateRanges(){if(this.isDisposing)return;let D=!1;const A=this.editor.getModel();for(const P of this.completions){const F=A.getDecorationRange(P.decorationId);if(!F){(0,k.onUnexpectedError)(new Error("Decoration has no range"));continue}P.synchronizedRange.equalsRange(F)||(D=!0,P.synchronizedRange=F)}D&&this.onChange()}}e.SynchronizedInlineCompletionsCache=w;class T{constructor(D,A){this.inlineCompletion=D,this.decorationId=A,this.semanticId=JSON.stringify({text:this.inlineCompletion.insertText,abbreviation:this.inlineCompletion.filterText,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=D.range}toLiveInlineCompletion(){return{insertText:this.inlineCompletion.insertText,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion,snippetInfo:this.inlineCompletion.snippetInfo,filterText:this.inlineCompletion.filterText,additionalTextEdits:this.inlineCompletion.additionalTextEdits}}}function N(O,D,A,P,F=m.CancellationToken.None,W){return Le(this,void 0,void 0,function*(){const M=R(D,A),z=O.all(A),ee=yield Promise.all(z.map(Y=>Le(this,void 0,void 0,function*(){const X=yield Promise.resolve(Y.provideInlineCompletions(A,D,P,F)).catch(k.onUnexpectedExternalError);return{completions:X,provider:Y,dispose:()=>{X&&Y.freeInlineCompletions(X)}}}))),ie=new Map;for(const Y of ee){const X=Y.completions;if(!!X)for(const J of X.items){const oe=J.range?u.Range.lift(J.range):M;if(oe.startLineNumber!==oe.endLineNumber)continue;let G,x;typeof J.insertText=="string"?(G=J.insertText,W&&J.completeBracketPairs&&(G=B(G,oe.getStartPosition(),A,W)),x=void 0):"snippet"in J.insertText?(G=new a.SnippetParser().parse(J.insertText.snippet).toString(),x={snippet:J.insertText.snippet,range:oe}):(0,f.assertNever)(J.insertText);const V={insertText:G,snippetInfo:x,range:oe,command:J.command,sourceProvider:Y.provider,sourceInlineCompletions:X,sourceInlineCompletion:J,filterText:J.filterText||G,additionalTextEdits:J.additionalTextEdits||(0,b.getReadonlyEmptyArray)()};ie.set(JSON.stringify({insertText:G,range:J.range}),V)}}return{items:[...ie.values()],dispose:()=>{for(const Y of ee)Y.dispose()}}})}e.provideInlineCompletions=N;function R(O,D){const A=D.getWordAtPosition(O),P=D.getLineMaxColumn(O.lineNumber);return A?new u.Range(O.lineNumber,A.startColumn,O.lineNumber,P):u.Range.fromPositions(O,O.with(void 0,P))}function B(O,D,A,P){const W=A.getLineContent(D.lineNumber).substring(0,D.column-1)+O,M=A.tokenization.tokenizeLineWithEdit(D,W.length-(D.column-1),O),z=M==null?void 0:M.sliceAndInflate(D.column-1,W.length,0);return z?(0,r.fixBracketsInLine)(z,P):O}}),define(re[754],se([1,0,10,21,13,4,2,8,24,89,168,270,97,35,16,69,91,268,98,20]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class l{constructor(S,y,w,T){this.leadingLineContent=S.getLineContent(y.lineNumber).substr(0,y.column-1),this.leadingWord=S.getWordUntilPosition(y),this.lineNumber=y.lineNumber,this.column=y.column,this.auto=w,this.shy=T}static shouldAutoTrigger(S){if(!S.hasModel())return!1;const y=S.getModel(),w=S.getPosition();y.tokenization.tokenizeIfCheap(w.lineNumber);const T=y.getWordAtPosition(w);return!(!T||T.endColumn!==w.column||!isNaN(Number(T.word)))}}e.LineContext=l;function f(C){return C.getOption(106).preview}function g(C,S,y){if(!Boolean(S.getContextKeyValue("inlineSuggestionVisible")))return!0;const w=y.getValue("editor.inlineSuggest.allowQuickSuggestions");return w!==void 0?Boolean(w):!1}function b(C,S,y){if(!Boolean(S.getContextKeyValue("inlineSuggestionVisible")))return!0;const w=y.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return w!==void 0?Boolean(w):!1}let p=class Xi{constructor(S,y,w,T,N,R,B,O){this._editor=S,this._editorWorkerService=y,this._clipboardService=w,this._telemetryService=T,this._logService=N,this._contextKeyService=R,this._configurationService=B,this._languageFeaturesService=O,this._toDispose=new L.DisposableStore,this._triggerCharacterListener=new L.DisposableStore,this._triggerQuickSuggest=new E.TimeoutTimer,this._state=0,this._completionDisposables=new L.DisposableStore,this._onDidCancel=new I.Emitter,this._onDidTrigger=new I.Emitter,this._onDidSuggest=new I.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new v.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let D=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{D=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{D=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(A=>{D||this._onCursorChange(A)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{D||this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,L.dispose)(this._triggerCharacterListener),(0,L.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(81)||!this._editor.hasModel()||!this._editor.getOption(109))return;const S=new Map;for(const w of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const T of w.triggerCharacters||[]){let N=S.get(T);N||(N=new Set,N.add((0,s.getSnippetSuggestSupport)()),S.set(T,N)),N.add(w)}const y=w=>{if(!b(this._editor,this._contextKeyService,this._configurationService)||l.shouldAutoTrigger(this._editor))return;if(!w){const R=this._editor.getPosition();w=this._editor.getModel().getLineContent(R.lineNumber).substr(0,R.column-1)}let T="";(0,_.isLowSurrogate)(w.charCodeAt(w.length-1))?(0,_.isHighSurrogate)(w.charCodeAt(w.length-2))&&(T=w.substr(w.length-2)):T=w.charAt(w.length-1);const N=S.get(T);if(N){const R=this._completionModel?{items:this._completionModel.adopt(N),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:T},Boolean(this._completionModel),N,R)}};this._triggerCharacterListener.add(this._editor.onDidType(y)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>y()))}get state(){return this._state}cancel(S=!1){var y;this._state!==0&&(this._triggerQuickSuggest.cancel(),(y=this._requestToken)===null||y===void 0||y.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:S}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1},!0))}_onCursorChange(S){if(!this._editor.hasModel())return;const y=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!S.selection.isEmpty()||S.reason!==0&&S.reason!==3||S.source!=="keyboard"&&S.source!=="deleteLeft"){this.cancel();return}this._state===0&&S.reason===0?(y.containsRange(this._currentSelection)||y.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&S.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var S;s.QuickSuggestionsOptions.isAllOff(this._editor.getOption(79))||this._editor.getOption(106).snippetsPreventQuickSuggestions&&((S=h.SnippetController2.get(this._editor))===null||S===void 0?void 0:S.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!l.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const y=this._editor.getModel(),w=this._editor.getPosition(),T=this._editor.getOption(79);if(!s.QuickSuggestionsOptions.isAllOff(T)){if(!s.QuickSuggestionsOptions.isAllOn(T)){y.tokenization.tokenizeIfCheap(w.lineNumber);const N=y.tokenization.getLineTokens(w.lineNumber),R=N.getStandardTokenType(N.findTokenIndexAtOffset(Math.max(w.column-1-1,0)));if(s.QuickSuggestionsOptions.valueFor(T,R)!=="on")return}!g(this._editor,this._contextKeyService,this._configurationService)||!this._languageFeaturesService.completionProvider.has(y)||this.trigger({auto:!0,shy:!1})}},this._editor.getOption(80)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const S=this._editor.getModel(),y=this._editor.getPosition(),w=new l(S,y,this._state===2,!1);this._onNewContext(w)})}trigger(S,y=!1,w,T){var N;if(!this._editor.hasModel())return;const R=this._editor.getModel(),B=S.auto,O=new l(R,this._editor.getPosition(),B,S.shy);this.cancel(y),this._state=B?2:1,this._onDidTrigger.fire({auto:B,shy:S.shy,position:this._editor.getPosition()}),this._context=O;let D={triggerKind:(N=S.triggerKind)!==null&&N!==void 0?N:0};S.triggerCharacter&&(D={triggerKind:1,triggerCharacter:S.triggerCharacter}),this._requestToken=new m.CancellationTokenSource;const A=this._editor.getOption(101);let P=1;switch(A){case"top":P=0;break;case"bottom":P=2;break}const{itemKind:F,showDeprecated:W}=Xi._createSuggestFilter(this._editor),M=i.WordDistance.create(this._editorWorkerService,this._editor),z=(0,s.provideSuggestionItems)(this._languageFeaturesService.completionProvider,R,this._editor.getPosition(),new s.CompletionOptions(P,F,w,W),D,this._requestToken.token);Promise.all([z,M]).then(([ee,ie])=>Le(this,void 0,void 0,function*(){var Y;if((Y=this._requestToken)===null||Y===void 0||Y.dispose(),!this._editor.hasModel())return;let X=T==null?void 0:T.clipboardText;if(!X&&ee.needsClipboard&&(X=yield this._clipboardService.readText()),this._state===0)return;const J=this._editor.getModel();let oe=ee.items;if(T){const x=(0,s.getSuggestionComparator)(P);oe=oe.concat(T.items).sort(x)}const G=new l(J,this._editor.getPosition(),B,S.shy);this._completionModel=new c.CompletionModel(oe,this._context.column,{leadingLineContent:G.leadingLineContent,characterCountDelta:G.column-this._context.column},ie,this._editor.getOption(106),this._editor.getOption(101),void 0,X),this._completionDisposables.add(ee.disposable),this._onNewContext(G),this._reportDurationsTelemetry(ee.durations)})).catch(k.onUnexpectedError)}_reportDurationsTelemetry(S){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(S)}),this._logService.debug("suggest.durations.json",S)})}static _createSuggestFilter(S){const y=new Set;S.getOption(101)==="none"&&y.add(27);const T=S.getOption(106);return T.showMethods||y.add(0),T.showFunctions||y.add(1),T.showConstructors||y.add(2),T.showFields||y.add(3),T.showVariables||y.add(4),T.showClasses||y.add(5),T.showStructs||y.add(6),T.showInterfaces||y.add(7),T.showModules||y.add(8),T.showProperties||y.add(9),T.showEvents||y.add(10),T.showOperators||y.add(11),T.showUnits||y.add(12),T.showValues||y.add(13),T.showConstants||y.add(14),T.showEnums||y.add(15),T.showEnumMembers||y.add(16),T.showKeywords||y.add(17),T.showWords||y.add(18),T.showColors||y.add(19),T.showFiles||y.add(20),T.showReferences||y.add(21),T.showColors||y.add(22),T.showFolders||y.add(23),T.showTypeParameters||y.add(24),T.showSnippets||y.add(27),T.showUsers||y.add(25),T.showIssues||y.add(26),{itemKind:y,showDeprecated:T.showDeprecated}}_onNewContext(S){if(!!this._context){if(S.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,_.getLeadingWhitespace)(S.leadingLineContent)!==(0,_.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(S.column<this._context.column){S.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();return}if(!!this._completionModel){if(S.leadingWord.word.length!==0&&S.leadingWord.startColumn>this._context.leadingWord.startColumn){const y=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(let T of this._completionModel.allProvider)y.delete(T);const w=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,y,{items:w,clipboardText:this._completionModel.clipboardText});return}if(S.column>this._context.column&&this._completionModel.incomplete.size>0&&S.leadingWord.word.length!==0){const{incomplete:y}=this._completionModel,w=this._completionModel.adopt(y);this.trigger({auto:this._state===2,shy:!1,triggerKind:2},!0,y,{items:w,clipboardText:this._completionModel.clipboardText})}else{let y=this._completionModel.lineContext,w=!1;if(this._completionModel.lineContext={leadingLineContent:S.leadingLineContent,characterCountDelta:S.column-this._context.column},this._completionModel.items.length===0){if(l.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<S.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=y,w=this._completionModel.items.length>0,w&&S.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:w})}}}}};p=Ie([fe(1,u.IEditorWorkerService),fe(2,n.IClipboardService),fe(3,r.ITelemetryService),fe(4,d.ILogService),fe(5,o.IContextKeyService),fe(6,t.IConfigurationService),fe(7,a.ILanguageFeaturesService)],p),e.SuggestModel=p}),define(re[314],se([1,0,46,18,10,21,13,4,100,2,17,56,19,146,15,61,11,3,22,168,107,289,618,584,26,16,9,69,98,617,480,754,481,740,91,42,118]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g,b,p,C,S,y,w,T,N,R,B,O,D,A,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;let F=!1;class W{constructor(J,oe){if(this._model=J,this._position=oe,J.getLineMaxColumn(oe.lineNumber)!==oe.column){const x=J.getOffsetAt(oe),V=J.getPositionAt(x+1);this._marker=J.deltaDecorations([],[{range:c.Range.fromPositions(oe,V),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(J){if(this._model.isDisposed()||this._position.lineNumber!==J.lineNumber)return 0;if(this._marker){const oe=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(oe.getStartPosition())-this._model.getOffsetAt(J)}else return this._model.getLineMaxColumn(J.lineNumber)-J.column}}let M=class Ji{constructor(J,oe,G,x,V,K,le){this._memoryService=oe,this._commandService=G,this._contextKeyService=x,this._instantiationService=V,this._logService=K,this._telemetryService=le,this._lineSuffix=new u.MutableDisposable,this._toDispose=new u.DisposableStore,this._selectors=new z(Z=>Z.priority),this._telemetryGate=0,this.editor=J,this.model=V.createInstance(R.SuggestModel,this.editor);const ae=w.Context.InsertMode.bindTo(x);ae.set(J.getOption(106).insertMode),this.model.onDidTrigger(()=>ae.set(J.getOption(106).insertMode)),this.widget=this._toDispose.add(new k.IdleValue(()=>{const Z=this._instantiationService.createInstance(O.SuggestWidget,this.editor);this._toDispose.add(Z),this._toDispose.add(Z.onDidSelect(ne=>this._insertSuggestion(ne,0),this));const j=new N.CommitCharacterController(this.editor,Z,ne=>this._insertSuggestion(ne,2));this._toDispose.add(j),this._toDispose.add(this.model.onDidSuggest(ne=>{ne.completionModel.items.length===0&&j.reset()}));const $=w.Context.MakesTextEdit.bindTo(this._contextKeyService),H=w.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),te=w.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,u.toDisposable)(()=>{$.reset(),H.reset(),te.reset()})),this._toDispose.add(Z.onDidFocus(({item:ne})=>{const de=this.editor.getPosition(),he=ne.editStart.column,pe=de.column;let ve=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!ne.completion.additionalTextEdits&&!(ne.completion.insertTextRules&4)&&pe-he===ne.completion.insertText.length&&(ve=this.editor.getModel().getValueInRange({startLineNumber:de.lineNumber,startColumn:he,endLineNumber:de.lineNumber,endColumn:pe})!==ne.completion.insertText),$.set(ve),H.set(!r.Position.equals(ne.editInsertEnd,ne.editReplaceEnd)),te.set(Boolean(ne.provider.resolveCompletionItem)||Boolean(ne.completion.documentation)||ne.completion.detail!==ne.completion.label)})),this._toDispose.add(Z.onDetailsKeyDown(ne=>{if(ne.toKeybinding().equals(new v.SimpleKeybinding(!0,!1,!1,!1,33))||h.isMacintosh&&ne.toKeybinding().equals(new v.SimpleKeybinding(!1,!1,!1,!0,33))){ne.stopPropagation();return}ne.toKeybinding().isModifierKey()||this.editor.focus()})),Z})),this._overtypingCapturer=this._toDispose.add(new k.IdleValue(()=>this._toDispose.add(new B.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new k.IdleValue(()=>this._toDispose.add(new T.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(V.createInstance(g.WordContextKey,J)),this._toDispose.add(this.model.onDidTrigger(Z=>{this.widget.value.showTriggered(Z.auto,Z.shy?250:50),this._lineSuffix.value=new W(this.editor.getModel(),Z.position)})),this._toDispose.add(this.model.onDidSuggest(Z=>{if(!Z.shy){let j=-1;for(const $ of this._selectors.itemsOrderedByPriorityDesc)if(j=$.select(this.editor.getModel(),this.editor.getPosition(),Z.completionModel.items),j!==-1)break;j===-1&&(j=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),Z.completionModel.items)),this.widget.value.showSuggestions(Z.completionModel,j,Z.isFrozen,Z.auto)}})),this._toDispose.add(this.model.onDidCancel(Z=>{Z.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{F||(this.model.cancel(),this.model.clear())}));let Q=w.Context.AcceptSuggestionsOnEnter.bindTo(x),q=()=>{const Z=this.editor.getOption(1);Q.set(Z==="on"||Z==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>q())),q()}static get(J){return J.getContribution(Ji.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(J,oe){if(!J||!J.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const G=a.SnippetController2.get(this.editor);if(!G)return;const x=this.editor.getModel(),V=x.getAlternativeVersionId(),{item:K}=J,le=[],ae=new I.CancellationTokenSource;oe&1||this.editor.pushUndoStop();const Q=this.getOverwriteInfo(K,Boolean(oe&8));if(this._memoryService.memorize(x,this.editor.getPosition(),K),Array.isArray(K.completion.additionalTextEdits)){const Z=t.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",K.completion.additionalTextEdits.map(j=>d.EditOperation.replaceMove(c.Range.lift(j.range),j.text))),Z.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!K.isResolved){const Z=new i.StopWatch(!0);let j;const $=x.onDidChangeContent(de=>{if(de.isFlush){ae.cancel(),$.dispose();return}for(let he of de.changes){const pe=c.Range.getEndPosition(he.range);(!j||r.Position.isBefore(pe,j))&&(j=pe)}});let H=oe;oe|=2;let te=!1,ne=this.editor.onWillType(()=>{ne.dispose(),te=!0,H&2||this.editor.pushUndoStop()});le.push(K.resolve(ae.token).then(()=>{if(!K.completion.additionalTextEdits||ae.token.isCancellationRequested||j&&K.completion.additionalTextEdits.some(he=>r.Position.isBefore(j,c.Range.getStartPosition(he.range))))return!1;te&&this.editor.pushUndoStop();const de=t.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",K.completion.additionalTextEdits.map(he=>d.EditOperation.replaceMove(c.Range.lift(he.range),he.text))),de.restoreRelativeVerticalPositionOfCursor(this.editor),(te||!(H&2))&&this.editor.pushUndoStop(),!0}).then(de=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",Z.elapsed(),de),$.dispose(),ne.dispose()}))}let{insertText:q}=K.completion;K.completion.insertTextRules&4||(q=l.SnippetParser.escape(q)),G.insert(q,{overwriteBefore:Q.overwriteBefore,overwriteAfter:Q.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(K.completion.insertTextRules&1),clipboardText:J.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),oe&2||this.editor.pushUndoStop(),K.completion.command?K.completion.command.id===ee.id?this.model.trigger({auto:!0,shy:!1},!0):(le.push(this._commandService.executeCommand(K.completion.command.id,...K.completion.command.arguments?[...K.completion.command.arguments]:[]).catch(L.onUnexpectedError)),this.model.cancel()):this.model.cancel(),oe&4&&this._alternatives.value.set(J,Z=>{for(ae.cancel();x.canUndo();){V!==x.getAlternativeVersionId()&&x.undo(),this._insertSuggestion(Z,1|2|(oe&8?8:0));break}}),this._alertCompletionItem(K),Promise.all(le).finally(()=>{this._reportSuggestionAcceptedTelemetry(K,x,J),this.model.clear(),ae.dispose()})}_reportSuggestionAcceptedTelemetry(J,oe,G){var x;if(this._telemetryGate++%100!=0)return;const V=J.extensionId?J.extensionId.value:((x=G.item.provider._debugDisplayName)!==null&&x!==void 0?x:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:V,kind:J.completion.kind,basenameHash:(0,P.hash)((0,A.basename)(oe.uri)).toString(16),languageId:oe.getLanguageId(),fileExtension:(0,A.extname)(oe.uri)})}getOverwriteInfo(J,oe){(0,n.assertType)(this.editor.hasModel());let G=this.editor.getOption(106).insertMode==="replace";oe&&(G=!G);const x=J.position.column-J.editStart.column,V=(G?J.editReplaceEnd.column:J.editInsertEnd.column)-J.position.column,K=this.editor.getPosition().column-J.position.column,le=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:x+K,overwriteAfter:V+le}}_alertCompletionItem(J){if((0,m.isNonEmptyArray)(J.completion.additionalTextEdits)){let oe=b.localize(0,null,J.textLabel,J.completion.additionalTextEdits.length);(0,E.alert)(oe)}}triggerSuggest(J,oe){this.editor.hasModel()&&(this.model.trigger({auto:oe??!1,shy:!1},!1,J),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(J){if(!this.editor.hasModel())return;const oe=this.editor.getPosition(),G=()=>{oe.equals(this.editor.getPosition())&&this._commandService.executeCommand(J.fallback)},x=V=>{if(V.completion.insertTextRules&4||V.completion.additionalTextEdits)return!0;const K=this.editor.getPosition(),le=V.editStart.column,ae=K.column;return ae-le!==V.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:K.lineNumber,startColumn:le,endLineNumber:K.lineNumber,endColumn:ae})!==V.completion.insertText};_.Event.once(this.model.onDidTrigger)(V=>{let K=[];_.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,u.dispose)(K),G()},void 0,K),this.model.onDidSuggest(({completionModel:le})=>{if((0,u.dispose)(K),le.items.length===0){G();return}const ae=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),le.items),Q=le.items[ae];if(!x(Q)){G();return}this.editor.pushUndoStop(),this._insertSuggestion({index:ae,item:Q,model:le},4|1|2)},void 0,K)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(oe,0),this.editor.focus()}acceptSelectedSuggestion(J,oe){const G=this.widget.value.getFocusedItem();let x=0;J&&(x|=4),oe&&(x|=8),this._insertSuggestion(G,x)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(J){return this._selectors.register(J)}};M.ID="editor.contrib.suggestController",M=Ie([fe(1,f.ISuggestMemoryService),fe(2,p.ICommandService),fe(3,C.IContextKeyService),fe(4,S.IInstantiationService),fe(5,y.ILogService),fe(6,D.ITelemetryService)],M),e.SuggestController=M;class z{constructor(J){this.prioritySelector=J,this._items=new Array}register(J){if(this._items.indexOf(J)!==-1)throw new Error("Value is already registered");return this._items.push(J),this._items.sort((oe,G)=>this.prioritySelector(G)-this.prioritySelector(oe)),{dispose:()=>{const oe=this._items.indexOf(J);oe>=0&&this._items.splice(oe,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class ee extends o.EditorAction{constructor(){super({id:ee.id,label:b.localize(1,null),alias:"Trigger Suggest",precondition:C.ContextKeyExpr.and(s.EditorContextKeys.writable,s.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[512|9,2048|39]},weight:100}})}run(J,oe,G){const x=M.get(oe);if(!x)return;let V;G&&typeof G=="object"&&G.auto===!0&&(V=!0),x.triggerSuggest(void 0,V)}}e.TriggerSuggestAction=ee,ee.id="editor.action.triggerSuggest",(0,o.registerEditorContribution)(M.ID,M),(0,o.registerEditorAction)(ee);const ie=100+90,Y=o.EditorCommand.bindToContribution(M.get);(0,o.registerEditorCommand)(new Y({id:"acceptSelectedSuggestion",precondition:w.Context.Visible,handler(X){X.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:C.ContextKeyExpr.and(w.Context.Visible,s.EditorContextKeys.textInputFocus),weight:ie},{primary:3,kbExpr:C.ContextKeyExpr.and(w.Context.Visible,s.EditorContextKeys.textInputFocus,w.Context.AcceptSuggestionsOnEnter,w.Context.MakesTextEdit),weight:ie}],menuOpts:[{menuId:w.suggestWidgetStatusbarMenu,title:b.localize(2,null),group:"left",order:1,when:w.Context.HasInsertAndReplaceRange.toNegated()},{menuId:w.suggestWidgetStatusbarMenu,title:b.localize(3,null),group:"left",order:1,when:C.ContextKeyExpr.and(w.Context.HasInsertAndReplaceRange,w.Context.InsertMode.isEqualTo("insert"))},{menuId:w.suggestWidgetStatusbarMenu,title:b.localize(4,null),group:"left",order:1,when:C.ContextKeyExpr.and(w.Context.HasInsertAndReplaceRange,w.Context.InsertMode.isEqualTo("replace"))}]})),(0,o.registerEditorCommand)(new Y({id:"acceptAlternativeSelectedSuggestion",precondition:C.ContextKeyExpr.and(w.Context.Visible,s.EditorContextKeys.textInputFocus),kbOpts:{weight:ie,kbExpr:s.EditorContextKeys.textInputFocus,primary:1024|3,secondary:[1024|2]},handler(X){X.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:w.suggestWidgetStatusbarMenu,group:"left",order:2,when:C.ContextKeyExpr.and(w.Context.HasInsertAndReplaceRange,w.Context.InsertMode.isEqualTo("insert")),title:b.localize(5,null)},{menuId:w.suggestWidgetStatusbarMenu,group:"left",order:2,when:C.ContextKeyExpr.and(w.Context.HasInsertAndReplaceRange,w.Context.InsertMode.isEqualTo("replace")),title:b.localize(6,null)}]})),p.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,o.registerEditorCommand)(new Y({id:"hideSuggestWidget",precondition:w.Context.Visible,handler:X=>X.cancelSuggestWidget(),kbOpts:{weight:ie,kbExpr:s.EditorContextKeys.textInputFocus,primary:9,secondary:[1024|9]}})),(0,o.registerEditorCommand)(new Y({id:"selectNextSuggestion",precondition:C.ContextKeyExpr.and(w.Context.Visible,w.Context.MultipleSuggestions),handler:X=>X.selectNextSuggestion(),kbOpts:{weight:ie,kbExpr:s.EditorContextKeys.textInputFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}})),(0,o.registerEditorCommand)(new Y({id:"selectNextPageSuggestion",precondition:C.ContextKeyExpr.and(w.Context.Visible,w.Context.MultipleSuggestions),handler:X=>X.selectNextPageSuggestion(),kbOpts:{weight:ie,kbExpr:s.EditorContextKeys.textInputFocus,primary:12,secondary:[2048|12]}})),(0,o.registerEditorCommand)(new Y({id:"selectLastSuggestion",precondition:C.ContextKeyExpr.and(w.Context.Visible,w.Context.MultipleSuggestions),handler:X=>X.selectLastSuggestion()})),(0,o.registerEditorCommand)(new Y({id:"selectPrevSuggestion",precondition:C.ContextKeyExpr.and(w.Context.Visible,w.Context.MultipleSuggestions),handler:X=>X.selectPrevSuggestion(),kbOpts:{weight:ie,kbExpr:s.EditorContextKeys.textInputFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}})),(0,o.registerEditorCommand)(new Y({id:"selectPrevPageSuggestion",precondition:C.ContextKeyExpr.and(w.Context.Visible,w.Context.MultipleSuggestions),handler:X=>X.selectPrevPageSuggestion(),kbOpts:{weight:ie,kbExpr:s.EditorContextKeys.textInputFocus,primary:11,secondary:[2048|11]}})),(0,o.registerEditorCommand)(new Y({id:"selectFirstSuggestion",precondition:C.ContextKeyExpr.and(w.Context.Visible,w.Context.MultipleSuggestions),handler:X=>X.selectFirstSuggestion()})),(0,o.registerEditorCommand)(new Y({id:"toggleSuggestionDetails",precondition:w.Context.Visible,handler:X=>X.toggleSuggestionDetails(),kbOpts:{weight:ie,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|10,secondary:[2048|39],mac:{primary:256|10,secondary:[2048|39]}},menuOpts:[{menuId:w.suggestWidgetStatusbarMenu,group:"right",order:1,when:C.ContextKeyExpr.and(w.Context.DetailsVisible,w.Context.CanResolve),title:b.localize(7,null)},{menuId:w.suggestWidgetStatusbarMenu,group:"right",order:1,when:C.ContextKeyExpr.and(w.Context.DetailsVisible.toNegated(),w.Context.CanResolve),title:b.localize(8,null)}]})),(0,o.registerEditorCommand)(new Y({id:"toggleExplainMode",precondition:w.Context.Visible,handler:X=>X.toggleExplainMode(),kbOpts:{weight:100,primary:2048|85}})),(0,o.registerEditorCommand)(new Y({id:"toggleSuggestionFocus",precondition:w.Context.Visible,handler:X=>X.toggleSuggestionFocus(),kbOpts:{weight:ie,kbExpr:s.EditorContextKeys.textInputFocus,primary:2048|512|10,mac:{primary:256|512|10}}})),(0,o.registerEditorCommand)(new Y({id:"insertBestCompletion",precondition:C.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,C.ContextKeyExpr.equals("config.editor.tabCompletion","on"),g.WordContextKey.AtEnd,w.Context.Visible.toNegated(),T.SuggestAlternatives.OtherSuggestions.toNegated(),a.SnippetController2.InSnippetMode.toNegated()),handler:(X,J)=>{X.triggerSuggestAndAcceptBest((0,n.isObject)(J)?Object.assign({fallback:"tab"},J):{fallback:"tab"})},kbOpts:{weight:ie,primary:2}})),(0,o.registerEditorCommand)(new Y({id:"insertNextSuggestion",precondition:C.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,C.ContextKeyExpr.equals("config.editor.tabCompletion","on"),T.SuggestAlternatives.OtherSuggestions,w.Context.Visible.toNegated(),a.SnippetController2.InSnippetMode.toNegated()),handler:X=>X.acceptNextSuggestion(),kbOpts:{weight:ie,kbExpr:s.EditorContextKeys.textInputFocus,primary:2}})),(0,o.registerEditorCommand)(new Y({id:"insertPrevSuggestion",precondition:C.ContextKeyExpr.and(s.EditorContextKeys.textInputFocus,C.ContextKeyExpr.equals("config.editor.tabCompletion","on"),T.SuggestAlternatives.OtherSuggestions,w.Context.Visible.toNegated(),a.SnippetController2.InSnippetMode.toNegated()),handler:X=>X.acceptPrevSuggestion(),kbOpts:{weight:ie,kbExpr:s.EditorContextKeys.textInputFocus,primary:1024|2}})),(0,o.registerEditorAction)(class extends o.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:b.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(X,J){var oe;(oe=M.get(J))===null||oe===void 0||oe.resetWidgetSize()}})}),define(re[755],se([1,0,18,10,4,2,11,3,107,312,314,197]),function(U,e,E,m,k,I,L,_,v,u,h,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rangeStartsWith=e.SuggestWidgetInlineCompletionProvider=void 0;class n extends I.Disposable{constructor(c,s){super();this.editor=c,this.suggestControllerPreselector=s,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new k.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new m.RunOnceScheduler(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(c.onKeyDown(l=>{l.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(c.onKeyUp(l=>{l.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const a=h.SuggestController.get(this.editor);if(a){this._register(a.registerSelector({priority:100,select:(g,b,p)=>{const C=this.editor.getModel(),S=(0,i.minimizeInlineCompletion)(C,this.suggestControllerPreselector());if(!S)return-1;const y=L.Position.lift(b),w=p.map((N,R)=>{const B=d(a,y,N,this.isShiftKeyPressed),O=(0,i.minimizeInlineCompletion)(C,B==null?void 0:B.normalizedInlineCompletion);if(!O)return;const D=t(S.range,O.range)&&S.insertText.startsWith(O.insertText);return{index:R,valid:D,prefixLength:O.insertText.length,suggestItem:N}}).filter(N=>N&&N.valid),T=(0,E.findMaxBy)(w,(0,E.compareBy)(N=>N.prefixLength,E.numberComparator));return T?T.index:-1}}));let l=!1;const f=()=>{l||(l=!0,this._register(a.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(a.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(a.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(k.Event.once(a.model.onDidTrigger)(g=>{f()}))}this.update(this._isActive)}get state(){if(!!this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(c){const s=this.getSuggestItemInfo();let a=!1;o(this._currentSuggestItemInfo,s)||(this._currentSuggestItemInfo=s,a=!0),this._isActive!==c&&(this._isActive=c,a=!0),a&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const c=h.SuggestController.get(this.editor);if(!c||!this.isSuggestWidgetVisible)return;const s=c.widget.value.getFocusedItem();if(!!s)return d(c,this.editor.getPosition(),s.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const c=h.SuggestController.get(this.editor);c&&c.stopForceRenderingAbove()}forceRenderingAbove(){const c=h.SuggestController.get(this.editor);c&&c.forceRenderingAbove()}}e.SuggestWidgetInlineCompletionProvider=n;function t(r,c){return c.startLineNumber===r.startLineNumber&&c.startColumn===r.startColumn&&(c.endLineNumber<r.endLineNumber||c.endLineNumber===r.endLineNumber&&c.endColumn<=r.endColumn)}e.rangeStartsWith=t;function o(r,c){return r===c?!0:!r||!c?!1:r.completionItemKind===c.completionItemKind&&r.isSnippetText===c.isSnippetText&&(0,i.normalizedInlineCompletionsEquals)(r.normalizedInlineCompletion,c.normalizedInlineCompletion)}function d(r,c,s,a){if(Array.isArray(s.completion.additionalTextEdits)&&s.completion.additionalTextEdits.length>0)return{completionItemKind:s.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:_.Range.fromPositions(c,c),insertText:"",filterText:"",snippetInfo:void 0,additionalTextEdits:[]}};let{insertText:l}=s.completion,f=!1;if(s.completion.insertTextRules&4){const b=new v.SnippetParser().parse(l),p=r.editor.getModel();if(b.children.length>100)return;u.SnippetSession.adjustWhitespace(p,c,b,!0,!0),l=b.toString(),f=!0}const g=r.getOverwriteInfo(s,a);return{isSnippetText:f,completionItemKind:s.completion.kind,normalizedInlineCompletion:{insertText:l,filterText:l,range:_.Range.fromPositions(c.delta(0,-g.overwriteBefore),c.delta(0,Math.max(g.overwriteAfter,0))),snippetInfo:void 0,additionalTextEdits:[]}}}}),define(re[756],se([1,0,10,13,2,27,20,157,313,197,755]),function(U,e,E,m,k,I,L,_,v,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetPreviewModel=void 0;let i=class extends _.BaseGhostTextWidgetModel{constructor(o,d,r){super(o);this.cache=d,this.languageFeaturesService=r,this.suggestionInlineCompletionSource=this._register(new h.SuggestWidgetInlineCompletionProvider(this.editor,()=>{var c,s;return(s=(c=this.cache.value)===null||c===void 0?void 0:c.completions[0])===null||s===void 0?void 0:s.toLiveInlineCompletion()})),this.updateOperation=this._register(new k.MutableDisposable),this.updateCacheSoon=this._register(new E.RunOnceScheduler(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{if(!this.editor.hasModel())return;this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const s=this.ghostText;s&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,n(s.parts.map(a=>a.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(c=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,k.toDisposable)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(106).preview}updateCache(){return Le(this,void 0,void 0,function*(){const o=this.suggestionInlineCompletionSource.state;if(!o||!o.selectedItem)return;const d={text:o.selectedItem.normalizedInlineCompletion.insertText,range:o.selectedItem.normalizedInlineCompletion.range,isSnippetText:o.selectedItem.isSnippetText,completionKind:o.selectedItem.completionItemKind},r=this.editor.getPosition();if(o.selectedItem.isSnippetText||o.selectedItem.completionItemKind===27||o.selectedItem.completionItemKind===20||o.selectedItem.completionItemKind===23){this.cache.clear();return}const c=(0,E.createCancelablePromise)(a=>Le(this,void 0,void 0,function*(){let l;try{l=yield(0,v.provideInlineCompletions)(this.languageFeaturesService.inlineCompletionsProvider,r,this.editor.getModel(),{triggerKind:I.InlineCompletionTriggerKind.Automatic,selectedSuggestionInfo:d},a)}catch(f){(0,m.onUnexpectedError)(f);return}if(a.isCancellationRequested){l.dispose();return}this.cache.setValue(this.editor,l,I.InlineCompletionTriggerKind.Automatic),this.onDidChangeEmitter.fire()})),s=new v.UpdateOperation(c,I.InlineCompletionTriggerKind.Automatic);this.updateOperation.value=s,yield c,this.updateOperation.value===s&&this.updateOperation.clear()})}get ghostText(){var o,d,r;const c=this.isSuggestionPreviewEnabled(),s=this.editor.getModel(),a=(0,u.minimizeInlineCompletion)(s,(d=(o=this.cache.value)===null||o===void 0?void 0:o.completions[0])===null||d===void 0?void 0:d.toLiveInlineCompletion()),l=this.suggestionInlineCompletionSource.state,f=(0,u.minimizeInlineCompletion)(s,(r=l==null?void 0:l.selectedItem)===null||r===void 0?void 0:r.normalizedInlineCompletion),g=a&&f&&a.insertText.startsWith(f.insertText)&&a.range.equalsRange(f.range);if(!c&&!g)return;const b=g?a:f||a,p=g?b.insertText.length-f.insertText.length:0;return this.toGhostText(b,p)}toGhostText(o,d){const r=this.editor.getOptions().get(106).previewMode;return o?(0,u.inlineCompletionToGhostText)(o,this.editor.getModel(),r,this.editor.getPosition(),d)||new _.GhostText(o.range.endLineNumber,[],this.minReservedLineCount):void 0}};i=Ie([fe(2,L.ILanguageFeaturesService)],i),e.SuggestWidgetPreviewModel=i;function n(t){return t.reduce((o,d)=>o+d,0)}}),define(re[757],se([1,0,4,2,11,27,313,756,196,9]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SharedInlineCompletionCache=e.GhostTextModel=e.DelegatingModel=void 0;class h extends m.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new E.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new m.MutableDisposable)}get targetModel(){var o;return(o=this.currentModelRef.value)===null||o===void 0?void 0:o.object}setTargetModel(o){var d;((d=this.currentModelRef.value)===null||d===void 0?void 0:d.object)!==o&&(this.currentModelRef.clear(),this.currentModelRef.value=o?(0,v.createDisposableRef)(o,o.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var o,d;return this.hasCachedGhostText||(this.cachedGhostText=(d=(o=this.currentModelRef.value)===null||o===void 0?void 0:o.object)===null||d===void 0?void 0:d.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(o){var d;(d=this.targetModel)===null||d===void 0||d.setExpanded(o)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}e.DelegatingModel=h;let i=class extends h{constructor(o,d){super();this.editor=o,this.instantiationService=d,this.sharedCache=this._register(new n),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(_.SuggestWidgetPreviewModel,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(L.InlineCompletionsModel,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(o){var d;const r=(d=this.activeInlineCompletionsModel)===null||d===void 0?void 0:d.ghostText;return r?r.parts.some(c=>o.containsPosition(new k.Position(r.lineNumber,c.column))):!1}triggerInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.trigger(I.InlineCompletionTriggerKind.Explicit)}commitInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.commitCurrentSuggestion()}hideInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.hide()}showNextInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.showNext()}showPreviousInlineCompletion(){var o;(o=this.activeInlineCompletionsModel)===null||o===void 0||o.showPrevious()}hasMultipleInlineCompletions(){var o;return Le(this,void 0,void 0,function*(){const d=yield(o=this.activeInlineCompletionsModel)===null||o===void 0?void 0:o.hasMultipleInlineCompletions();return d!==void 0?d:!1})}};i=Ie([fe(1,u.IInstantiationService)],i),e.GhostTextModel=i;class n extends m.Disposable{constructor(){super(...arguments);this.onDidChangeEmitter=new E.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new m.MutableDisposable)}get value(){return this.cache.value}setValue(o,d,r){this.cache.value=new L.SynchronizedInlineCompletionsCache(d,o,()=>this.onDidChangeEmitter.fire(),r)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}e.SharedInlineCompletionCache=n}),define(re[315],se([1,0,4,2,8,15,73,22,757,669,565,16,9]),function(U,e,E,m,k,I,L,_,v,u,h,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=e.ActiveGhostTextController=e.GhostTextController=void 0;let t=class en extends m.Disposable{constructor(l,f){super();this.editor=l,this.instantiationService=f,this.triggeredExplicitly=!1,this.activeController=this._register(new m.MutableDisposable),this.activeModelDidChangeEmitter=this._register(new E.Emitter),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(g=>{g.hasChanged(106)&&this.updateModelController(),g.hasChanged(55)&&this.updateModelController()})),this.updateModelController()}static get(l){return l.getContribution(en.ID)}get activeModel(){var l;return(l=this.activeController.value)===null||l===void 0?void 0:l.model}updateModelController(){const l=this.editor.getOption(106),f=this.editor.getOption(55);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(l.preview||f.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(d,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt(l){var f;return((f=this.activeModel)===null||f===void 0?void 0:f.shouldShowHoverAt(l))||!1}shouldShowHoverAtViewZone(l){var f,g;return((g=(f=this.activeController.value)===null||f===void 0?void 0:f.widget)===null||g===void 0?void 0:g.shouldShowHoverAtViewZone(l))||!1}trigger(){var l;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(l=this.activeModel)===null||l===void 0||l.triggerInlineCompletion()}commit(){var l;(l=this.activeModel)===null||l===void 0||l.commitInlineCompletion()}hide(){var l;(l=this.activeModel)===null||l===void 0||l.hideInlineCompletion()}showNextInlineCompletion(){var l;(l=this.activeModel)===null||l===void 0||l.showNextInlineCompletion()}showPreviousInlineCompletion(){var l;(l=this.activeModel)===null||l===void 0||l.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var l;return Le(this,void 0,void 0,function*(){const f=yield(l=this.activeModel)===null||l===void 0?void 0:l.hasMultipleInlineCompletions();return f!==void 0?f:!1})}};t.inlineSuggestionVisible=new i.RawContextKey("inlineSuggestionVisible",!1,h.localize(0,null)),t.inlineSuggestionHasIndentation=new i.RawContextKey("inlineSuggestionHasIndentation",!1,h.localize(1,null)),t.inlineSuggestionHasIndentationLessThanTabSize=new i.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,h.localize(2,null)),t.ID="editor.contrib.ghostTextController",t=Ie([fe(1,n.IInstantiationService)],t),e.GhostTextController=t;class o{constructor(l){this.contextKeyService=l,this.inlineCompletionVisible=t.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=t.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=t.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let d=class extends m.Disposable{constructor(l,f,g){super();this.editor=l,this.instantiationService=f,this.contextKeyService=g,this.contextKeys=new o(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(v.GhostTextModel,this.editor)),this.widget=this._register(this.instantiationService.createInstance(u.GhostTextWidget,this.editor,this.model)),this._register((0,m.toDisposable)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var l;this.contextKeys.inlineCompletionVisible.set(((l=this.model.activeInlineCompletionsModel)===null||l===void 0?void 0:l.ghostText)!==void 0);let f=!1,g=!0;const b=this.model.inlineCompletionsModel.ghostText;if(!!this.model.activeInlineCompletionsModel&&b&&b.parts.length>0){const{column:p,lines:C}=b.parts[0],S=C[0],y=this.editor.getModel().getLineIndentColumn(b.lineNumber);if(p<=y){let T=(0,k.firstNonWhitespaceIndex)(S);T===-1&&(T=S.length-1),f=T>0;const N=this.editor.getModel().getOptions().tabSize;g=L.CursorColumns.visibleColumnFromColumn(S,T+1,N)<N}}this.contextKeys.inlineCompletionSuggestsIndentation.set(f),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(g)}};d=Ie([fe(1,n.IInstantiationService),fe(2,i.IContextKeyService)],d),e.ActiveGhostTextController=d;class r extends I.EditorAction{constructor(){super({id:r.ID,label:h.localize(3,null),alias:"Show Next Inline Suggestion",precondition:i.ContextKeyExpr.and(_.EditorContextKeys.writable,t.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|89}})}run(l,f){return Le(this,void 0,void 0,function*(){const g=t.get(f);g&&(g.showNextInlineCompletion(),f.focus())})}}e.ShowNextInlineSuggestionAction=r,r.ID="editor.action.inlineSuggest.showNext";class c extends I.EditorAction{constructor(){super({id:c.ID,label:h.localize(4,null),alias:"Show Previous Inline Suggestion",precondition:i.ContextKeyExpr.and(_.EditorContextKeys.writable,t.inlineSuggestionVisible),kbOpts:{weight:100,primary:512|87}})}run(l,f){return Le(this,void 0,void 0,function*(){const g=t.get(f);g&&(g.showPreviousInlineCompletion(),f.focus())})}}e.ShowPreviousInlineSuggestionAction=c,c.ID="editor.action.inlineSuggest.showPrevious";class s extends I.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:h.localize(5,null),alias:"Trigger Inline Suggestion",precondition:_.EditorContextKeys.writable})}run(l,f){return Le(this,void 0,void 0,function*(){const g=t.get(f);g&&g.trigger()})}}e.TriggerInlineSuggestionAction=s}),define(re[758],se([1,0,7,65,2,111,3,37,87,315,566,68,39,26,16,50,195]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class c{constructor(l,f,g){this.owner=l,this.range=f,this.controller=g}isValidForHoverAnchor(l){return l.type===1&&this.range.startColumn<=l.range.startColumn&&this.range.endColumn>=l.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}get commands(){var l,f,g;return((g=(f=(l=this.controller.activeModel)===null||l===void 0?void 0:l.activeInlineCompletionsModel)===null||f===void 0?void 0:f.completionSession.value)===null||g===void 0?void 0:g.commands)||[]}}e.InlineCompletionsHover=c;let s=class{constructor(l,f,g,b,p,C,S){this._editor=l,this._commandService=f,this._menuService=g,this._contextKeyService=b,this._languageService=p,this._openerService=C,this.accessibilityService=S,this.hoverOrdinal=3}suggestHoverAnchor(l){const f=u.GhostTextController.get(this._editor);if(!f)return null;const g=l.target;if(g.type===8){const b=g.detail;if(f.shouldShowHoverAtViewZone(b.viewZoneId))return new v.HoverForeignElementAnchor(1e3,this,L.Range.fromPositions(b.positionBefore||b.position,b.positionBefore||b.position))}return g.type===7&&f.shouldShowHoverAt(g.range)?new v.HoverForeignElementAnchor(1e3,this,g.range):g.type===6&&g.detail.mightBeForeignElement&&f.shouldShowHoverAt(g.range)?new v.HoverForeignElementAnchor(1e3,this,g.range):null}computeSync(l,f){const g=u.GhostTextController.get(this._editor);return g&&g.shouldShowHoverAt(l.range)?[new c(this,l.range,g)]:[]}renderHoverParts(l,f){const g=new k.DisposableStore,b=f[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(l,b,g);const p=g.add(this._menuService.createMenu(n.MenuId.InlineCompletionsActions,this._contextKeyService)),C=l.statusBar.addAction({label:h.localize(0,null),commandId:u.ShowNextInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(u.ShowNextInlineSuggestionAction.ID)}),S=l.statusBar.addAction({label:h.localize(1,null),commandId:u.ShowPreviousInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(u.ShowPreviousInlineSuggestionAction.ID)});l.statusBar.addAction({label:h.localize(2,null),commandId:r.inlineSuggestCommitId,run:()=>this._commandService.executeCommand(r.inlineSuggestCommitId)});const y=[C,S];for(const w of y)w.setEnabled(!1);b.hasMultipleSuggestions().then(w=>{for(const T of y)T.setEnabled(w)});for(const w of b.commands)l.statusBar.addAction({label:w.title,commandId:w.id,run:()=>this._commandService.executeCommand(w.id,...w.arguments||[])});for(const[w,T]of p.getActions())for(const N of T)N instanceof n.MenuItemAction&&l.statusBar.addAction({label:N.label,commandId:N.item.id,run:()=>this._commandService.executeCommand(N.item.id)});return g}renderScreenReaderText(l,f,g){var b,p;const C=E.$,S=C("div.hover-row.markdown-hover"),y=E.append(S,C("div.hover-contents")),w=g.add(new I.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService)),T=R=>{g.add(w.onDidRenderAsync(()=>{y.className="hover-contents code-hover-contents",l.onContentsChanged()}));const B=h.localize(3,null),O=g.add(w.render(new m.MarkdownString().appendText(B).appendCodeblock("text",R)));y.replaceChildren(O.element)},N=(p=(b=f.controller.activeModel)===null||b===void 0?void 0:b.inlineCompletionsModel)===null||p===void 0?void 0:p.ghostText;if(N){const R=this._editor.getModel().getLineContent(N.lineNumber);T(N.renderForScreenReader(R))}l.fragment.appendChild(S)}};s=Ie([fe(1,t.ICommandService),fe(2,n.IMenuService),fe(3,o.IContextKeyService),fe(4,_.ILanguageService),fe(5,d.IOpenerService),fe(6,i.IAccessibilityService)],s),e.InlineCompletionsHoverParticipant=s}),define(re[759],se([1,0,15,22,87,195,315,758,16,90]),function(U,e,E,m,k,I,L,_,v,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.commitInlineSuggestionAction=void 0,(0,E.registerEditorContribution)(L.GhostTextController.ID,L.GhostTextController),(0,E.registerEditorAction)(L.TriggerInlineSuggestionAction),(0,E.registerEditorAction)(L.ShowNextInlineSuggestionAction),(0,E.registerEditorAction)(L.ShowPreviousInlineSuggestionAction),k.HoverParticipantRegistry.register(_.InlineCompletionsHoverParticipant);const h=E.EditorCommand.bindToContribution(L.GhostTextController.get);e.commitInlineSuggestionAction=new h({id:I.inlineSuggestCommitId,precondition:L.GhostTextController.inlineSuggestionVisible,handler(i){i.commit(),i.editor.focus()}}),(0,E.registerEditorCommand)(e.commitInlineSuggestionAction),u.KeybindingsRegistry.registerKeybindingRule({primary:2,weight:200,id:e.commitInlineSuggestionAction.id,when:v.ContextKeyExpr.and(e.commitInlineSuggestionAction.precondition,m.EditorContextKeys.tabMovesFocus.toNegated(),L.GhostTextController.inlineSuggestionHasIndentationLessThanTabSize)}),(0,E.registerEditorCommand)(new h({id:"editor.action.inlineSuggest.hide",precondition:L.GhostTextController.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(i){i.hide()}}))}),define(re[316],se([1,0,9]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustManagementService=void 0,e.IWorkspaceTrustManagementService=(0,E.createDecorator)("workspaceTrustManagementService")}),define(re[760],se([1,0,10,28,65,2,17,8,15,33,36,253,89,37,276,87,212,719,592,35,9,50,82,77,316,399]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g,b,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.DisableHighlightingInStringsAction=e.DisableHighlightingInCommentsAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,b.registerIcon)("extensions-warning-message",m.Codicon.warning,s.localize(0,null));let C=class extends I.Disposable{constructor(J,oe,G,x){super();this._editor=J,this._editorWorkerService=oe,this._workspaceTrustService=G,this._highlighter=null,this._bannerClosed=!1,this._updateState=V=>{if(V&&V.hasMore){if(this._bannerClosed)return;const K=Math.max(V.ambiguousCharacterCount,V.nonBasicAsciiCharacterCount,V.invisibleCharacterCount);let le;if(V.nonBasicAsciiCharacterCount>=K)le={message:s.localize(1,null),command:new M};else if(V.ambiguousCharacterCount>=K)le={message:s.localize(2,null),command:new F};else if(V.invisibleCharacterCount>=K)le={message:s.localize(3,null),command:new W};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:le.message,icon:e.warningIcon,actions:[{label:le.command.shortLabel,href:`command:${le.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(x.createInstance(c.BannerController,J)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=J.getOption(113),this._register(G.onDidChangeTrust(V=>{this._updateHighlighter()})),this._register(J.onDidChangeConfiguration(V=>{V.hasChanged(113)&&(this._options=J.getOption(113),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const J=S(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([J.nonBasicASCII,J.ambiguousCharacters,J.invisibleCharacters].every(G=>G===!1))return;const oe={nonBasicASCII:J.nonBasicASCII,ambiguousCharacters:J.ambiguousCharacters,invisibleCharacters:J.invisibleCharacters,includeComments:J.includeComments,includeStrings:J.includeStrings,allowedCodePoints:Object.keys(J.allowedCharacters).map(G=>G.codePointAt(0)),allowedLocales:Object.keys(J.allowedLocales).map(G=>G==="_os"?new Intl.NumberFormat().resolvedOptions().locale:G==="_vscode"?L.language:G)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new y(this._editor,oe,this._updateState,this._editorWorkerService):this._highlighter=new w(this._editor,oe,this._updateState)}getDecorationInfo(J){return this._highlighter?this._highlighter.getDecorationInfo(J):null}};C.ID="editor.contrib.unicodeHighlighter",C=Ie([fe(1,n.IEditorWorkerService),fe(2,p.IWorkspaceTrustManagementService),fe(3,l.IInstantiationService)],C),e.UnicodeHighlighter=C;function S(X,J){return{nonBasicASCII:J.nonBasicASCII===u.inUntrustedWorkspace?!X:J.nonBasicASCII,ambiguousCharacters:J.ambiguousCharacters,invisibleCharacters:J.invisibleCharacters,includeComments:J.includeComments===u.inUntrustedWorkspace?!X:J.includeComments,includeStrings:J.includeStrings===u.inUntrustedWorkspace?!X:J.includeStrings,allowedCharacters:J.allowedCharacters,allowedLocales:J.allowedLocales}}let y=class extends I.Disposable{constructor(J,oe,G,x){super();this._editor=J,this._options=oe,this._updateState=G,this._editorWorkerService=x,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new E.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}const J=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(oe=>{if(this._model.isDisposed()||this._model.getVersionId()!==J)return;this._updateState(oe);const G=[];if(!oe.hasMore)for(const x of oe.ranges)G.push({range:x,options:D.instance.getDecorationFromOptions(this._options)});this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),G))})}getDecorationInfo(J){if(!this._decorationIds.has(J))return null;const oe=this._editor.getModel(),G=oe.getDecorationRange(J),x={range:G,options:D.instance.getDecorationFromOptions(this._options),id:J,ownerId:0};if(!(0,o.isModelDecorationVisible)(oe,x))return null;const V=oe.getValueInRange(G);return{reason:O(V,this._options),inComment:(0,o.isModelDecorationInComment)(oe,x),inString:(0,o.isModelDecorationInString)(oe,x)}}};y=Ie([fe(3,n.IEditorWorkerService)],y);class w extends I.Disposable{constructor(J,oe,G){super();this._editor=J,this._options=oe,this._updateState=G,this._model=this._editor.getModel(),this._decorationIds=new Set,this._updateSoon=this._register(new E.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorationIds=new Set(this._model.deltaDecorations(Array.from(this._decorationIds),[])),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),[]));return}const J=this._editor.getVisibleRanges(),oe=[],G={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const x of J){const V=i.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,x);for(const K of V.ranges)G.ranges.push(K);G.ambiguousCharacterCount+=G.ambiguousCharacterCount,G.invisibleCharacterCount+=G.invisibleCharacterCount,G.nonBasicAsciiCharacterCount+=G.nonBasicAsciiCharacterCount,G.hasMore=G.hasMore||V.hasMore}if(!G.hasMore)for(const x of G.ranges)oe.push({range:x,options:D.instance.getDecorationFromOptions(this._options)});this._updateState(G),this._decorationIds=new Set(this._editor.deltaDecorations(Array.from(this._decorationIds),oe))}getDecorationInfo(J){if(!this._decorationIds.has(J))return null;const oe=this._editor.getModel(),G=oe.getDecorationRange(J),x=oe.getValueInRange(G),V={range:G,options:D.instance.getDecorationFromOptions(this._options),id:J,ownerId:0};return(0,o.isModelDecorationVisible)(oe,V)?{reason:O(x,this._options),inComment:(0,o.isModelDecorationInComment)(oe,V),inString:(0,o.isModelDecorationInString)(oe,V)}:null}}let T=class{constructor(J,oe,G){this._editor=J,this._languageService=oe,this._openerService=G,this.hoverOrdinal=4}computeSync(J,oe){if(!this._editor.hasModel()||J.type!==1)return[];const G=this._editor.getModel(),x=this._editor.getContribution(C.ID);if(!x)return[];const V=[];let K=300;for(const le of oe){const ae=x.getDecorationInfo(le.id);if(!ae)continue;const q=G.getValueInRange(le.range).codePointAt(0),Z=R(q);let j;switch(ae.reason.kind){case 0:j=s.localize(4,null,Z,R(ae.reason.confusableWith.codePointAt(0)));break;case 1:j=s.localize(5,null,Z);break;case 2:j=s.localize(6,null,Z);break}const $={codePoint:q,reason:ae.reason,inComment:ae.inComment,inString:ae.inString},H=s.localize(7,null),te=`command:${z.ID}?${encodeURIComponent(JSON.stringify($))}`,ne=new k.MarkdownString("",!0).appendMarkdown(j).appendText(" ").appendLink(te,H);V.push(new r.MarkdownHover(this,le.range,[ne],K++))}return V}renderHoverParts(J,oe){return(0,r.renderMarkdownHovers)(J,oe,this._editor,this._languageService,this._openerService)}};T=Ie([fe(1,t.ILanguageService),fe(2,f.IOpenerService)],T),e.UnicodeHighlighterHoverParticipant=T;function N(X){return`U+${X.toString(16).padStart(4,"0")}`}function R(X){let J=`\`${N(X)}\``;return _.InvisibleCharacters.isInvisibleCharacter(X)||(J+=` "${`${B(X)}`}"`),J}function B(X){return X===96?"`` ` ``":"`"+String.fromCodePoint(X)+"`"}function O(X,J){return i.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(X,J)}class D{constructor(){this.map=new Map}getDecorationFromOptions(J){return this.getDecoration(!J.includeComments,!J.includeStrings)}getDecoration(J,oe){const G=`${J}${oe}`;let x=this.map.get(G);return x||(x=h.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:J,hideInStringTokens:oe}),this.map.set(G,x)),x}}D.instance=new D;class A extends v.EditorAction{constructor(){super({id:F.ID,label:s.localize(9,null),alias:"Disable highlighting of characters in comments",precondition:void 0});this.shortLabel=s.localize(8,null)}run(J,oe,G){return Le(this,void 0,void 0,function*(){let x=J==null?void 0:J.get(a.IConfigurationService);x&&this.runAction(x)})}runAction(J){return Le(this,void 0,void 0,function*(){yield J.updateValue(u.unicodeHighlightConfigKeys.includeComments,!1,1)})}}e.DisableHighlightingInCommentsAction=A;class P extends v.EditorAction{constructor(){super({id:F.ID,label:s.localize(11,null),alias:"Disable highlighting of characters in strings",precondition:void 0});this.shortLabel=s.localize(10,null)}run(J,oe,G){return Le(this,void 0,void 0,function*(){let x=J==null?void 0:J.get(a.IConfigurationService);x&&this.runAction(x)})}runAction(J){return Le(this,void 0,void 0,function*(){yield J.updateValue(u.unicodeHighlightConfigKeys.includeStrings,!1,1)})}}e.DisableHighlightingInStringsAction=P;class F extends v.EditorAction{constructor(){super({id:F.ID,label:s.localize(13,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0});this.shortLabel=s.localize(12,null)}run(J,oe,G){return Le(this,void 0,void 0,function*(){let x=J==null?void 0:J.get(a.IConfigurationService);x&&this.runAction(x)})}runAction(J){return Le(this,void 0,void 0,function*(){yield J.updateValue(u.unicodeHighlightConfigKeys.ambiguousCharacters,!1,1)})}}e.DisableHighlightingOfAmbiguousCharactersAction=F,F.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class W extends v.EditorAction{constructor(){super({id:W.ID,label:s.localize(15,null),alias:"Disable highlighting of invisible characters",precondition:void 0});this.shortLabel=s.localize(14,null)}run(J,oe,G){return Le(this,void 0,void 0,function*(){let x=J==null?void 0:J.get(a.IConfigurationService);x&&this.runAction(x)})}runAction(J){return Le(this,void 0,void 0,function*(){yield J.updateValue(u.unicodeHighlightConfigKeys.invisibleCharacters,!1,1)})}}e.DisableHighlightingOfInvisibleCharactersAction=W,W.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class M extends v.EditorAction{constructor(){super({id:M.ID,label:s.localize(17,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0});this.shortLabel=s.localize(16,null)}run(J,oe,G){return Le(this,void 0,void 0,function*(){let x=J==null?void 0:J.get(a.IConfigurationService);x&&this.runAction(x)})}runAction(J){return Le(this,void 0,void 0,function*(){yield J.updateValue(u.unicodeHighlightConfigKeys.nonBasicASCII,!1,1)})}}e.DisableHighlightingOfNonBasicAsciiCharactersAction=M,M.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class z extends v.EditorAction{constructor(){super({id:z.ID,label:s.localize(18,null),alias:"Show Exclude Options",precondition:void 0})}run(J,oe,G){return Le(this,void 0,void 0,function*(){const{codePoint:x,reason:V,inString:K,inComment:le}=G,ae=String.fromCodePoint(x),Q=J.get(g.IQuickInputService),q=J.get(a.IConfigurationService);function Z(H){return _.InvisibleCharacters.isInvisibleCharacter(H)?s.localize(19,null,N(H)):s.localize(20,null,`${N(H)} "${ae}"`)}const j=[];if(V.kind===0)for(const H of V.notAmbiguousInLocales)j.push({label:s.localize(21,null,H),run:()=>Le(this,void 0,void 0,function*(){ie(q,[H])})});if(j.push({label:Z(x),run:()=>ee(q,[x])}),le){const H=new A;j.push({label:H.label,run:()=>Le(this,void 0,void 0,function*(){return H.runAction(q)})})}else if(K){const H=new P;j.push({label:H.label,run:()=>Le(this,void 0,void 0,function*(){return H.runAction(q)})})}if(V.kind===0){const H=new F;j.push({label:H.label,run:()=>Le(this,void 0,void 0,function*(){return H.runAction(q)})})}else if(V.kind===1){const H=new W;j.push({label:H.label,run:()=>Le(this,void 0,void 0,function*(){return H.runAction(q)})})}else if(V.kind===2){const H=new M;j.push({label:H.label,run:()=>Le(this,void 0,void 0,function*(){return H.runAction(q)})})}else Y(V);const $=yield Q.pick(j,{title:s.localize(22,null)});$&&(yield $.run())})}}e.ShowExcludeOptions=z,z.ID="editor.action.unicodeHighlight.showExcludeOptions";function ee(X,J){return Le(this,void 0,void 0,function*(){const oe=X.getValue(u.unicodeHighlightConfigKeys.allowedCharacters);let G;typeof oe=="object"&&oe?G=oe:G={};for(const x of J)G[String.fromCodePoint(x)]=!0;yield X.updateValue(u.unicodeHighlightConfigKeys.allowedCharacters,G,1)})}function ie(X,J){var oe;return Le(this,void 0,void 0,function*(){const G=(oe=X.inspect(u.unicodeHighlightConfigKeys.allowedLocales).user)===null||oe===void 0?void 0:oe.value;let x;typeof G=="object"&&G?x=Object.assign({},G):x={};for(const V of J)x[V]=!0;yield X.updateValue(u.unicodeHighlightConfigKeys.allowedLocales,x,1)})}function Y(X){throw new Error(`Unexpected value: ${X}`)}(0,v.registerEditorAction)(F),(0,v.registerEditorAction)(W),(0,v.registerEditorAction)(M),(0,v.registerEditorAction)(z),(0,v.registerEditorContribution)(C.ID,C),d.HoverParticipantRegistry.register(T)}),define(re[761],se([1,0,160,165,304,241,677,724,678,679,680,694,726,747,681,682,683,728,306,734,687,688,632,759,214,309,307,310,690,750,736,691,692,737,738,739,717,695,696,168,314,697,698,301,760,699,741,742,302,700,75,143]),function(U,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(re[216],se([1,0,8,7,44,4,100,2,17,78,25,203,634,61,11,3,49,57,158,26,35,642,16,132,9,622,43,624,90,283,625,133,40,76,91,215,109,75,29,69,316,80,627,639,710,14,53,631,89,285,37,665,204,303,713,721,108,626,68,39,709,628,97,620,202,621,159,163,81,630,50,82,83,31,296,284,752,70,614]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g,b,p,C,S,y,w,T,N,R,B,O,D,A,P,F,W,M,z,ee,ie,Y,X,J,oe,G,x,V,K,le,ae,Q,q,Z,j,$,H,te,ne,de,he,pe,ve,ue,Ce,me,be,ce,ge,_e,ye){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServices=e.updateConfigurationService=e.StandaloneConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.StandaloneNotificationService=void 0;class Me{constructor(Ne){this.disposed=!1,this.model=Ne,this._onWillDispose=new I.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let ke=class{constructor(Ne){this.modelService=Ne}createModelReference(Ne){const Re=this.modelService.getModel(Ne);return Re?Promise.resolve(new _.ImmortalReference(new Me(Re))):Promise.reject(new Error("Model not found"))}};ke=Ie([fe(0,r.IModelService)],ke);class Te{show(){return Te.NULL_PROGRESS_RUNNER}showWhile(Ne,Re){return Le(this,void 0,void 0,function*(){yield Ne})}}Te.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Oe{confirm(Ne){return this.doConfirm(Ne).then(Re=>({confirmed:Re,checkboxChecked:!1}))}doConfirm(Ne){let Re=Ne.message;return Ne.detail&&(Re=Re+`

`+Ne.detail),Promise.resolve(window.confirm(Re))}show(Ne,Re,qe,$e){return Promise.resolve({choice:0})}}class Be{info(Ne){return this.notify({severity:u.default.Info,message:Ne})}warn(Ne){return this.notify({severity:u.default.Warning,message:Ne})}error(Ne){return this.notify({severity:u.default.Error,message:Ne})}notify(Ne){switch(Ne.severity){case u.default.Error:console.error(Ne.message);break;case u.default.Warning:console.warn(Ne.message);break;default:console.log(Ne.message);break}return Be.NO_OP}status(Ne,Re){return _.Disposable.None}}e.StandaloneNotificationService=Be,Be.NO_OP=new B.NoOpNotification;let xe=class{constructor(Ne){this._onWillExecuteCommand=new I.Emitter,this._onDidExecuteCommand=new I.Emitter,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=Ne}executeCommand(Ne,...Re){const qe=a.CommandsRegistry.getCommand(Ne);if(!qe)return Promise.reject(new Error(`command '${Ne}' not found`));try{this._onWillExecuteCommand.fire({commandId:Ne,args:Re});const $e=this._instantiationService.invokeFunction.apply(this._instantiationService,[qe.handler,...Re]);return this._onDidExecuteCommand.fire({commandId:Ne,args:Re}),Promise.resolve($e)}catch($e){return Promise.reject($e)}}};xe=Ie([fe(0,p.IInstantiationService)],xe),e.StandaloneCommandService=xe;let Ke=class extends C.AbstractKeybindingService{constructor(Ne,Re,qe,$e,tt,Ge){super(Ne,Re,qe,$e,tt);this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const Xe=nt=>{const ht=new _.DisposableStore;ht.add(m.addDisposableListener(nt,m.EventType.KEY_DOWN,vt=>{const ct=new k.StandardKeyboardEvent(vt);this._dispatch(ct,ct.target)&&(ct.preventDefault(),ct.stopPropagation())})),ht.add(m.addDisposableListener(nt,m.EventType.KEY_UP,vt=>{const ct=new k.StandardKeyboardEvent(vt);this._singleModifierDispatch(ct,ct.target)&&ct.preventDefault()})),this._domNodeListeners.push(new Ze(nt,ht))},it=nt=>{for(let ht=0;ht<this._domNodeListeners.length;ht++){const vt=this._domNodeListeners[ht];vt.domNode===nt&&(this._domNodeListeners.splice(ht,1),vt.dispose())}},lt=nt=>{nt.getOption(54)||Xe(nt.getContainerDomNode())},ft=nt=>{nt.getOption(54)||it(nt.getContainerDomNode())};this._register(Ge.onCodeEditorAdd(lt)),this._register(Ge.onCodeEditorRemove(ft)),Ge.listCodeEditors().forEach(lt);const dt=nt=>{Xe(nt.getContainerDomNode())},at=nt=>{it(nt.getContainerDomNode())};this._register(Ge.onDiffEditorAdd(dt)),this._register(Ge.onDiffEditorRemove(at)),Ge.listDiffEditors().forEach(dt)}addDynamicKeybinding(Ne,Re,qe,$e){const tt=(0,L.createKeybinding)(Re,v.OS),Ge=new _.DisposableStore;return tt&&(this._dynamicKeybindings.push({keybinding:tt.parts,command:Ne,when:$e,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),Ge.add((0,_.toDisposable)(()=>{for(let Xe=0;Xe<this._dynamicKeybindings.length;Xe++)if(this._dynamicKeybindings[Xe].command===Ne){this._dynamicKeybindings.splice(Xe,1),this.updateResolver({source:1});return}}))),Ge.add(a.CommandsRegistry.registerCommand(Ne,qe)),this.updateResolver({source:1}),Ge}updateResolver(Ne){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(Ne)}_getResolver(){if(!this._cachedResolver){const Ne=this._toNormalizedKeybindingItems(w.KeybindingsRegistry.getDefaultKeybindings(),!0),Re=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new y.KeybindingResolver(Ne,Re,qe=>this._log(qe))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(Ne,Re){const qe=[];let $e=0;for(const tt of Ne){const Ge=tt.when||void 0,Xe=tt.keybinding;if(!Xe)qe[$e++]=new T.ResolvedKeybindingItem(void 0,tt.command,tt.commandArgs,Ge,Re,null,!1);else{const it=N.USLayoutResolvedKeybinding.resolveUserBinding(Xe,v.OS);for(const lt of it)qe[$e++]=new T.ResolvedKeybindingItem(lt,tt.command,tt.commandArgs,Ge,Re,null,!1)}}return qe}resolveKeyboardEvent(Ne){const Re=new L.SimpleKeybinding(Ne.ctrlKey,Ne.shiftKey,Ne.altKey,Ne.metaKey,Ne.keyCode).toChord();return new N.USLayoutResolvedKeybinding(Re,v.OS)}};Ke=Ie([fe(0,g.IContextKeyService),fe(1,a.ICommandService),fe(2,D.ITelemetryService),fe(3,B.INotificationService),fe(4,M.ILogService),fe(5,W.ICodeEditorService)],Ke),e.StandaloneKeybindingService=Ke;class Ze extends _.Disposable{constructor(Ne,Re){super();this.domNode=Ne,this._register(Re)}}function we(Ue){return Ue&&typeof Ue=="object"&&(!Ue.overrideIdentifier||typeof Ue.overrideIdentifier=="string")&&(!Ue.resource||Ue.resource instanceof h.URI)}class Se{constructor(){this._onDidChangeConfiguration=new I.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new f.Configuration(new f.DefaultConfigurationModel,new f.ConfigurationModel)}getValue(Ne,Re){const qe=typeof Ne=="string"?Ne:void 0,$e=we(Ne)?Ne:we(Re)?Re:{};return this._configuration.getValue(qe,$e,void 0)}updateValues(Ne){const Re={data:this._configuration.toData()},qe=[];for(const $e of Ne){const[tt,Ge]=$e;this.getValue(tt)!==Ge&&(this._configuration.updateValue(tt,Ge),qe.push(tt))}if(qe.length>0){const $e=new f.ConfigurationChangeEvent({keys:qe,overrides:[]},Re,this._configuration);$e.source=7,$e.sourceConfig=null,this._onDidChangeConfiguration.fire($e)}return Promise.resolve()}updateValue(Ne,Re,qe,$e){return this.updateValues([[Ne,Re]])}inspect(Ne,Re={}){return this._configuration.inspect(Ne,Re,void 0)}}e.StandaloneConfigurationService=Se;let De=class{constructor(Ne){this.configurationService=Ne,this._onDidChangeConfiguration=new I.Emitter,this.configurationService.onDidChangeConfiguration(Re=>{this._onDidChangeConfiguration.fire({affectedKeys:Re.affectedKeys,affectsConfiguration:(qe,$e)=>Re.affectsConfiguration($e)})})}getValue(Ne,Re,qe){const tt=(o.Position.isIPosition(Re)?Re:null)?typeof qe=="string"?qe:void 0:typeof Re=="string"?Re:void 0;return typeof tt=="undefined"?this.configurationService.getValue():this.configurationService.getValue(tt)}};De=Ie([fe(0,l.IConfigurationService)],De);let Pe=class{constructor(Ne){this.configurationService=Ne}getEOL(Ne,Re){const qe=this.configurationService.getValue("files.eol",{overrideIdentifier:Re,resource:Ne});return qe&&typeof qe=="string"&&qe!=="auto"?qe:v.isLinux||v.isMacintosh?`
`:`\r
`}};Pe=Ie([fe(0,l.IConfigurationService)],Pe);class ze{publicLog(Ne,Re){return Promise.resolve(void 0)}publicLog2(Ne,Re){return this.publicLog(Ne,Re)}}class je{constructor(){const Ne=h.URI.from({scheme:je.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new A.WorkspaceFolder({uri:Ne,name:"",index:0})]}}getWorkspace(){return this.workspace}}je.SCHEME="inmemory";function Ye(Ue,Ne,Re){if(!Ne||!(Ue instanceof Se))return;const qe=[];Object.keys(Ne).forEach($e=>{(0,n.isEditorConfigurationKey)($e)&&qe.push([`editor.${$e}`,Ne[$e]]),Re&&(0,n.isDiffEditorConfigurationKey)($e)&&qe.push([`diffEditor.${$e}`,Ne[$e]])}),qe.length>0&&Ue.updateValues(qe)}e.updateConfigurationService=Ye;let He=class{constructor(Ne){this._modelService=Ne}hasPreviewHandler(){return!1}apply(Ne,Re){return Le(this,void 0,void 0,function*(){const qe=new Map;for(let Ge of Ne){if(!(Ge instanceof i.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const Xe=this._modelService.getModel(Ge.resource);if(!Xe)throw new Error("bad edit - model not found");if(typeof Ge.versionId=="number"&&Xe.getVersionId()!==Ge.versionId)throw new Error("bad state - model changed in the meantime");let it=qe.get(Xe);it||(it=[],qe.set(Xe,it)),it.push(t.EditOperation.replaceMove(d.Range.lift(Ge.textEdit.range),Ge.textEdit.text))}let $e=0,tt=0;for(const[Ge,Xe]of qe)Ge.pushStackElement(),Ge.pushEditOperations([],Xe,()=>[]),Ge.pushStackElement(),tt+=1,$e+=Xe.length;return{ariaSummary:E.format(F.StandaloneServicesNLS.bulkEditServiceSummary,$e,tt)}})}};He=Ie([fe(0,r.IModelService)],He);class Fe{getUriLabel(Ne,Re){return Ne.scheme==="file"?Ne.fsPath:Ne.path}}let Ee=class extends ie.ContextViewService{constructor(Ne,Re){super(Ne);this._codeEditorService=Re}showContextView(Ne,Re,qe){if(!Re){const $e=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();$e&&(Re=$e.getContainerDomNode())}return super.showContextView(Ne,Re,qe)}};Ee=Ie([fe(0,P.ILayoutService),fe(1,W.ICodeEditorService)],Ee);class Ae{constructor(){this._neverEmitter=new I.Emitter,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class We extends Y.LanguageService{constructor(){super()}}class Ve extends M.LogService{constructor(){super(new M.ConsoleLogger)}}let Qe=class extends X.ContextMenuService{constructor(Ne,Re,qe,$e,tt){super(Ne,Re,qe,$e,tt);this.configure({blockMouse:!1})}};Qe=Ie([fe(0,D.ITelemetryService),fe(1,B.INotificationService),fe(2,ee.IContextViewService),fe(3,S.IKeybindingService),fe(4,J.IThemeService)],Qe),(0,oe.registerSingleton)(l.IConfigurationService,Se),(0,oe.registerSingleton)(s.ITextResourceConfigurationService,De),(0,oe.registerSingleton)(s.ITextResourcePropertiesService,Pe),(0,oe.registerSingleton)(A.IWorkspaceContextService,je),(0,oe.registerSingleton)(R.ILabelService,Fe),(0,oe.registerSingleton)(D.ITelemetryService,ze),(0,oe.registerSingleton)(b.IDialogService,Oe),(0,oe.registerSingleton)(B.INotificationService,Be),(0,oe.registerSingleton)(be.IMarkerService,ce.MarkerService),(0,oe.registerSingleton)(K.ILanguageService,We),(0,oe.registerSingleton)(j.IStandaloneThemeService,Z.StandaloneThemeService),(0,oe.registerSingleton)(M.ILogService,Ve),(0,oe.registerSingleton)(r.IModelService,Q.ModelService),(0,oe.registerSingleton)(ae.IMarkerDecorationsService,le.MarkerDecorationsService),(0,oe.registerSingleton)(g.IContextKeyService,pe.ContextKeyService),(0,oe.registerSingleton)(O.IEditorProgressService,Te),(0,oe.registerSingleton)(ye.IStorageService,ye.InMemoryStorageService),(0,oe.registerSingleton)(x.IEditorWorkerService,V.EditorWorkerService),(0,oe.registerSingleton)(i.IBulkEditService,He),(0,oe.registerSingleton)(z.IWorkspaceTrustManagementService,Ae),(0,oe.registerSingleton)(c.ITextModelService,ke),(0,oe.registerSingleton)(H.IAccessibilityService,$.AccessibilityService),(0,oe.registerSingleton)(me.IListService,me.ListService),(0,oe.registerSingleton)(a.ICommandService,xe),(0,oe.registerSingleton)(S.IKeybindingService,Ke),(0,oe.registerSingleton)(_e.IQuickInputService,q.StandaloneQuickInputService),(0,oe.registerSingleton)(ee.IContextViewService,Ee),(0,oe.registerSingleton)(ge.IOpenerService,G.OpenerService),(0,oe.registerSingleton)(he.IClipboardService,de.BrowserClipboardService),(0,oe.registerSingleton)(ee.IContextMenuService,Qe),(0,oe.registerSingleton)(te.IMenuService,ne.MenuService);var et;(function(Ue){const Ne=new Ce.ServiceCollection;for(const[Ge,Xe]of(0,oe.getSingletonServiceDescriptors)())Ne.set(Ge,Xe);const Re=new ue.InstantiationService(Ne,!0);Ne.set(p.IInstantiationService,Re);function qe(Ge){const Xe=Ne.get(Ge);if(!Xe)throw new Error("Missing service "+Ge);return Xe instanceof ve.SyncDescriptor?Re.invokeFunction(it=>it.get(Ge)):Xe}Ue.get=qe;let $e=!1;function tt(Ge){if($e)return Re;$e=!0;for(const[Xe,it]of(0,oe.getSingletonServiceDescriptors)())Ne.get(Xe)||Ne.set(Xe,it);for(const Xe in Ge)if(Ge.hasOwnProperty(Xe)){const it=(0,p.createDecorator)(Xe);Ne.get(it)instanceof ve.SyncDescriptor&&Ne.set(it,Ge[Xe])}return Re}Ue.initialize=tt})(et=e.StandaloneServices||(e.StandaloneServices={}))}),define(re[762],se([1,0,46,2,29,165,304,245,89,216,108,39,26,35,16,80,9,43,40,14,68,75,97,76,49,37,296,71,31,20]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g,b,p,C,S,y,w,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTextModel=e.StandaloneDiffEditor=e.StandaloneEditor=e.StandaloneCodeEditor=void 0;let N=0,R=!1;function B(W){if(!W){if(R)return;R=!0}E.setARIAContainer(W||document.body)}let O=class extends I.CodeEditorWidget{constructor(M,z,ee,ie,Y,X,J,oe,G,x,V,K){const le=Object.assign({},z);le.ariaLabel=le.ariaLabel||f.StandaloneCodeEditorNLS.editorViewAccessibleLabel,le.ariaLabel=le.ariaLabel+";"+f.StandaloneCodeEditorNLS.accessibilityHelpMessage;super(M,le,{},ee,ie,Y,X,oe,G,x,V,K);J instanceof u.StandaloneKeybindingService?this._standaloneKeybindingService=J:this._standaloneKeybindingService=null,B(le.ariaContainerElement)}addCommand(M,z,ee){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const ie="DYNAMIC_"+ ++N,Y=o.ContextKeyExpr.deserialize(ee);return this._standaloneKeybindingService.addDynamicKeybinding(ie,M,z,Y),ie}createContextKey(M,z){return this._contextKeyService.createKey(M,z)}addAction(M){if(typeof M.id!="string"||typeof M.label!="string"||typeof M.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),m.Disposable.None;const z=M.id,ee=M.label,ie=o.ContextKeyExpr.and(o.ContextKeyExpr.equals("editorId",this.getId()),o.ContextKeyExpr.deserialize(M.precondition)),Y=M.keybindings,X=o.ContextKeyExpr.and(ie,o.ContextKeyExpr.deserialize(M.keybindingContext)),J=M.contextMenuGroupId||null,oe=M.contextMenuOrder||0,G=(le,...ae)=>Promise.resolve(M.run(this,...ae)),x=new m.DisposableStore,V=this.getId()+":"+z;if(x.add(n.CommandsRegistry.registerCommand(V,G)),J){const le={command:{id:V,title:ee},when:ie,group:J,order:oe};x.add(i.MenuRegistry.appendMenuItem(i.MenuId.EditorContext,le))}if(Array.isArray(Y))for(const le of Y)x.add(this._standaloneKeybindingService.addDynamicKeybinding(V,le,G,X));const K=new _.InternalEditorAction(V,ee,ee,ie,G,this._contextKeyService);return this._actions[z]=K,x.add((0,m.toDisposable)(()=>{delete this._actions[z]})),x}_triggerCommand(M,z){if(this._codeEditorService instanceof S.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(M,z)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(M,z)}};O=Ie([fe(2,r.IInstantiationService),fe(3,k.ICodeEditorService),fe(4,n.ICommandService),fe(5,o.IContextKeyService),fe(6,c.IKeybindingService),fe(7,a.IThemeService),fe(8,s.INotificationService),fe(9,l.IAccessibilityService),fe(10,w.ILanguageConfigurationService),fe(11,T.ILanguageFeaturesService)],O),e.StandaloneCodeEditor=O;let D=class extends O{constructor(M,z,ee,ie,Y,X,J,oe,G,x,V,K,le,ae,Q){const q=Object.assign({},z);(0,u.updateConfigurationService)(x,q,!1);const Z=oe.registerEditorContainer(M);typeof q.theme=="string"&&oe.setTheme(q.theme),typeof q.autoDetectHighContrast!="undefined"&&oe.setAutoDetectHighContrast(Boolean(q.autoDetectHighContrast));const j=q.model;delete q.model;super(M,q,ee,ie,Y,X,J,oe,G,V,ae,Q);this._configurationService=x,this._standaloneThemeService=oe,this._register(Z);let $;if(typeof j=="undefined"){const H=le.getLanguageIdByMimeType(q.language)||q.language||y.PLAINTEXT_LANGUAGE_ID;$=P(K,le,q.value||"",H,void 0),this._ownsModel=!0}else $=j,this._ownsModel=!1;if(this._attachModel($),$){const H={oldModelUrl:null,newModelUrl:$.uri};this._onDidChangeModel.fire(H)}}dispose(){super.dispose()}updateOptions(M){(0,u.updateConfigurationService)(this._configurationService,M,!1),typeof M.theme=="string"&&this._standaloneThemeService.setTheme(M.theme),typeof M.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(M.autoDetectHighContrast)),super.updateOptions(M)}_postDetachModelCleanup(M){super._postDetachModelCleanup(M),M&&this._ownsModel&&(M.dispose(),this._ownsModel=!1)}};D=Ie([fe(2,r.IInstantiationService),fe(3,k.ICodeEditorService),fe(4,n.ICommandService),fe(5,o.IContextKeyService),fe(6,c.IKeybindingService),fe(7,h.IStandaloneThemeService),fe(8,s.INotificationService),fe(9,t.IConfigurationService),fe(10,l.IAccessibilityService),fe(11,p.IModelService),fe(12,C.ILanguageService),fe(13,w.ILanguageConfigurationService),fe(14,T.ILanguageFeaturesService)],D),e.StandaloneEditor=D;let A=class extends L.DiffEditorWidget{constructor(M,z,ee,ie,Y,X,J,oe,G,x,V,K){const le=Object.assign({},z);(0,u.updateConfigurationService)(G,le,!0);const ae=J.registerEditorContainer(M);typeof le.theme=="string"&&J.setTheme(le.theme),typeof le.autoDetectHighContrast!="undefined"&&J.setAutoDetectHighContrast(Boolean(le.autoDetectHighContrast));super(M,le,{},K,Y,ie,ee,X,J,oe,x,V);this._configurationService=G,this._standaloneThemeService=J,this._register(ae)}dispose(){super.dispose()}updateOptions(M){(0,u.updateConfigurationService)(this._configurationService,M,!0),typeof M.theme=="string"&&this._standaloneThemeService.setTheme(M.theme),typeof M.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(M.autoDetectHighContrast)),super.updateOptions(M)}_createInnerEditor(M,z,ee){return M.createInstance(O,z,ee)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(M,z,ee){return this.getModifiedEditor().addCommand(M,z,ee)}createContextKey(M,z){return this.getModifiedEditor().createContextKey(M,z)}addAction(M){return this.getModifiedEditor().addAction(M)}};A=Ie([fe(2,r.IInstantiationService),fe(3,o.IContextKeyService),fe(4,v.IEditorWorkerService),fe(5,k.ICodeEditorService),fe(6,h.IStandaloneThemeService),fe(7,s.INotificationService),fe(8,t.IConfigurationService),fe(9,d.IContextMenuService),fe(10,b.IEditorProgressService),fe(11,g.IClipboardService)],A),e.StandaloneDiffEditor=A;function P(W,M,z,ee,ie){if(z=z||"",!ee){const Y=z.indexOf(`
`);let X=z;return Y!==-1&&(X=z.substring(0,Y)),F(W,z,M.createByFilepathOrFirstLine(ie||null,X),ie)}return F(W,z,M.createById(ee),ie)}e.createTextModel=P;function F(W,M,z,ee){return W.createModel(M,z,ee)}}),define(re[763],se([1,0,8,275,29,241,33,179,149,47,27,31,127,37,49,635,154,483,762,216,108,26,81,405]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o,d,r,c,s,a,l,f,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoEditorAPI=e.registerCommand=e.remeasureFonts=e.setTheme=e.defineTheme=e.tokenize=e.colorizeModelLine=e.colorize=e.colorizeElement=e.createWebWorker=e.onDidChangeModelLanguage=e.onWillDisposeModel=e.onDidCreateModel=e.getModels=e.getModel=e.onDidChangeMarkers=e.getModelMarkers=e.setModelMarkers=e.setModelLanguage=e.createModel=e.createDiffNavigator=e.createDiffEditor=e.onDidCreateEditor=e.create=void 0;function b(x,V,K){return a.StandaloneServices.initialize(K||{}).createInstance(s.StandaloneEditor,x,V)}e.create=b;function p(x){return a.StandaloneServices.get(k.ICodeEditorService).onCodeEditorAdd(K=>{x(K)})}e.onDidCreateEditor=p;function C(x,V,K){return a.StandaloneServices.initialize(K||{}).createInstance(s.StandaloneDiffEditor,x,V)}e.createDiffEditor=C;function S(x,V){return new I.DiffNavigator(x,V)}e.createDiffNavigator=S;function y(x,V,K){const le=a.StandaloneServices.get(t.ILanguageService),ae=le.getLanguageIdByMimeType(V)||V;return(0,s.createTextModel)(a.StandaloneServices.get(o.IModelService),le,x,ae,K)}e.createModel=y;function w(x,V){const K=a.StandaloneServices.get(t.ILanguageService);a.StandaloneServices.get(o.IModelService).setMode(x,K.createById(V))}e.setModelLanguage=w;function T(x,V,K){x&&a.StandaloneServices.get(g.IMarkerService).changeOne(V,x.uri,K)}e.setModelMarkers=T;function N(x){return a.StandaloneServices.get(g.IMarkerService).read(x)}e.getModelMarkers=N;function R(x){return a.StandaloneServices.get(g.IMarkerService).onMarkerChanged(x)}e.onDidChangeMarkers=R;function B(x){return a.StandaloneServices.get(o.IModelService).getModel(x)}e.getModel=B;function O(){return a.StandaloneServices.get(o.IModelService).getModels()}e.getModels=O;function D(x){return a.StandaloneServices.get(o.IModelService).onModelAdded(x)}e.onDidCreateModel=D;function A(x){return a.StandaloneServices.get(o.IModelService).onModelRemoved(x)}e.onWillDisposeModel=A;function P(x){return a.StandaloneServices.get(o.IModelService).onModelLanguageChanged(K=>{x({model:K.model,oldLanguage:K.oldLanguageId})})}e.onDidChangeModelLanguage=P;function F(x){return(0,d.createWebWorker)(a.StandaloneServices.get(o.IModelService),a.StandaloneServices.get(i.ILanguageConfigurationService),x)}e.createWebWorker=F;function W(x,V){const K=a.StandaloneServices.get(t.ILanguageService),le=a.StandaloneServices.get(l.IStandaloneThemeService);return le.registerEditorContainer(x),c.Colorizer.colorizeElement(le,K,x,V)}e.colorizeElement=W;function M(x,V,K){const le=a.StandaloneServices.get(t.ILanguageService);return a.StandaloneServices.get(l.IStandaloneThemeService).registerEditorContainer(document.body),c.Colorizer.colorize(le,x,V,K)}e.colorize=M;function z(x,V,K=4){return a.StandaloneServices.get(l.IStandaloneThemeService).registerEditorContainer(document.body),c.Colorizer.colorizeModelLine(x,V,K)}e.colorizeModelLine=z;function ee(x){const V=h.TokenizationRegistry.get(x);return V||{getInitialState:()=>n.NullState,tokenize:(K,le,ae)=>(0,n.nullTokenize)(x,ae)}}function ie(x,V){h.TokenizationRegistry.getOrCreate(V);const K=ee(V),le=(0,E.splitLines)(x),ae=[];let Q=K.getInitialState();for(let q=0,Z=le.length;q<Z;q++){const j=le[q],$=K.tokenize(j,!0,Q);ae[q]=$.tokens,Q=$.endState}return ae}e.tokenize=ie;function Y(x,V){a.StandaloneServices.get(l.IStandaloneThemeService).defineTheme(x,V)}e.defineTheme=Y;function X(x){a.StandaloneServices.get(l.IStandaloneThemeService).setTheme(x)}e.setTheme=X;function J(){m.FontMeasurements.clearAllFontInfos()}e.remeasureFonts=J;function oe(x,V){return f.CommandsRegistry.registerCommand({id:x,handler:V})}e.registerCommand=oe;function G(){return{create:b,onDidCreateEditor:p,createDiffEditor:C,createDiffNavigator:S,createModel:y,setModelLanguage:w,setModelMarkers:T,getModelMarkers:N,onDidChangeMarkers:R,getModels:O,getModel:B,onDidCreateModel:D,onWillDisposeModel:A,onDidChangeModelLanguage:P,createWebWorker:F,colorizeElement:W,colorize:M,colorizeModelLine:z,tokenize:ie,defineTheme:Y,setTheme:X,remeasureFonts:J,registerCommand:oe,AccessibilitySupport:r.AccessibilitySupport,ContentWidgetPositionPreference:r.ContentWidgetPositionPreference,CursorChangeReason:r.CursorChangeReason,DefaultEndOfLine:r.DefaultEndOfLine,EditorAutoIndentStrategy:r.EditorAutoIndentStrategy,EditorOption:r.EditorOption,EndOfLinePreference:r.EndOfLinePreference,EndOfLineSequence:r.EndOfLineSequence,MinimapPosition:r.MinimapPosition,MouseTargetType:r.MouseTargetType,OverlayWidgetPositionPreference:r.OverlayWidgetPositionPreference,OverviewRulerLane:r.OverviewRulerLane,RenderLineNumbersType:r.RenderLineNumbersType,RenderMinimap:r.RenderMinimap,ScrollbarVisibility:r.ScrollbarVisibility,ScrollType:r.ScrollType,TextEditorCursorBlinkingStyle:r.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:r.TextEditorCursorStyle,TrackedRangeStickiness:r.TrackedRangeStickiness,WrappingIndent:r.WrappingIndent,InjectedTextCursorStops:r.InjectedTextCursorStops,PositionAffinity:r.PositionAffinity,ConfigurationChangedEvent:L.ConfigurationChangedEvent,BareFontInfo:_.BareFontInfo,FontInfo:_.FontInfo,TextModelResolvedOptions:u.TextModelResolvedOptions,FindMatch:u.FindMatch,ApplyUpdateResult:L.ApplyUpdateResult,EditorType:v.EditorType,EditorOptions:L.EditorOptions}}e.createMonacoEditorAPI=G}),define(re[764],se([1,0,30,3,27,31,71,37,154,216,482,272,108,81,20]),function(U,e,E,m,k,I,L,_,v,u,h,i,n,t,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createMonacoLanguagesAPI=e.registerInlayHintsProvider=e.registerInlineCompletionsProvider=e.registerDocumentRangeSemanticTokensProvider=e.registerDocumentSemanticTokensProvider=e.registerSelectionRangeProvider=e.registerDeclarationProvider=e.registerFoldingRangeProvider=e.registerColorProvider=e.registerCompletionItemProvider=e.registerLinkProvider=e.registerOnTypeFormattingEditProvider=e.registerDocumentRangeFormattingEditProvider=e.registerDocumentFormattingEditProvider=e.registerCodeActionProvider=e.registerCodeLensProvider=e.registerTypeDefinitionProvider=e.registerImplementationProvider=e.registerDefinitionProvider=e.registerLinkedEditingRangeProvider=e.registerDocumentHighlightProvider=e.registerDocumentSymbolProvider=e.registerHoverProvider=e.registerSignatureHelpProvider=e.registerRenameProvider=e.registerReferenceProvider=e.setMonarchTokensProvider=e.setTokensProvider=e.registerTokensProviderFactory=e.setColorMap=e.TokenizationSupportAdapter=e.EncodedTokenizationSupportAdapter=e.setLanguageConfiguration=e.onLanguage=e.getEncodedLanguageId=e.getLanguages=e.register=void 0;function d(j){L.ModesRegistry.registerLanguage(j)}e.register=d;function r(){let j=[];return j=j.concat(L.ModesRegistry.getLanguages()),j}e.getLanguages=r;function c(j){return u.StandaloneServices.get(_.ILanguageService).languageIdCodec.encodeLanguageId(j)}e.getEncodedLanguageId=c;function s(j,$){const te=u.StandaloneServices.get(_.ILanguageService).onDidEncounterLanguage(ne=>{ne===j&&(te.dispose(),$())});return te}e.onLanguage=s;function a(j,$){if(!u.StandaloneServices.get(_.ILanguageService).isRegisteredLanguageId(j))throw new Error(`Cannot set configuration for unknown language ${j}`);return u.StandaloneServices.get(I.ILanguageConfigurationService).register(j,$,100)}e.setLanguageConfiguration=a;class l{constructor($,H){this._languageId=$,this._actual=H}getInitialState(){return this._actual.getInitialState()}tokenize($,H,te){if(typeof this._actual.tokenize=="function")return f.adaptTokenize(this._languageId,this._actual,$,te);throw new Error("Not supported!")}tokenizeEncoded($,H,te){const ne=this._actual.tokenizeEncoded($,te);return new k.EncodedTokenizationResult(ne.tokens,ne.endState)}}e.EncodedTokenizationSupportAdapter=l;class f{constructor($,H,te,ne){this._languageId=$,this._actual=H,this._languageService=te,this._standaloneThemeService=ne}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens($,H){const te=[];let ne=0;for(let de=0,he=$.length;de<he;de++){const pe=$[de];let ve=pe.startIndex;de===0?ve=0:ve<ne&&(ve=ne),te[de]=new k.Token(ve,pe.scopes,H),ne=ve}return te}static adaptTokenize($,H,te,ne){const de=H.tokenize(te,ne),he=f._toClassicTokens(de.tokens,$);let pe;return de.endState.equals(ne)?pe=ne:pe=de.endState,new k.TokenizationResult(he,pe)}tokenize($,H,te){return f.adaptTokenize(this._languageId,this._actual,$,te)}_toBinaryTokens($,H){const te=$.encodeLanguageId(this._languageId),ne=this._standaloneThemeService.getColorTheme().tokenTheme,de=[];let he=0,pe=0;for(let ue=0,Ce=H.length;ue<Ce;ue++){const me=H[ue],be=ne.match(te,me.scopes);if(he>0&&de[he-1]===be)continue;let ce=me.startIndex;ue===0?ce=0:ce<pe&&(ce=pe),de[he++]=ce,de[he++]=be,pe=ce}const ve=new Uint32Array(he);for(let ue=0;ue<he;ue++)ve[ue]=de[ue];return ve}tokenizeEncoded($,H,te){const ne=this._actual.tokenize($,te),de=this._toBinaryTokens(this._languageService.languageIdCodec,ne.tokens);let he;return ne.endState.equals(te)?he=te:he=ne.endState,new k.EncodedTokenizationResult(de,he)}}e.TokenizationSupportAdapter=f;function g(j){return typeof j.getInitialState=="function"}function b(j){return"tokenizeEncoded"in j}function p(j){return j&&typeof j.then=="function"}function C(j){const $=u.StandaloneServices.get(n.IStandaloneThemeService);if(j){const H=[null];for(let te=1,ne=j.length;te<ne;te++)H[te]=E.Color.fromHex(j[te]);$.setColorMapOverride(H)}else $.setColorMapOverride(null)}e.setColorMap=C;function S(j,$){return b($)?new l(j,$):new f(j,$,u.StandaloneServices.get(_.ILanguageService),u.StandaloneServices.get(n.IStandaloneThemeService))}function y(j,$){const H={createTokenizationSupport:()=>Le(this,void 0,void 0,function*(){const te=yield Promise.resolve($.create());return te?g(te)?S(j,te):new i.MonarchTokenizer(u.StandaloneServices.get(_.ILanguageService),u.StandaloneServices.get(n.IStandaloneThemeService),j,(0,h.compile)(j,te)):null})};return k.TokenizationRegistry.registerFactory(j,H)}e.registerTokensProviderFactory=y;function w(j,$){if(!u.StandaloneServices.get(_.ILanguageService).isRegisteredLanguageId(j))throw new Error(`Cannot set tokens provider for unknown language ${j}`);return p($)?y(j,{create:()=>$}):k.TokenizationRegistry.register(j,S(j,$))}e.setTokensProvider=w;function T(j,$){const H=te=>new i.MonarchTokenizer(u.StandaloneServices.get(_.ILanguageService),u.StandaloneServices.get(n.IStandaloneThemeService),j,(0,h.compile)(j,te));return p($)?y(j,{create:()=>$}):k.TokenizationRegistry.register(j,H($))}e.setMonarchTokensProvider=T;function N(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).referenceProvider.register(j,$)}e.registerReferenceProvider=N;function R(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).renameProvider.register(j,$)}e.registerRenameProvider=R;function B(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).signatureHelpProvider.register(j,$)}e.registerSignatureHelpProvider=B;function O(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).hoverProvider.register(j,{provideHover:(te,ne,de)=>{const he=te.getWordAtPosition(ne);return Promise.resolve($.provideHover(te,ne,de)).then(pe=>{if(!!pe)return!pe.range&&he&&(pe.range=new m.Range(ne.lineNumber,he.startColumn,ne.lineNumber,he.endColumn)),pe.range||(pe.range=new m.Range(ne.lineNumber,ne.column,ne.lineNumber,ne.column)),pe})}})}e.registerHoverProvider=O;function D(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).documentSymbolProvider.register(j,$)}e.registerDocumentSymbolProvider=D;function A(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).documentHighlightProvider.register(j,$)}e.registerDocumentHighlightProvider=A;function P(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).linkedEditingRangeProvider.register(j,$)}e.registerLinkedEditingRangeProvider=P;function F(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).definitionProvider.register(j,$)}e.registerDefinitionProvider=F;function W(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).implementationProvider.register(j,$)}e.registerImplementationProvider=W;function M(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).typeDefinitionProvider.register(j,$)}e.registerTypeDefinitionProvider=M;function z(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).codeLensProvider.register(j,$)}e.registerCodeLensProvider=z;function ee(j,$,H){return u.StandaloneServices.get(o.ILanguageFeaturesService).codeActionProvider.register(j,{providedCodeActionKinds:H==null?void 0:H.providedCodeActionKinds,provideCodeActions:(ne,de,he,pe)=>{const ue=u.StandaloneServices.get(t.IMarkerService).read({resource:ne.uri}).filter(Ce=>m.Range.areIntersectingOrTouching(Ce,de));return $.provideCodeActions(ne,de,{markers:ue,only:he.only},pe)},resolveCodeAction:$.resolveCodeAction})}e.registerCodeActionProvider=ee;function ie(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).documentFormattingEditProvider.register(j,$)}e.registerDocumentFormattingEditProvider=ie;function Y(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).documentRangeFormattingEditProvider.register(j,$)}e.registerDocumentRangeFormattingEditProvider=Y;function X(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).onTypeFormattingEditProvider.register(j,$)}e.registerOnTypeFormattingEditProvider=X;function J(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).linkProvider.register(j,$)}e.registerLinkProvider=J;function oe(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).completionProvider.register(j,$)}e.registerCompletionItemProvider=oe;function G(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).colorProvider.register(j,$)}e.registerColorProvider=G;function x(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).foldingRangeProvider.register(j,$)}e.registerFoldingRangeProvider=x;function V(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).declarationProvider.register(j,$)}e.registerDeclarationProvider=V;function K(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).selectionRangeProvider.register(j,$)}e.registerSelectionRangeProvider=K;function le(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).documentSemanticTokensProvider.register(j,$)}e.registerDocumentSemanticTokensProvider=le;function ae(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).documentRangeSemanticTokensProvider.register(j,$)}e.registerDocumentRangeSemanticTokensProvider=ae;function Q(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).inlineCompletionsProvider.register(j,$)}e.registerInlineCompletionsProvider=Q;function q(j,$){return u.StandaloneServices.get(o.ILanguageFeaturesService).inlayHintsProvider.register(j,$)}e.registerInlayHintsProvider=q;function Z(){return{register:d,getLanguages:r,onLanguage:s,getEncodedLanguageId:c,setLanguageConfiguration:a,setColorMap:C,registerTokensProviderFactory:y,setTokensProvider:w,setMonarchTokensProvider:T,registerReferenceProvider:N,registerRenameProvider:R,registerCompletionItemProvider:oe,registerSignatureHelpProvider:B,registerHoverProvider:O,registerDocumentSymbolProvider:D,registerDocumentHighlightProvider:A,registerLinkedEditingRangeProvider:P,registerDefinitionProvider:F,registerImplementationProvider:W,registerTypeDefinitionProvider:M,registerCodeLensProvider:z,registerCodeActionProvider:ee,registerDocumentFormattingEditProvider:ie,registerDocumentRangeFormattingEditProvider:Y,registerOnTypeFormattingEditProvider:X,registerLinkProvider:J,registerColorProvider:G,registerFoldingRangeProvider:x,registerDeclarationProvider:V,registerSelectionRangeProvider:K,registerDocumentSemanticTokensProvider:le,registerDocumentRangeSemanticTokensProvider:ae,registerInlineCompletionsProvider:Q,registerInlayHintsProvider:q,DocumentHighlightKind:v.DocumentHighlightKind,CompletionItemKind:v.CompletionItemKind,CompletionItemTag:v.CompletionItemTag,CompletionItemInsertTextRule:v.CompletionItemInsertTextRule,SymbolKind:v.SymbolKind,SymbolTag:v.SymbolTag,IndentAction:v.IndentAction,CompletionTriggerKind:v.CompletionTriggerKind,SignatureHelpTriggerKind:v.SignatureHelpTriggerKind,InlayHintKind:v.InlayHintKind,InlineCompletionTriggerKind:v.InlineCompletionTriggerKind,FoldingRangeKind:k.FoldingRangeKind}}e.createMonacoLanguagesAPI=Z}),define(re[765],se([1,0,33,256,763,764,17,297]),function(U,e,E,m,k,I,L,_){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,E.EditorOptions.wrappingIndent.defaultValue=0,E.EditorOptions.glyphMargin.defaultValue=!1,E.EditorOptions.autoIndent.defaultValue=3,E.EditorOptions.overviewRulerLanes.defaultValue=2,_.FormattingConflicts.setFormatterSelector((h,i,n)=>Promise.resolve(h[0]));const u=(0,m.createMonacoBaseAPI)();u.editor=(0,k.createMonacoEditorAPI)(),u.languages=(0,I.createMonacoLanguagesAPI)(),e.CancellationTokenSource=u.CancellationTokenSource,e.Emitter=u.Emitter,e.KeyCode=u.KeyCode,e.KeyMod=u.KeyMod,e.Position=u.Position,e.Range=u.Range,e.Selection=u.Selection,e.SelectionDirection=u.SelectionDirection,e.MarkerSeverity=u.MarkerSeverity,e.MarkerTag=u.MarkerTag,e.Uri=u.Uri,e.Token=u.Token,e.editor=u.editor,e.languages=u.languages,(((v=L.globals.MonacoEnvironment)===null||v===void 0?void 0:v.globalAPI)||typeof define=="function"&&define.amd)&&(self.monaco=u),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var Jt=this&&this.__createBinding||(Object.create?function(U,e,E,m){m===void 0&&(m=E);var k=Object.getOwnPropertyDescriptor(e,E);(!k||("get"in k?!e.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return e[E]}}),Object.defineProperty(U,m,k)}:function(U,e,E,m){m===void 0&&(m=E),U[m]=e[E]}),ei=this&&this.__exportStar||function(U,e){for(var E in U)E!=="default"&&!Object.prototype.hasOwnProperty.call(e,E)&&Jt(e,U,E)};define(re[766],se([1,0,765,761,701,702,703,644,705,706,704,751,707]),function(U,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),ei(E,e)})}).call(this);


/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0-dev.20220427(3a91ce8411849a5850b11df9d1804aa65ff6eecd)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var v=Object.create;var m=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var q=Object.getPrototypeOf,A=Object.prototype.hasOwnProperty;var M=e=>m(e,"__esModule",{value:!0});var a=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(r,t)=>(typeof require!="undefined"?require:r)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var D=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var u=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of x(r))!A.call(e,o)&&(t||o!=="default")&&m(e,o,{get:()=>r[o],enumerable:!(n=y(r,o))||n.enumerable});return e},p=(e,r)=>u(M(m(e!=null?v(q(e)):{},"default",!r&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var d=D((w,c)=>{var b=p(a("vs/editor/editor.api"));c.exports=b});var s={};u(s,p(d()));var f={},g={},l=class{static getOrCreate(r){return g[r]||(g[r]=new l(r)),g[r]}_languageId;_loadingTriggered;_lazyLoadPromise;_lazyLoadPromiseResolve;_lazyLoadPromiseReject;constructor(r){this._languageId=r,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((t,n)=>{this._lazyLoadPromiseResolve=t,this._lazyLoadPromiseReject=n})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,f[this._languageId].loader().then(r=>this._lazyLoadPromiseResolve(r),r=>this._lazyLoadPromiseReject(r))),this._lazyLoadPromise}};function i(e){let r=e.id;f[r]=e,s.languages.register(e);let t=l.getOrCreate(r);s.languages.registerTokensProviderFactory(r,{create:async()=>(await t.load()).language}),s.languages.onLanguage(r,async()=>{let n=await t.load();s.languages.setLanguageConfiguration(r,n.conf)})}i({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/abap/abap"],e,r)})});i({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/apex/apex"],e,r)})});i({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/azcli/azcli"],e,r)})});i({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bat/bat"],e,r)})});i({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bicep/bicep"],e,r)})});i({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cameligo/cameligo"],e,r)})});i({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/clojure/clojure"],e,r)})});i({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/coffee/coffee"],e,r)})});i({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csharp/csharp"],e,r)})});i({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csp/csp"],e,r)})});i({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/css/css"],e,r)})});i({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dart/dart"],e,r)})});i({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dockerfile/dockerfile"],e,r)})});i({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ecl/ecl"],e,r)})});i({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/elixir/elixir"],e,r)})});i({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/flow9/flow9"],e,r)})});i({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/fsharp/fsharp"],e,r)})});i({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationBracket)});i({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationBracket)});i({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationDollar)});i({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationBracket)});i({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/go/go"],e,r)})});i({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/graphql/graphql"],e,r)})});i({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/handlebars/handlebars"],e,r)})});i({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/hcl/hcl"],e,r)})});i({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/html/html"],e,r)})});i({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ini/ini"],e,r)})});i({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/java/java"],e,r)})});i({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/javascript/javascript"],e,r)})});i({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/julia/julia"],e,r)})});i({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/kotlin/kotlin"],e,r)})});i({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/less/less"],e,r)})});i({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lexon/lexon"],e,r)})});i({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lua/lua"],e,r)})});i({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/liquid/liquid"],e,r)})});i({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/m3/m3"],e,r)})});i({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/markdown/markdown"],e,r)})});i({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mips/mips"],e,r)})});i({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/msdax/msdax"],e,r)})});i({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mysql/mysql"],e,r)})});i({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/objective-c/objective-c"],e,r)})});i({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascal/pascal"],e,r)})});i({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascaligo/pascaligo"],e,r)})});i({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/perl/perl"],e,r)})});i({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pgsql/pgsql"],e,r)})});i({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/php/php"],e,r)})});i({id:"pla",extensions:[".pla"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pla/pla"],e,r)})});i({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/postiats/postiats"],e,r)})});i({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powerquery/powerquery"],e,r)})});i({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powershell/powershell"],e,r)})});i({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/protobuf/protobuf"],e,r)})});i({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pug/pug"],e,r)})});i({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/python/python"],e,r)})});i({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/qsharp/qsharp"],e,r)})});i({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/r/r"],e,r)})});i({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/razor/razor"],e,r)})});i({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redis/redis"],e,r)})});i({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redshift/redshift"],e,r)})});i({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/restructuredtext/restructuredtext"],e,r)})});i({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ruby/ruby"],e,r)})});i({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/rust/rust"],e,r)})});i({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sb/sb"],e,r)})});i({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scala/scala"],e,r)})});i({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scheme/scheme"],e,r)})});i({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scss/scss"],e,r)})});i({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/shell/shell"],e,r)})});i({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/solidity/solidity"],e,r)})});i({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sophia/sophia"],e,r)})});i({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sparql/sparql"],e,r)})});i({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sql/sql"],e,r)})});i({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/st/st"],e,r)})});i({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/swift/swift"],e,r)})});i({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/tcl/tcl"],e,r)})});i({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/twig/twig"],e,r)})});i({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/typescript/typescript"],e,r)})});i({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/vb/vb"],e,r)})});i({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/xml/xml"],e,r)})});i({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/yaml/yaml"],e,r)})});})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0-dev.20220427(3a91ce8411849a5850b11df9d1804aa65ff6eecd)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/css/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var C=Object.create;var a=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var y=e=>a(e,"__esModule",{value:!0});var l=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,r)=>(typeof require!="undefined"?require:n)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var I=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),M=(e,n)=>{for(var r in n)a(e,r,{get:n[r],enumerable:!0})},s=(e,n,r,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of b(n))!h.call(e,t)&&(r||t!=="default")&&a(e,t,{get:()=>n[t],enumerable:!(i=S(n,t))||i.enumerable});return e},w=(e,n)=>s(y(a(e!=null?C(x(e)):{},"default",!n&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),P=(e=>(n,r)=>e&&e.get(n)||(r=s(y({}),n,1),e&&e.set(n,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var v=I((L,D)=>{var O=w(l("vs/editor/editor.api"));D.exports=O});var R={};M(R,{cssDefaults:()=>p,lessDefaults:()=>f,scssDefaults:()=>c});var o={};s(o,w(v()));var g=class{_onDidChange=new o.Emitter;_options;_modeConfiguration;_languageId;constructor(n,r,i){this._languageId=n,this.setOptions(r),this.setModeConfiguration(i)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},d={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},u={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},p=new g("css",d,u),c=new g("scss",d,u),f=new g("less",d,u);o.languages.css={cssDefaults:p,lessDefaults:f,scssDefaults:c};function m(){return new Promise((e,n)=>{l(["vs/language/css/cssMode"],e,n)})}o.languages.onLanguage("less",()=>{m().then(e=>e.setupMode(f))});o.languages.onLanguage("scss",()=>{m().then(e=>e.setupMode(c))});o.languages.onLanguage("css",()=>{m().then(e=>e.setupMode(p))});return P(R);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0-dev.20220427(3a91ce8411849a5850b11df9d1804aa65ff6eecd)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/html/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var w=Object.create;var d=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var y=e=>d(e,"__esModule",{value:!0});var f=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(n,t)=>(typeof require!="undefined"?require:n)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var k=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),T=(e,n)=>{for(var t in n)d(e,t,{get:n[t],enumerable:!0})},l=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of H(n))!_.call(e,o)&&(t||o!=="default")&&d(e,o,{get:()=>n[o],enumerable:!(r=R(n,o))||r.enumerable});return e},b=(e,n)=>l(y(d(e!=null?w(O(e)):{},"default",!n&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),A=(e=>(n,t)=>e&&e.get(n)||(t=l(y({}),n,1),e&&e.set(n,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var h=k((z,v)=>{var E=b(f("vs/editor/editor.api"));v.exports=E});var V={};T(V,{handlebarDefaults:()=>M,handlebarLanguageService:()=>c,htmlDefaults:()=>x,htmlLanguageService:()=>p,razorDefaults:()=>I,razorLanguageService:()=>m,registerHTMLLanguageService:()=>s});var a={};l(a,b(h()));var L=class{_onDidChange=new a.Emitter;_options;_modeConfiguration;_languageId;constructor(n,t,r){this._languageId=n,this.setOptions(t),this.setModeConfiguration(r)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},F={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},u={format:F,suggest:{},data:{useDefaultDataProvider:!0}};function g(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",D="handlebars",C="razor",p=s(i,u,g(i)),x=p.defaults,c=s(D,u,g(D)),M=c.defaults,m=s(C,u,g(C)),I=m.defaults;a.languages.html={htmlDefaults:x,razorDefaults:I,handlebarDefaults:M,htmlLanguageService:p,handlebarLanguageService:c,razorLanguageService:m,registerHTMLLanguageService:s};function P(){return new Promise((e,n)=>{f(["vs/language/html/htmlMode"],e,n)})}function s(e,n=u,t=g(e)){let r=new L(e,n,t),o,S=a.languages.onLanguage(e,async()=>{o=(await P()).setupMode(r)});return{defaults:r,dispose(){S.dispose(),o?.dispose(),o=void 0}}}return A(V);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0-dev.20220427(3a91ce8411849a5850b11df9d1804aa65ff6eecd)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/json/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var p=Object.create;var s=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var d=e=>s(e,"__esModule",{value:!0});var g=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(o,n)=>(typeof require!="undefined"?require:o)[n]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var D=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports),b=(e,o)=>{for(var n in o)s(e,n,{get:o[n],enumerable:!0})},r=(e,o,n,a)=>{if(o&&typeof o=="object"||typeof o=="function")for(let i of v(o))!C.call(e,i)&&(n||i!=="default")&&s(e,i,{get:()=>o[i],enumerable:!(a=y(o,i))||a.enumerable});return e},u=(e,o)=>r(d(s(e!=null?p(h(e)):{},"default",!o&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),O=(e=>(o,n)=>e&&e.get(o)||(n=r(d({}),o,1),e&&e.set(o,n),n))(typeof WeakMap!="undefined"?new WeakMap:0);var m=D((I,c)=>{var M=u(g("vs/editor/editor.api"));c.exports=M});var L={};b(L,{jsonDefaults:()=>l});var t={};r(t,u(m()));var f=class{_onDidChange=new t.Emitter;_diagnosticsOptions;_modeConfiguration;_languageId;constructor(o,n,a){this._languageId=o,this.setDiagnosticsOptions(n),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(o){this._diagnosticsOptions=o||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(o){this._modeConfiguration=o||Object.create(null),this._onDidChange.fire(this)}},S={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},j={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},l=new f("json",S,j);t.languages.json={jsonDefaults:l};function _(){return new Promise((e,o)=>{g(["vs/language/json/jsonMode"],e,o)})}t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});t.languages.onLanguage("json",()=>{_().then(e=>e.setupMode(l))});return O(L);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.34.0-dev.20220427(3a91ce8411849a5850b11df9d1804aa65ff6eecd)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
var moduleExports=(()=>{var k=Object.create;var m=Object.defineProperty;var N=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var D=n=>m(n,"__esModule",{value:!0});var b=(n=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(n,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):n)(function(n){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+n+'" is not supported')});var M=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),F=(n,e)=>{for(var t in e)m(n,t,{get:e[t],enumerable:!0})},g=(n,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of H(e))!w.call(n,s)&&(t||s!=="default")&&m(n,s,{get:()=>e[s],enumerable:!(o=N(e,s))||o.enumerable});return n},L=(n,e)=>g(D(m(n!=null?k(R(n)):{},"default",!e&&n&&n.__esModule?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n),W=(n=>(e,t)=>n&&n.get(e)||(t=g(D({}),e,1),n&&n.set(e,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var I=M((B,C)=>{var A=L(b("vs/editor/editor.api"));C.exports=A});var V={};F(V,{JsxEmit:()=>u,ModuleKind:()=>d,ModuleResolutionKind:()=>h,NewLineKind:()=>y,ScriptTarget:()=>f,getJavaScriptWorker:()=>S,getTypeScriptWorker:()=>P,javascriptDefaults:()=>v,typescriptDefaults:()=>x,typescriptVersion:()=>_});var E="4.5.5";var l={};g(l,L(I()));var d=(r=>(r[r.None=0]="None",r[r.CommonJS=1]="CommonJS",r[r.AMD=2]="AMD",r[r.UMD=3]="UMD",r[r.System=4]="System",r[r.ES2015=5]="ES2015",r[r.ESNext=99]="ESNext",r))(d||{}),u=(a=>(a[a.None=0]="None",a[a.Preserve=1]="Preserve",a[a.React=2]="React",a[a.ReactNative=3]="ReactNative",a[a.ReactJSX=4]="ReactJSX",a[a.ReactJSXDev=5]="ReactJSXDev",a))(u||{}),y=(t=>(t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed",t))(y||{}),f=(i=>(i[i.ES3=0]="ES3",i[i.ES5=1]="ES5",i[i.ES2015=2]="ES2015",i[i.ES2016=3]="ES2016",i[i.ES2017=4]="ES2017",i[i.ES2018=5]="ES2018",i[i.ES2019=6]="ES2019",i[i.ES2020=7]="ES2020",i[i.ESNext=99]="ESNext",i[i.JSON=100]="JSON",i[i.Latest=99]="Latest",i))(f||{}),h=(t=>(t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs",t))(h||{}),O=class{_onDidChange=new l.Emitter;_onDidExtraLibsChange=new l.Emitter;_extraLibs;_removedExtraLibs;_eagerModelSync;_compilerOptions;_diagnosticsOptions;_workerOptions;_onDidExtraLibsChangeTimeout;_inlayHintsOptions;constructor(e,t,o,s){this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(o),this.setInlayHintsOptions(s),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let o;if(typeof t>"u"?o=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:o=t,this._extraLibs[o]&&this._extraLibs[o].content===e)return{dispose:()=>{}};let s=1;return this._removedExtraLibs[o]&&(s=this._removedExtraLibs[o]+1),this._extraLibs[o]&&(s=this._extraLibs[o].version+1),this._extraLibs[o]={content:e,version:s},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let p=this._extraLibs[o];!p||p.version===s&&(delete this._extraLibs[o],this._removedExtraLibs[o]=s,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(let t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(let t of e){let o=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,s=t.content,p=1;this._removedExtraLibs[o]&&(p=this._removedExtraLibs[o]+1),this._extraLibs[o]={content:s,version:p}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}},_=E,x=new O({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),v=new O({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),P=()=>c().then(n=>n.getTypeScriptWorker()),S=()=>c().then(n=>n.getJavaScriptWorker());l.languages.typescript={ModuleKind:d,JsxEmit:u,NewLineKind:y,ScriptTarget:f,ModuleResolutionKind:h,typescriptVersion:_,typescriptDefaults:x,javascriptDefaults:v,getTypeScriptWorker:P,getJavaScriptWorker:S};function c(){return new Promise((n,e)=>{b(["vs/language/typescript/tsMode"],n,e)})}l.languages.onLanguage("typescript",()=>c().then(n=>n.setupTypeScript(x)));l.languages.onLanguage("javascript",()=>c().then(n=>n.setupJavaScript(v)));return W(V);})();
return moduleExports;
});

define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/basic-languages/monaco.contribution","vs/language/css/monaco.contribution","vs/language/html/monaco.contribution","vs/language/json/monaco.contribution","vs/language/typescript/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map