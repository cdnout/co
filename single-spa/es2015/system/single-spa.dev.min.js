System.register([],function(It){"use strict";return{execute:function(){It({addErrorHandler:t,checkActivityFunctions:Pt,ensureJQuerySupport:lt,getAppNames:yt,getAppStatus:Et,getMountedApps:vt,mountRootParcel:I,navigateToUrl:tt,patchHistoryApi:st,pathToActiveWhen:St,registerApplication:Tt,removeErrorHandler:n,setBootstrapMaxTime:F,setMountMaxTime:K,setUnloadMaxTime:Q,setUnmountMaxTime:J,start:Lt,triggerAppChange:Dt,unloadApplication:At,unregisterApplication:Ot});var r=Object.freeze({__proto__:null,get start(){return Lt},get ensureJQuerySupport(){return lt},get setBootstrapMaxTime(){return F},get setMountMaxTime(){return K},get setUnmountMaxTime(){return J},get setUnloadMaxTime(){return Q},get registerApplication(){return Tt},get unregisterApplication(){return Ot},get getMountedApps(){return vt},get getAppStatus(){return Et},get unloadApplication(){return At},get checkActivityFunctions(){return Pt},get getAppNames(){return yt},get pathToActiveWhen(){return St},get navigateToUrl(){return tt},get patchHistoryApi(){return st},get triggerAppChange(){return Dt},get addErrorHandler(){return t},get removeErrorHandler(){return n},get mountRootParcel(){return I},get NOT_LOADED(){return E},get LOADING_SOURCE_CODE(){return b},get NOT_BOOTSTRAPPED(){return T},get BOOTSTRAPPING(){return o},get NOT_MOUNTED(){return P},get MOUNTING(){return s},get UPDATING(){return d},get LOAD_ERROR(){return A},get MOUNTED(){return O},get UNMOUNTING(){return u},get SKIP_BECAUSE_BROKEN(){return N}}),e=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).CustomEvent;var v=function(){try{var t=new e("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}}()?e:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(t,e){var n=document.createEvent("CustomEvent");return e?n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):n.initCustomEvent(t,!1,!1,void 0),n}:function(t,e){var n=document.createEventObject();return n.type=t,e?(n.bubbles=Boolean(e.bubbles),n.cancelable=Boolean(e.cancelable),n.detail=e.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n};let i=[];function a(t,e,n){const o=m(t,e,n);i.length?i.forEach(t=>t(o)):setTimeout(()=>{throw o})}function t(t){if("function"!=typeof t)throw Error(y(28,"a single-spa error handler must be a function"));i.push(t)}function n(e){if("function"!=typeof e)throw Error(y(29,"a single-spa error handler must be a function"));let n=!1;return i=i.filter(t=>{t=t===e;return n=n||t,!t}),n}function y(t,e,...n){return`single-spa minified message #${t}: ${e?e+" ":""}See https://single-spa.js.org/error/?code=${t}${n.length?`&arg=${n.join("&arg=")}`:""}`}function m(e,t,n){var o=`${f(t)} '${S(t)}' died in status ${t.status}: `;let r;if(e instanceof Error){try{e.message=o+e.message}catch(t){}r=e}else{console.warn(y(30,`While ${t.status}, '${S(t)}' rejected its lifecycle function promise with a non-Error. This will cause stack traces to not be accurate.`,t.status,S(t)));try{r=Error(o+JSON.stringify(e))}catch(t){r=e}}return r.appOrParcelName=S(t),t.status=n,r}const E=It("NOT_LOADED","NOT_LOADED"),b=It("LOADING_SOURCE_CODE","LOADING_SOURCE_CODE"),T=It("NOT_BOOTSTRAPPED","NOT_BOOTSTRAPPED"),o=It("BOOTSTRAPPING","BOOTSTRAPPING"),P=It("NOT_MOUNTED","NOT_MOUNTED"),s=It("MOUNTING","MOUNTING"),O=It("MOUNTED","MOUNTED"),d=It("UPDATING","UPDATING"),u=It("UNMOUNTING","UNMOUNTING"),c="UNLOADING",A=It("LOAD_ERROR","LOAD_ERROR"),N=It("SKIP_BECAUSE_BROKEN","SKIP_BECAUSE_BROKEN");function l(t){return t.status===O}function $(e){try{return e.activeWhen(window.location)}catch(t){return a(t,e,N),!1}}function S(t){return t.name}function p(t){return Boolean(t.unmountThisParcel)}function f(t){return p(t)?"parcel":"application"}function _(t){for(let t=arguments.length-1;0<t;t--)for(var e in arguments[t])"__proto__"!==e&&(arguments[t-1][e]=arguments[t][e]);return t}function h(e,n){for(let t=0;t<e.length;t++)if(n(e[t]))return e[t];return null}function g(t){return t&&("function"==typeof t||(e=t,Array.isArray(e)&&!h(e,t=>"function"!=typeof t)));var e}function w(t,r){let e=t[r]||[];e=Array.isArray(e)?e:[e],0===e.length&&(e=[()=>Promise.resolve()]);const i=f(t),a=S(t);return function(o){return e.reduce((t,e,n)=>t.then(()=>{var t=e(o);return U(t)?t:Promise.reject(y(15,`Within ${i} ${a}, the lifecycle function ${r} at array index ${n} did not return a promise`,i,a,r,n))}),Promise.resolve())}}function U(t){return t&&"function"==typeof t.then&&"function"==typeof t.catch}function j(e,n){return Promise.resolve().then(()=>e.status!==T?e:(e.status=o,e.bootstrap?q(e,"bootstrap").then(t).catch(t=>{if(n)throw m(t,e,N);return a(t,e,N),e}):Promise.resolve().then(t)));function t(){return e.status=P,e}}function D(o,r){return Promise.resolve().then(()=>{if(o.status!==O)return o;o.status=u;var t=Object.keys(o.parcels).map(t=>o.parcels[t].unmountThisParcel());return Promise.all(t).then(n,e=>n().then(()=>{var t=Error(e.message);if(r)throw m(t,o,N);a(t,o,N)})).then(()=>o);function n(){return q(o,"unmount").then(()=>{o.status=P}).catch(t=>{if(r)throw m(t,o,N);a(t,o,N)})}})}let M=!1,x=!1;function R(n,o){return Promise.resolve().then(()=>n.status!==P?n:(M||(window.dispatchEvent(new v("single-spa:before-first-mount")),M=!0),n.status=s,q(n,"mount").then(()=>(n.status=O,x||(window.dispatchEvent(new v("single-spa:first-mount")),x=!0),n)).catch(t=>{return n.status=O,D(n,!0).then(e,e);function e(){if(o)throw m(t,n,N);return a(t,n,N),n}})))}let L=0;const C={parcels:{}};function I(){return W.apply(C,arguments)}function W(t,e){const n=this;if(!t||"object"!=typeof t&&"function"!=typeof t)throw Error(y(2,"Cannot mount parcel without a config object or config loading function"));if(t.name&&"string"!=typeof t.name)throw Error(y(3,`Parcel name must be a string, if provided. Was given ${typeof t.name}`,typeof t.name));const r=L++;let i=t.name||`parcel-${r}`;if("object"!=typeof e)throw Error(y(4,`Parcel ${i} has invalid customProps -- must be an object but was given ${typeof e}`,i,typeof e));if(!e.domElement)throw Error(y(5,`Parcel ${i} cannot be mounted without a domElement provided as a prop`,i));var o="function"==typeof t;const a=o?t:()=>Promise.resolve(t),s={id:r,parcels:{},status:o?b:T,customProps:e,parentName:S(n),unmountThisParcel(){return p.then(()=>{if(s.status!==O)throw Error(y(6,`Cannot unmount parcel '${i}' -- it is in a ${s.status} status`,i,s.status));return D(s,!0)}).then(t=>(s.parentName&&delete n.parcels[s.id],t)).then(t=>(f(t),t)).catch(t=>{throw s.status=N,h(t),t})}};let u;n.parcels[r]=s;let c=a();if(!c||"function"!=typeof c.then)throw Error(y(7,"When mounting a parcel, the config loading function must return a promise that resolves with the parcel config"));c=c.then(t=>{if(!t)throw Error(y(8,"When mounting a parcel, the config loading function returned a promise that did not resolve with a parcel config"));if(i=t.name||`parcel-${r}`,Object.prototype.hasOwnProperty.call(t,"bootstrap")&&!g(t.bootstrap))throw Error(y(9,`Parcel ${i} provided an invalid bootstrap function`,i));if(!g(t.mount))throw Error(y(10,`Parcel ${i} must have a valid mount function`,i));if(!g(t.unmount))throw Error(y(11,`Parcel ${i} must have a valid unmount function`,i));if(t.update&&!g(t.update))throw Error(y(12,`Parcel ${i} provided an invalid update function`,i));var e=w(t,"bootstrap"),n=w(t,"mount"),o=w(t,"unmount");s.status=T,s.name=i,s.bootstrap=e,s.mount=n,s.unmount=o,s.timeouts=V(t.timeouts),t.update&&(s.update=w(t,"update"),u.update=function(t){return s.customProps=t,B((e=s,Promise.resolve().then(()=>{if(e.status!==O)throw Error(y(32,`Cannot update parcel '${S(e)}' because it is not mounted`,S(e)));return e.status=d,q(e,"update").then(()=>(e.status=O,e)).catch(t=>{throw m(t,e,N)})})));var e})});const l=c.then(()=>j(s,!0)),p=l.then(()=>R(s,!0));let f,h;e=new Promise((t,e)=>{f=t,h=e});return u={mount(){return B(Promise.resolve().then(()=>{if(s.status!==P)throw Error(y(13,`Cannot mount parcel '${i}' -- it is in a ${s.status} status`,i,s.status));return n.parcels[r]=s,R(s)}))},unmount(){return B(s.unmountThisParcel())},getStatus(){return s.status},loadPromise:B(c),bootstrapPromise:B(l),mountPromise:B(p),unmountPromise:B(e)},u}function B(t){return t.then(()=>null)}function G(t){var e=S(t);let n="function"==typeof t.customProps?t.customProps(e,window.location):t.customProps;"object"==typeof n&&null!==n&&!Array.isArray(n)||(n={},console.warn(y(40,`single-spa: ${e}'s customProps function must return an object. Received ${n}`),e,n));const o=_({},n,{name:e,mountParcel:W.bind(t),singleSpa:r});return p(t)&&(o.unmountSelf=t.unmountThisParcel),o}const k=1e3,H={bootstrap:{millis:4e3,dieOnTimeout:!1,warningMillis:k},mount:{millis:3e3,dieOnTimeout:!1,warningMillis:k},unmount:{millis:3e3,dieOnTimeout:!1,warningMillis:k},unload:{millis:3e3,dieOnTimeout:!1,warningMillis:k},update:{millis:3e3,dieOnTimeout:!1,warningMillis:k}};function F(t,e,n){if("number"!=typeof t||t<=0)throw Error(y(16,"bootstrap max time must be a positive integer number of milliseconds"));H.bootstrap={millis:t,dieOnTimeout:e,warningMillis:n||k}}function K(t,e,n){if("number"!=typeof t||t<=0)throw Error(y(17,"mount max time must be a positive integer number of milliseconds"));H.mount={millis:t,dieOnTimeout:e,warningMillis:n||k}}function J(t,e,n){if("number"!=typeof t||t<=0)throw Error(y(18,"unmount max time must be a positive integer number of milliseconds"));H.unmount={millis:t,dieOnTimeout:e,warningMillis:n||k}}function Q(t,e,n){if("number"!=typeof t||t<=0)throw Error(y(19,"unload max time must be a positive integer number of milliseconds"));H.unload={millis:t,dieOnTimeout:e,warningMillis:n||k}}function q(t,s){const u=t.timeouts[s],c=u.warningMillis,l=f(t);return new Promise((e,n)=>{let o=!1,r=!1;t[s](G(t)).then(t=>{o=!0,e(t)}).catch(t=>{o=!0,n(t)}),setTimeout(()=>a(1),c),setTimeout(()=>a(!0),u.millis);const i=y(31,`Lifecycle function ${s} for ${l} ${S(t)} lifecycle did not resolve or reject for ${u.millis} ms.`,s,l,S(t),u.millis);function a(t){if(!o)if(!0===t)r=!0,u.dieOnTimeout?n(Error(i)):console.error(i);else if(!r){const e=t;t=e*c;console.warn(i),t+c<u.millis&&setTimeout(()=>a(e+1),c)}}})}function V(t){const e={};for(var n in H)e[n]=_({},H[n],t&&t[n]||{});return e}function z(i){return Promise.resolve().then(()=>{if(i.loadPromise)return i.loadPromise;if(i.status!==E&&i.status!==A)return i;i.status=b;let r,n;return i.loadPromise=Promise.resolve().then(()=>{const t=i.loadApp(G(i));if(!U(t))throw n=!0,Error(y(33,`single-spa loading function did not return a promise. Check the second argument to registerApplication('${S(i)}', loadingFunction, activityFunction)`,S(i)));return t.then(e=>{i.loadErrorTime=null,r=e;let n,o;"object"!=typeof r&&(o=34,n="does not export anything"),Object.prototype.hasOwnProperty.call(r,"bootstrap")&&!g(r.bootstrap)&&(o=35,n="does not export a valid bootstrap function or array of functions"),g(r.mount)||(o=36,n="does not export a mount function or array of functions"),g(r.unmount)||(o=37,n="does not export a unmount function or array of functions");e=f(r);if(o){let t;try{t=JSON.stringify(r)}catch(t){}return console.error(y(o,`The loading function for single-spa ${e} '${S(i)}' resolved with the following, which does not have bootstrap, mount, and unmount functions`,e,S(i),t),r),a(n,i,N),i}return r.devtools&&r.devtools.overlays&&(i.devtools.overlays=_({},i.devtools.overlays,r.devtools.overlays)),i.status=T,i.bootstrap=w(r,"bootstrap"),i.mount=w(r,"mount"),i.unmount=w(r,"unmount"),i.unload=w(r,"unload"),i.timeouts=V(r.timeouts),delete i.loadPromise,i})}).catch(t=>{delete i.loadPromise;let e;return n?e=N:(e=A,i.loadErrorTime=(new Date).getTime()),a(t,i,e),i})})}const X="undefined"!=typeof window,Y={hashchange:[],popstate:[]},Z=["hashchange","popstate"];function tt(t){let e;if("string"==typeof t)e=t;else if(this&&this.href)e=this.href;else{if(!(t&&t.currentTarget&&t.currentTarget.href&&t.preventDefault))throw Error(y(14,"singleSpaNavigate/navigateToUrl must be either called with a string url, with an <a> tag as its context, or with an event whose currentTarget is an <a> tag"));e=t.currentTarget.href,t.preventDefault()}var n=ut(window.location.href),t=ut(e);0===e.indexOf("#")?window.location.hash=t.hash:n.host!==t.host&&t.host?window.location.href=e:t.pathname===n.pathname&&t.search===n.search?window.location.hash=t.hash:window.history.pushState(null,null,e)}function et(e){var t;e&&(t=e[0].type,0<=Z.indexOf(t)&&Y[t].forEach(t=>{try{t.apply(this,e)}catch(t){setTimeout(()=>{throw t})}}))}let nt;function ot(){Mt([],arguments)}function rt(o,r){return function(){var t=window.location.href,e=o.apply(this,arguments),n=window.location.href;return nt&&t===n||window.dispatchEvent(function(e,t){let n;try{n=new PopStateEvent("popstate",{state:e})}catch(t){n=document.createEvent("PopStateEvent"),n.initPopStateEvent("popstate",!1,!1,e)}return n.singleSpa=!0,n.singleSpaTrigger=t,n}(window.history.state,r)),e}}let it=null,at=!1;function st(t){if(at)throw Error(y(43,"single-spa: patchHistoryApi() was called after the history api was already patched."));nt=!t||!t.hasOwnProperty("urlRerouteOnly")||t.urlRerouteOnly,at=!0,it=window.history.replaceState,window.addEventListener("hashchange",ot),window.addEventListener("popstate",ot);const n=window.addEventListener,o=window.removeEventListener;window.addEventListener=function(t,e){if(!("function"==typeof e&&0<=Z.indexOf(t))||h(Y[t],t=>t===e))return n.apply(this,arguments);Y[t].push(e)},window.removeEventListener=function(t,e){if(!("function"==typeof e&&0<=Z.indexOf(t)))return o.apply(this,arguments);Y[t]=Y[t].filter(t=>t!==e)},window.history.pushState=rt(window.history.pushState,"pushState"),window.history.replaceState=rt(it,"replaceState")}function ut(t){const e=document.createElement("a");return e.href=t,e}X&&(window.singleSpaNavigate?console.warn(y(41,"single-spa has been loaded twice on the page. This can result in unexpected behavior.")):window.singleSpaNavigate=tt);let ct=!1;function lt(t=window.jQuery){if(t||window.$&&window.$.fn&&window.$.fn.jquery&&(t=window.$),t&&!ct){const n=t.fn.on,o=t.fn.off;t.fn.on=function(t,e){return pt.call(this,n,window.addEventListener,t,e,arguments)},t.fn.off=function(t,e){return pt.call(this,o,window.removeEventListener,t,e,arguments)},ct=!0}}function pt(t,e,n,o,r){if("string"!=typeof n)return t.apply(this,r);const i=n.split(/\s+/);return i.forEach(t=>{0<=Z.indexOf(t)&&(e(t,o),n=n.replace(t,""))}),""===n.trim()?this:t.apply(this,r)}const ft={};function ht(r){return Promise.resolve().then(()=>{const o=ft[S(r)];if(!o)return r;if(r.status===E)return mt(r,o),r;if(r.status===c)return o.promise.then(()=>r);if(r.status!==P&&r.status!==A)return r;const t=r.status===A?Promise.resolve():q(r,"unload");return r.status=c,t.then(()=>(mt(r,o),r)).catch(t=>{var e,n;return e=r,n=o,t=t,delete ft[S(e)],delete e.bootstrap,delete e.mount,delete e.unmount,delete e.unload,a(t,e,N),n.reject(t),r})})}function mt(t,e){delete ft[S(t)],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,t.status=E,e.resolve()}function dt(t,e,n,o){ft[S(t)]={app:t,resolve:n,reject:o},Object.defineProperty(ft[S(t)],"promise",{get:e})}function gt(t){return ft[t]}const wt=[];function vt(){return wt.filter(l).map(S)}function yt(){return wt.map(S)}function Et(e){var t=h(wt,t=>S(t)===e);return t?t.status:null}let bt=!1;function Tt(t,e,n,o){o=function(t,e,n,o){const r="object"==typeof t,i={name:null,loadApp:null,activeWhen:null,customProps:null};r?(function(t){if(Array.isArray(t)||null===t)throw Error(y(39,"Configuration object can't be an Array or null!"));const n=["name","app","activeWhen","customProps"],e=Object.keys(t).reduce((t,e)=>0<=n.indexOf(e)?t:t.concat(e),[]);if(0!==e.length)throw Error(y(38,`The configuration object accepts only: ${n.join(", ")}. Invalid keys: ${e.join(", ")}.`,n.join(", "),e.join(", ")));if("string"!=typeof t.name||0===t.name.length)throw Error(y(20,"The config.name on registerApplication must be a non-empty string"));if("object"!=typeof t.app&&"function"!=typeof t.app)throw Error(y(20,"The config.app on registerApplication must be an application or a loading function"));var o=t=>"string"==typeof t||"function"==typeof t;if(!(o(t.activeWhen)||Array.isArray(t.activeWhen)&&t.activeWhen.every(o)))throw Error(y(24,"The config.activeWhen on registerApplication must be a string, function or an array with both"));if(!$t(t.customProps))throw Error(y(22,"The optional config.customProps must be an object"))}(t),i.name=t.name,i.loadApp=t.app,i.activeWhen=t.activeWhen,i.customProps=t.customProps):(function(t,e,n,o){if("string"!=typeof t||0===t.length)throw Error(y(20,"The 1st argument to registerApplication must be a non-empty string 'appName'"));if(!e)throw Error(y(23,"The 2nd argument to registerApplication must be an application or loading application function"));if("function"!=typeof n)throw Error(y(24,"The 3rd argument to registerApplication must be an activeWhen function"));if(!$t(o))throw Error(y(22,"The optional 4th argument is a customProps and must be an object"))}(t,e,n,o),i.name=t,i.loadApp=e,i.activeWhen=n,i.customProps=o);return i.loadApp=function(t){return"function"==typeof t?t:()=>Promise.resolve(t)}(i.loadApp),i.customProps=function(t){return t||{}}(i.customProps),i.activeWhen=function(t){let n=Array.isArray(t)?t:[t];return n=n.map(t=>"function"==typeof t?t:St(t)),e=>n.some(t=>t(e))}(i.activeWhen),i}(t,e,n,o);if(Rt||bt||(bt=!0,setTimeout(()=>{Rt||console.warn(y(1,"singleSpa.start() has not been called, 5000ms after single-spa was loaded. Before start() is called, apps can be declared and loaded, but not bootstrapped or mounted."))},5e3)),-1!==yt().indexOf(o.name))throw Error(y(21,`There is already an app registered with name ${o.name}`,o.name));wt.push(_({loadErrorTime:null,status:E,parcels:{},devtools:{overlays:{options:{},selectors:[]}}},o)),X&&(lt(),Mt())}function Pt(e=window.location){return wt.filter(t=>t.activeWhen(e)).map(S)}function Ot(e){if(0===wt.filter(t=>S(t)===e).length)throw Error(y(25,`Cannot unregister application '${e}' because no such application has been registered`,e));return At(e).then(()=>{var t=wt.map(S).indexOf(e);wt.splice(t,1)})}function At(e,t={waitForUnmount:!1}){if("string"!=typeof e)throw Error(y(26,"unloadApplication requires a string 'appName'"));const o=h(wt,t=>S(t)===e);if(!o)throw Error(y(27,`Could not unload application '${e}' because no such application has been registered`,e));var r=gt(S(o));if(t&&t.waitForUnmount){if(r)return r.promise;{const n=new Promise((t,e)=>{dt(o,()=>n,t,e)});return n}}{let n;return r?(n=r.promise,Nt(o,r.resolve,r.reject)):n=new Promise((t,e)=>{dt(o,()=>n,t,e),Nt(o,t,e)}),n}}function Nt(t,e,n){D(t).then(ht).then(()=>{e(),setTimeout(()=>{Mt()})}).catch(n)}function $t(t){return!t||"function"==typeof t||"object"==typeof t&&null!==t&&!Array.isArray(t)}function St(t,e){const n=function(n,o){let r=0,i=!1,a="^";"/"!==n[0]&&(n="/"+n);for(let t=0;t<n.length;t++){var e=n[t],s=!i&&":"===e,e=i&&"/"===e;(s||e)&&u(t)}return u(n.length),new RegExp(a,"i");function u(t){var e=n.slice(r,t).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");a+=i?"[^/]+/?":e,t===n.length&&(i?o&&(a+="$"):(e=o?"":".*",a="/"===a.charAt(a.length-1)?`${a}${e}$`:`${a}(/${e})?(#.*)?$`)),i=!i,r=t}}(t,e);return t=>{let e=t.origin;e=e||`${t.protocol}//${t.host}`;t=t.href.replace(e,"").replace(t.search,"").split("?")[0];return n.test(t)}}let _t=!1,Ut=[],jt=X&&window.location.href;function Dt(){return Mt()}function Mt(i=[],a,n=!1){if(_t)return new Promise((t,e)=>{Ut.push({resolve:t,reject:e,eventArguments:a})});const{appsToUnload:s,appsToUnmount:u,appsToLoad:c,appsToMount:l}=function(){const n=[],o=[],r=[],i=[],a=(new Date).getTime();return wt.forEach(t=>{var e=t.status!==N&&$(t);switch(t.status){case A:e&&200<=a-t.loadErrorTime&&r.push(t);break;case E:case b:e&&r.push(t);break;case T:case P:!e&&gt(S(t))?n.push(t):e&&i.push(t);break;case O:e||o.push(t)}}),{appsToUnload:n,appsToUnmount:o,appsToLoad:r,appsToMount:i}}();let p,o=[],f=jt,h=jt=window.location.href;return Rt?(_t=!0,p=s.concat(c,u,l),Promise.resolve().then(()=>(w(0===p.length?"before-no-app-change":"before-app-change",g(!0)),w("before-routing-event",g(!0,{cancelNavigation:t})),Promise.all(o).then(t=>{if(t.some(t=>t))return it.call(window.history,history.state,"",f.substring(location.origin.length)),jt=location.href,_t=!1,Mt(i,a,!0);t=s.map(ht);const e=u.map(D).map(t=>t.then(ht));t=e.concat(t);const n=Promise.all(t);n.then(()=>{w("before-mount-routing-event",g(!0))});const o=c.map(t=>z(t).then(t=>xt(t,n))),r=l.filter(t=>c.indexOf(t)<0).map(t=>xt(t,n));return n.catch(t=>{throw d(),t}).then(()=>(d(),Promise.all(o.concat(r)).catch(e=>{throw i.forEach(t=>t.reject(e)),e}).then(m)))})))):(p=c,Promise.resolve().then(()=>{var t=c.map(z);return Promise.all(t).then(d).then(()=>[]).catch(t=>{throw d(),t})}));function t(t=!0){const e="function"==typeof(null==t?void 0:t.then)?t:Promise.resolve(t);o.push(e.catch(t=>(console.warn(Error(y(42,`single-spa: A cancelNavigation promise rejected with the following value: ${t}`))),console.warn(t),!1)))}function m(){const e=vt();i.forEach(t=>t.resolve(e));try{w(0===p.length?"no-app-change":"app-change",g()),w("routing-event",g())}catch(t){setTimeout(()=>{throw t})}var t;return _t=!1,0<Ut.length&&(t=Ut,Ut=[],Mt(t)),e}function d(){n||(i.forEach(t=>{et(t.eventArguments)}),et(a))}function g(t=!1,e){const o={},r={[O]:[],[P]:[],[E]:[],[N]:[]};t?(c.concat(l).forEach((t,e)=>{n(t,O)}),s.forEach(t=>{n(t,E)}),u.forEach(t=>{n(t,P)})):p.forEach(t=>{n(t)});t={detail:{newAppStatuses:o,appsByNewStatus:r,totalAppChanges:p.length,originalEvent:null==a?void 0:a[0],oldUrl:f,newUrl:h}};return e&&_(t.detail,e),t;function n(t,e){t=S(t);e=e||Et(t),o[t]=e;const n=r[e]=r[e]||[];n.push(t)}}function w(t,e){n||window.dispatchEvent(new v(`single-spa:${t}`,e))}}function xt(t,e){return $(t)?j(t).then(t=>e.then(()=>$(t)?R(t):t)):e.then(()=>t)}let Rt=!1;function Lt(t){Rt=!0,X&&(st(t),Mt())}var Ct={getRawAppData:function(){return[...wt]},reroute:Mt,NOT_LOADED:E,toLoadPromise:z,toBootstrapPromise:j,unregisterApplication:Ot};X&&window.__SINGLE_SPA_DEVTOOLS__&&(window.__SINGLE_SPA_DEVTOOLS__.exposedMethods=Ct)}}});