System.register([],function(Gt){"use strict";return{execute:function(){Gt({addErrorHandler:t,checkActivityFunctions:At,ensureJQuerySupport:pt,getAppNames:Et,getAppStatus:Tt,getMountedApps:bt,mountRootParcel:G,navigateToUrl:rt,patchHistoryApi:st,pathToActiveWhen:jt,registerApplication:Ot,removeErrorHandler:e,setBootstrapMaxTime:J,setMountMaxTime:Q,setUnloadMaxTime:V,setUnmountMaxTime:q,start:Wt,triggerAppChange:Rt,unloadApplication:St,unregisterApplication:Nt});var r=Object.freeze({__proto__:null,get start(){return Wt},get ensureJQuerySupport(){return pt},get setBootstrapMaxTime(){return J},get setMountMaxTime(){return Q},get setUnmountMaxTime(){return q},get setUnloadMaxTime(){return V},get registerApplication(){return Ot},get unregisterApplication(){return Nt},get getMountedApps(){return bt},get getAppStatus(){return Tt},get unloadApplication(){return St},get checkActivityFunctions(){return At},get getAppNames(){return Et},get pathToActiveWhen(){return jt},get navigateToUrl(){return rt},get patchHistoryApi(){return st},get triggerAppChange(){return Rt},get addErrorHandler(){return t},get removeErrorHandler(){return e},get mountRootParcel(){return G},get NOT_LOADED(){return A},get LOADING_SOURCE_CODE(){return N},get NOT_BOOTSTRAPPED(){return S},get BOOTSTRAPPING(){return i},get NOT_MOUNTED(){return _},get MOUNTING(){return u},get UPDATING(){return m},get LOAD_ERROR(){return j},get MOUNTED(){return U},get UNMOUNTING(){return c},get SKIP_BECAUSE_BROKEN(){return D}});function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var n=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).CustomEvent;var P=function(){try{var t=new n("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}}()?n:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(t,n){var e=document.createEvent("CustomEvent");return n?e.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):e.initCustomEvent(t,!1,!1,void 0),e}:function(t,n){var e=document.createEventObject();return e.type=t,n?(e.bubbles=Boolean(n.bubbles),e.cancelable=Boolean(n.cancelable),e.detail=n.detail):(e.bubbles=!1,e.cancelable=!1,e.detail=void 0),e},o=[];function a(t,n,e){var r=h(t,n,e);o.length?o.forEach(function(t){return t(r)}):setTimeout(function(){throw r})}function t(t){if("function"!=typeof t)throw Error(O(28,"a single-spa error handler must be a function"));o.push(t)}function e(n){if("function"!=typeof n)throw Error(O(29,"a single-spa error handler must be a function"));var e=!1;return o=o.filter(function(t){t=t===n;return e=e||t,!t}),e}function O(t,n){for(var e=arguments.length,r=new Array(2<e?e-2:0),o=2;o<e;o++)r[o-2]=arguments[o];return"single-spa minified message #".concat(t,": ").concat(n?n+" ":"","See https://single-spa.js.org/error/?code=").concat(t).concat(r.length?"&arg=".concat(r.join("&arg=")):"")}function h(n,t,e){var r,o="".concat(d(t)," '").concat(x(t),"' died in status ").concat(t.status,": ");if(n instanceof Error){try{n.message=o+n.message}catch(t){}r=n}else{console.warn(O(30,"While ".concat(t.status,", '").concat(x(t),"' rejected its lifecycle function promise with a non-Error. This will cause stack traces to not be accurate."),t.status,x(t)));try{r=Error(o+JSON.stringify(n))}catch(t){r=n}}return r.appOrParcelName=x(t),t.status=e,r}var A=Gt("NOT_LOADED","NOT_LOADED"),N=Gt("LOADING_SOURCE_CODE","LOADING_SOURCE_CODE"),S=Gt("NOT_BOOTSTRAPPED","NOT_BOOTSTRAPPED"),i=Gt("BOOTSTRAPPING","BOOTSTRAPPING"),_=Gt("NOT_MOUNTED","NOT_MOUNTED"),u=Gt("MOUNTING","MOUNTING"),U=Gt("MOUNTED","MOUNTED"),m=Gt("UPDATING","UPDATING"),c=Gt("UNMOUNTING","UNMOUNTING"),s="UNLOADING",j=Gt("LOAD_ERROR","LOAD_ERROR"),D=Gt("SKIP_BECAUSE_BROKEN","SKIP_BECAUSE_BROKEN");function l(t){return t.status===U}function M(n){try{return n.activeWhen(window.location)}catch(t){return a(t,n,D),!1}}function x(t){return t.name}function f(t){return Boolean(t.unmountThisParcel)}function d(t){return f(t)?"parcel":"application"}function R(t){for(var n=arguments.length-1;0<n;n--)for(var e in arguments[n])"__proto__"!==e&&(arguments[n-1][e]=arguments[n][e]);return t}function v(t,n){for(var e=0;e<t.length;e++)if(n(t[e]))return t[e];return null}function g(t){return t&&("function"==typeof t||(n=t,Array.isArray(n)&&!v(n,function(t){return"function"!=typeof t})));var n}function w(t,o){var n=t[o]||[];0===(n=Array.isArray(n)?n:[n]).length&&(n=[function(){return Promise.resolve()}]);var i=d(t),a=x(t);return function(r){return n.reduce(function(t,n,e){return t.then(function(){var t=n(r);return y(t)?t:Promise.reject(O(15,"Within ".concat(i," ").concat(a,", the lifecycle function ").concat(o," at array index ").concat(e," did not return a promise"),i,a,o,e))})},Promise.resolve())}}function y(t){return t&&"function"==typeof t.then&&"function"==typeof t.catch}function b(n,e){return Promise.resolve().then(function(){return n.status!==S?n:(n.status=i,n.bootstrap?z(n,"bootstrap").then(t).catch(function(t){if(e)throw h(t,n,D);return a(t,n,D),n}):Promise.resolve().then(t))});function t(){return n.status=_,n}}function L(r,o){return Promise.resolve().then(function(){if(r.status!==U)return r;r.status=c;var t=Object.keys(r.parcels).map(function(t){return r.parcels[t].unmountThisParcel()});return Promise.all(t).then(e,function(n){return e().then(function(){var t=Error(n.message);if(o)throw h(t,r,D);a(t,r,D)})}).then(function(){return r});function e(){return z(r,"unmount").then(function(){r.status=_}).catch(function(t){if(o)throw h(t,r,D);a(t,r,D)})}})}var E=!1,C=!1;function I(e,r){return Promise.resolve().then(function(){return e.status!==_?e:(E||(window.dispatchEvent(new P("single-spa:before-first-mount")),E=!0),e.status=u,z(e,"mount").then(function(){return e.status=U,C||(window.dispatchEvent(new P("single-spa:first-mount")),C=!0),e}).catch(function(t){return e.status=U,L(e,!0).then(n,n);function n(){if(r)throw h(t,e,D);return a(t,e,D),e}}))})}var W=0,B={parcels:{}};function G(){return k.apply(B,arguments)}function k(t,n){var e=this;if(!t||"object"!==p(t)&&"function"!=typeof t)throw Error(O(2,"Cannot mount parcel without a config object or config loading function"));if(t.name&&"string"!=typeof t.name)throw Error(O(3,"Parcel name must be a string, if provided. Was given ".concat(p(t.name)),p(t.name)));var o=W++,i=t.name||"parcel-".concat(o);if("object"!==p(n))throw Error(O(4,"Parcel ".concat(i," has invalid customProps -- must be an object but was given ").concat(p(n)),i,p(n)));if(!n.domElement)throw Error(O(5,"Parcel ".concat(i," cannot be mounted without a domElement provided as a prop"),i));var r="function"==typeof t,a=r?t:function(){return Promise.resolve(t)},u={id:o,parcels:{},status:r?N:S,customProps:n,parentName:x(e),unmountThisParcel:function(){return f.then(function(){if(u.status!==U)throw Error(O(6,"Cannot unmount parcel '".concat(i,"' -- it is in a ").concat(u.status," status"),i,u.status));return L(u,!0)}).then(function(t){return u.parentName&&delete e.parcels[u.id],t}).then(function(t){return c(t),t}).catch(function(t){throw u.status=D,s(t),t})}};e.parcels[o]=u;r=a();if(!r||"function"!=typeof r.then)throw Error(O(7,"When mounting a parcel, the config loading function must return a promise that resolves with the parcel config"));var c,s,l,n=(r=r.then(function(t){if(!t)throw Error(O(8,"When mounting a parcel, the config loading function returned a promise that did not resolve with a parcel config"));if(i=t.name||"parcel-".concat(o),Object.prototype.hasOwnProperty.call(t,"bootstrap")&&!g(t.bootstrap))throw Error(O(9,"Parcel ".concat(i," provided an invalid bootstrap function"),i));if(!g(t.mount))throw Error(O(10,"Parcel ".concat(i," must have a valid mount function"),i));if(!g(t.unmount))throw Error(O(11,"Parcel ".concat(i," must have a valid unmount function"),i));if(t.update&&!g(t.update))throw Error(O(12,"Parcel ".concat(i," provided an invalid update function"),i));var n=w(t,"bootstrap"),e=w(t,"mount"),r=w(t,"unmount");u.status=S,u.name=i,u.bootstrap=n,u.mount=e,u.unmount=r,u.timeouts=X(t.timeouts),t.update&&(u.update=w(t,"update"),l.update=function(t){return u.customProps=t,$((n=u,Promise.resolve().then(function(){if(n.status!==U)throw Error(O(32,"Cannot update parcel '".concat(x(n),"' because it is not mounted"),x(n)));return n.status=m,z(n,"update").then(function(){return n.status=U,n}).catch(function(t){throw h(t,n,D)})})));var n})})).then(function(){return b(u,!0)}),f=n.then(function(){return I(u,!0)}),a=new Promise(function(t,n){c=t,s=n});return l={mount:function(){return $(Promise.resolve().then(function(){if(u.status!==_)throw Error(O(13,"Cannot mount parcel '".concat(i,"' -- it is in a ").concat(u.status," status"),i,u.status));return I(e.parcels[o]=u)}))},unmount:function(){return $(u.unmountThisParcel())},getStatus:function(){return u.status},loadPromise:$(r),bootstrapPromise:$(n),mountPromise:$(f),unmountPromise:$(a)}}function $(t){return t.then(function(){return null})}function H(t){var n=x(t),e="function"==typeof t.customProps?t.customProps(n,window.location):t.customProps;"object"===p(e)&&null!==e&&!Array.isArray(e)||(e={},console.warn(O(40,"single-spa: ".concat(n,"'s customProps function must return an object. Received ").concat(e)),n,e));n=R({},e,{name:n,mountParcel:k.bind(t),singleSpa:r});return f(t)&&(n.unmountSelf=t.unmountThisParcel),n}var F=1e3,K={bootstrap:{millis:4e3,dieOnTimeout:!1,warningMillis:F},mount:{millis:3e3,dieOnTimeout:!1,warningMillis:F},unmount:{millis:3e3,dieOnTimeout:!1,warningMillis:F},unload:{millis:3e3,dieOnTimeout:!1,warningMillis:F},update:{millis:3e3,dieOnTimeout:!1,warningMillis:F}};function J(t,n,e){if("number"!=typeof t||t<=0)throw Error(O(16,"bootstrap max time must be a positive integer number of milliseconds"));K.bootstrap={millis:t,dieOnTimeout:n,warningMillis:e||F}}function Q(t,n,e){if("number"!=typeof t||t<=0)throw Error(O(17,"mount max time must be a positive integer number of milliseconds"));K.mount={millis:t,dieOnTimeout:n,warningMillis:e||F}}function q(t,n,e){if("number"!=typeof t||t<=0)throw Error(O(18,"unmount max time must be a positive integer number of milliseconds"));K.unmount={millis:t,dieOnTimeout:n,warningMillis:e||F}}function V(t,n,e){if("number"!=typeof t||t<=0)throw Error(O(19,"unload max time must be a positive integer number of milliseconds"));K.unload={millis:t,dieOnTimeout:n,warningMillis:e||F}}function z(t,u){var c=t.timeouts[u],s=c.warningMillis,l=d(t);return new Promise(function(n,e){var r=!1,o=!1;t[u](H(t)).then(function(t){r=!0,n(t)}).catch(function(t){r=!0,e(t)}),setTimeout(function(){return a(1)},s),setTimeout(function(){return a(!0)},c.millis);var i=O(31,"Lifecycle function ".concat(u," for ").concat(l," ").concat(x(t)," lifecycle did not resolve or reject for ").concat(c.millis," ms."),u,l,x(t),c.millis);function a(t){var n;r||(!0===t?(o=!0,c.dieOnTimeout?e(Error(i)):console.error(i)):o||(t=(n=t)*s,console.warn(i),t+s<c.millis&&setTimeout(function(){return a(n+1)},s)))}})}function X(t){var n,e={};for(n in K)e[n]=R({},K[n],t&&t[n]||{});return e}function Y(i){return Promise.resolve().then(function(){return i.loadPromise||(i.status!==A&&i.status!==j?i:(i.status=N,i.loadPromise=Promise.resolve().then(function(){var t=i.loadApp(H(i));if(!y(t))throw e=!0,Error(O(33,"single-spa loading function did not return a promise. Check the second argument to registerApplication('".concat(x(i),"', loadingFunction, activityFunction)"),x(i)));return t.then(function(t){var n,e;i.loadErrorTime=null,"object"!==p(o=t)&&(e=34,n="does not export anything"),Object.prototype.hasOwnProperty.call(o,"bootstrap")&&!g(o.bootstrap)&&(e=35,n="does not export a valid bootstrap function or array of functions"),g(o.mount)||(e=36,n="does not export a mount function or array of functions"),g(o.unmount)||(e=37,n="does not export a unmount function or array of functions");var r,t=d(o);if(e){try{r=JSON.stringify(o)}catch(t){}return console.error(O(e,"The loading function for single-spa ".concat(t," '").concat(x(i),"' resolved with the following, which does not have bootstrap, mount, and unmount functions"),t,x(i),r),o),a(n,i,D),i}return o.devtools&&o.devtools.overlays&&(i.devtools.overlays=R({},i.devtools.overlays,o.devtools.overlays)),i.status=S,i.bootstrap=w(o,"bootstrap"),i.mount=w(o,"mount"),i.unmount=w(o,"unmount"),i.unload=w(o,"unload"),i.timeouts=X(o.timeouts),delete i.loadPromise,i})}).catch(function(t){var n;return delete i.loadPromise,e?n=D:(n=j,i.loadErrorTime=(new Date).getTime()),a(t,i,n),i})));var o,e})}var Z,tt="undefined"!=typeof window,nt={hashchange:[],popstate:[]},et=["hashchange","popstate"];function rt(t){var n;if("string"==typeof t)n=t;else if(this&&this.href)n=this.href;else{if(!(t&&t.currentTarget&&t.currentTarget.href&&t.preventDefault))throw Error(O(14,"singleSpaNavigate/navigateToUrl must be either called with a string url, with an <a> tag as its context, or with an event whose currentTarget is an <a> tag"));n=t.currentTarget.href,t.preventDefault()}var e=lt(window.location.href),t=lt(n);0===n.indexOf("#")?window.location.hash=t.hash:e.host!==t.host&&t.host?window.location.href=n:t.pathname===e.pathname&&t.search===e.search?window.location.hash=t.hash:window.history.pushState(null,null,n)}function ot(n){var t,e=this;n&&(t=n[0].type,0<=et.indexOf(t)&&nt[t].forEach(function(t){try{t.apply(e,n)}catch(t){setTimeout(function(){throw t})}}))}function it(){Lt([],arguments)}function at(r,o){return function(){var t=window.location.href,n=r.apply(this,arguments),e=window.location.href;return Z&&t===e||window.dispatchEvent(function(n,t){var e;try{e=new PopStateEvent("popstate",{state:n})}catch(t){(e=document.createEvent("PopStateEvent")).initPopStateEvent("popstate",!1,!1,n)}return e.singleSpa=!0,e.singleSpaTrigger=t,e}(window.history.state,o)),n}}var ut=null,ct=!1;function st(t){if(ct)throw Error(O(43,"single-spa: patchHistoryApi() was called after the history api was already patched."));Z=!t||!t.hasOwnProperty("urlRerouteOnly")||t.urlRerouteOnly,ct=!0,ut=window.history.replaceState,window.addEventListener("hashchange",it),window.addEventListener("popstate",it);var e=window.addEventListener,r=window.removeEventListener;window.addEventListener=function(t,n){if(!("function"==typeof n&&0<=et.indexOf(t))||v(nt[t],function(t){return t===n}))return e.apply(this,arguments);nt[t].push(n)},window.removeEventListener=function(t,n){if(!("function"==typeof n&&0<=et.indexOf(t)))return r.apply(this,arguments);nt[t]=nt[t].filter(function(t){return t!==n})},window.history.pushState=at(window.history.pushState,"pushState"),window.history.replaceState=at(ut,"replaceState")}function lt(t){var n=document.createElement("a");return n.href=t,n}tt&&(window.singleSpaNavigate?console.warn(O(41,"single-spa has been loaded twice on the page. This can result in unexpected behavior.")):window.singleSpaNavigate=rt);var ft=!1;function pt(){var e,r,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.jQuery;t||window.$&&window.$.fn&&window.$.fn.jquery&&(t=window.$),t&&!ft&&(e=t.fn.on,r=t.fn.off,t.fn.on=function(t,n){return ht.call(this,e,window.addEventListener,t,n,arguments)},t.fn.off=function(t,n){return ht.call(this,r,window.removeEventListener,t,n,arguments)},ft=!0)}function ht(t,n,e,r,o){return"string"!=typeof e?t.apply(this,o):(e.split(/\s+/).forEach(function(t){0<=et.indexOf(t)&&(n(t,r),e=e.replace(t,""))}),""===e.trim()?this:t.apply(this,o))}var mt={};function dt(o){return Promise.resolve().then(function(){var r=mt[x(o)];if(!r)return o;if(o.status===A)return vt(o,r),o;if(o.status===s)return r.promise.then(function(){return o});if(o.status!==_&&o.status!==j)return o;var t=o.status===j?Promise.resolve():z(o,"unload");return o.status=s,t.then(function(){return vt(o,r),o}).catch(function(t){var n,e;return n=r,e=t,delete mt[x(t=o)],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,a(e,t,D),n.reject(e),o})})}function vt(t,n){delete mt[x(t)],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,t.status=A,n.resolve()}function gt(t,n,e,r){mt[x(t)]={app:t,resolve:e,reject:r},Object.defineProperty(mt[x(t)],"promise",{get:n})}function wt(t){return mt[t]}var yt=[];function bt(){return yt.filter(l).map(x)}function Et(){return yt.map(x)}function Tt(n){var t=v(yt,function(t){return x(t)===n});return t?t.status:null}var Pt=!1;function Ot(t,n,e,r){r=function(t,n,e,r){var o="object"===p(t),i={name:null,loadApp:null,activeWhen:null,customProps:null};o?(function(t){if(Array.isArray(t)||null===t)throw Error(O(39,"Configuration object can't be an Array or null!"));var e=["name","app","activeWhen","customProps"],n=Object.keys(t).reduce(function(t,n){return 0<=e.indexOf(n)?t:t.concat(n)},[]);if(0!==n.length)throw Error(O(38,"The configuration object accepts only: ".concat(e.join(", "),". Invalid keys: ").concat(n.join(", "),"."),e.join(", "),n.join(", ")));if("string"!=typeof t.name||0===t.name.length)throw Error(O(20,"The config.name on registerApplication must be a non-empty string"));if("object"!==p(t.app)&&"function"!=typeof t.app)throw Error(O(20,"The config.app on registerApplication must be an application or a loading function"));n=function(t){return"string"==typeof t||"function"==typeof t};if(!(n(t.activeWhen)||Array.isArray(t.activeWhen)&&t.activeWhen.every(n)))throw Error(O(24,"The config.activeWhen on registerApplication must be a string, function or an array with both"));if(!Ut(t.customProps))throw Error(O(22,"The optional config.customProps must be an object"))}(t),i.name=t.name,i.loadApp=t.app,i.activeWhen=t.activeWhen,i.customProps=t.customProps):(function(t,n,e,r){if("string"!=typeof t||0===t.length)throw Error(O(20,"The 1st argument to registerApplication must be a non-empty string 'appName'"));if(!n)throw Error(O(23,"The 2nd argument to registerApplication must be an application or loading application function"));if("function"!=typeof e)throw Error(O(24,"The 3rd argument to registerApplication must be an activeWhen function"));if(!Ut(r))throw Error(O(22,"The optional 4th argument is a customProps and must be an object"))}(t,n,e,r),i.name=t,i.loadApp=n,i.activeWhen=e,i.customProps=r);return i.loadApp=function(t){return"function"==typeof t?t:function(){return Promise.resolve(t)}}(i.loadApp),i.customProps=function(t){return t||{}}(i.customProps),i.activeWhen=function(t){var e=Array.isArray(t)?t:[t];return e=e.map(function(t){return"function"==typeof t?t:jt(t)}),function(n){return e.some(function(t){return t(n)})}}(i.activeWhen),i}(t,n,e,r);if(It||Pt||(Pt=!0,setTimeout(function(){It||console.warn(O(1,"singleSpa.start() has not been called, 5000ms after single-spa was loaded. Before start() is called, apps can be declared and loaded, but not bootstrapped or mounted."))},5e3)),-1!==Et().indexOf(r.name))throw Error(O(21,"There is already an app registered with name ".concat(r.name),r.name));yt.push(R({loadErrorTime:null,status:A,parcels:{},devtools:{overlays:{options:{},selectors:[]}}},r)),tt&&(pt(),Lt())}function At(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.location;return yt.filter(function(t){return t.activeWhen(n)}).map(x)}function Nt(n){if(0===yt.filter(function(t){return x(t)===n}).length)throw Error(O(25,"Cannot unregister application '".concat(n,"' because no such application has been registered"),n));return St(n).then(function(){var t=yt.map(x).indexOf(n);yt.splice(t,1)})}function St(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{waitForUnmount:!1};if("string"!=typeof n)throw Error(O(26,"unloadApplication requires a string 'appName'"));var e=v(yt,function(t){return x(t)===n});if(!e)throw Error(O(27,"Could not unload application '".concat(n,"' because no such application has been registered"),n));var r,o=wt(x(e));if(t&&t.waitForUnmount){if(o)return o.promise;var i=new Promise(function(t,n){gt(e,function(){return i},t,n)});return i}return o?(r=o.promise,_t(e,o.resolve,o.reject)):r=new Promise(function(t,n){gt(e,function(){return r},t,n),_t(e,t,n)}),r}function _t(t,n,e){L(t).then(dt).then(function(){n(),setTimeout(function(){Lt()})}).catch(e)}function Ut(t){return!t||"function"==typeof t||"object"===p(t)&&null!==t&&!Array.isArray(t)}function jt(t,n){var e=function(e,r){var o=0,i=!1,a="^";"/"!==e[0]&&(e="/"+e);for(var t=0;t<e.length;t++){var n=e[t],u=i&&"/"===n;(!i&&":"===n||u)&&c(t)}return c(e.length),new RegExp(a,"i");function c(t){var n=e.slice(o,t).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");a+=i?"[^/]+/?":n,t===e.length&&(i?r&&(a+="$"):(n=r?"":".*",a="/"===a.charAt(a.length-1)?"".concat(a).concat(n,"$"):"".concat(a,"(/").concat(n,")?(#.*)?$"))),i=!i,o=t}}(t,n);return function(t){var n=(n=t.origin)||"".concat(t.protocol,"//").concat(t.host),t=t.href.replace(n,"").replace(t.search,"").split("?")[0];return e.test(t)}}var Dt=!1,Mt=[],xt=tt&&window.location.href;function Rt(){return Lt()}function Lt(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],a=1<arguments.length?arguments[1]:void 0,e=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(Dt)return new Promise(function(t,n){Mt.push({resolve:t,reject:n,eventArguments:a})});var r,i,u,c,s,l,t=(r=[],i=[],u=[],c=[],s=(new Date).getTime(),yt.forEach(function(t){var n=t.status!==D&&M(t);switch(t.status){case j:n&&200<=s-t.loadErrorTime&&u.push(t);break;case A:case N:n&&u.push(t);break;case S:case _:!n&&wt(x(t))?r.push(t):n&&c.push(t);break;case U:n||i.push(t)}}),{appsToUnload:r,appsToUnmount:i,appsToLoad:u,appsToMount:c}),f=t.appsToUnload,p=t.appsToUnmount,h=t.appsToLoad,m=t.appsToMount,n=[],d=xt,v=xt=window.location.href;return It?(Dt=!0,l=f.concat(h,p,m),Promise.resolve().then(function(){return E(0===l.length?"before-no-app-change":"before-app-change",b(!0)),E("before-routing-event",b(!0,{cancelNavigation:g})),Promise.all(n).then(function(t){if(t.some(function(t){return t}))return ut.call(window.history,history.state,"",d.substring(location.origin.length)),xt=location.href,Lt(o,a,!(Dt=!1));var t=f.map(dt),t=p.map(L).map(function(t){return t.then(dt)}).concat(t),n=Promise.all(t);n.then(function(){E("before-mount-routing-event",b(!0))});var e=h.map(function(t){return Y(t).then(function(t){return Ct(t,n)})}),r=m.filter(function(t){return h.indexOf(t)<0}).map(function(t){return Ct(t,n)});return n.catch(function(t){throw y(),t}).then(function(){return y(),Promise.all(e.concat(r)).catch(function(n){throw o.forEach(function(t){return t.reject(n)}),n}).then(w)})})})):(l=h,Promise.resolve().then(function(){var t=h.map(Y);return Promise.all(t).then(y).then(function(){return[]}).catch(function(t){throw y(),t})}));function g(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t="function"==typeof(null==t?void 0:t.then)?t:Promise.resolve(t);n.push(t.catch(function(t){return console.warn(Error(O(42,"single-spa: A cancelNavigation promise rejected with the following value: ".concat(t)))),console.warn(t),!1}))}function w(){var t,n=bt();o.forEach(function(t){return t.resolve(n)});try{E(0===l.length?"no-app-change":"app-change",b()),E("routing-event",b())}catch(t){setTimeout(function(){throw t})}return Dt=!1,0<Mt.length&&(t=Mt,Mt=[],Lt(t)),n}function y(){e||(o.forEach(function(t){ot(t.eventArguments)}),ot(a))}function b(t,n){var e=0<arguments.length&&void 0!==t&&t,t=1<arguments.length?n:void 0,r={},o=(T(n={},U,[]),T(n,_,[]),T(n,A,[]),T(n,D,[]),n);e?(h.concat(m).forEach(function(t,n){i(t,U)}),f.forEach(function(t){i(t,A)}),p.forEach(function(t){i(t,_)})):l.forEach(function(t){i(t)});e={detail:{newAppStatuses:r,appsByNewStatus:o,totalAppChanges:l.length,originalEvent:null==a?void 0:a[0],oldUrl:d,newUrl:v}};return t&&R(e.detail,t),e;function i(t,n){t=x(t);n=n||Tt(t),r[t]=n,(o[n]=o[n]||[]).push(t)}}function E(t,n){e||window.dispatchEvent(new P("single-spa:".concat(t),n))}}function Ct(t,n){return M(t)?b(t).then(function(t){return n.then(function(){return M(t)?I(t):t})}):n.then(function(){return t})}var It=!1;function Wt(t){It=!0,tt&&(st(t),Lt())}var Bt={getRawAppData:function(){return[].concat(yt)},reroute:Lt,NOT_LOADED:A,toLoadPromise:Y,toBootstrapPromise:b,unregisterApplication:Nt};tt&&window.__SINGLE_SPA_DEVTOOLS__&&(window.__SINGLE_SPA_DEVTOOLS__.exposedMethods=Bt)}}});