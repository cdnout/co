"use strict";var SpotifyWebApi=function(){function i(t,e){return t.abort=e,t}function p(){var r=(t=Array.prototype.slice.call(arguments))[0],t=t.slice(1),r=r||{};return t.forEach(function(t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])}),r}function a(e,n){var t,r,o,s=new XMLHttpRequest,p=function(r,o){var t=e.type||"GET";s.open(t,function(t,e){var r,o,n="";for(r in e)e.hasOwnProperty(r)&&(o=e[r],n+=encodeURIComponent(r)+"="+encodeURIComponent(o)+"&");return 0<n.length&&(t=t+"?"+(n=n.substring(0,n.length-1))),t}(e.url,e.params)),l&&s.setRequestHeader("Authorization","Bearer "+l),s.onreadystatechange=function(){if(4===s.readyState){var t=null;try{t=s.responseText?JSON.parse(s.responseText):""}catch(t){console.error(t)}200<=s.status&&s.status<300?(e=t,r&&r(e),n&&n(null,e)):(o&&o(s),n&&n(s,null))}var e},"GET"===t?s.send(null):(t=null,e.postData&&("image/jpeg"===e.contentType?(t=e.postData,s.setRequestHeader("Content-Type",e.contentType)):(t=JSON.stringify(e.postData),s.setRequestHeader("Content-Type","application/json"))),s.send(t))};return n?(p(),null):(t=p,p=function(){s.abort()},null!==c?(o=c.defer(),t(function(t){o.resolve(t)},function(t){o.reject(t)}),r=o.promise):window.Promise&&(r=new window.Promise(t)),r?new i(r,p):null)}function s(t,e,r,o){var n={},s=null;return"object"==typeof e?(n=e,s=r):"function"==typeof e&&(s=e),"GET"!==(t.type||"GET")&&t.postData&&!o?t.postData=p(t.postData,n):t.params=p(t.params,n),a(t,s)}function t(){}var u="https://api.spotify.com/v1",l=null,c=null;return(t.prototype={constructor:SpotifyWebApi}).getGeneric=function(t,e){return s({url:t},e)},t.prototype.getMe=function(t,e){return s({url:u+"/me"},t,e)},t.prototype.getMySavedTracks=function(t,e){return s({url:u+"/me/tracks"},t,e)},t.prototype.addToMySavedTracks=function(t,e,r){return s({url:u+"/me/tracks",type:"PUT",postData:t},e,r)},t.prototype.removeFromMySavedTracks=function(t,e,r){return s({url:u+"/me/tracks",type:"DELETE",postData:t},e,r)},t.prototype.containsMySavedTracks=function(t,e,r){t={url:u+"/me/tracks/contains",params:{ids:t.join(",")}};return s(t,e,r)},t.prototype.getMySavedAlbums=function(t,e){return s({url:u+"/me/albums"},t,e)},t.prototype.addToMySavedAlbums=function(t,e,r){return s({url:u+"/me/albums",type:"PUT",postData:t},e,r)},t.prototype.removeFromMySavedAlbums=function(t,e,r){return s({url:u+"/me/albums",type:"DELETE",postData:t},e,r)},t.prototype.containsMySavedAlbums=function(t,e,r){t={url:u+"/me/albums/contains",params:{ids:t.join(",")}};return s(t,e,r)},t.prototype.getMyTopArtists=function(t,e){return s({url:u+"/me/top/artists"},t,e)},t.prototype.getMyTopTracks=function(t,e){return s({url:u+"/me/top/tracks"},t,e)},t.prototype.getMyRecentlyPlayedTracks=function(t,e){return s({url:u+"/me/player/recently-played"},t,e)},t.prototype.followUsers=function(t,e){t={url:u+"/me/following/",type:"PUT",params:{ids:t.join(","),type:"user"}};return s(t,e)},t.prototype.followArtists=function(t,e){t={url:u+"/me/following/",type:"PUT",params:{ids:t.join(","),type:"artist"}};return s(t,e)},t.prototype.followPlaylist=function(t,e,r){return s({url:u+"/playlists/"+t+"/followers",type:"PUT",postData:{}},e,r)},t.prototype.unfollowUsers=function(t,e){t={url:u+"/me/following/",type:"DELETE",params:{ids:t.join(","),type:"user"}};return s(t,e)},t.prototype.unfollowArtists=function(t,e){t={url:u+"/me/following/",type:"DELETE",params:{ids:t.join(","),type:"artist"}};return s(t,e)},t.prototype.unfollowPlaylist=function(t,e){return s({url:u+"/playlists/"+t+"/followers",type:"DELETE"},e)},t.prototype.isFollowingUsers=function(t,e){t={url:u+"/me/following/contains",type:"GET",params:{ids:t.join(","),type:"user"}};return s(t,e)},t.prototype.isFollowingArtists=function(t,e){t={url:u+"/me/following/contains",type:"GET",params:{ids:t.join(","),type:"artist"}};return s(t,e)},t.prototype.areFollowingPlaylist=function(t,e,r){e={url:u+"/playlists/"+t+"/followers/contains",type:"GET",params:{ids:e.join(",")}};return s(e,r)},t.prototype.getFollowedArtists=function(t,e){return s({url:u+"/me/following",type:"GET",params:{type:"artist"}},t,e)},t.prototype.getUser=function(t,e,r){t={url:u+"/users/"+encodeURIComponent(t)};return s(t,e,r)},t.prototype.getUserPlaylists=function(t,e,r){var o;return"string"==typeof t?o={url:u+"/users/"+encodeURIComponent(t)+"/playlists"}:(o={url:u+"/me/playlists"},r=e,e=t),s(o,e,r)},t.prototype.getPlaylist=function(t,e,r){return s({url:u+"/playlists/"+t},e,r)},t.prototype.getPlaylistTracks=function(t,e,r){return s({url:u+"/playlists/"+t+"/tracks"},e,r)},t.prototype.getPlaylistCoverImage=function(t,e){return s({url:u+"/playlists/"+t+"/images"},e)},t.prototype.createPlaylist=function(t,e,r){t={url:u+"/users/"+encodeURIComponent(t)+"/playlists",type:"POST",postData:e};return s(t,e,r)},t.prototype.changePlaylistDetails=function(t,e,r){return s({url:u+"/playlists/"+t,type:"PUT",postData:e},e,r)},t.prototype.addTracksToPlaylist=function(t,e,r,o){return s({url:u+"/playlists/"+t+"/tracks",type:"POST",postData:{uris:e}},r,o,!0)},t.prototype.replaceTracksInPlaylist=function(t,e,r){return s({url:u+"/playlists/"+t+"/tracks",type:"PUT",postData:{uris:e}},{},r)},t.prototype.reorderTracksInPlaylist=function(t,e,r,o,n){return s({url:u+"/playlists/"+t+"/tracks",type:"PUT",postData:{range_start:e,insert_before:r}},o,n)},t.prototype.removeTracksFromPlaylist=function(t,e,r){e=e.map(function(t){return"string"==typeof t?{uri:t}:t});return s({url:u+"/playlists/"+t+"/tracks",type:"DELETE",postData:{tracks:e}},{},r)},t.prototype.removeTracksFromPlaylistWithSnapshotId=function(t,e,r,o){e=e.map(function(t){return"string"==typeof t?{uri:t}:t});return s({url:u+"/playlists/"+t+"/tracks",type:"DELETE",postData:{tracks:e,snapshot_id:r}},{},o)},t.prototype.removeTracksFromPlaylistInPositions=function(t,e,r,o){return s({url:u+"/playlists/"+t+"/tracks",type:"DELETE",postData:{positions:e,snapshot_id:r}},{},o)},t.prototype.uploadCustomPlaylistCoverImage=function(t,e,r){e={url:u+"/playlists/"+t+"/images",type:"PUT",postData:e.replace(/^data:image\/jpeg;base64,/,""),contentType:"image/jpeg"};return s(e,{},r)},t.prototype.getAlbum=function(t,e,r){return s({url:u+"/albums/"+t},e,r)},t.prototype.getAlbumTracks=function(t,e,r){return s({url:u+"/albums/"+t+"/tracks"},e,r)},t.prototype.getAlbums=function(t,e,r){t={url:u+"/albums/",params:{ids:t.join(",")}};return s(t,e,r)},t.prototype.getTrack=function(t,e,r){var o={};return o.url=u+"/tracks/"+t,s(o,e,r)},t.prototype.getTracks=function(t,e,r){t={url:u+"/tracks/",params:{ids:t.join(",")}};return s(t,e,r)},t.prototype.getArtist=function(t,e,r){return s({url:u+"/artists/"+t},e,r)},t.prototype.getArtists=function(t,e,r){t={url:u+"/artists/",params:{ids:t.join(",")}};return s(t,e,r)},t.prototype.getArtistAlbums=function(t,e,r){return s({url:u+"/artists/"+t+"/albums"},e,r)},t.prototype.getArtistTopTracks=function(t,e,r,o){return s({url:u+"/artists/"+t+"/top-tracks",params:{country:e}},r,o)},t.prototype.getArtistRelatedArtists=function(t,e,r){return s({url:u+"/artists/"+t+"/related-artists"},e,r)},t.prototype.getFeaturedPlaylists=function(t,e){return s({url:u+"/browse/featured-playlists"},t,e)},t.prototype.getNewReleases=function(t,e){return s({url:u+"/browse/new-releases"},t,e)},t.prototype.getCategories=function(t,e){return s({url:u+"/browse/categories"},t,e)},t.prototype.getCategory=function(t,e,r){return s({url:u+"/browse/categories/"+t},e,r)},t.prototype.getCategoryPlaylists=function(t,e,r){return s({url:u+"/browse/categories/"+t+"/playlists"},e,r)},t.prototype.search=function(t,e,r,o){e={url:u+"/search/",params:{q:t,type:e.join(",")}};return s(e,r,o)},t.prototype.searchAlbums=function(t,e,r){return this.search(t,["album"],e,r)},t.prototype.searchArtists=function(t,e,r){return this.search(t,["artist"],e,r)},t.prototype.searchTracks=function(t,e,r){return this.search(t,["track"],e,r)},t.prototype.searchPlaylists=function(t,e,r){return this.search(t,["playlist"],e,r)},t.prototype.searchShows=function(t,e,r){return this.search(t,["show"],e,r)},t.prototype.searchEpisodes=function(t,e,r){return this.search(t,["episode"],e,r)},t.prototype.getAudioFeaturesForTrack=function(t,e){var r={};return r.url=u+"/audio-features/"+t,s(r,{},e)},t.prototype.getAudioFeaturesForTracks=function(t,e){return s({url:u+"/audio-features",params:{ids:t}},{},e)},t.prototype.getAudioAnalysisForTrack=function(t,e){var r={};return r.url=u+"/audio-analysis/"+t,s(r,{},e)},t.prototype.getRecommendations=function(t,e){return s({url:u+"/recommendations"},t,e)},t.prototype.getAvailableGenreSeeds=function(t){return s({url:u+"/recommendations/available-genre-seeds"},{},t)},t.prototype.getMyDevices=function(t){return s({url:u+"/me/player/devices"},{},t)},t.prototype.getMyCurrentPlaybackState=function(t,e){return s({url:u+"/me/player"},t,e)},t.prototype.getMyCurrentPlayingTrack=function(t,e){return s({url:u+"/me/player/currently-playing"},t,e)},t.prototype.transferMyPlayback=function(t,e,r){var o=e||{};return o.device_ids=t,s({type:"PUT",url:u+"/me/player",postData:o},e,r)},t.prototype.play=function(e,t){var r="device_id"in(e=e||{})?{device_id:e.device_id}:null,o={};return["context_uri","uris","offset","position_ms"].forEach(function(t){t in e&&(o[t]=e[t])}),s({type:"PUT",url:u+"/me/player/play",params:r,postData:o},"function"==typeof e?e:{},t)},t.prototype.queue=function(t,e,r){t="device_id"in(e=e||{})?{uri:t,device_id:e.device_id}:{uri:t};return s({type:"POST",url:u+"/me/player/queue",params:t},e,r)},t.prototype.pause=function(t,e){var r="device_id"in(t=t||{})?{device_id:t.device_id}:null;return s({type:"PUT",url:u+"/me/player/pause",params:r},t,e)},t.prototype.skipToNext=function(t,e){var r="device_id"in(t=t||{})?{device_id:t.device_id}:null;return s({type:"POST",url:u+"/me/player/next",params:r},t,e)},t.prototype.skipToPrevious=function(t,e){var r="device_id"in(t=t||{})?{device_id:t.device_id}:null;return s({type:"POST",url:u+"/me/player/previous",params:r},t,e)},t.prototype.seek=function(t,e,r){t={position_ms:t};return"device_id"in(e=e||{})&&(t.device_id=e.device_id),s({type:"PUT",url:u+"/me/player/seek",params:t},e,r)},t.prototype.setRepeat=function(t,e,r){t={state:t};return"device_id"in(e=e||{})&&(t.device_id=e.device_id),s({type:"PUT",url:u+"/me/player/repeat",params:t},e,r)},t.prototype.setVolume=function(t,e,r){t={volume_percent:t};return"device_id"in(e=e||{})&&(t.device_id=e.device_id),s({type:"PUT",url:u+"/me/player/volume",params:t},e,r)},t.prototype.setShuffle=function(t,e,r){t={state:t};return"device_id"in(e=e||{})&&(t.device_id=e.device_id),s({type:"PUT",url:u+"/me/player/shuffle",params:t},e,r)},t.prototype.getShow=function(t,e,r){var o={};return o.url=u+"/shows/"+t,s(o,e,r)},t.prototype.getShows=function(t,e,r){t={url:u+"/shows/",params:{ids:t.join(",")}};return s(t,e,r)},t.prototype.getMySavedShows=function(t,e){return s({url:u+"/me/shows"},t,e)},t.prototype.addToMySavedShows=function(t,e,r){return s({url:u+"/me/shows",type:"PUT",postData:t},e,r)},t.prototype.removeFromMySavedShows=function(t,e,r){return s({url:u+"/me/shows",type:"DELETE",postData:t},e,r)},t.prototype.containsMySavedShows=function(t,e,r){t={url:u+"/me/shows/contains",params:{ids:t.join(",")}};return s(t,e,r)},t.prototype.getShowEpisodes=function(t,e,r){return s({url:u+"/shows/"+t+"/episodes"},e,r)},t.prototype.getEpisode=function(t,e,r){var o={};return o.url=u+"/episodes/"+t,s(o,e,r)},t.prototype.getEpisodes=function(t,e,r){t={url:u+"/episodes/",params:{ids:t.join(",")}};return s(t,e,r)},t.prototype.getAccessToken=function(){return l},t.prototype.setAccessToken=function(t){l=t},t.prototype.setPromiseImplementation=function(t){var e=!1;try{var r=new t(function(t){t()});"function"==typeof r.then&&"function"==typeof r.catch&&(e=!0)}catch(t){console.error(t)}if(!e)throw new Error("Unsupported implementation of Promises/A+");c=t},t}();"object"==typeof module&&"object"==typeof module.exports&&(module.exports=SpotifyWebApi);