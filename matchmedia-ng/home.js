!function(n,e,t){"use strict";e.module("matchmedia-ng",[]).provider("matchmedia",function(){var n={rules:{print:"print",screen:"screen",phone:"(max-width: 767px)",tablet:"(min-width: 768px) and (max-width: 979px)",desktop:"(min-width: 980px)",portrait:"(orientation: portrait)",landscape:"(orientation: landscape)"}};return n.$get=["$window","safeApply","logger",function(e,r,i){function o(n,e){return function(t){r(function(){n(t)},e)}}i.log("Creating matchmedia");var u={};return u.on=function(n,r,u){var s=e.matchMedia!==t&&!!e.matchMedia("all").addListener;if(s){i.log("adding listener for query: "+n);var a=e.matchMedia(n),c=o(r,u);return a.addListener(c),c(a),function(){i.log("removing listener from query: "+n),a.removeListener(c)}}},u.is=function(n){return i.log("test query: "+n),e.matchMedia(n).matches},u.onPrint=function(e,t){return u.on(n.rules.print,e,t)},u.onScreen=function(e,t){return u.on(n.rules.screen,e,t)},u.onPhone=function(e,t){return u.on(n.rules.phone,e,t)},u.onTablet=function(e,t){return u.on(n.rules.tablet,e,t)},u.onDesktop=function(e,t){return u.on(n.rules.desktop,e,t)},u.onPortrait=function(e,t){return u.on(n.rules.portrait,e,t)},u.onLandscape=function(e,t){return u.on(n.rules.landscape,e,t)},u.isPrint=function(){return u.is(n.rules.print)},u.isScreen=function(){return u.is(n.rules.screen)},u.isPhone=function(){return u.is(n.rules.phone)},u.isTablet=function(){return u.is(n.rules.tablet)},u.isDesktop=function(){return u.is(n.rules.desktop)},u.isPortrait=function(){return u.is(n.rules.portrait)},u.isLandscape=function(){return u.is(n.rules.landscape)},u}],n}).directive("ajMatchmedia",["matchmedia",function(n){return{restrict:"E",scope:{queryListener:"&",queryMatches:"="},link:function(e,t,r,i){var o;r.on&&r.queryListener?(o="on"===r.on.slice(0,2)&&"undefined"!==n[r.on]?n[r.on](function(n){e.queryListener({mediaQueryList:n})}):n.on(r.on,function(n){e.queryListener({mediaQueryList:n})}),e.$on("$destroy",o)):r.is&&r.queryMatches&&("is"===r.is.slice(0,2)&&"undefined"!==n[r.is]?e.queryMatches=n[r.is]():e.queryMatches=n.is(r.is))}}}]).factory("safeApply",["$rootScope",function(n){return function(e,t){t=t||n;var r=t.$root.$$phase;"$apply"==r||"$digest"==r?e&&t.$eval(e):e?t.$apply(e):t.$apply()}}]).provider("logger",function(){this.DEVMODE=!1,this.setDEVMODE=function(n){this.DEVMODE=n},this.$get=["$window","$log",function(n,e){var t=this.DEVMODE,r={};return r.log=function(){t&&e.info(arguments)},r.always=function(){e.info(arguments)},r}]})}(window,window.angular);