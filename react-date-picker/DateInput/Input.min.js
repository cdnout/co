"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Input;var _react=_interopRequireDefault(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_mergeClassNames=_interopRequireDefault(require("merge-class-names")),_updateInputWidth=_interopRequireWildcard(require("update-input-width"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var n,r,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&((r=a?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(o,n,r):o[n]=e[n]);return o.default=e,t&&t.set(e,o),o}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var isEdgeLegacy="undefined"!=typeof window&&"navigator"in window&&navigator.userAgent.match(/ Edge\/1/);function onFocus(e){var t=e.target;isEdgeLegacy?requestAnimationFrame(function(){return t.select()}):t.select()}function updateInputWidthOnFontLoad(e){var t;!document.fonts||(t=(0,_updateInputWidth.getFontShorthand)(e))&&(document.fonts.check(t)||document.fonts.addEventListener("loadingdone",function(){(0,_updateInputWidth.default)(e)}))}function getSelectionString(){return"undefined"==typeof window?null:window.getSelection().toString()}function makeOnKeyPress(o){return function(e){var t=e.key,n=e.target.value,r=!isNaN(parseInt(t,10)),t=getSelectionString();r&&(t||n.length<o)||e.preventDefault()}}function Input(e){var t=e.ariaLabel,n=e.autoFocus,r=e.className,o=e.disabled,a=e.itemRef,u=e.max,p=e.min,i=e.name,l=e.nameForClass,d=e.onChange,s=e.onKeyDown,c=e.onKeyUp,f=e.placeholder,y=void 0===f?"--":f,_=e.required,m=e.showLeadingZeros,g=e.step,f=e.value,e=m&&null!==f&&f<10,m=u.toString().length;return[e&&_react.default.createElement("span",{key:"leadingZero",className:"".concat(r,"__leadingZero")},"0"),_react.default.createElement("input",{key:"input","aria-label":t,autoComplete:"off",autoFocus:n,className:(0,_mergeClassNames.default)("".concat(r,"__input"),"".concat(r,"__").concat(l||i),e&&"".concat(r,"__input--hasLeadingZero")),"data-input":"true",disabled:o,inputMode:"numeric",max:u,min:p,name:i,onChange:d,onFocus:onFocus,onKeyDown:s,onKeyPress:makeOnKeyPress(m),onKeyUp:function(e){(0,_updateInputWidth.default)(e.target),c&&c(e)},placeholder:y,ref:function(e){e&&((0,_updateInputWidth.default)(e),updateInputWidthOnFontLoad(e)),a&&a(e,i)},required:_,step:g,type:"number",value:null!==f?f:""})]}Input.propTypes={ariaLabel:_propTypes.default.string,autoFocus:_propTypes.default.bool,className:_propTypes.default.string.isRequired,disabled:_propTypes.default.bool,itemRef:_propTypes.default.func,max:_propTypes.default.number,min:_propTypes.default.number,name:_propTypes.default.string,nameForClass:_propTypes.default.string,onChange:_propTypes.default.func,onKeyDown:_propTypes.default.func,onKeyUp:_propTypes.default.func,placeholder:_propTypes.default.string,required:_propTypes.default.bool,showLeadingZeros:_propTypes.default.bool,step:_propTypes.default.number,value:_propTypes.default.number};