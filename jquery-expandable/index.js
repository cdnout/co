!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){var e={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return(t+"").replace(/[<>&"'\/]/g,function(t){return e[t]})}function i(e,i){t.each("borderTopWidth borderRightWidth borderBottomWidth borderLeftWidth paddingTop paddingRight paddingBottom paddingLeft fontSize fontFamily fontWeight fontStyle fontStretch fontVariant wordSpacing lineHeight width".split(" "),function(t,n){i.css(n,e.css(n))})}t.fn.extend({expandable:function(n){var o=t.extend({duration:"normal",interval:750,within:1,by:2,maxRows:!1,init:!1},n);return this.filter("textarea").each(function(){function n(){var t,i,n,r,l,c=a.val();return f.html(e(c).replace(/\n/g,"&nbsp;<br>")),i=a[0].offsetHeight-p,n=f[0].offsetHeight-p,r=Math.floor(n/s),l=Math.floor(i/s-r),h&&n>=h?void a.css({display:"auto",overflow:"auto"}):void(l<=o.within?(t=s*(r+Math.max(l,0)+o.by),h&&(t=Math.min(t,h)),a.stop().animate({height:t},o.duration)):l>o.by+o.within&&(t=Math.max(i-s*(l-(o.by+o.within)),d),a.stop().animate({height:t},o.duration)))}var a=t(this);if(a.data("expandable")!==!0){a.css({display:"block",overflow:"hidden"});var r,d=a.height(),p=this.offsetHeight-d,s=parseInt(a.css("lineHeight"),10)||parseInt(a.css("fontSize"),10),f=t('<div style="position:absolute;top:-999px;left:-999px;border-color:#000;border-style:solid;overflow-x:hidden;visibility:hidden;z-index:0;white-space: pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;" />').appendTo("body"),h=!1;o.maxRows&&(h=o.maxRows*s),i(a,f),a.data("expandable",!0).bind("update.expandable",function(t){n()}).bind("mouseup",function(t){a.width()!==f.width()&&i(a,f)}).bind("keypress",function(t){"13"==t.keyCode&&n()}).bind("focus blur",function(t){"blur"==t.type&&clearInterval(r),"focus"==t.type&&(r=setInterval(n,o.interval))}),o.init&&n()}}).end()}})});
//# sourceMappingURL=jquery.expandable.min.js.map