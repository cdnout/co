!function(O){O.extend(!0,window,{Slick:{Plugins:{ContextMenu:function(t){var r,u,c,m,p=-1,C=-1,f="",o=new Slick.EventHandler,h=this,n={autoAdjustDrop:!0,autoAlignSide:!0,autoAdjustDropOffset:-4,autoAlignSideOffset:0,hideMenuOnScroll:!1,maxHeight:"none",width:"auto",optionShownOverColumnIds:[],commandShownOverColumnIds:[]};function s(e){var t=u.getCellFromEvent(e);p=t&&t.cell,C=t&&t.row;var o=u.getColumns()[p],n=u.getDataItem(C),i=g(r.optionShownOverColumnIds,o.id),s=g(r.commandShownOverColumnIds,o.id),l=r.commandItems||[],a=r.optionItems||[];if(o&&(s||i)&&(l.length||!a.length)&&(v(e),0!=h.onBeforeMenuShow.notify({cell:p,row:C,grid:u},e,h))){var d=isNaN(r.maxHeight)?r.maxHeight:r.maxHeight+"px",c=isNaN(r.width)?r.width:r.width+"px",t=O('<div class="slick-context-menu '+f+'" style="'+("width: "+c+"; max-height: "+d)+'" />').css("top",e.pageY).css("left",e.pageX).css("display","none"),c='<button type="button" class="close" data-dismiss="slick-context-menu" aria-label="Close"><span class="close" aria-hidden="true">&times;</span></button>';if(!r.hideOptionSection&&i&&0<a.length&&(d=O('<div class="slick-context-menu-option-list" />'),r.hideCloseButton||O(c).on("click",v).appendTo(t),d.appendTo(t),function(e,t,o,n){if(!n||!o||!e)return;e&&e.optionTitle&&O('<div class="title"/>').append(e.optionTitle).appendTo(t);for(var i=0,s=o.length;i<s;i++){var l=o[i],a=x(l.itemVisibilityOverride,n),d=x(l.itemUsabilityOverride,n);a&&(Object.prototype.hasOwnProperty.call(l,"itemUsabilityOverride")&&(l.disabled=!d),a=O('<div class="slick-context-menu-item"></div>').data("option",l.option||"").data("item",l).on("click",b).appendTo(t),l.divider||"divider"===l?a.addClass("slick-context-menu-item-divider"):(!l.disabled&&d||a.addClass("slick-context-menu-item-disabled"),l.hidden&&a.addClass("slick-context-menu-item-hidden"),l.cssClass&&a.addClass(l.cssClass),l.tooltip&&a.attr("title",l.tooltip),d=O('<div class="slick-context-menu-icon"></div>').appendTo(a),l.iconCssClass&&d.addClass(l.iconCssClass),l.iconImage&&d.css("background-image","url("+l.iconImage+")"),a=O('<span class="slick-context-menu-content"></span>').text(l.title).appendTo(a),l.textCssClass&&a.addClass(l.textCssClass)))}}(r,d,a,{cell:p,row:C,column:o,dataContext:n,grid:u})),!r.hideCommandSection&&s&&0<l.length&&(s=O('<div class="slick-context-menu-command-list" />'),r.hideCloseButton||i&&0!==a.length&&!r.hideOptionSection||O(c).on("click",v).appendTo(t),s.appendTo(t),function(e,t,o,n){if(!n||!o||!e)return;e&&e.commandTitle&&O('<div class="title"/>').append(e.commandTitle).appendTo(t);for(var i=0,s=o.length;i<s;i++){var l=o[i],a=x(l.itemVisibilityOverride,n),d=x(l.itemUsabilityOverride,n);a&&(Object.prototype.hasOwnProperty.call(l,"itemUsabilityOverride")&&(l.disabled=!d),a=O('<div class="slick-context-menu-item"></div>').data("command",l.command||"").data("item",l).on("click",w).appendTo(t),l.divider||"divider"===l?a.addClass("slick-context-menu-item-divider"):(!l.disabled&&d||a.addClass("slick-context-menu-item-disabled"),l.hidden&&a.addClass("slick-context-menu-item-hidden"),l.cssClass&&a.addClass(l.cssClass),l.tooltip&&a.attr("title",l.tooltip),d=O('<div class="slick-context-menu-icon"></div>').appendTo(a),l.iconCssClass&&d.addClass(l.iconCssClass),l.iconImage&&d.css("background-image","url("+l.iconImage+")"),a=O('<span class="slick-context-menu-content"></span>').text(l.title).appendTo(a),l.textCssClass&&a.addClass(l.textCssClass)))}}(r,s,l,{cell:p,row:C,column:o,dataContext:n,grid:u})),t.show(),t.appendTo("body"),0!=h.onAfterMenuShow.notify({cell:p,row:C,grid:u},e,h))return t}}function v(e,t){(m=m||O(".slick-context-menu."+f))&&0<m.length&&0!=h.onBeforeMenuClose.notify({cell:t&&t.cell,row:t&&t.row,grid:u,menu:m},e,h)&&m&&m.remove&&(m.remove(),m=null)}function g(e,t){var o=!1;if(e&&0<e.length)for(var n=0,i=e.length;n<i;n++)e[n]===t&&(o=!0);else o=!0;return o}function i(e,t){e.preventDefault();var o=u.getCellFromEvent(e),n=u.getColumns()[o.cell],i=u.getDataItem(o.row);(t=t||{}).cell=o.cell,t.row=o.row,t.columnDef=n,t.dataContext=i,t.grid=u,x(r.menuUsabilityOverride,t)&&((m=s(e))&&(function(e){var t=O(e.target).closest(".slick-cell"),o=e.pageX,n=t?t.offset().top:e.pageY,i=m.outerHeight()||0,s=m.outerWidth()||r.width||0,l=c.rowHeight,a=r.autoAdjustDropOffset,d=r.autoAlignSideOffset;r.autoAdjustDrop&&(e=function(e){var t=O(window).innerHeight()||0,o=O(window).scrollTop()||0;return e&&e.offset&&0<e.length?t-(e.offset().top-o):0}(t),t=function(e){var t=O(window).scrollTop()||0;return e&&e.offset&&0<e.length?e.offset().top-t:0}(t),t=t-a+l,n="top"==((e=e+a-l)<i&&e<t?"top":"bottom")?(m.removeClass("dropdown").addClass("dropup"),n-i-a):(m.removeClass("dropup").addClass("dropdown"),n+l+a));r.autoAlignSide&&(a=u.getGridPosition(),"left"==(o+s>=a.width?"left":"right")?(m.removeClass("dropright").addClass("dropleft"),o=o-s-d):(m.removeClass("dropleft").addClass("dropright"),o+=d));m.css("top",n),m.css("left",o)}(e),m.data("cell",p).data("row",C).show()),O("body").one("click",function(e){v(e,{cell:p,row:C})}))}function w(e){var t,o,n,i,s,l=O(this).data("command"),a=O(this).data("item");!a||a.disabled||a.divider||(t=m.data("row"),o=m.data("cell"),n=u.getColumns()[o],i=u.getDataItem(t),Object.prototype.hasOwnProperty.call(i,n&&n.field)&&(s=i[n.field]),null!=l&&""!==l&&(s={cell:o,row:t,grid:u,command:l,item:a,column:n,dataContext:i,value:s},h.onCommand.notify(s,e,h),"function"==typeof a.action&&a.action.call(this,e,s)))}function b(e){var t,o,n,i,s=O(this).data("option"),l=O(this).data("item");l.disabled||l.divider||u.getEditorLock().commitCurrentEdit()&&(t=m.data("row"),o=m.data("cell"),n=u.getColumns()[o],i=u.getDataItem(t),void 0!==s&&(i={cell:o,row:t,grid:u,option:s,item:l,column:n,dataContext:i},h.onOptionSelected.notify(i,e,h),"function"==typeof l.action&&l.action.call(this,e,i)))}function x(e,t){return"function"!=typeof e||e.call(this,t)}O.extend(this,{init:function(e){c=(u=e).getOptions(),r=O.extend({},n,t),f=e&&e.getUID?e.getUID():"",o.subscribe(u.onContextMenu,i),r.hideMenuOnScroll&&o.subscribe(u.onScroll,v)},closeMenu:v,destroy:function(){h.onAfterMenuShow.unsubscribe(),h.onBeforeMenuShow.unsubscribe(),h.onBeforeMenuClose.unsubscribe(),h.onCommand.unsubscribe(),h.onOptionSelected.unsubscribe(),o.unsubscribeAll(),m&&m.remove&&m.remove(),m=null},pluginName:"ContextMenu",setOptions:function(e){r=O.extend({},r,e),e.commandShownOverColumnIds&&(r.commandShownOverColumnIds=e.commandShownOverColumnIds),e.optionShownOverColumnIds&&(r.optionShownOverColumnIds=e.optionShownOverColumnIds)},onAfterMenuShow:new Slick.Event,onBeforeMenuShow:new Slick.Event,onBeforeMenuClose:new Slick.Event,onCommand:new Slick.Event,onOptionSelected:new Slick.Event})}}}})}(jQuery);