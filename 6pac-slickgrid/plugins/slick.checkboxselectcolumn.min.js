!function(R){R.extend(!0,window,{Slick:{CheckboxSelectColumn:function(e){var s,u=null,h=m(),t=new Slick.EventHandler,f={},p=!1,b=R.extend(!0,{},{columnId:"_checkbox_selector",cssClass:null,hideSelectAllCheckbox:!1,toolTip:"Select/Deselect All",width:30,hideInColumnTitleRow:!1,hideInFilterHeaderRow:!0},e);"function"==typeof b.selectableOverride&&C(b.selectableOverride);function o(){s.updateColumnHeader(b.columnId,"","")}function l(){R("#filter-checkbox-selectall-container").hide()}function n(e,t){var o,l=s.getSelectedRows(),n={},c=0;if("function"==typeof u)for(o=0;o<s.getDataLength();o++)k(r,s.getDataItem(o),s)||c++;for(var i=[],r=0;r<l.length;r++){var d=l[r];k(r,s.getDataItem(d),s)?(n[d]=!0,n[d]!==f[d]&&(s.invalidateRow(d),delete f[d])):i.push(d)}for(r in f)s.invalidateRow(r);if(f=n,s.render(),p=l.length&&l.length+c>=s.getDataLength(),b.hideInColumnTitleRow||b.hideSelectAllCheckbox||w(p),b.hideInFilterHeaderRow||R("#header-filter-selector"+h).prop("checked",p),0<i.length){for(r=0;r<i.length;r++){var a=l.indexOf(i[r]);l.splice(a,1)}s.setSelectedRows(l)}}function c(e,t){32==e.which&&s.getColumns()[t.cell].id===b.columnId&&(s.getEditorLock().isActive()&&!s.getEditorLock().commitCurrentEdit()||r(t.row),e.preventDefault(),e.stopImmediatePropagation())}function i(e,t){if(s.getColumns()[t.cell].id===b.columnId&&R(e.target).is(":checkbox")){if(s.getEditorLock().isActive()&&!s.getEditorLock().commitCurrentEdit())return e.preventDefault(),void e.stopImmediatePropagation();r(t.row),e.stopPropagation(),e.stopImmediatePropagation()}}function r(t){var e=s.getDataItem(t);k(t,e,s)&&(f[t]?s.setSelectedRows(R.grep(s.getSelectedRows(),function(e){return e!=t})):s.setSelectedRows(s.getSelectedRows().concat(t)),s.setActiveCell(t,function(){if(null===a){a=0;for(var e=s.getColumns(),t=0;t<e.length;t++)e[t].id==b.columnId&&(a=t)}return a}()))}function d(e,t){if(t.column.id==b.columnId&&R(e.target).is(":checkbox")){if(s.getEditorLock().isActive()&&!s.getEditorLock().commitCurrentEdit())return e.preventDefault(),void e.stopImmediatePropagation();if(R(e.target).is(":checked")){for(var o=[],l=0;l<s.getDataLength();l++)k(l,s.getDataItem(l),s)&&o.push(l);s.setSelectedRows(o)}else s.setSelectedRows([]);e.stopPropagation(),e.stopImmediatePropagation()}}var a=null;function m(){return Math.round(1e7*Math.random())}function g(e,t,o,l,n,c){var i=m()+e;return n&&k(e,n,c)?f[e]?"<input id='selector"+i+"' type='checkbox' checked='checked'><label for='selector"+i+"'></label>":"<input id='selector"+i+"' type='checkbox'><label for='selector"+i+"'></label>":null}function k(e,t,o){return"function"!=typeof u||u(e,t,o)}function w(e){e?s.updateColumnHeader(b.columnId,"<input id='header-selector"+h+"' type='checkbox' checked='checked'><label for='header-selector"+h+"'></label>",b.toolTip):s.updateColumnHeader(b.columnId,"<input id='header-selector"+h+"' type='checkbox'><label for='header-selector"+h+"'></label>",b.toolTip)}function C(e){u=e}R.extend(this,{init:function(e){s=e,t.subscribe(s.onSelectedRowsChanged,n).subscribe(s.onClick,i).subscribe(s.onKeyDown,c),b.hideInFilterHeaderRow||t.subscribe(e.onHeaderRowCellRendered,function(e,t){"sel"===t.column.field&&(R(t.node).empty(),R("<span id='filter-checkbox-selectall-container'><input id='header-filter-selector"+h+"' type='checkbox'><label for='header-filter-selector"+h+"'></label></span>").appendTo(t.node).on("click",function(e){d(e,t)}))}),b.hideInColumnTitleRow||t.subscribe(s.onHeaderClick,d)},destroy:function(){t.unsubscribeAll()},pluginName:"CheckboxSelectColumn",deSelectRows:function(e){for(var t=e.length,o=[],l=0;l<t;l++)f[e[l]]&&(o[o.length]=e[l]);s.setSelectedRows(R.grep(s.getSelectedRows(),function(e){return o.indexOf(e)<0}))},selectRows:function(e){for(var t=e.length,o=[],l=0;l<t;l++)f[e[l]]||(o[o.length]=e[l]);s.setSelectedRows(s.getSelectedRows().concat(o))},getColumnDefinition:function(){return{id:b.columnId,name:b.hideSelectAllCheckbox||b.hideInColumnTitleRow?"":"<input id='header-selector"+h+"' type='checkbox'><label for='header-selector"+h+"'></label>",toolTip:b.hideSelectAllCheckbox||b.hideInColumnTitleRow?"":b.toolTip,field:"sel",width:b.width,resizable:!1,sortable:!1,cssClass:b.cssClass,hideSelectAllCheckbox:b.hideSelectAllCheckbox,formatter:g}},getOptions:function(){return b},selectableOverride:C,setOptions:function(e){(b=R.extend(!0,{},b,e)).hideSelectAllCheckbox?(o(),l()):(b.hideInColumnTitleRow?o():(w(p),t.subscribe(s.onHeaderClick,d)),b.hideInFilterHeaderRow?l():((e=R("#filter-checkbox-selectall-container")).show(),e.find('input[type="checkbox"]').prop("checked",p)))}})}}})}(jQuery);