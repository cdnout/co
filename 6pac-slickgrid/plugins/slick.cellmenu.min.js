!function(y){y.extend(!0,window,{Slick:{Plugins:{CellMenu:function(t){var m,p,f,g,d=-1,c=-1,r="",i=new Slick.EventHandler,u=this,l={autoAdjustDrop:!0,autoAlignSide:!0,autoAdjustDropOffset:0,autoAlignSideOffset:0,hideMenuOnScroll:!0,maxHeight:"none",width:"auto"};function o(e){var t=p.getCellFromEvent(e);d=t&&t.cell,c=t&&t.row;var i=p.getColumns()[d],l=p.getDataItem(c),o=m.commandItems||[],n=m.optionItems||[];if(i&&i.cellMenu&&(o.length||!n.length)&&(C(),0!=u.onBeforeMenuShow.notify({cell:d,row:c,grid:p},e,u))){var s,a=isNaN(m.maxHeight)?m.maxHeight:m.maxHeight+"px",t=isNaN(m.width)?m.width:m.width+"px",t=y('<div class="slick-cell-menu '+r+'" style="'+("width: "+t+"; max-height: "+a)+'" />').css("top",e.pageY+5).css("left",e.pageX).css("display","none"),a='<button type="button" class="close" data-dismiss="slick-cell-menu" aria-label="Close"><span class="close" aria-hidden="true">&times;</span></button>';if(!m.hideOptionSection&&0<n.length&&(s=y('<div class="slick-cell-menu-option-list" />'),m.hideCloseButton||y(a).on("click",v).appendTo(t),s.appendTo(t),function(e,t,i,l){if(l&&i&&e){e&&e.optionTitle&&y('<div class="title"/>').append(e.optionTitle).appendTo(t);for(var o=0,n=i.length;o<n;o++){var s=i[o],a=k(s.itemVisibilityOverride,l),d=k(s.itemUsabilityOverride,l);a&&(Object.prototype.hasOwnProperty.call(s,"itemUsabilityOverride")&&(s.disabled=!d),a=y('<div class="slick-cell-menu-item"></div>').data("option",s.option||"").data("item",s).on("click",b).appendTo(t),s.divider||"divider"===s?a.addClass("slick-cell-menu-item-divider"):(!s.disabled&&d||a.addClass("slick-cell-menu-item-disabled"),s.hidden&&a.addClass("slick-cell-menu-item-hidden"),s.cssClass&&a.addClass(s.cssClass),s.tooltip&&a.attr("title",s.tooltip),d=y('<div class="slick-cell-menu-icon"></div>').appendTo(a),s.iconCssClass&&d.addClass(s.iconCssClass),s.iconImage&&d.css("background-image","url("+s.iconImage+")"),a=y('<span class="slick-cell-menu-content"></span>').text(s.title).appendTo(a),s.textCssClass&&a.addClass(s.textCssClass)))}}}(m,s,n,{cell:d,row:c,column:i,dataContext:l,grid:p})),!m.hideCommandSection&&0<o.length&&(s=y('<div class="slick-cell-menu-command-list" />'),m.hideCloseButton||0!==n.length&&!m.hideOptionSection||y(a).on("click",v).appendTo(t),s.appendTo(t),function(e,t,i,l){if(l&&i&&e){e&&e.commandTitle&&y('<div class="title"/>').append(e.commandTitle).appendTo(t);for(var o=0,n=i.length;o<n;o++){var s=i[o],a=k(s.itemVisibilityOverride,l),d=k(s.itemUsabilityOverride,l);a&&(Object.prototype.hasOwnProperty.call(s,"itemUsabilityOverride")&&(s.disabled=!d),a=y('<div class="slick-cell-menu-item"></div>').data("command",s.command||"").data("item",s).on("click",w).appendTo(t),s.divider||"divider"===s?a.addClass("slick-cell-menu-item-divider"):(!s.disabled&&d||a.addClass("slick-cell-menu-item-disabled"),s.hidden&&a.addClass("slick-cell-menu-item-hidden"),s.cssClass&&a.addClass(s.cssClass),s.tooltip&&a.attr("title",s.tooltip),d=y('<div class="slick-cell-menu-icon"></div>').appendTo(a),s.iconCssClass&&d.addClass(s.iconCssClass),s.iconImage&&d.css("background-image","url("+s.iconImage+")"),a=y('<span class="slick-cell-menu-content"></span>').text(s.title).appendTo(a),s.textCssClass&&a.addClass(s.textCssClass)))}}}(m,s,o,{cell:d,row:c,column:i,dataContext:l,grid:p})),t.show(),t.appendTo("body"),0!=u.onAfterMenuShow.notify({cell:d,row:c,grid:p},e,u))return t}}function v(e){e.isDefaultPrevented()||C(e)}function C(e,t){(g=g||y(".slick-cell-menu."+r))&&g.remove&&(0<g.length&&0==u.onBeforeMenuClose.notify({cell:t&&t.cell,row:t&&t.row,grid:p,menu:g},e,u)||(g.remove(),g=null))}function n(e){var t,i,l=y(e.target).closest(".slick-cell"),o=l?l.offset().left:e.pageX,n=l?l.offset().top:e.pageY,s=l.outerWidth(),a=g.outerHeight()||0,d=g.outerWidth()||m.width||0,c=f.rowHeight,r=m.autoAdjustDropOffset,u=m.autoAlignSideOffset;m.autoAdjustDrop&&(t=l,i=y(window).innerHeight()||0,e=y(window).scrollTop()||0,t=t&&t.offset&&0<t.length?i-(t.offset().top-e):0,e=l,l=y(window).scrollTop()||0,l=e&&e.offset&&0<e.length?e.offset().top-l:0,n="top"==((t=t+r-c)<a&&t<l-r+c?"top":"bottom")?(g.removeClass("dropdown").addClass("dropup"),n-a-r):(g.removeClass("dropup").addClass("dropdown"),n+c+r)),m.autoAlignSide&&("left"==(o+d>=p.getGridPosition().width?"left":"right")?(g.removeClass("dropright").addClass("dropleft"),o=o-(d-s)-u):(g.removeClass("dropleft").addClass("dropright"),o+=u)),g.css("top",n),g.css("left",o)}function s(e,t){var i=p.getCellFromEvent(e),l=p.getDataItem(i.row),i=p.getColumns()[i.cell];i&&i.cellMenu&&e.preventDefault(),m=y.extend({},m,i.cellMenu),(t=t||{}).columnDef=i,t.dataContext=l,t.grid=p,k(m.menuUsabilityOverride,t)&&((g=o(e))&&(n(e),g.data("cell",d).data("row",c).show()),y("body").on("mousedown."+r,a))}function a(e){g&&g[0]!=e.target&&!y.contains(g[0],e.target)&&(e.isDefaultPrevented()||h(e,{cell:d,row:c}))}function h(e,t){g&&0<g.length&&0!=u.onBeforeMenuClose.notify({cell:t&&t.cell,row:t&&t.row,grid:p,menu:g},e,u)&&g&&g.remove&&(g.remove(),g=null)}function w(e){var t,i,l,o,n=y(this).data("command"),s=y(this).data("item");!s||s.disabled||s.divider||"divider"===s||(t=g.data("row"),i=g.data("cell"),l=p.getColumns()[i],o=p.getDataItem(t),null!==n&&""!==n&&(o={cell:i,row:t,grid:p,command:n,item:s,column:l,dataContext:o},u.onCommand.notify(o,e,u),"function"==typeof s.action&&s.action.call(this,e,o),e.isDefaultPrevented()||h(e,{cell:i,row:t})))}function b(e){var t,i,l,o,n=y(this).data("option"),s=y(this).data("item");!s||s.disabled||s.divider||"divider"===s||p.getEditorLock().commitCurrentEdit()&&(t=g.data("row"),i=g.data("cell"),l=p.getColumns()[i],o=p.getDataItem(t),void 0!==n&&(o={cell:i,row:t,grid:p,option:n,item:s,column:l,dataContext:o},u.onOptionSelected.notify(o,e,u),"function"==typeof s.action&&s.action.call(this,e,o),e.isDefaultPrevented()||h(e,{cell:i,row:t})))}function k(e,t){return"function"!=typeof e||e.call(this,t)}y.extend(this,{init:function(e){f=(p=e).getOptions(),m=y.extend({},l,t),r=e&&e.getUID?e.getUID():"",i.subscribe(p.onClick,s),m.hideMenuOnScroll&&i.subscribe(p.onScroll,C)},closeMenu:C,destroy:function(){u.onAfterMenuShow.unsubscribe(),u.onBeforeMenuShow.unsubscribe(),u.onBeforeMenuClose.unsubscribe(),u.onCommand.unsubscribe(),u.onOptionSelected.unsubscribe(),i.unsubscribeAll(),g&&g.remove&&g.remove(),g=null},pluginName:"CellMenu",setOptions:function(e){m=y.extend({},m,e)},onAfterMenuShow:new Slick.Event,onBeforeMenuShow:new Slick.Event,onBeforeMenuClose:new Slick.Event,onCommand:new Slick.Event,onOptionSelected:new Slick.Event})}}}})}(jQuery);