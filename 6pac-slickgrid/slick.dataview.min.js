!function(ae){ae.extend(!0,window,{Slick:{Data:{DataView:function(o){var r,i,l,a,u,s=this,g="id",c=[],f=[],d={},h=null,p=null,m=null,v=!1,_=!0,w={},y={},C=[],$=[],e=null,I={getter:null,formatter:null,comparer:function(e,t){return e.value===t.value?0:e.value>t.value?1:-1},predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0,lazyTotalsCalculation:!1},S=[],R=[],x=[],b=":|:",E=null,M=0,A=0,F=0,n=new Slick.Event,N=new Slick.Event,G=new Slick.Event,T=new Slick.Event,O=new Slick.Event,k=new Slick.Event,P=new Slick.Event,j=new Slick.Event;function B(e){for(var t,n=e=e||0,r=c.length;n<r;n++){if(void 0===(t=c[n][g]))throw new Error("Each data element must implement a unique 'id' property");d[t]=n}}function D(){var e=M?Math.max(1,Math.ceil(F/M)):1;return{pageSize:M,pageNum:A,totalRows:F,totalPages:e,dataView:s}}function t(e,t){i=e,r=null,!1===(_=t)&&c.reverse(),c.sort(e),!1===t&&c.reverse(),d={},B(),ie()}function z(e,t){_=t,r=e,i=null;var n=Object.prototype.toString;Object.prototype.toString="function"==typeof e?e:function(){return this[e]},!1===t&&c.reverse(),c.sort(),Object.prototype.toString=n,!1===t&&c.reverse(),d={},B(),ie()}function K(e){o.groupItemMetadataProvider||(o.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider),R=[],x=[],S=(e=e||[])instanceof Array?e:[e];for(var t=0;t<S.length;t++){var n=S[t]=ae.extend(!0,{},I,S[t]);n.getterIsAFn="function"==typeof n.getter,n.compiledAccumulators=[];for(var r=n.aggregators.length;r--;)n.compiledAccumulators[r]=function(e){{if(e.accumulate){var t=ee(e.accumulate),e=new Function("_items","for (var "+t.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+t.params[0]+" = _items[_i]; "+t.body+"}"),t="compiledAccumulatorLoop";return e.displayName=t,e.name=te(e,t),e}return function(){}}}(n.aggregators[r]);x[t]={}}ie()}function V(){if(!h){h={};for(var e=0,t=f.length;e<t;e++)h[f[e][g]]=e}}function q(e){return c[d[e]]}function U(e,t){if(void 0===d[e])throw new Error("Invalid id");if(e!==t[g]){var n=t[g];if(null==n)throw new Error("Cannot update item to associate with a null id");if(void 0!==d[n])throw new Error("Cannot update item to associate with a non-unique id");d[n]=d[e],delete d[e],m&&m[e]&&delete m[e],e=n}c[d[e]]=t,(m=m||{})[e]=!0,ie()}function L(e,t){c.splice(e,0,t),B(e),ie()}function H(e){var t=d[e];if(void 0===t)throw new Error("Invalid id");delete d[e],c.splice(t,1),B(t),ie()}function Q(e){if(!i)throw new Error("sortedAddItem() requires a sort comparer, use sort()");L(function(e){var t=0,n=c.length;for(;t<n;){var r=t+n>>>1;-1===i(c[r],e)?t=1+r:n=r}return t}(e),e)}function W(e,t){if(null==e)for(var n=0;n<S.length;n++)x[n]={},(!0===(S[n].collapsed=t)?j:P).notify({level:n,groupingKey:null});else x[e]={},(!0===(S[e].collapsed=t)?j:P).notify({level:e,groupingKey:null});ie()}function J(e,t,n){x[e][t]=S[e].collapsed^n,ie()}function X(e,t){for(var n,r,o,i=[],l={},a=t?t.level+1:0,u=S[a],s=0,g=u.predefinedValues.length;s<g;s++)(n=l[r=u.predefinedValues[s]])||((n=new Slick.Group).value=r,n.level=a,n.groupingKey=(t?t.groupingKey+b:"")+r,i[i.length]=n,l[r]=n);for(s=0,g=e.length;s<g;s++)o=e[s],(n=l[r=u.getterIsAFn?u.getter(o):o[u.getter]])||((n=new Slick.Group).value=r,n.level=a,n.groupingKey=(t?t.groupingKey+b:"")+r,i[i.length]=n,l[r]=n),n.rows[n.count++]=o;if(a<S.length-1)for(s=0;s<i.length;s++)(n=i[s]).groups=X(n.rows,n);return i.length&&function e(t,n){n=n||0;var r=S[n];var o=r.collapsed;var i=x[n];var l,a=t.length;for(;a--;)(l=t[a]).collapsed&&!r.aggregateCollapsed||(l.groups&&e(l.groups,n+1),r.aggregators.length&&(r.aggregateEmpty||l.rows.length||l.groups&&l.groups.length)&&Z(l),l.collapsed=o^i[l.groupingKey],l.title=r.formatter?r.formatter(l):l.value)}(i,a),i.sort(S[a].comparer),i}function Y(e){var t,n=e.group,r=S[n.level],o=n.level==S.length,i=r.aggregators.length;if(!o&&r.aggregateChildGroups)for(var l=n.groups.length;l--;)n.groups[l].totals.initialized||Y(n.groups[l].totals);for(;i--;)(t=r.aggregators[i]).init(),!o&&r.aggregateChildGroups?r.compiledAccumulators[i].call(t,n.groups):r.compiledAccumulators[i].call(t,n.rows),t.storeResult(e);e.initialized=!0}function Z(e){var t=S[e.level],n=new Slick.GroupTotals;(n.group=e).totals=n,t.lazyTotalsCalculation||Y(n)}function ee(e){var t=0<=e.toString().indexOf("function")?/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/:/^[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/,t=e.toString().match(t);return{params:t[1].split(","),body:t[2]}}function te(t,n){try{Object.defineProperty(t,"name",{writable:!0,value:n})}catch(e){t.name=n}}function ne(e,t){for(var n=[],r=0,o=0,i=e.length;o<i;o++)p(e[o],t)&&(n[r++]=e[o]);return n}function re(e,t,n){for(var r,o=[],i=0,l=0,a=e.length;l<a;l++)r=e[l],n[l]?o[i++]=r:p(r,t)&&(o[i++]=r,n[l]=!0);return o}function oe(e){h=null,w.isFilterNarrowing==y.isFilterNarrowing&&w.isFilterExpanding==y.isFilterExpanding||($=[]);t=e,p?(n=o.inlineFilters?a:ne,e=o.inlineFilters?u:re,w.isFilterNarrowing?C=n(C,l):w.isFilterExpanding?C=e(t,l,$):w.isFilterUnchanged||(C=n(t,l))):C=M?t:t.concat(),t=M?(C.length<=A*M&&(A=0===C.length?0:Math.floor((C.length-1)/M)),C.slice(M*A,M*A+M)):C,n={totalRows:C.length,rows:t};F=n.totalRows;var t=n.rows;R=[],S.length&&(R=X(t)).length&&(t=function e(t,n){for(var r,o,i=S[n=n||0],l=[],a=0,u=0,s=t.length;u<s;u++){if(o=t[u],!(l[a++]=o).collapsed)for(var g=0,c=(r=o.groups?e(o.groups,n+1):o.rows).length;g<c;g++)l[a++]=r[g];o.totals&&i.displayTotalsRow&&(!o.collapsed||i.aggregateCollapsed)&&(l[a++]=o.totals)}return l}(R));var n=function(e,t){var n,r,o,i=[],l=0,a=Math.max(t.length,e.length);w&&w.ignoreDiffsBefore&&(l=Math.max(0,Math.min(t.length,w.ignoreDiffsBefore))),w&&w.ignoreDiffsAfter&&(a=Math.min(t.length,Math.max(0,w.ignoreDiffsAfter)));for(var u=l,s=e.length;u<a;u++)s<=u?i[i.length]=u:(n=t[u],r=e[u],(!n||S.length&&(o=n.__nonDataRow||r.__nonDataRow)&&n.__group!==r.__group||n.__group&&!n.equals(r)||o&&(n.__groupTotals||r.__groupTotals)||n[g]!=r[g]||m&&m[n[g]])&&(i[i.length]=u));return i}(f,t);return f=t,n}function ie(){var e,t,n,r;v||(e=ae.extend(!0,{},D()),t=f.length,n=F,r=oe(c),M&&F<A*M&&(A=Math.max(0,Math.ceil(F/M)-1),r=oe(c)),m=null,y=w,w={},n!==F&&(O.notify(e,null,s),k.notify(D(),null,s)),t!==f.length&&N.notify({previous:t,current:f.length,dataView:s,callingOnRowsChanged:0<r.length},null,s),0<r.length&&G.notify({rows:r,dataView:s,calledOnRowCountChanged:t!==f.length},null,s),(t!==f.length||0<r.length)&&T.notify({rowsDiff:r,previousRowCount:t,currentRowCount:f.length,rowCountChanged:t!==f.length,rowsChanged:0<r.length,dataView:s},null,s))}function le(){return E}o=ae.extend(!0,{},{groupItemMetadataProvider:null,inlineFilters:!1},o),ae.extend(this,{beginUpdate:function(){v=!0},endUpdate:function(){v=!1,ie()},destroy:function(){c=[],$=[],C=[],u=a=i=m=p=h=d=null,e&&e.onSelectedRowsChanged&&e.onCellCssStylesChanged&&(e.onSelectedRowsChanged.unsubscribe(),e.onCellCssStylesChanged.unsubscribe()),s.onRowsOrCountChanged&&s.onRowsOrCountChanged.unsubscribe()},setPagingOptions:function(e){O.notify(D(),null,s),null!=e.pageSize&&(M=e.pageSize,A=M?Math.min(A,Math.max(0,Math.ceil(F/M)-1)):0),null!=e.pageNum&&(A=Math.min(e.pageNum,Math.max(0,Math.ceil(F/M)-1))),k.notify(D(),null,s),ie()},getPagingInfo:D,getIdPropertyName:function(){return g},getItems:function(){return c},setItems:function(e,t){void 0!==t&&(g=t),c=C=e,d={},B(),function(){for(var e,t=0,n=c.length;t<n;t++)if(void 0===(e=c[t][g])||d[e]!==t)throw new Error("Each data element must implement a unique 'id' property")}(),ie(),n.notify({idProperty:t},null,s)},setFilter:function(e){p=e,o.inlineFilters&&(a=function(){var e=ee(p),t="{ continue _coreloop; }$1",n="{ _retval[_idx++] = $item$; continue _coreloop; }$1",t=e.body.replace(/return false\s*([;}]|\}|$)/gi,t).replace(/return!1([;}]|\}|$)/gi,t).replace(/return true\s*([;}]|\}|$)/gi,n).replace(/return!0([;}]|\}|$)/gi,n).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");n=(n=(n=n.replace(/\$filter\$/gi,t)).replace(/\$item\$/gi,e.params[0])).replace(/\$args\$/gi,e.params[1]);e=new Function("_items,_args",n),n="compiledFilter";return e.displayName=n,e.name=te(e,n),e}(),u=function(){var e=ee(p),t="{ continue _coreloop; }$1",n="{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1",t=e.body.replace(/return false\s*([;}]|\}|$)/gi,t).replace(/return!1([;}]|\}|$)/gi,t).replace(/return true\s*([;}]|\}|$)/gi,n).replace(/return!0([;}]|\}|$)/gi,n).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");n=(n=(n=n.replace(/\$filter\$/gi,t)).replace(/\$item\$/gi,e.params[0])).replace(/\$args\$/gi,e.params[1]);e=new Function("_items,_args,_cache",n),n="compiledFilterWithCaching";return e.displayName=n,e.name=te(e,n),e}()),ie()},getFilter:function(){return p},getFilteredItems:function(){return C},sort:t,fastSort:z,reSort:function(){i?t(i,_):r&&z(r,_)},setGrouping:K,getGrouping:function(){return S},groupBy:function(e,t,n){K(null!=e?{getter:e,formatter:t,comparer:n}:[])},setAggregators:function(e,t){if(!S.length)throw new Error("At least one grouping must be specified before calling setAggregators().");S[0].aggregators=e,S[0].aggregateCollapsed=t,K(S)},collapseAllGroups:function(e){W(e,!0)},expandAllGroups:function(e){W(e,!1)},collapseGroup:function(e){var t,n=Array.prototype.slice.call(arguments),r=n[0];J(n=1===n.length&&-1!==r.indexOf(b)?(t=r).split(b).length-1:(t=n.join(b),n.length-1),t,!0),j.notify({level:n,groupingKey:t})},expandGroup:function(e){var t,n=(r=Array.prototype.slice.call(arguments))[0],r=1===r.length&&-1!==n.indexOf(b)?(t=n.split(b).length-1,n):(t=r.length-1,r.join(b));J(t,r,!1),P.notify({level:t,groupingKey:r})},getGroups:function(){return R},getAllSelectedIds:le,getAllSelectedItems:function(){var t=[];return E.forEach(function(e){t.push(s.getItemById(e))}),t},getIdxById:function(e){return d[e]},getRowByItem:function(e){return V(),h[e[g]]},getRowById:function(e){return V(),h[e]},getItemById:q,getItemByIdx:function(e){return c[e]},mapItemsToRows:function(e){var t=[];V();for(var n=0,r=e.length;n<r;n++){var o=h[e[n][g]];null!=o&&(t[t.length]=o)}return t},mapRowsToIds:function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]<f.length&&(t[t.length]=f[e[n]][g]);return t},mapIdsToRows:function(e){var t=[];V();for(var n=0,r=e.length;n<r;n++){var o=h[e[n]];null!=o&&(t[t.length]=o)}return t},setRefreshHints:function(e){w=e},setFilterArgs:function(e){l=e},refresh:ie,updateItem:U,insertItem:L,addItem:function(e){c.push(e),B(c.length-1),ie()},deleteItem:H,sortedAddItem:Q,sortedUpdateItem:function(e,t){if(void 0===d[e]||e!==t[g])throw new Error("Invalid or non-matching id "+d[e]);if(!i)throw new Error("sortedUpdateItem() requires a sort comparer, use sort()");var n=q(e);0!==i(n,t)?(H(e),Q(t)):U(e,t)},syncGridSelection:function(r,t,o){var i,l=this;e=r,E=l.mapRowsToIds(r.getSelectedRows());var n=new Slick.Event;function a(e){E.join(",")!=e.join(",")&&(E=e,n.notify({grid:r,ids:E,dataView:l},new Slick.EventData,l))}return r.onSelectedRowsChanged.subscribe(function(e,t){var n;i||(n=l.mapRowsToIds(r.getSelectedRows()),o&&r.getOptions().multiSelect?a(ae.grep(E,function(e){return void 0===l.getRowById(e)}).concat(n)):a(n))}),this.onRowsOrCountChanged.subscribe(function(){var e;0<E.length&&(i=!0,e=l.mapIdsToRows(E),t||a(l.mapRowsToIds(e)),r.setSelectedRows(e),i=!1)}),n},syncGridCellCssStyles:function(r,o){var i,l;function n(e){for(var t in i={},e){var n=f[t][g];i[n]=e[t]}}function a(){if(i){l=!0,V();var e,t={};for(e in i){var n=h[e];null!=n&&(t[n]=i[e])}r.setCellCssStyles(o,t),l=!1}}n(r.getCellCssStyles(o)),r.onCellCssStylesChanged.subscribe(function(e,t){l||o==t.key&&(t.hash?n(t.hash):(r.onCellCssStylesChanged.unsubscribe(),s.onRowsOrCountChanged.unsubscribe(a)))}),this.onRowsOrCountChanged.subscribe(a)},getLength:function(){return f.length},getItem:function(e){var t=f[e];return t&&t.__group&&t.totals&&!t.totals.initialized?(e=S[t.level]).displayTotalsRow||(Y(t.totals),t.title=e.formatter?e.formatter(t):t.value):t&&t.__groupTotals&&!t.initialized&&Y(t),t},getItemMetadata:function(e){return void 0===(e=f[e])?null:e.__group?o.groupItemMetadataProvider.getGroupRowMetadata(e):e.__groupTotals?o.groupItemMetadataProvider.getTotalsRowMetadata(e):null},onSetItemsCalled:n,onRowCountChanged:N,onRowsChanged:G,onRowsOrCountChanged:T,onBeforePagingInfoChanged:O,onPagingInfoChanged:k,onGroupExpanded:P,onGroupCollapsed:j})},Aggregators:{Avg:function(e){this.field_=e,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(e){e=e[this.field_];this.count_++,null==e||""===e||isNaN(e)||(this.nonNullCount_++,this.sum_+=parseFloat(e))},this.storeResult=function(e){e.avg||(e.avg={}),0!==this.nonNullCount_&&(e.avg[this.field_]=this.sum_/this.nonNullCount_)}},Min:function(e){this.field_=e,this.init=function(){this.min_=null},this.accumulate=function(e){e=e[this.field_];null==e||""===e||isNaN(e)||(null==this.min_||e<this.min_)&&(this.min_=e)},this.storeResult=function(e){e.min||(e.min={}),e.min[this.field_]=this.min_}},Max:function(e){this.field_=e,this.init=function(){this.max_=null},this.accumulate=function(e){e=e[this.field_];null==e||""===e||isNaN(e)||(null==this.max_||e>this.max_)&&(this.max_=e)},this.storeResult=function(e){e.max||(e.max={}),e.max[this.field_]=this.max_}},Sum:function(e){this.field_=e,this.init=function(){this.sum_=null},this.accumulate=function(e){e=e[this.field_];null==e||""===e||isNaN(e)||(this.sum_+=parseFloat(e))},this.storeResult=function(e){e.sum||(e.sum={}),e.sum[this.field_]=this.sum_}},Count:function(e){this.field_=e,this.init=function(){},this.storeResult=function(e){e.count||(e.count={}),e.count[this.field_]=e.group.rows.length}}}}}})}(jQuery);