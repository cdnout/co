!function(ge){ge.extend(!0,window,{Slick:{Data:{DataView:function(i){var r,o,l,a,u,s=this,g="id",c=[],f=[],h=new Slick.Map,d=null,p=null,m=null,v=!1,_=!1,w=new Slick.Map,y=!0,C={},$={},I=[],S=[],e=null,R={getter:null,formatter:null,comparer:function(e,t){return e.value===t.value?0:e.value>t.value?1:-1},predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0,lazyTotalsCalculation:!1},x=[],E=[],M=[],b=":|:",A=null,F=0,k=0,N=0,n=new Slick.Event,G=new Slick.Event,T=new Slick.Event,O=new Slick.Event,P=new Slick.Event,j=new Slick.Event,B=new Slick.Event,D=new Slick.Event;function z(e){if(!_)for(var t,n=e=e||0,r=c.length;n<r;n++){if(void 0===(t=c[n][g]))throw new Error("Each data element must implement a unique 'id' property");h.set(t,n)}}function K(){var e=F?Math.max(1,Math.ceil(N/F)):1;return{pageSize:F,pageNum:k,totalRows:N,totalPages:e,dataView:s}}function t(e,t){o=e,r=null,!1===(y=t)&&c.reverse(),c.sort(e),!1===t&&c.reverse(),h=new Slick.Map,z(),ue()}function V(e,t){y=t,r=e,o=null;var n=Object.prototype.toString;Object.prototype.toString="function"==typeof e?e:function(){return this[e]},!1===t&&c.reverse(),c.sort(),Object.prototype.toString=n,!1===t&&c.reverse(),h=new Slick.Map,z(),ue()}function q(e){i.groupItemMetadataProvider||(i.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider),E=[],M=[],x=(e=e||[])instanceof Array?e:[e];for(var t=0;t<x.length;t++){var n=x[t]=ge.extend(!0,{},R,x[t]);n.getterIsAFn="function"==typeof n.getter,n.compiledAccumulators=[];for(var r=n.aggregators.length;r--;)n.compiledAccumulators[r]=function(e){{if(e.accumulate){var t=re(e.accumulate),e=new Function("_items","for (var "+t.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+t.params[0]+" = _items[_i]; "+t.body+"}"),t="compiledAccumulatorLoop";return e.displayName=t,e.name=ie(e,t),e}return function(){}}}(n.aggregators[r]);M[t]={}}ue()}function U(){if(!d){d={};for(var e=0,t=f.length;e<t;e++)d[f[e][g]]=e}}function L(e){return c[h.get(e)]}function H(e,t){if(!h.has(e))throw new Error("Invalid id");if(e!==t[g]){var n=t[g];if(null==n)throw new Error("Cannot update item to associate with a null id");if(h.has(n))throw new Error("Cannot update item to associate with a non-unique id");h.set(n,h.get(e)),h.delete(e),m&&m[e]&&delete m[e],e=n}c[h.get(e)]=t,(m=m||{})[e]=!0}function Q(e,t){H(e,t),ue()}function W(e,t){c.splice(e,0,t),z(e),ue()}function J(e){if(_)w.set(e,!0);else{var t=h.get(e);if(void 0===t)throw new Error("Invalid id");h.delete(e),c.splice(t,1),z(t),ue()}}function X(e){if(!o)throw new Error("sortedAddItem() requires a sort comparer, use sort()");W(function(e){var t=0,n=c.length;for(;t<n;){var r=t+n>>>1;-1===o(c[r],e)?t=1+r:n=r}return t}(e),e)}function Y(e,t){if(null==e)for(var n=0;n<x.length;n++)M[n]={},(!0===(x[n].collapsed=t)?D:B).notify({level:n,groupingKey:null});else M[e]={},(!0===(x[e].collapsed=t)?D:B).notify({level:e,groupingKey:null});ue()}function Z(e,t,n){M[e][t]=x[e].collapsed^n,ue()}function ee(e,t){for(var n,r,i,o=[],l={},a=t?t.level+1:0,u=x[a],s=0,g=u.predefinedValues.length;s<g;s++)(n=l[r=u.predefinedValues[s]])||((n=new Slick.Group).value=r,n.level=a,n.groupingKey=(t?t.groupingKey+b:"")+r,o[o.length]=n,l[r]=n);for(s=0,g=e.length;s<g;s++)i=e[s],(n=l[r=u.getterIsAFn?u.getter(i):i[u.getter]])||((n=new Slick.Group).value=r,n.level=a,n.groupingKey=(t?t.groupingKey+b:"")+r,o[o.length]=n,l[r]=n),n.rows[n.count++]=i;if(a<x.length-1)for(s=0;s<o.length;s++)(n=o[s]).groups=ee(n.rows,n);return o.length&&function e(t,n){n=n||0;var r=x[n];var i=r.collapsed;var o=M[n];var l,a=t.length;for(;a--;)(l=t[a]).collapsed&&!r.aggregateCollapsed||(l.groups&&e(l.groups,n+1),r.aggregators.length&&(r.aggregateEmpty||l.rows.length||l.groups&&l.groups.length)&&ne(l),l.collapsed=i^o[l.groupingKey],l.title=r.formatter?r.formatter(l):l.value)}(o,a),o.sort(x[a].comparer),o}function te(e){var t,n=e.group,r=x[n.level],i=n.level==x.length,o=r.aggregators.length;if(!i&&r.aggregateChildGroups)for(var l=n.groups.length;l--;)n.groups[l].totals.initialized||te(n.groups[l].totals);for(;o--;)(t=r.aggregators[o]).init(),!i&&r.aggregateChildGroups?r.compiledAccumulators[o].call(t,n.groups):r.compiledAccumulators[o].call(t,n.rows),t.storeResult(e);e.initialized=!0}function ne(e){var t=x[e.level],n=new Slick.GroupTotals;(n.group=e).totals=n,t.lazyTotalsCalculation||te(n)}function re(e){var t=0<=e.toString().indexOf("function")?/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/:/^[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/,t=e.toString().match(t);return{params:t[1].split(","),body:t[2]}}function ie(t,n){try{Object.defineProperty(t,"name",{writable:!0,value:n})}catch(e){t.name=n}}function oe(e,t){for(var n=[],r=0,i=0,o=e.length;i<o;i++)p(e[i],t)&&(n[r++]=e[i]);return n}function le(e,t,n){for(var r,i=[],o=0,l=0,a=e.length;l<a;l++)r=e[l],n[l]?i[o++]=r:p(r,t)&&(i[o++]=r,n[l]=!0);return i}function ae(e){d=null,C.isFilterNarrowing==$.isFilterNarrowing&&C.isFilterExpanding==$.isFilterExpanding||(S=[]);t=e,p?(n=i.inlineFilters?a:oe,e=i.inlineFilters?u:le,C.isFilterNarrowing?I=n(I,l):C.isFilterExpanding?I=e(t,l,S):C.isFilterUnchanged||(I=n(t,l))):I=F?t:t.concat(),t=F?(I.length<=k*F&&(k=0===I.length?0:Math.floor((I.length-1)/F)),I.slice(F*k,F*k+F)):I,n={totalRows:I.length,rows:t};N=n.totalRows;var t=n.rows;E=[],x.length&&(E=ee(t)).length&&(t=function e(t,n){for(var r,i,o=x[n=n||0],l=[],a=0,u=0,s=t.length;u<s;u++){if(i=t[u],!(l[a++]=i).collapsed)for(var g=0,c=(r=i.groups?e(i.groups,n+1):i.rows).length;g<c;g++)l[a++]=r[g];i.totals&&o.displayTotalsRow&&(!i.collapsed||o.aggregateCollapsed)&&(l[a++]=i.totals)}return l}(E));var n=function(e,t){var n,r,i,o=[],l=0,a=Math.max(t.length,e.length);C&&C.ignoreDiffsBefore&&(l=Math.max(0,Math.min(t.length,C.ignoreDiffsBefore))),C&&C.ignoreDiffsAfter&&(a=Math.min(t.length,Math.max(0,C.ignoreDiffsAfter)));for(var u=l,s=e.length;u<a;u++)s<=u?o[o.length]=u:(n=t[u],r=e[u],(!n||x.length&&(i=n.__nonDataRow||r.__nonDataRow)&&n.__group!==r.__group||n.__group&&!n.equals(r)||i&&(n.__groupTotals||r.__groupTotals)||n[g]!=r[g]||m&&m[n[g]])&&(o[o.length]=u));return o}(f,t);return f=t,n}function ue(){var e,t,n,r;v||(e=ge.extend(!0,{},K()),t=f.length,n=N,r=ae(c),F&&N<k*F&&(k=Math.max(0,Math.ceil(N/F)-1),r=ae(c)),m=null,$=C,C={},n!==N&&(P.notify(e,null,s),j.notify(K(),null,s)),t!==f.length&&G.notify({previous:t,current:f.length,itemCount:c.length,dataView:s,callingOnRowsChanged:0<r.length},null,s),0<r.length&&T.notify({rows:r,itemCount:c.length,dataView:s,calledOnRowCountChanged:t!==f.length},null,s),(t!==f.length||0<r.length)&&O.notify({rowsDiff:r,previousRowCount:t,currentRowCount:f.length,itemCount:c.length,rowCountChanged:t!==f.length,rowsChanged:0<r.length,dataView:s},null,s))}function se(){return A}i=ge.extend(!0,{},{groupItemMetadataProvider:null,inlineFilters:!1},i),ge.extend(this,{beginUpdate:function(e){_=(v=!0)===e},endUpdate:function(){_&&function(){for(var e,t,n=0,r=0,i=c.length;r<i;r++){if(t=c[r],void 0===(e=t[g]))throw new Error("Each data element must implement a unique 'id' property");w.has(e)?h.delete(e):(c[n]=t,h.set(e,n),++n)}c.length=n,w=new Slick.Map}(),v=_=!1,ue()},destroy:function(){c=[],S=[],I=[],u=a=o=m=p=d=h=null,e&&e.onSelectedRowsChanged&&e.onCellCssStylesChanged&&(e.onSelectedRowsChanged.unsubscribe(),e.onCellCssStylesChanged.unsubscribe()),s.onRowsOrCountChanged&&s.onRowsOrCountChanged.unsubscribe()},setPagingOptions:function(e){P.notify(K(),null,s),null!=e.pageSize&&(F=e.pageSize,k=F?Math.min(k,Math.max(0,Math.ceil(N/F)-1)):0),null!=e.pageNum&&(k=Math.min(e.pageNum,Math.max(0,Math.ceil(N/F)-1))),j.notify(K(),null,s),ue()},getPagingInfo:K,getIdPropertyName:function(){return g},getItems:function(){return c},setItems:function(e,t){void 0!==t&&(g=t),c=I=e,n.notify({idProperty:t,itemCount:c.length},null,s),h=new Slick.Map,z(),function(){for(var e,t=0,n=c.length;t<n;t++)if(void 0===(e=c[t][g])||h.get(e)!==t)throw new Error("Each data element must implement a unique 'id' property")}(),ue()},setFilter:function(e){p=e,i.inlineFilters&&(a=function(){var e=re(p),t="{ continue _coreloop; }$1",n="{ _retval[_idx++] = $item$; continue _coreloop; }$1",t=e.body.replace(/return false\s*([;}]|\}|$)/gi,t).replace(/return!1([;}]|\}|$)/gi,t).replace(/return true\s*([;}]|\}|$)/gi,n).replace(/return!0([;}]|\}|$)/gi,n).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");n=(n=(n=n.replace(/\$filter\$/gi,t)).replace(/\$item\$/gi,e.params[0])).replace(/\$args\$/gi,e.params[1]);e=new Function("_items,_args",n),n="compiledFilter";return e.displayName=n,e.name=ie(e,n),e}(),u=function(){var e=re(p),t="{ continue _coreloop; }$1",n="{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1",t=e.body.replace(/return false\s*([;}]|\}|$)/gi,t).replace(/return!1([;}]|\}|$)/gi,t).replace(/return true\s*([;}]|\}|$)/gi,n).replace(/return!0([;}]|\}|$)/gi,n).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");n=(n=(n=n.replace(/\$filter\$/gi,t)).replace(/\$item\$/gi,e.params[0])).replace(/\$args\$/gi,e.params[1]);e=new Function("_items,_args,_cache",n),n="compiledFilterWithCaching";return e.displayName=n,e.name=ie(e,n),e}()),ue()},getFilter:function(){return p},getFilteredItems:function(){return I},sort:t,fastSort:V,reSort:function(){o?t(o,y):r&&V(r,y)},setGrouping:q,getGrouping:function(){return x},groupBy:function(e,t,n){q(null!=e?{getter:e,formatter:t,comparer:n}:[])},setAggregators:function(e,t){if(!x.length)throw new Error("At least one grouping must be specified before calling setAggregators().");x[0].aggregators=e,x[0].aggregateCollapsed=t,q(x)},collapseAllGroups:function(e){Y(e,!0)},expandAllGroups:function(e){Y(e,!1)},collapseGroup:function(e){var t,n=Array.prototype.slice.call(arguments),r=n[0];Z(n=1===n.length&&-1!==r.indexOf(b)?(t=r).split(b).length-1:(t=n.join(b),n.length-1),t,!0),D.notify({level:n,groupingKey:t})},expandGroup:function(e){var t,n=(r=Array.prototype.slice.call(arguments))[0],r=1===r.length&&-1!==n.indexOf(b)?(t=n.split(b).length-1,n):(t=r.length-1,r.join(b));Z(t,r,!1),B.notify({level:t,groupingKey:r})},getGroups:function(){return E},getAllSelectedIds:se,getAllSelectedItems:function(){var t=[];return A.forEach(function(e){t.push(s.getItemById(e))}),t},getIdxById:function(e){return h.get(e)},getRowByItem:function(e){return U(),d[e[g]]},getRowById:function(e){return U(),d[e]},getItemById:L,getItemByIdx:function(e){return c[e]},mapItemsToRows:function(e){var t=[];U();for(var n=0,r=e.length;n<r;n++){var i=d[e[n][g]];null!=i&&(t[t.length]=i)}return t},mapRowsToIds:function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]<f.length&&(t[t.length]=f[e[n]][g]);return t},mapIdsToRows:function(e){var t=[];U();for(var n=0,r=e.length;n<r;n++){var i=d[e[n]];null!=i&&(t[t.length]=i)}return t},setRefreshHints:function(e){C=e},setFilterArgs:function(e){l=e},refresh:ue,updateItem:Q,updateItems:function(e,t){if(e.length!==t.length)throw new Error("Mismatch on the length of ids and items provided to update");for(var n=0,r=t.length;n<r;n++)H(e[n],t[n]);ue()},insertItem:W,insertItems:function(e,t){Array.prototype.splice.apply(c,[e,0].concat(t)),z(e),ue()},addItem:function(e){c.push(e),z(c.length-1),ue()},addItems:function(e){z((c=c.concat(e)).length-e.length),ue()},deleteItem:J,deleteItems:function(e){if(0!==e.length)if(_)for(var t=0,n=e.length;t<n;t++){var r=e[t];if(void 0===(o=h.get(r)))throw new Error("Invalid id");w.set(r,!0)}else{for(var i=[],t=0,n=e.length;t<n;t++){var o,r=e[t];if(void 0===(o=h.get(r)))throw new Error("Invalid id");h.delete(r),i.push(o)}i.sort();for(t=i.length-1;0<=t;--t)c.splice(i[t],1);z(i[0]),ue()}},sortedAddItem:X,sortedUpdateItem:function(e,t){if(!h.has(e)||e!==t[g])throw new Error("Invalid or non-matching id "+h.get(e));if(!o)throw new Error("sortedUpdateItem() requires a sort comparer, use sort()");var n=L(e);0!==o(n,t)?(J(e),X(t)):Q(e,t)},syncGridSelection:function(r,t,i){var o,l=this;e=r,A=l.mapRowsToIds(r.getSelectedRows());var n=new Slick.Event;function a(e){A.join(",")!=e.join(",")&&(A=e,n.notify({grid:r,ids:A,dataView:l},new Slick.EventData,l))}return r.onSelectedRowsChanged.subscribe(function(e,t){var n;o||(n=l.mapRowsToIds(r.getSelectedRows()),i&&r.getOptions().multiSelect?a(ge.grep(A,function(e){return void 0===l.getRowById(e)}).concat(n)):a(n))}),this.onRowsOrCountChanged.subscribe(function(){var e;0<A.length&&(o=!0,e=l.mapIdsToRows(A),t||a(l.mapRowsToIds(e)),r.setSelectedRows(e),o=!1)}),n},syncGridCellCssStyles:function(r,i){var o,l;function n(e){for(var t in o={},e){var n=f[t][g];o[n]=e[t]}}function a(){if(o){l=!0,U();var e,t={};for(e in o){var n=d[e];null!=n&&(t[n]=o[e])}r.setCellCssStyles(i,t),l=!1}}n(r.getCellCssStyles(i)),r.onCellCssStylesChanged.subscribe(function(e,t){l||i==t.key&&(t.hash?n(t.hash):(r.onCellCssStylesChanged.unsubscribe(),s.onRowsOrCountChanged.unsubscribe(a)))}),this.onRowsOrCountChanged.subscribe(a)},getItemCount:function(){return c.length},getLength:function(){return f.length},getItem:function(e){var t=f[e];return t&&t.__group&&t.totals&&!t.totals.initialized?(e=x[t.level]).displayTotalsRow||(te(t.totals),t.title=e.formatter?e.formatter(t):t.value):t&&t.__groupTotals&&!t.initialized&&te(t),t},getItemMetadata:function(e){return void 0===(e=f[e])?null:e.__group?i.groupItemMetadataProvider.getGroupRowMetadata(e):e.__groupTotals?i.groupItemMetadataProvider.getTotalsRowMetadata(e):null},onSetItemsCalled:n,onRowCountChanged:G,onRowsChanged:T,onRowsOrCountChanged:O,onBeforePagingInfoChanged:P,onPagingInfoChanged:j,onGroupExpanded:B,onGroupCollapsed:D})},Aggregators:{Avg:function(e){this.field_=e,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(e){e=e[this.field_];this.count_++,null==e||""===e||isNaN(e)||(this.nonNullCount_++,this.sum_+=parseFloat(e))},this.storeResult=function(e){e.avg||(e.avg={}),0!==this.nonNullCount_&&(e.avg[this.field_]=this.sum_/this.nonNullCount_)}},Min:function(e){this.field_=e,this.init=function(){this.min_=null},this.accumulate=function(e){e=e[this.field_];null==e||""===e||isNaN(e)||(null==this.min_||e<this.min_)&&(this.min_=e)},this.storeResult=function(e){e.min||(e.min={}),e.min[this.field_]=this.min_}},Max:function(e){this.field_=e,this.init=function(){this.max_=null},this.accumulate=function(e){e=e[this.field_];null==e||""===e||isNaN(e)||(null==this.max_||e>this.max_)&&(this.max_=e)},this.storeResult=function(e){e.max||(e.max={}),e.max[this.field_]=this.max_}},Sum:function(e){this.field_=e,this.init=function(){this.sum_=null},this.accumulate=function(e){e=e[this.field_];null==e||""===e||isNaN(e)||(this.sum_+=parseFloat(e))},this.storeResult=function(e){e.sum||(e.sum={}),e.sum[this.field_]=this.sum_}},Count:function(e){this.field_=e,this.init=function(){},this.storeResult=function(e){e.count||(e.count={}),e.count[this.field_]=e.group.rows.length}}}}}})}(jQuery);