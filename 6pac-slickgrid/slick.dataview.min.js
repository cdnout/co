!function(ge){ge.extend(!0,window,{Slick:{Data:{DataView:function(r){var i,o,l,a,u,s=this,g="id",c=[],f=[],d=new Slick.Map,h=null,p=null,m=null,v=!1,w=!1,_=new Slick.Map,y=!0,C={},S={},$=[],I=[],e=null,R={getter:null,formatter:null,comparer:function(e,t){return e.value===t.value?0:e.value>t.value?1:-1},predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0,lazyTotalsCalculation:!1},x=[],k=[],E=[],M=":|:",G=null,b=0,A=0,D=0,n=new Slick.Event,F=new Slick.Event,V=new Slick.Event,N=new Slick.Event,T=new Slick.Event,O=new Slick.Event,P=new Slick.Event,j=new Slick.Event;function B(e){if(!w)for(var t,n=e=e||0,i=c.length;n<i;n++){if(void 0===(t=c[n][g]))throw new Error("[SlickGrid DataView] Each data element must implement a unique 'id' property");d.set(t,n)}}function z(){var e=b?Math.max(1,Math.ceil(D/b)):1;return{pageSize:b,pageNum:A,totalRows:D,totalPages:e,dataView:s}}function t(e,t){o=e,i=null,!1===(y=t)&&c.reverse(),c.sort(e),!1===t&&c.reverse(),d=new Slick.Map,B(),ue()}function K(e,t){y=t,i=e,o=null;var n=Object.prototype.toString;Object.prototype.toString="function"==typeof e?e:function(){return this[e]},!1===t&&c.reverse(),c.sort(),Object.prototype.toString=n,!1===t&&c.reverse(),d=new Slick.Map,B(),ue()}function q(e){r.groupItemMetadataProvider||(r.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider),k=[],E=[],x=(e=e||[])instanceof Array?e:[e];for(var t=0;t<x.length;t++){var n=x[t]=ge.extend(!0,{},R,x[t]);n.getterIsAFn="function"==typeof n.getter,n.compiledAccumulators=[];for(var i=n.aggregators.length;i--;)n.compiledAccumulators[i]=function(e){{if(e.accumulate){var t=ie(e.accumulate),e=new Function("_items","for (var "+t.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+t.params[0]+" = _items[_i]; "+t.body+"}"),t="compiledAccumulatorLoop";return e.displayName=t,e.name=re(e,t),e}return function(){}}}(n.aggregators[i]);E[t]={}}ue()}function U(){if(!h){h={};for(var e=0,t=f.length;e<t;e++)h[f[e][g]]=e}}function L(e){return c[d.get(e)]}function H(e,t){if(!d.has(e))throw new Error("[SlickGrid DataView] Invalid id");if(e!==t[g]){var n=t[g];if(null==n)throw new Error("[SlickGrid DataView] Cannot update item to associate with a null id");if(d.has(n))throw new Error("[SlickGrid DataView] Cannot update item to associate with a non-unique id");d.set(n,d.get(e)),d.delete(e),m&&m[e]&&delete m[e],e=n}c[d.get(e)]=t,(m=m||{})[e]=!0}function Q(e,t){H(e,t),ue()}function W(e,t){c.splice(e,0,t),B(e),ue()}function J(e){if(w)_.set(e,!0);else{var t=d.get(e);if(void 0===t)throw new Error("[SlickGrid DataView] Invalid id");d.delete(e),c.splice(t,1),B(t),ue()}}function X(e){if(!o)throw new Error("[SlickGrid DataView] sortedAddItem() requires a sort comparer, use sort()");W(function(e){var t=0,n=c.length;for(;t<n;){var i=t+n>>>1;-1===o(c[i],e)?t=1+i:n=i}return t}(e),e)}function Y(e,t){if(null==e)for(var n=0;n<x.length;n++)E[n]={},(!0===(x[n].collapsed=t)?j:P).notify({level:n,groupingKey:null});else E[e]={},(!0===(x[e].collapsed=t)?j:P).notify({level:e,groupingKey:null});ue()}function Z(e,t,n){E[e][t]=x[e].collapsed^n,ue()}function ee(e,t){for(var n,i,r,o=[],l={},a=t?t.level+1:0,u=x[a],s=0,g=u.predefinedValues.length;s<g;s++)(n=l[i=u.predefinedValues[s]])||((n=new Slick.Group).value=i,n.level=a,n.groupingKey=(t?t.groupingKey+M:"")+i,o[o.length]=n,l[i]=n);for(s=0,g=e.length;s<g;s++)r=e[s],(n=l[i=u.getterIsAFn?u.getter(r):r[u.getter]])||((n=new Slick.Group).value=i,n.level=a,n.groupingKey=(t?t.groupingKey+M:"")+i,o[o.length]=n,l[i]=n),n.rows[n.count++]=r;if(a<x.length-1)for(s=0;s<o.length;s++)(n=o[s]).groups=ee(n.rows,n);return o.length&&function e(t,n){n=n||0;var i=x[n];var r=i.collapsed;var o=E[n];var l,a=t.length;for(;a--;)(l=t[a]).collapsed&&!i.aggregateCollapsed||(l.groups&&e(l.groups,n+1),i.aggregators.length&&(i.aggregateEmpty||l.rows.length||l.groups&&l.groups.length)&&ne(l),l.collapsed=r^o[l.groupingKey],l.title=i.formatter?i.formatter(l):l.value)}(o,a),o.sort(x[a].comparer),o}function te(e){var t,n=e.group,i=x[n.level],r=n.level==x.length,o=i.aggregators.length;if(!r&&i.aggregateChildGroups)for(var l=n.groups.length;l--;)n.groups[l].totals.initialized||te(n.groups[l].totals);for(;o--;)(t=i.aggregators[o]).init(),!r&&i.aggregateChildGroups?i.compiledAccumulators[o].call(t,n.groups):i.compiledAccumulators[o].call(t,n.rows),t.storeResult(e);e.initialized=!0}function ne(e){var t=x[e.level],n=new Slick.GroupTotals;(n.group=e).totals=n,t.lazyTotalsCalculation||te(n)}function ie(e){var t=0<=e.toString().indexOf("function")?/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/:/^[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/,t=e.toString().match(t);return{params:t[1].split(","),body:t[2]}}function re(t,n){try{Object.defineProperty(t,"name",{writable:!0,value:n})}catch(e){t.name=n}}function oe(e,t){for(var n=[],i=0,r=0,o=e.length;r<o;r++)p(e[r],t)&&(n[i++]=e[r]);return n}function le(e,t,n){for(var i,r=[],o=0,l=0,a=e.length;l<a;l++)i=e[l],n[l]?r[o++]=i:p(i,t)&&(r[o++]=i,n[l]=!0);return r}function ae(e){h=null,C.isFilterNarrowing==S.isFilterNarrowing&&C.isFilterExpanding==S.isFilterExpanding||(I=[]);t=e,p?(n=r.inlineFilters?a:oe,e=r.inlineFilters?u:le,C.isFilterNarrowing?$=n($,l):C.isFilterExpanding?$=e(t,l,I):C.isFilterUnchanged||($=n(t,l))):$=b?t:t.concat(),t=b?($.length<=A*b&&(A=0===$.length?0:Math.floor(($.length-1)/b)),$.slice(b*A,b*A+b)):$,n={totalRows:$.length,rows:t};D=n.totalRows;var t=n.rows;k=[],x.length&&(k=ee(t)).length&&(t=function e(t,n){for(var i,r=x[n=n||0],o=[],l=0,a=0,u=t.length;a<u;a++){if(i=t[a],!(o[l++]=i).collapsed)for(var s,g=0,c=(s=i.groups?e(i.groups,n+1):i.rows).length;g<c;g++)o[l++]=s[g];i.totals&&r.displayTotalsRow&&(!i.collapsed||r.aggregateCollapsed)&&(o[l++]=i.totals)}return o}(k));var n=function(e,t){var n,i,r,o=[],l=0,a=Math.max(t.length,e.length);C&&C.ignoreDiffsBefore&&(l=Math.max(0,Math.min(t.length,C.ignoreDiffsBefore))),C&&C.ignoreDiffsAfter&&(a=Math.min(t.length,Math.max(0,C.ignoreDiffsAfter)));for(var u=l,s=e.length;u<a;u++)s<=u?o[o.length]=u:(n=t[u],i=e[u],(!n||x.length&&(r=n.__nonDataRow||i.__nonDataRow)&&n.__group!==i.__group||n.__group&&!n.equals(i)||r&&(n.__groupTotals||i.__groupTotals)||n[g]!=i[g]||m&&m[n[g]])&&(o[o.length]=u));return o}(f,t);return f=t,n}function ue(){var e,t,n,i;v||(e=ge.extend(!0,{},z()),t=f.length,n=D,i=ae(c),b&&D<A*b&&(A=Math.max(0,Math.ceil(D/b)-1),i=ae(c)),m=null,S=C,C={},n!==D&&(T.notify(e,null,s),O.notify(z(),null,s)),t!==f.length&&F.notify({previous:t,current:f.length,itemCount:c.length,dataView:s,callingOnRowsChanged:0<i.length},null,s),0<i.length&&V.notify({rows:i,itemCount:c.length,dataView:s,calledOnRowCountChanged:t!==f.length},null,s),(t!==f.length||0<i.length)&&N.notify({rowsDiff:i,previousRowCount:t,currentRowCount:f.length,itemCount:c.length,rowCountChanged:t!==f.length,rowsChanged:0<i.length,dataView:s},null,s))}function se(){return G}r=ge.extend(!0,{},{groupItemMetadataProvider:null,inlineFilters:!1},r),ge.extend(this,{beginUpdate:function(e){w=(v=!0)===e},endUpdate:function(){w&&function(){for(var e,t,n=0,i=0,r=c.length;i<r;i++){if(t=c[i],void 0===(e=t[g]))throw new Error("[SlickGrid DataView] Each data element must implement a unique 'id' property");_.has(e)?d.delete(e):(c[n]=t,d.set(e,n),++n)}c.length=n,_=new Slick.Map}(),v=w=!1,ue()},destroy:function(){c=[],I=[],$=[],u=a=o=m=p=h=d=null,e&&e.onSelectedRowsChanged&&e.onCellCssStylesChanged&&(e.onSelectedRowsChanged.unsubscribe(),e.onCellCssStylesChanged.unsubscribe()),s.onRowsOrCountChanged&&s.onRowsOrCountChanged.unsubscribe()},setPagingOptions:function(e){T.notify(z(),null,s),null!=e.pageSize&&(b=e.pageSize,A=b?Math.min(A,Math.max(0,Math.ceil(D/b)-1)):0),null!=e.pageNum&&(A=Math.min(e.pageNum,Math.max(0,Math.ceil(D/b)-1))),O.notify(z(),null,s),ue()},getPagingInfo:z,getIdPropertyName:function(){return g},getItems:function(){return c},setItems:function(e,t){void 0!==t&&(g=t),c=$=e,n.notify({idProperty:t,itemCount:c.length},null,s),d=new Slick.Map,B(),function(){for(var e,t=0,n=c.length;t<n;t++)if(void 0===(e=c[t][g])||d.get(e)!==t)throw new Error("[SlickGrid DataView] Each data element must implement a unique 'id' property")}(),ue()},setFilter:function(e){p=e,r.inlineFilters&&(a=function(){var e=ie(p),t="{ continue _coreloop; }$1",n="{ _retval[_idx++] = $item$; continue _coreloop; }$1",t=e.body.replace(/return false\s*([;}]|\}|$)/gi,t).replace(/return!1([;}]|\}|$)/gi,t).replace(/return true\s*([;}]|\}|$)/gi,n).replace(/return!0([;}]|\}|$)/gi,n).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");n=(n=(n=n.replace(/\$filter\$/gi,t)).replace(/\$item\$/gi,e.params[0])).replace(/\$args\$/gi,e.params[1]);e=new Function("_items,_args",n),n="compiledFilter";return e.displayName=n,e.name=re(e,n),e}(),u=function(){var e=ie(p),t="{ continue _coreloop; }$1",n="{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1",t=e.body.replace(/return false\s*([;}]|\}|$)/gi,t).replace(/return!1([;}]|\}|$)/gi,t).replace(/return true\s*([;}]|\}|$)/gi,n).replace(/return!0([;}]|\}|$)/gi,n).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");n=(n=(n=n.replace(/\$filter\$/gi,t)).replace(/\$item\$/gi,e.params[0])).replace(/\$args\$/gi,e.params[1]);e=new Function("_items,_args,_cache",n),n="compiledFilterWithCaching";return e.displayName=n,e.name=re(e,n),e}()),ue()},getFilter:function(){return p},getFilteredItems:function(){return $},getFilteredItemCount:function(){return $.length},sort:t,fastSort:K,reSort:function(){o?t(o,y):i&&K(i,y)},setGrouping:q,getGrouping:function(){return x},groupBy:function(e,t,n){q(null!=e?{getter:e,formatter:t,comparer:n}:[])},setAggregators:function(e,t){if(!x.length)throw new Error("[SlickGrid DataView] At least one grouping must be specified before calling setAggregators().");x[0].aggregators=e,x[0].aggregateCollapsed=t,q(x)},collapseAllGroups:function(e){Y(e,!0)},expandAllGroups:function(e){Y(e,!1)},collapseGroup:function(e){var t,n=Array.prototype.slice.call(arguments),i=n[0];Z(n=1===n.length&&-1!==i.indexOf(M)?(t=i).split(M).length-1:(t=n.join(M),n.length-1),t,!0),j.notify({level:n,groupingKey:t})},expandGroup:function(e){var t,n=(i=Array.prototype.slice.call(arguments))[0],i=1===i.length&&-1!==n.indexOf(M)?(t=n.split(M).length-1,n):(t=i.length-1,i.join(M));Z(t,i,!1),P.notify({level:t,groupingKey:i})},getGroups:function(){return k},getAllSelectedIds:se,getAllSelectedItems:function(){var t=[];return G.forEach(function(e){t.push(s.getItemById(e))}),t},getIdxById:function(e){return d.get(e)},getRowByItem:function(e){return U(),h[e[g]]},getRowById:function(e){return U(),h[e]},getItemById:L,getItemByIdx:function(e){return c[e]},mapItemsToRows:function(e){var t=[];U();for(var n=0,i=e.length;n<i;n++){var r=h[e[n][g]];null!=r&&(t[t.length]=r)}return t},mapRowsToIds:function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]<f.length&&(t[t.length]=f[e[n]][g]);return t},mapIdsToRows:function(e){var t=[];U();for(var n=0,i=e.length;n<i;n++){var r=h[e[n]];null!=r&&(t[t.length]=r)}return t},setRefreshHints:function(e){C=e},setFilterArgs:function(e){l=e},refresh:ue,updateItem:Q,updateItems:function(e,t){if(e.length!==t.length)throw new Error("[SlickGrid DataView] Mismatch on the length of ids and items provided to update");for(var n=0,i=t.length;n<i;n++)H(e[n],t[n]);ue()},insertItem:W,insertItems:function(e,t){Array.prototype.splice.apply(c,[e,0].concat(t)),B(e),ue()},addItem:function(e){c.push(e),B(c.length-1),ue()},addItems:function(e){B((c=c.concat(e)).length-e.length),ue()},deleteItem:J,deleteItems:function(e){if(0!==e.length)if(w)for(var t=0,n=e.length;t<n;t++){var i=e[t];if(void 0===(o=d.get(i)))throw new Error("[SlickGrid DataView] Invalid id");_.set(i,!0)}else{for(var r=[],t=0,n=e.length;t<n;t++){var o,i=e[t];if(void 0===(o=d.get(i)))throw new Error("[SlickGrid DataView] Invalid id");d.delete(i),r.push(o)}r.sort();for(t=r.length-1;0<=t;--t)c.splice(r[t],1);B(r[0]),ue()}},sortedAddItem:X,sortedUpdateItem:function(e,t){if(!d.has(e)||e!==t[g])throw new Error("[SlickGrid DataView] Invalid or non-matching id "+d.get(e));if(!o)throw new Error("[SlickGrid DataView] sortedUpdateItem() requires a sort comparer, use sort()");var n=L(e);0!==o(n,t)?(J(e),X(t)):Q(e,t)},syncGridSelection:function(i,t,r){var o,l=this;e=i,G=l.mapRowsToIds(i.getSelectedRows());var n=new Slick.Event;function a(e){G.join(",")!=e.join(",")&&(G=e,n.notify({grid:i,ids:G,dataView:l},new Slick.EventData,l))}return i.onSelectedRowsChanged.subscribe(function(e,t){var n;o||(n=l.mapRowsToIds(i.getSelectedRows()),r&&i.getOptions().multiSelect?a(ge.grep(G,function(e){return void 0===l.getRowById(e)}).concat(n)):a(n))}),this.onRowsOrCountChanged.subscribe(function(){var e;0<G.length&&(o=!0,e=l.mapIdsToRows(G),t||a(l.mapRowsToIds(e)),i.setSelectedRows(e),o=!1)}),n},syncGridCellCssStyles:function(i,r){var o,l;function n(e){for(var t in o={},e){var n=f[t][g];o[n]=e[t]}}function a(){if(o){l=!0,U();var e,t={};for(e in o){var n=h[e];null!=n&&(t[n]=o[e])}i.setCellCssStyles(r,t),l=!1}}n(i.getCellCssStyles(r)),i.onCellCssStylesChanged.subscribe(function(e,t){l||r==t.key&&(t.hash?n(t.hash):(i.onCellCssStylesChanged.unsubscribe(),s.onRowsOrCountChanged.unsubscribe(a)))}),this.onRowsOrCountChanged.subscribe(a)},getItemCount:function(){return c.length},getLength:function(){return f.length},getItem:function(e){var t=f[e];return t&&t.__group&&t.totals&&!t.totals.initialized?(e=x[t.level]).displayTotalsRow||(te(t.totals),t.title=e.formatter?e.formatter(t):t.value):t&&t.__groupTotals&&!t.initialized&&te(t),t},getItemMetadata:function(e){return void 0===(e=f[e])?null:e.__group?r.groupItemMetadataProvider.getGroupRowMetadata(e):e.__groupTotals?r.groupItemMetadataProvider.getTotalsRowMetadata(e):null},onSetItemsCalled:n,onRowCountChanged:F,onRowsChanged:V,onRowsOrCountChanged:N,onBeforePagingInfoChanged:T,onPagingInfoChanged:O,onGroupExpanded:P,onGroupCollapsed:j})},Aggregators:{Avg:function(e){this.field_=e,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(e){e=e[this.field_];this.count_++,null==e||""===e||isNaN(e)||(this.nonNullCount_++,this.sum_+=parseFloat(e))},this.storeResult=function(e){e.avg||(e.avg={}),0!==this.nonNullCount_&&(e.avg[this.field_]=this.sum_/this.nonNullCount_)}},Min:function(e){this.field_=e,this.init=function(){this.min_=null},this.accumulate=function(e){e=e[this.field_];null==e||""===e||isNaN(e)||(null==this.min_||e<this.min_)&&(this.min_=e)},this.storeResult=function(e){e.min||(e.min={}),e.min[this.field_]=this.min_}},Max:function(e){this.field_=e,this.init=function(){this.max_=null},this.accumulate=function(e){e=e[this.field_];null==e||""===e||isNaN(e)||(null==this.max_||e>this.max_)&&(this.max_=e)},this.storeResult=function(e){e.max||(e.max={}),e.max[this.field_]=this.max_}},Sum:function(e){this.field_=e,this.init=function(){this.sum_=null},this.accumulate=function(e){e=e[this.field_];null==e||""===e||isNaN(e)||(this.sum_+=parseFloat(e))},this.storeResult=function(e){e.sum||(e.sum={}),e.sum[this.field_]=this.sum_}},Count:function(e){this.field_=e,this.init=function(){},this.storeResult=function(e){e.count||(e.count={}),e.count[this.field_]=e.group.rows.length}}}}}})}(jQuery);