!function(l){function s(t){var o,i,n=this;function a(){var e=t.column.editorFixedDecimalPlaces;return(e=void 0===e?s.DefaultDecimalPlaces:e)||0===e?e:null}this.args=t,this.init=function(){var e=t.grid.getOptions().editorCellNavOnLRKeys;o=l("<INPUT type=text class='editor-text' />").appendTo(t.container).on("keydown.nav",e?r:u).focus().select(),t.compositeEditorOptions&&o.on("change",function(){var e=t.grid.getActiveCell();n.validate().valid&&n.applyValue(n.args.item,n.serializeValue()),n.applyValue(n.args.compositeEditorOptions.formValues,n.serializeValue()),t.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:n.args.item,column:n.args.column,formValues:n.args.compositeEditorOptions.formValues})})},this.destroy=function(){o.remove()},this.focus=function(){o.focus()},this.loadValue=function(e){i=e[t.column.field];e=a();null!==e&&(i||0===i)&&i.toFixed&&(i=i.toFixed(e)),o.val(i),o[0].defaultValue=i,o.select()},this.serializeValue=function(){var e=parseFloat(o.val());s.AllowEmptyValue?e||0===e||(e=""):e=e||0;var i=a();return e=null!==i&&(e||0===e)&&e.toFixed?parseFloat(e.toFixed(i)):e},this.applyValue=function(e,i){e[t.column.field]=i},this.isValueChanged=function(){return!(""===o.val()&&null==i)&&o.val()!=i},this.validate=function(){if(isNaN(o.val()))return{valid:!1,msg:"Please enter a valid number"};if(t.column.validator){var e=t.column.validator(o.val(),t);if(!e.valid)return e}return{valid:!0,msg:null}},this.init()}function r(e){var i=this.selectionStart,t=this.value.length;(e.keyCode===l.ui.keyCode.LEFT&&0<i||e.keyCode===l.ui.keyCode.RIGHT&&i<t-1)&&e.stopImmediatePropagation()}function u(e){e.keyCode!==l.ui.keyCode.LEFT&&e.keyCode!==l.ui.keyCode.RIGHT||e.stopImmediatePropagation()}s.DefaultDecimalPlaces=null,l.extend(!(s.AllowEmptyValue=!1),window,{Slick:{Editors:{Text:function(t){var i,o,n=this;this.args=t,this.init=function(){var e=t.grid.getOptions().editorCellNavOnLRKeys;i=l("<INPUT type=text class='editor-text' />").appendTo(t.container).on("keydown.nav",e?r:u).focus().select(),t.compositeEditorOptions&&i.on("change",function(){var e=t.grid.getActiveCell();n.validate().valid&&n.applyValue(n.args.item,n.serializeValue()),n.applyValue(n.args.compositeEditorOptions.formValues,n.serializeValue()),t.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:n.args.item,column:n.args.column,formValues:n.args.compositeEditorOptions.formValues})})},this.destroy=function(){i.remove()},this.focus=function(){i.focus()},this.getValue=function(){return i.val()},this.setValue=function(e){i.val(e)},this.loadValue=function(e){o=e[t.column.field]||"",i.val(o),i[0].defaultValue=o,i.select()},this.serializeValue=function(){return i.val()},this.applyValue=function(e,i){e[t.column.field]=i},this.isValueChanged=function(){return!(""===i.val()&&null==o)&&i.val()!=o},this.validate=function(){if(t.column.validator){var e=t.column.validator(i.val(),t);if(!e.valid)return e}return{valid:!0,msg:null}},this.init()},Integer:function(t){var i,o,n=this;this.args=t,this.init=function(){var e=t.grid.getOptions().editorCellNavOnLRKeys;i=l("<INPUT type=text class='editor-text' />").appendTo(t.container).on("keydown.nav",e?r:u).focus().select(),t.compositeEditorOptions&&i.on("change",function(){var e=t.grid.getActiveCell();n.validate().valid&&n.applyValue(n.args.item,n.serializeValue()),n.applyValue(n.args.compositeEditorOptions.formValues,n.serializeValue()),t.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:n.args.item,column:n.args.column,formValues:n.args.compositeEditorOptions.formValues})})},this.destroy=function(){i.remove()},this.focus=function(){i.focus()},this.loadValue=function(e){o=e[t.column.field],i.val(o),i[0].defaultValue=o,i.select()},this.serializeValue=function(){return parseInt(i.val(),10)||0},this.applyValue=function(e,i){e[t.column.field]=i},this.isValueChanged=function(){return!(""===i.val()&&null==o)&&i.val()!=o},this.validate=function(){if(isNaN(i.val()))return{valid:!1,msg:"Please enter a valid integer"};if(t.column.validator){var e=t.column.validator(i.val(),t);if(!e.valid)return e}return{valid:!0,msg:null}},this.init()},Float:s,Date:function(t){var i,o,n=this,a=!1;this.args=t,this.init=function(){(i=l("<INPUT type=text class='editor-text' />")).appendTo(t.container),i.focus().select(),i.datepicker({showOn:"button",buttonImageOnly:!0,beforeShow:function(){a=!0},onClose:function(){var e;a=!1,t.compositeEditorOptions&&(e=t.grid.getActiveCell(),n.validate().valid&&n.applyValue(n.args.item,n.serializeValue()),n.applyValue(n.args.compositeEditorOptions.formValues,n.serializeValue()),t.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:n.args.item,column:n.args.column,formValues:n.args.compositeEditorOptions.formValues}))}}),i.width(i.width()-(t.compositeEditorOptions?28:18))},this.destroy=function(){l.datepicker.dpDiv.stop(!0,!0),i.datepicker("hide"),i.datepicker("destroy"),i.remove()},this.show=function(){a&&l.datepicker.dpDiv.stop(!0,!0).show()},this.hide=function(){a&&l.datepicker.dpDiv.stop(!0,!0).hide()},this.position=function(e){a&&l.datepicker.dpDiv.css("top",e.top+30).css("left",e.left)},this.focus=function(){i.focus()},this.loadValue=function(e){o=e[t.column.field],i.val(o),i[0].defaultValue=o,i.select()},this.serializeValue=function(){return i.val()},this.applyValue=function(e,i){e[t.column.field]=i},this.isValueChanged=function(){return!(""===i.val()&&null==o)&&i.val()!=o},this.validate=function(){if(t.column.validator){var e=t.column.validator(i.val(),t);if(!e.valid)return e}return{valid:!0,msg:null}},this.init()},YesNoSelect:function(t){var i,o,n=this;this.args=t,this.init=function(){(i=l("<SELECT tabIndex='0' class='editor-yesno'><OPTION value='yes'>Yes</OPTION><OPTION value='no'>No</OPTION></SELECT>")).appendTo(t.container),i.focus(),t.compositeEditorOptions&&i.on("change",function(){var e=t.grid.getActiveCell();n.validate().valid&&n.applyValue(n.args.item,n.serializeValue()),n.applyValue(n.args.compositeEditorOptions.formValues,n.serializeValue()),t.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:n.args.item,column:n.args.column,formValues:n.args.compositeEditorOptions.formValues})})},this.destroy=function(){i.remove()},this.focus=function(){i.focus()},this.loadValue=function(e){i.val((o=e[t.column.field])?"yes":"no"),i.select()},this.serializeValue=function(){return"yes"==i.val()},this.applyValue=function(e,i){e[t.column.field]=i},this.isValueChanged=function(){return i.val()!=o},this.validate=function(){return{valid:!0,msg:null}},this.init()},Checkbox:function(t){var i,o,n=this;this.args=t,this.init=function(){(i=l("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>")).appendTo(t.container),i.focus(),t.compositeEditorOptions&&i.on("change",function(){var e=t.grid.getActiveCell();n.validate().valid&&n.applyValue(n.args.item,n.serializeValue()),n.applyValue(n.args.compositeEditorOptions.formValues,n.serializeValue()),t.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:n.args.item,column:n.args.column,formValues:n.args.compositeEditorOptions.formValues})})},this.destroy=function(){i.remove()},this.focus=function(){i.focus()},this.loadValue=function(e){(o=!!e[t.column.field])?i.prop("checked",!0):i.prop("checked",!1)},this.preClick=function(){i.prop("checked",!i.prop("checked"))},this.serializeValue=function(){return i.prop("checked")},this.applyValue=function(e,i){e[t.column.field]=i},this.isValueChanged=function(){return this.serializeValue()!==o},this.validate=function(){return{valid:!0,msg:null}},this.init()},PercentComplete:function(o){var t,i,n,a=this;this.args=o,this.init=function(){(t=l("<INPUT type=text class='editor-percentcomplete' />")).width(l(o.container).innerWidth()-25),t.appendTo(o.container),(i=l("<div class='editor-percentcomplete-picker' />").appendTo(o.container)).append("<div class='editor-percentcomplete-helper'><div class='editor-percentcomplete-wrapper'><div class='editor-percentcomplete-slider' /><div class='editor-percentcomplete-buttons' /></div></div>"),i.find(".editor-percentcomplete-buttons").append("<button val=0>Not started</button><br/><button val=50>In Progress</button><br/><button val=100>Complete</button>"),t.focus().select(),i.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:n,slide:function(e,i){t.val(i.value)},stop:function(e,i){var t;o.compositeEditorOptions&&(t=o.grid.getActiveCell(),a.validate().valid&&a.applyValue(a.args.item,a.serializeValue()),a.applyValue(a.args.compositeEditorOptions.formValues,a.serializeValue()),o.grid.onCompositeEditorChange.notify({row:t.row,cell:t.cell,item:a.args.item,column:a.args.column,formValues:a.args.compositeEditorOptions.formValues}))}}),i.find(".editor-percentcomplete-buttons button").on("click",function(e){t.val(l(this).attr("val")),i.find(".editor-percentcomplete-slider").slider("value",l(this).attr("val"))})},this.destroy=function(){t.remove(),i.remove()},this.focus=function(){t.focus()},this.loadValue=function(e){t.val(n=e[o.column.field]),t.select()},this.serializeValue=function(){return parseInt(t.val(),10)||0},this.applyValue=function(e,i){e[o.column.field]=i},this.isValueChanged=function(){return!(""===t.val()&&null==n)&&(parseInt(t.val(),10)||0)!=n},this.validate=function(){return isNaN(parseInt(t.val(),10))?{valid:!1,msg:"Please enter a valid positive number"}:{valid:!0,msg:null}},this.init()},LongText:function(o){var t,n,i,a=this;this.args=o,this.init=function(){var e=o.compositeEditorOptions,i=(o.grid.getOptions().editorCellNavOnLRKeys,e?o.container:l("body"));n=l("<DIV class='slick-large-editor-text' style='z-index:10000;background:white;padding:5px;border:3px solid gray; border-radius:10px;'/>").appendTo(i),e?n.css({position:"relative",padding:0,border:0}):n.css({position:"absolute"}),t=l("<TEXTAREA hidefocus rows=5 style='background:white;width:250px;height:80px;border:0;outline:0'>").appendTo(n),e?t.on("change",function(){var e=o.grid.getActiveCell();a.validate().valid&&a.applyValue(a.args.item,a.serializeValue()),a.applyValue(a.args.compositeEditorOptions.formValues,a.serializeValue()),o.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:a.args.item,column:a.args.column,formValues:a.args.compositeEditorOptions.formValues})}):(l("<DIV style='text-align:right'><BUTTON>Save</BUTTON><BUTTON>Cancel</BUTTON></DIV>").appendTo(n),n.find("button:first").on("click",this.save),n.find("button:last").on("click",this.cancel),t.on("keydown",this.handleKeyDown),a.position(o.position)),t.focus().select()},this.handleKeyDown=function(e){var i,t;e.which==l.ui.keyCode.ENTER&&e.ctrlKey?a.save():e.which==l.ui.keyCode.ESCAPE?(e.preventDefault(),a.cancel()):e.which==l.ui.keyCode.TAB&&e.shiftKey?(e.preventDefault(),o.grid.navigatePrev()):e.which==l.ui.keyCode.TAB?(e.preventDefault(),o.grid.navigateNext()):e.which!=l.ui.keyCode.LEFT&&e.which!=l.ui.keyCode.RIGHT||o.grid.getOptions().editorCellNavOnLRKeys&&(i=this.selectionStart,t=this.value.length,e.keyCode===l.ui.keyCode.LEFT&&0===i&&o.grid.navigatePrev(),e.keyCode===l.ui.keyCode.RIGHT&&t-1<=i&&o.grid.navigateNext())},this.save=function(){o.commitChanges()},this.cancel=function(){t.val(i),o.cancelChanges()},this.hide=function(){n.hide()},this.show=function(){n.show()},this.position=function(e){n.css("top",e.top-5).css("left",e.left-5)},this.destroy=function(){n.remove()},this.focus=function(){t.focus()},this.loadValue=function(e){t.val(i=e[o.column.field]),t.select()},this.serializeValue=function(){return t.val()},this.applyValue=function(e,i){e[o.column.field]=i},this.isValueChanged=function(){return!(""===t.val()&&null==i)&&t.val()!=i},this.validate=function(){if(o.column.validator){var e=o.column.validator(t.val(),o);if(!e.valid)return e}return{valid:!0,msg:null}},this.init()}}}})}(jQuery);