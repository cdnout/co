ComponentJS.plugin("migrate",function(t,a,e){var c=a.trait({protos:{migrate:function(){var e=a.params("migrate",arguments,{comps:{pos:"...",req:!0},sync:{def:!1},completed:{def:a.nop}}),c=0,s=this;t.foreach(e.comps,function(t){if(e.sync){var a=t.state();t.state({state:"created",sync:!0}),t.detach(),t.attach(s),t.state(a)}else n=t,o=t.state(),n.state({state:"created",sync:!1,callback:function(){this.detach(),this.attach(s),this.state({state:o,sync:!1,callback:function(){0==--c&&e.completed.call(null)}})}}),c++;var n,o})}}});t.latch("ComponentJS:bootstrap:comp:mixin",function(t){t.push(c)})});