!function(t){"object"==typeof module&&void 0!==module.exports?module.exports=t:t()}(function(){(window.webpackJsonpFusionCharts=window.webpackJsonpFusionCharts||[]).push([[8],{1211:function(t,e,i){"use strict";var n=i(219);e.__esModule=!0,e.default=void 0;var a=n(i(1212));e.Treemap=a.default,e.default={name:"treemap",type:"package",requiresFusionCharts:!0,extension:function(t){return t.addDep(a.default)}}},1212:function(t,e,i){"use strict";var n=i(219);e.__esModule=!0,e.default=void 0;i=n(i(1213)).default;e.default=i},1213:function(t,e,i){"use strict";var n=i(219);e.__esModule=!0,e.default=void 0;var r=n(i(238)),a=n(i(464)),o=i(236),k=i(224),l=i(363),s=n(i(1214)),h=n(i(1216)),c=i(232),g=n(i(537)),d=i(566),f=n(i(568)),u=n(i(1052)),p=n(i(1056)),v=n(i(535)),i=n(i(387)),c=(0,c.getDep)("redraphael","plugin");(0,i.default)(c),c.addSymbol({backIcon:function(t,e,i){var n=i-1,a=e+n,r=a-n/2,o=t+n,i=r-n;return["M",t,e-n,"L",t-n,e,t,a,t,r,o,r,o,i,o-n,i,"Z"]},homeIcon:function(t,e,i){var n=i-1,a=2*n,r=t-n,o=r+a/6,l=e+n,s=o+a/4,h=l-n/2,c=s+a/6,g=h+n/2,d=c+a/4,i=g-n;return["M",t,e-n,"L",r,e,o,e,o,l,s,l,s,h,c,h,c,g,d,g,d,i,d+a/6,i,"Z"]}});a=function(a){function t(){var t;return(t=a.call(this)||this)._lastAttached={},t.hasGradientLegend=!0,t.addToEnv("ref",(0,h.default)()),t.registerFactory("legend",f.default),t.registerFactory("legend",p.default,["canvas"]),t.registerFactory("colormanager-decider",u.default,["legend"]),t.registerFactory("mouseTracker",v.default),t.registerFactory("dataset",g.default,["vCanvas"]),t}(0,r.default)(t,a),t.getName=function(){return"TreeMap"};var e=t.prototype;return e.getName=function(){return"TreeMap"},e.__setDefaultConfig=function(){a.prototype.__setDefaultConfig.call(this),this.config.enablemousetracking=!0,this.config.skipCanvasDrawing=!0,this.config.valuefontbold=0},e.configureAttributes=function(t){this.config.skipConfigureIteration={},this.config.valuesset=!1,this.parseChartAttr(t),this.createComponent(t),this.setTooltipStyle(),this.configureChildren()},e.mouseoutHandler=function(t,e,i){var n=this.config.datasetOrder||this.getDatasets(),a=this.getChildren("mouseTracker")[0];n[e]._firePlotEvent("fc-mouseout",i,t),delete a._lastDatasetIndex,delete a._lastPointIndex},e._mouseEvtHandler=function(t,e){var i,n,a,r,o,l=this,s=e.mouseTracker,h=t.originalEvent,c=l.config,g=c.canvasLeft,d=c.canvasRight,f=c.canvasBottom,e=c.canvasTop,u=c.datasetOrder||l.getDatasets(),h=(0,k.getMouseCoordinate)(l.getFromEnv("chart-container"),h,l),p=h.chartX,v=h.chartY,b=!1,m=u.length,y=s._lastDatasetIndex,x=s._lastPointIndex;if(g<p&&p<d&&e<v&&v<f||l.config.plotOverFlow)for(;m--&&!b;)(i=u[m])&&(n=i._getHoveredPlot&&i._getHoveredPlot(p,v))&&n.hovered&&(b=!0,n.datasetIndex=m,o=s.getMouseEvents(t,n.datasetIndex,n.pointIndex));if((!b||o&&o.fireOut)&&void 0!==y&&u[y]&&u[y]._firePlotEvent&&(o&&!o.events.length?s.mouseoutTimer=setTimeout(function(){l.mouseoutHandler(t,y,x)},20):(l.mouseoutHandler(t,y,x),clearTimeout(s.mouseoutTimer))),b)for((r=o.events&&o.events.length)&&(s._lastDatasetIndex=n.datasetIndex,x=s._lastPointIndex=n.pointIndex),a=0;a<r;a+=1)i&&i._firePlotEvent&&i._firePlotEvent(o.events[a],x,t)},e._checkInvalidSpecificData=function(){if(!this.getFromEnv("dataSource").data)return!0},e.addData=function(){var t=this.getFromEnv("ref").algorithmFactory,e=Array.prototype.slice.call(arguments,0);e.unshift("addData"),e.unshift(this._getCleanValue()),t.realTimeUpdate.apply(this,e)},e.removeData=function(){var t=this.getFromEnv("ref").algorithmFactory,e=Array.prototype.slice.call(arguments,0);e.unshift("deleteData"),e.unshift(this._getCleanValue()),t.realTimeUpdate.apply(this,e)},e.triggerKDTreePartioning=function(){var t=this.getDatasets()[0];t.addJob("partitioning",t.kdTreePartioning.bind(t),o.priorityList.tracker)},e.resetSingleTracker=function(){var t=this.getDatasets()[0],t=t&&t.graphics&&t.graphics.singleTracker;t&&t.attr({x:0,y:0,width:0,height:0,stroke:"rgba(255,255,255,0)","fill-opacity":0})},e._manageLegendSpace=function(){d._manageLegendSpace.call(this)},e.manageGradientLegendSpace=function(t){return d.manageGradientLegendSpace.call(this,t)},e.flushKDTree=function(){this.getDatasets()[0].kdTree={}},e.attachMenuButtons=function(){a.prototype.attachMenuButtons.call(this);for(var t="t"===this.config.toolbarVAlign?"chartMenuBar":"actionBar",e=this.getFromEnv("tool-config"),i=this.getChildren(t)[0],n=0;n<2;n++)i.attachChild(l.Tool,"tool",(0===n?"home":"back")+"-"+i.getId()+"-"+this.getId());i.getChild("back-"+i.getId()+"-"+this.getId()).configure(Object.assign({},e,{name:"backIcon",isHidden:!0})),i.getChild("home-"+i.getId()+"-"+this.getId()).configure(Object.assign({},e,{name:"homeIcon",isHidden:!0})),this.addToEnv("toolbarBtns",{back:i.getChild("back-"+i.getId()+"-"+this.getId()),home:i.getChild("home-"+i.getId()+"-"+this.getId())})},e._getCleanValue=function(){var e=this.getFromEnv("number-formatter");return function(t){return e.getCleanValue(t)}},e.getDSdef=function(){return s.default},t}(a.default);e.default=a},1214:function(t,e,i){"use strict";var n=i(219);e.__esModule=!0,e.default=void 0;function a(t,e,i){return i.getFromEnv("animationManager").setAnimation({el:"group",attr:{name:t},container:e,state:"appearing",component:i,doNotRemove:!0,label:"group"})}function k(t,e,i){return e<=t&&t<=i}function C(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function r(t){for(var e=t,f=e&&e[0]&&e[0].plotDetails.rect||5,u=Math.max,p=Math.floor,v=Math.sqrt,b=Math.min,m=Math.log,y=Math.exp,x=Math.pow,i=(e=e||[]).length;i--;)e[i].r>f&&(f=e[i].r),e[i].x=+e[i].plotDetails.rect.x,e[i].y=+e[i].plotDetails.rect.y;return t={tree:function t(e,i,n,a){var r={},o=i,i=n,n=a?"y":"x";return o===i?r.point=e[o]:i-o==1?e[o][n]>e[i][n]?(r.point=e[o],r.left={point:e[i]}):(r.point=e[i],r.left={point:e[o]}):((a?function t(e,i,n,a){for(var r,o,l,s,h,c,g,d=n,f=a;d<f;){for(600<f-d&&(o=i-d+1,s=m(r=f-d+1),l=.5*y(2*s/3),s=.5*v(s*l*(r-l)/r)*(o-r/2<0?-1:1),t(e,i,u(d,p(i-o*l/r+s)),b(f,p(i+(r-o)*l/r+s)))),h=e[i],g=f,C(e,c=d,i),e[f].y>h.y&&C(e,d,f);c<g;){for(C(e,c,g),c++,g--;e[c].y<h.y;)c++;for(;e[g].y>h.y;)g--}e[d].y===h.y?C(e,d,g):C(e,++g,f),g<=i&&(d=g+1),i<=g&&(f=g-1)}}:function t(e,i,n,a){for(var r,o,l,s,h,c,g,d=n,f=a;d<f;){for(600<f-d&&(o=i-d+1,s=m(r=f-d+1),l=.5*y(2*s/3),s=.5*v(s*l*(r-l)/r)*(o-r/2<0?-1:1),t(e,i,u(d,p(i-o*l/r+s)),b(f,p(i+(r-o)*l/r+s)))),h=e[i],g=f,C(e,c=d,i),e[f].x>h.x&&C(e,d,f);c<g;){for(C(e,c,g),c++,g--;e[c].x<h.x;)c++;for(;e[g].x>h.x;)g--}e[d].x===h.x?C(e,d,g):C(e,++g,f),g<=i&&(d=g+1),i<=g&&(f=g-1)}})(e,n=o+i>>1,o,i),r.point=e[n],r.left=t(e,o,n-1,!a),r.right=t(e,1+n,i,!a)),r}(e,0,e.length-1,!1),search:function(r,o){function e(t){var e,i,n,a=k(r,t.x1,t.x2)&&k(o,t.y1,t.y2),n=(e=o,i=t.point.x,n=t.point.y,v(x(r-i,2)+x(e-n,2)));if(!l)return l=t,g=a,d=n,0;a?(!g||t.point.i>l.point.i)&&(l=t,g=a,d=n):g||n<d&&(l=t,g=a,d=n)}function i(t){t&&t.point&&(k(t.point.x,a,s)&&k(t.point.y,h,c)&&e(t),a<=t.point.x&&n(t.left),s>=t.point.x&&n(t.right))}function n(t){t&&t.point&&(k(t.point.x,a,s)&&k(t.point.y,h,c)&&e(t),h<=t.point.y&&i(t.left),c>=t.point.y&&i(t.right))}var l,t=this.tree,a=r-f,s=r+f,h=o-f,c=o+f,g=!1,d=0;return i(t),l&&l.point||l},searchTreemap:function(l,s){var h;return function t(e,i){var n,a,r,o;e&&e.point&&(a=(n=e.point.x)+e.point.plotDetails.rect.width,o=(r=e.point.y)+e.point.plotDetails.rect.height,e.point.x2=a,e.point.y2=o,n<=l&&l<=a&&r<=s&&s<=o&&(o=e.point,(!h||o.i>h.i)&&(h=o)),t(e.left,!i),t(e.right,!i))}(this.tree,!1),h}},e.sort(function(t,e){return t.i-e.i}),t}var o=n(i(242)),l=n(i(238)),s=i(240),F=i(236),S=i(224),h=i(232),i=n(i(1215)),d=S.preDefStr.DEFAULT;(0,h.addDep)({name:"treeMapAnimation",type:"animationRule",extension:i.default});s=function(i){function t(){var t=i.call(this)||this,e=(0,o.default)(t);return e.components={},e.conf={},e.graphics={elemStore:{rect:[],label:[],highlight:[],hot:[],polypath:[]}},t}(0,l.default)(t,i);var e=t.prototype;return e.getName=function(){return"treeMap"},e.configureAttributes=function(t){var e,i;t&&(this.config.JSONData=t.data[0],e=this.getFromEnv("chart"),i=this.conf,t=e.getFromEnv("chart-attrib"),i.metaTreeInf={},e=t.algorithm||"squarified",i.algorithm=e.toLowerCase(),i.range=void 0,i.horizontalPadding=(0,S.pluckNumber)(t.horizontalpadding,5),i.horizontalPadding=i.horizontalPadding<0?0:i.horizontalPadding,i.verticalPadding=(0,S.pluckNumber)(t.verticalpadding,5),i.verticalPadding=i.verticalPadding<0?0:i.verticalPadding,i.showParent=(0,S.pluckNumber)(t.showparent,1),i.showChildLabels=(0,S.pluckNumber)(t.showchildlabels,0),i.showHoverEffect=(0,S.pluckNumber)(t.showhovereffect,1),i.highlightParentsOnHover=(0,S.pluckNumber)(t.highlightparentsonhover,0),i.defaultParentBGColor=(0,S.pluck)(t.defaultparentbgcolor,void 0),i.defaultNavigationBarBGColor=(0,S.pluck)(t.defaultnavigationbarbgcolor,i.defaultParentBGColor),i.showTooltip=(0,S.pluckNumber)(t.showtooltip,1),i.baseFontSize=(0,S.pluckNumber)(t.basefontsize,10),i.baseFontSize=i.baseFontSize<1?1:i.baseFontSize,i.labelFontSize=(0,S.pluckNumber)(this.computeFontSize(t.labelfontsize),void 0),i.labelFontSize=i.labelFontSize<1?1:i.labelFontSize,i.baseFont=(0,S.pluck)(t.basefont,"Verdana, Sans"),i.labelFont=(0,S.pluck)(t.labelfont,void 0),i.showTextOutline=(0,S.pluckNumber)(t.textoutline,0),i.baseFontColor=(0,S.pluck)(t.basefontcolor,"#000000").replace(/^#?([a-f0-9]+)/gi,"#$1"),i.labelFontColor=(0,S.pluck)(t.labelfontcolor,void 0),i.labelFontColor&&(i.labelFontColor=i.labelFontColor.replace(/^#?([a-f0-9]+)/gi,"#$1")),i.labelFontBold=(0,S.pluckNumber)(t.labelfontbold,0),i.labelFontItalic=(0,S.pluckNumber)(t.labelfontitalic,0),i.plotBorderThickness=(0,S.pluckNumber)(t.plotborderthickness,1),i.plotBorderThickness=i.plotBorderThickness<0?0:5<i.plotBorderThickness?5:i.plotBorderThickness,i.plotBorderColor=(0,S.pluck)(t.plotbordercolor,"#000000").replace(/^#?([a-f0-9]+)/gi,"#$1"),i.tooltipSeparationCharacter=(0,S.pluck)(t.tooltipsepchar,","),i.plotToolText=(0,S.parseUnsafeString)((0,S.pluck)(t.plottooltext,""),!1),i.parentLabelLineHeight=(0,S.pluckNumber)(t.parentlabellineheight,12),i.parentLabelLineHeight=i.parentLabelLineHeight<0?0:i.parentLabelLineHeight,i.labelGlow=i.showTextOutline?0:(0,S.pluckNumber)(t.labelglow,1),i.labelGlowIntensity=(0,S.pluckNumber)(t.labelglowintensity,100)/100,i.labelGlowIntensity=i.labelGlowIntensity<0?0:1<i.labelGlowIntensity?1:i.labelGlowIntensity,i.labelGlowColor=(0,S.pluck)(t.labelglowcolor,"#ffffff").replace(/^#?([a-f0-9]+)/gi,"#$1"),i.labelGlowRadius=(0,S.pluckNumber)(t.labelglowradius,2),i.labelGlowRadius=i.labelGlowRadius<0?0:10<i.labelGlowRadius?10:i.labelGlowRadius,i.btnResetChartTooltext=(0,S.pluck)(t.btnresetcharttooltext,"Back to Top"),i.btnBackChartTooltext=(0,S.pluck)(t.btnbackcharttooltext,"Back to Parent"),i.rangeOutBgColor=(0,S.pluck)(t.rangeoutbgcolor,"#808080").replace(/^#?([a-f0-9]+)/gi,"#$1"),i.rangeOutBgAlpha=(0,S.pluckNumber)(t.rangeoutbgalpha,100),i.rangeOutBgAlpha=i.rangeOutBgAlpha<1||100<i.rangeOutBgAlpha?100:i.rangeOutBgAlpha,e=(0,S.pluckNumber)(t.maxdepth),i.maxDepth=void 0!==e?Math.max(e,1):void 0,e=i.showNavigationBar=(0,S.pluckNumber)(t.shownavigationbar,1),i.slicingMode=(0,S.pluck)(t.slicingmode,"alternate"),i.navigationBarHeight=(0,S.pluckNumber)(t.navigationbarheight),i.navigationBarHeightRatio=(0,S.pluckNumber)(t.navigationbarheightratio),i.navigationBarBorderColor=(0,S.pluck)(t.navigationbarbordercolor,i.plotBorderColor).replace(/^#?([a-f0-9]+)/gi,"#$1"),i.navigationBarBorderThickness=e?(0,S.pluckNumber)(t.navigationbarborderthickness,i.plotBorderThickness):0,i.seperatorAngle=(0,S.pluckNumber)(t.seperatorangle)*(Math.PI/180),i.isConfigured=!0,this.setState("dirty",!0))},e.createContainer=function(){var t=this.getLinkedParent().getChildContainer(),e=this.getContainer("plots")||this.addContainer("plots",a("plots",t.defaultGroup,this)),e=this.getContainer("datalabels")||this.addContainer("datalabels",a("datalabels",t.defaultGroup,this).insertAfter(e)),t=this.getContainer("tracker")||this.addContainer("tracker",a("tracker",t.defaultGroup,this));this.getContainer("line-hot")||this.addContainer("line-hot",a("line-hot",t,this)),t=this.getContainer("labelhighlight")||this.addContainer("labelhighlight",a("labelhighlight",e,this)),this.getContainer("labelfloat")||this.addContainer("labelfloat",a("labelfloat",e,this).insertAfter(t))},e._getHoveredPlot=function(t,e){for(var i,n,a=(n=Object.keys(this.config.kdTree||{})).length-1;-1<a;a--)if(this.config.kdTree[n[a]].searchTreemap(t,e)){i=this.config.kdTree[n[a]].searchTreemap(t,e);break}if(i)return{pointIndex:(this.pointObj=i).i||i.index,hovered:!0,pointObj:i}},e.kdTreePartioning=function(){for(var t,e=this.getFromEnv("chartConfig").trackerConfig,i={},n=e.length;n--;)e[n].i=n,void 0===i[e[n].node.meta.depth]&&(i[e[n].node.meta.depth]=[]),i[e[n].node.meta.depth].push(e[n]);for(this.config.kdTree={},n=(t=Object.keys(i)).length-1;-1<n;n--)this.config.kdTree[t[n]]=r(i[t[n]])},e._rolloverResponseSetter=function(t,e,i){var n=t.getData(),a=i.getFromEnv("animationManager"),r=this.getFromEnv("chart");n&&0!==n.showHoverEffect&&(r.getState("drill")||(a.setAnimationState("mouseOver"),a.setAnimation({el:t,label:"rect",component:i,attr:t.getData().setRolloverAttr})),r.plotEventHandler(t,e,"DataPlotRollOver"))},e._getParentNode=function(t){var e,i=this.conf.navigationBarNodes||[],n=i.length,a=(t=void 0===t?[]:t).length,r=t[a-2],t=t[a-1],o=!1;if(a<2)return!1;for(e=0;e<n;e++)if(i[e].id===r.id){o=!0;break}return o?t:r},e._firePlotEvent=function(t,e,i){var n,a=this.config.currentToolTip,r=this.getFromEnv("chartConfig").trackerConfig[e||0],o=r&&r.node&&r.node.plotItem,l=r&&r.plotDetails&&r.plotDetails.toolText,s=this.getFromEnv("toolTipController"),h=i.originalEvent,c=this.graphics.singleTracker,g=this.pointObj.plotDetails,e=this._getParentNode(r&&r.node.path),i=e&&e.rect;if(o?n=this.conf.highlightParentsOnHover&&e?{x:i.x,y:i.y,width:i.width,height:i.height,stroke:"rgba(255,255,255,0)"}:{x:g.rect.x||0,y:g.rect.y||0,width:g.rect.width||0,height:g.rect.height||0,stroke:"rgba(255,255,255,0)"}:(o=r&&(r.node.plotItem||r.node.polyPathItem),(g={}).rect={}),c=this.graphics.singleTracker=this.getFromEnv("animationManager").setAnimation({el:this.graphics.singleTracker||"rect",attr:n,component:this,label:"tracker",container:this.getContainer("tracker"),doNotRemove:!0}).toFront(),o)switch(o.node.style.cursor="pointer",c.node.style.cursor="pointer",t){case"fc-mouseover":this.conf.showHoverEffect?r.evtFns.hover[0](c):c.attr("fill",S.TRACKER_FILL),l&&(a?s.draw(h,l,a):a=this.config.currentToolTip=s.draw(h,l));break;case"fc-mouseout":o.node.style.cursor=d,c.node.style.cursor="pointer",c.attr({x:0,y:0,width:0,height:0,stroke:"#ffffff","stroke-width":"0px"}),c.toFront(),s.hide(a),r.evtFns.hover[1](c);break;case"fc-click":r&&r.evtFns&&r.evtFns.click&&r.evtFns.click[0](),this.config.kdTree={},this.addJob("click",this.kdTreePartioning.bind(this),F.priorityList.tracker);break;case"fc-mousemove":l&&(a?s.draw(h,l,a):a=this.config.currentToolTip=s.draw(h,l))}},e.draw=function(){var s,i,t,e,n,a,r,o,l,h,c=this,g=c.conf,d=c.getFromEnv("chart"),f=c.getFromEnv("chartConfig"),u=f.trackerConfig,p=f.canvasLeft,v=f.canvasTop,b=g.metaTreeInf,m=c.graphics.elemStore,y={},x=g._graphicPool||(g._graphicPool={}),k={},C=["fontFamily","fontSize","fontWeight","fontStyle"],w={cursor:"pointer"},I=g,P=this.getFromEnv("ref"),T=c.getFromEnv("animationManager"),A=P.containerManager,P=P.algorithmFactory,_={};for(u&&(u.length=0),c.createContainer(),n=S.parsexAxisStyles.apply(this,[{},{},c.getFromEnv("chart-attrib"),{fontFamily:"Verdana,sans",fontSize:"10px"}]),t=0,e=C.length;t<e;t++)(a=C[t])in n&&(w[a]=n[a]);A.remove(),s=c.getContainer("plots"),c.getContainer("datalabels").css(w),g.colorRange=c.getFromEnv("colorManager"),b.effectiveWidth=f.canvasRight-p,b.effectiveHeight=f.canvasBottom-v,b.startX=p,b.startY=v,k.x=b.effectiveWidth/2,k.y=b.effectiveHeight/2,k.x=b.effectiveWidth/2,k.y=b.effectiveHeight/2,y.drawPolyPath=function(t,e,i){return _[i.id]&&delete _[i.id],(e=T.setAnimation({el:y.graphicPool(!1,"polyPathItem")||"path",container:s,attr:{path:t.path},css:e,state:d.getState("drill")?"updating":"appearing",label:"path",component:c}))&&m.polypath.push(e),e},y.drawRect=function(t,e,i,n,a){var r,o={},l={};for(r in _[a.id]&&delete _[a.id],t)t[r]<0&&(t[r]=0,l.visibility="hidden");return(0,S.extend2)(o,t),o.x=k.x,o.y=k.y,o.height=0,o.width=0,T.setAnimation({el:y.graphicPool(!1,"plotItem")||"rect",container:s,attr:t,css:Object.assign(e,l),state:d.getState("drill")?"updating":"appearing",props:a.__props,label:"rect",component:c}).toFront()},y.drawText=function(t,e,i,n,a,r){void 0===a&&(a={});var o={},l=t,s=i.textAttrs,t=i.highlightAttrs,i=d.getState("drill")?"updating":"appearing";return _[r.id]&&delete _[r.id],(0,S.extend2)(o,s),delete o.fill,o["stroke-linejoin"]="round",delete a.opacity,l=e.x<0||e.y<0?S.BLANKSTRING:l,r=Object.assign({},s,a,{text:l,x:e.x,y:e.y,visibility:"visible"}),(s=T.setAnimation({el:y.graphicPool(!1,"labelItem")||y.graphicPool(!1,"pathlabelItem")||"text",container:c.getContainer("labelfloat"),component:c,attr:r,state:i,label:"labelItem"})).outlineText(c.conf.showTextOutline,r.fill),s.show(),r="hidden"!==t.visibility,delete t.visibility,i=T.setAnimation({el:y.graphicPool(!1,"highlightItem")||y.graphicPool(!1,"pathhighlightItem")||"text",container:c.getContainer("labelhighlight"),component:c,attr:Object.assign({},a,t,{x:e.x,y:e.y,text:r?l:"",visibility:"visible"}),css:{lineHeight:1.2*o.fontSize+"px"},state:i,label:"highlightItem"}),c.prevLabelGlowVisibility!==r&&!0==r&&i.show(),c.prevLabelGlowVisibility=r,m.label.push(void 0),m.highlight.push(void 0),{label:s,highlightMask:i}},y.disposeItems=function(t,e){for(var i,n,a=e||["plotItem","labelItem","hotItem","highlightItem","polyPathItem","pathlabelItem","pathhighlightItem","stackedpolyPathItem","stackedpathlabelItem","stackedpathhighlightItem"],r=0;r<a.length;r+=1)(i=t[n=a[r]])&&"text"===i.type&&i.attr({text:"","text-bound":[]}),i&&!i.removed&&(i=T.setAnimation({el:i,component:c})),t[n]=void 0},y.disposeChild=(h=function(){return l.disposeItems},function(t){var e=t.getParent();l||(l=this,h=h()),e?l.disposeChild(e):function t(e,i){var n;for(h(e),n=0;n<(e.getChildren()||[]).length;n++)n=t(e.getChildren()[n],n);return i}(t,0)}),y.disposeSelectedChildren=(o=function(){return r.addRemovalNodes},function(t){var e=t.getParent();r||(r=this,o=o()),e?r.addRemovalNodes(e):function t(e,i){var n;for(o(e),n=0;n<(e.getChildren()||[]).length;++n)n=t(e.getChildren()[n],n);return i}(t,0)}),y.addRemovalNodes=function(t){_[t.id]=t},y.hideNodes=function(){var t,e,i,n,a,r=["plotItem","labelItem","hotItem","highlightItem","polyPathItem","pathlabelItem","pathhighlightItem","stackedpolyPathItem","stackedpathlabelItem","stackedpathhighlightItem"];for(a in _)for(i=_[a],t=0;t<r.length;t+=1)(e=i[n=r[t]])&&"text"===e.type&&e.attr({text:"","text-bound":[]}),e=e&&!e.removed&&T.setAnimation({el:e,component:c,label:"gen"}),i[n]=void 0},y.graphicPool=function(t,e,i){var n=(n=x[e])||(x[e]=[]);if("hotItem"!==e&&"pathhotItem"!==e||i.remove(),t)n.push(i);else if(n=n.splice(0,1)[0])return n.show(),n},y.disposeComplimentary=function(t){var e,i=t.getParent(),n=t.getSiblingCount("left");i&&(i=(e=i.getChildren()).splice(n,1)[0],this.disposeChild(t),e.splice(n,0,i)),this.removeLayers()},y.removeLayers=function(){for(var t,e,i=(e=m.hot).length,n=0;n<i;n++)(t=e[n])&&t.remove();e.length=0},c.getState("dirty")&&(P.init(g.algorithm,!0,g.maxDepth),v=P.plotOnCanvas(c.config.JSONData,d._getCleanValue()),A.init(c,b,y,void 0,v)),A.draw(),i=P.applyShadeFiltering({fill:I.rangeOutBgColor,opacity:.01*I.rangeOutBgAlpha},function(t){this.plotItem&&this.plotItem.css(t)}),c.addExtEventListener("legendUpdate",function(t,e){i.call(this,{start:e.maxMinArray[0].min,end:e.maxMinArray[0].max}),g.range={min:e.maxMinArray[0].min,max:e.maxMinArray[0].max}},c.getFromEnv("colorManager")),g.isConfigured=!1,c.addJob("buildKDTreeID",c.kdTreePartioning.bind(c),F.priorityList.tracker)},e.getType=function(){return"dataset"},e.setJSONIndex=function(t){this.config.index=t},e.getJSONIndex=function(){return this.config.index||0},t}(s.ComponentInterface);e.default=s},1215:function(t,e,i){"use strict";e.__esModule=!0,e.default=void 0,e.default={"*.dataset.treeMap":function(){var t=this.getFromEnv("canvasConfig"),e=t.canvasLeft+t.canvasHeight/2,i=t.canvasWidth/2+t.canvasTop,n=[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}],a=[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}],r=[{initialAttr:{opacity:1},finalAttr:{opacity:0},slot:"initial"}],t=[{finalAttr:{opacity:0},slot:"initial"}];return{"rect.appearing":function(){return[{initialAttr:{x:i,y:e,width:0,height:0,opacity:0},finalAttr:{opacity:1},slot:"plot"}]},"rect.updating":function(t){var e=t.props.prev&&t.props.prev.x===t.attr.x,i=t.props.prev&&t.props.prev.y===t.attr.y,n=t.props.prev&&t.props.prev.height===t.attr.height,a=t.props.prev&&t.props.prev.width===t.attr.width;return e&&i&&n&&a?[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]:t.props.prev?[{initialAttr:{x:t.props.prev.x,y:t.props.prev.y,width:t.props.prev.width,height:t.props.prev.height},slot:"plot"}]:[{initialAttr:{x:t.attr.x,y:t.attr.y,width:t.attr.width,height:t.attr.height},slot:"plot"}]},"rect.disappearing":t,"path.appearing":[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}],"path.updating":function(t){return[{initialAttr:{opacity:0,path:"string"!=typeof t.el?t.el.attr("path"):t.attr.path},finalAttr:{opacity:1,path:t.attr.path},slot:"final"}]},"path.disappearing":t,"labelItem.appearing":n,"labelItem.updating":a,"labelItem.disappearing":r,"highlightItem.appearing":n,"highlightItem.updating":a,"highlightItem.disappearing":r,"gen.disappearing":r,"*":null}}}},1216:function(t,e,i){"use strict";var n=i(219);e.__esModule=!0,e.default=void 0;function y(y,x){var o,b,e,t,l,s,h,i,n,a,r=((n=c.prototype).get=function(){var h=this.order,c=this.bucket,g=this.cleansingFn;return function t(e,i){var n,a,r,o,l,s=["label","value","data","svalue"];if(e)for(l in n=new f((0,j.parseUnsafeString)(e.label),g(e.value),g(e.svalue)),0===(r=e.data||[]).length&&c&&c.addInBucket(n),n.setDepth(i),e)-1===s.indexOf(l)&&n.setMeta(l,e[l]);for(h&&(r=h(r)),a=0;a<r.length;a++)o=t(r[a],i+1),n.addChild(o);return n}(this.node,0)},n.getBucket=function(){return this.bucket},c.getMaxDepth=function(){return b},c);function c(t,e,i){this.node=t,this.bucket=e?new d:W,this.cleansingFn=i}function k(t){e=t}return o=function(t,e){var i={},a=e&&e.exception,e=(n.prototype.initWith=function(t){return this.iterAPI(t)},n);function n(t){this.iterAPI=t}return i.df=function(t){var e,i=[],n=!1;return i.push(t),{next:function(t){var e;if(!n){if(e=i.shift(),!a||e!==a||(e=i.shift()))return(t=t!==W&&e.getDepth()>=t?[]:e.getChildren())&&t.length&&[].unshift.apply(i,t),0===i.length&&(n=!0),e;n=!0}},reset:function(){n=!1,e=t,i.length=0,i.push(e)}}},i.bf=function(t){var e=t,i=[],n=[],a=!1;return i.push(e),n.push(e),{next:function(){var t,e;if(!a)return(t=(e=i.shift()).getChildren())&&t.length&&[].push.apply(i,t),0===i.length&&(a=!0),e},nextBatch:function(){var t;if(!a)return(t=n.shift().getChildren())&&t.length&&[].push.apply(n,t),0===i.length&&(a=!0),t},reset:function(){a=!1,e=t,i.length=0,i.push(e)}}},{df:new e(i.df).initWith(t),bf:new e(i.bf).initWith(t)}},a={},(g.prototype.constructor=g).prototype.get=function(t){return this.con[t]},g.prototype.set=function(t,e){this.con[t]=e},g.prototype.delete=function(t){return delete this.con[t]},t={getInstance:function(t){return a[t]?a[t]:a[t]=new g}},h=!(s=[]),i={visibility:"visible",opacity:1},n={controlPreAnimVisibility:function(t,e){var i,n,a,r;if(t){for(n=t;n=n.getParent();)i=n;for(a=o(i,{exception:t}).df;r=a.next();)(r.overAttr||(r.overAttr={})).visibility="hidden",s.push(r);return l=e||t.getParent(),h=!1,s}},displayAll:function(t){var e,i;if(t){for(e=o(t.getParent()||t).df;i=e.next();)(i.overAttr||(i.overAttr={})).visibility="visible";l=W,s.length=0,h=!1}},controlPostAnimVisibility:function(){var t,e;if(!h&&(h=!0,l)){for(t=o(l).df;e=t.next(b);)e.dirtyNode&&((e=e.dirtyNode)&&e.plotItem.attr(i),(e=e&&e.textItem)&&e.label&&e.label.attr(i),e&&e.label&&e.highlightMask.attr(i));l=W,s.length=0}}},y.AbstractTreeMaker=r,y.iterator=o,y.initConfigurationForlabel=function(t,e,c){var g=e,d=t.x,f=t.y,u=g/2,p=c.showParent?0:1,v=c.showChildLabels;return function(t,e,i){var n,a=!1,r={x:W,y:W,width:W,height:W},o={},l=0,s={},h=t.meta;if(t)return t.isLeaf(b)||(a=!0),o.label=t.getLabel(),r.width=e.width-2*d,r.x=e.x+e.width/2,t=e.height-2*f,!a&&t<g&&(r.height=-1),!i&&a?(r.height=v?r.height||e.height-2*f:-1,r.y=e.y+e.height/2):p?(r.y=-1,g=f=0,n="hidden"):(r.height=r.height||g,r.y=e.y+f+u),l+=2*f,l+=g,o.rectShiftY=l,o.textRect=r,c.labelGlow?(s["stroke-width"]=c.labelGlowRadius,s.opacity=c.labelGlowIntensity,s.stroke=c.labelGlowColor,s.visibility="hidden"===n?"hidden":"visible"):s.visibility="hidden",{conf:o,attr:{fontSize:c.labelFontSize||c.baseFontSize,fontFamily:c.labelFont||c.baseFont,fill:(0,j.convertColor)(h&&h.fontcolor&&m(h.fontcolor)||c.labelFontColor||c.baseFontColor),fontWeight:c.labelFontBold&&"bold",fontStyle:c.labelFontItalic&&"italic",visibility:n},highlight:s}}},y.context=t,y.mapColorManager=function(h,c,t){var g=m(t?h.defaultNavigationBarBGColor:h.defaultParentBGColor);return function(t,e,i){var n={},a=t.cssConf,r=t.meta,o=r.fillcolor?m(r.fillcolor):W,l=t.getParent(),s=t.getColorValue();return h.isLegendEnabled=!0,h.isLegendEnabled&&(0===s||s)?c&&c.getColorByValue(s)?!(r=i.range)||r.min<=s&&s<=r.max?t.presentColor="#"+c.getColorByValue(s):t.presentColor=m(i.rangeOutBgColor):t.presentColor=m(c&&c.rangeOutsideColor):t.presentColor=W,o&&(t.presentColor=o),s=h.isLegendEnabled&&(0===s||s)?c&&c.getColorByValue(s)&&"#"+c.getColorByValue(s)||m(c&&c.rangeOutsideColor):W,t.isLeaf(b)?n.fill=o||s||g:(t=(t=(l||t).cssConf)&&t.fill,s=s||t,n.fill=o||s),n.stroke=e?h.navigationBarBorderColor:h.plotBorderColor,n.strokeWidth=e?h.navigationBarBorderThickness:h.plotBorderThickness,n["stroke-dasharray"]="none",e||a&&"--"===a["stroke-dasharray"]&&(n["stroke-dasharray"]=a["stroke-dasharray"],n.strokeWidth=a.strokeWidth),n}},y.abstractEventRegisterer=function(r,o,l,s){var h,c,g,d=o.getFromEnv("chart"),f=o.getFromEnv("toolbarBtns"),u=o.conf,p=r.drawTree,v=s.disposeChild,t=y.context,b=arguments,i="dataplotrollover",n="dataplotrollout",a={colorValue:"svalue",label:"name",value:"value",rect:"metrics"};function m(t){var e,i={};for(e in a)i[a[e]]=t[e];return i.fillColor=t.meta.fillcolor||t.cssConf.fill,i.fontColor=t.meta.fontcolor||t.cssConf.stroke,i}return c=t.getInstance("ClickedState"),d._intSR={},d._intSR.backToParent=h=function(t){var e=this,i=e,n=i&&e.getParent(),a=y.context.getInstance("ClickedState").get("VisibileRoot")||{};d.config.trackerConfig.length=0,d.triggerKDTreePartioning(),t?d.fireChartInstanceEvent("beforedrillup",{node:e,withoutHead:!u.showParent},W,function(){n&&(a.state=U,a.node=[{virginNode:y.getVisibleRoot()},n],v(i),p.apply(n,b)),d.fireChartInstanceEvent(U,{node:e,withoutHead:!u.showParent,drillUp:h,drillUpToTop:g}),e=e&&e.getParent()},function(){d.fireChartInstanceEvent("drillupcancelled",{node:e,withoutHead:!u.showParent})}):(n&&(a.state=U,a.node=[{virginNode:y.getVisibleRoot()},n],v(i),p.apply(n,[r,o,l,s])),e=e&&e.getParent())},d._intSR.resetTree=g=function(t){var e,i=this,n=i&&i.getParent(),a=y.context.getInstance("ClickedState").get("VisibileRoot")||{};for(d.config.trackerConfig.length=0,d.triggerKDTreePartioning();n;)n=(e=n).getParent();t?d.fireChartInstanceEvent("beforedrillup",{node:i,withoutHead:!u.showParent},W,function(){e&&(a.state=U,a.node=[{virginNode:y.getVisibleRoot()},e],v(e),p.apply(e,b),d.fireChartInstanceEvent(U,{node:i,sender:d.fusionCharts,withoutHead:!u.showParent,drillUp:h,drillUpToTop:g}))},function(){d.fireChartInstanceEvent("drillupcancelled",{node:i,withoutHead:!u.showParent})}):e&&(a.state=U,a.node=[{virginNode:y.getVisibleRoot()},e],v(e),p.apply(e,b))},{click:function(t,e){var i,n,a,r=t.virginNode,o=d.getFromEnv("animationManager");if(d.state="click",d.fireChartInstanceEvent("dataplotclick",m(t.virginNode)),n=r.getParent()){if(r===e)a=n,d.flushKDTree(),i=U;else if(r.next)a=r,d.flushKDTree(),i="drilldown";else{if(e===(a=n))return void(i=W);i="drilldown"}i&&d.fireChartInstanceEvent("before"+i,{node:a,withoutHead:!u.showParent},W,function(){d.config.trackerConfig.length=0,c.set("VisibileRoot",{node:t,state:i}),v.call(s,a),k(a),o.setAnimationState("drill"),d.setState("drill",!0),x.draw(),o.onAnimationComplete(function(){d.setState("drill",!1)}),d.fireChartInstanceEvent(i,{node:a,withoutHead:!u.showParent,drillUp:h,drillUpToTop:g})},function(){d.fireChartInstanceEvent(i+"cancelled",{node:a,withoutHead:!u.showParent})}),d.addJob("attachEventToBtns",function(){d._lastAttached.backToParent&&f.back&&f.back.removeEventListener("fc-click",d._lastAttached.backToParent),d._lastAttached.resetTree&&f.home&&f.home.removeEventListener("fc-click",d._lastAttached.resetTree),d._lastAttached.backToParent=h.bind(a),d._lastAttached.resetTree=g.bind(a),f.back&&f.back.addEventListener("fc-click",d._lastAttached.backToParent),f.home&&f.home.addEventListener("fc-click",d._lastAttached.resetTree)},K.priorityList.kdTree),d.resetSingleTracker()}},mouseover:function(t){var e=m(t.virginNode);d.fireChartInstanceEvent(i,e,W,W,function(){d.fireChartInstanceEvent(i+"cancelled",e)})},mouseout:function(t){var e=m(t.virginNode);d.fireChartInstanceEvent(n,m(t.virginNode),W,W,function(){d.fireChartInstanceEvent(n+"cancelled",e)})}}},y.setMaxDepth=function(t){return b=t},y.getVisibleRoot=function(){return e},y.setVisibleRoot=k,y.visibilityController=n,y;function g(){this.con={}}}function x(A,_){function e(t,e){var r,o,i,n,a,l,s,h,c,g,d=E.colorRange,f=A.mapColorManager(E,d,!0),u=function(t,e,i){var n={y:t.startY,height:t.effectiveHeight},a=r[e],e=a.getParent();return c?(n._x=t.startX+t.effectiveWidth,n._width=0):(n._x=t.startX,n._width=t.effectiveWidth),n.x=c=c||t.startX,c+=n.width=i?t.effectiveWidth*(a.getValue()/e.getValue()):t.effectiveWidth/o,n},p=function(){c=W},v=E.parentLabelLineHeight,b=A.initConfigurationForlabel({x:5,y:5},v,E),m=N.drawPolyPath,y=N.drawText,x=N.drawHot,k={navigationHistory:{path:"polyPathItem",label:"pathlabelItem",highlightItem:"pathhighlightItem",hotItem:"pathhotItem"}},C=F.getFromEnv("chart"),w=C.config.trackerConfig,I=F.getFromEnv("smartLabel"),P=E._setStyle,d=R.get().navigationBar,v=2*V("navigationBar"),d=d*S.effectiveHeight,T=Math.min(d-(6+v),P.fontSize.replace(/\D+/g,"")),v=T+"px";for(k.stacked={path:"stacked"+k.navigationHistory.path,label:"stacked"+k.navigationHistory.label,highlightItem:"stacked"+k.navigationHistory.highlightItem,hotItem:"stacked"+k.navigationHistory.hotItem},p(),P=e,p=A.getVisibleRoot(),(r=P?p.getChildren():E.navigationBarNodes=p.getPath()||[].concat(p)).pop(),o=r.length,I.setStyle({fontSize:v,lineHeight:v}),i=0;i<o;i+=1)g=r[i],n=(h=function(t,e,i){var n=t.x,a=t.y,r=t.width,o=t.height,l=E.seperatorAngle/2,n=["M",n,a],s=(0,j.pluckNumber)(l?o/2*(1-Math.tan(l)):i,15),i=["M",t._x,a],a=function(t){return{both:["h",t,"v",o/2,"v",o/2,"h",-t,"v",-o/2,"v",-o/2],right:["h",t,"v",o/2,"v",o/2,"h",-t,"l",s,-o/2,"l",-s,-o/2],no:["h",t,"l",s,o/2,"l",-s,o/2,"h",-t,"l",s,-o/2,"l",-s,-o/2],left:["h",t,"l",s,o/2,"l",-s,o/2,"h",-t,"v",-o/2,"v",-o/2]}};return{path:n.concat(a(r)[e]),_path:i.concat(a(t._width).both),offset:s}}(a=u(t,i,e),e?"both":1===o?"both":0===i?"left":i<o-1?"no":"right",W)).offset,g[k[e?"stacked":"navigationHistory"].path]=m(h,f(g,!0,E),g),(h=(l=(s=b(g,a,!0)).conf).textRect).width-=2*n,h.y=a.y+a.height/2,s=y(I.getSmartText(l.label,h.width,Math.max(T,h.height)).text,h,{textAttrs:s.attr,highlightAttrs:s.highlight},{y:a.height/10,"font-size":E._setStyle.fontSize,"font-family":E._setStyle.fontFamily},(e?"stacked":"")+"path",g),g[k[e?"stacked":"navigationHistory"].label]=s.label,g[k[e?"stacked":"navigationHistory"].highlightItem]=s.highlightMask,w.push({node:g,key:k[e?"stacked":"navigationHistory"].hotItem,plotDetails:{rect:a},evtFns:{click:[function(i){return function(){var t=A.context,e=C.getFromEnv("animationManager"),t=t.getInstance("ClickedState").get("VisibileRoot")||{};w.length=0,t.state=U,t.node=[{virginNode:A.getVisibleRoot()},i],N.disposeChild(i),e.setAnimationState("drill"),C.setState("drill",!0),_.draw([i,i,i]),e.onAnimationComplete(function(){C.setState("drill",!1)}),C.resetSingleTracker()}}(g)],hover:[function(){},function(){}],tooltip:[(g=g,E.showTooltip?g.getLabel():j.BLANKSTRING)]},callback:x})}function r(t){var e=S.effectiveWidth,i=S.effectiveHeight,n=V(t),t=R.get()[t];return 1<=h&&(h=0),h+=t,{effectiveHeight:Math.round(t*i*100)/100-n,effectiveWidth:e,startX:S.startX,startY:S.startY+n+Math.round((h-t)*i*100)/100}}var F,n,S,E,N,a,i,t,o,l,s=function(t){return{treeMap:d,navigationBar:e,stackedNavigation:f}[t]},R=(a={treeMap:1,navigationBar:0,stackedNavigation:0},{set:function(t){var e=(0,j.pluckNumber)(E.navigationBarHeightRatio,E.navigationBarHeight/S.effectiveHeight,.15),i=(6+(E.labelFontSize?Math.max(E.labelFontSize,E.baseFontSize):E.baseFontSize)+2*V("navigationBar"))/S.effectiveHeight;(e=Math.max(i,e))<.05?e=.05:.4<e&&(e=.4),E.navigationBarHeightRatio=e,a=t?{treeMap:1-e,navigationBar:e,stackedNavigation:0}:{treeMap:1,navigationBar:0,stackedNavigation:0}},get:function(){return a}}),h=0,V=function(t){var e=E.verticalPadding,i=E.plotBorderThickness,n=E.navigationBarBorderThickness;return e+("navigationBar"===t?n:i)},c=((t=g.prototype).init=function(t,e){(this.conf||(this.conf={})).name=t.name,this.setDrawingArea(t.drawingAreaMeasurement),this.draw=this.draw(e)},t.setDrawingArea=function(t){this.conf.drawingAreaMeasurement=t},t.draw=function(e){return function(){var t=this.conf;0<t.drawingAreaMeasurement.effectiveHeight&&e(t.drawingAreaMeasurement)}},t.eventCallback=function(){},g);function g(){}function d(t){var e=E.plotBorderThickness;n.apply(A.getVisibleRoot(),[F,{width:t.effectiveWidth,height:t.effectiveHeight,x:t.startX,y:t.startY,horizontalPadding:E.horizontalPadding,verticalPadding:E.verticalPadding},N]),E.plotBorderThickness=e}function f(){var t=Array.prototype.splice.call(arguments,0);t.push(!0),s("navigationBar").apply(this,t)}return i=[],o=function(){return i},l=function(t){var e;return t?((e=new c).init({name:t.type,drawingAreaMeasurement:t.drawingArea},t.drawFn),i.push(e)):i.length=0,i},_.init=function(){var t,e=["navigationBar","treeMap","stackedNavigation"],i=Array.prototype.slice.call(arguments,0);for(F=i[0],S=i[1],E=F.conf,N=i[2],n=i[4],o().length>=e.length&&l();e.length;)t=e.shift(),l({type:t,drawFn:s(t),drawingArea:r(t)})},_.draw=function(t){var e,i,n,a=A.getVisibleRoot();for(N.disposeSelectedChildren(a,t?t[1]:a),(a=t?t[1]:a).getParent()?E.showNavigationBar&&_.heightProportion.set(!0):_.heightProportion.set(!1),i=o(),e=0;e<i.length;e+=1)(n=i[e]).setDrawingArea(r(n.conf.name)),t&&A.setVisibleRoot(t[e]),n.draw();N.hideNodes()},_.heightProportion=R,_.remove=function(){var t=A.getVisibleRoot();t&&N.disposeChild(t)},_}var W,k=n(i(238)),j=i(224),K=i(236),U="drillup",a=1,C=function(a,c,l,g){var s;function d(t){var e,i=0,n=a;if(!t.length)return a;for(;n;){if(e=r.call(n,t[i]),i===t.length-1&&e)return s=e.getValue(),e;n=e,i+=1}}function r(t){for(var e,i,n=this.getChildren()||[],a=n.length,r=function(t){return t.toLowerCase().trim()},o=0;o<a;o+=1)if(r((i=n[o]).label)===r(t)){e=i;break}return e}return{deleteData:function(t,e){var i=d(t),n=(void 0).iterator(i).df,a=i&&i.getParent(),r=i&&i.getSiblingCount("left"),o=a&&a.getChildren(),t=(void 0).getVisibleRoot();if(i&&a){for(o.splice(r,1),i===t&&(t=i.getParent()||t);i;)l.disposeItems(i),i=n.next();for(;a;)a.setValue(-s,!0),a=a.getParent();e&&c(t)}},addData:function(t,e,i,n){for(var a,r,o,l=0,s=!0,h=(void 0).getVisibleRoot();t.length;)if(a=t.pop(),l=(a=(void 0).makeTree(a,g,!1)).getValue(),r=d(e||[]))for(r.getChildren()||(o=r.getValue(),s=!1),r.addChildren(a,n);r;)r.setValue(l,s),o&&(l-=o,o=W,s=!0),r=r.getParent();i&&c(h)}}},m=function(t){return t?t.replace(/^#*/,"#"):"#E5E5E5"},d=((i=o.prototype).resetPointers=function(){this.statePointerLow={value:W,index:W},this.statePointerHigh={value:W,index:W}},i.setRangeOutEffect=function(t,e){this._css=t,this.rangeOurEffectApplyFn=e},i.addInBucket=function(t){var i,n=this._b,a=t.getColorValue(),r=0,o=n.length-1;!a&&0!==a||(i=function(){for(var t,e;r<=o;)if(i=t=(r+o)/2|0,(e=n[t].getColorValue())<a)r=1+t;else{if(!(a<e))return t;o=t-1}return~o}(),n.splice(Math.abs(i),0,t))},i.moveLowerShadePointer=function(t){var e,i=this._b,n=this.statePointerLow,a=n.index,r=n.value,o=!1,l=a=a!==W?a:0;if(t!==(r=r!==W?r:Number.NEGATIVE_INFINITY)){if(r<=t){for(;!(t<=((e=i[l++])?e.getColorValue():0))&&e;)o=!0,e.rangeOutEffect=this._css,this.rangeOurEffectApplyFn.call(e,this._css);l=o?l-2:l-1}else{for(;!(t>((e=i[l--])?e.getColorValue():0))&&e;)e.cssConf=e.cssConf||{},o=!0,delete e.rangeOutEffect,e.cssConf.opacity=1,this.rangeOurEffectApplyFn.call(e,e.cssConf);l=o?l+2:l+1}n.index=l,n.value=t}},i.moveHigherShadePointer=function(t){var e,i=this._b,n=i.length,a=this.statePointerHigh,r=a.index,o=a.value,l=!1,s=r=r!==W?r:n-1;if(t!==(o=o!==W?o:Number.POSITIVE_INFINITY)){if(t<o){for(;!(t>=((e=i[s--])?e.getColorValue():0))&&e;)l=!0,e.rangeOutEffect=this._css,this.rangeOurEffectApplyFn.call(e,this._css);s=l?s+2:s+1}else{for(;!(t<((e=i[s++])?e.getColorValue():0))&&e;)e.cssConf=e.cssConf||{},l=!0,delete e.rangeOutEffect,e.cssConf.opacity=1,this.rangeOurEffectApplyFn.call(e,e.cssConf);s=l?s-2:s-1}a.index=s,a.value=t}},o),f=((i=r.prototype).getCSSconf=function(){return this.cssConf},i.getPath=function(){return this.path},i.setPath=function(){var t=this.getParent();this.path=(t?t.getPath():[]).concat(this)},i.addChild=function(t){return t instanceof r&&(this.next=this.next||[],[].push.call(this.next,t),t.setParent(this)),this.next},i.getChildren=function(){return this.next},i.addChildren=function(t,e){var i=e,n=this.getChildren()||(this.next=[]),e=n.length,i=i||e-1;n.splice(i=e-1<i?e-1:i<0?0:i,0,t),t.setParent(this)},i.getDepth=function(){return this.meta.depth},i.isLeaf=function(t){return(!t||this.getDepth()<t)&&this.next},i.setParent=function(t){return t instanceof r&&(this.prev=t),this},i.getSiblingCount=function(t){var e,i=0,n=this;if(this instanceof r){if(e=this.getParent(),t){for(;n;)(n=n.getSibling(t))&&(i+=1);return i}return e?e.getChildren().length:void 0}},i.getParent=function(){return this.prev},i.getLabel=function(){return this.label},i.getValue=function(){return this.value},i.setValue=function(t,e){e?this.value+=t:this.value=t},i.getColorValue=function(){return this.colorValue},i.getSibling=function(t){var e,i,n=t.toLowerCase(),t=this.getParent(),a=this.getLabel();if(t)for(e=t.getChildren(),i=0;i<e.length;i++)if(e[i].getLabel()===a)switch(n){case"left":return e[i-1];case"right":return e[i+1]}},i.setMeta=function(t,e){this.meta[t]=e},i.setDepth=function(t){this.meta.depth=t},i.getMeta=function(t){return t?this.meta[t]:this.meta},r);function r(t,e,i){this.label=t,this.id=a++,this.value=parseFloat(e,10),this.colorValue=parseFloat(i,10),this.next=W,this.prev=W,this.meta={}}function o(){this._b=[],this._css=W,this.rangeOurEffectApplyFn=j.stubFN,this.statePointerLow={value:W,index:W},this.statePointerHigh={value:W,index:W}}e.default=function(){var d,i,o,a,l,n,f,G,t,e,s,r,h={},c={};return{afAPI:y(h,c),algorithmFactory:(i={},t=(d=h).AbstractTreeMaker,s={sliceanddice:{areaBaseCalculator:function(t,e){var c=t,g=e;return function(t,e,i){var n,a,r,o,l,s={},h=0;if(t)return l=h=i?i.textMargin||h:h,n=t.getParent(),a=t.getSibling("left"),n?(r=n.getValue(),i=(o=n.rect).height-2*g-l,h=o.width-2*c,s.effectiveRect={height:i,width:h,x:o.x+c,y:o.y+g+l},s.effectiveArea=i*h,s.ratio=t.getValue()/r,a?e.call(t,s,a,n):(s.lastIsParent=!0,e.call(t,s,n))):null}},applyShadeFiltering:function(e,t,i){return e.setRangeOutEffect(t,i),this.applyShadeFiltering.reset=function(){e.resetPointers()},function(t){e.moveLowerShadePointer(t.start),e.moveHigherShadePointer(t.end)}},alternateModeManager:function(){return function(t,e){var i,n,a,r=t.effectiveArea*t.ratio,o=t.effectiveRect,l=e.rect,e=t.lastIsParent?(a=o.x,s=o.y,i=o.height,n=o.width,this.isDirectionVertical=!0):(i=o.height+o.y-(l.height+l.y),n=o.width+o.x-(l.width+l.x),this.isDirectionVertical=!e.isDirectionVertical),s=e?(n=r/i,a=a!==W?a:l.x,s!==W?s:l.y+l.height):(i=r/n,a=a!==W?a:l.x+l.width,s!==W?s:l.y);return{height:i,width:n,x:a,y:s}}},horizontalVerticalManager:function(t){var h=Boolean("vertical"===t);return function(t,e){var i,n,a,r=t.effectiveArea*t.ratio,o=t.effectiveRect,l=e.rect,e=t.lastIsParent?(a=o.x,s=o.y,i=o.height,n=o.width,this.isDirectionVertical=!e.isDirectionVertical):(i=o.height+o.y-(l.height+l.y),n=o.width+o.x-(l.width+l.x),this.isDirectionVertical=!arguments[2].isDirectionVertical),s=(e=h?e:!e)?(0===i&&(i=o.height,a=a!==W?a:l.x+l.width,s=s!==W?s:l.y),n=r/i,a=a!==W?a:l.x,s!==W?s:l.y+l.height):(0===n&&(n=o.width,a=a!==W?a:l.x,s=s!==W?s:l.y+l.height),i=r/n,a=a!==W?a:l.x+l.width,s!==W?s:l.y);return{height:i,width:n,x:a,y:s}}},drawTree:function(t,b,e,m){var y,x,i,n,a,r=b.getFromEnv("chart"),o=r.config||(r.config={}),k=o.trackerConfig||(o.trackerConfig=[]),C=b.getFromEnv("number-formatter"),l=b.getFromEnv("toolbarBtns"),w=m.drawRect,I=m.drawText,P=m.drawHot,s=e.horizontalPadding,h=e.verticalPadding,T=b.getFromEnv("smartLabel"),A=(0,d.iterator)(this).df,_=t.areaBaseCalculator(s,h),F=b.conf,S=F.highlightParentsOnHover,E=d.context,c=d.visibilityController,s=b.conf.colorRange,N=d.mapColorManager(F,s),h=d.abstractEventRegisterer(t,b,e,m),R=h.click,V=h.mouseover,B=h.mouseout,s=F.slicingMode,M=t["alternate"===s?"alternateModeManager":"horizontalVerticalManager"](s),h=r._intSR,s=(t=E.getInstance("ClickedState").get("VisibileRoot")||{}).node;for(t.node&&t.state&&(t.state.toLowerCase()===U?s instanceof Array?c.controlPreAnimVisibility(s[0].virginNode,s[1]):c.controlPreAnimVisibility(s.virginNode):c.displayAll(t.node.virginNode)),t=F.parentLabelLineHeight,x=d.initConfigurationForlabel({x:5,y:5},t,F),i=y=A.next(G=d.setMaxDepth(this.getDepth()+f));i.getParent();)i=i.getParent();o.valuesset||u(i),o.valuesset=!0,!F.showNavigationBar&&i!==y?(l.home.show(),l.back.show()):(l.home.hide(),l.back.hide()),T.useEllipsesOnOverflow(r.config.useEllipsesWhenOverflow),T.setStyle(F._setStyle={fontSize:(F.labelFontSize||F.baseFontSize)+"px",fontFamily:F.labelFont||F.baseFont,lineHeight:1.2*(F.labelFontSize||F.baseFontSize)+"px"}),a=h.backToParent,n=h.resetTree,r.addJob("attachEventToBtns",function(){r._lastAttached.backToParent&&l.back&&l.back.removeEventListener("fc-click",r._lastAttached.backToParent),r._lastAttached.resetTree&&l.home&&l.home.removeEventListener("fc-click",r._lastAttached.resetTree),r._lastAttached.backToParent=a.bind(y),r._lastAttached.resetTree=n.bind(y),l.back&&l.back.addEventListener("fc-click",r._lastAttached.backToParent),l.home&&l.home.addEventListener("fc-click",r._lastAttached.resetTree)},K.priorityList.kdTree),function t(e,i){var n,a,r,o,l,s,h,c,g,d,f={},u={},p={},v=j.BLANKSTRING;e&&e.value&&(g=C.yAxis(e.getValue()),d=C.sYAxis(e.getColorValue()),e.setPath(),n=e.rect||{},a=e.textRect||{},r=e.rect={},e.textRect={},r.width=i.width,r.height=i.height,r.x=i.x,r.y=i.y,c=N(e,W,b.conf),(h=e.plotItem)&&m.graphicPool(!0,"plotItem",h,n),e.__props||(e.__props={}),e.__props.curr=Object.assign({},r),e.__props.node=Object.assign({},e),h=e.plotItem=w(r,Object.assign({},c,e.getColorValue()||0===e.getColorValue()?{fill:e.presentColor}:{}),n,e.overAttr,e),e.__props.prev=Object.assign({},r),e.cssConf=c,s=(l=x(e,r)).conf,f.textMargin=s.rectShiftY,o=e.textRect=s.textRect,i=T.getSmartText(s.label,o.width,o.height).text,e.plotItem=h,(c=e.labelItem)?(s=e.highlightItem,m.graphicPool(!0,"labelItem",c,n),m.graphicPool(!0,"highlightItem",s,n)):a=a||{},a=I(i,o,{textAttrs:l.attr,highlightAttrs:l.highlight},a,e.overAttr,e),e.labelItem=a.label,e.highlightItem=a.highlightMask,u.virginNode=e,u.plotItem=h,u.textItem=a,u.virginNode.dirtyNode=u,e.getColorValue()&&(v=F.tooltipSeparationCharacter+d),F.showTooltip?u.toolText=(0,j.parseTooltext)(F.plotToolText,[1,2,3,119,122],{label:e.getLabel(),formattedValue:g,formattedsValue:d},{value:e.getValue(),svalue:e.getColorValue()})||e.getLabel()+F.tooltipSeparationCharacter+g+v:u.toolText=j.BLANKSTRING,u.rect=r,p.hover=[function(t){var e=E.getInstance("hover"),i=this.virginNode,i=S&&!i.next?i.getParent()||i:this.virginNode;e.set("element",i),i=i.cssConf,i=(0,j.convertColor)((0,j.getLightColor)(i.fill,80),60),t.attr({fill:i}),V(this)}.bind(u),function(t){var e=(e=E.getInstance("hover").get("element")||{}).cssConf&&e.cssConf.fill,e=(0,j.convertColor)(e||"#fff",0);t.attr({fill:e}),B(this)}.bind(u)],p.tooltip=[u.toolText],p.click=[function(){R(this,y)}.bind(u)],(r=e.hotItem)&&m.graphicPool(!0,"hotItem",r,n),k.push({node:e,key:"hotItem",plotDetails:u,evtFns:p,callback:P}),t(p=A.next(G),_(p,M,f)))}(y,e)}},squarified:{orderNodes:function(){return this.sort(function(t,e){return parseFloat(t.value,10)<parseFloat(e.value,10)?1:-1})},areaBaseCalculator:function(t,e){var s=t,h=e;return function(t,e,i){var n,a,r,o={},l=0;if(t&&0!==t.length)return a=l=i?i.textMargin||l:l,(n=(r=t[0]).getParent())?(l=(i=n.rect).height-2*h-a,t=i.width-2*s,o.effectiveRect={height:l,width:t,x:i.x+s,y:i.y+h+a},o.effectiveArea=l*t,e.call(r,o,n)):null}},layoutManager:{RowLayout:(g.prototype.addNode=function(t){var e,i,n,a,r,o,l,s,h,c,g,d,f,u,p,v,b=t,t=this._rTotalArea,m=this._hSegmented,y=this._rx,x=this._ry,k=0;for(this.nodes.push(b),a=0,o=this.nodes.length;a<o;a++)k+=parseFloat(this.nodes[a].getValue(),10);for(e=t*(k/this.totalValue),u=m?(n=this._rHeight,c=y+(i=e/n),g=x,f=this._rHeight,this._rWidth-i):(i=this._rWidth,c=y,g=x+(n=e/i),f=this._rHeight-n,this._rWidth),a=0,r=this.nodes.length;a<r;a++)l=(b=this.nodes[a]).getValue()/k*e,b.hRect=b.rect||{},b._hRect=b._rect||{},p=b.rect={},m?(p.width=h=i,p.height=s=l/h,p.x=y,p.y=x,x+=s):(p.height=s=n,p.width=h=l/s,p.x=y,p.y=x,y+=h),p=Math.max(p.height,p.width)/Math.min(p.height,p.width),isFinite(p)||(p=0),b.aspectRatio=p;if(1<this.nodes.length){if(this.prevAR<b.aspectRatio){for(this.nodes.pop().rect={},a=0,o=this.nodes.length;a<o;a++)1===o&&this.nodes[a].firstPassed?this.nodes[a].rect=this.nodes[a]._hRect:this.nodes[a].rect=this.nodes[a].hRect,d=this.nodes[a]._rect={},v=this.nodes[a].rect,d.width=v.width,d.height=v.height,d.x=v.x,d.y=v.y;return!1}}else b&&(d=b._rect={},v=b.rect,d.width=v.width,d.height=v.height,d.x=v.x,d.y=v.y,b.firstPassed=!0);return this.prevAR=b.aspectRatio,this.height=n,this.width=i,this.getNextLogicalDivision=function(){return{height:f,width:u,x:c,y:g}},b},g)},applyShadeFiltering:function(e,t,i){return e.setRangeOutEffect(t,i),this.applyShadeFiltering.reset=function(){e.resetPointers()},function(t){e.moveLowerShadePointer(t.start),e.moveHigherShadePointer(t.end)}},drawTree:function(t,w,e,I){var P,T,i,n,a,r=w.getFromEnv("chart"),o=w.getFromEnv("chartConfig"),A=o.trackerConfig||(o.trackerConfig=[]),_=w.getFromEnv("number-formatter"),l=w.getFromEnv("toolbarBtns"),s=e.horizontalPadding,h=e.verticalPadding,F=t.areaBaseCalculator(s,h),S=t.layoutManager.RowLayout,E=w.getFromEnv("smartLabel"),N=I.drawRect,R=I.drawText,V=I.drawHot,c=(0,d.iterator)(this).bf,B=w.conf,M=B.highlightParentsOnHover,L=d.context,g=w.conf.colorRange,H=d.mapColorManager(B,g),s=d.abstractEventRegisterer(t,w,e,I),D=s.click,O=s.mouseover,z=s.mouseout,h=r._intSR,g=d.visibilityController,s=(t=L.getInstance("ClickedState").get("VisibileRoot")||{}).node;for(t.node&&t.state&&(t.state.toLowerCase()===U?s instanceof Array?g.controlPreAnimVisibility(s[0].virginNode,s[1]):g.controlPreAnimVisibility(s.virginNode):g.displayAll(t.node.virginNode)),t=B.parentLabelLineHeight,T=d.initConfigurationForlabel({x:5,y:5},t,B),i=P=c.next(G=d.setMaxDepth(this.getDepth()+f));i.getParent();)i=i.getParent();o.valuesset||u(i),o.valuesset=!0,!B.showNavigationBar&&i!==P?(l.home.show(),l.back.show()):(l.home.hide(),l.back.hide()),E.useEllipsesOnOverflow(r.config.useEllipsesWhenOverflow),E.setStyle(B._setStyle={fontSize:(B.labelFontSize||B.baseFontSize)+"px",fontFamily:B.labelFont||B.baseFont,lineHeight:1.2*(B.labelFontSize||B.baseFontSize)+"px"}),n=h.backToParent,a=h.resetTree,r.addJob("attachEventToBtns",function(){r._lastAttached.backToParent&&l.back&&l.back.removeEventListener("fc-click",r._lastAttached.backToParent),r._lastAttached.resetTree&&l.home&&l.home.removeEventListener("fc-click",r._lastAttached.resetTree),r._lastAttached.backToParent=n.bind(P),r._lastAttached.resetTree=a.bind(P),l.back&&l.back.addEventListener("fc-click",r._lastAttached.backToParent),l.home&&l.home.addEventListener("fc-click",r._lastAttached.resetTree)},K.priorityList.kdTree),function t(e,i){var n,a,s,r,o,l,h,c,g,d,f,u,p,v,b={},m=0,y={},x={},k={},C=j.BLANKSTRING;if(e&&e.value&&(p=_.yAxis(e.getValue()),v=_.sYAxis(e.getColorValue()),e.setPath(),(n=e.__initRect)&&(b.x=n.x,b.y=n.y,b.width=n.width,b.height=n.height),r=e.textRect||{},n=e.rect=e.__initRect={},e.textRect={},n.width=i.width,n.height=i.height,n.x=i.x,n.y=i.y,u=H(e,W,w.conf),(g=e.plotItem)&&I.graphicPool(!0,"plotItem",g,b),e.__props||(e.__props={}),e.__props.curr=Object.assign({},n),e.__props.node=Object.assign({},e),g=e.plotItem=N(n,Object.assign({},u,e.getColorValue()||0===e.getColorValue()?{fill:e.presentColor}:{}),b,e.overAttr,e),e.__props.prev=Object.assign({},n),e.cssConf=u,d=(f=T(e,n)).conf,y.textMargin=d.rectShiftY,a=e.textRect=d.textRect,i=E.getSmartText(d.label,a.width,a.height).text,(u=e.labelItem)?(d=e.highlightItem,I.graphicPool(!0,"labelItem",u,b),I.graphicPool(!0,"highlightItem",d,b)):r=r||{},r=R(i,a,{textAttrs:f.attr,highlightAttrs:f.highlight},r,e.overAttr,e),e.labelItem=r.label,e.highlightItem=r.highlightMask,e.plotItem=g,x.virginNode=e,x.plotItem=g,x.textItem=r,x.virginNode.dirtyNode=x,e.getColorValue()&&(C=B.tooltipSeparationCharacter+v),B.showTooltip?x.toolText=(0,j.parseTooltext)(B.plotToolText,[1,2,3,119,122],{label:e.getLabel(),formattedValue:p,formattedsValue:v},{value:e.getValue(),svalue:e.getColorValue()})||e.getLabel()+B.tooltipSeparationCharacter+p+C:x.toolText=j.BLANKSTRING,x.rect=n,k.hover=[function(t){var e=L.getInstance("hover"),i=this.virginNode,i=M&&!i.next?i.getParent()||i:this.virginNode;e.set("element",i),i=i.cssConf,i=(0,j.convertColor)(i.fill&&(0,j.getLightColor)(i.fill,80),60),t.attr({fill:i}),O(this)}.bind(x),function(t){var e=(e=L.getInstance("hover").get("element")||{}).cssConf&&e.cssConf.fill,e=(0,j.convertColor)(e||"#fff",0);t.attr({fill:e}),z(this)}.bind(x)],k.tooltip=[x.toolText],k.click=[function(){D(this,P)}.bind(x)],(n=e.hotItem)&&I.graphicPool(!0,"hotItem",n,b),A.push({node:e,key:"hotItem",plotDetails:x,evtFns:k,callback:V}),s=G!==W&&e.getDepth()>=G?W:e.getChildren()))for(o=0,l=(h=F(s,function(t,e){for(var i,n,a=0,r=[],o=new S({width:t.effectiveRect.width,height:t.effectiveRect.height,x:t.effectiveRect.x,y:t.effectiveRect.y},e.getValue()),l=s.length;a++!==l;)i=s[a-1],!1===o.addNode(i)?(n=o.getNextLogicalDivision(),o=new S(n,e.getValue()-m),a--):(m+=parseFloat(i.getValue(),10),r.push(i));return r},y)).length;o<l;o++)t(c=h[o],c.rect)}(P,e)}}},e=t,(0,k.default)(p,e),p.getName=function(){return"TreeMaker"},p.prototype.order=function(t){var e=s[o],i=e.orderNodes;return i?i.apply(t,[e]):t},r=p,i.init=function(t,e,i){return o=t,n=e,f=d.setMaxDepth(i),s[o]},i.plotOnCanvas=function(t,e){return l=v(t,e),b},i.applyShadeFiltering=function(t,e){var i,n=s[o].applyShadeFiltering(a.getBucket(),t,e);return function(t){(i=Array.prototype.slice.call(arguments,0)).unshift(t),n.apply(a.getBucket(),i)}},i.setTreeBase=function(t){return t&&(l=t)},i.realTimeUpdate=m,i.makeTree=v,i),containerManager:x(h,c),treeOpt:C};function u(t){for(var e,i=t.getChildren(),n=0,a=0;a<(i&&i.length);a++)u(e=i[a]),n+=e.getValue()||0;isNaN(t.value)&&(t.value=n)}function g(t,e){this.totalValue=e,this._rHeight=t.height,this._rWidth=t.width,this._rx=t.x,this._ry=t.y,this._rTotalArea=t.height*t.width,this.nodes=[],this._prevAR=W,this._rHeight<this._rWidth&&(this._hSegmented=!0)}function p(){return e.apply(this,arguments)||this}function v(t,e,i){e=(a=new r(t,n,e)).get();return!1!==i&&(l=e),d.setVisibleRoot(e),e}function b(){var t,e=s[o];i.realTimeUpdate=m.apply(this,arguments),(t=Array.prototype.slice.call(arguments,0)).unshift(e),e.drawTree.apply(d.getVisibleRoot(),t)}function m(){var n,a,r=s[o];return(a=Array.prototype.slice.call(arguments,0)).unshift(r),n=a.slice(-1)[0],function(){var t=Array.prototype.slice.call(arguments,0),e=t.shift(),i=t.shift();C(l,function(t){r.drawTree.apply(t||l,a)},n,e)[i].apply(this,t)}}}}}])});