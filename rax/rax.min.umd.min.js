!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n="undefined"!=typeof globalThis?globalThis:n||self).Rax={})}(this,function(n){var b={t:1,i:!1,driver:null,rootComponents:{},rootInstances:{},owner:null};function h(n,t,e,r,i){return{type:n,key:t,ref:e,props:r,_owner:i}}function O(n){return null===n}function a(n){return"function"==typeof n}function i(n){return"object"==typeof n}function o(n){return"[object Object]"===f.toString.call(n)}function j(n){return Array.isArray(n)}function u(n){return"string"==typeof n}function s(n){return"number"==typeof n}function p(){}var f={};function d(n){if(null==n)return n;var t=[];return function n(t,e){if(j(t))for(var r=0,i=t.length;r<i;r++)n(t[r],e);else e.push(t)}(n,t),t.length-1?t:t[0]}var t=[],e=[],c=[],l=setTimeout;function v(n){for(var t;t=n.shift();)t()}function _(n){0===t.length&&l(r),t.push(n)}function r(){v(t)}function m(n){0===e.length&&l(g),e.push(n)}function g(){v(e)}function y(n){c.push(n)}function C(n,t,e){var r,r=void 0===e?"":" got: "+(o(r=e)?Object.keys(r):r);return Error(n+": #"+t+", "+((t=b.owner)?"check <"+t.u()+">":"no owner")+"."+r)}function w(n,t){throw C("Error",n,t)}function x(n,t){var e=C("Warn",n,t);l(function(){throw e},0)}var k={key:!0,ref:!0};function D(n,t,e){var r,i={},o=null,u=null;if(null!=t)for(r in u=void 0===t.ref?null:t.ref,o=void 0===t.key?null:""+t.key,t)k[r]||(i[r]=t[r]);var s=arguments.length-2;if(0<s)if(1!=s||j(e)){var f=e;if(1<s)for(var f=Array(s),c=0;c<s;c++)f[c]=arguments[c+2];i.children=d(f)}else i.children=e;if(n&&n.defaultProps){var l=n.defaultProps;for(r in l)void 0===i[r]&&(i[r]=l[r])}return null==n&&(n=p,x(0)),new h(n,o,u,i,b.owner)}function I(n,t,e){for(var r=0,i=n&&n.length;r<i;r++)n[r].call(t,e)}var R=f.hasOwnProperty;function U(n,t){return n===t?0!==n||1/n==1/t:n!=n&&t!=t}function A(n,t){if(U(n,t))return!0;if(!i(n)||O(n)||!i(t)||O(t))return!1;var e=Object.keys(n);if(e.length!==Object.keys(t).length)return!1;for(var r=0;r<e.length;r++)if(!R.call(t,e[r])||!U(n[e[r]],t[e[r]]))return!1;return!0}function H(){return b.owner&&b.owner._instance}function W(){var n=H();if(n)return n;w(1)}function E(n,t){if(!O(t)&&n.length===t.length){for(var e=0;e<n.length;e++)if(!U(n[e],t[e]))return;return 1}}function N(n){var r=W(),i=r.getHookID(),o=r.getHooks();o[i]||(a(n)&&(n=n()),o[i]=[n,function(n){b.i||g();var t=o[i],e=t[2];U(n=a(n)?n(e):n,e)||(t[2]=n,H()===r?r.o=!0:r.h())},n]);n=o[i];return U(n[0],n[2])||(n[0]=n[2],r.l=!0),n}function P(n,t){S(n,t)}function S(n,t,e){var r,i,o,u,s=W(),f=s.getHookID(),c=s.getHooks();t=void 0===t?null:t,c[f]?(o=(r=c[f]).v,i=r._,r._=t,r.p=i,o.current=n):(o=function n(t){if(!t&&e)return m(function(){return n(!0)});t=n.current;t&&(u.current=t(),n.current=null)},u=function n(t){if(!t&&e)return m(function(){return n(!0)});t=n.current;t&&(t(),n.current=null)},o.current=n,c[f]={v:o,j:u,p:t,_:t},s.didMount.push(o),s.willUnmount.push(function(){return u(!0)}),s.didUpdate.push(function(){var n=c[f],t=n._,e=n.v;null!=t&&E(t,n.p)||(u(),e())}))}function V(n,t){var e=W(),r=e.getHookID(),i=e.getHooks();return t=void 0===t?null:t,i[r]?(e=i[r][1],!O(t)&&E(t,e)||(i[r]=[n(),t])):i[r]=[n(),t],i[r][0]}function M(n){return j(n)?n:[n]}function T(n,t){for(var e;n&&n._internal;){if(t(n)){e=n;break}n=n._internal.m}return e}var q=0;function F(n,t){n.prototype=Object.create(t.prototype),L(n.prototype.constructor=n,t)}function L(n,t){return(L=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}var J=((en=K.prototype).O=function(n,t,e){this._parent=n,this.m=t,this._context=e,this._mountID=b.t++},en.k=function(){this.g=this._nativeNode=this._parent=this.m=this._context=null,this._instance&&(this._instance=this._instance._internal=null)},en.I=function(n,t,e,r){this.O(n,t,e),this.A(r);r={};return r._internal=this,r},en.unmountComponent=function(n){this._nativeNode&&!n&&b.driver.removeChild(this._nativeNode,this._parent),this.k()},en.u=function(){var n=this.g,t=n&&n.type;return t&&t.displayName||t&&t.name||t||n},en.A=function(n){var t=this.C(),e=this._parent;n?n(t,e):b.driver.appendChild(t,e)},en.C=function(){return null==this._nativeNode?this._nativeNode=this.P():this._nativeNode},en.T=function(){return this.C()},K),B=function(n){function t(){return n.apply(this,arguments)||this}F(t,n);var e=t.prototype;return e.P=function(){return b.driver.createEmpty(this)},e.D=function(){},t}(J);function K(n){this.g=n}function $(n,t,e){var r=n?n.ref:null,i=t?t.ref:null;r!==i&&(r&&Y(n._owner,r,e),i&&G(t._owner,i,e))}function G(n,t,e){n?(e=e.T(),a(t)?t(e):i(t)?t.current=e:n._instance.refs[t]=e):x(3)}function Y(n,t,e){a(t)?t(null):(e=e.T(),i(t)&&t.current===e?t.current=null:n._instance.refs[t]===e&&delete n._instance.refs[t])}function Z(n){n=o(n)&&null!==n&&n.type?new(u(n.type)?b.S:b.U)(n):u(n)||s(n)?new b.H(n+""):j(n)?new b.N(n):(void 0===n||O(n)||!1===n||!0===n||x(2,n),new b.R(n));return n}function X(n,t){var e=!n,r=!t;return e||r?e==r:j(n)&&j(t)||(u(n)||s(n)?u(t)||s(t):i(n)&&i(t)&&n.type===t.type&&n.key===t.key)}function z(n,t,e){t=t?t.key:void 0,e="."+e.toString(36);if(u(t)){t="$"+t;return void 0===n[t]?t:e}return e}function Q(n){for(var t=n;t=n.m&&n.m._internal;)if(t instanceof b.U)n=t;else{for(var e=Object.keys(t.V),r=n.W-1;0<=r;r--){var i=t.V[e[r]].C();if(!j(i))return i;if(0<i.length)return i[i.length-1]}if(!(t instanceof b.N))return null;n=t}}var nn,tn,en=((tn=_n.prototype).setState=function(n,t){this.updater.setState(this,n,t)},tn.forceUpdate=function(n){this.updater.forceUpdate(this,n)},_n),tn=(F(vn,nn=en),vn),rn=1,on=function(t){function n(){var n;return(n=t.call(this)||this).$=[],n.q=rn++,n}F(n,t);var e=n.prototype;return e.T=function(){return this.B().T()},e.B=function(){return this._internal._renderedComponent},e.h=function(n){this.$=n,this.forceUpdate()},e.render=function(){return this.$},n}(en),un={set:function(n,t){n._r||(n._r=t).q&&(b.rootInstances[t.q]=t,b.rootComponents[t.q]=t._internal)},get:function(n){return n._r},remove:function(n){var t=this.get(n);t&&(n._r=null,t.q&&(delete b.rootComponents[t.q],delete b.rootInstances[t.q]))},mount:function(n,t,e){var r=e.parent,i=e.hydrate,e=b.driver,i={element:n,container:t=null==t?e.createBody():t,hydrate:i};e.beforeRender&&e.beforeRender(i),r&&(u=(o=r._internal).F(o._context));var o=this.get(t);if(o&&o.q)return u&&(o._internal.G=u),o.h(n),e.afterRender&&e.afterRender(i),o;var u=Z(D(on)).I(t,r,u||{});return this.set(t,u),u.h(n),e.afterRender&&e.afterRender(i),u}},sn=Object.assign,fn="style",cn="children",ln=/^on[A-Z]/,hn=function(n){function t(){return n.apply(this,arguments)||this}F(t,n);var e=t.prototype;return e.I=function(n,t,e,r){this.O(n,t,e);var i=this.g,o=i.props,u=i.type,n=o.children,t=o.append||"tree";this.J=sn({},o.style);o={type:u,props:o};return(o._internal=this)._instance=o,"tree"===t?(this.K(n,e),this.A(r)):(this.A(r),this.K(n,e)),i&&i.ref&&G(i._owner,i.ref,this),o},e.K=function(n,t){if(null==n)return n;var e=this.C();return this.L(e,M(n),t)},e.L=function(n,t,e,r){for(var i=this.V={},o=[],u=0,s=t.length;u<s;u++){var f=t[u],c=Z(f);(i[z(i,f,u)]=c).W=u;c=c.I(n,this._instance,e,r);o.push(c)}return o},e.M=function(n){var t=this.V;if(t){for(var e in t)t[e].unmountComponent(n);this.V=null}},e.unmountComponent=function(n){var t;this._nativeNode&&((t=this.g.ref)&&Y(this.g._owner,t,this),un.remove(this._nativeNode),n||b.driver.removeChild(this._nativeNode,this._parent)),this.M(!0),this.J=null,this.k()},e.D=function(n,t,e,r){$(n,this.g=t,this);n=n.props,t=t.props;this.X(n,t),null==n.children||j(n.children)&&0===n.children.length?this.K(t.children,r):this.Y(t.children,r)},e.X=function(n,t){var e,r,i,o,u=b.driver,s=this.C();for(e in n)if(e!==cn&&null!=n[e]&&!t.hasOwnProperty(e))if(e===fn){for(r in this.J)(i=i||{})[r]="";this.J=null}else ln.test(e)?a(o=n[e])&&u.removeEventListener(s,e.slice(2).toLowerCase(),o):u.removeAttribute(s,e,n[e]);for(e in t){var f,c=t[e],l=e===fn?this.J:null!=n?n[e]:void 0;if(e!==cn&&l!==c&&(null!=c||null!=l))if(e===fn)if(c?c=this.J=sn({},c):this.J=null,null!=l){for(r in l)c&&(c[r]||0===c[r])||((i=i||{})[r]="");for(r in c)l[r]!==c[r]&&((i=i||{})[r]=c[r])}else i=c;else ln.test(e)?(f=e.slice(2).toLowerCase(),a(l)&&u.removeEventListener(s,f,l,t),a(c)&&u.addEventListener(s,f,c,t)):null!=c?u.setAttribute(s,e,c):u.removeAttribute(s,e,n[e])}i&&u.setStyle(s,i)},e.Y=function(n,t){var e=this.V,i=b.driver;if(null!=n||null!=e){var r={};if(null!=n)for(var o=0,u=(n=M(n)).length;o<u;o++){var s=n[o],f=z(r,s,o),c=e&&e[f],l=c&&c.g,h=c&&c._context;null!=c&&X(l,s)?(l===s&&h===t||c.D(l,s,t,t),r[f]=c):(c&&(c.nn=!0),r[f]=Z(s))}var a=this.C(),p=j(a),d=null,v=null,_=!1,m=!1,g=null,y=!(!i.removeChildren||!(O(n)||n&&!n.length)||p);if(null!=e){for(var C in e){var w=e[C],C=w.nn||!r[C];d?C&&w.unmountComponent(y):(m=C,j(v=(d=w).C())&&(_=0===v.length,v=v[0]))}(p&&0===a.length||_)&&(g=Q(this))}if(null!=r){function x(n,t){for(var e=0,r=(n=M(n)).length;e<r;e++)g?i.insertAfter(n[r-1-e],g):v?i.insertBefore(n[e],v):t&&i.appendChild(n[e],t)}var k,D=0;for(k in r){var I,R=r[k],U=e&&e[k];U===R?(I=U.C(),U.W!==D&&x(I)):(p&&(a=this._parent),R.I(a,this._instance,t,x)),R.W=D++,j(g=R.C())&&(g=g[g.length-1])}}m&&d.unmountComponent(y),y&&i.removeChildren(this._nativeNode),this.V=r}},e.P=function(){var n=this._instance,t=b.driver.createElement(n.type,n.props,this);return un.set(t,n),t},t}(J),an=function(n){function t(){return n.apply(this,arguments)||this}F(t,n);var e=t.prototype;return e.D=function(n,t){n!==(t=""+t)&&(this.g=t,b.driver.updateText(this.C(),t))},e.P=function(){return b.driver.createText(this.g,this)},t}(J),pn=function(e){function n(n,t){var r;(r=e.call(this)||this).tn=!0,r.rn=n,r.un=0,r.fn=0,r.on={},r.o=!1,r.l=!1,r.en=null,r.sn={},r.didMount=[],r.didUpdate=[],r.willUnmount=[],r.state=f,n._forwardRef&&(r.cn=r._forwardRef=t);var i=n.hn;return i&&(r.shouldComponentUpdate=function(n){for(var t=!0,e=i.length-1;-1<e&&!(t=i[e](r.props,n));e--);return!t||r.cn!==r._forwardRef}),r}F(n,e);var t=n.prototype;return t.getHooks=function(){return this.on},t.getHookID=function(){return++this.un},t.useContext=function(n){var t,e,r=this,i=n._contextID,o=this.sn[i];return o||(t=n.an(this),o=this.sn[i]={ln:t},t&&(e=function(n){o.vn!==n&&(r.l=!0,r.h())},t.dn(e),this.willUnmount.push(function(){return t._n(e)}))),o.vn=o.ln?o.ln.getValue():n._defaultValue},t.componentWillMount=function(){this.l=!0},t.componentDidMount=function(){I(this.didMount)},t.componentWillReceiveProps=function(){this.l=!0},t.componentDidUpdate=function(){I(this.didUpdate)},t.componentWillUnmount=function(){I(this.willUnmount)},t.h=function(){this.setState(f)},t.render=function(){this.un=0,this.fn=0,this.o=!1;for(var n=this.rn(this.props,this._forwardRef||this.context);this.o;)this.fn++,24<this.fn&&w(4),this.un=0,this.o=!1,n=this.rn(this.props,this._forwardRef||this.context);return this.l&&(this.en=n,this.l=!1),this.en},n}(en),dn=[];function vn(n,t){return(t=nn.call(this,n,t)||this).Z=!0,t}function _n(n,t){this.props=n,this.context=t,this.refs={}}function mn(n,t){return t._internal._mountID-n._internal._mountID}function gn(){if(b.i)return _(gn);var n,t,e,r,i=dn;if(0<i.length)for(g(),dn=[],1<i.length&&(i=i.filter(function(n){return!!n._internal}).sort(mn));n=i.pop();)r=e=t=void 0,(r=(n=n)._internal)&&(b.i=!0,t=r.g,e=r._context,n=r.G||e,r.G=void 0,(r.pn||r.wn)&&(r.D(t,t,e,n),v(c)),b.i=!1)}function yn(n,t){dn.indexOf(n)<0&&dn.push(n),t?1<dn.length||_(gn):gn()}function Cn(n,t,e){var r,i,o=n._internal;o&&(e&&(i=e,((r=o).yn||(r.yn=[])).push(i)),r=o._renderedComponent,t?(n.tn&&(o.wn=!0),i=t,((t=o).pn||(t.pn=[])).push(i),!o.bn&&r&&yn(n,!0)):(o.wn=!0,r&&yn(n)))}var wn={setState:function(n,t,e){b.i||g(),Cn(n,t,e)},forceUpdate:function(n,t){Cn(n,null,t)}};function xn(n,t,e){try{return n()}catch(n){e?e(n):(r=n,(i=T(t,function(n){return n.componentDidCatch||n.constructor&&n.constructor.getDerivedStateFromError}))?y(function(){var n=i._internal;n&&xn(function(){var n;i.componentDidCatch&&i.componentDidCatch(r),i.constructor&&i.constructor.getDerivedStateFromError&&(n=i.constructor.getDerivedStateFromError(r),i.setState(n))},n.m)}):l(function(){throw r},0))}var r,i}function kn(n,t){y(function(){xn(n,t)})}function Dn(n,t){n&&kn(function(){I(n,t)},t)}var In=function(n){function t(){return n.apply(this,arguments)||this}F(t,n);var e=t.prototype;return e.I=function(n,t,e,r){this.O(n,t,e);var i,o,n=this.g,u=n.type,s=n.ref,f=n.props,c=u.prototype,l=this.jn(e);if(xn(function(){c&&c.render?i=new u(f,l):a(u)?i=new pn(u,s):w(6,u)},t),i){i.props=f,i.context=l,i.refs={},i.updater=wn,void 0===((i._internal=this)._instance=i).state&&(i.state=null),i.componentWillMount&&xn(function(){i.componentWillMount()},i),b.owner=this,i.state=this.mn(f,l);t=this.yn;return this.yn=null,xn(function(){o=i.render()},i),b.owner=null,this._renderedComponent=Z(o),this._renderedComponent.I(this._parent,i,this.F(e),r),!n.type._forwardRef&&s&&G(n._owner,s,this),i.componentDidMount&&kn(function(){i.componentDidMount()},i),Dn(t,i),i}},e.unmountComponent=function(n){var t,e,r=this._instance;r&&r.componentWillUnmount&&xn(function(){r.componentWillUnmount()},r),null!=this._renderedComponent&&(e=(t=this.g).ref,!t.type._forwardRef&&e&&Y(t._owner,e,this),this._renderedComponent.unmountComponent(n),this._renderedComponent=null),this.pn=null,this.wn=!1,this.k()},e.jn=function(n){var t={},e=this.g.type.contextTypes;if(e)for(var r in e)t[r]=n[r];return t},e.F=function(n){var t=this._instance,t=t.getChildContext&&t.getChildContext();return t?sn({},n,t):n},e.mn=function(n,t){var e=this._instance,r=this.pn;if(!r)return e.state;this.pn=null;for(var i=sn({},e.state),o=0;o<r.length;o++){var u=r[o];sn(i,a(u)?u.call(e,i,n,t):u)}return i},e.D=function(f,c,n,l){var h=this,a=this._instance;a&&xn(function(){var n,t;h._context===l?n=a.context:(n=h.jn(l),s=!0),t=c.props,(s=f!==c?!0:s)&&a.componentWillReceiveProps&&(h.bn=!0,a.componentWillReceiveProps(t,n),h.bn=!1),h.g.type._forwardRef?(a.cn=f.ref,a._forwardRef=c.ref):$(f,c,h);var e,r=!0,i=a.props,o=a.state,u=h.mn(t,n),s=h.yn;h.yn=null,h.wn||(a.shouldComponentUpdate?r=a.shouldComponentUpdate(t,u,n):a.Z&&(r=!A(i,t)||!A(o,u))),r?(h.wn=!1,e=a.context,a.componentWillUpdate&&a.componentWillUpdate(t,u,n),h.g=c,h._context=l,a.props=t,a.state=u,a.context=n,h.gn(l),a.componentDidUpdate&&kn(function(){a.componentDidUpdate(i,o,e)},a)):(h.g=c,h._context=l,a.props=t,a.state=u,a.context=n),Dn(s,a)},a)},e.gn=function(n){var t,e,r,u,s,i=this._renderedComponent,o=i.g,f=this._instance;b.owner=this,t=f.render(),b.owner=null,X(o,t)?(e=i._context,r=this.F(n),o===t&&e===r||i.D(o,t,e,r)):(u=null,j(s=i.C())&&0===s.length&&null==f.q&&(u=Q(i)),i.unmountComponent(!0),this._renderedComponent=Z(t),this._renderedComponent.I(this._parent,f,this.F(n),function(n,t){var e=b.driver;s=M(s),n=M(n);for(var r=0;r<n.length;r++){var i=n[r];s[r]?e.replaceChild(i,s[r]):u?e.insertAfter(i,u):e.appendChild(i,t),u=i}for(var o=n.length;o<s.length;o++)e.removeChild(s[o])}))},e.C=function(){var n=this._renderedComponent;if(n)return n.C()},e.T=function(){var n=this._instance;return n.tn?null:n},t}(J),Rn=function(n){function t(){return n.apply(this,arguments)||this}F(t,n);var e=t.prototype;return e.I=function(n,t,e,r){this.O(n,t,e);t=this._instance={};t._internal=this;var i=[];if(this.L(this._parent,this.g,e,function(n){n=M(n);for(var t=0;t<n.length;t++)i.push(n[t])}),r)r(i,n);else for(var o=0;o<i.length;o++)b.driver.appendChild(i[o],n);return t},e.unmountComponent=function(n){if(!n)for(var t=this.C(),e=0,r=t.length;e<r;e++)b.driver.removeChild(t[e]);this.M(!0),this.k()},e.D=function(n,t,e,r){this.g=t,this.Y(this.g,r)},e.C=function(){var t=this.V||{};return[].concat.apply([],Object.keys(t).map(function(n){return t[n].C()}))},t}(hn),J={Host:b,Instance:un,Element:h,flattenChildren:d};n.Component=en,n.Fragment=function(n){return n.children},n.PureComponent=tn,n.createContext=function(s){var n,f="_c"+q++;function c(n){return T(n,function(n){return n.On===f})}return{Provider:((n=t.prototype).dn=function(n){this.kn.push(n)},n._n=function(t){this.kn=this.kn.filter(function(n){return n!==t})},n._getChildContext=function(){var n;return(n={})[f]=this,n},n.getValue=function(){return void 0!==this.props.value?this.props.value:s},n.componentDidUpdate=function(n){this.props.value!==n.value&&I(this.kn,null,this.getValue())},n.render=function(){return this.props.children},t),Consumer:function(n,t){var e=this,r=N(function(){return t[f]||c(e)})[0],i=r?r.getValue():s,o=N(i),u=o[1];if(i===o[0]){P(function(){if(r)return r.dn(u),function(){r._n(u)}},[]);n=M(n.children)[0];return a(n)?n(i):void 0}u(i)},_contextID:f,_defaultValue:s,an:c};function t(){this.On=f,this.kn=[]}},n.createElement=D,n.createRef=function(){return{current:null}},n.forwardRef=function(n){return n._forwardRef=!0,n},n.memo=function(n,t){return t=t||A,n.hn?n.hn.push(t):n.hn=[t],n},n.render=function(n,t,e,r){var i;a(e)&&(r=e,e=null),i=(e=e||f).driver,b.R=B,b.S=hn,b.H=an,b.N=Rn,b.U=In,(b.driver=i||b.driver)||w(5);e=un.mount(n,t,e).T();return r&&r.call(e),e},n.shared=J,n.useCallback=function(n,t){return V(function(){return n},t)},n.useContext=function(n){return W().useContext(n)},n.useEffect=function(n,t){S(n,t,!0)},n.useImperativeHandle=function(n,t,e){P(function(){return a(n)?(n(t()),function(){return n(null)}):null!=n?(n.current=t(),function(){n.current=null}):void 0},j(e)?e.concat([n]):null)},n.useLayoutEffect=P,n.useMemo=V,n.useReducer=function(n,t,e){var i=W(),o=i.getHookID(),u=i.getHooks(),r=u[o];if(!r){t=a(e)?e(t):t;return u[o]=[t,function(n){b.i||g();var t,e,r=u[o][2];H()===i?(r.In.push(n),i.o=!0):(t=r.xn,U(e=(0,r.An)(t,n),t)||(r.xn=e,r.In.push(n),i.h()))},{In:[],An:n,xn:t}]}var s=r[2],f=r[0];if(0<i.fn)for(var c=0;c<s.In.length;c++)f=n(f,s.In[c]);else f=s.xn;return U(f,r[0])||(r[0]=f,i.l=!0),s.An=n,s.xn=f,s.In.length=0,u[o]},n.useRef=function(n){var t=W(),e=t.getHookID(),t=t.getHooks();return t[e]||(t[e]={current:n}),t[e]},n.useState=N,n.version="1.2.3"});