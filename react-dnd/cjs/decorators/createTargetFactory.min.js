"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createTargetFactory=createTargetFactory;var _invariant=require("@react-dnd/invariant"),_js_utils=require("../utils/js_utils"),_utils=require("./utils");function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var ALLOWED_SPEC_METHODS=["canDrop","hover","drop"],TargetImpl=function(){function i(e,t,r){_classCallCheck(this,i),this.props=null,this.spec=e,this.monitor=t,this.ref=r}return _createClass(i,[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"canDrop",value:function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){this.spec.hover&&this.props&&this.spec.hover(this.props,this.monitor,(0,_utils.getDecoratedComponent)(this.ref))}},{key:"drop",value:function(){if(this.spec.drop){var e=this.spec.drop(this.props,this.monitor,this.ref.current);return"production"!==process.env.NODE_ENV&&(0,_invariant.invariant)(void 0===e||(0,_js_utils.isPlainObject)(e),"drop() must either return undefined, or an object that represents the drop result. Instead received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",e),e}}}]),i}();function createTargetFactory(r){return Object.keys(r).forEach(function(e){(0,_invariant.invariant)(-1<ALLOWED_SPEC_METHODS.indexOf(e),'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',ALLOWED_SPEC_METHODS.join(", "),e),(0,_invariant.invariant)("function"==typeof r[e],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",e,e,r[e])}),function(e,t){return new TargetImpl(r,e,t)}}