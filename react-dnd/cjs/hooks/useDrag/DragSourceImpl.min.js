"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DragSourceImpl=void 0;var _invariant=require("@react-dnd/invariant");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}var DragSourceImpl=function(){function r(e,n,t){_classCallCheck(this,r),this.spec=e,this.monitor=n,this.connector=t}return _createClass(r,[{key:"beginDrag",value:function(){var e=this.spec,n=this.monitor,t=e.begin,e=e.item;if(t){var n=t(n);return(0,_invariant.invariant)(null==n||"object"===_typeof(n),"dragSpec.begin() must either return an object, undefined, or null"),null!==(n=null!=n?n:e)&&void 0!==n?n:{}}return null!=e?e:{}}},{key:"canDrag",value:function(){var e=this.spec,n=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(n)}},{key:"isDragging",value:function(e,n){var t=this.spec,r=this.monitor,o=t.isDragging;return o?o(r):n===e.getSourceId()}},{key:"endDrag",value:function(){var e=this.spec,n=this.monitor,t=this.connector,e=e.end;e&&e(n.getItem(),n),t.reconnect()}}]),r}();exports.DragSourceImpl=DragSourceImpl;