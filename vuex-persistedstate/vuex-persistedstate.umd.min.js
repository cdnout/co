!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(e||self).createPersistedState=r()}(this,function(){var a=function(e){return!(!e||"object"!=typeof e||(r=e,"[object RegExp]"===(e=Object.prototype.toString.call(r))||"[object Date]"===e||r.$$typeof===t));var r},t="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function f(e,r){return!1!==r.clone&&r.isMergeableObject(e)?b(Array.isArray(e)?[]:{},e,r):e}function s(e,r,t){return e.concat(r).map(function(e){return f(e,t)})}function l(e){return Object.keys(e).concat((r=e,Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r).filter(function(e){return r.propertyIsEnumerable(e)}):[]));var r}function y(e,r){try{return r in e}catch(e){return}}function b(e,r,t){(t=t||{}).arrayMerge=t.arrayMerge||s,t.isMergeableObject=t.isMergeableObject||a,t.cloneUnlessOtherwiseSpecified=f;var n,o,c,u,i=Array.isArray(r);return i===Array.isArray(e)?i?t.arrayMerge(e,r,t):(n=e,o=r,u={},(c=t).isMergeableObject(n)&&l(n).forEach(function(e){u[e]=f(n[e],c)}),l(o).forEach(function(r){var e,t;(!y(e=n,t=r)||Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))&&(u[r]=y(n,r)&&c.isMergeableObject(o[r])?function(){if(!c.customMerge)return b;var e=c.customMerge(r);return"function"==typeof e?e:b}()(n[r],o[r],c):f(o[r],c))}),u):f(r,t)}b.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,r){return b(e,r,t)},{})};var i=b;return function(t){var n=(t=t||{}).storage||window&&window.localStorage,o=t.key||"vuex";function c(o,e){return Array.isArray(e)?e.reduce(function(e,r){return t=e,n=o,n=void 0===(n=((r=e=r).split?r.split("."):r).reduce(function(e,r){return e&&e[r]},n))?void 0:n,/__proto__/.test(e)||((e=e.split?e.split("."):e.slice(0)).slice(0,-1).reduce(function(e,r){return e[r]=e[r]||{}},t)[e.pop()]=n),t;var t,n},{}):o}(t.assertStorage||function(){n.setItem("@@",1),n.removeItem("@@")})(n);function r(){return(t.getState||function(e,r){var t=r.getItem(e);try{return void 0!==t?JSON.parse(t):void 0}catch(e){}})(o,n)}var u;return t.fetchBeforeUse&&(u=r()),function(e){t.fetchBeforeUse||(u=r()),"object"==typeof u&&null!==u&&(e.replaceState(t.overwrite?u:i(e.state,u,{arrayMerge:t.arrayMerger||function(e,r){return r},clone:!1})),(t.rehydrated||function(){})(e)),(t.subscriber||function(r){return function(e){return r.subscribe(e)}})(e)(function(e,r){(t.filter||function(){return!0})(e)&&(t.setState||function(e,r,t){return t.setItem(e,JSON.stringify(r))})(o,(t.reducer||c)(r,t.paths),n)})}}});