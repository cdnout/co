!function(z,A){var E="snapper";A.fn[E]=function(q){var t,F,I=arguments,e="scroll-snap-type",M=z.CSS&&z.CSS.supports&&(z.CSS.supports(e,"x mandatory")||z.CSS.supports(e,"mandatory")||z.CSS.supports("-webkit-"+e,"mandatory")||z.CSS.supports("-ms-"+e,"mandatory"));function s(t,e){var a=A(t).find("."+E+"_item"),r=A(t).width(),n=[];return a.each(function(t){this.offsetLeft>=e-5&&this.offsetLeft<e+r-5&&n.push(this)}),A(n)}function P(t){return t.width()+parseFloat(t.css("margin-left"))+parseFloat(t.css("margin-right"))}function V(t,e,a){a=a?a+"-":"";var r=s(t,e);A(t).trigger(E+"."+a+"snap",{activeSlides:r})}function j(t,e,a,r){A(t).closest("."+E).addClass(E+"-sliding"),V(t,e);function n(){t.scrollLeft=e,A(t).closest("."+E).removeClass(E+"-looping").removeClass(E+"-sliding"),A(t).trigger(E+".after-goto",{activeSlides:s(t,e)}),r&&r(),V(t,e,"after"),!0}!z.toss&&z.overthrow&&(z.toss=z.overthrow.toss),void 0===z.toss||a?(t.scrollLeft=e,n()):z.toss(t,{left:e,finished:n})}return t=this.each(function(){if(void 0===F){var r,n=this,s=A(n),t=s.is("[data-"+E+"-nextprev]"),g=A("."+E+"_pane",n),m=g.find("."+E+"_items"),y=m.children();y.addClass(E+"_item");var _=y.length,v=A("."+E+"_nav",n),h=E+"_nav_item-selected",i="false"!==s.attr("data-snapper-deeplinking");if("string"!=typeof q){if(!s.attr("data-"+E+"-enhanced")){var w=v.find("."+E+"_nav_inner");if(w.length||(w=A('<div class="'+E+'_nav_inner"></div>').append(v.children()).appendTo(v)),g.attr("tabindex","0"),b(),A(n).addClass("snapper-enhanced"),t){var e=A('<ul class="snapper_nextprev"><li class="snapper_nextprev_item"><a href="#prev" class="snapper_nextprev_prev">Prev</a></li><li class="snapper_nextprev_item"><a href="#next" class="snapper_nextprev_next">Next</a></li></ul>'),a=A(".snapper_nextprev_contain",n);a.length||(a=A(n)),e.appendTo(a)}A("a",this).bind("click",function(t){clearTimeout(r);var e=A(this).attr("href");if(A(this).is(".snapper_nextprev_next"))return t.preventDefault(),D(!0);if(A(this).is(".snapper_nextprev_prev"))return t.preventDefault(),D(!1);if(0===e.indexOf("#")&&1<e.length){t.preventDefault();var a=A(e,n);a.length&&(j(g[0],a[0].offsetLeft),i&&"replaceState"in z.history&&z.history.replaceState({},document.title,e))}}),A(this).bind("keydown",function(t){37!==t.keyCode&&38!==t.keyCode||(clearTimeout(r),t.preventDefault(),t.stopImmediatePropagation(),D(!1)),39!==t.keyCode&&40!==t.keyCode||(clearTimeout(r),t.preventDefault(),t.stopImmediatePropagation(),D(!0))});var o,l,f,p=!1;if(A(z).bind("resize",function(){var t=g[0].scrollLeft,e=y.length,a=m.width();void 0===o&&(o=Math.round(t/a*e)),l&&clearTimeout(l),l=setTimeout(function(){b(),j(g[0],y[o].offsetLeft,!0),o=l=void 0},50)}),v.length){var C;function d(t){var e=(new Date).getTime();if(!(!t&&C&&e-C<200)){C=e;var a,r,n,s,i=g[0].scrollLeft,o=P(m),l=P(v),f=(a=v).height()+parseFloat(a.css("margin-bottom"))+parseFloat(a.css("margin-top")),p=Math.round(i/o*_)||0,d=v.find("a").removeClass(h).eq(p).addClass(h),c=d[0].offsetLeft-l/2,u=d[0].offsetTop-f/2;r=w[0],n=c,s=u,void 0!==z.toss?z.toss(r,{left:n,top:s}):(r.scrollLeft=n,r.scrollTop=s)}}d(),g.bind("scroll",d)}var c=0;g.bind("scroll",function(t){c=(new Date).getTime(),f=!0}),setInterval(function(){f&&c<=(new Date).getTime()-150&&(k(),d(!0),f=!1)},150);var u=!1;g.bind("touchstart",function(){clearTimeout(r),u=!0}),g.bind("touchend",function(){u=!1,p&&!f&&(k(),f=!1)}),function e(t){t&&(r=setTimeout(function(){var t=T();t&&(D(!0),e(t))},t))}(T()),s.attr("data-"+E+"-enhanced",!0)}}else{var x,S=Array.prototype.slice.call(I,1),L=m.width()/_;switch(q){case"goto":x=S[0]%_,offset=L*x,j(g[0],offset,!1,function(){k(),"function"==typeof S[1]&&S[1]()});break;case"getIndex":F=Math.floor((g[0].scrollLeft+1)/L);break;case"updateWidths":b()}}}function T(){var t=s.attr("data-autoplay")||s.attr("data-snapper-autoplay"),e=!1;if(t){try{t=parseInt(t,10)}catch(t){e=!0}if(!t||e){throw new Error("Snapper: `data-autoplay` must have an natural number value.")}}return t}function b(){var t=m.attr("style");m.attr("style","");var e=y.eq(0).attr("style");y.eq(0).attr("style","");var a=g.width(),r=y.eq(0).width(),n=z.getComputedStyle(y[0],null),s=parseFloat(n.getPropertyValue("margin-left")),i=parseFloat(n.getPropertyValue("margin-right")),o=r+s+i;y.eq(0).attr("style",e),m.attr("style",t);var l=_/Math.round(a/o)*100,f=r/a*100,p=i/a*100,d=s/a*100,c=f+d+p,u=f/c,v=p/c,h=d/c;m.css("width",l+"%"),y.css("width",100/_*u+"%"),y.css("margin-left",100/_*h+"%"),y.css("margin-right",100/_*v+"%")}function k(){if(u)p=!0;else{var t=g[0].scrollLeft,e=m.width(),a=y[1]?y[1].offsetLeft:P(y.eq(0)),r=Math.round(t/a)*a,n=e-g.width();n<r&&(r=n),t!==r&&(M?(V(g[0],r),V(g[0],r,"after")):j(g[0],r)),p=!1}}function D(t){var e=g[0].scrollLeft,a=m.width(),r=P(g);return t?a-r-5<=e?(s.addClass(E+"-looping"),void j(g[0],0)):void j(g[0],g[0].scrollLeft+m.width()/_,!1,function(){g.trigger(E+".after-next")}):0===e?(s.addClass(E+"-looping"),void j(g[0],m.width()-g.width())):void j(g[0],g[0].scrollLeft-m.width()/_,!1,function(){g.trigger(E+".after-prev")})}}),void 0!==F?F:t}}(this,jQuery);