!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).DarkReader={})}(this,function(e){"use strict";var d=function(){return(d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function F(e,i,c,u){return new(c=c||Promise)(function(n,t){function r(e){try{a(u.next(e))}catch(e){t(e)}}function o(e){try{a(u.throw(e))}catch(e){t(e)}}function a(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(r,o)}a((u=u.apply(e,i||[])).next())})}function N(n,r){var o,a,i,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(i=2&t[0]?a.return:t[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,t[1])).done)return i;switch(a=0,(t=i?[2&t[0],i.value]:t)[0]){case 0:case 1:i=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,a=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(i=0<(i=c.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){c.label=t[1];break}if(6===t[0]&&c.label<i[1]){c.label=i[1],i=t;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(t);break}i[2]&&c.ops.pop(),c.trys.pop();continue}t=r.call(n,c)}catch(e){t=[6,e],a=0}finally{o=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function j(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function B(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function T(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var u={UI_GET_DATA:"ui-get-data",UI_SUBSCRIBE_TO_CHANGES:"ui-subscribe-to-changes",UI_UNSUBSCRIBE_FROM_CHANGES:"ui-unsubscribe-from-changes",UI_CHANGE_SETTINGS:"ui-change-settings",UI_SET_THEME:"ui-set-theme",UI_SET_SHORTCUT:"ui-set-shortcut",UI_TOGGLE_ACTIVE_TAB:"ui-toggle-active-tab",UI_MARK_NEWS_AS_READ:"ui-mark-news-as-read",UI_LOAD_CONFIG:"ui-load-config",UI_APPLY_DEV_DYNAMIC_THEME_FIXES:"ui-apply-dev-dynamic-theme-fixes",UI_RESET_DEV_DYNAMIC_THEME_FIXES:"ui-reset-dev-dynamic-theme-fixes",UI_APPLY_DEV_INVERSION_FIXES:"ui-apply-dev-inversion-fixes",UI_RESET_DEV_INVERSION_FIXES:"ui-reset-dev-inversion-fixes",UI_APPLY_DEV_STATIC_THEMES:"ui-apply-dev-static-themes",UI_RESET_DEV_STATIC_THEMES:"ui-reset-dev-static-themes",UI_SAVE_FILE:"ui-save-file",UI_REQUEST_EXPORT_CSS:"ui-request-export-css",BG_CHANGES:"bg-changes",BG_ADD_CSS_FILTER:"bg-add-css-filter",BG_ADD_STATIC_THEME:"bg-add-static-theme",BG_ADD_SVG_FILTER:"bg-add-svg-filter",BG_ADD_DYNAMIC_THEME:"bg-add-dynamic-theme",BG_EXPORT_CSS:"bg-export-css",BG_UNSUPPORTED_SENDER:"bg-unsupported-sender",BG_CLEAN_UP:"bg-clean-up",BG_RELOAD:"bg-reload",BG_FETCH_RESPONSE:"bg-fetch-response",BG_UI_UPDATE:"bg-ui-update",BG_CSS_UPDATE:"bg-css-update",CS_COLOR_SCHEME_CHANGE:"cs-color-scheme-change",CS_FRAME_CONNECT:"cs-frame-connect",CS_FRAME_FORGET:"cs-frame-forget",CS_FRAME_FREEZE:"cs-frame-freeze",CS_FRAME_RESUME:"cs-frame-resume",CS_EXPORT_CSS_RESPONSE:"cs-export-css-response",CS_FETCH:"cs-fetch",CS_DARK_THEME_DETECTED:"cs-dark-theme-detected",CS_DARK_THEME_NOT_DETECTED:"cs-dark-theme-not-detected"},t="undefined"==typeof navigator?"some useragent":navigator.userAgent.toLowerCase(),n="undefined"==typeof navigator?"some platform":navigator.platform.toLowerCase(),r=t.includes("chrome")||t.includes("chromium"),U=t.includes("thunderbird"),f=t.includes("firefox")||t.includes("librewolf")||U;t.includes("vivaldi"),t.includes("yabrowser"),t.includes("opr")||t.includes("opera"),t.includes("edg");var q=t.includes("safari")&&!r,o=n.startsWith("win"),r=n.startsWith("mac");t.includes("mobile");var h="function"==typeof ShadowRoot,a="function"==typeof MediaQueryList&&"function"==typeof MediaQueryList.prototype.addEventListener;(n=t.match(/chrom[e|ium]\/([^ ]+)/))&&n[1]&&n[1];var i=function(){try{return document.querySelector(":defined"),!0}catch(e){return!1}}();globalThis.chrome&&globalThis.chrome.runtime&&globalThis.chrome.runtime.getManifest&&globalThis.chrome.runtime.getManifest().manifest_version;var c=function(){if("undefined"==typeof document)return!1;var e=document.createElement("div");return e.setAttribute("style","color-scheme: dark"),"dark"===e.style.colorScheme}();function s(t,n){return F(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return[4,function(n,r,o){return F(this,void 0,void 0,function(){var t;return N(this,function(e){switch(e.label){case 0:return[4,fetch(n,{cache:"force-cache",credentials:"omit",referrer:o})];case 1:if(t=e.sent(),f&&"text/css"===r&&n.startsWith("moz-extension://")&&n.endsWith(".css"))return[2,t];if(r&&!t.headers.get("Content-Type").startsWith(r))throw new Error("Mime type mismatch when loading ".concat(n));if(!t.ok)throw new Error("Unable to load ".concat(n," ").concat(t.status," ").concat(t.statusText));return[2,t]}})})}(t,n)];case 1:return[4,l(e.sent())];case 2:return[2,e.sent()]}})})}function l(t){return F(this,void 0,void 0,function(){var n;return N(this,function(e){switch(e.label){case 0:return[4,t.blob()];case 1:return n=e.sent(),[4,new Promise(function(e){var t=new FileReader;t.onloadend=function(){return e(t.result)},t.readAsDataURL(n)})];case 2:return[2,e.sent()]}})})}function p(t){return F(void 0,void 0,void 0,function(){return N(this,function(e){return[2,Promise.reject(new Error(["Embedded Dark Reader cannot access a cross-origin resource",t,"Overview your URLs and CORS policies or use","`DarkReader.setFetchMethod(fetch: (url) => Promise<Response>))`.","See if using `DarkReader.setFetchMethod(window.fetch)`","before `DarkReader.enable()` works."].join(" ")))]})})}var m=p;window.chrome||(window.chrome={}),chrome.runtime||(chrome.runtime={});var g,v,b=new Set;function y(){for(var c=[],e=0;e<arguments.length;e++)c[e]=arguments[e];return F(this,void 0,void 0,function(){var t,n,r,o,a,i;return N(this,function(e){switch(e.label){case 0:if(!c[0]||c[0].type!==u.CS_FETCH)return[3,8];t=c[0].id,e.label=1;case 1:return e.trys.push([1,7,,8]),r=c[0].data,n=r.url,r=r.responseType,[4,function(t){return F(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return[4,m(t)];case 1:return[2,e.sent()]}})})}(n)];case 2:return o=e.sent(),"data-url"!==r?[3,4]:[4,l(o)];case 3:return a=e.sent(),[3,6];case 4:return[4,o.text()];case 5:a=e.sent(),e.label=6;case 6:return b.forEach(function(e){return e({type:u.BG_FETCH_RESPONSE,data:a,error:null,id:t})}),[3,8];case 7:return i=e.sent(),console.error(i),b.forEach(function(e){return e({type:u.BG_FETCH_RESPONSE,data:null,error:i,id:t})}),[3,8];case 8:return[2]}})})}function S(e){b.add(e)}"function"==typeof chrome.runtime.sendMessage?(g=chrome.runtime.sendMessage,chrome.runtime.sendMessage=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];y.apply(void 0,T([],B(e),!1)),g.apply(chrome.runtime,e)}):chrome.runtime.sendMessage=y,chrome.runtime.onMessage||(chrome.runtime.onMessage={}),"function"==typeof chrome.runtime.onMessage.addListener?(v=chrome.runtime.onMessage.addListener,chrome.runtime.onMessage.addListener=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];S(e[0]),v.apply(chrome.runtime.onMessage,e)}):chrome.runtime.onMessage.addListener=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return S(e[0])};var _={cssFilter:"cssFilter",svgFilter:"svgFilter",staticTheme:"staticTheme",dynamicTheme:"dynamicTheme"},t={background:"#181a1b",text:"#e8e6e3"},n={background:"#dcdad7",text:"#181a1b"},k={mode:1,brightness:100,contrast:100,grayscale:0,sepia:0,useFont:!1,fontFamily:r?"Helvetica Neue":o?"Segoe UI":"Open Sans",textStroke:0,engine:_.dynamicTheme,stylesheet:"",darkSchemeBackgroundColor:t.background,darkSchemeTextColor:t.text,lightSchemeBackgroundColor:n.background,lightSchemeTextColor:n.text,scrollbarColor:r?"":"auto",selectionColor:"auto",styleSystemControls:!c,lightColorScheme:"Default",darkColorScheme:"Default",immediateModify:!1};function w(e,t){var n,r;if(null!=e.length)for(var o=0,a=e.length;o<a;o++)t(e[o]);else try{for(var i=j(e),c=i.next();!c.done;c=i.next())t(c.value)}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function E(t,e){w(e,function(e){return t.push(e)})}function W(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}function H(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}function C(n){var r,o=!1,a=null;return Object.assign(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r=e,a?o=!0:(n.apply(void 0,T([],B(r),!1)),a=requestAnimationFrame(function(){a=null,o&&(n.apply(void 0,T([],B(r),!1)),o=!1)}))},{cancel:function(){cancelAnimationFrame(a),o=!1,a=null}})}function x(e){var t=0;return e.seconds&&(t+=1e3*e.seconds),e.minutes&&(t+=60*e.minutes*1e3),e.hours&&(t+=60*e.hours*60*1e3),e.days&&(t+=24*e.days*60*60*1e3),t}function G(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function z(t,n,r){void 0===r&&(r=Function.prototype);var o=x({seconds:2}),a=x({seconds:10}),i=t.previousSibling,c=t.parentNode;if(!c)throw new Error("Unable to watch for node position: parent element not found");if("prev-sibling"===n&&!i)throw new Error("Unable to watch for node position: there is no previous sibling");function u(){h.observe(c,{childList:!0})}var s=0,l=null,d=null,f=C(function(){if(!d){s++;var e=Date.now();if(null==l)l=e;else if(10<=s){if(e-l<a)return H("Node position watcher paused: retry in ".concat(o,"ms"),t,i),void(d=setTimeout(function(){s=0,d=l=null,f()},o));l=e,s=1}if("parent"===n&&i&&i.parentNode!==c)return H("Unable to restore node position: sibling parent changed",t,i,c),void p();if("prev-sibling"===n){if(null==i.parentNode)return H("Unable to restore node position: sibling was removed",t,i,c),void p();i.parentNode!==c&&(H("Style was moved to another parent",t,i,c),m(i.parentNode))}H("Restoring node position",t,i,c),c.insertBefore(t,i?i.nextSibling:c.firstChild),h.takeRecords(),r&&r()}}),h=new MutationObserver(function(){("parent"===n&&t.parentNode!==c||"prev-sibling"===n&&t.previousSibling!==i)&&f()}),p=function(){clearTimeout(d),h.disconnect(),f.cancel()},m=function(e){c=e,p(),u()};return u(),{run:u,stop:p,skip:function(){h.takeRecords()}}}function R(e,t){if(null!=e)for(var n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){return null==e.shadowRoot?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}}),r=e.shadowRoot?n.currentNode:n.nextNode();null!=r;r=n.nextNode())r.classList.contains("surfingkeys_hints_host")||(t(r),R(r.shadowRoot,t))}var V=function(){return"complete"===document.readyState||"interactive"===document.readyState};var M=new Set;function A(e){M.add(e)}function L(e){M.delete(e)}function P(){return"complete"===document.readyState}var O,D=new Set;function $(e){D.add(e)}V()||(O=function(){V()&&(M.forEach(function(e){return e()}),M.clear(),P()&&(document.removeEventListener("readystatechange",O),D.forEach(function(e){return e()}),D.clear()))},document.addEventListener("readystatechange",O));var I,Q=new Map,K=new WeakMap;function X(n,e){var r,o,a,i,t;return Q.has(n)?(t=Q.get(n),r=K.get(t)):(i=a=!1,(t=new MutationObserver(function(e){var t;!function(e){if(1e3<e.length)return 1;for(var t=0,n=0;n<e.length;n++)if(1e3<(t+=e[n].addedNodes.length))return 1}(e)?(t=function(e){var t=new Set,n=new Set,r=new Set;e.forEach(function(e){w(e.addedNodes,function(e){e instanceof Element&&e.isConnected&&t.add(e)}),w(e.removedNodes,function(e){e instanceof Element&&(e.isConnected?(r.add(e),t.delete(e)):n.add(e))})});var o=[],a=[];return t.forEach(function(e){t.has(e.parentElement)&&o.push(e)}),n.forEach(function(e){n.has(e.parentElement)&&a.push(e)}),o.forEach(function(e){return t.delete(e)}),a.forEach(function(e){return n.delete(e)}),{additions:t,moves:r,deletions:n}}(e),r.forEach(function(e){return(0,e.onMinorMutations)(t)})):(!a||V()?r.forEach(function(e){return(0,e.onHugeMutations)(n)}):i||(A(o=function(){return r.forEach(function(e){return(0,e.onHugeMutations)(n)})}),i=!0),a=!0)})).observe(n,{childList:!0,subtree:!0}),Q.set(n,t),r=new Set,K.set(t,r)),r.add(e),{disconnect:function(){r.delete(e),o&&L(o),0===r.size&&(t.disconnect(),K.delete(t),Q.delete(n))}}}var Y=new Map;function Z(e){return(I=I||document.createElement("a")).href=e,I.href}function J(e,t){void 0===t&&(t=null);var n="".concat(e).concat(t?";".concat(t):"");if(Y.has(n))return Y.get(n);if(t){var r=new URL(e,Z(t));return Y.set(n,r),r}r=new URL(Z(e));return Y.set(e,r),r}function ee(e,t){if(t.match(/^data\\?\:/))return t;if(/^\/\//.test(t))return"".concat(location.protocol).concat(t);e=J(e);return J(t,e.href).href}function te(e,r,o){w(e,function(e){if(e.selectorText)r(e);else if(e.href)try{te(e.styleSheet.cssRules,r,o)}catch(e){W("Found a non-loaded link."),o&&o()}else{var t,n;e.media?(t=(n=Array.from(e.media)).some(function(e){return e.startsWith("screen")||e.startsWith("all")||e.startsWith("(")}),n=n.some(function(e){return e.startsWith("print")||e.startsWith("speech")}),!t&&n||te(e.cssRules,r,o)):e.conditionText?CSS.supports(e.conditionText)&&te(e.cssRules,r,o):H("CSSRule type not supported",e)}})}var ne=["background","border","border-color","border-bottom","border-left","border-right","border-top","outline","outline-color"],re=q?ne.map(function(e){return[e,new RegExp("".concat(e,":\\s*(.*?)\\s*;"))]}):null;function oe(n,r){w(n,function(e){var t=n.getPropertyValue(e).trim();t&&r(e,t)});var o=n.cssText;o.includes("var(")&&(q?re.forEach(function(e){var t=B(e,2),e=t[0],t=t[1],t=o.match(t);t&&t[1]&&(t=t[1].trim(),r(e,t))}):ne.forEach(function(e){var t=n.getPropertyValue(e);t&&t.includes("var(")&&r(e,t)}))}var ae=/url\((('.+?')|(".+?")|([^\)]*?))\)/g,ie=/@import\s*(url\()?(('.+?')|(".+?")|([^\)]*?))\)? ?(screen)?;?/gi;function ce(e){return e.replace(/^url\((.*)\)$/,"$1").trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}function ue(e){e=J(e);return"".concat(e.origin).concat(e.pathname.replace(/\?.*$/,"").replace(/(\/)([^\/]+)$/i,"$1"))}function se(e,n){return e.replace(ae,function(t){var e=ce(t);try{return'url("'.concat(ee(n,e),'")')}catch(e){return H("Not able to replace relative URL with Absolute URL, skipping"),t}})}var le=/\/\*[\s\S]*?\*\//g;function de(e){return e.replace(le,"")}var fe=/@font-face\s*{[^}]*}/g;function he(e){return e.replace(fe,"")}function pe(e){var t=e.h,n=e.s,r=e.l,o=e.a,a=void 0===o?1:o;if(0===n){var e=B([r,r,r].map(function(e){return Math.round(255*e)}),3),o=e[0],i=e[1];return{r:o,g:e[2],b:i,a:a}}var i=(1-Math.abs(2*r-1))*n,n=i*(1-Math.abs(t/60%2-1)),c=r-i/2,n=B((t<60?[i,n,0]:t<120?[n,i,0]:t<180?[0,i,n]:t<240?[0,n,i]:t<300?[n,0,i]:[i,0,n]).map(function(e){return Math.round(255*(e+c))}),3);return{r:n[0],g:n[1],b:n[2],a:a}}function me(e){var t=e.r,n=e.g,r=e.b,o=e.a,a=void 0===o?1:o,i=t/255,e=n/255,o=r/255,t=Math.max(i,e,o),n=Math.min(i,e,o),r=t-n,n=(t+n)/2;if(0==r)return{h:0,s:0,l:n,a:a};e=60*(t===i?(e-o)/r%6:t===e?(o-i)/r+2:(i-e)/r+4);return e<0&&(e+=360),{h:e,s:r/(1-Math.abs(2*n-1)),l:n,a:a}}function ge(e,t){var n=e.toFixed(t=void 0===t?0:t);if(0===t)return n;e=n.indexOf(".");if(0<=e){t=n.match(/0+$/);if(t)return t.index===e+1?n.substring(0,e):n.substring(0,t.index)}return n}function ve(e){var t=e.h,n=e.s,r=e.l,e=e.a;return null!=e&&e<1?"hsla(".concat(ge(t),", ").concat(ge(100*n),"%, ").concat(ge(100*r),"%, ").concat(ge(e,2),")"):"hsl(".concat(ge(t),", ").concat(ge(100*n),"%, ").concat(ge(100*r),"%)")}var be=/^rgba?\([^\(\)]+\)$/,ye=/^hsla?\([^\(\)]+\)$/,Se=/^#[0-9a-f]+$/i;function _e(e){var t,n,r,o,a=e.trim().toLowerCase();if(a.match(be))return o=B(ke(r=a,we,Ee),4),t=o[0],n=o[1],r=o[2],o=o[3],{r:t,g:n,b:r,a:void 0===o?1:o};if(a.match(ye))return n=B(ke(t=a,Ce,xe),4),r=n[0],o=n[1],t=n[2],n=n[3],pe({h:r,s:o,l:t,a:void 0===n?1:n});if(a.match(Se))return function(e){var t=e.substring(1);switch(t.length){case 3:case 4:var n=B([0,1,2].map(function(e){return parseInt("".concat(t[e]).concat(t[e]),16)}),3),r=n[0],o=n[1],a=n[2],i=3===t.length?1:parseInt("".concat(t[3]).concat(t[3]),16)/255;return{r:r,g:o,b:a,a:i};case 6:case 8:n=B([0,2,4].map(function(e){return parseInt(t.substring(e,e+2),16)}),3),r=n[0],o=n[1],a=n[2],i=6===t.length?1:parseInt(t.substring(6,8),16)/255;return{r:r,g:o,b:a,a:i}}throw new Error("Unable to parse ".concat(e))}(a);if(Me.has(a))return function(e){e=Me.get(e);return{r:e>>16&255,g:e>>8&255,b:e>>0&255,a:1}}(a);if(Ae.has(a))return function(e){e=Ae.get(e);return{r:e>>16&255,g:e>>8&255,b:e>>0&255,a:1}}(a);if("transparent"===e)return{r:0,g:0,b:0,a:0};throw new Error("Unable to parse ".concat(e))}function ke(e,r,t){var e=function(e){var t=[],n=0,r=!1,o=e.indexOf("(");e=e.substring(o+1,e.length-1);for(var a=0;a<e.length;a++){var i=e[a];"0"<=i&&i<="9"||"."===i||"+"===i||"-"===i?r=!0:!r||" "!==i&&","!==i?r||(n=a+1):(t.push(e.substring(n,a)),r=!1,n=a+1)}return r&&t.push(e.substring(n,e.length)),t}(e),o=Object.entries(t);return e.map(function(e){return e.trim()}).map(function(t,e){var n=o.find(function(e){e=B(e,1)[0];return t.endsWith(e)}),n=n?parseFloat(t.substring(0,t.length-n[0].length))/n[1]*r[e]:parseFloat(t);return 1<r[e]?Math.round(n):n})}var we=[255,255,255,1],Ee={"%":100};var Ce=[360,1,1,1],xe={"%":100,deg:360,rad:2*Math.PI,turn:1};function Te(e){return"0"<=e&&e<="9"}function Re(e){return Math.floor(Math.log10(e))+1}function Ve(o){for(var e,t,a=0,n=function(){for(var e=0,t=1;t<4;t++){var n=o[a+t];if(" "===n)break;if(!Te(n))break;e*=10,e+=Number(n)}var r=Re(e);if("%"===o[(a+=r)+1])return a++,e};0!==(a=o.indexOf("calc("));){var r=a;a+=4;var i=n();if(!i)break;if(" "!==o[a+1])break;var c=o[++a+1];if("+"!==c&&"-"!==c)break;if(" "!==o[++a+1])break;a++;var u=n();if(!u)break;var s=void 0,s="".concat("+"===c?i+u:i-u,"%");e=a+2,t=s,o=o.substring(0,r)+t+o.substring(e)}return o}var Me=new Map(Object.entries({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074})),Ae=new Map(Object.entries({ActiveBorder:3906044,ActiveCaption:0,AppWorkspace:11184810,Background:6513614,ButtonFace:16777215,ButtonHighlight:15329769,ButtonShadow:10461343,ButtonText:0,CaptionText:0,GrayText:8355711,Highlight:11720703,HighlightText:0,InactiveBorder:16777215,InactiveCaption:16777215,InactiveCaptionText:0,InfoBackground:16514245,InfoText:0,Menu:16185078,MenuText:16777215,Scrollbar:11184810,ThreeDDarkShadow:0,ThreeDFace:12632256,ThreeDHighlight:16777215,ThreeDLightShadow:16777215,ThreeDShadow:0,Window:15527148,WindowFrame:11184810,WindowText:0,"-webkit-focus-ring-color":15046400}).map(function(e){var t=B(e,2),e=t[0],t=t[1];return[e.toLowerCase(),t]}));function Le(e,t,n,r,o){return(e-t)*(o-r)/(n-t)+r}function Pe(e,t,n){return Math.min(n,Math.max(t,e))}function Oe(e,t){for(var n=[],r=0,o=e.length;r<o;r++){n[r]=[];for(var a=0,i=t[0].length;a<i;a++){for(var c=0,u=0,s=e[0].length;u<s;u++)c+=e[r][u]*t[u][a];n[r][a]=c}}return n}function De(e,t,n){void 0===n&&(n=0);for(var r,o=[];r=e.exec(t);)o.push(r[n]);return o}function Ie(e,t){for(var n=e.length,r=0,o=-1,a=t=void 0===t?0:t;a<n;a++)if(0===r){if((i=e.indexOf("(",a))<0)break;r++,a=o=i}else{var i,c=e.indexOf(")",a);if(c<0)break;if((i=e.indexOf("(",a))<0||c<i){if(0===--r)return{start:o,end:c+1};a=c}else r++,a=i}return null}function Fe(e){var t=Ne();return 0!==e.sepia&&(t=Oe(t,qe(e.sepia/100))),0!==e.grayscale&&(t=Oe(t,We(e.grayscale/100))),100!==e.contrast&&(t=Oe(t,Ue(e.contrast/100))),100!==e.brightness&&(t=Oe(t,Be(e.brightness/100))),t=1===e.mode?Oe(t,je()):t}var Ne=function(){return[[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1]]},je=function(){return[[.333,-.667,-.667,0,1],[-.667,.333,-.667,0,1],[-.667,-.667,.333,0,1],[0,0,0,1,0],[0,0,0,0,1]]},Be=function(e){return[[e,0,0,0,0],[0,e,0,0,0],[0,0,e,0,0],[0,0,0,1,0],[0,0,0,0,1]]},Ue=function(e){var t=(1-e)/2;return[[e,0,0,0,t],[0,e,0,0,t],[0,0,e,0,t],[0,0,0,1,0],[0,0,0,0,1]]},qe=function(e){return[[.393+.607*(1-e),.769-.769*(1-e),.189-.189*(1-e),0,0],[.349-.349*(1-e),.686+.314*(1-e),.168-.168*(1-e),0,0],[.272-.272*(1-e),.534-.534*(1-e),.131+.869*(1-e),0,0],[0,0,0,1,0],[0,0,0,0,1]]},We=function(e){return[[.2126+.7874*(1-e),.7152-.7152*(1-e),.0722-.0722*(1-e),0,0],[.2126-.2126*(1-e),.7152+.2848*(1-e),.0722-.0722*(1-e),0,0],[.2126-.2126*(1-e),.7152-.7152*(1-e),.0722+.9278*(1-e),0,0],[0,0,0,1,0],[0,0,0,0,1]]};function He(e){return e[1===e.mode?"darkSchemeBackgroundColor":"lightSchemeBackgroundColor"]}function Ge(e){return e[1===e.mode?"darkSchemeTextColor":"lightSchemeTextColor"]}var ze=new Map,$e=new Map;function Qe(e){if($e.has(e))return $e.get(e);var t=me(_e(e));return $e.set(e,t),t}var Ke=["r","g","b","a"],Xe=["mode","brightness","contrast","grayscale","sepia","darkSchemeBackgroundColor","darkSchemeTextColor","lightSchemeBackgroundColor","lightSchemeTextColor"];function Ye(e,t,n,r,o){var a;ze.has(n)?a=ze.get(n):(a=new Map,ze.set(n,a));var i,c,u,s=(i=e,c=t,u="",Ke.forEach(function(e){u+="".concat(i[e],";")}),Xe.forEach(function(e){u+="".concat(c[e],";")}),u);if(a.has(s))return a.get(s);var l,d,f=pe(n(me(e),null==r?null:Qe(r),null==o?null:Qe(o))),h=f.r,p=f.g,n=f.b,e=f.a,r=Fe(t),t=B((o=r,f=B(f=[h,p,n],3),l=Oe(o,[[f[0]/255],[f[1]/255],[f[2]/255],[1],[1]]),[0,1,2].map(function(e){return Pe(Math.round(255*l[e][0]),0,255)})),3),r=t[0],h=t[1],p=t[2],d=1===e?(o=(n={r:r,g:h,b:p}).r,f=n.g,t=n.b,n=n.a,"#".concat((null!=n&&n<1?[o,f,t,Math.round(255*n)]:[o,f,t]).map(function(e){return"".concat(e<16?"0":"").concat(e.toString(16))}).join(""))):(p=(h={r:r,g:h,b:p,a:e}).r,e=h.g,d=h.b,null!=(h=h.a)&&h<1?"rgba(".concat(ge(p),", ").concat(ge(e),", ").concat(ge(d),", ").concat(ge(h,2),")"):"rgb(".concat(ge(p),", ").concat(ge(e),", ").concat(ge(d),")"));return a.set(s,d),d}function Ze(e){return e}function Je(e,t){var n=He(t);return Ye(e,t,et,Ge(t),n)}function et(e,t,n){var r=e.h,o=e.s,a=e.l,i=e.a,c=a<.5,u=r,e=a;return(c?a<.2||o<.12:o<.24||.8<a&&(200<r&&r<280))&&(e=c?(u=t.h,t.s):(u=n.h,n.s)),{h:u,s:e,l:Le(a,0,1,t.l,n.l),a:i}}function tt(e,t){var n=e.h,r=e.s,o=e.l,a=e.a,i=r<.12||.8<o&&(200<n&&n<280);if(o<.5){e=Le(o,0,.5,0,.4);return i?{h:t.h,s:t.s,l:e,a:a}:{h:n,s:r,l:e,a:a}}o=Le(o,.5,1,.4,t.l);if(i)return{h:t.h,s:t.s,l:o,a:a};t=n;return 40<(t=60<n&&n<180?120<n?Le(n,120,180,135,180):Le(n,60,120,60,105):t)&&t<80&&(o*=.75),{h:t,s:r,l:o,a:a}}function nt(e,t){if(0===t.mode)return Je(e,t);var n=He(t);return Ye(e,d(d({},t),{mode:0}),tt,n)}var rt;function ot(e){return Le(e,205,245,205,220)}function at(e,t){var n=e.h,r=e.s,o=e.l,a=e.a,i=o<.2||r<.24,c=!i&&205<n&&n<245;if(.5<o){e=Le(o,.5,1,.55,t.l);if(i)return{h:t.h,s:t.s,l:e,a:a};return{h:c?ot(n):n,s:r,l:e,a:a}}if(i)return{h:t.h,s:t.s,l:Le(o,0,.5,t.l,.55),a:a};i=n,t=c?(i=ot(n),Le(o,0,.5,t.l,Math.min(1,.55+.05))):Le(o,0,.5,t.l,.55);return{h:i,s:r,l:t,a:a}}function it(e,t){if(0===t.mode)return Je(e,t);var n=Ge(t);return Ye(e,d(d({},t),{mode:0}),at,n)}function ct(e,t,n){var r=e.h,o=e.s,a=e.l,i=e.a,e=r,r=o;return(a<.2||o<.24)&&(r=a<.5?(e=t.h,t.s):(e=n.h,n.s)),{h:e,s:r,l:Le(a,0,1,.5,.2),a:i}}function ut(e,t){if(0===t.mode)return Je(e,t);var n=Ge(t),r=He(t);return Ye(e,d(d({},t),{mode:0}),ct,n,r)}function st(e,t){return nt(e,t)}function lt(e){var t=[];return e.mode===rt.dark&&t.push("invert(100%) hue-rotate(180deg)"),100!==e.brightness&&t.push("brightness(".concat(e.brightness,"%)")),100!==e.contrast&&t.push("contrast(".concat(e.contrast,"%)")),0!==e.grayscale&&t.push("grayscale(".concat(e.grayscale,"%)")),0!==e.sepia&&t.push("sepia(".concat(e.sepia,"%)")),0===t.length?null:t.join(" ")}(r=rt=rt||{})[r.light=0]="light",r[r.dark=1]="dark";var dt=0,ft=new Map,ht=new Map;function pt(r){return F(this,void 0,void 0,function(){return N(this,function(e){return[2,new Promise(function(e,t){var n=++dt;ft.set(n,e),ht.set(n,t),chrome.runtime.sendMessage({type:u.CS_FETCH,data:r,id:n})})]})})}function mt(){this.queue=[],this.timerId=null,this.frameDuration=1e3/60}chrome.runtime.onMessage.addListener(function(e){var t=e.type,n=e.data,r=e.error,o=e.id;t===u.BG_FETCH_RESPONSE&&(e=ft.get(o),t=ht.get(o),ft.delete(o),ht.delete(o),r?t&&t(r):e&&e(n))});var gt=new(mt.prototype.addToQueue=function(e){this.queue.push(e),this.startQueue()},mt.prototype.stopQueue=function(){null!==this.timerId&&(cancelAnimationFrame(this.timerId),this.timerId=null),this.queue=[]},mt.prototype.startQueue=function(){var n=this;this.timerId||(this.timerId=requestAnimationFrame(function(){n.timerId=null;for(var e,t=Date.now();e=n.queue.shift();)if(e(),Date.now()-t>=n.frameDuration){n.startQueue();break}}))},mt);function vt(i){return F(this,void 0,void 0,function(){var t=this;return N(this,function(e){return[2,new Promise(function(o,a){return F(t,void 0,void 0,function(){var t,n,r;return N(this,function(e){switch(e.label){case 0:return i.startsWith("data:")?(t=i,[3,4]):[3,1];case 1:return e.trys.push([1,3,,4]),[4,function(t){return F(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return new URL(t).origin!==location.origin?[3,2]:[4,s(t)];case 1:return[2,e.sent()];case 2:return[4,pt({url:t,responseType:"data-url"})];case 3:return[2,e.sent()]}})})}(i)];case 2:return t=e.sent(),[3,4];case 3:return r=e.sent(),a(r),[2];case 4:return e.trys.push([4,6,,7]),[4,function(r){return F(this,void 0,void 0,function(){return N(this,function(e){return[2,new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=function(){return t("Unable to load image ".concat(r))},n.src=r})]})})}(t)];case 5:return n=e.sent(),gt.addToQueue(function(){o(d({src:i,dataURL:t,width:n.naturalWidth,height:n.naturalHeight},function(e){bt||function(){var e=St,t=St;(bt=document.createElement("canvas")).width=e,bt.height=t,(yt=bt.getContext("2d")).imageSmoothingEnabled=!1}();var t=e.naturalWidth,n=e.naturalHeight;if(0===n||0===t)return H("logWarn(Image is empty ".concat(e.currentSrc,")")),null;if(_t<t*n*4)return W("Skipped large image analyzing(Larger than 5mb in memory)"),{isDark:!1,isLight:!1,isTransparent:!1,isLarge:!1,isTooLarge:!0};var r=t*n,o=Math.min(1,Math.sqrt(St/r)),a=Math.ceil(t*o),i=Math.ceil(n*o);yt.clearRect(0,0,a,i),yt.drawImage(e,0,0,t,n,0,0,a,i);var c,u,s,l,d,f,h=yt.getImageData(0,0,a,i).data,p=0,m=0,g=0;for(s=0;s<i;s++)for(u=0;u<a;u++)l=h[0+(c=4*(s*a+u))],d=h[1+c],f=h[2+c],h[3+c]/255<.05?p++:((f=(.2126*l+.7152*d+.0722*f)/255)<.4&&m++,.7<f&&g++);t=a*i,n=t-p;return{isDark:.7<=m/n,isLight:.7<=g/n,isTransparent:.1<=p/t,isLarge:48e4<=r,isTooLarge:!1}}(n)))}),[3,7];case 6:return r=e.sent(),a(r),[3,7];case 7:return[2]}})})})]})})}var bt,yt,St=1024;var _t=5242880;function kt(e,t){var n=e.dataURL,r=e.width,e=e.height,t=Fe(t).slice(0,4).map(function(e){return e.map(function(e){return e.toFixed(3)}).join(" ")}).join(" "),n=['<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'.concat(r,'" height="').concat(e,'">'),"<defs>",'<filter id="darkreader-image-filter">','<feColorMatrix type="matrix" values="'.concat(t,'" />'),"</filter>","</defs>",'<image width="'.concat(r,'" height="').concat(e,'" filter="url(#darkreader-image-filter)" xlink:href="').concat(n,'" />'),"</svg>"].join("");return"data:image/svg+xml;base64,".concat(btoa(n))}function wt(){gt&&gt.stopQueue(),yt=bt=null}var Et="gradient".length,Ct="conic-",xt=Ct.length,Tt="radial-",Rt="linear-";function Vt(r){for(var o,a=[],i=Ct.length;-1!==(o=r.indexOf("gradient",i));)if("break"===function(){var t;if([Rt,Tt,Ct].find(function(e){if(0<=o-e.length&&r.substring(o-e.length,o)===e)return t=("repeating"===r.slice(o-e.length-10,o-e.length-1)?"repeating-":"-webkit"===r.slice(o-e.length-8,o-e.length-1)?"-webkit-":"").concat(e,"gradient"),!0}),!t)return"break";var e=Ie(r,o+Et),n=e.start,e=e.end,n=r.substring(n+1,e-1);i=e+1+xt,a.push({type:t,content:n,hasComma:!0})}())break;return a.length&&(a[a.length-1].hasComma=!1),a}function Mt(e,t){return Boolean(e&&e.getPropertyPriority(t))}function At(e,t,n,r,o,a){var i,c;if(e.startsWith("--")){if(i=r.getModifierForVariable({varName:e,sourceValue:t,rule:n,ignoredImgSelectors:o,isCancelled:a}))return{property:e,value:i,important:Mt(n.style,e),sourceValue:t}}else if(t.includes("var(")){if(i=r.getModifierForVarDependant(e,t))return{property:e,value:i,important:Mt(n.style,e),sourceValue:t}}else if(e.includes("color")&&"-webkit-print-color-adjust"!==e||"fill"===e||"stroke"===e||"stop-color"===e){if(i=function(e,t){if(It.has(t.toLowerCase()))return t;try{var n=Nt(t);return e.includes("background")?function(e){return nt(n,e)}:e.includes("border")||e.includes("outline")?function(e){return ut(n,e)}:function(e){return it(n,e)}}catch(e){return H("Color parse error",e),null}}(e,t))return{property:e,value:i,important:Mt(n.style,e),sourceValue:t}}else if("background-image"===e||"list-style-image"===e){if(i=Wt(t,n,o,a))return{property:e,value:i,important:Mt(n.style,e),sourceValue:t}}else if(e.includes("shadow"))if(i=(c=Ht(t))?function(e){return c(e).result}:null)return{property:e,value:i,important:Mt(n.style,e),sourceValue:t};return null}function Lt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(Boolean).join(", ")}function Pt(e,t,n){var r=[];t||(r.push("html {"),r.push("    background-color: ".concat(nt({r:255,g:255,b:255},e)," !important;")),r.push("}")),c&&(r.push("html {"),r.push("    color-scheme: ".concat(1===e.mode?"dark":"dark light"," !important;")),r.push("}"));var o,a,i,t=Lt(t?"":"html, body",n?"input, textarea, select, button":"");return t&&(r.push("".concat(t," {")),r.push("    background-color: ".concat(nt({r:255,g:255,b:255},e),";")),r.push("}")),r.push("".concat(Lt("html, body",n?"input, textarea, select, button":"")," {")),r.push("    border-color: ".concat(ut({r:76,g:76,b:76},e),";")),r.push("    color: ".concat(it({r:0,g:0,b:0},e),";")),r.push("}"),r.push("a {"),r.push("    color: ".concat(it({r:0,g:64,b:255},e),";")),r.push("}"),r.push("table {"),r.push("    border-color: ".concat(ut({r:128,g:128,b:128},e),";")),r.push("}"),r.push("::placeholder {"),r.push("    color: ".concat(it({r:169,g:169,b:169},e),";")),r.push("}"),r.push("input:-webkit-autofill,"),r.push("textarea:-webkit-autofill,"),r.push("select:-webkit-autofill {"),r.push("    background-color: ".concat(nt({r:250,g:255,b:189},e)," !important;")),r.push("    color: ".concat(it({r:0,g:0,b:0},e)," !important;")),r.push("}"),e.scrollbarColor&&r.push(function(e){var t,n,r,o,a,i,c=[];{var u,s,l;"auto"===e.scrollbarColor?(t=nt({r:241,g:241,b:241},e),n=it({r:96,g:96,b:96},e),r=nt({r:176,g:176,b:176},e),o=nt({r:144,g:144,b:144},e),a=nt({r:96,g:96,b:96},e),i=nt({r:255,g:255,b:255},e)):(u=me(_e(e.scrollbarColor)),s=.5<u.l,l=function(e){return d(d({},u),{l:Pe(u.l+e,0,1)})},t=ve((e=function(e){return d(d({},u),{l:Pe(u.l-e,0,1)})})(.4)),n=ve((s?e:l)(.4)),r=ve(u),o=ve(l(.1)),a=ve(l(.2)))}c.push("::-webkit-scrollbar {"),c.push("    background-color: ".concat(t,";")),c.push("    color: ".concat(n,";")),c.push("}"),c.push("::-webkit-scrollbar-thumb {"),c.push("    background-color: ".concat(r,";")),c.push("}"),c.push("::-webkit-scrollbar-thumb:hover {"),c.push("    background-color: ".concat(o,";")),c.push("}"),c.push("::-webkit-scrollbar-thumb:active {"),c.push("    background-color: ".concat(a,";")),c.push("}"),c.push("::-webkit-scrollbar-corner {"),c.push("    background-color: ".concat(i,";")),c.push("}"),f&&(c.push("* {"),c.push("    scrollbar-color: ".concat(r," ").concat(t,";")),c.push("}"));return c.join("\n")}(e)),e.selectionColor&&r.push((o=[],e=Ot(e=e),a=e.backgroundColorSelection,i=e.foregroundColorSelection,["::selection","::-moz-selection"].forEach(function(e){o.push("".concat(e," {")),o.push("    background-color: ".concat(a," !important;")),o.push("    color: ".concat(i," !important;")),o.push("}")}),o.join("\n"))),r.join("\n")}function Ot(e){var t,n;return n="auto"===e.selectionColor?(t=nt({r:0,g:96,b:212},d(d({},e),{grayscale:0})),it({r:255,g:255,b:255},d(d({},e),{grayscale:0}))):(n=me(_e(e.selectionColor)),t=e.selectionColor,n.l<.5?"#FFF":"#000"),{backgroundColorSelection:t,foregroundColorSelection:n}}function Dt(e,t){var n=t.strict,r=[],t=location.hostname.endsWith("microsoft.com");return r.push("html, body, ".concat(n?"body :not(iframe)".concat(t?':not(div[style^="position:absolute;top:0;left:-"]':""):"body > :not(iframe)"," {")),r.push("    background-color: ".concat(nt({r:255,g:255,b:255},e)," !important;")),r.push("    border-color: ".concat(ut({r:64,g:64,b:64},e)," !important;")),r.push("    color: ".concat(it({r:0,g:0,b:0},e)," !important;")),r.push("}"),r.join("\n")}var It=new Set(["inherit","transparent","initial","currentcolor","none","unset"]),Ft=new Map;function Nt(e){if(e=e.trim(),Ft.has(e))return Ft.get(e);var t=_e(e=e.includes("calc(")?Ve(e):e);return Ft.set(e,t),t}function jt(e){try{return Nt(e)}catch(e){return null}}var Bt=new Map,Ut=new Map;function qt(e,n){if(e&&0!==n.length){if(n.some(function(e){return"*"===e}))return 1;for(var r=e.split(/,\s*/g),t=0;t<n.length;t++){var o=function(e){var t=n[e];if(r.some(function(e){return e===t}))return{value:!0}}(t);if("object"==typeof o)return o.value}}}function Wt(f,h,p,m){var n,g=this;try{var e=Vt(f),t=De(ae,f);if(0===t.length&&0===e.length)return f;var v=(n=0,t.map(function(e){var t=f.indexOf(e,n);return n=t+e.length,{match:e,index:t}}).map(function(e){return{type:"url",urlInfo:e}}).concat(e.map(function(e){return{type:"gradient",gradientInfo:e}}))),b=function(e,t){var n=e.isDark,r=e.isLight,o=e.isTransparent,a=e.isLarge,i=e.isTooLarge,c=e.width;return i?'url("'.concat(e.src,'")'):n&&o&&1===t.mode&&!a&&2<c?(W("Inverting dark image ".concat(e.src)),c=kt(e,d(d({},t),{sepia:Pe(t.sepia+10,0,100)})),'url("'.concat(c,'")')):r&&!o&&1===t.mode?a?"none":(W("Dimming light image ".concat(e.src)),o=kt(e,t),'url("'.concat(o,'")')):0===t.mode&&r&&!a?(W("Applying filter to image ".concat(e.src)),t=kt(e,d(d({},t),{brightness:Pe(t.brightness-10,5,200),sepia:Pe(t.sepia+10,0,100)})),'url("'.concat(t,'")')):null},y=[],S=0;return v.forEach(function(e,t){var n,r,o,a,i,c,u,s=e.type,l=e.urlInfo,d=e.gradientInfo;"url"===s?(e=l.match,n=l.index,r=S,o=n+e.length,S=o,y.push(function(){return f.substring(r,n)}),y.push(function(e){if(qt(h.selectorText,p))return null;var o=ce(e),e=h.parentStyleSheet,o=ee(e&&e.href?ue(e.href):(null===(e=e.ownerNode)||void 0===e?void 0:e.baseURI)||location.origin,o),a='url("'.concat(o,'")');return function(r){return F(g,void 0,void 0,function(){var t,n;return N(this,function(e){switch(e.label){case 0:return Bt.has(o)?(t=Bt.get(o),[3,7]):[3,1];case 1:return(e.trys.push([1,6,,7]),Ut.has(o))?(n=Ut.get(o),[4,new Promise(function(e){return n.push(e)})]):[3,3];case 2:return(t=e.sent())?[3,5]:[2,null];case 3:return Ut.set(o,[]),[4,vt(o)];case 4:t=e.sent(),Bt.set(o,t),Ut.get(o).forEach(function(e){return e(t)}),Ut.delete(o),e.label=5;case 5:return m()?[2,null]:[3,7];case 6:return H(e.sent()),Ut.has(o)&&(Ut.get(o).forEach(function(e){return e(null)}),Ut.delete(o)),[2,a];case 7:return[2,b(t,r)||a]}})})}}(e)),t===v.length-1&&y.push(function(){return f.substring(o)})):"gradient"===s&&y.push((a=d.type,s=d.content,i=d.hasComma,c=/^(from|color-stop|to)\(([^\(\)]*?,\s*)?(.*?)\)$/,u=De(/([^\(\),]+(\([^\(\)]*(\([^\(\)]*\)*[^\(\)]*)?\))?[^\(\),]*),?/g,s,1).map(function(t){var n=jt(t=t.trim());if(n)return function(e){return st(n,e)};var r=t.lastIndexOf(" ");if(n=jt(t.substring(0,r)))return function(e){return"".concat(st(n,e)," ").concat(t.substring(r+1))};var o=t.match(c);return o&&(n=jt(o[3]))?function(e){return"".concat(o[1],"(").concat(o[2]?"".concat(o[2],", "):"").concat(st(n,e),")")}:function(){return t}}),function(t){return"".concat(a,"(").concat(u.map(function(e){return e(t)}).join(", "),")").concat(i?", ":"")}))}),function(t){var e=y.filter(Boolean).map(function(e){return e(t)});return e.some(function(e){return e instanceof Promise})?Promise.all(e).then(function(e){var t="",n=!1;return e.filter(Boolean).forEach(function(e){n&&(e&&(t+=", "),n=!1),t+=e,e.startsWith("url(")&&(n=!0)}),t}):e.join("")}}catch(e){return H("Unable to parse gradient ".concat(f),e),null}}function Ht(i){try{var c=0,u=De(/(^|\s)(?!calc)([a-z]+\(.+?\)|#[0-9a-f]+|[a-z]+)(.*?(inset|outset)?($|,))/gi,i,2),s=0,n=u.map(function(e,t){var n=c,r=i.indexOf(e,c),o=r+e.length;c=o;var a=jt(e);return a?function(e){return"".concat(i.substring(n,r)).concat(nt(a,e)).concat(t===u.length-1?i.substring(o):"")}:(s++,function(){return i.substring(n,o)})});return function(t){var e=n.map(function(e){return e(t)}).join("");return{matchesLength:u.length,unparseableMatchesLength:s,result:e}}}catch(e){return H("Unable to parse shadow ".concat(i),e),null}}function Gt(){Ft.clear(),ze.clear(),$e.clear(),Bt.clear(),wt(),Ut.clear()}function zt(){this.varTypes=new Map,this.rulesQueue=[],this.definedVars=new Set,this.varRefs=new Map,this.unknownColorVars=new Set,this.unknownBgVars=new Set,this.undefinedVars=new Set,this.initialVarTypes=new Map,this.changedTypeVars=new Set,this.typeChangeSubscriptions=new Map,this.unstableVarValues=new Map}var $t=new(zt.prototype.clear=function(){this.varTypes.clear(),this.rulesQueue.splice(0),this.definedVars.clear(),this.varRefs.clear(),this.unknownColorVars.clear(),this.unknownBgVars.clear(),this.undefinedVars.clear(),this.initialVarTypes.clear(),this.changedTypeVars.clear(),this.typeChangeSubscriptions.clear(),this.unstableVarValues.clear()},zt.prototype.isVarType=function(e,t){return this.varTypes.has(e)&&0<(this.varTypes.get(e)&t)},zt.prototype.addRulesForMatching=function(e){this.rulesQueue.push(e)},zt.prototype.matchVariablesAndDependants=function(){var n=this;this.changedTypeVars.clear(),this.initialVarTypes=new Map(this.varTypes),this.collectRootVariables(),this.collectVariablesAndVarDep(this.rulesQueue),this.rulesQueue.splice(0),this.collectRootVarDependants(),this.varRefs.forEach(function(e,t){e.forEach(function(e){n.varTypes.has(t)&&n.resolveVariableType(e,n.varTypes.get(t))})}),this.unknownColorVars.forEach(function(e){n.unknownBgVars.has(e)?(n.unknownColorVars.delete(e),n.unknownBgVars.delete(e),n.resolveVariableType(e,1)):n.isVarType(e,7)?n.unknownColorVars.delete(e):n.undefinedVars.add(e)}),this.unknownBgVars.forEach(function(e){null!=n.findVarRef(e,function(e){return n.unknownColorVars.has(e)||n.isVarType(e,6)})?n.itarateVarRefs(e,function(e){n.resolveVariableType(e,1)}):n.isVarType(e,9)?n.unknownBgVars.delete(e):n.undefinedVars.add(e)}),this.changedTypeVars.forEach(function(e){n.typeChangeSubscriptions.has(e)&&n.typeChangeSubscriptions.get(e).forEach(function(e){e()})}),this.changedTypeVars.clear()},zt.prototype.getModifierForVariable=function(e){var l=this;return function(i){function n(){var e,t,a=[],n=function(e,t,n){var r,o;l.isVarType(c,e)&&(r=t(c),o=rn(u)?on(u)?(o=dn(u,l.unstableVarValues),n(o=o||(1===e?"#ffffff":"#000000"),i)):Yt(u,function(e){return t(e)},function(e){return n(e,i)}):n(u,i),a.push({property:r,value:o}))};return n(1,Zt,un),n(2,Jt,sn),n(4,en,ln),l.isVarType(c,8)&&(e=tn(c),t="function"==typeof(n=Wt(t=rn(t=u)?Yt(u,Zt,function(e){return un(e,i)}):t,r,o,s))?n(i):n,a.push({property:e,value:t})),a}var c=e.varName,u=e.sourceValue,r=e.rule,o=e.ignoredImgSelectors,s=e.isCancelled,a=new Set;return{declarations:n(),onTypeChange:{addListener:function(t){function e(){var e=n();t(e)}a.add(e),l.subscribeForVarTypeChange(c,e)},removeListeners:function(){a.forEach(function(e){l.unsubscribeFromVariableTypeChanges(c,e)})}}}}},zt.prototype.getModifierForVarDependant=function(r,i){var c=this;if(i.match(/^\s*(rgb|hsl)a?\(/)){var n=r.startsWith("background"),o="color"===r||"caret-color"===r;return function(e){var t=dn(i,c.unstableVarValues);return(n?un:o?sn:ln)(t=t||(n?"#ffffff":"#000000"),e)}}return"background-color"===r?function(t){return Yt(i,Zt,function(e){return un(e,t)})}:"color"===r||"caret-color"===r?function(t){return Yt(i,Jt,function(e){return sn(e,t)})}:"background"===r||"background-image"===r||"box-shadow"===r?function(n){function o(){var e=Yt(i,function(e){return c.isVarType(e,1)?Zt(e):c.isVarType(e,8)?tn(e):(a.add(e),e)},function(e){return un(e,n)});if("box-shadow"===r){var t=Ht(e)(n);if(t.unparseableMatchesLength!==t.matchesLength)return t.result}return e}var a=new Set,e=o();return 0<a.size?new Promise(function(t){function n(){c.unsubscribeFromVariableTypeChanges(r,n);var e=o();t(e)}var r=a.values().next().value;c.subscribeForVarTypeChange(r,n)}):e}:r.startsWith("border")||r.startsWith("outline")?function(t){return Yt(i,en,function(e){return ln(e,t)})}:null},zt.prototype.subscribeForVarTypeChange=function(e,t){this.typeChangeSubscriptions.has(e)||this.typeChangeSubscriptions.set(e,new Set);e=this.typeChangeSubscriptions.get(e);e.has(t)||e.add(t)},zt.prototype.unsubscribeFromVariableTypeChanges=function(e,t){this.typeChangeSubscriptions.has(e)&&this.typeChangeSubscriptions.get(e).delete(t)},zt.prototype.collectVariablesAndVarDep=function(e){var n=this;e.forEach(function(e){te(e,function(e){e.style&&oe(e.style,function(e,t){nn(e)&&n.inspectVariable(e,t),rn(t)&&n.inspectVarDependant(e,t)})})})},zt.prototype.collectRootVariables=function(){var n=this;oe(document.documentElement.style,function(e,t){nn(e)&&n.inspectVariable(e,t)})},zt.prototype.inspectVariable=function(e,t){this.unstableVarValues.set(e,t),rn(t)&&on(t)&&(this.unknownColorVars.add(e),this.definedVars.add(e)),this.definedVars.has(e)||(this.definedVars.add(e),jt(t)?this.unknownColorVars.add(e):(t.includes("url(")||t.includes("linear-gradient(")||t.includes("radial-gradient("))&&this.resolveVariableType(e,8))},zt.prototype.resolveVariableType=function(e,t){var n=this.initialVarTypes.get(e)||0,t=(this.varTypes.get(e)||0)|t;this.varTypes.set(e,t),t===n&&!this.undefinedVars.has(e)||(this.changedTypeVars.add(e),this.undefinedVars.delete(e)),this.unknownColorVars.delete(e),this.unknownBgVars.delete(e)},zt.prototype.collectRootVarDependants=function(){var n=this;oe(document.documentElement.style,function(e,t){rn(t)&&n.inspectVarDependant(e,t)})},zt.prototype.inspectVarDependant=function(t,e){var n=this;nn(t)?this.iterateVarDeps(e,function(e){n.varRefs.has(t)||n.varRefs.set(t,new Set),n.varRefs.get(t).add(e)}):"background-color"===t||"box-shadow"===t?this.iterateVarDeps(e,function(e){return n.resolveVariableType(e,1)}):"color"===t||"caret-color"===t?this.iterateVarDeps(e,function(e){return n.resolveVariableType(e,2)}):t.startsWith("border")||t.startsWith("outline")?this.iterateVarDeps(e,function(e){return n.resolveVariableType(e,4)}):"background"!==t&&"background-image"!==t||this.iterateVarDeps(e,function(e){var t;n.isVarType(e,9)||(t=null!=n.findVarRef(e,function(e){return n.unknownColorVars.has(e)||n.isVarType(e,6)}),n.itarateVarRefs(e,function(e){t?n.resolveVariableType(e,1):n.unknownBgVars.add(e)}))})},zt.prototype.iterateVarDeps=function(e,t){var n,r=new Set;n=function(e){return r.add(e)},Yt(e,function(e){return n(e),e}),r.forEach(function(e){return t(e)})},zt.prototype.findVarRef=function(e,t,n){var r,o;if((n=void 0===n?new Set:n).has(e))return null;if(n.add(e),t(e))return e;e=this.varRefs.get(e);if(!e||0===e.size)return null;try{for(var a=j(e),i=a.next();!i.done;i=a.next()){var c=i.value,u=this.findVarRef(c,t,n);if(u)return u}}catch(e){r={error:e}}finally{try{i&&!i.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return null},zt.prototype.itarateVarRefs=function(e,t){this.findVarRef(e,function(e){return t(e),!1})},zt.prototype.setOnRootVariableChange=function(e){this.onRootVariableDefined=e},zt.prototype.putRootVars=function(e,n){var t,r=this,e=e.sheet;0<e.cssRules.length&&e.deleteRule(0);var o=new Map;oe(document.documentElement.style,function(e,t){nn(e)&&(r.isVarType(e,1)&&o.set(Zt(e),un(t,n)),r.isVarType(e,2)&&o.set(Jt(e),sn(t,n)),r.isVarType(e,4)&&o.set(en(e),ln(t,n)),r.subscribeForVarTypeChange(e,r.onRootVariableDefined))});var a=[];a.push(":root {");try{for(var i=j(o),c=i.next();!c.done;c=i.next()){var u=B(c.value,2),s=u[0],l=u[1];a.push("    ".concat(s,": ").concat(l,";"))}}catch(e){d={error:e}}finally{try{c&&!c.done&&(t=i.return)&&t.call(i)}finally{if(d)throw d.error}}a.push("}");var d=a.join("\n");e.insertRule(d)},zt);function Qt(e){for(var t,n=[],r=0;t=function(e,t){if(0<=(t=e.indexOf("var(",t=void 0===t?0:t))){e=Ie(e,t+3);return e?{start:t,end:e.end}:null}}(e,r);){var o=t.start,a=t.end;n.push({start:o,end:a,value:e.substring(o,a)}),r=t.end+1}return n}function Kt(e,t){var n=Qt(e),r=n.length;if(0===r)return e;var o=e.length,a=n.map(function(e){return t(e.value)}),i=[];i.push(e.substring(0,n[0].start));for(var c=0;c<r;c++){i.push(a[c]);var u=n[c].end,s=c<r-1?n[c+1].start:o;i.push(e.substring(u,s))}return i.join("")}function Xt(e){var t,n=e.indexOf(","),e=0<=n?(t=e.substring(4,n).trim(),e.substring(n+1,e.length-1).trim()):(t=e.substring(4,e.length-1).trim(),"");return{name:t,fallback:e}}function Yt(e,n,r){return Kt(e,function(e){var t=Xt(e),e=t.name,t=t.fallback,e=n(e);return t?(t=rn(t)?Yt(t,n,r):r?r(t):t,"var(".concat(e,", ").concat(t,")")):"var(".concat(e,")")})}function Zt(e){return"--darkreader-bg".concat(e)}function Jt(e){return"--darkreader-text".concat(e)}function en(e){return"--darkreader-border".concat(e)}function tn(e){return"--darkreader-bgimg".concat(e)}function nn(e){return e.startsWith("--")}function rn(e){return e.includes("var(")}function on(e){return e.match(/^\s*(rgb|hsl)a?\(/)}var an=/^\d{1,3}, ?\d{1,3}, ?\d{1,3}$/;function cn(e,t,n){var r=function(e){if(an.test(e)){var t=e.split(","),n="rgb(";return t.forEach(function(e){n+="".concat(e.trim(),", ")}),n=n.substr(0,n.length-2),{isRaw:!0,color:n+=")"}}return{isRaw:!1,color:e}}(e),o=r.isRaw,e=r.color,r=jt(e);if(r){t=n(r,t);if(o){o=jt(t);return o?"".concat(o.r,", ").concat(o.g,", ").concat(o.b):t}return t}return e}function un(e,t){return cn(e,t,nt)}function sn(e,t){return cn(e,t,it)}function ln(e,t){return cn(e,t,ut)}function dn(e,n,r){void 0===r&&(r=new Set);var o=!1,e=Kt(e,function(e){var t=Xt(e),e=t.name,t=t.fallback;if(r.has(e))return o=!0,null;r.add(e);e=n.get(e)||t,t=null;return(t=e?rn(e)?dn(e,n,r):e:t)?t:(o=!0,null)});return o?null:e}var fn={"background-color":{customProp:"--darkreader-inline-bgcolor",cssProp:"background-color",dataAttr:"data-darkreader-inline-bgcolor"},"background-image":{customProp:"--darkreader-inline-bgimage",cssProp:"background-image",dataAttr:"data-darkreader-inline-bgimage"},"border-color":{customProp:"--darkreader-inline-border",cssProp:"border-color",dataAttr:"data-darkreader-inline-border"},"border-bottom-color":{customProp:"--darkreader-inline-border-bottom",cssProp:"border-bottom-color",dataAttr:"data-darkreader-inline-border-bottom"},"border-left-color":{customProp:"--darkreader-inline-border-left",cssProp:"border-left-color",dataAttr:"data-darkreader-inline-border-left"},"border-right-color":{customProp:"--darkreader-inline-border-right",cssProp:"border-right-color",dataAttr:"data-darkreader-inline-border-right"},"border-top-color":{customProp:"--darkreader-inline-border-top",cssProp:"border-top-color",dataAttr:"data-darkreader-inline-border-top"},"box-shadow":{customProp:"--darkreader-inline-boxshadow",cssProp:"box-shadow",dataAttr:"data-darkreader-inline-boxshadow"},color:{customProp:"--darkreader-inline-color",cssProp:"color",dataAttr:"data-darkreader-inline-color"},fill:{customProp:"--darkreader-inline-fill",cssProp:"fill",dataAttr:"data-darkreader-inline-fill"},stroke:{customProp:"--darkreader-inline-stroke",cssProp:"stroke",dataAttr:"data-darkreader-inline-stroke"},"outline-color":{customProp:"--darkreader-inline-outline",cssProp:"outline-color",dataAttr:"data-darkreader-inline-outline"},"stop-color":{customProp:"--darkreader-inline-stopcolor",cssProp:"stop-color",dataAttr:"data-darkreader-inline-stopcolor"}},hn=Object.values(fn),pn={};hn.forEach(function(e){var t=e.cssProp,e=e.customProp;return pn[e]=t});var mn=["style","fill","stop-color","stroke","bgcolor","color"],gn=mn.map(function(e){return"[".concat(e,"]")}).join(", ");function vn(){return hn.map(function(e){var t=e.dataAttr,n=e.customProp,e=e.cssProp;return["[".concat(t,"] {"),"  ".concat(e,": var(").concat(n,") !important;"),"}"].join("\n")}).join("\n")}var bn=new Map,yn=new Map;function Sn(e,r,o){bn.has(e)&&(bn.get(e).disconnect(),yn.get(e).disconnect());var a=new WeakSet;function t(t){var e,n;n=[],(e=t)instanceof Element&&e.matches(gn)&&n.push(e),(e instanceof Element||h&&e instanceof ShadowRoot||e instanceof Document)&&E(n,e.querySelectorAll(gn)),n.forEach(function(e){a.has(e)||(a.add(e),r(e))}),R(t,function(e){a.has(t)||(a.add(t),o(e.shadowRoot),Sn(e.shadowRoot,r,o))})}var n=X(e,{onMinorMutations:function(e){e.additions.forEach(t)},onHugeMutations:function(){t(e)}});bn.set(e,n);var i=0,c=null,u=x({seconds:10}),s=x({seconds:2}),l=[],d=null,f=C(function(e){e.forEach(function(e){mn.includes(e.attributeName)&&r(e.target)})}),n=new MutationObserver(function(e){if(d)l.push.apply(l,T([],B(e),!1));else{i++;var t=Date.now();if(null==c)c=t;else if(50<=i){if(t-c<u)return d=setTimeout(function(){i=0,d=c=null;var e=l;l=[],f(e)},s),void l.push.apply(l,T([],B(e),!1));c=t,i=1}f(e)}});n.observe(e,{attributes:!0,attributeFilter:mn.concat(hn.map(function(e){return e.dataAttr})),subtree:!0}),yn.set(e,n)}var _n=new WeakMap,kn=["brightness","contrast","grayscale","sepia","mode"];function wn(t,n){return mn.map(function(e){return"".concat(e,'="').concat(t.getAttribute(e),'"')}).concat(kn.map(function(e){return"".concat(e,'="').concat(n[e],'"')})).join(" ")}function En(i,c,e,u){var s,n,t;function r(e,t,n){var r=e.startsWith("--"),o=r?{}:fn[e],a=o.customProp,o=o.dataAttr,n=At(t,n,{},$t,u,null);n&&("function"==typeof(n=n.value)&&(n=n(c)),r&&"object"==typeof n?n.declarations.forEach(function(e){var t=e.property,e=e.value;e instanceof Promise||i.style.setProperty(t,e)}):(i.style.setProperty(a,n),i.hasAttribute(o)||i.setAttribute(o,""),s.delete(e)))}wn(i,c)!==_n.get(i)&&(s=new Set(Object.keys(fn)),0<e.length&&function(e,t){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e.matches(o))return 1}}(i,e)?s.forEach(function(e){i.removeAttribute(fn[e].dataAttr)}):(i.hasAttribute("bgcolor")&&r("background-color","background-color",t=(t=i.getAttribute("bgcolor")).match(/^[0-9a-f]{3}$/i)||t.match(/^[0-9a-f]{6}$/i)?"#".concat(t):t),i.hasAttribute("color")&&"mask-icon"!==i.rel&&r("color","color",t=(t=i.getAttribute("color")).match(/^[0-9a-f]{3}$/i)||t.match(/^[0-9a-f]{6}$/i)?"#".concat(t):t),i instanceof SVGElement&&(!i.hasAttribute("fill")||"none"!==(n=i.getAttribute("fill"))&&(i instanceof SVGTextElement?r("fill","color",n):(e=function(){var e=i.getBoundingClientRect(),t=e.width,e=e.height;r("fill",32<t||32<e?"background-color":"color",n)},P()?e():$(e))),i.hasAttribute("stop-color")&&r("stop-color","background-color",i.getAttribute("stop-color"))),i.hasAttribute("stroke")&&(t=i.getAttribute("stroke"),r("stroke",i instanceof SVGLineElement||i instanceof SVGTextElement?"border-color":"color",t)),i.style&&oe(i.style,function(e,t){"background-image"===e&&t.includes("url")||(fn.hasOwnProperty(e)||e.startsWith("--")&&!pn[e]?r(e,e,t):!(t=pn[e])||i.style.getPropertyValue(t)||i.hasAttribute(t)||"background-color"===t&&i.hasAttribute("bgcolor")||i.style.setProperty(e,""))}),i.style&&i instanceof SVGTextElement&&i.style.fill&&r("fill","color",i.style.getPropertyValue("fill")),w(s,function(e){i.removeAttribute(fn[e].dataAttr)}),_n.set(i,wn(i,c))))}var Cn="theme-color",xn='meta[name="'.concat(Cn,'"]'),Tn=null,Rn=null;function Vn(e,t){Tn=Tn||e.content;try{var n=_e(Tn);e.content=nt(n,t)}catch(e){H(e)}}var Mn=["mode","brightness","contrast","grayscale","sepia","darkSchemeBackgroundColor","darkSchemeTextColor","lightSchemeBackgroundColor","lightSchemeTextColor"];var An,Ln,Pn=(An=[],Ln=null,{add:function(e){An.push(e),Ln=Ln||requestAnimationFrame(On)},cancel:function(){An.splice(0),cancelAnimationFrame(Ln),Ln=null}});function On(){for(var e;e=An.shift();)e();Ln=null}function Dn(){var S=0,_=new Set,k=new Map,w=new Set,E=null,C=!1,x=!1;return{modifySheet:function(e){var t,n,r=e.sourceCSSRules,i=e.theme,a=e.ignoreImageAnalysis,o=e.force,c=e.prepareSheet,f=e.isAsyncCancelled,u=0===k.size,s=new Set(k.keys()),l=(t=i,n="",Mn.forEach(function(e){n+="".concat(e,":").concat(t[e],";")}),n),e=l!==E;C&&(x=!0);var h,p,m,g,v,b,d=[];function y(e,t,n){var r=n.selector,n=n.declarations,a="";n.forEach(function(e){var t,n,r,o;a+="".concat((n=(t=e).property,r=e.value,o=e.important,t=e.sourceValue,"".concat(n,": ").concat(null==r?t:r).concat(o?" !important":"",";"))," ")});r="".concat(r," { ").concat(a," }");e.insertRule(r,t)}te(r,function(n){var r,e,t=n.cssText,o=!1;s.delete(t),n.parentRule instanceof CSSMediaRule&&(t+=";".concat(n.parentRule.media.mediaText)),_.has(t)||(_.add(t),o=!0),o?(u=!0,r=[],n.style&&oe(n.style,function(e,t){t=At(e,t,n,$t,a,f);t&&r.push(t)}),e=null,0<r.length&&(o=n.parentRule,e={selector:n.selectorText,declarations:r,parentRule:o},d.push(e)),k.set(t,e)):d.push(k.get(t))},function(){C=!0}),s.forEach(function(e){_.delete(e),k.delete(e)}),E=l,(o||u||e)&&(S++,h=new Map,p=new Map,v={rule:null,rules:[],isGroup:!(g=m=0)},b=new WeakMap,w.forEach(function(e){return e()}),w.clear(),d.filter(function(e){return e}).forEach(function(e){var t=e.selector,n=e.declarations,e=function e(t){if(null==t)return v;if(b.has(t))return b.get(t);var n={rule:t,rules:[],isGroup:!0};return b.set(t,n),e(t.parentRule).rules.push(n),n}(e.parentRule),t={selector:t,declarations:[],isGroup:!1},l=t.declarations;function d(e,t,n,r){var o=++m,a={property:e,value:null,important:n,asyncKey:o,sourceValue:r};l.push(a);var i=S;t.then(function(e){e&&!f()&&i===S&&(a.value=e,Pn.add(function(){var e,t,n,r;f()||i!==S||(e=o,t=h.get(e),n=t.rule,r=t.target,t=t.index,r.deleteRule(t),y(r,t,n),h.delete(e))}))})}function a(e,t,r,o){var n=t.declarations,a=t.onTypeChange,i=++g,c=S,u=l.length,s=[];0===n.length&&(l.push(e={property:e,value:o,important:r,sourceValue:o,varKey:i}),s=[e]),n.forEach(function(e){e.value instanceof Promise?d(e.property,e.value,r,o):(e={property:e.property,value:e.value,important:r,sourceValue:o,varKey:i},l.push(e),s.push(e))}),a.addListener(function(e){var t,n;f()||c!==S||(n=e.map(function(e){return{property:e.property,value:e.value,important:r,sourceValue:o,varKey:i}}),t=l.indexOf(s[0],u),l.splice.apply(l,T([t,s.length],B(n),!1)),s=n,e=i,t=p.get(e),n=t.rule,e=t.target,t=t.index,e.deleteRule(t),y(e,t,n))}),w.add(function(){return a.removeListeners()})}e.rules.push(t),n.forEach(function(e){var t=e.property,n=e.value,r=e.important,o=e.sourceValue;"function"==typeof n?(e=n(i))instanceof Promise?d(t,e,r,o):t.startsWith("--")?a(t,e,r,o):l.push({property:t,value:e,important:r,sourceValue:o}):l.push({property:t,value:n,important:r,sourceValue:o})})}),c=c(),function t(e,n,r){e.rules.forEach(function(e){e.isGroup?t(e,function(e,t){var n;return(n=e.rule)instanceof CSSMediaRule?(e=n.media,n=t.cssRules.length,t.insertRule("@media ".concat(e.mediaText," {}"),n),t.cssRules[n]):t}(e,n),r):r(e,n)})}(v,c,function(n,r){var o=r.cssRules.length;n.declarations.forEach(function(e){var t=e.asyncKey,e=e.varKey;null!=t&&h.set(t,{rule:n,target:r,index:o}),null!=e&&p.set(e,{rule:n,target:r,index:o})}),y(r,o,n)}))},shouldRebuildStyle:function(){return C&&!x}}}function In(e){return(e instanceof HTMLStyleElement||e instanceof SVGStyleElement||e instanceof HTMLLinkElement&&e.rel&&e.rel.toLowerCase().includes("stylesheet")&&!e.disabled&&(!f||!e.href.startsWith("moz-extension://")))&&!e.classList.contains("darkreader")&&"print"!==e.media.toLowerCase()&&!e.classList.contains("stylus")}function Fn(e,t,n){return void 0===t&&(t=[]),void 0===n&&(n=!0),In(e)?t.push(e):(e instanceof Element||h&&e instanceof ShadowRoot||e===document)&&(w(e.querySelectorAll('style, link[rel*="stylesheet" i]:not([disabled])'),function(e){return Fn(e,t,!1)}),n&&R(e,function(e){return Fn(e.shadowRoot,t,!1)})),t}var Nn=new WeakSet,jn=new WeakSet,Bn=!1;document.addEventListener("__darkreader__inlineScriptsAllowed",function(){Bn=!0});var Un=0,qn=new Map;function Wn(c,e){for(var a=e.update,n=e.loadingStart,r=e.loadingEnd,t=[],o=c;(o=o.nextElementSibling)&&o.matches(".darkreader");)t.push(o);var u=t.find(function(e){return e.matches(".darkreader--cors")&&!jn.has(e)})||null,i=t.find(function(e){return e.matches(".darkreader--sync")&&!Nn.has(e)})||null,s=null,l=null,d=!1,f=!0,h=Dn(),p=new MutationObserver(function(){a()}),m={attributes:!0,childList:!0,subtree:!0,characterData:!0};function g(){return c instanceof HTMLStyleElement&&c.textContent.trim().match(ie)}function v(e,t){var n=!1;if(e){var r=void 0;e:for(var o=0,a=e.length;o<a;o++)if((r=e[o]).href){if(!t){n=!0;break e}if(r.href.startsWith("http")&&!r.href.startsWith(location.origin)){n=!0;break e}}}return n}function b(){if(u)return W("[getRulesSync] Using cors-copy."),u.sheet.cssRules;if(g())return W("[getRulesSync] CSSImport detected."),null;var e,t=x();return c instanceof HTMLLinkElement&&!((e=c.href).startsWith("data:")||(e=J(e)).protocol===location.protocol&&(e.hostname===location.hostname&&(e.port===location.port&&e.pathname===location.pathname)))&&v(t,!1)?(W("[getRulesSync] CSSImportRule detected on non-local href."),null):v(t,!0)?(W("[getRulesSync] Cross-Origin CSSImportRule detected."),null):(W("[getRulesSync] Using cssRules."),t||H("[getRulesSync] cssRules is null, trying again."),t)}function y(){u?(c.nextSibling!==u&&c.parentNode.insertBefore(u,c.nextSibling),u.nextSibling!==i&&c.parentNode.insertBefore(i,u.nextSibling)):c.nextSibling!==i&&c.parentNode.insertBefore(i,c.nextSibling)}var S=!1,_=!1,k=++Un;function w(){return F(this,void 0,void 0,function(){var n,r,o,a,i;return N(this,function(e){switch(e.label){case 0:if(!(c instanceof HTMLLinkElement))return[3,7];if(a=B(C(),2),o=a[0],(a=a[1])&&H(a),!(!o&&!a&&!q||q&&!c.sheet||(t=a)&&t.message&&t.message.includes("loading")))return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),W("Linkelement ".concat(k," is not loaded yet and thus will be await for"),c),[4,function(a,i){return F(this,void 0,void 0,function(){return N(this,function(e){return[2,new Promise(function(e,t){var n=function(){a.removeEventListener("load",r),a.removeEventListener("error",o),qn.delete(i)},r=function(){n(),W("Linkelement ".concat(i," has been loaded")),e()},o=function(){n(),t("Linkelement ".concat(i," couldn't be loaded. ").concat(a.href))};qn.set(i,function(){n(),t()}),a.addEventListener("load",r),a.addEventListener("error",o),a.href||o()})]})})}(c,k)];case 2:return e.sent(),[3,4];case 3:return H(e.sent()),_=!0,[3,4];case 4:if(d)return[2,null];i=B(C(),2),o=i[0],(a=i[1])&&H(a),e.label=5;case 5:return o&&!v(o,!1)?[2,o]:[4,Gn(c.href)];case 6:return n=e.sent(),r=ue(c.href),d?[2,null]:[3,8];case 7:if(!g())return[2,null];n=c.textContent.trim(),r=ue(location.href),e.label=8;case 8:if(!n)return[3,13];e.label=9;case 9:return e.trys.push([9,11,,12]),[4,function s(l,d,f){void 0===f&&(f=new Map);return F(this,void 0,void 0,function(){var t,n,r,o,a,i,c,u;return N(this,function(e){switch(e.label){case 0:l=se(l=he(l=de(l)),d),t=De(ie,l),e.label=1;case 1:e.trys.push([1,10,11,12]),n=j(t),r=n.next(),e.label=2;case 2:return r.done?[3,9]:(o=r.value,i=Hn(o),a=ee(d,i),i=void 0,f.has(a)?(i=f.get(a),[3,7]):[3,3]);case 3:return e.trys.push([3,6,,7]),[4,Gn(a)];case 4:return i=e.sent(),f.set(a,i),[4,s(i,ue(a),f)];case 5:return i=e.sent(),[3,7];case 6:return H(e.sent()),i="",[3,7];case 7:l=l.split(o).join(i),e.label=8;case 8:return r=n.next(),[3,2];case 9:return[3,12];case 10:return c=e.sent(),c={error:c},[3,12];case 11:try{r&&!r.done&&(u=n.return)&&u.call(n)}finally{if(c)throw c.error}return[7];case 12:return[2,l=l.trim()]}})})}(n,r)];case 10:return i=e.sent(),u=function(e,t){if(!t)return null;var n=document.createElement("style");return n.classList.add("darkreader"),n.classList.add("darkreader--cors"),n.media="screen",n.textContent=t,e.parentNode.insertBefore(n,e.nextSibling),n.sheet.disabled=!0,jn.add(n),n}(c,i),[3,12];case 11:return H(e.sent()),[3,12];case 12:if(u)return s=z(u,"prev-sibling"),[2,u.sheet.cssRules];e.label=13;case 13:return[2,null]}var t})})}var E=!1;function C(){try{return null==c.sheet?[null,null]:[c.sheet.cssRules,null]}catch(e){return[null,e]}}function x(){var e=B(C(),2),t=e[0],e=e[1];return e?(H(e),null):t}function T(){c.addEventListener("__darkreader__updateSheet",P),U||Bn&&c.sheet||function(){R=M(),A();function e(){M()!==R&&(R=M(),a()),Bn&&c.sheet?A():V=requestAnimationFrame(e)}e()}()}var R=null,V=null;function M(){var e=x();return e?e.length:null}function A(){cancelAnimationFrame(V)}var L=!1;function P(){function e(){L=!1,d||a()}Bn=!0,A(),L||(L=!0,("function"==typeof queueMicrotask?queueMicrotask:requestAnimationFrame)(e))}function O(){c.removeEventListener("__darkreader__updateSheet",P),A()}function D(){p.disconnect(),d=!0,s&&s.stop(),l&&l.stop(),O()}var I=0;return{details:function(e){var t=b();return t?{rules:t}:(e.secondRound?H("Detected dead-lock at details(), returning early to prevent it."):S||_||(S=!0,n(),w().then(function(e){S=!1,r(),e&&a()}).catch(function(e){H(e),S=!1,r()})),null)},render:function(t,n){var r=b();function o(){return i||((i=c instanceof SVGStyleElement?document.createElementNS("http://www.w3.org/2000/svg","style"):document.createElement("style")).classList.add("darkreader"),i.classList.add("darkreader--sync"),i.media="screen",c.title&&(i.title=c.title),Nn.add(i)),l&&l.stop(),y(),null==i.sheet&&(i.textContent=""),function(e){try{if(e.replaceSync)return e.replaceSync("")}catch(e){H("Could not use fastpath for removing rules from stylesheet",e)}for(var t=e.cssRules.length-1;0<=t;t--)e.deleteRule(t)}(i.sheet),l?l.run():l=z(i,"prev-sibling",function(){E=!0,e()}),i.sheet}function e(){var e=E;E=!1,h.modifySheet({prepareSheet:o,sourceCSSRules:r,theme:t,ignoreImageAnalysis:n,force:e,isAsyncCancelled:function(){return d}}),f=0===i.sheet.cssRules.length,h.shouldRebuildStyle()&&$(function(){return a()})}r&&(d=!1,e())},pause:D,destroy:function(){var e;D(),G(u),G(i),r(),qn.has(k)&&(e=qn.get(k),qn.delete(k),e&&e())},watch:function(){p.observe(c,m),c instanceof HTMLStyleElement&&T()},restore:function(){i&&(10<++I?H("Style sheet was moved multiple times",c):(H("Restore style",i,c),y(),s&&s.skip(),l&&l.skip(),f||(E=!0,a())))}}}function Hn(e){return ce(e.substring(7).trim().replace(/;$/,"").replace(/screen$/,""))}function Gn(t){return F(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return t.startsWith("data:")?[4,fetch(t)]:[3,3];case 1:return[4,e.sent().text()];case 2:return[2,e.sent()];case 3:return[4,pt({url:t,responseType:"text",mimeType:"text/css",origin:window.location.origin})];case 4:return[2,e.sent()]}})})}var zn,$n,Qn=[],Kn=new Map;function Xn(e){i&&w(e.querySelectorAll(":not(:defined)"),function(e){var t=e.tagName.toLowerCase();if(!t.includes("-")){var n=e.getAttribute("is");if(!n)return;t=n}Kn.has(t)||(Kn.set(t,new Set),function(r){return F(this,void 0,void 0,function(){return N(this,function(e){return[2,new Promise(function(t){var n;window.customElements&&"function"==typeof customElements.whenDefined?customElements.whenDefined(r).then(function(){return t()}):Yn?(Zn.set(r,t),document.dispatchEvent(new CustomEvent("__darkreader__addUndefinedResolver",{detail:{tag:r}}))):(n=function(){var e=Kn.get(r);e&&0<e.size&&(e.values().next().value.matches(":defined")?t():requestAnimationFrame(n))},requestAnimationFrame(n))})]})})}(t).then(function(){var e;$n&&(e=Kn.get(t),Kn.delete(t),$n(Array.from(e)))})),Kn.get(t).add(e)})}var Yn=!1;document.addEventListener("__darkreader__inlineScriptsAllowed",function(){Yn=!0});var Zn=new Map;function Jn(e){Yn=!0,Zn.has(e.detail.tag)&&Zn.get(e.detail.tag)()}function er(e,r,t){tr();var a=new Set(e),i=new WeakMap,c=new WeakMap;function o(e){i.set(e,e.previousElementSibling),c.set(e,e.nextElementSibling)}function u(e){var t=e.createdStyles,n=e.removedStyles,e=e.movedStyles;t.forEach(o),e.forEach(o),n.forEach(function(e){return e=e,i.delete(e),void c.delete(e)}),t.forEach(function(e){return a.add(e)}),n.forEach(function(e){return a.delete(e)}),0<t.size+n.size+e.size&&r({created:Array.from(t),removed:Array.from(n),moved:Array.from(e),updated:[]})}function s(e){var t=e.additions,n=e.moves,e=e.deletions,r=new Set,o=new Set,a=new Set;t.forEach(function(e){return Fn(e).forEach(function(e){return r.add(e)})}),e.forEach(function(e){return Fn(e).forEach(function(e){return o.add(e)})}),n.forEach(function(e){return Fn(e).forEach(function(e){return a.add(e)})}),u({createdStyles:r,removedStyles:o,movedStyles:a}),t.forEach(function(e){R(e,f),Xn(e)})}function l(e){var t=new Set(Fn(e)),n=new Set,r=new Set,o=new Set;t.forEach(function(e){a.has(e)||n.add(e)}),a.forEach(function(e){t.has(e)||r.add(e)}),t.forEach(function(e){var t;n.has(e)||r.has(e)||(t=e).previousElementSibling===i.get(t)&&t.nextElementSibling===c.get(t)||o.add(e)}),u({createdStyles:n,removedStyles:r,movedStyles:o}),R(e,f),Xn(e)}function d(e){var t=new Set,n=new Set;e.forEach(function(e){e=e.target;e.isConnected&&(In(e)?t.add(e):e instanceof HTMLLinkElement&&e.disabled&&n.add(e))}),0<t.size+n.size&&r({updated:Array.from(t),created:[],removed:Array.from(n),moved:[]})}function n(e){var t=X(e,{onMinorMutations:s,onHugeMutations:l}),n=new MutationObserver(d);n.observe(e,{attributes:!0,attributeFilter:["rel","disabled","media"],subtree:!0}),Qn.push(t,n),zn.add(e)}function f(e){e=e.shadowRoot;null==e||zn.has(e)||(n(e),t(e))}e.forEach(o),n(document),R(document.documentElement,f),$n=function(e){var t=[];e.forEach(function(e){return E(t,Fn(e.shadowRoot))}),r({created:t,updated:[],removed:[],moved:[]}),e.forEach(function(e){var t=e.shadowRoot;null!=t&&(f(e),R(t,f),Xn(t))})},document.addEventListener("__darkreader__isDefined",Jn),Xn(document)}function tr(){Qn.forEach(function(e){return e.disconnect()}),Qn.splice(0,Qn.length),zn=new WeakSet,$n=null,Kn.clear(),document.removeEventListener("__darkreader__isDefined",Jn)}var nr=new WeakMap,rr=new WeakSet;function or(c){var r=!1;return{render:function(t,n){c.adoptedStyleSheets.forEach(function(a){var e,i;rr.has(a)||(e=a.rules,i=new CSSStyleSheet,Dn().modifySheet({prepareSheet:function(){for(var e,t,n,r,o=i.cssRules.length-1;0<=o;o--)i.deleteRule(o);return e=a,t=i,n=T([],B(c.adoptedStyleSheets),!1),r=n.indexOf(e),e=n.indexOf(t),r!==e-1&&(0<=e&&n.splice(e,1),n.splice(r+1,0,t),c.adoptedStyleSheets=n),nr.set(a,i),rr.add(i),i},sourceCSSRules:e,theme:t,ignoreImageAnalysis:n,force:!1,isAsyncCancelled:function(){return r}}))})},destroy:function(){r=!0;var n=T([],B(c.adoptedStyleSheets),!1);c.adoptedStyleSheets.forEach(function(e){var t;rr.has(e)&&(0<=(t=n.indexOf(e))&&n.splice(t,1),nr.delete(e),rr.delete(e))}),c.adoptedStyleSheets=n}}}function ar(e){document.dispatchEvent(new CustomEvent("__darkreader__inlineScriptsAllowed"));function t(){Object.defineProperty(CSSStyleSheet.prototype,"addRule",r),Object.defineProperty(CSSStyleSheet.prototype,"insertRule",o),Object.defineProperty(CSSStyleSheet.prototype,"deleteRule",a),Object.defineProperty(CSSStyleSheet.prototype,"removeRule",i),document.removeEventListener("__darkreader__cleanUp",t),document.removeEventListener("__darkreader__addUndefinedResolver",n),e&&Object.defineProperty(Document.prototype,"styleSheets",c),u&&Object.defineProperty(Element.prototype,"getElementsByTagName",s)}function n(e){customElements.whenDefined(e.detail.tag).then(function(){document.dispatchEvent(new CustomEvent("__darkreader__isDefined",{detail:{tag:e.detail.tag}}))})}var r=Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype,"addRule"),o=Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype,"insertRule"),a=Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype,"deleteRule"),i=Object.getOwnPropertyDescriptor(CSSStyleSheet.prototype,"removeRule"),c=e?Object.getOwnPropertyDescriptor(Document.prototype,"styleSheets"):null,u=location.hostname.endsWith("baidu.com"),s=u?Object.getOwnPropertyDescriptor(Element.prototype,"getElementsByTagName"):null;document.addEventListener("__darkreader__cleanUp",t),document.addEventListener("__darkreader__addUndefinedResolver",n);var l=new Event("__darkreader__updateSheet");function d(){function n(){var t=T([],B(c.get.call(e)),!1).filter(function(e){return!e.ownerNode.classList.contains("darkreader")});return t.item=function(e){return t[e]},Object.setPrototypeOf(t,StyleSheetList.prototype)}var e=this,t=n();return t=new Proxy(t,{get:function(e,t){return n()[t]}})}function f(t){var n=this;if("style"!==t)return s.value.call(this,t);function r(){var e=s.value.call(n,t);return Object.setPrototypeOf(T([],B(e),!1).filter(function(e){return!e.classList.contains("darkreader")}),NodeList.prototype)}var e=r();return e=new Proxy(e,{get:function(e,t){return r()[Number(t)||t]}})}Object.defineProperty(CSSStyleSheet.prototype,"addRule",Object.assign({},r,{value:function(e,t,n){return r.value.call(this,e,t,n),this.ownerNode&&!this.ownerNode.classList.contains("darkreader")&&this.ownerNode.dispatchEvent(l),-1}})),Object.defineProperty(CSSStyleSheet.prototype,"insertRule",Object.assign({},o,{value:function(e,t){return t=o.value.call(this,e,t),this.ownerNode&&!this.ownerNode.classList.contains("darkreader")&&this.ownerNode.dispatchEvent(l),t}})),Object.defineProperty(CSSStyleSheet.prototype,"deleteRule",Object.assign({},a,{value:function(e){a.value.call(this,e),this.ownerNode&&!this.ownerNode.classList.contains("darkreader")&&this.ownerNode.dispatchEvent(l)}})),Object.defineProperty(CSSStyleSheet.prototype,"removeRule",Object.assign({},i,{value:function(e){i.value.call(this,e),this.ownerNode&&!this.ownerNode.classList.contains("darkreader")&&this.ownerNode.dispatchEvent(l)}})),e&&Object.defineProperty(Document.prototype,"styleSheets",Object.assign({},c,{get:d})),u&&Object.defineProperty(Element.prototype,"getElementsByTagName",Object.assign({},s,{value:f}))}var ir=function(){if("randomUUID"in crypto){var e=crypto.randomUUID();return e.substring(0,8)+e.substring(9,13)+e.substring(14,18)+e.substring(19,23)+e.substring(24)}return Array.from(crypto.getRandomValues(new Uint8Array(16))).map(function(e){return(e<16?"0":"")+e.toString(16)}).join("")}(),cr=new Map,ur=[],sr=null,lr=null,dr=null,fr=null,hr=null;function pr(e,t){t=(t=void 0===t?document.head||document:t).querySelector(".".concat(e));return t||((t=document.createElement("style")).classList.add("darkreader"),t.classList.add(e),t.media="screen",t.textContent=""),t}var mr=new Map;function gr(e,t){mr.has(t)&&mr.get(t).stop(),mr.set(t,z(e,"parent"))}function vr(){var e=pr("darkreader--fallback",document);e.textContent=Dt(sr,{strict:!0}),document.head.insertBefore(e,document.head.firstChild),gr(e,"fallback");var t=pr("darkreader--user-agent");t.textContent=Pt(sr,dr,sr.styleSystemControls),document.head.insertBefore(t,e.nextSibling),gr(t,"user-agent");var n=pr("darkreader--text");sr.useFont||0<sr.textStroke?n.textContent=(i=sr,(c=[]).push('*:not(pre, pre *, code, .far, .fa, .glyphicon, [class*="vjs-"], .fab, .fa-github, .fas, .material-icons, .icofont, .typcn, mu, [class*="mu-"], .glyphicon, .icon) {'),i.useFont&&i.fontFamily&&c.push("  font-family: ".concat(i.fontFamily," !important;")),0<i.textStroke&&(c.push("  -webkit-text-stroke: ".concat(i.textStroke,"px !important;")),c.push("  text-stroke: ".concat(i.textStroke,"px !important;"))),c.push("}"),c.join("\n")):n.textContent="",document.head.insertBefore(n,e.nextSibling),gr(n,"text");var r=pr("darkreader--invert");lr&&Array.isArray(lr.invert)&&0<lr.invert.length?r.textContent=["".concat(lr.invert.join(", ")," {"),"    filter: ".concat(lt(d(d({},sr),{contrast:0===sr.mode?sr.contrast:Pe(sr.contrast-10,0,100)}))," !important;"),"}"].join("\n"):r.textContent="",document.head.insertBefore(r,n.nextSibling),gr(r,"invert");var o=pr("darkreader--inline");o.textContent=vn(),document.head.insertBefore(o,r.nextSibling),gr(o,"inline");var a=pr("darkreader--override");a.textContent=lr&&lr.css?Sr(lr.css):"",document.head.appendChild(a),gr(a,"override");var t=pr("darkreader--variables"),i=Ot(sr),c=sr.darkSchemeBackgroundColor,e=sr.darkSchemeTextColor,n=sr.lightSchemeBackgroundColor,r=sr.lightSchemeTextColor,a=sr.mode,e=0===a?r:e,c=nt(_e(c=0===a?n:c),sr),e=it(_e(e),sr);t.textContent=[":root {","   --darkreader-neutral-background: ".concat(c,";"),"   --darkreader-neutral-text: ".concat(e,";"),"   --darkreader-selection-background: ".concat(i.backgroundColorSelection,";"),"   --darkreader-selection-text: ".concat(i.foregroundColorSelection,";"),"}"].join("\n"),document.head.insertBefore(t,o.nextSibling),gr(t,"variables");o=pr("darkreader--root-vars");document.head.insertBefore(o,t.nextSibling);var u,u=(t="darkreader--proxy",(u=(u=void 0===u?document.head||document:u).querySelector(".".concat(t)))||((u=document.createElement("script")).classList.add("darkreader"),u.classList.add(t)),u);u.append("(".concat(ar,")(!").concat(lr&&lr.disableStyleSheetsProxy,")")),document.head.insertBefore(u,o.nextSibling),u.remove()}var br=new Set;function yr(e){var t=pr("darkreader--inline",e);t.textContent=vn(),e.insertBefore(t,e.firstChild);var n=pr("darkreader--override",e);n.textContent=lr&&lr.css?Sr(lr.css):"",e.insertBefore(n,t.nextSibling);t=pr("darkreader--invert",e);lr&&Array.isArray(lr.invert)&&0<lr.invert.length?t.textContent=["".concat(lr.invert.join(", ")," {"),"    filter: ".concat(lt(d(d({},sr),{contrast:0===sr.mode?sr.contrast:Pe(sr.contrast-10,0,100)}))," !important;"),"}"].join("\n"):t.textContent="",e.insertBefore(t,n.nextSibling),br.add(e)}function Sr(e){return e.replace(/\${(.+?)}/g,function(e,t){var n=jt(t);return n?Ye(n,sr,Ze):(H("Couldn't parse CSSTemplate's color."),t)})}function _r(){var e=document.querySelector(".darkreader--fallback");e&&(e.textContent="")}function kr(){Rr();var e=Fn(document).filter(function(e){return!cr.has(e)}).map(Cr);e.map(function(e){return e.details({secondRound:!1})}).filter(function(e){return e&&0<e.rules.length}).forEach(function(e){$t.addRulesForMatching(e.rules)}),$t.matchVariablesAndDependants(),$t.setOnRootVariableChange(function(){$t.putRootVars(document.head.querySelector(".darkreader--root-vars"),sr)}),$t.putRootVars(document.head.querySelector(".darkreader--root-vars"),sr),cr.forEach(function(e){return e.render(sr,fr)}),0===Er.size&&_r(),e.forEach(function(e){return e.watch()});var t=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t}(document.querySelectorAll(gn));R(document.documentElement,function(e){yr(e.shadowRoot);e=e.shadowRoot.querySelectorAll(gn);0<e.length&&E(t,e)}),t.forEach(function(e){return En(e,sr,hr,fr)}),Or(document)}var wr=0,Er=new Set;function Cr(e){var t=++wr;W("New manager for element, with loadingStyleID ".concat(t),e);var n=Wn(e,{update:function(){var e=n.details({secondRound:!0});e&&($t.addRulesForMatching(e.rules),$t.matchVariablesAndDependants(),n.render(sr,fr))},loadingStart:function(){var e;V()&&Ar||(Er.add(t),W("Current amount of styles loading: ".concat(Er.size)),(e=document.querySelector(".darkreader--fallback")).textContent||(e.textContent=Dt(sr,{strict:!1})))},loadingEnd:function(){Er.delete(t),W("Removed loadingStyle ".concat(t,", now awaiting: ").concat(Er.size)),W("To-do to be loaded",Er),0===Er.size&&V()&&_r()}});return cr.set(e,n),n}function xr(e){var t=cr.get(e);t&&(t.destroy(),cr.delete(e))}var Tr=C(function(e){cr.forEach(function(e){return e.render(sr,fr)}),ur.forEach(function(e){return e.render(sr,fr)}),e&&e()}),Rr=function(){Tr.cancel()};function Vr(){0!==Er.size?H("DOM is ready, but still have styles being loaded.",Er):_r()}var Mr=null,Ar=!document.hidden;function Lr(){document.removeEventListener("visibilitychange",Mr),Mr=null}function Pr(){function e(){kr(),er(Array.from(cr.keys()),function(e){var t=e.created,n=e.updated,r=e.removed,e=e.moved,r=r,n=t.concat(n).concat(e).filter(function(e){return!cr.has(e)}),e=e.filter(function(e){return cr.has(e)});W("Styles to be removed:",r),r.forEach(xr);n=n.map(Cr);n.map(function(e){return e.details({secondRound:!1})}).filter(function(e){return e&&0<e.rules.length}).forEach(function(e){$t.addRulesForMatching(e.rules)}),$t.matchVariablesAndDependants(),n.forEach(function(e){return e.render(sr,fr)}),n.forEach(function(e){return e.watch()}),e.forEach(function(e){return cr.get(e).restore()})},function(e){yr(e),Or(e)}),function(t,n){Sn(document,t,n),R(document.documentElement,function(e){Sn(e.shadowRoot,t,n)})}(function(e){En(e,sr,hr,fr),e===document.documentElement&&(e.getAttribute("style")||"").includes("--")&&($t.matchVariablesAndDependants(),$t.putRootVars(document.head.querySelector(".darkreader--root-vars"),sr))},function(e){yr(e);e=e.querySelectorAll(gn);0<e.length&&w(e,function(e){return En(e,sr,hr,fr),0})}),A(Vr)}var t,a,n;vr(),document.hidden&&!sr.immediateModify?(t=e,n=Boolean(Mr),Mr=function(){document.hidden||(Lr(),t(),Ar=!0)},n||document.addEventListener("visibilitychange",Mr)):e(),a=sr,(n=document.querySelector(xn))?Vn(n,a):(Rn&&Rn.disconnect(),(Rn=new MutationObserver(function(e){e:for(var t=0;t<e.length;t++)for(var n=e[t].addedNodes,r=0;r<n.length;r++){var o=n[r];if(o instanceof HTMLMetaElement&&o.name===Cn){Rn.disconnect(),Rn=null,Vn(o,a);break e}}})).observe(document.head,{childList:!0}))}function Or(e){Array.isArray(e.adoptedStyleSheets)&&0<e.adoptedStyleSheets.length&&(e=or(e),ur.push(e),e.render(sr,fr))}function Dr(){cr.forEach(function(e){return e.pause()}),w(mr.values(),function(e){return e.stop()}),mr.clear(),tr(),bn.forEach(function(e){return e.disconnect()}),yn.forEach(function(e){return e.disconnect()}),bn.clear(),yn.clear(),L(Vr),D.clear()}function Ir(){var e=document.querySelector('meta[name="darkreader"]');if(e)return e.content!==ir;(e=document.createElement("meta")).name="darkreader",e.content=ir,document.head.appendChild(e)}function Fr(e,t,n){var r;sr=e,hr=(lr=t)?(fr=Array.isArray(lr.ignoreImageAnalysis)?lr.ignoreImageAnalysis:[],Array.isArray(lr.ignoreInlineStyle)?lr.ignoreInlineStyle:[]):(fr=[],[]),sr.immediateModify&&(V=function(){return!0}),dr=n,document.head?Ir()||(document.documentElement.setAttribute("data-darkreader-mode","dynamic"),document.documentElement.setAttribute("data-darkreader-scheme",sr.mode?"dark":"dimmed"),Pr()):(f||(n=pr("darkreader--fallback"),document.documentElement.appendChild(n),n.textContent=Dt(sr,{strict:!0})),(r=new MutationObserver(function(){document.head&&(r.disconnect(),(Ir()?Nr:Pr)())})).observe(document,{childList:!0,subtree:!0}))}function Nr(){document.documentElement.removeAttribute("data-darkreader-mode"),document.documentElement.removeAttribute("data-darkreader-scheme"),$t.clear(),Y.clear(),Lr(),Rr(),Dr(),Gt(),G(document.querySelector(".darkreader--fallback")),document.head&&(function(){Rn&&(Rn.disconnect(),Rn=null);var e=document.querySelector(xn);e&&Tn&&(e.content=Tn)}(),G(document.head.querySelector(".darkreader--user-agent")),G(document.head.querySelector(".darkreader--text")),G(document.head.querySelector(".darkreader--invert")),G(document.head.querySelector(".darkreader--inline")),G(document.head.querySelector(".darkreader--override")),G(document.head.querySelector(".darkreader--variables")),G(document.head.querySelector(".darkreader--root-vars")),G(document.head.querySelector('meta[name="darkreader"]')),document.dispatchEvent(new CustomEvent("__darkreader__cleanUp")),G(document.head.querySelector(".darkreader--proxy"))),br.forEach(function(e){G(e.querySelector(".darkreader--inline")),G(e.querySelector(".darkreader--override"))}),br.clear(),w(cr.keys(),function(e){return xr(e),0}),Er.clear(),qn.clear(),w(document.querySelectorAll(".darkreader"),G),ur.forEach(function(e){e.destroy()}),ur.splice(0)}var jr=/url\(\"(blob\:.*?)\"\)/g;var Br='/*\n                        _______\n                       /       \\\n                      .==.    .==.\n                     ((  ))==((  ))\n                    / "=="    "=="\\\n                   /____|| || ||___\\\n       ________     ____    ________  ___    ___\n       |  ___  \\   /    \\   |  ___  \\ |  |  /  /\n       |  |  \\  \\ /  /\\  \\  |  |  \\  \\|  |_/  /\n       |  |   )  /  /__\\  \\ |  |__/  /|  ___  \\\n       |  |__/  /  ______  \\|  ____  \\|  |  \\  \\\n_______|_______/__/ ____ \\__\\__|___\\__\\__|___\\__\\____\n|  ___  \\ |  ____/ /    \\   |  ___  \\ |  ____|  ___  \\\n|  |  \\  \\|  |___ /  /\\  \\  |  |  \\  \\|  |___|  |  \\  \\\n|  |__/  /|  ____/  /__\\  \\ |  |   )  |  ____|  |__/  /\n|  ____  \\|  |__/  ______  \\|  |__/  /|  |___|  ____  \\\n|__|   \\__\\____/__/      \\__\\_______/ |______|__|   \\__\\\n                https://darkreader.org\n*/\n\n/*! Dark reader generated CSS | Licensed under MIT https://github.com/darkreader/darkreader/blob/master/LICENSE */\n';function Ur(){return F(this,void 0,void 0,function(){function t(e,t){e=document.querySelector(e);e&&e.textContent&&(n.push("/* ".concat(t," */")),n.push(e.textContent),n.push(""))}var n,r,o,a,i;return N(this,function(e){switch(e.label){case 0:return(n=[Br],t(".darkreader--fallback","Fallback Style"),t(".darkreader--user-agent","User-Agent Style"),t(".darkreader--text","Text Style"),t(".darkreader--invert","Invert Style"),t(".darkreader--variables","Variables Style"),r=[],document.querySelectorAll(".darkreader--sync").forEach(function(e){w(e.sheet.cssRules,function(e){e&&e.cssText&&r.push(e.cssText)})}),r.length)?(o=function(e){function t(e){return e.replace(/^\s+/,"")}function n(e){return 0===e?"":" ".repeat(4*e)}if(e.length<5e4)for(var r=/[^{}]+{\s*}/;r.test(e);)e=e.replace(r,"");for(var o=e.replace(/\s{2,}/g," ").replace(/\{/g,"{\n").replace(/\}/g,"\n}\n").replace(/\;(?![^\(|\"]*(\)|\"))/g,";\n").replace(/\,(?![^\(|\"]*(\)|\"))/g,",\n").replace(/\n\s*\n/g,"\n").split("\n"),a=0,i=[],c=0,u=o.length;c<u;c++){var s="".concat(o[c],"\n");s.includes("{")?i.push(n(a++)+t(s)):s.includes("}")?i.push(n(--a)+t(s)):i.push(n(a)+t(s))}return i.join("").trim()}(r.join("\n")),n.push("/* Modified CSS */"),i=(a=n).push,[4,function(r){return F(this,void 0,void 0,function(){var t,n;return N(this,function(e){switch(e.label){case 0:return t=[],De(jr,r,1).forEach(function(e){e=s(e);t.push(e)}),[4,Promise.all(t)];case 1:return n=e.sent(),[2,r.replace(jr,function(){return'url("'.concat(n.shift(),'")')})]}})})}(o)]):[3,2];case 1:i.apply(a,[e.sent()]),n.push(""),e.label=2;case 2:return t(".darkreader--override","Override Style"),[2,n.join("\n")]}})})}var qr=!1,Wr=function(){try{return window.self!==window.top}catch(e){return console.warn(e),!0}}();function Hr(e,t){void 0===e&&(e={}),void 0===t&&(t=null);e=d(d({},k),e);if(e.engine!==_.dynamicTheme)throw new Error("Theme engine is not supported.");Fr(e,t,Wr),qr=!0}function Gr(){Nr(),qr=!1}var zr=matchMedia("(prefers-color-scheme: dark)"),$r={themeOptions:null,fixes:null};function Qr(){zr.matches?Hr($r.themeOptions,$r.fixes):Gr()}r=function(e){m=e||p};e.auto=function(e,t){void 0===t&&(t=null),(e=void 0===e?{}:e)?($r={themeOptions:e,fixes:t},Qr(),a?zr.addEventListener("change",Qr):zr.addListener(Qr)):(a?zr.removeEventListener("change",Qr):zr.removeListener(Qr),Gr())},e.disable=Gr,e.enable=Hr,e.exportGeneratedCSS=function(){return F(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return[4,Ur()];case 1:return[2,e.sent()]}})})},e.isEnabled=function(){return qr},e.setFetchMethod=r,Object.defineProperty(e,"__esModule",{value:!0})});