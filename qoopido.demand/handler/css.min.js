!function(v){"use strict";provide(["path","/demand/abstract/handler","/demand/function/resolveSourcemaps","/demand/validator/isObject","/demand/function/merge"],function(e,t,u,n,r){var s=v.getElementsByTagName("head")[0],o=v.createElement("a"),a=/url\s*\(\s*["']?(.+?)["']?\s*\)/gi,i=/@import\s+["'](.+?)["']/gi,c=/^\//i,d=/^data:|http(s?):|\/\//i,f=/^text\/css/,l={suffix:".css"};function m(e){return o.href=e,o}function p(e,t,n){return d.test(t[1])||(e=e.replace(t[0],n)),e}function h(){}return demand.on("postConfigure:"+e,function(e){n(e)&&r(l,e)}),h.prototype={validate:function(e){return f.test(e)},onPreRequest:function(e,t){var n;(t=void 0!==t?t:l.suffix)&&(n=e.url.pathname,e.url.pathname=n.slice(-t.length)!==t?n+t:n)},onPostRequest:function(e){for(var t,n=m(e.url+"/.."),r=n.href,s="//"+n.host,o=e.source;t=a.exec(o);)o=p(o,t,'url("'+m(c.test(t[1])?s+t[1]:r+t[1]).href+'")');for(;t=i.exec(o);)o=p(o,t,'@import "'+m(c.test(t[1])?s+t[1]:r+t[1]).href+'"');e.source=u(e.url,o)},process:function(e){var t=v.querySelector('[demand-id="'+e.id+'"]');t||((t=v.createElement("style")).type="text/css",t.setAttribute("demand-id",e.id),s.appendChild(t)),"STYLE"===t.tagName&&(t.styleSheet?t.styleSheet.cssText=e.source:t.textContent=e.source),provide(function(){return t})}},new(h.extends(t))})}(document);