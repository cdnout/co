!function(u,r,t){"use strict";var c,o,d,s,f=u.document,e="demand"in u&&u.demand,l={version:"1.0.0",cache:{},timeout:8e3,pattern:{},modules:{},handler:"module"},h="mock:",p=null,a=void 0,m=!1,v=!0,g="undefined",y="string",w="function",x="postConfigure",n="cacheMiss",i="cacheExceed",b="preResolve",j="preRequest",q="postRequest",k="preProcess",R="postProcess",P="error loading",E="error providing",C="error resolving",M=Array.prototype,T=M.slice,S=M.concat,A=Object,O=A.create,$=A.defineProperty,I=A.getOwnPropertyNames,H=A.getOwnPropertyDescriptor,N=f.createElement("a");function D(e,t,n,r){return{__proto__:p,value:e,enumerable:!!r,configurable:!!n,writable:!!t}}function L(e,t){return typeof e===t}function B(e){return e&&L(e,"object")}function U(e){return L(e,"number")&&isFinite(e)&&Math.floor(e)===e&&0<=e}function z(e){return e&&L(e.then,w)}function W(e,t,n,r,i){$(this,e,new D(t,n,r,i))}function _(e){for(var t,n=this,r=n.prototype,i=I(r),o={constructor:new D(n,v,v)},a=0;(t=i[a])&&!o[t];a++)o[t]=H(r,t);try{n.prototype=O(e.prototype||e,o)}catch(e){}if(n.prototype===r)throw new TypeError("Unable to extend, prototype is not writable");return n}W.call(Object.prototype,"defineProperty",W),W.call(u.Object.prototype,"defineProperty",W),Function.prototype.defineProperty("extends",_),u.Function.prototype.defineProperty("extends",_);var F,X=(F=/^\bv?(?:0|[1-9]\d*)\.(?:0|[1-9]\d*)\.(?:0|[1-9]\d*)(?:-[\da-z-]+(?:\.[\da-z-]+)*)?(?:\+[\da-z-]+(?:\.[\da-z-]+)*)?\b$/i,function(e){return L(e,y)&&F.test(e)});function G(e,t,n){for(var r,i=A.keys(e),o=0;(r=i[o])!==a&&t.call(n,r,e[r])!==m;o++);return n}var J,K,Q,V=function(){for(var e,t=arguments[0],n=1;(e=arguments[n])!==a;n++)G(e,te,t);return t},Y=(Q=new RegExp("[xy]","g"),function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Q,ee)}),Z="setImmediate"in u&&"function"==typeof u.setImmediate?u.setImmediate:"MutationObserver"in u&&"function"==typeof u.MutationObserver?(J={},K=f.createElement("div"),new MutationObserver(function(e){e.forEach(function(e){e=e.attributeName.substr(1);J[e]&&J[e](),delete J[e]})}).observe(K,{attributes:v}),function(e){var t=Y();J[t]=e,K.setAttribute("i"+t,1)}):r;function ee(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}function te(e,t){var n,r=this[e];t!==a&&(B(t)?(n=B(r),r=t.length!==a?n&&r.length!==a?r:[]:n&&r.length===a?r:{},this[e]=V(r,t)):this[e]=t)}function ne(e,t,n){return T.call(e,t,n)}var re,ie,oe,ae,ue=(oe=/^cache(Miss|Hit|Clear|Exceed)|queue(En|De)queue|(pre|post)(Resolve|Configure|Request|Process|Cache)|provide|reject$/,ae={},fe.prototype={emit:function(e,t){var n,r,i,o=ae[e];if(o){for(n=ne(arguments,2),r=0;i=o.on[r];r++)i.filter&&i.filter!==t||i.callback.apply(p,n);for(r=0;i=o.after[r];r++)i.filter&&i.filter!==t||i.callback.apply(p,n)}return this},on:function(e,t){return de("on",e,t),this},after:function(e,t){return de("after",e,t),this}},new fe),ce="WeakMap"in u&&!("ActiveXObject"in u)?u.WeakMap:(re=u.WeakMap,ie=new re,se.prototype={get:function(e){return ie.get(this).get(e)},set:function(e,t){return ie.get(this).set(e,t),this},has:function(e){return!!this.get(e)},delete:function(e){return ie.get(this).delete(e)}},se);function se(){ie.set(this,new re)}function de(e,t,n){var r,i;if(L(t,y)&&L(n,w))for(t=t.split(" ");r=t.shift();)r=r.split(":"),oe.test(r[0])&&((ae[r[0]]||(ae[r[0]]={on:[],after:[]}))[e].push({callback:n,filter:r[1]}),"on"===e&&r[0]===x&&(i=l.modules[r[1]])&&n(i))}function fe(){}function le(){return L(this.uuid,g)&&this.defineProperty("uuid",Y()),this}var he,pe,me,ve,ge,ye=(ge=new ce,be.prototype={enqueue:function(){var e=ne(arguments);ge.set(this,ge.get(this).concat(e)),ue.emit("queueEnqueue",this.uuid,e)},dequeue:function(){var e=ge.get(this).shift();return ue.emit("queueDequeue",this.uuid,e),e},get current(){return ge.get(this)[0]},get length(){return ge.get(this).length}},be.extends(le)),we=(Dt="object"==typeof u.safari&&u.safari.pushNotification?"beforeunload":"visibilitychange",pe=u.requestIdleCallback||function(e,t){var n=+new Date;return r(function(){e({didTimeout:m,timeRemaining:function(){return Math.max(0,50-(+new Date-n))}})},t&&t.timeout)},me=u.cancelIdleCallback||function(e){t(e)},ve=new ye,u.addEventListener(Dt,function(e){var t;if(ve.length&&("visibilitychange"!==e.type||"hidden"===f.visibilityState))for(he=me(he);t&&t(),t=ve.dequeue(););},v),function(e){ve.enqueue(e),!he&&ve.length&&(he=pe(xe))});function xe(){ve.dequeue()(),he=ve.length&&pe(xe)}function be(){var e=le.call(this);return ge.set(e,[]),e}function je(){return+new Date}function qe(e){return N.href=e,N.href}var ke=/^(http(s?):)?\/\//i,Re=/^\.?\.\//,Pe=/((?:\/\/|\/\*)#)\s*(sourceMappingURL)\s*=\s*(?!(?:http[s]?:)?\/\/)(.+?)\.map(?:\s+)?(\*\/)?/g,Ee=/^\//,Ce=/\.\w+$/,Me=new RegExp("^"+qe("/")),Te=new RegExp("^demand|provide|path|exports$"),Se=/^(mock:)?([+-])?((?:[-\w]+\/?)+)?(?:@(.+?))?(?:#(\d+))?!/;function Ae(e,t){e=e.replace(Se,"");return Re.test(e)&&(e="/"+qe((t&&qe(t+"/../")||"/")+e).replace(Me,"")),e}function Oe(e,t){var n=e.match(Se);return(n&&n[1]?"mock:":"")+(n&&n[3]||l.handler)+"!"+Ae(e,t)}var $e,Ie,He,Ne,De,Le,Be,Ue,ze=(Ye.prototype={toString:function(){return this.major+"."+this.minor+"."+this.patch+(this.identifier.length?"-"+this.identifier.join("."):"")},compare:function(e){return Ve(this.major,e.major)||Ve(this.minor,e.minor)||Ve(this.patch,e.patch)||function(e,t){var n,r,i,o,a=0;if(e.length&&!t.length)return-1;if(!e.length&&t.length)return 1;if(!e.length&&!t.length)return 0;do{if(n=e[a],o=typeof(r=t[a]),(i=typeof n)===g&&o===g)return 0;if(o===g)return 1;if(i===g)return-1;if(n!==r){if(i==y&&o!=y)return 1;if(i!=y&&o==y)return-1;if(r<n)return 1;if(n<r)return-1}}while(++a)}(this.identifier,e.identifier)}},Ye),We=(Ie="[state]",He="[value]",Ne=new RegExp("^[demand]\\[(.+?)\\][state]$"),De=/^(.+?),(\d+),(\d*),(.+?),(\d+)$/,Yt=function(){try{return"localStorage"in u&&u.localStorage}catch(e){return m}}(),Le=Yt?u.localStorage:p,Be=Yt&&"remainingSpace"in Le,Ue={},ue.on(n,function(e){we(function(){$e.clear(e.id)})}).on(i,function(t){c("-!/demand/cache/dispose").then(function(e){we(function(){e(t.source.length),$e.set(t)},l.delay)})}).on(q,function(e){e.source&&_e(e)&&(Ue[e.id]=v)}).after(R,function(e){Ue[e.id]&&we(function(){$e.set(e)},l.delay)}),(Qe.prototype={get:Yt?function(e){var t,n;if(_e(e)&&(t="[demand]["+e.id+"]",n=Ge(t+Ie)))return 1===e.version.compare(new ze(n[0]))||n[2]&&e.lifetime&&n[2]<=je()?void(e.invalid=!0):(e.source=Fe(t+He),we(function(){Je(t+Ie,n)},l.delay),v)}:function(){},resolve:Yt?function(e){this.get(e)?Ke("cacheHit",e):Ke(n,e)}:function(e){Ke(n,e)},set:Yt?function(e){var t,n,r;if(_e(e)){t=[e.version,e.source.length,e.lifetime?je()+e.lifetime:p,c.version],n="[demand]["+e.id+"]",Ke("preCache",e,t);try{if(r=Be?Le.remainingSpace:p,Xe(n+He,e.source),Je(n+Ie,t),r!==p&&Le.remainingSpace===r)throw new Error;Ke("postCache",e,t)}catch(t){Ke(i,e)}}}:function(){},clear:Yt?function(e){var t=Oe(e),e="[demand]["+t+"]";Fe(e+Ie)&&(Xe(e+Ie),Xe(e+He),Ke("cacheClear",mt.get(t)||new mt(t,p,m)))}:function(){}}).clear.all=Yt?function(){var t;G(Le,function(e){(t=e.match(Ne))&&this(t[1])},this)}:function(){},Qe.prototype.clear.expired=Yt?function(){var t,n;G(Le,function(e){(t=e.match(Ne))&&(n=Ge("[demand]["+t[1]+"]"+Ie))&&0<n[2]&&n[2]<=je()&&this(t[1])},this)}:function(){},$e=new Qe);function _e(n){var r;return n.cache!==p?n.cache:(G(l.cache,function(e,t){0===n.path.indexOf(e)&&(!r||t.weight>r.weight)&&(r=t)}),r?r.state:m)}function Fe(e){return Le.getItem(e)}function Xe(e,t){Le[t?"setItem":"removeItem"](e,t)}function Ge(e){var t,e=Fe(e);if(e&&(t=e.match(De)))return ne(t,1)}function Je(e,t){t[4]=je(),Xe(e,t.join(","))}function Ke(e,t,n){ue.emit(e,t.id,t,n)}function Qe(){we(this.clear.expired.bind(this.clear),l.delay)}function Ve(e,t){return e<t?-1:t<e?1:0}function Ye(r){if(!X(r))throw new TypeError('"version" must be a valid semver version string');r=function(){for(var e,t=0,n=(n=r.split("-"))[1]?Array.prototype.concat(n[0].split("."),n[1].split(".")):n[0].split(".");e=n[t];t++)n[t]=parseInt(e,10).toString()===e?parseInt(e,10):e;return n}(),this.major=r.shift(),this.minor=r.shift(),this.patch=r.shift(),this.identifier=r}function z(e){return e&&L(e.then,w)}function Ze(e,t,n){var r=this;return r.message=e,t&&(r.module=t),n&&(r.stack=ne(n)),r}Ze.prototype={toString:function(){var e=this,t=e.message+" "+(e.module?'"'+e.module+'"':"");return e.stack&&(t=Ze.traverse(e.stack,t,1)),t}},Ze.traverse=function(e,t,n){for(var r,i=new Array(n+1).join(" "),o=0;r=e[o];o++)t+="\n"+i+"> "+r.message+" "+(r.module?'"'+r.module+'"':""),r.stack&&(t=Ze.traverse(r.stack,t,n+1));return t};var et,tt,nt,rt,it,ot,at,ut,ct,st,dt,ft,lt,ht=(st="pending",dt="resolved",ft="rejected",lt=new ce,(Tt.prototype={isPending:function(){return lt.get(this).state===st},isResolved:function(){return lt.get(this).state===dt},isRejected:function(){return lt.get(this).state===ft},then:function(e,t){var n=lt.get(this),r=Tt.defer();return n.resolved.push({handler:e||Tt.resolve,dfd:r}),n.rejected.push({handler:t||Tt.reject,dfd:r}),n.state!==st&&Z(n.handle),r.pledge},catch:function(e){return this.then(a,e)},always:function(e){return this.then(e,e)}}).finally=Tt.prototype.always,Tt.defer=function(){var n={};return n.pledge=new Tt(function(e,t){n.resolve=e,n.reject=t}),n},Tt.all=function(e){var t,n,r=Tt.defer(),i=0;if(e.length)for(t={dfd:r,resolved:[],rejected:[],total:e.length,count:0};n=e[i];i++)!function(e,t,n){e.then(function(){n.resolved[t]=ne(arguments),n.count++,Mt(n)},function(){n.rejected.push(ne(arguments)),Mt(n)})}(n,i,t);else r.resolve();return r.pledge},Tt.race=function(e){for(var t,n=Tt.defer(),r=0;t=e[r];r++)t.then(n.resolve,n.reject);return e.length||n.resolve(),n.pledge},Tt.resolve=function(){var e=Tt.defer();return e.resolve.apply(p,arguments),e.pledge},Tt.reject=function(){var e=Tt.defer();return e.reject.apply(p,arguments),e.pledge},Tt),pt=(ct=new ce,Ct.prototype={get:function(e){return e?ct.get(this)[e]:ct.get(this)},set:function(e,t){ct.get(this)[e]=t},remove:function(e){delete ct.get(this)[e]}},Ct),mt=(it="internal!",ot=new pt,at=/^(?:mock:|internal!)/i,ut=[],Pt.pending=function(){return G(ot.get(),qt,[])},Pt.resolved=function(){return G(ot.get(),kt,[])},Pt.rejected=function(){return G(ot.get(),Rt,[])},Et.prototype={enqueue:!0},Et.get=function(e,t){return ot.get(Oe(e,t))},Et.resolve=function(e,t){var n,r=t&&Te.test(e),i=r?this.get(it+t+"/"+e):this.get(e,t);if(!i)if(r){switch(i=new Et(it+t+"/"+e),e){case"demand":n=G(c,bt,c.bind(t));break;case"provide":n=o.bind(t);break;case"path":n=t;break;case"exports":n=this.get(t).value={}}i.dfd.resolve(n)}else i=new Et(e,t),c("/demand/handler/"+i.type).then(function(e){i.handler=e,i.mock?i.dfd.resolve(e):We.resolve(i)},function(){i.dfd.reject(new Ze(P+" (handler)",self.id))});return i},Et.remove=function(e,t,n){e=Oe(e,t),t=f.querySelector('[demand-id="'+e+'"]');ot.remove(e),ot.remove(h+e),t&&t.parentNode.removeChild(t),n!==m&&We.clear(e)},Et.list=Pt,Et),vt=(rt=/(.+)\/$/,xt.prototype={matches:function(e){return this.match.test(e)},process:function(e,t){t=this.location[t];if(t)return e.replace(this.match,t.url)}},xt),M=(nt={},function(e){var r,e="$task = "+e+"; $isTransferable = "+yt+"; onmessage = "+function(e){var t,n=Array.prototype.slice,r=e.data;function i(e){t||(t=!0,postMessage([r[0],0,e.toString()]))}try{$task.apply($task,[function(){var e;t||(t=!0,e=n.call(arguments),postMessage([r[0],1,e],e.filter($isTransferable)))},i].concat(r[1]))}catch(e){i(e)}};return(r=new Worker(URL.createObjectURL(new Blob([e],{type:"application/javascript"})))).onmessage=function(e){var t=e.data[0],n=t?nt[t]:null;t&&n&&(e.data[1]?n.resolve.apply(null,e.data[2]):n.reject(e.data[2]),delete nt[t])},function(){var e=ht.defer(),t=Y(),n=ne(arguments);return nt[t]=e,r.postMessage([t,n],n.filter(yt)),e.pledge}}),gt=(et=/^(?:\?|)$/,tt=new M(function(e,t,n){var r,i=new XMLHttpRequest,o=function(){this.readyState<4&&this.abort()}.bind(i);i.ontimeout=i.onerror=i.onabort=function(){t(i.statusText)},i.onprogress=i.onreadystatechange=function(){self.clearTimeout(r),r=self.setTimeout(o,1e4)},i.onload=function(){r=self.clearTimeout(r),"status"in i&&200!==i.status?t(i.statusText):e(i.responseText,i.getResponseHeader&&i.getResponseHeader("content-type"))},i.open("GET",n,!0),i.send(),r=self.setTimeout(o,1e4)}),function(r){var i;function e(e,t){t&&r.handler.validate&&!r.handler.validate(t)?r.dfd.reject(new Ze(P+" (content-type)",r.id)):(r.source=e,ue.emit(q,r.type,r))}ke.test(r.path)||G(l.pattern,function(e,t){t.matches(r.path)&&(!i||i.weight<t.weight)&&(i=t)}),function t(n){n=n||0,r.url=f.createElement("a"),r.url.href=i?qe(i.process(r.path,n)):r.path,ue.emit(j,r.type,r),!r.invalid&&!1!==r.cache||(r.url.search+=(et.test(r.url.search)?"":"&")+je()),tt(r.url.href).then(e,function(e){n++,i&&i.location[n]?t(n):r.dfd.reject(new Ze(P+(e?" (status)":""),r.id))})}()});function yt(e){return e instanceof ArrayBuffer||e instanceof MessagePort||"ImageBitmap"in self&&e instanceof ImageBitmap}function wt(e,t){this[e]={url:qe(t).replace(rt,"$1"),match:new RegExp("^"+t)}}function xt(e,t){var n=this;n.weight=e.length,n.match=new RegExp("^"+e),n.location=[].concat(t),G(n.location,wt,n.location)}function bt(e,t){this[e]=t}function jt(e){at.test(e)||this.push(e)}function qt(e,t){!at.test(e)&&t.pledge.isPending()&&this.push(e)}function kt(e,t){!at.test(e)&&t.pledge.isResolved()&&this.push(e)}function Rt(e,t){!at.test(e)&&t.pledge.isRejected()&&this.push(e)}function Pt(){return G(ot.get(),jt,[])}function Et(e,t,n){var r=this,i=e.match(Se)||ut;return r.path=Ae(e,t),r.mock=i[1]?v:m,r.cache=i[2]?"+"===i[1]:p,r.type=i[3]||l.handler,r.version=new ze(i[4]||l.version),r.lifetime=i[5]&&1e3*i[5]||l.lifetime,r.id=(r.mock?h:"")+r.type+"!"+r.path,r.uri=(r.mock?h:"")+r.type+"@"+r.version+(U(r.lifetime)&&0<r.lifetime?"#"+r.lifetime:"")+"!"+r.path,r.dfd=ht.defer(),r.pledge=r.dfd.pledge,r.invalid=!1,r.pledge.then(function(){r.value=ne(arguments)},function(){s.current&&s.process()}),n!==m&&ot.set(r.id,r),r}function Ct(){ct.set(this,{})}function Mt(e){e.count===e.total?e.dfd.resolve.apply(p,S.apply([],e.resolved)):e.rejected.length+e.count===e.total&&e.dfd.reject.apply(p,S.apply([],e.rejected))}function Tt(e){var t=this;return lt.set(t,{state:st,handle:function(e,t){var n,r,i=lt.get(this);for(i.state===st&&(i.state=e,i.value=t);n=i[i.state].shift();)try{if(r=n.handler.apply(p,i.value),z(r)){r.then(n.dfd.resolve,n.dfd.reject);continue}if(i.state===dt&&L(r,g)){n.dfd.resolve.apply(p,i.value);continue}n.dfd.resolve(r)}catch(e){n.dfd.reject(e)}i.resolved.length=0,i.rejected.length=0}.bind(t),value:p,resolved:[],rejected:[],count:0}),e(function(){var e=this,t=arguments;Z(function(){lt.get(e).handle(dt,t)})}.bind(t),function(){var e=this,t=arguments;Z(function(){lt.get(e).handle(ft,t)})}.bind(t)),t}function St(e){return Array.isArray(e)}function At(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0}function Ot(e,t){this[e]={weight:e.length,state:t}}function $t(e,t){"base"!==e&&(this[e]=new vt(e,t))}function It(e,t){var n=this[e]=this[e]||{};ue.emit("preConfigure",e,n),V(n,t),ue.emit(x,e,n)}function Ht(){var e,t,n,r=ne(arguments),i=this!==u?this:p,o=[],a=0;for(ue.emit(b,p,r,i);e=r[a];a++)L(e,y)?r[a]=mt.resolve(e,i):(r[a]=t=ht.defer(),t.resolve(e)),o.push(r[a].pledge);return(n=1<r.length?ht.all(o):o[0]).always(function(){if(ue.emit("postResolve",p,o,i),n.isRejected())return G(r,function(e,t){t.pledge.isRejected()&&ue.emit("reject",t.path,t)}),ht.reject.apply(null,arguments)})}Ht.configure=function(e){var t=e.cache,n=e.version,r=e.delay,i=e.timeout,o=e.lifetime,a=e.base,u=e.pattern,c=e.modules,e=l.modules;return L(t,"boolean")?l.cache[""]={weight:0,state:t}:B(t)&&G(t,Ot,l.cache),X(n)&&(l.version=n),U(r)&&(l.delay=1e3*r),U(i)&&(l.timeout=1e3*Math.min(Math.max(i,2),20)),U(o)&&0<o&&(l.lifetime=1e3*o),L(a,y)&&""!==a&&(l.pattern.base=new vt("",a)),B(u)&&G(u,$t,l.pattern),B(c)&&G(c,It,e),Ht},Ht.version="7.1.8",Ht.on=ue.on.bind(Ht),Ht.get=function(e,t){t=mt.get(e,t);return t&&t.value},Ht.list=mt.list,Ht.remove=mt.remove,Ht.cache={clear:We.clear},ue.after(n,function(e){new gt(e)}).after(q,function(e){var t=e.handler.onPostRequest;t&&t(e)}).after("cacheHit postRequest",function(e){ue.emit(k,e.id,e)}).after(j,function(e){var t=e.handler.onPreRequest;t&&t(e)}).after(k,function(e){var t=e.handler.onPreProcess;t&&t(e),e.pledge.then(function(){ue.emit(R,e.id,e)}),!0===e.enqueue?d.enqueue(e):z(e.enqueue)&&e.enqueue.then(function(){d.enqueue(e)})}),c=Ht,u.defineProperty("demand",c),(o=function(){var t,e,n,r=L(arguments[0],y)?arguments[0]:p,i=this!==u?this:p,o=St(arguments[r?1:0])?arguments[r?1:0]:p,a=o?arguments[r?2:1]:arguments[r?1:0];if(s.current&&(r=(t=s.current).uri,s.process()),r){if(t=t||new mt(r,i),i=z(a),e=L(a,w),o&&o.length)c.apply(t.path,o).then(function(){if(e)try{n=a.apply(p,arguments),!t.value&&z(n)?n.then(t.dfd.resolve,function(){t.dfd.reject(new Ze(E,t.id,arguments))}):t.dfd.resolve(t.value||n)}catch(e){console.error(e),t.dfd.reject(new Ze(E,t.id,e))}else t.dfd.resolve(a)},function(){t.dfd.reject(new Ze(E,t.id,arguments))});else if(i)a.then(t.dfd.resolve,t.dfd.reject);else if(e)try{t.dfd.resolve(a())}catch(e){console.error(e),t.dfd.reject(new Ze(E,t.id,e))}else t.dfd.resolve(a);return t.dfd.pledge.then(function(){ue.emit("provide",t.path,t)}),t.dfd.pledge}throw new Error("unspecified anonymous provide")}).amd=!0,u.defineProperty("provide",o),c.configure({cache:v,base:"/",pattern:{"/demand":qe((e&&e.url||location.href)+"/../").slice(0,-1)}}),e&&e.settings&&c.configure(e.settings);var Nt,Dt=(Nt=new ce,Lt.prototype={process:function(){var e,t=Nt.get(this);t.queue.length&&(e=t.current=t.queue.dequeue()).pledge.isPending()?e.handler.process&&e.handler.process(e):t.current=p},get current(){return Nt.get(this).current}},Lt);function Lt(e){var t=this,n={queue:e,current:p};Nt.set(t,n),c.on("queueEnqueue:"+e.uuid,function(){n.current||t.process()})}function Bt(e,t){for(var n,r;n=Pe.exec(t);)r=ke.test(n[3])?e.protocol+"//"+e.host+n[3]:(e.pathname+=(Ce.test(e.pathname)?"/../":"/")+n[3].replace(Ee,""),e.protocol+"//"+e.host+e.pathname),t=t.replace(n[0],n[1]+" "+n[2]+"="+r+".map"+(n[4]?" "+n[4]:""));return t}function Ut(){}Ut.prototype={validate:p,onPreRequest:p,onPostRequest:p,onPreProcess:p,process:p};var zt,Wt,_t,Ft=(zt=f.getElementsByTagName("head")[0],_t={umd:!(Wt=/^(application|text)\/(x-)?javascript/),suffix:".js"},c.on("postConfigure:/demand/handler/module",function(e){B(e)&&V(_t,e)}),Xt.prototype={validate:function(e){return Wt.test(e)},onPreRequest:function(e,t){var n;(t=typeof t!==g?t:_t.suffix)&&0!==e.path.indexOf("@")&&(n=e.url.pathname,e.url.pathname=n.slice(-t.length)!==t?n+t:n)},onPostRequest:function(e){e.source=Bt(e.url,e.source)},process:function(e){var t,n;e.source&&((t=f.createElement("script")).async=v,t.text=e.source,t.setAttribute("demand-id",e.id),_t.umd&&(n=u.define,u.define=o),zt.appendChild(t),_t.umd&&(u.define=n))}},new(Xt.extends(Ut)));function Xt(){}function Ze(e,t,n){return this.message=e,t&&(this.module=t),n&&(this.stack=ne(n)),this}Ze.prototype={toString:function(){var e=this,t=e.message+" "+(e.module?'"'+e.module+'"':"");return e.stack&&(t=Ze.traverse(e.stack,t,1)),t}},Ze.traverse=function(e,t,n){for(var r,i=new Array(n+1).join(" "),o=0;r=e[o];o++)t+="\n"+i+"> "+r.message+" "+(r.module?'"'+r.module+'"':""),r.stack&&(t=Ze.traverse(r.stack,t,n+1));return t};var Gt,Jt,Kt,Qt,Vt,Yt=(Vt={},c.on("postConfigure:/demand/handler/bundle",function(e){B(e)&&G(Vt=e,nn)}),rn.prototype={validate:Ft.validate,onPreProcess:function(e){var t,n,r,i,o,a=e.source,u=e.dfd,c=Vt[e.path];function s(){u.reject(new Ze(C,e.id,arguments))}if(e.enqueue=m,c&&(t=function(e){for(var t,n,r=0;n=e[r];r++)if(n=(n=n.match(Se))&&n[3]||Vt.handler,t){if(n!==t)return m}else t=n;return t}(c))){for(;n=Pe.exec(a);)a=a.replace(n[0],"");for(e.source=a,r=[],o=0;i=c[o];o++)r.push(mt.resolve(h+i).pledge);ht.all(r).then(function(){for(r.length=0,o=0;i=c[o];o++)(i=c[o]=mt.get(i)||new mt(i)).handler=arguments[o],r.push(i.pledge);"module"===t?(d.enqueue.apply(d,c),Ft.process(e)):(Ft.process(e),d.enqueue.apply(d,c)),ht.all(r).then(u.resolve,s)},s)}else s()}},new(rn.extends(Ut))),pt=(Kt=/^text\/.+$/,Qt={suffix:".html"},c.on("postConfigure:/demand/handler/component",function(e){B(e)&&V(Qt,e)}),tn.prototype={validate:function(e){return Kt.test(e)},onPreRequest:function(e,t){var n;(t=typeof t!==g?t:Qt.suffix)&&(n=e.url.pathname,e.url.pathname=n.slice(-t.length)!==t?n+t:n)},onPostRequest:function(e){e.source=Bt(e.url,e.source)},onPreProcess:function(o){var e,t,n=o.path,a=o.dfd,r=f.createElement("body"),u=[],c=[];function s(){a.reject(new Ze(C,o.id,arguments))}for(o.enqueue=m,r.innerHTML=o.source;e=r.firstElementChild;)(t=e.getAttribute("type"))&&(t=t+"!"+n+((t=e.getAttribute("path"))?"/"+t:""),e.parentNode.removeChild(e),u.push({source:e.textContent,uri:t}),c.push(mt.resolve("mock:"+t).pledge));ht.all(c).then(function(){var n,r,e,i=[];for(c.length=0,n=0;r=u[n];n++)(e=mt.get(r.uri)||new mt(r.uri)).source=Bt(e.url,r.source),e.handler=arguments[n],i.push(e),c.push(e.pledge),d.enqueue(e);ht.all(c).then(function(){var e=o.path.length+1,t={};for(n=0;r=arguments[n];n++)t[i[n].path.substr(e)||"main"]=r;a.resolve(t)},s)},s)}},new(tn.extends(Ut)));Gt="/demand/plugin/genie",Jt=[],c.on("postConfigure:"+Gt,function(e){B(e)&&(Jt.length=0,G(e,Zt))}).on(b,function(e,t){for(var n,r,i={},o=0;n=e[o];o++)!L(n,y)||Te.test(n)||mt.get(n,t)||"module"===(n=new mt(n,t,m)).type&&(r=function(e){for(var t,n,r=0;t=Jt[r];r++)t.prefix.test(e)&&(!n||t.weight>n.weight)&&(n=t);return n}(n.path))&&!We.get(n)&&(i[r.prefix]||(i[r.prefix]={fn:r.fn,matches:[]})).matches.push(n);G(i,en)});function Zt(e,t){Jt.push({prefix:new RegExp("^"+e),weight:e.length,fn:t})}function en(e,t){var n,r=t.matches,i=0;if(1<r.length){for(t.id=Gt+"/"+At(JSON.stringify(t.matches));n=r[i];i++)r[i]=new mt(n.uri);c.configure(function(e){var t,n,r=e.matches,i={pattern:{},modules:{"/demand/handler/bundle":{}}},o=0;for(i.pattern[e.id]=e.fn(r),i.modules["/demand/handler/bundle"][e.id]=t=[];n=r[o];o++)t.push(n.path);return i}(t)),c("bundle!"+t.id).then(function(){for(var e,t=0;e=this[t];t++)e.dfd.resolve(arguments[t])}.bind(r),function(){for(var e,t=0;e=this[t];t++)e.dfd.reject(new Ze(C,e.id))}.bind(r))}}function tn(){}function nn(e,t){for(var n,r=0;n=t[r];r++)L(n,y)&&(t[r]=Oe(n))}function rn(){}function on(e,t){o(e,function(){return t})}if(d=new ye,s=new Dt(d),on("/demand/abstract/uuid",le),on("/demand/abstract/handler",Ut),on("/demand/handler/module",Ft),on("/demand/handler/bundle",Yt),on("/demand/handler/component",pt),on("/demand/plugin/genie",!0),on("/demand/validator/isTypeOf",L),on("/demand/validator/isArray",St),on("/demand/validator/isObject",B),on("/demand/validator/isInstanceOf",function(e,t){return e instanceof t}),on("/demand/validator/isSemver",X),on("/demand/validator/isThenable",z),on("/demand/function/resolveUrl",qe),on("/demand/function/resolveSourcemaps",Bt),on("/demand/function/merge",V),on("/demand/function/iterate",G),on("/demand/function/hash",At),on("/demand/function/defer",Z),on("/demand/function/idle",we),on("/demand/function/uuid",Y),on("/demand/function/toArray",ne),on("/demand/task",M),on("/demand/weakmap",ce),on("/demand/descriptor",D),on("/demand/pledge",ht),on("/demand/queue",ye),on("/demand/failure",Ze),on("/demand/semver",ze),e&&e.main)switch(typeof e.main){case y:c(e.main);break;case w:o("main",e.main())}}("demand-loader"===this.name?parent:this,setTimeout,clearTimeout);