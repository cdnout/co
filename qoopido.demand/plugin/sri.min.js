var SUPPORTED_ALGS=15;!function(r){"use strict";var L,m,l,s,U=4294967296;function k(r,e){this.highOrder=r,this.lowOrder=e}function R(r,e,n,t){for(var o,i="0123456789abcdef",h="",w=e/8,d=-1===n?3:0,u=0;u<w;u+=1)o=r[u>>>2]>>>8*(d+n*(u%4)),h+=i.charAt(o>>>4&15)+i.charAt(15&o);return t.outputUpper?h.toUpperCase():h}function b(r,e,n,t){for(var o,i,h,w,d="",u=e/8,f=-1===n?3:0,a=0;a<u;a+=3)for(h=a+1<u?r[a+1>>>2]:0,w=a+2<u?r[a+2>>>2]:0,i=(r[a>>>2]>>>8*(f+n*(a%4))&255)<<16|(h>>>8*(f+n*((a+1)%4))&255)<<8|w>>>8*(f+n*((a+2)%4))&255,o=0;o<4;o+=1)d+=8*a+6*o<=e?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-o)&63):t.b64Pad;return d}function T(r,e,n){for(var t,o="",i=e/8,h=-1===n?3:0,w=0;w<i;w+=1)t=r[w>>>2]>>>8*(h+n*(w%4))&255,o+=String.fromCharCode(t);return o}function y(r,e,n){for(var t=e/8,e=new ArrayBuffer(t),o=new Uint8Array(e),i=-1===n?3:0,h=0;h<t;h+=1)o[h]=r[h>>>2]>>>8*(i+n*(h%4))&255;return e}function F(r){var e={outputUpper:!1,b64Pad:"=",shakeLen:-1},r=r||{};if(e.outputUpper=r.outputUpper||!1,!0===r.hasOwnProperty("b64Pad")&&(e.b64Pad=r.b64Pad),!0===r.hasOwnProperty("shakeLen")&&0!=(8&SUPPORTED_ALGS)){if(r.shakeLen%8!=0)throw new Error("shakeLen must be a multiple of 8");e.shakeLen=r.shakeLen}if("boolean"!=typeof e.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof e.b64Pad)throw new Error("Invalid b64Pad formatting option");return e}function B(r,n,t){var e;switch(n){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(r){case"HEX":e=function(r,e,n){return function(r,e,n,t){var o,i,h,w,d,u,f,a=r.length;if(0!=a%2)throw new Error("String of HEX type must be in byte increments");for(o=e||[0],u=(n=n||0)>>>3,f=-1===t?3:0,i=0;i<a;i+=2){if(h=parseInt(r.substr(i,2),16),isNaN(h))throw new Error("String of HEX type contains invalid characters");for(w=(d=(i>>>1)+u)>>>2;o.length<=w;)o.push(0);o[w]|=h<<8*(f+t*(d%4))}return{value:o,binLen:4*a+n}}(r,e,n,t)};break;case"TEXT":e=function(r,c,e){return function(r,e,n,t){var o,i,h,w,d,u,f,a,O=0,l=c||[0],s=(n=n||0)>>>3;if("UTF8"===e)for(f=-1===t?3:0,h=0;h<r.length;h+=1)for(i=[],(o=r.charCodeAt(h))<128?i.push(o):o<2048?(i.push(192|o>>>6),i.push(128|63&o)):o<55296||57344<=o?i.push(224|o>>>12,128|o>>>6&63,128|63&o):(h+=1,o=65536+((1023&o)<<10|1023&r.charCodeAt(h)),i.push(240|o>>>18,128|o>>>12&63,128|o>>>6&63,128|63&o)),w=0;w<i.length;w+=1){for(d=(u=O+s)>>>2;l.length<=d;)l.push(0);l[d]|=i[w]<<8*(f+t*(u%4)),O+=1}else if("UTF16BE"===e||"UTF16LE"===e)for(f=-1===t?2:0,a="UTF16LE"===e&&1!==t||"UTF16LE"!==e&&1===t,h=0;h<r.length;h+=1){for(o=r.charCodeAt(h),!0==a&&(o=(w=255&o)<<8|o>>>8),d=(u=O+s)>>>2;l.length<=d;)l.push(0);l[d]|=o<<8*(f+t*(u%4)),O+=2}return{value:l,binLen:8*O+n}}(r,n,e,t)};break;case"B64":e=function(r,e,n){return function(r,e,n,t){var o,i,h,w,d,u,f,a,O,l,s=0;if(-1===r.search(/^[a-zA-Z0-9=+\/]+$/))throw new Error("Invalid character in base-64 string");if(u=r.indexOf("="),r=r.replace(/\=/g,""),-1!==u&&u<r.length)throw new Error("Invalid '=' found in base-64 string");for(o=e||[0],f=(n=n||0)>>>3,l=-1===t?3:0,i=0;i<r.length;i+=4){for(d=r.substr(i,4),h=w=0;h<d.length;h+=1)w|="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(d[h])<<18-6*h;for(h=0;h<d.length-1;h+=1){for(a=(O=s+f)>>>2;o.length<=a;)o.push(0);o[a]|=(w>>>16-8*h&255)<<8*(l+t*(O%4)),s+=1}}return{value:o,binLen:8*s+n}}(r,e,n,t)};break;case"BYTES":e=function(r,f,e){return function(r,e,n){for(var t,o,i,h=f||[0],w=(e=e||0)>>>3,d=-1===n?3:0,u=0;u<r.length;u+=1)t=r.charCodeAt(u),o=(i=u+w)>>>2,h.length<=o&&h.push(0),h[o]|=t<<8*(d+n*(i%4));return{value:h,binLen:8*r.length+e}}(r,e,t)};break;case"ARRAYBUFFER":try{e=new ArrayBuffer(0)}catch(r){throw new Error("ARRAYBUFFER not supported by this environment")}e=function(r,f,e){return function(r,e,n){for(var t,o,i=f||[0],h=(e=e||0)>>>3,w=-1===n?3:0,d=new Uint8Array(r),u=0;u<r.byteLength;u+=1)t=(o=u+h)>>>2,i.length<=t&&i.push(0),i[t]|=d[u]<<8*(w+n*(o%4));return{value:i,binLen:8*r.byteLength+e}}(r,e,t)};break;default:throw new Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER")}return e}function g(r,e){return r<<e|r>>>32-e}function c(r,e){return 32<e?(e-=32,new k(r.lowOrder<<e|r.highOrder>>>32-e,r.highOrder<<e|r.lowOrder>>>32-e)):0!==e?new k(r.highOrder<<e|r.lowOrder>>>32-e,r.lowOrder<<e|r.highOrder>>>32-e):r}function e(r,e){return r>>>e|r<<32-e}function t(r,e){r=new k(r.highOrder,r.lowOrder);return e<=32?new k(r.highOrder>>>e|r.lowOrder<<32-e&4294967295,r.lowOrder>>>e|r.highOrder<<32-e&4294967295):new k(r.lowOrder>>>e-32|r.highOrder<<64-e&4294967295,r.highOrder>>>e-32|r.lowOrder<<64-e&4294967295)}function o(r,e){return e<=32?new k(r.highOrder>>>e,r.lowOrder>>>e|r.highOrder<<32-e&4294967295):new k(0,r.highOrder>>>e-32)}function A(r,e,n){return r^e^n}function D(r,e,n){return r&e^~r&n}function G(r,e,n){return new k(r.highOrder&e.highOrder^~r.highOrder&n.highOrder,r.lowOrder&e.lowOrder^~r.lowOrder&n.lowOrder)}function _(r,e,n){return r&e^r&n^e&n}function C(r,e,n){return new k(r.highOrder&e.highOrder^r.highOrder&n.highOrder^e.highOrder&n.highOrder,r.lowOrder&e.lowOrder^r.lowOrder&n.lowOrder^e.lowOrder&n.lowOrder)}function x(r){return e(r,2)^e(r,13)^e(r,22)}function Y(r){var e=t(r,28),n=t(r,34),r=t(r,39);return new k(e.highOrder^n.highOrder^r.highOrder,e.lowOrder^n.lowOrder^r.lowOrder)}function I(r){return e(r,6)^e(r,11)^e(r,25)}function X(r){var e=t(r,14),n=t(r,18),r=t(r,41);return new k(e.highOrder^n.highOrder^r.highOrder,e.lowOrder^n.lowOrder^r.lowOrder)}function M(r){return e(r,7)^e(r,18)^r>>>3}function K(r){var e=t(r,1),n=t(r,8),r=o(r,7);return new k(e.highOrder^n.highOrder^r.highOrder,e.lowOrder^n.lowOrder^r.lowOrder)}function j(r){return e(r,17)^e(r,19)^r>>>10}function N(r){var e=t(r,19),n=t(r,61),r=o(r,6);return new k(e.highOrder^n.highOrder^r.highOrder,e.lowOrder^n.lowOrder^r.lowOrder)}function q(r,e){var n=(65535&r)+(65535&e);return(65535&(r>>>16)+(e>>>16)+(n>>>16))<<16|65535&n}function z(r,e,n,t){var o=(65535&r)+(65535&e)+(65535&n)+(65535&t);return(65535&(r>>>16)+(e>>>16)+(n>>>16)+(t>>>16)+(o>>>16))<<16|65535&o}function Z(r,e,n,t,o){var i=(65535&r)+(65535&e)+(65535&n)+(65535&t)+(65535&o);return(65535&(r>>>16)+(e>>>16)+(n>>>16)+(t>>>16)+(o>>>16)+(i>>>16))<<16|65535&i}function J(r,e){var n,t=(65535&r.lowOrder)+(65535&e.lowOrder),o=(65535&(n=(r.lowOrder>>>16)+(e.lowOrder>>>16)+(t>>>16)))<<16|65535&t;return t=(65535&r.highOrder)+(65535&e.highOrder)+(n>>>16),new k((65535&(r.highOrder>>>16)+(e.highOrder>>>16)+(t>>>16))<<16|65535&t,o)}function Q(r,e,n,t){var o,i=(65535&r.lowOrder)+(65535&e.lowOrder)+(65535&n.lowOrder)+(65535&t.lowOrder),h=(65535&(o=(r.lowOrder>>>16)+(e.lowOrder>>>16)+(n.lowOrder>>>16)+(t.lowOrder>>>16)+(i>>>16)))<<16|65535&i;return i=(65535&r.highOrder)+(65535&e.highOrder)+(65535&n.highOrder)+(65535&t.highOrder)+(o>>>16),new k((65535&(r.highOrder>>>16)+(e.highOrder>>>16)+(n.highOrder>>>16)+(t.highOrder>>>16)+(i>>>16))<<16|65535&i,h)}function V(r,e,n,t,o){var i,h=(65535&r.lowOrder)+(65535&e.lowOrder)+(65535&n.lowOrder)+(65535&t.lowOrder)+(65535&o.lowOrder),w=(65535&(i=(r.lowOrder>>>16)+(e.lowOrder>>>16)+(n.lowOrder>>>16)+(t.lowOrder>>>16)+(o.lowOrder>>>16)+(h>>>16)))<<16|65535&h;return h=(65535&r.highOrder)+(65535&e.highOrder)+(65535&n.highOrder)+(65535&t.highOrder)+(65535&o.highOrder)+(i>>>16),new k((65535&(r.highOrder>>>16)+(e.highOrder>>>16)+(n.highOrder>>>16)+(t.highOrder>>>16)+(o.highOrder>>>16)+(h>>>16))<<16|65535&h,w)}function S(r,e){return new k(r.highOrder^e.highOrder,r.lowOrder^e.lowOrder)}function W(r){var e,n,t,o=[];if("SHA-1"===r&&0!=(1&SUPPORTED_ALGS))o=[1732584193,4023233417,2562383102,271733878,3285377520];else if(0===r.lastIndexOf("SHA-",0)&&0!=(6&SUPPORTED_ALGS))switch(e=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],n=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],r){case"SHA-224":o=e;break;case"SHA-256":o=n;break;case"SHA-384":o=[new k(3418070365,e[0]),new k(1654270250,e[1]),new k(2438529370,e[2]),new k(355462360,e[3]),new k(1731405415,e[4]),new k(41048885895,e[5]),new k(3675008525,e[6]),new k(1203062813,e[7])];break;case"SHA-512":o=[new k(n[0],4089235720),new k(n[1],2227873595),new k(n[2],4271175723),new k(n[3],1595750129),new k(n[4],2917565137),new k(n[5],725511199),new k(n[6],4215389547),new k(n[7],327033209)];break;default:throw new Error("Unknown SHA variant")}else{if(0!==r.lastIndexOf("SHA3-",0)&&0!==r.lastIndexOf("SHAKE",0)||0==(8&SUPPORTED_ALGS))throw new Error("No SHA variants supported");for(t=0;t<5;t+=1)o[t]=[new k(0,0),new k(0,0),new k(0,0),new k(0,0),new k(0,0)]}return o}function $(r,e){for(var n,t=[],o=D,i=A,h=_,w=g,d=q,u=Z,f=e[0],a=e[1],O=e[2],l=e[3],s=e[4],c=0;c<80;c+=1)t[c]=c<16?r[c]:w(t[c-3]^t[c-8]^t[c-14]^t[c-16],1),n=c<20?u(w(f,5),o(a,O,l),s,1518500249,t[c]):c<40?u(w(f,5),i(a,O,l),s,1859775393,t[c]):c<60?u(w(f,5),h(a,O,l),s,2400959708,t[c]):u(w(f,5),i(a,O,l),s,3395469782,t[c]),s=l,l=O,O=w(a,30),a=f,f=n;return e[0]=d(f,e[0]),e[1]=d(a,e[1]),e[2]=d(O,e[2]),e[3]=d(l,e[3]),e[4]=d(s,e[4]),e}function rr(r,e,n,t,o){for(var i,h,w=15+(e+65>>>9<<4);r.length<=w;)r.push(0);for(r[e>>>5]|=128<<24-e%32,n=e+n,r[w]=4294967295&n,r[w-1]=n/U|0,h=r.length,i=0;i<h;i+=16)t=$(r.slice(i,i+16),t);return t}function er(r,e,n){var t,o,i,h,w,d,u,f,a,O,l,s,c,g,A,S,E,p,H,v,P,U,R,b,T=[];if("SHA-224"!==n&&"SHA-256"!==n||0==(2&SUPPORTED_ALGS)){if("SHA-384"!==n&&"SHA-512"!==n||0==(4&SUPPORTED_ALGS))throw new Error("Unexpected error in SHA-2 implementation");a=80,l=2,P=k,s=J,c=Q,g=V,A=K,S=N,E=Y,p=X,v=C,H=G,b=m}else a=64,l=1,P=Number,s=q,c=z,g=Z,A=M,S=j,E=x,p=I,v=_,H=D,b=L;for(t=e[0],o=e[1],i=e[2],h=e[3],w=e[4],d=e[5],u=e[6],f=e[7],O=0;O<a;O+=1)O<16?(R=O*l,U=r.length<=R?0:r[R],R=r.length<=1+R?0:r[1+R],T[O]=new P(U,R)):T[O]=c(S(T[O-2]),T[O-7],A(T[O-15]),T[O-16]),U=g(f,p(w),H(w,d,u),b[O],T[O]),R=s(E(t),v(t,o,i)),f=u,u=d,d=w,w=s(h,U),h=i,i=o,o=t,t=s(U,R);return e[0]=s(t,e[0]),e[1]=s(o,e[1]),e[2]=s(i,e[2]),e[3]=s(h,e[3]),e[4]=s(w,e[4]),e[5]=s(d,e[5]),e[6]=s(u,e[6]),e[7]=s(f,e[7]),e}function nr(r,e){var n,t,o,i,h,w,d,u,f,a=[],O=[];if(null!==r)for(t=0;t<r.length;t+=2)e[(t>>>1)%5][(t>>>1)/5|0]=S(e[(t>>>1)%5][(t>>>1)/5|0],new k(r[t+1],r[t]));for(n=0;n<24;n+=1){for(i=W("SHA3-"),t=0;t<5;t+=1)a[t]=(h=e[t][0],w=e[t][1],d=e[t][2],u=e[t][3],f=e[t][4],new k(h.highOrder^w.highOrder^d.highOrder^u.highOrder^f.highOrder,h.lowOrder^w.lowOrder^d.lowOrder^u.lowOrder^f.lowOrder));for(t=0;t<5;t+=1)O[t]=S(a[(t+4)%5],c(a[(t+1)%5],1));for(t=0;t<5;t+=1)for(o=0;o<5;o+=1)e[t][o]=S(e[t][o],O[t]);for(t=0;t<5;t+=1)for(o=0;o<5;o+=1)i[o][(2*t+3*o)%5]=c(e[t][o],l[t][o]);for(t=0;t<5;t+=1)for(o=0;o<5;o+=1)e[t][o]=S(i[t][o],new k(~i[(t+1)%5][o].highOrder&i[(t+2)%5][o].highOrder,~i[(t+1)%5][o].lowOrder&i[(t+2)%5][o].lowOrder));e[0][0]=S(e[0][0],s[n])}return e}0!=(6&SUPPORTED_ALGS)&&(L=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],0!=(4&SUPPORTED_ALGS)&&(m=[new k(L[0],3609767458),new k(L[1],602891725),new k(L[2],3964484399),new k(L[3],2173295548),new k(L[4],4081628472),new k(L[5],3053834265),new k(L[6],2937671579),new k(L[7],3664609560),new k(L[8],2734883394),new k(L[9],1164996542),new k(L[10],1323610764),new k(L[11],3590304994),new k(L[12],4068182383),new k(L[13],991336113),new k(L[14],633803317),new k(L[15],3479774868),new k(L[16],2666613458),new k(L[17],944711139),new k(L[18],2341262773),new k(L[19],2007800933),new k(L[20],1495990901),new k(L[21],1856431235),new k(L[22],3175218132),new k(L[23],2198950837),new k(L[24],3999719339),new k(L[25],766784016),new k(L[26],2566594879),new k(L[27],3203337956),new k(L[28],1034457026),new k(L[29],2466948901),new k(L[30],3758326383),new k(L[31],168717936),new k(L[32],1188179964),new k(L[33],1546045734),new k(L[34],1522805485),new k(L[35],2643833823),new k(L[36],2343527390),new k(L[37],1014477480),new k(L[38],1206759142),new k(L[39],344077627),new k(L[40],1290863460),new k(L[41],3158454273),new k(L[42],3505952657),new k(L[43],106217008),new k(L[44],3606008344),new k(L[45],1432725776),new k(L[46],1467031594),new k(L[47],851169720),new k(L[48],3100823752),new k(L[49],1363258195),new k(L[50],3750685593),new k(L[51],3785050280),new k(L[52],3318307427),new k(L[53],3812723403),new k(L[54],2003034995),new k(L[55],3602036899),new k(L[56],1575990012),new k(L[57],1125592928),new k(L[58],2716904306),new k(L[59],442776044),new k(L[60],593698344),new k(L[61],3733110249),new k(L[62],2999351573),new k(L[63],3815920427),new k(3391569614,3928383900),new k(3515267271,566280711),new k(3940187606,3454069534),new k(4118630271,4000239992),new k(116418474,1914138554),new k(174292421,2731055270),new k(289380356,3203993006),new k(460393269,320620315),new k(685471733,587496836),new k(852142971,1086792851),new k(1017036298,365543100),new k(1126000580,2618297676),new k(1288033470,3409855158),new k(1501505948,4234509866),new k(1607167915,987167468),new k(1816402316,1246189591)])),0!=(8&SUPPORTED_ALGS)&&(s=[new k(0,1),new k(0,32898),new k(2147483648,32906),new k(2147483648,2147516416),new k(0,32907),new k(0,2147483649),new k(2147483648,2147516545),new k(2147483648,32777),new k(0,138),new k(0,136),new k(0,2147516425),new k(0,2147483658),new k(0,2147516555),new k(2147483648,139),new k(2147483648,32905),new k(2147483648,32771),new k(2147483648,32770),new k(2147483648,128),new k(0,32778),new k(2147483648,2147483658),new k(2147483648,2147516545),new k(2147483648,32896),new k(0,2147483649),new k(2147483648,2147516424)],l=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]]);function n(r,e,n){var w,d,h,u,f,a,O=0,l=[],s=0,c=r,g=!1,A=[],S=[],E=!1,p=!1,H=-1,r=(n=n||{}).encoding||"UTF8";if((a=n.numRounds||1)!==parseInt(a,10)||a<1)throw new Error("numRounds must a integer >= 1");if("SHA-1"===c&&0!=(1&SUPPORTED_ALGS))u=512,v=$,f=rr,h=160,P=function(r){return r.slice()};else if(0===c.lastIndexOf("SHA-",0)&&0!=(6&SUPPORTED_ALGS))if(v=function(r,e){return er(r,e,c)},f=function(r,e,n,t,o){return function(r,e,n,t,o){var i,h,w,d,u;if("SHA-224"!==o&&"SHA-256"!==o||0==(2&SUPPORTED_ALGS)){if("SHA-384"!==o&&"SHA-512"!==o||0==(4&SUPPORTED_ALGS))throw new Error("Unexpected error in SHA-2 implementation");w=31+(e+129>>>10<<5),u=32}else w=15+(e+65>>>9<<4),u=16;for(;r.length<=w;)r.push(0);for(r[e>>>5]|=128<<24-e%32,n=e+n,r[w]=4294967295&n,r[w-1]=n/U|0,h=r.length,i=0;i<h;i+=u)t=er(r.slice(i,i+u),t,o);if("SHA-224"===o&&0!=(2&SUPPORTED_ALGS))d=[t[0],t[1],t[2],t[3],t[4],t[5],t[6]];else if("SHA-256"===o&&0!=(2&SUPPORTED_ALGS))d=t;else if("SHA-384"===o&&0!=(4&SUPPORTED_ALGS))d=[t[0].highOrder,t[0].lowOrder,t[1].highOrder,t[1].lowOrder,t[2].highOrder,t[2].lowOrder,t[3].highOrder,t[3].lowOrder,t[4].highOrder,t[4].lowOrder,t[5].highOrder,t[5].lowOrder];else{if("SHA-512"!==o||0==(4&SUPPORTED_ALGS))throw new Error("Unexpected error in SHA-2 implementation");d=[t[0].highOrder,t[0].lowOrder,t[1].highOrder,t[1].lowOrder,t[2].highOrder,t[2].lowOrder,t[3].highOrder,t[3].lowOrder,t[4].highOrder,t[4].lowOrder,t[5].highOrder,t[5].lowOrder,t[6].highOrder,t[6].lowOrder,t[7].highOrder,t[7].lowOrder]}return d}(r,e,n,t,c)},P=function(r){return r.slice()},"SHA-224"===c&&0!=(2&SUPPORTED_ALGS))u=512,h=224;else if("SHA-256"===c&&0!=(2&SUPPORTED_ALGS))u=512,h=256;else if("SHA-384"===c&&0!=(4&SUPPORTED_ALGS))u=1024,h=384;else{if("SHA-512"!==c||0==(4&SUPPORTED_ALGS))throw new Error("Chosen SHA variant is not supported");u=1024,h=512}else{if(0!==c.lastIndexOf("SHA3-",0)&&0!==c.lastIndexOf("SHAKE",0)||0==(8&SUPPORTED_ALGS))throw new Error("Chosen SHA variant is not supported");var i=6,v=nr,P=function(r){for(var e=[],n=0;n<5;n+=1)e[n]=r[n].slice();return e},H=1;if("SHA3-224"===c)u=1152,h=224;else if("SHA3-256"===c)u=1088,h=256;else if("SHA3-384"===c)u=832,h=384;else if("SHA3-512"===c)u=576,h=512;else if("SHAKE128"===c)u=1344,h=-1,i=31,p=!0;else{if("SHAKE256"!==c)throw new Error("Chosen SHA variant is not supported");u=1088,h=-1,i=31,p=!0}f=function(r,e,n,t,o){return function(r,e,n,t,o,i){for(var h,w=[],d=t>>>5,u=0,f=e>>>5,a=0;a<f&&t<=e;a+=d)n=nr(r.slice(a,a+d),n),e-=t;for(r=r.slice(a),e%=t;r.length<d;)r.push(0);for(r[(a=e>>>3)>>2]^=o<<a%4*8,r[d-1]^=2147483648,n=nr(r,n);32*w.length<i&&(h=n[u%5][u/5|0],w.push(h.lowOrder),!(32*w.length>=i));)w.push(h.highOrder),0==64*(u+=1)%t&&nr(null,n);return w}(r,e,t,u,i,o)}}d=B(e,r,H),w=W(c),this.setHMACKey=function(r,e,n){var t,o,i;if(!0===g)throw new Error("HMAC key already set");if(!0===E)throw new Error("Cannot set HMAC key after calling update");if(!0===p&&0!=(8&SUPPORTED_ALGS))throw new Error("SHAKE is not supported for HMAC");if(r=(n=B(e,(n||{}).encoding||"UTF8",H)(r)).binLen,t=n.value,i=(n=u>>>3)/4-1,n<r/8){for(t=f(t,r,0,W(c),h);t.length<=i;)t.push(0);t[i]&=4294967040}else if(r/8<n){for(;t.length<=i;)t.push(0);t[i]&=4294967040}for(o=0;o<=i;o+=1)A[o]=909522486^t[o],S[o]=1549556828^t[o];w=v(A,w),O=u,g=!0},this.update=function(r){for(var e=0,n=u>>>5,t=(r=d(r,l,s)).binLen,o=r.value,i=t>>>5,h=0;h<i;h+=n)e+u<=t&&(w=v(o.slice(h,h+n),w),e+=u);O+=e,l=o.slice(e>>>5),s=t%u,E=!0},this.getHash=function(r,e){var n,t,o,i;if(!0===g)throw new Error("Cannot call getHash after setting HMAC key");if(o=F(e),!0===p&&0!=(8&SUPPORTED_ALGS)){if(-1===o.shakeLen)throw new Error("shakeLen must be specified in options");h=o.shakeLen}switch(r){case"HEX":n=function(r){return R(r,h,H,o)};break;case"B64":n=function(r){return b(r,h,H,o)};break;case"BYTES":n=function(r){return T(r,h,H)};break;case"ARRAYBUFFER":try{t=new ArrayBuffer(0)}catch(r){throw new Error("ARRAYBUFFER not supported by this environment")}n=function(r){return y(r,h,H)};break;default:throw new Error("format must be HEX, B64, BYTES, or ARRAYBUFFER")}for(i=f(l.slice(),s,O,P(w),h),t=1;t<a;t+=1)0!=(8&SUPPORTED_ALGS)&&!0===p&&h%32!=0&&(i[i.length-1]&=16777215>>>24-h%32),i=f(i,h,0,W(c),h);return n(i)},this.getHMAC=function(r,e){var n,t,o;if(!1===g)throw new Error("Cannot call getHMAC without first setting HMAC key");switch(o=F(e),r){case"HEX":n=function(r){return R(r,h,H,o)};break;case"B64":n=function(r){return b(r,h,H,o)};break;case"BYTES":n=function(r){return T(r,h,H)};break;case"ARRAYBUFFER":try{n=new ArrayBuffer(0)}catch(r){throw new Error("ARRAYBUFFER not supported by this environment")}n=function(r){return y(r,h,H)};break;default:throw new Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER")}return t=f(l.slice(),s,O,P(w),h),e=v(S,W(c)),n(e=f(t,h,u,e,h))}}"function"==typeof define&&define.amd?define(function(){return n}):"undefined"!=typeof exports?exports=("undefined"!=typeof module&&module.exports&&(module.exports=n),n):r.jsSHA=n}(this),function(d){"use strict";provide(["path","/demand/failure","/demand/function/iterate","/demand/validator/isObject"],function(r,i,h,e){var w;return demand.on("postConfigure:"+r,function(r){e(r)&&(w=r)}).on("postRequest",function(e){var r,n,t,o;if(t=e.path,h(w,function(r,e){if(r===t)return o=e,!1}),r=o||!1)try{(n=new d.jsSHA(r.type,"TEXT")).update(e.source),(n=n.getHash("B64"))!==r.hash&&e.dfd.reject(new i('hash mismatch, should be "'+r.hash+'" but is "'+n+'" (sri)',e.id))}catch(r){e.dfd.reject(new i("unsupported hashing algorithm (sri)",e.id))}}),!0})}(this);