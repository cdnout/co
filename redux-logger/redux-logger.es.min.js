var $scope,conflict,repeat=function(e,t){return new Array(t+1).join(e)},pad=function(e,t){return repeat("0",t-e.toString().length)+e},formatTime=function(e){return pad(e.getHours(),2)+":"+pad(e.getMinutes(),2)+":"+pad(e.getSeconds(),2)+"."+pad(e.getMilliseconds(),3)},timer="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},conflictResolution=[];function inherits$$1(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function Diff(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function DiffEdit(e,t,r){DiffEdit.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:r,enumerable:!0})}function DiffNew(e,t){DiffNew.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function DiffDeleted(e,t){DiffDeleted.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function DiffArray(e,t,r){DiffArray.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:r,enumerable:!0})}function arrayRemove(e,t,r){var n=e.slice((r||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,n),e}function realTypeOf(e){var t=void 0===e?"undefined":_typeof(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function deepDiff(e,t,r,n,o,i,a){a=a||[];var f=(o=o||[]).slice(0);if(void 0!==i){if(n){if("function"==typeof n&&n(f,i))return;if("object"===(void 0===n?"undefined":_typeof(n))){if(n.prefilter&&n.prefilter(f,i))return;if(n.normalize){var l=n.normalize(f,i,e,t);l&&(e=l[0],t=l[1])}}}f.push(i)}"regexp"===realTypeOf(e)&&"regexp"===realTypeOf(t)&&(e=e.toString(),t=t.toString());var c=void 0===e?"undefined":_typeof(e),u=void 0===t?"undefined":_typeof(t),p="undefined"!==c||a&&a[a.length-1].lhs&&a[a.length-1].lhs.hasOwnProperty(i),s="undefined"!==u||a&&a[a.length-1].rhs&&a[a.length-1].rhs.hasOwnProperty(i);if(!p&&s)r(new DiffNew(f,t));else if(!s&&p)r(new DiffDeleted(f,e));else if(realTypeOf(e)!==realTypeOf(t))r(new DiffEdit(f,e,t));else if("date"===realTypeOf(e)&&e-t!=0)r(new DiffEdit(f,e,t));else if("object"===c&&null!==e&&null!==t)if(a.filter(function(t){return t.lhs===e}).length)e!==t&&r(new DiffEdit(f,e,t));else{if(a.push({lhs:e,rhs:t}),Array.isArray(e)){var d;e.length;for(d=0;d<e.length;d++)d>=t.length?r(new DiffArray(f,d,new DiffDeleted(void 0,e[d]))):deepDiff(e[d],t[d],r,n,f,d,a);for(;d<t.length;)r(new DiffArray(f,d,new DiffNew(void 0,t[d++])))}else{var g=Object.keys(e),h=Object.keys(t);g.forEach(function(o,i){var l=h.indexOf(o);l>=0?(deepDiff(e[o],t[o],r,n,f,o,a),h=arrayRemove(h,l)):deepDiff(e[o],void 0,r,n,f,o,a)}),h.forEach(function(e){deepDiff(void 0,t[e],r,n,f,e,a)})}a.length=a.length-1}else e!==t&&("number"===c&&isNaN(e)&&isNaN(t)||r(new DiffEdit(f,e,t)))}function accumulateDiff(e,t,r,n){return n=n||[],deepDiff(e,t,function(e){e&&n.push(e)},r),n.length?n:void 0}function applyArrayChange(e,t,r){if(r.path&&r.path.length){var n,o=e[t],i=r.path.length-1;for(n=0;n<i;n++)o=o[r.path[n]];switch(r.kind){case"A":applyArrayChange(o[r.path[n]],r.index,r.item);break;case"D":delete o[r.path[n]];break;case"E":case"N":o[r.path[n]]=r.rhs}}else switch(r.kind){case"A":applyArrayChange(e[t],r.index,r.item);break;case"D":e=arrayRemove(e,t);break;case"E":case"N":e[t]=r.rhs}return e}function applyChange(e,t,r){if(e&&t&&r&&r.kind){for(var n=e,o=-1,i=r.path?r.path.length-1:0;++o<i;)void 0===n[r.path[o]]&&(n[r.path[o]]="number"==typeof r.path[o]?[]:{}),n=n[r.path[o]];switch(r.kind){case"A":applyArrayChange(r.path?n[r.path[o]]:n,r.index,r.item);break;case"D":delete n[r.path[o]];break;case"E":case"N":n[r.path[o]]=r.rhs}}}function revertArrayChange(e,t,r){if(r.path&&r.path.length){var n,o=e[t],i=r.path.length-1;for(n=0;n<i;n++)o=o[r.path[n]];switch(r.kind){case"A":revertArrayChange(o[r.path[n]],r.index,r.item);break;case"D":case"E":o[r.path[n]]=r.lhs;break;case"N":delete o[r.path[n]]}}else switch(r.kind){case"A":revertArrayChange(e[t],r.index,r.item);break;case"D":case"E":e[t]=r.lhs;break;case"N":e=arrayRemove(e,t)}return e}function revertChange(e,t,r){if(e&&t&&r&&r.kind){var n,o,i=e;for(o=r.path.length-1,n=0;n<o;n++)void 0===i[r.path[n]]&&(i[r.path[n]]={}),i=i[r.path[n]];switch(r.kind){case"A":revertArrayChange(i[r.path[n]],r.index,r.item);break;case"D":case"E":i[r.path[n]]=r.lhs;break;case"N":delete i[r.path[n]]}}}function applyDiff(e,t,r){if(e&&t){deepDiff(e,t,function(n){r&&!r(e,t,n)||applyChange(e,t,n)})}}$scope="object"===("undefined"==typeof global?"undefined":_typeof(global))&&global?global:"undefined"!=typeof window?window:{},(conflict=$scope.DeepDiff)&&conflictResolution.push(function(){void 0!==conflict&&$scope.DeepDiff===accumulateDiff&&($scope.DeepDiff=conflict,conflict=void 0)}),inherits$$1(DiffEdit,Diff),inherits$$1(DiffNew,Diff),inherits$$1(DiffDeleted,Diff),inherits$$1(DiffArray,Diff),Object.defineProperties(accumulateDiff,{diff:{value:accumulateDiff,enumerable:!0},observableDiff:{value:deepDiff,enumerable:!0},applyDiff:{value:applyDiff,enumerable:!0},applyChange:{value:applyChange,enumerable:!0},revertChange:{value:revertChange,enumerable:!0},isConflict:{value:function(){return void 0!==conflict},enumerable:!0},noConflict:{value:function(){return conflictResolution&&(conflictResolution.forEach(function(e){e()}),conflictResolution=null),accumulateDiff},enumerable:!0}});var dictionary={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}};function style(e){return"color: "+dictionary[e].color+"; font-weight: bold"}function render(e){var t=e.kind,r=e.path,n=e.lhs,o=e.rhs,i=e.index,a=e.item;switch(t){case"E":return[r.join("."),n,"→",o];case"N":return[r.join("."),o];case"D":return[r.join(".")];case"A":return[r.join(".")+"["+i+"]",a];default:return[]}}function diffLogger(e,t,r,n){var o=accumulateDiff(e,t);try{n?r.groupCollapsed("diff"):r.group("diff")}catch(e){r.log("diff")}o?o.forEach(function(e){var t=e.kind,n=render(e);r.log.apply(r,["%c "+dictionary[t].text,style(t)].concat(toConsumableArray(n)))}):r.log("—— no diff ——");try{r.groupEnd()}catch(e){r.log("—— diff end —— ")}}function getLogLevel(e,t,r,n){switch(void 0===e?"undefined":_typeof(e)){case"object":return"function"==typeof e[n]?e[n].apply(e,toConsumableArray(r)):e[n];case"function":return e(t);default:return e}}function defaultTitleFormatter(e){var t=e.timestamp,r=e.duration;return function(e,n,o){var i=["action"];return i.push("%c"+String(e.type)),t&&i.push("%c@ "+n),r&&i.push("%c(in "+o.toFixed(2)+" ms)"),i.join(" ")}}function printBuffer(e,t){var r=t.logger,n=t.actionTransformer,o=t.titleFormatter,i=void 0===o?defaultTitleFormatter(t):o,a=t.collapsed,f=t.colors,l=t.level,c=t.diff,u=void 0===t.titleFormatter;e.forEach(function(o,p){var s=o.started,d=o.startedTime,g=o.action,h=o.prevState,y=o.error,v=o.took,m=o.nextState,b=e[p+1];b&&(m=b.prevState,v=b.started-s);var D=n(g),w="function"==typeof a?a(function(){return m},g,o):a,A=formatTime(d),x=f.title?"color: "+f.title(D)+";":"",E=["color: gray; font-weight: lighter;"];E.push(x),t.timestamp&&E.push("color: gray; font-weight: lighter;"),t.duration&&E.push("color: gray; font-weight: lighter;");var S=i(D,A,v);try{w?f.title&&u?r.groupCollapsed.apply(r,["%c "+S].concat(E)):r.groupCollapsed(S):f.title&&u?r.group.apply(r,["%c "+S].concat(E)):r.group(S)}catch(e){r.log(S)}var C=getLogLevel(l,D,[h],"prevState"),j=getLogLevel(l,D,[D],"action"),k=getLogLevel(l,D,[y,h],"error"),O=getLogLevel(l,D,[m],"nextState");if(C)if(f.prevState){var L="color: "+f.prevState(h)+"; font-weight: bold";r[C]("%c prev state",L,h)}else r[C]("prev state",h);if(j)if(f.action){var N="color: "+f.action(D)+"; font-weight: bold";r[j]("%c action    ",N,D)}else r[j]("action    ",D);if(y&&k)if(f.error){var T="color: "+f.error(y,h)+"; font-weight: bold;";r[k]("%c error     ",T,y)}else r[k]("error     ",y);if(O)if(f.nextState){var $="color: "+f.nextState(m)+"; font-weight: bold";r[O]("%c next state",$,m)}else r[O]("next state",m);r.withTrace&&(r.groupCollapsed("TRACE"),r.trace(),r.groupEnd()),c&&diffLogger(h,m,r,w);try{r.groupEnd()}catch(e){r.log("—— log end ——")}})}var defaults$1={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0};function createLogger(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},defaults$1,e),r=t.logger,n=t.stateTransformer,o=t.errorTransformer,i=t.predicate,a=t.logErrors,f=t.diffPredicate;if(void 0===r)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport { createLogger } from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var l=[];return function(e){var r=e.getState;return function(e){return function(c){if("function"==typeof i&&!i(r,c))return e(c);var u={};l.push(u),u.started=timer.now(),u.startedTime=new Date,u.prevState=n(r()),u.action=c;var p=void 0;if(a)try{p=e(c)}catch(e){u.error=o(e)}else p=e(c);u.took=timer.now()-u.started,u.nextState=n(r());var s=t.diff&&"function"==typeof f?f(r,c):t.diff;if(printBuffer(l,Object.assign({},t,{diff:s})),l.length=0,u.error)throw u.error;return p}}}}var defaultLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,r=e.getState;if("function"==typeof t||"function"==typeof r)return createLogger()({dispatch:t,getState:r});console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};export{defaults$1 as defaults,createLogger,defaultLogger as logger};export default defaultLogger;