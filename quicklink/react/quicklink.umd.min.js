!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.quicklink={})}(this,function(n){function o(o){return new Promise(function(n,e,t){(t=new XMLHttpRequest).open("GET",o,t.withCredentials=!0),t.onload=function(){(200===t.status?n:e)()},t.send()})}var e,i=(e=document.createElement("link")).relList&&e.relList.supports&&e.relList.supports("prefetch")?function(o){return new Promise(function(n,e,t){(t=document.createElement("link")).rel="prefetch",t.href=o,t.onload=n,t.onerror=e,document.head.appendChild(t)})}:o,l=window.requestIdleCallback||function(n){var e=Date.now();return setTimeout(function(){n({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)},d=new Set;function h(n,e,t){if(!(t=navigator.connection)||!t.saveData&&!/2g/.test(t.effectiveType))return Promise.all([].concat(n).map(function(n){if(!d.has(n))return d.add(n),(e?function(n){return window.fetch?fetch(n,{credentials:"include"}):o(n)}:i)(new URL(n,location.href).toString())}))}n.listen=function(e){if(e=e||{},window.IntersectionObserver){function t(n){h(n,e.priority).then(i).catch(function(n){i(),e.onError&&e.onError(n)})}var n=function(n){n=n||1;var e=[],t=0;function o(){t<n&&0<e.length&&(e.shift()(),t++)}return[function(n){1<e.push(n)||o()},function(){t--,o()}]}(e.throttle||1/0),o=n[0],i=n[1],r=e.limit||1/0,c=e.origins||[location.hostname],u=e.ignores||[],f=e.timeoutFn||l,s=e.prefetchChunks,a=new IntersectionObserver(function(n){n.forEach(function(n){n.isIntersecting&&(a.unobserve(n=n.target),d.size<r&&o(function(){s?s(n,t):t(n.href)}))})});return f(function(){(e.el||document).querySelectorAll("a").forEach(function(n){c.length&&!c.includes(n.hostname)||function e(t,n){return Array.isArray(n)?n.some(function(n){return e(t,n)}):(n.test||n).call(n,t.href,t)}(n,u)||a.observe(n)})},{timeout:e.timeout||2e3}),function(){d.clear(),a.disconnect()}}},n.prefetch=h});