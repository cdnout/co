{"version":3,"sources":["rpc-handler.js"],"names":["C","require","ResubscribeNotifier","RpcResponse","Rpc","messageParser","messageBuilder","RpcHandler","options","connection","client","this","_options","_connection","_client","_rpcs","_providers","_ackTimeoutRegistry","_$getAckTimeoutRegistry","_resubscribeNotifier","_reprovide","bind","prototype","providerNames","Object","keys","provide","name","callback","length","Error","add","topic","TOPIC","RPC","action","ACTIONS","SUBSCRIBE","sendMsg","unprovide","UNSUBSCRIBE","make","data","_this","uid","getUid","typedData","typed","REQUEST","Promise","resolve","reject","_getRpc","correlationId","rpcName","rawMessage","rpc","_$onError","EVENT","UNSOLICITED_MESSAGE","_respondToRpc","message","response","convertTyped","REJECTION","_$handle","ACK","ERROR","MESSAGE_PERMISSION_ERROR","MESSAGE_DENIED","remove","raw","ack","RESPONSE","respond","processedError","error","clear","module","exports"],"mappings":"AAAA,aAEA,IAAIA,EAAIC,QAAQ,0BACZC,oBAAsBD,QAAQ,iCAC9BE,YAAcF,QAAQ,kBACtBG,IAAMH,QAAQ,SACdI,cAAgBJ,QAAQ,6BACxBK,eAAiBL,QAAQ,8BAezBM,WAAa,SAAoBC,EAASC,EAAYC,GACxDC,KAAKC,SAAWJ,EAChBG,KAAKE,YAAcJ,EACnBE,KAAKG,QAAUJ,EACfC,KAAKI,MAAQ,GACbJ,KAAKK,WAAa,GAClBL,KAAKM,oBAAsBP,EAAOQ,0BAClCP,KAAKQ,qBAAuB,IAAIjB,oBAAoBS,KAAKG,QAASH,KAAKS,WAAWC,KAAKV,QAGzFJ,WAAWe,UAAUC,cAAgB,WACnC,OAAOC,OAAOC,KAAKd,KAAKK,aAsB1BT,WAAWe,UAAUI,QAAU,SAAUC,EAAMC,GAC7C,GAAoB,iBAATD,GAAqC,IAAhBA,EAAKE,OACnC,MAAM,IAAIC,MAAM,yBAElB,GAAInB,KAAKK,WAAWW,GAClB,MAAM,IAAIG,MAAM,OAASH,EAAO,uBAElC,GAAwB,mBAAbC,EACT,MAAM,IAAIE,MAAM,6BAGlBnB,KAAKM,oBAAoBc,IAAI,CAC3BC,MAAOhC,EAAEiC,MAAMC,IACfP,KAAMA,EACNQ,OAAQnC,EAAEoC,QAAQC,YAEpB1B,KAAKK,WAAWW,GAAQC,EACxBjB,KAAKE,YAAYyB,QAAQtC,EAAEiC,MAAMC,IAAKlC,EAAEoC,QAAQC,UAAW,CAACV,KAW9DpB,WAAWe,UAAUiB,UAAY,SAAUZ,GACzC,GAAoB,iBAATA,GAAqC,IAAhBA,EAAKE,OACnC,MAAM,IAAIC,MAAM,yBAGdnB,KAAKK,WAAWW,YACXhB,KAAKK,WAAWW,GACvBhB,KAAKM,oBAAoBc,IAAI,CAC3BC,MAAOhC,EAAEiC,MAAMC,IACfP,KAAMA,EACNQ,OAAQnC,EAAEoC,QAAQI,cAEpB7B,KAAKE,YAAYyB,QAAQtC,EAAEiC,MAAMC,IAAKlC,EAAEoC,QAAQI,YAAa,CAACb,MAelEpB,WAAWe,UAAUmB,KAAO,SAAUd,EAAMe,EAAMd,GAChD,IAAIe,EAAQhC,KAGZ,GAAoB,iBAATgB,GAAqC,IAAhBA,EAAKE,OACnC,MAAM,IAAIC,MAAM,yBAGlB,IAAIc,EAAMjC,KAAKG,QAAQ+B,SACnBC,EAAYxC,eAAeyC,MAAML,GAGrC,GADA/B,KAAKE,YAAYyB,QAAQtC,EAAEiC,MAAMC,IAAKlC,EAAEoC,QAAQY,QAAS,CAACrB,EAAMiB,EAAKE,KACjElB,GAAgC,mBAAbA,EAGrB,OAAO,IAAIqB,QAAQ,SAAUC,EAASC,GACpCR,EAAM5B,MAAM6B,GAAO,IAAIxC,IAAIuB,EAAM,CAAEuB,QAASA,EAASC,OAAQA,GAAUR,EAAM/B,SAAU+B,EAAM7B,WAH/FH,KAAKI,MAAM6B,GAAO,IAAIxC,IAAIuB,EAAM,CAAEC,SAAUA,GAAYjB,KAAKC,SAAUD,KAAKG,UAkBhFP,WAAWe,UAAU8B,QAAU,SAAUC,EAAeC,EAASC,GAC/D,IAAIC,EAAM7C,KAAKI,MAAMsC,GAErB,OAAKG,IACH7C,KAAKG,QAAQ2C,UAAUzD,EAAEiC,MAAMC,IAAKlC,EAAE0D,MAAMC,oBAAqBJ,GAC1D,OAiBXhD,WAAWe,UAAUsC,cAAgB,SAAUC,GAC7C,IAAIlC,EAAOkC,EAAQnB,KAAK,GACpBW,EAAgBQ,EAAQnB,KAAK,GAC7BA,EAAO,KACPoB,OAAW,EAEXD,EAAQnB,KAAK,KACfA,EAAOrC,cAAc0D,aAAaF,EAAQnB,KAAK,GAAI/B,KAAKG,UAGtDH,KAAKK,WAAWW,IAClBmC,EAAW,IAAI3D,YAAYQ,KAAKE,YAAac,EAAM0B,GACnD1C,KAAKK,WAAWW,GAAMe,EAAMoB,IAE5BnD,KAAKE,YAAYyB,QAAQtC,EAAEiC,MAAMC,IAAKlC,EAAEoC,QAAQ4B,UAAW,CAACrC,EAAM0B,KAatE9C,WAAWe,UAAU2C,SAAW,SAAUJ,GACxC,IAAIP,OAAU,EACVD,OAAgB,EAGpB,GAAIQ,EAAQ1B,SAAWnC,EAAEoC,QAAQY,QAMjC,GAAIa,EAAQ1B,SAAWnC,EAAEoC,QAAQ8B,KAAQL,EAAQnB,KAAK,KAAO1C,EAAEoC,QAAQC,WAAawB,EAAQnB,KAAK,KAAO1C,EAAEoC,QAAQI,YAAlH,CAMA,GAAIqB,EAAQ1B,SAAWnC,EAAEoC,QAAQ+B,MAAO,CACtC,GAAIN,EAAQnB,KAAK,KAAO1C,EAAE0D,MAAMU,yBAC9B,OAEF,GAAIP,EAAQnB,KAAK,KAAO1C,EAAE0D,MAAMW,gBAAkBR,EAAQnB,KAAK,KAAO1C,EAAEoC,QAAQC,UAM9E,YALA1B,KAAKM,oBAAoBqD,OAAO,CAC9BtC,MAAOhC,EAAEiC,MAAMC,IACfC,OAAQnC,EAAEoC,QAAQC,UAClBV,KAAMkC,EAAQnB,KAAK,KAUrBmB,EAAQ1B,SAAWnC,EAAEoC,QAAQ+B,OAASN,EAAQ1B,SAAWnC,EAAEoC,QAAQ8B,KAEnEb,EADEQ,EAAQnB,KAAK,KAAO1C,EAAE0D,MAAMW,gBAAkBR,EAAQnB,KAAK,KAAO1C,EAAEoC,QAAQY,QAC9Da,EAAQnB,KAAK,GAEbmB,EAAQnB,KAAK,GAE/BY,EAAUO,EAAQnB,KAAK,KAEvBY,EAAUO,EAAQnB,KAAK,GACvBW,EAAgBQ,EAAQnB,KAAK,IAM/B,IAAIc,EAAM7C,KAAKyC,QAAQC,EAAeC,EAASO,EAAQU,KAC3C,OAARf,IAKAK,EAAQ1B,SAAWnC,EAAEoC,QAAQ8B,IAC/BV,EAAIgB,MACKX,EAAQ1B,SAAWnC,EAAEoC,QAAQqC,UACtCjB,EAAIkB,QAAQb,EAAQnB,KAAK,WAClB/B,KAAKI,MAAMsC,IACTQ,EAAQ1B,SAAWnC,EAAEoC,QAAQ+B,QACtCN,EAAQc,gBAAiB,EACzBnB,EAAIoB,MAAMf,EAAQnB,KAAK,WAChB/B,KAAKI,MAAMsC,UApDlB1C,KAAKM,oBAAoB4D,MAAMhB,QAN/BlD,KAAKiD,cAAcC,IAoEvBtD,WAAWe,UAAUF,WAAa,WAChC,IAAK,IAAIkC,KAAW3C,KAAKK,WACvBL,KAAKE,YAAYyB,QAAQtC,EAAEiC,MAAMC,IAAKlC,EAAEoC,QAAQC,UAAW,CAACiB,KAIhEwB,OAAOC,QAAUxE"}