{"version":3,"sources":["event-handler.js"],"names":["messageBuilder","require","messageParser","ResubscribeNotifier","C","Listener","EventEmitter","EventHandler","options","connection","client","this","_options","_connection","_client","_emitter","_listener","_ackTimeoutRegistry","_$getAckTimeoutRegistry","_resubscribeNotifier","_resubscribe","bind","prototype","eventNames","subscribe","name","callback","length","Error","hasListeners","add","topic","TOPIC","EVENT","action","ACTIONS","SUBSCRIBE","sendMsg","on","unsubscribe","undefined","off","UNSUBSCRIBE","emit","data","typed","listen","pattern","destroyPending","destroy","_$onError","LISTENER_EXISTS","unlisten","listener","sendDestroy","UNLISTEN","RECORD","NOT_LISTENING","_$handle","message","ACK","_$onMessage","SUBSCRIPTION_FOR_PATTERN_REMOVED","SUBSCRIPTION_HAS_PROVIDER","ERROR","MESSAGE_DENIED","remove","NOT_SUBSCRIBED","processedError","UNSOLICITED_MESSAGE","clear","convertTyped","callbacks","_callbacks","eventName","module","exports"],"mappings":"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"}