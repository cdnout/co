!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Datacomb=t()}}(function(){return function o(a,u,s){function c(n,t){if(!u[n]){if(!a[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(l)return l(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=u[n]={exports:{}};a[n][0].call(i.exports,function(t){return c(a[n][1][t]||t)},i,i.exports,o,a,u,s)}return u[n].exports}for(var l="function"==typeof require&&require,t=0;t<s.length;t++)c(s[t]);return c}({1:[function(t,n,e){var r=function(t,n,e,r){if(!t||!n)throw new Error("Must pass in `canvas` and `context`.");var i=e||t.width||t.clientWidth,o=r||t.height||t.clientHeight,a=window.devicePixelRatio||1,u=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1,s=a/u;return a!==u&&(t.width=Math.round(i*s),t.height=Math.round(o*s),t.style.width=i+"px",t.style.height=o+"px",n.scale(s,s)),s};"undefined"!=typeof window&&(window.canvasDpiScaler=r),n.exports=r},{}],2:[function(t,Iu,n){!function(){var P={version:"3.5.17"},o=[].slice,h=function(t){return o.call(t)},b=this.document;function u(t){return t&&(t.ownerDocument||t.document||t).documentElement}function F(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(b)try{h(b.documentElement.childNodes)[0].nodeType}catch(t){h=function(t){for(var n=t.length,e=new Array(n);n--;)e[n]=t[n];return e}}if(Date.now||(Date.now=function(){return+new Date}),b)try{b.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var n=this.Element.prototype,e=n.setAttribute,r=n.setAttributeNS,i=this.CSSStyleDeclaration.prototype,a=i.setProperty;n.setAttribute=function(t,n){e.call(this,t,n+"")},n.setAttributeNS=function(t,n,e){r.call(this,t,n,e+"")},i.setProperty=function(t,n,e){a.call(this,t,n+"",e)}}function s(t,n){return t<n?-1:n<t?1:n<=t?0:NaN}function c(t){return null===t?NaN:+t}function l(t){return!isNaN(t)}function t(o){return{left:function(t,n,e,r){for(arguments.length<3&&(e=0),arguments.length<4&&(r=t.length);e<r;){var i=e+r>>>1;o(t[i],n)<0?e=i+1:r=i}return e},right:function(t,n,e,r){for(arguments.length<3&&(e=0),arguments.length<4&&(r=t.length);e<r;){var i=e+r>>>1;0<o(t[i],n)?r=i:e=i+1}return e}}}P.ascending=s,P.descending=function(t,n){return n<t?-1:t<n?1:t<=n?0:NaN},P.min=function(t,n){var e,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r<=r){e=r;break}for(;++i<o;)null!=(r=t[i])&&r<e&&(e=r)}else{for(;++i<o;)if(null!=(r=n.call(t,t[i],i))&&r<=r){e=r;break}for(;++i<o;)null!=(r=n.call(t,t[i],i))&&r<e&&(e=r)}return e},P.max=function(t,n){var e,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r<=r){e=r;break}for(;++i<o;)null!=(r=t[i])&&e<r&&(e=r)}else{for(;++i<o;)if(null!=(r=n.call(t,t[i],i))&&r<=r){e=r;break}for(;++i<o;)null!=(r=n.call(t,t[i],i))&&e<r&&(e=r)}return e},P.extent=function(t,n){var e,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r<=r){e=i=r;break}for(;++o<a;)null!=(r=t[o])&&(r<e&&(e=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=n.call(t,t[o],o))&&r<=r){e=i=r;break}for(;++o<a;)null!=(r=n.call(t,t[o],o))&&(r<e&&(e=r),i<r&&(i=r))}return[e,i]},P.sum=function(t,n){var e,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)l(e=+t[o])&&(r+=e);else for(;++o<i;)l(e=+n.call(t,t[o],o))&&(r+=e);return r},P.mean=function(t,n){var e,r=0,i=t.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)l(e=c(t[o]))?r+=e:--a;else for(;++o<i;)l(e=c(n.call(t,t[o],o)))?r+=e:--a;if(a)return r/a},P.quantile=function(t,n){var e=(t.length-1)*n+1,r=Math.floor(e),i=+t[r-1],o=e-r;return o?i+o*(t[r]-i):i},P.median=function(t,n){var e,r=[],i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)l(e=c(t[o]))&&r.push(e);else for(;++o<i;)l(e=c(n.call(t,t[o],o)))&&r.push(e);if(r.length)return P.quantile(r.sort(s),.5)},P.variance=function(t,n){var e,r,i=t.length,o=0,a=0,u=-1,s=0;if(1===arguments.length)for(;++u<i;)l(e=c(t[u]))&&(a+=(r=e-o)*(e-(o+=r/++s)));else for(;++u<i;)l(e=c(n.call(t,t[u],u)))&&(a+=(r=e-o)*(e-(o+=r/++s)));if(1<s)return a/(s-1)},P.deviation=function(){var t=P.variance.apply(this,arguments);return t?Math.sqrt(t):t};var f=t(s);function p(t){return t.length}P.bisectLeft=f.left,P.bisect=P.bisectRight=f.right,P.bisector=function(e){return t(1===e.length?function(t,n){return s(e(t),n)}:e)},P.shuffle=function(t,n,e){(o=arguments.length)<3&&(e=t.length,o<2&&(n=0));for(var r,i,o=e-n;o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},P.permute=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},P.pairs=function(t){for(var n=0,e=t.length-1,r=t[0],i=new Array(e<0?0:e);n<e;)i[n]=[r,r=t[++n]];return i},P.transpose=function(t){if(!(i=t.length))return[];for(var n=-1,e=P.min(t,p),r=new Array(e);++n<e;)for(var i,o=-1,a=r[n]=new Array(i);++o<i;)a[o]=t[o][n];return r},P.zip=function(){return P.transpose(arguments)},P.keys=function(t){var n=[];for(var e in t)n.push(e);return n},P.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},P.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},P.merge=function(t){for(var n,e,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(e=new Array(a);0<=--i;)for(n=(r=t[i]).length;0<=--n;)e[--a]=r[n];return e};var T=Math.abs;function d(t,n){for(var e in n)Object.defineProperty(t.prototype,e,{value:n[e],enumerable:!1})}function y(){this._=Object.create(null)}P.range=function(t,n,e){if(arguments.length<3&&(e=1,arguments.length<2&&(n=t,t=0)),(n-t)/e==1/0)throw new Error("infinite range");var r,i=[],o=function(t){var n=1;for(;t*n%1;)n*=10;return n}(T(e)),a=-1;if(t*=o,n*=o,(e*=o)<0)for(;(r=t+e*++a)>n;)i.push(r/o);else for(;(r=t+e*++a)<n;)i.push(r/o);return i},P.map=function(t,n){var e=new y;if(t instanceof y)t.forEach(function(t,n){e.set(t,n)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n.call(t,r=t[i],i),r)}else for(var a in t)e.set(a,t[a]);return e};var v="__proto__",g="\0";function m(t){return(t+="")===v||t[0]===g?g+t:t}function w(t){return(t+="")[0]===g?t.slice(1):t}function x(t){return m(t)in this._}function _(t){return(t=m(t))in this._&&delete this._[t]}function k(){var t=[];for(var n in this._)t.push(w(n));return t}function M(){var t=0;for(var n in this._)++t;return t}function E(){for(var t in this._)return!1;return!0}function A(){this._=Object.create(null)}function D(t){return t}function S(n,e,r){return function(){var t=r.apply(e,arguments);return t===e?n:t}}function N(t,n){if(n in t)return n;n=n.charAt(0).toUpperCase()+n.slice(1);for(var e=0,r=C.length;e<r;++e){var i=C[e]+n;if(i in t)return i}}d(y,{has:x,get:function(t){return this._[m(t)]},set:function(t,n){return this._[m(t)]=n},remove:_,keys:k,values:function(){var t=[];for(var n in this._)t.push(this._[n]);return t},entries:function(){var t=[];for(var n in this._)t.push({key:w(n),value:this._[n]});return t},size:M,empty:E,forEach:function(t){for(var n in this._)t.call(this,w(n),this._[n])}}),P.nest=function(){var f,h,p={},d=[],n=[];function v(e,t,r){if(r>=d.length)return h?h.call(p,t):f?t.sort(f):t;for(var n,i,o,a,u=-1,s=t.length,c=d[r++],l=new y;++u<s;)(a=l.get(n=c(i=t[u])))?a.push(i):l.set(n,[i]);return o=e?(i=e(),function(t,n){i.set(t,v(e,n,r))}):(i={},function(t,n){i[t]=v(e,n,r)}),l.forEach(o),i}return p.map=function(t,n){return v(n,t,0)},p.entries=function(t){return function e(t,r){if(r>=d.length)return t;var i=[],o=n[r++];return t.forEach(function(t,n){i.push({key:t,values:e(n,r)})}),o?i.sort(function(t,n){return o(t.key,n.key)}):i}(v(P.map,t,0),0)},p.key=function(t){return d.push(t),p},p.sortKeys=function(t){return n[d.length-1]=t,p},p.sortValues=function(t){return f=t,p},p.rollup=function(t){return h=t,p},p},P.set=function(t){var n=new A;if(t)for(var e=0,r=t.length;e<r;++e)n.add(t[e]);return n},d(A,{has:x,add:function(t){return this._[m(t+="")]=!0,t},remove:_,values:k,size:M,empty:E,forEach:function(t){for(var n in this._)t.call(this,w(n))}}),P.behavior={},P.rebind=function(t,n){for(var e,r=1,i=arguments.length;++r<i;)t[e=arguments[r]]=S(t,n,n[e]);return t};var C=["webkit","ms","moz","Moz","o","O"];function R(){}function j(){}function O(i){var o=[],a=new y;function t(){for(var t,n=o,e=-1,r=n.length;++e<r;)(t=n[e].on)&&t.apply(this,arguments);return i}return t.on=function(t,n){var e,r=a.get(t);return arguments.length<2?r&&r.on:(r&&(r.on=null,o=o.slice(0,e=o.indexOf(r)).concat(o.slice(e+1)),a.remove(t)),n&&o.push(a.set(t,{on:n})),i)},t}function q(){P.event.preventDefault()}function L(){for(var t,n=P.event;t=n.sourceEvent;)n=t;return n}function z(i){for(var o=new j,t=0,n=arguments.length;++t<n;)o[arguments[t]]=O(o);return o.of=function(e,r){return function(t){try{var n=t.sourceEvent=P.event;t.target=i,P.event=t,o[t.type].apply(e,r)}finally{P.event=n}}},o}P.dispatch=function(){for(var t=new j,n=-1,e=arguments.length;++n<e;)t[arguments[n]]=O(t);return t},j.prototype.on=function(t,n){var e=t.indexOf("."),r="";if(0<=e&&(r=t.slice(e+1),t=t.slice(0,e)),t)return arguments.length<2?this[t].on(r):this[t].on(r,n);if(2===arguments.length){if(null==n)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},P.event=null,P.requote=function(t){return t.replace(I,"\\$&")};var I=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,U={}.__proto__?function(t,n){t.__proto__=n}:function(t,n){for(var e in n)t[e]=n[e]};function B(t){return U(t,$),t}var V=function(t,n){return n.querySelector(t)},W=function(t,n){return n.querySelectorAll(t)},H=function(t,n){var e=t.matches||t[N(t,"matchesSelector")];return(H=function(t,n){return e.call(t,n)})(t,n)};"function"==typeof Sizzle&&(V=function(t,n){return Sizzle(t,n)[0]||null},W=Sizzle,H=Sizzle.matchesSelector),P.selection=function(){return P.select(b.documentElement)};var $=P.selection.prototype=[];function Z(t){return"function"==typeof t?t:function(){return V(t,this)}}function Y(t){return"function"==typeof t?t:function(){return W(t,this)}}$.select=function(t){var n,e,r,i,o=[];t=Z(t);for(var a=-1,u=this.length;++a<u;){o.push(n=[]),n.parentNode=(r=this[a]).parentNode;for(var s=-1,c=r.length;++s<c;)(i=r[s])?(n.push(e=t.call(i,i.__data__,s,a)),e&&"__data__"in i&&(e.__data__=i.__data__)):n.push(null)}return B(o)},$.selectAll=function(t){var n,e,r=[];t=Y(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],u=-1,s=a.length;++u<s;)(e=a[u])&&(r.push(n=h(t.call(e,e.__data__,u,i))),n.parentNode=e);return B(r)};var G="http://www.w3.org/1999/xhtml",K={svg:"http://www.w3.org/2000/svg",xhtml:G,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Q(n,e){return n=P.ns.qualify(n),null==e?n.local?function(){this.removeAttributeNS(n.space,n.local)}:function(){this.removeAttribute(n)}:"function"==typeof e?n.local?function(){var t=e.apply(this,arguments);null==t?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}:function(){var t=e.apply(this,arguments);null==t?this.removeAttribute(n):this.setAttribute(n,t)}:n.local?function(){this.setAttributeNS(n.space,n.local,e)}:function(){this.setAttribute(n,e)}}function J(t){return t.trim().replace(/\s+/g," ")}function X(t){return new RegExp("(?:^|\\s+)"+P.requote(t)+"(?:\\s+|$)","g")}function tt(t){return(t+"").trim().split(/^|\s+/)}function nt(e,r){var i=(e=tt(e).map(et)).length;return"function"==typeof r?function(){for(var t=-1,n=r.apply(this,arguments);++t<i;)e[t](this,n)}:function(){for(var t=-1;++t<i;)e[t](this,r)}}function et(r){var i=X(r);return function(t,n){if(e=t.classList)return n?e.add(r):e.remove(r);var e=t.getAttribute("class")||"";n?(i.lastIndex=0,i.test(e)||t.setAttribute("class",J(e+" "+r))):t.setAttribute("class",J(e.replace(i," ")))}}function rt(n,e,r){return null==e?function(){this.style.removeProperty(n)}:"function"==typeof e?function(){var t=e.apply(this,arguments);null==t?this.style.removeProperty(n):this.style.setProperty(n,t,r)}:function(){this.style.setProperty(n,e,r)}}function it(n,e){return null==e?function(){delete this[n]}:"function"==typeof e?function(){var t=e.apply(this,arguments);null==t?delete this[n]:this[n]=t}:function(){this[n]=e}}function ot(e){return"function"==typeof e?e:(e=P.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){var t=this.ownerDocument,n=this.namespaceURI;return n===G&&t.documentElement.namespaceURI===G?t.createElement(e):t.createElementNS(n,e)}}function at(){var t=this.parentNode;t&&t.removeChild(this)}function ut(t){return{__data__:t}}function st(t){return function(){return H(this,t)}}function ct(t,n){for(var e=0,r=t.length;e<r;e++)for(var i,o=t[e],a=0,u=o.length;a<u;a++)(i=o[a])&&n(i,a,e);return t}function lt(t){return U(t,ft),t}P.ns={prefix:K,qualify:function(t){var n=t.indexOf(":"),e=t;return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),K.hasOwnProperty(e)?{space:K[e],local:t}:t}},$.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node();return(t=P.ns.qualify(t)).local?e.getAttributeNS(t.space,t.local):e.getAttribute(t)}for(n in t)this.each(Q(n,t[n]));return this}return this.each(Q(t,n))},$.classed=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node(),r=(t=tt(t)).length,i=-1;if(n=e.classList){for(;++i<r;)if(!n.contains(t[i]))return!1}else for(n=e.getAttribute("class");++i<r;)if(!X(t[i]).test(n))return!1;return!0}for(n in t)this.each(nt(n,t[n]));return this}return this.each(nt(t,n))},$.style=function(t,n,e){var r=arguments.length;if(r<3){if("string"!=typeof t){for(e in r<2&&(n=""),t)this.each(rt(e,t[e],n));return this}if(r<2){var i=this.node();return F(i).getComputedStyle(i,null).getPropertyValue(t)}e=""}return this.each(rt(t,n,e))},$.property=function(t,n){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(n in t)this.each(it(n,t[n]));return this}return this.each(it(t,n))},$.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},$.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},$.append=function(t){return t=ot(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},$.insert=function(t,n){return t=ot(t),n=Z(n),this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})},$.remove=function(){return this.each(at)},$.data=function(t,d){var n,e,r=-1,i=this.length;if(!arguments.length){for(t=new Array(i=(n=this[0]).length);++r<i;)(e=n[r])&&(t[r]=e.__data__);return t}function o(t,n){var e,r,i,o=t.length,a=n.length,u=Math.min(o,a),s=new Array(a),c=new Array(a),l=new Array(o);if(d){var f,h=new y,p=new Array(o);for(e=-1;++e<o;)(r=t[e])&&(h.has(f=d.call(r,r.__data__,e))?l[e]=r:h.set(f,r),p[e]=f);for(e=-1;++e<a;)(r=h.get(f=d.call(n,i=n[e],e)))?!0!==r&&((s[e]=r).__data__=i):c[e]=ut(i),h.set(f,!0);for(e=-1;++e<o;)e in p&&!0!==h.get(p[e])&&(l[e]=t[e])}else{for(e=-1;++e<u;)r=t[e],i=n[e],r?(r.__data__=i,s[e]=r):c[e]=ut(i);for(;e<a;++e)c[e]=ut(n[e]);for(;e<o;++e)l[e]=t[e]}c.update=s,c.parentNode=s.parentNode=l.parentNode=t.parentNode,v.push(c),g.push(s),m.push(l)}var v=lt([]),g=B([]),m=B([]);if("function"==typeof t)for(;++r<i;)o(n=this[r],t.call(n,n.parentNode.__data__,r));else for(;++r<i;)o(n=this[r],t);return g.enter=function(){return v},g.exit=function(){return m},g},$.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},$.filter=function(t){var n,e,r,i=[];"function"!=typeof t&&(t=st(t));for(var o=0,a=this.length;o<a;o++){i.push(n=[]),n.parentNode=(e=this[o]).parentNode;for(var u=0,s=e.length;u<s;u++)(r=e[u])&&t.call(r,r.__data__,u,o)&&n.push(r)}return B(i)},$.order=function(){for(var t=-1,n=this.length;++t<n;)for(var e,r=this[t],i=r.length-1,o=r[i];0<=--i;)(e=r[i])&&(o&&o!==e.nextSibling&&o.parentNode.insertBefore(e,o),o=e);return this},$.sort=function(t){t=function(e){arguments.length||(e=s);return function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}.apply(this,arguments);for(var n=-1,e=this.length;++n<e;)this[n].sort(t);return this.order()},$.each=function(r){return ct(this,function(t,n,e){r.call(t,t.__data__,n,e)})},$.call=function(t){var n=h(arguments);return t.apply(n[0]=this,n),this},$.empty=function(){return!this.node()},$.node=function(){for(var t=0,n=this.length;t<n;t++)for(var e=this[t],r=0,i=e.length;r<i;r++){var o=e[r];if(o)return o}return null},$.size=function(){var t=0;return ct(this,function(){++t}),t};var ft=[];function ht(i,n,e){var r="__on"+i,t=i.indexOf("."),o=dt;0<t&&(i=i.slice(0,t));var a=pt.get(i);function u(){var t=this[r];t&&(this.removeEventListener(i,t,t.$),delete this[r])}return a&&(i=a,o=vt),t?n?function(){var t=o(n,h(arguments));u.call(this),this.addEventListener(i,this[r]=t,t.$=e),t._=n}:u:n?R:function(){var t,n=new RegExp("^__on([^.]+)"+P.requote(i)+"$");for(var e in this)if(t=e.match(n)){var r=this[e];this.removeEventListener(t[1],r,r.$),delete this[e]}}}P.selection.enter=lt,(P.selection.enter.prototype=ft).append=$.append,ft.empty=$.empty,ft.node=$.node,ft.call=$.call,ft.size=$.size,ft.select=function(t){for(var n,e,r,i,o,a=[],u=-1,s=this.length;++u<s;){r=(i=this[u]).update,a.push(n=[]),n.parentNode=i.parentNode;for(var c=-1,l=i.length;++c<l;)(o=i[c])?(n.push(r[c]=e=t.call(i.parentNode,o.__data__,c,u)),e.__data__=o.__data__):n.push(null)}return B(a)},ft.insert=function(t,n){var a,u,s;return arguments.length<2&&(a=this,n=function(t,n,e){var r,i=a[e].update,o=i.length;for(e!=s&&(s=e,u=0),u<=n&&(u=n+1);!(r=i[u])&&++u<o;);return r}),$.insert.call(this,t,n)},P.select=function(t){var n;return"string"==typeof t?(n=[V(t,b)]).parentNode=b.documentElement:(n=[t]).parentNode=u(t),B([n])},P.selectAll=function(t){var n;return"string"==typeof t?(n=h(W(t,b))).parentNode=b.documentElement:(n=h(t)).parentNode=null,B([n])},$.on=function(t,n,e){var r=arguments.length;if(r<3){if("string"!=typeof t){for(e in r<2&&(n=!1),t)this.each(ht(e,t[e],n));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;e=!1}return this.each(ht(t,n,e))};var pt=P.map({mouseenter:"mouseover",mouseleave:"mouseout"});function dt(e,r){return function(t){var n=P.event;P.event=t,r[0]=this.__data__;try{e.apply(this,r)}finally{P.event=n}}}function vt(t,n){var e=dt(t,n);return function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}b&&pt.forEach(function(t){"on"+t in b&&pt.remove(t)});var gt,mt=0;function yt(t){var e=".dragsuppress-"+ ++mt,r="click"+e,i=P.select(F(t)).on("touchmove"+e,q).on("dragstart"+e,q).on("selectstart"+e,q);if(null==gt&&(gt=!("onselectstart"in t)&&N(t.style,"userSelect")),gt){var o=u(t).style,a=o[gt];o[gt]="none"}return function(t){if(i.on(e,null),gt&&(o[gt]=a),t){var n=function(){i.on(r,null)};i.on(r,function(){q(),n()},!0),setTimeout(n,0)}}}P.mouse=function(t){return wt(t,L())};var bt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function wt(t,n){n.changedTouches&&(n=n.changedTouches[0]);var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();if(bt<0){var i=F(t);if(i.scrollX||i.scrollY){var o=(e=P.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();bt=!(o.f||o.e),e.remove()}}return r.y=bt?(r.x=n.pageX,n.pageY):(r.x=n.clientX,n.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var a=t.getBoundingClientRect();return[n.clientX-a.left-t.clientLeft,n.clientY-a.top-t.clientTop]}function xt(){return P.event.changedTouches[0].identifier}P.touch=function(t,n,e){if(arguments.length<3&&(e=n,n=L().changedTouches),n)for(var r,i=0,o=n.length;i<o;++i)if((r=n[i]).identifier===e)return wt(t,r)},P.behavior.drag=function(){var v=z(e,"drag","dragstart","dragend"),g=null,t=r(R,P.mouse,F,"mousemove","mouseup"),n=r(xt,P.touch,D,"touchmove","touchend");function e(){this.on("mousedown.drag",t).on("touchstart.drag",n)}function r(l,f,h,p,d){return function(){var r,t=P.event.target.correspondingElement||P.event.target,i=this.parentNode,o=v.of(this,arguments),a=0,u=l(),n=".drag"+(null==u?"":"-"+u),e=P.select(h(t)).on(p+n,function(){var t,n,e=f(i,u);if(!e)return;t=e[0]-c[0],n=e[1]-c[1],a|=t|n,o({type:"drag",x:(c=e)[0]+r[0],y:e[1]+r[1],dx:t,dy:n})}).on(d+n,function(){if(!f(i,u))return;e.on(p+n,null).on(d+n,null),s(a),o({type:"dragend"})}),s=yt(t),c=f(i,u);r=g?[(r=g.apply(this,arguments)).x-c[0],r.y-c[1]]:[0,0],o({type:"dragstart"})}}return e.origin=function(t){return arguments.length?(g=t,e):g},P.rebind(e,v,"on")},P.touches=function(e,t){return arguments.length<2&&(t=L().touches),t?h(t).map(function(t){var n=wt(e,t);return n.identifier=t.identifier,n}):[]};var _t=1e-6,kt=_t*_t,Mt=Math.PI,Et=2*Mt,At=Et-_t,St=Mt/2,Nt=Mt/180,Ct=180/Mt;function Rt(t){return 0<t?1:t<0?-1:0}function jt(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function Ot(t){return 1<t?0:t<-1?Mt:Math.acos(t)}function Tt(t){return 1<t?St:t<-1?-St:Math.asin(t)}function Pt(t){return((t=Math.exp(t))+1/t)/2}function Ft(t){return(t=Math.sin(t/2))*t}var Dt=Math.SQRT2;P.interpolateZoom=function(t,n){var e,a,u=t[0],s=t[1],c=t[2],r=n[0],i=n[1],o=n[2],l=r-u,f=i-s,h=l*l+f*f;if(h<kt)a=Math.log(o/c)/Dt,e=function(t){return[u+t*l,s+t*f,c*Math.exp(Dt*t*a)]};else{var p=Math.sqrt(h),d=(o*o-c*c+4*h)/(2*c*2*p),v=(o*o-c*c-4*h)/(2*o*2*p),g=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(v*v+1)-v);a=(m-g)/Dt,e=function(t){var n,e,r=t*a,i=Pt(g),o=c/(2*p)*(i*(e=Dt*r+g,((e=Math.exp(2*e))-1)/(e+1))-(n=g,((n=Math.exp(n))-1/n)/2));return[u+o*l,s+o*f,c*i/Pt(Dt*r+g)]}}return e.duration=1e3*a,e},P.behavior.zoom=function(){var n,s,e,r,w,i,o,a,u,x={x:0,y:0,k:1},c=[960,500],l=zt,f=250,h=0,_="mousedown.zoom",p="mousemove.zoom",d="mouseup.zoom",k="touchstart.zoom",M=z(v,"zoomstart","zoom","zoomend");function v(t){t.on(_,O).on(Lt+".zoom",m).on("dblclick.zoom",y).on(k,T)}function E(t){return[(t[0]-x.x)/x.k,(t[1]-x.y)/x.k]}function A(t){x.k=Math.max(l[0],Math.min(l[1],t))}function S(t,n){var e;n=[(e=n)[0]*x.k+x.x,e[1]*x.k+x.y],x.x+=t[0]-n[0],x.y+=t[1]-n[1]}function N(t,n,e,r){t.__chart__={x:x.x,y:x.y,k:x.k},A(Math.pow(2,r)),S(s=n,e),t=P.select(t),0<f&&(t=t.transition().duration(f)),t.call(v.event)}function g(){o&&o.domain(i.range().map(function(t){return(t-x.x)/x.k}).map(i.invert)),u&&u.domain(a.range().map(function(t){return(t-x.y)/x.k}).map(a.invert))}function C(t){h++||t({type:"zoomstart"})}function R(t){g(),t({type:"zoom",scale:x.k,translate:[x.x,x.y]})}function j(t){--h||(t({type:"zoomend"}),s=null)}function O(){var t=this,n=M.of(t,arguments),e=0,r=P.select(F(t)).on(p,function(){e=1,S(P.mouse(t),i),R(n)}).on(d,function(){r.on(p,null).on(d,null),o(e),j(n)}),i=E(P.mouse(t)),o=yt(t);cu.call(t),C(n)}function T(){var c,l=this,f=M.of(l,arguments),h={},p=0,i=".zoom-"+P.event.changedTouches[0].identifier,d="touchmove"+i,v="touchend"+i,g=[],o=P.select(l),a=yt(l);function m(){var t=P.touches(l);return c=x.k,t.forEach(function(t){t.identifier in h&&(h[t.identifier]=E(t))}),t}function t(){var t=P.event.target;P.select(t).on(d,y).on(v,b),g.push(t);for(var n=P.event.changedTouches,e=0,r=n.length;e<r;++e)h[n[e].identifier]=null;var i=m(),o=Date.now();if(1===i.length){if(o-w<500){var a=i[0];N(l,a,h[a.identifier],Math.floor(Math.log(x.k)/Math.LN2)+1),q()}w=o}else if(1<i.length){a=i[0];var u=i[1],s=a[0]-u[0],c=a[1]-u[1];p=s*s+c*c}}function y(){var t,n,e,r,i=P.touches(l);cu.call(l);for(var o=0,a=i.length;o<a;++o,r=null)if(e=i[o],r=h[e.identifier]){if(n)break;t=e,n=r}if(r){var u=(u=e[0]-t[0])*u+(u=e[1]-t[1])*u,s=p&&Math.sqrt(u/p);t=[(t[0]+e[0])/2,(t[1]+e[1])/2],n=[(n[0]+r[0])/2,(n[1]+r[1])/2],A(s*c)}w=null,S(t,n),R(f)}function b(){if(P.event.touches.length){for(var t=P.event.changedTouches,n=0,e=t.length;n<e;++n)delete h[t[n].identifier];for(var r in h)return void m()}P.selectAll(g).on(i,null),o.on(_,O).on(k,T),a(),j(f)}t(),C(f),o.on(_,null).on(k,t)}function m(){var t=M.of(this,arguments);r?clearTimeout(r):(cu.call(this),n=E(s=e||P.mouse(this)),C(t)),r=setTimeout(function(){r=null,j(t)},50),q(),A(Math.pow(2,.002*qt())*x.k),S(s,n),R(t)}function y(){var t=P.mouse(this),n=Math.log(x.k)/Math.LN2;N(this,t,E(t),P.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}return Lt||(Lt="onwheel"in b?(qt=function(){return-P.event.deltaY*(P.event.deltaMode?120:1)},"wheel"):"onmousewheel"in b?(qt=function(){return P.event.wheelDelta},"mousewheel"):(qt=function(){return-P.event.detail},"MozMousePixelScroll")),v.event=function(t){t.each(function(){var u=M.of(this,arguments),n=x;hu?P.select(this).transition().each("start.zoom",function(){x=this.__chart__||{x:0,y:0,k:1},C(u)}).tween("zoom:zoom",function(){var r=c[0],t=c[1],i=s?s[0]:r/2,o=s?s[1]:t/2,a=P.interpolateZoom([(i-x.x)/x.k,(o-x.y)/x.k,r/x.k],[(i-n.x)/n.k,(o-n.y)/n.k,r/n.k]);return function(t){var n=a(t),e=r/n[2];this.__chart__=x={x:i-n[0]*e,y:o-n[1]*e,k:e},R(u)}}).each("interrupt.zoom",function(){j(u)}).each("end.zoom",function(){j(u)}):(this.__chart__=x,C(u),R(u),j(u))})},v.translate=function(t){return arguments.length?(x={x:+t[0],y:+t[1],k:x.k},g(),v):[x.x,x.y]},v.scale=function(t){return arguments.length?(x={x:x.x,y:x.y,k:null},A(+t),g(),v):x.k},v.scaleExtent=function(t){return arguments.length?(l=null==t?zt:[+t[0],+t[1]],v):l},v.center=function(t){return arguments.length?(e=t&&[+t[0],+t[1]],v):e},v.size=function(t){return arguments.length?(c=t&&[+t[0],+t[1]],v):c},v.duration=function(t){return arguments.length?(f=+t,v):f},v.x=function(t){return arguments.length?(i=(o=t).copy(),x={x:0,y:0,k:1},v):o},v.y=function(t){return arguments.length?(a=(u=t).copy(),x={x:0,y:0,k:1},v):u},P.rebind(v,M,"on")};var qt,Lt,zt=[0,1/0];function It(){}function Ut(t,n,e){return this instanceof Ut?(this.h=+t,this.s=+n,void(this.l=+e)):arguments.length<2?t instanceof Ut?new Ut(t.h,t.s,t.l):ln(""+t,fn,Ut):new Ut(t,n,e)}(P.color=It).prototype.toString=function(){return this.rgb()+""};var Bt=(P.hsl=Ut).prototype=new It;function Vt(t,n,e){var r,i;function o(t){return Math.round(255*(360<(n=t)?n-=360:n<0&&(n+=360),n<60?r+(i-r)*n/60:n<180?i:n<240?r+(i-r)*(240-n)/60:r));var n}return t=isNaN(t)?0:(t%=360)<0?t+360:t,n=isNaN(n)?0:n<0?0:1<n?1:n,r=2*(e=e<0?0:1<e?1:e)-(i=e<=.5?e*(1+n):e+n-e*n),new on(o(t+120),o(t),o(t-120))}function Wt(t,n,e){return this instanceof Wt?(this.h=+t,this.c=+n,void(this.l=+e)):arguments.length<2?t instanceof Wt?new Wt(t.h,t.c,t.l):tn(t instanceof Zt?t.l:(t=hn((t=P.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Wt(t,n,e)}Bt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Ut(this.h,this.s,this.l/t)},Bt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Ut(this.h,this.s,t*this.l)},Bt.rgb=function(){return Vt(this.h,this.s,this.l)};var Ht=(P.hcl=Wt).prototype=new It;function $t(t,n,e){return isNaN(t)&&(t=0),isNaN(n)&&(n=0),new Zt(e,Math.cos(t*=Nt)*n,Math.sin(t)*n)}function Zt(t,n,e){return this instanceof Zt?(this.l=+t,this.a=+n,void(this.b=+e)):arguments.length<2?t instanceof Zt?new Zt(t.l,t.a,t.b):t instanceof Wt?$t(t.h,t.c,t.l):hn((t=on(t)).r,t.g,t.b):new Zt(t,n,e)}Ht.brighter=function(t){return new Wt(this.h,this.c,Math.min(100,this.l+Yt*(arguments.length?t:1)))},Ht.darker=function(t){return new Wt(this.h,this.c,Math.max(0,this.l-Yt*(arguments.length?t:1)))},Ht.rgb=function(){return $t(this.h,this.c,this.l).rgb()},P.lab=Zt;var Yt=18,Gt=.95047,Kt=1,Qt=1.08883,Jt=Zt.prototype=new It;function Xt(t,n,e){var r=(t+16)/116,i=r+n/500,o=r-e/200;return new on(rn(3.2404542*(i=nn(i)*Gt)-1.5371385*(r=nn(r)*Kt)-.4985314*(o=nn(o)*Qt)),rn(-.969266*i+1.8760108*r+.041556*o),rn(.0556434*i-.2040259*r+1.0572252*o))}function tn(t,n,e){return 0<t?new Wt(Math.atan2(e,n)*Ct,Math.sqrt(n*n+e*e),t):new Wt(NaN,NaN,t)}function nn(t){return.206893034<t?t*t*t:(t-4/29)/7.787037}function en(t){return.008856<t?Math.pow(t,1/3):7.787037*t+4/29}function rn(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function on(t,n,e){return this instanceof on?(this.r=~~t,this.g=~~n,void(this.b=~~e)):arguments.length<2?t instanceof on?new on(t.r,t.g,t.b):ln(""+t,on,Vt):new on(t,n,e)}function an(t){return new on(t>>16,t>>8&255,255&t)}function un(t){return an(t)+""}Jt.brighter=function(t){return new Zt(Math.min(100,this.l+Yt*(arguments.length?t:1)),this.a,this.b)},Jt.darker=function(t){return new Zt(Math.max(0,this.l-Yt*(arguments.length?t:1)),this.a,this.b)},Jt.rgb=function(){return Xt(this.l,this.a,this.b)};var sn=(P.rgb=on).prototype=new It;function cn(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function ln(t,n,e){var r,i,o,a=0,u=0,s=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return e(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return n(dn(i[0]),dn(i[1]),dn(i[2]))}return(o=vn.get(t))?n(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,u=240&o,u|=u>>4,s=15&o,s|=s<<4):7===t.length&&(a=(16711680&o)>>16,u=(65280&o)>>8,s=255&o)),n(a,u,s))}function fn(t,n,e){var r,i,o=Math.min(t/=255,n/=255,e/=255),a=Math.max(t,n,e),u=a-o,s=(a+o)/2;return u?(i=s<.5?u/(a+o):u/(2-a-o),r=t==a?(n-e)/u+(n<e?6:0):n==a?(e-t)/u+2:(t-n)/u+4,r*=60):(r=NaN,i=0<s&&s<1?0:r),new Ut(r,i,s)}function hn(t,n,e){var r=en((.4124564*(t=pn(t))+.3575761*(n=pn(n))+.1804375*(e=pn(e)))/Gt),i=en((.2126729*t+.7151522*n+.072175*e)/Kt);return Zt(116*i-16,500*(r-i),200*(i-en((.0193339*t+.119192*n+.9503041*e)/Qt)))}function pn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function dn(t){var n=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*n):n}sn.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var n=this.r,e=this.g,r=this.b;return n||e||r?(n&&n<30&&(n=30),e&&e<30&&(e=30),r&&r<30&&(r=30),new on(Math.min(255,n/t),Math.min(255,e/t),Math.min(255,r/t))):new on(30,30,30)},sn.darker=function(t){return new on((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},sn.hsl=function(){return fn(this.r,this.g,this.b)},sn.toString=function(){return"#"+cn(this.r)+cn(this.g)+cn(this.b)};var vn=P.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function gn(t){return"function"==typeof t?t:function(){return t}}function mn(r){return function(t,n,e){return 2===arguments.length&&"function"==typeof n&&(e=n,n=null),yn(t,n,r,e)}}function yn(i,o,a,t){var e,u={},s=P.dispatch("beforesend","progress","load","error"),c={},l=new XMLHttpRequest,f=null;function n(){var t,n,e,r=l.status;if(!r&&((e=(n=l).responseType)&&"text"!==e?n.response:n.responseText)||200<=r&&r<300||304===r){try{t=a.call(u,l)}catch(t){return void s.error.call(u,t)}s.load.call(u,t)}else s.error.call(u,l)}return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(i)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=n:l.onreadystatechange=function(){3<l.readyState&&n()},l.onprogress=function(t){var n=P.event;P.event=t;try{s.progress.call(u,l)}finally{P.event=n}},u.header=function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?c[t]:(null==n?delete c[t]:c[t]=n+"",u)},u.mimeType=function(t){return arguments.length?(o=null==t?null:t+"",u):o},u.responseType=function(t){return arguments.length?(f=t,u):f},u.response=function(t){return a=t,u},["get","post"].forEach(function(t){u[t]=function(){return u.send.apply(u,[t].concat(h(arguments)))}}),u.send=function(t,n,e){if(2===arguments.length&&"function"==typeof n&&(e=n,n=null),l.open(t,i,!0),null==o||"accept"in c||(c.accept=o+",*/*"),l.setRequestHeader)for(var r in c)l.setRequestHeader(r,c[r]);return null!=o&&l.overrideMimeType&&l.overrideMimeType(o),null!=f&&(l.responseType=f),null!=e&&u.on("error",e).on("load",function(t){e(null,t)}),s.beforesend.call(u,l),l.send(null==n?null:n),u},u.abort=function(){return l.abort(),u},P.rebind(u,s,"on"),null==t?u:u.get(1===(e=t).length?function(t,n){e(null==t?n:null)}:e)}vn.forEach(function(t,n){vn.set(t,an(n))}),P.functor=gn,P.xhr=mn(D),P.dsv=function(i,o){var n=new RegExp('["'+i+"\n]"),h=i.charCodeAt(0);function a(t,n,e){arguments.length<3&&(e=n,n=null);var r=yn(t,o,null==n?u:s(n),e);return r.row=function(t){return arguments.length?r.response(null==(n=t)?u:s(t)):n},r}function u(t){return a.parse(t.responseText)}function s(n){return function(t){return a.parse(t.responseText,n)}}function e(t){return t.map(c).join(i)}function c(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return a.parse=function(t,r){var i;return a.parseRows(t,function(t,n){if(i)return i(t,n-1);var e=new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}");i=r?function(t,n){return r(e(t),n)}:e})},a.parseRows=function(i,t){var n,o,a={},u={},e=[],s=i.length,c=0,r=0;function l(){if(s<=c)return u;if(o)return o=!1,a;var t=c;if(34===i.charCodeAt(t)){for(var n=t;n++<s;)if(34===i.charCodeAt(n)){if(34!==i.charCodeAt(n+1))break;++n}return c=n+2,13===(e=i.charCodeAt(n+1))?(o=!0,10===i.charCodeAt(n+2)&&++c):10===e&&(o=!0),i.slice(t+1,n).replace(/""/g,'"')}for(;c<s;){var e,r=1;if(10===(e=i.charCodeAt(c++)))o=!0;else if(13===e)o=!0,10===i.charCodeAt(c)&&(++c,++r);else if(e!==h)continue;return i.slice(t,c-r)}return i.slice(t)}for(;(n=l())!==u;){for(var f=[];n!==a&&n!==u;)f.push(n),n=l();t&&null==(f=t(f,r++))||e.push(f)}return e},a.format=function(t){if(Array.isArray(t[0]))return a.formatRows(t);var e=new A,r=[];return t.forEach(function(t){for(var n in t)e.has(n)||r.push(e.add(n))}),[r.map(c).join(i)].concat(t.map(function(n){return r.map(function(t){return c(n[t])}).join(i)})).join("\n")},a.formatRows=function(t){return t.map(e).join("\n")},a},P.csv=P.dsv(",","text/csv"),P.tsv=P.dsv("\t","text/tab-separated-values");var bn,wn,xn,_n,kn=this[N(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Mn(t,n,e){var r=arguments.length;r<2&&(n=0),r<3&&(e=Date.now());var i={c:t,t:e+n,n:null};return wn?wn.n=i:bn=i,wn=i,xn||(_n=clearTimeout(_n),xn=1,kn(En)),i}function En(){var t=An(),n=Sn()-t;24<n?(isFinite(n)&&(clearTimeout(_n),_n=setTimeout(En,n)),xn=0):(xn=1,kn(En))}function An(){for(var t=Date.now(),n=bn;n;)t>=n.t&&n.c(t-n.t)&&(n.c=null),n=n.n;return t}function Sn(){for(var t,n=bn,e=1/0;n;)n=n.c?(n.t<e&&(e=n.t),(t=n).n):t?t.n=n.n:bn=n.n;return wn=t,e}function Nn(t,n){return n-(t?Math.ceil(Math.log(t)/Math.LN10):1)}P.timer=function(){Mn.apply(this,arguments)},P.timer.flush=function(){An(),Sn()},P.round=function(t,n){return n?Math.round(t*(n=Math.pow(10,n)))/n:Math.round(t)};var Cn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,n){var e=Math.pow(10,3*T(8-n));return{scale:8<n?function(t){return t/e}:function(t){return t*e},symbol:t}});P.formatPrefix=function(t,n){var e=0;return(t=+t)&&(t<0&&(t*=-1),n&&(t=P.round(t,Nn(t,n))),e=1+Math.floor(1e-12+Math.log(t)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),Cn[8+e/3]};var Rn=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,jn=P.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,n){return t.toPrecision(n)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},r:function(t,n){return(t=P.round(t,Nn(t,n))).toFixed(Math.max(0,Math.min(20,Nn(t*(1+1e-15),n))))}});function On(t){return t+""}var Tn=P.time={},Pn=Date;function Fn(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}Fn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Dn.setUTCDate.apply(this._,arguments)},setDay:function(){Dn.setUTCDay.apply(this._,arguments)},setFullYear:function(){Dn.setUTCFullYear.apply(this._,arguments)},setHours:function(){Dn.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Dn.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Dn.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Dn.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Dn.setUTCSeconds.apply(this._,arguments)},setTime:function(){Dn.setTime.apply(this._,arguments)}};var Dn=Date.prototype;function qn(r,o,a){function t(t){var n=r(t),e=i(n,1);return t-n<e-t?n:e}function u(t){return o(t=r(new Pn(t-1)),1),t}function i(t,n){return o(t=new Pn(+t),n),t}function s(t,n,e){var r=u(t),i=[];if(1<e)for(;r<n;)a(r)%e||i.push(new Date(+r)),o(r,1);else for(;r<n;)i.push(new Date(+r)),o(r,1);return i}(r.floor=r).round=t,r.ceil=u,r.offset=i,r.range=s;var n=r.utc=Ln(r);return(n.floor=n).round=Ln(t),n.ceil=Ln(u),n.offset=Ln(i),n.range=function(t,n,e){try{var r=new(Pn=Fn);return r._=t,s(r,n,e)}finally{Pn=Date}},r}function Ln(r){return function(t,n){try{var e=new(Pn=Fn);return e._=t,r(e,n)._}finally{Pn=Date}}}Tn.year=qn(function(t){return(t=Tn.day(t)).setMonth(0,1),t},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t){return t.getFullYear()}),Tn.years=Tn.year.range,Tn.years.utc=Tn.year.utc.range,Tn.day=qn(function(t){var n=new Pn(2e3,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n},function(t,n){t.setDate(t.getDate()+n)},function(t){return t.getDate()-1}),Tn.days=Tn.day.range,Tn.days.utc=Tn.day.utc.range,Tn.dayOfYear=function(t){var n=Tn.year(t);return Math.floor((t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=Tn[t]=qn(function(t){return(t=Tn.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,n){t.setDate(t.getDate()+7*Math.floor(n))},function(t){var n=Tn.year(t).getDay();return Math.floor((Tn.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});Tn[t+"s"]=n.range,Tn[t+"s"].utc=n.utc.range,Tn[t+"OfYear"]=function(t){var n=Tn.year(t).getDay();return Math.floor((Tn.dayOfYear(t)+(n+e)%7)/7)}}),Tn.week=Tn.sunday,Tn.weeks=Tn.sunday.range,Tn.weeks.utc=Tn.sunday.utc.range,Tn.weekOfYear=Tn.sundayOfYear;var zn={"-":"",_:" ",0:"0"},In=/^\s*\d+/,Un=/^%/;function Bn(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Vn(t){return new RegExp("^(?:"+t.map(P.requote).join("|")+")","i")}function Wn(t){for(var n=new y,e=-1,r=t.length;++e<r;)n.set(t[e].toLowerCase(),e);return n}function Hn(t,n,e){In.lastIndex=0;var r=In.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function $n(t,n,e){In.lastIndex=0;var r=In.exec(n.slice(e));return r?(t.U=+r[0],e+r[0].length):-1}function Zn(t,n,e){In.lastIndex=0;var r=In.exec(n.slice(e));return r?(t.W=+r[0],e+r[0].length):-1}function Yn(t,n,e){In.lastIndex=0;var r=In.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Gn(t,n,e){In.lastIndex=0;var r,i=In.exec(n.slice(e,e+2));return i?(t.y=(r=+i[0])+(68<r?1900:2e3),e+i[0].length):-1}function Kn(t,n,e){return/^[+-]\d{4}$/.test(n=n.slice(e,e+5))?(t.Z=-n,e+5):-1}function Qn(t,n,e){In.lastIndex=0;var r=In.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Jn(t,n,e){In.lastIndex=0;var r=In.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Xn(t,n,e){In.lastIndex=0;var r=In.exec(n.slice(e,e+3));return r?(t.j=+r[0],e+r[0].length):-1}function te(t,n,e){In.lastIndex=0;var r=In.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function ne(t,n,e){In.lastIndex=0;var r=In.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function ee(t,n,e){In.lastIndex=0;var r=In.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function re(t,n,e){In.lastIndex=0;var r=In.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function ie(t){var n=t.getTimezoneOffset(),e=0<n?"-":"+",r=T(n)/60|0,i=T(n)%60;return e+Bn(r,"0",2)+Bn(i,"0",2)}function oe(t,n,e){Un.lastIndex=0;var r=Un.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function ae(r){for(var t=r.length,n=-1;++n<t;)r[n][0]=this(r[n][0]);return function(t){for(var n=0,e=r[n];!e[1](t);)e=r[++n];return e[0](t)}}P.locale=function(t){return{numberFormat:(n=t,M=n.decimal,u=n.thousands,s=n.grouping,r=n.currency,E=s&&u?function(t,n){for(var e=t.length,r=[],i=0,o=s[0],a=0;0<e&&0<o&&(n<a+o+1&&(o=Math.max(1,n-a)),r.push(t.substring(e-=o,e+o)),!((a+=o+1)>n));)o=s[i=(i+1)%s.length];return r.reverse().join(u)}:D,function(t){var n=Rn.exec(t),l=n[1]||" ",f=n[2]||">",h=n[3]||"-",e=n[4]||"",p=n[5],d=+n[6],v=n[7],g=n[8],m=n[9],y=1,b="",w="",x=!1,_=!0;switch(g&&(g=+g.substring(1)),(p||"0"===l&&"="===f)&&(p=l="0",f="="),m){case"n":v=!0,m="g";break;case"%":y=100,w="%",m="f";break;case"p":y=100,w="%",m="r";break;case"b":case"o":case"x":case"X":"#"===e&&(b="0"+m.toLowerCase());case"c":_=!1;case"d":x=!0,g=0;break;case"s":y=-1,m="r"}"$"===e&&(b=r[0],w=r[1]),"r"!=m||g||(m="g"),null!=g&&("g"==m?g=Math.max(1,Math.min(21,g)):"e"!=m&&"f"!=m||(g=Math.max(0,Math.min(20,g)))),m=jn.get(m)||On;var k=p&&v;return function(t){var n=w;if(x&&t%1)return"";var e=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===h?"":h;if(y<0){var r=P.formatPrefix(t,g);t=r.scale(t),n=r.symbol+w}else t*=y;var i,o,a=(t=m(t,g)).lastIndexOf(".");if(a<0){var u=_?t.lastIndexOf("e"):-1;o=u<0?(i=t,""):(i=t.substring(0,u),t.substring(u))}else i=t.substring(0,a),o=M+t.substring(a+1);!p&&v&&(i=E(i,1/0));var s=b.length+i.length+o.length+(k?0:e.length),c=s<d?new Array(s=d-s+1).join(l):"";return k&&(i=E(c+i,c.length?d-o.length:1/0)),e+=b,t=i+o,("<"===f?e+t+c:">"===f?c+e+t:"^"===f?c.substring(0,s>>=1)+e+t+c.substring(s):e+(k?t:c+t))+n}}),timeFormat:function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,s=t.shortMonths;function c(u){var s=u.length;function t(t){for(var n,e,r,i=[],o=-1,a=0;++o<s;)37===u.charCodeAt(o)&&(i.push(u.slice(a,o)),null!=(e=zn[n=u.charAt(++o)])&&(n=u.charAt(++o)),(r=w[n])&&(n=r(t,null==e?"e"===n?" ":"0":e)),i.push(n),a=o+1);return i.push(u.slice(a,o)),i.join("")}return t.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(l(n,u,t,0)!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var e=null!=n.Z&&Pn!==Fn,r=new(e?Fn:Pn);return"j"in n?r.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),r.setFullYear(n.y,0,1),r.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(r.getDay()+5)%7:n.w+7*n.U-(r.getDay()+6)%7)):r.setFullYear(n.y,n.m,n.d),r.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),e?r._:r},t.toString=function(){return u},t}function l(t,n,e,r){for(var i,o,a,u=0,s=n.length,c=e.length;u<s;){if(c<=r)return-1;if(37===(i=n.charCodeAt(u++))){if(a=n.charAt(u++),!(o=x[a in zn?n.charAt(u++):a])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}c.multi=(c.utc=function(t){var e=c(t);function n(t){try{var n=new(Pn=Fn);return n._=t,e(n)}finally{Pn=Date}}return n.parse=function(t){try{Pn=Fn;var n=e.parse(t);return n&&n._}finally{Pn=Date}},n.toString=e.toString,n}).multi=ae;var f=P.map(),h=Vn(o),p=Wn(o),d=Vn(a),v=Wn(a),g=Vn(u),m=Wn(u),y=Vn(s),b=Wn(s);i.forEach(function(t,n){f.set(t.toLowerCase(),n)});var w={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:c(n),d:function(t,n){return Bn(t.getDate(),n,2)},e:function(t,n){return Bn(t.getDate(),n,2)},H:function(t,n){return Bn(t.getHours(),n,2)},I:function(t,n){return Bn(t.getHours()%12||12,n,2)},j:function(t,n){return Bn(1+Tn.dayOfYear(t),n,3)},L:function(t,n){return Bn(t.getMilliseconds(),n,3)},m:function(t,n){return Bn(t.getMonth()+1,n,2)},M:function(t,n){return Bn(t.getMinutes(),n,2)},p:function(t){return i[+(12<=t.getHours())]},S:function(t,n){return Bn(t.getSeconds(),n,2)},U:function(t,n){return Bn(Tn.sundayOfYear(t),n,2)},w:function(t){return t.getDay()},W:function(t,n){return Bn(Tn.mondayOfYear(t),n,2)},x:c(e),X:c(r),y:function(t,n){return Bn(t.getFullYear()%100,n,2)},Y:function(t,n){return Bn(t.getFullYear()%1e4,n,4)},Z:ie,"%":function(){return"%"}},x={a:function(t,n,e){d.lastIndex=0;var r=d.exec(n.slice(e));return r?(t.w=v.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(t,n,e){h.lastIndex=0;var r=h.exec(n.slice(e));return r?(t.w=p.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(t,n,e){y.lastIndex=0;var r=y.exec(n.slice(e));return r?(t.m=b.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(t,n,e){g.lastIndex=0;var r=g.exec(n.slice(e));return r?(t.m=m.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(t,n,e){return l(t,w.c.toString(),n,e)},d:Jn,e:Jn,H:te,I:te,j:Xn,L:re,m:Qn,M:ne,p:function(t,n,e){var r=f.get(n.slice(e,e+=2).toLowerCase());return null==r?-1:(t.p=r,e)},S:ee,U:$n,w:Hn,W:Zn,x:function(t,n,e){return l(t,w.x.toString(),n,e)},X:function(t,n,e){return l(t,w.X.toString(),n,e)},y:Gn,Y:Yn,Z:Kn,"%":oe};return c}(t)};var n,M,u,s,r,E};var ue=P.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function se(){}P.format=ue.numberFormat,P.geo={},se.prototype={s:0,t:0,add:function(t){le(t,this.t,ce),le(ce.s,this.s,this),this.s?this.t+=ce.t:this.s=ce.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ce=new se;function le(t,n,e){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}function fe(t,n){t&&pe.hasOwnProperty(t.type)&&pe[t.type](t,n)}P.geo.stream=function(t,n){t&&he.hasOwnProperty(t.type)?he[t.type](t,n):fe(t,n)};var he={Feature:function(t,n){fe(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)fe(e[r].geometry,n)}},pe={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){de(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)de(e[r],n,0)},Polygon:function(t,n){ve(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)ve(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)fe(e[r],n)}};function de(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function ve(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)de(t[e],n,1);n.polygonEnd()}P.geo.area=function(t){return ge=0,P.geo.stream(t,Ce),ge};var ge,me,ye,be,we,xe,_e,ke,Me,Ee,Ae,Se,Ne=new se,Ce={sphere:function(){ge+=4*Mt},point:R,lineStart:R,lineEnd:R,polygonStart:function(){Ne.reset(),Ce.lineStart=Re},polygonEnd:function(){var t=2*Ne;ge+=t<0?4*Mt+t:t,Ce.lineStart=Ce.lineEnd=Ce.point=R}};function Re(){var e,r,l,f,h;function i(t,n){n=n*Nt/2+Mt/4;var e=(t*=Nt)-l,r=0<=e?1:-1,i=r*e,o=Math.cos(n),a=Math.sin(n),u=h*a,s=f*o+u*Math.cos(i),c=u*r*Math.sin(i);Ne.add(Math.atan2(c,s)),l=t,f=o,h=a}Ce.point=function(t,n){Ce.point=i,l=(e=t)*Nt,f=Math.cos(n=(r=n)*Nt/2+Mt/4),h=Math.sin(n)},Ce.lineEnd=function(){i(e,r)}}function je(t){var n=t[0],e=t[1],r=Math.cos(e);return[r*Math.cos(n),r*Math.sin(n),Math.sin(e)]}function Oe(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Te(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Pe(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Fe(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function De(t){var n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function qe(t){return[Math.atan2(t[1],t[0]),Tt(t[2])]}function Le(t,n){return T(t[0]-n[0])<_t&&T(t[1]-n[1])<_t}P.geo.bounds=function(){var l,f,h,p,d,r,i,v,o,s,c,g={point:m,lineStart:t,lineEnd:n,polygonStart:function(){g.point=e,g.lineStart=u,g.lineEnd=y,o=0,Ce.polygonStart()},polygonEnd:function(){Ce.polygonEnd(),g.point=m,g.lineStart=t,g.lineEnd=n,Ne<0?(l=-(h=180),f=-(p=90)):_t<o?p=90:o<-_t&&(f=-90),c[0]=l,c[1]=h}};function m(t,n){s.push(c=[l=t,h=t]),n<f&&(f=n),p<n&&(p=n)}function a(t,n){var e=je([t*Nt,n*Nt]);if(v){var r=Te(v,e),i=Te([r[1],-r[0],0],r);De(i),i=qe(i);var o=t-d,a=0<o?1:-1,u=i[0]*Ct*a,s=180<T(o);if(s^(a*d<u&&u<a*t)){var c=i[1]*Ct;p<c&&(p=c)}else if(s^(a*d<(u=(u+360)%360-180)&&u<a*t)){(c=-i[1]*Ct)<f&&(f=c)}else n<f&&(f=n),p<n&&(p=n);s?t<d?b(l,t)>b(l,h)&&(h=t):b(t,h)>b(l,h)&&(l=t):l<=h?(t<l&&(l=t),h<t&&(h=t)):d<t?b(l,t)>b(l,h)&&(h=t):b(t,h)>b(l,h)&&(l=t)}else m(t,n);v=e,d=t}function t(){g.point=a}function n(){c[0]=l,c[1]=h,g.point=m,v=null}function e(t,n){if(v){var e=t-d;o+=180<T(e)?e+(0<e?360:-360):e}else r=t,i=n;Ce.point(t,n),a(t,n)}function u(){Ce.lineStart()}function y(){e(r,i),Ce.lineEnd(),T(o)>_t&&(l=-(h=180)),c[0]=l,c[1]=h,v=null}function b(t,n){return(n-=t)<0?n+360:n}function w(t,n){return t[0]-n[0]}function x(t,n){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}return function(t){if(p=h=-(l=f=1/0),s=[],P.geo.stream(t,g),i=s.length){s.sort(w);for(var n=1,e=[u=s[0]];n<i;++n)x((o=s[n])[0],u)||x(o[1],u)?(b(u[0],o[1])>b(u[0],u[1])&&(u[1]=o[1]),b(o[0],u[1])>b(u[0],u[1])&&(u[0]=o[0])):e.push(u=o);for(var r,i,o,a=-1/0,u=(n=0,e[i=e.length-1]);n<=i;u=o,++n)o=e[n],(r=b(u[1],o[0]))>a&&(a=r,l=o[0],h=u[1])}return s=c=null,l===1/0||f===1/0?[[NaN,NaN],[NaN,NaN]]:[[l,f],[h,p]]}}(),P.geo.centroid=function(t){me=ye=be=we=xe=_e=ke=Me=Ee=Ae=Se=0,P.geo.stream(t,ze);var n=Ee,e=Ae,r=Se,i=n*n+e*e+r*r;return i<kt&&(n=_e,e=ke,r=Me,ye<_t&&(n=be,e=we,r=xe),(i=n*n+e*e+r*r)<kt)?[NaN,NaN]:[Math.atan2(e,n)*Ct,Tt(r/Math.sqrt(i))*Ct]};var ze={sphere:R,point:Ie,lineStart:Be,lineEnd:Ve,polygonStart:function(){ze.lineStart=We},polygonEnd:function(){ze.lineStart=Be}};function Ie(t,n){t*=Nt;var e=Math.cos(n*=Nt);Ue(e*Math.cos(t),e*Math.sin(t),Math.sin(n))}function Ue(t,n,e){be+=(t-be)/++me,we+=(n-we)/me,xe+=(e-xe)/me}function Be(){var u,s,c;function r(t,n){t*=Nt;var e=Math.cos(n*=Nt),r=e*Math.cos(t),i=e*Math.sin(t),o=Math.sin(n),a=Math.atan2(Math.sqrt((a=s*o-c*i)*a+(a=c*r-u*o)*a+(a=u*i-s*r)*a),u*r+s*i+c*o);ye+=a,_e+=a*(u+(u=r)),ke+=a*(s+(s=i)),Me+=a*(c+(c=o)),Ue(u,s,c)}ze.point=function(t,n){t*=Nt;var e=Math.cos(n*=Nt);u=e*Math.cos(t),s=e*Math.sin(t),c=Math.sin(n),ze.point=r,Ue(u,s,c)}}function Ve(){ze.point=Ie}function We(){var r,i,p,d,v;function o(t,n){t*=Nt;var e=Math.cos(n*=Nt),r=e*Math.cos(t),i=e*Math.sin(t),o=Math.sin(n),a=d*o-v*i,u=v*r-p*o,s=p*i-d*r,c=Math.sqrt(a*a+u*u+s*s),l=p*r+d*i+v*o,f=c&&-Ot(l)/c,h=Math.atan2(c,l);Ee+=f*a,Ae+=f*u,Se+=f*s,ye+=h,_e+=h*(p+(p=r)),ke+=h*(d+(d=i)),Me+=h*(v+(v=o)),Ue(p,d,v)}ze.point=function(t,n){r=t,i=n,ze.point=o,t*=Nt;var e=Math.cos(n*=Nt);p=e*Math.cos(t),d=e*Math.sin(t),v=Math.sin(n),Ue(p,d,v)},ze.lineEnd=function(){o(r,i),ze.lineEnd=Ve,ze.point=Ie}}function He(e,r){function t(t,n){return t=e(t,n),r(t[0],t[1])}return e.invert&&r.invert&&(t.invert=function(t,n){return(t=r.invert(t,n))&&e.invert(t[0],t[1])}),t}function $e(){return!0}function Ze(t,n,e,r,u){var s=[],c=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e=t[0],r=t[n];if(Le(e,r)){u.lineStart();for(var i=0;i<n;++i)u.point((e=t[i])[0],e[1]);u.lineEnd()}else{var o=new Ge(e,t,null,!0),a=new Ge(e,null,o,!1);o.o=a,s.push(o),c.push(a),a=new Ge(r,null,o=new Ge(r,t,null,!1),!0),o.o=a,s.push(o),c.push(a)}}}),c.sort(n),Ye(s),Ye(c),s.length){for(var i=0,o=e,a=c.length;i<a;++i)c[i].e=o=!o;for(var l,f,h=s[0];;){for(var p=h,d=!0;p.v;)if((p=p.n)===h)return;l=p.z,u.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(i=0,a=l.length;i<a;++i)u.point((f=l[i])[0],f[1]);else r(p.x,p.n.x,1,u);p=p.n}else{if(d)for(i=(l=p.p.z).length-1;0<=i;--i)u.point((f=l[i])[0],f[1]);else r(p.x,p.p.x,-1,u);p=p.p}l=(p=p.o).z,d=!d}while(!p.v);u.lineEnd()}}}function Ye(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function Ge(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Ke(y,b,w,x){return function(r,a){var u,i=b(a),n=r.invert(x[0],x[1]),e={point:o,lineStart:s,lineEnd:c,polygonStart:function(){e.point=v,e.lineStart=g,e.lineEnd=m,u=[],l=[]},polygonEnd:function(){e.point=o,e.lineStart=s,e.lineEnd=c,u=P.merge(u);var t=function(t,n){var e=t[0],r=t[1],i=[Math.sin(e),-Math.cos(e),0],o=0,a=0;Ne.reset();for(var u=0,s=n.length;u<s;++u){var c=n[u],l=c.length;if(l)for(var f=c[0],h=f[0],p=f[1]/2+Mt/4,d=Math.sin(p),v=Math.cos(p),g=1;;){g===l&&(g=0);var m=(t=c[g])[0],y=t[1]/2+Mt/4,b=Math.sin(y),w=Math.cos(y),x=m-h,_=0<=x?1:-1,k=_*x,M=Mt<k,E=d*b;if(Ne.add(Math.atan2(E*_*Math.sin(k),v*w+E*Math.cos(k))),o+=M?x+_*Et:x,M^e<=h^e<=m){var A=Te(je(f),je(t));De(A);var S=Te(i,A);De(S);var N=(M^0<=x?-1:1)*Tt(S[2]);(N<r||r===N&&(A[0]||A[1]))&&(a+=M^0<=x?1:-1)}if(!g++)break;h=m,d=b,v=w,f=t}}return(o<-_t||o<_t&&Ne<-_t)^1&a}(n,l);u.length?(d||(a.polygonStart(),d=!0),Ze(u,Xe,t,w,a)):t&&(d||(a.polygonStart(),d=!0),a.lineStart(),w(null,null,1,a),a.lineEnd()),d&&(a.polygonEnd(),d=!1),u=l=null},sphere:function(){a.polygonStart(),a.lineStart(),w(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function o(t,n){var e=r(t,n);y(t=e[0],n=e[1])&&a.point(t,n)}function t(t,n){var e=r(t,n);i.point(e[0],e[1])}function s(){e.point=t,i.lineStart()}function c(){e.point=o,i.lineEnd()}var l,f,h=Je(),p=b(h),d=!1;function v(t,n){f.push([t,n]);var e=r(t,n);p.point(e[0],e[1])}function g(){p.lineStart(),f=[]}function m(){v(f[0][0],f[0][1]),p.lineEnd();var t,n=p.clean(),e=h.buffer(),r=e.length;if(f.pop(),l.push(f),f=null,r)if(1&n){var i,o=-1;if(0<(r=(t=e[0]).length-1)){for(d||(a.polygonStart(),d=!0),a.lineStart();++o<r;)a.point((i=t[o])[0],i[1]);a.lineEnd()}}else 1<r&&2&n&&e.push(e.pop().concat(e.shift())),u.push(e.filter(Qe))}return e}}function Qe(t){return 1<t.length}function Je(){var e,n=[];return{lineStart:function(){n.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:R,buffer:function(){var t=n;return n=[],e=null,t},rejoin:function(){1<n.length&&n.push(n.pop().concat(n.shift()))}}}function Xe(t,n){return((t=t.x)[0]<0?t[1]-St-_t:St-t[1])-((n=n.x)[0]<0?n[1]-St-_t:St-n[1])}var tr=Ke($e,function(f){var h,p=NaN,d=NaN,v=NaN;return{lineStart:function(){f.lineStart(),h=1},point:function(t,n){var e,r,i,o,a,u,s,c=0<t?Mt:-Mt,l=T(t-p);T(l-Mt)<_t?(f.point(p,d=0<(d+n)/2?St:-St),f.point(v,d),f.lineEnd(),f.lineStart(),f.point(c,d),f.point(t,d),h=0):v!==c&&Mt<=l&&(T(p-v)<_t&&(p-=v*_t),T(t-c)<_t&&(t-=c*_t),e=p,r=d,i=t,o=n,s=Math.sin(e-i),d=T(s)>_t?Math.atan((Math.sin(r)*(u=Math.cos(o))*Math.sin(i)-Math.sin(o)*(a=Math.cos(r))*Math.sin(e))/(a*u*s)):(r+o)/2,f.point(v,d),f.lineEnd(),f.lineStart(),f.point(c,d),h=0),f.point(p=t,d=n),v=c},lineEnd:function(){f.lineEnd(),p=d=NaN},clean:function(){return 2-h}}},function(t,n,e,r){var i;if(null==t)i=e*St,r.point(-Mt,i),r.point(0,i),r.point(Mt,i),r.point(Mt,0),r.point(Mt,-i),r.point(0,-i),r.point(-Mt,-i),r.point(-Mt,0),r.point(-Mt,i);else if(T(t[0]-n[0])>_t){var o=t[0]<n[0]?Mt:-Mt;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-Mt,-Mt/2]);function nr(l,f,h,p){return function(t){var n,e=t.a,r=t.b,i=e.x,o=e.y,a=0,u=1,s=r.x-i,c=r.y-o;if(n=l-i,s||!(0<n)){if(n/=s,s<0){if(n<a)return;n<u&&(u=n)}else if(0<s){if(u<n)return;a<n&&(a=n)}if(n=h-i,s||!(n<0)){if(n/=s,s<0){if(u<n)return;a<n&&(a=n)}else if(0<s){if(n<a)return;n<u&&(u=n)}if(n=f-o,c||!(0<n)){if(n/=c,c<0){if(n<a)return;n<u&&(u=n)}else if(0<c){if(u<n)return;a<n&&(a=n)}if(n=p-o,c||!(n<0)){if(n/=c,c<0){if(u<n)return;a<n&&(a=n)}else if(0<c){if(n<a)return;n<u&&(u=n)}return 0<a&&(t.a={x:i+a*s,y:o+a*c}),u<1&&(t.b={x:i+u*s,y:o+u*c}),t}}}}}}var er=1e9;function rr(w,x,_,k){return function(i){var r,l,o,a,u,s,c,f,h,p,d,v=i,t=Je(),g=nr(w,x,_,k),n={point:e,lineStart:function(){n.point=b,l&&l.push(o=[]);p=!0,h=!1,c=f=NaN},lineEnd:function(){r&&(b(a,u),s&&h&&t.rejoin(),r.push(t.buffer()));n.point=e,h&&i.lineEnd()},polygonStart:function(){i=t,r=[],l=[],d=!0},polygonEnd:function(){i=v,r=P.merge(r);var t=function(t){for(var n=0,e=l.length,r=t[1],i=0;i<e;++i)for(var o,a=1,u=l[i],s=u.length,c=u[0];a<s;++a)o=u[a],c[1]<=r?o[1]>r&&0<jt(c,o,t)&&++n:o[1]<=r&&jt(c,o,t)<0&&--n,c=o;return 0!==n}([w,k]),n=d&&t,e=r.length;(n||e)&&(i.polygonStart(),n&&(i.lineStart(),m(null,null,1,i),i.lineEnd()),e&&Ze(r,E,t,m,i),i.polygonEnd()),r=l=o=null}};function m(t,n,e,r){var i=0,o=0;if(null==t||(i=M(t,e))!==(o=M(n,e))||A(t,n)<0^0<e)for(;r.point(0===i||3===i?w:_,1<i?k:x),(i=(i+e+4)%4)!==o;);else r.point(n[0],n[1])}function y(t,n){return w<=t&&t<=_&&x<=n&&n<=k}function e(t,n){y(t,n)&&i.point(t,n)}function b(t,n){var e=y(t=Math.max(-er,Math.min(er,t)),n=Math.max(-er,Math.min(er,n)));if(l&&o.push([t,n]),p)a=t,u=n,p=!1,(s=e)&&(i.lineStart(),i.point(t,n));else if(e&&h)i.point(t,n);else{var r={a:{x:c,y:f},b:{x:t,y:n}};g(r)?(h||(i.lineStart(),i.point(r.a.x,r.a.y)),i.point(r.b.x,r.b.y),e||i.lineEnd(),d=!1):e&&(i.lineStart(),i.point(t,n),d=!1)}c=t,f=n,h=e}return n};function M(t,n){return T(t[0]-w)<_t?0<n?0:3:T(t[0]-_)<_t?0<n?2:1:T(t[1]-x)<_t?0<n?1:0:0<n?3:2}function E(t,n){return A(t.x,n.x)}function A(t,n){var e=M(t,1),r=M(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}}function ir(t){var n=0,e=Mt/3,r=Nr(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*Mt/180,e=t[1]*Mt/180):[n/Mt*180,e/Mt*180]},i}function or(t,n){var e=Math.sin(t),r=(e+Math.sin(n))/2,i=1+e*(2*r-e),o=Math.sqrt(i)/r;function a(t,n){var e=Math.sqrt(i-2*r*Math.sin(n))/r;return[e*Math.sin(t*=r),o-e*Math.cos(t)]}return a.invert=function(t,n){var e=o-n;return[Math.atan2(t,e)/r,Tt((i-(t*t+e*e)*r*r)/(2*r))]},a}P.geo.clipExtent=function(){var n,e,r,i,o,a,u={stream:function(t){return o&&(o.valid=!1),(o=a(t)).valid=!0,o},extent:function(t){return arguments.length?(a=rr(n=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),o&&(o.valid=!1,o=null),u):[[n,e],[r,i]]}};return u.extent([[0,0],[960,500]])},(P.geo.conicEqualArea=function(){return ir(or)}).raw=or,P.geo.albers=function(){return P.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},P.geo.albersUsa=function(){var r,i,o,a,u=P.geo.albers(),s=P.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=P.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){r=[t,n]}};function f(t){var n=t[0],e=t[1];return r=null,i(n,e),r||(o(n,e),r)||a(n,e),r}return f.invert=function(t){var n=u.scale(),e=u.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(.12<=i&&i<.234&&-.425<=r&&r<-.214?s:.166<=i&&i<.234&&-.214<=r&&r<-.115?c:u).invert(t)},f.stream=function(t){var e=u.stream(t),r=s.stream(t),i=c.stream(t);return{point:function(t,n){e.point(t,n),r.point(t,n),i.point(t,n)},sphere:function(){e.sphere(),r.sphere(),i.sphere()},lineStart:function(){e.lineStart(),r.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),r.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),r.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),r.polygonEnd(),i.polygonEnd()}}},f.precision=function(t){return arguments.length?(u.precision(t),s.precision(t),c.precision(t),f):u.precision()},f.scale=function(t){return arguments.length?(u.scale(t),s.scale(.35*t),c.scale(t),f.translate(u.translate())):u.scale()},f.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),e=+t[0],r=+t[1];return i=u.translate(t).clipExtent([[e-.455*n,r-.238*n],[e+.455*n,r+.238*n]]).stream(l).point,o=s.translate([e-.307*n,r+.201*n]).clipExtent([[e-.425*n+_t,r+.12*n+_t],[e-.214*n-_t,r+.234*n-_t]]).stream(l).point,a=c.translate([e-.205*n,r+.212*n]).clipExtent([[e-.214*n+_t,r+.166*n+_t],[e-.115*n-_t,r+.234*n-_t]]).stream(l).point,f},f.scale(1070)};var ar,ur,sr,cr,lr,fr,hr={point:R,lineStart:R,lineEnd:R,polygonStart:function(){ur=0,hr.lineStart=pr},polygonEnd:function(){hr.lineStart=hr.lineEnd=hr.point=R,ar+=T(ur/2)}};function pr(){var e,r,i,o;function a(t,n){ur+=o*t-i*n,i=t,o=n}hr.point=function(t,n){hr.point=a,e=i=t,r=o=n},hr.lineEnd=function(){a(e,r)}}var dr={point:function(t,n){t<sr&&(sr=t);lr<t&&(lr=t);n<cr&&(cr=n);fr<n&&(fr=n)},lineStart:R,lineEnd:R,polygonStart:R,polygonEnd:R};function vr(){var e=gr(4.5),r=[],i={point:t,lineStart:function(){i.point=n},lineEnd:a,polygonStart:function(){i.lineEnd=u},polygonEnd:function(){i.lineEnd=a,i.point=t},pointRadius:function(t){return e=gr(t),i},result:function(){if(r.length){var t=r.join("");return r=[],t}}};function t(t,n){r.push("M",t,",",n,e)}function n(t,n){r.push("M",t,",",n),i.point=o}function o(t,n){r.push("L",t,",",n)}function a(){i.point=t}function u(){r.push("Z")}return i}function gr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var mr,yr={point:br,lineStart:wr,lineEnd:xr,polygonStart:function(){yr.lineStart=_r},polygonEnd:function(){yr.point=br,yr.lineStart=wr,yr.lineEnd=xr}};function br(t,n){be+=t,we+=n,++xe}function wr(){var o,a;function e(t,n){var e=t-o,r=n-a,i=Math.sqrt(e*e+r*r);_e+=i*(o+t)/2,ke+=i*(a+n)/2,Me+=i,br(o=t,a=n)}yr.point=function(t,n){yr.point=e,br(o=t,a=n)}}function xr(){yr.point=br}function _r(){var e,r,o,a;function i(t,n){var e=t-o,r=n-a,i=Math.sqrt(e*e+r*r);_e+=i*(o+t)/2,ke+=i*(a+n)/2,Me+=i,Ee+=(i=a*t-o*n)*(o+t),Ae+=i*(a+n),Se+=3*i,br(o=t,a=n)}yr.point=function(t,n){yr.point=i,br(e=o=t,r=a=n)},yr.lineEnd=function(){i(e,r)}}function kr(e){var r=4.5,i={point:t,lineStart:function(){i.point=n},lineEnd:a,polygonStart:function(){i.lineEnd=u},polygonEnd:function(){i.lineEnd=a,i.point=t},pointRadius:function(t){return r=t,i},result:R};function t(t,n){e.moveTo(t+r,n),e.arc(t,n,r,0,Et)}function n(t,n){e.moveTo(t,n),i.point=o}function o(t,n){e.lineTo(t,n)}function a(){i.point=t}function u(){e.closePath()}return i}function Mr(C){var R=.5,j=Math.cos(30*Nt),x=16;function n(t){return(x?function(i){var e,r,o,a,u,s,c,l,f,h,p,d,v={point:t,lineStart:n,lineEnd:m,polygonStart:function(){i.polygonStart(),v.lineStart=y},polygonEnd:function(){i.polygonEnd(),v.lineStart=n}};function t(t,n){t=C(t,n),i.point(t[0],t[1])}function n(){l=NaN,v.point=g,i.lineStart()}function g(t,n){var e=je([t,n]),r=C(t,n);O(l,f,c,h,p,d,l=r[0],f=r[1],c=t,h=e[0],p=e[1],d=e[2],x,i),i.point(l,f)}function m(){v.point=t,i.lineEnd()}function y(){n(),v.point=b,v.lineEnd=w}function b(t,n){g(e=t,n),r=l,o=f,a=h,u=p,s=d,v.point=g}function w(){O(l,f,c,h,p,d,r,o,e,a,u,s,x,i),(v.lineEnd=m)()}return v}:function(e){return Ar(e,function(t,n){t=C(t,n),e.point(t[0],t[1])})})(t)}function O(t,n,e,r,i,o,a,u,s,c,l,f,h,p){var d=a-t,v=u-n,g=d*d+v*v;if(4*R<g&&h--){var m=r+c,y=i+l,b=o+f,w=Math.sqrt(m*m+y*y+b*b),x=Math.asin(b/=w),_=T(T(b)-1)<_t||T(e-s)<_t?(e+s)/2:Math.atan2(y,m),k=C(_,x),M=k[0],E=k[1],A=M-t,S=E-n,N=v*A-d*S;(R<N*N/g||.3<T((d*A+v*S)/g-.5)||r*c+i*l+o*f<j)&&(O(t,n,e,r,i,o,M,E,_,m/=w,y/=w,b,h,p),p.point(M,E),O(M,E,_,m,y,b,a,u,s,c,l,f,h,p))}}return n.precision=function(t){return arguments.length?(x=0<(R=t*t)&&16,n):Math.sqrt(R)},n}function Er(t){this.stream=t}function Ar(t,n){return{point:n,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Sr(t){return Nr(function(){return t})()}function Nr(t){var e,n,r,i,o,a,u=Mr(function(t,n){return[(t=e(t,n))[0]*s+i,o-t[1]*s]}),s=150,c=480,l=250,f=0,h=0,p=0,d=0,v=0,g=tr,m=D,y=null,b=null;function w(t){return[(t=r(t[0]*Nt,t[1]*Nt))[0]*s+i,o-t[1]*s]}function x(t){return(t=r.invert((t[0]-i)/s,(o-t[1])/s))&&[t[0]*Ct,t[1]*Ct]}function _(){r=He(n=Or(p,d,v),e);var t=e(f,h);return i=c-t[0]*s,o=l+t[1]*s,k()}function k(){return a&&(a.valid=!1,a=null),w}return w.stream=function(t){return a&&(a.valid=!1),(a=Cr(g(n,u(m(t))))).valid=!0,a},w.clipAngle=function(t){return arguments.length?(g=null==t?(y=t,tr):function(i){var A=Math.cos(i),p=0<A,d=T(A)>_t;return Ke(v,function(u){var s,c,l,f,h;return{lineStart:function(){f=l=!1,h=1},point:function(t,n){var e,r=[t,n],i=v(t,n),o=p?i?0:m(t,n):i?m(t+(t<0?Mt:-Mt),n):0;if(!s&&(f=l=i)&&u.lineStart(),i!==l&&(e=g(s,r),(Le(s,e)||Le(r,e))&&(r[0]+=_t,r[1]+=_t,i=v(r[0],r[1]))),i!==l)h=0,i?(u.lineStart(),e=g(r,s),u.point(e[0],e[1])):(e=g(s,r),u.point(e[0],e[1]),u.lineEnd()),s=e;else if(d&&s&&p^i){var a;o&c||!(a=g(r,s,!0))||(h=0,p?(u.lineStart(),u.point(a[0][0],a[0][1]),u.point(a[1][0],a[1][1]),u.lineEnd()):(u.point(a[1][0],a[1][1]),u.lineEnd(),u.lineStart(),u.point(a[0][0],a[0][1])))}!i||s&&Le(s,r)||u.point(r[0],r[1]),s=r,l=i,c=o},lineEnd:function(){l&&u.lineEnd(),s=null},clean:function(){return h|(f&&l)<<1}}},Dr(i,6*Nt),p?[0,-i]:[-Mt,i-Mt]);function v(t,n){return Math.cos(t)*Math.cos(n)>A}function g(t,n,e){var r=[1,0,0],i=Te(je(t),je(n)),o=Oe(i,i),a=i[0],u=o-a*a;if(!u)return!e&&t;var s=A*o/u,c=-A*a/u,l=Te(r,i),f=Fe(r,s);Pe(f,Fe(i,c));var h=l,p=Oe(f,h),d=Oe(h,h),v=p*p-d*(Oe(f,f)-1);if(!(v<0)){var g=Math.sqrt(v),m=Fe(h,(-p-g)/d);if(Pe(m,f),m=qe(m),!e)return m;var y,b=t[0],w=n[0],x=t[1],_=n[1];w<b&&(y=b,b=w,w=y);var k=w-b,M=T(k-Mt)<_t;if(!M&&_<x&&(y=x,x=_,_=y),M||k<_t?M?0<x+_^m[1]<(T(m[0]-b)<_t?x:_):x<=m[1]&&m[1]<=_:Mt<k^(b<=m[0]&&m[0]<=w)){var E=Fe(h,(-p+g)/d);return Pe(E,f),[m,qe(E)]}}}function m(t,n){var e=p?i:Mt-i,r=0;return t<-e?r|=1:e<t&&(r|=2),n<-e?r|=4:e<n&&(r|=8),r}}((y=+t)*Nt),k()):y},w.clipExtent=function(t){return arguments.length?(m=(b=t)?rr(t[0][0],t[0][1],t[1][0],t[1][1]):D,k()):b},w.scale=function(t){return arguments.length?(s=+t,_()):s},w.translate=function(t){return arguments.length?(c=+t[0],l=+t[1],_()):[c,l]},w.center=function(t){return arguments.length?(f=t[0]%360*Nt,h=t[1]%360*Nt,_()):[f*Ct,h*Ct]},w.rotate=function(t){return arguments.length?(p=t[0]%360*Nt,d=t[1]%360*Nt,v=2<t.length?t[2]%360*Nt:0,_()):[p*Ct,d*Ct,v*Ct]},P.rebind(w,u,"precision"),function(){return e=t.apply(this,arguments),w.invert=e.invert&&x,_()}}function Cr(e){return Ar(e,function(t,n){e.point(t*Nt,n*Nt)})}function Rr(t,n){return[t,n]}function jr(t,n){return[Mt<t?t-Et:t<-Mt?t+Et:t,n]}function Or(t,n,e){return t?n||e?He(Pr(t),Fr(n,e)):Pr(t):n||e?Fr(n,e):jr}function Tr(e){return function(t,n){return[Mt<(t+=e)?t-Et:t<-Mt?t+Et:t,n]}}function Pr(t){var n=Tr(t);return n.invert=Tr(-t),n}function Fr(t,n){var u=Math.cos(t),s=Math.sin(t),c=Math.cos(n),l=Math.sin(n);function e(t,n){var e=Math.cos(n),r=Math.cos(t)*e,i=Math.sin(t)*e,o=Math.sin(n),a=o*u+r*s;return[Math.atan2(i*c-a*l,r*u-o*s),Tt(a*c+i*l)]}return e.invert=function(t,n){var e=Math.cos(n),r=Math.cos(t)*e,i=Math.sin(t)*e,o=Math.sin(n),a=o*c-i*l;return[Math.atan2(i*c+o*l,r*u+a*s),Tt(a*u-r*s)]},e}function Dr(u,s){var c=Math.cos(u),l=Math.sin(u);return function(t,n,e,r){var i=e*s;null!=t?(t=qr(c,t),n=qr(c,n),(0<e?t<n:n<t)&&(t+=e*Et)):(t=u+e*Et,n=u-.5*i);for(var o,a=t;0<e?n<a:a<n;a-=i)r.point((o=qe([c,-l*Math.cos(a),-l*Math.sin(a)]))[0],o[1])}}function qr(t,n){var e=je(n);e[0]-=t,De(e);var r=Ot(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-_t)%(2*Math.PI)}function Lr(t,n,e){var r=P.range(t,n-_t,e).concat(n);return function(n){return r.map(function(t){return[n,t]})}}function zr(t,n,e){var r=P.range(t,n-_t,e).concat(n);return function(n){return r.map(function(t){return[t,n]})}}function Ir(t){return t.source}function Ur(t){return t.target}P.geo.path=function(){var r,n,i,e,o,a=4.5;function u(t){return t&&("function"==typeof a&&e.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=i(e)),P.geo.stream(t,o)),e.result()}function s(){return o=null,u}return u.area=function(t){return ar=0,P.geo.stream(t,i(hr)),ar},u.centroid=function(t){return be=we=xe=_e=ke=Me=Ee=Ae=Se=0,P.geo.stream(t,i(yr)),Se?[Ee/Se,Ae/Se]:Me?[_e/Me,ke/Me]:xe?[be/xe,we/xe]:[NaN,NaN]},u.bounds=function(t){return lr=fr=-(sr=cr=1/0),P.geo.stream(t,i(dr)),[[sr,cr],[lr,fr]]},u.projection=function(t){return arguments.length?(i=(r=t)?t.stream||(e=t,n=Mr(function(t,n){return e([t*Ct,n*Ct])}),function(t){return Cr(n(t))}):D,s()):r;var e,n},u.context=function(t){return arguments.length?(e=null==(n=t)?new vr:new kr(t),"function"!=typeof a&&e.pointRadius(a),s()):n},u.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(e.pointRadius(+t),+t),u):a},u.projection(P.geo.albersUsa()).context(null)},P.geo.transform=function(r){return{stream:function(t){var n=new Er(t);for(var e in r)n[e]=r[e];return n}}},Er.prototype={point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},P.geo.projection=Sr,P.geo.projectionMutator=Nr,(P.geo.equirectangular=function(){return Sr(Rr)}).raw=Rr.invert=Rr,P.geo.rotation=function(n){function t(t){return(t=n(t[0]*Nt,t[1]*Nt))[0]*=Ct,t[1]*=Ct,t}return n=Or(n[0]%360*Nt,n[1]*Nt,2<n.length?n[2]*Nt:0),t.invert=function(t){return(t=n.invert(t[0]*Nt,t[1]*Nt))[0]*=Ct,t[1]*=Ct,t},t},jr.invert=Rr,P.geo.circle=function(){var n,i,o=[0,0],e=6;function r(){var t="function"==typeof o?o.apply(this,arguments):o,e=Or(-t[0]*Nt,-t[1]*Nt,0).invert,r=[];return i(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=Ct,t[1]*=Ct}}),{type:"Polygon",coordinates:[r]}}return r.origin=function(t){return arguments.length?(o=t,r):o},r.angle=function(t){return arguments.length?(i=Dr((n=+t)*Nt,e*Nt),r):n},r.precision=function(t){return arguments.length?(i=Dr(n*Nt,(e=+t)*Nt),r):e},r.angle(90)},P.geo.distance=function(t,n){var e,r=(n[0]-t[0])*Nt,i=t[1]*Nt,o=n[1]*Nt,a=Math.sin(r),u=Math.cos(r),s=Math.sin(i),c=Math.cos(i),l=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((e=f*a)*e+(e=c*l-s*f*u)*e),s*l+c*f*u)},P.geo.graticule=function(){var n,e,r,i,o,a,u,s,c,l,f,h,p=10,d=p,v=90,g=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:t()}}function t(){return P.range(Math.ceil(i/v)*v,r,v).map(f).concat(P.range(Math.ceil(s/g)*g,u,g).map(h)).concat(P.range(Math.ceil(e/p)*p,n,p).filter(function(t){return T(t%v)>_t}).map(c)).concat(P.range(Math.ceil(a/d)*d,o,d).filter(function(t){return T(t%g)>_t}).map(l))}return y.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(h(u).slice(1),f(r).reverse().slice(1),h(s).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.majorExtent(t).minorExtent(t):y.minorExtent()},y.majorExtent=function(t){return arguments.length?(i=+t[0][0],r=+t[1][0],s=+t[0][1],u=+t[1][1],r<i&&(t=i,i=r,r=t),u<s&&(t=s,s=u,u=t),y.precision(m)):[[i,s],[r,u]]},y.minorExtent=function(t){return arguments.length?(e=+t[0][0],n=+t[1][0],a=+t[0][1],o=+t[1][1],n<e&&(t=e,e=n,n=t),o<a&&(t=a,a=o,o=t),y.precision(m)):[[e,a],[n,o]]},y.step=function(t){return arguments.length?y.majorStep(t).minorStep(t):y.minorStep()},y.majorStep=function(t){return arguments.length?(v=+t[0],g=+t[1],y):[v,g]},y.minorStep=function(t){return arguments.length?(p=+t[0],d=+t[1],y):[p,d]},y.precision=function(t){return arguments.length?(m=+t,c=Lr(a,o,90),l=zr(e,n,m),f=Lr(s,u,90),h=zr(i,r,m),y):m},y.majorExtent([[-180,-90+_t],[180,90-_t]]).minorExtent([[-180,-80-_t],[180,80+_t]])},P.geo.greatArc=function(){var n,e,r=Ir,i=Ur;function o(){return{type:"LineString",coordinates:[n||r.apply(this,arguments),e||i.apply(this,arguments)]}}return o.distance=function(){return P.geo.distance(n||r.apply(this,arguments),e||i.apply(this,arguments))},o.source=function(t){return arguments.length?(n="function"==typeof(r=t)?null:t,o):r},o.target=function(t){return arguments.length?(e="function"==typeof(i=t)?null:t,o):i},o.precision=function(){return arguments.length?o:0},o},P.geo.interpolate=function(t,n){return e=t[0]*Nt,r=t[1]*Nt,i=n[0]*Nt,o=n[1]*Nt,a=Math.cos(r),u=Math.sin(r),s=Math.cos(o),c=Math.sin(o),l=a*Math.cos(e),f=a*Math.sin(e),h=s*Math.cos(i),p=s*Math.sin(i),d=2*Math.asin(Math.sqrt(Ft(o-r)+a*s*Ft(i-e))),v=1/Math.sin(d),(g=d?function(t){var n=Math.sin(t*=d)*v,e=Math.sin(d-t)*v,r=e*l+n*h,i=e*f+n*p,o=e*u+n*c;return[Math.atan2(i,r)*Ct,Math.atan2(o,Math.sqrt(r*r+i*i))*Ct]}:function(){return[e*Ct,r*Ct]}).distance=d,g;var e,r,i,o,a,u,s,c,l,f,h,p,d,v,g},P.geo.length=function(t){return mr=0,P.geo.stream(t,Br),mr};var Br={sphere:R,point:R,lineStart:function(){var a,u,s;function e(t,n){var e=Math.sin(n*=Nt),r=Math.cos(n),i=T((t*=Nt)-a),o=Math.cos(i);mr+=Math.atan2(Math.sqrt((i=r*Math.sin(i))*i+(i=s*e-u*r*o)*i),u*e+s*r*o),a=t,u=e,s=r}Br.point=function(t,n){a=t*Nt,u=Math.sin(n*=Nt),s=Math.cos(n),Br.point=e},Br.lineEnd=function(){Br.point=Br.lineEnd=R}},lineEnd:R,polygonStart:R,polygonEnd:R};function Vr(o,a){function t(t,n){var e=Math.cos(t),r=Math.cos(n),i=o(e*r);return[i*r*Math.sin(t),i*Math.sin(n)]}return t.invert=function(t,n){var e=Math.sqrt(t*t+n*n),r=a(e),i=Math.sin(r),o=Math.cos(r);return[Math.atan2(t*i,e*o),Math.asin(e&&n*i/e)]},t}var Wr=Vr(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(P.geo.azimuthalEqualArea=function(){return Sr(Wr)}).raw=Wr;var Hr=Vr(function(t){var n=Math.acos(t);return n&&n/Math.sin(n)},D);function $r(t,n){var e=Math.cos(t),r=function(t){return Math.tan(Mt/4+t/2)},i=t===n?Math.sin(t):Math.log(e/Math.cos(n))/Math.log(r(n)/r(t)),o=e*Math.pow(r(t),i)/i;if(!i)return Gr;function a(t,n){0<o?n<-St+_t&&(n=-St+_t):St-_t<n&&(n=St-_t);var e=o/Math.pow(r(n),i);return[e*Math.sin(i*t),o-e*Math.cos(i*t)]}return a.invert=function(t,n){var e=o-n,r=Rt(i)*Math.sqrt(t*t+e*e);return[Math.atan2(t,e)/i,2*Math.atan(Math.pow(o/r,1/i))-St]},a}function Zr(t,n){var e=Math.cos(t),r=t===n?Math.sin(t):(e-Math.cos(n))/(n-t),i=e/r+t;if(T(r)<_t)return Rr;function o(t,n){var e=i-n;return[e*Math.sin(r*t),i-e*Math.cos(r*t)]}return o.invert=function(t,n){var e=i-n;return[Math.atan2(t,e)/r,i-Rt(r)*Math.sqrt(t*t+e*e)]},o}(P.geo.azimuthalEquidistant=function(){return Sr(Hr)}).raw=Hr,(P.geo.conicConformal=function(){return ir($r)}).raw=$r,(P.geo.conicEquidistant=function(){return ir(Zr)}).raw=Zr;var Yr=Vr(function(t){return 1/t},Math.atan);function Gr(t,n){return[t,Math.log(Math.tan(Mt/4+n/2))]}function Kr(t){var i,o=Sr(t),a=o.scale,u=o.translate,s=o.clipExtent;return o.scale=function(){var t=a.apply(o,arguments);return t===o?i?o.clipExtent(null):o:t},o.translate=function(){var t=u.apply(o,arguments);return t===o?i?o.clipExtent(null):o:t},o.clipExtent=function(t){var n=s.apply(o,arguments);if(n===o){if(i=null==t){var e=Mt*a(),r=u();s([[r[0]-e,r[1]-e],[r[0]+e,r[1]+e]])}}else i&&(n=null);return n},o.clipExtent(null)}(P.geo.gnomonic=function(){return Sr(Yr)}).raw=Yr,Gr.invert=function(t,n){return[t,2*Math.atan(Math.exp(n))-St]},(P.geo.mercator=function(){return Kr(Gr)}).raw=Gr;var Qr=Vr(function(){return 1},Math.asin);(P.geo.orthographic=function(){return Sr(Qr)}).raw=Qr;var Jr=Vr(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function Xr(t,n){return[Math.log(Math.tan(Mt/4+n/2)),-t]}function ti(t){return t[0]}function ni(t){return t[1]}function ei(t){for(var n=t.length,e=[0,1],r=2,i=2;i<n;i++){for(;1<r&&jt(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function ri(t,n){return t[0]-n[0]||t[1]-n[1]}(P.geo.stereographic=function(){return Sr(Jr)}).raw=Jr,Xr.invert=function(t,n){return[-n,2*Math.atan(Math.exp(t))-St]},(P.geo.transverseMercator=function(){var t=Kr(Xr),n=t.center,e=t.rotate;return t.center=function(t){return t?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return t?e([t[0],t[1],2<t.length?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90])}).raw=Xr,P.geom={},P.geom.hull=function(t){var h=ti,p=ni;if(arguments.length)return n(t);function n(t){if(t.length<3)return[];var n,e=gn(h),r=gn(p),i=t.length,o=[],a=[];for(n=0;n<i;n++)o.push([+e.call(this,t[n],n),+r.call(this,t[n],n),n]);for(o.sort(ri),n=0;n<i;n++)a.push([o[n][0],-o[n][1]]);var u=ei(o),s=ei(a),c=s[0]===u[0],l=s[s.length-1]===u[u.length-1],f=[];for(n=u.length-1;0<=n;--n)f.push(t[o[u[n]][2]]);for(n=+c;n<s.length-l;++n)f.push(t[o[s[n]][2]]);return f}return n.x=function(t){return arguments.length?(h=t,n):h},n.y=function(t){return arguments.length?(p=t,n):p},n},P.geom.polygon=function(t){return U(t,ii),t};var ii=P.geom.polygon.prototype=[];function oi(t,n,e){return(e[0]-n[0])*(t[1]-n[1])<(e[1]-n[1])*(t[0]-n[0])}function ai(t,n,e,r){var i=t[0],o=e[0],a=n[0]-i,u=r[0]-o,s=t[1],c=e[1],l=n[1]-s,f=r[1]-c,h=(u*(s-c)-f*(i-o))/(f*a-u*l);return[i+h*a,s+h*l]}function ui(t){var n=t[0],e=t[t.length-1];return!(n[0]-e[0]||n[1]-e[1])}ii.area=function(){for(var t,n=-1,e=this.length,r=this[e-1],i=0;++n<e;)t=r,r=this[n],i+=t[1]*r[0]-t[0]*r[1];return.5*i},ii.centroid=function(t){var n,e,r=-1,i=this.length,o=0,a=0,u=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)n=u,u=this[r],e=n[0]*u[1]-u[0]*n[1],o+=(n[0]+u[0])*e,a+=(n[1]+u[1])*e;return[o*t,a*t]},ii.clip=function(t){for(var n,e,r,i,o,a,u=ui(t),s=-1,c=this.length-ui(this),l=this[c-1];++s<c;){for(n=t.slice(),t.length=0,i=this[s],o=n[(r=n.length-u)-1],e=-1;++e<r;)oi(a=n[e],l,i)?(oi(o,l,i)||t.push(ai(o,a,l,i)),t.push(a)):oi(o,l,i)&&t.push(ai(o,a,l,i)),o=a;u&&t.push(t[0]),l=i}return t};var si,ci,li,fi,hi,pi=[],di=[];function vi(){Ti(this),this.edge=this.site=this.circle=null}function gi(t){var n=pi.pop()||new vi;return n.site=t,n}function mi(t){Ai(t),li.remove(t),pi.push(t),Ti(t)}function yi(t){var n=t.circle,e=n.x,r=n.cy,i={x:e,y:r},o=t.P,a=t.N,u=[t];mi(t);for(var s=o;s.circle&&T(e-s.circle.x)<_t&&T(r-s.circle.cy)<_t;)o=s.P,u.unshift(s),mi(s),s=o;u.unshift(s),Ai(s);for(var c=a;c.circle&&T(e-c.circle.x)<_t&&T(r-c.circle.cy)<_t;)a=c.N,u.push(c),mi(c),c=a;u.push(c),Ai(c);var l,f=u.length;for(l=1;l<f;++l)c=u[l],s=u[l-1],Ri(c.edge,s.site,c.site,i);s=u[0],(c=u[f-1]).edge=Ci(s.site,c.site,null,i),Ei(s),Ei(c)}function bi(t){for(var n,e,r,i,o=t.x,a=t.y,u=li._;u;)if(r=wi(u,a)-o,_t<r)u=u.L;else{if(i=o-xi(u,a),!(_t<i)){-_t<r?(n=u.P,e=u):-_t<i?e=(n=u).N:n=e=u;break}if(!u.R){n=u;break}u=u.R}var s=gi(t);if(li.insert(n,s),n||e){if(n===e)return Ai(n),e=gi(n.site),li.insert(s,e),s.edge=e.edge=Ci(n.site,s.site),Ei(n),void Ei(e);if(e){Ai(n),Ai(e);var c=n.site,l=c.x,f=c.y,h=t.x-l,p=t.y-f,d=e.site,v=d.x-l,g=d.y-f,m=2*(h*g-p*v),y=h*h+p*p,b=v*v+g*g,w={x:(g*y-p*b)/m+l,y:(h*b-v*y)/m+f};Ri(e.edge,c,d,w),s.edge=Ci(c,t,null,w),e.edge=Ci(t,d,null,w),Ei(n),Ei(e)}else s.edge=Ci(n.site,s.site)}}function wi(t,n){var e=t.site,r=e.x,i=e.y,o=i-n;if(!o)return r;var a=t.P;if(!a)return-1/0;var u=(e=a.site).x,s=e.y,c=s-n;if(!c)return u;var l=u-r,f=1/o-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-s+c/2+i-o/2)))/f+r:(r+u)/2}function xi(t,n){var e=t.N;if(e)return wi(e,n);var r=t.site;return r.y===n?r.x:1/0}function _i(t){this.site=t,this.edges=[]}function ki(t,n){return n.angle-t.angle}function Mi(){Ti(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ei(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var a=i.x,u=i.y,s=r.x-a,c=r.y-u,l=o.x-a,f=2*(s*(g=o.y-u)-c*l);if(!(-kt<=f)){var h=s*s+c*c,p=l*l+g*g,d=(g*h-c*p)/f,v=(s*p-l*h)/f,g=v+u,m=di.pop()||new Mi;m.arc=t,m.site=i,m.x=d+a,m.y=g+Math.sqrt(d*d+v*v),m.cy=g,t.circle=m;for(var y=null,b=hi._;b;)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}hi.insert(y,m),y||(fi=m)}}}}function Ai(t){var n=t.circle;n&&(n.P||(fi=n.N),hi.remove(n),di.push(n),Ti(n),t.circle=null)}function Si(t,n){var e=t.b;if(e)return!0;var r,i,o=t.a,a=n[0][0],u=n[1][0],s=n[0][1],c=n[1][1],l=t.l,f=t.r,h=l.x,p=l.y,d=f.x,v=f.y,g=(h+d)/2,m=(p+v)/2;if(v===p){if(g<a||u<=g)return;if(d<h){if(o){if(o.y>=c)return}else o={x:g,y:s};e={x:g,y:c}}else{if(o){if(o.y<s)return}else o={x:g,y:c};e={x:g,y:s}}}else if(i=m-(r=(h-d)/(v-p))*g,r<-1||1<r)if(d<h){if(o){if(o.y>=c)return}else o={x:(s-i)/r,y:s};e={x:(c-i)/r,y:c}}else{if(o){if(o.y<s)return}else o={x:(c-i)/r,y:c};e={x:(s-i)/r,y:s}}else if(p<v){if(o){if(o.x>=u)return}else o={x:a,y:r*a+i};e={x:u,y:r*u+i}}else{if(o){if(o.x<a)return}else o={x:u,y:r*u+i};e={x:a,y:r*a+i}}return t.a=o,t.b=e,!0}function Ni(t,n){this.l=t,this.r=n,this.a=this.b=null}function Ci(t,n,e,r){var i=new Ni(t,n);return si.push(i),e&&Ri(i,t,n,e),r&&Ri(i,n,t,r),ci[t.i].edges.push(new ji(i,t,n)),ci[n.i].edges.push(new ji(i,n,t)),i}function Ri(t,n,e,r){t.a||t.b?t.l===e?t.b=r:t.a=r:(t.a=r,t.l=n,t.r=e)}function ji(t,n,e){var r=t.a,i=t.b;this.edge=t,this.site=n,this.angle=e?Math.atan2(e.y-n.y,e.x-n.x):t.l===n?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Oi(){this._=null}function Ti(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Pi(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function Fi(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function Di(t){for(;t.L;)t=t.L;return t}function qi(t,n){var e,r,i,o=t.sort(Li).pop();for(si=[],ci=new Array(t.length),li=new Oi,hi=new Oi;;)if(i=fi,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===e&&o.y===r||(ci[o.i]=new _i(o),bi(o),e=o.x,r=o.y),o=t.pop();else{if(!i)break;yi(i.arc)}n&&(function(t){for(var n,e=si,r=nr(t[0][0],t[0][1],t[1][0],t[1][1]),i=e.length;i--;)(!Si(n=e[i],t)||!r(n)||T(n.a.x-n.b.x)<_t&&T(n.a.y-n.b.y)<_t)&&(n.a=n.b=null,e.splice(i,1))}(n),function(t){for(var n,e,r,i,o,a,u,s,c,l,f=t[0][0],h=t[1][0],p=t[0][1],d=t[1][1],v=ci,g=v.length;g--;)if((o=v[g])&&o.prepare())for(s=(u=o.edges).length,a=0;a<s;)r=(l=u[a].end()).x,i=l.y,n=(c=u[++a%s].start()).x,e=c.y,(T(r-n)>_t||T(i-e)>_t)&&(u.splice(a,0,new ji((m=o.site,y=l,b=T(r-f)<_t&&_t<d-i?{x:f,y:T(n-f)<_t?e:d}:T(i-d)<_t&&_t<h-r?{x:T(e-d)<_t?n:h,y:d}:T(r-h)<_t&&_t<i-p?{x:h,y:T(n-h)<_t?e:p}:T(i-p)<_t&&_t<r-f?{x:T(e-p)<_t?n:f,y:p}:null,w=void 0,w=new Ni(m,null),w.a=y,w.b=b,si.push(w),w),o.site,null)),++s);var m,y,b,w}(n));var a={cells:ci,edges:si};return li=hi=si=ci=null,a}function Li(t,n){return n.y-t.y||n.x-t.x}_i.prototype.prepare=function(){for(var t,n=this.edges,e=n.length;e--;)(t=n[e].edge).b&&t.a||n.splice(e,1);return n.sort(ki),n.length},ji.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Oi.prototype={insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else e=this._?(t=Di(this._),n.P=null,(n.N=t).P=t.L=n,t):(n.P=n.N=null,this._=n,null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(Pi(this,e),e=(t=e).U),e.C=!1,r.C=!0,Fi(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(Fi(this,e),e=(t=e).U),e.C=!1,r.C=!0,Pi(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,a=t.R;if(e=o?a?Di(a):o:a,i?i.L===t?i.L=e:i.R=e:this._=e,o&&a?(r=e.C,e.C=t.C,((e.L=o).U=e)!==a?(i=e.U,e.U=t.U,t=e.R,i.L=t,(e.R=a).U=e):(e.U=i,t=(i=e).R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,Pi(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,Fi(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,Pi(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,Fi(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,Pi(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,Fi(this,i),t=this._;break}n.C=!0,i=(t=i).U}while(!t.C);t&&(t.C=!1)}}},P.geom.voronoi=function(t){var n=ti,e=ni,r=n,i=e,l=zi;if(t)return o(t);function o(i){var o=new Array(i.length),a=l[0][0],u=l[0][1],s=l[1][0],c=l[1][1];return qi(f(i),l).cells.forEach(function(t,n){var e=t.edges,r=t.site;(o[n]=e.length?e.map(function(t){var n=t.start();return[n.x,n.y]}):r.x>=a&&r.x<=s&&r.y>=u&&r.y<=c?[[a,c],[s,c],[s,u],[a,u]]:[]).point=i[n]}),o}function f(t){return t.map(function(t,n){return{x:Math.round(r(t,n)/_t)*_t,y:Math.round(i(t,n)/_t)*_t,i:n}})}return o.links=function(n){return qi(f(n)).edges.filter(function(t){return t.l&&t.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},o.triangles=function(h){var p=[];return qi(f(h)).cells.forEach(function(t,n){for(var e,r,i,o,a=t.site,u=t.edges.sort(ki),s=-1,c=u.length,l=u[c-1].edge,f=l.l===a?l.r:l.l;++s<c;)l,e=f,f=(l=u[s].edge).l===a?l.r:l.l,n<e.i&&n<f.i&&(i=e,o=f,((r=a).x-o.x)*(i.y-r.y)-(r.x-i.x)*(o.y-r.y)<0)&&p.push([h[n],h[e.i],h[f.i]])}),p},o.x=function(t){return arguments.length?(r=gn(n=t),o):n},o.y=function(t){return arguments.length?(i=gn(e=t),o):e},o.clipExtent=function(t){return arguments.length?(l=null==t?zi:t,o):l===zi?null:l},o.size=function(t){return arguments.length?o.clipExtent(t&&[[0,0],t]):l===zi?null:l&&l[1]},o};var zi=[[-1e6,-1e6],[1e6,1e6]];function Ii(t){return t.x}function Ui(t){return t.y}function Bi(t,n){t=P.rgb(t),n=P.rgb(n);var e=t.r,r=t.g,i=t.b,o=n.r-e,a=n.g-r,u=n.b-i;return function(t){return"#"+cn(Math.round(e+o*t))+cn(Math.round(r+a*t))+cn(Math.round(i+u*t))}}function Vi(t,n){var e,r={},i={};for(e in t)e in n?r[e]=Yi(t[e],n[e]):i[e]=t[e];for(e in n)e in t||(i[e]=n[e]);return function(t){for(e in r)i[e]=r[e](t);return i}}function Wi(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function Hi(t,r){var n,e,i,o=$i.lastIndex=Zi.lastIndex=0,a=-1,u=[],s=[];for(t+="",r+="";(n=$i.exec(t))&&(e=Zi.exec(r));)(i=e.index)>o&&(i=r.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(e=e[0])?u[a]?u[a]+=e:u[++a]=e:(u[++a]=null,s.push({i:a,x:Wi(n,e)})),o=Zi.lastIndex;return o<r.length&&(i=r.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?(r=s[0].x,function(t){return r(t)+""}):function(){return r}:(r=s.length,function(t){for(var n,e=0;e<r;++e)u[(n=s[e]).i]=n.x(t);return u.join("")})}P.geom.delaunay=function(t){return P.geom.voronoi().triangles(t)},P.geom.quadtree=function(t,y,b,w,x){var _,k=ti,E=ni;if(_=arguments.length)return k=Ii,E=Ui,3===_&&(x=b,w=y,b=y=0),n(t);function n(t){var n,e,r,i,o,a,u,s,c,l=gn(k),f=gn(E);if(null!=y)a=y,u=b,s=w,c=x;else if(s=c=-(a=u=1/0),e=[],r=[],o=t.length,_)for(i=0;i<o;++i)(n=t[i]).x<a&&(a=n.x),n.y<u&&(u=n.y),n.x>s&&(s=n.x),n.y>c&&(c=n.y),e.push(n.x),r.push(n.y);else for(i=0;i<o;++i){var h=+l(n=t[i],i),p=+f(n,i);h<a&&(a=h),p<u&&(u=p),s<h&&(s=h),c<p&&(c=p),e.push(h),r.push(p)}var d=s-a,v=c-u;function g(t,n,e,r,i,o,a,u){if(!isNaN(e)&&!isNaN(r))if(t.leaf){var s=t.x,c=t.y;if(null!=s)if(T(s-e)+T(c-r)<.01)m(t,n,e,r,i,o,a,u);else{var l=t.point;t.x=t.y=t.point=null,m(t,l,s,c,i,o,a,u),m(t,n,e,r,i,o,a,u)}else t.x=e,t.y=r,t.point=n}else m(t,n,e,r,i,o,a,u)}function m(t,n,e,r,i,o,a,u){var s=.5*(i+a),c=.5*(o+u),l=s<=e,f=c<=r,h=f<<1|l;t.leaf=!1,l?i=s:a=s,f?o=c:u=c,g(t=t.nodes[h]||(t.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null}),n,e,r,i,o,a,u)}v<d?c=u+d:s=a+v;var M={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){g(M,t,+l(t,++i),+f(t,i),a,u,s,c)}};if(M.visit=function(t){!function t(n,e,r,i,o,a){if(!n(e,r,i,o,a)){var u=.5*(r+o),s=.5*(i+a),c=e.nodes;c[0]&&t(n,c[0],r,i,u,s),c[1]&&t(n,c[1],u,i,o,s),c[2]&&t(n,c[2],r,s,u,a),c[3]&&t(n,c[3],u,s,o,a)}}(t,M,a,u,s,c)},M.find=function(t){return n=M,g=t[0],m=t[1],k=1/0,function t(n,e,r,i,o){if(!(w<e||x<r||i<y||o<b)){if(a=n.point){var a,u=g-n.x,s=m-n.y,c=u*u+s*s;if(c<k){var l=Math.sqrt(k=c);y=g-l,b=m-l,w=g+l,x=m+l,_=a}}for(var f=n.nodes,h=.5*(e+i),p=.5*(r+o),d=(p<=m)<<1|h<=g,v=d+4;d<v;++d)if(n=f[3&d])switch(3&d){case 0:t(n,e,r,h,p);break;case 1:t(n,h,r,i,p);break;case 2:t(n,e,p,h,o);break;case 3:t(n,h,p,i,o)}}}(n,y=a,b=u,w=s,x=c),_;var n,g,m,y,b,w,x,_,k},i=-1,null==y){for(;++i<o;)g(M,t[i],e[i],r[i],a,u,s,c);--i}else t.forEach(M.add);return e=r=t=n=null,M}return n.x=function(t){return arguments.length?(k=t,n):k},n.y=function(t){return arguments.length?(E=t,n):E},n.extent=function(t){return arguments.length?(null==t?y=b=w=x=null:(y=+t[0][0],b=+t[0][1],w=+t[1][0],x=+t[1][1]),n):null==y?null:[[y,b],[w,x]]},n.size=function(t){return arguments.length?(null==t?y=b=w=x=null:(y=b=0,w=+t[0],x=+t[1]),n):null==y?null:[w-y,x-b]},n},P.interpolateRgb=Bi,P.interpolateObject=Vi,P.interpolateNumber=Wi,P.interpolateString=Hi;var $i=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zi=new RegExp($i.source,"g");function Yi(t,n){for(var e,r=P.interpolators.length;0<=--r&&!(e=P.interpolators[r](t,n)););return e}function Gi(t,n){var e,r=[],i=[],o=t.length,a=n.length,u=Math.min(t.length,n.length);for(e=0;e<u;++e)r.push(Yi(t[e],n[e]));for(;e<o;++e)i[e]=t[e];for(;e<a;++e)i[e]=n[e];return function(t){for(e=0;e<u;++e)i[e]=r[e](t);return i}}P.interpolate=Yi,P.interpolators=[function(t,n){var e=typeof n;return("string"===e?vn.has(n.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(n)?Bi:Hi:n instanceof It?Bi:Array.isArray(n)?Gi:"object"===e&&isNaN(n)?Vi:Wi)(t,n)}],P.interpolateArray=Gi;var Ki=function(){return D},Qi=P.map({linear:Ki,poly:function(n){return function(t){return Math.pow(t,n)}},quad:function(){return no},cubic:function(){return eo},sin:function(){return io},exp:function(){return oo},circle:function(){return ao},elastic:function(n,e){var r;arguments.length<2&&(e=.45);r=arguments.length?e/Et*Math.asin(1/n):(n=1,e/4);return function(t){return 1+n*Math.pow(2,-10*t)*Math.sin((t-r)*Et/e)}},back:function(n){n||(n=1.70158);return function(t){return t*t*((n+1)*t-n)}},bounce:function(){return uo}}),Ji=P.map({in:D,out:Xi,"in-out":to,"out-in":function(t){return to(Xi(t))}});function Xi(n){return function(t){return 1-n(1-t)}}function to(n){return function(t){return.5*(t<.5?n(2*t):2-n(2-2*t))}}function no(t){return t*t}function eo(t){return t*t*t}function ro(t){if(t<=0)return 0;if(1<=t)return 1;var n=t*t,e=n*t;return 4*(t<.5?e:3*(t-n)+e-.75)}function io(t){return 1-Math.cos(t*St)}function oo(t){return Math.pow(2,10*(t-1))}function ao(t){return 1-Math.sqrt(1-t*t)}function uo(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function so(n,e){return e-=n,function(t){return Math.round(n+e*t)}}function co(t){var n,e,r,i=[t.a,t.b],o=[t.c,t.d],a=fo(i),u=lo(i,o),s=fo(((n=o)[0]+=(r=-u)*(e=i)[0],n[1]+=r*e[1],n))||0;i[0]*o[1]<o[0]*i[1]&&(i[0]*=-1,i[1]*=-1,a*=-1,u*=-1),this.rotate=(a?Math.atan2(i[1],i[0]):Math.atan2(-o[0],o[1]))*Ct,this.translate=[t.e,t.f],this.scale=[a,s],this.skew=s?Math.atan2(u,s)*Ct:0}function lo(t,n){return t[0]*n[0]+t[1]*n[1]}function fo(t){var n=Math.sqrt(lo(t,t));return n&&(t[0]/=n,t[1]/=n),n}P.ease=function(t){var n,e=t.indexOf("-"),r=0<=e?t.slice(0,e):t,i=0<=e?t.slice(e+1):"in";return r=Qi.get(r)||Ki,i=Ji.get(i)||D,n=i(r.apply(null,o.call(arguments,1))),function(t){return t<=0?0:1<=t?1:n(t)}},P.interpolateHcl=function(t,n){t=P.hcl(t),n=P.hcl(n);var e=t.h,r=t.c,i=t.l,o=n.h-e,a=n.c-r,u=n.l-i;isNaN(a)&&(a=0,r=isNaN(r)?n.c:r);isNaN(o)?(o=0,e=isNaN(e)?n.h:e):180<o?o-=360:o<-180&&(o+=360);return function(t){return $t(e+o*t,r+a*t,i+u*t)+""}},P.interpolateHsl=function(t,n){t=P.hsl(t),n=P.hsl(n);var e=t.h,r=t.s,i=t.l,o=n.h-e,a=n.s-r,u=n.l-i;isNaN(a)&&(a=0,r=isNaN(r)?n.s:r);isNaN(o)?(o=0,e=isNaN(e)?n.h:e):180<o?o-=360:o<-180&&(o+=360);return function(t){return Vt(e+o*t,r+a*t,i+u*t)+""}},P.interpolateLab=function(t,n){t=P.lab(t),n=P.lab(n);var e=t.l,r=t.a,i=t.b,o=n.l-e,a=n.a-r,u=n.b-i;return function(t){return Xt(e+o*t,r+a*t,i+u*t)+""}},P.interpolateRound=so,P.transform=function(t){var e=b.createElementNS(P.ns.prefix.svg,"g");return(P.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new co(n?n.matrix:ho)})(t)},co.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ho={a:1,b:0,c:0,d:1,e:0,f:0};function po(t){return t.length?t.pop()+",":""}function vo(t,n){var e,r,i,o,a,u,s,c,l=[],f=[];return t=P.transform(t),n=P.transform(n),function(t,n,e,r){if(t[0]!==n[0]||t[1]!==n[1]){var i=e.push("translate(",null,",",null,")");r.push({i:i-4,x:Wi(t[0],n[0])},{i:i-2,x:Wi(t[1],n[1])})}else(n[0]||n[1])&&e.push("translate("+n+")")}(t.translate,n.translate,l,f),e=t.rotate,r=n.rotate,i=l,o=f,e!==r?(180<e-r?r+=360:180<r-e&&(e+=360),o.push({i:i.push(po(i)+"rotate(",null,")")-2,x:Wi(e,r)})):r&&i.push(po(i)+"rotate("+r+")"),a=t.skew,u=n.skew,s=l,c=f,a!==u?c.push({i:s.push(po(s)+"skewX(",null,")")-2,x:Wi(a,u)}):u&&s.push(po(s)+"skewX("+u+")"),function(t,n,e,r){if(t[0]!==n[0]||t[1]!==n[1]){var i=e.push(po(e)+"scale(",null,",",null,")");r.push({i:i-4,x:Wi(t[0],n[0])},{i:i-2,x:Wi(t[1],n[1])})}else 1===n[0]&&1===n[1]||e.push(po(e)+"scale("+n+")")}(t.scale,n.scale,l,f),t=n=null,function(t){for(var n,e=-1,r=f.length;++e<r;)l[(n=f[e]).i]=n.x(t);return l.join("")}}function go(n,e){return e=(e-=n=+n)||1/e,function(t){return(t-n)/e}}function mo(n,e){return e=(e-=n=+n)||1/e,function(t){return Math.max(0,Math.min(1,(t-n)/e))}}function yo(t){for(var n=t.source,e=t.target,r=function(t,n){if(t===n)return t;var e=bo(t),r=bo(n),i=e.pop(),o=r.pop(),a=null;for(;i===o;)a=i,i=e.pop(),o=r.pop();return a}(n,e),i=[n];n!==r;)n=n.parent,i.push(n);for(var o=i.length;e!==r;)i.splice(o,0,e),e=e.parent;return i}function bo(t){for(var n=[],e=t.parent;null!=e;)n.push(t),e=(t=e).parent;return n.push(t),n}function wo(t){t.fixed|=2}function xo(t){t.fixed&=-7}function _o(t){t.fixed|=4,t.px=t.x,t.py=t.y}function ko(t){t.fixed&=-5}P.interpolateTransform=vo,P.layout={},P.layout.bundle=function(){return function(t){for(var n=[],e=-1,r=t.length;++e<r;)n.push(yo(t[e]));return n}},P.layout.chord=function(){var g,m,y,b,w,x,_,n={},k=0;function t(){var t,n,e,r,i,o={},a=[],u=P.range(b),s=[];for(g=[],m=[],t=0,r=-1;++r<b;){for(n=0,i=-1;++i<b;)n+=y[r][i];a.push(n),s.push(P.range(b)),t+=n}for(w&&u.sort(function(t,n){return w(a[t],a[n])}),x&&s.forEach(function(t,e){t.sort(function(t,n){return x(y[e][t],y[e][n])})}),t=(Et-k*b)/t,n=0,r=-1;++r<b;){for(e=n,i=-1;++i<b;){var c=u[r],l=s[c][i],f=y[c][l],h=n,p=n+=f*t;o[c+"-"+l]={index:c,subindex:l,startAngle:h,endAngle:p,value:f}}m[c]={index:c,startAngle:e,endAngle:n,value:a[c]},n+=k}for(r=-1;++r<b;)for(i=r-1;++i<b;){var d=o[r+"-"+i],v=o[i+"-"+r];(d.value||v.value)&&g.push(d.value<v.value?{source:v,target:d}:{source:d,target:v})}_&&M()}function M(){g.sort(function(t,n){return _((t.source.value+t.target.value)/2,(n.source.value+n.target.value)/2)})}return n.matrix=function(t){return arguments.length?(b=(y=t)&&y.length,g=m=null,n):y},n.padding=function(t){return arguments.length?(k=t,g=m=null,n):k},n.sortGroups=function(t){return arguments.length?(w=t,g=m=null,n):w},n.sortSubgroups=function(t){return arguments.length?(x=t,g=null,n):x},n.sortChords=function(t){return arguments.length?(_=t,g&&M(),n):_},n.chords=function(){return g||t(),g},n.groups=function(){return m||t(),m},n},P.layout.force=function(){var f,t,h,p,d,v,i={},g=P.dispatch("start","tick","end"),m=[1,1],y=.9,o=Mo,a=Eo,b=-30,l=Ao,w=.1,x=.64,_=[],k=[];function M(c){return function(t,n,e,r){if(t.point!==c){var i=t.cx-c.x,o=t.cy-c.y,a=r-n,u=i*i+o*o;if(a*a/x<u){if(u<l){var s=t.charge/u;c.px-=i*s,c.py-=o*s}return!0}if(t.point&&u&&u<l){s=t.pointCharge/u;c.px-=i*s,c.py-=o*s}}return!t.charge}}function n(t){t.px=P.event.x,t.py=P.event.y,i.resume()}return i.tick=function(){if((h*=.99)<.005)return f=null,g.end({type:"end",alpha:h=0}),!0;var t,n,e,r,i,o,a,u,s,c=_.length,l=k.length;for(n=0;n<l;++n)r=(e=k[n]).source,(o=(u=(i=e.target).x-r.x)*u+(s=i.y-r.y)*s)&&(u*=o=h*d[n]*((o=Math.sqrt(o))-p[n])/o,s*=o,i.x-=u*(a=r.weight+i.weight?r.weight/(r.weight+i.weight):.5),i.y-=s*a,r.x+=u*(a=1-a),r.y+=s*a);if((a=h*w)&&(u=m[0]/2,s=m[1]/2,n=-1,a))for(;++n<c;)(e=_[n]).x+=(u-e.x)*a,e.y+=(s-e.y)*a;if(b)for(!function t(n,e,r){var i=0,o=0;n.charge=0;if(!n.leaf)for(var a,u=n.nodes,s=u.length,c=-1;++c<s;)null!=(a=u[c])&&(t(a,e,r),n.charge+=a.charge,i+=a.charge*a.cx,o+=a.charge*a.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var l=e*r[n.point.index];n.charge+=n.pointCharge=l,i+=l*n.point.x,o+=l*n.point.y}n.cx=i/n.charge;n.cy=o/n.charge}(t=P.geom.quadtree(_),h,v),n=-1;++n<c;)(e=_[n]).fixed||t.visit(M(e));for(n=-1;++n<c;)(e=_[n]).fixed?(e.x=e.px,e.y=e.py):(e.x-=(e.px-(e.px=e.x))*y,e.y-=(e.py-(e.py=e.y))*y);g.tick({type:"tick",alpha:h})},i.nodes=function(t){return arguments.length?(_=t,i):_},i.links=function(t){return arguments.length?(k=t,i):k},i.size=function(t){return arguments.length?(m=t,i):m},i.linkDistance=function(t){return arguments.length?(o="function"==typeof t?t:+t,i):o},i.distance=i.linkDistance,i.linkStrength=function(t){return arguments.length?(a="function"==typeof t?t:+t,i):a},i.friction=function(t){return arguments.length?(y=+t,i):y},i.charge=function(t){return arguments.length?(b="function"==typeof t?t:+t,i):b},i.chargeDistance=function(t){return arguments.length?(l=t*t,i):Math.sqrt(l)},i.gravity=function(t){return arguments.length?(w=+t,i):w},i.theta=function(t){return arguments.length?(x=t*t,i):Math.sqrt(x)},i.alpha=function(t){return arguments.length?(t=+t,h?0<t?h=t:(f.c=null,f.t=NaN,f=null,g.end({type:"end",alpha:h=0})):0<t&&(g.start({type:"start",alpha:h=t}),f=Mn(i.tick)),i):h},i.start=function(){var u,s,t,c=_.length,l=k.length,n=m[0],e=m[1];for(u=0;u<c;++u)(t=_[u]).index=u,t.weight=0;for(u=0;u<l;++u)"number"==typeof(t=k[u]).source&&(t.source=_[t.source]),"number"==typeof t.target&&(t.target=_[t.target]),++t.source.weight,++t.target.weight;for(u=0;u<c;++u)t=_[u],isNaN(t.x)&&(t.x=r("x",n)),isNaN(t.y)&&(t.y=r("y",e)),isNaN(t.px)&&(t.px=t.x),isNaN(t.py)&&(t.py=t.y);if(p=[],"function"==typeof o)for(u=0;u<l;++u)p[u]=+o.call(this,k[u],u);else for(u=0;u<l;++u)p[u]=o;if(d=[],"function"==typeof a)for(u=0;u<l;++u)d[u]=+a.call(this,k[u],u);else for(u=0;u<l;++u)d[u]=a;if(v=[],"function"==typeof b)for(u=0;u<c;++u)v[u]=+b.call(this,_[u],u);else for(u=0;u<c;++u)v[u]=b;function r(t,n){if(!s){for(s=new Array(c),o=0;o<c;++o)s[o]=[];for(o=0;o<l;++o){var e=k[o];s[e.source.index].push(e.target),s[e.target.index].push(e.source)}}for(var r,i=s[u],o=-1,a=i.length;++o<a;)if(!isNaN(r=i[o][t]))return r;return Math.random()*n}return i.resume()},i.resume=function(){return i.alpha(.1)},i.stop=function(){return i.alpha(0)},i.drag=function(){if(t||(t=P.behavior.drag().origin(D).on("dragstart.force",wo).on("drag.force",n).on("dragend.force",xo)),!arguments.length)return t;this.on("mouseover.force",_o).on("mouseout.force",ko).call(t)},P.rebind(i,g,"on")};var Mo=20,Eo=1,Ao=1/0;function So(t,n){return P.rebind(t,n,"sort","children","value"),(t.nodes=t).links=To,t}function No(t,n){for(var e=[t];null!=(t=e.pop());)if(n(t),(i=t.children)&&(r=i.length))for(var r,i;0<=--r;)e.push(i[r])}function Co(t,n){for(var e=[t],r=[];null!=(t=e.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)e.push(o[a]);for(;null!=(t=r.pop());)n(t)}function Ro(t){return t.children}function jo(t){return t.value}function Oo(t,n){return n.value-t.value}function To(t){return P.merge(t.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}P.layout.hierarchy=function(){var u=Oo,s=Ro,c=jo;function l(t){var n,e=[t],r=[];for(t.depth=0;null!=(n=e.pop());)if(r.push(n),(o=s.call(l,n,n.depth))&&(i=o.length)){for(var i,o,a;0<=--i;)e.push(a=o[i]),a.parent=n,a.depth=n.depth+1;c&&(n.value=0),n.children=o}else c&&(n.value=+c.call(l,n,n.depth)||0),delete n.children;return Co(t,function(t){var n,e;u&&(n=t.children)&&n.sort(u),c&&(e=t.parent)&&(e.value+=t.value)}),r}return l.sort=function(t){return arguments.length?(u=t,l):u},l.children=function(t){return arguments.length?(s=t,l):s},l.value=function(t){return arguments.length?(c=t,l):c},l.revalue=function(t){return c&&(No(t,function(t){t.children&&(t.value=0)}),Co(t,function(t){var n;t.children||(t.value=+c.call(l,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},l},P.layout.partition=function(){var r=P.layout.hierarchy(),i=[1,1];function n(t,n){var e=r.call(this,t,n);return function t(n,e,r,i){var o=n.children;if(n.x=e,n.y=n.depth*i,n.dx=r,n.dy=i,o&&(a=o.length)){var a,u,s,c=-1;for(r=n.value?r/n.value:0;++c<a;)t(u=o[c],e,s=u.value*r,i),e+=s}}(e[0],0,i[0],i[1]/function t(n){var e=n.children,r=0;if(e&&(i=e.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(e[o]));return 1+r}(e[0])),e}return n.size=function(t){return arguments.length?(i=t,n):i},So(n,r)},P.layout.pie=function(){var h=Number,p=Po,d=0,v=Et,g=0;function m(e){var n,t=e.length,r=e.map(function(t,n){return+h.call(m,t,n)}),i=+("function"==typeof d?d.apply(this,arguments):d),o=("function"==typeof v?v.apply(this,arguments):v)-i,a=Math.min(Math.abs(o)/t,+("function"==typeof g?g.apply(this,arguments):g)),u=a*(o<0?-1:1),s=P.sum(r),c=s?(o-t*u)/s:0,l=P.range(t),f=[];return null!=p&&l.sort(p===Po?function(t,n){return r[n]-r[t]}:function(t,n){return p(e[t],e[n])}),l.forEach(function(t){f[t]={data:e[t],value:n=r[t],startAngle:i,endAngle:i+=n*c+u,padAngle:a}}),f}return m.value=function(t){return arguments.length?(h=t,m):h},m.sort=function(t){return arguments.length?(p=t,m):p},m.startAngle=function(t){return arguments.length?(d=t,m):d},m.endAngle=function(t){return arguments.length?(v=t,m):v},m.padAngle=function(t){return arguments.length?(g=t,m):g},m};var Po={};function Fo(t){return t.x}function Do(t){return t.y}function qo(t,n,e){t.y0=n,t.y=e}P.layout.stack=function(){var f=D,h=Io,p=Uo,d=qo,v=Fo,g=Do;function m(t,n){if(!(o=t.length))return t;var e=t.map(function(t,n){return f.call(m,t,n)}),r=e.map(function(t){return t.map(function(t,n){return[v.call(m,t,n),g.call(m,t,n)]})}),i=h.call(m,r,n);e=P.permute(e,i),r=P.permute(r,i);var o,a,u,s,c=p.call(m,r,n),l=e[0].length;for(u=0;u<l;++u)for(d.call(m,e[0][u],s=c[u],r[0][u][1]),a=1;a<o;++a)d.call(m,e[a][u],s+=r[a-1][u][1],r[a][u][1]);return t}return m.values=function(t){return arguments.length?(f=t,m):f},m.order=function(t){return arguments.length?(h="function"==typeof t?t:Lo.get(t)||Io,m):h},m.offset=function(t){return arguments.length?(p="function"==typeof t?t:zo.get(t)||Uo,m):p},m.x=function(t){return arguments.length?(v=t,m):v},m.y=function(t){return arguments.length?(g=t,m):g},m.out=function(t){return arguments.length?(d=t,m):d},m};var Lo=P.map({"inside-out":function(t){var n,e,r=t.length,i=t.map(Bo),o=t.map(Vo),a=P.range(r).sort(function(t,n){return i[t]-i[n]}),u=0,s=0,c=[],l=[];for(n=0;n<r;++n)e=a[n],u<s?(u+=o[e],c.push(e)):(s+=o[e],l.push(e));return l.reverse().concat(c)},reverse:function(t){return P.range(t.length).reverse()},default:Io}),zo=P.map({silhouette:function(t){var n,e,r,i=t.length,o=t[0].length,a=[],u=0,s=[];for(e=0;e<o;++e){for(r=n=0;n<i;n++)r+=t[n][e][1];u<r&&(u=r),a.push(r)}for(e=0;e<o;++e)s[e]=(u-a[e])/2;return s},wiggle:function(t){var n,e,r,i,o,a,u,s,c,l=t.length,f=t[0],h=f.length,p=[];for(p[0]=s=c=0,e=1;e<h;++e){for(i=n=0;n<l;++n)i+=t[n][e][1];for(o=n=0,u=f[e][0]-f[e-1][0];n<l;++n){for(r=0,a=(t[n][e][1]-t[n][e-1][1])/(2*u);r<n;++r)a+=(t[r][e][1]-t[r][e-1][1])/u;o+=a*t[n][e][1]}p[e]=s-=i?o/i*u:0,s<c&&(c=s)}for(e=0;e<h;++e)p[e]-=c;return p},expand:function(t){var n,e,r,i=t.length,o=t[0].length,a=1/i,u=[];for(e=0;e<o;++e){for(r=n=0;n<i;n++)r+=t[n][e][1];if(r)for(n=0;n<i;n++)t[n][e][1]/=r;else for(n=0;n<i;n++)t[n][e][1]=a}for(e=0;e<o;++e)u[e]=0;return u},zero:Uo});function Io(t){return P.range(t.length)}function Uo(t){for(var n=-1,e=t[0].length,r=[];++n<e;)r[n]=0;return r}function Bo(t){for(var n,e=1,r=0,i=t[0][1],o=t.length;e<o;++e)(n=t[e][1])>i&&(r=e,i=n);return r}function Vo(t){return t.reduce(Wo,0)}function Wo(t,n){return t+n[1]}function Ho(t,n){return $o(t,Math.ceil(Math.log(n.length)/Math.LN2+1))}function $o(t,n){for(var e=-1,r=+t[0],i=(t[1]-r)/n,o=[];++e<=n;)o[e]=i*e+r;return o}function Zo(t){return[P.min(t),P.max(t)]}function Yo(t,n){return t.value-n.value}function Go(t,n){var e=t._pack_next;(t._pack_next=n)._pack_prev=t,(n._pack_next=e)._pack_prev=n}function Ko(t,n){(t._pack_next=n)._pack_prev=t}function Qo(t,n){var e=n.x-t.x,r=n.y-t.y,i=t.r+n.r;return e*e+r*r<.999*i*i}function Jo(t){if((n=t.children)&&(s=n.length)){var n,e,r,i,o,a,u,s,c=1/0,l=-1/0,f=1/0,h=-1/0;if(n.forEach(Xo),(e=n[0]).x=-e.r,e.y=0,b(e),1<s&&((r=n[1]).x=r.r,r.y=0,b(r),2<s))for(na(e,r,i=n[2]),b(i),Go(e,i),Go(e._pack_prev=i,r),r=e._pack_next,o=3;o<s;o++){na(e,r,i=n[o]);var p=0,d=1,v=1;for(a=r._pack_next;a!==r;a=a._pack_next,d++)if(Qo(a,i)){p=1;break}if(1==p)for(u=e._pack_prev;u!==a._pack_prev&&!Qo(u,i);u=u._pack_prev,v++);p?(d<v||d==v&&r.r<e.r?Ko(e,r=a):Ko(e=u,r),o--):(Go(e,i),b(r=i))}var g=(c+l)/2,m=(f+h)/2,y=0;for(o=0;o<s;o++)(i=n[o]).x-=g,i.y-=m,y=Math.max(y,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=y,n.forEach(ta)}function b(t){c=Math.min(t.x-t.r,c),l=Math.max(t.x+t.r,l),f=Math.min(t.y-t.r,f),h=Math.max(t.y+t.r,h)}}function Xo(t){t._pack_next=t._pack_prev=t}function ta(t){delete t._pack_next,delete t._pack_prev}function na(t,n,e){var r=t.r+e.r,i=n.x-t.x,o=n.y-t.y;if(r&&(i||o)){var a=n.r+e.r,u=i*i+o*o,s=.5+((r*=r)-(a*=a))/(2*u),c=Math.sqrt(Math.max(0,2*a*(r+u)-(r-=u)*r-a*a))/(2*u);e.x=t.x+s*i+c*o,e.y=t.y+s*o-c*i}else e.x=t.x+r,e.y=t.y}function ea(t,n){return t.parent==n.parent?1:2}function ra(t){var n=t.children;return n.length?n[0]:t.t}function ia(t){var n,e=t.children;return(n=e.length)?e[n-1]:t.t}function oa(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function aa(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function ua(t,n){var e=t.x+n[3],r=t.y+n[0],i=t.dx-n[1]-n[3],o=t.dy-n[0]-n[2];return i<0&&(e+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:e,y:r,dx:i,dy:o}}function sa(t){var n=t[0],e=t[t.length-1];return n<e?[n,e]:[e,n]}function ca(t){return t.rangeExtent?t.rangeExtent():sa(t.range())}function la(t,n,e,r){var i=e(t[0],t[1]),o=r(n[0],n[1]);return function(t){return o(i(t))}}function fa(t,n){var e,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t}function ha(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:pa}P.layout.histogram=function(){var f=!0,h=Number,p=Zo,d=Ho;function e(t,n){for(var e,r,i=[],o=t.map(h,this),a=p.call(this,o,n),u=d.call(this,a,o,n),s=(n=-1,o.length),c=u.length-1,l=f?1:1/s;++n<c;)(e=i[n]=[]).dx=u[n+1]-(e.x=u[n]),e.y=0;if(0<c)for(n=-1;++n<s;)(r=o[n])>=a[0]&&r<=a[1]&&((e=i[P.bisect(u,r,1,c)-1]).y+=l,e.push(t[n]));return i}return e.value=function(t){return arguments.length?(h=t,e):h},e.range=function(t){return arguments.length?(p=gn(t),e):p},e.bins=function(n){return arguments.length?(d="number"==typeof n?function(t){return $o(t,n)}:gn(n),e):d},e.frequency=function(t){return arguments.length?(f=!!t,e):f},e},P.layout.pack=function(){var s,c=P.layout.hierarchy().sort(Yo),l=0,f=[1,1];function n(t,n){var e=c.call(this,t,n),r=e[0],i=f[0],o=f[1],a=null==s?Math.sqrt:"function"==typeof s?s:function(){return s};if(r.x=r.y=0,Co(r,function(t){t.r=+a(t.value)}),Co(r,Jo),l){var u=l*(s?1:Math.max(2*r.r/i,2*r.r/o))/2;Co(r,function(t){t.r+=u}),Co(r,Jo),Co(r,function(t){t.r-=u})}return function t(n,e,r,i){var o=n.children;n.x=e+=i*n.x;n.y=r+=i*n.y;n.r*=i;if(o)for(var a=-1,u=o.length;++a<u;)t(o[a],e,r,i)}(r,i/2,o/2,s?1:1/Math.max(2*r.r/i,2*r.r/o)),e}return n.size=function(t){return arguments.length?(f=t,n):f},n.radius=function(t){return arguments.length?(s=null==t||"function"==typeof t?t:+t,n):s},n.padding=function(t){return arguments.length?(l=+t,n):l},So(n,c)},P.layout.tree=function(){var f=P.layout.hierarchy().sort(null).value(null),v=ea,h=[1,1],p=null;function n(t,n){var e=f.call(this,t,n),r=e[0],i=function(t){var n,e={A:null,children:[t]},r=[e];for(;null!=(n=r.pop());)for(var i,o=n.children,a=0,u=o.length;a<u;++a)r.push((o[a]=i={_:o[a],parent:n,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return e.children[0]}(r);if(Co(i,d),i.parent.m=-i.z,No(i,g),p)No(r,m);else{var o=r,a=r,u=r;No(r,function(t){t.x<o.x&&(o=t),t.x>a.x&&(a=t),t.depth>u.depth&&(u=t)});var s=v(o,a)/2-o.x,c=h[0]/(a.x+v(a,o)/2+s),l=h[1]/(u.depth||1);No(r,function(t){t.x=(t.x+s)*c,t.y=t.depth*l})}return e}function d(t){var n=t.children,e=t.parent.children,r=t.i?e[t.i-1]:null;if(n.length){!function(t){var n,e=0,r=0,i=t.children,o=i.length;for(;0<=--o;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(t);var i=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+v(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+v(t._,r._));t.parent.A=function(t,n,e){if(n){for(var r,i=t,o=t,a=n,u=i.parent.children[0],s=i.m,c=o.m,l=a.m,f=u.m;a=ia(a),i=ra(i),a&&i;)u=ra(u),(o=ia(o)).a=t,0<(r=a.z+l-i.z-s+v(a._,i._))&&(oa((p=t,d=e,(h=a).a.parent===p.parent?h.a:d),t,r),s+=r,c+=r),l+=a.m,s+=i.m,f+=u.m,c+=o.m;a&&!ia(o)&&(o.t=a,o.m+=l-c),i&&!ra(u)&&(u.t=i,u.m+=s-f,e=t)}var h,p,d;return e}(t,r,t.parent.A||e[0])}function g(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function m(t){t.x*=h[0],t.y=t.depth*h[1]}return n.separation=function(t){return arguments.length?(v=t,n):v},n.size=function(t){return arguments.length?(p=null==(h=t)?m:null,n):p?null:h},n.nodeSize=function(t){return arguments.length?(p=null==(h=t)?null:m,n):p?h:null},So(n,f)},P.layout.cluster=function(){var l=P.layout.hierarchy().sort(null).value(null),f=ea,h=[1,1],p=!1;function n(t,n){var i,e=l.call(this,t,n),r=e[0],o=0;Co(r,function(t){var n,e,r=t.children;r&&r.length?(t.x=(e=r).reduce(function(t,n){return t+n.x},0)/e.length,t.y=(n=r,1+P.max(n,function(t){return t.y}))):(t.x=i?o+=f(t,i):0,t.y=0,i=t)});var a=function t(n){var e=n.children;return e&&e.length?t(e[0]):n}(r),u=function t(n){var e,r=n.children;return r&&(e=r.length)?t(r[e-1]):n}(r),s=a.x-f(a,u)/2,c=u.x+f(u,a)/2;return Co(r,p?function(t){t.x=(t.x-r.x)*h[0],t.y=(r.y-t.y)*h[1]}:function(t){t.x=(t.x-s)/(c-s)*h[0],t.y=(1-(r.y?t.y/r.y:1))*h[1]}),e}return n.separation=function(t){return arguments.length?(f=t,n):f},n.size=function(t){return arguments.length?(p=null==(h=t),n):p?null:h},n.nodeSize=function(t){return arguments.length?(p=null!=(h=t),n):p?h:null},So(n,l)},P.layout.treemap=function(){var r,i=P.layout.hierarchy(),l=Math.round,o=[1,1],a=null,f=aa,u=!1,h="squarify",s=.5*(1+Math.sqrt(5));function p(t,n){for(var e,r,i=-1,o=t.length;++i<o;)r=(e=t[i]).value*(n<0?0:n),e.area=isNaN(r)||r<=0?0:r}function d(t){var n=t.children;if(n&&n.length){var e,r,i,o=f(t),a=[],u=n.slice(),s=1/0,c="slice"===h?o.dx:"dice"===h?o.dy:"slice-dice"===h?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(p(u,o.dx*o.dy/t.value),a.area=0;0<(i=u.length);)a.push(e=u[i-1]),a.area+=e.area,s="squarify"!==h||(r=v(a,c))<=s?(u.pop(),r):(a.area-=a.pop().area,g(a,c,o,!1),c=Math.min(o.dx,o.dy),a.length=a.area=0,1/0);a.length&&(g(a,c,o,!0),a.length=a.area=0),n.forEach(d)}}function c(t){var n=t.children;if(n&&n.length){var e,r=f(t),i=n.slice(),o=[];for(p(i,r.dx*r.dy/t.value),o.area=0;e=i.pop();)o.push(e),o.area+=e.area,null!=e.z&&(g(o,e.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);n.forEach(c)}}function v(t,n){for(var e,r=t.area,i=0,o=1/0,a=-1,u=t.length;++a<u;)(e=t[a].area)&&(e<o&&(o=e),i<e&&(i=e));return n*=n,(r*=r)?Math.max(n*i*s/r,r/(n*o*s)):1/0}function g(t,n,e,r){var i,o=-1,a=t.length,u=e.x,s=e.y,c=n?l(t.area/n):0;if(n==e.dx){for((r||c>e.dy)&&(c=e.dy);++o<a;)(i=t[o]).x=u,i.y=s,i.dy=c,u+=i.dx=Math.min(e.x+e.dx-u,c?l(i.area/c):0);i.z=!0,i.dx+=e.x+e.dx-u,e.y+=c,e.dy-=c}else{for((r||c>e.dx)&&(c=e.dx);++o<a;)(i=t[o]).x=u,i.y=s,i.dx=c,s+=i.dy=Math.min(e.y+e.dy-s,c?l(i.area/c):0);i.z=!1,i.dy+=e.y+e.dy-s,e.x+=c,e.dx-=c}}function m(t){var n=r||i(t),e=n[0];return e.x=e.y=0,e.value?(e.dx=o[0],e.dy=o[1]):e.dx=e.dy=0,r&&i.revalue(e),p([e],e.dx*e.dy/e.value),(r?c:d)(e),u&&(r=n),n}return m.size=function(t){return arguments.length?(o=t,m):o},m.padding=function(e){if(!arguments.length)return a;function t(t){return ua(t,e)}var n;return f=null==(a=e)?aa:"function"==(n=typeof e)?function(t){var n=e.call(m,t,t.depth);return null==n?aa(t):ua(t,"number"==typeof n?[n,n,n,n]:n)}:("number"===n&&(e=[e,e,e,e]),t),m},m.round=function(t){return arguments.length?(l=t?Math.round:Number,m):l!=Number},m.sticky=function(t){return arguments.length?(u=t,r=null,m):u},m.ratio=function(t){return arguments.length?(s=t,m):s},m.mode=function(t){return arguments.length?(h=t+"",m):h},So(m,i)},P.random={normal:function(r,i){var t=arguments.length;return t<2&&(i=1),t<1&&(r=0),function(){for(var t,n,e;!(e=(t=2*Math.random()-1)*t+(n=2*Math.random()-1)*n)||1<e;);return r+i*t*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(){var t=P.random.normal.apply(P,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=P.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},P.scale={};var pa={floor:D,ceil:D};function da(e,t,n,r){var i=[],o=[],a=0,u=Math.min(e.length,t.length)-1;for(e[u]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<=u;)i.push(n(e[a-1],e[a])),o.push(r(t[a-1],t[a]));return function(t){var n=P.bisect(e,t,1,u)-1;return o[n](i[n](t))}}function va(t,n){return P.rebind(t,n,"range","rangeRound","interpolate","clamp")}function ga(t,n){return fa(t,ha(ma(t,n)[2])),fa(t,ha(ma(t,n)[2])),t}function ma(t,n){null==n&&(n=10);var e=sa(t),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/n)/Math.LN10)),o=n/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),e[0]=Math.ceil(e[0]/i)*i,e[1]=Math.floor(e[1]/i)*i+.5*i,e[2]=i,e}function ya(t,n){return P.range.apply(P,ma(t,n))}function ba(t,n,e){var r,i,o,a=ma(t,n);if(e){var u=Rn.exec(e);if(u.shift(),"s"===u[8]){var s=P.formatPrefix(Math.max(T(a[0]),T(a[1])));return u[7]||(u[7]="."+xa(s.scale(a[2]))),u[8]="f",e=P.format(u.join("")),function(t){return e(s.scale(t))+s.symbol}}u[7]||(u[7]="."+(r=u[8],o=xa((i=a)[2]),r in wa?Math.abs(o-xa(Math.max(T(i[0]),T(i[1]))))+ +("e"!==r):o-2*("%"===r))),e=u.join("")}else e=",."+xa(a[2])+"f";return P.format(e)}P.scale.linear=function(){return function t(e,r,i,o){var a,u;function n(){var t=2<Math.min(e.length,r.length)?da:la,n=o?mo:go;return a=t(e,r,n,i),u=t(r,e,n,Yi),s}function s(t){return a(t)}s.invert=function(t){return u(t)};s.domain=function(t){return arguments.length?(e=t.map(Number),n()):e};s.range=function(t){return arguments.length?(r=t,n()):r};s.rangeRound=function(t){return s.range(t).interpolate(so)};s.clamp=function(t){return arguments.length?(o=t,n()):o};s.interpolate=function(t){return arguments.length?(i=t,n()):i};s.ticks=function(t){return ya(e,t)};s.tickFormat=function(t,n){return ba(e,t,n)};s.nice=function(t){return ga(e,t),n()};s.copy=function(){return t(e,r,i,o)};return n()}([0,1],[0,1],Yi,!1)};var wa={s:1,g:1,p:1,r:1,e:1};function xa(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}P.scale.log=function(){return function t(n,s,c,l){function f(t){return(c?Math.log(t<0?0:t):-Math.log(0<t?0:-t))/Math.log(s)}function h(t){return c?Math.pow(s,t):-Math.pow(s,-t)}function i(t){return n(f(t))}i.invert=function(t){return h(n.invert(t))};i.domain=function(t){return arguments.length?(c=0<=t[0],n.domain((l=t.map(Number)).map(f)),i):l};i.base=function(t){return arguments.length?(s=+t,n.domain(l.map(f)),i):s};i.nice=function(){var t=fa(l.map(f),c?Math:ka);return n.domain(t),l=t.map(h),i};i.ticks=function(){var t=sa(l),n=[],e=t[0],r=t[1],i=Math.floor(f(e)),o=Math.ceil(f(r)),a=s%1?2:s;if(isFinite(o-i)){if(c){for(;i<o;i++)for(var u=1;u<a;u++)n.push(h(i)*u);n.push(h(i))}else for(n.push(h(i));i++<o;)for(var u=a-1;0<u;u--)n.push(h(i)*u);for(i=0;n[i]<e;i++);for(o=n.length;n[o-1]>r;o--);n=n.slice(i,o)}return n};i.tickFormat=function(t,e){if(!arguments.length)return _a;arguments.length<2?e=_a:"function"!=typeof e&&(e=P.format(e));var r=Math.max(1,s*t/i.ticks().length);return function(t){var n=t/h(Math.round(f(t)));return n*s<s-.5&&(n*=s),n<=r?e(t):""}};i.copy=function(){return t(n.copy(),s,c,l)};return va(i,n)}(P.scale.linear().domain([0,1]),10,!0,[1,10])};var _a=P.format(".0e"),ka={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Ma(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}P.scale.pow=function(){return function t(n,e,r){var i=Ma(e),o=Ma(1/e);function a(t){return n(i(t))}a.invert=function(t){return o(n.invert(t))};a.domain=function(t){return arguments.length?(n.domain((r=t.map(Number)).map(i)),a):r};a.ticks=function(t){return ya(r,t)};a.tickFormat=function(t,n){return ba(r,t,n)};a.nice=function(t){return a.domain(ga(r,t))};a.exponent=function(t){return arguments.length?(i=Ma(e=t),o=Ma(1/e),n.domain(r.map(i)),a):e};a.copy=function(){return t(n.copy(),e,r)};return va(a,n)}(P.scale.linear(),1,[0,1])},P.scale.sqrt=function(){return P.scale.pow().exponent(.5)},P.scale.ordinal=function(){return function t(u,s){var i,c,l;function f(t){return c[((i.get(t)||("range"===s.t?i.set(t,u.push(t)):NaN))-1)%c.length]}function h(n,e){return P.range(u.length).map(function(t){return n+e*t})}f.domain=function(t){if(!arguments.length)return u;u=[],i=new y;for(var n,e=-1,r=t.length;++e<r;)i.has(n=t[e])||i.set(n,u.push(n));return f[s.t].apply(f,s.a)};f.range=function(t){return arguments.length?(c=t,l=0,s={t:"range",a:arguments},f):c};f.rangePoints=function(t,n){arguments.length<2&&(n=0);var e=t[0],r=t[1],i=u.length<2?(e=(e+r)/2,0):(r-e)/(u.length-1+n);return c=h(e+i*n/2,i),l=0,s={t:"rangePoints",a:arguments},f};f.rangeRoundPoints=function(t,n){arguments.length<2&&(n=0);var e=t[0],r=t[1],i=u.length<2?(e=r=Math.round((e+r)/2),0):(r-e)/(u.length-1+n)|0;return c=h(e+Math.round(i*n/2+(r-e-(u.length-1+n)*i)/2),i),l=0,s={t:"rangeRoundPoints",a:arguments},f};f.rangeBands=function(t,n,e){arguments.length<2&&(n=0),arguments.length<3&&(e=n);var r=t[1]<t[0],i=t[r-0],o=t[1-r],a=(o-i)/(u.length-n+2*e);return c=h(i+a*e,a),r&&c.reverse(),l=a*(1-n),s={t:"rangeBands",a:arguments},f};f.rangeRoundBands=function(t,n,e){arguments.length<2&&(n=0),arguments.length<3&&(e=n);var r=t[1]<t[0],i=t[r-0],o=t[1-r],a=Math.floor((o-i)/(u.length-n+2*e));return c=h(i+Math.round((o-i-(u.length-n)*a)/2),a),r&&c.reverse(),l=Math.round(a*(1-n)),s={t:"rangeRoundBands",a:arguments},f};f.rangeBand=function(){return l};f.rangeExtent=function(){return sa(s.a[0])};f.copy=function(){return t(u,s)};return f.domain(u)}([],{t:"range",a:[[]]})},P.scale.category10=function(){return P.scale.ordinal().range(Ea)},P.scale.category20=function(){return P.scale.ordinal().range(Aa)},P.scale.category20b=function(){return P.scale.ordinal().range(Sa)},P.scale.category20c=function(){return P.scale.ordinal().range(Na)};var Ea=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(un),Aa=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(un),Sa=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(un),Na=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(un);function Ca(){return 0}P.scale.quantile=function(){return function t(e,r){var i;function n(){var t=0,n=r.length;for(i=[];++t<n;)i[t-1]=P.quantile(e,t/n);return o}function o(t){if(!isNaN(t=+t))return r[P.bisect(i,t)]}o.domain=function(t){return arguments.length?(e=t.map(c).filter(l).sort(s),n()):e};o.range=function(t){return arguments.length?(r=t,n()):r};o.quantiles=function(){return i};o.invertExtent=function(t){return(t=r.indexOf(t))<0?[NaN,NaN]:[0<t?i[t-1]:e[0],t<i.length?i[t]:e[e.length-1]]};o.copy=function(){return t(e,r)};return n()}([],[])},P.scale.quantize=function(){return function t(n,e,r){var i,o;function a(t){return r[Math.max(0,Math.min(o,Math.floor(i*(t-n))))]}function u(){return i=r.length/(e-n),o=r.length-1,a}a.domain=function(t){return arguments.length?(n=+t[0],e=+t[t.length-1],u()):[n,e]};a.range=function(t){return arguments.length?(r=t,u()):r};a.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/i+n,t+1/i]};a.copy=function(){return t(n,e,r)};return u()}(0,1,[0,1])},P.scale.threshold=function(){return function t(n,e){function r(t){if(t<=t)return e[P.bisect(n,t)]}r.domain=function(t){return arguments.length?(n=t,r):n};r.range=function(t){return arguments.length?(e=t,r):e};r.invertExtent=function(t){return t=e.indexOf(t),[n[t-1],n[t]]};r.copy=function(){return t(n,e)};return r}([.5],[0,1])},P.scale.identity=function(){return function t(e){function n(t){return+t}n.invert=n;n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e};n.ticks=function(t){return ya(e,t)};n.tickFormat=function(t,n){return ba(e,t,n)};n.copy=function(){return t(e)};return n}([0,1])},P.svg={},P.svg.arc=function(){var L=ja,z=Oa,I=Ca,U=Ra,B=Ta,V=Pa,W=Fa;function n(){var t=Math.max(0,+L.apply(this,arguments)),n=Math.max(0,+z.apply(this,arguments)),e=B.apply(this,arguments)-St,r=V.apply(this,arguments)-St,i=Math.abs(r-e),o=r<e?0:1;if(n<t&&(a=n,n=t,t=a),At<=i)return H(n,o)+(t?H(t,1-o):"")+"Z";var a,u,s,c,l,f,h,p,d,v,g,m,y=0,b=0,w=[];if((c=(+W.apply(this,arguments)||0)/2)&&(s=U===Ra?Math.sqrt(t*t+n*n):+U.apply(this,arguments),o||(b*=-1),n&&(b=Tt(s/n*Math.sin(c))),t&&(y=Tt(s/t*Math.sin(c)))),n){l=n*Math.cos(e+b),f=n*Math.sin(e+b),h=n*Math.cos(r-b),p=n*Math.sin(r-b);var x=Math.abs(r-e-2*b)<=Mt?0:1;if(b&&Da(l,f,h,p)===o^x){var _=(e+r)/2;l=n*Math.cos(_),f=n*Math.sin(_),h=p=null}}else l=f=0;if(t){d=t*Math.cos(r-y),v=t*Math.sin(r-y),g=t*Math.cos(e+y),m=t*Math.sin(e+y);var k=Math.abs(e-r+2*y)<=Mt?0:1;if(y&&Da(d,v,g,m)===1-o^k){var M=(e+r)/2;d=t*Math.cos(M),v=t*Math.sin(M),g=m=null}}else d=v=0;if(_t<i&&.001<(a=Math.min(Math.abs(n-t)/2,+I.apply(this,arguments)))){u=t<n^o?0:1;var E=a,A=a;if(i<Mt){var S=null==g?[d,v]:null==h?[l,f]:ai([l,f],[g,m],[h,p],[d,v]),N=l-S[0],C=f-S[1],R=h-S[0],j=p-S[1],O=1/Math.sin(Math.acos((N*R+C*j)/(Math.sqrt(N*N+C*C)*Math.sqrt(R*R+j*j)))/2),T=Math.sqrt(S[0]*S[0]+S[1]*S[1]);A=Math.min(a,(t-T)/(O-1)),E=Math.min(a,(n-T)/(O+1))}if(null!=h){var P=qa(null==g?[d,v]:[g,m],[l,f],n,E,o),F=qa([h,p],[d,v],n,E,o);a===E?w.push("M",P[0],"A",E,",",E," 0 0,",u," ",P[1],"A",n,",",n," 0 ",1-o^Da(P[1][0],P[1][1],F[1][0],F[1][1]),",",o," ",F[1],"A",E,",",E," 0 0,",u," ",F[0]):w.push("M",P[0],"A",E,",",E," 0 1,",u," ",F[0])}else w.push("M",l,",",f);if(null!=g){var D=qa([l,f],[g,m],t,-A,o),q=qa([d,v],null==h?[l,f]:[h,p],t,-A,o);a===A?w.push("L",q[0],"A",A,",",A," 0 0,",u," ",q[1],"A",t,",",t," 0 ",o^Da(q[1][0],q[1][1],D[1][0],D[1][1]),",",1-o," ",D[1],"A",A,",",A," 0 0,",u," ",D[0]):w.push("L",q[0],"A",A,",",A," 0 0,",u," ",D[0])}else w.push("L",d,",",v)}else w.push("M",l,",",f),null!=h&&w.push("A",n,",",n," 0 ",x,",",o," ",h,",",p),w.push("L",d,",",v),null!=g&&w.push("A",t,",",t," 0 ",k,",",1-o," ",g,",",m);return w.push("Z"),w.join("")}function H(t,n){return"M0,"+t+"A"+t+","+t+" 0 1,"+n+" 0,"+-t+"A"+t+","+t+" 0 1,"+n+" 0,"+t}return n.innerRadius=function(t){return arguments.length?(L=gn(t),n):L},n.outerRadius=function(t){return arguments.length?(z=gn(t),n):z},n.cornerRadius=function(t){return arguments.length?(I=gn(t),n):I},n.padRadius=function(t){return arguments.length?(U=t==Ra?Ra:gn(t),n):U},n.startAngle=function(t){return arguments.length?(B=gn(t),n):B},n.endAngle=function(t){return arguments.length?(V=gn(t),n):V},n.padAngle=function(t){return arguments.length?(W=gn(t),n):W},n.centroid=function(){var t=(+L.apply(this,arguments)+ +z.apply(this,arguments))/2,n=(+B.apply(this,arguments)+ +V.apply(this,arguments))/2-St;return[Math.cos(n)*t,Math.sin(n)*t]},n};var Ra="auto";function ja(t){return t.innerRadius}function Oa(t){return t.outerRadius}function Ta(t){return t.startAngle}function Pa(t){return t.endAngle}function Fa(t){return t&&t.padAngle}function Da(t,n,e,r){return 0<(t-e)*n-(n-r)*t?0:1}function qa(t,n,e,r,i){var o=t[0]-n[0],a=t[1]-n[1],u=(i?r:-r)/Math.sqrt(o*o+a*a),s=u*a,c=-u*o,l=t[0]+s,f=t[1]+c,h=n[0]+s,p=n[1]+c,d=(l+h)/2,v=(f+p)/2,g=h-l,m=p-f,y=g*g+m*m,b=e-r,w=l*p-h*f,x=(m<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-w*w)),_=(w*m-g*x)/y,k=(-w*g-m*x)/y,M=(w*m+g*x)/y,E=(-w*g+m*x)/y,A=_-d,S=k-v,N=M-d,C=E-v;return N*N+C*C<A*A+S*S&&(_=M,k=E),[[_-s,k-c],[_*e/b,k*e/b]]}function La(c){var l=ti,f=ni,h=$e,p=Ia,n=p.key,d=.7;function e(t){var n,e=[],r=[],i=-1,o=t.length,a=gn(l),u=gn(f);function s(){e.push("M",p(c(r),d))}for(;++i<o;)h.call(this,n=t[i],i)?r.push([+a.call(this,n,i),+u.call(this,n,i)]):r.length&&(s(),r=[]);return r.length&&s(),e.length?e.join(""):null}return e.x=function(t){return arguments.length?(l=t,e):l},e.y=function(t){return arguments.length?(f=t,e):f},e.defined=function(t){return arguments.length?(h=t,e):h},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?p=t:(p=za.get(t)||Ia).key,e):n},e.tension=function(t){return arguments.length?(d=t,e):d},e}P.svg.line=function(){return La(D)};var za=P.map({linear:Ia,"linear-closed":Ua,step:function(t){var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];for(;++n<e;)i.push("H",(r[0]+(r=t[n])[0])/2,"V",r[1]);1<e&&i.push("H",r[0]);return i.join("")},"step-before":Ba,"step-after":Va,basis:$a,"basis-open":function(t){if(t.length<4)return Ia(t);var n,e=[],r=-1,i=t.length,o=[0],a=[0];for(;++r<3;)n=t[r],o.push(n[0]),a.push(n[1]);e.push(Za(Ka,o)+","+Za(Ka,a)),--r;for(;++r<i;)n=t[r],o.shift(),o.push(n[0]),a.shift(),a.push(n[1]),Qa(e,o,a);return e.join("")},"basis-closed":function(t){var n,e,r=-1,i=t.length,o=i+4,a=[],u=[];for(;++r<4;)e=t[r%i],a.push(e[0]),u.push(e[1]);n=[Za(Ka,a),",",Za(Ka,u)],--r;for(;++r<o;)e=t[r%i],a.shift(),a.push(e[0]),u.shift(),u.push(e[1]),Qa(n,a,u);return n.join("")},bundle:function(t,n){var e=t.length-1;if(e)for(var r,i,o=t[0][0],a=t[0][1],u=t[e][0]-o,s=t[e][1]-a,c=-1;++c<=e;)r=t[c],i=c/e,r[0]=n*r[0]+(1-n)*(o+i*u),r[1]=n*r[1]+(1-n)*(a+i*s);return $a(t)},cardinal:function(t,n){return t.length<3?Ia(t):t[0]+Wa(t,Ha(t,n))},"cardinal-open":function(t,n){return t.length<4?Ia(t):t[1]+Wa(t.slice(1,-1),Ha(t,n))},"cardinal-closed":function(t,n){return t.length<3?Ua(t):t[0]+Wa((t.push(t[0]),t),Ha([t[t.length-2]].concat(t,[t[1]]),n))},monotone:function(t){return t.length<3?Ia(t):t[0]+Wa(t,function(t){var n,e,r,i,o=[],a=function(t){var n=0,e=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Ja(i,o);for(;++n<e;)r[n]=(a+(a=Ja(i=o,o=t[n+1])))/2;return r[n]=a,r}(t),u=-1,s=t.length-1;for(;++u<s;)n=Ja(t[u],t[u+1]),T(n)<_t?a[u]=a[u+1]=0:(e=a[u]/n,r=a[u+1]/n,9<(i=e*e+r*r)&&(i=3*n/Math.sqrt(i),a[u]=i*e,a[u+1]=i*r));u=-1;for(;++u<=s;)i=(t[Math.min(s,u+1)][0]-t[Math.max(0,u-1)][0])/(6*(1+a[u]*a[u])),o.push([i||0,a[u]*i||0]);return o}(t))}});function Ia(t){return 1<t.length?t.join("L"):t+"Z"}function Ua(t){return t.join("L")+"Z"}function Ba(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];++n<e;)i.push("V",(r=t[n])[1],"H",r[0]);return i.join("")}function Va(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];++n<e;)i.push("H",(r=t[n])[0],"V",r[1]);return i.join("")}function Wa(t,n){if(n.length<1||t.length!=n.length&&t.length!=n.length+2)return Ia(t);var e=t.length!=n.length,r="",i=t[0],o=t[1],a=n[0],u=a,s=1;if(e&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],s=2),1<n.length){u=n[1],o=t[s],s++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-u[0])+","+(o[1]-u[1])+","+o[0]+","+o[1];for(var c=2;c<n.length;c++,s++)o=t[s],u=n[c],r+="S"+(o[0]-u[0])+","+(o[1]-u[1])+","+o[0]+","+o[1]}if(e){var l=t[s];r+="Q"+(o[0]+2*u[0]/3)+","+(o[1]+2*u[1]/3)+","+l[0]+","+l[1]}return r}function Ha(t,n){for(var e,r=[],i=(1-n)/2,o=t[0],a=t[1],u=1,s=t.length;++u<s;)e=o,o=a,a=t[u],r.push([i*(a[0]-e[0]),i*(a[1]-e[1])]);return r}function $a(t){if(t.length<3)return Ia(t);var n=1,e=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],u=[o,o,o,r[1]],s=[i,",",o,"L",Za(Ka,a),",",Za(Ka,u)];for(t.push(t[e-1]);++n<=e;)r=t[n],a.shift(),a.push(r[0]),u.shift(),u.push(r[1]),Qa(s,a,u);return t.pop(),s.push("L",r),s.join("")}function Za(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}za.forEach(function(t,n){n.key=t,n.closed=/-closed$/.test(t)});var Ya=[0,2/3,1/3,0],Ga=[0,1/3,2/3,0],Ka=[0,1/6,2/3,1/6];function Qa(t,n,e){t.push("C",Za(Ya,n),",",Za(Ya,e),",",Za(Ga,n),",",Za(Ga,e),",",Za(Ka,n),",",Za(Ka,e))}function Ja(t,n){return(n[1]-t[1])/(n[0]-t[0])}function Xa(t){for(var n,e,r,i=-1,o=t.length;++i<o;)e=(n=t[i])[0],r=n[1]-St,n[0]=e*Math.cos(r),n[1]=e*Math.sin(r);return t}function tu(d){var v=ti,g=ti,m=0,y=ni,b=$e,w=Ia,n=w.key,x=w,_="L",k=.7;function e(t){var n,e,r,i=[],o=[],a=[],u=-1,s=t.length,c=gn(v),l=gn(m),f=v===g?function(){return e}:gn(g),h=m===y?function(){return r}:gn(y);function p(){i.push("M",w(d(a),k),_,x(d(o.reverse()),k),"Z")}for(;++u<s;)b.call(this,n=t[u],u)?(o.push([e=+c.call(this,n,u),r=+l.call(this,n,u)]),a.push([+f.call(this,n,u),+h.call(this,n,u)])):o.length&&(p(),o=[],a=[]);return o.length&&p(),i.length?i.join(""):null}return e.x=function(t){return arguments.length?(v=g=t,e):g},e.x0=function(t){return arguments.length?(v=t,e):v},e.x1=function(t){return arguments.length?(g=t,e):g},e.y=function(t){return arguments.length?(m=y=t,e):y},e.y0=function(t){return arguments.length?(m=t,e):m},e.y1=function(t){return arguments.length?(y=t,e):y},e.defined=function(t){return arguments.length?(b=t,e):b},e.interpolate=function(t){return arguments.length?(n="function"==typeof t?w=t:(w=za.get(t)||Ia).key,x=w.reverse||w,_=w.closed?"M":"L",e):n},e.tension=function(t){return arguments.length?(k=t,e):k},e}function nu(t){return t.radius}function eu(t){return[t.x,t.y]}function ru(){return 64}function iu(){return"circle"}function ou(t){var n=Math.sqrt(t/Mt);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"}P.svg.line.radial=function(){var t=La(Xa);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},(Ba.reverse=Va).reverse=Ba,P.svg.area=function(){return tu(D)},P.svg.area.radial=function(){var t=tu(Xa);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},P.svg.chord=function(){var a=Ir,u=Ur,s=nu,c=Ta,l=Pa;function n(t,n){var e,r,i=f(this,a,t,n),o=f(this,u,t,n);return"M"+i.p0+h(i.r,i.p1,i.a1-i.a0)+(r=o,(e=i).a0==r.a0&&e.a1==r.a1?p(i.r,i.p1,i.r,i.p0):p(i.r,i.p1,o.r,o.p0)+h(o.r,o.p1,o.a1-o.a0)+p(o.r,o.p1,i.r,i.p0))+"Z"}function f(t,n,e,r){var i=n.call(t,e,r),o=s.call(t,i,r),a=c.call(t,i,r)-St,u=l.call(t,i,r)-St;return{r:o,a0:a,a1:u,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(u),o*Math.sin(u)]}}function h(t,n,e){return"A"+t+","+t+" 0 "+ +(Mt<e)+",1 "+n}function p(t,n,e,r){return"Q 0,0 "+r}return n.radius=function(t){return arguments.length?(s=gn(t),n):s},n.source=function(t){return arguments.length?(a=gn(t),n):a},n.target=function(t){return arguments.length?(u=gn(t),n):u},n.startAngle=function(t){return arguments.length?(c=gn(t),n):c},n.endAngle=function(t){return arguments.length?(l=gn(t),n):l},n},P.svg.diagonal=function(){var a=Ir,u=Ur,s=eu;function n(t,n){var e=a.call(this,t,n),r=u.call(this,t,n),i=(e.y+r.y)/2,o=[e,{x:e.x,y:i},{x:r.x,y:i},r];return"M"+(o=o.map(s))[0]+"C"+o[1]+" "+o[2]+" "+o[3]}return n.source=function(t){return arguments.length?(a=gn(t),n):a},n.target=function(t){return arguments.length?(u=gn(t),n):u},n.projection=function(t){return arguments.length?(s=t,n):s},n},P.svg.diagonal.radial=function(){var t=P.svg.diagonal(),n=eu,e=t.projection;return t.projection=function(t){return arguments.length?e((r=n=t,function(){var t=r.apply(this,arguments),n=t[0],e=t[1]-St;return[n*Math.cos(e),n*Math.sin(e)]})):n;var r},t},P.svg.symbol=function(){var e=iu,r=ru;function n(t,n){return(au.get(e.call(this,t,n))||ou)(r.call(this,t,n))}return n.type=function(t){return arguments.length?(e=gn(t),n):e},n.size=function(t){return arguments.length?(r=gn(t),n):r},n};var au=P.map({circle:ou,cross:function(t){var n=Math.sqrt(t/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(t){var n=Math.sqrt(t/(2*su)),e=n*su;return"M0,"+-n+"L"+e+",0 0,"+n+" "+-e+",0Z"},square:function(t){var n=Math.sqrt(t)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(t){var n=Math.sqrt(t/uu),e=n*uu/2;return"M0,"+e+"L"+n+","+-e+" "+-n+","+-e+"Z"},"triangle-up":function(t){var n=Math.sqrt(t/uu),e=n*uu/2;return"M0,"+-e+"L"+n+","+e+" "+-n+","+e+"Z"}});P.svg.symbolTypes=au.keys();var uu=Math.sqrt(3),su=Math.tan(30*Nt);$.transition=function(t){for(var n,e,r=hu||++vu,i=yu(t),o=[],a=pu||{time:Date.now(),ease:ro,delay:0,duration:250},u=-1,s=this.length;++u<s;){o.push(n=[]);for(var c=this[u],l=-1,f=c.length;++l<f;)(e=c[l])&&bu(e,l,i,r,a),n.push(e)}return fu(o,i,r)},$.interrupt=function(t){return this.each(null==t?cu:lu(yu(t)))};var cu=lu(yu());function lu(r){return function(){var t,n,e;(t=this[r])&&(e=t[n=t.active])&&(e.timer.c=null,e.timer.t=NaN,--t.count?delete t[n]:delete this[r],t.active+=.5,e.event&&e.event.interrupt.call(this,this.__data__,e.index))}}function fu(t,n,e){return U(t,du),t.namespace=n,t.id=e,t}var hu,pu,du=[],vu=0;function gu(t,r,i,o){var a=t.id,u=t.namespace;return ct(t,"function"==typeof i?function(t,n,e){t[u][a].tween.set(r,o(i.call(t,t.__data__,n,e)))}:(i=o(i),function(t){t[u][a].tween.set(r,i)}))}function mu(t){return null==t&&(t=""),function(){this.textContent=t}}function yu(t){return null==t?"__transition__":"__transition_"+t+"__"}function bu(o,a,i,u,t){var s,c,l,f,h,p=o[i]||(o[i]={active:0,count:0}),d=p[u];function e(t){var n=p.active,e=p[n];for(var r in e&&(e.timer.c=null,e.timer.t=NaN,--p.count,delete p[n],e.event&&e.event.interrupt.call(o,o.__data__,e.index)),p)if(+r<u){var i=p[r];i.timer.c=null,i.timer.t=NaN,--p.count,delete p[r]}c.c=v,Mn(function(){return c.c&&v(t||1)&&(c.c=null,c.t=NaN),1},0,s),p.active=u,d.event&&d.event.start.call(o,o.__data__,a),h=[],d.tween.forEach(function(t,n){(n=n.call(o,o.__data__,a))&&h.push(n)}),f=d.ease,l=d.duration}function v(t){for(var n=t/l,e=f(n),r=h.length;0<r;)h[--r].call(o,e);if(1<=n)return d.event&&d.event.end.call(o,o.__data__,a),--p.count?delete p[u]:delete o[i],1}d||(s=t.time,c=Mn(function(t){var n=d.delay;if(c.t=n+s,n<=t)return e(t-n);c.c=e},0,s),d=p[u]={tween:new y,time:s,timer:c,delay:t.delay,duration:t.duration,ease:t.ease,index:a},t=null,++p.count)}du.call=$.call,du.empty=$.empty,du.node=$.node,du.size=$.size,P.transition=function(t,n){return t&&t.transition?hu?t.transition(n):t:P.selection().transition(t)},(P.transition.prototype=du).select=function(t){var n,e,r,i=this.id,o=this.namespace,a=[];t=Z(t);for(var u=-1,s=this.length;++u<s;){a.push(n=[]);for(var c=this[u],l=-1,f=c.length;++l<f;)(r=c[l])&&(e=t.call(r,r.__data__,l,u))?("__data__"in r&&(e.__data__=r.__data__),bu(e,l,o,i,r[o][i]),n.push(e)):n.push(null)}return fu(a,o,i)},du.selectAll=function(t){var n,e,r,i,o,a=this.id,u=this.namespace,s=[];t=Y(t);for(var c=-1,l=this.length;++c<l;)for(var f=this[c],h=-1,p=f.length;++h<p;)if(r=f[h]){o=r[u][a],e=t.call(r,r.__data__,h,c),s.push(n=[]);for(var d=-1,v=e.length;++d<v;)(i=e[d])&&bu(i,d,u,a,o),n.push(i)}return fu(s,u,a)},du.filter=function(t){var n,e,r=[];"function"!=typeof t&&(t=st(t));for(var i=0,o=this.length;i<o;i++){r.push(n=[]);for(var a,u=0,s=(a=this[i]).length;u<s;u++)(e=a[u])&&t.call(e,e.__data__,u,i)&&n.push(e)}return fu(r,this.namespace,this.id)},du.tween=function(n,e){var r=this.id,i=this.namespace;return arguments.length<2?this.node()[i][r].tween.get(n):ct(this,null==e?function(t){t[i][r].tween.remove(n)}:function(t){t[i][r].tween.set(n,e)})},du.attr=function(t,n){if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var r="transform"==t?vo:Yi,i=P.ns.qualify(t);function o(){this.removeAttribute(i)}function a(){this.removeAttributeNS(i.space,i.local)}return gu(this,"attr."+t,n,i.local?function(e){return null==e?a:(e+="",function(){var n,t=this.getAttributeNS(i.space,i.local);return t!==e&&(n=r(t,e),function(t){this.setAttributeNS(i.space,i.local,n(t))})})}:function(e){return null==e?o:(e+="",function(){var n,t=this.getAttribute(i);return t!==e&&(n=r(t,e),function(t){this.setAttribute(i,n(t))})})})},du.attrTween=function(t,r){var i=P.ns.qualify(t);return this.tween("attr."+t,i.local?function(t,n){var e=r.call(this,t,n,this.getAttributeNS(i.space,i.local));return e&&function(t){this.setAttributeNS(i.space,i.local,e(t))}}:function(t,n){var e=r.call(this,t,n,this.getAttribute(i));return e&&function(t){this.setAttribute(i,e(t))}})},du.style=function(r,t,i){var n=arguments.length;if(n<3){if("string"!=typeof r){for(i in n<2&&(t=""),r)this.style(i,r[i],t);return this}i=""}function o(){this.style.removeProperty(r)}return gu(this,"style."+r,t,function(e){return null==e?o:(e+="",function(){var n,t=F(this).getComputedStyle(this,null).getPropertyValue(r);return t!==e&&(n=Yi(t,e),function(t){this.style.setProperty(r,n(t),i)})})})},du.styleTween=function(r,i,o){return arguments.length<3&&(o=""),this.tween("style."+r,function(t,n){var e=i.call(this,t,n,F(this).getComputedStyle(this,null).getPropertyValue(r));return e&&function(t){this.style.setProperty(r,e(t),o)}})},du.text=function(t){return gu(this,"text",t,mu)},du.remove=function(){var n=this.namespace;return this.each("end.transition",function(){var t;this[n].count<2&&(t=this.parentNode)&&t.removeChild(this)})},du.ease=function(n){var e=this.id,r=this.namespace;return arguments.length<1?this.node()[r][e].ease:("function"!=typeof n&&(n=P.ease.apply(P,arguments)),ct(this,function(t){t[r][e].ease=n}))},du.delay=function(r){var i=this.id,o=this.namespace;return arguments.length<1?this.node()[o][i].delay:ct(this,"function"==typeof r?function(t,n,e){t[o][i].delay=+r.call(t,t.__data__,n,e)}:(r=+r,function(t){t[o][i].delay=r}))},du.duration=function(r){var i=this.id,o=this.namespace;return arguments.length<1?this.node()[o][i].duration:ct(this,"function"==typeof r?function(t,n,e){t[o][i].duration=Math.max(1,r.call(t,t.__data__,n,e))}:(r=Math.max(1,r),function(t){t[o][i].duration=r}))},du.each=function(r,e){var i=this.id,o=this.namespace;if(arguments.length<2){var t=pu,n=hu;try{hu=i,ct(this,function(t,n,e){pu=t[o][i],r.call(t,t.__data__,n,e)})}finally{pu=t,hu=n}}else ct(this,function(t){var n=t[o][i];(n.event||(n.event=P.dispatch("start","end","interrupt"))).on(r,e)});return this},du.transition=function(){for(var t,n,e,r=this.id,i=++vu,o=this.namespace,a=[],u=0,s=this.length;u<s;u++){a.push(t=[]);for(var c,l=0,f=(c=this[u]).length;l<f;l++)(n=c[l])&&bu(n,l,o,i,{time:(e=n[o][r]).time,ease:e.ease,delay:e.delay+e.duration,duration:e.duration}),t.push(n)}return fu(a,o,i)},P.svg.axis=function(){var A,S=P.scale.linear(),N=wu,C=6,R=6,j=3,O=[10],T=null;function e(t){t.each(function(){var t,n=P.select(this),e=this.__chart__||S,r=this.__chart__=S.copy(),i=null==T?r.ticks?r.ticks.apply(r,O):r.domain():T,o=null==A?r.tickFormat?r.tickFormat.apply(r,O):D:A,a=n.selectAll(".tick").data(i,r),u=a.enter().insert("g",".domain").attr("class","tick").style("opacity",_t),s=P.transition(a.exit()).style("opacity",_t).remove(),c=P.transition(a.order()).style("opacity",1),l=Math.max(C,0)+j,f=ca(r),h=n.selectAll(".domain").data([0]),p=(h.enter().append("path").attr("class","domain"),P.transition(h));u.append("line"),u.append("text");var d,v,g,m,y=u.select("line"),b=c.select("line"),w=a.select("text").text(o),x=u.select("text"),_=c.select("text"),k="top"===N||"left"===N?-1:1;if("bottom"===N||"top"===N?(t=_u,d="x",g="y",v="x2",m="y2",w.attr("dy",k<0?"0em":".71em").style("text-anchor","middle"),p.attr("d","M"+f[0]+","+k*R+"V0H"+f[1]+"V"+k*R)):(t=ku,d="y",g="x",v="y2",m="x2",w.attr("dy",".32em").style("text-anchor",k<0?"end":"start"),p.attr("d","M"+k*R+","+f[0]+"H0V"+f[1]+"H"+k*R)),y.attr(m,k*C),x.attr(g,k*l),b.attr(v,0).attr(m,k*C),_.attr(d,0).attr(g,k*l),r.rangeBand){var M=r,E=M.rangeBand()/2;e=r=function(t){return M(t)+E}}else e.rangeBand?e=r:s.call(t,r,e);u.call(t,e,r),c.call(t,r,r)})}return e.scale=function(t){return arguments.length?(S=t,e):S},e.orient=function(t){return arguments.length?(N=t in xu?t+"":wu,e):N},e.ticks=function(){return arguments.length?(O=h(arguments),e):O},e.tickValues=function(t){return arguments.length?(T=t,e):T},e.tickFormat=function(t){return arguments.length?(A=t,e):A},e.tickSize=function(t){var n=arguments.length;return n?(C=+t,R=+arguments[n-1],e):C},e.innerTickSize=function(t){return arguments.length?(C=+t,e):C},e.outerTickSize=function(t){return arguments.length?(R=+t,e):R},e.tickPadding=function(t){return arguments.length?(j=+t,e):j},e.tickSubdivide=function(){return arguments.length&&e},e};var wu="bottom",xu={top:1,right:1,bottom:1,left:1};function _u(t,e,r){t.attr("transform",function(t){var n=e(t);return"translate("+(isFinite(n)?n:r(t))+",0)"})}function ku(t,e,r){t.attr("transform",function(t){var n=e(t);return"translate(0,"+(isFinite(n)?n:r(t))+")"})}P.svg.brush=function(){var y,b,w=z(S,"brushstart","brush","brushend"),x=null,_=null,k=[0,0],M=[0,0],E=!0,A=!0,a=Eu[0];function S(t){t.each(function(){var t=P.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",u).on("touchstart.brush",u),n=t.selectAll(".background").data([0]);n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var e=t.selectAll(".resize").data(a,D);e.exit().remove(),e.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Mu[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),e.style("display",S.empty()?"none":null);var r,i=P.transition(t),o=P.transition(n);x&&(r=ca(x),o.attr("x",r[0]).attr("width",r[1]-r[0]),C(i)),_&&(r=ca(_),o.attr("y",r[0]).attr("height",r[1]-r[0]),R(i)),N(i)})}function N(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+k[+/e$/.test(t)]+","+M[+/^s/.test(t)]+")"})}function C(t){t.select(".extent").attr("x",k[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",k[1]-k[0])}function R(t){t.select(".extent").attr("y",M[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",M[1]-M[0])}function u(){var f,e,r=this,t=P.select(P.event.target),i=w.of(r,arguments),o=P.select(r),n=t.datum(),a=!/^(n|s)$/.test(n)&&x,u=!/^(e|w)$/.test(n)&&_,h=t.classed("extent"),s=yt(r),p=P.mouse(r),c=P.select(F(r)).on("keydown.brush",function(){32==P.event.keyCode&&(h||(f=null,p[0]-=k[1],p[1]-=M[1],h=2),q())}).on("keyup.brush",function(){32==P.event.keyCode&&2==h&&(p[0]+=k[1],p[1]+=M[1],h=0,q())});if(P.event.changedTouches?c.on("touchmove.brush",v).on("touchend.brush",m):c.on("mousemove.brush",v).on("mouseup.brush",m),o.interrupt().selectAll("*").interrupt(),h)p[0]=k[0]-p[0],p[1]=M[0]-p[1];else if(n){var l=+/w$/.test(n),d=+/^n/.test(n);e=[k[1-l]-p[0],M[1-d]-p[1]],p[0]=k[l],p[1]=M[d]}else P.event.altKey&&(f=p.slice());function v(){var t=P.mouse(r),n=!1;e&&(t[0]+=e[0],t[1]+=e[1]),h||(P.event.altKey?(f||(f=[(k[0]+k[1])/2,(M[0]+M[1])/2]),p[0]=k[+(t[0]<f[0])],p[1]=M[+(t[1]<f[1])]):f=null),a&&g(t,x,0)&&(C(o),n=!0),u&&g(t,_,1)&&(R(o),n=!0),n&&(N(o),i({type:"brush",mode:h?"move":"resize"}))}function g(t,n,e){var r,i,o=ca(n),a=o[0],u=o[1],s=p[e],c=e?M:k,l=c[1]-c[0];if(h&&(a-=s,u-=l+s),r=(e?A:E)?Math.max(a,Math.min(u,t[e])):t[e],h?i=(r+=s)+l:(f&&(s=Math.max(a,Math.min(u,2*f[e]-r))),s<r?(i=r,r=s):i=s),c[0]!=r||c[1]!=i)return e?b=null:y=null,c[0]=r,c[1]=i,!0}function m(){v(),o.style("pointer-events","all").selectAll(".resize").style("display",S.empty()?"none":null),P.select("body").style("cursor",null),c.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),s(),i({type:"brushend"})}o.style("pointer-events","none").selectAll(".resize").style("display",null),P.select("body").style("cursor",t.style("cursor")),i({type:"brushstart"}),v()}return S.event=function(t){t.each(function(){var r=w.of(this,arguments),i={x:k,y:M,i:y,j:b},t=this.__chart__||i;this.__chart__=i,hu?P.select(this).transition().each("start.brush",function(){y=t.i,b=t.j,k=t.x,M=t.y,r({type:"brushstart"})}).tween("brush:brush",function(){var n=Gi(k,i.x),e=Gi(M,i.y);return y=b=null,function(t){k=i.x=n(t),M=i.y=e(t),r({type:"brush",mode:"resize"})}}).each("end.brush",function(){y=i.i,b=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})}):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))})},S.x=function(t){return arguments.length?(a=Eu[!(x=t)<<1|!_],S):x},S.y=function(t){return arguments.length?(a=Eu[!x<<1|!(_=t)],S):_},S.clamp=function(t){return arguments.length?(x&&_?(E=!!t[0],A=!!t[1]):x?E=!!t:_&&(A=!!t),S):x&&_?[E,A]:x?E:_?A:null},S.extent=function(t){var n,e,r,i,o;return arguments.length?(x&&(n=t[0],e=t[1],_&&(n=n[0],e=e[0]),y=[n,e],x.invert&&(n=x(n),e=x(e)),e<n&&(o=n,n=e,e=o),n==k[0]&&e==k[1]||(k=[n,e])),_&&(r=t[0],i=t[1],x&&(r=r[1],i=i[1]),b=[r,i],_.invert&&(r=_(r),i=_(i)),i<r&&(o=r,r=i,i=o),r==M[0]&&i==M[1]||(M=[r,i])),S):(x&&(y?(n=y[0],e=y[1]):(n=k[0],e=k[1],x.invert&&(n=x.invert(n),e=x.invert(e)),e<n&&(o=n,n=e,e=o))),_&&(b?(r=b[0],i=b[1]):(r=M[0],i=M[1],_.invert&&(r=_.invert(r),i=_.invert(i)),i<r&&(o=r,r=i,i=o))),x&&_?[[n,r],[e,i]]:x?[n,e]:_&&[r,i])},S.clear=function(){return S.empty()||(k=[0,0],M=[0,0],y=b=null),S},S.empty=function(){return!!x&&k[0]==k[1]||!!_&&M[0]==M[1]},P.rebind(S,w,"on")};var Mu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Eu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Au=Tn.format=ue.timeFormat,Su=Au.utc,Nu=Su("%Y-%m-%dT%H:%M:%S.%LZ");function Cu(t){return t.toISOString()}function Ru(n,i,t){function a(t){return n(t)}function u(t,n){var e=(t[1]-t[0])/n,r=P.bisect(Ou,e);return r==Ou.length?[i.year,ma(t.map(function(t){return t/31536e6}),n)[2]]:r?i[e/Ou[r-1]<Ou[r]/e?r-1:r]:[Fu,ma(t,n)[2]]}return a.invert=function(t){return ju(n.invert(t))},a.domain=function(t){return arguments.length?(n.domain(t),a):n.domain().map(ju)},a.nice=function(n,e){var t=a.domain(),r=sa(t),i=null==n?u(r,10):"number"==typeof n&&u(r,n);function o(t){return!isNaN(t)&&!n.range(t,ju(+t+1),e).length}return i&&(n=i[0],e=i[1]),a.domain(fa(t,1<e?{floor:function(t){for(;o(t=n.floor(t));)t=ju(t-1);return t},ceil:function(t){for(;o(t=n.ceil(t));)t=ju(+t+1);return t}}:n))},a.ticks=function(t,n){var e=sa(a.domain()),r=null==t?u(e,10):"number"==typeof t?u(e,t):!t.range&&[{range:t},n];return r&&(t=r[0],n=r[1]),t.range(e[0],ju(+e[1]+1),n<1?1:n)},a.tickFormat=function(){return t},a.copy=function(){return Ru(n.copy(),i,t)},va(a,n)}function ju(t){return new Date(t)}Au.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Cu:Nu,Cu.parse=function(t){var n=new Date(t);return isNaN(n)?null:n},Cu.toString=Nu.toString,Tn.second=qn(function(t){return new Pn(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(t.getTime()+1e3*Math.floor(n))},function(t){return t.getSeconds()}),Tn.seconds=Tn.second.range,Tn.seconds.utc=Tn.second.utc.range,Tn.minute=qn(function(t){return new Pn(6e4*Math.floor(t/6e4))},function(t,n){t.setTime(t.getTime()+6e4*Math.floor(n))},function(t){return t.getMinutes()}),Tn.minutes=Tn.minute.range,Tn.minutes.utc=Tn.minute.utc.range,Tn.hour=qn(function(t){var n=t.getTimezoneOffset()/60;return new Pn(36e5*(Math.floor(t/36e5-n)+n))},function(t,n){t.setTime(t.getTime()+36e5*Math.floor(n))},function(t){return t.getHours()}),Tn.hours=Tn.hour.range,Tn.hours.utc=Tn.hour.utc.range,Tn.month=qn(function(t){return(t=Tn.day(t)).setDate(1),t},function(t,n){t.setMonth(t.getMonth()+n)},function(t){return t.getMonth()}),Tn.months=Tn.month.range,Tn.months.utc=Tn.month.utc.range;var Ou=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Tu=[[Tn.second,1],[Tn.second,5],[Tn.second,15],[Tn.second,30],[Tn.minute,1],[Tn.minute,5],[Tn.minute,15],[Tn.minute,30],[Tn.hour,1],[Tn.hour,3],[Tn.hour,6],[Tn.hour,12],[Tn.day,1],[Tn.day,2],[Tn.week,1],[Tn.month,1],[Tn.month,3],[Tn.year,1]],Pu=Au.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",$e]]),Fu={range:function(t,n,e){return P.range(Math.ceil(t/e)*e,+n,e).map(ju)},floor:D,ceil:D};Tu.year=Tn.year,Tn.scale=function(){return Ru(P.scale.linear(),Tu,Pu)};var Du=Tu.map(function(t){return[t[0].utc,t[1]]}),qu=Su.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",$e]]);function Lu(t){return JSON.parse(t.responseText)}function zu(t){var n=b.createRange();return n.selectNode(b.body),n.createContextualFragment(t.responseText)}Du.year=Tn.year.utc,Tn.scale.utc=function(){return Ru(P.scale.linear(),Du,qu)},P.text=mn(function(t){return t.responseText}),P.json=function(t,n){return yn(t,"application/json",Lu,n)},P.html=function(t,n){return yn(t,"text/html",zu,n)},P.xml=mn(function(t){return t.responseXML}),"object"==typeof Iu&&Iu.exports?Iu.exports=P:this.d3=P}()},{}],3:[function(t,n,e){var o,a;o=this,a=function(){var g,m,p=function(u,s){var n=Array.prototype.concat,t=Array.prototype.slice,e=Object.prototype.toString;function c(t,n){var e=n<t?t:n;return u.pow(10,17-~~(u.log(0<e?e:-e)*u.LOG10E))}var l=Array.isArray||function(t){return"[object Array]"===e.call(t)};function f(t){return"[object Function]"===e.call(t)}function h(t){return"number"==typeof t&&t==t}function p(){return new p._init(arguments)}function r(){return 0}function o(){return 1}function a(t,n){return t===n?1:0}p.fn=p.prototype,(p._init=function(t){if(l(t[0]))if(l(t[0][0])){f(t[1])&&(t[0]=p.map(t[0],t[1]));for(var n=0;n<t[0].length;n++)this[n]=t[0][n];this.length=t[0].length}else this[0]=f(t[1])?p.map(t[0],t[1]):t[0],this.length=1;else if(h(t[0]))this[0]=p.seq.apply(null,t),this.length=1;else{if(t[0]instanceof p)return p(t[0].toArray());this[0]=[],this.length=1}return this}).prototype=p.prototype,(p._init.constructor=p).utils={calcRdx:c,isArray:l,isFunction:f,isNumber:h,toVector:function(t){return n.apply([],t)}},p.extend=function(t){var n;if(1===arguments.length){for(n in t)p[n]=t[n];return this}for(var e=1;e<arguments.length;e++)for(n in arguments[e])t[n]=arguments[e][n];return t},p.rows=function(t){return t.length||1},p.cols=function(t){return t[0].length||1},p.dimensions=function(t){return{rows:p.rows(t),cols:p.cols(t)}},p.row=function(n,t){return l(t)?t.map(function(t){return p.row(n,t)}):n[t]},p.rowa=function(t,n){return p.row(t,n)},p.col=function(r,n){if(l(n)){var i=p.arange(r.length).map(function(t){return new Array(n.length)});return n.forEach(function(n,e){p.arange(r.length).forEach(function(t){i[t][e]=r[t][n]})}),i}for(var t=new Array(r.length),e=0;e<r.length;e++)t[e]=[r[e][n]];return t},p.cola=function(t,n){return p.col(t,n).map(function(t){return t[0]})},p.diag=function(t){for(var n=p.rows(t),e=new Array(n),r=0;r<n;r++)e[r]=[t[r][r]];return e},p.antidiag=function(t){for(var n=p.rows(t)-1,e=new Array(n),r=0;0<=n;n--,r++)e[r]=[t[r][n]];return e},p.transpose=function(t){var n,e,r,i,o=[];l(t[0])||(t=[t]),e=t.length,r=t[0].length;for(var a=0;a<r;a++){for(n=new Array(e),i=0;i<e;i++)n[i]=t[i][a];o.push(n)}return 1===o.length?o[0]:o},p.map=function(t,n,e){var r,i,o,a,u;for(l(t[0])||(t=[t]),i=t.length,o=t[0].length,a=e?t:new Array(i),r=0;r<i;r++)for(a[r]||(a[r]=new Array(o)),u=0;u<o;u++)a[r][u]=n(t[r][u],r,u);return 1===a.length?a[0]:a},p.cumreduce=function(t,n,e){var r,i,o,a,u;for(l(t[0])||(t=[t]),i=t.length,o=t[0].length,a=e?t:new Array(i),r=0;r<i;r++)for(a[r]||(a[r]=new Array(o)),0<o&&(a[r][0]=t[r][0]),u=1;u<o;u++)a[r][u]=n(a[r][u-1],t[r][u]);return 1===a.length?a[0]:a},p.alter=function(t,n){return p.map(t,n,!0)},p.create=function(t,n,e){var r,i=new Array(t);f(n)&&(e=n,n=t);for(var o=0;o<t;o++)for(i[o]=new Array(n),r=0;r<n;r++)i[o][r]=e(o,r);return i},p.zeros=function(t,n){return h(n)||(n=t),p.create(t,n,r)},p.ones=function(t,n){return h(n)||(n=t),p.create(t,n,o)},p.rand=function(t,n){return h(n)||(n=t),p.create(t,n,u.random)},p.identity=function(t,n){return h(n)||(n=t),p.create(t,n,a)},p.symmetric=function(t){var n,e,r=t.length;if(t.length!==t[0].length)return!1;for(n=0;n<r;n++)for(e=0;e<r;e++)if(t[e][n]!==t[n][e])return!1;return!0},p.clear=function(t){return p.alter(t,r)},p.seq=function(t,n,e,r){f(r)||(r=!1);var i,o=[],a=c(t,n),u=(n*a-t*a)/((e-1)*a),s=t;for(i=0;s<=n&&i<e;s=(t*a+u*a*++i)/a)o.push(r?r(s,i):s);return o},p.arange=function(t,n,e){var r=[];if(e=e||1,n===s&&(n=t,t=0),t===n||0===e)return[];if(t<n&&e<0)return[];if(n<t&&0<e)return[];if(0<e)for(i=t;i<n;i+=e)r.push(i);else for(i=t;i>n;i+=e)r.push(i);return r},p.slice=function(){function i(t,n,e,r){var i,o=[],a=t.length;if(n===s&&e===s&&r===s)return p.copy(t);if(r=r||1,(n=0<=(n=n||0)?n:a+n)===(e=0<=(e=e||t.length)?e:a+e)||0===r)return[];if(n<e&&r<0)return[];if(e<n&&0<r)return[];if(0<r)for(i=n;i<e;i+=r)o.push(t[i]);else for(i=n;e<i;i+=r)o.push(t[i]);return o}return function(t,n){if(h((n=n||{}).row))return h(n.col)?t[n.row][n.col]:i(p.rowa(t,n.row),(r=n.col||{}).start,r.end,r.step);if(h(n.col))return i(p.cola(t,n.col),(e=n.row||{}).start,e.end,e.step);var e=n.row||{},r=n.col||{};return i(t,e.start,e.end,e.step).map(function(t){return i(t,r.start,r.end,r.step)})}}(),p.sliceAssign=function(i,t,o){if(h(t.row)){if(h(t.col))return i[t.row][t.col]=o;t.col=t.col||{},t.col.start=t.col.start||0,t.col.end=t.col.end||i[0].length,t.col.step=t.col.step||1;var n=p.arange(t.col.start,u.min(i.length,t.col.end),t.col.step),e=t.row;return n.forEach(function(t,n){i[e][t]=o[n]}),i}if(h(t.col)){t.row=t.row||{},t.row.start=t.row.start||0,t.row.end=t.row.end||i.length,t.row.step=t.row.step||1;var r=p.arange(t.row.start,u.min(i[0].length,t.row.end),t.row.step),a=t.col;return r.forEach(function(t,n){i[t][a]=o[n]}),i}o[0].length===s&&(o=[o]),t.row.start=t.row.start||0,t.row.end=t.row.end||i.length,t.row.step=t.row.step||1,t.col.start=t.col.start||0,t.col.end=t.col.end||i[0].length,t.col.step=t.col.step||1;r=p.arange(t.row.start,u.min(i.length,t.row.end),t.row.step),n=p.arange(t.col.start,u.min(i[0].length,t.col.end),t.col.step);return r.forEach(function(e,r){n.forEach(function(t,n){i[e][t]=o[r][n]})}),i},p.diagonal=function(t){var e=p.zeros(t.length,t.length);return t.forEach(function(t,n){e[n][n]=t}),e},p.copy=function(t){return t.map(function(t){return h(t)?t:t.map(function(t){return t})})};var d=p.prototype;return d.length=0,d.push=Array.prototype.push,d.sort=Array.prototype.sort,d.splice=Array.prototype.splice,d.slice=Array.prototype.slice,d.toArray=function(){return 1<this.length?t.call(this):t.call(this)[0]},d.map=function(t,n){return p(p.map(this,t,n))},d.cumreduce=function(t,n){return p(p.cumreduce(this,t,n))},d.alter=function(t){return p.alter(this,t),this},function(t){for(var n=0;n<t.length;n++)!function(r){d[r]=function(t){var n,e=this;return t?(setTimeout(function(){t.call(e,d[r].call(e))}),this):(n=p[r](this),l(n)?p(n):n)}}(t[n])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(t){for(var n=0;n<t.length;n++)!function(r){d[r]=function(t,n){var e=this;return n?(setTimeout(function(){n.call(e,d[r].call(e,t))}),this):p(p[r](this,t))}}(t[n])}("row col".split(" ")),function(t){for(var n=0;n<t.length;n++)e=t[n],d[e]=new Function("return jStat(jStat."+e+".apply(null, arguments));");var e}("create zeros ones rand identity".split(" ")),p}(Math);return function(s,h){var c=s.utils.isFunction;function p(t,n){return t-n}function d(t,n,e){return h.max(n,h.min(t,e))}s.sum=function(t){for(var n=0,e=t.length;0<=--e;)n+=t[e];return n},s.sumsqrd=function(t){for(var n=0,e=t.length;0<=--e;)n+=t[e]*t[e];return n},s.sumsqerr=function(t){for(var n,e=s.mean(t),r=0,i=t.length;0<=--i;)r+=(n=t[i]-e)*n;return r},s.sumrow=function(t){for(var n=0,e=t.length;0<=--e;)n+=t[e];return n},s.product=function(t){for(var n=1,e=t.length;0<=--e;)n*=t[e];return n},s.min=function(t){for(var n=t[0],e=0;++e<t.length;)t[e]<n&&(n=t[e]);return n},s.max=function(t){for(var n=t[0],e=0;++e<t.length;)t[e]>n&&(n=t[e]);return n},s.unique=function(t){for(var n={},e=[],r=0;r<t.length;r++)n[t[r]]||(n[t[r]]=!0,e.push(t[r]));return e},s.mean=function(t){return s.sum(t)/t.length},s.meansqerr=function(t){return s.sumsqerr(t)/t.length},s.geomean=function(t){return h.pow(s.product(t),1/t.length)},s.median=function(t){var n=t.length,e=t.slice().sort(p);return 1&n?e[n/2|0]:(e[n/2-1]+e[n/2])/2},s.cumsum=function(t){return s.cumreduce(t,function(t,n){return t+n})},s.cumprod=function(t){return s.cumreduce(t,function(t,n){return t*n})},s.diff=function(t){for(var n=[],e=t.length,r=1;r<e;r++)n.push(t[r]-t[r-1]);return n},s.rank=function(t){for(var n=t.length,e=t.slice().sort(p),r=new Array(n),i=0;i<n;i++){var o=e.indexOf(t[i]),a=e.lastIndexOf(t[i]);if(o===a)var u=o;else u=(o+a)/2;r[i]=u+1}return r},s.mode=function(t){for(var n=t.length,e=t.slice().sort(p),r=1,i=0,o=0,a=[],u=0;u<n;u++)e[u]===e[u+1]?r++:(i<r?(a=[e[u]],i=r,o=0):r===i&&(a.push(e[u]),o++),r=1);return 0===o?a[0]:a},s.range=function(t){return s.max(t)-s.min(t)},s.variance=function(t,n){return s.sumsqerr(t)/(t.length-(n?1:0))},s.pooledvariance=function(t){return t.reduce(function(t,n){return t+s.sumsqerr(n)},0)/(t.reduce(function(t,n){return t+n.length},0)-t.length)},s.deviation=function(t){for(var n=s.mean(t),e=t.length,r=new Array(e),i=0;i<e;i++)r[i]=t[i]-n;return r},s.stdev=function(t,n){return h.sqrt(s.variance(t,n))},s.pooledstdev=function(t){return h.sqrt(s.pooledvariance(t))},s.meandev=function(t){for(var n=s.mean(t),e=[],r=t.length-1;0<=r;r--)e.push(h.abs(t[r]-n));return s.mean(e)},s.meddev=function(t){for(var n=s.median(t),e=[],r=t.length-1;0<=r;r--)e.push(h.abs(t[r]-n));return s.median(e)},s.coeffvar=function(t){return s.stdev(t)/s.mean(t)},s.quartiles=function(t){var n=t.length,e=t.slice().sort(p);return[e[h.round(n/4)-1],e[h.round(n/2)-1],e[h.round(3*n/4)-1]]},s.quantiles=function(t,n,e,r){var i,o,a,u,s=t.slice().sort(p),c=[n.length],l=t.length;void 0===e&&(e=3/8),void 0===r&&(r=3/8);for(var f=0;f<n.length;f++)u=d((o=l*(i=n[f])+(e+i*(1-e-r)))-(a=h.floor(d(o,1,l-1))),0,1),c[f]=(1-u)*s[a-1]+u*s[a];return c},s.percentile=function(t,n){var e=t.slice().sort(p),r=n*(e.length-1),i=parseInt(r),o=r-i;return i+1<e.length?e[i]*(1-o)+e[i+1]*o:e[i]},s.percentileOfScore=function(t,n,e){var r,i=0,o=t.length,a=!1;"strict"===e&&(a=!0);for(var u=0;u<o;u++)r=t[u],(a&&r<n||!a&&r<=n)&&i++;return i/o},s.histogram=function(t,n){for(var e=s.min(t),r=n||4,i=(s.max(t)-e)/r,o=t.length,a=(n=[],0);a<r;a++)n[a]=0;for(a=0;a<o;a++)n[h.min(h.floor((t[a]-e)/i),r-1)]+=1;return n},s.covariance=function(t,n){for(var e=s.mean(t),r=s.mean(n),i=t.length,o=new Array(i),a=0;a<i;a++)o[a]=(t[a]-e)*(n[a]-r);return s.sum(o)/(i-1)},s.corrcoeff=function(t,n){return s.covariance(t,n)/s.stdev(t,1)/s.stdev(n,1)},s.spearmancoeff=function(t,n){return t=s.rank(t),n=s.rank(n),s.corrcoeff(t,n)},s.stanMoment=function(t,n){for(var e=s.mean(t),r=s.stdev(t),i=t.length,o=0,a=0;a<i;a++)o+=h.pow((t[a]-e)/r,n);return o/t.length},s.skewness=function(t){return s.stanMoment(t,3)},s.kurtosis=function(t){return s.stanMoment(t,4)-3};var l=s.prototype;!function(t){for(var n=0;n<t.length;n++)!function(o){l[o]=function(t,n){var e=[],r=0,i=this;if(c(t)&&(n=t,t=!1),n)return setTimeout(function(){n.call(i,l[o].call(i,t))}),this;if(1<this.length){for(i=!0===t?this:this.transpose();r<i.length;r++)e[r]=s[o](i[r]);return e}return s[o](this[0],t)}}(t[n])}("cumsum cumprod".split(" ")),function(t){for(var n=0;n<t.length;n++)!function(o){l[o]=function(t,n){var e=[],r=0,i=this;if(c(t)&&(n=t,t=!1),n)return setTimeout(function(){n.call(i,l[o].call(i,t))}),this;if(1<this.length){for("sumrow"!==o&&(i=!0===t?this:this.transpose());r<i.length;r++)e[r]=s[o](i[r]);return!0===t?s[o](s.utils.toVector(e)):e}return s[o](this[0],t)}}(t[n])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(t){for(var n=0;n<t.length;n++)!function(u){l[u]=function(){var t=[],n=0,e=this,r=Array.prototype.slice.call(arguments);if(c(r[r.length-1])){var i=r[r.length-1],o=r.slice(0,r.length-1);return setTimeout(function(){i.call(e,l[u].apply(e,o))}),this}i=void 0;var a=function(t){return s[u].apply(e,[t].concat(r))};if(1<this.length){for(e=e.transpose();n<e.length;n++)t[n]=a(e[n]);return t}return a(this[0])}}(t[n])}("quantiles percentileOfScore".split(" "))}(p,Math),g=p,m=Math,g.gammaln=function(t){var n,e,r,i=0,o=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],a=1.000000000190015;for(r=(e=n=t)+5.5,r-=(n+.5)*m.log(r);i<6;i++)a+=o[i]/++e;return m.log(2.5066282746310007*a/n)-r},g.gammafn=function(t){var n,e,r,i=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],o=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],a=!1,u=0,s=0,c=0,l=t;if(l<=0){if(!(r=l%1+36e-17))return 1/0;a=(1&l?-1:1)*m.PI/m.sin(m.PI*r),l=1-l}n=(e=l)<1?l++:(l-=u=(0|l)-1)-1;for(var f=0;f<8;++f)c=(c+i[f])*n,s=s*n+o[f];if(r=c/s+1,e<l)r/=e;else if(l<e)for(f=0;f<u;++f)r*=l,l++;return a&&(r=a/r),r},g.gammap=function(t,n){return g.lowRegGamma(t,n)*g.gammafn(t)},g.lowRegGamma=function(t,n){var e,r=g.gammaln(t),i=t,o=1/t,a=o,u=n+1-t,s=1/1e-30,c=1/u,l=c,f=1,h=-~(8.5*m.log(1<=t?t:1/t)+.4*t+17);if(n<0||t<=0)return NaN;if(n<t+1){for(;f<=h;f++)o+=a*=n/++i;return o*m.exp(-n+t*m.log(n)-r)}for(;f<=h;f++)l*=(c=1/(c=(e=-f*(f-t))*c+(u+=2)))*(s=u+e/s);return 1-l*m.exp(-n+t*m.log(n)-r)},g.factorialln=function(t){return t<0?NaN:g.gammaln(t+1)},g.factorial=function(t){return t<0?NaN:g.gammafn(t+1)},g.combination=function(t,n){return 170<t||170<n?m.exp(g.combinationln(t,n)):g.factorial(t)/g.factorial(n)/g.factorial(t-n)},g.combinationln=function(t,n){return g.factorialln(t)-g.factorialln(n)-g.factorialln(t-n)},g.permutation=function(t,n){return g.factorial(t)/g.factorial(t-n)},g.betafn=function(t,n){if(!(t<=0||n<=0))return 170<t+n?m.exp(g.betaln(t,n)):g.gammafn(t)*g.gammafn(n)/g.gammafn(t+n)},g.betaln=function(t,n){return g.gammaln(t)+g.gammaln(n)-g.gammaln(t+n)},g.betacf=function(t,n,e){var r,i,o,a,u=1e-30,s=1,c=n+e,l=n+1,f=n-1,h=1,p=1-c*t/l;for(m.abs(p)<u&&(p=u),a=p=1/p;s<=100&&(p=1+(i=s*(e-s)*t/((f+(r=2*s))*(n+r)))*p,m.abs(p)<u&&(p=u),h=1+i/h,m.abs(h)<u&&(h=u),a*=(p=1/p)*h,p=1+(i=-(n+s)*(c+s)*t/((n+r)*(l+r)))*p,m.abs(p)<u&&(p=u),h=1+i/h,m.abs(h)<u&&(h=u),a*=o=(p=1/p)*h,!(m.abs(o-1)<3e-7));s++);return a},g.gammapinv=function(t,n){var e,r,i,o,a,u,s=0,c=n-1,l=g.gammaln(n);if(1<=t)return m.max(100,n+100*m.sqrt(n));if(t<=0)return 0;for(e=1<n?(a=m.log(c),u=m.exp(c*(a-1)-l),o=t<.5?t:1-t,e=(2.30753+.27061*(r=m.sqrt(-2*m.log(o))))/(1+r*(.99229+.04481*r))-r,t<.5&&(e=-e),m.max(.001,n*m.pow(1-1/(9*n)-e/(3*m.sqrt(n)),3))):t<(r=1-n*(.253+.12*n))?m.pow(t/r,1/n):1-m.log(1-(t-r)/(1-r));s<12;s++){if(e<=0)return 0;if((e-=r=(i=(g.lowRegGamma(n,e)-t)/(r=1<n?u*m.exp(-(e-c)+c*(m.log(e)-a)):m.exp(-e+c*m.log(e)-l)))/(1-.5*m.min(1,i*((n-1)/e-1))))<=0&&(e=.5*(e+r)),m.abs(r)<1e-8*e)break}return e},g.erf=function(t){var n,e,r,i,o=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],a=o.length-1,u=!1,s=0,c=0;for(t<0&&(t=-t,u=!0),e=4*(n=2/(2+t))-2;0<a;a--)s=e*(r=s)-c+o[a],c=r;return i=n*m.exp(-t*t+.5*(o[0]+e*s)-c),u?i-1:1-i},g.erfc=function(t){return 1-g.erf(t)},g.erfcinv=function(t){var n,e,r,i,o=0;if(2<=t)return-100;if(t<=0)return 100;for(i=t<1?t:2-t,n=-.70711*((2.30753+.27061*(r=m.sqrt(-2*m.log(i/2))))/(1+r*(.99229+.04481*r))-r);o<2;o++)n+=(e=g.erfc(n)-i)/(1.1283791670955126*m.exp(-n*n)-n*e);return t<1?n:-n},g.ibetainv=function(t,n,e){var r,i,o,a,u,s,c,l,f,h,p=n-1,d=e-1,v=0;if(t<=0)return 0;if(1<=t)return 1;for(s=1<=n&&1<=e?(o=t<.5?t:1-t,s=(2.30753+.27061*(a=m.sqrt(-2*m.log(o))))/(1+a*(.99229+.04481*a))-a,t<.5&&(s=-s),c=(s*s-3)/6,l=2/(1/(2*n-1)+1/(2*e-1)),f=s*m.sqrt(c+l)/l-(1/(2*e-1)-1/(2*n-1))*(c+5/6-2/(3*l)),n/(n+e*m.exp(2*f))):(r=m.log(n/(n+e)),i=m.log(e/(n+e)),t<(a=m.exp(n*r)/n)/(f=a+(u=m.exp(e*i)/e))?m.pow(n*f*t,1/n):1-m.pow(e*f*(1-t),1/e)),h=-g.gammaln(n)-g.gammaln(e)+g.gammaln(n+e);v<10;v++){if(0===s||1===s)return s;if((s-=a=(u=(g.ibeta(s,n,e)-t)/(a=m.exp(p*m.log(s)+d*m.log(1-s)+h)))/(1-.5*m.min(1,u*(p/s-d/(1-s)))))<=0&&(s=.5*(s+a)),1<=s&&(s=.5*(s+a+1)),m.abs(a)<1e-8*s&&0<v)break}return s},g.ibeta=function(t,n,e){var r=0===t||1===t?0:m.exp(g.gammaln(n+e)-g.gammaln(n)-g.gammaln(e)+n*m.log(t)+e*m.log(1-t));return!(t<0||1<t)&&(t<(n+1)/(n+e+2)?r*g.betacf(t,n,e)/n:1-r*g.betacf(1-t,e,n)/e)},g.randn=function(t,n){var e,r,i,o,a;if(n||(n=t),t)return g.create(t,n,function(){return g.randn()});for(;e=m.random(),r=1.7156*(m.random()-.5),.27597<(a=(i=e-.449871)*i+(o=m.abs(r)+.386595)*(.196*o-.25472*i))&&(.27846<a||r*r>-4*m.log(e)*e*e););return r/e},g.randg=function(t,n,e){var r,i,o,a,u,s,c=t;if(e||(e=n),t||(t=1),n)return(s=g.zeros(n,e)).alter(function(){return g.randg(t)}),s;t<1&&(t+=1),r=t-1/3,i=1/m.sqrt(9*r);do{for(;(a=1+i*(u=g.randn()))<=0;);a*=a*a,o=m.random()}while(o>1-.331*m.pow(u,4)&&m.log(o)>.5*u*u+r*(1-a+m.log(a)));if(t==c)return r*a;for(;0===(o=m.random()););return m.pow(o,1/c)*r*a},function(t){for(var n=0;n<t.length;n++)!function(n){g.fn[n]=function(){return g(g.map(this,function(t){return g[n](t)}))}}(t[n])}("gammaln gammafn factorial factorialln".split(" ")),function(t){for(var n=0;n<t.length;n++)!function(t){g.fn[t]=function(){return g(g[t].apply(null,arguments))}}(t[n])}("randn".split(" ")),function(_,k){function y(t,n,e){var r=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],i=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],o=.5*t;if(8<=o)return 1;var a,u=2*_.normal.cdf(o,0,1,1,0)-1;u=u>=k.exp(-50/e)?k.pow(u,e):0;for(var s=o,c=(8-o)/(a=3<t?2:3),l=s+c,f=0,h=e-1,p=1;p<=a;p++){for(var d=0,v=.5*(l+s),g=.5*(l-s),m=1;m<=12;m++){var y,b=v+g*(6<m?r[(y=12-m+1)-1]:-r[(y=m)-1]),w=b*b;if(60<w)break;var x=.5*(2*_.normal.cdf(b,0,1,1,0))-.5*(2*_.normal.cdf(b,t,1,1,0));x>=k.exp(-30/h)&&(d+=x=i[y-1]*k.exp(-.5*w)*k.pow(x,h))}f+=d*=2*g*e/k.sqrt(2*k.PI),s=l,l+=c}return(u+=f)<=k.exp(-30/n)?0:1<=(u=k.pow(u,n))?1:u}!function(t){for(var n=0;n<t.length;n++)!function(o){_[o]=function(t,n,e){return this instanceof arguments.callee?(this._a=t,this._b=n,this._c=e,this):new arguments.callee(t,n,e)},_.fn[o]=function(t,n,e){var r=_[o](t,n,e);return r.data=this,r},_[o].prototype.sample=function(t){var n=this._a,e=this._b,r=this._c;return t?_.alter(t,function(){return _[o].sample(n,e,r)}):_[o].sample(n,e,r)},function(t){for(var n=0;n<t.length;n++)!function(i){_[o].prototype[i]=function(t){var n=this._a,e=this._b,r=this._c;return t||0===t||(t=this.data),"number"!=typeof t?_.fn.map.call(t,function(t){return _[o][i](t,n,e,r)}):_[o][i](t,n,e,r)}}(t[n])}("pdf cdf inv".split(" ")),function(t){for(var n=0;n<t.length;n++)!function(t){_[o].prototype[t]=function(){return _[o][t](this._a,this._b,this._c)}}(t[n])}("mean median mode variance".split(" "))}(t[n])}("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),_.extend(_.beta,{pdf:function(t,n,e){return 1<t||t<0?0:1==n&&1==e?1:n<512&&e<512?k.pow(t,n-1)*k.pow(1-t,e-1)/_.betafn(n,e):k.exp((n-1)*k.log(t)+(e-1)*k.log(1-t)-_.betaln(n,e))},cdf:function(t,n,e){return 1<t||t<0?1*(1<t):_.ibeta(t,n,e)},inv:function(t,n,e){return _.ibetainv(t,n,e)},mean:function(t,n){return t/(t+n)},median:function(t,n){return _.ibetainv(.5,t,n)},mode:function(t,n){return(t-1)/(t+n-2)},sample:function(t,n){var e=_.randg(t);return e/(e+_.randg(n))},variance:function(t,n){return t*n/(k.pow(t+n,2)*(t+n+1))}}),_.extend(_.centralF,{pdf:function(t,n,e){var r;return t<0?0:n<=2?0===t&&n<2?1/0:0===t&&2===n?1:1/_.betafn(n/2,e/2)*k.pow(n/e,n/2)*k.pow(t,n/2-1)*k.pow(1+n/e*t,-(n+e)/2):(r=n*t/(e+t*n),n*(e/(e+t*n))/2*_.binomial.pdf((n-2)/2,(n+e-2)/2,r))},cdf:function(t,n,e){return t<0?0:_.ibeta(n*t/(n*t+e),n/2,e/2)},inv:function(t,n,e){return e/(n*(1/_.ibetainv(t,n/2,e/2)-1))},mean:function(t,n){return 2<n?n/(n-2):void 0},mode:function(t,n){return 2<t?n*(t-2)/(t*(n+2)):void 0},sample:function(t,n){return 2*_.randg(t/2)/t/(2*_.randg(n/2)/n)},variance:function(t,n){if(!(n<=4))return 2*n*n*(t+n-2)/(t*(n-2)*(n-2)*(n-4))}}),_.extend(_.cauchy,{pdf:function(t,n,e){return e<0?0:e/(k.pow(t-n,2)+k.pow(e,2))/k.PI},cdf:function(t,n,e){return k.atan((t-n)/e)/k.PI+.5},inv:function(t,n,e){return n+e*k.tan(k.PI*(t-.5))},median:function(t,n){return t},mode:function(t,n){return t},sample:function(t,n){return _.randn()*k.sqrt(1/(2*_.randg(.5)))*n+t}}),_.extend(_.chisquare,{pdf:function(t,n){return t<0?0:0===t&&2===n?.5:k.exp((n/2-1)*k.log(t)-t/2-n/2*k.log(2)-_.gammaln(n/2))},cdf:function(t,n){return t<0?0:_.lowRegGamma(n/2,t/2)},inv:function(t,n){return 2*_.gammapinv(t,.5*n)},mean:function(t){return t},median:function(t){return t*k.pow(1-2/(9*t),3)},mode:function(t){return 0<t-2?t-2:0},sample:function(t){return 2*_.randg(t/2)},variance:function(t){return 2*t}}),_.extend(_.exponential,{pdf:function(t,n){return t<0?0:n*k.exp(-n*t)},cdf:function(t,n){return t<0?0:1-k.exp(-n*t)},inv:function(t,n){return-k.log(1-t)/n},mean:function(t){return 1/t},median:function(t){return 1/t*k.log(2)},mode:function(t){return 0},sample:function(t){return-1/t*k.log(k.random())},variance:function(t){return k.pow(t,-2)}}),_.extend(_.gamma,{pdf:function(t,n,e){return t<0?0:0===t&&1===n?1/e:k.exp((n-1)*k.log(t)-t/e-_.gammaln(n)-n*k.log(e))},cdf:function(t,n,e){return t<0?0:_.lowRegGamma(n,t/e)},inv:function(t,n,e){return _.gammapinv(t,n)*e},mean:function(t,n){return t*n},mode:function(t,n){if(1<t)return(t-1)*n},sample:function(t,n){return _.randg(t)*n},variance:function(t,n){return t*n*n}}),_.extend(_.invgamma,{pdf:function(t,n,e){return t<=0?0:k.exp(-(n+1)*k.log(t)-e/t-_.gammaln(n)+n*k.log(e))},cdf:function(t,n,e){return t<=0?0:1-_.lowRegGamma(n,e/t)},inv:function(t,n,e){return e/_.gammapinv(1-t,n)},mean:function(t,n){return 1<t?n/(t-1):void 0},mode:function(t,n){return n/(t+1)},sample:function(t,n){return n/_.randg(t)},variance:function(t,n){if(!(t<=2))return n*n/((t-1)*(t-1)*(t-2))}}),_.extend(_.kumaraswamy,{pdf:function(t,n,e){return 0===t&&1===n?e:1===t&&1===e?n:k.exp(k.log(n)+k.log(e)+(n-1)*k.log(t)+(e-1)*k.log(1-k.pow(t,n)))},cdf:function(t,n,e){return t<0?0:1<t?1:1-k.pow(1-k.pow(t,n),e)},inv:function(t,n,e){return k.pow(1-k.pow(1-t,1/e),1/n)},mean:function(t,n){return n*_.gammafn(1+1/t)*_.gammafn(n)/_.gammafn(1+1/t+n)},median:function(t,n){return k.pow(1-k.pow(2,-1/n),1/t)},mode:function(t,n){if(1<=t&&1<=n&&1!==t&&1!==n)return k.pow((t-1)/(t*n-1),1/t)},variance:function(t,n){throw new Error("variance not yet implemented")}}),_.extend(_.lognormal,{pdf:function(t,n,e){return t<=0?0:k.exp(-k.log(t)-.5*k.log(2*k.PI)-k.log(e)-k.pow(k.log(t)-n,2)/(2*e*e))},cdf:function(t,n,e){return t<0?0:.5+.5*_.erf((k.log(t)-n)/k.sqrt(2*e*e))},inv:function(t,n,e){return k.exp(-1.4142135623730951*e*_.erfcinv(2*t)+n)},mean:function(t,n){return k.exp(t+n*n/2)},median:function(t,n){return k.exp(t)},mode:function(t,n){return k.exp(t-n*n)},sample:function(t,n){return k.exp(_.randn()*n+t)},variance:function(t,n){return(k.exp(n*n)-1)*k.exp(2*t+n*n)}}),_.extend(_.noncentralt,{pdf:function(t,n,e){return k.abs(e)<1e-14?_.studentt.pdf(t,n):k.abs(t)<1e-14?k.exp(_.gammaln((n+1)/2)-e*e/2-.5*k.log(k.PI*n)-_.gammaln(n/2)):n/t*(_.noncentralt.cdf(t*k.sqrt(1+2/n),n+2,e)-_.noncentralt.cdf(t,n,e))},cdf:function(t,n,e){if(k.abs(e)<1e-14)return _.studentt.cdf(t,n);var r=!1;t<0&&(r=!0,e=-e);for(var i=_.normal.cdf(-e,0,1),o=1e-14+1,a=o,u=t*t/(t*t+n),s=0,c=k.exp(-e*e/2),l=k.exp(-e*e/2-.5*k.log(2)-_.gammaln(1.5))*e;s<200||1e-14<a||1e-14<o;)a=o,0<s&&(c*=e*e/(2*s),l*=e*e/(2*(s+.5))),i+=.5*(o=c*_.beta.cdf(u,s+.5,n/2)+l*_.beta.cdf(u,s+1,n/2)),s++;return r?1-i:i}}),_.extend(_.normal,{pdf:function(t,n,e){return k.exp(-.5*k.log(2*k.PI)-k.log(e)-k.pow(t-n,2)/(2*e*e))},cdf:function(t,n,e){return.5*(1+_.erf((t-n)/k.sqrt(2*e*e)))},inv:function(t,n,e){return-1.4142135623730951*e*_.erfcinv(2*t)+n},mean:function(t,n){return t},median:function(t,n){return t},mode:function(t,n){return t},sample:function(t,n){return _.randn()*n+t},variance:function(t,n){return n*n}}),_.extend(_.pareto,{pdf:function(t,n,e){return t<n?0:e*k.pow(n,e)/k.pow(t,e+1)},cdf:function(t,n,e){return t<n?0:1-k.pow(n/t,e)},inv:function(t,n,e){return n/k.pow(1-t,1/e)},mean:function(t,n){if(!(n<=1))return n*k.pow(t,n)/(n-1)},median:function(t,n){return t*(n*k.SQRT2)},mode:function(t,n){return t},variance:function(t,n){if(!(n<=2))return t*t*n/(k.pow(n-1,2)*(n-2))}}),_.extend(_.studentt,{pdf:function(t,n){return n=1e100<n?1e100:n,1/(k.sqrt(n)*_.betafn(.5,n/2))*k.pow(1+t*t/n,-(n+1)/2)},cdf:function(t,n){var e=n/2;return _.ibeta((t+k.sqrt(t*t+n))/(2*k.sqrt(t*t+n)),e,e)},inv:function(t,n){var e=_.ibetainv(2*k.min(t,1-t),.5*n,.5);return e=k.sqrt(n*(1-e)/e),.5<t?e:-e},mean:function(t){return 1<t?0:void 0},median:function(t){return 0},mode:function(t){return 0},sample:function(t){return _.randn()*k.sqrt(t/(2*_.randg(t/2)))},variance:function(t){return 2<t?t/(t-2):1<t?1/0:void 0}}),_.extend(_.weibull,{pdf:function(t,n,e){return t<0||n<0||e<0?0:e/n*k.pow(t/n,e-1)*k.exp(-k.pow(t/n,e))},cdf:function(t,n,e){return t<0?0:1-k.exp(-k.pow(t/n,e))},inv:function(t,n,e){return n*k.pow(-k.log(1-t),1/e)},mean:function(t,n){return t*_.gammafn(1+1/n)},median:function(t,n){return t*k.pow(k.log(2),1/n)},mode:function(t,n){return n<=1?0:t*k.pow((n-1)/n,1/n)},sample:function(t,n){return t*k.pow(-k.log(k.random()),1/n)},variance:function(t,n){return t*t*_.gammafn(1+2/n)-k.pow(_.weibull.mean(t,n),2)}}),_.extend(_.uniform,{pdf:function(t,n,e){return t<n||e<t?0:1/(e-n)},cdf:function(t,n,e){return t<n?0:t<e?(t-n)/(e-n):1},inv:function(t,n,e){return n+t*(e-n)},mean:function(t,n){return.5*(t+n)},median:function(t,n){return _.mean(t,n)},mode:function(t,n){throw new Error("mode is not yet implemented")},sample:function(t,n){return t/2+n/2+(n/2-t/2)*(2*k.random()-1)},variance:function(t,n){return k.pow(n-t,2)/12}}),_.extend(_.binomial,{pdf:function(t,n,e){return 0===e||1===e?n*e===t?1:0:_.combination(n,t)*k.pow(e,t)*k.pow(1-e,n-t)},cdf:function(t,n,e){var r=[],i=0;if(t<0)return 0;if(t<n){for(;i<=t;i++)r[i]=_.binomial.pdf(i,n,e);return _.sum(r)}return 1}}),_.extend(_.negbin,{pdf:function(t,n,e){return t===t>>>0&&(t<0?0:_.combination(t+n-1,n-1)*k.pow(1-e,t)*k.pow(e,n))},cdf:function(t,n,e){var r=0,i=0;if(t<0)return 0;for(;i<=t;i++)r+=_.negbin.pdf(i,n,e);return r}}),_.extend(_.hypgeom,{pdf:function(t,n,e,r){if(t!=t|0)return!1;if(t<0||t<e-(n-r))return 0;if(r<t||e<t)return 0;if(n<2*e)return n<2*r?_.hypgeom.pdf(n-e-r+t,n,n-e,n-r):_.hypgeom.pdf(r-t,n,n-e,r);if(n<2*r)return _.hypgeom.pdf(e-t,n,e,n-r);if(e<r)return _.hypgeom.pdf(t,n,r,e);for(var i=1,o=0,a=0;a<t;a++){for(;1<i&&o<r;)i*=1-e/(n-o),o++;i*=(r-a)*(e-a)/((a+1)*(n-e-r+a+1))}for(;o<r;o++)i*=1-e/(n-o);return k.min(1,k.max(0,i))},cdf:function(t,n,e,r){if(t<0||t<e-(n-r))return 0;if(r<=t||e<=t)return 1;if(n<2*e)return n<2*r?_.hypgeom.cdf(n-e-r+t,n,n-e,n-r):1-_.hypgeom.cdf(r-t-1,n,n-e,r);if(n<2*r)return 1-_.hypgeom.cdf(e-t-1,n,e,n-r);if(e<r)return _.hypgeom.cdf(t,n,r,e);for(var i=1,o=1,a=0,u=0;u<t;u++){for(;1<i&&a<r;){var s=1-e/(n-a);o*=s,i*=s,a++}i+=o*=(r-u)*(e-u)/((u+1)*(n-e-r+u+1))}for(;a<r;a++)i*=1-e/(n-a);return k.min(1,k.max(0,i))}}),_.extend(_.poisson,{pdf:function(t,n){return n<0||t%1!=0||t<0?0:k.pow(n,t)*k.exp(-n)/_.factorial(t)},cdf:function(t,n){var e=[],r=0;if(t<0)return 0;for(;r<=t;r++)e.push(_.poisson.pdf(r,n));return _.sum(e)},mean:function(t){return t},variance:function(t){return t},sample:function(t){for(var n=1,e=0,r=k.exp(-t);e++,r<(n*=k.random()););return e-1}}),_.extend(_.triangular,{pdf:function(t,n,e,r){return e<=n||r<n||e<r?NaN:t<n||e<t?0:t<r?2*(t-n)/((e-n)*(r-n)):t===r?2/(e-n):2*(e-t)/((e-n)*(e-r))},cdf:function(t,n,e,r){return e<=n||r<n||e<r?NaN:t<=n?0:e<=t?1:t<=r?k.pow(t-n,2)/((e-n)*(r-n)):1-k.pow(e-t,2)/((e-n)*(e-r))},inv:function(t,n,e,r){return e<=n||r<n||e<r?NaN:t<=(r-n)/(e-n)?n+(e-n)*k.sqrt(t*((r-n)/(e-n))):n+(e-n)*(1-k.sqrt((1-t)*(1-(r-n)/(e-n))))},mean:function(t,n,e){return(t+n+e)/3},median:function(t,n,e){return e<=(t+n)/2?n-k.sqrt((n-t)*(n-e))/k.sqrt(2):(t+n)/2<e?t+k.sqrt((n-t)*(e-t))/k.sqrt(2):void 0},mode:function(t,n,e){return e},sample:function(t,n,e){var r=k.random();return r<(e-t)/(n-t)?t+k.sqrt(r*(n-t)*(e-t)):n-k.sqrt((1-r)*(n-t)*(n-e))},variance:function(t,n,e){return(t*t+n*n+e*e-t*n-t*e-n*e)/18}}),_.extend(_.arcsine,{pdf:function(t,n,e){return e<=n?NaN:t<=n||e<=t?0:2/k.PI*k.pow(k.pow(e-n,2)-k.pow(2*t-n-e,2),-.5)},cdf:function(t,n,e){return t<n?0:t<e?2/k.PI*k.asin(k.sqrt((t-n)/(e-n))):1},inv:function(t,n,e){return n+(.5-.5*k.cos(k.PI*t))*(e-n)},mean:function(t,n){return n<=t?NaN:(t+n)/2},median:function(t,n){return n<=t?NaN:(t+n)/2},mode:function(t,n){throw new Error("mode is not yet implemented")},sample:function(t,n){return(t+n)/2+(n-t)/2*k.sin(2*k.PI*_.uniform.sample(0,1))},variance:function(t,n){return n<=t?NaN:k.pow(n-t,2)/8}}),_.extend(_.laplace,{pdf:function(t,n,e){return e<=0?0:k.exp(-k.abs(t-n)/e)/(2*e)},cdf:function(t,n,e){return e<=0?0:t<n?.5*k.exp((t-n)/e):1-.5*k.exp(-(t-n)/e)},mean:function(t,n){return t},median:function(t,n){return t},mode:function(t,n){return t},variance:function(t,n){return 2*n*n},sample:function(t,n){var e,r=k.random()-.5;return t-n*((e=r)/k.abs(e))*k.log(1-2*k.abs(r))}}),_.extend(_.tukey,{cdf:function(t,n,e){var r=n,i=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],o=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(t<=0)return 0;if(e<2||r<2)return NaN;if(!Number.isFinite(t))return 1;if(25e3<e)return y(t,1,r);var a,u=.5*e,s=u*k.log(e)-e*k.log(2)-_.gammaln(u),c=u-1,l=.25*e;a=e<=100?1:e<=800?.5:e<=5e3?.25:.125,s+=k.log(a);for(var f=0,h=1;h<=50;h++){for(var p=0,d=(2*h-1)*a,v=1;v<=16;v++){var g,m;if(-30<=(m=8<v?(g=v-8-1,s+c*k.log(d+i[g]*a)-(i[g]*a+d)*l):(g=v-1,s+c*k.log(d-i[g]*a)+(i[g]*a-d)*l)))p+=y(8<v?t*k.sqrt(.5*(i[g]*a+d)):t*k.sqrt(.5*(-i[g]*a+d)),1,r)*o[g]*k.exp(m)}if(1<=h*a&&p<=1e-14)break;f+=p}if(1e-14<p)throw new Error("tukey.cdf failed to converge");return 1<f&&(f=1),f},inv:function(t,n,e){if(e<2||n<2)return NaN;if(t<0||1<t)return NaN;if(0===t)return 0;if(1===t)return 1/0;var r,i=function(t,n,e){var r=.5-.5*t,i=k.sqrt(k.log(1/(r*r))),o=i+((((-453642210148e-16*i-.204231210125)*i-.342242088547)*i-1)*i+.322232421088)/((((.0038560700634*i+.10353775285)*i+.531103462366)*i+.588581570495)*i+.099348462606);e<120&&(o+=(o*o*o+o)/e/4);var a=.8832-.2368*o;return e<120&&(a+=-1.214/e+1.208*o/e),o*(a*k.log(n-1)+1.4142)}(t,n,e),o=_.tukey.cdf(i,n,e)-t;r=0<o?k.max(0,i-1):i+1;for(var a,u=_.tukey.cdf(r,n,e)-t,s=1;s<50;s++){if(a=r-u*(r-i)/(u-o),o=u,i=r,a<0&&(a=0,u=-t),u=_.tukey.cdf(a,n,e)-t,r=a,k.abs(r-i)<1e-4)return a}throw new Error("tukey.inv failed to converge")}})}(p,Math),function(g,v){var u,s,o=Array.prototype.push,n=g.utils.isArray;function l(t){return n(t)||t instanceof g}g.extend({add:function(t,r){return l(r)?(l(r[0])||(r=[r]),g.map(t,function(t,n,e){return t+r[n][e]})):g.map(t,function(t){return t+r})},subtract:function(t,r){return l(r)?(l(r[0])||(r=[r]),g.map(t,function(t,n,e){return t-r[n][e]||0})):g.map(t,function(t){return t-r})},divide:function(t,n){return l(n)?(l(n[0])||(n=[n]),g.multiply(t,g.inv(n))):g.map(t,function(t){return t/n})},multiply:function(t,n){var e,r,i,o,a,u,s,c;if(void 0===t.length&&void 0===n.length)return t*n;if(a=t.length,u=t[0].length,s=g.zeros(a,i=l(n)?n[0].length:u),c=0,l(n)){for(;c<i;c++)for(e=0;e<a;e++){for(r=o=0;r<u;r++)o+=t[e][r]*n[r][c];s[e][c]=o}return 1===a&&1===c?s[0][0]:s}return g.map(t,function(t){return t*n})},outer:function(t,n){return g.multiply(t.map(function(t){return[t]}),[n])},dot:function(t,n){l(t[0])||(t=[t]),l(n[0])||(n=[n]);for(var e,r,i=1===t[0].length&&1!==t.length?g.transpose(t):t,o=1===n[0].length&&1!==n.length?g.transpose(n):n,a=[],u=0,s=i.length,c=i[0].length;u<s;u++){for(a[u]=[],r=e=0;r<c;r++)e+=i[u][r]*o[u][r];a[u]=e}return 1===a.length?a[0]:a},pow:function(t,n){return g.map(t,function(t){return v.pow(t,n)})},exp:function(t){return g.map(t,function(t){return v.exp(t)})},log:function(t){return g.map(t,function(t){return v.log(t)})},abs:function(t){return g.map(t,function(t){return v.abs(t)})},norm:function(t,n){var e=0,r=0;for(isNaN(n)&&(n=2),l(t[0])&&(t=t[0]);r<t.length;r++)e+=v.pow(v.abs(t[r]),n);return v.pow(e,1/n)},angle:function(t,n){return v.acos(g.dot(t,n)/(g.norm(t)*g.norm(n)))},aug:function(t,n){for(var e=[],r=0;r<t.length;r++)e.push(t[r].slice());for(r=0;r<e.length;r++)o.apply(e[r],n[r]);return e},inv:function(t){for(var n,e=t.length,r=t[0].length,i=g.identity(e,r),o=g.gauss_jordan(t,i),a=[],u=0;u<e;u++)for(a[u]=[],n=r;n<o[0].length;n++)a[u][n-r]=o[u][n];return a},det:function(t){var n,e=t.length,r=2*e,i=new Array(r),o=e-1,a=r-1,u=o-e+1,s=a,c=0,l=0;if(2===e)return t[0][0]*t[1][1]-t[0][1]*t[1][0];for(;c<r;c++)i[c]=1;for(c=0;c<e;c++){for(n=0;n<e;n++)i[u<0?u+e:u]*=t[c][n],i[s<e?s+e:s]*=t[c][n],u++,s--;u=--o-e+1,s=--a}for(c=0;c<e;c++)l+=i[c];for(;c<r;c++)l-=i[c];return l},gauss_elimination:function(t,n){var e,r,i,o,a=0,u=0,s=t.length,c=t[0].length,l=1,f=0,h=[];e=(t=g.aug(t,n))[0].length;for(a=0;a<s;a++){for(r=t[a][a],o=(u=a)+1;o<c;o++)r<v.abs(t[o][a])&&(r=t[o][a],u=o);if(u!=a)for(o=0;o<e;o++)i=t[a][o],t[a][o]=t[u][o],t[u][o]=i;for(u=a+1;u<s;u++)for(l=t[u][a]/t[a][a],o=a;o<e;o++)t[u][o]=t[u][o]-l*t[a][o]}for(a=s-1;0<=a;a--){for(f=0,u=a+1;u<=s-1;u++)f+=h[u]*t[a][u];h[a]=(t[a][e-1]-f)/t[a][a]}return h},gauss_jordan:function(t,n){for(var e=g.aug(t,n),r=e.length,i=e[0].length,o=0,a=0;a<r;a++){for(var u=a,s=a+1;s<r;s++)v.abs(e[s][a])>v.abs(e[u][a])&&(u=s);var c=e[a];e[a]=e[u],e[u]=c;for(s=a+1;s<r;s++){o=e[s][a]/e[a][a];for(var l=a;l<i;l++)e[s][l]-=e[a][l]*o}}for(a=r-1;0<=a;a--){o=e[a][a];for(s=0;s<a;s++)for(l=i-1;a-1<l;l--)e[s][l]-=e[a][l]*e[s][a]/o;e[a][a]/=o;for(l=r;l<i;l++)e[a][l]/=o}return e},triaUpSolve:function(e,t){var r,i=e[0].length,o=g.zeros(1,i)[0],n=!1;return null!=t[0].length&&(t=t.map(function(t){return t[0]}),n=!0),g.arange(i-1,-1,-1).forEach(function(n){r=g.arange(n+1,i).map(function(t){return o[t]*e[n][t]}),o[n]=(t[n]-g.sum(r))/e[n][n]}),n?o.map(function(t){return[t]}):o},triaLowSolve:function(e,t){var r,n=e[0].length,i=g.zeros(1,n)[0],o=!1;return null!=t[0].length&&(t=t.map(function(t){return t[0]}),o=!0),g.arange(n).forEach(function(n){r=g.arange(n).map(function(t){return e[n][t]*i[t]}),i[n]=(t[n]-g.sum(r))/e[n][n]}),o?i.map(function(t){return[t]}):i},lu:function(r){var t,n=r.length,o=g.identity(n),a=g.zeros(r.length,r[0].length);return g.arange(n).forEach(function(t){a[0][t]=r[0][t]}),g.arange(1,n).forEach(function(e){g.arange(e).forEach(function(n){t=g.arange(n).map(function(t){return o[e][t]*a[t][n]}),o[e][n]=(r[e][n]-g.sum(t))/a[n][n]}),g.arange(e,n).forEach(function(n){t=g.arange(e).map(function(t){return o[e][t]*a[t][n]}),a[e][n]=r[i][n]-g.sum(t)})}),[o,a]},cholesky:function(t){var r,n=t.length,i=g.zeros(t.length,t[0].length);return g.arange(n).forEach(function(e){r=g.arange(e).map(function(t){return v.pow(i[e][t],2)}),i[e][e]=v.sqrt(t[e][e]-g.sum(r)),g.arange(e+1,n).forEach(function(n){r=g.arange(e).map(function(t){return i[e][t]*i[n][t]}),i[n][e]=(t[e][n]-g.sum(r))/i[e][e]})}),i},gauss_jacobi:function(t,n,e,r){for(var i,o,a,u,s=0,c=0,l=t.length,f=[],h=[],p=[];s<l;s++)for(f[s]=[],h[s]=[],p[s]=[],c=0;c<l;c++)c<s?(f[s][c]=t[s][c],h[s][c]=p[s][c]=0):f[s][c]=s<c?(h[s][c]=t[s][c],p[s][c]=0):(p[s][c]=t[s][c],h[s][c]=0);for(a=g.multiply(g.multiply(g.inv(p),g.add(f,h)),-1),o=g.multiply(g.inv(p),n),i=e,u=g.add(g.multiply(a,e),o),s=2;v.abs(g.norm(g.subtract(u,i)))>r;)i=u,u=g.add(g.multiply(a,i),o),s++;return u},gauss_seidel:function(t,n,e,r){for(var i,o,a,u,s,c=0,l=t.length,f=[],h=[],p=[];c<l;c++)for(f[c]=[],h[c]=[],p[c]=[],i=0;i<l;i++)i<c?(f[c][i]=t[c][i],h[c][i]=p[c][i]=0):f[c][i]=c<i?(h[c][i]=t[c][i],p[c][i]=0):(p[c][i]=t[c][i],h[c][i]=0);for(u=g.multiply(g.multiply(g.inv(g.add(p,f)),h),-1),a=g.multiply(g.inv(g.add(p,f)),n),o=e,s=g.add(g.multiply(u,e),a),c=2;v.abs(g.norm(g.subtract(s,o)))>r;)o=s,s=g.add(g.multiply(u,o),a),c+=1;return s},SOR:function(t,n,e,r,i){for(var o,a,u,s,c,l=0,f=t.length,h=[],p=[],d=[];l<f;l++)for(h[l]=[],p[l]=[],d[l]=[],o=0;o<f;o++)o<l?(h[l][o]=t[l][o],p[l][o]=d[l][o]=0):h[l][o]=l<o?(p[l][o]=t[l][o],d[l][o]=0):(d[l][o]=t[l][o],p[l][o]=0);for(s=g.multiply(g.inv(g.add(d,g.multiply(h,i))),g.subtract(g.multiply(d,1-i),g.multiply(p,i))),u=g.multiply(g.multiply(g.inv(g.add(d,g.multiply(h,i))),n),i),a=e,c=g.add(g.multiply(s,e),u),l=2;v.abs(g.norm(g.subtract(c,a)))>r;)a=c,c=g.add(g.multiply(s,a),u),l++;return c},householder:function(t){for(var n,e,r,i,o=t.length,a=t[0].length,u=0,s=[],c=[];u<o-1;u++){for(n=0,i=u+1;i<a;i++)n+=t[i][u]*t[i][u];for(n=(0<t[u+1][u]?-1:1)*v.sqrt(n),e=v.sqrt((n*n-t[u+1][u]*n)/2),(s=g.zeros(o,1))[u+1][0]=(t[u+1][u]-n)/(2*e),r=u+2;r<o;r++)s[r][0]=t[r][u]/(2*e);c=g.subtract(g.identity(o,a),g.multiply(g.multiply(s,g.transpose(s)),2)),t=g.multiply(c,g.multiply(t,c))}return t},QR:(u=g.sum,s=g.arange,function(n){var t,e,i,o=n.length,a=n[0].length;for(n=g.copy(n),r=g.zeros(a,a),e=0;e<a;e++){for(r[e][e]=v.sqrt(u(s(o).map(function(t){return n[t][e]*n[t][e]}))),t=0;t<o;t++)n[t][e]=n[t][e]/r[e][e];for(i=e+1;i<a;i++)for(r[e][i]=u(s(o).map(function(t){return n[t][e]*n[t][i]})),t=0;t<o;t++)n[t][i]=n[t][i]-n[t][e]*r[e][i]}return[n,r]}),lstsq:function(t,n){var e=!1;void 0===n[0].length&&(n=n.map(function(t){return[t]}),e=!0);var u,r,s,i=g.QR(t),o=i[0],a=i[1],c=t[0].length,l=g.slice(o,{col:{end:c}}),f=g.slice(a,{row:{end:c}}),h=(u=f,r=(u=g.copy(u)).length,s=g.identity(r),g.arange(r-1,-1,-1).forEach(function(a){g.sliceAssign(s,{row:a},g.divide(g.slice(s,{row:a}),u[a][a])),g.sliceAssign(u,{row:a},g.divide(g.slice(u,{row:a}),u[a][a])),g.arange(a).forEach(function(t){var n=g.multiply(u[t][a],-1),e=g.slice(u,{row:t}),r=g.multiply(g.slice(u,{row:a}),n);g.sliceAssign(u,{row:t},g.add(e,r));var i=g.slice(s,{row:t}),o=g.multiply(g.slice(s,{row:a}),n);g.sliceAssign(s,{row:t},g.add(i,o))})}),s),p=g.transpose(l);void 0===p[0].length&&(p=[p]);var d=g.multiply(g.multiply(h,p),n);return void 0===d.length&&(d=[[d]]),e?d.map(function(t){return t[0]}):d},jacobi:function(t){for(var n,e,r,i,o,a,u=1,s=t.length,c=g.identity(s,s),l=[];1===u;){0,i=t[0][1],r=1;for(var f=e=0;f<s;f++)for(n=0;n<s;n++)f!=n&&i<v.abs(t[f][n])&&(i=v.abs(t[f][n]),e=f,r=n);o=t[e][e]===t[r][r]?0<t[e][r]?v.PI/4:-v.PI/4:v.atan(2*t[e][r]/(t[e][e]-t[r][r]))/2,(a=g.identity(s,s))[e][e]=v.cos(o),a[e][r]=-v.sin(o),a[r][e]=v.sin(o),a[r][r]=v.cos(o),c=g.multiply(c,a),t=g.multiply(g.multiply(g.inv(a),t),a),u=0;for(f=1;f<s;f++)for(n=1;n<s;n++)f!=n&&.001<v.abs(t[f][n])&&(u=1)}for(f=0;f<s;f++)l.push(t[f][f]);return[c,l]},rungekutta:function(t,n,e,r,i,o){var a,u,s;if(2===o)for(;r<=e;)i=i+((a=n*t(r,i))+(u=n*t(r+n,i+a)))/2,r+=n;if(4===o)for(;r<=e;)i=i+((a=n*t(r,i))+2*(u=n*t(r+n/2,i+a/2))+2*(s=n*t(r+n/2,i+u/2))+n*t(r+n,i+s))/6,r+=n;return i},romberg:function(t,n,e,r){for(var i,o,a,u,s,c=0,l=(e-n)/2,f=[],h=[],p=[];c<r/2;){for(s=t(n),a=n,u=0;a<=e;a+=l,u++)f[u]=a;for(i=f.length,a=1;a<i-1;a++)s+=(a%2!=0?4:2)*t(f[a]);s=l/3*(s+t(e)),p[c]=s,l/=2,c++}for(o=p.length,i=1;1!==o;){for(a=0;a<o-1;a++)h[a]=(v.pow(4,i)*p[a+1]-p[a])/(v.pow(4,i)-1);o=h.length,p=h,h=[],i++}return p},richardson:function(t,n,e,r){function i(t,n){for(var e,r=0,i=t.length;r<i;r++)t[r]===n&&(e=r);return e}t.length;for(var o,a,u,s,c,l=v.abs(e-t[i(t,e)+1]),f=0,h=[],p=[];l<=r;)o=i(t,e+r),a=i(t,e),h[f]=(n[o]-2*n[a]+n[2*a-o])/(r*r),r/=2,f++;for(s=h.length,u=1;1!=s;){for(c=0;c<s-1;c++)p[c]=(v.pow(4,u)*h[c+1]-h[c])/(v.pow(4,u)-1);s=p.length,h=p,p=[],u++}return h},simpson:function(t,n,e,r){for(var i,o=(e-n)/r,a=t(n),u=[],s=n,c=0,l=1;s<=e;s+=o,c++)u[c]=s;for(i=u.length;l<i-1;l++)a+=(l%2!=0?4:2)*t(u[l]);return o/3*(a+t(e))},hermite:function(t,n,e,r){for(var i,o=t.length,a=0,u=0,s=[],c=[],l=[],f=[];u<o;u++){for(s[u]=1,i=0;i<o;i++)u!=i&&(s[u]*=(r-t[i])/(t[u]-t[i]));for(i=c[u]=0;i<o;i++)u!=i&&(c[u]+=1/(t[u]-t[i]));l[u]=(1-2*(r-t[u])*c[u])*(s[u]*s[u]),f[u]=(r-t[u])*(s[u]*s[u]),a+=l[u]*n[u]+f[u]*e[u]}return a},lagrange:function(t,n,e){for(var r,i,o=0,a=0,u=t.length;a<u;a++){for(i=n[a],r=0;r<u;r++)a!=r&&(i*=(e-t[r])/(t[a]-t[r]));o+=i}return o},cubic_spline:function(t,n,e){for(var r,i,o=t.length,a=0,u=[],s=[],c=[],l=[],f=[],h=[];a<o-1;a++)l[a]=t[a+1]-t[a];c[0]=0;for(a=1;a<o-1;a++)c[a]=3/l[a]*(n[a+1]-n[a])-3/l[a-1]*(n[a]-n[a-1]);for(a=1;a<o-1;a++)u[a]=[],s[a]=[],u[a][a-1]=l[a-1],u[a][a]=2*(l[a-1]+l[a]),u[a][a+1]=l[a],s[a][0]=c[a];for(i=g.multiply(g.inv(u),s),r=0;r<o-1;r++)f[r]=(n[r+1]-n[r])/l[r]-l[r]*(i[r+1][0]+2*i[r][0])/3,h[r]=(i[r+1][0]-i[r][0])/(3*l[r]);for(r=0;r<o&&!(t[r]>e);r++);return n[r-=1]+(e-t[r])*f[r]+g.sq(e-t[r])*i[r]+(e-t[r])*g.sq(e-t[r])*h[r]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(t){var n,e,r,i,o,a=t.length,u=t[0].length,s=0,c=[],l=[],f=[],h=[],p=[],d=[],v=[];for(s=0;s<a;s++)c[s]=g.sum(t[s])/u;for(s=0;s<u;s++)for(p[s]=[],n=0;n<a;n++)p[s][n]=t[n][s]-c[n];p=g.transpose(p);for(s=0;s<a;s++)for(d[s]=[],n=0;n<a;n++)d[s][n]=g.dot([p[s]],[p[n]])/(u-1);o=(r=g.jacobi(d))[0],l=r[1],v=g.transpose(o);for(s=0;s<l.length;s++)for(n=s;n<l.length;n++)l[s]<l[n]&&(e=l[s],l[s]=l[n],l[n]=e,f=v[s],v[s]=v[n],v[n]=f);i=g.transpose(p);for(s=0;s<a;s++)for(h[s]=[],n=0;n<i.length;n++)h[s][n]=g.dot([v[s]],[i[n]]);return[t,l,v,h]}}),function(t){for(var n=0;n<t.length;n++)!function(r){g.fn[r]=function(t,n){var e=this;return n?(setTimeout(function(){n.call(e,g.fn[r].call(e,t))},15),this):"number"==typeof g[r](this,t)?g[r](this,t):g(g[r](this,t))}}(t[n])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(p,Math),function(c,l){var f=[].slice,a=c.utils.isNumber,e=c.utils.isArray;function o(t,n,e,r){if(1<t||1<e||t<=0||e<=0)throw new Error("Proportions should be greater than 0 and less than 1");var i=(t*n+e*r)/(n+r);return(t-e)/l.sqrt(i*(1-i)*(1/n+1/r))}c.extend({zscore:function(){var t=f.call(arguments);return a(t[1])?(t[0]-t[1])/t[2]:(t[0]-c.mean(t[1]))/c.stdev(t[1],t[2])},ztest:function(){var t,n=f.call(arguments);return e(n[1])?(t=c.zscore(n[0],n[1],n[3]),1===n[2]?c.normal.cdf(-l.abs(t),0,1):2*c.normal.cdf(-l.abs(t),0,1)):2<n.length?(t=c.zscore(n[0],n[1],n[2]),1===n[3]?c.normal.cdf(-l.abs(t),0,1):2*c.normal.cdf(-l.abs(t),0,1)):(t=n[0],1===n[1]?c.normal.cdf(-l.abs(t),0,1):2*c.normal.cdf(-l.abs(t),0,1))}}),c.extend(c.fn,{zscore:function(t,n){return(t-this.mean())/this.stdev(n)},ztest:function(t,n,e){var r=l.abs(this.zscore(t,e));return 1===n?c.normal.cdf(-r,0,1):2*c.normal.cdf(-r,0,1)}}),c.extend({tscore:function(){var t=f.call(arguments);return 4===t.length?(t[0]-t[1])/(t[2]/l.sqrt(t[3])):(t[0]-c.mean(t[1]))/(c.stdev(t[1],!0)/l.sqrt(t[1].length))},ttest:function(){var t,n=f.call(arguments);return 5===n.length?(t=l.abs(c.tscore(n[0],n[1],n[2],n[3])),1===n[4]?c.studentt.cdf(-t,n[3]-1):2*c.studentt.cdf(-t,n[3]-1)):a(n[1])?(t=l.abs(n[0]),1==n[2]?c.studentt.cdf(-t,n[1]-1):2*c.studentt.cdf(-t,n[1]-1)):(t=l.abs(c.tscore(n[0],n[1])),1==n[2]?c.studentt.cdf(-t,n[1].length-1):2*c.studentt.cdf(-t,n[1].length-1))}}),c.extend(c.fn,{tscore:function(t){return(t-this.mean())/(this.stdev(!0)/l.sqrt(this.cols()))},ttest:function(t,n){return 1===n?1-c.studentt.cdf(l.abs(this.tscore(t)),this.cols()-1):2*c.studentt.cdf(-l.abs(this.tscore(t)),this.cols()-1)}}),c.extend({anovafscore:function(){var t,n,e,r,i,o,a,u=f.call(arguments);if(1===u.length){i=new Array(u[0].length);for(var s=0;s<u[0].length;s++)i[s]=u[0][s];u=i}if(2===u.length)return c.variance(u[0])/c.variance(u[1]);n=new Array;for(s=0;s<u.length;s++)n=n.concat(u[s]);e=c.mean(n);for(s=t=0;s<u.length;s++)t+=u[s].length*l.pow(c.mean(u[s])-e,2);t/=u.length-1;for(s=o=0;s<u.length;s++)for(r=c.mean(u[s]),a=0;a<u[s].length;a++)o+=l.pow(u[s][a]-r,2);return t/(o/=n.length-u.length)},anovaftest:function(){var t,n,e,r=f.call(arguments);if(a(r[0]))return 1-c.centralF.cdf(r[0],r[1],r[2]);anovafscore=c.anovafscore(r),t=r.length-1;for(var i=e=0;i<r.length;i++)e+=r[i].length;return n=e-t-1,1-c.centralF.cdf(anovafscore,t,n)},ftest:function(t,n,e){return 1-c.centralF.cdf(t,n,e)}}),c.extend(c.fn,{anovafscore:function(){return c.anovafscore(this.toArray())},anovaftes:function(){for(var t=0,n=0;n<this.length;n++)t+=this[n].length;return c.ftest(this.anovafscore(),this.length-1,t-this.length)}}),c.extend({qscore:function(){var t,n,e,r,i,o=f.call(arguments);return i=a(o[0])?(t=o[0],n=o[1],e=o[2],r=o[3],o[4]):(t=c.mean(o[0]),n=c.mean(o[1]),e=o[0].length,r=o[1].length,o[2]),l.abs(t-n)/(i*l.sqrt((1/e+1/r)/2))},qtest:function(){var t,n=f.call(arguments),e=(n=3===n.length?(t=n[0],n.slice(1)):7===n.length?(t=c.qscore(n[0],n[1],n[2],n[3],n[4]),n.slice(5)):(t=c.qscore(n[0],n[1],n[2]),n.slice(3)))[0],r=n[1];return 1-c.tukey.cdf(t,r,e-r)},tukeyhsd:function(t){for(var n=c.pooledstdev(t),e=t.map(function(t){return c.mean(t)}),r=t.reduce(function(t,n){return t+n.length},0),i=[],o=0;o<t.length;++o)for(var a=o+1;a<t.length;++a){var u=c.qtest(e[o],e[a],t[o].length,t[a].length,n,r,t.length);i.push([[o,a],u])}return i}}),c.extend({normalci:function(){var t,n=f.call(arguments),e=new Array(2);return t=4===n.length?l.abs(c.normal.inv(n[1]/2,0,1)*n[2]/l.sqrt(n[3])):l.abs(c.normal.inv(n[1]/2,0,1)*c.stdev(n[2])/l.sqrt(n[2].length)),e[0]=n[0]-t,e[1]=n[0]+t,e},tci:function(){var t,n=f.call(arguments),e=new Array(2);return t=4===n.length?l.abs(c.studentt.inv(n[1]/2,n[3]-1)*n[2]/l.sqrt(n[3])):l.abs(c.studentt.inv(n[1]/2,n[2].length-1)*c.stdev(n[2],!0)/l.sqrt(n[2].length)),e[0]=n[0]-t,e[1]=n[0]+t,e},significant:function(t,n){return t<n}}),c.extend(c.fn,{normalci:function(t,n){return c.normalci(t,n,this.toArray())},tci:function(t,n){return c.tci(t,n,this.toArray())}}),c.extend(c.fn,{oneSidedDifferenceOfProportions:function(t,n,e,r){var i=o(t,n,e,r);return c.ztest(i,1)},twoSidedDifferenceOfProportions:function(t,n,e,r){var i=o(t,n,e,r);return c.ztest(i,2)}})}(p,Math),p.models=function(){function f(t,n){var e=t.length,r=n[0].length-1,i=e-r-1,o=p.lstsq(n,t),a=p.multiply(n,o.map(function(t){return[t]})).map(function(t){return t[0]}),u=p.subtract(t,a),s=p.mean(t),c=p.sum(a.map(function(t){return Math.pow(t-s,2)})),l=p.sum(t.map(function(t,n){return Math.pow(t-a[n],2)})),f=c+l;return{exog:n,endog:t,nobs:e,df_model:r,df_resid:i,coef:o,predict:a,resid:u,ybar:s,SST:f,SSE:c,SSR:l,R2:c/f}}function h(e){var r,i,t=(r=e.exog,i=r[0].length,p.arange(i).map(function(n){var t=p.arange(i).filter(function(t){return t!==n});return f(p.col(r,n).map(function(t){return t[0]}),p.col(r,t))})),o=Math.sqrt(e.SSR/e.df_resid),a=t.map(function(t){var n=t.SST,e=t.R2;return o/Math.sqrt(n*(1-e))}),n=e.coef.map(function(t,n){return(t-0)/a[n]}),u=n.map(function(t){var n=p.studentt.cdf(t,e.df_resid);return 2*(.5<n?1-n:n)}),s=p.studentt.inv(.975,e.df_resid),c=e.coef.map(function(t,n){var e=s*a[n];return[t-e,t+e]});return{se:a,t:n,p:u,sigmaHat:o,interval95:c}}return{ols:function(t,n){var e,r,i,o,a,u=f(t,n),s=h(u),c={F_statistic:a=(e=u).R2/e.df_model/((1-e.R2)/e.df_resid),pvalue:1-(r=a,i=e.df_model,o=e.df_resid,p.beta.cdf(r/(o/i+r),i/2,o/2))},l=1-(1-u.R2)*((u.nobs-1)/u.df_resid);return u.t=s,u.f=c,u.adjust_R2=l,u}}}(),p.jStat=p},"object"==typeof e?n.exports=a():o.jStat=a()},{}],4:[function(t,n,e){var p=t("lodash._baseisequal"),d=t("lodash._bindcallback"),v=t("lodash.isarray"),g=t("lodash.pairs"),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,i=/^\w*$/,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,a=/\\(\\)?/g;function m(t,n,e){if(null!=t){void 0!==e&&e in w(t)&&(n=[e]);for(var r=0,i=n.length;null!=t&&r<i;)t=t[n[r++]];return r&&r==i?t:void 0}}function y(t,n){var e=typeof t;return!!("string"==e&&i.test(t)||"number"==e)||!v(t)&&(!r.test(t)||null!=n&&t in w(n))}function b(t){return t==t&&!u(t)}function w(t){return u(t)?t:Object(t)}function x(t){if(v(t))return t;var n,i=[];return(n=t,null==n?"":n+"").replace(o,function(t,n,e,r){i.push(e?r.replace(a,"$1"):n||t)}),i}function u(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function _(t){return t}n.exports=function(t,n,e){var i,o,a,u,s,r,c,l,f,h=typeof t;return"function"==h?void 0===n?t:d(t,n,e):null==t?_:"object"==h?function(t){var n=function(t){for(var n=g(t),e=n.length;e--;)n[e][2]=b(n[e][1]);return n}(t);if(1==n.length&&n[0][2]){var e=n[0][0],r=n[0][1];return function(t){return null!=t&&t[e]===r&&(void 0!==r||e in w(t))}}return function(t){return function(t,n,e){var r=n.length,i=r,o=!e;if(null==t)return!i;for(t=w(t);r--;){var a=n[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<i;){var u=(a=n[r])[0],s=t[u],c=a[1];if(o&&a[2]){if(void 0===s&&!(u in t))return!1}else{var l=e?e(s,c,u):void 0;if(!(void 0===l?p(c,s,e,!0):l))return!1}}return!0}(t,n)}}(t):void 0===n?y(r=t)?(f=r,function(t){return null==t?void 0:t[f]}):(l=(c=r)+"",c=x(c),function(t){return m(t,c,l)}):(o=n,a=v(i=t),u=y(i)&&b(o),s=i+"",i=x(i),function(t){if(null==t)return!1;var n,e,r=s;if(t=w(t),(a||!u)&&!(r in t)){if(null==(t=1==i.length?t:m(t,function(t,n,e){var r=-1,i=t.length;(n=null==n?0:+n||0)<0&&(n=i<-n?0:i+n),(e=void 0===e||i<e?i:+e||0)<0&&(e+=i),i=e<n?0:e-n>>>0,n>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+n];return o}(i,0,-1))))return!1;r=(e=(n=i)?n.length:0)?n[e-1]:void 0,t=w(t)}return t[r]===o?void 0!==o||r in t:p(o,t[r],void 0,!0)})}},{"lodash._baseisequal":5,"lodash._bindcallback":8,"lodash.isarray":11,"lodash.pairs":14}],5:[function(t,n,e){var y=t("lodash.isarray"),b=t("lodash.istypedarray"),w=t("lodash.keys"),x="[object Arguments]",_="[object Array]",k="[object Boolean]",M="[object Date]",E="[object Error]",A="[object Number]",S="[object Object]",N="[object RegExp]",C="[object String]";var r=Object.prototype,R=r.hasOwnProperty,j=r.toString;function O(t,n){for(var e=-1,r=t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}n.exports=function t(n,e,r,i,o,a){return n===e||(null!=n&&null!=e&&(c=typeof(s=n),s&&("object"==c||"function"==c)||(u=e)&&"object"==typeof u)?function(t,n,e,r,i,o,a){var u=y(t),s=y(n),c=_,l=_;u||((c=j.call(t))==x?c=S:c!=S&&(u=b(t))),s||((l=j.call(n))==x?l=S:l!=S&&(s=b(n)));var f=c==S,h=l==S,p=c==l;if(p&&!u&&!f)return function(t,n,e){switch(e){case k:case M:return+t==+n;case E:return t.name==n.name&&t.message==n.message;case A:return t!=+t?n!=+n:t==+n;case N:case C:return t==n+""}return!1}(t,n,c);if(!i){var d=f&&R.call(t,"__wrapped__"),v=h&&R.call(n,"__wrapped__");if(d||v)return e(d?t.value():t,v?n.value():n,r,i,o,a)}if(!p)return!1;o||(o=[]),a||(a=[]);for(var g=o.length;g--;)if(o[g]==t)return a[g]==n;o.push(t),a.push(n);var m=(u?function(t,n,e,r,i,o,a){var u=-1,s=t.length,c=n.length;if(s!=c&&!(i&&s<c))return!1;for(;++u<s;){var l=t[u],f=n[u],h=r?r(i?f:l,i?l:f,u):void 0;if(void 0!==h){if(h)continue;return!1}if(i){if(!O(n,function(t){return l===t||e(l,t,r,i,o,a)}))return!1}else if(l!==f&&!e(l,f,r,i,o,a))return!1}return!0}:function(t,n,e,r,i,o,a){var u=w(t),s=u.length,c=w(n).length;if(s!=c&&!i)return!1;for(var l=s;l--;){var f=u[l];if(!(i?f in n:R.call(n,f)))return!1}for(var h=i;++l<s;){f=u[l];var p=t[f],d=n[f],v=r?r(i?d:p,i?p:d,f):void 0;if(!(void 0===v?e(p,d,r,i,o,a):v))return!1;h||(h="constructor"==f)}if(!h){var g=t.constructor,m=n.constructor;if(g!=m&&"constructor"in t&&"constructor"in n&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m))return!1}return!0})(t,n,e,r,i,o,a);return o.pop(),a.pop(),m}(n,e,t,r,i,o,a):n!=n&&e!=e);var u,s,c}},{"lodash.isarray":11,"lodash.istypedarray":12,"lodash.keys":13}],6:[function(t,n,e){var u=t("lodash._binaryindexby");function s(t){return t}n.exports=function(t,n,e){var r=0,i=t?t.length:r;if("number"==typeof n&&n==n&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];(e?a<=n:a<n)&&null!==a?r=o+1:i=o}return i}return u(t,n,s,e)}},{"lodash._binaryindexby":7}],7:[function(t,n,e){var d=Math.floor,v=Math.min;n.exports=function(t,n,e,r){n=e(n);for(var i=0,o=t?t.length:0,a=n!=n,u=null===n,s=void 0===n;i<o;){var c=d((i+o)/2),l=e(t[c]),f=void 0!==l,h=l==l;if(a)var p=h||r;else p=u?h&&f&&(r||null!=l):s?h&&(r||f):null!=l&&(r?l<=n:l<n);p?i=c+1:o=c}return v(o,4294967294)}},{}],8:[function(t,n,e){function r(t){return t}n.exports=function(o,a,t){if("function"!=typeof o)return r;if(void 0===a)return o;switch(t){case 1:return function(t){return o.call(a,t)};case 3:return function(t,n,e){return o.call(a,t,n,e)};case 4:return function(t,n,e,r){return o.call(a,t,n,e,r)};case 5:return function(t,n,e,r,i){return o.call(a,t,n,e,r,i)}}return function(){return o.apply(a,arguments)}}},{}],9:[function(t,n,e){var s="[object Function]",c=/^\[object .+?Constructor\]$/;var r=Object.prototype,l=Function.prototype.toString,i=r.hasOwnProperty,f=r.toString,h=RegExp("^"+l.call(i).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(t,n){var e=null==t?void 0:t[n];return r=e,null!=r&&(a=typeof(o=i=r),!o||"object"!=a&&"function"!=a||f.call(i)!=s?(u=r)&&"object"==typeof u&&c.test(r):h.test(l.call(r)))?e:void 0;var r,i,o,a,u}},{}],10:[function(t,n,e){var c=9007199254740991,l="[object Function]",f="[object GeneratorFunction]",r=Object.prototype,h=r.hasOwnProperty,p=r.toString,d=r.propertyIsEnumerable;n.exports=function(t){return!!(s=n=t)&&"object"==typeof s&&null!=(e=n)&&"number"==typeof(u=e.length)&&-1<u&&u%1==0&&u<=c&&(a=typeof(o=r=e),!((i=!o||"object"!=a&&"function"!=a?"":p.call(r))==l||i==f))&&h.call(t,"callee")&&(!d.call(t,"callee")||"[object Arguments]"==p.call(t));var n,e,r,i,o,a,u,s}},{}],11:[function(t,n,e){var r="[object Function]",i=/^\[object .+?Constructor\]$/;function o(t){return!!t&&"object"==typeof t}var a,u,s,c,l,f,h,p=Object.prototype,d=Function.prototype.toString,v=p.hasOwnProperty,g=p.toString,m=RegExp("^"+d.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),y=(l=Array,f="isArray",h=null==l?void 0:l[f],null!=(a=h)&&(c=typeof(s=u=a),!s||"object"!=c&&"function"!=c||g.call(u)!=r?o(a)&&i.test(a):m.test(d.call(a)))?h:void 0);var b=y||function(t){return o(t)&&("number"==typeof(n=t.length)&&-1<n&&n%1==0&&n<=9007199254740991)&&"[object Array]"==g.call(t);var n};n.exports=b},{}],12:[function(t,n,e){var r=9007199254740991,i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1;var o=Object.prototype.toString;n.exports=function(t){return!!(e=t)&&"object"==typeof e&&"number"==typeof(n=t.length)&&-1<n&&n%1==0&&n<=r&&!!i[o.call(t)];var n,e}},{}],13:[function(t,n,e){var r=t("lodash._getnative"),s=t("lodash.isarguments"),c=t("lodash.isarray"),i=/^\d+$/,l=Object.prototype.hasOwnProperty,o=r(Object,"keys"),a=9007199254740991;var u,f=(u="length",function(t){return null==t?void 0:t[u]});function h(t,n){return t="number"==typeof t||i.test(t)?+t:-1,n=null==n?a:n,-1<t&&t%1==0&&t<n}function p(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=a}function d(t){for(var n=function(t){if(null==t)return[];v(t)||(t=Object(t));var n=t.length;n=n&&p(n)&&(c(t)||s(t))&&n||0;var e=t.constructor,r=-1,i="function"==typeof e&&e.prototype===t,o=Array(n),a=0<n;for(;++r<n;)o[r]=r+"";for(var u in t)a&&h(u,n)||"constructor"==u&&(i||!l.call(t,u))||o.push(u);return o}(t),e=n.length,r=e&&t.length,i=!!r&&p(r)&&(c(t)||s(t)),o=-1,a=[];++o<e;){var u=n[o];(i&&h(u,r)||l.call(t,u))&&a.push(u)}return a}function v(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}var g=o?function(t){var n,e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&(null!=(n=t)&&p(f(n)))?d(t):v(t)?o(t):[]}:d;n.exports=g},{"lodash._getnative":9,"lodash.isarguments":10,"lodash.isarray":11}],14:[function(t,n,e){var c=t("lodash.keys");n.exports=function(t){var n,e,r;r=typeof(e=n=t),t=!e||"object"!=r&&"function"!=r?Object(n):n;for(var i=-1,o=c(t),a=o.length,u=Array(a);++i<a;){var s=o[i];u[i]=[s,t[s]]}return u}},{"lodash.keys":13}],15:[function(t,n,e){var i=t("lodash._basecallback"),o=t("lodash._binaryindex"),a=t("lodash._binaryindexby");var u,r=function(t,n,e,r){return null==e?o(t,n,u):a(t,n,i(e,r,1),u)};n.exports=r},{"lodash._basecallback":4,"lodash._binaryindex":6,"lodash._binaryindexby":7}],16:[function(t,I,U){(function(z){(function(){var ea,ra="Expected a function",ia="__lodash_hash_undefined__",oa="__lodash_placeholder__",aa=9007199254740991,ua=NaN,sa=4294967295,ca=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],la="[object Arguments]",fa="[object Array]",ha="[object Boolean]",pa="[object Date]",da="[object Error]",va="[object Function]",ga="[object GeneratorFunction]",ma="[object Map]",ya="[object Number]",ba="[object Object]",wa="[object Promise]",xa="[object RegExp]",_a="[object Set]",ka="[object String]",Ma="[object Symbol]",Ea="[object WeakMap]",Aa="[object ArrayBuffer]",Sa="[object DataView]",Na="[object Float32Array]",Ca="[object Float64Array]",Ra="[object Int8Array]",ja="[object Int16Array]",Oa="[object Int32Array]",Ta="[object Uint8Array]",Pa="[object Uint8ClampedArray]",Fa="[object Uint16Array]",Da="[object Uint32Array]",qa=/\b__p \+= '';/g,La=/\b(__p \+=) '' \+/g,za=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ia=/&(?:amp|lt|gt|quot|#39);/g,Ua=/[&<>"']/g,Ba=RegExp(Ia.source),Va=RegExp(Ua.source),Wa=/<%-([\s\S]+?)%>/g,Ha=/<%([\s\S]+?)%>/g,$a=/<%=([\s\S]+?)%>/g,Za=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ya=/^\w*$/,Ga=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ka=/[\\^$.*+?()[\]{}|]/g,Qa=RegExp(Ka.source),Ja=/^\s+|\s+$/g,Xa=/^\s+/,tu=/\s+$/,nu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,eu=/\{\n\/\* \[wrapped with (.+)\] \*/,ru=/,? & /,iu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ou=/\\(\\)?/g,au=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,uu=/\w*$/,su=/^[-+]0x[0-9a-f]+$/i,cu=/^0b[01]+$/i,lu=/^\[object .+?Constructor\]$/,fu=/^0o[0-7]+$/i,hu=/^(?:0|[1-9]\d*)$/,pu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,du=/($^)/,vu=/['\n\r\u2028\u2029\\]/g,t="\\ud800-\\udfff",n="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",e="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",i="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\ufe0e\\ufe0f",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",u="["+t+"]",s="["+a+"]",c="["+n+"]",l="\\d+",f="["+e+"]",h="["+r+"]",p="[^"+t+a+l+e+r+i+"]",d="\\ud83c[\\udffb-\\udfff]",v="[^"+t+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",y="["+i+"]",b="(?:"+h+"|"+p+")",w="(?:"+y+"|"+p+")",x="(?:['’](?:d|ll|m|re|s|t|ve))?",_="(?:['’](?:D|LL|M|RE|S|T|VE))?",k="(?:"+c+"|"+d+")"+"?",M="["+o+"]?",E=M+k+("(?:\\u200d(?:"+[v,g,m].join("|")+")"+M+k+")*"),A="(?:"+[f,g,m].join("|")+")"+E,S="(?:"+[v+c+"?",c,g,m,u].join("|")+")",gu=RegExp("['’]","g"),mu=RegExp(c,"g"),N=RegExp(d+"(?="+d+")|"+S+E,"g"),yu=RegExp([y+"?"+h+"+"+x+"(?="+[s,y,"$"].join("|")+")",w+"+"+_+"(?="+[s,y+b,"$"].join("|")+")",y+"?"+b+"+"+x,y+"+"+_,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",l,A].join("|"),"g"),C=RegExp("[\\u200d"+t+n+o+"]"),bu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xu=-1,_u={};_u[Na]=_u[Ca]=_u[Ra]=_u[ja]=_u[Oa]=_u[Ta]=_u[Pa]=_u[Fa]=_u[Da]=!0,_u[la]=_u[fa]=_u[Aa]=_u[ha]=_u[Sa]=_u[pa]=_u[da]=_u[va]=_u[ma]=_u[ya]=_u[ba]=_u[xa]=_u[_a]=_u[ka]=_u[Ea]=!1;var ku={};ku[la]=ku[fa]=ku[Aa]=ku[Sa]=ku[ha]=ku[pa]=ku[Na]=ku[Ca]=ku[Ra]=ku[ja]=ku[Oa]=ku[ma]=ku[ya]=ku[ba]=ku[xa]=ku[_a]=ku[ka]=ku[Ma]=ku[Ta]=ku[Pa]=ku[Fa]=ku[Da]=!0,ku[da]=ku[va]=ku[Ea]=!1;var R={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Mu=parseFloat,Eu=parseInt,j="object"==typeof z&&z&&z.Object===Object&&z,O="object"==typeof self&&self&&self.Object===Object&&self,Au=j||O||Function("return this")(),T="object"==typeof U&&U&&!U.nodeType&&U,P=T&&"object"==typeof I&&I&&!I.nodeType&&I,Su=P&&P.exports===T,F=Su&&j.process,D=function(){try{var t=P&&P.require&&P.require("util").types;return t||F&&F.binding&&F.binding("util")}catch(t){}}(),Nu=D&&D.isArrayBuffer,Cu=D&&D.isDate,Ru=D&&D.isMap,ju=D&&D.isRegExp,Ou=D&&D.isSet,Tu=D&&D.isTypedArray;function Pu(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function Fu(t,n,e,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];n(r,a,e(a),t)}return r}function Du(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t}function qu(t,n){for(var e=null==t?0:t.length;e--&&!1!==n(t[e],e,t););return t}function Lu(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function zu(t,n){for(var e=-1,r=null==t?0:t.length,i=0,o=[];++e<r;){var a=t[e];n(a,e,t)&&(o[i++]=a)}return o}function Iu(t,n){return!!(null==t?0:t.length)&&-1<Gu(t,n,0)}function Uu(t,n,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(n,t[r]))return!0;return!1}function Bu(t,n){for(var e=-1,r=null==t?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}function Vu(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}function Wu(t,n,e,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(e=t[++i]);++i<o;)e=n(e,t[i],i,t);return e}function Hu(t,n,e,r){var i=null==t?0:t.length;for(r&&i&&(e=t[--i]);i--;)e=n(e,t[i],i,t);return e}function $u(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}var q=Xu("length");function Zu(t,r,n){var i;return n(t,function(t,n,e){if(r(t,n,e))return i=n,!1}),i}function Yu(t,n,e,r){for(var i=t.length,o=e+(r?1:-1);r?o--:++o<i;)if(n(t[o],o,t))return o;return-1}function Gu(t,n,e){return n==n?function(t,n,e){var r=e-1,i=t.length;for(;++r<i;)if(t[r]===n)return r;return-1}(t,n,e):Yu(t,Qu,e)}function Ku(t,n,e,r){for(var i=e-1,o=t.length;++i<o;)if(r(t[i],n))return i;return-1}function Qu(t){return t!=t}function Ju(t,n){var e=null==t?0:t.length;return e?ns(t,n)/e:ua}function Xu(n){return function(t){return null==t?ea:t[n]}}function L(n){return function(t){return null==n?ea:n[t]}}function ts(t,r,i,o,n){return n(t,function(t,n,e){i=o?(o=!1,t):r(i,t,n,e)}),i}function ns(t,n){for(var e,r=-1,i=t.length;++r<i;){var o=n(t[r]);o!==ea&&(e=e===ea?o:e+o)}return e}function es(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function rs(n){return function(t){return n(t)}}function is(n,t){return Bu(t,function(t){return n[t]})}function os(t,n){return t.has(n)}function as(t,n){for(var e=-1,r=t.length;++e<r&&-1<Gu(n,t[e],0););return e}function us(t,n){for(var e=t.length;e--&&-1<Gu(n,t[e],0););return e}var ss=L({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),cs=L({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ls(t){return"\\"+R[t]}function fs(t){return C.test(t)}function hs(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function ps(n,e){return function(t){return n(e(t))}}function ds(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var a=t[e];a!==n&&a!==oa||(t[e]=oa,o[i++]=e)}return o}function vs(t){var n=-1,e=Array(t.size);return t.forEach(function(t){e[++n]=t}),e}function gs(t){return fs(t)?function(t){var n=N.lastIndex=0;for(;N.test(t);)++n;return n}(t):q(t)}function ms(t){return fs(t)?t.match(N)||[]:t.split("")}var ys=L({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var bs=function t(n){var e,N=(n=null==n?Au:bs.defaults(Au.Object(),n,bs.pick(Au,wu))).Array,r=n.Date,i=n.Error,g=n.Function,o=n.Math,M=n.Object,m=n.RegExp,l=n.String,C=n.TypeError,a=N.prototype,u=g.prototype,f=M.prototype,s=n["__core-js_shared__"],c=u.toString,E=f.hasOwnProperty,h=0,p=(e=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"",d=f.toString,v=c.call(M),y=Au._,b=m("^"+c.call(E).replace(Ka,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),w=Su?n.Buffer:ea,x=n.Symbol,_=n.Uint8Array,k=w?w.allocUnsafe:ea,A=ps(M.getPrototypeOf,M),S=M.create,R=f.propertyIsEnumerable,j=a.splice,O=x?x.isConcatSpreadable:ea,T=x?x.iterator:ea,P=x?x.toStringTag:ea,F=function(){try{var t=Ie(M,"defineProperty");return t({},"",{}),t}catch(t){}}(),D=n.clearTimeout!==Au.clearTimeout&&n.clearTimeout,q=r&&r.now!==Au.Date.now&&r.now,L=n.setTimeout!==Au.setTimeout&&n.setTimeout,z=o.ceil,I=o.floor,U=M.getOwnPropertySymbols,B=w?w.isBuffer:ea,V=n.isFinite,W=a.join,H=ps(M.keys,M),$=o.max,Z=o.min,Y=r.now,G=n.parseInt,K=o.random,Q=a.reverse,J=Ie(n,"DataView"),X=Ie(n,"Map"),tt=Ie(n,"Promise"),nt=Ie(n,"Set"),et=Ie(n,"WeakMap"),rt=Ie(M,"create"),it=et&&new et,ot={},at=dr(J),ut=dr(X),st=dr(tt),ct=dr(nt),lt=dr(et),ft=x?x.prototype:ea,ht=ft?ft.valueOf:ea,pt=ft?ft.toString:ea;function dt(t){if(ji(t)&&!wi(t)&&!(t instanceof yt)){if(t instanceof mt)return t;if(E.call(t,"__wrapped__"))return vr(t)}return new mt(t)}var vt=function(){function e(){}return function(t){if(!Ri(t))return{};if(S)return S(t);e.prototype=t;var n=new e;return e.prototype=ea,n}}();function gt(){}function mt(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=ea}function yt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=sa,this.__views__=[]}function bt(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function wt(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function xt(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function _t(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new xt;++n<e;)this.add(t[n])}function kt(t){var n=this.__data__=new wt(t);this.size=n.size}function Mt(t,n){var e=wi(t),r=!e&&bi(t),i=!e&&!r&&Mi(t),o=!e&&!r&&!i&&zi(t),a=e||r||i||o,u=a?es(t.length,l):[],s=u.length;for(var c in t)!n&&!E.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ze(c,s))||u.push(c);return u}function Et(t){var n=t.length;return n?t[kn(0,n-1)]:ea}function At(t,n){return cr(ie(t),Ft(n,0,t.length))}function St(t){return cr(ie(t))}function Nt(t,n,e){(e===ea||gi(t[n],e))&&(e!==ea||n in t)||Tt(t,n,e)}function Ct(t,n,e){var r=t[n];E.call(t,n)&&gi(r,e)&&(e!==ea||n in t)||Tt(t,n,e)}function Rt(t,n){for(var e=t.length;e--;)if(gi(t[e][0],n))return e;return-1}function jt(t,r,i,o){return It(t,function(t,n,e){r(o,t,i(t),e)}),o}function Ot(t,n){return t&&oe(n,uo(n),t)}function Tt(t,n,e){"__proto__"==n&&F?F(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function Pt(t,n){for(var e=-1,r=n.length,i=N(r),o=null==t;++e<r;)i[e]=o?ea:eo(t,n[e]);return i}function Ft(t,n,e){return t==t&&(e!==ea&&(t=t<=e?t:e),n!==ea&&(t=n<=t?t:n)),t}function Dt(e,r,i,t,n,o){var a,u=1&r,s=2&r,c=4&r;if(i&&(a=n?i(e,t,n,o):i(e)),a!==ea)return a;if(!Ri(e))return e;var l,f,h,p,d,v,g,m,y,b=wi(e);if(b){if(m=(g=e).length,y=new g.constructor(m),m&&"string"==typeof g[0]&&E.call(g,"index")&&(y.index=g.index,y.input=g.input),a=y,!u)return ie(e,a)}else{var w=Ve(e),x=w==va||w==ga;if(Mi(e))return Jn(e,u);if(w==ba||w==la||x&&!n){if(a=s||x?{}:He(e),!u)return s?(v=h=e,p=(d=a)&&oe(v,so(v),d),oe(h,Be(h),p)):(f=Ot(a,l=e),oe(l,Ue(l),f))}else{if(!ku[w])return n?e:{};a=function(t,n,e){var r,i,o,a,u,s=t.constructor;switch(n){case Aa:return Xn(t);case ha:case pa:return new s(+t);case Sa:return a=t,u=e?Xn(a.buffer):a.buffer,new a.constructor(u,a.byteOffset,a.byteLength);case Na:case Ca:case Ra:case ja:case Oa:case Ta:case Pa:case Fa:case Da:return te(t,e);case ma:return new s;case ya:case ka:return new s(t);case xa:return(o=new(i=t).constructor(i.source,uu.exec(i))).lastIndex=i.lastIndex,o;case _a:return new s;case Ma:return r=t,ht?M(ht.call(r)):{}}}(e,w,u)}}o||(o=new kt);var _=o.get(e);if(_)return _;if(o.set(e,a),Di(e))return e.forEach(function(t){a.add(Dt(t,r,i,t,e,o))}),a;if(Oi(e))return e.forEach(function(t,n){a.set(n,Dt(t,r,i,n,e,o))}),a;var k=b?ea:(c?s?Te:Oe:s?so:uo)(e);return Du(k||e,function(t,n){k&&(t=e[n=t]),Ct(a,n,Dt(t,r,i,n,e,o))}),a}function qt(t,n,e){var r=e.length;if(null==t)return!r;for(t=M(t);r--;){var i=e[r],o=n[i],a=t[i];if(a===ea&&!(i in t)||!o(a))return!1}return!0}function Lt(t,n,e){if("function"!=typeof t)throw new C(ra);return or(function(){t.apply(ea,e)},n)}function zt(t,n,e,r){var i=-1,o=Iu,a=!0,u=t.length,s=[],c=n.length;if(!u)return s;e&&(n=Bu(n,rs(e))),r?(o=Uu,a=!1):200<=n.length&&(o=os,a=!1,n=new _t(n));t:for(;++i<u;){var l=t[i],f=null==e?l:e(l);if(l=r||0!==l?l:0,a&&f==f){for(var h=c;h--;)if(n[h]===f)continue t;s.push(l)}else o(n,f,r)||s.push(l)}return s}dt.templateSettings={escape:Wa,evaluate:Ha,interpolate:$a,variable:"",imports:{_:dt}},(dt.prototype=gt.prototype).constructor=dt,(mt.prototype=vt(gt.prototype)).constructor=mt,(yt.prototype=vt(gt.prototype)).constructor=yt,bt.prototype.clear=function(){this.__data__=rt?rt(null):{},this.size=0},bt.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},bt.prototype.get=function(t){var n=this.__data__;if(rt){var e=n[t];return e===ia?ea:e}return E.call(n,t)?n[t]:ea},bt.prototype.has=function(t){var n=this.__data__;return rt?n[t]!==ea:E.call(n,t)},bt.prototype.set=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=rt&&n===ea?ia:n,this},wt.prototype.clear=function(){this.__data__=[],this.size=0},wt.prototype.delete=function(t){var n=this.__data__,e=Rt(n,t);return!(e<0||(e==n.length-1?n.pop():j.call(n,e,1),--this.size,0))},wt.prototype.get=function(t){var n=this.__data__,e=Rt(n,t);return e<0?ea:n[e][1]},wt.prototype.has=function(t){return-1<Rt(this.__data__,t)},wt.prototype.set=function(t,n){var e=this.__data__,r=Rt(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this},xt.prototype.clear=function(){this.size=0,this.__data__={hash:new bt,map:new(X||wt),string:new bt}},xt.prototype.delete=function(t){var n=Le(this,t).delete(t);return this.size-=n?1:0,n},xt.prototype.get=function(t){return Le(this,t).get(t)},xt.prototype.has=function(t){return Le(this,t).has(t)},xt.prototype.set=function(t,n){var e=Le(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this},_t.prototype.add=_t.prototype.push=function(t){return this.__data__.set(t,ia),this},_t.prototype.has=function(t){return this.__data__.has(t)},kt.prototype.clear=function(){this.__data__=new wt,this.size=0},kt.prototype.delete=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},kt.prototype.get=function(t){return this.__data__.get(t)},kt.prototype.has=function(t){return this.__data__.has(t)},kt.prototype.set=function(t,n){var e=this.__data__;if(e instanceof wt){var r=e.__data__;if(!X||r.length<199)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new xt(r)}return e.set(t,n),this.size=e.size,this};var It=se(Yt),Ut=se(Gt,!0);function Bt(t,r){var i=!0;return It(t,function(t,n,e){return i=!!r(t,n,e)}),i}function Vt(t,n,e){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=n(o);if(null!=a&&(u===ea?a==a&&!Li(a):e(a,u)))var u=a,s=o}return s}function Wt(t,r){var i=[];return It(t,function(t,n,e){r(t,n,e)&&i.push(t)}),i}function Ht(t,n,e,r,i){var o=-1,a=t.length;for(e||(e=$e),i||(i=[]);++o<a;){var u=t[o];0<n&&e(u)?1<n?Ht(u,n-1,e,r,i):Vu(i,u):r||(i[i.length]=u)}return i}var $t=ce(),Zt=ce(!0);function Yt(t,n){return t&&$t(t,n,uo)}function Gt(t,n){return t&&Zt(t,n,uo)}function Kt(n,t){return zu(t,function(t){return Si(n[t])})}function Qt(t,n){for(var e=0,r=(n=Yn(n,t)).length;null!=t&&e<r;)t=t[pr(n[e++])];return e&&e==r?t:ea}function Jt(t,n,e){var r=n(t);return wi(t)?r:Vu(r,e(t))}function Xt(t){return null==t?t===ea?"[object Undefined]":"[object Null]":P&&P in M(t)?function(t){var n=E.call(t,P),e=t[P];try{t[P]=ea;var r=!0}catch(t){}var i=d.call(t);return r&&(n?t[P]=e:delete t[P]),i}(t):(n=t,d.call(n));var n}function tn(t,n){return n<t}function nn(t,n){return null!=t&&E.call(t,n)}function en(t,n){return null!=t&&n in M(t)}function rn(t,n,e){for(var r=e?Uu:Iu,i=t[0].length,o=t.length,a=o,u=N(o),s=1/0,c=[];a--;){var l=t[a];a&&n&&(l=Bu(l,rs(n))),s=Z(l.length,s),u[a]=!e&&(n||120<=i&&120<=l.length)?new _t(a&&l):ea}l=t[0];var f=-1,h=u[0];t:for(;++f<i&&c.length<s;){var p=l[f],d=n?n(p):p;if(p=e||0!==p?p:0,!(h?os(h,d):r(c,d,e))){for(a=o;--a;){var v=u[a];if(!(v?os(v,d):r(t[a],d,e)))continue t}h&&h.push(d),c.push(p)}}return c}function on(t,n,e){var r=null==(t=er(t,n=Yn(n,t)))?t:t[pr(Ar(n))];return null==r?ea:Pu(r,t,e)}function an(t){return ji(t)&&Xt(t)==la}function un(t,n,e,r,i){return t===n||(null==t||null==n||!ji(t)&&!ji(n)?t!=t&&n!=n:function(t,n,e,r,i,o){var a=wi(t),u=wi(n),s=a?fa:Ve(t),c=u?fa:Ve(n),l=(s=s==la?ba:s)==ba,f=(c=c==la?ba:c)==ba,h=s==c;if(h&&Mi(t)){if(!Mi(n))return!1;l=!(a=!0)}if(h&&!l)return o||(o=new kt),a||zi(t)?Re(t,n,e,r,i,o):function(t,n,e,r,i,o,a){switch(e){case Sa:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case Aa:return!(t.byteLength!=n.byteLength||!o(new _(t),new _(n)));case ha:case pa:case ya:return gi(+t,+n);case da:return t.name==n.name&&t.message==n.message;case xa:case ka:return t==n+"";case ma:var u=hs;case _a:var s=1&r;if(u||(u=vs),t.size!=n.size&&!s)return!1;var c=a.get(t);if(c)return c==n;r|=2,a.set(t,n);var l=Re(u(t),u(n),r,i,o,a);return a.delete(t),l;case Ma:if(ht)return ht.call(t)==ht.call(n)}return!1}(t,n,s,e,r,i,o);if(!(1&e)){var p=l&&E.call(t,"__wrapped__"),d=f&&E.call(n,"__wrapped__");if(p||d){var v=p?t.value():t,g=d?n.value():n;return o||(o=new kt),i(v,g,e,r,o)}}return!!h&&(o||(o=new kt),function(t,n,e,r,i,o){var a=1&e,u=Oe(t),s=u.length,c=Oe(n).length;if(s!=c&&!a)return!1;for(var l=s;l--;){var f=u[l];if(!(a?f in n:E.call(n,f)))return!1}var h=o.get(t);if(h&&o.get(n))return h==n;var p=!0;o.set(t,n),o.set(n,t);for(var d=a;++l<s;){f=u[l];var v=t[f],g=n[f];if(r)var m=a?r(g,v,f,n,t,o):r(v,g,f,t,n,o);if(!(m===ea?v===g||i(v,g,e,r,o):m)){p=!1;break}d||(d="constructor"==f)}if(p&&!d){var y=t.constructor,b=n.constructor;y!=b&&"constructor"in t&&"constructor"in n&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(p=!1)}return o.delete(t),o.delete(n),p}(t,n,e,r,i,o))}(t,n,e,r,un,i))}function sn(t,n,e,r){var i=e.length,o=i,a=!r;if(null==t)return!o;for(t=M(t);i--;){var u=e[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var s=(u=e[i])[0],c=t[s],l=u[1];if(a&&u[2]){if(c===ea&&!(s in t))return!1}else{var f=new kt;if(r)var h=r(c,l,s,t,n,f);if(!(h===ea?un(l,c,3,r,f):h))return!1}}return!0}function cn(t){return!(!Ri(t)||(n=t,p&&p in n))&&(Si(t)?b:lu).test(dr(t));var n}function ln(t){return"function"==typeof t?t:null==t?Po:"object"==typeof t?wi(t)?gn(t[0],t[1]):vn(t):Vo(t)}function fn(t){if(!Je(t))return H(t);var n=[];for(var e in M(t))E.call(t,e)&&"constructor"!=e&&n.push(e);return n}function hn(t){if(!Ri(t))return function(t){var n=[];if(null!=t)for(var e in M(t))n.push(e);return n}(t);var n=Je(t),e=[];for(var r in t)("constructor"!=r||!n&&E.call(t,r))&&e.push(r);return e}function pn(t,n){return t<n}function dn(t,r){var i=-1,o=_i(t)?N(t.length):[];return It(t,function(t,n,e){o[++i]=r(t,n,e)}),o}function vn(n){var e=ze(n);return 1==e.length&&e[0][2]?tr(e[0][0],e[0][1]):function(t){return t===n||sn(t,n,e)}}function gn(e,r){return Ge(e)&&Xe(r)?tr(pr(e),r):function(t){var n=eo(t,e);return n===ea&&n===r?ro(t,e):un(r,n,3)}}function mn(r,i,o,a,u){r!==i&&$t(i,function(t,n){if(Ri(t))u||(u=new kt),function(t,n,e,r,i,o,a){var u=rr(t,e),s=rr(n,e),c=a.get(s);if(c)return Nt(t,e,c);var l=o?o(u,s,e+"",t,n,a):ea,f=l===ea;if(f){var h=wi(s),p=!h&&Mi(s),d=!h&&!p&&zi(s);l=s,h||p||d?l=wi(u)?u:ki(u)?ie(u):p?Jn(s,!(f=!1)):d?te(s,!(f=!1)):[]:Pi(s)||bi(s)?bi(l=u)?l=Zi(u):Ri(u)&&!Si(u)||(l=He(s)):f=!1}f&&(a.set(s,l),i(l,s,r,o,a),a.delete(s)),Nt(t,e,l)}(r,i,n,o,mn,a,u);else{var e=a?a(rr(r,n),t,n+"",r,i,u):ea;e===ea&&(e=t),Nt(r,n,e)}},so)}function yn(t,n){var e=t.length;if(e)return Ze(n+=n<0?e:0,e)?t[n]:ea}function bn(t,r,e){var i=-1;return r=Bu(r.length?r:[Po],rs(qe())),function(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}(dn(t,function(n,t,e){return{criteria:Bu(r,function(t){return t(n)}),index:++i,value:n}}),function(t,n){return function(t,n,e){for(var r=-1,i=t.criteria,o=n.criteria,a=i.length,u=e.length;++r<a;){var s=ne(i[r],o[r]);if(s){if(u<=r)return s;var c=e[r];return s*("desc"==c?-1:1)}}return t.index-n.index}(t,n,e)})}function wn(t,n,e){for(var r=-1,i=n.length,o={};++r<i;){var a=n[r],u=Qt(t,a);e(u,a)&&Nn(o,Yn(a,t),u)}return o}function xn(t,n,e,r){var i=r?Ku:Gu,o=-1,a=n.length,u=t;for(t===n&&(n=ie(n)),e&&(u=Bu(t,rs(e)));++o<a;)for(var s=0,c=n[o],l=e?e(c):c;-1<(s=i(u,l,s,r));)u!==t&&j.call(u,s,1),j.call(t,s,1);return t}function _n(t,n){for(var e=t?n.length:0,r=e-1;e--;){var i=n[e];if(e==r||i!==o){var o=i;Ze(i)?j.call(t,i,1):In(t,i)}}return t}function kn(t,n){return t+I(K()*(n-t+1))}function Mn(t,n){var e="";if(!t||n<1||aa<n)return e;for(;n%2&&(e+=t),(n=I(n/2))&&(t+=t),n;);return e}function En(t,n){return ar(nr(t,n,Po),t+"")}function An(t){return Et(mo(t))}function Sn(t,n){var e=mo(t);return cr(e,Ft(n,0,e.length))}function Nn(t,n,e,r){if(!Ri(t))return t;for(var i=-1,o=(n=Yn(n,t)).length,a=o-1,u=t;null!=u&&++i<o;){var s=pr(n[i]),c=e;if(i!=a){var l=u[s];(c=r?r(l,s,u):ea)===ea&&(c=Ri(l)?l:Ze(n[i+1])?[]:{})}Ct(u,s,c),u=u[s]}return t}var Cn=it?function(t,n){return it.set(t,n),t}:Po,Rn=F?function(t,n){return F(t,"toString",{configurable:!0,enumerable:!1,value:jo(n),writable:!0})}:Po;function jn(t){return cr(mo(t))}function On(t,n,e){var r=-1,i=t.length;n<0&&(n=i<-n?0:i+n),(e=i<e?i:e)<0&&(e+=i),i=e<n?0:e-n>>>0,n>>>=0;for(var o=N(i);++r<i;)o[r]=t[r+n];return o}function Tn(t,r){var i;return It(t,function(t,n,e){return!(i=r(t,n,e))}),!!i}function Pn(t,n,e){var r=0,i=null==t?r:t.length;if("number"==typeof n&&n==n&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Li(a)&&(e?a<=n:a<n)?r=o+1:i=o}return i}return Fn(t,n,Po,e)}function Fn(t,n,e,r){n=e(n);for(var i=0,o=null==t?0:t.length,a=n!=n,u=null===n,s=Li(n),c=n===ea;i<o;){var l=I((i+o)/2),f=e(t[l]),h=f!==ea,p=null===f,d=f==f,v=Li(f);if(a)var g=r||d;else g=c?d&&(r||h):u?d&&h&&(r||!p):s?d&&h&&!p&&(r||!v):!p&&!v&&(r?f<=n:f<n);g?i=l+1:o=l}return Z(o,4294967294)}function Dn(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var a=t[e],u=n?n(a):a;if(!e||!gi(u,s)){var s=u;o[i++]=0===a?0:a}}return o}function qn(t){return"number"==typeof t?t:Li(t)?ua:+t}function Ln(t){if("string"==typeof t)return t;if(wi(t))return Bu(t,Ln)+"";if(Li(t))return pt?pt.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function zn(t,n,e){var r=-1,i=Iu,o=t.length,a=!0,u=[],s=u;if(e)a=!1,i=Uu;else if(200<=o){var c=n?null:Me(t);if(c)return vs(c);a=!1,i=os,s=new _t}else s=n?[]:u;t:for(;++r<o;){var l=t[r],f=n?n(l):l;if(l=e||0!==l?l:0,a&&f==f){for(var h=s.length;h--;)if(s[h]===f)continue t;n&&s.push(f),u.push(l)}else i(s,f,e)||(s!==u&&s.push(f),u.push(l))}return u}function In(t,n){return null==(t=er(t,n=Yn(n,t)))||delete t[pr(Ar(n))]}function Un(t,n,e,r){return Nn(t,n,e(Qt(t,n)),r)}function Bn(t,n,e,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&n(t[o],o,t););return e?On(t,r?0:o,r?o+1:i):On(t,r?o+1:0,r?i:o)}function Vn(t,n){var e=t;return e instanceof yt&&(e=e.value()),Wu(n,function(t,n){return n.func.apply(n.thisArg,Vu([t],n.args))},e)}function Wn(t,n,e){var r=t.length;if(r<2)return r?zn(t[0]):[];for(var i=-1,o=N(r);++i<r;)for(var a=t[i],u=-1;++u<r;)u!=i&&(o[i]=zt(o[i]||a,t[u],n,e));return zn(Ht(o,1),n,e)}function Hn(t,n,e){for(var r=-1,i=t.length,o=n.length,a={};++r<i;){var u=r<o?n[r]:ea;e(a,t[r],u)}return a}function $n(t){return ki(t)?t:[]}function Zn(t){return"function"==typeof t?t:Po}function Yn(t,n){return wi(t)?t:Ge(t,n)?[t]:hr(Yi(t))}var Gn=En;function Kn(t,n,e){var r=t.length;return e=e===ea?r:e,!n&&r<=e?t:On(t,n,e)}var Qn=D||function(t){return Au.clearTimeout(t)};function Jn(t,n){if(n)return t.slice();var e=t.length,r=k?k(e):new t.constructor(e);return t.copy(r),r}function Xn(t){var n=new t.constructor(t.byteLength);return new _(n).set(new _(t)),n}function te(t,n){var e=n?Xn(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function ne(t,n){if(t!==n){var e=t!==ea,r=null===t,i=t==t,o=Li(t),a=n!==ea,u=null===n,s=n==n,c=Li(n);if(!u&&!c&&!o&&n<t||o&&a&&s&&!u&&!c||r&&a&&s||!e&&s||!i)return 1;if(!r&&!o&&!c&&t<n||c&&e&&i&&!r&&!o||u&&e&&i||!a&&i||!s)return-1}return 0}function ee(t,n,e,r){for(var i=-1,o=t.length,a=e.length,u=-1,s=n.length,c=$(o-a,0),l=N(s+c),f=!r;++u<s;)l[u]=n[u];for(;++i<a;)(f||i<o)&&(l[e[i]]=t[i]);for(;c--;)l[u++]=t[i++];return l}function re(t,n,e,r){for(var i=-1,o=t.length,a=-1,u=e.length,s=-1,c=n.length,l=$(o-u,0),f=N(l+c),h=!r;++i<l;)f[i]=t[i];for(var p=i;++s<c;)f[p+s]=n[s];for(;++a<u;)(h||i<o)&&(f[p+e[a]]=t[i++]);return f}function ie(t,n){var e=-1,r=t.length;for(n||(n=N(r));++e<r;)n[e]=t[e];return n}function oe(t,n,e,r){var i=!e;e||(e={});for(var o=-1,a=n.length;++o<a;){var u=n[o],s=r?r(e[u],t[u],u,e,t):ea;s===ea&&(s=t[u]),i?Tt(e,u,s):Ct(e,u,s)}return e}function ae(i,o){return function(t,n){var e=wi(t)?Fu:jt,r=o?o():{};return e(t,i,qe(n,2),r)}}function ue(u){return En(function(t,n){var e=-1,r=n.length,i=1<r?n[r-1]:ea,o=2<r?n[2]:ea;for(i=3<u.length&&"function"==typeof i?(r--,i):ea,o&&Ye(n[0],n[1],o)&&(i=r<3?ea:i,r=1),t=M(t);++e<r;){var a=n[e];a&&u(t,a,e,i)}return t})}function se(o,a){return function(t,n){if(null==t)return t;if(!_i(t))return o(t,n);for(var e=t.length,r=a?e:-1,i=M(t);(a?r--:++r<e)&&!1!==n(i[r],r,i););return t}}function ce(s){return function(t,n,e){for(var r=-1,i=M(t),o=e(t),a=o.length;a--;){var u=o[s?a:++r];if(!1===n(i[u],u,i))break}return t}}function le(i){return function(t){var n=fs(t=Yi(t))?ms(t):ea,e=n?n[0]:t.charAt(0),r=n?Kn(n,1).join(""):t.slice(1);return e[i]()+r}}function fe(n){return function(t){return Wu(No(wo(t).replace(gu,"")),n,"")}}function he(r){return function(){var t=arguments;switch(t.length){case 0:return new r;case 1:return new r(t[0]);case 2:return new r(t[0],t[1]);case 3:return new r(t[0],t[1],t[2]);case 4:return new r(t[0],t[1],t[2],t[3]);case 5:return new r(t[0],t[1],t[2],t[3],t[4]);case 6:return new r(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new r(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=vt(r.prototype),e=r.apply(n,t);return Ri(e)?e:n}}function pe(a){return function(t,n,e){var r=M(t);if(!_i(t)){var i=qe(n,3);t=uo(t),n=function(t){return i(r[t],t,r)}}var o=a(t,n,e);return-1<o?r[i?t[o]:o]:ea}}function de(s){return je(function(i){var o=i.length,t=o,n=mt.prototype.thru;for(s&&i.reverse();t--;){var e=i[t];if("function"!=typeof e)throw new C(ra);if(n&&!a&&"wrapper"==Fe(e))var a=new mt([],!0)}for(t=a?t:o;++t<o;){var r=Fe(e=i[t]),u="wrapper"==r?Pe(e):ea;a=u&&Ke(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?a[Fe(u[0])].apply(a,u[3]):1==e.length&&Ke(e)?a[r]():a.thru(e)}return function(){var t=arguments,n=t[0];if(a&&1==t.length&&wi(n))return a.plant(n).value();for(var e=0,r=o?i[e].apply(this,t):n;++e<o;)r=i[e].call(this,r);return r}})}function ve(c,l,f,h,p,d,v,g,m,y){var b=128&l,w=1&l,x=2&l,_=24&l,k=512&l,M=x?ea:he(c);return function t(){for(var n=arguments.length,e=N(n),r=n;r--;)e[r]=arguments[r];if(_)var i=De(t),o=function(t,n){for(var e=t.length,r=0;e--;)t[e]===n&&++r;return r}(e,i);if(h&&(e=ee(e,h,p,_)),d&&(e=re(e,d,v,_)),n-=o,_&&n<y){var a=ds(e,i);return _e(c,l,ve,t.placeholder,f,e,a,g,m,y-n)}var u=w?f:this,s=x?u[c]:c;return n=e.length,g?e=function(t,n){for(var e=t.length,r=Z(n.length,e),i=ie(t);r--;){var o=n[r];t[r]=Ze(o,e)?i[o]:ea}return t}(e,g):k&&1<n&&e.reverse(),b&&m<n&&(e.length=m),this&&this!==Au&&this instanceof t&&(s=M||he(s)),s.apply(u,e)}}function ge(a,u){return function(t,n){return e=t,r=a,i=u(n),o={},Yt(e,function(t,n,e){r(o,i(t),n,e)}),o;var e,r,i,o}}function me(r,i){return function(t,n){var e;if(t===ea&&n===ea)return i;if(t!==ea&&(e=t),n!==ea){if(e===ea)return n;n="string"==typeof t||"string"==typeof n?(t=Ln(t),Ln(n)):(t=qn(t),qn(n)),e=r(t,n)}return e}}function ye(r){return je(function(t){return t=Bu(t,rs(qe())),En(function(n){var e=this;return r(t,function(t){return Pu(t,e,n)})})})}function be(t,n){var e=(n=n===ea?" ":Ln(n)).length;if(e<2)return e?Mn(n,t):n;var r=Mn(n,z(t/gs(n)));return fs(n)?Kn(ms(r),0,t).join(""):r.slice(0,t)}function we(r){return function(t,n,e){return e&&"number"!=typeof e&&Ye(t,n,e)&&(n=e=ea),t=Vi(t),n===ea?(n=t,t=0):n=Vi(n),function(t,n,e,r){for(var i=-1,o=$(z((n-t)/(e||1)),0),a=N(o);o--;)a[r?o:++i]=t,t+=e;return a}(t,n,e=e===ea?t<n?1:-1:Vi(e),r)}}function xe(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=$i(t),n=$i(n)),e(t,n)}}function _e(t,n,e,r,i,o,a,u,s,c){var l=8&n;n|=l?32:64,4&(n&=~(l?64:32))||(n&=-4);var f=[t,n,i,l?o:ea,l?a:ea,l?ea:o,l?ea:a,u,s,c],h=e.apply(ea,f);return Ke(t)&&ir(h,f),h.placeholder=r,ur(h,t,n)}function ke(t){var r=o[t];return function(t,n){if(t=$i(t),n=null==n?0:Z(Wi(n),292)){var e=(Yi(t)+"e").split("e");return+((e=(Yi(r(e[0]+"e"+(+e[1]+n)))+"e").split("e"))[0]+"e"+(+e[1]-n))}return r(t)}}var Me=nt&&1/vs(new nt([,-0]))[1]==1/0?function(t){return new nt(t)}:zo;function Ee(a){return function(t){var n,e,r,i,o=Ve(t);return o==ma?hs(t):o==_a?(n=t,e=-1,r=Array(n.size),n.forEach(function(t){r[++e]=[t,t]}),r):Bu(a(i=t),function(t){return[t,i[t]]})}}function Ae(t,n,e,r,i,o,a,u){var s=2&n;if(!s&&"function"!=typeof t)throw new C(ra);var c=r?r.length:0;if(c||(n&=-97,r=i=ea),a=a===ea?a:$(Wi(a),0),u=u===ea?u:Wi(u),c-=i?i.length:0,64&n){var l=r,f=i;r=i=ea}var h,p,d,v,g,m,y,b,w,x,_,k,M,E=s?ea:Pe(t),A=[t,n,e,r,i,l,f,o,a,u];if(E&&function(t,n){var e=t[1],r=n[1],i=e|r,o=i<131,a=128==r&&8==e||128==r&&256==e&&t[7].length<=n[8]||384==r&&n[7].length<=n[8]&&8==e;if(o||a){1&r&&(t[2]=n[2],i|=1&e?0:4);var u=n[3];if(u){var s=t[3];t[3]=s?ee(s,u,n[4]):u,t[4]=s?ds(t[3],oa):n[4]}(u=n[5])&&(s=t[5],t[5]=s?re(s,u,n[6]):u,t[6]=s?ds(t[5],oa):n[6]),(u=n[7])&&(t[7]=u),128&r&&(t[8]=null==t[8]?n[8]:Z(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=i}}(A,E),t=A[0],n=A[1],e=A[2],r=A[3],i=A[4],!(u=A[9]=A[9]===ea?s?0:t.length:$(A[9]-c,0))&&24&n&&(n&=-25),n&&1!=n)S=8==n||16==n?(y=n,b=u,w=he(m=t),function t(){for(var n=arguments.length,e=N(n),r=n,i=De(t);r--;)e[r]=arguments[r];var o=n<3&&e[0]!==i&&e[n-1]!==i?[]:ds(e,i);return(n-=o.length)<b?_e(m,y,ve,t.placeholder,ea,e,o,ea,ea,b-n):Pu(this&&this!==Au&&this instanceof t?w:m,this,e)}):32!=n&&33!=n||i.length?ve.apply(ea,A):(p=e,d=r,v=1&n,g=he(h=t),function t(){for(var n=-1,e=arguments.length,r=-1,i=d.length,o=N(i+e),a=this&&this!==Au&&this instanceof t?g:h;++r<i;)o[r]=d[r];for(;e--;)o[r++]=arguments[++n];return Pu(a,v?p:this,o)});else var S=(_=e,k=1&n,M=he(x=t),function t(){return(this&&this!==Au&&this instanceof t?M:x).apply(k?_:this,arguments)});return ur((E?Cn:ir)(S,A),t,n)}function Se(t,n,e,r){return t===ea||gi(t,f[e])&&!E.call(r,e)?n:t}function Ne(t,n,e,r,i,o){return Ri(t)&&Ri(n)&&(o.set(n,t),mn(t,n,ea,Ne,o),o.delete(n)),t}function Ce(t){return Pi(t)?ea:t}function Re(t,n,e,r,i,o){var a=1&e,u=t.length,s=n.length;if(u!=s&&!(a&&u<s))return!1;var c=o.get(t);if(c&&o.get(n))return c==n;var l=-1,f=!0,h=2&e?new _t:ea;for(o.set(t,n),o.set(n,t);++l<u;){var p=t[l],d=n[l];if(r)var v=a?r(d,p,l,n,t,o):r(p,d,l,t,n,o);if(v!==ea){if(v)continue;f=!1;break}if(h){if(!$u(n,function(t,n){if(!os(h,n)&&(p===t||i(p,t,e,r,o)))return h.push(n)})){f=!1;break}}else if(p!==d&&!i(p,d,e,r,o)){f=!1;break}}return o.delete(t),o.delete(n),f}function je(t){return ar(nr(t,ea,xr),t+"")}function Oe(t){return Jt(t,uo,Ue)}function Te(t){return Jt(t,so,Be)}var Pe=it?function(t){return it.get(t)}:zo;function Fe(t){for(var n=t.name+"",e=ot[n],r=E.call(ot,n)?e.length:0;r--;){var i=e[r],o=i.func;if(null==o||o==t)return i.name}return n}function De(t){return(E.call(dt,"placeholder")?dt:t).placeholder}function qe(){var t=dt.iteratee||Fo;return t=t===Fo?ln:t,arguments.length?t(arguments[0],arguments[1]):t}function Le(t,n){var e,r,i=t.__data__;return("string"==(r=typeof(e=n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?i["string"==typeof n?"string":"hash"]:i.map}function ze(t){for(var n=uo(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,Xe(i)]}return n}function Ie(t,n){var e,r,i=(r=n,null==(e=t)?ea:e[r]);return cn(i)?i:ea}var Ue=U?function(n){return null==n?[]:(n=M(n),zu(U(n),function(t){return R.call(n,t)}))}:$o,Be=U?function(t){for(var n=[];t;)Vu(n,Ue(t)),t=A(t);return n}:$o,Ve=Xt;function We(t,n,e){for(var r=-1,i=(n=Yn(n,t)).length,o=!1;++r<i;){var a=pr(n[r]);if(!(o=null!=t&&e(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ci(i)&&Ze(a,i)&&(wi(t)||bi(t))}function He(t){return"function"!=typeof t.constructor||Je(t)?{}:vt(A(t))}function $e(t){return wi(t)||bi(t)||!!(O&&t&&t[O])}function Ze(t,n){var e=typeof t;return!!(n=null==n?aa:n)&&("number"==e||"symbol"!=e&&hu.test(t))&&-1<t&&t%1==0&&t<n}function Ye(t,n,e){if(!Ri(e))return!1;var r=typeof n;return!!("number"==r?_i(e)&&Ze(n,e.length):"string"==r&&n in e)&&gi(e[n],t)}function Ge(t,n){if(wi(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!Li(t))||Ya.test(t)||!Za.test(t)||null!=n&&t in M(n)}function Ke(t){var n=Fe(t),e=dt[n];if("function"!=typeof e||!(n in yt.prototype))return!1;if(t===e)return!0;var r=Pe(e);return!!r&&t===r[0]}(J&&Ve(new J(new ArrayBuffer(1)))!=Sa||X&&Ve(new X)!=ma||tt&&Ve(tt.resolve())!=wa||nt&&Ve(new nt)!=_a||et&&Ve(new et)!=Ea)&&(Ve=function(t){var n=Xt(t),e=n==ba?t.constructor:ea,r=e?dr(e):"";if(r)switch(r){case at:return Sa;case ut:return ma;case st:return wa;case ct:return _a;case lt:return Ea}return n});var Qe=s?Si:Zo;function Je(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||f)}function Xe(t){return t==t&&!Ri(t)}function tr(n,e){return function(t){return null!=t&&t[n]===e&&(e!==ea||n in M(t))}}function nr(o,a,u){return a=$(a===ea?o.length-1:a,0),function(){for(var t=arguments,n=-1,e=$(t.length-a,0),r=N(e);++n<e;)r[n]=t[a+n];n=-1;for(var i=N(a+1);++n<a;)i[n]=t[n];return i[a]=u(r),Pu(o,this,i)}}function er(t,n){return n.length<2?t:Qt(t,On(n,0,-1))}function rr(t,n){if("__proto__"!=n)return t[n]}var ir=sr(Cn),or=L||function(t,n){return Au.setTimeout(t,n)},ar=sr(Rn);function ur(t,n,e){var r,i,o,a=n+"";return ar(t,function(t,n){var e=n.length;if(!e)return t;var r=e-1;return n[r]=(1<e?"& ":"")+n[r],n=n.join(2<e?", ":" "),t.replace(nu,"{\n/* [wrapped with "+n+"] */\n")}(a,(o=a.match(eu),r=o?o[1].split(ru):[],i=e,Du(ca,function(t){var n="_."+t[0];i&t[1]&&!Iu(r,n)&&r.push(n)}),r.sort())))}function sr(e){var r=0,i=0;return function(){var t=Y(),n=16-(t-i);if(i=t,0<n){if(800<=++r)return arguments[0]}else r=0;return e.apply(ea,arguments)}}function cr(t,n){var e=-1,r=t.length,i=r-1;for(n=n===ea?r:n;++e<n;){var o=kn(e,i),a=t[o];t[o]=t[e],t[e]=a}return t.length=n,t}var lr,fr,hr=(fr=(lr=li(function(t){var i=[];return 46===t.charCodeAt(0)&&i.push(""),t.replace(Ga,function(t,n,e,r){i.push(e?r.replace(ou,"$1"):n||t)}),i},function(t){return 500===fr.size&&fr.clear(),t})).cache,lr);function pr(t){if("string"==typeof t||Li(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function dr(t){if(null!=t){try{return c.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function vr(t){if(t instanceof yt)return t.clone();var n=new mt(t.__wrapped__,t.__chain__);return n.__actions__=ie(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}var gr=En(function(t,n){return ki(t)?zt(t,Ht(n,1,ki,!0)):[]}),mr=En(function(t,n){var e=Ar(n);return ki(e)&&(e=ea),ki(t)?zt(t,Ht(n,1,ki,!0),qe(e,2)):[]}),yr=En(function(t,n){var e=Ar(n);return ki(e)&&(e=ea),ki(t)?zt(t,Ht(n,1,ki,!0),ea,e):[]});function br(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:Wi(e);return i<0&&(i=$(r+i,0)),Yu(t,qe(n,3),i)}function wr(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return e!==ea&&(i=Wi(e),i=e<0?$(r+i,0):Z(i,r-1)),Yu(t,qe(n,3),i,!0)}function xr(t){return null!=t&&t.length?Ht(t,1):[]}function _r(t){return t&&t.length?t[0]:ea}var kr=En(function(t){var n=Bu(t,$n);return n.length&&n[0]===t[0]?rn(n):[]}),Mr=En(function(t){var n=Ar(t),e=Bu(t,$n);return n===Ar(e)?n=ea:e.pop(),e.length&&e[0]===t[0]?rn(e,qe(n,2)):[]}),Er=En(function(t){var n=Ar(t),e=Bu(t,$n);return(n="function"==typeof n?n:ea)&&e.pop(),e.length&&e[0]===t[0]?rn(e,ea,n):[]});function Ar(t){var n=null==t?0:t.length;return n?t[n-1]:ea}var Sr=En(Nr);function Nr(t,n){return t&&t.length&&n&&n.length?xn(t,n):t}var Cr=je(function(t,n){var e=null==t?0:t.length,r=Pt(t,n);return _n(t,Bu(n,function(t){return Ze(t,e)?+t:t}).sort(ne)),r});function Rr(t){return null==t?t:Q.call(t)}var jr=En(function(t){return zn(Ht(t,1,ki,!0))}),Or=En(function(t){var n=Ar(t);return ki(n)&&(n=ea),zn(Ht(t,1,ki,!0),qe(n,2))}),Tr=En(function(t){var n=Ar(t);return n="function"==typeof n?n:ea,zn(Ht(t,1,ki,!0),ea,n)});function Pr(n){if(!n||!n.length)return[];var e=0;return n=zu(n,function(t){if(ki(t))return e=$(t.length,e),!0}),es(e,function(t){return Bu(n,Xu(t))})}function Fr(t,n){if(!t||!t.length)return[];var e=Pr(t);return null==n?e:Bu(e,function(t){return Pu(n,ea,t)})}var Dr=En(function(t,n){return ki(t)?zt(t,n):[]}),qr=En(function(t){return Wn(zu(t,ki))}),Lr=En(function(t){var n=Ar(t);return ki(n)&&(n=ea),Wn(zu(t,ki),qe(n,2))}),zr=En(function(t){var n=Ar(t);return n="function"==typeof n?n:ea,Wn(zu(t,ki),ea,n)}),Ir=En(Pr);var Ur=En(function(t){var n=t.length,e=1<n?t[n-1]:ea;return Fr(t,e="function"==typeof e?(t.pop(),e):ea)});function Br(t){var n=dt(t);return n.__chain__=!0,n}function Vr(t,n){return n(t)}var Wr=je(function(n){var e=n.length,t=e?n[0]:0,r=this.__wrapped__,i=function(t){return Pt(t,n)};return!(1<e||this.__actions__.length)&&r instanceof yt&&Ze(t)?((r=r.slice(t,+t+(e?1:0))).__actions__.push({func:Vr,args:[i],thisArg:ea}),new mt(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(ea),t})):this.thru(i)});var Hr=ae(function(t,n,e){E.call(t,e)?++t[e]:Tt(t,e,1)});var $r=pe(br),Zr=pe(wr);function Yr(t,n){return(wi(t)?Du:It)(t,qe(n,3))}function Gr(t,n){return(wi(t)?qu:Ut)(t,qe(n,3))}var Kr=ae(function(t,n,e){E.call(t,e)?t[e].push(n):Tt(t,e,[n])});var Qr=En(function(t,n,e){var r=-1,i="function"==typeof n,o=_i(t)?N(t.length):[];return It(t,function(t){o[++r]=i?Pu(n,t,e):on(t,n,e)}),o}),Jr=ae(function(t,n,e){Tt(t,e,n)});function Xr(t,n){return(wi(t)?Bu:dn)(t,qe(n,3))}var ti=ae(function(t,n,e){t[e?0:1].push(n)},function(){return[[],[]]});var ni=En(function(t,n){if(null==t)return[];var e=n.length;return 1<e&&Ye(t,n[0],n[1])?n=[]:2<e&&Ye(n[0],n[1],n[2])&&(n=[n[0]]),bn(t,Ht(n,1),[])}),ei=q||function(){return Au.Date.now()};function ri(t,n,e){return n=e?ea:n,n=t&&null==n?t.length:n,Ae(t,128,ea,ea,ea,ea,n)}function ii(t,n){var e;if("function"!=typeof n)throw new C(ra);return t=Wi(t),function(){return 0<--t&&(e=n.apply(this,arguments)),t<=1&&(n=ea),e}}var oi=En(function(t,n,e){var r=1;if(e.length){var i=ds(e,De(oi));r|=32}return Ae(t,r,n,e,i)}),ai=En(function(t,n,e){var r=3;if(e.length){var i=ds(e,De(ai));r|=32}return Ae(n,r,t,e,i)});function ui(r,i,t){var o,a,u,s,c,l,f=0,h=!1,p=!1,n=!0;if("function"!=typeof r)throw new C(ra);function d(t){var n=o,e=a;return o=a=ea,f=t,s=r.apply(e,n)}function v(t){var n=t-l;return l===ea||i<=n||n<0||p&&u<=t-f}function g(){var t,n,e=ei();if(v(e))return m(e);c=or(g,(n=i-((t=e)-l),p?Z(n,u-(t-f)):n))}function m(t){return c=ea,n&&o?d(t):(o=a=ea,s)}function e(){var t,n=ei(),e=v(n);if(o=arguments,a=this,l=n,e){if(c===ea)return f=t=l,c=or(g,i),h?d(t):s;if(p)return c=or(g,i),d(l)}return c===ea&&(c=or(g,i)),s}return i=$i(i)||0,Ri(t)&&(h=!!t.leading,u=(p="maxWait"in t)?$($i(t.maxWait)||0,i):u,n="trailing"in t?!!t.trailing:n),e.cancel=function(){c!==ea&&Qn(c),f=0,o=l=a=c=ea},e.flush=function(){return c===ea?s:m(ei())},e}var si=En(function(t,n){return Lt(t,1,n)}),ci=En(function(t,n,e){return Lt(t,$i(n)||0,e)});function li(i,o){if("function"!=typeof i||null!=o&&"function"!=typeof o)throw new C(ra);var a=function(){var t=arguments,n=o?o.apply(this,t):t[0],e=a.cache;if(e.has(n))return e.get(n);var r=i.apply(this,t);return a.cache=e.set(n,r)||e,r};return a.cache=new(li.Cache||xt),a}function fi(n){if("function"!=typeof n)throw new C(ra);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}li.Cache=xt;var hi=Gn(function(r,i){var o=(i=1==i.length&&wi(i[0])?Bu(i[0],rs(qe())):Bu(Ht(i,1),rs(qe()))).length;return En(function(t){for(var n=-1,e=Z(t.length,o);++n<e;)t[n]=i[n].call(this,t[n]);return Pu(r,this,t)})}),pi=En(function(t,n){var e=ds(n,De(pi));return Ae(t,32,ea,n,e)}),di=En(function(t,n){var e=ds(n,De(di));return Ae(t,64,ea,n,e)}),vi=je(function(t,n){return Ae(t,256,ea,ea,ea,n)});function gi(t,n){return t===n||t!=t&&n!=n}var mi=xe(tn),yi=xe(function(t,n){return n<=t}),bi=an(function(){return arguments}())?an:function(t){return ji(t)&&E.call(t,"callee")&&!R.call(t,"callee")},wi=N.isArray,xi=Nu?rs(Nu):function(t){return ji(t)&&Xt(t)==Aa};function _i(t){return null!=t&&Ci(t.length)&&!Si(t)}function ki(t){return ji(t)&&_i(t)}var Mi=B||Zo,Ei=Cu?rs(Cu):function(t){return ji(t)&&Xt(t)==pa};function Ai(t){if(!ji(t))return!1;var n=Xt(t);return n==da||"[object DOMException]"==n||"string"==typeof t.message&&"string"==typeof t.name&&!Pi(t)}function Si(t){if(!Ri(t))return!1;var n=Xt(t);return n==va||n==ga||"[object AsyncFunction]"==n||"[object Proxy]"==n}function Ni(t){return"number"==typeof t&&t==Wi(t)}function Ci(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=aa}function Ri(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function ji(t){return null!=t&&"object"==typeof t}var Oi=Ru?rs(Ru):function(t){return ji(t)&&Ve(t)==ma};function Ti(t){return"number"==typeof t||ji(t)&&Xt(t)==ya}function Pi(t){if(!ji(t)||Xt(t)!=ba)return!1;var n=A(t);if(null===n)return!0;var e=E.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&c.call(e)==v}var Fi=ju?rs(ju):function(t){return ji(t)&&Xt(t)==xa};var Di=Ou?rs(Ou):function(t){return ji(t)&&Ve(t)==_a};function qi(t){return"string"==typeof t||!wi(t)&&ji(t)&&Xt(t)==ka}function Li(t){return"symbol"==typeof t||ji(t)&&Xt(t)==Ma}var zi=Tu?rs(Tu):function(t){return ji(t)&&Ci(t.length)&&!!_u[Xt(t)]};var Ii=xe(pn),Ui=xe(function(t,n){return t<=n});function Bi(t){if(!t)return[];if(_i(t))return qi(t)?ms(t):ie(t);if(T&&t[T])return function(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}(t[T]());var n=Ve(t);return(n==ma?hs:n==_a?vs:mo)(t)}function Vi(t){return t?(t=$i(t))!==1/0&&t!==-1/0?t==t?t:0:17976931348623157e292*(t<0?-1:1):0===t?t:0}function Wi(t){var n=Vi(t),e=n%1;return n==n?e?n-e:n:0}function Hi(t){return t?Ft(Wi(t),0,sa):0}function $i(t){if("number"==typeof t)return t;if(Li(t))return ua;if(Ri(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=Ri(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ja,"");var e=cu.test(t);return e||fu.test(t)?Eu(t.slice(2),e?2:8):su.test(t)?ua:+t}function Zi(t){return oe(t,so(t))}function Yi(t){return null==t?"":Ln(t)}var Gi=ue(function(t,n){if(Je(n)||_i(n))oe(n,uo(n),t);else for(var e in n)E.call(n,e)&&Ct(t,e,n[e])}),Ki=ue(function(t,n){oe(n,so(n),t)}),Qi=ue(function(t,n,e,r){oe(n,so(n),t,r)}),Ji=ue(function(t,n,e,r){oe(n,uo(n),t,r)}),Xi=je(Pt);var to=En(function(t,n){t=M(t);var e=-1,r=n.length,i=2<r?n[2]:ea;for(i&&Ye(n[0],n[1],i)&&(r=1);++e<r;)for(var o=n[e],a=so(o),u=-1,s=a.length;++u<s;){var c=a[u],l=t[c];(l===ea||gi(l,f[c])&&!E.call(t,c))&&(t[c]=o[c])}return t}),no=En(function(t){return t.push(ea,Ne),Pu(lo,ea,t)});function eo(t,n,e){var r=null==t?ea:Qt(t,n);return r===ea?e:r}function ro(t,n){return null!=t&&We(t,n,en)}var io=ge(function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=d.call(n)),t[n]=e},jo(Po)),oo=ge(function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=d.call(n)),E.call(t,n)?t[n].push(e):t[n]=[e]},qe),ao=En(on);function uo(t){return _i(t)?Mt(t):fn(t)}function so(t){return _i(t)?Mt(t,!0):hn(t)}var co=ue(function(t,n,e){mn(t,n,e)}),lo=ue(function(t,n,e,r){mn(t,n,e,r)}),fo=je(function(n,t){var e={};if(null==n)return e;var r=!1;t=Bu(t,function(t){return t=Yn(t,n),r||(r=1<t.length),t}),oe(n,Te(n),e),r&&(e=Dt(e,7,Ce));for(var i=t.length;i--;)In(e,t[i]);return e});var ho=je(function(t,n){return null==t?{}:wn(e=t,n,function(t,n){return ro(e,n)});var e});function po(t,e){if(null==t)return{};var n=Bu(Te(t),function(t){return[t]});return e=qe(e),wn(t,n,function(t,n){return e(t,n[0])})}var vo=Ee(uo),go=Ee(so);function mo(t){return null==t?[]:is(t,uo(t))}var yo=fe(function(t,n,e){return n=n.toLowerCase(),t+(e?bo(n):n)});function bo(t){return So(Yi(t).toLowerCase())}function wo(t){return(t=Yi(t))&&t.replace(pu,ss).replace(mu,"")}var xo=fe(function(t,n,e){return t+(e?"-":"")+n.toLowerCase()}),_o=fe(function(t,n,e){return t+(e?" ":"")+n.toLowerCase()}),ko=le("toLowerCase");var Mo=fe(function(t,n,e){return t+(e?"_":"")+n.toLowerCase()});var Eo=fe(function(t,n,e){return t+(e?" ":"")+So(n)});var Ao=fe(function(t,n,e){return t+(e?" ":"")+n.toUpperCase()}),So=le("toUpperCase");function No(t,n,e){return t=Yi(t),(n=e?ea:n)===ea?(r=t,bu.test(r)?t.match(yu)||[]:t.match(iu)||[]):t.match(n)||[];var r}var Co=En(function(t,n){try{return Pu(t,ea,n)}catch(t){return Ai(t)?t:new i(t)}}),Ro=je(function(n,t){return Du(t,function(t){t=pr(t),Tt(n,t,oi(n[t],n))}),n});function jo(t){return function(){return t}}var Oo=de(),To=de(!0);function Po(t){return t}function Fo(t){return ln("function"==typeof t?t:Dt(t,1))}var Do=En(function(n,e){return function(t){return on(t,n,e)}}),qo=En(function(n,e){return function(t){return on(n,t,e)}});function Lo(r,n,t){var e=uo(n),i=Kt(n,e);null!=t||Ri(n)&&(i.length||!e.length)||(t=n,n=r,r=this,i=Kt(n,uo(n)));var o=!(Ri(t)&&"chain"in t&&!t.chain),a=Si(r);return Du(i,function(t){var e=n[t];r[t]=e,a&&(r.prototype[t]=function(){var t=this.__chain__;if(o||t){var n=r(this.__wrapped__);return(n.__actions__=ie(this.__actions__)).push({func:e,args:arguments,thisArg:r}),n.__chain__=t,n}return e.apply(r,Vu([this.value()],arguments))})}),r}function zo(){}var Io=ye(Bu),Uo=ye(Lu),Bo=ye($u);function Vo(t){return Ge(t)?Xu(pr(t)):(n=t,function(t){return Qt(t,n)});var n}var Wo=we(),Ho=we(!0);function $o(){return[]}function Zo(){return!1}var Yo=me(function(t,n){return t+n},0),Go=ke("ceil"),Ko=me(function(t,n){return t/n},1),Qo=ke("floor");var Jo,Xo=me(function(t,n){return t*n},1),ta=ke("round"),na=me(function(t,n){return t-n},0);return dt.after=function(t,n){if("function"!=typeof n)throw new C(ra);return t=Wi(t),function(){if(--t<1)return n.apply(this,arguments)}},dt.ary=ri,dt.assign=Gi,dt.assignIn=Ki,dt.assignInWith=Qi,dt.assignWith=Ji,dt.at=Xi,dt.before=ii,dt.bind=oi,dt.bindAll=Ro,dt.bindKey=ai,dt.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return wi(t)?t:[t]},dt.chain=Br,dt.chunk=function(t,n,e){n=(e?Ye(t,n,e):n===ea)?1:$(Wi(n),0);var r=null==t?0:t.length;if(!r||n<1)return[];for(var i=0,o=0,a=N(z(r/n));i<r;)a[o++]=On(t,i,i+=n);return a},dt.compact=function(t){for(var n=-1,e=null==t?0:t.length,r=0,i=[];++n<e;){var o=t[n];o&&(i[r++]=o)}return i},dt.concat=function(){var t=arguments.length;if(!t)return[];for(var n=N(t-1),e=arguments[0],r=t;r--;)n[r-1]=arguments[r];return Vu(wi(e)?ie(e):[e],Ht(n,1))},dt.cond=function(r){var i=null==r?0:r.length,n=qe();return r=i?Bu(r,function(t){if("function"!=typeof t[1])throw new C(ra);return[n(t[0]),t[1]]}):[],En(function(t){for(var n=-1;++n<i;){var e=r[n];if(Pu(e[0],this,t))return Pu(e[1],this,t)}})},dt.conforms=function(t){return n=Dt(t,1),e=uo(n),function(t){return qt(t,n,e)};var n,e},dt.constant=jo,dt.countBy=Hr,dt.create=function(t,n){var e=vt(t);return null==n?e:Ot(e,n)},dt.curry=function t(n,e,r){var i=Ae(n,8,ea,ea,ea,ea,ea,e=r?ea:e);return i.placeholder=t.placeholder,i},dt.curryRight=function t(n,e,r){var i=Ae(n,16,ea,ea,ea,ea,ea,e=r?ea:e);return i.placeholder=t.placeholder,i},dt.debounce=ui,dt.defaults=to,dt.defaultsDeep=no,dt.defer=si,dt.delay=ci,dt.difference=gr,dt.differenceBy=mr,dt.differenceWith=yr,dt.drop=function(t,n,e){var r=null==t?0:t.length;return r?On(t,(n=e||n===ea?1:Wi(n))<0?0:n,r):[]},dt.dropRight=function(t,n,e){var r=null==t?0:t.length;return r?On(t,0,(n=r-(n=e||n===ea?1:Wi(n)))<0?0:n):[]},dt.dropRightWhile=function(t,n){return t&&t.length?Bn(t,qe(n,3),!0,!0):[]},dt.dropWhile=function(t,n){return t&&t.length?Bn(t,qe(n,3),!0):[]},dt.fill=function(t,n,e,r){var i=null==t?0:t.length;return i?(e&&"number"!=typeof e&&Ye(t,n,e)&&(e=0,r=i),function(t,n,e,r){var i=t.length;for((e=Wi(e))<0&&(e=i<-e?0:i+e),(r=r===ea||i<r?i:Wi(r))<0&&(r+=i),r=r<e?0:Hi(r);e<r;)t[e++]=n;return t}(t,n,e,r)):[]},dt.filter=function(t,n){return(wi(t)?zu:Wt)(t,qe(n,3))},dt.flatMap=function(t,n){return Ht(Xr(t,n),1)},dt.flatMapDeep=function(t,n){return Ht(Xr(t,n),1/0)},dt.flatMapDepth=function(t,n,e){return e=e===ea?1:Wi(e),Ht(Xr(t,n),e)},dt.flatten=xr,dt.flattenDeep=function(t){return null!=t&&t.length?Ht(t,1/0):[]},dt.flattenDepth=function(t,n){return null!=t&&t.length?Ht(t,n=n===ea?1:Wi(n)):[]},dt.flip=function(t){return Ae(t,512)},dt.flow=Oo,dt.flowRight=To,dt.fromPairs=function(t){for(var n=-1,e=null==t?0:t.length,r={};++n<e;){var i=t[n];r[i[0]]=i[1]}return r},dt.functions=function(t){return null==t?[]:Kt(t,uo(t))},dt.functionsIn=function(t){return null==t?[]:Kt(t,so(t))},dt.groupBy=Kr,dt.initial=function(t){return null!=t&&t.length?On(t,0,-1):[]},dt.intersection=kr,dt.intersectionBy=Mr,dt.intersectionWith=Er,dt.invert=io,dt.invertBy=oo,dt.invokeMap=Qr,dt.iteratee=Fo,dt.keyBy=Jr,dt.keys=uo,dt.keysIn=so,dt.map=Xr,dt.mapKeys=function(t,r){var i={};return r=qe(r,3),Yt(t,function(t,n,e){Tt(i,r(t,n,e),t)}),i},dt.mapValues=function(t,r){var i={};return r=qe(r,3),Yt(t,function(t,n,e){Tt(i,n,r(t,n,e))}),i},dt.matches=function(t){return vn(Dt(t,1))},dt.matchesProperty=function(t,n){return gn(t,Dt(n,1))},dt.memoize=li,dt.merge=co,dt.mergeWith=lo,dt.method=Do,dt.methodOf=qo,dt.mixin=Lo,dt.negate=fi,dt.nthArg=function(n){return n=Wi(n),En(function(t){return yn(t,n)})},dt.omit=fo,dt.omitBy=function(t,n){return po(t,fi(qe(n)))},dt.once=function(t){return ii(2,t)},dt.orderBy=function(t,n,e,r){return null==t?[]:(wi(n)||(n=null==n?[]:[n]),wi(e=r?ea:e)||(e=null==e?[]:[e]),bn(t,n,e))},dt.over=Io,dt.overArgs=hi,dt.overEvery=Uo,dt.overSome=Bo,dt.partial=pi,dt.partialRight=di,dt.partition=ti,dt.pick=ho,dt.pickBy=po,dt.property=Vo,dt.propertyOf=function(n){return function(t){return null==n?ea:Qt(n,t)}},dt.pull=Sr,dt.pullAll=Nr,dt.pullAllBy=function(t,n,e){return t&&t.length&&n&&n.length?xn(t,n,qe(e,2)):t},dt.pullAllWith=function(t,n,e){return t&&t.length&&n&&n.length?xn(t,n,ea,e):t},dt.pullAt=Cr,dt.range=Wo,dt.rangeRight=Ho,dt.rearg=vi,dt.reject=function(t,n){return(wi(t)?zu:Wt)(t,fi(qe(n,3)))},dt.remove=function(t,n){var e=[];if(!t||!t.length)return e;var r=-1,i=[],o=t.length;for(n=qe(n,3);++r<o;){var a=t[r];n(a,r,t)&&(e.push(a),i.push(r))}return _n(t,i),e},dt.rest=function(t,n){if("function"!=typeof t)throw new C(ra);return En(t,n=n===ea?n:Wi(n))},dt.reverse=Rr,dt.sampleSize=function(t,n,e){return n=(e?Ye(t,n,e):n===ea)?1:Wi(n),(wi(t)?At:Sn)(t,n)},dt.set=function(t,n,e){return null==t?t:Nn(t,n,e)},dt.setWith=function(t,n,e,r){return r="function"==typeof r?r:ea,null==t?t:Nn(t,n,e,r)},dt.shuffle=function(t){return(wi(t)?St:jn)(t)},dt.slice=function(t,n,e){var r=null==t?0:t.length;return r?On(t,n,e=e&&"number"!=typeof e&&Ye(t,n,e)?(n=0,r):(n=null==n?0:Wi(n),e===ea?r:Wi(e))):[]},dt.sortBy=ni,dt.sortedUniq=function(t){return t&&t.length?Dn(t):[]},dt.sortedUniqBy=function(t,n){return t&&t.length?Dn(t,qe(n,2)):[]},dt.split=function(t,n,e){return e&&"number"!=typeof e&&Ye(t,n,e)&&(n=e=ea),(e=e===ea?sa:e>>>0)?(t=Yi(t))&&("string"==typeof n||null!=n&&!Fi(n))&&!(n=Ln(n))&&fs(t)?Kn(ms(t),0,e):t.split(n,e):[]},dt.spread=function(r,i){if("function"!=typeof r)throw new C(ra);return i=null==i?0:$(Wi(i),0),En(function(t){var n=t[i],e=Kn(t,0,i);return n&&Vu(e,n),Pu(r,this,e)})},dt.tail=function(t){var n=null==t?0:t.length;return n?On(t,1,n):[]},dt.take=function(t,n,e){return t&&t.length?On(t,0,(n=e||n===ea?1:Wi(n))<0?0:n):[]},dt.takeRight=function(t,n,e){var r=null==t?0:t.length;return r?On(t,(n=r-(n=e||n===ea?1:Wi(n)))<0?0:n,r):[]},dt.takeRightWhile=function(t,n){return t&&t.length?Bn(t,qe(n,3),!1,!0):[]},dt.takeWhile=function(t,n){return t&&t.length?Bn(t,qe(n,3)):[]},dt.tap=function(t,n){return n(t),t},dt.throttle=function(t,n,e){var r=!0,i=!0;if("function"!=typeof t)throw new C(ra);return Ri(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),ui(t,n,{leading:r,maxWait:n,trailing:i})},dt.thru=Vr,dt.toArray=Bi,dt.toPairs=vo,dt.toPairsIn=go,dt.toPath=function(t){return wi(t)?Bu(t,pr):Li(t)?[t]:ie(hr(Yi(t)))},dt.toPlainObject=Zi,dt.transform=function(t,r,i){var n=wi(t),e=n||Mi(t)||zi(t);if(r=qe(r,4),null==i){var o=t&&t.constructor;i=e?n?new o:[]:Ri(t)&&Si(o)?vt(A(t)):{}}return(e?Du:Yt)(t,function(t,n,e){return r(i,t,n,e)}),i},dt.unary=function(t){return ri(t,1)},dt.union=jr,dt.unionBy=Or,dt.unionWith=Tr,dt.uniq=function(t){return t&&t.length?zn(t):[]},dt.uniqBy=function(t,n){return t&&t.length?zn(t,qe(n,2)):[]},dt.uniqWith=function(t,n){return n="function"==typeof n?n:ea,t&&t.length?zn(t,ea,n):[]},dt.unset=function(t,n){return null==t||In(t,n)},dt.unzip=Pr,dt.unzipWith=Fr,dt.update=function(t,n,e){return null==t?t:Un(t,n,Zn(e))},dt.updateWith=function(t,n,e,r){return r="function"==typeof r?r:ea,null==t?t:Un(t,n,Zn(e),r)},dt.values=mo,dt.valuesIn=function(t){return null==t?[]:is(t,so(t))},dt.without=Dr,dt.words=No,dt.wrap=function(t,n){return pi(Zn(n),t)},dt.xor=qr,dt.xorBy=Lr,dt.xorWith=zr,dt.zip=Ir,dt.zipObject=function(t,n){return Hn(t||[],n||[],Ct)},dt.zipObjectDeep=function(t,n){return Hn(t||[],n||[],Nn)},dt.zipWith=Ur,dt.entries=vo,dt.entriesIn=go,dt.extend=Ki,dt.extendWith=Qi,Lo(dt,dt),dt.add=Yo,dt.attempt=Co,dt.camelCase=yo,dt.capitalize=bo,dt.ceil=Go,dt.clamp=function(t,n,e){return e===ea&&(e=n,n=ea),e!==ea&&(e=(e=$i(e))==e?e:0),n!==ea&&(n=(n=$i(n))==n?n:0),Ft($i(t),n,e)},dt.clone=function(t){return Dt(t,4)},dt.cloneDeep=function(t){return Dt(t,5)},dt.cloneDeepWith=function(t,n){return Dt(t,5,n="function"==typeof n?n:ea)},dt.cloneWith=function(t,n){return Dt(t,4,n="function"==typeof n?n:ea)},dt.conformsTo=function(t,n){return null==n||qt(t,n,uo(n))},dt.deburr=wo,dt.defaultTo=function(t,n){return null==t||t!=t?n:t},dt.divide=Ko,dt.endsWith=function(t,n,e){t=Yi(t),n=Ln(n);var r=t.length,i=e=e===ea?r:Ft(Wi(e),0,r);return 0<=(e-=n.length)&&t.slice(e,i)==n},dt.eq=gi,dt.escape=function(t){return(t=Yi(t))&&Va.test(t)?t.replace(Ua,cs):t},dt.escapeRegExp=function(t){return(t=Yi(t))&&Qa.test(t)?t.replace(Ka,"\\$&"):t},dt.every=function(t,n,e){var r=wi(t)?Lu:Bt;return e&&Ye(t,n,e)&&(n=ea),r(t,qe(n,3))},dt.find=$r,dt.findIndex=br,dt.findKey=function(t,n){return Zu(t,qe(n,3),Yt)},dt.findLast=Zr,dt.findLastIndex=wr,dt.findLastKey=function(t,n){return Zu(t,qe(n,3),Gt)},dt.floor=Qo,dt.forEach=Yr,dt.forEachRight=Gr,dt.forIn=function(t,n){return null==t?t:$t(t,qe(n,3),so)},dt.forInRight=function(t,n){return null==t?t:Zt(t,qe(n,3),so)},dt.forOwn=function(t,n){return t&&Yt(t,qe(n,3))},dt.forOwnRight=function(t,n){return t&&Gt(t,qe(n,3))},dt.get=eo,dt.gt=mi,dt.gte=yi,dt.has=function(t,n){return null!=t&&We(t,n,nn)},dt.hasIn=ro,dt.head=_r,dt.identity=Po,dt.includes=function(t,n,e,r){t=_i(t)?t:mo(t),e=e&&!r?Wi(e):0;var i=t.length;return e<0&&(e=$(i+e,0)),qi(t)?e<=i&&-1<t.indexOf(n,e):!!i&&-1<Gu(t,n,e)},dt.indexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=null==e?0:Wi(e);return i<0&&(i=$(r+i,0)),Gu(t,n,i)},dt.inRange=function(t,n,e){return n=Vi(n),e===ea?(e=n,n=0):e=Vi(e),t=$i(t),(r=t)>=Z(i=n,o=e)&&r<$(i,o);var r,i,o},dt.invoke=ao,dt.isArguments=bi,dt.isArray=wi,dt.isArrayBuffer=xi,dt.isArrayLike=_i,dt.isArrayLikeObject=ki,dt.isBoolean=function(t){return!0===t||!1===t||ji(t)&&Xt(t)==ha},dt.isBuffer=Mi,dt.isDate=Ei,dt.isElement=function(t){return ji(t)&&1===t.nodeType&&!Pi(t)},dt.isEmpty=function(t){if(null==t)return!0;if(_i(t)&&(wi(t)||"string"==typeof t||"function"==typeof t.splice||Mi(t)||zi(t)||bi(t)))return!t.length;var n=Ve(t);if(n==ma||n==_a)return!t.size;if(Je(t))return!fn(t).length;for(var e in t)if(E.call(t,e))return!1;return!0},dt.isEqual=function(t,n){return un(t,n)},dt.isEqualWith=function(t,n,e){var r=(e="function"==typeof e?e:ea)?e(t,n):ea;return r===ea?un(t,n,ea,e):!!r},dt.isError=Ai,dt.isFinite=function(t){return"number"==typeof t&&V(t)},dt.isFunction=Si,dt.isInteger=Ni,dt.isLength=Ci,dt.isMap=Oi,dt.isMatch=function(t,n){return t===n||sn(t,n,ze(n))},dt.isMatchWith=function(t,n,e){return e="function"==typeof e?e:ea,sn(t,n,ze(n),e)},dt.isNaN=function(t){return Ti(t)&&t!=+t},dt.isNative=function(t){if(Qe(t))throw new i("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return cn(t)},dt.isNil=function(t){return null==t},dt.isNull=function(t){return null===t},dt.isNumber=Ti,dt.isObject=Ri,dt.isObjectLike=ji,dt.isPlainObject=Pi,dt.isRegExp=Fi,dt.isSafeInteger=function(t){return Ni(t)&&-aa<=t&&t<=aa},dt.isSet=Di,dt.isString=qi,dt.isSymbol=Li,dt.isTypedArray=zi,dt.isUndefined=function(t){return t===ea},dt.isWeakMap=function(t){return ji(t)&&Ve(t)==Ea},dt.isWeakSet=function(t){return ji(t)&&"[object WeakSet]"==Xt(t)},dt.join=function(t,n){return null==t?"":W.call(t,n)},dt.kebabCase=xo,dt.last=Ar,dt.lastIndexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=r;return e!==ea&&(i=(i=Wi(e))<0?$(r+i,0):Z(i,r-1)),n==n?function(t,n,e){for(var r=e+1;r--;)if(t[r]===n)return r;return r}(t,n,i):Yu(t,Qu,i,!0)},dt.lowerCase=_o,dt.lowerFirst=ko,dt.lt=Ii,dt.lte=Ui,dt.max=function(t){return t&&t.length?Vt(t,Po,tn):ea},dt.maxBy=function(t,n){return t&&t.length?Vt(t,qe(n,2),tn):ea},dt.mean=function(t){return Ju(t,Po)},dt.meanBy=function(t,n){return Ju(t,qe(n,2))},dt.min=function(t){return t&&t.length?Vt(t,Po,pn):ea},dt.minBy=function(t,n){return t&&t.length?Vt(t,qe(n,2),pn):ea},dt.stubArray=$o,dt.stubFalse=Zo,dt.stubObject=function(){return{}},dt.stubString=function(){return""},dt.stubTrue=function(){return!0},dt.multiply=Xo,dt.nth=function(t,n){return t&&t.length?yn(t,Wi(n)):ea},dt.noConflict=function(){return Au._===this&&(Au._=y),this},dt.noop=zo,dt.now=ei,dt.pad=function(t,n,e){t=Yi(t);var r=(n=Wi(n))?gs(t):0;if(!n||n<=r)return t;var i=(n-r)/2;return be(I(i),e)+t+be(z(i),e)},dt.padEnd=function(t,n,e){t=Yi(t);var r=(n=Wi(n))?gs(t):0;return n&&r<n?t+be(n-r,e):t},dt.padStart=function(t,n,e){t=Yi(t);var r=(n=Wi(n))?gs(t):0;return n&&r<n?be(n-r,e)+t:t},dt.parseInt=function(t,n,e){return e||null==n?n=0:n&&(n=+n),G(Yi(t).replace(Xa,""),n||0)},dt.random=function(t,n,e){if(e&&"boolean"!=typeof e&&Ye(t,n,e)&&(n=e=ea),e===ea&&("boolean"==typeof n?(e=n,n=ea):"boolean"==typeof t&&(e=t,t=ea)),t===ea&&n===ea?(t=0,n=1):(t=Vi(t),n===ea?(n=t,t=0):n=Vi(n)),n<t){var r=t;t=n,n=r}if(e||t%1||n%1){var i=K();return Z(t+i*(n-t+Mu("1e-"+((i+"").length-1))),n)}return kn(t,n)},dt.reduce=function(t,n,e){var r=wi(t)?Wu:ts,i=arguments.length<3;return r(t,qe(n,4),e,i,It)},dt.reduceRight=function(t,n,e){var r=wi(t)?Hu:ts,i=arguments.length<3;return r(t,qe(n,4),e,i,Ut)},dt.repeat=function(t,n,e){return n=(e?Ye(t,n,e):n===ea)?1:Wi(n),Mn(Yi(t),n)},dt.replace=function(){var t=arguments,n=Yi(t[0]);return t.length<3?n:n.replace(t[1],t[2])},dt.result=function(t,n,e){var r=-1,i=(n=Yn(n,t)).length;for(i||(i=1,t=ea);++r<i;){var o=null==t?ea:t[pr(n[r])];o===ea&&(r=i,o=e),t=Si(o)?o.call(t):o}return t},dt.round=ta,dt.runInContext=t,dt.sample=function(t){return(wi(t)?Et:An)(t)},dt.size=function(t){if(null==t)return 0;if(_i(t))return qi(t)?gs(t):t.length;var n=Ve(t);return n==ma||n==_a?t.size:fn(t).length},dt.snakeCase=Mo,dt.some=function(t,n,e){var r=wi(t)?$u:Tn;return e&&Ye(t,n,e)&&(n=ea),r(t,qe(n,3))},dt.sortedIndex=function(t,n){return Pn(t,n)},dt.sortedIndexBy=function(t,n,e){return Fn(t,n,qe(e,2))},dt.sortedIndexOf=function(t,n){var e=null==t?0:t.length;if(e){var r=Pn(t,n);if(r<e&&gi(t[r],n))return r}return-1},dt.sortedLastIndex=function(t,n){return Pn(t,n,!0)},dt.sortedLastIndexBy=function(t,n,e){return Fn(t,n,qe(e,2),!0)},dt.sortedLastIndexOf=function(t,n){if(null!=t&&t.length){var e=Pn(t,n,!0)-1;if(gi(t[e],n))return e}return-1},dt.startCase=Eo,dt.startsWith=function(t,n,e){return t=Yi(t),e=null==e?0:Ft(Wi(e),0,t.length),n=Ln(n),t.slice(e,e+n.length)==n},dt.subtract=na,dt.sum=function(t){return t&&t.length?ns(t,Po):0},dt.sumBy=function(t,n){return t&&t.length?ns(t,qe(n,2)):0},dt.template=function(a,t,n){var e=dt.templateSettings;n&&Ye(a,t,n)&&(t=ea),a=Yi(a),t=Qi({},t,e,Se);var u,s,r=Qi({},t.imports,e.imports,Se),i=uo(r),o=is(r,i),c=0,l=t.interpolate||du,f="__p += '",h=m((t.escape||du).source+"|"+l.source+"|"+(l===$a?au:du).source+"|"+(t.evaluate||du).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++xu+"]")+"\n";a.replace(h,function(t,n,e,r,i,o){return e||(e=r),f+=a.slice(c,o).replace(vu,ls),n&&(u=!0,f+="' +\n__e("+n+") +\n'"),i&&(s=!0,f+="';\n"+i+";\n__p += '"),e&&(f+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),c=o+t.length,t}),f+="';\n";var d=t.variable;d||(f="with (obj) {\n"+f+"\n}\n"),f=(s?f.replace(qa,""):f).replace(La,"$1").replace(za,"$1;"),f="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Co(function(){return g(i,p+"return "+f).apply(ea,o)});if(v.source=f,Ai(v))throw v;return v},dt.times=function(t,n){if((t=Wi(t))<1||aa<t)return[];var e=sa,r=Z(t,sa);n=qe(n),t-=sa;for(var i=es(r,n);++e<t;)n(e);return i},dt.toFinite=Vi,dt.toInteger=Wi,dt.toLength=Hi,dt.toLower=function(t){return Yi(t).toLowerCase()},dt.toNumber=$i,dt.toSafeInteger=function(t){return t?Ft(Wi(t),-aa,aa):0===t?t:0},dt.toString=Yi,dt.toUpper=function(t){return Yi(t).toUpperCase()},dt.trim=function(t,n,e){if((t=Yi(t))&&(e||n===ea))return t.replace(Ja,"");if(!t||!(n=Ln(n)))return t;var r=ms(t),i=ms(n);return Kn(r,as(r,i),us(r,i)+1).join("")},dt.trimEnd=function(t,n,e){if((t=Yi(t))&&(e||n===ea))return t.replace(tu,"");if(!t||!(n=Ln(n)))return t;var r=ms(t);return Kn(r,0,us(r,ms(n))+1).join("")},dt.trimStart=function(t,n,e){if((t=Yi(t))&&(e||n===ea))return t.replace(Xa,"");if(!t||!(n=Ln(n)))return t;var r=ms(t);return Kn(r,as(r,ms(n))).join("")},dt.truncate=function(t,n){var e=30,r="...";if(Ri(n)){var i="separator"in n?n.separator:i;e="length"in n?Wi(n.length):e,r="omission"in n?Ln(n.omission):r}var o=(t=Yi(t)).length;if(fs(t)){var a=ms(t);o=a.length}if(o<=e)return t;var u=e-gs(r);if(u<1)return r;var s=a?Kn(a,0,u).join(""):t.slice(0,u);if(i===ea)return s+r;if(a&&(u+=s.length-u),Fi(i)){if(t.slice(u).search(i)){var c,l=s;for(i.global||(i=m(i.source,Yi(uu.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var f=c.index;s=s.slice(0,f===ea?u:f)}}else if(t.indexOf(Ln(i),u)!=u){var h=s.lastIndexOf(i);-1<h&&(s=s.slice(0,h))}return s+r},dt.unescape=function(t){return(t=Yi(t))&&Ba.test(t)?t.replace(Ia,ys):t},dt.uniqueId=function(t){var n=++h;return Yi(t)+n},dt.upperCase=Ao,dt.upperFirst=So,dt.each=Yr,dt.eachRight=Gr,dt.first=_r,Lo(dt,(Jo={},Yt(dt,function(t,n){E.call(dt.prototype,n)||(Jo[n]=t)}),Jo),{chain:!1}),dt.VERSION="4.17.11",Du(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){dt[t].placeholder=dt}),Du(["drop","take"],function(e,r){yt.prototype[e]=function(t){t=t===ea?1:$(Wi(t),0);var n=this.__filtered__&&!r?new yt(this):this.clone();return n.__filtered__?n.__takeCount__=Z(t,n.__takeCount__):n.__views__.push({size:Z(t,sa),type:e+(n.__dir__<0?"Right":"")}),n},yt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Du(["filter","map","takeWhile"],function(t,n){var e=n+1,r=1==e||3==e;yt.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:qe(t,3),type:e}),n.__filtered__=n.__filtered__||r,n}}),Du(["head","last"],function(t,n){var e="take"+(n?"Right":"");yt.prototype[t]=function(){return this[e](1).value()[0]}}),Du(["initial","tail"],function(t,n){var e="drop"+(n?"":"Right");yt.prototype[t]=function(){return this.__filtered__?new yt(this):this[e](1)}}),yt.prototype.compact=function(){return this.filter(Po)},yt.prototype.find=function(t){return this.filter(t).head()},yt.prototype.findLast=function(t){return this.reverse().find(t)},yt.prototype.invokeMap=En(function(n,e){return"function"==typeof n?new yt(this):this.map(function(t){return on(t,n,e)})}),yt.prototype.reject=function(t){return this.filter(fi(qe(t)))},yt.prototype.slice=function(t,n){t=Wi(t);var e=this;return e.__filtered__&&(0<t||n<0)?new yt(e):(t<0?e=e.takeRight(-t):t&&(e=e.drop(t)),n!==ea&&(e=(n=Wi(n))<0?e.dropRight(-n):e.take(n-t)),e)},yt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},yt.prototype.toArray=function(){return this.take(sa)},Yt(yt.prototype,function(f,t){var h=/^(?:filter|find|map|reject)|While$/.test(t),p=/^(?:head|last)$/.test(t),d=dt[p?"take"+("last"==t?"Right":""):t],v=p||/^find/.test(t);d&&(dt.prototype[t]=function(){var t=this.__wrapped__,e=p?[1]:arguments,n=t instanceof yt,r=e[0],i=n||wi(t),o=function(t){var n=d.apply(dt,Vu([t],e));return p&&a?n[0]:n};i&&h&&"function"==typeof r&&1!=r.length&&(n=i=!1);var a=this.__chain__,u=!!this.__actions__.length,s=v&&!a,c=n&&!u;if(v||!i)return s&&c?f.apply(this,e):(l=this.thru(o),s?p?l.value()[0]:l.value():l);t=c?t:new yt(this);var l=f.apply(t,e);return l.__actions__.push({func:Vr,args:[o],thisArg:ea}),new mt(l,a)})}),Du(["pop","push","shift","sort","splice","unshift"],function(t){var e=a[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);dt.prototype[t]=function(){var n=arguments;if(!i||this.__chain__)return this[r](function(t){return e.apply(wi(t)?t:[],n)});var t=this.value();return e.apply(wi(t)?t:[],n)}}),Yt(yt.prototype,function(t,n){var e=dt[n];if(e){var r=e.name+"";(ot[r]||(ot[r]=[])).push({name:n,func:e})}}),ot[ve(ea,2).name]=[{name:"wrapper",func:ea}],yt.prototype.clone=function(){var t=new yt(this.__wrapped__);return t.__actions__=ie(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ie(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ie(this.__views__),t},yt.prototype.reverse=function(){if(this.__filtered__){var t=new yt(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},yt.prototype.value=function(){var t=this.__wrapped__.value(),n=this.__dir__,e=wi(t),r=n<0,i=e?t.length:0,o=function(t,n,e){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":n-=a;break;case"take":n=Z(n,t+a);break;case"takeRight":t=$(t,n-a)}}return{start:t,end:n}}(0,i,this.__views__),a=o.start,u=o.end,s=u-a,c=r?u:a-1,l=this.__iteratees__,f=l.length,h=0,p=Z(s,this.__takeCount__);if(!e||!r&&i==s&&p==s)return Vn(t,this.__actions__);var d=[];t:for(;s--&&h<p;){for(var v=-1,g=t[c+=n];++v<f;){var m=l[v],y=m.iteratee,b=m.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue t;break t}}d[h++]=g}return d},dt.prototype.at=Wr,dt.prototype.chain=function(){return Br(this)},dt.prototype.commit=function(){return new mt(this.value(),this.__chain__)},dt.prototype.next=function(){this.__values__===ea&&(this.__values__=Bi(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?ea:this.__values__[this.__index__++]}},dt.prototype.plant=function(t){for(var n,e=this;e instanceof gt;){var r=vr(e);r.__index__=0,r.__values__=ea,n?i.__wrapped__=r:n=r;var i=r;e=e.__wrapped__}return i.__wrapped__=t,n},dt.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof yt){var n=t;return this.__actions__.length&&(n=new yt(this)),(n=n.reverse()).__actions__.push({func:Vr,args:[Rr],thisArg:ea}),new mt(n,this.__chain__)}return this.thru(Rr)},dt.prototype.toJSON=dt.prototype.valueOf=dt.prototype.value=function(){return Vn(this.__wrapped__,this.__actions__)},dt.prototype.first=dt.prototype.head,T&&(dt.prototype[T]=function(){return this}),dt}();P?((P.exports=bs)._=bs,T._=bs):Au._=bs}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(t,n,e){n.exports=".range-slider {\n  position: relative;\n  height: 20px;\n}\n.range-slider input {\n  pointer-events: none;\n  position: absolute;\n  overflow: hidden;\n  left: 0;\n  top: 0;\n  width: 200px;\n  outline: none;\n  height: 18px;\n}\n.range-slider input::-webkit-slider-thumb {\n  pointer-events: all;\n  position: relative;\n  z-index: 1;\n  outline: 0;\n  border-radius: 0;\n}\n.range-slider input::-moz-range-thumb {\n  pointer-events: all;\n  position: relative;\n  z-index: 10;\n  -moz-appearance: none;\n  background: linear-gradient(to bottom, #ededed 0%, #dedede 100%);\n  width: 11px;\n}\n.range-slider input::-moz-range-track {\n  position: relative;\n  z-index: -1;\n  background-color: rgba(0, 0, 0, .15);\n  border: 0;\n}\n.range-slider input:last-of-type::-moz-range-track {\n  -moz-appearance: none;\n  background: none transparent;\n  border: 0;\n}\n"},{}],18:[function(t,n,e){n.exports="<div class='range-slider'>\n  <input\n    class='upper'\n    type='range'\n    min={{lowerBound}}\n    max={{upperBound}}\n    step={{step}}\n    value={{upper}}\n    style='width:{{width}}px;' />\n  <input\n    class='lower'\n    type='range'\n    min={{lowerBound}}\n    max={{upperBound}}\n    step={{step}}\n    value={{lower}}\n    style='width:{{width}}px;' />\n</div>\n"},{}],19:[function(t,n,e){var r=t("ractive").extend({template:t("./range-slider.hbs"),css:t("./range-slider.css"),data:function(){return{upper:3,lower:6,upperBound:10,lowerBound:0,step:.2,width:100}},oninit:function(){this.observe("upper",function(t){var n=this.get("lower"),e=this.get("step");t<=n&&this.set("lower",t-e)},{init:!1}),this.observe("lower",function(t){var n=this.get("upper"),e=this.get("step");n<=t&&this.set("upper",t+e)},{init:!1})},computed:{}});n.exports=r},{"./range-slider.css":17,"./range-slider.hbs":18,ractive:20}],20:[function(t,n,e){var r,i;r=this,i=function(){"use strict";var r,e,t,c,l,n,i,f,s,o,a,u,h,p,d,v,g=3,m={el:void 0,append:!1,template:{v:g,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},y={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}};r="object"==typeof document,e="undefined"!=typeof navigator&&/jsDom/.test(navigator.appName),t="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),c=!0}catch(t){c=!1}function b(t){var n;if(t&&"boolean"!=typeof t)return"undefined"!=typeof window&&document&&t?t.nodeType?t:"string"==typeof t&&(!(n=document.getElementById(t))&&document.querySelector&&(n=document.querySelector(t)),n&&n.nodeType)?n:t[0]&&t[0].nodeType?t[0]:null:null}if(l={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},n="undefined"!=typeof document&&(document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),i=["o","ms","moz","webkit"],f=n?function(t,n){return n&&n!==l.html?document.createElementNS(n,t):document.createElement(t)}:function(t,n){if(n&&n!==l.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(t)},r){for(o=f("div"),v=function(e){return function(t,n){return t[e](n)}},p=(a=["matches","matchesSelector"]).length;p--&&!s;)if(o[u=a[p]])s=v(u);else for(d=i.length;d--;)if(h=i[p]+u.substr(0,1).toUpperCase()+u.substring(1),o[h]){s=v(h);break}s||(s=function(t,n){var e,r,i;for((r=t.parentNode)||(o.innerHTML="",r=o,t=t.cloneNode(),o.appendChild(t)),i=(e=r.querySelectorAll(n)).length;i--;)if(e[i]===t)return!0;return!1})}else s=null;function w(t){return t&&"unknown"!=typeof t.parentNode&&t.parentNode&&t.parentNode.removeChild(t),t}function x(t){return null!=t&&t.toString?t:""}var _,k,M,E;try{Object.defineProperty({},"test",{value:0}),r&&Object.defineProperty(document.createElement("div"),"test",{value:0}),k=Object.defineProperty}catch(t){k=function(t,n,e){t[n]=e.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(t){throw t}r&&Object.defineProperties(f("div"),{test:{value:0}}),M=Object.defineProperties}catch(t){M=function(t,n){var e;for(e in n)n.hasOwnProperty(e)&&k(t,e,n[e])}}try{Object.create(null),_=Object.create}catch(t){E=function(){},_=function(t,n){var e;return null===t?{}:(E.prototype=t,e=new E,n&&Object.defineProperties(e,n),e)}}function A(t){for(var n=arguments.length,e=Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];for(var i,o;o=e.shift();)for(i in o)S.call(o,i)&&(t[i]=o[i]);return t}var S=Object.prototype.hasOwnProperty,N=Object.prototype.toString,C=/^\[object (?:Array|FileList)\]$/;function R(t){return"[object Array]"===N.call(t)}function j(t){return C.test(N.call(t))}function O(t,n){return null===t&&null===n||"object"!=typeof t&&"object"!=typeof n&&t===n}function T(t){return!isNaN(parseFloat(t))&&isFinite(t)}function P(t){return t&&"[object Object]"===N.call(t)}var F,D,q,L,z=function(){},I={};function U(t,n){return t.replace(/%s/g,function(){return n.shift()})}function B(t){for(var n=arguments.length,e=Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];throw t=U(t,e),new Error(t)}function V(){hh.DEBUG&&F.apply(null,arguments)}function W(t){for(var n=arguments.length,e=Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];t=U(t,e),I[t]||(I[t]=!0,D(t,e))}function H(){hh.DEBUG&&function(t){for(var n=arguments.length,e=Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];t=U(t,e),D(t,e)}.apply(null,arguments)}function $(){hh.DEBUG&&W.apply(null,arguments)}t?(L=["%cRactive.js %c0.7.3 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"],q=function(){var t=!!console.groupCollapsed;console[t?"groupCollapsed":"log"].apply(console,L),console.log("You're running Ractive 0.7.3 in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n"),t&&console.groupEnd(L),q=z},D=function(t,n){if(q(),"object"==typeof n[n.length-1]){var e=n.pop(),r=e?e.ractive:null;if(r){var i,o=void 0;r.component&&(o=r.component.name)&&(t="<"+o+"> "+t),(i=e.node||r.fragment&&r.fragment.rendered&&r.find("*"))&&n.push(i)}}console.warn.apply(console,["%cRactive.js: %c"+t,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(n))},F=function(){console.log.apply(console,arguments)}):D=F=q=z;var Z='A function was specified for "%s" %s, but no %s was returned',Y=function(t,n){return'Missing "'+t+'" '+n+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+n+"s"};function G(t,n,e){var r=K(t,n,e);return r?r[t][e]:null}function K(t,n,e){for(;n;){if(e in n[t])return n;if(n.isolated)return null;n=n.parent}}var Q=function(t,n,e,r){if(t===n)return J(n);if(r){var i=G("interpolators",e,r);if(i)return i(t,n)||J(n);B(Y(r,"interpolator"))}return X.number(t,n)||X.array(t,n)||X.object(t,n)||J(n)};function J(t){return function(){return t}}var X={number:function(n,t){var e;return T(n)&&T(t)?(e=(t=+t)-(n=+n))?function(t){return n+t*e}:function(){return n}:null},array:function(t,n){var e,r,i,o;if(!R(t)||!R(n))return null;for(e=[],r=[],o=i=Math.min(t.length,n.length);o--;)r[o]=Q(t[o],n[o]);for(o=i;o<t.length;o+=1)e[o]=t[o];for(o=i;o<n.length;o+=1)e[o]=n[o];return function(t){for(var n=i;n--;)e[n]=r[n](t);return e}},object:function(t,n){var r,i,o,a,e;if(!P(t)||!P(n))return null;for(e in r=[],a={},o={},t)S.call(t,e)&&(S.call(n,e)?(r.push(e),o[e]=Q(t[e],n[e])):a[e]=t[e]);for(e in n)S.call(n,e)&&!S.call(t,e)&&(a[e]=n[e]);return i=r.length,function(t){for(var n,e=i;e--;)n=r[e],a[n]=o[n](t);return a}}},tt=function(t){var e,n,r,i,o,a;e=t.split("."),(n=nt[e.length])||(n=function(t){var n,e,r,i,o,a,u,s,c="";if(!nt[t]){for(r=[];c.length<t;)c+=1;for(n=parseInt(c,2),i=function(t){return"1"===t},o=0;o<=n;o+=1){for(e=o.toString(2);e.length<t;)e="0"+e;for(s=[],u=e.length,a=0;a<u;a++)s.push(i(e[a]));r[o]=s}nt[t]=r}return nt[t]}(e.length));o=[],r=function(t,n){return t?"*":e[n]},i=n.length;for(;i--;)a=n[i].map(r).join("."),o.hasOwnProperty(a)||(o.push(a),o[a]=!0);return o},nt={};var et=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,rt=/\*/,it={},ot=function(t){var n,e,r=t.split(".");"@"===(this.str=t)[0]&&(this.isSpecial=!0,this.value=(e=(n=t).slice(2),"i"===n[1]&&T(e)?+e:e)),this.firstKey=r[0],this.lastKey=r.pop(),this.isPattern=rt.test(t),this.parent=""===t?null:ut(r.join(".")),this.isRoot=!t};function at(t,n,e,r){var i=t[n];if(!i||!i.equalsOrStartsWith(r)&&i.equalsOrStartsWith(e))return t[n]=i?i.replace(e,r):r,!0}function ut(t){return null==t?t:(it.hasOwnProperty(t)||(it[t]=new ot(t)),it[t])}function st(o,t){var n,e,r;for(n=t.str.split("."),r=[ft];e=n.shift();)"*"===e?r=r.reduce(i,[]):r[0]===ft?r[0]=ut(e):r=r.map(ct(e));return r;function i(n,e){var t,r,i;return(i=e.isRoot?[].concat(Object.keys(o.viewmodel.data),Object.keys(o.viewmodel.mappings),Object.keys(o.viewmodel.computations)):(t=o.viewmodel.wrapped[e.str],(r=t?t.get():o.viewmodel.get(e))?Object.keys(r):null))&&i.forEach(function(t){"_ractive"===t&&R(r)||n.push(e.join(t))}),n}}function ct(n){return function(t){return t.join(n)}}function lt(t){return t?t.replace(et,".$1"):""}ot.prototype={equalsOrStartsWith:function(t){return t===this||this.startsWith(t)},join:function(t){return ut(this.isRoot?String(t):this.str+"."+t)},replace:function(t,n){return this===t?n:this.startsWith(t)?null===n?n:ut(this.str.replace(t.str+".",n.str+".")):void 0},startsWith:function(t){return!!t&&(t&&this.str.substr(0,t.str.length+1)===t.str+".")},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=tt(this.str))}};var ft=ut(""),ht=function(e,t,r){if("string"!=typeof t||!T(r))throw new Error("Bad arguments");var n=void 0,i=void 0;if(/\*/.test(t))return i={},st(e,ut(lt(t))).forEach(function(t){var n=e.viewmodel.get(t);if(!T(n))throw new Error(pt);i[t.str]=n+r}),e.set(i);if(T(n=e.get(t)))return e.set(t,+n+r);throw new Error(pt)},pt="Cannot add to a non-numeric value";var dt=function(t,n){return ht(this,t,void 0===n?1:+n)};var vt="undefined"==typeof window?null:(function(t,i,n){var e,o;if(!n.requestAnimationFrame){for(e=0;e<t.length&&!n.requestAnimationFrame;++e)n.requestAnimationFrame=n[t[e]+"RequestAnimationFrame"];n.requestAnimationFrame||(o=n.setTimeout,n.requestAnimationFrame=function(t){var n,e,r;return n=Date.now(),e=Math.max(0,16-(n-i)),r=o(function(){t(n+e)},e),i=n+e,r})}}(i,0,window),window.requestAnimationFrame),gt="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()},mt={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};function yt(t){this.event=t,this.method="on"+t,this.deprecate=mt[t]}yt.prototype.fire=function(n,e){function t(t){if(n[t])return e?n[t](e):n[t](),!0}t(this.method),!n[this.method]&&this.deprecate&&t(this.deprecate.deprecated)&&(this.deprecate.message?H(this.deprecate.message):H('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),e?n.fire(this.event,e):n.fire(this.event)};var bt=yt;function wt(t,n){-1===t.indexOf(n)&&t.push(n)}function xt(t,n){for(var e=0,r=t.length;e<r;e++)if(t[e]==n)return!0;return!1}function _t(t,n){var e;if(!R(t)||!R(n))return!1;if(t.length!==n.length)return!1;for(e=t.length;e--;)if(t[e]!==n[e])return!1;return!0}function kt(t){return"string"==typeof t?[t]:void 0===t?[]:t}function Mt(t){return t[t.length-1]}function Et(t,n){var e=t.indexOf(n);-1!==e&&t.splice(e,1)}function At(t){for(var n=[],e=t.length;e--;)n[e]=t[e];return n}var St,Nt={},Ct={},Rt={};"function"==typeof Promise?St=Promise:((St=function(t){var a,n,e,r,u=[],s=[],c=Nt;e=(n=function(r){return function(t){var n,e;c===Nt&&(n=(c=r)===Ct?u:s,e=t,Ot(a=function(){for(var t;t=n.shift();)t(e)}))}})(Ct),r=n(Rt);try{t(e,r)}catch(t){r(t)}return{then:function(n,e){var o=new St(function(r,i){var t=function(e,t,n){"function"==typeof e?t.push(function(t){var n;try{n=e(t),function n(e,t,r,i){var o;if(t===e)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(t instanceof St)t.then(r,i);else if(!t||"object"!=typeof t&&"function"!=typeof t)r(t);else{try{o=t.then}catch(t){return void i(t)}if("function"==typeof o){var a,u,s;u=function(t){a||(a=!0,n(e,t,r,i))},s=function(t){a||(a=!0,i(t))};try{o.call(t,u,s)}catch(t){if(!a)return i(t),void(a=!0)}}else r(t)}}(o,n,r,i)}catch(t){i(t)}}):t.push(n)};t(n,u,r),t(e,s,i),c!==Nt&&Ot(a)});return o},catch:function(t){return this.then(null,t)}}}).all=function(a){return new St(function(e,r){var i,t,n,o=[];if(a.length)for(n=function(t,n){t&&"function"==typeof t.then?t.then(function(t){o[n]=t,--i||e(o)},r):(o[n]=t,--i||e(o))},i=t=a.length;t--;)n(a[t],t);else e(o)})},St.resolve=function(n){return new St(function(t){t(n)})},St.reject=function(e){return new St(function(t,n){n(e)})});var jt=St;function Ot(t){setTimeout(t,0)}var Tt=function(t){do{if(void 0!==t.context)return t.context}while(t=t.parent);return ft},Pt=function(t,n,e){var r;"~/"===(n=lt(n)).substr(0,2)?(r=ut(n.substring(2)),Dt(t,r.firstKey)):"."===n[0]?(r=function(t,n){var e;null!=t&&"string"!=typeof t&&(t=t.str);if("."===n)return ut(t);if(e=t?t.split("."):[],"../"!==n.substr(0,3))return ut(t?t+n.replace(/^\.\//,"."):n.replace(/^\.\/?/,""));for(;"../"===n.substr(0,3);){if(!e.length)throw new Error('Could not resolve reference - too many "../" prefixes');e.pop(),n=n.substring(3)}return e.push(n),ut(e.join("."))}(Tt(e),n))&&Dt(t,r.firstKey):r=Ft(t,ut(n),e);return r};function Ft(t,n,e,r){var i,o,a,u,s;if(n.isRoot)return n;for(o=n.firstKey;e;)if(i=e.context,e=e.parent,i&&(u=!0,(a=t.viewmodel.get(i))&&("object"==typeof a||"function"==typeof a)&&o in a))return i.join(n.str);return qt(t.viewmodel,o)?n:t.parent&&!t.isolated&&(u=!0,e=t.component.parentFragment,o=ut(o),s=Ft(t.parent,o,e,!0))?(t.viewmodel.map(o,{origin:t.parent.viewmodel,keypath:s}),n):r||u?void 0:(t.viewmodel.set(n,void 0),n)}function Dt(t,n){var e;!t.parent||t.isolated||qt(t.viewmodel,n)||(n=ut(n),(e=Ft(t.parent,n,t.component.parentFragment,!0))&&t.viewmodel.map(n,{origin:t.parent.viewmodel,keypath:e}))}function qt(t,n){return""===n||n in t.data||n in t.computations||n in t.mappings}function Lt(t){t.teardown()}function zt(t){t.unbind()}function It(t){t.unrender()}function Ut(t){t.cancel()}var Bt=function(t,n){this.callback=t,this.parent=n,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,n&&n.addChild(this)};function Vt(t){t.detach()}function Wt(t){t.detachNodes()}function Ht(t){!t.ready||t.outros.length||t.outroChildren||(t.outrosComplete||(t.parent?t.parent.decrementOutros(t):t.detachNodes(),t.outrosComplete=!0),t.intros.length||t.totalChildren||("function"==typeof t.callback&&t.callback(),t.parent&&t.parent.decrementTotal()))}Bt.prototype={addChild:function(t){this.children.push(t),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,Ht(this)},decrementTotal:function(){this.totalChildren-=1,Ht(this)},add:function(t){(t.isIntro?this.intros:this.outros).push(t)},addDecorator:function(t){this.decoratorQueue.push(t)},remove:function(t){Et(t.isIntro?this.intros:this.outros,t),Ht(this)},init:function(){this.ready=!0,Ht(this)},detachNodes:function(){this.decoratorQueue.forEach(Lt),this.detachQueue.forEach(Vt),this.children.forEach(Wt)}};var $t,Zt=Bt,Yt=[],Gt=new bt("change"),Kt={start:function(t,n){var e,r;return n&&(e=new jt(function(t){return r=t})),$t={previousBatch:$t,transitionManager:new Zt(r,$t&&$t.transitionManager),views:[],tasks:[],ractives:[],instance:t},t&&$t.ractives.push(t),e},end:function(){!function t(){var n,e,r;for(;$t.ractives.length;)e=$t.ractives.pop(),(r=e.viewmodel.applyChanges())&&Gt.fire(e,r);Qt();for(n=0;n<$t.views.length;n+=1)$t.views[n].update();$t.views.length=0;for(n=0;n<$t.tasks.length;n+=1)$t.tasks[n]();$t.tasks.length=0;if($t.ractives.length)return t()}(),$t.transitionManager.init(),!$t.previousBatch&&$t.instance&&($t.instance.viewmodel.changes=[]),$t=$t.previousBatch},addRactive:function(t){$t&&wt($t.ractives,t)},registerTransition:function(t){t._manager=$t.transitionManager,$t.transitionManager.add(t)},registerDecorator:function(t){$t.transitionManager.addDecorator(t)},addView:function(t){$t.views.push(t)},addUnresolved:function(t){Yt.push(t)},removeUnresolved:function(t){Et(Yt,t)},detachWhenReady:function(t){$t.transitionManager.detachQueue.push(t)},scheduleTask:function(t,n){var e;if($t){for(e=$t;n&&e.previousBatch;)e=e.previousBatch;e.tasks.push(t)}else t()}};function Qt(){var t,n,e,r;for(t=Yt.length;t--;)(n=Yt[t]).keypath?Yt.splice(t,1):(e=Pt(n.root,n.ref,n.parentFragment))&&((r||(r=[])).push({item:n,keypath:e}),Yt.splice(t,1));r&&r.forEach(Jt)}function Jt(t){t.item.resolve(t.keypath)}var Xt=[],tn={tick:function(){var t,n;for(n=gt(),Kt.start(),t=0;t<Xt.length;t+=1)Xt[t].tick(n)||Xt.splice(t--,1);Kt.end(),Xt.length?vt(tn.tick):tn.running=!1},add:function(t){Xt.push(t),tn.running||(tn.running=!0,vt(tn.tick))},abort:function(t,n){for(var e,r=Xt.length;r--;)(e=Xt[r]).root===n&&e.keypath===t&&e.stop()}},nn=tn,en=function(t){var n;for(n in this.startTime=Date.now(),t)t.hasOwnProperty(n)&&(this[n]=t[n]);this.interpolator=Q(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};en.prototype={tick:function(){var t,n,e,r,i;return i=this.keypath,!!this.running&&((t=Date.now()-this.startTime)>=this.duration?(null!==i&&(Kt.start(this.root),this.root.viewmodel.set(i,this.to),Kt.end()),this.step&&this.step(1,this.to),this.complete(this.to),-1===(r=this.root._animations.indexOf(this))&&H("Animation was not found"),this.root._animations.splice(r,1),this.running=!1):(n=this.easing?this.easing(t/this.duration):t/this.duration,null!==i&&(e=this.interpolator(n),Kt.start(this.root),this.root.viewmodel.set(i,e),Kt.end()),this.step&&this.step(n,e),!0))},stop:function(){var t;this.running=!1,-1===(t=this.root._animations.indexOf(this))&&H("Animation was not found"),this.root._animations.splice(t,1)}};var rn=en,on=function(t,n,e){var r,i,o,a,u,s,c,l,f,h,p,d,v,g;if(r=new jt(function(t){return i=t}),"object"==typeof t){for(o in s=(e=n||{}).easing,c=e.duration,u=[],l=e.step,f=e.complete,(l||f)&&(p={},e.step=null,e.complete=null,h=function(e){return function(t,n){p[e]=n}}),t)t.hasOwnProperty(o)&&((l||f)&&(d=h(o),e={easing:s,duration:c},l&&(e.step=d)),e.complete=f?d:z,u.push(un(this,o,t[o],e)));return g={easing:s,duration:c},l&&(g.step=function(t){return l(t,p)}),f&&r.then(function(t){return f(t,p)}),g.complete=i,v=un(this,null,null,g),u.push(v),r.stop=function(){for(var t;t=u.pop();)t.stop();v&&v.stop()},r}(e=e||{}).complete&&r.then(e.complete);return e.complete=i,a=un(this,t,n,e),r.stop=function(){return a.stop()},r},an={stop:z};function un(t,n,e,r){var i,o,a,u;return n&&(n=ut(lt(n))),null!==n&&(u=t.viewmodel.get(n)),nn.abort(n,t),O(u,e)?(r.complete&&r.complete(r.to),an):(r.easing&&"function"!=typeof(i="function"==typeof r.easing?r.easing:t.easing[r.easing])&&(i=null),o=void 0===r.duration?400:r.duration,a=new rn({keypath:n,from:u,to:e,root:t,duration:o,easing:i,interpolator:r.interpolator,step:r.step,complete:r.complete}),nn.add(a),t._animations.push(a),a)}var sn=function(){if(this.detached)return this.detached;this.el&&Et(this.el.__ractive_instances__,this);return this.detached=this.fragment.detach(),cn.fire(this),this.detached},cn=new bt("detach");var ln=function(t){return this.el?this.fragment.find(t):null};var fn=function(t,n){var e;e=this._isComponentQuery?!this.selector||t.name===this.selector:t.node?s(t.node,this.selector):null;if(e)return this.push(t.node||t.instance),n||this._makeDirty(),!0};var hn=function(){var t,n,e;t=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],n=this.selector,-1!==(e=t.indexOf(n))&&(t.splice(e,1),t[n]=null)},pn=function(t,n){var e,r,i,o,a,u,s,c;for(e=vn(t.component||t._ractive.proxy),r=vn(n.component||n._ractive.proxy),i=Mt(e),o=Mt(r);i&&i===o;)e.pop(),r.pop(),a=i,i=Mt(e),o=Mt(r);if(i=i.component||i,o=o.component||o,(s=i.parentFragment)===(c=o.parentFragment))return s.items.indexOf(i)-c.items.indexOf(o)||e.length-r.length;if(u=a.fragments)return u.indexOf(s)-u.indexOf(c)||e.length-r.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")};function dn(t){var n;return(n=t.parentFragment)?n.owner:t.component&&(n=t.component.parentFragment)?n.owner:void 0}function vn(t){var n,e;for(n=[t],e=dn(t);e;)n.push(e),e=dn(e);return n}var gn=function(t,n){return t.compareDocumentPosition?2&t.compareDocumentPosition(n)?1:-1:pn(t,n)},mn=function(){this.sort(this._isComponentQuery?pn:gn),this._dirty=!1},yn=function(){var t=this;this._dirty||(this._dirty=!0,Kt.scheduleTask(function(){t._sort()}))},bn=function(t){var n=this.indexOf(this._isComponentQuery?t.instance:t);-1!==n&&this.splice(n,1)},wn=function(t,n,e,r){var i=[];return M(i,{selector:{value:n},live:{value:e},_isComponentQuery:{value:r},_test:{value:fn}}),e&&M(i,{cancel:{value:hn},_root:{value:t},_sort:{value:mn},_makeDirty:{value:yn},_remove:{value:bn},_dirty:{value:!1,writable:!0}}),i};var xn=function(t,n){var e,r;if(!this.el)return[];if(n=n||{},e=this._liveQueries,r=e[t])return n&&n.live?r:r.slice();(r=wn(this,t,!!n.live,!1)).live&&(e.push(t),e["_"+t]=r);return this.fragment.findAll(t,r),r};var _n=function(t,n){var e,r;if(n=n||{},e=this._liveComponentQueries,r=e[t])return n&&n.live?r:r.slice();(r=wn(this,t,!!n.live,!0)).live&&(e.push(t),e["_"+t]=r);return this.fragment.findAllComponents(t,r),r};var kn=function(t){return this.fragment.findComponent(t)};var Mn=function(t){if(this.container)return this.container.component&&this.container.component.name===t?this.container:this.container.findContainer(t);return null};var En=function(t){if(this.parent)return this.parent.component&&this.parent.component.name===t?this.parent:this.parent.findParent(t);return null};var An={enqueue:function(t,n){t.event&&(t._eventQueue=t._eventQueue||[],t._eventQueue.push(t.event)),t.event=n},dequeue:function(t){t._eventQueue&&t._eventQueue.length?t.event=t._eventQueue.pop():delete t.event}},Sn=function(t,n){var e=void 0===arguments[2]?{}:arguments[2];if(!n)return;e.event?e.event.name=n:e.event={name:n,_noArg:!0};var r=ut(n).wildcardMatches();!function t(n,e,r,i){var o=void 0!==arguments[4]&&arguments[4];var a,u,s=!0;An.enqueue(n,r);for(u=e.length;0<=u;u--)(a=n._subs[e[u]])&&(s=Nn(n,a,r,i)&&s);An.dequeue(n);if(n.parent&&s){if(o&&n.component){var c=n.component.name+"."+e[e.length-1];e=ut(c).wildcardMatches(),r&&(r.component=n)}t(n.parent,e,r,i)}}(t,r,e.event,e.args,!0)};function Nn(t,n,e,r){var i=null,o=!1;e&&!e._noArg&&(r=[e].concat(r));for(var a=0,u=(n=n.slice()).length;a<u;a+=1)!1===n[a].apply(t,r)&&(o=!0);return e&&!e._noArg&&o&&(i=e.original)&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),!o}var Cn=function(t){var n={args:Array.prototype.slice.call(arguments,1)};Sn(this,t,n)};var Rn=function(t){var n;t=ut(lt(t)),void 0===(n=this.viewmodel.get(t,jn))&&this.parent&&!this.isolated&&Pt(this,t.str,this.component.parentFragment)&&(n=this.viewmodel.get(t));return n},jn={capture:!0,noUnwrap:!0,fullRootGet:!0};var On=function(t,n){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(t=b(t),n=b(n)||null,!t)throw new Error("You must specify a valid target to insert into");t.insertBefore(this.detach(),n),((this.el=t).__ractive_instances__||(t.__ractive_instances__=[])).push(this),this.detached=null,function n(t){Tn.fire(t);t.findAllComponents("*").forEach(function(t){n(t.instance)})}(this)},Tn=new bt("insert");var Pn=function(t,n,e){var r,i;return t=ut(lt(t)),R(r=this.viewmodel.get(t))&&R(n)?(i=Kt.start(this,!0),this.viewmodel.merge(t,r,n,e),Kt.end(),i):this.set(t,n,e&&e.complete)};var Fn=function(t,n,e,r){this.root=t,this.keypath=n,this.callback=e,this.defer=r.defer,this.context=r&&r.context?r.context:t};Fn.prototype={init:function(t){this.value=this.root.get(this.keypath.str),!1!==t?this.update():this.oldValue=this.value},setValue:function(t){var n=this;O(t,this.value)||(this.value=t,this.defer&&this.ready?Kt.scheduleTask(function(){return n.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)}};var Dn=Fn,qn=function(n,t){var e,r;return e=st(n,t),r={},e.forEach(function(t){r[t.str]=n.get(t.str)}),r};var Ln,zn=Array.prototype.slice;(Ln=function(t,n,e,r){this.root=t,this.callback=e,this.defer=r.defer,this.keypath=n,this.regex=new RegExp("^"+n.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=r&&r.context?r.context:t}).prototype={init:function(t){var n,e;if(n=qn(this.root,this.keypath),!1!==t)for(e in n)n.hasOwnProperty(e)&&this.update(ut(e));else this.values=n},update:function(t){var n,e=this;if(t.isPattern)for(t in n=qn(this.root,t))n.hasOwnProperty(t)&&this.update(ut(t));else this.root.viewmodel.implicitChanges[t.str]||(this.defer&&this.ready?Kt.scheduleTask(function(){return e.getProxy(t).update()}):this.reallyUpdate(t))},reallyUpdate:function(t){var n,e,r,i;n=t.str,e=this.root.viewmodel.get(t),this.updating?this.values[n]=e:(this.updating=!0,O(e,this.values[n])&&this.ready||(r=zn.call(this.regex.exec(n),1),i=[e,this.values[n],n].concat(r),this.values[n]=e,this.callback.apply(this.context,i)),this.updating=!1)},getProxy:function(t){var n=this;return this.proxies[t.str]||(this.proxies[t.str]={update:function(){return n.reallyUpdate(t)}}),this.proxies[t.str]}};var In=Ln,Un=function(n,e,t,r){var i,o,a;e=ut(lt(e)),r=r||Bn,e.isPattern?(i=new In(n,e,t,r),n.viewmodel.patternObservers.push(i),o=!0):i=new Dn(n,e,t,r);i.init(r.init),n.viewmodel.register(e,i,o?"patternObservers":"observers"),i.ready=!0;var u={cancel:function(){var t;a||(o?(t=n.viewmodel.patternObservers.indexOf(i),n.viewmodel.patternObservers.splice(t,1),n.viewmodel.unregister(e,i,"patternObservers")):n.viewmodel.unregister(e,i,"observers"),a=!0)}};return n._observers.push(u),u},Bn={};var Vn=function(t,n,e){var r,i,o,a;if(P(t)){for(t in e=n,r=[],i=t)i.hasOwnProperty(t)&&(n=i[t],r.push(this.observe(t,n,e)));return{cancel:function(){for(;r.length;)r.pop().cancel()}}}if("function"==typeof t)return e=n,n=t,Un(this,t="",n,e);if(1===(o=t.split(" ")).length)return Un(this,t,n,e);r=[],a=o.length;for(;a--;)(t=o[a])&&r.push(Un(this,t,n,e));return{cancel:function(){for(;r.length;)r.pop().cancel()}}};var Wn=function(t,n,e){var r=this.observe(t,function(){n.apply(this,arguments),r.cancel()},{init:!1,defer:e&&e.defer});return r};var Hn=function(t){return t.trim()},$n=function(t){return""!==t},Zn=function(t,r){var i=this;if(t)t.split(" ").map(Hn).filter($n).forEach(function(t){var n,e;(n=i._subs[t])&&(r?-1!==(e=n.indexOf(r))&&n.splice(e,1):i._subs[t]=[])});else for(t in this._subs)delete this._subs[t];return this};var Yn=function(t,n){var e,r,i=this;if("object"!=typeof t)return t.split(" ").map(Hn).filter($n).forEach(function(t){(i._subs[t]||(i._subs[t]=[])).push(n)}),{cancel:function(){return i.off(t,n)}};for(r in e=[],t)t.hasOwnProperty(r)&&e.push(this.on(r,t[r]));return{cancel:function(){for(var t;t=e.pop();)t.cancel()}}};var Gn=function(t,n){var e=this.on(t,function(){n.apply(this,arguments),e.cancel()});return e};var Kn=function(t,n,e){var r,i,o,a,u,s,c=[];if(!(r=function(t,n,e){switch(n){case"splice":for(void 0!==e[0]&&e[0]<0&&(e[0]=t.length+Math.max(e[0],-t.length));e.length<2;)e.push(0);return e[1]=Math.min(e[1],t.length-e[0]),e;case"sort":case"reverse":return null;case"pop":return t.length?[t.length-1,1]:[0,0];case"push":return[t.length,0].concat(e);case"shift":return[0,t.length?1:0];case"unshift":return[0,0].concat(e)}}(t,n,e)))return null;for(i=t.length,u=r.length-2-r[1],o=Math.min(i,r[0]),a=o+r[1],s=0;s<o;s+=1)c.push(s);for(;s<a;s+=1)c.push(-1);for(;s<i;s+=1)c.push(s+u);c.touchedFrom=0!==u?r[0]:t.length;return c};var Qn,Jn,Xn,te,ne,ee=Array.prototype,re=function(s){return function(t){for(var n=arguments.length,e=Array(1<n?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];var i,o,a,u;if(t=ut(lt(t)),(i=this.viewmodel.get(t)).length,!R(i))throw new Error("Called ractive."+s+"('"+t.str+"'), but '"+t.str+"' does not refer to an array");return o=Kn(i,s,e),u=ee[s].apply(i,e),a=Kt.start(this,!0).then(function(){return u}),o?this.viewmodel.smartUpdate(t,i,o):this.viewmodel.mark(t),Kt.end(),a}},ie=re("pop"),oe=re("push"),ae=[],ue=!1,se=r?((Jn=document.createElement("style")).type="text/css",Xn=document.getElementsByTagName("head")[0],ne=!1,te=Jn.styleSheet,Qn=function(){var t="/* Ractive.js component styles */\n"+ae.map(function(t){return"\n/* {"+t.id+"} */\n"+t.styles}).join("\n");te?te.cssText=t:Jn.innerHTML=t,ne||(Xn.appendChild(Jn),ne=!0)},{add:function(t){ae.push(t),ue=!0},apply:function(){ue&&(Qn(),ue=!1)}}):{add:z,apply:z},ce=function(t,n){var e,r,i,o=this;i=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1);if(e=Kt.start(this,!0),Kt.scheduleTask(function(){return le.fire(o)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(t=b(t)||this.el,n=b(n)||this.anchor,this.el=t,this.anchor=n,!this.append&&t){var a=t.__ractive_instances__;a&&a.length&&(u=a).splice(0,u.length).forEach(Lt),t.innerHTML=""}var u;this.cssId&&se.apply();t&&((r=t.__ractive_instances__)?r.push(this):t.__ractive_instances__=[this],n?t.insertBefore(this.fragment.render(),n):t.appendChild(this.fragment.render()));return Kt.end(),this.transitionsEnabled=i,e.then(function(){return fe.fire(o)})},le=new bt("render"),fe=new bt("complete");var he={extend:function(t,n,e){n.adapt=function(t,n){var e=t.slice(),r=n.length;for(;r--;)~e.indexOf(n[r])||e.push(n[r]);return e}(n.adapt,kt(e.adapt))},init:function(){}};var pe=function(t,n){var e,c,i;c='[data-ractive-css~="{'+n+'}"]',i=function(t){var n,e,r,i,o,a,u,s=[];for(n=[];e=ge.exec(t);)n.push({str:e[0],base:e[1],modifiers:e[2]});for(i=n.map(we),u=n.length;u--;)a=i.slice(),r=n[u],a[u]=r.base+c+r.modifiers||"",(o=i.slice())[u]=c+" "+o[u],s.push(a.join(" "),o.join(" "));return s.join(", ")},e=ye.test(t)?t.replace(ye,c):t.replace(ve,"").replace(de,function(t,n){var e,r;return me.test(n)?t:(e=n.split(",").map(be),r=e.map(i).join(", ")+" ",t.replace(n,r))});return e},de=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,ve=/\/\*.*?\*\//g,ge=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,me=/^@media/,ye=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g;function be(t){return t.trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}function we(t){return t.str}var xe=1,_e={name:"css",extend:function(t,n,e){if(e.css){var r=xe++,i=e.noCssTransform?e.css:pe(e.css,r);n.cssId=r,se.add({id:r,styles:i})}},init:function(){}};var ke={name:"data",extend:function(t,n,e){var r=void 0,i=void 0;if(e.data&&P(e.data))for(r in e.data)(i=e.data[r])&&"object"==typeof i&&(P(i)||R(i))&&H("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");n.data=Me(n.data,e.data)},init:function(t,n,e){var r=Me(t.prototype.data,e.data);return"function"==typeof r&&(r=r.call(n)),r||{}},reset:function(t){var n=this.init(t.constructor,t,t.viewmodel);return t.viewmodel.reset(n),!0}};function Me(t,n){var e;(e=n)&&e.constructor!==Object&&("function"==typeof e||("object"!=typeof e?B("data option must be an object or a function, `"+e+"` is not valid"):H("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")));var r="function"==typeof t,i="function"==typeof n;return n||r||(n={}),r||i?function(){return Ae(i?Ee(n,this):n,r?Ee(t,this):t)}:Ae(n,t)}function Ee(t,n){var e=t.call(n);if(e)return"object"!=typeof e&&B("Data function must return an object"),e.constructor!==Object&&$("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),e}function Ae(t,n){if(t&&n){for(var e in n)e in t||(t[e]=n[e]);return t}return t||n}var Se,Ne,Ce=/^\s+/;(Ne=function(t){this.name="ParseError",this.message=t;try{throw new Error(t)}catch(t){this.stack=t.stack}}).prototype=Error.prototype,(Se=function(t,n){var e,r,i=0;for(this.str=t,this.options=n||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(t){var n=i+t.length+1;return i=n},0),this.init&&this.init(t,n),e=[];this.pos<this.str.length&&(r=this.read());)e.push(r);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(e,n):e}).prototype={read:function(t){var n,e,r,i;for(t||(t=this.converters),n=this.pos,r=t.length,e=0;e<r;e+=1)if(this.pos=n,i=t[e](this))return i;return null},getLinePos:function(t){for(var n=0,e=0;t>=this.lineEnds[n];)e=this.lineEnds[n],n+=1;return[n+1,t-e+1,t]},error:function(t){var e=this.getLinePos(this.pos),n=e[0],r=e[1],i=this.lines[e[0]-1],o=0,a=i.replace(/\t/g,function(t,n){return n<e[1]&&(o+=1),"  "})+"\n"+new Array(e[1]+o).join(" ")+"^----",u=new Ne(t+" at line "+n+" character "+r+":\n"+a);throw u.line=e[0],u.character=e[1],u.shortMessage=t,u},matchString:function(t){if(this.str.substr(this.pos,t.length)===t)return this.pos+=t.length,t},matchPattern:function(t){var n;if(n=t.exec(this.remaining()))return this.pos+=n[0].length,n[1]||n[0]},allowWhitespace:function(){this.matchPattern(Ce)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},Se.extend=function(t){var n,e;for(e in(n=function(t,n){Se.call(this,t,n)}).prototype=_(this.prototype),t)S.call(t,e)&&(n.prototype[e]=t[e]);return n.extend=Se.extend,n};var Re=Se,je=2,Oe=3,Te=4,Pe=5,Fe=7,De=8,qe=9,Le=10,ze=16,Ie=18,Ue=30,Be=31,Ve=32,We=33,He=34,$e=36,Ze=50,Ye=51,Ge=52,Ke=53,Qe=54,Je=function(t){var n,e,r;return t.matchString("=")?(n=t.pos,t.allowWhitespace(),(e=t.matchPattern(Xe))?t.matchPattern(tr)?(r=t.matchPattern(Xe))?(t.allowWhitespace(),t.matchString("=")?[e,r]:(t.pos=n,null)):(t.pos=n,null):null:(t.pos=n,null)):null},Xe=/^[^\s=]+/,tr=/^\s+/;var nr=function(t){var n;if(n=t.matchPattern(er))return{t:25,v:n};return null},er=/^(\/(?:[^\n\r\u2028\u2029/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/;var rr=function(t){var n,e;if(!1===t.interpolate[t.inside])return null;for(e=0;e<t.tags.length;e+=1)if(n=or(t,t.tags[e]))return n},ir={t:Le,exclude:!0};function or(t,n){var e,r,i;if(e=t.pos,t.matchString("\\"+n.open)){if(0===e||"\\"!==t.str[e-1])return n.open}else if(!t.matchString(n.open))return null;if(r=Je(t))return t.matchString(n.close)?(n.open=r[0],n.close=r[1],t.sortMustacheTags(),ir):null;if(t.allowWhitespace(),t.matchString("/")){t.pos-=1;var o=t.pos;nr(t)?t.pos=o:(t.pos=o-n.close.length,t.error("Attempted to close a section that wasn't open"))}for(i=0;i<n.readers.length;i+=1)if(r=(0,n.readers[i])(t,n))return n.isStatic&&(r.s=!0),t.includeLinePositions&&(r.p=t.getLinePos(e)),r;return t.pos=e,null}var ar="Expected a JavaScript expression",ur="Expected closing paren",sr=function(t){var n;if(n=t.matchPattern(cr))return{t:20,v:n};return null},cr=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;var lr,fr,hr,pr=function(t){var n=t.remaining();return"true"!==n.substr(0,4)?"false"!==n.substr(0,5)?null:(t.pos+=5,{t:24,v:"false"}):(t.pos+=4,{t:24,v:"true"})};lr=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,fr=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,hr=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var dr=function(i){return function(t){var n,e,r;for(t.pos,e=!(n='"');!e;)(r=t.matchPattern(lr)||t.matchPattern(fr)||t.matchString(i))?n+='"'===r?'\\"':"\\'"===r?"'":r:(r=t.matchPattern(hr))?n+="\\u"+("000"+r.charCodeAt(1).toString(16)).slice(-4):e=!0;return n+='"',JSON.parse(n)}},vr=dr('"'),gr=dr("'"),mr=function(t){var n,e;return n=t.pos,t.matchString('"')?(e=gr(t),t.matchString('"')?{t:21,v:e}:(t.pos=n,null)):t.matchString("'")?(e=vr(t),t.matchString("'")?{t:21,v:e}:(t.pos=n,null)):null},yr=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,br=function(t){var n;if(n=mr(t))return wr.test(n.v)?n.v:'"'+n.v.replace(/"/g,'\\"')+'"';if(n=sr(t))return n.v;if(n=t.matchPattern(yr))return n},wr=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;var xr=function(t){var n,e,r;return n=t.pos,t.allowWhitespace(),null!==(e=br(t))?(t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),null!==(r=Ur(t))?{t:27,k:e,v:r}:(t.pos=n,null)):(t.pos=n,null)):(t.pos=n,null)};var _r=function t(n){var e,r,i,o;e=n.pos;i=xr(n);if(null===i)return null;r=[i];if(n.matchString(","))return(o=t(n))?r.concat(o):(n.pos=e,null);return r};var kr=function t(n){var e,r,i;n.pos;n.allowWhitespace();r=Ur(n);if(null===r)return null;e=[r];n.allowWhitespace();n.matchString(",")&&(null===(i=t(n))&&n.error(ar),i.forEach(o));function o(t){e.push(t)}return e};var Mr=function(t){return sr(t)||pr(t)||mr(t)||(i=t,o=i.pos,i.allowWhitespace(),i.matchString("{")?(a=_r(i),i.allowWhitespace(),i.matchString("}")?{t:23,m:a}:(i.pos=o,null)):(i.pos=o,null))||(n=t,e=n.pos,n.allowWhitespace(),n.matchString("[")?(r=kr(n),n.matchString("]")?{t:22,m:r}:(n.pos=e,null)):(n.pos=e,null))||nr(t);var n,e,r;var i,o,a};var Er,Ar,Sr=function(t){var n,e,r,i,o,a;n=t.pos,(r=t.matchPattern(/^@(?:keypath|index|key)/))||(e=t.matchPattern(Nr)||"",(r=!e&&t.relaxedNames&&t.matchPattern(Rr)||t.matchPattern(Cr))||"."!==e||(e="",r="."));if(!r)return null;if(!e&&!t.relaxedNames&&Ar.test(r))return t.pos=n,null;if(!e&&Er.test(r))return i=Er.exec(r)[0],t.pos=n+i.length,{t:26,v:i};o=(e||"")+lt(r),t.matchString("(")&&(-1!==(a=o.lastIndexOf("."))?(o=o.substr(0,a),t.pos=n+o.length):t.pos-=1);return{t:Ue,n:o.replace(/^this\./,"./").replace(/^this$/,".")}},Nr=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/;Er=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)\b/,Ar=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var Cr=/^[a-zA-Z$_0-9]+(?:(?:\.[a-zA-Z$_0-9]+)|(?:\[[0-9]+\]))*/,Rr=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/;var jr=function(t){var n;if(t.pos,!t.matchString("("))return null;t.allowWhitespace(),(n=Ur(t))||t.error(ar);t.allowWhitespace(),t.matchString(")")||t.error(ur);return{t:He,x:n}};var Or=function(t){var n,e;if(t.pos,t.allowWhitespace(),t.matchString(".")){if(t.allowWhitespace(),n=t.matchPattern(yr))return{t:Be,n:n};t.error("Expected a property name")}if(t.matchString("["))return t.allowWhitespace(),(e=Ur(t))||t.error(ar),t.allowWhitespace(),t.matchString("]")||t.error("Expected ']'"),{t:Be,x:e};return null};var Tr,Pr,Fr=function(t){var n,e,r,i;if(!(n=Mr(i=t)||Sr(i)||jr(i)))return null;for(;n;)if(t.pos,e=Or(t))n={t:Ve,x:n,r:e};else{if(!t.matchString("("))break;t.allowWhitespace(),r=kr(t),t.allowWhitespace(),t.matchString(")")||t.error(ur),n={t:40,x:n},r&&(n.o=r)}return n};Pr=function(e,r){return function(t){var n;return(n=r(t))?n:t.matchString(e)?(t.allowWhitespace(),(n=Ur(t))||t.error(ar),{s:e,o:n,t:We}):null}},function(){var t,n,e,r;for(e="! ~ + - typeof".split(" "),r=Fr,t=0,n=e.length;t<n;t+=1)r=Pr(e[t],r);Tr=r}();var Dr,qr,Lr=Tr;qr=function(i,o){return function(t){var n,e,r;if(!(e=o(t)))return null;for(;;){if(n=t.pos,t.allowWhitespace(),!t.matchString(i))return t.pos=n,e;if("in"===i&&/[a-zA-Z_$0-9]/.test(t.remaining().charAt(0)))return t.pos=n,e;if(t.allowWhitespace(),!(r=o(t)))return t.pos=n,e;e={t:$e,s:i,o:[e,r]}}}},function(){var t,n,e,r;for(e="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),r=Lr,t=0,n=e.length;t<n;t+=1)r=qr(e[t],r);Dr=r}();var zr=Dr,Ir=function(t){var n,e,r,i;if(!(e=zr(t)))return null;if(n=t.pos,t.allowWhitespace(),!t.matchString("?"))return t.pos=n,e;t.allowWhitespace(),(r=Ur(t))||t.error(ar);t.allowWhitespace(),t.matchString(":")||t.error('Expected ":"');t.allowWhitespace(),(i=Ur(t))||t.error(ar);return{t:35,o:[e,r,i]}};var Ur=function(t){return Ir(t)};var Br=function(t){var e;return function t(n,e){var r,i;if(n.t===Ue&&-1===e.indexOf(n.n)&&e.unshift(n.n),i=n.o||n.m)if(P(i))t(i,e);else for(r=i.length;r--;)t(i[r],e);n.x&&t(n.x,e),n.r&&t(n.r,e),n.v&&t(n.v,e)}(t,e=[]),{r:e,s:function t(n){switch(n.t){case 24:case 26:case 20:case 25:return n.v;case 21:return JSON.stringify(String(n.v));case 22:return"["+(n.m?n.m.map(t).join(","):"")+"]";case 23:return"{"+(n.m?n.m.map(t).join(","):"")+"}";case 27:return n.k+":"+t(n.v);case We:return("typeof"===n.s?"typeof ":n.s)+t(n.o);case $e:return t(n.o[0])+("in"===n.s.substr(0,2)?" "+n.s+" ":n.s)+t(n.o[1]);case 40:return t(n.x)+"("+(n.o?n.o.map(t).join(","):"")+")";case He:return"("+t(n.x)+")";case Ve:return t(n.x)+t(n.r);case Be:return n.n?"."+n.n:"["+t(n.x)+"]";case 35:return t(n.o[0])+"?"+t(n.o[1])+":"+t(n.o[2]);case Ue:return"_"+e.indexOf(n.n);default:throw new Error("Expected legal JavaScript")}}(t)}};var Vr=function(t,n){var e;if(t){for(;t.t===He&&t.x;)t=t.x;return t.t===Ue?n.r=t.n:20===t.t&&Wr.test(t.v)?n.r=t.v:(e=function(t){var n,e=[];for(;t.t===Ve&&t.r.t===Be;)(n=t.r).x?n.x.t===Ue?e.unshift(n.x):e.unshift(Br(n.x)):e.unshift(n.n),t=t.x;return t.t===Ue?{r:t.n,m:e}:null}(t))?n.rx=e:n.x=Br(t),n}},Wr=/^[0-9][1-9]*$/;var Hr=function(t,n){var e,r=Ur(t);if(!r)return null;t.matchString(n.close)||t.error("Expected closing delimiter '"+n.close+"'");return Vr(r,e={t:Oe}),e};var $r=function(t,n){var e,r;if(!t.matchString("&"))return null;if(t.allowWhitespace(),!(e=Ur(t)))return null;t.matchString(n.close)||t.error("Expected closing delimiter '"+n.close+"'");return Vr(e,r={t:Oe}),r};var Zr=function(t,n){var e,r,i;if(t.pos,!t.matchString(">"))return null;if(t.allowWhitespace(),t.pos,t.relaxedNames=!0,e=Ur(t),t.relaxedNames=!1,t.allowWhitespace(),r=Ur(t),t.allowWhitespace(),!e)return null;Vr(e,i={t:De}),t.allowWhitespace(),r&&Vr(r,i={t:Te,n:Ke,f:[i]});t.matchString(n.close)||t.error("Expected closing delimiter '"+n.close+"'");return i};var Yr=function(t,n){var e;if(!t.matchString("!"))return null;if(-1!==(e=t.remaining().indexOf(n.close)))return t.pos+=e+n.close.length,{t:qe}};var Gr=function(t,n){var e,r,i;if(e=t.pos,!(r=Ur(t)))return null;for(i=0;i<n.length;i+=1)if(t.remaining().substr(0,n[i].length)===n[i])return r;return t.pos=e,Sr(t)};var Kr=function(t,n){var e,r,i,o;e=t.pos;try{r=Gr(t,[n.close])}catch(t){o=t}if(!r){if("!"===t.str.charAt(e))return t.pos=e,null;if(o)throw o}if(!t.matchString(n.close)&&(t.error("Expected closing delimiter '"+n.close+"' after reference"),!r)){if("!"===t.nextChar())return null;t.error("Expected expression or legal reference")}return Vr(r,i={t:je}),i};var Qr=function(t,n){var e,r;if(!t.matchPattern(Jr))return null;t.pos,e=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),t.allowWhitespace(),t.matchString(n.close)||t.error("expected legal partial name");r={t:ze},e&&(r.n=e);return r},Jr=/^yield\s*/;var Xr=function(t,n){var e,r,i,o;if(e=t.pos,!t.matchString(n.open))return null;if(t.allowWhitespace(),!t.matchString("/"))return t.pos=e,null;if(t.allowWhitespace(),r=t.remaining(),-1===(i=r.indexOf(n.close)))return t.pos=e,null;o={t:6,r:r.substr(0,i).split(" ")[0]},t.pos+=i,t.matchString(n.close)||t.error("Expected closing delimiter '"+n.close+"'");return o};var ti=function(t,n){var e=t.pos;if(!t.matchString(n.open))return null;if(!t.matchPattern(ni))return t.pos=e,null;t.matchString(n.close)||t.error("Expected closing delimiter '"+n.close+"'");return{t:60}},ni=/^\s*else\s*/;var ei=function(t,n){var e,r=t.pos;if(!t.matchString(n.open))return null;if(!t.matchPattern(ri))return t.pos=r,null;e=Ur(t),t.matchString(n.close)||t.error("Expected closing delimiter '"+n.close+"'");return{t:61,x:e}},ri=/^\s*elseif\s+/;var ii={each:Ge,if:Ze,"if-with":Qe,with:Ke,unless:Ye},oi=function(t,n){var e,r,i,o,a,u,s,c,l,f,h,p;if(e=t.pos,t.matchString("^"))i={t:Te,f:[],n:Ye};else{if(!t.matchString("#"))return null;i={t:Te,f:[]},t.matchString("partial")&&(t.pos=e-t.standardDelimiters[0].length,t.error("Partial definitions can only be at the top level of the template, or immediately inside components")),(s=t.matchPattern(si))&&(p=s,i.n=ii[s])}t.allowWhitespace(),(r=Ur(t))||t.error("Expected expression");if(h=t.matchPattern(ai)){var d=void 0;(d=t.matchPattern(ui))?i.i=h+","+d:i.i=h}t.allowWhitespace(),t.matchString(n.close)||t.error("Expected closing delimiter '"+n.close+"'");t.sectionDepth+=1,a=i.f,l=[];do{if(o=Xr(t,n))p&&o.r!==p&&t.error("Expected "+n.open+"/"+p+n.close),t.sectionDepth-=1,f=!0;else if(o=ei(t,n))i.n===Ye&&t.error("{{else}} not allowed in {{#unless}}"),u&&t.error("illegal {{elseif...}} after {{else}}"),c||(c=ci(r,i.n)),c.f.push({t:Te,n:Ze,x:Br(fi(l.concat(o.x))),f:a=[]}),l.push(li(o.x));else if(o=ti(t,n))i.n===Ye&&t.error("{{else}} not allowed in {{#unless}}"),u&&t.error("there can only be one {{else}} block, at the end of a section"),u=!0,c?c.f.push({t:Te,n:Ze,x:Br(fi(l)),f:a=[]}):(c=ci(r,i.n),a=c.f);else{if(!(o=t.read(To)))break;a.push(o)}}while(!f);c&&(i.n===Ke&&(i.n=Qe),i.l=c);Vr(r,i),i.f.length||delete i.f;return i},ai=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,ui=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,si=new RegExp("^("+Object.keys(ii).join("|")+")\\b");function ci(t,n){var e;return n===Ke?(e={t:Te,n:Ze,f:[]},Vr(li(t),e)):Vr(t,e={t:Te,n:Ye,f:[]}),e}function li(t){return t.t===We&&"!"===t.s?t.o:{t:We,s:"!",o:hi(t)}}function fi(t){return 1===t.length?t[0]:{t:$e,s:"&&",o:[hi(t[0]),hi(fi(t.slice(1)))]}}function hi(t){return{t:He,x:t}}var pi,di,vi,gi,mi,yi,bi,wi,xi=function(t){var n,e,r,i,o;if(n=t.pos,!t.matchString(_i))return null;r=t.remaining(),-1===(i=r.indexOf(ki))&&t.error("Illegal HTML - expected closing comment sequence ('--\x3e')");e=r.substr(0,i),t.pos+=i+3,o={t:qe,c:e},t.includeLinePositions&&(o.p=t.getLinePos(n));return o},_i="\x3c!--",ki="--\x3e";function Mi(t){return t.replace(mi,function(t,n){var e;return(e="#"!==n[0]?vi[n]:"x"===n[1]?parseInt(n.substring(2),16):parseInt(n.substring(1),10))?String.fromCharCode(function(t){if(!t)return 65533;if(10===t)return 32;if(t<128)return t;if(t<=159)return gi[t-128];if(t<55296)return t;if(t<=57343)return 65533;if(t<=65535)return t;return 65533}(e)):t})}function Ei(t){return t.replace(wi,"&amp;").replace(yi,"&lt;").replace(bi,"&gt;")}pi=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,di=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,vi={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},gi=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],mi=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(vi).join("|")+"));?","g"),yi=/</g,bi=/>/g;var Ai=/^\s*\r?\n/,Si=/\r?\n\s*$/,Ni=function(t){var n,e,r,i,o,a;for(n=1;n<t.length;n+=1)e=t[n],r=t[n-1],i=t[n-2],Ci(e)&&((a=r).t===qe||a.t===Le)&&Ci(i)&&Si.test(i)&&Ai.test(e)&&(t[n-2]=i.replace(Si,"\n"),t[n]=e.replace(Ai,"")),Ri(e)&&Ci(r)&&Si.test(r)&&Ci(e.f[0])&&Ai.test(e.f[0])&&(t[n-1]=r.replace(Si,"\n"),e.f[0]=e.f[0].replace(Ai,"")),Ci(e)&&Ri(r)&&Ci(o=Mt(r.f))&&Si.test(o)&&Ai.test(e)&&(r.f[r.f.length-1]=o.replace(Si,"\n"),t[n]=e.replace(Ai,""));return t};function Ci(t){return"string"==typeof t}function Ri(t){return(t.t===Te||t.t===Pe)&&t.f}var ji=function(t,n,e){var r;n&&"string"==typeof(r=t[0])&&((r=r.replace(n,""))?t[0]=r:t.shift()),e&&"string"==typeof(r=Mt(t))&&((r=r.replace(e,""))?t[t.length-1]=r:t.pop())},Oi=function t(n,e,r,i,o){var a,u,s,c,l,f,h,p;Ni(n);a=n.length;for(;a--;)(u=n[a]).exclude?n.splice(a,1):e&&u.t===qe&&n.splice(a,1);ji(n,i?Fi:null,o?Di:null);a=n.length;for(;a--;){if((u=n[a]).f){var d=u.t===Fe&&Pi.test(u.e);l=r||d,!r&&d&&ji(u.f,qi,Li),l||(s=n[a-1],c=n[a+1],(!s||"string"==typeof s&&Di.test(s))&&(f=!0),(!c||"string"==typeof c&&Fi.test(c))&&(h=!0)),t(u.f,e,l,f,h)}if(u.l&&(t(u.l.f,e,r,f,h),n.splice(a+1,0,u.l),delete u.l),u.a)for(p in u.a)u.a.hasOwnProperty(p)&&"string"!=typeof u.a[p]&&t(u.a[p],e,r,f,h);if(u.m&&t(u.m,e,r,f,h),u.v)for(p in u.v)u.v.hasOwnProperty(p)&&(R(u.v[p].n)&&t(u.v[p].n,e,r,f,h),R(u.v[p].d)&&t(u.v[p].d,e,r,f,h))}a=n.length;for(;a--;)"string"==typeof n[a]&&("string"==typeof n[a+1]&&(n[a]=n[a]+n[a+1],n.splice(a+1,1)),r||(n[a]=n[a].replace(Ti," ")),""===n[a]&&n.splice(a,1))},Ti=/[ \t\f\r\n]+/g,Pi=/^(?:pre|script|style|textarea)$/i,Fi=/^[ \t\f\r\n]+/,Di=/[ \t\f\r\n]+$/,qi=/^(?:\r\n|\r|\n)/,Li=/(?:\r\n|\r|\n)$/;var zi=function(t){var n,e;if(n=t.pos,!t.matchString("</"))return null;if(e=t.matchPattern(Ii))return t.inside&&e!==t.inside?(t.pos=n,null):{t:14,e:e};t.pos-=2,t.error("Illegal closing tag")},Ii=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/;var Ui,Bi,Vi,Wi,Hi,$i,Zi,Yi=function(t,n){var e,r,i;for(e=n.length;e--;){if(!(r=t.indexOf(n[e])))return 0;-1!==r&&((!i||r<i)&&(i=r))}return i||-1},Gi=function(t){var n,e,r;if(t.allowWhitespace(),!(e=t.matchPattern(Ki)))return null;n={name:e},null!=(i=t,o=i.pos,/[=\/>\s]/.test(i.nextChar())||i.error("Expected `=`, `/`, `>` or whitespace"),i.allowWhitespace(),r=i.matchString("=")?(i.allowWhitespace(),a=i.pos,u=i.sectionDepth,null===(s=Xi(i,"'")||Xi(i,'"')||function(t){var n,e;for(t.inAttribute=!0,n=[],e=rr(t)||Ji(t);null!==e;)n.push(e),e=rr(t)||Ji(t);return n.length?(t.inAttribute=!1,n):null}(i))&&i.error("Expected valid attribute value"),i.sectionDepth!==u&&(i.pos=a,i.error("An attribute value must contain as many opening section tags as closing section tags")),s.length?1!==s.length||"string"!=typeof s[0]?s:Mi(s[0]):""):(i.pos=o,null))&&(n.value=r);var i,o,a,u,s;return n},Ki=/^[^\s"'>\/=]+/,Qi=/^[^\s"'=<>`]+/;function Ji(t){var n,e,r,i,o;return n=t.pos,(e=t.matchPattern(Qi))?(r=e,i=t.tags.map(function(t){return t.open}),-1!==(o=Yi(r,i))&&(e=e.substr(0,o),t.pos=n+e.length),e):null}function Xi(t,n){var e,r,i;if(e=t.pos,!t.matchString(n))return null;for(t.inAttribute=n,r=[],i=rr(t)||to(t,n);null!==i;)r.push(i),i=rr(t)||to(t,n);return t.matchString(n)?(t.inAttribute=!1,r):(t.pos=e,null)}function to(t,n){var e,r,i;return t.pos,r=t.remaining(),(i=t.tags.map(function(t){return t.open})).push(n),-1===(e=Yi(r,i))&&t.error("Quoted attribute value must have a closing quote"),e?(t.pos+=e,r.substr(0,e)):null}function no(t){var n,e,r;return t.allowWhitespace(),(n=br(t))?(r={key:n},t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),(e=t.read())?(r.value=e.v,r):null):null):null}Bi={true:!0,false:!(wi=/&/g),undefined:void 0,null:null},Vi=new RegExp("^(?:"+Object.keys(Bi).join("|")+")"),Wi=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Hi=/\$\{([^\}]+)\}/g,$i=/^\$\{([^\}]+)\}/,Zi=/^\s*$/,Ui=Re.extend({init:function(t,n){this.values=n.values,this.allowWhitespace()},postProcess:function(t){return 1===t.length&&Zi.test(this.leftover)?{value:t[0].v}:null},converters:[function(t){var n;return t.values?(n=t.matchPattern($i))&&t.values.hasOwnProperty(n)?{v:t.values[n]}:void 0:null},function(t){var n;if(n=t.matchPattern(Vi))return{v:Bi[n]}},function(t){var n;if(n=t.matchPattern(Wi))return{v:+n}},function(t){var e,n=mr(t);return n&&(e=t.values)?{v:n.v.replace(Hi,function(t,n){return n in e?e[n]:n})}:n},function(t){var n,e;if(!t.matchString("{"))return null;if(n={},t.allowWhitespace(),t.matchString("}"))return{v:n};for(;e=no(t);){if(n[e.key]=e.value,t.allowWhitespace(),t.matchString("}"))return{v:n};if(!t.matchString(","))return null}return null},function(t){var n,e;if(!t.matchString("["))return null;if(n=[],t.allowWhitespace(),t.matchString("]"))return{v:n};for(;e=t.read();){if(n.push(e.v),t.allowWhitespace(),t.matchString("]"))return{v:n};if(!t.matchString(","))return null;t.allowWhitespace()}return null}]});var eo,ro=function(t,n){return new Ui(t,{values:n}).result},io=function(t,n){var e,r,i,o,a,u,s,c,l;if("string"==typeof t){if(r=oo.exec(t)){var f=t.lastIndexOf(")");return ao.test(t)||n.error("Invalid input after method call expression '"+t.slice(f+1)+"'"),e={m:r[1]},o="["+t.slice(e.m.length+1,f)+"]",i=new eo(o),e.a=Br(i.result[0]),e}if(-1===t.indexOf(":"))return t.trim();t=[t]}if(e={},s=[],c=[],t){for(;t.length;)if("string"==typeof(a=t.shift())){if(-1!==(u=a.indexOf(":"))){u&&s.push(a.substr(0,u)),a.length>u+1&&(c[0]=a.substring(u+1));break}s.push(a)}else s.push(a);c=c.concat(t)}s.length?c.length||"string"!=typeof s?(e={n:1===s.length&&"string"==typeof s[0]?s[0]:s},1===c.length&&"string"==typeof c[0]?(l=ro("["+c[0]+"]"),e.a=l?l.value:c[0].trim()):e.d=c):e=s:e="";return e},oo=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,ao=/\)\s*$/;eo=Re.extend({converters:[Ur]});var uo,so=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,co=/^[\s\n\/>]/,lo=/^on/,fo=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,ho=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,po={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},vo={exclude:!0};uo={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var go=function(r){var t,i,n,e,o,a,u,s,c,l,f,h,p,d,v,g;if(t=r.pos,r.inside||r.inAttribute)return null;if(!r.matchString("<"))return null;if("/"===r.nextChar())return null;i={},r.includeLinePositions&&(i.p=r.getLinePos(t));if(r.matchString("!"))return i.t=Ie,r.matchPattern(/^doctype/i)||r.error("Expected DOCTYPE declaration"),i.a=r.matchPattern(/^(.+?)>/),i;if(i.t=Fe,i.e=r.matchPattern(so),!i.e)return null;co.test(r.nextChar())||r.error("Illegal tag name");o=function(t,n){var e=n.n||n;ho.test(e)&&(r.pos-=e.length,r.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),i.v[t]=n},r.allowWhitespace();for(;a=rr(r)||Gi(r);)a.name?(n=po[a.name])?i[n]=io(a.value,r):(e=fo.exec(a.name))?(i.v||(i.v={}),u=io(a.value,r),o(e[1],u)):r.sanitizeEventAttributes&&lo.test(a.name)||(i.a||(i.a={}),i.a[a.name]=a.value||(""===a.value?"":0)):(i.m||(i.m=[]),i.m.push(a)),r.allowWhitespace();r.allowWhitespace(),r.matchString("/")&&(s=!0);if(!r.matchString(">"))return null;var m=i.e.toLowerCase(),y=r.preserveWhitespace;if(!s&&!di.test(i.e)){r.elementStack.push(m),"script"!==m&&"style"!==m||(r.inside=m),c=[],l=_(null);do{if(d=r.pos,v=r.remaining(),mo(m,v))if(g=zi(r)){p=!0;var b=g.e.toLowerCase();if(b!==m&&(r.pos=d,!~r.elementStack.indexOf(b))){var w="Unexpected closing tag";di.test(b)&&(w+=" (<"+b+"> is a void element - it cannot contain children)"),r.error(w)}}else(h=Xr(r,{open:r.standardDelimiters[0],close:r.standardDelimiters[1]}))?(p=!0,r.pos=d):(h=r.read(Po))?(l[h.n]&&(r.pos=d,r.error("Duplicate partial definition")),Oi(h.f,r.stripComments,y,!y,!y),l[h.n]=h.f,f=!0):(h=r.read(To))?c.push(h):p=!0;else p=!0}while(!p);c.length&&(i.f=c),f&&(i.p=l),r.elementStack.pop()}if(r.inside=null,r.sanitizeElements&&-1!==r.sanitizeElements.indexOf(m))return vo;return i};function mo(t,n){var e,r;return e=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(n),r=uo[t],!e||!r||!~r.indexOf(e[1].toLowerCase())}var yo=function(t){return t.replace(bo,"\\$&")},bo=/[-/\\^$*+?.()|[\]{}]/g;var wo,xo=function(t){var n=t.pos,e=t.standardDelimiters[0],r=t.standardDelimiters[1],i=void 0,o=void 0;if(!t.matchPattern(_o)||!t.matchString(e))return t.pos=n,null;var a=t.matchPattern(ko);if($("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+a+"}} ... {{/partial}}\n\n...instead of this:\n  \x3c!-- {{>"+a+"}} --\x3e ... \x3c!-- {{/"+a+"}} --\x3e'"),!t.matchString(r)||!t.matchPattern(Mo))return t.pos=n,null;i=[];var u=new RegExp("^\x3c!--\\s*"+yo(e)+"\\s*\\/\\s*"+a+"\\s*"+yo(r)+"\\s*--\x3e");for(;t.matchPattern(u)?o=!0:((wo=t.read(To))||t.error("expected closing comment ('\x3c!-- "+e+"/"+a+r+" --\x3e')"),i.push(wo)),!o;);return{t:17,f:i,n:a}},_o=/^<!--\s*/,ko=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,Mo=/\s*-->/;var Eo=function(t){var n,e,r,i,o;n=t.pos;var a=t.standardDelimiters;if(!t.matchString(a[0]))return null;if(!t.matchPattern(Ao))return t.pos=n,null;(e=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/))||t.error("expected legal partial name");t.matchString(a[1])||t.error("Expected closing delimiter '"+a[1]+"'");r=[];for(;(i=Xr(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?("partial"===!i.r&&t.error("Expected "+a[0]+"/partial"+a[1]),o=!0):((i=t.read(To))||t.error("Expected "+a[0]+"/partial"+a[1]),r.push(i)),!o;);return{t:17,n:e,f:r}},Ao=/^#\s*partial\s+/;var So=function(t){var n=[],e=_(null),r=!1,i=t.preserveWhitespace;for(;t.pos<t.str.length;){var o=t.pos,a=void 0,u=void 0;(u=t.read(Po))?(e[u.n]&&(t.pos=o,t.error("Duplicated partial definition")),Oi(u.f,t.stripComments,i,!i,!i),e[u.n]=u.f,r=!0):(a=t.read(To))?n.push(a):t.error("Unexpected template content")}var s={v:g,t:n};r&&(s.p=e);return s};var No=function(t,n){return new Oo(t,n||{}).result},Co=[Zr,$r,oi,Qr,Kr,Yr],Ro=[Hr],jo=[$r,oi,Kr],Oo=void 0;var To=[rr,xi,go,function(t){var n,e,r,i;e=t.remaining(),i=t.inside?"</"+t.inside:"<",n=t.inside&&!t.interpolate[t.inside]?e.indexOf(i):(r=(r=t.tags.map(function(t){return t.open})).concat(t.tags.map(function(t){return"\\"+t.open})),!0===t.inAttribute?r.push('"',"'","=","<",">","`"):t.inAttribute?r.push(t.inAttribute):r.push(i),Yi(e,r));if(!n)return null;-1===n&&(n=e.length);return t.pos+=n,t.inside?e.substr(0,n):Mi(e.substr(0,n))}],Po=[xo,Eo];Oo=Re.extend({init:function(t,n){var e=n.tripleDelimiters||["{{{","}}}"],r=n.staticDelimiters||["[[","]]"],i=n.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=n.delimiters||["{{","}}"],this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:Co},{isStatic:!1,isTriple:!0,open:e[0],close:e[1],readers:Ro},{isStatic:!0,isTriple:!1,open:r[0],close:r[1],readers:jo},{isStatic:!0,isTriple:!0,open:i[0],close:i[1],readers:Ro}],this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate={script:!n.interpolate||!1!==n.interpolate.script,style:!n.interpolate||!1!==n.interpolate.style},!0===n.sanitize&&(n.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.stripComments=!1!==n.stripComments,this.preserveWhitespace=n.preserveWhitespace,this.sanitizeElements=n.sanitize&&n.sanitize.elements,this.sanitizeEventAttributes=n.sanitize&&n.sanitize.eventAttributes,this.includeLinePositions=n.includeLinePositions},postProcess:function(t){return t.length?(0<this.sectionDepth&&this.error("A section was left open"),Oi(t[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace),t[0]):{t:[],v:g}},converters:[So],sortMustacheTags:function(){this.tags.sort(function(t,n){return n.open.length-t.open.length})}});var Fo=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],Do={fromId:function(t,n){var e;if(!r){if(n&&n.noThrow)return;throw new Error("Cannot retrieve template #"+t+" as Ractive is not running in a browser.")}Lo(t)&&(t=t.substring(1));if(!(e=document.getElementById(t))){if(n&&n.noThrow)return;throw new Error("Could not find template element with id #"+t)}if("SCRIPT"===e.tagName.toUpperCase())return"textContent"in e?e.textContent:e.innerHTML;if(n&&n.noThrow)return;throw new Error("Template element with id #"+t+", must be a <script> element")},isHashedId:Lo,isParsed:function(t){return!("string"==typeof t)},getParseOptions:function(e){e.defaults&&(e=e.defaults);return Fo.reduce(function(t,n){return t[n]=e[n],t},{})},createHelper:function(e){var t=_(Do);return t.parse=function(t,n){return qo(t,n||e)},t},parse:qo};function qo(t,n){if(!No)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return No(t,n||this.options)}function Lo(t){return t&&"#"===t[0]}var zo=Do;function Io(t,n){var e,r,i=(e=zo.getParseOptions(t),(r=_(zo)).parse=function(t,n){return zo.parse(t,n||e)},r);return n.call(t,i)}function Uo(t,n){if("string"==typeof t)"#"===t[0]&&(t=zo.fromId(t)),t=No(t,zo.getParseOptions(n));else{if(null==t)throw new Error("The template cannot be "+t+".");if("number"!=typeof t.v)throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(t.v!==g)throw new Error("Mismatched template version (expected "+g+", got "+t.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return t}function Bo(t,n,e){if(n)for(var r in n)!e&&t.hasOwnProperty(r)||(t[r]=n[r])}var Vo,Wo,Ho={name:"template",extend:function(t,n,e){var r;"template"in e&&(r=e.template,n.template="function"==typeof r?r:Uo(r,n))},init:function(t,n,e){var r,i;"function"==typeof(r="template"in e?e.template:t.prototype.template)&&(r=Io(n,i=r),n._config.template={fn:i,result:r}),r=Uo(r,n),n.template=r.t,r.p&&Bo(n.partials,r.p)},reset:function(t){var n,e=function(t){var n,e=t._config.template;if(!e||!e.fn)return;if((n=Io(t,e.fn))!==e.result)return n=Uo(e.result=n,t)}(t);if(e)return n=Uo(e,t),t.template=n.t,Bo(t.partials,n.p,!0),!0}};Vo=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],(Wo=function(t,n){this.name=t,this.useDefaults=n}).prototype={constructor:Wo,extend:function(t,n,e){this.configure(this.useDefaults?t.defaults:t,this.useDefaults?n:n.constructor,e)},init:function(){},configure:function(t,n,e){var r,i=this.name,o=e[i];for(var a in r=_(t[i]),o)r[a]=o[a];n[i]=r},reset:function(t){var e=t[this.name],r=!1;return Object.keys(e).forEach(function(t){var n=e[t];n._fn&&(n._fn.isOwner?e[t]=n._fn:delete e[t],r=!0)}),r}};var $o=Vo.map(function(t){return new Wo(t,"computed"===t)}),Zo=function(t,i,o){if(!/_super/.test(o))return o;var a=function(){var t,n=function(t,n){var e,r;r=n in t?(e=t[n],"function"==typeof e?e:function(){return e}):z;return r}(a._parent,i),e="_super"in this,r=this._super;return this._super=n,t=o.apply(this,arguments),e?this._super=r:delete this._super,t};return a._parent=t,a._method=o,a};var Yo,Go,Ko,Qo,Jo,Xo=function(t){na(t,"beforeInit","onconstruct"),na(t,"init","onrender"),na(t,"complete","oncomplete"),na(t,"eventDefinitions","events"),R(t.adaptors)&&na(t,"adaptors","adapt")};function ta(t,n,e){return"options."+t+" has been deprecated in favour of options."+n+"."+(e?" You cannot specify both options, please use options."+n+".":"")}function na(t,n,e){if(n in t){if(e in t)throw new Error(ta(n,e,!0));H(ta(n,e)),t[e]=t[n]}}function ea(n,e,r,i){for(var t in Xo(i),i)if(Jo.hasOwnProperty(t)){var o=i[t];"el"!==t&&"function"==typeof o?H(t+" is a Ractive option that does not expect a function and will be ignored","init"===n?r:null):r[t]=o}$o.forEach(function(t){t[n](e,r,i)}),he[n](e,r,i),Ho[n](e,r,i),_e[n](e,r,i),function(t,n,e){for(var r in e)if(!Qo[r]&&e.hasOwnProperty(r)){var i=e[r];"function"==typeof i&&(i=Zo(t,r,i)),n[r]=i}}(e.prototype,r,i)}function ra(t){var n={};return t.forEach(function(t){return n[t]=!0}),n}Ko={adapt:he,css:_e,data:ke,template:Ho},Go=Object.keys(m),Jo=ra(Go.filter(function(t){return!Ko[t]})),Qo=ra(Go.concat($o.map(function(t){return t.name})));var ia={extend:function(t,n,e){return ea("extend",t,n,e)},init:function(t,n,e){return ea("init",t,n,e)},reset:function(n){return Yo.filter(function(t){return t.reset&&t.reset(n)}).map(function(t){return t.name})},order:Yo=[].concat(Go.filter(function(t){return!$o[t]&&!Ko[t]}),$o,Ko.data,Ko.template,Ko.css)},oa=function(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()};var aa=function(){var e;return 1!==this.items.length?(e=document.createDocumentFragment(),this.items.forEach(function(t){var n=t.detach();n&&e.appendChild(n)}),e):this.items[0].detach()};var ua=function(t){var n,e,r,i;if(this.items){for(e=this.items.length,n=0;n<e;n+=1)if((r=this.items[n]).find&&(i=r.find(t)))return i;return null}};var sa=function(t,n){var e,r,i;if(this.items)for(r=this.items.length,e=0;e<r;e+=1)(i=this.items[e]).findAll&&i.findAll(t,n);return n};var ca=function(t,n){var e,r,i;if(this.items)for(r=this.items.length,e=0;e<r;e+=1)(i=this.items[e]).findAllComponents&&i.findAllComponents(t,n);return n};var la=function(t){var n,e,r,i;if(this.items){for(n=this.items.length,e=0;e<n;e+=1)if((r=this.items[e]).findComponent&&(i=r.findComponent(t)))return i;return null}};var fa=function(t){var n,e=t.index;n=this.items[e+1]?this.items[e+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this);return n};var ha=function(){if(this.items&&this.items[0])return this.items[0].firstNode();return null};var pa=function i(t,o,a,u){u=u||0;return t.map(function(t){var n,e,r;return t.text?t.text:t.fragments?t.fragments.map(function(t){return i(t.items,o,a,u)}).join(""):(n=a+"-"+u++,r=t.keypath&&(e=t.root.viewmodel.wrapped[t.keypath.str])?e.value:t.getValue(),o[n]=r,"${"+n+"}")}).join("")};var da=function(){var t,n,e,r;this.dirtyArgs&&(n=pa(this.items,t={},this.root._guid),e=ro("["+n+"]",t),r=e?e.value:[this.toString()],this.argsList=r,this.dirtyArgs=!1);return this.argsList};var va=function(){var t=this;do{if(t.pElement)return t.pElement.node}while(t=t.parent);return this.root.detached||this.root.el};var ga=function(){var t,n,e,r;this.dirtyValue&&(n=pa(this.items,t={},this.root._guid),e=ro(n,t),r=e?e.value:this.toString(),this.value=r,this.dirtyValue=!1);return this.value};var ma=function(){return w(this.node)},ya=function(t){this.type=1,this.text=t.template};ya.prototype={detach:ma,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(t){return t?Ei(this.text):this.text},unrender:function(t){if(t)return this.detach()}};var ba=ya,wa=function(){this.registered&&this.root.viewmodel.unregister(this.keypath,this);this.resolver&&this.resolver.unbind()};var xa=function(){return this.value};var _a=function(t,n,e){var r;this.ref=n,this.resolved=!1,this.root=t.root,this.parentFragment=t.parentFragment,this.callback=e,null!=(r=Pt(t.root,n,t.parentFragment))?this.resolve(r):Kt.addUnresolved(this)};_a.prototype={resolve:function(t){this.keypath&&!t&&Kt.addUnresolved(this),this.resolved=!0,this.keypath=t,this.callback(t)},forceResolution:function(){this.resolve(ut(this.ref))},rebind:function(t,n){var e;null!=this.keypath&&void 0!==(e=this.keypath.replace(t,n))&&this.resolve(e)},unbind:function(){this.resolved||Kt.removeUnresolved(this)}};var ka=_a,Ma=function(t,n,e){this.parentFragment=t.parentFragment,this.ref=n,this.callback=e,this.rebind()},Ea={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};function Aa(t,n){for(var e,r=0;r<n.prop.length;r++)if(void 0!==(e=t[n.prop[r]]))return e}Ma.prototype={rebind:function(){var t,n=this.ref,e=this.parentFragment,r=Ea[n];if(!r)throw new Error('Unknown special reference "'+n+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(ut("@"+r.prefix+Aa(this.cached,r)));if(-1!==r.prop.indexOf("index")||-1!==r.prop.indexOf("key"))for(;e;){if(e.owner.currentSubtype===Ge&&void 0!==(t=Aa(e,r)))return(this.cached=e).registerIndexRef(this),this.callback(ut("@"+r.prefix+t));e=!e.parent&&e.owner&&e.owner.component&&e.owner.component.parentFragment&&!e.owner.component.instance.isolated?e.owner.component.parentFragment:e.parent}else for(;e;){if(void 0!==(t=Aa(e,r)))return this.callback(ut("@"+r.prefix+t.str));e=e.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var Sa=Ma,Na=function(t,n,e){this.parentFragment=t.parentFragment,this.ref=n,this.callback=e,n.ref.fragment.registerIndexRef(this),this.rebind()};Na.prototype={rebind:function(){var t,n=this.ref.ref;void 0!==(t="k"===n.ref.t?"k"+n.fragment.key:"i"+n.fragment.index)&&this.callback(ut("@"+t))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var Ca=Na,Ra=ja;function ja(t,n){var e,r,i,o,a,u={},s=!1;for(n||(u.refs=e={});t;){if((a=t.owner)&&(r=a.indexRefs)){if(n&&(i=a.getIndexRef(n)))return u.ref={fragment:t,ref:i},u;if(!n)for(o in r)e[(i=r[o]).n]||(s=!0,e[i.n]={fragment:t,ref:i})}t=!t.parent&&t.owner&&t.owner.component&&t.owner.component.parentFragment&&!t.owner.component.instance.isolated?(u.componentBoundary=!0,t.owner.component.parentFragment):t.parent}return s?u:void 0}ja.resolve=function(t){var n,e,r={};for(n in t.refs)r[(e=t.refs[n]).ref.n]="k"===e.ref.t?e.fragment.key:e.fragment.index;return r};var Oa=function(t,n,e){var r;if("@"===n.charAt(0))return new Sa(t,n,e);if(r=Ra(t.parentFragment,n))return new Ca(t,r,e);return new ka(t,n,e)};var Ta=function(t,n){var e,r;if(Pa[t])return Pa[t];r=[];for(;n--;)r[n]="_"+n;return e=new Function(r.join(","),"return("+t+")"),Pa[t]=e},Pa={};var Fa,Da=Function.prototype.bind;(Fa=function(t,n,e,r){var i,o=this;i=t.root,this.root=i,this.parentFragment=n,this.callback=r,this.owner=t,this.str=e.s,this.keypaths=[],this.pending=e.r.length,this.refResolvers=e.r.map(function(t,n){return Oa(o,t,function(t){o.resolve(n,t)})}),this.ready=!0,this.bubble()}).prototype={bubble:function(){var t,i;this.ready&&(this.uniqueString=(t=this.str,i=this.keypaths,t.replace(/_([0-9]+)/g,function(t,n){var e,r;return+n>=i.length?"_"+n:void 0===(e=i[n])?"undefined":e.isSpecial?"number"==typeof(r=e.value)?r:'"'+r+'"':e.str})),this.keypath=ut("${"+this.uniqueString.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}"),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var t;t=this.refResolvers.pop();)t.unbind()},resolve:function(t,n){this.keypaths[t]=n,this.bubble()},createEvaluator:function(){var n,t,e,r,i=this;e=this.keypath,this.root.viewmodel.computations[e.str]?this.root.viewmodel.mark(e):(r=Ta(this.str,this.refResolvers.length),n=this.keypaths.map(function(n){var t;return"undefined"===n?function(){}:n.isSpecial?(t=n.value,function(){return t}):function(){var t=i.root.viewmodel.get(n,{noUnwrap:!0,fullRootGet:!0});return"function"==typeof t&&(t=function(t,n){var e,r,i;if(t.__ractive_nowrap)return t;{if(r="__ractive_"+n._guid,e=t[r])return e;if(/this/.test(t.toString())){for(i in k(t,r,{value:Da.call(t,n),configurable:!0}),t)t.hasOwnProperty(i)&&(t[r][i]=t[i]);return n._boundFunctions.push({fn:t,prop:r}),t[r]}}return k(t,"__ractive_nowrap",{value:t}),t.__ractive_nowrap}(t,i.root)),t}}),t={deps:this.keypaths.filter(za),getter:function(){var t=n.map(La);return r.apply(null,t)}},this.root.viewmodel.compute(e,t))},rebind:function(n,e){this.refResolvers.forEach(function(t){return t.rebind(n,e)})}};var qa=Fa;function La(t){return t.call()}function za(t){return void 0!==t&&"@"!==t[0]}var Ia=function(t,n,e){var r=this;this.resolver=n,this.root=n.root,this.parentFragment=e,this.viewmodel=n.root.viewmodel,"string"==typeof t?this.value=t:t.t===Ue?this.refResolver=Oa(this,t.n,function(t){r.resolve(t)}):new qa(n,e,t,function(t){r.resolve(t)})};Ia.prototype={resolve:function(t){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=t,this.value=this.viewmodel.get(t),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(t,n){this.refResolver&&this.refResolver.rebind(t,n)},setValue:function(t){this.value=t,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var Ua=Ia,Ba=function(t,n,e){var r,i,o,a,u=this;this.parentFragment=a=t.parentFragment,this.root=r=t.root,this.mustache=t,this.ref=i=n.r,this.callback=e,this.unresolved=[],(o=Pt(r,i,a))?this.base=o:this.baseResolver=new ka(this,i,function(t){u.base=t,u.baseResolver=null,u.bubble()}),this.members=n.m.map(function(t){return new Ua(t,u,a)}),this.ready=!0,this.bubble()};function Va(t){return t.value}function Wa(t){return null!=t}function Ha(t){t.forceResolution()}Ba.prototype={getKeypath:function(){var t=this.members.map(Va);return!t.every(Wa)||this.baseResolver?null:this.base.join(t.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(zt)},rebind:function(n,e){var r;if(this.base){var t=this.base.replace(n,e);t&&t!==this.base&&(this.base=t,r=!0)}this.members.forEach(function(t){t.rebind(n,e)&&(r=!0)}),r&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=ut(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(Ha),this.bubble()}};var $a=Ba;var Za=function(n,e){this.fragments&&this.fragments.forEach(function(t){return t.rebind(n,e)});this.resolver&&this.resolver.rebind(n,e)};var Ya={getValue:xa,init:function(r,t){var n,e,i;e=t.parentFragment,i=t.template,r.root=e.root,r.parentFragment=e,r.pElement=e.pElement,r.template=t.template,r.index=t.index||0,r.isStatic=t.template.s,r.type=t.template.t,r.registered=!1,(n=i.r)&&(r.resolver=Oa(r,n,function(t){r.resolve(t)}));t.template.x&&(r.resolver=new qa(r,e,t.template.x,o));t.template.rx&&(r.resolver=new $a(r,t.template.rx,o));r.template.n!==Ye||r.hasOwnProperty("value")||r.setValue(void 0);function o(n){var e=r.keypath;n!=e&&(r.resolve(n),void 0!==e&&r.fragments&&r.fragments.forEach(function(t){t.rebind(e,n)}))}},resolve:function(t){var n,e,r;if(t&&t.isSpecial)return this.keypath=t,void this.setValue(t.value);this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,n=!0);null!=(this.keypath=t)&&(e=this.root.viewmodel.get(t),this.root.viewmodel.register(t,this),this.registered=!0);this.setValue(e),n&&(r=this.twowayBinding)&&r.rebound()},rebind:Za},Ga=function(t){this.type=je,Ya.init(this,t)};Ga.prototype={update:function(){this.node.data=null==this.value?"":this.value},resolve:Ya.resolve,rebind:Ya.rebind,detach:ma,unbind:wa,render:function(){return this.node||(this.node=document.createTextNode(x(this.value))),this.node},unrender:function(t){t&&w(this.node)},getValue:Ya.getValue,setValue:function(t){var n;this.keypath&&(n=this.root.viewmodel.wrapped[this.keypath.str])&&(t=n.get()),O(t,this.value)||(this.value=t,this.parentFragment.bubble(),this.node&&Kt.addView(this))},firstNode:function(){return this.node},toString:function(t){var n=""+x(this.value);return t?Ei(n):n}};var Ka=Ga;var Qa=function(t){var a,n,e,u,r,s=this;if(this.shuffling||this.unbound||this.currentSubtype!==Ge)return;if(this.shuffling=!0,Kt.scheduleTask(function(){return s.shuffling=!1}),this.parentFragment,u=[],t.forEach(function(t,n){var e,r,i,o;if(t!==n){if(e=s.fragments[n],void 0===a&&(a=n),-1===t)return s.fragmentsToUnrender.push(e),void e.unbind();r=s.keypath.join(n),i=s.keypath.join(t),e.index=t,(o=e.registeredIndexRefs)&&o.forEach(Ja),e.rebind(r,i),u[t]=e}else u[t]=s.fragments[n]}),e=this.root.viewmodel.get(this.keypath).length,void 0===a){if(this.length===e)return;a=this.length}this.length=this.fragments.length=e,this.rendered&&Kt.addView(this);for({template:this.template.f,root:this.root,owner:this},n=a;n<e;n+=1)(r=u[n])||this.fragmentsToCreate.push(n),this.fragments[n]=r};function Ja(t){t.rebind("","")}var Xa=function(){var n=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(t){return n.docFrag.appendChild(t.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag};var tu=function(t){var n,e,r=this;if(this.updating)return;this.updating=!0,this.keypath&&(n=this.root.viewmodel.wrapped[this.keypath.str])&&(t=n.get());this.fragmentsToCreate.length?(e={template:this.template.f||[],root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(t){var n;e.context=r.keypath.join(t),e.index=t,n=new Ff(e),r.fragmentsToRender.push(r.fragments[t]=n)}),this.fragmentsToCreate.length=0):function(t,n){var e={template:t.template.f||[],root:t.root,pElement:t.parentFragment.pElement,owner:t};if(t.hasContext=!0,t.subtype)switch(t.subtype){case Ze:return t.hasContext=!1,iu(t,n,!1,e);case Ye:return t.hasContext=!1,iu(t,n,!0,e);case Ke:return ru(t,e);case Qe:return r=t,i=e,n?ru(r,i):ou(r);case Ge:if(P(n))return nu(t,t.subtype,!0),eu(t,n,e)}var r,i;if(t.ordered=!!j(n),t.ordered)return nu(t,Ge,!1),function(t,n,e){var r,i,o;if((i=n.length)===t.length)return!1;if(i<t.length)t.fragmentsToUnrender=t.fragments.splice(i,t.length-i),t.fragmentsToUnrender.forEach(zt);else if(i>t.length)for(r=t.length;r<i;r+=1)e.context=t.keypath.join(r),e.index=r,o=new Ff(e),t.fragmentsToRender.push(t.fragments[r]=o);return t.length=i,!0}(t,n,e);if(P(n)||"function"==typeof n)return t.template.i?(nu(t,Ge,!0),eu(t,n,e)):(nu(t,Ke,!1),ru(t,e));return nu(t,Ze,!1),t.hasContext=!1,iu(t,n,!1,e)}(this,t)&&(this.bubble(),this.rendered&&Kt.addView(this));this.value=t,this.updating=!1};function nu(t,n,e){if(n===Ge&&t.indexRefs&&t.indexRefs[0]){var r=t.indexRefs[0];(e&&"i"===r.t||!e&&"k"===r.t)&&(e||(t.length=0,t.fragmentsToUnrender=t.fragments.slice(0),t.fragmentsToUnrender.forEach(function(t){return t.unbind()}))),r.t=e?"k":"i"}t.currentSubtype=n}function eu(t,n,e){var r,i,o,a,u,s;for(o=t.hasKey||(t.hasKey={}),i=t.fragments.length;i--;)(a=t.fragments[i]).key in n||(u=!0,a.unbind(),t.fragmentsToUnrender.push(a),t.fragments.splice(i,1),o[a.key]=!1);for(i=t.fragments.length;i--;)(a=t.fragments[i]).index!==i&&(a.index=i,(s=a.registeredIndexRefs)&&s.forEach(uu));for(r in i=t.fragments.length,n)o[r]||(u=!0,e.context=t.keypath.join(r),e.key=r,e.index=i++,a=new Ff(e),t.fragmentsToRender.push(a),t.fragments.push(a),o[r]=!0);return t.length=t.fragments.length,u}function ru(t,n){var e;if(!t.length)return n.context=t.keypath,n.index=0,e=new Ff(n),t.fragmentsToRender.push(t.fragments[0]=e),t.length=1,!0}function iu(t,n,e,r){var i,o,a,u;if(i=j(n)&&0===n.length,o=!1,!j(n)&&P(n))for(u in o=!0,n){o=!1;break}return(e?i||o||!n:n&&!i&&!o)?t.length?1<t.length?(t.fragmentsToUnrender=t.fragments.splice(1),t.fragmentsToUnrender.forEach(zt),!0):void 0:(r.index=0,a=new Ff(r),t.fragmentsToRender.push(t.fragments[0]=a),t.length=1,!0):ou(t)}function ou(t){if(t.length)return t.fragmentsToUnrender=t.fragments.splice(0,t.fragments.length).filter(au),t.fragmentsToUnrender.forEach(zt),t.length=t.fragmentsToRender.length=0,!0}function au(t){return t.rendered}function uu(t){t.rebind("","")}var su=function(t){var n,e,r;for(n="",e=0,r=this.length,e=0;e<r;e+=1)n+=this.fragments[e].toString(t);return n};var cu=function(){var n=this;this.fragments.forEach(zt),this.fragmentsToRender.forEach(function(t){return Et(n.fragments,t)}),this.fragmentsToRender=[],wa.call(this),this.length=0,this.unbound=!0};var lu=function(t){this.fragments.forEach(t?fu:hu),this.renderedFragments=[],this.rendered=!1};function fu(t){t.unrender(!0)}function hu(t){t.unrender(!1)}var pu=function(){var t,n,e,r,i,o,a;e=this.renderedFragments;for(;t=this.fragmentsToUnrender.pop();)t.unrender(!0),e.splice(e.indexOf(t),1);for(;t=this.fragmentsToRender.shift();)t.render();this.rendered&&(i=this.parentFragment.getNode());for(a=this.fragments.length,o=0;o<a;o+=1)t=this.fragments[o],(n=e.indexOf(t,o))!==o?(this.docFrag.appendChild(t.detach()),-1!==n&&e.splice(n,1),e.splice(o,0,t)):this.docFrag.childNodes.length&&(r=t.firstNode(),i.insertBefore(this.docFrag,r));this.rendered&&this.docFrag.childNodes.length&&(r=this.parentFragment.findNextNode(this),i.insertBefore(this.docFrag,r));this.renderedFragments=this.fragments.slice()};var du=function(t){this.type=Te,this.subtype=this.currentSubtype=t.template.n,this.inverted=this.subtype===Ye,this.pElement=t.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],t.template.i&&(this.indexRefs=t.template.i.split(",").map(function(t,n){return{n:t,t:0===n?"k":"i"}})),this.renderedFragments=[],this.length=0,Ya.init(this,t)};du.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){var n;return 1!==this.fragments.length?(n=document.createDocumentFragment(),this.fragments.forEach(function(t){n.appendChild(t.detach())}),n):this.fragments[0].detach()},find:function(t){var n,e,r;for(e=this.fragments.length,n=0;n<e;n+=1)if(r=this.fragments[n].find(t))return r;return null},findAll:function(t,n){var e,r;for(r=this.fragments.length,e=0;e<r;e+=1)this.fragments[e].findAll(t,n)},findAllComponents:function(t,n){var e,r;for(r=this.fragments.length,e=0;e<r;e+=1)this.fragments[e].findAllComponents(t,n)},findComponent:function(t){var n,e,r;for(e=this.fragments.length,n=0;n<e;n+=1)if(r=this.fragments[n].findComponent(t))return r;return null},findNextNode:function(t){if(this.fragments[t.index+1])return this.fragments[t.index+1].firstNode();return this.parentFragment.findNextNode(this)},firstNode:function(){var t,n,e;if(t=this.fragments.length)for(n=0;n<t;n+=1)if(e=this.fragments[n].firstNode())return e;return this.parentFragment.findNextNode(this)},getIndexRef:function(t){if(this.indexRefs)for(var n=this.indexRefs.length;n--;){var e=this.indexRefs[n];if(e.n===t)return e}},getValue:Ya.getValue,shuffle:Qa,rebind:function(t,n){Ya.rebind.call(this,t,n)},render:Xa,resolve:Ya.resolve,setValue:tu,toString:su,unbind:cu,unrender:lu,update:pu};var vu=du,gu=function(){var t,n;if(this.docFrag){for(t=this.nodes.length,n=0;n<t;n+=1)this.docFrag.appendChild(this.nodes[n]);return this.docFrag}};var mu=function(t){var n,e,r,i;for(e=this.nodes.length,n=0;n<e;n+=1)if(1===(r=this.nodes[n]).nodeType){if(s(r,t))return r;if(i=r.querySelector(t))return i}return null};var yu=function(t,n){var e,r,i,o,a,u;for(r=this.nodes.length,e=0;e<r;e+=1)if(1===(i=this.nodes[e]).nodeType&&(s(i,t)&&n.push(i),o=i.querySelectorAll(t)))for(a=o.length,u=0;u<a;u+=1)n.push(o[u])};var bu=function(){if(this.rendered&&this.nodes[0])return this.nodes[0];return this.parentFragment.findNextNode(this)};var wu,xu,_u={};try{f("table").innerHTML="foo"}catch(t){wu=!0,xu={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var ku=function(t,n,e){var r,i,o,a,u,s=[];if(null!=t&&""!==t){for(wu&&(i=xu[n.tagName])?((r=Mu("DIV")).innerHTML=i[0]+t+i[1],"SELECT"===(r=r.querySelector(".x")).tagName&&(o=r.options[r.selectedIndex])):n.namespaceURI===l.svg?((r=Mu("DIV")).innerHTML='<svg class="x">'+t+"</svg>",r=r.querySelector(".x")):((r=Mu(n.tagName)).innerHTML=t,"SELECT"===r.tagName&&(o=r.options[r.selectedIndex]));a=r.firstChild;)s.push(a),e.appendChild(a);if("SELECT"===n.tagName)for(u=s.length;u--;)s[u]!==o&&(s[u].selected=!1)}return s};function Mu(t){return _u[t]||(_u[t]=f(t))}var Eu=function(t){var n,e,r;if(!t||"select"!==t.name||!t.binding)return;n=At(t.node.options).filter(Au),t.getAttribute("multiple")?r=n.map(function(t){return t.value}):(e=n[0])&&(r=e.value);void 0!==r&&t.binding.setValue(r);t.bubble()};function Au(t){return t.selected}var Su=function(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=ku(this.value,this.parentFragment.getNode(),this.docFrag),Eu(this.pElement),this.rendered=!0,this.docFrag};var Nu=function(t){var n;(n=this.root.viewmodel.wrapped[this.keypath.str])&&(t=n.get());t!==this.value&&(this.value=t,this.parentFragment.bubble(),this.rendered&&Kt.addView(this))};var Cu=function(){return null!=this.value?Mi(""+this.value):""};var Ru=function(t){this.rendered&&t&&(this.nodes.forEach(w),this.rendered=!1)};var ju=function(){var t,n;if(!this.rendered)return;for(;this.nodes&&this.nodes.length;)(t=this.nodes.pop()).parentNode.removeChild(t);n=this.parentFragment.getNode(),this.nodes=ku(this.value,n,this.docFrag),n.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),Eu(this.pElement)};var Ou=function(t){this.type=Oe,Ya.init(this,t)};Ou.prototype={detach:gu,find:mu,findAll:yu,firstNode:bu,getValue:Ya.getValue,rebind:Ya.rebind,render:Su,resolve:Ya.resolve,setValue:Nu,toString:Cu,unbind:wa,unrender:Ru,update:ju};var Tu=Ou,Pu=function(){var t,n=this.node;if(n)return(t=n.parentNode)&&t.removeChild(n),n};var Fu=function(){return null};var Du=function(){return this.node};var qu=function(t){return this.attributes&&this.attributes[t]?this.attributes[t].value:void 0};var Lu,zu,Iu,Uu=/^true|on|yes|1$/i,Bu=/^[0-9]+$/,Vu=function(){var t=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();O(t,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=t,"value"===this.name&&this.node&&(this.node._ractive.value=t),this.rendered&&Kt.addView(this))};Lu="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),zu="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),Iu=function(t){for(var n={},e=t.length;e--;)n[t[e].toLowerCase()]=t[e];return n}(Lu.concat(zu));var Wu=function(t){var n=t.toLowerCase();return Iu[n]||n},Hu=function(t){var n=t.fragment.items;if(1!==n.length)return;if(n[0].type===je)return n[0]};var $u=function(t){var n;(this.node=t).namespaceURI&&t.namespaceURI!==l.html||(n=Zu[this.name]||this.name,void 0!==t[n]&&(this.propertyName=n),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===n&&(t._ractive.value=this.value));this.rendered=!0,this.update()},Zu={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor",class:"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName",for:"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};var Yu=function(){var t,n,e,r=this.value;if(!this.locked)for(this.node._ractive.value=r,t=this.node.options,e=t.length;e--;)if(n=t[e],(n._ractive?n._ractive.value:n.value)==r){n.selected=!0;break}};var Gu=function(){var t,n,e,r,i=this.value;R(i)||(i=[i]);t=this.node.options,n=t.length;for(;n--;)e=t[n],r=e._ractive?e._ractive.value:e.value,e.selected=xt(i,r)};var Ku=function(){var t=this.node,n=this.value;t.checked=n==t._ractive.value};var Qu=function(){var t,n,e,r,i=this.node;if(t=i.checked,i.value=this.element.getAttribute("value"),i.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),t&&!i.checked&&this.element.binding&&(e=this.element.binding.siblings,r=e.length)){for(;r--;){if(!(n=e[r]).element.node)return;if(n.element.node.checked)return Kt.addRactive(n.root),n.handleChange()}this.root.viewmodel.set(n.keypath,void 0)}};var Ju=function(){var t,n,e=this.element,r=this.node,i=this.value,o=e.binding;if(t=e.getAttribute("value"),R(i)){for(n=i.length;n--;)if(t==i[n])return void(o.isChecked=r.checked=!0);o.isChecked=r.checked=!1}else o.isChecked=r.checked=i==t};var Xu=function(){this.node.className=x(this.value)};var ts=function(){var t=this.node,n=this.value;(this.root.nodes[n]=t).id=n};var ns=function(){var t,n;t=this.node,void 0===(n=this.value)&&(n="");t.style.setAttribute("cssText",n)};var es=function(){var t=this.value;void 0===t&&(t="");this.locked||(this.node.innerHTML=t)};var rs=function(){var t=this.node,n=this.value;t._ractive.value=n,this.locked||(t.value=null==n?"":n)};var is=function(){this.locked||(this.node[this.propertyName]=this.value)};var os=function(){var t=this.node,n=this.namespace,e=this.name,r=this.value,i=this.fragment;n?t.setAttributeNS(n,e,(i||r).toString()):this.isBoolean?r?t.setAttribute(e,""):t.removeAttribute(e):null==r?t.removeAttribute(e):t.setAttribute(e,(i||r).toString())};var as=function(t){this.init(t)};as.prototype={bubble:Vu,init:function(t){if(this.type=13,this.element=t.element,this.root=t.root,function(t,n){var e,r;if(-1===(e=n.indexOf(":"))||"xmlns"===(r=n.substr(0,e)))t.name=t.element.namespace!==l.html?Wu(n):n;else if(n=n.substring(e+1),t.name=Wu(n),t.namespace=l[r.toLowerCase()],t.namespacePrefix=r,!t.namespace)throw'Unknown namespace ("'+r+'")'}(this,t.name),this.isBoolean=pi.test(this.name),!t.value||"string"==typeof t.value)return void(this.value=!!this.isBoolean||(t.value||""));this.parentFragment=this.element.parentFragment,this.fragment=new Ff({template:t.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=Hu(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,this.ready=!0},rebind:function(t,n){this.fragment&&this.fragment.rebind(t,n)},render:$u,toString:function(){var t=this.name,n=this.namespacePrefix,e=this.value,r=this.interpolator,i=this.fragment;if("value"===t&&("select"===this.element.name||"textarea"===this.element.name))return;if("value"===t&&void 0!==this.element.getAttribute("contenteditable"))return;if("name"===t&&"input"===this.element.name&&r)return"name={{"+(r.keypath.str||r.ref)+"}}";if(this.isBoolean)return e?t:"";if(i){if(1===i.items.length&&null==i.items[0].value)return"";e=i.toString()}n&&(t=n+":"+t);return e?t+'="'+(o=e,o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"))+'"':t;var o},unbind:function(){this.fragment&&this.fragment.unbind();"id"===this.name&&delete this.root.nodes[this.value]},update:function(){var t,n,e=this.name,r=this.element,i=this.node;"id"===e?n=ts:"value"===e?"select"===r.name&&"value"===e?n=r.getAttribute("multiple")?Gu:Yu:"textarea"===r.name?n=rs:null!=r.getAttribute("contenteditable")?n=es:"input"===r.name&&(t=r.getAttribute("type"),n="file"===t?z:"radio"===t&&r.binding&&"name"===r.binding.name?Qu:rs):this.isTwoway&&"name"===e?"radio"===i.type?n=Ku:"checkbox"===i.type&&(n=Ju):"style"===e&&i.style.setAttribute?n=ns:"class"!==e||i.namespaceURI&&i.namespaceURI!==l.html?this.useProperty&&(n=is):n=Xu;n||(n=os);this.update=n,this.update()}};var us,ss=as;"undefined"!=typeof document&&(us=f("div"));var cs=function(t,n){this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.attributes=[],this.fragment=new Ff({root:t.root,owner:this,template:[n]})};cs.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(t,n){this.fragment.rebind(t,n)},render:function(t){this.node=t,this.isSvg=t.namespaceURI===l.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var t,n,e,r,i,o=this;t=this.fragment.toString(),e=t,r=this.isSvg,i=r?"svg":"div",us.innerHTML="<"+i+" "+e+"></"+i+">",n=At(us.childNodes[0].attributes),this.attributes.filter(function(t){return function(t,n){var e=t.length;for(;e--;)if(t[e].name===n.name)return!1;return!0}(n,t)}).forEach(function(t){o.node.removeAttribute(t.name)}),n.forEach(function(t){o.node.setAttribute(t.name,t.value)}),this.attributes=n},toString:function(){return this.fragment.toString()}};var ls=cs;var fs=function(t){var n,e,r,i;if(this.element=t,this.root=t.root,this.attribute=t.attributes[this.name||"value"],(n=this.attribute.interpolator).twowayBinding=this,e=n.keypath){if("}"===e.str.slice(-1))return $("Two-way binding does not work with expressions (`%s` on <%s>)",n.resolver.uniqueString,t.name,{ractive:this.root}),!1;if(e.isSpecial)return $("Two-way binding does not work with %s",n.resolver.ref,{ractive:this.root}),!1}else{H("The %s being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",n.template.r?"'"+n.template.r+"' reference":"expression",{ractive:this.root}),n.resolver.forceResolution(),e=n.keypath}this.attribute.isTwoway=!0,this.keypath=e,void 0===(r=this.root.viewmodel.get(e))&&this.getInitialValue&&void 0!==(r=this.getInitialValue())&&this.root.viewmodel.set(e,r),(i=function(t){for(;t=t.parent;)if("form"===t.name)return t}(t))&&(this.resetValue=r,i.formBindings.push(this))};fs.prototype={handleChange:function(){var t=this;Kt.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),Kt.scheduleTask(function(){return t.attribute.locked=!1}),Kt.end()},rebound:function(){var t,n;(t=this.keypath)!==(n=this.attribute.interpolator.keypath)&&(Et(this.root._twowayBindings[t.str],this),this.keypath=n,(this.root._twowayBindings[n.str]||(this.root._twowayBindings[n.str]=[])).push(this))},unbind:function(){}},fs.extend=function(t){var n;return A((n=function(t){fs.call(this,t),this.init&&this.init()}).prototype=_(this.prototype),t),n.extend=fs.extend,n};var hs=fs;var ps=function(){this._ractive.binding.handleChange()};var ds=hs.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var t,n=this.element.node,e=!1;this.rendered=!0,t=this.root.lazy,!0===this.element.lazy?t=!0:!1===this.element.lazy?t=!1:T(this.element.lazy)?(t=!1,e=+this.element.lazy):T(t||"")&&(e=+t,t=!1,this.element.lazy=e),this.handler=e?gs:ps,n.addEventListener("change",ps,!1),t||(n.addEventListener("input",this.handler,!1),n.attachEvent&&n.addEventListener("keyup",this.handler,!1)),n.addEventListener("blur",vs,!1)},unrender:function(){var t=this.element.node;this.rendered=!1,t.removeEventListener("change",ps,!1),t.removeEventListener("input",this.handler,!1),t.removeEventListener("keyup",this.handler,!1),t.removeEventListener("blur",vs,!1)}});function vs(){var t;ps.call(this),t=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=null==t?"":t}function gs(){var t=this._ractive.binding,n=this;t._timeout&&clearTimeout(t._timeout),t._timeout=setTimeout(function(){t.rendered&&ps.call(n),t._timeout=void 0},t.element.lazy)}var ms=ds.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},getValue:function(){return this.element.node.innerHTML}}),ys=function(t,n,e){var r=t+n+e;return bs[r]||(bs[r]=[])},bs={};var ws=hs.extend({name:"checked",init:function(){this.siblings=ys(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var t=this.element.node;t.addEventListener("change",ps,!1),t.attachEvent&&t.addEventListener("click",ps,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",ps,!1),t.removeEventListener("click",ps,!1)},handleChange:function(){Kt.start(this.root),this.siblings.forEach(function(t){t.root.viewmodel.set(t.keypath,t.getValue())}),Kt.end()},getValue:function(){return this.element.node.checked},unbind:function(){Et(this.siblings,this)}}),xs=hs.extend({name:"name",init:function(){this.siblings=ys(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){if(this.element.getAttribute("checked"))return this.element.getAttribute("value")},render:function(){var t=this.element.node;t.name="{{"+this.keypath.str+"}}",t.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),t.addEventListener("change",ps,!1),t.attachEvent&&t.addEventListener("click",ps,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",ps,!1),t.removeEventListener("click",ps,!1)},getValue:function(){var t=this.element.node;return t._ractive?t._ractive.value:t.value},handleChange:function(){this.element.node.checked&&hs.prototype.handleChange.call(this)},rebound:function(t,n){var e;hs.prototype.rebound.call(this,t,n),(e=this.element.node)&&(e.name="{{"+this.keypath.str+"}}")},unbind:function(){Et(this.siblings,this)}});function _s(t){return t.isChecked}function ks(t){return t.element.getAttribute("value")}var Ms=hs.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var t,n;this.checkboxName=!0,this.siblings=ys(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(t=this.root.viewmodel.get(this.keypath),n=this.element.getAttribute("value"),t.push(n))},unbind:function(){Et(this.siblings,this)},render:function(){var t,n,e=this.element.node;t=this.root.viewmodel.get(this.keypath),n=this.element.getAttribute("value"),R(t)?this.isChecked=xt(t,n):this.isChecked=t==n,e.name="{{"+this.keypath.str+"}}",e.checked=this.isChecked,e.addEventListener("change",ps,!1),e.attachEvent&&e.addEventListener("click",ps,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",ps,!1),t.removeEventListener("click",ps,!1)},changed:function(){var t=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===t},handleChange:function(){this.isChecked=this.element.node.checked,hs.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(_s).map(ks)}}),Es=hs.extend({name:"checked",render:function(){var t=this.element.node;t.addEventListener("change",ps,!1),t.attachEvent&&t.addEventListener("click",ps,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",ps,!1),t.removeEventListener("click",ps,!1)},getValue:function(){return this.element.node.checked}}),As=hs.extend({getInitialValue:function(){var t,n,e,r,i=this.element.options;if(void 0===this.element.getAttribute("value")&&(n=t=i.length,t)){for(;n--;)if(i[n].getAttribute("selected")){e=i[n].getAttribute("value"),r=!0;break}if(!r)for(;++n<t;)if(!i[n].getAttribute("disabled")){e=i[n].getAttribute("value");break}return void 0!==e&&(this.element.attributes.value.value=e),e}},render:function(){this.element.node.addEventListener("change",ps,!1)},unrender:function(){this.element.node.removeEventListener("change",ps,!1)},setValue:function(t){this.root.viewmodel.set(this.keypath,t)},getValue:function(){var t,n,e,r;for(e=(t=this.element.node.options).length,n=0;n<e;n+=1)if(r=t[n],t[n].selected)return r._ractive?r._ractive.value:r.value},forceUpdate:function(){var t=this,n=this.getValue();void 0!==n&&(this.attribute.locked=!0,Kt.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,n))}}),Ss=As.extend({getInitialValue:function(){return this.element.options.filter(function(t){return t.getAttribute("selected")}).map(function(t){return t.getAttribute("value")})},render:function(){this.element.node.addEventListener("change",ps,!1),void 0===this.root.viewmodel.get(this.keypath)&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",ps,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var t,n,e,r,i,o;for(t=[],r=(n=this.element.node.options).length,e=0;e<r;e+=1)(i=n[e]).selected&&(o=i._ractive?i._ractive.value:i.value,t.push(o));return t},handleChange:function(){var t,n;return t=this.attribute.value,n=this.getValue(),void 0!==t&&_t(n,t)||As.prototype.handleChange.call(this),this},forceUpdate:function(){var t=this,n=this.getValue();void 0!==n&&(this.attribute.locked=!0,Kt.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,n))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),Ns=hs.extend({render:function(){this.element.node.addEventListener("change",ps,!1)},unrender:function(){this.element.node.removeEventListener("change",ps,!1)},getValue:function(){return this.element.node.files}}),Cs=ds.extend({getInitialValue:function(){},getValue:function(){var t=parseFloat(this.element.node.value);return isNaN(t)?void 0:t}}),Rs=function(t){var n,e,r,i,o,a=t.attributes;t.binding&&(t.binding.teardown(),t.binding=null);(t.getAttribute("contenteditable")||a.contenteditable&&js(a.contenteditable))&&js(a.value)?e=ms:"input"===t.name?"radio"===(n=t.getAttribute("type"))||"checkbox"===n?(r=js(a.name),i=js(a.checked),r&&i&&H("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:t.root}),r?e="radio"===n?xs:Ms:i&&(e="radio"===n?ws:Es)):"file"===n&&js(a.value)?e=Ns:js(a.value)&&(e="number"===n||"range"===n?Cs:ds):"select"===t.name&&js(a.value)?e=t.getAttribute("multiple")?Ss:As:"textarea"===t.name&&js(a.value)&&(e=ds);if(e&&(o=new e(t))&&o.keypath)return o};function js(t){return t&&t.isBindable}var Os=function(t,n,e){var r,i,o=this;this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,-1!==(this.name=n).indexOf("*")&&(B('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',t.name,n),this.invalid=!0);e.m?(i=e.a.r,this.method=e.m,this.keypaths=[],this.fn=Ta(e.a.s,i.length),this.parentFragment=t.parentFragment,this.root,this.refResolvers=[],i.forEach(function(t,n){var e=void 0;(e=Ts.exec(t))?o.keypaths[n]={eventObject:!0,refinements:e[1]?e[1].split("."):[]}:o.refResolvers.push(Oa(o,t,function(t){return o.resolve(n,t)}))}),this.fire=Ps):("string"!=typeof(r=e.n||e)&&(r=new Ff({template:r,root:this.root,owner:this})),this.action=r,e.d?(this.dynamicParams=new Ff({template:e.d,root:this.root,owner:this.element}),this.fire=Ds):e.a&&(this.params=e.a,this.fire=Fs))},Ts=/^event(?:\.(.+))?/;function Ps(i){var o,t,n;if("function"!=typeof(o=this.root)[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');t=this.keypaths.map(function(t){var n,e,r;if(void 0!==t){if(t.eventObject){if(n=i,e=t.refinements.length)for(r=0;r<e;r+=1)n=n[t.refinements[r]]}else n=o.viewmodel.get(t);return n}}),An.enqueue(o,i),n=this.fn.apply(null,t),o[this.method].apply(o,n),An.dequeue(o)}function Fs(t){Sn(this.root,this.getAction(),{event:t,args:this.params})}function Ds(t){var n=this.dynamicParams.getArgsList();"string"==typeof n&&(n=n.substr(1,n.length-2)),Sn(this.root,this.getAction(),{event:t,args:n})}var qs=function(t){var n,e,r,i={};n=this._ractive,e=n.events[t.type],(r=Ra(e.element.parentFragment))&&(i=Ra.resolve(r));e.fire({node:this,original:t,index:i,keypath:n.keypath.str,context:n.root.viewmodel.get(n.keypath)})};var Ls=function(){var t,n=this.name;if(this.invalid)return;if(t=G("events",this.root,n))this.custom=t(this.node,function(e){zs[e]||(zs[e]=function(t){var n=t.node._ractive;t.index=n.index,t.keypath=n.keypath.str,t.context=n.root.viewmodel.get(n.keypath),n.events[e].fire(t)});return zs[e]}(n));else{if(!("on"+n in this.node||window&&"on"+n in window||e))return void(Is[n]||$(Y(n,"event"),{node:this.node}));this.node.addEventListener(n,qs,!1)}this.hasListener=!0},zs={},Is={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0};var Us=function(t,n,e){this.init(t,n,e)};Us.prototype={bubble:function(){var t=this.getAction();t&&!this.hasListener?this.listen():!t&&this.hasListener&&this.unrender()},fire:function(t){Sn(this.root,this.getAction(),{event:t})},getAction:function(){return this.action.toString().trim()},init:Os,listen:Ls,rebind:function(n,e){if(this.method)return this.element.parentFragment,void this.refResolvers.forEach(t);"string"!=typeof this.action&&t(this.action);this.dynamicParams&&t(this.dynamicParams);function t(t){t&&t.rebind(n,e)}},render:function(){this.node=this.element.node,((this.node._ractive.events[this.name]=this).method||this.getAction())&&this.listen()},resolve:function(t,n){this.keypaths[t]=n},unbind:function(){if(this.method)return void this.refResolvers.forEach(zt);"string"!=typeof this.action&&this.action.unbind();this.dynamicParams&&this.dynamicParams.unbind()},unrender:function(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,qs,!1);this.hasListener=!1}};var Bs=Us,Vs=function(t,n){var e,r,i,o=this;this.element=t,this.root=e=t.root,"string"!=typeof(r=n.n||n)&&(r=(i=new Ff({template:r,root:e,owner:t})).toString(),i.unbind(),""===r)||(n.a?this.params=n.a:n.d&&(this.fragment=new Ff({template:n.d,root:e,owner:t}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,o.params=this.getArgsList(),o.ready&&o.update()}),this.fn=G("decorators",e,r),this.fn||B(Y(r,"decorator")))};Vs.prototype={init:function(){var t,n,e;if(t=this.element.node,!(n=this.params?(e=[t].concat(this.params),this.fn.apply(this.root,e)):this.fn.call(this.root,t))||!n.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=n,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(t,n){this.fragment&&this.fragment.rebind(t,n)},teardown:function(t){this.torndown=!0,this.ready&&this.actual.teardown(),!t&&this.fragment&&this.fragment.unbind()}};var Ws=Vs;function Hs(){var t=this;this.dirty||(this.dirty=!0,Kt.scheduleTask(function(){!function(t){var n,r,i,e,o;if(!(n=t.node))return;e=At(n.options),r=t.getAttribute("value"),i=t.getAttribute("multiple"),void 0!==r?(e.forEach(function(t){var n,e;n=t._ractive?t._ractive.value:t.value,(e=i?function(t,n){var e=t.length;for(;e--;)if(t[e]==n)return!0}(r,n):r==n)&&(o=!0),t.selected=e}),o||(e[0]&&(e[0].selected=!0),t.binding&&t.binding.forceUpdate())):t.binding&&t.binding.forceUpdate()}(t),t.dirty=!1})),this.parentFragment.bubble()}var $s=function(t){var n,e,r,i,o,a;this.type=Fe,n=this.parentFragment=t.parentFragment,e=this.template=t.template,this.parent=t.pElement||n.pElement,this.root=r=n.root,this.index=t.index,this.key=t.key,this.name=Wu(e.e),"option"===this.name&&(s=e,(u=this).select=function(t){if(t)do{if("select"===t.name)return t}while(t=t.parent)}(u.parent),u.select&&(u.select.options.push(u),s.a||(s.a={}),void 0!==s.a.value||s.a.hasOwnProperty("disabled")||(s.a.value=s.f),"selected"in s.a&&void 0!==u.select.getAttribute("value")&&delete s.a.selected));var u,s;"select"===this.name&&(this.options=[],this.bubble=Hs);"form"===this.name&&(this.formBindings=[]);f=e,p={},void 0!==(h=(d=f.a||{}).twoway)&&(p.twoway=0===h||Uu.test(h)),void 0!==(h=d.lazy)&&(0!==h&&Bu.test(h)?p.lazy=parseInt(h):p.lazy=0===h||Uu.test(h)),a=p,this.attributes=function(t,n){var e,r,i=[];for(e in n)"twoway"!==e&&"lazy"!==e&&n.hasOwnProperty(e)&&(r=new ss({element:t,name:e,value:n[e],root:t.root}),i[e]=r,"value"!==e&&i.push(r));return(r=i.value)&&i.push(r),i}(this,e.a),this.conditionalAttributes=(c=this,l=e.m,l?l.map(function(t){return new ls(c,t)}):[]),e.f&&(this.fragment=new Ff({template:e.f,root:r,owner:this,pElement:this,cssIds:null}));var c,l;var f,h,p,d;o=r.twoway,!1===a.twoway?o=!1:!0===a.twoway&&(o=!0);this.twoway=o,this.lazy=a.lazy,o&&(i=Rs(this,e.a))&&(this.binding=i,(this.root._twowayBindings[i.keypath.str]||(this.root._twowayBindings[i.keypath.str]=[])).push(i));e.v&&(this.eventHandlers=function(t,n){var e,r,i,o,a=[];for(r in n)if(n.hasOwnProperty(r))for(e=(i=r.split("-")).length;e--;)o=new Bs(t,i[e],n[r]),a.push(o);return a}(this,e.v));e.o&&(this.decorator=new Ws(this,e.o));this.intro=e.t0||e.t1,this.outro=e.t0||e.t2};var Zs=function(n,e){var t,r,i;this.attributes&&this.attributes.forEach(o);this.conditionalAttributes&&this.conditionalAttributes.forEach(o);this.eventHandlers&&this.eventHandlers.forEach(o);this.decorator&&o(this.decorator);this.fragment&&o(this.fragment);if(i=this.liveQueries)for(this.root,t=i.length;t--;)i[t]._makeDirty();this.node&&(r=this.node._ractive)&&at(r,"keypath",n,e);function o(t){t.rebind(n,e)}};function Ys(){var t=this._ractive.proxy;Kt.start(),t.formBindings.forEach(Gs),Kt.end()}function Gs(t){t.root.viewmodel.set(t.keypath,t.resetValue)}var Ks=function(t,n,e){var r,i,o;if(this.element=t,this.root=r=t.root,this.isIntro=e,"string"!=typeof(i=n.n||n)&&(o=new Ff({template:i,root:r,owner:t}),i=o.toString(),o.unbind(),""===i))return;this.name=i,n.a?this.params=n.a:n.d&&(o=new Ff({template:n.d,root:r,owner:t}),this.params=o.getArgsList(),o.unbind());this._fn=G("transitions",r,i),this._fn||$(Y(i,"transition"),{ractive:this.root})};var Qs,Js,Xs,tc=function(t){return t.replace(/-([a-zA-Z])/g,function(t,n){return n.toUpperCase()})},nc=r?(Qs={},Js=f("div").style,function(t){var n,e,r;if(t=tc(t),!Qs[t])if(void 0!==Js[t])Qs[t]=t;else for(r=t.charAt(0).toUpperCase()+t.substring(1),n=i.length;n--;)if(e=i[n],void 0!==Js[e+r]){Qs[t]=e+r;break}return Qs[t]}):null,ec=r?(Xs=window.getComputedStyle||null.getComputedStyle,function(t){var n,e,r,i,o;if(n=Xs(this.node),"string"==typeof t)return"0px"===(o=n[nc(t)])&&(o=0),o;if(!R(t))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(e={},r=t.length;r--;)i=t[r],"0px"===(o=n[nc(i)])&&(o=0),e[i]=o;return e}):null,rc=function(t){var n;this.duration=t.duration,this.step=t.step,this.complete=t.complete,"string"==typeof t.easing?(n=t.root.easing[t.easing])||($(Y(t.easing,"easing")),n=oc):n="function"==typeof t.easing?t.easing:oc,this.easing=n,this.start=gt(),this.end=this.start+this.duration,this.running=!0,nn.add(this)};rc.prototype={tick:function(t){var n,e;return!!this.running&&(t>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(n=t-this.start,e=this.easing(n/this.duration),this.step&&this.step(e),!0))},stop:function(){this.abort&&this.abort(),this.running=!1}};var ic=rc;function oc(t){return t}var ac,uc,sc,cc,lc,fc,hc,pc,dc,vc,gc,mc,yc=new RegExp("^-(?:"+i.join("|")+")-"),bc=new RegExp("^(?:"+i.join("|")+")([A-Z])"),wc=function(t){return t?(bc.test(t)&&(t="-"+t),t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""},xc={},_c={},kc=r?(ac=f("div").style,cc=void 0!==ac.transition?(uc="transition",sc="transitionend",!0):void 0!==ac.webkitTransition&&(uc="webkitTransition",sc="webkitTransitionEnd",!0),uc&&(lc=uc+"Duration",fc=uc+"Property",hc=uc+"TimingFunction"),function(h,p,d,v,t){setTimeout(function(){var u,s,c,l,f;l=function(){s&&c&&(h.root.fire(h.name+":end",h.node,h.isIntro),t())},u=(h.node.namespaceURI||"")+h.node.tagName,h.node.style[fc]=v.map(nc).map(wc).join(","),h.node.style[hc]=wc(d.easing||"linear"),h.node.style[lc]=d.duration/1e3+"s",f=function(t){var n;-1!==(n=v.indexOf(tc(t.propertyName.replace(yc,""))))&&v.splice(n,1),v.length||(h.node.removeEventListener(sc,f,!1),c=!0,l())},h.node.addEventListener(sc,f,!1),setTimeout(function(){for(var t,n,e,r,i,o=v.length,a=[];o--;)r=v[o],t=u+r,cc&&!_c[t]&&(h.node.style[nc(r)]=p[r],xc[t]||(n=h.getStyle(r),xc[t]=h.getStyle(r)!=p[r],_c[t]=!xc[t],_c[t]&&(h.node.style[nc(r)]=n))),cc&&!_c[t]||(void 0===n&&(n=h.getStyle(r)),-1===(e=v.indexOf(r))?H("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:h.node}):v.splice(e,1),i=/[^\d]*$/.exec(p[r])[0],a.push({name:nc(r),interpolator:Q(parseFloat(n),parseFloat(p[r])),suffix:i}));a.length?new ic({root:h.root,duration:d.duration,easing:tc(d.easing||""),step:function(t){var n,e;for(e=a.length;e--;)n=a[e],h.node.style[n.name]=n.interpolator(t)+n.suffix},complete:function(){s=!0,l()}}):s=!0,v.length||(h.node.removeEventListener(sc,f,!1),c=!0,l())},0)},d.delay||0)}):null;if("undefined"!=typeof document){if(mc={},(pc="hidden")in document)vc="";else for(gc=i.length;gc--;)dc=i[gc],(pc=dc+"Hidden")in document&&(vc=dc);void 0!==vc?(document.addEventListener(vc+"visibilitychange",Mc),Mc()):("onfocusout"in document?(document.addEventListener("focusout",Ec),document.addEventListener("focusin",Ac)):(window.addEventListener("pagehide",Ec),window.addEventListener("blur",Ec),window.addEventListener("pageshow",Ac),window.addEventListener("focus",Ac)),mc.hidden=!1)}function Mc(){mc.hidden=document[pc]}function Ec(){mc.hidden=!0}function Ac(){mc.hidden=!1}var Sc,Nc,Cc,Rc=mc;Sc=r?(Nc=window.getComputedStyle||null.getComputedStyle,function(t,n,u){var s,c=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");return Rc.hidden?(this.setStyle(t,n),Cc||(Cc=jt.resolve())):("string"==typeof t?(s={})[t]=n:(s=t,u=n),u||($('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),u=this),new jt(function(t){var n,e,r,i,o,a;if(!u.duration)return c.setStyle(s),void t();for(n=Object.keys(s),e=[],r=Nc(c.node),{},o=n.length;o--;)a=n[o],"0px"===(i=r[nc(a)])&&(i=0),i!=s[a]&&(e.push(a),c.node.style[nc(a)]=i);e.length?kc(c,s,u,e,t):t()}))}):null;var jc=function(t,n,e){this.init(t,n,e)};jc.prototype={init:Ks,start:function(){var r,i,o,a=this;if(r=this.node=this.element.node,i=r.getAttribute("style"),this.complete=function(t){var n,e;o||(!t&&a.isIntro&&(n=r,(e=i)?n.setAttribute("style",e):(n.getAttribute("style"),n.removeAttribute("style"))),r._ractive.transition=null,a._manager.remove(a),o=!0)},!this._fn)return void this.complete();this._fn.apply(this.root,[this].concat(this.params))},getStyle:ec,setStyle:function(t,n){var e;if("string"==typeof t)this.node.style[nc(t)]=n;else for(e in t)t.hasOwnProperty(e)&&(this.node.style[nc(e)]=t[e]);return this},animateStyle:Sc,processParams:function(t,n){return"number"==typeof t?t={duration:t}:"string"==typeof t?t="slow"===t?{duration:600}:"fast"===t?{duration:200}:{duration:400}:t||(t={}),function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach(function(t){for(var n in t)!t.hasOwnProperty(n)||n in e||(e[n]=t[n])}),e}({},t,n)}};var Oc,Tc,Pc=jc,Fc=function(){var t,n,e,r=this,i=this.root;o=this,t=(a=o.getAttribute("xmlns"))?a:"svg"===o.name?l.svg:(u=o.parent)?"foreignObject"===u.name?l.html:u.node.namespaceURI:o.root.el.namespaceURI,n=this.node=f(this.name,t),this.parentFragment.cssIds&&this.node.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(t){return"{"+t+"}"}).join(" "));var o,a,u;k(this.node,"_ractive",{value:{proxy:this,keypath:Tt(this.parentFragment),events:_(null),root:i}}),this.attributes.forEach(function(t){return t.render(n)}),this.conditionalAttributes.forEach(function(t){return t.render(n)}),this.fragment&&("script"===this.name?(this.bubble=Tc,this.node.text=this.fragment.toString(!1),this.fragment.unrender=z):"style"===this.name?(this.bubble=Oc,this.bubble(),this.fragment.unrender=z):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=z:this.node.appendChild(this.fragment.render()));this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding);this.eventHandlers&&this.eventHandlers.forEach(function(t){return t.render()});"option"===this.name&&function(t){var n,e,r;if(!t.select)return;if(void 0===(e=t.select.getAttribute("value")))return;if(n=t.getAttribute("value"),t.select.node.multiple&&R(e)){for(r=e.length;r--;)if(n==e[r]){t.node.selected=!0;break}}else t.node.selected=n==e}(this);"img"===this.name?((s=this).attributes.width||s.attributes.height)&&s.node.addEventListener("load",c=function(){var t=s.getAttribute("width"),n=s.getAttribute("height");void 0!==t&&s.node.setAttribute("width",t),void 0!==n&&s.node.setAttribute("height",n),s.node.removeEventListener("load",c,!1)},!1):"form"===this.name?this.node.addEventListener("reset",Ys,!1):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected);var s,c;this.decorator&&this.decorator.fn&&Kt.scheduleTask(function(){r.decorator.torndown||r.decorator.init()},!0);i.transitionsEnabled&&this.intro&&(e=new Pc(this,this.intro,!0),Kt.registerTransition(e),Kt.scheduleTask(function(){return e.start()},!0),this.transition=e);this.node.autofocus&&Kt.scheduleTask(function(){return r.node.focus()},!0);return function(t){var n,e,r,i,o;n=t.root;do{for(e=n._liveQueries,r=e.length;r--;)i=e[r],(o=e["_"+i])._test(t)&&(t.liveQueries||(t.liveQueries=[])).push(o)}while(n=n.parent)}(this),this.node};Oc=function(){var t=this.node,n=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(t.type="text/css"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}},Tc=function(){this.node.type&&"text/javascript"!==this.node.type||H("Script tag was updated. This does not cause the code to be re-evaluated!",{ractive:this.root}),this.node.text=this.fragment.toString(!1)};function Dc(t){var n=t.toString();return n?" "+n:""}var qc=function(t){this.init(t)};qc.prototype={bubble:function(){this.parentFragment.bubble()},detach:Pu,find:function(t){return this.node?s(this.node,t)?this.node:this.fragment&&this.fragment.find?this.fragment.find(t):void 0:null},findAll:function(t,n){n._test(this,!0)&&n.live&&(this.liveQueries||(this.liveQueries=[])).push(n),this.fragment&&this.fragment.findAll(t,n)},findAllComponents:function(t,n){this.fragment&&this.fragment.findAllComponents(t,n)},findComponent:function(t){if(this.fragment)return this.fragment.findComponent(t)},findNextNode:Fu,firstNode:Du,getAttribute:qu,init:$s,rebind:Zs,render:Fc,toString:function(){var t,n;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(t="<"+this.template.e,t+=this.attributes.map(Dc).join("")+this.conditionalAttributes.map(Dc).join(""),"option"===this.name&&function(t){var n,e,r;if(void 0===(n=t.getAttribute("value"))||!t.select)return!1;if((e=t.select.getAttribute("value"))==n)return!0;if(t.select.getAttribute("multiple")&&R(e))for(r=e.length;r--;)if(e[r]==n)return!0}(this)&&(t+=" selected"),"input"===this.name&&function(t){var n,e,r,i;if(n=t.attributes,e=n.type,r=n.value,i=n.name,e&&"radio"===e.value&&r&&i.interpolator)return r.value===i.interpolator.value||void 0}(this)&&(t+=" checked"),t+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?t+=Ei(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(t+=this.getAttribute("value")||""),this.fragment&&(n="script"!==this.name&&"style"!==this.name,t+=this.fragment.toString(n)),di.test(this.template.e)||(t+="</"+this.template.e+">"),t)},unbind:function(){this.fragment&&this.fragment.unbind();this.binding&&this.binding.unbind();this.eventHandlers&&this.eventHandlers.forEach(zt);"option"===this.name&&(t=this).select&&Et(t.select.options,t);var t;this.attributes.forEach(zt),this.conditionalAttributes.forEach(zt)},unrender:function(t){var n,e,r;(r=this.transition)&&r.complete();"option"===this.name?this.detach():t&&Kt.detachWhenReady(this);this.fragment&&this.fragment.unrender(!1);(n=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,(e=this.root._twowayBindings[n.keypath.str]).splice(e.indexOf(n),1));this.eventHandlers&&this.eventHandlers.forEach(It);this.decorator&&Kt.registerDecorator(this.decorator);this.root.transitionsEnabled&&this.outro&&(r=new Pc(this,this.outro,!1),Kt.registerTransition(r),Kt.scheduleTask(function(){return r.start()}));this.liveQueries&&function(t){var n,e;e=t.liveQueries.length;for(;e--;)n=t.liveQueries[e],n.selector,n._remove(t.node)}(this);"form"===this.name&&this.node.removeEventListener("reset",Ys,!1)}};var Lc=qc,zc=/^\s*$/,Ic=/^\s*/;function Uc(t,n){var e=Ic.exec(n)[0];return null===t||e.length<t.length?e:t}var Bc=function(t,n,e){var r;if(r=function(t,n,e){var r=void 0,i=function t(n,e){if(e){if(e.template&&e.template.p&&e.template.p[n])return e.template.p[n];if(e.parentFragment&&e.parentFragment.owner)return t(n,e.parentFragment.owner)}}(n,e.owner);if(i)return i;var o=K("partials",t,n);if(!o)return;"function"==typeof(i=o.partials[n])&&((r=i.bind(o)).isOwner=o.partials.hasOwnProperty(n),i=r.call(t,zo));if(!i&&""!==i)return void H(Z,n,"partial","partial",{ractive:t});if(!zo.isParsed(i)){var a=zo.parse(i,zo.getParseOptions(o));a.p&&H("Partials ({{>%s}}) cannot contain nested inline partials",n,{ractive:t});var u=r?o:(c=n,(s=o).partials.hasOwnProperty(c)?s:function t(n,e){if(n)return n.partials.hasOwnProperty(e)?n:t(n._Parent,e)}(s.constructor,c));u.partials[n]=i=a.t}var s,c;r&&(i._fn=r);return i.v?i.t:i}(t,n,e||{}))return r;if(r=zo.fromId(n,{noThrow:!0})){void 0!==(u=(a=(o=r).split("\n"))[0])&&zc.test(u)&&a.shift(),void 0!==(s=Mt(a))&&zc.test(s)&&a.pop(),(c=a.reduce(Uc,null))&&(o=a.map(function(t){return t.replace(c,"")}).join("\n")),r=o;var i=zo.parse(r,zo.getParseOptions(t));return t.partials[n]=i.t}var o,a,u,s,c};var Vc='Could not find template for partial "%s"',Wc=function(t){var n,e;n=this.parentFragment=t.parentFragment,this.root=n.root,this.type=De,this.index=t.index,this.name=t.template.r,this.rendered=!1,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,Ya.init(this,t),this.keypath||((e=Bc(this.root,this.name,n))?(wa.call(this),this.isNamed=!0,this.setTemplate(e)):$(Vc,this.name))};Wc.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,n){return this.fragment.findAll(t,n)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,n){return this.fragment.findAllComponents(t,n)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(t,n){this.isNamed||Za.call(this,t,n),this.fragment&&this.fragment.rebind(t,n)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:Ya.resolve,setValue:function(t){var n;void 0!==t&&t===this.value||(void 0!==t&&(n=Bc(this.root,""+t,this.parentFragment)),!n&&this.name&&(n=Bc(this.root,this.name,this.parentFragment))&&(wa.call(this),this.isNamed=!0),n||$(Vc,this.name,{ractive:this.root}),this.value=t,this.setTemplate(n||[]),this.bubble(),this.rendered&&Kt.addView(this))},setTemplate:function(t){this.fragment&&(this.fragment.unbind(),this.rendered&&(this.fragmentToUnrender=this.fragment)),this.fragment=new Ff({template:t,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(t){var n,e,r,i,o,a;return n=this.fragment.toString(t),(e=this.parentFragment.items[this.index-1])&&1===e.type?(r=e.text.split("\n").pop(),(i=/^\s+$/.exec(r))?(o=n,(a=i[0])?o.split("\n").map(function(t,n){return n?a+t:t}).join("\n"):o):n):n},unbind:function(){this.isNamed||wa.call(this),this.fragment&&this.fragment.unbind()},unrender:function(t){this.rendered&&(this.fragment&&this.fragment.unrender(t),this.rendered=!1)},update:function(){var t,n;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(t=this.parentFragment.getNode(),n=this.parentFragment.findNextNode(this),t.insertBefore(this.docFrag,n))}};var Hc=Wc,$c=function t(n,e){var r,i=K("components",n,e);if(i&&!(r=i.components[e])._Parent){var o=r.bind(i);if(o.isOwner=i.components.hasOwnProperty(e),!(r=o()))return void H(Z,e,"component","component",{ractive:n});"string"==typeof r&&(r=t(n,r)),r._fn=o,i.components[e]=r}return r};var Zc=function(){var t=this.instance.fragment.detach();return Yc.fire(this.instance),t},Yc=new bt("detach");var Gc=function(t){return this.instance.fragment.find(t)};var Kc=function(t,n){return this.instance.fragment.findAll(t,n)};var Qc=function(t,n){n._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(t,n)};var Jc=function(t){if(!t||t===this.name)return this.instance;if(this.instance.fragment)return this.instance.fragment.findComponent(t);return null};var Xc=function(){return this.parentFragment.findNextNode(this)};var tl=function(){if(this.rendered)return this.instance.fragment.firstNode();return null};var nl,el,rl=[],il=["pop","push","reverse","shift","sort","splice","unshift"];il.forEach(function(h){k(rl,h,{value:function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];var r,i,o,a,u,s,c,l,f;for(r=Kn(this,h,n),i=Array.prototype[h].apply(this,arguments),Kt.start(),this._ractive.setting=!0,a=this._ractive.wrappers.length;a--;)o=this._ractive.wrappers[a],Kt.addRactive(o.root),s=this,c=r,l=void 0,l=(u=o).root,f=u.keypath,c?l.viewmodel.smartUpdate(f,s,c):l.viewmodel.mark(f);return Kt.end(),this._ractive.setting=!1,i}})}),el={}.__proto__?(nl=function(t){t.__proto__=rl},function(t){t.__proto__=Array.prototype}):(nl=function(t){var n,e;for(n=il.length;n--;)e=il[n],k(t,e,{value:rl[e],configurable:!0})},function(t){var n;for(n=il.length;n--;)delete t[il[n]]}),nl.unpatch=el;var ol,al,ul,sl=nl;ol={filter:function(t){return R(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,n,e){return new al(t,n,e)}},(al=function(t,n,e){this.root=t,this.value=n,this.keypath=ut(e),n._ractive||(k(n,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),sl(n)),n._ractive.instances[t._guid]||(n._ractive.instances[t._guid]=0,n._ractive.instances.push(t)),n._ractive.instances[t._guid]+=1,n._ractive.wrappers.push(this)}).prototype={get:function(){return this.value},teardown:function(){var t,n,e,r,i;if(e=(n=(t=this.value)._ractive).wrappers,r=n.instances,n.setting)return!1;if(-1===(i=e.indexOf(this)))throw new Error(ul);if(e.splice(i,1),e.length){if(r[this.root._guid]-=1,!r[this.root._guid]){if(-1===(i=r.indexOf(this.root)))throw new Error(ul);r.splice(i,1)}}else delete t._ractive,sl.unpatch(this.value)}},ul="Something went wrong in a rather interesting way";var cl,ll,fl=ol,hl=/^\s*[0-9]+\s*$/,pl=function(t){return hl.test(t)?[]:{}};try{Object.defineProperty({},"test",{value:0}),cl={filter:function(t,n,e){var r,i;return!!n&&(n=ut(n),!((r=e.viewmodel.wrapped[n.parent.str])&&!r.magic)&&((!R(i=e.viewmodel.get(n.parent))||!/^[0-9]+$/.test(n.lastKey))&&(i&&("object"==typeof i||"function"==typeof i))))},wrap:function(t,n,e){return new ll(t,n,e)}},(ll=function(t,n,e){var r,i,o;e=ut(e),this.magic=!0,this.ractive=t,this.keypath=e,this.value=n,this.prop=e.lastKey,r=e.parent,this.obj=r.isRoot?t.viewmodel.data:t.viewmodel.get(r),(i=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop))&&i.set&&(o=i.set._ractiveWrappers)?-1===o.indexOf(this)&&o.push(this):function(t,r,n){var e,i,o,a,u,s;if(e=t.obj,i=t.prop,n&&!n.configurable){if("length"===i)return;throw new Error('Cannot use magic mode with property "'+i+'" - object is not configurable')}n&&(o=n.get,a=n.set);function c(t){var n,e;t.value=r,t.updating||(e=t.ractive,n=t.keypath,t.updating=!0,Kt.start(e),e.viewmodel.mark(n),Kt.end(),t.updating=!1)}u=o||function(){return r},(s=function(t){a&&a(t),r=o?o():t,s._ractiveWrappers.forEach(c)})._ractiveWrappers=[t],Object.defineProperty(e,i,{get:u,set:s,enumerable:!0,configurable:!0})}(this,n,i)}).prototype={get:function(){return this.value},reset:function(t){if(!this.updating)return this.updating=!0,this.obj[this.prop]=t,Kt.addRactive(this.ractive),this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:!0}),!(this.updating=!1)},set:function(t,n){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=pl(t),this.updating=!1),this.obj[this.prop][t]=n)},teardown:function(){var t,n,e,r,i;if(this.updating)return!1;(n=(t=Object.getOwnPropertyDescriptor(this.obj,this.prop))&&t.set)&&(-1!==(i=(r=n._ractiveWrappers).indexOf(this))&&r.splice(i,1),r.length||(e=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=e))}}}catch(t){cl=!1}var dl,vl,gl=cl;gl&&(dl={filter:function(t,n,e){return gl.filter(t,n,e)&&fl.filter(t)},wrap:function(t,n,e){return new vl(t,n,e)}},(vl=function(t,n,e){this.value=n,this.magic=!0,this.magicWrapper=gl.wrap(t,n,e),this.arrayWrapper=fl.wrap(t,n,e)}).prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(t){return this.magicWrapper.reset(t)}});var ml=dl,yl=function(t,n){var e,r,i;if(!this.adaptors)return;for(e=this.adaptors.length,r=0;r<e;r+=1)if((i=this.adaptors[r]).filter(n,t,this.ractive))return void((this.wrapped[t]=i.wrap(this.ractive,n,t,wl(t))).value=n)},bl={};function wl(r){var i;return bl[r]||(i=r?r+".":"",bl[r]=function(t,n){var e;return"string"==typeof t?((e={})[i+t]=n,e):"object"==typeof t?i?function(t,n){var e,r={};if(!n)return t;for(e in n+=".",t)t.hasOwnProperty(e)&&(r[n+e]=t[e]);return r}(t,r):t:void 0}),bl[r]}var xl=function(t){var n,e,r=[ft];n=t.length;for(;n--;)for(e=t[n].parent;e&&!e.isRoot;)-1===t.indexOf(e)&&wt(r,e),e=e.parent;return r};var _l=function(n,e,t){if(kl(n,e),t)return;e.wildcardMatches().forEach(function(t){!function n(e,t,r){var i,o,a;t=t.str||t;i=e.depsMap.patternObservers;o=i&&i[t];if(!o)return;o.forEach(function(t){a=r.join(t.lastKey),kl(e,a),n(e,t,a)})}(n,t,e)})};function kl(t,n){t.patternObservers.forEach(function(t){t.regex.test(n.str)&&t.update(n)})}var Ml=function(){var e,t,n,r=this,i=this,o={};if(!(e=this.changes).length)return;function a(t){var n=t.key;t.viewmodel===i?(i.clearCache(n.str),t.invalidate(),e.push(n),u(n)):t.viewmodel.mark(n)}function u(t){var n,e;i.noCascade.hasOwnProperty(t.str)||((e=i.deps.computed[t.str])&&e.forEach(a),(n=i.depsMap.computed[t.str])&&n.forEach(u))}e.slice().forEach(u),(t=xl(e)).forEach(function(t){var n;-1===e.indexOf(t)&&(n=i.deps.computed[t.str])&&n.forEach(a)}),this.changes=[],this.patternObservers.length&&(t.forEach(function(t){return _l(r,t,!0)}),e.forEach(function(t){return _l(r,t)}));this.deps.observers&&(t.forEach(function(t){return El(r,null,t,"observers")}),Al(this,e,"observers"));this.deps.default&&(n=[],t.forEach(function(t){return El(r,n,t,"default")}),n.length&&(s=this,c=e,n.forEach(function(t){for(var n=!1,e=0,r=c.length,i=[];e<r;){var o=c[e];if(o===t.keypath){n=!0;break}o.slice(0,t.keypath.length)===t.keypath&&i.push(o),e++}n&&t.setValue(s.get(t.keypath)),i.length&&t.refineValue(i)})),Al(this,e,"default"));var s,c;return e.forEach(function(t){o[t.str]=r.get(t)}),this.implicitChanges={},this.noCascade={},o};function El(t,n,e,r){var i,o;(i=Sl(t,e,r))&&(o=t.get(e),i.forEach(function(t){n&&t.refineValue?n.push(t):t.setValue(o)}))}function Al(e,t,r){var i=[];function o(t){t.forEach(n),t.forEach(a)}function n(t){var n=Sl(e,t,r);n&&i.push({keypath:t,deps:n})}function a(t){var n;(n=e.depsMap[r][t.str])&&o(n)}o(t),i.forEach(function(t){var n=e.get(t.keypath);t.deps.forEach(function(t){return t.setValue(n)})})}function Sl(t,n,e){var r=t.deps[e];return r?r[n.str]:null}var Nl=function(){this.captureGroups.push([])};var Cl=function(t,n){var e,r;n||(r=this.wrapped[t])&&!1!==r.teardown()&&(this.wrapped[t]=null);if(this.cache[t]=void 0,e=this.cacheMap[t])for(;e.length;)this.clearCache(e.pop())};var Rl=function(t,n){this.computation=t,this.viewmodel=t.viewmodel,this.ref=n,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};Rl.prototype={resolve:function(t){this.computation.softDeps.push(t),this.computation.unresolvedDeps[t.str]=null,this.viewmodel.register(t,this.computation,"computed")}};var jl=Rl,Ol=function(t,n){this.key=t,this.getter=n.getter,this.setter=n.setter,this.hardDeps=n.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this._dirty=this._firstRun=!0};Ol.prototype={constructor:Ol,init:function(n){var t,e=this;this.viewmodel=n,this.bypass=!0,t=n.get(this.key),n.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==t&&this.set(t),this.hardDeps&&this.hardDeps.forEach(function(t){return n.register(t,e,"computed")})},invalidate:function(){this._dirty=!0},get:function(){var t,i=this,o=!1;if(this.getting)return W("The "+this.key.str+" computation indirectly called itself. This probably indicates a bug in the computation. It is commonly caused by `array.sort(...)` - if that's the case, clone the array first with `array.slice().sort(...)`"),this.value;if(this.getting=!0,this._dirty){if(this._firstRun||!this.hardDeps.length&&!this.softDeps.length?o=!0:[this.hardDeps,this.softDeps].forEach(function(t){var n,e,r;if(!o)for(r=t.length;r--;)if(n=t[r],!O(e=i.viewmodel.get(n),i.depValues[n.str]))return i.depValues[n.str]=e,void(o=!0)}),o){this.viewmodel.capture();try{this.value=this.getter()}catch(t){H('Failed to compute "%s"',this.key.str),V(t.stack||t),this.value=void 0}t=this.viewmodel.release(),this.updateDependencies(t)&&[this.hardDeps,this.softDeps].forEach(function(t){t.forEach(function(t){i.depValues[t.str]=i.viewmodel.get(t)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value},set:function(t){if(this.setting)this.value=t;else{if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter(t)}},updateDependencies:function(t){var n,e,r,i,o,a,u;for(n=(e=this.softDeps).length;n--;)r=e[n],-1===t.indexOf(r)&&(i=!0,this.viewmodel.unregister(r,this,"computed"));for(n=t.length;n--;)r=t[n],-1!==e.indexOf(r)||this.hardDeps&&-1!==this.hardDeps.indexOf(r)||(i=!0,a=this.viewmodel,void 0,(u=r.firstKey)in a.data||u in a.computations||u in a.mappings||this.unresolvedDeps[r.str]?this.viewmodel.register(r,this,"computed"):(o=new jl(this,r.str),t.splice(n,1),this.unresolvedDeps[r.str]=o,Kt.addUnresolved(o)));return i&&(this.softDeps=t.slice()),i}};var Tl=Ol,Pl=function(t,n){var e=new Tl(t,n);this.ready&&e.init(this);return this.computations[t.str]=e};var Fl={FAILED_LOOKUP:!0},Dl=function(t,n){var e,r,i,o,a,u=this.cache,s=t.str;(n=n||ql).capture&&(o=Mt(this.captureGroups))&&(~o.indexOf(t)||o.push(t));if(S.call(this.mappings,t.firstKey))return this.mappings[t.firstKey].get(t,n);if(t.isSpecial)return t.value;void 0===u[s]?((r=this.computations[s])&&!r.bypass?(e=r.get(),this.adapt(s,e)):e=(i=this.wrapped[s])?i.value:t.isRoot?(this.adapt("",this.data),this.data):function(t,n){var e,r,i,o;e=t.get(n.parent),(o=t.wrapped[n.parent.str])&&(e=o.get());if(null==e)return;(r=t.cacheMap[n.parent.str])?-1===r.indexOf(n.str)&&r.push(n.str):t.cacheMap[n.parent.str]=[n.str];return"object"!=typeof e||n.lastKey in e?(i=e[n.lastKey],t.adapt(n.str,i,!1),t.cache[n.str]=i):t.cache[n.str]=Fl}(this,t),u[s]=e):e=u[s];!n.noUnwrap&&(i=this.wrapped[s])&&(e=i.get());if(t.isRoot&&n.fullRootGet)for(a in this.mappings)e[a]=this.mappings[a].getValue();return e===Fl?void 0:e},ql={};var Ll=function(){var t;for(t in this.computations)this.computations[t].init(this)};var zl=function(t,n){var e=this.mappings[t.str]=new Il(t,n);return e.initViewmodel(this),e};var Il=function(t,n){this.localKey=t,this.keypath=n.keypath,this.origin=n.origin,this.deps=[],this.unresolved=[],this.resolved=!1};Il.prototype={forceResolution:function(){this.keypath=this.localKey,this.setup()},get:function(t,n){if(this.resolved)return this.origin.get(this.map(t),n)},getValue:function(){if(this.keypath)return this.origin.get(this.keypath)},initViewmodel:function(t){this.local=t,this.setup()},map:function(t){return void 0===typeof this.keypath?this.localKey:t.replace(this.localKey,this.keypath)},register:function(t,n,e){this.deps.push({keypath:t,dep:n,group:e}),this.resolved&&this.origin.register(this.map(t),n,e)},resolve:function(t){void 0!==this.keypath&&this.unbind(!0),this.keypath=t,this.setup()},set:function(t,n){this.resolved||this.forceResolution(),this.origin.set(this.map(t),n)},setup:function(){var e=this;void 0!==this.keypath&&(this.resolved=!0,this.deps.length&&(this.deps.forEach(function(t){var n=e.map(t.keypath);if(e.origin.register(n,t.dep,t.group),t.dep.setValue)t.dep.setValue(e.origin.get(n));else{if(!t.dep.invalidate)throw new Error("An unexpected error occurred. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");t.dep.invalidate()}}),this.origin.mark(this.keypath)))},setValue:function(t){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,t)},unbind:function(t){var n=this;t||delete this.local.mappings[this.localKey],this.resolved&&(this.deps.forEach(function(t){n.origin.unregister(n.map(t.keypath),t.dep,t.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker))},unregister:function(t,n,e){var r,i;if(this.resolved){for(i=(r=this.deps).length;i--;)if(r[i].dep===n){r.splice(i,1);break}this.origin.unregister(this.map(t),n,e)}}};var Ul=function(n,e,r,t){var i,o,a,u;if(this.mark(n),t&&t.compare){a=function(n){if(!0===n)return Vl;if("string"==typeof n)return Bl[n]||(Bl[n]=function(t){return t[n]}),Bl[n];if("function"!=typeof n)throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)");return n}(t.compare);try{i=e.map(a),o=r.map(a)}catch(t){H('merge(): "%s" comparison failed. Falling back to identity checking',n),i=e,o=r}}else i=e,o=r;s=i,c=o,l={},f=0,u=s.map(function(t,n){var e,r,i;r=f,i=c.length;do{if(-1===(e=c.indexOf(t,r)))return-1;r=e+1}while(l[e]&&r<i);return e===f&&(f+=1),l[e]=!0,e}),this.smartUpdate(n,r,u,e.length!==r.length);var s,c,l,f},Bl={};function Vl(t){return JSON.stringify(t)}var Wl=function(e,n,r){var t,i,o,a=this;i=r.length,r.forEach(function(t,n){-1===t&&a.mark(e.join(n),$l)}),this.set(e,n,{silent:!0}),(t=this.deps.default[e.str])&&t.filter(Zl).forEach(function(t){return t.shuffle(r,n)});if(i!==n.length){for(this.mark(e.join("length"),Hl),o=r.touchedFrom;o<n.length;o+=1)this.mark(e.join(o));for(o=n.length;o<i;o+=1)this.mark(e.join(o),$l)}},Hl={implicit:!0},$l={noCascade:!0};function Zl(t){return"function"==typeof t.shuffle}var Yl=function(t){var n,e,r=t.adapt,i=t.data,o=t.ractive,a=t.computed,u=t.mappings;for(n in this.ractive=o,this.adaptors=r,this.onchange=t.onchange,this.cache={},this.cacheMap=_(null),this.deps={computed:_(null),default:_(null)},this.depsMap={computed:_(null),default:_(null)},this.patternObservers=[],this.specials=_(null),this.wrapped=_(null),this.computations=_(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={},this.data=i,this.mappings=_(null),u)this.map(ut(n),u[n]);if(i)for(n in i)(e=this.mappings[n])&&void 0===e.getValue()&&e.setValue(i[n]);for(n in a)u&&n in u&&B("Cannot map to a computed property ('%s')",n),this.compute(ut(n),a[n]);this.ready=!0};Yl.prototype={adapt:yl,applyChanges:Ml,capture:Nl,clearCache:Cl,compute:Pl,get:Dl,init:Ll,map:zl,mark:function(t,n){var e,r=t.str;n&&(n.implicit&&(this.implicitChanges[r]=!0),n.noCascade&&(this.noCascade[r]=!0));(e=this.computations[r])&&e.invalidate();-1===this.changes.indexOf(t)&&this.changes.push(t);var i=!!n&&n.keepExistingWrapper;this.clearCache(r,i),this.ready&&this.onchange()},merge:Ul,register:function(t,n){var e,r,i=void 0===arguments[2]?"default":arguments[2];if(n.isStatic)return;(e=this.mappings[t.firstKey])?e.register(t,n,i):(r=this.deps[i]||(this.deps[i]={}),(r[t.str]||(r[t.str]=[])).push(n),this.depsMap[i]||(this.depsMap[i]={}),t.isRoot||function(t,n,e){var r,i,o;for(;!n.isRoot;)r=t.depsMap[e],i=r[n.parent.str]||(r[n.parent.str]=[]),o=n.str,void 0===i["_"+o]&&(i["_"+o]=0,i.push(n)),i["_"+o]+=1,n=n.parent}(this,t,i))},release:function(){return this.captureGroups.pop()},reset:function(t){this.data=t,this.clearCache("")},set:function(t,n){var e,r,i,o,a=void 0===arguments[2]?{}:arguments[2];if(!a.noMapping&&(e=this.mappings[t.firstKey]))return e.set(t,n);if(r=this.computations[t.str]){if(r.setting)return;r.set(n),n=r.get()}if(O(this.cache[t.str],n))return;(i=this.wrapped[t.str])&&i.reset&&(o=!1!==i.reset(n))&&(n=i.get());r||o||(s=t,c=n,h=function(){l.set?l.set(s.lastKey,c):(f=l.get(),p())},p=function(){f||(f=pl(s.lastKey),u.set(s.parent,f,{silent:!0})),f[s.lastKey]=c},(l=(u=this).wrapped[s.parent.str])?h():(f=u.get(s.parent),(l=u.wrapped[s.parent.str])?h():p()));var u,s,c,l,f,h,p;a.silent?this.clearCache(t.str):this.mark(t)},smartUpdate:Wl,teardown:function(){var t,n=this;Object.keys(this.cache).forEach(function(t){return n.clearCache(t)});for(;t=this.unresolvedImplicitDependencies.pop();)t.teardown()},unregister:function(t,n){var e,r,i,o=void 0===arguments[2]?"default":arguments[2];if(n.isStatic)return;if(e=this.mappings[t.firstKey])return e.unregister(t,n,o);if(r=this.deps[o][t.str],-1===(i=r.indexOf(n)))throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");if(r.splice(i,1),t.isRoot)return;!function(t,n,e){var r,i;for(;!n.isRoot;)r=t.depsMap[e],(i=r[n.parent.str])["_"+n.str]-=1,i["_"+n.str]||(Et(i,n),i["_"+n.str]=void 0),n=n.parent}(this,t,o)}};var Gl=Yl;function Kl(t){this.hook=new bt(t),this.inProcess={},this.queue={}}function Ql(t,n){return t[n._guid]||(t[n._guid]=[])}Kl.prototype={constructor:Kl,begin:function(t){this.inProcess[t._guid]=!0},end:function(t){var n=t.parent;n&&this.inProcess[n._guid]?Ql(this.queue,n).push(t):function t(n,e){var r=Ql(n.queue,e);n.hook.fire(e);for(;r.length;)t(n,r.shift());delete n.queue[e._guid]}(this,t),delete this.inProcess[t._guid]}};var Jl=Kl,Xl=function(t,n){var e,r={};for(e in n)r[e]=nf(t,e,n[e]);return r},tf=/\$\{([^\}]+)\}/g;function nf(t,n,e){var r,i;return"function"==typeof e&&(r=rf(e,t)),"string"==typeof e&&(r=ef(t,e)),"object"==typeof e&&("string"==typeof e.get?r=ef(t,e.get):"function"==typeof e.get?r=rf(e.get,t):B("`%s` computation must have a `get()` method",n),"function"==typeof e.set&&(i=rf(e.set,t))),{getter:r,setter:i}}function ef(t,n){var e,r,i;return e="return ("+n.replace(tf,function(t,n){return r=!0,'__ractive.get("'+n+'")'})+");",r&&(e="var __ractive = this; "+e),i=new Function(e),r?i.bind(t):i}function rf(t,n){return/this/.test(t.toString())?t.bind(n):t}var of=new bt("construct"),af=new bt("config"),uf=new Jl("init"),sf=0,cf=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],lf=function(n){var t,e,r=void 0===arguments[1]?{}:arguments[1],i=void 0===arguments[2]?{}:arguments[2];hh.DEBUG&&q();if(a=n,u=i,a._guid="r-"+sf++,a._subs=_(null),a._config={},a._twowayBindings=_(null),a._animations=[],a.nodes={},a._liveQueries=[],a._liveComponentQueries=[],a._boundFunctions=[],a._observers=[],u.component?(a.parent=u.parent,a.container=u.container||null,a.root=a.parent.root,a.component=u.component,(u.component.instance=a)._inlinePartials=u.inlinePartials):(a.root=a).parent=a.container=null,k(n,"data",{get:ff}),of.fire(n,r),cf.forEach(function(t){n[t]=A(_(n.constructor[t]||null),r[t])}),e=new Gl({adapt:function(n,t,e){var r,i,o;if(t=t.map(a),r=kt(e.adapt).map(a),r=function(t,n){for(var e=t.slice(),r=n.length;r--;)~e.indexOf(n[r])||e.push(n[r]);return e}(t,r),i="magic"in e?e.magic:n.magic,o="modifyArrays"in e?e.modifyArrays:n.modifyArrays,i){if(!c)throw new Error("Getters and setters (magic mode) are not supported in this browser");o&&r.push(ml),r.push(gl)}return o&&r.push(fl),r;function a(t){return"string"==typeof t&&((t=G("adaptors",n,t))||B(Y(t,"adaptor"))),t}}(n,n.adapt,r),data:ke.init(n.constructor,n,r),computed:Xl(n,A(_(n.constructor.prototype.computed),r.computed)),mappings:i.mappings,ractive:n,onchange:function(){return Kt.addRactive(n)}}),(n.viewmodel=e).init(),ia.init(n.constructor,n,r),af.fire(n),uf.begin(n),n.template){var o=void 0;(i.cssIds||n.cssId)&&(o=i.cssIds?i.cssIds.slice():[],n.cssId&&o.push(n.cssId)),n.fragment=new Ff({template:n.template,root:n,owner:n,cssIds:o})}var a,u;if(uf.end(n),t=b(n.el)){var s=n.render(t,n.append);hh.DEBUG_PROMISES&&s.catch(function(t){throw $("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),H("An error happened during rendering",{ractive:n}),t.stack&&V(t.stack),t})}};function ff(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function hf(t,n,e){this.parentFragment=t.parentFragment,this.callback=e,this.fragment=new Ff({template:n,root:t.root,owner:this}),this.update()}var pf=hf;hf.prototype={bubble:function(){this.dirty||(this.dirty=!0,Kt.addView(this))},update:function(){this.callback(this.fragment.getValue()),this.dirty=!1},rebind:function(t,n){this.fragment.rebind(t,n)},unbind:function(){this.fragment.unbind()}};var df=function(o,t,a,n,e){var u,r,i,s,c,l,f={},h={},p={},d=[];for(r=o.parentFragment,i=o.root,A(f,e=e||{}),e.content=n||[],f[""]=e.content,t.defaults.el&&H("The <%s/> component has a default `el` property; it has been disregarded",o.name),s=r;s;){if(s.owner.type===ze){c=s.owner.container;break}s=s.parent}return a&&Object.keys(a).forEach(function(n){var t,e,r,i=a[n];if("string"==typeof i)t=ro(i),h[n]=t?t.value:i;else if(0===i)h[n]=!0;else{if(!R(i))throw new Error("erm wut");e=1===(r=i).length&&r[0].t===je?(p[n]={origin:o.root.viewmodel,keypath:void 0},function(t,n,e){var r;n.r?r=Oa(t,n.r,e):n.x?r=new qa(t,t.parentFragment,n.x,e):n.rx&&(r=new $a(t,n.rx,e));return r}(o,i[0],function(t){t.isSpecial?l?u.set(n,t.value):(h[n]=t.value,delete p[n]):l?u.viewmodel.mappings[n].resolve(t):p[n].keypath=t})):new pf(o,i,function(t){l?u.set(n,t):h[n]=t}),d.push(e)}}),u=_(t.prototype),lf(u,{el:null,append:!0,data:h,partials:e,magic:i.magic||t.defaults.magic,modifyArrays:i.modifyArrays,adapt:i.adapt},{parent:i,component:o,container:c,mappings:p,inlinePartials:f,cssIds:r.cssIds}),l=!0,o.resolvers=d,u};var vf=function(t,n){var e;for(e in n)n.hasOwnProperty(e)&&gf(t.instance,t.root,e,n[e])};function gf(t,e,n,r){"string"!=typeof r&&B("Components currently only support simple events - you cannot include arguments. Sorry!"),t.on(n,function(){var t,n;return arguments.length&&arguments[0]&&arguments[0].node&&(t=Array.prototype.shift.call(arguments)),n=Array.prototype.slice.call(arguments),Sn(e,r,{event:t,args:n}),!1})}var mf=function(t,n){var e,r;if(!n)throw new Error('Component "'+this.name+'" not found');e=this.parentFragment=t.parentFragment,r=e.root,this.root=r,this.type=15,this.name=t.template.e,this.index=t.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],df(this,n,t.template.a,t.template.f,t.template.p),vf(this,t.template.v),(t.template.t0||t.template.t1||t.template.t2||t.template.o)&&H('The "intro", "outro" and "decorator" directives have no effect on components',{ractive:this.instance});!function(t){var n,e;for(n=t.root;n;)(e=n._liveComponentQueries["_"+t.name])&&e.push(t.instance),n=n.parent}(this)};var yf=function(n,e){var t;for(var r in this.resolvers.forEach(i),this.yielders)this.yielders[r][0]&&i(this.yielders[r][0]);(t=this.root._liveComponentQueries["_"+this.name])&&t._makeDirty();function i(t){t.rebind(n,e)}};var bf=function(){var t=this.instance;return t.render(this.parentFragment.getNode()),this.rendered=!0,t.fragment.detach()};var wf=function(){return this.instance.fragment.toString()};var xf=function(){var t=this.instance;this.resolvers.forEach(zt),function(t){var n,e;for(n=t.root;(e=n._liveComponentQueries["_"+t.name])&&e._remove(t),n=n.parent;);}(this),t._observers.forEach(Ut),t.fragment.unbind(),t.viewmodel.teardown(),t.fragment.rendered&&t.el.__ractive_instances__&&Et(t.el.__ractive_instances__,t);_f.fire(t)},_f=new bt("teardown");var kf=function(t,n){this.init(t,n)};kf.prototype={detach:Zc,find:Gc,findAll:Kc,findAllComponents:Qc,findComponent:Jc,findNextNode:Xc,firstNode:tl,init:mf,rebind:yf,render:bf,toString:wf,unbind:xf,unrender:function(t){this.shouldDestroy=t,this.instance.unrender()}};var Mf=kf,Ef=function(t){this.type=qe,this.value=t.template.c};Ef.prototype={detach:ma,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"\x3c!--"+this.value+"--\x3e"},unrender:function(t){t&&this.node.parentNode.removeChild(this.node)}};var Af=Ef,Sf=function(t){var n,e;this.type=ze,this.container=n=t.parentFragment.root,this.component=e=n.component,this.container=n,this.containerFragment=t.parentFragment,this.parentFragment=e.parentFragment;var r=this.name=t.template.n||"",i=n._inlinePartials[r];i||(H('Could not find template for partial "'+r+'"',{ractive:t.root}),i=[]),this.fragment=new Ff({owner:this,root:n.parent,template:i,pElement:this.containerFragment.pElement}),R(e.yielders[r])?e.yielders[r].push(this):e.yielders[r]=[this],Kt.scheduleTask(function(){if(1<e.yielders[r].length)throw new Error("A component template can only have one {{yield"+(r?" "+r:"")+"}} declaration at a time")})};Sf.prototype={detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,n){return this.fragment.findAll(t,n)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,n){return this.fragment.findAllComponents(t,n)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(t){return this.fragment.getValue(t)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(t){this.fragment.unrender(t),Et(this.component.yielders[this.name],this)},rebind:function(t,n){this.fragment.rebind(t,n)},toString:function(){return this.fragment.toString()}};var Nf=Sf,Cf=function(t){this.declaration=t.template.a};Cf.prototype={init:z,render:z,unrender:z,teardown:z,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var Rf=Cf;function jf(t){return t.toString()}function Of(t){return t.toString(!0)}function Tf(t){t.unbind&&t.unbind()}var Pf=function(t){this.init(t)};Pf.prototype={bubble:oa,detach:aa,find:ua,findAll:sa,findAllComponents:ca,findComponent:la,findNextNode:fa,firstNode:ha,getArgsList:da,getNode:va,getValue:ga,init:function(e){var r=this;this.owner=e.owner,this.parent=this.owner.parentFragment,this.root=e.root,this.pElement=e.pElement,this.context=e.context,this.index=e.index,this.key=e.key,this.registeredIndexRefs=[],this.cssIds="cssIds"in e?e.cssIds:this.parent?this.parent.cssIds:null,this.items=e.template.map(function(t,n){return function(t){if("string"==typeof t.template)return new ba(t);switch(t.template.t){case ze:return new Nf(t);case je:return new Ka(t);case Te:return new vu(t);case Oe:return new Tu(t);case Fe:var n=void 0;return(n=$c(t.parentFragment.root,t.template.e))?new Mf(t,n):new Lc(t);case De:return new Hc(t);case qe:return new Af(t);case Ie:return new Rf(t);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}({parentFragment:r,pElement:e.pElement,template:t,index:n})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0},rebind:function(n,e){this.owner&&!this.owner.hasContext||at(this,"context",n,e);this.items.forEach(function(t){t.rebind&&t.rebind(n,e)})},registerIndexRef:function(t){var n=this.registeredIndexRefs;-1===n.indexOf(t)&&n.push(t)},render:function(){var n;1===this.items.length?n=this.items[0].render():(n=document.createDocumentFragment(),this.items.forEach(function(t){n.appendChild(t.render())}));return this.rendered=!0,n},toString:function(t){return this.items?this.items.map(t?Of:jf).join(""):""},unbind:function(){if(!this.bound)return;this.items.forEach(Tf),this.bound=!1},unregisterIndexRef:function(t){var n=this.registeredIndexRefs;n.splice(n.indexOf(t),1)},unrender:function(n){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(t){return t.unrender(n)}),this.rendered=!1}};var Ff=Pf,Df=function(t){var n,e,r,i,o;if("object"!=typeof(t=t||{}))throw new Error("The reset method takes either no arguments, or an object containing new data");(e=this.viewmodel.wrapped[""])&&e.reset?!1===e.reset(t)&&this.viewmodel.reset(t):this.viewmodel.reset(t);r=ia.reset(this),i=r.length;for(;i--;)if(-1<qf.indexOf(r[i])){o=!0;break}if(o){var a=void 0;this.viewmodel.mark(ft),(a=this.component)&&(a.shouldDestroy=!0),this.unrender(),a&&(a.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new Ff({template:this.template,root:this,owner:this})),n=this.render(this.el,this.anchor)}else n=Kt.start(this,!0),this.viewmodel.mark(ft),Kt.end();return Lf.fire(this,t),n},qf=["template","partials","components","decorators","events"],Lf=new bt("reset");var zf=function(t){var n,e;Ho.init(null,this,{template:t}),n=this.transitionsEnabled,this.transitionsEnabled=!1,(e=this.component)&&(e.shouldDestroy=!0);this.unrender(),e&&(e.shouldDestroy=!1);this.fragment.unbind(),this.fragment=new Ff({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=n};var If=re("reverse"),Uf=function(t,n){var e,r;if(r=Kt.start(this,!0),P(t))for(t in e=t)e.hasOwnProperty(t)&&(n=e[t],Bf(this,t,n));else Bf(this,t,n);return Kt.end(),r};function Bf(n,t,e){(t=ut(lt(t))).isPattern?st(n,t).forEach(function(t){n.viewmodel.set(t,e)}):n.viewmodel.set(t,e)}var Vf=re("shift"),Wf=re("sort"),Hf=re("splice"),$f=function(t,n){return ht(this,t,void 0===n?-1:-n)};var Zf=function(){var t;this.fragment.unbind(),this.viewmodel.teardown(),this._observers.forEach(Ut),this.fragment.rendered&&this.el.__ractive_instances__&&Et(this.el.__ractive_instances__,this);return this.shouldDestroy=!0,t=this.fragment.rendered?this.unrender():jt.resolve(),Yf.fire(this),this._boundFunctions.forEach(Gf),t},Yf=new bt("teardown");function Gf(t){delete t.fn[t.prop]}var Kf=function(t){var n=this;if("string"!=typeof t)throw new TypeError("Bad arguments");var e=void 0;if(/\*/.test(t))return e={},st(this,ut(lt(t))).forEach(function(t){e[t.str]=!n.viewmodel.get(t)}),this.set(e);return this.set(t,!this.get(t))};var Qf=function(){return this.fragment.toString(!0)};var Jf=function(){var t,n;if(!this.fragment.rendered)return H("ractive.unrender() was called on a Ractive instance that was not rendered"),jt.resolve();t=Kt.start(this,!0),n=!this.component||this.component.shouldDestroy||this.shouldDestroy;for(;this._animations[0];)this._animations[0].stop();return this.fragment.unrender(n),Et(this.el.__ractive_instances__,this),Xf.fire(this),Kt.end(),t},Xf=new bt("unrender");var th=re("unshift"),nh=function(t){var n;return t=ut(t)||ft,n=Kt.start(this,!0),this.viewmodel.mark(t),Kt.end(),eh.fire(this,t),n},eh=new bt("update");var rh={add:dt,animate:on,detach:sn,find:ln,findAll:xn,findAllComponents:_n,findComponent:kn,findContainer:Mn,findParent:En,fire:Cn,get:Rn,insert:On,merge:Pn,observe:Vn,observeOnce:Wn,off:Zn,on:Yn,once:Gn,pop:ie,push:oe,render:ce,reset:Df,resetPartial:function(i,t){var n,e=[];return function n(t,e,r){r&&r.partials[i]||t.forEach(function(t){t.type===De&&t.getPartialName()===i&&e.push(t),t.fragment&&n(t.fragment.items,e,r),R(t.fragments)?n(t.fragments,e,r):R(t.items)?n(t.items,e,r):15===t.type&&t.instance&&n(t.instance.fragment.items,e,t.instance),t.type===Fe&&(R(t.attributes)&&n(t.attributes,e,r),R(t.conditionalAttributes)&&n(t.conditionalAttributes,e,r))})}(this.fragment.items,e),this.partials[i]=t,n=Kt.start(this,!0),e.forEach(function(t){t.value=void 0,t.setValue(i)}),Kt.end(),n},resetTemplate:zf,reverse:If,set:Uf,shift:Vf,sort:Wf,splice:Hf,subtract:$f,teardown:Zf,toggle:Kf,toHTML:Qf,toHtml:Qf,unrender:Jf,unshift:th,update:nh,updateModel:function(t,n){var e,r,i;if("string"!=typeof t||n)for(r in i=[],this._twowayBindings)t&&!ut(r).equalsOrStartsWith(t)||i.push.apply(i,this._twowayBindings[r]);else i=this._twowayBindings[t];return o=i,a={},u=[],o.forEach(function(t){var n,e;t.radioName&&!t.element.node.checked||(t.checkboxName?u[t.keypath.str]||t.changed()||(u.push(t.keypath),u[t.keypath.str]=t):_t(n=t.attribute.value,e=t.getValue())||O(n,e)||(a[t.keypath.str]=e))}),u.length&&u.forEach(function(t){var n,e,r;n=u[t.str],e=n.attribute.value,r=n.getValue(),_t(e,r)||(a[t.str]=r)}),e=a,this.set(e);var o,a,u}},ih=function(r,i,t){return t||(n=r,"function"==typeof i&&/_super/.test(n))?function(){var t,n="_super"in this,e=this._super;return this._super=i,t=r.apply(this,arguments),n&&(this._super=e),t}:r;var n};var oh=function(t){var n={};for(;t;)ah(t,n),uh(t,n),t=t._Parent!==hh&&t._Parent;return n};function ah(n,e){$o.forEach(function(t){!function(n,t,e){var r,i=Object.keys(n[e]);if(!i.length)return;(r=t[e])||(r=t[e]={});i.filter(function(t){return!(t in r)}).forEach(function(t){return r[t]=n[e][t]})}(t.useDefaults?n.prototype:n,e,t.name)})}function uh(i,o){Object.keys(i.prototype).forEach(function(t){if("computed"!==t){var n=i.prototype[t];if(t in o){if("function"==typeof o[t]&&"function"==typeof n&&o[t]._method){var e=void 0,r=n._method;r&&(n=n._method),e=ih(o[t]._method,n),r&&(e._method=e),o[t]=e}}else o[t]=n._method?n._method:n}})}function sh(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];return n.length?n.reduce(ch,this):ch(this)}function ch(t){var n,e,r=void 0===arguments[1]?{}:arguments[1];return r.prototype instanceof hh&&(r=oh(r)),n=function(t){if(!(this instanceof n))return new n(t);lf(this,t)},(e=_(t.prototype)).constructor=n,M(n,{defaults:{value:e},extend:{value:sh,writable:!0,configurable:!0},_Parent:{value:t}}),ia.extend(t,e,r),ke.extend(t,e,r),r.computed&&(e.computed=A(_(t.prototype.computed),r.computed)),n.prototype=e,n}var lh;M(lh=function(t){if(!(this instanceof lh))return new lh(t);lf(this,t)},{DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:sh},getNodeInfo:{value:function(t){var n,e,r={};return t&&(n=t._ractive)&&(r.ractive=n.root,r.keypath=n.keypath.str,r.index={},(e=Ra(n.proxy.parentFragment))&&(r.index=Ra.resolve(e))),r}},parse:{value:No},Promise:{value:jt},svg:{value:n},magic:{value:c},VERSION:{value:"0.7.3"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:y},events:{writable:!0,value:{}},interpolators:{writable:!0,value:X},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}}),lh.prototype=A(rh,m),(lh.prototype.constructor=lh).defaults=lh.prototype;var fh="function";if(typeof Date.now!==fh||typeof String.prototype.trim!==fh||typeof Object.keys!==fh||typeof Array.prototype.indexOf!==fh||typeof Array.prototype.forEach!==fh||typeof Array.prototype.map!==fh||typeof Array.prototype.filter!==fh||"undefined"!=typeof window&&typeof window.addEventListener!==fh)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var hh=lh;return hh},"object"==typeof e&&void 0!==n?n.exports=i():r.Ractive=i()},{}],21:[function(t,n,e){"use strict";var u=t("lodash.sortedindex"),r={heightFn:function(){return 10},availableNodes:100},i=function(t){if(!t.el)throw new Error("Need to pass `el` into ScrollableTable.");if(!t.data)throw new Error("Need to pass `data` into ScrollableTable.");if(!t.buildRow)throw new Error("Need to pass `buildRow` into ScrollableTable.");if(!t.updateRow)throw new Error("Need to pass `updateRow` into ScrollableTable.");for(var n in r)this[n]=r[n];for(var n in t)this[n]=t[n];this.rowsWithNodes=[],this.tops=[],this.el.className=this.el.className+" sts-container",this.reset()};i.prototype.reset=function(){for(this.yPosition=0,this.setHeights();this.el.firstChild;)this.el.remove(this.el.firstChild);for(var t=0;t<this.data.length;t++)this.data[t].__node=null;this.rowsWithNodes=[];var n=Math.min(this.availableNodes,this.data.length);for(t=0;t<n;t++){var e=this.buildRow(this.data[t]);e.style.top=this.data[t].__top+"px",e.className=e.className+" sts-row",this.el.appendChild(e),this.rowsWithNodes.push(t),this.data[t].__node=e}this.bottomEl=document.createElement("div"),this.bottomEl.className="sts-bottom-anchor",this.bottomEl.style.top=this.totalHeight+"px",this.el.appendChild(this.bottomEl),this.el.addEventListener("scroll",this.updateVisibleRows.bind(this))},i.prototype.updateVisibleRows=function(t){if(!this.isUpdating){this.isUpdating=!0;var n=this.el.scrollTop+this.el.clientHeight/2,e=u(this.tops,n),r=0,i=Math.max(0,e-Math.ceil(this.availableNodes/2)),o=Math.min(this.data.length,e+Math.ceil(this.availableNodes/2));if(this.lastMidNdx!==e){this.lastMidNdx=e;for(var a=i;a<o;a++)if(!this.data[a].__node){for(;this.rowsWithNodes[r]>i&&this.rowsWithNodes[r]<o;)r++;this.data[a].__node=this.data[this.rowsWithNodes[r]].__node,this.updateRow(this.data[a],this.data[a].__node),this.data[a].__node.style.top=this.data[a].__top+"px",this.data[this.rowsWithNodes[r]].__node=null,this.rowsWithNodes[r]=a,r++}this.isUpdating=!1}else this.isUpdating=!1}},i.prototype.setHeights=function(){this.totalHeight=0,this.tops=[];for(var t=0;t<this.data.length;t++)this.data[t].__top=this.totalHeight,this.tops.push(this.totalHeight),this.totalHeight+=this.heightFn(this.data[t]);return this.totalHeight},i.prototype.updateData=function(t){var n,e,r=[];if(!this.isUpdating){if(this.isUpdating=!0,t.length<this.rowsWithNodes.length)for(n=this.rowsWithNodes.length-1;n>=t.length;n--){var i=this.data[this.rowsWithNodes[n]].__node;i.parentNode.removeChild(i),this.data[this.rowsWithNodes[n]].__node=null,this.rowsWithNodes.pop()}for(n=0;n<Math.min(this.rowsWithNodes.length,t.length);n++)r.push(this.data[this.rowsWithNodes[n]].__node),this.data[this.rowsWithNodes[n]].__node=null,this.rowsWithNodes[n]=n;if(r.length<t.length&&r.length<this.availableNodes)for(n=r.length;n<Math.min(this.availableNodes,t.length);n++)(e=this.buildRow(t[n])).className=e.className+" sts-row",this.el.appendChild(e),r.push(e),this.rowsWithNodes.push(n);for(this.data=t,this.setHeights(),n=0;n<r.length;n++)this.data[n].__node=r[n],this.updateRow(this.data[n],this.data[n].__node),this.data[n].__node.style.top=this.data[n].__top+"px";this.bottomEl.style.top=this.totalHeight+"px",this.isUpdating=!1,this.updateVisibleRows()}},n.exports=i},{"lodash.sortedindex":15}],22:[function(t,n,e){var r=t("ractive"),i=t("canvas-dpi-scaler"),o=t("lodash"),a=t("d3"),u=r.extend({template:t("../templates/col-header.hbs"),data:function(){return{label:"Colname Undefined",isDiscrete:!0,index:0,min:0,max:1,width:160,histogramHeight:80,scatterHeight:160,hoverValue:0,filter:{},filtersOpen:!1,statsOpen:!1,histogramBarData:[],scatterData:[]}},onrender:function(){var n=this;if(!this.get("isDiscrete")){this.scale=a.scale.linear(),this.yScale=a.scale.linear(),this.axis=a.svg.axis().orient("top").ticks(3),this.rAxis=a.svg.axis().orient("right").ticks(3),this.lAxis=a.svg.axis().orient("left").ticks(3),this.axis.scale(this.scale),this.rAxis.scale(this.yScale),this.lAxis.scale(this.yScale),this.axisSvg=a.select(this.el).select(".dc-ch-axis"),this.axisSvg.select(".ch-axis-g.bottom").append("line").attr("class","axis-hover-line").attr("x1",10).attr("y1",0).attr("x2",10).attr("y2",-24),this.observe("min max width",function(){this.get("isDiscrete")||(this.scale.domain([this.get("min"),this.get("max")]).range([0,this.get("width")]),this.yScale.domain([this.get("min"),this.get("max")]).range([this.get("width"),0]),this.axisSvg.select(".ch-axis-g.bottom").call(this.axis),this.axisSvg.select(".ch-axis-g.right").call(this.rAxis),this.axisSvg.select(".ch-axis-g.left").call(this.lAxis))});var t=this.get("histogram"),e=this.get("histogramMax"),r=this.get("histogramHeight");this.set("histogramBarData",t.map(function(t){return o.extend(t,{x0:n.scale(t.lower),x1:n.scale(t.upper),height:t.count/e*r})})),this.observe("hoverValue",function(t){var n=this.scale(t);this.axisSvg.select(".axis-hover-line").attr("x1",n-1).attr("x2",n-1)}),this.canvas=this.el.querySelector("canvas"),this.context=this.canvas.getContext("2d"),i(this.canvas,this.context,this.get("width"),this.get("scatterHeight")),this.observe("scatterData",function(t){var e=this.get("scatterHeight"),r=this.get("width"),n=this.canvas,i=this.context;i.clearRect(0,0,n.width,n.height),i.globalAlpha=.23,i.fillStyle="#1166B7",t.forEach(function(t,n){i.beginPath(),i.arc(t[1]*(r/100),(100-t[0])*(e/100),2.5,0,2*Math.PI,!1),i.fillStyle=t[2]?"red":"#1166B7",t[3]&&(i.fillStyle="purple"),i.globalAlpha=t[3]?1:t[2]?.28:.13,i.fill()})},{init:!1})}}});n.exports=u},{"../templates/col-header.hbs":29,"canvas-dpi-scaler":1,d3:2,lodash:16,ractive:20}],23:[function(t,n,e){var r=t("lodash");n.exports=function(t,n){return t.filter(function(e){return r.every(n,function(t,n){return t.toggled?t.toggled[e._values[n]]:e._values[n]>=t.gt&&e._values[n]<=t.lt})})}},{lodash:16}],24:[function(t,n,e){var l=t("lodash"),f=t("jStat").jStat,h=t("d3");n.exports=function(t,n,i){i=i||function(t,n){return""+n},l.isString(i)&&(i=l.property(i));var o,a,u,s,c=n.map(function(e,r){return u=l.map(t,e.accessor),"discrete"===e.type?l.extend(e,{ndx:r,uniqValues:l.uniq(u).sort()}):(e.min=l.min(u),e.max=l.max(u),l.extend(e,{ndx:r,mean:h.mean(u),median:h.median(u),sd:h.deviation(u),histogram:f.histogram(u,20).map(function(t,n){return{count:t,colNdx:r,lower:e.min+n/20*(e.max-e.min),upper:e.min+(n+1)/20*(e.max-e.min)}}),widthFn:function(t){return(t-e.min)/(e.max-e.min)*100}}))}),e=l.max(l(c).map("histogram").compact().flatten().map("count").value());e*=1.5;var r=t.map(function(e,r){return a=[],u=[],s=[],discreteNdx=[],sortValues=[],c.forEach(function(t,n){o=l.isString(t.accessor)?e[t.accessor]:t.accessor(e,r),u[n]=o,a[n]="discrete"===t.type?0:t.widthFn(o),s[n]=t.format?t.format(o):o,"discrete"===t.type&&(discreteNdx[n]=t.uniqValues.indexOf(o),t.sortOrder&&(sortValues[n]=t.sortOrder.indexOf(o)))}),l.extend(e,{ndx:r,_values:u,_sortValues:sortValues,_widths:a,_labels:s,_discreteNdx:discreteNdx,_rowLabel:i(e,r),_colorNdx:""})});return{columns:c,histogramMax:e,rows:r}}},{d3:2,jStat:3,lodash:16}],25:[function(t,n,e){"use strict";var r=t("smart-table-scroll"),o=(t("ractive"),t("lodash")),i=t("./data-parser"),a=t("./data-filter"),u=t("./manager"),s=t("./palette").light12,c={},l=function(t){if(!t.el)throw new Error("Need to pass `el` into Datacomb.");if(!t.data)throw new Error("Need to pass `data` into Datacomb.");if(!t.columns)throw new Error("Need to pass `columns` into Datacomb.");for(var n in c)this[n]=c[n];for(var n in t)this[n]=t[n];this.width=this.width||this.el.getBoundingClientRect().width-(20+12*(this.columns.length+1)),this.colWidth=this.width/(this.columns.length+1),this.groupByColNdx=-1,this.parsed=i(this.data,this.columns,this.labelAccessor),this.allRows=this.parsed.rows,this.pipelinedRows=this.allRows,this.initManager(),this.initTable()};l.prototype.initManager=function(){var o=this;this.manager=new u({el:this.el,data:{cols:this.parsed.columns,histogramMax:this.parsed.histogramMax,scatterArrays:[],colWidth:this.colWidth}}),this.manager.observe("filters",this.applyFilters.bind(this),{init:!1}),this.manager.on("*.sort-by-col",function(t,n,e){o.applySort(n,e)}),this.manager.on("*.show-scatter-plots",function(t,r){var i=o.parsed.columns[r];o.scatterNdx=r,this.set("scatterPlotNdx",r),this.set("scatterArrays",o.parsed.columns.map(function(n,e){return"discrete"===n.type?null:o.allRows.map(function(t){return[i.widthFn(t._values[r]),n.widthFn(t._values[e]),t.focused&&!t.filtered,t.hovered]})}))}),this.manager.on("*.focus-histogram",function(t,n,e,r){for(var i=0;i<o.allRows.length;i++)o.allRows[i]._values[n]<=r&&o.allRows[i]._values[n]>=e&&(o.allRows[i].focused=!0);o.allRows[o.currentHoverNdx].hovered=!1,o.table.updateData(o.getRows({force:!0}))}),this.manager.on("*.hover-histogram",function(t,n,e,r){for(var i=0;i<o.allRows.length;i++)o.allRows[i].histogramHover=o.allRows[i]._values[n]<=r&&o.allRows[i]._values[n]>=e;o.table.updateData(o.getRows({force:!0}))}),this.manager.observe("histogramsOpen",function(){for(var t=0;t<o.allRows.length;t++)o.allRows[t].histogramHover=!1;o.table.updateData(o.getRows({force:!0}))},{init:!1}),this.manager.observe("focusOnHover",function(t){t||(o.allRows[o.currentHoverNdx].hovered=!1,o.table.updateData(o.getRows()))},{init:!1}),this.manager.observe("groupByColNdx",function(t){o.table.updateData(o.getRows({groupByColNdx:t}))},{init:!1}),this.manager.observe("colorByColNdx",function(t){o.table.updateData(o.getRows({colorByColNdx:t}))},{init:!1}),this.manager.observe("hideUnfocused",function(t){o.table.updateData(o.getRows({hideUnfocused:t}))},{init:!1}),this.manager.on("focus-all",function(t){o.allRows.forEach(function(t){t.focused=!0}),o.table.updateData(o.getRows())}),this.manager.on("unfocus-all",function(t){o.allRows.forEach(function(t){t.focused=!1,t.hovered=!1,t.histogramHover=!1}),o.table.updateData(o.getRows())})},l.prototype.initTable=function(){var a=this;this.table=new r({el:this.el.querySelector(".dc-table"),data:this.allRows,availableNodes:1e3,heightFn:function(t){return t.hovered||t.focused||t.histogramHover?17:4},buildRow:function(e){var r,t=document.createElement("div"),i="<div class='dc-cell' style='width:"+a.colWidth+"px;' coltype='label'><div class='dc-label'>"+e._rowLabel+"</div></div>";return t.classList.add("dc-row"),t._dcndx=e.ndx,a.parsed.columns.forEach(function(t,n){"discrete"===t.type?(r=s[e._discreteNdx[n]%s.length],i+="<div class='dc-cell' style='width:"+a.colWidth+"px;' coltype='disc'><div class='dc-bar' style='background-color:"+r+";'></div><div class='dc-disc-val'>"+e._values[n]+"</div></div>"):i+="<div class='dc-cell' style='width:"+a.colWidth+"px;' coltype='cont'><div class='dc-bar' style='width:"+e._widths[n]+"%'></div><div class='dc-cont-val'>"+e._labels[n]+"</div></div>"}),t.innerHTML=i,t},updateRow:function(t,n){n._dcndx=t.ndx,n.childNodes[0].childNodes[0].textContent=t._rowLabel,t.hovered||t.histogramHover?n.setAttribute("dc-hover",""):n.removeAttribute("dc-hover"),t.hovered||t.focused||t.histogramHover?n.setAttribute("dc-expand",""):n.removeAttribute("dc-expand");for(var e=0;e<a.parsed.columns.length;e++)"discrete"===a.parsed.columns[e].type?(n.childNodes[e+1].childNodes[0].style.backgroundColor=s[t._discreteNdx[e]%s.length],n.childNodes[e+1].childNodes[1].textContent=t._values[e]):(n.childNodes[e+1].childNodes[0].style.width=t._widths[e]+"%",n.childNodes[e+1].childNodes[0].style.backgroundColor=t._colorNdx||0===t._colorNdx?s[t._colorNdx%s.length]:null,n.childNodes[e+1].childNodes[1].textContent=t._labels[e])}}),this.currentHoverNdx=0,this.isDragging=!1,this.table.el.addEventListener("mouseover",function(t){if(a.manager.get("focusOnHover")){for(var n=t.target;void 0===n._dcndx;){if(!n.parentNode)return;n=n.parentNode}a.allRows[a.currentHoverNdx].hovered=!1,a.allRows[n._dcndx].hovered=!0,a.currentHoverNdx=n._dcndx,a.manager.set("hoverRow",a.allRows[n._dcndx]),a.table.updateData(a.getRows()),t.buttons&&(a.allRows[n._dcndx].focused=!a.allRows[n._dcndx].focused)}}),this.table.el.addEventListener("mousedown",function(t){for(var n=t.srcElement;void 0===n._dcndx;){if(!n.parentNode)return;n=n.parentNode}a.dragStartNdx=n._dcndx}),this.table.el.addEventListener("mouseup",function(t){for(var n=t.srcElement;void 0===n._dcndx;){if(!n.parentNode)return;n=n.parentNode}a.focusRows(a.dragStartNdx,n._dcndx)}),this.focusRows=function(t,n){var e=Math.min(t,n),r=Math.max(t,n),i=!1;if(e===r)a.allRows[e].focused=!a.allRows[e].focused,i=!a.allRows[e].focused&&this.hideUnfocused;else for(var o=e;o<r;o++)a.allRows[o].filtered||(a.allRows[o].focused=!0);a.allRows[a.currentHoverNdx].hovered=!1,a.table.updateData(a.getRows(i?{force:!0}:null))}},l.prototype.getRows=function(t){var r=this;if(t&&(t.sort&&(this.allRows=o.sortBy(this.allRows,-1===t.sort.colNdx?"_rowLabel":this.parsed.columns[t.sort.colNdx].sortOrder?"_sortValues."+t.sort.colNdx:"_values."+t.sort.colNdx),t.sort.desc&&this.allRows.reverse()),void 0!==t.groupByColNdx&&(this.groupByColNdx=t.groupByColNdx),-1!==this.groupByColNdx&&(this.allRows=t.sort?o.sortByOrder(this.allRows,["_values."+this.groupByColNdx,"_values."+t.sort.colNdx],[!0,!t.sort.desc]):o.sortByOrder(this.allRows,["_values."+this.groupByColNdx],[!0])),void 0!==t.colorByColNdx&&(this.colorByColNdx=t.colorByColNdx),this.allRows.forEach(function(t,n){t.ndx=n,t._colorNdx=-1!==r.colorByColNdx?t._discreteNdx[r.colorByColNdx]:null,t.hovered=!1,t.filtered=!0}),this.filters=t.filters||this.filters,this.pipelinedRows=this.filters?a(this.allRows,this.filters):this.allRows,void 0!==t.hideUnfocused&&(this.hideUnfocused=t.hideUnfocused),this.hideUnfocused&&(this.pipelinedRows=this.pipelinedRows.filter(function(t){return t.focused}))),this.pipelinedRows.forEach(function(t){t.filtered=!1}),0<=this.scatterNdx){var i=r.parsed.columns[r.scatterNdx];this.manager.set("scatterArrays",r.parsed.columns.map(function(n,e){return"discrete"===n.type?null:r.allRows.map(function(t){return[i.widthFn(t._values[r.scatterNdx]),n.widthFn(t._values[e]),t.focused&&!t.filtered,t.hovered]})}))}return this.pipelinedRows},l.prototype.applySort=function(t,n){this.table.updateData(this.getRows({sort:{colNdx:t,desc:n}}))},l.prototype.applyFilters=function(t){this.table.updateData(this.getRows({filters:t}))},n.exports=l},{"./data-filter":23,"./data-parser":24,"./manager":26,"./palette":27,lodash:16,ractive:20,"smart-table-scroll":21}],26:[function(t,n,e){var r=t("ractive"),i=t("lodash"),o=(t("d3"),t("./col-header")),a=t("ractive-range-slider"),u=r.extend({template:t("../templates/datacomb.hbs"),partials:{colFilter:t("../templates/col-filter.hbs"),summaryStats:t("../templates/summary-stats.hbs")},components:{ColHeader:o,RangeSlider:a},data:function(){return{sortColNdx:null,sortDesc:!1,focusOnHover:!0,hideUnfocused:!1,filtersOpen:!1,statsOpen:!1,histogramsOpen:!1,hoverValues:[],cols:[],filters:[],groupByColNdx:-1,colorByColNdx:-1,scatterPlotNdx:-1}},computed:{discreteCols:function(){return i.filter(this.get("cols"),{type:"discrete"})}},onrender:function(){this.resetFilters=function(t){this.set("filters",t.map(function(t){if("discrete"!==t.type)return{gt:t.min,lt:t.max};var n={};return t.uniqValues.forEach(function(t){n[t]=!0}),{toggled:n}}))},this.observe("cols",this.resetFilters),this.on("*.reset-filters",function(){this.resetFilters(this.get("cols"))})}});n.exports=u},{"../templates/col-filter.hbs":28,"../templates/datacomb.hbs":30,"../templates/summary-stats.hbs":31,"./col-header":22,d3:2,lodash:16,ractive:20,"ractive-range-slider":19}],27:[function(t,n,e){n.exports={light12:["#CD5AD0","#80CE51","#4B3444","#97A4C0","#506032","#CEAE40","#BF4932","#6CCDB1","#BB4C82","#726ABE","#BC7E6D","#C1C896"],light8:["#A95CC5","#C36534","#7A87B5","#9AC347","#4C4335","#76C49B","#B34A72","#CAB098"]}},{}],28:[function(t,n,e){n.exports="\n{{#if type === 'discrete' }}\n  <ul class='toggle-list'>\n  {{#uniqValues:valNdx}}\n    <li>\n      <input type='checkbox' checked={{filters[colNdx].toggled[.]}} /> {{ . }}\n    </li>\n  {{/uniqValues}}\n  </ul>\n\n{{else}}\n  <div class='filter-text'>\n    <input type='text' value={{ filters[colNdx].gt }} />\n    to\n    <input type='text' value={{ filters[colNdx].lt }} />\n  </div>\n  <RangeSlider\n    width=160\n    lowerBound={{cols[colNdx].min}}\n    upperBound={{cols[colNdx].max}}\n    lower={{filters[colNdx].gt}}\n    upper={{filters[colNdx].lt}}\n    step={{ (cols[colNdx].max / cols[colNdx].min) / 100}} />\n{{/if}}\n"},{}],29:[function(t,n,e){n.exports="<div class='dc-col-header' style='width:{{width}}px;' {{#if isDiscrete}}discrete{{/if}}>\n  <h4>\n    {{label}}\n    <button class='col-action' on-click='sort-by-col:{{index}},false'>\n      {{#if isDiscrete || index === -1}}\n        <i class='fa fa-sort-alpha-asc'></i>\n      {{else}}\n        <i class='fa fa-sort-amount-asc'></i>\n      {{/if}}\n    </button>\n    <button class='col-action' on-click='sort-by-col:{{index}},true'>\n      {{#if isDiscrete }}\n        <i class='fa fa-sort-alpha-desc'></i>\n      {{else}}\n        <i class='fa fa-sort-amount-desc'></i>\n      {{/if}}\n    </button>\n    {{#if !isDiscrete }}\n      {{#if scatterPlotNdx === index}}\n        <button class='col-action' on-click='set(\"scatterPlotNdx\",-1)'>\n          <i class='fa fa-times-circle-o'></i>\n        </button>\n      {{else}}\n        <button class='col-action' on-click='show-scatter-plots:{{index}}'>\n          <i class='fa fa-circle-o'></i>\n        </button>\n      {{/if}}\n    {{/if}}\n  </h4>\n\n\n  \x3c!-- filters --\x3e\n  <div class='dc-filter' {{#if !filtersOpen }}hidden{{/if}}>\n    {{#if index === -1}}\n      <button class='dc-btn dc-warn' on-click='reset-filters'>\n        <i class='fa fa-close'></i>\n        Reset filters\n      </button>\n\n    {{elseif isDiscrete }}\n      <button on-click='set(\"filter.toggled.*\", true)' class='col-action'>All</button> / <button on-click='set(\"filter.toggled.*\", false)' class='col-action'>None</button>\n      <ul class='scroll-list'>\n      {{#uniqValues:valNdx}}\n        <li>\n          <input type='checkbox' checked={{filter.toggled[.]}} /> {{ . }}\n        </li>\n      {{/uniqValues}}\n      </ul>\n\n    {{else}}\n      <div class='filter-text'>\n        <input type='text' value={{ filter.gt }} />\n        to\n        <input type='text' value={{ filter.lt }} />\n      </div>\n      <RangeSlider\n        width={{ width}}\n        lowerBound={{min}}\n        upperBound={{max}}\n        lower={{filter.gt}}\n        upper={{filter.lt}}\n        step={{ (max / min) / 100}} />\n    {{/if}}\n  </div>\n\n  \x3c!-- summary stats --\x3e\n  <div {{#if !statsOpen }}hidden{{/if}}>\n    {{#if isDiscrete }}\n      {{#if false }}\n      <ul class='scroll-list'>\n      {{#uniqValues:valNdx}}\n        <li>\n          {{ label }}\n        </li>\n      {{/uniqValues}}\n      </ul>\n      {{/if}}\n    {{else}}\n      <ul class='stat-list'>\n        <li>Min: <b>{{ min.toFixed(2) }}</b></li>\n        <li>Max: <b>{{ max.toFixed(2) }}</b></li>\n        <li>Mean: <b>{{ mean.toFixed(2) }}</b></li>\n        <li>Med: <b>{{ median.toFixed(2) }}</b></li>\n        <li>Std Dev: <b>{{ sd.toFixed(2) }}</b></li>\n      </ul>\n    {{/if}}\n  </div>\n\n\n\n  \x3c!-- svg, canvas elements --\x3e\n  {{#if isDiscrete}}\n    <div class='disc-value'>{{hoverValue}}</div>\n  {{else}}\n  <canvas class='dc-col-scatter' width={{width}} height={{scatterHeight}} {{#if !scatterOpen}}hidden{{/if}}></canvas>\n    <svg class='dc-ch-axis dc-histogram' height='{{histogramsOpen ? 78 : 22}}' width='{{width}}'>\n        \x3c!-- histograms --\x3e\n        {{#if !isDiscrete }}\n        <g {{#if !histogramsOpen }}hidden{{/if}}>\n          {{#histogramBarData}}\n            <rect x={{x0}}\n                  y={{histogramHeight-height}}\n                  width={{x1-x0}}\n                  height={{height}}\n                  on-mouseover='hover-histogram:{{index}},{{lower}},{{upper}}'\n                  on-click='focus-histogram:{{index}},{{lower}},{{upper}}' />\n          {{/histogramBarData}}\n        </g>\n        {{/if}}\n\n        \x3c!-- axis --\x3e\n        <g class='ch-axis-g bottom' transform='translate(0,{{histogramsOpen ? 80 : 24}})'></g>\n        <g {{#if index !== scatterPlotNdx }}hidden{{/if}}>\n          <g class='ch-axis-g right' transform='translate(0,{{24-scatterHeight}})'></g>\n          <g class='ch-axis-g left' transform='translate({{width}},{{24-scatterHeight}})'></g>\n        </g>\n\n    </svg>\n  {{/if}}\n\n</div>\n"},{}],30:[function(t,n,e){n.exports="\x3c!--\nTop level template and DOM structure for Datacomb.\n--\x3e\n\n<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css\">\n\n{{#partial discreteColumnOptions}}\n  <option value='-1'>None</option>\n  {{#discreteCols}}\n    <option value={{ndx}}>{{label}}</option>\n  {{/discreteCols}}\n{{/partial}}\n\n<div class='dc-container'>\n  <div class='dc-top-controls'>\n    <label>\n      <input type='checkbox' checked='{{focusOnHover}}'>Focus On Hover\n    </label>\n    <label>\n      <input type='checkbox' checked='{{hideUnfocused}}'>Hide Unfocused\n    </label>\n    <button class='dc-btn'\n            on-click='toggle(\"filtersOpen\")'\n            {{#if filtersOpen}}opened{{/if}} >\n      <i class='fa fa-filter'></i>\n      {{#if filtersOpen}}Hide{{else}}Show{{/if}} Filters\n    </button>\n    <button class='dc-btn'\n            on-click='toggle(\"statsOpen\")'\n            {{#if statsOpen}}opened{{/if}} >\n      <i class='fa fa-list'></i>\n      {{#if statsOpen}}Hide{{else}}Show{{/if}} Summary Stats\n    </button>\n    <button class='dc-btn'\n            on-click='toggle(\"histogramsOpen\")'\n            {{#if histogramsOpen}}opened{{/if}} >\n      <i class='fa fa-bar-chart'></i>\n      {{#if histogramsOpen}}Hide{{else}}Show{{/if}} Histograms\n    </button>\n    <button class='dc-btn' on-click='focus-all'>\n      <i class='fa fa-arrows-v'></i>\n      Focus All\n    </button>\n    <button class='dc-btn' on-click='unfocus-all'>\n      <i class='fa fa-minus'></i>\n      Unfocus All\n    </button>\n\n    <label>Group By: </label>\n    <select value={{groupByColNdx}}>\n      {{>discreteColumnOptions}}\n    </select>\n\n    <label>Color By: </label>\n    <select value={{colorByColNdx}}>\n      {{>discreteColumnOptions}}\n    </select>\n  </div>\n\n  <ul class='dc-col-headers'>\n    <li>\n      <ColHeader label=\"Row Label\"\n        width={{ colWidth}}\n        index={{-1}}\n        filtersOpen={{filtersOpen}}\n        statsOpen={{statsOpen}}\n        hoverValue={{ hoverRow._rowLabel }} /></li>\n    {{#cols:colNdx}}\n      <li><ColHeader\n        width={{ colWidth}}\n        filtersOpen={{filtersOpen}}\n        statsOpen={{statsOpen}}\n        statsOpen={{statsOpen}}\n        scatterOpen={{scatterPlotNdx !== -1}}\n\n        scatterPlotNdx={{scatterPlotNdx}}\n        scatterHeight={{ colWidth }}\n        scatterData={{ scatterArrays[colNdx] }}\n\n        isDiscrete={{ type=='discrete' }}\n        min={{ cols[colNdx].min }}\n        max={{ cols[colNdx].max }}\n        label={{ label }}\n        index={{ colNdx }}\n        filter={{ filters[colNdx] }}\n        hoverValue={{ hoverRow._values[colNdx] }} /></li>\n    {{/cols}}\n  </ul>\n\n  <div class='dc-table'></div>\n</div>\n"},{}],31:[function(t,n,e){n.exports="{{#if type === 'discrete' }}\n  <ul class='toggle-list'>\n  {{#uniqValues:valNdx}}\n    <li>\n      {{ label }}\n    </li>\n  {{/uniqValues}}\n  </ul>\n\n{{else}}\n  <ul class='stat-list'>\n    <li>Min: {{ min.toFixed(2) }}</li>\n    <li>Max: {{ max.toFixed(2) }}</li>\n    <li>Mean: {{ mean.toFixed(2) }}</li>\n    <li>Med: {{ median.toFixed(2) }}</li>\n    <li>Std Dev: {{ sd.toFixed(2) }}</li>\n  </ul>\n{{/if}}\n"},{}]},{},[25])(25)});