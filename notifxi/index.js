/*! Logan Howlett - notifxi - v0.2.2 - 2013-08-24 */
var __slice=[].slice;!function(a){var b;return b=function(){function b(b,c){var d;d={autoNext:!1,checkEvery:5e3,autoCheck:!0,styles:{success:"alert-success",info:"alert-info","default":"alert-info",warn:"alert-warning",error:"alert-danger",extra:{}}},this.options=a.extend(!0,{},d,c),this.container=a(b),this.container.addClass("notifxi notifxi-container"),this.queued=new Array,this.notified=!1,this.history=new Array,this.container.children().remove(),this._start_timer()}return b.prototype._start_timer=function(){var a;return this.options.autoCheck===!1?!1:(a=this,this.timer=setInterval(function(){return a.options.autoNext?a.dismiss():a.showNext()},a.options.checkEvery))},b.prototype._stop_timer=function(){return this.options.autoCheck===!1?!1:clearTimeout(this.timer)},b.prototype._badge_update=function(){return this.notified===!0?this.queued.length>0?a(".notifxi-badge").html(this.queued.length):a(".notifxi-badge").html(""):void 0},b.prototype._build_wrapper=function(b,c){var d,e,f,g,h,i,j,k;return null==c?c=this.options.styles["default"]:null!=this.options.styles[c]&&(c=this.options.styles[c]),g=a(document.createElement("div")),d=a(document.createElement("span")),f=a(document.createElement("span")),e=a(document.createElement("a")),g.addClass(c),g.addClass("alert fade notifxi notifxi-destroy notifxi-alert"),g.css("cursor","pointer"),null!=(null!=(h=this.options.styles.extra)?h.alert:void 0)&&g.addClass(this.options.styles.extra.alert),d.addClass("badge notifxi notifxi-badge"),d.css("margin-right","5px"),d.html(this.queued.length),null!=(null!=(i=this.options.styles.extra)?i.badge:void 0)&&d.addClass(this.options.styles.extra.badge),f.addClass("notifxi notifxi-content"),f.html(b),null!=(null!=(j=this.options.styles.extra)?j.content:void 0)&&f.addClass(this.options.styles.extra.content),e.addClass("close notifxi  notifxi-close"),e.attr("data-dismiss","alert"),e.attr("href","#"),e.html("&times;"),null!=(null!=(k=this.options.styles.extra)?k.close:void 0)&&e.addClass(this.options.styles.extra.close),g.html(f),g.prepend(d),g.append(e),g},b.prototype.q=function(a,b){return null==a||0===a.length?!1:(this.queued.push({msg:a,style:b}),this._badge_update(),this.notified===!1?this.showNext():void 0)},b.prototype.queue=function(a,b){return q(a,b)},b.prototype.showNext=function(){var a,b,c,d;return this.queued.length>0&&this.notified===!1?(b=this.queued[0].msg,d=this.queued[0].style,a=this._build_wrapper(b,d),this.container.append(a),setTimeout(function(){return a.addClass("in",500)}),c=this,a.click(function(){return c.dismiss()}),this.history.push(this.queued.shift()),this.notified=!0,this._badge_update()):void 0},b.prototype.dismiss=function(){var b;return a(".notifxi-alert").alert("close"),a(".notifxi-alert").css("cursor","default"),this.notified=!1,b=this,this._stop_timer(),setTimeout(function(){return b.showNext(),b._start_timer()},1e3)},b.prototype.destroy=function(){var b;return a(".notifxi-destroy").remove(),this._stop_timer(),b=a(".notifxi-container").removeClass("notifxi notifxi-container").removeData("notifxi")},b}(),a.fn.extend({notifxi:function(){var c,d;return d=arguments[0],c=2<=arguments.length?__slice.call(arguments,1):[],this.each(function(){var e,f;return e=a(this),f=e.data("notifxi"),f||e.data("notifxi",f=new b(this,d)),"string"==typeof d?null==f[d]?!1:"function"!=typeof f[d]?!1:f[d].apply(f,c):void 0})}})}(window.jQuery,window);