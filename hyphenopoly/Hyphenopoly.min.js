((w,o)=>{"use strict";const E=(e=>{const n=new Map([["afterElementHyphenation",[]],["beforeElementHyphenation",[]],["engineReady",[]],["error",[e=>{e.runDefault&&w.console.warn(e)}]],["hyphenopolyEnd",[]],["hyphenopolyStart",[]]]);if(e.hev){const w=new Map(o.entries(e.hev));n.forEach((e,t)=>{w.has(t)&&e.unshift(w.get(t))})}return{fire:(e,t)=>{t.runDefault=!0,t.preventDefault=()=>{t.runDefault=!1},n.get(e).forEach(e=>{e(t)})}}})(Hyphenopoly);(e=>{function r(t){const n=new Map;function r(e){return(n.has(e)?n:t).get(e)}return new Proxy(t,{get:(e,t)=>"set"===t?function(e,t){n.set(e,t)}:"get"===t?r:r(t),ownKeys:()=>[...new Set([...t.keys(),...n.keys()])]})}const a=r(new Map([["defaultLanguage","en-us"],["dontHyphenate",r(new Map("abbr,acronym,audio,br,button,code,img,input,kbd,label,math,option,pre,samp,script,style,sub,sup,svg,textarea,var,video".split(",").map(e=>[e,!0])))],["dontHyphenateClass","donthyphenate"],["exceptions",new Map],["keepAlive",!0],["normalize",!1],["processShadows",!1],["safeCopy",!0],["substitute",new Map],["timeout",1e3]]));o.entries(e.s).forEach(([n,e])=>{switch(n){case"selectors":a.set("selectors",o.keys(e)),o.entries(e).forEach(([e,t])=>{const n=r(new Map([["compound","hyphen"],["hyphen","­"],["leftmin",0],["leftminPerLang",0],["minWordLength",6],["mixedCase",!0],["orphanControl",1],["rightmin",0],["rightminPerLang",0]]));o.entries(t).forEach(([e,t])=>{"object"==typeof t?n.set(e,new Map(o.entries(t))):n.set(e,t)}),a.set(e,n)});break;case"dontHyphenate":case"exceptions":o.entries(e).forEach(([e,t])=>{a.get(n).set(e,t)});break;case"substitute":o.entries(e).forEach(([e,t])=>{a.substitute.set(e,new Map(o.entries(t)))});break;default:a.set(n,e)}}),e.c=a})(Hyphenopoly),(c=>{const h=c.c;let r=null;function p(e,t="",n=!0){return(e=e.closest("[lang]:not([lang=''])"))&&e.lang?e.lang.toLowerCase():t||(n?r:null)}function a(e=null,t=null){const s=function(){const r=new Map,a=[0];return{add:function(e,t,n){n={element:e,selector:n};return r.has(t)||r.set(t,[]),r.get(t).push(n),a[0]+=1,n},counter:a,list:r,rem:function(e){var t;r.has(e)&&(t=r.get(e).length,r.delete(e),a[0]-=t,0===a[0]&&(E.fire("hyphenopolyEnd",{msg:"hyphenopolyEnd"}),h.keepAlive||(window.Hyphenopoly=null)))}}}(),n=(()=>{let t="."+h.dontHyphenateClass;return o.getOwnPropertyNames(h.dontHyphenate).forEach(e=>{h.dontHyphenate.get(e)&&(t+=","+e)}),t})(),l=h.selectors.join(",")+","+n;function i(e,t,n,r=!1){const a=p(e,t),o=c.cf.langs.get(a);"H9Y"===o?(s.add(e,a,n),!r&&h.safeCopy&&e.addEventListener("copy",e=>{e.preventDefault();const t=w.getSelection(),n=document.createElement("div");n.appendChild(t.getRangeAt(0).cloneContents()),e.clipboardData.setData("text/plain",t.toString().replace(/­/g,"")),e.clipboardData.setData("text/html",n.innerHTML.replace(/­/g,""))},!0)):o||"zxx"===a||E.fire("error",Error(`Element with '${a}' found, but '${a}.wasm' not loaded. Check language tags!`)),e.childNodes.forEach(e=>{1!==e.nodeType||e.matches(l)||i(e,a,n,!0)})}function r(e){h.selectors.forEach(t=>{e.querySelectorAll(t).forEach(e=>{i(e,p(e),t,!1)})})}return null===e?(h.processShadows&&w.document.querySelectorAll("*").forEach(e=>{e.shadowRoot&&r(e.shadowRoot)}),r(w.document)):i(e,p(e),t),s}E.fire("hyphenopolyStart",{msg:"hyphenopolyStart"});const u=new Map;const g=new Map,f=new Map;function d(n,r,e){const a=c.languages.get(n),o=h.get(r),s=o.minWordLength,l=(()=>{var e=n+s;if(f.has(e))return f.get(e);var t=RegExp(`[${a.alphabet}a-z̀-ͯ҃-҇ß-öø-þāăąćĉčďđēėęěĝğģĥīįıĵķļľłńņňōőœŕřśŝşšťūŭůűųźżžſǎǐǒǔǖǘǚǜșțʼΐά-ώϐϣϥϧϩϫϭϯϲа-яё-ќўџґүөա-օևअ-ऌएऐओ-नप-रलळव-हऽॠॡঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹઅ-ઋએઐઓ-નપ-રલળવ-હઽૠଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହୠୡஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡഅ-ഌഎ-ഐഒ-നപ-ഹൠൡൺ-ൿก-ฮะาำเ-ๅა-ჰሀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏḍḷṁṃṅṇṭἀ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾲ-ᾴᾶᾷῂ-ῄῆῇῒΐῖῗῢ-ῧῲ-ῴῶῷⲁⲃⲅⲇⲉⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⳉⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮ­​-‍-]{${s},}`,"gui");return f.set(e,t),t})();function t(e){let t=(e=h.normalize?e.normalize("NFC"):e).replace(l,function r(a,o,s){var e=o+"-"+s;if(u.has(e))return u.get(e);const l=h.get(s);function t(e){let t=a.cache.get(s).get(e);return t||(t=a.exc.has(e)?a.exc.get(e).replace(/-/g,l.hyphen):!l.mixedCase&&[...e].map(e=>e===e.toLowerCase()).some((e,t,n)=>e!==n[0])?e:(-1===e.indexOf("-")?function(e){if(61<e.length)E.fire("error",Error("Found word longer than 61 characters"));else if(!a.reNotAlphabet.test(e))return a.hyphenate(e,l.hyphen.charCodeAt(0),l.leftminPerLang.get(o),l.rightminPerLang.get(o));return e}:function(e){let t=null,n=null;return e="auto"===l.compound||"all"===l.compound?(n=r(a,o,s),t=e.split("-").map(e=>e.length>=l.minWordLength?n(e):e),"auto"===l.compound?t.join("-"):t.join("-​")):e.replace("-","-​")})(e),a.cache.get(s).set(e,t)),t}return a.cache.set(s,new Map),u.set(e,t),t}(a,n,r));return 1!==o.orphanControl&&(t=t.replace(/(\u0020*)(\S+)(\s*)$/,function(e){if(g.has(e))return g.get(e);const a=h.get(e);function t(e,t,n,r){return(t=3===a.orphanControl&&" "===t?" ":t)+n.replace(RegExp(a.hyphen,"g"),"")+r}return g.set(e,t),t}(r))),t}let i=null;return"string"==typeof e?i=t(e):e instanceof HTMLElement&&(e=e,E.fire("beforeElementHyphenation",{el:e,lang:n}),e.childNodes.forEach(e=>{3===e.nodeType&&/\S/.test(e.data)&&e.data.length>=s&&(e.data=t(e.data))}),--c.res.els.counter[0],E.fire("afterElementHyphenation",{el:e,lang:n})),i}function m(t,e){const n=e.list.get(t);n?n.forEach(e=>{d(t,e.selector,e.element)}):E.fire("error",Error(`Engine for language '${t}' loaded, but no elements found.`)),0===e.counter[0]&&(w.clearTimeout(c.timeOutHandler),c.hide(0,null),E.fire("hyphenopolyEnd",{msg:"hyphenopolyEnd"}),h.keepAlive||(window.Hyphenopoly=null))}c.unhyphenate=()=>(c.res.els.list.forEach(e=>{e.forEach(e=>{const t=e.element.firstChild;t.data=t.data.replace(RegExp(h[e.selector].hyphen,"g"),"")})}),Promise.resolve(c.res.els));const y=(()=>{const t=new TextDecoder("utf-16le");return e=>t.decode(e)})();function e(t,n){const i=window.WebAssembly;t.w.then(e=>e.ok?i.instantiateStreaming&&"application/wasm"===e.headers.get("Content-Type")?i.instantiateStreaming(e):e.arrayBuffer().then(e=>i.instantiate(e)):Promise.reject(Error(`File ${n}.wasm can't be loaded from ${c.paths.patterndir}`))).then(function(e){const s=e.instance.exports;let l=i.Global?s.lct.value:s.lct;var a,o;l=(a=l,o=s,h.substitute.has(n)&&h.substitute.get(n).forEach((e,t)=>{const n=t.toUpperCase(),r=n===t?0:n.charCodeAt(0);a=o.subst(t.charCodeAt(0),r,e.charCodeAt(0))}),a),t.l.forEach(e=>{var n,t,r,a,o;n=e,t=function(a,o){const s=new Uint16Array(a,0,64);return(e,t,n,r)=>{s.set([46,...[...e].map(e=>e.charCodeAt(0)),46,0]);t=o(n,r,t);return e=0<t?y(new Uint16Array(a,0,t)):e}}(s.mem.buffer,s.hyphenate),e=y(new Uint16Array(s.mem.buffer,1280,l)),r=i.Global?s.lmi.value:s.lmi,a=i.Global?s.rmi.value:s.rmi,h.selectors.forEach(e=>{const t=h.get(e);0===t.leftminPerLang&&t.set("leftminPerLang",new Map),0===t.rightminPerLang&&t.set("rightminPerLang",new Map),t.leftminPerLang.set(n,Math.max(r,t.leftmin,Number(t.leftminPerLang.get(n))||0)),t.rightminPerLang.set(n,Math.max(a,t.rightmin,Number(t.rightminPerLang.get(n))||0))}),c.languages||(c.languages=new Map),e=e.replace(/\\*-/g,"\\-"),c.languages.set(n,{alphabet:e,cache:new Map,exc:function(e){let t="";return h.exceptions.has(e)&&(t=h.exceptions.get(e)),h.exceptions.has("global")&&(""===t?t=h.exceptions.get("global"):t+=", "+h.exceptions.get("global")),""===t?new Map:new Map(t.split(", ").map(e=>[e.replace(/-/g,""),e]))}(n),hyphenate:t,ready:!0,reNotAlphabet:RegExp(`[^${e}]`,"i")}),c.hy6ors.get(n).resolve((o=n,(e,t=".hyphenate")=>("string"!=typeof e&&E.fire("error",Error("This use of hyphenators is deprecated. See https://mnater.github.io/Hyphenopoly/Hyphenators.html")),d(o,t,e)))),E.fire("engineReady",{lang:n}),c.res.els&&m(n,c.res.els)})},e=>{E.fire("error",e),c.res.els.rem(n)})}c.main=()=>{c.res.DOM.then(()=>{r=p(w.document.documentElement,"",!1),r||""===h.defaultLanguage||(r=h.defaultLanguage);const n=a();c.res.els=n,n.list.forEach((e,t)=>{c.languages&&c.languages.has(t)&&c.languages.get(t).ready&&m(t,n)})}),c.res.he.forEach(e),Promise.all([...c.hy6ors.entries()].reduce((e,t)=>"HTML"!==t[0]?e.concat(t[1]):e,[]).concat(c.res.DOM)).then(()=>{c.hy6ors.get("HTML").resolve((e,t=".hyphenate")=>(a(e,t).list.forEach((e,t)=>{e.forEach(e=>{d(t,e.selector,e.element)})}),null))},e=>{E.fire("error",e)})},c.main()})(Hyphenopoly)})(window,Object);