!function(e,n){"object"===typeof exports&&"undefined"!==typeof module?n(exports,require("inferno"),require("inferno-extras")):"function"===typeof define&&define.amd?define(["exports","inferno","inferno-extras"],n):n(((e="undefined"!==typeof globalThis?globalThis:e||self).Inferno=e.Inferno||{},e.Inferno.DevTools=e.Inferno.DevTools||{}),e.Inferno,e.Inferno)}(this,(function(e,n,r){"use strict";function o(e,n){var r={};if(e)for(var o in e)r[o]=e[o];if(n)for(var t in n)r[t]=n[t];return r}var t,d,i=!1,l=0,f=!1;function u(e){return{key:e.key,props:e.props,ref:e.ref,type:e.type}}function a(e){if(null===e)return!0;var n=document.body,r=e;do{if(null===(r=r.parentNode))return!0}while(r!==n);return!1}function c(e,n){(4&e.flags)>0?h(e.children?e.children.$LI:null,n._renderedComponent,n):(8&e.flags)>0?h(e.children,n._renderedComponent,n):m(e.childFlags,e.children,n)}function s(e,n){var r=(1521&e.flags)>0?function(e,n){var r=e.flags;if((512&r)>0)return null;var t,d=n?n._renderedChildren:null,i=(16&r)>0||0!==(16&e.childFlags),l=e.childFlags;if(1===l)t=null;else if(12&l){t=[];for(var f=0;f<e.children.length;++f)t.push(s(e.children[f],d?d[f]:null))}else 2===l&&(t=[s(e.children,d?d[0]:d)]);return{_currentElement:(16&r)>0?e.children+"":{props:e.className?o(e.props,{className:e.className}):e.props,type:1024&r?"InfernoPortal":e.type},_renderedChildren:t,_stringText:i?e.children+"":null,vNode:e}}(e,n):function(e,n){var r=e.flags,t=(4&r)>0?e.children:e.type,d={_currentElement:u(e),_instance:t,props:e.props,state:t&&t.state,vNode:e};if(!n){if(t&&t.forceUpdate){var l=t.forceUpdate.bind(t);t.forceUpdate=d.forceUpdate=function(n){if(!f)return;if(d.props=e.props=o(d.props,d._currentElement.props),!i&&!t.$BR&&!t.QU)return i=!0,l(n),c(t.$LI,d._renderedComponent),void(i=!1);l(n)}}if(t&&t.setState){var a=t.setState.bind(t);t.setState=d.setState=function(e,n){if(!f)return;if(!i&&!t.$BR&&!t.QU)return i=!0,a(e,n),c(t.$LI,d._renderedComponent),void(i=!1);a(e,n)}}}if((14&r)>0){var p=(4&r)>0?e.children?e.children.$LI:null:e.children;p&&(d._renderedComponent=s(p,n?n._renderedComponent:null))}return d}(e,n);if(n)return o(n,r);return r}function p(){return"."+l++}function _(e){if(!e||null===e._instance)return;if(t.mountComponent(e),e._renderedComponent)_(e._renderedComponent);else if(e._renderedChildren)for(var n=0;n<e._renderedChildren.length;++n)_(e._renderedChildren[n])}function m(e,n,r){var o,d=r._renderedChildren,i=d?d.length:0;switch(e){case 2:if(h(n,d?d[0]:null,r),i>1)for(o=1;o<i;++o)t.unmountComponent(d[o]);break;case 16:r._stringText=n+"";break;case 8:case 4:var l=n.length,f=l>i?i:l;for(o=0;o<f;++o)h(n[o],d[o],r,o);if(i<l)for(o=f;o<l;++o){var u=s(n[o]);d||(d=r._renderedChildren=[]),d.push(u),_(u)}else if(i>l)for(o=f;o<i;++o)t.unmountComponent(d.pop());break;case 1:for(o=0;o<i;++o)t.unmountComponent(d[o]);r._renderedChildren=null}}function v(e){if(!(16384&e.flags))return!1;var r=n.findDOMfromVNode(e,!0);if(!r)return!1;var o=r.parentNode;if(!o)return!1;return Boolean(o&&o.$V===e)}function h(e,n,r,o){if(!n&&e)return void C(e,r,o);if(n&&e){var d=n.vNode;e.type===d.type&&e.key===d.key?((16&e.flags)>0&&n._stringText?(n._currentElement=e.children+"",n._stringText=e.children+""):(4&e.flags)>0?h(e.children?e.children.$LI:null,n._renderedComponent,n):(8&e.flags)>0?h(e.children,n._renderedComponent,n):m(e.childFlags,e.children,n),n.vNode=e,null!==n._instance&&t.receiveComponent(n)):(t.unmountComponent(n),C(e,r,o))}else!e&&n&&(r._renderedChildren?r._renderedChildren=[]:r._renderedComponent&&(r._renderedComponent=null),t.unmountComponent(n))}function C(e,n,r){var o,t=s(e);n&&(n._renderedComponent?n._renderedComponent=t:void 0!==(o=r)&&null!==o?n._renderedChildren[r]=t:n._renderedChildren?n._renderedChildren.splice(0,n._renderedChildren.length-1,t):n._renderedChildren=[t]),_(t)}e.initDevTools=function(){if("undefined"===typeof window.__REACT_DEVTOOLS_GLOBAL_HOOK__)return;window.__REACT_DEVTOOLS_GLOBAL_HOOK__.inject(function(){var e={getNodeFromInstance:function(e){return r.findDOMNode(e.vNode)},getClosestInstanceFromNode:function(e){for(;e&&!e.$V;)e=e.parentNode;return e?s(e.$V):null}},o=Object.create(null);d={_instancesByReactRootID:o,_renderNewRootComponent:function(e){return e}},t={mountComponent:function(e){return e},performUpdateIfNecessary:function(e){return e},receiveComponent:function(e){return e},unmountComponent:function(e){return e}};var i=n.options.renderComplete;function l(e){if(e.source!==window||!e.data||"react-devtools-content-script"!==e.data.source||!e.data.payload)return;var n=e.data.payload.type;"resume"===n||"callback"===n&&!f?(f=!0,function(e){for(var n=document.body.querySelectorAll("*"),r=0;r<n.length;++r){var o=n[r].$V;o&&v(o)&&(e[p()]=s(o))}}(o)):"pause"===n&&(f=!1,o=Object.create(null))}return n.options.renderComplete=function(e,l){if(!f)return;if(null!==(g=e)&&!1!==g&&!0!==g&&void 0!==g){var u,c;if(l.$V){for(u in o){var m=o[u],v=n.findDOMfromVNode(m.vNode,!0);if(a(v)){t.unmountComponent(m),delete o[u];break}if(v===r.findDOMNode(e))return void h(e,m)}(c=s(e))._rootNodeID=p(),o[c._rootNodeID]=c,_(c),d._renderNewRootComponent(c)}else if(a(r.findDOMNode(e)))for(u in o){var C=o[u];if(a(r.findDOMNode(C.vNode)))return t.unmountComponent(C),void delete o[u]}i&&i(e,l)}var g},window.addEventListener("message",l),{ComponentTree:e,Mount:d,Reconciler:t,_listener:l}}())},Object.defineProperty(e,"__esModule",{value:!0})}));
