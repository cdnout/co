!function(e){var t=e.event,i=t.special.drop,a=i.add,n=i.teardown;i.noBubble=!1,i.livekey="livedrop",i.add=function(n){a.apply(this,arguments);var d=e.data(this,i.datakey);!d.live&&n.selector&&(d.live=!0,t.add(this,"dropinit."+i.livekey,i.delegate))},i.teardown=function(){n.apply(this,arguments);var a=e.data(this,i.datakey)||{};a.live&&(t.remove(this,"dropinit",i.delegate),a.live=!1)},i.delegate=function(a,n){var d,r=[],o=e.data(this,"events")||{};return e.each(o||[],function(n,o){0===n.indexOf("drop")&&e.each(o,function(n,o){(d=e(a.currentTarget).find(o.selector)).length&&d.each(function(){t.add(this,o.origType+"."+i.livekey,o.origHandler||o.handler,o.data),e.inArray(this,r)<0&&r.push(this)})})}),n&&t.add(n.drag,"dragend."+i.livekey,function(){e.each(r.concat(this),function(){t.remove(this,"."+i.livekey)})}),!!r.length&&e(r)}}(jQuery);