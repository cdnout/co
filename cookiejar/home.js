var CookieJar=Class.create();CookieJar.prototype={prependString:"__CJ_",initialize:function(e){if(this.options={expires:3600,path:"",domain:"",secure:""},Object.extend(this.options,e||{}),""!=this.options.expires){var t=new Date;t=new Date(t.getTime()+1e3*this.options.expires),this.options.expires="; expires="+t.toGMTString()}""!=this.options.path&&(this.options.path="; path="+escape(this.options.path)),""!=this.options.domain&&(this.options.domain="; domain="+escape(this.options.domain)),"secure"==this.options.secure?this.options.secure="; secure":this.options.secure=""},put:function(e,t){e=this.prependString+e,cookie=this.options;var i=typeof t;switch(i){case"undefined":case"function":case"unknown":return!1;case"boolean":case"string":case"number":t=String(t.toString())}var o=e+"="+escape(Object.toJSON(t));try{document.cookie=o+cookie.expires+cookie.path+cookie.domain+cookie.secure}catch(s){return!1}return!0},set:function(e,t){this.put(e,t)},remove:function(e){e=this.prependString+e,cookie=this.options;try{var t=new Date;t.setTime(t.getTime()-36e5);var i="; expires="+t.toGMTString();document.cookie=e+"="+i+cookie.path+cookie.domain+cookie.secure}catch(o){return!1}return!0},get:function(e){e=this.prependString+e;var t=document.cookie.match(e+"=(.*?)(;|$)");return t?unescape(t[1]).evalJSON():null},empty:function(){keys=this.getKeys(),size=keys.size();for(var e=0;e<size;e++)this.remove(keys[e])},getPack:function(){for(pack={},keys=this.getKeys(),size=keys.size(),i=0;i<size;i++)pack[keys[i]]=this.get(keys[i]);return pack},getKeys:function(){for(keys=$A(),keyRe=/[^=; ]+(?=\=)/g,str=document.cookie,CJRe=new RegExp("^"+this.prependString);void 0!=(match=keyRe.exec(str));)CJRe.test(match[0].strip())&&keys.push(match[0].strip().gsub(CJRe,""));return keys}};