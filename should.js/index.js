!function(){"use strict";var o={NUMBER:"number",UNDEFINED:"undefined",STRING:"string",BOOLEAN:"boolean",OBJECT:"object",FUNCTION:"function",NULL:"null",ARRAY:"array",REGEXP:"regexp",DATE:"date",ERROR:"error",ARGUMENTS:"arguments",SYMBOL:"symbol",ARRAY_BUFFER:"array-buffer",TYPED_ARRAY:"typed-array",DATA_VIEW:"data-view",MAP:"map",SET:"set",WEAK_SET:"weak-set",WEAK_MAP:"weak-map",PROMISE:"promise",BUFFER:"buffer",HTML_ELEMENT:"html-element",HTML_ELEMENT_TEXT:"html-element-text",DOCUMENT:"document",WINDOW:"window",FILE:"file",FILE_LIST:"file-list",BLOB:"blob",HOST:"host",XHR:"xhr",SIMD:"simd"};function s(t,e,n){if(!t)throw new Error("Type class must be initialized at least with `type` information");this.type=t,this.cls=e,this.sub=n}s.prototype={toString:function(t){t=t||";";var e=[this.type];return this.cls&&e.push(this.cls),this.sub&&e.push(this.sub),e.join(t)},toTryTypes:function(){var t=[];return this.sub&&t.push(new s(this.type,this.cls,this.sub)),this.cls&&t.push(new s(this.type,this.cls)),t.push(new s(this.type)),t}};var c=Object.prototype.toString;function t(){this.checks=[]}t.prototype={add:function(t){return this.checks.push(t),this},addBeforeFirstMatch:function(t,e){var n=this.getFirstMatch(t);n?this.checks.splice(n.index,0,e):this.add(e)},addTypeOf:function(n,r){return this.add(function(t,e){if(e===n)return new s(r)})},addClass:function(r,a,i){return this.add(function(t,e,n){if(n===r)return new s(o.OBJECT,a,i)})},getFirstMatch:function(t){for(var e=typeof t,n=c.call(t),r=0,a=this.checks.length;r<a;r++){var i=this.checks[r].call(this,t,e,n);if(void 0!==i)return{result:i,func:this.checks[r],index:r}}},getType:function(t){var e=this.getFirstMatch(t);return e&&e.result}};var e=new t;function h(t){return e.getType(t)}function u(t){for(var e=arguments,n=1,r=e.length;n<r;n++)t=t.replace(/%s/,e[n]);return t}e.addTypeOf(o.NUMBER,o.NUMBER).addTypeOf(o.UNDEFINED,o.UNDEFINED).addTypeOf(o.STRING,o.STRING).addTypeOf(o.BOOLEAN,o.BOOLEAN).addTypeOf(o.FUNCTION,o.FUNCTION).addTypeOf(o.SYMBOL,o.SYMBOL).add(function(t){if(null===t)return new s(o.NULL)}).addClass("[object String]",o.STRING).addClass("[object Boolean]",o.BOOLEAN).addClass("[object Number]",o.NUMBER).addClass("[object Array]",o.ARRAY).addClass("[object RegExp]",o.REGEXP).addClass("[object Error]",o.ERROR).addClass("[object Date]",o.DATE).addClass("[object Arguments]",o.ARGUMENTS).addClass("[object ArrayBuffer]",o.ARRAY_BUFFER).addClass("[object Int8Array]",o.TYPED_ARRAY,"int8").addClass("[object Uint8Array]",o.TYPED_ARRAY,"uint8").addClass("[object Uint8ClampedArray]",o.TYPED_ARRAY,"uint8clamped").addClass("[object Int16Array]",o.TYPED_ARRAY,"int16").addClass("[object Uint16Array]",o.TYPED_ARRAY,"uint16").addClass("[object Int32Array]",o.TYPED_ARRAY,"int32").addClass("[object Uint32Array]",o.TYPED_ARRAY,"uint32").addClass("[object Float32Array]",o.TYPED_ARRAY,"float32").addClass("[object Float64Array]",o.TYPED_ARRAY,"float64").addClass("[object Bool16x8]",o.SIMD,"bool16x8").addClass("[object Bool32x4]",o.SIMD,"bool32x4").addClass("[object Bool8x16]",o.SIMD,"bool8x16").addClass("[object Float32x4]",o.SIMD,"float32x4").addClass("[object Int16x8]",o.SIMD,"int16x8").addClass("[object Int32x4]",o.SIMD,"int32x4").addClass("[object Int8x16]",o.SIMD,"int8x16").addClass("[object Uint16x8]",o.SIMD,"uint16x8").addClass("[object Uint32x4]",o.SIMD,"uint32x4").addClass("[object Uint8x16]",o.SIMD,"uint8x16").addClass("[object DataView]",o.DATA_VIEW).addClass("[object Map]",o.MAP).addClass("[object WeakMap]",o.WEAK_MAP).addClass("[object Set]",o.SET).addClass("[object WeakSet]",o.WEAK_SET).addClass("[object Promise]",o.PROMISE).addClass("[object Blob]",o.BLOB).addClass("[object File]",o.FILE).addClass("[object FileList]",o.FILE_LIST).addClass("[object XMLHttpRequest]",o.XHR).add(function(t){if(typeof Promise===o.FUNCTION&&t instanceof Promise||typeof t.then===o.FUNCTION)return new s(o.OBJECT,o.PROMISE)}).add(function(t){if("undefined"!=typeof Buffer&&t instanceof Buffer)return new s(o.OBJECT,o.BUFFER)}).add(function(t){if("undefined"!=typeof Node&&t instanceof Node)return new s(o.OBJECT,o.HTML_ELEMENT,t.nodeName)}).add(function(t){if(t.Boolean===Boolean&&t.Number===Number&&t.String===String&&t.Date===Date)return new s(o.OBJECT,o.HOST)}).add(function(){return new s(o.OBJECT)}),h.checker=e,h.TypeChecker=t,h.Type=s,Object.keys(o).forEach(function(t){h[t]=o[t]});var l=Object.prototype.hasOwnProperty;function a(t,e,n,r){this.a=t,this.b=e,this.reason=n,this.path=r}function p(t){return t.type+(t.cls?"("+t.cls+(t.sub?" "+t.sub:"")+")":"")}var n="A is not equal to B",f="%s has no key %s",d="Set/Map missing key %s",i={checkProtoEql:!0,checkSubType:!0,plusZeroAndMinusZeroEqual:!0,collectAllFails:!1};function y(t,e,n,r){e[t]="boolean"!=typeof n[t]?r[t]:n[t]}var b="_check_";function m(t,e,n,r){y("checkProtoEql",this,t=t||{},i),y("plusZeroAndMinusZeroEqual",this,t,i),y("checkSubType",this,t,i),y("collectAllFails",this,t,i),this.a=e,this.b=n,this._meet=t._meet||[],this.fails=t.fails||[],this.path=r||[]}function g(t){this.name="ShortcutError",this.message="fail fast",this.fail=t}function r(t,e){for(var n=t.keys(),r=n.next();!r.done;r=n.next()){var a=r.value,i=e.has(a);if(this.collectFail(!i,u(d,a)),i){var o=e.get(a);E(t.get(a),o,this)}}}function T(t,e){for(var n=t.keys(),r=n.next();!r.done;r=n.next()){var a=r.value,i=e.has(a);this.collectFail(!i,u(d,a))}}function E(t,e,n){return new m(n,t,e).check()}g.prototype=Object.create(Error.prototype),m.checkStrictEquality=function(t,e){this.collectFail(t!==e,n)},m.add=function(t,e,n,r){var a=Array.prototype.slice.call(arguments);r=a.pop(),m.prototype[b+a.join("_")]=r},m.prototype={check:function(){try{this.check0()}catch(t){if(t instanceof g)return[t.fail];throw t}return this.fails},check0:function(){var t=this.a,e=this.b;if(t===e)return this.collectFail(0===t&&1/t!=1/e&&!this.plusZeroAndMinusZeroEqual,"+0 is not equal to -0");var n=h(t),r=h(e);if(n.type!==r.type||n.cls!==r.cls||n.sub!==r.sub)return this.collectFail(!0,u("A has type %s and B has type %s",p(n),p(r)));var a=n.type,i=n.type;n.cls&&(a+="_"+n.cls,i+="_"+n.cls),n.sub&&(i+="_"+n.sub),(this[b+i]||this[b+a]||this[b+n.type]||this.defaultCheck).call(this,this.a,this.b)},collectFail:function(t,e,n){if(t){var r=new a(this.a,this.b,e,this.path);if(r.showReason=!!n,this.fails.push(r),!this.collectAllFails)throw new g(r)}},checkPlainObjectsEquality:function(t,e){for(var n,r=this._meet,a=this._meet.length;a--;){var i=r[a];if(i[0]===t&&i[1]===e)return}for(n in r.push([t,e]),e)l.call(e,n)&&(l.call(t,n)?this.checkPropertyEquality(n):this.collectFail(!0,u(f,"A",n)));for(n in t)l.call(t,n)&&this.collectFail(!l.call(e,n),u(f,"B",n));r.pop(),this.checkProtoEql&&this.collectFail(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e),"A and B have different prototypes",!0)},checkPropertyEquality:function(t){new m(this,this.a[t],this.b[t],this.path.concat([t])).check0()},defaultCheck:m.checkStrictEquality},m.add(h.NUMBER,function(t,e){this.collectFail(t!=t&&e==e||e!=e&&t==t||t!==e&&t==t&&e==e,n)}),[h.SYMBOL,h.BOOLEAN,h.STRING].forEach(function(t){m.add(t,m.checkStrictEquality)}),m.add(h.FUNCTION,function(t,e){this.collectFail(t.toString()!==e.toString(),"function A is not equal to B by source code value (via .toString call)"),this.checkPlainObjectsEquality(t,e)}),m.add(h.OBJECT,h.REGEXP,function(t,e){for(var n=["source","global","multiline","lastIndex","ignoreCase","sticky","unicode"];n.length;)this.checkPropertyEquality(n.shift());this.checkPlainObjectsEquality(t,e)}),m.add(h.OBJECT,h.DATE,function(t,e){this.collectFail(+t!=+e,n),this.checkPlainObjectsEquality(t,e)}),[h.NUMBER,h.BOOLEAN,h.STRING].forEach(function(t){m.add(h.OBJECT,t,function(t,e){this.collectFail(t.valueOf()!==e.valueOf(),"A wrapped value is not equal to B wrapped value"),this.checkPlainObjectsEquality(t,e)})}),m.add(h.OBJECT,function(t,e){this.checkPlainObjectsEquality(t,e)}),[h.ARRAY,h.ARGUMENTS,h.TYPED_ARRAY].forEach(function(t){m.add(h.OBJECT,t,function(t,e){this.checkPropertyEquality("length"),this.checkPlainObjectsEquality(t,e)})}),m.add(h.OBJECT,h.ARRAY_BUFFER,function(t,e){this.checkPropertyEquality("byteLength"),this.checkPlainObjectsEquality(t,e)}),m.add(h.OBJECT,h.ERROR,function(t,e){this.checkPropertyEquality("name"),this.checkPropertyEquality("message"),this.checkPlainObjectsEquality(t,e)}),m.add(h.OBJECT,h.BUFFER,function(t){this.checkPropertyEquality("length");for(var e=t.length;e--;)this.checkPropertyEquality(e)}),m.add(h.OBJECT,h.MAP,function(t,e){this._meet.push([t,e]),r.call(this,t,e),r.call(this,e,t),this._meet.pop(),this.checkPlainObjectsEquality(t,e)}),m.add(h.OBJECT,h.SET,function(t,e){this._meet.push([t,e]),T.call(this,t,e),T.call(this,e,t),this._meet.pop(),this.checkPlainObjectsEquality(t,e)}),E.EQ=m;var j=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;function v(t,e){return j.call(t,e)}function A(t,e){if(t&&e)for(var n in e)t[n]=e[n];return t}function w(t){return!!t&&(!!t.__shouldIterator__||"function"==typeof t.next&&"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&"function"==typeof t[Symbol.iterator]&&t[Symbol.iterator]()===t)}function S(t){return"function"==typeof t&&/^function\s*\*\s*/.test(t.toString())}function C(t){this._obj=t}function x(){this._typeAdaptors=[],this._iterableTypes={}}C.prototype={__shouldIterator__:!0,next:function(){if(this._done)throw new Error("Iterator already reached the end");this._keys||(this._keys=Object.keys(this._obj),this._index=0);var t=this._keys[this._index];return this._done=this._index===this._keys.length,this._index+=1,{value:this._done?void 0:[t,this._obj[t]],done:this._done}}},"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(C.prototype[Symbol.iterator]=function(){return this}),x.prototype={add:function(t,e,n,r){return this.addType(new h.Type(t,e,n),r)},addType:function(t,e){this._typeAdaptors[t.toString()]=e},getAdaptor:function(t,e){for(var n=t.toTryTypes();n.length;){var r=n.shift(),a=this._typeAdaptors[r];if(a&&a[e])return a[e]}},requireAdaptor:function(t,e){var n=this.getAdaptor(t,e);if(!n)throw new Error("There is no type adaptor `"+e+"` for "+t.toString());return n},addIterableType:function(t){this._iterableTypes[t.toString()]=!0},isIterableType:function(t){return!!this._iterableTypes[t.toString()]}};var B=new x,R={forEach:function(t,e,n){for(var r in t)if(v(t,r)&&(a=t,i=r,O.call(a,i))&&!1===e.call(n,t[r],r,t))return;var a,i},has:function(t,e){return v(t,e)},get:function(t,e){return t[e]},iterator:function(t){return new C(t)}};B.addType(new h.Type(h.OBJECT),R),B.addType(new h.Type(h.FUNCTION),R);var P={has:function(t,e){return t.has(e)},get:function(t,e){return t.get(e)},forEach:function(e,n,r){_(e.entries(),function(t){return n.call(r,t[1],t[0],e)})},size:function(t){return t.size},isEmpty:function(t){return 0===t.size},iterator:function(t){return t.entries()}},k=A({},P);function _(t,e,n){if(S(t))return _(t(),e,n);if(w(t))for(var r=t.next();!r.done;){if(!1===e.call(n,r.value,"value",t))return;r=t.next()}else{var a=h(t);B.requireAdaptor(a,"forEach")(t,e,n)}}function M(t){var e=h(t),n=B.getAdaptor(e,"isEmpty");if(n)return n(t);var r=!0;return _(t,function(){return r=!1}),r}function F(n,r,a){var i=!1;return _(n,function(t,e){if(r.call(a,t,e,n))return!(i=!0)},a),i}function N(t){return B.isIterableType(h(t))}function q(t){return B.requireAdaptor(h(t),"iterator")(t)}function I(t){return!!t.match(/\d+/)}function D(t,e){var n=I(t),r=I(e);return n&&r?1*t-1*e:n&&!r?-1:!n&&r?1:t.localeCompare(e)}function J(t){var e,n;t=t||{},this.seen=[],e="function"==typeof t.keysFunc?t.keysFunc:!1===t.keys?Object.getOwnPropertyNames:Object.keys,this.getKeys=(n=e,function(t){var e=n(t);return e.sort(D),e}),this.maxLineLength="number"==typeof t.maxLineLength?t.maxLineLength:60,this.propSep=t.propSep||",",this.isUTCdate=!!t.isUTCdate}k.get=function(t,e){if(t.has(e))return e},k.iterator=function(t){return t.values()},B.addType(new h.Type(h.OBJECT,h.MAP),P),B.addType(new h.Type(h.OBJECT,h.SET),k),B.addType(new h.Type(h.OBJECT,h.WEAK_SET),k),B.addType(new h.Type(h.OBJECT,h.WEAK_MAP),P),B.addType(new h.Type(h.STRING),{isEmpty:function(t){return""===t},size:function(t){return t.length}}),B.addIterableType(new h.Type(h.OBJECT,h.ARRAY)),B.addIterableType(new h.Type(h.OBJECT,h.ARGUMENTS)),B.addIterableType(new h.Type(h.OBJECT,h.SET)),J.prototype={constructor:J,format:function(t){var e=h(t);if(this.alreadySeen(t))return"[Circular]";for(var n=e.toTryTypes(),r=this.defaultFormat;n.length;){var a=n.shift(),i=J.formatterFunctionName(a);if(this[i]){r=this[i];break}}return r.call(this,t).trim()},defaultFormat:function(t){return String(t)},alreadySeen:function(t){return 0<=this.seen.indexOf(t)}},J.addType=function(t,e){J.prototype[J.formatterFunctionName(t)]=e},J.formatterFunctionName=function(t){return"_format_"+t.toString("_")};var L="\n";function U(t,e){return function(t,e,n){var r=!1;if(e<0&&(r=!0,e=-e),(t=String(t)).length<e){var a=new Array(e-t.length+1).join(n);return r?t+a:a+t}return t}(t,e,"0")}var Y=/^\s*function\s*(\S*)\s*\(/;function Z(t){if(t.name)return t.name;var e=t.toString().match(Y);return null===e?"":e[1]}function K(t){for(;t;){var e=Object.getOwnPropertyDescriptor(t,"constructor");if(void 0!==e&&"function"==typeof e.value){var n=Z(e.value);if(""!==n)return n}t=Object.getPrototypeOf(t)}}var G="  ";function W(t){return e=G,t.split(L).map(function(t){return e+t}).join(L);var e}function H(t,e){var i=(e=e||{}).filterKey||function(){return!0},o=e.formatKey||this.format,s=e.formatValue||this.format,c=void 0!==e.keyValueSep?e.keyValueSep:": ";this.seen.push(t);var h=0,u=[];_(t,function(t,e){if(i(e)){var n=o.call(this,e),r=s.call(this,t,e),a=n?n+c+r:r;h+=a.length,u.push(a)}},this),this.seen.pop(),(e.additionalKeys||[]).forEach(function(t){var e=t[0]+c+this.format(t[1]);h+=e.length,u.push(e)},this);var n,r,a=e.prefix||K(t)||"";0<a.length&&(a+=" "),Array.isArray(e.brackets)?(n=e.brackets[0],r=e.brackets[1]):(n="{",r="}");var l=e.value||"";return 0===u.length?l||a+n+r:h<=this.maxLineLength?a+n+" "+(l?l+" ":"")+u.join(this.propSep+" ")+" "+r:a+n+"\n"+(l?"  "+l+"\n":"")+u.map(W).join(this.propSep+"\n")+"\n"+r}function V(t){return"string"==typeof t&&t.match(/^[a-zA-Z_$][a-zA-Z_$0-9]*$/)?t:this.format(t)}function z(t,e){var n=function(t,e){var n;try{n=Object.getOwnPropertyDescriptor(t,e)||{value:t[e]}}catch(t){n={value:t}}return n}(t,e);return n.get&&n.set?"[Getter/Setter]":n.get?"[Getter]":n.set?"[Setter]":this.format(n.value)}function X(n,t){return(t=t||{}).keyValueSep=": ",t.formatKey=t.formatKey||V,t.formatValue=t.formatValue||function(t,e){return z.call(this,n,e)},H.call(this,n,t)}function $(t){return X.call(this,t,{additionalKeys:[["[[PrimitiveValue]]",t.valueOf()]]})}function Q(c,h,u){return function(t){for(var e=this.byteArrayMaxLength||50,n=t[c],r=[],a=0,i=0;i<e&&i<n;i++){var o=U((t[i]||0).toString(16),u);a+=o.length,r.push(o)}var s=t.constructor.name||h||"";return s&&(s+=" "),0===r.length?s+"[]":a<=this.maxLineLength?s+"[ "+r.join(this.propSep+" ")+" ]":s+"[\n"+r.map(W).join(this.propSep+"\n")+"\n]"}}function tt(t){return H.call(this,t,{keyValueSep:" => "})}function et(t){return H.call(this,t,{keyValueSep:"",formatKey:function(){return""}})}function nt(o,s){return function(t){for(var e=t.constructor.extractLane,n=0,r=[],a=0;a<s;a++){var i=this.format(e(t,a));n+=i.length,r.push(i)}return n<=this.maxLineLength?o+" [ "+r.join(this.propSep+" ")+" ]":o+" [\n"+r.map(W).join(this.propSep+"\n")+"\n]"}}function rt(t,e){return new J(e).format(t)}function at(t){return"symbol"==typeof t?t:String(t)}rt.Formatter=J,rt.addSpaces=W,rt.pad0=U,rt.functionName=Z,rt.constructorName=K,rt.formatPlainObjectKey=V,rt.formatPlainObject=X,rt.typeAdaptorForEachFormat=H,J.addType(new h.Type(h.UNDEFINED),function(){return"undefined"}),J.addType(new h.Type(h.NULL),function(){return"null"}),J.addType(new h.Type(h.BOOLEAN),function(t){return t?"true":"false"}),J.addType(new h.Type(h.SYMBOL),function(t){return t.toString()}),J.addType(new h.Type(h.NUMBER),function(t){return 0===t&&1/t<0?"-0":String(t)}),J.addType(new h.Type(h.STRING),function(t){return"'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'"}),J.addType(new h.Type(h.FUNCTION),function(t){return X.call(this,t,{prefix:"Function",additionalKeys:[["name",Z(t)]]})}),J.addType(new h.Type(h.OBJECT),X),J.addType(new h.Type(h.OBJECT,h.NUMBER),$),J.addType(new h.Type(h.OBJECT,h.BOOLEAN),$),J.addType(new h.Type(h.OBJECT,h.STRING),function(t){var e=t.valueOf();return X.call(this,t,{filterKey:function(t){return!(t.match(/\d+/)&&parseInt(t,10)<e.length)},additionalKeys:[["[[PrimitiveValue]]",e]]})}),J.addType(new h.Type(h.OBJECT,h.REGEXP),function(t){return X.call(this,t,{value:String(t)})}),J.addType(new h.Type(h.OBJECT,h.ARRAY),function(t){return X.call(this,t,{formatKey:function(t){if(!t.match(/\d+/))return V.call(this,t)},brackets:["[","]"]})}),J.addType(new h.Type(h.OBJECT,h.ARGUMENTS),function(t){return X.call(this,t,{formatKey:function(t){if(!t.match(/\d+/))return V.call(this,t)},brackets:["[","]"],prefix:"Arguments"})}),J.addType(new h.Type(h.OBJECT,h.DATE),function(t){return X.call(this,t,{value:(e=t,n=this.isUTCdate,r=n?"UTC":"",a=e["get"+r+"FullYear"]()+"-"+U(e["get"+r+"Month"]()+1,2)+"-"+U(e["get"+r+"Date"](),2),i=U(e["get"+r+"Hours"](),2)+":"+U(e["get"+r+"Minutes"](),2)+":"+U(e["get"+r+"Seconds"](),2)+"."+U(e["get"+r+"Milliseconds"](),3),o=e.getTimezoneOffset(),s=Math.abs(o),c=Math.floor(s/60),h=s-60*c,u=(o<0?"+":"-")+U(c,2)+U(h,2),a+" "+i+(n?"":" "+u))});var e,n,r,a,i,o,s,c,h,u}),J.addType(new h.Type(h.OBJECT,h.ERROR),function(t){return X.call(this,t,{prefix:t.name,additionalKeys:[["message",t.message]]})}),J.addType(new h.Type(h.OBJECT,h.SET),et),J.addType(new h.Type(h.OBJECT,h.MAP),tt),J.addType(new h.Type(h.OBJECT,h.WEAK_MAP),tt),J.addType(new h.Type(h.OBJECT,h.WEAK_SET),et),J.addType(new h.Type(h.OBJECT,h.BUFFER),Q("length","Buffer",2)),J.addType(new h.Type(h.OBJECT,h.ARRAY_BUFFER),Q("byteLength","ArrayBuffer",2)),J.addType(new h.Type(h.OBJECT,h.TYPED_ARRAY,"int8"),Q("length","Int8Array",2)),J.addType(new h.Type(h.OBJECT,h.TYPED_ARRAY,"uint8"),Q("length","Uint8Array",2)),J.addType(new h.Type(h.OBJECT,h.TYPED_ARRAY,"uint8clamped"),Q("length","Uint8ClampedArray",2)),J.addType(new h.Type(h.OBJECT,h.TYPED_ARRAY,"int16"),Q("length","Int16Array",4)),J.addType(new h.Type(h.OBJECT,h.TYPED_ARRAY,"uint16"),Q("length","Uint16Array",4)),J.addType(new h.Type(h.OBJECT,h.TYPED_ARRAY,"int32"),Q("length","Int32Array",8)),J.addType(new h.Type(h.OBJECT,h.TYPED_ARRAY,"uint32"),Q("length","Uint32Array",8)),J.addType(new h.Type(h.OBJECT,h.SIMD,"bool16x8"),nt("Bool16x8",8)),J.addType(new h.Type(h.OBJECT,h.SIMD,"bool32x4"),nt("Bool32x4",4)),J.addType(new h.Type(h.OBJECT,h.SIMD,"bool8x16"),nt("Bool8x16",16)),J.addType(new h.Type(h.OBJECT,h.SIMD,"float32x4"),nt("Float32x4",4)),J.addType(new h.Type(h.OBJECT,h.SIMD,"int16x8"),nt("Int16x8",8)),J.addType(new h.Type(h.OBJECT,h.SIMD,"int32x4"),nt("Int32x4",4)),J.addType(new h.Type(h.OBJECT,h.SIMD,"int8x16"),nt("Int8x16",16)),J.addType(new h.Type(h.OBJECT,h.SIMD,"uint16x8"),nt("Uint16x8",8)),J.addType(new h.Type(h.OBJECT,h.SIMD,"uint32x4"),nt("Uint32x4",4)),J.addType(new h.Type(h.OBJECT,h.SIMD,"uint8x16"),nt("Uint8x16",16)),J.addType(new h.Type(h.OBJECT,h.PROMISE),function(){return"[Promise]"}),J.addType(new h.Type(h.OBJECT,h.XHR),function(){return"[XMLHttpRequest]"}),J.addType(new h.Type(h.OBJECT,h.HTML_ELEMENT),function(t){return t.outerHTML}),J.addType(new h.Type(h.OBJECT,h.HTML_ELEMENT,"#text"),function(t){return t.nodeValue}),J.addType(new h.Type(h.OBJECT,h.HTML_ELEMENT,"#document"),function(t){return t.documentElement.outerHTML}),J.addType(new h.Type(h.OBJECT,h.HOST),function(){return"[Host]"});var it=rt.functionName;var ot={typeAdaptors:B,getFormatter:function(t){return new rt.Formatter(t||ot)}};function st(t,e){return ot.getFormatter(e).format(t)}function ct(t){var e=ot.getFormatter();return rt.formatPlainObjectKey.call(e,t)}function ht(t){if(A(this,t),t.message||Object.defineProperty(this,"message",{get:function(){return this._message||(this._message=this.generateMessage(),this.generatedMessage=!0),this._message},configurable:!0,enumerable:!1}),Error.captureStackTrace)Error.captureStackTrace(this,this.stackStartFunction);else{var e=new Error;if(e.stack){var n=e.stack;if(this.stackStartFunction){var r=it(this.stackStartFunction),a=n.indexOf("\n"+r);if(0<=a){var i=n.indexOf("\n",a+1);n=n.substring(i+1)}}this.stack=n}}}var ut="    ";function lt(t){return ut+t}function pt(t){A(this,t),t.message||Object.defineProperty(this,"message",{get:function(){return this._message||(this._message=this.generateMessage(),this.generatedMessage=!0),this._message}})}function ft(t){this.obj=t,this.anyOne=!1,this.negate=!1,this.params={actual:t}}function dt(){ft.apply(this,arguments)}ht.prototype=Object.create(Error.prototype,{name:{value:"AssertionError"},generateMessage:{value:function(){if(!this.operator&&this.previous)return this.previous.message;var t=st(this.actual),e="expected"in this?" "+st(this.expected):"",n="details"in this&&this.details?" ("+this.details+")":"",r=this.previous?"\n"+this.previous.message.split("\n").map(lt).join("\n"):"";return"expected "+t+(this.negate?" not ":" ")+this.operator+e+n+r}}}),pt.prototype={generateMessage:ht.prototype.generateMessage},ft.prototype={constructor:ft,assert:function(t){if(t)return this;var e=this.params;throw"obj"in e&&!("actual"in e)?e.actual=e.obj:"obj"in e||"actual"in e||(e.actual=this.obj),e.stackStartFunction=e.stackStartFunction||this.assert,e.negate=this.negate,(e.assertion=this).light?new pt(e):new ht(e)},fail:function(){return this.assert(!1)},assertZeroArguments:function(t){if(0!==t.length)throw new TypeError("This assertion does not expect any arguments. You may need to check your code")}},dt.prototype.then=function(t,e){return this.obj.then(t,e)},ft.add=function(n,t){Object.defineProperty(ft.prototype,n,{enumerable:!0,configurable:!0,value:function(){var e=new ft(this.obj,this,n);e.anyOne=this.anyOne,e.onlyThis=this.onlyThis,e.light=!0;try{t.apply(e,arguments)}catch(t){if(t instanceof ht||t instanceof pt){if(this.negate)return this.obj=e.obj,this.negate=!1,this;e!==t.assertion&&(e.params.previous=t),e.negate=!1,e.light=!1,e.fail()}throw t}return this.negate&&(e.negate=!0,e.params.details="false negative fail",e.light=!1,e.fail()),this.params.operator||(this.params=e.params),this.obj=e.obj,this.negate=!1,this}}),Object.defineProperty(dt.prototype,n,{enumerable:!0,configurable:!0,value:function(){var e=arguments;return this.obj=this.obj.then(function(t){return t[n].apply(t,e)}),this}})},ft.addChain=function(e,t){t=t||function(){},Object.defineProperty(ft.prototype,e,{get:function(){return t.call(this),this},enumerable:!0}),Object.defineProperty(dt.prototype,e,{enumerable:!0,configurable:!0,get:function(){return this.obj=this.obj.then(function(t){return t[e]}),this}})},ft.alias=function(t,e){var n=Object.getOwnPropertyDescriptor(ft.prototype,t);if(!n)throw new Error("Alias "+t+" -> "+e+" could not be created as "+t+" not defined");Object.defineProperty(ft.prototype,e,n);var r=Object.getOwnPropertyDescriptor(dt.prototype,t);r&&Object.defineProperty(dt.prototype,e,r)},ft.addChain("not",function(){this.negate=!this.negate}),ft.addChain("any",function(){this.anyOne=!0}),ft.addChain("only",function(){this.onlyThis=!0});var yt=Array.prototype.slice,bt=gt;function mt(t,e,n,r,a){var i=new ft(t);i.params={operator:r,expected:e,message:n,stackStartFunction:a||mt},i.fail()}function gt(t,e){t||mt(t,!0,e,"==",bt.ok)}function Tt(t,e){return!(!t||!e)&&("[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e||!0===e.call({},t))}function Et(t,e,n,r){var a;"string"==typeof n&&(r=n,n=null);try{e()}catch(t){a=t}if(r=(n&&n.name?" ("+n.name+")":".")+(r?" "+r:"."),t&&!a&&mt(a,n,"Missing expected exception"+r),!t&&Tt(a,n)&&mt(a,n,"Got unwanted exception"+r),t&&a&&n&&!Tt(a,n)||!t&&a)throw a}bt.fail=mt,bt.ok=gt,bt.equal=function(t,e,n){t!=e&&mt(t,e,n,"==",bt.equal)},bt.notEqual=function(t,e,n){t==e&&mt(t,e,n,"!=",bt.notEqual)},bt.deepEqual=function(t,e,n){0!==E(t,e).length&&mt(t,e,n,"deepEqual",bt.deepEqual)},bt.notDeepEqual=function(t,e,n){E(t,e).result&&mt(t,e,n,"notDeepEqual",bt.notDeepEqual)},bt.strictEqual=function(t,e,n){t!==e&&mt(t,e,n,"===",bt.strictEqual)},bt.notStrictEqual=function(t,e,n){t===e&&mt(t,e,n,"!==",bt.notStrictEqual)},bt.throws=function(){Et.apply(this,[!0].concat(yt.call(arguments)))},bt.doesNotThrow=function(){Et.apply(this,[!1].concat(yt.call(arguments)))},bt.ifError=function(t){if(t)throw t};var jt=Array.prototype.slice;function Ot(t){return new ft(t)}Ot.AssertionError=ht,Ot.Assertion=ft,Ot.modules={format:rt,type:h,equal:E},Ot.format=st,Ot.config=ot,Ot.extend=function(t,e){t=t||"should",e=e||Object.prototype;var n=Object.getOwnPropertyDescriptor(e,t);return Object.defineProperty(e,t,{set:function(){},get:function(){return Ot((t=this)instanceof Number||t instanceof String||t instanceof Boolean?this.valueOf():this);var t},configurable:!0}),{name:t,descriptor:n,proto:e}},Ot.noConflict=function(t){return(t=t||Ot._prevShould)&&(delete t.proto[t.name],t.descriptor&&Object.defineProperty(t.proto,t.name,t.descriptor)),Ot},Ot.use=function(t){return t(Ot,Ot.Assertion),this},Ot.use(function(n){var r=n.format;A(n,bt),n.exist=n.exists=function(t,e){if(null==t)throw new ht({message:e||"expected "+r(t)+" to exist",stackStartFunction:n.exist})},n.not={},n.not.exist=n.not.exists=function(t,e){if(null!=t)throw new ht({message:e||"expected "+r(t)+" to not exist",stackStartFunction:n.not.exist})}}).use(function(t,e){["an","of","a","and","be","been","has","have","with","is","which","the","it"].forEach(function(t){e.addChain(t)})}).use(function(t,e){e.add("true",function(t){this.is.exactly(!0,t)}),e.alias("true","True"),e.add("false",function(t){this.is.exactly(!1,t)}),e.alias("false","False"),e.add("ok",function(){this.assertZeroArguments(arguments),this.params={operator:"to be truthy"},this.assert(this.obj)})}).use(function(t,e){e.add("NaN",function(){this.assertZeroArguments(arguments),this.params={operator:"to be NaN"},this.assert(this.obj!=this.obj)}),e.add("Infinity",function(){this.assertZeroArguments(arguments),this.params={operator:"to be Infinity"},this.is.a.Number().and.not.a.NaN().and.assert(!isFinite(this.obj))}),e.add("within",function(t,e,n){this.params={operator:"to be within "+t+".."+e,message:n},this.assert(this.obj>=t&&this.obj<=e)}),e.add("approximately",function(t,e,n){this.params={operator:"to be approximately "+t+" Â±"+e,message:n},this.assert(Math.abs(this.obj-t)<=e)}),e.add("above",function(t,e){this.params={operator:"to be above "+t,message:e},this.assert(this.obj>t)}),e.add("below",function(t,e){this.params={operator:"to be below "+t,message:e},this.assert(this.obj<t)}),e.alias("above","greaterThan"),e.alias("below","lessThan"),e.add("aboveOrEqual",function(t,e){this.params={operator:"to be above or equal "+t,message:e},this.assert(this.obj>=t)}),e.add("belowOrEqual",function(t,e){this.params={operator:"to be below or equal "+t,message:e},this.assert(this.obj<=t)}),e.alias("aboveOrEqual","greaterThanOrEqual"),e.alias("belowOrEqual","lessThanOrEqual")}).use(function(o,e){function t(t,r,a){e.add(t,function(t){1!==arguments.length?t=Array.prototype.slice.call(arguments):o(t).be.Array(),this.params={operator:r,expected:t};var e=this.obj,n=!1;_(t,function(t){try{return o(t)[a](e),!(n=!0)}catch(t){if(t instanceof o.AssertionError)return;throw t}}),this.assert(n)})}e.add("eql",function(a,t){this.params={operator:"to equal",expected:a,message:t};var i=this.obj,e=E(this.obj,a,o.config);this.params.details=e.map(function(t){return n=i,r=a,((0<(e=t).path.length?"at "+e.path.map(ct).join(" -> "):"")+(e.a===n?"":", A has "+st(e.a))+(e.b===r?"":" and B has "+st(e.b))+(e.showReason?" because "+e.reason:"")).trim();var e,n,r}).join(", "),this.params.showDiff=0===E(h(i),h(a)).length,this.assert(0===e.length)}),e.add("equal",function(t,e){this.params={operator:"to be",expected:t,message:e},this.params.showDiff=0===E(h(this.obj),h(t)).length,this.assert(t===this.obj)}),e.alias("equal","equals"),e.alias("equal","exactly"),e.alias("eql","eqls"),e.alias("eql","deepEqual"),t("equalOneOf","to be equals one of","equal"),t("oneOf","to be one of","eql")}).use(function(n,t){t.add("Number",function(){this.assertZeroArguments(arguments),this.params={operator:"to be a number"},this.have.type("number")}),t.add("arguments",function(){this.assertZeroArguments(arguments),this.params={operator:"to be arguments"},this.have.class("Arguments")}),t.alias("arguments","Arguments"),t.add("type",function(t,e){this.params={operator:"to have type "+t,message:e},n(typeof this.obj).be.exactly(t)}),t.add("instanceof",function(t,e){this.params={operator:"to be an instance of "+it(t),message:e},this.assert(Object(this.obj)instanceof t)}),t.alias("instanceof","instanceOf"),t.add("Function",function(){this.assertZeroArguments(arguments),this.params={operator:"to be a function"},this.have.type("function")}),t.add("Object",function(){this.assertZeroArguments(arguments),this.params={operator:"to be an object"},this.is.not.null().and.have.type("object")}),t.add("String",function(){this.assertZeroArguments(arguments),this.params={operator:"to be a string"},this.have.type("string")}),t.add("Array",function(){this.assertZeroArguments(arguments),this.params={operator:"to be an array"},this.have.class("Array")}),t.add("Boolean",function(){this.assertZeroArguments(arguments),this.params={operator:"to be a boolean"},this.have.type("boolean")}),t.add("Error",function(){this.assertZeroArguments(arguments),this.params={operator:"to be an error"},this.have.instanceOf(Error)}),t.add("Date",function(){this.assertZeroArguments(arguments),this.params={operator:"to be a date"},this.have.instanceOf(Date)}),t.add("null",function(){this.assertZeroArguments(arguments),this.params={operator:"to be null"},this.assert(null===this.obj)}),t.alias("null","Null"),t.add("class",function(t){this.params={operator:"to have [[Class]] "+t},this.assert(Object.prototype.toString.call(this.obj)==="[object "+t+"]")}),t.alias("class","Class"),t.add("undefined",function(){this.assertZeroArguments(arguments),this.params={operator:"to be undefined"},this.assert(void 0===this.obj)}),t.alias("undefined","Undefined"),t.add("iterable",function(){this.assertZeroArguments(arguments),this.params={operator:"to be iterable"},n(this.obj).have.property(Symbol.iterator).which.is.a.Function()}),t.add("iterator",function(){this.assertZeroArguments(arguments),this.params={operator:"to be iterator"},n(this.obj).have.property("next").which.is.a.Function()}),t.add("generator",function(){this.assertZeroArguments(arguments),this.params={operator:"to be generator"},n(this.obj).be.iterable.and.iterator.and.it.is.equal(this.obj[Symbol.iterator]())})}).use(function(n,t){t.add("startWith",function(t,e){this.params={operator:"to start with "+n.format(t),message:e},this.assert(0===this.obj.indexOf(t))}),t.add("endWith",function(t,e){this.params={operator:"to end with "+n.format(t),message:e},this.assert(0<=this.obj.indexOf(t,this.obj.length-t.length))})}).use(function(i,t){var c=i.format;t.add("propertyWithDescriptor",function(t,e){this.params={actual:this.obj,operator:"to have own property with descriptor "+c(e)};var n=this.obj;this.have.ownProperty(t),i(Object.getOwnPropertyDescriptor(Object(n),t)).have.properties(e)}),t.add("property",function(t,e){if(t=at(t),1<arguments.length){var n={};n[t]=e,this.have.properties(n)}else this.have.properties(t);this.obj=this.obj[t]}),t.add("properties",function(t){var n={};1<arguments.length?t=jt.call(arguments):Array.isArray(t)||("string"==typeof t||"symbol"==typeof t?t=[t]:(n=t,t=Object.keys(t)));var r=Object(this.obj),e=[];t.forEach(function(t){t in r||e.push(ct(t))});var a=e;0===a.length?a=t.map(ct):this.anyOne&&(a=t.filter(function(t){return e.indexOf(ct(t))<0}).map(ct));var i=(1===a.length?"to have property ":"to have "+(this.anyOne?"any of ":"")+"properties ")+a.join(", ");this.params={obj:this.obj,operator:i},this.assert(0===e.length||this.anyOne&&e.length!=t.length);var o=Object.keys(n);if(o.length){var s=[];a=[],o.forEach(function(t){var e=n[t];0!==E(r[t],e).length?s.push(ct(t)+" of "+c(e)+" (got "+c(r[t])+")"):a.push(ct(t)+" of "+c(e))}),(0!==s.length&&!this.anyOne||this.anyOne&&0===a.length)&&(a=s),i=(1===a.length?"to have property ":"to have "+(this.anyOne?"any of ":"")+"properties ")+a.join(", "),this.params={obj:this.obj,operator:i},this.assert(0===s.length||this.anyOne&&s.length!=o.length)}}),t.add("length",function(t,e){this.have.property("length",t,e)}),t.alias("length","lengthOf"),t.add("ownProperty",function(t,e){t=at(t),this.params={actual:this.obj,operator:"to have own property "+ct(t),message:e},this.assert(v(this.obj,t)),this.obj=this.obj[t]}),t.alias("ownProperty","hasOwnProperty"),t.add("empty",function(){this.params={operator:"to be empty"},this.assert(M(this.obj))},!0),t.add("keys",function(t){t=jt.call(arguments);var a=Object(this.obj),e=t.filter(function(t){return n=t,r=h(e=a),!B.requireAdaptor(r,"has")(e,n);var e,n,r}),n="to have "+(this.onlyThis?"only ":"")+(1===t.length?"key ":"keys ");this.params={operator:n+t.join(", ")},0<e.length&&(this.params.operator+="\n\tmissing keys: "+e.join(", ")),this.assert(0===e.length),this.onlyThis&&i(a).have.size(t.length)}),t.add("key",function(t){var e,n,r;this.have.keys(t),this.obj=(e=this.obj,n=t,r=h(e),B.requireAdaptor(r,"get")(e,n))}),t.add("value",function(t,e){this.have.key(t).which.is.eql(e)}),t.add("size",function(t){this.params={operator:"to have size "+t},i(function(t){var e=h(t),n=B.getAdaptor(e,"size");if(n)return n(t);var r=0;return _(t,function(){r+=1}),r}(this.obj)).be.exactly(t)}),t.add("propertyByPath",function(t){var e=(t=jt.call(arguments)).map(ct);t=t.map(at);for(var n,r=i(Object(this.obj)),a=[];t.length;)n=t.shift(),this.params={operator:"to have property by path "+e.join(", ")+" - failed on "+ct(n)},r=r.have.property(n),a.push(n);this.params={obj:this.obj,operator:"to have property by path "+e.join(", ")},this.obj=r.obj})}).use(function(s,t){var c=s.format;t.add("throw",function(t,e){var n=this.obj,r={},a="",i=!1;if(S(n))return s(n()).throw(t,e);if(w(n))return s(n.next.bind(n)).throw(t,e);this.is.a.Function();var o=!0;try{n()}catch(t){i=!0,r=t}if(i)if(t){if("string"==typeof t)o=t==r.message;else if(t instanceof RegExp)o=t.test(r.message);else if("function"==typeof t)o=r instanceof t;else if(null!=t)try{s(r).match(t)}catch(t){if(!(t instanceof s.AssertionError))throw t;a=": "+t.message,o=!1}if(o){if("function"==typeof t&&e)try{s(r).match(e)}catch(t){if(!(t instanceof s.AssertionError))throw t;a=": "+t.message,o=!1}}else"string"==typeof t||t instanceof RegExp?a=" with a message matching "+c(t)+", but got '"+r.message+"'":"function"==typeof t&&(a=" of type "+it(t)+", but got "+it(r.constructor))}else a=" (got "+c(r)+")";this.params={operator:"to throw exception"+a},this.assert(i),this.assert(o)}),t.alias("throw","throwError")}).use(function(i,t){var o=i.format;t.add("match",function(n,t){if(this.params={operator:"to match "+o(n),message:t},0!==E(this.obj,n).length)if(n instanceof RegExp)if("string"==typeof this.obj)this.assert(n.exec(this.obj));else if(null!=this.obj&&"object"==typeof this.obj){var r=[],a=[];_(this.obj,function(t,e){n.exec(t)?a.push(ct(e)):r.push(ct(e)+" ("+o(t)+")")},this),r.length&&(this.params.operator+="\n    not matched properties: "+r.join(", ")),a.length&&(this.params.operator+="\n    matched properties: "+a.join(", ")),this.assert(0===r.length)}else this.assert(!1);else if("function"==typeof n){var e;"boolean"==typeof(e=n(this.obj))&&this.assert(e)}else"object"==typeof this.obj&&null!=this.obj&&(function(t){if("object"==typeof t&&null!==t){var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}return!1}(n)||Array.isArray(n))?(r=[],a=[],_(n,function(t,e){try{i(this.obj).have.property(e).which.match(t),a.push(ct(e))}catch(t){if(!(t instanceof i.AssertionError))throw t;r.push(ct(e)+" ("+o(this.obj[e])+")")}},this),r.length&&(this.params.operator+="\n    not matched properties: "+r.join(", ")),a.length&&(this.params.operator+="\n    matched properties: "+a.join(", ")),this.assert(0===r.length)):this.assert(!1)}),t.add("matchEach",function(e,t){this.params={operator:"to match each "+o(e),message:t},_(this.obj,function(t){i(t).match(e)},this)}),t.add("matchAny",function(e,t){this.params={operator:"to match any "+o(e),message:t},this.assert(F(this.obj,function(t){try{return i(t).match(e),!0}catch(t){if(t instanceof i.AssertionError)return!1;throw t}}))}),t.alias("matchAny","matchSome"),t.alias("matchEach","matchEvery")}).use(function(o,t){var s=o.format;t.add("containEql",function(e){this.params={operator:"to contain "+s(e)},this.is.not.null().and.not.undefined();var n=this.obj;"string"==typeof n?this.assert(0<=n.indexOf(String(e))):N(n)?this.assert(F(n,function(t){return 0===E(t,e).length})):_(e,function(t,e){o(n).have.value(e,t)},this)}),t.add("containDeepOrdered",function(t){this.params={operator:"to contain "+s(t)};var n=this.obj;if("string"==typeof n)this.is.equal(String(t));else if(N(n)&&N(t)){for(var e=q(n),r=q(t),a=e.next(),i=r.next();!a.done&&!i.done;){try{o(a.value[1]).containDeepOrdered(i.value[1]),i=r.next()}catch(t){if(!(t instanceof o.AssertionError))throw t}a=e.next()}this.assert(i.done)}else null!=n&&"object"==typeof n&&null!=t&&"object"==typeof t?(_(t,function(t,e){o(n[e]).containDeepOrdered(t)}),M(t)&&this.eql(t)):this.eql(t)}),t.add("containDeep",function(t){this.params={operator:"to contain "+s(t)};var r=this.obj;if("string"==typeof r&&"string"==typeof t)this.is.equal(String(t));else if(N(r)&&N(t)){var a={};_(t,function(n){this.assert(F(r,function(t,e){if(e in a)return!1;try{return o(t).containDeep(n),a[e]=!0}catch(t){if(t instanceof o.AssertionError)return!1;throw t}}))},this)}else null!=r&&null!=t&&"object"==typeof r&&"object"==typeof t?(_(t,function(t,e){o(r[e]).containDeep(t)}),M(t)&&this.eql(t)):this.eql(t)})}).use(function(o,t){t.add("Promise",function(){this.assertZeroArguments(arguments),this.params={operator:"to be promise"};var t=this.obj;o(t).have.property("then").which.is.a.Function()}),t.prototype.fulfilled=function(){this.assertZeroArguments(arguments),this.params={operator:"to be fulfilled"},o(this.obj).be.a.Promise();var e=this;return this.obj.then(function(t){return e.negate&&e.fail(),t},function(t){return e.negate||(e.params.operator+=", but it was rejected with "+o.format(t),e.fail()),t})},t.prototype.resolved=t.prototype.fulfilled,t.prototype.rejected=function(){this.assertZeroArguments(arguments),this.params={operator:"to be rejected"},o(this.obj).be.a.Promise();var e=this;return this.obj.then(function(t){return e.negate||(e.params.operator+=", but it was fulfilled",0!=arguments.length&&(e.params.operator+=" with "+o.format(t)),e.fail()),t},function(t){return e.negate&&e.fail(),t})},t.prototype.fulfilledWith=function(e){this.params={operator:"to be fulfilled with "+o.format(e)},o(this.obj).be.a.Promise();var n=this;return this.obj.then(function(t){return n.negate&&n.fail(),o(t).eql(e),t},function(t){return n.negate||(n.params.operator+=", but it was rejected with "+o.format(t),n.fail()),t})},t.prototype.resolvedWith=t.prototype.fulfilledWith,t.prototype.rejectedWith=function(r,a){this.params={operator:"to be rejected"},o(this.obj).be.a.Promise();var i=this;return this.obj.then(function(t){return i.negate||i.fail(),t},function(t){i.negate&&i.fail();var e=!0,n="";if("string"==typeof r)e=r===t.message;else if(r instanceof RegExp)e=r.test(t.message);else if("function"==typeof r)e=t instanceof r;else if(null!==r&&"object"==typeof r)try{o(t).match(r)}catch(t){if(!(t instanceof o.AssertionError))throw t;n=": "+t.message,e=!1}if(e){if("function"==typeof r&&a)try{o(t).match(a)}catch(t){if(!(t instanceof o.AssertionError))throw t;n=": "+t.message,e=!1}}else"string"==typeof r||r instanceof RegExp?n=" with a message matching "+o.format(r)+", but got '"+t.message+"'":"function"==typeof r&&(n=" of type "+it(r)+", but got "+it(t.constructor));return i.params.operator+=n,i.assert(e),t})},Object.defineProperty(t.prototype,"finally",{get:function(){o(this.obj).be.a.Promise();var n=this;return new dt(this.obj.then(function(t){var e=o(t);return e.negate=n.negate,e.anyOne=n.anyOne,e}))}}),t.alias("finally","eventually")});var vt=Object.prototype,At="object"==typeof global&&global&&global.Object===Object&&global,wt="object"==typeof self&&self&&self.Object===Object&&self,St=At||wt||Function("return this")();try{var Ct=Ot.extend("should",vt);Ot._prevShould=Ct,Object.defineProperty(St,"should",{enumerable:!1,configurable:!0,value:Ot})}catch(t){}"function"==typeof define&&define.amd?define([],function(){return Ot}):"object"==typeof module&&module.exports&&(module.exports=Ot)}();