!function(e,d){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(a){return e.waitingDialog=d(a)}):e.waitingDialog=e.waitingDialog||d(e.jQuery)}(this,function(e){"use strict";function d(d,a){d&&d.remove();var o=null===a.nonce?"":' nonce="'+a.nonce+'"',n=e.parseHTML('<div class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-hidden="true" style="padding-top:15%; overflow-y:visible;"'+o+'><div class="modal-dialog modal-m"><div class="modal-content"><div class="modal-header" style="display: none;"'+o+'></div><div class="modal-body"><div class="progress progress-striped active" style="margin-bottom:0;"'+o+'><div class="progress-bar" style="width: 100%"'+o+"></div></div></div></div></div></div>");return e(n)}var a,o;return{show:function(n,s){"undefined"==typeof s&&(s={}),"undefined"==typeof n&&(n="Loading"),o=e.extend({headerText:"",headerSize:3,headerClass:"",dialogSize:"m",progressType:"",contentElement:"p",contentClass:"content",onHide:null,onShow:null,nonce:null},s);var i,t;a=d(a,o),a.find(".modal-dialog").attr("class","modal-dialog").addClass("modal-"+o.dialogSize),a.find(".progress-bar").attr("class","progress-bar progress-bar-striped progress-bar-animated"),o.progressType&&(a.find(".progress-bar").addClass("progress-bar-"+o.progressType),a.find(".progress-bar").addClass("bg-"+o.progressType)),i=e("<h"+o.headerSize+" />"),i.css({margin:0}),o.headerClass&&i.addClass(o.headerClass),t=e("<"+o.contentElement+" />"),o.contentClass&&t.addClass(o.contentClass),o.headerText===!1?(t.html(n),a.find(".modal-body").prepend(t)):o.headerText?(i.html(o.headerText),a.find(".modal-header").html(i).show(),t.html(n),a.find(".modal-body").prepend(t)):(i.html(n),a.find(".modal-header").html(i).show()),"function"==typeof o.onHide&&a.off("hidden.bs.modal").on("hidden.bs.modal",function(){o.onHide.call(a)}),"function"==typeof o.onShow&&a.off("shown.bs.modal").on("shown.bs.modal",function(){o.onShow.call(a)}),a.modal(),a.on("shown.bs.modal",function(){a.data("shown",!0)})},hide:function(e){"undefined"!=typeof a&&(a.data("shown")===!0?(a.modal("hide"),e&&e(a)):a.on("shown.bs.modal",function(){a.modal("hide"),e&&e(a)}))},message:function(e){return"undefined"!=typeof a?"undefined"!=typeof e?a.find(".modal-header>h"+o.headerSize).html(e):a.find(".modal-header>h"+o.headerSize).html():void 0}}});