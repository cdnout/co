import"./boot.js";let workingURL,resolveDoc,CSS_URL_RX=/(url\()([^)]*)(\))/g,ABS_URL=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/;export function resolveUrl(e,r){if(e&&ABS_URL.test(e))return e;if("//"===e)return e;if(void 0===workingURL){workingURL=!1;try{const e=new URL("b","http://a");e.pathname="c%20d",workingURL="http://a/c%20d"===e.href}catch(e){}}if(r||(r=document.baseURI||window.location.href),workingURL)try{return new URL(e,r).href}catch(r){return e}return resolveDoc||((resolveDoc=document.implementation.createHTMLDocument("temp")).base=resolveDoc.createElement("base"),resolveDoc.head.appendChild(resolveDoc.base),resolveDoc.anchor=resolveDoc.createElement("a"),resolveDoc.body.appendChild(resolveDoc.anchor)),resolveDoc.base.href=r,resolveDoc.anchor.href=e,resolveDoc.anchor.href||e};export function resolveCss(e,r){return e.replace(CSS_URL_RX,function(e,o,t,n){return o+"'"+resolveUrl(t.replace(/["']/g,""),r)+"'"+n})};export function pathFromUrl(e){return e.substring(0,e.lastIndexOf("/")+1)};