{"version":3,"sources":["Aquarelle.js"],"names":["THREE","window","d3","geom","Aquarelle","texture","mask","options","self","this","setOptions","defaultOptions","canvas","document","createElement","ctx","getContext","img","Image","onload","drawMaskImage","crossOrigin","src","nodeName","ImageUtils","TextureLoader","load","minFilter","LinearFilter","composer","getComposer","addPass","ClearPass","Texture","needsUpdate","turbulentPass","AquarellePass","outputPass","ShaderPass","CopyShader","renderToScreen","dispatchEvent","getEventObject","autoplay","start","reset","isInitialized","stack","push","frame","time","Date","now","deltaTime","lastTime","forEach","item","render","requestAnimationFrame","Object","assign","prototype","EventDispatcher","getRenderer","renderer","WebGLRenderer","alpha","setClearColor","setSize","image","width","height","autoClear","getCanvas","domElement","EffectComposer","WebGLRenderTarget","drawImage","data","getImageData","points","contour","x","y","renderMask","clearRect","lineJoin","lineWidth","Math","abs","offset","globalCompositeOperation","pathPoints","stroke","fill","beginPath","point","index","closePath","direction","progress","isPaused","delta","lastProgress","clampedProgress","duration","clear","transitionForProgressInRange","startValue","endValue","progressForValueInRange","value","max","min","transitionInRange","startTime","endTime","isComplete","pause","play","stop","reverse","uniforms","Amplitude","fromAmplitude","toAmplitude","Frequency","fromFrequency","toFrequency","fromOffset","toOffset","Mask","loop","type","timeStamp"],"mappings":"AAAA,IAAIA,MAAQC,OAAOD,UAEfE,GAAKD,OAAOC,OAChBA,GAAGC,KAAOD,GAAGC,SAEZ,WAIG,SAASC,EAAUC,EAASC,EAAMC,GAC9B,IAAIC,EAAOC,KAEXD,EAAKE,WAAWN,EAAUO,gBAC1BH,EAAKE,WAAWH,GAEhBC,EAAKF,QAELE,EAAKF,KAAKM,OAASC,SAASC,cAAc,UAC1CN,EAAKF,KAAKS,IAAMP,EAAKF,KAAKM,OAAOI,WAAW,MAEzB,iBAATV,GACNE,EAAKF,KAAKW,IAAM,IAAIC,MACpBV,EAAKF,KAAKW,IAAIE,OAAS,WACnBX,EAAKY,iBAETZ,EAAKF,KAAKe,YAAc,YACxBb,EAAKF,KAAKW,IAAIK,IAAMhB,GAErBA,EAAKiB,UAAYjB,EAAKgB,MACrBd,EAAKF,KAAKW,IAAMX,EAChBE,EAAKY,iBAGTpB,MAAMwB,WAAWH,YAAc,IAC/B,IAAIrB,MAAMyB,eAAgBC,KAAKrB,IAA+B,iBAAZA,EAAuBA,EAAUA,EAAQkB,UAAYlB,EAAQiB,MAAQ,GAAI,SAASjB,GAChIG,EAAKH,QAAUA,EACfA,EAAQsB,UAAY3B,MAAM4B,aAE1B,IAAIC,EAAWrB,EAAKsB,cAEpBD,EAASE,QAAQ,IAAI/B,MAAMgC,WAE3B,IAAI1B,EAAO,IAAIN,MAAMiC,QAAQzB,EAAKF,KAAKM,QACvCN,EAAK4B,aAAc,EACnB5B,EAAKqB,UAAY3B,MAAM4B,aAEvB,IAAIO,EAAgB3B,EAAK2B,cAAgB,IAAInC,MAAMoC,cAAc/B,EAASC,GAC1EuB,EAASE,QAAQI,GAEjB,IAAIE,EAAa,IAAIrC,MAAMsC,WAAWtC,MAAMuC,YAC5CF,EAAWG,gBAAiB,EAC5BX,EAASE,QAAQM,GAEjB7B,EAAKiC,cAAcjC,EAAKkC,eAAe,YAEpClC,EAAKD,QAAQoC,UACZnC,EAAKoC,QAGTpC,EAAKqC,QAELrC,EAAKsC,eAAgB,IAGzBC,EAAMC,KAAKxC,GA0Nf,SAASyC,IACL,IAAIC,EAAOC,KAAKC,MACZC,EAAYH,EAAOI,EAEvBA,EAAWJ,EAEXH,EAAMQ,QAAQ,SAASC,GACnBA,EAAKC,OAAOJ,EAAY,OAG5BK,sBAAsBT,GA9R1B,IAAIF,KACAO,EAAWH,KAAKC,MA4DpBO,OAAOC,OAAOxD,EAAUyD,UAAW7D,MAAM8D,gBAAgBD,WAEzDzD,EAAUyD,UAAUE,YAAc,WAC9B,IAAItD,KAAKuD,SAAU,CACf,IAAIA,EAAWvD,KAAKuD,SAAW,IAAIhE,MAAMiE,eACrCC,OAAO,IAEXF,EAASG,cAAc,EAAU,GACjCH,EAASI,QAAQ3D,KAAKJ,QAAQgE,MAAMC,MAAO7D,KAAKJ,QAAQgE,MAAME,QAC9DP,EAASQ,WAAY,EAGzB,OAAO/D,KAAKuD,UAEhB5D,EAAUyD,UAAUY,UAAY,WAC5B,OAAOhE,KAAKsD,cAAcW,YAE9BtE,EAAUyD,UAAU/B,YAAc,WAK9B,OAJIrB,KAAKoB,WACLpB,KAAKoB,SAAW,IAAI7B,MAAM2E,eAAelE,KAAKsD,cAAe,IAAI/D,MAAM4E,kBAAkBnE,KAAKJ,QAAQgE,MAAMC,MAAO7D,KAAKJ,QAAQgE,MAAME,UAGnI9D,KAAKoB,UAGhBzB,EAAUyD,UAAUzC,cAAgB,WAChC,IAAId,EAAOG,KAAKH,SAEhB,GAAGA,EAAKW,IAAK,CACTX,EAAKM,OAAO0D,MAAQhE,EAAKW,IAAIqD,MAC7BhE,EAAKM,OAAO2D,OAASjE,EAAKW,IAAIsD,OAE9BjE,EAAKS,IAAI8D,UAAUvE,EAAKW,IAAK,EAAG,GAEhC,IAAI6D,EAAOxE,EAAKS,IAAIgE,aAAa,EAAG,EAAGzE,EAAKW,IAAIqD,MAAOhE,EAAKW,IAAIsD,QAAQO,KACxExE,EAAK0E,OAAS9E,GAAGC,KAAK8E,QAAQ,SAASC,EAAGC,GACtC,OAAOL,EAAgC,GAA1BK,EAAI7E,EAAKW,IAAIqD,MAAQY,GAAS,GAAK,MAI5D9E,EAAUyD,UAAUuB,WAAa,WAC7B,IAAI9E,EAAOG,KAAKH,SAEZA,EAAK0E,SAIT1E,EAAKS,IAAIsE,UAAU,EAAG,EAAG/E,EAAKM,OAAO0D,MAAOhE,EAAKM,OAAO2D,QAExDjE,EAAKS,IAAIuE,SAAW,QACpBhF,EAAKS,IAAIwE,UAAoC,EAAxBC,KAAKC,IAAInF,EAAKoF,QAEhCpF,EAAKoF,SACJpF,EAAKS,IAAI4E,yBAA2B,WAAarF,EAAKoF,OAAS,EAAI,MAAQ,QAE3EjF,KAAKmF,aACLtF,EAAKS,IAAI8E,UAGbpF,KAAKmF,aACLtF,EAAKS,IAAI+E,SAEb1F,EAAUyD,UAAU+B,WAAa,WAC7B,IAAItF,EAAOG,KAAKH,SAEhBA,EAAKS,IAAIgF,YACTzF,EAAK0E,OAAOzB,QAAQ,SAASyC,EAAOC,GAChC3F,EAAKS,IAAIkF,EAAQ,SAAW,UAAUD,EAAM,GAAIA,EAAM,MAE1D1F,EAAKS,IAAImF,aAGb9F,EAAUyD,UAAUsC,UAAY,EAChC/F,EAAUyD,UAAUuC,SAAW,EAC/BhG,EAAUyD,UAAUwC,UAAW,EAE/BjG,EAAUyD,UAAUJ,OAAS,SAAS6C,GAClC,GAAI7F,KAAK0B,eAAkB1B,KAAKoB,SAAhC,CAIA,IAAI0E,EAAe9F,KAAK2F,SACpBA,EAAW3F,KAAK+F,gBAAgBD,EAAe9F,KAAK0F,UAAYG,GAAS7F,KAAKF,QAAQkG,SAAW,MAEjGhG,KAAK4F,UAAYE,IAAiBH,IAClC3F,KAAK2F,SAAWA,EAChB3F,KAAKoC,SAGTpC,KAAK2E,aACL3E,KAAKsD,cAAc2C,QACnBjG,KAAKqB,cAAc2B,OAAO6C,KAG9BlG,EAAUyD,UAAU8C,6BAA+B,SAASP,EAAUQ,EAAYC,GAC9E,OAAOD,GAAcC,EAAWD,GAAcR,GAElDhG,EAAUyD,UAAUiD,wBAA0B,SAASC,EAAOH,EAAYC,GACtE,OAAQE,EAAQH,IAAeC,EAAWD,IAE9CxG,EAAUyD,UAAU2C,gBAAkB,SAASJ,GAC3C,OAAOZ,KAAKwB,IAAI,EAAGxB,KAAKyB,IAAIb,EAAU,KAG1ChG,EAAUyD,UAAUqD,kBAAoB,SAASN,EAAYC,EAAUM,EAAWC,GAC9E,OAAO3G,KAAKkG,6BAA6BlG,KAAK+F,gBAAgB/F,KAAKqG,wBAAwBrG,KAAK2F,UAAWe,GAAa,GAAK1G,KAAKF,QAAQkG,UAAWW,GAAW3G,KAAKF,QAAQkG,UAAYhG,KAAKF,QAAQkG,WAAYG,EAAYC,IAGlOzG,EAAUyD,UAAUwD,WAAa,WAC7B,OAAO5G,KAAK0F,UAAY,EAAsB,IAAlB1F,KAAK2F,SAAiB3F,KAAK0F,UAAY,IAAM1F,KAAK2F,UAGlFhG,EAAUyD,UAAUyD,MAAQ,WACrB7G,KAAK4F,WAIR5F,KAAK4F,UAAW,EAEb5F,KAAKqC,eACJrC,KAAKgC,cAAchC,KAAKiC,eAAe,aAG/CtC,EAAUyD,UAAU0D,KAAO,WACnB9G,KAAK4F,WAIT5F,KAAK4F,UAAW,EAEhB5F,KAAKgC,cAAchC,KAAKiC,eAAe,aAE3CtC,EAAUyD,UAAU2D,KAAO,WACpB/G,KAAK2F,aAAe3F,KAAK0F,WAAa,IAAM1F,KAAK4F,WAIpD5F,KAAK2F,WAAa3F,KAAK0F,WAAa,GAEpC1F,KAAK6G,QAEF7G,KAAKqC,eACJrC,KAAKgC,cAAchC,KAAKiC,eAAe,cAG/CtC,EAAUyD,UAAUjB,MAAQ,YACrBnC,KAAK2F,aAAe3F,KAAK0F,UAAY,IAAO1F,KAAK4F,YAIpD5F,KAAK2F,WAAa3F,KAAK0F,UAAY,GAEnC1F,KAAKgC,cAAchC,KAAKiC,eAAe,YAEvCjC,KAAK8G,SAGTnH,EAAUyD,UAAU4D,QAAU,WAC1BhH,KAAK0F,UAAY1F,KAAK0F,UAAY,EAAI,GAAK,GAE/C/F,EAAUyD,UAAUhB,MAAQ,WACxB,GAAIpC,KAAK0B,cAAT,CAYA,GARA1B,KAAK0B,cAAcuF,SAASC,UAAUZ,MAAQtG,KAAKyG,kBAAkBzG,KAAKF,QAAQqH,cAAenH,KAAKF,QAAQsH,aAC9GpH,KAAK0B,cAAcuF,SAASI,UAAUf,MAAQtG,KAAKyG,kBAAkBzG,KAAKF,QAAQwH,cAAetH,KAAKF,QAAQyH,aAC9GvH,KAAKH,KAAKoF,OAASjF,KAAKyG,kBAAkBzG,KAAKF,QAAQ0H,WAAYxH,KAAKF,QAAQ2H,UAEhFzH,KAAK0B,cAAcuF,SAASS,KAAKpB,MAAM7E,aAAc,EAErDzB,KAAKgC,cAAchC,KAAKiC,eAAe,YAEpCjC,KAAK4G,aAAc,CAClB5G,KAAKgC,cAAchC,KAAKiC,eAAe,cAEvC,IAAI2D,EAAW5F,KAAK4F,SACpB5F,KAAK+G,OAEN/G,KAAK4G,cAAgB5G,KAAKF,QAAQ6H,OAAS/B,GAC1C5F,KAAKmC,UAIbxC,EAAUyD,UAAUnB,eAAiB,SAAS2F,GAC1C,OACIA,KAAMA,EACNC,UAAWnF,KAAKC,MAChB+C,UAAW1F,KAAK0F,UAChBC,SAAU3F,KAAK2F,SACfiB,WAAY5G,KAAK4G,eAIzBjH,EAAUyD,UAAUnD,WAAa,SAASH,GAChB,iBAAZA,GAAoC,OAAZA,IAC9BE,KAAKF,QAAUoD,OAAOC,OAAOnD,KAAKF,YAAeA,KAIzDH,EAAUO,gBACNiH,cAAe,GACfC,YAAa,EAEbE,cAAe,EACfC,YAAa,EAEbC,YAAa,GACbC,SAAU,GAEVvF,UAAU,EACVyF,MAAM,EACN3B,SAAU,KAedxD,IAEAhD,OAAOG,UAAYA,EAnSvB"}