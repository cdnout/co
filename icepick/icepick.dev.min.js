!function(n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).icepick=n()}(function(){return function c(u,i,f){function s(e,n){if(!i[e]){if(!u[e]){var r="function"==typeof require&&require;if(!n&&r)return r(e,!0);if(a)return a(e,!0);var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}var o=i[e]={exports:{}};u[e][0].call(o.exports,function(n){return s(u[e][1][n]||n)},o,o.exports,c,u,i,f)}return i[e].exports}for(var a="function"==typeof require&&require,n=0;n<f.length;n++)s(f[n]);return s}({1:[function(n,e,o){"use strict";function c(n,e){return(e||[]).reduce(function(n,e){if(n)return n[e]},n)}function u(n,r){return Object.keys(r).reduce(function(n,e){return p.assoc(n,e,r[e])},n)}function f(n,e,r){return n[e]===r?n:p.assoc(n,e,r)}function i(n,e){var r,t;if(Array.isArray(n))for(r=n.length;r--;)e(r);else for(r=(t=Object.keys(n)).length;r--;)e(t[r])}function s(n){return Array.isArray(n)?n.slice():function(n){for(var e,r=null==n.constructor?Object.create(null):{},t=Object.keys(n),o=t.length;o--;)r[e=t[o]]=n[e];return r}(n)}function a(n){return h(n)&&!Object.isFrozen(n)?v(n):n}function l(n){return"object"==typeof n?Object.freeze(n):n}var p=o,h=function(n){return null!==n&&(Array.isArray(n)||r(n))},r=function(n){return!("object"!=typeof n||n.constructor!==Object&&null!=n.constructor||Object.getPrototypeOf(n)!==Object.prototype&&null!==Object.getPrototypeOf(n))},t=[],v=function(r){if(t.some(function(n){return n===r}))throw new Error("object has a reference cycle");return t.push(r),i(r,function(n){var e=r[n];h(e)&&v(e)}),t.pop(),Object.freeze(r),r};o.freeze=v,o.thaw=function e(r){if(!h(r)||!Object.isFrozen(r))return r;var t=Array.isArray(r)?new Array(r.length):{};return i(r,function(n){t[n]=e(r[n])}),t},o.assoc=function(n,e,r){if(n[e]===r)return l(n);var t=s(n);return t[e]=a(r),l(t)},o.set=o.assoc,o.dissoc=function(n,e){var r=s(n);return delete r[e],l(r)},o.unset=o.dissoc,o.assocIn=function n(e,r,t){var o=r[0];return 1===r.length?p.assoc(e,o,t):p.assoc(e,o,n(e[o]||{},r.slice(1),t))},o.setIn=o.assocIn,o.dissocIn=function n(e,r){var t=r[0];return e.hasOwnProperty(t)?1===r.length?p.dissoc(e,t):p.assoc(e,t,n(e[t],r.slice(1))):e},o.unsetIn=o.dissocIn,o.getIn=c,o.updateIn=function(n,e,r){var t=c(n,e);return p.assocIn(n,e,r(t))},["push","unshift","pop","shift","reverse","sort"].forEach(function(t){o[t]=function(n,e){var r=[].concat(n);return r[t](a(e)),l(r)},o[t].displayName="icepick."+t}),o.splice=function(n){for(var e=[],r=arguments.length-1;0<r--;)e[r]=arguments[r+1];var t=[].concat(n),o=e.map(a);return t.splice.apply(t,o),l(t)},o.slice=function(n,e,r){var t=n.slice(e,r);return l(t)},["map","filter"].forEach(function(t){o[t]=function(n,e){var r=e[t](n);return l(r)},o[t].displayName="icepick."+t}),o.extend=o.assign=function(n){for(var e=[],r=arguments.length-1;0<r--;)e[r]=arguments[r+1];var t=e.reduce(u,n);return l(t)},o.merge=function c(n,u,i){return null==n||null==u?n:Object.keys(u).reduce(function(n,e){var r=u[e],t=n[e],o=i?i(t,r,e):r;return h(r)&&h(t)?o===t&&Object.isFrozen(o)&&Object.isFrozen(t)?n:Array.isArray(r)?p.assoc(n,e,o):f(n,e,c(t,o,i)):f(n,e,o)},n)};var y={value:function(){return this.val},thru:function(n){return this.val=a(n(this.val)),this}};Object.keys(o).forEach(function(r){r.match(/^(map|filter)$/)?y[r]=function(n){return this.val=o[r](n,this.val),this}:y[r]=function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return this.val=o[r].apply(o,[this.val].concat(n)),this}}),o.chain=function(n){var e=Object.create(y);return e.val=n,e}},{}]},{},[1])(1)});