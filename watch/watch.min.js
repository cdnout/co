!function(t){var e=function(t,e,r,i){var n,a,s=this;a=function(t){for(var e=[],r=t.length>>>0;r--;)e[r]=t[r];return e},n=function(t){for(var e=this,r=0;r<e.watching.length;r++){for(var i,n=e.watching[r],a=!0,s=0;s<n.props.length;s++)i=e.attributes[n.props[s]]||e.style[n.props[s]],n.vals[s]!=i&&(n.vals[s]=i,n.changed[s]=!0);for(var o=0;o<n.props.length;o++)if(!n.changed[o]){a=!1;break}a&&n.callback&&n.callback.apply(e,t)}},t=a(t),"function"==typeof r&&(i=r,r={}),"function"!=typeof i&&(i=function(){}),r.throttle=r.throttle||10;for(var o=0;o<t.length;o++){for(var d=t[o],u={props:e.split(" "),vals:[],changed:[],callback:i},c=0;c<u.props.length;c++)u.vals[c]=d.attributes[u.props[c]]||d.style[u.props[c]],u.changed[c]=!1;d.watching||(d.watching=[]),d.watching.push(u);var h=new MutationObserver(function(t){console.log(t);for(var e=0;e<t.length;e++)n.call(t[e].target,t[e])});h.observe(d,{subtree:!1,attributes:!0})}return s};t.watch=function(){return e.apply(arguments[0],arguments)},function(t){t.fn.watch=function(){return Array.prototype.unshift.call(arguments,this),e.apply(this,arguments)}}(jQuery)}(window),"undefined"==typeof WeakMap&&!function(){var t=Object.defineProperty,e=Date.now()%1e9,r=function(){this.name="__st"+(1e9*Math.random()>>>0)+(e++ +"__")};r.prototype={set:function(e,r){var i=e[this.name];i&&i[0]===e?i[1]=r:t(e,this.name,{value:[e,r],writable:!0})},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},"delete":function(t){var e=t[this.name];if(!e)return!1;var r=e[0]===t;return e[0]=e[1]=void 0,r},has:function(t){var e=t[this.name];return e?e[0]===t:!1}},window.WeakMap=r}(),function(t){function e(t){O.push(t),w||(w=!0,p(i))}function r(t){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(t)||t}function i(){w=!1;var t=O;O=[],t.sort(function(t,e){return t.uid_-e.uid_});var e=!1;t.forEach(function(t){var r=t.takeRecords();n(t),r.length&&(t.callback_(r,t),e=!0)}),e&&i()}function n(t){t.nodes_.forEach(function(e){var r=b.get(e);r&&r.forEach(function(e){e.observer===t&&e.removeTransientObservers()})})}function a(t,e){for(var r=t;r;r=r.parentNode){var i=b.get(r);if(i)for(var n=0;n<i.length;n++){var a=i[n],s=a.options;if(r===t||s.subtree){var o=e(s);o&&a.enqueue(o)}}}}function s(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++N}function o(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function d(t){var e=new o(t.type,t.target);return e.addedNodes=t.addedNodes.slice(),e.removedNodes=t.removedNodes.slice(),e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,e.attributeName=t.attributeName,e.attributeNamespace=t.attributeNamespace,e.oldValue=t.oldValue,e}function u(t,e){return M=new o(t,e)}function c(t){return D?D:(D=d(M),D.oldValue=t,D)}function h(){M=D=void 0}function v(t){return t===D||t===M}function l(t,e){return t===e?t:D&&v(t)?D:null}function f(t,e,r){this.observer=t,this.target=e,this.options=r,this.transientObservedNodes=[]}var b=new WeakMap,p=window.msSetImmediate;if(!p){var g=[],m=String(Math.random());window.addEventListener("message",function(t){if(t.data===m){var e=g;g=[],e.forEach(function(t){t()})}}),p=function(t){g.push(t),window.postMessage(m,"*")}}var w=!1,O=[],N=0;s.prototype={observe:function(t,e){if(t=r(t),!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var i=b.get(t);i||b.set(t,i=[]);for(var n,a=0;a<i.length;a++)if(i[a].observer===this){n=i[a],n.removeListeners(),n.options=e;break}n||(n=new f(this,t,e),i.push(n),this.nodes_.push(t)),n.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=b.get(t),r=0;r<e.length;r++){var i=e[r];if(i.observer===this){i.removeListeners(),e.splice(r,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}};var M,D;f.prototype={enqueue:function(t){var r=this.observer.records_,i=r.length;if(r.length>0){var n=r[i-1],a=l(n,t);if(a)return void(r[i-1]=a)}else e(this.observer);r[i]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=b.get(t);e||b.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=b.get(t),r=0;r<e.length;r++)if(e[r]===this){e.splice(r,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,r=t.relatedNode.namespaceURI,i=t.target,n=new u("attributes",i);n.attributeName=e,n.attributeNamespace=r;var s=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;a(i,function(t){return!t.attributes||t.attributeFilter&&t.attributeFilter.length&&-1===t.attributeFilter.indexOf(e)&&-1===t.attributeFilter.indexOf(r)?void 0:t.attributeOldValue?c(s):n});break;case"DOMCharacterDataModified":var i=t.target,n=u("characterData",i),s=t.prevValue;a(i,function(t){return t.characterData?t.characterDataOldValue?c(s):n:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var o,d,i=t.relatedNode,v=t.target;"DOMNodeInserted"===t.type?(o=[v],d=[]):(o=[],d=[v]);var l=v.previousSibling,f=v.nextSibling,n=u("childList",i);n.addedNodes=o,n.removedNodes=d,n.previousSibling=l,n.nextSibling=f,a(i,function(t){return t.childList?n:void 0})}h()}},t.JsMutationObserver=s,t.MutationObserver||(t.MutationObserver=s)}(this);
//# sourceMappingURL=./watch.min.js.map