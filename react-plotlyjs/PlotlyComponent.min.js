"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},_createClass=function(){function r(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),e}}(),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_react=require("react"),_react2=_interopRequireDefault(_react),_lodash=require("lodash.clonedeep"),_lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectWithoutProperties(e,t){var o={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r]);return o}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var createPlotlyComponent=function(a){return _inherits(e,_react2.default.Component),_createClass(e,[{key:"attachListeners",value:function(){this.props.onClick&&this.container.on("plotly_click",this.props.onClick),this.props.onBeforeHover&&this.container.on("plotly_beforehover",this.props.onBeforeHover),this.props.onHover&&this.container.on("plotly_hover",this.props.onHover),this.props.onUnHover&&this.container.on("plotly_unhover",this.props.onUnHover),this.props.onSelected&&this.container.on("plotly_selected",this.props.onSelected),this.props.onRelayout&&this.container.on("plotly_relayout",this.props.onRelayout)}},{key:"shouldComponentUpdate",value:function(){return!0}},{key:"componentDidMount",value:function(){var e=this.props,t=e.data,o=e.layout,r=e.config;a.newPlot(this.container,t,(0,_lodash2.default)(o),r),this.attachListeners()}},{key:"componentDidUpdate",value:function(e){var t,o,r,n;e.data===this.props.data&&e.layout===this.props.layout&&e.config===this.props.config||(o=(t=this.props).data,r=t.layout,n=t.config,a.newPlot(this.container,o,(0,_lodash2.default)(r),n),this.attachListeners())}},{key:"componentWillUnmount",value:function(){a.purge(this.container)}},{key:"resize",value:function(){a.Plots.resize(this.container)}},{key:"render",value:function(){var t=this,e=this.props,o=(e.data,e.layout,e.config,_objectWithoutProperties(e,["data","layout","config"]));return delete o.onClick,delete o.onBeforeHover,delete o.onHover,delete o.onUnHover,delete o.onSelected,delete o.onRelayout,_react2.default.createElement("div",_extends({},o,{ref:function(e){return t.container=e}}))}}]),e.propTypes={data:_propTypes2.default.array,layout:_propTypes2.default.object,config:_propTypes2.default.object,onClick:_propTypes2.default.func,onBeforeHover:_propTypes2.default.func,onHover:_propTypes2.default.func,onUnHover:_propTypes2.default.func,onSelected:_propTypes2.default.func,onRelayout:_propTypes2.default.func},e;function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}};exports.default=createPlotlyComponent;