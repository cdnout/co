!function(n,e,t,r){"function"==typeof define&&define.amd?(t=Object.values(t),define(n,t,r)):"undefined"!=typeof module&&module.exports?(t=Object.keys(t).map(n=>require(n)),module.exports=r(...t)):(t=Object.values(t).map(n=>e[n]),e[n]=r(...t))}("IOHelpers","undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:new Function("return this")(),{"./lib/util.js":"MonioUtil","./io.js":"IO","./maybe.js":"Maybe","./either.js":"Either"},function(n,e,t,r){"use strict";var{isFunction:i,isPromise:o,isMonad:u,liftM:f,curry:d}=n,a=new WeakSet;let l={};function c(...n){return e(()=>console.log(...n))}function s(){return e(n=>n)}function h(...n){return e(e=>Promise.all(n.map(n=>x(e,n).run(e))))}function O(n,t){return e(()=>n.run(t))}function p(n,...t){return t.length>0?e(r=>e.do(n(r,...t)).run(r)):e.do(n)}function I(n,...t){return t.length>0?e(r=>e.doEither(n(r,...t)).run(r)):e.doEither(n)}function g(n,t){var r=e(()=>e.do(n).run(t));return(...i)=>i.length>0?e(()=>e.do(n(t,...i)).run(t)):r}function m(n,t){var r=e(()=>e.doEither(n).run(t));return(...i)=>i.length>0?e(()=>e.doEither(n(t,...i)).run(t)):r}function y(n,e){return w(e.map(e=>n(e).map(n=>n?[e]:[])))}function b(n,e){return y(e=>F(n(e)),e)}function w(n){return n.reduce((n,e)=>n.concat(e),e.of([]))}function E(n,t,...r){return e(o=>x(o,n).chain(function(n){return n?(t=i(t)?t():t,(t=Array.isArray(t)?t:[t]).reduce((n,t)=>n.chain(n=>x(o,n).chain(n=>a.has(n)?e.of(n):x(o,t))),e.of()).chain(t=>x(o,t).chain(t=>e.of(a.has(t)?t:n)))):e.of(n)}).chain(function n(t){return r=>!r&&t.length>0?x(o,t[0]).chain(n(t.slice(1))):e.of(r)}(r)).run(o))}function j(n,e){return E(n,e)}function R(n){return E(!0,n)}function v(n){return e(e=>x(e,n).map(n=>{var e={returned:n};return a.add(e),e}).run(e))}function F(n){return e(e=>x(e,n).map(n=>!n).run(e))}function P(n){return a.has(n)}function A(n){return n.map(n=>P(n)?n.returned:void 0)}function B(n,t){return f(t).chain(t=>e(()=>t[n]))}function M(n,t,r){return f(t).chain(t=>f(r).chain(r=>e(()=>r[n]=t)))}function x(n,o){if(u(o)){if(e.is(o))return o;if(r.Left.is(o)||t.Nothing.is(o)){let n={returned:o};return a.add(n),e.of(n)}{let n=o.chain(e.of);return e.is(n)?n:e.of(o)}}return i(o)?x(n,o(n)):o&&"object"==typeof o&&i(o.next)?e.do(o):e.of(o)}return(l={log:c,getReader:s,waitAll:h,applyIO:O,doIO:p,doEIO:I,doIOBind:g,doEIOBind:m,listFilterInIO:y,listFilterOutIO:b,listConcatIO:w,iif:E,elif:j,els:R,iNot:F,iReturn:v,wasReturned:P,ifReturned:A,getPropIO:B,assignPropIO:M}).log=c,l.getReader=s,l.waitAll=h,l.applyIO=O,l.doIO=p,l.doEIO=I,l.doIOBind=g,l.doEIOBind=m,l.listFilterInIO=y,l.listFilterOutIO=b,l.listConcatIO=w,l.iif=E,l.elif=j,l.els=R,l.iNot=F,l.iReturn=v,l.wasReturned=P,l.ifReturned=A,l.getPropIO=B,l.assignPropIO=M,l});