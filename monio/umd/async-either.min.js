!function(e,n,t,r){"function"==typeof define&&define.amd?(t=Object.values(t),define(e,t,r)):"undefined"!=typeof module&&module.exports?(t=Object.keys(t).map(e=>require(e)),module.exports=r(...t)):(t=Object.values(t).map(e=>n[e]),n[e]=r(...t))}("AsyncEither","undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:new Function("return this")(),{"./lib/util.js":"MonioUtil","./either.js":"Either"},function(e,n){"use strict";var{isFunction:t,isPromise:r}=e,i={};let o={};function u(e){return f(n.Right(e))}function f(e){return s(r(e)?e:n.Left.is(e)?Promise.reject(e):Promise.resolve(e))}function s(e){e=a(e);var t={map:function(n){var t=e=>{var t=n=>{var t=e.chain(n);return r(t)?a(t):e._is_right()?t:Promise.reject(t)};return r(n)?n.then(t):t(n)};return f(e.then(t,t))},chain:o,flatMap:o,bind:o,ap:function(n){return n.map(e)},concat:function(n){return n.map(n=>e.then(e=>e.concat(n)))},fold:function(n,t){var r=e=>n=>n.fold(n=>Promise.reject(e(n)),e);return e.then(r(t),r(n))},_inspect:function(){return`${t[Symbol.toStringTag]}(Promise)`},_is:function(e){return e===i},[Symbol.toStringTag]:"AsyncEither"};return t;function o(t){var i=e=>{var i=t=>{var r=e.chain(t);return c(r)?r.fold(e=>e,e=>e):n.is(r)?r.fold(e=>Promise.reject(e),e=>e):r};return r(t)?t.then(i):i(t)};return f(e.then(i,i))}}function c(e){return e&&t(e._is)&&e._is(i)}function a(e){return e.then(e=>n.is(e)?e:n.Right(e),e=>Promise.reject(n.is(e)?e:n.Left(e)))}return o=Object.assign(f,{Left:function(e){return f(n.Left(e))},Right:u,of:u,pure:u,unit:u,is:c,fromFoldable:function(e){return e.fold(f.Left,f.Right)},fromPromise:s})});