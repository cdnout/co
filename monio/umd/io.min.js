!function(n,t,e,r){"function"==typeof define&&define.amd?(e=Object.values(e),define(n,e,r)):"undefined"!=typeof module&&module.exports?(e=Object.keys(e).map(n=>require(n)),module.exports=r(...e)):(e=Object.values(e).map(n=>t[n]),t[n]=r(...e))}("IO","undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:new Function("return this")(),{"./lib/util.js":"MonioUtil","./either.js":"Either"},function(n,t){"use strict";var{isFunction:e,isPromise:r,getMonadFlatMap:i}=n,u={};let o={};function a(n){var t={map:function(t){return a(e=>{var i=n(e);return r(i)?i.then(t):t(i)})},chain:i,flatMap:i,bind:i,ap:function(t){return t.map(n)},concat:function(t){return a(e=>{var i=n(e),u=t.run(e);return r(i)||r(u)?Promise.all([i,u]).then(([n,t])=>n.concat(t)):i.concat(u)})},run:function(t){return n(t)},_inspect:function(){return`${t[Symbol.toStringTag]}(${e(n)?n.name||"anonymous function":n&&e(n._inspect)?n._inspect():val})`},_is:function(n){return n===u},[Symbol.toStringTag]:"IO"};return t;function i(t){return a(e=>{var i=n(e);return r(i)?i.then(t).then(n=>n.run(e)):t(i).run(e)})}}function c(n,e,u,o=!1){return new Promise(async function(c,f){try{let s=function(n,t){return i(n).call(n,t)}(r(e)?await e:e,t=>a(()=>n(t).then(c,f)));a.is(s)?await s.run(u):o&&t.Left.is(s)?f(s):c(s)}catch(n){f(n)}})}function f(n,t){return e(n)?n(t):n&&"object"==typeof n&&e(n.next)?n:void 0}return(o=Object.assign(a,{of:function(n){return a(()=>n)},is:function(n){return n&&e(n._is)&&n._is(u)},do:function(n){return a(t=>{var e=f(n,t);return async function n(i){var u=e.next(r(i)?await i:i);return(u=r(u)?await u:u).done?u.value:c(n,u.value,t,!1)}()})},doEither:function(n){return a(e=>{var i=f(n,e);return async function n(u){try{u=r(u)?await u:u;let o=t.Left.is(u)?u.fold(n=>i.throw(n),()=>{}):i.next(u),a=(o=r(o)?await o:o).done&&r(o.value)?await o.value:o.value;if(o.done){if(t.Left.is(a))throw a;return t.Right.is(a)?a:t.Right(a)}return c(n,a,e,!0).catch(n)}catch(u){throw t.Left.is(u)?u:t.Left(u)}}()})}})).RIO=a,o.Reader=a,o});