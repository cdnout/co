!function(n,t){for(let[r,e,i]of t)"function"==typeof define&&define.amd?(e=Object.values(e),define(r,e,i)):"undefined"!=typeof module&&module.exports?(e=Object.keys(e).map(n=>require(n)),module.exports[r]=i(...e)):(e=Object.values(e).map(t=>n[t]),n[r]=i(...e))}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:new Function("return this")(),[["MonioUtil",{},function(){"use strict";let n={};function t(n){var t=n["flatMap"in n?"flatMap":"chain"in n?"chain":"bind"];return r(t)&&t!==Function.prototype.bind&&t!==Array.prototype.flatMap?t:void 0}function r(n){return!(!n||"function"!=typeof n)}function e(n){return!(!n||!r(n.then))}function i(n){return!(!n||"object"!=typeof n&&!r(n)||!r(t(n)))}function u(n,t=n.length){return function r(e){return(...i)=>{var u=[...e,...i];return u.length>=t?n(...u):r(u)}}([])}return(n={getMonadFlatMap:t,isFunction:r,isPromise:e,isMonad:i,curry:u}).getMonadFlatMap=t,n.isFunction=r,n.isPromise=e,n.isMonad=i,n.curry=u,n}],["Nothing",{"./lib/util.js":"MonioUtil"},function(n){"use strict";var{isFunction:t}=n,r={};let e={};function i(){var n={map:t,chain:t,flatMap:t,bind:t,ap:t,concat:t,_inspect:function(){return`${n[Symbol.toStringTag]}()`},_is:function(n){return n===r},[Symbol.toStringTag]:"Nothing"};return n;function t(){return n}}return e=Object.assign(i,{of:i,pure:i,unit:i,is:function(n){return n&&t(n._is)&&n._is(r)},isEmpty:function(n){return null==n}})}],["Just",{"./lib/util.js":"MonioUtil"},function(n){"use strict";var{isFunction:t}=n,r={};let e={};function i(n){var e={map:function(t){return i(t(n))},chain:u,flatMap:u,bind:u,ap:function(t){return t.map(n)},concat:function(t){return t.map(t=>n.concat(t))},_inspect:function(){return`${e[Symbol.toStringTag]}(${function n(r){return"string"==typeof r?`"${r}"`:void 0===r?"":t(r)?r.name||"anonymous function":r&&t(r._inspect)?r._inspect():Array.isArray(r)?`[${r.map(t=>null==t?String(t):n(t))}]`:String(r)}(n)})`},_is:function(n){return n===r},[Symbol.toStringTag]:"Just"};return e;function u(t){return t(n)}}return e=Object.assign(i,{of:i,pure:i,unit:i,is:function(n){return n&&t(n._is)&&n._is(r)}})}],["Maybe",{"./lib/util.js":"MonioUtil","./just.js":"Just","./nothing.js":"Nothing"},function(n,t,r){"use strict";var{isFunction:e}=n,i={};Object.assign(o,t),Object.assign(c,r);let u={};function o(n){return a(n)}function c(){return a(r())}function a(n){var r=n,e=o.is(r)&&!f(r),u=c.is(r)&&!f(r);e||u?n=e?r.chain(n=>n):void 0:(r=t(n),e=!0);var s={map:function(n){return e?a(r.map(n)):s},chain:l,flatMap:l,bind:l,ap:function(t){return e?t.map(n):s},concat:function(t){return e?t.map(t=>n.concat(t)):s},fold:function(t,r){return e?r(n):t(n)},_inspect:function(){var n=e?r._inspect().match(/^Just\((.*)\)$/)[1]:"";return`${s[Symbol.toStringTag]}(${n})`},_is:function(n){return n===i||r._is(n)},get[Symbol.toStringTag](){return`Maybe:${r[Symbol.toStringTag]}`}};return s;function l(n){return e?r.chain(n):s}}function f(n){return n&&e(n._is)&&n._is(i)}return u=Object.assign(a,{Just:o,Nothing:c,of:a,pure:a,unit:a,is:f,from:function(n){return c.isEmpty(n)?c():a(n)}})}],["Either",{"./lib/util.js":"MonioUtil","./just.js":"Just"},function(n,t){"use strict";var{isFunction:r}=n,e={};u.is=function(n){return a(n)&&!n._is_right()},o.is=function(n){return a(n)&&n._is_right()};let i={};function u(n){return c(n,!1)}function o(n){return c(n,!0)}function c(n,r=!0){var i={map:function(t){return r?c(t(n),r):i},chain:u,flatMap:u,bind:u,ap:function(t){return r?t.map(n):i},concat:function(t){return r?t.map(t=>n.concat(t)):i},fold:function(t,e){return r?e(n):t(n)},_inspect:function(){var r=t(n)._inspect().match(/^Just\((.*)\)$/)[1];return`${i[Symbol.toStringTag]}(${r})`},_is:function(n){return n===e},_is_right:function(){return r},get[Symbol.toStringTag](){return"Either:"+(r?"Right":"Left")}};return i;function u(t){return r?t(n):i}}function a(n){return n&&r(n._is)&&n._is(e)}return i=Object.assign(function(n){return c(n,!0)},{Left:u,Right:o,of:o,pure:o,unit:o,is:a,fromFoldable:function(n){return n.fold(u,o)}})}],["IO",{"./lib/util.js":"MonioUtil","./either.js":"Either"},function(n,t){"use strict";var{isFunction:r,isPromise:e,getMonadFlatMap:i}=n,u={};let o={};function c(n){var t={map:function(t){return c(r=>{var i=n(r);return e(i)?i.then(t):t(i)})},chain:i,flatMap:i,bind:i,ap:function(t){return t.map(n)},concat:function(t){return c(r=>{var i=n(r),u=t.run(r);return e(i)||e(u)?Promise.all([i,u]).then(([n,t])=>n.concat(t)):i.concat(u)})},run:function(t){return n(t)},_inspect:function(){return`${t[Symbol.toStringTag]}(${r(n)?n.name||"anonymous function":n&&r(n._inspect)?n._inspect():val})`},_is:function(n){return n===u},[Symbol.toStringTag]:"IO"};return t;function i(t){return c(r=>{var i=n(r);return e(i)?i.then(t).then(n=>n.run(r)):t(i).run(r)})}}function a(n,r,u,o=!1){return new Promise(async function(a,f){try{let s=function(n,t){return i(n).call(n,t)}(e(r)?await r:r,t=>c(()=>n(t).then(a,f)));c.is(s)?await s.run(u):o&&t.Left.is(s)?f(s):a(s)}catch(n){f(n)}})}function f(n,t){return r(n)?n(t):n&&"object"==typeof n&&r(n.next)?n:void 0}return(o=Object.assign(c,{of:function(n){return c(()=>n)},is:function(n){return n&&r(n._is)&&n._is(u)},do:function(n){return c(t=>{var r=f(n,t);return async function n(i){var u=r.next(e(i)?await i:i);return(u=e(u)?await u:u).done?u.value:a(n,u.value,t,!1)}()})},doEither:function(n){return c(r=>{var i=f(n,r);return async function n(u){try{u=e(u)?await u:u;let o=t.Left.is(u)?u.fold(n=>i.throw(n),()=>{}):i.next(u),c=(o=e(o)?await o:o).done&&e(o.value)?await o.value:o.value;if(o.done){if(t.Left.is(c))throw c;return t.Right.is(c)?c:t.Right(c)}return a(n,c,r,!0).catch(n)}catch(u){throw t.Left.is(u)?u:t.Left(u)}}()})}})).RIO=c,o.Reader=c,o}],["IOHelpers",{"./lib/util.js":"MonioUtil","./io.js":"IO","./maybe.js":"Maybe","./either.js":"Either"},function(n,t,r,e){"use strict";var{isFunction:i,isPromise:u,isMonad:o}=n,c=new WeakSet;let a={};function f(n,r,...e){return t(i=>s(i,n).chain(function(n){return n?(Array.isArray(r)?r:[r]).reduce((n,r)=>n.chain(n=>s(i,n).chain(n=>c.has(n)?t.of(n):s(i,r))),t.of()).chain(r=>s(i,r).chain(r=>t.of(c.has(r)?r:n))):t.of(n)}).chain(function n(r){return e=>!e&&r.length>0?s(i,r[0]).chain(n(r.slice(1))):t.of(e)}(e)).run(i))}function s(n,u){if(o(u)){if(t.is(u))return u;if(e.Left.is(u)||r.Nothing.is(u)){let n={returned:u};return c.add(n),t.of(n)}{let n=u.chain(t.of);return t.is(n)?n:t.of(u)}}return i(u)?s(n,u(n)):u&&"object"==typeof u&&i(u.next)?t.do(u):t.of(u)}return a.applyIO=function(n,r){return t(()=>n.run(r))},a.doIO=function(n,...r){return r.length>0?t(e=>t.do(n(e,...r)).run(e)):t.do(n)},a.doIOBind=function(n,r){var e=t(()=>t.do(n).run(r));return(...i)=>i.length>0?t(()=>t.do(n(r,...i)).run(r)):e},a.filterIOList=function(n,r){return r.reduce((t,r)=>t.chain(t=>n(r).map(n=>n?[...t,r]:t)),t.of([]))},a.concatIOList=function(n){return n.reduce((n,t)=>n.map(n=>[...n,t]),t.of([]))},a.iif=f,a.elif=function(n,t){return f(n,t)},a.els=function(n){return f(!0,n)},a.iNot=function(n){return t(t=>s(t,n).map(n=>!n).run(t))},a.iReturn=function(n){return t(t=>s(t,n).map(n=>{var t={returned:n};return c.add(t),t}).run(t))},a.wasReturned=function(n){return c.has(n)},a}],["IOEventStream",{"./lib/util.js":"MonioUtil","./io.js":"IO"},function(n,t){"use strict";var{isFunction:r,curry:e}=n;let i={};function u(n,e,i={}){var{bufferSize:u=100,throwBufferOverflow:o=!1,evtOpts:c={}}=i;return t(()=>{var t,i,a=Symbol("force closed"),{pr:f,next:l}=s(),h=async function*(){t=[],i=[],r(n.addEventListener)?n.addEventListener(e,d,c):r(n.addListener)?n.addListener(e,d):r(n.on)&&n.on(e,d);try{for(;;){if(0==t.length){let{pr:n,next:r}=s();t.push(n),i.push(r)}let n=await Promise.race([f,t.shift()]);if(n==a)return;yield n}}finally{r(n.removeEventListener)?n.removeEventListener(e,d,c):r(n.removeListener)?n.removeListener(e,d):r(n.off)&&n.off(e,d),t.length=i.length=0}}(),p=h.return;return h.return=function(...n){var t=p.apply(h,n);return l(a),h.return=p,t},h;function d(n){if(i.length>0)i.shift()(n);else if(t.length<u){let{pr:r,next:e}=s();t.push(r),e(n)}else if(o){let t=new Error("Event stream buffer overflow");throw t.evt=n,t}}})}function o(...n){return t(()=>(async function*(){try{for(;;){let t=a(n);if(!(t.length>0))return;try{if(1==t.length){let[r,e,i]=await t[0];if(i.done)return void(n[r]=null);n[r]=e,yield i.value}else{let[r,e,i]=await Promise.race(t);n[r]=null,i.done||(n.push(e),yield i.value)}}catch(n){return Promise.reject(n)}}}finally{await f(n)}})())}function c(...n){return t(()=>(async function*(){try{for(;;){let t=a(n);if(!(t.length>0))return;try{let r=(await Promise.all(t)).reduce(function(t,r){var[e,i,u]=r;return u.done?(n[e]=null,t):(n[e]=i,[...t,u.value])},[]);if(!(r.length>0))return;yield r}catch(n){return Promise.reject(n)}}}finally{await f(...n).run()}})())}function a(n){return n.map(function(t,e){return t&&r(t.next)?(n[e]=async function(){var r=t.next();try{let i=await r;return n[e]=[e,t,i]}catch(t){return n[e]=null,r}}(),n[e]):t}).filter(Boolean)}function f(...n){return t(()=>Promise.all(n.map(async function(n){if(n&&r(n.return))try{return await n.return()}catch(n){}})))}function s(){var n;return{pr:new Promise(t=>n=t),next:n}}return(i=u=Object.assign(e(u,2),{merge:o,zip:c,close:f})).merge=o,i.zip=c,i.close=f,i}],["AsyncEither",{"./lib/util.js":"MonioUtil","./either.js":"Either"},function(n,t){"use strict";var{isFunction:r,isPromise:e}=n,i={};let u={};function o(n){return c(t.Right(n))}function c(n){return a(e(n)?n:t.Left.is(n)?Promise.reject(n):Promise.resolve(n))}function a(n){n=s(n);var r={map:function(t){var r=n=>{var r=t=>{var r=n.chain(t);return e(r)?s(r):n._is_right()?r:Promise.reject(r)};return e(t)?t.then(r):r(t)};return c(n.then(r,r))},chain:u,flatMap:u,bind:u,ap:function(t){return t.map(n)},concat:function(t){return t.map(t=>n.then(n=>n.concat(t)))},fold:function(t,r){var e=n=>t=>t.fold(t=>Promise.reject(n(t)),n);return n.then(e(r),e(t))},_inspect:function(){return`${r[Symbol.toStringTag]}(Promise)`},_is:function(n){return n===i},[Symbol.toStringTag]:"AsyncEither"};return r;function u(r){var i=n=>{var i=r=>{var e=n.chain(r);return f(e)?e.fold(n=>n,n=>n):t.is(e)?e.fold(n=>Promise.reject(n),n=>n):e};return e(r)?r.then(i):i(r)};return c(n.then(i,i))}}function f(n){return n&&r(n._is)&&n._is(i)}function s(n){return n.then(n=>t.is(n)?n:t.Right(n),n=>Promise.reject(t.is(n)?n:t.Left(n)))}return u=Object.assign(c,{Left:function(n){return c(t.Left(n))},Right:o,of:o,pure:o,unit:o,is:f,fromFoldable:function(n){return n.fold(c.Left,c.Right)},fromPromise:a})}],["Monio",{"./lib/util.js":"MonioUtil","./just.js":"Just","./nothing.js":"Nothing","./maybe.js":"Maybe","./either.js":"Either","./async-either.js":"AsyncEither","./io.js":"IO","./io-helpers.js":"IOHelpers","./io-event-stream.js":"IOEventStream"},function(n,t,r,e,i,u,o,c,a){"use strict";let f={};return f.MonioUtil=n,f.Just=t,f.Nothing=r,f.Maybe=e,f.Either=i,f.AsyncEither=u,f.IO=o,f.RIO=o,f.Reader=o,f.IOEventStream=a,f}]]);