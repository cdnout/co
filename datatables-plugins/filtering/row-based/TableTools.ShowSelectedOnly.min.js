!function(r,c){c.fn.dataTable.SelectedLengthMenu=function(n){if(n.oScroll.bInfinite)return null;var a,i,e='<select size="1" '+('name="'+n.sTableId+'_length"')+">",t=n.aLengthMenu;if(2==t.length&&"object"==typeof t[0]&&"object"==typeof t[1])for(i=t[a=0].length;a<i;a++)e+='<option value="'+t[0][a]+'">'+t[1][a]+"</option>";else for(a=0,i=t.length;a<i;a++)e+='<option value="'+t[a]+'">'+t[a]+"</option>";e+="</select>";var l=(l=n.oLanguage.oFilterSelectedOptions)||{AllText:"All Items",SelectedText:"Selected Items"},s='<select name="'+n.sTableId+'_selectedFilter">';"object"==typeof l?(s+='<option value="All">'+l.AllText+"</option>",s+='<option value="Selected">'+l.SelectedText+"</option>"):(s+='<option value="All">'+l[0]+"</option>",s+='<option value="Selected">'+l[1]+"</option>"),s+="</select>";var o=r.createElement("div");n.aanFeatures.l||(o.id=n.sTableId+"_length"),o.className=n.oClasses.sLength;l=n.oLanguage.sLengthMenu;"Show _MENU_ entries"==l&&(l="Show _MENU_ of _SELECTEDMENU_"),o.innerHTML="<span>"+l.replace("_MENU_",e).replace("_SELECTEDMENU_",s)+"</span>";s=c('select[name="'+n.sTableId+'_length"]',o);0==s.length&&(s=c("select :eq(0)",o)),s.find('option[value="'+n._iDisplayLength+'"]',o).attr("selected",!0),s.bind("change.DT",function(e){var t=c(this).val(),l=n.aanFeatures.S;for(a=0,i=l.length;a<i;a++)l[a]!=this.parentNode&&c("select",l[a]).val(t);n._iDisplayLength=parseInt(t,10),n.oApi._fnCalculateEnd(n),n.fnDisplayEnd()==n.fnRecordsDisplay()&&(n._iDisplayStart=n.fnDisplayEnd()-n._iDisplayLength,n._iDisplayStart<0&&(n._iDisplayStart=0)),-1==n._iDisplayLength&&(n._iDisplayStart=0),n.oApi._fnDraw(n)});s=c('select[name="'+n.sTableId+'_selectedFilter"]',o);return 0==s.length&&(s=c("select :eq(1)",o)),s.find('option[value="'+n._sFilterSelected+'"]',o).attr("selected",!0),s.on("change",function(){n._sFilterSelected=c(this).val(),c("#"+n.sTableId).dataTable().fnDraw()}),c("select",o).attr("aria-controls",n.sTableId),o},c.fn.dataTableExt.afnFiltering.push(function(e,t,l){var n=c('select[name="'+e.sTableId+'_selectedFilter"]');if(0==n.length)return!0;if("All"==n.val())return!0;l=c("#"+e.sTableId).dataTable().fnGetNodes(l);return TableTools.fnGetInstance(e.sTableId).fnIsSelected(l)}),c.fn.dataTableExt.aoFeatures.push({fnInit:function(e){return new c.fn.dataTable.SelectedLengthMenu(e)},cFeature:"O",sFeature:"SelectedLengthMenu"})}((window,document),jQuery);