var diff_match_patch=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},DIFF_DELETE=-1,DIFF_INSERT=1,DIFF_EQUAL=0;diff_match_patch.Diff=function(t,i){return[t,i]},diff_match_patch.prototype.diff_main=function(t,i,h,e){void 0===e&&(e=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var n=e;if(null==t||null==i)throw new Error("Null input. (diff_main)");if(t==i)return t?[new diff_match_patch.Diff(DIFF_EQUAL,t)]:[];void 0===h&&(h=!0);var f=h,a=this.diff_commonPrefix(t,i),e=t.substring(0,a);t=t.substring(a),i=i.substring(a),a=this.diff_commonSuffix(t,i);h=t.substring(t.length-a);t=t.substring(0,t.length-a),i=i.substring(0,i.length-a);n=this.diff_compute_(t,i,f,n);return e&&n.unshift(new diff_match_patch.Diff(DIFF_EQUAL,e)),h&&n.push(new diff_match_patch.Diff(DIFF_EQUAL,h)),this.diff_cleanupMerge(n),n},diff_match_patch.prototype.diff_compute_=function(t,i,h,e){if(!t)return[new diff_match_patch.Diff(DIFF_INSERT,i)];if(!i)return[new diff_match_patch.Diff(DIFF_DELETE,t)];var n=t.length>i.length?t:i,f=t.length>i.length?i:t,a=n.indexOf(f);if(-1!=a)return s=[new diff_match_patch.Diff(DIFF_INSERT,n.substring(0,a)),new diff_match_patch.Diff(DIFF_EQUAL,f),new diff_match_patch.Diff(DIFF_INSERT,n.substring(a+f.length))],t.length>i.length&&(s[0][0]=s[2][0]=DIFF_DELETE),s;if(1==f.length)return[new diff_match_patch.Diff(DIFF_DELETE,t),new diff_match_patch.Diff(DIFF_INSERT,i)];var r=this.diff_halfMatch_(t,i);if(r){var n=r[0],a=r[1],s=r[2],f=r[3],r=r[4],s=this.diff_main(n,s,h,e),f=this.diff_main(a,f,h,e);return s.concat([new diff_match_patch.Diff(DIFF_EQUAL,r)],f)}return h&&100<t.length&&100<i.length?this.diff_lineMode_(t,i,e):this.diff_bisect_(t,i,e)},diff_match_patch.prototype.diff_lineMode_=function(t,i,h){var e=this.diff_linesToChars_(t,i);t=e.chars1,i=e.chars2;var e=e.lineArray,n=this.diff_main(t,i,!1,h);this.diff_charsToLines_(n,e),this.diff_cleanupSemantic(n),n.push(new diff_match_patch.Diff(DIFF_EQUAL,""));for(var f=0,a=0,r=0,s="",_="";f<n.length;){switch(n[f][0]){case DIFF_INSERT:r++,_+=n[f][1];break;case DIFF_DELETE:a++,s+=n[f][1];break;case DIFF_EQUAL:if(1<=a&&1<=r){n.splice(f-a-r,a+r),f=f-a-r;for(var c=this.diff_main(s,_,!1,h),l=c.length-1;0<=l;l--)n.splice(f,0,c[l]);f+=c.length}a=r=0,_=s=""}f++}return n.pop(),n},diff_match_patch.prototype.diff_bisect_=function(t,i,h){for(var e=t.length,n=i.length,f=Math.ceil((e+n)/2),a=f,r=2*f,s=new Array(r),_=new Array(r),c=0;c<r;c++)s[c]=-1,_[c]=-1;s[a+1]=0;for(var l=e-n,g=l%2!=(_[a+1]=0),o=0,p=0,d=0,u=0,m=0;m<f&&!((new Date).getTime()>h);m++){for(var F=-m+o;F<=m-p;F+=2){for(var D=a+F,E=(L=F==-m||F!=m&&s[D-1]<s[D+1]?s[D+1]:s[D-1]+1)-F;L<e&&E<n&&t.charAt(L)==i.charAt(E);)L++,E++;if(e<(s[D]=L))p+=2;else if(n<E)o+=2;else if(g){var I=a+l-F;if(0<=I&&I<r&&-1!=_[I])if((v=e-_[I])<=L)return this.diff_bisectSplit_(t,i,L,E,h)}}for(var b=-m+d;b<=m-u;b+=2){for(var v,I=a+b,w=(v=b==-m||b!=m&&_[I-1]<_[I+1]?_[I+1]:_[I-1]+1)-b;v<e&&w<n&&t.charAt(e-v-1)==i.charAt(n-w-1);)v++,w++;if(e<(_[I]=v))u+=2;else if(n<w)d+=2;else if(!g)if(0<=(D=a+l-b)&&D<r&&-1!=s[D]){var L,E=a+(L=s[D])-D;if((v=e-v)<=L)return this.diff_bisectSplit_(t,i,L,E,h)}}}return[new diff_match_patch.Diff(DIFF_DELETE,t),new diff_match_patch.Diff(DIFF_INSERT,i)]},diff_match_patch.prototype.diff_bisectSplit_=function(t,i,h,e,n){var f=t.substring(0,h),a=i.substring(0,e),h=t.substring(h),e=i.substring(e),a=this.diff_main(f,a,!1,n),n=this.diff_main(h,e,!1,n);return a.concat(n)},diff_match_patch.prototype.diff_linesToChars_=function(t,i){var a=[],r={};function h(t){for(var i="",h=0,e=-1,n=a.length;e<t.length-1;){-1==(e=t.indexOf("\n",h))&&(e=t.length-1);var f=t.substring(h,e+1);(r.hasOwnProperty?r.hasOwnProperty(f):void 0!==r[f])?i+=String.fromCharCode(r[f]):(n==s&&(f=t.substring(h),e=t.length),i+=String.fromCharCode(n),r[f]=n,a[n++]=f),h=e+1}return i}a[0]="";var s=4e4,t=h(t),s=65535;return{chars1:t,chars2:h(i),lineArray:a}},diff_match_patch.prototype.diff_charsToLines_=function(t,i){for(var h=0;h<t.length;h++){for(var e=t[h][1],n=[],f=0;f<e.length;f++)n[f]=i[e.charCodeAt(f)];t[h][1]=n.join("")}},diff_match_patch.prototype.diff_commonPrefix=function(t,i){if(!t||!i||t.charAt(0)!=i.charAt(0))return 0;for(var h=0,e=Math.min(t.length,i.length),n=e,f=0;h<n;)t.substring(f,n)==i.substring(f,n)?f=h=n:e=n,n=Math.floor((e-h)/2+h);return n},diff_match_patch.prototype.diff_commonSuffix=function(t,i){if(!t||!i||t.charAt(t.length-1)!=i.charAt(i.length-1))return 0;for(var h=0,e=Math.min(t.length,i.length),n=e,f=0;h<n;)t.substring(t.length-n,t.length-f)==i.substring(i.length-n,i.length-f)?f=h=n:e=n,n=Math.floor((e-h)/2+h);return n},diff_match_patch.prototype.diff_commonOverlap_=function(t,i){var h=t.length,e=i.length;if(0==h||0==e)return 0;e<h?t=t.substring(h-e):h<e&&(i=i.substring(0,h));var n=Math.min(h,e);if(t==i)return n;for(var f=0,a=1;;){var r=t.substring(n-a),r=i.indexOf(r);if(-1==r)return f;a+=r,0!=r&&t.substring(n-a)!=i.substring(0,a)||(f=a,a++)}},diff_match_patch.prototype.diff_halfMatch_=function(t,i){if(this.Diff_Timeout<=0)return null;var h=t.length>i.length?t:i,e=t.length>i.length?i:t;if(h.length<4||2*e.length<h.length)return null;var g=this;function n(t,i,h){for(var e,n,f,a,r=t.substring(h,h+Math.floor(t.length/4)),s=-1,_="";-1!=(s=i.indexOf(r,s+1));){var c=g.diff_commonPrefix(t.substring(h),i.substring(s)),l=g.diff_commonSuffix(t.substring(0,h),i.substring(0,s));_.length<l+c&&(_=i.substring(s-l,s)+i.substring(s,s+c),e=t.substring(0,h-l),n=t.substring(h+c),f=i.substring(0,s-l),a=i.substring(s+c))}return 2*_.length>=t.length?[e,n,f,a,_]:null}var f,a,r,s,_=n(h,e,Math.ceil(h.length/4)),h=n(h,e,Math.ceil(h.length/2));return _||h?(h=!h||_&&_[4].length>h[4].length?_:h,t.length>i.length?(f=h[0],a=h[1],r=h[2],s=h[3]):(r=h[0],s=h[1],f=h[2],a=h[3]),[f,a,r,s,h[4]]):null},diff_match_patch.prototype.diff_cleanupSemantic=function(t){for(var i,h,e,n,f=!1,a=[],r=0,s=null,_=0,c=0,l=0,g=0,o=0;_<t.length;)t[_][0]==DIFF_EQUAL?(c=g,l=o,o=g=0,s=t[a[r++]=_][1]):(t[_][0]==DIFF_INSERT?g+=t[_][1].length:o+=t[_][1].length,s&&s.length<=Math.max(c,l)&&s.length<=Math.max(g,o)&&(t.splice(a[r-1],0,new diff_match_patch.Diff(DIFF_DELETE,s)),t[a[r-1]+1][0]=DIFF_INSERT,r--,_=0<--r?a[r-1]:-1,o=g=l=c=0,f=!(s=null))),_++;for(f&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),_=1;_<t.length;)t[_-1][0]==DIFF_DELETE&&t[_][0]==DIFF_INSERT&&(i=t[_-1][1],h=t[_][1],e=this.diff_commonOverlap_(i,h),(n=this.diff_commonOverlap_(h,i))<=e?(e>=i.length/2||e>=h.length/2)&&(t.splice(_,0,new diff_match_patch.Diff(DIFF_EQUAL,h.substring(0,e))),t[_-1][1]=i.substring(0,i.length-e),t[_+1][1]=h.substring(e),_++):(n>=i.length/2||n>=h.length/2)&&(t.splice(_,0,new diff_match_patch.Diff(DIFF_EQUAL,i.substring(0,n))),t[_-1][0]=DIFF_INSERT,t[_-1][1]=h.substring(0,h.length-n),t[_+1][0]=DIFF_DELETE,t[_+1][1]=i.substring(n),_++),_++),_++},diff_match_patch.prototype.diff_cleanupSemanticLossless=function(t){function i(t,i){if(!t||!i)return 6;var h=t.charAt(t.length-1),e=i.charAt(0),n=h.match(diff_match_patch.nonAlphaNumericRegex_),f=e.match(diff_match_patch.nonAlphaNumericRegex_),a=n&&h.match(diff_match_patch.whitespaceRegex_),r=f&&e.match(diff_match_patch.whitespaceRegex_),h=a&&h.match(diff_match_patch.linebreakRegex_),e=r&&e.match(diff_match_patch.linebreakRegex_),t=h&&t.match(diff_match_patch.blanklineEndRegex_),i=e&&i.match(diff_match_patch.blanklineStartRegex_);return t||i?5:h||e?4:n&&!a&&r?3:a||r?2:n||f?1:0}for(var h=1;h<t.length-1;){if(t[h-1][0]==DIFF_EQUAL&&t[h+1][0]==DIFF_EQUAL){var e,n=t[h-1][1],f=t[h][1],a=t[h+1][1],r=this.diff_commonSuffix(n,f);r&&(e=f.substring(f.length-r),n=n.substring(0,n.length-r),f=e+f.substring(0,f.length-r),a=e+a);for(var s=n,_=f,c=a,l=i(n,f)+i(f,a);f.charAt(0)===a.charAt(0);){n+=f.charAt(0),f=f.substring(1)+a.charAt(0),a=a.substring(1);var g=i(n,f)+i(f,a);l<=g&&(l=g,s=n,_=f,c=a)}t[h-1][1]!=s&&(s?t[h-1][1]=s:(t.splice(h-1,1),h--),t[h][1]=_,c?t[h+1][1]=c:(t.splice(h+1,1),h--))}h++}},diff_match_patch.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,diff_match_patch.whitespaceRegex_=/\s/,diff_match_patch.linebreakRegex_=/[\r\n]/,diff_match_patch.blanklineEndRegex_=/\n\r?\n$/,diff_match_patch.blanklineStartRegex_=/^\r?\n\r?\n/,diff_match_patch.prototype.diff_cleanupEfficiency=function(t){for(var i=!1,h=[],e=0,n=null,f=0,a=!1,r=!1,s=!1,_=!1;f<t.length;)t[f][0]==DIFF_EQUAL?(n=t[f][1].length<this.Diff_EditCost&&(s||_)?(a=s,r=_,t[h[e++]=f][1]):(e=0,null),s=_=!1):(t[f][0]==DIFF_DELETE?_=!0:s=!0,n&&(a&&r&&s&&_||n.length<this.Diff_EditCost/2&&a+r+s+_==3)&&(t.splice(h[e-1],0,new diff_match_patch.Diff(DIFF_DELETE,n)),t[h[e-1]+1][0]=DIFF_INSERT,e--,n=null,a&&r?(s=_=!0,e=0):(f=0<--e?h[e-1]:-1,s=_=!1),i=!0)),f++;i&&this.diff_cleanupMerge(t)},diff_match_patch.prototype.diff_cleanupMerge=function(t){t.push(new diff_match_patch.Diff(DIFF_EQUAL,""));for(var i,h=0,e=0,n=0,f="",a="";h<t.length;)switch(t[h][0]){case DIFF_INSERT:n++,a+=t[h][1],h++;break;case DIFF_DELETE:e++,f+=t[h][1],h++;break;case DIFF_EQUAL:1<e+n?(0!==e&&0!==n&&(0!==(i=this.diff_commonPrefix(a,f))&&(0<h-e-n&&t[h-e-n-1][0]==DIFF_EQUAL?t[h-e-n-1][1]+=a.substring(0,i):(t.splice(0,0,new diff_match_patch.Diff(DIFF_EQUAL,a.substring(0,i))),h++),a=a.substring(i),f=f.substring(i)),0!==(i=this.diff_commonSuffix(a,f))&&(t[h][1]=a.substring(a.length-i)+t[h][1],a=a.substring(0,a.length-i),f=f.substring(0,f.length-i))),h-=e+n,t.splice(h,e+n),f.length&&(t.splice(h,0,new diff_match_patch.Diff(DIFF_DELETE,f)),h++),a.length&&(t.splice(h,0,new diff_match_patch.Diff(DIFF_INSERT,a)),h++),h++):0!==h&&t[h-1][0]==DIFF_EQUAL?(t[h-1][1]+=t[h][1],t.splice(h,1)):h++,e=n=0,a=f=""}""===t[t.length-1][1]&&t.pop();for(var r=!1,h=1;h<t.length-1;)t[h-1][0]==DIFF_EQUAL&&t[h+1][0]==DIFF_EQUAL&&(t[h][1].substring(t[h][1].length-t[h-1][1].length)==t[h-1][1]?(t[h][1]=t[h-1][1]+t[h][1].substring(0,t[h][1].length-t[h-1][1].length),t[h+1][1]=t[h-1][1]+t[h+1][1],t.splice(h-1,1),r=!0):t[h][1].substring(0,t[h+1][1].length)==t[h+1][1]&&(t[h-1][1]+=t[h+1][1],t[h][1]=t[h][1].substring(t[h+1][1].length)+t[h+1][1],t.splice(h+1,1),r=!0)),h++;r&&this.diff_cleanupMerge(t)},diff_match_patch.prototype.diff_xIndex=function(t,i){for(var h=0,e=0,n=0,f=0,a=0;a<t.length&&(t[a][0]!==DIFF_INSERT&&(h+=t[a][1].length),t[a][0]!==DIFF_DELETE&&(e+=t[a][1].length),!(i<h));a++)n=h,f=e;return t.length!=a&&t[a][0]===DIFF_DELETE?f:f+(i-n)},diff_match_patch.prototype.diff_prettyHtml=function(t){for(var i=[],h=/&/g,e=/</g,n=/>/g,f=/\n/g,a=0;a<t.length;a++){var r=t[a][0],s=t[a][1].replace(h,"&amp;").replace(e,"&lt;").replace(n,"&gt;").replace(f,"&para;<br>");switch(r){case DIFF_INSERT:i[a]='<ins style="background:#e6ffe6;">'+s+"</ins>";break;case DIFF_DELETE:i[a]='<del style="background:#ffe6e6;">'+s+"</del>";break;case DIFF_EQUAL:i[a]="<span>"+s+"</span>"}}return i.join("")},diff_match_patch.prototype.diff_text1=function(t){for(var i=[],h=0;h<t.length;h++)t[h][0]!==DIFF_INSERT&&(i[h]=t[h][1]);return i.join("")},diff_match_patch.prototype.diff_text2=function(t){for(var i=[],h=0;h<t.length;h++)t[h][0]!==DIFF_DELETE&&(i[h]=t[h][1]);return i.join("")},diff_match_patch.prototype.diff_levenshtein=function(t){for(var i=0,h=0,e=0,n=0;n<t.length;n++){var f=t[n][0],a=t[n][1];switch(f){case DIFF_INSERT:h+=a.length;break;case DIFF_DELETE:e+=a.length;break;case DIFF_EQUAL:i+=Math.max(h,e),e=h=0}}return i+=Math.max(h,e)},diff_match_patch.prototype.diff_toDelta=function(t){for(var i=[],h=0;h<t.length;h++)switch(t[h][0]){case DIFF_INSERT:i[h]="+"+encodeURI(t[h][1]);break;case DIFF_DELETE:i[h]="-"+t[h][1].length;break;case DIFF_EQUAL:i[h]="="+t[h][1].length}return i.join("\t").replace(/%20/g," ")},diff_match_patch.prototype.diff_fromDelta=function(t,i){for(var h=[],e=0,n=0,f=i.split(/\t/g),a=0;a<f.length;a++){var r=f[a].substring(1);switch(f[a].charAt(0)){case"+":try{h[e++]=new diff_match_patch.Diff(DIFF_INSERT,decodeURI(r))}catch(t){throw new Error("Illegal escape in diff_fromDelta: "+r)}break;case"-":case"=":var s=parseInt(r,10);if(isNaN(s)||s<0)throw new Error("Invalid number in diff_fromDelta: "+r);s=t.substring(n,n+=s);"="==f[a].charAt(0)?h[e++]=new diff_match_patch.Diff(DIFF_EQUAL,s):h[e++]=new diff_match_patch.Diff(DIFF_DELETE,s);break;default:if(f[a])throw new Error("Invalid diff operation in diff_fromDelta: "+f[a])}}if(n!=t.length)throw new Error("Delta length ("+n+") does not equal source text length ("+t.length+").");return h},diff_match_patch.prototype.match_main=function(t,i,h){if(null==t||null==i||null==h)throw new Error("Null input. (match_main)");return h=Math.max(0,Math.min(h,t.length)),t==i?0:t.length?t.substring(h,h+i.length)==i?h:this.match_bitap_(t,i,h):-1},diff_match_patch.prototype.match_bitap_=function(t,h,e){if(h.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var i=this.match_alphabet_(h),n=this;function f(t,i){t/=h.length,i=Math.abs(e-i);return n.Match_Distance?t+i/n.Match_Distance:i?1:t}var a=this.Match_Threshold;-1!=(l=t.indexOf(h,e))&&(a=Math.min(f(0,l),a),-1!=(l=t.lastIndexOf(h,e+h.length))&&(a=Math.min(f(0,l),a)));for(var r,s,_,c=1<<h.length-1,l=-1,g=h.length+t.length,o=0;o<h.length;o++){for(r=0,s=g;r<s;)f(o,e+s)<=a?r=s:g=s,s=Math.floor((g-r)/2+r);g=s;var p=Math.max(1,e-s+1),d=Math.min(e+s,t.length)+h.length,u=Array(d+2);u[d+1]=(1<<o)-1;for(var m=d;p<=m;m--){var F=i[t.charAt(m-1)];if(u[m]=0===o?(u[m+1]<<1|1)&F:(u[m+1]<<1|1)&F|(_[m+1]|_[m])<<1|1|_[m+1],u[m]&c){F=f(o,m-1);if(F<=a){if(a=F,!(e<(l=m-1)))break;p=Math.max(1,2*e-l)}}}if(f(o+1,e)>a)break;_=u}return l},diff_match_patch.prototype.match_alphabet_=function(t){for(var i={},h=0;h<t.length;h++)i[t.charAt(h)]=0;for(h=0;h<t.length;h++)i[t.charAt(h)]|=1<<t.length-h-1;return i},diff_match_patch.prototype.patch_addContext_=function(t,i){if(0!=i.length){if(null===t.start2)throw Error("patch not initialized");for(var h=i.substring(t.start2,t.start2+t.length1),e=0;i.indexOf(h)!=i.lastIndexOf(h)&&h.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)e+=this.Patch_Margin,h=i.substring(t.start2-e,t.start2+t.length1+e);e+=this.Patch_Margin;var n=i.substring(t.start2-e,t.start2);n&&t.diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL,n));var f=i.substring(t.start2+t.length1,t.start2+t.length1+e);f&&t.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL,f)),t.start1-=n.length,t.start2-=n.length,t.length1+=n.length+f.length,t.length2+=n.length+f.length}},diff_match_patch.prototype.patch_make=function(t,i,h){var e,n;if("string"==typeof t&&"string"==typeof i&&void 0===h)e=t,2<(n=this.diff_main(e,i,!0)).length&&(this.diff_cleanupSemantic(n),this.diff_cleanupEfficiency(n));else if(t&&"object"==typeof t&&void 0===i&&void 0===h)n=t,e=this.diff_text1(n);else if("string"==typeof t&&i&&"object"==typeof i&&void 0===h)e=t,n=i;else{if("string"!=typeof t||"string"!=typeof i||!h||"object"!=typeof h)throw new Error("Unknown call format to patch_make.");e=t,n=h}if(0===n.length)return[];for(var f=[],a=new diff_match_patch.patch_obj,r=0,s=0,_=0,c=e,l=e,g=0;g<n.length;g++){var o=n[g][0],p=n[g][1];switch(r||o===DIFF_EQUAL||(a.start1=s,a.start2=_),o){case DIFF_INSERT:a.diffs[r++]=n[g],a.length2+=p.length,l=l.substring(0,_)+p+l.substring(_);break;case DIFF_DELETE:a.length1+=p.length,a.diffs[r++]=n[g],l=l.substring(0,_)+l.substring(_+p.length);break;case DIFF_EQUAL:p.length<=2*this.Patch_Margin&&r&&n.length!=g+1?(a.diffs[r++]=n[g],a.length1+=p.length,a.length2+=p.length):p.length>=2*this.Patch_Margin&&r&&(this.patch_addContext_(a,c),f.push(a),a=new diff_match_patch.patch_obj,r=0,c=l,s=_)}o!==DIFF_INSERT&&(s+=p.length),o!==DIFF_DELETE&&(_+=p.length)}return r&&(this.patch_addContext_(a,c),f.push(a)),f},diff_match_patch.prototype.patch_deepCopy=function(t){for(var i=[],h=0;h<t.length;h++){var e=t[h],n=new diff_match_patch.patch_obj;n.diffs=[];for(var f=0;f<e.diffs.length;f++)n.diffs[f]=new diff_match_patch.Diff(e.diffs[f][0],e.diffs[f][1]);n.start1=e.start1,n.start2=e.start2,n.length1=e.length1,n.length2=e.length2,i[h]=n}return i},diff_match_patch.prototype.patch_apply=function(t,i){if(0==t.length)return[i,[]];t=this.patch_deepCopy(t);var h=this.patch_addPadding(t);i=h+i+h,this.patch_splitMax(t);for(var e=0,n=[],f=0;f<t.length;f++){var a,r=t[f].start2+e,s=this.diff_text1(t[f].diffs),_=-1;if(s.length>this.Match_MaxBits?-1!=(a=this.match_main(i,s.substring(0,this.Match_MaxBits),r))&&(-1==(_=this.match_main(i,s.substring(s.length-this.Match_MaxBits),r+s.length-this.Match_MaxBits))||_<=a)&&(a=-1):a=this.match_main(i,s,r),-1==a)n[f]=!1,e-=t[f].length2-t[f].length1;else if(n[f]=!0,e=a-r,s==(_=-1==_?i.substring(a,a+s.length):i.substring(a,_+this.Match_MaxBits)))i=i.substring(0,a)+this.diff_text2(t[f].diffs)+i.substring(a+s.length);else{var c=this.diff_main(s,_,!1);if(s.length>this.Match_MaxBits&&this.diff_levenshtein(c)/s.length>this.Patch_DeleteThreshold)n[f]=!1;else{this.diff_cleanupSemanticLossless(c);for(var l,g=0,o=0;o<t[f].diffs.length;o++){var p=t[f].diffs[o];p[0]!==DIFF_EQUAL&&(l=this.diff_xIndex(c,g)),p[0]===DIFF_INSERT?i=i.substring(0,a+l)+p[1]+i.substring(a+l):p[0]===DIFF_DELETE&&(i=i.substring(0,a+l)+i.substring(a+this.diff_xIndex(c,g+p[1].length))),p[0]!==DIFF_DELETE&&(g+=p[1].length)}}}}return[i=i.substring(h.length,i.length-h.length),n]},diff_match_patch.prototype.patch_addPadding=function(t){for(var i=this.Patch_Margin,h="",e=1;e<=i;e++)h+=String.fromCharCode(e);for(e=0;e<t.length;e++)t[e].start1+=i,t[e].start2+=i;var n,f=t[0],a=f.diffs;return 0==a.length||a[0][0]!=DIFF_EQUAL?(a.unshift(new diff_match_patch.Diff(DIFF_EQUAL,h)),f.start1-=i,f.start2-=i,f.length1+=i,f.length2+=i):i>a[0][1].length&&(n=i-a[0][1].length,a[0][1]=h.substring(a[0][1].length)+a[0][1],f.start1-=n,f.start2-=n,f.length1+=n,f.length2+=n),0==(a=(f=t[t.length-1]).diffs).length||a[a.length-1][0]!=DIFF_EQUAL?(a.push(new diff_match_patch.Diff(DIFF_EQUAL,h)),f.length1+=i,f.length2+=i):i>a[a.length-1][1].length&&(n=i-a[a.length-1][1].length,a[a.length-1][1]+=h.substring(0,n),f.length1+=n,f.length2+=n),h},diff_match_patch.prototype.patch_splitMax=function(t){for(var i=this.Match_MaxBits,h=0;h<t.length;h++)if(!(t[h].length1<=i)){var e=t[h];t.splice(h--,1);for(var n=e.start1,f=e.start2,a="";0!==e.diffs.length;){var r=new diff_match_patch.patch_obj,s=!0;for(r.start1=n-a.length,r.start2=f-a.length,""!==a&&(r.length1=r.length2=a.length,r.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL,a)));0!==e.diffs.length&&r.length1<i-this.Patch_Margin;){var _=e.diffs[0][0],c=e.diffs[0][1];_===DIFF_INSERT?(r.length2+=c.length,f+=c.length,r.diffs.push(e.diffs.shift()),s=!1):_===DIFF_DELETE&&1==r.diffs.length&&r.diffs[0][0]==DIFF_EQUAL&&c.length>2*i?(r.length1+=c.length,n+=c.length,s=!1,r.diffs.push(new diff_match_patch.Diff(_,c)),e.diffs.shift()):(c=c.substring(0,i-r.length1-this.Patch_Margin),r.length1+=c.length,n+=c.length,_===DIFF_EQUAL?(r.length2+=c.length,f+=c.length):s=!1,r.diffs.push(new diff_match_patch.Diff(_,c)),c==e.diffs[0][1]?e.diffs.shift():e.diffs[0][1]=e.diffs[0][1].substring(c.length))}a=(a=this.diff_text2(r.diffs)).substring(a.length-this.Patch_Margin);var l=this.diff_text1(e.diffs).substring(0,this.Patch_Margin);""!==l&&(r.length1+=l.length,r.length2+=l.length,0!==r.diffs.length&&r.diffs[r.diffs.length-1][0]===DIFF_EQUAL?r.diffs[r.diffs.length-1][1]+=l:r.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL,l))),s||t.splice(++h,0,r)}}},diff_match_patch.prototype.patch_toText=function(t){for(var i=[],h=0;h<t.length;h++)i[h]=t[h];return i.join("")},diff_match_patch.prototype.patch_fromText=function(t){var i=[];if(!t)return i;for(var h=t.split("\n"),e=0,n=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;e<h.length;){var f=h[e].match(n);if(!f)throw new Error("Invalid patch string: "+h[e]);var a=new diff_match_patch.patch_obj;for(i.push(a),a.start1=parseInt(f[1],10),""===f[2]?(a.start1--,a.length1=1):"0"==f[2]?a.length1=0:(a.start1--,a.length1=parseInt(f[2],10)),a.start2=parseInt(f[3],10),""===f[4]?(a.start2--,a.length2=1):"0"==f[4]?a.length2=0:(a.start2--,a.length2=parseInt(f[4],10)),e++;e<h.length;){var r=h[e].charAt(0);try{var s=decodeURI(h[e].substring(1))}catch(t){throw new Error("Illegal escape in patch_fromText: "+s)}if("-"==r)a.diffs.push(new diff_match_patch.Diff(DIFF_DELETE,s));else if("+"==r)a.diffs.push(new diff_match_patch.Diff(DIFF_INSERT,s));else if(" "==r)a.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL,s));else{if("@"==r)break;if(""!==r)throw new Error('Invalid patch mode "'+r+'" in: '+s)}e++}}return i},diff_match_patch.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},diff_match_patch.patch_obj.prototype.toString=function(){for(var t,i=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,h=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2,e=["@@ -"+i+" +"+h+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case DIFF_INSERT:t="+";break;case DIFF_DELETE:t="-";break;case DIFF_EQUAL:t=" "}e[n+1]=t+encodeURI(this.diffs[n][1])+"\n"}return e.join("").replace(/%20/g," ")},module.exports=diff_match_patch,module.exports.diff_match_patch=diff_match_patch,module.exports.DIFF_DELETE=DIFF_DELETE,module.exports.DIFF_INSERT=DIFF_INSERT,module.exports.DIFF_EQUAL=DIFF_EQUAL;