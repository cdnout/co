import{_ as _defineProperty}from"./chunk-1fafdf15.js";import"./helpers.js";import"./chunk-ce068f0a.js";import{F as FormElementMixin}from"./chunk-1f2cfc27.js";import{I as Icon}from"./chunk-4139443a.js";import{_ as __vue_normalize__,r as registerComponent,u as use}from"./chunk-cca88db8.js";import{I as Input}from"./chunk-f28f2092.js";var _components,script={name:"BNumberinput",components:(_components={},_defineProperty(_components,Icon.name,Icon),_defineProperty(_components,Input.name,Input),_components),mixins:[FormElementMixin],inheritAttrs:!1,props:{value:Number,min:{type:[Number,String]},max:[Number,String],step:[Number,String],minStep:[Number,String],exponential:[Boolean,Number],disabled:Boolean,type:{type:String,default:"is-primary"},editable:{type:Boolean,default:!0},controls:{type:Boolean,default:!0},controlsAlignment:{type:String,default:"center",validator:function(t){return["left","right","center"].indexOf(t)>=0}},controlsRounded:{type:Boolean,default:!1},controlsPosition:String,placeholder:[Number,String]},data:function(){return{newValue:this.value,newStep:this.step||1,newMinStep:this.minStep,timesPressed:1,_elementRef:"input"}},computed:{computedValue:{get:function(){return this.newValue},set:function(t){var e=t;""!==t&&null!=t||(e=void 0!==this.minNumber?this.minNumber:null),this.newValue=e,this.$emit("input",e),!this.isValid&&this.$refs.input.checkHtml5Validity()}},controlsLeft:function(){return this.controls&&"right"!==this.controlsAlignment?"left"===this.controlsAlignment?["minus","plus"]:["minus"]:[]},controlsRight:function(){return this.controls&&"left"!==this.controlsAlignment?"right"===this.controlsAlignment?["minus","plus"]:["plus"]:[]},fieldClasses:function(){return[{"has-addons":"compact"===this.controlsPosition},{"is-grouped":"compact"!==this.controlsPosition},{"is-expanded":this.expanded}]},buttonClasses:function(){return[this.type,this.size,{"is-rounded":this.controlsRounded}]},minNumber:function(){return"string"==typeof this.min?parseFloat(this.min):this.min},maxNumber:function(){return"string"==typeof this.max?parseFloat(this.max):this.max},stepNumber:function(){return"string"==typeof this.newStep?parseFloat(this.newStep):this.newStep},minStepNumber:function(){var t=void 0!==this.newMinStep?this.newMinStep:this.newStep;return"string"==typeof t?parseFloat(t):t},disabledMin:function(){return this.computedValue-this.stepNumber<this.minNumber},disabledMax:function(){return this.computedValue+this.stepNumber>this.maxNumber},stepDecimals:function(){var t=this.minStepNumber.toString(),e=t.indexOf(".");return e>=0?t.substring(e+1).length:0}},watch:{value:{immediate:!0,handler:function(t){this.newValue=t}},step:function(t){this.newStep=t},minStep:function(t){this.newMinStep=t}},methods:{decrement:function(){if(void 0===this.minNumber||this.computedValue-this.stepNumber>=this.minNumber){if(null===this.computedValue||void 0===this.computedValue){if(this.maxNumber)return void(this.computedValue=this.maxNumber);this.computedValue=0}var t=this.computedValue-this.stepNumber;this.computedValue=parseFloat(t.toFixed(this.stepDecimals))}},increment:function(){if(void 0===this.maxNumber||this.computedValue+this.stepNumber<=this.maxNumber){if(null===this.computedValue||void 0===this.computedValue){if(this.minNumber)return void(this.computedValue=this.minNumber);this.computedValue=0}var t=this.computedValue+this.stepNumber;this.computedValue=parseFloat(t.toFixed(this.stepDecimals))}},onControlClick:function(t,e){0===t.detail&&"click"===t.type&&(e?this.increment():this.decrement())},longPressTick:function(t){var e=this;t?this.increment():this.decrement(),this._$intervalRef=setTimeout(function(){e.longPressTick(t)},this.exponential?250/(this.exponential*this.timesPressed++):250)},onStartLongPress:function(t,e){0!==t.button&&"touchstart"!==t.type||(clearTimeout(this._$intervalRef),this.longPressTick(e))},onStopLongPress:function(){this._$intervalRef&&(this.timesPressed=1,clearTimeout(this._$intervalRef),this._$intervalRef=null)}}};const __vue_script__=script;var __vue_render__=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"b-numberinput field",class:t.fieldClasses},[t._l(t.controlsLeft,function(e){return n("p",{key:e,class:["control",e],on:{mouseup:t.onStopLongPress,mouseleave:t.onStopLongPress,touchend:t.onStopLongPress,touchcancel:t.onStopLongPress}},[n("button",{staticClass:"button",class:t.buttonClasses,attrs:{type:"button",disabled:t.disabled||"plus"===e?t.disabledMax:t.disabledMin},on:{mousedown:function(n){return t.onStartLongPress(n,"plus"===e)},touchstart:function(n){return n.preventDefault(),t.onStartLongPress(n,"plus"===e)},click:function(n){return t.onControlClick(n,"plus"===e)}}},[n("b-icon",{attrs:{both:"",icon:e,pack:t.iconPack,size:t.iconSize}})],1)])}),n("b-input",t._b({ref:"input",attrs:{type:"number",step:t.minStepNumber,max:t.max,min:t.min,size:t.size,disabled:t.disabled,readonly:!t.editable,loading:t.loading,rounded:t.rounded,icon:t.icon,"icon-pack":t.iconPack,autocomplete:t.autocomplete,expanded:t.expanded,placeholder:t.placeholder,"use-html5-validation":t.useHtml5Validation},on:{focus:function(e){return t.$emit("focus",e)},blur:function(e){return t.$emit("blur",e)}},model:{value:t.computedValue,callback:function(e){t.computedValue=t._n(e)},expression:"computedValue"}},"b-input",t.$attrs,!1)),t._l(t.controlsRight,function(e){return n("p",{key:e,class:["control",e],on:{mouseup:t.onStopLongPress,mouseleave:t.onStopLongPress,touchend:t.onStopLongPress,touchcancel:t.onStopLongPress}},[n("button",{staticClass:"button",class:t.buttonClasses,attrs:{type:"button",disabled:t.disabled||"plus"===e?t.disabledMax:t.disabledMin},on:{mousedown:function(n){return t.onStartLongPress(n,"plus"===e)},touchstart:function(n){return n.preventDefault(),t.onStartLongPress(n,"plus"===e)},click:function(n){return t.onControlClick(n,"plus"===e)}}},[n("b-icon",{attrs:{both:"",icon:e,pack:t.iconPack,size:t.iconSize}})],1)])})],2)},__vue_staticRenderFns__=[];const __vue_inject_styles__=void 0,__vue_scope_id__=void 0,__vue_module_identifier__=void 0,__vue_is_functional_template__=!1;var Numberinput=__vue_normalize__({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},void 0,__vue_script__,void 0,!1,void 0,void 0,void 0),Plugin={install:function(t){registerComponent(t,Numberinput)}};use(Plugin);export default Plugin;export{Numberinput as BNumberinput};