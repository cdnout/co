!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.micromustache=e()}}(function(){function e(e,n,o){return"string"!=typeof e?e:("function"==typeof n&&"undefined"==typeof o&&(o=n),"object"==typeof n&&null!==n||(n={}),e.replace(/\{\{\s*(.*?)\s*\}\}/g,function(e,r){function f(e,o){if(null===e)return"";var r=i[o],u=e[r],c=typeof u;return"function"===c?t(u.call(n,r,e,i,o)):"object"===c?(o++,o<i.length?f(u,o):t(u)):t(u)}if(o){var u=o(n,r);if("undefined"!=typeof u)return t(u)}var i=r.split(".");return f(n,0)}))}function n(n,t){return function(o){return e(n,o,t)}}function t(e){switch(typeof e){case"string":case"number":case"boolean":return e;case"object":if(null===e)return"";try{return JSON.stringify(e)}catch(e){return"{...}"}return e?toJsonPolitely(e):"";default:return""}}var o,r;return o={exports:r={}},r.to_html=r.render=e,r.compile=n,o.exports});