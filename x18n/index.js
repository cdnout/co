(function(){var t,i,e=function(t,i){return function(){return t.apply(i,arguments)}},n=function(t,i){function e(){this.constructor=t}for(var n in i)s.call(i,n)&&(t[n]=i[n]);return e.prototype=i.prototype,t.prototype=new e,t.__super__=i.prototype,t},s={}.hasOwnProperty,o=[].slice,r=[].indexOf||function(t){for(var i=0,e=this.length;i<e;i++)if(i in this&&this[i]===t)return i;return-1};i=function(t){var i;return new(i=function(t){function i(){this.t=e(this.t,this),i.__super__.constructor.call(this),this.dict={},this.defaultlocal="en",this.chosenLocal=void 0,this.availableLocales=[],this.locales=[],this.missingTranslations={},this.on("dict:change",function(t){return function(){return t.sortLocales()}}(this))}return n(i,t),i.prototype.utils={merge:function(t,i){var e,n,s;n=[];for(e in i)s=i[e],"object"==typeof s&&"object"==typeof t[e]?n.push(this.merge(t[e],s)):n.push(t[e]=s);return n},filter:function(t,i){var e,n,s,o;for(s=[],e=0,n=t.length;e<n;e++)o=t[e],i(o)&&s.push(o);return s},unique:function(t){var i,e,n,s,o,r;for(o={},i=0,n=t.length;i<n;i++)r=t[i],o[r]=r;s=[];for(e in o)r=o[e],s.push(r);return s},getByDotNotation:function(t,i){var e;for(e=i.split(".");0!==e.length&&void 0!==t;)t=t[e[0]],e.shift();return t},isPlainObject:function(t){return!!t&&"[object Object]"===Object.prototype.toString.call(t)}},i.prototype.register=function(t,i){return t in this.dict||(this.dict[t]={},this.availableLocales.push(t)),this.utils.merge(this.dict[t],i),this.trigger("dict:change",[t])},i.prototype.set=function(t){return this.chosenLocal=t,this.sortLocales()},i.prototype.setDefault=function(t){return this.defaultLocal=t,this.sortLocales()},i.prototype.detectLocal=function(){return navigator.userLanguage||navigator.language},i.prototype.similiarLocales=function(t){return t=String(t).slice(0,2).toLowerCase(),this.utils.filter(this.availableLocales,function(i){return t!==i&&0===i.toLowerCase().indexOf(t)})},i.prototype.sortLocales=function(){var t,i,e,n,s,l;for(l=this.locales.slice(),t=[this.chosenLocal].concat(o.call(this.similiarLocales(this.chosenLocal)),[this.detectLocal()],o.call(this.similiarLocales(this.detectLocal())),[this.defaultLocal],o.call(this.similiarLocales(this.defaultlocal)),["en"],o.call(this.similiarLocales("en"))),s=[],i=0,e=t.length;i<e;i++)n=t[i],r.call(this.availableLocales,n)>=0&&s.push(n);if(s.push.apply(s,this.availableLocales),this.locales=this.utils.unique(s),l.join(",")!==this.locales.join(","))return this.trigger("lang:change",[this.locales,l])},i.prototype.interpolate=function(){var t,i;return i=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],i=this.utils.isPlainObject(t[0])?i.replace(/%\{([^}]+)\}/g,function(i,e){return t[0][e]}):i.replace(/%(\d+)/g,function(i,e){return t[Number(e)-1]})},i.prototype.t=function(){var t,i,e,n,s,r,l;for(e=arguments[0],i=2<=arguments.length?o.call(arguments,1):[],l=void 0,r=this.locales,t=0,n=r.length;t<n&&(s=r[t],!(l=this.utils.getByDotNotation(this.dict[s],e)));t++)s in this.missingTranslations||(this.missingTranslations[s]=[]),this.missingTranslations[s].push(e),this.missingTranslations[s]=this.utils.unique(this.missingTranslations[s]),this.trigger("missing-translation",[s,e]);return"string"==typeof l?l=this.interpolate.apply(this,[l].concat(o.call(i))):void 0!==l&&(l.plural=function(t){return function(i){return i in l?l[i]:t.interpolate(l.n,i)}}(this)),l},i}(t))},"undefined"!=typeof module&&null!==module&&null!=module.exports?(t=require("observable_js"),module.exports=i(t)):"function"==typeof define&&define.amd?define("x18n",["observable_js"],function(t){return i(t)}):window.x18n=i(window.Observable)}).call(this);
//# sourceMappingURL=x18n.min.js.map