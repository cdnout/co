(function(){var t,n,e,i;e=function(t,n){return Object.prototype.toString.call(n).match(/\s(\w+)/)[1].toLowerCase()===t},n=function(t){return!!t&&e("object",t)},i=function(t){return e("array",t)?t:[t]},t=function(){function t(){this.__eventStore={},this.__asyncEvents=!0}return t.mixin=function(n){var e,i,o,r;n.__eventStore={},o=t.prototype,r=[];for(i in o)e=o[i],r.push(n[i]=e);return r},t.prototype.on=function(t,e,o){var r,s,l,a,u;if(null==o&&(o=!1),n(t))for(u in t)e=t[u],this.on(u,e);else for(a=i(t),s=0,l=a.length;s<l;s++)u=a[s],(r=this.__eventStore)[u]||(r[u]=[]),this.__eventStore[u].push({fn:e,once:o});return this},t.prototype.once=function(t,n){return n?this.on(t,n,!0):this.on(t,!0)},t.prototype.off=function(t,e){var o,r,s,l,a,u,c;if(!e)for(a=i(t),o=0,s=a.length;o<s;o++)c=a[o],this.__eventStore[c]=[];if(n(t))for(c in t)e=t[c],this.off(c,e);else for(u=i(t),r=0,l=u.length;r<l;r++)c=u[r],this.__eventStore[c]=(this.__eventStore[c]||[]).filter(function(t){return t.fn!==e});return this},t.prototype.trigger=function(t,n){var e;return n||(n=[]),null!=(e=this.__eventStore[t])&&e.forEach(function(e){return function(i){var o,r;if(o=i.fn,r=i.once,e.__asyncEvents?setTimeout(function(){return o.apply(null,n)},1):o.apply(null,n),r)return e.off(t,o)}}(this)),this},t}(),"function"==typeof define&&define.amd?define("observable",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:window.Observable=t}).call(this),function(){var t,n,e=function(t,n){return function(){return t.apply(n,arguments)}},i=function(t,n){function e(){this.constructor=t}for(var i in n)o.call(n,i)&&(t[i]=n[i]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t},o={}.hasOwnProperty,r=[].slice,s=[].indexOf||function(t){for(var n=0,e=this.length;n<e;n++)if(n in this&&this[n]===t)return n;return-1};n=function(t){var n;return new(n=function(t){function n(){this.t=e(this.t,this),n.__super__.constructor.call(this),this.dict={},this.defaultlocal="en",this.chosenLocal=void 0,this.availableLocales=[],this.locales=[],this.missingTranslations={},this.on("dict:change",function(t){return function(){return t.sortLocales()}}(this))}return i(n,t),n.prototype.utils={merge:function(t,n){var e,i,o;i=[];for(e in n)o=n[e],"object"==typeof o&&"object"==typeof t[e]?i.push(this.merge(t[e],o)):i.push(t[e]=o);return i},filter:function(t,n){var e,i,o,r;for(o=[],e=0,i=t.length;e<i;e++)r=t[e],n(r)&&o.push(r);return o},unique:function(t){var n,e,i,o,r,s;for(r={},n=0,i=t.length;n<i;n++)s=t[n],r[s]=s;o=[];for(e in r)s=r[e],o.push(s);return o},getByDotNotation:function(t,n){var e;for(e=n.split(".");0!==e.length&&void 0!==t;)t=t[e[0]],e.shift();return t},isPlainObject:function(t){return!!t&&"[object Object]"===Object.prototype.toString.call(t)}},n.prototype.register=function(t,n){return t in this.dict||(this.dict[t]={},this.availableLocales.push(t)),this.utils.merge(this.dict[t],n),this.trigger("dict:change",[t])},n.prototype.set=function(t){return this.chosenLocal=t,this.sortLocales()},n.prototype.setDefault=function(t){return this.defaultLocal=t,this.sortLocales()},n.prototype.detectLocal=function(){return navigator.userLanguage||navigator.language},n.prototype.similiarLocales=function(t){return t=String(t).slice(0,2).toLowerCase(),this.utils.filter(this.availableLocales,function(n){return t!==n&&0===n.toLowerCase().indexOf(t)})},n.prototype.sortLocales=function(){var t,n,e,i,o,l;for(l=this.locales.slice(),t=[this.chosenLocal].concat(r.call(this.similiarLocales(this.chosenLocal)),[this.detectLocal()],r.call(this.similiarLocales(this.detectLocal())),[this.defaultLocal],r.call(this.similiarLocales(this.defaultlocal)),["en"],r.call(this.similiarLocales("en"))),o=[],n=0,e=t.length;n<e;n++)i=t[n],s.call(this.availableLocales,i)>=0&&o.push(i);if(o.push.apply(o,this.availableLocales),this.locales=this.utils.unique(o),l.join(",")!==this.locales.join(","))return this.trigger("lang:change",[this.locales,l])},n.prototype.interpolate=function(){var t,n;return n=arguments[0],t=2<=arguments.length?r.call(arguments,1):[],n=this.utils.isPlainObject(t[0])?n.replace(/%\{([^}]+)\}/g,function(n,e){return t[0][e]}):n.replace(/%(\d+)/g,function(n,e){return t[Number(e)-1]})},n.prototype.t=function(){var t,n,e,i,o,s,l;for(e=arguments[0],n=2<=arguments.length?r.call(arguments,1):[],l=void 0,s=this.locales,t=0,i=s.length;t<i&&(o=s[t],!(l=this.utils.getByDotNotation(this.dict[o],e)));t++)o in this.missingTranslations||(this.missingTranslations[o]=[]),this.missingTranslations[o].push(e),this.missingTranslations[o]=this.utils.unique(this.missingTranslations[o]),this.trigger("missing-translation",[o,e]);return"string"==typeof l?l=this.interpolate.apply(this,[l].concat(r.call(n))):void 0!==l&&(l.plural=function(t){return function(n){return n in l?l[n]:t.interpolate(l.n,n)}}(this)),l},n}(t))},"undefined"!=typeof module&&null!==module&&null!=module.exports?(t=require("observable_js"),module.exports=n(t)):"function"==typeof define&&define.amd?define("x18n",["observable_js"],function(t){return n(t)}):window.x18n=n(window.Observable)}.call(this);
//# sourceMappingURL=x18n_build.min.js.map