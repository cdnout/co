!function(t){function e(e,s,i){i=i||{},i.axesDefaults=i.axesDefaults||{},i.legend=i.legend||{},i.seriesDefaults=i.seriesDefaults||{};var o=!1;if(i.seriesDefaults.renderer==t.jqplot.MekkoRenderer)o=!0;else if(i.series)for(var h=0;h<i.series.length;h++)i.series[h].renderer==t.jqplot.MekkoRenderer&&(o=!0);o&&(i.axesDefaults.renderer=t.jqplot.MekkoAxisRenderer,i.legend.renderer=t.jqplot.MekkoLegendRenderer,i.legend.preDraw=!0)}t.jqplot.MekkoRenderer=function(){this.shapeRenderer=new t.jqplot.ShapeRenderer,this.borderColor=null,this.showBorders=!0},t.jqplot.MekkoRenderer.prototype.init=function(e,s){this.fill=!1,this.fillRect=!0,this.strokeRect=!0,this.shadow=!1,this._xwidth=0,this._xstart=0,t.extend(!0,this.renderer,e);var i={lineJoin:"miter",lineCap:"butt",isarc:!1,fillRect:this.fillRect,strokeRect:this.strokeRect};this.renderer.shapeRenderer.init(i),s.axes.x2axis._series.push(this),this._type="mekko"},t.jqplot.MekkoRenderer.prototype.setGridData=function(t){var e=this._xaxis.series_u2p,s=(this._yaxis.series_u2p,this._plotData);this.gridData=[],this._xwidth=e(this._sumy)-e(0),this.index>0&&(this._xstart=t.series[this.index-1]._xstart+t.series[this.index-1]._xwidth);for(var i,o,h=this.canvas.getHeight(),r=0,l=0;l<s.length;l++)null!=s[l]&&(r+=s[l][1],i=h-r/this._sumy*h,o=s[l][1]/this._sumy*h,this.gridData.push([this._xstart,i,this._xwidth,o]))},t.jqplot.MekkoRenderer.prototype.makeGridData=function(t,e){for(var s,i,o=(this._xaxis.series_u2p,this.canvas.getHeight()),h=0,r=[],l=0;l<t.length;l++)null!=t[l]&&(h+=t[l][1],s=o-h/this._sumy*o,i=t[l][1]/this._sumy*o,r.push([this._xstart,s,this._xwidth,i]));return r},t.jqplot.MekkoRenderer.prototype.draw=function(e,s,i){var o,h=void 0!=i?i:{},r=void 0!=h.showLine?h.showLine:this.showLine,l=new t.jqplot.ColorGenerator(this.seriesColors);if(e.save(),s.length&&r)for(o=0;o<s.length;o++)h.fillStyle=l.next(),this.renderer.showBorders?h.strokeStyle=this.renderer.borderColor:h.strokeStyle=h.fillStyle,this.renderer.shapeRenderer.draw(e,s[o],h);e.restore()},t.jqplot.MekkoRenderer.prototype.drawShadow=function(t,e,s){},t.jqplot.MekkoLegendRenderer=function(){},t.jqplot.MekkoLegendRenderer.prototype.init=function(e){this.numberRows=null,this.numberColumns=null,this.placement="outside",t.extend(!0,this,e)},t.jqplot.MekkoLegendRenderer.prototype.draw=function(){if(this.show){var e=this._series,s="position:absolute;";s+=this.background?"background:"+this.background+";":"",s+=this.border?"border:"+this.border+";":"",s+=this.fontSize?"font-size:"+this.fontSize+";":"",s+=this.fontFamily?"font-family:"+this.fontFamily+";":"",s+=this.textColor?"color:"+this.textColor+";":"",this._elem=t('<table class="jqplot-table-legend" style="'+s+'"></table>');var i,o,h=!1,r=!0,l=e[0],n=new t.jqplot.ColorGenerator(l.seriesColors);if(l.show){var a=l.data;this.numberRows?(i=this.numberRows,o=this.numberColumns?this.numberColumns:Math.ceil(a.length/i)):this.numberColumns?(o=this.numberColumns,i=Math.ceil(a.length/this.numberColumns)):(i=a.length,o=1);var f,p,d,m,_,c,g,b,u=0;for(f=0;f<i;f++)for(d=r?t('<tr class="jqplot-table-legend"></tr>').prependTo(this._elem):t('<tr class="jqplot-table-legend"></tr>').appendTo(this._elem),p=0;p<o;p++)u<a.length&&(c=this.labels[u]||a[u][0].toString(),b=n.next(),h=r?f!=i-1:f>0,g=h?this.rowSpacing:"0",m=t('<td class="jqplot-table-legend" style="text-align:center;padding-top:'+g+';"><div><div class="jqplot-table-legend-swatch" style="border-color:'+b+';"></div></div></td>'),_=t('<td class="jqplot-table-legend" style="padding-top:'+g+';"></td>'),this.escapeHtml?_.text(c):_.html(c),r?(_.prependTo(d),m.prependTo(d)):(m.appendTo(d),_.appendTo(d)),h=!0),u++;d=null,m=null,_=null}}return this._elem},t.jqplot.MekkoLegendRenderer.prototype.pack=function(t){if(this.show){var e={_top:t.top,_left:t.left,_right:t.right,_bottom:this._plotDimensions.height-t.bottom};if("insideGrid"==this.placement)switch(this.location){case"nw":var s=e._left+this.xoffset,i=e._top+this.yoffset;this._elem.css("left",s),this._elem.css("top",i);break;case"n":var s=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2,i=e._top+this.yoffset;this._elem.css("left",s),this._elem.css("top",i);break;case"ne":var s=t.right+this.xoffset,i=e._top+this.yoffset;this._elem.css({right:s,top:i});break;case"e":var s=t.right+this.xoffset,i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({right:s,top:i});break;case"se":var s=t.right+this.xoffset,i=t.bottom+this.yoffset;this._elem.css({right:s,bottom:i});break;case"s":var s=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2,i=t.bottom+this.yoffset;this._elem.css({left:s,bottom:i});break;case"sw":var s=e._left+this.xoffset,i=t.bottom+this.yoffset;this._elem.css({left:s,bottom:i});break;case"w":var s=e._left+this.xoffset,i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({left:s,top:i});break;default:var s=e._right-this.xoffset,i=e._bottom+this.yoffset;this._elem.css({right:s,bottom:i})}else switch(this.location){case"nw":var s=this._plotDimensions.width-e._left+this.xoffset,i=e._top+this.yoffset;this._elem.css("right",s),this._elem.css("top",i);break;case"n":var s=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2,i=this._plotDimensions.height-e._top+this.yoffset;this._elem.css("left",s),this._elem.css("bottom",i);break;case"ne":var s=this._plotDimensions.width-t.right+this.xoffset,i=e._top+this.yoffset;this._elem.css({left:s,top:i});break;case"e":var s=this._plotDimensions.width-t.right+this.xoffset,i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({left:s,top:i});break;case"se":var s=this._plotDimensions.width-t.right+this.xoffset,i=t.bottom+this.yoffset;this._elem.css({left:s,bottom:i});break;case"s":var s=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2,i=this._plotDimensions.height-t.bottom+this.yoffset;this._elem.css({left:s,top:i});break;case"sw":var s=this._plotDimensions.width-e._left+this.xoffset,i=t.bottom+this.yoffset;this._elem.css({right:s,bottom:i});break;case"w":var s=this._plotDimensions.width-e._left+this.xoffset,i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({right:s,top:i});break;default:var s=e._right-this.xoffset,i=e._bottom+this.yoffset;this._elem.css({right:s,bottom:i})}}},t.jqplot.preInitHooks.push(e)}(jQuery);