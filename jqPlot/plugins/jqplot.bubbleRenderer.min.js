!function(e){function t(e,t,i){e.plugins.bubbleRenderer.highlightLabelCanvas.empty();var s=e.series[t],l=e.plugins.bubbleRenderer.highlightCanvas,a=l._ctx;a.clearRect(0,0,a.canvas.width,a.canvas.height),s._highlightedPoint=i,e.plugins.bubbleRenderer.highlightedSeriesIndex=t;var h=s.highlightColorGenerator.get(i),n=s.gridData[i][0],r=s.gridData[i][1],o=s.gridData[i][2];a.save(),a.fillStyle=h,a.strokeStyle=h,a.lineWidth=1,a.beginPath(),a.arc(n,r,o,0,2*Math.PI,0),a.closePath(),a.fill(),a.restore(),s.labels[i]&&(e.plugins.bubbleRenderer.highlightLabel=s.labels[i].clone(),e.plugins.bubbleRenderer.highlightLabel.appendTo(e.plugins.bubbleRenderer.highlightLabelCanvas),e.plugins.bubbleRenderer.highlightLabel.addClass("jqplot-bubble-label-highlight"))}function i(e){var t=e.plugins.bubbleRenderer.highlightCanvas;e.plugins.bubbleRenderer.highlightedSeriesIndex;e.plugins.bubbleRenderer.highlightLabelCanvas.empty(),t._ctx.clearRect(0,0,t._ctx.canvas.width,t._ctx.canvas.height);for(var i=0;i<e.series.length;i++)e.series[i]._highlightedPoint=null;e.plugins.bubbleRenderer.highlightedSeriesIndex=null,e.target.trigger("jqplotDataUnhighlight")}function s(e,s,l,a,h){if(a){var n=a.seriesIndex,r=a.pointIndex,o=[n,r,a.data,h.series[n].gridData[r][2]],g=jQuery.Event("jqplotDataMouseOver");if(g.pageX=e.pageX,g.pageY=e.pageY,h.target.trigger(g,o),h.series[o[0]].highlightMouseOver&&(o[0]!=h.plugins.bubbleRenderer.highlightedSeriesIndex||o[1]!=h.series[o[0]]._highlightedPoint)){var u=jQuery.Event("jqplotDataHighlight");u.which=e.which,u.pageX=e.pageX,u.pageY=e.pageY,h.target.trigger(u,o),t(h,o[0],o[1])}}else null==a&&i(h)}function l(e,s,l,a,h){if(a){var n=a.seriesIndex,r=a.pointIndex,o=[n,r,a.data,h.series[n].gridData[r][2]];if(h.series[o[0]].highlightMouseDown&&(o[0]!=h.plugins.bubbleRenderer.highlightedSeriesIndex||o[1]!=h.series[o[0]]._highlightedPoint)){var g=jQuery.Event("jqplotDataHighlight");g.which=e.which,g.pageX=e.pageX,g.pageY=e.pageY,h.target.trigger(g,o),t(h,o[0],o[1])}}else null==a&&i(h)}function a(e,t,s,l,a){var h=a.plugins.bubbleRenderer.highlightedSeriesIndex;null!=h&&a.series[h].highlightMouseDown&&i(a)}function h(e,t,i,s,l){if(s){var a=s.seriesIndex,h=s.pointIndex,n=[a,h,s.data,l.series[a].gridData[h][2]],r=jQuery.Event("jqplotDataClick");r.which=e.which,r.pageX=e.pageX,r.pageY=e.pageY,l.target.trigger(r,n)}}function n(e,t,s,l,a){if(l){var h=l.seriesIndex,n=l.pointIndex,r=[h,n,l.data,a.series[h].gridData[n][2]],o=a.plugins.bubbleRenderer.highlightedSeriesIndex;null!=o&&a.series[o].highlightMouseDown&&i(a);var g=jQuery.Event("jqplotDataRightClick");g.which=e.which,g.pageX=e.pageX,g.pageY=e.pageY,a.target.trigger(g,r)}}function r(){this.plugins.bubbleRenderer&&this.plugins.bubbleRenderer.highlightCanvas&&(this.plugins.bubbleRenderer.highlightCanvas.resetCanvas(),this.plugins.bubbleRenderer.highlightCanvas=null),this.plugins.bubbleRenderer={highlightedSeriesIndex:null},this.plugins.bubbleRenderer.highlightCanvas=new e.jqplot.GenericCanvas,this.plugins.bubbleRenderer.highlightLabel=null,this.plugins.bubbleRenderer.highlightLabelCanvas=e('<div style="position:absolute;"></div>');var t=this._gridPadding.top,i=this._gridPadding.left,s=this._plotDimensions.width-this._gridPadding.left-this._gridPadding.right,l=this._plotDimensions.height-this._gridPadding.top-this._gridPadding.bottom;this.plugins.bubbleRenderer.highlightLabelCanvas.css({top:t,left:i,width:s+"px",height:l+"px"}),this.eventCanvas._elem.before(this.plugins.bubbleRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-bubbleRenderer-highlight-canvas",this._plotDimensions,this)),this.eventCanvas._elem.before(this.plugins.bubbleRenderer.highlightLabelCanvas);this.plugins.bubbleRenderer.highlightCanvas.setContext()}function o(t,i,s){s=s||{},s.axesDefaults=s.axesDefaults||{},s.seriesDefaults=s.seriesDefaults||{};var l=!1;if(s.seriesDefaults.renderer==e.jqplot.BubbleRenderer)l=!0;else if(s.series)for(var a=0;a<s.series.length;a++)s.series[a].renderer==e.jqplot.BubbleRenderer&&(l=!0);l&&(s.axesDefaults.renderer=e.jqplot.BubbleAxisRenderer,s.sortData=!1)}var g=function(e){return Math.max.apply(Math,e)};e.jqplot.BubbleRenderer=function(){e.jqplot.LineRenderer.call(this)},e.jqplot.BubbleRenderer.prototype=new e.jqplot.LineRenderer,e.jqplot.BubbleRenderer.prototype.constructor=e.jqplot.BubbleRenderer,e.jqplot.BubbleRenderer.prototype.init=function(t,i){this.varyBubbleColors=!0,this.autoscaleBubbles=!0,this.autoscaleMultiplier=1,this.autoscalePointsFactor=-.07,this.escapeHtml=!0,this.highlightMouseOver=!0,this.highlightMouseDown=!1,this.highlightColors=[],this.bubbleAlpha=1,this.highlightAlpha=null,this.bubbleGradients=!1,this.showLabels=!0,this.radii=[],this.maxRadius=0,this._highlightedPoint=null,this.labels=[],this.bubbleCanvases=[],this._type="bubble",t.highlightMouseDown&&null==t.highlightMouseOver&&(t.highlightMouseOver=!1),e.extend(!0,this,t),null==this.highlightAlpha&&(this.highlightAlpha=this.bubbleAlpha,this.bubbleGradients&&(this.highlightAlpha=.35)),this.autoscaleMultiplier=this.autoscaleMultiplier*Math.pow(this.data.length,this.autoscalePointsFactor),this._highlightedPoint=null;for(var o,g=0;g<this.data.length;g++){var u=null,p=this.data[g];this.maxRadius=Math.max(this.maxRadius,p[2]),p[3]&&"object"==typeof p[3]&&(u=p[3].color),null==u&&null!=this.seriesColors[g]&&(u=this.seriesColors[g]),u&&this.bubbleAlpha<1&&(o=e.jqplot.getColorComponents(u),u="rgba("+o[0]+", "+o[1]+", "+o[2]+", "+this.bubbleAlpha+")"),u&&(this.seriesColors[g]=u)}if(this.varyBubbleColors||(this.seriesColors=[this.color]),this.colorGenerator=new e.jqplot.ColorGenerator(this.seriesColors),0==this.highlightColors.length)for(var g=0;g<this.seriesColors.length;g++){for(var d=e.jqplot.getColorComponents(this.seriesColors[g]),b=[d[0],d[1],d[2]],c=b[0]+b[1]+b[2],v=0;v<3;v++)b[v]=c>570?.8*b[v]:b[v]+.3*(255-b[v]),b[v]=parseInt(b[v],10);this.highlightColors.push("rgba("+b[0]+","+b[1]+","+b[2]+", "+this.highlightAlpha+")")}this.highlightColorGenerator=new e.jqplot.ColorGenerator(this.highlightColors);var f={fill:!0,isarc:!0,angle:this.shadowAngle,alpha:this.shadowAlpha,closePath:!0};this.renderer.shadowRenderer.init(f),this.canvas=new e.jqplot.DivCanvas,this.canvas._plotDimensions=this._plotDimensions,i.eventListenerHooks.addOnce("jqplotMouseMove",s),i.eventListenerHooks.addOnce("jqplotMouseDown",l),i.eventListenerHooks.addOnce("jqplotMouseUp",a),i.eventListenerHooks.addOnce("jqplotClick",h),i.eventListenerHooks.addOnce("jqplotRightClick",n),i.postDrawHooks.addOnce(r)},e.jqplot.BubbleRenderer.prototype.setGridData=function(e){var t=this._xaxis.series_u2p,i=this._yaxis.series_u2p,s=this._plotData;this.gridData=[];var l=[];this.radii=[];for(var a=Math.min(e._height,e._width),h=0;h<this.data.length;h++)null!=s[h]&&(this.gridData.push([t.call(this._xaxis,s[h][0]),i.call(this._yaxis,s[h][1]),s[h][2]]),this.radii.push([h,s[h][2]]),l.push(s[h][2]));var n,r,o=this.maxRadius=g(l),u=this.gridData.length;if(this.autoscaleBubbles)for(var h=0;h<u;h++)r=l[h]/o,n=this.autoscaleMultiplier*a/6,this.gridData[h][2]=n*r;this.radii.sort(function(e,t){return t[1]-e[1]})},e.jqplot.BubbleRenderer.prototype.makeGridData=function(e,t){var i=this._xaxis.series_u2p,s=this._yaxis.series_u2p,l=[],a=[];this.radii=[];for(var h=Math.min(t._height,t._width),n=0;n<e.length;n++)null!=e[n]&&(l.push([i.call(this._xaxis,e[n][0]),s.call(this._yaxis,e[n][1]),e[n][2]]),a.push(e[n][2]),this.radii.push([n,e[n][2]]));var r,o,u=this.maxRadius=g(a),p=this.gridData.length;if(this.autoscaleBubbles)for(var n=0;n<p;n++)o=a[n]/u,r=this.autoscaleMultiplier*h/6,l[n][2]=r*o;return this.radii.sort(function(e,t){return t[1]-e[1]}),l},e.jqplot.BubbleRenderer.prototype.draw=function(t,i,s){this.plugins.pointLabels&&(this.plugins.pointLabels.show=!1);var l=void 0!=s?s:{};void 0!=l.shadow?l.shadow:this.shadow;this.canvas._elem.empty();for(var a=0;a<this.radii.length;a++){var h=this.radii[a][0],n=null,r=null,o=null,g=this.data[h],i=this.gridData[h];g[3]&&("object"==typeof g[3]?n=g[3].label:"string"==typeof g[3]&&(n=g[3])),r=this.colorGenerator.get(h);var u,p,d=i[2];this.shadow&&(u=(.7+i[2]/40).toFixed(1),p=1+Math.ceil(i[2]/15),d+=u*p),this.bubbleCanvases[h]=new e.jqplot.BubbleCanvas,this.canvas._elem.append(this.bubbleCanvases[h].createElement(i[0],i[1],d)),this.bubbleCanvases[h].setContext();var t=this.bubbleCanvases[h]._ctx,b=t.canvas.width/2,c=t.canvas.height/2;if(this.shadow&&this.renderer.shadowRenderer.draw(t,[b,c,i[2],0,2*Math.PI],{offset:u,depth:p}),this.bubbleCanvases[h].draw(i[2],r,this.bubbleGradients,this.shadowAngle/180*Math.PI),n&&this.showLabels){o=e('<div style="position:absolute;" class="jqplot-bubble-label"></div>'),this.escapeHtml?o.text(n):o.html(n),this.canvas._elem.append(o);var v=e(o).outerHeight(),f=e(o).outerWidth(),m=i[1]-.5*v,x=i[0]-.5*f;o.css({top:m,left:x}),this.labels[h]=e(o)}}},e.jqplot.DivCanvas=function(){e.jqplot.ElemContainer.call(this),this._ctx},e.jqplot.DivCanvas.prototype=new e.jqplot.ElemContainer,e.jqplot.DivCanvas.prototype.constructor=e.jqplot.DivCanvas,e.jqplot.DivCanvas.prototype.createElement=function(t,i,s){this._offsets=t;var l="jqplot-DivCanvas";void 0!=i&&(l=i);var a;a=this._elem?this._elem.get(0):document.createElement("div"),void 0!=s&&(this._plotDimensions=s);var h=this._plotDimensions.width-this._offsets.left-this._offsets.right+"px",n=this._plotDimensions.height-this._offsets.top-this._offsets.bottom+"px";return this._elem=e(a),this._elem.css({position:"absolute",width:h,height:n,left:this._offsets.left,top:this._offsets.top}),this._elem.addClass(l),this._elem},e.jqplot.DivCanvas.prototype.setContext=function(){return this._ctx={canvas:{width:0,height:0},clearRect:function(){return null}},this._ctx},e.jqplot.BubbleCanvas=function(){e.jqplot.ElemContainer.call(this),this._ctx},e.jqplot.BubbleCanvas.prototype=new e.jqplot.ElemContainer,e.jqplot.BubbleCanvas.prototype.constructor=e.jqplot.BubbleCanvas,e.jqplot.BubbleCanvas.prototype.createElement=function(t,i,s){var l,a="jqplot-bubble-point";l=this._elem?this._elem.get(0):document.createElement("canvas"),l.width=null!=s?2*s:l.width,l.height=null!=s?2*s:l.height,this._elem=e(l);var h=null!=t&&null!=s?t-s:this._elem.css("left"),n=null!=i&&null!=s?i-s:this._elem.css("top");return this._elem.css({position:"absolute",left:h,top:n}),this._elem.addClass(a),e.jqplot.use_excanvas&&(window.G_vmlCanvasManager.init_(document),l=window.G_vmlCanvasManager.initElement(l)),this._elem},e.jqplot.BubbleCanvas.prototype.draw=function(t,i,s,l){var a=this._ctx,h=a.canvas.width/2,n=a.canvas.height/2;if(a.save(),s&&!e.jqplot.use_excanvas){t*=1.04;var r=e.jqplot.getColorComponents(i),o="rgba("+Math.round(r[0]+.8*(255-r[0]))+", "+Math.round(r[1]+.8*(255-r[1]))+", "+Math.round(r[2]+.8*(255-r[2]))+", "+r[3]+")",g="rgba("+r[0]+", "+r[1]+", "+r[2]+", 0)",u=.35*t,p=h-.33*Math.cos(l)*t,d=n-.33*Math.sin(l)*t,b=a.createRadialGradient(p,d,u,h,n,t);b.addColorStop(0,o),b.addColorStop(.93,i),b.addColorStop(.96,g),b.addColorStop(1,g),a.fillStyle=b,a.fillRect(0,0,a.canvas.width,a.canvas.height)}else{a.fillStyle=i,a.strokeStyle=i,a.lineWidth=1,a.beginPath();var c=2*Math.PI;a.arc(h,n,t,0,c,0),a.closePath(),a.fill()}a.restore()},e.jqplot.BubbleCanvas.prototype.setContext=function(){return this._ctx=this._elem.get(0).getContext("2d"),this._ctx},e.jqplot.BubbleAxisRenderer=function(){e.jqplot.LinearAxisRenderer.call(this)},e.jqplot.BubbleAxisRenderer.prototype=new e.jqplot.LinearAxisRenderer,e.jqplot.BubbleAxisRenderer.prototype.constructor=e.jqplot.BubbleAxisRenderer,e.jqplot.BubbleAxisRenderer.prototype.init=function(t){e.extend(!0,this,t);for(var i=this._dataBounds,s=0,l=0,a=0,h=0,n=0,r=0,o=0,g=0,u=0,p=0,d=0;d<this._series.length;d++)for(var b=this._series[d],c=b._plotData,v=0;v<c.length;v++)"xaxis"==this.name||"x2axis"==this.name?((c[v][0]<i.min||null==i.min)&&(i.min=c[v][0],s=d,l=v,r=c[v][2],o=b.maxRadius,p=b.autoscaleMultiplier),(c[v][0]>i.max||null==i.max)&&(i.max=c[v][0],a=d,h=v,n=c[v][2],g=b.maxRadius,u=b.autoscaleMultiplier)):((c[v][1]<i.min||null==i.min)&&(i.min=c[v][1],s=d,l=v,r=c[v][2],o=b.maxRadius,p=b.autoscaleMultiplier),(c[v][1]>i.max||null==i.max)&&(i.max=c[v][1],a=d,h=v,n=c[v][2],g=b.maxRadius,u=b.autoscaleMultiplier));var f=r/o,m=n/g,x=i.max-i.min,_=(Math.min(this._plotDimensions.width,this._plotDimensions.height),f*p/3*x),C=m*u/3*x;i.max+=C,i.min-=_},e.jqplot.preInitHooks.push(o)}(jQuery);