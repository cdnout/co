!function(t){function i(t,i,e){for(var s,a,n,r=Number.MAX_VALUE,h=0,l=m.length;h<l;h++)s=Math.abs(e-m[h]),s<r&&(r=s,a=m[h],n=o[h]);return[a,n]}t.jqplot.DateAxisRenderer=function(){t.jqplot.LinearAxisRenderer.call(this),this.date=new t.jsDate};var e=1e3,s=60*e,a=60*s,n=24*a,r=7*n,h=30.4368499*n,l=365.242199*n,o=["%M:%S.%#N","%M:%S.%#N","%M:%S.%#N","%M:%S","%M:%S","%M:%S","%M:%S","%H:%M:%S","%H:%M:%S","%H:%M","%H:%M","%H:%M","%H:%M","%H:%M","%H:%M","%a %H:%M","%a %H:%M","%b %e %H:%M","%b %e %H:%M","%b %e %H:%M","%b %e %H:%M","%v","%v","%v","%v","%v","%v","%v"],m=[.1*e,.2*e,.5*e,e,2*e,5*e,10*e,15*e,30*e,s,2*s,5*s,10*s,15*s,30*s,a,2*a,4*a,6*a,8*a,12*a,n,2*n,3*n,4*n,5*n,r,2*r];t.jqplot.DateAxisRenderer.prototype=new t.jqplot.LinearAxisRenderer,t.jqplot.DateAxisRenderer.prototype.constructor=t.jqplot.DateAxisRenderer,t.jqplot.DateTickFormatter=function(i,e){return i||(i="%Y/%m/%d"),t.jsDate.strftime(e,i)},t.jqplot.DateAxisRenderer.prototype.init=function(i){this.tickOptions.formatter=t.jqplot.DateTickFormatter,this.tickInset=0,this.drawBaseline=!0,this.baselineWidth=null,this.baselineColor=null,this.daTickInterval=null,this._daTickInterval=null,t.extend(!0,this,i);for(var e,s,a,n,r,h,l,o=this._dataBounds,m=0;m<this._series.length;m++){e={intervals:[],frequencies:{},sortedIntervals:[],min:null,max:null,mean:null},s=0,a=this._series[m],n=a.data,r=a._plotData,h=a._stackData,l=0;for(var c=0;c<n.length;c++)"xaxis"==this.name||"x2axis"==this.name?(n[c][0]=new t.jsDate(n[c][0]).getTime(),r[c][0]=new t.jsDate(n[c][0]).getTime(),h[c][0]=new t.jsDate(n[c][0]).getTime(),(null!=n[c][0]&&n[c][0]<o.min||null==o.min)&&(o.min=n[c][0]),(null!=n[c][0]&&n[c][0]>o.max||null==o.max)&&(o.max=n[c][0]),c>0&&(l=Math.abs(n[c][0]-n[c-1][0]),e.intervals.push(l),e.frequencies.hasOwnProperty(l)?e.frequencies[l]+=1:e.frequencies[l]=1),s+=l):(n[c][1]=new t.jsDate(n[c][1]).getTime(),r[c][1]=new t.jsDate(n[c][1]).getTime(),h[c][1]=new t.jsDate(n[c][1]).getTime(),(null!=n[c][1]&&n[c][1]<o.min||null==o.min)&&(o.min=n[c][1]),(null!=n[c][1]&&n[c][1]>o.max||null==o.max)&&(o.max=n[c][1]),c>0&&(l=Math.abs(n[c][1]-n[c-1][1]),e.intervals.push(l),e.frequencies.hasOwnProperty(l)?e.frequencies[l]+=1:e.frequencies[l]=1)),s+=l;if(a.renderer.bands){if(a.renderer.bands.hiData.length)for(var u=a.renderer.bands.hiData,c=0,k=u.length;c<k;c++)"xaxis"===this.name||"x2axis"===this.name?(u[c][0]=new t.jsDate(u[c][0]).getTime(),(null!=u[c][0]&&u[c][0]>o.max||null==o.max)&&(o.max=u[c][0])):(u[c][1]=new t.jsDate(u[c][1]).getTime(),(null!=u[c][1]&&u[c][1]>o.max||null==o.max)&&(o.max=u[c][1]));if(a.renderer.bands.lowData.length)for(var u=a.renderer.bands.lowData,c=0,k=u.length;c<k;c++)"xaxis"===this.name||"x2axis"===this.name?(u[c][0]=new t.jsDate(u[c][0]).getTime(),(null!=u[c][0]&&u[c][0]<o.min||null==o.min)&&(o.min=u[c][0])):(u[c][1]=new t.jsDate(u[c][1]).getTime(),(null!=u[c][1]&&u[c][1]<o.min||null==o.min)&&(o.min=u[c][1]))}for(var v in e.frequencies)e.sortedIntervals.push({interval:v,frequency:e.frequencies[v]});e.sortedIntervals.sort(function(t,i){return i.frequency-t.frequency}),e.min=t.jqplot.arrayMin(e.intervals),e.max=t.jqplot.arrayMax(e.intervals),e.mean=s/n.length,this._intervalStats.push(e),e=s=a=n=r=h=null}o=null},t.jqplot.DateAxisRenderer.prototype.reset=function(){this.min=this._options.min,this.max=this._options.max,this.tickInterval=this._options.tickInterval,this.numberTicks=this._options.numberTicks,this._autoFormatString="",this._overrideFormatString&&this.tickOptions&&this.tickOptions.formatString&&(this.tickOptions.formatString=""),this.daTickInterval=this._daTickInterval},t.jqplot.DateAxisRenderer.prototype.createTicks=function(e){var s,a,r,o,m=this._ticks,c=this.ticks,u=this.name,k=this._dataBounds,v=(this._intervalStats,"x"===this.name.charAt(0)?this._plotDimensions.width:this._plotDimensions.height),d=30,T=1,g=null;if(null!=this.tickInterval)if(Number(this.tickInterval))g=[Number(this.tickInterval),"seconds"];else if("string"==typeof this.tickInterval){var w=this.tickInterval.split(" ");1==w.length?g=[1,w[0]]:2==w.length&&(g=[w[0],w[1]])}this.tickInterval;s=new t.jsDate(null!=this.min?this.min:k.min).getTime(),a=new t.jsDate(null!=this.max?this.max:k.max).getTime();var x=e.plugins.cursor;x&&x._zoom&&x._zoom.zooming&&(this.min=null,this.max=null);var f=a-s;if(null!=this.tickOptions&&this.tickOptions.formatString||(this._overrideFormatString=!0),c.length){for(o=0;o<c.length;o++){var p=c[o],M=new this.tickRenderer(this.tickOptions);p.constructor==Array?(M.value=new t.jsDate(p[0]).getTime(),M.label=p[1],this.showTicks?this.showTickMarks||(M.showMark=!1):(M.showLabel=!1,M.showMark=!1),M.setTick(M.value,this.name),this._ticks.push(M)):(M.value=new t.jsDate(p).getTime(),this.showTicks?this.showTickMarks||(M.showMark=!1):(M.showLabel=!1,M.showMark=!1),M.setTick(M.value,this.name),this._ticks.push(M))}this.numberTicks=c.length,this.min=this._ticks[0].value,this.max=this._ticks[this.numberTicks-1].value,this.daTickInterval=[(this.max-this.min)/(this.numberTicks-1)/1e3,"seconds"]}else if(null==this.min&&null==this.max&&k.min==k.max){var _=t.extend(!0,{},this.tickOptions,{name:this.name,value:null}),D=3e5;this.min=k.min-D,this.max=k.max+D,this.numberTicks=3;for(var o=this.min;o<=this.max;o+=D){_.value=o;var M=new this.tickRenderer(_);this._overrideFormatString&&""!=this._autoFormatString&&(M.formatString=this._autoFormatString),M.showLabel=!1,M.showMark=!1,this._ticks.push(M)}this.showTicks&&(this._ticks[1].showLabel=!0),this.showTickMarks&&(this._ticks[1].showTickMarks=!0)}else if(null==this.min&&null==this.max){var b,j,I=t.extend(!0,{},this.tickOptions,{name:this.name,value:null});if(this.tickInterval||this.numberTicks)this.tickInterval?j=new t.jsDate(0).add(g[0],g[1]).getTime():this.numberTicks&&(b=this.numberTicks,j=(a-s)/(b-1));else{var S=Math.max(v,d+1),q=115;this.tickRenderer===t.jqplot.CanvasAxisTickRenderer&&this.tickOptions.angle&&(q=115-40*Math.abs(Math.sin(this.tickOptions.angle/180*Math.PI))),b=Math.ceil((S-d)/q+1),j=(a-s)/(b-1)}if(j<=19*n){var F=i(s,a,j),y=F[0];this._autoFormatString=F[1],s=new t.jsDate(s),s=Math.floor((s.getTime()-s.getUtcOffset())/y)*y+s.getUtcOffset(),b=Math.ceil((a-s)/y)+1,this.min=s,this.max=s+(b-1)*y,this.max<a&&(this.max+=y,b+=1),this.tickInterval=y,this.numberTicks=b;for(var o=0;o<b;o++)I.value=this.min+o*y,M=new this.tickRenderer(I),this._overrideFormatString&&""!=this._autoFormatString&&(M.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(M.showMark=!1):(M.showLabel=!1,M.showMark=!1),this._ticks.push(M);T=this.tickInterval}else if(j<=9*h){this._autoFormatString="%v";var H=Math.round(j/h);H<1?H=1:H>6&&(H=6);var R=new t.jsDate(s).setDate(1).setHours(0,0,0,0),O=new t.jsDate(a),A=new t.jsDate(a).setDate(1).setHours(0,0,0,0);O.getTime()!==A.getTime()&&(A=A.add(1,"month"));var L=A.diff(R,"month");b=Math.ceil(L/H)+1,this.min=R.getTime(),this.max=R.clone().add((b-1)*H,"month").getTime(),this.numberTicks=b;for(var o=0;o<b;o++)0===o?I.value=R.getTime():I.value=R.add(H,"month").getTime(),M=new this.tickRenderer(I),this._overrideFormatString&&""!=this._autoFormatString&&(M.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(M.showMark=!1):(M.showLabel=!1,M.showMark=!1),this._ticks.push(M);T=H*h}else{this._autoFormatString="%v";var H=Math.round(j/l);H<1&&(H=1);var R=new t.jsDate(s).setMonth(0,1).setHours(0,0,0,0),A=new t.jsDate(a).add(1,"year").setMonth(0,1).setHours(0,0,0,0),N=A.diff(R,"year");b=Math.ceil(N/H)+1,this.min=R.getTime(),this.max=R.clone().add((b-1)*H,"year").getTime(),this.numberTicks=b;for(var o=0;o<b;o++)0===o?I.value=R.getTime():I.value=R.add(H,"year").getTime(),M=new this.tickRenderer(I),this._overrideFormatString&&""!=this._autoFormatString&&(M.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(M.showMark=!1):(M.showLabel=!1,M.showMark=!1),this._ticks.push(M);T=H*l}}else{if(v="xaxis"==u||"x2axis"==u?this._plotDimensions.width:this._plotDimensions.height,null!=this.min&&null!=this.max&&null!=this.numberTicks&&(this.tickInterval=null),null!=this.tickInterval&&null!=g&&(this.daTickInterval=g),s==a){var z=432e5;s-=z,a+=z}f=a-s;var B,P;2+parseInt(Math.max(0,v-100)/100,10);if(B=null!=this.min?new t.jsDate(this.min).getTime():s-f/2*(this.padMin-1),P=null!=this.max?new t.jsDate(this.max).getTime():a+f/2*(this.padMax-1),this.min=B,this.max=P,f=this.max-this.min,null==this.numberTicks)if(null!=this.daTickInterval){var U=new t.jsDate(this.max).diff(this.min,this.daTickInterval[1],!0);this.numberTicks=Math.ceil(U/this.daTickInterval[0])+1,this.max=new t.jsDate(this.min).add((this.numberTicks-1)*this.daTickInterval[0],this.daTickInterval[1]).getTime()}else v>200?this.numberTicks=parseInt(3+(v-200)/100,10):this.numberTicks=2;T=f/(this.numberTicks-1)/1e3,null==this.daTickInterval&&(this.daTickInterval=[T,"seconds"]);for(var o=0;o<this.numberTicks;o++){var s=new t.jsDate(this.min);r=s.add(o*this.daTickInterval[0],this.daTickInterval[1]).getTime();var M=new this.tickRenderer(this.tickOptions);this.showTicks?this.showTickMarks||(M.showMark=!1):(M.showLabel=!1,M.showMark=!1),M.setTick(r,this.name),this._ticks.push(M)}}this.tickInset&&(this.min=this.min-this.tickInset*T,this.max=this.max+this.tickInset*T),null==this._daTickInterval&&(this._daTickInterval=this.daTickInterval),m=null}}(jQuery);