/*!
 * jQuery Smart Web App Banner (Add to Home Screen)
 * Copyright (c) 2017 Kurt Zenisek @ kzeni.com
 * Version: 1.5 (11-AUGUST-2017)
 * Requires: jQuery v1.7 or later
 */
!function($){$.fn.smartWebBanner=function(e){function n(){if(p||l){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}return!1}function t(e,n,t){var s=new Date;s.setDate(s.getDate()+t);var a=encodeURI(n)+(null===t?"":"; expires="+s.toUTCString());document.cookie=e+"="+a+"; path=/;"}function s(e){var n,t,s,a=document.cookie.split(";");for(n=0;n<a.length;n++)if(t=a[n].substr(0,a[n].indexOf("=")),s=a[n].substr(a[n].indexOf("=")+1),(t=t.replace(/^\s+|\s+$/g,""))===e)return decodeURI(s)}function a(){$("#swb-instructions").fadeIn(v.popupSpeedIn,function(){$("#smartWebBanner").trigger("swb:instructions-shown")}),v.titleSwap?document.title=v.title:$('meta[name="apple-mobile-web-app-title"]').length>0&&(document.title=$('meta[name="apple-mobile-web-app-title"]').attr("content")),v.url&&history.replaceState(null,null,v.url),0!==v.popupDuration&&setTimeout(function(){o()},v.popupDuration),t("swb-saved","true",v.daysReminder)}function o(){$("#swb-instructions").fadeOut(v.popupSpeedOut,function(){$("#smartWebBanner").trigger("swb:instructions-closed")}),v.titleSwap&&setTimeout(function(){document.title=f},12e3),v.url&&setTimeout(function(){history.replaceState(null,null,g)},12e3)}function r(){$("#smartWebBanner").stop().animate({top:-(w+w/3)},v.speedOut).removeClass("shown"),$("html").animate({marginTop:h},v.speedOut,function(){t("swb-closed","true",v.daysHidden),$("html").removeClass("swb-shown"),$("html").addClass("swb-closed"),$("#smartWebBanner").trigger("swb:closed"),o()})}function i(){$("#smartWebBanner").stop().animate({top:0},v.speedIn).addClass("shown"),$("html").animate({marginTop:h+w},v.speedIn,function(){$("html").addClass("swb-shown"),$("html").removeClass("swb-closed"),$("#smartWebBanner").trigger("swb:shown")}),$("#swb-close").on("click",function(){return r(),!1}),$("#swb-save,#swb-icon").on("click",function(){return a(),!1})}function d(){$("body").append('<div id="smartWebBanner"><a href="#" id="swb-close">X</a><a href="#" id="swb-icon"></a><div id="swb-info"><strong>'+v.title+"</strong><span>"+v.author+'</span></div><a href="#" id="swb-save">Save</a></div><div id="swb-instructions">Tap <span class="icon"></span> and then <strong>Add to Home Screen.</strong><div class="arrow"></div></div>'),l&&$("#smartWebBanner,#swb-instructions").addClass("ipad"),l||p||$("#swb-instructions").html("<strong>It appears this isn't an iOS device.</strong> This is a preview of the iPhone popup design though."),v.showFree&&$("#smartWebBanner").addClass("free"),"auto"===v.theme.toLowerCase()&&(b?$("#smartWebBanner,#swb-instructions").addClass("ios7"):$("#smartWebBanner,#swb-instructions").addClass("ios6")),"ios 7"===v.theme.toLowerCase()&&$("#smartWebBanner,#swb-instructions").addClass("ios7"),"ios 6"===v.theme.toLowerCase()&&$("#smartWebBanner,#swb-instructions").addClass("ios6"),"dark"===v.theme.toLowerCase()&&$("#smartWebBanner,#swb-instructions").addClass("dark");var e;v.useIcon&&($('link[rel="apple-touch-icon-precomposed"]').length>0?e=$('link[rel="apple-touch-icon-precomposed"]').attr("href"):$('link[rel="apple-touch-icon"]').length>0&&(e=$('link[rel="apple-touch-icon"]').attr("href"),!1!==v.iconGloss&&$("#swb-icon").addClass("gloss")),!0===v.iconGloss&&$("#swb-icon").addClass("gloss"),""!==v.iconOverwrite&&(e=v.iconOverwrite),$("#swb-icon").css("background-image","url("+e+")")),v.useIcon&&e||$("#smartWebBanner").addClass("no-icon"),w=$("#smartWebBanner").height()}var l=null!==navigator.userAgent.match(/iPad/i),p=null!==navigator.userAgent.match(/iPhone/i),u=/Safari/i.test(navigator.appVersion)&&!/CriOS/i.test(navigator.appVersion),c=navigator.standalone,m=n(),b;b=!(m[0]<=6);var h=parseFloat($("html").css("margin-top")),w,f=document.title,g=window.location.href,v;if("string"==typeof e)switch(w=$("#smartWebBanner").height(),void 0===v&&(v=$.fn.smartWebBanner.defaults),e){case"show":return $("#smartWebBanner").hasClass("shown")||i(),!1;case"hide":return $("#smartWebBanner").hasClass("shown")&&(h-=w,r()),!1}else v=$.extend({},$.fn.smartWebBanner.defaults,e);v.autoApp&&$('meta[name="apple-mobile-web-app-capable"]').length<=0&&$("head").append('<meta name="apple-mobile-web-app-capable" content="yes" />'),(v.debug||(p||l)&&u&&!c&&void 0===s("swb-closed")&&void 0===s("swb-saved"))&&(d(),i())},$.fn.smartWebBanner.defaults={title:"Web App",titleSwap:!0,url:"",author:"Save to Home Screen",speedIn:300,speedOut:400,useIcon:!0,iconOverwrite:"",iconGloss:"auto",showFree:!0,daysHidden:15,daysReminder:90,popupDuration:6e3,popupSpeedIn:200,popupSpeedOut:900,theme:"auto",autoApp:!1,debug:!1}}(jQuery);
//# sourceMappingURL=./jquery.smartwebbanner.min.js.map