"use strict";
(function(){var rte=Object.create;var Jp=Object.defineProperty;var nte=Object.getOwnPropertyDescriptor;var ite=Object.getOwnPropertyNames;var ate=Object.getPrototypeOf,ote=Object.prototype.hasOwnProperty;var XA=function(t){return Jp(t,"__esModule",{value:!0})};var JA=function(t,e){return function(){return t&&(e=t(t=0)),e}};var h=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},QA=function(t,e){for(var r in e)Jp(t,r,{get:e[r],enumerable:!0})},ZA=function(t,e,r,n){if(e&&typeof e=="object"||typeof e=="function")for(var i=ite(e),a=0,o=i.length,u;a<o;a++)u=i[a],!ote.call(t,u)&&(r||u!=="default")&&Jp(t,u,{get:function(s){return e[s]}.bind(null,u),enumerable:!(n=nte(e,u))||n.enumerable});return t},Cr=function(t,e){return ZA(XA(Jp(t!=null?rte(ate(t)):{},"default",!e&&t&&t.__esModule?{get:function(){return t.default},enumerable:!0}:{value:t,enumerable:!0})),t)},re=function(t){return function(e,r){return t&&t.get(e)||(r=ZA(XA({}),e,1),t&&t.set(e,r),r)}}(typeof WeakMap!="undefined"?new WeakMap:0);var z=h(function(Dut,e2){function ro(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ro=function(r){return typeof r}:ro=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ro(t)}var Qp=function(e){return e&&e.Math==Math&&e};e2.exports=Qp((typeof globalThis=="undefined"?"undefined":ro(globalThis))=="object"&&globalThis)||Qp((typeof window=="undefined"?"undefined":ro(window))=="object"&&window)||Qp((typeof self=="undefined"?"undefined":ro(self))=="object"&&self)||Qp((typeof global=="undefined"?"undefined":ro(global))=="object"&&global)||function(){return this}()||Function("return this")()});var ae=h(function(Uut,t2){t2.exports=function(t){try{return!!t()}catch(e){return!0}}});var qe=h(function(jut,r2){var ute=ae();r2.exports=!ute(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})});var le=h(function(Mut,n2){var Fl=Function.prototype.call;n2.exports=Fl.bind?Fl.bind(Fl):function(){return Fl.apply(Fl,arguments)}});var Cl=h(function(o2){"use strict";var i2={}.propertyIsEnumerable,a2=Object.getOwnPropertyDescriptor,ste=a2&&!i2.call({1:2},1);o2.f=ste?function(e){var r=a2(this,e);return!!r&&r.enumerable}:i2});var un=h(function(But,u2){u2.exports=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}});var ie=h(function(Lut,l2){var s2=Function.prototype,S_=s2.bind,O_=s2.call,lte=S_&&S_.bind(O_);l2.exports=S_?function(t){return t&&lte(O_,t)}:function(t){return t&&function(){return O_.apply(t,arguments)}}});var lr=h(function(zut,f2){var c2=ie(),cte=c2({}.toString),fte=c2("".slice);f2.exports=function(t){return fte(cte(t),8,-1)}});var no=h(function(Hut,p2){var pte=z(),dte=ie(),hte=ae(),vte=lr(),P_=pte.Object,yte=dte("".split);p2.exports=hte(function(){return!P_("z").propertyIsEnumerable(0)})?function(t){return vte(t)=="String"?yte(t,""):P_(t)}:P_});var qt=h(function($ut,d2){var mte=z(),gte=mte.TypeError;d2.exports=function(t){if(t==null)throw gte("Can't call method on "+t);return t}});var Jt=h(function(Wut,h2){var bte=no(),_te=qt();h2.exports=function(t){return bte(_te(t))}});var Re=h(function(Vut,v2){v2.exports=function(t){return typeof t=="function"}});var _e=h(function(Gut,y2){function Zp(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zp=function(r){return typeof r}:Zp=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zp(t)}var wte=Re();y2.exports=function(t){return Zp(t)=="object"?t!==null:wte(t)}});var ke=h(function(Kut,m2){var q_=z(),Ste=Re(),Ote=function(e){return Ste(e)?e:void 0};m2.exports=function(t,e){return arguments.length<2?Ote(q_[t]):q_[t]&&q_[t][e]}});var Qt=h(function(Yut,g2){var Pte=ie();g2.exports=Pte({}.isPrototypeOf)});var ui=h(function(Xut,b2){var qte=ke();b2.exports=qte("navigator","userAgent")||""});var io=h(function(Jut,q2){var _2=z(),R_=ui(),w2=_2.process,S2=_2.Deno,O2=w2&&w2.versions||S2&&S2.version,P2=O2&&O2.v8,sn,ed;P2&&(sn=P2.split("."),ed=sn[0]>0&&sn[0]<4?1:+(sn[0]+sn[1]));!ed&&R_&&(sn=R_.match(/Edge\/(\d+)/),(!sn||sn[1]>=74)&&(sn=R_.match(/Chrome\/(\d+)/),sn&&(ed=+sn[1])));q2.exports=ed});var td=h(function(Qut,E2){var R2=io(),Rte=ae();E2.exports=!!Object.getOwnPropertySymbols&&!Rte(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&R2&&R2<41})});var E_=h(function(Zut,T2){function rd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rd=function(r){return typeof r}:rd=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rd(t)}var Ete=td();T2.exports=Ete&&!Symbol.sham&&rd(Symbol.iterator)=="symbol"});var wu=h(function(est,A2){function nd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nd=function(r){return typeof r}:nd=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},nd(t)}var Tte=z(),Ate=ke(),Ite=Re(),kte=Qt(),xte=E_(),Fte=Tte.Object;A2.exports=xte?function(t){return nd(t)=="symbol"}:function(t){var e=Ate("Symbol");return Ite(e)&&kte(e.prototype,Fte(t))}});var Su=h(function(tst,I2){var Cte=z(),Dte=Cte.String;I2.exports=function(t){try{return Dte(t)}catch(e){return"Object"}}});var pe=h(function(rst,k2){var Ute=z(),jte=Re(),Mte=Su(),Nte=Ute.TypeError;k2.exports=function(t){if(jte(t))return t;throw Nte(Mte(t)+" is not a function")}});var It=h(function(nst,x2){var Bte=pe();x2.exports=function(t,e){var r=t[e];return r==null?void 0:Bte(r)}});var k_=h(function(ist,F2){var Lte=z(),T_=le(),A_=Re(),I_=_e(),zte=Lte.TypeError;F2.exports=function(t,e){var r,n;if(e==="string"&&A_(r=t.toString)&&!I_(n=T_(r,t))||A_(r=t.valueOf)&&!I_(n=T_(r,t))||e!=="string"&&A_(r=t.toString)&&!I_(n=T_(r,t)))return n;throw zte("Can't convert object to primitive value")}});var de=h(function(ast,C2){C2.exports=!1});var id=h(function(ost,U2){var D2=z(),Hte=Object.defineProperty;U2.exports=function(t,e){try{Hte(D2,t,{value:e,configurable:!0,writable:!0})}catch(r){D2[t]=e}return e}});var Dl=h(function(ust,M2){var $te=z(),Wte=id(),j2="__core-js_shared__",Vte=$te[j2]||Wte(j2,{});M2.exports=Vte});var Ou=h(function(sst,B2){var Gte=de(),N2=Dl();(B2.exports=function(t,e){return N2[t]||(N2[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.19.3",mode:Gte?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})});var xe=h(function(lst,L2){var Kte=z(),Yte=qt(),Xte=Kte.Object;L2.exports=function(t){return Xte(Yte(t))}});var Le=h(function(cst,z2){var Jte=ie(),Qte=xe(),Zte=Jte({}.hasOwnProperty);z2.exports=Object.hasOwn||function(e,r){return Zte(Qte(e),r)}});var Pu=h(function(fst,H2){var ere=ie(),tre=0,rre=Math.random(),nre=ere(1 .toString);H2.exports=function(t){return"Symbol("+(t===void 0?"":t)+")_"+nre(++tre+rre,36)}});var ge=h(function(pst,K2){var ire=z(),are=Ou(),$2=Le(),ore=Pu(),W2=td(),V2=E_(),qu=are("wks"),ao=ire.Symbol,G2=ao&&ao.for,ure=V2?ao:ao&&ao.withoutSetter||ore;K2.exports=function(t){if(!$2(qu,t)||!(W2||typeof qu[t]=="string")){var e="Symbol."+t;W2&&$2(ao,t)?qu[t]=ao[t]:V2&&G2?qu[t]=G2(e):qu[t]=ure(e)}return qu[t]}});var x_=h(function(dst,J2){var sre=z(),lre=le(),Y2=_e(),X2=wu(),cre=It(),fre=k_(),pre=ge(),dre=sre.TypeError,hre=pre("toPrimitive");J2.exports=function(t,e){if(!Y2(t)||X2(t))return t;var r=cre(t,hre),n;if(r){if(e===void 0&&(e="default"),n=lre(r,t,e),!Y2(n)||X2(n))return n;throw dre("Can't convert object to primitive value")}return e===void 0&&(e="number"),fre(t,e)}});var si=h(function(hst,Q2){var vre=x_(),yre=wu();Q2.exports=function(t){var e=vre(t,"string");return yre(e)?e:e+""}});var Ul=h(function(vst,eI){var mre=z(),Z2=_e(),F_=mre.document,gre=Z2(F_)&&Z2(F_.createElement);eI.exports=function(t){return gre?F_.createElement(t):{}}});var C_=h(function(yst,tI){var bre=qe(),_re=ae(),wre=Ul();tI.exports=!bre&&!_re(function(){return Object.defineProperty(wre("div"),"a",{get:function(){return 7}}).a!=7})});var kt=h(function(nI){var Sre=qe(),Ore=le(),Pre=Cl(),qre=un(),Rre=Jt(),Ere=si(),Tre=Le(),Are=C_(),rI=Object.getOwnPropertyDescriptor;nI.f=Sre?rI:function(e,r){if(e=Rre(e),r=Ere(r),Are)try{return rI(e,r)}catch(n){}if(Tre(e,r))return qre(!Ore(Pre.f,e,r),e[r])}});var V=h(function(gst,aI){var iI=z(),Ire=_e(),kre=iI.String,xre=iI.TypeError;aI.exports=function(t){if(Ire(t))return t;throw xre(kre(t)+" is not an object")}});var Ne=h(function(sI){var Fre=z(),Cre=qe(),Dre=C_(),oI=V(),Ure=si(),jre=Fre.TypeError,uI=Object.defineProperty;sI.f=Cre?uI:function(e,r,n){if(oI(e),r=Ure(r),oI(n),Dre)try{return uI(e,r,n)}catch(i){}if("get"in n||"set"in n)throw jre("Accessors not supported");return"value"in n&&(e[r]=n.value),e}});var Rt=h(function(_st,lI){var Mre=qe(),Nre=Ne(),Bre=un();lI.exports=Mre?function(t,e,r){return Nre.f(t,e,Bre(1,r))}:function(t,e,r){return t[e]=r,t}});var jl=h(function(wst,cI){var Lre=ie(),zre=Re(),D_=Dl(),Hre=Lre(Function.toString);zre(D_.inspectSource)||(D_.inspectSource=function(t){return Hre(t)});cI.exports=D_.inspectSource});var U_=h(function(Sst,pI){var $re=z(),Wre=Re(),Vre=jl(),fI=$re.WeakMap;pI.exports=Wre(fI)&&/native code/.test(Vre(fI))});var Ml=h(function(Ost,hI){var Gre=Ou(),Kre=Pu(),dI=Gre("keys");hI.exports=function(t){return dI[t]||(dI[t]=Kre(t))}});var Ru=h(function(Pst,vI){vI.exports={}});var Ve=h(function(qst,_I){var Yre=U_(),yI=z(),j_=ie(),Xre=_e(),Jre=Rt(),M_=Le(),N_=Dl(),Qre=Ml(),Zre=Ru(),mI="Object already initialized",B_=yI.TypeError,ene=yI.WeakMap,ad,Nl,od,tne=function(e){return od(e)?Nl(e):ad(e,{})},rne=function(e){return function(r){var n;if(!Xre(r)||(n=Nl(r)).type!==e)throw B_("Incompatible receiver, "+e+" required");return n}};Yre||N_.state?(ra=N_.state||(N_.state=new ene),gI=j_(ra.get),L_=j_(ra.has),bI=j_(ra.set),ad=function(e,r){if(L_(ra,e))throw new B_(mI);return r.facade=e,bI(ra,e,r),r},Nl=function(e){return gI(ra,e)||{}},od=function(e){return L_(ra,e)}):(oo=Qre("state"),Zre[oo]=!0,ad=function(e,r){if(M_(e,oo))throw new B_(mI);return r.facade=e,Jre(e,oo,r),r},Nl=function(e){return M_(e,oo)?e[oo]:{}},od=function(e){return M_(e,oo)});var ra,gI,L_,bI,oo;_I.exports={set:ad,get:Nl,has:od,enforce:tne,getterFor:rne}});var na=h(function(Rst,SI){var z_=qe(),nne=Le(),wI=Function.prototype,ine=z_&&Object.getOwnPropertyDescriptor,H_=nne(wI,"name"),ane=H_&&function(){}.name==="something",one=H_&&(!z_||z_&&ine(wI,"name").configurable);SI.exports={EXISTS:H_,PROPER:ane,CONFIGURABLE:one}});var lt=h(function(Est,RI){var une=z(),OI=Re(),sne=Le(),PI=Rt(),lne=id(),cne=jl(),qI=Ve(),fne=na().CONFIGURABLE,pne=qI.get,dne=qI.enforce,hne=String(String).split("String");(RI.exports=function(t,e,r,n){var i=n?!!n.unsafe:!1,a=n?!!n.enumerable:!1,o=n?!!n.noTargetGet:!1,u=n&&n.name!==void 0?n.name:e,s;if(OI(r)&&(String(u).slice(0,7)==="Symbol("&&(u="["+String(u).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!sne(r,"name")||fne&&r.name!==u)&&PI(r,"name",u),s=dne(r),s.source||(s.source=hne.join(typeof u=="string"?u:""))),t===une){a?t[e]=r:lne(e,r);return}else i?!o&&t[e]&&(a=!0):delete t[e];a?t[e]=r:PI(t,e,r)})(Function.prototype,"toString",function(){return OI(this)&&pne(this).source||cne(this)})});var $t=h(function(Tst,EI){var vne=Math.ceil,yne=Math.floor;EI.exports=function(t){var e=+t;return e!==e||e===0?0:(e>0?yne:vne)(e)}});var li=h(function(Ast,TI){var mne=$t(),gne=Math.max,bne=Math.min;TI.exports=function(t,e){var r=mne(t);return r<0?gne(r+e,0):bne(r,e)}});var _r=h(function(Ist,AI){var _ne=$t(),wne=Math.min;AI.exports=function(t){return t>0?wne(_ne(t),9007199254740991):0}});var Ge=h(function(kst,II){var Sne=_r();II.exports=function(t){return Sne(t.length)}});var Bl=h(function(xst,xI){var One=Jt(),Pne=li(),qne=Ge(),kI=function(e){return function(r,n,i){var a=One(r),o=qne(a),u=Pne(i,o),s;if(e&&n!=n){for(;o>u;)if(s=a[u++],s!=s)return!0}else for(;o>u;u++)if((e||u in a)&&a[u]===n)return e||u||0;return!e&&-1}};xI.exports={includes:kI(!0),indexOf:kI(!1)}});var W_=h(function(Fst,CI){var Rne=ie(),$_=Le(),Ene=Jt(),Tne=Bl().indexOf,Ane=Ru(),FI=Rne([].push);CI.exports=function(t,e){var r=Ene(t),n=0,i=[],a;for(a in r)!$_(Ane,a)&&$_(r,a)&&FI(i,a);for(;e.length>n;)$_(r,a=e[n++])&&(~Tne(i,a)||FI(i,a));return i}});var ud=h(function(Cst,DI){DI.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var ci=h(function(UI){var Ine=W_(),kne=ud(),xne=kne.concat("length","prototype");UI.f=Object.getOwnPropertyNames||function(e){return Ine(e,xne)}});var sd=h(function(jI){jI.f=Object.getOwnPropertySymbols});var ld=h(function(jst,MI){var Fne=ke(),Cne=ie(),Dne=ci(),Une=sd(),jne=V(),Mne=Cne([].concat);MI.exports=Fne("Reflect","ownKeys")||function(e){var r=Dne.f(jne(e)),n=Une.f;return n?Mne(r,n(e)):r}});var cd=h(function(Mst,NI){var Nne=Le(),Bne=ld(),Lne=kt(),zne=Ne();NI.exports=function(t,e){for(var r=Bne(e),n=zne.f,i=Lne.f,a=0;a<r.length;a++){var o=r[a];Nne(t,o)||n(t,o,i(e,o))}}});var Eu=h(function(Nst,BI){var Hne=ae(),$ne=Re(),Wne=/#|\.prototype\./,Ll=function(e,r){var n=Gne[Vne(e)];return n==Yne?!0:n==Kne?!1:$ne(r)?Hne(r):!!r},Vne=Ll.normalize=function(t){return String(t).replace(Wne,".").toLowerCase()},Gne=Ll.data={},Kne=Ll.NATIVE="N",Yne=Ll.POLYFILL="P";BI.exports=Ll});var O=h(function(Bst,LI){function zl(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zl=function(r){return typeof r}:zl=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zl(t)}var V_=z(),Xne=kt().f,Jne=Rt(),Qne=lt(),Zne=id(),eie=cd(),tie=Eu();LI.exports=function(t,e){var r=t.target,n=t.global,i=t.stat,a,o,u,s,l,c;if(n?o=V_:i?o=V_[r]||Zne(r,{}):o=(V_[r]||{}).prototype,o)for(u in e){if(l=e[u],t.noTargetGet?(c=Xne(o,u),s=c&&c.value):s=o[u],a=tie(n?u:r+(i?".":"#")+u,t.forced),!a&&s!==void 0){if(zl(l)==zl(s))continue;eie(l,s)}(t.sham||s&&s.sham)&&Jne(l,"sham",!0),Qne(o,u,l,t)}}});var Ke=h(function(Lst,$I){function fd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fd=function(r){return typeof r}:fd=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fd(t)}var G_=Function.prototype,zI=G_.apply,rie=G_.bind,HI=G_.call;$I.exports=(typeof Reflect=="undefined"?"undefined":fd(Reflect))=="object"&&Reflect.apply||(rie?HI.bind(zI):function(){return HI.apply(zI,arguments)})});var uo=h(function(zst,WI){var nie=lr();WI.exports=Array.isArray||function(e){return nie(e)=="Array"}});var pd=h(function(Hst,GI){var iie=ge(),aie=iie("toStringTag"),VI={};VI[aie]="z";GI.exports=String(VI)==="[object z]"});var ia=h(function($st,KI){var oie=z(),uie=pd(),sie=Re(),dd=lr(),lie=ge(),cie=lie("toStringTag"),fie=oie.Object,pie=dd(function(){return arguments}())=="Arguments",die=function(e,r){try{return e[r]}catch(n){}};KI.exports=uie?dd:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=die(e=fie(t),cie))=="string"?r:pie?dd(e):(n=dd(e))=="Object"&&sie(e.callee)?"Arguments":n}});var Be=h(function(Wst,YI){var hie=z(),vie=ia(),yie=hie.String;YI.exports=function(t){if(vie(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return yie(t)}});var so=h(function(Vst,XI){var mie=W_(),gie=ud();XI.exports=Object.keys||function(e){return mie(e,gie)}});var hd=h(function(Gst,JI){var bie=qe(),_ie=Ne(),wie=V(),Sie=Jt(),Oie=so();JI.exports=bie?Object.defineProperties:function(e,r){wie(e);for(var n=Sie(r),i=Oie(r),a=i.length,o=0,u;a>o;)_ie.f(e,u=i[o++],n[u]);return e}});var K_=h(function(Kst,QI){var Pie=ke();QI.exports=Pie("document","documentElement")});var xt=h(function(Yst,ak){var qie=V(),Rie=hd(),ZI=ud(),Eie=Ru(),Tie=K_(),Aie=Ul(),Iie=Ml(),ek=">",tk="<",Y_="prototype",X_="script",rk=Iie("IE_PROTO"),J_=function(){},nk=function(e){return tk+X_+ek+e+tk+"/"+X_+ek},ik=function(e){e.write(nk("")),e.close();var r=e.parentWindow.Object;return e=null,r},kie=function(){var e=Aie("iframe"),r="java"+X_+":",n;return e.style.display="none",Tie.appendChild(e),e.src=String(r),n=e.contentWindow.document,n.open(),n.write(nk("document.F=Object")),n.close(),n.F},vd,yd=function(){try{vd=new ActiveXObject("htmlfile")}catch(r){}yd=typeof document!="undefined"?document.domain&&vd?ik(vd):kie():ik(vd);for(var e=ZI.length;e--;)delete yd[Y_][ZI[e]];return yd()};Eie[rk]=!0;ak.exports=Object.create||function(e,r){var n;return e!==null?(J_[Y_]=qie(e),n=new J_,J_[Y_]=null,n[rk]=e):n=yd(),r===void 0?n:Rie(n,r)}});var fi=h(function(Xst,ok){"use strict";var xie=si(),Fie=Ne(),Cie=un();ok.exports=function(t,e,r){var n=xie(e);n in t?Fie.f(t,n,Cie(0,r)):t[n]=r}});var lo=h(function(Jst,sk){var Die=z(),uk=li(),Uie=Ge(),jie=fi(),Mie=Die.Array,Nie=Math.max;sk.exports=function(t,e,r){for(var n=Uie(t),i=uk(e,n),a=uk(r===void 0?n:r,n),o=Mie(Nie(a-i,0)),u=0;i<a;i++,u++)jie(o,u,t[i]);return o.length=u,o}});var gd=h(function(Qst,fk){function md(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?md=function(r){return typeof r}:md=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},md(t)}var Bie=lr(),Lie=Jt(),lk=ci().f,zie=lo(),ck=(typeof window=="undefined"?"undefined":md(window))=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Hie=function(e){try{return lk(e)}catch(r){return zie(ck)}};fk.exports.f=function(e){return ck&&Bie(e)=="Window"?Hie(e):lk(Lie(e))}});var aa=h(function(Zst,pk){var $ie=ie();pk.exports=$ie([].slice)});var Q_=h(function(dk){var Wie=ge();dk.f=Wie});var vk=h(function(tlt,hk){var Vie=z();hk.exports=Vie});var at=h(function(rlt,mk){var yk=vk(),Gie=Le(),Kie=Q_(),Yie=Ne().f;mk.exports=function(t){var e=yk.Symbol||(yk.Symbol={});Gie(e,t)||Yie(e,t,{value:Kie.f(t)})}});var Dr=h(function(nlt,bk){var Xie=Ne().f,Jie=Le(),Qie=ge(),gk=Qie("toStringTag");bk.exports=function(t,e,r){t&&!Jie(t=r?t:t.prototype,gk)&&Xie(t,gk,{configurable:!0,value:e})}});var Ye=h(function(ilt,Sk){var _k=ie(),Zie=pe(),wk=_k(_k.bind);Sk.exports=function(t,e){return Zie(t),e===void 0?t:wk?wk(t,e):function(){return t.apply(e,arguments)}}});var co=h(function(alt,Rk){var eae=ie(),tae=ae(),Ok=Re(),rae=ia(),nae=ke(),iae=jl(),Pk=function(){},aae=[],qk=nae("Reflect","construct"),Z_=/^\s*(?:class|function)\b/,oae=eae(Z_.exec),uae=!Z_.exec(Pk),Hl=function(e){if(!Ok(e))return!1;try{return qk(Pk,aae,e),!0}catch(r){return!1}},sae=function(e){if(!Ok(e))return!1;switch(rae(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return uae||!!oae(Z_,iae(e))};Rk.exports=!qk||tae(function(){var t;return Hl(Hl.call)||!Hl(Object)||!Hl(function(){t=!0})||t})?sae:Hl});var Ik=h(function(olt,Ak){var lae=z(),Ek=uo(),cae=co(),fae=_e(),pae=ge(),dae=pae("species"),Tk=lae.Array;Ak.exports=function(t){var e;return Ek(t)&&(e=t.constructor,cae(e)&&(e===Tk||Ek(e.prototype))?e=void 0:fae(e)&&(e=e[dae],e===null&&(e=void 0))),e===void 0?Tk:e}});var fo=h(function(ult,kk){var hae=Ik();kk.exports=function(t,e){return new(hae(t))(e===0?0:e)}});var Et=h(function(slt,Fk){var vae=Ye(),yae=ie(),mae=no(),gae=xe(),bae=Ge(),_ae=fo(),xk=yae([].push),oa=function(e){var r=e==1,n=e==2,i=e==3,a=e==4,o=e==6,u=e==7,s=e==5||o;return function(l,c,f,p){for(var d=gae(l),v=mae(d),g=vae(c,f),m=bae(v),_=0,S=p||_ae,q=r?S(l,m):n||u?S(l,0):void 0,A,D;m>_;_++)if((s||_ in v)&&(A=v[_],D=g(A,_,d),e))if(r)q[_]=D;else if(D)switch(e){case 3:return!0;case 5:return A;case 6:return _;case 2:xk(q,A)}else switch(e){case 4:return!1;case 7:xk(q,A)}return o?-1:i||a?a:q}};Fk.exports={forEach:oa(0),map:oa(1),filter:oa(2),some:oa(3),every:oa(4),find:oa(5),findIndex:oa(6),filterReject:oa(7)}});var qd=h(function(llt,ux){var soe=ae();ux.exports=!soe(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})});var Ft=h(function(clt,lx){var loe=z(),coe=Le(),foe=Re(),poe=xe(),doe=Ml(),hoe=qd(),sx=doe("IE_PROTO"),y0=loe.Object,voe=y0.prototype;lx.exports=hoe?y0.getPrototypeOf:function(t){var e=poe(t);if(coe(e,sx))return e[sx];var r=e.constructor;return foe(r)&&e instanceof r?r.prototype:e instanceof y0?voe:null}});var m0=h(function(flt,fx){function Rd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rd=function(r){return typeof r}:Rd=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Rd(t)}var cx=z(),yoe=Re(),moe=cx.String,goe=cx.TypeError;fx.exports=function(t){if(Rd(t)=="object"||yoe(t))return t;throw goe("Can't set "+moe(t)+" as a prototype")}});var vi=h(function(plt,px){var boe=ie(),_oe=V(),woe=m0();px.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=boe(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),r(e,[]),t=e instanceof Array}catch(n){}return function(i,a){return _oe(i),woe(a),t?r(i,a):i.__proto__=a,i}}():void 0)});var vx=h(function(dlt,hx){var g0=ie(),Soe=lo(),Ooe=g0("".replace),Poe=g0("".split),qoe=g0([].join),b0=function(t){return String(Error(t).stack)}("zxcasd"),dx=/\n\s*at [^:]*:[^\n]*/,Roe=dx.test(b0),Eoe=/@[^\n]*\n/.test(b0)&&!/zxcasd/.test(b0);hx.exports=function(t,e){if(typeof t!="string")return t;if(Roe)for(;e--;)t=Ooe(t,dx,"");else if(Eoe)return qoe(Soe(Poe(t,"\n"),e),"\n");return t}});var mx=h(function(hlt,yx){var Toe=_e(),Aoe=Rt();yx.exports=function(t,e){Toe(e)&&"cause"in e&&Aoe(t,"cause",e.cause)}});var Iu=h(function(vlt,gx){gx.exports={}});var Ed=h(function(ylt,bx){var Ioe=ge(),koe=Iu(),xoe=Ioe("iterator"),Foe=Array.prototype;bx.exports=function(t){return t!==void 0&&(koe.Array===t||Foe[xoe]===t)}});var yi=h(function(mlt,wx){var Coe=ia(),_x=It(),Doe=Iu(),Uoe=ge(),joe=Uoe("iterator");wx.exports=function(t){if(t!=null)return _x(t,joe)||_x(t,"@@iterator")||Doe[Coe(t)]}});var ln=h(function(glt,Sx){var Moe=z(),Noe=le(),Boe=pe(),Loe=V(),zoe=Su(),Hoe=yi(),$oe=Moe.TypeError;Sx.exports=function(t,e){var r=arguments.length<2?Hoe(t):e;if(Boe(r))return Loe(Noe(r,t));throw $oe(zoe(t)+" is not iterable")}});var Jl=h(function(blt,Px){var Woe=le(),Ox=V(),Voe=It();Px.exports=function(t,e,r){var n,i;Ox(t);try{if(n=Voe(t,"return"),!n){if(e==="throw")throw r;return r}n=Woe(n,t)}catch(a){i=!0,n=a}if(e==="throw")throw r;if(i)throw n;return Ox(n),r}});var ye=h(function(_lt,Tx){function Td(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Td=function(r){return typeof r}:Td=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Td(t)}var Goe=z(),Koe=Ye(),Yoe=le(),Xoe=V(),Joe=Su(),Qoe=Ed(),Zoe=Ge(),qx=Qt(),eue=ln(),tue=yi(),Rx=Jl(),rue=Goe.TypeError,Ad=function(e,r){this.stopped=e,this.result=r},Ex=Ad.prototype;Tx.exports=function(t,e,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),a=!!(r&&r.IS_ITERATOR),o=!!(r&&r.INTERRUPTED),u=Koe(e,n),s,l,c,f,p,d,v,g=function(S){return s&&Rx(s,"normal",S),new Ad(!0,S)},m=function(S){return i?(Xoe(S),o?u(S[0],S[1],g):u(S[0],S[1])):o?u(S,g):u(S)};if(a)s=t;else{if(l=tue(t),!l)throw rue(Joe(t)+" is not iterable");if(Qoe(l)){for(c=0,f=Zoe(t);f>c;c++)if(p=m(t[c]),p&&qx(Ex,p))return p;return new Ad(!1)}s=eue(t,l)}for(d=s.next;!(v=Yoe(d,s)).done;){try{p=m(v.value)}catch(_){Rx(s,"throw",_)}if(Td(p)=="object"&&p&&qx(Ex,p))return p}return new Ad(!1)}});var Ix=h(function(wlt,Ax){var nue=Be();Ax.exports=function(t,e){return t===void 0?arguments.length<2?"":e:nue(t)}});var xx=h(function(Slt,kx){var iue=ae(),aue=un();kx.exports=!iue(function(){var t=Error("a");return"stack"in t?(Object.defineProperty(t,"stack",aue(1,7)),t.stack!==7):!0})});var S0=h(function(){"use strict";var oue=O(),uue=z(),sue=Qt(),lue=Ft(),Id=vi(),cue=cd(),Fx=xt(),kd=Rt(),_0=un(),fue=vx(),pue=mx(),due=ye(),hue=Ix(),vue=ge(),yue=xx(),mue=vue("toStringTag"),xd=uue.Error,gue=[].push,Ql=function(e,r){var n=arguments.length>2?arguments[2]:void 0,i=sue(w0,this),a;Id?a=Id(new xd(void 0),i?lue(this):w0):(a=i?this:Fx(w0),kd(a,mue,"Error")),kd(a,"message",hue(r,"")),yue&&kd(a,"stack",fue(a.stack,1)),pue(a,n);var o=[];return due(e,gue,{that:o}),kd(a,"errors",o),a};Id?Id(Ql,xd):cue(Ql,xd);var w0=Ql.prototype=Fx(xd.prototype,{constructor:_0(1,Ql),message:_0(1,""),name:_0(1,"AggregateError")});oue({global:!0},{AggregateError:Ql})});var ku=h(function(qlt,Cx){var bue=ae(),_ue=ge(),wue=io(),Sue=_ue("species");Cx.exports=function(t){return wue>=51||!bue(function(){var e=[],r=e.constructor={};return r[Sue]=function(){return{foo:1}},e[t](Boolean).foo!==1})}});var P0=h(function(Rlt,Bx){"use strict";var Mue=xe(),O0=li(),Nue=Ge(),Bue=Math.min;Bx.exports=[].copyWithin||function(e,r){var n=Mue(this),i=Nue(n),a=O0(e,i),o=O0(r,i),u=arguments.length>2?arguments[2]:void 0,s=Bue((u===void 0?i:O0(u,i))-o,i-a),l=1;for(o<a&&a<o+s&&(l=-1,o+=s-1,a+=s-1);s-- >0;)o in n?n[a]=n[o]:delete n[a],a+=l,o+=l;return n}});var Wt=h(function(Elt,Lx){var Lue=ge(),zue=xt(),Hue=Ne(),q0=Lue("unscopables"),R0=Array.prototype;R0[q0]==null&&Hue.f(R0,q0,{configurable:!0,value:zue(null)});Lx.exports=function(t){R0[q0][t]=!0}});var Fd=h(function(Tlt,Hx){"use strict";var Gue=xe(),zx=li(),Kue=Ge();Hx.exports=function(e){for(var r=Gue(this),n=Kue(r),i=arguments.length,a=zx(i>1?arguments[1]:void 0,n),o=i>2?arguments[2]:void 0,u=o===void 0?n:zx(o,n);u>a;)r[a++]=e;return r}});var A0=h(function(Alt,Vx){"use strict";var sse=z(),lse=uo(),cse=Ge(),fse=Ye(),pse=sse.TypeError,dse=function t(e,r,n,i,a,o,u,s){for(var l=a,c=0,f=u?fse(u,s):!1,p,d;c<i;){if(c in n){if(p=f?f(n[c],c,r):n[c],o>0&&lse(p))d=cse(p),l=t(e,r,p,d,l,o-1)-1;else{if(l>=9007199254740991)throw pse("Exceed the acceptable array length");e[l]=p}l++}c++}return l};Vx.exports=dse});var Cd=h(function(Ilt,Gx){var Rse=V(),Ese=Jl();Gx.exports=function(t,e,r,n){try{return n?e(Rse(r)[0],r[1]):e(r)}catch(i){Ese(t,"throw",i)}}});var I0=h(function(klt,Xx){"use strict";var Tse=z(),Ase=Ye(),Ise=le(),kse=xe(),xse=Cd(),Fse=Ed(),Cse=co(),Dse=Ge(),Kx=fi(),Use=ln(),jse=yi(),Yx=Tse.Array;Xx.exports=function(e){var r=kse(e),n=Cse(this),i=arguments.length,a=i>1?arguments[1]:void 0,o=a!==void 0;o&&(a=Ase(a,i>2?arguments[2]:void 0));var u=jse(r),s=0,l,c,f,p,d,v;if(u&&!(this==Yx&&Fse(u)))for(p=Use(r,u),d=p.next,c=n?new this:[];!(f=Ise(d,p)).done;s++)v=o?xse(p,a,[f.value,s],!0):f.value,Kx(c,s,v);else for(l=Dse(r),c=n?new this(l):Yx(l);l>s;s++)v=o?a(r[s],s):r[s],Kx(c,s,v);return c.length=s,c}});var Zl=h(function(xlt,eF){var Mse=ge(),Jx=Mse("iterator"),Qx=!1;try{Zx=0,k0={next:function(){return{done:!!Zx++}},return:function(){Qx=!0}},k0[Jx]=function(){return this},Array.from(k0,function(){throw 2})}catch(t){}var Zx,k0;eF.exports=function(t,e){if(!e&&!Qx)return!1;var r=!1;try{var n={};n[Jx]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(i){}return r}});var xu=h(function(Flt,nF){"use strict";var Vse=ae(),Gse=Re(),Kse=xt(),tF=Ft(),Yse=lt(),Xse=ge(),Jse=de(),x0=Xse("iterator"),rF=!1,mi,F0,C0;[].keys&&(C0=[].keys(),"next"in C0?(F0=tF(tF(C0)),F0!==Object.prototype&&(mi=F0)):rF=!0);var Qse=mi==null||Vse(function(){var t={};return mi[x0].call(t)!==t});Qse?mi={}:Jse&&(mi=Kse(mi));Gse(mi[x0])||Yse(mi,x0,function(){return this});nF.exports={IteratorPrototype:mi,BUGGY_SAFARI_ITERATORS:rF}});var la=h(function(Clt,iF){"use strict";var Zse=xu().IteratorPrototype,ele=xt(),tle=un(),rle=Dr(),nle=Iu(),ile=function(){return this};iF.exports=function(t,e,r,n){var i=e+" Iterator";return t.prototype=ele(Zse,{next:tle(+!n,r)}),rle(t,i,!1,!0),nle[i]=ile,t}});var jd=h(function(Dlt,hF){"use strict";var ale=O(),ole=le(),Dd=de(),aF=na(),ule=Re(),sle=la(),oF=Ft(),uF=vi(),lle=Dr(),cle=Rt(),D0=lt(),fle=ge(),sF=Iu(),lF=xu(),ple=aF.PROPER,dle=aF.CONFIGURABLE,cF=lF.IteratorPrototype,Ud=lF.BUGGY_SAFARI_ITERATORS,ec=fle("iterator"),fF="keys",tc="values",pF="entries",dF=function(){return this};hF.exports=function(t,e,r,n,i,a,o){sle(r,e,n);var u=function(S){if(S===i&&p)return p;if(!Ud&&S in c)return c[S];switch(S){case fF:return function(){return new r(this,S)};case tc:return function(){return new r(this,S)};case pF:return function(){return new r(this,S)}}return function(){return new r(this)}},s=e+" Iterator",l=!1,c=t.prototype,f=c[ec]||c["@@iterator"]||i&&c[i],p=!Ud&&f||u(i),d=e=="Array"&&c.entries||f,v,g,m;if(d&&(v=oF(d.call(new t)),v!==Object.prototype&&v.next&&(!Dd&&oF(v)!==cF&&(uF?uF(v,cF):ule(v[ec])||D0(v,ec,dF)),lle(v,s,!0,!0),Dd&&(sF[s]=dF))),ple&&i==tc&&f&&f.name!==tc&&(!Dd&&dle?cle(c,"name",tc):(l=!0,p=function(){return ole(f,this)})),i)if(g={values:u(tc),keys:a?p:u(fF),entries:u(pF)},o)for(m in g)(Ud||l||!(m in c))&&D0(c,m,g[m]);else ale({target:e,proto:!0,forced:Ud||l},g);return(!Dd||o)&&c[ec]!==p&&D0(c,ec,p,{name:i}),sF[e]=p,g}});var rc=h(function(Ult,gF){"use strict";var hle=Jt(),U0=Wt(),vF=Iu(),yF=Ve(),vle=jd(),mF="Array Iterator",yle=yF.set,mle=yF.getterFor(mF);gF.exports=vle(Array,"Array",function(t,e){yle(this,{type:mF,target:hle(t),index:0,kind:e})},function(){var t=mle(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):r=="keys"?{value:n,done:!1}:r=="values"?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}},"values");vF.Arguments=vF.Array;U0("keys");U0("values");U0("entries")});var nc=h(function(jlt,bF){"use strict";var gle=ae();bF.exports=function(t,e){var r=[][t];return!!r&&gle(function(){r.call(null,e||function(){throw 1},1)})}});var Md=h(function(Mlt,PF){var OF=lo(),Xle=Math.floor,Jle=function t(e,r){var n=e.length,i=Xle(n/2);return n<8?Qle(e,r):Zle(e,t(OF(e,0,i),r),t(OF(e,i),r),r)},Qle=function(e,r){for(var n=e.length,i=1,a,o;i<n;){for(o=i,a=e[i];o&&r(e[o-1],a)>0;)e[o]=e[--o];o!==i++&&(e[o]=a)}return e},Zle=function(e,r,n,i){for(var a=r.length,o=n.length,u=0,s=0;u<a||s<o;)e[u+s]=u<a&&s<o?i(r[u],n[s])<=0?r[u++]:n[s++]:u<a?r[u++]:n[s++];return e};PF.exports=Jle});var M0=h(function(Nlt,RF){var ece=ui(),qF=ece.match(/firefox\/(\d+)/i);RF.exports=!!qF&&+qF[1]});var N0=h(function(Blt,EF){var tce=ui();EF.exports=/MSIE|Trident/.test(tce)});var Nd=h(function(Llt,AF){var rce=ui(),TF=rce.match(/AppleWebKit\/(\d+)\./);AF.exports=!!TF&&+TF[1]});var fa=h(function(zlt,MF){"use strict";var yce=ke(),mce=Ne(),gce=ge(),bce=qe(),jF=gce("species");MF.exports=function(t){var e=yce(t),r=mce.f;bce&&e&&!e[jF]&&r(e,jF,{configurable:!0,get:function(){return this}})}});var L0=h(function(Hlt,NF){NF.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"});var cn=h(function($lt,BF){var Mce=lt();BF.exports=function(t,e,r){for(var n in e)Mce(t,n,e[n],r);return t}});var jr=h(function(Wlt,LF){var Nce=z(),Bce=Qt(),Lce=Nce.TypeError;LF.exports=function(t,e){if(Bce(e,t))return t;throw Lce("Incorrect invocation")}});var z0=h(function(Vlt,zF){var zce=z(),Hce=$t(),$ce=_r(),Wce=zce.RangeError;zF.exports=function(t){if(t===void 0)return 0;var e=Hce(t),r=$ce(e);if(e!==r)throw Wce("Wrong length or index");return r}});var $F=h(function(Glt,HF){var Vce=z(),Gce=Vce.Array,Kce=Math.abs,gi=Math.pow,Yce=Math.floor,Xce=Math.log,Jce=Math.LN2,Qce=function(e,r,n){var i=Gce(n),a=n*8-r-1,o=(1<<a)-1,u=o>>1,s=r===23?gi(2,-24)-gi(2,-77):0,l=e<0||e===0&&1/e<0?1:0,c=0,f,p,d;for(e=Kce(e),e!=e||e===1/0?(p=e!=e?1:0,f=o):(f=Yce(Xce(e)/Jce),d=gi(2,-f),e*d<1&&(f--,d*=2),f+u>=1?e+=s/d:e+=s*gi(2,1-u),e*d>=2&&(f++,d/=2),f+u>=o?(p=0,f=o):f+u>=1?(p=(e*d-1)*gi(2,r),f=f+u):(p=e*gi(2,u-1)*gi(2,r),f=0));r>=8;)i[c++]=p&255,p/=256,r-=8;for(f=f<<r|p,a+=r;a>0;)i[c++]=f&255,f/=256,a-=8;return i[--c]|=l*128,i},Zce=function(e,r){var n=e.length,i=n*8-r-1,a=(1<<i)-1,o=a>>1,u=i-7,s=n-1,l=e[s--],c=l&127,f;for(l>>=7;u>0;)c=c*256+e[s--],u-=8;for(f=c&(1<<-u)-1,c>>=-u,u+=r;u>0;)f=f*256+e[s--],u-=8;if(c===0)c=1-o;else{if(c===a)return f?NaN:l?-1/0:1/0;f=f+gi(2,r),c=c-o}return(l?-1:1)*f*gi(2,c-r)};HF.exports={pack:Qce,unpack:Zce}});var X0=h(function(Klt,lC){"use strict";var Bd=z(),H0=ie(),$0=qe(),efe=L0(),WF=na(),VF=Rt(),GF=cn(),W0=ae(),Ld=jr(),tfe=$t(),rfe=_r(),zd=z0(),KF=$F(),nfe=Ft(),YF=vi(),ife=ci().f,afe=Ne().f,ofe=Fd(),ufe=lo(),XF=Dr(),JF=Ve(),sfe=WF.PROPER,QF=WF.CONFIGURABLE,Fu=JF.get,ZF=JF.set,Hd="ArrayBuffer",eC="DataView",Cu="prototype",lfe="Wrong length",tC="Wrong index",fn=Bd[Hd],wr=fn,Du=wr&&wr[Cu],Cn=Bd[eC],vo=Cn&&Cn[Cu],rC=Object.prototype,cfe=Bd.Array,$d=Bd.RangeError,ffe=H0(ofe),pfe=H0([].reverse),nC=KF.pack,iC=KF.unpack,aC=function(e){return[e&255]},oC=function(e){return[e&255,e>>8&255]},uC=function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]},sC=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},dfe=function(e){return nC(e,23,4)},hfe=function(e){return nC(e,52,8)},Wd=function(e,r){afe(e[Cu],r,{get:function(){return Fu(this)[r]}})},pa=function(e,r,n,i){var a=zd(n),o=Fu(e);if(a+r>o.byteLength)throw $d(tC);var u=Fu(o.buffer).bytes,s=a+o.byteOffset,l=ufe(u,s,s+r);return i?l:pfe(l)},da=function(e,r,n,i,a,o){var u=zd(n),s=Fu(e);if(u+r>s.byteLength)throw $d(tC);for(var l=Fu(s.buffer).bytes,c=u+s.byteOffset,f=i(+a),p=0;p<r;p++)l[c+p]=f[o?p:r-p-1]};if(!efe)wr=function(e){Ld(this,Du);var r=zd(e);ZF(this,{bytes:ffe(cfe(r),0),byteLength:r}),$0||(this.byteLength=r)},Du=wr[Cu],Cn=function(e,r,n){Ld(this,vo),Ld(e,Du);var i=Fu(e).byteLength,a=tfe(r);if(a<0||a>i)throw $d("Wrong offset");if(n=n===void 0?i-a:rfe(n),a+n>i)throw $d(lfe);ZF(this,{buffer:e,byteLength:n,byteOffset:a}),$0||(this.buffer=e,this.byteLength=n,this.byteOffset=a)},vo=Cn[Cu],$0&&(Wd(wr,"byteLength"),Wd(Cn,"buffer"),Wd(Cn,"byteLength"),Wd(Cn,"byteOffset")),GF(vo,{getInt8:function(e){return pa(this,1,e)[0]<<24>>24},getUint8:function(e){return pa(this,1,e)[0]},getInt16:function(e){var r=pa(this,2,e,arguments.length>1?arguments[1]:void 0);return(r[1]<<8|r[0])<<16>>16},getUint16:function(e){var r=pa(this,2,e,arguments.length>1?arguments[1]:void 0);return r[1]<<8|r[0]},getInt32:function(e){return sC(pa(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return sC(pa(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return iC(pa(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return iC(pa(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,r){da(this,1,e,aC,r)},setUint8:function(e,r){da(this,1,e,aC,r)},setInt16:function(e,r){da(this,2,e,oC,r,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,r){da(this,2,e,oC,r,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,r){da(this,4,e,uC,r,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,r){da(this,4,e,uC,r,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,r){da(this,4,e,dfe,r,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,r){da(this,8,e,hfe,r,arguments.length>2?arguments[2]:void 0)}});else{if(V0=sfe&&fn.name!==Hd,!W0(function(){fn(1)})||!W0(function(){new fn(-1)})||W0(function(){return new fn,new fn(1.5),new fn(NaN),V0&&!QF})){for(wr=function(e){return Ld(this,Du),new fn(zd(e))},wr[Cu]=Du,G0=ife(fn),K0=0;G0.length>K0;)(Vd=G0[K0++])in wr||VF(wr,Vd,fn[Vd]);Du.constructor=wr}else V0&&QF&&VF(fn,"name",Hd);YF&&nfe(vo)!==rC&&YF(vo,rC),ic=new Cn(new wr(2)),Y0=H0(vo.setInt8),ic.setInt8(0,2147483648),ic.setInt8(1,2147483649),(ic.getInt8(0)||!ic.getInt8(1))&&GF(vo,{setInt8:function(e,r){Y0(this,e,r<<24>>24)},setUint8:function(e,r){Y0(this,e,r<<24>>24)}},{unsafe:!0})}var V0,G0,K0,Vd,ic,Y0;XF(wr,Hd);XF(Cn,eC);lC.exports={ArrayBuffer:wr,DataView:Cn}});var pC=h(function(Ylt,fC){"use strict";var _fe=z(),wfe=V(),Sfe=k_(),Ofe=_fe.TypeError;fC.exports=function(t){if(wfe(this),t==="string"||t==="default")t="string";else if(t!=="number")throw Ofe("Incorrect hint");return Sfe(this,t)}});var Q0=h(function(){var Mfe=O(),Nfe=z();Mfe({global:!0},{globalThis:Nfe})});var Yd=h(function(Qlt,PC){var epe=ae();PC.exports=epe(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})});var oc=h(function(Zlt,RC){var tpe=ae(),rpe=_e(),npe=lr(),qC=Yd(),Xd=Object.isExtensible,ipe=tpe(function(){Xd(1)});RC.exports=ipe||qC?function(e){return!rpe(e)||qC&&npe(e)=="ArrayBuffer"?!1:Xd?Xd(e):!0}:Xd});var Uu=h(function(ect,EC){var ape=ae();EC.exports=!ape(function(){return Object.isExtensible(Object.preventExtensions({}))})});var ha=h(function(tct,IC){function Jd(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jd=function(r){return typeof r}:Jd=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Jd(t)}var ope=O(),upe=ie(),spe=Ru(),lpe=_e(),Z0=Le(),cpe=Ne().f,TC=ci(),fpe=gd(),ew=oc(),ppe=Pu(),dpe=Uu(),AC=!1,bi=ppe("meta"),hpe=0,tw=function(e){cpe(e,bi,{value:{objectID:"O"+hpe++,weakData:{}}})},vpe=function(e,r){if(!lpe(e))return Jd(e)=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!Z0(e,bi)){if(!ew(e))return"F";if(!r)return"E";tw(e)}return e[bi].objectID},ype=function(e,r){if(!Z0(e,bi)){if(!ew(e))return!0;if(!r)return!1;tw(e)}return e[bi].weakData},mpe=function(e){return dpe&&AC&&ew(e)&&!Z0(e,bi)&&tw(e),e},gpe=function(){bpe.enable=function(){},AC=!0;var e=TC.f,r=upe([].splice),n={};n[bi]=1,e(n).length&&(TC.f=function(i){for(var a=e(i),o=0,u=a.length;o<u;o++)if(a[o]===bi){r(a,o,1);break}return a},ope({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:fpe.f}))},bpe=IC.exports={enable:gpe,fastKey:vpe,getWeakData:ype,onFreeze:mpe};spe[bi]=!0});var uc=h(function(rct,xC){var _pe=Re(),wpe=_e(),kC=vi();xC.exports=function(t,e,r){var n,i;return kC&&_pe(n=e.constructor)&&n!==r&&wpe(i=n.prototype)&&i!==r.prototype&&kC(t,i),t}});var sc=h(function(nct,CC){"use strict";var Spe=O(),Ope=z(),Ppe=ie(),FC=Eu(),qpe=lt(),Rpe=ha(),Epe=ye(),Tpe=jr(),Ape=Re(),rw=_e(),nw=ae(),Ipe=Zl(),kpe=Dr(),xpe=uc();CC.exports=function(t,e,r){var n=t.indexOf("Map")!==-1,i=t.indexOf("Weak")!==-1,a=n?"set":"add",o=Ope[t],u=o&&o.prototype,s=o,l={},c=function(S){var q=Ppe(u[S]);qpe(u,S,S=="add"?function(D){return q(this,D===0?0:D),this}:S=="delete"?function(A){return i&&!rw(A)?!1:q(this,A===0?0:A)}:S=="get"?function(D){return i&&!rw(D)?void 0:q(this,D===0?0:D)}:S=="has"?function(D){return i&&!rw(D)?!1:q(this,D===0?0:D)}:function(D,F){return q(this,D===0?0:D,F),this})},f=FC(t,!Ape(o)||!(i||u.forEach&&!nw(function(){new o().entries().next()})));if(f)s=r.getConstructor(e,t,n,a),Rpe.enable();else if(FC(t,!0)){var p=new s,d=p[a](i?{}:-0,1)!=p,v=nw(function(){p.has(1)}),g=Ipe(function(_){new o(_)}),m=!i&&nw(function(){for(var _=new o,S=5;S--;)_[a](S,S);return!_.has(-0)});g||(s=e(function(_,S){Tpe(_,u);var q=xpe(new o,_,s);return S!=null&&Epe(S,q[a],{that:q,AS_ENTRIES:n}),q}),s.prototype=u,u.constructor=s),(v||m)&&(c("delete"),c("has"),n&&c("get")),(m||d)&&c(a),i&&u.clear&&delete u.clear}return l[t]=s,Spe({global:!0,forced:s!=o},l),kpe(s,t),i||r.setStrong(s,t,n),s}});var aw=h(function(ict,NC){"use strict";var Fpe=Ne().f,Cpe=xt(),DC=cn(),Dpe=Ye(),Upe=jr(),jpe=ye(),Mpe=jd(),Npe=fa(),lc=qe(),UC=ha().fastKey,jC=Ve(),MC=jC.set,iw=jC.getterFor;NC.exports={getConstructor:function(e,r,n,i){var a=e(function(c,f){Upe(c,o),MC(c,{type:r,index:Cpe(null),first:void 0,last:void 0,size:0}),lc||(c.size=0),f!=null&&jpe(f,c[i],{that:c,AS_ENTRIES:n})}),o=a.prototype,u=iw(r),s=function(f,p,d){var v=u(f),g=l(f,p),m,_;return g?g.value=d:(v.last=g={index:_=UC(p,!0),key:p,value:d,previous:m=v.last,next:void 0,removed:!1},v.first||(v.first=g),m&&(m.next=g),lc?v.size++:f.size++,_!=="F"&&(v.index[_]=g)),f},l=function(f,p){var d=u(f),v=UC(p),g;if(v!=="F")return d.index[v];for(g=d.first;g;g=g.next)if(g.key==p)return g};return DC(o,{clear:function(){for(var f=this,p=u(f),d=p.index,v=p.first;v;)v.removed=!0,v.previous&&(v.previous=v.previous.next=void 0),delete d[v.index],v=v.next;p.first=p.last=void 0,lc?p.size=0:f.size=0},delete:function(f){var p=this,d=u(p),v=l(p,f);if(v){var g=v.next,m=v.previous;delete d.index[v.index],v.removed=!0,m&&(m.next=g),g&&(g.previous=m),d.first==v&&(d.first=g),d.last==v&&(d.last=m),lc?d.size--:p.size--}return!!v},forEach:function(f){for(var p=u(this),d=Dpe(f,arguments.length>1?arguments[1]:void 0),v;v=v?v.next:p.first;)for(d(v.value,v.key,this);v&&v.removed;)v=v.previous},has:function(f){return!!l(this,f)}}),DC(o,n?{get:function(f){var p=l(this,f);return p&&p.value},set:function(f,p){return s(this,f===0?0:f,p)}}:{add:function(f){return s(this,f=f===0?0:f,f)}}),lc&&Fpe(o,"size",{get:function(){return u(this).size}}),a},setStrong:function(e,r,n){var i=r+" Iterator",a=iw(r),o=iw(i);Mpe(e,r,function(u,s){MC(this,{type:i,target:u,state:a(u),kind:s,last:void 0})},function(){for(var u=o(this),s=u.kind,l=u.last;l&&l.removed;)l=l.previous;return!u.target||!(u.last=l=l?l.next:u.state.first)?(u.target=void 0,{value:void 0,done:!0}):s=="keys"?{value:l.key,done:!1}:s=="values"?{value:l.value,done:!1}:{value:[l.key,l.value],done:!1}},n?"entries":"values",!n,!0),Npe(r)}}});var Qd=h(function(){"use strict";var Bpe=sc(),Lpe=aw();Bpe("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Lpe)});var ow=h(function(uct,BC){var zpe=Math.log;BC.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:zpe(1+e)}});var Zd=h(function(sct,WC){WC.exports=Math.sign||function(e){return(e=+e)==0||e!=e?e:e<0?-1:1}});var fc=h(function(lct,VC){var cc=Math.expm1,ude=Math.exp;VC.exports=!cc||cc(10)>22025.465794806718||cc(10)<22025.465794806718||cc(-2e-17)!=-2e-17?function(e){return(e=+e)==0?e:e>-1e-6&&e<1e-6?e+e*e/2:ude(e)-1}:cc});var fw=h(function(cct,YC){var pde=Zd(),dde=Math.abs,eh=Math.pow,lw=eh(2,-52),th=eh(2,-23),hde=eh(2,127)*(2-th),cw=eh(2,-126),vde=function(e){return e+1/lw-1/lw};YC.exports=Math.fround||function(e){var r=dde(e),n=pde(e),i,a;return r<cw?n*vde(r/cw/th)*cw*th:(i=(1+th/lw)*r,a=i-(i-r),a>hde||a!=a?n*(1/0):n*a)}});var pw=h(function(fct,r3){var Wde=ie();r3.exports=Wde(1 .valueOf)});var pc=h(function(pct,n3){n3.exports="	\n\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF"});var yo=h(function(dct,a3){var Vde=ie(),Gde=qt(),Kde=Be(),Yde=pc(),i3=Vde("".replace),rh="["+Yde+"]",Xde=RegExp("^"+rh+rh+"*"),Jde=RegExp(rh+rh+"*$"),dw=function(e){return function(r){var n=Kde(Gde(r));return e&1&&(n=i3(n,Xde,"")),e&2&&(n=i3(n,Jde,"")),n}};a3.exports={start:dw(1),end:dw(2),trim:dw(3)}});var gw=h(function(hct,l3){var vhe=z(),yhe=vhe.isFinite;l3.exports=Number.isFinite||function(e){return typeof e=="number"&&yhe(e)}});var ah=h(function(vct,c3){var bhe=_e(),_he=Math.floor;c3.exports=Number.isInteger||function(e){return!bhe(e)&&isFinite(e)&&_he(e)===e}});var v3=h(function(yct,h3){var f3=z(),Ahe=ae(),Ihe=ie(),khe=Be(),xhe=yo().trim,Fhe=pc(),Che=Ihe("".charAt),oh=f3.parseFloat,p3=f3.Symbol,d3=p3&&p3.iterator,Dhe=1/oh(Fhe+"-0")!=-1/0||d3&&!Ahe(function(){oh(Object(d3))});h3.exports=Dhe?function(e){var r=xhe(khe(e)),n=oh(r);return n===0&&Che(r,0)=="-"?-0:n}:oh});var bw=h(function(mct,S3){var m3=z(),jhe=ae(),Mhe=ie(),Nhe=Be(),Bhe=yo().trim,g3=pc(),hc=m3.parseInt,b3=m3.Symbol,_3=b3&&b3.iterator,w3=/^[+-]?0x/i,Lhe=Mhe(w3.exec),zhe=hc(g3+"08")!==8||hc(g3+"0x16")!==22||_3&&!jhe(function(){hc(Object(_3))});S3.exports=zhe?function(e,r){var n=Bhe(Nhe(e));return hc(n,r>>>0||(Lhe(w3,n)?16:10))}:hc});var uh=h(function(gct,P3){"use strict";var $he=z(),Whe=$t(),Vhe=Be(),Ghe=qt(),Khe=$he.RangeError;P3.exports=function(e){var r=Vhe(Ghe(this)),n="",i=Whe(e);if(i<0||i==1/0)throw Khe("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(r+=r))i&1&&(n+=r);return n}});var Pw=h(function(bct,F3){"use strict";var k3=qe(),rve=ie(),nve=le(),ive=ae(),Ow=so(),ave=sd(),ove=Cl(),uve=xe(),sve=no(),Mu=Object.assign,x3=Object.defineProperty,lve=rve([].concat);F3.exports=!Mu||ive(function(){if(k3&&Mu({b:1},Mu(x3({},"a",{enumerable:!0,get:function(){x3(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(i){e[i]=i}),Mu({},t)[r]!=7||Ow(Mu({},e)).join("")!=n})?function(e,r){for(var n=uve(e),i=arguments.length,a=1,o=ave.f,u=ove.f;i>a;)for(var s=sve(arguments[a++]),l=o?lve(Ow(s),o(s)):Ow(s),c=l.length,f=0,p;c>f;)p=l[f++],(!k3||nve(u,s,p))&&(n[p]=s[p]);return n}:Mu});var yc=h(function(_ct,U3){"use strict";var fve=de(),pve=z(),dve=ae(),D3=Nd();U3.exports=fve||!dve(function(){if(!(D3&&D3<535)){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete pve[t]}})});var qw=h(function(wct,N3){var Rve=qe(),j3=ie(),Eve=so(),Tve=Jt(),Ave=Cl().f,Ive=j3(Ave),kve=j3([].push),M3=function(e){return function(r){for(var n=Tve(r),i=Eve(n),a=i.length,o=0,u=[],s;a>o;)s=i[o++],(!Rve||Ive(n,s))&&kve(u,e?[s,n[s]]:n[s]);return u}};N3.exports={entries:M3(!0),values:M3(!1)}});var Ew=h(function(Sct,H3){H3.exports=Object.is||function(e,r){return e===r?e!==0||1/e==1/r:e!=e&&r!=r}});var Y3=h(function(Oct,K3){"use strict";var Qye=pd(),Zye=ia();K3.exports=Qye?{}.toString:function(){return"[object "+Zye(this)+"]"}});var xw=h(function(Pct,X3){var ame=z();X3.exports=ame.Promise});var mc=h(function(qct,J3){var ome=z(),ume=co(),sme=Su(),lme=ome.TypeError;J3.exports=function(t){if(ume(t))return t;throw lme(sme(t)+" is not a constructor")}});var Zt=h(function(Rct,Z3){var Q3=V(),cme=mc(),fme=ge(),pme=fme("species");Z3.exports=function(t,e){var r=Q3(t).constructor,n;return r===void 0||(n=Q3(r)[pme])==null?e:cme(n)}});var Fw=h(function(Ect,eD){var dme=ui();eD.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(dme)});var gc=h(function(Tct,tD){var hme=lr(),vme=z();tD.exports=hme(vme.process)=="process"});var zw=h(function(Act,lD){var Sr=z(),yme=Ke(),mme=Ye(),rD=Re(),gme=Le(),bme=ae(),nD=K_(),_me=aa(),iD=Ul(),wme=Fw(),Sme=gc(),Cw=Sr.setImmediate,Dw=Sr.clearImmediate,Ome=Sr.process,Uw=Sr.Dispatch,Pme=Sr.Function,aD=Sr.MessageChannel,qme=Sr.String,jw=0,bc={},oD="onreadystatechange",_c,go,Mw,Nw;try{_c=Sr.location}catch(t){}var Bw=function(e){if(gme(bc,e)){var r=bc[e];delete bc[e],r()}},Lw=function(e){return function(){Bw(e)}},uD=function(e){Bw(e.data)},sD=function(e){Sr.postMessage(qme(e),_c.protocol+"//"+_c.host)};(!Cw||!Dw)&&(Cw=function(e){var r=_me(arguments,1);return bc[++jw]=function(){yme(rD(e)?e:Pme(e),void 0,r)},go(jw),jw},Dw=function(e){delete bc[e]},Sme?go=function(e){Ome.nextTick(Lw(e))}:Uw&&Uw.now?go=function(e){Uw.now(Lw(e))}:aD&&!wme?(Mw=new aD,Nw=Mw.port2,Mw.port1.onmessage=uD,go=mme(Nw.postMessage,Nw)):Sr.addEventListener&&rD(Sr.postMessage)&&!Sr.importScripts&&_c&&_c.protocol!=="file:"&&!bme(sD)?(go=sD,Sr.addEventListener("message",uD,!1)):oD in iD("script")?go=function(e){nD.appendChild(iD("script"))[oD]=function(){nD.removeChild(this),Bw(e)}}:go=function(e){setTimeout(Lw(e),0)});lD.exports={set:Cw,clear:Dw}});var fD=h(function(Ict,cD){var Rme=ui(),Eme=z();cD.exports=/ipad|iphone|ipod/i.test(Rme)&&Eme.Pebble!==void 0});var dD=h(function(kct,pD){var Tme=ui();pD.exports=/web0s(?!.*chrome)/i.test(Tme)});var Gw=h(function(xct,wD){var bo=z(),hD=Ye(),Ame=kt().f,Hw=zw().set,Ime=Fw(),kme=fD(),xme=dD(),$w=gc(),vD=bo.MutationObserver||bo.WebKitMutationObserver,yD=bo.document,mD=bo.process,lh=bo.Promise,gD=Ame(bo,"queueMicrotask"),bD=gD&&gD.value,wc,_o,Sc,Nu,Ww,Vw,ch,_D;bD||(wc=function(){var e,r;for($w&&(e=mD.domain)&&e.exit();_o;){r=_o.fn,_o=_o.next;try{r()}catch(n){throw _o?Nu():Sc=void 0,n}}Sc=void 0,e&&e.enter()},!Ime&&!$w&&!xme&&vD&&yD?(Ww=!0,Vw=yD.createTextNode(""),new vD(wc).observe(Vw,{characterData:!0}),Nu=function(){Vw.data=Ww=!Ww}):!kme&&lh&&lh.resolve?(ch=lh.resolve(void 0),ch.constructor=lh,_D=hD(ch.then,ch),Nu=function(){_D(wc)}):$w?Nu=function(){mD.nextTick(wc)}:(Hw=hD(Hw,bo),Nu=function(){Hw(wc)}));wD.exports=bD||function(t){var e={fn:t,next:void 0};Sc&&(Sc.next=e),_o||(_o=e,Nu()),Sc=e}});var Bu=h(function(Fct,OD){"use strict";var SD=pe(),Fme=function(e){var r,n;this.promise=new e(function(i,a){if(r!==void 0||n!==void 0)throw TypeError("Bad Promise constructor");r=i,n=a}),this.resolve=SD(r),this.reject=SD(n)};OD.exports.f=function(t){return new Fme(t)}});var Kw=h(function(Cct,PD){var Cme=V(),Dme=_e(),Ume=Bu();PD.exports=function(t,e){if(Cme(t),Dme(e)&&e.constructor===t)return e;var r=Ume.f(t),n=r.resolve;return n(e),r.promise}});var Yw=h(function(Dct,qD){var jme=z();qD.exports=function(t,e){var r=jme.console;r&&r.error&&(arguments.length==1?r.error(t):r.error(t,e))}});var Oc=h(function(Uct,RD){RD.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}});var TD=h(function(jct,ED){function fh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fh=function(r){return typeof r}:fh=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fh(t)}ED.exports=(typeof window=="undefined"?"undefined":fh(window))=="object"});var aS=h(function(){"use strict";var sge=O(),lge=le(),cge=pe(),fge=Bu(),pge=Oc(),dge=ye();sge({target:"Promise",stat:!0},{allSettled:function(e){var r=this,n=fge.f(r),i=n.resolve,a=n.reject,o=pge(function(){var u=cge(r.resolve),s=[],l=0,c=1;dge(e,function(f){var p=l++,d=!1;c++,lge(u,r,f).then(function(v){d||(d=!0,s[p]={status:"fulfilled",value:v},--c||i(s))},function(v){d||(d=!0,s[p]={status:"rejected",reason:v},--c||i(s))})}),--c||i(s)});return o.error&&a(o.value),n.promise}})});var oS=h(function(){"use strict";var hge=O(),vge=pe(),yge=ke(),mge=le(),gge=Bu(),bge=Oc(),_ge=ye(),YD="No one promise resolved";hge({target:"Promise",stat:!0},{any:function(e){var r=this,n=yge("AggregateError"),i=gge.f(r),a=i.resolve,o=i.reject,u=bge(function(){var s=vge(r.resolve),l=[],c=0,f=1,p=!1;_ge(e,function(d){var v=c++,g=!1;f++,mge(s,r,d).then(function(m){g||p||(p=!0,a(m))},function(m){g||p||(g=!0,l[v]=m,--f||o(new n(l,YD)))})}),--f||o(new n(l,YD))});return u.error&&o(u.value),i.promise}})});var nU=h(function(zct,rU){"use strict";var Fge=z(),ZD=ie(),Cge=pe(),Dge=_e(),Uge=Le(),eU=aa(),tU=Fge.Function,jge=ZD([].concat),Mge=ZD([].join),sS={},Nge=function(e,r,n){if(!Uge(sS,r)){for(var i=[],a=0;a<r;a++)i[a]="a["+a+"]";sS[r]=tU("C,a","return new C("+Mge(i,",")+")")}return sS[r](e,n)};rU.exports=tU.bind||function(e){var r=Cge(this),n=r.prototype,i=eU(arguments,1),a=function(){var u=jge(i,eU(arguments));return this instanceof a?Nge(r,u.length,u):r.apply(e,u)};return Dge(n)&&(a.prototype=n),a}});var fS=h(function(Hct,dU){var pU=Le();dU.exports=function(t){return t!==void 0&&(pU(t,"value")||pU(t,"writable"))}});var Wu=h(function($ct,_U){var Nbe=_e(),Bbe=lr(),Lbe=ge(),zbe=Lbe("match");_U.exports=function(t){var e;return Nbe(t)&&((e=t[zbe])!==void 0?!!e:Bbe(t)=="RegExp")}});var So=h(function(Wct,wU){"use strict";var Hbe=V();wU.exports=function(){var t=Hbe(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}});var Ec=h(function(Vct,SU){var dS=ae(),$be=z(),hS=$be.RegExp,vS=dS(function(){var t=hS("a","y");return t.lastIndex=2,t.exec("abcd")!=null}),Wbe=vS||dS(function(){return!hS("a","y").sticky}),Vbe=vS||dS(function(){var t=hS("^r","gy");return t.lastIndex=2,t.exec("str")!=null});SU.exports={BROKEN_CARET:Vbe,MISSED_STICKY:Wbe,UNSUPPORTED_Y:vS}});var mh=h(function(Gct,OU){var Gbe=ae(),Kbe=z(),Ybe=Kbe.RegExp;OU.exports=Gbe(function(){var t=Ybe(".","s");return!(t.dotAll&&t.exec("\n")&&t.flags==="s")})});var yS=h(function(Kct,PU){var Xbe=ae(),Jbe=z(),Qbe=Jbe.RegExp;PU.exports=Xbe(function(){var t=Qbe("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"})});var Tc=h(function(Yct,UU){"use strict";var Ku=le(),bh=ie(),k_e=Be(),x_e=So(),F_e=Ec(),C_e=Ou(),D_e=xt(),U_e=Ve().get,j_e=mh(),M_e=yS(),N_e=C_e("native-string-replace",String.prototype.replace),_h=RegExp.prototype.exec,wS=_h,B_e=bh("".charAt),L_e=bh("".indexOf),z_e=bh("".replace),SS=bh("".slice),OS=function(){var t=/a/,e=/b*/g;return Ku(_h,t,"a"),Ku(_h,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),DU=F_e.BROKEN_CARET,PS=/()??/.exec("")[1]!==void 0,H_e=OS||PS||DU||j_e||M_e;H_e&&(wS=function(e){var r=this,n=U_e(r),i=k_e(e),a=n.raw,o,u,s,l,c,f,p;if(a)return a.lastIndex=r.lastIndex,o=Ku(wS,a,i),r.lastIndex=a.lastIndex,o;var d=n.groups,v=DU&&r.sticky,g=Ku(x_e,r),m=r.source,_=0,S=i;if(v&&(g=z_e(g,"y",""),L_e(g,"g")===-1&&(g+="g"),S=SS(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&B_e(i,r.lastIndex-1)!=="\n")&&(m="(?: "+m+")",S=" "+S,_++),u=new RegExp("^(?:"+m+")",g)),PS&&(u=new RegExp("^"+m+"$(?!\\s)",g)),OS&&(s=r.lastIndex),l=Ku(_h,v?u:r,S),v?l?(l.input=SS(l.input,_),l[0]=SS(l[0],_),l.index=r.lastIndex,r.lastIndex+=l[0].length):r.lastIndex=0:OS&&l&&(r.lastIndex=r.global?l.index+l[0].length:s),PS&&l&&l.length>1&&Ku(N_e,l[0],u,function(){for(c=1;c<arguments.length-2;c++)arguments[c]===void 0&&(l[c]=void 0)}),l&&d)for(l.groups=f=D_e(null),c=0;c<d.length;c++)p=d[c],f[p[0]]=l[p[1]];return l});UU.exports=wS});var wh=h(function(){"use strict";var $_e=O(),jU=Tc();$_e({target:"RegExp",proto:!0,forced:/./.exec!==jU},{exec:jU})});var Po=h(function(Qct,$U){var ES=ie(),P0e=$t(),q0e=Be(),R0e=qt(),E0e=ES("".charAt),zU=ES("".charCodeAt),T0e=ES("".slice),HU=function(e){return function(r,n){var i=q0e(R0e(r)),a=P0e(n),o=i.length,u,s;return a<0||a>=o?e?"":void 0:(u=zU(i,a),u<55296||u>56319||a+1===o||(s=zU(i,a+1))<56320||s>57343?e?E0e(i,a):u:e?T0e(i,a,a+2):(u-55296<<10)+(s-56320)+65536)}};$U.exports={codeAt:HU(!1),charAt:HU(!0)}});var Sh=h(function(Zct,WU){var k0e=z(),x0e=Wu(),F0e=k0e.TypeError;WU.exports=function(t){if(x0e(t))throw F0e("The method doesn't accept regular expressions");return t}});var Oh=h(function(eft,VU){var C0e=ge(),D0e=C0e("match");VU.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[D0e]=!1,"/./"[t](e)}catch(n){}}return!1}});var TS=h(function(){"use strict";var awe=Po().charAt,owe=Be(),ej=Ve(),uwe=jd(),tj="String Iterator",swe=ej.set,lwe=ej.getterFor(tj);uwe(String,"String",function(t){swe(this,{type:tj,string:owe(t),index:0})},function(){var e=lwe(this),r=e.string,n=e.index,i;return n>=r.length?{value:void 0,done:!0}:(i=awe(r,n),e.index+=i.length,{value:i,done:!1})})});var Ac=h(function(nft,oj){"use strict";wh();var rj=ie(),nj=lt(),cwe=Tc(),ij=ae(),aj=ge(),fwe=Rt(),pwe=aj("species"),AS=RegExp.prototype;oj.exports=function(t,e,r,n){var i=aj(t),a=!ij(function(){var l={};return l[i]=function(){return 7},""[t](l)!=7}),o=a&&!ij(function(){var l=!1,c=/a/;return t==="split"&&(c={},c.constructor={},c.constructor[pwe]=function(){return c},c.flags="",c[i]=/./[i]),c.exec=function(){return l=!0,null},c[i](""),!l});if(!a||!o||r){var u=rj(/./[i]),s=e(i,""[t],function(l,c,f,p,d){var v=rj(l),g=c.exec;return g===cwe||g===AS.exec?a&&!d?{done:!0,value:u(c,f,p)}:{done:!0,value:v(f,c,p)}:{done:!1}});nj(String.prototype,t,s[0]),nj(AS,i,s[1])}n&&fwe(AS[i],"sham",!0)}});var Ic=h(function(ift,uj){"use strict";var dwe=Po().charAt;uj.exports=function(t,e,r){return e+(r?dwe(t,e).length:1)}});var Yu=h(function(aft,lj){var hwe=z(),sj=le(),vwe=V(),ywe=Re(),mwe=lr(),gwe=Tc(),bwe=hwe.TypeError;lj.exports=function(t,e){var r=t.exec;if(ywe(r)){var n=sj(r,t,e);return n!==null&&vwe(n),n}if(mwe(t)==="RegExp")return sj(gwe,t,e);throw bwe("RegExp#exec called on incompatible receiver")}});var US=h(function(){"use strict";var Ewe=O(),Twe=z(),fj=le(),kS=ie(),Awe=la(),pj=qt(),dj=_r(),kc=Be(),Iwe=V(),kwe=lr(),xwe=Qt(),Fwe=Wu(),Cwe=So(),Dwe=It(),Uwe=lt(),jwe=ae(),Mwe=ge(),Nwe=Zt(),Bwe=Ic(),Lwe=Yu(),hj=Ve(),xS=de(),Ph=Mwe("matchAll"),vj="RegExp String",yj=vj+" Iterator",zwe=hj.set,Hwe=hj.getterFor(yj),xc=RegExp.prototype,$we=Twe.TypeError,mj=kS(Cwe),FS=kS("".indexOf),qh=kS("".matchAll),CS=!!qh&&!jwe(function(){qh("a",/./)}),Wwe=Awe(function(e,r,n,i){zwe(this,{type:yj,regexp:e,string:r,global:n,unicode:i,done:!1})},vj,function(){var e=Hwe(this);if(e.done)return{value:void 0,done:!0};var r=e.regexp,n=e.string,i=Lwe(r,n);return i===null?{value:void 0,done:e.done=!0}:e.global?(kc(i[0])===""&&(r.lastIndex=Bwe(n,dj(r.lastIndex),e.unicode)),{value:i,done:!1}):(e.done=!0,{value:i,done:!1})}),DS=function(e){var r=Iwe(this),n=kc(e),i,a,o,u,s,l;return i=Nwe(r,RegExp),a=r.flags,a===void 0&&xwe(xc,r)&&!("flags"in xc)&&(a=mj(r)),o=a===void 0?"":kc(a),u=new i(i===RegExp?r.source:r,o),s=!!~FS(o,"g"),l=!!~FS(o,"u"),u.lastIndex=dj(r.lastIndex),new Wwe(u,n,s,l)};Ewe({target:"String",proto:!0,forced:CS},{matchAll:function(e){var r=pj(this),n,i,a,o;if(e!=null){if(Fwe(e)&&(n=kc(pj("flags"in xc?e.flags:mj(e))),!~FS(n,"g")))throw $we("`.matchAll` does not allow non-global regexes");if(CS)return qh(r,e);if(a=Dwe(e,Ph),a===void 0&&xS&&kwe(e)=="RegExp"&&(a=DS),a)return fj(a,e,r)}else if(CS)return qh(r,e);return i=kc(r),o=new RegExp(e,"g"),xS?fj(DS,o,i):o[Ph](i)}});xS||Ph in xc||Uwe(xc,Ph,DS)});var jS=h(function(sft,wj){var gj=ie(),Vwe=_r(),bj=Be(),Gwe=uh(),Kwe=qt(),Ywe=gj(Gwe),Xwe=gj("".slice),Jwe=Math.ceil,_j=function(e){return function(r,n,i){var a=bj(Kwe(r)),o=Vwe(n),u=a.length,s=i===void 0?" ":bj(i),l,c;return o<=u||s==""?a:(l=o-u,c=Ywe(s,Jwe(l/s.length)),c.length>l&&(c=Xwe(c,0,l)),e?a+c:c+a)}};wj.exports={start:_j(!1),end:_j(!0)}});var MS=h(function(lft,Sj){var Qwe=ui();Sj.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(Qwe)});var zS=h(function(cft,Rj){var NS=ie(),pSe=xe(),dSe=Math.floor,BS=NS("".charAt),hSe=NS("".replace),LS=NS("".slice),vSe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,ySe=/\$([$&'`]|\d{1,2})/g;Rj.exports=function(t,e,r,n,i,a){var o=r+t.length,u=n.length,s=ySe;return i!==void 0&&(i=pSe(i),s=vSe),hSe(a,s,function(l,c){var f;switch(BS(c,0)){case"$":return"$";case"&":return t;case"`":return LS(e,0,r);case"'":return LS(e,o);case"<":f=i[LS(c,1,-1)];break;default:var p=+c;if(p===0)return l;if(p>u){var d=dSe(p/10);return d===0?l:d<=u?n[d-1]===void 0?BS(c,1):n[d-1]+BS(c,1):l}f=n[p-1]}return f===void 0?"":f})}});var WS=h(function(){"use strict";var USe=O(),jSe=z(),MSe=le(),Eh=ie(),kj=qt(),NSe=Re(),BSe=Wu(),Ju=Be(),LSe=It(),zSe=So(),HSe=zS(),$Se=ge(),WSe=de(),VSe=$Se("replace"),GSe=RegExp.prototype,KSe=jSe.TypeError,YSe=Eh(zSe),xj=Eh("".indexOf),XSe=Eh("".replace),Fj=Eh("".slice),JSe=Math.max,Cj=function(e,r,n){return n>e.length?-1:r===""?n:xj(e,r,n)};USe({target:"String",proto:!0},{replaceAll:function(e,r){var n=kj(this),i,a,o,u,s,l,c,f,p,d=0,v=0,g="";if(e!=null){if(i=BSe(e),i&&(a=Ju(kj("flags"in GSe?e.flags:YSe(e))),!~xj(a,"g")))throw KSe("`.replaceAll` does not allow non-global regexes");if(o=LSe(e,VSe),o)return MSe(o,e,n,r);if(WSe&&i)return XSe(Ju(n),e,r)}for(u=Ju(n),s=Ju(e),l=NSe(r),l||(r=Ju(r)),c=s.length,f=JSe(1,c),d=Cj(u,s,0);d!==-1;)p=l?Ju(r(s,d,u)):HSe(s,u,d,[],void 0,r),g+=Fj(u,v,d)+p,v=d+c,d=Cj(u,s,d+f);return v<u.length&&(g+=Fj(u,v)),g}})});var Th=h(function(dft,Kj){var TOe=na().PROPER,AOe=ae(),Vj=pc(),Gj="\u200B\x85\u180E";Kj.exports=function(t){return AOe(function(){return!!Vj[t]()||Gj[t]()!==Gj||TOe&&Vj[t].name!==t})}});var fr=h(function(hft,eM){var NOe=ie(),BOe=qt(),Zj=Be(),LOe=/"/g,zOe=NOe("".replace);eM.exports=function(t,e,r,n){var i=Zj(BOe(t)),a="<"+e;return r!==""&&(a+=" "+r+'="'+zOe(Zj(n),LOe,"&quot;")+'"'),a+">"+i+"</"+e+">"}});var pr=h(function(vft,tM){var HOe=ae();tM.exports=function(t){return HOe(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})}});var Ee=h(function(yft,lM){"use strict";var A1e=L0(),KS=qe(),er=z(),rM=Re(),YS=_e(),qo=Le(),XS=ia(),I1e=Su(),JS=Rt(),QS=lt(),k1e=Ne().f,x1e=Qt(),ZS=Ft(),es=vi(),F1e=ge(),nM=Pu(),Ah=er.Int8Array,eO=Ah&&Ah.prototype,iM=er.Uint8ClampedArray,aM=iM&&iM.prototype,Un=Ah&&ZS(Ah),pn=eO&&ZS(eO),C1e=Object.prototype,tO=er.TypeError,oM=F1e("toStringTag"),rO=nM("TYPED_ARRAY_TAG"),nO=nM("TYPED_ARRAY_CONSTRUCTOR"),Pi=A1e&&!!es&&XS(er.opera)!=="Opera",uM=!1,dr,ya,ts,qi={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},iO={BigInt64Array:8,BigUint64Array:8},D1e=function(e){if(!YS(e))return!1;var r=XS(e);return r==="DataView"||qo(qi,r)||qo(iO,r)},sM=function(e){if(!YS(e))return!1;var r=XS(e);return qo(qi,r)||qo(iO,r)},U1e=function(e){if(sM(e))return e;throw tO("Target is not a typed array")},j1e=function(e){if(rM(e)&&(!es||x1e(Un,e)))return e;throw tO(I1e(e)+" is not a typed array constructor")},M1e=function(e,r,n){if(!!KS){if(n)for(var i in qi){var a=er[i];if(a&&qo(a.prototype,e))try{delete a.prototype[e]}catch(o){}}(!pn[e]||n)&&QS(pn,e,n?r:Pi&&eO[e]||r)}},N1e=function(e,r,n){var i,a;if(!!KS){if(es){if(n){for(i in qi)if(a=er[i],a&&qo(a,e))try{delete a[e]}catch(o){}}if(!Un[e]||n)try{return QS(Un,e,n?r:Pi&&Un[e]||r)}catch(o){}else return}for(i in qi)a=er[i],a&&(!a[e]||n)&&QS(a,e,r)}};for(dr in qi)ya=er[dr],ts=ya&&ya.prototype,ts?JS(ts,nO,ya):Pi=!1;for(dr in iO)ya=er[dr],ts=ya&&ya.prototype,ts&&JS(ts,nO,ya);if((!Pi||!rM(Un)||Un===Function.prototype)&&(Un=function(){throw tO("Incorrect invocation")},Pi))for(dr in qi)er[dr]&&es(er[dr],Un);if((!Pi||!pn||pn===C1e)&&(pn=Un.prototype,Pi))for(dr in qi)er[dr]&&es(er[dr].prototype,pn);Pi&&ZS(aM)!==pn&&es(aM,pn);if(KS&&!qo(pn,oM)){uM=!0,k1e(pn,oM,{get:function(){return YS(this)?this[rO]:void 0}});for(dr in qi)er[dr]&&JS(er[dr],rO,dr)}lM.exports={NATIVE_ARRAY_BUFFER_VIEWS:Pi,TYPED_ARRAY_CONSTRUCTOR:nO,TYPED_ARRAY_TAG:uM&&rO,aTypedArray:U1e,aTypedArrayConstructor:j1e,exportTypedArrayMethod:M1e,exportTypedArrayStaticMethod:N1e,isView:D1e,isTypedArray:sM,TypedArray:Un,TypedArrayPrototype:pn}});var Ih=h(function(mft,fM){var cM=z(),aO=ae(),B1e=Zl(),L1e=Ee().NATIVE_ARRAY_BUFFER_VIEWS,z1e=cM.ArrayBuffer,Ro=cM.Int8Array;fM.exports=!L1e||!aO(function(){Ro(1)})||!aO(function(){new Ro(-1)})||!B1e(function(t){new Ro,new Ro(null),new Ro(1.5),new Ro(t)},!0)||aO(function(){return new Ro(new z1e(2),1,void 0).length!==1})});var rs=h(function(gft,pM){var H1e=z(),$1e=$t(),W1e=H1e.RangeError;pM.exports=function(t){var e=$1e(t);if(e<0)throw W1e("The argument can't be less than 0");return e}});var oO=h(function(bft,dM){var V1e=z(),G1e=rs(),K1e=V1e.RangeError;dM.exports=function(t,e){var r=G1e(t);if(r%e)throw K1e("Wrong offset");return r}});var uO=h(function(_ft,hM){var Y1e=Ye(),X1e=le(),J1e=mc(),Q1e=xe(),Z1e=Ge(),ePe=ln(),tPe=yi(),rPe=Ed(),nPe=Ee().aTypedArrayConstructor;hM.exports=function(e){var r=J1e(this),n=Q1e(e),i=arguments.length,a=i>1?arguments[1]:void 0,o=a!==void 0,u=tPe(n),s,l,c,f,p,d;if(u&&!rPe(u))for(p=ePe(n,u),d=p.next,n=[];!(f=X1e(d,p)).done;)n.push(f.value);for(o&&i>2&&(a=Y1e(a,arguments[2])),l=Z1e(n),c=new(nPe(r))(l),s=0;l>s;s++)c[s]=o?a(n[s],s):n[s];return c}});var jn=h(function(wft,vO){"use strict";var vM=O(),yM=z(),mM=le(),iPe=qe(),aPe=Ih(),Eo=Ee(),gM=X0(),bM=jr(),oPe=un(),ns=Rt(),uPe=ah(),sPe=_r(),_M=z0(),sO=oO(),wM=si(),Dc=Le(),lPe=ia(),lO=_e(),cPe=wu(),fPe=xt(),pPe=Qt(),kh=vi(),dPe=ci().f,SM=uO(),hPe=Et().forEach,vPe=fa(),OM=Ne(),PM=kt(),qM=Ve(),yPe=uc(),cO=qM.get,mPe=qM.set,fO=OM.f,gPe=PM.f,bPe=Math.round,pO=yM.RangeError,RM=gM.ArrayBuffer,_Pe=RM.prototype,wPe=gM.DataView,xh=Eo.NATIVE_ARRAY_BUFFER_VIEWS,SPe=Eo.TYPED_ARRAY_CONSTRUCTOR,EM=Eo.TYPED_ARRAY_TAG,TM=Eo.TypedArray,Uc=Eo.TypedArrayPrototype,OPe=Eo.aTypedArrayConstructor,dO=Eo.isTypedArray,Fh="BYTES_PER_ELEMENT",hO="Wrong length",AM=function(e,r){OPe(e);for(var n=0,i=r.length,a=new e(i);i>n;)a[n]=r[n++];return a},Ch=function(e,r){fO(e,r,{get:function(){return cO(this)[r]}})},IM=function(e){var r;return pPe(_Pe,e)||(r=lPe(e))=="ArrayBuffer"||r=="SharedArrayBuffer"},kM=function(e,r){return dO(e)&&!cPe(r)&&r in e&&uPe(+r)&&r>=0},xM=function(e,r){return r=wM(r),kM(e,r)?oPe(2,e[r]):gPe(e,r)},FM=function(e,r,n){return r=wM(r),kM(e,r)&&lO(n)&&Dc(n,"value")&&!Dc(n,"get")&&!Dc(n,"set")&&!n.configurable&&(!Dc(n,"writable")||n.writable)&&(!Dc(n,"enumerable")||n.enumerable)?(e[r]=n.value,e):fO(e,r,n)};iPe?(xh||(PM.f=xM,OM.f=FM,Ch(Uc,"buffer"),Ch(Uc,"byteOffset"),Ch(Uc,"byteLength"),Ch(Uc,"length")),vM({target:"Object",stat:!0,forced:!xh},{getOwnPropertyDescriptor:xM,defineProperty:FM}),vO.exports=function(t,e,r){var n=t.match(/\d+$/)[0]/8,i=t+(r?"Clamped":"")+"Array",a="get"+t,o="set"+t,u=yM[i],s=u,l=s&&s.prototype,c={},f=function(g,m){var _=cO(g);return _.view[a](m*n+_.byteOffset,!0)},p=function(g,m,_){var S=cO(g);r&&(_=(_=bPe(_))<0?0:_>255?255:_&255),S.view[o](m*n+S.byteOffset,_,!0)},d=function(g,m){fO(g,m,{get:function(){return f(this,m)},set:function(S){return p(this,m,S)},enumerable:!0})};xh?aPe&&(s=e(function(v,g,m,_){return bM(v,l),yPe(function(){return lO(g)?IM(g)?_!==void 0?new u(g,sO(m,n),_):m!==void 0?new u(g,sO(m,n)):new u(g):dO(g)?AM(s,g):mM(SM,s,g):new u(_M(g))}(),v,s)}),kh&&kh(s,TM),hPe(dPe(u),function(v){v in s||ns(s,v,u[v])}),s.prototype=l):(s=e(function(v,g,m,_){bM(v,l);var S=0,q=0,A,D,F;if(!lO(g))F=_M(g),D=F*n,A=new RM(D);else if(IM(g)){A=g,q=sO(m,n);var $=g.byteLength;if(_===void 0){if($%n||(D=$-q,D<0))throw pO(hO)}else if(D=sPe(_)*n,D+q>$)throw pO(hO);F=D/n}else return dO(g)?AM(s,g):mM(SM,s,g);for(mPe(v,{buffer:A,byteOffset:q,byteLength:D,length:F,view:new wPe(A)});S<F;)d(v,S++)}),kh&&kh(s,TM),l=s.prototype=fPe(Uc)),l.constructor!==s&&ns(l,"constructor",s),ns(l,SPe,s),EM&&ns(l,EM,i),c[i]=s,vM({global:!0,forced:s!=u,sham:!xh},c),Fh in s||ns(s,Fh,n),Fh in l||ns(l,Fh,n),vPe(i)}):vO.exports=function(){}});var MM=h(function(Sft,jM){jM.exports=function(t,e){for(var r=0,n=e.length,i=new t(n);n>r;)i[r]=e[r++];return i}});var jc=h(function(Oft,BM){var NM=Ee(),WPe=Zt(),VPe=NM.TYPED_ARRAY_CONSTRUCTOR,GPe=NM.aTypedArrayConstructor;BM.exports=function(t){return GPe(WPe(t,t[VPe]))}});var Dh=h(function(Pft,LM){var KPe=MM(),YPe=jc();LM.exports=function(t,e){return KPe(YPe(t),e)}});var i5=h(function(qft,n5){"use strict";var Eqe=Ke(),Tqe=Jt(),Aqe=$t(),Iqe=Ge(),kqe=nc(),xqe=Math.min,bO=[].lastIndexOf,r5=!!bO&&1/[1].lastIndexOf(1,-0)<0,Fqe=kqe("lastIndexOf"),Cqe=r5||!Fqe;n5.exports=Cqe?function(e){if(r5)return Eqe(bO,this,arguments)||0;var r=Tqe(this),n=Iqe(r),i=n-1;for(arguments.length>1&&(i=xqe(i,Aqe(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in r&&r[i]===e)return i||0;return-1}:bO});var _O=h(function(Rft,l5){var Vqe=z(),Gqe=pe(),Kqe=xe(),Yqe=no(),Xqe=Ge(),Jqe=Vqe.TypeError,s5=function(e){return function(r,n,i,a){Gqe(n);var o=Kqe(r),u=Yqe(o),s=Xqe(o),l=e?s-1:0,c=e?-1:1;if(i<2)for(;;){if(l in u){a=u[l],l+=c;break}if(l+=c,e?l<0:s<=l)throw Jqe("Reduce of empty array with no initial value")}for(;e?l>=0:s>l;l+=c)l in u&&(a=n(a,u[l],l,o));return a}};l5.exports={left:s5(!1),right:s5(!0)}});var qO=h(function(Eft,C5){"use strict";var XRe=ie(),A5=cn(),Nh=ha().getWeakData,JRe=V(),OO=_e(),QRe=jr(),ZRe=ye(),I5=Et(),k5=Le(),x5=Ve(),eEe=x5.set,tEe=x5.getterFor,rEe=I5.find,nEe=I5.findIndex,iEe=XRe([].splice),aEe=0,Bh=function(e){return e.frozen||(e.frozen=new F5)},F5=function(){this.entries=[]},PO=function(e,r){return rEe(e.entries,function(n){return n[0]===r})};F5.prototype={get:function(e){var r=PO(this,e);if(r)return r[1]},has:function(e){return!!PO(this,e)},set:function(e,r){var n=PO(this,e);n?n[1]=r:this.entries.push([e,r])},delete:function(e){var r=nEe(this.entries,function(n){return n[0]===e});return~r&&iEe(this.entries,r,1),!!~r}};C5.exports={getConstructor:function(e,r,n,i){var a=e(function(l,c){QRe(l,o),eEe(l,{type:r,id:aEe++,frozen:void 0}),c!=null&&ZRe(c,l[i],{that:l,AS_ENTRIES:n})}),o=a.prototype,u=tEe(r),s=function(c,f,p){var d=u(c),v=Nh(JRe(f),!0);return v===!0?Bh(d).set(f,p):v[d.id]=p,c};return A5(o,{delete:function(c){var f=u(this);if(!OO(c))return!1;var p=Nh(c);return p===!0?Bh(f).delete(c):p&&k5(p,f.id)&&delete p[f.id]},has:function(c){var f=u(this);if(!OO(c))return!1;var p=Nh(c);return p===!0?Bh(f).has(c):p&&k5(p,f.id)}}),A5(o,n?{get:function(c){var f=u(this);if(OO(c)){var p=Nh(c);return p===!0?Bh(f).get(c):p?p[f.id]:void 0}},set:function(c,f){return s(this,c,f)}}:{add:function(c){return s(this,c,!0)}}),a}}});var Wh=h(function(){"use strict";var D5=z(),Lh=ie(),oEe=cn(),uEe=ha(),sEe=sc(),U5=qO(),zh=_e(),Hh=oc(),$h=Ve().enforce,lEe=U_(),cEe=!D5.ActiveXObject&&"ActiveXObject"in D5,Nc,j5=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},fEe=sEe("WeakMap",j5,U5);lEe&&cEe&&(Nc=U5.getConstructor(j5,"WeakMap",!0),uEe.enable(),as=fEe.prototype,RO=Lh(as.delete),Bc=Lh(as.has),EO=Lh(as.get),TO=Lh(as.set),oEe(as,{delete:function(e){if(zh(e)&&!Hh(e)){var r=$h(this);return r.frozen||(r.frozen=new Nc),RO(this,e)||r.frozen.delete(e)}return RO(this,e)},has:function(e){if(zh(e)&&!Hh(e)){var r=$h(this);return r.frozen||(r.frozen=new Nc),Bc(this,e)||r.frozen.has(e)}return Bc(this,e)},get:function(e){if(zh(e)&&!Hh(e)){var r=$h(this);return r.frozen||(r.frozen=new Nc),Bc(this,e)?EO(this,e):r.frozen.get(e)}return EO(this,e)},set:function(e,r){if(zh(e)&&!Hh(e)){var n=$h(this);n.frozen||(n.frozen=new Nc),Bc(this,e)?TO(this,e,r):n.frozen.set(e,r)}else TO(this,e,r);return this}}));var as,RO,Bc,EO,TO});var M5=h(function(){"use strict";var hEe=O(),vEe=xe(),yEe=Ge(),mEe=$t(),gEe=Wt();hEe({target:"Array",proto:!0},{at:function(e){var r=vEe(this),n=yEe(r),i=mEe(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:r[a]}});gEe("at")});var Lc=h(function(xft,B5){var SEe=Ye(),OEe=no(),PEe=xe(),qEe=Ge(),N5=function(e){var r=e==1;return function(n,i,a){for(var o=PEe(n),u=OEe(o),s=SEe(i,a),l=qEe(u),c,f;l-- >0;)if(c=u[l],f=s(c,l,o),f)switch(e){case 0:return c;case 1:return l}return r?-1:void 0}};B5.exports={findLast:N5(0),findLastIndex:N5(1)}});var Gh=h(function(Fft,V5){"use strict";var zEe=ke(),Vh=ie(),HEe=pe(),$Ee=Ge(),WEe=xe(),VEe=fo(),W5=zEe("Map"),AO=W5.prototype,GEe=Vh(AO.forEach),KEe=Vh(AO.has),YEe=Vh(AO.set),XEe=Vh([].push);V5.exports=function(e){var r=WEe(this),n=$Ee(r),i=VEe(r,0),a=new W5,o=e!=null?HEe(e):function(c){return c},u,s,l;for(u=0;u<n;u++)s=r[u],l=o(s),KEe(a,l)||YEe(a,l,s);return GEe(a,function(c){XEe(i,c)}),i}});var zc=h(function(Cft,eN){var G5=z(),K5=Dl(),Y5=Re(),eTe=xt(),Kh=Ft(),tTe=lt(),rTe=ge(),nTe=de(),X5="USE_FUNCTION_CONSTRUCTOR",J5=rTe("asyncIterator"),Q5=G5.AsyncIterator,Z5=K5.AsyncIteratorPrototype,Mn,IO;if(Z5)Mn=Z5;else if(Y5(Q5))Mn=Q5.prototype;else if(K5[X5]||G5[X5])try{IO=Kh(Kh(Kh(Function("return async function*(){}()")()))),Kh(IO)===Object.prototype&&(Mn=IO)}catch(t){}Mn?nTe&&(Mn=eTe(Mn)):Mn={};Y5(Mn[J5])||tTe(Mn,J5,function(){return this});eN.exports=Mn});var ma=h(function(Dft,lN){"use strict";var xO=le(),uTe=pe(),aN=V(),sTe=xt(),lTe=Rt(),cTe=cn(),fTe=ge(),oN=Ve(),pTe=ke(),uN=It(),dTe=zc(),Hc=pTe("Promise"),sN="AsyncIteratorProxy",hTe=oN.set,FO=oN.getterFor(sN),vTe=fTe("toStringTag");lN.exports=function(t,e){var r=function(i){i.type=sN,i.next=uTe(i.iterator.next),i.done=!1,i.ignoreArgument=!e,hTe(this,i)};return r.prototype=cTe(sTe(dTe),{next:function(i){var a=this,o=!!arguments.length;return new Hc(function(u){var s=FO(a),l=o?[s.ignoreArgument?void 0:i]:e?[]:[void 0];s.ignoreArgument=!1,u(s.done?{done:!0,value:void 0}:aN(xO(t,s,Hc,l)))})},return:function(i){var a=this;return new Hc(function(o,u){var s=FO(a),l=s.iterator;s.done=!0;var c=uN(l,"return");if(c===void 0)return o({done:!0,value:i});Hc.resolve(xO(c,l,i)).then(function(f){aN(f),o({done:!0,value:i})},u)})},throw:function(i){var a=this;return new Hc(function(o,u){var s=FO(a),l=s.iterator;s.done=!0;var c=uN(l,"throw");if(c===void 0)return u(i);o(xO(c,l,i))})}}),e||lTe(r.prototype,vTe,"Generator"),r}});var os=h(function(Uft,pN){"use strict";var qTe=z(),cN=le(),fN=pe(),UO=V(),RTe=ke(),ETe=It(),TTe=9007199254740991,ATe=qTe.TypeError,$c=function(e){var r=e==0,n=e==1,i=e==2,a=e==3;return function(o,u,s){UO(o);var l=RTe("Promise"),c=fN(o.next),f=0,p=u!==void 0;return(p||!r)&&fN(u),new l(function(d,v){var g=function(q,A){try{var D=ETe(o,"return");if(D)return l.resolve(cN(D,o)).then(function(){q(A)},function(F){v(F)})}catch(F){return v(F)}q(A)},m=function(q){g(v,q)},_=function S(){try{if(r&&f>TTe&&p)throw ATe("The allowed number of iterations has been exceeded");l.resolve(UO(cN(c,o))).then(function(q){try{if(UO(q).done)r?(s.length=f,d(s)):d(a?!1:i||void 0);else{var A=q.value;p?l.resolve(r?u(A,f):u(A)).then(function(D){n?S():i?D?S():g(d,!1):r?(s[f++]=D,S()):D?g(d,a||A):S()},m):(s[f++]=A,S())}}catch(D){m(D)}},m)}catch(q){m(q)}};_()})}};pN.exports={toArray:$c(0),forEach:$c(1),every:$c(2),some:$c(3),find:$c(4)}});var LO=h(function(jft,mN){"use strict";var MO=Ke(),Yh=V(),NTe=xt(),dN=It(),BTe=cn(),hN=Ve(),LTe=ke(),zTe=zc(),Xh=LTe("Promise"),vN="AsyncFromSyncIterator",HTe=hN.set,NO=hN.getterFor(vN),BO=function(e,r,n){var i=e.done;Xh.resolve(e.value).then(function(a){r({done:i,value:a})},n)},yN=function(e){HTe(this,{type:vN,iterator:Yh(e),next:e.next})};yN.prototype=BTe(NTe(zTe),{next:function(e){var r=NO(this),n=!!arguments.length;return new Xh(function(i,a){var o=Yh(MO(r.next,r.iterator,n?[e]:[]));BO(o,i,a)})},return:function(e){var r=NO(this).iterator,n=!!arguments.length;return new Xh(function(i,a){var o=dN(r,"return");if(o===void 0)return i({done:!0,value:e});var u=Yh(MO(o,r,n?[e]:[]));BO(u,i,a)})},throw:function(e){var r=NO(this).iterator,n=!!arguments.length;return new Xh(function(i,a){var o=dN(r,"throw");if(o===void 0)return a(e);var u=Yh(MO(o,r,n?[e]:[]));BO(u,i,a)})}});mN.exports=yN});var zO=h(function(Mft,gN){var $Te=le(),WTe=LO(),VTe=V(),GTe=ln(),KTe=It(),YTe=ge(),XTe=YTe("asyncIterator");gN.exports=function(t,e){var r=arguments.length<2?KTe(t,XTe):e;return r?VTe($Te(r,t)):new WTe(GTe(t))}});var KO=h(function(Nft,EN){"use strict";function Ao(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ao=function(r){return typeof r}:Ao=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ao(t)}var SN=z(),ON=Ve(),NAe=la(),BAe=_e(),LAe=hd(),PN=qe(),Vc="Incorrect Number.range arguments",VO="NumericRangeIterator",zAe=ON.set,Gc=ON.getterFor(VO),qN=SN.RangeError,GO=SN.TypeError,RN=NAe(function(e,r,n,i,a,o){if(Ao(e)!=i||r!==1/0&&r!==-1/0&&Ao(r)!=i)throw new GO(Vc);if(e===1/0||e===-1/0)throw new qN(Vc);var u=r>e,s=!1,l;if(n===void 0)l=void 0;else if(BAe(n))l=n.step,s=!!n.inclusive;else if(Ao(n)==i)l=n;else throw new GO(Vc);if(l==null&&(l=u?o:-o),Ao(l)!=i)throw new GO(Vc);if(l===1/0||l===-1/0||l===a&&e!==r)throw new qN(Vc);var c=e!=e||r!=r||l!=l||r>e!=l>a;zAe(this,{type:VO,start:e,end:r,step:l,inclusiveEnd:s,hitsEnd:c,currentCount:a,zero:a}),PN||(this.start=e,this.end=r,this.step=l,this.inclusive=s)},VO,function(){var e=Gc(this);if(e.hitsEnd)return{value:void 0,done:!0};var r=e.start,n=e.end,i=e.step,a=r+i*e.currentCount++;a===n&&(e.hitsEnd=!0);var o=e.inclusiveEnd,u;return n>r?u=o?a>n:a>=n:u=o?n>a:n>=a,u?{value:void 0,done:e.hitsEnd=!0}:{value:a,done:!1}}),Jh=function(e){return{get:e,set:function(){},configurable:!0,enumerable:!1}};PN&&LAe(RN.prototype,{start:Jh(function(){return Gc(this).start}),end:Jh(function(){return Gc(this).end}),inclusive:Jh(function(){return Gc(this).inclusiveEnd}),step:Jh(function(){return Gc(this).step})});EN.exports=RN});var YO=h(function(Bft,xN){Qd();Wh();var TN=z(),AN=ke(),WAe=xt(),IN=_e(),VAe=TN.Object,GAe=TN.TypeError,KAe=AN("Map"),YAe=AN("WeakMap"),Qh=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=WAe(null)};Qh.prototype.get=function(t,e){return this[t]||(this[t]=e())};Qh.prototype.next=function(t,e,r){var n=r?this.objectsByIndex[t]||(this.objectsByIndex[t]=new YAe):this.primitives||(this.primitives=new KAe),i=n.get(e);return i||n.set(e,i=new Qh),i};var kN=new Qh;xN.exports=function(){var t=kN,e=arguments.length,r,n;for(r=0;r<e;r++)IN(n=arguments[r])&&(t=t.next(r,n,!0));if(this===VAe&&t===kN)throw GAe("Composite keys must contain a non-primitive component");for(r=0;r<e;r++)IN(n=arguments[r])||(t=t.next(r,n,!1));return t}});var ba=h(function(Lft,zN){"use strict";var QO=le(),d2e=pe(),h2e=V(),v2e=xt(),y2e=Rt(),m2e=cn(),g2e=ge(),NN=Ve(),BN=It(),b2e=xu().IteratorPrototype,LN="IteratorProxy",_2e=NN.set,ZO=NN.getterFor(LN),w2e=g2e("toStringTag");zN.exports=function(t,e){var r=function(i){i.type=LN,i.next=d2e(i.iterator.next),i.done=!1,i.ignoreArg=!e,_2e(this,i)};return r.prototype=m2e(v2e(b2e),{next:function(i){var a=ZO(this),o=arguments.length?[a.ignoreArg?void 0:i]:e?[]:[void 0];a.ignoreArg=!1;var u=a.done?void 0:QO(t,a,o);return{done:a.done,value:u}},return:function(i){var a=ZO(this),o=a.iterator;a.done=!0;var u=BN(o,"return");return{done:!0,value:u?h2e(QO(u,o,i)).value:i}},throw:function(i){var a=ZO(this),o=a.iterator;a.done=!0;var u=BN(o,"throw");if(u)return QO(u,o,i);throw i}}),e||y2e(r.prototype,w2e,"Generator"),r}});var Kc=h(function(zft,KN){"use strict";var MIe=le(),NIe=pe(),BIe=V();KN.exports=function(){for(var e=BIe(this),r=NIe(e.delete),n=!0,i,a=0,o=arguments.length;a<o;a++)i=MIe(r,e,arguments[a]),n=n&&i;return!!n}});var i1=h(function(Hft,YN){"use strict";var r1=le(),n1=pe(),$Ie=V();YN.exports=function(e,r){var n=$Ie(this),i=n1(n.get),a=n1(n.has),o=n1(n.set),u=r1(a,n,e)&&"update"in r?r.update(r1(i,n,e),e,n):r.insert(e,n);return r1(o,n,e,u),u}});var dn=h(function($ft,XN){var KIe=le();XN.exports=function(t){return KIe(Map.prototype.entries,t)}});var Yc=h(function(Wft,ZN){"use strict";var Oke=Ye(),Pke=le(),qke=pe(),Rke=mc(),JN=ye(),QN=[].push;ZN.exports=function(e){var r=arguments.length,n=r>1?arguments[1]:void 0,i,a,o,u;return Rke(this),i=n!==void 0,i&&qke(n),e==null?new this:(a=[],i?(o=0,u=Oke(n,r>2?arguments[2]:void 0),JN(e,function(s){Pke(QN,a,u(s,o++))})):JN(e,QN,{that:a}),new this(a))}});var t8=h(function(Vft,e8){e8.exports=function(t,e){return t===e||t!=t&&e!=e}});var Xc=h(function(Gft,n8){"use strict";var bxe=aa();n8.exports=function(){return new this(bxe(arguments))}});var nv=h(function(Kft,i8){"use strict";var Lxe=z(),tv=le(),u1=pe(),rv=Re(),zxe=V(),Hxe=Lxe.TypeError;i8.exports=function(e,r){var n=zxe(this),i=u1(n.get),a=u1(n.has),o=u1(n.set),u=arguments.length>2?arguments[2]:void 0,s;if(!rv(r)&&!rv(u))throw Hxe("At least one callback required");return tv(a,n,e)?(s=tv(i,n,e),rv(r)&&(s=r(s),tv(o,n,e,s))):rv(u)&&(s=u(),tv(o,n,e,s)),s}});var s1=h(function(Yft,a8){a8.exports=Math.scale||function(e,r,n,i,a){var o=+e,u=+r,s=+n,l=+i,c=+a;return o!=o||u!=u||s!=s||l!=l||c!=c?NaN:o===1/0||o===-1/0?o:(o-u)*(c-l)/(s-u)+l}});var c8=h(function(){var jFe=O(),MFe=Le();jFe({target:"Object",stat:!0},{hasOwn:MFe})});var ov=h(function(Qft,d8){"use strict";var f8=Ve(),NFe=la(),BFe=Le(),LFe=so(),zFe=xe(),p8="Object Iterator",HFe=f8.set,$Fe=f8.getterFor(p8);d8.exports=NFe(function(e,r){var n=zFe(e);HFe(this,{type:p8,mode:r,object:n,keys:LFe(n),index:0})},"Object",function(){for(var e=$Fe(this),r=e.keys;;){if(r===null||e.index>=r.length)return e.object=e.keys=null,{value:void 0,done:!0};var n=r[e.index++],i=e.object;if(!!BFe(i,n)){switch(e.mode){case"keys":return{value:n,done:!1};case"values":return{value:i[n],done:!1}}return{value:[n,i[n]],done:!1}}}})});var Nn=h(function(Zft,E8){function lv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lv=function(r){return typeof r}:lv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},lv(t)}Qd();Wh();var P8=ke(),fCe=ie(),pCe=Ou(),q8=P8("Map"),dCe=P8("WeakMap"),hCe=fCe([].push),R8=pCe("metadata"),g1=R8.store||(R8.store=new dCe),rf=function(e,r,n){var i=g1.get(e);if(!i){if(!n)return;g1.set(e,i=new q8)}var a=i.get(r);if(!a){if(!n)return;i.set(r,a=new q8)}return a},vCe=function(e,r,n){var i=rf(r,n,!1);return i===void 0?!1:i.has(e)},yCe=function(e,r,n){var i=rf(r,n,!1);return i===void 0?void 0:i.get(e)},mCe=function(e,r,n,i){rf(n,i,!0).set(e,r)},gCe=function(e,r){var n=rf(e,r,!1),i=[];return n&&n.forEach(function(a,o){hCe(i,o)}),i},bCe=function(e){return e===void 0||lv(e)=="symbol"?e:String(e)};E8.exports={store:g1,getMap:rf,has:vCe,get:yCe,set:mCe,keys:gCe,toKey:bCe}});var w1=h(function(ept,j8){"use strict";var p3e=le(),d3e=pe(),h3e=V();j8.exports=function(){for(var e=h3e(this),r=d3e(e.add),n=0,i=arguments.length;n<i;n++)p3e(r,e,arguments[n]);return e}});var _a=h(function(tpt,M8){var A3e=le();M8.exports=function(t){return A3e(Set.prototype.values,t)}});var G8=h(function(){"use strict";var V8=Ee(),LUe=Ge(),zUe=$t(),HUe=V8.aTypedArray,$Ue=V8.exportTypedArrayMethod;$Ue("at",function(e){var r=HUe(this),n=LUe(r),i=zUe(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:r[a]})});var S1=h(function(ipt,Q8){Q8.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var P1=h(function(apt,eB){var Ije=Ul(),O1=Ije("span").classList,Z8=O1&&O1.constructor&&O1.constructor.prototype;eB.exports=Z8===Object.prototype?void 0:Z8});var rB=h(function(opt,tB){"use strict";var kje=Et().forEach,xje=nc(),Fje=xje("forEach");tB.exports=Fje?[].forEach:function(e){return kje(this,e,arguments.length>1?arguments[1]:void 0)}});var A1=h(function(upt,fB){var zje=ae(),Hje=ge(),$je=de(),Wje=Hje("iterator");fB.exports=!zje(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach(function(n,i){e.delete("b"),r+=i+n}),$je&&!t.toJSON||!e.sort||t.href!=="http://a/c%20d?a=1&c=3"||e.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!e[Wje]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||r!=="a1c3"||new URL("http://x",void 0).host!=="x"})});var _B=h(function(spt,bB){"use strict";var Vje=z(),Io=ie(),I1=2147483647,af=36,pB=1,k1=26,Gje=38,Kje=700,Yje=72,Xje=128,Jje="-",Qje=/[^\0-\u007E]/,dB=/[.\u3002\uFF0E\uFF61]/g,hB="Overflow: input needs wider integers to process",x1=af-pB,vB=Vje.RangeError,Zje=Io(dB.exec),ss=Math.floor,F1=String.fromCharCode,yB=Io("".charCodeAt),mB=Io([].join),wa=Io([].push),eMe=Io("".replace),tMe=Io("".split),rMe=Io("".toLowerCase),nMe=function(e){for(var r=[],n=0,i=e.length;n<i;){var a=yB(e,n++);if(a>=55296&&a<=56319&&n<i){var o=yB(e,n++);(o&64512)==56320?wa(r,((a&1023)<<10)+(o&1023)+65536):(wa(r,a),n--)}else wa(r,a)}return r},gB=function(e){return e+22+75*(e<26)},iMe=function(e,r,n){var i=0;for(e=n?ss(e/Kje):e>>1,e+=ss(e/r);e>x1*k1>>1;)e=ss(e/x1),i+=af;return ss(i+(x1+1)*e/(e+Gje))},aMe=function(e){var r=[];e=nMe(e);var n=e.length,i=Xje,a=0,o=Yje,u,s;for(u=0;u<e.length;u++)s=e[u],s<128&&wa(r,F1(s));var l=r.length,c=l;for(l&&wa(r,Jje);c<n;){var f=I1;for(u=0;u<e.length;u++)s=e[u],s>=i&&s<f&&(f=s);var p=c+1;if(f-i>ss((I1-a)/p))throw vB(hB);for(a+=(f-i)*p,i=f,u=0;u<e.length;u++){if(s=e[u],s<i&&++a>I1)throw vB(hB);if(s==i){for(var d=a,v=af;;){var g=v<=o?pB:v>=o+k1?k1:v-o;if(d<g)break;var m=d-g,_=af-g;wa(r,F1(gB(g+m%_))),d=ss(m/_),v+=af}wa(r,F1(gB(d))),o=iMe(a,p,c==l),a=0,c++}}a++,i++}return mB(r,"")};bB.exports=function(t){var e=[],r=tMe(eMe(rMe(t),dB,"."),"."),n,i;for(n=0;n<r.length;n++)i=r[n],wa(e,Zje(Qje,i)?"xn--"+aMe(i):i);return mB(e,".")}});var H1=h(function(lpt,LB){"use strict";rc();var C1=O(),pv=z(),D1=ke(),dv=le(),Bn=ie(),wB=A1(),SB=lt(),oMe=cn(),uMe=Dr(),sMe=la(),U1=Ve(),OB=jr(),j1=Re(),lMe=Le(),cMe=Ye(),fMe=ia(),pMe=V(),PB=_e(),Or=Be(),dMe=xt(),qB=un(),M1=ln(),hMe=yi(),vMe=ge(),yMe=Md(),mMe=vMe("iterator"),of="URLSearchParams",RB=of+"Iterator",EB=U1.set,hn=U1.getterFor(of),gMe=U1.getterFor(RB),TB=D1("fetch"),hv=D1("Request"),uf=D1("Headers"),N1=hv&&hv.prototype,AB=uf&&uf.prototype,bMe=pv.RegExp,IB=pv.TypeError,kB=pv.decodeURIComponent,_Me=pv.encodeURIComponent,wMe=Bn("".charAt),xB=Bn([].join),ko=Bn([].push),B1=Bn("".replace),SMe=Bn([].shift),FB=Bn([].splice),CB=Bn("".split),OMe=Bn("".slice),PMe=/\+/g,DB=Array(4),qMe=function(e){return DB[e-1]||(DB[e-1]=bMe("((?:%[\\da-f]{2}){"+e+"})","gi"))},RMe=function(e){try{return kB(e)}catch(r){return e}},UB=function(e){var r=B1(e,PMe," "),n=4;try{return kB(r)}catch(i){for(;n;)r=B1(r,qMe(n--),RMe);return r}},EMe=/[!'()~]|%20/g,TMe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},AMe=function(e){return TMe[e]},jB=function(e){return B1(_Me(e),EMe,AMe)},ls=function(e,r){if(e<r)throw IB("Not enough arguments")},L1=sMe(function(e,r){EB(this,{type:RB,iterator:M1(hn(e).entries),kind:r})},"Iterator",function(){var e=gMe(this),r=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value=r==="keys"?i.key:r==="values"?i.value:[i.key,i.value]),n},!0),MB=function(e){this.entries=[],this.url=null,e!==void 0&&(PB(e)?this.parseObject(e):this.parseQuery(typeof e=="string"?wMe(e,0)==="?"?OMe(e,1):e:Or(e)))};MB.prototype={type:of,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var r=hMe(e),n,i,a,o,u,s,l;if(r)for(n=M1(e,r),i=n.next;!(a=dv(i,n)).done;){if(o=M1(pMe(a.value)),u=o.next,(s=dv(u,o)).done||(l=dv(u,o)).done||!dv(u,o).done)throw IB("Expected sequence with length 2");ko(this.entries,{key:Or(s.value),value:Or(l.value)})}else for(var c in e)lMe(e,c)&&ko(this.entries,{key:c,value:Or(e[c])})},parseQuery:function(e){if(e)for(var r=CB(e,"&"),n=0,i,a;n<r.length;)i=r[n++],i.length&&(a=CB(i,"="),ko(this.entries,{key:UB(SMe(a)),value:UB(xB(a,"="))}))},serialize:function(){for(var e=this.entries,r=[],n=0,i;n<e.length;)i=e[n++],ko(r,jB(i.key)+"="+jB(i.value));return xB(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var vv=function(){OB(this,sf);var e=arguments.length>0?arguments[0]:void 0;EB(this,new MB(e))},sf=vv.prototype;oMe(sf,{append:function(e,r){ls(arguments.length,2);var n=hn(this);ko(n.entries,{key:Or(e),value:Or(r)}),n.updateURL()},delete:function(e){ls(arguments.length,1);for(var r=hn(this),n=r.entries,i=Or(e),a=0;a<n.length;)n[a].key===i?FB(n,a,1):a++;r.updateURL()},get:function(e){ls(arguments.length,1);for(var r=hn(this).entries,n=Or(e),i=0;i<r.length;i++)if(r[i].key===n)return r[i].value;return null},getAll:function(e){ls(arguments.length,1);for(var r=hn(this).entries,n=Or(e),i=[],a=0;a<r.length;a++)r[a].key===n&&ko(i,r[a].value);return i},has:function(e){ls(arguments.length,1);for(var r=hn(this).entries,n=Or(e),i=0;i<r.length;)if(r[i++].key===n)return!0;return!1},set:function(e,r){ls(arguments.length,1);for(var n=hn(this),i=n.entries,a=!1,o=Or(e),u=Or(r),s=0,l;s<i.length;s++)l=i[s],l.key===o&&(a?FB(i,s--,1):(a=!0,l.value=u));a||ko(i,{key:o,value:u}),n.updateURL()},sort:function(){var e=hn(this);yMe(e.entries,function(r,n){return r.key>n.key?1:-1}),e.updateURL()},forEach:function(e){for(var r=hn(this).entries,n=cMe(e,arguments.length>1?arguments[1]:void 0),i=0,a;i<r.length;)a=r[i++],n(a.value,a.key,this)},keys:function(){return new L1(this,"keys")},values:function(){return new L1(this,"values")},entries:function(){return new L1(this,"entries")}},{enumerable:!0});SB(sf,mMe,sf.entries,{name:"entries"});SB(sf,"toString",function(){return hn(this).serialize()},{enumerable:!0});uMe(vv,of);C1({global:!0,forced:!wB},{URLSearchParams:vv});!wB&&j1(uf)&&(NB=Bn(AB.has),BB=Bn(AB.set),z1=function(e){if(PB(e)){var r=e.body,n;if(fMe(r)===of)return n=e.headers?new uf(e.headers):new uf,NB(n,"content-type")||BB(n,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),dMe(e,{body:qB(0,Or(r)),headers:qB(0,n)})}return e},j1(TB)&&C1({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return TB(e,arguments.length>1?z1(arguments[1]):{})}}),j1(hv)&&(yv=function(e){return OB(this,N1),new hv(e,arguments.length>1?z1(arguments[1]):{})},N1.constructor=yv,yv.prototype=N1,C1({global:!0,forced:!0},{Request:yv})));var NB,BB,z1,yv;LB.exports={URLSearchParams:vv,getState:hn}});var s6=h(function(vf,u6){function hf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hf=function(r){return typeof r}:hf=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hf(t)}(function(t,e){(typeof vf=="undefined"?"undefined":hf(vf))==="object"&&typeof u6!="undefined"?e(vf):typeof define=="function"&&define.amd?define(["exports"],e):e(t.WHATWGFetch={})})(vf,function(t){"use strict";var e=typeof globalThis!="undefined"&&globalThis||typeof self!="undefined"&&self||typeof e!="undefined"&&e,r={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(R){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};function n(R){return R&&DataView.prototype.isPrototypeOf(R)}if(r.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(R){return R&&i.indexOf(Object.prototype.toString.call(R))>-1};function o(R){if(typeof R!="string"&&(R=String(R)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(R)||R==="")throw new TypeError('Invalid character in header field name: "'+R+'"');return R.toLowerCase()}function u(R){return typeof R!="string"&&(R=String(R)),R}function s(R){var j={next:function(){var G=R.shift();return{done:G===void 0,value:G}}};return r.iterable&&(j[Symbol.iterator]=function(){return j}),j}function l(R){this.map={},R instanceof l?R.forEach(function(j,Q){this.append(Q,j)},this):Array.isArray(R)?R.forEach(function(j){this.append(j[0],j[1])},this):R&&Object.getOwnPropertyNames(R).forEach(function(j){this.append(j,R[j])},this)}l.prototype.append=function(R,j){R=o(R),j=u(j);var Q=this.map[R];this.map[R]=Q?Q+", "+j:j},l.prototype.delete=function(R){delete this.map[o(R)]},l.prototype.get=function(R){return R=o(R),this.has(R)?this.map[R]:null},l.prototype.has=function(R){return this.map.hasOwnProperty(o(R))},l.prototype.set=function(R,j){this.map[o(R)]=u(j)},l.prototype.forEach=function(R,j){for(var Q in this.map)this.map.hasOwnProperty(Q)&&R.call(j,this.map[Q],Q,this)},l.prototype.keys=function(){var R=[];return this.forEach(function(j,Q){R.push(Q)}),s(R)},l.prototype.values=function(){var R=[];return this.forEach(function(j){R.push(j)}),s(R)},l.prototype.entries=function(){var R=[];return this.forEach(function(j,Q){R.push([Q,j])}),s(R)},r.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);function c(R){if(R.bodyUsed)return Promise.reject(new TypeError("Already read"));R.bodyUsed=!0}function f(R){return new Promise(function(j,Q){R.onload=function(){j(R.result)},R.onerror=function(){Q(R.error)}})}function p(R){var j=new FileReader,Q=f(j);return j.readAsArrayBuffer(R),Q}function d(R){var j=new FileReader,Q=f(j);return j.readAsText(R),Q}function v(R){for(var j=new Uint8Array(R),Q=new Array(j.length),G=0;G<j.length;G++)Q[G]=String.fromCharCode(j[G]);return Q.join("")}function g(R){if(R.slice)return R.slice(0);var j=new Uint8Array(R.byteLength);return j.set(new Uint8Array(R)),j.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(R){this.bodyUsed=this.bodyUsed,this._bodyInit=R,R?typeof R=="string"?this._bodyText=R:r.blob&&Blob.prototype.isPrototypeOf(R)?this._bodyBlob=R:r.formData&&FormData.prototype.isPrototypeOf(R)?this._bodyFormData=R:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(R)?this._bodyText=R.toString():r.arrayBuffer&&r.blob&&n(R)?(this._bodyArrayBuffer=g(R.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(R)||a(R))?this._bodyArrayBuffer=g(R):this._bodyText=R=Object.prototype.toString.call(R):this._bodyText="",this.headers.get("content-type")||(typeof R=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(R)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var R=c(this);if(R)return R;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var R=c(this);return R||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(p)}),this.text=function(){var R=c(this);if(R)return R;if(this._bodyBlob)return d(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function S(R){var j=R.toUpperCase();return _.indexOf(j)>-1?j:R}function q(R,j){if(!(this instanceof q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');j=j||{};var Q=j.body;if(R instanceof q){if(R.bodyUsed)throw new TypeError("Already read");this.url=R.url,this.credentials=R.credentials,j.headers||(this.headers=new l(R.headers)),this.method=R.method,this.mode=R.mode,this.signal=R.signal,!Q&&R._bodyInit!=null&&(Q=R._bodyInit,R.bodyUsed=!0)}else this.url=String(R);if(this.credentials=j.credentials||this.credentials||"same-origin",(j.headers||!this.headers)&&(this.headers=new l(j.headers)),this.method=S(j.method||this.method||"GET"),this.mode=j.mode||this.mode||null,this.signal=j.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Q)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Q),(this.method==="GET"||this.method==="HEAD")&&(j.cache==="no-store"||j.cache==="no-cache")){var G=/([?&])_=[^&]*/;if(G.test(this.url))this.url=this.url.replace(G,"$1_="+new Date().getTime());else{var T=/\?/;this.url+=(T.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}q.prototype.clone=function(){return new q(this,{body:this._bodyInit})};function A(R){var j=new FormData;return R.trim().split("&").forEach(function(Q){if(Q){var G=Q.split("="),T=G.shift().replace(/\+/g," "),I=G.join("=").replace(/\+/g," ");j.append(decodeURIComponent(T),decodeURIComponent(I))}}),j}function D(R){var j=new l,Q=R.replace(/\r?\n[\t ]+/g," ");return Q.split("\r").map(function(G){return G.indexOf("\n")===0?G.substr(1,G.length):G}).forEach(function(G){var T=G.split(":"),I=T.shift().trim();if(I){var L=T.join(":").trim();j.append(I,L)}}),j}m.call(q.prototype);function F(R,j){if(!(this instanceof F))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');j||(j={}),this.type="default",this.status=j.status===void 0?200:j.status,this.ok=this.status>=200&&this.status<300,this.statusText=j.statusText===void 0?"":""+j.statusText,this.headers=new l(j.headers),this.url=j.url||"",this._initBody(R)}m.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},F.error=function(){var R=new F(null,{status:0,statusText:""});return R.type="error",R};var $=[301,302,303,307,308];F.redirect=function(R,j){if($.indexOf(j)===-1)throw new RangeError("Invalid status code");return new F(null,{status:j,headers:{location:R}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(R){t.DOMException=function(j,Q){this.message=j,this.name=Q;var G=Error(j);this.stack=G.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function Y(R,j){return new Promise(function(Q,G){var T=new q(R,j);if(T.signal&&T.signal.aborted)return G(new t.DOMException("Aborted","AbortError"));var I=new XMLHttpRequest;function L(){I.abort()}I.onload=function(){var U={status:I.status,statusText:I.statusText,headers:D(I.getAllResponseHeaders()||"")};U.url="responseURL"in I?I.responseURL:U.headers.get("X-Request-URL");var B="response"in I?I.response:I.responseText;setTimeout(function(){Q(new F(B,U))},0)},I.onerror=function(){setTimeout(function(){G(new TypeError("Network request failed"))},0)},I.ontimeout=function(){setTimeout(function(){G(new TypeError("Network request failed"))},0)},I.onabort=function(){setTimeout(function(){G(new t.DOMException("Aborted","AbortError"))},0)};function C(U){try{return U===""&&e.location.href?e.location.href:U}catch(B){return U}}I.open(T.method,C(T.url),!0),T.credentials==="include"?I.withCredentials=!0:T.credentials==="omit"&&(I.withCredentials=!1),"responseType"in I&&(r.blob?I.responseType="blob":r.arrayBuffer&&T.headers.get("Content-Type")&&T.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(I.responseType="arraybuffer")),j&&hf(j.headers)==="object"&&!(j.headers instanceof l)?Object.getOwnPropertyNames(j.headers).forEach(function(U){I.setRequestHeader(U,u(j.headers[U]))}):T.headers.forEach(function(U,B){I.setRequestHeader(B,U)}),T.signal&&(T.signal.addEventListener("abort",L),I.onreadystatechange=function(){I.readyState===4&&T.signal.removeEventListener("abort",L)}),I.send(typeof T._bodyInit=="undefined"?null:T._bodyInit)})}Y.polyfill=!0,e.fetch||(e.fetch=Y,e.Headers=l,e.Request=q,e.Response=F),t.Headers=l,t.Request=q,t.Response=F,t.fetch=Y,Object.defineProperty(t,"__esModule",{value:!0})})});var l6=h(function(){function Ev(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ev=function(r){return typeof r}:Ev=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ev(t)}(function(t){typeof define=="function"&&define.amd?define(t):t()})(function(){"use strict";function t(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function e(_,S){for(var q=0;q<S.length;q++){var A=S[q];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}function r(_,S,q){return S&&e(_.prototype,S),q&&e(_,q),_}function n(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),S&&a(_,S)}function i(_){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(q){return q.__proto__||Object.getPrototypeOf(q)},i(_)}function a(_,S){return a=Object.setPrototypeOf||function(A,D){return A.__proto__=D,A},a(_,S)}function o(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(_){return!1}}function u(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function s(_,S){return S&&(Ev(S)==="object"||typeof S=="function")?S:u(_)}function l(_){var S=o();return function(){var A=i(_),D;if(S){var F=i(this).constructor;D=Reflect.construct(A,arguments,F)}else D=A.apply(this,arguments);return s(this,D)}}function c(_,S){for(;!Object.prototype.hasOwnProperty.call(_,S)&&(_=i(_),_!==null););return _}function f(_,S,q){return typeof Reflect!="undefined"&&Reflect.get?f=Reflect.get:f=function(D,F,$){var Y=c(D,F);if(!!Y){var R=Object.getOwnPropertyDescriptor(Y,F);return R.get?R.get.call($):R.value}},f(_,S,q||_)}var p=function(){function _(){t(this,_),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(_,[{key:"addEventListener",value:function(q,A,D){q in this.listeners||(this.listeners[q]=[]),this.listeners[q].push({callback:A,options:D})}},{key:"removeEventListener",value:function(q,A){if(q in this.listeners){for(var D=this.listeners[q],F=0,$=D.length;F<$;F++)if(D[F].callback===A){D.splice(F,1);return}}}},{key:"dispatchEvent",value:function(q){if(q.type in this.listeners){for(var A=this.listeners[q.type],D=A.slice(),F=0,$=D.length;F<$;F++){var Y=D[F];try{Y.callback.call(this,q)}catch(R){Promise.resolve().then(function(){throw R})}Y.options&&Y.options.once&&this.removeEventListener(q.type,Y.callback)}return!q.defaultPrevented}}}]),_}(),d=function(_){n(q,_);var S=l(q);function q(){var A;return t(this,q),A=S.call(this),A.listeners||p.call(u(A)),Object.defineProperty(u(A),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(u(A),"onabort",{value:null,writable:!0,configurable:!0}),A}return r(q,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(D){D.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,D)),f(i(q.prototype),"dispatchEvent",this).call(this,D)}}]),q}(p),v=function(){function _(){t(this,_),Object.defineProperty(this,"signal",{value:new d,writable:!0,configurable:!0})}return r(_,[{key:"abort",value:function(){var q;try{q=new Event("abort")}catch(A){typeof document!="undefined"?document.createEvent?(q=document.createEvent("Event"),q.initEvent("abort",!1,!1)):(q=document.createEventObject(),q.type="abort"):q={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(q)}},{key:"toString",value:function(){return"[object AbortController]"}}]),_}();typeof Symbol!="undefined"&&Symbol.toStringTag&&(v.prototype[Symbol.toStringTag]="AbortController",d.prototype[Symbol.toStringTag]="AbortSignal");function g(_){return _.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof _.Request=="function"&&!_.Request.prototype.hasOwnProperty("signal")||!_.AbortController}function m(_){typeof _=="function"&&(_={fetch:_});var S=_,q=S.fetch,A=S.Request,D=A===void 0?q.Request:A,F=S.AbortController,$=S.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,Y=$===void 0?!1:$;if(!g({fetch:q,Request:D,AbortController:F,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:Y}))return{fetch:q,Request:R};var R=D;(R&&!R.prototype.hasOwnProperty("signal")||Y)&&(R=function(T,I){var L;I&&I.signal&&(L=I.signal,delete I.signal);var C=new D(T,I);return L&&Object.defineProperty(C,"signal",{writable:!1,enumerable:!1,configurable:!0,value:L}),C},R.prototype=D.prototype);var j=q,Q=function(T,I){var L=R&&R.prototype.isPrototypeOf(T)?T.signal:I?I.signal:void 0;if(L){var C;try{C=new DOMException("Aborted","AbortError")}catch(B){C=new Error("Aborted"),C.name="AbortError"}if(L.aborted)return Promise.reject(C);var U=new Promise(function(B,te){L.addEventListener("abort",function(){return te(C)},{once:!0})});return I&&I.signal&&delete I.signal,Promise.race([U,j(T,I)])}return j(T,I)};return{fetch:Q,Request:R}}(function(_){if(!!g(_)){if(!_.fetch){console.warn("fetch() is not available, cannot install abortcontroller-polyfill");return}var S=m(_),q=S.fetch,A=S.Request;_.fetch=q,_.Request=A,Object.defineProperty(_,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:v}),Object.defineProperty(_,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:d})}})(typeof self!="undefined"?self:global)})});var c6=h(function(){(function(){var t=function(r,n,i){var a=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return a?new Promise(function(o,u){a.call(navigator,r,o,u)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))};navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=t)})()});var f6=h(function(Av,sP){function Tv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tv=function(r){return typeof r}:Tv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Tv(t)}(function(t,e){(typeof Av=="undefined"?"undefined":Tv(Av))==="object"&&typeof sP!="undefined"?sP.exports=e():typeof define=="function"&&define.amd?define(e):t.ResizeObserver=e()})(Av,function(){"use strict";var t=function(){if(typeof Map!="undefined")return Map;function T(I,L){var C=-1;return I.some(function(U,B){return U[0]===L?(C=B,!0):!1}),C}return function(){function I(){this.__entries__=[]}return Object.defineProperty(I.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),I.prototype.get=function(L){var C=T(this.__entries__,L),U=this.__entries__[C];return U&&U[1]},I.prototype.set=function(L,C){var U=T(this.__entries__,L);~U?this.__entries__[U][1]=C:this.__entries__.push([L,C])},I.prototype.delete=function(L){var C=this.__entries__,U=T(C,L);~U&&C.splice(U,1)},I.prototype.has=function(L){return!!~T(this.__entries__,L)},I.prototype.clear=function(){this.__entries__.splice(0)},I.prototype.forEach=function(L,C){C===void 0&&(C=null);for(var U=0,B=this.__entries__;U<B.length;U++){var te=B[U];L.call(C,te[1],te[0])}},I}()}(),e=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,r=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),n=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(r):function(T){return setTimeout(function(){return T(Date.now())},1e3/60)}}(),i=2;function a(T,I){var L=!1,C=!1,U=0;function B(){L&&(L=!1,T()),C&&ce()}function te(){n(B)}function ce(){var ue=Date.now();if(L){if(ue-U<i)return;C=!0}else L=!0,C=!1,setTimeout(te,I);U=ue}return ce}var o=20,u=["top","right","bottom","left","width","height","size","weight"],s=typeof MutationObserver!="undefined",l=function(){function T(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=a(this.refresh.bind(this),o)}return T.prototype.addObserver=function(I){~this.observers_.indexOf(I)||this.observers_.push(I),this.connected_||this.connect_()},T.prototype.removeObserver=function(I){var L=this.observers_,C=L.indexOf(I);~C&&L.splice(C,1),!L.length&&this.connected_&&this.disconnect_()},T.prototype.refresh=function(){var I=this.updateObservers_();I&&this.refresh()},T.prototype.updateObservers_=function(){var I=this.observers_.filter(function(L){return L.gatherActive(),L.hasActive()});return I.forEach(function(L){return L.broadcastActive()}),I.length>0},T.prototype.connect_=function(){!e||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},T.prototype.disconnect_=function(){!e||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},T.prototype.onTransitionEnd_=function(I){var L=I.propertyName,C=L===void 0?"":L,U=u.some(function(B){return!!~C.indexOf(B)});U&&this.refresh()},T.getInstance=function(){return this.instance_||(this.instance_=new T),this.instance_},T.instance_=null,T}(),c=function(I,L){for(var C=0,U=Object.keys(L);C<U.length;C++){var B=U[C];Object.defineProperty(I,B,{value:L[B],enumerable:!1,writable:!1,configurable:!0})}return I},f=function(I){var L=I&&I.ownerDocument&&I.ownerDocument.defaultView;return L||r},p=F(0,0,0,0);function d(T){return parseFloat(T)||0}function v(T){for(var I=[],L=1;L<arguments.length;L++)I[L-1]=arguments[L];return I.reduce(function(C,U){var B=T["border-"+U+"-width"];return C+d(B)},0)}function g(T){for(var I=["top","right","bottom","left"],L={},C=0,U=I;C<U.length;C++){var B=U[C],te=T["padding-"+B];L[B]=d(te)}return L}function m(T){var I=T.getBBox();return F(0,0,I.width,I.height)}function _(T){var I=T.clientWidth,L=T.clientHeight;if(!I&&!L)return p;var C=f(T).getComputedStyle(T),U=g(C),B=U.left+U.right,te=U.top+U.bottom,ce=d(C.width),ue=d(C.height);if(C.boxSizing==="border-box"&&(Math.round(ce+B)!==I&&(ce-=v(C,"left","right")+B),Math.round(ue+te)!==L&&(ue-=v(C,"top","bottom")+te)),!q(T)){var Ue=Math.round(ce+B)-I,$e=Math.round(ue+te)-L;Math.abs(Ue)!==1&&(ce-=Ue),Math.abs($e)!==1&&(ue-=$e)}return F(U.left,U.top,ce,ue)}var S=function(){return typeof SVGGraphicsElement!="undefined"?function(T){return T instanceof f(T).SVGGraphicsElement}:function(T){return T instanceof f(T).SVGElement&&typeof T.getBBox=="function"}}();function q(T){return T===f(T).document.documentElement}function A(T){return e?S(T)?m(T):_(T):p}function D(T){var I=T.x,L=T.y,C=T.width,U=T.height,B=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,te=Object.create(B.prototype);return c(te,{x:I,y:L,width:C,height:U,top:L,right:I+C,bottom:U+L,left:I}),te}function F(T,I,L,C){return{x:T,y:I,width:L,height:C}}var $=function(){function T(I){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=F(0,0,0,0),this.target=I}return T.prototype.isActive=function(){var I=A(this.target);return this.contentRect_=I,I.width!==this.broadcastWidth||I.height!==this.broadcastHeight},T.prototype.broadcastRect=function(){var I=this.contentRect_;return this.broadcastWidth=I.width,this.broadcastHeight=I.height,I},T}(),Y=function(){function T(I,L){var C=D(L);c(this,{target:I,contentRect:C})}return T}(),R=function(){function T(I,L,C){if(this.activeObservations_=[],this.observations_=new t,typeof I!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=I,this.controller_=L,this.callbackCtx_=C}return T.prototype.observe=function(I){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(I instanceof f(I).Element))throw new TypeError('parameter 1 is not of type "Element".');var L=this.observations_;L.has(I)||(L.set(I,new $(I)),this.controller_.addObserver(this),this.controller_.refresh())}},T.prototype.unobserve=function(I){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(I instanceof f(I).Element))throw new TypeError('parameter 1 is not of type "Element".');var L=this.observations_;!L.has(I)||(L.delete(I),L.size||this.controller_.removeObserver(this))}},T.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},T.prototype.gatherActive=function(){var I=this;this.clearActive(),this.observations_.forEach(function(L){L.isActive()&&I.activeObservations_.push(L)})},T.prototype.broadcastActive=function(){if(!!this.hasActive()){var I=this.callbackCtx_,L=this.activeObservations_.map(function(C){return new Y(C.target,C.broadcastRect())});this.callback_.call(I,L,I),this.clearActive()}},T.prototype.clearActive=function(){this.activeObservations_.splice(0)},T.prototype.hasActive=function(){return this.activeObservations_.length>0},T}(),j=typeof WeakMap!="undefined"?new WeakMap:new t,Q=function(){function T(I){if(!(this instanceof T))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var L=l.getInstance(),C=new R(I,L,this);j.set(this,C)}return T}();["observe","unobserve","disconnect"].forEach(function(T){Q.prototype[T]=function(){var I;return(I=j.get(this))[T].apply(I,arguments)}});var G=function(){return typeof r.ResizeObserver!="undefined"?r.ResizeObserver:Q}();return G})});var p6=h(function(hpt,Iv){function hs(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hs=function(r){return typeof r}:hs=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hs(t)}var lP=function(t){"use strict";var e=Object.prototype,r=e.hasOwnProperty,n,i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(C,U,B){return Object.defineProperty(C,U,{value:B,enumerable:!0,configurable:!0,writable:!0}),C[U]}try{s({},"")}catch(C){s=function(B,te,ce){return B[te]=ce}}function l(C,U,B,te){var ce=U&&U.prototype instanceof m?U:m,ue=Object.create(ce.prototype),Ue=new T(te||[]);return ue._invoke=R(C,B,Ue),ue}t.wrap=l;function c(C,U,B){try{return{type:"normal",arg:C.call(U,B)}}catch(te){return{type:"throw",arg:te}}}var f="suspendedStart",p="suspendedYield",d="executing",v="completed",g={};function m(){}function _(){}function S(){}var q={};s(q,a,function(){return this});var A=Object.getPrototypeOf,D=A&&A(A(I([])));D&&D!==e&&r.call(D,a)&&(q=D);var F=S.prototype=m.prototype=Object.create(q);_.prototype=S,s(F,"constructor",S),s(S,"constructor",_),_.displayName=s(S,u,"GeneratorFunction");function $(C){["next","throw","return"].forEach(function(U){s(C,U,function(B){return this._invoke(U,B)})})}t.isGeneratorFunction=function(C){var U=typeof C=="function"&&C.constructor;return U?U===_||(U.displayName||U.name)==="GeneratorFunction":!1},t.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,S):(C.__proto__=S,s(C,u,"GeneratorFunction")),C.prototype=Object.create(F),C},t.awrap=function(C){return{__await:C}};function Y(C,U){function B(ue,Ue,$e,ut){var st=c(C[ue],C,Ue);if(st.type==="throw")ut(st.arg);else{var Ht=st.arg,Xt=Ht.value;return Xt&&hs(Xt)==="object"&&r.call(Xt,"__await")?U.resolve(Xt.__await).then(function(mt){B("next",mt,$e,ut)},function(mt){B("throw",mt,$e,ut)}):U.resolve(Xt).then(function(mt){Ht.value=mt,$e(Ht)},function(mt){return B("throw",mt,$e,ut)})}}var te;function ce(ue,Ue){function $e(){return new U(function(ut,st){B(ue,Ue,ut,st)})}return te=te?te.then($e,$e):$e()}this._invoke=ce}$(Y.prototype),s(Y.prototype,o,function(){return this}),t.AsyncIterator=Y,t.async=function(C,U,B,te,ce){ce===void 0&&(ce=Promise);var ue=new Y(l(C,U,B,te),ce);return t.isGeneratorFunction(U)?ue:ue.next().then(function(Ue){return Ue.done?Ue.value:ue.next()})};function R(C,U,B){var te=f;return function(ue,Ue){if(te===d)throw new Error("Generator is already running");if(te===v){if(ue==="throw")throw Ue;return L()}for(B.method=ue,B.arg=Ue;;){var $e=B.delegate;if($e){var ut=j($e,B);if(ut){if(ut===g)continue;return ut}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(te===f)throw te=v,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);te=d;var st=c(C,U,B);if(st.type==="normal"){if(te=B.done?v:p,st.arg===g)continue;return{value:st.arg,done:B.done}}else st.type==="throw"&&(te=v,B.method="throw",B.arg=st.arg)}}}function j(C,U){var B=C.iterator[U.method];if(B===n){if(U.delegate=null,U.method==="throw"){if(C.iterator.return&&(U.method="return",U.arg=n,j(C,U),U.method==="throw"))return g;U.method="throw",U.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var te=c(B,C.iterator,U.arg);if(te.type==="throw")return U.method="throw",U.arg=te.arg,U.delegate=null,g;var ce=te.arg;if(!ce)return U.method="throw",U.arg=new TypeError("iterator result is not an object"),U.delegate=null,g;if(ce.done)U[C.resultName]=ce.value,U.next=C.nextLoc,U.method!=="return"&&(U.method="next",U.arg=n);else return ce;return U.delegate=null,g}$(F),s(F,u,"Generator"),s(F,a,function(){return this}),s(F,"toString",function(){return"[object Generator]"});function Q(C){var U={tryLoc:C[0]};1 in C&&(U.catchLoc=C[1]),2 in C&&(U.finallyLoc=C[2],U.afterLoc=C[3]),this.tryEntries.push(U)}function G(C){var U=C.completion||{};U.type="normal",delete U.arg,C.completion=U}function T(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(Q,this),this.reset(!0)}t.keys=function(C){var U=[];for(var B in C)U.push(B);return U.reverse(),function te(){for(;U.length;){var ce=U.pop();if(ce in C)return te.value=ce,te.done=!1,te}return te.done=!0,te}};function I(C){if(C){var U=C[a];if(U)return U.call(C);if(typeof C.next=="function")return C;if(!isNaN(C.length)){var B=-1,te=function ce(){for(;++B<C.length;)if(r.call(C,B))return ce.value=C[B],ce.done=!1,ce;return ce.value=n,ce.done=!0,ce};return te.next=te}}return{next:L}}t.values=I;function L(){return{value:n,done:!0}}return T.prototype={constructor:T,reset:function(U){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(G),!U)for(var B in this)B.charAt(0)==="t"&&r.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=n)},stop:function(){this.done=!0;var U=this.tryEntries[0],B=U.completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(U){if(this.done)throw U;var B=this;function te(st,Ht){return Ue.type="throw",Ue.arg=U,B.next=st,Ht&&(B.method="next",B.arg=n),!!Ht}for(var ce=this.tryEntries.length-1;ce>=0;--ce){var ue=this.tryEntries[ce],Ue=ue.completion;if(ue.tryLoc==="root")return te("end");if(ue.tryLoc<=this.prev){var $e=r.call(ue,"catchLoc"),ut=r.call(ue,"finallyLoc");if($e&&ut){if(this.prev<ue.catchLoc)return te(ue.catchLoc,!0);if(this.prev<ue.finallyLoc)return te(ue.finallyLoc)}else if($e){if(this.prev<ue.catchLoc)return te(ue.catchLoc,!0)}else if(ut){if(this.prev<ue.finallyLoc)return te(ue.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(U,B){for(var te=this.tryEntries.length-1;te>=0;--te){var ce=this.tryEntries[te];if(ce.tryLoc<=this.prev&&r.call(ce,"finallyLoc")&&this.prev<ce.finallyLoc){var ue=ce;break}}ue&&(U==="break"||U==="continue")&&ue.tryLoc<=B&&B<=ue.finallyLoc&&(ue=null);var Ue=ue?ue.completion:{};return Ue.type=U,Ue.arg=B,ue?(this.method="next",this.next=ue.finallyLoc,g):this.complete(Ue)},complete:function(U,B){if(U.type==="throw")throw U.arg;return U.type==="break"||U.type==="continue"?this.next=U.arg:U.type==="return"?(this.rval=this.arg=U.arg,this.method="return",this.next="end"):U.type==="normal"&&B&&(this.next=B),g},finish:function(U){for(var B=this.tryEntries.length-1;B>=0;--B){var te=this.tryEntries[B];if(te.finallyLoc===U)return this.complete(te.completion,te.afterLoc),G(te),g}},catch:function(U){for(var B=this.tryEntries.length-1;B>=0;--B){var te=this.tryEntries[B];if(te.tryLoc===U){var ce=te.completion;if(ce.type==="throw"){var ue=ce.arg;G(te)}return ue}}throw new Error("illegal catch attempt")},delegateYield:function(U,B,te){return this.delegate={iterator:I(U),resultName:B,nextLoc:te},this.method==="next"&&(this.arg=n),g}},t}((typeof Iv=="undefined"?"undefined":hs(Iv))==="object"?Iv.exports:{});try{regeneratorRuntime=lP}catch(t){(typeof globalThis=="undefined"?"undefined":hs(globalThis))==="object"?globalThis.regeneratorRuntime=lP:Function("r","regeneratorRuntime = r")(lP)}});var vs=h(function(vpt,d6){d6.exports=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}});var cP=h(function(ypt,g6){function h6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h6(Object(r),!0).forEach(function(n){s5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s5e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xv=function(r){return typeof r}:xv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xv(t)}function l5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c5e(t,e,r){return e&&v6(t.prototype,e),r&&v6(t,r),t}var ys;function y6(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var f5e=0;function p5e(t){return"__private_"+f5e+++"_"+t}var d5e=vs();function h5e(t,e,r){var n=[];return t.forEach(function(i){return typeof i!="string"?n.push(i):e[Symbol.split](i).forEach(function(a,o,u){a!==""&&n.push(a),o<u.length-1&&n.push(r)})}),n}function m6(t,e){var r=/\$/g,n="$$$$",i=[t];if(e==null)return i;for(var a=0,o=Object.keys(e);a<o.length;a++){var u=o[a];if(u!=="_"){var s=e[u];typeof s=="string"&&(s=r[Symbol.replace](s,n)),i=h5e(i,new RegExp("%\\{".concat(u,"\\}"),"g"),s)}}return i}g6.exports=(ys=p5e("apply"),function(){function t(e){l5e(this,t),Object.defineProperty(this,ys,{value:v5e}),this.locale={strings:{},pluralize:function(n){return n===1?0:1}},Array.isArray(e)?e.forEach(y6(this,ys)[ys],this):y6(this,ys)[ys](e)}return c5e(t,[{key:"translate",value:function(r,n){return this.translateArray(r,n).join("")}},{key:"translateArray",value:function(r,n){if(!d5e(this.locale.strings,r))throw new Error("missing string: ".concat(r));var i=this.locale.strings[r],a=xv(i)==="object";if(a){if(n&&typeof n.smart_count!="undefined"){var o=this.locale.pluralize(n.smart_count);return m6(i[o],n)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return m6(i,n)}}]),t}());function v5e(t){if(!!(t!=null&&t.strings)){var e=this.locale;this.locale=kv(kv({},e),{},{strings:kv(kv({},e.strings),t.strings)}),this.locale.pluralize=t.pluralize||e.pluralize}}});var fP=h(function(mpt,b6){b6.exports=function(){var e={},r=e._fns={};e.emit=function(o,u,s,l,c,f,p){var d=n(o);d.length&&i(o,d,[u,s,l,c,f,p])},e.on=function(o,u){r[o]||(r[o]=[]),r[o].push(u)},e.once=function(o,u){function s(){u.apply(this,arguments),e.off(o,s)}this.on(o,s)},e.off=function(o,u){var s=[];if(o&&u){var l=this._fns[o],c=0,f=l?l.length:0;for(c;c<f;c++)l[c]!==u&&s.push(l[c])}s.length?this._fns[o]=s:delete this._fns[o]};function n(a){var o=r[a]?r[a]:[],u=a.indexOf(":"),s=u===-1?[a]:[a.substring(0,u),a.substring(u+1)],l=Object.keys(r),c=0,f=l.length;for(c;c<f;c++){var p=l[c];if(p==="*"&&(o=o.concat(r[p])),s.length===2&&s[0]===p){o=o.concat(r[p]);break}}return o}function i(a,o,u){var s=0,l=o.length;for(s;s<l&&o[s];s++)o[s].event=a,o[s].apply(o[s],u)}return e}});var Co=h(function(gpt,_6){var y5e="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",m5e=function(e,r){return function(){for(var n="",i=r;i--;)n+=e[Math.random()*e.length|0];return n}},g5e=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:21,r="",n=e;n--;)r+=y5e[Math.random()*64|0];return r};_6.exports={nanoid:g5e,customAlphabet:m5e}});var yf=h(function(bpt,P6){function Oa(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Oa=function(r){return typeof r}:Oa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Oa(t)}var w6="Expected a function",S6=0/0,b5e="[object Symbol]",_5e=/^\s+|\s+$/g,w5e=/^[-+]0x[0-9a-f]+$/i,S5e=/^0b[01]+$/i,O5e=/^0o[0-7]+$/i,P5e=parseInt,q5e=(typeof global=="undefined"?"undefined":Oa(global))=="object"&&global&&global.Object===Object&&global,R5e=(typeof self=="undefined"?"undefined":Oa(self))=="object"&&self&&self.Object===Object&&self,E5e=q5e||R5e||Function("return this")(),T5e=Object.prototype,A5e=T5e.toString,I5e=Math.max,k5e=Math.min,pP=function(){return E5e.Date.now()};function x5e(t,e,r){var n,i,a,o,u,s,l=0,c=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(w6);e=O6(e)||0,Fv(r)&&(c=!!r.leading,f="maxWait"in r,a=f?I5e(O6(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p);function d(F){var $=n,Y=i;return n=i=void 0,l=F,o=t.apply(Y,$),o}function v(F){return l=F,u=setTimeout(_,e),c?d(F):o}function g(F){var $=F-s,Y=F-l,R=e-$;return f?k5e(R,a-Y):R}function m(F){var $=F-s,Y=F-l;return s===void 0||$>=e||$<0||f&&Y>=a}function _(){var F=pP();if(m(F))return S(F);u=setTimeout(_,g(F))}function S(F){return u=void 0,p&&n?d(F):(n=i=void 0,o)}function q(){u!==void 0&&clearTimeout(u),l=0,n=s=i=u=void 0}function A(){return u===void 0?o:S(pP())}function D(){var F=pP(),$=m(F);if(n=arguments,i=this,s=F,$){if(u===void 0)return v(s);if(f)return u=setTimeout(_,e),d(s)}return u===void 0&&(u=setTimeout(_,e)),o}return D.cancel=q,D.flush=A,D}function F5e(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(w6);return Fv(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),x5e(t,e,{leading:n,maxWait:e,trailing:i})}function Fv(t){var e=Oa(t);return!!t&&(e=="object"||e=="function")}function C5e(t){return!!t&&Oa(t)=="object"}function D5e(t){return Oa(t)=="symbol"||C5e(t)&&A5e.call(t)==b5e}function O6(t){if(typeof t=="number")return t;if(D5e(t))return S6;if(Fv(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Fv(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(_5e,"");var r=S5e.test(t);return r||O5e.test(t)?P5e(t.slice(2),r?2:8):w5e.test(t)?S6:+t}P6.exports=F5e});var vP=h(function(_pt,T6){function q6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q6(Object(r),!0).forEach(function(n){U5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U5e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function M5e(t,e,r){return e&&R6(t.prototype,e),r&&R6(t,r),t}function N5e(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var B5e=0;function L5e(t){return"__private_"+B5e+++"_"+t}var hP=L5e("publish"),E6=function(){function t(){j5e(this,t),Object.defineProperty(this,hP,{value:z5e}),this.state={},this.callbacks=[]}return M5e(t,[{key:"getState",value:function(){return this.state}},{key:"setState",value:function(r){var n=dP({},this.state),i=dP(dP({},this.state),r);this.state=i,N5e(this,hP)[hP](n,i,r)}},{key:"subscribe",value:function(r){var n=this;return this.callbacks.push(r),function(){n.callbacks.splice(n.callbacks.indexOf(r),1)}}}]),t}();function z5e(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.callbacks.forEach(function(n){n.apply(void 0,e)})}E6.VERSION="2.0.3";T6.exports=function(){return new E6}});var mf=h(function(wpt,A6){A6.exports=function(e){var r=e.lastIndexOf(".");return r===-1||r===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,r),extension:e.slice(r+1)}}});var yP=h(function(Spt,I6){I6.exports={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"}});var mP=h(function(Opt,x6){var H5e=mf(),k6=yP();x6.exports=function(e){var r;if(e.type)return e.type;var n=e.name?(r=H5e(e.name).extension)==null?void 0:r.toLowerCase():null;return n&&n in k6?k6[n]:"application/octet-stream"}});var gP=h(function(Ppt,C6){function $5e(t){return t.charCodeAt(0).toString(32)}function F6(t){var e="";return t.replace(/[^A-Z0-9]/ig,function(r){return e+="-".concat($5e(r)),"/"})+e}C6.exports=function(e){var r="uppy";return typeof e.name=="string"&&(r+="-".concat(F6(e.name.toLowerCase()))),e.type!==void 0&&(r+="-".concat(e.type)),e.meta&&typeof e.meta.relativePath=="string"&&(r+="-".concat(F6(e.meta.relativePath.toLowerCase()))),e.data.size!==void 0&&(r+="-".concat(e.data.size)),e.data.lastModified!==void 0&&(r+="-".concat(e.data.lastModified)),r}});var j6=h(function(qpt,U6){function W5e(t,e){return Y5e(t)||K5e(t,e)||G5e(t,e)||V5e()}function V5e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function G5e(t,e){if(!!t){if(typeof t=="string")return D6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D6(t,e)}}function D6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function K5e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function Y5e(t){if(Array.isArray(t))return t}U6.exports=function(e){if(e==null&&(e=typeof navigator!="undefined"?navigator.userAgent:null),!e)return!0;var r=/Edge\/(\d+\.\d+)/.exec(e);if(!r)return!0;var n=r[1],i=n.split("."),a=W5e(i,2),o=a[0],u=a[1];return o=parseInt(o,10),u=parseInt(u,10),o<15||o===15&&u<15063||o>18||o===18&&u>=18218}});var N6=h(function(Rpt,M6){M6.exports=function(e,r){return r.name?r.name:e.split("/")[0]==="image"?"".concat(e.split("/")[0],".").concat(e.split("/")[1]):"noname"}});var L6=h(function(Ept,B6){function bP(t){return t<10?"0".concat(t):t.toString()}B6.exports=function(){var e=new Date,r=bP(e.getHours()),n=bP(e.getMinutes()),i=bP(e.getSeconds());return"".concat(r,":").concat(n,":").concat(i)}});var _P=h(function(Tpt,z6){var Cv=L6(),X5e={debug:function(){},warn:function(){},error:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=console).error.apply(e,["[Uppy] [".concat(Cv(),"]")].concat(n))}},J5e={debug:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=console).debug.apply(e,["[Uppy] [".concat(Cv(),"]")].concat(n))},warn:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=console).warn.apply(e,["[Uppy] [".concat(Cv(),"]")].concat(n))},error:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=console).error.apply(e,["[Uppy] [".concat(Cv(),"]")].concat(n))}};z6.exports={justErrorsLogger:X5e,debugLogger:J5e}});var Uv=h(function(Apt,H6){function Dv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dv=function(r){return typeof r}:Dv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Dv(t)}H6.exports=function(e){if(typeof e!="number"||isNaN(e))throw new TypeError("Expected a number, got "+Dv(e));var r=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(r&&(e=-e),e<1)return(r?"-":"")+e+" B";var i=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,i));var a=n[i];return e>=10||e%1==0?(r?"-":"")+e.toFixed(0)+" "+a:(r?"-":"")+e.toFixed(1)+" "+a}});var V6=h(function(Ipt,W6){"use strict";function jv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jv=function(r){return typeof r}:jv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jv(t)}function $6(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}$6.prototype.match=function(t){var e=!0,r=this.parts,n,i=r.length,a;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)e=!1;else{for(a=(t||"").split(this.separator),n=0;e&&n<i;n++)r[n]!=="*"&&(n<a.length?e=r[n]===a[n]:e=!1);e=e&&a}else if(typeof t.splice=="function")for(e=[],n=t.length;n--;)this.match(t[n])&&(e[e.length]=t[n]);else if(jv(t)=="object"){e={};for(var o in t)this.match(o)&&(e[o]=t[o])}return e};W6.exports=function(t,e,r){var n=new $6(t,r||/[\/\.]/);return typeof e!="undefined"?n.match(e):n}});var K6=h(function(kpt,G6){var Q5e=V6(),Z5e=/[\/\+\.]/;G6.exports=function(t,e){function r(n){var i=Q5e(n,t,Z5e);return i&&i.length>=2}return e?r(e.split(";")[0]):r}});var t4=h(function(xpt,e4){function Mv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mv=function(r){return typeof r}:Mv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mv(t)}function eNe(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=tNe(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function tNe(t,e){if(!!t){if(typeof t=="string")return Y6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y6(t,e)}}function Y6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function X6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rNe(t,e,r){return e&&X6(t.prototype,e),r&&X6(t,r),t}function wP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gf(t,e)}function Q6(t){var e=Z6();return function(){var n=bf(t),i;if(e){var a=bf(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return nNe(this,i)}}function nNe(t,e){if(e&&(Mv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iNe(t)}function iNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nv(t){var e=typeof Map=="function"?new Map:void 0;return Nv=function(n){if(n===null||!aNe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Bv(n,arguments,bf(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),gf(i,n)},Nv(t)}function Bv(t,e,r){return Z6()?Bv=Reflect.construct:Bv=function(i,a,o){var u=[null];u.push.apply(u,a);var s=Function.bind.apply(i,u),l=new s;return o&&gf(l,o.prototype),l},Bv.apply(null,arguments)}function Z6(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function aNe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function gf(t,e){return gf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},gf(t,e)}function bf(t){return bf=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},bf(t)}var SP=Uv(),oNe=K6(),uNe={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},Pa=function(t){J6(r,t);var e=Q6(r);function r(){var n;return wP(this,r),n=e.apply(this,arguments),n.isRestriction=!0,n}return r}(Nv(Error));typeof AggregateError=="undefined"&&(globalThis.AggregateError=function(t){J6(r,t);var e=Q6(r);function r(n,i){var a;return wP(this,r),a=e.call(this,i),a.errors=n,a}return r}(Nv(Error)));var sNe=function(){function t(e,r){wP(this,t),this.i18n=r,this.getOpts=function(){var n=e();if(n.restrictions.allowedFileTypes!=null&&!Array.isArray(n.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return n}}return rNe(t,[{key:"validate",value:function(r,n){var i=this.getOpts().restrictions,a=i.maxFileSize,o=i.minFileSize,u=i.maxTotalFileSize,s=i.maxNumberOfFiles,l=i.allowedFileTypes;if(s&&n.length+1>s)throw new Pa("".concat(this.i18n("youCanOnlyUploadX",{smart_count:s})));if(l){var c=l.some(function(d){return d.includes("/")?r.type?oNe(r.type.replace(/;.*?$/,""),d):!1:d[0]==="."&&r.extension?r.extension.toLowerCase()===d.slice(1).toLowerCase():!1});if(!c){var f=l.join(", ");throw new Pa(this.i18n("youCanOnlyUploadFileTypes",{types:f}))}}if(u&&r.size!=null){var p=n.reduce(function(d,v){return d+v.size},r.size);if(p>u)throw new Pa(this.i18n("exceedsSize",{size:SP(u),file:r.name}))}if(a&&r.size!=null&&r.size>a)throw new Pa(this.i18n("exceedsSize",{size:SP(a),file:r.name}));if(o&&r.size!=null&&r.size<o)throw new Pa(this.i18n("inferiorSize",{size:SP(o)}))}},{key:"validateMinNumberOfFiles",value:function(r){var n=this.getOpts().restrictions.minNumberOfFiles;if(Object.keys(r).length<n)throw new Pa(this.i18n("youHaveToAtLeastSelectX",{smart_count:n}))}},{key:"getMissingRequiredMetaFields",value:function(r){var n=new Pa(this.i18n("missingRequiredMetaFieldOnFile",{fileName:r.name})),i=this.getOpts().restrictions.requiredMetaFields,a=Object.prototype.hasOwnProperty,o=[],u=eNe(i),s;try{for(u.s();!(s=u.n()).done;){var l=s.value;(!a.call(r.meta,l)||r.meta[l]==="")&&o.push(l)}}catch(c){u.e(c)}finally{u.f()}return{missingFields:o,error:n}}}]),t}();e4.exports={Restricter:sNe,defaultOptions:uNe,RestrictionError:Pa}});var n4=h(function(Fpt,r4){r4.exports={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",emptyFolderAdded:"No files were added from empty folder",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}}});var p4=h(function(Cpt,f4){"use strict";function i4(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function lNe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){i4(a,n,i,o,u,"next",s)}function u(s){i4(a,n,i,o,u,"throw",s)}o(void 0)})}}function Lv(t){return dNe(t)||pNe(t)||fNe(t)||cNe()}function cNe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fNe(t,e){if(!!t){if(typeof t=="string")return OP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OP(t,e)}}function pNe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dNe(t){if(Array.isArray(t))return OP(t)}function OP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qa(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qa=function(r){return typeof r}:qa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qa(t)}function a4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(r),!0).forEach(function(n){Do(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Do(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vNe(t,e,r){return e&&o4(t.prototype,e),r&&o4(t,r),t}var u4,s4;function se(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var yNe=0;function _t(t){return"__private_"+yNe+++"_"+t}var mNe=cP(),gNe=fP(),bNe=Co(),_Ne=bNe.nanoid,wNe=yf(),SNe=vP(),ONe=mP(),PNe=mf(),qNe=gP(),RNe=j6(),ENe=N6(),l4=_P(),TNe=l4.justErrorsLogger,ANe=l4.debugLogger,PP=t4(),INe=PP.Restricter,kNe=PP.defaultOptions,zv=PP.RestrictionError,xNe=n4(),Ct=_t("plugins"),mn=_t("restricter"),_f=_t("storeUnsubscribe"),Ti=_t("emitter"),Uo=_t("preProcessors"),jo=_t("uploaders"),Ai=_t("postProcessors"),Pr=_t("informAndEmit"),wf=_t("checkRequiredMetaFieldsOnFile"),qP=_t("checkRequiredMetaFields"),Sf=_t("assertNewUploadAllowed"),Of=_t("checkAndCreateFileStateObject"),Pf=_t("startIfAutoProceed"),RP=_t("addListeners"),gn=_t("updateOnlineStatus"),Ii=_t("createUpload"),EP=_t("getUpload"),Mo=_t("removeUpload"),ki=_t("runUpload");u4=Symbol.for("uppy test: getPlugins");s4=Symbol.for("uppy test: createUpload");var c4=function(t,e){function r(n){var i=this;hNe(this,r),Object.defineProperty(this,ki,{value:HNe}),Object.defineProperty(this,Mo,{value:zNe}),Object.defineProperty(this,EP,{value:LNe}),Object.defineProperty(this,Ii,{value:BNe}),Object.defineProperty(this,RP,{value:NNe}),Object.defineProperty(this,Pf,{value:MNe}),Object.defineProperty(this,Of,{value:jNe}),Object.defineProperty(this,Sf,{value:UNe}),Object.defineProperty(this,qP,{value:DNe}),Object.defineProperty(this,wf,{value:CNe}),Object.defineProperty(this,Pr,{value:FNe}),Object.defineProperty(this,Ct,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,mn,{writable:!0,value:void 0}),Object.defineProperty(this,_f,{writable:!0,value:void 0}),Object.defineProperty(this,Ti,{writable:!0,value:gNe()}),Object.defineProperty(this,Uo,{writable:!0,value:new Set}),Object.defineProperty(this,jo,{writable:!0,value:new Set}),Object.defineProperty(this,Ai,{writable:!0,value:new Set}),Object.defineProperty(this,gn,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=xNe;var a={id:"uppy",autoProceed:!1,allowMultipleUploads:!0,allowMultipleUploadBatches:!0,debug:!1,restrictions:kNe,meta:{},onBeforeFileAdded:function(u){return u},onBeforeUpload:function(u){return u},store:SNe(),logger:TNe,infoTimeout:5e3};this.opts=J(J(J({},a),n),{},{restrictions:J(J({},a.restrictions),n&&n.restrictions)}),n&&n.logger&&n.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):n&&n.debug&&(this.opts.logger=ANe),this.log("Using Core v".concat(this.constructor.VERSION)),this.i18nInit(),this.calculateProgress=wNe(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:RNe(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:J({},this.opts.meta),info:[],recoveredState:null}),se(this,mn)[mn]=new INe(function(){return i.opts},this.i18n),se(this,_f)[_f]=this.store.subscribe(function(o,u,s){i.emit("state-update",o,u,s),i.updateAll(u)}),this.opts.debug&&typeof window!="undefined"&&(window[this.opts.id]=this),se(this,RP)[RP]()}return vNe(r,[{key:"emit",value:function(i){for(var a,o=arguments.length,u=new Array(o>1?o-1:0),s=1;s<o;s++)u[s-1]=arguments[s];(a=se(this,Ti)[Ti]).emit.apply(a,[i].concat(u))}},{key:"on",value:function(i,a){return se(this,Ti)[Ti].on(i,a),this}},{key:"once",value:function(i,a){return se(this,Ti)[Ti].once(i,a),this}},{key:"off",value:function(i,a){return se(this,Ti)[Ti].off(i,a),this}},{key:"updateAll",value:function(i){this.iteratePlugins(function(a){a.update(i)})}},{key:"setState",value:function(i){this.store.setState(i)}},{key:"getState",value:function(){return this.store.getState()}},{key:"state",get:function(){return this.getState()}},{key:"setFileState",value:function(i,a){if(!this.getState().files[i])throw new Error("Can\u2019t set state for ".concat(i," (the file could have been removed)"));this.setState({files:J(J({},this.getState().files),{},Do({},i,J(J({},this.getState().files[i]),a)))})}},{key:"i18nInit",value:function(){var i=new mNe([this.defaultLocale,this.opts.locale]);this.i18n=i.translate.bind(i),this.i18nArray=i.translateArray.bind(i),this.locale=i.locale}},{key:"setOptions",value:function(i){this.opts=J(J(J({},this.opts),i),{},{restrictions:J(J({},this.opts.restrictions),i&&i.restrictions)}),i.meta&&this.setMeta(i.meta),this.i18nInit(),i.locale&&this.iteratePlugins(function(a){a.setOptions()}),this.setState()}},{key:"resetProgress",value:function(){var i={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},a=J({},this.getState().files),o={};Object.keys(a).forEach(function(u){var s=J({},a[u]);s.progress=J(J({},s.progress),i),o[u]=s}),this.setState({files:o,totalProgress:0}),this.emit("reset-progress")}},{key:"addPreProcessor",value:function(i){se(this,Uo)[Uo].add(i)}},{key:"removePreProcessor",value:function(i){return se(this,Uo)[Uo].delete(i)}},{key:"addPostProcessor",value:function(i){se(this,Ai)[Ai].add(i)}},{key:"removePostProcessor",value:function(i){return se(this,Ai)[Ai].delete(i)}},{key:"addUploader",value:function(i){se(this,jo)[jo].add(i)}},{key:"removeUploader",value:function(i){return se(this,jo)[jo].delete(i)}},{key:"setMeta",value:function(i){var a=J(J({},this.getState().meta),i),o=J({},this.getState().files);Object.keys(o).forEach(function(u){o[u]=J(J({},o[u]),{},{meta:J(J({},o[u].meta),i)})}),this.log("Adding metadata:"),this.log(i),this.setState({meta:a,files:o})}},{key:"setFileMeta",value:function(i,a){var o=J({},this.getState().files);if(!o[i]){this.log("Was trying to set metadata for a file that has been removed: ",i);return}var u=J(J({},o[i].meta),a);o[i]=J(J({},o[i]),{},{meta:u}),this.setState({files:o})}},{key:"getFile",value:function(i){return this.getState().files[i]}},{key:"getFiles",value:function(){var i=this.getState(),a=i.files;return Object.values(a)}},{key:"getObjectOfFilesPerState",value:function(){var i=this.getState(),a=i.files,o=i.totalProgress,u=i.error,s=Object.values(a),l=s.filter(function(S){var q=S.progress;return!q.uploadComplete&&q.uploadStarted}),c=s.filter(function(S){return!S.progress.uploadStarted}),f=s.filter(function(S){return S.progress.uploadStarted||S.progress.preprocess||S.progress.postprocess}),p=s.filter(function(S){return S.progress.uploadStarted}),d=s.filter(function(S){return S.isPaused}),v=s.filter(function(S){return S.progress.uploadComplete}),g=s.filter(function(S){return S.error}),m=l.filter(function(S){return!S.isPaused}),_=s.filter(function(S){return S.progress.preprocess||S.progress.postprocess});return{newFiles:c,startedFiles:f,uploadStartedFiles:p,pausedFiles:d,completeFiles:v,erroredFiles:g,inProgressFiles:l,inProgressNotPausedFiles:m,processingFiles:_,isUploadStarted:p.length>0,isAllComplete:o===100&&v.length===s.length&&_.length===0,isAllErrored:!!u&&g.length===s.length,isAllPaused:l.length!==0&&d.length===l.length,isUploadInProgress:l.length>0,isSomeGhost:s.some(function(S){return S.isGhost})}}},{key:"validateRestrictions",value:function(i,a){a===void 0&&(a=this.getFiles());try{return se(this,mn)[mn].validate(i,a),{result:!0}}catch(o){return{result:!1,reason:o.message}}}},{key:"checkIfFileAlreadyExists",value:function(i){var a=this.getState(),o=a.files;return!!(o[i]&&!o[i].isGhost)}},{key:"addFile",value:function(i){se(this,Sf)[Sf](i);var a=this.getState(),o=a.files,u=se(this,Of)[Of](o,i);return o[u.id]&&o[u.id].isGhost&&(u=J(J({},o[u.id]),{},{data:i.data,isGhost:!1}),this.log("Replaced the blob in the restored ghost file: ".concat(u.name,", ").concat(u.id))),this.setState({files:J(J({},o),{},Do({},u.id,u))}),this.emit("file-added",u),this.emit("files-added",[u]),this.log("Added file: ".concat(u.name,", ").concat(u.id,", mime type: ").concat(u.type)),se(this,Pf)[Pf](),u.id}},{key:"addFiles",value:function(i){var a=this;se(this,Sf)[Sf]();for(var o=J({},this.getState().files),u=[],s=[],l=0;l<i.length;l++)try{var c=se(this,Of)[Of](o,i[l]);o[c.id]&&o[c.id].isGhost&&(c=J(J({},o[c.id]),{},{data:i[l].data,isGhost:!1}),this.log("Replaced blob in a ghost file: ".concat(c.name,", ").concat(c.id))),o[c.id]=c,u.push(c)}catch(d){d.isRestriction||s.push(d)}if(this.setState({files:o}),u.forEach(function(d){a.emit("file-added",d)}),this.emit("files-added",u),u.length>5?this.log("Added batch of ".concat(u.length," files")):Object.keys(u).forEach(function(d){a.log("Added file: ".concat(u[d].name,"\n id: ").concat(u[d].id,"\n type: ").concat(u[d].type))}),u.length>0&&se(this,Pf)[Pf](),s.length>0){var f="Multiple errors occurred while adding files:\n";if(s.forEach(function(d){f+="\n * ".concat(d.message)}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:s.length}),details:f},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(s,f);var p=new Error(f);throw p.errors=s,p}}},{key:"removeFiles",value:function(i,a){var o=this,u=this.getState(),s=u.files,l=u.currentUploads,c=J({},s),f=J({},l),p=Object.create(null);i.forEach(function(m){s[m]&&(p[m]=s[m],delete c[m])});function d(m){return p[m]===void 0}Object.keys(f).forEach(function(m){var _=l[m].fileIDs.filter(d);if(_.length===0){delete f[m];return}f[m]=J(J({},l[m]),{},{fileIDs:_})});var v={currentUploads:f,files:c};Object.keys(c).length===0&&(v.allowNewUpload=!0,v.error=null,v.recoveredState=null),this.setState(v),this.calculateTotalProgress();var g=Object.keys(p);g.forEach(function(m){o.emit("file-removed",p[m],a)}),g.length>5?this.log("Removed ".concat(g.length," files")):this.log("Removed files: ".concat(g.join(", ")))}},{key:"removeFile",value:function(i,a){a===void 0&&(a=null),this.removeFiles([i],a)}},{key:"pauseResume",value:function(i){if(!(!this.getState().capabilities.resumableUploads||this.getFile(i).uploadComplete)){var a=this.getFile(i).isPaused||!1,o=!a;return this.setFileState(i,{isPaused:o}),this.emit("upload-pause",i,o),o}}},{key:"pauseAll",value:function(){var i=J({},this.getState().files),a=Object.keys(i).filter(function(o){return!i[o].progress.uploadComplete&&i[o].progress.uploadStarted});a.forEach(function(o){var u=J(J({},i[o]),{},{isPaused:!0});i[o]=u}),this.setState({files:i}),this.emit("pause-all")}},{key:"resumeAll",value:function(){var i=J({},this.getState().files),a=Object.keys(i).filter(function(o){return!i[o].progress.uploadComplete&&i[o].progress.uploadStarted});a.forEach(function(o){var u=J(J({},i[o]),{},{isPaused:!1,error:null});i[o]=u}),this.setState({files:i}),this.emit("resume-all")}},{key:"retryAll",value:function(){var i=J({},this.getState().files),a=Object.keys(i).filter(function(u){return i[u].error});if(a.forEach(function(u){var s=J(J({},i[u]),{},{isPaused:!1,error:null});i[u]=s}),this.setState({files:i,error:null}),this.emit("retry-all",a),a.length===0)return Promise.resolve({successful:[],failed:[]});var o=se(this,Ii)[Ii](a,{forceAllowNewUpload:!0});return se(this,ki)[ki](o)}},{key:"cancelAll",value:function(){this.emit("cancel-all");var i=this.getState(),a=i.files,o=Object.keys(a);o.length&&this.removeFiles(o,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}},{key:"retryUpload",value:function(i){this.setFileState(i,{error:null,isPaused:!1}),this.emit("upload-retry",i);var a=se(this,Ii)[Ii]([i],{forceAllowNewUpload:!0});return se(this,ki)[ki](a)}},{key:"reset",value:function(){this.cancelAll()}},{key:"logout",value:function(){this.iteratePlugins(function(i){i.provider&&i.provider.logout&&i.provider.logout()})}},{key:"calculateProgress",value:function(i,a){if(i==null||!this.getFile(i.id)){this.log("Not setting progress for a file that has been removed: ".concat(i==null?void 0:i.id));return}var o=Number.isFinite(a.bytesTotal)&&a.bytesTotal>0;this.setFileState(i.id,{progress:J(J({},this.getFile(i.id).progress),{},{bytesUploaded:a.bytesUploaded,bytesTotal:a.bytesTotal,percentage:o?Math.round(a.bytesUploaded/a.bytesTotal*100):0})}),this.calculateTotalProgress()}},{key:"calculateTotalProgress",value:function(){var i=this.getFiles(),a=i.filter(function(g){return g.progress.uploadStarted||g.progress.preprocess||g.progress.postprocess});if(a.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}var o=a.filter(function(g){return g.progress.bytesTotal!=null}),u=a.filter(function(g){return g.progress.bytesTotal==null});if(o.length===0){var s=a.length*100,l=u.reduce(function(g,m){return g+m.progress.percentage},0),c=Math.round(l/s*100);this.setState({totalProgress:c});return}var f=o.reduce(function(g,m){return g+m.progress.bytesTotal},0),p=f/o.length;f+=p*u.length;var d=0;o.forEach(function(g){d+=g.progress.bytesUploaded}),u.forEach(function(g){d+=p*(g.progress.percentage||0)/100});var v=f===0?0:Math.round(d/f*100);v>100&&(v=100),this.setState({totalProgress:v}),this.emit("progress",v)}},{key:"updateOnlineStatus",value:function(){var i=typeof window.navigator.onLine!="undefined"?window.navigator.onLine:!0;i?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}},{key:"getID",value:function(){return this.opts.id}},{key:"use",value:function(i,a){if(typeof i!="function"){var o="Expected a plugin class, but got ".concat(i===null?"null":qa(i),".")+" Please verify that the plugin was imported and spelled correctly.";throw new TypeError(o)}var u=new i(this,a),s=u.id;if(!s)throw new Error("Your plugin must have an id");if(!u.type)throw new Error("Your plugin must have a type");var l=this.getPlugin(s);if(l){var c="Already found a plugin named '".concat(l.id,"'. ")+"Tried to use: '".concat(s,"'.\n")+"Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(c)}return i.VERSION&&this.log("Using ".concat(s," v").concat(i.VERSION)),u.type in se(this,Ct)[Ct]?se(this,Ct)[Ct][u.type].push(u):se(this,Ct)[Ct][u.type]=[u],u.install(),this}},{key:"getPlugin",value:function(i){for(var a=0,o=Object.values(se(this,Ct)[Ct]);a<o.length;a++){var u=o[a],s=u.find(function(l){return l.id===i});if(s!=null)return s}}},{key:t,value:function(i){return se(this,Ct)[Ct][i]}},{key:"iteratePlugins",value:function(i){Object.values(se(this,Ct)[Ct]).flat(1).forEach(i)}},{key:"removePlugin",value:function(i){this.log("Removing plugin ".concat(i.id)),this.emit("plugin-remove",i),i.uninstall&&i.uninstall();var a=se(this,Ct)[Ct][i.type],o=a.findIndex(function(l){return l.id===i.id});o!==-1&&a.splice(o,1);var u=this.getState(),s={plugins:J(J({},u.plugins),{},Do({},i.id,void 0))};this.setState(s)}},{key:"close",value:function(){var i=this;this.log("Closing Uppy instance ".concat(this.opts.id,": removing all files and uninstalling plugins")),this.reset(),se(this,_f)[_f](),this.iteratePlugins(function(a){i.removePlugin(a)}),typeof window!="undefined"&&window.removeEventListener&&(window.removeEventListener("online",se(this,gn)[gn]),window.removeEventListener("offline",se(this,gn)[gn]))}},{key:"hideInfo",value:function(){var i=this.getState(),a=i.info;this.setState({info:a.slice(1)}),this.emit("info-hidden")}},{key:"info",value:function(i,a,o){var u=this;a===void 0&&(a="info"),o===void 0&&(o=3e3);var s=qa(i)==="object";this.setState({info:[].concat(Lv(this.getState().info),[{type:a,message:s?i.message:i,details:s?i.details:null}])}),setTimeout(function(){return u.hideInfo()},o),this.emit("info-visible")}},{key:"log",value:function(i,a){var o=this.opts.logger;switch(a){case"error":o.error(i);break;case"warning":o.warn(i);break;default:o.debug(i);break}}},{key:"restore",value:function(i){return this.log('Core: attempting to restore upload "'.concat(i,'"')),this.getState().currentUploads[i]?se(this,ki)[ki](i):(se(this,Mo)[Mo](i),Promise.reject(new Error("Nonexistent upload")))}},{key:e,value:function(){var i;return(i=se(this,Ii))[Ii].apply(i,arguments)}},{key:"addResultData",value:function(i,a){if(!se(this,EP)[EP](i)){this.log("Not setting result for an upload that has been removed: ".concat(i));return}var o=this.getState(),u=o.currentUploads,s=J(J({},u[i]),{},{result:J(J({},u[i].result),a)});this.setState({currentUploads:J(J({},u),{},Do({},i,s))})}},{key:"upload",value:function(){var i=this,a;(a=se(this,Ct)[Ct].uploader)!=null&&a.length||this.log("No uploader type plugins are used","warning");var o=this.getState(),u=o.files,s=this.opts.onBeforeUpload(u);return s===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(s&&qa(s)==="object"&&(u=s,this.setState({files:u})),Promise.resolve().then(function(){return se(i,mn)[mn].validateMinNumberOfFiles(u)}).catch(function(l){throw se(i,Pr)[Pr](l),l}).then(function(){if(!se(i,qP)[qP](u))throw new zv(i.i18n("missingRequiredMetaField"))}).catch(function(l){throw l}).then(function(){var l=i.getState(),c=l.currentUploads,f=Object.values(c).flatMap(function(v){return v.fileIDs}),p=[];Object.keys(u).forEach(function(v){var g=i.getFile(v);!g.progress.uploadStarted&&f.indexOf(v)===-1&&p.push(g.id)});var d=se(i,Ii)[Ii](p);return se(i,ki)[ki](d)}).catch(function(l){throw i.emit("error",l),i.log(l,"error"),l}))}}]),r}(u4,s4);function FNe(t,e){var r=t.message,n=t.details,i=n===void 0?"":n;t.isRestriction?this.emit("restriction-failed",e,t):this.emit("error",t),this.info({message:r,details:i},"error",this.opts.infoTimeout),this.log("".concat(r," ").concat(i).trim(),"error")}function CNe(t){var e=se(this,mn)[mn].getMissingRequiredMetaFields(t),r=e.missingFields,n=e.error;return r.length>0?(this.setFileState(t.id,{missingRequiredMetaFields:r}),this.log(n.message),this.emit("restriction-failed",t,n),!1):!0}function DNe(t){for(var e=!0,r=0,n=Object.values(t);r<n.length;r++){var i=n[r];se(this,wf)[wf](i)||(e=!1)}return e}function UNe(t){var e=this.getState(),r=e.allowNewUpload;if(r===!1){var n=new zv(this.i18n("noMoreFilesAllowed"));throw se(this,Pr)[Pr](n,t),n}}function jNe(t,e){var r=ONe(e),n=ENe(r,e),i=PNe(n).extension,a=Boolean(e.isRemote),o=qNe(J(J({},e),{},{type:r}));if(this.checkIfFileAlreadyExists(o)){var u=new zv(this.i18n("noDuplicates",{fileName:n}));throw se(this,Pr)[Pr](u,e),u}var s=e.meta||{};s.name=n,s.type=r;var l=Number.isFinite(e.data.size)?e.data.size:null,c={source:e.source||"",id:o,name:n,extension:i||"",meta:J(J({},this.getState().meta),s),type:r,data:e.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:l,uploadComplete:!1,uploadStarted:null},size:l,isRemote:a,remote:e.remote||"",preview:e.preview},f=this.opts.onBeforeFileAdded(c,t);if(f===!1){var p=new zv("Cannot add the file because onBeforeFileAdded returned false.");throw this.emit("restriction-failed",e,p),p}else qa(f)==="object"&&f!==null&&(c=f);try{var d=Object.keys(t).map(function(v){return t[v]});se(this,mn)[mn].validate(c,d)}catch(v){throw se(this,Pr)[Pr](v,c),v}return c}function MNe(){var t=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(function(){t.scheduledAutoProceed=null,t.upload().catch(function(e){e.isRestriction||t.log(e.stack||e.message||e)})},4))}function NNe(){var t=this,e=function(n,i,a){var o=n.message||"Unknown error";n.details&&(o+=" ".concat(n.details)),t.setState({error:o}),i!=null&&i.id in t.getState().files&&t.setFileState(i.id,{error:o,response:a})};this.on("error",e),this.on("upload-error",function(r,n,i){if(e(n,r,i),qa(n)==="object"&&n.message){var a=new Error(n.message);a.details=n.message,n.details&&(a.details+=" ".concat(n.details)),a.message=t.i18n("failedToUpload",{file:r.name}),se(t,Pr)[Pr](a)}else se(t,Pr)[Pr](n)}),this.on("upload",function(){t.setState({error:null})}),this.on("upload-started",function(r){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}t.setFileState(r.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:r.size}})}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",function(r,n){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}var i=t.getFile(r.id).progress;t.setFileState(r.id,{progress:J(J({},i),{},{postprocess:se(t,Ai)[Ai].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:i.bytesTotal}),response:n,uploadURL:n.uploadURL,isPaused:!1}),r.size==null&&t.setFileState(r.id,{size:n.bytesUploaded||i.bytesTotal}),t.calculateTotalProgress()}),this.on("preprocess-progress",function(r,n){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}t.setFileState(r.id,{progress:J(J({},t.getFile(r.id).progress),{},{preprocess:n})})}),this.on("preprocess-complete",function(r){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}var n=J({},t.getState().files);n[r.id]=J(J({},n[r.id]),{},{progress:J({},n[r.id].progress)}),delete n[r.id].progress.preprocess,t.setState({files:n})}),this.on("postprocess-progress",function(r,n){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}t.setFileState(r.id,{progress:J(J({},t.getState().files[r.id].progress),{},{postprocess:n})})}),this.on("postprocess-complete",function(r){if(r==null||!t.getFile(r.id)){t.log("Not setting progress for a file that has been removed: ".concat(r==null?void 0:r.id));return}var n=J({},t.getState().files);n[r.id]=J(J({},n[r.id]),{},{progress:J({},n[r.id].progress)}),delete n[r.id].progress.postprocess,t.setState({files:n})}),this.on("restored",function(){t.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",function(r){r&&se(t,wf)[wf](r)}),typeof window!="undefined"&&window.addEventListener&&(window.addEventListener("online",se(this,gn)[gn]),window.addEventListener("offline",se(this,gn)[gn]),setTimeout(se(this,gn)[gn],3e3))}function BNe(t,e){e===void 0&&(e={});var r=e,n=r.forceAllowNewUpload,i=n===void 0?!1:n,a=this.getState(),o=a.allowNewUpload,u=a.currentUploads;if(!o&&!i)throw new Error("Cannot create a new upload: already uploading.");var s=_Ne();return this.emit("upload",{id:s,fileIDs:t}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:J(J({},u),{},Do({},s,{fileIDs:t,step:0,result:{}}))}),s}function LNe(t){var e=this.getState(),r=e.currentUploads;return r[t]}function zNe(t){var e=J({},this.getState().currentUploads);delete e[t],this.setState({currentUploads:e})}function HNe(t){return TP.apply(this,arguments)}function TP(){return TP=lNe(regeneratorRuntime.mark(function t(e){var r=this,n,i,a,o,u,s,l,c,f,p,d,v;return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:n=this.getState(),i=n.currentUploads,a=i[e],o=a.step||0,u=[].concat(Lv(se(this,Uo)[Uo]),Lv(se(this,jo)[jo]),Lv(se(this,Ai)[Ai])),m.prev=4,s=o;case 6:if(!(s<u.length)){m.next=19;break}if(a){m.next=9;break}return m.abrupt("break",19);case 9:return l=u[s],c=J(J({},a),{},{step:s}),this.setState({currentUploads:J(J({},i),{},Do({},e,c))}),m.next=14,l(c.fileIDs,e);case 14:i=this.getState().currentUploads,a=i[e];case 16:s++,m.next=6;break;case 19:m.next=25;break;case 21:throw m.prev=21,m.t0=m.catch(4),se(this,Mo)[Mo](e),m.t0;case 25:if(!a){m.next=34;break}return a.fileIDs.forEach(function(_){var S=r.getFile(_);S&&S.progress.postprocess&&r.emit("postprocess-complete",S)}),f=a.fileIDs.map(function(_){return r.getFile(_)}),p=f.filter(function(_){return!_.error}),d=f.filter(function(_){return _.error}),m.next=32,this.addResultData(e,{successful:p,failed:d,uploadID:e});case 32:i=this.getState().currentUploads,a=i[e];case 34:return a&&(v=a.result,this.emit("complete",v),se(this,Mo)[Mo](e)),v==null&&this.log("Not setting result for an upload that has been removed: ".concat(e)),m.abrupt("return",v);case 37:case"end":return m.stop()}},t,this,[[4,21]])})),TP.apply(this,arguments)}c4.VERSION="2.1.10";f4.exports=c4});var ne={};QA(ne,{Component:function(){return Af},Fragment:function(){return Tf},cloneElement:function(){return YNe},createContext:function(){return XNe},createElement:function(){return _4},createRef:function(){return WNe},h:function(){return _4},hydrate:function(){return F4},isValidElement:function(){return h4},options:function(){return ve},render:function(){return x4},toChildArray:function(){return P4}});function xi(t,e){for(var r in e)t[r]=e[r];return t}function b4(t){var e=t.parentNode;e&&e.removeChild(t)}function _4(t,e,r){var n,i,a,o={};for(a in e)a=="key"?n=e[a]:a=="ref"?i=e[a]:o[a]=e[a];if(arguments.length>2&&(o.children=arguments.length>3?qf.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)o[a]===void 0&&(o[a]=t.defaultProps[a]);return Ef(t,o,n,i,null)}function Ef(t,e,r,n,i){var a={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++d4:i};return i==null&&ve.vnode!=null&&ve.vnode(a),a}function WNe(){return{current:null}}function Tf(t){return t.children}function Af(t,e){this.props=t,this.context=e}function ms(t,e){if(e==null)return t.__?ms(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?ms(t):null}function w4(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return w4(t)}}function AP(t){(!t.__d&&(t.__d=!0)&&Rf.push(t)&&!$v.__r++||y4!==ve.debounceRendering)&&((y4=ve.debounceRendering)||v4)($v)}function $v(){for(var t;$v.__r=Rf.length;)t=Rf.sort(function(e,r){return e.__v.__b-r.__v.__b}),Rf=[],t.some(function(e){var r,n,i,a,o,u;e.__d&&(o=(a=(r=e).__v).__e,(u=r.__P)&&(n=[],(i=xi({},a)).__v=a.__v+1,IP(u,a,i,r.__n,u.ownerSVGElement!==void 0,a.__h!=null?[o]:null,n,o==null?ms(a):o,a.__h),A4(n,a),a.__e!=o&&w4(a)))})}function S4(t,e,r,n,i,a,o,u,s,l){var c,f,p,d,v,g,m,_=n&&n.__k||g4,S=_.length;for(r.__k=[],c=0;c<e.length;c++)if((d=r.__k[c]=(d=e[c])==null||typeof d=="boolean"?null:typeof d=="string"||typeof d=="number"||typeof d=="bigint"?Ef(null,d,null,null,d):Array.isArray(d)?Ef(Tf,{children:d},null,null,null):d.__b>0?Ef(d.type,d.props,d.key,null,d.__v):d)!=null){if(d.__=r,d.__b=r.__b+1,(p=_[c])===null||p&&d.key==p.key&&d.type===p.type)_[c]=void 0;else for(f=0;f<S;f++){if((p=_[f])&&d.key==p.key&&d.type===p.type){_[f]=void 0;break}p=null}IP(t,d,p=p||Hv,i,a,o,u,s,l),v=d.__e,(f=d.ref)&&p.ref!=f&&(m||(m=[]),p.ref&&m.push(p.ref,null,d),m.push(f,d.__c||v,d)),v!=null?(g==null&&(g=v),typeof d.type=="function"&&d.__k===p.__k?d.__d=s=O4(d,s,t):s=q4(t,d,p,_,v,s),typeof r.type=="function"&&(r.__d=s)):s&&p.__e==s&&s.parentNode!=t&&(s=ms(p))}for(r.__e=g,c=S;c--;)_[c]!=null&&(typeof r.type=="function"&&_[c].__e!=null&&_[c].__e==r.__d&&(r.__d=ms(n,c+1)),k4(_[c],_[c]));if(m)for(c=0;c<m.length;c++)I4(m[c],m[++c],m[++c])}function O4(t,e,r){for(var n,i=t.__k,a=0;i&&a<i.length;a++)(n=i[a])&&(n.__=t,e=typeof n.type=="function"?O4(n,e,r):q4(r,n,n,i,n.__e,e));return e}function P4(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){P4(r,e)}):e.push(t)),e}function q4(t,e,r,n,i,a){var o,u,s;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(r==null||i!=a||i.parentNode==null)e:if(a==null||a.parentNode!==t)t.appendChild(i),o=null;else{for(u=a,s=0;(u=u.nextSibling)&&s<n.length;s+=2)if(u==i)break e;t.insertBefore(i,a),o=a}return o!==void 0?o:i.nextSibling}function VNe(t,e,r,n,i){var a;for(a in r)a==="children"||a==="key"||a in e||Wv(t,a,null,r[a],n);for(a in e)i&&typeof e[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||r[a]===e[a]||Wv(t,a,e[a],r[a],n)}function R4(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||$Ne.test(e)?r:r+"px"}function Wv(t,e,r,n,i){var a;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||R4(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||R4(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")a=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=r,r?n||t.addEventListener(e,a?T4:E4,a):t.removeEventListener(e,a?T4:E4,a);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r==null?"":r;break e}catch(o){}typeof r=="function"||(r!=null&&(r!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,r):t.removeAttribute(e))}}function E4(t){this.l[t.type+!1](ve.event?ve.event(t):t)}function T4(t){this.l[t.type+!0](ve.event?ve.event(t):t)}function IP(t,e,r,n,i,a,o,u,s){var l,c,f,p,d,v,g,m,_,S,q,A=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(s=r.__h,u=e.__e=r.__e,e.__h=null,a=[u]),(l=ve.__b)&&l(e);try{e:if(typeof A=="function"){if(m=e.props,_=(l=A.contextType)&&n[l.__c],S=l?_?_.props.value:l.__:n,r.__c?g=(c=e.__c=r.__c).__=c.__E:("prototype"in A&&A.prototype.render?e.__c=c=new A(m,S):(e.__c=c=new Af(m,S),c.constructor=A,c.render=KNe),_&&_.sub(c),c.props=m,c.state||(c.state={}),c.context=S,c.__n=n,f=c.__d=!0,c.__h=[]),c.__s==null&&(c.__s=c.state),A.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=xi({},c.__s)),xi(c.__s,A.getDerivedStateFromProps(m,c.__s))),p=c.props,d=c.state,f)A.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(A.getDerivedStateFromProps==null&&m!==p&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(m,S),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(m,c.__s,S)===!1||e.__v===r.__v){c.props=m,c.state=c.__s,e.__v!==r.__v&&(c.__d=!1),c.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(D){D&&(D.__=e)}),c.__h.length&&o.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(m,c.__s,S),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(p,d,v)})}c.context=S,c.props=m,c.state=c.__s,(l=ve.__r)&&l(e),c.__d=!1,c.__v=e,c.__P=t,l=c.render(c.props,c.state,c.context),c.state=c.__s,c.getChildContext!=null&&(n=xi(xi({},n),c.getChildContext())),f||c.getSnapshotBeforeUpdate==null||(v=c.getSnapshotBeforeUpdate(p,d)),q=l!=null&&l.type===Tf&&l.key==null?l.props.children:l,S4(t,Array.isArray(q)?q:[q],e,r,n,i,a,o,u,s),c.base=e.__e,e.__h=null,c.__h.length&&o.push(c),g&&(c.__E=c.__=null),c.__e=!1}else a==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=GNe(r.__e,e,r,n,i,a,o,s);(l=ve.diffed)&&l(e)}catch(D){e.__v=null,(s||a!=null)&&(e.__e=u,e.__h=!!s,a[a.indexOf(u)]=null),ve.__e(D,e,r)}}function A4(t,e){ve.__c&&ve.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){ve.__e(n,r.__v)}})}function GNe(t,e,r,n,i,a,o,u){var s,l,c,f=r.props,p=e.props,d=e.type,v=0;if(d==="svg"&&(i=!0),a!=null){for(;v<a.length;v++)if((s=a[v])&&"setAttribute"in s==!!d&&(d?s.localName===d:s.nodeType===3)){t=s,a[v]=null;break}}if(t==null){if(d===null)return document.createTextNode(p);t=i?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,p.is&&p),a=null,u=!1}if(d===null)f===p||u&&t.data===p||(t.data=p);else{if(a=a&&qf.call(t.childNodes),l=(f=r.props||Hv).dangerouslySetInnerHTML,c=p.dangerouslySetInnerHTML,!u){if(a!=null)for(f={},v=0;v<t.attributes.length;v++)f[t.attributes[v].name]=t.attributes[v].value;(c||l)&&(c&&(l&&c.__html==l.__html||c.__html===t.innerHTML)||(t.innerHTML=c&&c.__html||""))}if(VNe(t,p,f,i,u),c)e.__k=[];else if(v=e.props.children,S4(t,Array.isArray(v)?v:[v],e,r,n,i&&d!=="foreignObject",a,o,a?a[0]:r.__k&&ms(r,0),u),a!=null)for(v=a.length;v--;)a[v]!=null&&b4(a[v]);u||("value"in p&&(v=p.value)!==void 0&&(v!==f.value||v!==t.value||d==="progress"&&!v)&&Wv(t,"value",v,f.value,!1),"checked"in p&&(v=p.checked)!==void 0&&v!==t.checked&&Wv(t,"checked",v,f.checked,!1))}return t}function I4(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){ve.__e(n,r)}}function k4(t,e,r){var n,i;if(ve.unmount&&ve.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||I4(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){ve.__e(a,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&k4(n[i],e,typeof t.type!="function");r||t.__e==null||b4(t.__e),t.__e=t.__d=void 0}function KNe(t,e,r){return this.constructor(t,r)}function x4(t,e,r){var n,i,a;ve.__&&ve.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,a=[],IP(e,t=(!n&&r||e).__k=_4(Tf,null,[t]),i||Hv,Hv,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?qf.call(e.childNodes):null,a,!n&&r?r:i?i.__e:e.firstChild,n),A4(a,t)}function F4(t,e){x4(t,e,F4)}function YNe(t,e,r){var n,i,a,o=xi({},t.props);for(a in e)a=="key"?n=e[a]:a=="ref"?i=e[a]:o[a]=e[a];return arguments.length>2&&(o.children=arguments.length>3?qf.call(arguments,2):r),Ef(t.type,o,n||t.key,i||t.ref,null)}function XNe(t,e){var r={__c:e="__cC"+m4++,__:t,Consumer:function(i,a){return i.children(a)},Provider:function(i){var a,o;return this.getChildContext||(a=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(u){this.props.value!==u.value&&a.some(AP)},this.sub=function(u){a.push(u);var s=u.componentWillUnmount;u.componentWillUnmount=function(){a.splice(a.indexOf(u),1),s&&s.call(u)}}),i.children}};return r.Provider.__=r.Consumer.contextType=r}var qf,ve,d4,h4,Rf,v4,y4,m4,Hv,g4,$Ne,ee=JA(function(){Hv={},g4=[],$Ne=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;qf=g4.slice,ve={__e:function(e,r){for(var n,i,a;r=r.__;)if((n=r.__c)&&!n.__)try{if((i=n.constructor)&&i.getDerivedStateFromError!=null&&(n.setState(i.getDerivedStateFromError(e)),a=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(e),a=n.__d),a)return n.__E=n}catch(o){e=o}throw e}},d4=0,h4=function(e){return e!=null&&e.constructor===void 0},Af.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=xi({},this.state),typeof t=="function"&&(t=t(xi({},r),this.props)),t&&xi(r,t),t!=null&&this.__v&&(e&&this.__h.push(e),AP(this))},Af.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),AP(this))},Af.prototype.render=Tf,Rf=[],v4=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$v.__r=0,m4=0});var kP=h(function(Dpt,C4){C4.exports=function(e){return(e==null?void 0:e.nodeType)===Node.ELEMENT_NODE}});var xP=h(function(Upt,D4){var JNe=kP();D4.exports=function(e,r){return r===void 0&&(r=document),typeof e=="string"?r.querySelector(e):JNe(e)?e:null}});var bn=h(function(jpt,N4){function U4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U4(Object(r),!0).forEach(function(n){j4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j4(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ZNe(t,e,r){return e&&M4(t.prototype,e),r&&M4(t,r),t}var e8e=cP();N4.exports=function(){function t(e,r){QNe(this,t),r===void 0&&(r={}),this.uppy=e,this.opts=r}return ZNe(t,[{key:"getPluginState",value:function(){var r=this.uppy.getState(),n=r.plugins;return n[this.id]||{}}},{key:"setPluginState",value:function(r){var n=this.uppy.getState(),i=n.plugins;this.uppy.setState({plugins:gs(gs({},i),{},j4({},this.id,gs(gs({},i[this.id]),r)))})}},{key:"setOptions",value:function(r){this.opts=gs(gs({},this.opts),r),this.setPluginState(),this.i18nInit()}},{key:"i18nInit",value:function(){var r=new e8e([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.setPluginState()}},{key:"addTarget",value:function(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}},{key:"install",value:function(){}},{key:"uninstall",value:function(){}},{key:"render",value:function(){throw new Error("Extend the render method to add your plugin to a DOM element")}},{key:"update",value:function(){}},{key:"afterUpdate",value:function(){}}]),t}()});var W4=h(function(Mpt,$4){function If(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?If=function(r){return typeof r}:If=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},If(t)}function t8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r8e(t,e,r){return e&&B4(t.prototype,e),r&&B4(t,r),t}function n8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FP(t,e)}function FP(t,e){return FP=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},FP(t,e)}function i8e(t){var e=o8e();return function(){var n=Vv(t),i;if(e){var a=Vv(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return a8e(this,i)}}function a8e(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L4(t)}function L4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o8e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Vv(t){return Vv=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Vv(t)}function u8e(t){return f8e(t)||c8e(t)||l8e(t)||s8e()}function s8e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l8e(t,e){if(!!t){if(typeof t=="string")return CP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CP(t,e)}}function c8e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function f8e(t){if(Array.isArray(t))return CP(t)}function CP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function z4(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var p8e=0;function d8e(t){return"__private_"+p8e+++"_"+t}var h8e=(ee(),re(ne)),H4=h8e.render,v8e=xP(),y8e=bn();function m8e(t){var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=i,e||(e=Promise.resolve().then(function(){return e=null,t.apply(void 0,u8e(r))})),e}}var kf=d8e("updateUI"),g8e=function(t){n8e(r,t);var e=i8e(r);function r(){var n;return t8e(this,r),n=e.apply(this,arguments),Object.defineProperty(L4(n),kf,{writable:!0,value:void 0}),n}return r8e(r,[{key:"mount",value:function(i,a){var o=this,u=a.id,s=v8e(i);if(s){this.isTargetDOMEl=!0;var l=document.createDocumentFragment();return z4(this,kf)[kf]=m8e(function(d){!o.uppy.getPlugin(o.id)||(H4(o.render(d),l),o.afterUpdate())}),this.uppy.log("Installing ".concat(u," to a DOM element '").concat(i,"'")),this.opts.replaceTargetContent&&(s.innerHTML=""),H4(this.render(this.uppy.getState()),l),this.el=l.firstElementChild,s.appendChild(l),this.onMount(),this.el}var c;if(If(i)==="object"&&i instanceof r)c=i;else if(typeof i=="function"){var f=i;this.uppy.iteratePlugins(function(d){if(d instanceof f)return c=d,!1})}if(c)return this.uppy.log("Installing ".concat(u," to ").concat(c.id)),this.parent=c,this.el=c.addTarget(a),this.onMount(),this.el;this.uppy.log("Not installing ".concat(u));var p="Invalid target option given to ".concat(u,".");throw typeof i=="function"?p+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":p+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(p)}},{key:"update",value:function(i){if(this.el!=null){var a,o;(a=(o=z4(this,kf))[kf])==null||a.call(o,i)}}},{key:"unmount",value:function(){if(this.isTargetDOMEl){var i;(i=this.el)==null||i.remove()}this.onUnmount()}},{key:"onMount",value:function(){}},{key:"onUnmount",value:function(){}}]),r}(y8e);$4.exports=g8e});var tt=h(function(Npt,bs){"use strict";var V4=p4(),b8e=W4(),_8e=bn(),w8e=_P(),S8e=w8e.debugLogger;bs.exports=V4;bs.exports.Uppy=V4;bs.exports.UIPlugin=b8e;bs.exports.BasePlugin=_8e;bs.exports.debugLogger=S8e});var _s=h(function(Bpt,K4){function Gv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gv=function(r){return typeof r}:Gv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gv(t)}function O8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xf(t,e)}function q8e(t){var e=G4();return function(){var n=Ff(t),i;if(e){var a=Ff(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return R8e(this,i)}}function R8e(t,e){if(e&&(Gv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E8e(t)}function E8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DP(t){var e=typeof Map=="function"?new Map:void 0;return DP=function(n){if(n===null||!T8e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Kv(n,arguments,Ff(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),xf(i,n)},DP(t)}function Kv(t,e,r){return G4()?Kv=Reflect.construct:Kv=function(i,a,o){var u=[null];u.push.apply(u,a);var s=Function.bind.apply(i,u),l=new s;return o&&xf(l,o.prototype),l},Kv.apply(null,arguments)}function G4(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function T8e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function xf(t,e){return xf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},xf(t,e)}function Ff(t){return Ff=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ff(t)}var A8e=function(t){P8e(r,t);var e=q8e(r);function r(n,i){var a;return O8e(this,r),i===void 0&&(i=null),a=e.call(this,"This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),a.cause=n,a.isNetworkError=!0,a.request=i,a}return r}(DP(Error));K4.exports=A8e});var Yv=h(function(Lpt,Y4){var I8e=_s();Y4.exports=function(){return fetch.apply(void 0,arguments).catch(function(e){throw e.name==="AbortError"?e:new I8e(e)})}});var Uf=h(function(zpt,J4){function Xv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xv=function(r){return typeof r}:Xv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xv(t)}function k8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cf(t,e)}function F8e(t){var e=X4();return function(){var n=Df(t),i;if(e){var a=Df(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return C8e(this,i)}}function C8e(t,e){if(e&&(Xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D8e(t)}function D8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UP(t){var e=typeof Map=="function"?new Map:void 0;return UP=function(n){if(n===null||!U8e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Jv(n,arguments,Df(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Cf(i,n)},UP(t)}function Jv(t,e,r){return X4()?Jv=Reflect.construct:Jv=function(i,a,o){var u=[null];u.push.apply(u,a);var s=Function.bind.apply(i,u),l=new s;return o&&Cf(l,o.prototype),l},Jv.apply(null,arguments)}function X4(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function U8e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Cf(t,e){return Cf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Cf(t,e)}function Df(t){return Df=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(t)}var j8e=vs(),M8e=function(t){x8e(r,t);var e=F8e(r);function r(n,i){var a;return k8e(this,r),i===void 0&&(i={}),a=e.call(this,n),a.cause=i.cause,a.cause&&j8e(a.cause,"isNetworkError")&&(a.isNetworkError=a.cause.isNetworkError),a}return r}(UP(Error));J4.exports=M8e});var eL=h(function(Hpt,Z4){"use strict";function Qv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qv=function(r){return typeof r}:Qv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qv(t)}function N8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jf(t,e)}function L8e(t){var e=Q4();return function(){var n=Mf(t),i;if(e){var a=Mf(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return z8e(this,i)}}function z8e(t,e){if(e&&(Qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H8e(t)}function H8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jP(t){var e=typeof Map=="function"?new Map:void 0;return jP=function(n){if(n===null||!$8e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Zv(n,arguments,Mf(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),jf(i,n)},jP(t)}function Zv(t,e,r){return Q4()?Zv=Reflect.construct:Zv=function(i,a,o){var u=[null];u.push.apply(u,a);var s=Function.bind.apply(i,u),l=new s;return o&&jf(l,o.prototype),l},Zv.apply(null,arguments)}function Q4(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function $8e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function jf(t,e){return jf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},jf(t,e)}function Mf(t){return Mf=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Mf(t)}var W8e=function(t){B8e(r,t);var e=L8e(r);function r(){var n;return N8e(this,r),n=e.call(this,"Authorization required"),n.name="AuthError",n.isAuthError=!0,n}return r}(jP(Error));Z4.exports=W8e});var ry=h(function($pt,uL){"use strict";function V8e(t,e){return X8e(t)||Y8e(t,e)||K8e(t,e)||G8e()}function G8e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function K8e(t,e){if(!!t){if(typeof t=="string")return tL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tL(t,e)}}function tL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Y8e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function X8e(t){if(Array.isArray(t))return t}function rL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ey(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(r),!0).forEach(function(n){nL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nL(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Q8e(t,e,r){return e&&iL(t.prototype,e),r&&iL(t,r),t}function aL(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function Z8e(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){aL(a,n,i,o,u,"next",s)}function u(s){aL(a,n,i,o,u,"throw",s)}o(void 0)})}}var ty,Ra,zn,Ea,oL;function Hn(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var eBe=0;function MP(t){return"__private_"+eBe+++"_"+t}var NP=Yv(),tBe=Uf(),rBe=eL();function nBe(t){return t.replace(/\/$/,"")}function BP(t){return LP.apply(this,arguments)}function LP(){return LP=Z8e(regeneratorRuntime.mark(function t(e){var r,n,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(e.status!==401){o.next=2;break}throw new rBe;case 2:if(r=e.json(),!(e.status<200||e.status>300)){o.next=14;break}return n="Failed request with status: ".concat(e.status,". ").concat(e.statusText),o.prev=5,o.next=8,r;case 8:i=o.sent,n=i.message?"".concat(n," message: ").concat(i.message):n,n=i.requestId?"".concat(n," request-Id: ").concat(i.requestId):n;case 11:throw o.prev=11,new Error(n);case 14:return o.abrupt("return",r);case 15:case"end":return o.stop()}},t,null,[[5,,11,14]])})),LP.apply(this,arguments)}uL.exports=(oL=(Ra=MP("getPostResponseFunc"),zn=MP("getUrl"),Ea=MP("errorHandler"),ty=function(){function t(e,r){var n=this;J8e(this,t),Object.defineProperty(this,Ea,{value:aBe}),Object.defineProperty(this,zn,{value:iBe}),Object.defineProperty(this,Ra,{writable:!0,value:function(a){return function(o){return a?o:n.onReceiveResponse(o)}}}),this.uppy=e,this.opts=r,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1}return Q8e(t,[{key:"hostname",get:function(){var r=this.uppy.getState(),n=r.companion,i=this.opts.companionUrl;return nBe(n&&n[i]?n[i]:i)}},{key:"headers",value:function(){var r=this.opts.companionHeaders||{};return Promise.resolve(ey(ey({},t.defaultHeaders),r))}},{key:"onReceiveResponse",value:function(r){var n=this.uppy.getState(),i=n.companion||{},a=this.opts.companionUrl,o=r.headers;return o.has("i-am")&&o.get("i-am")!==i[a]&&this.uppy.setState({companion:ey(ey({},i),{},nL({},a,o.get("i-am")))}),r}},{key:"preflight",value:function(r){var n=this;return this.preflightDone?Promise.resolve(this.allowedHeaders.slice()):fetch(Hn(this,zn)[zn](r),{method:"OPTIONS"}).then(function(i){return i.headers.has("access-control-allow-headers")&&(n.allowedHeaders=i.headers.get("access-control-allow-headers").split(",").map(function(a){return a.trim().toLowerCase()})),n.preflightDone=!0,n.allowedHeaders.slice()}).catch(function(i){return n.uppy.log("[CompanionClient] unable to make preflight request ".concat(i),"warning"),n.preflightDone=!0,n.allowedHeaders.slice()})}},{key:"preflightAndHeaders",value:function(r){var n=this;return Promise.all([this.preflight(r),this.headers()]).then(function(i){var a=V8e(i,2),o=a[0],u=a[1];return Object.keys(u).forEach(function(s){o.includes(s.toLowerCase())||(n.uppy.log("[CompanionClient] excluding disallowed header ".concat(s)),delete u[s])}),u})}},{key:"get",value:function(r,n){var i=this,a="get";return this.preflightAndHeaders(r).then(function(o){return NP(Hn(i,zn)[zn](r),{method:a,headers:o,credentials:i.opts.companionCookiesRule||"same-origin"})}).then(Hn(this,Ra)[Ra](n)).then(BP).catch(Hn(this,Ea)[Ea](a,r))}},{key:"post",value:function(r,n,i){var a=this,o="post";return this.preflightAndHeaders(r).then(function(u){return NP(Hn(a,zn)[zn](r),{method:o,headers:u,credentials:a.opts.companionCookiesRule||"same-origin",body:JSON.stringify(n)})}).then(Hn(this,Ra)[Ra](i)).then(BP).catch(Hn(this,Ea)[Ea](o,r))}},{key:"delete",value:function(r,n,i){var a=this,o="delete";return this.preflightAndHeaders(r).then(function(u){return NP("".concat(a.hostname,"/").concat(r),{method:o,headers:u,credentials:a.opts.companionCookiesRule||"same-origin",body:n?JSON.stringify(n):null})}).then(Hn(this,Ra)[Ra](i)).then(BP).catch(Hn(this,Ea)[Ea](o,r))}}]),t}()),ty.VERSION="2.0.6",ty.defaultHeaders={Accept:"application/json","Content-Type":"application/json","Uppy-Versions":"@uppy/companion-client=".concat(ty.VERSION)},oL);function iBe(t){return/^(https?:|)\/\//.test(t)?t:"".concat(this.hostname,"/").concat(t)}function aBe(t,e){var r=this;return function(n){var i;return(i=n)!=null&&i.isAuthError||(n=new tBe("Could not ".concat(t," ").concat(Hn(r,zn)[zn](e)),{cause:n})),Promise.reject(n)}}});var sL=h(function(Wpt,ny){"use strict";ny.exports.setItem=function(t,e){return new Promise(function(r){localStorage.setItem(t,e),r()})};ny.exports.getItem=function(t){return Promise.resolve(localStorage.getItem(t))};ny.exports.removeItem=function(t){return new Promise(function(e){localStorage.removeItem(t),e()})}});var yL=h(function(Vpt,vL){"use strict";function iy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?iy=function(r){return typeof r}:iy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},iy(t)}function lL(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function cL(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){lL(a,n,i,o,u,"next",s)}function u(s){lL(a,n,i,o,u,"throw",s)}o(void 0)})}}function fL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ay(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fL(Object(r),!0).forEach(function(n){oBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oBe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pL(t,e){return cBe(t)||lBe(t,e)||sBe(t,e)||uBe()}function uBe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function sBe(t,e){if(!!t){if(typeof t=="string")return dL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dL(t,e)}}function dL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lBe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function cBe(t){if(Array.isArray(t))return t}function fBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pBe(t,e,r){return e&&hL(t.prototype,e),r&&hL(t,r),t}function Nf(){return typeof Reflect!="undefined"&&Reflect.get?Nf=Reflect.get:Nf=function(e,r,n){var i=dBe(e,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},Nf.apply(this,arguments)}function dBe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=No(t),t!==null););return t}function hBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zP(t,e)}function zP(t,e){return zP=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},zP(t,e)}function vBe(t){var e=gBe();return function(){var n=No(t),i;if(e){var a=No(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return yBe(this,i)}}function yBe(t,e){if(e&&(iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mBe(t)}function mBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gBe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function No(t){return No=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},No(t)}var bBe=ry(),_Be=sL(),wBe=function(e){return e.split("-").map(function(r){return r.charAt(0).toUpperCase()+r.slice(1)}).join(" ")};vL.exports=function(t){hBe(r,t);var e=vBe(r);function r(n,i){var a;return fBe(this,r),a=e.call(this,n,i),a.provider=i.provider,a.id=a.provider,a.name=a.opts.name||wBe(a.id),a.pluginId=a.opts.pluginId,a.tokenKey="companion-".concat(a.pluginId,"-auth-token"),a.companionKeysParams=a.opts.companionKeysParams,a.preAuthToken=null,a}return pBe(r,[{key:"headers",value:function(){var i=this;return Promise.all([Nf(No(r.prototype),"headers",this).call(this),this.getAuthToken()]).then(function(a){var o=pL(a,2),u=o[0],s=o[1],l={};return s&&(l["uppy-auth-token"]=s),i.companionKeysParams&&(l["uppy-credentials-params"]=btoa(JSON.stringify({params:i.companionKeysParams}))),ay(ay({},u),l)})}},{key:"onReceiveResponse",value:function(i){i=Nf(No(r.prototype),"onReceiveResponse",this).call(this,i);var a=this.uppy.getPlugin(this.pluginId),o=a.getPluginState().authenticated,u=o?i.status!==401:i.status<400;return a.setPluginState({authenticated:u}),i}},{key:"setAuthToken",value:function(i){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,i)}},{key:"getAuthToken",value:function(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)}},{key:"ensurePreAuth",value:function(){var n=cL(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(this.companionKeysParams&&!this.preAuthToken)){u.next=5;break}return u.next=3,this.fetchPreAuthToken();case 3:if(this.preAuthToken){u.next=5;break}throw new Error("Could not load authentication data required for third-party login. Please try again later.");case 5:case"end":return u.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"authUrl",value:function(i){i===void 0&&(i={});var a=new URLSearchParams(i);return this.preAuthToken&&a.set("uppyPreAuthToken",this.preAuthToken),"".concat(this.hostname,"/").concat(this.id,"/connect?").concat(a)}},{key:"fileUrl",value:function(i){return"".concat(this.hostname,"/").concat(this.id,"/get/").concat(i)}},{key:"fetchPreAuthToken",value:function(){var n=cL(regeneratorRuntime.mark(function a(){var o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(this.companionKeysParams){s.next=2;break}return s.abrupt("return");case 2:return s.prev=2,s.next=5,this.post("".concat(this.id,"/preauth/"),{params:this.companionKeysParams});case 5:o=s.sent,this.preAuthToken=o.token,s.next=12;break;case 9:s.prev=9,s.t0=s.catch(2),this.uppy.log("[CompanionClient] unable to fetch preAuthToken ".concat(s.t0),"warning");case 12:case"end":return s.stop()}},a,this,[[2,9]])}));function i(){return n.apply(this,arguments)}return i}()},{key:"list",value:function(i){return this.get("".concat(this.id,"/list/").concat(i||""))}},{key:"logout",value:function(){var i=this;return this.get("".concat(this.id,"/logout")).then(function(a){return Promise.all([a,i.uppy.getPlugin(i.pluginId).storage.removeItem(i.tokenKey)])}).then(function(a){var o=pL(a,1),u=o[0];return u})}}],[{key:"initPlugin",value:function(i,a,o){if(i.type="acquirer",i.files=[],o&&(i.opts=ay(ay({},o),a)),a.serverUrl||a.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(a.companionAllowedHosts){var u=a.companionAllowedHosts;if(typeof u!="string"&&!Array.isArray(u)&&!(u instanceof RegExp))throw new TypeError("".concat(i.id,': the option "companionAllowedHosts" must be one of string, Array, RegExp'));i.opts.companionAllowedHosts=u}else/^(?!https?:\/\/).*$/i.test(a.companionUrl)?i.opts.companionAllowedHosts="https://".concat(a.companionUrl.replace(/^\/\//,"")):i.opts.companionAllowedHosts=new URL(a.companionUrl).origin;i.storage=i.opts.storage||_Be}}]),r}(bBe)});var bL=h(function(Gpt,gL){"use strict";function oy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oy=function(r){return typeof r}:oy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},oy(t)}function SBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function OBe(t,e,r){return e&&mL(t.prototype,e),r&&mL(t,r),t}function PBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&HP(t,e)}function HP(t,e){return HP=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},HP(t,e)}function qBe(t){var e=TBe();return function(){var n=uy(t),i;if(e){var a=uy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return RBe(this,i)}}function RBe(t,e){if(e&&(oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EBe(t)}function EBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TBe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function uy(t){return uy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},uy(t)}var ABe=ry(),IBe=function(e){return e.split("-").map(function(r){return r.charAt(0).toUpperCase()+r.slice(1)}).join(" ")};gL.exports=function(t){PBe(r,t);var e=qBe(r);function r(n,i){var a;return SBe(this,r),a=e.call(this,n,i),a.provider=i.provider,a.id=a.provider,a.name=a.opts.name||IBe(a.id),a.pluginId=a.opts.pluginId,a}return OBe(r,[{key:"fileUrl",value:function(i){return"".concat(this.hostname,"/search/").concat(this.id,"/get/").concat(i)}},{key:"search",value:function(i,a){return a=a?"&".concat(a):"",this.get("search/".concat(this.id,"/list?q=").concat(encodeURIComponent(i)).concat(a))}}]),r}(ABe)});var PL=h(function(Kpt,OL){function kBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xBe(t,e,r){return e&&_L(t.prototype,e),r&&_L(t,r),t}var $n,Ta,Hr,Vt,sy,wL,SL;function vt(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var FBe=0;function Bf(t){return"__private_"+FBe+++"_"+t}var CBe=fP();OL.exports=($n=Bf("queued"),Ta=Bf("emitter"),Hr=Bf("isOpen"),Vt=Bf("socket"),sy=Bf("handleMessage"),wL=Symbol.for("uppy test: getSocket"),SL=Symbol.for("uppy test: getQueued"),function(t,e){function r(n){var i=this;kBe(this,r),Object.defineProperty(this,$n,{writable:!0,value:[]}),Object.defineProperty(this,Ta,{writable:!0,value:CBe()}),Object.defineProperty(this,Hr,{writable:!0,value:!1}),Object.defineProperty(this,Vt,{writable:!0,value:void 0}),Object.defineProperty(this,sy,{writable:!0,value:function(o){try{var u=JSON.parse(o.data);i.emit(u.action,u.payload)}catch(s){console.log(s)}}}),this.opts=n,(!n||n.autoOpen!==!1)&&this.open()}return xBe(r,[{key:"isOpen",get:function(){return vt(this,Hr)[Hr]}},{key:t,value:function(){return vt(this,Vt)[Vt]}},{key:e,value:function(){return vt(this,$n)[$n]}},{key:"open",value:function(){var i=this;vt(this,Vt)[Vt]=new WebSocket(this.opts.target),vt(this,Vt)[Vt].onopen=function(){for(vt(i,Hr)[Hr]=!0;vt(i,$n)[$n].length>0&&vt(i,Hr)[Hr];){var a=vt(i,$n)[$n].shift();i.send(a.action,a.payload)}},vt(this,Vt)[Vt].onclose=function(){vt(i,Hr)[Hr]=!1},vt(this,Vt)[Vt].onmessage=vt(this,sy)[sy]}},{key:"close",value:function(){var i;(i=vt(this,Vt)[Vt])==null||i.close()}},{key:"send",value:function(i,a){if(!vt(this,Hr)[Hr]){vt(this,$n)[$n].push({action:i,payload:a});return}vt(this,Vt)[Vt].send(JSON.stringify({action:i,payload:a}))}},{key:"on",value:function(i,a){vt(this,Ta)[Ta].on(i,a)}},{key:"emit",value:function(i,a){vt(this,Ta)[Ta].emit(i,a)}},{key:"once",value:function(i,a){vt(this,Ta)[Ta].once(i,a)}}]),r}(wL,SL))});var tr=h(function(Ypt,qL){"use strict";var DBe=ry(),UBe=yL(),jBe=bL(),MBe=PL();qL.exports={RequestClient:DBe,Provider:UBe,SearchProvider:jBe,Socket:MBe}});var EL=h(function(Xpt,RL){var NBe=(ee(),re(ne)),Gt=NBe.h;function BBe(){return Gt("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},Gt("g",{fill:"none","fill-rule":"evenodd"},Gt("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),Gt("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),Gt("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),Gt("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),Gt("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),Gt("path",{d:"M4 4h18v18H4z"})))}function LBe(t){var e=t.pluginName,r=t.pluginIcon,n=t.i18nArray,i=t.handleAuth,a=e==="Google Drive",o=Gt("span",{className:"uppy-Provider-authTitleName"},e,Gt("br",null));return Gt("div",{className:"uppy-Provider-auth"},Gt("div",{className:"uppy-Provider-authIcon"},r()),Gt("div",{className:"uppy-Provider-authTitle"},n("authenticateWithTitle",{pluginName:o})),a?Gt("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google",onClick:i,"data-uppy-super-focusable":!0},Gt(BBe,null),n("signInWithGoogle")):Gt("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onClick:i,"data-uppy-super-focusable":!0},n("authenticateWith",{pluginName:e})))}RL.exports=LBe});var IL=h(function(Jpt,AL){var zBe=(ee(),re(ne)),TL=zBe.h;AL.exports=function(t){return[TL("span",{className:"uppy-ProviderBrowser-user",key:"username"},t.username),TL("button",{type:"button",onClick:t.logout,className:"uppy-u-reset uppy-ProviderBrowser-userLogout",key:"logout"},t.i18n("logOut"))]}});var FL=h(function(Qpt,xL){var kL=(ee(),re(ne)),Lf=kL.h,HBe=kL.Fragment,$Be=function(e){var r=e.getFolder,n=e.title,i=e.isLast;return Lf(HBe,null,Lf("button",{type:"button",className:"uppy-u-reset",onClick:r},n),i?"":" / ")};xL.exports=function(t){var e=t.getFolder,r=t.title,n=t.breadcrumbsIcon,i=t.directories;return Lf("div",{className:"uppy-Provider-breadcrumbs"},Lf("div",{className:"uppy-Provider-breadcrumbsIcon"},n),i.map(function(a,o){return Lf($Be,{key:a.id,getFolder:function(){return e(a.id)},title:o===0?r:a.title,isLast:o+1===i.length})}))}});var DL=h(function(Zpt,CL){var WBe=IL(),VBe=FL();CL.exports=function(t){var e=[];return t.showBreadcrumbs&&e.push(VBe({getFolder:t.getFolder,directories:t.directories,breadcrumbsIcon:t.pluginIcon&&t.pluginIcon(),title:t.title})),e.push(WBe({logout:t.logout,username:t.username,i18n:t.i18n})),e}});var qr=h(function(edt,ly){function zf(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zf=function(r){return typeof r}:zf=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zf(t)}(function(){"use strict";var t={}.hasOwnProperty;function e(){for(var r=[],n=0;n<arguments.length;n++){var i=arguments[n];if(!!i){var a=zf(i);if(a==="string"||a==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var o=e.apply(null,i);o&&r.push(o)}}else if(a==="object")if(i.toString===Object.prototype.toString)for(var u in i)t.call(i,u)&&i[u]&&r.push(u);else r.push(i.toString())}}return r.join(" ")}typeof ly!="undefined"&&ly.exports?(e.default=e,ly.exports=e):typeof define=="function"&&zf(define.amd)==="object"&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()});var $P=h(function(tdt,ML){function UL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UL(Object(r),!0).forEach(function(n){GBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GBe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var KBe=mf();ML.exports=function(e){return jL(jL({},e),{},{type:e.mimeType,extension:e.name?KBe(e.name).extension:null})}});var HL=h(function(rdt,zL){function cy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cy=function(r){return typeof r}:cy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cy(t)}function YBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function XBe(t,e,r){return e&&NL(t.prototype,e),r&&NL(t,r),t}function JBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&WP(t,e)}function WP(t,e){return WP=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},WP(t,e)}function QBe(t){var e=e6e();return function(){var n=fy(t),i;if(e){var a=fy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return ZBe(this,i)}}function ZBe(t,e){if(e&&(cy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BL(t)}function BL(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e6e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function fy(t){return fy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},fy(t)}var LL=(ee(),re(ne)),Bo=LL.h,t6e=LL.Component;zL.exports=function(t){JBe(r,t);var e=QBe(r);function r(n){var i;return YBe(this,r),i=e.call(this,n),i.preventEnterPress=i.preventEnterPress.bind(BL(i)),i}return XBe(r,[{key:"preventEnterPress",value:function(i){i.keyCode===13&&(i.stopPropagation(),i.preventDefault())}},{key:"render",value:function(){var i=this;return Bo("div",{className:"uppy-ProviderBrowser-filter"},Bo("input",{className:"uppy-u-reset uppy-ProviderBrowser-filterInput",type:"text",placeholder:this.props.i18n("filter"),"aria-label":this.props.i18n("filter"),onKeyUp:this.preventEnterPress,onKeyDown:this.preventEnterPress,onKeyPress:this.preventEnterPress,onInput:function(o){return i.props.filterQuery(o)},value:this.props.filterInput}),Bo("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-filterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},Bo("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),this.props.filterInput&&Bo("button",{className:"uppy-u-reset uppy-ProviderBrowser-filterClose",type:"button","aria-label":this.props.i18n("resetFilter"),title:this.props.i18n("resetFilter"),onClick:this.props.filterQuery},Bo("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},Bo("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))))}}]),r}(t6e)});var WL=h(function(ndt,$L){var r6e=(ee(),re(ne)),VP=r6e.h;$L.exports=function(t){return VP("div",{className:"uppy-ProviderBrowser-footer"},VP("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:t.done,type:"button"},t.i18n("selectX",{smart_count:t.selected})),VP("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:t.cancel,type:"button"},t.i18n("cancel")))}});var GL=h(function(idt,VL){var n6e=(ee(),re(ne)),_n=n6e.h;function i6e(){return _n("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},_n("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}function a6e(){return _n("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},_n("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}function o6e(){return _n("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},_n("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),_n("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}VL.exports=function(t){if(t.itemIconString!==null)switch(t.itemIconString){case"file":return _n(i6e,null);case"folder":return _n(a6e,null);case"video":return _n(o6e,null);default:return _n("img",{src:t.itemIconString,alt:t.alt})}}});var YL=h(function(adt,KL){var u6e=(ee(),re(ne)),py=u6e.h;function s6e(t){var e=t.className,r=t.isDisabled,n=t.restrictionReason,i=t.isChecked,a=t.title,o=t.itemIconEl,u=t.showTitles,s=t.toggleCheckbox,l=t.id,c=t.children;return py("li",{className:e,title:r?n:null},py("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(i?"uppy-ProviderBrowserItem-checkbox--is-checked":""," uppy-ProviderBrowserItem-checkbox--grid"),onChange:s,name:"listitem",id:l,checked:i,disabled:r,"data-uppy-super-focusable":!0}),py("label",{htmlFor:l,"aria-label":a,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},py("span",{className:"uppy-ProviderBrowserItem-inner-relative"},o,u&&a,c)))}KL.exports=s6e});var JL=h(function(odt,XL){var l6e=(ee(),re(ne)),Lo=l6e.h;function c6e(t){var e=t.className,r=t.isDisabled,n=t.restrictionReason,i=t.isCheckboxDisabled,a=t.isChecked,o=t.toggleCheckbox,u=t.type,s=t.id,l=t.itemIconEl,c=t.title,f=t.handleFolderClick,p=t.showTitles,d=t.i18n;return Lo("li",{className:e,title:r?n:null},i?null:Lo("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox ".concat(a?"uppy-ProviderBrowserItem-checkbox--is-checked":""),onChange:o,name:"listitem",id:s,checked:a,"aria-label":u==="file"?null:d("allFilesFromFolderNamed",{name:c}),disabled:r,"data-uppy-super-focusable":!0}),u==="file"?Lo("label",{htmlFor:s,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},Lo("div",{className:"uppy-ProviderBrowserItem-iconWrap"},l),p&&c):Lo("button",{type:"button",className:"uppy-u-reset uppy-ProviderBrowserItem-inner",onClick:f,"aria-label":d("openFolderNamed",{name:c})},Lo("div",{className:"uppy-ProviderBrowserItem-iconWrap"},l),p&&Lo("span",null,c)))}XL.exports=c6e});var e9=h(function(udt,ZL){function Hf(){return Hf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hf.apply(this,arguments)}var f6e=(ee(),re(ne)),$f=f6e.h,p6e=qr(),d6e=GL(),QL=YL(),h6e=JL();ZL.exports=function(t){var e=t.author,r=t.getItemIcon(),n=p6e("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":t.isChecked},{"uppy-ProviderBrowserItem--disabled":t.isDisabled},{"uppy-ProviderBrowserItem--noPreview":r==="video"}),i=$f(d6e,{itemIconString:r});switch(t.viewType){case"grid":return $f(QL,Hf({},t,{className:n,itemIconEl:i}));case"list":return $f(h6e,Hf({},t,{className:n,itemIconEl:i}));case"unsplash":return $f(QL,Hf({},t,{className:n,itemIconEl:i}),$f("a",{href:"".concat(e.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author"},e.name));default:throw new Error("There is no such type ".concat(t.viewType))}}});var KP=h(function(sdt,i9){function t9(t){return g6e(t)||m6e(t)||y6e(t)||v6e()}function v6e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y6e(t,e){if(!!t){if(typeof t=="string")return GP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GP(t,e)}}function m6e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g6e(t){if(Array.isArray(t))return GP(t)}function GP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var b6e=(ee(),re(ne)),Aa=b6e.h,r9=qr(),_6e=$P(),w6e=HL(),S6e=WL(),n9=e9(),O6e="shared-with-me";function P6e(t){var e=t.currentSelection,r=t.folders,n=t.files,i=t.uppyFiles,a=t.viewType,o=t.headerComponent,u=t.showBreadcrumbs,s=t.isChecked,l=t.toggleCheckbox,c=t.handleScroll,f=t.showTitles,p=t.i18n,d=t.validateRestrictions,v=t.showFilter,g=t.filterQuery,m=t.filterInput,_=t.getNextFolder,S=t.cancel,q=t.done,A=t.columns,D=e.length;return Aa("div",{className:r9("uppy-ProviderBrowser","uppy-ProviderBrowser-viewType--".concat(a))},Aa("div",{className:"uppy-ProviderBrowser-header"},Aa("div",{className:r9("uppy-ProviderBrowser-headerBar",!u&&"uppy-ProviderBrowser-headerBar--simple")},o)),v&&Aa(w6e,{i18n:p,filterQuery:g,filterInput:m}),function(){return!r.length&&!n.length?Aa("div",{className:"uppy-Provider-empty"},t.i18n("noFilesFound")):Aa("div",{className:"uppy-ProviderBrowser-body"},Aa("ul",{className:"uppy-ProviderBrowser-list",onScroll:c,role:"listbox",tabIndex:"-1"},r.map(function(F){var $;return n9({columns:A,showTitles:f,viewType:a,i18n:p,id:F.id,title:F.name,getItemIcon:function(){return F.icon},isChecked:s(F),toggleCheckbox:function(R){return l(R,F)},type:"folder",isDisabled:($=s(F))==null?void 0:$.loading,isCheckboxDisabled:F.id===O6e,handleFolderClick:function(){return _(F)}})}),n.map(function(F){var $=d(_6e(F),[].concat(t9(i),t9(e)));return n9({id:F.id,title:F.name,author:F.author,getItemIcon:function(){return F.icon},isChecked:s(F),toggleCheckbox:function(R){return l(R,F)},columns:A,showTitles:f,viewType:a,i18n:p,type:"file",isDisabled:!$.result&&!s(F),restrictionReason:$.reason})})))}(),D>0&&Aa(S6e,{selected:D,done:q,cancel:S,i18n:p}))}i9.exports=P6e});var YP=h(function(ldt,o9){var q6e=(ee(),re(ne)),a9=q6e.h;o9.exports=function(t){return a9("div",{className:"uppy-Provider-loading"},a9("span",null,t.i18n("loading")))}});var JP=h(function(cdt,l9){function dy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dy=function(r){return typeof r}:dy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dy(t)}function R6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function E6e(t,e,r){return e&&u9(t.prototype,e),r&&u9(t,r),t}function T6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&XP(t,e)}function XP(t,e){return XP=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},XP(t,e)}function A6e(t){var e=x6e();return function(){var n=hy(t),i;if(e){var a=hy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return I6e(this,i)}}function I6e(t,e){if(e&&(dy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k6e(t)}function k6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x6e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function hy(t){return hy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},hy(t)}var s9=(ee(),re(ne)),F6e=s9.Component,C6e=s9.toChildArray;l9.exports=function(t){T6e(r,t);var e=A6e(r);function r(){return R6e(this,r),e.apply(this,arguments)}return E6e(r,[{key:"componentWillUnmount",value:function(){var i=this.props.onUnmount;i()}},{key:"render",value:function(){var i=this.props.children;return C6e(i)[0]}}]),r}(F6e)});var QP=h(function(fdt,c9){c9.exports=function(e){return e?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e):!1}});var h9=h(function(pdt,d9){function D6e(t){return M6e(t)||j6e(t)||f9(t)||U6e()}function U6e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j6e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function M6e(t){if(Array.isArray(t))return ZP(t)}function N6e(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=f9(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function f9(t,e){if(!!t){if(typeof t=="string")return ZP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZP(t,e)}}function ZP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function B6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function L6e(t,e,r){return e&&p9(t.prototype,e),r&&p9(t,r),t}var z6e=$P();d9.exports=function(){function t(e){B6e(this,t),this.plugin=e,this.filterItems=this.filterItems.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.isChecked=this.isChecked.bind(this),this.loaderWrapper=this.loaderWrapper.bind(this)}return L6e(t,[{key:"filterItems",value:function(r){var n=this.plugin.getPluginState();return!n.filterInput||n.filterInput===""?r:r.filter(function(i){return i.name.toLowerCase().indexOf(n.filterInput.toLowerCase())!==-1})}},{key:"toggleCheckbox",value:function(r,n){r.stopPropagation(),r.preventDefault(),r.currentTarget.focus();var i=this.plugin.getPluginState(),a=i.folders,o=i.files,u=this.filterItems(a.concat(o));if(this.lastCheckbox&&r.shiftKey){var s=u.indexOf(this.lastCheckbox),l=u.indexOf(n),c=s<l?u.slice(s,l+1):u.slice(l,s+1),f=[],p=N6e(c),d;try{for(p.s();!(d=p.n()).done;){var v=d.value,g=this.plugin.uppy,m=g.validateRestrictions(z6e(v),[].concat(D6e(g.getFiles()),f));m.result?f.push(v):g.info({message:m.reason},"error",g.opts.infoTimeout)}}catch(q){p.e(q)}finally{p.f()}this.plugin.setPluginState({currentSelection:f});return}this.lastCheckbox=n;var _=this.plugin.getPluginState(),S=_.currentSelection;this.isChecked(n)?this.plugin.setPluginState({currentSelection:S.filter(function(q){return q.id!==n.id})}):this.plugin.setPluginState({currentSelection:S.concat([n])})}},{key:"isChecked",value:function(r){var n=this.plugin.getPluginState(),i=n.currentSelection;return i.some(function(a){return a.id===r.id})}},{key:"loaderWrapper",value:function(r,n,i){var a=this;r.then(function(o){a.plugin.setPluginState({loading:!1}),n(o)}).catch(function(o){a.plugin.setPluginState({loading:!1}),i(o)}),this.plugin.setPluginState({loading:!0})}}]),t}()});var eq=h(function(ddt,y9){function H6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $6e(t,e,r){return e&&v9(t.prototype,e),r&&v9(t,r),t}var W6e=mP(),V6e=QP(),G6e=gP(),K6e=h9();y9.exports=function(){function t(e,r){H6e(this,t),this.plugin=e,this.provider=r.provider,this.sharedHandler=new K6e(e),this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.addFile=this.addFile.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)}return $6e(t,[{key:"providerFileToId",value:function(r){return G6e({data:r,name:r.name||r.id,type:r.mimetype})}},{key:"preFirstRender",value:function(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()}},{key:"shouldHandleScroll",value:function(r){var n=r.target,i=n.scrollHeight,a=n.scrollTop,o=n.offsetHeight,u=i-(a+o);return u<50&&!this.isHandlingScroll}},{key:"clearSelection",value:function(){this.plugin.setPluginState({currentSelection:[]})}},{key:"cancelPicking",value:function(){this.clearSelection();var r=this.plugin.uppy.getPlugin("Dashboard");r&&r.hideAllPanels()}},{key:"handleError",value:function(r){var n=this.plugin.uppy,i=n.i18n("companionError");n.log(r.toString()),!r.isAuthError&&n.info({message:i,details:r.toString()},"error",5e3)}},{key:"addFile",value:function(r){var n={id:this.providerFileToId(r),source:this.plugin.id,data:r,name:r.name||r.id,type:r.mimeType,isRemote:!0,meta:{},body:{fileId:r.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:"".concat(this.provider.fileUrl(r.requestPath)),body:{fileId:r.id},providerOptions:this.provider.opts,providerName:this.provider.name}},i=W6e(n);i&&V6e(i)&&(n.preview=r.thumbnail),r.author&&(r.author.name!=null&&(n.meta.authorName=String(r.author.name)),r.author.url&&(n.meta.authorUrl=r.author.url)),this.plugin.uppy.log("Adding remote file");try{return this.plugin.uppy.addFile(n),!0}catch(a){return a.isRestriction||this.plugin.uppy.log(a),!1}}}]),t}()});var q9=h(function(hdt,P9){function vy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vy=function(r){return typeof r}:vy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vy(t)}function m9(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function g9(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){m9(a,n,i,o,u,"next",s)}function u(s){m9(a,n,i,o,u,"throw",s)}o(void 0)})}}function b9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b9(Object(r),!0).forEach(function(n){Y6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y6e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function J6e(t,e,r){return e&&_9(t.prototype,e),r&&_9(t,r),t}function Q6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tq(t,e)}function tq(t,e){return tq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},tq(t,e)}function Z6e(t){var e=t4e();return function(){var n=yy(t),i;if(e){var a=yy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return e4e(this,i)}}function e4e(t,e){if(e&&(vy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $r(t)}function $r(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t4e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function yy(t){return yy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},yy(t)}var w9,ws,my,S9;function rq(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var r4e=0;function O9(t){return"__private_"+r4e+++"_"+t}var n4e=(ee(),re(ne)),Ss=n4e.h,i4e=EL(),a4e=DL(),o4e=KP(),u4e=YP(),nq=JP(),s4e=eq();function l4e(){return location.origin}P9.exports=(S9=(ws=O9("updateFilesAndFolders"),my=O9("isOriginAllowed"),w9=function(t){Q6e(r,t);var e=Z6e(r);function r(n,i){var a;X6e(this,r),a=e.call(this,n,i),Object.defineProperty($r(a),my,{value:f4e}),Object.defineProperty($r(a),ws,{value:c4e});var o={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0};return a.opts=Fi(Fi({},o),i),a.filterQuery=a.filterQuery.bind($r(a)),a.getFolder=a.getFolder.bind($r(a)),a.getNextFolder=a.getNextFolder.bind($r(a)),a.logout=a.logout.bind($r(a)),a.handleAuth=a.handleAuth.bind($r(a)),a.handleScroll=a.handleScroll.bind($r(a)),a.listAllFiles=a.listAllFiles.bind($r(a)),a.donePicking=a.donePicking.bind($r(a)),a.render=a.render.bind($r(a)),a.plugin.setPluginState({authenticated:!1,files:[],folders:[],directories:[],filterInput:"",isSearchVisible:!1,currentSelection:[]}),a}return J6e(r,[{key:"tearDown",value:function(){}},{key:"getFolder",value:function(i,a){var o=this;return this.sharedHandler.loaderWrapper(this.provider.list(i),function(u){var s=[],l=[],c,f=o.plugin.getPluginState(),p=f.directories.findIndex(function(d){return i===d.id});p!==-1?c=f.directories.slice(0,p+1):c=f.directories.concat([{id:i,title:a}]),o.username=u.username||o.username,rq(o,ws)[ws](u,l,s),o.plugin.setPluginState({directories:c})},this.handleError)}},{key:"getNextFolder",value:function(i){this.getFolder(i.requestPath,i.name),this.lastCheckbox=void 0}},{key:"logout",value:function(){var i=this;this.provider.logout().then(function(a){if(a.ok){if(!a.revoked){var o=i.plugin.uppy.i18n("companionUnauthorizeHint",{provider:i.plugin.title,url:a.manual_revoke_url});i.plugin.uppy.info(o,"info",7e3)}var u={authenticated:!1,files:[],folders:[],directories:[]};i.plugin.setPluginState(u)}}).catch(this.handleError)}},{key:"filterQuery",value:function(i){var a=this.plugin.getPluginState();this.plugin.setPluginState(Fi(Fi({},a),{},{filterInput:i?i.target.value:""}))}},{key:"addFolder",value:function(i){var a=this,o=this.providerFileToId(i),u=this.plugin.getPluginState(),s=Fi({},u.selectedFolders);if(!(o in s&&s[o].loading))return s[o]={loading:!0,files:[]},this.plugin.setPluginState({selectedFolders:Fi({},s)}),this.listAllFiles(i.requestPath).then(function(l){var c=0;l.forEach(function(d){var v=a.providerFileToId(d);a.plugin.uppy.checkIfFileAlreadyExists(v)||c++}),c>0&&l.forEach(function(d){return a.addFile(d)});var f=l.map(a.providerFileToId);s[o]={loading:!1,files:f},a.plugin.setPluginState({selectedFolders:s});var p;c===0?p=a.plugin.uppy.i18n("folderAlreadyAdded",{folder:i.name}):l.length?p=a.plugin.uppy.i18n("folderAdded",{smart_count:c,folder:i.name}):p=a.plugin.uppy.i18n("emptyFolderAdded"),a.plugin.uppy.info(p)}).catch(function(l){var c=a.plugin.getPluginState(),f=Fi({},c.selectedFolders);delete f[o],a.plugin.setPluginState({selectedFolders:f}),a.handleError(l)})}},{key:"handleAuth",value:function(){var n=g9(regeneratorRuntime.mark(function a(){var o=this,u,s,l,c,f;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this.provider.ensurePreAuth();case 2:u=btoa(JSON.stringify({origin:l4e()})),s="@uppy/provider-views=".concat(r.VERSION),l=this.provider.authUrl({state:u,uppyVersions:s}),c=window.open(l,"_blank"),f=function v(g){if(!rq(o,my)[my](g.origin,o.plugin.opts.companionAllowedHosts)||g.source!==c){o.plugin.uppy.log("rejecting event from ".concat(g.origin," vs allowed pattern ").concat(o.plugin.opts.companionAllowedHosts));return}var m=typeof g.data=="string"?JSON.parse(g.data):g.data;if(m.error){o.plugin.uppy.log("auth aborted");var _=o.plugin.uppy,S=_.i18n("authAborted");_.info({message:S},"warning",5e3);return}if(!m.token){o.plugin.uppy.log("did not receive token from auth window");return}c.close(),window.removeEventListener("message",v),o.provider.setAuthToken(m.token),o.preFirstRender()},window.addEventListener("message",f);case 8:case"end":return d.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"handleScroll",value:function(){var n=g9(regeneratorRuntime.mark(function a(o){var u,s,l,c,f;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(u=this.nextPagePath||null,!(this.shouldHandleScroll(o)&&u)){d.next=17;break}return this.isHandlingScroll=!0,d.prev=3,d.next=6,this.provider.list(u);case 6:s=d.sent,l=this.plugin.getPluginState(),c=l.files,f=l.folders,rq(this,ws)[ws](s,c,f),d.next=14;break;case 11:d.prev=11,d.t0=d.catch(3),this.handleError(d.t0);case 14:return d.prev=14,this.isHandlingScroll=!1,d.finish(14);case 17:case"end":return d.stop()}},a,this,[[3,11,14,17]])}));function i(a){return n.apply(this,arguments)}return i}()},{key:"listAllFiles",value:function(i,a){var o=this;return a===void 0&&(a=null),a=a||[],new Promise(function(u,s){o.provider.list(i).then(function(l){l.items.forEach(function(f){f.isFolder?o.addFolder(f):a.push(f)});var c=l.nextPagePath||null;return c?o.listAllFiles(c,a).then(function(f){return u(f)}).catch(function(f){return s(f)}):u(a)}).catch(function(l){return s(l)})})}},{key:"donePicking",value:function(){var i=this,a=this.plugin.getPluginState(),o=a.currentSelection,u=o.map(function(s){return s.isFolder?i.addFolder(s):i.addFile(s)});this.sharedHandler.loaderWrapper(Promise.all(u),function(){i.clearSelection()},function(){})}},{key:"render",value:function(i,a){var o=this;a===void 0&&(a={});var u=this.plugin.getPluginState(),s=u.authenticated,l=u.didFirstRender;l||this.preFirstRender();var c=Fi(Fi({},this.opts),a),f=this.plugin.getPluginState(),p=f.files,d=f.folders,v=f.filterInput,g=f.loading,m=f.currentSelection,_=this.sharedHandler,S=_.isChecked,q=_.toggleCheckbox,A=_.filterItems,D=v!=="",F={showBreadcrumbs:c.showBreadcrumbs,getFolder:this.getFolder,directories:this.plugin.getPluginState().directories,pluginIcon:this.plugin.icon,title:this.plugin.title,logout:this.logout,username:this.username,i18n:this.plugin.uppy.i18n},$={isChecked:S,toggleCheckbox:q,currentSelection:m,files:D?A(p):p,folders:D?A(d):d,username:this.username,getNextFolder:this.getNextFolder,getFolder:this.getFolder,filterItems:this.sharedHandler.filterItems,filterQuery:this.filterQuery,logout:this.logout,handleScroll:this.handleScroll,listAllFiles:this.listAllFiles,done:this.donePicking,cancel:this.cancelPicking,headerComponent:a4e(F),title:this.plugin.title,viewType:c.viewType,showTitles:c.showTitles,showFilter:c.showFilter,showBreadcrumbs:c.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){var R;return(R=o.plugin.uppy).validateRestrictions.apply(R,arguments)}};return g?Ss(nq,{onUnmount:this.clearSelection},Ss(u4e,{i18n:this.plugin.uppy.i18n})):s?Ss(nq,{onUnmount:this.clearSelection},Ss(o4e,$)):Ss(nq,{onUnmount:this.clearSelection},Ss(i4e,{pluginName:this.plugin.title,pluginIcon:this.plugin.icon,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18n,i18nArray:this.plugin.uppy.i18nArray}))}}]),r}(s4e)),w9.VERSION="2.0.8",S9);function c4e(t,e,r){this.nextPagePath=t.nextPagePath,t.items.forEach(function(n){n.isFolder?r.push(n):e.push(n)}),this.plugin.setPluginState({folders:r,files:e})}function f4e(t,e){var r=function(a){if(typeof a=="string")return new RegExp("^".concat(a,"$"));if(a instanceof RegExp)return a},n=Array.isArray(e)?e.map(r):[r(e)];return n.filter(function(i){return i!=null}).some(function(i){return i.test(t)||i.test("".concat(t,"/"))})}});var E9=h(function(vdt,R9){R9.exports=q9()});var A9=h(function(ydt,T9){var p4e=(ee(),re(ne)),iq=p4e.h;T9.exports=function(t){var e,r=function(a){a.keyCode===13&&n()},n=function(){e.value&&t.search(e.value)};return iq("div",{className:"uppy-SearchProvider"},iq("input",{className:"uppy-u-reset uppy-c-textInput uppy-SearchProvider-input",type:"search","aria-label":t.i18n("enterTextToSearch"),placeholder:t.i18n("enterTextToSearch"),onKeyUp:r,ref:function(a){e=a},"data-uppy-super-focusable":!0}),iq("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-SearchProvider-searchButton",type:"button",onClick:n},t.i18n("searchImages")))}});var k9=h(function(mdt,I9){var d4e=(ee(),re(ne)),gy=d4e.h,h4e=13;I9.exports=function(t){var e=t.searchTerm,r=t.i18n,n=t.search,i=function(o){o.keyCode===h4e&&(o.stopPropagation(),o.preventDefault(),n(o.target.value))};return gy("div",{class:"uppy-ProviderBrowser-search"},gy("input",{class:"uppy-u-reset uppy-ProviderBrowser-searchInput",type:"text",placeholder:r("search"),"aria-label":r("search"),value:e,onKeyUp:i,"data-uppy-super-focusable":!0}),gy("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon uppy-ProviderBrowser-searchIcon",width:"12",height:"12",viewBox:"0 0 12 12"},gy("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})))}});var N9=h(function(gdt,M9){function by(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?by=function(r){return typeof r}:by=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},by(t)}function x9(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function v4e(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){x9(a,n,i,o,u,"next",s)}function u(s){x9(a,n,i,o,u,"throw",s)}o(void 0)})}}function F9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _y(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F9(Object(r),!0).forEach(function(n){y4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y4e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function g4e(t,e,r){return e&&C9(t.prototype,e),r&&C9(t,r),t}function b4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aq(t,e)}function aq(t,e){return aq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},aq(t,e)}function _4e(t){var e=S4e();return function(){var n=wy(t),i;if(e){var a=wy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return w4e(this,i)}}function w4e(t,e){if(e&&(by(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ia(t)}function Ia(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S4e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function wy(t){return wy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},wy(t)}var D9,Os,U9;function j9(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var O4e=0;function P4e(t){return"__private_"+O4e+++"_"+t}var q4e=(ee(),re(ne)),Ps=q4e.h,R4e=A9(),E4e=KP(),T4e=YP(),A4e=k9(),oq=JP(),I4e=eq();M9.exports=(U9=(Os=P4e("updateFilesAndInputMode"),D9=function(t){b4e(r,t);var e=_4e(r);function r(n,i){var a;m4e(this,r),a=e.call(this,n,i),Object.defineProperty(Ia(a),Os,{value:k4e});var o={viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1};return a.opts=_y(_y({},o),i),a.search=a.search.bind(Ia(a)),a.triggerSearchInput=a.triggerSearchInput.bind(Ia(a)),a.addFile=a.addFile.bind(Ia(a)),a.handleScroll=a.handleScroll.bind(Ia(a)),a.donePicking=a.donePicking.bind(Ia(a)),a.render=a.render.bind(Ia(a)),a.plugin.setPluginState({isInputMode:!0,files:[],folders:[],directories:[],filterInput:"",currentSelection:[],searchTerm:null}),a}return g4e(r,[{key:"tearDown",value:function(){}},{key:"clearSelection",value:function(){this.plugin.setPluginState({currentSelection:[],isInputMode:!0,files:[],searchTerm:null})}},{key:"search",value:function(i){var a=this,o=this.plugin.getPluginState(),u=o.searchTerm;if(!(i&&i===u))return this.sharedHandler.loaderWrapper(this.provider.search(i),function(s){j9(a,Os)[Os](s,[])},this.handleError)}},{key:"triggerSearchInput",value:function(){this.plugin.setPluginState({isInputMode:!0})}},{key:"handleScroll",value:function(){var n=v4e(regeneratorRuntime.mark(function a(o){var u,s,l,c,f;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(u=this.nextPageQuery||null,!(this.shouldHandleScroll(o)&&u)){d.next=17;break}return this.isHandlingScroll=!0,d.prev=3,s=this.plugin.getPluginState(),l=s.files,c=s.searchTerm,d.next=7,this.provider.search(c,u);case 7:f=d.sent,j9(this,Os)[Os](f,l),d.next=14;break;case 11:d.prev=11,d.t0=d.catch(3),this.handleError(d.t0);case 14:return d.prev=14,this.isHandlingScroll=!1,d.finish(14);case 17:case"end":return d.stop()}},a,this,[[3,11,14,17]])}));function i(a){return n.apply(this,arguments)}return i}()},{key:"donePicking",value:function(){var i=this,a=this.plugin.getPluginState(),o=a.currentSelection,u=o.map(function(s){return i.addFile(s)});this.sharedHandler.loaderWrapper(Promise.all(u),function(){i.clearSelection()},function(){})}},{key:"render",value:function(i,a){var o=this;a===void 0&&(a={});var u=this.plugin.getPluginState(),s=u.didFirstRender,l=u.isInputMode,c=u.searchTerm;s||this.preFirstRender();var f=_y(_y({},this.opts),a),p=this.plugin.getPluginState(),d=p.files,v=p.folders,g=p.filterInput,m=p.loading,_=p.currentSelection,S=this.sharedHandler,q=S.isChecked,A=S.toggleCheckbox,D=S.filterItems,F=g!=="",$={isChecked:q,toggleCheckbox:A,currentSelection:_,files:F?D(d):d,folders:F?D(v):v,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:A4e({search:this.search,i18n:this.plugin.uppy.i18n,searchTerm:c}),title:this.plugin.title,viewType:f.viewType,showTitles:f.showTitles,showFilter:f.showFilter,showBreadcrumbs:f.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){var R;return(R=o.plugin.uppy).validateRestrictions.apply(R,arguments)}};return m?Ps(oq,{onUnmount:this.clearSelection},Ps(T4e,{i18n:this.plugin.uppy.i18n})):l?Ps(oq,{onUnmount:this.clearSelection},Ps(R4e,{search:this.search,i18n:this.plugin.uppy.i18n})):Ps(oq,{onUnmount:this.clearSelection},Ps(E4e,$))}}]),r}(I4e)),D9.VERSION="2.0.8",U9);function k4e(t,e){this.nextPageQuery=t.nextPageQuery,t.items.forEach(function(r){e.push(r)}),this.plugin.setPluginState({isInputMode:!1,files:e,searchTerm:t.searchedFor})}});var L9=h(function(bdt,B9){B9.exports=N9()});var Ci=h(function(_dt,z9){var x4e=E9(),F4e=L9();z9.exports={ProviderViews:x4e,SearchProviderViews:F4e}});var G9=h(function(wdt,qs){function H9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H9(Object(r),!0).forEach(function(n){$9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $9(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function D4e(t,e,r){return e&&W9(t.prototype,e),r&&W9(t,r),t}var V9;function Wn(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var U4e=0;function uq(t){return"__private_"+U4e+++"_"+t}var j4e=Co(),M4e=j4e.nanoid,sq="uppy/STATE_UPDATE",N4e=function(e){return function(r){return r.uppy[e]}},Di=uq("id"),Wf=uq("selector"),Ui=uq("store");V9=Symbol.for("uppy test: get id");var lq=function(t){function e(r){C4e(this,e),Object.defineProperty(this,Di,{writable:!0,value:void 0}),Object.defineProperty(this,Wf,{writable:!0,value:void 0}),Object.defineProperty(this,Ui,{writable:!0,value:void 0}),Wn(this,Ui)[Ui]=r.store,Wn(this,Di)[Di]=r.id||M4e(),Wn(this,Wf)[Wf]=r.selector||N4e(Wn(this,Di)[Di]),this.setState({})}return D4e(e,[{key:"setState",value:function(n){Wn(this,Ui)[Ui].dispatch({type:sq,id:Wn(this,Di)[Di],payload:n})}},{key:"getState",value:function(){return Wn(this,Wf)[Wf](Wn(this,Ui)[Ui].getState())}},{key:"subscribe",value:function(n){var i=this,a=this.getState();return Wn(this,Ui)[Ui].subscribe(function(){var o=i.getState();if(a!==o){var u=B4e(a,o);n(a,o,u),a=o}})}},{key:t,value:function(){return Wn(this,Di)[Di]}}]),e}(V9);lq.VERSION="2.0.3";function B4e(t,e){var r=Object.keys(e),n={};return r.forEach(function(i){t[i]!==e[i]&&(n[i]=e[i])}),n}function L4e(t,e){if(t===void 0&&(t={}),e.type===sq){var r=Sy(Sy({},t[e.id]),e.payload);return Sy(Sy({},t),{},$9({},e.id,r))}return t}function z4e(){return function(){return function(t){return function(e){t(e)}}}}qs.exports=lq;qs.exports.ReduxStore=lq;qs.exports.STATE_UPDATE=sq;qs.exports.reducer=L4e;qs.exports.middleware=z4e});var Y9=h(function(Sdt,K9){K9.exports=function(e){if(!e.bytesUploaded)return 0;var r=Date.now()-e.uploadStarted,n=e.bytesUploaded/(r/1e3);return n}});var J9=h(function(Odt,X9){X9.exports=function(e){return e.bytesTotal-e.bytesUploaded}});var cq=h(function(Pdt,Q9){function H4e(t){for(var e;t&&!t.dir;)t=t.parentNode;return(e=t)==null?void 0:e.dir}Q9.exports=H4e});var Oy=h(function(qdt,Z9){Z9.exports={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"}});var t7=h(function(Rdt,e7){e7.exports=function(e){for(var r=[],n,i,a=0,o=Object.values(e);a<o.length;a++){var u=o[a].progress,s=u.preprocess,l=u.postprocess;if(i==null&&(s||l)){var c=s||l;n=c.mode,i=c.message}(s==null?void 0:s.mode)==="determinate"&&r.push(s.value),(l==null?void 0:l.mode)==="determinate"&&r.push(l.value)}var f=r.reduce(function(p,d){return p+d/r.length},0);return{mode:n,message:i,value:f}}});var n7=h(function(Edt,r7){r7.exports=function(e){var r=Math.floor(e/3600)%24,n=Math.floor(e/60)%60,i=Math.floor(e%60);return{hours:r,minutes:n,seconds:i}}});var a7=h(function(Tdt,i7){var $4e=n7();i7.exports=function(e){var r=$4e(e),n=r.hours===0?"":"".concat(r.hours,"h"),i=r.minutes===0?"":"".concat(r.hours===0?r.minutes:" ".concat(r.minutes.toString(10).padStart(2,"0")),"m"),a=r.hours!==0?"":"".concat(r.minutes===0?r.seconds:" ".concat(r.seconds.toString(10).padStart(2,"0")),"s");return"".concat(n).concat(i).concat(a)}});var p7=h(function(Adt,f7){var o7=qr(),W4e=yf(),u7=Uv(),V4e=a7(),G4e=(ee(),re(ne)),me=G4e.h,K4e=Oy(),Y4e="\xB7",s7=function(){return" ".concat(Y4e," ")};function X4e(t){var e=t.newFiles,r=t.isUploadStarted,n=t.recoveredState,i=t.i18n,a=t.uploadState,o=t.isSomeGhost,u=t.startUpload,s=o7("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===K4e.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),l=e&&r&&!n?i("uploadXNewFiles",{smart_count:e}):i("uploadXFiles",{smart_count:e});return me("button",{type:"button",className:s,"aria-label":i("uploadXFiles",{smart_count:e}),onClick:u,disabled:o,"data-uppy-super-focusable":!0},l)}function J4e(t){var e=t.i18n,r=t.uppy;return me("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:function(){return r.retryAll()},"data-uppy-super-focusable":!0},me("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},me("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),e("retry"))}function Q4e(t){var e=t.i18n,r=t.uppy;return me("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:function(){return r.cancelAll()},"data-cy":"cancel","data-uppy-super-focusable":!0},me("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},me("g",{fill:"none",fillRule:"evenodd"},me("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),me("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function Z4e(t){var e=t.isAllPaused,r=t.i18n,n=t.isAllComplete,i=t.resumableUploads,a=t.uppy,o=r(e?"resume":"pause");function u(){return n?null:i?e?a.resumeAll():a.pauseAll():a.cancelAll()}return me("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:u,"data-uppy-super-focusable":!0},me("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},me("g",{fill:"none",fillRule:"evenodd"},me("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),me("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function eLe(t){var e=t.i18n,r=t.doneButtonHandler;return me("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:r,"data-uppy-super-focusable":!0},e("done"))}function fq(){return me("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},me("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function tLe(t){var e=t.progress,r=e.value,n=e.mode,i=e.message,a=Math.round(r*100),o="\xB7";return me("div",{className:"uppy-StatusBar-content"},me(fq,null),n==="determinate"?"".concat(a,"% ").concat(o," "):"",i)}function l7(t){var e=t.numUploads,r=t.complete,n=t.totalUploadedSize,i=t.totalSize,a=t.totalETA,o=t.i18n,u=e>1;return me("div",{className:"uppy-StatusBar-statusSecondary"},u&&o("filesUploadedOfTotal",{complete:r,smart_count:e}),me("span",{className:"uppy-StatusBar-additionalInfo"},u&&s7(),o("dataUploadedOfTotal",{complete:u7(n),total:u7(i)}),s7(),o("xTimeLeft",{time:V4e(a)})))}function c7(t){var e=t.i18n,r=t.complete,n=t.numUploads;return me("div",{className:"uppy-StatusBar-statusSecondary"},e("filesUploadedOfTotal",{complete:r,smart_count:n}))}function rLe(t){var e=t.i18n,r=t.newFiles,n=t.startUpload,i=o7("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return me("div",{className:"uppy-StatusBar-statusSecondary"},me("div",{className:"uppy-StatusBar-statusSecondaryHint"},e("xMoreFilesAdded",{smart_count:r})),me("button",{type:"button",className:i,"aria-label":e("uploadXFiles",{smart_count:r}),onClick:n},e("upload")))}var nLe=W4e(l7,500,{leading:!0,trailing:!0});function iLe(t){var e=t.i18n,r=t.supportsUploadProgress,n=t.totalProgress,i=t.showProgressDetails,a=t.isUploadStarted,o=t.isAllComplete,u=t.isAllPaused,s=t.newFiles,l=t.numUploads,c=t.complete,f=t.totalUploadedSize,p=t.totalSize,d=t.totalETA,v=t.startUpload,g=s&&a;if(!a||o)return null;var m=e(u?"paused":"uploading");function _(){return!u&&!g&&i?r?me(nLe,{numUploads:l,complete:c,totalUploadedSize:f,totalSize:p,totalETA:d,i18n:e}):me(c7,{i18n:e,complete:c,numUploads:l}):null}return me("div",{className:"uppy-StatusBar-content","aria-label":m,title:m},u?null:me(fq,null),me("div",{className:"uppy-StatusBar-status"},me("div",{className:"uppy-StatusBar-statusPrimary"},r?"".concat(m,": ").concat(n,"%"):m),_(),g?me(rLe,{i18n:e,newFiles:s,startUpload:v}):null))}function aLe(t){var e=t.i18n;return me("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete")},me("div",{className:"uppy-StatusBar-status"},me("div",{className:"uppy-StatusBar-statusPrimary"},me("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},me("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),e("complete"))))}function oLe(t){var e=t.error,r=t.i18n,n=t.complete,i=t.numUploads;function a(){var o="".concat(r("uploadFailed")," \n\n ").concat(e);alert(o)}return me("div",{className:"uppy-StatusBar-content",title:r("uploadFailed")},me("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},me("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),me("div",{className:"uppy-StatusBar-status"},me("div",{className:"uppy-StatusBar-statusPrimary"},r("uploadFailed"),me("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":r("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:a,type:"button"},"?")),me(c7,{i18n:r,complete:n,numUploads:i})))}f7.exports={UploadBtn:X4e,RetryBtn:J4e,CancelBtn:Q4e,PauseResumeButton:Z4e,DoneBtn:eLe,LoadingSpinner:fq,ProgressDetails:l7,ProgressBarProcessing:tLe,ProgressBarError:oLe,ProgressBarUploading:iLe,ProgressBarComplete:aLe}});var m7=h(function(Idt,y7){var uLe=(ee(),re(ne)),Wr=uLe.h,d7=qr(),Rs=Oy(),pq=t7(),ji=p7(),sLe=ji.UploadBtn,lLe=ji.RetryBtn,cLe=ji.CancelBtn,fLe=ji.PauseResumeButton,pLe=ji.DoneBtn,dLe=ji.ProgressBarProcessing,hLe=ji.ProgressBarError,vLe=ji.ProgressBarUploading,yLe=ji.ProgressBarComplete,h7=Rs.STATE_ERROR,v7=Rs.STATE_WAITING,dq=Rs.STATE_PREPROCESSING,Py=Rs.STATE_UPLOADING,hq=Rs.STATE_POSTPROCESSING,qy=Rs.STATE_COMPLETE;y7.exports=mLe;function mLe(t){var e=t.newFiles,r=t.allowNewUpload,n=t.isUploadInProgress,i=t.isAllPaused,a=t.resumableUploads,o=t.error,u=t.hideUploadButton,s=t.hidePauseResumeButton,l=t.hideCancelButton,c=t.hideRetryButton,f=t.recoveredState,p=t.uploadState,d=t.totalProgress,v=t.files,g=t.supportsUploadProgress,m=t.hideAfterFinish,_=t.isSomeGhost,S=t.isTargetDOMEl,q=t.doneButtonHandler,A=t.isUploadStarted,D=t.i18n,F=t.startUpload,$=t.uppy,Y=t.isAllComplete,R=t.showProgressDetails,j=t.numUploads,Q=t.complete,G=t.totalSize,T=t.totalETA,I=t.totalUploadedSize;function L(){switch(p){case hq:case dq:{var mt=pq(v);return mt.mode==="determinate"?mt.value*100:d}case h7:return null;case Py:return g?d:null;default:return d}}function C(){switch(p){case hq:case dq:{var mt=pq(v),Qi=mt.mode;return Qi==="indeterminate"}case Py:return!g;default:return!1}}function U(){if(f)return!1;switch(p){case v7:return u||e===0;case qy:return m;default:return!1}}var B=L(),te=U(),ce=B!=null?B:100,ue=!o&&e&&!n&&!i&&r&&!u,Ue=!l&&p!==v7&&p!==qy,$e=a&&!s&&p===Py,ut=o&&!Y&&!c,st=q&&p===qy,Ht=d7("uppy-StatusBar-progress",{"is-indeterminate":C()}),Xt=d7({"uppy-Root":S},"uppy-StatusBar","is-".concat(p),{"has-ghosts":_});return Wr("div",{className:Xt,"aria-hidden":te},Wr("div",{className:Ht,style:{width:"".concat(ce,"%")},role:"progressbar","aria-label":"".concat(ce,"%"),"aria-valuetext":"".concat(ce,"%"),"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":B}),function(){switch(p){case dq:case hq:return Wr(dLe,{progress:pq(v)});case qy:return Wr(yLe,{i18n:D});case h7:return Wr(hLe,{error:o,i18n:D,numUploads:j,complete:Q});case Py:return Wr(vLe,{i18n:D,supportsUploadProgress:g,totalProgress:d,showProgressDetails:R,isUploadStarted:A,isAllComplete:Y,isAllPaused:i,newFiles:e,numUploads:j,complete:Q,totalUploadedSize:I,totalSize:G,totalETA:T,startUpload:F});default:return null}}(),Wr("div",{className:"uppy-StatusBar-actions"},f||ue?Wr(sLe,{newFiles:e,isUploadStarted:A,recoveredState:f,i18n:D,isSomeGhost:_,startUpload:F,uploadState:p}):null,ut?Wr(lLe,{i18n:D,uppy:$}):null,$e?Wr(fLe,{isAllPaused:i,i18n:D,isAllComplete:Y,resumableUploads:a,uppy:$}):null,Ue?Wr(cLe,{i18n:D,uppy:$}):null,st?Wr(pLe,{i18n:D,doneButtonHandler:q}):null))}});var b7=h(function(kdt,g7){g7.exports={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}}});var mq=h(function(xdt,q7){function Ry(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ry=function(r){return typeof r}:Ry=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ry(t)}function _7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_7(Object(r),!0).forEach(function(n){gLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gLe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _Le(t,e,r){return e&&S7(t.prototype,e),r&&S7(t,r),t}function wLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vq(t,e)}function vq(t,e){return vq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},vq(t,e)}function SLe(t){var e=PLe();return function(){var n=Ey(t),i;if(e){var a=Ey(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return OLe(this,i)}}function OLe(t,e){if(e&&(Ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yq(t)}function yq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PLe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ey(t){return Ey=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ey(t)}var O7,P7,qLe=tt(),RLe=qLe.UIPlugin,ELe=Y9(),TLe=J9(),ALe=cq(),Vn=Oy(),ILe=m7(),kLe=b7();q7.exports=(P7=O7=function(t){wLe(r,t);var e=SLe(r);function r(n,i){var a;bLe(this,r),a=e.call(this,n,i),a.startUpload=function(){var u=a.uppy.getState(),s=u.recoveredState;if(s){a.uppy.emit("restore-confirmed");return}return a.uppy.upload().catch(function(){})},a.id=a.opts.id||"StatusBar",a.title="StatusBar",a.type="progressindicator",a.defaultLocale=kLe;var o={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};return a.opts=w7(w7({},o),i),a.i18nInit(),a.render=a.render.bind(yq(a)),a.install=a.install.bind(yq(a)),a}return _Le(r,[{key:"render",value:function(i){var a=i.capabilities,o=i.files,u=i.allowNewUpload,s=i.totalProgress,l=i.error,c=i.recoveredState,f=this.uppy.getObjectOfFilesPerState(),p=f.newFiles,d=f.startedFiles,v=f.completeFiles,g=f.inProgressNotPausedFiles,m=f.isUploadStarted,_=f.isAllComplete,S=f.isAllErrored,q=f.isAllPaused,A=f.isUploadInProgress,D=f.isSomeGhost,F=c?Object.values(o):p,$=FLe(g),Y=!!a.resumableUploads,R=a.uploadProgress!==!1,j=0,Q=0;return d.forEach(function(G){j+=G.progress.bytesTotal||0,Q+=G.progress.bytesUploaded||0}),ILe({error:l,uploadState:CLe(l,_,c,i.files||{}),allowNewUpload:u,totalProgress:s,totalSize:j,totalUploadedSize:Q,isAllComplete:!1,isAllPaused:q,isAllErrored:S,isUploadStarted:m,isUploadInProgress:A,isSomeGhost:D,recoveredState:c,complete:v.length,newFiles:F.length,numUploads:d.length,totalETA:$,files:o,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:Y,supportsUploadProgress:R,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}},{key:"onMount",value:function(){var i=this.el,a=ALe(i);a||(i.dir="ltr")}},{key:"install",value:function(){var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.unmount()}}]),r}(RLe),O7.VERSION="2.1.3",P7);function xLe(t){var e=0;return t.forEach(function(r){e+=ELe(r.progress)}),e}function FLe(t){var e=xLe(t);if(e===0)return 0;var r=t.reduce(function(n,i){return n+TLe(i.progress)},0);return Math.round(r/e*10)/10}function CLe(t,e,r,n){if(t&&!e)return Vn.STATE_ERROR;if(e)return Vn.STATE_COMPLETE;if(r)return Vn.STATE_WAITING;for(var i=Vn.STATE_WAITING,a=Object.keys(n),o=0;o<a.length;o++){var u=n[a[o]].progress;if(u.uploadStarted&&!u.uploadComplete)return Vn.STATE_UPLOADING;u.preprocess&&i!==Vn.STATE_UPLOADING&&(i=Vn.STATE_PREPROCESSING),u.postprocess&&i!==Vn.STATE_UPLOADING&&i!==Vn.STATE_PREPROCESSING&&(i=Vn.STATE_POSTPROCESSING)}return i}});var A7=h(function(Fdt,T7){function Ty(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ty=function(r){return typeof r}:Ty=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ty(t)}function DLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ULe(t,e,r){return e&&R7(t.prototype,e),r&&R7(t,r),t}function jLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gq(t,e)}function gq(t,e){return gq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},gq(t,e)}function MLe(t){var e=LLe();return function(){var n=Ay(t),i;if(e){var a=Ay(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return NLe(this,i)}}function NLe(t,e){if(e&&(Ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BLe(t)}function BLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LLe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ay(t){return Ay=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ay(t)}var bq=(ee(),re(ne)),zLe=bq.h,HLe=bq.Component,$Le=bq.createRef,E7=300;T7.exports=function(t){jLe(r,t);var e=MLe(r);function r(){var n;return DLe(this,r),n=e.apply(this,arguments),n.ref=$Le(),n}return ULe(r,[{key:"componentWillEnter",value:function(i){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(i,E7)}},{key:"componentWillLeave",value:function(i){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(i,E7)}},{key:"render",value:function(){var i=this.props.children;return zLe("div",{className:"uppy-Informer-animated",ref:this.ref},i)}}]),r}(HLe)});var F7=h(function(Cdt,x7){"use strict";function Iy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Iy=function(r){return typeof r}:Iy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Iy(t)}var WLe=["childFactory","transitionLeave","transitionName","transitionAppear","transitionEnter","transitionLeaveTimeout","transitionEnterTimeout","transitionAppearTimeout","component"];function VLe(t,e){if(t==null)return{};var r=GLe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(r[n]=t[n]))}return r}function GLe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function KLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function YLe(t,e,r){return e&&I7(t.prototype,e),r&&I7(t,r),t}function XLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_q(t,e)}function _q(t,e){return _q=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},_q(t,e)}function JLe(t){var e=ZLe();return function(){var n=xy(t),i;if(e){var a=xy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return QLe(this,i)}}function QLe(t,e){if(e&&(Iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ky(t)}function ky(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZLe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function xy(t){return xy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},xy(t)}var Fy=(ee(),re(ne)),e9e=Fy.Component,t9e=Fy.cloneElement,r9e=Fy.h,Es=Fy.toChildArray;function n9e(t,e){return Object.assign(t,e)}function i9e(t,e){var r;return(r=t==null?void 0:t.key)!=null?r:e}function a9e(t,e){var r=t._ptgLinkedRefs||(t._ptgLinkedRefs={});return r[e]||(r[e]=function(n){t.refs[e]=n})}function Vf(t){for(var e={},r=0;r<t.length;r++)if(t[r]!=null){var n=i9e(t[r],r.toString(36));e[n]=t[r]}return e}function o9e(t,e){t=t||{},e=e||{};var r=function(p){return e.hasOwnProperty(p)?e[p]:t[p]},n={},i=[];for(var a in t)e.hasOwnProperty(a)?i.length&&(n[a]=i,i=[]):i.push(a);var o={};for(var u in e){if(n.hasOwnProperty(u))for(var s=0;s<n[u].length;s++){var l=n[u][s];o[n[u][s]]=r(l)}o[u]=r(u)}for(var c=0;c<i.length;c++)o[i[c]]=r(i[c]);return o}var u9e=function(e){return e},k7=function(t){XLe(r,t);var e=JLe(r);function r(n,i){var a;return KLe(this,r),a=e.call(this,n,i),a.refs={},a.state={children:Vf(Es(Es(a.props.children))||[])},a.performAppear=a.performAppear.bind(ky(a)),a.performEnter=a.performEnter.bind(ky(a)),a.performLeave=a.performLeave.bind(ky(a)),a}return YLe(r,[{key:"componentWillMount",value:function(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}},{key:"componentDidMount",value:function(){var i=this.state.children;for(var a in i)i[a]&&this.performAppear(a)}},{key:"componentWillReceiveProps",value:function(i){var a=Vf(Es(i.children)||[]),o=this.state.children;this.setState(function(c){return{children:o9e(c.children,a)}});var u;for(u in a)if(a.hasOwnProperty(u)){var s=o&&o.hasOwnProperty(u);a[u]&&s&&this.currentlyTransitioningKeys[u]?(this.keysToEnter.push(u),this.keysToAbortLeave.push(u)):a[u]&&!s&&!this.currentlyTransitioningKeys[u]&&this.keysToEnter.push(u)}for(u in o)if(o.hasOwnProperty(u)){var l=a&&a.hasOwnProperty(u);o[u]&&!l&&!this.currentlyTransitioningKeys[u]&&this.keysToLeave.push(u)}}},{key:"componentDidUpdate",value:function(){var i=this.keysToEnter;this.keysToEnter=[],i.forEach(this.performEnter);var a=this.keysToLeave;this.keysToLeave=[],a.forEach(this.performLeave)}},{key:"_finishAbort",value:function(i){var a=this.keysToAbortLeave.indexOf(i);a!==-1&&this.keysToAbortLeave.splice(a,1)}},{key:"performAppear",value:function(i){this.currentlyTransitioningKeys[i]=!0;var a=this.refs[i];a.componentWillAppear?a.componentWillAppear(this._handleDoneAppearing.bind(this,i)):this._handleDoneAppearing(i)}},{key:"_handleDoneAppearing",value:function(i){var a=this.refs[i];a.componentDidAppear&&a.componentDidAppear(),delete this.currentlyTransitioningKeys[i],this._finishAbort(i);var o=Vf(Es(this.props.children)||[]);(!o||!o.hasOwnProperty(i))&&this.performLeave(i)}},{key:"performEnter",value:function(i){this.currentlyTransitioningKeys[i]=!0;var a=this.refs[i];a.componentWillEnter?a.componentWillEnter(this._handleDoneEntering.bind(this,i)):this._handleDoneEntering(i)}},{key:"_handleDoneEntering",value:function(i){var a=this.refs[i];a.componentDidEnter&&a.componentDidEnter(),delete this.currentlyTransitioningKeys[i],this._finishAbort(i);var o=Vf(Es(this.props.children)||[]);(!o||!o.hasOwnProperty(i))&&this.performLeave(i)}},{key:"performLeave",value:function(i){var a=this.keysToAbortLeave.indexOf(i);if(a===-1){this.currentlyTransitioningKeys[i]=!0;var o=this.refs[i];o.componentWillLeave?o.componentWillLeave(this._handleDoneLeaving.bind(this,i)):this._handleDoneLeaving(i)}}},{key:"_handleDoneLeaving",value:function(i){var a=this.keysToAbortLeave.indexOf(i);if(a===-1){var o=this.refs[i];o.componentDidLeave&&o.componentDidLeave(),delete this.currentlyTransitioningKeys[i];var u=Vf(Es(this.props.children)||[]);if(u&&u.hasOwnProperty(i))this.performEnter(i);else{var s=n9e({},this.state.children);delete s[i],this.setState({children:s})}}}},{key:"render",value:function(i,a){var o=i.childFactory,u=i.transitionLeave,s=i.transitionName,l=i.transitionAppear,c=i.transitionEnter,f=i.transitionLeaveTimeout,p=i.transitionEnterTimeout,d=i.transitionAppearTimeout,v=i.component,g=VLe(i,WLe),m=a.children,_=[];for(var S in m)if(m.hasOwnProperty(S)){var q=m[S];if(q){var A=a9e(this,S),D=t9e(o(q),{ref:A,key:S});_.push(D)}}return r9e(v,g,_)}}]),r}(e9e);k7.defaultProps={component:"span",childFactory:u9e};x7.exports=k7});var Sq=h(function(Ddt,N7){function Cy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cy=function(r){return typeof r}:Cy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Cy(t)}function C7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function D7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C7(Object(r),!0).forEach(function(n){s9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s9e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c9e(t,e,r){return e&&U7(t.prototype,e),r&&U7(t,r),t}function f9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wq(t,e)}function wq(t,e){return wq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},wq(t,e)}function p9e(t){var e=v9e();return function(){var n=Dy(t),i;if(e){var a=Dy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return d9e(this,i)}}function d9e(t,e){if(e&&(Cy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h9e(t)}function h9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v9e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Dy(t){return Dy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Dy(t)}var j7,M7,y9e=(ee(),re(ne)),Gf=y9e.h,m9e=tt(),g9e=m9e.UIPlugin,b9e=A7(),_9e=F7();N7.exports=(M7=j7=function(t){f9e(r,t);var e=p9e(r);function r(n,i){var a;l9e(this,r),a=e.call(this,n,i),a.render=function(u){return Gf("div",{className:"uppy uppy-Informer"},Gf(_9e,null,u.info.map(function(s){return Gf(b9e,{key:s.message},Gf("p",{role:"alert"},s.message," ",s.details&&Gf("span",{"aria-label":s.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:function(){return alert("".concat(s.message," \n\n ").concat(s.details))}},"?")))})))},a.type="progressindicator",a.id=a.opts.id||"Informer",a.title="Informer";var o={};return a.opts=D7(D7({},o),i),a}return c9e(r,[{key:"install",value:function(){var i=this.opts.target;i&&this.mount(i,this)}}]),r}(g9e),j7.VERSION="2.0.5",M7)});var L7=h(function(Udt,B7){var w9e=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;B7.exports=function(e,r,n){var i,a,o=w9e.exec(e),u=(i=(a=r.mimeType)!=null?a:o==null?void 0:o[1])!=null?i:"plain/text",s;if(o[2]!=null){for(var l=atob(decodeURIComponent(o[3])),c=new Uint8Array(l.length),f=0;f<l.length;f++)c[f]=l.charCodeAt(f);s=[c]}else s=[decodeURIComponent(o[3])];return n?new File(s,r.name||"",{type:u}):new Blob(s,{type:u})}});var H7=h(function(jdt,z7){z7.exports=function(e){return e.startsWith("blob:")}});var _z=h(function(Bq){"use strict";function S9e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wn(t,e){return q9e(t)||P9e(t,e)||Oq(t,e)||O9e()}function O9e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P9e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function q9e(t){if(Array.isArray(t))return t}function Te(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Oq(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function ka(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ka=function(r){return typeof r}:ka=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ka(t)}function Uy(t){return T9e(t)||E9e(t)||Oq(t)||R9e()}function R9e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Oq(t,e){if(!!t){if(typeof t=="string")return Pq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pq(t,e)}}function E9e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function T9e(t){if(Array.isArray(t))return Pq(t)}function Pq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $7(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function ot(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){$7(a,n,i,o,u,"next",s)}function u(s){$7(a,n,i,o,u,"throw",s)}o(void 0)})}}function jy(){return typeof Reflect!="undefined"&&Reflect.get?jy=Reflect.get:jy=function(e,r,n){var i=A9e(e,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},jy.apply(this,arguments)}function A9e(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=zo(t),t!==null););return t}function Ts(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kf(t,e)}function As(t){var e=V7();return function(){var n=zo(t),i;if(e){var a=zo(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return W7(this,i)}}function W7(t,e){if(e&&(ka(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sn(t)}function Sn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qq(t){var e=typeof Map=="function"?new Map:void 0;return qq=function(n){if(n===null||!I9e(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return My(n,arguments,zo(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Kf(i,n)},qq(t)}function My(t,e,r){return V7()?My=Reflect.construct:My=function(i,a,o){var u=[null];u.push.apply(u,a);var s=Function.bind.apply(i,u),l=new s;return o&&Kf(l,o.prototype),l},My.apply(null,arguments)}function V7(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function I9e(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Kf(t,e){return Kf=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Kf(t,e)}function zo(t){return zo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},zo(t)}function On(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Pn(t,e,r){return e&&G7(t.prototype,e),r&&G7(t,r),t}function We(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object.defineProperty(Bq,"__esModule",{value:!0});var K7=typeof self!="undefined"?self:global,xa=typeof navigator!="undefined",Ny=xa&&typeof HTMLImageElement=="undefined",Y7=!(typeof global=="undefined"||typeof process=="undefined"||!process.versions||!process.versions.node),k9e=!!K7.Buffer,x9e=function(e){return e!==void 0};function X7(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(x9e).length===0)}function Tt(t){var e=new Error(t);throw delete e.stack,e}function J7(t){var e=function(r){var n=0;return r.ifd0.enabled&&(n+=1024),r.exif.enabled&&(n+=2048),r.makerNote&&(n+=2048),r.userComment&&(n+=1024),r.gps.enabled&&(n+=512),r.interop.enabled&&(n+=100),r.ifd1.enabled&&(n+=1024),n+2048}(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}var Rq=function(e){return String.fromCharCode.apply(null,e)},Q7=typeof TextDecoder!="undefined"?new TextDecoder("utf-8"):void 0,By=function(){function t(e){On(this,t);var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(typeof i=="boolean"&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){n===void 0&&(n=e.byteLength-r);var a=new DataView(e,r,n);this._swapDataView(a)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof t){n===void 0&&(n=e.byteLength-r),r+=e.byteOffset,r+n>e.byteOffset+e.byteLength&&Tt("Creating view outside of available memory in ArrayBuffer");var o=new DataView(e.buffer,r,n);this._swapDataView(o)}else if(typeof e=="number"){var u=new DataView(new ArrayBuffer(e));this._swapDataView(u)}else Tt("Invalid input argument for BufferView: "+e)}return Pn(t,[{key:"_swapArrayBuffer",value:function(r){this._swapDataView(new DataView(r))}},{key:"_swapBuffer",value:function(r){this._swapDataView(new DataView(r.buffer,r.byteOffset,r.byteLength))}},{key:"_swapDataView",value:function(r){this.dataView=r,this.buffer=r.buffer,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength}},{key:"_lengthToEnd",value:function(r){return this.byteLength-r}},{key:"set",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t;return r instanceof DataView||r instanceof t?r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer&&(r=new Uint8Array(r)),r instanceof Uint8Array||Tt("BufferView.set(): Invalid data argument."),this.toUint8().set(r,n),new i(this,n,r.byteLength)}},{key:"subarray",value:function(r,n){return n=n||this._lengthToEnd(r),new t(this,r,n)}},{key:"toUint8",value:function(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}},{key:"getUint8Array",value:function(r,n){return new Uint8Array(this.buffer,this.byteOffset+r,n)}},{key:"getString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,i=this.getUint8Array(r,n);return a=i,Q7?Q7.decode(a):k9e?Buffer.from(a).toString("utf8"):decodeURIComponent(escape(Rq(a)));var a}},{key:"getLatin1String",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,i=this.getUint8Array(r,n);return Rq(i)}},{key:"getUnicodeString",value:function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,i=[],a=0;a<n&&r+a<this.byteLength;a+=2)i.push(this.getUint16(r+a));return Rq(i)}},{key:"getInt8",value:function(r){return this.dataView.getInt8(r)}},{key:"getUint8",value:function(r){return this.dataView.getUint8(r)}},{key:"getInt16",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getInt16(r,n)}},{key:"getInt32",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getInt32(r,n)}},{key:"getUint16",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getUint16(r,n)}},{key:"getUint32",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getUint32(r,n)}},{key:"getFloat32",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat32(r,n)}},{key:"getFloat64",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat64(r,n)}},{key:"getFloat",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat32(r,n)}},{key:"getDouble",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat64(r,n)}},{key:"getUintBytes",value:function(r,n,i){switch(n){case 1:return this.getUint8(r,i);case 2:return this.getUint16(r,i);case 4:return this.getUint32(r,i);case 8:return this.getUint64&&this.getUint64(r,i)}}},{key:"getUint",value:function(r,n,i){switch(n){case 8:return this.getUint8(r,i);case 16:return this.getUint16(r,i);case 32:return this.getUint32(r,i);case 64:return this.getUint64&&this.getUint64(r,i)}}},{key:"toString",value:function(r){return this.dataView.toString(r,this.constructor.name)}},{key:"ensureChunk",value:function(){}}],[{key:"from",value:function(r,n){return r instanceof this&&r.le===n?r:new t(r,void 0,void 0,n)}}]),t}();function Eq(t,e){Tt("".concat(t," '").concat(e,"' was not loaded, try using full build of exifr."))}var Tq=function(t){Ts(r,t);var e=As(r);function r(n){var i;return On(this,r),i=e.call(this),i.kind=n,i}return Pn(r,[{key:"get",value:function(i,a){return this.has(i)||Eq(this.kind,i),a&&(i in a||function(o,u){Tt("Unknown ".concat(o," '").concat(u,"'."))}(this.kind,i),a[i].enabled||Eq(this.kind,i)),jy(zo(r.prototype),"get",this).call(this,i)}},{key:"keyList",value:function(){return Array.from(this.keys())}}]),r}(qq(Map)),Z7=new Tq("file parser"),qn=new Tq("segment parser"),ez=new Tq("file reader"),F9e=K7.fetch;function tz(t,e){return(r=t).startsWith("data:")||r.length>1e4?kq(t,e,"base64"):Y7&&t.includes("://")?Aq(t,e,"url",rz):Y7?kq(t,e,"fs"):xa?Aq(t,e,"url",rz):void Tt("Invalid input argument");var r}function Aq(t,e,r,n){return Iq.apply(this,arguments)}function Iq(){return Iq=ot(regeneratorRuntime.mark(function t(e,r,n,i){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",ez.has(n)?kq(e,r,n):i?function(){var u=ot(regeneratorRuntime.mark(function s(l,c){var f;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,c(l);case 2:return f=d.sent,d.abrupt("return",new By(f));case 4:case"end":return d.stop()}},s)}));return function(s,l){return u.apply(this,arguments)}}()(e,i):void Tt("Parser ".concat(n," is not loaded")));case 1:case"end":return o.stop()}},t)})),Iq.apply(this,arguments)}function kq(t,e,r){return xq.apply(this,arguments)}function xq(){return xq=ot(regeneratorRuntime.mark(function t(e,r,n){var i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=new(ez.get(n))(e,r),o.next=3,i.read();case 3:return o.abrupt("return",i);case 4:case"end":return o.stop()}},t)})),xq.apply(this,arguments)}var rz=function(e){return F9e(e).then(function(r){return r.arrayBuffer()})},C9e=function(e){return new Promise(function(r,n){var i=new FileReader;i.onloadend=function(){return r(i.result||new ArrayBuffer)},i.onerror=n,i.readAsArrayBuffer(e)})},Fq=new Map,D9e=new Map,U9e=new Map,Ly=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],nz=["jfif","xmp","icc","iptc","ihdr"],Cq=["tiff"].concat(nz),At=["ifd0","ifd1","exif","gps","interop"],zy=[].concat(Uy(Cq),At),Hy=["makerNote","userComment"],iz=["translateKeys","translateValues","reviveValues","multiSegment"],$y=[].concat(iz,["sanitize","mergeOutput","silentErrors"]),az=function(){function t(){On(this,t)}return Pn(t,[{key:"translate",get:function(){return this.translateKeys||this.translateValues||this.reviveValues}}]),t}(),Yf=function(t){Ts(r,t);var e=As(r);function r(n,i,a,o){var u;if(On(this,r),u=e.call(this),We(Sn(u),"enabled",!1),We(Sn(u),"skip",new Set),We(Sn(u),"pick",new Set),We(Sn(u),"deps",new Set),We(Sn(u),"translateKeys",!1),We(Sn(u),"translateValues",!1),We(Sn(u),"reviveValues",!1),u.key=n,u.enabled=i,u.parse=u.enabled,u.applyInheritables(o),u.canBeFiltered=At.includes(n),u.canBeFiltered&&(u.dict=Fq.get(n)),a!==void 0)if(Array.isArray(a))u.parse=u.enabled=!0,u.canBeFiltered&&a.length>0&&u.translateTagSet(a,u.pick);else if(ka(a)=="object"){if(u.enabled=!0,u.parse=a.parse!==!1,u.canBeFiltered){var s=a.pick,l=a.skip;s&&s.length>0&&u.translateTagSet(s,u.pick),l&&l.length>0&&u.translateTagSet(l,u.skip)}u.applyInheritables(a)}else a===!0||a===!1?u.parse=u.enabled=a:Tt("Invalid options argument: ".concat(a));return W7(u)}return Pn(r,[{key:"needed",get:function(){return this.enabled||this.deps.size>0}},{key:"applyInheritables",value:function(i){var a,o,u=Te(iz),s;try{for(u.s();!(s=u.n()).done;)a=s.value,o=i[a],o!==void 0&&(this[a]=o)}catch(l){u.e(l)}finally{u.f()}}},{key:"translateTagSet",value:function(i,a){if(this.dict){var o,u,s=this.dict,l=s.tagKeys,c=s.tagValues,f=Te(i),p;try{for(f.s();!(p=f.n()).done;)o=p.value,typeof o=="string"?(u=c.indexOf(o),u===-1&&(u=l.indexOf(Number(o))),u!==-1&&a.add(Number(l[u]))):a.add(o)}catch(m){f.e(m)}finally{f.f()}}else{var d=Te(i),v;try{for(d.s();!(v=d.n()).done;){var g=v.value;a.add(g)}}catch(m){d.e(m)}finally{d.f()}}}},{key:"finalizeFilters",value:function(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Wy(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Wy(this.pick,this.deps)}}]),r}(az),rr={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},oz=new Map,Dq=function(t){Ts(r,t);var e=As(r);function r(n){var i;return On(this,r),i=e.call(this),n===!0?i.setupFromTrue():n===void 0?i.setupFromUndefined():Array.isArray(n)?i.setupFromArray(n):ka(n)=="object"?i.setupFromObject(n):Tt("Invalid options argument ".concat(n)),i.firstChunkSize===void 0&&(i.firstChunkSize=xa?i.firstChunkSizeBrowser:i.firstChunkSizeNode),i.mergeOutput&&(i.ifd1.enabled=!1),i.filterNestedSegmentTags(),i.traverseTiffDependencyTree(),i.checkLoadedPlugins(),i}return Pn(r,[{key:"setupFromUndefined",value:function(){var i,a=Te(Ly),o;try{for(a.s();!(o=a.n()).done;)i=o.value,this[i]=rr[i]}catch(d){a.e(d)}finally{a.f()}var u=Te($y),s;try{for(u.s();!(s=u.n()).done;)i=s.value,this[i]=rr[i]}catch(d){u.e(d)}finally{u.f()}var l=Te(Hy),c;try{for(l.s();!(c=l.n()).done;)i=c.value,this[i]=rr[i]}catch(d){l.e(d)}finally{l.f()}var f=Te(zy),p;try{for(f.s();!(p=f.n()).done;)i=p.value,this[i]=new Yf(i,rr[i],void 0,this)}catch(d){f.e(d)}finally{f.f()}}},{key:"setupFromTrue",value:function(){var i,a=Te(Ly),o;try{for(a.s();!(o=a.n()).done;)i=o.value,this[i]=rr[i]}catch(d){a.e(d)}finally{a.f()}var u=Te($y),s;try{for(u.s();!(s=u.n()).done;)i=s.value,this[i]=rr[i]}catch(d){u.e(d)}finally{u.f()}var l=Te(Hy),c;try{for(l.s();!(c=l.n()).done;)i=c.value,this[i]=!0}catch(d){l.e(d)}finally{l.f()}var f=Te(zy),p;try{for(f.s();!(p=f.n()).done;)i=p.value,this[i]=new Yf(i,!0,void 0,this)}catch(d){f.e(d)}finally{f.f()}}},{key:"setupFromArray",value:function(i){var a,o=Te(Ly),u;try{for(o.s();!(u=o.n()).done;)a=u.value,this[a]=rr[a]}catch(v){o.e(v)}finally{o.f()}var s=Te($y),l;try{for(s.s();!(l=s.n()).done;)a=l.value,this[a]=rr[a]}catch(v){s.e(v)}finally{s.f()}var c=Te(Hy),f;try{for(c.s();!(f=c.n()).done;)a=f.value,this[a]=rr[a]}catch(v){c.e(v)}finally{c.f()}var p=Te(zy),d;try{for(p.s();!(d=p.n()).done;)a=d.value,this[a]=new Yf(a,!1,void 0,this)}catch(v){p.e(v)}finally{p.f()}this.setupGlobalFilters(i,void 0,At)}},{key:"setupFromObject",value:function(i){var a,o=Te((At.ifd0=At.ifd0||At.image,At.ifd1=At.ifd1||At.thumbnail,Object.assign(this,i),Ly)),u;try{for(o.s();!(u=o.n()).done;)a=u.value,this[a]=Uq(i[a],rr[a])}catch(m){o.e(m)}finally{o.f()}var s=Te($y),l;try{for(s.s();!(l=s.n()).done;)a=l.value,this[a]=Uq(i[a],rr[a])}catch(m){s.e(m)}finally{s.f()}var c=Te(Hy),f;try{for(c.s();!(f=c.n()).done;)a=f.value,this[a]=Uq(i[a],rr[a])}catch(m){c.e(m)}finally{c.f()}var p=Te(Cq),d;try{for(p.s();!(d=p.n()).done;)a=d.value,this[a]=new Yf(a,rr[a],i[a],this)}catch(m){p.e(m)}finally{p.f()}var v=Te(At),g;try{for(v.s();!(g=v.n()).done;)a=g.value,this[a]=new Yf(a,rr[a],i[a],this.tiff)}catch(m){v.e(m)}finally{v.f()}this.setupGlobalFilters(i.pick,i.skip,At,zy),i.tiff===!0?this.batchEnableWithBool(At,!0):i.tiff===!1?this.batchEnableWithUserValue(At,i):Array.isArray(i.tiff)?this.setupGlobalFilters(i.tiff,void 0,At):ka(i.tiff)=="object"&&this.setupGlobalFilters(i.tiff.pick,i.tiff.skip,At)}},{key:"batchEnableWithBool",value:function(i,a){var o=Te(i),u;try{for(o.s();!(u=o.n()).done;){var s=u.value;this[s].enabled=a}}catch(l){o.e(l)}finally{o.f()}}},{key:"batchEnableWithUserValue",value:function(i,a){var o=Te(i),u;try{for(o.s();!(u=o.n()).done;){var s=u.value,l=a[s];this[s].enabled=l!==!1&&l!==void 0}}catch(c){o.e(c)}finally{o.f()}}},{key:"setupGlobalFilters",value:function(i,a,o){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;if(i&&i.length){var s=Te(u),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;this[c].enabled=!1}}catch($){s.e($)}finally{s.f()}var f=uz(i,o),p=Te(f),d;try{for(p.s();!(d=p.n()).done;){var v=wn(d.value,2),g=v[0],m=v[1];Wy(this[g].pick,m),this[g].enabled=!0}}catch($){p.e($)}finally{p.f()}}else if(a&&a.length){var _=uz(a,o),S=Te(_),q;try{for(S.s();!(q=S.n()).done;){var A=wn(q.value,2),D=A[0],F=A[1];Wy(this[D].skip,F)}}catch($){S.e($)}finally{S.f()}}}},{key:"filterNestedSegmentTags",value:function(){var i=this.ifd0,a=this.exif,o=this.xmp,u=this.iptc,s=this.icc;this.makerNote?a.deps.add(37500):a.skip.add(37500),this.userComment?a.deps.add(37510):a.skip.add(37510),o.enabled||i.skip.add(700),u.enabled||i.skip.add(33723),s.enabled||i.skip.add(34675)}},{key:"traverseTiffDependencyTree",value:function(){var i=this,a=this.ifd0,o=this.exif,u=this.gps,s=this.interop;s.needed&&(o.deps.add(40965),a.deps.add(40965)),o.needed&&a.deps.add(34665),u.needed&&a.deps.add(34853),this.tiff.enabled=At.some(function(p){return i[p].enabled===!0})||this.makerNote||this.userComment;var l=Te(At),c;try{for(l.s();!(c=l.n()).done;){var f=c.value;this[f].finalizeFilters()}}catch(p){l.e(p)}finally{l.f()}}},{key:"onlyTiff",get:function(){var i=this;return!nz.map(function(a){return i[a].enabled}).some(function(a){return a===!0})&&this.tiff.enabled}},{key:"checkLoadedPlugins",value:function(){var i=Te(Cq),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;this[o].enabled&&!qn.has(o)&&Eq("segment parser",o)}}catch(u){i.e(u)}finally{i.f()}}}],[{key:"useCached",value:function(i){var a=oz.get(i);return a!==void 0||(a=new this(i),oz.set(i,a)),a}}]),r}(az);function uz(t,e){var r,n,i,a,o=[],u=Te(e),s;try{for(u.s();!(s=u.n()).done;){i=s.value;var l=Te((r=Fq.get(i),n=[],r)),c;try{for(l.s();!(c=l.n()).done;)a=c.value,(t.includes(a[0])||t.includes(a[1]))&&n.push(a[0])}catch(f){l.e(f)}finally{l.f()}n.length&&o.push([i,n])}}catch(f){u.e(f)}finally{u.f()}return o}function Uq(t,e){return t!==void 0?t:e!==void 0?e:void 0}function Wy(t,e){var r=Te(e),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;t.add(i)}}catch(a){r.e(a)}finally{r.f()}}We(Dq,"default",rr);var j9e=function(){function t(e){var r=this;On(this,t),We(this,"parsers",{}),We(this,"output",{}),We(this,"errors",[]),We(this,"pushToErrors",function(n){return r.errors.push(n)}),this.options=Dq.useCached(e)}return Pn(t,[{key:"read",value:function(){var e=ot(regeneratorRuntime.mark(function n(i){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,function(u,s){return typeof u=="string"?tz(u,s):xa&&!Ny&&u instanceof HTMLImageElement?tz(u.src,s):u instanceof Uint8Array||u instanceof ArrayBuffer||u instanceof DataView?new By(u):xa&&u instanceof Blob?Aq(u,s,"blob",C9e):void Tt("Invalid input argument")}(i,this.options);case 2:this.file=o.sent;case 3:case"end":return o.stop()}},n,this)}));function r(n){return e.apply(this,arguments)}return r}()},{key:"setup",value:function(){if(!this.fileParser){var r=this.file,n=r.getUint16(0),i=Te(Z7),a;try{for(i.s();!(a=i.n()).done;){var o=wn(a.value,2),u=o[0],s=o[1];if(s.canHandle(r,n))return this.fileParser=new s(this.options,this.file,this.parsers),r[u]=!0}}catch(l){i.e(l)}finally{i.f()}this.file.close&&this.file.close(),Tt("Unknown file format")}}},{key:"parse",value:function(){var e=ot(regeneratorRuntime.mark(function n(){var i,a,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(i=this.output,a=this.errors,this.setup(),!this.options.silentErrors){s.next=8;break}return s.next=5,this.executeParsers().catch(this.pushToErrors);case 5:a.push.apply(a,Uy(this.fileParser.errors)),s.next=10;break;case 8:return s.next=10,this.executeParsers();case 10:return this.file.close&&this.file.close(),this.options.silentErrors&&a.length>0&&(i.errors=a),s.abrupt("return",X7(o=i)?void 0:o);case 13:case"end":return s.stop()}},n,this)}));function r(){return e.apply(this,arguments)}return r}()},{key:"executeParsers",value:function(){var e=ot(regeneratorRuntime.mark(function n(){var i=this,a,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=this.output,s.next=3,this.fileParser.parse();case 3:return o=Object.values(this.parsers).map(function(){var l=ot(regeneratorRuntime.mark(function c(f){var p;return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,f.parse();case 2:p=v.sent,f.assignToOutput(a,p);case 4:case"end":return v.stop()}},c)}));return function(c){return l.apply(this,arguments)}}()),this.options.silentErrors&&(o=o.map(function(l){return l.catch(i.pushToErrors)})),s.next=7,Promise.all(o);case 7:case"end":return s.stop()}},n,this)}));function r(){return e.apply(this,arguments)}return r}()},{key:"extractThumbnail",value:function(){var e=ot(regeneratorRuntime.mark(function n(){var i,a,o,u,s,l,c;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(this.setup(),i=this.options,a=this.file,o=qn.get("tiff",i),!a.tiff){p.next=6;break}u={start:0,type:"tiff"},p.next=11;break;case 6:if(p.t0=a.jpeg,!p.t0){p.next=11;break}return p.next=10,this.fileParser.getOrFindSegment("tiff");case 10:u=p.sent;case 11:if(u!==void 0){p.next=13;break}return p.abrupt("return");case 13:return p.next=15,this.fileParser.ensureSegmentChunk(u);case 15:return s=p.sent,l=this.parsers.tiff=new o(s,i,a),p.next=19,l.extractThumbnail();case 19:return c=p.sent,p.abrupt("return",(a.close&&a.close(),c));case 21:case"end":return p.stop()}},n,this)}));function r(){return e.apply(this,arguments)}return r}()}]),t}(),Is=function(){function t(e){var r=this;On(this,t);var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;We(this,"errors",[]),We(this,"raw",new Map),We(this,"handleError",function(a){if(!r.options.silentErrors)throw a;r.errors.push(a.message)}),this.chunk=this.normalizeInput(e),this.file=i,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}return Pn(t,[{key:"normalizeInput",value:function(r){return r instanceof By?r:new By(r)}},{key:"translate",value:function(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}},{key:"output",get:function(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}},{key:"translateBlock",value:function(r,n){var i=U9e.get(n),a=D9e.get(n),o=Fq.get(n),u=this.options[n],s=u.reviveValues&&!!i,l=u.translateValues&&!!a,c=u.translateKeys&&!!o,f={},p=Te(r),d;try{for(p.s();!(d=p.n()).done;){var v=wn(d.value,2),g=v[0],m=v[1];s&&i.has(g)?m=i.get(g)(m):l&&a.has(g)&&(m=this.translateValue(m,a.get(g))),c&&o.has(g)&&(g=o.get(g)||g),f[g]=m}}catch(_){p.e(_)}finally{p.f()}return f}},{key:"translateValue",value:function(r,n){return n[r]||n.DEFAULT||r}},{key:"assignToOutput",value:function(r,n){this.assignObjectToOutput(r,this.constructor.type,n)}},{key:"assignObjectToOutput",value:function(r,n,i){if(this.globalOptions.mergeOutput)return Object.assign(r,i);r[n]?Object.assign(r[n],i):r[n]=i}}],[{key:"findPosition",value:function(r,n){var i=r.getUint16(n+2)+2,a=typeof this.headerLength=="function"?this.headerLength(r,n,i):this.headerLength,o=n+a,u=i-a;return{offset:n,length:i,headerLength:a,start:o,size:u,end:o+u}}},{key:"parse",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new this(r,new Dq(S9e({},this.type,n)),r).parse()}}]),t}();We(Is,"headerLength",4),We(Is,"type",void 0),We(Is,"multiSegment",!1),We(Is,"canHandle",function(){return!1});function M9e(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function N9e(t){return t>=224&&t<=239}function B9e(t,e,r){var n=Te(qn),i;try{for(n.s();!(i=n.n()).done;){var a=wn(i.value,2),o=a[0],u=a[1];if(u.canHandle(t,e,r))return o}}catch(s){n.e(s)}finally{n.f()}}var sz=function(t){Ts(r,t);var e=As(r);function r(){var n;return On(this,r),n=e.apply(this,arguments),We(Sn(n),"appSegments",[]),We(Sn(n),"jpegSegments",[]),We(Sn(n),"unknownSegments",[]),n}return Pn(r,[{key:"parse",value:function(){var n=ot(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.findAppSegments();case 2:return u.next=4,this.readSegments(this.appSegments);case 4:this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments);case 6:case"end":return u.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"setupSegmentFinderArgs",value:function(i){var a=this;i===!0?(this.findAll=!0,this.wanted=new Set(qn.keyList())):(i=i===void 0?qn.keyList().filter(function(o){return a.options[o].enabled}):i.filter(function(o){return a.options[o].enabled&&qn.has(o)}),this.findAll=!1,this.remaining=new Set(i),this.wanted=new Set(i)),this.unfinishedMultiSegment=!1}},{key:"findAppSegments",value:function(){var n=ot(regeneratorRuntime.mark(function a(){var o=this,u,s,l,c,f,p,d,v,g,m=arguments;return regeneratorRuntime.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(u=m.length>0&&m[0]!==void 0?m[0]:0,s=m.length>1?m[1]:void 0,this.setupSegmentFinderArgs(s),l=this.file,c=this.findAll,f=this.wanted,p=this.remaining,S.t0=!c&&this.file.chunked,!S.t0){S.next=10;break}if(c=Array.from(f).some(function(q){var A=qn.get(q),D=o.options[q];return A.multiSegment&&D.multiSegment}),S.t1=c,!S.t1){S.next=10;break}return S.next=10,this.file.readWhole();case 10:if(u=this.findAppSegmentsInRange(u,l.byteLength),!(!this.options.onlyTiff&&l.chunked)){S.next=30;break}d=!1;case 13:if(!(p.size>0&&!d&&(l.canReadNextChunk||this.unfinishedMultiSegment))){S.next=30;break}if(v=l.nextChunkOffset,g=this.appSegments.some(function(q){return!o.file.available(q.offset||q.start,q.length||q.size)}),!(u>v&&!g)){S.next=21;break}return S.next=18,l.readNextChunk(u);case 18:S.t2=!S.sent,S.next=24;break;case 21:return S.next=23,l.readNextChunk(v);case 23:S.t2=!S.sent;case 24:if(d=S.t2,u=this.findAppSegmentsInRange(u,l.byteLength),u!==void 0){S.next=28;break}return S.abrupt("return");case 28:S.next=13;break;case 30:case"end":return S.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"findAppSegmentsInRange",value:function(i,a){a-=2;for(var o,u,s,l,c,f,p=this.file,d=this.findAll,v=this.wanted,g=this.remaining,m=this.options;i<a;i++)if(p.getUint8(i)===255){if(o=p.getUint8(i+1),N9e(o)){if(u=p.getUint16(i+2),s=B9e(p,i,u),s&&v.has(s)&&(l=qn.get(s),c=l.findPosition(p,i),f=m[s],c.type=s,this.appSegments.push(c),!d&&(l.multiSegment&&f.multiSegment?(this.unfinishedMultiSegment=c.chunkNumber<c.chunkCount,this.unfinishedMultiSegment||g.delete(s)):g.delete(s),g.size===0)))break;m.recordUnknownSegments&&(c=Is.findPosition(p,i),c.marker=o,this.unknownSegments.push(c)),i+=u+1}else if(M9e(o)){if(u=p.getUint16(i+2),o===218&&m.stopAfterSos!==!1)return;m.recordJpegSegments&&this.jpegSegments.push({offset:i,length:u,marker:o}),i+=u+1}}return i}},{key:"mergeMultiSegments",value:function(){var i=this;if(!!this.appSegments.some(function(o){return o.multiSegment})){var a=function(o,u){for(var s,l,c,f=new Map,p=0;p<o.length;p++)s=o[p],l=s[u],f.has(l)?c=f.get(l):f.set(l,c=[]),c.push(s);return Array.from(f)}(this.appSegments,"type");this.mergedAppSegments=a.map(function(o){var u=wn(o,2),s=u[0],l=u[1],c=qn.get(s,i.options);return c.handleMultiSegments?{type:s,chunk:c.handleMultiSegments(l)}:l[0]})}}},{key:"getSegment",value:function(i){return this.appSegments.find(function(a){return a.type===i})}},{key:"getOrFindSegment",value:function(){var n=ot(regeneratorRuntime.mark(function a(o){var u;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(u=this.getSegment(o),l.t0=u===void 0,!l.t0){l.next=6;break}return l.next=5,this.findAppSegments(0,[o]);case 5:u=this.getSegment(o);case 6:return l.abrupt("return",u);case 7:case"end":return l.stop()}},a,this)}));function i(a){return n.apply(this,arguments)}return i}()}],[{key:"canHandle",value:function(i,a){return a===65496}}]),r}(function(){function t(e,r,n){var i=this;On(this,t),We(this,"errors",[]),We(this,"ensureSegmentChunk",function(){var a=ot(regeneratorRuntime.mark(function o(u){var s,l;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(s=u.start,l=u.size||65536,!i.file.chunked){f.next=17;break}if(!i.file.available(s,l)){f.next=6;break}u.chunk=i.file.subarray(s,l),f.next=15;break;case 6:return f.prev=6,f.next=9,i.file.readChunk(s,l);case 9:u.chunk=f.sent,f.next=15;break;case 12:f.prev=12,f.t0=f.catch(6),Tt("Couldn't read segment: ".concat(JSON.stringify(u),". ").concat(f.t0.message));case 15:f.next=18;break;case 17:i.file.byteLength>s+l?u.chunk=i.file.subarray(s,l):u.size===void 0?u.chunk=i.file.subarray(s):Tt("Segment unreachable: "+JSON.stringify(u));case 18:return f.abrupt("return",u.chunk);case 19:case"end":return f.stop()}},o,null,[[6,12]])}));return function(o){return a.apply(this,arguments)}}()),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=r,this.parsers=n}return Pn(t,[{key:"injectSegment",value:function(r,n){this.options[r].enabled&&this.createParser(r,n)}},{key:"createParser",value:function(r,n){var i=new(qn.get(r))(n,this.options,this.file);return this.parsers[r]=i}},{key:"createParsers",value:function(r){var n=Te(r),i;try{for(n.s();!(i=n.n()).done;){var a=i.value,o=a.type,u=a.chunk,s=this.options[o];if(s&&s.enabled){var l=this.parsers[o];l&&l.append||l||this.createParser(o,u)}}}catch(c){n.e(c)}finally{n.f()}}},{key:"readSegments",value:function(){var e=ot(regeneratorRuntime.mark(function n(i){var a;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=i.map(this.ensureSegmentChunk),u.next=3,Promise.all(a);case 3:case"end":return u.stop()}},n,this)}));function r(n){return e.apply(this,arguments)}return r}()}]),t}());We(sz,"type","jpeg"),Z7.set("jpeg",sz);var L9e=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],z9e=function(t){Ts(r,t);var e=As(r);function r(){return On(this,r),e.apply(this,arguments)}return Pn(r,[{key:"parseHeader",value:function(){var i=this.chunk.getUint16();i===18761?this.le=!0:i===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}},{key:"parseTags",value:function(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Map,u=this.options[a],s=u.pick,l=u.skip;s=new Set(s);var c=s.size>0,f=l.size===0,p=this.chunk.getUint16(i);i+=2;for(var d=0;d<p;d++){var v=this.chunk.getUint16(i);if(c){if(s.has(v)&&(o.set(v,this.parseTag(i,v,a)),s.delete(v),s.size===0))break}else!f&&l.has(v)||o.set(v,this.parseTag(i,v,a));i+=12}return o}},{key:"parseTag",value:function(i,a,o){var u=this.chunk,s=u.getUint16(i+2),l=u.getUint32(i+4),c=L9e[s];if(c*l<=4?i+=8:i=u.getUint32(i+8),(s<1||s>13)&&Tt("Invalid TIFF value type. block: ".concat(o.toUpperCase(),", tag: ").concat(a.toString(16),", type: ").concat(s,", offset ").concat(i)),i>u.byteLength&&Tt("Invalid TIFF value offset. block: ".concat(o.toUpperCase(),", tag: ").concat(a.toString(16),", type: ").concat(s,", offset ").concat(i," is outside of chunk size ").concat(u.byteLength)),s===1)return u.getUint8Array(i,l);if(s===2)return(f=function(m){for(;m.endsWith("\0");)m=m.slice(0,-1);return m}(f=u.getString(i,l)).trim())===""?void 0:f;var f;if(s===7)return u.getUint8Array(i,l);if(l===1)return this.parseTagValue(s,i);{for(var p=function(m){switch(m){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array}}(s),d=new p(l),v=c,g=0;g<l;g++)d[g]=this.parseTagValue(s,i),i+=v;return d}}},{key:"parseTagValue",value:function(i,a){var o=this.chunk;switch(i){case 1:return o.getUint8(a);case 3:return o.getUint16(a);case 4:case 13:return o.getUint32(a);case 5:return o.getUint32(a)/o.getUint32(a+4);case 6:return o.getInt8(a);case 8:return o.getInt16(a);case 9:return o.getInt32(a);case 10:return o.getInt32(a)/o.getInt32(a+4);case 11:return o.getFloat(a);case 12:return o.getDouble(a);default:Tt("Invalid tiff type ".concat(i))}}}]),r}(Is),jq=function(t){Ts(r,t);var e=As(r);function r(){return On(this,r),e.apply(this,arguments)}return Pn(r,[{key:"parse",value:function(){var n=ot(regeneratorRuntime.mark(function a(){var o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(this.parseHeader(),o=this.options,s.t0=o.ifd0.enabled,!s.t0){s.next=6;break}return s.next=6,this.parseIfd0Block();case 6:if(s.t1=o.exif.enabled,!s.t1){s.next=10;break}return s.next=10,this.safeParse("parseExifBlock");case 10:if(s.t2=o.gps.enabled,!s.t2){s.next=14;break}return s.next=14,this.safeParse("parseGpsBlock");case 14:if(s.t3=o.interop.enabled,!s.t3){s.next=18;break}return s.next=18,this.safeParse("parseInteropBlock");case 18:if(s.t4=o.ifd1.enabled,!s.t4){s.next=22;break}return s.next=22,this.safeParse("parseThumbnailBlock");case 22:return s.abrupt("return",this.createOutput());case 23:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"safeParse",value:function(i){var a=this[i]();return a.catch!==void 0&&(a=a.catch(this.handleError)),a}},{key:"findIfd0Offset",value:function(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}},{key:"findIfd1Offset",value:function(){if(this.ifd1Offset===void 0){this.findIfd0Offset();var i=this.chunk.getUint16(this.ifd0Offset),a=this.ifd0Offset+2+12*i;this.ifd1Offset=this.chunk.getUint32(a)}}},{key:"parseBlock",value:function(i,a){var o=new Map;return this[a]=o,this.parseTags(i,a,o),o}},{key:"parseIfd0Block",value:function(){var n=ot(regeneratorRuntime.mark(function a(){var o,u;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!this.ifd0){l.next=2;break}return l.abrupt("return");case 2:if(o=this.file,this.findIfd0Offset(),this.ifd0Offset<8&&Tt("Malformed EXIF data"),!o.chunked&&this.ifd0Offset>o.byteLength&&Tt("IFD0 offset points to outside of file.\nthis.ifd0Offset: ".concat(this.ifd0Offset,", file.byteLength: ").concat(o.byteLength)),l.t0=o.tiff,!l.t0){l.next=10;break}return l.next=10,o.ensureChunk(this.ifd0Offset,J7(this.options));case 10:return u=this.parseBlock(this.ifd0Offset,"ifd0"),l.abrupt("return",u.size!==0?(this.exifOffset=u.get(34665),this.interopOffset=u.get(40965),this.gpsOffset=u.get(34853),this.xmp=u.get(700),this.iptc=u.get(33723),this.icc=u.get(34675),this.options.sanitize&&(u.delete(34665),u.delete(40965),u.delete(34853),u.delete(700),u.delete(33723),u.delete(34675)),u):void 0);case 12:case"end":return l.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"parseExifBlock",value:function(){var n=ot(regeneratorRuntime.mark(function a(){var o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.exif){s.next=2;break}return s.abrupt("return");case 2:if(s.t0=this.ifd0,s.t0){s.next=6;break}return s.next=6,this.parseIfd0Block();case 6:if(this.exifOffset!==void 0){s.next=8;break}return s.abrupt("return");case 8:if(s.t1=this.file.tiff,!s.t1){s.next=12;break}return s.next=12,this.file.ensureChunk(this.exifOffset,J7(this.options));case 12:return o=this.parseBlock(this.exifOffset,"exif"),s.abrupt("return",(this.interopOffset||(this.interopOffset=o.get(40965)),this.makerNote=o.get(37500),this.userComment=o.get(37510),this.options.sanitize&&(o.delete(40965),o.delete(37500),o.delete(37510)),this.unpack(o,41728),this.unpack(o,41729),o));case 14:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"unpack",value:function(i,a){var o=i.get(a);o&&o.length===1&&i.set(a,o[0])}},{key:"parseGpsBlock",value:function(){var n=ot(regeneratorRuntime.mark(function a(){var o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!this.gps){s.next=2;break}return s.abrupt("return");case 2:if(s.t0=this.ifd0,s.t0){s.next=6;break}return s.next=6,this.parseIfd0Block();case 6:if(this.gpsOffset!==void 0){s.next=8;break}return s.abrupt("return");case 8:return o=this.parseBlock(this.gpsOffset,"gps"),s.abrupt("return",(o&&o.has(2)&&o.has(4)&&(o.set("latitude",lz.apply(void 0,Uy(o.get(2)).concat([o.get(1)]))),o.set("longitude",lz.apply(void 0,Uy(o.get(4)).concat([o.get(3)])))),o));case 10:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"parseInteropBlock",value:function(){var n=ot(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.t0=!this.interop,!u.t0){u.next=11;break}if(u.t1=this.ifd0,u.t1){u.next=6;break}return u.next=6,this.parseIfd0Block();case 6:if(u.t2=this.interopOffset!==void 0||this.exif,u.t2){u.next=10;break}return u.next=10,this.parseExifBlock();case 10:u.t0=this.interopOffset!==void 0;case 11:if(!u.t0){u.next=13;break}return u.abrupt("return",this.parseBlock(this.interopOffset,"interop"));case 13:case"end":return u.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"parseThumbnailBlock",value:function(){var n=ot(regeneratorRuntime.mark(function a(){var o,u=arguments;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(o=u.length>0&&u[0]!==void 0&&u[0],!(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||o))){l.next=3;break}return l.abrupt("return",(this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1));case 3:case"end":return l.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"extractThumbnail",value:function(){var n=ot(regeneratorRuntime.mark(function a(){var o,u;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.headerParsed||this.parseHeader(),l.t0=this.ifd1Parsed,l.t0){l.next=5;break}return l.next=5,this.parseThumbnailBlock(!0);case 5:if(this.ifd1!==void 0){l.next=7;break}return l.abrupt("return");case 7:return o=this.ifd1.get(513),u=this.ifd1.get(514),l.abrupt("return",this.chunk.getUint8Array(o,u));case 9:case"end":return l.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"image",get:function(){return this.ifd0}},{key:"thumbnail",get:function(){return this.ifd1}},{key:"createOutput",value:function(){var i,a,o,u={},s=Te(At),l;try{for(s.s();!(l=s.n()).done;)if(a=l.value,i=this[a],!X7(i))if(o=this.canTranslate?this.translateBlock(i,a):Object.fromEntries(i),this.options.mergeOutput){if(a==="ifd1")continue;Object.assign(u,o)}else u[a]=o}catch(c){s.e(c)}finally{s.f()}return this.makerNote&&(u.makerNote=this.makerNote),this.userComment&&(u.userComment=this.userComment),u}},{key:"assignToOutput",value:function(i,a){if(this.globalOptions.mergeOutput)Object.assign(i,a);else for(var o=0,u=Object.entries(a);o<u.length;o++){var s=wn(u[o],2),l=s[0],c=s[1];this.assignObjectToOutput(i,l,c)}}}],[{key:"canHandle",value:function(i,a){return i.getUint8(a+1)===225&&i.getUint32(a+4)===1165519206&&i.getUint16(a+8)===0}}]),r}(z9e);function lz(t,e,r,n){var i=t+e/60+r/3600;return n!=="S"&&n!=="W"||(i*=-1),i}We(jq,"type","tiff"),We(jq,"headerLength",10),qn.set("tiff",jq);var H9e=Object.assign({},{ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},{firstChunkSize:4e4,ifd0:[274]}),$9e=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}}),Xf=!0,Jf=!0;(typeof navigator=="undefined"?"undefined":ka(navigator))=="object"&&(Gn=navigator.userAgent,Gn.includes("iPad")||Gn.includes("iPhone")?(Mq=Gn.match(/OS (\d+)_(\d+)/),Mq&&(Nq=wn(Mq,3),cz=Nq[1],xa=Nq[2],Ny=Number(cz)+.1*Number(xa),Xf=Ny<13.4,Jf=!1)):Gn.includes("OS X 10")&&(fz=Gn.match(/OS X 10[_.](\d+)/),pz=wn(fz,2),dz=pz[1],Xf=Jf=Number(dz)<15),Gn.includes("Chrome/")?(hz=Gn.match(/Chrome\/(\d+)/),vz=wn(hz,2),yz=vz[1],Xf=Jf=Number(yz)<81):Gn.includes("Firefox/")&&(mz=Gn.match(/Firefox\/(\d+)/),gz=wn(mz,2),bz=gz[1],Xf=Jf=Number(bz)<77));var Gn,Mq,Nq,cz,xa,Ny,fz,pz,dz,hz,vz,yz,mz,gz,bz;Bq.rotation=function(){var t=ot(regeneratorRuntime.mark(function e(r){var n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,function(){var o=ot(regeneratorRuntime.mark(function u(s){var l,c;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return l=new j9e(H9e),p.next=3,l.read(s);case 3:return p.next=5,l.parse();case 5:if(c=p.sent,!(c&&c.ifd0)){p.next=8;break}return p.abrupt("return",c.ifd0[274]);case 8:case"end":return p.stop()}},u)}));return function(u){return o.apply(this,arguments)}}()(r);case 2:return n=a.sent,a.abrupt("return",Object.assign({canvas:Xf,css:Jf},$9e[n]));case 4:case"end":return a.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()});var Sz=h(function(Ndt,wz){wz.exports={strings:{generatingThumbnails:"Generating thumbnails..."}}});var zq=h(function(Bdt,kz){function Vy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vy=function(r){return typeof r}:Vy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vy(t)}function W9e(t,e){return Y9e(t)||K9e(t,e)||G9e(t,e)||V9e()}function V9e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function G9e(t,e){if(!!t){if(typeof t=="string")return Oz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oz(t,e)}}function Oz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function K9e(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function Y9e(t){if(Array.isArray(t))return t}function Pz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pz(Object(r),!0).forEach(function(n){X9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X9e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Q9e(t,e,r){return e&&Rz(t.prototype,e),r&&Rz(t,r),t}function Z9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lq(t,e)}function Lq(t,e){return Lq=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Lq(t,e)}function e7e(t){var e=n7e();return function(){var n=Gy(t),i;if(e){var a=Gy(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return t7e(this,i)}}function t7e(t,e){if(e&&(Vy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r7e(t)}function r7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n7e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Gy(t){return Gy=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Gy(t)}var Ez,Tz,i7e=tt(),a7e=i7e.UIPlugin,o7e=L7(),Az=H7(),Iz=QP(),u7e=_z(),s7e=u7e.rotation,l7e=Sz();kz.exports=(Tz=Ez=function(t){Z9e(r,t);var e=e7e(r);function r(n,i){var a;J9e(this,r),a=e.call(this,n,i),a.onFileAdded=function(u){!u.preview&&u.data&&Iz(u.type)&&!u.isRemote&&a.addToQueue(u.id)},a.onCancelRequest=function(u){var s=a.queue.indexOf(u.id);s!==-1&&a.queue.splice(s,1)},a.onFileRemoved=function(u){var s=a.queue.indexOf(u.id);s!==-1&&a.queue.splice(s,1),u.preview&&Az(u.preview)&&URL.revokeObjectURL(u.preview)},a.onRestored=function(){var u=a.uppy.getFiles().filter(function(s){return s.isRestored});u.forEach(function(s){(!s.preview||Az(s.preview))&&a.addToQueue(s.id)})},a.onAllFilesRemoved=function(){a.queue=[]},a.waitUntilAllProcessed=function(u){u.forEach(function(l){var c=a.uppy.getFile(l);a.uppy.emit("preprocess-progress",c,{mode:"indeterminate",message:a.i18n("generatingThumbnails")})});var s=function(){u.forEach(function(c){var f=a.uppy.getFile(c);a.uppy.emit("preprocess-complete",f)})};return new Promise(function(l){a.queueProcessing?a.uppy.once("thumbnail:all-generated",function(){s(),l()}):(s(),l())})},a.type="modifier",a.id=a.opts.id||"ThumbnailGenerator",a.title="Thumbnail Generator",a.queue=[],a.queueProcessing=!1,a.defaultThumbnailDimension=200,a.thumbnailType=a.opts.thumbnailType||"image/jpeg",a.defaultLocale=l7e;var o={thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1};if(a.opts=qz(qz({},o),i),a.i18nInit(),a.opts.lazy&&a.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.");return a}return Q9e(r,[{key:"createThumbnail",value:function(i,a,o){var u=this,s=URL.createObjectURL(i.data),l=new Promise(function(f,p){var d=new Image;d.src=s,d.addEventListener("load",function(){URL.revokeObjectURL(s),f(d)}),d.addEventListener("error",function(v){URL.revokeObjectURL(s),p(v.error||new Error("Could not create thumbnail"))})}),c=s7e(i.data).catch(function(){return 1});return Promise.all([l,c]).then(function(f){var p=W9e(f,2),d=p[0],v=p[1],g=u.getProportionalDimensions(d,a,o,v.deg),m=u.rotateImage(d,v),_=u.resizeImage(m,g.width,g.height);return u.canvasToBlob(_,u.thumbnailType,80)}).then(function(f){return URL.createObjectURL(f)})}},{key:"getProportionalDimensions",value:function(i,a,o,u){var s=i.width/i.height;return(u===90||u===270)&&(s=i.height/i.width),a!=null?{width:a,height:Math.round(a/s)}:o!=null?{width:Math.round(o*s),height:o}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/s)}}},{key:"protect",value:function(i){var a=i.width/i.height,o=5e6,u=4096,s=Math.floor(Math.sqrt(o*a)),l=Math.floor(o/Math.sqrt(o*a));if(s>u&&(s=u,l=Math.round(s/a)),l>u&&(l=u,s=Math.round(a*l)),i.width>s){var c=document.createElement("canvas");c.width=s,c.height=l,c.getContext("2d").drawImage(i,0,0,s,l),i=c}return i}},{key:"resizeImage",value:function(i,a,o){i=this.protect(i);var u=Math.ceil(Math.log2(i.width/a));u<1&&(u=1);for(var s=a*Math.pow(2,u-1),l=o*Math.pow(2,u-1),c=2;u--;){var f=document.createElement("canvas");f.width=s,f.height=l,f.getContext("2d").drawImage(i,0,0,s,l),i=f,s=Math.round(s/c),l=Math.round(l/c)}return i}},{key:"rotateImage",value:function(i,a){var o=i.width,u=i.height;(a.deg===90||a.deg===270)&&(o=i.height,u=i.width);var s=document.createElement("canvas");s.width=o,s.height=u;var l=s.getContext("2d");return l.translate(o/2,u/2),a.canvas&&(l.rotate(a.rad),l.scale(a.scaleX,a.scaleY)),l.drawImage(i,-i.width/2,-i.height/2,i.width,i.height),s}},{key:"canvasToBlob",value:function(i,a,o){try{i.getContext("2d").getImageData(0,0,1,1)}catch(u){if(u.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return i.toBlob?new Promise(function(u){i.toBlob(u,a,o)}).then(function(u){if(u===null)throw new Error("cannot read image, probably an svg with external resources");return u}):Promise.resolve().then(function(){return o7e(i.toDataURL(a,o),{})}).then(function(u){if(u===null)throw new Error("could not extract blob, probably an old browser");return u})}},{key:"setPreviewURL",value:function(i,a){this.uppy.setFileState(i,{preview:a})}},{key:"addToQueue",value:function(i){this.queue.push(i),this.queueProcessing===!1&&this.processQueue()}},{key:"processQueue",value:function(){var i=this;if(this.queueProcessing=!0,this.queue.length>0){var a=this.uppy.getFile(this.queue.shift());if(!a){this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error");return}return this.requestThumbnail(a).catch(function(){}).then(function(){return i.processQueue()})}this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated")}},{key:"requestThumbnail",value:function(i){var a=this;return Iz(i.type)&&!i.isRemote?this.createThumbnail(i,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(function(o){a.setPreviewURL(i.id,o),a.uppy.log("[ThumbnailGenerator] Generated thumbnail for ".concat(i.id)),a.uppy.emit("thumbnail:generated",a.uppy.getFile(i.id),o)}).catch(function(o){a.uppy.log("[ThumbnailGenerator] Failed thumbnail for ".concat(i.id,":"),"warning"),a.uppy.log(o,"warning"),a.uppy.emit("thumbnail:error",a.uppy.getFile(i.id),o)}):Promise.resolve()}},{key:"install",value:function(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}},{key:"uninstall",value:function(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}]),r}(a7e),Ez.VERSION="2.1.1",Tz)});var Fz=h(function(Ldt,xz){function Ky(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ky=function(r){return typeof r}:Ky=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ky(t)}var c7e=kP();xz.exports=function(e){if(typeof e=="string"){var r=document.querySelectorAll(e);return r.length===0?null:Array.from(r)}return Ky(e)==="object"&&c7e(e)?[e]:null}});var Rn=h(function(zdt,Cz){Cz.exports=Array.from});var Uz=h(function(Hdt,Dz){Dz.exports=function(e){return!e.fullPath||e.fullPath==="/".concat(e.name)?null:e.fullPath}});var Nz=h(function($dt,Mz){function jz(t){return h7e(t)||d7e(t)||p7e(t)||f7e()}function f7e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p7e(t,e){if(!!t){if(typeof t=="string")return Hq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hq(t,e)}}function d7e(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function h7e(t){if(Array.isArray(t))return Hq(t)}function Hq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}Mz.exports=function t(e,r,n,i){var a=i.onSuccess;e.readEntries(function(o){var u=[].concat(jz(r),jz(o));o.length?setTimeout(function(){t(e,u,n,{onSuccess:a})},0):a(u)},function(o){n(o),a(r)})}});var Lz=h(function(Wdt,Bz){var v7e=Rn(),y7e=Uz(),m7e=Nz();Bz.exports=function(e,r){var n=[],i=[],a=function o(u){return new Promise(function(s){if(u.isFile)u.file(function(c){c.relativePath=y7e(u),n.push(c),s()},function(c){r(c),s()});else if(u.isDirectory){var l=u.createReader();m7e(l,[],r,{onSuccess:function(f){return s(Promise.all(f.map(o)))}})}})};return v7e(e.items).forEach(function(o){var u=o.webkitGetAsEntry();u&&i.push(a(u))}),Promise.all(i).then(function(){return n})}});var Hz=h(function(Vdt,zz){var g7e=Rn();zz.exports=function(e){var r=g7e(e.files);return Promise.resolve(r)}});var Yy=h(function(Gdt,$z){var b7e=Lz(),_7e=Hz();$z.exports=function(e,r){var n,i=r===void 0?{}:r,a=i.logDropError,o=a===void 0?function(){}:a;return(n=e.items)!=null&&n[0]&&"webkitGetAsEntry"in e.items[0]?b7e(e,o):_7e(e)}});var Xy=h(function(Kdt,Wz){Wz.exports=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])']});var $q=h(function(Ydt,Vz){Vz.exports=function(e,r){if(r){var n=e.querySelector('[data-uppy-paneltype="'.concat(r,'"]'));if(n)return n}return e}});var Xz=h(function(Xdt,Yz){var w7e=Rn(),S7e=Xy(),O7e=$q();function Gz(t,e){var r=e[0];r&&(r.focus(),t.preventDefault())}function P7e(t,e){var r=e[e.length-1];r&&(r.focus(),t.preventDefault())}function q7e(t){return t.contains(document.activeElement)}function Kz(t,e,r){var n=O7e(r,e),i=w7e(n.querySelectorAll(S7e)),a=i.indexOf(document.activeElement);q7e(n)?t.shiftKey&&a===0?P7e(t,i):!t.shiftKey&&a===i.length-1&&Gz(t,i):Gz(t,i)}Yz.exports={forModal:function(e,r,n){Kz(e,r,n)},forInline:function(e,r,n){r===null||Kz(e,r,n)}}});var eH=h(function(Jdt,Zz){function Fa(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fa=function(r){return typeof r}:Fa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fa(t)}var R7e="Expected a function",Jz=0/0,E7e="[object Symbol]",T7e=/^\s+|\s+$/g,A7e=/^[-+]0x[0-9a-f]+$/i,I7e=/^0b[01]+$/i,k7e=/^0o[0-7]+$/i,x7e=parseInt,F7e=(typeof global=="undefined"?"undefined":Fa(global))=="object"&&global&&global.Object===Object&&global,C7e=(typeof self=="undefined"?"undefined":Fa(self))=="object"&&self&&self.Object===Object&&self,D7e=F7e||C7e||Function("return this")(),U7e=Object.prototype,j7e=U7e.toString,M7e=Math.max,N7e=Math.min,Wq=function(){return D7e.Date.now()};function B7e(t,e,r){var n,i,a,o,u,s,l=0,c=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(R7e);e=Qz(e)||0,Vq(r)&&(c=!!r.leading,f="maxWait"in r,a=f?M7e(Qz(r.maxWait)||0,e):a,p="trailing"in r?!!r.trailing:p);function d(F){var $=n,Y=i;return n=i=void 0,l=F,o=t.apply(Y,$),o}function v(F){return l=F,u=setTimeout(_,e),c?d(F):o}function g(F){var $=F-s,Y=F-l,R=e-$;return f?N7e(R,a-Y):R}function m(F){var $=F-s,Y=F-l;return s===void 0||$>=e||$<0||f&&Y>=a}function _(){var F=Wq();if(m(F))return S(F);u=setTimeout(_,g(F))}function S(F){return u=void 0,p&&n?d(F):(n=i=void 0,o)}function q(){u!==void 0&&clearTimeout(u),l=0,n=s=i=u=void 0}function A(){return u===void 0?o:S(Wq())}function D(){var F=Wq(),$=m(F);if(n=arguments,i=this,s=F,$){if(u===void 0)return v(s);if(f)return u=setTimeout(_,e),d(s)}return u===void 0&&(u=setTimeout(_,e)),o}return D.cancel=q,D.flush=A,D}function Vq(t){var e=Fa(t);return!!t&&(e=="object"||e=="function")}function L7e(t){return!!t&&Fa(t)=="object"}function z7e(t){return Fa(t)=="symbol"||L7e(t)&&j7e.call(t)==E7e}function Qz(t){if(typeof t=="number")return t;if(z7e(t))return Jz;if(Vq(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Vq(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(T7e,"");var r=I7e.test(t);return r||k7e.test(t)?x7e(t.slice(2),r?2:8):A7e.test(t)?Jz:+t}Zz.exports=B7e});var rH=h(function(Qdt,tH){var H7e=eH(),$7e=Xy(),W7e=$q();tH.exports=function(){var e=!1,r=function(i,a){var o=W7e(i,a),u=o.contains(document.activeElement);if(!(u&&e)){var s=o.querySelector("[data-uppy-super-focusable]");if(!(u&&!s))if(s)s.focus({preventScroll:!0}),e=!0;else{var l=o.querySelector($7e);l==null||l.focus({preventScroll:!0}),e=!1}}};return H7e(r,260)}});var Gq=h(function(Zdt,iH){"use strict";var nH=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function V7e(t,e){return!!(t===e||nH(t)&&nH(e))}function G7e(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!V7e(t[r],e[r]))return!1;return!0}function K7e(t,e){e===void 0&&(e=G7e);var r,n=[],i,a=!1;function o(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return a&&r===this&&e(u,n)||(i=t.apply(this,u),a=!0,r=this,n=u),i}return o}iH.exports=K7e});var Kq=h(function(eht,aH){aH.exports=function(){var e=document.body;return!(!("draggable"in e)||!("ondragstart"in e&&"ondrop"in e)||!("FormData"in window)||!("FileReader"in window))}});var uH=h(function(tht,oH){oH.exports=function(e,r){if(e===r)return!0;for(var n in e)if(!(n in r))return!1;for(var n in r)if(e[n]!==r[n])return!1;return!0}});var Jy=h(function(rht,sH){var Y7e=(ee(),re(ne)),wt=Y7e.h;function X7e(){return wt("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},wt("g",{fill:"#686DE0",fillRule:"evenodd"},wt("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),wt("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),wt("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}function J7e(){return wt("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},wt("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}function Q7e(){return wt("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},wt("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}function Z7e(){return wt("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},wt("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}function eze(){return wt("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},wt("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}function tze(){return wt("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},wt("g",{fill:"#A7AFB7",fillRule:"nonzero"},wt("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),wt("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))}function rze(){return wt("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},wt("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}sH.exports=function(e){var r={color:"#838999",icon:tze()};if(!e)return r;var n=e.split("/")[0],i=e.split("/")[1];if(n==="text")return{color:"#5a5e69",icon:rze()};if(n==="image")return{color:"#686de0",icon:X7e()};if(n==="audio")return{color:"#068dbb",icon:J7e()};if(n==="video")return{color:"#19af67",icon:Q7e()};if(n==="application"&&i==="pdf")return{color:"#e25149",icon:Z7e()};var a=["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"];return n==="application"&&a.indexOf(i)!==-1?{color:"#00C469",icon:eze()}:r}});var Yq=h(function(nht,lH){var nze=(ee(),re(ne)),Qf=nze.h,ize=Jy();lH.exports=function(e){var r=e.file;if(r.preview)return Qf("img",{className:"uppy-Dashboard-Item-previewImg",alt:r.name,src:r.preview});var n=ize(r.type),i=n.color,a=n.icon;return Qf("div",{className:"uppy-Dashboard-Item-previewIconWrap"},Qf("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:i}},a),Qf("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},Qf("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}});var Xq=h(function(iht,fH){var aze=(ee(),re(ne)),cH=aze.h,oze=function(e,r){var n=r.filter(function(i){return i.id===e});return n[0].name};fH.exports=function(e){var r=e.file,n=e.toggleFileCard,i=e.i18n,a=e.metaFields,o=r.missingRequiredMetaFields;if(!(o!=null&&o.length))return null;var u=o.map(function(s){return oze(s,a)}).join(", ");return cH("div",{className:"uppy-Dashboard-Item-errorMessage"},i("missingRequiredMetaFields",{smart_count:o.length,fields:u})," ",cH("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:function(){return n(!0,r.id)}},i("editFile")))}});var dH=h(function(aht,pH){var uze=(ee(),re(ne)),Zf=uze.h,sze=Yq(),lze=Xq(),cze=Jy();pH.exports=function(e){return Zf("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:cze(e.file.type).color}},e.showLinkToFileUploadResult&&e.file.uploadURL&&Zf("a",{className:"uppy-Dashboard-Item-previewLink",href:e.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.file.meta.name},Zf("span",{hidden:!0},e.file.meta.name)),Zf(sze,{file:e.file}),Zf(lze,{file:e.file,i18n:e.i18n,toggleFileCard:e.toggleFileCard,metaFields:e.metaFields}))}});var yH=h(function(oht,vH){var fze=(ee(),re(ne)),Fe=fze.h;function pze(t){if(!t.isUploaded){if(t.error&&!t.hideRetryButton){t.uppy.retryUpload(t.file.id);return}t.resumableUploads&&!t.hidePauseResumeButton?t.uppy.pauseResume(t.file.id):t.individualCancellation&&!t.hideCancelButton&&t.uppy.removeFile(t.file.id)}}function hH(t){return t.isUploaded?t.i18n("uploadComplete"):t.error?t.i18n("retryUpload"):t.resumableUploads?t.file.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):t.individualCancellation?t.i18n("cancelUpload"):""}function Jq(t){return Fe("div",{className:"uppy-Dashboard-Item-progress"},Fe("button",{className:"uppy-u-reset uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":hH(t),title:hH(t),onClick:function(){return pze(t)}},t.children))}function Qy(t){var e=t.children;return Fe("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},e)}function Qq(t){var e=t.progress,r=2*Math.PI*15;return Fe("g",null,Fe("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),Fe("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":r,"stroke-dashoffset":r-r/100*e}))}vH.exports=function(e){if(!e.file.progress.uploadStarted)return null;if(e.isUploaded)return Fe("div",{className:"uppy-Dashboard-Item-progress"},Fe("div",{className:"uppy-Dashboard-Item-progressIndicator"},Fe(Qy,null,Fe("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),Fe("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"}))));if(!e.recoveredState)return e.error&&!e.hideRetryButton?Fe(Jq,e,Fe("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},Fe("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),Fe("path",{d:"M7.9 3H10v2H7.9z"}),Fe("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),Fe("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):e.resumableUploads&&!e.hidePauseResumeButton?Fe(Jq,e,Fe(Qy,null,Fe(Qq,{progress:e.file.progress.percentage}),e.file.isPaused?Fe("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):Fe("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},Fe("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),Fe("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):!e.resumableUploads&&e.individualCancellation&&!e.hideCancelButton?Fe(Jq,e,Fe(Qy,null,Fe(Qq,{progress:e.file.progress.percentage}),Fe("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):Fe("div",{className:"uppy-Dashboard-Item-progress"},Fe("div",{className:"uppy-Dashboard-Item-progressIndicator"},Fe(Qy,null,Fe(Qq,{progress:e.file.progress.percentage}))))}});var gH=h(function(uht,mH){var Zq="...";mH.exports=function(e,r){if(r===0)return"";if(e.length<=r)return e;if(r<=Zq.length+1)return"".concat(e.slice(0,r-1),"\u2026");var n=r-Zq.length,i=Math.ceil(n/2),a=Math.floor(n/2);return e.slice(0,i)+Zq+e.slice(-a)}});var SH=h(function(sht,wH){var bH=(ee(),re(ne)),Rr=bH.h,dze=bH.Fragment,hze=Uv(),_H=gH(),vze=Xq(),yze=function(e){var r=e.file.meta,n=r.author,i=r.name;function a(){return e.containerWidth<=352?35:e.containerWidth<=576?60:n?20:30}return Rr("div",{className:"uppy-Dashboard-Item-name",title:i},_H(i,a()))},mze=function(e){var r=e.file.meta.author,n=e.file.remote.providerName,i="\xB7";return r?Rr("div",{className:"uppy-Dashboard-Item-author"},Rr("a",{href:"".concat(r.url,"?utm_source=Companion&utm_medium=referral"),target:"_blank",rel:"noopener noreferrer"},_H(r.name,13)),n?Rr(dze,null," ".concat(i," "),n," ".concat(i," ")):null):null},gze=function(e){return e.file.size&&Rr("div",{className:"uppy-Dashboard-Item-statusSize"},hze(e.file.size))},bze=function(e){return e.file.isGhost&&Rr("span",null," \u2022 ",Rr("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:e.toggleAddFilesPanel},e.i18n("reSelect")))},_ze=function(e){var r=e.file,n=e.onClick;return r.error?Rr("button",{className:"uppy-u-reset uppy-Dashboard-Item-errorDetails","aria-label":r.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:n,type:"button"},"?"):null};wH.exports=function(e){var r=e.file;return Rr("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":r.source},Rr("div",{className:"uppy-Dashboard-Item-fileName"},yze(e),Rr(_ze,{file:e.file,onClick:function(){return alert(e.file.error)}})),Rr("div",{className:"uppy-Dashboard-Item-status"},mze(e),gze(e),bze(e)),Rr(vze,{file:e.file,i18n:e.i18n,toggleFileCard:e.toggleFileCard,metaFields:e.metaFields}))}});var PH=h(function(lht,OH){OH.exports=function(e,r){return r=r||"Copy the URL below",new Promise(function(n){var i=document.createElement("textarea");i.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),i.value=e,document.body.appendChild(i),i.select();var a=function(){document.body.removeChild(i),window.prompt(r,e),n()};try{var o=document.execCommand("copy");return o?(document.body.removeChild(i),n()):a("copy command unavailable")}catch(u){return document.body.removeChild(i),a(u)}})}});var RH=h(function(cht,qH){var wze=(ee(),re(ne)),Dt=wze.h,Sze=PH();function Oze(t){var e=t.file,r=t.uploadInProgressOrComplete,n=t.metaFields,i=t.canEditFile,a=t.i18n,o=t.onClick;return!r&&n&&n.length>0||!r&&i(e)?Dt("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":a("editFileWithFilename",{file:e.meta.name}),title:a("editFileWithFilename",{file:e.meta.name}),onClick:function(){return o()}},Dt("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},Dt("g",{fillRule:"evenodd"},Dt("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),Dt("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),Dt("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function Pze(t){var e=t.i18n,r=t.onClick,n=t.file;return Dt("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":e("removeFile",{file:n.meta.name}),title:e("removeFile",{file:n.meta.name}),onClick:function(){return r()}},Dt("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},Dt("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),Dt("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}var qze=function(e,r){Sze(r.file.uploadURL,r.i18n("copyLinkToClipboardFallback")).then(function(){r.uppy.log("Link copied to clipboard."),r.uppy.info(r.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(r.uppy.log).then(function(){return e.target.focus({preventScroll:!0})})};function Rze(t){var e=t.i18n;return Dt("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":e("copyLink"),title:e("copyLink"),onClick:function(n){return qze(n,t)}},Dt("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},Dt("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}qH.exports=function(e){var r=e.uppy,n=e.file,i=e.uploadInProgressOrComplete,a=e.canEditFile,o=e.metaFields,u=e.showLinkToFileUploadResult,s=e.showRemoveButton,l=e.i18n,c=e.toggleFileCard,f=e.openFileEditor,p=function(){o&&o.length>0?c(!0,n.id):f(n)};return Dt("div",{className:"uppy-Dashboard-Item-actionWrapper"},Dt(Oze,{i18n:l,file:n,uploadInProgressOrComplete:i,canEditFile:a,metaFields:o,onClick:p}),u&&n.uploadURL?Dt(Rze,{file:n,uppy:r,i18n:l}):null,s?Dt(Pze,{i18n:l,file:n,uppy:r,onClick:function(){return e.uppy.removeFile(n.id,"removed-by-user")}}):null)}});var IH=h(function(fht,AH){function Zy(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zy=function(r){return typeof r}:Zy=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zy(t)}function Eze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Tze(t,e,r){return e&&EH(t.prototype,e),r&&EH(t,r),t}function Aze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eR(t,e)}function eR(t,e){return eR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},eR(t,e)}function Ize(t){var e=Fze();return function(){var n=em(t),i;if(e){var a=em(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return kze(this,i)}}function kze(t,e){if(e&&(Zy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xze(t)}function xze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fze(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},em(t)}var TH=(ee(),re(ne)),Ho=TH.h,Cze=TH.Component,Dze=qr(),Uze=uH(),jze=dH(),Mze=yH(),Nze=SH(),Bze=RH();AH.exports=function(t){Aze(r,t);var e=Ize(r);function r(){return Eze(this,r),e.apply(this,arguments)}return Tze(r,[{key:"componentDidMount",value:function(){var i=this.props.file;i.preview||this.props.handleRequestThumbnail(i)}},{key:"shouldComponentUpdate",value:function(i){return!Uze(this.props,i)}},{key:"componentDidUpdate",value:function(){var i=this.props.file;i.preview||this.props.handleRequestThumbnail(i)}},{key:"componentWillUnmount",value:function(){var i=this.props.file;i.preview||this.props.handleCancelThumbnail(i)}},{key:"render",value:function(){var i=this.props.file,a=i.progress.preprocess||i.progress.postprocess,o=i.progress.uploadComplete&&!a&&!i.error,u=i.progress.uploadStarted||a,s=i.progress.uploadStarted&&!i.progress.uploadComplete||a,l=i.error||!1,c=i.isGhost,f=(this.props.individualCancellation||!s)&&!o;o&&this.props.showRemoveButtonAfterComplete&&(f=!0);var p=Dze({"uppy-Dashboard-Item":!0,"is-inprogress":s&&!this.props.recoveredState,"is-processing":a,"is-complete":o,"is-error":!!l,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":c});return Ho("div",{className:p,id:"uppy_".concat(i.id),role:this.props.role},Ho("div",{className:"uppy-Dashboard-Item-preview"},Ho(jze,{file:i,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),Ho(Mze,{uppy:this.props.uppy,file:i,error:l,isUploaded:o,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),Ho("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},Ho(Nze,{file:i,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),Ho(Bze,{file:i,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:f,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:u,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}}]),r}(Cze)});var DH=h(function(pht,CH){function tm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tm=function(r){return typeof r}:tm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},tm(t)}var Lze=["data","rowHeight","renderRow","overscanCount"];function kH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kH(Object(r),!0).forEach(function(n){zze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zze(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hze(t,e){if(t==null)return{};var r=$ze(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(r[n]=t[n]))}return r}function $ze(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Wze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Vze(t,e,r){return e&&xH(t.prototype,e),r&&xH(t,r),t}function Gze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tR(t,e)}function tR(t,e){return tR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},tR(t,e)}function Kze(t){var e=Jze();return function(){var n=nm(t),i;if(e){var a=nm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Yze(this,i)}}function Yze(t,e){if(e&&(tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xze(t)}function Xze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jze(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},nm(t)}function rR(){return rR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rR.apply(this,arguments)}var FH=(ee(),re(ne)),nR=FH.h,Qze=FH.Component,Zze={position:"relative",width:"100%",minHeight:"100%"},eHe={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},tHe=function(t){Gze(r,t);var e=Kze(r);function r(n){var i;return Wze(this,r),i=e.call(this,n),i.handleScroll=function(){i.setState({offset:i.base.scrollTop})},i.handleResize=function(){i.resize()},i.focusElement=null,i.state={offset:0,height:0},i}return Vze(r,[{key:"componentDidMount",value:function(){this.resize(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUpdate",value:function(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}},{key:"componentDidUpdate",value:function(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"resize",value:function(){var i=this.state.height;i!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}},{key:"render",value:function(i){var a=i.data,o=i.rowHeight,u=i.renderRow,s=i.overscanCount,l=s===void 0?10:s,c=Hze(i,Lze),f=this.state,p=f.offset,d=f.height,v=Math.floor(p/o),g=Math.floor(d/o);l&&(v=Math.max(0,v-v%l),g+=l);var m=v+g+4,_=a.slice(v,m),S=rm(rm({},Zze),{},{height:a.length*o}),q=rm(rm({},eHe),{},{top:v*o});return nR("div",rR({onScroll:this.handleScroll},c),nR("div",{role:"presentation",style:S},nR("div",{role:"presentation",style:q},_.map(u))))}}]),r}(Qze);CH.exports=tHe});var jH=h(function(dht,UH){function iR(){return iR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iR.apply(this,arguments)}var rHe=qr(),nHe=(ee(),re(ne)),aR=nHe.h,iHe=IH(),aHe=DH();function oHe(t,e){var r=[],n=[];return t.forEach(function(i){n.length<e?n.push(i):(r.push(n),n=[i])}),n.length&&r.push(n),r}UH.exports=function(t){var e=t.totalFileCount===0,r=rHe("uppy-Dashboard-files",{"uppy-Dashboard-files--noFiles":e}),n=t.itemsPerRow===1?71:200,i={id:t.id,error:t.error,i18n:t.i18n,uppy:t.uppy,acquirers:t.acquirers,resumableUploads:t.resumableUploads,individualCancellation:t.individualCancellation,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,isWide:t.isWide,metaFields:t.metaFields,recoveredState:t.recoveredState,toggleFileCard:t.toggleFileCard,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail},a=function(c,f){return t.files[f].isGhost-t.files[c].isGhost},o=Object.keys(t.files);t.recoveredState&&o.sort(a);var u=oHe(o,t.itemsPerRow),s=function(c){return aR("div",{role:"presentation",key:c[0]},c.map(function(f){return aR(iHe,iR({key:f,uppy:t.uppy},i,{role:"listitem",openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,toggleAddFilesPanel:t.toggleAddFilesPanel,file:t.files[f]}))}))};return aR(aHe,{class:r,role:"list",data:u,renderRow:s,rowHeight:n})}});var sR=h(function(hht,LH){function im(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?im=function(r){return typeof r}:im=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},im(t)}function uHe(t){return fHe(t)||cHe(t)||lHe(t)||sHe()}function sHe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function lHe(t,e){if(!!t){if(typeof t=="string")return oR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oR(t,e)}}function cHe(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fHe(t){if(Array.isArray(t))return oR(t)}function oR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dHe(t,e,r){return e&&MH(t.prototype,e),r&&MH(t,r),t}function hHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uR(t,e)}function uR(t,e){return uR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},uR(t,e)}function vHe(t){var e=gHe();return function(){var n=am(t),i;if(e){var a=am(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return yHe(this,i)}}function yHe(t,e){if(e&&(im(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mHe(t)}function mHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gHe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},am(t)}var NH,BH=(ee(),re(ne)),rt=BH.h,bHe=BH.Component;NH=Symbol.for("uppy test: disable unused locale key warning");var _He=function(t,e){hHe(n,t);var r=vHe(n);function n(){var i;return pHe(this,n),i=r.apply(this,arguments),i.triggerFileInputClick=function(){i.fileInput.click()},i.triggerFolderInputClick=function(){i.folderInput.click()},i.onFileInputChange=function(a){i.props.handleInputChange(a),a.target.value=null},i.renderHiddenInput=function(a,o){return rt("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:a,type:"file",name:"files[]",multiple:i.props.maxNumberOfFiles!==1,onChange:i.onFileInputChange,accept:i.props.allowedFileTypes,ref:o})},i.renderMyDeviceAcquirer=function(){return rt("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},rt("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:i.triggerFileInputClick},rt("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},rt("g",{fill:"none",fillRule:"evenodd"},rt("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#2275D7"}),rt("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),rt("div",{className:"uppy-DashboardTab-name"},i.props.i18n("myDevice"))))},i.renderBrowseButton=function(a,o){var u=i.props.acquirers.length;return rt("button",{type:"button",className:"uppy-u-reset uppy-Dashboard-browse",onClick:o,"data-uppy-super-focusable":u===0},a)},i.renderDropPasteBrowseTagline=function(){var a=i.props.acquirers.length,o=i.renderBrowseButton(i.props.i18n("browseFiles"),i.triggerFileInputClick),u=i.renderBrowseButton(i.props.i18n("browseFolders"),i.triggerFolderInputClick),s=i.props.fileManagerSelectionType,l=s.charAt(0).toUpperCase()+s.slice(1);return rt("div",{class:"uppy-Dashboard-AddFiles-title"},i.props.disableLocalFiles?i.props.i18n("importFiles"):a>0?i.props.i18nArray("dropPasteImport".concat(l),{browseFiles:o,browseFolders:u,browse:o}):i.props.i18nArray("dropPaste".concat(l),{browseFiles:o,browseFolders:u,browse:o}))},i.renderAcquirer=function(a){return rt("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":a.id},rt("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":a.id,"aria-controls":"uppy-DashboardContent-panel--".concat(a.id),"aria-selected":i.props.activePickerPanel.id===a.id,"data-uppy-super-focusable":!0,onClick:function(){return i.props.showPanel(a.id)}},a.icon(),rt("div",{className:"uppy-DashboardTab-name"},a.name)))},i.renderAcquirers=function(a,o){var u=uHe(a),s=u.splice(a.length-2,a.length);return rt("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},!o&&i.renderMyDeviceAcquirer(),u.map(function(l){return i.renderAcquirer(l)}),rt("span",{role:"presentation",style:{"white-space":"nowrap"}},s.map(function(l){return i.renderAcquirer(l)})))},i}return dHe(n,[{key:e,value:function(){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}},{key:"renderPoweredByUppy",value:function(){var a=this.props.i18nArray,o=rt("span",null,rt("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},rt("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),rt("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy")),u=a("poweredBy",{uppy:o});return rt("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},u)}},{key:"render",value:function(){var a=this;return rt("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,function(o){a.fileInput=o}),this.renderHiddenInput(!0,function(o){a.folderInput=o}),this.renderDropPasteBrowseTagline(),this.props.acquirers.length>0&&this.renderAcquirers(this.props.acquirers,this.props.disableLocalFiles),rt("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&rt("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}}]),n}(bHe,NH);LH.exports=_He});var HH=h(function(vht,zH){var wHe=(ee(),re(ne)),ep=wHe.h,SHe=qr(),OHe=sR(),PHe=function(e){return ep("div",{className:SHe("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":e.showAddFilesPanel},ep("div",{className:"uppy-DashboardContent-bar"},ep("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("addingMoreFiles")),ep("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){return e.toggleAddFilesPanel(!1)}},e.i18n("back"))),ep(OHe,e))};zH.exports=PHe});var lR=h(function(yht,$H){function qHe(t){var e=t.target.tagName;if(e==="INPUT"||e==="TEXTAREA"){t.stopPropagation();return}t.preventDefault(),t.stopPropagation()}$H.exports=qHe});var VH=h(function(mht,WH){var RHe=(ee(),re(ne)),tp=RHe.h,EHe=qr(),om=lR();function THe(t){return tp("div",{className:EHe("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:"uppy-DashboardContent-panel--".concat(t.activePickerPanel.id),onDragOver:om,onDragLeave:om,onDrop:om,onPaste:om},tp("div",{className:"uppy-DashboardContent-bar"},tp("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},t.i18n("importFrom",{name:t.activePickerPanel.name})),tp("button",{className:"uppy-DashboardContent-back",type:"button",onClick:t.hideAllPanels},t.i18n("cancel"))),tp("div",{className:"uppy-DashboardContent-panelBody"},t.uppy.getPlugin(t.activePickerPanel.id).render(t.state)))}WH.exports=THe});var KH=h(function(ght,GH){var AHe=(ee(),re(ne)),$o=AHe.h,IHe=qr();function kHe(t){var e=t.files[t.fileCardFor];return $o("div",{className:IHe("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},$o("div",{className:"uppy-DashboardContent-bar"},$o("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},t.i18nArray("editing",{file:$o("span",{className:"uppy-DashboardContent-titleFile"},e.meta?e.meta.name:e.name)})),$o("button",{className:"uppy-DashboardContent-back",type:"button",onClick:t.hideAllPanels},t.i18n("cancel")),$o("button",{className:"uppy-DashboardContent-save",type:"button",onClick:t.saveFileEditor},t.i18n("save"))),$o("div",{className:"uppy-DashboardContent-panelBody"},t.editors.map(function(r){return t.uppy.getPlugin(r.id).render(t.state)})))}GH.exports=kHe});var XH=h(function(bht,YH){var xHe=(ee(),re(ne)),Kn=xHe.h,Yn={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function FHe(t,e,r,n){if(n===void 0&&(n={}),t)return Yn.STATE_ERROR;if(e)return Yn.STATE_COMPLETE;if(r)return Yn.STATE_PAUSED;for(var i=Yn.STATE_WAITING,a=Object.keys(n),o=0;o<a.length;o++){var u=n[a[o]].progress;if(u.uploadStarted&&!u.uploadComplete)return Yn.STATE_UPLOADING;u.preprocess&&i!==Yn.STATE_UPLOADING&&(i=Yn.STATE_PREPROCESSING),u.postprocess&&i!==Yn.STATE_UPLOADING&&i!==Yn.STATE_PREPROCESSING&&(i=Yn.STATE_POSTPROCESSING)}return i}function CHe(t){var e=FHe(t.isAllErrored,t.isAllComplete,t.isAllPaused,t.files);switch(e){case"uploading":return t.i18n("uploadingXFiles",{smart_count:t.inProgressNotPausedFiles.length});case"preprocessing":case"postprocessing":return t.i18n("processingXFiles",{smart_count:t.processingFiles.length});case"paused":return t.i18n("uploadPaused");case"waiting":return t.i18n("xFilesSelected",{smart_count:t.newFiles.length});case"complete":return t.i18n("uploadComplete")}}function DHe(t){var e=t.allowNewUpload;return e&&t.maxNumberOfFiles&&(e=t.totalFileCount<t.maxNumberOfFiles),Kn("div",{className:"uppy-DashboardContent-bar"},!t.isAllComplete&&!t.hideCancelButton?Kn("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(){return t.uppy.cancelAll()}},t.i18n("cancel")):Kn("div",null),Kn("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},Kn(CHe,t)),e?Kn("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":t.i18n("addMoreFiles"),title:t.i18n("addMoreFiles"),onClick:function(){return t.toggleAddFilesPanel(!0)}},Kn("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},Kn("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),Kn("span",{className:"uppy-DashboardContent-addMoreCaption"},t.i18n("addMore"))):Kn("div",null))}YH.exports=DHe});var n$=h(function(_ht,r$){function um(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?um=function(r){return typeof r}:um=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},um(t)}function JH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JH(Object(r),!0).forEach(function(n){ZH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZH(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function jHe(t,e,r){return e&&e$(t.prototype,e),r&&e$(t,r),t}function MHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cR(t,e)}function cR(t,e){return cR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},cR(t,e)}function NHe(t){var e=zHe();return function(){var n=sm(t),i;if(e){var a=sm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return BHe(this,i)}}function BHe(t,e){if(e&&(um(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LHe(t)}function LHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zHe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function sm(t){return sm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},sm(t)}var t$=(ee(),re(ne)),Ut=t$.h,HHe=t$.Component,$He=qr(),WHe=Co(),VHe=WHe.nanoid,GHe=Jy(),lm=lR(),KHe=Yq(),YHe=function(t){MHe(r,t);var e=NHe(r);function r(n){var i;UHe(this,r),i=e.call(this,n),i.form=document.createElement("form"),i.updateMeta=function(s,l){i.setState(function(c){var f=c.formState;return{formState:QH(QH({},f),{},ZH({},l,s))}})},i.handleSave=function(s){s.preventDefault();var l=i.props.fileCardFor;i.props.saveFileCard(i.state.formState,l)},i.handleCancel=function(){i.props.toggleFileCard(!1)},i.saveOnEnter=function(s){if(s.keyCode===13){s.stopPropagation(),s.preventDefault();var l=i.props.files[i.props.fileCardFor];i.props.saveFileCard(i.state.formState,l.id)}},i.renderMetaFields=function(){var s=i.getMetaFields()||[],l={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return s.map(function(c){var f="uppy-Dashboard-FileCard-input-".concat(c.id),p=i.props.requiredMetaFields.includes(c.id);return Ut("fieldset",{key:c.id,className:"uppy-Dashboard-FileCard-fieldset"},Ut("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:f},c.name),c.render!==void 0?c.render({value:i.state.formState[c.id],onChange:function(v){return i.updateMeta(v,c.id)},fieldCSSClasses:l,required:p,form:i.form.id},Ut):Ut("input",{className:l.text,id:f,form:i.form.id,type:c.type||"text",required:p,value:i.state.formState[c.id],placeholder:c.placeholder,onKeyUp:"form"in HTMLInputElement.prototype?void 0:i.saveOnEnter,onKeyDown:"form"in HTMLInputElement.prototype?void 0:i.saveOnEnter,onKeyPress:"form"in HTMLInputElement.prototype?void 0:i.saveOnEnter,onInput:function(v){return i.updateMeta(v.target.value,c.id)},"data-uppy-super-focusable":!0}))})};var a=i.props.files[i.props.fileCardFor],o=i.getMetaFields()||[],u={};return o.forEach(function(s){u[s.id]=a.meta[s.id]||""}),i.state={formState:u},i.form.id=VHe(),i}return jHe(r,[{key:"componentWillMount",value:function(){this.form.addEventListener("submit",this.handleSave),document.body.appendChild(this.form)}},{key:"componentWillUnmount",value:function(){this.form.removeEventListener("submit",this.handleSave),document.body.removeChild(this.form)}},{key:"getMetaFields",value:function(){return typeof this.props.metaFields=="function"?this.props.metaFields(this.props.files[this.props.fileCardFor]):this.props.metaFields}},{key:"render",value:function(){var i=this,a=this.props.files[this.props.fileCardFor],o=this.props.canEditFile(a);return Ut("div",{className:$He("uppy-Dashboard-FileCard",this.props.className),"data-uppy-panelType":"FileCard",onDragOver:lm,onDragLeave:lm,onDrop:lm,onPaste:lm},Ut("div",{className:"uppy-DashboardContent-bar"},Ut("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:Ut("span",{className:"uppy-DashboardContent-titleFile"},a.meta?a.meta.name:a.name)})),Ut("button",{className:"uppy-DashboardContent-back",type:"button",form:this.form.id,title:this.props.i18n("finishEditingFile"),onClick:this.handleCancel},this.props.i18n("cancel"))),Ut("div",{className:"uppy-Dashboard-FileCard-inner"},Ut("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:GHe(a.type).color}},Ut(KHe,{file:a}),o&&Ut("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:function(s){i.handleSave(s),i.props.openFileEditor(a)},form:this.form.id},this.props.i18n("editFile"))),Ut("div",{className:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),Ut("div",{className:"uppy-Dashboard-FileCard-actions"},Ut("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"form"in HTMLButtonElement.prototype?"submit":"button",onClick:"form"in HTMLButtonElement.prototype?void 0:this.handleSave,form:this.form.id},this.props.i18n("saveChanges")),Ut("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:this.handleCancel,form:this.form.id},this.props.i18n("cancel")))))}}]),r}(HHe);r$.exports=YHe});var u$=h(function(wht,o$){function cm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cm=function(r){return typeof r}:cm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cm(t)}function XHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function JHe(t,e,r){return e&&i$(t.prototype,e),r&&i$(t,r),t}function QHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fR(t,e)}function fR(t,e){return fR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},fR(t,e)}function ZHe(t){var e=r$e();return function(){var n=fm(t),i;if(e){var a=fm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return e$e(this,i)}}function e$e(t,e){if(e&&(cm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t$e(t)}function t$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function fm(t){return fm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},fm(t)}var pR=(ee(),re(ne)),n$e=pR.cloneElement,i$e=pR.Component,a$e=pR.toChildArray,o$e=qr(),ks="uppy-transition-slideDownUp",a$=250,u$e=function(t){QHe(r,t);var e=ZHe(r);function r(n){var i;return XHe(this,r),i=e.call(this,n),i.state={cachedChildren:null,className:""},i}return JHe(r,[{key:"componentWillUpdate",value:function(i){var a=this,o=this.state.cachedChildren,u=a$e(i.children)[0];if(o===u)return null;var s={cachedChildren:u};u&&!o&&(s.className="".concat(ks,"-enter"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){a.setState({className:"".concat(ks,"-enter ").concat(ks,"-enter-active")}),a.enterTimeout=setTimeout(function(){a.setState({className:""})},a$)})),o&&!u&&this.leaveTimeout===void 0&&(s.cachedChildren=o,s.className="".concat(ks,"-leave"),cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){a.setState({className:"".concat(ks,"-leave ").concat(ks,"-leave-active")}),a.leaveTimeout=setTimeout(function(){a.setState({cachedChildren:null,className:""})},a$)})),this.setState(s)}},{key:"render",value:function(){var i=this.state,a=i.cachedChildren,o=i.className;return a?n$e(a,{className:o$e(o,a.props.className)}):null}}]),r}(i$e);o$.exports=u$e});var p$=h(function(Sht,f$){function Ca(){return Ca=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ca.apply(this,arguments)}var s$e=(ee(),re(ne)),He=s$e.h,s$=qr(),l$e=Kq(),c$e=jH(),f$e=sR(),p$e=HH(),d$e=VH(),h$e=KH(),v$e=XH(),y$e=n$(),pm=u$(),l$=900,c$=700,dR=576,m$e=400;f$.exports=function(e){var r=e.totalFileCount===0,n=e.containerWidth>dR,i=s$({"uppy-Root":e.isTargetDOMEl}),a=s$({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":e.disabled,"uppy-Dashboard--animateOpenClose":e.animateOpenClose,"uppy-Dashboard--isClosing":e.isClosing,"uppy-Dashboard--isDraggingOver":e.isDraggingOver,"uppy-Dashboard--modal":!e.inline,"uppy-size--md":e.containerWidth>dR,"uppy-size--lg":e.containerWidth>c$,"uppy-size--xl":e.containerWidth>l$,"uppy-size--height-md":e.containerHeight>m$e,"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":e.areInsidesReadyToBeVisible}),o=1;e.containerWidth>l$?o=5:e.containerWidth>c$?o=4:e.containerWidth>dR&&(o=3);var u=e.showSelectedFiles&&!r,s=e.recoveredState?Object.keys(e.recoveredState.files).length:null,l=e.files?Object.keys(e.files).filter(function(p){return e.files[p].isGhost}).length:null,c=function(){return l>0?e.i18n("recoveredXFiles",{smart_count:l}):e.i18n("recoveredAllFiles")},f=He("div",{className:a,"data-uppy-theme":e.theme,"data-uppy-num-acquirers":e.acquirers.length,"data-uppy-drag-drop-supported":!e.disableLocalFiles&&l$e(),"aria-hidden":e.inline?"false":e.isHidden,"aria-disabled":e.disabled,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onPaste:e.handlePaste,onDragOver:e.handleDragOver,onDragLeave:e.handleDragLeave,onDrop:e.handleDrop},He("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:e.handleClickOutside}),He("div",{className:"uppy-Dashboard-inner","aria-modal":!e.inline&&"true",role:!e.inline&&"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""}},e.inline?null:He("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onClick:e.closeModal},He("span",{"aria-hidden":"true"},"\xD7")),He("div",{className:"uppy-Dashboard-innerWrap"},He("div",{className:"uppy-Dashboard-dropFilesHereHint"},e.i18n("dropHint")),u&&He(v$e,e),s&&He("div",{className:"uppy-Dashboard-serviceMsg"},He("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},He("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},He("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),He("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),He("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),He("strong",{className:"uppy-Dashboard-serviceMsg-title"},e.i18n("sessionRestored")),He("div",{className:"uppy-Dashboard-serviceMsg-text"},c())),u?He(c$e,Ca({},e,{itemsPerRow:o})):He(f$e,Ca({},e,{isSizeMD:n})),He(pm,null,e.showAddFilesPanel?He(p$e,Ca({key:"AddFiles"},e,{isSizeMD:n})):null),He(pm,null,e.fileCardFor?He(y$e,Ca({key:"FileCard"},e)):null),He(pm,null,e.activePickerPanel?He(d$e,Ca({key:"Picker"},e)):null),He(pm,null,e.showFileEditor?He(h$e,Ca({key:"Editor"},e)):null),He("div",{className:"uppy-Dashboard-progressindicators"},e.progressindicators.map(function(p){return e.uppy.getPlugin(p.id).render(e.state)})))));return He("div",{className:i,dir:e.direction},f)}});var h$=h(function(Oht,d$){d$.exports={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."}}}});var E$=h(function(Pht,R$){function dm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dm=function(r){return typeof r}:dm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dm(t)}function v$(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function g$e(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){v$(a,n,i,o,u,"next",s)}function u(s){v$(a,n,i,o,u,"throw",s)}o(void 0)})}}function y$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Da(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y$(Object(r),!0).forEach(function(n){m$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m$(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _$e(t,e,r){return e&&g$(t.prototype,e),r&&g$(t,r),t}function w$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hR(t,e)}function hR(t,e){return hR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},hR(t,e)}function S$e(t){var e=P$e();return function(){var n=hm(t),i;if(e){var a=hm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return O$e(this,i)}}function O$e(t,e){if(e&&(dm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return et(t)}function et(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},hm(t)}var b$,xs,Ua,vm,ym,mm,Xn,_$;function Vr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var q$e=0;function Fs(t){return"__private_"+q$e+++"_"+t}var R$e=(ee(),re(ne)),w$=R$e.h,E$e=tt(),T$e=E$e.UIPlugin,A$e=mq(),I$e=Sq(),k$e=zq(),S$=Fz(),vR=Rn(),x$e=Yy(),F$e=cq(),C$e=Co(),D$e=C$e.nanoid,O$=Xz(),U$e=rH(),yR=Gq().default||Gq(),j$e=Xy(),M$e=p$(),N$e=h$(),P$=9,B$e=27;function q$(){var t={};return t.promise=new Promise(function(e,r){t.resolve=e,t.reject=r}),t}function L$e(){return w$("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},w$("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}R$.exports=(_$=(xs=Fs("openFileEditorWhenFilesAdded"),Ua=Fs("attachRenderFunctionToTarget"),vm=Fs("isTargetSupported"),ym=Fs("getAcquirers"),mm=Fs("getProgressIndicators"),Xn=Fs("getEditors"),b$=function(t){w$e(r,t);var e=S$e(r);function r(n,i){var a;b$e(this,r);var o;a=e.call(this,n,i),o=et(a),a.removeTarget=function(s){var l=a.getPluginState(),c=l.targets.filter(function(f){return f.id!==s.id});a.setPluginState({targets:c})},a.addTarget=function(s){var l=s.id||s.constructor.name,c=s.title||l,f=s.type;if(f!=="acquirer"&&f!=="progressindicator"&&f!=="editor"){var p="Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor";a.uppy.log(p,"error");return}var d={id:l,name:c,type:f},v=a.getPluginState(),g=v.targets.slice();return g.push(d),a.setPluginState({targets:g}),a.el},a.hideAllPanels=function(){var s=a.getPluginState(),l={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};s.activePickerPanel===l.activePickerPanel&&s.showAddFilesPanel===l.showAddFilesPanel&&s.showFileEditor===l.showFileEditor&&s.activeOverlayType===l.activeOverlayType||a.setPluginState(l)},a.showPanel=function(s){var l=a.getPluginState(),c=l.targets,f=c.filter(function(p){return p.type==="acquirer"&&p.id===s})[0];a.setPluginState({activePickerPanel:f,activeOverlayType:"PickerPanel"})},a.canEditFile=function(s){var l=a.getPluginState(),c=l.targets,f=Vr(et(a),Xn)[Xn](c);return f.some(function(p){return a.uppy.getPlugin(p.id).canEditFile(s)})},a.openFileEditor=function(s){var l=a.getPluginState(),c=l.targets,f=Vr(et(a),Xn)[Xn](c);a.setPluginState({showFileEditor:!0,fileCardFor:s.id||null,activeOverlayType:"FileEditor"}),f.forEach(function(p){a.uppy.getPlugin(p.id).selectFile(s)})},a.saveFileEditor=function(){var s=a.getPluginState(),l=s.targets,c=Vr(et(a),Xn)[Xn](l);c.forEach(function(f){a.uppy.getPlugin(f.id).save()}),a.hideAllPanels()},a.openModal=function(){var s=q$(),l=s.promise,c=s.resolve;if(a.savedScrollPosition=window.pageYOffset,a.savedActiveElement=document.activeElement,a.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),a.opts.animateOpenClose&&a.getPluginState().isClosing){var f=function p(){a.setPluginState({isHidden:!1}),a.el.removeEventListener("animationend",p,!1),c()};a.el.addEventListener("animationend",f,!1)}else a.setPluginState({isHidden:!1}),c();return a.opts.browserBackButtonClose&&a.updateBrowserHistory(),document.addEventListener("keydown",a.handleKeyDownInModal),a.uppy.emit("dashboard:modal-open"),l},a.closeModal=function(s){s===void 0&&(s={});var l=s,c=l.manualClose,f=c===void 0?!0:c,p=o.getPluginState(),d=p.isHidden,v=p.isClosing;if(!(d||v)){var g=q$(),m=g.promise,_=g.resolve;if(o.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),o.opts.animateOpenClose){o.setPluginState({isClosing:!0});var S=function A(){o.setPluginState({isHidden:!0,isClosing:!1}),o.superFocus.cancel(),o.savedActiveElement.focus(),o.el.removeEventListener("animationend",A,!1),_()};o.el.addEventListener("animationend",S,!1)}else o.setPluginState({isHidden:!0}),o.superFocus.cancel(),o.savedActiveElement.focus(),_();if(document.removeEventListener("keydown",o.handleKeyDownInModal),f&&o.opts.browserBackButtonClose){var q;(q=history.state)!=null&&q[o.modalName]&&history.back()}return o.uppy.emit("dashboard:modal-closed"),m}},a.isModalOpen=function(){return!a.getPluginState().isHidden||!1},a.requestCloseModal=function(){return a.opts.onRequestCloseModal?a.opts.onRequestCloseModal():a.closeModal()},a.setDarkModeCapability=function(s){var l=a.uppy.getState(),c=l.capabilities;a.uppy.setState({capabilities:Da(Da({},c),{},{darkMode:s})})},a.handleSystemDarkModeChange=function(s){var l=s.matches;a.uppy.log("[Dashboard] Dark mode is ".concat(l?"on":"off")),a.setDarkModeCapability(l)},a.toggleFileCard=function(s,l){var c=a.uppy.getFile(l);s?a.uppy.emit("dashboard:file-edit-start",c):a.uppy.emit("dashboard:file-edit-complete",c),a.setPluginState({fileCardFor:s?l:null,activeOverlayType:s?"FileCard":null})},a.toggleAddFilesPanel=function(s){a.setPluginState({showAddFilesPanel:s,activeOverlayType:s?"AddFiles":null})},a.addFiles=function(s){var l=s.map(function(c){return{source:a.id,name:c.name,type:c.type,data:c,meta:{relativePath:c.relativePath||null}}});try{a.uppy.addFiles(l)}catch(c){a.uppy.log(c)}},a.startListeningToResize=function(){a.resizeObserver=new ResizeObserver(function(s){var l=s[0],c=l.contentRect,f=c.width,p=c.height;a.uppy.log("[Dashboard] resized: ".concat(f," / ").concat(p),"debug"),a.setPluginState({containerWidth:f,containerHeight:p,areInsidesReadyToBeVisible:!0})}),a.resizeObserver.observe(a.el.querySelector(".uppy-Dashboard-inner")),a.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(function(){var s=a.getPluginState(),l=!a.opts.inline&&s.isHidden;!s.areInsidesReadyToBeVisible&&!l&&(a.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),a.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},a.stopListeningToResize=function(){a.resizeObserver.disconnect(),clearTimeout(a.makeDashboardInsidesVisibleAnywayTimeout)},a.recordIfFocusedOnUppyRecently=function(s){a.el.contains(s.target)?a.ifFocusedOnUppyRecently=!0:(a.ifFocusedOnUppyRecently=!1,a.superFocus.cancel())},a.disableAllFocusableElements=function(s){var l=vR(a.el.querySelectorAll(j$e));s?l.forEach(function(c){var f=c.getAttribute("tabindex");f&&(c.dataset.inertTabindex=f),c.setAttribute("tabindex","-1")}):l.forEach(function(c){"inertTabindex"in c.dataset?c.setAttribute("tabindex",c.dataset.inertTabindex):c.removeAttribute("tabindex")}),a.dashboardIsDisabled=s},a.updateBrowserHistory=function(){var s;(s=history.state)!=null&&s[a.modalName]||history.pushState(Da(Da({},history.state),{},m$({},a.modalName,!0)),""),window.addEventListener("popstate",a.handlePopState,!1)},a.handlePopState=function(s){var l;a.isModalOpen()&&(!s.state||!s.state[a.modalName])&&a.closeModal({manualClose:!1}),!a.isModalOpen()&&(l=s.state)!=null&&l[a.modalName]&&history.back()},a.handleKeyDownInModal=function(s){s.keyCode===B$e&&a.requestCloseModal(s),s.keyCode===P$&&O$.forModal(s,a.getPluginState().activeOverlayType,a.el)},a.handleClickOutside=function(){a.opts.closeModalOnClickOutside&&a.requestCloseModal()},a.handlePaste=function(s){a.uppy.iteratePlugins(function(c){c.type==="acquirer"&&(c.handleRootPaste==null||c.handleRootPaste(s))});var l=vR(s.clipboardData.files);l.length>0&&(a.uppy.log("[Dashboard] Files pasted"),a.addFiles(l))},a.handleInputChange=function(s){s.preventDefault();var l=vR(s.target.files);l.length>0&&(a.uppy.log("[Dashboard] Files selected through input"),a.addFiles(l))},a.handleDragOver=function(s){var l,c;s.preventDefault(),s.stopPropagation();var f=function(){var m=!0;return a.uppy.iteratePlugins(function(_){_.canHandleRootDrop!=null&&_.canHandleRootDrop(s)&&(m=!0)}),m},p=function(){var m=s.dataTransfer.types;return m.some(function(_){return _==="Files"})},d=f(s),v=p(s);if(!d&&!v||a.opts.disabled||a.opts.disableLocalFiles&&(v||!d)||!a.uppy.getState().allowNewUpload){s.dataTransfer.dropEffect="none",clearTimeout(a.removeDragOverClassTimeout);return}s.dataTransfer.dropEffect="copy",clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!0}),(l=(c=a.opts).onDragOver)==null||l.call(c,s)},a.handleDragLeave=function(s){var l,c;s.preventDefault(),s.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.removeDragOverClassTimeout=setTimeout(function(){a.setPluginState({isDraggingOver:!1})},50),(l=(c=a.opts).onDragLeave)==null||l.call(c,s)},a.handleDrop=function(){var s=g$e(regeneratorRuntime.mark(function l(c){var f,p,d,v,g;return regeneratorRuntime.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return c.preventDefault(),c.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!1}),a.uppy.iteratePlugins(function(S){S.type==="acquirer"&&(S.handleRootDrop==null||S.handleRootDrop(c))}),d=!1,v=function(q){a.uppy.log(q,"error"),d||(a.uppy.info(q.message,"error"),d=!0)},_.next=9,x$e(c.dataTransfer,{logDropError:v});case 9:g=_.sent,g.length>0&&(a.uppy.log("[Dashboard] Files dropped"),a.addFiles(g)),(f=(p=a.opts).onDrop)==null||f.call(p,c);case 12:case"end":return _.stop()}},l)}));return function(l){return s.apply(this,arguments)}}(),a.handleRequestThumbnail=function(s){a.opts.waitForThumbnailsBeforeUpload||a.uppy.emit("thumbnail:request",s)},a.handleCancelThumbnail=function(s){a.opts.waitForThumbnailsBeforeUpload||a.uppy.emit("thumbnail:cancel",s)},a.handleKeyDownInInline=function(s){s.keyCode===P$&&O$.forInline(s,a.getPluginState().activeOverlayType,a.el)},a.handlePasteOnBody=function(s){var l=a.el.contains(document.activeElement);l&&a.handlePaste(s)},a.handleComplete=function(s){var l=s.failed;a.opts.closeAfterFinish&&l.length===0&&a.requestCloseModal()},a.handleCancelRestore=function(){a.uppy.emit("restore-canceled")},Object.defineProperty(et(a),xs,{writable:!0,value:function(l){var c=l[0];a.canEditFile(c)&&a.openFileEditor(c)}}),a.initEvents=function(){if(a.opts.trigger&&!a.opts.inline){var s=S$(a.opts.trigger);s?s.forEach(function(l){return l.addEventListener("click",a.openModal)}):a.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}a.startListeningToResize(),document.addEventListener("paste",a.handlePasteOnBody),a.uppy.on("plugin-remove",a.removeTarget),a.uppy.on("file-added",a.hideAllPanels),a.uppy.on("dashboard:modal-closed",a.hideAllPanels),a.uppy.on("file-editor:complete",a.hideAllPanels),a.uppy.on("complete",a.handleComplete),document.addEventListener("focus",a.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",a.recordIfFocusedOnUppyRecently,!0),a.opts.inline&&a.el.addEventListener("keydown",a.handleKeyDownInInline),a.opts.autoOpenFileEditor&&a.uppy.on("files-added",Vr(et(a),xs)[xs])},a.removeEvents=function(){var s=S$(a.opts.trigger);!a.opts.inline&&s&&s.forEach(function(l){return l.removeEventListener("click",a.openModal)}),a.stopListeningToResize(),document.removeEventListener("paste",a.handlePasteOnBody),window.removeEventListener("popstate",a.handlePopState,!1),a.uppy.off("plugin-remove",a.removeTarget),a.uppy.off("file-added",a.hideAllPanels),a.uppy.off("dashboard:modal-closed",a.hideAllPanels),a.uppy.off("file-editor:complete",a.hideAllPanels),a.uppy.off("complete",a.handleComplete),document.removeEventListener("focus",a.recordIfFocusedOnUppyRecently),document.removeEventListener("click",a.recordIfFocusedOnUppyRecently),a.opts.inline&&a.el.removeEventListener("keydown",a.handleKeyDownInInline),a.opts.autoOpenFileEditor&&a.uppy.off("files-added",Vr(et(a),xs)[xs])},a.superFocusOnEachUpdate=function(){var s=a.el.contains(document.activeElement),l=document.activeElement===document.body||document.activeElement===null,c=a.uppy.getState().info.length===0,f=!a.opts.inline;c&&(f||s||l&&a.ifFocusedOnUppyRecently)?a.superFocus(a.el,a.getPluginState().activeOverlayType):a.superFocus.cancel()},a.afterUpdate=function(){if(a.opts.disabled&&!a.dashboardIsDisabled){a.disableAllFocusableElements(!0);return}!a.opts.disabled&&a.dashboardIsDisabled&&a.disableAllFocusableElements(!1),a.superFocusOnEachUpdate()},a.saveFileCard=function(s,l){a.uppy.setFileMeta(l,s),a.toggleFileCard(!1,l)},Object.defineProperty(et(a),Ua,{writable:!0,value:function(l){var c=a.uppy.getPlugin(l.id);return Da(Da({},l),{},{icon:c.icon||a.opts.defaultPickerIcon,render:c.render})}}),Object.defineProperty(et(a),vm,{writable:!0,value:function(l){var c=a.uppy.getPlugin(l.id);return typeof c.isSupported!="function"?!0:c.isSupported()}}),Object.defineProperty(et(a),ym,{writable:!0,value:yR(function(s){return s.filter(function(l){return l.type==="acquirer"&&Vr(et(a),vm)[vm](l)}).map(Vr(et(a),Ua)[Ua])})}),Object.defineProperty(et(a),mm,{writable:!0,value:yR(function(s){return s.filter(function(l){return l.type==="progressindicator"}).map(Vr(et(a),Ua)[Ua])})}),Object.defineProperty(et(a),Xn,{writable:!0,value:yR(function(s){return s.filter(function(l){return l.type==="editor"}).map(Vr(et(a),Ua)[Ua])})}),a.render=function(s){var l=a.getPluginState(),c=s.files,f=s.capabilities,p=s.allowNewUpload,d=a.uppy.getObjectOfFilesPerState(),v=d.newFiles,g=d.uploadStartedFiles,m=d.completeFiles,_=d.erroredFiles,S=d.inProgressFiles,q=d.inProgressNotPausedFiles,A=d.processingFiles,D=d.isUploadStarted,F=d.isAllComplete,$=d.isAllErrored,Y=d.isAllPaused,R=Vr(et(a),ym)[ym](l.targets),j=Vr(et(a),mm)[mm](l.targets),Q=Vr(et(a),Xn)[Xn](l.targets),G;return a.opts.theme==="auto"?G=f.darkMode?"dark":"light":G=a.opts.theme,["files","folders","both"].indexOf(a.opts.fileManagerSelectionType)<0&&(a.opts.fileManagerSelectionType="files",console.warn('Unsupported option for "fileManagerSelectionType". Using default of "'.concat(a.opts.fileManagerSelectionType,'".'))),M$e({state:s,isHidden:l.isHidden,files:c,newFiles:v,uploadStartedFiles:g,completeFiles:m,erroredFiles:_,inProgressFiles:S,inProgressNotPausedFiles:q,processingFiles:A,isUploadStarted:D,isAllComplete:F,isAllErrored:$,isAllPaused:Y,totalFileCount:Object.keys(c).length,totalProgress:s.totalProgress,allowNewUpload:p,acquirers:R,theme:G,disabled:a.opts.disabled,disableLocalFiles:a.opts.disableLocalFiles,direction:a.opts.direction,activePickerPanel:l.activePickerPanel,showFileEditor:l.showFileEditor,saveFileEditor:a.saveFileEditor,disableAllFocusableElements:a.disableAllFocusableElements,animateOpenClose:a.opts.animateOpenClose,isClosing:l.isClosing,progressindicators:j,editors:Q,autoProceed:a.uppy.opts.autoProceed,id:a.id,closeModal:a.requestCloseModal,handleClickOutside:a.handleClickOutside,handleInputChange:a.handleInputChange,handlePaste:a.handlePaste,inline:a.opts.inline,showPanel:a.showPanel,hideAllPanels:a.hideAllPanels,i18n:a.i18n,i18nArray:a.i18nArray,uppy:a.uppy,note:a.opts.note,recoveredState:s.recoveredState,metaFields:l.metaFields,resumableUploads:f.resumableUploads||!1,individualCancellation:f.individualCancellation,isMobileDevice:f.isMobileDevice,fileCardFor:l.fileCardFor,toggleFileCard:a.toggleFileCard,toggleAddFilesPanel:a.toggleAddFilesPanel,showAddFilesPanel:l.showAddFilesPanel,saveFileCard:a.saveFileCard,openFileEditor:a.openFileEditor,canEditFile:a.canEditFile,width:a.opts.width,height:a.opts.height,showLinkToFileUploadResult:a.opts.showLinkToFileUploadResult,fileManagerSelectionType:a.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:a.opts.proudlyDisplayPoweredByUppy,hideCancelButton:a.opts.hideCancelButton,hideRetryButton:a.opts.hideRetryButton,hidePauseResumeButton:a.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:a.opts.showRemoveButtonAfterComplete,containerWidth:l.containerWidth,containerHeight:l.containerHeight,areInsidesReadyToBeVisible:l.areInsidesReadyToBeVisible,isTargetDOMEl:a.isTargetDOMEl,parentElement:a.el,allowedFileTypes:a.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:a.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:a.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:a.opts.showSelectedFiles,handleCancelRestore:a.handleCancelRestore,handleRequestThumbnail:a.handleRequestThumbnail,handleCancelThumbnail:a.handleCancelThumbnail,isDraggingOver:l.isDraggingOver,handleDragOver:a.handleDragOver,handleDragLeave:a.handleDragLeave,handleDrop:a.handleDrop})},a.discoverProviderPlugins=function(){a.uppy.iteratePlugins(function(s){s&&!s.target&&s.opts&&s.opts.target===a.constructor&&a.addTarget(s)})},a.install=function(){a.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:a.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});var s=a.opts,l=s.inline,c=s.closeAfterFinish;if(l&&c)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");var f=a.uppy.opts,p=f.allowMultipleUploads,d=f.allowMultipleUploadBatches;(p||d)&&c&&a.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");var v=a.opts.target;v&&a.mount(v,et(a));var g=a.opts.plugins||[];g.forEach(function(_){var S=a.uppy.getPlugin(_);S&&S.mount(et(a),S)}),a.opts.disableStatusBar||a.uppy.use(A$e,{id:"".concat(a.id,":StatusBar"),target:et(a),hideUploadButton:a.opts.hideUploadButton,hideRetryButton:a.opts.hideRetryButton,hidePauseResumeButton:a.opts.hidePauseResumeButton,hideCancelButton:a.opts.hideCancelButton,showProgressDetails:a.opts.showProgressDetails,hideAfterFinish:a.opts.hideProgressAfterFinish,locale:a.opts.locale,doneButtonHandler:a.opts.doneButtonHandler}),a.opts.disableInformer||a.uppy.use(I$e,{id:"".concat(a.id,":Informer"),target:et(a)}),a.opts.disableThumbnailGenerator||a.uppy.use(k$e,{id:"".concat(a.id,":ThumbnailGenerator"),thumbnailWidth:a.opts.thumbnailWidth,thumbnailHeight:a.opts.thumbnailHeight,thumbnailType:a.opts.thumbnailType,waitForThumbnailsBeforeUpload:a.opts.waitForThumbnailsBeforeUpload,lazy:!a.opts.waitForThumbnailsBeforeUpload}),a.darkModeMediaQuery=typeof window!="undefined"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;var m=a.darkModeMediaQuery?a.darkModeMediaQuery.matches:!1;a.uppy.log("[Dashboard] Dark mode is ".concat(m?"on":"off")),a.setDarkModeCapability(m),a.opts.theme==="auto"&&a.darkModeMediaQuery.addListener(a.handleSystemDarkModeChange),a.discoverProviderPlugins(),a.initEvents()},a.uninstall=function(){if(!a.opts.disableInformer){var s=a.uppy.getPlugin("".concat(a.id,":Informer"));s&&a.uppy.removePlugin(s)}if(!a.opts.disableStatusBar){var l=a.uppy.getPlugin("".concat(a.id,":StatusBar"));l&&a.uppy.removePlugin(l)}if(!a.opts.disableThumbnailGenerator){var c=a.uppy.getPlugin("".concat(a.id,":ThumbnailGenerator"));c&&a.uppy.removePlugin(c)}var f=a.opts.plugins||[];f.forEach(function(p){var d=a.uppy.getPlugin(p);d&&d.unmount()}),a.opts.theme==="auto"&&a.darkModeMediaQuery.removeListener(a.handleSystemDarkModeChange),a.unmount(),a.removeEvents()},a.id=a.opts.id||"Dashboard",a.title="Dashboard",a.type="orchestrator",a.modalName="uppy-Dashboard-".concat(D$e()),a.defaultLocale=N$e;var u={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:L$e,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:function(){a.uppy.reset(),a.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:function(){return a.closeModal()},showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};return a.opts=Da(Da({},u),i),a.i18nInit(),a.superFocus=U$e(),a.ifFocusedOnUppyRecently=!1,a.makeDashboardInsidesVisibleAnywayTimeout=null,a.removeDragOverClassTimeout=null,a}return _$e(r,[{key:"onMount",value:function(){var i=this.el,a=F$e(i);a||(i.dir="ltr")}}]),r}(T$e)),b$.VERSION="2.1.4",_$)});var A$=h(function(qht,T$){"use strict";T$.exports={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}}});var U$=h(function(Rht,D$){"use strict";function gm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gm=function(r){return typeof r}:gm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gm(t)}function I$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function k$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I$(Object(r),!0).forEach(function(n){z$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z$e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x$(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function H$e(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){x$(a,n,i,o,u,"next",s)}function u(s){x$(a,n,i,o,u,"throw",s)}o(void 0)})}}function $$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function W$e(t,e,r){return e&&F$(t.prototype,e),r&&F$(t,r),t}function V$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mR(t,e)}function mR(t,e){return mR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},mR(t,e)}function G$e(t){var e=Y$e();return function(){var n=bm(t),i;if(e){var a=bm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return K$e(this,i)}}function K$e(t,e){if(e&&(gm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wo(t)}function Wo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y$e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function bm(t){return bm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},bm(t)}var X$e=tt(),ja=(ee(),re(ne)),J$e=Rn(),Q$e=Kq(),Z$e=Yy(),eWe={version:"2.0.7"},tWe=A$(),C$=function(t){V$e(r,t);var e=G$e(r);function r(n,i){var a;$$e(this,r),a=e.call(this,n,i),a.handleDrop=function(){var u=H$e(regeneratorRuntime.mark(function s(l){var c,f,p,d;return regeneratorRuntime.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return l.preventDefault(),l.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),a.setPluginState({isDraggingOver:!1}),p=function(_){a.uppy.log(_,"error")},g.next=7,Z$e(l.dataTransfer,{logDropError:p});case 7:d=g.sent,d.length>0&&(a.uppy.log("[DragDrop] Files dropped"),a.addFiles(d)),(c=(f=a.opts).onDrop)==null||c.call(f,l);case 10:case"end":return g.stop()}},s)}));return function(s){return u.apply(this,arguments)}}(),a.type="acquirer",a.id=a.opts.id||"DragDrop",a.title="Drag & Drop",a.defaultLocale=tWe;var o={target:null,inputName:"files[]",width:"100%",height:"100%",note:null};return a.opts=k$(k$({},o),i),a.i18nInit(),a.isDragDropSupported=Q$e(),a.removeDragOverClassTimeout=null,a.onInputChange=a.onInputChange.bind(Wo(a)),a.handleDragOver=a.handleDragOver.bind(Wo(a)),a.handleDragLeave=a.handleDragLeave.bind(Wo(a)),a.handleDrop=a.handleDrop.bind(Wo(a)),a.addFiles=a.addFiles.bind(Wo(a)),a.render=a.render.bind(Wo(a)),a}return W$e(r,[{key:"addFiles",value:function(i){var a=this,o=i.map(function(u){return{source:a.id,name:u.name,type:u.type,data:u,meta:{relativePath:u.relativePath||null}}});try{this.uppy.addFiles(o)}catch(u){this.uppy.log(u)}}},{key:"onInputChange",value:function(i){var a=J$e(i.target.files);a.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(a)),i.target.value=null}},{key:"handleDragOver",value:function(i){var a,o;i.preventDefault(),i.stopPropagation();var u=i.dataTransfer.types,s=u.some(function(f){return f==="Files"}),l=this.uppy.getState(),c=l.allowNewUpload;if(!s||!c){i.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}i.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(a=(o=this.opts).onDragOver)==null||a.call(o,i)}},{key:"handleDragLeave",value:function(i){var a=this,o,u;i.preventDefault(),i.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(function(){a.setPluginState({isDraggingOver:!1})},50),(o=(u=this.opts).onDragLeave)==null||o.call(u,i)}},{key:"renderHiddenFileInput",value:function(){var i=this,a=this.uppy.opts.restrictions;return(0,ja.h)("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:function(u){i.fileInputRef=u},name:this.opts.inputName,multiple:a.maxNumberOfFiles!==1,accept:a.allowedFileTypes,onChange:this.onInputChange})}},{key:"renderLabel",value:function(){return(0,ja.h)("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:(0,ja.h)("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}},{key:"renderNote",value:function(){return(0,ja.h)("span",{className:"uppy-DragDrop-note"},this.opts.note)}},{key:"render",value:function(){var i=this,a="uppy-Root\n      uppy-u-reset\n      uppy-DragDrop-container\n      ".concat(this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":"","\n      ").concat(this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":"","\n    "),o={width:this.opts.width,height:this.opts.height};return(0,ja.h)("button",{type:"button",className:a,style:o,onClick:function(){return i.fileInputRef.click()},onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),(0,ja.h)("div",{className:"uppy-DragDrop-inner"},r.renderArrowSvg(),this.renderLabel(),this.renderNote()))}},{key:"install",value:function(){var i=this.opts.target;this.setPluginState({isDraggingOver:!1}),i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.unmount()}}],[{key:"renderArrowSvg",value:function(){return(0,ja.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},(0,ja.h)("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}}]),r}(X$e.UIPlugin);C$.VERSION=eWe.version;D$.exports=C$});var M$=h(function(Eht,j$){"use strict";j$.exports=U$()});var W$=h(function(Tht,$$){"use strict";function _m(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_m=function(r){return typeof r}:_m=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_m(t)}function N$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N$(Object(r),!0).forEach(function(n){rWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rWe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L$(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function nWe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){L$(a,n,i,o,u,"next",s)}function u(s){L$(a,n,i,o,u,"throw",s)}o(void 0)})}}function iWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function aWe(t,e,r){return e&&z$(t.prototype,e),r&&z$(t,r),t}function oWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gR(t,e)}function gR(t,e){return gR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},gR(t,e)}function uWe(t){var e=cWe();return function(){var n=wm(t),i;if(e){var a=wm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return sWe(this,i)}}function sWe(t,e){if(e&&(_m(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lWe(t)}function lWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function wm(t){return wm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},wm(t)}var fWe=bn(),pWe=Yy(),dWe=Rn(),hWe={version:"1.1.3"};function vWe(t){var e,r;return(e=(r=t.dataTransfer.types)==null?void 0:r.some(function(n){return n==="Files"}))!=null?e:!1}var H$=function(t){oWe(r,t);var e=uWe(r);function r(n,i){var a;iWe(this,r),a=e.call(this,n,i),a.addFiles=function(u){var s=u.map(function(l){return{source:a.id,name:l.name,type:l.type,data:l,meta:{relativePath:l.relativePath||null}}});try{a.uppy.addFiles(s)}catch(l){a.uppy.log(l)}},a.isFileTransfer=vWe,a.handleDrop=function(){var u=nWe(regeneratorRuntime.mark(function s(l){var c,f,p,d,v;return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(a.isFileTransfer(l)){m.next=2;break}return m.abrupt("return");case 2:return l.preventDefault(),l.stopPropagation(),clearTimeout(a.removeDragOverClassTimeout),l.currentTarget.classList.remove("uppy-is-drag-over"),a.setPluginState({isDraggingOver:!1}),a.uppy.iteratePlugins(function(_){_.type==="acquirer"&&(_.handleRootDrop==null||_.handleRootDrop(l))}),p=!1,d=function(S){a.uppy.log(S,"error"),p||(a.uppy.info(S.message,"error"),p=!0)},m.next=12,pWe(l.dataTransfer,{logDropError:d});case 12:v=m.sent,v.length>0&&(a.uppy.log("[DropTarget] Files were dropped"),a.addFiles(v)),(c=(f=a.opts).onDrop)==null||c.call(f,l);case 15:case"end":return m.stop()}},s)}));return function(s){return u.apply(this,arguments)}}(),a.handleDragOver=function(u){var s,l;!a.isFileTransfer(u)||(u.preventDefault(),u.stopPropagation(),u.dataTransfer.dropEffect="copy",clearTimeout(a.removeDragOverClassTimeout),u.currentTarget.classList.add("uppy-is-drag-over"),a.setPluginState({isDraggingOver:!0}),(s=(l=a.opts).onDragOver)==null||s.call(l,u))},a.handleDragLeave=function(u){var s,l;if(!!a.isFileTransfer(u)){u.preventDefault(),u.stopPropagation();var c=u.currentTarget;clearTimeout(a.removeDragOverClassTimeout),a.removeDragOverClassTimeout=setTimeout(function(){c.classList.remove("uppy-is-drag-over"),a.setPluginState({isDraggingOver:!1})},50),(s=(l=a.opts).onDragLeave)==null||s.call(l,u)}},a.addListeners=function(){var u=a.opts.target;if(u instanceof Element?a.nodes=[u]:typeof u=="string"&&(a.nodes=dWe(document.querySelectorAll(u))),!a.nodes&&!a.nodes.length>0)throw new Error('"'.concat(u,'" does not match any HTML elements'));a.nodes.forEach(function(s){s.addEventListener("dragover",a.handleDragOver,!1),s.addEventListener("dragleave",a.handleDragLeave,!1),s.addEventListener("drop",a.handleDrop,!1)})},a.removeListeners=function(){a.nodes&&a.nodes.forEach(function(u){u.removeEventListener("dragover",a.handleDragOver,!1),u.removeEventListener("dragleave",a.handleDragLeave,!1),u.removeEventListener("drop",a.handleDrop,!1)})},a.type="acquirer",a.id=a.opts.id||"DropTarget",a.title="Drop Target";var o={target:null};return a.opts=B$(B$({},o),i),a.removeDragOverClassTimeout=null,a}return aWe(r,[{key:"install",value:function(){this.setPluginState({isDraggingOver:!1}),this.addListeners()}},{key:"uninstall",value:function(){this.removeListeners()}}]),r}(fWe);H$.VERSION=hWe.version;$$.exports=H$});var G$=h(function(Aht,V$){"use strict";V$.exports={strings:{chooseFiles:"Choose files"}}});var Z$=h(function(Iht,Q$){"use strict";function Sm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sm=function(r){return typeof r}:Sm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Sm(t)}function K$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Y$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K$(Object(r),!0).forEach(function(n){yWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yWe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gWe(t,e,r){return e&&X$(t.prototype,e),r&&X$(t,r),t}function bWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bR(t,e)}function bR(t,e){return bR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},bR(t,e)}function _We(t){var e=SWe();return function(){var n=Pm(t),i;if(e){var a=Pm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return wWe(this,i)}}function wWe(t,e){if(e&&(Sm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Om(t)}function Om(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Pm(t){return Pm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Pm(t)}var OWe=tt(),_R=(ee(),re(ne)),PWe=Rn(),qWe={version:"2.0.6"},RWe=G$(),J$=function(t){bWe(r,t);var e=_We(r);function r(n,i){var a;mWe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"FileInput",a.title="File Input",a.type="acquirer",a.defaultLocale=RWe;var o={target:null,pretty:!0,inputName:"files[]"};return a.opts=Y$(Y$({},o),i),a.i18nInit(),a.render=a.render.bind(Om(a)),a.handleInputChange=a.handleInputChange.bind(Om(a)),a.handleClick=a.handleClick.bind(Om(a)),a}return gWe(r,[{key:"addFiles",value:function(i){var a=this,o=i.map(function(u){return{source:a.id,name:u.name,type:u.type,data:u}});try{this.uppy.addFiles(o)}catch(u){this.uppy.log(u)}}},{key:"handleInputChange",value:function(i){this.uppy.log("[FileInput] Something selected through input...");var a=PWe(i.target.files);this.addFiles(a),i.target.value=null}},{key:"handleClick",value:function(){this.input.click()}},{key:"render",value:function(){var i=this,a={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},o=this.uppy.opts.restrictions,u=o.allowedFileTypes?o.allowedFileTypes.join(","):null;return(0,_R.h)("div",{className:"uppy-Root uppy-FileInput-container"},(0,_R.h)("input",{className:"uppy-FileInput-input",style:this.opts.pretty&&a,type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:o.maxNumberOfFiles!==1,accept:u,ref:function(l){i.input=l}}),this.opts.pretty&&(0,_R.h)("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")))}},{key:"install",value:function(){var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.unmount()}}]),r}(OWe.UIPlugin);J$.VERSION=qWe.version;Q$.exports=J$});var tW=h(function(kht,eW){"use strict";eW.exports=Z$()});var lW=h(function(xht,sW){function qm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qm=function(r){return typeof r}:qm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qm(t)}function rW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rW(Object(r),!0).forEach(function(n){EWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EWe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function AWe(t,e,r){return e&&iW(t.prototype,e),r&&iW(t,r),t}function IWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wR(t,e)}function wR(t,e){return wR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},wR(t,e)}function kWe(t){var e=FWe();return function(){var n=Rm(t),i;if(e){var a=Rm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return xWe(this,i)}}function xWe(t,e){if(e&&(qm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aW(t)}function aW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Rm(t){return Rm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Rm(t)}var oW,uW,CWe=tt(),DWe=CWe.UIPlugin,UWe=(ee(),re(ne)),SR=UWe.h;sW.exports=(uW=oW=function(t){IWe(r,t);var e=kWe(r);function r(n,i){var a;TWe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"ProgressBar",a.title="Progress Bar",a.type="progressindicator";var o={target:"body",fixed:!1,hideAfterFinish:!0};return a.opts=nW(nW({},o),i),a.render=a.render.bind(aW(a)),a}return AWe(r,[{key:"render",value:function(i){var a=i.totalProgress||0,o=(a===0||a===100)&&this.opts.hideAfterFinish;return SR("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":o},SR("div",{className:"uppy-ProgressBar-inner",style:{width:"".concat(a,"%")}}),SR("div",{className:"uppy-ProgressBar-percentage"},a))}},{key:"install",value:function(){var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.unmount()}}]),r}(DWe),oW.VERSION="2.0.4",uW)});var cW=h(function(Tm,OR){function Em(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Em=function(r){return typeof r}:Em=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Em(t)}(function(t,e){(typeof Tm=="undefined"?"undefined":Em(Tm))==="object"&&typeof OR!="undefined"?OR.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,t.Cropper=e())})(Tm,function(){"use strict";function t(P){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(w){return typeof w}:t=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},t(P)}function e(P,y){if(!(P instanceof y))throw new TypeError("Cannot call a class as a function")}function r(P,y){for(var w=0;w<y.length;w++){var b=y[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(P,b.key,b)}}function n(P,y,w){return y&&r(P.prototype,y),w&&r(P,w),P}function i(P,y,w){return y in P?Object.defineProperty(P,y,{value:w,enumerable:!0,configurable:!0,writable:!0}):P[y]=w,P}function a(P,y){var w=Object.keys(P);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(P);y&&(b=b.filter(function(k){return Object.getOwnPropertyDescriptor(P,k).enumerable})),w.push.apply(w,b)}return w}function o(P){for(var y=1;y<arguments.length;y++){var w=arguments[y]!=null?arguments[y]:{};y%2?a(Object(w),!0).forEach(function(b){i(P,b,w[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(w)):a(Object(w)).forEach(function(b){Object.defineProperty(P,b,Object.getOwnPropertyDescriptor(w,b))})}return P}function u(P){return s(P)||l(P)||c(P)||p()}function s(P){if(Array.isArray(P))return f(P)}function l(P){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(P))return Array.from(P)}function c(P,y){if(!!P){if(typeof P=="string")return f(P,y);var w=Object.prototype.toString.call(P).slice(8,-1);if(w==="Object"&&P.constructor&&(w=P.constructor.name),w==="Map"||w==="Set")return Array.from(P);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return f(P,y)}}function f(P,y){(y==null||y>P.length)&&(y=P.length);for(var w=0,b=new Array(y);w<y;w++)b[w]=P[w];return b}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d=typeof window!="undefined"&&typeof window.document!="undefined",v=d?window:{},g=d&&v.document.documentElement?"ontouchstart"in v.document.documentElement:!1,m=d?"PointerEvent"in v:!1,_="cropper",S="all",q="crop",A="move",D="zoom",F="e",$="w",Y="s",R="n",j="ne",Q="nw",G="se",T="sw",I="".concat(_,"-crop"),L="".concat(_,"-disabled"),C="".concat(_,"-hidden"),U="".concat(_,"-hide"),B="".concat(_,"-invisible"),te="".concat(_,"-modal"),ce="".concat(_,"-move"),ue="".concat(_,"Action"),Ue="".concat(_,"Preview"),$e="crop",ut="move",st="none",Ht="crop",Xt="cropend",mt="cropmove",Qi="cropstart",Il="dblclick",Kp=g?"touchstart":"mousedown",TA=g?"touchmove":"mousemove",h_=g?"touchend touchcancel":"mouseup",AA=m?"pointerdown":Kp,IA=m?"pointermove":TA,kA=m?"pointerup pointercancel":h_,xA="ready",FA="resize",CA="wheel",v_="zoom",DA="image/jpeg",Oee=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Pee=/^data:/,qee=/^data:image\/jpeg;base64,/,Ree=/^img|canvas$/i,UA={viewMode:0,dragMode:$e,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Eee='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Tee=Number.isNaN||v.isNaN;function Oe(P){return typeof P=="number"&&!Tee(P)}var jA=function(y){return y>0&&y<1/0};function y_(P){return typeof P=="undefined"}function Qa(P){return t(P)==="object"&&P!==null}var Aee=Object.prototype.hasOwnProperty;function mu(P){if(!Qa(P))return!1;try{var y=P.constructor,w=y.prototype;return y&&w&&Aee.call(w,"isPrototypeOf")}catch(b){return!1}}function ur(P){return typeof P=="function"}var Iee=Array.prototype.slice;function MA(P){return Array.from?Array.from(P):Iee.call(P)}function pt(P,y){return P&&ur(y)&&(Array.isArray(P)||Oe(P.length)?MA(P).forEach(function(w,b){y.call(P,w,b,P)}):Qa(P)&&Object.keys(P).forEach(function(w){y.call(P,P[w],w,P)})),P}var Qe=Object.assign||function(y){for(var w=arguments.length,b=new Array(w>1?w-1:0),k=1;k<w;k++)b[k-1]=arguments[k];return Qa(y)&&b.length>0&&b.forEach(function(E){Qa(E)&&Object.keys(E).forEach(function(x){y[x]=E[x]})}),y},kee=/\.\d*(?:0|9){12}\d*$/;function gu(P){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return kee.test(P)?Math.round(P*y)/y:P}var xee=/^width|height|left|top|marginLeft|marginTop$/;function Zi(P,y){var w=P.style;pt(y,function(b,k){xee.test(k)&&Oe(b)&&(b="".concat(b,"px")),w[k]=b})}function Fee(P,y){return P.classList?P.classList.contains(y):P.className.indexOf(y)>-1}function Ot(P,y){if(!!y){if(Oe(P.length)){pt(P,function(b){Ot(b,y)});return}if(P.classList){P.classList.add(y);return}var w=P.className.trim();w?w.indexOf(y)<0&&(P.className="".concat(w," ").concat(y)):P.className=y}}function xn(P,y){if(!!y){if(Oe(P.length)){pt(P,function(w){xn(w,y)});return}if(P.classList){P.classList.remove(y);return}P.className.indexOf(y)>=0&&(P.className=P.className.replace(y,""))}}function bu(P,y,w){if(!!y){if(Oe(P.length)){pt(P,function(b){bu(b,y,w)});return}w?Ot(P,y):xn(P,y)}}var Cee=/([a-z\d])([A-Z])/g;function m_(P){return P.replace(Cee,"$1-$2").toLowerCase()}function g_(P,y){return Qa(P[y])?P[y]:P.dataset?P.dataset[y]:P.getAttribute("data-".concat(m_(y)))}function kl(P,y,w){Qa(w)?P[y]=w:P.dataset?P.dataset[y]=w:P.setAttribute("data-".concat(m_(y)),w)}function Dee(P,y){if(Qa(P[y]))try{delete P[y]}catch(w){P[y]=void 0}else if(P.dataset)try{delete P.dataset[y]}catch(w){P.dataset[y]=void 0}else P.removeAttribute("data-".concat(m_(y)))}var NA=/\s\s*/,BA=function(){var P=!1;if(d){var y=!1,w=function(){},b=Object.defineProperty({},"once",{get:function(){return P=!0,y},set:function(E){y=E}});v.addEventListener("test",w,b),v.removeEventListener("test",w,b)}return P}();function on(P,y,w){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},k=w;y.trim().split(NA).forEach(function(E){if(!BA){var x=P.listeners;x&&x[E]&&x[E][w]&&(k=x[E][w],delete x[E][w],Object.keys(x[E]).length===0&&delete x[E],Object.keys(x).length===0&&delete P.listeners)}P.removeEventListener(E,k,b)})}function xr(P,y,w){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},k=w;y.trim().split(NA).forEach(function(E){if(b.once&&!BA){var x=P.listeners,M=x===void 0?{}:x;k=function(){delete M[E][w],P.removeEventListener(E,k,b);for(var W=arguments.length,H=new Array(W),N=0;N<W;N++)H[N]=arguments[N];w.apply(P,H)},M[E]||(M[E]={}),M[E][w]&&P.removeEventListener(E,M[E][w],b),M[E][w]=k,P.listeners=M}P.addEventListener(E,k,b)})}function _u(P,y,w){var b;return ur(Event)&&ur(CustomEvent)?b=new CustomEvent(y,{detail:w,bubbles:!0,cancelable:!0}):(b=document.createEvent("CustomEvent"),b.initCustomEvent(y,!0,!0,w)),P.dispatchEvent(b)}function LA(P){var y=P.getBoundingClientRect();return{left:y.left+(window.pageXOffset-document.documentElement.clientLeft),top:y.top+(window.pageYOffset-document.documentElement.clientTop)}}var b_=v.location,Uee=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function zA(P){var y=P.match(Uee);return y!==null&&(y[1]!==b_.protocol||y[2]!==b_.hostname||y[3]!==b_.port)}function HA(P){var y="timestamp=".concat(new Date().getTime());return P+(P.indexOf("?")===-1?"?":"&")+y}function xl(P){var y=P.rotate,w=P.scaleX,b=P.scaleY,k=P.translateX,E=P.translateY,x=[];Oe(k)&&k!==0&&x.push("translateX(".concat(k,"px)")),Oe(E)&&E!==0&&x.push("translateY(".concat(E,"px)")),Oe(y)&&y!==0&&x.push("rotate(".concat(y,"deg)")),Oe(w)&&w!==1&&x.push("scaleX(".concat(w,")")),Oe(b)&&b!==1&&x.push("scaleY(".concat(b,")"));var M=x.length?x.join(" "):"none";return{WebkitTransform:M,msTransform:M,transform:M}}function jee(P){var y=o({},P),w=[];return pt(P,function(b,k){delete y[k],pt(y,function(E){var x=Math.abs(b.startX-E.startX),M=Math.abs(b.startY-E.startY),X=Math.abs(b.endX-E.endX),W=Math.abs(b.endY-E.endY),H=Math.sqrt(x*x+M*M),N=Math.sqrt(X*X+W*W),K=(N-H)/H;w.push(K)})}),w.sort(function(b,k){return Math.abs(b)<Math.abs(k)}),w[0]}function Yp(P,y){var w=P.pageX,b=P.pageY,k={endX:w,endY:b};return y?k:o({startX:w,startY:b},k)}function Mee(P){var y=0,w=0,b=0;return pt(P,function(k){var E=k.startX,x=k.startY;y+=E,w+=x,b+=1}),y/=b,w/=b,{pageX:y,pageY:w}}function ea(P){var y=P.aspectRatio,w=P.height,b=P.width,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",E=jA(b),x=jA(w);if(E&&x){var M=w*y;k==="contain"&&M>b||k==="cover"&&M<b?w=b/y:b=w*y}else E?w=b/y:x&&(b=w*y);return{width:b,height:w}}function Nee(P){var y=P.width,w=P.height,b=P.degree;if(b=Math.abs(b)%180,b===90)return{width:w,height:y};var k=b%90*Math.PI/180,E=Math.sin(k),x=Math.cos(k),M=y*x+w*E,X=y*E+w*x;return b>90?{width:X,height:M}:{width:M,height:X}}function Bee(P,y,w,b){var k=y.aspectRatio,E=y.naturalWidth,x=y.naturalHeight,M=y.rotate,X=M===void 0?0:M,W=y.scaleX,H=W===void 0?1:W,N=y.scaleY,K=N===void 0?1:N,Ie=w.aspectRatio,Pe=w.naturalWidth,Ze=w.naturalHeight,je=b.fillColor,gt=je===void 0?"transparent":je,Pt=b.imageSmoothingEnabled,dt=Pt===void 0?!0:Pt,ai=b.imageSmoothingQuality,br=ai===void 0?"low":ai,Z=b.maxWidth,Me=Z===void 0?1/0:Z,bt=b.maxHeight,Fr=bt===void 0?1/0:bt,oi=b.minWidth,Za=oi===void 0?0:oi,eo=b.minHeight,ta=eo===void 0?0:eo,Fn=document.createElement("canvas"),sr=Fn.getContext("2d"),to=ea({aspectRatio:Ie,width:Me,height:Fr}),Xp=ea({aspectRatio:Ie,width:Za,height:ta},"cover"),__=Math.min(to.width,Math.max(Xp.width,Pe)),w_=Math.min(to.height,Math.max(Xp.height,Ze)),VA=ea({aspectRatio:k,width:Me,height:Fr}),GA=ea({aspectRatio:k,width:Za,height:ta},"cover"),KA=Math.min(VA.width,Math.max(GA.width,E)),YA=Math.min(VA.height,Math.max(GA.height,x)),ete=[-KA/2,-YA/2,KA,YA];return Fn.width=gu(__),Fn.height=gu(w_),sr.fillStyle=gt,sr.fillRect(0,0,__,w_),sr.save(),sr.translate(__/2,w_/2),sr.rotate(X*Math.PI/180),sr.scale(H,K),sr.imageSmoothingEnabled=dt,sr.imageSmoothingQuality=br,sr.drawImage.apply(sr,[P].concat(u(ete.map(function(tte){return Math.floor(gu(tte))})))),sr.restore(),Fn}var $A=String.fromCharCode;function Lee(P,y,w){var b="";w+=y;for(var k=y;k<w;k+=1)b+=$A(P.getUint8(k));return b}var zee=/^data:.*,/;function Hee(P){var y=P.replace(zee,""),w=atob(y),b=new ArrayBuffer(w.length),k=new Uint8Array(b);return pt(k,function(E,x){k[x]=w.charCodeAt(x)}),b}function $ee(P,y){for(var w=[],b=8192,k=new Uint8Array(P);k.length>0;)w.push($A.apply(null,MA(k.subarray(0,b)))),k=k.subarray(b);return"data:".concat(y,";base64,").concat(btoa(w.join("")))}function Wee(P){var y=new DataView(P),w;try{var b,k,E;if(y.getUint8(0)===255&&y.getUint8(1)===216)for(var x=y.byteLength,M=2;M+1<x;){if(y.getUint8(M)===255&&y.getUint8(M+1)===225){k=M;break}M+=1}if(k){var X=k+4,W=k+10;if(Lee(y,X,4)==="Exif"){var H=y.getUint16(W);if(b=H===18761,(b||H===19789)&&y.getUint16(W+2,b)===42){var N=y.getUint32(W+4,b);N>=8&&(E=W+N)}}}if(E){var K=y.getUint16(E,b),Ie,Pe;for(Pe=0;Pe<K;Pe+=1)if(Ie=E+Pe*12+2,y.getUint16(Ie,b)===274){Ie+=8,w=y.getUint16(Ie,b),y.setUint16(Ie,1,b);break}}}catch(Ze){w=1}return w}function Vee(P){var y=0,w=1,b=1;switch(P){case 2:w=-1;break;case 3:y=-180;break;case 4:b=-1;break;case 5:y=90,b=-1;break;case 6:y=90;break;case 7:y=90,w=-1;break;case 8:y=-90;break}return{rotate:y,scaleX:w,scaleY:b}}var Gee={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var y=this.element,w=this.options,b=this.container,k=this.cropper;Ot(k,C),xn(y,C);var E={width:Math.max(b.offsetWidth,Number(w.minContainerWidth)||200),height:Math.max(b.offsetHeight,Number(w.minContainerHeight)||100)};this.containerData=E,Zi(k,{width:E.width,height:E.height}),Ot(y,C),xn(k,C)},initCanvas:function(){var y=this.containerData,w=this.imageData,b=this.options.viewMode,k=Math.abs(w.rotate)%180==90,E=k?w.naturalHeight:w.naturalWidth,x=k?w.naturalWidth:w.naturalHeight,M=E/x,X=y.width,W=y.height;y.height*M>y.width?b===3?X=y.height*M:W=y.width/M:b===3?W=y.width/M:X=y.height*M;var H={aspectRatio:M,naturalWidth:E,naturalHeight:x,width:X,height:W};H.left=(y.width-X)/2,H.top=(y.height-W)/2,H.oldLeft=H.left,H.oldTop=H.top,this.canvasData=H,this.limited=b===1||b===2,this.limitCanvas(!0,!0),this.initialImageData=Qe({},w),this.initialCanvasData=Qe({},H)},limitCanvas:function(y,w){var b=this.options,k=this.containerData,E=this.canvasData,x=this.cropBoxData,M=b.viewMode,X=E.aspectRatio,W=this.cropped&&x;if(y){var H=Number(b.minCanvasWidth)||0,N=Number(b.minCanvasHeight)||0;M>1?(H=Math.max(H,k.width),N=Math.max(N,k.height),M===3&&(N*X>H?H=N*X:N=H/X)):M>0&&(H?H=Math.max(H,W?x.width:0):N?N=Math.max(N,W?x.height:0):W&&(H=x.width,N=x.height,N*X>H?H=N*X:N=H/X));var K=ea({aspectRatio:X,width:H,height:N});H=K.width,N=K.height,E.minWidth=H,E.minHeight=N,E.maxWidth=1/0,E.maxHeight=1/0}if(w)if(M>(W?0:1)){var Ie=k.width-E.width,Pe=k.height-E.height;E.minLeft=Math.min(0,Ie),E.minTop=Math.min(0,Pe),E.maxLeft=Math.max(0,Ie),E.maxTop=Math.max(0,Pe),W&&this.limited&&(E.minLeft=Math.min(x.left,x.left+(x.width-E.width)),E.minTop=Math.min(x.top,x.top+(x.height-E.height)),E.maxLeft=x.left,E.maxTop=x.top,M===2&&(E.width>=k.width&&(E.minLeft=Math.min(0,Ie),E.maxLeft=Math.max(0,Ie)),E.height>=k.height&&(E.minTop=Math.min(0,Pe),E.maxTop=Math.max(0,Pe))))}else E.minLeft=-E.width,E.minTop=-E.height,E.maxLeft=k.width,E.maxTop=k.height},renderCanvas:function(y,w){var b=this.canvasData,k=this.imageData;if(w){var E=Nee({width:k.naturalWidth*Math.abs(k.scaleX||1),height:k.naturalHeight*Math.abs(k.scaleY||1),degree:k.rotate||0}),x=E.width,M=E.height,X=b.width*(x/b.naturalWidth),W=b.height*(M/b.naturalHeight);b.left-=(X-b.width)/2,b.top-=(W-b.height)/2,b.width=X,b.height=W,b.aspectRatio=x/M,b.naturalWidth=x,b.naturalHeight=M,this.limitCanvas(!0,!1)}(b.width>b.maxWidth||b.width<b.minWidth)&&(b.left=b.oldLeft),(b.height>b.maxHeight||b.height<b.minHeight)&&(b.top=b.oldTop),b.width=Math.min(Math.max(b.width,b.minWidth),b.maxWidth),b.height=Math.min(Math.max(b.height,b.minHeight),b.maxHeight),this.limitCanvas(!1,!0),b.left=Math.min(Math.max(b.left,b.minLeft),b.maxLeft),b.top=Math.min(Math.max(b.top,b.minTop),b.maxTop),b.oldLeft=b.left,b.oldTop=b.top,Zi(this.canvas,Qe({width:b.width,height:b.height},xl({translateX:b.left,translateY:b.top}))),this.renderImage(y),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(y){var w=this.canvasData,b=this.imageData,k=b.naturalWidth*(w.width/w.naturalWidth),E=b.naturalHeight*(w.height/w.naturalHeight);Qe(b,{width:k,height:E,left:(w.width-k)/2,top:(w.height-E)/2}),Zi(this.image,Qe({width:b.width,height:b.height},xl(Qe({translateX:b.left,translateY:b.top},b)))),y&&this.output()},initCropBox:function(){var y=this.options,w=this.canvasData,b=y.aspectRatio||y.initialAspectRatio,k=Number(y.autoCropArea)||.8,E={width:w.width,height:w.height};b&&(w.height*b>w.width?E.height=E.width/b:E.width=E.height*b),this.cropBoxData=E,this.limitCropBox(!0,!0),E.width=Math.min(Math.max(E.width,E.minWidth),E.maxWidth),E.height=Math.min(Math.max(E.height,E.minHeight),E.maxHeight),E.width=Math.max(E.minWidth,E.width*k),E.height=Math.max(E.minHeight,E.height*k),E.left=w.left+(w.width-E.width)/2,E.top=w.top+(w.height-E.height)/2,E.oldLeft=E.left,E.oldTop=E.top,this.initialCropBoxData=Qe({},E)},limitCropBox:function(y,w){var b=this.options,k=this.containerData,E=this.canvasData,x=this.cropBoxData,M=this.limited,X=b.aspectRatio;if(y){var W=Number(b.minCropBoxWidth)||0,H=Number(b.minCropBoxHeight)||0,N=M?Math.min(k.width,E.width,E.width+E.left,k.width-E.left):k.width,K=M?Math.min(k.height,E.height,E.height+E.top,k.height-E.top):k.height;W=Math.min(W,k.width),H=Math.min(H,k.height),X&&(W&&H?H*X>W?H=W/X:W=H*X:W?H=W/X:H&&(W=H*X),K*X>N?K=N/X:N=K*X),x.minWidth=Math.min(W,N),x.minHeight=Math.min(H,K),x.maxWidth=N,x.maxHeight=K}w&&(M?(x.minLeft=Math.max(0,E.left),x.minTop=Math.max(0,E.top),x.maxLeft=Math.min(k.width,E.left+E.width)-x.width,x.maxTop=Math.min(k.height,E.top+E.height)-x.height):(x.minLeft=0,x.minTop=0,x.maxLeft=k.width-x.width,x.maxTop=k.height-x.height))},renderCropBox:function(){var y=this.options,w=this.containerData,b=this.cropBoxData;(b.width>b.maxWidth||b.width<b.minWidth)&&(b.left=b.oldLeft),(b.height>b.maxHeight||b.height<b.minHeight)&&(b.top=b.oldTop),b.width=Math.min(Math.max(b.width,b.minWidth),b.maxWidth),b.height=Math.min(Math.max(b.height,b.minHeight),b.maxHeight),this.limitCropBox(!1,!0),b.left=Math.min(Math.max(b.left,b.minLeft),b.maxLeft),b.top=Math.min(Math.max(b.top,b.minTop),b.maxTop),b.oldLeft=b.left,b.oldTop=b.top,y.movable&&y.cropBoxMovable&&kl(this.face,ue,b.width>=w.width&&b.height>=w.height?A:S),Zi(this.cropBox,Qe({width:b.width,height:b.height},xl({translateX:b.left,translateY:b.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),_u(this.element,Ht,this.getData())}},Kee={initPreview:function(){var y=this.element,w=this.crossOrigin,b=this.options.preview,k=w?this.crossOriginUrl:this.url,E=y.alt||"The image to preview",x=document.createElement("img");if(w&&(x.crossOrigin=w),x.src=k,x.alt=E,this.viewBox.appendChild(x),this.viewBoxImage=x,!!b){var M=b;typeof b=="string"?M=y.ownerDocument.querySelectorAll(b):b.querySelector&&(M=[b]),this.previews=M,pt(M,function(X){var W=document.createElement("img");kl(X,Ue,{width:X.offsetWidth,height:X.offsetHeight,html:X.innerHTML}),w&&(W.crossOrigin=w),W.src=k,W.alt=E,W.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',X.innerHTML="",X.appendChild(W)})}},resetPreview:function(){pt(this.previews,function(y){var w=g_(y,Ue);Zi(y,{width:w.width,height:w.height}),y.innerHTML=w.html,Dee(y,Ue)})},preview:function(){var y=this.imageData,w=this.canvasData,b=this.cropBoxData,k=b.width,E=b.height,x=y.width,M=y.height,X=b.left-w.left-y.left,W=b.top-w.top-y.top;!this.cropped||this.disabled||(Zi(this.viewBoxImage,Qe({width:x,height:M},xl(Qe({translateX:-X,translateY:-W},y)))),pt(this.previews,function(H){var N=g_(H,Ue),K=N.width,Ie=N.height,Pe=K,Ze=Ie,je=1;k&&(je=K/k,Ze=E*je),E&&Ze>Ie&&(je=Ie/E,Pe=k*je,Ze=Ie),Zi(H,{width:Pe,height:Ze}),Zi(H.getElementsByTagName("img")[0],Qe({width:x*je,height:M*je},xl(Qe({translateX:-X*je,translateY:-W*je},y))))}))}},Yee={bind:function(){var y=this.element,w=this.options,b=this.cropper;ur(w.cropstart)&&xr(y,Qi,w.cropstart),ur(w.cropmove)&&xr(y,mt,w.cropmove),ur(w.cropend)&&xr(y,Xt,w.cropend),ur(w.crop)&&xr(y,Ht,w.crop),ur(w.zoom)&&xr(y,v_,w.zoom),xr(b,AA,this.onCropStart=this.cropStart.bind(this)),w.zoomable&&w.zoomOnWheel&&xr(b,CA,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),w.toggleDragModeOnDblclick&&xr(b,Il,this.onDblclick=this.dblclick.bind(this)),xr(y.ownerDocument,IA,this.onCropMove=this.cropMove.bind(this)),xr(y.ownerDocument,kA,this.onCropEnd=this.cropEnd.bind(this)),w.responsive&&xr(window,FA,this.onResize=this.resize.bind(this))},unbind:function(){var y=this.element,w=this.options,b=this.cropper;ur(w.cropstart)&&on(y,Qi,w.cropstart),ur(w.cropmove)&&on(y,mt,w.cropmove),ur(w.cropend)&&on(y,Xt,w.cropend),ur(w.crop)&&on(y,Ht,w.crop),ur(w.zoom)&&on(y,v_,w.zoom),on(b,AA,this.onCropStart),w.zoomable&&w.zoomOnWheel&&on(b,CA,this.onWheel,{passive:!1,capture:!0}),w.toggleDragModeOnDblclick&&on(b,Il,this.onDblclick),on(y.ownerDocument,IA,this.onCropMove),on(y.ownerDocument,kA,this.onCropEnd),w.responsive&&on(window,FA,this.onResize)}},Xee={resize:function(){if(!this.disabled){var y=this.options,w=this.container,b=this.containerData,k=w.offsetWidth/b.width;if(k!==1||w.offsetHeight!==b.height){var E,x;y.restore&&(E=this.getCanvasData(),x=this.getCropBoxData()),this.render(),y.restore&&(this.setCanvasData(pt(E,function(M,X){E[X]=M*k})),this.setCropBoxData(pt(x,function(M,X){x[X]=M*k})))}}},dblclick:function(){this.disabled||this.options.dragMode===st||this.setDragMode(Fee(this.dragBox,I)?ut:$e)},wheel:function(y){var w=this,b=Number(this.options.wheelZoomRatio)||.1,k=1;this.disabled||(y.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){w.wheeling=!1},50),y.deltaY?k=y.deltaY>0?1:-1:y.wheelDelta?k=-y.wheelDelta/120:y.detail&&(k=y.detail>0?1:-1),this.zoom(-k*b,y)))},cropStart:function(y){var w=y.buttons,b=y.button;if(!(this.disabled||(y.type==="mousedown"||y.type==="pointerdown"&&y.pointerType==="mouse")&&(Oe(w)&&w!==1||Oe(b)&&b!==0||y.ctrlKey))){var k=this.options,E=this.pointers,x;y.changedTouches?pt(y.changedTouches,function(M){E[M.identifier]=Yp(M)}):E[y.pointerId||0]=Yp(y),Object.keys(E).length>1&&k.zoomable&&k.zoomOnTouch?x=D:x=g_(y.target,ue),!!Oee.test(x)&&_u(this.element,Qi,{originalEvent:y,action:x})!==!1&&(y.preventDefault(),this.action=x,this.cropping=!1,x===q&&(this.cropping=!0,Ot(this.dragBox,te)))}},cropMove:function(y){var w=this.action;if(!(this.disabled||!w)){var b=this.pointers;y.preventDefault(),_u(this.element,mt,{originalEvent:y,action:w})!==!1&&(y.changedTouches?pt(y.changedTouches,function(k){Qe(b[k.identifier]||{},Yp(k,!0))}):Qe(b[y.pointerId||0]||{},Yp(y,!0)),this.change(y))}},cropEnd:function(y){if(!this.disabled){var w=this.action,b=this.pointers;y.changedTouches?pt(y.changedTouches,function(k){delete b[k.identifier]}):delete b[y.pointerId||0],!!w&&(y.preventDefault(),Object.keys(b).length||(this.action=""),this.cropping&&(this.cropping=!1,bu(this.dragBox,te,this.cropped&&this.options.modal)),_u(this.element,Xt,{originalEvent:y,action:w}))}}},Jee={change:function(y){var w=this.options,b=this.canvasData,k=this.containerData,E=this.cropBoxData,x=this.pointers,M=this.action,X=w.aspectRatio,W=E.left,H=E.top,N=E.width,K=E.height,Ie=W+N,Pe=H+K,Ze=0,je=0,gt=k.width,Pt=k.height,dt=!0,ai;!X&&y.shiftKey&&(X=N&&K?N/K:1),this.limited&&(Ze=E.minLeft,je=E.minTop,gt=Ze+Math.min(k.width,b.width,b.left+b.width),Pt=je+Math.min(k.height,b.height,b.top+b.height));var br=x[Object.keys(x)[0]],Z={x:br.endX-br.startX,y:br.endY-br.startY},Me=function(Fr){switch(Fr){case F:Ie+Z.x>gt&&(Z.x=gt-Ie);break;case $:W+Z.x<Ze&&(Z.x=Ze-W);break;case R:H+Z.y<je&&(Z.y=je-H);break;case Y:Pe+Z.y>Pt&&(Z.y=Pt-Pe);break}};switch(M){case S:W+=Z.x,H+=Z.y;break;case F:if(Z.x>=0&&(Ie>=gt||X&&(H<=je||Pe>=Pt))){dt=!1;break}Me(F),N+=Z.x,N<0&&(M=$,N=-N,W-=N),X&&(K=N/X,H+=(E.height-K)/2);break;case R:if(Z.y<=0&&(H<=je||X&&(W<=Ze||Ie>=gt))){dt=!1;break}Me(R),K-=Z.y,H+=Z.y,K<0&&(M=Y,K=-K,H-=K),X&&(N=K*X,W+=(E.width-N)/2);break;case $:if(Z.x<=0&&(W<=Ze||X&&(H<=je||Pe>=Pt))){dt=!1;break}Me($),N-=Z.x,W+=Z.x,N<0&&(M=F,N=-N,W-=N),X&&(K=N/X,H+=(E.height-K)/2);break;case Y:if(Z.y>=0&&(Pe>=Pt||X&&(W<=Ze||Ie>=gt))){dt=!1;break}Me(Y),K+=Z.y,K<0&&(M=R,K=-K,H-=K),X&&(N=K*X,W+=(E.width-N)/2);break;case j:if(X){if(Z.y<=0&&(H<=je||Ie>=gt)){dt=!1;break}Me(R),K-=Z.y,H+=Z.y,N=K*X}else Me(R),Me(F),Z.x>=0?Ie<gt?N+=Z.x:Z.y<=0&&H<=je&&(dt=!1):N+=Z.x,Z.y<=0?H>je&&(K-=Z.y,H+=Z.y):(K-=Z.y,H+=Z.y);N<0&&K<0?(M=T,K=-K,N=-N,H-=K,W-=N):N<0?(M=Q,N=-N,W-=N):K<0&&(M=G,K=-K,H-=K);break;case Q:if(X){if(Z.y<=0&&(H<=je||W<=Ze)){dt=!1;break}Me(R),K-=Z.y,H+=Z.y,N=K*X,W+=E.width-N}else Me(R),Me($),Z.x<=0?W>Ze?(N-=Z.x,W+=Z.x):Z.y<=0&&H<=je&&(dt=!1):(N-=Z.x,W+=Z.x),Z.y<=0?H>je&&(K-=Z.y,H+=Z.y):(K-=Z.y,H+=Z.y);N<0&&K<0?(M=G,K=-K,N=-N,H-=K,W-=N):N<0?(M=j,N=-N,W-=N):K<0&&(M=T,K=-K,H-=K);break;case T:if(X){if(Z.x<=0&&(W<=Ze||Pe>=Pt)){dt=!1;break}Me($),N-=Z.x,W+=Z.x,K=N/X}else Me(Y),Me($),Z.x<=0?W>Ze?(N-=Z.x,W+=Z.x):Z.y>=0&&Pe>=Pt&&(dt=!1):(N-=Z.x,W+=Z.x),Z.y>=0?Pe<Pt&&(K+=Z.y):K+=Z.y;N<0&&K<0?(M=j,K=-K,N=-N,H-=K,W-=N):N<0?(M=G,N=-N,W-=N):K<0&&(M=Q,K=-K,H-=K);break;case G:if(X){if(Z.x>=0&&(Ie>=gt||Pe>=Pt)){dt=!1;break}Me(F),N+=Z.x,K=N/X}else Me(Y),Me(F),Z.x>=0?Ie<gt?N+=Z.x:Z.y>=0&&Pe>=Pt&&(dt=!1):N+=Z.x,Z.y>=0?Pe<Pt&&(K+=Z.y):K+=Z.y;N<0&&K<0?(M=Q,K=-K,N=-N,H-=K,W-=N):N<0?(M=T,N=-N,W-=N):K<0&&(M=j,K=-K,H-=K);break;case A:this.move(Z.x,Z.y),dt=!1;break;case D:this.zoom(jee(x),y),dt=!1;break;case q:if(!Z.x||!Z.y){dt=!1;break}ai=LA(this.cropper),W=br.startX-ai.left,H=br.startY-ai.top,N=E.minWidth,K=E.minHeight,Z.x>0?M=Z.y>0?G:j:Z.x<0&&(W-=N,M=Z.y>0?T:Q),Z.y<0&&(H-=K),this.cropped||(xn(this.cropBox,C),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}dt&&(E.width=N,E.height=K,E.left=W,E.top=H,this.action=M,this.renderCropBox()),pt(x,function(bt){bt.startX=bt.endX,bt.startY=bt.endY})}},Qee={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Ot(this.dragBox,te),xn(this.cropBox,C),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Qe({},this.initialImageData),this.canvasData=Qe({},this.initialCanvasData),this.cropBoxData=Qe({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Qe(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),xn(this.dragBox,te),Ot(this.cropBox,C)),this},replace:function(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&y&&(this.isImg&&(this.element.src=y),w?(this.url=y,this.image.src=y,this.ready&&(this.viewBoxImage.src=y,pt(this.previews,function(b){b.getElementsByTagName("img")[0].src=y}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(y))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,xn(this.cropper,L)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Ot(this.cropper,L)),this},destroy:function(){var y=this.element;return y[_]?(y[_]=void 0,this.isImg&&this.replaced&&(y.src=this.originalUrl),this.uncreate(),this):this},move:function(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,b=this.canvasData,k=b.left,E=b.top;return this.moveTo(y_(y)?y:k+Number(y),y_(w)?w:E+Number(w))},moveTo:function(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,b=this.canvasData,k=!1;return y=Number(y),w=Number(w),this.ready&&!this.disabled&&this.options.movable&&(Oe(y)&&(b.left=y,k=!0),Oe(w)&&(b.top=w,k=!0),k&&this.renderCanvas(!0)),this},zoom:function(y,w){var b=this.canvasData;return y=Number(y),y<0?y=1/(1-y):y=1+y,this.zoomTo(b.width*y/b.naturalWidth,null,w)},zoomTo:function(y,w,b){var k=this.options,E=this.canvasData,x=E.width,M=E.height,X=E.naturalWidth,W=E.naturalHeight;if(y=Number(y),y>=0&&this.ready&&!this.disabled&&k.zoomable){var H=X*y,N=W*y;if(_u(this.element,v_,{ratio:y,oldRatio:x/X,originalEvent:b})===!1)return this;if(b){var K=this.pointers,Ie=LA(this.cropper),Pe=K&&Object.keys(K).length?Mee(K):{pageX:b.pageX,pageY:b.pageY};E.left-=(H-x)*((Pe.pageX-Ie.left-E.left)/x),E.top-=(N-M)*((Pe.pageY-Ie.top-E.top)/M)}else mu(w)&&Oe(w.x)&&Oe(w.y)?(E.left-=(H-x)*((w.x-E.left)/x),E.top-=(N-M)*((w.y-E.top)/M)):(E.left-=(H-x)/2,E.top-=(N-M)/2);E.width=H,E.height=N,this.renderCanvas(!0)}return this},rotate:function(y){return this.rotateTo((this.imageData.rotate||0)+Number(y))},rotateTo:function(y){return y=Number(y),Oe(y)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=y%360,this.renderCanvas(!0,!0)),this},scaleX:function(y){var w=this.imageData.scaleY;return this.scale(y,Oe(w)?w:1)},scaleY:function(y){var w=this.imageData.scaleX;return this.scale(Oe(w)?w:1,y)},scale:function(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,b=this.imageData,k=!1;return y=Number(y),w=Number(w),this.ready&&!this.disabled&&this.options.scalable&&(Oe(y)&&(b.scaleX=y,k=!0),Oe(w)&&(b.scaleY=w,k=!0),k&&this.renderCanvas(!0,!0)),this},getData:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,w=this.options,b=this.imageData,k=this.canvasData,E=this.cropBoxData,x;if(this.ready&&this.cropped){x={x:E.left-k.left,y:E.top-k.top,width:E.width,height:E.height};var M=b.width/b.naturalWidth;if(pt(x,function(H,N){x[N]=H/M}),y){var X=Math.round(x.y+x.height),W=Math.round(x.x+x.width);x.x=Math.round(x.x),x.y=Math.round(x.y),x.width=W-x.x,x.height=X-x.y}}else x={x:0,y:0,width:0,height:0};return w.rotatable&&(x.rotate=b.rotate||0),w.scalable&&(x.scaleX=b.scaleX||1,x.scaleY=b.scaleY||1),x},setData:function(y){var w=this.options,b=this.imageData,k=this.canvasData,E={};if(this.ready&&!this.disabled&&mu(y)){var x=!1;w.rotatable&&Oe(y.rotate)&&y.rotate!==b.rotate&&(b.rotate=y.rotate,x=!0),w.scalable&&(Oe(y.scaleX)&&y.scaleX!==b.scaleX&&(b.scaleX=y.scaleX,x=!0),Oe(y.scaleY)&&y.scaleY!==b.scaleY&&(b.scaleY=y.scaleY,x=!0)),x&&this.renderCanvas(!0,!0);var M=b.width/b.naturalWidth;Oe(y.x)&&(E.left=y.x*M+k.left),Oe(y.y)&&(E.top=y.y*M+k.top),Oe(y.width)&&(E.width=y.width*M),Oe(y.height)&&(E.height=y.height*M),this.setCropBoxData(E)}return this},getContainerData:function(){return this.ready?Qe({},this.containerData):{}},getImageData:function(){return this.sized?Qe({},this.imageData):{}},getCanvasData:function(){var y=this.canvasData,w={};return this.ready&&pt(["left","top","width","height","naturalWidth","naturalHeight"],function(b){w[b]=y[b]}),w},setCanvasData:function(y){var w=this.canvasData,b=w.aspectRatio;return this.ready&&!this.disabled&&mu(y)&&(Oe(y.left)&&(w.left=y.left),Oe(y.top)&&(w.top=y.top),Oe(y.width)?(w.width=y.width,w.height=y.width/b):Oe(y.height)&&(w.height=y.height,w.width=y.height*b),this.renderCanvas(!0)),this},getCropBoxData:function(){var y=this.cropBoxData,w;return this.ready&&this.cropped&&(w={left:y.left,top:y.top,width:y.width,height:y.height}),w||{}},setCropBoxData:function(y){var w=this.cropBoxData,b=this.options.aspectRatio,k,E;return this.ready&&this.cropped&&!this.disabled&&mu(y)&&(Oe(y.left)&&(w.left=y.left),Oe(y.top)&&(w.top=y.top),Oe(y.width)&&y.width!==w.width&&(k=!0,w.width=y.width),Oe(y.height)&&y.height!==w.height&&(E=!0,w.height=y.height),b&&(k?w.height=w.width/b:E&&(w.width=w.height*b)),this.renderCropBox()),this},getCroppedCanvas:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var w=this.canvasData,b=Bee(this.image,this.imageData,w,y);if(!this.cropped)return b;var k=this.getData(),E=k.x,x=k.y,M=k.width,X=k.height,W=b.width/Math.floor(w.naturalWidth);W!==1&&(E*=W,x*=W,M*=W,X*=W);var H=M/X,N=ea({aspectRatio:H,width:y.maxWidth||1/0,height:y.maxHeight||1/0}),K=ea({aspectRatio:H,width:y.minWidth||0,height:y.minHeight||0},"cover"),Ie=ea({aspectRatio:H,width:y.width||(W!==1?b.width:M),height:y.height||(W!==1?b.height:X)}),Pe=Ie.width,Ze=Ie.height;Pe=Math.min(N.width,Math.max(K.width,Pe)),Ze=Math.min(N.height,Math.max(K.height,Ze));var je=document.createElement("canvas"),gt=je.getContext("2d");je.width=gu(Pe),je.height=gu(Ze),gt.fillStyle=y.fillColor||"transparent",gt.fillRect(0,0,Pe,Ze);var Pt=y.imageSmoothingEnabled,dt=Pt===void 0?!0:Pt,ai=y.imageSmoothingQuality;gt.imageSmoothingEnabled=dt,ai&&(gt.imageSmoothingQuality=ai);var br=b.width,Z=b.height,Me=E,bt=x,Fr,oi,Za,eo,ta,Fn;Me<=-M||Me>br?(Me=0,Fr=0,Za=0,ta=0):Me<=0?(Za=-Me,Me=0,Fr=Math.min(br,M+Me),ta=Fr):Me<=br&&(Za=0,Fr=Math.min(M,br-Me),ta=Fr),Fr<=0||bt<=-X||bt>Z?(bt=0,oi=0,eo=0,Fn=0):bt<=0?(eo=-bt,bt=0,oi=Math.min(Z,X+bt),Fn=oi):bt<=Z&&(eo=0,oi=Math.min(X,Z-bt),Fn=oi);var sr=[Me,bt,Fr,oi];if(ta>0&&Fn>0){var to=Pe/M;sr.push(Za*to,eo*to,ta*to,Fn*to)}return gt.drawImage.apply(gt,[b].concat(u(sr.map(function(Xp){return Math.floor(gu(Xp))})))),je},setAspectRatio:function(y){var w=this.options;return!this.disabled&&!y_(y)&&(w.aspectRatio=Math.max(0,y)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(y){var w=this.options,b=this.dragBox,k=this.face;if(this.ready&&!this.disabled){var E=y===$e,x=w.movable&&y===ut;y=E||x?y:st,w.dragMode=y,kl(b,ue,y),bu(b,I,E),bu(b,ce,x),w.cropBoxMovable||(kl(k,ue,y),bu(k,I,E),bu(k,ce,x))}return this}},Zee=v.Cropper,WA=function(){function P(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e(this,P),!y||!Ree.test(y.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=y,this.options=Qe({},UA,mu(w)&&w),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return n(P,[{key:"init",value:function(){var w=this.element,b=w.tagName.toLowerCase(),k;if(!w[_]){if(w[_]=this,b==="img"){if(this.isImg=!0,k=w.getAttribute("src")||"",this.originalUrl=k,!k)return;k=w.src}else b==="canvas"&&window.HTMLCanvasElement&&(k=w.toDataURL());this.load(k)}}},{key:"load",value:function(w){var b=this;if(!!w){this.url=w,this.imageData={};var k=this.element,E=this.options;if(!E.rotatable&&!E.scalable&&(E.checkOrientation=!1),!E.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Pee.test(w)){qee.test(w)?this.read(Hee(w)):this.clone();return}var x=new XMLHttpRequest,M=this.clone.bind(this);this.reloading=!0,this.xhr=x,x.onabort=M,x.onerror=M,x.ontimeout=M,x.onprogress=function(){x.getResponseHeader("content-type")!==DA&&x.abort()},x.onload=function(){b.read(x.response)},x.onloadend=function(){b.reloading=!1,b.xhr=null},E.checkCrossOrigin&&zA(w)&&k.crossOrigin&&(w=HA(w)),x.open("GET",w),x.responseType="arraybuffer",x.withCredentials=k.crossOrigin==="use-credentials",x.send()}}},{key:"read",value:function(w){var b=this.options,k=this.imageData,E=Wee(w),x=0,M=1,X=1;if(E>1){this.url=$ee(w,DA);var W=Vee(E);x=W.rotate,M=W.scaleX,X=W.scaleY}b.rotatable&&(k.rotate=x),b.scalable&&(k.scaleX=M,k.scaleY=X),this.clone()}},{key:"clone",value:function(){var w=this.element,b=this.url,k=w.crossOrigin,E=b;this.options.checkCrossOrigin&&zA(b)&&(k||(k="anonymous"),E=HA(b)),this.crossOrigin=k,this.crossOriginUrl=E;var x=document.createElement("img");k&&(x.crossOrigin=k),x.src=E||b,x.alt=w.alt||"The image to crop",this.image=x,x.onload=this.start.bind(this),x.onerror=this.stop.bind(this),Ot(x,U),w.parentNode.insertBefore(x,w.nextSibling)}},{key:"start",value:function(){var w=this,b=this.image;b.onload=null,b.onerror=null,this.sizing=!0;var k=v.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(v.navigator.userAgent),E=function(W,H){Qe(w.imageData,{naturalWidth:W,naturalHeight:H,aspectRatio:W/H}),w.sizing=!1,w.sized=!0,w.build()};if(b.naturalWidth&&!k){E(b.naturalWidth,b.naturalHeight);return}var x=document.createElement("img"),M=document.body||document.documentElement;this.sizingImage=x,x.onload=function(){E(x.width,x.height),k||M.removeChild(x)},x.src=b.src,k||(x.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",M.appendChild(x))}},{key:"stop",value:function(){var w=this.image;w.onload=null,w.onerror=null,w.parentNode.removeChild(w),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var w=this.element,b=this.options,k=this.image,E=w.parentNode,x=document.createElement("div");x.innerHTML=Eee;var M=x.querySelector(".".concat(_,"-container")),X=M.querySelector(".".concat(_,"-canvas")),W=M.querySelector(".".concat(_,"-drag-box")),H=M.querySelector(".".concat(_,"-crop-box")),N=H.querySelector(".".concat(_,"-face"));this.container=E,this.cropper=M,this.canvas=X,this.dragBox=W,this.cropBox=H,this.viewBox=M.querySelector(".".concat(_,"-view-box")),this.face=N,X.appendChild(k),Ot(w,C),E.insertBefore(M,w.nextSibling),this.isImg||xn(k,U),this.initPreview(),this.bind(),b.initialAspectRatio=Math.max(0,b.initialAspectRatio)||NaN,b.aspectRatio=Math.max(0,b.aspectRatio)||NaN,b.viewMode=Math.max(0,Math.min(3,Math.round(b.viewMode)))||0,Ot(H,C),b.guides||Ot(H.getElementsByClassName("".concat(_,"-dashed")),C),b.center||Ot(H.getElementsByClassName("".concat(_,"-center")),C),b.background&&Ot(M,"".concat(_,"-bg")),b.highlight||Ot(N,B),b.cropBoxMovable&&(Ot(N,ce),kl(N,ue,S)),b.cropBoxResizable||(Ot(H.getElementsByClassName("".concat(_,"-line")),C),Ot(H.getElementsByClassName("".concat(_,"-point")),C)),this.render(),this.ready=!0,this.setDragMode(b.dragMode),b.autoCrop&&this.crop(),this.setData(b.data),ur(b.ready)&&xr(w,xA,b.ready,{once:!0}),_u(w,xA)}}},{key:"unbuild",value:function(){!this.ready||(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),xn(this.element,C))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Zee,P}},{key:"setDefaults",value:function(w){Qe(UA,mu(w)&&w)}}]),P}();return Qe(WA.prototype,Gee,Kee,Yee,Xee,Jee,Qee),WA})});var hW=h(function(Fht,dW){function Am(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Am=function(r){return typeof r}:Am=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Am(t)}function jWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function MWe(t,e,r){return e&&fW(t.prototype,e),r&&fW(t,r),t}function NWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PR(t,e)}function PR(t,e){return PR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},PR(t,e)}function BWe(t){var e=HWe();return function(){var n=Im(t),i;if(e){var a=Im(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return LWe(this,i)}}function LWe(t,e){if(e&&(Am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zWe(t)}function zWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Im(t){return Im=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Im(t)}var qR=cW(),pW=(ee(),re(ne)),be=pW.h,$We=pW.Component,WWe=qR.__esModule?qR.default:qR;dW.exports=function(t){NWe(r,t);var e=BWe(r);function r(n){var i;return jWe(this,r),i=e.call(this,n),i.granularRotateOnChange=function(a){var o=i.state,u=o.rotationAngle,s=o.rotationDelta,l=Number(a.target.value)-s;if(cancelAnimationFrame(i.granularRotateOnInputNextFrame),l!==0){var c=u+l;i.granularRotateOnInputNextFrame=requestAnimationFrame(function(){i.cropper.rotateTo(c)})}},i.state={rotationAngle:0,rotationDelta:0},i}return MWe(r,[{key:"componentDidMount",value:function(){var i=this,a=this.props,o=a.opts,u=a.storeCropperInstance;this.cropper=new WWe(this.imgElement,o.cropperOptions),u(this.cropper),o.actions.granularRotate&&this.imgElement.addEventListener("crop",function(s){var l=s.detail.rotate;i.setState({rotationAngle:l,rotationDelta:(l+405)%90-45})})}},{key:"componentWillUnmount",value:function(){this.cropper.destroy()}},{key:"renderGranularRotate",value:function(){var i=this.props.i18n,a=this.state,o=a.rotationDelta,u=a.rotationAngle;return be("label",{"data-microtip-position":"top",role:"tooltip","aria-label":"".concat(u,"\xBA"),className:"uppy-ImageCropper-rangeWrapper uppy-u-reset"},be("input",{className:"uppy-ImageCropper-range uppy-u-reset",type:"range",onInput:this.granularRotateOnChange,onChange:this.granularRotateOnChange,value:o,min:"-45",max:"44","aria-label":i("rotate")}))}},{key:"renderRevert",value:function(){var i=this,a=this.props.i18n;return be("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("revert"),"data-microtip-position":"top",onClick:function(){i.cropper.reset(),i.cropper.setAspectRatio(0)}},be("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},be("path",{d:"M0 0h24v24H0z",fill:"none"}),be("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"})))}},{key:"renderRotate",value:function(){var i=this,a=this.props.i18n;return be("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:function(){return i.cropper.rotate(-90)},"aria-label":a("rotate"),"data-microtip-position":"top"},be("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},be("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"}),be("path",{d:"M14 10a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h8zm0 1.75H6a.25.25 0 00-.243.193L5.75 12v7a.25.25 0 00.193.243L6 19.25h8a.25.25 0 00.243-.193L14.25 19v-7a.25.25 0 00-.193-.243L14 11.75zM12 .76V4c2.3 0 4.61.88 6.36 2.64a8.95 8.95 0 012.634 6.025L21 13a1 1 0 01-1.993.117L19 13h-.003a6.979 6.979 0 00-2.047-4.95 6.97 6.97 0 00-4.652-2.044L12 6v3.24L7.76 5 12 .76z"})))}},{key:"renderFlip",value:function(){var i=this,a=this.props.i18n;return be("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("flipHorizontal"),"data-microtip-position":"top",onClick:function(){return i.cropper.scaleX(-i.cropper.getData().scaleX||-1)}},be("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},be("path",{d:"M0 0h24v24H0z",fill:"none"}),be("path",{d:"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"})))}},{key:"renderZoomIn",value:function(){var i=this,a=this.props.i18n;return be("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("zoomIn"),"data-microtip-position":"top",onClick:function(){return i.cropper.zoom(.1)}},be("svg",{"aria-hidden":"true",className:"uppy-c-icon",height:"24",viewBox:"0 0 24 24",width:"24"},be("path",{d:"M0 0h24v24H0V0z",fill:"none"}),be("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),be("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"})))}},{key:"renderZoomOut",value:function(){var i=this,a=this.props.i18n;return be("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("zoomOut"),"data-microtip-position":"top",onClick:function(){return i.cropper.zoom(-.1)}},be("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},be("path",{d:"M0 0h24v24H0V0z",fill:"none"}),be("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})))}},{key:"renderCropSquare",value:function(){var i=this,a=this.props.i18n;return be("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("aspectRatioSquare"),"data-microtip-position":"top",onClick:function(){return i.cropper.setAspectRatio(1)}},be("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},be("path",{d:"M0 0h24v24H0z",fill:"none"}),be("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})))}},{key:"renderCropWidescreen",value:function(){var i=this,a=this.props.i18n;return be("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("aspectRatioLandscape"),"data-microtip-position":"top",onClick:function(){return i.cropper.setAspectRatio(16/9)}},be("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},be("path",{d:"M 19,4.9999992 V 17.000001 H 4.9999998 V 6.9999992 H 19 m 0,-2 H 4.9999998 c -1.0999999,0 -1.9999999,0.9000001 -1.9999999,2 V 17.000001 c 0,1.1 0.9,2 1.9999999,2 H 19 c 1.1,0 2,-0.9 2,-2 V 6.9999992 c 0,-1.0999999 -0.9,-2 -2,-2 z"}),be("path",{fill:"none",d:"M0 0h24v24H0z"})))}},{key:"renderCropWidescreenVertical",value:function(){var i=this,a=this.props.i18n;return be("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":a("aspectRatioPortrait"),"data-microtip-position":"top",onClick:function(){return i.cropper.setAspectRatio(9/16)}},be("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},be("path",{d:"M 19.000001,19 H 6.999999 V 5 h 10.000002 v 14 m 2,0 V 5 c 0,-1.0999999 -0.9,-1.9999999 -2,-1.9999999 H 6.999999 c -1.1,0 -2,0.9 -2,1.9999999 v 14 c 0,1.1 0.9,2 2,2 h 10.000002 c 1.1,0 2,-0.9 2,-2 z"}),be("path",{d:"M0 0h24v24H0z",fill:"none"})))}},{key:"render",value:function(){var i=this,a=this.props,o=a.currentImage,u=a.opts,s=u.actions,l=URL.createObjectURL(o.data);return be("div",{className:"uppy-ImageCropper"},be("div",{className:"uppy-ImageCropper-container"},be("img",{className:"uppy-ImageCropper-image",alt:o.name,src:l,ref:function(f){i.imgElement=f}})),be("div",{className:"uppy-ImageCropper-controls"},s.revert&&this.renderRevert(),s.rotate&&this.renderRotate(),s.granularRotate&&this.renderGranularRotate(),s.flip&&this.renderFlip(),s.zoomIn&&this.renderZoomIn(),s.zoomOut&&this.renderZoomOut(),s.cropSquare&&this.renderCropSquare(),s.cropWidescreen&&this.renderCropWidescreen(),s.cropWidescreenVertical&&this.renderCropWidescreenVertical()))}}]),r}($We)});var yW=h(function(Cht,vW){vW.exports={strings:{revert:"Revert",rotate:"Rotate",zoomIn:"Zoom in",zoomOut:"Zoom out",flipHorizontal:"Flip horizontal",aspectRatioSquare:"Crop square",aspectRatioLandscape:"Crop landscape (16:9)",aspectRatioPortrait:"Crop portrait (9:16)"}}});var SW=h(function(Dht,wW){function km(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?km=function(r){return typeof r}:km=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},km(t)}function mW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mW(Object(r),!0).forEach(function(n){VWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VWe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function KWe(t,e,r){return e&&gW(t.prototype,e),r&&gW(t,r),t}function YWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&RR(t,e)}function RR(t,e){return RR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},RR(t,e)}function XWe(t){var e=ZWe();return function(){var n=xm(t),i;if(e){var a=xm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return JWe(this,i)}}function JWe(t,e){if(e&&(km(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QWe(t)}function QWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZWe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function xm(t){return xm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},xm(t)}var bW,_W,eVe=tt(),tVe=eVe.UIPlugin,rVe=(ee(),re(ne)),nVe=rVe.h,iVe=hW(),aVe=yW();wW.exports=(_W=bW=function(t){YWe(r,t);var e=XWe(r);function r(n,i){var a;GWe(this,r),a=e.call(this,n,i),a.save=function(){var l=function(d){var v=a.getPluginState(),g=v.currentImage;a.uppy.setFileState(g.id,{data:d,size:d.size,preview:null});var m=a.uppy.getFile(g.id);a.uppy.emit("thumbnail:request",m),a.setPluginState({currentImage:m}),a.uppy.emit("file-editor:complete",m)},c=a.getPluginState(),f=c.currentImage;a.cropper.getCroppedCanvas(a.opts.cropperOptions.croppedCanvasOptions).toBlob(l,f.type,a.opts.quality)},a.storeCropperInstance=function(l){a.cropper=l},a.selectFile=function(l){a.uppy.emit("file-editor:start",l),a.setPluginState({currentImage:l})},a.id=a.opts.id||"ImageEditor",a.title="Image Editor",a.type="editor",a.defaultLocale=aVe;var o={viewMode:1,background:!1,autoCropArea:1,responsive:!0,croppedCanvasOptions:{}},u={revert:!0,rotate:!0,granularRotate:!0,flip:!0,zoomIn:!0,zoomOut:!0,cropSquare:!0,cropWidescreen:!0,cropWidescreenVertical:!0},s={quality:.8};return a.opts=Vo(Vo(Vo({},s),i),{},{actions:Vo(Vo({},u),i.actions),cropperOptions:Vo(Vo({},o),i.cropperOptions)}),a.i18nInit(),a}return KWe(r,[{key:"canEditFile",value:function(i){if(!i.type||i.isRemote)return!1;var a=i.type.split("/")[1];return!!/^(jpe?g|gif|png|bmp|webp)$/.test(a)}},{key:"install",value:function(){this.setPluginState({currentImage:null});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.unmount()}},{key:"render",value:function(){var i=this.getPluginState(),a=i.currentImage;return a===null||a.isRemote?null:nVe(iVe,{currentImage:a,storeCropperInstance:this.storeCropperInstance,save:this.save,opts:this.opts,i18n:this.i18n})}}]),r}(tVe),bW.VERSION="1.1.1",_W)});var PW=h(function(Uht,OW){"use strict";OW.exports={strings:{pluginNameDropbox:"Dropbox"}}});var AW=h(function(jht,TW){"use strict";function Fm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fm=function(r){return typeof r}:Fm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fm(t)}function oVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function uVe(t,e,r){return e&&qW(t.prototype,e),r&&qW(t,r),t}function sVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ER(t,e)}function ER(t,e){return ER=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},ER(t,e)}function lVe(t){var e=fVe();return function(){var n=Dm(t),i;if(e){var a=Dm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return cVe(this,i)}}function cVe(t,e){if(e&&(Fm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cm(t)}function Cm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Dm(t){return Dm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Dm(t)}var pVe=tt(),RW=tr(),dVe=Ci(),Um=(ee(),re(ne)),hVe={version:"2.0.6"},vVe=PW(),EW=function(t){sVe(r,t);var e=lVe(r);function r(n,i){var a;return oVe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"Dropbox",RW.Provider.initPlugin(Cm(a),i),a.title=a.opts.title||"Dropbox",a.icon=function(){return(0,Um.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,Um.h)("g",{fill:"none",fillRule:"evenodd"},(0,Um.h)("rect",{className:"uppy-ProviderIconBg",fill:"#0D2481",width:"32",height:"32",rx:"16"}),(0,Um.h)("path",{d:"M11 8l5 3.185-5 3.186-5-3.186L11 8zm10 0l5 3.185-5 3.186-5-3.186L21 8zM6 17.556l5-3.185 5 3.185-5 3.186-5-3.186zm15-3.185l5 3.185-5 3.186-5-3.186 5-3.185zm-10 7.432l5-3.185 5 3.185-5 3.186-5-3.186z",fill:"#FFF",fillRule:"nonzero"})))},a.provider=new RW.Provider(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionKeysParams:a.opts.companionKeysParams,companionCookiesRule:a.opts.companionCookiesRule,provider:"dropbox",pluginId:a.id}),a.defaultLocale=vVe,a.i18nInit(),a.title=a.i18n("pluginNameDropbox"),a.onFirstRender=a.onFirstRender.bind(Cm(a)),a.render=a.render.bind(Cm(a)),a}return uVe(r,[{key:"install",value:function(){this.view=new dVe.ProviderViews(this,{provider:this.provider});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}},{key:"render",value:function(i){return this.view.render(i)}}]),r}(pVe.UIPlugin);EW.VERSION=hVe.version;TW.exports=EW});var kW=h(function(Mht,IW){"use strict";IW.exports=AW()});var CW=h(function(Nht,FW){function jm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jm=function(r){return typeof r}:jm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jm(t)}function yVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function mVe(t,e,r){return e&&xW(t.prototype,e),r&&xW(t,r),t}function Mm(){return typeof Reflect!="undefined"&&Reflect.get?Mm=Reflect.get:Mm=function(e,r,n){var i=gVe(e,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},Mm.apply(this,arguments)}function gVe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Cs(t),t!==null););return t}function bVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&TR(t,e)}function TR(t,e){return TR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},TR(t,e)}function _Ve(t){var e=OVe();return function(){var n=Cs(t),i;if(e){var a=Cs(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return wVe(this,i)}}function wVe(t,e){if(e&&(jm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SVe(t)}function SVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Cs(t){return Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Cs(t)}var PVe=Ci(),qVe=PVe.ProviderViews;FW.exports=function(t){bVe(r,t);var e=_Ve(r);function r(){return yVe(this,r),e.apply(this,arguments)}return mVe(r,[{key:"toggleCheckbox",value:function(i,a){i.stopPropagation(),i.preventDefault(),a.custom.isSharedDrive||Mm(Cs(r.prototype),"toggleCheckbox",this).call(this,i,a)}}]),r}(qVe)});var UW=h(function(Bht,DW){DW.exports={strings:{pluginNameGoogleDrive:"Google Drive"}}});var zW=h(function(Lht,LW){function Nm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nm=function(r){return typeof r}:Nm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Nm(t)}function RVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function EVe(t,e,r){return e&&jW(t.prototype,e),r&&jW(t,r),t}function TVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&AR(t,e)}function AR(t,e){return AR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},AR(t,e)}function AVe(t){var e=kVe();return function(){var n=Lm(t),i;if(e){var a=Lm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return IVe(this,i)}}function IVe(t,e){if(e&&(Nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bm(t)}function Bm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Lm(t)}var MW,NW,xVe=tt(),FVe=xVe.UIPlugin,CVe=tr(),BW=CVe.Provider,DVe=(ee(),re(ne)),zm=DVe.h,UVe=CW(),jVe=UW();LW.exports=(NW=MW=function(t){TVe(r,t);var e=AVe(r);function r(n,i){var a;return RVe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"GoogleDrive",a.title=a.opts.title||"Google Drive",BW.initPlugin(Bm(a),i),a.title=a.opts.title||"Google Drive",a.icon=function(){return zm("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},zm("g",{fill:"none",fillRule:"evenodd"},zm("rect",{className:"uppy-ProviderIconBg",fill:"#4285F4",width:"32",height:"32",rx:"16"}),zm("path",{d:"M25.216 17.736L19.043 7h-6.086l6.175 10.736h6.084zm-11.275.896L10.9 24h11.723l3.04-5.368H13.942zm-1.789-10.29l-5.816 10.29L9.38 24l5.905-10.29-3.132-5.369z",fill:"#FFF"})))},a.provider=new BW(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionKeysParams:a.opts.companionKeysParams,companionCookiesRule:a.opts.companionCookiesRule,provider:"drive",pluginId:a.id}),a.defaultLocale=jVe,a.i18nInit(),a.title=a.i18n("pluginNameGoogleDrive"),a.onFirstRender=a.onFirstRender.bind(Bm(a)),a.render=a.render.bind(Bm(a)),a}return EVe(r,[{key:"install",value:function(){this.view=new UVe(this,{provider:this.provider});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("root","/")])}},{key:"render",value:function(i){return this.view.render(i)}}]),r}(FVe),MW.VERSION="2.0.5",NW)});var $W=h(function(zht,HW){HW.exports={strings:{pluginNameInstagram:"Instagram"}}});var XW=h(function(Hht,YW){function Hm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hm=function(r){return typeof r}:Hm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hm(t)}function MVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function NVe(t,e,r){return e&&WW(t.prototype,e),r&&WW(t,r),t}function BVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&IR(t,e)}function IR(t,e){return IR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},IR(t,e)}function LVe(t){var e=HVe();return function(){var n=Wm(t),i;if(e){var a=Wm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return zVe(this,i)}}function zVe(t,e){if(e&&(Hm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $m(t)}function $m(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HVe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Wm(t)}var VW,GW,$Ve=tt(),WVe=$Ve.UIPlugin,VVe=tr(),KW=VVe.Provider,GVe=Ci(),KVe=GVe.ProviderViews,YVe=(ee(),re(ne)),Vm=YVe.h,XVe=$W();YW.exports=(GW=VW=function(t){BVe(r,t);var e=LVe(r);function r(n,i){var a;return MVe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"Instagram",KW.initPlugin($m(a),i),a.icon=function(){return Vm("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},Vm("g",{fill:"none",fillRule:"evenodd"},Vm("rect",{className:"uppy-ProviderIconBg",fill:"#E1306C",width:"32",height:"32",rx:"16"}),Vm("path",{d:"M16 8.622c2.403 0 2.688.009 3.637.052.877.04 1.354.187 1.67.31.392.144.745.374 1.036.673.299.29.529.644.673 1.035.123.317.27.794.31 1.671.043.95.052 1.234.052 3.637s-.009 2.688-.052 3.637c-.04.877-.187 1.354-.31 1.671a2.98 2.98 0 0 1-1.708 1.708c-.317.123-.794.27-1.671.31-.95.043-1.234.053-3.637.053s-2.688-.01-3.637-.053c-.877-.04-1.354-.187-1.671-.31a2.788 2.788 0 0 1-1.035-.673 2.788 2.788 0 0 1-.673-1.035c-.123-.317-.27-.794-.31-1.671-.043-.949-.052-1.234-.052-3.637s.009-2.688.052-3.637c.04-.877.187-1.354.31-1.67.144-.392.374-.745.673-1.036.29-.299.644-.529 1.035-.673.317-.123.794-.27 1.671-.31.95-.043 1.234-.052 3.637-.052zM16 7c-2.444 0-2.75.01-3.71.054-.959.044-1.613.196-2.185.419-.6.225-1.145.58-1.594 1.038-.458.45-.813.993-1.039 1.594-.222.572-.374 1.226-.418 2.184C7.01 13.25 7 13.556 7 16s.01 2.75.054 3.71c.044.959.196 1.613.419 2.185.226.6.58 1.145 1.038 1.594.45.458.993.813 1.594 1.038.572.223 1.227.375 2.184.419.96.044 1.267.054 3.711.054s2.75-.01 3.71-.054c.959-.044 1.613-.196 2.185-.419a4.602 4.602 0 0 0 2.632-2.632c.223-.572.375-1.226.419-2.184.044-.96.054-1.267.054-3.711s-.01-2.75-.054-3.71c-.044-.959-.196-1.613-.419-2.185A4.412 4.412 0 0 0 23.49 8.51a4.412 4.412 0 0 0-1.594-1.039c-.572-.222-1.226-.374-2.184-.418C18.75 7.01 18.444 7 16 7zm0 4.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zm0 7.421a2.921 2.921 0 1 1 0-5.842 2.921 2.921 0 0 1 0 5.842zm4.875-6.671a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25z",fill:"#FFF"})))},a.defaultLocale=XVe,a.i18nInit(),a.title=a.i18n("pluginNameInstagram"),a.provider=new KW(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionKeysParams:a.opts.companionKeysParams,companionCookiesRule:a.opts.companionCookiesRule,provider:"instagram",pluginId:a.id}),a.onFirstRender=a.onFirstRender.bind($m(a)),a.render=a.render.bind($m(a)),a}return NVe(r,[{key:"install",value:function(){this.view=new KVe(this,{provider:this.provider,viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("recent")])}},{key:"render",value:function(i){return this.view.render(i)}}]),r}(WVe),VW.VERSION="2.0.5",GW)});var QW=h(function($ht,JW){JW.exports={strings:{pluginNameOneDrive:"OneDrive"}}});var iV=h(function(Wht,nV){function Gm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gm=function(r){return typeof r}:Gm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gm(t)}function JVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function QVe(t,e,r){return e&&ZW(t.prototype,e),r&&ZW(t,r),t}function ZVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kR(t,e)}function kR(t,e){return kR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},kR(t,e)}function eGe(t){var e=rGe();return function(){var n=Ym(t),i;if(e){var a=Ym(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return tGe(this,i)}}function tGe(t,e){if(e&&(Gm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Km(t)}function Km(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rGe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ym(t){return Ym=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ym(t)}var eV,tV,nGe=tt(),iGe=nGe.UIPlugin,aGe=tr(),rV=aGe.Provider,oGe=Ci(),uGe=oGe.ProviderViews,sGe=(ee(),re(ne)),Ds=sGe.h,lGe=QW();nV.exports=(tV=eV=function(t){ZVe(r,t);var e=eGe(r);function r(n,i){var a;return JVe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"OneDrive",rV.initPlugin(Km(a),i),a.title=a.opts.title||"OneDrive",a.icon=function(){return Ds("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},Ds("g",{fill:"none",fillRule:"evenodd"},Ds("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0262C0"}),Ds("g",{fill:"#FFF",fillRule:"nonzero"},Ds("path",{d:"M24.157 22s1.492-.205 1.79-1.655a2.624 2.624 0 0 0 .03-.878c-.22-1.64-1.988-2.01-1.988-2.01s.307-1.765-1.312-2.69c-1.62-.925-3.1 0-3.1 0S18.711 13 16.366 13c-3.016 0-3.519 3.448-3.519 3.448S10 16.618 10 19.14c0 2.523 2.597 2.86 2.597 2.86h11.56z"}),Ds("path",{d:"M9.421 19.246c0-2.197 1.606-3.159 2.871-3.472.44-1.477 1.654-3.439 4.135-3.439H16.445c1.721 0 2.79.823 3.368 1.476a3.99 3.99 0 0 1 1.147-.171h.01l.03.002C21.017 13.5 20.691 10 16.757 10c-2.69 0-3.639 2.345-3.639 2.345s-1.95-1.482-3.955.567c-1.028 1.052-.79 2.669-.79 2.669S6 15.824 6 18.412C6 20.757 8.452 21 8.452 21h1.372a3.77 3.77 0 0 1-.403-1.754z"}))))},a.provider=new rV(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionCookiesRule:a.opts.companionCookiesRule,provider:"onedrive",pluginId:a.id}),a.defaultLocale=lGe,a.i18nInit(),a.title=a.i18n("pluginNameOneDrive"),a.onFirstRender=a.onFirstRender.bind(Km(a)),a.render=a.render.bind(Km(a)),a}return QVe(r,[{key:"install",value:function(){this.view=new uGe(this,{provider:this.provider});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}},{key:"render",value:function(i){return this.view.render(i)}}]),r}(iGe),eV.VERSION="2.0.6",tV)});var oV=h(function(Vht,aV){"use strict";aV.exports={strings:{pluginNameBox:"Box"}}});var fV=h(function(Ght,cV){"use strict";function Xm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xm=function(r){return typeof r}:Xm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xm(t)}function cGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function fGe(t,e,r){return e&&uV(t.prototype,e),r&&uV(t,r),t}function pGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xR(t,e)}function xR(t,e){return xR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},xR(t,e)}function dGe(t){var e=vGe();return function(){var n=Qm(t),i;if(e){var a=Qm(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return hGe(this,i)}}function hGe(t,e){if(e&&(Xm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jm(t)}function Jm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vGe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Qm(t){return Qm=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Qm(t)}var yGe=tt(),sV=tr(),mGe=Ci(),Us=(ee(),re(ne)),gGe=oV(),bGe={version:"1.0.6"},lV=function(t){pGe(r,t);var e=dGe(r);function r(n,i){var a;return cGe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"Box",sV.Provider.initPlugin(Jm(a),i),a.title=a.opts.title||"Box",a.icon=function(){return(0,Us.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,Us.h)("g",{fill:"none",fillRule:"evenodd"},(0,Us.h)("rect",{className:"uppy-ProviderIconBg",fill:"#0061D5",width:"32",height:"32",rx:"16"}),(0,Us.h)("g",{fill:"#fff",fillRule:"nonzero"},(0,Us.h)("path",{d:"m16.4 13.5c-1.6 0-3 0.9-3.7 2.2-0.7-1.3-2.1-2.2-3.7-2.2-1 0-1.8 0.3-2.5 0.8v-3.6c-0.1-0.3-0.5-0.7-1-0.7s-0.8 0.4-0.8 0.8v7c0 2.3 1.9 4.2 4.2 4.2 1.6 0 3-0.9 3.7-2.2 0.7 1.3 2.1 2.2 3.7 2.2 2.3 0 4.2-1.9 4.2-4.2 0.1-2.4-1.8-4.3-4.1-4.3m-7.5 6.8c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5m7.5 0c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5"}),(0,Us.h)("path",{d:"m27.2 20.6l-2.3-2.8 2.3-2.8c0.3-0.4 0.2-0.9-0.2-1.2s-1-0.2-1.3 0.2l-2 2.4-2-2.4c-0.3-0.4-0.9-0.4-1.3-0.2-0.4 0.3-0.5 0.8-0.2 1.2l2.3 2.8-2.3 2.8c-0.3 0.4-0.2 0.9 0.2 1.2s1 0.2 1.3-0.2l2-2.4 2 2.4c0.3 0.4 0.9 0.4 1.3 0.2 0.4-0.3 0.4-0.8 0.2-1.2"}))))},a.provider=new sV.Provider(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionKeysParams:a.opts.companionKeysParams,companionCookiesRule:a.opts.companionCookiesRule,provider:"box",pluginId:a.id}),a.defaultLocale=gGe,a.i18nInit(),a.title=a.i18n("pluginNameBox"),a.onFirstRender=a.onFirstRender.bind(Jm(a)),a.render=a.render.bind(Jm(a)),a}return fGe(r,[{key:"install",value:function(){this.view=new mGe.ProviderViews(this,{provider:this.provider});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return this.view.getFolder()}},{key:"render",value:function(i){return this.view.render(i)}}]),r}(yGe.UIPlugin);lV.VERSION=bGe.version;cV.exports=lV});var dV=h(function(Kht,pV){"use strict";pV.exports=fV()});var vV=h(function(Yht,hV){"use strict";hV.exports={strings:{pluginNameFacebook:"Facebook"}}});var _V=h(function(Xht,bV){"use strict";function Zm(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zm=function(r){return typeof r}:Zm=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zm(t)}function _Ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function wGe(t,e,r){return e&&yV(t.prototype,e),r&&yV(t,r),t}function SGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FR(t,e)}function FR(t,e){return FR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},FR(t,e)}function OGe(t){var e=qGe();return function(){var n=tg(t),i;if(e){var a=tg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return PGe(this,i)}}function PGe(t,e){if(e&&(Zm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eg(t)}function eg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qGe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function tg(t){return tg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},tg(t)}var RGe=tt(),mV=tr(),EGe=Ci(),rg=(ee(),re(ne)),TGe={version:"2.0.6"},AGe=vV(),gV=function(t){SGe(r,t);var e=OGe(r);function r(n,i){var a;return _Ge(this,r),a=e.call(this,n,i),a.id=a.opts.id||"Facebook",mV.Provider.initPlugin(eg(a),i),a.title=a.opts.title||"Facebook",a.icon=function(){return(0,rg.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},(0,rg.h)("g",{fill:"none",fillRule:"evenodd"},(0,rg.h)("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#3C5A99"}),(0,rg.h)("path",{d:"M17.842 26v-8.667h2.653l.398-3.377h-3.051v-2.157c0-.978.248-1.644 1.527-1.644H21V7.132A19.914 19.914 0 0 0 18.623 7c-2.352 0-3.963 1.574-3.963 4.465v2.49H12v3.378h2.66V26h3.182z",fill:"#FFF",fillRule:"nonzero"})))},a.provider=new mV.Provider(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionKeysParams:a.opts.companionKeysParams,companionCookiesRule:a.opts.companionCookiesRule,provider:"facebook",pluginId:a.id}),a.defaultLocale=AGe,a.i18nInit(),a.title=a.i18n("pluginNameFacebook"),a.onFirstRender=a.onFirstRender.bind(eg(a)),a.render=a.render.bind(eg(a)),a}return wGe(r,[{key:"install",value:function(){this.view=new EGe.ProviderViews(this,{provider:this.provider});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.view.tearDown(),this.unmount()}},{key:"onFirstRender",value:function(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}},{key:"render",value:function(i){var a={};return this.getPluginState().files.length&&!this.getPluginState().folders.length&&(a.viewType="grid",a.showFilter=!1,a.showTitles=!1),this.view.render(i,a)}}]),r}(RGe.UIPlugin);gV.VERSION=TGe.version;bV.exports=gV});var SV=h(function(Jht,wV){"use strict";wV.exports=_V()});var AV=h(function(Qht,TV){function ng(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ng=function(r){return typeof r}:ng=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ng(t)}function IGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function kGe(t,e,r){return e&&OV(t.prototype,e),r&&OV(t,r),t}function xGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&CR(t,e)}function CR(t,e){return CR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},CR(t,e)}function FGe(t){var e=DGe();return function(){var n=ig(t),i;if(e){var a=ig(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return CGe(this,i)}}function CGe(t,e){if(e&&(ng(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PV(t)}function PV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DGe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ig(t){return ig=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ig(t)}var qV,RV,UGe=tt(),jGe=UGe.UIPlugin,MGe=(ee(),re(ne)),ag=MGe.h,EV=tr(),NGe=EV.SearchProvider,BGe=EV.Provider,LGe=Ci(),zGe=LGe.SearchProviderViews;TV.exports=(RV=qV=function(t){xGe(r,t);var e=FGe(r);function r(n,i){var a;if(IGe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"Unsplash",a.title=a.opts.title||"Unsplash",BGe.initPlugin(PV(a),i,{}),a.icon=function(){return ag("svg",{viewBox:"0 0 32 32",height:"32",width:"32","aria-hidden":"true"},ag("path",{d:"M46.575 10.883v-9h12v9zm12 5h10v18h-32v-18h10v9h12z",fill:"#fff"}),ag("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16"}),ag("path",{d:"M13 12.5V8h6v4.5zm6 2.5h5v9H8v-9h5v4.5h6z",fill:"#fff"}))},!a.opts.companionUrl)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");return a.hostname=a.opts.companionUrl,a.provider=new NGe(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionCookiesRule:a.opts.companionCookiesRule,provider:"unsplash",pluginId:a.id}),a}return kGe(r,[{key:"install",value:function(){this.view=new zGe(this,{provider:this.provider,viewType:"unsplash"});var i=this.opts.target;i&&this.mount(i,this)}},{key:"onFirstRender",value:function(){}},{key:"render",value:function(i){return this.view.render(i)}},{key:"uninstall",value:function(){this.unmount()}}]),r}(jGe),qV.VERSION="2.0.3",RV)});var FV=h(function(Zht,xV){function og(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?og=function(r){return typeof r}:og=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},og(t)}function HGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $Ge(t,e,r){return e&&IV(t.prototype,e),r&&IV(t,r),t}function WGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&DR(t,e)}function DR(t,e){return DR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},DR(t,e)}function VGe(t){var e=KGe();return function(){var n=ug(t),i;if(e){var a=ug(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return GGe(this,i)}}function GGe(t,e){if(e&&(og(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UR(t)}function UR(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KGe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ug(t)}var kV=(ee(),re(ne)),jR=kV.h,YGe=kV.Component,XGe=function(t){WGe(r,t);var e=VGe(r);function r(n){var i;return HGe(this,r),i=e.call(this,n),i.handleKeyPress=i.handleKeyPress.bind(UR(i)),i.handleClick=i.handleClick.bind(UR(i)),i}return $Ge(r,[{key:"componentDidMount",value:function(){this.input.value=""}},{key:"handleKeyPress",value:function(i){i.keyCode===13&&this.props.addFile(this.input.value)}},{key:"handleClick",value:function(){this.props.addFile(this.input.value)}},{key:"render",value:function(){var i=this;return jR("div",{className:"uppy-Url"},jR("input",{className:"uppy-u-reset uppy-c-textInput uppy-Url-input",type:"text","aria-label":this.props.i18n("enterUrlToImport"),placeholder:this.props.i18n("enterUrlToImport"),onKeyUp:this.handleKeyPress,ref:function(o){i.input=o},"data-uppy-super-focusable":!0}),jR("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Url-importButton",type:"button",onClick:this.handleClick},this.props.i18n("import")))}}]),r}(YGe);xV.exports=XGe});var DV=h(function(evt,CV){var JGe=Rn();CV.exports=function(e,r,n){var i=JGe(e.items),a;switch(r){case"paste":{var o=i.some(function(u){return u.kind==="file"});if(o)return;a=i.filter(function(u){return u.kind==="string"&&u.type==="text/plain"});break}case"drop":{a=i.filter(function(u){return u.kind==="string"&&u.type==="text/uri-list"});break}default:throw new Error("isDropOrPaste must be either 'drop' or 'paste', but it's ".concat(r))}a.forEach(function(u){u.getAsString(function(s){return n(s)})})}});var jV=h(function(tvt,UV){UV.exports={strings:{import:"Import",enterUrlToImport:"Enter URL to import a file",failedToFetch:"Companion failed to fetch this URL, please make sure it\u2019s correct",enterCorrectUrl:"Incorrect URL: Please make sure you are entering a direct link to a file"}}});var WV=h(function(rvt,$V){function sg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sg=function(r){return typeof r}:sg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sg(t)}function MV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MV(Object(r),!0).forEach(function(n){QGe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QGe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function eKe(t,e,r){return e&&BV(t.prototype,e),r&&BV(t,r),t}function tKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&MR(t,e)}function MR(t,e){return MR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},MR(t,e)}function rKe(t){var e=iKe();return function(){var n=lg(t),i;if(e){var a=lg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return nKe(this,i)}}function nKe(t,e){if(e&&(sg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rp(t)}function rp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function lg(t){return lg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},lg(t)}var LV,zV,aKe=tt(),oKe=aKe.UIPlugin,uKe=(ee(),re(ne)),js=uKe.h,sKe=tr(),lKe=sKe.RequestClient,cKe=Rn(),fKe=FV(),HV=DV(),pKe=jV();function dKe(){return js("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},js("g",{fill:"none",fillRule:"evenodd"},js("rect",{className:"uppy-ProviderIconBg",fill:"#FF753E",width:"32",height:"32",rx:"16"}),js("path",{d:"M22.788 15.389l-2.199 2.19a3.184 3.184 0 0 1-.513.437c-.806.584-1.686.876-2.638.876a4.378 4.378 0 0 1-3.519-1.752c-.22-.292-.146-.802.147-1.021.293-.22.806-.146 1.026.146.953 1.313 2.785 1.532 4.105.583a.571.571 0 0 0 .293-.292l2.199-2.189c1.1-1.167 1.1-2.992-.073-4.086a2.976 2.976 0 0 0-4.105 0l-1.246 1.24a.71.71 0 0 1-1.026 0 .703.703 0 0 1 0-1.022l1.246-1.24a4.305 4.305 0 0 1 6.083 0c1.833 1.605 1.906 4.451.22 6.13zm-7.183 5.035l-1.246 1.24a2.976 2.976 0 0 1-4.105 0c-1.172-1.094-1.172-2.991-.073-4.086l2.2-2.19.292-.291c.66-.438 1.393-.657 2.2-.584.805.146 1.465.51 1.905 1.168.22.292.733.365 1.026.146.293-.22.367-.73.147-1.022-.733-.949-1.76-1.532-2.859-1.678-1.1-.22-2.272.073-3.225.802l-.44.438-2.199 2.19c-1.686 1.75-1.612 4.524.074 6.202.88.803 1.979 1.241 3.078 1.241 1.1 0 2.199-.438 3.079-1.24l1.246-1.241a.703.703 0 0 0 0-1.022c-.294-.292-.807-.365-1.1-.073z",fill:"#FFF",fillRule:"nonzero"})))}$V.exports=(zV=LV=function(t){tKe(r,t);var e=rKe(r);function r(n,i){var a;ZGe(this,r),a=e.call(this,n,i),a.id=a.opts.id||"Url",a.title=a.opts.title||"Link",a.type="acquirer",a.icon=function(){return js(dKe,null)},a.defaultLocale=pKe;var o={};if(a.opts=NV(NV({},o),i),a.i18nInit(),a.hostname=a.opts.companionUrl,!a.hostname)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");return a.getMeta=a.getMeta.bind(rp(a)),a.addFile=a.addFile.bind(rp(a)),a.handleRootDrop=a.handleRootDrop.bind(rp(a)),a.handleRootPaste=a.handleRootPaste.bind(rp(a)),a.client=new lKe(n,{companionUrl:a.opts.companionUrl,companionHeaders:a.opts.companionHeaders,companionCookiesRule:a.opts.companionCookiesRule}),a}return eKe(r,[{key:"getFileNameFromUrl",value:function(i){return i.substring(i.lastIndexOf("/")+1)}},{key:"checkIfCorrectURL",value:function(i){if(!i)return!1;var a=i.match(/^([a-z0-9]+):\/\//)[1];return!(a!=="http"&&a!=="https")}},{key:"addProtocolToURL",value:function(i){var a=/^[a-z0-9]+:\/\//,o="http://";return a.test(i)?i:o+i}},{key:"getMeta",value:function(i){var a=this;return this.client.post("url/meta",{url:i}).then(function(o){if(o.error)throw a.uppy.log("[URL] Error:"),a.uppy.log(o.error),new Error("Failed to fetch the file");return o})}},{key:"addFile",value:function(i){var a=this;if(i=this.addProtocolToURL(i),!this.checkIfCorrectURL(i)){this.uppy.log("[URL] Incorrect URL entered: ".concat(i)),this.uppy.info(this.i18n("enterCorrectUrl"),"error",4e3);return}return this.getMeta(i).then(function(o){var u={source:a.id,name:a.getFileNameFromUrl(i),type:o.type,data:{size:o.size},isRemote:!0,body:{url:i},remote:{companionUrl:a.opts.companionUrl,url:"".concat(a.hostname,"/url/get"),body:{fileId:i,url:i},providerOptions:a.client.opts}};return u}).then(function(o){a.uppy.log("[Url] Adding remote file");try{return a.uppy.addFile(o)}catch(u){return u.isRestriction||a.uppy.log(u),u}}).catch(function(o){return a.uppy.log(o),a.uppy.info({message:a.i18n("failedToFetch"),details:o},"error",4e3),o})}},{key:"canHandleRootDrop",value:function(i){var a=cKe(i.dataTransfer.items),o=a.filter(function(u){return u.kind==="string"&&u.type==="text/uri-list"});return o.length>0}},{key:"handleRootDrop",value:function(i){var a=this;HV(i.dataTransfer,"drop",function(o){a.uppy.log("[URL] Adding file from dropped url: ".concat(o)),a.addFile(o)})}},{key:"handleRootPaste",value:function(i){var a=this;HV(i.clipboardData,"paste",function(o){a.uppy.log("[URL] Adding file from pasted url: ".concat(o)),a.addFile(o)})}},{key:"render",value:function(){return js(fKe,{i18n:this.i18n,addFile:this.addFile})}},{key:"install",value:function(){var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.unmount()}}]),r}(oKe),LV.VERSION="2.0.5",zV)});var cg=h(function(nvt,GV){function hKe(t,e){return gKe(t)||mKe(t,e)||yKe(t,e)||vKe()}function vKe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yKe(t,e){if(!!t){if(typeof t=="string")return VV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VV(t,e)}}function VV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mKe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function gKe(t){if(Array.isArray(t))return t}var bKe={"audio/mp3":"mp3","audio/mp4":"mp4","audio/ogg":"ogg","audio/webm":"webm","image/gif":"gif","image/heic":"heic","image/heif":"heif","image/jpeg":"jpg","image/png":"png","image/svg+xml":"svg","video/mp4":"mp4","video/ogg":"ogv","video/quicktime":"mov","video/webm":"webm","video/x-matroska":"mkv","video/x-msvideo":"avi"};GV.exports=function(e){var r=e.split(";",1),n=hKe(r,1);return e=n[0],bKe[e]||null}});var YV=h(function(ivt,KV){KV.exports=function(e,r,n){return new Promise(function(i){e.toBlob(i,r,n)})}});var JV=h(function(avt,XV){XV.exports=function(){return typeof MediaRecorder=="function"&&!!MediaRecorder.prototype&&typeof MediaRecorder.prototype.start=="function"}});var NR=h(function(ovt,ZV){var _Ke=(ee(),re(ne)),QV=_Ke.h;ZV.exports=function(){return QV("svg",{"aria-hidden":"true",focusable:"false",fill:"#0097DC",width:"66",height:"55",viewBox:"0 0 66 55"},QV("path",{d:"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z",fillRule:"evenodd"}))}});var tG=h(function(uvt,eG){var wKe=(ee(),re(ne)),SKe=wKe.h,OKe=NR();eG.exports=function(t){var e=t.onSnapshot,r=t.i18n;return SKe("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture",type:"button",title:r("takePicture"),"aria-label":r("takePicture"),onClick:e,"data-uppy-super-focusable":!0},OKe())}});var nG=h(function(svt,rG){var PKe=(ee(),re(ne)),Ms=PKe.h;rG.exports=function(e){var r=e.recording,n=e.onStartRecording,i=e.onStopRecording,a=e.i18n;return r?Ms("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:a("stopRecording"),"aria-label":a("stopRecording"),onClick:i,"data-uppy-super-focusable":!0},Ms("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},Ms("rect",{x:"15",y:"15",width:"70",height:"70"}))):Ms("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:a("startRecording"),"aria-label":a("startRecording"),onClick:n,"data-uppy-super-focusable":!0},Ms("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},Ms("circle",{cx:"50",cy:"50",r:"40"})))}});var aG=h(function(lvt,iG){iG.exports=function(e){return"".concat(Math.floor(e/60),":").concat(String(e%60).padStart(2,0))}});var uG=h(function(cvt,oG){var qKe=(ee(),re(ne)),RKe=qKe.h,EKe=aG();oG.exports=function(e){var r=e.recordingLengthSeconds,n=e.i18n,i=EKe(r);return RKe("span",{"aria-label":n("recordingLength",{recording_length:i})},i)}});var lG=h(function(fvt,sG){var TKe=(ee(),re(ne)),BR=TKe.h;sG.exports=function(t){var e=t.currentDeviceId,r=t.videoSources,n=t.onChangeVideoSource;return BR("div",{className:"uppy-Webcam-videoSource"},BR("select",{className:"uppy-u-reset uppy-Webcam-videoSource-select",onChange:function(a){n(a.target.value)}},r.map(function(i){return BR("option",{key:i.deviceId,value:i.deviceId,selected:i.deviceId===e},i.label)})))}});var fG=h(function(pvt,cG){var AKe=(ee(),re(ne)),LR=AKe.h;function IKe(t){var e=t.onSubmit,r=t.i18n;return LR("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--submit",type:"button",title:r("submitRecordedFile"),"aria-label":r("submitRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},LR("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},LR("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}cG.exports=IKe});var dG=h(function(dvt,pG){var kKe=(ee(),re(ne)),np=kKe.h;function xKe(t){var e=t.onDiscard,r=t.i18n;return np("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--discard",type:"button",title:r("discardRecordedFile"),"aria-label":r("discardRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},np("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},np("g",{fill:"#FFF",fillRule:"evenodd"},np("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),np("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}pG.exports=xKe});var mG=h(function(hvt,yG){function fg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fg=function(r){return typeof r}:fg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fg(t)}function FKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function CKe(t,e,r){return e&&hG(t.prototype,e),r&&hG(t,r),t}function DKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zR(t,e)}function zR(t,e){return zR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},zR(t,e)}function UKe(t){var e=NKe();return function(){var n=pg(t),i;if(e){var a=pg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return jKe(this,i)}}function jKe(t,e){if(e&&(fg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MKe(t)}function MKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NKe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function pg(t){return pg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},pg(t)}function HR(){return HR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HR.apply(this,arguments)}var vG=(ee(),re(ne)),Gr=vG.h,BKe=vG.Component,LKe=tG(),zKe=nG(),HKe=uG(),$Ke=lG(),WKe=fG(),VKe=dG();function dg(t,e){return t.indexOf(e)!==-1}var GKe=function(t){DKe(r,t);var e=UKe(r);function r(){return FKe(this,r),e.apply(this,arguments)}return CKe(r,[{key:"componentDidMount",value:function(){var i=this.props.onFocus;i()}},{key:"componentWillUnmount",value:function(){var i=this.props.onStop;i()}},{key:"render",value:function(){var i=this,a=this.props,o=a.src,u=a.recordedVideo,s=a.recording,l=a.modes,c=a.supportsRecording,f=a.videoSources,p=a.showVideoSourceDropdown,d=a.showRecordingLength,v=a.onSubmit,g=a.i18n,m=a.mirror,_=a.onSnapshot,S=a.onStartRecording,q=a.onStopRecording,A=a.onDiscardRecordedVideo,D=a.recordingLengthSeconds,F=!!u,$=!F&&c&&(dg(l,"video-only")||dg(l,"audio-only")||dg(l,"video-audio")),Y=!F&&dg(l,"picture"),R=c&&d&&!F,j=p&&f&&f.length>1,Q={playsinline:!0};return u?(Q.muted=!1,Q.controls=!0,Q.src=u,this.videoElement&&(this.videoElement.srcObject=void 0)):(Q.muted=!0,Q.autoplay=!0,Q.srcObject=o),Gr("div",{className:"uppy uppy-Webcam-container"},Gr("div",{className:"uppy-Webcam-videoContainer"},Gr("video",HR({ref:function(T){return i.videoElement=T},className:"uppy-Webcam-video  ".concat(m?"uppy-Webcam-video--mirrored":"")},Q))),Gr("div",{className:"uppy-Webcam-footer"},Gr("div",{className:"uppy-Webcam-videoSourceContainer"},j?$Ke(this.props):null),Gr("div",{className:"uppy-Webcam-buttonContainer"},Y&&Gr(LKe,{onSnapshot:_,i18n:g}),$&&Gr(zKe,{recording:s,onStartRecording:S,onStopRecording:q,i18n:g}),F&&Gr(WKe,{onSubmit:v,i18n:g}),F&&Gr(VKe,{onDiscard:A,i18n:g})),Gr("div",{className:"uppy-Webcam-recordingLength"},R&&Gr(HKe,{recordingLengthSeconds:D,i18n:g}))))}}]),r}(BKe);yG.exports=GKe});var bG=h(function(vvt,gG){var KKe=(ee(),re(ne)),hg=KKe.h;gG.exports=function(t){return hg("div",{className:"uppy-Webcam-permissons"},hg("div",{className:"uppy-Webcam-permissonsIcon"},t.icon()),hg("h1",{className:"uppy-Webcam-title"},t.hasCamera?t.i18n("allowAccessTitle"):t.i18n("noCameraTitle")),hg("p",null,t.hasCamera?t.i18n("allowAccessDescription"):t.i18n("noCameraDescription")))}});var wG=h(function(yvt,_G){_G.exports={strings:{pluginNameCamera:"Camera",noCameraTitle:"Camera Not Available",noCameraDescription:"In order to take pictures or record video, please connect a camera device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file",smile:"Smile!",takePicture:"Take a picture",startRecording:"Begin video recording",stopRecording:"Stop video recording",recordingLength:"Recording length %{recording_length}",allowAccessTitle:"Please allow access to your camera",allowAccessDescription:"In order to take pictures or record video with your camera, please allow camera access for this site."}}});var AG=h(function(mvt,TG){function ip(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ip=function(r){return typeof r}:ip=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ip(t)}function SG(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function YKe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){SG(a,n,i,o,u,"next",s)}function u(s){SG(a,n,i,o,u,"throw",s)}o(void 0)})}}function OG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ma(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OG(Object(r),!0).forEach(function(n){XKe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XKe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function QKe(t,e,r){return e&&PG(t.prototype,e),r&&PG(t,r),t}function vg(){return typeof Reflect!="undefined"&&Reflect.get?vg=Reflect.get:vg=function(e,r,n){var i=ZKe(e,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},vg.apply(this,arguments)}function ZKe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ns(t),t!==null););return t}function eYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$R(t,e)}function $R(t,e){return $R=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},$R(t,e)}function tYe(t){var e=nYe();return function(){var n=Ns(t),i;if(e){var a=Ns(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return rYe(this,i)}}function rYe(t,e){if(e&&(ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kt(t)}function Kt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ns(t){return Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ns(t)}var qG,Kr,RG;function WR(){return WR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WR.apply(this,arguments)}function ap(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var iYe=0;function aYe(t){return"__private_"+iYe+++"_"+t}var oYe=(ee(),re(ne)),Bs=oYe.h,uYe=tt(),sYe=uYe.UIPlugin,VR=cg(),lYe=yP(),cYe=YV(),fYe=JV(),pYe=NR(),dYe=mG(),hYe=bG(),vYe=wG();function EG(t){return t[0]==="."?lYe[t.slice(1)]:t}function yYe(t){return/^video\/[^*]+$/.test(t)}function mYe(t){return/^image\/[^*]+$/.test(t)}function gYe(){return navigator.mediaDevices}TG.exports=(RG=(Kr=aYe("enableMirror"),qG=function(t){eYe(r,t);var e=tYe(r);function r(n,i){var a;JKe(this,r),a=e.call(this,n,i),Object.defineProperty(Kt(a),Kr,{writable:!0,value:void 0}),a.mediaDevices=gYe(),a.supportsUserMedia=!!a.mediaDevices,a.protocol=location.protocol.match(/https/i)?"https":"http",a.id=a.opts.id||"Webcam",a.type="acquirer",a.capturedMediaFile=null,a.icon=function(){return Bs("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},Bs("g",{fill:"none",fillRule:"evenodd"},Bs("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),Bs("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"})))},a.defaultLocale=vYe;var o={onBeforeSnapshot:function(){return Promise.resolve()},countdown:!1,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,showVideoSourceDropdown:!1,facingMode:"user",preferredImageMimeType:null,preferredVideoMimeType:null,showRecordingLength:!1};return a.opts=Ma(Ma({},o),i),a.i18nInit(),a.title=a.i18n("pluginNameCamera"),ap(Kt(a),Kr)[Kr]=a.opts.mirror,a.install=a.install.bind(Kt(a)),a.setPluginState=a.setPluginState.bind(Kt(a)),a.render=a.render.bind(Kt(a)),a.start=a.start.bind(Kt(a)),a.stop=a.stop.bind(Kt(a)),a.takeSnapshot=a.takeSnapshot.bind(Kt(a)),a.startRecording=a.startRecording.bind(Kt(a)),a.stopRecording=a.stopRecording.bind(Kt(a)),a.discardRecordedVideo=a.discardRecordedVideo.bind(Kt(a)),a.submit=a.submit.bind(Kt(a)),a.oneTwoThreeSmile=a.oneTwoThreeSmile.bind(Kt(a)),a.focus=a.focus.bind(Kt(a)),a.changeVideoSource=a.changeVideoSource.bind(Kt(a)),a.webcamActive=!1,a.opts.countdown&&(a.opts.onBeforeSnapshot=a.oneTwoThreeSmile),a.setPluginState({hasCamera:!1,cameraReady:!1,cameraError:null,recordingLengthSeconds:0,videoSources:[],currentDeviceId:null}),a}return QKe(r,[{key:"setOptions",value:function(i){vg(Ns(r.prototype),"setOptions",this).call(this,Ma(Ma({},i),{},{videoConstraints:Ma(Ma({},this.opts.videoConstraints),i==null?void 0:i.videoConstraints)}))}},{key:"hasCameraCheck",value:function(){return this.mediaDevices?this.mediaDevices.enumerateDevices().then(function(i){return i.some(function(a){return a.kind==="videoinput"})}):Promise.resolve(!1)}},{key:"isAudioOnly",value:function(){return this.opts.modes.length===1&&this.opts.modes[0]==="audio-only"}},{key:"getConstraints",value:function(i){i===void 0&&(i=null);var a=this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("audio-only")!==-1,o=!this.isAudioOnly()&&(this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("video-only")!==-1||this.opts.modes.indexOf("picture")!==-1),u=Ma(Ma({},this.opts.videoConstraints||{facingMode:this.opts.facingMode}),i?{deviceId:i,facingMode:null}:{});return{audio:a,video:o?u:!1}}},{key:"start",value:function(i){var a=this;if(i===void 0&&(i=null),!this.supportsUserMedia)return Promise.reject(new Error("Webcam access not supported"));this.webcamActive=!0,this.opts.mirror&&(ap(this,Kr)[Kr]=!0);var o=this.getConstraints(i&&i.deviceId?i.deviceId:null);this.hasCameraCheck().then(function(u){return a.setPluginState({hasCamera:u}),a.mediaDevices.getUserMedia(o).then(function(s){a.stream=s;var l=null,c=a.isAudioOnly()?s.getAudioTracks():s.getVideoTracks();!i||!i.deviceId?l=c[0].getSettings().deviceId:c.forEach(function(f){f.getSettings().deviceId===i.deviceId&&(l=f.getSettings().deviceId)}),a.updateVideoSources(),a.setPluginState({currentDeviceId:l,cameraReady:!0})}).catch(function(s){a.setPluginState({cameraReady:!1,cameraError:s}),a.uppy.info(s.message,"error")})})}},{key:"getMediaRecorderOptions",value:function(){var i={};if(MediaRecorder.isTypeSupported){var a=this.uppy.opts.restrictions,o=[];this.opts.preferredVideoMimeType?o=[this.opts.preferredVideoMimeType]:a.allowedFileTypes&&(o=a.allowedFileTypes.map(EG).filter(yYe));var u=function(c){return MediaRecorder.isTypeSupported(c)&&VR(c)},s=o.filter(u);s.length>0&&(i.mimeType=s[0])}return i}},{key:"startRecording",value:function(){var i=this;this.recorder=new MediaRecorder(this.stream,this.getMediaRecorderOptions()),this.recordingChunks=[];var a=!1;this.recorder.addEventListener("dataavailable",function(o){i.recordingChunks.push(o.data);var u=i.uppy.opts.restrictions;if(i.recordingChunks.length>1&&u.maxFileSize!=null&&!a){var s=i.recordingChunks.reduce(function(p,d){return p+d.size},0),l=(s-i.recordingChunks[0].size)/(i.recordingChunks.length-1),c=l*3,f=Math.max(0,u.maxFileSize-c);s>f&&(a=!0,i.uppy.info(i.i18n("recordingStoppedMaxSize"),"warning",4e3),i.stopRecording())}}),this.recorder.start(500),this.opts.showRecordingLength&&(this.recordingLengthTimer=setInterval(function(){var o=i.getPluginState().recordingLengthSeconds;i.setPluginState({recordingLengthSeconds:o+1})},1e3)),this.setPluginState({isRecording:!0})}},{key:"stopRecording",value:function(){var i=this,a=new Promise(function(o){i.recorder.addEventListener("stop",function(){o()}),i.recorder.stop(),i.opts.showRecordingLength&&(clearInterval(i.recordingLengthTimer),i.setPluginState({recordingLengthSeconds:0}))});return a.then(function(){return i.setPluginState({isRecording:!1}),i.getVideo()}).then(function(o){try{i.capturedMediaFile=o,i.setPluginState({recordedVideo:URL.createObjectURL(o.data)}),ap(i,Kr)[Kr]=!1}catch(u){u.isRestriction||i.uppy.log(u)}}).then(function(){i.recordingChunks=null,i.recorder=null},function(o){throw i.recordingChunks=null,i.recorder=null,o})}},{key:"discardRecordedVideo",value:function(){this.setPluginState({recordedVideo:null}),this.opts.mirror&&(ap(this,Kr)[Kr]=!0),this.capturedMediaFile=null}},{key:"submit",value:function(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(i){i.isRestriction||this.uppy.log(i,"error")}}},{key:"stop",value:function(){var n=YKe(regeneratorRuntime.mark(function a(){var o=this,u,s;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.stream&&(u=this.stream.getAudioTracks(),s=this.stream.getVideoTracks(),u.concat(s).forEach(function(f){return f.stop()})),!this.recorder){c.next=4;break}return c.next=4,new Promise(function(f){o.recorder.addEventListener("stop",f,{once:!0}),o.recorder.stop(),o.opts.showRecordingLength&&clearInterval(o.recordingLengthTimer)});case 4:this.recordingChunks=null,this.recorder=null,this.webcamActive=!1,this.stream=null,this.setPluginState({recordedVideo:null,isRecording:!1,recordingLengthSeconds:0});case 9:case"end":return c.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"getVideoElement",value:function(){return this.el.querySelector(".uppy-Webcam-video")}},{key:"oneTwoThreeSmile",value:function(){var i=this;return new Promise(function(a,o){var u=i.opts.countdown,s=setInterval(function(){if(!i.webcamActive)return clearInterval(s),i.captureInProgress=!1,o(new Error("Webcam is not active"));u>0?(i.uppy.info("".concat(u,"..."),"warning",800),u--):(clearInterval(s),i.uppy.info(i.i18n("smile"),"success",1500),setTimeout(function(){return a()},1500))},1e3)})}},{key:"takeSnapshot",value:function(){var i=this;this.captureInProgress||(this.captureInProgress=!0,this.opts.onBeforeSnapshot().catch(function(a){var o=ip(a)==="object"?a.message:a;return i.uppy.info(o,"error",5e3),Promise.reject(new Error("onBeforeSnapshot: ".concat(o)))}).then(function(){return i.getImage()}).then(function(a){i.captureInProgress=!1;try{i.uppy.addFile(a)}catch(o){o.isRestriction||i.uppy.log(o)}},function(a){throw i.captureInProgress=!1,a}))}},{key:"getImage",value:function(){var i=this,a=this.getVideoElement();if(!a)return Promise.reject(new Error("No video element found, likely due to the Webcam tab being closed."));var o=a.videoWidth,u=a.videoHeight,s=document.createElement("canvas");s.width=o,s.height=u;var l=s.getContext("2d");l.drawImage(a,0,0);var c=this.uppy.opts.restrictions,f=[];this.opts.preferredImageMimeType?f=[this.opts.preferredImageMimeType]:c.allowedFileTypes&&(f=c.allowedFileTypes.map(EG).filter(mYe));var p=f[0]||"image/jpeg",d=VR(p)||"jpg",v="cam-".concat(Date.now(),".").concat(d);return cYe(s,p).then(function(g){return{source:i.id,name:v,data:new Blob([g],{type:p}),type:p}})}},{key:"getVideo",value:function(){var i=this.recordingChunks.find(function(l){var c;return((c=l.type)==null?void 0:c.length)>0}).type,a=VR(i);if(!a)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(i,'"')));var o="webcam-".concat(Date.now(),".").concat(a),u=new Blob(this.recordingChunks,{type:i}),s={source:this.id,name:o,data:new Blob([u],{type:i}),type:i};return Promise.resolve(s)}},{key:"focus",value:function(){var i=this;!this.opts.countdown||setTimeout(function(){i.uppy.info(i.i18n("smile"),"success",1500)},1e3)}},{key:"changeVideoSource",value:function(i){this.stop(),this.start({deviceId:i})}},{key:"updateVideoSources",value:function(){var i=this;this.mediaDevices.enumerateDevices().then(function(a){i.setPluginState({videoSources:a.filter(function(o){return o.kind==="videoinput"})})})}},{key:"render",value:function(){this.webcamActive||this.start();var i=this.getPluginState();return!i.cameraReady||!i.hasCamera?Bs(hYe,{icon:pYe,i18n:this.i18n,hasCamera:i.hasCamera}):Bs(dYe,WR({},i,{onChangeVideoSource:this.changeVideoSource,onSnapshot:this.takeSnapshot,onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onDiscardRecordedVideo:this.discardRecordedVideo,onSubmit:this.submit,onFocus:this.focus,onStop:this.stop,i18n:this.i18n,modes:this.opts.modes,showRecordingLength:this.opts.showRecordingLength,showVideoSourceDropdown:this.opts.showVideoSourceDropdown,supportsRecording:fYe(),recording:i.isRecording,mirror:ap(this,Kr)[Kr],src:this.stream}))}},{key:"install",value:function(){var i=this;this.setPluginState({cameraReady:!1,recordingLengthSeconds:0});var a=this.opts.target;a&&this.mount(a,this),this.mediaDevices&&(this.updateVideoSources(),this.mediaDevices.ondevicechange=function(){if(i.updateVideoSources(),i.stream){var o=!0,u=i.getPluginState(),s=u.videoSources,l=u.currentDeviceId;s.forEach(function(c){l===c.deviceId&&(o=!1)}),o&&(i.stop(),i.start())}})}},{key:"uninstall",value:function(){this.stop(),this.unmount()}},{key:"onUnmount",value:function(){this.stop()}}]),r}(sYe)),qG.VERSION="2.1.0",RG)});var kG=h(function(gvt,IG){var bYe=(ee(),re(ne)),op=bYe.h;IG.exports=function(){return op("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},op("g",{fill:"none",fillRule:"evenodd"},op("rect",{className:"uppy-ProviderIconBg",fill:"#2C3E50",width:"32",height:"32",rx:"16"}),op("path",{d:"M24.182 9H7.818C6.81 9 6 9.742 6 10.667v10c0 .916.81 1.666 1.818 1.666h4.546V24h7.272v-1.667h4.546c1 0 1.809-.75 1.809-1.666l.009-10C26 9.742 25.182 9 24.182 9zM24 21H8V11h16v10z",fill:"#FFF",fillRule:"nonzero"}),op("circle",{fill:"#FFF",cx:"16",cy:"16",r:"2"})))}});var FG=h(function(bvt,xG){var _Ye=(ee(),re(ne)),Ls=_Ye.h;xG.exports=function(e){var r=e.recording,n=e.onStartRecording,i=e.onStopRecording,a=e.i18n;return r?Ls("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video uppy-ScreenCapture-button--stop-rec",type:"button",title:a("stopCapturing"),"aria-label":a("stopCapturing"),onClick:i,"data-uppy-super-focusable":!0},Ls("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},Ls("rect",{x:"15",y:"15",width:"70",height:"70"}))):Ls("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video",type:"button",title:a("startCapturing"),"aria-label":a("startCapturing"),onClick:n,"data-uppy-super-focusable":!0},Ls("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},Ls("circle",{cx:"50",cy:"50",r:"40"})))}});var DG=h(function(_vt,CG){var wYe=(ee(),re(ne)),GR=wYe.h;CG.exports=function(e){var r=e.recording,n=e.recordedVideo,i=e.onSubmit,a=e.i18n;return n&&!r?GR("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--submit",type:"button",title:a("submitRecordedFile"),"aria-label":a("submitRecordedFile"),onClick:i,"data-uppy-super-focusable":!0},GR("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},GR("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"}))):null}});var BG=h(function(wvt,NG){function yg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yg=function(r){return typeof r}:yg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},yg(t)}function UG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SYe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UG(Object(r),!0).forEach(function(n){OYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OYe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function qYe(t,e,r){return e&&jG(t.prototype,e),r&&jG(t,r),t}function RYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&KR(t,e)}function KR(t,e){return KR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},KR(t,e)}function EYe(t){var e=IYe();return function(){var n=mg(t),i;if(e){var a=mg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return TYe(this,i)}}function TYe(t,e){if(e&&(yg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AYe(t)}function AYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function mg(t){return mg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},mg(t)}var MG=(ee(),re(ne)),up=MG.h,kYe=MG.Component,xYe=function(t){RYe(r,t);var e=EYe(r);function r(n){var i;return PYe(this,r),i=e.call(this,n),i.state={elapsedTime:0},i.wrapperStyle={width:"100%",height:"100%",display:"flex"},i.overlayStyle={position:"absolute",width:"100%",height:"100%",background:"black",opacity:.7},i.infoContainerStyle={marginLeft:"auto",marginRight:"auto",marginTop:"auto",marginBottom:"auto",zIndex:1,color:"white"},i.infotextStyle={marginLeft:"auto",marginRight:"auto",marginBottom:"1rem",fontSize:"1.5rem"},i.timeStyle={display:"block",fontWeight:"bold",marginLeft:"auto",marginRight:"auto",fontSize:"3rem",fontFamily:"Courier New"},i}return qYe(r,[{key:"startTimer",value:function(){this.timerTick(),this.timerRunning=!0}},{key:"resetTimer",value:function(){clearTimeout(this.timer),this.setState({elapsedTime:0}),this.timerRunning=!1}},{key:"timerTick",value:function(){var i=this;this.timer=setTimeout(function(){i.setState(function(a){return{elapsedTime:a.elapsedTime+1}}),i.timerTick()},1e3)}},{key:"fmtMSS",value:function(i){return(i-(i%=60))/60+(i>9?":":":0")+i}},{key:"render",value:function(){var i=SYe({},this.props),a=i.recording,o=i.i18n,u=this.fmtMSS(this.state.elapsedTime);return a&&!this.timerRunning&&this.startTimer(),!a&&this.timerRunning&&this.resetTimer(),a?up("div",{style:this.wrapperStyle},up("div",{style:this.overlayStyle}),up("div",{style:this.infoContainerStyle},up("div",{style:this.infotextStyle},o("recording")),up("div",{style:this.timeStyle},u))):null}}]),r}(kYe);NG.exports=xYe});var zG=h(function(Svt,LG){var FYe=(ee(),re(ne)),Jn=FYe.h;LG.exports=function(t){var e=t.streamActive,r=t.i18n;return e?Jn("div",{title:r("streamActive"),"aria-label":r("streamActive"),className:"uppy-ScreenCapture-icon--stream uppy-ScreenCapture-icon--streamActive"},Jn("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},Jn("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),Jn("path",{d:"M0 0h24v24H0z",fill:"none"}),Jn("path",{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))):Jn("div",{title:r("streamPassive"),"aria-label":r("streamPassive"),className:"uppy-ScreenCapture-icon--stream"},Jn("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},Jn("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),Jn("path",{d:"M0 0h24v24H0z",fill:"none"}),Jn("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z"})))}});var VG=h(function(Ovt,WG){function gg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gg=function(r){return typeof r}:gg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gg(t)}function CYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function DYe(t,e,r){return e&&HG(t.prototype,e),r&&HG(t,r),t}function UYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&YR(t,e)}function YR(t,e){return YR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},YR(t,e)}function jYe(t){var e=BYe();return function(){var n=bg(t),i;if(e){var a=bg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return MYe(this,i)}}function MYe(t,e){if(e&&(gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NYe(t)}function NYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},bg(t)}function XR(){return XR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XR.apply(this,arguments)}var $G=(ee(),re(ne)),Na=$G.h,LYe=$G.Component,zYe=FG(),HYe=DG(),$Ye=BG(),WYe=zG(),VYe=function(t){UYe(r,t);var e=jYe(r);function r(){return CYe(this,r),e.apply(this,arguments)}return DYe(r,[{key:"componentWillUnmount",value:function(){this.props.onStop()}},{key:"render",value:function(){var i=this,a=this.props,o=a.recording,u=a.stream,s=a.recordedVideo,l={playsinline:!0};return(o||!s&&!o)&&(l.muted=!0,l.autoplay=!0,l.srcObject=u),s&&!o&&(l.muted=!1,l.controls=!0,l.src=s,this.videoElement&&(this.videoElement.srcObject=void 0)),Na("div",{className:"uppy uppy-ScreenCapture-container"},Na("div",{className:"uppy-ScreenCapture-videoContainer"},Na(WYe,this.props),Na("video",XR({ref:function(f){i.videoElement=f},className:"uppy-ScreenCapture-video"},l)),Na($Ye,this.props)),Na("div",{className:"uppy-ScreenCapture-buttonContainer"},Na(zYe,this.props),Na(HYe,this.props)))}}]),r}(LYe);WG.exports=VYe});var KG=h(function(Pvt,GG){GG.exports={strings:{startCapturing:"Begin screen capturing",stopCapturing:"Stop screen capturing",submitRecordedFile:"Submit recorded file",streamActive:"Stream active",streamPassive:"Stream passive",micDisabled:"Microphone access denied by user",recording:"Recording"}}});var tK=h(function(qvt,eK){function _g(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_g=function(r){return typeof r}:_g=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_g(t)}function YG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YG(Object(r),!0).forEach(function(n){GYe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GYe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function YYe(t,e,r){return e&&XG(t.prototype,e),r&&XG(t,r),t}function XYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&QR(t,e)}function QR(t,e){return QR=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},QR(t,e)}function JYe(t){var e=ZYe();return function(){var n=wg(t),i;if(e){var a=wg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return QYe(this,i)}}function QYe(t,e){if(e&&(_g(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qn(t)}function Qn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZYe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function wg(t){return wg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},wg(t)}var JG,QG;function ZR(){return ZR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZR.apply(this,arguments)}var eXe=(ee(),re(ne)),tXe=eXe.h,rXe=tt(),nXe=rXe.UIPlugin,ZG=cg(),iXe=kG(),aXe=VG(),oXe=KG();function uXe(){return window.MediaRecorder&&navigator.mediaDevices}eK.exports=(QG=JG=function(t){XYe(r,t);var e=JYe(r);function r(n,i){var a;KYe(this,r),a=e.call(this,n,i),a.mediaDevices=uXe(),a.protocol=location.protocol==="https:"?"https":"http",a.id=a.opts.id||"ScreenCapture",a.title=a.opts.title||"Screencast",a.type="acquirer",a.icon=iXe,a.defaultLocale=oXe;var o={displayMediaConstraints:{video:{width:1280,height:720,frameRate:{ideal:3,max:5},cursor:"motion",displaySurface:"monitor"}},userMediaConstraints:{audio:!0},preferredVideoMimeType:"video/webm"};return a.opts=JR(JR({},o),i),a.i18nInit(),a.install=a.install.bind(Qn(a)),a.setPluginState=a.setPluginState.bind(Qn(a)),a.render=a.render.bind(Qn(a)),a.start=a.start.bind(Qn(a)),a.stop=a.stop.bind(Qn(a)),a.startRecording=a.startRecording.bind(Qn(a)),a.stopRecording=a.stopRecording.bind(Qn(a)),a.submit=a.submit.bind(Qn(a)),a.streamInterrupted=a.streamInactivated.bind(Qn(a)),a.captureActive=!1,a.capturedMediaFile=null,a}return YYe(r,[{key:"install",value:function(){if(!this.mediaDevices)return this.uppy.log("Screen recorder access is not supported","error"),null;this.setPluginState({streamActive:!1,audioStreamActive:!1});var i=this.opts.target;i&&this.mount(i,this)}},{key:"uninstall",value:function(){this.videoStream&&this.stop(),this.unmount()}},{key:"start",value:function(){var i=this;if(!this.mediaDevices)return Promise.reject(new Error("Screen recorder access not supported"));this.captureActive=!0,this.selectAudioStreamSource(),this.selectVideoStreamSource().then(function(a){a===!1&&i.parent&&i.parent.hideAllPanels&&(i.parent.hideAllPanels(),i.captureActive=!1)})}},{key:"selectVideoStreamSource",value:function(){var i=this;return this.videoStream?new Promise(function(a){return a(i.videoStream)}):this.mediaDevices.getDisplayMedia(this.opts.displayMediaConstraints).then(function(a){return i.videoStream=a,i.videoStream.addEventListener("inactive",function(){i.streamInactivated()}),i.setPluginState({streamActive:!0}),a}).catch(function(a){return i.setPluginState({screenRecError:a}),i.userDenied=!0,setTimeout(function(){i.userDenied=!1},1e3),!1})}},{key:"selectAudioStreamSource",value:function(){var i=this;return this.audioStream?new Promise(function(a){return a(i.audioStream)}):this.mediaDevices.getUserMedia(this.opts.userMediaConstraints).then(function(a){return i.audioStream=a,i.setPluginState({audioStreamActive:!0}),a}).catch(function(a){return a.name==="NotAllowedError"&&i.uppy.info(i.i18n("micDisabled"),"error",5e3),!1})}},{key:"startRecording",value:function(){var i=this,a={};this.capturedMediaFile=null,this.recordingChunks=[];var o=this.opts.preferredVideoMimeType;this.selectVideoStreamSource().then(function(u){o&&MediaRecorder.isTypeSupported(o)&&ZG(o)&&(a.mimeType=o);var s=[u.getVideoTracks()[0]];i.audioStream&&s.push(i.audioStream.getAudioTracks()[0]),i.outputStream=new MediaStream(s),i.recorder=new MediaRecorder(i.outputStream,a),i.recorder.addEventListener("dataavailable",function(l){i.recordingChunks.push(l.data)}),i.recorder.start(),i.setPluginState({recording:!0})}).catch(function(u){i.uppy.log(u,"error")})}},{key:"streamInactivated",value:function(){var i=JR({},this.getPluginState()),a=i.recordedVideo,o=i.recording;!a&&!o?this.parent&&this.parent.hideAllPanels&&this.parent.hideAllPanels():o&&(this.uppy.log("Capture stream inactive \u2014 stop recording"),this.stopRecording()),this.videoStream=null,this.audioStream=null,this.setPluginState({streamActive:!1,audioStreamActive:!1})}},{key:"stopRecording",value:function(){var i=this,a=new Promise(function(o){i.recorder.addEventListener("stop",function(){o()}),i.recorder.stop()});return a.then(function(){return i.setPluginState({recording:!1}),i.getVideo()}).then(function(o){i.capturedMediaFile=o,i.setPluginState({recordedVideo:URL.createObjectURL(o.data)})}).then(function(){i.recordingChunks=null,i.recorder=null},function(o){throw i.recordingChunks=null,i.recorder=null,o})}},{key:"submit",value:function(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(i){i.isRestriction||this.uppy.log(i,"error")}}},{key:"stop",value:function(){this.videoStream&&(this.videoStream.getVideoTracks().forEach(function(i){i.stop()}),this.videoStream.getAudioTracks().forEach(function(i){i.stop()}),this.videoStream=null),this.audioStream&&(this.audioStream.getAudioTracks().forEach(function(i){i.stop()}),this.audioStream.getVideoTracks().forEach(function(i){i.stop()}),this.audioStream=null),this.outputStream&&(this.outputStream.getAudioTracks().forEach(function(i){i.stop()}),this.outputStream.getVideoTracks().forEach(function(i){i.stop()}),this.outputStream=null),this.setPluginState({recordedVideo:null}),this.captureActive=!1}},{key:"getVideo",value:function(){var i=this.recordingChunks[0].type,a=ZG(i);if(!a)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(i,'"')));var o="screencap-".concat(Date.now(),".").concat(a),u=new Blob(this.recordingChunks,{type:i}),s={source:this.id,name:o,data:new Blob([u],{type:i}),type:i};return Promise.resolve(s)}},{key:"render",value:function(){var i=this.getPluginState();return!i.streamActive&&!this.captureActive&&!this.userDenied&&this.start(),tXe(aXe,ZR({},i,{onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onStop:this.stop,onSubmit:this.submit,i18n:this.i18n,stream:this.videoStream}))}}]),r}(nXe),JG.VERSION="2.0.6",QG)});var nK=h(function(Rvt,rK){"use strict";function sXe(){var t;return typeof MediaRecorder=="function"&&typeof((t=MediaRecorder.prototype)==null?void 0:t.start)=="function"}rK.exports=sXe});var vK={};QA(vK,{useCallback:function(){return pXe},useContext:function(){return dXe},useDebugValue:function(){return hXe},useEffect:function(){return lXe},useErrorBoundary:function(){return vXe},useImperativeHandle:function(){return fXe},useLayoutEffect:function(){return pK},useMemo:function(){return tE},useReducer:function(){return fK},useRef:function(){return cXe},useState:function(){return cK}});function Hs(t,e){ve.__h&&ve.__h(jt,t,zs||e),zs=0;var r=jt.__H||(jt.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function cK(t){return zs=1,fK(hK,t)}function fK(t,e,r){var n=Hs(Go++,2);return n.t=t,n.__c||(n.__=[r?r(e):hK(void 0,e),function(i){var a=n.t(n.__[0],i);n.__[0]!==a&&(n.__=[a,n.__[1]],n.__c.setState({}))}],n.__c=jt),n.__}function lXe(t,e){var r=Hs(Go++,3);!ve.__s&&nE(r.__H,e)&&(r.__=t,r.__H=e,jt.__H.__h.push(r))}function pK(t,e){var r=Hs(Go++,4);!ve.__s&&nE(r.__H,e)&&(r.__=t,r.__H=e,jt.__h.push(r))}function cXe(t){return zs=5,tE(function(){return{current:t}},[])}function fXe(t,e,r){zs=6,pK(function(){typeof t=="function"?t(e()):t&&(t.current=e())},r==null?r:r.concat(t))}function tE(t,e){var r=Hs(Go++,7);return nE(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function pXe(t,e){return zs=8,tE(function(){return t},e)}function dXe(t){var e=jt.context[t.__c],r=Hs(Go++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(jt)),e.props.value):t.__}function hXe(t,e){ve.useDebugValue&&ve.useDebugValue(e?e(t):t)}function vXe(t){var e=Hs(Go++,10),r=cK();return e.__=t,jt.componentDidCatch||(jt.componentDidCatch=function(n){e.__&&e.__(n),r[1](n)}),[r[0],function(){r[1](void 0)}]}function yXe(){var t;for(eE.sort(function(e,r){return e.__v.__b-r.__v.__b});t=eE.pop();)if(t.__P)try{t.__H.__h.forEach(Sg),t.__H.__h.forEach(rE),t.__H.__h=[]}catch(e){t.__H.__h=[],ve.__e(e,t.__v)}}function mXe(t){var e,r=function(){clearTimeout(n),dK&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);dK&&(e=requestAnimationFrame(r))}function Sg(t){var e=jt,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),jt=e}function rE(t){var e=jt;t.__c=t.__(),jt=e}function nE(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function hK(t,e){return typeof e=="function"?e(t):e}var Go,jt,iK,zs,eE,aK,oK,uK,sK,lK,dK,yK=JA(function(){ee();zs=0,eE=[],aK=ve.__b,oK=ve.__r,uK=ve.diffed,sK=ve.__c,lK=ve.unmount;ve.__b=function(t){jt=null,aK&&aK(t)},ve.__r=function(t){oK&&oK(t),Go=0;var e=(jt=t.__c).__H;e&&(e.__h.forEach(Sg),e.__h.forEach(rE),e.__h=[])},ve.diffed=function(t){uK&&uK(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(eE.push(e)!==1&&iK===ve.requestAnimationFrame||((iK=ve.requestAnimationFrame)||mXe)(yXe)),jt=null},ve.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Sg),r.__h=r.__h.filter(function(n){return!n.__||rE(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],ve.__e(n,r.__v)}}),sK&&sK(t,e)},ve.unmount=function(t){lK&&lK(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Sg(n)}catch(i){e=i}}),e&&ve.__e(e,r.__v))};dK=typeof requestAnimationFrame=="function"});var gK=h(function(Tvt,mK){"use strict";var $s=(ee(),re(ne));function gXe(t){var e=t.recording,r=t.onStartRecording,n=t.onStopRecording,i=t.i18n;return e?(0,$s.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:i("stopAudioRecording"),"aria-label":i("stopAudioRecording"),onClick:n,"data-uppy-super-focusable":!0},(0,$s.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},(0,$s.h)("rect",{x:"15",y:"15",width:"70",height:"70"}))):(0,$s.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:i("startAudioRecording"),"aria-label":i("startAudioRecording"),onClick:r,"data-uppy-super-focusable":!0},(0,$s.h)("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14px",height:"20px",viewBox:"0 0 14 20"},(0,$s.h)("path",{d:"M7 14c2.21 0 4-1.71 4-3.818V3.818C11 1.71 9.21 0 7 0S3 1.71 3 3.818v6.364C3 12.29 4.79 14 7 14zm6.364-7h-.637a.643.643 0 0 0-.636.65V9.6c0 3.039-2.565 5.477-5.6 5.175-2.645-.264-4.582-2.692-4.582-5.407V7.65c0-.36-.285-.65-.636-.65H.636A.643.643 0 0 0 0 7.65v1.631c0 3.642 2.544 6.888 6.045 7.382v1.387H3.818a.643.643 0 0 0-.636.65v.65c0 .36.285.65.636.65h6.364c.351 0 .636-.29.636-.65v-.65c0-.36-.285-.65-.636-.65H7.955v-1.372C11.363 16.2 14 13.212 14 9.6V7.65c0-.36-.285-.65-.636-.65z",fill:"#FFF","fill-rule":"nonzero"})))}mK.exports=gXe});var _K=h(function(Avt,bK){"use strict";function bXe(t){return"".concat(Math.floor(t/60),":").concat(String(t%60).padStart(2,0))}bK.exports=bXe});var SK=h(function(Ivt,wK){"use strict";var _Xe=(ee(),re(ne)),wXe=_K();function SXe(t){var e=t.recordingLengthSeconds,r=t.i18n,n=wXe(e);return(0,_Xe.h)("span",{"aria-label":r("recordingLength",{recording_length:n})},n)}wK.exports=SXe});var PK=h(function(kvt,OK){"use strict";var iE=(ee(),re(ne));OK.exports=function(t){var e=t.currentDeviceId,r=t.audioSources,n=t.onChangeSource;return(0,iE.h)("div",{className:"uppy-Audio-videoSource"},(0,iE.h)("select",{className:"uppy-u-reset uppy-Audio-audioSource-select",onChange:function(a){n(a.target.value)}},r.map(function(i){return(0,iE.h)("option",{key:i.deviceId,value:i.deviceId,selected:i.deviceId===e},i.label)})))}});var TK=h(function(xvt,EK){"use strict";function OXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function PXe(t,e,r){return e&&qK(t.prototype,e),r&&qK(t,r),t}function qXe(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var RXe=0;function EXe(t){return"__private_"+RXe+++"_"+t}function RK(t){return typeof t=="function"}function sp(t){return RK(t)?t():t}var aE=EXe("draw"),TXe=function(){function t(e,r){var n=this;OXe(this,t),r===void 0&&(r={}),Object.defineProperty(this,aE,{writable:!0,value:function(){return n.draw()}});var i=r.canvas||{},a=r.canvasContext||{};this.analyser=null,this.bufferLength=0,this.dataArray=[],this.canvas=e,this.width=sp(i.width)||this.canvas.width,this.height=sp(i.height)||this.canvas.height,this.canvas.width=this.width,this.canvas.height=this.height,this.canvasContext=this.canvas.getContext("2d"),this.canvasContext.fillStyle=sp(a.fillStyle)||"rgb(255, 255, 255)",this.canvasContext.strokeStyle=sp(a.strokeStyle)||"rgb(0, 0, 0)",this.canvasContext.lineWidth=sp(a.lineWidth)||1,this.onDrawFrame=RK(r.onDrawFrame)?r.onDrawFrame:function(){}}return PXe(t,[{key:"addSource",value:function(r){this.streamSource=r,this.audioContext=this.streamSource.context,this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2048,this.bufferLength=this.analyser.frequencyBinCount,this.source=this.audioContext.createBufferSource(),this.dataArray=new Uint8Array(this.bufferLength),this.analyser.getByteTimeDomainData(this.dataArray),this.streamSource.connect(this.analyser)}},{key:"draw",value:function(){var r=this.analyser,n=this.dataArray,i=this.bufferLength,a=this.canvasContext,o=this.width,u=this.height;r&&r.getByteTimeDomainData(n),a.fillRect(0,0,o,u),a.beginPath();var s=o*1/i,l=0;i||a.moveTo(0,this.height/2);for(var c=0;c<i;c++){var f=n[c]/128,p=f*(u/2);c===0?a.moveTo(l,p):a.lineTo(l,p),l+=s}a.lineTo(o,u/2),a.stroke(),this.onDrawFrame(this),requestAnimationFrame(qXe(this,aE)[aE])}}]),t}();EK.exports=TXe});var IK=h(function(Fvt,AK){"use strict";var oE=(ee(),re(ne));function AXe(t){var e=t.onSubmit,r=t.i18n;return(0,oE.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button uppy-Audio-button--submit",type:"button",title:r("submitRecordedFile"),"aria-label":r("submitRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},(0,oE.h)("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},(0,oE.h)("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}AK.exports=AXe});var xK=h(function(Cvt,kK){"use strict";var lp=(ee(),re(ne));function IXe(t){var e=t.onDiscard,r=t.i18n;return(0,lp.h)("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:r("discardRecordedFile"),"aria-label":r("discardRecordedFile"),onClick:e,"data-uppy-super-focusable":!0},(0,lp.h)("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"uppy-c-icon"},(0,lp.h)("g",{fill:"#FFF",fillRule:"evenodd"},(0,lp.h)("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),(0,lp.h)("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}kK.exports=IXe});var CK=h(function(Dvt,FK){"use strict";var Yr=(ee(),re(ne)),Og=(yK(),re(vK)),kXe=gK(),xXe=SK(),FXe=PK(),CXe=TK(),DXe=IK(),UXe=xK();function jXe(t){var e=t.stream,r=t.recordedAudio,n=t.onStop,i=t.recording,a=t.supportsRecording,o=t.audioSources,u=t.showAudioSourceDropdown,s=t.onSubmit,l=t.i18n,c=t.onStartRecording,f=t.onStopRecording,p=t.onDiscardRecordedAudio,d=t.recordingLengthSeconds,v=(0,Og.useRef)(null),g=(0,Og.useRef)(null);(0,Og.useEffect)(function(){return function(){g.current=null,n()}},[n]),(0,Og.useEffect)(function(){if(!r&&(g.current=new CXe(v.current,{canvas:{width:600,height:600},canvasContext:{lineWidth:2,fillStyle:"rgb(0,0,0)",strokeStyle:"green"}}),g.current.draw(),e)){var q=new AudioContext,A=q.createMediaStreamSource(e);g.current.addSource(A)}},[r,e]);var m=r!=null,_=!m&&a,S=u&&!m&&o&&o.length>1;return(0,Yr.h)("div",{className:"uppy-Audio-container"},(0,Yr.h)("div",{className:"uppy-Audio-audioContainer"},m?(0,Yr.h)("audio",{className:"uppy-Audio-player",controls:!0,src:r}):(0,Yr.h)("canvas",{ref:v,className:"uppy-Audio-canvas"})),(0,Yr.h)("div",{className:"uppy-Audio-footer"},(0,Yr.h)("div",{className:"uppy-Audio-audioSourceContainer"},S?FXe(t):null),(0,Yr.h)("div",{className:"uppy-Audio-buttonContainer"},_&&(0,Yr.h)(kXe,{recording:i,onStartRecording:c,onStopRecording:f,i18n:l}),m&&(0,Yr.h)(DXe,{onSubmit:s,i18n:l}),m&&(0,Yr.h)(UXe,{onDiscard:p,i18n:l})),(0,Yr.h)("div",{className:"uppy-Audio-recordingLength"},!m&&(0,Yr.h)(xXe,{recordingLengthSeconds:d,i18n:l}))))}FK.exports=jXe});var UK=h(function(Uvt,DK){"use strict";var Pg=(ee(),re(ne));DK.exports=function(t){var e=t.icon,r=t.hasAudio,n=t.i18n;return(0,Pg.h)("div",{className:"uppy-Audio-permissons"},(0,Pg.h)("div",{className:"uppy-Audio-permissonsIcon"},e()),(0,Pg.h)("h1",{className:"uppy-Audio-title"},n(r?"allowAudioAccessTitle":"noAudioTitle")),(0,Pg.h)("p",null,n(r?"allowAudioAccessDescription":"noAudioDescription")))}});var MK=h(function(jvt,jK){"use strict";jK.exports={strings:{pluginNameAudio:"Audio",startAudioRecording:"Begin audio recording",stopAudioRecording:"Stop audio recording",allowAudioAccessTitle:"Please allow access to your microphone",allowAudioAccessDescription:"In order to record audio, please allow microphone access for this site.",noAudioTitle:"Microphone Not Available",noAudioDescription:"In order to record audio, please connect a microphone or another audio input device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",recordingLength:"Recording length %{recording_length}",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file"}}});var $K=h(function(Mvt,HK){"use strict";function qg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qg=function(r){return typeof r}:qg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qg(t)}function NK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MXe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NK(Object(r),!0).forEach(function(n){NXe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NXe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BK(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function BXe(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){BK(a,n,i,o,u,"next",s)}function u(s){BK(a,n,i,o,u,"throw",s)}o(void 0)})}}function LXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function zXe(t,e,r){return e&&LK(t.prototype,e),r&&LK(t,r),t}function HXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uE(t,e)}function uE(t,e){return uE=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},uE(t,e)}function $Xe(t){var e=VXe();return function(){var n=Rg(t),i;if(e){var a=Rg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return WXe(this,i)}}function WXe(t,e){if(e&&(qg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fe(t)}function fe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VXe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Rg(t)}var Ws=(ee(),re(ne)),GXe=tt();function sE(){return sE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sE.apply(this,arguments)}function oe(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var KXe=0;function Mt(t){return"__private_"+KXe+++"_"+t}var YXe=cg(),XXe=nK(),JXe=CK(),QXe=UK(),ZXe=MK(),eJe={version:"0.3.0"},Nt=Mt("stream"),Mi=Mt("audioActive"),nt=Mt("recordingChunks"),it=Mt("recorder"),Ni=Mt("capturedMediaFile"),Bt=Mt("mediaDevices"),cp=Mt("supportsUserMedia"),lE=Mt("hasAudioCheck"),Ko=Mt("start"),cE=Mt("startRecording"),fp=Mt("stopRecording"),fE=Mt("discardRecordedAudio"),pE=Mt("submit"),Bi=Mt("stop"),dE=Mt("getAudio"),hE=Mt("changeSource"),Yo=Mt("updateSources"),zK=function(t){HXe(r,t);var e=$Xe(r);function r(n,i){var a;LXe(this,r);var o;return a=e.call(this,n,i),o=fe(a),Object.defineProperty(fe(a),dE,{value:rJe}),Object.defineProperty(fe(a),lE,{value:tJe}),Object.defineProperty(fe(a),Nt,{writable:!0,value:null}),Object.defineProperty(fe(a),Mi,{writable:!0,value:!1}),Object.defineProperty(fe(a),nt,{writable:!0,value:null}),Object.defineProperty(fe(a),it,{writable:!0,value:null}),Object.defineProperty(fe(a),Ni,{writable:!0,value:null}),Object.defineProperty(fe(a),Bt,{writable:!0,value:null}),Object.defineProperty(fe(a),cp,{writable:!0,value:null}),Object.defineProperty(fe(a),Ko,{writable:!0,value:function(s){if(s===void 0&&(s=null),!oe(o,cp)[cp])return Promise.reject(new Error("Microphone access not supported"));oe(o,Mi)[Mi]=!0,oe(o,lE)[lE]().then(function(l){return o.setPluginState({hasAudio:l}),oe(o,Bt)[Bt].getUserMedia({audio:!0}).then(function(c){oe(o,Nt)[Nt]=c;var f=null,p=c.getAudioTracks();!s||!s.deviceId?f=p[0].getSettings().deviceId:p.forEach(function(d){d.getSettings().deviceId===s.deviceId&&(f=d.getSettings().deviceId)}),oe(o,Yo)[Yo](),o.setPluginState({currentDeviceId:f,audioReady:!0})}).catch(function(c){o.setPluginState({audioReady:!1,cameraError:c}),o.uppy.info(c.message,"error")})})}}),Object.defineProperty(fe(a),cE,{writable:!0,value:function(){oe(fe(a),it)[it]=new MediaRecorder(oe(fe(a),Nt)[Nt]),oe(fe(a),nt)[nt]=[];var s=!1;oe(fe(a),it)[it].addEventListener("dataavailable",function(l){oe(fe(a),nt)[nt].push(l.data);var c=a.uppy.opts.restrictions;if(oe(fe(a),nt)[nt].length>1&&c.maxFileSize!=null&&!s){var f=oe(fe(a),nt)[nt].reduce(function(g,m){return g+m.size},0),p=(f-oe(fe(a),nt)[nt][0].size)/(oe(fe(a),nt)[nt].length-1),d=p*3,v=Math.max(0,c.maxFileSize-d);f>v&&(s=!0,a.uppy.info(a.i18n("recordingStoppedMaxSize"),"warning",4e3),oe(fe(a),fp)[fp]())}}),oe(fe(a),it)[it].start(500),a.recordingLengthTimer=setInterval(function(){var l=a.getPluginState().recordingLengthSeconds;a.setPluginState({recordingLengthSeconds:l+1})},1e3),a.setPluginState({isRecording:!0})}}),Object.defineProperty(fe(a),fp,{writable:!0,value:function(){var s=new Promise(function(l){oe(fe(a),it)[it].addEventListener("stop",function(){l()}),oe(fe(a),it)[it].stop(),clearInterval(a.recordingLengthTimer),a.setPluginState({recordingLengthSeconds:0})});return s.then(function(){return a.setPluginState({isRecording:!1}),oe(fe(a),dE)[dE]()}).then(function(l){try{oe(fe(a),Ni)[Ni]=l,a.setPluginState({recordedAudio:URL.createObjectURL(l.data)})}catch(c){c.isRestriction||a.uppy.log(c)}}).then(function(){oe(fe(a),nt)[nt]=null,oe(fe(a),it)[it]=null},function(l){throw oe(fe(a),nt)[nt]=null,oe(fe(a),it)[it]=null,l})}}),Object.defineProperty(fe(a),fE,{writable:!0,value:function(){a.setPluginState({recordedAudio:null}),oe(fe(a),Ni)[Ni]=null}}),Object.defineProperty(fe(a),pE,{writable:!0,value:function(){try{oe(fe(a),Ni)[Ni]&&a.uppy.addFile(oe(fe(a),Ni)[Ni])}catch(s){s.isRestriction||a.uppy.log(s,"error")}}}),Object.defineProperty(fe(a),Bi,{writable:!0,value:function(){var u=BXe(regeneratorRuntime.mark(function l(){var c;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(oe(fe(a),Nt)[Nt]&&(c=oe(fe(a),Nt)[Nt].getAudioTracks(),c.forEach(function(d){return d.stop()})),!oe(fe(a),it)[it]){p.next=4;break}return p.next=4,new Promise(function(d){oe(fe(a),it)[it].addEventListener("stop",d,{once:!0}),oe(fe(a),it)[it].stop(),clearInterval(a.recordingLengthTimer)});case 4:oe(fe(a),nt)[nt]=null,oe(fe(a),it)[it]=null,oe(fe(a),Mi)[Mi]=!1,oe(fe(a),Nt)[Nt]=null,a.setPluginState({recordedAudio:null,isRecording:!1,recordingLengthSeconds:0});case 9:case"end":return p.stop()}},l)}));function s(){return u.apply(this,arguments)}return s}()}),Object.defineProperty(fe(a),hE,{writable:!0,value:function(s){oe(fe(a),Bi)[Bi](),oe(fe(a),Ko)[Ko]({deviceId:s})}}),Object.defineProperty(fe(a),Yo,{writable:!0,value:function(){oe(fe(a),Bt)[Bt].enumerateDevices().then(function(s){a.setPluginState({audioSources:s.filter(function(l){return l.kind==="audioinput"})})})}}),oe(fe(a),Bt)[Bt]=navigator.mediaDevices,oe(fe(a),cp)[cp]=oe(fe(a),Bt)[Bt]!=null,a.id=a.opts.id||"Audio",a.type="acquirer",a.icon=function(){return(0,Ws.h)("svg",{"aria-hidden":"true",focusable:"false",width:"32px",height:"32px",viewBox:"0 0 32 32"},(0,Ws.h)("g",{fill:"none","fill-rule":"evenodd"},(0,Ws.h)("rect",{fill:"#9B59B6",width:"32",height:"32",rx:"16"}),(0,Ws.h)("path",{d:"M16 20c-2.21 0-4-1.71-4-3.818V9.818C12 7.71 13.79 6 16 6s4 1.71 4 3.818v6.364C20 18.29 18.21 20 16 20zm-6.364-7h.637c.351 0 .636.29.636.65v1.95c0 3.039 2.565 5.477 5.6 5.175 2.645-.264 4.582-2.692 4.582-5.407V13.65c0-.36.285-.65.636-.65h.637c.351 0 .636.29.636.65v1.631c0 3.642-2.544 6.888-6.045 7.382v1.387h2.227c.351 0 .636.29.636.65v.65c0 .36-.285.65-.636.65h-6.364a.643.643 0 0 1-.636-.65v-.65c0-.36.285-.65.636-.65h2.227v-1.372C11.637 22.2 9 19.212 9 15.6v-1.95c0-.36.285-.65.636-.65z",fill:"#FFF","fill-rule":"nonzero"})))},a.defaultLocale=ZXe,a.opts=MXe({},i),a.i18nInit(),a.title=a.i18n("pluginNameAudio"),a.setPluginState({hasAudio:!1,audioReady:!1,cameraError:null,recordingLengthSeconds:0,audioSources:[],currentDeviceId:null}),a}return zXe(r,[{key:"render",value:function(){oe(this,Mi)[Mi]||oe(this,Ko)[Ko]();var i=this.getPluginState();return!i.audioReady||!i.hasAudio?(0,Ws.h)(QXe,{icon:this.icon,i18n:this.i18n,hasAudio:i.hasAudio}):(0,Ws.h)(JXe,sE({},i,{audioActive:oe(this,Mi)[Mi],onChangeSource:oe(this,hE)[hE],onStartRecording:oe(this,cE)[cE],onStopRecording:oe(this,fp)[fp],onDiscardRecordedAudio:oe(this,fE)[fE],onSubmit:oe(this,pE)[pE],onStop:oe(this,Bi)[Bi],i18n:this.i18n,showAudioSourceDropdown:this.opts.showAudioSourceDropdown,supportsRecording:XXe(),recording:i.isRecording,stream:oe(this,Nt)[Nt]}))}},{key:"install",value:function(){var i=this;this.setPluginState({audioReady:!1,recordingLengthSeconds:0});var a=this.opts.target;a&&this.mount(a,this),oe(this,Bt)[Bt]&&(oe(this,Yo)[Yo](),oe(this,Bt)[Bt].ondevicechange=function(){if(oe(i,Yo)[Yo](),oe(i,Nt)[Nt]){var o=!0,u=i.getPluginState(),s=u.audioSources,l=u.currentDeviceId;s.forEach(function(c){l===c.deviceId&&(o=!1)}),o&&(oe(i,Bi)[Bi](),oe(i,Ko)[Ko]())}})}},{key:"uninstall",value:function(){oe(this,Nt)[Nt]&&oe(this,Bi)[Bi](),this.unmount()}}]),r}(GXe.UIPlugin);function tJe(){return oe(this,Bt)[Bt]?oe(this,Bt)[Bt].enumerateDevices().then(function(t){return t.some(function(e){return e.kind==="audioinput"})}):Promise.resolve(!1)}function rJe(){var t=oe(this,nt)[nt].find(function(a){var o;return((o=a.type)==null?void 0:o.length)>0}).type,e=YXe(t);if(!e)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'.concat(t,'"')));var r="audio-".concat(Date.now(),".").concat(e),n=new Blob(oe(this,nt)[nt],{type:t}),i={source:this.id,name:r,data:new Blob([n],{type:t}),type:t};return Promise.resolve(i)}zK.VERSION=eJe.version;HK.exports=zK});var VK=h(function(Nvt,WK){"use strict";WK.exports=$K()});var Zo=h(function(Bvt,KK){function nJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function iJe(t,e,r){return e&&GK(t.prototype,e),r&&GK(t,r),t}function he(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var aJe=0;function hr(t){return"__private_"+aJe+++"_"+t}function oJe(){return new Error("Cancelled")}var Er=hr("activeRequests"),nr=hr("queuedHandlers"),Tr=hr("paused"),Xo=hr("pauseTimer"),ir=hr("downLimit"),Jo=hr("upperLimit"),Li=hr("rateLimitingTimer"),pp=hr("call"),zi=hr("queueNext"),vE=hr("next"),yE=hr("queue"),mE=hr("dequeue"),gE=hr("resume"),Qo=hr("increaseLimit"),uJe=function(){function t(e){var r=this;nJe(this,t),Object.defineProperty(this,mE,{value:pJe}),Object.defineProperty(this,yE,{value:fJe}),Object.defineProperty(this,vE,{value:cJe}),Object.defineProperty(this,zi,{value:lJe}),Object.defineProperty(this,pp,{value:sJe}),Object.defineProperty(this,Er,{writable:!0,value:0}),Object.defineProperty(this,nr,{writable:!0,value:[]}),Object.defineProperty(this,Tr,{writable:!0,value:!1}),Object.defineProperty(this,Xo,{writable:!0,value:void 0}),Object.defineProperty(this,ir,{writable:!0,value:1}),Object.defineProperty(this,Jo,{writable:!0,value:void 0}),Object.defineProperty(this,Li,{writable:!0,value:void 0}),Object.defineProperty(this,gE,{writable:!0,value:function(){return r.resume()}}),Object.defineProperty(this,Qo,{writable:!0,value:function(){if(he(r,Tr)[Tr]){he(r,Li)[Li]=setTimeout(he(r,Qo)[Qo],0);return}he(r,ir)[ir]=r.limit,r.limit=Math.ceil((he(r,Jo)[Jo]+he(r,ir)[ir])/2);for(var i=he(r,ir)[ir];i<=r.limit;i++)he(r,zi)[zi]();he(r,Jo)[Jo]-he(r,ir)[ir]>3?he(r,Li)[Li]=setTimeout(he(r,Qo)[Qo],2e3):he(r,ir)[ir]=Math.floor(he(r,ir)[ir]/2)}}),typeof e!="number"||e===0?this.limit=1/0:this.limit=e}return iJe(t,[{key:"run",value:function(r,n){return!he(this,Tr)[Tr]&&he(this,Er)[Er]<this.limit?he(this,pp)[pp](r):he(this,yE)[yE](r,n)}},{key:"wrapPromiseFunction",value:function(r,n){var i=this;return function(){for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];var s,l=new Promise(function(c,f){s=i.run(function(){var p,d;try{d=Promise.resolve(r.apply(void 0,o))}catch(v){d=Promise.reject(v)}return d.then(function(v){p?f(p):(s.done(),c(v))},function(v){p?f(p):(s.done(),f(v))}),function(){p=oJe()}},n)});return l.abort=function(){s.abort()},l}}},{key:"resume",value:function(){he(this,Tr)[Tr]=!1,clearTimeout(he(this,Xo)[Xo]);for(var r=0;r<this.limit;r++)he(this,zi)[zi]()}},{key:"pause",value:function(r){r===void 0&&(r=null),he(this,Tr)[Tr]=!0,clearTimeout(he(this,Xo)[Xo]),r!=null&&(he(this,Xo)[Xo]=setTimeout(he(this,gE)[gE],r))}},{key:"rateLimit",value:function(r){clearTimeout(he(this,Li)[Li]),this.pause(r),this.limit>1&&Number.isFinite(this.limit)&&(he(this,Jo)[Jo]=this.limit-1,this.limit=he(this,ir)[ir],he(this,Li)[Li]=setTimeout(he(this,Qo)[Qo],r))}},{key:"isPaused",get:function(){return he(this,Tr)[Tr]}}]),t}();function sJe(t){var e=this;he(this,Er)[Er]+=1;var r=!1,n;try{n=t()}catch(i){throw he(this,Er)[Er]-=1,i}return{abort:function(){r||(r=!0,he(e,Er)[Er]-=1,n(),he(e,zi)[zi]())},done:function(){r||(r=!0,he(e,Er)[Er]-=1,he(e,zi)[zi]())}}}function lJe(){var t=this;queueMicrotask(function(){return he(t,vE)[vE]()})}function cJe(){if(!(he(this,Tr)[Tr]||he(this,Er)[Er]>=this.limit)&&he(this,nr)[nr].length!==0){var t=he(this,nr)[nr].shift(),e=he(this,pp)[pp](t.fn);t.abort=e.abort,t.done=e.done}}function fJe(t,e){var r=this;e===void 0&&(e={});var n={fn:t,priority:e.priority||0,abort:function(){he(r,mE)[mE](n)},done:function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")}},i=he(this,nr)[nr].findIndex(function(a){return n.priority>a.priority});return i===-1?he(this,nr)[nr].push(n):he(this,nr)[nr].splice(i,0,n),n}function pJe(t){var e=he(this,nr)[nr].indexOf(t);e!==-1&&he(this,nr)[nr].splice(e,1)}KK.exports={RateLimitedQueue:uJe,internalRateLimitedQueue:Symbol("__queue")}});var dp=h(function(Lvt,YK){var dJe=yf();function hJe(t,e,r){var n=e.progress,i=e.bytesUploaded,a=e.bytesTotal;n&&(t.uppy.log("Upload progress: ".concat(n)),t.uppy.emit("upload-progress",r,{uploader:t,bytesUploaded:i,bytesTotal:a}))}YK.exports=dJe(hJe,300,{leading:!0,trailing:!0})});var hp=h(function(zvt,XK){XK.exports=function(e){var r=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i,n=r.exec(e)[1],i=/^http:\/\//i.test(e)?"ws":"wss";return"".concat(i,"://").concat(n)}});var yp=h(function(Hvt,tY){function vJe(t,e){return gJe(t)||mJe(t,e)||JK(t,e)||yJe()}function yJe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function mJe(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function gJe(t){if(Array.isArray(t))return t}function bJe(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=JK(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function JK(t,e){if(!!t){if(typeof t=="string")return QK(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QK(t,e)}}function QK(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _Je(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function wJe(t,e,r){return e&&ZK(t.prototype,e),r&&ZK(t,r),t}var Ba,Vs;function vp(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var SJe=0;function eY(t){return"__private_"+SJe+++"_"+t}tY.exports=(Ba=eY("emitter"),Vs=eY("events"),function(){function t(e){_Je(this,t),Object.defineProperty(this,Ba,{writable:!0,value:void 0}),Object.defineProperty(this,Vs,{writable:!0,value:[]}),vp(this,Ba)[Ba]=e}return wJe(t,[{key:"on",value:function(r,n){return vp(this,Vs)[Vs].push([r,n]),vp(this,Ba)[Ba].on(r,n)}},{key:"remove",value:function(){var r=bJe(vp(this,Vs)[Vs].splice(0)),n;try{for(r.s();!(n=r.n()).done;){var i=vJe(n.value,2),a=i[0],o=i[1];vp(this,Ba)[Ba].off(a,o)}}catch(u){r.e(u)}finally{r.f()}}}]),t}())});var bE=h(function($vt,nY){function OJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function PJe(t,e,r){return e&&rY(t.prototype,e),r&&rY(t,r),t}function Xr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var qJe=0;function Eg(t){return"__private_"+qJe+++"_"+t}var Hi=Eg("aliveTimer"),eu=Eg("isDone"),mp=Eg("onTimedOut"),tu=Eg("timeout"),RJe=function(){function t(e,r){OJe(this,t),Object.defineProperty(this,Hi,{writable:!0,value:void 0}),Object.defineProperty(this,eu,{writable:!0,value:!1}),Object.defineProperty(this,mp,{writable:!0,value:void 0}),Object.defineProperty(this,tu,{writable:!0,value:void 0}),Xr(this,tu)[tu]=e,Xr(this,mp)[mp]=r}return PJe(t,[{key:"progress",value:function(){Xr(this,eu)[eu]||Xr(this,tu)[tu]>0&&(clearTimeout(Xr(this,Hi)[Hi]),Xr(this,Hi)[Hi]=setTimeout(Xr(this,mp)[mp],Xr(this,tu)[tu]))}},{key:"done",value:function(){Xr(this,eu)[eu]||(clearTimeout(Xr(this,Hi)[Hi]),Xr(this,Hi)[Hi]=null,Xr(this,eu)[eu]=!0)}}]),t}();nY.exports=RJe});var Tg=h(function(Wvt,iY){function EJe(t){return t?t.readyState!==0&&t.readyState!==4||t.status===0:!1}iY.exports=EJe});var fY=h(function(Vvt,cY){function aY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aY(Object(r),!0).forEach(function(n){TJe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TJe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function IJe(t,e,r){return e&&oY(t.prototype,e),r&&oY(t,r),t}var Gs,La,za,Ag,Ig;function ei(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var kJe=0;function gp(t){return"__private_"+kJe+++"_"+t}var xJe=Co(),FJe=xJe.nanoid,_E=tr(),CJe=_E.Provider,DJe=_E.RequestClient,UJe=_E.Socket,jJe=dp(),MJe=hp(),uY=yp(),NJe=bE(),sY=Uf(),BJe=_s(),LJe=Tg(),zJe=Zo(),HJe=zJe.internalRateLimitedQueue;function lY(t,e){if(LJe(t))return new BJe(e,t);var r=new sY("Upload error",{cause:e});return r.request=t,r}function $Je(t){var e=t.data.slice(0,t.data.size,t.meta.type);return e}function WJe(t,e,r){var n=Array.isArray(r.metaFields)?r.metaFields:Object.keys(e);n.forEach(function(i){t.append(i,e[i])})}function VJe(t,e){var r=new FormData;WJe(r,t.meta,e);var n=$Je(t);return t.name?r.append(e.fieldName,n,t.meta.name):r.append(e.fieldName,n),r}var GJe=function(e){return e.data};cY.exports=(Gs=gp("getOptions"),La=gp("addEventHandlerForFile"),za=gp("addEventHandlerIfFileStillExists"),Ag=gp("uploadLocalFile"),Ig=gp("uploadRemoteFile"),function(){function t(e,r){AJe(this,t),Object.defineProperty(this,Ig,{value:QJe}),Object.defineProperty(this,Ag,{value:JJe}),Object.defineProperty(this,za,{value:XJe}),Object.defineProperty(this,La,{value:YJe}),Object.defineProperty(this,Gs,{value:KJe}),this.uppy=e,this.opts=Zn({validateStatus:function(i){return i>=200&&i<300}},r),this.requests=r[HJe],this.uploaderEvents=Object.create(null),this.i18n=r.i18n}return IJe(t,[{key:"uploadFile",value:function(r,n,i){var a=this.uppy.getFile(r);if(a.error)throw new Error(a.error);return a.isRemote?ei(this,Ig)[Ig](a,n,i):ei(this,Ag)[Ag](a,n,i)}}]),t}());function KJe(t){var e,r=this.uppy,n=r.getState().xhrUpload,i=Zn(Zn(Zn(Zn({},this.opts),n||{}),t.xhrUpload||{}),{},{headers:Zn(Zn(Zn({},this.opts.headers),n==null?void 0:n.headers),(e=t.xhrUpload)==null?void 0:e.headers)});return i}function YJe(t,e,r){this.uploaderEvents[e].on(t,function(n){e===n&&r()})}function XJe(t,e,r){var n=this;this.uploaderEvents[e].on(t,function(){n.uppy.getFile(e)&&r()})}function JJe(t,e,r){var n=this,i=ei(this,Gs)[Gs](t);return this.uppy.log("uploading ".concat(e," of ").concat(r)),new Promise(function(a,o){var u=i.formData?VJe(t,i):GJe(t,i),s=new XMLHttpRequest;n.uploaderEvents[t.id]=new uY(n.uppy);var l=new NJe(i.timeout,function(){s.abort(),f.done();var p=new Error(n.i18n("timedOut",{seconds:Math.ceil(i.timeout/1e3)}));n.uppy.emit("upload-error",t,p),o(p)}),c=FJe();s.upload.addEventListener("loadstart",function(){n.uppy.log("[AwsS3/XHRUpload] ".concat(c," started"))}),s.upload.addEventListener("progress",function(p){n.uppy.log("[AwsS3/XHRUpload] ".concat(c," progress: ").concat(p.loaded," / ").concat(p.total)),l.progress(),p.lengthComputable&&n.uppy.emit("upload-progress",t,{uploader:n,bytesUploaded:p.loaded,bytesTotal:p.total})}),s.addEventListener("load",function(p){if(n.uppy.log("[AwsS3/XHRUpload] ".concat(c," finished")),l.done(),f.done(),n.uploaderEvents[t.id]&&(n.uploaderEvents[t.id].remove(),n.uploaderEvents[t.id]=null),i.validateStatus(p.target.status,s.responseText,s)){var d=i.getResponseData(s.responseText,s),v=d[i.responseUrlFieldName],g={status:p.target.status,body:d,uploadURL:v};return n.uppy.emit("upload-success",t,g),v&&n.uppy.log("Download ".concat(t.name," from ").concat(v)),a(t)}var m=i.getResponseData(s.responseText,s),_=lY(s,i.getResponseError(s.responseText,s)),S={status:p.target.status,body:m};return n.uppy.emit("upload-error",t,_,S),o(_)}),s.addEventListener("error",function(){n.uppy.log("[AwsS3/XHRUpload] ".concat(c," errored")),l.done(),f.done(),n.uploaderEvents[t.id]&&(n.uploaderEvents[t.id].remove(),n.uploaderEvents[t.id]=null);var p=lY(s,i.getResponseError(s.responseText,s));return n.uppy.emit("upload-error",t,p),o(p)}),s.open(i.method.toUpperCase(),i.endpoint,!0),s.withCredentials=Boolean(i.withCredentials),i.responseType!==""&&(s.responseType=i.responseType),Object.keys(i.headers).forEach(function(p){s.setRequestHeader(p,i.headers[p])});var f=n.requests.run(function(){return s.send(u),function(){l.done(),s.abort()}},{priority:1});ei(n,La)[La]("file-removed",t.id,function(){f.abort(),o(new Error("File removed"))}),ei(n,za)[za]("cancel-all",t.id,function(){f.abort(),o(new Error("Upload cancelled"))})})}function QJe(t){var e=this,r=ei(this,Gs)[Gs](t),n=Array.isArray(r.metaFields)?r.metaFields:Object.keys(t.meta),i=t.remote.providerOptions.provider?CJe:DJe,a=new i(this.uppy,t.remote.providerOptions);return a.post(t.remote.url,Zn(Zn({},t.remote.body),{},{endpoint:r.endpoint,size:t.data.size,fieldname:r.fieldName,metadata:Object.fromEntries(n.map(function(o){return[o,t.meta[o]]})),httpMethod:r.method,useFormData:r.formData,headers:r.headers})).then(function(o){return new Promise(function(u,s){var l=o.token,c=MJe(t.remote.companionUrl),f=new UJe({target:"".concat(c,"/api/").concat(l),autoOpen:!1});e.uploaderEvents[t.id]=new uY(e.uppy);var p=e.requests.run(function(){return f.open(),t.isPaused&&f.send("pause",{}),function(){return f.close()}});ei(e,La)[La]("file-removed",t.id,function(){f.send("cancel",{}),p.abort(),u("upload ".concat(t.id," was removed"))}),ei(e,za)[za]("cancel-all",t.id,function(){f.send("cancel",{}),p.abort(),u("upload ".concat(t.id," was canceled"))}),ei(e,La)[La]("upload-retry",t.id,function(){f.send("pause",{}),f.send("resume",{})}),ei(e,za)[za]("retry-all",t.id,function(){f.send("pause",{}),f.send("resume",{})}),f.on("progress",function(d){return jJe(e,d,t)}),f.on("success",function(d){var v=r.getResponseData(d.response.responseText,d.response),g=v[r.responseUrlFieldName],m={status:d.response.status,body:v,uploadURL:g,bytesUploaded:d.bytesUploaded};return e.uppy.emit("upload-success",t,m),p.done(),e.uploaderEvents[t.id]&&(e.uploaderEvents[t.id].remove(),e.uploaderEvents[t.id]=null),u()}),f.on("error",function(d){var v=d.response,g=v?r.getResponseError(v.responseText,v):new sY(d.error.message,{cause:d.error});e.uppy.emit("upload-error",t,g),p.done(),e.uploaderEvents[t.id]&&(e.uploaderEvents[t.id].remove(),e.uploaderEvents[t.id]=null),s(g)})}).catch(function(u){return e.uppy.emit("upload-error",t,u),Promise.reject(u)})})}});var dY=h(function(Gvt,pY){function ZJe(t){return t.replace(/;.*$/,"")}function eQe(t,e){var r=e.headers?e.headers["content-type"]:e.getResponseHeader("Content-Type");if(typeof r=="string"){var n=ZJe(r).toLowerCase();if(n==="application/xml"||n==="text/xml"||n==="text/html"&&/^<\?xml /.test(t))return!0}return!1}pY.exports=eQe});var vY=h(function(Kvt,hY){hY.exports={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}}});var PY=h(function(Yvt,OY){function yY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yY(Object(r),!0).forEach(function(n){_p(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rQe(t,e,r){return e&&mY(t.prototype,e),r&&mY(t,r),t}function nQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wE(t,e)}function wE(t,e){return wE=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},wE(t,e)}function iQe(t){var e=oQe();return function(){var n=kg(t),i;if(e){var a=kg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return aQe(this,i)}}function aQe(t,e){if(e&&(wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ti(t)}function ti(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oQe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},kg(t)}function wp(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wp=function(r){return typeof r}:wp=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wp(t)}var gY,Ks,Ha,Ys,Xs,bY;function $i(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var uQe=0;function xg(t){return"__private_"+uQe+++"_"+t}var sQe=bn(),_Y=Zo(),lQe=_Y.RateLimitedQueue,cQe=_Y.internalRateLimitedQueue,fQe=tr(),pQe=fQe.RequestClient,dQe=fY(),wY=dY(),hQe=vY();function vQe(t,e){return new URL(e,t||void 0).toString()}function Sp(t,e){var r=t.indexOf("<".concat(e,">")),n=t.indexOf("</".concat(e,">"),r);return r!==-1&&n!==-1?t.slice(r+e.length+2,n):""}function yQe(t){if(t&&t.error){var e=new Error(t.message);throw Object.assign(e,t.error),e}return t}function mQe(t,e){var r=e!=null&&typeof e.url=="string"&&(wp(e.fields)==="object"||e.fields==null);if(!r){var n=new TypeError("AwsS3: got incorrect result from 'getUploadParameters()' for file '".concat(t.name,"', expected an object '{ url, method, fields, headers }' but got '").concat(JSON.stringify(e),"' instead.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format."));throw n}var i=e.method==null||/^p(u|os)t$/i.test(e.method);if(!i){var a=new TypeError("AwsS3: got incorrect method from 'getUploadParameters()' for file '".concat(t.name,"', expected  'put' or 'post' but got '").concat(e.method,"' instead.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format."));throw a}}function gQe(t,e){if(!!wY(t,e)){var r=Sp(t,"Message");return new Error(r)}}var SY=!1;OY.exports=(bY=(Ks=xg("client"),Ha=xg("requests"),Ys=xg("uploader"),Xs=xg("handleUpload"),gY=function(t){nQe(r,t);var e=iQe(r);function r(n,i){var a;tQe(this,r),a=e.call(this,n,i),Object.defineProperty(ti(a),Ks,{writable:!0,value:void 0}),Object.defineProperty(ti(a),Ha,{writable:!0,value:void 0}),Object.defineProperty(ti(a),Ys,{writable:!0,value:void 0}),Object.defineProperty(ti(a),Xs,{writable:!0,value:function(s){var l=Object.create(null);function c(d){var v,g=d.id;(v=l[g])==null||v.abort()}a.uppy.on("file-removed",c),s.forEach(function(d){var v=a.uppy.getFile(d);a.uppy.emit("upload-started",v)});var f=$i(ti(a),Ha)[Ha].wrapPromiseFunction(function(d){return a.opts.getUploadParameters(d)}),p=s.length;return Promise.allSettled(s.map(function(d,v){return l[d]=f(a.uppy.getFile(d)),l[d].then(function(g){delete l[d];var m=a.uppy.getFile(d);mQe(m,g);var _=g.method,S=_===void 0?"post":_,q=g.url,A=g.fields,D=g.headers,F={method:S,formData:S.toLowerCase()==="post",endpoint:q,metaFields:A?Object.keys(A):[]};return D&&(F.headers=D),a.uppy.setFileState(m.id,{meta:bp(bp({},m.meta),A),xhrUpload:F}),$i(ti(a),Ys)[Ys].uploadFile(m.id,v,p)}).catch(function(g){delete l[d];var m=a.uppy.getFile(d);return a.uppy.emit("upload-error",m,g),Promise.reject(g)})})).finally(function(){a.uppy.off("file-removed",c)})}}),a.type="uploader",a.id=a.opts.id||"AwsS3",a.title="AWS S3",a.defaultLocale=hQe;var o={timeout:30*1e3,limit:0,metaFields:[],getUploadParameters:a.getUploadParameters.bind(ti(a))};return a.opts=bp(bp({},o),i),a.i18nInit(),$i(ti(a),Ks)[Ks]=new pQe(n,i),$i(ti(a),Ha)[Ha]=new lQe(a.opts.limit),a}return rQe(r,[{key:"getUploadParameters",value:function(i){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address.");var a=i.meta.name,o=i.meta.type,u=Object.fromEntries(this.opts.metaFields.filter(function(l){return i.meta[l]!=null}).map(function(l){return["metadata[".concat(l,"]"),i.meta[l].toString()]})),s=new URLSearchParams(bp({filename:a,type:o},u));return $i(this,Ks)[Ks].get("s3/params?".concat(s)).then(yQe)}},{key:"install",value:function(){var i,a=this.uppy;a.addUploader($i(this,Xs)[Xs]);function o(s,l){var c=this;return wY(s,l)?{location:vQe(l.responseURL,Sp(s,"Location")),bucket:Sp(s,"Bucket"),key:Sp(s,"Key"),etag:Sp(s,"ETag")}:c.method.toUpperCase()==="POST"?(SY||(a.log("[AwsS3] No response data found, make sure to set the success_action_status AWS SDK option to 201. See https://uppy.io/docs/aws-s3/#POST-Uploads","warning"),SY=!0),{location:null}):l.responseURL?{location:l.responseURL.replace(/\?.*$/,"")}:{location:null}}var u=(i={fieldName:"file",responseUrlFieldName:"location",timeout:this.opts.timeout},_p(i,cQe,$i(this,Ha)[Ha]),_p(i,"responseType","text"),_p(i,"getResponseData",this.opts.getResponseData||o),_p(i,"getResponseError",gQe),i);u.i18n=this.i18n,$i(this,Ys)[Ys]=new dQe(a,u)}},{key:"uninstall",value:function(){this.uppy.removeUploader($i(this,Xs)[Xs])}}]),r}(sQe)),gY.VERSION="2.0.9",bY)});var SE=h(function(Fg){Fg.AbortController=globalThis.AbortController;Fg.AbortSignal=globalThis.AbortSignal;Fg.createAbortError=function(t){return t===void 0&&(t="Aborted"),new DOMException(t,"AbortError")}});var EY=h(function(Jvt,RY){var bQe=SE(),qY=bQe.createAbortError;RY.exports=function(e,r){return new Promise(function(n,i){var a,o;if(r!=null&&(a=r.signal)!=null&&a.aborted)return i(qY());var u=setTimeout(function(){l(),n()},e);function s(){clearTimeout(u),l(),i(qY())}r==null||(o=r.signal)==null||o.addEventListener("abort",s);function l(){var c;r==null||(c=r.signal)==null||c.removeEventListener("abort",s)}})}});var jY=h(function(Qvt,UY){function TY(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function OE(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){TY(a,n,i,o,u,"next",s)}function u(s){TY(a,n,i,o,u,"throw",s)}o(void 0)})}}function Op(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Op=function(r){return typeof r}:Op=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Op(t)}function AY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AY(Object(r),!0).forEach(function(n){IY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IY(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Qe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function wQe(t,e,r){return e&&kY(t.prototype,e),r&&kY(t,r),t}function Xe(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var SQe=0;function ar(t){return"__private_"+SQe+++"_"+t}var xY=SE(),FY=xY.AbortController,Pp=xY.createAbortError,OQe=EY(),PQe=1024*1024,CY={limit:1,retryDelays:[0,1e3,3e3,5e3],getChunkSize:function(e){return Math.ceil(e.size/1e4)},onStart:function(){},onProgress:function(){},onPartComplete:function(){},onSuccess:function(){},onError:function(e){throw e}};function DY(t){if(typeof t=="string")return parseInt(t,10);if(typeof t=="number")return t;throw new TypeError("Expected a number")}var Wi=ar("aborted"),PE=ar("initChunks"),qE=ar("createUpload"),RE=ar("resumeUpload"),ru=ar("uploadParts"),qp=ar("retryable"),EE=ar("prepareUploadParts"),TE=ar("uploadPartRetryable"),AE=ar("uploadPart"),Rp=ar("onPartProgress"),IE=ar("onPartComplete"),kE=ar("uploadPartBytes"),xE=ar("completeUpload"),FE=ar("abortUpload"),Vi=ar("onError"),qQe=function(){function t(e,r){_Qe(this,t),Object.defineProperty(this,Vi,{value:BQe}),Object.defineProperty(this,FE,{value:NQe}),Object.defineProperty(this,xE,{value:MQe}),Object.defineProperty(this,kE,{value:jQe}),Object.defineProperty(this,IE,{value:UQe}),Object.defineProperty(this,Rp,{value:DQe}),Object.defineProperty(this,AE,{value:CQe}),Object.defineProperty(this,TE,{value:FQe}),Object.defineProperty(this,EE,{value:xQe}),Object.defineProperty(this,qp,{value:kQe}),Object.defineProperty(this,ru,{value:IQe}),Object.defineProperty(this,RE,{value:AQe}),Object.defineProperty(this,qE,{value:TQe}),Object.defineProperty(this,PE,{value:EQe}),Object.defineProperty(this,Wi,{value:RQe}),this.options=Cg(Cg({},CY),r),this.options.getChunkSize||(this.options.getChunkSize=CY.getChunkSize),this.file=e,this.abortController=new FY,this.key=this.options.key||null,this.uploadId=this.options.uploadId||null,this.parts=[],this.createdPromise=Promise.reject(),this.isPaused=!1,this.partsInProgress=0,this.chunks=null,this.chunkState=null,Xe(this,PE)[PE](),this.createdPromise.catch(function(){})}return wQe(t,[{key:"start",value:function(){this.isPaused=!1,this.uploadId?Xe(this,RE)[RE]():Xe(this,qE)[qE]()}},{key:"pause",value:function(){this.abortController.abort(),this.abortController=new FY,this.isPaused=!0}},{key:"abort",value:function(r){var n;r===void 0&&(r=void 0),(n=r)!=null&&n.really?Xe(this,FE)[FE]():this.pause()}}]),t}();function RQe(){return this.abortController.signal.aborted}function EQe(){var t=[],e=this.options.getChunkSize(this.file),r=Math.max(5*PQe,Math.ceil(this.file.size/1e4)),n=Math.max(e,r);if(this.file.size===0)t.push(this.file);else for(var i=0;i<this.file.size;i+=n){var a=Math.min(this.file.size,i+n);t.push(this.file.slice(i,a))}this.chunks=t,this.chunkState=t.map(function(){return{uploaded:0,busy:!1,done:!1}})}function TQe(){var t=this;return this.createdPromise=Promise.resolve().then(function(){return t.options.createMultipartUpload()}),this.createdPromise.then(function(e){if(Xe(t,Wi)[Wi]())throw Pp();var r=Op(e)==="object"&&e&&typeof e.uploadId=="string"&&typeof e.key=="string";if(!r)throw new TypeError("AwsS3/Multipart: Got incorrect result from `createMultipartUpload()`, expected an object `{ uploadId, key }`.");t.key=e.key,t.uploadId=e.uploadId,t.options.onStart(e),Xe(t,ru)[ru]()}).catch(function(e){Xe(t,Vi)[Vi](e)})}function AQe(){return CE.apply(this,arguments)}function CE(){return CE=OE(regeneratorRuntime.mark(function t(){var e=this,r;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,this.options.listParts({uploadId:this.uploadId,key:this.key});case 3:if(r=i.sent,!Xe(this,Wi)[Wi]()){i.next=6;break}throw Pp();case 6:r.forEach(function(a){var o=a.PartNumber-1;e.chunkState[o]={uploaded:DY(a.Size),etag:a.ETag,done:!0},e.parts.some(function(u){return u.PartNumber===a.PartNumber})||e.parts.push({PartNumber:a.PartNumber,ETag:a.ETag})}),Xe(this,ru)[ru](),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(0),Xe(this,Vi)[Vi](i.t0);case 13:case"end":return i.stop()}},t,this,[[0,10]])})),CE.apply(this,arguments)}function IQe(){var t=this;if(!this.isPaused){if(this.chunkState.every(function(s){return s.done})){Xe(this,xE)[xE]();return}var e=this.options.limit-this.partsInProgress,r=this.chunkState.filter(function(s){return s.done}).length,n=this.chunks.length-r,i=Math.ceil(this.options.limit/2);if(i>n&&(i=n),!(e<i)){for(var a=[],o=0;o<this.chunkState.length;o++){var u=this.chunkState[o];if(!(u.done||u.busy)&&(a.push(o),a.length>=e))break}a.length!==0&&Xe(this,EE)[EE](a).then(function(s){a.forEach(function(l){var c=l+1,f={url:s.presignedUrls[c],headers:s.headers};Xe(t,TE)[TE](l,f).then(function(){Xe(t,ru)[ru]()},function(p){Xe(t,Vi)[Vi](p)})})})}}}function kQe(t){var e=this,r=t.before,n=t.attempt,i=t.after,a=this.options.retryDelays,o=this.abortController.signal;r&&r();function u(l){if(l.source&&typeof l.source.status=="number"){var c=l.source.status;return c===0||c===409||c===423||c>=500&&c<600}return!1}var s=function l(c){return n().catch(function(f){if(Xe(e,Wi)[Wi]())throw Pp();if(u(f)&&c<a.length)return OQe(a[c],{signal:o}).then(function(){return l(c+1)});throw f})};return s(0).then(function(l){return i&&i(),l},function(l){throw i&&i(),l})}function xQe(t){return DE.apply(this,arguments)}function DE(){return DE=OE(regeneratorRuntime.mark(function t(e){var r=this,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.forEach(function(o){r.chunkState[o].busy=!0}),a.next=3,Xe(this,qp)[qp]({attempt:function(){return r.options.prepareUploadParts({key:r.key,uploadId:r.uploadId,partNumbers:e.map(function(u){return u+1}),chunks:e.reduce(function(u,s){return Cg(Cg({},u),{},IY({},s+1,r.chunks[s]))},{})})}});case 3:if(n=a.sent,Op(n==null?void 0:n.presignedUrls)==="object"){a.next=6;break}throw new TypeError("AwsS3/Multipart: Got incorrect result from `prepareUploadParts()`, expected an object `{ presignedUrls }`.");case 6:return a.abrupt("return",n);case 7:case"end":return a.stop()}},t,this)})),DE.apply(this,arguments)}function FQe(t,e){var r=this;return Xe(this,qp)[qp]({before:function(){r.partsInProgress+=1},attempt:function(){return Xe(r,AE)[AE](t,e)},after:function(){r.partsInProgress-=1}})}function CQe(t,e){this.chunkState[t].busy=!0;var r=typeof(e==null?void 0:e.url)=="string";if(!r)throw new TypeError("AwsS3/Multipart: Got incorrect result for `prePreparedPart`, expected an object `{ url }`.");var n=e.url,i=e.headers;if(Xe(this,Wi)[Wi]())throw this.chunkState[t].busy=!1,Pp();return Xe(this,kE)[kE](t,n,i)}function DQe(t,e){this.chunkState[t].uploaded=DY(e);var r=this.chunkState.reduce(function(n,i){return n+i.uploaded},0);this.options.onProgress(r,this.file.size)}function UQe(t,e){this.chunkState[t].etag=e,this.chunkState[t].done=!0;var r={PartNumber:t+1,ETag:e};this.parts.push(r),this.options.onPartComplete(r)}function jQe(t,e,r){var n=this,i=this.chunks[t],a=this.abortController.signal,o,u=new Promise(function(f,p){o={resolve:f,reject:p}}),s=new XMLHttpRequest;s.open("PUT",e,!0),r&&Object.keys(r).forEach(function(f){s.setRequestHeader(f,r[f])}),s.responseType="text";function l(){a.removeEventListener("abort",c)}function c(){s.abort()}return a.addEventListener("abort",c),s.upload.addEventListener("progress",function(f){!f.lengthComputable||Xe(n,Rp)[Rp](t,f.loaded,f.total)}),s.addEventListener("abort",function(){l(),n.chunkState[t].busy=!1,o.reject(Pp())}),s.addEventListener("load",function(f){if(l(),n.chunkState[t].busy=!1,f.target.status<200||f.target.status>=300){var p=new Error("Non 2xx");p.source=f.target,o.reject(p);return}n.chunks[t]=null,Xe(n,Rp)[Rp](t,i.size,i.size);var d=f.target.getResponseHeader("ETag");if(d===null){o.reject(new Error("AwsS3/Multipart: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3-multipart#S3-Bucket-Configuration for instructions."));return}Xe(n,IE)[IE](t,d),o.resolve()}),s.addEventListener("error",function(f){l(),n.chunkState[t].busy=!1;var p=new Error("Unknown error");p.source=f.target,o.reject(p)}),s.send(i),u}function MQe(){return UE.apply(this,arguments)}function UE(){return UE=OE(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.parts.sort(function(i,a){return i.PartNumber-a.PartNumber}),n.prev=1,n.next=4,this.options.completeMultipartUpload({key:this.key,uploadId:this.uploadId,parts:this.parts});case 4:e=n.sent,this.options.onSuccess(e),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),Xe(this,Vi)[Vi](n.t0);case 11:case"end":return n.stop()}},t,this,[[1,8]])})),UE.apply(this,arguments)}function NQe(){var t=this;this.abortController.abort(),this.createdPromise.then(function(){t.options.abortMultipartUpload({key:t.key,uploadId:t.uploadId})},function(){})}function BQe(t){t&&t.name==="AbortError"||this.options.onError(t)}UY.exports=qQe});var WY=h(function(Zvt,$Y){function Dg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dg=function(r){return typeof r}:Dg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Dg(t)}function MY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MY(Object(r),!0).forEach(function(n){LQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LQe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function HQe(t,e,r){return e&&NY(t.prototype,e),r&&NY(t,r),t}function $Qe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jE(t,e)}function jE(t,e){return jE=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},jE(t,e)}function WQe(t){var e=GQe();return function(){var n=Ug(t),i;if(e){var a=Ug(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return VQe(this,i)}}function VQe(t,e){if(e&&(Dg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nu(t)}function nu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GQe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ug(t)}var BY,LY,KQe=bn(),ME=tr(),YQe=ME.Socket,XQe=ME.Provider,zY=ME.RequestClient,HY=yp(),JQe=dp(),QQe=hp(),ZQe=Zo(),eZe=ZQe.RateLimitedQueue,tZe=jY();function Ep(t){if(t&&t.error){var e=new Error(t.message);throw Object.assign(e,t.error),e}return t}$Y.exports=(LY=BY=function(t){$Qe(r,t);var e=WQe(r);function r(n,i){var a;zQe(this,r),a=e.call(this,n,i),a.type="uploader",a.id=a.opts.id||"AwsS3Multipart",a.title="AWS S3 Multipart",a.client=new zY(n,i);var o={timeout:30*1e3,limit:0,retryDelays:[0,1e3,3e3,5e3],createMultipartUpload:a.createMultipartUpload.bind(nu(a)),listParts:a.listParts.bind(nu(a)),prepareUploadParts:a.prepareUploadParts.bind(nu(a)),abortMultipartUpload:a.abortMultipartUpload.bind(nu(a)),completeMultipartUpload:a.completeMultipartUpload.bind(nu(a))};return a.opts=Jr(Jr({},o),i),a.upload=a.upload.bind(nu(a)),a.requests=new eZe(a.opts.limit),a.uploaders=Object.create(null),a.uploaderEvents=Object.create(null),a.uploaderSockets=Object.create(null),a}return HQe(r,[{key:"resetUploaderReferences",value:function(i,a){a===void 0&&(a={}),this.uploaders[i]&&(this.uploaders[i].abort({really:a.abort||!1}),this.uploaders[i]=null),this.uploaderEvents[i]&&(this.uploaderEvents[i].remove(),this.uploaderEvents[i]=null),this.uploaderSockets[i]&&(this.uploaderSockets[i].close(),this.uploaderSockets[i]=null)}},{key:"assertHost",value:function(i){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address, or if you are not using Companion, a custom `".concat(i,"` implementation."))}},{key:"createMultipartUpload",value:function(i){this.assertHost("createMultipartUpload");var a={};return Object.keys(i.meta).forEach(function(o){i.meta[o]!=null&&(a[o]=i.meta[o].toString())}),this.client.post("s3/multipart",{filename:i.name,type:i.type,metadata:a}).then(Ep)}},{key:"listParts",value:function(i,a){var o=a.key,u=a.uploadId;this.assertHost("listParts");var s=encodeURIComponent(o);return this.client.get("s3/multipart/".concat(u,"?key=").concat(s)).then(Ep)}},{key:"prepareUploadParts",value:function(i,a){var o=a.key,u=a.uploadId,s=a.partNumbers;this.assertHost("prepareUploadParts");var l=encodeURIComponent(o);return this.client.get("s3/multipart/".concat(u,"/batch?key=").concat(l,"&partNumbers=").concat(s.join(","))).then(Ep)}},{key:"completeMultipartUpload",value:function(i,a){var o=a.key,u=a.uploadId,s=a.parts;this.assertHost("completeMultipartUpload");var l=encodeURIComponent(o),c=encodeURIComponent(u);return this.client.post("s3/multipart/".concat(c,"/complete?key=").concat(l),{parts:s}).then(Ep)}},{key:"abortMultipartUpload",value:function(i,a){var o=a.key,u=a.uploadId;this.assertHost("abortMultipartUpload");var s=encodeURIComponent(o),l=encodeURIComponent(u);return this.client.delete("s3/multipart/".concat(l,"?key=").concat(s)).then(Ep)}},{key:"uploadFile",value:function(i){var a=this;return new Promise(function(o,u){var s=function(m){var _=a.uppy.getFile(i.id);a.uppy.setFileState(i.id,{s3Multipart:Jr(Jr({},_.s3Multipart),{},{key:m.key,uploadId:m.uploadId})})},l=function(m,_){a.uppy.emit("upload-progress",i,{uploader:a,bytesUploaded:m,bytesTotal:_})},c=function(m){a.uppy.log(m),a.uppy.emit("upload-error",i,m),v.done(),a.resetUploaderReferences(i.id),u(m)},f=function(m){var _={body:Jr({},m),uploadURL:m.location};v.done(),a.resetUploaderReferences(i.id);var S=a.uppy.getFile(i.id);a.uppy.emit("upload-success",S||i,_),m.location&&a.uppy.log("Download ".concat(d.file.name," from ").concat(m.location)),o(d)},p=function(m){var _=a.uppy.getFile(i.id);!_||a.uppy.emit("s3-multipart:part-uploaded",_,m)},d=new tZe(i.data,Jr({createMultipartUpload:a.opts.createMultipartUpload.bind(a,i),listParts:a.opts.listParts.bind(a,i),prepareUploadParts:a.opts.prepareUploadParts.bind(a,i),completeMultipartUpload:a.opts.completeMultipartUpload.bind(a,i),abortMultipartUpload:a.opts.abortMultipartUpload.bind(a,i),getChunkSize:a.opts.getChunkSize?a.opts.getChunkSize.bind(a):null,onStart:s,onProgress:l,onError:c,onSuccess:f,onPartComplete:p,limit:a.opts.limit||5,retryDelays:a.opts.retryDelays||[]},i.s3Multipart));a.uploaders[i.id]=d,a.uploaderEvents[i.id]=new HY(a.uppy);var v=a.requests.run(function(){return i.isPaused||d.start(),function(){}});a.onFileRemove(i.id,function(g){v.abort(),a.resetUploaderReferences(i.id,{abort:!0}),o("upload ".concat(g.id," was removed"))}),a.onCancelAll(i.id,function(){v.abort(),a.resetUploaderReferences(i.id,{abort:!0}),o("upload ".concat(i.id," was canceled"))}),a.onFilePause(i.id,function(g){g?(v.abort(),d.pause()):(v.abort(),v=a.requests.run(function(){return d.start(),function(){}}))}),a.onPauseAll(i.id,function(){v.abort(),d.pause()}),a.onResumeAll(i.id,function(){v.abort(),i.error&&d.abort(),v=a.requests.run(function(){return d.start(),function(){}})}),(!i.progress.uploadStarted||!i.isRestored)&&a.uppy.emit("upload-started",i)})}},{key:"uploadRemote",value:function(i){var a=this;return this.resetUploaderReferences(i.id),(!i.progress.uploadStarted||!i.isRestored)&&this.uppy.emit("upload-started",i),i.serverToken?this.connectToServerSocket(i):new Promise(function(o,u){var s=i.remote.providerOptions.provider?XQe:zY,l=new s(a.uppy,i.remote.providerOptions);l.post(i.remote.url,Jr(Jr({},i.remote.body),{},{protocol:"s3-multipart",size:i.data.size,metadata:i.meta})).then(function(c){return a.uppy.setFileState(i.id,{serverToken:c.token}),i=a.uppy.getFile(i.id),i}).then(function(c){return a.connectToServerSocket(c)}).then(function(){o()}).catch(function(c){a.uppy.emit("upload-error",i,c),u(c)})})}},{key:"connectToServerSocket",value:function(i){var a=this;return new Promise(function(o,u){var s=i.serverToken,l=QQe(i.remote.companionUrl),c=new YQe({target:"".concat(l,"/api/").concat(s),autoOpen:!1});a.uploaderSockets[i.id]=c,a.uploaderEvents[i.id]=new HY(a.uppy),a.onFileRemove(i.id,function(){f.abort(),c.send("cancel",{}),a.resetUploaderReferences(i.id,{abort:!0}),o("upload ".concat(i.id," was removed"))}),a.onFilePause(i.id,function(p){p?(f.abort(),c.send("pause",{})):(f.abort(),f=a.requests.run(function(){return c.send("resume",{}),function(){}}))}),a.onPauseAll(i.id,function(){f.abort(),c.send("pause",{})}),a.onCancelAll(i.id,function(){f.abort(),c.send("cancel",{}),a.resetUploaderReferences(i.id),o("upload ".concat(i.id," was canceled"))}),a.onResumeAll(i.id,function(){f.abort(),i.error&&c.send("pause",{}),f=a.requests.run(function(){c.send("resume",{})})}),a.onRetry(i.id,function(){c.isOpen&&(c.send("pause",{}),c.send("resume",{}))}),a.onRetryAll(i.id,function(){c.isOpen&&(c.send("pause",{}),c.send("resume",{}))}),c.on("progress",function(p){return JQe(a,p,i)}),c.on("error",function(p){a.uppy.emit("upload-error",i,new Error(p.error)),a.resetUploaderReferences(i.id),f.done(),u(new Error(p.error))}),c.on("success",function(p){var d={uploadURL:p.url};a.uppy.emit("upload-success",i,d),a.resetUploaderReferences(i.id),f.done(),o()});var f=a.requests.run(function(){return c.open(),i.isPaused&&c.send("pause",{}),function(){}})})}},{key:"upload",value:function(i){var a=this;if(i.length===0)return Promise.resolve();var o=i.map(function(u){var s=a.uppy.getFile(u);return s.isRemote?a.uploadRemote(s):a.uploadFile(s)});return Promise.all(o)}},{key:"onFileRemove",value:function(i,a){this.uploaderEvents[i].on("file-removed",function(o){i===o.id&&a(o.id)})}},{key:"onFilePause",value:function(i,a){this.uploaderEvents[i].on("upload-pause",function(o,u){i===o&&a(u)})}},{key:"onRetry",value:function(i,a){this.uploaderEvents[i].on("upload-retry",function(o){i===o&&a()})}},{key:"onRetryAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("retry-all",function(){!o.uppy.getFile(i)||a()})}},{key:"onPauseAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("pause-all",function(){!o.uppy.getFile(i)||a()})}},{key:"onCancelAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("cancel-all",function(){!o.uppy.getFile(i)||a()})}},{key:"onResumeAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("resume-all",function(){!o.uppy.getFile(i)||a()})}},{key:"install",value:function(){var i=this.uppy.getState(),a=i.capabilities;this.uppy.setState({capabilities:Jr(Jr({},a),{},{resumableUploads:!0})}),this.uppy.addUploader(this.upload)}},{key:"uninstall",value:function(){var i=this.uppy.getState(),a=i.capabilities;this.uppy.setState({capabilities:Jr(Jr({},a),{},{resumableUploads:!1})}),this.uppy.removeUploader(this.upload)}}]),r}(KQe),BY.VERSION="2.2.2",LY)});var VY=h(function(Mg,Js){function jg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jg=function(r){return typeof r}:jg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jg(t)}(function(t,e){(typeof Mg=="undefined"?"undefined":jg(Mg))==="object"&&typeof Js!="undefined"?Js.exports=e(t):typeof define=="function"&&define.amd?define(e):e(t)})(typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:Mg,function(t){"use strict";t=t||{};var e=t.Base64,r="2.6.4",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(G){for(var T={},I=0,L=G.length;I<L;I++)T[G.charAt(I)]=I;return T}(n),a=String.fromCharCode,o=function(T){if(T.length<2){var I=T.charCodeAt(0);return I<128?T:I<2048?a(192|I>>>6)+a(128|I&63):a(224|I>>>12&15)+a(128|I>>>6&63)+a(128|I&63)}else{var I=65536+(T.charCodeAt(0)-55296)*1024+(T.charCodeAt(1)-56320);return a(240|I>>>18&7)+a(128|I>>>12&63)+a(128|I>>>6&63)+a(128|I&63)}},u=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,s=function(T){return T.replace(u,o)},l=function(T){var I=[0,2,1][T.length%3],L=T.charCodeAt(0)<<16|(T.length>1?T.charCodeAt(1):0)<<8|(T.length>2?T.charCodeAt(2):0),C=[n.charAt(L>>>18),n.charAt(L>>>12&63),I>=2?"=":n.charAt(L>>>6&63),I>=1?"=":n.charAt(L&63)];return C.join("")},c=t.btoa&&typeof t.btoa=="function"?function(G){return t.btoa(G)}:function(G){if(G.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return G.replace(/[\s\S]{1,3}/g,l)},f=function(T){return c(s(String(T)))},p=function(T){return T.replace(/[+\/]/g,function(I){return I=="+"?"-":"_"}).replace(/=/g,"")},d=function(T,I){return I?p(f(T)):f(T)},v=function(T){return d(T,!0)},g;t.Uint8Array&&(g=function(T,I){for(var L="",C=0,U=T.length;C<U;C+=3){var B=T[C],te=T[C+1],ce=T[C+2],ue=B<<16|te<<8|ce;L+=n.charAt(ue>>>18)+n.charAt(ue>>>12&63)+(typeof te!="undefined"?n.charAt(ue>>>6&63):"=")+(typeof ce!="undefined"?n.charAt(ue&63):"=")}return I?p(L):L});var m=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,_=function(T){switch(T.length){case 4:var I=(7&T.charCodeAt(0))<<18|(63&T.charCodeAt(1))<<12|(63&T.charCodeAt(2))<<6|63&T.charCodeAt(3),L=I-65536;return a((L>>>10)+55296)+a((L&1023)+56320);case 3:return a((15&T.charCodeAt(0))<<12|(63&T.charCodeAt(1))<<6|63&T.charCodeAt(2));default:return a((31&T.charCodeAt(0))<<6|63&T.charCodeAt(1))}},S=function(T){return T.replace(m,_)},q=function(T){var I=T.length,L=I%4,C=(I>0?i[T.charAt(0)]<<18:0)|(I>1?i[T.charAt(1)]<<12:0)|(I>2?i[T.charAt(2)]<<6:0)|(I>3?i[T.charAt(3)]:0),U=[a(C>>>16),a(C>>>8&255),a(C&255)];return U.length-=[0,0,2,1][L],U.join("")},A=t.atob&&typeof t.atob=="function"?function(G){return t.atob(G)}:function(G){return G.replace(/\S{1,4}/g,q)},D=function(T){return A(String(T).replace(/[^A-Za-z0-9\+\/]/g,""))},F=function(T){return S(A(T))},$=function(T){return String(T).replace(/[-_]/g,function(I){return I=="-"?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,"")},Y=function(T){return F($(T))},R;t.Uint8Array&&(R=function(T){return Uint8Array.from(D($(T)),function(I){return I.charCodeAt(0)})});var j=function(){var T=t.Base64;return t.Base64=e,T};if(t.Base64={VERSION:r,atob:D,btoa:c,fromBase64:Y,toBase64:d,utob:s,encode:d,encodeURI:v,btou:S,decode:Y,noConflict:j,fromUint8Array:g,toUint8Array:R},typeof Object.defineProperty=="function"){var Q=function(T){return{value:T,enumerable:!1,writable:!0,configurable:!0}};t.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",Q(function(){return Y(this)})),Object.defineProperty(String.prototype,"toBase64",Q(function(G){return d(this,G)})),Object.defineProperty(String.prototype,"toBase64URI",Q(function(){return d(this,!0)}))}}return t.Meteor&&(Base64=t.Base64),typeof Js!="undefined"&&Js.exports?Js.exports.Base64=t.Base64:typeof define=="function"&&define.amd&&define([],function(){return t.Base64}),{Base64:t.Base64}})});var KY=h(function(eyt,GY){"use strict";GY.exports=function(e,r){if(r=r.split(":")[0],e=+e,!e)return!1;switch(r){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}});var JY=h(function(NE){"use strict";var rZe=Object.prototype.hasOwnProperty,nZe;function YY(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return null}}function XY(t){try{return encodeURIComponent(t)}catch(e){return null}}function iZe(t){for(var e=/([^=?#&]+)=?([^&]*)/g,r={},n;n=e.exec(t);){var i=YY(n[1]),a=YY(n[2]);i===null||a===null||i in r||(r[i]=a)}return r}function aZe(t,e){e=e||"";var r=[],n,i;typeof e!="string"&&(e="?");for(i in t)if(rZe.call(t,i)){if(n=t[i],!n&&(n===null||n===nZe||isNaN(n))&&(n=""),i=XY(i),n=XY(n),i===null||n===null)continue;r.push(i+"="+n)}return r.length?e+r.join("&"):""}NE.stringify=aZe;NE.parse=iZe});var nX=h(function(ryt,rX){"use strict";function Qs(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qs=function(r){return typeof r}:Qs=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qs(t)}var QY=KY(),Ng=JY(),oZe=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,uZe=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,sZe=/^[a-zA-Z]:/,lZe="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",cZe=new RegExp("^"+lZe+"+");function BE(t){return(t||"").toString().replace(cZe,"")}var LE=[["#","hash"],["?","query"],function(e,r){return Gi(r.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ZY={hash:1,query:1};function eX(t){var e;typeof window!="undefined"?e=window:typeof global!="undefined"?e=global:typeof self!="undefined"?e=self:e={};var r=e.location||{};t=t||r;var n={},i=Qs(t),a;if(t.protocol==="blob:")n=new ri(unescape(t.pathname),{});else if(i==="string"){n=new ri(t,{});for(a in ZY)delete n[a]}else if(i==="object"){for(a in t)a in ZY||(n[a]=t[a]);n.slashes===void 0&&(n.slashes=oZe.test(t.href))}return n}function Gi(t){return t==="file:"||t==="ftp:"||t==="http:"||t==="https:"||t==="ws:"||t==="wss:"}function tX(t,e){t=BE(t),e=e||{};var r=uZe.exec(t),n=r[1]?r[1].toLowerCase():"",i=!!r[2],a=!!r[3],o=0,u;return i?a?(u=r[2]+r[3]+r[4],o=r[2].length+r[3].length):(u=r[2]+r[4],o=r[2].length):a?(u=r[3]+r[4],o=r[3].length):u=r[4],n==="file:"?o>=2&&(u=u.slice(2)):Gi(n)?u=r[4]:n?i&&(u=u.slice(2)):o>=2&&Gi(e.protocol)&&(u=r[4]),{protocol:n,slashes:i||Gi(n),slashesCount:o,rest:u}}function fZe(t,e){if(t==="")return e;for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=r.length,i=r[n-1],a=!1,o=0;n--;)r[n]==="."?r.splice(n,1):r[n]===".."?(r.splice(n,1),o++):o&&(n===0&&(a=!0),r.splice(n,1),o--);return a&&r.unshift(""),(i==="."||i==="..")&&r.push(""),r.join("/")}function ri(t,e,r){if(t=BE(t),!(this instanceof ri))return new ri(t,e,r);var n,i,a,o,u,s,l=LE.slice(),c=Qs(e),f=this,p=0;for(c!=="object"&&c!=="string"&&(r=e,e=null),r&&typeof r!="function"&&(r=Ng.parse),e=eX(e),i=tX(t||"",e),n=!i.protocol&&!i.slashes,f.slashes=i.slashes||n&&e.slashes,f.protocol=i.protocol||e.protocol||"",t=i.rest,(i.protocol==="file:"&&(i.slashesCount!==2||sZe.test(t))||!i.slashes&&(i.protocol||i.slashesCount<2||!Gi(f.protocol)))&&(l[3]=[/(.*)/,"pathname"]);p<l.length;p++){if(o=l[p],typeof o=="function"){t=o(t,f);continue}a=o[0],s=o[1],a!==a?f[s]=t:typeof a=="string"?~(u=t.indexOf(a))&&(typeof o[2]=="number"?(f[s]=t.slice(0,u),t=t.slice(u+o[2])):(f[s]=t.slice(u),t=t.slice(0,u))):(u=a.exec(t))&&(f[s]=u[1],t=t.slice(0,u.index)),f[s]=f[s]||n&&o[3]&&e[s]||"",o[4]&&(f[s]=f[s].toLowerCase())}r&&(f.query=r(f.query)),n&&e.slashes&&f.pathname.charAt(0)!=="/"&&(f.pathname!==""||e.pathname!=="")&&(f.pathname=fZe(f.pathname,e.pathname)),f.pathname.charAt(0)!=="/"&&Gi(f.protocol)&&(f.pathname="/"+f.pathname),QY(f.port,f.protocol)||(f.host=f.hostname,f.port=""),f.username=f.password="",f.auth&&(o=f.auth.split(":"),f.username=o[0]||"",f.password=o[1]||""),f.origin=f.protocol!=="file:"&&Gi(f.protocol)&&f.host?f.protocol+"//"+f.host:"null",f.href=f.toString()}function pZe(t,e,r){var n=this;switch(t){case"query":typeof e=="string"&&e.length&&(e=(r||Ng.parse)(e)),n[t]=e;break;case"port":n[t]=e,QY(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="");break;case"hostname":n[t]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[t]=e,/:\d+$/.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(e){var i=t==="pathname"?"/":"#";n[t]=e.charAt(0)!==i?i+e:e}else n[t]=e;break;default:n[t]=e}for(var a=0;a<LE.length;a++){var o=LE[a];o[4]&&(n[o[1]]=n[o[1]].toLowerCase())}return n.origin=n.protocol!=="file:"&&Gi(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function dZe(t){(!t||typeof t!="function")&&(t=Ng.stringify);var e,r=this,n=r.protocol;n&&n.charAt(n.length-1)!==":"&&(n+=":");var i=n+(r.slashes||Gi(r.protocol)?"//":"");return r.username&&(i+=r.username,r.password&&(i+=":"+r.password),i+="@"),i+=r.host+r.pathname,e=Qs(r.query)==="object"?t(r.query):r.query,e&&(i+=e.charAt(0)!=="?"?"?"+e:e),r.hash&&(i+=r.hash),i}ri.prototype={set:pZe,toString:dZe};ri.extractProtocol=tX;ri.location=eX;ri.trimLeft=BE;ri.qs=Ng;rX.exports=ri});var aX=h(function(zg){"use strict";Object.defineProperty(zg,"__esModule",{value:!0});zg.default=void 0;function Bg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bg=function(r){return typeof r}:Bg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bg(t)}function hZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tp(t,e)}function yZe(t){return function(){var e=Ap(t),r;if(iX()){var n=Ap(this).constructor;r=Reflect.construct(e,arguments,n)}else r=e.apply(this,arguments);return mZe(this,r)}}function mZe(t,e){return e&&(Bg(e)==="object"||typeof e=="function")?e:gZe(t)}function gZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zE(t){var e=typeof Map=="function"?new Map:void 0;return zE=function(n){if(n===null||!bZe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return Lg(n,arguments,Ap(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Tp(i,n)},zE(t)}function Lg(t,e,r){return iX()?Lg=Reflect.construct:Lg=function(i,a,o){var u=[null];u.push.apply(u,a);var s=Function.bind.apply(i,u),l=new s;return o&&Tp(l,o.prototype),l},Lg.apply(null,arguments)}function iX(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function bZe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Tp(t,e){return Tp=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Tp(t,e)}function Ap(t){return Ap=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ap(t)}var _Ze=function(t){vZe(r,t);var e=yZe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(hZe(this,r),i=e.call(this,n),i.originalRequest=o,i.originalResponse=u,i.causingError=a,a!=null&&(n+=", caused by ".concat(a.toString())),o!=null){var s=o.getHeader("X-Request-ID")||"n/a",l=o.getMethod(),c=o.getURL(),f=u?u.getStatus():"n/a",p=u?u.getBody()||"":"n/a";n+=", originated from request (method: ".concat(l,", url: ").concat(c,", response code: ").concat(f,", response text: ").concat(p,", request id: ").concat(s,")")}return i.message=n,i}return r}(zE(Error)),wZe=_Ze;zg.default=wZe});var HE=h(function(Hg){"use strict";Object.defineProperty(Hg,"__esModule",{value:!0});Hg.enableDebugLog=SZe;Hg.log=OZe;var oX=!1;function SZe(){oX=!0}function OZe(t){!oX||console.log(t)}});var uX=h(function($E){"use strict";Object.defineProperty($E,"__esModule",{value:!0});$E.default=PZe;function PZe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t=="x"?e:e&3|8;return r.toString(16)})}});var yX=h(function(Wg){"use strict";Object.defineProperty(Wg,"__esModule",{value:!0});Wg.default=void 0;var qZe=VY(),RZe=WE(nX()),$g=WE(aX()),iu=HE(),EZe=WE(uX());function WE(t){return t&&t.__esModule?t:{default:t}}function sX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sX(Object(r),!0).forEach(function(n){TZe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TZe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function IZe(t,e,r){return e&&lX(t.prototype,e),r&&lX(t,r),t}var kZe={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,_onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:null,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null},cX=function(){function t(e,r){AZe(this,t),"resume"in r&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=r,this._urlStorage=this.options.urlStorage,this.file=e,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return IZe(t,[{key:"findPreviousUploads",value:function(){var r=this;return this.options.fingerprint(this.file,this.options).then(function(n){return r._urlStorage.findUploadsByFingerprint(n)})}},{key:"resumeFromPreviousUpload",value:function(r){this.url=r.uploadUrl||null,this._parallelUploadUrls=r.parallelUploadUrls||null,this._urlStorageKey=r.urlStorageKey}},{key:"start",value:function(){var r=this,n=this.file;if(!n){this._emitError(new Error("tus: no file or stream to upload provided"));return}if(!this.options.endpoint&&!this.options.uploadUrl){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return}var i=this.options.retryDelays;if(i!=null&&Object.prototype.toString.call(i)!=="[object Array]"){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return}this.options.parallelUploads>1&&["uploadUrl","uploadSize","uploadLengthDeferred"].forEach(function(a){r.options[a]&&r._emitError(new Error("tus: cannot use the ".concat(a," option when parallelUploads is enabled")))}),this.options.fingerprint(n,this.options).then(function(a){return a==null?(0,iu.log)("No fingerprint was calculated meaning that the upload cannot be stored in the URL storage."):(0,iu.log)("Calculated fingerprint: ".concat(a)),r._fingerprint=a,r._source?r._source:r.options.fileReader.openFile(n,r.options.chunkSize)}).then(function(a){r._source=a,r.options.parallelUploads>1||r._parallelUploadUrls!=null?r._startParallelUpload():r._startSingleUpload()}).catch(function(a){r._emitError(a)})}},{key:"_startParallelUpload",value:function(){var r=this,n=this._size=this._source.size,i=0;this._parallelUploads=[];var a=this._parallelUploadUrls!=null?this._parallelUploadUrls.length:this.options.parallelUploads,o=FZe(this._source.size,a,this._parallelUploadUrls);this._parallelUploadUrls=new Array(o.length);var u=o.map(function(l,c){var f=0;return r._source.slice(l.start,l.end).then(function(p){var d=p.value;return new Promise(function(v,g){var m=VE({},r.options,{uploadUrl:l.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,metadata:{},headers:VE({},r.options.headers,{"Upload-Concat":"partial"}),onSuccess:v,onError:g,onProgress:function(q){i=i-f+q,f=q,r._emitProgress(i,n)},_onUploadUrlAvailable:function(){r._parallelUploadUrls[c]=_.url,r._parallelUploadUrls.filter(function(q){return!!q}).length===o.length&&r._saveUploadInUrlStorage()}}),_=new t(d,m);_.start(),r._parallelUploads.push(_)})})}),s;Promise.all(u).then(function(){s=r._openRequest("POST",r.options.endpoint),s.setHeader("Upload-Concat","final;".concat(r._parallelUploadUrls.join(" ")));var l=fX(r.options.metadata);return l!==""&&s.setHeader("Upload-Metadata",l),r._sendRequest(s,null)}).then(function(l){if(!Zs(l.getStatus(),200)){r._emitHttpError(s,l,"tus: unexpected response while creating upload");return}var c=l.getHeader("Location");if(c==null){r._emitHttpError(s,l,"tus: invalid or missing Location header");return}r.url=vX(r.options.endpoint,c),(0,iu.log)("Created upload at ".concat(r.url)),r._emitSuccess()}).catch(function(l){r._emitError(l)})}},{key:"_startSingleUpload",value:function(){if(this.options.uploadLengthDeferred)this._size=null;else if(this.options.uploadSize!=null){if(this._size=+this.options.uploadSize,isNaN(this._size)){this._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return}}else if(this._size=this._source.size,this._size==null){this._emitError(new Error("tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option"));return}if(this._aborted=!1,this.url!=null){(0,iu.log)("Resuming upload from previous URL: ".concat(this.url)),this._resumeUpload();return}if(this.options.uploadUrl!=null){(0,iu.log)("Resuming upload from provided URL: ".concat(this.options.url)),this.url=this.options.uploadUrl,this._resumeUpload();return}(0,iu.log)("Creating a new upload"),this._createUpload()}},{key:"abort",value:function(r){var n=this;if(arguments.length>1&&typeof arguments[1]=="function")throw new Error("tus: the abort function does not accept a callback since v2 anymore; please use the returned Promise instead");return this._parallelUploads!=null&&this._parallelUploads.forEach(function(i){i.abort(r)}),this._req!==null&&(this._req.abort(),this._source.close()),this._aborted=!0,this._retryTimeout!=null&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),!r||this.url==null?Promise.resolve():t.terminate(this.url,this.options).then(function(){return n._removeFromUrlStorage()})}},{key:"_emitHttpError",value:function(r,n,i,a){this._emitError(new $g.default(i,a,r,n))}},{key:"_emitError",value:function(r){var n=this;if(!this._aborted){if(this.options.retryDelays!=null){var i=this._offset!=null&&this._offset>this._offsetBeforeRetry;if(i&&(this._retryAttempt=0),hX(r,this._retryAttempt,this.options)){var a=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){n.start()},a);return}}if(typeof this.options.onError=="function")this.options.onError(r);else throw r}}},{key:"_emitSuccess",value:function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),typeof this.options.onSuccess=="function"&&this.options.onSuccess()}},{key:"_emitProgress",value:function(r,n){typeof this.options.onProgress=="function"&&this.options.onProgress(r,n)}},{key:"_emitChunkComplete",value:function(r,n,i){typeof this.options.onChunkComplete=="function"&&this.options.onChunkComplete(r,n,i)}},{key:"_createUpload",value:function(){var r=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return}var n=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?n.setHeader("Upload-Defer-Length",1):n.setHeader("Upload-Length",this._size);var i=fX(this.options.metadata);i!==""&&n.setHeader("Upload-Metadata",i);var a;this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,a=this._addChunkToRequest(n)):a=this._sendRequest(n,null),a.then(function(o){if(!Zs(o.getStatus(),200)){r._emitHttpError(n,o,"tus: unexpected response while creating upload");return}var u=o.getHeader("Location");if(u==null){r._emitHttpError(n,o,"tus: invalid or missing Location header");return}if(r.url=vX(r.options.endpoint,u),(0,iu.log)("Created upload at ".concat(r.url)),typeof r.options._onUploadUrlAvailable=="function"&&r.options._onUploadUrlAvailable(),r._size===0){r._emitSuccess(),r._source.close();return}r._saveUploadInUrlStorage(),r.options.uploadDataDuringCreation?r._handleUploadResponse(n,o):(r._offset=0,r._performUpload())}).catch(function(o){r._emitHttpError(n,null,"tus: failed to create upload",o)})}},{key:"_resumeUpload",value:function(){var r=this,n=this._openRequest("HEAD",this.url),i=this._sendRequest(n,null);i.then(function(a){var o=a.getStatus();if(!Zs(o,200)){if(Zs(o,400)&&r._removeFromUrlStorage(),o===423){r._emitHttpError(n,a,"tus: upload is currently locked; retry later");return}if(!r.options.endpoint){r._emitHttpError(n,a,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return}r.url=null,r._createUpload();return}var u=parseInt(a.getHeader("Upload-Offset"),10);if(isNaN(u)){r._emitHttpError(n,a,"tus: invalid or missing offset value");return}var s=parseInt(a.getHeader("Upload-Length"),10);if(isNaN(s)&&!r.options.uploadLengthDeferred){r._emitHttpError(n,a,"tus: invalid or missing length value");return}if(typeof r.options._onUploadUrlAvailable=="function"&&r.options._onUploadUrlAvailable(),u===s){r._emitProgress(s,s),r._emitSuccess();return}r._offset=u,r._performUpload()}).catch(function(a){r._emitHttpError(n,null,"tus: failed to resume upload",a)})}},{key:"_performUpload",value:function(){var r=this;if(!this._aborted){var n;this.options.overridePatchMethod?(n=this._openRequest("POST",this.url),n.setHeader("X-HTTP-Method-Override","PATCH")):n=this._openRequest("PATCH",this.url),n.setHeader("Upload-Offset",this._offset);var i=this._addChunkToRequest(n);i.then(function(a){if(!Zs(a.getStatus(),200)){r._emitHttpError(n,a,"tus: unexpected response while uploading chunk");return}r._handleUploadResponse(n,a)}).catch(function(a){r._aborted||r._emitHttpError(n,null,"tus: failed to upload chunk at offset ".concat(r._offset),a)})}}},{key:"_addChunkToRequest",value:function(r){var n=this,i=this._offset,a=this._offset+this.options.chunkSize;return r.setProgressHandler(function(o){n._emitProgress(i+o,n._size)}),r.setHeader("Content-Type","application/offset+octet-stream"),(a===1/0||a>this._size)&&!this.options.uploadLengthDeferred&&(a=this._size),this._source.slice(i,a).then(function(o){var u=o.value,s=o.done;return n.options.uploadLengthDeferred&&s&&(n._size=n._offset+(u&&u.size?u.size:0),r.setHeader("Upload-Length",n._size)),u===null?n._sendRequest(r):(n._emitProgress(n._offset,n._size),n._sendRequest(r,u))})}},{key:"_handleUploadResponse",value:function(r,n){var i=parseInt(n.getHeader("Upload-Offset"),10);if(isNaN(i)){this._emitHttpError(r,n,"tus: invalid or missing offset value");return}if(this._emitProgress(i,this._size),this._emitChunkComplete(i-this._offset,i,this._size),this._offset=i,i==this._size){this._emitSuccess(),this._source.close();return}this._performUpload()}},{key:"_openRequest",value:function(r,n){var i=pX(r,n,this.options);return this._req=i,i}},{key:"_removeFromUrlStorage",value:function(){var r=this;!this._urlStorageKey||(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(n){r._emitError(n)}),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var r=this;if(!(!this.options.storeFingerprintForResuming||!this._fingerprint)){var n={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};this._parallelUploads?n.parallelUploadUrls=this._parallelUploadUrls:n.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,n).then(function(i){return r._urlStorageKey=i}).catch(function(i){r._emitError(i)})}}},{key:"_sendRequest",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return dX(r,n,this.options)}}],[{key:"terminate",value:function(r,n){if(arguments.length>1&&typeof arguments[arguments.length-1]=="function")throw new Error("tus: the terminate function does not accept a callback since v2 anymore; please use the returned Promise instead");n===void 0&&(n={});var i=pX("DELETE",r,n);return dX(i,null,n).then(function(a){if(a.getStatus()!==204)throw new $g.default("tus: unexpected response while terminating upload",null,i,a)}).catch(function(a){if(a instanceof $g.default||(a=new $g.default("tus: failed to terminate upload",a,i,null)),!hX(a,0,n))throw a;var o=n.retryDelays[0],u=n.retryDelays.slice(1),s=VE({},n,{retryDelays:u});return new Promise(function(l){return setTimeout(l,o)}).then(function(){return t.terminate(r,s)})})}}]),t}();function fX(t){var e=[];for(var r in t)e.push("".concat(r," ").concat(qZe.Base64.encode(t[r])));return e.join(",")}function Zs(t,e){return t>=e&&t<e+100}function pX(t,e,r){var n=r.httpStack.createRequest(t,e);n.setHeader("Tus-Resumable","1.0.0");var i=r.headers||{};for(var a in i)n.setHeader(a,i[a]);if(r.addRequestId){var o=(0,EZe.default)();n.setHeader("X-Request-ID",o)}return n}function dX(t,e,r){var n=typeof r.onBeforeRequest=="function"?Promise.resolve(r.onBeforeRequest(t)):Promise.resolve();return n.then(function(){return t.send(e).then(function(i){var a=typeof r.onAfterResponse=="function"?Promise.resolve(r.onAfterResponse(t,i)):Promise.resolve();return a.then(function(){return i})})})}function xZe(){var t=!0;return typeof window!="undefined"&&"navigator"in window&&window.navigator.onLine===!1&&(t=!1),t}function hX(t,e,r){if(r.retryDelays==null||e>=r.retryDelays.length||t.originalRequest==null)return!1;if(r&&typeof r.onShouldRetry=="function")return r.onShouldRetry(t,e,r);var n=t.originalResponse?t.originalResponse.getStatus():0;return(!Zs(n,400)||n===409||n===423)&&xZe()}function vX(t,e){return new RZe.default(e,t).toString()}function FZe(t,e,r){for(var n=Math.floor(t/e),i=[],a=0;a<e;a++)i.push({start:n*a,end:n*(a+1)});return i[e-1].end=t,r&&i.forEach(function(o,u){o.uploadUrl=r[u]||null}),i}cX.defaultOptions=kZe;var CZe=cX;Wg.default=CZe});var gX=h(function(Vg){"use strict";Object.defineProperty(Vg,"__esModule",{value:!0});Vg.default=void 0;function DZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function UZe(t,e,r){return e&&mX(t.prototype,e),r&&mX(t,r),t}var jZe=function(){function t(){DZe(this,t)}return UZe(t,[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(r){return Promise.resolve([])}},{key:"removeUpload",value:function(r){return Promise.resolve()}},{key:"addUpload",value:function(r,n){return Promise.resolve(null)}}]),t}();Vg.default=jZe});var _X=h(function(el){"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.WebStorageUrlStorage=el.canStoreURLs=void 0;function MZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function NZe(t,e,r){return e&&bX(t.prototype,e),r&&bX(t,r),t}var GE=!1;try{GE="localStorage"in window,KE="tusSupport",localStorage.setItem(KE,localStorage.getItem(KE))}catch(t){if(t.code===t.SECURITY_ERR||t.code===t.QUOTA_EXCEEDED_ERR)GE=!1;else throw t}var KE,BZe=GE;el.canStoreURLs=BZe;var LZe=function(){function t(){MZe(this,t)}return NZe(t,[{key:"findAllUploads",value:function(){var r=this._findEntries("tus::");return Promise.resolve(r)}},{key:"findUploadsByFingerprint",value:function(r){var n=this._findEntries("tus::".concat(r,"::"));return Promise.resolve(n)}},{key:"removeUpload",value:function(r){return localStorage.removeItem(r),Promise.resolve()}},{key:"addUpload",value:function(r,n){var i=Math.round(Math.random()*1e12),a="tus::".concat(r,"::").concat(i);return localStorage.setItem(a,JSON.stringify(n)),Promise.resolve(a)}},{key:"_findEntries",value:function(r){for(var n=[],i=0;i<localStorage.length;i++){var a=localStorage.key(i);if(a.indexOf(r)===0)try{var o=JSON.parse(localStorage.getItem(a));o.urlStorageKey=a,n.push(o)}catch(u){}}return n}}]),t}();el.WebStorageUrlStorage=LZe});var SX=h(function(Gg){"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});Gg.default=void 0;function YE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function XE(t,e,r){return e&&wX(t.prototype,e),r&&wX(t,r),t}var zZe=function(){function t(){YE(this,t)}return XE(t,[{key:"createRequest",value:function(r,n){return new HZe(r,n)}},{key:"getName",value:function(){return"XHRHttpStack"}}]),t}();Gg.default=zZe;var HZe=function(){function t(e,r){YE(this,t),this._xhr=new XMLHttpRequest,this._xhr.open(e,r,!0),this._method=e,this._url=r,this._headers={}}return XE(t,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(r,n){this._xhr.setRequestHeader(r,n),this._headers[r]=n}},{key:"getHeader",value:function(r){return this._headers[r]}},{key:"setProgressHandler",value:function(r){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(n){!n.lengthComputable||r(n.loaded)})}},{key:"send",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return new Promise(function(i,a){r._xhr.onload=function(){i(new $Ze(r._xhr))},r._xhr.onerror=function(o){a(o)},r._xhr.send(n)})}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),t}(),$Ze=function(){function t(e){YE(this,t),this._xhr=e}return XE(t,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(r){return this._xhr.getResponseHeader(r)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),t}()});var JE=h(function(Kg){"use strict";Object.defineProperty(Kg,"__esModule",{value:!0});Kg.default=void 0;var WZe=function(){return typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"},VZe=WZe;Kg.default=VZe});var OX=h(function(QE){"use strict";Object.defineProperty(QE,"__esModule",{value:!0});QE.default=GZe;function GZe(t){return new Promise(function(e,r){var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(){var i=n.response;e(i)},n.onerror=function(i){r(i)},n.open("GET",t),n.send()})}});var PX=h(function(Yg){"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});Yg.default=void 0;var KZe=function(){return typeof window!="undefined"&&(typeof window.PhoneGap!="undefined"||typeof window.Cordova!="undefined"||typeof window.cordova!="undefined")},YZe=KZe;Yg.default=YZe});var qX=h(function(ZE){"use strict";Object.defineProperty(ZE,"__esModule",{value:!0});ZE.default=XZe;function XZe(t){return new Promise(function(e,r){var n=new FileReader;n.onload=function(){var i=new Uint8Array(n.result);e({value:i})},n.onerror=function(i){r(i)},n.readAsArrayBuffer(t)})}});var AX=h(function(Jg){"use strict";Object.defineProperty(Jg,"__esModule",{value:!0});Jg.default=void 0;var JZe=Xg(JE()),QZe=Xg(OX()),ZZe=Xg(PX()),eet=Xg(qX());function Xg(t){return t&&t.__esModule?t:{default:t}}function eT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tT(t,e,r){return e&&RX(t.prototype,e),r&&RX(t,r),t}var EX=function(){function t(e){eT(this,t),this._file=e,this.size=e.size}return tT(t,[{key:"slice",value:function(r,n){if((0,ZZe.default)())return(0,eet.default)(this._file.slice(r,n));var i=this._file.slice(r,n);return Promise.resolve({value:i})}},{key:"close",value:function(){}}]),t}(),tet=function(){function t(e,r){eT(this,t),this._chunkSize=r,this._buffer=void 0,this._bufferOffset=0,this._reader=e,this._done=!1}return tT(t,[{key:"slice",value:function(r,n){return r<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(r,n)}},{key:"_readUntilEnoughDataOrDone",value:function(r,n){var i=this,a=n<=this._bufferOffset+TX(this._buffer);if(this._done||a){var o=this._getDataFromBuffer(r,n),u=o==null?this._done:!1;return Promise.resolve({value:o,done:u})}return this._reader.read().then(function(s){var l=s.value,c=s.done;return c?i._done=!0:i._buffer===void 0?i._buffer=l:i._buffer=ret(i._buffer,l),i._readUntilEnoughDataOrDone(r,n)})}},{key:"_getDataFromBuffer",value:function(r,n){r>this._bufferOffset&&(this._buffer=this._buffer.slice(r-this._bufferOffset),this._bufferOffset=r);var i=TX(this._buffer)===0;return this._done&&i?null:this._buffer.slice(0,n-r)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}]),t}();function TX(t){return t===void 0?0:t.size!==void 0?t.size:t.length}function ret(t,e){if(t.concat)return t.concat(e);if(t instanceof Blob)return new Blob([t,e],{type:t.type});if(t.set){var r=new t.constructor(t.length+e.length);return r.set(t),r.set(e,t.length),r}throw new Error("Unknown data type")}var net=function(){function t(){eT(this,t)}return tT(t,[{key:"openFile",value:function(r,n){return(0,JZe.default)()&&r&&typeof r.uri!="undefined"?(0,QZe.default)(r.uri).then(function(i){return new EX(i)}).catch(function(i){throw new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(i))}):typeof r.slice=="function"&&typeof r.size!="undefined"?Promise.resolve(new EX(r)):typeof r.read=="function"?(n=+n,isFinite(n)?Promise.resolve(new tet(r,n)):Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option"))):Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment"))}}]),t}();Jg.default=net});var IX=h(function(rT){"use strict";Object.defineProperty(rT,"__esModule",{value:!0});rT.default=oet;var iet=aet(JE());function aet(t){return t&&t.__esModule?t:{default:t}}function oet(t,e){return(0,iet.default)()?Promise.resolve(uet(t,e)):Promise.resolve(["tus-br",t.name,t.type,t.size,t.lastModified,e.endpoint].join("-"))}function uet(t,e){var r=t.exif?set(JSON.stringify(t.exif)):"noexif";return["tus-rn",t.name||"noname",t.size||"nosize",r,e.endpoint].join("/")}function set(t){var e=0;if(t.length===0)return e;for(var r=0;r<t.length;r++){var n=t.charCodeAt(r);e=(e<<5)-e+n,e&=e}return e}});var sT=h(function(En){"use strict";Object.defineProperty(En,"__esModule",{value:!0});Object.defineProperty(En,"enableDebugLog",{enumerable:!0,get:function(){return fet.enableDebugLog}});Object.defineProperty(En,"canStoreURLs",{enumerable:!0,get:function(){return iT.canStoreURLs}});Object.defineProperty(En,"HttpStack",{enumerable:!0,get:function(){return kX.default}});En.isSupported=En.defaultOptions=En.Upload=void 0;var nT=Ip(yX()),cet=Ip(gX()),fet=HE(),iT=_X(),kX=Ip(SX()),pet=Ip(AX()),det=Ip(IX());function Ip(t){return t&&t.__esModule?t:{default:t}}function Qg(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qg=function(r){return typeof r}:Qg=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qg(t)}function het(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vet(t,e,r){return e&&xX(t.prototype,e),r&&xX(t,r),t}function yet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aT(t,e)}function aT(t,e){return aT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},aT(t,e)}function met(t){return function(){var e=Zg(t),r;if(_et()){var n=Zg(this).constructor;r=Reflect.construct(e,arguments,n)}else r=e.apply(this,arguments);return get(this,r)}}function get(t,e){return e&&(Qg(e)==="object"||typeof e=="function")?e:bet(t)}function bet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _et(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function Zg(t){return Zg=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Zg(t)}function FX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FX(Object(r),!0).forEach(function(n){wet(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wet(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var uT=oT({},nT.default.defaultOptions,{httpStack:new kX.default,fileReader:new pet.default,urlStorage:iT.canStoreURLs?new iT.WebStorageUrlStorage:new cet.default,fingerprint:det.default});En.defaultOptions=uT;var Oet=function(t){yet(r,t);var e=met(r);function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return het(this,r),i=oT({},uT,{},i),e.call(this,n,i)}return vet(r,null,[{key:"terminate",value:function(i,a,o){return a=oT({},uT,{},a),nT.default.terminate(i,a,o)}}]),r}(nT.default);En.Upload=Oet;var CX=window,Pet=CX.XMLHttpRequest,DX=CX.Blob,qet=Pet&&DX&&typeof DX.prototype.slice=="function";En.isSupported=qet});var lT=h(function(myt,UX){UX.exports=function(e){var r=[],n=[];function i(u){r.push(u)}function a(u){n.push(u)}var o=Promise.all(e.map(function(u){return u.then(i,a)}));return o.then(function(){return{successful:r,failed:n}})}});var MX=h(function(gyt,jX){var Ret=sT();function Eet(){return typeof window!="undefined"&&(typeof window.PhoneGap!="undefined"||typeof window.Cordova!="undefined"||typeof window.cordova!="undefined")}function Tet(){return typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"}jX.exports=function(e){return function(r,n){if(Eet()||Tet())return Ret.defaultOptions.fingerprint(r,n);var i=["tus",e.id,n.endpoint].join("-");return Promise.resolve(i)}}});var dT=h(function(byt,VX){function eb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eb=function(r){return typeof r}:eb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},eb(t)}function NX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function St(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NX(Object(r),!0).forEach(function(n){Aet(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aet(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BX(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ket(t,e,r){return e&&BX(t.prototype,e),r&&BX(t,r),t}function xet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cT(t,e)}function cT(t,e){return cT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},cT(t,e)}function Fet(t){var e=Det();return function(){var n=tb(t),i;if(e){var a=tb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Cet(this,i)}}function Cet(t,e){if(e&&(eb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kp(t)}function kp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Det(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function tb(t){return tb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},tb(t)}var LX,tl,zX;function HX(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Uet=0;function jet(t){return"__private_"+Uet+++"_"+t}var Met=bn(),Net=sT(),fT=tr(),Bet=fT.Provider,Let=fT.RequestClient,zet=fT.Socket,Het=dp(),$et=hp(),Wet=lT(),$X=yp(),Vet=_s(),Get=Tg(),Ket=Zo(),Yet=Ket.RateLimitedQueue,pT=vs(),Xet=MX(),WX={endpoint:"",uploadUrl:null,metadata:{},uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,overridePatchMethod:!1,headers:{},addRequestId:!1,chunkSize:1/0,retryDelays:[100,1e3,3e3,5e3],parallelUploads:1,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1};VX.exports=(zX=(tl=jet("retryDelayIterator"),LX=function(t){xet(r,t);var e=Fet(r);function r(n,i){var a;Iet(this,r);var o;a=e.call(this,n,i),Object.defineProperty(kp(a),tl,{writable:!0,value:void 0}),a.type="uploader",a.id=a.opts.id||"Tus",a.title="Tus";var u={useFastRemoteRetry:!0,limit:20,retryDelays:WX.retryDelays,withCredentials:!1};if(a.opts=St(St({},u),i),"autoRetry"in i)throw new Error("The `autoRetry` option was deprecated and has been removed.");return a.requests=new Yet(a.opts.limit),HX(kp(a),tl)[tl]=(o=a.opts.retryDelays)==null?void 0:o.values(),a.uploaders=Object.create(null),a.uploaderEvents=Object.create(null),a.uploaderSockets=Object.create(null),a.handleResetProgress=a.handleResetProgress.bind(kp(a)),a.handleUpload=a.handleUpload.bind(kp(a)),a}return ket(r,[{key:"handleResetProgress",value:function(){var i=St({},this.uppy.getState().files);Object.keys(i).forEach(function(a){if(i[a].tus&&i[a].tus.uploadUrl){var o=St({},i[a].tus);delete o.uploadUrl,i[a]=St(St({},i[a]),{},{tus:o})}}),this.uppy.setState({files:i})}},{key:"resetUploaderReferences",value:function(i,a){if(a===void 0&&(a={}),this.uploaders[i]){var o=this.uploaders[i];o.abort(),a.abort&&o.abort(!0),this.uploaders[i]=null}this.uploaderEvents[i]&&(this.uploaderEvents[i].remove(),this.uploaderEvents[i]=null),this.uploaderSockets[i]&&(this.uploaderSockets[i].close(),this.uploaderSockets[i]=null)}},{key:"upload",value:function(i){var a=this;return this.resetUploaderReferences(i.id),new Promise(function(o,u){var s,l;a.uppy.emit("upload-started",i);var c=St(St({},a.opts),i.tus||{});typeof c.headers=="function"&&(c.headers=c.headers(i));var f=St(St({},WX),c);f.fingerprint=Xet(i),f.onBeforeRequest=function(m){var _=m.getUnderlyingObject();if(_.withCredentials=!!c.withCredentials,typeof c.onBeforeRequest=="function"&&c.onBeforeRequest(m),pT(s,"shouldBeRequeued")){if(!s.shouldBeRequeued)return Promise.reject();var S,q=new Promise(function(A){S=A});return s=a.requests.run(function(){return i.isPaused&&s.abort(),S(),function(){}}),q}},f.onError=function(m){a.uppy.log(m);var _=m.originalRequest?m.originalRequest.getUnderlyingObject():null;Get(_)&&(m=new Vet(m,_)),a.resetUploaderReferences(i.id),s.abort(),a.uppy.emit("upload-error",i,m),u(m)},f.onProgress=function(m,_){a.onReceiveUploadUrl(i,g.url),a.uppy.emit("upload-progress",i,{uploader:a,bytesUploaded:m,bytesTotal:_})},f.onSuccess=function(){var m={uploadURL:g.url};a.resetUploaderReferences(i.id),s.done(),a.uppy.emit("upload-success",i,m),g.url&&a.uppy.log("Download ".concat(g.file.name," from ").concat(g.url)),o(g)},f.onShouldRetry=function(m){var _,S=m==null||(_=m.originalResponse)==null?void 0:_.getStatus();if(S===429){if(!a.requests.isPaused){var q,A=(q=HX(a,tl)[tl])==null?void 0:q.next();if(A==null||A.done)return!1;a.requests.rateLimit(A.value)}}else{if(S>400&&S<500&&S!==409)return!1;typeof navigator!="undefined"&&navigator.onLine===!1&&(a.requests.isPaused||(a.requests.pause(),window.addEventListener("online",function(){a.requests.resume()},{once:!0})))}return s.abort(),s={shouldBeRequeued:!0,abort:function(){this.shouldBeRequeued=!1},done:function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")},fn:function(){throw new Error("Cannot run a queued request: this indicates a bug")}},!0};var p=function(_,S,q){pT(_,S)&&!pT(_,q)&&(_[q]=_[S])},d={},v=Array.isArray(c.metaFields)?c.metaFields:Object.keys(i.meta);v.forEach(function(m){d[m]=i.meta[m]}),p(d,"type","filetype"),p(d,"name","filename"),f.metadata=d;var g=new Net.Upload(i.data,f);a.uploaders[i.id]=g,a.uploaderEvents[i.id]=new $X(a.uppy),l=function(){return i.isPaused||g.start(),function(){}},g.findPreviousUploads().then(function(m){var _=m[0];_&&(a.uppy.log("[Tus] Resuming upload of ".concat(i.id," started at ").concat(_.creationTime)),g.resumeFromPreviousUpload(_))}),s=a.requests.run(l),a.onFileRemove(i.id,function(m){s.abort(),a.resetUploaderReferences(i.id,{abort:!!g.url}),o("upload ".concat(m," was removed"))}),a.onPause(i.id,function(m){s.abort(),m?g.abort():s=a.requests.run(l)}),a.onPauseAll(i.id,function(){s.abort(),g.abort()}),a.onCancelAll(i.id,function(){s.abort(),a.resetUploaderReferences(i.id,{abort:!!g.url}),o("upload ".concat(i.id," was canceled"))}),a.onResumeAll(i.id,function(){s.abort(),i.error&&g.abort(),s=a.requests.run(l)})}).catch(function(o){throw a.uppy.emit("upload-error",i,o),o})}},{key:"uploadRemote",value:function(i){var a=this;this.resetUploaderReferences(i.id);var o=St({},this.opts);return i.tus&&Object.assign(o,i.tus),this.uppy.emit("upload-started",i),this.uppy.log(i.remote.url),i.serverToken?this.connectToServerSocket(i):new Promise(function(u,s){var l=i.remote.providerOptions.provider?Bet:Let,c=new l(a.uppy,i.remote.providerOptions);c.post(i.remote.url,St(St({},i.remote.body),{},{endpoint:o.endpoint,uploadUrl:o.uploadUrl,protocol:"tus",size:i.data.size,headers:o.headers,metadata:i.meta})).then(function(f){return a.uppy.setFileState(i.id,{serverToken:f.token}),i=a.uppy.getFile(i.id),a.connectToServerSocket(i)}).then(function(){u()}).catch(function(f){a.uppy.emit("upload-error",i,f),s(f)})})}},{key:"connectToServerSocket",value:function(i){var a=this;return new Promise(function(o,u){var s=i.serverToken,l=$et(i.remote.companionUrl),c=new zet({target:"".concat(l,"/api/").concat(s),autoOpen:!1});a.uploaderSockets[i.id]=c,a.uploaderEvents[i.id]=new $X(a.uppy);var f;a.onFileRemove(i.id,function(){f.abort(),c.send("cancel",{}),a.resetUploaderReferences(i.id),o("upload ".concat(i.id," was removed"))}),a.onPause(i.id,function(p){p?(f.abort(),c.send("pause",{})):(f.abort(),f=a.requests.run(function(){return c.send("resume",{}),function(){}}))}),a.onPauseAll(i.id,function(){f.abort(),c.send("pause",{})}),a.onCancelAll(i.id,function(){f.abort(),c.send("cancel",{}),a.resetUploaderReferences(i.id),o("upload ".concat(i.id," was canceled"))}),a.onResumeAll(i.id,function(){f.abort(),i.error&&c.send("pause",{}),f=a.requests.run(function(){return c.send("resume",{}),function(){}})}),a.onRetry(i.id,function(){c.isOpen&&(c.send("pause",{}),c.send("resume",{}))}),a.onRetryAll(i.id,function(){c.isOpen&&(c.send("pause",{}),c.send("resume",{}))}),c.on("progress",function(p){return Het(a,p,i)}),c.on("error",function(p){var d=p.error.message,v=Object.assign(new Error(d),{cause:p.error});a.opts.useFastRemoteRetry?c.close():(a.resetUploaderReferences(i.id),a.uppy.setFileState(i.id,{serverToken:null})),a.uppy.emit("upload-error",i,v),f.done(),u(v)}),c.on("success",function(p){var d={uploadURL:p.url};a.uppy.emit("upload-success",i,d),a.resetUploaderReferences(i.id),f.done(),o()}),f=a.requests.run(function(){return c.open(),i.isPaused&&c.send("pause",{}),function(){}})})}},{key:"onReceiveUploadUrl",value:function(i,a){var o=this.uppy.getFile(i.id);!o||(!o.tus||o.tus.uploadUrl!==a)&&(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(o.id,{tus:St(St({},o.tus),{},{uploadUrl:a})}))}},{key:"onFileRemove",value:function(i,a){this.uploaderEvents[i].on("file-removed",function(o){i===o.id&&a(o.id)})}},{key:"onPause",value:function(i,a){this.uploaderEvents[i].on("upload-pause",function(o,u){i===o&&a(u)})}},{key:"onRetry",value:function(i,a){this.uploaderEvents[i].on("upload-retry",function(o){i===o&&a()})}},{key:"onRetryAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("retry-all",function(){!o.uppy.getFile(i)||a()})}},{key:"onPauseAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("pause-all",function(){!o.uppy.getFile(i)||a()})}},{key:"onCancelAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("cancel-all",function(){!o.uppy.getFile(i)||a()})}},{key:"onResumeAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("resume-all",function(){!o.uppy.getFile(i)||a()})}},{key:"uploadFiles",value:function(i){var a=this,o=i.map(function(u,s){var l=s+1,c=i.length;return"error"in u&&u.error?Promise.reject(new Error(u.error)):u.isRemote?((!u.progress.uploadStarted||!u.isRestored)&&a.uppy.emit("upload-started",u),a.uploadRemote(u,l,c)):((!u.progress.uploadStarted||!u.isRestored)&&a.uppy.emit("upload-started",u),a.upload(u,l,c))});return Wet(o)}},{key:"handleUpload",value:function(i){var a=this;if(i.length===0)return this.uppy.log("[Tus] No files to upload"),Promise.resolve();this.opts.limit===0&&this.uppy.log("[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0","warning"),this.uppy.log("[Tus] Uploading...");var o=i.map(function(u){return a.uppy.getFile(u)});return this.uploadFiles(o).then(function(){return null})}},{key:"install",value:function(){this.uppy.setState({capabilities:St(St({},this.uppy.getState().capabilities),{},{resumableUploads:!0})}),this.uppy.addUploader(this.handleUpload),this.uppy.on("reset-progress",this.handleResetProgress)}},{key:"uninstall",value:function(){this.uppy.setState({capabilities:St(St({},this.uppy.getState().capabilities),{},{resumableUploads:!1})}),this.uppy.removeUploader(this.handleUpload)}}]),r}(Met)),LX.VERSION="2.2.2",zX)});var vT=h(function(_yt,hT){typeof hT!="undefined"&&(hT.exports=Ar);function Ar(t){if(t)return Jet(t)}function Jet(t){for(var e in Ar.prototype)t[e]=Ar.prototype[e];return t}Ar.prototype.on=Ar.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Ar.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};Ar.prototype.off=Ar.prototype.removeListener=Ar.prototype.removeAllListeners=Ar.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Ar.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};Ar.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Ar.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var KX=h(function(wyt,GX){GX.exports=function(e){var r=/^\w+:\/\//.exec(e),n=0;r&&(n=r[0].length+1);var i=e.indexOf("/",n);return i===-1?{origin:e,pathname:"/"}:{origin:e.slice(0,i),pathname:e.slice(i)}}});var yT=h(function(Syt,YX){var Qet=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Zet=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];YX.exports=function(e){var r=e,n=e.indexOf("["),i=e.indexOf("]");n!=-1&&i!=-1&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));for(var a=Qet.exec(e||""),o={},u=14;u--;)o[Zet[u]]=a[u]||"";return n!=-1&&i!=-1&&(o.source=r,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=ett(o,o.path),o.queryKey=ttt(o,o.query),o};function ett(t,e){var r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&n.splice(0,1),e.substr(e.length-1,1)=="/"&&n.splice(n.length-1,1),n}function ttt(t,e){var r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}});var JX=h(function(Oyt,XX){function rb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rb=function(r){return typeof r}:rb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rb(t)}var rl=1e3,nl=rl*60,il=nl*60,au=il*24,rtt=au*7,ntt=au*365.25;XX.exports=function(t,e){e=e||{};var r=rb(t);if(r==="string"&&t.length>0)return itt(t);if(r==="number"&&isFinite(t))return e.long?ott(t):att(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function itt(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*ntt;case"weeks":case"week":case"w":return r*rtt;case"days":case"day":case"d":return r*au;case"hours":case"hour":case"hrs":case"hr":case"h":return r*il;case"minutes":case"minute":case"mins":case"min":case"m":return r*nl;case"seconds":case"second":case"secs":case"sec":case"s":return r*rl;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function att(t){var e=Math.abs(t);return e>=au?Math.round(t/au)+"d":e>=il?Math.round(t/il)+"h":e>=nl?Math.round(t/nl)+"m":e>=rl?Math.round(t/rl)+"s":t+"ms"}function ott(t){var e=Math.abs(t);return e>=au?nb(t,e,au,"day"):e>=il?nb(t,e,il,"hour"):e>=nl?nb(t,e,nl,"minute"):e>=rl?nb(t,e,rl,"second"):t+" ms"}function nb(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var eJ=h(function(Pyt,ZX){function QX(t){return ctt(t)||ltt(t)||stt(t)||utt()}function utt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function stt(t,e){if(!!t){if(typeof t=="string")return mT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mT(t,e)}}function ltt(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ctt(t){if(Array.isArray(t))return mT(t)}function mT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ftt(t){r.debug=r,r.default=r,r.coerce=s,r.disable=a,r.enable=i,r.enabled=o,r.humanize=JX(),r.destroy=l,Object.keys(t).forEach(function(c){r[c]=t[c]}),r.names=[],r.skips=[],r.formatters={};function e(c){for(var f=0,p=0;p<c.length;p++)f=(f<<5)-f+c.charCodeAt(p),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(c){var f,p=null,d,v;function g(){for(var m=arguments.length,_=new Array(m),S=0;S<m;S++)_[S]=arguments[S];if(!!g.enabled){var q=g,A=Number(new Date),D=A-(f||A);q.diff=D,q.prev=f,q.curr=A,f=A,_[0]=r.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");var F=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,function(Y,R){if(Y==="%%")return"%";F++;var j=r.formatters[R];if(typeof j=="function"){var Q=_[F];Y=j.call(q,Q),_.splice(F,1),F--}return Y}),r.formatArgs.call(q,_);var $=q.log||r.log;$.apply(q,_)}}return g.namespace=c,g.useColors=r.useColors(),g.color=r.selectColor(c),g.extend=n,g.destroy=r.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:function(){return p!==null?p:(d!==r.namespaces&&(d=r.namespaces,v=r.enabled(c)),v)},set:function(_){p=_}}),typeof r.init=="function"&&r.init(g),g}function n(c,f){var p=r(this.namespace+(typeof f=="undefined"?":":f)+c);return p.log=this.log,p}function i(c){r.save(c),r.namespaces=c,r.names=[],r.skips=[];var f,p=(typeof c=="string"?c:"").split(/[\s,]+/),d=p.length;for(f=0;f<d;f++)!p[f]||(c=p[f].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.substr(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function a(){var c=[].concat(QX(r.names.map(u)),QX(r.skips.map(u).map(function(f){return"-"+f}))).join(",");return r.enable(""),c}function o(c){if(c[c.length-1]==="*")return!0;var f,p;for(f=0,p=r.skips.length;f<p;f++)if(r.skips[f].test(c))return!1;for(f=0,p=r.names.length;f<p;f++)if(r.names[f].test(c))return!0;return!1}function u(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function s(c){return c instanceof Error?c.stack||c.message:c}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}ZX.exports=ftt});var Tn=h(function(Ir,ib){Ir.formatArgs=dtt;Ir.save=htt;Ir.load=vtt;Ir.useColors=ptt;Ir.storage=ytt();Ir.destroy=function(){var t=!1;return function(){t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}();Ir.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function ptt(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function dtt(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+ib.exports.humanize(this.diff),!!this.useColors){var e="color: "+this.color;t.splice(1,0,e,"color: inherit");var r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,function(i){i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}}Ir.log=console.debug||console.log||function(){};function htt(t){try{t?Ir.storage.setItem("debug",t):Ir.storage.removeItem("debug")}catch(e){}}function vtt(){var t;try{t=Ir.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function ytt(){try{return localStorage}catch(t){}}ib.exports=eJ()(Ir);var mtt=ib.exports.formatters;mtt.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var nJ=h(function(al){"use strict";var tJ=al&&al.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(al,"__esModule",{value:!0});al.url=void 0;var gtt=tJ(yT()),btt=tJ(Tn()),rJ=btt.default("socket.io-client:url");function _tt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=t;r=r||typeof location!="undefined"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(rJ("protocol-less url %s",t),typeof r!="undefined"?t=r.protocol+"//"+t:t="https://"+t),rJ("parse %s",t),n=gtt.default(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var i=n.host.indexOf(":")!==-1,a=i?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+e,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}al.url=_tt});var iJ=h(function(Ryt,gT){try{gT.exports=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(t){gT.exports=!1}});var xp=h(function(bT){"use strict";Object.defineProperty(bT,"__esModule",{value:!0});bT.default=function(){return typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")()}()});var oJ=h(function(Fp){"use strict";var aJ=Fp&&Fp.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fp,"__esModule",{value:!0});var wtt=aJ(iJ()),Stt=aJ(xp());function Ott(t){var e=t.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!e||wtt.default))return new XMLHttpRequest}catch(r){}if(!e)try{return new Stt.default[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(r){}}Fp.default=Ott});var ol=h(function($a){"use strict";var Ptt=$a&&$a.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($a,"__esModule",{value:!0});$a.installTimerFunctions=$a.pick=void 0;var ab=Ptt(xp());function qtt(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.reduce(function(i,a){return t.hasOwnProperty(a)&&(i[a]=t[a]),i},{})}$a.pick=qtt;var Rtt=setTimeout,Ett=clearTimeout;function Ttt(t,e){e.useNativeTimers?(t.setTimeoutFn=Rtt.bind(ab.default),t.clearTimeoutFn=Ett.bind(ab.default)):(t.setTimeoutFn=setTimeout.bind(ab.default),t.clearTimeoutFn=clearTimeout.bind(ab.default))}$a.installTimerFunctions=Ttt});var ou=h(function(uJ){uJ.Emitter=or;function or(t){if(t)return Att(t)}function Att(t){for(var e in or.prototype)t[e]=or.prototype[e];return t}or.prototype.on=or.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};or.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};or.prototype.off=or.prototype.removeListener=or.prototype.removeAllListeners=or.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};or.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};or.prototype.emitReserved=or.prototype.emit;or.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};or.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var _T=h(function(Wa){"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.ERROR_PACKET=Wa.PACKET_TYPES_REVERSE=Wa.PACKET_TYPES=void 0;var ni=Object.create(null);Wa.PACKET_TYPES=ni;ni.open="0";ni.close="1";ni.ping="2";ni.pong="3";ni.message="4";ni.upgrade="5";ni.noop="6";var sJ=Object.create(null);Wa.PACKET_TYPES_REVERSE=sJ;Object.keys(ni).forEach(function(t){sJ[ni[t]]=t});var Itt={type:"error",data:"parser error"};Wa.ERROR_PACKET=Itt});var cJ=h(function(wT){"use strict";Object.defineProperty(wT,"__esModule",{value:!0});var ktt=_T(),xtt=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Ftt=typeof ArrayBuffer=="function",Ctt=function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},Dtt=function(e,r,n){var i=e.type,a=e.data;return xtt&&a instanceof Blob?r?n(a):lJ(a,n):Ftt&&(a instanceof ArrayBuffer||Ctt(a))?r?n(a):lJ(new Blob([a]),n):n(ktt.PACKET_TYPES[i]+(a||""))},lJ=function(e,r){var n=new FileReader;return n.onload=function(){var i=n.result.split(",")[1];r("b"+i)},n.readAsDataURL(e)};wT.default=Dtt});var pJ=h(function(Cp,fJ){function ob(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ob=function(r){return typeof r}:ob=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ob(t)}(function(t,e){(typeof Cp=="undefined"?"undefined":ob(Cp))==="object"&&typeof fJ!="undefined"?e(Cp):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis!="undefined"?globalThis:t||self,e(t["base64-arraybuffer"]={}))})(Cp,function(t){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),n=0;n<e.length;n++)r[e.charCodeAt(n)]=n;var i=function(u){var s=new Uint8Array(u),l,c=s.length,f="";for(l=0;l<c;l+=3)f+=e[s[l]>>2],f+=e[(s[l]&3)<<4|s[l+1]>>4],f+=e[(s[l+1]&15)<<2|s[l+2]>>6],f+=e[s[l+2]&63];return c%3==2?f=f.substring(0,f.length-1)+"=":c%3==1&&(f=f.substring(0,f.length-2)+"=="),f},a=function(u){var s=u.length*.75,l=u.length,c,f=0,p,d,v,g;u[u.length-1]==="="&&(s--,u[u.length-2]==="="&&s--);var m=new ArrayBuffer(s),_=new Uint8Array(m);for(c=0;c<l;c+=4)p=r[u.charCodeAt(c)],d=r[u.charCodeAt(c+1)],v=r[u.charCodeAt(c+2)],g=r[u.charCodeAt(c+3)],_[f++]=p<<2|d>>4,_[f++]=(d&15)<<4|v>>2,_[f++]=(v&3)<<6|g&63;return m};t.decode=a,t.encode=i,Object.defineProperty(t,"__esModule",{value:!0})})});var hJ=h(function(ST){"use strict";Object.defineProperty(ST,"__esModule",{value:!0});var ub=_T(),Utt=pJ(),jtt=typeof ArrayBuffer=="function",Mtt=function(e,r){if(typeof e!="string")return{type:"message",data:dJ(e,r)};var n=e.charAt(0);if(n==="b")return{type:"message",data:Ntt(e.substring(1),r)};var i=ub.PACKET_TYPES_REVERSE[n];return i?e.length>1?{type:ub.PACKET_TYPES_REVERSE[n],data:e.substring(1)}:{type:ub.PACKET_TYPES_REVERSE[n]}:ub.ERROR_PACKET},Ntt=function(e,r){if(jtt){var n=(0,Utt.decode)(e);return dJ(n,r)}else return{base64:!0,data:e}},dJ=function(e,r){switch(r){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}};ST.default=Mtt});var Dp=h(function(Qr){"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.decodePayload=Qr.decodePacket=Qr.encodePayload=Qr.encodePacket=Qr.protocol=void 0;var vJ=cJ();Qr.encodePacket=vJ.default;var yJ=hJ();Qr.decodePacket=yJ.default;var mJ=String.fromCharCode(30),Btt=function(e,r){var n=e.length,i=new Array(n),a=0;e.forEach(function(o,u){(0,vJ.default)(o,!1,function(s){i[u]=s,++a===n&&r(i.join(mJ))})})};Qr.encodePayload=Btt;var Ltt=function(e,r){for(var n=e.split(mJ),i=[],a=0;a<n.length;a++){var o=(0,yJ.default)(n[a],r);if(i.push(o),o.type==="error")break}return i};Qr.decodePayload=Ltt;Qr.protocol=4});var lb=h(function(ul){"use strict";function sb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sb=function(r){return typeof r}:sb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sb(t)}function ztt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Htt(t,e,r){return e&&gJ(t.prototype,e),r&&gJ(t,r),t}function uu(){return typeof Reflect!="undefined"&&Reflect.get?uu=Reflect.get:uu=function(e,r,n){var i=$tt(e,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},uu.apply(this,arguments)}function $tt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ki(t),t!==null););return t}function Wtt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&OT(t,e)}function OT(t,e){return OT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},OT(t,e)}function Vtt(t){var e=Ktt();return function(){var n=Ki(t),i;if(e){var a=Ki(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Gtt(this,i)}}function Gtt(t,e){if(e&&(sb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bJ(t)}function bJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ktt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ki(t){return Ki=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ki(t)}var Ytt=ul&&ul.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ul,"__esModule",{value:!0});ul.Transport=void 0;var Xtt=Dp(),Jtt=ou(),Qtt=ol(),Ztt=Ytt(Tn()),ert=(0,Ztt.default)("engine.io-client:transport"),trt=function(t){Wtt(r,t);var e=Vtt(r);function r(n){var i;return ztt(this,r),i=e.call(this),i.writable=!1,(0,Qtt.installTimerFunctions)(bJ(i),n),i.opts=n,i.query=n.query,i.readyState="",i.socket=n.socket,i}return Htt(r,[{key:"onError",value:function(i,a){var o=new Error(i);return o.type="TransportError",o.description=a,uu(Ki(r.prototype),"emit",this).call(this,"error",o),this}},{key:"open",value:function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}},{key:"send",value:function(i){this.readyState==="open"?this.write(i):ert("transport is not open, discarding packets")}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,uu(Ki(r.prototype),"emit",this).call(this,"open")}},{key:"onData",value:function(i){var a=(0,Xtt.decodePacket)(i,this.socket.binaryType);this.onPacket(a)}},{key:"onPacket",value:function(i){uu(Ki(r.prototype),"emit",this).call(this,"packet",i)}},{key:"onClose",value:function(){this.readyState="closed",uu(Ki(r.prototype),"emit",this).call(this,"close")}}]),r}(Jtt.Emitter);ul.Transport=trt});var RT=h(function(Uyt,PJ){"use strict";var _J="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),cb=64,wJ={},SJ=0,Va=0,OJ;function PT(t){var e="";do e=_J[t%cb]+e,t=Math.floor(t/cb);while(t>0);return e}function rrt(t){var e=0;for(Va=0;Va<t.length;Va++)e=e*cb+wJ[t.charAt(Va)];return e}function qT(){var t=PT(+new Date);return t!==OJ?(SJ=0,OJ=t):t+"."+PT(SJ++)}for(;Va<cb;Va++)wJ[_J[Va]]=Va;qT.encode=PT;qT.decode=rrt;PJ.exports=qT});var fb=h(function(ET){ET.encode=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e};ET.decode=function(t){for(var e={},r=t.split("&"),n=0,i=r.length;n<i;n++){var a=r[n].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}});var EJ=h(function(sl){"use strict";function pb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pb=function(r){return typeof r}:pb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pb(t)}function nrt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function irt(t,e,r){return e&&qJ(t.prototype,e),r&&qJ(t,r),t}function art(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&TT(t,e)}function TT(t,e){return TT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},TT(t,e)}function ort(t){var e=lrt();return function(){var n=db(t),i;if(e){var a=db(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return urt(this,i)}}function urt(t,e){if(e&&(pb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return srt(t)}function srt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lrt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function db(t){return db=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},db(t)}var AT=sl&&sl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sl,"__esModule",{value:!0});sl.Polling=void 0;var crt=lb(),frt=AT(Tn()),prt=AT(RT()),drt=AT(fb()),RJ=Dp(),An=(0,frt.default)("engine.io-client:polling"),hrt=function(t){art(r,t);var e=ort(r);function r(){var n;return nrt(this,r),n=e.apply(this,arguments),n.polling=!1,n}return irt(r,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(i){var a=this;this.readyState="pausing";var o=function(){An("paused"),a.readyState="paused",i()};if(this.polling||!this.writable){var u=0;this.polling&&(An("we are currently polling - waiting to pause"),u++,this.once("pollComplete",function(){An("pre-pause polling complete"),--u||o()})),this.writable||(An("we are currently writing - waiting to pause"),u++,this.once("drain",function(){An("pre-pause writing complete"),--u||o()}))}else o()}},{key:"poll",value:function(){An("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}},{key:"onData",value:function(i){var a=this;An("polling got data %s",i);var o=function(s){if(a.readyState==="opening"&&s.type==="open"&&a.onOpen(),s.type==="close")return a.onClose(),!1;a.onPacket(s)};(0,RJ.decodePayload)(i,this.socket.binaryType).forEach(o),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():An('ignoring poll - transport state "%s"',this.readyState))}},{key:"doClose",value:function(){var i=this,a=function(){An("writing close packet"),i.write([{type:"close"}])};this.readyState==="open"?(An("transport open - closing"),a()):(An("transport not open - deferring close"),this.once("open",a))}},{key:"write",value:function(i){var a=this;this.writable=!1,(0,RJ.encodePayload)(i,function(o){a.doWrite(o,function(){a.writable=!0,a.emit("drain")})})}},{key:"uri",value:function(){var i=this.query||{},a=this.opts.secure?"https":"http",o="";this.opts.timestampRequests!==!1&&(i[this.opts.timestampParam]=(0,prt.default)()),!this.supportsBinary&&!i.sid&&(i.b64=1),this.opts.port&&(a==="https"&&Number(this.opts.port)!==443||a==="http"&&Number(this.opts.port)!==80)&&(o=":"+this.opts.port);var u=drt.default.encode(i),s=this.opts.hostname.indexOf(":")!==-1;return a+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+o+this.opts.path+(u.length?"?"+u:"")}}]),r}(crt.Transport);sl.Polling=hrt});var MJ=h(function(Ga){"use strict";function hb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hb=function(r){return typeof r}:hb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hb(t)}function TJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function IJ(t,e,r){return e&&AJ(t.prototype,e),r&&AJ(t,r),t}function kJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&IT(t,e)}function IT(t,e){return IT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},IT(t,e)}function xJ(t){var e=yrt();return function(){var n=vb(t),i;if(e){var a=vb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return vrt(this,i)}}function vrt(t,e){if(e&&(hb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FJ(t)}function FJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yrt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function vb(t){return vb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},vb(t)}var kT=Ga&&Ga.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.Request=Ga.XHR=void 0;var CJ=kT(oJ()),mrt=kT(Tn()),grt=kT(xp()),DJ=ol(),brt=ou(),_rt=EJ(),xT=(0,mrt.default)("engine.io-client:polling-xhr");function wrt(){}var Srt=function(){var t=new CJ.default({xdomain:!1});return t.responseType!=null}(),Ort=function(t){kJ(r,t);var e=xJ(r);function r(n){var i;if(TJ(this,r),i=e.call(this,n),typeof location!="undefined"){var a=location.protocol==="https:",o=location.port;o||(o=a?"443":"80"),i.xd=typeof location!="undefined"&&n.hostname!==location.hostname||o!==n.port,i.xs=n.secure!==a}var u=n&&n.forceBase64;return i.supportsBinary=Srt&&!u,i}return IJ(r,[{key:"request",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.assign(i,{xd:this.xd,xs:this.xs},this.opts),new su(this.uri(),i)}},{key:"doWrite",value:function(i,a){var o=this,u=this.request({method:"POST",data:i});u.on("success",a),u.on("error",function(s){o.onError("xhr post error",s)})}},{key:"doPoll",value:function(){var i=this;xT("xhr poll");var a=this.request();a.on("data",this.onData.bind(this)),a.on("error",function(o){i.onError("xhr poll error",o)}),this.pollXhr=a}}]),r}(_rt.Polling);Ga.XHR=Ort;var su=function(t){kJ(r,t);var e=xJ(r);function r(n,i){var a;return TJ(this,r),a=e.call(this),(0,DJ.installTimerFunctions)(FJ(a),i),a.opts=i,a.method=i.method||"GET",a.uri=n,a.async=i.async!==!1,a.data=i.data!==void 0?i.data:null,a.create(),a}return IJ(r,[{key:"create",value:function(){var i=this,a=(0,DJ.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");a.xdomain=!!this.opts.xd,a.xscheme=!!this.opts.xs;var o=this.xhr=new CJ.default(a);try{xT("xhr open %s: %s",this.method,this.uri),o.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(var u in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(u)&&o.setRequestHeader(u,this.opts.extraHeaders[u])}}catch(s){}if(this.method==="POST")try{o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}try{o.setRequestHeader("Accept","*/*")}catch(s){}"withCredentials"in o&&(o.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(o.timeout=this.opts.requestTimeout),o.onreadystatechange=function(){o.readyState===4&&(o.status===200||o.status===1223?i.onLoad():i.setTimeoutFn(function(){i.onError(typeof o.status=="number"?o.status:0)},0))},xT("xhr data %s",this.data),o.send(this.data)}catch(s){this.setTimeoutFn(function(){i.onError(s)},0);return}typeof document!="undefined"&&(this.index=r.requestsCount++,r.requests[this.index]=this)}},{key:"onSuccess",value:function(){this.emit("success"),this.cleanup()}},{key:"onData",value:function(i){this.emit("data",i),this.onSuccess()}},{key:"onError",value:function(i){this.emit("error",i),this.cleanup(!0)}},{key:"cleanup",value:function(i){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=wrt,i)try{this.xhr.abort()}catch(a){}typeof document!="undefined"&&delete r.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var i=this.xhr.responseText;i!==null&&this.onData(i)}},{key:"abort",value:function(){this.cleanup()}}]),r}(brt.Emitter);Ga.Request=su;su.requestsCount=0;su.requests={};typeof document!="undefined"&&(typeof attachEvent=="function"?attachEvent("onunload",jJ):typeof addEventListener=="function"&&(UJ="onpagehide"in grt.default?"pagehide":"unload",addEventListener(UJ,jJ,!1)));var UJ;function jJ(){for(var t in su.requests)su.requests.hasOwnProperty(t)&&su.requests[t].abort()}});var BJ=h(function(Zr){"use strict";var Prt=Zr&&Zr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.defaultBinaryType=Zr.usingBrowserWebSocket=Zr.WebSocket=Zr.nextTick=void 0;var NJ=Prt(xp());Zr.nextTick=function(){var t=typeof Promise=="function"&&typeof Promise.resolve=="function";return t?function(e){return Promise.resolve().then(e)}:function(e,r){return r(e,0)}}();Zr.WebSocket=NJ.default.WebSocket||NJ.default.MozWebSocket;Zr.usingBrowserWebSocket=!0;Zr.defaultBinaryType="arraybuffer"});var HJ=h(function(ll){"use strict";function yb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yb=function(r){return typeof r}:yb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},yb(t)}function qrt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Rrt(t,e,r){return e&&LJ(t.prototype,e),r&&LJ(t,r),t}function Ert(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FT(t,e)}function FT(t,e){return FT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},FT(t,e)}function Trt(t){var e=krt();return function(){var n=mb(t),i;if(e){var a=mb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Art(this,i)}}function Art(t,e){if(e&&(yb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Irt(t)}function Irt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function krt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function mb(t){return mb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},mb(t)}var CT=ll&&ll.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ll,"__esModule",{value:!0});ll.WS=void 0;var xrt=lb(),Frt=CT(fb()),Crt=CT(RT()),Drt=ol(),ii=BJ(),Urt=CT(Tn()),jrt=Dp(),Mrt=(0,Urt.default)("engine.io-client:websocket"),zJ=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Nrt=function(t){Ert(r,t);var e=Trt(r);function r(n){var i;return qrt(this,r),i=e.call(this,n),i.supportsBinary=!n.forceBase64,i}return Rrt(r,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(!!this.check()){var i=this.uri(),a=this.opts.protocols,o=zJ?{}:(0,Drt.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(o.headers=this.opts.extraHeaders);try{this.ws=ii.usingBrowserWebSocket&&!zJ?a?new ii.WebSocket(i,a):new ii.WebSocket(i):new ii.WebSocket(i,a,o)}catch(u){return this.emit("error",u)}this.ws.binaryType=this.socket.binaryType||ii.defaultBinaryType,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var i=this;this.ws.onopen=function(){i.opts.autoUnref&&i.ws._socket.unref(),i.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=function(a){return i.onData(a.data)},this.ws.onerror=function(a){return i.onError("websocket error",a)}}},{key:"write",value:function(i){var a=this;this.writable=!1;for(var o=function(l){var c=i[l],f=l===i.length-1;(0,jrt.encodePacket)(c,a.supportsBinary,function(p){var d={};if(!ii.usingBrowserWebSocket&&(c.options&&(d.compress=c.options.compress),a.opts.perMessageDeflate)){var v=typeof p=="string"?Buffer.byteLength(p):p.length;v<a.opts.perMessageDeflate.threshold&&(d.compress=!1)}try{ii.usingBrowserWebSocket?a.ws.send(p):a.ws.send(p,d)}catch(g){Mrt("websocket closed before onclose event")}f&&(0,ii.nextTick)(function(){a.writable=!0,a.emit("drain")},a.setTimeoutFn)})},u=0;u<i.length;u++)o(u)}},{key:"doClose",value:function(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var i=this.query||{},a=this.opts.secure?"wss":"ws",o="";this.opts.port&&(a==="wss"&&Number(this.opts.port)!==443||a==="ws"&&Number(this.opts.port)!==80)&&(o=":"+this.opts.port),this.opts.timestampRequests&&(i[this.opts.timestampParam]=(0,Crt.default)()),this.supportsBinary||(i.b64=1);var u=Frt.default.encode(i),s=this.opts.hostname.indexOf(":")!==-1;return a+"://"+(s?"["+this.opts.hostname+"]":this.opts.hostname)+o+this.opts.path+(u.length?"?"+u:"")}},{key:"check",value:function(){return!!ii.WebSocket&&!("__initialize"in ii.WebSocket&&this.name===r.prototype.name)}}]),r}(xrt.Transport);ll.WS=Nrt});var DT=h(function(gb){"use strict";Object.defineProperty(gb,"__esModule",{value:!0});gb.transports=void 0;var Brt=MJ(),Lrt=HJ();gb.transports={websocket:Lrt.WS,polling:Brt.XHR}});var YJ=h(function(cl){"use strict";function Up(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Up=function(r){return typeof r}:Up=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Up(t)}function zrt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $J(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Hrt(t,e,r){return e&&$J(t.prototype,e),r&&$J(t,r),t}function $rt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&UT(t,e)}function UT(t,e){return UT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},UT(t,e)}function Wrt(t){var e=Grt();return function(){var n=bb(t),i;if(e){var a=bb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Vrt(this,i)}}function Vrt(t,e){if(e&&(Up(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WJ(t)}function WJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Grt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function bb(t){return bb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},bb(t)}var jT=cl&&cl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cl,"__esModule",{value:!0});cl.Socket=void 0;var Krt=DT(),Yrt=ol(),Xrt=jT(fb()),VJ=jT(yT()),Jrt=jT(Tn()),Qrt=ou(),GJ=Dp(),ct=(0,Jrt.default)("engine.io-client:socket"),KJ=function(t){$rt(r,t);var e=Wrt(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return zrt(this,r),i=e.call(this),n&&Up(n)==="object"&&(a=n,n=null),n?(n=(0,VJ.default)(n),a.hostname=n.host,a.secure=n.protocol==="https"||n.protocol==="wss",a.port=n.port,n.query&&(a.query=n.query)):a.host&&(a.hostname=(0,VJ.default)(a.host).host),(0,Yrt.installTimerFunctions)(WJ(i),a),i.secure=a.secure!=null?a.secure:typeof location!="undefined"&&location.protocol==="https:",a.hostname&&!a.port&&(a.port=i.secure?"443":"80"),i.hostname=a.hostname||(typeof location!="undefined"?location.hostname:"localhost"),i.port=a.port||(typeof location!="undefined"&&location.port?location.port:i.secure?"443":"80"),i.transports=a.transports||["polling","websocket"],i.readyState="",i.writeBuffer=[],i.prevBufferLen=0,i.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},a),i.opts.path=i.opts.path.replace(/\/$/,"")+"/",typeof i.opts.query=="string"&&(i.opts.query=Xrt.default.decode(i.opts.query)),i.id=null,i.upgrades=null,i.pingInterval=null,i.pingTimeout=null,i.pingTimeoutTimer=null,typeof addEventListener=="function"&&(i.opts.closeOnBeforeunload&&addEventListener("beforeunload",function(){i.transport&&(i.transport.removeAllListeners(),i.transport.close())},!1),i.hostname!=="localhost"&&(i.offlineEventListener=function(){i.onClose("transport close")},addEventListener("offline",i.offlineEventListener,!1))),i.open(),i}return Hrt(r,[{key:"createTransport",value:function(i){ct('creating transport "%s"',i);var a=Zrt(this.opts.query);a.EIO=GJ.protocol,a.transport=i,this.id&&(a.sid=this.id);var o=Object.assign({},this.opts.transportOptions[i],this.opts,{query:a,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return ct("options: %j",o),new Krt.transports[i](o)}},{key:"open",value:function(){var i=this,a;if(this.opts.rememberUpgrade&&r.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)a="websocket";else if(this.transports.length===0){this.setTimeoutFn(function(){i.emitReserved("error","No transports available")},0);return}else a=this.transports[0];this.readyState="opening";try{a=this.createTransport(a)}catch(o){ct("error while creating transport: %s",o),this.transports.shift(),this.open();return}a.open(),this.setTransport(a)}},{key:"setTransport",value:function(i){var a=this;ct("setting transport %s",i.name),this.transport&&(ct("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=i,i.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",function(){a.onClose("transport close")})}},{key:"probe",value:function(i){var a=this;ct('probing transport "%s"',i);var o=this.createTransport(i),u=!1;r.priorWebsocketSuccess=!1;var s=function(){u||(ct('probe transport "%s" opened',i),o.send([{type:"ping",data:"probe"}]),o.once("packet",function(m){if(!u)if(m.type==="pong"&&m.data==="probe"){if(ct('probe transport "%s" pong',i),a.upgrading=!0,a.emitReserved("upgrading",o),!o)return;r.priorWebsocketSuccess=o.name==="websocket",ct('pausing current transport "%s"',a.transport.name),a.transport.pause(function(){u||a.readyState!=="closed"&&(ct("changing transport and sending upgrade packet"),v(),a.setTransport(o),o.send([{type:"upgrade"}]),a.emitReserved("upgrade",o),o=null,a.upgrading=!1,a.flush())})}else{ct('probe transport "%s" failed',i);var _=new Error("probe error");_.transport=o.name,a.emitReserved("upgradeError",_)}}))};function l(){u||(u=!0,v(),o.close(),o=null)}var c=function(m){var _=new Error("probe error: "+m);_.transport=o.name,l(),ct('probe transport "%s" failed because of error: %s',i,m),a.emitReserved("upgradeError",_)};function f(){c("transport closed")}function p(){c("socket closed")}function d(g){o&&g.name!==o.name&&(ct('"%s" works - aborting "%s"',g.name,o.name),l())}var v=function(){o.removeListener("open",s),o.removeListener("error",c),o.removeListener("close",f),a.off("close",p),a.off("upgrading",d)};o.once("open",s),o.once("error",c),o.once("close",f),this.once("close",p),this.once("upgrading",d),o.open()}},{key:"onOpen",value:function(){if(ct("socket open"),this.readyState="open",r.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){ct("starting upgrade probes");for(var i=0,a=this.upgrades.length;i<a;i++)this.probe(this.upgrades[i])}}},{key:"onPacket",value:function(i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(ct('socket receive: type "%s", data "%s"',i.type,i.data),this.emitReserved("packet",i),this.emitReserved("heartbeat"),i.type){case"open":this.onHandshake(JSON.parse(i.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var a=new Error("server error");a.code=i.data,this.onError(a);break;case"message":this.emitReserved("data",i.data),this.emitReserved("message",i.data);break}else ct('packet received with socket readyState "%s"',this.readyState)}},{key:"onHandshake",value:function(i){this.emitReserved("handshake",i),this.id=i.sid,this.transport.query.sid=i.sid,this.upgrades=this.filterUpgrades(i.upgrades),this.pingInterval=i.pingInterval,this.pingTimeout=i.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var i=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(function(){i.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(ct("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}},{key:"write",value:function(i,a,o){return this.sendPacket("message",i,a,o),this}},{key:"send",value:function(i,a,o){return this.sendPacket("message",i,a,o),this}},{key:"sendPacket",value:function(i,a,o,u){if(typeof a=="function"&&(u=a,a=void 0),typeof o=="function"&&(u=o,o=null),!(this.readyState==="closing"||this.readyState==="closed")){o=o||{},o.compress=o.compress!==!1;var s={type:i,data:a,options:o};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),u&&this.once("flush",u),this.flush()}}},{key:"close",value:function(){var i=this,a=function(){i.onClose("forced close"),ct("socket closing - telling transport to close"),i.transport.close()},o=function s(){i.off("upgrade",s),i.off("upgradeError",s),a()},u=function(){i.once("upgrade",o),i.once("upgradeError",o)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){i.upgrading?u():a()}):this.upgrading?u():a()),this}},{key:"onError",value:function(i){ct("socket error %j",i),r.priorWebsocketSuccess=!1,this.emitReserved("error",i),this.onClose("transport error",i)}},{key:"onClose",value:function(i,a){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(ct('socket close with reason: "%s"',i),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",i,a),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(i){for(var a=[],o=0,u=i.length;o<u;o++)~this.transports.indexOf(i[o])&&a.push(i[o]);return a}}]),r}(Qrt.Emitter);cl.Socket=KJ;KJ.protocol=GJ.protocol;function Zrt(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}});var JJ=h(function(en){"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.installTimerFunctions=en.transports=en.Transport=en.protocol=en.Socket=void 0;var XJ=YJ();Object.defineProperty(en,"Socket",{enumerable:!0,get:function(){return XJ.Socket}});en.protocol=XJ.Socket.protocol;var ent=lb();Object.defineProperty(en,"Transport",{enumerable:!0,get:function(){return ent.Transport}});var tnt=DT();Object.defineProperty(en,"transports",{enumerable:!0,get:function(){return tnt.transports}});var rnt=ol();Object.defineProperty(en,"installTimerFunctions",{enumerable:!0,get:function(){return rnt.installTimerFunctions}})});var MT=h(function(fl){"use strict";function _b(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_b=function(r){return typeof r}:_b=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_b(t)}Object.defineProperty(fl,"__esModule",{value:!0});fl.hasBinary=fl.isBinary=void 0;var nnt=typeof ArrayBuffer=="function",int=function(e){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer},QJ=Object.prototype.toString,ant=typeof Blob=="function"||typeof Blob!="undefined"&&QJ.call(Blob)==="[object BlobConstructor]",ont=typeof File=="function"||typeof File!="undefined"&&QJ.call(File)==="[object FileConstructor]";function ZJ(t){return nnt&&(t instanceof ArrayBuffer||int(t))||ant&&t instanceof Blob||ont&&t instanceof File}fl.isBinary=ZJ;function wb(t,e){if(!t||_b(t)!=="object")return!1;if(Array.isArray(t)){for(var r=0,n=t.length;r<n;r++)if(wb(t[r]))return!0;return!1}if(ZJ(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return wb(t.toJSON(),!0);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&wb(t[i]))return!0;return!1}fl.hasBinary=wb});var eQ=h(function(pl){"use strict";function jp(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jp=function(r){return typeof r}:jp=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jp(t)}Object.defineProperty(pl,"__esModule",{value:!0});pl.reconstructPacket=pl.deconstructPacket=void 0;var unt=MT();function snt(t){var e=[],r=t.data,n=t;return n.data=NT(r,e),n.attachments=e.length,{packet:n,buffers:e}}pl.deconstructPacket=snt;function NT(t,e){if(!t)return t;if(unt.isBinary(t)){var r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){for(var n=new Array(t.length),i=0;i<t.length;i++)n[i]=NT(t[i],e);return n}else if(jp(t)==="object"&&!(t instanceof Date)){var a={};for(var o in t)t.hasOwnProperty(o)&&(a[o]=NT(t[o],e));return a}return t}function lnt(t,e){return t.data=BT(t.data,e),t.attachments=void 0,t}pl.reconstructPacket=lnt;function BT(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=BT(t[r],e);else if(jp(t)==="object")for(var n in t)t.hasOwnProperty(n)&&(t[n]=BT(t[n],e));return t}});var Sb=h(function(In){"use strict";function dl(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dl=function(r){return typeof r}:dl=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dl(t)}function hl(){return typeof Reflect!="undefined"&&Reflect.get?hl=Reflect.get:hl=function(e,r,n){var i=cnt(e,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},hl.apply(this,arguments)}function cnt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=Ka(t),t!==null););return t}function fnt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LT(t,e)}function LT(t,e){return LT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},LT(t,e)}function pnt(t){var e=vnt();return function(){var n=Ka(t),i;if(e){var a=Ka(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return dnt(this,i)}}function dnt(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hnt(t)}function hnt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vnt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ka(t){return Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ka(t)}function zT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function HT(t,e,r){return e&&tQ(t.prototype,e),r&&tQ(t,r),t}Object.defineProperty(In,"__esModule",{value:!0});In.Decoder=In.Encoder=In.PacketType=In.protocol=void 0;var ynt=ou(),rQ=eQ(),nQ=MT(),mnt=Tn(),$T=mnt.default("socket.io-parser");In.protocol=5;var yt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(yt=In.PacketType||(In.PacketType={}));var gnt=function(){function t(){zT(this,t)}return HT(t,[{key:"encode",value:function(r){return $T("encoding packet %j",r),(r.type===yt.EVENT||r.type===yt.ACK)&&nQ.hasBinary(r)?(r.type=r.type===yt.EVENT?yt.BINARY_EVENT:yt.BINARY_ACK,this.encodeAsBinary(r)):[this.encodeAsString(r)]}},{key:"encodeAsString",value:function(r){var n=""+r.type;return(r.type===yt.BINARY_EVENT||r.type===yt.BINARY_ACK)&&(n+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(n+=r.nsp+","),r.id!=null&&(n+=r.id),r.data!=null&&(n+=JSON.stringify(r.data)),$T("encoded %j as %s",r,n),n}},{key:"encodeAsBinary",value:function(r){var n=rQ.deconstructPacket(r),i=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(i),a}}]),t}();In.Encoder=gnt;var bnt=function(t){fnt(r,t);var e=pnt(r);function r(){return zT(this,r),e.call(this)}return HT(r,[{key:"add",value:function(i){var a;if(typeof i=="string")a=this.decodeString(i),a.type===yt.BINARY_EVENT||a.type===yt.BINARY_ACK?(this.reconstructor=new wnt(a),a.attachments===0&&hl(Ka(r.prototype),"emitReserved",this).call(this,"decoded",a)):hl(Ka(r.prototype),"emitReserved",this).call(this,"decoded",a);else if(nQ.isBinary(i)||i.base64)if(this.reconstructor)a=this.reconstructor.takeBinaryData(i),a&&(this.reconstructor=null,hl(Ka(r.prototype),"emitReserved",this).call(this,"decoded",a));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+i)}},{key:"decodeString",value:function(i){var a=0,o={type:Number(i.charAt(0))};if(yt[o.type]===void 0)throw new Error("unknown packet type "+o.type);if(o.type===yt.BINARY_EVENT||o.type===yt.BINARY_ACK){for(var u=a+1;i.charAt(++a)!=="-"&&a!=i.length;);var s=i.substring(u,a);if(s!=Number(s)||i.charAt(a)!=="-")throw new Error("Illegal attachments");o.attachments=Number(s)}if(i.charAt(a+1)==="/"){for(var l=a+1;++a;){var c=i.charAt(a);if(c===","||a===i.length)break}o.nsp=i.substring(l,a)}else o.nsp="/";var f=i.charAt(a+1);if(f!==""&&Number(f)==f){for(var p=a+1;++a;){var d=i.charAt(a);if(d==null||Number(d)!=d){--a;break}if(a===i.length)break}o.id=Number(i.substring(p,a+1))}if(i.charAt(++a)){var v=_nt(i.substr(a));if(r.isPayloadValid(o.type,v))o.data=v;else throw new Error("invalid payload")}return $T("decoded %s as %j",i,o),o}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(i,a){switch(i){case yt.CONNECT:return dl(a)==="object";case yt.DISCONNECT:return a===void 0;case yt.CONNECT_ERROR:return typeof a=="string"||dl(a)==="object";case yt.EVENT:case yt.BINARY_EVENT:return Array.isArray(a)&&a.length>0;case yt.ACK:case yt.BINARY_ACK:return Array.isArray(a)}}}]),r}(ynt.Emitter);In.Decoder=bnt;function _nt(t){try{return JSON.parse(t)}catch(e){return!1}}var wnt=function(){function t(e){zT(this,t),this.packet=e,this.buffers=[],this.reconPack=e}return HT(t,[{key:"takeBinaryData",value:function(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){var n=rQ.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),t}()});var WT=h(function(Ob){"use strict";Object.defineProperty(Ob,"__esModule",{value:!0});Ob.on=void 0;function Snt(t,e,r){return t.on(e,r),function(){t.off(e,r)}}Ob.on=Snt});var GT=h(function(yl){"use strict";function Pb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pb=function(r){return typeof r}:Pb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Pb(t)}function Ont(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Pnt(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function Pnt(t,e){if(!!t){if(typeof t=="string")return iQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iQ(t,e)}}function iQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Rnt(t,e,r){return e&&aQ(t.prototype,e),r&&aQ(t,r),t}function qb(){return typeof Reflect!="undefined"&&Reflect.get?qb=Reflect.get:qb=function(e,r,n){var i=Ent(e,r);if(!!i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},qb.apply(this,arguments)}function Ent(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=vl(t),t!==null););return t}function Tnt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&VT(t,e)}function VT(t,e){return VT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},VT(t,e)}function Ant(t){var e=xnt();return function(){var n=vl(t),i;if(e){var a=vl(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Int(this,i)}}function Int(t,e){if(e&&(Pb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return knt(t)}function knt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xnt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function vl(t){return vl=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},vl(t)}var Fnt=yl&&yl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yl,"__esModule",{value:!0});yl.Socket=void 0;var tn=Sb(),Rb=WT(),Cnt=ou(),Dnt=Fnt(Tn()),vr=Dnt.default("socket.io-client:socket"),Unt=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),jnt=function(t){Tnt(r,t);var e=Ant(r);function r(n,i,a){var o;return qnt(this,r),o=e.call(this),o.connected=!1,o.disconnected=!0,o.receiveBuffer=[],o.sendBuffer=[],o.ids=0,o.acks={},o.flags={},o.io=n,o.nsp=i,a&&a.auth&&(o.auth=a.auth),o.io._autoConnect&&o.open(),o}return Rnt(r,[{key:"subEvents",value:function(){if(!this.subs){var i=this.io;this.subs=[Rb.on(i,"open",this.onopen.bind(this)),Rb.on(i,"packet",this.onpacket.bind(this)),Rb.on(i,"error",this.onerror.bind(this)),Rb.on(i,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return a.unshift("message"),this.emit.apply(this,a),this}},{key:"emit",value:function(i){if(Unt.hasOwnProperty(i))throw new Error('"'+i+'" is a reserved event name');for(var a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];o.unshift(i);var s={type:tn.PacketType.EVENT,data:o};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof o[o.length-1]=="function"){var l=this.ids++;vr("emitting packet with ack id %d",l);var c=o.pop();this._registerAckCallback(l,c),s.id=l}var f=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,p=this.flags.volatile&&(!f||!this.connected);return p?vr("discard packet as the transport is not currently writable"):this.connected?this.packet(s):this.sendBuffer.push(s),this.flags={},this}},{key:"_registerAckCallback",value:function(i,a){var o=this,u=this.flags.timeout;if(u===void 0){this.acks[i]=a;return}var s=this.io.setTimeoutFn(function(){delete o.acks[i];for(var l=0;l<o.sendBuffer.length;l++)o.sendBuffer[l].id===i&&(vr("removing packet with ack id %d from the buffer",i),o.sendBuffer.splice(l,1));vr("event with ack id %d has timed out after %d ms",i,u),a.call(o,new Error("operation has timed out"))},u);this.acks[i]=function(){o.io.clearTimeoutFn(s);for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];a.apply(o,[null].concat(c))}}},{key:"packet",value:function(i){i.nsp=this.nsp,this.io._packet(i)}},{key:"onopen",value:function(){var i=this;vr("transport is open - connecting"),typeof this.auth=="function"?this.auth(function(a){i.packet({type:tn.PacketType.CONNECT,data:a})}):this.packet({type:tn.PacketType.CONNECT,data:this.auth})}},{key:"onerror",value:function(i){this.connected||this.emitReserved("connect_error",i)}},{key:"onclose",value:function(i){vr("close (%s)",i),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",i)}},{key:"onpacket",value:function(i){var a=i.nsp===this.nsp;if(!!a)switch(i.type){case tn.PacketType.CONNECT:if(i.data&&i.data.sid){var o=i.data.sid;this.onconnect(o)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case tn.PacketType.EVENT:this.onevent(i);break;case tn.PacketType.BINARY_EVENT:this.onevent(i);break;case tn.PacketType.ACK:this.onack(i);break;case tn.PacketType.BINARY_ACK:this.onack(i);break;case tn.PacketType.DISCONNECT:this.ondisconnect();break;case tn.PacketType.CONNECT_ERROR:this.destroy();var u=new Error(i.data.message);u.data=i.data.data,this.emitReserved("connect_error",u);break}}},{key:"onevent",value:function(i){var a=i.data||[];vr("emitting event %j",a),i.id!=null&&(vr("attaching ack callback to event"),a.push(this.ack(i.id))),this.connected?this.emitEvent(a):this.receiveBuffer.push(Object.freeze(a))}},{key:"emitEvent",value:function(i){if(this._anyListeners&&this._anyListeners.length){var a=this._anyListeners.slice(),o=Ont(a),u;try{for(o.s();!(u=o.n()).done;){var s=u.value;s.apply(this,i)}}catch(l){o.e(l)}finally{o.f()}}qb(vl(r.prototype),"emit",this).apply(this,i)}},{key:"ack",value:function(i){var a=this,o=!1;return function(){if(!o){o=!0;for(var u=arguments.length,s=new Array(u),l=0;l<u;l++)s[l]=arguments[l];vr("sending ack %j",s),a.packet({type:tn.PacketType.ACK,id:i,data:s})}}}},{key:"onack",value:function(i){var a=this.acks[i.id];typeof a=="function"?(vr("calling ack %s with %j",i.id,i.data),a.apply(this,i.data),delete this.acks[i.id]):vr("bad ack %s",i.id)}},{key:"onconnect",value:function(i){vr("socket connected with id %s",i),this.id=i,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var i=this;this.receiveBuffer.forEach(function(a){return i.emitEvent(a)}),this.receiveBuffer=[],this.sendBuffer.forEach(function(a){return i.packet(a)}),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){vr("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach(function(i){return i()}),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&(vr("performing disconnect (%s)",this.nsp),this.packet({type:tn.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(i){return this.flags.compress=i,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(i){return this.flags.timeout=i,this}},{key:"onAny",value:function(i){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(i),this}},{key:"prependAny",value:function(i){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(i),this}},{key:"offAny",value:function(i){if(!this._anyListeners)return this;if(i){for(var a=this._anyListeners,o=0;o<a.length;o++)if(i===a[o])return a.splice(o,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}}]),r}(Cnt.Emitter);yl.Socket=jnt});var uQ=h(function(Xyt,oQ){oQ.exports=ml;function ml(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ml.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};ml.prototype.reset=function(){this.attempts=0};ml.prototype.setMin=function(t){this.ms=t};ml.prototype.setMax=function(t){this.max=t};ml.prototype.setJitter=function(t){this.jitter=t}});var pQ=h(function(rn){"use strict";function Mp(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mp=function(r){return typeof r}:Mp=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mp(t)}function Mnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Nnt(t,e,r){return e&&sQ(t.prototype,e),r&&sQ(t,r),t}function Bnt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&KT(t,e)}function KT(t,e){return KT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},KT(t,e)}function Lnt(t){var e=Hnt();return function(){var n=Eb(t),i;if(e){var a=Eb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return znt(this,i)}}function znt(t,e){if(e&&(Mp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lQ(t)}function lQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hnt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Eb(t){return Eb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(t)}var $nt=rn&&rn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Wnt=rn&&rn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Vnt=rn&&rn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$nt(e,t,r);return Wnt(e,t),e},cQ=rn&&rn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rn,"__esModule",{value:!0});rn.Manager=void 0;var fQ=JJ(),Gnt=GT(),Knt=Vnt(Sb()),lu=WT(),Ynt=cQ(uQ()),Xnt=ou(),Jnt=cQ(Tn()),Lt=Jnt.default("socket.io-client:manager"),Qnt=function(t){Bnt(r,t);var e=Lnt(r);function r(n,i){var a;Mnt(this,r);var o;a=e.call(this),a.nsps={},a.subs=[],n&&Mp(n)==="object"&&(i=n,n=void 0),i=i||{},i.path=i.path||"/socket.io",a.opts=i,fQ.installTimerFunctions(lQ(a),i),a.reconnection(i.reconnection!==!1),a.reconnectionAttempts(i.reconnectionAttempts||1/0),a.reconnectionDelay(i.reconnectionDelay||1e3),a.reconnectionDelayMax(i.reconnectionDelayMax||5e3),a.randomizationFactor((o=i.randomizationFactor)!==null&&o!==void 0?o:.5),a.backoff=new Ynt.default({min:a.reconnectionDelay(),max:a.reconnectionDelayMax(),jitter:a.randomizationFactor()}),a.timeout(i.timeout==null?2e4:i.timeout),a._readyState="closed",a.uri=n;var u=i.parser||Knt;return a.encoder=new u.Encoder,a.decoder=new u.Decoder,a._autoConnect=i.autoConnect!==!1,a._autoConnect&&a.open(),a}return Nnt(r,[{key:"reconnection",value:function(i){return arguments.length?(this._reconnection=!!i,this):this._reconnection}},{key:"reconnectionAttempts",value:function(i){return i===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=i,this)}},{key:"reconnectionDelay",value:function(i){var a;return i===void 0?this._reconnectionDelay:(this._reconnectionDelay=i,(a=this.backoff)===null||a===void 0||a.setMin(i),this)}},{key:"randomizationFactor",value:function(i){var a;return i===void 0?this._randomizationFactor:(this._randomizationFactor=i,(a=this.backoff)===null||a===void 0||a.setJitter(i),this)}},{key:"reconnectionDelayMax",value:function(i){var a;return i===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=i,(a=this.backoff)===null||a===void 0||a.setMax(i),this)}},{key:"timeout",value:function(i){return arguments.length?(this._timeout=i,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}},{key:"open",value:function(i){var a=this;if(Lt("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;Lt("opening %s",this.uri),this.engine=new fQ.Socket(this.uri,this.opts);var o=this.engine,u=this;this._readyState="opening",this.skipReconnect=!1;var s=lu.on(o,"open",function(){u.onopen(),i&&i()}),l=lu.on(o,"error",function(p){Lt("error"),u.cleanup(),u._readyState="closed",a.emitReserved("error",p),i?i(p):u.maybeReconnectOnOpen()});if(this._timeout!==!1){var c=this._timeout;Lt("connect attempt will timeout after %d",c),c===0&&s();var f=this.setTimeoutFn(function(){Lt("connect attempt timed out after %d",c),s(),o.close(),o.emit("error",new Error("timeout"))},c);this.opts.autoUnref&&f.unref(),this.subs.push(function(){clearTimeout(f)})}return this.subs.push(s),this.subs.push(l),this}},{key:"connect",value:function(i){return this.open(i)}},{key:"onopen",value:function(){Lt("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");var i=this.engine;this.subs.push(lu.on(i,"ping",this.onping.bind(this)),lu.on(i,"data",this.ondata.bind(this)),lu.on(i,"error",this.onerror.bind(this)),lu.on(i,"close",this.onclose.bind(this)),lu.on(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(i){this.decoder.add(i)}},{key:"ondecoded",value:function(i){this.emitReserved("packet",i)}},{key:"onerror",value:function(i){Lt("error",i),this.emitReserved("error",i)}},{key:"socket",value:function(i,a){var o=this.nsps[i];return o||(o=new Gnt.Socket(this,i,a),this.nsps[i]=o),o}},{key:"_destroy",value:function(i){for(var a=Object.keys(this.nsps),o=0,u=a;o<u.length;o++){var s=u[o],l=this.nsps[s];if(l.active){Lt("socket %s is still active, skipping close",s);return}}this._close()}},{key:"_packet",value:function(i){Lt("writing packet %j",i);for(var a=this.encoder.encode(i),o=0;o<a.length;o++)this.engine.write(a[o],i.options)}},{key:"cleanup",value:function(){Lt("cleanup"),this.subs.forEach(function(i){return i()}),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){Lt("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(i){Lt("closed due to %s",i),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",i),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var i=this;if(this._reconnecting||this.skipReconnect)return this;var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)Lt("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var o=this.backoff.duration();Lt("will wait %dms before reconnect attempt",o),this._reconnecting=!0;var u=this.setTimeoutFn(function(){a.skipReconnect||(Lt("attempting reconnect"),i.emitReserved("reconnect_attempt",a.backoff.attempts),!a.skipReconnect&&a.open(function(s){s?(Lt("reconnect attempt error"),a._reconnecting=!1,a.reconnect(),i.emitReserved("reconnect_error",s)):(Lt("reconnect success"),a.onreconnect())}))},o);this.opts.autoUnref&&u.unref(),this.subs.push(function(){clearTimeout(u)})}}},{key:"onreconnect",value:function(){var i=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",i)}}]),r}(Xnt.Emitter);rn.Manager=Qnt});var yQ=h(function(Yt,vQ){"use strict";function Tb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tb=function(r){return typeof r}:Tb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Tb(t)}var Znt=Yt&&Yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.default=Yt.connect=Yt.io=Yt.Socket=Yt.Manager=Yt.protocol=void 0;var eit=nJ(),Ab=pQ();Object.defineProperty(Yt,"Manager",{enumerable:!0,get:function(){return Ab.Manager}});var dQ=GT();Object.defineProperty(Yt,"Socket",{enumerable:!0,get:function(){return dQ.Socket}});var tit=Znt(Tn()),hQ=tit.default("socket.io-client"),Np={};function cu(t,e){Tb(t)==="object"&&(e=t,t=void 0),e=e||{};var r=eit.url(t,e.path||"/socket.io"),n=r.source,i=r.id,a=r.path,o=Np[i]&&a in Np[i].nsps,u=e.forceNew||e["force new connection"]||e.multiplex===!1||o,s;return u?(hQ("ignoring socket cache for %s",n),s=new Ab.Manager(n,e)):(Np[i]||(hQ("new io instance for %s",n),Np[i]=new Ab.Manager(n,e)),s=Np[i]),r.query&&!e.query&&(e.query=r.queryKey),s.socket(r.path,e)}Yt.io=cu;Yt.connect=cu;Yt.default=cu;Object.assign(cu,{Manager:Ab.Manager,Socket:dQ.Socket,io:cu,connect:cu});var rit=Sb();Object.defineProperty(Yt,"protocol",{enumerable:!0,get:function(){return rit.protocol}});vQ.exports=cu});var wQ=h(function(Qyt,_Q){function Ib(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ib=function(r){return typeof r}:Ib=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ib(t)}function mQ(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function nit(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){mQ(a,n,i,o,u,"next",s)}function u(s){mQ(a,n,i,o,u,"throw",s)}o(void 0)})}}function iit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ait(t,e,r){return e&&gQ(t.prototype,e),r&&gQ(t,r),t}function oit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&YT(t,e)}function YT(t,e){return YT=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},YT(t,e)}function uit(t){var e=lit();return function(){var n=kb(t),i;if(e){var a=kb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return sit(this,i)}}function sit(t,e){if(e&&(Ib(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fu(t)}function fu(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function kb(t){return kb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},kb(t)}function nn(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var cit=0;function gl(t){return"__private_"+cit+++"_"+t}var fit=vT(),pit=vs(),dit=_s(),hit=Yv(),vit=KX(),XT;function yit(){var t;return(t=XT)!=null||(XT=yQ()),XT}var mit="ASSEMBLY_UPLOADING",JT="ASSEMBLY_EXECUTING",QT="ASSEMBLY_COMPLETED",bQ=[mit,JT,QT];function xb(t,e){return bQ.indexOf(t)>=bQ.indexOf(e)}var ZT=gl("onFinished"),eA=gl("connectSocket"),Yi=gl("onError"),tA=gl("beginPolling"),Xi=gl("fetchStatus"),rA=gl("diffStatus"),git=function(t){oit(r,t);var e=uit(r);function r(n){var i;return iit(this,r),i=e.call(this),Object.defineProperty(fu(i),rA,{value:Pit}),Object.defineProperty(fu(i),Xi,{value:Oit}),Object.defineProperty(fu(i),tA,{value:Sit}),Object.defineProperty(fu(i),Yi,{value:wit}),Object.defineProperty(fu(i),eA,{value:_it}),Object.defineProperty(fu(i),ZT,{value:bit}),i.status=n,i.socket=null,i.pollInterval=null,i.closed=!1,i}return ait(r,[{key:"connect",value:function(){nn(this,eA)[eA](),nn(this,tA)[tA]()}},{key:"update",value:function(){return nn(this,Xi)[Xi]({diff:!0})}},{key:"updateStatus",value:function(i){nn(this,rA)[rA](this.status,i),this.status=i}},{key:"close",value:function(){this.closed=!0,this.socket&&(this.socket.disconnect(),this.socket=null),clearInterval(this.pollInterval),this.pollInterval=null}}]),r}(fit);function bit(){this.emit("finished"),this.close()}function _it(){var t=this,e=vit(this.status.websocket_url),r=yit().connect(e.origin,{transports:["websocket"],path:e.pathname});r.on("connect",function(){r.emit("assembly_connect",{id:t.status.assembly_id}),t.emit("connect")}),r.on("connect_error",function(){r.disconnect(),t.socket=null}),r.on("assembly_finished",function(){nn(t,ZT)[ZT]()}),r.on("assembly_upload_finished",function(n){t.emit("upload",n),t.status.uploads.push(n)}),r.on("assembly_uploading_finished",function(){t.emit("executing")}),r.on("assembly_upload_meta_data_extracted",function(){t.emit("metadata"),nn(t,Xi)[Xi]({diff:!1})}),r.on("assembly_result_finished",function(n,i){t.emit("result",n,i),t.status.results[n]||(t.status.results[n]=[]),t.status.results[n].push(i)}),r.on("assembly_error",function(n){nn(t,Yi)[Yi](n),nn(t,Xi)[Xi]({diff:!1})}),this.socket=r}function wit(t){this.emit("error",Object.assign(new Error(t.message),t)),this.close()}function Sit(){var t=this;this.pollInterval=setInterval(function(){(!t.socket||!t.socket.connected)&&nn(t,Xi)[Xi]()},2e3)}function Oit(t){return nA.apply(this,arguments)}function nA(){return nA=nit(regeneratorRuntime.mark(function t(e){var r,n,i,a,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(r=e===void 0?{}:e,n=r.diff,i=n===void 0?!0:n,!this.closed){s.next=3;break}return s.abrupt("return");case 3:return s.prev=3,s.next=6,hit(this.status.assembly_ssl_url);case 6:if(a=s.sent,!this.closed){s.next=9;break}return s.abrupt("return");case 9:if(a.status!==429){s.next=11;break}return s.abrupt("return");case 11:if(a.ok){s.next=14;break}return nn(this,Yi)[Yi](new dit(a.statusText)),s.abrupt("return");case 14:return s.next=16,a.json();case 16:if(o=s.sent,!this.closed){s.next=19;break}return s.abrupt("return");case 19:this.emit("status",o),i?this.updateStatus(o):this.status=o,s.next=26;break;case 23:s.prev=23,s.t0=s.catch(3),nn(this,Yi)[Yi](s.t0);case 26:case"end":return s.stop()}},t,this,[[3,23]])})),nA.apply(this,arguments)}function Pit(t,e){var r=this,n=t.ok,i=e.ok;if(e.error&&!t.error)return nn(this,Yi)[Yi](e);var a=xb(i,JT)&&!xb(n,JT);a&&this.emit("executing"),Object.keys(e.uploads).filter(function(o){return!pit(t.uploads,o)}).forEach(function(o){r.emit("upload",e.uploads[o])}),a&&this.emit("metadata"),Object.keys(e.results).forEach(function(o){var u=e.results[o],s=t.results[o];u.filter(function(l){return!s||!s.some(function(c){return c.id===l.id})}).forEach(function(l){r.emit("result",o,l)})}),xb(i,QT)&&!xb(n,QT)&&this.emit("finished")}_Q.exports=git});var RQ=h(function(Zyt,qQ){function qit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Rit(t,e,r){return e&&SQ(t.prototype,e),r&&SQ(t,r),t}var yr,an;function kn(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Eit=0;function OQ(t){return"__private_"+Eit+++"_"+t}var Tit=Yv(),PQ="/assemblies";function pu(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Tit.apply(void 0,e).then(function(n){if(n.status===429)return new Promise(function(a,o){setTimeout(function(){return pu.apply(void 0,e).then(a,o)},2e3)});if(!n.ok){var i=new Error(n.statusText);return i.statusCode=n.status,"".concat(e[0]).endsWith(PQ)?n.json().then(function(a){if(!a.error)throw i;var o=new Error(a.error);throw o.details=a.message,o.assembly=a,a.assembly_id&&(o.details+=" Assembly ID: ".concat(a.assembly_id)),o},function(a){throw a.cause=i,a}):Promise.reject(i)}return n.json()})}qQ.exports=(yr=OQ("headers"),an=OQ("reportError"),function(){function t(e){var r=this;qit(this,t),e===void 0&&(e={}),Object.defineProperty(this,yr,{writable:!0,value:{}}),Object.defineProperty(this,an,{writable:!0,value:function(i,a){if(r.opts.errorReporting===!1)throw i;var o={type:a.type};throw a.assembly&&(o.assembly=a.assembly.assembly_id,o.instance=a.assembly.instance),a.url&&(o.endpoint=a.url),r.submitError(i,o).catch(function(){}),i}}),this.opts=e,this.opts.client!=null&&(kn(this,yr)[yr]["Transloadit-Client"]=this.opts.client)}return Rit(t,[{key:"createAssembly",value:function(r){var n=this,i=r.params,a=r.fields,o=r.signature,u=r.expectedFiles,s=new FormData;s.append("params",typeof i=="string"?i:JSON.stringify(i)),o&&s.append("signature",o),Object.keys(a).forEach(function(c){s.append(c,a[c])}),s.append("num_expected_upload_files",u);var l=new URL(PQ,"".concat(this.opts.service)).href;return pu(l,{method:"post",headers:kn(this,yr)[yr],body:s}).catch(function(c){return kn(n,an)[an](c,{url:l,type:"API_ERROR"})})}},{key:"reserveFile",value:function(r,n){var i=this,a=encodeURIComponent(n.size),o="".concat(r.assembly_ssl_url,"/reserve_file?size=").concat(a);return pu(o,{method:"post",headers:kn(this,yr)[yr]}).catch(function(u){return kn(i,an)[an](u,{assembly:r,file:n,url:o,type:"API_ERROR"})})}},{key:"addFile",value:function(r,n){var i=this;if(!n.uploadURL)return Promise.reject(new Error("File does not have an `uploadURL`."));var a=encodeURIComponent(n.size),o=encodeURIComponent(n.uploadURL),u=encodeURIComponent(n.name),s="file",l="size=".concat(a,"&filename=").concat(u,"&fieldname=").concat(s,"&s3Url=").concat(o),c="".concat(r.assembly_ssl_url,"/add_file?").concat(l);return pu(c,{method:"post",headers:kn(this,yr)[yr]}).catch(function(f){return kn(i,an)[an](f,{assembly:r,file:n,url:c,type:"API_ERROR"})})}},{key:"cancelAssembly",value:function(r){var n=this,i=r.assembly_ssl_url;return pu(i,{method:"delete",headers:kn(this,yr)[yr]}).catch(function(a){return kn(n,an)[an](a,{url:i,type:"API_ERROR"})})}},{key:"getAssemblyStatus",value:function(r){var n=this;return pu(r,{headers:kn(this,yr)[yr]}).catch(function(i){return kn(n,an)[an](i,{url:r,type:"STATUS_ERROR"})})}},{key:"submitError",value:function(r,n){var i=n===void 0?{}:n,a=i.endpoint,o=i.instance,u=i.assembly,s=r.details?"".concat(r.message," (").concat(r.details,")"):r.message;return pu("https://transloaditstatus.com/client_error",{method:"post",body:JSON.stringify({endpoint:a,instance:o,assembly_id:u,agent:typeof navigator!="undefined"?navigator.userAgent:"",client:this.opts.client,error:s})})}}]),t}())});var kQ=h(function(emt,uA){function EQ(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function TQ(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){EQ(a,n,i,o,u,"next",s)}function u(s){EQ(a,n,i,o,u,"throw",s)}o(void 0)})}}function Ait(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Iit(t,e,r){return e&&AQ(t.prototype,e),r&&AQ(t,r),t}function kit(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=xit(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function xit(t,e){if(!!t){if(typeof t=="string")return IQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IQ(t,e)}}function IQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fit(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Cit=0;function Dit(t){return"__private_"+Cit+++"_"+t}var Uit=Uf();function iA(t){if(t==null)throw new Error("Transloadit: The `params` option is required.");if(typeof t=="string")try{t=JSON.parse(t)}catch(e){throw new Uit("Transloadit: The `params` option is a malformed JSON string.",{cause:e})}if(!t.auth||!t.auth.key)throw new Error("Transloadit: The `params.auth.key` option is required. You can find your Transloadit API key at https://transloadit.com/c/template-credentials")}function jit(t){var e=Object.create(null),r=kit(t),n;try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i.fileIDs,o=i.options,u=JSON.stringify(o);u in e?e[u].fileIDArrays.push(a):e[u]={options:o,fileIDArrays:[a]}}}catch(s){r.e(s)}finally{r.f()}return Object.values(e).map(function(s){var l=s.options,c=s.fileIDArrays;return{options:l,fileIDs:c.flat(1)}})}var aA=Dit("getAssemblyOptions"),Mit=function(){function t(e,r){Ait(this,t),Object.defineProperty(this,aA,{value:Nit}),this.files=e,this.opts=r}return Iit(t,[{key:"build",value:function(){var e=TQ(regeneratorRuntime.mark(function n(){var i=this,a,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(a=this.opts,!(this.files.length>0)){s.next=3;break}return s.abrupt("return",Promise.all(this.files.map(function(l){return Fit(i,aA)[aA](l)})).then(jit));case 3:if(!a.alwaysRunAssembly){s.next=9;break}return s.next=6,a.getAssemblyOptions(null,a);case 6:return o=s.sent,iA(o.params),s.abrupt("return",[{fileIDs:this.files.map(function(l){return l.id}),options:o}]);case 9:return s.abrupt("return",[]);case 10:case"end":return s.stop()}},n,this)}));function r(){return e.apply(this,arguments)}return r}()}]),t}();function Nit(t){return oA.apply(this,arguments)}function oA(){return oA=TQ(regeneratorRuntime.mark(function t(e){var r,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r=this.opts,a.next=3,r.getAssemblyOptions(e,r);case 3:return n=a.sent,Array.isArray(n.fields)?n.fields=Object.fromEntries(n.fields.map(function(o){return[o,e.meta[o]]})):n.fields==null&&(n.fields={}),iA(n.params),a.abrupt("return",{fileIDs:[e.id],options:n});case 7:case"end":return a.stop()}},t,this)})),oA.apply(this,arguments)}uA.exports=Mit;uA.exports.validateParams=iA});var FQ=h(function(tmt,xQ){function Fb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fb=function(r){return typeof r}:Fb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fb(t)}function Bit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sA(t,e)}function sA(t,e){return sA=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},sA(t,e)}function zit(t){var e=$it();return function(){var n=Cb(t),i;if(e){var a=Cb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Hit(this,i)}}function Hit(t,e){if(e&&(Fb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ce(t)}function Ce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $it(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Cb(t){return Cb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Cb(t)}function we(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Wit=0;function kr(t){return"__private_"+Wit+++"_"+t}var Vit=vT(),Bp=kr("assemblyIDs"),lA=kr("reject"),du=kr("remaining"),Lp=kr("resolve"),Je=kr("uppy"),Ji=kr("watching"),zp=kr("onAssemblyComplete"),Hp=kr("onAssemblyCancel"),hu=kr("onAssemblyError"),$p=kr("onImportError"),vu=kr("checkAllComplete"),cA=kr("removeListeners"),fA=kr("addListeners"),Git=function(t){Lit(r,t);var e=zit(r);function r(n,i){var a;return Bit(this,r),a=e.call(this),Object.defineProperty(Ce(a),fA,{value:Jit}),Object.defineProperty(Ce(a),cA,{value:Xit}),Object.defineProperty(Ce(a),vu,{value:Yit}),Object.defineProperty(Ce(a),Ji,{value:Kit}),Object.defineProperty(Ce(a),Bp,{writable:!0,value:void 0}),Object.defineProperty(Ce(a),lA,{writable:!0,value:void 0}),Object.defineProperty(Ce(a),du,{writable:!0,value:void 0}),Object.defineProperty(Ce(a),Lp,{writable:!0,value:void 0}),Object.defineProperty(Ce(a),Je,{writable:!0,value:void 0}),Object.defineProperty(Ce(a),zp,{writable:!0,value:function(u){!we(Ce(a),Ji)[Ji](u.assembly_id)||(we(Ce(a),Je)[Je].log("[Transloadit] AssemblyWatcher: Got Assembly finish ".concat(u.assembly_id)),a.emit("assembly-complete",u.assembly_id),we(Ce(a),vu)[vu]())}}),Object.defineProperty(Ce(a),Hp,{writable:!0,value:function(u){!we(Ce(a),Ji)[Ji](u.assembly_id)||we(Ce(a),vu)[vu]()}}),Object.defineProperty(Ce(a),hu,{writable:!0,value:function(u,s){!we(Ce(a),Ji)[Ji](u.assembly_id)||(we(Ce(a),Je)[Je].log("[Transloadit] AssemblyWatcher: Got Assembly error ".concat(u.assembly_id)),we(Ce(a),Je)[Je].log(s),a.emit("assembly-error",u.assembly_id,s),we(Ce(a),vu)[vu]())}}),Object.defineProperty(Ce(a),$p,{writable:!0,value:function(u,s,l){!we(Ce(a),Ji)[Ji](u.assembly_id)||we(Ce(a),hu)[hu](u,l)}}),we(Ce(a),Je)[Je]=n,we(Ce(a),Bp)[Bp]=i,we(Ce(a),du)[du]=i.length,a.promise=new Promise(function(o,u){we(Ce(a),Lp)[Lp]=o,we(Ce(a),lA)[lA]=u}),we(Ce(a),fA)[fA](),a}return r}(Vit);function Kit(t){return we(this,Bp)[Bp].indexOf(t)!==-1}function Yit(){we(this,du)[du]-=1,we(this,du)[du]===0&&(we(this,cA)[cA](),we(this,Lp)[Lp]())}function Xit(){we(this,Je)[Je].off("transloadit:complete",we(this,zp)[zp]),we(this,Je)[Je].off("transloadit:assembly-cancel",we(this,Hp)[Hp]),we(this,Je)[Je].off("transloadit:assembly-error",we(this,hu)[hu]),we(this,Je)[Je].off("transloadit:import-error",we(this,$p)[$p])}function Jit(){we(this,Je)[Je].on("transloadit:complete",we(this,zp)[zp]),we(this,Je)[Je].on("transloadit:assembly-cancel",we(this,Hp)[Hp]),we(this,Je)[Je].on("transloadit:assembly-error",we(this,hu)[hu]),we(this,Je)[Je].on("transloadit:import-error",we(this,$p)[$p])}xQ.exports=Git});var DQ=h(function(rmt,CQ){CQ.exports={strings:{creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",encoding:"Encoding..."}}});var GQ=h(function(nmt,Yb){function Db(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Db=function(r){return typeof r}:Db=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Db(t)}function UQ(t){return eat(t)||Zit(t)||pA(t)||Qit()}function Qit(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Zit(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eat(t){if(Array.isArray(t))return dA(t)}function jQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ze(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jQ(Object(r),!0).forEach(function(n){Ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MQ(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function NQ(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){MQ(a,n,i,o,u,"next",s)}function u(s){MQ(a,n,i,o,u,"throw",s)}o(void 0)})}}function tat(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=pA(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function rat(t,e){return aat(t)||iat(t,e)||pA(t,e)||nat()}function nat(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pA(t,e){if(!!t){if(typeof t=="string")return dA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dA(t,e)}}function dA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iat(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,u;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(s){a=!0,u=s}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}return n}}function aat(t){if(Array.isArray(t))return t}function Ya(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function uat(t,e,r){return e&&BQ(t.prototype,e),r&&BQ(t,r),t}function sat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hA(t,e)}function hA(t,e){return hA=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},hA(t,e)}function lat(t){var e=fat();return function(){var n=Ub(t),i;if(e){var a=Ub(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return cat(this,i)}}function cat(t,e){if(e&&(Db(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ae(t)}function Ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fat(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ub(t){return Ub=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ub(t)}var LQ,jb,Mb,Nb,bl,Bb,Lb,_l,wl,zb,Hb,Sl,$b,Wb,Vb,Gb,Ol,Pl,Xa,ql,Rl,Kb,zQ;function De(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var pat=0;function ft(t){return"__private_"+pat+++"_"+t}var dat=vs(),HQ=Uf(),hat=bn(),$Q=dT(),WQ=wQ(),vat=RQ(),vA=kQ(),yat=FQ(),mat=DQ();function gat(t,e){return{params:e.params,signature:e.signature,fields:e.fields}}var VQ=function(e){return function(r){var n=new HQ("Failed to send error to the client",{cause:r});console.error(n,e)}},bat="https://api2.transloadit.com/companion",_at=/\.transloadit\.com$/,wat=/https?:\/\/api2(?:-\w+)?\.transloadit\.com\/companion/;Yb.exports=(zQ=(jb=ft("getClientVersion"),Mb=ft("attachAssemblyMetadata"),Nb=ft("createAssembly"),bl=ft("createAssemblyWatcher"),Bb=ft("shouldWaitAfterUpload"),Lb=ft("reserveFiles"),_l=ft("onFileUploadURLAvailable"),wl=ft("findFile"),zb=ft("onFileUploadComplete"),Hb=ft("onResult"),Sl=ft("onAssemblyFinished"),$b=ft("cancelAssembly"),Wb=ft("onCancelAll"),Vb=ft("getPersistentData"),Gb=ft("onRestored"),Ol=ft("connectAssembly"),Pl=ft("prepareUpload"),Xa=ft("afterUpload"),ql=ft("closeAssemblyIfExists"),Rl=ft("onError"),Kb=ft("onTusError"),LQ=function(t){sat(r,t);var e=lat(r);function r(n,i){var a;oat(this,r);var o;a=e.call(this,n,i),o=Ae(a),Object.defineProperty(Ae(a),Ol,{value:Fat}),Object.defineProperty(Ae(a),$b,{value:xat}),Object.defineProperty(Ae(a),Sl,{value:kat}),Object.defineProperty(Ae(a),Hb,{value:Iat}),Object.defineProperty(Ae(a),zb,{value:Aat}),Object.defineProperty(Ae(a),wl,{value:Tat}),Object.defineProperty(Ae(a),Lb,{value:Eat}),Object.defineProperty(Ae(a),Bb,{value:Rat}),Object.defineProperty(Ae(a),bl,{value:qat}),Object.defineProperty(Ae(a),Nb,{value:Pat}),Object.defineProperty(Ae(a),Mb,{value:Oat}),Object.defineProperty(Ae(a),jb,{value:Sat}),Object.defineProperty(Ae(a),_l,{writable:!0,value:function(c){var f=a.uppy.getFile(c.id);if(!(!f||!f.transloadit||!f.transloadit.assembly)){var p=a.getPluginState(),d=p.assemblies,v=d[f.transloadit.assembly];a.client.addFile(v,f).catch(function(g){a.uppy.log(g),a.uppy.emit("transloadit:import-error",v,f.id,g)})}}}),Object.defineProperty(Ae(a),Wb,{writable:!0,value:function(){var c=a.getPluginState(),f=c.uploadsAssemblies,p=Object.values(f).flat(1),d=p.map(function(v){var g=a.getAssembly(v);return De(Ae(a),$b)[$b](g)});Promise.all(d).catch(function(v){a.uppy.log(v)})}}),Object.defineProperty(Ae(a),Vb,{writable:!0,value:function(c){var f=a.getPluginState(),p=f.assemblies,d=f.uploadsAssemblies;c(Ya({},a.id,{assemblies:p,uploadsAssemblies:d}))}}),Object.defineProperty(Ae(a),Gb,{writable:!0,value:function(c){var f=c&&c[a.id]?c[a.id]:{},p=f.assemblies||{},d=f.uploadsAssemblies||{};if(Object.keys(d).length!==0){var v=function(S){for(var q={},A=[],D=function(){var R=rat($[F],2),j=R[0],Q=R[1];Q.uploads.forEach(function(T){var I=De(Ae(a),wl)[wl](T);q[T.id]={id:I.id,assembly:j,uploadedFile:T}});var G=a.getPluginState();Object.keys(Q.results).forEach(function(T){var I=tat(Q.results[T]),L;try{for(I.s();!(L=I.n()).done;){var C=L.value,U=G.files[C.original_id];C.localId=U?U.id:null,A.push({id:C.id,result:C,stepName:T,assembly:j})}}catch(B){I.e(B)}finally{I.f()}})},F=0,$=Object.entries(S);F<$.length;F++)D();a.setPluginState({assemblies:S,files:q,results:A,uploadsAssemblies:d})},g=function(){var S=a.getPluginState(),q=S.assemblies,A=S.uploadsAssemblies;Object.keys(A).forEach(function(F){var $=A[F],Y=$.flatMap(function(R){return a.getAssemblyFiles(R).map(function(j){return j.id})});De(Ae(a),bl)[bl]($,Y,F)});var D=Object.keys(q);D.forEach(function(F){var $=new WQ(q[F]);De(Ae(a),Ol)[Ol]($)})},m=function(){var S=a.getPluginState(),q=S.assemblies;return Promise.all(Object.keys(q).map(function(A){return a.activeAssemblies[A].update()}))};a.restored=Promise.resolve().then(function(){return v(p),g(),m()}),a.restored.then(function(){a.restored=null})}}}),Object.defineProperty(Ae(a),Pl,{writable:!0,value:function(c,f){var p=c.filter(function(S){return!S.error}),d=p.map(function(S){var q=a.uppy.getFile(S);return a.uppy.emit("preprocess-progress",q,{mode:"indeterminate",message:a.i18n("creatingAssembly")}),q}),v=function(){var S=NQ(regeneratorRuntime.mark(function q(A){var D,F,$;return regeneratorRuntime.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return D=A.fileIDs,F=A.options,R.prev=1,R.next=4,De(Ae(a),Nb)[Nb](D,f,F);case 4:if($=R.sent,!a.opts.importFromUploadURLs){R.next=8;break}return R.next=8,De(Ae(a),Lb)[Lb]($,D);case 8:return D.forEach(function(j){var Q=a.uppy.getFile(j);a.uppy.emit("preprocess-complete",Q)}),R.abrupt("return",$);case 12:throw R.prev=12,R.t0=R.catch(1),D.forEach(function(j){var Q=a.uppy.getFile(j);a.uppy.emit("preprocess-complete",Q),a.uppy.emit("upload-error",Q,R.t0)}),R.t0;case 16:case"end":return R.stop()}},q,null,[[1,12]])}));return function(A){return S.apply(this,arguments)}}(),g=a.getPluginState(),m=g.uploadsAssemblies;a.setPluginState({uploadsAssemblies:ze(ze({},m),{},Ya({},f,[]))});var _=new vA(d,a.opts);return _.build().then(function(S){return Promise.all(S.map(v))}).then(function(S){var q=S.map(function(A){return A.status.assembly_id});return De(Ae(a),bl)[bl](q,p,f),Promise.all(S.map(function(A){return De(Ae(a),Ol)[Ol](A)}))}).catch(function(S){throw d.forEach(function(q){a.uppy.emit("preprocess-complete",q),a.uppy.emit("upload-error",q,S)}),S})}}),Object.defineProperty(Ae(a),Xa,{writable:!0,value:function(c,f){var p=c.map(function(A){return a.uppy.getFile(A)}),d=p.filter(function(A){return!A.error}).map(function(A){return A.id}),v=a.getPluginState();if(a.restored)return a.restored.then(function(){return De(Ae(a),Xa)[Xa](d,f)});var g=v.uploadsAssemblies[f],m=function(){g.forEach(function(D){var F=a.activeAssemblies[D];F.close(),delete a.activeAssemblies[D]})};if(!De(Ae(a),Bb)[Bb]()){m();var _=g.map(function(A){return a.getAssembly(A)});return a.uppy.addResultData(f,{transloadit:_}),Promise.resolve()}if(g.length===0)return a.uppy.addResultData(f,{transloadit:[]}),Promise.resolve();var S=p.filter(function(A){return!dat(a.completedFiles,A.id)});S.forEach(function(A){a.uppy.emit("postprocess-progress",A,{mode:"indeterminate",message:a.i18n("encoding")})});var q=a.assemblyWatchers[f];return q.promise.then(function(){m();var A=g.map(function(F){return a.getAssembly(F)}),D=ze({},a.getPluginState().uploadsAssemblies);delete D[f],a.setPluginState({uploadsAssemblies:D}),a.uppy.addResultData(f,{transloadit:A})})}}),Object.defineProperty(Ae(a),ql,{writable:!0,value:function(c){var f;(f=a.activeAssemblies[c])==null||f.close()}}),Object.defineProperty(Ae(a),Rl,{writable:!0,value:function(c,f){c===void 0&&(c=null);var p=o.getPluginState(),d=p.uploadsAssemblies[f];d==null||d.forEach(De(o,ql)[ql]),o.client.submitError(c).catch(VQ(c))}}),Object.defineProperty(Ae(a),Kb,{writable:!0,value:function(c,f){var p,d;if(De(Ae(a),ql)[ql]((p=c.transloadit)==null?void 0:p.assembly),f!=null&&(d=f.message)!=null&&d.startsWith("tus: ")){var v,g,m=(v=f.originalRequest)==null||(g=v.getUnderlyingObject())==null?void 0:g.responseURL;a.client.submitError(f,{endpoint:m,type:"TUS_ERROR"}).catch(VQ(f))}}}),a.type="uploader",a.id=a.opts.id||"Transloadit",a.title="Transloadit",a.defaultLocale=mat;var u={service:"https://api2.transloadit.com",errorReporting:!0,waitForEncoding:!1,waitForMetadata:!1,alwaysRunAssembly:!1,importFromUploadURLs:!1,signature:null,params:null,fields:{},getAssemblyOptions:gat,limit:20,retryDelays:[7e3,1e4,15e3,2e4]};a.opts=ze(ze({},u),i),a.i18nInit();var s=a.opts.getAssemblyOptions!==u.getAssemblyOptions;return a.opts.params?vA.validateParams(a.opts.params):s||vA.validateParams(null),a.client=new vat({service:a.opts.service,client:De(Ae(a),jb)[jb](),errorReporting:a.opts.errorReporting}),a.activeAssemblies={},a.assemblyWatchers={},a.completedFiles=Object.create(null),a}return uat(r,[{key:"install",value:function(){this.uppy.addPreProcessor(De(this,Pl)[Pl]),this.uppy.addPostProcessor(De(this,Xa)[Xa]),this.uppy.on("error",De(this,Rl)[Rl]),this.uppy.on("cancel-all",De(this,Wb)[Wb]),this.uppy.on("upload-error",De(this,Kb)[Kb]),this.opts.importFromUploadURLs?this.uppy.on("upload-success",De(this,_l)[_l]):this.uppy.use($Q,{storeFingerprintForResuming:!1,useFastRemoteRetry:!1,metaFields:["assembly_url","filename","fieldname"],limit:this.opts.limit,retryDelays:this.opts.retryDelays}),this.uppy.on("restore:get-data",De(this,Vb)[Vb]),this.uppy.on("restored",De(this,Gb)[Gb]),this.setPluginState({assemblies:{},uploadsAssemblies:{},files:{},results:[]});var i=this.uppy.getState(),a=i.capabilities;this.uppy.setState({capabilities:ze(ze({},a),{},{individualCancellation:!1})})}},{key:"uninstall",value:function(){this.uppy.removePreProcessor(De(this,Pl)[Pl]),this.uppy.removePostProcessor(De(this,Xa)[Xa]),this.uppy.off("error",De(this,Rl)[Rl]),this.opts.importFromUploadURLs&&this.uppy.off("upload-success",De(this,_l)[_l]);var i=this.uppy.getState(),a=i.capabilities;this.uppy.setState({capabilities:ze(ze({},a),{},{individualCancellation:!0})})}},{key:"getAssembly",value:function(i){var a=this.getPluginState(),o=a.assemblies;return o[i]}},{key:"getAssemblyFiles",value:function(i){return this.uppy.getFiles().filter(function(a){return a&&a.transloadit&&a.transloadit.assembly===i})}}]),r}(hat)),LQ.VERSION="2.1.5",zQ);function Sat(){var t=this,e=["uppy-core:".concat(this.uppy.constructor.VERSION),"uppy-transloadit:".concat(this.constructor.VERSION),"uppy-tus:".concat($Q.VERSION)],r=function(i,a){var o=t.uppy.getPlugin(i);o&&e.push("".concat(a,":").concat(o.constructor.VERSION))};return this.opts.importFromUploadURLs&&(r("XHRUpload","uppy-xhr-upload"),r("AwsS3","uppy-aws-s3"),r("AwsS3Multipart","uppy-aws-s3-multipart")),r("Dropbox","uppy-dropbox"),r("Box","uppy-box"),r("Facebook","uppy-facebook"),r("GoogleDrive","uppy-google-drive"),r("Instagram","uppy-instagram"),r("OneDrive","uppy-onedrive"),r("Zoom","uppy-zoom"),r("Url","uppy-url"),e.join(",")}function Oat(t,e){var r=ze(ze({},t.meta),{},{assembly_url:e.assembly_url,filename:t.name,fieldname:"file"}),n=ze(ze({},t.tus),{},{endpoint:e.tus_url,addRequestId:!0}),i=t.remote;if(t.remote&&wat.test(t.remote.companionUrl)){var a=e.companion_url.replace(/\/$/,""),o=t.remote.url.replace(t.remote.companionUrl,"").replace(/^\//,"");i=ze(ze({},t.remote),{},{companionUrl:a,url:"".concat(a,"/").concat(o)})}var u=ze(ze({},t),{},{transloadit:{assembly:e.assembly_id}});return this.opts.importFromUploadURLs||Object.assign(u,{meta:r,tus:n,remote:i}),u}function Pat(t,e,r){var n=this;return this.uppy.log("[Transloadit] Create Assembly"),this.client.createAssembly({params:r.params,fields:r.fields,expectedFiles:t.length,signature:r.signature}).then(function(i){var a=new WQ(i),o=a.status,u=o.assembly_id,s=n.getPluginState(),l=s.assemblies,c=s.uploadsAssemblies;n.setPluginState({assemblies:ze(ze({},l),{},Ya({},u,o)),uploadsAssemblies:ze(ze({},c),{},Ya({},e,[].concat(UQ(c[e]),[u])))});var f=n.uppy.getState(),p=f.files,d={};t.forEach(function(g){d[g]=De(n,Mb)[Mb](n.uppy.getFile(g),o)}),n.uppy.setState({files:ze(ze({},p),d)});var v=function g(m,_){_==="cancel-all"?(a.close(),n.uppy.off(g)):m.id in d&&(delete d[m.id],Object.keys(d).length===0&&(a.close(),n.uppy.off(g)))};return n.uppy.on("file-removed",v),n.uppy.emit("transloadit:assembly-created",o,t),n.uppy.log("[Transloadit] Created Assembly ".concat(u)),a}).catch(function(i){throw new HQ("".concat(n.i18n("creatingAssemblyFailed"),": ").concat(i.message),{cause:i})})}function qat(t,e,r){var n=this,i=new yat(this.uppy,t);i.on("assembly-complete",function(a){var o=n.getAssemblyFiles(a);o.forEach(function(u){n.completedFiles[u.id]=!0,n.uppy.emit("postprocess-complete",u)})}),i.on("assembly-error",function(a,o){var u=n.getAssemblyFiles(a);u.forEach(function(s){n.uppy.emit("upload-error",s,o),n.uppy.emit("postprocess-complete",s)})}),this.assemblyWatchers[r]=i}function Rat(){return this.opts.waitForEncoding||this.opts.waitForMetadata}function Eat(t,e){var r=this;return Promise.all(e.map(function(n){var i=r.uppy.getFile(n);return r.client.reserveFile(t.status,i)}))}function Tat(t){for(var e=this.uppy.getFiles(),r=0;r<e.length;r++){var n=e[r];if(n.uploadURL===t.tus_upload_url||n.tus&&n.tus.uploadUrl===t.tus_upload_url||!t.is_tus_file&&n.name===t.name&&n.size===t.size)return n}}function Aat(t,e){var r=this.getPluginState(),n=De(this,wl)[wl](e);if(!n){this.uppy.log("[Transloadit] Couldn\u2019t file the file, it was likely removed in the process");return}this.setPluginState({files:ze(ze({},r.files),{},Ya({},e.id,{assembly:t,id:n.id,uploadedFile:e}))}),this.uppy.emit("transloadit:upload",e,this.getAssembly(t))}function Iat(t,e,r){var n=this.getPluginState(),i=n.files[r.original_id];r.localId=i?i.id:null;var a={result:r,stepName:e,id:r.id,assembly:t};this.setPluginState({results:[].concat(UQ(n.results),[a])}),this.uppy.emit("transloadit:result",e,r,this.getAssembly(t))}function kat(t){var e=this,r=t.assembly_ssl_url;this.client.getAssemblyStatus(r).then(function(n){var i=n.assembly_id,a=e.getPluginState();e.setPluginState({assemblies:ze(ze({},a.assemblies),{},Ya({},i,n))}),e.uppy.emit("transloadit:complete",n)})}function xat(t){return yA.apply(this,arguments)}function yA(){return yA=NQ(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.client.cancelAssembly(e);case 2:this.uppy.emit("transloadit:assembly-cancelled",e);case 3:case"end":return n.stop()}},t,this)})),yA.apply(this,arguments)}function Fat(t){var e=this,r=t.status,n=r.assembly_id;return this.activeAssemblies[n]=t,t.on("status",function(i){var a=e.getPluginState(),o=a.assemblies;e.setPluginState({assemblies:ze(ze({},o),{},Ya({},n,i))})}),t.on("upload",function(i){De(e,zb)[zb](n,i)}),t.on("error",function(i){i.assembly=t.status,e.uppy.emit("transloadit:assembly-error",t.status,i)}),t.on("executing",function(){e.uppy.emit("transloadit:assembly-executing",t.status)}),this.opts.waitForEncoding&&t.on("result",function(i,a){De(e,Hb)[Hb](n,i,a)}),this.opts.waitForEncoding?t.on("finished",function(){De(e,Sl)[Sl](t.status)}):this.opts.waitForMetadata&&t.on("metadata",function(){De(e,Sl)[Sl](t.status)}),t.ok==="ASSEMBLY_COMPLETE"||t.connect(),t}Yb.exports.COMPANION=bat;Yb.exports.COMPANION_PATTERN=_at});var YQ=h(function(imt,KQ){KQ.exports={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}}});var lZ=h(function(amt,sZ){function Xb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xb=function(r){return typeof r}:Xb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xb(t)}function XQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XQ(Object(r),!0).forEach(function(n){Cat(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cat(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Uat(t,e,r){return e&&JQ(t.prototype,e),r&&JQ(t,r),t}function jat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mA(t,e)}function mA(t,e){return mA=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},mA(t,e)}function Mat(t){var e=Bat();return function(){var n=Jb(t),i;if(e){var a=Jb(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Nat(this,i)}}function Nat(t,e){if(e&&(Xb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QQ(t)}function QQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bat(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Jb(t){return Jb=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Jb(t)}var ZQ,eZ,Lat=bn(),zat=Co(),Hat=zat.nanoid,gA=tr(),$at=gA.Provider,Wat=gA.RequestClient,Vat=gA.Socket,Gat=dp(),Kat=hp(),Yat=lT(),tZ=yp(),rZ=bE(),nZ=Zo(),Xat=nZ.RateLimitedQueue,bA=nZ.internalRateLimitedQueue,iZ=_s(),aZ=Tg(),Jat=YQ();function oZ(t,e){var r=e;return r||(r=new Error("Upload error")),typeof r=="string"&&(r=new Error(r)),r instanceof Error||(r=Object.assign(new Error("Upload error"),{data:r})),aZ(t)?(r=new iZ(r,t),r):(r.request=t,r)}function uZ(t){var e=t.data.slice(0,t.data.size,t.meta.type);return e}sZ.exports=(eZ=ZQ=function(t){jat(r,t);var e=Mat(r);function r(n,i){var a;Dat(this,r),a=e.call(this,n,i),a.type="uploader",a.id=a.opts.id||"XHRUpload",a.title="XHRUpload",a.defaultLocale=Jat;var o={formData:!0,fieldName:i.bundle?"files[]":"file",method:"post",metaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:30*1e3,limit:5,withCredentials:!1,responseType:"",getResponseData:function(s){var l={};try{l=JSON.parse(s)}catch(c){n.log(c)}return l},getResponseError:function(s,l){var c=new Error("Upload error");return aZ(l)&&(c=new iZ(c,l)),c},validateStatus:function(s){return s>=200&&s<300}};if(a.opts=mr(mr({},o),i),a.i18nInit(),a.handleUpload=a.handleUpload.bind(QQ(a)),bA in a.opts?a.requests=a.opts[bA]:a.requests=new Xat(a.opts.limit),a.opts.bundle&&!a.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");return a.uploaderEvents=Object.create(null),a}return Uat(r,[{key:"getOptions",value:function(i){var a=this.uppy.getState().xhrUpload,o=this.opts.headers,u=mr(mr(mr(mr({},this.opts),a||{}),i.xhrUpload||{}),{},{headers:{}});return typeof o=="function"?u.headers=o(i):Object.assign(u.headers,this.opts.headers),a&&Object.assign(u.headers,a.headers),i.xhrUpload&&Object.assign(u.headers,i.xhrUpload.headers),u}},{key:"addMetadata",value:function(i,a,o){var u=Array.isArray(o.metaFields)?o.metaFields:Object.keys(a);u.forEach(function(s){i.append(s,a[s])})}},{key:"createFormDataUpload",value:function(i,a){var o=new FormData;this.addMetadata(o,i.meta,a);var u=uZ(i);return i.name?o.append(a.fieldName,u,i.meta.name):o.append(a.fieldName,u),o}},{key:"createBundledUpload",value:function(i,a){var o=this,u=new FormData,s=this.uppy.getState(),l=s.meta;return this.addMetadata(u,l,a),i.forEach(function(c){var f=o.getOptions(c),p=uZ(c);c.name?u.append(f.fieldName,p,c.name):u.append(f.fieldName,p)}),u}},{key:"upload",value:function(i,a,o){var u=this,s=this.getOptions(i);return this.uppy.log("uploading ".concat(a," of ").concat(o)),new Promise(function(l,c){u.uppy.emit("upload-started",i);var f=s.formData?u.createFormDataUpload(i,s):i.data,p=new XMLHttpRequest;u.uploaderEvents[i.id]=new tZ(u.uppy);var d=new rZ(s.timeout,function(){p.abort(),g.done();var m=new Error(u.i18n("timedOut",{seconds:Math.ceil(s.timeout/1e3)}));u.uppy.emit("upload-error",i,m),c(m)}),v=Hat();p.upload.addEventListener("loadstart",function(){u.uppy.log("[XHRUpload] ".concat(v," started"))}),p.upload.addEventListener("progress",function(m){u.uppy.log("[XHRUpload] ".concat(v," progress: ").concat(m.loaded," / ").concat(m.total)),d.progress(),m.lengthComputable&&u.uppy.emit("upload-progress",i,{uploader:u,bytesUploaded:m.loaded,bytesTotal:m.total})}),p.addEventListener("load",function(m){if(u.uppy.log("[XHRUpload] ".concat(v," finished")),d.done(),g.done(),u.uploaderEvents[i.id]&&(u.uploaderEvents[i.id].remove(),u.uploaderEvents[i.id]=null),s.validateStatus(m.target.status,p.responseText,p)){var _=s.getResponseData(p.responseText,p),S=_[s.responseUrlFieldName],q={status:m.target.status,body:_,uploadURL:S};return u.uppy.emit("upload-success",i,q),S&&u.uppy.log("Download ".concat(i.name," from ").concat(S)),l(i)}var A=s.getResponseData(p.responseText,p),D=oZ(p,s.getResponseError(p.responseText,p)),F={status:m.target.status,body:A};return u.uppy.emit("upload-error",i,D,F),c(D)}),p.addEventListener("error",function(){u.uppy.log("[XHRUpload] ".concat(v," errored")),d.done(),g.done(),u.uploaderEvents[i.id]&&(u.uploaderEvents[i.id].remove(),u.uploaderEvents[i.id]=null);var m=oZ(p,s.getResponseError(p.responseText,p));return u.uppy.emit("upload-error",i,m),c(m)}),p.open(s.method.toUpperCase(),s.endpoint,!0),p.withCredentials=s.withCredentials,s.responseType!==""&&(p.responseType=s.responseType);var g=u.requests.run(function(){u.uppy.emit("upload-started",i);var m=u.getOptions(i);return Object.keys(m.headers).forEach(function(_){p.setRequestHeader(_,m.headers[_])}),p.send(f),function(){d.done(),p.abort()}});u.onFileRemove(i.id,function(){g.abort(),c(new Error("File removed"))}),u.onCancelAll(i.id,function(){g.abort(),c(new Error("Upload cancelled"))})})}},{key:"uploadRemote",value:function(i){var a=this,o=this.getOptions(i);return new Promise(function(u,s){a.uppy.emit("upload-started",i);var l={},c=Array.isArray(o.metaFields)?o.metaFields:Object.keys(i.meta);c.forEach(function(d){l[d]=i.meta[d]});var f=i.remote.providerOptions.provider?$at:Wat,p=new f(a.uppy,i.remote.providerOptions);p.post(i.remote.url,mr(mr({},i.remote.body),{},{endpoint:o.endpoint,size:i.data.size,fieldname:o.fieldName,metadata:l,httpMethod:o.method,useFormData:o.formData,headers:o.headers})).then(function(d){var v=d.token,g=Kat(i.remote.companionUrl),m=new Vat({target:"".concat(g,"/api/").concat(v),autoOpen:!1});a.uploaderEvents[i.id]=new tZ(a.uppy),a.onFileRemove(i.id,function(){m.send("cancel",{}),_.abort(),u("upload ".concat(i.id," was removed"))}),a.onCancelAll(i.id,function(){m.send("cancel",{}),_.abort(),u("upload ".concat(i.id," was canceled"))}),a.onRetry(i.id,function(){m.send("pause",{}),m.send("resume",{})}),a.onRetryAll(i.id,function(){m.send("pause",{}),m.send("resume",{})}),m.on("progress",function(S){return Gat(a,S,i)}),m.on("success",function(S){var q=o.getResponseData(S.response.responseText,S.response),A=q[o.responseUrlFieldName],D={status:S.response.status,body:q,uploadURL:A};return a.uppy.emit("upload-success",i,D),_.done(),a.uploaderEvents[i.id]&&(a.uploaderEvents[i.id].remove(),a.uploaderEvents[i.id]=null),u()}),m.on("error",function(S){var q=S.response,A=q?o.getResponseError(q.responseText,q):Object.assign(new Error(S.error.message),{cause:S.error});a.uppy.emit("upload-error",i,A),_.done(),a.uploaderEvents[i.id]&&(a.uploaderEvents[i.id].remove(),a.uploaderEvents[i.id]=null),s(A)});var _=a.requests.run(function(){return m.open(),i.isPaused&&m.send("pause",{}),function(){return m.close()}})}).catch(function(d){a.uppy.emit("upload-error",i,d),s(d)})})}},{key:"uploadBundle",value:function(i){var a=this;return new Promise(function(o,u){var s=a.opts.endpoint,l=a.opts.method,c=a.uppy.getState().xhrUpload,f=a.createBundledUpload(i,mr(mr({},a.opts),c||{})),p=new XMLHttpRequest,d=new rZ(a.opts.timeout,function(){p.abort();var g=new Error(a.i18n("timedOut",{seconds:Math.ceil(a.opts.timeout/1e3)}));v(g),u(g)}),v=function(m){i.forEach(function(_){a.uppy.emit("upload-error",_,m)})};p.upload.addEventListener("loadstart",function(){a.uppy.log("[XHRUpload] started uploading bundle"),d.progress()}),p.upload.addEventListener("progress",function(g){d.progress(),!!g.lengthComputable&&i.forEach(function(m){a.uppy.emit("upload-progress",m,{uploader:a,bytesUploaded:g.loaded/g.total*m.size,bytesTotal:m.size})})}),p.addEventListener("load",function(g){if(d.done(),a.opts.validateStatus(g.target.status,p.responseText,p)){var m=a.opts.getResponseData(p.responseText,p),_={status:g.target.status,body:m};return i.forEach(function(q){a.uppy.emit("upload-success",q,_)}),o()}var S=a.opts.getResponseError(p.responseText,p)||new Error("Upload error");return S.request=p,v(S),u(S)}),p.addEventListener("error",function(){d.done();var g=a.opts.getResponseError(p.responseText,p)||new Error("Upload error");return v(g),u(g)}),a.uppy.on("cancel-all",function(){d.done(),p.abort()}),p.open(l.toUpperCase(),s,!0),p.withCredentials=a.opts.withCredentials,a.opts.responseType!==""&&(p.responseType=a.opts.responseType),Object.keys(a.opts.headers).forEach(function(g){p.setRequestHeader(g,a.opts.headers[g])}),p.send(f),i.forEach(function(g){a.uppy.emit("upload-started",g)})})}},{key:"uploadFiles",value:function(i){var a=this,o=i.map(function(u,s){var l=parseInt(s,10)+1,c=i.length;return u.error?Promise.reject(new Error(u.error)):u.isRemote?a.uploadRemote(u,l,c):a.upload(u,l,c)});return Yat(o)}},{key:"onFileRemove",value:function(i,a){this.uploaderEvents[i].on("file-removed",function(o){i===o.id&&a(o.id)})}},{key:"onRetry",value:function(i,a){this.uploaderEvents[i].on("upload-retry",function(o){i===o&&a()})}},{key:"onRetryAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("retry-all",function(){!o.uppy.getFile(i)||a()})}},{key:"onCancelAll",value:function(i,a){var o=this;this.uploaderEvents[i].on("cancel-all",function(){!o.uppy.getFile(i)||a()})}},{key:"handleUpload",value:function(i){var a=this;if(i.length===0)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();this.opts.limit===0&&!this.opts[bA]&&this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");var o=i.map(function(s){return a.uppy.getFile(s)});if(this.opts.bundle){var u=o.some(function(s){return s.isRemote});if(u)throw new Error("Can\u2019t upload remote files when the `bundle: true` option is set");if(typeof this.opts.headers=="function")throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");return this.uploadBundle(o)}return this.uploadFiles(o).then(function(){return null})}},{key:"install",value:function(){if(this.opts.bundle){var i=this.uppy.getState(),a=i.capabilities;this.uppy.setState({capabilities:mr(mr({},a),{},{individualCancellation:!1})})}this.uppy.addUploader(this.handleUpload)}},{key:"uninstall",value:function(){if(this.opts.bundle){var i=this.uppy.getState(),a=i.capabilities;this.uppy.setState({capabilities:mr(mr({},a),{},{individualCancellation:!0})})}this.uppy.removeUploader(this.handleUpload)}}]),r}(Lat),ZQ.VERSION="2.0.7",eZ)});var wA=h(function(Qb){"use strict";Qb.__esModule=!0;Qb.default=fZ;Qb.getFieldData=_A;var Qat={"[object HTMLCollection]":!0,"[object NodeList]":!0,"[object RadioNodeList]":!0},Zat={button:!0,fieldset:!0,reset:!0,submit:!0},eot={checkbox:!0,radio:!0},tot=/^\s+|\s+$/g,rot=Array.prototype.slice,cZ=Object.prototype.toString;function fZ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{trim:!1};if(!t)throw new Error("A form is required by getFormData, was given form="+t);for(var r={},n=void 0,i=[],a={},o=0,u=t.elements.length;o<u;o++){var s=t.elements[o];Zat[s.type]||s.disabled||(n=s.name||s.id,n&&!a[n]&&(i.push(n),a[n]=!0))}for(var l=0,c=i.length;l<c;l++){n=i[l];var f=_A(t,n,e);f!=null&&(r[n]=f)}return r}function _A(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{trim:!1};if(!t)throw new Error("A form is required by getFieldData, was given form="+t);if(!e&&cZ.call(e)!=="[object String]")throw new Error("A field name is required by getFieldData, was given fieldName="+e);var n=t.elements[e];if(!n||n.disabled)return null;if(!Qat[cZ.call(n)])return pZ(n,r.trim);for(var i=[],a=!0,o=0,u=n.length;o<u;o++)if(!n[o].disabled){a&&n[o].type!=="radio"&&(a=!1);var s=pZ(n[o],r.trim);s!=null&&(i=i.concat(s))}return a&&i.length===1?i[0]:i.length>0?i:null}function pZ(t,e){var r=null,n=t.type;if(n==="select-one")return t.options.length&&(r=t.options[t.selectedIndex].value),r;if(n==="select-multiple"){r=[];for(var i=0,a=t.options.length;i<a;i++)t.options[i].selected&&r.push(t.options[i].value);return r.length===0&&(r=null),r}return n==="file"&&"files"in t?(t.multiple?(r=rot.call(t.files),r.length===0&&(r=null)):r=t.files[0],r):(eot[n]?t.checked&&(r=t.value):r=e?t.value.replace(tot,""):t.value,r)}fZ.getFieldData=_A});var gZ=h(function(umt,mZ){"use strict";function Zb(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zb=function(r){return typeof r}:Zb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zb(t)}function dZ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hZ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dZ(Object(r),!0).forEach(function(n){not(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dZ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function not(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function aot(t,e,r){return e&&vZ(t.prototype,e),r&&vZ(t,r),t}function oot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&SA(t,e)}function SA(t,e){return SA=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},SA(t,e)}function uot(t){var e=lot();return function(){var n=e_(t),i;if(e){var a=e_(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return sot(this,i)}}function sot(t,e){if(e&&(Zb(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return El(t)}function El(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lot(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function e_(t){return e_=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},e_(t)}var cot=bn(),fot=xP(),pot=Rn(),dot=wA().default||wA(),hot={version:"2.0.5"},yZ=function(t){oot(r,t);var e=uot(r);function r(n,i){var a;iot(this,r),a=e.call(this,n,i),a.type="acquirer",a.id=a.opts.id||"Form",a.title="Form";var o={target:null,resultName:"uppyResult",getMetaFromForm:!0,addResultToForm:!0,submitOnSuccess:!1,triggerUploadOnSubmit:!1};return a.opts=hZ(hZ({},o),i),a.handleFormSubmit=a.handleFormSubmit.bind(El(a)),a.handleUploadStart=a.handleUploadStart.bind(El(a)),a.handleSuccess=a.handleSuccess.bind(El(a)),a.addResultToForm=a.addResultToForm.bind(El(a)),a.getMetaFromForm=a.getMetaFromForm.bind(El(a)),a}return aot(r,[{key:"handleUploadStart",value:function(){this.opts.getMetaFromForm&&this.getMetaFromForm()}},{key:"handleSuccess",value:function(i){this.opts.addResultToForm&&this.addResultToForm(i),this.opts.submitOnSuccess&&this.form.submit()}},{key:"handleFormSubmit",value:function(i){var a=this;if(this.opts.triggerUploadOnSubmit){i.preventDefault();var o=pot(i.target.elements),u=[];o.forEach(function(s){var l=s.tagName==="BUTTON"||s.tagName==="INPUT"&&s.type==="submit";l&&!s.disabled&&(s.disabled=!0,u.push(s))}),this.uppy.upload().then(function(){u.forEach(function(s){s.disabled=!1})},function(s){return u.forEach(function(l){l.disabled=!1}),Promise.reject(s)}).catch(function(s){a.uppy.log(s.stack||s.message||s)})}}},{key:"addResultToForm",value:function(i){this.uppy.log("[Form] Adding result to the original form:"),this.uppy.log(i);var a=this.form.querySelector('[name="'.concat(this.opts.resultName,'"]'));if(a){var o;try{o=JSON.parse(a.value)}catch(u){}Array.isArray(o)||(o=[]),o.push(i),a.value=JSON.stringify(o);return}a=document.createElement("input"),a.name=this.opts.resultName,a.type="hidden",a.value=JSON.stringify([i]),this.form.appendChild(a)}},{key:"getMetaFromForm",value:function(){var i=dot(this.form);delete i[this.opts.resultName],this.uppy.setMeta(i)}},{key:"install",value:function(){if(this.form=fot(this.opts.target),!this.form||this.form.nodeName!=="FORM"){this.uppy.log("Form plugin requires a <form> target element passed in options to operate, none was found","error");return}this.form.addEventListener("submit",this.handleFormSubmit),this.uppy.on("upload",this.handleUploadStart),this.uppy.on("complete",this.handleSuccess)}},{key:"uninstall",value:function(){this.form.removeEventListener("submit",this.handleFormSubmit),this.uppy.off("upload",this.handleUploadStart),this.uppy.off("complete",this.handleSuccess)}}]),r}(cot);yZ.VERSION=hot.version;mZ.exports=yZ});var OZ=h(function(smt,SZ){function vot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yot(t,e,r){return e&&bZ(t.prototype,e),r&&bZ(t,r),t}var _Z=typeof navigator!="undefined"&&"serviceWorker"in navigator;function mot(){return new Promise(function(t,e){_Z?navigator.serviceWorker.controller?t():navigator.serviceWorker.addEventListener("controllerchange",function(){t()}):e(new Error("Unsupported"))})}var wZ=function(){function t(e){vot(this,t),this.ready=mot(),this.name=e.storeName}return yot(t,[{key:"list",value:function(){var r=this,n={},i=new Promise(function(o,u){n.resolve=o,n.reject=u});console.log("Loading stored blobs from Service Worker");var a=function o(u){if(u.data.store===r.name)switch(u.data.type){case"uppy/ALL_FILES":n.resolve(u.data.files),navigator.serviceWorker.removeEventListener("message",o);break;default:n.reject()}};return this.ready.then(function(){navigator.serviceWorker.addEventListener("message",a),navigator.serviceWorker.controller.postMessage({type:"uppy/GET_FILES",store:r.name})}),i}},{key:"put",value:function(r){var n=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/ADD_FILE",store:n.name,file:r})})}},{key:"delete",value:function(r){var n=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/REMOVE_FILE",store:n.name,fileID:r})})}}]),t}();wZ.isSupported=_Z;SZ.exports=wZ});var FZ=h(function(lmt,xZ){function PZ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function got(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PZ(Object(r),!0).forEach(function(n){bot(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PZ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bot(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function wot(t,e,r){return e&&qZ(t.prototype,e),r&&qZ(t,r),t}var RZ=typeof window!="undefined"&&(window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB),Sot=!!RZ,EZ="uppy-blobs",gr="files",TZ=24*60*60*1e3,Oot=3;function Pot(t){var e=t.openCursor();e.onsuccess=function(r){var n=r.target.result;if(!!n){var i=n.value;i.expires=Date.now()+TZ,n.update(i)}}}function AZ(t){var e=RZ.open(t,Oot);return new Promise(function(r,n){e.onupgradeneeded=function(i){var a=i.target.result,o=i.currentTarget.transaction;if(i.oldVersion<2){var u=a.createObjectStore(gr,{keyPath:"id"});u.createIndex("store","store",{unique:!1})}if(i.oldVersion<3){var s=o.objectStore(gr);s.createIndex("expires","expires",{unique:!1}),Pot(s)}o.oncomplete=function(){r(a)}},e.onsuccess=function(i){r(i.target.result)},e.onerror=n})}function t_(t){return new Promise(function(e,r){t.onsuccess=function(n){e(n.target.result)},t.onerror=r})}var IZ=!1,kZ=function(){function t(e){var r=this;_ot(this,t),this.opts=got({dbName:EZ,storeName:"default",expires:TZ,maxFileSize:10*1024*1024,maxTotalSize:300*1024*1024},e),this.name=this.opts.storeName;var n=function(){return AZ(r.opts.dbName)};IZ?this.ready=n():(IZ=!0,this.ready=t.cleanup().then(n,n))}return wot(t,[{key:"key",value:function(r){return"".concat(this.name,"!").concat(r)}},{key:"list",value:function(){var r=this;return this.ready.then(function(n){var i=n.transaction([gr],"readonly"),a=i.objectStore(gr),o=a.index("store").getAll(IDBKeyRange.only(r.name));return t_(o)}).then(function(n){var i={};return n.forEach(function(a){i[a.fileID]=a.data}),i})}},{key:"get",value:function(r){var n=this;return this.ready.then(function(i){var a=i.transaction([gr],"readonly"),o=a.objectStore(gr).get(n.key(r));return t_(o)}).then(function(i){return{id:i.data.fileID,data:i.data.data}})}},{key:"getSize",value:function(){var r=this;return this.ready.then(function(n){var i=n.transaction([gr],"readonly"),a=i.objectStore(gr),o=a.index("store").openCursor(IDBKeyRange.only(r.name));return new Promise(function(u,s){var l=0;o.onsuccess=function(c){var f=c.target.result;f?(l+=f.value.data.size,f.continue()):u(l)},o.onerror=function(){s(new Error("Could not retrieve stored blobs size"))}})})}},{key:"put",value:function(r){var n=this;return r.data.size>this.opts.maxFileSize?Promise.reject(new Error("File is too big to store.")):this.getSize().then(function(i){return i>n.opts.maxTotalSize?Promise.reject(new Error("No space left")):n.ready}).then(function(i){var a=i.transaction([gr],"readwrite"),o=a.objectStore(gr).add({id:n.key(r.id),fileID:r.id,store:n.name,expires:Date.now()+n.opts.expires,data:r.data});return t_(o)})}},{key:"delete",value:function(r){var n=this;return this.ready.then(function(i){var a=i.transaction([gr],"readwrite"),o=a.objectStore(gr).delete(n.key(r));return t_(o)})}}],[{key:"cleanup",value:function(){return AZ(EZ).then(function(r){var n=r.transaction([gr],"readwrite"),i=n.objectStore(gr),a=i.index("expires").openCursor(IDBKeyRange.upperBound(Date.now()));return new Promise(function(o,u){a.onsuccess=function(s){var l=s.target.result;l?(l.delete(),l.continue()):o(r)},a.onerror=u})}).then(function(r){r.close()})}}]),t}();kZ.isSupported=Sot;xZ.exports=kZ});var NZ=h(function(cmt,MZ){function CZ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CZ(Object(r),!0).forEach(function(n){Rot(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CZ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rot(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Tot(t,e,r){return e&&DZ(t.prototype,e),r&&DZ(t,r),t}function Aot(){for(var t=[],e=0;e<localStorage.length;e++){var r=localStorage.key(e);/^uppyState:/.test(r)&&t.push(r.slice("uppyState:".length))}return t}function UZ(t){try{return JSON.parse(t)}catch(e){return null}}var jZ=!1;MZ.exports=function(){function t(e){Eot(this,t),this.opts=qot({expires:24*60*60*1e3},e),this.name="uppyState:".concat(e.storeName),jZ||(jZ=!0,t.cleanup())}return Tot(t,[{key:"load",value:function(){var r=localStorage.getItem(this.name);if(!r)return null;var n=UZ(r);return n?n.metadata?n.metadata:(this.save(n),n):null}},{key:"save",value:function(r){var n=Date.now()+this.opts.expires,i=JSON.stringify({metadata:r,expires:n});localStorage.setItem(this.name,i)}}],[{key:"cleanup",value:function(r){if(r){localStorage.removeItem("uppyState:".concat(r));return}var n=Aot(),i=Date.now();n.forEach(function(a){var o=localStorage.getItem("uppyState:".concat(a));if(!o)return null;var u=UZ(o);if(!u)return null;u.expires&&u.expires<i&&localStorage.removeItem("uppyState:".concat(a))})}}]),t}()});var WZ=h(function(fmt,$Z){function r_(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r_=function(r){return typeof r}:r_=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},r_(t)}function BZ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BZ(Object(r),!0).forEach(function(n){Iot(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BZ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Iot(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function xot(t,e,r){return e&&LZ(t.prototype,e),r&&LZ(t,r),t}function Fot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&OA(t,e)}function OA(t,e){return OA=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},OA(t,e)}function Cot(t){var e=Uot();return function(){var n=n_(t),i;if(e){var a=n_(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Dot(this,i)}}function Dot(t,e){if(e&&(r_(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tl(t)}function Tl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uot(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function n_(t){return n_=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},n_(t)}var zZ,HZ,jot=yf(),Mot=bn(),Not=OZ(),Bot=FZ(),i_=NZ();$Z.exports=(HZ=zZ=function(t){Fot(r,t);var e=Cot(r);function r(n,i){var a;kot(this,r),a=e.call(this,n,i),a.addBlobToStores=function(u){u.isRemote||(a.ServiceWorkerStore&&a.ServiceWorkerStore.put(u).catch(function(s){a.uppy.log("[GoldenRetriever] Could not store file","warning"),a.uppy.log(s)}),a.IndexedDBStore.put(u).catch(function(s){a.uppy.log("[GoldenRetriever] Could not store file","warning"),a.uppy.log(s)}))},a.removeBlobFromStores=function(u){a.ServiceWorkerStore&&a.ServiceWorkerStore.delete(u.id).catch(function(s){a.uppy.log("[GoldenRetriever] Failed to remove file","warning"),a.uppy.log(s)}),a.IndexedDBStore.delete(u.id).catch(function(s){a.uppy.log("[GoldenRetriever] Failed to remove file","warning"),a.uppy.log(s)})},a.replaceBlobInStores=function(u){a.removeBlobFromStores(u),a.addBlobToStores(u)},a.handleRestoreConfirmed=function(){a.uppy.log("[GoldenRetriever] Restore confirmed, proceeding...");var u=a.uppy.getState(),s=u.currentUploads;s&&(Object.keys(s).forEach(function(l){a.uppy.restore(l,s[l])}),a.uppy.resumeAll()),a.uppy.upload(),a.uppy.setState({recoveredState:null})},a.abortRestore=function(){a.uppy.log("[GoldenRetriever] Aborting restore...");var u=Object.keys(a.uppy.getState().files);a.deleteBlobs(u).then(function(){a.uppy.log("[GoldenRetriever] Removed ".concat(u.length," files"))}).catch(function(s){a.uppy.log("[GoldenRetriever] Could not remove ".concat(u.length," files"),"warning"),a.uppy.log(s)}),a.uppy.cancelAll(),a.uppy.setState({recoveredState:null}),i_.cleanup(a.uppy.opts.id)},a.handleComplete=function(u){var s=u.successful,l=s.map(function(c){return c.id});a.deleteBlobs(l).then(function(){a.uppy.log("[GoldenRetriever] Removed ".concat(s.length," files that finished uploading"))}).catch(function(c){a.uppy.log("[GoldenRetriever] Could not remove ".concat(s.length," files that finished uploading"),"warning"),a.uppy.log(c)}),a.uppy.setState({recoveredState:null}),i_.cleanup(a.uppy.opts.id)},a.restoreBlobs=function(){a.uppy.getFiles().length>0?Promise.all([a.loadFileBlobsFromServiceWorker(),a.loadFileBlobsFromIndexedDB()]).then(function(u){var s=zt(zt({},u[0]),u[1]);a.onBlobsLoaded(s)}):(a.uppy.log("[GoldenRetriever] No files need to be loaded, only restoring processing state..."),a.onBlobsLoaded([]))},a.type="debugger",a.id=a.opts.id||"GoldenRetriever",a.title="Golden Retriever";var o={expires:24*60*60*1e3,serviceWorker:!1};return a.opts=zt(zt({},o),i),a.MetaDataStore=new i_({expires:a.opts.expires,storeName:n.getID()}),a.ServiceWorkerStore=null,a.opts.serviceWorker&&(a.ServiceWorkerStore=new Not({storeName:n.getID()})),a.IndexedDBStore=new Bot(zt(zt({expires:a.opts.expires},a.opts.indexedDB||{}),{},{storeName:n.getID()})),a.saveFilesStateToLocalStorage=jot(a.saveFilesStateToLocalStorage.bind(Tl(a)),500,{leading:!0,trailing:!0}),a.restoreState=a.restoreState.bind(Tl(a)),a.loadFileBlobsFromServiceWorker=a.loadFileBlobsFromServiceWorker.bind(Tl(a)),a.loadFileBlobsFromIndexedDB=a.loadFileBlobsFromIndexedDB.bind(Tl(a)),a.onBlobsLoaded=a.onBlobsLoaded.bind(Tl(a)),a}return xot(r,[{key:"restoreState",value:function(){var i=this.MetaDataStore.load();i&&(this.uppy.log("[GoldenRetriever] Recovered some state from Local Storage"),this.uppy.setState({currentUploads:i.currentUploads||{},files:i.files||{},recoveredState:i}),this.savedPluginData=i.pluginData)}},{key:"getWaitingFiles",value:function(){var i={};return this.uppy.getFiles().forEach(function(a){(!a.progress||!a.progress.uploadStarted)&&(i[a.id]=a)}),i}},{key:"getUploadingFiles",value:function(){var i=this,a={},o=this.uppy.getState(),u=o.currentUploads;if(u){var s=Object.keys(u);s.forEach(function(l){var c=u[l].fileIDs;c.forEach(function(f){a[f]=i.uppy.getFile(f)})})}return a}},{key:"saveFilesStateToLocalStorage",value:function(){var i=zt(zt({},this.getWaitingFiles()),this.getUploadingFiles());if(Object.keys(i).length===0){this.uppy.setState({recoveredState:null}),i_.cleanup(this.uppy.opts.id);return}var a={};Object.keys(i).forEach(function(l){i[l].isRemote?a[l]=zt(zt({},i[l]),{},{isRestored:!0}):a[l]=zt(zt({},i[l]),{},{isRestored:!0,data:null,preview:null})});var o={};this.uppy.emit("restore:get-data",function(l){Object.assign(o,l)});var u=this.uppy.getState(),s=u.currentUploads;this.MetaDataStore.save({currentUploads:s,files:a,pluginData:o})}},{key:"loadFileBlobsFromServiceWorker",value:function(){var i=this;return this.ServiceWorkerStore?this.ServiceWorkerStore.list().then(function(a){var o=i.uppy.getFiles(),u=o.filter(function(c){return!c.isRemote}),s=Object.keys(a).length,l=u.length;return s===l?(i.uppy.log("[GoldenRetriever] Successfully recovered ".concat(s," blobs from Service Worker!")),a):(i.uppy.log("[GoldenRetriever] No blobs found in Service Worker, trying IndexedDB now..."),{})}).catch(function(a){return i.uppy.log("[GoldenRetriever] Failed to recover blobs from Service Worker","warning"),i.uppy.log(a),{}}):Promise.resolve({})}},{key:"loadFileBlobsFromIndexedDB",value:function(){var i=this;return this.IndexedDBStore.list().then(function(a){var o=Object.keys(a).length;return o>0?(i.uppy.log("[GoldenRetriever] Successfully recovered ".concat(o," blobs from IndexedDB!")),a):(i.uppy.log("[GoldenRetriever] No blobs found in IndexedDB"),{})}).catch(function(a){return i.uppy.log("[GoldenRetriever] Failed to recover blobs from IndexedDB","warning"),i.uppy.log(a),{}})}},{key:"onBlobsLoaded",value:function(i){var a=this,o=[],u=zt({},this.uppy.getState().files);Object.keys(i).forEach(function(s){var l=a.uppy.getFile(s);if(!l){o.push(s);return}var c=i[s],f={data:c,isRestored:!0,isGhost:!1};u[s]=zt(zt({},l),f)}),Object.keys(u).forEach(function(s){u[s].data===null&&(u[s]=zt(zt({},u[s]),{},{isGhost:!0}))}),this.uppy.setState({files:u}),this.uppy.emit("restored",this.savedPluginData),o.length&&this.deleteBlobs(o).then(function(){a.uppy.log("[GoldenRetriever] Cleaned up ".concat(o.length," old files"))}).catch(function(s){a.uppy.log("[GoldenRetriever] Could not clean up ".concat(o.length," old files"),"warning"),a.uppy.log(s)})}},{key:"deleteBlobs",value:function(i){var a=this,o=[];return i.forEach(function(u){a.ServiceWorkerStore&&o.push(a.ServiceWorkerStore.delete(u)),a.IndexedDBStore&&o.push(a.IndexedDBStore.delete(u))}),Promise.all(o)}},{key:"install",value:function(){this.restoreState(),this.restoreBlobs(),this.uppy.on("file-added",this.addBlobToStores),this.uppy.on("file-editor:complete",this.replaceBlobInStores),this.uppy.on("file-removed",this.removeBlobFromStores),this.uppy.on("state-update",this.saveFilesStateToLocalStorage),this.uppy.on("restore-confirmed",this.handleRestoreConfirmed),this.uppy.on("restore-canceled",this.abortRestore),this.uppy.on("complete",this.handleComplete)}},{key:"uninstall",value:function(){this.uppy.off("file-added",this.addBlobToStores),this.uppy.off("file-editor:complete",this.replaceBlobInStores),this.uppy.off("file-removed",this.removeBlobFromStores),this.uppy.off("state-update",this.saveFilesStateToLocalStorage),this.uppy.off("restore-confirmed",this.handleRestoreConfirmed),this.uppy.off("restore-canceled",this.abortRestore),this.uppy.off("complete",this.handleComplete)}}]),r}(Mot),zZ.VERSION="2.0.6",HZ)});var JZ=h(function(pmt,XZ){function a_(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a_=function(r){return typeof r}:a_=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},a_(t)}function VZ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Al(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VZ(Object(r),!0).forEach(function(n){Lot(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VZ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lot(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GZ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Hot(t,e,r){return e&&GZ(t.prototype,e),r&&GZ(t,r),t}function $ot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PA(t,e)}function PA(t,e){return PA=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},PA(t,e)}function Wot(t){var e=Got();return function(){var n=o_(t),i;if(e){var a=o_(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Vot(this,i)}}function Vot(t,e){if(e&&(a_(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qA(t)}function qA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Got(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function o_(t){return o_=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},o_(t)}var KZ,YZ,Kot=tt(),Yot=Kot.UIPlugin;XZ.exports=(YZ=KZ=function(t){$ot(r,t);var e=Wot(r);function r(n,i){var a;zot(this,r),a=e.call(this,n,i),a.type="debugger",a.id=a.opts.id||"ReduxDevTools",a.title="Redux DevTools";var o={};return a.opts=Al(Al({},o),i),a.handleStateChange=a.handleStateChange.bind(qA(a)),a.initDevTools=a.initDevTools.bind(qA(a)),a}return Hot(r,[{key:"handleStateChange",value:function(i,a){this.devTools.send("UPPY_STATE_UPDATE",a)}},{key:"initDevTools",value:function(){var i=this;this.devTools=window.devToolsExtension.connect(),this.devToolsUnsubscribe=this.devTools.subscribe(function(a){if(a.type==="DISPATCH")switch(a.payload.type){case"RESET":i.uppy.reset();return;case"IMPORT_STATE":{var o=a.payload.nextLiftedState.computedStates;i.uppy.store.state=Al(Al({},i.uppy.getState()),o[o.length-1].state),i.uppy.updateAll(i.uppy.getState());return}case"JUMP_TO_STATE":case"JUMP_TO_ACTION":i.uppy.store.state=Al(Al({},i.uppy.getState()),JSON.parse(a.state)),i.uppy.updateAll(i.uppy.getState())}})}},{key:"install",value:function(){this.withDevTools=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__,this.withDevTools&&(this.initDevTools(),this.uppy.on("state-update",this.handleStateChange))}},{key:"uninstall",value:function(){this.withDevTools&&(this.devToolsUnsubscribe(),this.uppy.off("state-update",this.handleStateUpdate))}}]),r}(Yot),KZ.VERSION="2.0.3",YZ)});var ZZ=h(function(dmt,QZ){function u_(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u_=function(r){return typeof r}:u_=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},u_(t)}QZ.exports=function(e){if(typeof e!="number"||isNaN(e))throw new TypeError("Expected a number, got ".concat(u_(e)));var r=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(r&&(e=-e),e<1)return"".concat((r?"-":"")+e," B");var i=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/Math.pow(1024,i));var a=n[i];return e>=10||e%1==0?"".concat((r?"-":"")+e.toFixed(0)," ").concat(a):"".concat((r?"-":"")+e.toFixed(1)," ").concat(a)}});var see=h(function(hmt,uee){"use strict";function eee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function s_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eee(Object(r),!0).forEach(function(n){Qot(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Jot(t,e,r){return e&&tee(t.prototype,e),r&&tee(t,r),t}function Qot(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l_(){return l_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l_.apply(this,arguments)}var ree={exports:{}};(function(t){typeof window!="undefined"&&function(e){var r=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,n=e.Blob&&function(){try{return Boolean(new Blob)}catch(s){return!1}}(),i=n&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(s){return!1}}(),a=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,o=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,u=(n||a)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(s){var l,c,f,p,d,v,g,m,_;if(l=s.match(o),!l)throw new Error("invalid data URI");for(c=l[2]?l[1]:"text/plain"+(l[3]||";charset=US-ASCII"),f=!!l[4],p=s.slice(l[0].length),f?d=atob(p):d=decodeURIComponent(p),v=new ArrayBuffer(d.length),g=new Uint8Array(v),m=0;m<d.length;m+=1)g[m]=d.charCodeAt(m);return n?new Blob([i?g:v],{type:c}):(_=new a,_.append(v),_.getBlob(c))};e.HTMLCanvasElement&&!r.toBlob&&(r.mozGetAsFile?r.toBlob=function(s,l,c){var f=this;setTimeout(function(){c&&r.toDataURL&&u?s(u(f.toDataURL(l,c))):s(f.mozGetAsFile("blob",l))})}:r.toDataURL&&u&&(r.msToBlob?r.toBlob=function(s,l,c){var f=this;setTimeout(function(){(l&&l!=="image/png"||c)&&r.toDataURL&&u?s(u(f.toDataURL(l,c))):s(f.msToBlob(l))})}:r.toBlob=function(s,l,c){var f=this;setTimeout(function(){s(u(f.toDataURL(l,c)))})})),t.exports?t.exports=u:e.dataURLtoBlob=u}(window)})(ree);var Zot=ree.exports,eut=function(e){return typeof Blob=="undefined"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"},nee={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},tut=typeof window!="undefined"&&typeof window.document!="undefined",Ja=tut?window:{},c_=function(e){return e>0&&e<1/0},rut=Array.prototype.slice;function nut(t){return Array.from?Array.from(t):rut.call(t)}var iut=/^image\/.+$/;function RA(t){return iut.test(t)}function aut(t){var e=RA(t)?t.substr(6):"";return e==="jpeg"&&(e="jpg"),".".concat(e)}var iee=String.fromCharCode;function out(t,e,r){var n="",i;for(r+=e,i=e;i<r;i+=1)n+=iee(t.getUint8(i));return n}var uut=Ja.btoa;function sut(t,e){for(var r=[],n=8192,i=new Uint8Array(t);i.length>0;)r.push(iee.apply(null,nut(i.subarray(0,n)))),i=i.subarray(n);return"data:".concat(e,";base64,").concat(uut(r.join("")))}function lut(t){var e=new DataView(t),r;try{var n,i,a;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var o=e.byteLength,u=2;u+1<o;){if(e.getUint8(u)===255&&e.getUint8(u+1)===225){i=u;break}u+=1}if(i){var s=i+4,l=i+10;if(out(e,s,4)==="Exif"){var c=e.getUint16(l);if(n=c===18761,(n||c===19789)&&e.getUint16(l+2,n)===42){var f=e.getUint32(l+4,n);f>=8&&(a=l+f)}}}if(a){var p=e.getUint16(a,n),d,v;for(v=0;v<p;v+=1)if(d=a+v*12+2,e.getUint16(d,n)===274){d+=8,r=e.getUint16(d,n),e.setUint16(d,1,n);break}}}catch(g){r=1}return r}function cut(t){var e=0,r=1,n=1;switch(t){case 2:r=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,r=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:r,scaleY:n}}var fut=/\.\d*(?:0|9){12}\d*$/;function aee(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return fut.test(t)?Math.round(t*e)/e:t}function Wp(t){var e=t.aspectRatio,r=t.height,n=t.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",a=c_(n),o=c_(r);if(a&&o){var u=r*e;(i==="contain"||i==="none")&&u>n||i==="cover"&&u<n?r=n/e:n=r*e}else a?r=n/e:o&&(n=r*e);return{width:n,height:r}}var put=Ja.ArrayBuffer,oee=Ja.FileReader,yu=Ja.URL||Ja.webkitURL,dut=/\.\w+$/,hut=Ja.Compressor,vut=function(){function t(e,r){Xot(this,t),this.file=e,this.image=new Image,this.options=s_(s_({},nee),r),this.aborted=!1,this.result=null,this.init()}return Jot(t,[{key:"init",value:function(){var r=this,n=this.file,i=this.options;if(!eut(n)){this.fail(new Error("The first argument must be a File or Blob object."));return}var a=n.type;if(!RA(a)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!yu||!oee){this.fail(new Error("The current browser does not support image compression."));return}if(put||(i.checkOrientation=!1),yu&&!i.checkOrientation)this.load({url:yu.createObjectURL(n)});else{var o=new oee,u=i.checkOrientation&&a==="image/jpeg";this.reader=o,o.onload=function(s){var l=s.target,c=l.result,f={};if(u){var p=lut(c);p>1||!yu?(f.url=sut(c,a),p>1&&l_(f,cut(p))):f.url=yu.createObjectURL(n)}else f.url=c;r.load(f)},o.onabort=function(){r.fail(new Error("Aborted to read the image with FileReader."))},o.onerror=function(){r.fail(new Error("Failed to read the image with FileReader."))},o.onloadend=function(){r.reader=null},u?o.readAsArrayBuffer(n):o.readAsDataURL(n)}}},{key:"load",value:function(r){var n=this,i=this.file,a=this.image;a.onload=function(){n.draw(s_(s_({},r),{},{naturalWidth:a.naturalWidth,naturalHeight:a.naturalHeight}))},a.onabort=function(){n.fail(new Error("Aborted to load the image."))},a.onerror=function(){n.fail(new Error("Failed to load the image."))},Ja.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Ja.navigator.userAgent)&&(a.crossOrigin="anonymous"),a.alt=i.name,a.src=r.url}},{key:"draw",value:function(r){var n=this,i=r.naturalWidth,a=r.naturalHeight,o=r.rotate,u=o===void 0?0:o,s=r.scaleX,l=s===void 0?1:s,c=r.scaleY,f=c===void 0?1:c,p=this.file,d=this.image,v=this.options,g=document.createElement("canvas"),m=g.getContext("2d"),_=Math.abs(u)%180==90,S=(v.resize==="contain"||v.resize==="cover")&&c_(v.width)&&c_(v.height),q=Math.max(v.maxWidth,0)||1/0,A=Math.max(v.maxHeight,0)||1/0,D=Math.max(v.minWidth,0)||0,F=Math.max(v.minHeight,0)||0,$=i/a,Y=v.width,R=v.height;if(_){var j=[A,q];q=j[0],A=j[1];var Q=[F,D];D=Q[0],F=Q[1];var G=[R,Y];Y=G[0],R=G[1]}S&&($=Y/R);var T=Wp({aspectRatio:$,width:q,height:A},"contain");q=T.width,A=T.height;var I=Wp({aspectRatio:$,width:D,height:F},"cover");if(D=I.width,F=I.height,S){var L=Wp({aspectRatio:$,width:Y,height:R},v.resize);Y=L.width,R=L.height}else{var C=Wp({aspectRatio:$,width:Y,height:R}),U=C.width;Y=U===void 0?i:U;var B=C.height;R=B===void 0?a:B}Y=Math.floor(aee(Math.min(Math.max(Y,D),q))),R=Math.floor(aee(Math.min(Math.max(R,F),A)));var te=-Y/2,ce=-R/2,ue=Y,Ue=R,$e=[];if(S){var ut=0,st=0,Ht=i,Xt=a,mt=Wp({aspectRatio:$,width:i,height:a},{contain:"cover",cover:"contain"}[v.resize]);Ht=mt.width,Xt=mt.height,ut=(i-Ht)/2,st=(a-Xt)/2,$e.push(ut,st,Ht,Xt)}if($e.push(te,ce,ue,Ue),_){var Qi=[R,Y];Y=Qi[0],R=Qi[1]}g.width=Y,g.height=R,RA(v.mimeType)||(v.mimeType=p.type);var Il="transparent";if(p.size>v.convertSize&&v.convertTypes.indexOf(v.mimeType)>=0&&(v.mimeType="image/jpeg"),v.mimeType==="image/jpeg"&&(Il="#fff"),m.fillStyle=Il,m.fillRect(0,0,Y,R),v.beforeDraw&&v.beforeDraw.call(this,m,g),!this.aborted&&(m.save(),m.translate(Y/2,R/2),m.rotate(u*Math.PI/180),m.scale(l,f),m.drawImage.apply(m,[d].concat($e)),m.restore(),v.drew&&v.drew.call(this,m,g),!this.aborted)){var Kp=function(h_){n.aborted||n.done({naturalWidth:i,naturalHeight:a,result:h_})};g.toBlob?g.toBlob(Kp,v.mimeType,v.quality):Kp(Zot(g.toDataURL(v.mimeType,v.quality)))}}},{key:"done",value:function(r){var n=r.naturalWidth,i=r.naturalHeight,a=r.result,o=this.file,u=this.image,s=this.options;if(yu&&!s.checkOrientation&&yu.revokeObjectURL(u.src),a)if(s.strict&&a.size>o.size&&s.mimeType===o.type&&!(s.width>n||s.height>i||s.minWidth>n||s.minHeight>i||s.maxWidth<n||s.maxHeight<i))a=o;else{var l=new Date;a.lastModified=l.getTime(),a.lastModifiedDate=l,a.name=o.name,a.name&&a.type!==o.type&&(a.name=a.name.replace(dut,aut(a.type)))}else a=o;this.result=a,s.success&&s.success.call(this,a)}},{key:"fail",value:function(r){var n=this.options;if(n.error)n.error.call(this,r);else throw r}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=hut,t}},{key:"setDefaults",value:function(r){l_(nee,r)}}]),t}();uee.exports=vut});var cee=h(function(vmt,lee){"use strict";lee.exports={strings:{compressingImages:"Compressing images...",compressedX:"Saved %{size} by compressing images"}}});var bee=h(function(ymt,gee){"use strict";function f_(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f_=function(r){return typeof r}:f_=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},f_(t)}function yut(t,e){var r=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=mut(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,u=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw u}}}}function mut(t,e){if(!!t){if(typeof t=="string")return fee(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fee(t,e)}}function fee(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pee(t,e,r,n,i,a,o){try{var u=t[a](o),s=u.value}catch(l){r(l);return}u.done?e(s):Promise.resolve(s).then(n,i)}function dee(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(s){pee(a,n,i,o,u,"next",s)}function u(s){pee(a,n,i,o,u,"throw",s)}o(void 0)})}}function hee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function p_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hee(Object(r),!0).forEach(function(n){gut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hee(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gut(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function but(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _ut(t,e,r){return e&&vee(t.prototype,e),r&&vee(t,r),t}function wut(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&EA(t,e)}function EA(t,e){return EA=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},EA(t,e)}function Sut(t){var e=Put();return function(){var n=d_(t),i;if(e){var a=d_(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Out(this,i)}}function Out(t,e){if(e&&(f_(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vp(t)}function Vp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Put(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function d_(t){return d_=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},d_(t)}var qut=tt(),Rut=Zo();function yee(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Eut=0;function Tut(t){return"__private_"+Eut+++"_"+t}var Aut=mf(),mee=ZZ(),Iut=see(),kut=cee(),Gp=Tut("RateLimitedQueue"),xut=function(t){wut(r,t);var e=Sut(r);function r(n,i){var a;but(this,r),a=e.call(this,n,i),Object.defineProperty(Vp(a),Gp,{writable:!0,value:void 0}),a.id=a.opts.id||"Compressor",a.type="modifier",a.defaultLocale=kut;var o={quality:.6,limit:10};return a.opts=p_(p_({},o),i),yee(Vp(a),Gp)[Gp]=new Rut.RateLimitedQueue(a.opts.limit),a.i18nInit(),a.prepareUpload=a.prepareUpload.bind(Vp(a)),a.compress=a.compress.bind(Vp(a)),a}return _ut(r,[{key:"compress",value:function(i){var a=this;return new Promise(function(o,u){new Iut(i,p_(p_({},a.opts),{},{success:o,error:u}))})}},{key:"prepareUpload",value:function(){var n=dee(regeneratorRuntime.mark(function a(o){var u=this,s,l,c,f,p,d,v;return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return s=0,l=yee(this,Gp)[Gp].wrapPromiseFunction(function(){var _=dee(regeneratorRuntime.mark(function S(q){var A,D,F,$,Y,R,j;return regeneratorRuntime.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.prev=0,G.next=3,u.compress(q.data);case 3:A=G.sent,D=q.data.size-A.size,u.uppy.log("[Image Compressor] Image ".concat(q.id," compressed by ").concat(mee(D))),s+=D,F=A.name,$=A.type,Y=A.size,R=Aut(F),j=R.extension,u.uppy.setFileState(q.id,{name:F,extension:j,type:$,size:Y,data:A}),u.uppy.setFileMeta(q.id,{name:F,type:$}),G.next=17;break;case 13:G.prev=13,G.t0=G.catch(0),u.uppy.log("[Image Compressor] Failed to compress ".concat(q.id,":"),"warning"),u.uppy.log(G.t0,"warning");case 17:case"end":return G.stop()}},S,null,[[0,13]])}));return function(S){return _.apply(this,arguments)}}()),c=o.map(function(_){var S=u.uppy.getFile(_);return u.uppy.emit("preprocess-progress",S,{mode:"indeterminate",message:u.i18n("compressingImages")}),S.isRemote||(S.data.type||(S.data=S.data.slice(0,S.data.size,S.type)),!S.type.startsWith("image/"))?Promise.resolve():l(S)}),m.next=5,Promise.all(c);case 5:this.uppy.emit("compressor:complete"),s>1024&&this.uppy.info(this.i18n("compressedX",{size:mee(s)}),"info"),f=yut(o);try{for(f.s();!(p=f.n()).done;)d=p.value,v=this.uppy.getFile(d),this.uppy.emit("preprocess-complete",v)}catch(_){f.e(_)}finally{f.f()}case 9:case"end":return m.stop()}},a,this)}));function i(a){return n.apply(this,arguments)}return i}()},{key:"install",value:function(){this.uppy.addPreProcessor(this.prepareUpload)}},{key:"uninstall",value:function(){this.uppy.removePreProcessor(this.prepareUpload)}}]),r}(qut.BasePlugin);gee.exports=xut});var _ee=h(function(Se){Se.Core=tt();Se.debugLogger=Se.Core.debugLogger;Se.server=tr();Se.views={ProviderView:Ci()};Se.DefaultStore=vP();Se.ReduxStore=G9();Se.Dashboard=E$();Se.DragDrop=M$();Se.DropTarget=W$();Se.FileInput=tW();Se.Informer=Sq();Se.ProgressBar=lW();Se.StatusBar=mq();Se.ImageEditor=SW();Se.Dropbox=kW();Se.GoogleDrive=zW();Se.Instagram=XW();Se.OneDrive=iV();Se.Box=dV();Se.Facebook=SV();Se.Unsplash=AV();Se.Url=WV();Se.Webcam=AG();Se.ScreenCapture=tK();Se.Audio=VK();Se.AwsS3=PY();Se.AwsS3Multipart=WY();Se.Transloadit=GQ();Se.Tus=dT();Se.XHRUpload=lZ();Se.Form=gZ();Se.GoldenRetriever=WZ();Se.ReduxDevTools=JZ();Se.ThumbnailGenerator=zq();Se.Compressor=bee();Se.locales={}});var See=h(function(gmt,wee){globalThis.Uppy=wee.exports=_ee()});var Tu=O(),e0=z(),wae=ke(),Sae=Ke(),$l=le(),Oae=ie(),Pae=de(),Au=qe(),po=td(),t0=ae(),ht=Le(),qae=uo(),Rae=Re(),Eae=_e(),Tae=Qt(),r0=wu(),n0=V(),Aae=xe(),bd=Jt(),i0=si(),Ck=Be(),a0=un(),Wl=xt(),Dk=so(),Iae=ci(),Uk=gd(),o0=sd(),jk=kt(),Mk=Ne(),Nk=Cl(),kae=aa(),_d=lt(),Vl=Ou(),xae=Ml(),Bk=Ru(),Lk=Pu(),zk=ge(),Fae=Q_(),Cae=at(),Dae=Dr(),Hk=Ve(),wd=Et().forEach,cr=xae("hidden"),Sd="Symbol",Gl="prototype",$k=zk("toPrimitive"),Uae=Hk.set,Wk=Hk.getterFor(Sd),Ur=Object[Gl],pi=e0.Symbol,ua=pi&&pi[Gl],Vk=e0.TypeError,u0=e0.QObject,Kl=wae("JSON","stringify"),Gk=jk.f,sa=Mk.f,Kk=Uk.f,jae=Nk.f,Yk=Oae([].push),di=Vl("symbols"),Yl=Vl("op-symbols"),s0=Vl("string-to-symbol-registry"),l0=Vl("symbol-to-string-registry"),Mae=Vl("wks"),c0=!u0||!u0[Gl]||!u0[Gl].findChild,f0=Au&&t0(function(){return Wl(sa({},"a",{get:function(){return sa(this,"a",{value:7}).a}})).a!=7})?function(t,e,r){var n=Gk(Ur,e);n&&delete Ur[e],sa(t,e,r),n&&t!==Ur&&sa(Ur,e,n)}:sa,p0=function(e,r){var n=di[e]=Wl(ua);return Uae(n,{type:Sd,tag:e,description:r}),Au||(n.description=r),n},Od=function(e,r,n){e===Ur&&Od(Yl,r,n),n0(e);var i=i0(r);return n0(n),ht(di,i)?(n.enumerable?(ht(e,cr)&&e[cr][i]&&(e[cr][i]=!1),n=Wl(n,{enumerable:a0(0,!1)})):(ht(e,cr)||sa(e,cr,a0(1,{})),e[cr][i]=!0),f0(e,i,n)):sa(e,i,n)},Xk=function(e,r){n0(e);var n=bd(r),i=Dk(n).concat(h0(n));return wd(i,function(a){(!Au||$l(d0,n,a))&&Od(e,a,n[a])}),e},Nae=function(e,r){return r===void 0?Wl(e):Xk(Wl(e),r)},d0=function(e){var r=i0(e),n=$l(jae,this,r);return this===Ur&&ht(di,r)&&!ht(Yl,r)?!1:n||!ht(this,r)||!ht(di,r)||ht(this,cr)&&this[cr][r]?n:!0},Jk=function(e,r){var n=bd(e),i=i0(r);if(!(n===Ur&&ht(di,i)&&!ht(Yl,i))){var a=Gk(n,i);return a&&ht(di,i)&&!(ht(n,cr)&&n[cr][i])&&(a.enumerable=!0),a}},Qk=function(e){var r=Kk(bd(e)),n=[];return wd(r,function(i){!ht(di,i)&&!ht(Bk,i)&&Yk(n,i)}),n},h0=function(e){var r=e===Ur,n=Kk(r?Yl:bd(e)),i=[];return wd(n,function(a){ht(di,a)&&(!r||ht(Ur,a))&&Yk(i,di[a])}),i};po||(pi=function(){if(Tae(ua,this))throw Vk("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:Ck(arguments[0]),r=Lk(e),n=function i(a){this===Ur&&$l(i,Yl,a),ht(this,cr)&&ht(this[cr],r)&&(this[cr][r]=!1),f0(this,r,a0(1,a))};return Au&&c0&&f0(Ur,r,{configurable:!0,set:n}),p0(r,e)},ua=pi[Gl],_d(ua,"toString",function(){return Wk(this).tag}),_d(pi,"withoutSetter",function(t){return p0(Lk(t),t)}),Nk.f=d0,Mk.f=Od,jk.f=Jk,Iae.f=Uk.f=Qk,o0.f=h0,Fae.f=function(t){return p0(zk(t),t)},Au&&(sa(ua,"description",{configurable:!0,get:function(){return Wk(this).description}}),Pae||_d(Ur,"propertyIsEnumerable",d0,{unsafe:!0})));Tu({global:!0,wrap:!0,forced:!po,sham:!po},{Symbol:pi});wd(Dk(Mae),function(t){Cae(t)});Tu({target:Sd,stat:!0,forced:!po},{for:function(e){var r=Ck(e);if(ht(s0,r))return s0[r];var n=pi(r);return s0[r]=n,l0[n]=r,n},keyFor:function(e){if(!r0(e))throw Vk(e+" is not a symbol");if(ht(l0,e))return l0[e]},useSetter:function(){c0=!0},useSimple:function(){c0=!1}});Tu({target:"Object",stat:!0,forced:!po,sham:!Au},{create:Nae,defineProperty:Od,defineProperties:Xk,getOwnPropertyDescriptor:Jk});Tu({target:"Object",stat:!0,forced:!po},{getOwnPropertyNames:Qk,getOwnPropertySymbols:h0});Tu({target:"Object",stat:!0,forced:t0(function(){o0.f(1)})},{getOwnPropertySymbols:function(e){return o0.f(Aae(e))}});Kl&&(Zk=!po||t0(function(){var t=pi();return Kl([t])!="[null]"||Kl({a:t})!="{}"||Kl(Object(t))!="{}"}),Tu({target:"JSON",stat:!0,forced:Zk},{stringify:function(e,r,n){var i=kae(arguments),a=r;if(!(!Eae(r)&&e===void 0||r0(e)))return qae(r)||(r=function(u,s){if(Rae(a)&&(s=$l(a,this,u,s)),!r0(s))return s}),i[1]=r,Sae(Kl,null,i)}}));var Zk;ua[$k]||(ex=ua.valueOf,_d(ua,$k,function(t){return $l(ex,this)}));var ex;Dae(pi,Sd);Bk[cr]=!0;var Bae=O(),Lae=qe(),zae=z(),Pd=ie(),Hae=Le(),$ae=Re(),Wae=Qt(),Vae=Be(),Gae=Ne().f,Kae=cd(),hi=zae.Symbol,ho=hi&&hi.prototype;Lae&&$ae(hi)&&(!("description"in ho)||hi().description!==void 0)&&(v0={},Xl=function(){var e=arguments.length<1||arguments[0]===void 0?void 0:Vae(arguments[0]),r=Wae(ho,this)?new hi(e):e===void 0?hi():hi(e);return e===""&&(v0[r]=!0),r},Kae(Xl,hi),Xl.prototype=ho,ho.constructor=Xl,tx=String(hi("test"))=="Symbol(test)",rx=Pd(ho.toString),nx=Pd(ho.valueOf),ix=/^Symbol\((.*)\)[^)]+$/,ax=Pd("".replace),ox=Pd("".slice),Gae(ho,"description",{configurable:!0,get:function(){var e=nx(this),r=rx(e);if(Hae(v0,e))return"";var n=tx?ox(r,7,-1):ax(r,ix,"$1");return n===""?void 0:n}}),Bae({global:!0,forced:!0},{Symbol:Xl}));var v0,Xl,tx,rx,nx,ix,ax,ox;var Yae=at();Yae("asyncIterator");var Xae=at();Xae("hasInstance");var Jae=at();Jae("isConcatSpreadable");var Qae=at();Qae("iterator");var Zae=at();Zae("match");var eoe=at();eoe("matchAll");var toe=at();toe("replace");var roe=at();roe("search");var noe=at();noe("species");var ioe=at();ioe("split");var aoe=at();aoe("toPrimitive");var ooe=at();ooe("toStringTag");var uoe=at();uoe("unscopables");var Cmt=Cr(S0());var Oue=O(),Pue=z(),que=ae(),Rue=uo(),Eue=_e(),Tue=xe(),Aue=Ge(),Dx=fi(),Iue=fo(),kue=ku(),xue=ge(),Fue=io(),Ux=xue("isConcatSpreadable"),jx=9007199254740991,Mx="Maximum allowed index exceeded",Nx=Pue.TypeError,Cue=Fue>=51||!que(function(){var t=[];return t[Ux]=!1,t.concat()[0]!==t}),Due=kue("concat"),Uue=function(e){if(!Eue(e))return!1;var r=e[Ux];return r!==void 0?!!r:Rue(e)},jue=!Cue||!Due;Oue({target:"Array",proto:!0,forced:jue},{concat:function(e){var r=Tue(this),n=Iue(r,0),i=0,a,o,u,s,l;for(a=-1,u=arguments.length;a<u;a++)if(l=a===-1?r:arguments[a],Uue(l)){if(s=Aue(l),i+s>jx)throw Nx(Mx);for(o=0;o<s;o++,i++)o in l&&Dx(n,i,l[o])}else{if(i>=jx)throw Nx(Mx);Dx(n,i++,l)}return n.length=i,n}});var $ue=O(),Wue=P0(),Vue=Wt();$ue({target:"Array",proto:!0},{copyWithin:Wue});Vue("copyWithin");var Yue=O(),Xue=Fd(),Jue=Wt();Yue({target:"Array",proto:!0},{fill:Xue});Jue("fill");var Que=O(),Zue=Et().filter,ese=ku(),tse=ese("filter");Que({target:"Array",proto:!0,forced:!tse},{filter:function(e){return Zue(this,e,arguments.length>1?arguments[1]:void 0)}});var rse=O(),nse=Et().find,ise=Wt(),E0="find",$x=!0;E0 in[]&&Array(1)[E0](function(){$x=!1});rse({target:"Array",proto:!0,forced:$x},{find:function(e){return nse(this,e,arguments.length>1?arguments[1]:void 0)}});ise(E0);var ase=O(),ose=Et().findIndex,use=Wt(),T0="findIndex",Wx=!0;T0 in[]&&Array(1)[T0](function(){Wx=!1});ase({target:"Array",proto:!0,forced:Wx},{findIndex:function(e){return ose(this,e,arguments.length>1?arguments[1]:void 0)}});use(T0);var hse=O(),vse=A0(),yse=xe(),mse=Ge(),gse=$t(),bse=fo();hse({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,r=yse(this),n=mse(r),i=bse(r,0);return i.length=vse(i,r,r,n,0,e===void 0?1:gse(e)),i}});var _se=O(),wse=A0(),Sse=pe(),Ose=xe(),Pse=Ge(),qse=fo();_se({target:"Array",proto:!0},{flatMap:function(e){var r=Ose(this),n=Pse(r),i;return Sse(e),i=qse(r,0),i.length=wse(i,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),i}});var Nse=O(),Bse=I0(),Lse=Zl(),zse=!Lse(function(t){Array.from(t)});Nse({target:"Array",stat:!0,forced:zse},{from:Bse});var Hse=O(),$se=Bl().includes,Wse=Wt();Hse({target:"Array",proto:!0},{includes:function(e){return $se(this,e,arguments.length>1?arguments[1]:void 0)}});Wse("includes");var Wmt=Cr(rc());var ble=O(),_le=ie(),wle=no(),Sle=Jt(),Ole=nc(),Ple=_le([].join),qle=wle!=Object,Rle=Ole("join",",");ble({target:"Array",proto:!0,forced:qle||!Rle},{join:function(e){return Ple(Sle(this),e===void 0?",":e)}});var Ele=O(),Tle=Et().map,Ale=ku(),Ile=Ale("map");Ele({target:"Array",proto:!0,forced:!Ile},{map:function(e){return Tle(this,e,arguments.length>1?arguments[1]:void 0)}});var kle=O(),xle=z(),Fle=ae(),Cle=co(),Dle=fi(),_F=xle.Array,Ule=Fle(function(){function t(){}return!(_F.of.call(t)instanceof t)});kle({target:"Array",stat:!0,forced:Ule},{of:function(){for(var e=0,r=arguments.length,n=new(Cle(this)?this:_F)(r);r>e;)Dle(n,e,arguments[e++]);return n.length=r,n}});var jle=O(),Mle=z(),wF=uo(),Nle=co(),Ble=_e(),SF=li(),Lle=Ge(),zle=Jt(),Hle=fi(),$le=ge(),Wle=ku(),Vle=aa(),Gle=Wle("slice"),Kle=$le("species"),j0=Mle.Array,Yle=Math.max;jle({target:"Array",proto:!0,forced:!Gle},{slice:function(e,r){var n=zle(this),i=Lle(n),a=SF(e,i),o=SF(r===void 0?i:r,i),u,s,l;if(wF(n)&&(u=n.constructor,Nle(u)&&(u===j0||wF(u.prototype))?u=void 0:Ble(u)&&(u=u[Kle],u===null&&(u=void 0)),u===j0||u===void 0))return Vle(n,a,o);for(s=new(u===void 0?j0:u)(Yle(o-a,0)),l=0;a<o;a++,l++)a in n&&Hle(s,l,n[a]);return s.length=l,s}});var nce=O(),IF=ie(),ice=pe(),ace=xe(),oce=Ge(),kF=Be(),B0=ae(),uce=Md(),sce=nc(),xF=M0(),lce=N0(),FF=io(),CF=Nd(),ca=[],DF=IF(ca.sort),cce=IF(ca.push),fce=B0(function(){ca.sort(void 0)}),pce=B0(function(){ca.sort(null)}),dce=sce("sort"),UF=!B0(function(){if(FF)return FF<70;if(!(xF&&xF>3)){if(lce)return!0;if(CF)return CF<603;var t="",e,r,n,i;for(e=65;e<76;e++){switch(r=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)ca.push({k:r+i,v:n})}for(ca.sort(function(a,o){return o.v-a.v}),i=0;i<ca.length;i++)r=ca[i].k.charAt(0),t.charAt(t.length-1)!==r&&(t+=r);return t!=="DGBEFHACIJK"}}),hce=fce||!pce||!dce||!UF,vce=function(e){return function(r,n){return n===void 0?-1:r===void 0?1:e!==void 0?+e(r,n)||0:kF(r)>kF(n)?1:-1}};nce({target:"Array",proto:!0,forced:hce},{sort:function(e){e!==void 0&&ice(e);var r=ace(this);if(UF)return e===void 0?DF(r):DF(r,e);var n=[],i=oce(r),a,o;for(o=0;o<i;o++)o in r&&cce(n,r[o]);for(uce(n,vce(e)),a=n.length,o=0;o<a;)r[o]=n[o++];for(;o<i;)delete r[o++];return r}});var _ce=fa();_ce("Array");var wce=O(),Sce=z(),Oce=li(),Pce=$t(),qce=Ge(),Rce=xe(),Ece=fo(),Tce=fi(),Ace=ku(),Ice=Ace("splice"),kce=Sce.TypeError,xce=Math.max,Fce=Math.min,Cce=9007199254740991,Dce="Maximum allowed length exceeded";wce({target:"Array",proto:!0,forced:!Ice},{splice:function(e,r){var n=Rce(this),i=qce(n),a=Oce(e,i),o=arguments.length,u,s,l,c,f,p;if(o===0?u=s=0:o===1?(u=0,s=i-a):(u=o-2,s=Fce(xce(Pce(r),0),i-a)),i+u-s>Cce)throw kce(Dce);for(l=Ece(n,s),c=0;c<s;c++)f=a+c,f in n&&Tce(l,c,n[f]);if(l.length=s,u<s){for(c=a;c<i-s;c++)f=c+s,p=c+u,f in n?n[p]=n[f]:delete n[p];for(c=i;c>i-s+u;c--)delete n[c-1]}else if(u>s)for(c=i-s;c>a;c--)f=c+s-1,p=c+u-1,f in n?n[p]=n[f]:delete n[p];for(c=0;c<u;c++)n[c+a]=arguments[c+2];return n.length=i-s+u,l}});var Uce=Wt();Uce("flat");var jce=Wt();jce("flatMap");var vfe=O(),yfe=z(),mfe=X0(),gfe=fa(),J0="ArrayBuffer",cC=mfe[J0],bfe=yfe[J0];vfe({global:!0,forced:bfe!==cC},{ArrayBuffer:cC});gfe(J0);var Pfe=Le(),qfe=lt(),Rfe=pC(),Efe=ge(),dC=Efe("toPrimitive"),hC=Date.prototype;Pfe(hC,dC)||qfe(hC,dC,Rfe);var Tfe=Re(),vC=_e(),Afe=Ne(),Ife=Ft(),kfe=ge(),yC=kfe("hasInstance"),mC=Function.prototype;yC in mC||Afe.f(mC,yC,{value:function(e){if(!Tfe(this)||!vC(e))return!1;var r=this.prototype;if(!vC(r))return e instanceof this;for(;e=Ife(e);)if(r===e)return!0;return!1}});var xfe=qe(),Ffe=na().EXISTS,gC=ie(),Cfe=Ne().f,bC=Function.prototype,Dfe=gC(bC.toString),_C=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Ufe=gC(_C.exec),jfe="name";xfe&&!Ffe&&Cfe(bC,jfe,{configurable:!0,get:function(){try{return Ufe(_C,Dfe(this))[1]}catch(e){return""}}});var agt=Cr(Q0());var Bfe=O(),Lfe=z(),zfe=ke(),Hfe=Ke(),ac=ie(),$fe=ae(),Wfe=Lfe.Array,Gd=zfe("JSON","stringify"),Kd=ac(/./.exec),wC=ac("".charAt),Vfe=ac("".charCodeAt),Gfe=ac("".replace),Kfe=ac(1 .toString),Yfe=/[\uD800-\uDFFF]/g,SC=/^[\uD800-\uDBFF]$/,OC=/^[\uDC00-\uDFFF]$/,Xfe=function(e,r,n){var i=wC(n,r-1),a=wC(n,r+1);return Kd(SC,e)&&!Kd(OC,a)||Kd(OC,e)&&!Kd(SC,i)?"\\u"+Kfe(Vfe(e,0),16):e},Jfe=$fe(function(){return Gd("\uDF06\uD834")!=='"\\udf06\\ud834"'||Gd("\uDEAD")!=='"\\udead"'});Gd&&Bfe({target:"JSON",stat:!0,forced:Jfe},{stringify:function(e,r,n){for(var i=0,a=arguments.length,o=Wfe(a);i<a;i++)o[i]=arguments[i];var u=Hfe(Gd,null,o);return typeof u=="string"?Gfe(u,Yfe,Xfe):u}});var Qfe=z(),Zfe=Dr();Zfe(Qfe.JSON,"JSON",!0);var sgt=Cr(Qd());var Hpe=O(),$pe=ow(),uw=Math.acosh,Wpe=Math.log,LC=Math.sqrt,Vpe=Math.LN2,Gpe=!uw||Math.floor(uw(Number.MAX_VALUE))!=710||uw(1/0)!=1/0;Hpe({target:"Math",stat:!0,forced:Gpe},{acosh:function(e){return(e=+e)<1?NaN:e>9490626562425156e-8?Wpe(e)+Vpe:$pe(e-1+LC(e-1)*LC(e+1))}});var Kpe=O(),zC=Math.asinh,Ype=Math.log,Xpe=Math.sqrt;function HC(t){return!isFinite(t=+t)||t==0?t:t<0?-HC(-t):Ype(t+Xpe(t*t+1))}Kpe({target:"Math",stat:!0,forced:!(zC&&1/zC(0)>0)},{asinh:HC});var Jpe=O(),$C=Math.atanh,Qpe=Math.log;Jpe({target:"Math",stat:!0,forced:!($C&&1/$C(-0)<0)},{atanh:function(e){return(e=+e)==0?e:Qpe((1+e)/(1-e))/2}});var Zpe=O(),ede=Zd(),tde=Math.abs,rde=Math.pow;Zpe({target:"Math",stat:!0},{cbrt:function(e){return ede(e=+e)*rde(tde(e),1/3)}});var nde=O(),ide=Math.floor,ade=Math.log,ode=Math.LOG2E;nde({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-ide(ade(e+.5)*ode):32}});var sde=O(),lde=fc(),GC=Math.cosh,cde=Math.abs,sw=Math.E;sde({target:"Math",stat:!0,forced:!GC||GC(710)===1/0},{cosh:function(e){var r=lde(cde(e)-1)+1;return(r+1/(r*sw*sw))*(sw/2)}});var fde=O(),KC=fc();fde({target:"Math",stat:!0,forced:KC!=Math.expm1},{expm1:KC});var yde=O(),mde=fw();yde({target:"Math",stat:!0},{fround:mde});var gde=O(),XC=Math.hypot,bde=Math.abs,_de=Math.sqrt,wde=!!XC&&XC(1/0,NaN)!==1/0;gde({target:"Math",stat:!0,forced:wde},{hypot:function(e,r){for(var n=0,i=0,a=arguments.length,o=0,u,s;i<a;)u=bde(arguments[i++]),o<u?(s=o/u,n=n*s*s+1,o=u):u>0?(s=u/o,n+=s*s):n+=u;return o===1/0?1/0:o*_de(n)}});var Sde=O(),Ode=ae(),JC=Math.imul,Pde=Ode(function(){return JC(4294967295,5)!=-5||JC.length!=2});Sde({target:"Math",stat:!0,forced:Pde},{imul:function(e,r){var n=65535,i=+e,a=+r,o=n&i,u=n&a;return 0|o*u+((n&i>>>16)*u+o*(n&a>>>16)<<16>>>0)}});var qde=O(),Rde=Math.log,Ede=Math.LOG10E;qde({target:"Math",stat:!0},{log10:function(e){return Rde(e)*Ede}});var Tde=O(),Ade=ow();Tde({target:"Math",stat:!0},{log1p:Ade});var Ide=O(),kde=Math.log,xde=Math.LN2;Ide({target:"Math",stat:!0},{log2:function(e){return kde(e)/xde}});var Fde=O(),Cde=Zd();Fde({target:"Math",stat:!0},{sign:Cde});var Dde=O(),Ude=ae(),QC=fc(),jde=Math.abs,ZC=Math.exp,Mde=Math.E,Nde=Ude(function(){return Math.sinh(-2e-17)!=-2e-17});Dde({target:"Math",stat:!0,forced:Nde},{sinh:function(e){return jde(e=+e)<1?(QC(e)-QC(-e))/2:(ZC(e-1)-ZC(-e-1))*(Mde/2)}});var Bde=O(),e3=fc(),t3=Math.exp;Bde({target:"Math",stat:!0},{tanh:function(e){var r=e3(e=+e),n=e3(-e);return r==1/0?1:n==1/0?-1:(r-n)/(t3(e)+t3(-e))}});var Lde=Dr();Lde(Math,"Math",!0);var zde=O(),Hde=Math.ceil,$de=Math.floor;zde({target:"Math",stat:!0},{trunc:function(e){return(e>0?$de:Hde)(e)}});var Qde=qe(),hw=z(),o3=ie(),Zde=Eu(),ehe=lt(),u3=Le(),the=uc(),rhe=Qt(),nhe=wu(),s3=x_(),ihe=ae(),ahe=ci().f,ohe=kt().f,uhe=Ne().f,she=pw(),lhe=yo().trim,vw="Number",va=hw[vw],yw=va.prototype,che=hw.TypeError,fhe=o3("".slice),nh=o3("".charCodeAt),phe=function(e){var r=s3(e,"number");return typeof r=="bigint"?r:dhe(r)},dhe=function(e){var r=s3(e,"number"),n,i,a,o,u,s,l,c;if(nhe(r))throw che("Cannot convert a Symbol value to a number");if(typeof r=="string"&&r.length>2){if(r=lhe(r),n=nh(r,0),n===43||n===45){if(i=nh(r,2),i===88||i===120)return NaN}else if(n===48){switch(nh(r,1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+r}for(u=fhe(r,2),s=u.length,l=0;l<s;l++)if(c=nh(u,l),c<48||c>o)return NaN;return parseInt(u,a)}}return+r};if(Zde(vw,!va(" 0o1")||!va("0b1")||va("+0x1"))){for(mo=function(e){var r=arguments.length<1?0:va(phe(e)),n=this;return rhe(yw,n)&&ihe(function(){she(n)})?the(Object(r),n,mo):r},mw=Qde?ahe(va):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ih=0;mw.length>ih;ih++)u3(va,dc=mw[ih])&&!u3(mo,dc)&&uhe(mo,dc,ohe(va,dc));mo.prototype=yw,yw.constructor=mo,ehe(hw,vw,mo)}var mo,mw,ih,dc;var hhe=O();hhe({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)});var mhe=O(),ghe=gw();mhe({target:"Number",stat:!0},{isFinite:ghe});var whe=O(),She=ah();whe({target:"Number",stat:!0},{isInteger:She});var Ohe=O();Ohe({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var Phe=O(),qhe=ah(),Rhe=Math.abs;Phe({target:"Number",stat:!0},{isSafeInteger:function(e){return qhe(e)&&Rhe(e)<=9007199254740991}});var Ehe=O();Ehe({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991});var The=O();The({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991});var Uhe=O(),y3=v3();Uhe({target:"Number",stat:!0,forced:Number.parseFloat!=y3},{parseFloat:y3});var Hhe=O(),O3=bw();Hhe({target:"Number",stat:!0,forced:Number.parseInt!=O3},{parseInt:O3});var Yhe=O(),q3=z(),_w=ie(),Xhe=$t(),Jhe=pw(),Qhe=uh(),R3=ae(),Zhe=q3.RangeError,E3=q3.String,T3=Math.floor,ww=_w(Qhe),A3=_w("".slice),vc=_w(1 .toFixed),sh=function t(e,r,n){return r===0?n:r%2==1?t(e,r-1,n*e):t(e*e,r/2,n)},eve=function(e){for(var r=0,n=e;n>=4096;)r+=12,n/=4096;for(;n>=2;)r+=1,n/=2;return r},ju=function(e,r,n){for(var i=-1,a=n;++i<6;)a+=r*e[i],e[i]=a%1e7,a=T3(a/1e7)},Sw=function(e,r){for(var n=6,i=0;--n>=0;)i+=e[n],e[n]=T3(i/r),i=i%r*1e7},I3=function(e){for(var r=6,n="";--r>=0;)if(n!==""||r===0||e[r]!==0){var i=E3(e[r]);n=n===""?i:n+ww("0",7-i.length)+i}return n},tve=R3(function(){return vc(8e-5,3)!=="0.000"||vc(.9,0)!=="1"||vc(1.255,2)!=="1.25"||vc(1000000000000000100,0)!=="1000000000000000128"})||!R3(function(){vc({})});Yhe({target:"Number",proto:!0,forced:tve},{toFixed:function(e){var r=Jhe(this),n=Xhe(e),i=[0,0,0,0,0,0],a="",o="0",u,s,l,c;if(n<0||n>20)throw Zhe("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return E3(r);if(r<0&&(a="-",r=-r),r>1e-21)if(u=eve(r*sh(2,69,1))-69,s=u<0?r*sh(2,-u,1):r/sh(2,u,1),s*=4503599627370496,u=52-u,u>0){for(ju(i,0,s),l=n;l>=7;)ju(i,1e7,0),l-=7;for(ju(i,sh(10,l,1),0),l=u-1;l>=23;)Sw(i,1<<23),l-=23;Sw(i,1<<l),ju(i,1,1),Sw(i,2),o=I3(i)}else ju(i,0,s),ju(i,1<<-u,0),o=I3(i)+ww("0",n);return n>0?(c=o.length,o=a+(c<=n?"0."+ww("0",n-c)+o:A3(o,0,c-n)+"."+A3(o,c-n))):o=a+o,o}});var cve=O(),C3=Pw();cve({target:"Object",stat:!0,forced:Object.assign!==C3},{assign:C3});var hve=O(),vve=qe(),yve=yc(),mve=pe(),gve=xe(),bve=Ne();vve&&hve({target:"Object",proto:!0,forced:yve},{__defineGetter__:function(e,r){bve.f(gve(this),e,{get:mve(r),enumerable:!0,configurable:!0})}});var _ve=O(),wve=qe(),Sve=yc(),Ove=pe(),Pve=xe(),qve=Ne();wve&&_ve({target:"Object",proto:!0,forced:Sve},{__defineSetter__:function(e,r){qve.f(Pve(this),e,{set:Ove(r),enumerable:!0,configurable:!0})}});var xve=O(),Fve=qw().entries;xve({target:"Object",stat:!0},{entries:function(e){return Fve(e)}});var Cve=O(),Dve=Uu(),Uve=ae(),jve=_e(),Mve=ha().onFreeze,Rw=Object.freeze,Nve=Uve(function(){Rw(1)});Cve({target:"Object",stat:!0,forced:Nve,sham:!Dve},{freeze:function(e){return Rw&&jve(e)?Rw(Mve(e)):e}});var Bve=O(),Lve=ye(),zve=fi();Bve({target:"Object",stat:!0},{fromEntries:function(e){var r={};return Lve(e,function(n,i){zve(r,n,i)},{AS_ENTRIES:!0}),r}});var Hve=O(),$ve=ae(),Wve=Jt(),B3=kt().f,L3=qe(),Vve=$ve(function(){B3(1)}),Gve=!L3||Vve;Hve({target:"Object",stat:!0,forced:Gve,sham:!L3},{getOwnPropertyDescriptor:function(e,r){return B3(Wve(e),r)}});var Kve=O(),Yve=qe(),Xve=ld(),Jve=Jt(),Qve=kt(),Zve=fi();Kve({target:"Object",stat:!0,sham:!Yve},{getOwnPropertyDescriptors:function(e){for(var r=Jve(e),n=Qve.f,i=Xve(r),a={},o=0,u,s;i.length>o;)s=n(r,u=i[o++]),s!==void 0&&Zve(a,u,s);return a}});var eye=O(),tye=ae(),rye=gd().f,nye=tye(function(){return!Object.getOwnPropertyNames(1)});eye({target:"Object",stat:!0,forced:nye},{getOwnPropertyNames:rye});var iye=O(),aye=ae(),oye=xe(),z3=Ft(),uye=qd(),sye=aye(function(){z3(1)});iye({target:"Object",stat:!0,forced:sye,sham:!uye},{getPrototypeOf:function(e){return z3(oye(e))}});var lye=O(),cye=Ew();lye({target:"Object",stat:!0},{is:cye});var fye=O(),$3=oc();fye({target:"Object",stat:!0,forced:Object.isExtensible!==$3},{isExtensible:$3});var pye=O(),dye=ae(),hye=_e(),vye=lr(),W3=Yd(),Tw=Object.isFrozen,yye=dye(function(){Tw(1)});pye({target:"Object",stat:!0,forced:yye||W3},{isFrozen:function(e){return!hye(e)||W3&&vye(e)=="ArrayBuffer"?!0:Tw?Tw(e):!1}});var mye=O(),gye=ae(),bye=_e(),_ye=lr(),V3=Yd(),Aw=Object.isSealed,wye=gye(function(){Aw(1)});mye({target:"Object",stat:!0,forced:wye||V3},{isSealed:function(e){return!bye(e)||V3&&_ye(e)=="ArrayBuffer"?!0:Aw?Aw(e):!1}});var Sye=O(),Oye=xe(),G3=so(),Pye=ae(),qye=Pye(function(){G3(1)});Sye({target:"Object",stat:!0,forced:qye},{keys:function(e){return G3(Oye(e))}});var Rye=O(),Eye=qe(),Tye=yc(),Aye=xe(),Iye=si(),kye=Ft(),xye=kt().f;Eye&&Rye({target:"Object",proto:!0,forced:Tye},{__lookupGetter__:function(e){var r=Aye(this),n=Iye(e),i;do if(i=xye(r,n))return i.get;while(r=kye(r))}});var Fye=O(),Cye=qe(),Dye=yc(),Uye=xe(),jye=si(),Mye=Ft(),Nye=kt().f;Cye&&Fye({target:"Object",proto:!0,forced:Dye},{__lookupSetter__:function(e){var r=Uye(this),n=jye(e),i;do if(i=Nye(r,n))return i.set;while(r=Mye(r))}});var Bye=O(),Lye=_e(),zye=ha().onFreeze,Hye=Uu(),$ye=ae(),Iw=Object.preventExtensions,Wye=$ye(function(){Iw(1)});Bye({target:"Object",stat:!0,forced:Wye,sham:!Hye},{preventExtensions:function(e){return Iw&&Lye(e)?Iw(zye(e)):e}});var Vye=O(),Gye=_e(),Kye=ha().onFreeze,Yye=Uu(),Xye=ae(),kw=Object.seal,Jye=Xye(function(){kw(1)});Vye({target:"Object",stat:!0,forced:Jye,sham:!Yye},{seal:function(e){return kw&&Gye(e)?kw(Kye(e)):e}});var eme=pd(),tme=lt(),rme=Y3();eme||tme(Object.prototype,"toString",rme,{unsafe:!0});var nme=O(),ime=qw().values;nme({target:"Object",stat:!0},{values:function(e){return ime(e)}});var ph=O(),dh=de(),_i=z(),Mme=ke(),wi=le(),hh=xw(),AD=lt(),Nme=cn(),ID=vi(),Bme=Dr(),Lme=fa(),Xw=pe(),Pc=Re(),zme=_e(),Hme=jr(),$me=jl(),kD=ye(),Wme=Zl(),Vme=Zt(),xD=zw().set,FD=Gw(),Gme=Kw(),Kme=Yw(),CD=Bu(),Jw=Oc(),Qw=Ve(),Yme=Eu(),Xme=ge(),Jme=TD(),vh=gc(),DD=io(),Qme=Xme("species"),Dn="Promise",UD=Qw.getterFor(Dn),Zme=Qw.set,ege=Qw.getterFor(Dn),wo=hh&&hh.prototype,Mr=hh,Lu=wo,jD=_i.TypeError,Zw=_i.document,eS=_i.process,zu=CD.f,tge=zu,rge=!!(Zw&&Zw.createEvent&&_i.dispatchEvent),MD=Pc(_i.PromiseRejectionEvent),ND="unhandledrejection",nge="rejectionhandled",BD=0,LD=1,ige=2,tS=1,zD=2,rS=!1,yh,HD,nS,$D,qc=Yme(Dn,function(){var t=$me(Mr),e=t!==String(Mr);if(!e&&DD===66||dh&&!Lu.finally)return!0;if(DD>=51&&/native code/.test(t))return!1;var r=new Mr(function(a){a(1)}),n=function(o){o(function(){},function(){})},i=r.constructor={};return i[Qme]=n,rS=r.then(function(){})instanceof n,rS?!e&&Jme&&!MD:!0}),age=qc||!Wme(function(t){Mr.all(t).catch(function(){})}),WD=function(e){var r;return zme(e)&&Pc(r=e.then)?r:!1},iS=function(e,r){if(!e.notified){e.notified=!0;var n=e.reactions;FD(function(){for(var i=e.value,a=e.state==LD,o=0;n.length>o;){var u=n[o++],s=a?u.ok:u.fail,l=u.resolve,c=u.reject,f=u.domain,p,d,v;try{s?(a||(e.rejection===zD&&uge(e),e.rejection=tS),s===!0?p=i:(f&&f.enter(),p=s(i),f&&(f.exit(),v=!0)),p===u.promise?c(jD("Promise-chain cycle")):(d=WD(p))?wi(d,p,l,c):l(p)):c(i)}catch(g){f&&!v&&f.exit(),c(g)}}e.reactions=[],e.notified=!1,r&&!e.rejection&&oge(e)})}},VD=function(e,r,n){var i,a;rge?(i=Zw.createEvent("Event"),i.promise=r,i.reason=n,i.initEvent(e,!1,!0),_i.dispatchEvent(i)):i={promise:r,reason:n},!MD&&(a=_i["on"+e])?a(i):e===ND&&Kme("Unhandled promise rejection",n)},oge=function(e){wi(xD,_i,function(){var r=e.facade,n=e.value,i=GD(e),a;if(i&&(a=Jw(function(){vh?eS.emit("unhandledRejection",n,r):VD(ND,r,n)}),e.rejection=vh||GD(e)?zD:tS,a.error))throw a.value})},GD=function(e){return e.rejection!==tS&&!e.parent},uge=function(e){wi(xD,_i,function(){var r=e.facade;vh?eS.emit("rejectionHandled",r):VD(nge,r,e.value)})},Hu=function(e,r,n){return function(i){e(r,i,n)}},$u=function(e,r,n){e.done||(e.done=!0,n&&(e=n),e.value=r,e.state=ige,iS(e,!0))},KD=function t(e,r,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===r)throw jD("Promise can't be resolved itself");var i=WD(r);i?FD(function(){var a={done:!1};try{wi(i,r,Hu(t,a,e),Hu($u,a,e))}catch(o){$u(a,o,e)}}):(e.value=r,e.state=LD,iS(e,!1))}catch(a){$u({done:!1},a,e)}}};if(qc&&(Mr=function(e){Hme(this,Lu),Xw(e),wi(yh,this);var r=UD(this);try{e(Hu(KD,r),Hu($u,r))}catch(n){$u(r,n)}},Lu=Mr.prototype,yh=function(e){Zme(this,{type:Dn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:BD,value:void 0})},yh.prototype=Nme(Lu,{then:function(e,r){var n=ege(this),i=n.reactions,a=zu(Vme(this,Mr));return a.ok=Pc(e)?e:!0,a.fail=Pc(r)&&r,a.domain=vh?eS.domain:void 0,n.parent=!0,i[i.length]=a,n.state!=BD&&iS(n,!1),a.promise},catch:function(e){return this.then(void 0,e)}}),HD=function(){var e=new yh,r=UD(e);this.promise=e,this.resolve=Hu(KD,r),this.reject=Hu($u,r)},CD.f=zu=function(e){return e===Mr||e===nS?new HD(e):tge(e)},!dh&&Pc(hh)&&wo!==Object.prototype)){$D=wo.then,rS||(AD(wo,"then",function(e,r){var n=this;return new Mr(function(i,a){wi($D,n,i,a)}).then(e,r)},{unsafe:!0}),AD(wo,"catch",Lu.catch,{unsafe:!0}));try{delete wo.constructor}catch(t){}ID&&ID(wo,Lu)}ph({global:!0,wrap:!0,forced:qc},{Promise:Mr});Bme(Mr,Dn,!1,!0);Lme(Dn);nS=Mme(Dn);ph({target:Dn,stat:!0,forced:qc},{reject:function(e){var r=zu(this);return wi(r.reject,void 0,e),r.promise}});ph({target:Dn,stat:!0,forced:dh||qc},{resolve:function(e){return Gme(dh&&this===nS?Mr:this,e)}});ph({target:Dn,stat:!0,forced:age},{all:function(e){var r=this,n=zu(r),i=n.resolve,a=n.reject,o=Jw(function(){var u=Xw(r.resolve),s=[],l=0,c=1;kD(e,function(f){var p=l++,d=!1;c++,wi(u,r,f).then(function(v){d||(d=!0,s[p]=v,--c||i(s))},a)}),--c||i(s)});return o.error&&a(o.value),n.promise},race:function(e){var r=this,n=zu(r),i=n.reject,a=Jw(function(){var o=Xw(r.resolve);kD(e,function(u){wi(o,r,u).then(n.resolve,i)})});return a.error&&i(a.value),n.promise}});var obt=Cr(aS()),ubt=Cr(oS());var wge=O(),Sge=de(),Rc=xw(),Oge=ae(),XD=ke(),JD=Re(),Pge=Zt(),QD=Kw(),qge=lt(),Rge=!!Rc&&Oge(function(){Rc.prototype.finally.call({then:function(){}},function(){})});wge({target:"Promise",proto:!0,real:!0,forced:Rge},{finally:function(e){var r=Pge(this,XD("Promise")),n=JD(e);return this.then(n?function(i){return QD(r,e()).then(function(){return i})}:e,n?function(i){return QD(r,e()).then(function(){throw i})}:e)}});!Sge&&JD(Rc)&&(uS=XD("Promise").prototype.finally,Rc.prototype.finally!==uS&&qge(Rc.prototype,"finally",uS,{unsafe:!0}));var uS;var Ege=O(),Tge=Ke(),Age=pe(),Ige=V(),kge=ae(),xge=!kge(function(){Reflect.apply(function(){})});Ege({target:"Reflect",stat:!0,forced:xge},{apply:function(e,r,n){return Tge(Age(e),r,Ige(n))}});var Bge=O(),Lge=ke(),lS=Ke(),zge=nU(),iU=mc(),Hge=V(),aU=_e(),$ge=xt(),oU=ae(),cS=Lge("Reflect","construct"),Wge=Object.prototype,Vge=[].push,uU=oU(function(){function t(){}return!(cS(function(){},[],t)instanceof t)}),sU=!oU(function(){cS(function(){})}),lU=uU||sU;Bge({target:"Reflect",stat:!0,forced:lU,sham:lU},{construct:function(e,r){iU(e),Hge(r);var n=arguments.length<3?e:iU(arguments[2]);if(sU&&!uU)return cS(e,r,n);if(e==n){switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3])}var i=[null];return lS(Vge,i,r),new(lS(zge,e,i))}var a=n.prototype,o=$ge(aU(a)?a:Wge),u=lS(e,o,r);return aU(u)?u:o}});var Gge=O(),Kge=qe(),cU=V(),Yge=si(),fU=Ne(),Xge=ae(),Jge=Xge(function(){Reflect.defineProperty(fU.f({},1,{value:1}),1,{value:2})});Gge({target:"Reflect",stat:!0,forced:Jge,sham:!Kge},{defineProperty:function(e,r,n){cU(e);var i=Yge(r);cU(n);try{return fU.f(e,i,n),!0}catch(a){return!1}}});var Qge=O(),Zge=V(),ebe=kt().f;Qge({target:"Reflect",stat:!0},{deleteProperty:function(e,r){var n=ebe(Zge(e),r);return n&&!n.configurable?!1:delete e[r]}});var tbe=O(),rbe=le(),nbe=_e(),ibe=V(),abe=fS(),obe=kt(),ube=Ft();function hU(t,e){var r=arguments.length<3?t:arguments[2],n,i;if(ibe(t)===r)return t[e];if(n=obe.f(t,e),n)return abe(n)?n.value:n.get===void 0?void 0:rbe(n.get,r);if(nbe(i=ube(t)))return hU(i,e,r)}tbe({target:"Reflect",stat:!0},{get:hU});var sbe=O(),lbe=qe(),cbe=V(),fbe=kt();sbe({target:"Reflect",stat:!0,sham:!lbe},{getOwnPropertyDescriptor:function(e,r){return fbe.f(cbe(e),r)}});var pbe=O(),dbe=V(),hbe=Ft(),vbe=qd();pbe({target:"Reflect",stat:!0,sham:!vbe},{getPrototypeOf:function(e){return hbe(dbe(e))}});var ybe=O();ybe({target:"Reflect",stat:!0},{has:function(e,r){return r in e}});var mbe=O(),gbe=V(),bbe=oc();mbe({target:"Reflect",stat:!0},{isExtensible:function(e){return gbe(e),bbe(e)}});var _be=O(),wbe=ld();_be({target:"Reflect",stat:!0},{ownKeys:wbe});var Sbe=O(),Obe=ke(),Pbe=V(),qbe=Uu();Sbe({target:"Reflect",stat:!0,sham:!qbe},{preventExtensions:function(e){Pbe(e);try{var r=Obe("Object","preventExtensions");return r&&r(e),!0}catch(n){return!1}}});var Rbe=O(),Ebe=le(),Tbe=V(),vU=_e(),Abe=fS(),Ibe=ae(),pS=Ne(),yU=kt(),kbe=Ft(),mU=un();function gU(t,e,r){var n=arguments.length<4?t:arguments[3],i=yU.f(Tbe(t),e),a,o,u;if(!i){if(vU(o=kbe(t)))return gU(o,e,r,n);i=mU(0)}if(Abe(i)){if(i.writable===!1||!vU(n))return!1;if(a=yU.f(n,e)){if(a.get||a.set||a.writable===!1)return!1;a.value=r,pS.f(n,e,a)}else pS.f(n,e,mU(0,r))}else{if(u=i.set,u===void 0)return!1;Ebe(u,n,r)}return!0}var xbe=Ibe(function(){var t=function(){},e=pS.f(new t,"a",{configurable:!0});return Reflect.set(t.prototype,"a",1,e)!==!1});Rbe({target:"Reflect",stat:!0,forced:xbe},{set:gU});var Fbe=O(),Cbe=V(),Dbe=m0(),bU=vi();bU&&Fbe({target:"Reflect",stat:!0},{setPrototypeOf:function(e,r){Cbe(e),Dbe(r);try{return bU(e,r),!0}catch(n){return!1}}});var Ube=O(),jbe=z(),Mbe=Dr();Ube({global:!0},{Reflect:{}});Mbe(jbe.Reflect,"Reflect",!0);var Zbe=qe(),mS=z(),Vu=ie(),e_e=Eu(),t_e=uc(),r_e=Rt(),n_e=Ne().f,i_e=ci().f,qU=Qt(),a_e=Wu(),RU=Be(),o_e=So(),EU=Ec(),u_e=lt(),s_e=ae(),l_e=Le(),c_e=Ve().enforce,f_e=fa(),p_e=ge(),TU=mh(),AU=yS(),d_e=p_e("match"),Si=mS.RegExp,Gu=Si.prototype,h_e=mS.SyntaxError,v_e=Vu(o_e),y_e=Vu(Gu.exec),gh=Vu("".charAt),IU=Vu("".replace),kU=Vu("".indexOf),m_e=Vu("".slice),g_e=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Oo=/a/g,gS=/a/g,b_e=new Si(Oo)!==Oo,xU=EU.MISSED_STICKY,__e=EU.UNSUPPORTED_Y,w_e=Zbe&&(!b_e||xU||TU||AU||s_e(function(){return gS[d_e]=!1,Si(Oo)!=Oo||Si(gS)==gS||Si(Oo,"i")!="/a/i"})),S_e=function(e){for(var r=e.length,n=0,i="",a=!1,o;n<=r;n++){if(o=gh(e,n),o==="\\"){i+=o+gh(e,++n);continue}!a&&o==="."?i+="[\\s\\S]":(o==="["?a=!0:o==="]"&&(a=!1),i+=o)}return i},O_e=function(e){for(var r=e.length,n=0,i="",a=[],o={},u=!1,s=!1,l=0,c="",f;n<=r;n++){if(f=gh(e,n),f==="\\")f=f+gh(e,++n);else if(f==="]")u=!1;else if(!u)switch(!0){case f==="[":u=!0;break;case f==="(":y_e(g_e,m_e(e,n+1))&&(n+=2,s=!0),i+=f,l++;continue;case(f===">"&&s):if(c===""||l_e(o,c))throw new h_e("Invalid capture group name");o[c]=!0,a[a.length]=[c,l],s=!1,c="";continue}s?c+=f:i+=f}return[i,a]};if(e_e("RegExp",w_e)){for(Oi=function(e,r){var n=qU(Gu,this),i=a_e(e),a=r===void 0,o=[],u=e,s,l,c,f,p,d;if(!n&&i&&a&&e.constructor===Oi)return e;if((i||qU(Gu,e))&&(e=e.source,a&&(r="flags"in u?u.flags:v_e(u))),e=e===void 0?"":RU(e),r=r===void 0?"":RU(r),u=e,TU&&"dotAll"in Oo&&(l=!!r&&kU(r,"s")>-1,l&&(r=IU(r,/s/g,""))),s=r,xU&&"sticky"in Oo&&(c=!!r&&kU(r,"y")>-1,c&&__e&&(r=IU(r,/y/g,""))),AU&&(f=O_e(e),e=f[0],o=f[1]),p=t_e(Si(e,r),n?this:Gu,Oi),(l||c||o.length)&&(d=c_e(p),l&&(d.dotAll=!0,d.raw=Oi(S_e(e),s)),c&&(d.sticky=!0),o.length&&(d.groups=o)),e!==u)try{r_e(p,"source",u===""?"(?:)":u)}catch(v){}return p},FU=function(e){e in Oi||n_e(Oi,e,{configurable:!0,get:function(){return Si[e]},set:function(n){Si[e]=n}})},bS=i_e(Si),_S=0;bS.length>_S;)FU(bS[_S++]);Gu.constructor=Oi,Oi.prototype=Gu,u_e(mS,"RegExp",Oi)}var Oi,FU,bS,_S;f_e("RegExp");var P_e=z(),q_e=qe(),R_e=mh(),E_e=lr(),T_e=Ne().f,A_e=Ve().get,CU=RegExp.prototype,I_e=P_e.TypeError;q_e&&R_e&&T_e(CU,"dotAll",{configurable:!0,get:function(){if(this!==CU){if(E_e(this)==="RegExp")return!!A_e(this).dotAll;throw I_e("Incompatible receiver, RegExp required")}}});var qbt=Cr(wh());var W_e=qe(),V_e=Ne(),G_e=So(),K_e=ae(),MU=RegExp.prototype,Y_e=W_e&&K_e(function(){return Object.getOwnPropertyDescriptor(MU,"flags").get.call({dotAll:!0,sticky:!0})!=="sy"});Y_e&&V_e.f(MU,"flags",{configurable:!0,get:G_e});var X_e=z(),J_e=qe(),Q_e=Ec().MISSED_STICKY,Z_e=lr(),e0e=Ne().f,t0e=Ve().get,NU=RegExp.prototype,r0e=X_e.TypeError;J_e&&Q_e&&e0e(NU,"sticky",{configurable:!0,get:function(){if(this!==NU){if(Z_e(this)==="RegExp")return!!t0e(this).sticky;throw r0e("Incompatible receiver, RegExp required")}}});wh();var n0e=O(),i0e=z(),a0e=le(),o0e=ie(),u0e=Re(),s0e=_e(),l0e=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},e.test("abc")===!0&&t}(),c0e=i0e.Error,f0e=o0e(/./.test);n0e({target:"RegExp",proto:!0,forced:!l0e},{test:function(e){var r=this.exec;if(!u0e(r))return f0e(this,e);var n=a0e(r,this,e);if(n!==null&&!s0e(n))throw new c0e("RegExp exec method returned something other than an Object or null");return!!n}});var p0e=ie(),d0e=na().PROPER,h0e=lt(),v0e=V(),y0e=Qt(),BU=Be(),m0e=ae(),g0e=So(),qS="toString",RS=RegExp.prototype,LU=RS[qS],b0e=p0e(g0e),_0e=m0e(function(){return LU.call({source:"a",flags:"b"})!="/a/b"}),w0e=d0e&&LU.name!=qS;(_0e||w0e)&&h0e(RegExp.prototype,qS,function(){var e=v0e(this),r=BU(e.source),n=e.flags,i=BU(n===void 0&&y0e(RS,e)&&!("flags"in RS)?b0e(e):n);return"/"+r+"/"+i},{unsafe:!0});var S0e=sc(),O0e=aw();S0e("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},O0e);var A0e=O(),I0e=Po().codeAt;A0e({target:"String",proto:!0},{codePointAt:function(e){return I0e(this,e)}});var U0e=O(),GU=ie(),j0e=kt().f,M0e=_r(),KU=Be(),N0e=Sh(),B0e=qt(),L0e=Oh(),z0e=de(),YU=GU("".endsWith),H0e=GU("".slice),$0e=Math.min,XU=L0e("endsWith"),W0e=!z0e&&!XU&&!!function(){var t=j0e(String.prototype,"endsWith");return t&&!t.writable}();U0e({target:"String",proto:!0,forced:!W0e&&!XU},{endsWith:function(e){var r=KU(B0e(this));N0e(e);var n=arguments.length>1?arguments[1]:void 0,i=r.length,a=n===void 0?i:$0e(M0e(n),i),o=KU(e);return YU?YU(r,o,a):H0e(r,a-o.length,a)===o}});var V0e=O(),G0e=z(),K0e=ie(),Y0e=li(),X0e=G0e.RangeError,JU=String.fromCharCode,QU=String.fromCodePoint,J0e=K0e([].join),Q0e=!!QU&&QU.length!=1;V0e({target:"String",stat:!0,forced:Q0e},{fromCodePoint:function(e){for(var r=[],n=arguments.length,i=0,a;n>i;){if(a=+arguments[i++],Y0e(a,1114111)!==a)throw X0e(a+" is not a valid code point");r[i]=a<65536?JU(a):JU(((a-=65536)>>10)+55296,a%1024+56320)}return J0e(r,"")}});var Z0e=O(),ewe=ie(),twe=Sh(),rwe=qt(),ZU=Be(),nwe=Oh(),iwe=ewe("".indexOf);Z0e({target:"String",proto:!0,forced:!nwe("includes")},{includes:function(e){return!!~iwe(ZU(rwe(this)),ZU(twe(e)),arguments.length>1?arguments[1]:void 0)}});var Dbt=Cr(TS());var _we=le(),wwe=Ac(),Swe=V(),Owe=_r(),IS=Be(),Pwe=qt(),qwe=It(),Rwe=Ic(),cj=Yu();wwe("match",function(t,e,r){return[function(i){var a=Pwe(this),o=i==null?void 0:qwe(i,t);return o?_we(o,i,a):new RegExp(i)[t](IS(a))},function(n){var i=Swe(this),a=IS(n),o=r(e,i,a);if(o.done)return o.value;if(!i.global)return cj(i,a);var u=i.unicode;i.lastIndex=0;for(var s=[],l=0,c;(c=cj(i,a))!==null;){var f=IS(c[0]);s[l]=f,f===""&&(i.lastIndex=Rwe(a,Owe(i.lastIndex),u)),l++}return l===0?null:s}]});var jbt=Cr(US());var Zwe=O(),eSe=jS().end,tSe=MS();Zwe({target:"String",proto:!0,forced:tSe},{padEnd:function(e){return eSe(this,e,arguments.length>1?arguments[1]:void 0)}});var rSe=O(),nSe=jS().start,iSe=MS();rSe({target:"String",proto:!0,forced:iSe},{padStart:function(e){return nSe(this,e,arguments.length>1?arguments[1]:void 0)}});var aSe=O(),Oj=ie(),oSe=Jt(),uSe=xe(),Pj=Be(),sSe=Ge(),qj=Oj([].push),lSe=Oj([].join);aSe({target:"String",stat:!0},{raw:function(e){for(var r=oSe(uSe(e).raw),n=sSe(r),i=arguments.length,a=[],o=0;n>o;){if(qj(a,Pj(r[o++])),o===n)return lSe(a,"");o<i&&qj(a,Pj(arguments[o]))}}});var cSe=O(),fSe=uh();cSe({target:"String",proto:!0},{repeat:fSe});var mSe=Ke(),Ej=le(),Rh=ie(),gSe=Ac(),bSe=ae(),_Se=V(),wSe=Re(),SSe=$t(),OSe=_r(),Xu=Be(),PSe=qt(),qSe=Ic(),RSe=It(),ESe=zS(),TSe=Yu(),ASe=ge(),HS=ASe("replace"),ISe=Math.max,kSe=Math.min,xSe=Rh([].concat),$S=Rh([].push),Tj=Rh("".indexOf),Aj=Rh("".slice),FSe=function(e){return e===void 0?e:String(e)},CSe=function(){return"a".replace(/./,"$0")==="$0"}(),Ij=function(){return/./[HS]?/./[HS]("a","$0")==="":!1}(),DSe=!bSe(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});gSe("replace",function(t,e,r){var n=Ij?"$":"$0";return[function(a,o){var u=PSe(this),s=a==null?void 0:RSe(a,HS);return s?Ej(s,a,u,o):Ej(e,Xu(u),a,o)},function(i,a){var o=_Se(this),u=Xu(i);if(typeof a=="string"&&Tj(a,n)===-1&&Tj(a,"$<")===-1){var s=r(e,o,u,a);if(s.done)return s.value}var l=wSe(a);l||(a=Xu(a));var c=o.global;if(c){var f=o.unicode;o.lastIndex=0}for(var p=[];;){var d=TSe(o,u);if(d===null||($S(p,d),!c))break;var v=Xu(d[0]);v===""&&(o.lastIndex=qSe(u,OSe(o.lastIndex),f))}for(var g="",m=0,_=0;_<p.length;_++){d=p[_];for(var S=Xu(d[0]),q=ISe(kSe(SSe(d.index),u.length),0),A=[],D=1;D<d.length;D++)$S(A,FSe(d[D]));var F=d.groups;if(l){var $=xSe([S],A,q,u);F!==void 0&&$S($,F);var Y=Xu(mSe(a,void 0,$))}else Y=ESe(S,u,q,A,F,a);q>=m&&(g+=Aj(u,m,q)+Y,m=q+S.length)}return g+Aj(u,m)}]},!DSe||!CSe||Ij);var Hbt=Cr(WS());var QSe=le(),ZSe=Ac(),eOe=V(),tOe=qt(),Dj=Ew(),Uj=Be(),rOe=It(),nOe=Yu();ZSe("search",function(t,e,r){return[function(i){var a=tOe(this),o=i==null?void 0:rOe(i,t);return o?QSe(o,i,a):new RegExp(i)[t](Uj(a))},function(n){var i=eOe(this),a=Uj(n),o=r(e,i,a);if(o.done)return o.value;var u=i.lastIndex;Dj(u,0)||(i.lastIndex=0);var s=nOe(i,a);return Dj(i.lastIndex,u)||(i.lastIndex=u),s===null?-1:s.index}]});var iOe=Ke(),Fc=le(),VS=ie(),aOe=Ac(),oOe=Wu(),uOe=V(),jj=qt(),sOe=Zt(),lOe=Ic(),cOe=_r(),GS=Be(),fOe=It(),Mj=lo(),Nj=Yu(),pOe=Tc(),dOe=Ec(),hOe=ae(),Qu=dOe.UNSUPPORTED_Y,Bj=4294967295,vOe=Math.min,Lj=[].push,yOe=VS(/./.exec),Zu=VS(Lj),Cc=VS("".slice),mOe=!hOe(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return r.length!==2||r[0]!=="a"||r[1]!=="b"});aOe("split",function(t,e,r){var n;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?n=function(a,o){var u=GS(jj(this)),s=o===void 0?Bj:o>>>0;if(s===0)return[];if(a===void 0)return[u];if(!oOe(a))return Fc(e,u,a,s);for(var l=[],c=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(a.sticky?"y":""),f=0,p=new RegExp(a.source,c+"g"),d,v,g;(d=Fc(pOe,p,u))&&(v=p.lastIndex,!(v>f&&(Zu(l,Cc(u,f,d.index)),d.length>1&&d.index<u.length&&iOe(Lj,l,Mj(d,1)),g=d[0].length,f=v,l.length>=s)));)p.lastIndex===d.index&&p.lastIndex++;return f===u.length?(g||!yOe(p,""))&&Zu(l,""):Zu(l,Cc(u,f)),l.length>s?Mj(l,0,s):l}:"0".split(void 0,0).length?n=function(a,o){return a===void 0&&o===0?[]:Fc(e,this,a,o)}:n=e,[function(a,o){var u=jj(this),s=a==null?void 0:fOe(a,t);return s?Fc(s,a,u,o):Fc(n,GS(u),a,o)},function(i,a){var o=uOe(this),u=GS(i),s=r(n,o,u,a,n!==e);if(s.done)return s.value;var l=sOe(o,RegExp),c=o.unicode,f=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(Qu?"g":"y"),p=new l(Qu?"^(?:"+o.source+")":o,f),d=a===void 0?Bj:a>>>0;if(d===0)return[];if(u.length===0)return Nj(p,u)===null?[u]:[];for(var v=0,g=0,m=[];g<u.length;){p.lastIndex=Qu?0:g;var _=Nj(p,Qu?Cc(u,g):u),S;if(_===null||(S=vOe(cOe(p.lastIndex+(Qu?g:0)),u.length))===v)g=lOe(u,g,c);else{if(Zu(m,Cc(u,v,g)),m.length===d)return m;for(var q=1;q<=_.length-1;q++)if(Zu(m,_[q]),m.length===d)return m;g=v=S}}return Zu(m,Cc(u,v)),m}]},!mOe,Qu);var gOe=O(),zj=ie(),bOe=kt().f,_Oe=_r(),Hj=Be(),wOe=Sh(),SOe=qt(),OOe=Oh(),POe=de(),$j=zj("".startsWith),qOe=zj("".slice),ROe=Math.min,Wj=OOe("startsWith"),EOe=!POe&&!Wj&&!!function(){var t=bOe(String.prototype,"startsWith");return t&&!t.writable}();gOe({target:"String",proto:!0,forced:!EOe&&!Wj},{startsWith:function(e){var r=Hj(SOe(this));wOe(e);var n=_Oe(ROe(arguments.length>1?arguments[1]:void 0,r.length)),i=Hj(e);return $j?$j(r,i,n):qOe(r,n,n+i.length)===i}});var IOe=O(),kOe=yo().trim,xOe=Th();IOe({target:"String",proto:!0,forced:xOe("trim")},{trim:function(){return kOe(this)}});var FOe=O(),COe=yo().end,DOe=Th(),Yj=DOe("trimEnd"),Xj=Yj?function(){return COe(this)}:"".trimEnd;FOe({target:"String",proto:!0,name:"trimEnd",forced:Yj},{trimEnd:Xj,trimRight:Xj});var UOe=O(),jOe=yo().start,MOe=Th(),Jj=MOe("trimStart"),Qj=Jj?function(){return jOe(this)}:"".trimStart;UOe({target:"String",proto:!0,name:"trimStart",forced:Jj},{trimStart:Qj,trimLeft:Qj});var $Oe=O(),WOe=fr(),VOe=pr();$Oe({target:"String",proto:!0,forced:VOe("anchor")},{anchor:function(e){return WOe(this,"a","name",e)}});var GOe=O(),KOe=fr(),YOe=pr();GOe({target:"String",proto:!0,forced:YOe("big")},{big:function(){return KOe(this,"big","","")}});var XOe=O(),JOe=fr(),QOe=pr();XOe({target:"String",proto:!0,forced:QOe("blink")},{blink:function(){return JOe(this,"blink","","")}});var ZOe=O(),e1e=fr(),t1e=pr();ZOe({target:"String",proto:!0,forced:t1e("bold")},{bold:function(){return e1e(this,"b","","")}});var r1e=O(),n1e=fr(),i1e=pr();r1e({target:"String",proto:!0,forced:i1e("fixed")},{fixed:function(){return n1e(this,"tt","","")}});var a1e=O(),o1e=fr(),u1e=pr();a1e({target:"String",proto:!0,forced:u1e("fontcolor")},{fontcolor:function(e){return o1e(this,"font","color",e)}});var s1e=O(),l1e=fr(),c1e=pr();s1e({target:"String",proto:!0,forced:c1e("fontsize")},{fontsize:function(e){return l1e(this,"font","size",e)}});var f1e=O(),p1e=fr(),d1e=pr();f1e({target:"String",proto:!0,forced:d1e("italics")},{italics:function(){return p1e(this,"i","","")}});var h1e=O(),v1e=fr(),y1e=pr();h1e({target:"String",proto:!0,forced:y1e("link")},{link:function(e){return v1e(this,"a","href",e)}});var m1e=O(),g1e=fr(),b1e=pr();m1e({target:"String",proto:!0,forced:b1e("small")},{small:function(){return g1e(this,"small","","")}});var _1e=O(),w1e=fr(),S1e=pr();_1e({target:"String",proto:!0,forced:S1e("strike")},{strike:function(){return w1e(this,"strike","","")}});var O1e=O(),P1e=fr(),q1e=pr();O1e({target:"String",proto:!0,forced:q1e("sub")},{sub:function(){return P1e(this,"sub","","")}});var R1e=O(),E1e=fr(),T1e=pr();R1e({target:"String",proto:!0,forced:T1e("sup")},{sup:function(){return E1e(this,"sup","","")}});var PPe=jn();PPe("Float32",function(t){return function(r,n,i){return t(this,r,n,i)}});var qPe=jn();qPe("Float64",function(t){return function(r,n,i){return t(this,r,n,i)}});var RPe=jn();RPe("Int8",function(t){return function(r,n,i){return t(this,r,n,i)}});var EPe=jn();EPe("Int16",function(t){return function(r,n,i){return t(this,r,n,i)}});var TPe=jn();TPe("Int32",function(t){return function(r,n,i){return t(this,r,n,i)}});var APe=jn();APe("Uint8",function(t){return function(r,n,i){return t(this,r,n,i)}});var IPe=jn();IPe("Uint8",function(t){return function(r,n,i){return t(this,r,n,i)}},!0);var kPe=jn();kPe("Uint16",function(t){return function(r,n,i){return t(this,r,n,i)}});var xPe=jn();xPe("Uint32",function(t){return function(r,n,i){return t(this,r,n,i)}});var FPe=ie(),CM=Ee(),CPe=P0(),DPe=FPe(CPe),UPe=CM.aTypedArray,jPe=CM.exportTypedArrayMethod;jPe("copyWithin",function(e,r){return DPe(UPe(this),e,r,arguments.length>2?arguments[2]:void 0)});var DM=Ee(),MPe=Et().every,NPe=DM.aTypedArray,BPe=DM.exportTypedArrayMethod;BPe("every",function(e){return MPe(NPe(this),e,arguments.length>1?arguments[1]:void 0)});var UM=Ee(),LPe=le(),zPe=Fd(),HPe=UM.aTypedArray,$Pe=UM.exportTypedArrayMethod;$Pe("fill",function(e){var r=arguments.length;return LPe(zPe,HPe(this),e,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)});var zM=Ee(),XPe=Et().filter,JPe=Dh(),QPe=zM.aTypedArray,ZPe=zM.exportTypedArrayMethod;ZPe("filter",function(e){var r=XPe(QPe(this),e,arguments.length>1?arguments[1]:void 0);return JPe(this,r)});var HM=Ee(),eqe=Et().find,tqe=HM.aTypedArray,rqe=HM.exportTypedArrayMethod;rqe("find",function(e){return eqe(tqe(this),e,arguments.length>1?arguments[1]:void 0)});var $M=Ee(),nqe=Et().findIndex,iqe=$M.aTypedArray,aqe=$M.exportTypedArrayMethod;aqe("findIndex",function(e){return nqe(iqe(this),e,arguments.length>1?arguments[1]:void 0)});var WM=Ee(),oqe=Et().forEach,uqe=WM.aTypedArray,sqe=WM.exportTypedArrayMethod;sqe("forEach",function(e){oqe(uqe(this),e,arguments.length>1?arguments[1]:void 0)});var lqe=Ih(),cqe=Ee().exportTypedArrayStaticMethod,fqe=uO();cqe("from",fqe,lqe);var VM=Ee(),pqe=Bl().includes,dqe=VM.aTypedArray,hqe=VM.exportTypedArrayMethod;hqe("includes",function(e){return pqe(dqe(this),e,arguments.length>1?arguments[1]:void 0)});var GM=Ee(),vqe=Bl().indexOf,yqe=GM.aTypedArray,mqe=GM.exportTypedArrayMethod;mqe("indexOf",function(e){return vqe(yqe(this),e,arguments.length>1?arguments[1]:void 0)});var gqe=z(),yO=ie(),KM=na().PROPER,YM=Ee(),mO=rc(),bqe=ge(),XM=bqe("iterator"),JM=gqe.Uint8Array,_qe=yO(mO.values),wqe=yO(mO.keys),Sqe=yO(mO.entries),gO=YM.aTypedArray,Uh=YM.exportTypedArrayMethod,QM=JM&&JM.prototype[XM],ZM=!!QM&&QM.name==="values",e5=function(){return _qe(gO(this))};Uh("entries",function(){return Sqe(gO(this))});Uh("keys",function(){return wqe(gO(this))});Uh("values",e5,KM&&!ZM);Uh(XM,e5,KM&&!ZM);var t5=Ee(),Oqe=ie(),Pqe=t5.aTypedArray,qqe=t5.exportTypedArrayMethod,Rqe=Oqe([].join);qqe("join",function(e){return Rqe(Pqe(this),e)});var a5=Ee(),Dqe=Ke(),Uqe=i5(),jqe=a5.aTypedArray,Mqe=a5.exportTypedArrayMethod;Mqe("lastIndexOf",function(e){var r=arguments.length;return Dqe(Uqe,jqe(this),r>1?[e,arguments[1]]:[e])});var o5=Ee(),Nqe=Et().map,Bqe=jc(),Lqe=o5.aTypedArray,zqe=o5.exportTypedArrayMethod;zqe("map",function(e){return Nqe(Lqe(this),e,arguments.length>1?arguments[1]:void 0,function(r,n){return new(Bqe(r))(n)})});var u5=Ee(),Hqe=Ih(),$qe=u5.aTypedArrayConstructor,Wqe=u5.exportTypedArrayStaticMethod;Wqe("of",function(){for(var e=0,r=arguments.length,n=new($qe(this))(r);r>e;)n[e]=arguments[e++];return n},Hqe);var c5=Ee(),Qqe=_O().left,Zqe=c5.aTypedArray,eRe=c5.exportTypedArrayMethod;eRe("reduce",function(e){var r=arguments.length;return Qqe(Zqe(this),e,r,r>1?arguments[1]:void 0)});var f5=Ee(),tRe=_O().right,rRe=f5.aTypedArray,nRe=f5.exportTypedArrayMethod;nRe("reduceRight",function(e){var r=arguments.length;return tRe(rRe(this),e,r,r>1?arguments[1]:void 0)});var p5=Ee(),iRe=p5.aTypedArray,aRe=p5.exportTypedArrayMethod,oRe=Math.floor;aRe("reverse",function(){for(var e=this,r=iRe(e).length,n=oRe(r/2),i=0,a;i<n;)a=e[i],e[i++]=e[--r],e[r]=a;return e});var uRe=z(),d5=Ee(),sRe=Ge(),lRe=oO(),cRe=xe(),fRe=ae(),pRe=uRe.RangeError,dRe=d5.aTypedArray,hRe=d5.exportTypedArrayMethod,vRe=fRe(function(){new Int8Array(1).set({})});hRe("set",function(e){dRe(this);var r=lRe(arguments.length>1?arguments[1]:void 0,1),n=this.length,i=cRe(e),a=sRe(i),o=0;if(a+r>n)throw pRe("Wrong length");for(;o<a;)this[r+o]=i[o++]},vRe);var h5=Ee(),yRe=jc(),mRe=ae(),gRe=aa(),bRe=h5.aTypedArray,_Re=h5.exportTypedArrayMethod,wRe=mRe(function(){new Int8Array(1).slice()});_Re("slice",function(e,r){for(var n=gRe(bRe(this),e,r),i=yRe(this),a=0,o=n.length,u=new i(o);o>a;)u[a]=n[a++];return u},wRe);var v5=Ee(),SRe=Et().some,ORe=v5.aTypedArray,PRe=v5.exportTypedArrayMethod;PRe("some",function(e){return SRe(ORe(this),e,arguments.length>1?arguments[1]:void 0)});var y5=z(),qRe=ie(),wO=ae(),RRe=pe(),ERe=Md(),m5=Ee(),g5=M0(),TRe=N0(),b5=io(),_5=Nd(),ARe=y5.Array,IRe=m5.aTypedArray,kRe=m5.exportTypedArrayMethod,Mc=y5.Uint16Array,is=Mc&&qRe(Mc.prototype.sort),xRe=!!is&&!(wO(function(){is(new Mc(2),null)})&&wO(function(){is(new Mc(2),{})})),w5=!!is&&!wO(function(){if(b5)return b5<74;if(g5)return g5<67;if(TRe)return!0;if(_5)return _5<602;var t=new Mc(516),e=ARe(516),r,n;for(r=0;r<516;r++)n=r%4,t[r]=515-r,e[r]=r-2*n+3;for(is(t,function(i,a){return(i/4|0)-(a/4|0)}),r=0;r<516;r++)if(t[r]!==e[r])return!0}),FRe=function(e){return function(r,n){return e!==void 0?+e(r,n)||0:n!==n?-1:r!==r?1:r===0&&n===0?1/r>0&&1/n<0?1:-1:r>n}};kRe("sort",function(e){return e!==void 0&&RRe(e),w5?is(this,e):ERe(IRe(this),FRe(e))},!w5||xRe);var S5=Ee(),CRe=_r(),O5=li(),DRe=jc(),URe=S5.aTypedArray,jRe=S5.exportTypedArrayMethod;jRe("subarray",function(e,r){var n=URe(this),i=n.length,a=O5(e,i),o=DRe(n);return new o(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,CRe((r===void 0?i:O5(r,i))-a))});var MRe=z(),NRe=Ke(),P5=Ee(),SO=ae(),q5=aa(),jh=MRe.Int8Array,R5=P5.aTypedArray,BRe=P5.exportTypedArrayMethod,E5=[].toLocaleString,LRe=!!jh&&SO(function(){E5.call(new jh(1))}),zRe=SO(function(){return[1,2].toLocaleString()!=new jh([1,2]).toLocaleString()})||!SO(function(){jh.prototype.toLocaleString.call([1,2])});BRe("toLocaleString",function(){return NRe(E5,LRe?q5(R5(this)):R5(this),q5(arguments))},zRe);var HRe=Ee().exportTypedArrayMethod,$Re=ae(),WRe=z(),VRe=ie(),T5=WRe.Uint8Array,GRe=T5&&T5.prototype||{},Mh=[].toString,KRe=VRe([].join);$Re(function(){Mh.call({})})&&(Mh=function(){return KRe(this)});var YRe=GRe.toString!=Mh;HRe("toString",Mh,YRe);var H_t=Cr(Wh());var pEe=sc(),dEe=qO();pEe("WeakSet",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},dEe);S0();M5();var bEe=O(),_Ee=Et().filterReject,wEe=Wt();bEe({target:"Array",proto:!0},{filterOut:function(e){return _Ee(this,e,arguments.length>1?arguments[1]:void 0)}});wEe("filterOut");var REe=O(),EEe=Lc().findLast,TEe=Wt();REe({target:"Array",proto:!0},{findLast:function(e){return EEe(this,e,arguments.length>1?arguments[1]:void 0)}});TEe("findLast");var AEe=O(),IEe=Lc().findLastIndex,kEe=Wt();AEe({target:"Array",proto:!0},{findLastIndex:function(e){return IEe(this,e,arguments.length>1?arguments[1]:void 0)}});kEe("findLastIndex");var xEe=O(),FEe=uo(),L5=Object.isFrozen,z5=function(e,r){if(!L5||!FEe(e)||!L5(e))return!1;for(var n=0,i=e.length,a;n<i;)if(a=e[n++],!(typeof a=="string"||r&&typeof a=="undefined"))return!1;return i!==0};xEe({target:"Array",stat:!0},{isTemplateObject:function(e){if(!z5(e,!0))return!1;var r=e.raw;return!(r.length!==e.length||!z5(r,!1))}});var CEe=qe(),DEe=Wt(),UEe=xe(),jEe=Ge(),MEe=Ne().f;CEe&&!("lastIndex"in[])&&(MEe(Array.prototype,"lastIndex",{configurable:!0,get:function(){var e=UEe(this),r=jEe(e);return r==0?0:r-1}}),DEe("lastIndex"));var NEe=qe(),BEe=Wt(),H5=xe(),$5=Ge(),LEe=Ne().f;NEe&&!("lastItem"in[])&&(LEe(Array.prototype,"lastItem",{configurable:!0,get:function(){var e=H5(this),r=$5(e);return r==0?void 0:e[r-1]},set:function(e){var r=H5(this),n=$5(r);return r[n==0?0:n-1]=e}}),BEe("lastItem"));var JEe=O(),QEe=Wt(),ZEe=Gh();JEe({target:"Array",proto:!0},{uniqueBy:ZEe});QEe("uniqueBy");var iTe=O(),aTe=jr(),tN=Rt(),rN=Le(),oTe=ge(),To=zc(),nN=de(),iN=oTe("toStringTag"),kO=function(){aTe(this,To)};kO.prototype=To;rN(To,iN)||tN(To,iN,"AsyncIterator");(nN||!rN(To,"constructor")||To.constructor===Object)&&tN(To,"constructor",kO);iTe({global:!0,forced:nN},{AsyncIterator:kO});var yTe=O(),mTe=Ke(),CO=V(),gTe=ma(),bTe=gTe(function(t,e){var r=this,n=r.iterator;return t.resolve(CO(mTe(r.next,n,e))).then(function(i){return CO(i).done?(r.done=!0,{done:!0,value:void 0}):{done:!1,value:[r.index++,i.value]}})});yTe({target:"AsyncIterator",proto:!0,real:!0},{asIndexedPairs:function(){return new bTe({iterator:CO(this),index:0})}});var _Te=O(),wTe=Ke(),DO=V(),STe=rs(),OTe=ma(),PTe=OTe(function(t,e){var r=this;return new t(function(n,i){var a=function o(){try{t.resolve(DO(wTe(r.next,r.iterator,r.remaining?[]:e))).then(function(u){try{DO(u).done?(r.done=!0,n({done:!0,value:void 0})):r.remaining?(r.remaining--,o()):n({done:!1,value:u.value})}catch(s){i(s)}},i)}catch(u){i(u)}};a()})});_Te({target:"AsyncIterator",proto:!0,real:!0},{drop:function(e){return new PTe({iterator:DO(this),remaining:STe(e)})}});var ITe=O(),kTe=os().every;ITe({target:"AsyncIterator",proto:!0,real:!0},{every:function(e){return kTe(this,e)}});var xTe=O(),FTe=Ke(),CTe=pe(),jO=V(),DTe=ma(),UTe=DTe(function(t,e){var r=this,n=r.filterer;return new t(function(i,a){var o=function u(){try{t.resolve(jO(FTe(r.next,r.iterator,e))).then(function(s){try{if(jO(s).done)r.done=!0,i({done:!0,value:void 0});else{var l=s.value;t.resolve(n(l)).then(function(c){c?i({done:!1,value:l}):u()},a)}}catch(c){a(c)}},a)}catch(s){a(s)}};o()})});xTe({target:"AsyncIterator",proto:!0,real:!0},{filter:function(e){return new UTe({iterator:jO(this),filterer:CTe(e)})}});var jTe=O(),MTe=os().find;jTe({target:"AsyncIterator",proto:!0,real:!0},{find:function(e){return MTe(this,e)}});var JTe=O(),bN=le(),_N=pe(),Wc=V(),QTe=ma(),ZTe=zO(),eAe=QTe(function(t){var e=this,r=e.mapper,n;return new t(function(i,a){var o=function(){try{t.resolve(Wc(bN(e.next,e.iterator))).then(function(l){try{Wc(l).done?(e.done=!0,i({done:!0,value:void 0})):t.resolve(r(l.value)).then(function(c){try{return e.innerIterator=n=ZTe(c),e.innerNext=_N(n.next),u()}catch(f){a(f)}},a)}catch(c){a(c)}},a)}catch(l){a(l)}},u=function(){if(n=e.innerIterator)try{t.resolve(Wc(bN(e.innerNext,n))).then(function(l){try{Wc(l).done?(e.innerIterator=e.innerNext=null,o()):i({done:!1,value:l.value})}catch(c){a(c)}},a)}catch(l){a(l)}else o()};u()})});JTe({target:"AsyncIterator",proto:!0,real:!0},{flatMap:function(e){return new eAe({iterator:Wc(this),mapper:_N(e),innerIterator:null,innerNext:null})}});var tAe=O(),rAe=os().forEach;tAe({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(e){return rAe(this,e)}});var nAe=O(),iAe=Ke(),aAe=V(),oAe=xe(),uAe=Qt(),sAe=zc(),lAe=ma(),cAe=zO(),fAe=ln(),pAe=yi(),dAe=It(),hAe=ge(),vAe=LO(),yAe=hAe("asyncIterator"),mAe=lAe(function(t,e){return aAe(iAe(this.next,this.iterator,e))},!0);nAe({target:"AsyncIterator",stat:!0},{from:function(e){var r=oAe(e),n=dAe(r,yAe),i;return n&&(i=cAe(r,n),uAe(sAe,i))?i:i===void 0&&(n=pAe(r),n)?new vAe(fAe(r,n)):new mAe({iterator:i!==void 0?i:r})}});var gAe=O(),bAe=Ke(),_Ae=pe(),HO=V(),wAe=ma(),SAe=wAe(function(t,e){var r=this,n=r.mapper;return t.resolve(HO(bAe(r.next,r.iterator,e))).then(function(i){return HO(i).done?(r.done=!0,{done:!0,value:void 0}):t.resolve(n(i.value)).then(function(a){return{done:!1,value:a}})})});gAe({target:"AsyncIterator",proto:!0,real:!0},{map:function(e){return new SAe({iterator:HO(this),mapper:_Ae(e)})}});var OAe=O(),PAe=z(),qAe=le(),wN=pe(),$O=V(),RAe=ke(),WO=RAe("Promise"),EAe=PAe.TypeError;OAe({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(e){var r=$O(this),n=wN(r.next),i=arguments.length<2,a=i?void 0:arguments[1];return wN(e),new WO(function(o,u){var s=function l(){try{WO.resolve($O(qAe(n,r))).then(function(c){try{if($O(c).done)i?u(EAe("Reduce of empty iterator with no initial value")):o(a);else{var f=c.value;i?(i=!1,a=f,l()):WO.resolve(e(a,f)).then(function(p){a=p,l()},u)}}catch(p){u(p)}},u)}catch(c){u(c)}};s()})}});var TAe=O(),AAe=os().some;TAe({target:"AsyncIterator",proto:!0,real:!0},{some:function(e){return AAe(this,e)}});var IAe=O(),kAe=Ke(),xAe=le(),FAe=V(),CAe=rs(),DAe=ma(),UAe=DAe(function(t,e){var r=this.iterator,n,i;return this.remaining--?kAe(this.next,r,e):(i={done:!0,value:void 0},this.done=!0,n=r.return,n!==void 0?t.resolve(xAe(n,r)).then(function(){return i}):i)});IAe({target:"AsyncIterator",proto:!0,real:!0},{take:function(e){return new UAe({iterator:FAe(this),remaining:CAe(e)})}});var jAe=O(),MAe=os().toArray;jAe({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return MAe(this,void 0,[])}});var HAe=O(),$Ae=KO();typeof BigInt=="function"&&HAe({target:"BigInt",stat:!0},{range:function(e,r,n){return new $Ae(e,r,n,"bigint",BigInt(0),BigInt(1))}});var XAe=O(),JAe=z(),QAe=Ke(),ZAe=YO(),e2e=ke(),FN=xt(),t2e=JAe.Object,r2e=function(){var e=e2e("Object","freeze");return e?e(FN(null)):FN(null)};XAe({global:!0},{compositeKey:function(){return QAe(ZAe,t2e,arguments).get("object",r2e)}});var n2e=O(),i2e=YO(),CN=ke(),a2e=Ke();n2e({global:!0},{compositeSymbol:function(){return arguments.length==1&&typeof arguments[0]=="string"?CN("Symbol").for(arguments[0]):a2e(i2e,null,arguments).get("symbol",CN("Symbol"))}});Q0();var o2e=O(),u2e=z(),s2e=jr(),l2e=Re(),DN=Rt(),c2e=ae(),UN=Le(),f2e=ge(),ga=xu().IteratorPrototype,p2e=de(),jN=f2e("toStringTag"),XO=u2e.Iterator,MN=p2e||!l2e(XO)||XO.prototype!==ga||!c2e(function(){XO({})}),JO=function(){s2e(this,ga)};UN(ga,jN)||DN(ga,jN,"Iterator");(MN||!UN(ga,"constructor")||ga.constructor===Object)&&DN(ga,"constructor",JO);JO.prototype=ga;o2e({global:!0,forced:MN},{Iterator:JO});var S2e=O(),O2e=Ke(),HN=V(),P2e=ba(),q2e=P2e(function(t){var e=HN(O2e(this.next,this.iterator,t)),r=this.done=!!e.done;if(!r)return[this.index++,e.value]});S2e({target:"Iterator",proto:!0,real:!0},{asIndexedPairs:function(){return new q2e({iterator:HN(this),index:0})}});var R2e=O(),E2e=Ke(),T2e=le(),e1=V(),A2e=rs(),I2e=ba(),k2e=I2e(function(t){for(var e=this.iterator,r=this.next,n,i;this.remaining;)if(this.remaining--,n=e1(T2e(r,e)),i=this.done=!!n.done,i)return;if(n=e1(E2e(r,e,t)),i=this.done=!!n.done,!i)return n.value});R2e({target:"Iterator",proto:!0,real:!0},{drop:function(e){return new k2e({iterator:e1(this),remaining:A2e(e)})}});var x2e=O(),F2e=ye(),C2e=pe(),D2e=V();x2e({target:"Iterator",proto:!0,real:!0},{every:function(e){return D2e(this),C2e(e),!F2e(this,function(r,n){if(!e(r))return n()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var U2e=O(),j2e=Ke(),M2e=pe(),$N=V(),N2e=ba(),B2e=Cd(),L2e=N2e(function(t){for(var e=this.iterator,r=this.filterer,n=this.next,i,a,o;;){if(i=$N(j2e(n,e,t)),a=this.done=!!i.done,a)return;if(o=i.value,B2e(e,r,o))return o}});U2e({target:"Iterator",proto:!0,real:!0},{filter:function(e){return new L2e({iterator:$N(this),filterer:M2e(e)})}});var z2e=O(),H2e=ye(),$2e=pe(),W2e=V();z2e({target:"Iterator",proto:!0,real:!0},{find:function(e){return W2e(this),$2e(e),H2e(this,function(r,n){if(e(r))return n(r)},{IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var V2e=O(),G2e=z(),t1=le(),WN=pe(),Zh=V(),K2e=yi(),Y2e=ba(),X2e=Jl(),J2e=G2e.TypeError,Q2e=Y2e(function(){for(var t=this.iterator,e=this.mapper,r,n,i,a;;)try{if(a=this.innerIterator){if(r=Zh(t1(this.innerNext,a)),!r.done)return r.value;this.innerIterator=this.innerNext=null}if(r=Zh(t1(this.next,t)),this.done=!!r.done)return;if(n=e(r.value),i=K2e(n),!i)throw J2e(".flatMap callback should return an iterable object");this.innerIterator=a=Zh(t1(i,n)),this.innerNext=WN(a.next)}catch(o){X2e(t,"throw",o)}});V2e({target:"Iterator",proto:!0,real:!0},{flatMap:function(e){return new Q2e({iterator:Zh(this),mapper:WN(e),innerIterator:null,innerNext:null})}});var Z2e=O(),eIe=ye(),tIe=V();Z2e({target:"Iterator",proto:!0,real:!0},{forEach:function(e){eIe(tIe(this),e,{IS_ITERATOR:!0})}});var rIe=O(),nIe=Ke(),iIe=V(),aIe=xe(),oIe=Qt(),uIe=xu().IteratorPrototype,sIe=ba(),lIe=ln(),cIe=yi(),fIe=sIe(function(t){var e=iIe(nIe(this.next,this.iterator,t)),r=this.done=!!e.done;if(!r)return e.value},!0);rIe({target:"Iterator",stat:!0},{from:function(e){var r=aIe(e),n=cIe(r),i;if(n){if(i=lIe(r,n),oIe(uIe,i))return i}else i=r;return new fIe({iterator:i})}});var pIe=O(),dIe=Ke(),hIe=pe(),VN=V(),vIe=ba(),yIe=Cd(),mIe=vIe(function(t){var e=this.iterator,r=VN(dIe(this.next,e,t)),n=this.done=!!r.done;if(!n)return yIe(e,this.mapper,r.value)});pIe({target:"Iterator",proto:!0,real:!0},{map:function(e){return new mIe({iterator:VN(this),mapper:hIe(e)})}});var gIe=O(),bIe=z(),_Ie=ye(),wIe=pe(),SIe=V(),OIe=bIe.TypeError;gIe({target:"Iterator",proto:!0,real:!0},{reduce:function(e){SIe(this),wIe(e);var r=arguments.length<2,n=r?void 0:arguments[1];if(_Ie(this,function(i){r?(r=!1,n=i):n=e(n,i)},{IS_ITERATOR:!0}),r)throw OIe("Reduce of empty iterator with no initial value");return n}});var PIe=O(),qIe=ye(),RIe=pe(),EIe=V();PIe({target:"Iterator",proto:!0,real:!0},{some:function(e){return EIe(this),RIe(e),qIe(this,function(r,n){if(e(r))return n()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var TIe=O(),AIe=Ke(),GN=V(),IIe=rs(),kIe=ba(),xIe=Jl(),FIe=kIe(function(t){var e=this.iterator;if(!this.remaining--)return this.done=!0,xIe(e,"normal",void 0);var r=GN(AIe(this.next,e,t)),n=this.done=!!r.done;if(!n)return r.value});TIe({target:"Iterator",proto:!0,real:!0},{take:function(e){return new FIe({iterator:GN(this),remaining:IIe(e)})}});var CIe=O(),DIe=ye(),UIe=V(),jIe=[].push;CIe({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return DIe(UIe(this),jIe,{that:e,IS_ITERATOR:!0}),e}});var LIe=O(),zIe=de(),HIe=Kc();LIe({target:"Map",proto:!0,real:!0,forced:zIe},{deleteAll:HIe});var WIe=O(),VIe=de(),GIe=i1();WIe({target:"Map",proto:!0,real:!0,forced:VIe},{emplace:GIe});var YIe=O(),XIe=de(),JIe=V(),QIe=Ye(),ZIe=dn(),eke=ye();YIe({target:"Map",proto:!0,real:!0,forced:XIe},{every:function(e){var r=JIe(this),n=ZIe(r),i=QIe(e,arguments.length>1?arguments[1]:void 0);return!eke(n,function(a,o,u){if(!i(o,a,r))return u()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var tke=de(),rke=O(),nke=ke(),ike=Ye(),ake=le(),oke=pe(),uke=V(),ske=Zt(),lke=dn(),cke=ye();rke({target:"Map",proto:!0,real:!0,forced:tke},{filter:function(e){var r=uke(this),n=lke(r),i=ike(e,arguments.length>1?arguments[1]:void 0),a=new(ske(r,nke("Map"))),o=oke(a.set);return cke(n,function(u,s){i(s,u,r)&&ake(o,a,u,s)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),a}});var fke=O(),pke=de(),dke=V(),hke=Ye(),vke=dn(),yke=ye();fke({target:"Map",proto:!0,real:!0,forced:pke},{find:function(e){var r=dke(this),n=vke(r),i=hke(e,arguments.length>1?arguments[1]:void 0);return yke(n,function(a,o,u){if(i(o,a,r))return u(o)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var mke=O(),gke=de(),bke=V(),_ke=Ye(),wke=dn(),Ske=ye();mke({target:"Map",proto:!0,real:!0,forced:gke},{findKey:function(e){var r=bke(this),n=wke(r),i=_ke(e,arguments.length>1?arguments[1]:void 0);return Ske(n,function(a,o,u){if(i(o,a,r))return u(a)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var Eke=O(),Tke=Yc();Eke({target:"Map",stat:!0},{from:Tke});var Ake=O(),a1=le(),Ike=ie(),ev=pe(),kke=ln(),xke=ye(),Fke=Ike([].push);Ake({target:"Map",stat:!0},{groupBy:function(e,r){ev(r);var n=kke(e),i=new this,a=ev(i.has),o=ev(i.get),u=ev(i.set);return xke(n,function(s){var l=r(s);a1(a,i,l)?Fke(a1(o,i,l),s):a1(u,i,l,[s])},{IS_ITERATOR:!0}),i}});var Cke=de(),Dke=O(),Uke=V(),jke=dn(),Mke=t8(),Nke=ye();Dke({target:"Map",proto:!0,real:!0,forced:Cke},{includes:function(e){return Nke(jke(Uke(this)),function(r,n,i){if(Mke(n,e))return i()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var Bke=O(),Lke=le(),zke=ye(),r8=pe();Bke({target:"Map",stat:!0},{keyBy:function(e,r){var n=new this;r8(r);var i=r8(n.set);return zke(e,function(a){Lke(i,n,r(a),a)}),n}});var Hke=O(),$ke=de(),Wke=V(),Vke=dn(),Gke=ye();Hke({target:"Map",proto:!0,real:!0,forced:$ke},{keyOf:function(e){return Gke(Vke(Wke(this)),function(r,n,i){if(n===e)return i(r)},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var Kke=de(),Yke=O(),Xke=ke(),Jke=Ye(),Qke=le(),Zke=pe(),exe=V(),txe=Zt(),rxe=dn(),nxe=ye();Yke({target:"Map",proto:!0,real:!0,forced:Kke},{mapKeys:function(e){var r=exe(this),n=rxe(r),i=Jke(e,arguments.length>1?arguments[1]:void 0),a=new(txe(r,Xke("Map"))),o=Zke(a.set);return nxe(n,function(u,s){Qke(o,a,i(s,u,r),s)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),a}});var ixe=de(),axe=O(),oxe=ke(),uxe=Ye(),sxe=le(),lxe=pe(),cxe=V(),fxe=Zt(),pxe=dn(),dxe=ye();axe({target:"Map",proto:!0,real:!0,forced:ixe},{mapValues:function(e){var r=cxe(this),n=pxe(r),i=uxe(e,arguments.length>1?arguments[1]:void 0),a=new(fxe(r,oxe("Map"))),o=lxe(a.set);return dxe(n,function(u,s){sxe(o,a,u,i(s,u,r))},{AS_ENTRIES:!0,IS_ITERATOR:!0}),a}});var hxe=O(),vxe=de(),yxe=pe(),mxe=V(),gxe=ye();hxe({target:"Map",proto:!0,real:!0,forced:vxe},{merge:function(e){for(var r=mxe(this),n=yxe(r.set),i=arguments.length,a=0;a<i;)gxe(arguments[a++],n,{that:r,AS_ENTRIES:!0});return r}});var _xe=O(),wxe=Xc();_xe({target:"Map",stat:!0},{of:wxe});var Sxe=O(),Oxe=z(),Pxe=de(),qxe=V(),Rxe=pe(),Exe=dn(),Txe=ye(),Axe=Oxe.TypeError;Sxe({target:"Map",proto:!0,real:!0,forced:Pxe},{reduce:function(e){var r=qxe(this),n=Exe(r),i=arguments.length<2,a=i?void 0:arguments[1];if(Rxe(e),Txe(n,function(o,u){i?(i=!1,a=u):a=e(a,u,o,r)},{AS_ENTRIES:!0,IS_ITERATOR:!0}),i)throw Axe("Reduce of empty map with no initial value");return a}});var Ixe=O(),kxe=de(),xxe=V(),Fxe=Ye(),Cxe=dn(),Dxe=ye();Ixe({target:"Map",proto:!0,real:!0,forced:kxe},{some:function(e){var r=xxe(this),n=Cxe(r),i=Fxe(e,arguments.length>1?arguments[1]:void 0);return Dxe(n,function(a,o,u){if(i(o,a,r))return u()},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var Uxe=de(),jxe=O(),Mxe=z(),o1=le(),Nxe=V(),Jc=pe(),Bxe=Mxe.TypeError;jxe({target:"Map",proto:!0,real:!0,forced:Uxe},{update:function(e,r){var n=Nxe(this),i=Jc(n.get),a=Jc(n.has),o=Jc(n.set),u=arguments.length;Jc(r);var s=o1(a,n,e);if(!s&&u<3)throw Bxe("Updating absent value");var l=s?o1(i,n,e):Jc(u>2?arguments[2]:void 0)(e,n);return o1(o,n,e,r(l,e,n)),n}});var $xe=O(),Wxe=de(),Vxe=nv();$xe({target:"Map",proto:!0,real:!0,name:"upsert",forced:Wxe},{updateOrInsert:Vxe});var Gxe=O(),Kxe=de(),Yxe=nv();Gxe({target:"Map",proto:!0,real:!0,forced:Kxe},{upsert:Yxe});var Xxe=O(),Jxe=Math.min,Qxe=Math.max;Xxe({target:"Math",stat:!0},{clamp:function(e,r,n){return Jxe(n,Qxe(r,e))}});var Zxe=O();Zxe({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180});var eFe=O(),tFe=180/Math.PI;eFe({target:"Math",stat:!0},{degrees:function(e){return e*tFe}});var rFe=O(),nFe=s1(),iFe=fw();rFe({target:"Math",stat:!0},{fscale:function(e,r,n,i,a){return iFe(nFe(e,r,n,i,a))}});var aFe=O();aFe({target:"Math",stat:!0},{iaddh:function(e,r,n,i){var a=e>>>0,o=r>>>0,u=n>>>0;return o+(i>>>0)+((a&u|(a|u)&~(a+u>>>0))>>>31)|0}});var oFe=O();oFe({target:"Math",stat:!0},{imulh:function(e,r){var n=65535,i=+e,a=+r,o=i&n,u=a&n,s=i>>16,l=a>>16,c=(s*u>>>0)+(o*u>>>16);return s*l+(c>>16)+((o*l>>>0)+(c&n)>>16)}});var uFe=O();uFe({target:"Math",stat:!0},{isubh:function(e,r,n,i){var a=e>>>0,o=r>>>0,u=n>>>0;return o-(i>>>0)-((~a&u|~(a^u)&a-u>>>0)>>>31)|0}});var sFe=O();sFe({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI});var lFe=O(),cFe=Math.PI/180;lFe({target:"Math",stat:!0},{radians:function(e){return e*cFe}});var fFe=O(),pFe=s1();fFe({target:"Math",stat:!0},{scale:pFe});var dFe=O(),hFe=z(),vFe=V(),yFe=gw(),mFe=la(),o8=Ve(),u8="Seeded Random",s8=u8+" Generator",gFe='Math.seededPRNG() argument should have a "seed" field with a finite value.',bFe=o8.set,_Fe=o8.getterFor(s8),wFe=hFe.TypeError,SFe=mFe(function(e){bFe(this,{type:s8,seed:e%2147483647})},u8,function(){var e=_Fe(this),r=e.seed=(e.seed*1103515245+12345)%2147483647;return{value:(r&1073741823)/1073741823,done:!1}});dFe({target:"Math",stat:!0,forced:!0},{seededPRNG:function(e){var r=vFe(e).seed;if(!yFe(r))throw wFe(gFe);return new SFe(r)}});var OFe=O();OFe({target:"Math",stat:!0},{signbit:function(e){return(e=+e)==e&&e==0?1/e==-1/0:e<0}});var PFe=O();PFe({target:"Math",stat:!0},{umulh:function(e,r){var n=65535,i=+e,a=+r,o=i&n,u=a&n,s=i>>>16,l=a>>>16,c=(s*u>>>0)+(o*u>>>16);return s*l+(c>>>16)+((o*l>>>0)+(c&n)>>>16)}});var qFe=O(),l1=z(),iv=ie(),RFe=$t(),EFe=bw(),av="Invalid number representation",TFe="Invalid radix",AFe=l1.RangeError,c1=l1.SyntaxError,IFe=l1.TypeError,l8=/^[\da-z]+$/,kFe=iv("".charAt),xFe=iv(l8.exec),FFe=iv(1 .toString),CFe=iv("".slice);qFe({target:"Number",stat:!0},{fromString:function(e,r){var n=1,i,a;if(typeof e!="string")throw IFe(av);if(!e.length||kFe(e,0)=="-"&&(n=-1,e=CFe(e,1),!e.length))throw c1(av);if(i=r===void 0?10:RFe(r),i<2||i>36)throw AFe(TFe);if(!xFe(l8,e)||FFe(a=EFe(e,i),i)!==e)throw c1(av);return n*a}});var DFe=O(),UFe=KO();DFe({target:"Number",stat:!0},{range:function(e,r,n){return new UFe(e,r,n,"number",0,1)}});c8();var WFe=O(),VFe=ov();WFe({target:"Object",stat:!0},{iterateEntries:function(e){return new VFe(e,"entries")}});var GFe=O(),KFe=ov();GFe({target:"Object",stat:!0},{iterateKeys:function(e){return new KFe(e,"keys")}});var YFe=O(),XFe=ov();YFe({target:"Object",stat:!0},{iterateValues:function(e){return new XFe(e,"values")}});var JFe=O(),QFe=z(),Qc=le(),Zc=qe(),ZFe=fa(),h8=pe(),v8=Re(),y8=co(),f1=V(),eCe=_e(),tCe=jr(),m8=Ne().f,rCe=lt(),uv=cn(),nCe=ln(),ef=It(),iCe=ye(),us=Yw(),aCe=ge(),g8=Ve(),b8=aCe("observable"),p1="Observable",_8="Subscription",w8="SubscriptionObserver",d1=g8.getterFor,h1=g8.set,oCe=d1(p1),S8=d1(_8),sv=d1(w8),uCe=QFe.Array,O8=function(e){this.observer=f1(e),this.cleanup=void 0,this.subscriptionObserver=void 0};O8.prototype={type:_8,clean:function(){var e=this.cleanup;if(e){this.cleanup=void 0;try{e()}catch(r){us(r)}}},close:function(){if(!Zc){var e=this.facade,r=this.subscriptionObserver;e.closed=!0,r&&(r.closed=!0)}this.observer=void 0},isClosed:function(){return this.observer===void 0}};var v1=function(e,r){var n=h1(this,new O8(e)),i;Zc||(this.closed=!1);try{(i=ef(e,"start"))&&Qc(i,e,this)}catch(s){us(s)}if(!n.isClosed()){var a=n.subscriptionObserver=new y1(n);try{var o=r(a),u=o;o!=null&&(n.cleanup=v8(o.unsubscribe)?function(){u.unsubscribe()}:h8(o))}catch(s){a.error(s);return}n.isClosed()&&n.clean()}};v1.prototype=uv({},{unsubscribe:function(){var e=S8(this);e.isClosed()||(e.close(),e.clean())}});Zc&&m8(v1.prototype,"closed",{configurable:!0,get:function(){return S8(this).isClosed()}});var y1=function(e){h1(this,{type:w8,subscriptionState:e}),Zc||(this.closed=!1)};y1.prototype=uv({},{next:function(e){var r=sv(this).subscriptionState;if(!r.isClosed()){var n=r.observer;try{var i=ef(n,"next");i&&Qc(i,n,e)}catch(a){us(a)}}},error:function(e){var r=sv(this).subscriptionState;if(!r.isClosed()){var n=r.observer;r.close();try{var i=ef(n,"error");i?Qc(i,n,e):us(e)}catch(a){us(a)}r.clean()}},complete:function(){var e=sv(this).subscriptionState;if(!e.isClosed()){var r=e.observer;e.close();try{var n=ef(r,"complete");n&&Qc(n,r)}catch(i){us(i)}e.clean()}}});Zc&&m8(y1.prototype,"closed",{configurable:!0,get:function(){return sv(this).subscriptionState.isClosed()}});var tf=function(e){tCe(this,m1),h1(this,{type:p1,subscriber:h8(e)})},m1=tf.prototype;uv(m1,{subscribe:function(e){var r=arguments.length;return new v1(v8(e)?{next:e,error:r>1?arguments[1]:void 0,complete:r>2?arguments[2]:void 0}:eCe(e)?e:{},oCe(this).subscriber)}});uv(tf,{from:function(e){var r=y8(this)?this:tf,n=ef(f1(e),b8);if(n){var i=f1(Qc(n,e));return i.constructor===r?i:new r(function(o){return i.subscribe(o)})}var a=nCe(e);return new r(function(o){iCe(a,function(u,s){if(o.next(u),o.closed)return s()},{IS_ITERATOR:!0,INTERRUPTED:!0}),o.complete()})},of:function(){for(var e=y8(this)?this:tf,r=arguments.length,n=uCe(r),i=0;i<r;)n[i]=arguments[i++];return new e(function(a){for(var o=0;o<r;o++)if(a.next(n[o]),a.closed)return;a.complete()})}});rCe(m1,b8,function(){return this});JFe({global:!0},{Observable:tf});ZFe(p1);aS();oS();var sCe=O(),lCe=Bu(),cCe=Oc();sCe({target:"Promise",stat:!0},{try:function(e){var r=lCe.f(this),n=cCe(e);return(n.error?r.reject:r.resolve)(n.value),r.promise}});var _Ce=O(),T8=Nn(),wCe=V(),SCe=T8.toKey,OCe=T8.set;_Ce({target:"Reflect",stat:!0},{defineMetadata:function(e,r,n){var i=arguments.length<4?void 0:SCe(arguments[3]);OCe(e,r,wCe(n),i)}});var PCe=O(),b1=Nn(),qCe=V(),RCe=b1.toKey,ECe=b1.getMap,A8=b1.store;PCe({target:"Reflect",stat:!0},{deleteMetadata:function(e,r){var n=arguments.length<3?void 0:RCe(arguments[2]),i=ECe(qCe(r),n,!1);if(i===void 0||!i.delete(e))return!1;if(i.size)return!0;var a=A8.get(r);return a.delete(n),!!a.size||A8.delete(r)}});var TCe=O(),_1=Nn(),ACe=V(),ICe=Ft(),kCe=_1.has,xCe=_1.get,FCe=_1.toKey,CCe=function t(e,r,n){var i=kCe(e,r,n);if(i)return xCe(e,r,n);var a=ICe(r);return a!==null?t(e,a,n):void 0};TCe({target:"Reflect",stat:!0},{getMetadata:function(e,r){var n=arguments.length<3?void 0:FCe(arguments[2]);return CCe(e,ACe(r),n)}});var DCe=O(),I8=ie(),k8=Nn(),UCe=V(),jCe=Ft(),MCe=Gh(),NCe=I8(MCe),BCe=I8([].concat),LCe=k8.keys,zCe=k8.toKey,HCe=function t(e,r){var n=LCe(e,r),i=jCe(e);if(i===null)return n;var a=t(i,r);return a.length?n.length?NCe(BCe(n,a)):a:n};DCe({target:"Reflect",stat:!0},{getMetadataKeys:function(e){var r=arguments.length<2?void 0:zCe(arguments[1]);return HCe(UCe(e),r)}});var $Ce=O(),x8=Nn(),WCe=V(),VCe=x8.get,GCe=x8.toKey;$Ce({target:"Reflect",stat:!0},{getOwnMetadata:function(e,r){var n=arguments.length<3?void 0:GCe(arguments[2]);return VCe(e,WCe(r),n)}});var KCe=O(),F8=Nn(),YCe=V(),XCe=F8.keys,JCe=F8.toKey;KCe({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(e){var r=arguments.length<2?void 0:JCe(arguments[1]);return XCe(YCe(e),r)}});var QCe=O(),C8=Nn(),ZCe=V(),e3e=Ft(),t3e=C8.has,r3e=C8.toKey,n3e=function t(e,r,n){var i=t3e(e,r,n);if(i)return!0;var a=e3e(r);return a!==null?t(e,a,n):!1};QCe({target:"Reflect",stat:!0},{hasMetadata:function(e,r){var n=arguments.length<3?void 0:r3e(arguments[2]);return n3e(e,ZCe(r),n)}});var i3e=O(),D8=Nn(),a3e=V(),o3e=D8.has,u3e=D8.toKey;i3e({target:"Reflect",stat:!0},{hasOwnMetadata:function(e,r){var n=arguments.length<3?void 0:u3e(arguments[2]);return o3e(e,a3e(r),n)}});var s3e=O(),U8=Nn(),l3e=V(),c3e=U8.toKey,f3e=U8.set;s3e({target:"Reflect",stat:!0},{metadata:function(e,r){return function(i,a){f3e(e,r,l3e(i),c3e(a))}}});var v3e=O(),y3e=de(),m3e=w1();v3e({target:"Set",proto:!0,real:!0,forced:y3e},{addAll:m3e});var g3e=O(),b3e=de(),_3e=Kc();g3e({target:"Set",proto:!0,real:!0,forced:b3e},{deleteAll:_3e});var w3e=de(),S3e=O(),O3e=ke(),P3e=le(),q3e=pe(),R3e=V(),E3e=Zt(),T3e=ye();S3e({target:"Set",proto:!0,real:!0,forced:w3e},{difference:function(e){var r=R3e(this),n=new(E3e(r,O3e("Set")))(r),i=q3e(n.delete);return T3e(e,function(a){P3e(i,n,a)}),n}});var I3e=O(),k3e=de(),x3e=V(),F3e=Ye(),C3e=_a(),D3e=ye();I3e({target:"Set",proto:!0,real:!0,forced:k3e},{every:function(e){var r=x3e(this),n=C3e(r),i=F3e(e,arguments.length>1?arguments[1]:void 0);return!D3e(n,function(a,o){if(!i(a,a,r))return o()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var U3e=de(),j3e=O(),M3e=ke(),N3e=le(),B3e=pe(),L3e=V(),z3e=Ye(),H3e=Zt(),$3e=_a(),W3e=ye();j3e({target:"Set",proto:!0,real:!0,forced:U3e},{filter:function(e){var r=L3e(this),n=$3e(r),i=z3e(e,arguments.length>1?arguments[1]:void 0),a=new(H3e(r,M3e("Set"))),o=B3e(a.add);return W3e(n,function(u){i(u,u,r)&&N3e(o,a,u)},{IS_ITERATOR:!0}),a}});var V3e=O(),G3e=de(),K3e=V(),Y3e=Ye(),X3e=_a(),J3e=ye();V3e({target:"Set",proto:!0,real:!0,forced:G3e},{find:function(e){var r=K3e(this),n=X3e(r),i=Y3e(e,arguments.length>1?arguments[1]:void 0);return J3e(n,function(a,o){if(i(a,a,r))return o(a)},{IS_ITERATOR:!0,INTERRUPTED:!0}).result}});var Q3e=O(),Z3e=Yc();Q3e({target:"Set",stat:!0},{from:Z3e});var eDe=de(),tDe=O(),rDe=ke(),N8=le(),B8=pe(),nDe=V(),iDe=Zt(),aDe=ye();tDe({target:"Set",proto:!0,real:!0,forced:eDe},{intersection:function(e){var r=nDe(this),n=new(iDe(r,rDe("Set"))),i=B8(r.has),a=B8(n.add);return aDe(e,function(o){N8(i,r,o)&&N8(a,n,o)}),n}});var oDe=de(),uDe=O(),sDe=le(),lDe=pe(),cDe=V(),fDe=ye();uDe({target:"Set",proto:!0,real:!0,forced:oDe},{isDisjointFrom:function(e){var r=cDe(this),n=lDe(r.has);return!fDe(e,function(i,a){if(sDe(n,r,i)===!0)return a()},{INTERRUPTED:!0}).stopped}});var pDe=de(),dDe=O(),hDe=ke(),vDe=le(),yDe=pe(),mDe=Re(),gDe=V(),bDe=ln(),_De=ye();dDe({target:"Set",proto:!0,real:!0,forced:pDe},{isSubsetOf:function(e){var r=bDe(this),n=gDe(e),i=n.has;return mDe(i)||(n=new(hDe("Set"))(e),i=yDe(n.has)),!_De(r,function(a,o){if(vDe(i,n,a)===!1)return o()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var wDe=de(),SDe=O(),ODe=le(),PDe=pe(),qDe=V(),RDe=ye();SDe({target:"Set",proto:!0,real:!0,forced:wDe},{isSupersetOf:function(e){var r=qDe(this),n=PDe(r.has);return!RDe(e,function(i,a){if(ODe(n,r,i)===!1)return a()},{INTERRUPTED:!0}).stopped}});var EDe=de(),TDe=O(),ADe=ie(),IDe=V(),kDe=Be(),xDe=_a(),FDe=ye(),CDe=ADe([].join),DDe=[].push;TDe({target:"Set",proto:!0,real:!0,forced:EDe},{join:function(e){var r=IDe(this),n=xDe(r),i=e===void 0?",":kDe(e),a=[];return FDe(n,DDe,{that:a,IS_ITERATOR:!0}),CDe(a,i)}});var UDe=de(),jDe=O(),MDe=ke(),NDe=Ye(),BDe=le(),LDe=pe(),zDe=V(),HDe=Zt(),$De=_a(),WDe=ye();jDe({target:"Set",proto:!0,real:!0,forced:UDe},{map:function(e){var r=zDe(this),n=$De(r),i=NDe(e,arguments.length>1?arguments[1]:void 0),a=new(HDe(r,MDe("Set"))),o=LDe(a.add);return WDe(n,function(u){BDe(o,a,i(u,u,r))},{IS_ITERATOR:!0}),a}});var VDe=O(),GDe=Xc();VDe({target:"Set",stat:!0},{of:GDe});var KDe=O(),YDe=z(),XDe=de(),JDe=pe(),QDe=V(),ZDe=_a(),eUe=ye(),tUe=YDe.TypeError;KDe({target:"Set",proto:!0,real:!0,forced:XDe},{reduce:function(e){var r=QDe(this),n=ZDe(r),i=arguments.length<2,a=i?void 0:arguments[1];if(JDe(e),eUe(n,function(o){i?(i=!1,a=o):a=e(a,o,o,r)},{IS_ITERATOR:!0}),i)throw tUe("Reduce of empty set with no initial value");return a}});var rUe=O(),nUe=de(),iUe=V(),aUe=Ye(),oUe=_a(),uUe=ye();rUe({target:"Set",proto:!0,real:!0,forced:nUe},{some:function(e){var r=iUe(this),n=oUe(r),i=aUe(e,arguments.length>1?arguments[1]:void 0);return uUe(n,function(a,o){if(i(a,a,r))return o()},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}});var sUe=de(),lUe=O(),cUe=ke(),L8=le(),z8=pe(),fUe=V(),pUe=Zt(),dUe=ye();lUe({target:"Set",proto:!0,real:!0,forced:sUe},{symmetricDifference:function(e){var r=fUe(this),n=new(pUe(r,cUe("Set")))(r),i=z8(n.delete),a=z8(n.add);return dUe(e,function(o){L8(i,n,o)||L8(a,n,o)}),n}});var hUe=O(),vUe=de(),yUe=ke(),mUe=pe(),gUe=V(),bUe=Zt(),_Ue=ye();hUe({target:"Set",proto:!0,real:!0,forced:vUe},{union:function(e){var r=gUe(this),n=new(bUe(r,yUe("Set")))(r);return _Ue(e,mUe(n.add),{that:n}),n}});var wUe=O(),SUe=Po().charAt,OUe=ae(),PUe=OUe(function(){return"\uD842\uDFB7".at(0)!=="\uD842\uDFB7"});wUe({target:"String",proto:!0,forced:PUe},{at:function(e){return SUe(this,e)}});var qUe=O(),RUe=la(),EUe=qt(),TUe=Be(),H8=Ve(),$8=Po(),AUe=$8.codeAt,IUe=$8.charAt,W8="String Iterator",kUe=H8.set,xUe=H8.getterFor(W8),FUe=RUe(function(e){kUe(this,{type:W8,string:e,index:0})},"String",function(){var e=xUe(this),r=e.string,n=e.index,i;return n>=r.length?{value:void 0,done:!0}:(i=IUe(r,n),e.index+=i.length,{value:{codePoint:AUe(i,0),position:n},done:!1})});qUe({target:"String",proto:!0},{codePoints:function(){return new FUe(TUe(EUe(this)))}});US();WS();var CUe=at();CUe("asyncDispose");var DUe=at();DUe("dispose");var UUe=at();UUe("matcher");var jUe=at();jUe("metadata");var MUe=at();MUe("observable");var NUe=at();NUe("patternMatch");var BUe=at();BUe("replaceAll");G8();var K8=Ee(),WUe=Et().filterReject,VUe=Dh(),GUe=K8.aTypedArray,KUe=K8.exportTypedArrayMethod;KUe("filterOut",function(e){var r=WUe(GUe(this),e,arguments.length>1?arguments[1]:void 0);return VUe(this,r)});var Y8=Ee(),YUe=Lc().findLast,XUe=Y8.aTypedArray,JUe=Y8.exportTypedArrayMethod;JUe("findLast",function(e){return YUe(XUe(this),e,arguments.length>1?arguments[1]:void 0)});var X8=Ee(),QUe=Lc().findLastIndex,ZUe=X8.aTypedArray,eje=X8.exportTypedArrayMethod;eje("findLastIndex",function(e){return QUe(ZUe(this),e,arguments.length>1?arguments[1]:void 0)});var tje=ie(),J8=Ee(),rje=Gh(),nje=Dh(),ije=J8.aTypedArray,aje=J8.exportTypedArrayMethod,oje=tje(rje);aje("uniqueBy",function(e){return nje(this,oje(ije(this),e))});var uje=O(),sje=de(),lje=Kc();uje({target:"WeakMap",proto:!0,real:!0,forced:sje},{deleteAll:lje});var cje=O(),fje=Yc();cje({target:"WeakMap",stat:!0},{from:fje});var pje=O(),dje=Xc();pje({target:"WeakMap",stat:!0},{of:dje});var hje=O(),vje=de(),yje=i1();hje({target:"WeakMap",proto:!0,real:!0,forced:vje},{emplace:yje});var mje=O(),gje=de(),bje=nv();mje({target:"WeakMap",proto:!0,real:!0,forced:gje},{upsert:bje});var _je=O(),wje=de(),Sje=w1();_je({target:"WeakSet",proto:!0,real:!0,forced:wje},{addAll:Sje});var Oje=O(),Pje=de(),qje=Kc();Oje({target:"WeakSet",proto:!0,real:!0,forced:Pje},{deleteAll:qje});var Rje=O(),Eje=Yc();Rje({target:"WeakSet",stat:!0},{from:Eje});var Tje=O(),Aje=Xc();Tje({target:"WeakSet",stat:!0},{of:Aje});var nB=z(),iB=S1(),Cje=P1(),q1=rB(),Dje=Rt(),aB=function(e){if(e&&e.forEach!==q1)try{Dje(e,"forEach",q1)}catch(r){e.forEach=q1}};for(cv in iB)iB[cv]&&aB(nB[cv]&&nB[cv].prototype);var cv;aB(Cje);var oB=z(),uB=S1(),Uje=P1(),nf=rc(),R1=Rt(),sB=ge(),E1=sB("iterator"),lB=sB("toStringTag"),T1=nf.values,cB=function(e,r){if(e){if(e[E1]!==T1)try{R1(e,E1,T1)}catch(i){e[E1]=T1}if(e[lB]||R1(e,lB,r),uB[r]){for(var n in nf)if(e[n]!==nf[n])try{R1(e,n,nf[n])}catch(i){e[n]=nf[n]}}}};for(fv in uB)cB(oB[fv]&&oB[fv].prototype,fv);var fv;cB(Uje,"DOMTokenList");var jje=O(),Mje=z(),Nje=Gw(),Bje=gc(),Lje=Mje.process;jje({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var r=Bje&&Lje.domain;Nje(r?r.bind(e):e)}});function mv(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mv=function(r){return typeof r}:mv=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mv(t)}TS();var IMe=O(),$1=qe(),kMe=A1(),W1=z(),zB=Ye(),Nr=ie(),xMe=hd(),gv=lt(),FMe=jr(),V1=Le(),G1=Pw(),cs=I0(),vn=lo(),CMe=Po().codeAt,DMe=_B(),Ri=Be(),UMe=Dr(),HB=H1(),$B=Ve(),jMe=$B.set,bv=$B.getterFor("URL"),MMe=HB.URLSearchParams,NMe=HB.getState,lf=W1.URL,K1=W1.TypeError,_v=W1.parseInt,BMe=Math.floor,WB=Math.pow,Br=Nr("".charAt),yn=Nr(/./.exec),cf=Nr([].join),LMe=Nr(1 .toString),zMe=Nr([].pop),fs=Nr([].push),VB=Nr("".replace),HMe=Nr([].shift),$Me=Nr("".split),ff=Nr("".slice),wv=Nr("".toLowerCase),WMe=Nr([].unshift),VMe="Invalid authority",Y1="Invalid scheme",xo="Invalid host",GB="Invalid port",KB=/[a-z]/i,GMe=/[\d+-.a-z]/i,X1=/\d/,KMe=/^0x/i,YMe=/^[0-7]+$/,XMe=/^\d+$/,YB=/^[\da-f]+$/i,JMe=/[\0\t\n\r #%/:<>?@[\\\]^|]/,QMe=/[\0\t\n\r #/:<>?@[\\\]^|]/,ZMe=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,e5e=/[\t\n\r]/g,Lr,t5e=function(e){var r=$Me(e,"."),n,i,a,o,u,s,l;if(r.length&&r[r.length-1]==""&&r.length--,n=r.length,n>4)return e;for(i=[],a=0;a<n;a++){if(o=r[a],o=="")return e;if(u=10,o.length>1&&Br(o,0)=="0"&&(u=yn(KMe,o)?16:8,o=ff(o,u==8?1:2)),o==="")s=0;else{if(!yn(u==10?XMe:u==8?YMe:YB,o))return e;s=_v(o,u)}fs(i,s)}for(a=0;a<n;a++)if(s=i[a],a==n-1){if(s>=WB(256,5-n))return null}else if(s>255)return null;for(l=zMe(i),a=0;a<i.length;a++)l+=i[a]*WB(256,3-a);return l},r5e=function(e){var r=[0,0,0,0,0,0,0,0],n=0,i=null,a=0,o,u,s,l,c,f,p,d=function(){return Br(e,a)};if(d()==":"){if(Br(e,1)!=":")return;a+=2,n++,i=n}for(;d();){if(n==8)return;if(d()==":"){if(i!==null)return;a++,n++,i=n;continue}for(o=u=0;u<4&&yn(YB,d());)o=o*16+_v(d(),16),a++,u++;if(d()=="."){if(u==0||(a-=u,n>6))return;for(s=0;d();){if(l=null,s>0)if(d()=="."&&s<4)a++;else return;if(!yn(X1,d()))return;for(;yn(X1,d());){if(c=_v(d(),10),l===null)l=c;else{if(l==0)return;l=l*10+c}if(l>255)return;a++}r[n]=r[n]*256+l,s++,(s==2||s==4)&&n++}if(s!=4)return;break}else if(d()==":"){if(a++,!d())return}else if(d())return;r[n++]=o}if(i!==null)for(f=n-i,n=7;n!=0&&f>0;)p=r[n],r[n--]=r[i+f-1],r[i+--f]=p;else if(n!=8)return;return r},n5e=function(e){for(var r=null,n=1,i=null,a=0,o=0;o<8;o++)e[o]!==0?(a>n&&(r=i,n=a),i=null,a=0):(i===null&&(i=o),++a);return a>n&&(r=i,n=a),r},pf=function(e){var r,n,i,a;if(typeof e=="number"){for(r=[],n=0;n<4;n++)WMe(r,e%256),e=BMe(e/256);return cf(r,".")}else if(mv(e)=="object"){for(r="",i=n5e(e),n=0;n<8;n++)a&&e[n]===0||(a&&(a=!1),i===n?(r+=n?":":"::",a=!0):(r+=LMe(e[n],16),n<7&&(r+=":")));return"["+r+"]"}return e},Sv={},XB=G1({},Sv,{" ":1,'"':1,"<":1,">":1,"`":1}),JB=G1({},XB,{"#":1,"?":1,"{":1,"}":1}),J1=G1({},JB,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Sa=function(e,r){var n=CMe(e,0);return n>32&&n<127&&!V1(r,e)?e:encodeURIComponent(e)},Ov={ftp:21,file:null,http:80,https:443,ws:80,wss:443},df=function(e,r){var n;return e.length==2&&yn(KB,Br(e,0))&&((n=Br(e,1))==":"||!r&&n=="|")},QB=function(e){var r;return e.length>1&&df(ff(e,0,2))&&(e.length==2||(r=Br(e,2))==="/"||r==="\\"||r==="?"||r==="#")},i5e=function(e){return e==="."||wv(e)==="%2e"},a5e=function(e){return e=wv(e),e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"},Q1={},ZB={},Z1={},e6={},t6={},eP={},r6={},n6={},Pv={},qv={},tP={},rP={},nP={},iP={},i6={},aP={},ps={},Ln={},a6={},Fo={},Ei={},o6=function t(e,r,n){var i=Ri(e),a,o,u;if(r){if(o=this.parse(i),o)throw K1(o);this.searchParams=null}else{if(n!==void 0&&(a=new t(n,!0)),o=this.parse(i,null,a),o)throw K1(o);u=NMe(new MMe),u.bindURL(this),this.searchParams=u}};o6.prototype={type:"URL",parse:function(e,r,n){var i=this,a=r||Q1,o=0,u="",s=!1,l=!1,c=!1,f,p,d,v;for(e=Ri(e),r||(i.scheme="",i.username="",i.password="",i.host=null,i.port=null,i.path=[],i.query=null,i.fragment=null,i.cannotBeABaseURL=!1,e=VB(e,ZMe,"")),e=VB(e,e5e,""),f=cs(e);o<=f.length;){switch(p=f[o],a){case Q1:if(p&&yn(KB,p))u+=wv(p),a=ZB;else{if(r)return Y1;a=Z1;continue}break;case ZB:if(p&&(yn(GMe,p)||p=="+"||p=="-"||p=="."))u+=wv(p);else if(p==":"){if(r&&(i.isSpecial()!=V1(Ov,u)||u=="file"&&(i.includesCredentials()||i.port!==null)||i.scheme=="file"&&!i.host))return;if(i.scheme=u,r){i.isSpecial()&&Ov[i.scheme]==i.port&&(i.port=null);return}u="",i.scheme=="file"?a=iP:i.isSpecial()&&n&&n.scheme==i.scheme?a=e6:i.isSpecial()?a=n6:f[o+1]=="/"?(a=t6,o++):(i.cannotBeABaseURL=!0,fs(i.path,""),a=a6)}else{if(r)return Y1;u="",a=Z1,o=0;continue}break;case Z1:if(!n||n.cannotBeABaseURL&&p!="#")return Y1;if(n.cannotBeABaseURL&&p=="#"){i.scheme=n.scheme,i.path=vn(n.path),i.query=n.query,i.fragment="",i.cannotBeABaseURL=!0,a=Ei;break}a=n.scheme=="file"?iP:eP;continue;case e6:if(p=="/"&&f[o+1]=="/")a=Pv,o++;else{a=eP;continue}break;case t6:if(p=="/"){a=qv;break}else{a=Ln;continue}case eP:if(i.scheme=n.scheme,p==Lr)i.username=n.username,i.password=n.password,i.host=n.host,i.port=n.port,i.path=vn(n.path),i.query=n.query;else if(p=="/"||p=="\\"&&i.isSpecial())a=r6;else if(p=="?")i.username=n.username,i.password=n.password,i.host=n.host,i.port=n.port,i.path=vn(n.path),i.query="",a=Fo;else if(p=="#")i.username=n.username,i.password=n.password,i.host=n.host,i.port=n.port,i.path=vn(n.path),i.query=n.query,i.fragment="",a=Ei;else{i.username=n.username,i.password=n.password,i.host=n.host,i.port=n.port,i.path=vn(n.path),i.path.length--,a=Ln;continue}break;case r6:if(i.isSpecial()&&(p=="/"||p=="\\"))a=Pv;else if(p=="/")a=qv;else{i.username=n.username,i.password=n.password,i.host=n.host,i.port=n.port,a=Ln;continue}break;case n6:if(a=Pv,p!="/"||Br(u,o+1)!="/")continue;o++;break;case Pv:if(p!="/"&&p!="\\"){a=qv;continue}break;case qv:if(p=="@"){s&&(u="%40"+u),s=!0,d=cs(u);for(var g=0;g<d.length;g++){var m=d[g];if(m==":"&&!c){c=!0;continue}var _=Sa(m,J1);c?i.password+=_:i.username+=_}u=""}else if(p==Lr||p=="/"||p=="?"||p=="#"||p=="\\"&&i.isSpecial()){if(s&&u=="")return VMe;o-=cs(u).length+1,u="",a=tP}else u+=p;break;case tP:case rP:if(r&&i.scheme=="file"){a=aP;continue}else if(p==":"&&!l){if(u=="")return xo;if(v=i.parseHost(u),v)return v;if(u="",a=nP,r==rP)return}else if(p==Lr||p=="/"||p=="?"||p=="#"||p=="\\"&&i.isSpecial()){if(i.isSpecial()&&u=="")return xo;if(r&&u==""&&(i.includesCredentials()||i.port!==null))return;if(v=i.parseHost(u),v)return v;if(u="",a=ps,r)return;continue}else p=="["?l=!0:p=="]"&&(l=!1),u+=p;break;case nP:if(yn(X1,p))u+=p;else if(p==Lr||p=="/"||p=="?"||p=="#"||p=="\\"&&i.isSpecial()||r){if(u!=""){var S=_v(u,10);if(S>65535)return GB;i.port=i.isSpecial()&&S===Ov[i.scheme]?null:S,u=""}if(r)return;a=ps;continue}else return GB;break;case iP:if(i.scheme="file",p=="/"||p=="\\")a=i6;else if(n&&n.scheme=="file")if(p==Lr)i.host=n.host,i.path=vn(n.path),i.query=n.query;else if(p=="?")i.host=n.host,i.path=vn(n.path),i.query="",a=Fo;else if(p=="#")i.host=n.host,i.path=vn(n.path),i.query=n.query,i.fragment="",a=Ei;else{QB(cf(vn(f,o),""))||(i.host=n.host,i.path=vn(n.path),i.shortenPath()),a=Ln;continue}else{a=Ln;continue}break;case i6:if(p=="/"||p=="\\"){a=aP;break}n&&n.scheme=="file"&&!QB(cf(vn(f,o),""))&&(df(n.path[0],!0)?fs(i.path,n.path[0]):i.host=n.host),a=Ln;continue;case aP:if(p==Lr||p=="/"||p=="\\"||p=="?"||p=="#"){if(!r&&df(u))a=Ln;else if(u==""){if(i.host="",r)return;a=ps}else{if(v=i.parseHost(u),v)return v;if(i.host=="localhost"&&(i.host=""),r)return;u="",a=ps}continue}else u+=p;break;case ps:if(i.isSpecial()){if(a=Ln,p!="/"&&p!="\\")continue}else if(!r&&p=="?")i.query="",a=Fo;else if(!r&&p=="#")i.fragment="",a=Ei;else if(p!=Lr&&(a=Ln,p!="/"))continue;break;case Ln:if(p==Lr||p=="/"||p=="\\"&&i.isSpecial()||!r&&(p=="?"||p=="#")){if(a5e(u)?(i.shortenPath(),p!="/"&&!(p=="\\"&&i.isSpecial())&&fs(i.path,"")):i5e(u)?p!="/"&&!(p=="\\"&&i.isSpecial())&&fs(i.path,""):(i.scheme=="file"&&!i.path.length&&df(u)&&(i.host&&(i.host=""),u=Br(u,0)+":"),fs(i.path,u)),u="",i.scheme=="file"&&(p==Lr||p=="?"||p=="#"))for(;i.path.length>1&&i.path[0]==="";)HMe(i.path);p=="?"?(i.query="",a=Fo):p=="#"&&(i.fragment="",a=Ei)}else u+=Sa(p,JB);break;case a6:p=="?"?(i.query="",a=Fo):p=="#"?(i.fragment="",a=Ei):p!=Lr&&(i.path[0]+=Sa(p,Sv));break;case Fo:!r&&p=="#"?(i.fragment="",a=Ei):p!=Lr&&(p=="'"&&i.isSpecial()?i.query+="%27":p=="#"?i.query+="%23":i.query+=Sa(p,Sv));break;case Ei:p!=Lr&&(i.fragment+=Sa(p,XB));break}o++}},parseHost:function(e){var r,n,i;if(Br(e,0)=="["){if(Br(e,e.length-1)!="]"||(r=r5e(ff(e,1,-1)),!r))return xo;this.host=r}else if(this.isSpecial()){if(e=DMe(e),yn(JMe,e)||(r=t5e(e),r===null))return xo;this.host=r}else{if(yn(QMe,e))return xo;for(r="",n=cs(e),i=0;i<n.length;i++)r+=Sa(n[i],Sv);this.host=r}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return V1(Ov,this.scheme)},shortenPath:function(){var e=this.path,r=e.length;r&&(this.scheme!="file"||r!=1||!df(e[0],!0))&&e.length--},serialize:function(){var e=this,r=e.scheme,n=e.username,i=e.password,a=e.host,o=e.port,u=e.path,s=e.query,l=e.fragment,c=r+":";return a!==null?(c+="//",e.includesCredentials()&&(c+=n+(i?":"+i:"")+"@"),c+=pf(a),o!==null&&(c+=":"+o)):r=="file"&&(c+="//"),c+=e.cannotBeABaseURL?u[0]:u.length?"/"+cf(u,"/"):"",s!==null&&(c+="?"+s),l!==null&&(c+="#"+l),c},setHref:function(e){var r=this.parse(e);if(r)throw K1(r);this.searchParams.update()},getOrigin:function(){var e=this.scheme,r=this.port;if(e=="blob")try{return new ds(e.path[0]).origin}catch(n){return"null"}return e=="file"||!this.isSpecial()?"null":e+"://"+pf(this.host)+(r!==null?":"+r:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(Ri(e)+":",Q1)},getUsername:function(){return this.username},setUsername:function(e){var r=cs(Ri(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<r.length;n++)this.username+=Sa(r[n],J1)}},getPassword:function(){return this.password},setPassword:function(e){var r=cs(Ri(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<r.length;n++)this.password+=Sa(r[n],J1)}},getHost:function(){var e=this.host,r=this.port;return e===null?"":r===null?pf(e):pf(e)+":"+r},setHost:function(e){this.cannotBeABaseURL||this.parse(e,tP)},getHostname:function(){var e=this.host;return e===null?"":pf(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,rP)},getPort:function(){var e=this.port;return e===null?"":Ri(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=Ri(e),e==""?this.port=null:this.parse(e,nP))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+cf(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,ps))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=Ri(e),e==""?this.query=null:(Br(e,0)=="?"&&(e=ff(e,1)),this.query="",this.parse(e,Fo)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(e=Ri(e),e==""){this.fragment=null;return}Br(e,0)=="#"&&(e=ff(e,1)),this.fragment="",this.parse(e,Ei)},update:function(){this.query=this.searchParams.serialize()||null}};var ds=function(e){var r=FMe(this,Rv),n=arguments.length>1?arguments[1]:void 0,i=jMe(r,new o6(e,!1,n));$1||(r.href=i.serialize(),r.origin=i.getOrigin(),r.protocol=i.getProtocol(),r.username=i.getUsername(),r.password=i.getPassword(),r.host=i.getHost(),r.hostname=i.getHostname(),r.port=i.getPort(),r.pathname=i.getPathname(),r.search=i.getSearch(),r.searchParams=i.getSearchParams(),r.hash=i.getHash())},Rv=ds.prototype,zr=function(e,r){return{get:function(){return bv(this)[e]()},set:r&&function(n){return bv(this)[r](n)},configurable:!0,enumerable:!0}};$1&&xMe(Rv,{href:zr("serialize","setHref"),origin:zr("getOrigin"),protocol:zr("getProtocol","setProtocol"),username:zr("getUsername","setUsername"),password:zr("getPassword","setPassword"),host:zr("getHost","setHost"),hostname:zr("getHostname","setHostname"),port:zr("getPort","setPort"),pathname:zr("getPathname","setPathname"),search:zr("getSearch","setSearch"),searchParams:zr("getSearchParams"),hash:zr("getHash","setHash")});gv(Rv,"toJSON",function(){return bv(this).serialize()},{enumerable:!0});gv(Rv,"toString",function(){return bv(this).serialize()},{enumerable:!0});lf&&(oP=lf.createObjectURL,uP=lf.revokeObjectURL,oP&&gv(ds,"createObjectURL",zB(oP,lf)),uP&&gv(ds,"revokeObjectURL",zB(uP,lf)));var oP,uP;UMe(ds,"URL");IMe({global:!0,forced:!kMe,sham:!$1},{URL:ds});var o5e=O(),u5e=le();o5e({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return u5e(URL.prototype.toString,this)}});var PSt=Cr(H1());s6();l6();c6();var Fut=f6();typeof window.ResizeObserver!="function"&&(window.ResizeObserver=Fut);p6();See();})();
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
 * Compressor.js v1.1.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-10-05T02:32:40.212Z
 */
/*!
 * Cropper.js v1.5.7
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2020-05-23T05:23:00.081Z
 */
/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param {string} phrase that needs interpolation, with placeholders
 * @param {object} options with values that will be used to replace placeholders
 * @returns {any[]} interpolated
 */
//# sourceMappingURL=uppy.legacy.min.js.map
