window.RGraph=window.RGraph||{isrgraph:!0,isRGraph:!0,rgraph:!0},function(win,doc,undefined){var ua=navigator.userAgent;RGraph.Highlight={},RGraph.Registry={},RGraph.Registry.store=[],RGraph.Registry.store["event.handlers"]=[],RGraph.Registry.store.__rgraph_event_listeners__=[],RGraph.Background={},RGraph.background={},RGraph.objects=[],RGraph.Resizing={},RGraph.events=[],RGraph.cursor=[],RGraph.Effects=RGraph.Effects||{},RGraph.cache=[],RGraph.QS=RGraph.GET={},RGraph.GET.__parts__=null,RGraph.ObjectRegistry={},RGraph.ObjectRegistry.objects={},RGraph.ObjectRegistry.objects.byUID=[],RGraph.ObjectRegistry.objects.byCanvasID=[],RGraph.OR=RGraph.ObjectRegistry,RGraph.PI=Math.PI,RGraph.HALFPI=RGraph.PI/2,RGraph.TWOPI=2*RGraph.PI,RGraph.ISFF=-1!=ua.indexOf("Firefox"),RGraph.ISOPERA=-1!=ua.indexOf("Opera"),RGraph.ISCHROME=-1!=ua.indexOf("Chrome"),RGraph.ISSAFARI=-1!=ua.indexOf("Safari")&&!RGraph.ISCHROME,RGraph.ISWEBKIT=-1!=ua.indexOf("WebKit"),RGraph.ISIE=0<ua.indexOf("Trident")||0<navigator.userAgent.indexOf("MSIE"),RGraph.ISIE6=0<ua.indexOf("MSIE 6"),RGraph.ISIE7=0<ua.indexOf("MSIE 7"),RGraph.ISIE8=0<ua.indexOf("MSIE 8"),RGraph.ISIE9=0<ua.indexOf("MSIE 9"),RGraph.ISIE10=0<ua.indexOf("MSIE 10"),RGraph.ISOLD=RGraph.ISIE6||RGraph.ISIE7||RGraph.ISIE8,RGraph.ISIE11UP=-1==ua.indexOf("MSIE")&&0<ua.indexOf("Trident"),RGraph.ISIE10UP=RGraph.ISIE10||RGraph.ISIE11UP,RGraph.ISIE9UP=RGraph.ISIE9||RGraph.ISIE10UP,RGraph.MONTHS_SHORT=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],RGraph.MONTHS_LONG=["January","February","March","April","May","June","July","August","September","October","November","December"],RGraph.DAYS_SHORT=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],RGraph.DAYS_LONG=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],RGraph.HOURS24=["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00"],RGraph.HOURS12=["00:00","01:00","02:00","03:00","04:00","05:00","06:00","07:00","08:00","09:00","10:00","11:00"],RGraph.getArgs=function(e,t){var a={},r=0;if(t=t.trim().split(/ *, */),e&&e[0]&&1===e.length&&void 0!==e[0][t[0]]){for(var i=0;i<t.length;++i)void 0===e[0][t[i]]&&(e[0][t[i]]=null);return e[0]}for(i in t)a[t[i]]=void 0===e[r]?null:e[r],r+=1;return a},RGraph.getScale=function(e){var t=e.object.properties,a="number"==typeof e.options["scale.labels.count"]?e.options["scale.labels.count"]:5,r="string"==typeof e.options["scale.units.pre"]?e.options["scale.units.pre"]:"",i="string"==typeof e.options["scale.units.post"]?e.options["scale.units.post"]:"",o=Number(e.options["scale.max"]),s="number"==typeof e.options["scale.min"]?e.options["scale.min"]:0,n=e.options["scale.strict"],c=Number(e.options["scale.decimals"]),l=e.options["scale.point"],p=e.options["scale.thousand"],h=o,g=e.options["scale.round"],x={max:1,labels:[],values:[]},b=e.options["scale.formatter"];if(prefix="hbar"===e.object.type?"xaxis":"yaxis",prefix="odo"===e.object.type?"":prefix,o)if(o<=1&&!n){for(var d=[1,.5,.1,.05,.01,.005,.001,5e-4,1e-4,5e-5,1e-5,5e-6,1e-6,5e-7,1e-7,5e-8,1e-8,5e-9,1e-9,5e-10,1e-10,5e-11,1e-11,5e-12,1e-12,5e-13],f=0;f<d.length;++f)if(d[f]<o){f--;break}x.max=d[f],x.labels=[],x.values=[];for(var y=0;y<a;++y){var u=((d[f]-s)/a*(y+1)+s).toFixed(c);x.values.push(u),x.labels.push(RGraph.numberFormat({object:e.object,number:u,unitspre:r,unitspost:i,thousand:p,point:l,formatter:b,decimals:c}))}}else if(n){if("number"==typeof o&&n){for(f=0;f<a;++f)x.labels.push(RGraph.numberFormat({object:e.object,number:((f+1)/a*(o-s)+s).toFixed(c),unitspre:r,unitspost:i,thousand:p,point:l,formatter:b})),x.values.push(((f+1)/a*(o-s)+s).toFixed(c));x.max=o}}else{o=Math.ceil(o);for(var m=Math.pow(10,Math.max(1,Number(String(Number(o)-Number(s)).length-1))),R=m;R<o;)R+=m/2;Number(h)>Number(R)&&(R+=m/2),o<=10&&(R=Number(h)<=5?5:10),e.object&&"boolean"==typeof g&&g&&(R=10*m),x.max=R;h=t[prefix+"ScalePoint"],t=t[prefix+"ScaleThousand"];e.object.set(prefix+"scaleThousand",p),e.object.set(prefix+"scalePoint",l);for(f=0;f<a;++f)x.labels.push(RGraph.numberFormat({object:e.object,number:((f+1)/a*(R-s)+s).toFixed(c),unitspre:r,unitspost:i,point:l,thousand:p,formatter:b})),x.values.push(((f+1)/a*(R-s)+s).toFixed(c));e.object.set(prefix+"scaleThousand",t),e.object.set(prefix+"scalePoint",h)}else for(var o=1,f=0;f<a;++f){var v=(((o-s)/a+s)*(f+1)).toFixed(c);x.labels.push(r+v+i),x.values.push(parseFloat(v))}x.units_pre=r,x.units_post=i,x.point=l,x.decimals=c,x.thousand=p,x.numlabels=a,x.round=Boolean(g),x.min=s,x.formatter=b;for(f=0;f<x.values.length;++f)x.values[f]=parseFloat(x.values[f]);return x},RGraph.parseJSONGradient=function(args){var obj=args.object,def=args.def,context=args.object.context,grad,grad,def=eval("("+def+")");grad="number"==typeof def.r1&&"number"==typeof def.r2?context.createRadialGradient(def.x1,def.y1,def.r1,def.x2,def.y2,def.r2):context.createLinearGradient(def.x1,def.y1,def.x2,def.y2);var diff=1/(def.colors.length-1);grad.addColorStop(0,RGraph.trim(def.colors[0]));for(var j=1,len=def.colors.length;j<len;++j)grad.addColorStop(j*diff,RGraph.trim(def.colors[j]));return grad},RGraph.arrayInvert=function(){for(var e=RGraph.getArgs(arguments,"array"),t=0,a=e.array.length;t<a;++t)e.array[t]=!e.array[t];return e.array},RGraph.arrayTrim=function(){for(var e=RGraph.getArgs(arguments,"array"),t=[],a=!1,r=0;r<e.array.length;r++)(a=e.array[r]?!0:a)&&t.push(e.array[r]);for(var t=RGraph.arrayReverse(t),i=[],a=!1,r=0;r<t.length;r++)(a=t[r]?!0:a)&&i.push(t[r]);return i=RGraph.arrayReverse(i)},RGraph.arrayClone=function(){var e=RGraph.getArgs(arguments,"array");return null===e.array||"object"!=typeof e.array?e.array:JSON.parse(JSON.stringify(e.array))},RGraph.clone=RGraph.arrayClone,RGraph.arrayMax=function(){var e=RGraph.getArgs(arguments,"array,ignore"),t=null;if("number"==typeof e.array)return e.array;if(RGraph.isNull(e.array))return 0;for(var a,r=0,i=e.array.length;r<i;++r)"number"!=typeof e.array[r]||isNaN(e.array[r])||(a=e.ignore?Math.abs(e.array[r]):e.array[r],t="number"==typeof t?Math.max(t,a):a);return t},RGraph.arrayMin=function(e){var e=RGraph.getArgs(arguments,"array,ignore"),t=null;Math;if("number"==typeof e.array)return e.array;if(RGraph.isNull(e.array))return 0;for(var a,r=0,i=e.array.length;r<i;++r)"number"==typeof e.array[r]&&(a=e.ignore?Math.abs(e.array[r]):e.array[r],t="number"==typeof t?Math.min(t,a):a);return t},RGraph.arrayPad=function(){var e=RGraph.getArgs(arguments,"array,length,value");if(e.array.length<e.length)for(var t=e.array.length;t<e.length;t+=1)e.array[t]=e.value;return e.array},RGraph.arraySum=function(){var e=RGraph.getArgs(arguments,"array");if("number"==typeof e.array)return e.array;if(RGraph.isNull(e.array))return 0;for(var t=e.array.length,a=0,r=0;a<t;r+=e.array[a++]||0);return r},RGraph.arrayLinearize=function(){for(var e=[],t=arguments,a=0,r=t.length;a<r;++a)if("object"==typeof t[a]&&t[a])for(var i=0,o=t[a].length;i<o;++i)for(var s=RGraph.arrayLinearize(t[a][i]),n=0,c=s.length;n<c;++n)e.push(s[n]);else e.push(t[a]);return e},RGraph.arrayShift=function(){for(var e=RGraph.getArgs(arguments,"array"),t=[],a=1,r=e.array.length;a<r;++a)t.push(e.array[a]);return t},RGraph.arrayReverse=function(){var e=RGraph.getArgs(arguments,"array");if(e.array){for(var t=[],a=e.array.length-1;0<=a;--a)t.push(e.array[a]);return t}},RGraph.abs=function(){var e=RGraph.getArgs(arguments,"value");if("string"==typeof e.value&&(e.value=parseFloat(e.value)||0),"number"==typeof e.value)return Math.abs(e.value);if("object"!=typeof e.value)return 0;for(i in e.value)"string"!=typeof e.value[i]&&"number"!=typeof e.value[i]&&"object"!=typeof e.value[i]||(e.value[i]=RGraph.abs(e.value[i]));return e.value},RGraph.clear=RGraph.Clear=function(e){var e=RGraph.getArgs(arguments,"canvas,color"),t=e.canvas.__object__,a=e.canvas.getContext("2d"),r=e.color||t&&t.get("clearto");if(e.canvas){if(RGraph.fireCustomEvent(t,"onbeforeclear"),RGraph.text.domNodeCache&&RGraph.text.domNodeCache[e.canvas.id])for(var i in RGraph.text.domNodeCache[e.canvas.id]){i=RGraph.text.domNodeCache[e.canvas.id][i];i&&i.style&&(i.style.display="none")}r&&"rgba(0,0,0,0)"!==r&&"transparent"!==r?r?t.path("fs % fr -100 -100 % %",r,e.canvas.width+200,e.canvas.height+200):t.path("fs % fr -100 -100 % %",t.get("clearto"),e.canvas.width+200,e.canvas.height+200):(a.clearRect(-100,-100,e.canvas.width+200,e.canvas.height+200),a.globalCompositeOperation="source-over"),RGraph.Registry.get("background.image."+e.canvas.id)&&((a=RGraph.Registry.get("background.image."+e.canvas.id)).style.position="absolute",a.style.left="-10000px",a.style.top="-10000px"),RGraph.Registry.get("tooltip")&&t&&!t.get("tooltipsNohideonclear")&&RGraph.hideTooltip(e.canvas),e.canvas.style.cursor="default",RGraph.fireCustomEvent(t,"onclear")}},RGraph.drawTitle=function(){var e,t=RGraph.getArgs(arguments,"object,text,marginTop,centerx"),a=t.object.canvas,r=t.object.context,i=t.object.properties,o=i.marginLeft,s=i.marginRight,n=t.marginTop,c=i.marginBottom,l=t.centerx||(a.width-o-s)/2+o,p=i.keyPosition,h=i.titleVpos,g=i.titleHpos,x=i.titleBackground,b=i.titleX,d=i.titleY,f="center",y="center",u=RGraph.getTextConf({object:t.object,prefix:"title"}),s=u.size,o=u.bold;u.italic;RGraph.isNull(o)&&(u.bold=!0),"bar"==t.object.type&&"3d"==i.variant&&(p="margin"),r.beginPath(),r.fillStyle=u.color||"black",y=(!p||"margin"==p)&&p?"bottom":"center","number"==typeof i.titleVpos?(h=i.titleVpos*n,"top"===i.xaxisPosition&&(h=i.titleVpos*c+n+(a.height-n-c))):(h=n-s-5,"top"===i.xaxisPosition&&(h=a.height-c+s+5)),"number"==typeof g&&(l=g*a.width),"number"==typeof b&&(l=b),"number"==typeof d&&(h=d),"string"==typeof b&&(l+=parseFloat(b)),"string"==typeof d&&(h+=parseFloat(d)),"number"==typeof i.titleOffsetx&&(l+=i.titleOffsetx),"number"==typeof i.titleOffsety&&(h+=i.titleOffsety),"string"==typeof i.titleHalign&&(f=i.titleHalign),"string"==typeof i.titleValign&&(y=i.titleValign),null!==typeof u.color&&(e=r.fillStyle,i=u.color,r.fillStyle=i||"black");RGraph.text({object:t.object,font:u.font,size:u.size,color:u.color,bold:u.bold,italic:u.italic,x:l,y:h,text:t.text,valign:y,halign:f,bounding:null!=x,"bounding.fill":x,tag:"title",marker:!1});r.fillStyle=e},RGraph.getMouseXY=function(){var e=RGraph.getArgs(arguments,"event");if(e.event.target){var t,a,r=e.event.target,i=r.style,o=0,s=0,n=parseInt(i.borderLeftWidth)||0,c=parseInt(i.borderTopWidth)||0,l=parseInt(i.paddingLeft)||0,p=parseInt(i.paddingTop)||0,h=n+l,i=c+p;if("number"==typeof e.event.offsetX&&"number"==typeof e.event.offsetY)a=RGraph.ISIE||RGraph.ISOPERA?RGraph.ISIE?(t=e.event.offsetX-l,e.event.offsetY-p):(t=e.event.offsetX,e.event.offsetY):(t=e.event.offsetX-n-l,e.event.offsetY-c-p);else{if(void 0!==r.offsetParent)for(;o+=r.offsetLeft,s+=r.offsetTop,r=r.offsetParent;);t=e.event.pageX-o-h,a=e.event.pageY-s-i,t-=2*(parseInt(document.body.style.borderLeftWidth)||0),a-=2*(parseInt(document.body.style.borderTopWidth)||0)}return[t,a]}},RGraph.getCanvasXY=function(){var e=RGraph.getArgs(arguments,"canvas");if(e.canvas.getBoundingClientRect){var t=e.canvas.getBoundingClientRect(),a=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return[t.x+a,t.y+r]}for(var i=0,o=0,s=e.canvas;i+=s.offsetLeft,o+=s.offsetTop,"table"==s.tagName.toLowerCase()&&(RGraph.ISCHROME||RGraph.ISSAFARI)&&(i+=parseInt(s.border)||0,o+=parseInt(s.border)||0),(s=s.offsetParent)&&"body"!=s.tagName.toLowerCase(););a=e.canvas.style.paddingLeft?parseInt(e.canvas.style.paddingLeft):0,t=e.canvas.style.paddingTop?parseInt(e.canvas.style.paddingTop):0,r=e.canvas.style.borderLeftWidth?parseInt(e.canvas.style.borderLeftWidth):0,e=e.canvas.style.borderTopWidth?parseInt(e.canvas.style.borderTopWidth):0;return 0<navigator.userAgent.indexOf("Firefox")&&(i+=parseInt(document.body.style.borderLeftWidth)||0,o+=parseInt(document.body.style.borderTopWidth)||0),[i+a+r,o+t+e]},RGraph.isFixed=function(){for(var e=RGraph.getArgs(arguments,"canvas");e.canvas&&"body"!=e.canvas.tagName.toLowerCase();){if("fixed"==e.canvas.style.position)return e.canvas;e.canvas=e.canvas.offsetParent}return!1},RGraph.register=function(){var e,t=RGraph.getArgs(arguments,"object");"function"==typeof t.object&&(e=t.object,t.object=new function(){this.id=null,this.isFunction=!0,this.canvas={id:null},this.getObjectByXY=function(){return!1},this.get=function(){},this.set=function(){},this.draw=function(){e()}}),t.object.get("noregister")||!1===t.object.get("register")||(RGraph.ObjectRegistry.add(t.object),t.object.set("register",!1))},RGraph.redraw=function(){var e=RGraph.getArgs(arguments,"color"),t=RGraph.ObjectRegistry.objects.byCanvasID;if("object"==typeof e.color&&e.color&&"function"==typeof e.color.toString&&"function"==typeof e.color.toString().indexOf&&-1<e.color.toString().indexOf("HTMLCanvasElement")){var a={canvas:e.color};return arguments[1]&&(a.color=arguments[1]),RGraph.redrawCanvas(a)}for(var r=document.getElementsByTagName("canvas"),i=0,o=r.length;i<o;++i)r[i]&&r[i].__object__&&r[i].__object__.isrgraph&&(r[i].noclear||RGraph.clear(r[i],e.color||null));for(i=0,o=t.length;i<o;++i)t[i]&&(t[i][0],t[i][1].draw())},RGraph.redrawCanvas=function(){var e=RGraph.getArgs(arguments,"canvas,clear,color"),t=RGraph.ObjectRegistry.getObjectsByCanvasID(e.canvas.id);(RGraph.isNull(e.clear)||"boolean"==typeof e.clear&&!1!==e.clear)&&(e.color||e.canvas.__object__.get("clearto"),RGraph.clear(e.canvas,e.color));for(var a=0,r=t.length;a<r;++a)t[a]&&t[a]&&t[a].isrgraph&&t[a].draw()},RGraph.Background.draw=function(){var e,t,a,n,r,c=RGraph.getArgs(arguments,"object"),l=c.object.properties,p=c.object.marginLeft,h=c.object.marginRight,g=c.object.marginTop,x=c.object.marginBottom,i=l.variant;c.object.context.fillStyle=l.textColor,"3d"==i&&(c.object.context.save(),c.object.context.translate(l.variantThreedOffsetx,-1*l.variantThreedOffsety)),"bar"!==c.object.type&&"waterfall"!==c.object.type&&"hbar"!==c.object.type&&"line"!==c.object.type&&"gantt"!==c.object.type&&"scatter"!==c.object.type&&"string"==typeof l.xaxisTitle&&l.xaxisTitle.length&&(l.textSize,e=(c.object.canvas.width-p-h)/2+p,t=c.object.canvas.height-x+25,"number"==typeof l.xaxisTitlePos&&(t=c.object.canvas.height-x*l.xaxisTitlePos),"number"==typeof l.xaxisTitleX&&(e=l.xaxisTitleX),"number"==typeof l.xaxisTitleY&&(t=l.xaxisTitleY),r=RGraph.getTextConf({object:c.object,prefix:"xaxisTitle"}),RGraph.text({object:c.object,font:r.font,size:r.size,color:r.color,bold:r.bold,italic:r.italic,x:e,y:t,text:l.xaxisTitle,halign:"center",valign:"top",tag:"xaxis.title"})),"bar"!==c.object.type&&"waterfall"!==c.object.type&&"hbar"!==c.object.type&&"line"!==c.object.type&&"gantt"!==c.object.type&&"scatter"!==c.object.type&&"string"==typeof l.yaxisTitle&&l.yaxisTitle.length&&(l.textSize,l.textFont,l.textItalic,o=270,l.yaxisTitleBold,t=l.yaxisTitleColor,a="number"==typeof l.yaxisTitlePos?l.yaxisTitlePos*p:"hbar"===c.object.type&&RGraph.isNull(l.yaxisTitlePos)?l.marginLeft-c.object.yaxisLabelsSize:(a=c.object&&c.object.scale2?RGraph.measureText({text:c.object.scale2.labels[c.object.scale2.labels.length-1],bold:"boolean"==typeof l.yaxisScaleBold?l.yaxisScaleBold:l.textBold,font:l.yaxisScaleFont||l.textFont,size:"number"==typeof l.yaxisScaleSize?l.yaxisScaleSize:l.textSize}):[0,0],l.marginLeft-a[0]-7),"number"==typeof l.yaxisTitleSize&&l.yaxisTitleSize,"boolean"==typeof l.yaxisTitleItalic&&l.yaxisTitleItalic,"string"==typeof l.yaxisTitleFont&&l.yaxisTitleFont,("right"==l.yaxisTitleAlign||"right"==l.yaxisTitlePosition||"hbar"===c.object.type&&"right"===l.yaxisPosition&&void 0===l.yaxisTitleAlign&&void 0===l.yaxisTitlePosition)&&(o=90,a="number"==typeof l.yaxisTitlePos?c.object.canvas.width-h+l.yaxisTitlePos*h:c.object.canvas.width-h+(l.yaxisLabelsSize||l.textSize)+10),n=(c.object.canvas.height-g-x)/2+g,"number"==typeof l.yaxisTitleX&&(a=l.yaxisTitleX),"number"==typeof l.yaxisTitleY&&(n=l.yaxisTitleY),c.object.context.fillStyle=t,r=RGraph.getTextConf({object:c.object,prefix:"yaxisTitle"}),RGraph.text({object:c.object,font:r.font,size:r.size,color:r.color,bold:r.bold,italic:r.italic,x:a,y:n,valign:"bottom",halign:"center",angle:o,text:l.yaxisTitle,tag:"yaxis.title",accessible:!1}));var o=l.backgroundColor;o&&(c.object.context.fillStyle=o,c.object.context.fillRect(p+.5,g+.5,c.object.canvas.width-p-h,c.object.canvas.height-g-x));var s=l.yaxisLabelsCount||5;"number"==typeof l.backgroundBarsCount&&(s=l.backgroundBarsCount);var b=(c.object.canvas.height-x-g)/s;c.object.context.beginPath(),c.object.context.fillStyle=l.backgroundBarsColor1,c.object.context.strokeStyle=c.object.context.fillStyle;c.object.canvas.height;for(var d,f=0;f<s;f+=2)c.object.context.rect(p,f*b+g,c.object.canvas.width-p-h,b);c.object.context.fill(),c.object.context.beginPath(),c.object.context.fillStyle=l.backgroundBarsColor2,c.object.context.strokeStyle=c.object.context.fillStyle;for(f=1;f<s;f+=2)c.object.context.rect(p,f*b+g,c.object.canvas.width-p-h,b);c.object.context.fill(),c.object.context.beginPath();RGraph.cachedDraw(c.object,c.object.uid+"_background",function(e,t,a){if(l.backgroundGrid){if(l.backgroundGridHlinesCount+=1e-4,l.backgroundGridAutofit&&(l.backgroundGridAutofitAlign&&("hbar"===e.type&&e.set("backgroundGridHlinesCount",e.data.length),"line"===e.type?"number"==typeof l.backgroundGridVlinesCount||(l.xaxisLabels&&l.xaxisLabels.length?e.set("backgroundGridVlinesCount",l.xaxisLabels.length-1):e.set("backgroundGridVlinesCount",0<e.data[0].length?e.data[0].length-1:0)):"waterfall"===e.type?e.set("backgroundGridVlinesCount",e.data.length+(l.total?1:0)):"bar"===e.type?e.set("backgroundGridVlinesCount",e.data.length):"scatter"===e.type?"number"!=typeof l.backgroundGridVlinesCount&&(RGraph.isArray(l.xaxisLabels)&&l.xaxisLabels.length?e.set("backgroundGridVlinesCount",l.xaxisLabels.length):e.set("backgroundGridVlinesCount",10)):"gantt"===e.type?("number"==typeof e.get("backgroundGridVlinesCount")||e.set("backgroundGridVlinesCount",l.xaxisScaleMax),e.set("backgroundGridHlinesCount",e.data.length)):"hbar"===e.type&&RGraph.isNull(l.backgroundGridHlinesCount)&&e.set("backgroundGridHlinesCount",e.data.length)),o=(t.width-p-h)/l.backgroundGridVlinesCount,r=(t.height-g-x)/l.backgroundGridHlinesCount,e.set("backgroundGridVsize",o),e.set("backgroundGridHsize",r)),e.context.beginPath(),a.lineWidth=l.backgroundGridLinewidth||1,a.strokeStyle=l.backgroundGridColor,l.backgroundGridDashed&&"function"==typeof a.setLineDash&&a.setLineDash([3,5]),l.backgroundGridDotted&&"function"==typeof a.setLineDash&&a.setLineDash([1,3]),e.context.beginPath(),l.backgroundGridHlines){d=t.height-x;var r=l.backgroundGridHsize;for(n=g;n<=d;n+=r)a.moveTo(p,Math.round(n)),a.lineTo(c.object.canvas.width-h,Math.round(n))}if(l.backgroundGridVlines)for(var i=t.width-h,o=l.backgroundGridVsize,s=p;Math.round(s)<=i;s+=o)a.moveTo(Math.round(s),g),a.lineTo(Math.round(s),e.canvas.height-x);l.backgroundGridBorder&&(a.strokeStyle=l.backgroundGridColor,a.strokeRect(Math.round(p),Math.round(g),e.canvas.width-p-h,e.canvas.height-g-x))}a.stroke(),a.beginPath(),a.closePath()}),"3d"==i&&c.object.context.restore(),"function"==typeof c.object.context.setLineDash&&c.object.context.setLineDash([1,0]),c.object.context.stroke(),"string"==typeof c.object.properties.title&&RGraph.drawTitle(c.object,l.title,c.object.marginTop,null,l.titleSize||l.textSize+2,c.object)},RGraph.numberFormat=function(e){var t,a,r,i=e.unitspre?String(e.unitspre):"",o=e.unitspost?String(e.unitspost):"",s="",n="",c="string"==typeof e.point?e.point:".",l="string"==typeof e.thousand?e.thousand:",";if(RegExp.$1="","function"==typeof e.formatter)return e.formatter(e);if(0<String(e.number).indexOf("e"))return String(i+String(e.number)+o);e.number=String(e.number),0<e.number.indexOf(".")&&(r=e.number,e.number=e.number.replace(/\.(.*)/,""),n=r.replace(/(.*)\.(.*)/,"$2"));var p=l;for(t=e.number.length-1,a=0;0<=t;a++,t--)a%3==0&&0!=a&&(s+=p),s+=e.number.charAt(t);var h=s,s="";for(t=h.length-1;0<=t;t--)s+=h.charAt(t);return 0==s.indexOf("-"+e.thousand)&&(s="-"+s.substr(("-"+e.thousand).length)),n.length&&(s=s+c+n,n="",RegExp.$1=""),"-"==s.charAt(0)&&(s=s.replace(/-/,""),i="-"+i),i+(s=s.replace(/^,+/,""))+o},RGraph.drawBars=function(){var e=RGraph.getArgs(arguments,"object"),t=e.object.properties,a=t.backgroundHbars;if(null!==a){e.object.context.beginPath();for(var r=0,i=a.length;r<i;++r){var o=a[r][0],s=a[r][1],n=a[r][2];(o=(o=RGraph.isNull(o)?e.object.scale2.max:o)>e.object.scale2.max?e.object.scale2.max:o)+(s=o+(s=RGraph.isNull(s)?e.object.scale2.max-o:s)>e.object.scale2.max?e.object.scale2.max-o:s)<-1*e.object.scale2.max&&(s=-1*e.object.scale2.max-o),"center"==t.xaxisPosition&&o==e.object.scale2.max&&s<-2*e.object.scale2.max&&(s=-2*e.object.scale2.max);var c=t.marginLeft,l=e.object.getYCoord(o),p=e.object.canvas.width-t.marginLeft-t.marginRight,s=e.object.getYCoord(o+s)-l;-1!=RGraph.ISOPERA&&"center"==t.xaxisPosition&&s<0&&(l-=s*=-1),"top"==t.xaxisPosition&&(l=e.object.canvas.height-l,s*=-1),e.object.context.fillStyle=n,e.object.context.fillRect(c,l,p,s)}}},RGraph.drawInGraphLabels=function(){var a=RGraph.getArgs(arguments,"object"),e=a.object.properties,t=e.labelsIngraph,r=[];if(t){for(var i,o,s=RGraph.getTextConf({object:a.object,prefix:"labelsIngraph"}),n=0,c=t.length;n<c;n+=1)if("number"==typeof t[n])for(var l=0;l<t[n];++l)r.push(null);else"string"==typeof t[n]||"object"==typeof t[n]?r.push(t[n]):r.push("");if(RGraph.noShadow(a.object),r&&0<r.length)for(var p,h,g,x,b,d,n=0,c=r.length;n<c;n+=1){function f(e,t){a.object.context.moveTo(Math.round(e),t+5),a.object.context.lineTo(Math.round(e),t+5+g),a.object.context.stroke(),a.object.context.beginPath(),a.object.context.moveTo(Math.round(e),t+5),a.object.context.lineTo(Math.round(e)-3,t+10),a.object.context.lineTo(Math.round(e)+3,t+10),a.object.context.closePath()}r[n]&&((h=a.object.coords[n])&&0<h.length&&(p=("bar"==a.object.type?h[0]+h[2]/2:h[0])+(e.labelsIngraphOffsetx||0),h=("bar"==a.object.type?h[1]+h[3]/2:h[1])+(e.labelsIngraphOffsety||0),g="number"==typeof r[n][4]?r[n][4]:25,a.object.context.beginPath(),a.object.context.fillStyle="black",a.object.context.strokeStyle="black","bar"===a.object.type?("top"==a.object.get("xaxisPosition")&&(g*=-1),b="dot"==e.variant||"arrow"==e.variant?(a.object.context.moveTo(Math.round(p),a.object.coords[n][1]-5),a.object.context.lineTo(Math.round(p),a.object.coords[n][1]-5-g),x=Math.round(p),a.object.coords[n][1]-5-g):(a.object.context.arc(Math.round(p),h,2.5,0,6.28,0),a.object.context.moveTo(Math.round(p),h),a.object.context.lineTo(Math.round(p),h-g),x=Math.round(p),h-g),a.object.context.stroke()):"object"==typeof r[n]&&"number"==typeof r[n][3]&&-1==r[n][3]?(f(p,h),d="top",x=p,b=h+5+g):(x=p,(b=h-5-g)<5&&("string"==typeof r[n]||void 0===r[n][3])&&(b=h+5+g,d="top"),"top"===d?f(p,h):(i=p,o=h,a.object.context.moveTo(Math.round(i),o-5),a.object.context.lineTo(Math.round(i),o-5-g),a.object.context.stroke(),a.object.context.beginPath(),a.object.context.moveTo(Math.round(i),o-5),a.object.context.lineTo(Math.round(i)-3,o-10),a.object.context.lineTo(Math.round(i)+3,o-10),a.object.context.closePath())),a.object.context.fill(),a.object.context.beginPath(),"object"==typeof r[n]&&"string"==typeof r[n][1]?a.object.context.fillStyle=r[n][1]:a.object.context.fillStyle=e.labelsIngraphColor,RGraph.text({object:a.object,font:s.font,size:s.size,color:a.object.context.fillStyle||s.color,bold:s.bold,italic:s.italic,x:x,y:b+(a.object.properties.textAccessible?2:0),text:"object"==typeof r[n]&&"string"==typeof r[n][0]?r[n][0]:r[n],valign:d||"bottom",halign:"center",bounding:!0,"bounding.fill":"object"==typeof r[n]&&"string"==typeof r[n][2]?r[n][2]:"white",tag:"labels ingraph"}),a.object.context.fill()),d=undefined)}}},RGraph.hideCrosshairCoords=function(){var e,t=RGraph.Registry.get("coordinates.coords.div");t&&1==t.style.opacity&&t.__object__.get("crosshairsCoordsFadeout")&&(e=RGraph.Registry.get("coordinates.coords.div").style,setTimeout(function(){e.opacity=.9},25),setTimeout(function(){e.opacity=.8},50),setTimeout(function(){e.opacity=.7},75),setTimeout(function(){e.opacity=.6},100),setTimeout(function(){e.opacity=.5},125),setTimeout(function(){e.opacity=.4},150),setTimeout(function(){e.opacity=.3},175),setTimeout(function(){e.opacity=.2},200),setTimeout(function(){e.opacity=.1},225),setTimeout(function(){e.opacity=0},250),setTimeout(function(){e.display="none"},275))},RGraph.draw3DAxes=function(){var e=RGraph.getArgs(arguments,"object"),t=e.object.properties,a=e.object.marginLeft,r=e.object.marginRight,i=e.object.marginTop,o=e.object.marginBottom,s=t.xaxisPosition,n=(e.object.canvas.height-i-o)/2,c=t.variantThreedOffsetx,l=t.variantThreedOffsety,o=t.variantThreedXaxis;t.variantThreedYaxis&&RGraph.draw3DYAxis(e.object),o&&("center"===s?e.object.path("b m % % l % % l % % l % % c s #aaa f #ddd",a,i+n,a+c,i+n-l,e.object.canvas.width-r+c,i+n-l,e.object.canvas.width-r,i+n):(n="hbar"===e.object.type?e.object.canvas.height-e.object.properties.marginBottom:e.object.getYCoord(0),e.object.path("m % % l % % l % % l % % c s #aaa f #ddd",a,n,a+c,n-l,e.object.canvas.width-r+c,n-l,e.object.canvas.width-r,n)))},RGraph.draw3DYAxis=function(e){var e=RGraph.getArgs(arguments,"object"),t=e.object.properties,a=e.object.marginLeft,r=e.object.marginRight,i=e.object.marginTop,o=e.object.marginBottom,s=(t.xaxisPosition,e.object.canvas.height,t.variantThreedOffsetx),n=t.variantThreedOffsety;a="hbar"!==e.object.type&&"bar"!==e.object.type||"center"!==t.yaxisPosition?"hbar"!==e.object.type&&"bar"!==e.object.type||"right"!==t.yaxisPosition?a:e.object.canvas.width-r:(e.object.canvas.width-a-r)/2+a,e.object.path("b m % % l % % l % % l % % s #aaa f #ddd",a,i,a+s,i-n,a+s,e.object.canvas.height-o-n,a,e.object.canvas.height-o)},RGraph.roundedRect=function(){var e=RGraph.getArgs(arguments,"context,x,y,width,height,radius,roundtl,roundtr,roundbl,roundbr"),t=(e.radius,Math.min(Math.min(e.width,e.height)/2,e.radius)),a=!1!==e.roundtl,r=!1!==e.roundtr,i=!1!==e.roundbl,o=!1!==e.roundbr;e.context.beginPath(),e.context.moveTo(e.x,e.y+t),a?e.context.arc(e.x+t,e.y+t,t,RGraph.PI,RGraph.PI+RGraph.HALFPI,!1):(e.context.lineTo(e.x,e.y),e.context.lineTo(e.x+t,e.y)),r?e.context.arc(e.x+e.width-t,e.y+t,t,RGraph.PI+RGraph.HALFPI,0,!1):(e.context.lineTo(e.x+e.width,e.y),e.context.lineTo(e.x+e.width,e.y+t)),o?e.context.arc(e.x+e.width-t,e.y+e.height-t,t,0,RGraph.HALFPI,!1):(e.context.lineTo(e.x+e.width,e.y+e.height),e.context.lineTo(e.x+e.width-t,e.y+e.height)),i?e.context.arc(e.x+t,e.y-t+e.height,t,RGraph.HALFPI,RGraph.PI,!1):(e.context.lineTo(e.x,e.y+e.height),e.context.lineTo(e.x,e.y+e.height-t)),e.context.closePath()},RGraph.addCustomEventListener=function(){var e=RGraph.getArgs(arguments,"object,name,func");return void 0===RGraph.events[e.object.uid]&&(RGraph.events[e.object.uid]=[]),"on"!==e.name.substr(0,2)&&(e.name="on"+e.name),RGraph.events[e.object.uid].push([e.object,e.name,e.func]),RGraph.events[e.object.uid].length-1},RGraph.fireCustomEvent=function(){var e=RGraph.getArgs(arguments,"object,name");if("on"!==e.name.substr(0,2)&&(e.name="on"+e.name),e.object&&e.object.isrgraph){e.object[e.name]&&e.object[e.name](e.object);var t=e.object.uid;if("string"==typeof t&&"object"==typeof RGraph.events&&"object"==typeof RGraph.events[t]&&0<RGraph.events[t].length)for(var a=0;a<RGraph.events[t].length;++a)RGraph.events[t][a]&&RGraph.events[t][a][1]===e.name&&RGraph.events[t][a][2](e.object)}},RGraph.removeAllCustomEventListeners=function(){var e=RGraph.getArgs(arguments,"uid");e.uid&&RGraph.events[e.uid]?RGraph.events[e.uid]=[]:(RGraph.events=[],RGraph.ObjectRegistry.iterate(function(e){e.onclick&&(e.onclick=null),e.onmousemove&&(e.onmousemove=null),e.onmouseover&&(e.onmouseover=null),e.onmouseout&&(e.onmouseout=null)}))},RGraph.removeCustomEventListener=function(){var e=RGraph.getArgs(arguments,"object,index");"object"==typeof RGraph.events&&"object"==typeof RGraph.events[e.object.uid]&&"object"==typeof RGraph.events[e.object.uid][e.index]&&(RGraph.events[e.object.uid][e.index]=null)},RGraph.drawBackgroundImage=function(e){var t,a,r,i,o,s,n,c,e=RGraph.getArgs(arguments,"object"),l=e.object.properties;"string"==typeof l.backgroundImage&&(void 0===e.object.canvas.__rgraph_background_image__?((t=new Image).__object__=e.object,t.__canvas__=e.object.canvas,t.__context__=e.object.context,t.src=e.object.get("backgroundImage"),e.object.canvas.__rgraph_background_image__=t):t=e.object.canvas.__rgraph_background_image__,t.onload=function(){e.object.__rgraph_background_image_loaded__=!0,RGraph.clear(e.object.canvas),RGraph.redrawCanvas(e.object.canvas)},a=e.object.marginLeft,s=e.object.marginRight,n=e.object.marginTop,c=e.object.marginBottom,r=l.backgroundImageStretch,o="string"==typeof(o=l.backgroundImageAlign)?(i=-1!=o.indexOf("right")?e.object.canvas.width-(l.backgroundImageW||t.width)-s:a,-1!=o.indexOf("bottom")?e.object.canvas.height-(l.backgroundImageH||t.height)-c:n):(i=a||25,n||25),i="number"==typeof l.backgroundImageX?l.backgroundImageX:i,o="number"==typeof l.backgroundImageY?l.backgroundImageY:o,s=r?e.object.canvas.width-a-s:t.width,n=r?e.object.canvas.height-n-c:t.height,"number"==typeof l.backgroundImageW&&(s=l.backgroundImageW),"number"==typeof l.backgroundImageH&&(n=l.backgroundImageH),c=e.object.context.globalAlpha,e.object.context.globalAlpha=l.backgroundImageAlpha,e.object.context.drawImage(t,i,o,s,n),e.object.context.globalAlpha=c)},RGraph.hasTooltips=function(){var e=RGraph.getArgs(arguments,"object"),t=e.object.properties;if("object"==typeof t.tooltips&&t.tooltips){for(var a=0,r=t.tooltips.length;a<r;++a)if(!RGraph.isNull(e.object.get("tooltips")[a]))return!0}else if("function"==typeof t.tooltips)return!0;return!1},RGraph.createUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},RGraph.ObjectRegistry.add=function(){var e=RGraph.getArgs(arguments,"object"),t=e.object.uid,a=e.object.canvas.id;RGraph.ObjectRegistry.objects.byUID[RGraph.ObjectRegistry.objects.byUID.length]=[t,e.object],RGraph.ObjectRegistry.objects.byCanvasID.push([a,e.object])},RGraph.ObjectRegistry.remove=function(){for(var e=RGraph.getArgs(arguments,"object"),t=(e.object.id,e.object.uid),a=0;a<RGraph.ObjectRegistry.objects.byUID.length;++a)RGraph.ObjectRegistry.objects.byUID[a]&&RGraph.ObjectRegistry.objects.byUID[a][1].uid==t&&(RGraph.ObjectRegistry.objects.byUID[a]=null);for(a=0;a<RGraph.ObjectRegistry.objects.byCanvasID.length;++a)RGraph.ObjectRegistry.objects.byCanvasID[a]&&RGraph.ObjectRegistry.objects.byCanvasID[a][1]&&RGraph.ObjectRegistry.objects.byCanvasID[a][1].uid==t&&(RGraph.ObjectRegistry.objects.byCanvasID[a]=null)},RGraph.ObjectRegistry.clear=function(){if("object"!=typeof arguments[0]||RGraph.isNull(arguments)||"object"!=typeof arguments[0].canvas&&"string"!=typeof arguments[0].id)if("string"==typeof arguments[0])e={id:arguments[0]};else{if("object"!=typeof arguments[0]||!arguments[0].getContext)return RGraph.ObjectRegistry.objects={},RGraph.ObjectRegistry.objects.byUID=[],void(RGraph.ObjectRegistry.objects.byCanvasID=[]);e={canvas:arguments[0]}}else var e=arguments[0];if(e.id||e.canvas){e.canvas&&(e.id=e.canvas.id);for(var t=RGraph.ObjectRegistry.getObjectsByCanvasID(e.id),a=0,r=t.length;a<r;++a)RGraph.ObjectRegistry.remove(t[a])}else RGraph.ObjectRegistry.objects={},RGraph.ObjectRegistry.objects.byUID=[],RGraph.ObjectRegistry.objects.byCanvasID=[]},RGraph.ObjectRegistry.list=function(){for(var e=RGraph.getArgs(arguments,"alert"),t=[],a=0,r=RGraph.ObjectRegistry.objects.byUID.length;a<r;++a)RGraph.ObjectRegistry.objects.byUID[a]&&t.push(RGraph.ObjectRegistry.objects.byUID[a][1].type);if(!e.alert)return t;$p(t)},RGraph.ObjectRegistry.clearByType=function(){for(var e,t=RGraph.getArgs(arguments,"type"),a=RGraph.ObjectRegistry.objects.byUID,r=0,i=a.length;r<i;++r)a[r]&&(a[r][0],(e=a[r][1])&&e.type===t.type&&RGraph.ObjectRegistry.remove(e))},RGraph.ObjectRegistry.iterate=function(){for(var e=RGraph.getArgs(arguments,"func,type"),t=RGraph.ObjectRegistry.objects.byUID,a=0,r=t.length;a<r;++a)if("string"==typeof e.type)for(var i=e.type.split(/,/),o=0,s=i.length;o<s;++o)i[o]==t[a][1].type&&e.func(t[a][1]);else e.func(t[a][1])},RGraph.ObjectRegistry.getObjectsByCanvasID=function(){for(var e=RGraph.getArgs(arguments,"id"),t=RGraph.ObjectRegistry.objects.byCanvasID,a=[],r=0,i=t.length;r<i;++r)t[r]&&t[r][0]==e.id&&a.push(t[r][1]);return a},RGraph.ObjectRegistry.firstbyxy=RGraph.ObjectRegistry.getObjectByXY=RGraph.ObjectRegistry.getFirstObjectByXY=function(){for(var e=RGraph.getArgs(arguments,"event"),t=e.event.target,a=RGraph.ObjectRegistry.getObjectsByCanvasID(t.id),r=a.length-1;0<=r;--r){var i=a[r].getObjectByXY(e.event);if(i)return i}},RGraph.ObjectRegistry.getObjectsByXY=function(){for(var e=RGraph.getArgs(arguments,"event"),t=e.event.target,a=[],r=RGraph.ObjectRegistry.getObjectsByCanvasID(t.id),i=r.length-1;0<=i;--i){var o=r[i].getObjectByXY(e.event);o&&a.push(o)}return a},RGraph.ObjectRegistry.get=RGraph.ObjectRegistry.getObjectByUID=function(){for(var e=RGraph.getArgs(arguments,"uid"),t=RGraph.ObjectRegistry.objects.byUID,a=0,r=t.length;a<r;++a)if(t[a]&&t[a][1].uid==e.uid)return t[a][1]},RGraph.ObjectRegistry.bringToFront=function(){var e=RGraph.getArgs(arguments,"object,redraw"),t=e.redraw&&!0;RGraph.ObjectRegistry.remove(e.object),RGraph.ObjectRegistry.add(e.object),t&&RGraph.redrawCanvas(e.object.canvas)},RGraph.ObjectRegistry.type=RGraph.ObjectRegistry.getObjectsByType=function(){var e=RGraph.getArgs(arguments,"type"),t=RGraph.ObjectRegistry.objects.byUID,a=[];for(i in t)t[i]&&t[i][1]&&t[i][1].type&&t[i][1].type&&t[i][1].type==e.type&&a.push(t[i][1]);return a},RGraph.ObjectRegistry.first=RGraph.ObjectRegistry.getFirstObjectByType=function(){var e,t=RGraph.getArgs(arguments,"type"),a=RGraph.ObjectRegistry.objects.byUID;for(e in a)if(a[e]&&a[e][1]&&a[e][1].type==t.type)return a[e][1];return null},RGraph.getAngleByXY=function(){var e=RGraph.getArgs(arguments,"cx,cy,x,y"),t=Math.atan((e.y-e.cy)/(e.x-e.cx)),t=Math.abs(t);return e.x>=e.cx&&e.y>=e.cy?t+=RGraph.TWOPI:e.x>=e.cx&&e.y<e.cy?t=RGraph.HALFPI-t+(RGraph.PI+RGraph.HALFPI):e.x<e.cx&&e.y<e.cy?t+=RGraph.PI:t=RGraph.PI-t,t>RGraph.TWOPI&&(t-=RGraph.TWOPI),t},RGraph.getHypLength=function(){var e=RGraph.getArgs(arguments,"x1,y1,x2,y2");return Math.sqrt((e.x2-e.x1)*(e.x2-e.x1)+(e.y2-e.y1)*(e.y2-e.y1))},RGraph.getRadiusEndPoint=function(){var e=RGraph.getArgs(arguments,"cx,cy,angle,radius");return[e.cx+Math.cos(e.angle)*e.radius,e.cy+Math.sin(e.angle)*e.radius]},RGraph.installEventListeners=function(){var e=RGraph.getArgs(arguments,"object"),t=e.object.properties;RGraph.installCanvasClickListener?(RGraph.installWindowMousedownListener(e.object),RGraph.installWindowMouseupListener(e.object),RGraph.installCanvasMousemoveListener(e.object),RGraph.installCanvasMouseupListener(e.object),RGraph.installCanvasMousedownListener(e.object),RGraph.installCanvasClickListener(e.object)):(RGraph.hasTooltips(e.object)||t.adjustable||t.annotatable||t.contextmenu||t.keyInteractive||"function"==typeof e.object.onclick||"function"==typeof e.object.onmousemove||"function"==typeof e.object.onmouseout||"function"==typeof e.object.onmouseover)&&alert("[RGRAPH] You appear to have used dynamic features but not included the file: RGraph.common.dynamic.js")},RGraph.pr=function(e){var t=RGraph.getArgs(arguments,"object,alert,indent,counter"),a=t.indent||"    ",r="",i="number"==typeof t.counter?t.counter:0;if(3<=i)return"";switch(typeof e){case"string":r+=t.object+" ("+typeof t.object+", "+t.object.length+")";break;case"number":case"boolean":r+=t.object+" ("+typeof t.object+")";break;case"function":r+="function () {}";break;case"undefined":r+="undefined";break;case"null":r+="null";break;case"object":if(RGraph.isNull(t.object))r+="null";else{for(var o in r+="Object {\n",e)r+=a+"    "+o+" => "+RGraph.pr(t.object[o],!0,a+"    ",i+1)+"\n";r+=a+"}"}break;default:r+="Unknown type: "+typeof t.object}return t.alert||alert(r),r},RGraph.dashedLine=function(){for(var e=RGraph.getArgs(arguments,"context,x1,y1,x2,y2,size"),t=e.x2-e.x1,a=e.y2-e.y1,r=Math.floor(Math.sqrt(t*t+a*a)/(e.size||3)),i=t/r,o=a/r,s=0;s%2==0&&0<s?e.context.lineTo(e.x1,e.y1):e.context.moveTo(e.x1,e.y1),e.x1+=i,e.y1+=o,++s<=r;);},RGraph.AJAX=function(){var e,t=RGraph.getArgs(arguments,"url,callback");window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e.onreadystatechange=function(){4==this.readyState&&200==this.status&&(this.__user_callback__=t.callback,this.__user_callback__(this.responseText))},e.open("GET",t.url,!0),e&&e.setRequestHeader&&e.setRequestHeader("Cache-Control","no-cache"),e.send()},RGraph.AJAX.post=RGraph.AJAX.POST=function(){var e,t=RGraph.getArgs(arguments,"url,data,callback"),a=[];for(i in window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e.onreadystatechange=function(){4==this.readyState&&200==this.status&&(this.__user_callback__=t.callback,this.__user_callback__(this.responseText))},e.open("POST",t.url,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.data)"string"==typeof i&&a.push(i+"="+encodeURIComponent(t.data[i]));e.send(a.join("&"))},RGraph.AJAX.getNumber=function(){var t=RGraph.getArgs(arguments,"url,callback");RGraph.AJAX(t.url,function(){var e=parseFloat(this.responseText);t.callback(e)})},RGraph.AJAX.getString=function(){var t=RGraph.getArgs(arguments,"url,callback");RGraph.AJAX(t.url,function(){var e=String(this.responseText);t.callback(e)})},RGraph.AJAX.getJSON=function(){var args=RGraph.getArgs(arguments,"url,callback");RGraph.AJAX(args.url,function(){var json=eval("("+this.responseText+")");args.callback(json)})},RGraph.AJAX.getCSV=function(){var i=RGraph.getArgs(arguments,"url,callback,separator"),o=i.separator||",";RGraph.AJAX(i.url,function(){for(var e=new RegExp(o),t=this.responseText.split(e),a=0,r=t.length;a<r;++a)t[a]=parseFloat(t[a]);i.callback(t)})},RGraph.rotateCanvas=function(){var e=RGraph.getArgs(arguments,"canvas,x,y,angle"),t=e.canvas.getContext("2d");t.translate(e.x,e.y),t.rotate(e.angle),t.translate(0-e.x,0-e.y)},RGraph.measureText=function(){var e=RGraph.getArgs(arguments,"text,bold,font,size");void 0===RGraph.measuretext_cache&&(RGraph.measuretext_cache=[]);var t=e.text+":"+e.bold+":"+e.font+":"+e.size;if("object"==typeof RGraph.measuretext_cache&&RGraph.measuretext_cache[t])return RGraph.measuretext_cache[t];if(RGraph.measuretext_cache["text-div"]){if(RGraph.measuretext_cache["text-div"])for(var a=RGraph.measuretext_cache["text-div"];a.firstChild;)a.removeChild(a.firstChild)}else(a=document.createElement("DIV")).style.position="absolute",a.style.top="-100px",a.style.left="-100px",a.style.lineHeight=1.5*(e.size||12)+"px",document.body.appendChild(a),RGraph.measuretext_cache["text-div"]=a;return a.insertAdjacentHTML("afterbegin",String(e.text).replace(/\r?\n/g,"<br />")),a.style.fontFamily=e.font,a.style.fontWeight=e.bold?"bold":"normal",a.style.fontSize=(e.size||12)+"pt",RGraph.measuretext_cache[t]=[a.offsetWidth,a.offsetHeight],[a.offsetWidth,a.offsetHeight]},RGraph.text=function(p){var h,g;for(O in arguments[0]&&arguments[1]&&("string"==typeof arguments[1].text||"number"==typeof arguments[1].text)?(g=arguments[0],p=arguments[1]):(g=p.object,"number"==typeof p.text&&(p.text=String(p.text))),RGraph.text.defaults)"string"==typeof O&&void 0===p[O]&&(p[O]=RGraph.text.defaults[O]);function e(){-1!==String(p.size).toLowerCase().indexOf("italic")&&(p.size=p.size.replace(/ *italic +/,""),p.italic=!0);var e,t=Math.abs(parseInt(p.x))+"_"+Math.abs(parseInt(p.y))+"_"+String(p.text).replace(/[^a-zA-Z0-9]+/g,"_")+"_"+g.canvas.id;g.canvas.rgraph_domtext_wrapper?e=g.canvas.rgraph_domtext_wrapper:((e=document.createElement("div")).id=g.canvas.id+"_rgraph_domtext_wrapper",e.className="rgraph_domtext_wrapper",e.style.overflow=0!=g.properties.textAccessibleOverflow&&"hidden"!=g.properties.textAccessibleOverflow?"visible":"hidden",e.style.width=g.canvas.offsetWidth+"px",e.style.height=g.canvas.offsetHeight+"px",e.style.cssFloat=g.canvas.style.cssFloat,e.style.display=g.canvas.style.display||"inline-block",e.style.position=g.canvas.style.position||"relative",e.style.left=g.canvas.style.left,e.style.right=g.canvas.style.right,e.style.top=g.canvas.style.top,e.style.bottom=g.canvas.style.bottom,e.style.width=g.canvas.width+"px",e.style.height=g.canvas.height+"px",e.style.lineHeight="initial",g.canvas.style.position="absolute",g.canvas.style.left=0,g.canvas.style.top=0,g.canvas.style.display="inline",g.canvas.style.cssFloat="none","bar"!==g.type&&"bipolar"!==g.type&&"hbar"!==g.type||"3d"!==g.properties.variant||(e.style.transform="skewY(5.7deg)"),g.canvas.parentNode.insertBefore(e,g.canvas),g.canvas.parentNode.removeChild(g.canvas),e.appendChild(g.canvas),g.canvas.rgraph_domtext_wrapper=e);var a,r,i,o,s,n,c,l={size:12,font:"Arial",italic:"normal",bold:"normal",valign:"bottom",halign:"left",marker:!0,color:h.fillStyle,bounding:{enabled:!1,fill:"rgba(255,255,255,0.7)",stroke:"#666",linewidth:1}};p.text=String(p.text).replace(/\r?\n/g,"[[RETURN]]"),void 0===RGraph.text.domNodeCache&&(RGraph.text.domNodeCache=new Array),void 0===RGraph.text.domNodeCache[g.id]&&(RGraph.text.domNodeCache[g.id]=new Array),void 0===RGraph.text.domNodeDimensionCache&&(RGraph.text.domNodeDimensionCache=new Array),void 0===RGraph.text.domNodeDimensionCache[g.id]&&(RGraph.text.domNodeDimensionCache[g.id]=new Array),RGraph.text.domNodeCache[g.id]&&RGraph.text.domNodeCache[g.id][t]?((a=RGraph.text.domNodeCache[g.id][t]).style.display="inline",o=RGraph.text.domNodeDimensionCache[g.id][t].width,s=RGraph.text.domNodeDimensionCache[g.id][t].height,n=RGraph.text.domNodeDimensionCache[g.id][t].top,c=RGraph.text.domNodeDimensionCache[g.id][t].left):((a=document.createElement("span")).style.position="absolute",a.style.display="inline",a.className=" rgraph_accessible_text rgraph_accessible_text_"+g.id+" rgraph_accessible_text_"+(p.tag||"").replace(/\./,"_")+" rgraph_accessible_text_"+g.type+" "+(p.cssClass||""),a.style.left=p.x*(parseInt(g.canvas.offsetWidth)/parseInt(g.canvas.width))+"px",a.style.top=p.y*(parseInt(g.canvas.offsetHeight)/parseInt(g.canvas.height))+"px",a.style.color=p.color||l.color,a.style.fontFamily=p.font||l.font,a.style.fontWeight=p.bold?"bold":l.bold,a.style.fontStyle=p.italic?"italic":l.italic,a.style.fontSize=(p.size||l.size)+"pt",a.style.whiteSpace="nowrap",a.style.lineHeight=RGraph.ISIE?"normal":"initial",a.tag=p.tag,a.setAttribute("data-tag",p.tag),"number"==typeof p.angle&&0!==p.angle&&(RGraph.measureText(p.text,p.bold,p.font,p.size),r="center"===p.halign?"50%":"right"===p.halign?"100%":"0%",i="center"===p.valign?"50%":"top"===p.valign?"0%":"100%",a.style.transformOrigin="{1} {2}".format(r,i),a.style.transform="rotate("+p.angle+"deg)"),a.style.textShadow="{1}px {2}px {3}px {4}".format(h.shadowOffsetX,h.shadowOffsetY,h.shadowBlur,h.shadowColor),p.bounding&&(a.style.border="1px solid "+(p["bounding.stroke"]||l.bounding.stroke),a.style.backgroundColor=p["bounding.fill"]||l.bounding.fill,a.style.borderWidth="number"==typeof p["bounding.linewidth"]?p["bounding.linewidth"]:l.bounding.linewidth),void 0!==g.properties.textAccessiblePointerevents&&!g.properties.textAccessiblePointerevents||"none"===g.properties.textAccessiblePointerevents?a.style.pointerEvents="none":a.style.pointerEvents="auto",a.style.padding=p.bounding?"2px":null,a.__text__=p.text,a.insertAdjacentHTML("afterbegin",p.text.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;").replace(/\[\[RETURN\]\]/g,"<br />")),e.appendChild(a),p.halign=p.halign||"left",p.valign=p.valign||"bottom","right"===p.halign?(a.style.left=parseFloat(a.style.left)-a.offsetWidth+"px",a.style.textAlign="right"):"center"===p.halign&&(a.style.left=parseFloat(a.style.left)-a.offsetWidth/2+"px",a.style.textAlign="center"),"top"===p.valign||("center"===p.valign?a.style.top=parseFloat(a.style.top)-a.offsetHeight/2+"px":a.style.top=parseFloat(a.style.top)-a.offsetHeight+"px"),o=parseFloat(a.offsetWidth),s=parseFloat(a.offsetHeight),n=parseFloat(a.style.top),c=parseFloat(a.style.left),RGraph.text.domNodeCache[g.id][t]=a,RGraph.text.domNodeDimensionCache[g.id][t]={left:c,top:n,width:o,height:s},a.id=t),p.marker&&g.path("b m % % l % % m % % l % % s",p.x-5,p.y,p.x+5,p.y,p.x,p.y-5,p.x,p.y+5),"drawing.text"===g.type&&g.properties.tooltips&&a.addEventListener(-1!==g.properties.tooltipsEvent.indexOf("mousemove")?"mousemove":"click",function(e){RGraph.Registry.get("tooltip")&&0===RGraph.Registry.get("tooltip").__index__&&RGraph.Registry.get("tooltip").__object__.uid==g.uid||(RGraph.hideTooltip(),RGraph.redraw(),RGraph.tooltip(g,g.properties.tooltips[0],p.x,p.y,0,e))},!1);t={};return t.x=c,t.y=n,t.width=o,t.height=s,t.object=g,t.text=p.text,t.tag=p.tag,RGraph.text.domNodeCache.reset=function(){if(arguments[0]){var e;for(j in e="string"==typeof arguments[0]?document.getElementById(arguments[0]):arguments[0],RGraph.text.domNodeCache[e.id]){var t=RGraph.text.domNodeCache[e.id][j];t&&t.parentNode&&t.parentNode.removeChild(t)}RGraph.text.domNodeCache[e.id]=[],RGraph.text.domNodeDimensionCache[e.id]=[]}else{for(O in RGraph.text.domNodeCache)for(j in RGraph.text.domNodeCache[O])RGraph.text.domNodeCache[O][j]&&RGraph.text.domNodeCache[O][j].parentNode&&RGraph.text.domNodeCache[O][j].parentNode.removeChild(RGraph.text.domNodeCache[O][j]);RGraph.text.domNodeCache=[],RGraph.text.domNodeDimensionCache=[]}},RGraph.text.find=function(e){var t,a=[];if(e.object&&e.object.isrgraph)var r=e.object.id;else{if(!e.id)return alert("[RGRAPH] You Must give either an object or an ID to the RGraph.text.find() function"),!1;r=("string"==typeof e.id?e:e.object).id;e.object=document.getElementById(r).__object__}for(O in RGraph.text.domNodeCache[r])if(t=RGraph.text.domNodeCache[r][O],"string"!=typeof e.tag||e.tag!==t.tag){if("object"==typeof e.tag&&e.tag.constructor.toString().indexOf("RegExp"))if(new RegExp(e.tag).test(t.tag)){a.push(t);continue}("string"==typeof e.text&&e.text===t.__text__||"object"==typeof e.text&&e.text.constructor.toString().indexOf("RegExp")&&new RegExp(e.text).test(t.__text__))&&a.push(t)}else a.push(t);return"function"==typeof e.callback&&e.callback({nodes:a,object:e.object}),a},t.node=a,g&&g.isrgraph&&g.coordsText&&g.coordsText.push(t),t}if(g&&g.isrgraph?(E=(g=g).canvas,h=g.context):"string"==typeof g?(h=(E=document.getElementById(g)).getContext("2d"),g=E.__object__):"function"==typeof g.getContext?(h=(E=g).getContext("2d"),g=E.__object__):(-1!=g.toString().indexOf("CanvasRenderingContext2D")||RGraph.ISIE8&&g.moveTo||RGraph.ISOLD&&g.fillText)&&(g=(E=(h=g).canvas).__object__),"string"==typeof p.boundingFill&&(p["bounding.fill"]=p.boundingFill),"string"==typeof p.boundingStroke&&(p["bounding.stroke"]=p.boundingStroke),"number"==typeof p.boundingLinewidth&&(p["bounding.linewidth"]=p.boundingLinewidth),"string"==typeof p.textConfPrefix&&p.textConfPrefix.length&&(M=RGraph.getTextConf({object:g,prefix:p.textConfPrefix}),p.font=M.font,p.size=M.size,p.color=M.color,p.bold=M.bold,p.italic=M.italic),void 0===p.accessible){if(g&&g.properties.textAccessible)return e()}else if("boolean"==typeof p.accessible&&p.accessible)return e();var t=p.x,a=p.y,r=t,i=a,o=p.text,s="string"==typeof o?o.split(/\r?\n/g):"",n=s.length,c=p.font||"Arial",l=p.size||10,x=1.5*l,b=(p.bold,p.italic,p.halign||"left"),d=p.valign||"bottom",f="string"==typeof p.tag&&0<p.tag.length?p.tag:"",y=(p.marker,p.angle||0);"number"==typeof o&&(o=String(o));var u,m=p.bounding,R=p["bounding.stroke"]||"black",v=p["bounding.fill"]||"rgba(255,255,255,0.7)",G=p["bounding.shadow"],S=p["bounding.shadow.color"]||"#ccc",L=p["bounding.shadow.blur"]||3,T=p["bounding.shadow.offsetx"]||3,_=p["bounding.shadow.offsety"]||3,w="number"==typeof p["bounding.linewidth"]?p["bounding.linewidth"]:1,k={};if("string"==typeof p.color&&(u=h.fillStyle,h.fillStyle=p.color),"string"==typeof o){0!=y&&(h.save(),h.translate(t,a),h.rotate(Math.PI/180*y),a=t=0),h.font=(p.italic?"italic ":"")+(p.bold?"bold ":"")+l+"pt "+c;for(var C=0,O=0;O<n;++O)C=Math.max(C,h.measureText(s[O]).width);var P,I,A=x*n;p.marker&&(N=h.strokeStyle,h.beginPath(),h.strokeStyle="red",h.moveTo(t,a-10),h.lineTo(t,a+10),h.moveTo(t-10,a),h.lineTo(t+10,a),h.stroke(),h.strokeStyle=N),P="center"==b?(h.textAlign="center",t-2-C/2):"right"==b?(h.textAlign="right",t-2-C):(h.textAlign="left",t-2),I="center"==d?(h.textBaseline="middle",--a,(a-=(n-1)/2*x)-x/2-2):"top"==d?(h.textBaseline="top",a-2):"alphabetic"==d?(h.textBaseline="alphabetic",a-x+5):(h.textBaseline="bottom",1<n&&(a-=(n-1)*x),a-x-2);var F,E,M,N,B=C+4,D=4+A;if(m&&(F=h.lineWidth,E=h.strokeStyle,M=h.fillStyle,l=h.shadowColor,c=h.shadowBlur,N=h.shadowOffsetX,m=h.shadowOffsetY,h.lineWidth=w||.001,h.strokeStyle=R,h.fillStyle=v,G&&(h.shadowColor=S,h.shadowBlur=L,h.shadowOffsetX=T,h.shadowOffsetY=_),h.fillRect(P,I,B,D),h.strokeRect(P,I,B,D),h.lineWidth=F,h.strokeStyle=E,h.fillStyle=M,h.shadowColor=l,h.shadowBlur=c,h.shadowOffsetX=N,h.shadowOffsetY=m),1<n)for(O=0;O<n;++O)h.fillText(s[O],t,a+x*O);else h.fillText(o,t+.5,a+.5);return 0!=y&&(90==y?"left"==b?("bottom"==d&&(P=r-2,I=i-2,B=4+A,D=C+4),"center"==d&&(P=r-A/2-2,I=i-2,B=4+A,D=C+4),"top"==d&&(P=r-A-2,I=i-2,B=4+A,D=C+4)):"center"==b?("bottom"==d&&(P=r-2,I=i-C/2-2,B=4+A,D=C+4),"center"==d&&(P=r-A/2-2,I=i-C/2-2,B=4+A,D=C+4),"top"==d&&(P=r-A-2,I=i-C/2-2,B=4+A,D=C+4)):"right"==b&&("bottom"==d&&(P=r-2,I=i-C-2,B=4+A,D=C+4),"center"==d&&(P=r-A/2-2,I=i-C-2,B=4+A,D=C+4),"top"==d&&(P=r-A-2,I=i-C-2,B=4+A,D=C+4)):180==y?"left"==b?("bottom"==d&&(P=r-C-2,I=i-2,B=C+4,D=4+A),"center"==d&&(P=r-C-2,I=i-A/2-2,B=C+4,D=4+A),"top"==d&&(P=r-C-2,I=i-A-2,B=C+4,D=4+A)):"center"==b?("bottom"==d&&(P=r-C/2-2,I=i-2,B=C+4,D=4+A),"center"==d&&(P=r-C/2-2,I=i-A/2-2,B=C+4,D=4+A),"top"==d&&(P=r-C/2-2,I=i-A-2,B=C+4,D=4+A)):"right"==b&&("bottom"==d&&(P=r-2,I=i-2,B=C+4,D=4+A),"center"==d&&(P=r-2,I=i-A/2-2,B=C+4,D=4+A),"top"==d&&(P=r-2,I=i-A-2,B=C+4,D=4+A)):270==y&&("left"==b?("bottom"==d&&(P=r-A-2,I=i-C-2,B=4+A,D=C+4),"center"==d&&(P=r-A/2-4,I=i-C-2,B=4+A,D=C+4),"top"==d&&(P=r-2,I=i-C-2,B=4+A,D=C+4)):"center"==b?("bottom"==d&&(P=r-A-2,I=i-C/2-2,B=4+A,D=C+4),"center"==d&&(P=r-A/2-4,I=i-C/2-2,B=4+A,D=C+4),"top"==d&&(P=r-2,I=i-C/2-2,B=4+A,D=C+4)):"right"==b&&("bottom"==d&&(P=r-A-2,I=i-2,B=4+A,D=C+4),"center"==d&&(P=r-A/2-2,I=i-2,B=4+A,D=C+4),"top"==d&&(P=r-2,I=i-2,B=4+A,D=C+4))),h.restore()),h.textBaseline="alphabetic",h.textAlign="left",k.x=P,k.y=I,k.width=B,k.height=D,k.object=g,k.text=o,k.tag=f,g&&g.isrgraph&&g.coordsText&&g.coordsText.push(k),"string"==typeof u&&(h.fillStyle=u),k}},RGraph.text.defaults={},RGraph.addCustomText=function(e){if(RGraph.isArray(e.properties.text)&&e.properties.text.length)for(var t=0;t<e.properties.text.length;++t){var a=e.properties.text[t];a.object=e,"string"==typeof a.color&&a.color.length||(a.color="black"),RGraph.text(a)}},RGraph.sequentialIndexToGrouped=function(){for(var e=RGraph.getArgs(arguments,"index,data"),t=0,a=0;0<=--e.index;)(RGraph.isNull(e.data[t])||"number"==typeof e.data[t]||++a>=e.data[t].length)&&(t++,a=0);return[t,a]},RGraph.groupedIndexToSequential=function(){for(var e=RGraph.getArgs(arguments,"object,dataset,index"),t=0,a=0;t<=e.dataset;++t)for(var r=0;r<e.object.data[e.dataset].length;++r){if(t===e.dataset&&r===e.index)return a;a++}return a},RGraph.Highlight.rect=function(){var e=RGraph.getArgs(arguments,"object,shape"),t=e.object.properties;t.tooltipsHighlight&&(e.object.context.lineWidth=1,e.object.context.beginPath(),e.object.context.strokeStyle=t.highlightStroke,e.object.context.fillStyle=t.highlightFill,e.object.context.rect(e.shape.x-.5,e.shape.y-.5,e.shape.width+1,e.shape.height+1),e.object.context.stroke(),e.object.context.fill())},RGraph.Highlight.point=function(){var e=RGraph.getArgs(arguments,"object,shape"),t=e.object.properties;t.tooltipsHighlight&&(e.object.context.beginPath(),e.object.context.strokeStyle=t.highlightStroke,e.object.context.fillStyle=t.highlightFill,t=t.highlightPointRadius||2,e.object.context.arc(e.shape.x,e.shape.y,t,0,RGraph.TWOPI,0),e.object.context.stroke(),e.object.context.fill())},RGraph.parseDate=function(){var e=RGraph.getArgs(arguments,"str");e.str.match(/^\d\d\d\d-\d\d-\d\d(t|T)\d\d:\d\d(:\d\d)?$/)&&(e.str=e.str.toUpperCase().replace(/T/," "));for(var t=new Date,a={seconds:"00",minutes:"00",hours:"00",date:t.getDate(),month:t.getMonth()+1,year:t.getFullYear()},r=["january","february","march","april","may","june","july","august","september","october","november","december"],i=r.join("|"),o=0;o<r.length;++o)r[r[o]]=o,r[r[o].substring(0,3)]=o,i=i+"|"+r[o].substring(0,3);for(var s,n="[-./_=+~#:;,]+",c=e.str.split(/ +/),o=0,l=c.length;o<l;++o)c[o]&&(c[o].match(/^\d\d\d\d$/)&&(a.year=c[o]),"number"==typeof(s=function(e){e=e.toLowerCase().match(i);return!!e&&r[e[0]]}(c[o]))&&(a.month=s+1),c[o].match(/^\d?\d(?:st|nd|rd|th)?$/)&&(a.date=parseInt(c[o])),c[o].match(/^(\d\d):(\d\d):?(?:(\d\d))?$/)&&(a.hours=parseInt(RegExp.$1),a.minutes=parseInt(RegExp.$2),RegExp.$3&&(a.seconds=parseInt(RegExp.$3))),c[o].match(new RegExp("^(\\d\\d\\d\\d)"+n+"(\\d\\d)"+n+"(\\d\\d)$","i"))&&(a.date=parseInt(RegExp.$3),a.month=parseInt(RegExp.$2),a.year=parseInt(RegExp.$1)),c[o].match(new RegExp("^(\\d\\d)"+n+"(\\d\\d)"+n+"(\\d\\d\\d\\d)$","i"))&&(a.date=parseInt(RegExp.$1),a.month=parseInt(RegExp.$2),a.year=parseInt(RegExp.$3)));return e.str="{1}/{2}/{3} {4}:{5}:{6}".format(a.year,1===String(a.month).length?"0"+a.month:a.month,1===String(a.date).length?"0"+a.date:a.date,1===String(a.hours).length?"0"+a.hours:a.hours,1===String(a.minutes).length?"0"+a.minutes:a.minutes,1===String(a.seconds).length?"0"+a.seconds:a.seconds),Date.parse(e.str)},RGraph.parseDateOld=function(){var e,t,a,r=RGraph.getArgs(arguments,"str");return r.str=RGraph.trim(r.str),"now"===r.str&&(r.str=(new Date).toString()),r.str.match(/^(\d\d)(?:-|\/)(\d\d)(?:-|\/)(\d\d\d\d)(.*)$/)&&(r.str="{1}/{2}/{3}{4}".format(RegExp.$3,RegExp.$2,RegExp.$1,RegExp.$4)),r.str.match(/^(\d\d\d\d)(-|\/)(\d\d)(-|\/)(\d\d)( |T)(\d\d):(\d\d):(\d\d)$/)&&(r.str=RegExp.$1+"-"+RegExp.$3+"-"+RegExp.$5+"T"+RegExp.$7+":"+RegExp.$8+":"+RegExp.$9),r.str.match(/^\d\d\d\d-\d\d-\d\d$/)&&(r.str=r.str.replace(/-/g,"/")),r.str.match(/^\d\d:\d\d:\d\d$/)&&(e=(a=new Date).getDate(),t=a.getMonth()+1,a=a.getFullYear(),1===String(t).length&&(t="0"+t),1===String(e).length&&(e="0"+e),r.str=a+"/"+t+"/"+e+" "+r.str),Date.parse(r.str)},RGraph.resetColorsToOriginalValues=function(){var e=RGraph.getArgs(arguments,"object");if(e.object.original_colors)for(var t in e.object.original_colors)"string"==typeof t&&(e.object.properties[t]=RGraph.arrayClone(e.object.original_colors[t]));"function"==typeof e.object.resetColorsToOriginalValues&&e.object.resetColorsToOriginalValues(),e.object.colorsParsed=!1},RGraph.linearGradient=function(){for(var e=arguments[0],t=e.object.context.createLinearGradient(e.x1,e.y1,e.x2,e.y2),a=e.colors.length,r=0;r<e.colors.length;++r){var i=e.colors[r];t.addColorStop(r/(a-1),i)}return t},RGraph.radialGradient=function(){for(var e=arguments[0],t=e.object.context.createRadialGradient(e.x1,e.y1,e.r1,e.x2,e.y2,e.r2),a=e.colors.length,r=0;r<e.colors.length;++r)t.addColorStop(r/(a-1),e.colors[r]);return t},RGraph.clearEventListeners=function(){var e=RGraph.getArgs(arguments,"id");e.id&&"window"===e.id?(window.removeEventListener("mousedown",RGraph.window_mousedown_event_listener,!1),window.removeEventListener("mouseup",RGraph.window_mouseup_event_listener,!1)):((e=document.getElementById(e.id)).removeEventListener("mouseup",e.rgraph_mouseup_event_listener,!1),e.removeEventListener("mousemove",e.rgraph_mousemove_event_listener,!1),e.removeEventListener("mousedown",e.rgraph_mousedown_event_listener,!1),e.removeEventListener("click",e.rgraph_click_event_listener,!1))},RGraph.hidePalette=function(){var e=RGraph.Registry.get("palette");"object"==typeof e&&e&&(e.style.visibility="hidden",e.style.display="none",RGraph.Registry.set("palette",null))},RGraph.random=function(){var e=RGraph.getArgs(arguments,"min,max,decimals"),t=e.decimals||0,a=Math.random();return Number(((e.max-e.min)*a+e.min).toFixed(t))},RGraph.arrayRandom=function(){for(var e=RGraph.getArgs(arguments,"count,min,max,decimals"),t=0,a=[];t<e.count;t+=1)a.push(RGraph.random(e.min,e.max,e.decimals));return a},RGraph.noShadow=function(){var e=RGraph.getArgs(arguments,"object");e.object.context.shadowColor="rgba(0,0,0,0)",e.object.context.shadowBlur=0,e.object.context.shadowOffsetx=0,e.object.context.shadowOffsety=0},RGraph.setShadow=function(){var e,t;"object"==typeof arguments[0]&&"object"==typeof arguments[0].object&&(arguments[0].object.isrgraph,1)&&"string"==typeof arguments[0].prefix?((e=arguments[0]).object.context.shadowColor=e.object.properties[e.prefix+"Color"],e.object.context.shadowOffsetX=e.object.properties[e.prefix+"Offsetx"],e.object.context.shadowOffsetY=e.object.properties[e.prefix+"Offsety"],e.object.context.shadowBlur=e.object.properties[e.prefix+"Blur"]):1===arguments.length&&"object"==typeof arguments[0]&&(arguments[0].isrgraph,1)?((t=arguments[0]).context.shadowColor="rgba(0,0,0,0)",t.context.shadowOffsetX=0,t.context.shadowOffsetY=0,t.context.shadowBlur=0):((t=arguments[0]).context.shadowColor=arguments[1],t.context.shadowOffsetX=arguments[2],t.context.shadowOffsetY=arguments[3],t.context.shadowBlur=arguments[4])},RGraph.Registry.set=function(){var e=RGraph.getArgs(arguments,"name,value");return e.name=e.name.replace(/([A-Z])/g,function(e){return"."+String(RegExp.$1).toLowerCase()}),RGraph.Registry.store[e.name]=e.value,e.value},RGraph.Registry.get=function(){var e=RGraph.getArgs(arguments,"name");return e.name=e.name.replace(/([A-Z])/g,function(e){return"."+String(RegExp.$1).toLowerCase()}),RGraph.Registry.store[e.name]},RGraph.toRadians=function(){return RGraph.getArgs(arguments,"degrees").degrees*(RGraph.PI/180)},RGraph.toDegrees=function(){return RGraph.getArgs(arguments,"radians").radians*(180/Math.PI)},RGraph.log=function(){var e=RGraph.getArgs(arguments,"number,base");return Math.log(e.number)/(e.base?Math.log(e.base):1)},RGraph.isArray=function(){var e=RGraph.getArgs(arguments,"object");if(!e.object||!e.object.constructor)return!1;var t=e.object.constructor.toString().indexOf("Array");return null!=e.object&&"number"==typeof t&&0<t&&t<20},RGraph.trim=function(){var e=RGraph.getArgs(arguments,"str");return RGraph.ltrim(RGraph.rtrim(e.str))},RGraph.ltrim=function(){return RGraph.getArgs(arguments,"str").str.replace(/^(\s|\0)+/,"")},RGraph.rtrim=function(){return RGraph.getArgs(arguments,"str").str.replace(/(\s|\0)+$/,"")},RGraph.isNull=function(){var e=RGraph.getArgs(arguments,"arg");return"object"==typeof e.arg&&!e.arg},RGraph.async=function(){var e=RGraph.getArgs(arguments,"func,delay");return setTimeout(e.func,e.delay||1)},RGraph.reset=function(){var e=RGraph.getArgs(arguments,"canvas");"string"==typeof e.canvas&&(e.canvas=document.getElementById(e.canvas)),e.canvas.width=e.canvas.width,RGraph.ObjectRegistry.clear(e.canvas),e.canvas.__rgraph_aa_translated__=!1,RGraph.text.domNodeCache&&RGraph.text.domNodeCache.reset&&RGraph.text.domNodeCache.reset(e.canvas),RGraph.text.domNodeCache||(RGraph.text.domNodeCache=[]),RGraph.text.domNodeDimensionCache||(RGraph.text.domNodeDimensionCache=[]),RGraph.text.domNodeCache[e.canvas.id]=[],RGraph.text.domNodeDimensionCache[e.canvas.id]=[]},RGraph.Effects.updateCanvas=function(){var e=RGraph.getArgs(arguments,"func");window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){setTimeout(e,16.666)},window.requestAnimationFrame(e.func)},RGraph.Effects.getEasingMultiplier=function(){var e=RGraph.getArgs(arguments,"frames,frame");return Math.pow(Math.sin(e.frame/e.frames*RGraph.HALFPI),3)},RGraph.stringsToNumbers=function(){var e=RGraph.getArgs(arguments,"string,separator"),t=e.separator||",";if("string"==typeof e.string&&e.string.trim().match(/^\[ *\d+$/)&&(e.string=e.string.replace("[","")),"number"==typeof e.string)return e.string;if("string"==typeof e.string&&(-1!=e.string.indexOf(t)?e.string=e.string.split(t):(e.string=parseFloat(e.string),isNaN(e.string)&&(e.string=null))),"object"==typeof e.string&&!RGraph.isNull(e.string))for(var a=0,r=e.string.length;a<r;a+=1)e.string[a]=RGraph.stringsToNumbers(e.string[a],e.separator);return e.string},RGraph.cachedDraw=function(){var e=RGraph.getArgs(arguments,"object,id,function");RGraph.cache[e.id]||(RGraph.cache[e.id]={},RGraph.cache[e.id].object=e.object,RGraph.cache[e.id].canvas=document.createElement("canvas"),RGraph.cache[e.id].canvas.setAttribute("width",e.object.canvas.width),RGraph.cache[e.id].canvas.setAttribute("height",e.object.canvas.height),RGraph.cache[e.id].canvas.setAttribute("id","background_cached_canvas"+e.object.canvas.id),RGraph.cache[e.id].canvas.__object__=e.object,RGraph.cache[e.id].context=RGraph.cache[e.id].canvas.getContext("2d"),RGraph.cache[e.id].context.translate(.5,.5),e.function(e.object,RGraph.cache[e.id].canvas,RGraph.cache[e.id].context)),e.object.context.drawImage(RGraph.cache[e.id].canvas,-.5,-.5)},RGraph.parseObjectStyleConfig=function(){var e,t=RGraph.getArgs(arguments,"object,config");for(e in t.config)"string"==typeof e&&t.object.set(e,t.config[e])},RGraph.path=function(n){var e,t,arguments=Array.prototype.slice.call(arguments);1===arguments.length&&n.object&&n.path?(e=n.object.context,t=n.path,n=n.args):1===arguments.length&&n.context&&n.path?(e=n.context,t=n.path,n=n.args):2<=arguments.length&&arguments[0].isrgraph&&arguments[0].context?(e=arguments[0].context,t=arguments[1],n=2<arguments.length?arguments.slice(2):[]):2<=arguments.length&&arguments[0].toString().indexOf("Context")&&(e=arguments[0],t=arguments[1],n=2<arguments.length?arguments.slice(2):[]),"string"==typeof t&&(t=function(e){for(var t=[],a="",r=!1,i=0,o=0;o<e.length;o+=1){var s=e[o];s.match(/ /)?r?a+=s:("%"===(a='"'===a[0]||"'"===a[0]?a.substr(1,a.length-2):a).trim()&&void 0!==n[i]&&(a=n[i++]),t.push(a),a=""):("'"!==s&&'"'!==s||(r=!r),a+=s)}"%"===a.trim()&&n[i]&&(a=n[i++]);return t.push(a),t}(t)),RGraph.path.last=RGraph.arrayClone(t);for(var a=0,r=t.length;a<r;a+=1)switch(t[a]){case"b":e.beginPath();break;case"c":e.closePath();break;case"m":e.moveTo(parseFloat(t[a+1]),parseFloat(t[a+2])),a+=2;break;case"l":e.lineTo(parseFloat(t[a+1]),parseFloat(t[a+2])),a+=2;break;case"s":t[a+1]&&(e.strokeStyle=t[a+1]),e.stroke(),a++;break;case"f":t[a+1]&&(e.fillStyle=t[a+1]),e.fill(),a++;break;case"qc":e.quadraticCurveTo(parseFloat(t[a+1]),parseFloat(t[a+2]),parseFloat(t[a+3]),parseFloat(t[a+4])),a+=4;break;case"bc":e.bezierCurveTo(parseFloat(t[a+1]),parseFloat(t[a+2]),parseFloat(t[a+3]),parseFloat(t[a+4]),parseFloat(t[a+5]),parseFloat(t[a+6])),a+=6;break;case"r":e.rect(parseFloat(t[a+1]),parseFloat(t[a+2]),parseFloat(t[a+3]),parseFloat(t[a+4])),a+=4;break;case"a":e.arc(parseFloat(t[a+1]),parseFloat(t[a+2]),parseFloat(t[a+3]),parseFloat(t[a+4]),parseFloat(t[a+5]),"true"===t[a+6]||!0===t[a+6]||1===t[a+6]||"1"===t[a+6]),a+=6;break;case"at":e.arcTo(parseFloat(t[a+1]),parseFloat(t[a+2]),parseFloat(t[a+3]),parseFloat(t[a+4]),parseFloat(t[a+5])),a+=5;break;case"lw":e.lineWidth=parseFloat(t[a+1]),a++;break;case"e":e.ellipse(parseFloat(t[a+1]),parseFloat(t[a+2]),parseFloat(t[a+3]),parseFloat(t[a+4]),parseFloat(t[a+5]),parseFloat(t[a+6]),parseFloat(t[a+7]),"true"===t[a+8]),a+=8;break;case"lj":e.lineJoin=t[a+1],a++;break;case"lc":e.lineCap=t[a+1],a++;break;case"sc":e.shadowColor=t[a+1],a++;break;case"sb":e.shadowBlur=parseFloat(t[a+1]),a++;break;case"sx":e.shadowOffsetX=parseFloat(t[a+1]),a++;break;case"sy":e.shadowOffsetY=parseFloat(t[a+1]),a++;break;case"fs":e.fillStyle=t[a+1],a++;break;case"ss":e.strokeStyle=t[a+1],a++;break;case"fr":e.fillRect(parseFloat(t[a+1]),parseFloat(t[a+2]),parseFloat(t[a+3]),parseFloat(t[a+4])),a+=4;break;case"sr":e.strokeRect(parseFloat(t[a+1]),parseFloat(t[a+2]),parseFloat(t[a+3]),parseFloat(t[a+4])),a+=4;break;case"cl":e.clip();break;case"sa":e.save();break;case"rs":e.restore();break;case"tr":e.translate(parseFloat(t[a+1]),parseFloat(t[a+2])),a+=2;break;case"sl":e.scale(parseFloat(t[a+1]),parseFloat(t[a+2])),a+=2;break;case"ro":e.rotate(parseFloat(t[a+1])),a++;break;case"tf":e.transform(parseFloat(t[a+1]),parseFloat(t[a+2]),parseFloat(t[a+3]),parseFloat(t[a+4]),parseFloat(t[a+5]),parseFloat(t[a+6])),a+=6;break;case"stf":e.setTransform(parseFloat(t[a+1]),parseFloat(t[a+2]),parseFloat(t[a+3]),parseFloat(t[a+4]),parseFloat(t[a+5]),parseFloat(t[a+6])),a+=6;break;case"cr":e.clearRect(parseFloat(t[a+1]),parseFloat(t[a+2]),parseFloat(t[a+3]),parseFloat(t[a+4])),a+=4;break;case"ld":var i=t[a+1];e.setLineDash(i),a+=1;break;case"ldo":e.lineDashOffset=t[a+1],a++;break;case"fo":e.font=t[a+1],a++;break;case"ft":e.fillText(t[a+1],parseFloat(t[a+2]),parseFloat(t[a+3])),a+=3;break;case"st":e.strokeText(t[a+1],parseFloat(t[a+2]),parseFloat(t[a+3])),a+=3;break;case"ta":e.textAlign=t[a+1],a++;break;case"tbl":e.textBaseline=t[a+1],a++;break;case"ga":e.globalAlpha=parseFloat(t[a+1]),a++;break;case"gco":e.globalCompositeOperation=t[a+1],a++;break;case"fu":t[a+1](e.canvas.__object__),a++;break;case"":break;default:alert("[ERROR] Unknown option: "+t[a])}},RGraph.getTextConf=function(e){var t=e.object.properties,e=e.prefix;return{font:"string"==typeof t[e+"Font"]?t[e+"Font"]:t.textFont,size:"number"==typeof t[e+"Size"]?t[e+"Size"]:t.textSize,color:"string"==typeof t[e+"Color"]?t[e+"Color"]:t.textColor,bold:RGraph.isNull(t[e+"Bold"])?t.textBold:t[e+"Bold"],italic:RGraph.isNull(t[e+"Italic"])?t.textItalic:t[e+"Italic"]}},RGraph.responsive=function(a){var r=this;a.sort(function(e,t){var a=RGraph.isNull(e.maxWidth),r=RGraph.isNull(t.maxWidth);return a&&r?0:a&&!r?-1:!a&&r?1:t.maxWidth-e.maxWidth});for(var e=0;e<a.length;++e)a[e+1]&&"number"==typeof a[e+1].maxWidth?a[e].minWidth=a[e+1].maxWidth:a[e+1]||(a[e].minWidth=0);for(e=0;e<a.length;++e){a[e].minWidth=RGraph.isNull(a[e].minWidth)?0:a[e].minWidth,a[e].maxWidth=RGraph.isNull(a[e].maxWidth)?1e5:a[e].maxWidth;var t="screen and (min-width: %1px) and (max-width: %2px)".format(a[e].minWidth,a[e].maxWidth),i=window.matchMedia(t);!function(t){i.addListener(function(e){e.matches&&o(a[t])})}(e),document.documentElement.clientWidth>=a[e].minWidth&&document.documentElement.clientWidth<a[e].maxWidth&&o(a[e])}function o(e){if("number"==typeof e.width&&(r.get("textAccessible")&&(r.canvas.parentNode.style.width=e.width+"px"),r.canvas.width=e.width,r.canvas.__rgraph_aa_translated__=!1),"number"==typeof e.height&&(r.get("textAccessible")&&(r.canvas.parentNode.style.height=e.height+"px"),r.canvas.height=e.height,r.canvas.__rgraph_aa_translated__=!1),"object"==typeof e.options)for(var t in e.options)"string"==typeof t&&r.set(t,e.options[t]);function a(e,t,a){for(var r=[["float","cssFloat"]],i=0;i<r.length;++i)t===r[i][0]&&(t=r[i][1]);e.style[t]=a}if("object"==typeof e.css)for(var t in e.css)"string"==typeof t&&(r.get("textAccessible")?a(r.canvas.parentNode,t,e.css[t]):a(r.canvas,t,e.css[t]));if("object"==typeof e.parentCss)for(var t in e.parentCss)"string"==typeof t&&(r.get("textAccessible")?a(r.canvas.parentNode.parentNode,t,e.parentCss[t]):a(r.canvas.parentNode,t,e.parentCss[t]));RGraph.cache=[],RGraph.resetColorsToOriginalValues(r),r.get("textAccessible")&&RGraph.text.domNodeCache&&RGraph.text.domNodeCache.reset&&RGraph.text.domNodeCache.reset(r.canvas),RGraph.redraw(r.canvas),"function"==typeof e.callback&&e.callback(r)}return r},RGraph.responsive_old=function(i){var e=arguments[1]||{},o=this,t=null;e.delay="number"==typeof e.delay?e.delay:200;function a(){for(var e=!1,t=0;t<i.length;++t)if(!e&&(document.documentElement.clientWidth<=i[t].maxWidth||RGraph.isNull(i[t].maxWidth))){if(e=!0,"number"==typeof i[t].width&&(o.get("textAccessible")&&(o.canvas.parentNode.style.width=i[t].width+"px"),o.canvas.width=i[t].width,o.canvas.__rgraph_aa_translated__=!1),"number"==typeof i[t].height&&(o.get("textAccessible")&&(o.canvas.parentNode.style.height=i[t].height+"px"),o.canvas.height=i[t].height,o.canvas.__rgraph_aa_translated__=!1),"object"==typeof i[t].options&&"object"==typeof i[t].options)for(var a in i[t].options)"string"==typeof a&&o.set(a,i[t].options[a]);function r(e,t,a){for(var r=[["float","cssFloat"]],i=0;i<r.length;++i)t===r[i][0]&&(t=r[i][1]);e.style[t]=a}if("object"==typeof i[t].css)for(var a in i[t].css)"string"==typeof a&&(o.get("textAccessible")?r(o.canvas.parentNode,a,i[t].css[a]):r(o.canvas,a,i[t].css[a]));if("object"==typeof i[t].parentCss)for(var a in i[t].parentCss)"string"==typeof a&&(o.get("textAccessible")?r(o.canvas.parentNode.parentNode,a,i[t].parentCss[a]):r(o.canvas.parentNode,a,i[t].parentCss[a]));RGraph.cache=[],RGraph.resetColorsToOriginalValues(o),o.get("textAccessible")&&RGraph.text.domNodeCache.reset(o.canvas),RGraph.redraw(),"function"==typeof i[t].callback&&i[t].callback(o)}}return RGraph.responsive.window_resize_event_listener=function(){0<e.delay?(clearTimeout(t),t=setTimeout(a,e.delay)):a()},window.addEventListener("resize",RGraph.responsive.window_resize_event_listener,!1),a(),o},RGraph.pathObjectFunction=function(){var e;1===arguments.length&&"object"==typeof arguments[0]?(e=RGraph.getArgs(arguments,"path,args"),RGraph.path({object:this,path:e.path,args:e.args})):(e=Array.prototype.slice.call(arguments,1),RGraph.path({object:this,path:arguments[0],args:e}))},RGraph.drawXAxis=function(e){var t,a,r,i,o,s=e.properties,n=(e.context,"number"==typeof s.xaxisTickmarksLength?s.xaxisTickmarksLength:3),c="bar"===e.type&&"sketch"===s.variant;if("object"==typeof s.xaxisLabels&&!RGraph.isNull(s.xaxisLabels)&&s.xaxisLabels.length)for(var l=0;l<s.xaxisLabels.length;++l)void 0!==s.xaxisLabels[l]&&null!==s.xaxisLabels[l]||(s.xaxisLabels[l]="");if(b="hbar"!==e.type&&"gantt"!==e.type||"bottom"!==s.xaxisPosition?"hbar"!==e.type&&"gantt"!==e.type||"top"!==s.xaxisPosition?e.getYCoord(0<s.yaxisScaleMin?s.yaxisScaleMin:0):s.marginTop:e.canvas.height-s.marginBottom,"line"===e.type&&s.yaxisScaleInvert&&0===s.yaxisScaleMin&&(b=e.getYCoord(e.scale2.max)),"scatter"===e.type&&s.yaxisScaleInvert&&0<=s.yaxisScaleMin&&(b=e.getYCoord(e.scale2.max)),"drawing.xaxis"===e.type&&(b="center"===s.xaxisPosition?(e.canvas.height-s.marginTop-s.marginBottom)/2+s.marginTop:e.y),s.xaxis&&(e.path("lw % b m % % l % % s %",s.xaxisLinewidth,s.marginLeft-(c?5:0),b-(c?2:0),e.canvas.width-s.marginRight+(c?7:0),b+(c?2:0),s.xaxisColor),!c)){s.xaxisTickmarks?t="number"==typeof s.xaxisTickmarksCount?s.xaxisTickmarksCount:"bar"===e.type?e.data.length||10:"hbar"===e.type?s.xaxisLabelsCount||5:"line"===e.type?0<e.data[0].length?e.data[0].length-1:10:"scatter"===e.type&&s.scale?5:"scatter"===e.type&&s.xaxisLabels?s.xaxisLabels.length:"scatter"===e.type?5:"waterfall"===e.type?e.data.length+(s.total?1:0):"drawing.xaxis"===e.type?s.scale?s.xaxisScaleLabelsCount:s.xaxisLabels&&s.xaxisLabels.length?s.xaxisLabels.length:5:5:s.xaxisTickmarksCount=0,"center"===s.xaxisPosition&&0<=s.yaxisScaleMin?r=s.yaxisScaleInvert?(a=e.getYCoord(s.yaxisScaleMax)-n,e.getYCoord(s.yaxisScaleMax)+n):(a=e.getYCoord(s.yaxisScaleMin)-n,e.getYCoord(s.yaxisScaleMin)+n):"center"===s.xaxisPosition||s.yaxisScaleMin<0?(r=s.yaxisScaleInvert?(a=e.getYCoord(e.scale2.max)-n,e.getYCoord(e.scale2.max)+n):(a=e.getYCoord(0)-n,e.getYCoord(0)+n),s.yaxisScaleMin<0&&0<s.yaxisScaleMax&&(a=e.getYCoord(0)-n,r=e.getYCoord(0)+n)):r="top"===s.xaxisPosition?e.getYCoord?(a=e.getYCoord(0)-n,e.getYCoord(0)):(a=s.marginTop-n,s.marginTop):e.getYCoord?"line"===e.type&&s.yaxisScaleInvert||"scatter"===e.type&&s.yaxisScaleInvert?(a=e.getYCoord(e.scale2.max),e.getYCoord(e.scale2.max)+n):"drawing.xaxis"===e.type?(a=e.y,e.y+n):(a=e.getYCoord(s.yaxisScaleMin),e.getYCoord(s.yaxisScaleMin)+n):(a=e.canvas.height-s.marginBottom,e.canvas.height-s.marginBottom+n);for(l=0;l<=t;++l){if(RGraph.isNull(s.xaxisTickmarksLastLeft)){if(0===l&&s.yaxis&&"left"===s.yaxisPosition&&!(0<s.xaxisScaleMax&&s.xaxisScaleMin<0))continue}else if(0===l&&!s.xaxisTickmarksLastLeft)continue;if(RGraph.isNull(s.xaxisTickmarksLastRight)){if(l===t&&s.yaxis&&"right"===s.yaxisPosition)continue}else if(l===t&&!s.xaxisTickmarksLastRight)continue;var p=(e.canvas.width-s.marginLeft-s.marginRight)/t*l+s.marginLeft;if("hbar"===e.type){if("center"===s.yaxisPosition&&p>e.getXCoord(0)-2&&p<e.getXCoord(0)+2)continue;if("left"===s.yaxisPosition&&s.xaxisScaleMin<0&&0<s.xaxisScaleMax&&p>e.getXCoord(0)-2&&p<e.getXCoord(0)+2)continue}e.path("b m % % l % % s %",p,a,p,r,s.xaxisColor)}}if(0!=s.xaxisLabelsAngle?(i="center",y="right",o=0-s.xaxisLabelsAngle,"top"===s.xaxisPosition&&(o=s.xaxisLabelsAngle)):(i="top",y="center",o=0),s.xaxisScale){var h=e.scale2;if("scatter"===e.type)h=e.xscale2;else if("drawing.xaxis"===e.type&&s.xaxisScale)for(h=RGraph.getScale({object:this,options:{"scale.max":s.xaxisScaleMax,"scale.min":s.xaxisScaleMin,"scale.decimals":Number(s.xaxisScaleDecimals),"scale.point":s.xaxisScalePoint,"scale.thousand":s.xaxisScaleThousand,"scale.round":s.xaxisScaleRound,"scale.units.pre":s.xaxisScaleUnitsPre,"scale.units.post":s.xaxisScaleUnitsPost,"scale.labels.count":s.xaxisScaleLabelsCount,"scale.strict":!0}}),l=0;l<=s.xaxisScaleLabelsCount;++l){var g=(s.xaxisScaleMax-s.xaxisScaleMin)/s.xaxisScaleLabelsCount*l+s.xaxisScaleMin;s.marginInner,"function"==typeof s.xaxisScaleFormatter?s.xaxisScaleFormatter(this,g):RGraph.numberFormat({object:e,number:g.toFixed(0===g?0:s.xaxisScaleDecimals),unitspre:s.xaxisScaleUnitsPre,unitspost:s.xaxisScaleUnitsPost,point:s.xaxisScalePoint,thousand:s.xaxisScaleThousand})}for(l=0;l<h.labels.length;++l){var x=(e.canvas.width-s.marginLeft-s.marginRight)/h.labels.length;p="right"===s.yaxisPosition?s.marginLeft+x*l:"center"===s.yaxisPosition?(x/=2,e.getXCoord(0)+x+x*l):s.marginLeft+x*l+x;var b="top"===s.xaxisPosition?e.marginTop-(s.xaxisTickmarksLength||0)+s.xaxisLabelsOffsety-5:e.canvas.height-s.marginBottom+(s.xaxisTickmarksLength||0)+s.xaxisLabelsOffsety+5;"drawing.xaxis"===e.type&&(b="top"===s.xaxisPosition?e.y-(s.xaxisTickmarksLength||0)+s.xaxisLabelsOffsety:e.y+(s.xaxisTickmarksLength||0)+s.xaxisLabelsOffsety+5),RGraph.text({object:e,textConfPrefix:"xaxisLabels",x:p+s.xaxisLabelsOffsetx,y:b,text:"function"==typeof s.xaxisScaleFormatter?s.xaxisScaleFormatter({object:e,number:h.values[l]}):"right"===s.yaxisPosition?String(h.labels[h.labels.length-1-l]):String(h.labels[l]),valign:"string"==typeof s.xaxisLabelsValign?s.xaxisLabelsValign:"top"===s.xaxisPosition?"bottom":i,halign:"string"==typeof s.xaxisLabelsHalign?s.xaxisLabelsHalign:y,marker:!1,angle:o,tag:"xaxis.labels"}),"hbar"===e.type&&"center"===s.yaxisPosition&&(p=e.getXCoord(0)-x-x*l,RGraph.text({object:e,textConfPrefix:"xaxisLabels",x:p+s.xaxisLabelsOffsetx,y:"top"===s.xaxisPosition?e.marginTop-(s.xaxisTickmarksLength||0)+s.xaxisLabelsOffsety-5:e.canvas.height-s.marginBottom+(s.xaxisTickmarksLength||0)+s.xaxisLabelsOffsety+5,text:"function"==typeof s.xaxisScaleFormatter?s.xaxisScaleFormatter({object:e,number:h.values[l]}):"-"+String(h.labels[l]),valign:"string"==typeof s.xaxisLabelsValign?s.xaxisLabelsValign:"top"===s.xaxisPosition?"bottom":i,halign:"string"==typeof s.xaxisLabelsHalign?s.xaxisLabelsHalign:y,marker:!1,angle:o,tag:"xaxis.labels"}));var d=(d=(s.xaxisScaleUnitsPre||"")+(s.xaxisScaleMin||0).toFixed(s.xaxisScaleDecimals).replace(/\./,s.xaxisScalePoint)+(s.xaxisScaleUnitsPost||"")).replace(/^(.+)-(\d)/,"-$1$2");RGraph.text({object:e,textConfPrefix:"xaxisLabels",x:"right"===s.yaxisPosition?e.canvas.width-s.marginRight+s.xaxisLabelsOffsetx:"center"===s.yaxisPosition?e.getXCoord(0)+s.xaxisLabelsOffsetx:s.marginLeft+s.xaxisLabelsOffsetx,y:b,text:"function"==typeof s.xaxisScaleFormatter?s.xaxisScaleFormatter({object:e,number:0}):d,valign:"string"==typeof s.xaxisLabelsValign||"string"==typeof s.xaxisLabelsValign?s.xaxisLabelsValign:"top"===s.xaxisPosition?"bottom":i,halign:"string"==typeof s.xaxisLabelsHalign?s.xaxisLabelsHalign:y,marker:!1,angle:o,tag:"xaxis.labels"})}}else if(s.xaxisLabels&&s.xaxisLabels.length&&("section"===s.xaxisLabelsPosition||"edge"===s.xaxisLabelsPosition)){x="edge"===s.xaxisLabelsPosition?(e.canvas.width-s.marginLeft-s.marginRight-(s.marginInner||0)-(s.marginInner||0))/(s.xaxisLabels.length-1):(e.canvas.width-s.marginLeft-s.marginRight)/s.xaxisLabels.length;for(var f,y,u,m,l=0;l<s.xaxisLabels.length;++l)p="edge"===s.xaxisLabelsPosition?s.marginLeft+(s.marginInner||0)+x*l:s.marginLeft+x*l+x/2,"object"==typeof s.xaxisLabels[l]&&"scatter"===e.type?(u=0,f="left"===s.xaxisLabelsSpecificAlign?"left":"center",y="center",u=s.xaxisLabels[l+1]&&"number"==typeof s.xaxisLabels[l+1][1]?s.xaxisLabels[l+1][1]:s.xaxisScaleMax,m=s.xaxisLabels[l][1],p=(e.getXCoord(u)-e.getXCoord(m))/2+e.getXCoord(m),"left"==f&&(p=e.getXCoord(m),y="left"),RGraph.isNull(p)||("drawing.xaxis"===e.type&&(b="top"===s.xaxisPosition?e.y-(s.xaxisTickmarksLength||0)+s.xaxisLabelsOffsety:e.y+(s.xaxisTickmarksLength||0)+s.xaxisLabelsOffsety+5),RGraph.text({object:e,textConfPrefix:"xaxisLabels",x:p+5+s.xaxisLabelsOffsetx,y:b+5+s.xaxisLabelsOffsety,valign:i,halign:0!=o?"right":y,text:String(s.xaxisLabels[l][0]),angle:o,marker:!1,tag:"labels.specific",cssClass:RGraph.getLabelsCSSClassName({object:e,name:"xaxisLabelsClass",index:l})}),e.path("b m % % l % % s #bbb",Math.round(s.marginLeft+(s.xaxisLabels[l][1]-s.xaxisScaleMin)/(s.xaxisScaleMax-s.xaxisScaleMin)*(e.canvas.width-s.marginLeft-s.marginRight)),e.canvas.height-s.marginBottom,Math.round(s.marginLeft+(s.xaxisLabels[l][1]-s.xaxisScaleMin)/(s.xaxisScaleMax-s.xaxisScaleMin)*(e.canvas.width-s.marginLeft-s.marginRight)),e.canvas.height-s.marginBottom+20),l===s.xaxisLabels.length-1&&e.path("b m % % l % % s #bbb",e.canvas.width-s.marginRight,e.canvas.height-s.marginBottom,e.canvas.width-s.marginRight,e.canvas.height-s.marginBottom+20))):(b="top"===s.xaxisPosition?s.marginTop+s.xaxisLabelsOffsety-5:e.canvas.height-s.marginBottom+s.xaxisLabelsOffsety+5,"drawing.xaxis"===e.type&&"drawing.xaxis"===e.type&&(b="top"===s.xaxisPosition?e.y-(s.xaxisTickmarksLength||0)+s.xaxisLabelsOffsety:e.y+(s.xaxisTickmarksLength||0)+s.xaxisLabelsOffsety+5),RGraph.text({object:e,textConfPrefix:"xaxisLabels",x:p+s.xaxisLabelsOffsetx,y:b+s.xaxisLabelsOffsety,text:String(s.xaxisLabels[l]),valign:"string"==typeof s.xaxisLabelsValign?s.xaxisLabelsValign:"top"===s.xaxisPosition?"bottom":i,halign:"string"==typeof s.xaxisLabelsHalign?s.xaxisLabelsHalign:y,marker:!1,angle:o,tag:"xaxis.labels",cssClass:RGraph.getLabelsCSSClassName({object:e,name:"xaxisLabelsClass",index:l})}))}s.xaxisTitle&&(p=s.marginLeft+(e.canvas.width-s.marginLeft-s.marginRight)/2+s.xaxisTitleOffsetx,b="top"===s.xaxisPosition?s.marginTop-7+s.xaxisTitleOffsety-s.xaxisTickmarksLength:e.canvas.height-s.marginBottom+7+s.xaxisTitleOffsety+s.xaxisTickmarksLength,"drawing.xaxis"===e.type&&(b=e.y+7+s.xaxisTitleOffsety+s.xaxisTickmarksLength),(s.xaxisScale||s.xaxisLabels&&s.xaxisLabels.length)&&(n=RGraph.getTextConf({object:e,prefix:"xaxisLabels"}),"top"===s.xaxisPosition?b-=1.5*n.size:b+=1.5*n.size),"number"==typeof s.xaxisTitlePos&&(b="top"===s.xaxisPosition?s.marginTop*s.xaxisTitlePos:e.canvas.height-s.marginBottom+s.marginBottom*s.xaxisTitlePos),"number"==typeof s.xaxisTitleX&&(p=s.xaxisTitleX),"number"==typeof s.xaxisTitleY&&(b=s.xaxisTitleY),RGraph.text({object:e,textConfPrefix:"xaxisTitle",x:p,y:b,text:s.xaxisTitle.toString(),valign:"top"===s.xaxisPosition?s.xaxisTitleValign||"bottom":s.xaxisTitleValign||"top",halign:s.xaxisTitleHalign||"center",marker:!1,tag:"xaxis.title"}))},RGraph.drawYAxis=function(o){var e,t,a,r=o.properties,i=(o.context,"bar"===o.type&&"sketch"===r.variant);if(tickmarksLength="number"==typeof r.yaxisTickmarksLength?r.yaxisTickmarksLength:3,"hbar"===o.type&&(r.yaxisLabelsSpecific=r.yaxisLabels),"hbar"!==o.type&&"gantt"!==o.type||"left"!==r.yaxisPosition?y="hbar"!==o.type&&"gantt"!==o.type||"right"!==r.yaxisPosition?"drawing.yaxis"===o.type?o.x:"right"===r.yaxisPosition?o.canvas.width-r.marginRight:"hbar"===o.type?o.getXCoord(0):r.marginLeft:o.canvas.width-r.marginRight:(y=o.getXCoord(0),"hbar"===o.type&&0<r.xaxisScaleMin&&r.xaxisScaleMax>r.xaxisScaleMin&&(y=o.getXCoord(r.xaxisScaleMin))),r.yaxis&&(o.path("lw % b m % % l % % s %",r.yaxisLinewidth,y-(i?5:0),r.marginTop-(i?2:0),y+(i?7:0),o.canvas.height-r.marginBottom+(i?2:0),r.yaxisColor),!i)){r.yaxisTickmarks?e="number"==typeof r.yaxisTickmarksCount?r.yaxisTickmarksCount:"bar"===o.type?r.yaxisLabelsSpecific?r.yaxisLabelsSpecific.length-1:r.yaxisLabelsCount:"hbar"===o.type?o.data.length||5:"line"===o.type?r.yaxisLabelsSpecific?r.yaxisLabelsSpecific.length-1:r.yaxisLabelsCount:"scatter"===o.type||"waterfall"===o.type?r.yaxisLabelsCount:5:r.yaxisTickmarksCount=0,a="right"===r.yaxisPosition?(t=y)+tickmarksLength:(t=y)-tickmarksLength,"hbar"===o.type&&r.xaxisScaleMin<0&&0<r.xaxisScaleMax&&(t=o.getXCoord(0)-tickmarksLength,a=o.getXCoord(0)+tickmarksLength);for(var s=0;s<=e;++s){if(RGraph.isNull(r.yaxisTickmarksLastTop)){if(0===s&&r.xaxis&&"top"===r.xaxisPosition)continue}else if(0===s&&!r.yaxisTickmarksLastTop)continue;if(RGraph.isNull(r.yaxisTickmarksLastBottom)){if(s===e&&r.xaxis&&"bottom"===r.xaxisPosition)continue}else if(s===e&&!r.yaxisTickmarksLastBottom)continue;var n,c=(o.canvas.height-r.marginTop-r.marginBottom)/e*s+r.marginTop;n=o.getYCoord?o.getYCoord(0):o.getXCoord?o.getXCoord(0):o.marginTop,r.xaxis&&("center"===r.xaxisPosition||"bottom"===r.xaxisPosition&&r.yaxisScaleMin<0&&0<r.yaxisScaleMax)&&n-1<c&&c<n+1||(o.path("b m % % l % % s %",t,c,a,c,r.yaxisColor),r.yaxisScaleMin<0&&0<r.yaxisScaleMax&&o.path("b m % % l % % s %",t,o.canvas.height-r.marginBottom,a,o.canvas.height-r.marginBottom,r.yaxisColor),"scatter"===o.type&&"center"===r.xaxisPosition&&r.yaxisScaleInvert&&o.path("b m % % l % % s %",t,r.marginTop,a,r.marginTop,r.yaxisColor))}}var l="center",p="right";if(r.yaxisScale&&!r.yaxisLabelsSpecific){if("drawing.yaxis"===o.type&&r.yaxisScale){o.scale2=RGraph.getScale({object:o,options:{"scale.max":r.yaxisScaleMax,"scale.min":r.yaxisScaleMin,"scale.decimals":Number(r.yaxisScaleDecimals),"scale.point":r.yaxisScalePoint,"scale.thousand":r.yaxisScaleThousand,"scale.round":r.yaxisScaleRound,"scale.units.pre":r.yaxisScaleUnitsPre,"scale.units.post":r.yaxisScaleUnitsPost,"scale.labels.count":r.yaxisScaleLabelsCount,"scale.strict":!0}});for(s=0;s<=r.yaxisScaleLabelsCount;++s){var h=(r.yaxisScaleMax-r.yaxisScaleMin)/r.yaxisScaleLabelsCount*s+r.yaxisScaleMin;r.marginInner,"function"==typeof r.yaxisScaleFormatter?r.yaxisScaleFormatter(this,h):RGraph.numberFormat({object:o,number:h.toFixed(0===h?0:r.yaxisScaleDecimals),unitspre:r.yaxisScaleUnitsPre,unitspost:r.yaxisScaleUnitsPost,point:r.yaxisScalePoint,thousand:r.yaxisScaleThousand})}}var g=o.scale2;if(o.maxLabelLength=Math.max(o.maxLabelLength,o.context.measureText(o.scale2.labels[4]).width),"center"===r.xaxisPosition){for(var x=(o.canvas.height-r.marginTop-r.marginBottom)/2,s=0;s<g.labels.length;++s){var b=(o.canvas.height-r.marginTop-r.marginBottom)/(2*g.labels.length),c=r.marginTop+b*s;RGraph.text({object:o,textConfPrefix:"yaxisLabels",x:"right"===r.yaxisPosition?y+(r.yaxisTickmarksLength||0)+r.yaxisLabelsOffsetx+5:y-(r.yaxisTickmarksLength||0)+r.yaxisLabelsOffsetx-5,y:r.yaxisScaleInvert?x+r.marginTop-b*s+r.yaxisLabelsOffsety:r.marginTop+b*s+r.yaxisLabelsOffsety,text:String(g.labels[g.labels.length-1-s]),valign:"string"==typeof r.yaxisLabelsValign?r.yaxisLabelsValign:l,halign:"string"==typeof r.yaxisLabelsHalign?r.yaxisLabelsHalign:"right"===r.yaxisPosition?"left":p,marker:!1,angle:0,tag:"yaxis.labels"})}for(s=0;s<g.labels.length;++s)0===s&&r.yaxisScaleInvert||(b=(o.canvas.height-r.marginTop-r.marginBottom)/(2*g.labels.length),c=r.marginTop+(o.canvas.height-r.marginTop-r.marginBottom)/2+b*s+b,RGraph.text({object:o,textConfPrefix:"yaxisLabels",x:"right"===r.yaxisPosition?y+(r.yaxisTickmarksLength||0)+r.yaxisLabelsOffsetx+5:y-(r.yaxisTickmarksLength||0)+r.yaxisLabelsOffsetx-5,y:r.yaxisScaleInvert?x+r.marginTop+b*s:c+r.yaxisLabelsOffsety,text:"-"+(r.yaxisScaleInvert?String(g.labels[g.labels.length-s-1]):String(g.labels[s])),valign:"string"==typeof r.yaxisLabelsValign?r.yaxisLabelsValign:l,halign:"string"==typeof r.yaxisLabelsHalign?r.yaxisLabelsHalign:"right"===r.yaxisPosition?"left":p,marker:!1,angle:0,tag:"yaxis.labels"}));RGraph.text({object:o,textConfPrefix:"yaxisLabels",x:"right"===r.yaxisPosition?y+5+(r.yaxisTickmarksLength||0)+r.yaxisLabelsOffsetx:y-5-(r.yaxisTickmarksLength||0)+r.yaxisLabelsOffsetx,y:r.yaxisScaleInvert?r.marginTop+r.yaxisLabelsOffsety:r.marginTop+(o.canvas.height-r.marginBottom-r.marginTop)/2+r.yaxisLabelsOffsety,text:"function"==typeof r.yaxisScaleFormatter?r.yaxisScaleFormatter({object:this,number:0,unitspre:r.yaxisScaleUnitsPre,unitspost:r.yaxisScaleUnitsPost,point:r.yaxisScalePoint,thousand:r.yaxisScaleThousand,formatter:r.yaxisScaleFormatter}):(r.yaxisScaleUnitsPre||"")+r.yaxisScaleMin.toFixed(r.yaxisScaleDecimals).replace(/\./,r.yaxisScalePoint)+(r.yaxisScaleUnitsPost||""),valign:"string"==typeof r.yaxisLabelsValign?r.yaxisLabelsValign:l,halign:"string"==typeof r.yaxisLabelsHalign?r.yaxisLabelsHalign:"right"===r.yaxisPosition?"left":p,marker:!1,angle:0,tag:"yaxis.labels"}),r.yaxisScaleInvert&&RGraph.text({object:o,textConfPrefix:"yaxisLabels",x:"right"===r.yaxisPosition?y+5+(r.yaxisTickmarksLength||0)+r.yaxisLabelsOffsetx:y-5-(r.yaxisTickmarksLength||0)+r.yaxisLabelsOffsetx,y:o.canvas.height-r.marginBottom+r.yaxisLabelsOffsety,text:"function"==typeof r.yaxisScaleFormatter?r.yaxisScaleFormatter({object:this,number:0,unitspre:r.yaxisScaleUnitsPre,unitspost:r.yaxisScaleUnitsPost,point:r.yaxisScalePoint,thousand:r.yaxisScaleThousand,formatter:r.yaxisScaleFormatter}):(r.yaxisScaleUnitsPre||"")+r.yaxisScaleMin.toFixed(r.yaxisScaleDecimals).replace(/\./,r.yaxisScalePoint)+(r.yaxisScaleUnitsPost||""),valign:"string"==typeof r.yaxisLabelsValign?r.yaxisLabelsValign:l,halign:"string"==typeof r.yaxisLabelsHalign?r.yaxisLabelsHalign:"right"===r.yaxisPosition?"left":p,marker:!1,angle:0,tag:"yaxis.labels"})}else if("top"===r.xaxisPosition){for(s=0;s<g.labels.length;++s){b=(o.canvas.height-r.marginTop-r.marginBottom)/g.labels.length;c=r.yaxisScaleInvert?o.canvas.height-r.marginBottom-b*s-b-b:r.marginTop+b*s,RGraph.text({object:o,textConfPrefix:"yaxisLabels",x:"right"===r.yaxisPosition?y+(r.yaxisTickmarksLength||0)+r.yaxisLabelsOffsetx+5:y-(r.yaxisTickmarksLength||0)+r.yaxisLabelsOffsetx-5,y:c+b+r.yaxisLabelsOffsety,text:"-"+String(g.labels[s]),valign:"string"==typeof r.yaxisLabelsValign?r.yaxisLabelsValign:l,halign:"string"==typeof r.yaxisLabelsHalign?r.yaxisLabelsHalign:"right"===r.yaxisPosition?"left":p,marker:!1,angle:0,tag:"yaxis.labels"})}RGraph.text({object:o,textConfPrefix:"yaxisLabels",x:"right"===r.yaxisPosition?y+5+(r.yaxisTickmarksLength||0)+r.yaxisLabelsOffsetx:y-5-(r.yaxisTickmarksLength||0)+r.yaxisLabelsOffsetx,y:r.yaxisScaleInvert?o.canvas.height-r.marginBottom+r.yaxisLabelsOffsety:r.marginTop+r.yaxisLabelsOffsety,text:"function"==typeof r.yaxisScaleFormatter?r.yaxisScaleFormatter({object:this,number:0,unitspre:r.yaxisScaleUnitsPre,unitspost:r.yaxisScaleUnitsPost,point:r.yaxisScalePoint,thousand:r.yaxisScaleThousand,formatter:r.yaxisScaleFormatter}):(r.yaxisScaleUnitsPre||"")+r.yaxisScaleMin.toFixed(r.yaxisScaleDecimals).replace(/\./,r.yaxisScalePoint)+(r.yaxisScaleUnitsPost||""),valign:"string"==typeof r.yaxisLabelsValign?r.yaxisLabelsValign:l,halign:"string"==typeof r.yaxisLabelsHalign?r.yaxisLabelsHalign:"right"===r.yaxisPosition?"left":p,marker:!1,angle:0,tag:"yaxis.labels"})}else{for(s=0;s<g.labels.length;++s){b=(o.canvas.height-r.marginTop-r.marginBottom)/g.labels.length,c=r.marginTop+b*(s+(r.yaxisScaleInvert?1:0));RGraph.text({object:o,textConfPrefix:"yaxisLabels",x:"right"===r.yaxisPosition?y+(r.yaxisTickmarksLength||0)+r.yaxisLabelsOffsetx+5:y-(r.yaxisTickmarksLength||0)+r.yaxisLabelsOffsetx-5,y:c+r.yaxisLabelsOffsety,text:String(r.yaxisScaleInvert?g.labels[s]:g.labels[g.labels.length-1-s]),valign:"string"==typeof r.yaxisLabelsValign?r.yaxisLabelsValign:l,halign:"string"==typeof r.yaxisLabelsHalign?r.yaxisLabelsHalign:"right"===r.yaxisPosition?"left":p,marker:!1,angle:0,tag:"yaxis.labels"})}i=RGraph.numberFormat({object:o,number:r.yaxisScaleMin.toFixed(r.yaxisScaleDecimals),unitspre:r.yaxisScaleUnitsPre,unitspost:r.yaxisScaleUnitsPost,point:r.yaxisScalePoint,thousand:r.yaxisScaleThousand});RGraph.text({object:o,textConfPrefix:"yaxisLabels",x:"right"===r.yaxisPosition?y+5+(r.yaxisTickmarksLength||0)+r.yaxisLabelsOffsetx:y-5-(r.yaxisTickmarksLength||0)+r.yaxisLabelsOffsetx,y:r.yaxisScaleInvert?r.marginTop:o.canvas.height-r.marginBottom+r.yaxisLabelsOffsety,text:"function"==typeof r.yaxisScaleFormatter?r.yaxisScaleFormatter({object:this,number:0,unitspre:r.yaxisScaleUnitsPre,unitspost:r.yaxisScaleUnitsPost,point:r.yaxisScalePoint,thousand:r.yaxisScaleThousand,formatter:r.yaxisScaleFormatter}):i,valign:"string"==typeof r.yaxisLabelsValign?r.yaxisLabelsValign:l,halign:"string"==typeof r.yaxisLabelsHalign?r.yaxisLabelsHalign:"right"===r.yaxisPosition?"left":p,marker:!1,angle:0,tag:"yaxis.labels"})}}else if(r.yaxisLabelsSpecific&&r.yaxisLabelsSpecific.length&&("section"===r.yaxisLabelsPosition||"edge"===r.yaxisLabelsPosition))for(b=(o.canvas.height-r.marginTop-r.marginBottom)/(r.yaxisLabelsSpecific.length-("section"===r.yaxisLabelsPosition?0:1)),s=o.maxLabelLength=0;s<r.yaxisLabelsSpecific.length;++s){c=r.marginTop+b*s+("section"===r.yaxisLabelsPosition?b/2:0),RGraph.text({object:o,textConfPrefix:"yaxisLabels",x:"drawing.yaxis"===o.type?"right"===r.yaxisPosition?o.x+7+r.yaxisLabelsOffsetx:o.x-5+r.yaxisLabelsOffsetx:"right"===r.yaxisPosition?y+r.yaxisLabelsOffsetx+5:r.marginLeft-5+r.yaxisLabelsOffsetx,y:c+r.yaxisLabelsOffsety,text:String(r.yaxisLabelsSpecific[s]||""),valign:"string"==typeof r.yaxisLabelsValign?r.yaxisLabelsValign:"center",halign:"string"==typeof r.yaxisLabelsHalign?r.yaxisLabelsHalign:"right"===r.yaxisPosition?"left":"right",marker:!1,tag:"yaxis.labels",cssClass:RGraph.getLabelsCSSClassName({object:o,name:"yaxisLabelsClass",index:s})});o.maxLabelLength=Math.max(o.maxLabelLength,2*o.context.measureText(String(r.yaxisLabelsSpecific[s])).width)}if(r.yaxisTitle){if("gantt"===o.type)for(var s=0,d=0;s<r.yaxisLabels.length;++s){var f=RGraph.getTextConf({object:o,prefix:"yaxisLabels"});d=Math.max(d,RGraph.measureText(r.yaxisLabels[s],f.bold,f.font,f.size)[0])}else o.scale2&&o.scale2.labels&&(f=RGraph.getTextConf({object:o,prefix:"yaxisLabels"}),d=RGraph.measureText(o.scale2.labels[o.scale2.labels.length-1],f.bold,f.font,f.size)[0]);("hbar"===o.type&&r.yaxisLabels&&r.yaxisLabels.length||"drawing.yaxis"===o.type&&r.yaxisLabelsSpecific&&r.yaxisLabelsSpecific.length)&&(d=function(e){for(var t=RGraph.getTextConf({object:o,prefix:"yaxisLabels"}),a=0,r=0;a<e.length;++a)var i=RGraph.measureText(e[a],t.bold,t.font,t.size),r=Math.max(r,i[0]);return r}("drawing.yaxis"===o.type?r.yaxisLabelsSpecific:r.yaxisLabels));var y="right"===r.yaxisPosition?o.canvas.width-r.marginRight+5+d+10:r.marginLeft-5-d-10,c=(o.canvas.height-r.marginTop-r.marginBottom)/2+r.marginTop;"drawing.yaxis"===o.type&&(y="right"===r.yaxisPosition?o.x+5+d+10:o.x-5-d-10),"number"==typeof r.yaxisTitlePos&&(y="right"===r.yaxisPosition?o.canvas.width-r.marginRight*r.yaxisTitlePos:r.marginLeft*r.yaxisTitlePos),"number"==typeof r.yaxisTitleOffsetx&&(y+=r.yaxisTitleOffsetx),"number"==typeof r.yaxisTitleOffsety&&(c+=r.yaxisTitleOffsety),"number"==typeof r.yaxisTitleX&&(y=r.yaxisTitleX),"number"==typeof r.yaxisTitleY&&(c=r.yaxisTitleY),RGraph.text({object:o,textConfPrefix:"yaxisTitle",x:y,y:c,text:r.yaxisTitle.toString(),valign:r.yaxisTitleValign||"bottom",halign:r.yaxisTitleHalign||"center",marker:!1,accessible:"boolean"==typeof r.yaxisTitleAccessible?r.yaxisTitleAccessible:undefined,angle:-45,angle:"right"===r.yaxisPosition?90:-90,tag:"yaxis.title"})}},RGraph.getLabelsCSSClassName=function(){var e=RGraph.getArgs(arguments,"object,name,index"),t=e.object.properties,a="";return"string"==typeof t[e.name]?a=t[e.name]:"object"==typeof t[e.name]&&"string"==typeof t[e.name][e.index]&&(a=t[e.name][e.index]),a},RGraph.labelSubstitution=function(args){var text=String(args.text);if(!text.match(/%{.*?}/))return text;var text=text.replace(/%%/g,"___--PERCENT--___");text=text.replace(/%{index}/g,args.index);for(var reg=/%{prop(?:erty)?:([_a-z0-9]+)\[([0-9]+)\]}/i;text.match(reg);){var property=RegExp.$1,index=parseInt(RegExp.$2);text=args.object.properties[property]?text.replace(reg,args.object.properties[property][index]||""):text.replace(reg,""),RegExp.lastIndex=null}for(;text.match(/%{property:([_a-z0-9]+)}/i);){var str="%{property:"+RegExp.$1+"}";text=text.replace(str,args.object.properties[RegExp.$1])}for(;text.match(/%{prop:([_a-z0-9]+)}/i);){var str="%{prop:"+RegExp.$1+"}";text=text.replace(str,args.object.properties[RegExp.$1])}for(;text.match(/%{value(?:_formatted)?}/i);){var value=args.value;text=text.match(/%{value_formatted}/i)?text.replace("%{value_formatted}","number"==typeof value?RGraph.numberFormat({object:args.object,number:value.toFixed(args.decimals),thousand:args.thousand||",",point:args.point||".",unitspre:args.unitsPre||"",unitspost:args.unitsPost||""}):null):text.replace("%{value}",value)}for(var reg=/%{global:([_a-z0-9.]+)\[([0-9]+)\]}/i;text.match(reg);){var name=RegExp.$1,index=parseInt(RegExp.$2);text=eval(name)[index]?text.replace(reg,eval(name)[index]||""):text.replace(reg,""),RegExp.lastIndex=null}for(var reg=/%{global:([_a-z0-9.]+)}/i;text.match(reg);){var name=RegExp.$1;text=eval(name)?text.replace(reg,eval(name)||""):text.replace(reg,""),RegExp.lastIndex=null}var regexp=/%{function:([_A-Za-z0-9]+)\((.*?)\)}/;for(text=text.replace(/\r/,"|CR|"),text=text.replace(/\n/,"|LF|");text.match(regexp);){for(var str=RegExp.$1+"("+RegExp.$2+")",i=0,len=str.length;i<len;++i)str=str.replace(/\r?\n/,"\\n");RGraph.Registry.set("label-templates-function-object",args.object);var func=new Function("return "+str),ret=func();text=text.replace(regexp,ret)}return text=text.replace(/\r?\n/g,"<br />"),text=text.replace(/___--PERCENT--___/g,"%"),text=text.replace(/\|CR\|/,"\r"),text=text.replace(/\|LF\|/,"\n"),text.toString()},RGraph.splitString=function(e){var t=new RegExp("([\"'a-z0-9]+) *= *","ig");return e=(e=(e=(e=(e=(e=e.replace(t,'"$1":')).replace(/""/g,'"')).replace(/''/g,'"')).replace(/:'/g,':"')).replace(/' *,/g,'",')).trim().replace(/,$/,""),JSON.parse("{"+e+"}")},RGraph.GET.raw=function(){return location.search},RGraph.GET.parse=function(){if(!RGraph.isNull(RGraph.GET.__parts__))return RGraph.GET.__parts__;for(var e=RGraph.GET.raw().replace(/^\?/,"").split(/\&/),t=0;t<e.length;++t){var a=e[t].split("=");e[a[0]]=decodeURI(a[1])}return RGraph.GET.__parts__=e},RGraph.GET.text=RGraph.GET.string=function(e){var t=RGraph.GET.parse();return t[e]?String(t[e]):null},RGraph.GET.number=function(e){var t=RGraph.GET.parse();return t[e]?Number(t[e]):null},RGraph.GET.json=RGraph.GET.object=function(e){var t=RGraph.GET.parse();return t[e]?JSON.parse(t[e]):null},RGraph.GET.list=RGraph.GET.array=function(e){var t=RGraph.GET.parse();if(!t[e])return null;var a=t[e].split(arguments[1]||",");a[0]=a[0].replace(/^\[/,""),a[a.length-1]=a[a.length-1].replace(/\]$/,"");for(var r=0;r<a.length;++r)a[r]=a[r].replace(/^('|")/,""),a[r]=a[r].replace(/('|")$/,""),Number(a[r])&&(a[r]=Number(a[r]));return a},RGraph.clipTo={},RGraph.clipTo.start=function(){var e,t,a,r,i,o,s,n,c,l=RGraph.getArgs(arguments,"object,dimensions");if(RGraph.clipTo.object=l.object,"string"==typeof l.dimensions)"tophalf"===l.dimensions?l.object.path("sa b r % % % % cl",0,0,l.object.canvas.width,l.object.canvas.height/2):"bottomhalf"===l.dimensions?l.object.path("sa b r % % % % cl",0,l.object.canvas.height/2,l.object.canvas.width,l.object.canvas.height/2):"lefthalf"===l.dimensions?l.object.path("sa b r % % % % cl",0,0,l.object.canvas.width/2,l.object.canvas.height):"righthalf"===l.dimensions?l.object.path("sa b r % % % % cl",l.object.canvas.width/2,0,l.object.canvas.width/2,l.object.canvas.height):l.dimensions.match(/^((?:h|v)bar) +([-.0-9]+) ?- ?([-.0-9]+)$/i)?(e=RegExp.$1.toLowerCase(),t=parseFloat(RegExp.$2),a=parseFloat(RegExp.$3),r=l.object.properties.marginTop,i=l.object.properties.marginBottom,o=l.object.properties.marginLeft,s=l.object.properties.marginRight,n=l.object.canvas.width-o-s,c=l.object.canvas.height-r-i,"hbar"===e?l.object.path("sa b r % % % % cl",0,r+c*t,l.object.canvas.width,(a-t)*(l.object.canvas.height-r-i)):"vbar"===e&&l.object.path("sa b r % % % % cl",o+n*t,0,(a-t)*(l.object.canvas.width-o-s),l.object.canvas.height)):(l.object.path("sa"),l.object.path(l.dimensions),l.object.path("cl"));else if(RGraph.isArray(l.dimensions)&&RGraph.isArray(l.dimensions[0])){for(var p=0,h=[];p<l.dimensions.length;++p)h.push("%1 %2 %3".format(0===p?"m":"l",l.dimensions[p][0],l.dimensions[p][1]));h="sa b "+h.join(" ")+" cl",l.object.path(h)}else RGraph.isArray(l.dimensions)&&l.object.path("sa b r % % % % cl",l.dimensions[0],l.dimensions[1],l.dimensions[2],l.dimensions[3])},RGraph.clipTo.end=function(){RGraph.path(RGraph.clipTo.object,"rs")},RGraph.isString=function(e){return"string"==typeof e},RGraph.isNumber=function(e){return"number"==typeof e},RGraph.isBool=RGraph.isBoolean=function(e){return"boolean"==typeof e},RGraph.isObject=function(e){return!!(e&&"object"==typeof e&&0<e.constructor.toString().toLowerCase().indexOf("object"))},RGraph.isFunction=function(e){return"function"==typeof e},RGraph.isUndefined=function(e){return void 0===e}}(window,document),window.$p=function(e){RGraph.pr(e,arguments[1],arguments[3])},window.$a=function(e){alert(e)},window.$c=window.$cl=function(e){return console.log(e)},window.$d=function(e){this.rgraph_debug_textarea||(this.rgraph_debug_textarea=document.createElement("textarea"),this.rgraph_debug_textarea.style.position="fixed",this.rgraph_debug_textarea.style.left="10px",this.rgraph_debug_textarea.style.top="10px",this.rgraph_debug_textarea.style.width="600px",this.rgraph_debug_textarea.style.height="600px",this.rgraph_debug_textarea.style.opacity="0.25",this.rgraph_debug_textarea.style.zIndex="99999",this.rgraph_debug_textarea.style.border="2px solid black",this.rgraph_debug_textarea.style.backgroundColor="yellow",this.rgraph_debug_textarea.style.color="black",this.rgraph_debug_textarea.style.fontSize="16pt",this.rgraph_debug_textarea.style.fontWeight="bold",this.rgraph_debug_textarea.wrap="off",document.body.appendChild(this.rgraph_debug_textarea),window.localStorage.rgraph_debug_textarea_w&&(this.rgraph_debug_textarea.style.width=window.localStorage.rgraph_debug_textarea_w),window.localStorage.rgraph_debug_textarea_h&&(this.rgraph_debug_textarea.style.height=window.localStorage.rgraph_debug_textarea_h),this.rgraph_debug_textarea.onmouseover=function(e){e.target.style.opacity=1},this.rgraph_debug_textarea.onmousedown=function(e){if(e.ctrlKey)return e.preventDefault(),e.stopPropagation(),this.mousedown=!0,this.pickupX=e.offsetX,this.pickupY=e.offsetY,!1},this.rgraph_debug_textarea.onmouseout=function(e){this.style.opacity=.25},this.rgraph_debug_textarea.ondblclick=function(e){confirm("Clear the log?")&&(this.value="")},window.onmouseup=function(e){this.rgraph_debug_textarea.mousedown=!1},window.addEventListener("mousemove",function(e){this.rgraph_debug_textarea.mousedown&&(window.localStorage.rgraph_debug_textarea_w=this.rgraph_debug_textarea.offsetWidth+"px",window.localStorage.rgraph_debug_textarea_h=this.rgraph_debug_textarea.offsetHeight+"px")},!1));var r,t=new Date,a=t.getHours(),i=t.getMinutes(),i=1===String(i).length?"0"+i:i,t=t.getSeconds();t=1===String(t).length?"0"+t:t,this.rgraph_debug_textarea.value="[%1:%2:%3] %4\r\n%5".format(a,i,t,JSON.stringify(e,(r=[],function(e,t){if("object"==typeof t&&null!==t){for(var a=0;a<r.length;++a)if(r[a]===t)return;r.push(t)}return t})),this.rgraph_debug_textarea.value)},String.prototype.format=function(){if(0===arguments.length)return t=(t=this).match(/{[a-z0-9]+?}/i)?this.replace(/{[a-z0-9]+?}/gi,function(e,t){return e=(e=e.substr(1)).substr(0,e.length-1),window[e]}):t;if(1===arguments.length&&RGraph.isArray(arguments[0]))return this.format.apply(this,arguments[0]);var e,t,a=arguments;for(e in a)RGraph.isNull(a[e])&&(a[e]="null");return(t=(t=(t=this.replace(/{(\d+)}/g,function(e,t){return void 0!==a[t-1]?a[t-1]:e})).replace(/(?:%|\\)%(\d)/g,"__PPEERRCCEENNTT__$1")).replace(/%(\d+)/g,function(e,t){return void 0!==a[t-1]?a[t-1]:e})).replace("__PPEERRCCEENNTT__","%")};