RGraph=window.RGraph||{isrgraph:!0,isRGraph:!0,rgraph:!0},RGraph.SVG=RGraph.SVG||{},function(win,doc,undefined){RGraph.SVG.tooltips={},RGraph.SVG.tooltips.css=RGraph.SVG.tooltips.style={display:"inline-block",position:"absolute",padding:"6px",lineHeight:"initial",fontFamily:"Arial",fontSize:"12pt",fontWeight:"normal",textAlign:"center",left:0,top:0,backgroundColor:"black",color:"white",visibility:"visible",zIndex:3,borderRadius:"5px",boxShadow:"rgba(96,96,96,0.5) 0 0 5px",transition:"left ease-out .25s, top ease-out .25s"},RGraph.SVG.tooltip=function(opt){var obj=opt.object,properties=obj.properties;if(RGraph.SVG.fireCustomEvent(obj,"onbeforetooltip"),opt.text&&void 0!==opt.text&&0!==RGraph.SVG.trim(opt.text).length||"function"==typeof properties.tooltipsOverride){if(RGraph.SVG.isFunction(properties.tooltipsOverride))return document.body.addEventListener("mouseup",function(t){obj.removeHighlight()},!1),properties.tooltipsOverride(obj,opt);if(RGraph.SVG.REG.get("tooltip")){var tooltipObj=RGraph.SVG.REG.get("tooltip");tooltipObj.__object__.removeHighlight(),tooltipObj.style.width=""}else{var tooltipObj=document.createElement("DIV"),i,i;for(i in tooltipObj.className=properties.tooltipsCssClass,RGraph.SVG.tooltips.style)"string"==typeof i&&(tooltipObj.style[i]=substitute(RGraph.SVG.tooltips.style[i]));for(i in RGraph.SVG.tooltips.css)"string"==typeof i&&(tooltipObj.style[i]=substitute(RGraph.SVG.tooltips.css[i]));if(!RGraph.SVG.isNull(obj.properties.tooltipsCss))for(var i in obj.properties.tooltipsCss)"string"==typeof i&&(tooltipObj.style[i]=substitute(obj.properties.tooltipsCss[i]))}RGraph.SVG.REG.get("tooltip-lasty")&&(tooltipObj.style.left=RGraph.SVG.REG.get("tooltip-lastx")+"px",tooltipObj.style.top=RGraph.SVG.REG.get("tooltip-lasty")+"px"),tooltipObj.__original_text__=opt.text,opt.text=substitute(opt.text),opt.object.properties.tooltipsPointer&&(opt.text+='<div id="RGraph_tooltipsPointer" style="background-color:rgb(255,255,239);color: transparent;position:absolute;bottom:-5px;left:50%;transform:translateX(-50%) rotate(45deg);width:10px;height:10px"></div>'),tooltipObj.innerHTML=opt.text,tooltipObj.__text__=opt.text,tooltipObj.id="__rgraph_tooltip_"+obj.id+"_"+obj.uid+"_"+opt.index,tooltipObj.__event__=properties.tooltipsEvent||"click",tooltipObj.__object__=obj,"number"==typeof opt.index&&(tooltipObj.__index__=opt.index),"number"==typeof opt.dataset&&(tooltipObj.__dataset__=opt.dataset),"number"!=typeof opt.group&&!RGraph.SVG.isNull(opt.group)||(tooltipObj.__group__=opt.group),"number"==typeof opt.sequentialIndex&&(tooltipObj.__sequentialIndex__=opt.sequentialIndex),document.body.appendChild(tooltipObj);var width=tooltipObj.offsetWidth,height=tooltipObj.offsetHeight;obj.properties.tooltipsOffsetx=obj.properties.tooltipsOffsetx||0,obj.properties.tooltipsOffsety=obj.properties.tooltipsOffsety||0,tooltipObj.style.left=opt.event.pageX-width/2+obj.properties.tooltipsOffsetx+"px";var y=opt.event.pageY-height-15,left,width,pointer,left,width,pointer,scrollTop;if(y<0&&(y=5),tooltipObj.style.top=y+obj.properties.tooltipsOffsety+"px",tooltipObj.style.width=width+"px",opt.object.properties.tooltipsPointer){var styles=window.getComputedStyle(tooltipObj,!1),pointer=document.getElementById("RGraph_tooltipsPointer");pointer.style.backgroundColor=styles["background-color"],tooltipObj.__pointer__=pointer;var tooltipsPointerCss="";if(opt.object.properties.tooltipsPointerCss){var pointerDiv=document.getElementById("RGraph_tooltipsPointer");for(property in opt.object.properties.tooltipsPointerCss)"string"==typeof property&&(pointerDiv.style[property]=opt.object.properties.tooltipsPointerCss[property])}}parseFloat(tooltipObj.style.left)<=5&&(tooltipObj.style.left=5+obj.properties.tooltipsOffsetx+"px"),parseFloat(tooltipObj.style.left)+parseFloat(tooltipObj.style.width)>window.innerWidth&&(tooltipObj.style.left="",tooltipObj.style.right=5+obj.properties.tooltipsOffsety+"px"),opt.object.properties.tooltipsPositionStatic&&"function"==typeof opt.object.positionTooltipStatic&&opt.object.positionTooltipStatic({object:opt.object,event:opt.event,tooltip:tooltipObj,index:tooltipObj.__sequentialIndex__}),parseInt(tooltipObj.style.left)<0?(left=parseInt(tooltipObj.style.left),width=parseInt(tooltipObj.style.width),left+=.1*width*4,tooltipObj.style.left=left+"px",pointer=document.getElementById("RGraph_tooltipsPointer"),pointer&&(pointer.style.left="calc(10% + 5px)")):parseInt(tooltipObj.style.left)+parseInt(tooltipObj.offsetWidth)>document.body.offsetWidth&&(left=parseInt(tooltipObj.style.left),width=parseInt(tooltipObj.style.width),left-=.1*width*4,tooltipObj.style.left=left+"px",pointer=document.getElementById("RGraph_tooltipsPointer"),pointer&&(pointer.style.left="calc(90% - 5px)")),RGraph.SVG.isFixed(obj.svg)&&(scrollTop=window.scrollY||document.documentElement.scrollTop,tooltipObj.style.position="fixed",tooltipObj.style.top=opt.event.pageY-scrollTop-height-10+obj.properties.tooltipsOffsety+"px"),tooltipObj.onmousedown=function(t){t.stopPropagation()},tooltipObj.onmouseup=function(t){t.stopPropagation()},tooltipObj.onclick=function(t){0==t.button&&t.stopPropagation()},document.body.addEventListener("mouseup",function(t){RGraph.SVG.hideTooltip()},!1),RGraph.SVG.REG.set("tooltip",tooltipObj),RGraph.SVG.REG.set("tooltip-lastx",parseFloat(tooltipObj.style.left)),RGraph.SVG.REG.set("tooltip-lasty",parseFloat(tooltipObj.style.top)),RGraph.SVG.fireCustomEvent(obj,"ontooltip")}function substitute(original){if(original=String(original),"function"!=typeof opt.object.tooltipSubstitutions)return original;var specific;"function"==typeof opt.object.tooltipSubstitutions&&(specific=opt.object.tooltipSubstitutions({index:opt.sequentialIndex}));var text=original.replace(/%%/g,"___--PERCENT--___"),keyReplacementFunction=function(){if(specific.values){for(var t=properties.tooltipsFormattedKeyColors||properties.colors,e=0,o=[];e<specific.values.length;++e){var p="object"==typeof specific.values&&"number"==typeof specific.values[e]?specific.values[e]:0,i=t[e],r="object"==typeof properties.tooltipsFormattedKeyLabels&&"string"==typeof properties.tooltipsFormattedKeyLabels[e]?properties.tooltipsFormattedKeyLabels[e]:"";if("function"==typeof opt.object.tooltipsFormattedCustom){var l=opt.object.tooltipsFormattedCustom(specific,e,t);if(l.continue)continue;"string"==typeof l.label&&(r=l.label),l.color&&(i=l.color),"number"==typeof l.value&&(p=l.value)}p=RGraph.SVG.numberFormat({object:opt.object,num:p.toFixed(opt.object.properties.tooltipsFormattedDecimals),thousand:opt.object.properties.tooltipsFormattedThousand||",",point:opt.object.properties.tooltipsFormattedPoint||".",prepend:opt.object.properties.tooltipsFormattedUnitsPre||"",append:opt.object.properties.tooltipsFormattedUnitsPost||""}),l=0;"string"==typeof opt.object.properties.tooltipsFormattedKeyColorsShape&&"circle"===opt.object.properties.tooltipsFormattedKeyColorsShape&&(l="100px");var s="";if(properties.tooltipsFormattedKeyColorsCss)for(property in properties.tooltipsFormattedKeyColorsCss)"string"==typeof property&&(s+="{1}: {2};".format(property.replace(/[A-Z]/,function(t){return"-"+t.toLowerCase()}),String(properties.tooltipsFormattedKeyColorsCss[property])));o[e]='<tr><td><div class="RGraph_tooltipsFormattedKeyColor" style="text-align: left; background-color: '+i+"; color: transparent; pointer-events: none; border-radius: "+l+";"+s+'">Ml</div></td><td style="text-align: left">'+r+" "+p+"</td></tr>"}o=o.join(""),text=text.replace("%{key}",'<table style="color: inherit">'+o+"</table>")}};keyReplacementFunction(),text=text.replace(/%{index}/g,specific.index),text=text.replace(/%{dataset2}/g,specific.dataset2),text=text.replace(/%{dataset}/g,specific.dataset),text=text.replace(/%{group2}/g,specific.dataset2),text=text.replace(/%{group}/g,specific.dataset),text=text.replace(/%{sequential_index}/g,specific.sequentialIndex),text=text.replace(/%{seq}/g,specific.sequentialIndex),-1!==text.indexOf("%{list}")&&function(){"unordered"===properties.tooltipsFormattedListType&&(properties.tooltipsFormattedListType="ul"),"<ul>"===properties.tooltipsFormattedListType&&(properties.tooltipsFormattedListType="ul"),"ordered"===properties.tooltipsFormattedListType&&(properties.tooltipsFormattedListType="ol"),"<ol>"===properties.tooltipsFormattedListType&&(properties.tooltipsFormattedListType="ol");var t="ol"===properties.tooltipsFormattedListType?'<ol id="rgraph_formatted_tooltips_list">':'<ul id="rgraph_formatted_tooltips_list">',e=properties.tooltipsFormattedListItems[specific.sequentialIndex];if(e&&e.length)for(var o=0;o<e.length;++o)t+="<li>"+e[o]+"</li>";t+="ol"===properties.tooltipsFormattedListType?"</ol>":"</ul>",text=text.replace(/%{list}/,t)}(),-1!==text.indexOf("%{table}")&&function(){var t="<table>";if(properties.tooltipsFormattedTableHeaders&&properties.tooltipsFormattedTableHeaders.length){t+="<thead><tr>";for(var e=0;e<properties.tooltipsFormattedTableHeaders.length;++e)t+="<th>"+properties.tooltipsFormattedTableHeaders[e]+"</th>";t+="</tr></thead>"}if("object"==typeof properties.tooltipsFormattedTableData&&!RGraph.SVG.isNull(properties.tooltipsFormattedTableData)){t+="<tbody>";for(e=0;e<properties.tooltipsFormattedTableData[specific.sequentialIndex].length;++e){t+="<tr>";for(var o=0;o<properties.tooltipsFormattedTableData[specific.sequentialIndex][e].length;++o)t+="<td>"+String(properties.tooltipsFormattedTableData[specific.sequentialIndex][e][o])+"</td>";t+="</tr>"}t+="</tbody>"}text=text.replace(/%{table}/g,t+="</table>")}();for(var reg=/%{prop(?:erty)?:([_a-z0-9]+)\[([0-9]+)\]}/i;text.match(reg);){var property=RegExp.$1,index=parseInt(RegExp.$2),text=opt.object.properties[property]?text.replace(reg,opt.object.properties[property][index]||""):text.replace(reg,"");RegExp.lastIndex=null}for(;text.match(/%{property:([_a-z0-9]+)}/i);){var str="%{property:"+RegExp.$1+"}";text=text.replace(str,opt.object.properties[RegExp.$1])}for(;text.match(/%{prop:([_a-z0-9]+)}/i);){var str="%{prop:"+RegExp.$1+"}";text=text.replace(str,opt.object.properties[RegExp.$1])}if("rose"===opt.object.type&&"non-equi-angular"===opt.object.properties.variant)for(;text.match(/%{value2}/i);)text=text.replace("%{value2}",specific.value2);for(;text.match(/%{value(?:_formatted)?}/i);){var value=specific.value;if("waterfall"===opt.object.type&&specific.index!=opt.object.data.length-1&&RGraph.SVG.isNull(value)){for(var i=0,tot=0;i<specific.index;++i)tot+=opt.object.data[i];value=tot}text=text.match(/%{value_formatted}/i)?text.replace("%{value_formatted}","number"==typeof value?RGraph.SVG.numberFormat({object:opt.object,num:value.toFixed(opt.object.properties.tooltipsFormattedDecimals),thousand:opt.object.properties.tooltipsFormattedThousand||",",point:opt.object.properties.tooltipsFormattedPoint||".",prepend:opt.object.properties.tooltipsFormattedUnitsPre||"",append:opt.object.properties.tooltipsFormattedUnitsPost||""}):null):text.replace("%{value}",value)}for(var reg=/%{global:([_a-z0-9.]+)\[([0-9]+)\]}/i;text.match(reg);){var name=RegExp.$1,index=parseInt(RegExp.$2);text=eval(name)?text.replace(reg,eval(name)[index]||""):text.replace(reg,""),RegExp.lastIndex=null}for(var reg=/%{global:([_a-z0-9.]+)}/i;text.match(reg);){var name=RegExp.$1;text=eval(name)?text.replace(reg,eval(name)||""):text.replace(reg,""),RegExp.lastIndex=null}var regexp=/%{function:([_A-Za-z0-9]+)\((.*?)\)}/;for(text=text.replace(/\r/,"|CR|"),text=text.replace(/\n/,"|LF|");text.match(regexp);){for(var str=RegExp.$1+"("+RegExp.$2+")",i=0,len=str.length;i<len;++i)str=str.replace(/\r?\n/,"\\n");RGraph.SVG.REG.set("tooltip-templates-function-object",opt.object);var func=new Function("return "+str),ret=func();text=text.replace(regexp,ret)}return text=text.replace(/\|CR\|/," "),text=text.replace(/\|LF\|/," "),text=text.replace(/\r?\n/g,"<br />"),text=text.replace(/___--PERCENT--___/g,"%"),text.toString()}}}(window,document);