RGraph=window.RGraph||{isrgraph:!0,isRGraph:!0,rgraph:!0},RGraph.SVG=RGraph.SVG||{},window,document,RGraph.SVG.Line=function(t){this.set=function(t,e){if(1===arguments.length&&"object"==typeof t)for(i in arguments[0])"string"==typeof i&&(t=a.name,e=a.value,this.set(t,e));else{var a=RGraph.SVG.commonSetter({object:this,name:t,value:e});t=a.name,e=a.value,this.properties[t]=e,"colors"===t&&(this.originalColors=RGraph.SVG.arrayClone(e),this.colorsParsed=!1)}return this},this.get=function(t){return this.properties[t]},this.id=t.id,this.uid=RGraph.SVG.createUID(),this.container=document.getElementById(this.id),this.layers={},this.svg=RGraph.SVG.createSVG({object:this,container:this.container}),this.isRGraph=!0,this.isrgraph=!0,this.rgraph=!0,this.width=Number(this.svg.getAttribute("width")),this.height=Number(this.svg.getAttribute("height")),this.firstDraw=!0,t.data=RGraph.SVG.stringsToNumbers(t.data),RGraph.SVG.isArray(t.data)&&RGraph.SVG.isArray(t.data[0])?this.data=RGraph.SVG.arrayClone(t.data):RGraph.SVG.isArray(t.data)?this.data=[RGraph.SVG.arrayClone(t.data)]:this.data=[[]],this.type="line",this.coords=[],this.coords2=[],this.coordsSpline=[],this.hasMultipleDatasets="object"==typeof this.data[0]&&"object"==typeof this.data[1],this.colorsParsed=!1,this.originalColors={},this.gradientCounter=1,this.originalData=RGraph.SVG.arrayClone(this.data),this.filledGroups=[],RGraph.SVG.OR.add(this),this.container.style.display="inline-block",this.properties={marginLeft:35,marginRight:35,marginTop:35,marginBottom:35,marginInner:0,backgroundColor:null,backgroundImage:null,backgroundImageStretch:!0,backgroundImageAspect:"none",backgroundImageOpacity:null,backgroundImageX:null,backgroundImageY:null,backgroundImageW:null,backgroundImageH:null,backgroundGrid:!0,backgroundGridColor:"#ddd",backgroundGridLinewidth:1,backgroundGridHlines:!0,backgroundGridHlinesCount:null,backgroundGridVlines:!0,backgroundGridVlinesCount:null,backgroundGridBorder:!0,backgroundGridDashed:!1,backgroundGridDotted:!1,backgroundGridDashArray:null,colors:["red","#0f0","blue","#ff0","#0ff","green"],filled:!1,filledColors:[],filledClick:null,filledOpacity:1,filledAccumulative:!1,yaxis:!0,yaxisTickmarks:!0,yaxisTickmarksLength:3,yaxisColor:"black",yaxisScale:!0,yaxisLabels:null,yaxisLabelsOffsetx:0,yaxisLabelsOffsety:0,yaxisLabelsCount:5,yaxisScaleUnitsPre:"",yaxisScaleUnitsPost:"",yaxisScaleStrict:!1,yaxisScaleDecimals:0,yaxisScalePoint:".",yaxisScaleThousand:",",yaxisScaleRound:!1,yaxisScaleMax:null,yaxisScaleMin:0,yaxisScaleFormatter:null,yaxisLabelsFont:null,yaxisLabelsSize:null,yaxisLabelsColor:null,yaxisLabelsBold:null,yaxisLabelsItalic:null,yaxisTitle:"",yaxisTitleBold:null,yaxisTitleSize:null,yaxisTitleFont:null,yaxisTitleColor:null,yaxisTitleItalic:null,yaxisTitleOffsetx:0,yaxisTitleOffsety:0,yaxisTitleX:null,yaxisTitleY:null,yaxisTitleHalign:null,yaxisTitleValign:null,xaxis:!0,xaxisTickmarks:!0,xaxisTickmarksLength:5,xaxisLabels:null,xaxisLabelsOffsetx:0,xaxisLabelsOffsety:0,xaxisLabelsPosition:"edge",xaxisLabelsPositionEdgeTickmarksCount:null,xaxisColor:"black",xaxisLabelsFont:null,xaxisLabelsSize:null,xaxisLabelsColor:null,xaxisLabelsBold:null,xaxisLabelsItalic:null,xaxisLabelsFormattedDecimals:0,xaxisLabelsFormattedPoint:".",xaxisLabelsFormattedThousand:",",xaxisLabelsFormattedUnitsPre:"",xaxisLabelsFormattedUnitsPost:"",xaxisTitle:"",xaxisTitleBold:null,xaxisTitleSize:null,xaxisTitleFont:null,xaxisTitleColor:null,xaxisTitleItalic:null,xaxisTitleOffsetx:0,xaxisTitleOffsety:0,xaxisTitleX:null,xaxisTitleY:null,xaxisTitleHalign:null,xaxisTitleValign:null,textColor:"black",textFont:"Arial, Verdana, sans-serif",textSize:12,textBold:!1,textItalic:!1,text:null,linewidth:1,linejoin:"round",linecap:"round",tooltips:null,tooltipsOverride:null,tooltipsEffect:"fade",tooltipsCssClass:"RGraph_tooltip",tooltipsCss:null,tooltipsEvent:"mousemove",tooltipsFormattedThousand:",",tooltipsFormattedPoint:".",tooltipsFormattedDecimals:0,tooltipsFormattedUnitsPre:"",tooltipsFormattedUnitsPost:"",tooltipsFormattedKeyColors:null,tooltipsFormattedKeyColorsShape:"square",tooltipsFormattedKeyLabels:[],tooltipsFormattedTableHeaders:null,tooltipsFormattedTableData:null,tooltipsPointer:!0,tooltipsPositionStatic:!0,tickmarksStyle:"none",tickmarksSize:5,tickmarksFill:"white",tickmarksLinewidth:1,labelsAbove:!1,labelsAboveFont:null,labelsAboveSize:null,labelsAboveBold:null,labelsAboveItalic:null,labelsAboveColor:null,labelsAboveBackground:"rgba(255,255,255,0.7)",labelsAboveBackgroundPadding:2,labelsAboveUnitsPre:null,labelsAboveUnitsPost:null,labelsAbovePoint:null,labelsAboveThousand:null,labelsAboveFormatter:null,labelsAboveDecimals:null,labelsAboveOffsetx:0,labelsAboveOffsety:-10,labelsAboveHalign:"center",labelsAboveValign:"bottom",labelsAboveSpecific:null,shadow:!1,shadowOffsetx:2,shadowOffsety:2,shadowBlur:2,shadowOpacity:.25,spline:!1,stepped:!1,title:"",titleX:null,titleY:null,titleHalign:"center",titleValign:null,titleSize:null,titleColor:null,titleFont:null,titleBold:null,titleItalic:null,titleSubtitle:null,titleSubtitleSize:null,titleSubtitleColor:"#aaa",titleSubtitleFont:null,titleSubtitleBold:null,titleSubtitleItalic:null,errorbars:null,errorbarsColor:"black",errorbarsLinewidth:1,errorbarsCapwidth:10,key:null,keyColors:null,keyOffsetx:0,keyOffsety:0,keyLabelsOffsetx:0,keyLabelsOffsety:-1,keyLabelsSize:null,keyLabelsBold:null,keyLabelsItalic:null,keyLabelsFont:null,keyLabelsColor:null,dasharray:[1,0],dashed:!1,dotted:!1,trendline:!1,trendlineColors:["#666"],trendlineLinewidth:1,trendlineMargin:25,trendlineDashed:!1,trendlineDotted:!1,trendlineDashArray:null,trendlineClip:!0,nullBridge:!1,nullBridgeLinewidth:null,nullBridgeColors:null,nullBridgeDashArray:[5,5]},RGraph.SVG.getGlobals(this),RGraph.SVG.FX&&"function"==typeof RGraph.SVG.FX.decorate&&RGraph.SVG.FX.decorate(this),this.responsive=RGraph.SVG.responsive,RGraph.SVG.addCreateFunction(this);var x=this.properties;for(i in this.draw=function(){if(RGraph.SVG.fireCustomEvent(this,"onbeforedraw"),this.width=Number(this.svg.getAttribute("width")),this.height=Number(this.svg.getAttribute("height")),RGraph.SVG.createDefs(this),this.graphWidth=this.width-x.marginLeft-x.marginRight,this.graphHeight=this.height-x.marginTop-x.marginBottom,RGraph.SVG.resetColorsToOriginalValues({object:this}),this.parseColors(),this.coords=[],this.coords2=[],this.coordsSpline=[],this.data=RGraph.SVG.arrayClone(this.originalData),this.tooltipsSequentialIndex=0,x.dashed&&(x.dasharray=[5,5]),x.dotted&&(x.dasharray=[1,4]),this.data_seq=RGraph.SVG.arrayLinearize(this.data),x.errorbars)for(var t=0;t<this.data_seq.length;++t)void 0===x.errorbars[t]||RGraph.SVG.isNull(x.errorbars[t])?x.errorbars[t]={max:null,min:null}:"number"==typeof x.errorbars[t]?x.errorbars[t]={min:x.errorbars[t],max:x.errorbars[t]}:"object"==typeof x.errorbars[t]&&void 0===x.errorbars[t].max?x.errorbars[t].max=null:"object"==typeof x.errorbars[t]&&void 0===x.errorbars[t].min&&(x.errorbars[t].min=null);for(var t=0,e=[];t<this.data.length;++t)for(var i=0;i<this.data[t].length;++i)void 0===e[i]&&(e[i]=0),x.filled&&x.filledAccumulative?(e[i]+=this.data[t][i],t===this.data.length-1&&(e[i]+=x.errorbars?x.errorbars[RGraph.SVG.groupedIndexToSequential({object:this,dataset:t,index:i})].max:0)):e[i]=Math.max(e[i],this.data[t][i]+(x.errorbars?x.errorbars[RGraph.SVG.groupedIndexToSequential({object:this,dataset:t,index:i})].max:0));for(var a=[],t=0,r=0;t<this.data.length;++t)if(RGraph.SVG.isArray(this.data[t])&&!x.filledAccumulative)a.push(RGraph.SVG.arrayMax(e));else if(RGraph.SVG.isArray(this.data[t])&&x.filled&&x.filledAccumulative)for(i=0;i<this.data[t].length;++i)a[i]=a[i]||0,a[i]=a[i]+this.data[t][i],this.data[t][i]=a[i];if(r=x.filled&&x.filledAccumulative?RGraph.SVG.arrayMax(e):RGraph.SVG.arrayMax(a),"number"==typeof x.yaxisScaleMax&&(r=x.yaxisScaleMax),"mirror"===x.yaxisScaleMin&&(this.mirrorScale=!0,x.yaxisScaleMin=0),this.scale=RGraph.SVG.getScale({object:this,numlabels:x.yaxisLabelsCount,unitsPre:x.yaxisScaleUnitsPre,unitsPost:x.yaxisScaleUnitsPost,max:r,min:x.yaxisScaleMin,point:x.yaxisScalePoint,round:x.yaxisScaleRound,thousand:x.yaxisScaleThousand,decimals:x.yaxisScaleDecimals,strict:"number"==typeof x.yaxisScaleMax,formatter:x.yaxisScaleFormatter}),this.mirrorScale&&(this.scale=RGraph.SVG.getScale({object:this,numlabels:x.yaxisLabelsCount,unitsPre:x.yaxisScaleUnitsPre,unitsPost:x.yaxisScaleUnitsPost,max:this.scale.max,min:-1*this.scale.max,point:x.yaxisScalePoint,round:!1,thousand:x.yaxisScaleThousand,decimals:x.yaxisScaleDecimals,strict:"number"==typeof x.yaxisScaleMax,formatter:x.yaxisScaleFormatter})),this.max=this.scale.max,this.min=this.scale.min,RGraph.SVG.drawBackground(this),x.xaxisLabels&&x.xaxisLabels.length){"string"==typeof x.xaxisLabels&&(x.xaxisLabels=RGraph.SVG.arrayPad([],this.originalData[0].length,x.xaxisLabels));for(t=0;t<x.xaxisLabels.length;++t)x.xaxisLabels[t]=RGraph.SVG.labelSubstitution({object:this,text:x.xaxisLabels[t],index:t,value:this.originalData[0][t],decimals:x.xaxisLabelsFormattedDecimals||0,unitsPre:x.xaxisLabelsFormattedUnitsPre||"",unitsPost:x.xaxisLabelsFormattedUnitsPost||"",thousand:x.xaxisLabelsFormattedThousand||",",point:x.xaxisLabelsFormattedPoint||"."})}RGraph.SVG.drawXAxis(this),RGraph.SVG.drawYAxis(this);for(t=0;t<this.data.length;++t)this.drawLine(this.data[t],t);this.redrawLines();for(let t=0;t<this.data.length;++t)(RGraph.SVG.isArray(x.trendline)&&x.trendline[t]||!RGraph.SVG.isArray(x.trendline)&&x.trendline)&&this.drawTrendline({dataset:t});if(x.nullBridge)for(t=0;t<this.data.length;++t)this.nullBridge(t,this.data[t]);null!==typeof x.key&&RGraph.SVG.drawKey?RGraph.SVG.drawKey(this):RGraph.SVG.isNull(x.key)||alert("The drawKey() function does not exist - have you forgotten to include the key library?"),this.drawLabelsAbove();var s=this;return document.body.addEventListener("mousedown",function(t){RGraph.SVG.removeHighlight(s)},!1),RGraph.SVG.addCustomText(this),this.firstDraw&&(this.firstDraw=!1,RGraph.SVG.fireCustomEvent(this,"onfirstdraw")),RGraph.SVG.fireCustomEvent(this,"ondraw"),this},this.drawLine=function(t,e){for(var i=[],a=[],r=0,s=t.length;r<s;++r){var l=t[r],o=(this.graphWidth-x.marginInner-x.marginInner)/(s-1)*r+x.marginLeft+x.marginInner,n=this.getYCoord(l);i.push([o,n])}for(var h,r=0;r<i.length;++r)h=0===r||RGraph.SVG.isNull(t[r])||RGraph.SVG.isNull(t[r-1])?"M":(x.stepped&&a.push("L {1} {2}".format(i[r][0],i[r-1][1])),"L"),a.push(h+"{1} {2}".format(i[r][0],RGraph.SVG.isNull(t[r])?0:i[r][1]));for(var d=0;d<i.length;++d)this.coords.push(RGraph.SVG.arrayClone(i[d])),this.coords[this.coords.length-1].x=i[d][0],this.coords[this.coords.length-1].y=i[d][1],(this.coords[this.coords.length-1].object=this).coords[this.coords.length-1].value=t[d],this.coords[this.coords.length-1].index=d,this.coords[this.coords.length-1].path=a;this.coords2[e]=RGraph.SVG.arrayClone(i);for(var c,d=0;d<i.length;++d){var p=RGraph.SVG.groupedIndexToSequential({object:this,dataset:e,index:d});this.coords2[e][d].x=i[d][0],this.coords2[e][d].y=i[d][1],(this.coords2[e][d].object=this).coords2[e][d].value=t[d],this.coords2[e][d].index=d,this.coords2[e][d].path=a,this.coords2[e][d].sequential=p,x.errorbars&&this.drawErrorbar({object:this,dataset:e,index:d,sequential:p,x:o,y:n})}if(x.spline&&(this.coordsSpline[e]=this.drawSpline(i)),!0===x.filled||"object"==typeof x.filled&&x.filled[e]){if(x.spline)for(var u=["M{1} {2}".format(this.coordsSpline[e][0][0],this.coordsSpline[e][0][1])],r=1;r<this.coordsSpline[e].length;++r)u.push("L{1} {2}".format(this.coordsSpline[e][r][0]+(r===this.coordsSpline[e].length-1?1:0),this.coordsSpline[e][r][1]));else u=RGraph.SVG.arrayClone(a);if(u.push("L{1} {2}".format(this.coords2[e][this.coords2[e].length-1][0]+1,0<e&&x.filledAccumulative?(x.spline?this.coordsSpline[e-1][this.coordsSpline[e-1].length-1]:this.coords2[e-1][this.coords2[e-1].length-1])[1]:this.getYCoord(0<x.yaxisScaleMin?x.yaxisScaleMin:0)+(x.xaxis?0:1))),0<e&&x.filledAccumulative){var g=RGraph.SVG.arrayClone(a);if(0<e&&x.filledAccumulative)if(x.spline)for(r=this.coordsSpline[e-1].length-1;0<=r;--r)u.push("L{1} {2}".format(this.coordsSpline[e-1][r][0],this.coordsSpline[e-1][r][1]));else for(r=this.coords2[e-1].length-1;0<=r;--r)u.push("L{1} {2}".format(this.coords2[e-1][r][0],this.coords2[e-1][r][1])),x.stepped&&0<r&&u.push("L{1} {2}".format(this.coords2[e-1][r][0],this.coords2[e-1][r-1][1]))}else u.push("L{1} {2}".format(this.coords2[e][0][0]+(x.yaxis,0),this.getYCoord(0<x.yaxisScaleMin?x.yaxisScaleMin:0)+(x.xaxis?0:1)));u.push("L{1} {2}".format(this.coords2[e][0][0]+(x.yaxis?1:0),this.coords2[e][0][1]));for(r=0;r<this.data[e].length;++r)if(!RGraph.SVG.isNull(this.data[e][r])){u.push("L{1} {2}".format(this.coords2[e][r][0],this.getYCoord(0)));break}this.filledGroups[e]=RGraph.SVG.create({svg:this.svg,type:"g",parent:this.svg.all,attr:{class:"rgraph_filled_line_"+e}});var f=RGraph.SVG.create({svg:this.svg,parent:this.filledGroups[e],type:"path",attr:{d:u.join(" "),stroke:"rgba(0,0,0,0)",fill:(x.filledColors&&x.filledColors[e]?x.filledColors:x.colors)[e],"fill-opacity":x.filledOpacity,"stroke-width":1,"clip-path":this.isTrace?"url(#trace-effect-clip)":""}});x.filledClick&&(y=this,f.addEventListener("click",function(t){x.filledClick(t,y,e)},!1),f.addEventListener("mousemove",function(t){t.target.style.cursor="pointer"},!1))}if(x.shadow&&RGraph.SVG.setShadow({object:this,offsetx:x.shadowOffsetx,offsety:x.shadowOffsety,blur:x.shadowBlur,opacity:x.shadowOpacity,id:"dropShadow"}),x.spline){for(var b=["M{1} {2}".format(this.coordsSpline[e][0][0],this.coordsSpline[e][0][1])],r=1;r<this.coordsSpline[e].length;++r)b.push("L{1} {2}".format(this.coordsSpline[e][r][0],this.coordsSpline[e][r][1]));b=b.join(" "),RGraph.SVG.create({svg:this.svg,parent:x.filled?this.filledGroups[e]:this.svg.all,type:"path",attr:{d:b,stroke:x.colors[e],fill:"none","stroke-width":this.hasMultipleDatasets&&x.filled&&x.filledAccumulative?.1:RGraph.SVG.isArray(x.linewidth)?x.linewidth[e]:x.linewidth+.01,"stroke-dasharray":x.dasharray,"stroke-linecap":this.getLinecap({index:e}),"stroke-linejoin":this.getLinejoin({index:e}),filter:x.shadow?"url(#dropShadow)":"","clip-path":this.isTrace?"url(#trace-effect-clip)":""}})}else{g=RGraph.SVG.arrayClone(a);if(x.filled&&x.filledAccumulative&&0<e)for(r=this.coords2[e-1].length-1;0<=r;--r)g.push("L{1} {2}".format(this.coords2[e-1][r][0],this.coords2[e-1][r][1]));g=g.join(" ");RGraph.SVG.create({svg:this.svg,parent:x.filled?this.filledGroups[e]:this.svg.all,type:"path",attr:{d:g,stroke:x.colors[e],fill:"none","stroke-dasharray":x.dasharray,"stroke-width":this.hasMultipleDatasets&&x.filled&&x.filledAccumulative?.1:RGraph.SVG.isArray(x.linewidth)?x.linewidth[e]:x.linewidth+.01,"stroke-linecap":this.getLinecap({index:e}),"stroke-linejoin":this.getLinejoin({index:e}),filter:x.shadow?"url(#dropShadow)":"","clip-path":this.isTrace?"url(#trace-effect-clip)":""}})}if(x.tooltips&&x.tooltips.length){this.svg.all.line_tooltip_hotspots?c=this.svg.all.line_tooltip_hotspots:(c=RGraph.SVG.create({svg:this.svg,type:"g",attr:{fill:"transparent",className:"rgraph_hotspots"},style:{cursor:"pointer"}}),this.svg.all.line_tooltip_hotspots=c);for(var G,y,r=0;r<this.coords2[e].length&&("string"==typeof x.tooltips||this.tooltipsSequentialIndex<x.tooltips.length);++r,++this.tooltipsSequentialIndex)!RGraph.SVG.isNull(this.originalData[e][r])&&(x.tooltips[this.tooltipsSequentialIndex]||"string"==typeof x.tooltips)&&this.coords2[e][r][0]&&this.coords2[e][r][1]&&(G=RGraph.SVG.create({svg:this.svg,parent:c,type:"circle",attr:{cx:this.coords2[e][r][0],cy:this.coords2[e][r][1],r:10,fill:"transparent","data-dataset":e,"data-index":r},style:{cursor:"pointer"}}),function(s){G.addEventListener(x.tooltipsEvent,function(t){var e,i=RGraph.SVG.sequentialIndexToGrouped(s,y.data),a=i[1],r=i[0];RGraph.SVG.REG.get("tooltip")&&RGraph.SVG.REG.get("tooltip").__index__===a&&RGraph.SVG.REG.get("tooltip").__dataset__===r&&RGraph.SVG.REG.get("tooltip").__object__.uid===y.uid||(y.removeHighlight(),RGraph.SVG.hideTooltip(),RGraph.SVG.tooltip({object:y,index:a,dataset:r,sequentialIndex:s,text:"string"==typeof x.tooltips?x.tooltips:x.tooltips[s],event:t}),e=RGraph.SVG.create({svg:y.svg,parent:y.svg.all,type:"circle",attr:{cx:y.coords2[r][a][0],cy:y.coords2[r][a][1],r:5,fill:y.properties.colors[r],"fill-opacity":.5},style:{cursor:"pointer"}}),i=RGraph.SVG.create({svg:y.svg,parent:y.svg.all,type:"circle",attr:{cx:y.coords2[r][a][0],cy:y.coords2[r][a][1],r:14,fill:"white","fill-opacity":.75},style:{cursor:"pointer"}}),t=RGraph.SVG.create({svg:y.svg,parent:y.svg.all,type:"circle",attr:{cx:y.coords2[r][a][0],cy:y.coords2[r][a][1],r:6,fill:"white"},style:{cursor:"pointer"}}),r=RGraph.SVG.create({svg:y.svg,parent:y.svg.all,type:"circle",attr:{cx:y.coords2[r][a][0],cy:y.coords2[r][a][1],r:5,fill:y.properties.colors[r]},style:{cursor:"pointer"}}),RGraph.SVG.REG.set("highlight",[e,i,t,r]))},!1)}((y=this).tooltipsSequentialIndex))}},this.drawTickmarks=function(t,e,i){for(var a="object"==typeof x.tickmarksStyle?x.tickmarksStyle[t]:x.tickmarksStyle,r="object"==typeof x.tickmarksSize?x.tickmarksSize[t]:x.tickmarksSize,s="object"==typeof x.tickmarksFill?x.tickmarksFill[t]:x.tickmarksFill,l="object"==typeof x.tickmarksLinewidth?x.tickmarksLinewidth[t]:x.tickmarksLinewidth,o=0;o<e.length;++o)if("number"==typeof e[o])switch(a){case"filledcircle":case"filledendcircle":"filledcircle"!==a&&0!==o&&o!==e.length-1||RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"circle",attr:{cx:i[t][o][0],cy:i[t][o][1],r:r,fill:x.colors[t],filter:x.shadow?"url(#dropShadow)":"","clip-path":this.isTrace?"url(#trace-effect-clip)":""}});break;case"circle":case"endcircle":if("circle"!==a&&("endcircle"!==a||0!==o&&o!==e.length-1))break;RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"circle",attr:{cx:i[t][o][0],cy:i[t][o][1],r:r+this.get("linewidth"),fill:x.colors[t],filter:x.shadow?"url(#dropShadow)":"","clip-path":this.isTrace?"url(#trace-effect-clip)":""}}),RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"circle",attr:{cx:i[t][o][0],cy:i[t][o][1],r:r,fill:s,"clip-path":this.isTrace?"url(#trace-effect-clip)":""}});break;case"endrect":case"rect":"rect"!==a&&("endrect"!==a||0!==o&&o!==e.length-1)||(s="object"==typeof s&&"string"==typeof s[t]?s[t]:s,RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"rect",attr:{x:i[t][o][0]-r,y:i[t][o][1]-r,width:r+r+l,height:r+r+l,"stroke-width":this.get("linewidth"),stroke:x.colors[t],fill:s,"clip-path":this.isTrace?"url(#trace-effect-clip)":""}}));break;case"filledendrect":case"filledrect":"filledrect"!==a&&("filledendrect"!==a||0!==o&&o!==e.length-1)||(s=x.colors[t],RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"rect",attr:{x:i[t][o][0]-r,y:i[t][o][1]-r,width:r+r+l,height:r+r+l,fill:s,"clip-path":this.isTrace?"url(#trace-effect-clip)":""}}))}},this.redrawLines=function(){if(x.spline){for(var t=0;t<this.coordsSpline.length;++t){for(var e=RGraph.SVG.isArray(x.linewidth)?x.linewidth[t]:x.linewidth,i=x.colors[t],a="",r=0;r<this.coordsSpline[t].length;++r)a+=(0===r?"M{1} {2} ":"L{1} {2} ").format(this.coordsSpline[t][r][0],this.coordsSpline[t][r][1]);RGraph.SVG.create({svg:this.svg,parent:x.filled?this.filledGroups[t]:this.svg.all,type:"path",attr:{d:a,stroke:i,fill:"none","stroke-dasharray":x.dasharray,"stroke-width":e+.01,"stroke-linecap":this.getLinecap({index:t}),"stroke-linejoin":this.getLinejoin({index:t}),filter:x.shadow?"url(#dropShadow)":"","clip-path":this.isTrace?"url(#trace-effect-clip)":""}})}for(var s=0;s<this.coords2.length;++s)this.drawTickmarks(s,this.data[s],this.coords2)}else{for(t=0;t<this.coords2.length;++t){for(e=RGraph.SVG.isArray(x.linewidth)?x.linewidth[t]:x.linewidth,i=x.colors[t],a="",r=0;r<this.coords2[t].length;++r)0===r||RGraph.SVG.isNull(this.data[t][r])||RGraph.SVG.isNull(this.data[t][r-1])?a+="M{1} {2} ".format(this.coords2[t][r][0],RGraph.SVG.isNull(this.data[t][r])?0:this.coords2[t][r][1]):(x.stepped&&(a+="L{1} {2} ".format(this.coords2[t][r][0],this.coords2[t][r-1][1])),a+="L{1} {2} ".format(this.coords2[t][r][0],this.coords2[t][r][1]));RGraph.SVG.create({svg:this.svg,parent:x.filled?this.filledGroups[t]:this.svg.all,type:"path",attr:{d:a,stroke:i,fill:"none","stroke-dasharray":x.dasharray,"stroke-width":e+.01,"stroke-linecap":this.getLinecap({index:t}),"stroke-linejoin":this.getLinejoin({index:t}),filter:x.shadow?"url(#dropshadow)":"","clip-path":this.isTrace?"url(#trace-effect-clip)":""}})}for(s=0;s<this.coords2.length;++s)this.drawTickmarks(s,this.data[s],this.coords2)}},this.getYCoord=function(t){var e;return!(e=!0===arguments[1]?!0:e)&&RGraph.SVG.isNull(t)||!e&&t>this.scale.max||!e&&t<this.scale.min?null:(e=(t-this.scale.min)/(this.scale.max-this.scale.min),e*=this.height-x.marginTop-x.marginBottom,e=this.height-x.marginBottom-e)},this.highlight=function(t){t.getAttribute("x"),t.getAttribute("y")},this.removeHighlight=function(){var t=RGraph.SVG.REG.get("highlight");if(t&&t.parentNode)t.parentNode.removeChild(t);else if(t)for(var e=0;e<t.length;++e)t[e]&&t[e].parentNode&&t[e].parentNode.removeChild(t[e]);RGraph.SVG.REG.set("highlight",null)},this.drawSpline=function(t){var e=[];marginLeft=x.marginLeft,marginRight=x.marginRight,hmargin=x.marginInner,interval=(this.graphWidth-2*hmargin)/(t.length-1),coordsSpline=[];for(var i=0,a=t.length;i<a;i+=1)"object"==typeof t[i]&&t[i]&&2==t[i].length&&(t[i]=Number(t[i][1]));for(var r=[t[0]],i=0;i<t.length;++i)r.push(t[i]);r.push(t[t.length-1]+(t[t.length-1]-t[t.length-2]));for(var s,l,o,n,h,d=1;d<r.length-2;++d)for(var c=0;c<10;++c){var p=(s=c/10,l=r[d-1],o=r[d],n=r[d+1],h=r[d+2],.5*(2*o+(0-l+n)*s+(s*s*(2*l-5*o+4*n-h)+(0-l+3*o-3*n+h)*(s*s*s))));e.push((d-1)*interval+c*(interval/10)+marginLeft+hmargin),coordsSpline.push([e[e.length-1],p]),"number"==typeof index&&coordsSpline[index].push([e[e.length-1],p])}coordsSpline.push([(d-1)*interval+marginLeft+hmargin,r[d]]),"number"==typeof index&&coordsSpline.push([(d-1)*interval+marginLeft+hmargin,r[d]]);for(i=0;i<coordsSpline.length;++i)coordsSpline[i].object=this,coordsSpline[i].x=this,coordsSpline[i].y=this;return coordsSpline},this.parseColors=function(){Object.keys(this.originalColors).length||(this.originalColors={colors:RGraph.SVG.arrayClone(x.colors),filledColors:RGraph.SVG.arrayClone(x.filledColors),backgroundGridColor:RGraph.SVG.arrayClone(x.backgroundGridColor),backgroundColor:RGraph.SVG.arrayClone(x.backgroundColor)});var t=x.colors;if(t)for(var e=0;e<t.length;++e)t[e]=RGraph.SVG.parseColorLinear({object:this,color:t[e]});var i=x.filledColors;if(i)for(e=0;e<i.length;++e)i[e]=RGraph.SVG.parseColorLinear({object:this,color:i[e]});x.backgroundGridColor=RGraph.SVG.parseColorLinear({object:this,color:x.backgroundGridColor}),x.backgroundColor=RGraph.SVG.parseColorLinear({object:this,color:x.backgroundColor})},this.drawLabelsAbove=function(){if(x.labelsAbove){RGraph.SVG.arrayLinearize(this.data);for(var t=0,e=0;e<this.coords2.length;++e,t++){for(var i=0;i<this.coords2[e].length;++i,t++){var a=RGraph.SVG.numberFormat({object:this,num:this.data[e][i].toFixed(x.labelsAboveDecimals),prepend:"string"==typeof x.labelsAboveUnitsPre?x.labelsAboveUnitsPre:null,append:"string"==typeof x.labelsAboveUnitsPost?x.labelsAboveUnitsPost:null,point:"string"==typeof x.labelsAbovePoint?x.labelsAbovePoint:null,thousand:"string"==typeof x.labelsAboveThousand?x.labelsAboveThousand:null,formatter:"function"==typeof x.labelsAboveFormatter?x.labelsAboveFormatter:null});if(x.labelsAboveSpecific&&x.labelsAboveSpecific.length&&("string"==typeof x.labelsAboveSpecific[t]||"number"==typeof x.labelsAboveSpecific[t]))a=x.labelsAboveSpecific[t];else if(x.labelsAboveSpecific&&x.labelsAboveSpecific.length&&"string"!=typeof x.labelsAboveSpecific[t]&&"number"!=typeof x.labelsAboveSpecific[t])continue;var r=RGraph.SVG.getTextConf({object:this,prefix:"labelsAbove"});RGraph.SVG.text({object:this,parent:this.svg.all,tag:"labels.above",text:a,x:parseFloat(this.coords2[e][i][0])+x.labelsAboveOffsetx,y:parseFloat(this.coords2[e][i][1])+x.labelsAboveOffsety,halign:x.labelsAboveHalign,valign:x.labelsAboveValign,font:r.font,size:r.size,bold:r.bold,italic:r.italic,color:r.color,background:x.labelsAboveBackground||null,padding:x.labelsAboveBackgroundPadding||0})}t--}}},this.on=function(t,e){return"on"!==t.substr(0,2)&&(t="on"+t),RGraph.SVG.addCustomEventListener(this,t,e),this},this.exec=function(t){return t(this),this},this.drawErrorbar=function(t){var e=RGraph.SVG.getErrorbarsLinewidth({object:this,index:t.index}),i=RGraph.SVG.getErrorbarsColor({object:this,index:t.sequential}),a=RGraph.SVG.getErrorbarsCapWidth({object:this,index:t.index}),r=t.index,s=t.dataset,l=t.x,o=t.y,n=this.data[s][r],o=this.getYCoord(o),h=RGraph.SVG.getErrorbarsMaxValue({object:this,index:t.sequential}),t=RGraph.SVG.getErrorbarsMinValue({object:this,index:t.sequential});(h||t)&&(l=this.coords2[s][r].x,o=this.coords2[s][r].y,r=a/2,a=this.getYCoord(n+h),n=null===this.getYCoord(n-t)?o:this.getYCoord(n-t),0<h&&(RGraph.SVG.create({svg:this.svg,type:"line",parent:this.svg.all,attr:{x1:l,y1:o,x2:l,y2:a,stroke:i,"stroke-width":e}}),RGraph.SVG.create({svg:this.svg,type:"line",parent:this.svg.all,attr:{x1:l-r,y1:a,x2:l+r,y2:a,stroke:i,"stroke-width":e}})),"number"==typeof t&&(RGraph.SVG.create({svg:this.svg,type:"line",parent:this.svg.all,attr:{x1:l,y1:o,x2:l,y2:n,stroke:i,"stroke-width":e}}),RGraph.SVG.create({svg:this.svg,type:"line",parent:this.svg.all,attr:{x1:l-r,y1:n,x2:l+r,y2:n,stroke:i,"stroke-width":e}})))},this.trace=function(){var e=arguments[0]||{},i=1,a=e.frames||60,r=this;this.isTrace=!0,this.draw();var s=RGraph.SVG.create({svg:this.svg,parent:this.svg.defs,type:"clipPath",attr:{id:"trace-effect-clip"}}),l=RGraph.SVG.create({svg:this.svg,parent:s,type:"rect",attr:{x:0,y:0,width:0,height:this.height}}),o=function(){var t=i++/a*r.width;l.setAttribute("width",t),i<=a?RGraph.SVG.FX.update(o):(s.parentNode.removeChild(s),e.callback&&e.callback(r))};return o(),this},this.tooltipSubstitutions=function(t){for(var e=RGraph.SVG.sequentialIndexToGrouped(t.index,this.data),i=0,a=[];i<this.originalData.length;++i)a.push(this.originalData[i][e[1]]);return{index:e[1],dataset:e[0],sequentialIndex:t.index,value:"number"==typeof this.data[e[0]]?this.data[e[0]]:this.data[e[0]][e[1]],values:a}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),a=(t.index,RGraph.SVG.getSVGXY(e.svg)),e=this.coords[t.index];t.tooltip.style.left=a[0]+e[0]-i.offsetWidth/2+"px",t.tooltip.style.top=a[1]+e[1]-i.offsetHeight-15+"px"},this.drawTrendline=function(t){var e=x.trendlineColor,i=x.trendlineLinewidth,a=x.trendlineMargin,r=x.trendlineClip;r&&(G=RGraph.SVG.create({svg:this.svg,parent:this.svg.defs,type:"clipPath",attr:{id:"trendline-clip"}}),RGraph.SVG.create({svg:this.svg,parent:G,type:"rect",attr:{x:x.marginLeft,y:x.marginTop,width:this.width-x.marginLeft-x.marginRight,height:this.height-x.marginTop-x.marginBottom}}));for(var s=[],l=0;l<this.data.length;++l){s[l]=[];for(var o=0;o<this.data[l].length;++o)s[l].push([o,this.data[l][o]])}"object"==typeof(e=RGraph.SVG.isArray(x.trendlineColors)?x.trendlineColors:e)&&e[t.dataset]?e=e[t.dataset]:"object"==typeof e&&(e="gray"),"object"==typeof i&&"number"==typeof i[t.dataset]?i=i[t.dataset]:"object"==typeof i&&(i=1),"object"==typeof a&&"number"==typeof a[t.dataset]?a=a[t.dataset]:"object"==typeof a&&(a=25);for(var l=0,n=0,h=0;l<this.data[t.dataset].length;++l)n+=s[t.dataset][l][0],h+=s[t.dataset][l][1];for(var d=n/s[t.dataset].length,c=h/s[t.dataset].length,l=0,p=[],u=[],g=[],f=[];l<this.data[t.dataset].length;++l)p[l]=s[t.dataset][l][0]-d,u[l]=s[t.dataset][l][1]-c,g[l]=p[l]*u[l],f[l]=p[l]*p[l];var b=RGraph.SVG.arraySum(g)/RGraph.SVG.arraySum(f),G=c-b*d,G=[[0,0*b+G],[s[0].length-1,b*(s[0].length-1)+G]];G[0][0]=x.marginLeft,G[0][1]=this.getYCoord(G[0][1],!0),G[1][0]=this.width-x.marginRight,G[1][1]=this.getYCoord(G[1][1],!0),(!0===x.trendlineDashed||RGraph.SVG.isArray(x.trendlineDashed)&&x.trendlineDashed[t.dataset])&&(y=[4,4]),(!0===x.trendlineDotted||RGraph.SVG.isArray(x.trendlineDotted)&&x.trendlineDotted[t.dataset])&&(y=[1,4]),RGraph.SVG.isArray(x.trendlineDashArray)&&(2===x.trendlineDashArray.length&&"number"==typeof x.trendlineDashArray[0]&&"number"==typeof x.trendlineDashArray[1]?y=x.trendlineDashArray:RGraph.SVG.isArray(x.trendlineDashArray)&&RGraph.SVG.isArray(x.trendlineDashArray[t.dataset])&&(y=x.trendlineDashArray[t.dataset]));var y=RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"line",attr:{x1:Math.max(G[0][0],this.coords2[t.dataset][0][0]-a),y1:G[0][1],x2:Math.min(G[1][0],this.coords2[t.dataset][this.coords2[t.dataset].length-1][0]+a),y2:G[1][1],fill:"rgba(0,0,0,0)",stroke:e,"stroke-width":i,"stroke-dasharray":y,class:"rgraph_line_{1}_trendline_{2}".format(this.id,t.dataset),"clip-path":r?"url(#trendline-clip)":""}}),r=this.svg.getElementsByClassName("rgraph_background_grid")[0];this.svg.all.removeChild(y),r.insertAdjacentElement("afterend",y)},this.nullBridge=function(t,e){for(var i=!1,a=0;a<e.length;a++){var r=null,s=null;if(!1===i&&RGraph.SVG.isNumber(e[a])&&(i=!0),RGraph.SVG.isNull(e[a])&&i){r=a-1;for(var l=a+1;l<e.length;++l)if(!RGraph.SVG.isNull(e[l])){var o,s=l;this.coords2[t][r][1]&&(o="M{1} {2} L{3} {4}".format(this.coords2[t][r][0],this.coords2[t][r][1],this.coords2[t][s][0],this.coords2[t][s][1]));RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"path",attr:{d:o,stroke:"string"==typeof x.nullBridgeColors?x.nullBridgeColors:("object"==typeof x.nullBridgeColors&&!RGraph.SVG.isNull(x.nullBridgeColors)&&x.nullBridgeColors[t]?x.nullBridgeColors:x.colors)[t],fill:"transparent","stroke-dasharray":x.nullBridgeDashArray,"stroke-width":"number"==typeof x.nullBridgeLinewidth?x.nullBridgeLinewidth:x.linewidth,"stroke-linecap":this.getLinecap({index:a}),"stroke-linejoin":this.getLinejoin({index:a}),"clip-path":this.isTrace?"url(#trace-effect-clip)":""}});r=null;s=null;break}}}},this.getLinecap=function(t){return"object"==typeof x.linecap&&"string"==typeof x.linecap[t.index]?x.linecap[t.index]:"string"==typeof x.linecap?x.linecap:"round"},this.getLinejoin=function(t){return"object"==typeof x.linejoin&&"string"==typeof x.linejoin[t.index]?x.linejoin[t.index]:"string"==typeof x.linejoin?x.linejoin:"round"},t.options)"string"==typeof i&&this.set(i,t.options[i])};