RGraph=window.RGraph||{isrgraph:!0,isRGraph:!0,rgraph:!0},RGraph.Scatter=function(t){var a;this.data=new Array(t.data.length),this.data=RGraph.arrayClone(t.data),"object"!=typeof t.data||"object"!=typeof t.data[0]||"number"!=typeof t.data[0][0]&&"string"!=typeof t.data[0][0]||(a=RGraph.arrayClone(t.data),t.data=new Array,t.data[0]=RGraph.arrayClone(a),this.data=RGraph.arrayClone(t.data)),RGraph.isArray(this.data[0][0])||(this.data=[this.data]);for(var i=0,s=this.data.length;i<s;++i)for(var e=0,o=this.data[i].length;e<o;++e)"object"!=typeof this.data[i][e]||RGraph.isNull(this.data[i][e])||"string"!=typeof this.data[i][e][0]||(this.data[i][e][0].match(/^[.0-9]+$/)?this.data[i][e][0]=parseFloat(this.data[i][e][0]):""===this.data[i][e][0]&&(this.data[i][e][0]=0)),"object"!=typeof this.data[i][e]||RGraph.isNull(this.data[i][e])||"string"!=typeof this.data[i][e][1]||(this.data[i][e][1].match(/[.0-9]+/)?this.data[i][e][1]=parseFloat(this.data[i][e][1]):""===this.data[i][e][1]&&(this.data[i][e][1]=0));this.id=t.id,this.canvas=document.getElementById(this.id),(this.canvas.__object__=this).context=this.canvas.getContext?this.canvas.getContext("2d"):null,this.max=0,this.coords=[],this.type="scatter",this.isRGraph=!0,this.isrgraph=!0,this.rgraph=!0,this.uid=RGraph.createUID(),this.canvas.uid=this.canvas.uid||RGraph.createUID(),this.colorsParsed=!1,this.coordsText=[],this.coordsBubble=[],this.coords_trendline=[],this.original_colors=[],this.firstDraw=!0,this.properties={backgroundBarsCount:null,backgroundBarsColor1:"rgba(0,0,0,0)",backgroundBarsColor2:"rgba(0,0,0,0)",backgroundHbars:null,backgroundVbars:null,backgroundGrid:!0,backgroundGridLinewidth:1,backgroundGridColor:"#ddd",backgroundGridHsize:20,backgroundGridVsize:20,backgroundGridVlines:!0,backgroundGridHlines:!0,backgroundGridBorder:!0,backgroundGridAutofit:!0,backgroundGridAutofitAlign:!0,backgroundGridHlinesCount:5,backgroundGridVlinesCount:20,backgroundImage:null,backgroundImageStretch:!0,backgroundImageX:null,backgroundImageY:null,backgroundImageW:null,backgroundImageH:null,backgroundImageAlign:null,backgroundColor:null,colors:[],colorsBubbleGraduated:!0,textColor:"black",textFont:"Arial, Verdana, sans-serif",textSize:12,textBold:!1,textItalic:!1,textAccessible:!0,textAccessibleOverflow:"visible",textAccessiblePointerevents:!1,text:null,tooltips:[],tooltipsEffect:"slide",tooltipsEvent:"onmousemove",tooltipsHotspot:3,tooltipsCssClass:"RGraph_tooltip",tooltipsCss:null,tooltipsHighlight:!0,tooltipsCoordsPage:!1,tooltipsFormattedThousand:",",tooltipsFormattedPoint:".",tooltipsFormattedDecimals:0,tooltipsFormattedUnitsPre:"",tooltipsFormattedUnitsPost:"",tooltipsFormattedKeyColors:null,tooltipsFormattedKeyColorsShape:"square",tooltipsFormattedKeyLabels:[],tooltipsFormattedListType:"ul",tooltipsFormattedListItems:null,tooltipsFormattedTableHeaders:null,tooltipsFormattedTableData:null,tooltipsPointer:!0,tooltipsPositionStatic:!0,xaxis:!0,xaxisLinewidth:1,xaxisColor:"black",xaxisTickmarks:!0,xaxisTickmarksLength:3,xaxisTickmarksLastLeft:null,xaxisTickmarksLastRight:null,xaxisTickmarksCount:null,xaxisLabels:null,xaxisLabelsFormattedDecimals:0,xaxisLabelsFormattedPoint:".",xaxisLabelsFormattedThousand:",",xaxisLabelsFormattedUnitsPre:"",xaxisLabelsFormattedUnitsPost:"",xaxisLabelsCount:null,xaxisLabelsSize:null,xaxisLabelsFont:null,xaxisLabelsItalic:null,xaxisLabelsBold:null,xaxisLabelsColor:null,xaxisLabelsOffsetx:0,xaxisLabelsOffsety:0,xaxisLabelsHalign:null,xaxisLabelsValign:null,xaxisLabelsPosition:"section",xaxisLabelsSpecificAlign:"left",xaxisPosition:"bottom",xaxisLabelsAngle:0,xaxisTitle:"",xaxisTitleBold:null,xaxisTitleSize:null,xaxisTitleFont:null,xaxisTitleColor:null,xaxisTitleItalic:null,xaxisTitlePos:null,xaxisTitleOffsetx:0,xaxisTitleOffsety:0,xaxisTitleX:null,xaxisTitleY:null,xaxisTitleHalign:"center",xaxisTitleValign:"top",xaxisScale:!1,xaxisScaleMin:0,xaxisScaleMax:null,xaxisScaleUnitsPre:"",xaxisScaleUnitsPost:"",xaxisScaleLabelsCount:10,xaxisScaleFormatter:null,xaxisScaleDecimals:0,xaxisScaleThousand:",",xaxisScalePoint:".",yaxis:!0,yaxisLinewidth:1,yaxisColor:"black",yaxisTickmarks:!0,yaxisTickmarksCount:null,yaxisTickmarksLastTop:null,yaxisTickmarksLastBottom:null,yaxisTickmarksLength:3,yaxisScale:!0,yaxisScaleMin:0,yaxisScaleMax:null,yaxisScaleUnitsPre:"",yaxisScaleUnitsPost:"",yaxisScaleDecimals:0,yaxisScalePoint:".",yaxisScaleThousand:",",yaxisScaleRound:!1,yaxisScaleInvert:!1,yaxisScaleFormatter:null,yaxisLabelsSpecific:null,yaxisLabelsCount:5,yaxisLabelsOffsetx:0,yaxisLabelsOffsety:0,yaxisLabelsHalign:null,yaxisLabelsValign:null,yaxisLabelsFont:null,yaxisLabelsSize:null,yaxisLabelsColor:null,yaxisLabelsBold:null,yaxisLabelsItalic:null,yaxisLabelsPosition:"edge",yaxisPosition:"left",yaxisTitle:"",yaxisTitleBold:null,yaxisTitleSize:null,yaxisTitleFont:null,yaxisTitleColor:null,yaxisTitleItalic:null,yaxisTitlePos:null,yaxisTitleX:null,yaxisTitleY:null,yaxisTitleOffsetx:0,yaxisTitleOffsety:0,yaxisTitleHalign:null,yaxisTitleValign:null,yaxisTitleAccessible:null,tickmarksStyle:"cross",tickmarksStyleImageHalign:"center",tickmarksStyleImageValign:"center",tickmarksStyleImageOffsetx:0,tickmarksStyleImageOffsety:0,tickmarksSize:5,marginLeft:35,marginRight:35,marginTop:35,marginBottom:35,title:"",titleBackground:null,titleHpos:null,titleVpos:null,titleBold:null,titleItalic:null,titleFont:null,titleSize:null,titleX:null,titleY:null,titleHalign:null,titleValign:null,titleOffsetx:0,titleOffsety:0,labelsIngraph:null,labelsIngraphFont:null,labelsIngraphSize:null,labelsIngraphColor:null,labelsIngraphBold:null,labelsIngraphItalic:null,labelsIngraphOffsetx:0,labelsIngraphOffsety:0,labelsAbove:!1,labelsAboveSize:null,labelsAboveFont:null,labelsAboveColor:null,labelsAboveBold:null,labelsAboveItalic:null,labelsAboveDecimals:0,labelsAboveOffsetx:0,labelsAboveOffsety:0,contextmenu:null,colorsDefault:"black",crosshairs:!1,crosshairsHline:!0,crosshairsVline:!0,crosshairsColor:"#333",crosshairsLinewidth:1,crosshairsCoords:!1,crosshairsCoordsFixed:!0,crosshairsCoordsLabelsX:"X",crosshairsCoordsLabelsY:"Y",crosshairsCoordsFormatterX:null,crosshairsCoordsFormatterY:null,annotatable:!1,annotatableColor:"black",annotatableLinewidth:1,line:!1,lineLinewidth:1,lineColors:["green","red","blue","orange","pink","brown","black","gray"],lineShadowColor:"rgba(0,0,0,0)",lineShadowBlur:2,lineShadowOffsetx:3,lineShadowOffsety:3,lineStepped:!1,lineVisible:!0,key:null,keyBackground:"white",keyPosition:"graph",keyHalign:"right",keyShadow:!1,keyShadowColor:"#666",keyShadowBlur:3,keyShadowOffsetx:2,keyShadowOffsety:2,keyPositionGutterBoxed:!1,keyPositionX:null,keyPositionY:null,keyInteractive:!1,keyInteractiveHighlightChartFill:"rgba(255,0,0,0.9)",keyInteractiveHighlightLabel:"rgba(255,0,0,0.2)",keyColorShape:"square",keyRounded:!0,keyLinewidth:1,keyColors:null,keyLabelsColor:null,keyLabelsFont:null,keyLabelsSize:null,keyLabelsBold:null,keyLabelsItalic:null,keyLabelsOffsetx:0,keyLabelsOffsety:0,boxplotWidth:10,boxplotCapped:!0,trendline:!1,trendlineColors:["gray"],trendlineLinewidth:1,trendlineMargin:15,trendlineDashed:!0,trendlineDotted:!1,trendlineDashArray:null,trendlineClipping:null,highlightStroke:"rgba(0,0,0,0)",highlightFill:"rgba(255,255,255,0.7)",bubbleMin:0,bubbleMax:null,bubbleWidth:null,bubbleData:null,clearto:"rgba(0,0,0,0)",outofbounds:!1,animationTrace:!1,animationTraceClip:1};for(i=0;i<this.data.length;++i)for(e=0;e<this.data[i].length;++e)RGraph.isNull(this.data[i][e])&&(this.data[i][e]=[]),this.data[i][e]&&"string"==typeof this.data[i][e][0]&&(this.data[i][e][0]=RGraph.parseDate(this.data[i][e][0]));this.data_arr=[];for(i=0;i<this.data.length;++i)for(e=0;e<this.data[i].length;++e)this.data_arr.push(this.data[i][e]);for(var G,i=0;i<this.data_arr.length;++i)this["$"+i]={};this.canvas?(G=this.properties,this.path=RGraph.pathObjectFunction,RGraph.Effects&&"function"==typeof RGraph.Effects.decorate&&RGraph.Effects.decorate(this),this.responsive=RGraph.responsive,this.set=function(t){var a=void 0===arguments[1]?null:arguments[1];if(1!==arguments.length||"object"!=typeof t)return G[t]=a,"tooltips"===t&&"string"==typeof a&&this.populateTooltips(),this;for(i in t)"string"==typeof i&&this.set(i,t[i]);return this},this.get=function(t){return G[t]},this.draw=function(){if("string"==typeof G.backgroundImage&&RGraph.drawBackgroundImage(this),RGraph.fireCustomEvent(this,"onbeforedraw"),this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.coordsText=[],G.xaxisLabels&&G.xaxisLabels.length){"string"==typeof G.xaxisLabels&&(G.xaxisLabels=RGraph.arrayPad({array:[],length:G.xaxisLabelsCount,value:G.xaxisLabels}));for(var t,a=0;a<G.xaxisLabels.length;++a)t="object"==typeof G.xaxisLabels[a]&&2===G.xaxisLabels[a].length?G.xaxisLabels[a][0]:G.xaxisLabels[a],t=RGraph.labelSubstitution({object:this,text:t,index:a,value:this.data[0][a],decimals:G.xaxisLabelsFormattedDecimals||0,unitsPre:G.xaxisLabelsFormattedUnitsPre||"",unitsPost:G.xaxisLabelsFormattedUnitsPost||"",thousand:G.xaxisLabelsFormattedThousand||",",point:G.xaxisLabelsFormattedPoint||"."}),"object"==typeof G.xaxisLabels[a]&&2===G.xaxisLabels[a].length?G.xaxisLabels[a][0]=t:G.xaxisLabels[a]=t}this.marginLeft=G.marginLeft,this.marginRight=G.marginRight,this.marginTop=G.marginTop,this.marginBottom=G.marginBottom;this.hasTooltips=!1;this.coords=[],"string"==typeof G.xaxisScaleMin&&(G.xaxisScaleMin=RGraph.parseDate(G.xaxisScaleMin)),"string"==typeof G.xaxisScaleMax&&(G.xaxisScaleMax=RGraph.parseDate(G.xaxisScaleMax)),this.set("tooltips",[]);for(var a=0,i=this.data.length;a<i;a+=1)for(var s=0,e=this.data[a].length;s<e;s+=1)this.data[a][s]&&this.data[a][s][3]?(G.tooltips.push(this.data[a][s][3]),this.hasTooltips=!0):G.tooltips.push(null);if(this.max=0,"number"==typeof G.yaxisScaleMax){this.max=G.yaxisScaleMax,this.min=G.yaxisScaleMin||0,this.scale2=RGraph.getScale({object:this,options:{"scale.max":this.max,"scale.min":this.min,"scale.strict":!0,"scale.thousand":G.yaxisScaleThousand,"scale.point":G.yaxisScalePoint,"scale.decimals":G.yaxisScaleDecimals,"scale.labels.count":G.yaxisLabelsCount,"scale.round":G.yaxisScaleRound,"scale.units.pre":G.yaxisScaleUnitsPre,"scale.units.post":G.yaxisScaleUnitsPost}}),this.max=this.scale2.max,this.min=this.scale2.min;G.yaxisScaleDecimals}else{a=0,s=0;for(a=0,i=this.data.length;a<i;a+=1)for(s=0,e=this.data[a].length;s<e;s+=1)RGraph.isNull(this.data[a][s])||null==this.data[a][s][1]||(this.max=Math.max(this.max,"object"==typeof this.data[a][s][1]?RGraph.arrayMax(this.data[a][s][1]):Math.abs(this.data[a][s][1])));this.min=G.yaxisScaleMin||0,this.scale2=RGraph.getScale({object:this,options:{"scale.max":this.max,"scale.min":this.min,"scale.thousand":G.yaxisScaleThousand,"scale.point":G.yaxisScalePoint,"scale.decimals":G.yaxisScaleDecimals,"scale.labels.count":G.yaxisLabelsCount,"scale.round":G.yaxisScaleRound,"scale.units.pre":G.yaxisScaleUnitsPre,"scale.units.post":G.yaxisScaleUnitsPost}}),this.max=this.scale2.max,this.min=this.scale2.min}if(this.grapharea=this.canvas.height-this.marginTop-this.marginBottom,RGraph.Background.draw(this),G.backgroundHbars&&G.backgroundHbars.length&&RGraph.drawBars(this),G.backgroundVbars&&G.backgroundVbars.length&&this.drawVBars(),G.xaxisScaleMax)o=G.xaxisScaleMax,r=G.xaxisScaleMin;else for(var o=0,r=G.xaxisScaleMin,l=0,i=this.data.length;l<i;l+=1)for(var n=0,e=this.data[l].length;n<e;n+=1)o=Math.max(o,this.data[l][n][0]);for(G.xaxisScale&&(this.xscale2=RGraph.getScale({object:this,options:{"scale.max":o,"scale.min":r,"scale.decimals":G.xaxisScaleDecimals,"scale.point":G.xaxisScalePoint,"scale.thousand":G.xaxisScaleThousand,"scale.units.pre":G.xaxisScaleUnitsPre,"scale.units.post":G.xaxisScaleUnitsPost,"scale.labels.count":G.xaxisLabelsCount,"scale.strict":!0}}),this.set("xaxisScaleMax",this.xscale2.max)),this.drawAxes(),this.drawLabels(),G.animationTrace&&(this.context.save(),this.context.beginPath(),this.context.rect(0,0,this.canvas.width*G.animationTraceClip,this.canvas.height),this.context.clip()),a=0;a<this.data.length;++a)this.drawMarks(a),RGraph.isArray(G.bubbleData)&&this.drawBubble(a),this.context.shadowColor=G.lineShadowColor,this.context.shadowOffsetX=G.lineShadowOffsetx,this.context.shadowOffsetY=G.lineShadowOffsety,this.context.shadowBlur=G.lineShadowBlur,this.drawLine(a),RGraph.noShadow(this);if(G.line)for(a=0,i=this.data.length;a<i;a+=1)this.drawMarks(a);if(G.animationTrace&&this.context.restore(),G.trendline)for(a=0;a<this.data.length;++a)(!0===G.trendline||"object"==typeof G.trendline&&!0===G.trendline[a])&&this.drawTrendline(a);return G.contextmenu&&RGraph.showContext(this),G.key&&G.key.length&&RGraph.drawKey(this,G.key,G.lineColors),G.labelsAbove&&this.drawAboveLabels(),this.drawInGraphLabels(this),RGraph.addCustomText(this),RGraph.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,RGraph.fireCustomEvent(this,"onfirstdraw"),this.firstDrawFunc()),RGraph.fireCustomEvent(this,"ondraw"),this},this.drawAxes=function(){RGraph.drawXAxis(this),RGraph.drawYAxis(this),this.context.lineWidth=1},this.drawLabels=function(){},this.drawMarks=function(t){this.coords[t]=[];for(var a=G.xaxisScaleMax,i=G.colorsDefault,s=0,e=this.data[t].length;s<e;s+=1){var o,r,l,n,h=this.data[t];RGraph.isNull(h[s])||(o=h[s][0],r=h[s][1],l=h[s][2]||i,n=h[s]&&h[s][3]?h[s][3]:null,this.drawMark(t,o,r,a,this.scale2.max,l,n,this.coords[t],h,s))}},this.drawMark=function(t,a,i,s,e,o,r,l,n,h){var c,d,x,g,u,p,b,f,y,m,v,S=G.tickmarksStyle,C=G.tickmarksSize,k=G.xaxisScaleMin;a=(a-k)/(s-k)*(this.canvas.width-this.marginLeft-this.marginRight);S&&"object"==typeof S&&(S=S[t]),k="object"==typeof C?(C=C[t])/2:C/2,i&&"object"==typeof i&&"number"==typeof i[0]&&"number"==typeof i[1]&&"number"==typeof i[2]&&"number"==typeof i[3]&&"number"==typeof i[4]?(this.set("boxplot",!0),c=this.getYCoord(i[0],G.outofbounds),d=this.getYCoord(i[1],G.outofbounds),x=this.getYCoord(i[2],G.outofbounds),g=this.getYCoord(i[3],G.outofbounds),u=this.getYCoord(i[4],G.outofbounds),p=i[5],b=i[6],y="number"==typeof i[7]?i[7]:G.boxplotWidth):f=this.getYCoord(i,G.outofbounds),a+=this.marginLeft,this.context.beginPath(),this.context.strokeStyle=o,G.boxplot&&(m=(y=y/G.xaxisScaleMax*(this.canvas.width-this.marginLeft-this.marginRight))/2,G.lineVisible&&(this.context.beginPath(),"string"==typeof i[8]&&(this.context.strokeStyle=i[8]),this.context.strokeRect(a-m,d,y,g-d),p&&(this.context.fillStyle=p,this.context.fillRect(a-m,d,y,x-d)),b&&(this.context.fillStyle=b,this.context.fillRect(a-m,x,y,g-x)),this.context.stroke(),this.context.beginPath(),G.boxplotCapped&&(this.context.moveTo(a-m,Math.round(c)),this.context.lineTo(a+m,Math.round(c))),this.context.moveTo(Math.round(a),c),this.context.lineTo(Math.round(a),d),G.boxplotCapped&&(this.context.moveTo(a-m,Math.round(u)),this.context.lineTo(a+m,Math.round(u))),this.context.moveTo(Math.round(a),u),this.context.lineTo(Math.round(a),g),this.context.stroke())),!G.lineVisible||"number"!=typeof i||c||d||x||g||u||("circle"==S?(this.context.arc(a,f,k,0,6.28,0),this.context.fillStyle=o,this.context.fill()):"plus"==S?(this.context.moveTo(a,f-k),this.context.lineTo(a,f+k),this.context.moveTo(a-k,f),this.context.lineTo(a+k,f),this.context.stroke()):"square"==S?(this.context.strokeStyle=o,this.context.fillStyle=o,this.context.fillRect(a-k,f-k,C,C)):"cross"==S?(this.context.moveTo(a-k,f-k),this.context.lineTo(a+k,f+k),this.context.moveTo(a+k,f-k),this.context.lineTo(a-k,f+k),this.context.stroke()):"diamond"==S?(this.context.fillStyle=this.context.strokeStyle,this.context.moveTo(a,f-k),this.context.lineTo(a+k,f),this.context.lineTo(a,f+k),this.context.lineTo(a-k,f),this.context.lineTo(a,f-k),this.context.fill(),this.context.stroke()):"function"==typeof S?(C=this.canvas.width-this.marginLeft-this.marginRight,k=this.canvas.height-this.marginTop-this.marginBottom,C=(a-this.marginLeft)/C*s,k=(k-(f-this.marginTop))/k*e,S(this,n,a,f,C,k,s,e,o,t,h)):"string"!=typeof S||"image:"!==S.substr(0,6)&&"data:"!==S.substr(0,5)&&"/"!==S.substr(0,1)&&"../"!==S.substr(0,3)&&"images/"!==S.substr(0,7)?null===S||alert("[SCATTER] ("+this.id+") Unknown tickmark style: "+S):(h=new Image,"image:"===S.substr(0,6)?h.src=S.substr(6):h.src=S,v=this,h.onload=function(){"center"===G.tickmarksStyleImageHalign&&(a-=this.width/2),"right"===G.tickmarksStyleImageHalign&&(a-=this.width),"center"===G.tickmarksStyleImageValign&&(f-=this.height/2),"bottom"===G.tickmarksStyleImageValign&&(f-=this.height),a+=G.tickmarksStyleImageOffsetx,f+=G.tickmarksStyleImageOffsety,v.context.drawImage(this,a,f)})),G.boxplot&&"number"==typeof c&&"number"==typeof d&&"number"==typeof x&&"number"==typeof g&&"number"==typeof u&&(a=[a-m,a+m],f=[c,d,x,g,u]),l.push([a,f,r])},this.drawLine=function(t){if("boolean"!=typeof G.lineVisible||0!=G.lineVisible){if(G.line&&2<=this.coords[t].length){G.lineDash&&"function"==typeof this.context.setLineDash&&this.context.setLineDash(G.lineDash),this.context.lineCap="round",this.context.lineJoin="round",this.context.lineWidth=this.getLineWidth(t),this.context.strokeStyle=G.lineColors[t],this.context.beginPath();for(var a,i=null,s=0,e=this.coords[t].length;s<e;s+=1){var o,r=this.coords[t][s][0],l=this.coords[t][s][1];0<s&&(i=this.coords[t][s-1][1]),a=l,0==s||RGraph.isNull(i)||RGraph.isNull(a)?this.context.moveTo(r,l):(("boolean"==typeof(o=G.lineStepped)&&o||"object"==typeof o&&o[t])&&this.context.lineTo(this.coords[t][s][0],this.coords[t][s-1][1]),this.context.lineTo(r,l))}this.context.stroke(),G.lineDash&&"function"==typeof this.context.setLineDash&&this.context.setLineDash([1,0])}this.context.lineWidth=1}},this.getLineWidth=function(t){var a=G.lineLinewidth;return"number"==typeof a?a:"object"==typeof a?a[t]||a[0]:void 0},this.drawVBars=function(){var t=G.backgroundVbars,a=this.canvas.width-this.marginLeft-this.marginRight;if(t)for(var i=G.xaxisScaleMax,s=G.xaxisScaleMin,e=0,o=t.length;e<o;e+=1){var r=t[e];"string"==typeof r[0]&&(r[0]=RGraph.parseDate(r[0])),"string"==typeof r[1]&&(r[1]=RGraph.parseDate(r[1])-r[0]);var l=(r[0]-s)/(i-s)*a+this.marginLeft,n=r[1]/(i-s)*a;this.context.fillStyle=r[2],this.context.fillRect(l,this.marginTop,n,this.canvas.height-this.marginTop-this.marginBottom)}},this.drawInGraphLabels=function(t){var a=t.get("labelsIngraph"),i=[];if(a){for(var s=RGraph.getTextConf({object:this,prefix:"labelsIngraph"}),e=0,o=a.length;e<o;e+=1)if("number"==typeof a[e])for(var r=0;r<a[e];++r)i.push(null);else"string"==typeof a[e]||"object"==typeof a[e]?i.push(a[e]):i.push("");if(RGraph.noShadow(t),i&&0<i.length)for(var e=0,l=0;l<t.coords.length;++l)for(var n,h,c,d,x,g=0;g<t.coords[l].length;++g)i[e]&&(n=t.coords[l][g][0]+G.labelsIngraphOffsetx,x=(h=t.coords[l][g][1]+G.labelsIngraphOffsety)-5-(c="number"==typeof i[e][4]?i[e][4]:25),this.context.moveTo(d=n,h-5),this.context.lineTo(n,h-5-c),this.context.stroke(),this.context.beginPath(),this.context.moveTo(n,h-5),this.context.lineTo(n-3,h-10),this.context.lineTo(n+3,h-10),this.context.closePath(),this.context.beginPath(),this.context.fillStyle="object"==typeof i[e]&&"string"==typeof i[e][1]?i[e][1]:"black",RGraph.text({object:this,font:s.font,size:s.size,color:s.color,bold:s.bold,italic:s.italic,x:d,y:x,text:"object"==typeof i[e]&&"string"==typeof i[e][0]?i[e][0]:i[e],valign:"bottom",halign:"center",bounding:!0,boundingFill:"object"==typeof i[e]&&"string"==typeof i[e][2]?i[e][2]:"white",tag:"labels.ingraph"}),this.context.fill()),e++}},this.getShape=function(t){for(var t=RGraph.getMouseXY(t),a=t[0],i=t[1],s=G.tooltipsHotspot,e=0,o=this.coords.length;e<o;++e)for(var r=0,l=this.coords[e].length;r<l;++r){var n=this.coords[e][r][0],h=this.coords[e][r][1],c=this.data[e][r][3];if("number"==typeof h){if(a<=n+s&&n-s<=a&&i<=h+s&&h-s<=i){RGraph.parseTooltipText&&(c=RGraph.parseTooltipText(this.data[e][r][3],0));for(var d=r,x=e-1;0<=x;--x)d+=this.data[x].length;return{object:this,x:n,y:h,tooltip:"string"==typeof c?c:null,dataset:e,index:r,sequentialIndex:d}}}else if(!RGraph.isNull(h)){var g=this.data[e][r];G.boxplotWidth;if("number"==typeof g[1][7]&&g[1][7],"object"==typeof n&&a>n[0]&&a<n[1]&&i>h[1]&&i<h[3]){for(c=RGraph.parseTooltipText(this.data[e][r][3],0),d=r,x=e-1;0<=x;--x)d+=this.data[x].length;return{object:this,x:n[0],y:h[3],width:Math.abs(n[1]-n[0]),height:Math.abs(h[1]-h[3]),dataset:e,index:r,sequentialIndex:d,tooltip:c}}}}},this.drawAboveLabels=function(){for(var t=G.labelsAboveSize,a=(G.textFont,G.yaxisScaleUnitsPre,G.yaxisScaleUnitsPost,RGraph.getTextConf({object:this,prefix:"labelsAbove"})),i=0,s=this.coords.length;i<s;++i)for(var e=0,o=this.coords[i].length;e<o;++e){var r=this.data[i][e][0],l=this.data[i][e][1];if(!RGraph.isNull(l)){if(RGraph.isArray(l)){for(var n=0,h=0;h<l;++h)n=Math.max(n,l[h]);l=n}var c=this.coords[i][e][0],d=this.coords[i][e][1],x=G.labelsAboveFormatterX,g=G.labelsAboveFormatterY;RGraph.text({object:this,font:a.font,size:a.size,color:a.color,bold:a.bold,italic:a.italic,x:c+G.labelsAboveOffsetx,y:d-5-t+G.labelsAboveOffsety,text:("function"==typeof x?x(this,r):r.toFixed(G.labelsAboveDecimals))+", "+("function"==typeof g?g(this,l):l.toFixed(G.labelsAboveDecimals)),valign:"bottom",halign:"center",bounding:!0,boundingFill:"rgba(255, 255, 255, 0.7)",boundingStroke:"rgba(0,0,0,0.1)",tag:"labels.above"})}}},this.getYValue=function(t){var a,i,s;return(i=2==t.length?(a=t[0],t[1]):(a=(i=RGraph.getMouseXY(t))[0],i[1]))<this.marginTop||i>this.canvas.height-this.marginBottom||a<this.marginLeft||a>this.canvas.width-this.marginRight?null:("center"==G.xaxisPosition?(s=(this.grapharea/2-(i-this.marginTop))/this.grapharea*(this.max-this.min),0<=(s*=2)?(s+=this.min,G.yaxisScaleInvert&&(s-=this.min,s=this.max-s)):(s-=this.min,G.yaxisScaleInvert&&(s+=this.min,s=this.max+s,s*=-1))):(s=(this.grapharea-(i-this.marginTop))/this.grapharea*(this.max-this.min),s+=this.min,G.yaxisScaleInvert&&(s-=this.min,s=this.max-s)),s)},this.getXValue=function(t){var a;if((i=2==t.length?(a=t[0],t[1]):(a=(i=RGraph.getMouseXY(t))[0],i[1]))<this.marginTop||i>this.canvas.height-this.marginBottom||a<this.marginLeft||a>this.canvas.width-this.marginRight)return null;var i=this.canvas.width-this.marginLeft-this.marginRight,i=(a-this.marginLeft)/i*(G.xaxisScaleMax-G.xaxisScaleMin);return i+=G.xaxisScaleMin},this.highlight=function(t){var a;"function"==typeof G.highlightStyle?G.highlightStyle(t):"invert"===G.highlightStyle?(a=G.tickmarksSize,this.path("sa b r % % % % cl",G.marginLeft-a,G.marginTop-a,this.canvas.width-G.marginLeft-G.marginRight+a+a,this.canvas.height-G.marginTop-G.marginBottom+a+a),this.path("b m % % a % % 25 4.71 4.72 true l % % l % % l % % l % % l % % c f %",t.x,G.marginTop,t.x,t.y,t.x,0,this.canvas.width,0,this.canvas.width,this.canvas.height,0,this.canvas.height,0,0,G.highlightFill),this.path("b a % % 25 0 6.29 false s % rs",t.x,t.y,G.highlightStroke)):t.height?RGraph.Highlight.rect(this,t):RGraph.Highlight.point(this,t)},this.getObjectByXY=function(t){t=RGraph.getMouseXY(t);if(t[0]>this.marginLeft-3&&t[0]<this.canvas.width-this.marginRight+3&&t[1]>this.marginTop-3&&t[1]<this.canvas.height-this.marginBottom+3)return this},this.getXCoord=function(t){if("number"!=typeof t&&"string"!=typeof t)return null;"string"==typeof t&&(t=RGraph.parseDate(t));var a,i=G.xaxisScaleMin,s=G.xaxisScaleMax;return t<i||s<t?null:("right"==G.yaxisPosition?(a=(t-i)/(s-i)*(this.canvas.width-this.marginLeft-this.marginRight),a=this.canvas.width-this.marginRight-a):(a=(t-i)/(s-i)*(this.canvas.width-this.marginLeft-this.marginRight),a+=this.marginLeft),a)},this.getYCoord=function(t){var a=arguments[1];if("number"!=typeof t)return null;var i=G.yaxisScaleInvert,s=G.xaxisPosition,e=this.canvas.height-this.marginTop-this.marginBottom,o=e/2,r=this.max,l=G.yaxisScaleMin,n=0;return r<t&&!a||"bottom"===G.xaxisPosition&&t<l&&!a||"center"===G.xaxisPosition&&(0<t&&t<l||t<0&&-1*l<t)?null:("center"==s?(n=(Math.abs(t)-l)/(r-l)*o,i&&(n=o-n),t<0?(n+=this.marginTop,n+=o):(n=o-n,n+=this.marginTop)):(n=(t-l)/(r-l)*e,n=this.marginTop+(n=e-(n=i?e-n:n))),n)},this.drawBubble=function(t){var a=RGraph.isArray(G.bubbleData)&&RGraph.isArray(G.bubbleData[t])?G.bubbleData[t]:G.bubbleData,i=RGraph.isArray(G.bubbleMin)?G.bubbleMin[t]:G.bubbleMin,s=RGraph.isArray(G.bubbleMax)?G.bubbleMax[t]:G.bubbleMax,e=RGraph.isArray(G.bubbleWidth)?G.bubbleWidth[t]:G.bubbleWidth;this.coordsBubble[t]=[];for(var o=0;o<this.coords[t].length;++o){a[o]=Math.max(a[o],i),a[o]=Math.min(a[o],s);var r=(a[o]-i)/(s-i)*e/2,l=this.data[t][o][2]||G.colorsDefault;this.context.beginPath(),this.context.fillStyle=RGraph.radialGradient({object:this,x1:this.coords[t][o][0]+r/2.5,y1:this.coords[t][o][1]-r/2.5,r1:0,x2:this.coords[t][o][0]+r/2.5,y2:this.coords[t][o][1]-r/2.5,r2:r,colors:[G.colorsBubbleGraduated?"white":l,l]}),this.context.arc(this.coords[t][o][0],this.coords[t][o][1],r,0,RGraph.TWOPI,!1),this.context.fill(),this.coordsBubble[t][o]=[this.coords[t][o][0],this.coords[t][o][1],r,this.context.fillStyle]}},this.parseColors=function(){0===this.original_colors.length&&(this.original_colors.data=RGraph.arrayClone(this.data),this.original_colors.backgroundVbars=RGraph.arrayClone(G.backgroundVbars),this.original_colors.backgroundHbars=RGraph.arrayClone(G.backgroundHbars),this.original_colors.lineColors=RGraph.arrayClone(G.lineColors),this.original_colors.colorsDefault=RGraph.arrayClone(G.colorsDefault),this.original_colors.crosshairsColor=RGraph.arrayClone(G.crosshairsColor),this.original_colors.highlightStroke=RGraph.arrayClone(G.highlightStroke),this.original_colors.highlightFill=RGraph.arrayClone(G.highlightFill),this.original_colors.backgroundBarsColor1=RGraph.arrayClone(G.backgroundBarsColor1),this.original_colors.backgroundBarsColor2=RGraph.arrayClone(G.backgroundBarsColor2),this.original_colors.backgroundGridColor=RGraph.arrayClone(G.backgroundGridColor),this.original_colors.backgroundColor=RGraph.arrayClone(G.backgroundColor),this.original_colors.axesColor=RGraph.arrayClone(G.axesColor));var t=this.data;if(t)for(var a=0;a<t.length;++a)for(var i=0;i<this.data[a].length;++i)this.data[a][i]&&"object"==typeof this.data[a][i][1]&&this.data[a][i][1]&&("string"==typeof this.data[a][i][1][5]&&(this.data[a][i][1][5]=this.parseSingleColorForGradient(this.data[a][i][1][5])),"string"==typeof this.data[a][i][1][6]&&(this.data[a][i][1][6]=this.parseSingleColorForGradient(this.data[a][i][1][6]))),RGraph.isNull(this.data[a][i])||(this.data[a][i][2]=this.parseSingleColorForGradient(this.data[a][i][2]));var s=G.backgroundHbars;if(s)for(i=0;i<s.length;++i)s[i][2]=this.parseSingleColorForGradient(s[i][2]);var e=G.backgroundVbars;if(e)for(i=0;i<e.length;++i)e[i][2]=this.parseSingleColorForGradient(e[i][2]);var o=G.lineColors;if(o)for(i=0;i<o.length;++i)o[i]=this.parseSingleColorForGradient(o[i]);G.colorsDefault=this.parseSingleColorForGradient(G.colorsDefault),G.crosshairsColor=this.parseSingleColorForGradient(G.crosshairsColor),G.highlightStroke=this.parseSingleColorForGradient(G.highlightStroke),G.highlightFill=this.parseSingleColorForGradient(G.highlightFill),G.backgroundBarsColor1=this.parseSingleColorForGradient(G.backgroundBarsColor1),G.backgroundBarsColor2=this.parseSingleColorForGradient(G.backgroundBarsColor2),G.backgroundGridColor=this.parseSingleColorForGradient(G.backgroundGridColor),G.backgroundColor=this.parseSingleColorForGradient(G.backgroundColor),G.axesColor=this.parseSingleColorForGradient(G.axesColor)},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return RGraph.parseJSONGradient({object:this,def:RegExp.$1});if(t.match(/^gradient\(({.*})\)$/i))return RGraph.parseJSONGradient({object:this,def:RegExp.$1});var a=RegExp.$1.split(":"),i=this.context.createLinearGradient(0,this.canvas.height-G.marginBottom,0,G.marginTop),s=1/(a.length-1);i.addColorStop(0,RGraph.trim(a[0]));for(var e=1;e<a.length;++e)i.addColorStop(e*s,RGraph.trim(a[e]))}return i||t},this.interactiveKeyHighlight=function(t){var s;this.coords&&this.coords[t]&&this.coords[t].length&&(s=this).coords[t].forEach(function(t,a,i){s.context.beginPath(),s.context.fillStyle=G.keyInteractiveHighlightChartFill,s.context.arc(t[0],t[1],G.tickmarksSize+3,0,RGraph.TWOPI,!1),s.context.fill()})},this.on=function(t,a){return"function"!=typeof this[t="on"!==t.substr(0,2)?"on"+t:t]?this[t]=a:RGraph.addCustomEventListener(this,t,a),this},this.firstDrawFunc=function(){},this.exec=function(t){return t(this),this},this.drawTrendline=function(){var t=RGraph.getArgs(arguments,"dataset"),a=G.trendlineColor,i=G.trendlineLinewidth,s=G.trendlineMargin;"object"==typeof(a=RGraph.isArray(G.trendlineColors)?G.trendlineColors:a)&&a[t.dataset]?a=a[t.dataset]:"object"==typeof a&&(a="gray"),"object"==typeof i&&"number"==typeof i[t.dataset]?i=i[t.dataset]:"object"==typeof i&&(i=1),"object"==typeof s&&"number"==typeof s[t.dataset]?s=s[t.dataset]:"object"==typeof s&&(s=25);for(var e=0,o=0,r=0;e<this.data[t.dataset].length;++e)o+=this.data[t.dataset][e][0],r+=this.data[t.dataset][e][1];for(var l=o/this.data[t.dataset].length,n=r/this.data[t.dataset].length,e=0,h=[],c=[],d=[],x=[];e<this.data[t.dataset].length;++e)h[e]=this.data[t.dataset][e][0]-l,c[e]=this.data[t.dataset][e][1]-n,d[e]=h[e]*c[e],x[e]=h[e]*h[e];var g=RGraph.arraySum(d)/RGraph.arraySum(x),u=n-g*l;coords=[[G.xaxisScaleMin,g*G.xaxisScaleMin+u],[G.xaxisScaleMax,g*G.xaxisScaleMax+u]],G.trendlineDashed&&this.context.setLineDash([4,4]),G.trendlineDotted&&this.context.setLineDash([1,4]),RGraph.isNull(G.trendlineDashArray)||"object"!=typeof G.trendlineDashArray||this.context.setLineDash(G.trendlineDashArray);for(var e=0,p=[],b=[];e<this.data[t.dataset].length;++e)"number"==typeof this.data[t.dataset][e][0]&&p.push(this.data[t.dataset][e][0]),"number"==typeof this.data[t.dataset][e][1]&&b.push(this.data[t.dataset][e][1]);var f=RGraph.arrayMin({array:p}),y=RGraph.arrayMin({array:b}),g=RGraph.arrayMax({array:p}),u=RGraph.arrayMax({array:b}),f=this.getXCoord(f),y=this.getYCoord(y,G.outofbounds),g=this.getXCoord(g),u=this.getYCoord(u,G.outofbounds);this.path(" lw % sa b r % % % % cl b r % % % % cl b m % % l % % s % rs",i,G.marginLeft+s,G.marginTop+s,this.canvas.width-G.marginLeft-G.marginRight-s-s,this.canvas.height-G.marginTop-G.marginBottom-s-s,!1===G.trendlineClipping?0:f-25,!1===G.trendlineClipping?0:u-25,!1===G.trendlineClipping?this.canvas.width:g-f+25+25,!1===G.trendlineClipping?this.canvas.height:y-u+25+25,this.getXCoord(coords[0][0]),this.getYCoord(coords[0][1],!0),this.getXCoord(coords[1][0]),this.getYCoord(coords[1][1],!0),a),this.context.setLineDash([5,0])},this.trace=function(){var a=this,i=arguments[2],s=(arguments[0]||{}).frames||30,e=0,i=arguments[1]||function(){};return a.set("animationTrace",!0),a.set("animationTraceClip",0),function t(){RGraph.clear(a.canvas),RGraph.redrawCanvas(a.canvas),e++<s?(a.set("animationTraceClip",e/s),RGraph.Effects.updateCanvas(t)):i(a)}(),this},this.explode=function(){var s=this,e=arguments[2],t=arguments[0]||{},o=t.frames||15,r=0,e=arguments[1]||function(){},l=this.properties.xaxisScaleMax/2,n=0,h=1/o,c=RGraph.clone(this.data);return this.draw(),this.set("yaxisScaleMax",this.scale2.max),l="left"===t.originx?0:"right"===t.originx?this.properties.xaxisScaleMax:this.properties.xaxisScaleMax/2,n="center"===t.originy?this.scale2.max/2:"top"===t.originy?this.scale2.max:0,function t(){RGraph.clear(s.canvas);for(var a=0;a<s.data.length;++a)for(var i=0;i<s.data[a].length;++i)s.data[a][i][0]=l+(c[a][i][0]-l)*h*r,s.data[a][i][1]=n+(c[a][i][1]-n)*h*r;RGraph.redrawCanvas(s.canvas),r++<o?RGraph.Effects.updateCanvas(t):(RGraph.redrawCanvas(s.canvas),e(s))}(),this},this.resetColorsToOriginalValues=function(){for(var t=0,a=this.original_colors.data.length;t<a;++t)for(var i=0,s=this.original_colors.data[t].length;i<s;++i)this.data[t][i][2]=RGraph.arrayClone(this.original_colors.data[t][i][2]),"object"==typeof this.data[t][i][1]&&(this.data[t][i][1][5]=RGraph.arrayClone(this.original_colors.data[t][i][1][5]),this.data[t][i][1][6]=RGraph.arrayClone(this.original_colors.data[t][i][1][6]))},this.populateTooltips=function(){for(var t=0;t<this.data.length;++t)for(var a=0;a<this.data[t].length;++a)this.data[t][a][3]=G.tooltips},this.tooltipSubstitutions=function(t){var a=RGraph.sequentialIndexToGrouped(t.index,this.data);return{index:a[1],dataset:a[0],sequentialIndex:t.index,value:this.data[a[0]][a[1]][1],values:[this.data[a[0]][a[1]][1]]}},this.tooltipsFormattedCustom=function(t,a){var i;return RGraph.isNull(G.tooltipsFormattedKeyColors)||"object"!=typeof G.tooltipsFormattedKeyColors||"string"!=typeof G.tooltipsFormattedKeyColors[t.dataset]||(i=G.tooltipsFormattedKeyColors[t.dataset]),this.data[t.dataset][t.index][2]&&(i=this.data[t.dataset][t.index][2]),{label:G.tooltipsFormattedKeyLabels[t.index]||"",color:i}},this.positionTooltipStatic=function(t){var a=t.object,i=(t.event,t.tooltip),s=(t.index,RGraph.getCanvasXY(a.canvas)),e=RGraph.sequentialIndexToGrouped(t.index,this.data),e=this.coords[e[0]][e[1]];t.tooltip.style.left=s[0]+e[0]-i.offsetWidth/2+a.properties.tooltipsOffsetx+"px",t.tooltip.style.top=s[1]+e[1]-i.offsetHeight-15+a.properties.tooltipsOffsety+"px"},RGraph.register(this),RGraph.parseObjectStyleConfig(this,t.options)):alert("[SCATTER] No canvas support")};