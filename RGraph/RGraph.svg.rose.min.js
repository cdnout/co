RGraph=window.RGraph||{isrgraph:!0,isRGraph:!0,rgraph:!0},RGraph.SVG=RGraph.SVG||{},window,document,RGraph.SVG.Rose=function(t){this.set=function(t,e){if(1===arguments.length&&"object"==typeof t)for(i in arguments[0])"string"==typeof i&&(t=a.name,e=a.value,this.set(t,e));else{var a=RGraph.SVG.commonSetter({object:this,name:t,value:e});t=a.name,e=a.value,this.properties[t]=e,"colors"===t&&(this.originalColors=RGraph.SVG.arrayClone(e),this.colorsParsed=!1)}return this},this.get=function(t){return this.properties[t]},t.data=RGraph.SVG.stringsToNumbers(t.data),this.id=t.id,this.uid=RGraph.SVG.createUID(),this.container=document.getElementById(this.id),this.layers={},this.svg=RGraph.SVG.createSVG({object:this,container:this.container}),this.isRGraph=!0,this.isrgraph=!0,this.rgraph=!0,this.width=Number(this.svg.getAttribute("width")),this.height=Number(this.svg.getAttribute("height")),this.data=RGraph.SVG.arrayClone(t.data),this.originalData=RGraph.SVG.arrayClone(t.data),this.type="rose",this.angles=[],this.angles2=[],this.colorsParsed=!1,this.originalColors={},this.gradientCounter=1,this.nodes=[],this.shadowNodes=[],this.max=0,this.redraw=!1,this.highlight_node=null,this.firstDraw=!0,RGraph.SVG.OR.add(this),this.container.style.display="inline-block",this.properties={centerx:null,centery:null,radius:null,marginLeft:35,marginRight:35,marginTop:35,marginBottom:35,amargin:"3deg",backgroundGrid:!0,backgroundGridColor:"#ddd",backgroundGridRadialsCount:null,backgroundGridRadialsAngleOffset:0,backgroundGridConcentricsCount:5,backgroundGridLinewidth:1,colorsStroke:"white",colors:["red","black","orange","green","#6ff","#ccc","pink","orange","cyan","maroon","olive","teal"],colorsOpacity:1,textColor:"black",textFont:"Arial, Verdana, sans-serif",textSize:12,textBold:!1,textItalic:!1,text:null,labels:[],labelsFont:null,labelsSize:null,labelsColor:null,labelsBold:null,labelsItalic:null,labelsRadialMargin:10,labelsAngleOffset:0,labelsFormattedDecimals:0,labelsFormattedPoint:".",labelsFormattedThousand:",",labelsFormattedUnitsPre:"",labelsFormattedUnitsPost:"",scaleVisible:!0,scaleUnitsPre:"",scaleUnitsPost:"",scaleMax:null,scaleMin:0,scalePoint:".",scaleThousand:",",scaleRound:!1,scaleDecimals:0,scaleFormatter:null,scaleBold:null,scaleItalic:null,scaleColor:null,scaleSize:null,scaleFont:null,scaleLabelsCount:5,linewidth:1,tooltips:null,tooltipsOverride:null,tooltipsEffect:"fade",tooltipsCssClass:"RGraph_tooltip",tooltipsCss:null,tooltipsEvent:"click",tooltipsFormattedThousand:",",tooltipsFormattedPoint:".",tooltipsFormattedDecimals:0,tooltipsFormattedUnitsPre:"",tooltipsFormattedUnitsPost:"",tooltipsFormattedKeyColors:null,tooltipsFormattedKeyColorsShape:"square",tooltipsFormattedKeyLabels:[],tooltipsFormattedTableHeaders:null,tooltipsFormattedTableData:null,tooltipsPointer:!0,tooltipsPositionStatic:!0,highlightStroke:"rgba(0,0,0,0)",highlightFill:"rgba(255,255,255,0.7)",highlightLinewidth:1,title:"",titleX:null,titleY:null,titleHalign:"center",titleValign:null,titleSize:null,titleColor:null,titleFont:null,titleBold:null,titleItalic:null,titleSubtitle:null,titleSubtitleSize:null,titleSubtitleColor:"#aaa",titleSubtitleFont:null,titleSubtitleBold:null,titleSubtitleItalic:null,shadow:!1,shadowOffsetx:2,shadowOffsety:2,shadowBlur:2,shadowOpacity:.25,exploded:0,key:null,keyColors:null,keyOffsetx:0,keyOffsety:0,keyLabelsOffsetx:0,keyLabelsOffsety:-1,keyLabelsFont:null,keyLabelsSize:null,keyLabelsColor:null,keyLabelsBold:null,keyLabelsItalic:null,segmentsAngleOffset:0,variant:"normal",effectGrowMultiplier:1,effectRoundrobinMultiplier:1},RGraph.SVG.getGlobals(this),RGraph.SVG.FX&&"function"==typeof RGraph.SVG.FX.decorate&&RGraph.SVG.FX.decorate(this),this.responsive=RGraph.SVG.responsive,RGraph.SVG.addCreateFunction(this);var R=this.properties;for(i in this.draw=function(){RGraph.SVG.fireCustomEvent(this,"onbeforedraw"),this.width=Number(this.svg.getAttribute("width")),this.height=Number(this.svg.getAttribute("height")),void 0!==R.marginInner&&(R.amargin=R.marginInner),this.data=RGraph.SVG.arrayClone(this.originalData),this.angles=[];for(var t=0;t<this.data.length;++t)this.angles2[t]=[];RGraph.SVG.createDefs(this),this.graphWidth=this.width-R.marginLeft-R.marginRight,this.graphHeight=this.height-R.marginTop-R.marginBottom,this.centerx=this.graphWidth/2+R.marginLeft,this.centery=this.graphHeight/2+R.marginTop,this.radius=Math.min(this.graphWidth,this.graphHeight)/2,this.centerx=("number"==typeof R.centerx?R:this).centerx,this.centery=("number"==typeof R.centery?R:this).centery,this.radius=("number"==typeof R.radius?R:this).radius,"string"==typeof R.radius&&R.radius.match(/^\+|-\d+$/)&&(this.radius+=parseFloat(R.radius)),"string"==typeof R.centerx&&R.centerx.match(/^\+|-\d+$/)&&(this.centery+=parseFloat(R.centerx)),"string"==typeof R.centery&&R.centery.match(/^\+|-\d+$/)&&(this.centerx+=parseFloat(R.centery)),"string"==typeof R.amargin&&R.amargin.match(/([0-9.]+)deg/)&&(R.amargin=RegExp.$1/(180/Math.PI));for(t=0;t<this.data.length;++t)if("object"==typeof this.data[t])for(var e=0;e<this.data[t].length;++e)"string"==typeof this.data[t][e]&&(this.data[t][e]=RGraph.SVG.stringsToNumbers(this.data[t][e]));else"string"==typeof this.data[t]&&(this.data[t]=RGraph.SVG.stringsToNumbers(this.data[t]));this.getMaxValue(),RGraph.SVG.resetColorsToOriginalValues({object:this}),this.parseColors(),this.scale=RGraph.SVG.getScale({object:this,numlabels:"number"==typeof R.scaleLabelsCount?R.scaleLabelsCount:R.backgroundGridConcentricCount,unitsPre:R.scaleUnitsPre,unitsPost:R.scaleUnitsPost,max:"number"==typeof R.scaleMax?R.scaleMax:this.max,min:R.scaleMin,point:R.scalePoint,round:R.scaleRound,thousand:R.scaleThousand,decimals:R.scaleDecimals,strict:"number"==typeof R.scaleMax,formatter:R.scaleFormatter}),this.max=this.scale.max,this.drawBackground(),this.drawRose(),this.drawLabels(),RGraph.SVG.drawTitle(this),null!==typeof R.key&&RGraph.SVG.drawKey?RGraph.SVG.drawKey(this):RGraph.SVG.isNull(R.key)||alert("The drawKey() function does not exist - have you forgotten to include the key library?"),R.shadow&&RGraph.SVG.setShadow({object:this,offsetx:R.shadowOffsetx,offsety:R.shadowOffsety,blur:R.shadowBlur,opacity:R.shadowOpacity,id:"dropShadow"});var a=this;return document.body.addEventListener("mousedown",function(t){a.hideHighlight(a)},!1),RGraph.SVG.addCustomText(this),this.firstDraw&&(this.firstDraw=!1,RGraph.SVG.fireCustomEvent(this,"onfirstdraw")),RGraph.SVG.fireCustomEvent(this,"ondraw"),this},this.drawBackground=function(){if(R.backgroundGrid){var t=RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"g",attr:{className:"rgraph_radar_grid",fill:"rgba(0,0,0,0)",stroke:R.backgroundGridColor},style:{pointerEvents:"none"}}),e=0-RGraph.SVG.TRIG.PI/2,a="number"==typeof R.backgroundGridRadialsCount?R.backgroundGridRadialsCount:this.data.length,i=R.backgroundGridConcentricsCount,s=RGraph.SVG.TRIG.TWOPI/a;if(0<a)if("non-equi-angular"===R.variant){for(var a=this.data.length,r=0,l=0;r<this.data.length;++r)l+=this.data[r][1];for(var r=0,o=0;r<this.data.length;++r){var n=RGraph.SVG.TRIG.toCartesian({cx:this.centerx,cy:this.centery,r:this.radius,angle:e+o/l*RGraph.SVG.TRIG.TWOPI+R.backgroundGridRadialsAngleOffset}),h="M {1} {2} L {3} {4}".format(this.centerx,this.centery,n.x,n.y);RGraph.SVG.create({svg:this.svg,type:"path",parent:t,attr:{d:h,stroke:R.backgroundGridColor,"stroke-width":R.backgroundGridLinewidth}}),o+=this.data[r][1]}}else for(var r=0,d=a;r<d;++r){n=RGraph.SVG.TRIG.toCartesian({cx:this.centerx,cy:this.centery,r:this.radius,angle:e+r*s+R.backgroundGridRadialsAngleOffset}),h="M {1} {2} L {3} {4}".format(this.centerx,this.centery,n.x,n.y);RGraph.SVG.create({svg:this.svg,type:"path",parent:t,attr:{d:h,stroke:R.backgroundGridColor,"stroke-width":R.backgroundGridLinewidth}})}if(0<i)for(var g=1;g<=i;g++)RGraph.SVG.create({svg:this.svg,type:"circle",parent:t,attr:{cx:this.centerx,cy:this.centery,r:this.radius*(g/i),fill:"transparent",stroke:R.backgroundGridColor,"stroke-width":R.backgroundGridLinewidth}})}},this.drawRose=function(){for(var t=arguments[0]||{},e=0;e<this.angles.length;++e)this.angles[e].element.parentNode.removeChild(this.angles[e].element);this.angles=[];for(e=0;e<this.data.length;++e)this.angles2[e]=[];if("non-equi-angular"===R.variant)return this.drawRoseNonEquiAngular(t);var a,i=RGraph.SVG.TRIG.TWOPI/this.data.length;a=document.getElementById("rgraph_rose_segments_"+this.uid)?document.getElementById("rgraph_rose_segments_"+this.uid):RGraph.SVG.create({svg:this.svg,type:"g",parent:this.svg.all,attr:{id:"rgraph_rose_segments_"+this.uid}});for(var e=0,s=0;e<this.data.length;++e,++s){var r,l=this.data[e]/this.scale.max*this.radius*R.effectGrowMultiplier,o=e/this.data.length*RGraph.SVG.TRIG.TWOPI*R.effectRoundrobinMultiplier,n=(e/this.data.length*RGraph.SVG.TRIG.TWOPI+i)*R.effectRoundrobinMultiplier,h=this.getExploded({index:e,start:o-RGraph.SVG.TRIG.HALFPI,end:n-RGraph.SVG.TRIG.HALFPI});if("object"!=typeof this.data[e]||RGraph.SVG.isNull(this.data[e])){c=this.centerx+h[0]*R.effectRoundrobinMultiplier,p=this.centery+h[1]*R.effectRoundrobinMultiplier,f=RGraph.SVG.TRIG.getArcPath2({cx:c,cy:p,r:l,start:(o+R.amargin)*R.effectRoundrobinMultiplier+R.segmentsAngleOffset,end:(n-R.amargin)*R.effectRoundrobinMultiplier+R.segmentsAngleOffset,anticlockwise:!1}),G=RGraph.SVG.create({svg:this.svg,type:"path",parent:a,attr:{d:"{1} z".format(f),fill:R.colorsSequential?R.colors[e]:R.colors[0],"fill-opacity":R.colorsOpacity,stroke:R.colorsStroke,"stroke-width":R.linewidth,"data-tooltip":!RGraph.SVG.isNull(R.tooltips)&&R.tooltips.length?R.tooltips[e]:"","data-index":e,"data-centerx":c,"data-centery":p,"data-value":this.data[e],"data-start-angle":o+R.amargin+R.segmentsAngleOffset,"data-end-angle":n-R.amargin+R.segmentsAngleOffset,"data-radius":l,"data-sequential":s}});this.angles.push({object:this,element:G}),this.angles2[e].push({object:this,element:G}),R.tooltips&&(R.tooltips[e]||"string"==typeof R.tooltips)&&("mousemove"!==R.tooltipsEvent&&(R.tooltipsEvent="click"),function(e,a){G.addEventListener(R.tooltipsEvent,function(t){a.removeHighlight(),RGraph.SVG.tooltip({object:a,index:e,group:e,sequentialIndex:e,text:"string"==typeof R.tooltips?R.tooltips:R.tooltips[e],event:t}),a.highlight(t.target);t=RGraph.SVG.REG.get("highlight");"mousemove"===R.tooltipsEvent&&(t.style.cursor="pointer")},!1),"click"===R.tooltipsEvent&&G.addEventListener("mousemove",function(t){t.target.style.cursor="pointer"},!1)}(e,this))}else{r=document.getElementById("rose_"+this.uid+"_segment_group_"+e)?document.getElementById("rose_"+this.uid+"_segment_group_"+e):RGraph.SVG.create({svg:this.svg,type:"g",parent:a,attr:{id:"rose_"+this.uid+"_segment_group_"+e}});for(var d=0,g=0;d<this.data[e].length;++d,++s){0===d&&(m=0);var u,l=(g+=this.data[e][d])/this.scale.max*this.radius*R.effectGrowMultiplier,c=this.centerx+h[0]*R.effectRoundrobinMultiplier,p=this.centery+h[1]*R.effectRoundrobinMultiplier,f=RGraph.SVG.TRIG.getArcPath2({cx:c,cy:p,r:l,start:(o+R.amargin)*R.effectRoundrobinMultiplier+R.segmentsAngleOffset,end:(n-R.amargin)*R.effectRoundrobinMultiplier+R.segmentsAngleOffset,anticlockwise:!1});f=0===d?"{1} z".format(f):(u=RGraph.SVG.TRIG.getArcPath2({cx:c,cy:p,r:m,start:(n-R.amargin)*R.effectRoundrobinMultiplier+R.segmentsAngleOffset,end:(o+R.amargin)*R.effectRoundrobinMultiplier+R.segmentsAngleOffset,anticlockwise:!0}),"{1} L {2} {3} {4}".format(f,c,p,u));var G=RGraph.SVG.create({svg:this.svg,type:"path",parent:r,attr:{d:f,fill:R.colorsSequential?R.colors[s]:R.colors[d],"fill-opacity":R.colorsOpacity,stroke:R.colorsStroke,"stroke-width":R.linewidth,"data-tooltip":!RGraph.SVG.isNull(R.tooltips)&&R.tooltips.length?R.tooltips[s]:"","data-index":e,"data-centerx":c,"data-centery":p,"data-group":e,"data-subindex":d,"data-value":this.data[e][d],"data-start-angle":o+R.amargin+R.segmentsAngleOffset,"data-end-angle":n-R.amargin+R.segmentsAngleOffset,"data-radius":l,"data-radius-inner":"number"==typeof m?m*R.effectGrowMultiplier:0,"data-sequential-index":s}});R.tooltips&&(R.tooltips[s]||"string"==typeof R.tooltips)&&("mousemove"!==R.tooltipsEvent&&(R.tooltipsEvent="click"),function(e,a,i,s){G.addEventListener(R.tooltipsEvent,function(t){s.removeHighlight(),RGraph.SVG.tooltip({object:s,group:a,index:e,sequentialIndex:i,text:"string"==typeof R.tooltips?R.tooltips:R.tooltips[i],event:t}),s.highlight(t.target);t=RGraph.SVG.REG.get("highlight");"mousemove"===R.tooltipsEvent&&(t.style.cursor="pointer")},!1),"click"===R.tooltipsEvent&&G.addEventListener("mousemove",function(t){t.target.style.cursor="pointer"},!1)}(d,e,s,this)),this.angles.push({object:this,element:G}),this.angles2[e].push({object:this,element:G});var m=l}s--}}},this.drawRoseNonEquiAngular=function(t){var e;e=document.getElementById("rgraph_rose_segments_"+this.uid)?document.getElementById("rgraph_rose_segments_"+this.uid):RGraph.SVG.create({svg:this.svg,type:"g",parent:this.svg.all,attr:{id:"rgraph_rose_segments_"+this.uid}});for(var a=0,i=0;a<this.data.length;++a)i+=parseFloat(this.data[a][1]);for(var s=0,a=0,r=0;a<this.data.length;++a,++r){var l,o=this.data[a][1]/i*RGraph.SVG.TRIG.TWOPI,n=s+o,h=this.getExploded({index:a,start:s-RGraph.SVG.TRIG.HALFPI,end:n-RGraph.SVG.TRIG.HALFPI});if("object"!=typeof this.data[a][0]||RGraph.SVG.isNull(this.data[a][0])){d=this.data[a][0]/this.scale.max*this.radius*R.effectGrowMultiplier,g=this.centerx+h[0]*R.effectRoundrobinMultiplier,u=this.centery+h[1]*R.effectRoundrobinMultiplier,c=RGraph.SVG.TRIG.getArcPath2({cx:g,cy:u,r:d,start:(s+R.amargin)*R.effectRoundrobinMultiplier+R.segmentsAngleOffset,end:(n-R.amargin)*R.effectRoundrobinMultiplier+R.segmentsAngleOffset,anticlockwise:!1}),m=RGraph.SVG.create({svg:this.svg,type:"path",parent:e,attr:{d:"{1} z".format(c),fill:R.colorsSequential?R.colors[a]:R.colors[0],"fill-opacity":R.colorsOpacity,stroke:R.colorsStroke,"stroke-width":R.linewidth,"data-tooltip":!RGraph.SVG.isNull(R.tooltips)&&R.tooltips.length?R.tooltips[a]:"","data-centerx":g,"data-centery":u,"data-index":a,"data-value":this.data[a][0],"data-start-angle":s+R.amargin+R.segmentsAngleOffset,"data-end-angle":n-R.amargin+R.segmentsAngleOffset,"data-radius":d,"data-sequential":r}});this.angles.push({object:this,element:m}),this.angles2[a].push({object:this,element:m}),R.tooltips&&(R.tooltips[a]||"string"==typeof R.tooltips)&&("mousemove"!==R.tooltipsEvent&&(R.tooltipsEvent="click"),function(e,a,i){m.addEventListener(R.tooltipsEvent,function(t){i.removeHighlight(),RGraph.SVG.tooltip({object:i,index:e,group:e,sequentialIndex:a,text:"string"==typeof R.tooltips?R.tooltips:R.tooltips[e],event:t}),i.highlight(t.target);t=RGraph.SVG.REG.get("highlight");"mousemove"===R.tooltipsEvent&&(t.style.cursor="pointer")},!1),"click"===R.tooltipsEvent&&m.addEventListener("mousemove",function(t){t.target.style.cursor="pointer"},!1)}(a,r,this))}else{l=document.getElementById("rgraph_rose_"+this.uid+"_segment_group_"+a)?document.getElementById("rgraph_rose_"+this.uid+"_segment_group_"+a):RGraph.SVG.create({svg:this.svg,type:"g",parent:e,attr:{id:"rgraph_rose_"+this.uid+"_segment_group_"+a}});for(var d,g,u,c,p,f=0,G=0;f<this.data[a][0].length;++f,++r){G+=this.data[a][0][f],p=0===f?(d=G/this.scale.max*this.radius*R.effectGrowMultiplier,g=this.centerx+h[b=0]*R.effectRoundrobinMultiplier,u=this.centery+h[1]*R.effectRoundrobinMultiplier,c=RGraph.SVG.TRIG.getArcPath2({cx:g,cy:u,r:d,start:(s+R.amargin)*R.effectRoundrobinMultiplier+R.segmentsAngleOffset,end:(n-R.amargin)*R.effectRoundrobinMultiplier+R.segmentsAngleOffset,anticlockwise:!1}),""):(b=d,d=G/this.scale.max*this.radius*R.effectGrowMultiplier,g=this.centerx+h[0]*R.effectRoundrobinMultiplier,u=this.centery+h[1]*R.effectRoundrobinMultiplier,c=RGraph.SVG.TRIG.getArcPath2({cx:g,cy:u,r:d,start:(s+R.amargin)*R.effectRoundrobinMultiplier+R.segmentsAngleOffset,end:(n-R.amargin)*R.effectRoundrobinMultiplier+R.segmentsAngleOffset,anticlockwise:!1}),RGraph.SVG.TRIG.getArcPath2({cx:g,cy:u,r:b,start:(n-R.amargin)*R.effectRoundrobinMultiplier+R.segmentsAngleOffset,end:(s+R.amargin)*R.effectRoundrobinMultiplier+R.segmentsAngleOffset,anticlockwise:!0}));var m=RGraph.SVG.create({svg:this.svg,type:"path",parent:l,attr:{d:"{1} {2} z".format(c,p),fill:R.colorsSequential?R.colors[r]:R.colors[f],"fill-opacity":R.colorsOpacity,stroke:R.colorsStroke,"stroke-width":R.linewidth,"data-tooltip":!RGraph.SVG.isNull(R.tooltips)&&R.tooltips.length?R.tooltips[a]:"","data-centerx":g,"data-centery":u,"data-index":a,"data-subindex":f,"data-value":this.data[a][0][f],"data-start-angle":s+R.amargin+R.segmentsAngleOffset,"data-end-angle":n-R.amargin+R.segmentsAngleOffset,"data-radius":d,"data-radius-inner":b,"data-sequential":r}});this.angles.push({object:this,element:m}),this.angles2[a].push({object:this,element:m}),R.tooltips&&(R.tooltips[r]||"string"==typeof R.tooltips)&&("mousemove"!==R.tooltipsEvent&&(R.tooltipsEvent="click"),function(e,a,i,s){m.addEventListener(R.tooltipsEvent,function(t){s.removeHighlight(),RGraph.SVG.tooltip({object:s,index:e,group:a,sequentialIndex:i,text:"string"==typeof R.tooltips?R.tooltips:R.tooltips[i],event:t}),s.highlight(t.target);t=RGraph.SVG.REG.get("highlight");"mousemove"===R.tooltipsEvent&&(t.style.cursor="pointer")},!1),"click"===R.tooltipsEvent&&m.addEventListener("mousemove",function(t){t.target.style.cursor="pointer"},!1)}(f,a,r,this));var b=d}r--}s+=o}},this.redrawRose=function(){},this.drawLabels=function(){if(R.labels&&R.labels.length){"string"==typeof R.labels&&(R.labels=RGraph.SVG.arrayPad({array:[],length:this.data.length,value:R.labels}));for(var t=0;t<R.labels.length;++t)R.labels[t]=RGraph.SVG.labelSubstitution({object:this,text:R.labels[t],index:t,value:this.data[t],decimals:R.labelsFormattedDecimals||0,unitsPre:R.labelsFormattedUnitsPre||"",unitsPost:R.labelsFormattedUnitsPost||"",thousand:R.labelsFormattedThousand||",",point:R.labelsFormattedPoint||"."})}if(R.scaleVisible){r=document.getElementById("rgraph_rose_scale_labels_"+this.uid)?document.getElementById("rgraph_rose_scale_labels_"+this.uid):RGraph.SVG.create({svg:this.svg,type:"g",parent:this.svg.all,attr:{id:"rgraph_rose_scale_labels_"+this.uid}});for(var e=RGraph.SVG.getTextConf({object:this,prefix:"scale"}),t=0;t<this.scale.labels.length;++t){var a=this.centerx,i=this.centery-this.radius/this.scale.labels.length*(t+1);RGraph.SVG.text({object:this,svg:this.svg,parent:r,tag:"labels.scale",text:this.scale.labels[t],x:a,y:i,halign:"center",valign:"center",background:"rgba(255,255,255,0.7)",padding:2,size:e.size,color:e.color,bold:e.bold,italic:e.italic,font:e.font})}var s=RGraph.SVG.numberFormat({object:this,num:this.scale.min.toFixed(R.scaleDecimals),prepend:R.scaleUnitsPre,append:R.scaleUnitsPost,point:R.scalePoint,thousand:R.scaleThousand,formatter:R.scaleFormatter});RGraph.SVG.text({object:this,parent:r,tag:"labels.scale",text:s,x:this.centerx,y:this.centery,halign:"center",valign:"center",background:"rgba(255,255,255,0.7)",padding:2,size:e.size,color:e.color,bold:e.bold,italic:e.italic,font:e.font})}var r;r=document.getElementById("rgraph_rose_circular_labels_"+this.uid)?document.getElementById("rgraph_rose_circular_labels_"+this.uid):RGraph.SVG.create({svg:this.svg,type:"g",parent:this.svg.all,attr:{id:"rgraph_rose_circular_labels_"+this.uid}}),"number"!=typeof R.labelsSize&&(R.labelsSize=R.textSize+4);for(e=RGraph.SVG.getTextConf({object:this,prefix:"labels"}),t=0;t<R.labels.length;++t){o="non-equi-angular"===R.variant?(Number(this.angles2[t][0].element.getAttribute("data-end-angle"))-Number(this.angles2[t][0].element.getAttribute("data-start-angle")))/2+Number(this.angles2[t][0].element.getAttribute("data-start-angle"))-RGraph.SVG.TRIG.HALFPI:RGraph.SVG.TRIG.TWOPI/R.labels.length*t-RGraph.SVG.TRIG.HALFPI+R.labelsAngleOffset+RGraph.SVG.TRIG.TWOPI/(2*R.labels.length);var l=RGraph.SVG.TRIG.getRadiusEndPoint({r:this.radius+R.labelsRadialMargin,angle:o}),o=this.getExploded({index:t,start:Number(this.angles2[t][0].element.getAttribute("data-start-angle"))-RGraph.SVG.TRIG.HALFPI,end:Number(this.angles2[t][0].element.getAttribute("data-end-angle"))-RGraph.SVG.TRIG.HALFPI});l[0]+=this.centerx+o[0],l[1]+=this.centery+o[1],o=Math.round(l[0])>this.centerx?"left":Math.round(l[0])===this.centerx?"center":"right",RGraph.SVG.text({object:this,svg:this.svg,parent:r,tag:"labels",text:"string"==typeof R.labels[t]?R.labels[t]:"",x:l[0],y:l[1],halign:o,valign:"center",background:"rgba(255,255,255,0.7)",padding:2,size:e.size,color:e.color,bold:e.bold,italic:e.italic,font:e.font})}},this.highlight=function(t){var e=t.getAttribute("data-centerx"),a=t.getAttribute("data-centery"),i=t.getAttribute("data-radius"),s=t.getAttribute("data-radius-inner"),r=t.getAttribute("data-start-angle"),l=t.getAttribute("data-end-angle"),t=RGraph.SVG.TRIG.getArcPath3({cx:e,cy:a,r:i,start:r,end:l,lineto:!0}),i=RGraph.SVG.TRIG.getArcPath3({cx:e,cy:a,r:i,start:r,end:l,lineto:!0,array:!0}),a=s?RGraph.SVG.TRIG.getArcPath3({cx:e,cy:a,r:s,start:l,end:r,lineto:!0,anticlockwise:!0}):" L {1} {2}".format(e,a),o=RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"path",attr:{d:"M {1} {2} ".format(i[1],i[2])+t+" "+a+" z",fill:R.highlightFill,stroke:R.highlightStroke,"stroke-width":R.highlightLinewidth},style:{pointerEvents:"none"}});"mousemove"===R.tooltipsEvent&&o.addEventListener("mouseout",function(t){o.parentNode.removeChild(o),RGraph.SVG.hideTooltip(),RGraph.SVG.REG.set("highlight",null)},!1),RGraph.SVG.REG.set("highlight",o)},this.parseColors=function(){Object.keys(this.originalColors).length||(this.originalColors={colors:RGraph.SVG.arrayClone(R.colors),highlightFill:RGraph.SVG.arrayClone(R.highlightFill)});var t=R.colors;if(t)for(var e=0;e<t.length;++e)t[e]=RGraph.SVG.parseColorRadial({object:this,color:t[e]});R.highlightFill=RGraph.SVG.parseColorRadial({object:this,color:R.highlightFill})},this.getMaxValue=function(){var t=0;if("non-equi-angular"===R.variant)for(var e=0;e<this.data.length;++e)RGraph.SVG.isNull(this.data[e])||("number"==typeof this.data[e][0]?t=Math.max(t,this.data[e][0]):"object"==typeof this.data[e][0]&&(t=Math.max(t,RGraph.SVG.arraySum(this.data[e][0]))));else for(e=0;e<this.data.length;++e)RGraph.SVG.isNull(this.data[e])||("number"==typeof this.data[e]?t=Math.max(t,this.data[e]):"object"==typeof this.data[e]&&(t=Math.max(t,RGraph.SVG.arraySum(this.data[e]))));this.max=t},this.getRadius=function(t){return(t-R.scaleMin)/(this.scale.max-R.scaleMin)*this.radius},this.roundRobin=function(){},this.on=function(t,e){return"on"!==t.substr(0,2)&&(t="on"+t),RGraph.SVG.addCustomEventListener(this,t,e),this},this.exec=function(t){return t(this),this},this.removeHighlight=this.hideHighlight=function(){var t=RGraph.SVG.REG.get("highlight");t&&(t.setAttribute("fill","transparent"),t.setAttribute("stroke","transparent"),t=null,RGraph.SVG.REG.set("highlight",null))},this.getExploded=function(t){var e,a=t.index,i=t.start,s=t.end,t=R.exploded,t="object"==typeof t&&"number"==typeof t[a]?(e=Math.cos((s-i)/2+i)*t[a],Math.sin((s-i)/2+i)*t[a]):"number"==typeof t?(e=Math.cos((s-i)/2+i)*t,Math.sin((s-i)/2+i)*t):e=0;return[e,t]},this.grow=function(t){var a=this,t=arguments[0]||{},i=-1,s=t.frames||60,r=t.callback||function(){};return R.effectGrowMultiplier=.01,this.draw(),function t(){++i;var e=RGraph.SVG.FX.getEasingMultiplier(s,i);R.effectGrowMultiplier=e,a.drawRose(),s<=i?r(a):RGraph.SVG.FX.update(t)}(),this},this.roundRobin=this.roundrobin=function(t){var a=this,t=arguments[0]||{},i=-1,s=t.frames||60,r=t.callback||function(){};return R.effectRoundrobinMultiplier=.01,this.draw(),function t(){++i;var e=RGraph.SVG.FX.getEasingMultiplier(s,i);R.effectRoundrobinMultiplier=e,a.drawRose(),s<=i?r(a):RGraph.SVG.FX.update(t)}(),this},this.tooltipSubstitutions=function(t){var e=RGraph.SVG.sequentialIndexToGrouped(t.index,this.data);if("non-equi-angular"!==R.variant)return{index:e[1],dataset:e[0],sequentialIndex:t.index,value:"number"==typeof this.data[e[0]]?this.data[e[0]]:this.data[e[0]][e[1]],value2:"number"==typeof value2?value2:null,values:"number"==typeof this.data[e[0]]?[this.data[e[0]]]:this.data[e[0]]};if("object"!=typeof this.data[0][0])return{index:0,dataset:t.index,sequentialIndex:t.index,value:"object"==typeof this.data[t.index]&&"number"==typeof this.data[t.index][0]?this.data[t.index][0]:mill,value2:"object"==typeof this.data[t.index]&&"number"==typeof this.data[t.index][1]?this.data[t.index][1]:null,values:"number"==typeof this.data[e[0]]?[this.data[e[0]]]:this.data[e[0]]};for(var a=[],i=0;i<this.data.length;++i)a[i]=this.data[i][0];return{index:(e=RGraph.SVG.sequentialIndexToGrouped(t.index,a))[1],dataset:e[0],sequentialIndex:t.index,value:this.data[e[0]][0][e[1]],value2:this.data[e[0]][1],values:this.data[e[0]][0]}},this.tooltipsFormattedCustom=function(t,e,a){var i,s,r,l=R.colors[e];if("number"==typeof this.data[t.dataset])i=R.tooltipsFormattedKeyLabels[t.dataset]||"",l=!RGraph.SVG.isNull(R.tooltipsFormattedKeyColors)&&R.tooltipsFormattedKeyColors[t.index]?R.tooltipsFormattedKeyColors[t.index]:l;else if("object"==typeof this.data[t.dataset]&&"non-equi-angular"===R.variant)if(RGraph.SVG.isNumber(this.data[t.dataset][0])){if(0<e)return{continue:!0};l=a[t.index],s=this.data[t.dataset][0],r="number"==typeof this.data[t.dataset][1]?this.data[t.dataset][1]:null,i=R.tooltipsFormattedKeyLabels[t.dataset]}else RGraph.SVG.isArray(this.data[t.dataset][0])&&(l=a[e],s=this.data[t.dataset][0][e],s="number"==typeof this.data[t.dataset][0][e]?this.data[t.dataset][0][e]:null,r="number"==typeof this.data[t.dataset][1]?this.data[t.dataset][1]:null,i=R.tooltipsFormattedKeyLabels[e]);else"object"==typeof this.data[t.dataset]&&(l=!RGraph.SVG.isNull(R.tooltipsFormattedKeyColors)&&R.tooltipsFormattedKeyColors[e]?R.tooltipsFormattedKeyColors[e]:l);return{label:i,color:l,value:s,value2:r}},this.positionTooltipStatic=function(t){var e=t.object,a=(t.event,t.tooltip),i=t.index,s=RGraph.SVG.getSVGXY(e.svg),r=this.angles[i],l=parseFloat(r.element.getAttribute("data-start-angle")),e=parseFloat(r.element.getAttribute("data-end-angle")),i=parseFloat(r.element.getAttribute("data-radius-inner")),r=parseFloat(r.element.getAttribute("data-radius")),l=(e-l)/2+l-RGraph.SVG.TRIG.HALFPI;isNaN(i)&&(i=0);l=RGraph.SVG.TRIG.toCartesian({cx:this.centerx,cy:this.centery,r:(r-i)/2+i,angle:l});t.tooltip.style.left=s[0]-a.offsetWidth/2+l.x+"px",t.tooltip.style.top=s[1]-a.offsetHeight-10+l.y+"px"},t.options)"string"==typeof i&&this.set(i,t.options[i])};