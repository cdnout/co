RGraph=window.RGraph||{isrgraph:!0,isRGraph:!0,rgraph:!0},RGraph.starburst=RGraph.Starburst=RGraph.StarBurst=function(t){var e=t.id,g=document.getElementById(e);this.id=e,this.canvas=g,this.context=this.canvas.getContext("2d"),this.type="starburst",this.imageCache=[],this.frame=1,this.rotatedAngle=0-Math.PI/2,this.isRGraph=!0,this.isrgraph=!0,this.rgraph=!0,this.properties={colors:["white","#666"],radius:500,delay:null,segments:12,centerx:null,centery:null,callback:null,animationStep:5e-4,radiusMultiplier:0,radiusIncrement:.01,image:null,imageHalign:"center",imageValign:"center",imageScale:1,imageX:null,imageY:null,imageW:null,imageH:null,imageShadow:!1,imageShadowOffsetx:3,imageShadowOffsety:3,imageShadowColor:"#666",imageShadowBlur:3};this.properties;var i,l=this.properties;for(i in this.set=function(t){var e=void 0===arguments[1]?null:arguments[1];if(1!==arguments.length||"object"!=typeof t)return l[t]=e,this;for(i in t)"string"==typeof i&&this.set(i,t[i]);return this},this.get=function(t){return l[t]},this.draw=function(){Math.PI,l.frame,Math.PI;this.isNull(l.centerx)&&(l.centerx=g.width/2),this.isNull(l.centery)&&(l.centery=g.height/2),this.context.clearRect(-5,-5,this.canvas.width+10,this.canvas.height+10);var t=this.context.createRadialGradient(l.centerx,l.centery,0,l.centerx,l.centery,l.radius);t.addColorStop(0,l.colors[0]);for(var e=1,i=l.colors.length;e<i;++e)t.addColorStop(1/(i-1)*e,l.colors[e]);for(var a,e=0;e<2*l.segments;++e)this.startAngle=this.rotatedAngle+360/(2*l.segments)*e/(180/Math.PI),this.endAngle=this.startAngle+360/(2*l.segments)/(180/Math.PI),color=e%2==0?t:"rgba(0,0,0,0)",this.startAngle+=this.frame*l.animationStep,this.endAngle+=this.frame*l.animationStep,this.context.beginPath(),this.context.fillStyle=color,this.context.moveTo(l.centerx,l.centery),this.context.arc(l.centerx,l.centery,l.radius*(0===l.animationStep?1:l.radiusMultiplier),this.startAngle,this.endAngle,!1),this.context.fill();if(l.image){if(l.image&&!this.imageCache[l.image]){this.imageCache[l.image]=new Image,this.imageCache[l.image].src=l.image;var s=this;return void(this.imageCache[l.image].onload=function(){s.draw()})}var r,n,h,o;Math.min(1,l.frame);this.imageCoordsCalculated||(r=l.centerx,n=l.centery,h=this.imageCache[l.image].width*l.imageScale,o=this.imageCache[l.image].height*l.imageScale,"number"==typeof l.imageX&&(r=l.imageX),"number"==typeof l.imageY&&(n=l.imageY),"number"==typeof l.imageW&&(h=l.imageW),"number"==typeof l.imageH&&(o=l.imageH),"right"===l.imageHalign?r-=h:"left"===l.imageHalign||(r-=h/2),"bottom"===l.imageValign?n-=o:"top"===l.imageValign||(n-=o/2),l.imageX=r,l.imageY=n,l.imageW=h,l.imageH=o,this.imageCoordsCalculated=!0),l.imageShadow&&(this.context.shadowOffsetX=l.imageShadowOffsetx,this.context.shadowOffsetY=l.imageShadowOffsety,this.context.shadowColor=l.imageShadowColor,this.context.shadowBlur=l.imageShadowBlur),this.context.drawImage(this.imageCache[l.image],l.imageX,l.imageY,l.imageW,l.imageH),l.imageShadow&&(this.context.shadowOffsetX=0,this.context.shadowOffsetY=0,this.context.shadowColor="rgba(0,0,0,0)",this.context.shadowBlur=0)}return"function"==typeof l.callback&&(a=l.callback(this)),this.frame=++this.frame,l.radiusMultiplier<1&&(l.radiusMultiplier+=l.radiusIncrement),!1!==a&&0!==l.animationStep&&(s=this,window.requestAnimationFrame&&this.isNull(l.delay)?window.requestAnimationFrame(function(){s.draw()}):setTimeout(function(){s.draw()},l.delay)),this},this.isNull=function(t){return null==t||"object"==typeof t&&!t},t.options)"string"==typeof i&&this.set(i,t.options[i]);return this};