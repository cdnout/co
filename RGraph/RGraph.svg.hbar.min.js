RGraph=window.RGraph||{isrgraph:!0,isRGraph:!0,rgraph:!0},RGraph.SVG=RGraph.SVG||{},window,document,RGraph.SVG.HBar=function(t){this.set=function(t,e){if(1===arguments.length&&"object"==typeof t)for(i in arguments[0])"string"==typeof i&&(t=a.name,e=a.value,this.set(t,e));else{var a=RGraph.SVG.commonSetter({object:this,name:t,value:e});t=a.name,e=a.value,this.properties[t]=e,"colors"===t&&(this.originalColors=RGraph.SVG.arrayClone(e),this.colorsParsed=!1)}return this},this.get=function(t){return this.properties[t]},t.data=RGraph.SVG.stringsToNumbers(t.data),this.id=t.id,this.uid=RGraph.SVG.createUID(),this.container=document.getElementById(this.id),this.layers={},this.svg=RGraph.SVG.createSVG({object:this,container:this.container}),this.isRGraph=!0,this.isrgraph=!0,this.rgraph=!0,this.width=Number(this.svg.getAttribute("width")),this.height=Number(this.svg.getAttribute("height")),this.data=t.data,this.type="hbar",this.coords=[],this.coords2=[],this.stackedBackfaces=[],this.colorsParsed=!1,this.originalColors={},this.gradientCounter=1,this.firstDraw=!0,RGraph.SVG.OR.add(this),this.container.style.display="inline-block",this.properties={marginLeft:100,marginRight:35,marginRightAuto:null,marginTop:35,marginBottom:35,marginLeftAuto:!0,backgroundColor:null,backgroundImage:null,backgroundImageAspect:"none",backgroundImageStretch:!0,backgroundImageOpacity:null,backgroundImageX:null,backgroundImageY:null,backgroundImageW:null,backgroundImageH:null,backgroundGrid:!0,backgroundGridColor:"#ddd",backgroundGridLinewidth:1,backgroundGridHlines:!0,backgroundGridHlinesCount:null,backgroundGridVlines:!0,backgroundGridVlinesCount:null,backgroundGridBorder:!0,backgroundGridDashed:!1,backgroundGridDotted:!1,backgroundGridDashArray:null,colors:["red","#0f0","#00f","#ff0","#0ff","#0f0","pink","orange","gray","black","red","#0f0","#00f","#ff0","#0ff","#0f0","pink","orange","gray","black"],colorsSequential:!1,colorsStroke:"rgba(0,0,0,0)",marginInner:3,marginInnerGrouped:2,marginInnerTop:0,marginInnerBottom:0,xaxis:!0,xaxisTickmarks:!0,xaxisTickmarksLength:5,xaxisColor:"black",xaxisLabels:[],xaxisLabelsOffsetx:0,xaxisLabelsOffsety:0,xaxisLabelsCount:5,xaxisScale:!0,xaxisScaleUnitsPre:"",xaxisScaleUnitsPost:"",xaxisScaleStrict:!1,xaxisScaleDecimals:0,xaxisScaleThousand:",",xaxisScaleRound:!1,xaxisScaleMax:null,xaxisScaleMin:0,xaxisScaleFormatter:null,xaxisLabelsPositionEdgeTickmarksCount:null,xaxisLabelsColor:null,xaxisLabelsBold:null,xaxisLabelsItalic:null,xaxisLabelsFont:null,xaxisLabelsSize:null,xaxisTitle:"",xaxisTitleBold:null,xaxisTitleSize:null,xaxisTitleFont:null,xaxisTitleColor:null,xaxisTitleItalic:null,xaxisTitleOffsetx:0,xaxisTitleOffsety:0,xaxisTitleX:null,xaxisTitleY:null,xaxisTitleHalign:null,xaxisTitleValign:null,yaxis:!0,yaxisTickmarks:!0,yaxisTickmarksLength:3,yaxisTickmarksCount:5,yaxisLabels:[],yaxisLabelsPosition:"section",yaxisLabelsOffsetx:0,yaxisLabelsOffsety:0,yaxisScale:!1,yaxisLabelsPositionSectionTickmarksCount:null,yaxisColor:"black",yaxisLabelsFont:null,yaxisLabelsSize:null,yaxisLabelsColor:null,yaxisLabelsBold:null,yaxisLabelsItalic:null,yaxisPosition:"left",yaxisLabelsFormattedDecimals:0,yaxisLabelsFormattedUnitsPre:"",yaxisLabelsFormattedUnitsPost:"",yaxisLabelsFormattedThousand:",",yaxisLabelsFormattedPoint:".",yaxisTitle:"",yaxisTitleBold:null,yaxisTitleSize:null,yaxisTitleFont:null,yaxisTitleColor:null,yaxisTitleItalic:null,yaxisTitleOffsetx:0,yaxisTitleOffsety:0,yaxisTitleX:null,yaxisTitleY:null,yaxisTitleHalign:null,yaxisTitleValign:null,textColor:"black",textFont:"Arial, Verdana, sans-serif",textSize:12,textBold:!1,textItalic:!1,text:null,labelsAbove:!1,labelsAboveFont:null,labelsAboveSize:null,labelsAboveBold:null,labelsAboveItalic:null,labelsAboveColor:null,labelsAboveBackground:null,labelsAboveBackgroundPadding:0,labelsAboveUnitsPre:null,labelsAboveUnitsPost:null,labelsAbovePoint:null,labelsAboveThousand:null,labelsAboveFormatter:null,labelsAboveDecimals:null,labelsAboveOffsetx:0,labelsAboveOffsety:0,labelsAboveHalign:null,labelsAboveValign:"center",labelsAboveSpecific:null,labelsInbar:!1,labelsInbarHalign:"center",labelsInbarValign:"center",labelsInbarFont:null,labelsInbarSize:null,labelsInbarBold:null,labelsInbarItalic:null,labelsInbarColor:null,labelsInbarBackground:null,labelsInbarBackgroundPadding:0,labelsInbarUnitsPre:null,labelsInbarUnitsPost:null,labelsInbarPoint:null,labelsInbarThousand:null,labelsInbarFormatter:null,labelsInbarDecimals:null,labelsInbarOffsetx:0,labelsInbarOffsety:0,labelsInbarSpecific:null,linewidth:1,grouping:"grouped",tooltips:null,tooltipsOverride:null,tooltipsEffect:"fade",tooltipsCssClass:"RGraph_tooltip",tooltipsCss:null,tooltipsEvent:"click",tooltipsFormattedThousand:",",tooltipsFormattedPoint:".",tooltipsFormattedDecimals:0,tooltipsFormattedUnitsPre:"",tooltipsFormattedUnitsPost:"",tooltipsFormattedKeyColors:null,tooltipsFormattedKeyColorsShape:"square",tooltipsFormattedKeyLabels:[],tooltipsFormattedTableHeaders:null,tooltipsFormattedTableData:null,tooltipsPointer:!0,tooltipsPositionStatic:!0,highlightStroke:"rgba(0,0,0,0)",highlightFill:"rgba(255,255,255,0.7)",highlightLinewidth:1,title:"",titleX:null,titleY:null,titleHalign:"center",titleValign:null,titleSize:null,titleColor:null,titleFont:null,titleBold:null,titleItalic:null,titleSubtitle:null,titleSubtitleColor:"#aaa",titleSubtitleSize:null,titleSubtitleFont:null,titleSubtitleBold:null,titleSubtitleItalic:null,shadow:!1,shadowOffsetx:2,shadowOffsety:2,shadowBlur:2,shadowOpacity:.25,key:null,keyColors:null,keyOffsetx:0,keyOffsety:0,keyLabelsOffsetx:0,keyLabelsOffsety:-1,keyLabelsSize:null,keyLabelsBold:null,keyLabelsItalic:null,keyLabelsColor:null,keyLabelsFont:null},RGraph.SVG.getGlobals(this),RGraph.SVG.FX&&"function"==typeof RGraph.SVG.FX.decorate&&RGraph.SVG.FX.decorate(this),this.responsive=RGraph.SVG.responsive,RGraph.SVG.addCreateFunction(this);var p=this.properties;for(i in this.draw=function(){if(RGraph.SVG.fireCustomEvent(this,"onbeforedraw"),this.yaxisLabelSubstitution(),this.width=Number(this.svg.getAttribute("width")),this.height=Number(this.svg.getAttribute("height")),this.coords=[],this.coords2=[],RGraph.SVG.createDefs(this),p.marginLeftAuto){for(var t=RGraph.SVG.getTextConf({object:this,prefix:"yaxisLabels"}),e=0,i=p.yaxisLabels.length,a=0;e<i;++e){var s=RGraph.SVG.measureText({text:p.yaxisLabels[e],bold:t.bold,size:t.size,font:t.font,italic:t.italic});a=Math.max(a,s[0])}p.yaxisTitle&&(r=RGraph.SVG.getTextConf({object:this,prefix:"yaxisTitle"}),a+=RGraph.SVG.measureText({text:p.yaxisTitle,bold:r.bold,size:r.size,font:r.font,font:r.italic})[1]),p.marginLeft=a+15,p.marginLeft<15&&(p.marginLeft=15)}if("right"===p.yaxisPosition&&!1!==p.marginRightAuto){for(e=0,i=p.yaxisLabels.length,a=0;e<i;++e){s=RGraph.SVG.measureText({text:p.yaxisLabels[e],bold:p.yaxisLabelsBold||p.textBold,size:p.yaxisLabelsSize||p.textSize,font:p.yaxisLabelsFont||p.textFont});a=Math.max(a,s[0])}p.marginRight=a+15,p.marginRight<15&&(p.marginRight=15)}this.graphWidth=this.width-p.marginLeft-p.marginRight,this.graphHeight=this.height-p.marginTop-p.marginBottom,RGraph.SVG.resetColorsToOriginalValues({object:this}),this.parseColors();for(var o=[],e=0,r=0;e<this.data.length;++e)"number"==typeof this.data[e]?o.push(this.data[e]):RGraph.SVG.isArray(this.data[e])&&"grouped"===p.grouping?o.push(RGraph.SVG.arrayMax(this.data[e])):RGraph.SVG.isArray(this.data[e])&&"stacked"===p.grouping&&o.push(RGraph.SVG.arraySum(this.data[e]));r=RGraph.SVG.arrayMax(o);"number"==typeof p.xaxisScaleMax&&(r=p.xaxisScaleMax),"mirror"!==p.xaxisScaleMin&&"middle"!==p.xaxisScaleMin&&"center"!==p.xaxisScaleMin||(this.mirrorScale=!0,p.xaxisScaleMin=-1*p.xaxisScaleMax),this.scale=RGraph.SVG.getScale({object:this,numlabels:p.xaxisLabelsCount,unitsPre:p.xaxisScaleUnitsPre,unitsPost:p.xaxisScaleUnitsPost,max:r,min:p.xaxisScaleMin,point:p.xaxisScalePoint,round:p.xaxisScaleRound,thousand:p.xaxisScaleThousand,decimals:p.xaxisScaleDecimals,strict:"number"==typeof p.xaxisScaleMax,formatter:p.xaxisScaleFormatter}),this.mirrorScale&&(this.scale=RGraph.SVG.getScale({object:this,numlabels:p.xaxisLabelsCount,unitsPre:p.xaxisScaleUnitsPre,unitsPost:p.xaxisScaleUnitsPost,max:this.scale.max,min:-1*this.scale.max,point:p.xaxisScaleThousand,round:!1,thousand:p.xaxisScaleThousand,decimals:p.xaxisScaleDecimals,strict:"number"==typeof p.xaxisScaleMax,formatter:p.xaxisScaleFormatter})),this.max=this.scale.max,p.xaxisScaleMax=this.scale.max,this.min=this.scale.min,p.xaxisScaleMin=this.scale.min,RGraph.SVG.drawBackground(this),this.drawBars(),RGraph.SVG.drawXAxis(this),RGraph.SVG.drawYAxis(this),this.drawLabelsAbove(),this.drawLabelsInbar(),null!==typeof p.key&&RGraph.SVG.drawKey?RGraph.SVG.drawKey(this):RGraph.SVG.isNull(p.key)||alert("The drawKey() function does not exist - have you forgotten to include the key library?");var l=this;return document.body.addEventListener("mousedown",function(t){RGraph.SVG.removeHighlight(l)},!1),RGraph.SVG.addCustomText(this),this.firstDraw&&(this.firstDraw=!1,RGraph.SVG.fireCustomEvent(this,"onfirstdraw")),RGraph.SVG.fireCustomEvent(this,"ondraw"),this},this.yaxisLabelSubstitution=function(){if(p.yaxisLabels&&p.yaxisLabels.length){"string"==typeof p.yaxisLabels&&(p.yaxisLabels=RGraph.SVG.arrayPad({array:[],length:this.data.length,value:p.yaxisLabels}));for(var t=0;t<p.yaxisLabels.length;++t)p.yaxisLabels[t]=RGraph.SVG.labelSubstitution({object:this,text:p.yaxisLabels[t],index:t,value:this.data[t],decimals:p.yaxisLabelsFormattedDecimals||0,unitsPre:p.yaxisLabelsFormattedUnitsPre||"",unitsPost:p.yaxisLabelsFormattedUnitsPost||"",thousand:p.yaxisLabelsFormattedThousand||",",point:p.yaxisLabelsFormattedPoint||"."})}},this.drawBars=function(){p.shadow&&RGraph.SVG.setShadow({object:this,offsetx:p.shadowOffsetx,offsety:p.shadowOffsety,blur:p.shadowBlur,opacity:p.shadowOpacity,id:"dropShadow"});for(var t=0,e=0;t<this.data.length;++t,++e)if("number"==typeof this.data[t]){var i=(this.graphHeight-p.marginInnerTop-p.marginInnerBottom)/this.data.length,a=this.getWidth(this.data[t]),s=(this.graphHeight-p.marginInnerTop-p.marginInnerBottom)/this.data.length-p.marginInner-p.marginInner,o=this.getXCoord(this.scale.min<0&&this.scale.max<0||0<this.scale.min&&0<this.scale.max?this.scale.min:0)-(this.data[t]<0?a:0),r=p.marginTop+p.marginInnerTop+p.marginInner+i*t;"right"===p.yaxisPosition&&0<=this.scale.min&&(o=this.getXCoord(this.data[t])),"right"===p.yaxisPosition&&this.scale.min<0&&(o=this.getXCoord(0)),this.scale.min<0&&this.scale.max<0&&(o=this.width-p.marginRight-a),this.mirrorScale&&"right"===p.yaxisPosition&&(o=0<this.data[t]?this.getXCoord(0)-a:this.getXCoord(0)),0<this.data[t]&&"right"===p.yaxisPosition&&(o=this.getXCoord(0)-a);var l=RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"rect",attr:{stroke:p.colorsStroke,fill:p.colorsSequential?p.colors[e]||p.colors[p.colors.length-1]:p.colors[0],x:o,y:r,width:a,height:s,"stroke-width":p.linewidth,"data-tooltip":!RGraph.SVG.isNull(p.tooltips)&&p.tooltips.length?p.tooltips[t]:"","data-index":t,"data-original-x":o,"data-original-y":r,"data-original-width":a,"data-original-height":s,"data-sequential-index":e,"data-value":this.data[t],filter:p.shadow?"url(#dropShadow)":""}});this.coords.push({object:this,element:l,x:parseFloat(l.getAttribute("x")),y:parseFloat(l.getAttribute("y")),width:parseFloat(l.getAttribute("width")),height:parseFloat(l.getAttribute("height"))}),this.coords2[0]||(this.coords2[0]=[]),this.coords2[0].push({object:this,element:l,x:parseFloat(l.getAttribute("x")),y:parseFloat(l.getAttribute("y")),width:parseFloat(l.getAttribute("width")),height:parseFloat(l.getAttribute("height"))}),RGraph.SVG.isNull(p.tooltips)||!p.tooltips[e]&&"string"!=typeof p.tooltips||(c=this,function(e,i){l.addEventListener(p.tooltipsEvent.replace(/^on/,""),function(t){c.removeHighlight(),RGraph.SVG.tooltip({object:c,index:e,group:null,sequentialIndex:i,text:"string"==typeof p.tooltips?p.tooltips:p.tooltips[i],event:t}),c.highlight(t.target)},!1),l.addEventListener("mousemove",function(t){t.target.style.cursor="pointer"},!1)}(t,e))}else if(RGraph.SVG.isArray(this.data[t])&&"grouped"===p.grouping){for(var n=(i=(this.graphHeight-p.marginInnerTop-p.marginInnerBottom)/this.data.length)-2*p.marginInner,h=0;h<this.data[t].length;++h,++e){var d,g,b,a=Math.abs(this.data[t][h]/(this.max-this.min)*this.graphWidth),s=(n-(this.data[t].length-1)*p.marginInnerGrouped)/this.data[t].length,r=p.marginTop+p.marginInner+p.marginInnerTop+i*t+h*s+h*p.marginInnerGrouped,o=this.getXCoord(0)-(this.data[t][h]<0?a:0);this.scale.max<0&&this.scale.min<this.scale.max?(d=this.getXCoord(this.data[t][h]),a=(g=this.getXCoord(this.scale.max))-(o=d)):0<this.scale.min&&this.scale.max>this.scale.min&&(d=this.getXCoord(this.data[t][h]),g=this.getXCoord(this.scale.min),o=this.getXCoord(this.scale.min),a=d-g),"right"===p.yaxisPosition&&0===this.scale.min&&(o=this.getXCoord(this.data[t][h])),"right"===p.yaxisPosition&&this.scale.min<0&&0<=this.scale.max&&(o=this.data[t][h]<0?this.getXCoord(0):this.getXCoord(this.data[t][h])),p.colorsSequential?p.colors[e]&&(b=p.colors[e]):b=p.colors[h]||p.colors[p.colors.length-1];l=RGraph.SVG.create({svg:this.svg,type:"rect",parent:this.svg.all,attr:{stroke:p.colorsStroke,fill:b,x:o,y:r,width:a,height:s,"stroke-width":p.linewidth,"data-index":t,"data-original-x":o,"data-original-y":r,"data-original-width":a,"data-original-height":s,"data-sequential-index":e,"data-tooltip":!RGraph.SVG.isNull(p.tooltips)&&p.tooltips.length?p.tooltips[e]:"","data-value":this.data[t][h],filter:p.shadow?"url(#dropShadow)":""}});this.coords.push({object:this,element:l,x:parseFloat(l.getAttribute("x")),y:parseFloat(l.getAttribute("y")),width:parseFloat(l.getAttribute("width")),height:parseFloat(l.getAttribute("height"))}),this.coords2[t]||(this.coords2[t]=[]),this.coords2[t].push({object:this,element:l,x:parseFloat(l.getAttribute("x")),y:parseFloat(l.getAttribute("y")),width:parseFloat(l.getAttribute("width")),height:parseFloat(l.getAttribute("height"))}),RGraph.SVG.isNull(p.tooltips)||!p.tooltips[e]&&"string"!=typeof p.tooltips||(c=this,function(e,i){var a=RGraph.SVG.sequentialIndexToGrouped(i,c.data);l.addEventListener(p.tooltipsEvent.replace(/^on/,""),function(t){c.removeHighlight(),RGraph.SVG.tooltip({object:c,group:e,index:a[1],sequentialIndex:i,text:"string"==typeof p.tooltips?p.tooltips:p.tooltips[i],event:t}),c.highlight(t.target)},!1),l.addEventListener("mousemove",function(t){t.target.style.cursor="pointer"},!1)}(t,e))}--e}else if(RGraph.SVG.isArray(this.data[t])&&"stacked"===p.grouping){this.graphHeight,p.marginInnerTop,p.marginInnerBottom,this.data.length;for(o=this.getXCoord(0),h=0;h<this.data[t].length;++h,++e){var u=(this.graphHeight-p.marginInnerTop-p.marginInnerBottom)/this.data.length,a=Math.abs(this.data[t][h]/(this.max-this.min)*this.graphWidth),s=u-2*p.marginInner,r=p.marginTop+p.marginInner+p.marginInnerTop+u*t;"right"===p.yaxisPosition&&(o-=a),0===h&&p.shadow&&(u=Math.abs(RGraph.SVG.arraySum(this.data[t])/(this.max-this.min)*this.graphWidth),l=RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"rect",attr:{x:"right"===p.yaxisPosition?this.getXCoord(0)-u:this.getXCoord(0),y:r,width:u,height:s,fill:"white","stroke-width":0,"data-index":t,filter:"url(#dropShadow)"}}),this.stackedBackfaces[t]=l);var c,l=RGraph.SVG.create({svg:this.svg,type:"rect",parent:this.svg.all,attr:{stroke:p.colorsStroke,fill:p.colorsSequential?p.colors[e]||p.colors[p.colors.length-1]:p.colors[h]||p.colors[p.colors.length-1],x:o,y:r,width:a,height:s,"stroke-width":p.linewidth,"data-original-width":a,"data-original-height":s,"data-original-x":o-a,"data-original-y":r,"data-index":t,"data-sequential-index":e,"data-tooltip":!RGraph.SVG.isNull(p.tooltips)&&p.tooltips.length?p.tooltips[e]:"","data-value":this.data[t][h]}});this.coords.push({object:this,element:l,x:parseFloat(l.getAttribute("x")),y:parseFloat(l.getAttribute("y")),width:parseFloat(l.getAttribute("width")),height:parseFloat(l.getAttribute("height"))}),this.coords2[t]||(this.coords2[t]=[]),this.coords2[t].push({object:this,element:l,x:parseFloat(l.getAttribute("x")),y:parseFloat(l.getAttribute("y")),width:parseFloat(l.getAttribute("width")),height:parseFloat(l.getAttribute("height"))}),RGraph.SVG.isNull(p.tooltips)||!p.tooltips[e]&&"string"!=typeof p.tooltips||(c=this,function(i,a){l.addEventListener(p.tooltipsEvent.replace(/^on/,""),function(t){c.removeHighlight();var e=RGraph.SVG.sequentialIndexToGrouped(a,c.data);RGraph.SVG.tooltip({object:c,index:e[1],group:i,sequentialIndex:a,text:"string"==typeof p.tooltips?p.tooltips:p.tooltips[a],event:t}),c.highlight(t.target)},!1),l.addEventListener("mousemove",function(t){t.target.style.cursor="pointer"},!1)}(t,e)),"right"===p.yaxisPosition||(o+=a)}--e}},this.getXCoord=function(t){this.properties;if(t>this.scale.max)return null;if(t<this.scale.min)return null;t=(t-this.scale.min)/(this.scale.max-this.scale.min);return t*=this.graphWidth,"right"===p.yaxisPosition?t=this.width-p.marginRight-t:t+=p.marginLeft,t},this.getWidth=function(t){var e;return t=(e=this.scale.max<=0&&this.scale.min<this.scale.max?this.getXCoord(this.scale.max):0<this.scale.min&&this.scale.max>this.scale.min?this.getXCoord(this.scale.min):this.getXCoord(0),this.getXCoord(t)),Math.abs(e-t)},this.highlight=function(t){var e=parseFloat(t.getAttribute("x"))-.5,i=parseFloat(t.getAttribute("y"))-.5,a=parseFloat(t.getAttribute("width"))+1,t=parseFloat(t.getAttribute("height"))+1,t=RGraph.SVG.create({svg:this.svg,type:"rect",parent:this.svg.all,attr:{stroke:p.highlightStroke,fill:p.highlightFill,x:e,y:i,width:a,height:t,"stroke-width":p.highlightLinewidth},style:{pointerEvents:"none"}});RGraph.SVG.REG.set("highlight",t)},this.parseColors=function(){Object.keys(this.originalColors).length||(this.originalColors={colors:RGraph.SVG.arrayClone(p.colors),backgroundGridColor:RGraph.SVG.arrayClone(p.backgroundGridColor),highlightFill:RGraph.SVG.arrayClone(p.highlightFill),backgroundColor:RGraph.SVG.arrayClone(p.backgroundColor)});var t=p.colors;if(t)for(var e=0;e<t.length;++e)t[e]=RGraph.SVG.parseColorLinear({object:this,color:t[e],direction:"horizontal",start:p.marginLeft,end:this.width-p.marginRight});p.backgroundGridColor=RGraph.SVG.parseColorLinear({object:this,color:p.backgroundGridColor,direction:"horizontal",start:p.marginLeft,end:this.width-p.marginRight}),p.highlightFill=RGraph.SVG.parseColorLinear({object:this,color:p.highlightFill,direction:"horizontal",start:p.marginLeft,end:this.width-p.marginRight}),p.backgroundColor=RGraph.SVG.parseColorLinear({object:this,color:p.backgroundColor})},this.drawLabelsAbove=function(){if(p.labelsAbove)for(var t=RGraph.SVG.getTextConf({object:this,prefix:"labelsAbove"}),e=RGraph.SVG.arrayLinearize(this.data),i=0;i<this.coords.length;++i){var a=e[i].toFixed("number"==typeof p.labelsAboveDecimals?p.labelsAboveDecimals:p.xaxisScaleDecimals),s=RGraph.SVG.sequentialIndexToGrouped(i,this.data);if(RGraph.SVG.isArray(this.data[s[0]])&&"stacked"===p.grouping){if(s[1]+1!==this.data[s[0]].length)continue;a=(a=RGraph.SVG.arraySum(this.data[s[0]])).toFixed("number"==typeof p.labelsAboveDecimals?p.labelsAboveDecimals:p.xaxisScaleDecimals)}var o=p.labelsAboveSpecific?p.labelsAboveSpecific[i].toString():RGraph.SVG.numberFormat({object:this,num:a,prepend:"string"==typeof p.labelsAboveUnitsPre?p.labelsAboveUnitsPre:null,append:"string"==typeof p.labelsAboveUnitsPost?p.labelsAboveUnitsPost:null,point:"string"==typeof p.labelsAbovePoint?p.labelsAbovePoint:null,thousand:"string"==typeof p.labelsAboveThousand?p.labelsAboveThousand:null,formatter:"function"==typeof p.labelsAboveFormatter?p.labelsAboveFormatter:null}),r=p.labelsAboveHalign,l=p.labelsAboveValign,n=RGraph.SVG.measureText({text:o,bold:t.bold,font:t.font,size:t.size}),h=0<=a?parseFloat(this.coords[i].element.getAttribute("x"))+7+p.labelsAboveOffsetx:parseFloat(this.coords[i].element.getAttribute("x")-7-p.labelsAboveOffsetx),d=parseFloat(this.coords[i].element.getAttribute("y"))+parseFloat(this.coords[i].element.getAttribute("height")/2)+p.labelsAboveOffsety,g=n[0],r=(n[1],0<=a?"left":"right");"left"===p.yaxisPosition&&"grouped"===p.grouping&&(h=parseFloat(this.coords[i].element.getAttribute("x"))+parseFloat(this.coords[i].element.getAttribute("width"))+7+p.labelsAboveOffsetx),"right"===p.yaxisPosition?(h=0<=a?parseFloat(this.coords[i].element.getAttribute("x"))-7-p.labelsAboveOffsetx:parseFloat(this.coords[i].element.getAttribute("x")+7+p.labelsAboveOffsetx),r=0<=a?"right":"left"):RGraph.SVG.isArray(this.data[s[0]])&&"stacked"===p.grouping&&"left"===p.yaxisPosition&&(h+=this.coords2[s[0]][s[1]].width),"right"===p.yaxisPosition&&"grouped"===p.grouping&&0<p.xaxisScaleMax&&p.xaxisScaleMin<0&&(h=(a=this.coords[i].element.getAttribute("data-value"))<0?this.getXCoord(a)+7:this.getXCoord(a)-7),"left"===p.yaxisPosition&&"grouped"===p.grouping&&0<p.xaxisScaleMax&&p.xaxisScaleMin<0&&(h=(a=this.coords[i].element.getAttribute("data-value"))<0?this.getXCoord(a)-7:this.getXCoord(a)+7),"right"===p.yaxisPosition?h-g<p.marginLeft&&0<a&&(r="left",h=p.marginLeft+5,p.labelsAboveBackground=p.labelsAboveBackground||"rgba(255,255,255,0.95)"):h+g>this.width&&0<a&&(r="right",h=this.width-5,p.labelsAboveBackground=p.labelsAboveBackground||"rgba(255,255,255,0.95)"),"stacked"===p.grouping&&"number"==typeof this.data[s[0]]&&"left"===p.yaxisPosition&&(h+=parseInt(this.coords[i].element.getAttribute("width"))),"string"==typeof p.labelsAboveHalign&&(r=p.labelsAboveHalign);RGraph.SVG.text({object:this,parent:this.svg.all,tag:"labels.above",text:o,x:h,y:d,halign:r,valign:l,font:t.font,size:t.size,bold:t.bold,italic:t.italic,color:t.color,background:p.labelsAboveBackground||null,padding:p.labelsAboveBackgroundPadding||0})}},this.drawLabelsInbar=function(){if(p.labelsInbar)for(var t,e,i,a,s,o,r=p.labelsInbarValign,l=p.labelsInbarHalign,n=RGraph.SVG.getTextConf({object:this,prefix:"labelsInbar"}),h=RGraph.SVG.arrayLinearize(this.data),d=0;d<this.coords.length;++d)RGraph.SVG.isNumber(h[d])&&!isNaN(h[d])&&(t=this.coords[d].element,e=h[d].toFixed(p.labelsInbarDecimals),RGraph.SVG.sequentialIndexToGrouped(d,this.data),i=RGraph.SVG.measureText({text:o,bold:n.bold,font:n.font,size:n.size}),a=parseFloat(t.getAttribute("x"))+parseFloat(t.getAttribute("width"))/2+p.labelsInbarOffsetx,s=parseFloat(t.getAttribute("y"))+parseFloat(t.getAttribute("height"))/2+p.labelsInbarOffsety,i[0],i[1],"left"===p.labelsInbarHalign?(l="left",a=parseFloat(t.getAttribute("x"))+5+p.labelsInbarOffsetx):"right"===p.labelsInbarHalign&&(l="right",a=parseFloat(t.getAttribute("x"))+parseFloat(t.getAttribute("width"))-5+p.labelsInbarOffsetx),"bottom"===p.labelsInbarValign?(r="bottom",s=parseFloat(t.getAttribute("y"))-5+parseFloat(t.getAttribute("height"))+p.labelsInbarOffsety):"top"===p.labelsInbarValign&&(r="top",s=parseFloat(t.getAttribute("y"))+5+p.labelsInbarOffsety),o=p.labelsAboveSpecific?p.labelsAboveSpecific[d].toString():RGraph.SVG.numberFormat({object:this,num:e,prepend:"string"==typeof p.labelsInbarUnitsPre?p.labelsInbarUnitsPre:null,append:"string"==typeof p.labelsInbarUnitsPost?p.labelsInbarUnitsPost:null,point:"string"==typeof p.labelsInbarPoint?p.labelsInbarPoint:null,thousand:"string"==typeof p.labelsInbarThousand?p.labelsInbarThousand:null,formatter:"function"==typeof p.labelsInbarFormatter?p.labelsInbarFormatter:null}),RGraph.SVG.isArray(p.labelsInbarSpecific)&&(RGraph.SVG.isString(p.labelsInbarSpecific[d])||RGraph.SVG.isNumber(p.labelsInbarSpecific[d]))&&(o=p.labelsInbarSpecific[d]),RGraph.SVG.text({object:this,parent:this.svg.all,tag:"labels.inbar",text:o,x:a,y:s,halign:l,valign:r,font:n.font,size:n.size,bold:n.bold,italic:n.italic,color:n.color,background:p.labelsInbarBackground||null,padding:p.labelsInbarBackgroundPadding||0}))},this.on=function(t,e){return"on"!==t.substr(0,2)&&(t="on"+t),RGraph.SVG.addCustomEventListener(this,t,e),this},this.exec=function(t){return t(this),this},this.removeHighlight=function(){var t=RGraph.SVG.REG.get("highlight");t&&t.parentNode&&t.parentNode.removeChild(t),RGraph.SVG.REG.set("highlight",null)},this.grow=function(){var l=arguments[0]||{},n=l.frames||30,h=0,d=this,g=[],g=RGraph.SVG.arrayClone(this.data);this.draw();var b=function(){for(var t=0,e=0,i=d.coords.length;t<i;++t,++e){var a=h/n;if("number"==typeof g[t])width=Math.abs(d.getXCoord(g[t])-d.getXCoord(0)),d.data[t]=g[t]*a,width*=a,d.coords[e].element.setAttribute("width",width),d.coords[e].element.setAttribute("x",0<g[t]?d.getXCoord(0)-("right"===p.yaxisPosition?width:0):!(p.xaxisScaleMin<0&&0<p.xaxisScaleMax)||"right"===p.yaxisPosition?d.getXCoord(0):d.getXCoord(0)-width);else if("object"==typeof g[t]){for(var s=0,o=0,r=g[t].length;o<r;++o,++e)width=Math.abs(d.getXCoord(g[t][o])-d.getXCoord(0)),width*=a,d.data[t][o]=g[t][o]*a,s+=width,d.coords[e].element.setAttribute("width",width),"right"===p.yaxisPosition?"stacked"===p.grouping?d.coords[e].element.setAttribute("x",d.getXCoord(0)-s):d.coords[e].element.setAttribute("x",d.getXCoord(0)-(d.coords[e].element.getAttribute("data-value")<0?0:width)):d.coords[e].element.setAttribute("x","stacked"===p.grouping?d.getXCoord(0)+(s-width):"grouped"===p.grouping&&d.coords[e].element.getAttribute("data-value")<0?d.getXCoord(0)-width:d.getXCoord(0));d.stackedBackfaces[t]&&(d.stackedBackfaces[t].setAttribute("width",s),d.stackedBackfaces[t].setAttribute("x","right"===p.yaxisPosition?d.getXCoord(0)-s:d.getXCoord(0))),--e}}h++<n?RGraph.SVG.FX.update(b):l.callback&&(RGraph.SVG.redraw(),l.callback(d))};return b(),this},this.wave=function(){this.draw();var h=this,d=arguments[0]||{};d.frames=d.frames||60,d.startFrames=[],d.counters=[];for(var g,b=d.frames/3,u=-1,c=d.callback||function(){},t=0,e=this.coords.length;t<e;t+=1)d.startFrames[t]=d.frames/2/(h.coords.length-1)*t,d.counters[t]=0,this.coords[t].element.setAttribute("width",0),"stacked"===p.grouping&&h.stackedBackfaces[t]&&h.stackedBackfaces[t].setAttribute("width",0);return"stacked"===p.grouping&&"right"===p.yaxisPosition&&(previousX=h.width-p.marginRight,previousW=0),function t(){++u;for(var e=0,i=0,a=h.coords.length;i<a;i+=1)if(u>d.startFrames[i]){var s,o=h.coords[i].element.getAttribute("data-original-width"),r=parseFloat(h.coords[i].element.getAttribute("data-value"));if(indexes=RGraph.SVG.sequentialIndexToGrouped(i,h.data),indexes[0]!==e&&(e=indexes[0]),h.coords[i].element.setAttribute("width",g=Math.min((u-d.startFrames[i])/b*o,o)),"right"===p.yaxisPosition?"stacked"===p.grouping?0===indexes[1]?(h.coords[i].element.setAttribute("x",h.width-p.marginRight-g),s=h.coords[i].element.getAttribute("x")):h.coords[i].element.setAttribute("x",s-g):h.coords[i].element.setAttribute("x",0<=r?h.getXCoord(0)-g:h.getXCoord(0)):h.coords[i].element.setAttribute("x",0<=r?h.getXCoord(0):h.getXCoord(0)-g),"stacked"===p.grouping&&RGraph.SVG.isArray(h.data[indexes[0]])){"left"===p.yaxisPosition&&0<indexes[1]&&h.coords[i].element.setAttribute("x",parseInt(h.coords[i-1].element.getAttribute("x"))+parseInt(h.coords[i-1].element.getAttribute("width")));for(var l=0,n=0;l<h.coords2[indexes[0]].length;++l)n+=parseInt(h.coords2[indexes[0]][l].element.getAttribute("width"));"right"===p.yaxisPosition?(h.stackedBackfaces[indexes[0]].setAttribute("width",n),h.stackedBackfaces[indexes[0]].setAttribute("x",h.width-p.marginRight-n)):(h.stackedBackfaces[indexes[0]].setAttribute("x",h.getXCoord(0)),h.stackedBackfaces[indexes[0]].setAttribute("width",n)),s=h.coords[i].element.getAttribute("x"),previousW=h.coords[i].element.getAttribute("width")}}u>=d.frames?c(h):RGraph.SVG.FX.update(t)}(),this},this.tooltipSubstitutions=function(t){var e=RGraph.SVG.sequentialIndexToGrouped(t.index,this.data);return{index:e[1],dataset:e[0],sequentialIndex:t.index,value:"number"==typeof this.data[e[0]]?this.data[e[0]]:this.data[e[0]][e[1]],values:"number"==typeof this.data[e[0]]?[this.data[e[0]]]:this.data[e[0]]}},this.tooltipsFormattedCustom=function(t,e){return{label:"object"==typeof this.data[0]?!RGraph.SVG.isNull(p.tooltipsFormattedKeyLabels)&&"object"==typeof p.tooltipsFormattedKeyLabels&&p.tooltipsFormattedKeyLabels[e]?p.tooltipsFormattedKeyLabels[e]:"":!RGraph.SVG.isNull(p.tooltipsFormattedKeyLabels)&&"object"==typeof p.tooltipsFormattedKeyLabels&&p.tooltipsFormattedKeyLabels[t.index]?p.tooltipsFormattedKeyLabels[t.index]:""}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),a=(t.index,RGraph.SVG.getSVGXY(e.svg)),e=this.coords[t.index];t.tooltip.style.left=a[0]+e.x-i.offsetWidth/2+e.width/2+"px",t.tooltip.style.top=a[1]+e.y-i.offsetHeight-10+"px"},t.options)"string"==typeof i&&this.set(i,t.options[i])};