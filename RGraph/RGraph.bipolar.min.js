RGraph=window.RGraph||{isrgraph:!0,isRGraph:!0,rgraph:!0},RGraph.Bipolar=function(t){var i=t.id,s=document.getElementById(i),e=t.left,a=t.right;this.id=i,this.canvas=s,this.context=this.canvas.getContext("2d"),(this.canvas.__object__=this).type="bipolar",this.coords=[],this.coords2=[],this.coordsLeft=[],this.coordsRight=[],this.coords2Left=[],this.coords2Right=[],this.max=0,this.isRGraph=!0,this.isrgraph=!0,this.rgraph=!0,this.uid=RGraph.createUID(),this.canvas.uid=this.canvas.uid||RGraph.createUID(),this.coordsText=[],this.original_colors=[],this.firstDraw=!0;s=[e,a];s[0]=RGraph.stringsToNumbers(s[0]),s[1]=RGraph.stringsToNumbers(s[1]),this.left=s[0],this.right=s[1],this.data=[s[0],s[1]],this.data2=[];for(var h=0;h<e.length;++h)this.data2.push(e[h]);for(h=0;h<a.length;++h)this.data2.push(a[h]);this.properties={backgroundGrid:!0,backgroundGridColor:"#ddd",backgroundGridVlines:!0,backgroundGridHlines:!0,backgroundGridLinewidth:1,backgroundGridVlinesCount:null,backgroundGridHlinesCount:null,xaxis:!0,xaxisTickmarksCount:5,xaxisTickmarksInterval:null,xaxisScaleUnitsPre:"",xaxisScaleUnitsPost:"",xaxisScaleMax:null,xaxisScaleMin:0,xaxisScaleZerostart:!0,xaxisScaleDecimals:null,xaxisScalePoint:".",xaxisScaleThousand:",",xaxisLabels:!0,xaxisLabelsFont:null,xaxisLabelsSize:null,xaxisLabelsColor:null,xaxisLabelsBold:null,xaxisLabelsItalic:null,xaxisLabelsCount:5,xaxisLabelsOffsetx:0,xaxisLabelsOffsety:0,yaxis:!0,yaxisTickmarksCount:null,yaxisLabels:[],yaxisLabelsFont:null,yaxisLabelsSize:null,yaxisLabelsColor:null,yaxisLabelsBold:null,yaxisLabelsItalic:null,yaxisLabelsOffsetx:0,yaxisLabelsOffsety:0,yaxisLabelsFormattedDecimals:0,yaxisLabelsFormattedPoint:".",yaxisLabelsFormattedThousand:",",yaxisLabelsFormattedUnitsPre:"",yaxisLabelsFormattedUnitsPost:"",labelsAbove:!1,labelsAboveFont:null,labelsAboveSize:null,labelsAboveBold:null,labelsAboveItalic:null,labelsAboveColor:null,labelsAboveUnitsPre:"",labelsAboveUnitsPost:"",labelsAboveDecimals:0,labelsAboveFormatter:null,labelsAboveOffsetx:0,labelsAboveOffsety:0,textBold:!1,textItalic:!1,textSize:12,textColor:"black",textFont:"Arial, Verdana, sans-serif",textAccessible:!0,textAccessibleOverflow:"visible",textAccessiblePointerevents:!1,text:null,titleLeft:null,titleLeftFont:null,titleLeftSize:null,titleLeftBold:null,titleLeftItalic:null,titleLeftColor:null,titleLeftOffsetx:0,titleLeftOffsety:0,titleRight:null,titleRightFont:null,titleRightSize:null,titleRightBold:null,titleRightItalic:null,titleRightColor:null,titleOffsetx:0,titleOffsety:0,titleRightOffsetx:0,titleRightOffsety:0,title:null,titleFont:null,titleSize:null,titleBold:null,titleItalic:null,titleColor:null,titleBackground:null,titleHpos:null,titleVpos:null,titleX:null,titleY:null,titleHalign:null,titleValign:null,marginCenter:0,marginCenterAuto:!0,marginLeft:35,marginRight:35,marginTop:35,marginBottom:35,marginInner:5,marginInnerGrouped:3,colorsStroke:"rgba(0,0,0,0)",colors:["red","blue","yellow","#afa","#faa","#aaf","#aff","#ffa","#faf","cyan","brown","gray","black","pink","#afa","#faa","#aaf","#aff","#ffa","#faf","cyan","brown","gray","black","pink"],colorsSequential:!1,colorsLeft:null,colorsRight:null,contextmenu:null,tooltips:null,tooltipsEffect:"slide",tooltipsCssClass:"RGraph_tooltip",tooltipsCss:null,tooltipsHighlight:!0,tooltipsEvent:"click",tooltipsFormattedThousand:",",tooltipsFormattedPoint:".",tooltipsFormattedDecimals:0,tooltipsFormattedUnitsPre:"",tooltipsFormattedUnitsPost:"",tooltipsFormattedKeyColors:null,tooltipsFormattedKeyColorsShape:"square",tooltipsFormattedKeyLabels:[],tooltipsFormattedListType:"ul",tooltipsFormattedListItems:null,tooltipsFormattedTableHeaders:null,tooltipsFormattedTableData:null,tooltipsPointer:!0,tooltipsPositionStatic:!0,highlightStroke:"rgba(0,0,0,0)",highlightFill:"rgba(255,255,255,0.7)",shadow:!1,shadowColor:"#ccc",shadowOffsetx:3,shadowOffsety:3,shadowOlur:3,annotatable:!1,annotatableColor:"black",axes:!0,axesColor:"black",axesLinewidth:1,resizable:!1,resizableHandleBackground:null,linewidth:1,variantThreedOffsetx:10,variantThreedOffsety:5,variantThreedAngle:.1,grouping:"grouped",clearto:"rgba(0,0,0,0)",leftVisible:!0,rightVisible:!0},this.properties.yaxisTickmarksCount=this.left.length;for(var o=RGraph.arrayLinearize(this.left,this.right),h=0;h<o.length;++h)this["$"+h]={};var v=this.properties;this.path=RGraph.pathObjectFunction,RGraph.Effects&&"function"==typeof RGraph.Effects.decorate&&RGraph.Effects.decorate(this),this.responsive=RGraph.responsive,this.set=function(t){var i=void 0===arguments[1]?null:arguments[1];if(1!==arguments.length||"object"!=typeof t)return v[t]=i,this;for(h in t)"string"==typeof h&&this.set(h,t[h]);return this},this.get=function(t){return this.properties[t]},this.draw=function(){if(RGraph.fireCustomEvent(this,"onbeforedraw"),this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.marginLeft=v.marginLeft,this.marginRight=v.marginRight,this.marginTop=v.marginTop,this.marginBottom=v.marginBottom,this.marginCenter=v.marginCenter,this.marginCenterAuto=v.marginCenterAuto,v.yaxisLabels&&v.yaxisLabels.length){"string"==typeof v.yaxisLabels&&(v.yaxisLabels=RGraph.arrayPad({array:[],length:this.left.length,value:v.yaxisLabels}));for(var t=0;t<v.yaxisLabels.length;++t)v.yaxisLabels[t]=RGraph.labelSubstitution({object:this,text:v.yaxisLabels[t],index:t,value:this.left[t],decimals:v.yaxisLabelsFormattedDecimals||0,unitsPre:v.yaxisLabelsFormattedUnitsPre||"",unitsPost:v.yaxisLabelsFormattedUnitsPost||"",thousand:v.yaxisLabelsFormattedThousand||",",point:v.yaxisLabelsFormattedPoint||"."})}return v.marginCenterAuto&&!v.marginCenter&&(v.marginCenter=this.getMarginCenter()),this.marginCenter=v.marginCenter,this.left=this.data[0],this.right=this.data[1],this.coords=[],this.coords2=[],this.coordsLeft=[],this.coordsRight=[],this.coords2Left=[],this.coords2Right=[],this.coordsText=[],"3d"===v.variant&&(v.textAccessible||this.context.setTransform(1,v.variantThreedAngle,0,1,.5,.5)),this.axisWidth=(this.canvas.width-v.marginCenter-this.marginLeft-this.marginRight)/2,this.axisHeight=this.canvas.height-this.marginTop-this.marginBottom,this.sequentialFullIndex=0,this.getMax(),this.drawBackgroundGrid(),this.draw3DAxes(),this.drawAxes(),this.drawTicks(),this.drawLeftBars(),this.drawRightBars(),v.leftVisible&&this.drawLeftBars({shadow:!1}),v.rightVisible&&this.drawRightBars({shadow:!1}),this.drawAxes(),this.drawLabels(),this.drawTitles(),this.redraw3Dfaces(),v.contextmenu&&RGraph.showContext(this),RGraph.addCustomText(this),RGraph.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,RGraph.fireCustomEvent(this,"onfirstdraw"),this.firstDrawFunc()),RGraph.fireCustomEvent(this,"ondraw"),this},this.exec=function(t){return t(this),this},this.redraw3Dfaces=function(){if("3d"===v.variant){if(RGraph.isNull(v.colorsLeft)||(v.colorsInitial=v.colors,v.colors=v.colorsLeft),0<this.coordsLeft.length&&0===this.coords2Left.length)for(var t=0;t<this.coordsLeft.length;++t)this.path("b r % % % % f %",this.coordsLeft[t][0],this.coordsLeft[t][1],this.coordsLeft[t][2],this.coordsLeft[t][3],v.colors[0]);else for(t=0;t<this.coords2Left.length;++t)for(var i=0;i<this.coords2Left[t].length;++i)this.path("b r % % % % f %",this.coords2Left[t][i][0],this.coords2Left[t][i][1],this.coords2Left[t][i][2],this.coords2Left[t][i][3],v.colors[i]);RGraph.isNull(v.colorsLeft)||(v.colors=v.colorsInitial),RGraph.isNull(v.colorsRight)||(v.colorsInitial=v.colors,v.colors=v.colorsRight);var s=v.variantThreedOffsetx,e=v.variantThreedOffsety;if(0<this.coordsRight.length&&0===this.coords2Right.length)for(t=0;t<this.coordsRight.length;++t){var a=this.coordsRight[t];this.path("b r % % % % f %",a[0],a[1],a[2],a[3],v.colors[0]),this.path("b m % % l % % l % % l % % f %",a[0]+a[2],a[1],a[0]+a[2]+s,a[1]-e,a[0]+a[2]+s,a[1]-e+a[3],a[0]+a[2],a[1]+a[3],v.colors[0]),this.path("b m % % l % % l % % l % % f %",a[0]+a[2],a[1],a[0]+a[2]+s,a[1]-e,a[0]+a[2]+s,a[1]-e+a[3],a[0]+a[2],a[1]+a[3],"rgba(0,0,0,0.3)")}else for(t=0;t<this.coords2Right.length;++t)for(i=this.coords2Right[t].length-1;0<=i;--i){a=this.coords2Right[t][i];this.path("b r % % % % f %",a[0],a[1],a[2],a[3],v.colors[i]),this.path("b m % % l % % l % % l % % f %",a[0],a[1],a[0]+s,a[1]-e,a[0]+a[2]+s,a[1]-e,a[0]+a[2],a[1],v.colors[i]),this.path("b m % % l % % l % % l % % f rgba(255,255,255,0.6)",a[0],a[1],a[0]+s,a[1]-e,a[0]+a[2]+s,a[1]-e,a[0]+a[2],a[1]),this.path("b m % % l % % l % % l % % f %",a[0]+a[2],a[1],a[0]+a[2]+s,a[1]-e,a[0]+a[2]+s,a[1]-e+a[3],a[0]+a[2],a[1]+a[3],v.colors[i]),this.path("b m % % l % % l % % l % % f %",a[0]+a[2],a[1],a[0]+a[2]+s,a[1]-e,a[0]+a[2]+s,a[1]-e+a[3],a[0]+a[2],a[1]+a[3],"rgba(0,0,0,0.3)")}RGraph.isNull(v.colorsRight)||(v.colors=v.colorsInitial)}},this.draw3DAxes=function(){var t,i;"3d"===v.variant&&(t=v.variantThreedOffsetx,i=v.variantThreedOffsety,this.context.lineWidth=v.axesLinewidth+.001,this.context.beginPath(),this.context.strokeStyle=v.axesColor,this.path("b m % % l % % l % % l % % s #aaa f #ddd",this.marginLeft,this.canvas.height-this.marginBottom,this.marginLeft+t,this.canvas.height-this.marginBottom-i,this.marginLeft+t+this.axisWidth,this.canvas.height-this.marginBottom-i,this.marginLeft+this.axisWidth,this.canvas.height-this.marginBottom),this.draw3DLeftVerticalAxis(),this.path("b m % % l % % l % % l % % s #aaa f #ddd",this.marginLeft+this.marginCenter+this.axisWidth,this.canvas.height-this.marginBottom,this.marginLeft+this.marginCenter+this.axisWidth+t,this.canvas.height-this.marginBottom-i,this.marginLeft+this.marginCenter+this.axisWidth+this.axisWidth+t,this.canvas.height-this.marginBottom-i,this.marginLeft+this.marginCenter+this.axisWidth+this.axisWidth,this.canvas.height-this.marginBottom),this.path("b m % % l % % l % % l % % s #aaa f #ddd",this.marginLeft+this.marginCenter+this.axisWidth,this.canvas.height-this.marginBottom,this.marginLeft+this.marginCenter+this.axisWidth,this.canvas.height-this.marginBottom-this.axisHeight,this.marginLeft+this.marginCenter+this.axisWidth+t,this.canvas.height-this.marginBottom-this.axisHeight-i,this.marginLeft+this.marginCenter+this.axisWidth+t,this.canvas.height-this.marginBottom-i))},this.draw3DLeftVerticalAxis=function(){var t,i;"3d"===v.variant&&(t=v.variantThreedOffsetx,i=v.variantThreedOffsety,this.path("b m % % l % % l % % l % % s #aaa f #ddd",this.marginLeft+this.axisWidth,this.marginTop,this.marginLeft+this.axisWidth+t,this.marginTop-i,this.marginLeft+this.axisWidth+t,this.canvas.height-this.marginBottom-i,this.marginLeft+this.axisWidth,this.canvas.height-this.marginBottom))},this.drawAxes=function(){var t;this.context.lineWidth=v.axesLinewidth+.001,this.context.beginPath(),this.context.strokeStyle=v.axesColor,this.axisWidth=(this.canvas.width-v.marginCenter-this.marginLeft-this.marginRight)/2,this.axisHeight=this.canvas.height-this.marginTop-this.marginBottom,v.axes&&(v.leftVisible&&(v.xaxis&&(this.context.moveTo(this.marginLeft,this.canvas.height-this.marginBottom),this.context.lineTo(this.marginLeft+this.axisWidth,this.canvas.height-this.marginBottom)),v.yaxis&&(this.context.moveTo(this.marginLeft+this.axisWidth,this.canvas.height-this.marginBottom),this.context.lineTo(this.marginLeft+this.axisWidth,this.marginTop)),this.context.stroke()),this.context.beginPath(),t=this.marginLeft+this.axisWidth+v.marginCenter,v.rightVisible&&(v.yaxis&&(this.context.moveTo(t,this.marginTop),this.context.lineTo(t,this.canvas.height-this.marginBottom)),v.xaxis&&(this.context.moveTo(t,this.canvas.height-this.marginBottom),this.context.lineTo(this.canvas.width-this.marginRight,this.canvas.height-this.marginBottom)),this.context.stroke()))},this.drawTicks=function(){this.context.lineWidth=v.axesLinewidth+.001;var t=this.left.length,t=(this.canvas.height-this.marginTop-this.marginBottom-this.left.length*(2*v.marginInner))/t;if(this.barHeight=t,v.axes){if(v.yaxis&&0<v.yaxisTickmarksCount){if(v.leftVisible){this.context.beginPath();for(var i=0;i<v.yaxisTickmarksCount;++i){var s=v.marginTop+(this.canvas.height-this.marginTop-this.marginBottom)/v.yaxisTickmarksCount*i;this.context.moveTo(this.marginLeft+this.axisWidth,s),this.context.lineTo(this.marginLeft+this.axisWidth+3,s)}this.context.stroke()}if(v.rightVisible){this.context.beginPath();for(i=0;i<v.yaxisTickmarksCount;++i){s=v.marginTop+(this.canvas.height-this.marginTop-this.marginBottom)/v.yaxisTickmarksCount*i;this.context.moveTo(this.marginLeft+this.axisWidth+v.marginCenter,s),this.context.lineTo(this.marginLeft+this.axisWidth+v.marginCenter-3,s)}this.context.stroke()}v.xaxis||(v.leftVisible&&this.path("b m % % l % % s %",this.marginLeft+this.axisWidth,this.canvas.height-this.marginBottom,this.marginLeft+this.axisWidth+4,this.canvas.height-this.marginBottom,this.context.strokeStyle),v.rightVisible&&this.path("b m % % l % % s %",this.marginLeft+this.axisWidth+v.marginCenter,this.canvas.height-this.marginBottom,this.marginLeft+this.axisWidth+v.marginCenter-4,this.canvas.height-this.marginBottom,this.context.strokeStyle))}if(v.xaxis&&0<v.xaxisTickmarksCount){var e=this.axisWidth/v.xaxisTickmarksCount;if("number"==typeof v.xaxisTickmarksInterval&&(e=v.xaxisTickmarksInterval),v.leftVisible)for(i=this.marginLeft;i<this.marginLeft+this.axisWidth;i+=e)this.context.beginPath(),this.context.moveTo(i,this.canvas.height-this.marginBottom),this.context.lineTo(i,this.canvas.height-this.marginBottom+4),this.context.closePath(),this.context.stroke();if(v.rightVisible){var a=this.canvas.width-this.marginRight+1;for(i=this.marginLeft+this.axisWidth+v.marginCenter+e;i<=a;i+=e)this.context.beginPath(),this.context.moveTo(i,this.canvas.height-this.marginBottom),this.context.lineTo(i,this.canvas.height-this.marginBottom+4),this.context.closePath(),this.context.stroke()}v.yaxis||(v.leftVisible&&this.path("b m % % l % % s %",this.marginLeft+this.axisWidth,this.canvas.height-this.marginBottom,this.marginLeft+this.axisWidth,this.canvas.height-this.marginBottom+4,this.context.strokeStyle),v.rightVisible&&this.path("b m % % l % % s %",this.marginLeft+this.axisWidth+v.marginCenter,this.canvas.height-this.marginBottom,this.marginLeft+this.axisWidth+v.marginCenter,this.canvas.height-this.marginBottom+4,this.context.strokeStyle))}}},this.getMax=function(){v.xaxisScaleDecimals;if(v.xaxisScaleMax){var t=v.xaxisScaleMax,i=v.xaxisScaleMin;this.scale2=RGraph.getScale({object:this,options:{"scale.max":t,"scale.min":i,"scale.strict":!0,"scale.thousand":v.xaxisScaleThousand,"scale.point":v.xaxisScalePoint,"scale.decimals":v.xaxisScaleDecimals,"scale.labels.count":v.xaxisLabelsCount,"scale.round":v.xaxisScaleRound,"scale.units.pre":v.xaxisScaleUnitsPre,"scale.units.post":v.xaxisScaleUnitsPost}}),this.max=this.scale2.max,this.min=this.scale2.min}else{for(var t=1,s=0;s<this.left.length;++s)"number"==typeof this.left[s]?t=Math.max(t,this.left[s]):RGraph.isNull(this.left[s])||(t=Math.max(t,"stacked"===v.grouping?RGraph.arraySum(this.left[s]):RGraph.arrayMax(this.left[s])));for(s=0;s<this.right.length;++s)"number"==typeof this.right[s]?t=Math.max(t,this.right[s]):RGraph.isNull(this.right[s])||(t=Math.max(t,"stacked"===v.grouping?RGraph.arraySum(this.right[s]):RGraph.arrayMax(this.right[s])));this.scale2=RGraph.getScale({object:this,options:{"scale.max":t,"scale.min":v.xaxisScaleMin,"scale.thousand":v.xaxisScaleThousand,"scale.point":v.xaxisScalePoint,"scale.decimals":v.xaxisScaleDecimals,"scale.labels.count":v.xaxisLabelsCount,"scale.round":v.xaxisScaleRound,"scale.units.pre":v.xaxisScaleUnitsPre,"scale.units.post":v.xaxisScaleUnitsPost}}),this.max=this.scale2.max,this.min=this.scale2.min}},this.drawLeftBars=function(){if(v.leftVisible){var t={};t.shadow="object"!=typeof arguments[0]||arguments[0].shadow;var i=v.variantThreedOffsetx,s=v.variantThreedOffsety;this.context.strokeStyle=v.colorsStroke,this.context.lineWidth=v.linewidth,RGraph.isNull(v.colorsLeft)||(v.colorsInitial=v.colors,v.colors=v.colorsLeft);for(var e=0,a=0;e<this.left.length;++e){if(v.shadow&&"3d"!==v.variant&&t.shadow&&RGraph.setShadow({object:this,prefix:"shadow"}),"number"==typeof this.left[e]){v.colorsSequential?this.context.fillStyle=v.colors[a]:this.context.fillStyle=v.colors[0];var h=(this.left[e]-this.min)/(this.max-this.min)*this.axisWidth,o=[this.marginLeft+this.axisWidth-h,this.marginTop+e*(this.axisHeight/this.left.length)+v.marginInner,h,this.barHeight];null!==this.left[e]&&(this.context.strokeRect(o[0],o[1],o[2],o[3]),this.context.fillRect(o[0],o[1],o[2],o[3])),"3d"===v.variant&&null!==this.left[e]&&(v.shadow&&t.shadow&&(this.context.shadowColor=v.shadowColor,this.context.shadowBlur=v.shadowBlur,this.context.shadowOffsetX=v.shadowOffsetx,this.context.shadowOffsetY=v.shadowOffsety,this.path("b m % % l % % l % % l % % f black sc rgba(0,0,0,0) sx 0 sy 0 sb 0",o[0]+i,o[1]-s,o[0]+i+o[2],o[1]-s,o[0]+i+o[2],o[1]-s+o[3],o[0]+i,o[1]-s+o[3])),v.colorsSequential?this.context.fillStyle=v.colors[e]:this.context.fillStyle=v.colors[0],this.path("b m % % l % % l % % l % % f",o[0],o[1],o[0]+i,o[1]-s,o[0]+i+o[2],o[1]-s,o[0]+o[2],o[1]),this.path("b m % % l % % l % % l % % f rgba(255,255,255,0.4)",o[0],o[1],o[0]+i,o[1]-s,o[0]+i+o[2],o[1]-s,o[0]+o[2],o[1])),t.shadow||(this.coords.push([o[0],o[1],o[2],o[3]]),this.coordsLeft.push([o[0],o[1],o[2],o[3]])),a++}else if("object"==typeof this.left[e]&&"stacked"===v.grouping)for(var r=0,l=0;r<this.left[e].length;++r){v.colorsSequential?this.context.fillStyle=v.colors[a]:this.context.fillStyle=v.colors[r];var n=this.left[e][r],c=this.min,f=this.max,g=v.marginInner,h=(n-c)/(f-c)*this.axisWidth,x=(b=this.axisHeight/this.left.length)-2*g,d=this.marginLeft+this.axisWidth-h-l,m=this.marginTop+g+e*b;l+=h,null!==this.left[e]&&(this.context.strokeRect(d,m,h,x),this.context.fillRect(d,m,h,x)),"3d"===v.variant&&null!==this.left[e]&&(v.shadow&&t.shadow&&(this.context.shadowColor=v.shadowColor,this.context.shadowBlur=v.shadowBlur,this.context.shadowOffsetX=v.shadowOffsetx,this.context.shadowOffsetY=v.shadowOffsety,this.path("b m % % l % % l % % l % % f black sc rgba(0,0,0,0) sx 0 sy 0 sb 0",d+i,m-s,d+i+h,m-s,d+i+h,m-s+x,d+i,m-s+x)),v.colorsSequential?this.context.fillStyle=v.colors[a]:this.context.fillStyle=v.colors[r],this.path("b m % % l % % l % % l % % f",d,m,d+i,m-s,d+i+h,m-s,d+h,m),this.path("b m % % l % % l % % l % % f rgba(255,255,255,0.4)",d,m,d+i,m-s,d+i+h,m-s,d+h,m)),t.shadow||(this.coords.push([d,m,h,x]),this.coordsLeft.push([d,m,h,x]),RGraph.isArray(this.coords2[e])||(this.coords2[e]=[]),this.coords2[e].push([d,m,h,x]),RGraph.isArray(this.coords2Left[e])||(this.coords2Left[e]=[]),this.coords2Left[e].push([d,m,h,x])),a++}else if("object"==typeof this.left[e]&&!RGraph.isNull(this.left[e]))for(r=0;r<this.left[e].length;++r){v.colorsSequential?this.context.fillStyle=v.colors[a]:this.context.fillStyle=v.colors[r];var b,n=this.left[e][r],c=this.min,f=this.max,g=v.marginInner,p=v.marginInnerGrouped,h=(n-c)/(f-c)*this.axisWidth,x=((b=this.axisHeight/this.left.length)-2*g-(this.left[e].length-1)*p)/this.left[e].length,d=this.marginLeft+this.axisWidth-h,m=this.marginTop+g+e*b+x*r+r*p;null!==this.left[e]&&(this.context.strokeRect(d,m,h,x),this.context.fillRect(d,m,h,x)),"3d"===v.variant&&null!==this.left[e]&&(v.shadow&&t.shadow&&(this.context.shadowColor=v.shadowColor,this.context.shadowBlur=v.shadowBlur,this.context.shadowOffsetX=v.shadowOffsetx,this.context.shadowOffsetY=v.shadowOffsety,this.path("b m % % l % % l % % l % % f black sc rgba(0,0,0,0) sx 0 sy 0 sb 0",d+i,m-s,d+i+h,m-s,d+i+h,m-s+x,d+i,m-s+x)),v.colorsSequential?this.context.fillStyle=v.colors[a]:this.context.fillStyle=v.colors[r],this.path("b m % % l % % l % % l % % f",d,m,d+i,m-s,d+i+h,m-s,d+h,m),this.path("b m % % l % % l % % l % % f rgba(255,255,255,0.4)",d,m,d+i,m-s,d+i+h,m-s,d+h,m)),t.shadow||(this.coords.push([d,m,h,x]),this.coordsLeft.push([d,m,h,x]),RGraph.isArray(this.coords2[e])||(this.coords2[e]=[]),this.coords2[e].push([d,m,h,x]),RGraph.isArray(this.coords2Left[e])||(this.coords2Left[e]=[]),this.coords2Left[e].push([d,m,h,x])),a++}this.draw3DLeftVerticalAxis()}RGraph.isNull(v.colorsLeft)||(v.colors=v.colorsInitial),RGraph.noShadow(this),this.context.lineWidth=1}},this.drawRightBars=function(){if(v.rightVisible){var t={};t.shadow="object"!=typeof arguments[0]||arguments[0].shadow;var i=v.variantThreedOffsetx,s=v.variantThreedOffsety;this.context.strokeStyle=v.colorsStroke,this.context.lineWidth=v.linewidth,v.shadow&&"3d"!==v.variant&&t.shadow&&(this.context.shadowColor=v.shadowColor,this.context.shadowBlur=v.shadowBlur,this.context.shadowOffsetX=v.shadowOffsetx,this.context.shadowOffsetY=v.shadowOffsety),RGraph.isNull(v.colorsRight)||(v.colorsInitial=v.colors,v.colors=v.colorsRight);for(var e=0,a=RGraph.arrayLinearize(this.left).length;e<this.right.length;++e)if("number"==typeof this.right[e]){v.colorsSequential?this.context.fillStyle=v.colors[a]:this.context.fillStyle=v.colors[0];var h=(this.right[e]-this.min)/(this.max-this.min)*this.axisWidth,o=[this.marginLeft+this.axisWidth+v.marginCenter,v.marginInner+e*(this.axisHeight/this.right.length)+this.marginTop,h,this.barHeight];null!==this.right[e]&&(this.context.strokeRect(o[0],o[1],o[2],o[3]),this.context.fillRect(o[0],o[1],o[2],o[3])),"3d"===v.variant&&null!==this.right[e]&&(p=this.context.fillStyle,v.shadow&&t.shadow&&(this.context.shadowColor=v.shadowColor,this.context.shadowBlur=v.shadowBlur,this.context.shadowOffsetX=v.shadowOffsetx,this.context.shadowOffsetY=v.shadowOffsety,this.path("b m % % l % % l % % l % % f black sc rgba(0,0,0,0) sx 0 sy 0 sb 0",o[0]+i,o[1]-s,o[0]+i+o[2],o[1]-s,o[0]+i+o[2],o[1]-s+o[3],o[0]+i,o[1]-s+o[3])),this.path("b m % % l % % l % % l % % f %",o[0],o[1],o[0]+i,o[1]-s,o[0]+i+o[2],o[1]-s,o[0]+o[2],o[1],p),this.path("b m % % l % % l % % l % % f %",o[0]+o[2],o[1],o[0]+o[2]+i,o[1]-s,o[0]+o[2]+i,o[1]-s+o[3],o[0]+o[2],o[1]+o[3],p),this.path("b m % % l % % l % % l % % f rgba(255,255,255,0.6)",o[0],o[1],o[0]+i,o[1]-s,o[0]+i+o[2],o[1]-s,o[0]+o[2],o[1]),this.path("b m % % l % % l % % l % % f rgba(0,0,0,0.3)",o[0]+o[2],o[1],o[0]+o[2]+i,o[1]-s,o[0]+o[2]+i,o[1]-s+o[3],o[0]+o[2],o[1]+o[3])),t.shadow||(this.coords.push([o[0],o[1],o[2],o[3]]),this.coordsRight.push([o[0],o[1],o[2],o[3]])),a++}else if("object"==typeof this.left&&"stacked"===v.grouping)for(var r=0,l=0;r<this.right[e].length;++r){v.colorsSequential?this.context.fillStyle=v.colors[a]:this.context.fillStyle=v.colors[r];var n=this.right[e][r],c=this.min,f=this.max,g=v.marginInner,h=(n-c)/(f-c)*this.axisWidth,x=(b=this.axisHeight/this.right.length)-2*g,d=this.marginLeft+this.axisWidth+v.marginCenter+l,m=this.marginTop+g+e*b;l+=h,null!==this.right[e]&&(this.context.strokeRect(d,m,h,x),this.context.fillRect(d,m,h,x)),"3d"===v.variant&&null!==this.right[e]&&(p=this.context.fillStyle,v.shadow&&t.shadow&&(RGraph.setShadow({object:this,prefix:"shadow"}),this.path("b m % % l % % l % % l % % f black sc rgba(0,0,0,0) sx 0 sy 0 sb 0",d+i,m-s,d+i+h,m-s,d+i+h,m-s+x,d+i,m-s+x)),this.path("b m % % l % % l % % l % % f %",d,m,d+i,m-s,d+i+h,m-s,d+h,m,p),r===this.right[e].length-1&&(this.path("b m % % l % % l % % l % % f %",d+h,m,d+h+i,m-s,d+h+i,m-s+x,d+h,m+x,p),this.path("b m % % l % % l % % l % % f rgba(0,0,0,0.3)",d+h,m,d+h+i,m-s,d+h+i,m-s+x,d+h,m+x)),this.path("b m % % l % % l % % l % % f rgba(255,255,255,0.6)",d,m,d+i,m-s,d+i+h,m-s,d+h,m)),t.shadow||(this.coords.push([d,m,h,x]),RGraph.isArray(this.coords2[a])||(this.coords2[a]=[]),this.coords2[a].push([d,m,h,x]),this.coordsRight.push([d,m,h,x]),RGraph.isArray(this.coords2Right[e])||(this.coords2Right[e]=[]),this.coords2Right[e].push([d,m,h,x])),a++}else if("object"==typeof this.right[e])for(r=0;r<this.right[e].length;++r){v.colorsSequential?this.context.fillStyle=v.colors[a]:this.context.fillStyle=v.colors[r];var b,p,n=this.right[e][r],c=this.min,f=this.max,g=v.marginInner,u=v.marginInnerGrouped,h=(n-c)/(f-c)*this.axisWidth,x=((b=this.axisHeight/this.right.length)-2*g-(this.right[e].length-1)*u)/this.right[e].length,d=this.marginLeft+this.axisWidth+v.marginCenter,m=this.marginTop+g+e*b+x*r+r*u;null!==this.right[e]&&(this.context.strokeRect(d,m,h,x),this.context.fillRect(d,m,h,x)),t.shadow||(this.coords.push([d,m,h,x]),this.coordsRight.push([d,m,h,x]),RGraph.isArray(this.coords2[this.left.length+e])||(this.coords2[this.left.length+e]=[]),this.coords2[this.left.length+e].push([d,m,h,x]),RGraph.isArray(this.coords2Right[e])||(this.coords2Right[e]=[]),this.coords2Right[e].push([d,m,h,x])),a++,"3d"===v.variant&&null!==this.right[e]&&(p=this.context.fillStyle,v.shadow&&t.shadow&&(this.context.shadowColor=v.shadowColor,this.context.shadowBlur=v.shadowBlur,this.context.shadowOffsetX=v.shadowOffsetx,this.context.shadowOffsetY=v.shadowOffsety,this.path("b m % % l % % l % % l % % f black sc rgba(0,0,0,0) sx 0 sy 0 sb 0",d+i,m-s,d+i+h,m-s,d+i+h,m-s+x,d+i,m-s+x)),this.path("b m % % l % % l % % l % % f %",d,m,d+i,m-s,d+i+h,m-s,d+h,m,p),this.path("b m % % l % % l % % l % % f %",d+h,m,d+h+i,m-s,d+h+i,m-s+x,d+h,m+x,p),this.path("b m % % l % % l % % l % % f rgba(255,255,255,0.6)",d,m,d+i,m-s,d+i+h,m-s,d+h,m),this.path("b m % % l % % l % % l % % f rgba(0,0,0,0.3)",d+h,m,d+h+i,m-s,d+h+i,m-s+x,d+h,m+x))}RGraph.isNull(v.colorsRight)||(v.colors=v.colorsInitial),RGraph.noShadow(this),this.context.lineWidth=1}},this.drawLabels=function(){var t=v.yaxisLabels,i=this.canvas.height-this.marginTop-this.marginBottom,s=RGraph.getTextConf({object:this,prefix:"yaxisLabels"});this.context.fillStyle=s.color;for(var e=0,a=t.length;e<a;++e)RGraph.text({object:this,color:s.color,font:s.font,size:s.size,bold:s.bold,italic:s.italic,x:this.marginLeft+this.axisWidth+v.marginCenter/2+v.yaxisLabelsOffsetx,y:this.marginTop+i/t.length*e+i/t.length/2+v.yaxisLabelsOffsety,text:String(t[e]?String(t[e]):""),halign:"center",valign:"center",marker:!1,tag:"labels",cssClass:RGraph.getLabelsCSSClassName({object:this,name:"yaxisLabelsClass",index:e})});if(this.context.fillStyle=v.textColor,v.xaxisLabels){var h=(this.canvas.width-v.marginCenter-this.marginLeft-this.marginRight)/2,s=RGraph.getTextConf({object:this,prefix:"xaxisLabels"});if(v.leftVisible||v.rightVisible)for(e=0;e<this.scale2.labels.length;++e)v.leftVisible&&RGraph.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:this.marginLeft+h/this.scale2.labels.length*e-v.xaxisLabelsOffsetx,y:this.canvas.height-this.marginBottom+7+v.xaxisLabelsOffsety,text:"function"==typeof v.xaxisScaleFormatter?v.xaxisScaleFormatter(this,this.scale2.values[this.scale2.values.length-e-1]):this.scale2.labels[this.scale2.labels.length-e-1],valign:"top",halign:"center",tag:"scale"}),v.rightVisible&&RGraph.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:this.marginLeft+h+v.marginCenter+h/this.scale2.labels.length*(e+1)+v.xaxisLabelsOffsetx,y:this.canvas.height-this.marginBottom+7+v.xaxisLabelsOffsety,text:this.scale2.labels[e],text:"function"==typeof v.xaxisScaleFormatter?v.xaxisScaleFormatter(this,this.scale2.values[e]):this.scale2.labels[e],valign:"top",halign:"center",tag:"scale"});v.xaxisScaleZerostart&&(v.leftVisible&&RGraph.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:this.marginLeft+this.axisWidth-v.xaxisLabelsOffsetx,y:this.canvas.height-this.marginBottom+7+v.xaxisLabelsOffsety,text:"function"==typeof v.xaxisScaleFormatter?v.xaxisScaleFormatter(this,0):RGraph.numberFormat({object:this,number:0..toFixed(v.xaxisScaleDecimals),unitspre:v.xaxisScaleUnitsPre,unitspost:v.xaxisScaleUnitsPost}),valign:"top",halign:"center",tag:"scale"}),v.rightVisible&&RGraph.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:this.marginLeft+this.axisWidth+this.marginCenter+v.xaxisLabelsOffsetx,y:this.canvas.height-this.marginBottom+7+v.xaxisLabelsOffsety,text:"function"==typeof v.xaxisScaleFormatter?v.xaxisScaleFormatter(this,0):RGraph.numberFormat({object:this,number:0..toFixed(v.xaxisScaleDecimals),unitspre:v.xaxisScaleUnitsPre,unitspost:v.xaxisScaleUnitsPost}),valign:"top",halign:"center",tag:"scale"}))}v.labelsAbove&&this.drawLabelsAbove()},this.drawLabelsAbove=function(){for(var t=this.coordsLeft,i=this.coordsRight,s=RGraph.getTextConf({object:this,prefix:"labelsAbove"}),e=0,a=0;e<t.length;++e,++a)if("number"==typeof this.left[e]){var h=this.coords[a];RGraph.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:h[0]-5-v.labelsAboveOffsetx,y:h[1]+h[3]/2+v.labelsAboveOffsety,text:"function"==typeof v.labelsAboveFormatter?v.labelsAboveFormatter(this,this.left[e]):RGraph.numberFormat({object:this,number:this.left[e].toFixed("number"==typeof v.labelsAboveDecimals?v.labelsAboveDecimals:0),unitspre:v.labelsAboveUnitsPre,unitspost:v.labelsAboveUnitsPost}),valign:"center",halign:"right",tag:"labels.above"})}else if("object"==typeof this.left[e]){for(var o=0;o<this.left[e].length;++o,++a)"stacked"===v.grouping&&o!==this.left[e].length-1||(h=t[a],RGraph.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:h[0]-5-v.labelsAboveOffsetx,y:h[1]+h[3]/2+v.labelsAboveOffsety,text:"function"==typeof v.labelsAboveFormatter?v.labelsAboveFormatter(this,this.left[e][o]):RGraph.numberFormat({object:this,number:RGraph.isNull(this.left[e][o])||isNaN(this.left[e][o])?"":("stacked"===v.grouping?RGraph.arraySum(this.left[e]):Number(this.left[e][o])).toFixed("number"==typeof v.labelsAboveDecimals?v.labelsAboveDecimals:0),unitspre:v.labelsAboveUnitsPre,unitspost:v.labelsAboveUnitsPost}),valign:"center",halign:"right",tag:"labels.above"}));a--}for(a=e=0;e<i.length;++e,++a)if("number"==typeof this.right[e]){h=i[a];RGraph.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:h[0]+h[2]+5+("3d"===v.variant?10:0)+v.labelsAboveOffsetx,y:h[1]+h[3]/2+("3d"===v.variant?-5:0)+v.labelsAboveOffsety,text:"function"==typeof v.labelsAboveFormatter?v.labelsAboveFormatter(this,this.right[e]):RGraph.numberFormat({object:this,number:this.right[e].toFixed("number"==typeof v.labelsAboveDecimals?v.labelsAboveDecimals:0),unitspre:v.labelsAboveUnitsPre,unitspost:v.labelsAboveUnitsPost}),valign:"center",halign:"left",tag:"labels.above"})}else if("object"==typeof this.right[e]){for(o=0;o<this.right[e].length;++o,++a)"stacked"===v.grouping&&o!==this.right[e].length-1||(h=i[a],RGraph.text({object:this,font:s.font,size:s.size,bold:s.bold,italic:s.italic,color:s.color,x:h[0]+h[2]+5+("3d"===v.variant?10:0)+v.labelsAboveOffsetx,y:h[1]+h[3]/2+("3d"===v.variant?-5:0)+v.labelsAboveOffsety,text:"function"==typeof v.labelsAboveFormatter?v.labelsAboveFormatter(this,this.right[e][o]):RGraph.numberFormat({object:this,number:RGraph.isNull(this.right[e][o])||isNaN(this.right[e][o])?"":"stacked"===v.grouping?RGraph.arraySum(this.right[e]).toFixed(v.labelsAboveDecimals):Number(this.right[e][o]).toFixed("number"==typeof v.labelsAboveDecimals?v.labelsAboveDecimals:0),unitspre:v.labelsAboveUnitsPre,unitspost:v.labelsAboveUnitsPost}),valign:"center",halign:"left",tag:"labels.above"}));--a}},this.drawTitles=function(){var t;"string"==typeof v.titleLeft&&(t=RGraph.getTextConf({object:this,prefix:"titleLeft"}),RGraph.text({object:this,font:t.font,size:t.size,bold:t.bold,italic:t.italic,color:t.color,x:this.marginLeft+5+v.titleLeftOffsetx,y:this.marginTop-5+v.titleLeftOffsety,text:v.titleLeft,halign:"left",valign:"bottom",tag:"title.left"})),"string"==typeof v.titleRight&&(t=RGraph.getTextConf({object:this,prefix:"titleRight"}),RGraph.text({object:this,font:t.font,size:t.size,bold:t.bold,italic:t.italic,color:t.color,x:this.canvas.width-this.marginRight-5+v.titleRightOffsetx,y:this.marginTop-5+v.titleRightOffsety,text:v.titleRight,halign:"right",valign:"bottom",tag:"title.right"})),"string"==typeof v.title&&RGraph.drawTitle(this,v.title,this.marginTop,null,"number"==typeof v.titleSize?v.titleSize:null)},this.getShape=function(t){this.canvas,this.context;for(var i=RGraph.getMouseXY(t),s=0,e=0;e<this.coords.length;e++){var a,h=i[0],o=i[1],r=this.coords[e][0],l=this.coords[e][1],n=this.coords[e][2],c=this.coords[e][3];if(this.path("b r % % % %",r,l,n,c),this.context.isPointInPath(h,o)){RGraph.parseTooltipText&&(a=RGraph.parseTooltipText(v.tooltips,e));var f=RGraph.sequentialIndexToGrouped(e,this.data2),h=f[0],o=f[1],f=h;return h+1>this.left.length&&(f-=this.left.length,s=1),{object:this,x:r,y:l,width:n,height:c,tooltip:"string"==typeof a?a:null,side:s,sequentialIndex:e,index:o,dataset:h,dataset2:f,label:v.yaxisLabels&&"string"==typeof v.yaxisLabels[f]?v.yaxisLabels[f]:null}}}return null},this.highlight=function(t){if("function"==typeof v.highlightStyle)v.highlightStyle(t);else if("string"==typeof v.highlightStyle&&"invert"===v.highlightStyle)for(var i=0;i<this.coords.length;++i)i!==t.sequentialIndex&&this.path("b r % % % % s % f %",this.coords[i][0]-.5,this.coords[i][1]-.5,this.coords[i][2]+1,this.coords[i][3]+1,v.highlightStroke,v.highlightFill);else RGraph.Highlight.rect(this,t)},this.getValue=function(t){t.target.__object__;var i,t=RGraph.getMouseXY(t)[0];return t>this.marginLeft&&t<this.canvas.width/2-v.marginCenter/2&&(i=(t-v.marginLeft)/this.axisWidth,i=this.max-i*this.max),t<this.canvas.width-this.marginRight&&t>this.canvas.width/2+v.marginCenter/2&&(i=(t-v.marginLeft-this.axisWidth-v.marginCenter)/this.axisWidth,i*=this.max),i},this.getObjectByXY=function(t){var i=RGraph.getMouseXY(t);if("3d"!==v.variant||v.textAccessible||(t=v.variantThreedAngle*i[0],i[1]-=t),i[0]>v.marginLeft&&i[0]<this.canvas.width-v.marginRight&&i[1]>v.marginTop&&i[1]<this.canvas.height-v.marginBottom)return this},this.getXCoord=function(t){if(t>this.max||t<0)return null;var i=[],t=t/this.max*this.axisWidth;return i[0]=this.marginLeft+this.axisWidth-t,i[1]=this.canvas.width-this.marginRight-this.axisWidth+t,i},this.parseColors=function(){0===this.original_colors.length&&(this.original_colors.colors=RGraph.arrayClone(v.colors),this.original_colors.highlightStroke=RGraph.arrayClone(v.highlightStroke),this.original_colors.highlightFill=RGraph.arrayClone(v.highlightFill),this.original_colors.axesColor=RGraph.arrayClone(v.axesColor),this.original_colors.colorsStroke=RGraph.arrayClone(v.colorsStroke),this.original_colors.colorsLeft=RGraph.arrayClone(v.colorsLeft),this.original_colors.colorsRight=RGraph.arrayClone(v.colorsRight));for(var t=v.colors,i=0;i<t.length;++i)t[i]=this.parseSingleColorForGradient(t[i]);if(RGraph.isArray(v.colorsLeft))for(i=0;i<v.colorsLeft.length;++i)v.colorsLeft[i]=this.parseSingleColorForGradient(v.colorsLeft[i]);if(RGraph.isArray(v.colorsRight))for(i=0;i<v.colorsRight.length;++i)v.colorsRight[i]=this.parseSingleColorForGradient(v.colorsRight[i]);v.highlightStroke=this.parseSingleColorForGradient(v.highlightStroke),v.highlightFill=this.parseSingleColorForGradient(v.highlightFill),v.axesColor=this.parseSingleColorForGradient(v.axesColor),v.colorsStroke=this.parseSingleColorForGradient(v.colorsStroke)},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return RGraph.parseJSONGradient({object:this,def:RegExp.$1});var i=RegExp.$1.split(":"),s=this.context.createLinearGradient(v.marginLeft,0,this.canvas.width-v.marginRight,0),e=1/(i.length-1);s.addColorStop(0,RGraph.trim(i[0]));for(var a=1;a<i.length;++a)s.addColorStop(a*e,RGraph.trim(i[a]))}return s||t},this.on=function(t,i){return"function"!=typeof this[t="on"!==t.substr(0,2)?"on"+t:t]?this[t]=i:RGraph.addCustomEventListener(this,t,i),this},this.drawBackgroundGrid=function(){if(v.backgroundGrid){var t=v.variant,i=v.backgroundGridColor,s=v.xaxisLabelsCount,e=this.left.length,a=v.backgroundGridVlines,h=v.backgroundGridHlines,o=v.backgroundGridLinewidth;if("number"==typeof v.backgroundGridHlinesCount&&(e=v.backgroundGridHlinesCount),"number"==typeof v.backgroundGridVlinesCount&&(s=v.backgroundGridVlinesCount),this.context.lineWidth=o,"3d"==t&&(this.context.save(),this.context.translate(v.variantThreedOffsetx,-1*v.variantThreedOffsety)),v.leftVisible){if(a)for(var r=0;r<=s;r+=1)this.path("b m % % l % % s %",this.marginLeft+this.axisWidth/s*r,this.marginTop,this.marginLeft+this.axisWidth/s*r,this.marginTop+this.axisHeight,i);if(h)for(r=0;r<=e;r+=1)this.path("b m % % l % % s %",this.marginLeft,this.marginTop+this.axisHeight/e*r,this.marginLeft+this.axisWidth,this.marginTop+this.axisHeight/e*r,i)}if(v.rightVisible){if(a)for(r=0;r<=s;r+=1)this.path("b m % % l % % s %",this.marginLeft+this.marginCenter+this.axisWidth+this.axisWidth/s*r,this.marginTop,this.marginLeft+this.marginCenter+this.axisWidth+this.axisWidth/s*r,this.marginTop+this.axisHeight,i);if(h)for(r=0;r<=e;r+=1)this.path("b m % % l % % s %",this.marginLeft+this.axisWidth+this.marginCenter,this.marginTop+this.axisHeight/e*r,this.marginLeft+this.axisWidth+this.marginCenter+this.axisWidth,this.marginTop+this.axisHeight/e*r,i)}"3d"==t&&this.context.restore()}},this.firstDrawFunc=function(){},this.getMarginCenter=function(){for(var t="boolean"==typeof v.yaxisLabelsBold?v.yaxisLabelsBold:v.textBold,i="string"==typeof v.yaxisLabelsFont?v.yaxisLabelsFont:v.textFont,s="number"==typeof v.yaxisLabelsSize?v.yaxisLabelsSize:v.textSize,e=0,a=0;e<v.yaxisLabels.length;++e)a=Math.max(a,RGraph.measureText(v.yaxisLabels[e],t,i,s)[0]);return a+15},this.grow=function(){var e=(arguments[0]||{}).frames||30,a=0,h=arguments[1]||function(){},o=this,r=RGraph.arrayClone(this.left),l=RGraph.arrayClone(this.right);RGraph.isNull(v.xaxisScaleMax)&&(this.getMax(),this.set("xaxisScaleMax",this.scale2.max));var n=function(){for(var t=RGraph.Effects.getEasingMultiplier(e,a),i=0;i<o.left.length;i+=1)if("number"==typeof o.left[i])o.left[i]=t*r[i];else for(var s=0;s<o.left[i].length;++s)o.left[i][s]=t*r[i][s];for(i=0;i<o.right.length;i+=1)if("number"==typeof o.right[i])o.right[i]=t*l[i];else for(s=0;s<o.right[i].length;++s)o.right[i][s]=t*l[i][s];RGraph.redrawCanvas(o.canvas),a<e?(a+=1,RGraph.Effects.updateCanvas(n)):h(o)};return n(),this},this.wave=function(){var h=this,o=arguments[0]||{};o.frames=o.frames||120,o.startFrames_left=[],o.startFrames_right=[],o.counters_left=[],o.counters_right=[];for(var r=o.frames/3,l=-1,n=-1,c=arguments[1]||function(){},f=RGraph.arrayClone(h.left),g=RGraph.arrayClone(h.right),t=0,i=h.left.length;t<i;t+=1)o.startFrames_left[t]=o.frames/3/(h.left.length-1)*t,o.startFrames_right[t]=o.frames/3/(h.right.length-1)*t,o.counters_left[t]=0,o.counters_right[t]=0;h.draw(),h.set("xaxisScaleMax",h.scale2.max),RGraph.clear(h.canvas);for(t=0,i=h.left.length;t<i;t+=1)"number"==typeof h.left[t]&&(h.left[t]=0),"number"==typeof h.right[t]&&(h.right[t]=0);return function t(){++l;for(var i=0,s=h.left.length;i<s;i+=1)if(l>o.startFrames_left[i]){var e=RGraph.isNull(h.left[i]);if("number"==typeof h.left[i])h.left[i]=Math.min(Math.abs(f[i]),Math.abs(f[i]*(o.counters_left[i]++/r))),f[i]<0&&(h.left[i]*=-1);else if(RGraph.isArray(h.left[i]))for(var a=0;a<h.left[i].length;++a)h.left[i][a]=Math.min(Math.abs(f[i][a]),Math.abs(f[i][a]*(o.counters_left[i]++/r))),f[i][a]<0&&(h.left[i][a]*=-1);e&&(h.left[i]=null)}else h.left[i]="object"==typeof h.left[i]&&h.left[i]?RGraph.arrayPad([],h.left[i].length,0):RGraph.isNull(h.left[i])?null:0;l<o.frames&&(RGraph.redrawCanvas(h.canvas),RGraph.Effects.updateCanvas(t))}(),function t(){++n;for(var i=0,s=h.right.length;i<s;i+=1)if(n>o.startFrames_right[i]){var e=RGraph.isNull(h.right[i]);if("number"==typeof h.left[i])h.right[i]=Math.min(Math.abs(g[i]),Math.abs(g[i]*(o.counters_right[i]++/r))),g[i]<0&&(h.right[i]*=-1),e&&(h.right[i]=null);else if(RGraph.isArray(h.right[i]))for(var a=0;a<h.right[i].length;++a)h.right[i][a]=Math.min(Math.abs(g[i][a]),Math.abs(g[i][a]*(o.counters_right[i]++/r))),g[i][a]<0&&(h.right[i][a]*=-1)}else h.right[i]="object"==typeof h.right[i]&&h.right[i]?RGraph.arrayPad([],h.right[i].length,0):RGraph.isNull(h.right[i])?null:0;n<o.frames?(RGraph.redrawCanvas(h.canvas),RGraph.Effects.updateCanvas(t)):c(this)}(),this},this.tooltipSubstitutions=function(t){var i,s,e,a=RGraph.sequentialIndexToGrouped(t.index,this.data2);return e=a[0]>=this.left.length?(i=a[0]-this.left.length,s="right",this.right[i]):(i=a[0],s="left",this.left[i]),{index:a[1],dataset:a[0],dataset2:i,sequentialIndex:t.index,value:"number"==typeof this.data2[t.index]?this.data2[t.index]:this.data2[a[0]][a[1]],values:e="number"==typeof e?[e]:e,side:s}},this.tooltipsFormattedCustom=function(t,i){t="object"==typeof this[t.dataset+1>this.left.length?"right":"left"][t.dataset2]?!RGraph.isNull(v.tooltipsFormattedKeyLabels)&&"object"==typeof v.tooltipsFormattedKeyLabels&&v.tooltipsFormattedKeyLabels[i]?v.tooltipsFormattedKeyLabels[i]:"":!RGraph.isNull(v.tooltipsFormattedKeyLabels)&&"object"==typeof v.tooltipsFormattedKeyLabels&&v.tooltipsFormattedKeyLabels[t.index]?v.tooltipsFormattedKeyLabels[t.index]:"";return{label:t}},this.positionTooltipStatic=function(t){var i=t.object,s=(t.event,t.tooltip),e=(t.index,RGraph.getCanvasXY(i.canvas));coords=this.coords[t.index],t.tooltip.style.left=e[0]+coords[0]+coords[2]/2-s.offsetWidth/2+i.properties.tooltipsOffsetx+"px",t.tooltip.style.top=e[1]+coords[1]-s.offsetHeight-10+i.properties.tooltipsOffsety+"px","3d"===v.variant&&(s=coords[0],coords[1],i=v.variantThreedAngle,s=Math.tan(i)*s,t.tooltip.style.top=parseInt(t.tooltip.style.top)+10+s+"px")},RGraph.register(this),RGraph.parseObjectStyleConfig(this,t.options)};