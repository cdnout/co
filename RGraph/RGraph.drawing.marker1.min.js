RGraph=window.RGraph||{isrgraph:!0,isRGraph:!0,rgraph:!0},RGraph.Drawing=RGraph.Drawing||{},RGraph.Drawing.Marker1=function(t){var o,r=t.id,s=document.getElementById(r),e=t.x,h=t.y,a=t.radius,l=t.text;this.id=r,this.canvas=s,this.context=this.canvas.getContext("2d"),this.colorsParsed=!1,(this.canvas.__object__=this).original_colors=[],this.firstDraw=!0,this.centerx=e,this.centery=h,this.radius=a,this.text=l,this.type="drawing.marker1",this.isRGraph=!0,this.isrgraph=!0,this.rgraph=!0,this.uid=RGraph.createUID(),this.canvas.uid=this.canvas.uid||RGraph.createUID(),this.properties={colorsStroke:"black",colorsFill:"white",linewidth:2,textColor:"black",textSize:12,textFont:"Arial, Verdana, sans-serif",textBold:!1,textItalic:!1,textAccessible:!0,textAccessibleOverflow:"visible",textAccessiblePointerevents:!1,text:null,shadow:!0,shadowColor:"#aaa",shadowOffsetx:0,shadowOffsety:0,shadowBlur:15,highlightStroke:"rgba(0,0,0,0)",highlightFill:"rgba(255,0,0,0.7)",tooltips:null,tooltipsHighlight:!0,tooltipsCssClass:"RGraph_tooltip",tooltipsCss:null,tooltipsEffect:"slide",tooltipsEvent:"onclick",tooltipsFormattedPoint:".",tooltipsFormattedThousand:",",tooltipsFormattedDecimals:0,tooltipsFormattedUnitsPre:"",tooltipsFormattedUnitsPost:"",tooltipsFormattedListType:"ul",tooltipsFormattedListItems:null,tooltipsPointer:!0,tooltipsPositionStatic:!0,align:"center",clearto:"rgba(0,0,0,0)"},this.canvas?(this.$0={},this.coords=[],this.coordsText=[],o=this.properties,this.path=RGraph.pathObjectFunction,RGraph.Effects&&"function"==typeof RGraph.Effects.decorate&&RGraph.Effects.decorate(this),this.set=function(t){var r=void 0===arguments[1]?null:arguments[1];if(1!==arguments.length||"object"!=typeof t)return o[t]=r,this;for(i in t)"string"==typeof i&&this.set(i,t[i]);return this},this.get=function(t){return o[t]},this.draw=function(){RGraph.fireCustomEvent(this,"onbeforedraw"),this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);var t=this.radius;"left"==o.align?this.markerCenterx=this.centerx-t-t-3:"right"==o.align?this.markerCenterx=this.centerx+t+t+3:this.markerCenterx=this.centerx,this.markerCentery=this.centery-t-t-3,this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.coordsText=[],this.path("b lw %",o.linewidth),o.shadow&&RGraph.setShadow(this,o.shadowColor,o.shadowOffsetx,o.shadowOffsety,o.shadowBlur),this.drawMarker(),this.path("c s % f %",o.colorsStroke,o.colorsFill),RGraph.noShadow(this);t=RGraph.getTextConf({object:this,prefix:"text"});return this.context.fillStyle=o.textColor,RGraph.text({object:this,font:t.font,size:t.size,color:t.color,bold:t.bold,italic:t.italic,x:this.coords[0][0]-1,y:this.coords[0][1]-1,text:this.text,valign:"center",halign:"center",tag:"labels"}),RGraph.addCustomText(this),RGraph.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,RGraph.fireCustomEvent(this,"onfirstdraw"),this.firstDrawFunc()),RGraph.fireCustomEvent(this,"ondraw"),this},this.exec=function(t){return t(this),this},this.getObjectByXY=function(t){if(this.getShape(t))return this},this.getShape=function(t){var i,t=RGraph.getMouseXY(t);t[0],t[1];return this.context.beginPath(),this.drawMarker(),this.context.isPointInPath(t[0],t[1])?(RGraph.parseTooltipText&&o.tooltips&&(i=RGraph.parseTooltipText(o.tooltips,0)),{object:this,x:this.coords[0][0],y:this.coords[0][1],radius:this.coords[0][2],dataset:0,index:0,sequentialIndex:0,tooltip:"string"==typeof i?i:null}):null},this.highlight=function(t){o.tooltipsHighlight&&("function"==typeof o.highlightStyle?o.highlightStyle(t):(this.context.beginPath(),this.context.strokeStyle=o.highlightStroke,this.context.fillStyle=o.highlightFill,this.drawMarker(),this.context.closePath(),this.context.stroke(),this.context.fill()))},this.drawMarker=function(){var t,i,r=this.radius;"left"===o.align?(t=this.markerCenterx,i=this.markerCentery,this.path("a % % % % % false",t,i,r,RGraph.HALFPI,RGraph.TWOPI),this.path("qc % % % %",t+r,i+r,t+r+r,i+r+r),this.path("qc % % % %",t+r,i+r,t,i+r)):"right"===o.align?(t=this.markerCenterx,i=this.markerCentery,this.path("a % % % % % true",t,i,r,RGraph.HALFPI,RGraph.PI),this.path("qc % % % %",t-r,i+r,t-r-r,i+r+r),this.path("qc % % % %",t-r,i+r,t,i+r)):(t=this.markerCenterx,i=this.markerCentery,this.path("a % % % % % true",t,i,r,RGraph.HALFPI/2,RGraph.PI-RGraph.HALFPI/2),this.path("qc % % % %",t,i+r+r/4,t,i+r+r-2),this.path("qc % % % %",t,i+r+r/4,t+Math.cos(RGraph.HALFPI/2)*r,i+Math.sin(RGraph.HALFPI/2)*r)),this.coords[0]=[t,i,r]},this.parseColors=function(){0===this.original_colors.length&&(this.original_colors.colorsFill=RGraph.arrayClone(o.colorsFill),this.original_colors.colorsStroke=RGraph.arrayClone(o.colorsStroke),this.original_colors.highlightFill=RGraph.arrayClone(o.highlightFill),this.original_colors.highlightStroke=RGraph.arrayClone(o.highlightStroke),this.original_colors.textColor=RGraph.arrayClone(o.textColor)),o.colorsFill=this.parseSingleColorForGradient(o.colorsFill),o.colorsStroke=this.parseSingleColorForGradient(o.colorsStroke),o.highlightStroke=this.parseSingleColorForGradient(o.highlightStroke),o.highlightFill=this.parseSingleColorForGradient(o.highlightFill),o.textColor=this.parseSingleColorForGradient(o.textColor)},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return RGraph.parseJSONGradient({object:this,def:RegExp.$1});var i=RegExp.$1.split(":"),r=this.context.createRadialGradient(this.markerCenterx,this.markerCentery,0,this.markerCenterx,this.markerCentery,this.radius),s=1/(i.length-1);r.addColorStop(0,RGraph.trim(i[0]));for(var e=1;e<i.length;++e)r.addColorStop(e*s,RGraph.trim(i[e]))}return r||t},this.on=function(t,i){return"function"!=typeof this[t="on"!==t.substr(0,2)?"on"+t:t]?this[t]=i:RGraph.addCustomEventListener(this,t,i),this},this.firstDrawFunc=function(){},this.tooltipSubstitutions=function(t){return{index:0,dataset:0,sequentialIndex:0,value:null}},this.positionTooltipStatic=function(t){var i=t.object,r=(t.event,t.tooltip),s=(t.index,RGraph.getCanvasXY(i.canvas)),e=this.centerx;"left"==o.align?e=e-this.radius-this.radius:"right"==o.align&&(e=e+this.radius+this.radius),t.tooltip.style.left=s[0]+e-r.offsetWidth/2+i.properties.tooltipsOffsetx+"px",t.tooltip.style.top=s[1]-r.offsetHeight+i.properties.tooltipsOffsety+this.centery-this.radius-this.radius-this.radius-15+"px"},RGraph.register(this),RGraph.parseObjectStyleConfig(this,t.options)):alert("[DRAWING.MARKER1] No canvas support")};