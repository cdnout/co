RGraph=window.RGraph||{isrgraph:!0,isRGraph:!0,rgraph:!0},RGraph.SVG=RGraph.SVG||{},RGraph.SVG.HTML=RGraph.SVG.HTML||{},function(r){RGraph.SVG.drawKey=function(e){var t=e.properties,a=t.key,s=t.keyColors||t.colors,r="Arial",l=0,f=0,i=(t.keyColorShape,e.svg.getAttribute("width")/2);if("funnel"===e.type&&(i=e.graphWidth/2+t.marginLeft),a&&a.length){for(var y=0;y<a.length;y++)var o=RGraph.SVG.measureText({text:a[y],italic:t.keyLabelsItalic||t.textItalic,bold:t.keyLabelsBold||t.textBold,font:t.keyLabelsFont||t.textFont||r,size:t.keyLabelsSize||t.textSize,cache:!1}),f=f+10+(l=Math.max(l,o[1]))+5+o[0];x=i-f/2;for(var n=RGraph.SVG.getTextConf({object:e,prefix:"keyLabels"}),y=0,p=t.marginTop-5;y<a.length;++y){0===y&&"pie"===e.type&&"outline"==t.highlightStyle&&(p-=t.highlightStyleOutlineWidth);var o=RGraph.SVG.measureText({text:a[y],italic:t.keyLabelsItalic||t.textItalic,bold:t.keyLabelsBold||t.textBold,font:t.keyLabelsFont||t.textFont||r,size:t.keyLabelsSize||t.textSize,cache:!1}),k=t.keyColorShape;"circle"===(k="object"==typeof k?t.keyColorShape[y]:k)?RGraph.SVG.create({svg:e.svg,type:"circle",parent:e.svg.all,attr:{cx:x+l/2+t.keyOffsetx,cy:p-l/2+t.keyOffsety,r:l/2,fill:s[y]}}):"triangle"===k?RGraph.SVG.create({svg:e.svg,type:"path",parent:e.svg.all,attr:{d:"M {1} {2} L {3} {4} L {5} {6} z".format(x+t.keyOffsetx+l/2,p-l+t.keyOffsety,x+t.keyOffsetx+l,p+t.keyOffsety,x+t.keyOffsetx,p+t.keyOffsety),fill:s[y]}}):"line"===k?RGraph.SVG.create({svg:e.svg,type:"path",parent:e.svg.all,attr:{d:"M {1} {2} L {3} {4}".format(x+t.keyOffsetx,p-l/2+t.keyOffsety,x+t.keyOffsetx+l,p-l/2+t.keyOffsety),stroke:s[y],"stroke-width":2,"stroke-linecap":"round"}}):"dot"===k?(RGraph.SVG.create({svg:e.svg,type:"path",parent:e.svg.all,attr:{d:"M {1} {2} L {3} {4}".format(x+t.keyOffsetx,p-l/2+t.keyOffsety,x+t.keyOffsetx+l,p-l/2+t.keyOffsety),stroke:s[y],"stroke-width":2,"stroke-linecap":"round"}}),RGraph.SVG.create({svg:e.svg,type:"circle",parent:e.svg.all,attr:{cx:x+l/2+t.keyOffsetx,cy:p-l/2+t.keyOffsety,r:l/4,fill:s[y]}})):"squaredot"===k||"rectdot"===k?(RGraph.SVG.create({svg:e.svg,type:"path",parent:e.svg.all,attr:{d:"M {1} {2} L {3} {4}".format(x+t.keyOffsetx,p-l/2+t.keyOffsety,x+t.keyOffsetx+l,p-l/2+t.keyOffsety),stroke:s[y],"stroke-width":2,"stroke-linecap":"round"}}),RGraph.SVG.create({svg:e.svg,type:"rect",parent:e.svg.all,attr:{x:x+l/4+t.keyOffsetx,y:p+l/4-l+t.keyOffsety,width:l/2,height:l/2,fill:s[y]}})):"function"==typeof k?RGraph.SVG.create({svg:e.svg,type:"path",parent:e.svg.all,attr:{d:"M {1} {2} L {3} {4}".format(x+t.keyOffsetx,p-l/2+t.keyOffsety,x+t.keyOffsetx+l,p-l/2+t.keyOffsety),stroke:s[y],"stroke-width":2,"stroke-linecap":"round"}}):RGraph.SVG.create({svg:e.svg,type:"rect",parent:e.svg.all,attr:{x:x+t.keyOffsetx,y:p-l+t.keyOffsety,width:l,height:l,fill:s[y]}}),RGraph.SVG.text({object:e,parent:e.svg.all,tag:"key",size:n.size,bold:n.bold,italic:n.italic,font:n.font,color:n.color,halign:"left",valign:"bottom",text:a[y],x:x+l+5+t.keyLabelsOffsetx+t.keyOffsetx,y:p+t.keyLabelsOffsety+t.keyOffsety,background:t.keyLabelsBackground||"white",padding:0}),x+=10+l+5+o[0]}}},RGraph.SVG.HTML.key=function(e,a){for(var e=r.getElementById(e),t='<table border="0" cellspacing="0" cellpadding="0" id="rgraph_key" style="display: inline;'+function(){var e="";for(s in a.tableCss)"string"==typeof s&&(e=e+s+": "+a.tableCss[s]+";");return e}()+'" '+(a.tableClass?'class="'+a.tableClass+'"':"")+">",s=0;s<a.labels.length;s+=1)t+='<tr><td><div style="'+function(){var e,t="";for(e in a.blobCss)"string"==typeof e&&(t=t+e+": "+a.blobCss[e]+";");return t}()+"display: inline-block; margin-right: 5px; margin-top: 4px; width: 15px; height: 15px; background-color: "+a.colors[s]+'"'+(a.blobClass?'class="'+a.blobClass+'"':"")+">&nbsp;</div><td>"+(a.links&&a.links[s]?'<a href="'+a.links[s]+'">':"")+"<span "+(a.labelClass?'class="'+a.labelClass+'"':"")+'" style="'+function(){var e,t="";for(e in a.labelCss)"string"==typeof e&&(t=t+e+": "+a.labelCss[e]+";");return t}()+'" '+function(){var e="";if(a["labelCss_"+s])for(var t in a["labelCss_"+s])e=e+t+": "+a["labelCss_"+s][t]+";";return e?'style="'+e+'"':""}()+">"+a.labels[s]+"</span>"+(a.links&&a.links[s]?"</a>":"")+"</td></tr>";return e.innerHTML+=t+"</table>",r.getElementById("rgraph_key")}}((window,document));