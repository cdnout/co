RGraph=window.RGraph||{isrgraph:!0,isRGraph:!0,rgraph:!0},RGraph.Radar=function(t){t.data=RGraph.stringsToNumbers(t.data),"number"==typeof t.data[0]&&(t.data=[t.data]),this.id=t.id,this.canvas=document.getElementById(t.id),this.context=this.canvas.getContext?this.canvas.getContext("2d"):null,(this.canvas.__object__=this).type="radar",this.isRGraph=!0,this.isrgraph=!0,this.rgraph=!0,this.data=[],this.max=0,this.uid=RGraph.createUID(),this.canvas.uid=this.canvas.uid||RGraph.createUID(),this.colorsParsed=!1,this.coords=[],this.coordsText=[],this.original_data=[],this.original_colors=[],this.firstDraw=!0;for(var s=0,e=t.data.length;s<e;++s){for(var i=0;i<t.data[s].length;++i)"string"==typeof t.data[s][i]&&(t.data[s][i]=parseFloat(t.data[s][i]));this.original_data.push(RGraph.arrayClone(t.data[s])),this.data.push(RGraph.arrayClone(t.data[s])),this.max=Math.max(this.max,RGraph.arrayMax(t.data[s]))}this.properties={marginLeft:35,marginRight:35,marginTop:35,marginBottom:35,linewidth:1,colorsStroke:"#aaa",colors:["rgba(255,0,0,0.75)","rgba(0,255,255,0.25)","rgba(255,0,0,0.5)","red","green","blue","pink","aqua","brown","orange","grey"],colorsAlpha:null,circle:0,circleFill:"red",circleStroke:"black",labels:[],labelsFormattedDecimals:0,labelsFormattedPoint:".",labelsFormattedThousand:",",labelsFormattedUnitsPre:"",labelsFormattedUnitsPost:"",labelsFont:null,labelsSize:null,labelsColor:null,labelsBold:null,labelsOffsetRadius:0,labelsBackgroundFill:"white",labelsBoxed:!1,labelsAxes:"",labelsAxesFont:null,labelsAxesSize:null,labelsAxesColor:null,labelsAxesBold:null,labelsAxesItalic:null,labelsAxesBoxed:null,labelsAxesBoxedZero:!0,labelsAxesBoxedBackground:"rgba(255,255,255,0.7)",labelsAxesSpecific:null,labelsAxesCount:5,labelsAxesOffsetx:0,labelsAxesOffsety:0,backgroundCircles:!0,backgroundCirclesCount:null,backgroundCirclesColor:"#ddd",backgroundCirclesPoly:!0,backgroundCirclesSpokes:24,textSize:12,textFont:"Arial, Verdana, sans-serif",textColor:"black",textBold:!1,textItalic:!1,textAccessible:!0,textAccessibleOverflow:"visible",textAccessiblePointerevents:!1,text:null,title:"",titleBackground:null,titleHpos:null,titleVpos:null,titleColor:null,titleBold:null,titleItalic:null,titleSize:null,titleFont:null,titleX:null,titleY:null,titleHalign:null,titleValign:null,titleOffsetx:0,titleOffsety:0,key:null,keyBackground:"white",keyShadow:!1,keyShadowColor:"#666",keyShadowBlur:3,keyShadowOffsetx:2,keyShadowOffsety:2,keyPosition:"graph",keyHalign:"right",keyPositionGutterBoxed:!1,keyPositionX:null,keyPositionY:null,keyColorShape:"square",keyRounded:!0,keyLinewidth:1,keyColors:null,keyInteractive:!1,keyInteractiveHighlightChartStroke:"rgba(255,0,0,0.3)",keyInteractiveHighlightLabel:"rgba(255,0,0,0.2)",keyLabelsColor:null,keyLabelsFont:null,keyLabelsSize:null,keyLabelsBold:null,keyLabelsItalic:null,keyLabelsOffsetx:0,keyLabelsOffsety:0,contextmenu:null,annotatable:!1,annotateColor:"black",annotateLinewidth:1,tooltips:null,tooltipsEvent:"mousemove",tooltipsEffect:"slide",tooltipsCssClass:"RGraph_tooltip",tooltipsCss:null,tooltipsHighlight:!0,tooltipsNohideonclear:!1,tooltipsFormattedThousand:",",tooltipsFormattedPoint:".",tooltipsFormattedDecimals:0,tooltipsFormattedUnitsPre:"",tooltipsFormattedUnitsPost:"",tooltipsFormattedKeyColors:null,tooltipsFormattedKeyColorsShape:"square",tooltipsFormattedKeyLabels:[],tooltipsFormattedListType:"ul",tooltipsFormattedListItems:null,tooltipsFormattedTableHeaders:null,tooltipsFormattedTableData:null,tooltipsPointer:!0,tooltipsPositionStatic:!0,highlightStroke:"gray",highlightFill:"rgba(255,255,255,0.7)",highlightPointRadius:2,resizable:!1,resizeHandleAdjust:[0,0],resizeHandleBackground:null,scaleMax:null,scaleDecimals:0,scalePoint:".",scaleThousand:",",scaleUnitsPre:"",scaleUnitsPost:"",accumulative:!1,radius:null,centerx:null,centery:null,xaxisTickmarksCount:5,yaxisTickmarksCount:5,axesColor:"rgba(0,0,0,0)",highlights:!1,highlightsStroke:"#ddd",highlightsFill:null,highlightsRadius:3,highlightStyleInvertStroke:"transparent",highlightStyleInvertFill:"rgba(255,255,255,0.7)",fillClick:null,fillMousemove:null,fillTooltips:null,fillHighlightFill:"rgba(255,255,255,0.7)",fillHighlightStroke:"rgba(0,0,0,0)",fillMousemoveRedraw:!1,animationTraceClip:1,clearto:"rgba(0,0,0,0)"};for(var o=0;o<this.data.length;++o)if(this.data[o].length<3)return void alert("[RADAR] You must specify at least 3 data points");var l=0;this.data_arr=[];for(o=0;o<this.data.length;++o)for(s=0,e=this.data[o].length;s<e;++s)this["$"+l++]={},this.data_arr.push(this.data[o][s]);var d=this.properties;this.path=RGraph.pathObjectFunction,RGraph.Effects&&"function"==typeof RGraph.Effects.decorate&&RGraph.Effects.decorate(this),this.responsive=RGraph.responsive,this.set=function(t){var e=void 0===arguments[1]?null:arguments[1];if("labelsOffset"===t&&(t="labelsOffsetRadius"),1!==arguments.length||"object"!=typeof arguments[0])return d[t]=e,this;for(s in arguments[0])"string"==typeof s&&this.set(s,arguments[0][s]);return this},this.get=function(t){return d[t]},this.draw=function(){if(RGraph.fireCustomEvent(this,"onbeforedraw"),this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0),this.coords=[],this.coords2=[],this.coordsText=[],this.data=RGraph.arrayClone(this.original_data),d.accumulative)for(var t=0;t<this.data.length;++t)this.data[t].length!=this.data[0].length&&alert("[RADAR] Error! When the radar has the accumulative option set to true all the datasets must have the same number of elements");if(RGraph.isNull(d.labelsAxesBoxed)){d.labelsAxesBoxed=[];for(t=0;t<(RGraph.isArray(d.labelsAxesSpecific)&&d.labelsAxesSpecific.length||d.labelsAxesCount||5);++t)d.labelsAxesBoxed[t]=!1}if(this.marginLeft=d.marginLeft,this.marginRight=d.marginRight,this.marginTop=d.marginTop,this.marginBottom=d.marginBottom,this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=(this.canvas.height-this.marginTop-this.marginBottom)/2+this.marginTop,this.radius=Math.min(this.canvas.width-this.marginLeft-this.marginRight,this.canvas.height-this.marginTop-this.marginBottom)/2,"number"==typeof d.centerx&&(this.centerx=2*d.centerx),"number"==typeof d.centery&&(this.centery=2*d.centery),"number"==typeof d.radius&&(this.radius=d.radius),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),d.scaleMax){var e=d.scaleMax;this.scale2=RGraph.getScale({object:this,options:{"scale.max":e,"scale.min":0,"scale.strict":!0,"scale.decimals":Number(d.scaleDecimals),"scale.point":d.scalePoint,"scale.thousand":d.scaleThousand,"scale.round":d.scaleRound,"scale.units.pre":d.scaleUnitsPre,"scale.units.post":d.scaleUnitsPost,"scale.labels.count":d.labelsAxesCount}}),this.max=this.scale2.max}else{if(d.accumulative)for(var i=this.original_data[0].length,t=1;t<this.original_data.length;++t){this.original_data[t].length!=i&&alert("[RADAR] Error! Stacked Radar chart datasets must all be the same size!");for(var s=0;s<this.original_data[t].length;++s)this.data[t][s]+=this.data[t-1][s],this.max=Math.max(this.max,this.data[t][s])}this.scale2=RGraph.getScale({object:this,options:{"scale.max":"number"==typeof d.scaleMax?d.scaleMax:this.max,"scale.min":0,"scale.decimals":Number(d.scaleDecimals),"scale.point":d.scalePoint,"scale.thousand":d.scaleThousand,"scale.round":d.scaleRound,"scale.units.pre":d.scaleUnitsPre,"scale.units.post":d.scaleUnitsPost,"scale.labels.count":d.labelsAxesCount}}),this.max=this.scale2.max}return this.drawBackground(),this.drawAxes(),this.drawCircle(),this.drawLabels(),this.context.save(),this.context.beginPath(),this.context.arc(this.centerx,this.centery,2*this.radius,-RGraph.HALFPI,RGraph.TWOPI*d.animationTraceClip-RGraph.HALFPI,!1),this.context.lineTo(this.centerx,this.centery),this.context.closePath(),this.context.clip(),this.drawChart(),this.drawHighlights(),this.context.restore(),this.drawAxisLabels(),d.title&&RGraph.drawTitle(this,d.title,this.marginTop,null,null),d.key&&RGraph.drawKey(this,d.key,d.colors),d.contextmenu&&RGraph.showContext(this),RGraph.addCustomText(this),RGraph.installEventListeners(this),!d.fillClick&&!d.fillMousemove&&RGraph.isNull(d.fillTooltips)||this.__fill_click_listeners_installed__||(this.addFillListeners(),this.__fill_click_listeners_installed__=!0),this.firstDraw&&(this.firstDraw=!1,RGraph.fireCustomEvent(this,"onfirstdraw"),this.firstDrawFunc()),RGraph.fireCustomEvent(this,"ondraw"),this},this.exec=function(t){return t(this),this},this.drawBackground=function(){var t=d.backgroundCirclesColor,e=d.backgroundCirclesPoly,i=(d.backgroundCirclesSpacing,d.backgroundCirclesSpokes);if(this.context.lineWidth=1,d.backgroundCircles&&0==e){this.context.strokeStyle=t,this.context.beginPath();for(var s="number"==typeof d.backgroundCirclesCount?d.backgroundCirclesCount:d.labelsAxesCount,o=0;o<=this.radius;o+=this.radius/s)this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,o,0,RGraph.TWOPI,!1);this.context.stroke(),this.context.strokeStyle=t;for(var l=0;l<360;l+=360/i)this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius,l/360*RGraph.TWOPI,(l+.001)/360*RGraph.TWOPI,!1),this.context.lineTo(this.centerx,this.centery),this.context.stroke()}else if(d.backgroundCircles&&1==e){this.context.strokeStyle=t;for(var a=360/this.data[0].length,l=0;l<360;l+=a)this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius,l/360*RGraph.TWOPI-RGraph.HALFPI,(l+.001)/360*RGraph.TWOPI-RGraph.HALFPI,!1),this.context.lineTo(this.centerx,this.centery),this.context.stroke();this.context.strokeStyle=t;for(s="number"==typeof d.backgroundCirclesCount?d.backgroundCirclesCount:d.labelsAxesCount,o=0;o<=this.radius;o+=this.radius/s){this.context.beginPath();for(var r=0;r<=360;r+=360/this.data[0].length)this.context.arc(this.centerx,this.centery,o,RGraph.toRadians(r)-RGraph.HALFPI,RGraph.toRadians(r)+.001-RGraph.HALFPI,!1);this.context.closePath(),this.context.stroke()}}},this.drawAxes=function(){this.context.strokeStyle=d.axesColor,this.context.lineWidth=d.axesLinewidth;this.radius;this.context.beginPath(),this.context.moveTo(Math.round(this.centerx),this.centery+this.radius),this.context.lineTo(Math.round(this.centerx),this.centery-this.radius),this.context.moveTo(this.centerx-5,Math.round(this.centery+this.radius)),this.context.lineTo(this.centerx+5,Math.round(this.centery+this.radius)),this.context.moveTo(this.centerx-5,Math.round(this.centery-this.radius)),this.context.lineTo(this.centerx+5,Math.round(this.centery-this.radius));for(var t=this.centery-this.radius;t<this.centery+this.radius;t+=this.radius/d.yaxisTickmarksCount)this.context.moveTo(this.centerx-3,Math.round(t)),this.context.lineTo(this.centerx+3,Math.round(t));this.context.moveTo(this.centerx-this.radius,Math.round(this.centery)),this.context.lineTo(this.centerx+this.radius,Math.round(this.centery)),this.context.moveTo(Math.round(this.centerx-this.radius),this.centery-5),this.context.lineTo(Math.round(this.centerx-this.radius),this.centery+5),this.context.moveTo(Math.round(this.centerx+this.radius),this.centery-5),this.context.lineTo(Math.round(this.centerx+this.radius),this.centery+5);for(var e=this.centerx-this.radius;e<this.centerx+this.radius;e+=this.radius/d.xaxisTickmarksCount)this.context.moveTo(Math.round(e),this.centery-3),this.context.lineTo(Math.round(e),this.centery+3);this.context.stroke()},this.drawChart=function(){var t,e=d.colorsAlpha;"number"==typeof e&&(t=this.context.globalAlpha,this.context.globalAlpha=e);this.data.length;for(var i=0;i<this.data.length;++i){this.context.beginPath();for(var s=[],o=0;o<this.data[i].length;++o){var l=this.getCoordinates(i,o);(s=null==s?[]:s).push(l),this.coords.push(l)}for(this.coords2[i]=s,this.context.strokeStyle="object"==typeof d.colorsStroke&&d.colorsStroke[i]?d.colorsStroke[i]:d.colorsStroke,this.context.fillStyle=d.colors[i]||"rgba(0,0,0,0)","transparent"===this.context.fillStyle&&(this.context.fillStyle="rgba(0,0,0,0)"),this.context.lineWidth=d.linewidth,o=0;o<s.length;++o)0==o?this.context.moveTo(s[o][0],s[o][1]):this.context.lineTo(s[o][0],s[o][1]);if(d.accumulative&&0<i){this.context.lineTo(s[0][0],s[0][1]),this.context.moveTo(a[0][0],a[0][1]);for(o=s.length-1;0<=o;--o)this.context.lineTo(a[o][0],a[o][1])}var a=s;this.context.closePath(),this.context.fill(),this.context.stroke()}"number"==typeof e&&(this.context.globalAlpha=t)},this.getCoordinates=function(t,e){var i=this.data[t].length,t=this.data[t][e]/this.max*this.radius,i=RGraph.TWOPI/i*e;i-=RGraph.HALFPI;e=Math.cos(i)*t,t=Math.sin(i)*t;return[e=this.centerx+e,t=this.centery+t]},this.drawLabels=function(){if(d.labels&&d.labels.length){"string"==typeof d.labels&&(d.labels=RGraph.arrayPad({array:[],length:this.data[0].length,value:d.labels}));for(var t=0;t<d.labels.length;++t)d.labels[t]=RGraph.labelSubstitution({object:this,text:d.labels[t],index:t,value:this.data[0][t],decimals:d.labelsFormattedDecimals||0,unitsPre:d.labelsFormattedUnitsPre||"",unitsPost:d.labelsFormattedUnitsPost||"",thousand:d.labelsFormattedThousand||",",point:d.labelsFormattedPoint||"."})}var e=d.labels;if(e&&0<e.length){this.context.lineWidth=1,this.context.strokeStyle="gray",this.context.fillStyle=d.labelsColor||d.textColor;for(var i=d.labelsBackgroundFill,s=(d.labelsBold,d.labelsBoxed),o=d.labelsOffsetRadius,l=(d.textFont,d.textSize,this.radius),t=(d.labelsColor||d.textColor,0);t<e.length;++t){var a=RGraph.TWOPI/d.labels.length*t;a-=RGraph.HALFPI;var r=this.centerx+Math.cos(a)*(l+10+o),n=this.centery+Math.sin(a)*(l+10+o),h=r<this.centerx?"right":"left";0!=t&&t/e.length!=.5||(h="center"),e[t]&&e[t].length&&(a=RGraph.getTextConf({object:this,prefix:"labels"}),RGraph.text({object:this,font:a.font,size:a.size,color:a.color,bold:a.bold,italic:a.italic,x:r,y:n,text:e[t],valign:"center",halign:h,bounding:s,boundingFill:i,tag:"labels",cssClass:RGraph.getLabelsCSSClassName({object:this,name:"labelsClass",index:t})}))}}},this.drawCircle=function(){var t,e={};e.limit=d.circle,e.fill=d.circleFill,e.stroke=d.circleStroke,e.limit&&(t=e.limit/this.max*this.radius,this.context.fillStyle=e.fill,this.context.strokeStyle=e.stroke,this.context.beginPath(),this.context.arc(this.centerx,this.centery,t,0,RGraph.TWOPI,0),this.context.fill(),this.context.stroke())},this.drawAxisLabels=function(){if(RGraph.isArray(d.labelsAxesSpecific)&&d.labelsAxesSpecific.length)this.drawSpecificAxisLabels();else{this.context.lineWidth=1,this.context.fillStyle="black",this.context.strokeStyle="black";var t=this.radius,e=(d.textFont,d.labelsAxes.toLowerCase()),i=d.labelsAxesBoxedBackground,s=!1,o=d.scaleUnitsPre,l=d.scaleUnitsPost,a=(d.scaleDecimals,d.labelsAxesBold,d.labelsAxesBoxed),r=this.centerx,n=this.centery;this.scale;this.context.fillStyle=d.textColor;var h=RGraph.getTextConf({object:this,prefix:"labelsAxes"});if(-1<e.indexOf("n")){for(var c=0;c<this.scale2.labels.length;++c)RGraph.text({object:this,font:h.font,size:h.size,color:h.color,bold:h.bold,italic:h.italic,x:r+d.labelsAxesOffsetx,y:n-t*((c+1)/this.scale2.labels.length)+d.labelsAxesOffsety,text:this.scale2.labels[c],valign:"center",halign:"center",bounding:a[c]||i,boundingFill:i,boundingStroke:"rgba(0,0,0,0)",tag:"scale"});s=!0}if(-1<e.indexOf("s")){for(c=0;c<this.scale2.labels.length;++c)RGraph.text({object:this,font:h.font,size:h.size,color:h.color,bold:h.bold,italic:h.italic,x:r+d.labelsAxesOffsetx,y:n+t*((c+1)/this.scale2.labels.length)+d.labelsAxesOffsety,text:this.scale2.labels[c],valign:"center",halign:"center",bounding:a[c]||i,boundingFill:i,boundingStroke:"rgba(0,0,0,0)",tag:"scale"});s=!0}if(-1<e.indexOf("e")){for(c=0;c<this.scale2.labels.length;++c)RGraph.text({object:this,font:h.font,size:h.size,color:h.color,bold:h.bold,italic:h.italic,x:r+t*((c+1)/this.scale2.labels.length)+d.labelsAxesOffsetx,y:n+d.labelsAxesOffsety,text:this.scale2.labels[c],valign:"center",halign:"center",bounding:a[c]||i,boundingFill:i,boundingStroke:"rgba(0,0,0,0)",tag:"scale"});s=!0}if(-1<e.indexOf("w")){for(c=0;c<this.scale2.labels.length;++c)RGraph.text({object:this,font:h.font,size:h.size,color:h.color,bold:h.bold,italic:h.italic,x:r-t*((c+1)/this.scale2.labels.length)+d.labelsAxesOffsetx,y:n+d.labelsAxesOffsety,text:this.scale2.labels[c],valign:"center",halign:"center",bounding:a[c]||i,boundingFill:i,boundingStroke:"rgba(0,0,0,0)",tag:"scale"});s=!0}s&&RGraph.text({object:this,font:h.font,size:h.size,color:h.color,bold:h.bold,italic:h.italic,x:r+d.labelsAxesOffsetx,y:n+d.labelsAxesOffsety,text:RGraph.numberFormat({object:this,number:Number(0).toFixed(),unitspre:o,unitspost:l}),valign:"center",halign:"center",bounding:!!i,boundingFill:i,boundingStroke:"rgba(0,0,0,0)",tag:"scale"})}},this.drawSpecificAxisLabels=function(){for(var t=d.labelsAxesSpecific,e=RGraph.arrayPad(d.labelsAxesBoxed,t.length),i=RGraph.arrayReverse(t),s=RGraph.arrayReverse(e),o=d.labelsAxes.toLowerCase(),l=RGraph.getTextConf({object:this,prefix:"labelsAxes"}),a=0;a<t.length;++a)-1<o.indexOf("n")&&RGraph.text({object:this,font:l.font,size:l.size,color:l.color,bold:l.bold,italic:l.italic,tag:"labels.axes.specific",x:this.centerx,y:this.centery-this.radius+this.radius/t.length*a,text:i[a],valign:"center",halign:"center",bounding:s[a],boundingFill:"white"}),-1<o.indexOf("s")&&RGraph.text({object:this,font:l.font,size:l.size,color:l.color,bold:l.bold,italic:l.italic,tag:"labels.axes.specific",x:this.centerx,y:this.centery+this.radius/t.length*(a+1),text:t[a],valign:"center",halign:"center",bounding:e[a],boundingFill:"white"}),-1<o.indexOf("w")&&RGraph.text({object:this,font:l.font,size:l.size,color:l.color,bold:l.bold,italic:l.italic,tag:"labels.axes.specific",x:this.centerx-this.radius+this.radius/t.length*a,y:this.centery,text:i[a],valign:"center",halign:"center",bounding:s[a],boundingFill:"white"}),-1<o.indexOf("e")&&RGraph.text({object:this,font:l.font,size:l.size,color:l.color,bold:l.bold,italic:l.italic,tag:"labels.axes.specific",x:this.centerx+this.radius/t.length*(a+1),y:this.centery,text:t[a],valign:"center",halign:"center",bounding:e[a],boundingFill:"white"})},this.getShape=function(t){for(var e=0;e<this.coords.length;++e){var i,s=this.coords[e][0],o=this.coords[e][1],l=(d.tooltips,Number(e)),a=RGraph.getMouseXY(t),r=a[0],a=a[1];if(r<s+5&&s-5<r&&o-5<a&&a<o+5){RGraph.parseTooltipText&&(i=RGraph.parseTooltipText(d.tooltips,l));r=RGraph.sequentialIndexToGrouped(l,this.data),a=r[0],r=r[1];return{object:this,x:s,y:o,index:r,dataset:a,sequentialIndex:l,label:d.labels&&"string"==typeof d.labels[r]?d.labels[r]:null,tooltip:"string"==typeof i?i:null}}}},this.highlight=function(t){if("function"==typeof d.highlightStyle)d.highlightStyle(t);else if("invert"===d.highlightStyle){this.path("b a % % % % % true",t.x,t.y,25,4.72,-1.57);for(var e=0;e<=360;e+=360/this.data[0].length)this.path("a % % % % % false"),this.context.arc(this.centerx,this.centery,this.radius,RGraph.toRadians(e)-RGraph.HALFPI,RGraph.toRadians(e)+.001-RGraph.HALFPI,!1);this.path("a % % % % % false c f %",this.centerx,this.centery,this.radius,0-RGraph.HALFPI,.001-RGraph.HALFPI,d.highlightFill),this.path("b a % % % % % false s %",t.x,t.y,25,0,6.29,d.highlightStroke)}else RGraph.Highlight.point(this,t)},this.getObjectByXY=function(t){t=RGraph.getMouseXY(t);if(t[0]>this.centerx-this.radius-5&&t[0]<this.centerx+this.radius+5&&t[1]>this.centery-this.radius-5&&t[1]<this.centery+this.radius+5)return this},this.drawHighlights=function(){if(d.highlights)for(var t=0,e=0,i=0,s=d.highlightsRadius,e=0;e<this.data.length;++e)for(i=0;i<this.data[e].length;++i)this.context.beginPath(),this.context.strokeStyle=d.highlightsStroke,this.context.fillStyle=d.highlightsFill||("object"==typeof d.colorsStroke&&d.colorsStroke[e]?d.colorsStroke[e]:d.colorsStroke),this.context.arc(this.coords[t][0],this.coords[t][1],s,0,RGraph.TWOPI,!1),this.context.stroke(),this.context.fill(),++t},this.getRadius=function(t){return t<0||t>this.max?null:t/this.max*this.radius},this.getAngle=function(t,e){e=RGraph.TWOPI/t*e;return e-=RGraph.HALFPI},this.parseColors=function(){0===this.original_colors.length&&(this.original_colors.colors=RGraph.arrayClone(d.colors),this.original_colors.keyColors=RGraph.arrayClone(d.keyColors),this.original_colors.titleColor=RGraph.arrayClone(d.titleColor),this.original_colors.textColor=RGraph.arrayClone(d.textColor),this.original_colors.labelsColor=RGraph.arrayClone(d.labelsColor),this.original_colors.labelsAxesColor=RGraph.arrayClone(d.labelsAxesColor),this.original_colors.highlightStroke=RGraph.arrayClone(d.highlightStroke),this.original_colors.highlightFill=RGraph.arrayClone(d.highlightFill),this.original_colors.circleFill=RGraph.arrayClone(d.circleFill),this.original_colors.circleStroke=RGraph.arrayClone(d.circleStroke),this.original_colors.colorsStroke=RGraph.arrayClone(d.colorsStroke));for(var t=0;t<d.colors.length;++t)d.colors[t]=this.parseSingleColorForGradient(d.colors[t]);var e=d.keyColors;if("null"!=typeof e&&e&&e.length)for(t=0;t<d.keyColors.length;++t)d.keyColors[t]=this.parseSingleColorForGradient(d.keyColors[t]);if(d.titleColor=this.parseSingleColorForGradient(d.titleColor),d.textColor=this.parseSingleColorForGradient(d.textColor),d.labelsColor=this.parseSingleColorForGradient(d.labelsColor),d.labelsAxesColor=this.parseSingleColorForGradient(d.labelsAxesColor),d.highlightStroke=this.parseSingleColorForGradient(d.highlightStroke),d.highlightFill=this.parseSingleColorForGradient(d.highlightFill),d.circleFill=this.parseSingleColorForGradient(d.circleFill),d.circleStroke=this.parseSingleColorForGradient(d.circleStroke),"object"==typeof d.colorsStroke)for(t=0;t<d.colorsStroke.length;++t)d.colorsStroke[t]=this.parseSingleColorForGradient(d.colorsStroke[t]);else d.colorsStroke=this.parseSingleColorForGradient(d.colorsStroke)},this.reset=function(){},this.parseSingleColorForGradient=function(t){if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return RGraph.parseJSONGradient({object:this,def:RegExp.$1});var e=RegExp.$1.split(":"),i=this.context.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius),s=1/(e.length-1);i.addColorStop(0,RGraph.trim(e[0]));for(var o=1;o<e.length;++o)i.addColorStop(o*s,RGraph.trim(e[o]))}return i||t},this.addFillListeners=function(t){function e(t){a.coords,a.coords2;var e=RGraph.getMouseXY(t),i=0;"mousemove"==t.type&&d.fillMousemoveRedraw&&RGraph.redrawCanvas(a.canvas);for(var s,i=a.coords2.length-1;0<=i;--i){a.context.beginPath(),a.context.moveTo(a.coords2[i][0][0],a.coords2[i][0][1]);for(var o=0;o<a.coords2[i].length;++o)a.context.lineTo(a.coords2[i][o][0],a.coords2[i][o][1]);if(a.context.lineTo(a.coords2[i][0][0],a.coords2[i][0][1]),d.accumulative&&0<i){a.context.lineTo(a.coords2[i-1][0][0],a.coords2[i-1][0][1]);for(o=a.coords2[i-1].length-1;0<=o;--o)a.context.lineTo(a.coords2[i-1][o][0],a.coords2[i-1][o][1])}if(a.context.closePath(),a.context.isPointInPath(e[0],e[1])){var l=!0;break}}l?(s=d.fillTooltips,"click"==t.type&&(d.fillClick&&d.fillClick(t,i),d.fillTooltips&&d.fillTooltips[i]&&a.datasetTooltip(t,i)),"mousemove"==t.type&&(d.fillMousemove&&d.fillMousemove(t,i),RGraph.isNull(s)||(t.target.style.cursor="pointer"),d.fillTooltips&&d.fillTooltips[i]&&(t.target.style.cursor="pointer")),t.stopPropagation()):"mousemove"==t.type&&(a.canvas.style.cursor="default")}var a=this;!d.fillClick&&RGraph.isNull(d.fillTooltips)||this.canvas.addEventListener("click",e,!1),!d.fillMousemove&&RGraph.isNull(d.fillTooltips)||this.canvas.addEventListener("mousemove",e,!1)},this.highlightDataset=function(t){this.context.beginPath();for(var e=0;e<this.coords2[t].length;++e)0==e?this.context.moveTo(this.coords2[t][0][0],this.coords2[t][0][1]):this.context.lineTo(this.coords2[t][e][0],this.coords2[t][e][1]);if(this.context.lineTo(this.coords2[t][0][0],this.coords2[t][0][1]),d.accumulative&&0<t){this.context.lineTo(this.coords2[t-1][0][0],this.coords2[t-1][0][1]);for(e=this.coords2[t-1].length-1;0<=e;--e)this.context.lineTo(this.coords2[t-1][e][0],this.coords2[t-1][e][1])}this.context.strokeStyle=d.fillHighlightStroke,this.context.fillStyle=d.fillHighlightFill,this.context.stroke(),this.context.fill()},this.datasetTooltip=function(t,e){this.highlightDataset(e);var i=d.fillTooltips[e],s=this.coords2[e][0][0]+RGraph.getCanvasXY(this.canvas)[0],e=this.coords2[e][0][1]+RGraph.getCanvasXY(this.canvas)[1];RGraph.tooltip({object:this,text:i,x:s,y:e,index:0,event:t})},this.interactiveKeyHighlight=function(t){var e=this.coords2[t];if(e){var i=this.context.lineWidth,t=this.context.lineCap;this.context.lineWidth=d.linewidth+10,this.context.lineCap="round",this.context.strokeStyle=d.keyInteractiveHighlightChartStroke,this.context.beginPath();for(var s=0,o=e.length;s<o;s+=1)0==s?this.context.moveTo(e[s][0],e[s][1]):this.context.lineTo(e[s][0],e[s][1]);this.context.closePath(),this.context.stroke(),this.context.lineWidth=i,this.context.lineCap=t}},this.on=function(t,e){return"function"!=typeof this[t="on"!==t.substr(0,2)?"on"+t:t]?this[t]=e:RGraph.addCustomEventListener(this,t,e),this},this.firstDrawFunc=function(){},this.grow=function(){var l=this,a=arguments[1]||function(){},t=arguments[0]||{},r=t.frames||30,n=0,h=RGraph.arrayClone(l.data);return function t(){for(var e=0,i=h.length;e<i;++e)for(var s=0,o=h[e].length;s<o;++s)l.original_data[e][s]=n/r*h[e][s];RGraph.clear(l.canvas),RGraph.redrawCanvas(l.canvas),n<r?(n++,RGraph.Effects.updateCanvas(t)):a(l)}(),this},this.trace=function(){var t=this,e=(arguments[0]||{}).frames||60,i=0,s=arguments[1]||function(){};t.set("animationTraceClip",0);var o=function(){i<e?(t.set("animationTraceClip",i/e),i++,RGraph.redrawCanvas(t.canvas),RGraph.Effects.updateCanvas(o)):(t.set("animationTraceClip",1),RGraph.redrawCanvas(t.canvas),s(t))};return o(),this},this.tooltipSubstitutions=function(t){for(var e=RGraph.sequentialIndexToGrouped(t.index,this.data),i=0,s=[];i<this.data.length;++i)s.push(this.data[i][e[1]]);return{index:e[1],dataset:e[0],sequentialIndex:t.index,value:this.data_arr[t.index],values:s}},this.tooltipsFormattedCustom=function(t,e){var i=!RGraph.isNull(d.tooltipsFormattedKeyColors)&&"object"==typeof d.tooltipsFormattedKeyColors&&d.tooltipsFormattedKeyColors[s]?d.tooltipsFormattedKeyColors[s]:"";return{label:!RGraph.isNull(d.tooltipsFormattedKeyLabels)&&"object"==typeof d.tooltipsFormattedKeyLabels&&d.tooltipsFormattedKeyLabels[e]?d.tooltipsFormattedKeyLabels[e]:"",color:i}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),s=t.index,o=RGraph.getCanvasXY(e.canvas);coords=this.coords[s],t.tooltip.style.left=o[0]+coords[0]-i.offsetWidth/2+e.properties.tooltipsOffsetx+"px",t.tooltip.style.top=o[1]+coords[1]-i.offsetHeight+e.properties.tooltipsOffsety-15-(d.highlightsRadius-4)+"px"},RGraph.register(this),RGraph.parseObjectStyleConfig(this,t.options)};