RGraph=window.RGraph||{isrgraph:!0,isRGraph:!0,rgraph:!0},RGraph.SVG=RGraph.SVG||{},window,document,RGraph.SVG.Bipolar=function(t){this.set=function(t,e){if(1===arguments.length&&"object"==typeof t)for(r in arguments[0])"string"==typeof r&&(t=i.name,e=i.value,this.set(t,e));else{var i=RGraph.SVG.commonSetter({object:this,name:t,value:e});t=i.name,e=i.value,this.properties[t]=e,"colors"===t&&(this.originalColors=RGraph.SVG.arrayClone(e),this.colorsParsed=!1)}return this},this.get=function(t){return this.properties[t]},this.id=t.id,this.uid=RGraph.SVG.createUID(),this.container=document.getElementById(this.id),this.layers={},this.svg=RGraph.SVG.createSVG({object:this,container:this.container}),this.isRGraph=!0,this.isrgraph=!0,this.rgraph=!0,this.data=[t.left,t.right],this.left=t.left,this.right=t.right,this.type="bipolar",this.coords=[],this.coordsLeft=[],this.coordsRight=[],this.coords2=[],this.coords2Left=[],this.coords2Right=[],this.stackedBackfacesLeft=[],this.stackedBackfacesRight=[],this.originalColors={},this.gradientCounter=1,this.sequentialIndex=0,this.firstDraw=!0,this.data[0]=RGraph.SVG.stringsToNumbers(this.data[0]),this.data[1]=RGraph.SVG.stringsToNumbers(this.data[1]),this.left=RGraph.SVG.stringsToNumbers(this.left),this.right=RGraph.SVG.stringsToNumbers(this.right),this.data_arr=[];for(var r=0;r<this.left.length;++r)this.data_arr.push(this.left[r]);for(r=0;r<this.right.length;++r)this.data_arr.push(this.right[r]);RGraph.SVG.OR.add(this),this.container.style.display="inline-block",this.properties={marginLeft:35,marginRight:35,marginTop:35,marginBottom:35,marginCenter:null,marginInner:3,marginInnerGrouped:2,backgroundColor:null,backgroundGrid:!0,backgroundGridColor:"#ddd",backgroundGridLinewidth:1,backgroundGridHlines:!0,backgroundGridHlinesCount:null,backgroundGridVlines:!0,backgroundGridVlinesCount:null,backgroundGridBorder:!0,backgroundGridDashed:!1,backgroundGridDotted:!1,backgroundGridDashArray:null,xaxis:!0,xaxisLinewidth:1,xaxisTickmarks:!0,xaxisTickmarksLength:5,xaxisLabelsCount:5,xaxisLabelsPositionEdgeTickmarksCount:5,xaxisColor:"black",xaxisLabelsOffsetx:0,xaxisLabelsOffsety:0,xaxisLabelsFont:null,xaxisLabelsSize:null,xaxisLabelsBold:null,xaxisLabelsItalic:null,xaxisLabelsColor:null,xaxisScaleUnitsPre:"",xaxisScaleUnitsPost:"",xaxisScaleStrict:!1,xaxisScaleDecimals:0,xaxisScalePoint:".",xaxisScaleThousand:",",xaxisScaleRound:!1,xaxisScaleMax:null,xaxisScaleMin:0,xaxisScaleFormatter:null,yaxis:!0,yaxisTickmarks:!0,yaxisTickmarksLength:5,yaxisColor:"black",yaxisScale:!1,yaxisLabels:null,yaxisLabelsOffsetx:0,yaxisLabelsOffsety:0,yaxisLabelsFont:null,yaxisLabelsSize:null,yaxisLabelsBold:null,yaxisLabelsItalic:null,yaxisLabelsColor:null,yaxisLabelsFormattedDecimals:0,yaxisLabelsFormattedPoint:".",yaxisLabelsFormattedThousand:",",yaxisLabelsFormattedUnitsPre:"",yaxisLabelsFormattedUnitsPost:"",colors:["red","#0f0","#00f","#ff0","#0ff","#0f0","pink","orange","gray","black","red","#0f0","#00f","#ff0","#0ff","#0f0","pink","orange","gray","black"],colorsSequential:!1,colorsStroke:"rgba(0,0,0,0)",colorsLeft:null,colorsRight:null,labelsAbove:!1,labelsAboveFont:null,labelsAboveSize:null,labelsAboveBold:null,labelsAboveItalic:null,labelsAboveColor:null,labelsAboveBackground:null,labelsAboveBackgroundPadding:0,labelsAboveUnitsPre:null,labelsAboveUnitsPost:null,labelsAbovePoint:null,labelsAboveThousand:null,labelsAboveFormatter:null,labelsAboveDecimals:null,labelsAboveOffsetx:0,labelsAboveOffsety:0,labelsAboveSpecific:null,textColor:"black",textFont:"Arial, Verdana, sans-serif",textSize:12,textBold:!1,textItalic:!1,text:null,linewidth:1,grouping:"grouped",tooltips:null,tooltipsOverride:null,tooltipsEffect:"fade",tooltipsCssClass:"RGraph_tooltip",tooltipsCss:null,tooltipsEvent:"click",tooltipsFormattedThousand:",",tooltipsFormattedPoint:".",tooltipsFormattedDecimals:0,tooltipsFormattedUnitsPre:"",tooltipsFormattedUnitsPost:"",tooltipsFormattedKeyColors:null,tooltipsFormattedKeyColorsShape:"square",tooltipsFormattedKeyLabels:[],tooltipsFormattedTableHeaders:null,tooltipsFormattedTableData:null,tooltipsPointer:!0,tooltipsPositionStatic:!0,highlightStroke:"rgba(0,0,0,0)",highlightFill:"rgba(255,255,255,0.7)",highlightLinewidth:1,title:"",titleX:null,titleY:null,titleHalign:"center",titleValign:null,titleSize:null,titleColor:null,titleFont:null,titleBold:null,titleItalic:null,titleSubtitle:null,titleSubtitleColor:"#aaa",titleSubtitleSize:null,titleSubtitleFont:null,titleSubtitleBold:null,titleSubtitleItalic:null,shadow:!1,shadowOffsetx:2,shadowOffsety:2,shadowBlur:2,shadowOpacity:.25,key:null,keyColors:null,keyOffsetx:0,keyOffsety:0,keyLabelsOffsetx:0,keyLabelsOffsety:-1,keyLabelsSize:null,keyLabelsBold:null,keyLabelsItalic:null,keyLabelsFont:null,keyLabelsColor:null},RGraph.SVG.getGlobals(this),RGraph.SVG.FX&&"function"==typeof RGraph.SVG.FX.decorate&&RGraph.SVG.FX.decorate(this),this.responsive=RGraph.SVG.responsive,RGraph.SVG.addCreateFunction(this);var G=this.properties;for(r in this.draw=function(){if(RGraph.SVG.fireCustomEvent(this,"onbeforedraw"),G.yaxisLabels&&G.yaxisLabels.length){"string"==typeof G.yaxisLabels&&(G.yaxisLabels=RGraph.SVG.arrayPad({array:[],length:this.left.length,value:G.yaxisLabels}));for(var t=0;t<G.yaxisLabels.length;++t)G.yaxisLabels[t]=RGraph.SVG.labelSubstitution({object:this,text:G.yaxisLabels[t],index:t,value:this.left[t],decimals:G.yaxisLabelsFormattedDecimals||0,unitsPre:G.yaxisLabelsFormattedUnitsPre||"",unitsPost:G.yaxisLabelsFormattedUnitsPost||"",thousand:G.yaxisLabelsFormattedThousand||",",point:G.yaxisLabelsFormattedPoint||"."})}this.width=Number(this.svg.getAttribute("width")),this.height=Number(this.svg.getAttribute("height")),RGraph.SVG.createDefs(this),G.marginCenter=this.getMarginCenter(),this.coords=[],this.coordsLeft=[],this.coordsRight=[],this.coords2=[],this.coords2Left=[],this.coords2Right=[],this.sequentialIndex=0,this.graphWidth=(this.width-G.marginLeft-G.marginRight-G.marginCenter)/2,this.graphHeight=this.height-G.marginTop-G.marginBottom,RGraph.SVG.resetColorsToOriginalValues({object:this}),this.parseColors();for(var e=[],t=0;t<2;++t)for(var i=0,a=0;i<this.data[t].length;++i)"number"==typeof this.data[t][i]?e.push(this.data[t][i]):RGraph.SVG.isArray(this.data[t][i])&&"grouped"===G.grouping?e.push(RGraph.SVG.arrayMax(this.data[t][i])):RGraph.SVG.isArray(this.data[t][i])&&"stacked"===G.grouping&&e.push(RGraph.SVG.arraySum(this.data[t][i]));a=RGraph.SVG.arrayMax(e);return"number"==typeof G.xaxisScaleMax&&(a=G.xaxisScaleMax),this.scale=RGraph.SVG.getScale({object:this,numlabels:G.xaxisLabelsCount,unitsPre:G.xaxisScaleUnitsPre,unitsPost:G.xaxisScaleUnitsPost,max:a,min:G.xaxisScaleMin,point:G.xaxisScalePoint,round:G.xaxisScaleRound,thousand:G.xaxisScaleThousand,decimals:G.xaxisScaleDecimals,strict:"number"==typeof G.xaxisScaleMax,formatter:G.xaxisScaleFormatter}),this.max=this.scale.max,this.min=this.scale.min,G.yaxisScaleMax=this.scale.max,G.yaxisScaleMin=this.scale.min,this.drawBackground(this),this.drawTitle(),this.drawBars(),this.drawAxes(),this.drawLabels(),this.drawLabelsAbove(),null!==typeof G.key&&RGraph.SVG.drawKey?RGraph.SVG.drawKey(this):RGraph.SVG.isNull(G.key)||alert("The drawKey() function does not exist - have you forgotten to include the key library?"),RGraph.SVG.addCustomText(this),this.firstDraw&&(this.firstDraw=!1,RGraph.SVG.fireCustomEvent(this,"onfirstdraw")),RGraph.SVG.fireCustomEvent(this,"ondraw"),this},this.drawBackground=function(){var t,e=this.properties,i=e.marginRight,a=e.marginLeft;e.marginRight=this.width-(e.marginLeft+this.graphWidth),RGraph.SVG.isNull(e.backgroundGridHlinesCount)&&(t=!0,e.backgroundGridHlinesCount=this.left.length);var s=["","Aspect","Opacity","Stretch","X","Y","W","H"];for(r in s)"string"==typeof s[r]&&(e["backgroundImage"+String(s[r])]=e["backgroundImageLeft"+s[r]]);for(r in RGraph.SVG.drawBackground(this),t&&(e.backgroundGridHlinesCount=null),e.marginRight=i,e.marginLeft=this.width-(e.marginRight+this.graphWidth),RGraph.SVG.isNull(e.backgroundGridHlinesCount)&&(e.backgroundGridHlinesCount=this.right.length),s=["","Aspect","Opacity","Stretch","X","Y","W","H"])"string"==typeof s[r]&&(e["backgroundImage"+s[r]]=e["backgroundImageRight"+s[r]]);RGraph.SVG.drawBackground(this),e.marginLeft=a,e.marginRight=i},this.drawAxes=function(){if(G.xaxis){RGraph.SVG.create({svg:this.svg,type:"path",parent:this.svg.all,attr:{d:"M {1} {2} L {3} {4}".format(G.marginLeft,this.height-G.marginBottom,G.marginLeft+this.graphWidth,this.height-G.marginBottom),"stroke-width":G.xaxisLinewidth,stroke:G.xaxisColor,fill:"rgba(0,0,0,0)","shape-rendering":"crispEdges"}});RGraph.SVG.create({svg:this.svg,type:"path",parent:this.svg.all,attr:{d:"M {1} {2} L {3} {4}".format(this.width-G.marginRight,this.height-G.marginBottom,this.width-G.marginRight-this.graphWidth,this.height-G.marginBottom),"stroke-width":G.xaxisLinewidth,stroke:G.xaxisColor,fill:"rgba(0,0,0,0)","shape-rendering":"crispEdges"}});if(G.xaxisTickmarks){for(var t=this.height-G.marginBottom,e=this.height-G.marginBottom+G.xaxisTickmarksLength,i=0;i<G.xaxisLabelsPositionEdgeTickmarksCount;++i){var a=G.marginLeft+i*(this.graphWidth/G.xaxisLabelsPositionEdgeTickmarksCount);RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"path",attr:{d:"M{1} {2} L{3} {4}".format(a+.001,t,a,e),stroke:G.xaxisColor,"stroke-width":G.xaxisLinewidth,"shape-rendering":"crispEdges"}})}G.yaxis||(a=G.marginLeft+this.graphWidth,RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"path",attr:{d:"M{1} {2} L{3} {4}".format(a+.001,t,a,e),stroke:G.xaxisColor,"stroke-width":G.xaxisLinewidth,"shape-rendering":"crispEdges"}}));for(i=0;i<G.xaxisLabelsPositionEdgeTickmarksCount;++i){var a=G.marginLeft+G.marginCenter+this.graphWidth+(i+1)*(this.graphWidth/G.xaxisLabelsPositionEdgeTickmarksCount);RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"path",attr:{d:"M{1} {2} L{3} {4}".format(a+.001,t,a,e),stroke:G.xaxisColor,"stroke-width":G.xaxisLinewidth,"shape-rendering":"crispEdges"}})}G.yaxis||(a=G.marginLeft+this.graphWidth+G.marginCenter,RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"path",attr:{d:"M{1} {2} L{3} {4}".format(a+.001,t,a,e),stroke:G.xaxisColor,"stroke-width":G.xaxisLinewidth,"shape-rendering":"crispEdges"}}))}}if(G.yaxis&&(RGraph.SVG.create({svg:this.svg,type:"path",parent:this.svg.all,attr:{d:"M {1} {2} L {3} {4}".format(G.marginLeft+this.graphWidth,this.height-G.marginBottom,G.marginLeft+this.graphWidth,G.marginTop),"stroke-width":G.yaxisLinewidth,stroke:G.yaxisColor,fill:"rgba(0,0,0,0)","shape-rendering":"crispEdges","stroke-linecap":"square"}}),RGraph.SVG.create({svg:this.svg,type:"path",parent:this.svg.all,attr:{d:"M {1} {2} L {3} {4}".format(G.marginLeft+this.graphWidth+G.marginCenter,this.height-G.marginBottom,G.marginLeft+this.graphWidth+G.marginCenter,G.marginTop),"stroke-width":G.yaxisLinewidth,stroke:G.yaxisColor,fill:"rgba(0,0,0,0)","shape-rendering":"crispEdges","stroke-linecap":"square"}}),G.yaxisTickmarks)){for(var s=G.marginLeft+this.graphWidth,r=G.marginLeft+this.graphWidth+G.yaxisTickmarksLength,o=this.left.length,i=0;i<o;++i){var l=G.marginTop+i*(this.graphHeight/o);RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"path",attr:{d:"M{1} {2} L{3} {4}".format(s+.001,l,r,l),stroke:G.yaxisColor,"stroke-width":G.yaxisLinewidth,"shape-rendering":"crispEdges"}})}G.xaxis||(l=G.marginTop+this.graphHeight,RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"path",attr:{d:"M{1} {2} L{3} {4}".format(s+.001,l,r,l),stroke:G.yaxisColor,"stroke-width":G.yaxisLinewidth,"shape-rendering":"crispEdges"}}));for(s=G.marginLeft+this.graphWidth+G.marginCenter,r=G.marginLeft+this.graphWidth+G.marginCenter-G.yaxisTickmarksLength,o=this.right.length,i=0;i<o;++i){var l=G.marginTop+i*(this.graphHeight/o);RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"path",attr:{d:"M{1} {2} L{3} {4}".format(s+.001,l,r,l),stroke:G.yaxisColor,"stroke-width":G.yaxisLinewidth,"shape-rendering":"crispEdges"}})}G.xaxis||(l=G.marginTop+this.graphHeight,RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"path",attr:{d:"M{1} {2} L{3} {4}".format(s+.001,l,r,l),stroke:G.yaxisColor,"stroke-width":G.yaxisLinewidth,"shape-rendering":"crispEdges"}}))}},this.drawLabels=function(){for(var t=G.yaxisLabels?G.yaxisLabels.length:5,e=RGraph.SVG.getTextConf({object:this,prefix:"yaxisLabels"}),i=0;i<t;++i){var a=this.graphHeight/t,s=G.marginTop+a*i+a/2+G.yaxisLabelsOffsety,r=G.marginLeft+this.graphWidth+G.marginCenter/2+G.yaxisLabelsOffsetx;RGraph.SVG.text({object:this,parent:this.svg.all,tag:"labels.yaxis",text:G.yaxisLabels&&G.yaxisLabels[i]?G.yaxisLabels[i]:"",x:r,y:s,halign:"center",valign:"center",font:e.font,size:e.size,bold:e.bold,italic:e.italic,color:e.color})}for(var s=this.height-G.marginBottom+10,o="function"==typeof G.xaxisScaleFormatter?G.xaxisScaleFormatter(this,G.xaxisScaleMin):G.xaxisScaleUnitsPre+G.xaxisScaleMin.toFixed(G.xaxisScaleDecimals).replace(/\./,G.xaxisScalePoint)+G.xaxisScaleUnitsPost,e=RGraph.SVG.getTextConf({object:this,prefix:"xaxisLabels"}),a=(RGraph.SVG.text({object:this,parent:this.svg.all,text:o,x:G.marginLeft+this.graphWidth+G.xaxisLabelsOffsetx,y:s+G.xaxisLabelsOffsety,halign:"center",valign:"top",tag:"labels.xaxis",font:e.font,size:e.size,bold:e.bold,italic:e.italic,color:e.color}),this.graphWidth/G.xaxisLabelsCount),i=0;i<this.scale.labels.length;++i)RGraph.SVG.text({object:this,parent:this.svg.all,text:this.scale.labels[i],x:G.marginLeft+this.graphWidth-a*(i+1)+G.xaxisLabelsOffsetx,y:this.height-G.marginBottom+10+G.xaxisLabelsOffsety,halign:"center",valign:"top",tag:"labels.xaxis",font:e.font,size:e.size,bold:e.bold,italic:e.italic,color:e.color});RGraph.SVG.text({object:this,parent:this.svg.all,tag:"labels.xaxis",text:"function"==typeof G.xaxisScaleFormatter?G.xaxisScaleFormatter(this,G.xaxisScaleMin):G.xaxisScaleUnitsPre+G.xaxisScaleMin.toFixed(G.xaxisScaleDecimals).replace(/\./,G.xaxisScalePoint)+G.xaxisScaleUnitsPost,x:G.marginLeft+this.graphWidth+G.marginCenter+G.xaxisLabelsOffsetx,y:this.height-G.marginBottom+10+G.xaxisLabelsOffsety,halign:"center",valign:"top",font:e.font,size:e.size,bold:e.bold,italic:e.italic,color:e.color});for(i=0;i<this.scale.labels.length;++i)RGraph.SVG.text({object:this,parent:this.svg.all,tag:"labels.xaxis",text:this.scale.labels[i],x:G.marginLeft+this.graphWidth+G.marginCenter+a*(i+1)+G.xaxisLabelsOffsetx,y:this.height-G.marginBottom+10+G.xaxisLabelsOffsety,halign:"center",valign:"top",font:e.font,size:e.size,bold:e.bold,italic:e.italic,color:e.color})},this.drawBars=function(){G.shadow&&RGraph.SVG.setShadow({object:this,offsetx:G.shadowOffsetx,offsety:G.shadowOffsety,blur:G.shadowBlur,opacity:G.shadowOpacity,id:"dropShadow"});for(var t=0;t<this.left.length;++t)if("number"==typeof this.left[t]){G.colors[this.sequentialIndex];var e=RGraph.SVG.isNull(G.tooltips)?null:G.tooltips[this.sequentialIndex],i=G.marginTop+this.graphHeight/this.left.length*t+G.marginInner,a=this.getWidth(this.left[t]),s=G.marginLeft+this.graphWidth-a,r=this.graphHeight/this.left.length-G.marginInner-G.marginInner;RGraph.SVG.isNull(G.colorsLeft)||(G.colorsInitial=G.colors,G.colors=G.colorsLeft);var o=RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"rect",attr:{x:s,y:i,width:a,height:r,fill:G.colorsSequential?G.colors[this.sequentialIndex]:G.colors[0],stroke:G.colorsStroke,"stroke-width":G.linewidth,"shape-rendering":"crispEdges","data-original-x":s,"data-original-y":i,"data-original-width":a,"data-original-height":r,"data-tooltop":e||"","data-index":t,"data-sequential-index":this.sequentialIndex,"data-value":this.left[t],filter:G.shadow?"url(#dropShadow)":""}});this.coords.push({object:this,element:o,x:parseFloat(o.getAttribute("x")),y:parseFloat(o.getAttribute("y")),width:parseFloat(o.getAttribute("width")),height:parseFloat(o.getAttribute("height"))}),this.coordsLeft.push({object:this,element:o,x:parseFloat(o.getAttribute("x")),y:parseFloat(o.getAttribute("y")),width:parseFloat(o.getAttribute("width")),height:parseFloat(o.getAttribute("height"))}),this.installTooltipsEventListeners({rect:o,index:t,sequentialIndex:this.sequentialIndex}),this.sequentialIndex++,RGraph.SVG.isNull(G.colorsLeft)||(G.colors=G.colorsInitial)}else if(RGraph.SVG.isArray(this.left[t])&&"stacked"===G.grouping)for(var l=0,h=0;h<this.left[t].length;++h){G.colors[this.sequentialIndex];e=RGraph.SVG.isNull(G.tooltips)?null:G.tooltips[this.sequentialIndex],i=G.marginTop+this.graphHeight/this.left.length*t+G.marginInner,l=l+(a=this.getWidth(this.left[t][h])),s=G.marginLeft+this.graphWidth-l,r=this.graphHeight/this.left.length-G.marginInner-G.marginInner;RGraph.SVG.isNull(G.colorsLeft)||(G.colorsInitial=G.colors,G.colors=G.colorsLeft),0===h&&G.shadow&&(n=G.marginLeft+this.graphWidth-this.getWidth(RGraph.SVG.arraySum(this.left[t])),g=this.getWidth(RGraph.SVG.arraySum(this.left[t])),o=RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"rect",attr:{fill:"#eee",x:n,y:i,width:g,height:r,"stroke-width":0,"data-index":t,filter:"url(#dropShadow)"}}),this.stackedBackfacesLeft[t]=o);o=RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"rect",attr:{x:s,y:i,width:a,height:r,fill:G.colorsSequential?G.colors[this.sequentialIndex]:G.colors[h],stroke:G.colorsStroke,"stroke-width":G.linewidth,"shape-rendering":"crispEdges","data-original-x":s,"data-original-y":i,"data-original-width":a,"data-original-height":r,"data-tooltop":e||"","data-index":t,"data-subindex":h,"data-sequential-index":this.sequentialIndex,"data-value":this.left[t][h]}});this.coords.push({object:this,element:o,x:parseFloat(o.getAttribute("x")),y:parseFloat(o.getAttribute("y")),width:parseFloat(o.getAttribute("width")),height:parseFloat(o.getAttribute("height"))}),this.coordsLeft.push({object:this,element:o,x:parseFloat(o.getAttribute("x")),y:parseFloat(o.getAttribute("y")),width:parseFloat(o.getAttribute("width")),height:parseFloat(o.getAttribute("height"))}),this.coords2[t]||(this.coords2[t]=[]),this.coords2Left[t]||(this.coords2Left[t]=[]),this.coords2[t].push({object:this,element:o,x:parseFloat(o.getAttribute("x")),y:parseFloat(o.getAttribute("y")),width:parseFloat(o.getAttribute("width")),height:parseFloat(o.getAttribute("height"))}),this.coords2Left[t].push({object:this,element:o,x:parseFloat(o.getAttribute("x")),y:parseFloat(o.getAttribute("y")),width:parseFloat(o.getAttribute("width")),height:parseFloat(o.getAttribute("height"))}),this.installTooltipsEventListeners({rect:o,index:t,sequentialIndex:this.sequentialIndex}),RGraph.SVG.isNull(G.colorsLeft)||(G.colors=G.colorsInitial),this.sequentialIndex++}else if(RGraph.SVG.isArray(this.left[t])&&"grouped"===G.grouping)for(h=0;h<this.left[t].length;++h){G.colors[this.sequentialIndex];e=RGraph.SVG.isNull(G.tooltips)?null:G.tooltips[this.sequentialIndex],r=(this.graphHeight/this.left.length-G.marginInner-G.marginInner-G.marginInnerGrouped*(this.left[t].length-1))/this.left[t].length,i=G.marginTop+this.graphHeight/this.left.length*t+G.marginInner+r*h+h*G.marginInnerGrouped,a=this.getWidth(this.left[t][h]),s=G.marginLeft+this.graphWidth-a;RGraph.SVG.isNull(G.colorsLeft)||(G.colorsInitial=G.colors,G.colors=G.colorsLeft);o=RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"rect",attr:{x:s,y:i,width:a,height:r,fill:G.colorsSequential?G.colors[this.sequentialIndex]:G.colors[h],stroke:G.colorsStroke,"stroke-width":G.linewidth,"shape-rendering":"crispEdges","data-original-x":s,"data-original-y":i,"data-original-width":a,"data-original-height":r,"data-tooltop":e||"","data-index":t,"data-subindex":h,"data-sequential-index":this.sequentialIndex,"data-value":this.left[t][h],filter:G.shadow?"url(#dropShadow)":""}});this.coords.push({object:this,element:o,x:parseFloat(o.getAttribute("x")),y:parseFloat(o.getAttribute("y")),width:parseFloat(o.getAttribute("width")),height:parseFloat(o.getAttribute("height"))}),this.coordsLeft.push({object:this,element:o,x:parseFloat(o.getAttribute("x")),y:parseFloat(o.getAttribute("y")),width:parseFloat(o.getAttribute("width")),height:parseFloat(o.getAttribute("height"))}),this.coords2[t]||(this.coords2[t]=[]),this.coords2Left[t]||(this.coords2Left[t]=[]),this.coords2[t].push({object:this,element:o,x:parseFloat(o.getAttribute("x")),y:parseFloat(o.getAttribute("y")),width:parseFloat(o.getAttribute("width")),height:parseFloat(o.getAttribute("height"))}),this.coords2Left[t].push({object:this,element:o,x:parseFloat(o.getAttribute("x")),y:parseFloat(o.getAttribute("y")),width:parseFloat(o.getAttribute("width")),height:parseFloat(o.getAttribute("height"))}),this.installTooltipsEventListeners({rect:o,index:t,sequentialIndex:this.sequentialIndex}),RGraph.SVG.isNull(G.colorsLeft)||(G.colors=G.colorsInitial),this.sequentialIndex++}for(t=0;t<this.right.length;++t)if("number"==typeof this.right[t]){G.colors[this.sequentialIndex];e=RGraph.SVG.isNull(G.tooltips)?null:G.tooltips[this.sequentialIndex],i=G.marginTop+this.graphHeight/this.right.length*t+G.marginInner,a=this.getWidth(this.right[t]),s=G.marginLeft+this.graphWidth+G.marginCenter,r=this.graphHeight/this.right.length-G.marginInner-G.marginInner;RGraph.SVG.isNull(G.colorsRight)||(G.colorsInitial=G.colors,G.colors=G.colorsRight);o=RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"rect",attr:{x:s,y:i,width:a,height:r,fill:G.colorsSequential?G.colors[this.sequentialIndex]:G.colors[0],stroke:G.colorsStroke,"stroke-width":G.linewidth,"shape-rendering":"crispEdges","data-original-x":s,"data-original-y":i,"data-original-width":a,"data-original-height":r,"data-tooltop":e||"","data-index":t,"data-sequential-index":this.sequentialIndex,"data-value":this.right[t],filter:G.shadow?"url(#dropShadow)":""}});this.coords.push({object:this,element:o,x:parseFloat(o.getAttribute("x")),y:parseFloat(o.getAttribute("y")),width:parseFloat(o.getAttribute("width")),height:parseFloat(o.getAttribute("height"))}),this.coordsRight.push({object:this,element:o,x:parseFloat(o.getAttribute("x")),y:parseFloat(o.getAttribute("y")),width:parseFloat(o.getAttribute("width")),height:parseFloat(o.getAttribute("height"))}),this.installTooltipsEventListeners({rect:o,index:t,sequentialIndex:this.sequentialIndex}),RGraph.SVG.isNull(G.colorsRight)||(G.colors=G.colorsInitial),this.sequentialIndex++}else if(RGraph.SVG.isArray(this.right[t])&&"stacked"===G.grouping)for(l=0,h=0;h<this.right[t].length;++h){G.colors[this.sequentialIndex];var n,g,e=RGraph.SVG.isNull(G.tooltips)?null:G.tooltips[this.sequentialIndex],i=G.marginTop+this.graphHeight/this.right.length*t+G.marginInner,a=this.getWidth(this.right[t][h]),s=G.marginLeft+this.graphWidth+G.marginCenter+l,l=l+a,r=this.graphHeight/this.left.length-G.marginInner-G.marginInner;RGraph.SVG.isNull(G.colorsRight)||(G.colorsInitial=G.colors,G.colors=G.colorsRight),0===h&&G.shadow&&(n=G.marginLeft+this.graphWidth+G.marginCenter,g=this.getWidth(RGraph.SVG.arraySum(this.right[t])),o=RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"rect",attr:{fill:"#eee",x:n,y:i,width:g,height:r,"stroke-width":0,"data-index":t,filter:"url(#dropShadow)"}}),this.stackedBackfacesRight[t]=o);o=RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"rect",attr:{x:s,y:i,width:a,height:r,fill:G.colorsSequential?G.colors[this.sequentialIndex]:G.colors[h],stroke:G.colorsStroke,"stroke-width":G.linewidth,"shape-rendering":"crispEdges","data-original-x":s,"data-original-y":i,"data-original-width":a,"data-original-height":r,"data-tooltop":e||"","data-index":t,"data-subindex":h,"data-sequential-index":this.sequentialIndex,"data-value":this.right[t][h]}});this.coords.push({object:this,element:o,x:parseFloat(o.getAttribute("x")),y:parseFloat(o.getAttribute("y")),width:parseFloat(o.getAttribute("width")),height:parseFloat(o.getAttribute("height"))}),this.coordsRight.push({object:this,element:o,x:parseFloat(o.getAttribute("x")),y:parseFloat(o.getAttribute("y")),width:parseFloat(o.getAttribute("width")),height:parseFloat(o.getAttribute("height"))}),this.coords2[t+this.left.length]||(this.coords2[t+this.left.length]=[]),this.coords2Right[t]||(this.coords2Right[t]=[]),this.coords2[t+this.left.length].push({object:this,element:o,x:parseFloat(o.getAttribute("x")),y:parseFloat(o.getAttribute("y")),width:parseFloat(o.getAttribute("width")),height:parseFloat(o.getAttribute("height"))}),this.coords2Right[t].push({object:this,element:o,x:parseFloat(o.getAttribute("x")),y:parseFloat(o.getAttribute("y")),width:parseFloat(o.getAttribute("width")),height:parseFloat(o.getAttribute("height"))}),this.installTooltipsEventListeners({rect:o,index:t,sequentialIndex:this.sequentialIndex}),RGraph.SVG.isNull(G.colorsRight)||(G.colors=G.colorsInitial),this.sequentialIndex++}else if(RGraph.SVG.isArray(this.right[t])&&"grouped"===G.grouping)for(h=0;h<this.right[t].length;++h){G.colors[this.sequentialIndex];e=RGraph.SVG.isNull(G.tooltips)?null:G.tooltips[this.sequentialIndex],r=(this.graphHeight/this.right.length-G.marginInner-G.marginInner-G.marginInnerGrouped*(this.right[t].length-1))/this.right[t].length,i=G.marginTop+this.graphHeight/this.right.length*t+G.marginInner+r*h+h*G.marginInnerGrouped,a=this.getWidth(this.right[t][h]),s=G.marginLeft+this.graphWidth+G.marginCenter;RGraph.SVG.isNull(G.colorsRight)||(G.colorsInitial=G.colors,G.colors=G.colorsRight);o=RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"rect",attr:{x:s,y:i,width:a,height:r,fill:G.colorsSequential?G.colors[this.sequentialIndex]:G.colors[h],stroke:G.colorsStroke,"stroke-width":G.linewidth,"shape-rendering":"crispEdges","data-original-x":s,"data-original-y":i,"data-original-width":a,"data-original-height":r,"data-tooltop":e||"","data-index":t,"data-subindex":h,"data-sequential-index":this.sequentialIndex,"data-value":this.right[t][h],filter:G.shadow?"url(#dropShadow)":""}});this.coords.push({object:this,element:o,x:parseFloat(o.getAttribute("x")),y:parseFloat(o.getAttribute("y")),width:parseFloat(o.getAttribute("width")),height:parseFloat(o.getAttribute("height"))}),this.coordsRight.push({object:this,element:o,x:parseFloat(o.getAttribute("x")),y:parseFloat(o.getAttribute("y")),width:parseFloat(o.getAttribute("width")),height:parseFloat(o.getAttribute("height"))}),this.coords2[t+this.left.length]||(this.coords2[t+this.left.length]=[]),this.coords2Right[t]||(this.coords2Right[t]=[]),this.coords2[t+this.left.length].push({object:this,element:o,x:parseFloat(o.getAttribute("x")),y:parseFloat(o.getAttribute("y")),width:parseFloat(o.getAttribute("width")),height:parseFloat(o.getAttribute("height"))}),this.coords2Right[t].push({object:this,element:o,x:parseFloat(o.getAttribute("x")),y:parseFloat(o.getAttribute("y")),width:parseFloat(o.getAttribute("width")),height:parseFloat(o.getAttribute("height"))}),this.installTooltipsEventListeners({rect:o,index:t,sequentialIndex:this.sequentialIndex}),RGraph.SVG.isNull(G.colorsRight)||(G.colors=G.colorsInitial),this.sequentialIndex++}},this.installTooltipsEventListeners=function(t){var e,i,a=this;RGraph.SVG.isNull(G.tooltips)||!G.tooltips[this.sequentialIndex]&&"string"!=typeof G.tooltips||(e=t.index,i=t.sequentialIndex,t.rect.addEventListener(G.tooltipsEvent.replace(/^on/,""),function(t){a.removeHighlight(),RGraph.SVG.tooltip({object:a,index:e,group:null,sequentialIndex:i,text:"string"==typeof G.tooltips?G.tooltips:G.tooltips[i],event:t}),a.highlight(t.target)},!1),t.rect.addEventListener("mousemove",function(t){t.target.style.cursor="pointer"},!1))},this.getWidth=function(t){var e=this.getLeftXCoord(0),t=this.getLeftXCoord(t);return RGraph.SVG.isNull(e)||RGraph.SVG.isNull(t)?null:e-t},this.getLeftXCoord=function(t){return t>this.scale.max||t<this.scale.min?null:(t=(t-this.scale.min)/(this.scale.max-this.scale.min),t*=this.graphWidth,G.marginLeft+this.graphWidth-t)},this.getRightXCoord=function(t){return t>this.scale.max||t<this.scale.min?null:(t=(t-this.scale.min)/(this.scale.max-this.scale.min),t*=this.graphWidth,G.marginLeft+this.graphWidth+G.marginCenter+t)},this.highlight=function(t){var e=parseFloat(t.getAttribute("x"))-.5,i=parseFloat(t.getAttribute("y"))-.5,a=parseFloat(t.getAttribute("width"))+1,t=parseFloat(t.getAttribute("height"))+1,t=RGraph.SVG.create({svg:this.svg,parent:this.svg.all,type:"rect",attr:{"stroke-width":G.highlightLinewidth,stroke:G.highlightStroke,fill:G.highlightFill,x:e,y:i,width:a,height:t},style:{pointerEvents:"none"}});RGraph.SVG.REG.set("highlight",t)},this.parseColors=function(){Object.keys(this.originalColors).length||(this.originalColors={colors:RGraph.SVG.arrayClone(G.colors),backgroundGridColor:RGraph.SVG.arrayClone(G.backgroundGridColor),highlightFill:RGraph.SVG.arrayClone(G.highlightFill),backgroundColor:RGraph.SVG.arrayClone(G.backgroundColor)});var t=G.colors;if(t)for(var e=0;e<t.length;++e)t[e]=RGraph.SVG.parseColorLinear({object:this,color:t[e],direction:"horizontal"});G.backgroundGridColor=RGraph.SVG.parseColorLinear({object:this,color:G.backgroundGridColor,direction:"horizontal"}),G.highlightFill=RGraph.SVG.parseColorLinear({object:this,color:G.highlightFill,direction:"horizontal"}),G.backgroundColor=RGraph.SVG.parseColorLinear({object:this,color:G.backgroundColor,direction:"horizontal"})},this.drawLabelsAbove=function(){if(G.labelsAbove)for(var t=RGraph.SVG.getTextConf({object:this,prefix:"labelsAbove"}),e=0,i=0;e<this.data.length;++e,++i){for(var a=0;a<this.data[e].length;++a,++i){var s=this.data[e][a],r=0===e?"right":"left",o="center",l=0===e?-10:10;if("number"==typeof s){if(this.coords[i]){var h=parseInt(this.coords[i].element.getAttribute("x"))+l+G.labelsAboveOffsetx,n=parseInt(this.coords[i].element.getAttribute("height")),g=parseInt(this.coords[i].element.getAttribute("y"))+n/2+G.labelsAboveOffsety,d=parseInt(this.coords[i].element.getAttribute("width"));1===e&&(h+=d);var p=RGraph.SVG.numberFormat({object:this,num:s.toFixed(G.labelsAboveDecimals),prepend:"string"==typeof G.labelsAboveUnitsPre?G.labelsAboveUnitsPre:null,append:"string"==typeof G.labelsAboveUnitsPost?G.labelsAboveUnitsPost:null,point:"string"==typeof G.labelsAbovePoint?G.labelsAbovePoint:null,thousand:"string"==typeof G.labelsAboveThousand?G.labelsAboveThousand:null,formatter:"function"==typeof G.labelsAboveFormatter?G.labelsAboveFormatter:null});if(G.labelsAboveSpecific&&G.labelsAboveSpecific.length&&("string"==typeof G.labelsAboveSpecific[i]||"number"==typeof G.labelsAboveSpecific[i]))p=String(G.labelsAboveSpecific[i]);else if(G.labelsAboveSpecific&&G.labelsAboveSpecific.length&&"string"!=typeof G.labelsAboveSpecific[i]&&"number"!=typeof G.labelsAboveSpecific[i])continue;RGraph.SVG.text({object:this,parent:this.svg.all,tag:"labels.above",text:p,x:h,y:g,halign:r,valign:o,font:t.font,size:t.size,bold:t.bold,italic:t.italic,color:t.color,background:G.labelsAboveBackground,padding:G.labelsAboveBackgroundPadding})}}else if(RGraph.SVG.isNull(s)||"object"!=typeof s||"stacked"!==G.grouping)if(RGraph.SVG.isNull(s)||"object"!=typeof s||"grouped"!==G.grouping)RGraph.SVG.isNull(s)&&--i;else{for(c=0;c<s.length;++c){val=s[c],"number"!=typeof val&&(val="");h=parseInt(this.coords[i].element.getAttribute("x"))+l+G.labelsAboveOffsetx,n=parseInt(this.coords[i].element.getAttribute("height")),g=parseInt(this.coords[i].element.getAttribute("y"))+n/2+G.labelsAboveOffsety,d=parseInt(this.coords[i].element.getAttribute("width"));1===e&&(h+=d);p=RGraph.SVG.numberFormat({object:this,num:parseFloat(val).toFixed(G.labelsAboveDecimals),prepend:"string"==typeof G.labelsAboveUnitsPre?G.labelsAboveUnitsPre:null,append:"string"==typeof G.labelsAboveUnitsPost?G.labelsAboveUnitsPost:null,point:"string"==typeof G.labelsAbovePoint?G.labelsAbovePoint:null,thousand:"string"==typeof G.labelsAboveThousand?G.labelsAboveThousand:null,formatter:"function"==typeof G.labelsAboveFormatter?G.labelsAboveFormatter:null});if(0!==val&&!RGraph.SVG.isNull(val)&&""!==val||(p=""),G.labelsAboveSpecific&&G.labelsAboveSpecific.length&&("string"==typeof G.labelsAboveSpecific[i]||"number"==typeof G.labelsAboveSpecific[i]))p=String(G.labelsAboveSpecific[i]);else if(G.labelsAboveSpecific&&G.labelsAboveSpecific.length&&"string"!=typeof G.labelsAboveSpecific[i]&&"number"!=typeof G.labelsAboveSpecific[i])continue;RGraph.SVG.text({object:this,parent:this.svg.all,tag:"labels.above",text:p,x:h,y:g,halign:r,valign:o,font:t.font,size:t.size,bold:t.bold,italic:t.italic,color:t.color,background:G.labelsAboveBackground,padding:G.labelsAboveBackgroundPadding}),i++}i--}else{for(var c=0,u=0,d=0;c<this.coords2[i].length;++c)u+=parseFloat(this.coords2[i][c].element.getAttribute("data-value"));var b=this.coords2[i].length;if(0===e)var h=parseFloat(this.coords2[i][b-1].x)+l,n=parseFloat(this.coords2[i][b-1].height),g=parseFloat(this.coords2[i][0].y)+n/2;else for(var h=parseFloat(this.coords2[this.data[0].length+a][0].x)+l+G.labelsAboveOffsetx,n=parseFloat(this.coords2[i][b-1].height),g=parseFloat(this.coords2[i][0].y)+n/2+G.labelsAboveOffsety,f=0;f<this.coords2Right[a].length;++f)h+=this.coords2Right[a][f].width;var p=RGraph.SVG.numberFormat({object:this,num:u.toFixed(G.labelsAboveDecimals),prepend:"string"==typeof G.labelsAboveUnitsPre?G.labelsAboveUnitsPre:null,append:"string"==typeof G.labelsAboveUnitsPost?G.labelsAboveUnitsPost:null,point:"string"==typeof G.labelsAbovePoint?G.labelsAbovePoint:null,thousand:"string"==typeof G.labelsAboveThousand?G.labelsAboveThousand:null,formatter:"function"==typeof G.labelsAboveFormatter?G.labelsAboveFormatter:null});if(G.labelsAboveSpecific&&G.labelsAboveSpecific.length&&("string"==typeof G.labelsAboveSpecific[i]||"number"==typeof G.labelsAboveSpecific[i]))p=String(G.labelsAboveSpecific[i]);else if(G.labelsAboveSpecific&&G.labelsAboveSpecific.length&&"string"!=typeof G.labelsAboveSpecific[i]&&"number"!=typeof G.labelsAboveSpecific[i])continue;RGraph.SVG.text({object:this,parent:this.svg.all,tag:"labels.above",text:p,x:h,y:g,halign:r,valign:o,font:t.font,size:t.size,bold:t.bold,italic:t.italic,color:t.color,background:G.labelsAboveBackground,padding:G.labelsAboveBackgroundPadding})}}--i}},this.on=function(t,e){return"on"!==t.substr(0,2)&&(t="on"+t),RGraph.SVG.addCustomEventListener(this,t,e),this},this.exec=function(t){return t(this),this},this.removeHighlight=function(){var t=RGraph.SVG.REG.get("highlight");t&&t.parentNode&&t.parentNode.removeChild(t),RGraph.SVG.REG.set("highlight",null)},this.getMarginCenter=this.getGutterCenter=function(){var t="boolean"==typeof G.yaxisLabelsBold?G.yaxisLabelsBold:G.textBold,e="string"==typeof G.yaxisLabelsFont?G.yaxisLabelsFont:G.textFont,i="number"==typeof G.yaxisLabelsSize?G.yaxisLabelsSize:G.textSize,a=0;if(G.yaxisLabels)for(var s=0,r=G.yaxisLabels.length;s<r;++s)a=Math.max(a,RGraph.SVG.measureText({text:G.yaxisLabels[s],bold:t,font:e,size:i})[0]);else a=50;return a+15},this.drawTitle=function(){RGraph.SVG.drawTitle(this)},this.grow=function(){var h=arguments[0]||{},n=h.frames||30,g=0,d=this,p=RGraph.SVG.arrayClone(this.left),c=RGraph.SVG.arrayClone(this.right);this.draw();var u=function(){for(var t=0,e=0,i=d.coordsLeft.length;t<i;++t,++e){var a=g/n;if("number"==typeof p[t]){var s=Math.abs(d.getLeftXCoord(p[t])-d.getLeftXCoord(0));p[t]=d.left[t]*a,d.coords[e].element.setAttribute("width",s),d.coords[e].element.setAttribute("x",d.getLeftXCoord(0)-s)}else if("object"==typeof p[t]&&"stacked"===G.grouping){for(var r=0,o=0,l=p[t].length;o<l;++o,++e){s=Math.abs(d.getLeftXCoord(p[t][o])-d.getLeftXCoord(0));p[t][o]=d.left[t][o]*a,d.coords[e].element.setAttribute("width",s),d.coords[e].element.setAttribute("x",d.getLeftXCoord(0)-s-r),r+="stacked"===G.grouping?s:0}d.stackedBackfacesLeft[t]&&(d.stackedBackfacesLeft[t].setAttribute("width",r),d.stackedBackfacesLeft[t].setAttribute("x",d.getLeftXCoord(0)-r)),--e}else if("object"==typeof p[t]&&"grouped"===G.grouping){for(o=0,l=p[t].length;o<l;++o,++e){s=d.getLeftXCoord(0)-d.getLeftXCoord(p[t][o]);p[t][o]=d.left[t][o]*a,d.coords[e].element.setAttribute("width",s),d.coords[e].element.setAttribute("x",d.getLeftXCoord(0)-s)}--e}}for(t=0,e=0,i=d.coordsRight.length;t<i;++t,++e){a=g/n;if("number"==typeof c[t])s=Math.abs(d.getRightXCoord(c[t])-d.getRightXCoord(0)),c[t]=d.right[t]*a,d.coordsRight[t].element.setAttribute("width",s),d.coordsRight[e].element.setAttribute("x",d.getRightXCoord(0));else if("object"==typeof c[t]&&"stacked"===G.grouping){for(r=0,o=0,l=c[t].length;o<l;++o,++e)s=Math.abs(d.getRightXCoord(c[t][o])-d.getRightXCoord(0)),c[t][o]=d.right[t][o]*a,d.coordsRight[e].element.setAttribute("width",s),d.coordsRight[e].element.setAttribute("x",d.getRightXCoord(0)+r),r+=s;d.stackedBackfacesRight[t]&&(d.stackedBackfacesRight[t].setAttribute("width",r),d.stackedBackfacesRight[t].setAttribute("x",d.getRightXCoord(0))),--e}else if("object"==typeof c[t]&&"grouped"===G.grouping){for(o=0,l=c[t].length;o<l;++o,++e)s=Math.abs(d.getRightXCoord(c[t][o])-d.getRightXCoord(0)),c[t][o]=d.right[t][o]*a,d.coordsRight[e].element.setAttribute("width",s),d.coordsRight[e].element.setAttribute("x",d.getRightXCoord(0));--e}}g++<=n?RGraph.SVG.FX.update(u):h.callback&&h.callback(d)};return u(),this},this.wave=function(){for(var h=this,n=(arguments[0]||{}).frames||120,g=[],d=[],p=[],c=[],u=n/3,b=-1,f=-1,x=RGraph.SVG.arrayClone(this.left),m=RGraph.SVG.arrayClone(this.right),t=0,e=this.left.length,i=0;t<e;t+=1,++i)if(g[i]=n/3/(RGraph.SVG.arrayLinearize(this.left).length-1)*t,p[i]=0,RGraph.SVG.isArray(this.left[t])){for(var a=0;a<this.left[t].length;++a,i++)g[i]=n/3/(RGraph.SVG.arrayLinearize(this.left).length-1)*i,p[i]=0;--i}for(t=0,e=this.right.length,i=0;t<e;t+=1,++i)if(d[i]=n/3/(RGraph.SVG.arrayLinearize(this.right).length-1)*t,c[i]=0,RGraph.SVG.isArray(this.right[t])){for(a=0;a<this.right[t].length;++a,i++)d[i]=n/3/(RGraph.SVG.arrayLinearize(this.right).length-1)*i,c[i]=0;--i}this.draw();for(t=0,e=this.left.length;t<e;t+=1)if("number"==typeof this.left[t])this.left[t]=0;else if("object"==typeof this.left[t]&&!RGraph.SVG.isNull(this.left[t]))for(a=0;a<this.left[t].length;++a)this.left[t][a]=0;for(t=0;t<this.coordsLeft.length;t+=1)this.coordsLeft[t].element.setAttribute("width",0);for(t=0;t<this.right.length;t+=1)if(RGraph.SVG.isNumber(this.right[t]))this.right[t]=0;else if(RGraph.SVG.isArray(this.right[t]))for(a=0;a<this.right[t].length;++a)this.right[t][a]=0;for(t=0;t<this.coordsRight.length;t+=1)this.coordsRight[t].element.setAttribute("width",0);return function t(){++b;for(var e=0,i=h.left.length,a=0;e<i;e+=1,a+=1)if(b>=g[a]){var s=RGraph.SVG.isNull(h.left[e]);if("number"==typeof h.left[e])h.left[e]=Math.min(Math.abs(x[e]),Math.abs(x[e]*(p[e]++/u))),(r=h.coords[a].element).setAttribute("width",parseFloat(r.getAttribute("data-original-width"))*(h.left[e]/r.getAttribute("data-value"))),r.setAttribute("x",h.properties.marginLeft+h.graphWidth-parseFloat(r.getAttribute("data-original-width"))*(h.left[e]/r.getAttribute("data-value")));else if(RGraph.SVG.isArray(h.left[e])){for(var r,o=0,l=0;o<h.left[e].length;++o,++a)h.left[e][o]=Math.min(Math.abs(x[e][o]),Math.abs(x[e][o]*(p[a]++/u))),(r=h.coords[a].element).setAttribute("width",parseFloat(r.getAttribute("data-original-width"))*(h.left[e][o]/r.getAttribute("data-value"))),r.setAttribute("x",h.properties.marginLeft+h.graphWidth-parseFloat(r.getAttribute("data-original-width"))*(h.left[e][o]/r.getAttribute("data-value"))-l),"stacked"===h.properties.grouping&&(l+=parseFloat(r.getAttribute("width")));a--}s&&(h.left[e]=null)}else h.left[e]="object"==typeof h.left[e]&&h.left[e]?RGraph.SVG.arrayPad({array:[],length:h.left[e].length,value:0}):RGraph.SVG.isNull(h.left[e])?null:0;b<=n&&RGraph.SVG.FX.update(t)}(),function t(){++f;for(var e=0,i=h.right.length,a=0;e<i;e+=1,a+=1)if(f>=d[a]){var s=RGraph.SVG.isNull(h.right[e]);if("number"==typeof h.right[e])h.right[e]=Math.min(Math.abs(m[e]),Math.abs(m[e]*(c[e]++/u))),(r=h.coordsRight[a].element).setAttribute("width",parseFloat(r.getAttribute("data-original-width"))*(h.right[e]/r.getAttribute("data-value"))),r.setAttribute("x",G.marginLeft+h.graphWidth+G.marginCenter);else if(RGraph.SVG.isArray(h.right[e])){for(var r,o=0,l=0;o<h.right[e].length;++o,++a)h.right[e][o]=Math.min(Math.abs(m[e][o]),Math.abs(m[e][o]*(c[a]++/u))),(r=h.coordsRight[a].element).setAttribute("width",parseFloat(r.getAttribute("data-original-width"))*(h.right[e][o]/r.getAttribute("data-value"))),r.setAttribute("x",h.properties.marginLeft+h.graphWidth+G.marginCenter+l),"stacked"===h.properties.grouping&&(l+=parseFloat(r.getAttribute("width")));a--}s&&(h.right[e]=null)}else h.right[e]="object"==typeof h.right[e]&&h.right[e]?RGraph.SVG.arrayPad({array:[],length:h.right[e].length,value:0}):RGraph.SVG.isNull(h.right[e])?null:0;f<=n&&RGraph.SVG.FX.update(t)}(),this},this.tooltipSubstitutions=function(t){RGraph.SVG.sequentialIndexToGrouped(t.index,this.data);var e=RGraph.SVG.sequentialIndexToGrouped(t.index,this.data_arr);return{index:e[1],dataset:e[0],dataset2:e[0]>=this.left.length?e[0]-this.left.length:e[0],sequentialIndex:t.index,value:"number"==typeof this.data_arr[e[0]]?this.data_arr[e[0]]:this.data_arr[e[0]][e[1]],values:"number"==typeof this.data_arr[e[0]]?[this.data_arr[e[0]]]:this.data_arr[e[0]]}},this.tooltipsFormattedCustom=function(t,e){var i=t.dataset+1>this.left.length?"right":"left",a=(!RGraph.SVG.isNull(G.tooltipsFormattedKeyColors)&&"object"==typeof G.tooltipsFormattedKeyColors&&G.tooltipsFormattedKeyColors[e]?G.tooltipsFormattedKeyColors:G.colors)[e];return{label:"object"==typeof this[i][t.dataset2]?!RGraph.SVG.isNull(G.tooltipsFormattedKeyLabels)&&"object"==typeof G.tooltipsFormattedKeyLabels&&G.tooltipsFormattedKeyLabels[e]?G.tooltipsFormattedKeyLabels[e]:"":!RGraph.SVG.isNull(G.tooltipsFormattedKeyLabels)&&"object"==typeof G.tooltipsFormattedKeyLabels&&G.tooltipsFormattedKeyLabels[t.dataset2]?G.tooltipsFormattedKeyLabels[t.dataset2]:"",color:a}},this.positionTooltipStatic=function(t){var e=t.object,i=(t.event,t.tooltip),a=(t.index,RGraph.SVG.getSVGXY(e.svg)),e=this.coords[t.index];t.tooltip.style.left=a[0]+e.x-i.offsetWidth/2+e.width/2+"px",t.tooltip.style.top=a[1]+e.y-i.offsetHeight-10+"px"},t.options)"string"==typeof r&&this.set(r,t.options[r])};