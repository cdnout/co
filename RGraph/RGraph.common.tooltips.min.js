RGraph=window.RGraph||{isrgraph:!0,isRGraph:!0,rgraph:!0},function(win,doc,undefined){var ua=navigator.userAgent;RGraph.tooltips={},RGraph.tooltips.css=RGraph.tooltips.style={display:"inline-block",position:"absolute",padding:"6px",fontFamily:"Arial",fontSize:"10pt",fontWeight:"normal",textAlign:"center",left:0,top:0,backgroundColor:"black",color:"white",visibility:"visible",zIndex:3,borderRadius:"5px",boxShadow:"rgba(96,96,96,0.5) 0 0 5px",opacity:0,lineHeight:RGraph.ISIE?"normal":"initial"},RGraph.tooltip=function(){var args=RGraph.getArgs(arguments,"object,text,x,y,index,event");if("slide"===args.object.properties.tooltipsEffect&&(RGraph.tooltips.style.transition="left ease-out .25s, top ease-out .25s"),RGraph.SHOW_TOOLTIP_TIMER&&clearTimeout(RGraph.SHOW_TOOLTIP_TIMER),0!==RGraph.trim(args.text).length){if(RGraph.fireCustomEvent(args.object,"onbeforetooltip"),"function"==typeof args.object.get("tooltipsOverride"))return args.object.get("tooltipsOverride")(args.object,args.text,args.x,args.y,args.index);var originalX=args.x,originalY=args.y;args.text=RGraph.getTooltipTextFromDIV(args.text);var timers=RGraph.Registry.get("tooltip.timers");if(timers&&timers.length)for(i=0;i<timers.length;++i)clearTimeout(timers[i]);RGraph.Registry.set("tooltip.timers",[]),args.object.get("contextmenu")&&RGraph.hideContext(),"string"!=typeof args.object.get("tooltipsCssClass")&&args.object.set("tooltipsCssClass","RGraph_tooltip");var tooltipObj=document.createElement("DIV"),i,i;for(i in tooltipObj.className=args.object.get("tooltipsCssClass"),RGraph.tooltips.style)"string"==typeof i&&(tooltipObj.style[i]=substitute(RGraph.tooltips.style[i]));for(i in RGraph.tooltips.css)"string"==typeof i&&(tooltipObj.style[i]=substitute(RGraph.tooltips.css[i]));if(!RGraph.isNull(args.object.properties.tooltipsCss))for(var i in args.object.properties.tooltipsCss)"string"==typeof i&&(tooltipObj.style[i]=substitute(args.object.properties.tooltipsCss[i]));if("slide"===args.object.properties.tooltipsEffect&&(tooltipObj.style.left="string"==typeof RGraph.tooltip_slide_effect_previous_x_coordinate?RGraph.tooltip_slide_effect_previous_x_coordinate:0,tooltipObj.style.top="string"==typeof RGraph.tooltip_slide_effect_previous_y_coordinate?RGraph.tooltip_slide_effect_previous_y_coordinate:0),tooltipObj.__original_text__=args.text,args.text=substitute(args.text),args.object.properties.tooltipsPointer&&(args.text+='<div id="RGraph_tooltipsPointer" style="background-color:black; color: transparent;position:absolute;bottom:-5px;left:50%;transform:translateX(-50%) rotate(45deg);width:10px;height:10px"></div>',RGraph.isNull(args.object.properties.tooltipsPointerCss)||setTimeout(function(){var t,e=document.getElementById("RGraph_tooltipsPointer");for(t in args.object.properties.tooltipsPointerCss)"string"==typeof t&&(e.style[t]=substitute(args.object.properties.tooltipsPointerCss[t]))},50)),tooltipObj.innerHTML=args.text,tooltipObj.__text__=args.text,tooltipObj.__canvas__=args.object.canvas,tooltipObj.__event__=args.object.get("tooltipsEvent")||"click",tooltipObj.__object__=args.object,tooltipObj.id="__rgraph_tooltip_"+args.object.canvas.id+"_"+args.object.uid+"_"+args.index,"number"==typeof args.index&&(tooltipObj.__index__=args.index,origIdx=args.index),"line"===args.object.type||"radar"===args.object.type){for(var ds=0;ds<args.object.data.length&&args.index>=args.object.data[ds].length;++ds)args.index-=args.object.data[ds].length;tooltipObj.__dataset__=ds,tooltipObj.__index2__=args.index}document.body.appendChild(tooltipObj);var width=tooltipObj.offsetWidth,height=tooltipObj.offsetHeight;if(tooltipObj.style.width=width+"px",args.object.properties.tooltipsPointer){var styles=window.getComputedStyle(tooltipObj,!1),pointer=document.getElementById("RGraph_tooltipsPointer");pointer.style.backgroundColor=styles["background-color"],tooltipObj.__pointer__=pointer;var tooltipsPointerCss="";if(args.object.properties.tooltipsPointerCss){var pointerDiv=document.getElementById("RGraph_tooltipsPointer");for(property in args.object.properties.tooltipsPointerCss)"string"==typeof property&&(pointerDiv.style[property]=args.object.properties.tooltipsPointerCss[property])}}var mouseXY=RGraph.getMouseXY(args.event),canvasXY=RGraph.getCanvasXY(args.object.canvas),left,width,pointer,left,width,pointer;if(args.object.properties.tooltipsOffsetx=args.object.properties.tooltipsOffsetx||0,args.object.properties.tooltipsOffsety=args.object.properties.tooltipsOffsety||0,tooltipObj.style.left=args.event.pageX-(parseFloat(tooltipObj.style.paddingLeft)+width/2)+args.object.properties.tooltipsOffsetx+"px",tooltipObj.style.top=args.event.pageY-height-10+args.object.properties.tooltipsOffsety+"px",parseFloat(tooltipObj.style.left)<=5&&(tooltipObj.style.left=5+args.object.properties.tooltipsOffsetx+"px"),parseFloat(tooltipObj.style.top)<=5&&(tooltipObj.style.top=5+args.object.properties.tooltipsOffsety+"px"),parseFloat(tooltipObj.style.left)+parseFloat(tooltipObj.style.width)>window.innerWidth&&(tooltipObj.style.left="",tooltipObj.style.right=5+args.object.properties.tooltipsOffsetx+"px"),args.object.properties.tooltipsPositionStatic&&"function"==typeof args.object.positionTooltipStatic&&args.object.positionTooltipStatic({object:args.object,event:args.event,tooltip:tooltipObj,index:origIdx}),parseInt(tooltipObj.style.left)<0?(left=parseInt(tooltipObj.style.left),width=parseInt(tooltipObj.style.width),left+=.1*width*4,tooltipObj.style.left=left+"px",pointer=document.getElementById("RGraph_tooltipsPointer"),pointer&&(pointer.style.left="calc(10% + 5px)")):parseInt(tooltipObj.style.left)+parseInt(tooltipObj.offsetWidth)>document.body.offsetWidth&&(left=parseInt(tooltipObj.style.left),width=parseInt(tooltipObj.style.width),left-=.1*width*4,tooltipObj.style.left=left+"px",pointer=document.getElementById("RGraph_tooltipsPointer"),pointer&&(pointer.style.left="calc(90% - 5px)")),RGraph.isFixed(args.object.canvas)&&(tooltipObj.style.position="fixed"),"fade"===args.object.get("tooltipsEffect"))for(var i=1;i<=10;++i)!function(t){setTimeout(function(){tooltipObj.style.opacity=t/10},25*t)}(i);else tooltipObj.style.opacity=1;tooltipObj.onmousedown=function(t){t.stopPropagation()},tooltipObj.onmouseup=function(t){t.stopPropagation()},tooltipObj.onclick=function(t){0==t.button&&t.stopPropagation()},RGraph.Registry.set("tooltip",tooltipObj),"slide"===args.object.properties.tooltipsEffect&&(RGraph.tooltip_slide_effect_previous_x_coordinate=tooltipObj.style.left,RGraph.tooltip_slide_effect_previous_y_coordinate=tooltipObj.style.top),RGraph.fireCustomEvent(args.object,"ontooltip")}function substitute(original){original=String(original);var prop=args.object.properties,properties=args.object.properties,specific;if("function"!=typeof args.object.tooltipSubstitutions)return original;"function"==typeof args.object.tooltipSubstitutions&&(specific=args.object.tooltipSubstitutions({index:args.index}));var text=original.replace(/%%/g,"___--PERCENT--___");!function(){if(specific.values){for(var t=properties.tooltipsFormattedKeyColors||properties.colors,e=0,o=[];e<specific.values.length;++e){var r="object"==typeof specific.values&&"number"==typeof specific.values[e]?specific.values[e]:0,i=properties.colorsSequential?t[args.index]:t[e],p="object"==typeof properties.tooltipsFormattedKeyLabels&&"string"==typeof properties.tooltipsFormattedKeyLabels[e]?properties.tooltipsFormattedKeyLabels[e]:"";if("function"==typeof args.object.tooltipsFormattedCustom){var s=args.object.tooltipsFormattedCustom(specific,e,t);if(s.continue)continue;"string"==typeof s.label&&(p=s.label),s.color&&(i=s.color),"number"==typeof s.value&&(r=s.value)}r=RGraph.numberFormat({object:args.object,number:r.toFixed(args.object.properties.tooltipsFormattedDecimals),thousand:args.object.properties.tooltipsFormattedThousand||",",point:args.object.properties.tooltipsFormattedPoint||".",unitspre:args.object.properties.tooltipsFormattedUnitsPre||"",unitspost:args.object.properties.tooltipsFormattedUnitsPost||""}),s=0;"string"==typeof args.object.properties.tooltipsFormattedKeyColorsShape&&"circle"===args.object.properties.tooltipsFormattedKeyColorsShape&&(s="100px");var a="";if(properties.tooltipsFormattedKeyColorsCss)for(property in properties.tooltipsFormattedKeyColorsCss)"string"==typeof property&&(a+="{1}: {2};".format(property.replace(/[A-Z]/,function(t){return"-"+t.toLowerCase()}),String(properties.tooltipsFormattedKeyColorsCss[property])));o[e]='<tr><td><div class="RGraph_tooltipsFormattedKeyColor" style="text-align: left; background-color: '+i+"; color: transparent; pointer-events: none; border-radius: "+s+";"+a+'">Ml</div></td><td style="text-align: left">'+"<span>{1}</span>".format(p)+" "+r+"</td></tr>"}o=o.join(""),text=text.replace("%{key}",'<table style="color: inherit" id="rgraph_tooltip_key" class="rgraph_tooltip_key RGraph_tooltip_key">'+o+"</table>")}}(),text=text.replace(/%{index}/g,specific.index),text=text.replace(/%{dataset2}/g,specific.dataset2),text=text.replace(/%{dataset}/g,specific.dataset),text=text.replace(/%{group2}/g,specific.dataset2),text=text.replace(/%{group}/g,specific.dataset),text=text.replace(/%{sequential_index}/g,specific.sequentialIndex),text=text.replace(/%{seq}/g,specific.sequentialIndex),-1!==text.indexOf("%{list}")&&function(){"unordered"===properties.tooltipsFormattedListType&&(properties.tooltipsFormattedListType="ul"),"<ul>"===properties.tooltipsFormattedListType&&(properties.tooltipsFormattedListType="ul"),"ordered"===properties.tooltipsFormattedListType&&(properties.tooltipsFormattedListType="ol"),"<ol>"===properties.tooltipsFormattedListType&&(properties.tooltipsFormattedListType="ol");var t="ol"===properties.tooltipsFormattedListType?'<ol id="rgraph_formatted_tooltips_list">':'<ul id="rgraph_formatted_tooltips_list">',e=properties.tooltipsFormattedListItems[specific.sequentialIndex];if(e&&e.length)for(var o=0;o<e.length;++o)t+="<li>"+e[o]+"</li>";t+="ol"===properties.tooltipsFormattedListType?"</ol>":"</ul>",text=text.replace(/%{list}/,t)}(),-1!==text.indexOf("%{table}")&&function(){var t="<table>";if(properties.tooltipsFormattedTableHeaders&&properties.tooltipsFormattedTableHeaders.length){t+="<thead><tr>";for(var e=0;e<properties.tooltipsFormattedTableHeaders.length;++e)t+="<th>"+properties.tooltipsFormattedTableHeaders[e]+"</th>";t+="</tr></thead>"}if("object"==typeof properties.tooltipsFormattedTableData&&!RGraph.isNull(properties.tooltipsFormattedTableData)){t+="<tbody>";for(e=0;e<properties.tooltipsFormattedTableData[specific.sequentialIndex].length;++e){t+="<tr>";for(var o=0;o<properties.tooltipsFormattedTableData[specific.sequentialIndex][e].length;++o)t+="<td>"+String(properties.tooltipsFormattedTableData[specific.sequentialIndex][e][o])+"</td>";t+="</tr>"}t+="</tbody>"}text=text.replace(/%{table}/g,t+="</table>")}();for(var reg=/%{prop(?:erty)?:([_a-z0-9]+)\[([0-9]+)\]}/i;text.match(reg);){var property=RegExp.$1,index=parseInt(RegExp.$2),text=args.object.properties[property]?text.replace(reg,args.object.properties[property][index]||""):text.replace(reg,"");RegExp.lastIndex=null}for(;text.match(/%{property:([_a-z0-9]+)}/i);){var str="%{property:"+RegExp.$1+"}";text=text.replace(str,args.object.properties[RegExp.$1])}for(;text.match(/%{prop:([_a-z0-9]+)}/i);){var str="%{prop:"+RegExp.$1+"}";text=text.replace(str,args.object.properties[RegExp.$1])}if("rose"===args.object.type&&"non-equi-angular"===args.object.properties.variant)for(;text.match(/%{value2}/i);)text=text.replace("%{value2}",specific.value2);for(;text.match(/%{value(?:_formatted)?}/i);){var value=specific.value;text=text.match(/%{value_formatted}/i)?text.replace("%{value_formatted}","number"==typeof value?RGraph.numberFormat({object:args.object,number:value.toFixed(args.object.properties.tooltipsFormattedDecimals),thousand:args.object.properties.tooltipsFormattedThousand||",",point:args.object.properties.tooltipsFormattedPoint||".",unitspre:args.object.properties.tooltipsFormattedUnitsPre||"",unitspost:args.object.properties.tooltipsFormattedUnitsPost||""}):null):text.replace("%{value}",value)}for(var reg=/%{global:([_a-z0-9.]+)\[([0-9]+)\]}/i;text.match(reg);){var name=RegExp.$1,index=parseInt(RegExp.$2);text=eval(name)?text.replace(reg,eval(name)[index]||""):text.replace(reg,""),RegExp.lastIndex=null}for(var reg=/%{global:([_a-z0-9.]+)}/i;text.match(reg);){var name=RegExp.$1;text=eval(name)?text.replace(reg,eval(name)||""):text.replace(reg,""),RegExp.lastIndex=null}var regexp=/%{function:([_A-Za-z0-9]+)\((.*?)\)}/;for(text=text.replace(/\r/,"|CR|"),text=text.replace(/\n/,"|LF|");text.match(regexp);){for(var str=RegExp.$1+"("+RegExp.$2+")",i=0,len=str.length;i<len;++i)str=str.replace(/\r?\n/,"\\n");RGraph.Registry.set("tooltip-templates-function-object",args.object);var func=new Function("return "+str),ret=func();text=text.replace(regexp,ret)}return text=text.replace(/\|CR\|/," "),text=text.replace(/\|LF\|/," "),text=text.replace(/\r?\n/g,"<br />"),text=text.replace(/___--PERCENT--___/g,"%"),text.toString()}},RGraph.getTooltipTextFromDIV=function(){var t=RGraph.getArgs(arguments,"text"),e=/^id:(.*)/.exec(t.text);return e&&e[1]&&document.getElementById(e[1])?t.text=document.getElementById(e[1]).innerHTML:e&&e[1]&&(t.text=""),t.text},RGraph.getTooltipWidth=function(){var t=RGraph.getArgs(arguments,"text,object"),e=document.createElement("DIV");return e.className=t.object.get("tooltipsCssClass"),e.style.paddingLeft=RGraph.tooltips.padding,e.style.paddingRight=RGraph.tooltips.padding,e.style.fontFamily=RGraph.tooltips.font_face,e.style.fontSize=RGraph.tooltips.font_size,e.style.visibility="hidden",e.style.position="absolute",e.style.top="300px",e.style.left=0,e.style.display="inline",e.innerHTML=RGraph.getTooltipTextFromDIV(t.text),document.body.appendChild(e),e.offsetWidth},RGraph.hideTooltip=function(){var t=RGraph.Registry.get("tooltip"),e=arguments[0]&&arguments[0].uid?arguments[0].uid:null;!t||!t.parentNode||e&&e!=t.__canvas__.uid||(t.parentNode.removeChild(t),t.style.display="none",t.style.visibility="hidden",RGraph.Registry.set("tooltip",null))},RGraph.preLoadTooltipImages=function(){var t=RGraph.getArgs(arguments,"object"),e=t.object.get("tooltips");if(RGraph.hasTooltips(t.object)){if("rscatter"==t.object.type)for(var e=[],o=0;o<t.object.data.length;++o)e.push(t.object.data[3]);for(o=0;o<e.length;++o){var r=document.createElement("div");r.style.position="absolute",r.style.opacity=0,r.style.top="-100px",r.style.left="-100px",r.innerHTML=e[o],document.body.appendChild(r);for(var i,p=r.getElementsByTagName("IMG"),s=0;s<p.length;++s)p&&p[o]&&((i=document.createElement("img")).style.position="absolute",i.style.opacity=0,i.style.top="-100px",i.style.left="-100px",i.src=p[o].src,document.body.appendChild(i),setTimeout(function(){document.body.removeChild(i)},250));document.body.removeChild(r)}}},RGraph.tooltips_mousemove=function(){var t,e=RGraph.getArgs(arguments,"object,event"),o=e.object.getShape(e.event),r=!1;return o&&"number"==typeof o.index&&e.object.get("tooltips")[o.index]?(t=RGraph.parseTooltipText(e.object.get("tooltips"),o.index))&&(r=!0,"onmousemove"===e.object.get("tooltipsEvent")&&(RGraph.Registry.get("tooltip")&&RGraph.Registry.get("tooltip").__object__.uid==e.object.uid&&RGraph.Registry.get("tooltip").__index__==o.index||(RGraph.hideTooltip(),RGraph.clear(e.object.canvas),RGraph.redraw(),RGraph.tooltip(e.object,t,e.event.pageX,e.event.pageY,o.index),e.object.highlight(o)))):o&&"number"==typeof o.index&&(t=RGraph.parseTooltipText(e.object.get("tooltips"),o.index))&&(r=!0),r}}(window,document);