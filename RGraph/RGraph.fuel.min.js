RGraph=window.RGraph||{isrgraph:!0,isRGraph:!0,rgraph:!0},RGraph.Fuel=function(t){var u,e=t.id,s=document.getElementById(e),a=t.min,r=t.max,n=t.value;this.id=e,this.canvas=s,this.context=this.canvas.getContext?this.canvas.getContext("2d",{alpha:"object"!=typeof e||!1!==e.alpha}):null,(this.canvas.__object__=this).type="fuel",this.isRGraph=!0,this.isrgraph=!0,this.rgraph=!0,this.min=RGraph.stringsToNumbers(a),this.max=RGraph.stringsToNumbers(r),this.value=RGraph.stringsToNumbers(n),this.angles={},this.currentValue=null,this.uid=RGraph.createUID(),this.canvas.uid=this.canvas.uid||RGraph.createUID(),this.coordsText=[],this.original_colors=[],this.firstDraw=!0,this.canvas?(this.properties={centerx:null,centery:null,radius:null,colors:["red"],needleColor:"red",needleRadiusOffset:45,marginLeft:5,marginRight:5,marginTop:5,marginBottom:5,textSize:12,textColor:"black",textFont:"Arial, Verdana, sans-serif",textBold:!1,textItalic:!1,textAccessible:!0,textAccessibleOverflow:"visible",textAccessiblePointerevents:!1,text:null,contextmenu:null,annotatable:!1,annotatableColor:"black",adjustable:!1,resizable:!1,resizableHandleBackground:null,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAfCAYAAAD0ma06AAAEGElEQVRIS7VXSyhtYRT+jnfe5FEMjAwUBiQGHikzRWIkkgy8YyDK+xnJK5JCeZSUGKBMiAyYkMxMJAMpSfJ+2/d8695/33NunSPnHqt2Z5+91/9///et9a/1b8Pn56dmMBhg/IWDgwNoNzc38PHxkXtN0+Tiexp9eH18fIDj1Bj63N/fw8vLS/wsmcHoqKmXT09PuL29RVFREU5OTvTJ6UIAgioQ+vLe09MTb29v8PX1RWBgICYnJ+XXIqDRWXN0dJT3nIDsWlpadP+lpSWZlD4KmL/8//7+Ls/S09N1/7y8PISHh+sK/QssDJWcHEyGCnB1dRUDAwPIzMzUx5GpAnZ1dcXy8jK2trbM5j06OsLc3JzISx8q4OzsLOOsAq6treHg4AAeHh4WJbq7u0Nzc7P+PiYmBnt7ezg9PcXExAQCAgLg5OSEx8dHuLu7Wwfc3t7G/v6+yEcjO8rIROGKaWdnZ+jr6zMDjI6OxvT0tDzr6uqS2KtksspwZ2cHjY2NuqSUhnHmilUCraysmElaWloKJpQCjI2NRX5+Pl5eXr6WlCv08/MTEMVOZDH+Zzw4CdlfX1/rDHt7ezE1NQXGkcYEKi4ulkVKYlpLGouBs/JiaGgIZL25uSlecXFxohAz/ccAz8/P4e/vj7q6Ojw8PMje5DNRy94MQ0JCUFtbK2wqKipE+sHBQbi4uPwMQ86ak5ODxMREVFdXIywsDCUlJRJDXnZlmJqaip6eHuTm5kqikGlycjIyMjL+ZrY9JSUgMzQiIgINDQ2ypaqqqkCZWXHsnjQEHB8fR0pKigAxabq7uyWOlJNxtLukTJDs7GxUVlZKDNl5oqKi8Pr6+jOAIyMjiI+Pl5JGQG4F1Qy+LN7f3fiUdGZmBsHBwRgbG8Pw8LD01ba2NmlX0rTtnTQLCwvSjEdHR3FxcSExLCwsRGRkpBR9vePzeMDyw3bT1NT0XXLiT4a7u7s4Pj4GGzd7K8GCgoKEsRR8I4Cm6hwHXV5eiv62GAE5npMTmFuBTCkzmzT7qs5Q9TlW/o6ODlvwhCHPM5SVPZIxYzNeXFxEa2srvL29YTC2GI3aMm3Zeq6urv4LMC0tDRsbG1K8k5KS9DgS0IwhKVFjSsJA22r9/f0oKCgQdvPz83JEmZ2dlcpD9maSshow0KZnlO8Csx9yK3BLKCMJPpf2xGMigdi9WXooaWdn53dxdP+amhrZh4eHh1hfX5cTW319vZyBnp+ffzNkBWBmhYaGysB/j322oCckJCArK0uGMlsJ5ubmBoPxRiMzFlomjr2MGdne3i5ANILRJEtJt6ysTG8h9gDl4am8vFwSUWron1O9LulXIOqk9pWftfdSS40yyj5Uh101wPRryuR7R1ZMX/U1pfy5IF40xcgUnGAc9wsGYxsFhy87kwAAAABJRU5ErkJggg==",iconRedraw:!0,backgroundImageStretch:!1,backgroundImageX:null,backgroundImageY:null,backgroundImageW:null,backgroundImageH:null,backgroundImagealign:null,labelsFull:"F",labelsFullOffsetx:0,labelsFullOffsety:0,labelsFullOffsetRadius:0,labelsEmpty:"E",labelsEmptyOffsetx:0,labelsEmptyOffsety:0,labelsEmptyOffsetRadius:0,labelsFont:null,labelsSize:null,labelsColor:null,labelsBold:null,labelsItalic:null,scaleVisible:!1,scaleDecimals:0,scaleUnitsPre:"",scaleUnitsPost:"",scalePoint:".",scaleThousand:",",scaleLabelsCount:5,clearto:"rgba(0,0,0,0)"},this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),u=this.properties,this.path=RGraph.pathObjectFunction,RGraph.Effects&&"function"==typeof RGraph.Effects.decorate&&RGraph.Effects.decorate(this),this.responsive=RGraph.responsive,this.set=function(t){var e=void 0===arguments[1]?null:arguments[1];if(1!==arguments.length||"object"!=typeof t)return u[t]=e,this;for(i in t)"string"==typeof i&&this.set(i,t[i]);return this},this.get=function(t){return u[t]},this.draw=function(){return RGraph.fireCustomEvent(this,"onbeforedraw"),this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0),this.currentValue=this.value,this.marginLeft=u.marginLeft,this.marginRight=u.marginRight,this.marginTop=u.marginTop,this.marginBottom=u.marginBottom,this.centerx=(this.canvas.width-this.marginLeft-this.marginRight)/2+this.marginLeft,this.centery=this.canvas.height-20-this.marginBottom,this.radius=this.canvas.height-this.marginTop-this.marginBottom-20,this.coordsText=[],"number"==typeof u.centerx&&(this.centerx=u.centerx),"number"==typeof u.centery&&(this.centery=u.centery),"number"==typeof u.radius&&(this.radius=u.radius),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.angles.start=RGraph.PI+RGraph.HALFPI-.5,this.angles.end=RGraph.PI+RGraph.HALFPI+.5,this.angles.needle=this.getAngle(this.value),this.drawLabels(),this.drawChart(),u.contextmenu&&RGraph.showContext(this),RGraph.addCustomText(this),RGraph.installEventListeners(this),this.firstDraw&&(this.firstDraw=!1,RGraph.fireCustomEvent(this,"onfirstdraw"),this.firstDrawFunc()),RGraph.fireCustomEvent(this,"ondraw"),this},this.exec=function(t){return t(this),this},this.drawChart=function(){this.drawScale(),this.drawIcon(),this.drawNeedle()},this.drawLabels=function(){var t,e,s;u.scaleVisible||(this.radius,this.context.fillStyle=u.textColor,i=this.centery-Math.sin(this.angles.start-RGraph.PI)*(this.radius-17+u.labelsEmptyOffsetRadius),e=this.centerx-Math.cos(this.angles.start-RGraph.PI)*(this.radius-17+u.labelsEmptyOffsetRadius),t=RGraph.getTextConf({object:this,prefix:"labels"}),s=RGraph.text({object:this,font:t.font,size:t.size,color:t.color,bold:t.bold,italic:t.italic,x:e+u.labelsEmptyOffsetx,y:i+u.labelsEmptyOffsety,text:u.labelsEmpty,halign:"left",valign:"top",tag:"labels",cssClass:RGraph.getLabelsCSSClassName({object:this,name:"labelsClass",index:0})}),i=this.centery-Math.sin(this.angles.start-RGraph.PI)*(this.radius-17+u.labelsFullOffsetRadius),e=this.centerx+Math.cos(this.angles.start-RGraph.PI)*(this.radius-17+u.labelsFullOffsetRadius),s=RGraph.text({object:this,font:t.font,size:t.size,color:t.color,bold:t.bold,italic:t.italic,x:e+u.labelsFullOffsetx,y:i+u.labelsFullOffsety,text:u.labelsFull,halign:"right",valign:"top",tag:"labels",cssClass:RGraph.getLabelsCSSClassName({object:this,name:"labelsClass",index:1})}));var i="";"string"==typeof u.labelsClass?i=u.labelsClass:"object"==typeof u.labelsClass&&"string"==typeof u.labelsClass[1]&&(i=u.labelsClass[1]),i&&-1===s.node.className.indexOf(i)&&(s.node.className+=" "+i)},this.drawNeedle=function(){this.context.beginPath(),this.context.lineWidth=5,this.context.lineCap="round",this.context.strokeStyle=u.needleColor;var t=this.angles.needle;this.context.arc(this.centerx,this.centery,this.radius-u.needleRadiusOffset,t,t+1e-4,!1),this.context.lineTo(this.centerx,this.centery),this.context.stroke(),this.context.lineWidth=1;var e=this.centerx+10,s=this.centery-10,t=this.context.createRadialGradient(e,s,35,e,s,0);t.addColorStop(0,"black"),t.addColorStop(1,"#eee"),0<navigator.userAgent.indexOf("Firefox/6.0")&&((t=this.context.createLinearGradient(e+10,s-10,e-10,10+s)).addColorStop(1,"#666"),t.addColorStop(.5,"#ccc")),this.context.beginPath(),this.context.fillStyle=t,this.context.moveTo(this.centerx,this.centery),this.context.arc(this.centerx,this.centery,20,0,RGraph.TWOPI,0),this.context.fill()},this.drawScale=function(){this.context.beginPath(),this.context.strokeStyle="black",this.context.fillStyle="white",this.context.arc(this.centerx,this.centery,this.radius,this.angles.start,this.angles.end,!1),this.context.arc(this.centerx,this.centery,this.radius-10,this.angles.end,this.angles.start,!0),this.context.closePath(),this.context.stroke(),this.context.fill();var t=this.angles.start,e=this.angles.needle;for(this.context.beginPath(),this.context.fillStyle=u.colors[0],this.context.arc(this.centerx,this.centery,this.radius,t,e,!1),this.context.arc(this.centerx,this.centery,this.radius-10,e,t,!0),this.context.closePath(),this.context.fill(),h=this.angles.start;h<=this.angles.end+.01;h+=(this.angles.end-this.angles.start)/5)this.context.beginPath(),this.context.arc(this.centerx,this.centery,this.radius-10,h,h+1e-4,!1),this.context.arc(this.centerx,this.centery,this.radius-15,h+1e-4,h,!0),this.context.stroke();if(u.scaleVisible){this.context.fillStyle=u.textColor;for(var s=u.scaleLabelsCount,i=u.scaleDecimals,a=u.scaleUnitsPost,r=u.scaleUnitsPre,n=(u.textFont,u.textSize,u.textColor,u.textBold,u.textItalic,0);n<=s;++n){var h=(this.angles.end-this.angles.start)*(n/s)+this.angles.start,l=this.centery-Math.sin(h-RGraph.PI)*(this.radius-17),o=this.centerx-Math.cos(h-RGraph.PI)*(this.radius-17),c=RGraph.getTextConf({object:this,prefix:"labels"});RGraph.text({object:this,font:c.font,size:c.size,color:c.color,bold:c.bold,italic:c.italic,x:o,y:l,text:RGraph.numberFormat({object:this,number:(this.min+(this.max-this.min)*(n/s)).toFixed(i),unitspre:r,unitspost:a,point:u.scalePoint,thousand:u.scaleThousand}),halign:"center",valign:"top",tag:"scale"})}}},this.getShape=function(t){},this.getValue=function(t){t=RGraph.getMouseXY(t),t=RGraph.getAngleByXY(this.centerx,this.centery,t[0],t[1]);if(t>=this.angles.end)return this.max;if(t<=this.angles.start)return this.min;t=(t-this.angles.start)/(this.angles.end-this.angles.start);return t*=this.max-this.min,t+=this.min},this.getObjectByXY=function(t){var e=RGraph.getMouseXY(t),s=(RGraph.getAngleByXY(this.centerx,this.centery,e[0],e[1]),this.centerx-this.radius),i=this.centerx+this.radius,a=this.centery-this.radius,t=this.centery+this.radius;if(e[0]>s&&e[0]<i&&e[1]>a&&e[1]<t)return this},this.drawIcon=function(){var s;this.__icon__&&this.__icon__.__loaded__?(s=this.__icon__,this.context.drawImage(s,this.centerx-s.width/2,this.centery-this.radius+35)):((s=new Image).src=u.icon,((s.__object__=this).__icon__=s).onload=function(t){s.__loaded__=!0;var e=s.__object__;e.context.drawImage(s,e.centerx-s.width/2,e.centery-e.radius+35),e.drawNeedle(),u.iconRedraw&&(e.set("iconRedraw",!1),RGraph.clear(e.canvas),RGraph.redrawCanvas(e.canvas))}),this.drawNeedle()},this.adjusting_mousemove=function(t){u.adjustable&&RGraph.Registry.get("adjusting")&&RGraph.Registry.get("adjusting").uid==this.uid&&(this.value=this.getValue(t),RGraph.redrawCanvas(this.canvas),RGraph.fireCustomEvent(this,"onadjust"))},this.getAngle=function(t){return t<this.min||t>this.max?null:(t-this.min)/(this.max-this.min)*(this.angles.end-this.angles.start)+this.angles.start},this.parseColors=function(){0===this.original_colors.length&&(this.original_colors.colors=RGraph.arrayClone(u.colors),this.original_colors.needleColor=RGraph.arrayClone(u.needleColor));for(var t=u.colors,e=0;e<t.length;++e)t[e]=this.parseSingleColorForLinearGradient(t[e]);u.needleColor=this.parseSingleColorForRadialGradient(u.needleColor)},this.reset=function(){},this.parseSingleColorForLinearGradient=function(t){if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){if(t.match(/^gradient\(({.*})\)$/i))return RGraph.parseJSONGradient({object:this,def:RegExp.$1});var e=RegExp.$1.split(":"),s=this.context.createLinearGradient(u.marginLeft,0,this.canvas.width-u.marginRight,0),i=1/(e.length-1);s.addColorStop(0,RGraph.trim(e[0]));for(var a=1;a<e.length;++a)s.addColorStop(a*i,RGraph.trim(e[a]))}return s||t},this.parseSingleColorForRadialGradient=function(t){if(!t||"string"!=typeof t)return t;if(t.match(/^gradient\((.*)\)$/i)){var e=RegExp.$1.split(":"),s=this.context.createRadialGradient(this.centerx,this.centery,0,this.centerx,this.centery,this.radius),i=1/(e.length-1);s.addColorStop(0,RGraph.trim(e[0]));for(var a=1;a<e.length;++a)s.addColorStop(a*i,RGraph.trim(e[a]))}return s||t},this.on=function(t,e){return"function"!=typeof this[t="on"!==t.substr(0,2)?"on"+t:t]?this[t]=e:RGraph.addCustomEventListener(this,t,e),this},this.firstDrawFunc=function(){},this.grow=function(){var e=arguments[1]||function(){},s=(arguments[0]||{}).frames||30,i=0,a=this,r=Number(this.currentValue);null==this.currentValue&&(this.currentValue=this.min,r=this.min);var n=this.value-r,i=0;return function t(){i++,a.value=i/s*n+r,a.value>a.max&&(a.value=a.max),a.value<a.min&&(a.value=a.min),RGraph.clear(a.canvas),RGraph.redrawCanvas(a.canvas),i<s?RGraph.Effects.updateCanvas(t):e(a)}(),this},RGraph.register(this),RGraph.parseObjectStyleConfig(this,t.options)):alert("[FUEL] No canvas support")};