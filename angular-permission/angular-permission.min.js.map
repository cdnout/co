{"version":3,"sources":["angular-permission.js"],"names":["window","angular","undefined","$permission","defaultOnAuthorizedMethod","defaultOnUnauthorizedMethod","suppressUndefinedPermissionWarning","this","setDefaultOnAuthorizedMethod","onAuthorizedMethod","setDefaultOnUnauthorizedMethod","onUnauthorizedMethod","value","$get","$q","$delegate","any","promises","deferred","defer","counter","results","isArray","forEach","promise","key","when","then","resolve","catch","reason","reject","PermTransitionEvents","broadcastPermissionStartEvent","Error","broadcastPermissionAcceptedEvent","broadcastPermissionDeniedEvent","PermPermission","$injector","PermTransitionProperties","Permission","permissionName","validationFunction","validateConstructor","annotateValidationFunction","wrapInPromise","result","isString","TypeError","isFunction","$inject","prototype","validatePermission","validationLocals","transitionProperties","validationResult","invoke","PermRole","PermPermissionStore","Role","roleName","length","preparePermissionEvaluation","permissions","map","hasPermissionDefinition","permission","getPermissionDefinition","all","validateRole","definePermission","permissionStore","defineManyPermissions","permissionNames","removePermissionDefinition","isDefined","getStore","clearStore","PermRoleStore","defineRole","roleStore","defineManyRoles","roleMap","isObject","removeRoleDefinition","hasRoleDefinition","getRoleDefinition","PermissionDirective","$log","PermPermissionMap","PermPermissionStrategies","restrict","bindToController","sref","only","except","onAuthorized","onUnauthorized","controllerAs","controller","$scope","$element","isSrefStateDefined","has","onAuthorizedAccess","onAuthorizedMethodName","onUnauthorizedAccess","onUnauthorizedMethodName","$watchGroup","PermStateAuthorization","get","authorizeByStateName","PermAuthorization","permissionMap","authorizeByPermissionMap","e","error","message","resolveExceptPrivilegeMap","exceptPromises","resolvePropertyValidity","rejectedPermissions","resolveOnlyPermissionMap","onlyPromises","resolvedPermissions","rejectedPermission","PermissionMap","normalizeOnlyAndExceptProperty","redirectTo","normalizeRedirectToProperty","resolveRedirectState","redirectFunction","rejectedPermissionName","redirectState","state","property","call","isInjectable","normalizeFunctionRedirectionRule","isObjectSingleRedirectionRule","normalizeObjectSingleRedirectionRule","normalizeObjectMultipleRedirectionRule","normalizeStringRedirectionRule","ReferenceError","redirectionMap","default","redirection","privilegeName","role","warn","module","exports","name","provider","decorator","enableElement","removeAttr","disableElement","attr","showElement","removeClass","hideElement","addClass","service","factory","directive"],"mappings":"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","file":"angular-permission.min.js"}