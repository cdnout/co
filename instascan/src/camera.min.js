function cameraName(a){return a.replace(/\s*\([0-9a-f]+(:[0-9a-f]+)?\)\s*$/,"")||a||null}class Camera{constructor(a,e){this.id=a,this.name=e,this._stream=null}async start(){var a={audio:!1,video:{mandatory:{sourceId:this.id,minWidth:600,maxWidth:800,minAspectRatio:1.6},optional:[]}};return this._stream=await navigator.mediaDevices.getUserMedia(a),window.URL.createObjectURL(this._stream)}stop(){if(this._stream){for(let a of this._stream.getVideoTracks())a.stop();this._stream=null}}static async getCameras(){return(await navigator.mediaDevices.enumerateDevices()).filter(a=>"videoinput"===a.kind).map(a=>new Camera(a.deviceId,cameraName(a.label)))}}module.exports=Camera;