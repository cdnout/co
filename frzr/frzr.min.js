!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.frzr=e.frzr||{})}(this,function(e){"use strict";function n(e){return document.createTextNode(e||"")}function t(e,n,t,r){var i=arguments.length;if(m&&e in m){var o=m[e];return 1===i?o(e):2===i?o(e,n):3===i?o(e,n,t):4===i?o(e,n,t,r):o.apply(this,w.call(arguments))}if("function"==typeof e)return 1===i?new e:2===i?new e(n):3===i?new e(n,t):4===i?new e(n,t,r):new(e.bind.apply(e,w.call(arguments)));for(var u=document.createElement(e),l=!0,f=1;f<i;f++){var a=arguments[f];if(null!=a)if(!l||"string"!=typeof a&&"number"!=typeof a)if(d(u,a))l=!1;else for(var s in a)s in u&&"style"!==s?u[s]=a[s]:y&&s in y?y[s](u,a[s]):u.setAttribute(s,a[s]);else u.textContent=a,l=!1}return u}function r(e,n){(m||(m={}))[e]=n}function i(e,n){(y||(y={}))[e]=n}function o(e){m&&m[e]&&delete m[e]}function u(e){y&&y[e]&&delete y[e]}function l(e){for(var n=document.createElementNS("http://www.w3.org/2000/svg",e),t=1;t<arguments.length;t++){var r=arguments[t];if(null!=r&&!d(n,r)&&"object"==typeof r)for(var i in r){var o=r[i];"function"==typeof o?n[i]=o:n.setAttribute(i,o)}}return n}function f(e,n,t,r){return new a(e,n,t,r)}function a(e,n,t,r){this.View=e,this.views=[],this.initData=t,this.skipRender=r,n&&(this.key=n,this.lookup={})}function s(e,n,t){t?e.insertBefore(n,t.el||t):e.appendChild(n)}function d(e,t,r){var i=e.el||e,o=t&&t.constructor;if(o===String||o===Number)return s(i,n(t),r),!0;if(o===Array){for(var u=0;u<t.length;u++)d(e,t[u],r);return!0}var l=t.el||t,f=null!=l.parentNode;if(f?t.remounting&&t.remounting():t.mounting&&t.mounting(),l.nodeType)s(i,l,r),l!==t&&(f?t.remounted&&t.remounted():t.mounted&&t.mounted(),l.view=t,t.parent=e);else{if(!t.views)return!1;t.parent=e,g(i,t.views)}return!0}function p(e,n,t){var r=e.el||e,i=n.el||n,o=t.el||t,u=null!=i.parentNode;t.unmounting&&t.unmounting(),u?n.remounting&&n.remounting():n.mounting&&n.mounting(),r.replaceChild(i,o),t.unmounted&&t.unmounted(),o!==t&&(t.parent=null),u?n.remounted&&n.remounted():n.mounted&&n.mounted(),i!==n&&(i.view=n,n.parent=e)}function v(e,n){var t=e.el||e,r=n.el||n;n.unmounting&&n.unmounting(),t.removeChild(r),n.unmounted&&n.unmounted(),r!==n&&(n.parent=null)}function c(e){var n=e.el||e,t=n.parentNode,r=t.view||t;e.destroying&&e.destroying(e),h(e,"destroying"),t&&v(r,e),e.destroyed&&e.destroyed(e),h(e,"destroyed")}function h(e,n,t){for(var r=e.el||e,i=r.firstChild;i;){var o=i.nextSibling,u=i.view||i,l=u[n];l&&l.call(u,t||e),h(i,n,t||e),i=o}}function g(e,n){for(var t=e.el||e,r=t.firstChild,i=0;i<n.length;i++){var o=n[i];if(o){var u=o.el||o;r!==u?d(e,o,r):r=r.nextSibling}}for(;r;){var l=r.nextSibling;v(e,r.view||r),r=l}}var m,y,w=Array.prototype.slice;t.extend=function(e){return t.bind(this,e)},l.extend=function(e){return function(){for(var n=new Array(arguments.length),t=0;t<n.length;t++)n[t]=arguments[t];return l.apply(this,[e].concat(n))}},a.prototype.update=function(e,n){var t=this.View,r=this.views,i=this.parent,o=this.key,u=this.initData,l=this.skipRender;if(n)var f=[],a=[],s=[];if(o){var d=this.lookup,p={};r.length=e.length;for(var v=0;v<e.length;v++){var h=e[v],m=h[o],y=d[m];y?n&&a.push(y):(y=new t(u,h,v),n&&f.push(y)),r[v]=p[m]=y,y.update&&y.update(h,v)}if(n)for(var m in d)p[m]||(s.push(d[m]),!l&&i&&c(d[m]));this.lookup=p}else{if(n)for(var v=e.length;v<r.length;v++){var y=r[v];!l&&i&&c(y),s.push(y)}r.length=e.length;for(var v=0;v<e.length;v++){var h=e[v],y=r[v];y?n&&a.push(y):(y=new t(u,h,v),n&&f.push(y)),y.update&&y.update(h,v),r[v]=y}}!l&&i&&g(i,r),n&&n(f,a,s)};var b=d;e.text=n,e.el=t,e.registerElement=r,e.registerAttribute=i,e.unregisterElement=o,e.unregisterAttribute=u,e.svg=l,e.list=f,e.List=a,e.mount=d,e.mountBefore=b,e.replace=p,e.unmount=v,e.destroy=c,e.notifyDown=h,e.setChildren=g,Object.defineProperty(e,"__esModule",{value:!0})});