/*
Copyright (c) 2015-present NAVER Corp.
name: @egjs/flicking
license: MIT
author: NAVER Corp.
repository: https://github.com/naver/egjs-flicking
version: 3.7.2
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):((t=t||self).eg=t.eg||{},t.eg.Flicking=e())}(this,function(){"use strict";var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function P(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function h(t){return void 0===t}var t=function(){function t(){this.options={},this._eventHandler={}}var e=t.prototype;return e.trigger=function(t){for(var e=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!(0<(s=this._eventHandler[t]||[]).length))return!0;var r=n[0]||{},o=n.slice(1),s=s.concat(),a=!1;r.eventType=t,r.stop=function(){a=!0},r.currentTarget=this;var l=[r];return 1<=o.length&&(l=l.concat(o)),s.forEach(function(t){t.apply(e,l)}),!a},e.once=function(n,i){var r,o=this;if("object"==typeof n&&h(i)){var t=n;for(var e in t)this.once(e,t[e]);return this}return"string"==typeof n&&"function"==typeof i&&(r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.apply(o,t),o.off(n,r)},this.on(n,r)),this},e.hasOn=function(t){return!!this._eventHandler[t]},e.on=function(t,e){if("object"==typeof t&&h(e)){var n=t;for(var i in n)this.on(i,n[i]);return this}var r;return"string"==typeof t&&"function"==typeof e&&(h(r=this._eventHandler[t])&&(this._eventHandler[t]=[],r=this._eventHandler[t]),r.push(e)),this},e.off=function(t,e){var n,i;if(h(t))return this._eventHandler={},this;if(h(e)){if("string"==typeof t)return delete this._eventHandler[t],this;var r=t;for(var o in r)this.off(o,r[o]);return this}var s=this._eventHandler[t];if(s){var a=0;try{for(var l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),u=l.next();!u.done;u=l.next()){if(u.value===e){s.splice(a,1);break}a++}}catch(t){n={error:t}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}return this},t.VERSION="2.2.2",t}(),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function s(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var l=function(){return(l=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};var e="undefined"!=typeof window,n=e?window.navigator.userAgent:"",a=e&&!!("getComputedStyle"in window),u=/MSIE|Trident|Windows Phone|Edge/.test(n),c=e&&!!("addEventListener"in document),d="width",f="height";function p(t,e){return t.getAttribute(e)||""}function g(t){return[].slice.call(t)}function v(t){return"loading"in t&&"lazy"===t.getAttribute("loading")}function m(t,e,n){c?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function y(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null}function x(t,e){var n,i=t["client"+e]||t["offset"+e];return parseFloat(i||(n=t,((a?window.getComputedStyle(n):n.currentStyle)||{})[e.toLowerCase()]))||0}function E(t,e,n){var i=g(t.querySelectorAll(function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}(["["+n+"skip] ["+n+"width]"],e.map(function(t){return["["+n+"skip] "+t,t+"["+n+"skip]","["+n+"width] "+t].join(", ")})).join(", ")));return g(t.querySelectorAll("["+n+"width], "+e.join(", "))).filter(function(t){return-1===i.indexOf(t)})}var C=[];function b(t,e){C.length||m(window,"resize",S),t.__PREFIX__=e,C.push(t),w(t)}function w(t,e){void 0===e&&(e="data-");var n,i=t.__PREFIX__||e,r=parseInt(p(t,""+i+d),10)||0,o=parseInt(p(t,""+i+f),10)||0;p(t,i+"fixed")===f?(n=x(t,"Height")||o,t.style[d]=r/o*n+"px"):(n=x(t,"Width")||r,t.style[f]=o/r*n+"px")}function S(){C.forEach(function(t){w(t)})}var I=function(a){function t(t,e){void 0===e&&(e={});var n,i,r,o,s=a.call(this)||this;return s.isReady=!1,s.isPreReady=!1,s.hasDataSize=!1,s.hasLoading=!1,s.isSkip=!1,s.onCheck=function(t){s.clear(),t&&"error"===t.type&&s.onError(s.element);var e=!s.hasDataSize&&!s.hasLoading;s.onReady(e)},s.options=l({prefix:"data-"},e),s.element=t,s.hasDataSize=(n=t,void 0===(i=s.options.prefix)&&(i="data-"),!!n.getAttribute(i+"width")),s.hasLoading=v(t),s.isSkip=(r=s.element,void 0===o&&(o="data-"),!!r.getAttribute(o+"skip")),s}s(t,a);var e=t.prototype;return e.check=function(){return this.isSkip||!this.checkElement()?(this.onAlreadyReady(!0),!1):(this.hasDataSize&&b(this.element,this.options.prefix),(this.hasDataSize||this.hasLoading)&&this.onAlreadyPreReady(),!0)},e.addEvents=function(){var e=this,n=this.element;this.constructor.EVENTS.forEach(function(t){m(n,t,e.onCheck)})},e.clear=function(){var e=this,n=this.element;this.constructor.EVENTS.forEach(function(t){y(n,t,e.onCheck)}),this.removeAutoSizer()},e.destroy=function(){this.clear(),this.off()},e.removeAutoSizer=function(){var t,e,n,i,r;this.hasDataSize&&(t=this.options.prefix,e=this.element,n=t,(r=C.indexOf(e))<0||(i=p(e,n+"fixed"),delete e.__PREFIX__,e.style[i===f?d:f]="",C.splice(r,1),C.length||y(window,"resize",S)))},e.onError=function(t){this.trigger("error",{element:this.element,target:t})},e.onPreReady=function(){this.isPreReady||(this.isPreReady=!0,this.trigger("preReady",{element:this.element,hasLoading:this.hasLoading,isSkip:this.isSkip}))},e.onReady=function(t){this.isReady||(t&&(this.isPreReady=!0),this.removeAutoSizer(),this.isReady=!0,this.trigger("ready",{element:this.element,withPreReady:t,hasLoading:this.hasLoading,isSkip:this.isSkip}))},e.onAlreadyError=function(t){var e=this;setTimeout(function(){e.onError(t)})},e.onAlreadyPreReady=function(){var t=this;setTimeout(function(){t.onPreReady()})},e.onAlreadyReady=function(t){var e=this;setTimeout(function(){e.onReady(t)})},t.EVENTS=[],t}(t),T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}s(e,t);var n=e.prototype;return n.setHasLoading=function(t){this.hasLoading=t},n.check=function(){return this.isSkip?(this.onAlreadyReady(!0),!1):(this.hasDataSize?(b(this.element,this.options.prefix),this.onAlreadyPreReady()):this.trigger("requestChildren"),!0)},n.checkElement=function(){return!0},n.destroy=function(){this.clear(),this.trigger("requestDestroy"),this.off()},n.onAlreadyPreReady=function(){t.prototype.onAlreadyPreReady.call(this),this.trigger("reqeustReadyChildren")},e.EVENTS=[],e}(I),A=function(n){function t(t){void 0===t&&(t={});var e=n.call(this)||this;return e.readyCount=0,e.preReadyCount=0,e.totalCount=0,e.totalErrorCount=0,e.isPreReadyOver=!0,e.elementInfos=[],e.options=l({loaders:{},prefix:"data-"},t),e}s(t,n);var e=t.prototype;return e.check=function(t){var l=this,n=this.options.prefix;this.clear(),this.elementInfos=g(t).map(function(t,a){var e=l.getLoader(t,{prefix:n});return e.check(),e.on("error",function(t){l.onError(a,t.target)}).on("preReady",function(t){var e=l.elementInfos[a];e.hasLoading=t.hasLoading,e.isSkip=t.isSkip;var n=l.checkPreReady(a);l.onPreReadyElement(a),n&&l.onPreReady()}).on("ready",function(t){var e=t.withPreReady,n=t.hasLoading,i=t.isSkip,r=l.elementInfos[a];r.hasLoading=n,r.isSkip=i;var o=e&&l.checkPreReady(a),s=l.checkReady(a);e&&l.onPreReadyElement(a),l.onReadyElement(a),o&&l.onPreReady(),s&&l.onReady()}),{loader:e,element:t,hasLoading:!1,hasError:!1,isPreReady:!1,isReady:!1,isSkip:!1}});var e=this.elementInfos.length;return(this.totalCount=e)||setTimeout(function(){l.onPreReady(),l.onReady()}),this},e.getTotalCount=function(){return this.totalCount},e.isPreReady=function(){return this.elementInfos.every(function(t){return t.isPreReady})},e.isReady=function(){return this.elementInfos.every(function(t){return t.isReady})},e.hasError=function(){return 0<this.totalErrorCount},e.clear=function(){this.isPreReadyOver=!1,this.totalCount=0,this.preReadyCount=0,this.readyCount=0,this.totalErrorCount=0,this.elementInfos.forEach(function(t){!t.isReady&&t.loader&&t.loader.destroy()}),this.elementInfos=[]},e.destroy=function(){this.clear(),this.off()},e.getLoader=function(e,t){var n=this,i=e.tagName.toLowerCase(),r=this.options.loaders,o=Object.keys(r);if(r[i])return new r[i](e,t);var s=new T(e,t),a=g(e.querySelectorAll(o.join(", ")));s.setHasLoading(a.some(v));var l=!1,u=this.clone().on("error",function(t){s.onError(t.target)}).on("ready",function(){s.onReady(l)});return s.on("requestChildren",function(){var t=E(e,o,n.options.prefix);u.check(t).on("preReady",function(t){(l=t.isReady)||s.onPreReady()})}).on("reqeustReadyChildren",function(){u.check(a)}).on("requestDestroy",function(){u.destroy()}),s},e.clone=function(){return new t(l({},this.options))},e.checkPreReady=function(t){return this.elementInfos[t].isPreReady=!0,++this.preReadyCount,!(this.preReadyCount<this.totalCount)},e.checkReady=function(t){return this.elementInfos[t].isReady=!0,++this.readyCount,!(this.readyCount<this.totalCount)},e.onError=function(t,e){var n=this.elementInfos[t];n.hasError=!0,this.trigger("error",{element:n.element,index:t,target:e,errorCount:this.getErrorCount(),totalErrorCount:++this.totalErrorCount})},e.onPreReadyElement=function(t){var e=this.elementInfos[t];this.trigger("preReadyElement",{element:e.element,index:t,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:e.hasLoading,isSkip:e.isSkip})},e.onPreReady=function(){this.isPreReadyOver=!0,this.trigger("preReady",{readyCount:this.readyCount,totalCount:this.totalCount,isReady:this.isReady(),hasLoading:this.hasLoading()})},e.onReadyElement=function(t){var e=this.elementInfos[t];this.trigger("readyElement",{index:t,element:e.element,hasError:e.hasError,errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,preReadyCount:this.preReadyCount,readyCount:this.readyCount,totalCount:this.totalCount,isPreReady:this.isPreReady(),isReady:this.isReady(),hasLoading:e.hasLoading,isPreReadyOver:this.isPreReadyOver,isSkip:e.isSkip})},e.onReady=function(){this.trigger("ready",{errorCount:this.getErrorCount(),totalErrorCount:this.totalErrorCount,totalCount:this.totalCount})},e.getErrorCount=function(){return this.elementInfos.filter(function(t){return t.hasError}).length},e.hasLoading=function(){return this.elementInfos.some(function(t){return t.hasLoading})},t}(t),R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.checkElement=function(){var t=this.element,e=t.getAttribute("src");return t.complete&&e?(t.naturalWidth||this.onAlreadyError(t),!1):(this.addEvents(),u&&t.setAttribute("src",e),!0)},e.EVENTS=["load","error"],e}(I),O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.checkElement=function(){var t=this.element;return!(1<=t.readyState)&&(t.error?(this.onAlreadyError(t),!1):(this.addEvents(),!0))},e.EVENTS=["loadedmetadata","error"],e}(I),M=function(e){function t(t){return void 0===t&&(t={}),e.call(this,l({loaders:{img:R,video:O}},t))||this}return s(t,e),t}(A);function z(){return(z=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function k(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function N(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var _,D="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign,H=["","webkit","Moz","MS","ms","o"],L="undefined"==typeof document?{style:{}}:document.createElement("div"),V="function",B=Math.round,F=Math.abs,j=Date.now;function X(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<H.length;){if((i=(n=H[o])?n+r:e)in t)return i;o++}}_="undefined"==typeof window?{}:window;var Y=X(L.style,"touchAction"),q=void 0!==Y;var W="compute",G="manipulation",U="none",Q="pan-x",Z="pan-y",J=function(){if(!q)return!1;var e={},n=_.CSS&&_.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return e[t]=!n||_.CSS.supports("touch-action",t)}),e}(),K="ontouchstart"in _,$=void 0!==X(_,"PointerEvent"),tt=K&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),et="touch",nt="mouse",it=25,rt=1,ot=4,st=8,at=1,lt=2,ut=4,ht=8,ct=16,dt=lt|ut,ft=ht|ct,pt=dt|ft,gt=["x","y"],vt=["clientX","clientY"];function mt(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function Pt(t,e){return typeof t===V?t.apply(e&&e[0]||void 0,e):t}function yt(t,e){return-1<t.indexOf(e)}var xt=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===W&&(t=this.compute()),q&&this.manager.element.style&&J[t]&&(this.manager.element.style[Y]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var e=[];return mt(this.manager.recognizers,function(t){Pt(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(t){if(yt(t,U))return U;var e=yt(t,Q),n=yt(t,Z);return e&&n?U:e||n?e?Q:Z:yt(t,G)?G:"auto"}(e.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=yt(i,U)&&!J[U],o=yt(i,Z)&&!J[Z],s=yt(i,Q)&&!J[Q];if(r){var a=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(a&&l&&u)return}if(!s||!o)return r||o&&n&dt||s&&n&ft?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function Et(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function Ct(t){var e=t.length;if(1===e)return{x:B(t[0].clientX),y:B(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:B(n/e),y:B(i/e)}}function bt(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:B(t.pointers[n].clientX),clientY:B(t.pointers[n].clientY)},n++;return{timeStamp:j(),pointers:e,center:Ct(e),deltaX:t.deltaX,deltaY:t.deltaY}}function wt(t,e,n){var i=e[(n=n||gt)[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function St(t,e,n){var i=e[(n=n||gt)[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function It(t,e){return t===e?at:F(t)>=F(e)?t<0?lt:ut:e<0?ht:ct}function Tt(t,e,n){return{x:e/t||0,y:n/t||0}}function At(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=bt(e)),1<r&&!n.firstMultiple?n.firstMultiple=bt(e):1===r&&(n.firstMultiple=!1);var o,s,a,l,u,h,c=n.firstInput,d=n.firstMultiple,f=d?d.center:c.center,p=e.center=Ct(i);e.timeStamp=j(),e.deltaTime=e.timeStamp-c.timeStamp,e.angle=St(f,p),e.distance=wt(f,p),o=n,a=(s=e).center,l=o.offsetDelta||{},u=o.prevDelta||{},h=o.prevInput||{},s.eventType!==rt&&h.eventType!==ot||(u=o.prevDelta={x:h.deltaX||0,y:h.deltaY||0},l=o.offsetDelta={x:a.x,y:a.y}),s.deltaX=u.x+(a.x-l.x),s.deltaY=u.y+(a.y-l.y),e.offsetDirection=It(e.deltaX,e.deltaY);var g,v,m,P,y,x,E,C,b,w,S,I,T,A,R,O=Tt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=O.x,e.overallVelocityY=O.y,e.overallVelocity=F(O.x)>F(O.y)?O.x:O.y,e.scale=d?(g=d.pointers,wt((v=i)[0],v[1],vt)/wt(g[0],g[1],vt)):1,e.rotation=d?(m=d.pointers,St((P=i)[1],P[0],vt)+St(m[1],m[0],vt)):0,e.maxPointers=!n.prevInput||e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers,x=e,A=(y=n).lastInterval||x,R=x.timeStamp-A.timeStamp,x.eventType!==st&&(it<R||void 0===A.velocity)?(w=(b=Tt(R,E=x.deltaX-A.deltaX,C=x.deltaY-A.deltaY)).x,S=b.y,I=F(b.x)>F(b.y)?b.x:b.y,T=It(E,C),y.lastInterval=x):(I=A.velocity,w=A.velocityX,S=A.velocityY,T=A.direction),x.velocity=I,x.velocityX=w,x.velocityY=S,x.direction=T;var M=t.element,z=e.srcEvent,k=z.composedPath?z.composedPath()[0]:z.path?z.path[0]:z.target;Et(k,M)&&(M=k),e.target=M}function Rt(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&rt&&i-r==0,s=e&(ot|st)&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,At(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function Ot(t){return t.trim().split(/\s+/g)}function Mt(e,t,n){mt(Ot(t),function(t){e.addEventListener(t,n,!1)})}function zt(e,t,n){mt(Ot(t),function(t){e.removeEventListener(t,n,!1)})}function kt(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Nt=function(){function t(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){Pt(e.options.enable,[e])&&n.handler(t)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Mt(this.element,this.evEl,this.domHandler),this.evTarget&&Mt(this.target,this.evTarget,this.domHandler),this.evWin&&Mt(kt(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&zt(this.element,this.evEl,this.domHandler),this.evTarget&&zt(this.target,this.evTarget,this.domHandler),this.evWin&&zt(kt(this.element),this.evWin,this.domHandler)},t}();function _t(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}var Dt={pointerdown:rt,pointermove:2,pointerup:ot,pointercancel:st,pointerout:st},Ht={2:et,3:"pen",4:nt,5:"kinect"},Lt="pointerdown",Vt="pointermove pointerup pointercancel";_.MSPointerEvent&&!_.PointerEvent&&(Lt="MSPointerDown",Vt="MSPointerMove MSPointerUp MSPointerCancel");var Bt=function(n){function i(){var t,e=i.prototype;return e.evEl=Lt,e.evWin=Vt,(t=n.apply(this,arguments)||this).store=t.manager.session.pointerEvents=[],t}return k(i,n),i.prototype.handler=function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Dt[i],o=Ht[t.pointerType]||t.pointerType,s=o===et,a=_t(e,t.pointerId,"pointerId");r&rt&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(ot|st)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))},i}(Nt);function Ft(t){return Array.prototype.slice.call(t,0)}var jt={touchstart:rt,touchmove:2,touchend:ot,touchcancel:st},Xt="touchstart touchmove touchend touchcancel",Yt=function(e){function n(){var t;return n.prototype.evTarget=Xt,(t=e.apply(this,arguments)||this).targetIds={},t}return k(n,e),n.prototype.handler=function(t){var e=jt[t.type],n=function(t,e){var n,i,r=Ft(t.touches),o=this.targetIds;if(e&(2|rt)&&1===r.length)return o[r[0].identifier]=!0,[r,r];var s=Ft(t.changedTouches),a=[],l=this.target;if(i=r.filter(function(t){return Et(t.target,l)}),e===rt)for(n=0;n<i.length;)o[i[n].identifier]=!0,n++;n=0;for(;n<s.length;)o[s[n].identifier]&&a.push(s[n]),e&(ot|st)&&delete o[s[n].identifier],n++;return a.length?[function(t,n,e){for(var i=[],r=[],o=0;o<t.length;){var s=n?t[o][n]:t[o];_t(r,s)<0&&i.push(t[o]),r[o]=s,o++}return e&&(i=n?i.sort(function(t,e){return t[n]>e[n]}):i.sort()),i}(i.concat(a),"identifier",!0),a]:void 0}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:et,srcEvent:t})},n}(Nt);var qt={mousedown:rt,mousemove:2,mouseup:ot},Wt="mousedown",Gt="mousemove mouseup",Ut=function(n){function i(){var t,e=i.prototype;return e.evEl=Wt,e.evWin=Gt,(t=n.apply(this,arguments)||this).pressed=!1,t}return k(i,n),i.prototype.handler=function(t){var e=qt[t.type];e&rt&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=ot),this.pressed&&(e&ot&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:nt,srcEvent:t}))},i}(Nt),Qt=2500,Zt=25;function Jt(t){var e,n,i=t.changedPointers[0];i.identifier===this.primaryTouch&&(e={x:i.clientX,y:i.clientY},n=this.lastTouches,this.lastTouches.push(e),setTimeout(function(){var t=n.indexOf(e);-1<t&&n.splice(t,1)},Qt))}var Kt=function(){return function(n){function t(t,e){var o=n.call(this,t,e)||this;return o.handler=function(t,e,n){var i=n.pointerType===et,r=n.pointerType===nt;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)(function(t,e){t&rt?(this.primaryTouch=e.changedPointers[0].identifier,Jt.call(this,e)):t&(ot|st)&&Jt.call(this,e)}).call(N(N(o)),e,n);else if(r&&function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(n-r.y);if(o<=Zt&&s<=Zt)return!0}return!1}.call(N(N(o)),n))return;o.callback(t,e,n)}},o.touch=new Yt(o.manager,o.handler),o.mouse=new Ut(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}return k(t,n),t.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(Nt)}();function $t(t,e,n){return Array.isArray(t)&&(mt(t,n[e],n),1)}var te=1;function ee(t,e){var n=e.manager;return n?n.get(t):t}function ne(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var ie=function(){function t(t){void 0===t&&(t={}),this.options=z({enable:!0},t),this.id=te++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return D(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if($t(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=ee(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},e.dropRecognizeWith=function(t){return $t(t,"dropRecognizeWith",this)||(t=ee(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if($t(t,"requireFailure",this))return this;var e=this.requireFail;return-1===_t(e,t=ee(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if($t(t,"dropRequireFailure",this))return this;t=ee(t,this);var e=_t(this.requireFail,t);return-1<e&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return 0<this.requireFail.length},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(e){var n=this,t=this.state;function i(t){n.manager.emit(t,e)}t<8&&i(n.options.event+ne(t)),i(n.options.event),e.additionalEvent&&i(e.additionalEvent),8<=t&&i(n.options.event+ne(t))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=32},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=D({},t);if(!Pt(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(){},e.getTouchAction=function(){},e.reset=function(){},t}(),re=function(e){function t(t){return void 0===t&&(t={}),e.call(this,z({pointers:1},t))||this}k(t,e);var n=t.prototype;return n.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},n.process=function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(n&st||!r)?16|e:i||r?n&ot?8|e:2&e?4|e:2:32},t}(ie);var oe=function(i){function t(t){var e;return void 0===t&&(t={}),(e=i.call(this,z({event:"pan",threshold:10,pointers:1,direction:pt},t))||this).pX=null,e.pY=null,e}k(t,i);var e=t.prototype;return e.getTouchAction=function(){var t=this.options.direction,e=[];return t&dt&&e.push(Z),t&ft&&e.push(Q),e},e.directionTest=function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(i=e.direction&dt?(r=0===o?at:o<0?lt:ut,n=o!==this.pX,Math.abs(t.deltaX)):(r=0===s?at:s<0?ht:ct,n=s!==this.pY,Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},e.attrTest=function(t){return re.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},e.emit=function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e,n=(e=t.direction)===ct?"down":e===ht?"up":e===lt?"left":e===ut?"right":"";n&&(t.additionalEvent=this.options.event+n),i.prototype.emit.call(this,t)},t}(re),se={domEvents:!1,touchAction:W,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function ae(n,i){var r,o=n.element;o.style&&(mt(n.options.cssProps,function(t,e){r=X(o.style,e),i?(n.oldCssProps[r]=o.style[r],o.style[r]=t):o.style[r]=n.oldCssProps[r]||""}),i||(n.oldCssProps={}))}var le=function(){function t(t,e){var n,i,r=this;this.options=D({},se,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=(i=(n=this).options.inputClass,new(i||($?Bt:tt?Yt:K?Kt:Ut))(n,Rt)),this.touchAction=new xt(this,this.options.touchAction),ae(this,!0),mt(this.options.recognizers,function(t){var e=r.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}var e=t.prototype;return e.set=function(t){return D(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e,n=this.session;if(!n.stopped){this.touchAction.preventDefaults(t);var i=this.recognizers,r=n.curRecognizer;(!r||r&&8&r.state)&&(r=n.curRecognizer=null);for(var o=0;o<i.length;)e=i[o],2===n.stopped||r&&e!==r&&!e.canRecognizeWith(r)?e.reset():e.recognize(t),!r&&14&e.state&&(r=n.curRecognizer=e),o++}},e.get=function(t){if(t instanceof ie)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event===t)return e[n];return null},e.add=function(t){if($t(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t},e.remove=function(t){if($t(t,"remove",this))return this;var e,n,i=this.get(t);return!t||-1!==(n=_t(e=this.recognizers,i))&&(e.splice(n,1),this.touchAction.update()),this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var n=this.handlers;return mt(Ot(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},e.off=function(t,e){if(void 0===t)return this;var n=this.handlers;return mt(Ot(t),function(t){e?n[t]&&n[t].splice(_t(n[t],e),1):delete n[t]}),this},e.emit=function(t,e){var n,i,r;this.options.domEvents&&(n=t,i=e,(r=document.createEvent("Event")).initEvent(n,!0,!0),(r.gesture=i).target.dispatchEvent(r));var o=this.handlers[t]&&this.handlers[t].slice();if(o&&o.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<o.length;)o[s](e),s++}},e.destroy=function(){this.element&&ae(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}();function ue(t,e){for(var n=t.length,i=0;i<n;++i)if(e(t[i],i))return!0;return!1}function he(t,e){for(var n=t.length,i=0;i<n;++i)if(e(t[i],i))return t[i];return null}function ce(t,e){try{return new RegExp(t,"g").exec(e)}catch(t){return null}}function de(t){return t.replace(/_/g,".")}function fe(t,r){var o=null,s="-1";return ue(t,function(t){var e,n,i=ce("("+t.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",r);return i&&!t.brand&&(o=t,s=i[3]||"-1",t.versionAlias?s=t.versionAlias:t.versionTest&&(e=t.versionTest.toLowerCase(),n=ce("("+e+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",r),s=(n?n[3]:"")||s),s=de(s),1)}),{preset:o,version:s}}function pe(t,n){return he(t,function(t){var e=t.brand;return ce(""+n.test,e.toLowerCase())})}var ge=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],ve=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",brand:!0}],me=[{test:"applewebkit",id:"webkit"}],Pe=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],ye=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"mac os x",id:"mac"},{test:"android",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function xe(t){var e=function(t){var e=t;if(void 0===e){if("undefined"==typeof navigator||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}(t),n=!!/mobi/g.exec(e),i={name:"unknown",version:"-1",majorVersion:-1,webview:!!fe(Pe,e).preset,chromium:!!fe(ve,e).preset,webkit:!1},r={name:"unknown",version:"-1",majorVersion:-1},o=fe(ge,e),s=o.preset,a=o.version,l=fe(ye,e),u=l.preset,h=l.version;return i.webkit=!i.chromium&&!!fe(me,e).preset,u&&(r.name=u.id,r.version=h,r.majorVersion=parseInt(h,10)),s&&(i.name=s.id,i.version=a,i.webview&&"ios"===r.name&&"safari"!==i.name&&(i.webview=!1)),i.majorVersion=parseInt(i.version,10),{browser:i,os:r,isMobile:n,isHints:!1}}var Ee=function(t,e){return(Ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Ce,be=function(){return(be=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function we(t,e,n,i){var r=t,o=[!n[0]&&i?e[0]-i[0]:e[0],!n[1]&&i?e[1]+i[1]:e[1]],r=Math.max(o[0],r);return Math.min(o[1],r)}function Se(t,e){return t<e[0]||t>e[1]}function Ie(t,e,n){return n[1]&&t>e[1]||n[0]&&t<e[0]}function Te(t,e,n){var i=t,r=e[0],o=e[1],s=o-r;return n[1]&&o<t&&(i=(i-o)%s+r),n[0]&&t<r&&(i=(i-r)%s+o),i}function Ae(t){for(var e=[],n=0,i=t.length;n<i;n++)e.push(t[n]);return e}var Re,Oe,Me=(Ce="undefined"==typeof window?{navigator:{userAgent:""}}:window).requestAnimationFrame||Ce.webkitRequestAnimationFrame,ze=Ce.cancelAnimationFrame||Ce.webkitCancelAnimationFrame;function ke(t,e){var n={};for(var i in t)i&&(n[i]=e(t[i],i));return n}function Ne(t,e){var n={};for(var i in t)i&&e(t[i],i)&&(n[i]=t[i]);return n}function _e(t,e){for(var n in t)if(n&&!e(t[n],n))return!1;return!0}function De(t,n){return _e(t,function(t,e){return t===n[e]})}Me&&!ze?(Re={},Oe=Me,Me=function(e){var n=Oe(function(t){Re[n]&&e(t)});return Re[n]=!0,n},ze=function(t){delete Re[t]}):Me&&ze||(Me=function(t){return Ce.setTimeout(function(){t(Ce.performance&&Ce.performance.now&&Ce.performance.now()||(new Date).getTime())},16)},ze=Ce.clearTimeout);var He={};function Le(t,e){var n,i;return He[e]||(He[e]=(i=(n=e)<1?Math.pow(10,Be(n)):1,function(t){return 0===n?0:Math.round(Math.round(t/n)*n*i)/i})),He[e](t)}function Ve(t,n){if(!t||!n)return t;var i="number"==typeof n;return ke(t,function(t,e){return Le(t,i?n:n[e])})}function Be(t){if(!isFinite(t))return 0;var e=t+"";if(0<=e.indexOf("e")){for(var n=0,i=1;Math.round(t*i)/i!==t;)i*=10,n++;return n}return 0<=e.indexOf(".")?e.length-e.indexOf(".")-1:0}function Fe(t,e,n){return Math.max(Math.min(t,n),e)}var je,Xe,Ye,qe,We,Ge,Ue,Qe,Ze,Je,Ke=function(){function t(t){var e=t.options,n=t.itm,i=t.em,r=t.axm;this.options=e,this.itm=n,this.em=i,this.axm=r,this.animationEnd=this.animationEnd.bind(this)}var e=t.prototype;return e.getDuration=function(o,t,e){var n,s=this;return Fe(void 0!==e?e:(n=ke(t,function(t,e){return n=Math.abs(t-o[e]),i=s.options.deceleration,(r=Math.sqrt(n/i*2))<100?0:r;var n,i,r}),Object.keys(n).reduce(function(t,e){return Math.max(t,n[e])},-1/0)),this.options.minimumDuration,this.options.maximumDuration)},e.createAnimationParam=function(t,e,n){var i=this.axm.get(),r=t,o=n&&n.event||null;return{depaPos:i,destPos:r,duration:Fe(e,this.options.minimumDuration,this.options.maximumDuration),delta:this.axm.getDelta(i,r),inputEvent:o,input:n&&n.input||null,isTrusted:!!o,done:this.animationEnd}},e.grab=function(t,e){var n,i,r;this._animateParam&&t.length&&(n=this.axm.get(t),_e(i=this.axm.map(n,function(t,e){return Te(t,e.range,e.circular)}),function(t,e){return n[e]===t})||this.em.triggerChange(i,!1,n,e,!!e),this._animateParam=null,this._raf&&(r=this._raf,ze(r)),this._raf=null,this.em.triggerAnimationEnd(!(!e||!e.event)))},e.getEventInfo=function(){return this._animateParam&&this._animateParam.input&&this._animateParam.inputEvent?{input:this._animateParam.input,event:this._animateParam.inputEvent}:null},e.restore=function(t){var e=this.axm.get(),n=this.axm.map(e,function(t,e){return Math.min(e.range[1],Math.max(e.range[0],t))});this.animateTo(n,this.getDuration(e,n),t)},e.animationEnd=function(){var t=this.getEventInfo();this._animateParam=null;var e=this.axm.filter(this.axm.get(),function(t,e){return Ie(t,e.range,e.circular)});0<Object.keys(e).length&&this.setTo(this.axm.map(e,function(t,e){return Te(t,e.range,e.circular)})),this.itm.setInterrupt(!1),this.em.triggerAnimationEnd(!!t),this.axm.isOutside()?this.restore(t):this.finish(!!t)},e.finish=function(t){this._animateParam=null,this.itm.setInterrupt(!1),this.em.triggerFinish(t)},e.animateLoop=function(r,o){var l,u,h,c,d,f,p,g;r.duration?(this._animateParam=be({},r),l=this._animateParam,u=this,h=l.destPos,c=l.depaPos,d=0,f=ke(c,function(t,e){return t<=h[e]?1:-1}),p=ke(h,function(t){return t}),g=(new Date).getTime(),l.startTime=g,function t(){u._raf=null;var e=(new Date).getTime(),s=(e-l.startTime)/r.duration,a=u.easing(s),n=u.axm.map(c,function(t,e,n){var i,r=1<=s?h[n]:t+l.delta[n]*(a-d),o=Te(r,e.range,e.circular);return r!==o&&(i=f[n]*(e.range[1]-e.range[0]),h[n]-=i,c[n]-=i),o}),i=!u.em.triggerChange(n,!1,c);if(c=n,g=e,1<=(d=a))return De(h=u.getFinalPos(h,p),u.axm.get(Object.keys(h)))||u.em.triggerChange(h,!0,c),void o();i?u.finish(!1):u._raf=Me(t)}()):(this.em.triggerChange(r.destPos,!0),o())},e.getFinalPos=function(t,n){var i=this;return ke(t,function(t,e){return t>=n[e]-1e-6&&t<=n[e]+1e-6?n[e]:Le(t,i.getRoundUnit(t,e))})},e.getRoundUnit=function(t,e){var n,i,r=this.options.round,o=null;return r||(n=this.axm.getAxisOptions(e),i=Math.max(Be(n.range[0]),Be(n.range[1]),Be(t)),o=1/Math.pow(10,i)),o||r},e.getUserControll=function(t){var e=t.setTo();return e.destPos=this.axm.get(e.destPos),e.duration=Fe(e.duration,this.options.minimumDuration,this.options.maximumDuration),e},e.animateTo=function(t,e,n){var i,r=this,o=this.createAnimationParam(t,e,n),s=be({},o.depaPos),a=this.em.triggerAnimationStart(o),l=this.getUserControll(o);!a&&this.axm.every(l.destPos,function(t,e){return Ie(t,e.range,e.circular)})&&console.warn("You can't stop the 'animation' event when 'circular' is true."),a&&!De(l.destPos,s)&&(i=n&&n.event||null,this.animateLoop({depaPos:s,destPos:l.destPos,duration:l.duration,delta:this.axm.getDelta(s,l.destPos),isTrusted:!!i,inputEvent:i,input:n&&n.input||null},function(){return r.animationEnd()}))},e.easing=function(t){return 1<t?1:this.options.easing(t)},e.setTo=function(t,e){void 0===e&&(e=0);var n=Object.keys(t);this.grab(n);var i=this.axm.get(n);if(De(t,i))return this;this.itm.setInterrupt(!0);var r=Ne(t,function(t,e){return i[e]!==t});return Object.keys(r).length&&(De(r=this.axm.map(r,function(t,e){var n=e.range,i=e.circular;return i&&(i[0]||i[1])?t:we(t,n,i)}),i)||(0<e?this.animateTo(r,e):(this.em.triggerChange(r),this.finish(!1)))),this},e.setBy=function(n,t){return void 0===t&&(t=0),this.setTo(ke(this.axm.get(Object.keys(n)),function(t,e){return t+n[e]}),t)},t}(),$e=function(){function t(t){this.axes=t}var e=t.prototype;return e.triggerHold=function(t,e){var n=this.getRoundPos(t).roundPos;this.axes.trigger("hold",{pos:n,input:e.input||null,inputEvent:e.event||null,isTrusted:!0})},e.triggerRelease=function(t){var e=this.getRoundPos(t.destPos,t.depaPos),n=e.roundPos,i=e.roundDepa;t.destPos=n,t.depaPos=i,t.setTo=this.createUserControll(t.destPos,t.duration),this.axes.trigger("release",t)},e.triggerChange=function(t,e,n,i,r){void 0===r&&(r=!1);var o=this.am,s=o.axm,a=o.getEventInfo(),l=this.getRoundPos(t,n),u=l.roundPos,h=l.roundDepa,c=s.moveTo(u,h),d=i&&i.event||a&&a.event||null,f={pos:c.pos,delta:c.delta,holding:r,inputEvent:d,isTrusted:!!d,input:i&&i.input||a&&a.input||null,set:d?this.createUserControll(c.pos):function(){}},p=this.axes.trigger("change",f);return d&&s.set(f.set().destPos),p},e.triggerAnimationStart=function(t){var e=this.getRoundPos(t.destPos,t.depaPos),n=e.roundPos,i=e.roundDepa;return t.destPos=n,t.depaPos=i,t.setTo=this.createUserControll(t.destPos,t.duration),this.axes.trigger("animationStart",t)},e.triggerAnimationEnd=function(t){void 0===t&&(t=!1),this.axes.trigger("animationEnd",{isTrusted:t})},e.triggerFinish=function(t){void 0===t&&(t=!1),this.axes.trigger("finish",{isTrusted:t})},e.createUserControll=function(t,e){void 0===e&&(e=0);var n={destPos:be({},t),duration:e};return function(t,e){return t&&(n.destPos=be({},t)),void 0!==e&&(n.duration=e),n}},e.setAnimationManager=function(t){this.am=t},e.destroy=function(){this.axes.off()},e.getRoundPos=function(t,e){var n=this.axes.options.round;return{roundPos:Ve(t,n),roundDepa:Ve(e,n)}},t}(),tn=function(){function t(t){this.options=t,this._prevented=!1}var e=t.prototype;return e.isInterrupting=function(){return this.options.interruptable||this._prevented},e.isInterrupted=function(){return!this.options.interruptable&&this._prevented},e.setInterrupt=function(t){this.options.interruptable||(this._prevented=t)},t}(),en=function(){function t(t,e){var n=this;this.axis=t,this.options=e,this._complementOptions(),this._pos=Object.keys(this.axis).reduce(function(t,e){return t[e]=n.axis[e].range[0],t},{})}var e=t.prototype;return e._complementOptions=function(){var r=this;Object.keys(this.axis).forEach(function(i){r.axis[i]=be({range:[0,100],bounce:[0,0],circular:[!1,!1]},r.axis[i]),["bounce","circular"].forEach(function(t){var e=r.axis,n=e[i][t];/string|number|boolean/.test(typeof n)&&(e[i][t]=[n,n])})})},e.getDelta=function(t,e){var n=this.get(t);return ke(this.get(e),function(t,e){return t-n[e]})},e.get=function(t){var n=this;return t&&Array.isArray(t)?t.reduce(function(t,e){return e&&e in n._pos&&(t[e]=n._pos[e]),t},{}):be({},this._pos,t||{})},e.moveTo=function(n,i){void 0===i&&(i=this._pos);var t=ke(this._pos,function(t,e){return e in n&&e in i?n[e]-i[e]:0});return this.set(this.map(n,function(t,e){return e?Te(t,e.range,e.circular):0})),{pos:be({},this._pos),delta:t}},e.set=function(t){for(var e in t)e&&e in this._pos&&(this._pos[e]=t[e])},e.every=function(t,n){var i=this.axis;return _e(t,function(t,e){return n(t,i[e],e)})},e.filter=function(t,n){var i=this.axis;return Ne(t,function(t,e){return n(t,i[e],e)})},e.map=function(t,n){var i=this.axis;return ke(t,function(t,e){return n(t,i[e],e)})},e.isOutside=function(t){return!this.every(t?this.get(t):this._pos,function(t,e){return!Se(t,e.range)})},e.getAxisOptions=function(t){return this.axis[t]},t}(),nn=function(){function t(t){var e=t.options,n=t.itm,i=t.em,r=t.axm,o=t.am;this.isOutside=!1,this.moveDistance=null,this.isStopped=!1,this.options=e,this.itm=n,this.em=i,this.axm=r,this.am=o}var e=t.prototype;return e.atOutside=function(t){var s=this;if(this.isOutside)return this.axm.map(t,function(t,e){var n=e.range[0]-e.bounce[0],i=e.range[1]+e.bounce[1];return i<t?i:t<n?n:t});var a=this.am.easing(1e-5)/1e-5;return this.axm.map(t,function(t,e){var n=e.range[0],i=e.range[1],r=e.bounce,o=e.circular;return o&&(o[0]||o[1])?t:t<n?n-s.am.easing((n-t)/(r[0]*a))*r[0]:i<t?i+s.am.easing((t-i)/(r[1]*a))*r[1]:t})},e.get=function(t){return this.axm.get(t.axes)},e.hold=function(t,e){var n;!this.itm.isInterrupted()&&t.axes.length&&(n={input:t,event:e},this.isStopped=!1,this.itm.setInterrupt(!0),this.am.grab(t.axes,n),this.moveDistance||this.em.triggerHold(this.axm.get(),n),this.isOutside=this.axm.isOutside(t.axes),this.moveDistance=this.axm.get(t.axes))},e.change=function(t,e,n){var i,r;this.isStopped||!this.itm.isInterrupting()||this.axm.every(n,function(t){return 0===t})||(r=ke(i=this.moveDistance||this.axm.get(t.axes),function(t,e){return t+(n[e]||0)}),this.moveDistance&&(this.moveDistance=r),this.isOutside&&this.axm.every(i,function(t,e){return!Se(t,e.range)})&&(this.isOutside=!1),i=this.atOutside(i),r=this.atOutside(r),this.em.triggerChange(r,!1,i,{input:t,event:e},!0)||(this.isStopped=!0,this.moveDistance=null,this.am.finish(!1)))},e.release=function(t,e,n,i){var r,o,s,a,l,u,h,c;!this.isStopped&&this.itm.isInterrupting()&&this.moveDistance&&(r=this.axm.get(t.axes),o=this.axm.get(),s=this.axm.get(this.axm.map(n,function(t,e,n){return e.circular&&(e.circular[0]||e.circular[1])?r[n]+t:we(r[n]+t,e.range,e.circular,e.bounce)})),0===(a=this.am.getDuration(s,r,i))&&(s=be({},o)),l={depaPos:o,destPos:s,duration:a,delta:this.axm.getDelta(o,s),inputEvent:e,input:t,isTrusted:!0},this.em.triggerRelease(l),this.moveDistance=null,c={input:t,event:e},(h=De((u=this.am.getUserControll(l)).destPos,o))||0===u.duration?(h||this.em.triggerChange(u.destPos,!1,o,c,!0),this.itm.setInterrupt(!1),this.axm.isOutside()?this.am.restore(c):this.em.triggerFinish(!0)):this.am.animateTo(u.destPos,u.duration,c))},t}(),rn="ontouchstart"in Ce&&-1<(void 0===(je=Ce.navigator.userAgent)&&function(){if("undefined"!=typeof navigator&&navigator&&navigator.userAgentData){var t=navigator.userAgentData,e=t.brands||t.uaList;return e&&e.length}}()?(We=navigator.userAgentData,Ge=(We.uaList||We.brands).slice(),Ue=We.mobile||!1,Qe=Ge[0],Ze={name:Qe.brand,version:Qe.version,majorVersion:-1,webkit:!1,webview:ue(Pe,function(t){return pe(Ge,t)}),chromium:ue(ve,function(t){return pe(Ge,t)})},Je={name:"unknown",version:"-1",majorVersion:-1},Ze.webkit=!Ze.chromium&&ue(me,function(t){return pe(Ge,t)}),Xe&&(Ye=Xe.platform.toLowerCase(),qe=he(ye,function(t){return new RegExp(""+t.test,"g").exec(Ye)}),Je.name=qe?qe.id:Ye,Je.version=Xe.platformVersion),ue(ge,function(t){var e=pe(Ge,t);return e&&(Ze.name=t.id,Ze.version=Xe?Xe.uaFullVersion:e.version,1)}),"Linux armv8l"===navigator.platform?Je.name="android":Ze.webkit&&(Je.name=Ue?"ios":"mac"),"ios"===Je.name&&Ze.webview&&(Ze.version="-1"),Je.version=de(Je.version),Ze.version=de(Ze.version),Je.majorVersion=parseInt(Je.version,10),Ze.majorVersion=parseInt(Ze.version,10),{browser:Ze,os:Je,isMobile:Ue,isHints:!0}):xe(je)).browser.name.indexOf("safari"),on=function(){if("undefined"==typeof document)return"";for(var t=(document.head||document.getElementsByTagName("head")[0]).style,e=["transform","webkitTransform","msTransform","mozTransform"],n=0,i=e.length;n<i;n++)if(e[n]in t)return e[n];return""}(),sn=function(r){function t(){this.constructor=e}var e,n;function i(t,e,n){void 0===t&&(t={}),void 0===e&&(e={});var i=r.call(this)||this;return i.axis=t,i._inputs=[],i.options=be({easing:function(t){return 1-Math.pow(1-t,3)},interruptable:!0,maximumDuration:1/0,minimumDuration:0,deceleration:6e-4,round:null},e),i.itm=new tn(i.options),i.axm=new en(i.axis,i.options),i.em=new $e(i),i.am=new Ke(i),i.io=new nn(i),i.em.setAnimationManager(i.am),n&&i.em.triggerChange(n),i}Ee(e=i,n=r),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t);var o=i.prototype;return o.connect=function(t,e){var n,i="string"==typeof t?t.split(" "):t.concat();return~this._inputs.indexOf(e)&&this.disconnect(e),"hammer"in e&&((n=this._inputs.filter(function(t){return t.hammer&&t.element===e.element})).length&&(e.hammer=n[0].hammer)),e.mapAxes(i),e.connect(this.io),this._inputs.push(e),this},o.disconnect=function(t){var e;return t?0<=(e=this._inputs.indexOf(t))&&(this._inputs[e].disconnect(),this._inputs.splice(e,1)):(this._inputs.forEach(function(t){return t.disconnect()}),this._inputs=[]),this},o.get=function(t){return this.axm.get(t)},o.setTo=function(t,e){return void 0===e&&(e=0),this.am.setTo(t,e),this},o.setBy=function(t,e){return void 0===e&&(e=0),this.am.setBy(t,e),this},o.isBounceArea=function(t){return this.axm.isOutside(t)},o.destroy=function(){this.disconnect(),this.em.destroy()},i.VERSION="2.7.0",i.TRANSFORM=on,i.DIRECTION_NONE=at,i.DIRECTION_LEFT=lt,i.DIRECTION_RIGHT=ut,i.DIRECTION_UP=ht,i.DIRECTION_DOWN=ct,i.DIRECTION_HORIZONTAL=dt,i.DIRECTION_VERTICAL=ft,i.DIRECTION_ALL=pt,i}(t),an="PointerEvent"in Ce||"MSPointerEvent"in Ce,ln="ontouchstart"in Ce,un="_EGJS_AXES_INPUTTYPE_";function hn(i,t){return t.reduce(function(t,e,n){return i[n]&&(t[i[n]]=e),t},{})}function cn(t,e,n){return n?!!(e===pt||e&t&&n&t):!!(e&t)}var dn=function(){function t(t,e){if(this.axes=[],this.hammer=null,this.element=null,this.panRecognizer=null,this.isRightEdge=!1,this.rightEdgeTimer=0,this.panFlag=!1,void 0===le)throw new Error("The Hammerjs must be loaded before eg.Axes.PanInput.\nhttp://hammerjs.github.io/");this.element=function e(t,n){var i,r;return void 0===n&&(n=!1),"string"==typeof t?(r=t.match(/^<([a-z]+)\s*([^>]*)>/)?((i=document.createElement("div")).innerHTML=t,Ae(i.childNodes)):Ae(document.querySelectorAll(t)),n||(r=1<=r.length?r[0]:void 0)):t===Ce||t.nodeName&&(1===t.nodeType||9===t.nodeType)?r=t:"jQuery"in Ce&&t instanceof jQuery||t.constructor.prototype.jquery?r=n?t.toArray():t.get(0):Array.isArray(t)&&(r=t.map(function(t){return e(t)}),n||(r=1<=r.length?r[0]:void 0)),r}(t),this.options=be({inputType:["touch","mouse","pointer"],scale:[1,1],thresholdAngle:45,threshold:0,iOSEdgeSwipeThreshold:30,hammerManagerOptions:{cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",userDrag:"none"}}},e),this.onHammerInput=this.onHammerInput.bind(this),this.onPanmove=this.onPanmove.bind(this),this.onPanend=this.onPanend.bind(this)}var e=t.prototype;return e.mapAxes=function(t){var e=!!t[0],n=!!t[1];this._direction=e&&n?pt:e?dt:n?ft:at,this.axes=t},e.connect=function(t){var e={direction:this._direction,threshold:this.options.threshold};if(this.hammer)this.removeRecognizer(),this.dettachEvent();else{var n=(n=this.element[un])||String(Math.round(Math.random()*(new Date).getTime())),i=function(t){void 0===t&&(t=[]);var e=!1,n=!1,i=!1;return t.forEach(function(t){switch(t){case"mouse":n=!0;break;case"touch":e=ln;break;case"pointer":i=an}}),i?Bt:e&&n?Kt:e?Yt:n?Ut:null}(this.options.inputType);if(!i)throw new Error("Wrong inputType parameter!");this.hammer=function(t,e){try{return new le(t,be({},e))}catch(t){return null}}(this.element,be({inputClass:i},this.options.hammerManagerOptions)),this.element[un]=n}return this.panRecognizer=new oe(e),this.hammer.add(this.panRecognizer),this.attachEvent(t),this},e.disconnect=function(){return this.removeRecognizer(),this.hammer&&this.dettachEvent(),this._direction=at,this},e.destroy=function(){this.disconnect(),this.hammer&&0===this.hammer.recognizers.length&&this.hammer.destroy(),delete this.element[un],this.element=null,this.hammer=null},e.enable=function(){return this.hammer&&(this.hammer.get("pan").options.enable=!0),this},e.disable=function(){return this.hammer&&(this.hammer.get("pan").options.enable=!1),this},e.isEnable=function(){return!(!this.hammer||!this.hammer.get("pan").options.enable)},e.removeRecognizer=function(){this.hammer&&this.panRecognizer&&(this.hammer.remove(this.panRecognizer),this.panRecognizer=null)},e.onHammerInput=function(t){var e;this.isEnable()&&(t.isFirst?(this.panFlag=!1)!==t.srcEvent.cancelable&&(e=this.options.iOSEdgeSwipeThreshold,this.observer.hold(this,t),this.isRightEdge=rn&&t.center.x>window.innerWidth-e,this.panFlag=!0):t.isFinal&&this.onPanend(t))},e.onPanmove=function(t){var e=this;if(this.panFlag){var n,i=function(t,e){if(e<0||90<e)return at;var n=Math.abs(t);return e<n&&n<180-e?ft:dt}(t.angle,this.options.thresholdAngle),r=this.hammer.session.prevInput;if(r&&rn){if(t.center.x<0)return void this.onPanend(be({},r,{velocityX:0,velocityY:0,offsetX:0,offsetY:0}));this.isRightEdge&&(clearTimeout(this.rightEdgeTimer),n=this.options.iOSEdgeSwipeThreshold,t.deltaX<-n?this.isRightEdge=!1:this.rightEdgeTimer=window.setTimeout(function(){e.onPanend(be({},r,{velocityX:0,velocityY:0,offsetX:0,offsetY:0}))},100))}r?(t.offsetX=t.deltaX-r.deltaX,t.offsetY=t.deltaY-r.deltaY):(t.offsetX=0,t.offsetY=0);var o,s=this.getOffset([t.offsetX,t.offsetY],[cn(dt,this._direction,i),cn(ft,this._direction,i)]),a=s.some(function(t){return 0!==t});a&&(!1!==(o=t.srcEvent).cancelable&&o.preventDefault(),o.stopPropagation()),(t.preventSystemEvent=a)&&this.observer.change(this,t,hn(this.axes,s))}},e.onPanend=function(t){var e,n,i,r,o;this.panFlag&&(clearTimeout(this.rightEdgeTimer),this.panFlag=!1,e=this.getOffset([Math.abs(t.velocityX)*(t.deltaX<0?-1:1),Math.abs(t.velocityY)*(t.deltaY<0?-1:1)],[cn(dt,this._direction),cn(ft,this._direction)]),n=e,i=this.observer.options.deceleration,r=Math.sqrt(n[0]*n[0]+n[1]*n[1]),o=Math.abs(r/-i),e=[n[0]/2*o,n[1]/2*o],this.observer.release(this,t,hn(this.axes,e)))},e.attachEvent=function(t){this.observer=t,this.hammer.on("hammer.input",this.onHammerInput).on("panstart panmove",this.onPanmove)},e.dettachEvent=function(){this.hammer.off("hammer.input",this.onHammerInput).off("panstart panmove",this.onPanmove),this.observer=null},e.getOffset=function(t,e){var n=[0,0],i=this.options.scale;return e[0]&&(n[0]=t[0]*i[0]),e[1]&&(n[1]=t[1]*i[1]),n},t}(),fn={SNAP:"snap",FREE_SCROLL:"freeScroll"},pn={snap:{type:"snap",count:1},freeScroll:{type:"freeScroll"}},gn="undefined"!=typeof document,vn={classPrefix:"eg-flick",deceleration:.0075,horizontal:!0,circular:!1,infinite:!1,infiniteThreshold:0,lastIndex:1/0,threshold:40,duration:100,panelEffect:function(t){return 1-Math.pow(1-t,3)},defaultIndex:0,inputType:["touch","mouse"],thresholdAngle:45,bounce:10,autoResize:!1,adaptive:!1,zIndex:2e3,bound:!1,overflow:!1,hanger:"50%",anchor:"50%",gap:0,moveType:pn.snap,useOffset:!1,isEqualSize:!1,isConstantSize:!1,renderOnlyVisible:!1,renderExternal:!1,resizeOnContentsReady:!1,iOSEdgeSwipeThreshold:30,collectStatistics:!0},mn={position:"relative",zIndex:vn.zIndex,overflow:"hidden"},Pn={width:"100%",height:"100%",willChange:"transform"},yn={position:"absolute"},xn={HOLD_START:"holdStart",HOLD_END:"holdEnd",MOVE_START:"moveStart",MOVE:"move",MOVE_END:"moveEnd",CHANGE:"change",RESTORE:"restore",SELECT:"select",NEED_PANEL:"needPanel",VISIBLE_CHANGE:"visibleChange",CONTENT_ERROR:"contentError"},En={HOLD:"hold",CHANGE:"change",RELEASE:"release",ANIMATION_END:"animationEnd",FINISH:"finish"},Cn=0,bn=1,wn=2,Sn=3,In=4,Tn={PREV:"PREV",NEXT:"NEXT"},An={prev:!0,next:!0,moveTo:!0,getIndex:!0,getAllPanels:!0,getCurrentPanel:!0,getElement:!0,getSize:!0,getPanel:!0,getPanelCount:!0,getStatus:!0,getVisiblePanels:!0,enableInput:!0,disableInput:!0,destroy:!0,resize:!0,setStatus:!0,isPlaying:!0},Rn=function(){var t={webkitTransform:"-webkit-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",OTransform:"-o-transform",transform:"transform"};if(!gn)return{name:t.transform,has3d:!0};var e=document.documentElement.style,n="";for(var i in t)i in e&&(n=i);if(!n)throw new Error("Browser doesn't support CSS3 2D Transforms.");var r=document.createElement("div");document.documentElement.insertBefore(r,null),r.style[n]="translate3d(1px, 1px, 1px)";var o=window.getComputedStyle(r).getPropertyValue(t[n]);r.parentElement.removeChild(r);var s={name:n,has3d:0<o.length&&"none"!==o};return Rn=function(){return s},s},On=Rn();function Mn(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.forEach(function(n){Object.keys(n).forEach(function(t){var e=n[t];i[t]=e})}),i}function zn(t){Array.isArray(t)||(t=[t]);var n=[];return t.forEach(function(t){if(kn(t)){var e=document.createElement("div");for(e.innerHTML=t,n.push.apply(n,Ln(e.children));e.firstChild;)e.removeChild(e.firstChild)}else n.push(t)}),n}function kn(t){return"string"==typeof t}function Nn(t,e){return t.classList?t.classList.contains(e):0<=t.className.split(" ").indexOf(e)}function _n(e,n){Object.keys(n).forEach(function(t){e.style[t]=n[t]})}function Dn(t,e,n){return Math.max(Math.min(t,n),e)}function Hn(t,e,n){return e<=t&&t<=n}function Ln(t){return[].slice.call(t)}function Vn(t,e,n){var i=null!=n?n:e/2,r=/(?:(\+|\-)\s*)?(\d+(?:\.\d+)?(%|px)?)/g;if("number"==typeof t)return Dn(t,0,e);for(var o=0,s=0,a=r.exec(t);null!=a;){var l=a[1],u=a[2],h=a[3],c=parseFloat(u);if(o<=0&&(l=l||"+"),!l)return i;"%"===h&&(c=c/100*e),s+="+"===l?c:-c,++o,a=r.exec(t)}return 0===o?i:Dn(s,0,e)}function Bn(t,e){var n=e[0],i=e[1],r=e[2];return i<t&&r-i?(t-i)/(r-i):t<i&&i-n?(t-i)/(i-n):t!==i&&r-n?(t-n)/(r-n):0}function Fn(t,e){for(var n=0;n<t.length;n+=1){var i=t[n];if(i&&e(i))return n}return-1}function jn(t){for(var e=[],n=0;n<t;n+=1)e[n]=n;return e}function Xn(t,e,n,i){var r=i?n-e+1:n-e;return t<e?t=n-(i?(e-t-1)%r:(e-t)%r):n<t&&(t=e+(i?(t-n-1)%r:(t-n)%r)),t}function Yn(t,e){e.className?t.setAttribute("class",e.className):t.removeAttribute("class"),e.style?t.setAttribute("style",e.style):t.removeAttribute("style")}function qn(t,e){var n;return e?{x:0,y:0,width:t.offsetWidth,height:t.offsetHeight}:{x:(n=t.getBoundingClientRect()).left,y:n.top,width:n.width,height:n.height}}var Wn=function(){function l(t,e,n){this.viewport=n,this.prevSibling=null,this.nextSibling=null,this.clonedPanels=[],this.state={index:e,position:0,relativeAnchorPosition:0,size:0,isClone:!1,isVirtual:!1,cloneIndex:-1,originalStyle:{className:"",style:""},cachedBbox:null},this.setElement(t)}var t=l.prototype;return t.resize=function(t){var n=this.state,e=this.viewport.options,i=t||this.getBbox();this.state.cachedBbox=i;var r=n.size;n.size=e.horizontal?i.width:i.height,r!==n.size&&(n.relativeAnchorPosition=Vn(e.anchor,n.size)),n.isClone||this.clonedPanels.forEach(function(t){var e=t.state;e.size=n.size,e.cachedBbox=n.cachedBbox,e.relativeAnchorPosition=n.relativeAnchorPosition})},t.unCacheBbox=function(){this.state.cachedBbox=null},t.getProgress=function(){var t=this.viewport,e=t.options,n=t.panelManager.getPanelCount(),i=t.getScrollAreaSize();return(e.circular?Math.floor(this.getPosition()/i)*n:0)+this.getIndex()-t.getCurrentProgress()},t.getOutsetProgress=function(){var t=this.viewport,e=[-this.getSize(),t.getRelativeHangerPosition()-this.getRelativeAnchorPosition(),t.getSize()];return Bn(this.getPosition()-t.getCameraPosition(),e)},t.getVisibleRatio=function(){var t=this.viewport,e=this.getSize(),n=this.getPosition()-t.getCameraPosition(),i=n+e,r=Math.min(t.getSize(),i)-Math.max(n,0);return 0<=r?r/e:0},t.focus=function(t){var e,n=this.viewport,i=n.getCurrentPanel();n.getHangerPosition()!==this.getAnchorPosition()&&i&&(e=i.getPosition()===this.getPosition()?"":xn.CHANGE,n.moveTo(this,n.findEstimatedPosition(this),e,null,t))},t.update=function(e,t){void 0===e&&(e=null),void 0===t&&(t=!0);var n=this.getIdenticalPanels();e&&n.forEach(function(t){e(t.getElement())}),t&&(n.forEach(function(t){t.unCacheBbox()}),this.viewport.addVisiblePanel(this),this.viewport.resize())},t.prev=function(){var t=this.viewport.options,e=this.prevSibling;if(!e)return null;var n=this.getIndex(),i=this.getPosition(),r=e.getIndex(),o=e.getPosition(),s=e.getSize(),a=1<n-r,l=t.infinite&&0<n&&n<r;if(a||l)return null;var u=i-s-t.gap,h=e;return o!==u&&(h=e.clone(e.getCloneIndex(),!0)).setPosition(u),h},t.next=function(){var t=this.viewport,e=t.options,n=this.nextSibling,i=t.panelManager.getLastIndex();if(!n)return null;var r=this.getIndex(),o=this.getPosition(),s=n.getIndex(),a=n.getPosition(),l=1<s-r,u=e.infinite&&r<i&&s<r;if(l||u)return null;var h=o+this.getSize()+e.gap,c=n;return a!==h&&(c=n.clone(n.getCloneIndex(),!0)).setPosition(h),c},t.insertBefore=function(t){var e=this.viewport,n=zn(t),i=e.panelManager.firstPanel(),r=this.prevSibling,o=r&&i.getIndex()!==this.getIndex()?Math.max(r.getIndex()+1,this.getIndex()-n.length):Math.max(this.getIndex()-n.length,0);return e.insert(o,n)},t.insertAfter=function(t){return this.viewport.insert(this.getIndex()+1,t)},t.remove=function(){return this.viewport.remove(this.getIndex()),this},t.destroy=function(t){var e;for(var n in t.preserveUI||(e=this.state.originalStyle,Yn(this.element,e)),this)this[n]=null},t.getElement=function(){return this.element},t.getAnchorPosition=function(){return this.state.position+this.state.relativeAnchorPosition},t.getRelativeAnchorPosition=function(){return this.state.relativeAnchorPosition},t.getIndex=function(){return this.state.index},t.getPosition=function(){return this.state.position},t.getSize=function(){return this.state.size},t.getBbox=function(){var t,e,n=this.state,i=this.viewport,r=this.element,o=i.options;return r?n.cachedBbox||(t=Boolean(r.parentNode),e=i.getCameraElement(),t||(e.appendChild(r),i.addVisiblePanel(this)),n.cachedBbox=qn(r,o.useOffset),!t&&i.options.renderExternal&&e.removeChild(r)):n.cachedBbox={x:0,y:0,width:0,height:0},n.cachedBbox},t.isClone=function(){return this.state.isClone},t.getOverlappedClass=function(t){for(var e=this.element,n=0,i=t;n<i.length;n++){var r=i[n];if(Nn(e,r))return r}},t.getCloneIndex=function(){return this.state.cloneIndex},t.getClonedPanels=function(){return this.state.isClone?this.original.getClonedPanels():this.clonedPanels},t.getIdenticalPanels=function(){return this.state.isClone?this.original.getIdenticalPanels():P([this],this.clonedPanels)},t.getOriginalPanel=function(){return this.state.isClone?this.original:this},t.setIndex=function(e){this.state.index=e,this.clonedPanels.forEach(function(t){return t.state.index=e})},t.setPosition=function(t){return this.state.position=t,this},t.setPositionCSS=function(t){var e,n,i,r,o,s;void 0===t&&(t=0),this.element&&(n=(e=this.state).position,i=this.viewport.options,r=this.element.style,o=i.horizontal?r.left:r.top,s=n-t+"px",e.isVirtual||o===s||(i.horizontal?r.left=s:r.top=s))},t.clone=function(t,e,n){void 0===e&&(e=!1);var i=this.state,r=this.viewport,o=n;!o&&this.element&&(o=e?this.element:this.element.cloneNode(!0));var s=new l(o,i.index,r),a=s.state;return s.original=i.isClone?this.original:this,a.isClone=!0,a.isVirtual=e,a.cloneIndex=t,a.size=i.size,a.relativeAnchorPosition=i.relativeAnchorPosition,a.originalStyle=i.originalStyle,a.cachedBbox=i.cachedBbox,e?(s.prevSibling=this.prevSibling,s.nextSibling=this.nextSibling):this.clonedPanels.push(s),s},t.removeElement=function(){var t;this.viewport.options.renderExternal||(t=this.element).parentNode&&t.parentNode.removeChild(t),this.state.isClone||this.removeClonedPanelsAfter(0)},t.removeClonedPanelsAfter=function(t){var e=this.viewport.options,n=this.clonedPanels.splice(t);e.renderExternal||n.forEach(function(t){t.removeElement()})},t.setElement=function(t){var e,n,i,r,o;!t||t!==(e=this.element)&&(n=this.viewport.options,e?n.horizontal?t.style.left=e.style.left:t.style.top=e.style.top:((i=this.state.originalStyle).className=t.getAttribute("class"),i.style=t.getAttribute("style")),this.element=t,n.classPrefix&&(r=t,o=n.classPrefix+"-panel",r.classList?r.classList.add(o):Nn(r,o)||(r.className=(r.className+" "+o).replace(/\s{2,}/g," "))),_n(this.element,yn))},l}(),Gn=function(){function t(t,e){this.cameraElement=t,this.panels=[],this.clones=[],this.range={min:-1,max:-1},this.length=0,this.cloneCount=0,this.options=e,this.lastIndex=e.lastIndex}var e=t.prototype;return e.firstPanel=function(){return this.panels[this.range.min]},e.lastPanel=function(){return this.panels[this.range.max]},e.allPanels=function(){return P(this.panels,this.clones.reduce(function(t,e){return P(t,e)},[]))},e.originalPanels=function(){return this.panels},e.clonedPanels=function(){return this.clones},e.replacePanels=function(t,e){this.panels=t,this.clones=e,this.range={min:Fn(t,function(t){return Boolean(t)}),max:t.length-1},this.length=t.filter(function(t){return Boolean(t)}).length},e.has=function(t){return!!this.panels[t]},e.get=function(t){return this.panels[t]},e.getPanelCount=function(){return this.length},e.getLastIndex=function(){return this.lastIndex},e.getRange=function(){return this.range},e.getCloneCount=function(){return this.cloneCount},e.setLastIndex=function(t){this.lastIndex=t;var e,n,i,r=this.firstPanel(),o=this.lastPanel();r&&o&&(e=this.range,o.getIndex()>t&&(n=this.panels.splice(t+1),this.length-=n.length,(i=n.filter(function(t){return!!t})[0].prevSibling)?e.max=i.getIndex():(e.min=-1,e.max=-1),this.shouldRender()&&n.forEach(function(t){return t.removeElement()})))},e.setCloneCount=function(t){this.cloneCount=t},e.insert=function(n,t){var i=this.panels,e=this.range,r=this.options.circular,o=this.lastIndex,s=this.findFirstPanelFrom(n),a=this.firstPanel(),l=s?s.getElement():r&&a?a.getClonedPanels()[0].getElement():null;this.insertNewPanels(t,l);var u,h,c,d,f,p,g=t.length;return n>e.max?t.forEach(function(t,e){i[n+e]=t}):((h=Fn(u=i.slice(n,n+t.length),function(t){return t}))<0&&(h=u.length),g=t.length-h,i.splice.apply(i,P([n,h],t)),i.length>o+1&&(c=i.splice(o+1).filter(function(t){return Boolean(t)}),this.length-=c.length,d=o-Fn(this.panels.concat().reverse(),function(t){return t}),this.panels.splice(1+d),this.range.max=d,this.shouldRender()&&c.forEach(function(t){return t.removeElement()}))),0<g&&i.slice(n+t.length).forEach(function(t){t.setIndex(t.getIndex()+g)}),this.length+=t.length,this.updateIndex(n),r&&(this.addNewClones(n,t,t.length-g,s),f=this.clones,p=this.panels.length,f[0]&&f[0].length>o+1&&f.forEach(function(t){t.splice(p)})),g},e.replace=function(t,e){var n=this.panels,i=this.range,r=this.options.circular,o=this.findFirstPanelFrom(t+e.length),s=this.firstPanel(),a=o?o.getElement():r&&s?s.getClonedPanels()[0].getElement():null;this.insertNewPanels(e,a),t>i.max&&(n[t]=null);var l=n.splice.apply(n,P([t,e.length],e)),u=l.filter(function(t){return Boolean(t)}).length;return this.length+=e.length-u,this.updateIndex(t),r&&this.addNewClones(t,e,e.length,o),this.shouldRender()&&l.forEach(function(t){return t&&t.removeElement()}),l},e.remove=function(e,n){void 0===n&&(n=1);var t=this.options.circular,i=this.panels,r=this.clones;n=Math.max(n,0);var o=i.splice(e,n).filter(function(t){return!!t});this.shouldRender()&&o.forEach(function(t){return t.removeElement()}),t&&r.forEach(function(t){t.splice(e,n)}),i.slice(e).forEach(function(t){t.setIndex(t.getIndex()-n)});var s,a=i.length-1;return i[a]||(s=Fn(i.concat().reverse(),function(t){return t}),a=s<0?-1:a-s,i.splice(a+1),t&&r.forEach(function(t){t.splice(a+1)})),this.range={min:Fn(i,function(t){return t}),max:a},this.length-=o.length,this.length<=0&&(this.clones=[],this.cloneCount=0),o},e.chainAllPanels=function(){var t,e,r=this.allPanels().filter(function(t){return!!t}),n=r.length;n<=1||(r.slice(1,r.length-1).forEach(function(t,e){var n=r[e],i=r[e+2];t.prevSibling=n,t.nextSibling=i}),t=r[0],e=r[n-1],t.prevSibling=null,t.nextSibling=r[1],e.prevSibling=r[n-2],e.nextSibling=null,this.options.circular&&((t.prevSibling=e).nextSibling=t))},e.insertClones=function(t,n,e,i){void 0===i&&(i=0);var r,o,s=this.clones,a=this.lastIndex;s[t]?(r=s[t],n>=r.length?e.forEach(function(t,e){r[n+e]=t}):(r.splice.apply(r,P([n,i],e)),e.length>a+1&&e.splice(a+1))):(o=[],e.forEach(function(t,e){o[n+e]=t}),s[t]=o)},e.removeClonesAfter=function(e){this.panels.forEach(function(t){t.removeClonedPanelsAfter(e)}),this.clones.splice(e)},e.findPanelOf=function(t){for(var e=0,n=this.allPanels();e<n.length;e++){var i=n[e];if(i)if(i.getElement().contains(t))return i}},e.findFirstPanelFrom=function(t){for(var e=0,n=this.panels.slice(t);e<n.length;e++){var i=n[e];if(i&&i.getIndex()>=t&&i.getElement().parentNode)return i}},e.addNewClones=function(o,s,a,t){for(var l=this,u=this.cameraElement,e=this.getCloneCount(),n=this.lastPanel(),h=n?n.getClonedPanels():[],c=t?t.getClonedPanels():[],d=this,i=0,r=jn(e);i<r.length;i++){!function(n){var t=c[n],e=h[n],i=t?t.getElement():e?e.getElement().nextElementSibling:null,r=s.map(function(t){var e=t.clone(n);return l.shouldRender()&&u.insertBefore(e.getElement(),i),e});d.insertClones(n,o,r,a)}(r[i])}},e.updateIndex=function(t){var e=this.panels,n=this.range,i=e.length-1;i>n.max&&(n.max=i),(t<n.min||n.min<0)&&(n.min=t)},e.insertNewPanels=function(t,e){var n;this.shouldRender()&&(n=document.createDocumentFragment(),t.forEach(function(t){return n.appendChild(t.getElement())}),this.cameraElement.insertBefore(n,e))},e.shouldRender=function(){var t=this.options;return!t.renderExternal&&!t.renderOnlyVisible},t}(),Un=function(){function t(){this.delta=0,this.direction=null,this.targetPanel=null,this.lastPosition=0}var e=t.prototype;return e.onEnter=function(t){this.delta=t.delta,this.direction=t.direction,this.targetPanel=t.targetPanel,this.lastPosition=t.lastPosition},e.onExit=function(t){},e.onHold=function(t,e){},e.onChange=function(t,e){},e.onRelease=function(t,e){},e.onAnimationEnd=function(t,e){},e.onFinish=function(t,e){},t}(),Qn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=Cn,t.holding=!1,t.playing=!1,t}r(t,e);var n=t.prototype;return n.onEnter=function(){this.direction=null,this.targetPanel=null,this.delta=0,this.lastPosition=0},n.onHold=function(t,e){var n=e.flicking,i=e.viewport,r=e.triggerEvent,o=e.transitTo;if(n.getPanelCount()<=0)return i.options.infinite&&i.moveCamera(i.getCameraPosition(),t),void o(In);this.lastPosition=i.getCameraPosition(),r(xn.HOLD_START,t,!0).onSuccess(function(){o(bn)}).onStopped(function(){o(In)})},n.onChange=function(t,e){var n=e.triggerEvent,i=e.transitTo;n(xn.MOVE_START,t,!1).onSuccess(function(){i(Sn).onChange(t,e)}).onStopped(function(){i(In)})},t}(Un),Zn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=bn,t.holding=!0,t.playing=!0,t.releaseEvent=null,t}r(t,e);var n=t.prototype;return n.onChange=function(t,e){var n=e.flicking,i=e.triggerEvent,r=e.transitTo,o=n.options.horizontal?t.inputEvent.offsetX:t.inputEvent.offsetY;this.direction=o<0?Tn.NEXT:Tn.PREV,i(xn.MOVE_START,t,!0).onSuccess(function(){r(wn).onChange(t,e)}).onStopped(function(){r(In)})},n.onRelease=function(t,e){var n=e.viewport,i=e.triggerEvent,r=e.transitTo;if(i(xn.HOLD_END,t,!0),0!==t.delta.flick)return t.setTo({flick:n.getCameraPosition()},0),void r(Cn);this.releaseEvent=t},n.onFinish=function(t,e){var n,i,r,o,s,a,l=e.viewport,u=e.triggerEvent;(0,e.transitTo)(Cn),this.releaseEvent&&(r="touchend"===(n=this.releaseEvent.inputEvent.srcEvent).type?(i=n.changedTouches[0],document.elementFromPoint(i.clientX,i.clientY)):n.target,o=l.panelManager.findPanelOf(r),s=l.getCameraPosition(),o&&(a=o.getPosition(),u(xn.SELECT,null,!0,{direction:s<a?Tn.NEXT:a<s?Tn.PREV:null,index:o.getIndex(),panel:o})))},t}(Un),Jn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=wn,t.holding=!0,t.playing=!0,t}r(t,e);var n=t.prototype;return n.onChange=function(t,e){var n=e.moveCamera,i=e.transitTo;t.delta.flick&&n(t).onStopped(function(){i(In)})},n.onRelease=function(t,e){var n=e.flicking,i=e.viewport,r=e.triggerEvent,o=e.transitTo,s=e.stopCamera,a=this.delta,l=Math.abs(a),u=n.options,h=u.horizontal,c=i.moveType,d=t.inputEvent,f=h?d.velocityX:d.velocityY,p=h?d.deltaX:d.deltaY,g=1<Math.abs(f)?f<0:0<l?0<a:p<0,v=i.options.bound?Math.max(l,Math.abs(p)):l,m=d.deltaX?Math.abs(180*Math.atan(d.deltaY/d.deltaX)/Math.PI):90,P=h?m<=u.thresholdAngle:m>u.thresholdAngle,y=v>=u.threshold&&P,x={viewport:i,axesEvent:t,state:this,swipeDistance:v,isNextDirection:g};r(xn.HOLD_END,t,!0);var E=this.targetPanel;if(!y&&E){var C=c.findPanelWhenInterrupted(x);return i.moveTo(C.panel,C.destPos,C.eventType,t,C.duration),void o(Sn)}var b=i.getCurrentPanel(),w=i.getNearestPanel();if(!b||!w)return t.stop(),void o(Cn);var S=y?c.findTargetPanel(x):c.findRestorePanel(x);i.moveTo(S.panel,S.destPos,S.eventType,t,S.duration).onSuccess(function(){o(Sn)}).onStopped(function(){o(In),s(t)})},t}(Un),Kn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=Sn,t.holding=!1,t.playing=!0,t}r(t,e);var n=t.prototype;return n.onHold=function(t,e){var n,i,r,o,s,a=e.viewport,l=e.triggerEvent,u=e.transitTo,h=a.options,c=a.getScrollArea(),d=a.getScrollAreaSize(),f=Math.floor((this.lastPosition+this.delta-c.prev)/d),p=this.targetPanel;h.circular&&0!==f&&p&&(n=a.panelManager.getCloneCount(),i=p.getPosition(),r=Xn(p.getCloneIndex()-f,-1,n-1,!0),o=i-f*d,(s=p.getIdenticalPanels()[r+1].clone(r,!0)).setPosition(o),this.targetPanel=s),this.delta=0,this.lastPosition=a.getCameraPosition(),a.setCurrentPanel(a.getNearestPanel()),l(xn.HOLD_START,t,!0).onSuccess(function(){u(wn)}).onStopped(function(){u(In)})},n.onChange=function(t,e){var n=e.moveCamera,i=e.transitTo;t.delta.flick&&n(t).onStopped(function(){i(In)})},n.onFinish=function(t,e){var n=e.flicking,i=e.viewport,r=e.triggerEvent,o=e.transitTo,s=t&&t.isTrusted;i.options.bound?i.setCurrentPanel(this.targetPanel):i.setCurrentPanel(i.getNearestPanel()),n.options.adaptive&&i.updateAdaptiveSize(),o(Cn),i.updateCameraPosition(),r(xn.MOVE_END,t,s,{direction:this.direction})},t}(Un),$n=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=In,t.holding=!1,t.playing=!0,t}r(t,e);var n=t.prototype;return n.onAnimationEnd=function(t,e){(0,e.transitTo)(Cn)},n.onChange=function(t,e){var n=e.viewport,i=e.transitTo;t.stop(),n.updateAxesPosition(n.getCameraPosition()),i(Cn)},n.onRelease=function(t,e){var n=e.transitTo;0===t.delta.flick&&n(Cn)},t}(Un),ti=function(){function t(){var i=this;this.state=new Qn,this.transitTo=function(t){var e=i.state;if(e.type!==t){var n=void 0;switch(t){case Cn:n=new Qn;break;case bn:n=new Zn;break;case wn:n=new Jn;break;case Sn:n=new Kn;break;case In:n=new $n}e.onExit(n),n.onEnter(e),i.state=n}return i.state}}var e=t.prototype;return e.fire=function(t,e,n){var i=this.state;switch(t){case En.HOLD:i.onHold(e,n);break;case En.CHANGE:i.onChange(e,n);break;case En.RELEASE:i.onRelease(e,n);break;case En.ANIMATION_END:i.onAnimationEnd(e,n);break;case En.FINISH:i.onFinish(e,n)}},e.getState=function(){return this.state},t}(),ei=function(n){function t(t){var e=n.call(this)||this;return e.type=fn.SNAP,e.count=t,e}r(t,n);var e=t.prototype;return e.findTargetPanel=function(t){var e=t.viewport,n=t.axesEvent,i=t.swipeDistance,r=this.count,o=Math.abs(n.delta.flick),s=e.getCurrentPanel(),a=e.getNearestPanel(),l=this.calcBrinkOfChange(t),u=a.getIndex()===s.getIndex(),h=e.canSetBoundMode()&&u,c=!e.isOutOfBound()&&(i<=l||h);return 1<r&&l<o?this.findSnappedPanel(t):c?this.findAdjacentPanel(t):{panel:a,duration:e.options.duration,destPos:e.findEstimatedPosition(a),eventType:i<=l||e.isOutOfBound()&&u?xn.RESTORE:xn.CHANGE}},e.findSnappedPanel=function(t){for(var e=t.axesEvent,n=t.viewport,i=t.state,r=t.isNextDirection,o=Math.abs(e.delta.flick),s=this.calcBrinkOfChange(t),a=this.count,l=n.options,u=n.getScrollAreaSize(),h=l.gap/2,c=e.destPos.flick+n.getRelativeHangerPosition(),d=n.getNearestPanel(),f=d.getCloneIndex()+1,p=0;p<a;){var g=d.getOriginalPanel(),v=g.getPosition()+f*u,m=g.getSize();if(r&&c<v+m+h||!r&&v-h<c)break;var P=r?d.nextSibling:d.prevSibling;if(!P)break;var y=d.getIndex(),x=P.getIndex();(r&&x<=y||!r&&y<=x)&&(f=r?f+1:f-1),d=P,p+=1}var E=d.getOriginalPanel().getPosition();0!==f&&(d=d.clone(d.getCloneIndex(),!0)).setPosition(E+f*u);var C=n.options.duration,b=Dn(e.duration,C,C*p);return{panel:d,destPos:n.findEstimatedPosition(d),duration:b,eventType:Math.max(o,i.delta)>s?xn.CHANGE:xn.RESTORE}},e.findAdjacentPanel=function(t){var e=t.viewport,n=t.isNextDirection,i=e.options,r=e.getCurrentIndex(),o=e.panelManager.get(r),s=e.getHangerPosition(),a=e.getScrollArea(),l=o.getIdenticalPanels()[1],u=i.circular&&Math.abs(o.getAnchorPosition()-s)>Math.abs(l.getAnchorPosition()-s)?l:o,h=u.getPosition(),c=n?u.nextSibling:u.prevSibling,d=c?xn.CHANGE:xn.RESTORE,f=c||u,p=f.getRelativeAnchorPosition(),g=(i.circular?n?h+u.getSize()+p+i.gap:h-(f.getSize()-p)-i.gap:f.getAnchorPosition())-e.getRelativeHangerPosition();return{panel:f,destPos:e.canSetBoundMode()?Dn(g,a.prev,a.next):g,duration:i.duration,eventType:d}},t}(function(){function t(){}var e=t.prototype;return e.is=function(t){return t===this.type},e.findRestorePanel=function(t){var e=t.viewport,n=e.options,i=n.circular?this.findRestorePanelInCircularMode(t):e.getCurrentPanel();return{panel:i,destPos:e.findEstimatedPosition(i),duration:n.duration,eventType:xn.RESTORE}},e.findPanelWhenInterrupted=function(t){var e=t.state,n=t.viewport,i=e.targetPanel;return{panel:i,destPos:n.findEstimatedPosition(i),duration:n.options.duration,eventType:""}},e.calcBrinkOfChange=function(t){var e=t.viewport,n=t.isNextDirection,i=e.options,r=e.getCurrentPanel(),o=i.gap/2,s=r.getRelativeAnchorPosition(),a=n?r.getSize()-s+o:s+o;return a=Math.max(a,i.threshold)},e.findRestorePanelInCircularMode=function(t){var e=t.viewport,n=e.getCurrentPanel().getOriginalPanel(),i=e.getHangerPosition(),r=n.getIdenticalPanels()[1],o=Math.abs(n.getAnchorPosition()-i)>Math.abs(r.getAnchorPosition()-i);return!t.isNextDirection&&o?r:n},t}()),ni=function(c){function t(){var t=c.call(this,1/0)||this;return t.type=fn.FREE_SCROLL,t}r(t,c);var e=t.prototype;return e.findTargetPanel=function(t){var e=t.axesEvent,n=t.state,i=t.viewport,r=e.destPos.flick,o=this.calcBrinkOfChange(t),s=i.getScrollArea(),a=i.getCurrentPanel(),l=i.options;if(o<Math.abs(e.delta.flick+n.delta)){var u=c.prototype.findSnappedPanel.call(this,t);return u.duration=e.duration,u.destPos=r,u.eventType=l.circular||u.panel!==a?xn.CHANGE:"",u}var h=Dn(h=l.circular?Xn(r,s.prev,s.next,!1):r,s.prev,s.next);return h+=i.getRelativeHangerPosition(),{panel:i.findNearestPanelAt(h),destPos:r,duration:e.duration,eventType:""}},e.findRestorePanel=function(t){return this.findTargetPanel(t)},e.findPanelWhenInterrupted=function(t){var e=t.viewport;return{panel:e.getNearestPanel(),destPos:e.getCameraPosition(),duration:0,eventType:""}},e.calcBrinkOfChange=function(t){var e=t.viewport,n=t.isNextDirection,i=e.options,r=e.getCurrentPanel(),o=i.gap/2,s=e.stateMachine.getState().lastPosition,a=r.getPosition(),l=s+e.getRelativeHangerPosition(),u=e.getScrollAreaSize(),h=n?a+r.getSize()-l+o:l-a+o,h=Math.abs(h%u);return Math.min(h,u-h)},t}(ei),ii=function(){function t(t,e,n){var i=this;this.plugins=[],this.stopCamera=function(t){t&&t.setTo&&t.setTo({flick:i.state.position},0),i.stateMachine.transitTo(Cn)},this.flicking=t,this.triggerEvent=n,this.state={size:0,position:0,panelMaintainRatio:0,relativeHangerPosition:0,positionOffset:0,scrollArea:{prev:0,next:0},translate:On,infiniteThreshold:0,checkedIndexes:[],isAdaptiveCached:!1,isViewportGiven:!1,isCameraGiven:!1,originalViewportStyle:{className:null,style:null},originalCameraStyle:{className:null,style:null},cachedBbox:null},this.options=e,this.stateMachine=new ti,this.visiblePanels=[],this.panelBboxes={},this.build()}var e=t.prototype;return e.moveTo=function(t,e,n,i,r){var o=this;void 0===r&&(r=this.options.duration);var s=this.state,a=this.stateMachine.getState(),l=s.position,u=!!i&&i.isTrusted,h=e===l?null:l<e?Tn.NEXT:Tn.PREV,c=n===xn.CHANGE?this.triggerEvent(xn.CHANGE,i,u,{index:t.getIndex(),panel:t,direction:h}):n===xn.RESTORE?this.triggerEvent(xn.RESTORE,i,u):{onSuccess:function(t){return t(),this},onStopped:function(){return this}};return c.onSuccess(function(){a.delta=0,a.lastPosition=o.getCameraPosition(),a.targetPanel=t,a.direction=e===l?null:l<e?Tn.NEXT:Tn.PREV,e===l&&(o.nearestPanel=t,o.currentPanel=t),i&&i.setTo?i.setTo({flick:e},r):o.axes.setTo({flick:e},r)}),c},e.moveCamera=function(t,e){var n=this.state,i=this.options,r=n.translate.name,o=n.scrollArea;i.circular&&!Hn(t,o.prev,o.next)&&(t=Xn(t,o.prev,o.next,!1)),n.position=t,this.nearestPanel=this.findNearestPanel();var s,a,l,u,h=this.nearestPanel,c=h?h.getPosition():0;h?(s=this.getHangerPosition(),a=h.getPosition(),l=h.getSize(),u=i.gap/2,n.panelMaintainRatio=(s-a+u)/(l+2*u)):n.panelMaintainRatio=0,this.checkNeedPanel(e),t+=(h?h.getPosition():0)-c,n.position=t,this.updateVisiblePanels();var d=i.renderOnlyVisible?n.positionOffset:0,f=(i.horizontal?[-(t-d),0]:[0,-(t-d)]).map(function(t){return Math.round(t)+"px"}).join(", ");this.cameraElement.style[r]=n.translate.has3d?"translate3d("+f+", 0px)":"translate("+f+")"},e.unCacheBbox=function(){var t=this.state,e=this.options;t.cachedBbox=null,this.visiblePanels=[];var n=this.viewportElement;e.horizontal?n.style.height="":n.style.width="",t.isAdaptiveCached=!1,this.panelBboxes={}},e.resize=function(){this.updateSize(),this.updateOriginalPanelPositions(),this.updateAdaptiveSize(),this.updateScrollArea(),this.updateClonePanels(),this.updateVisiblePanelPositions(),this.updateCameraPosition(),this.updatePlugins()},e.findNearestPanel=function(){var t=this.state,e=this.panelManager,n=this.getHangerPosition();return this.isOutOfBound()?t.position<=t.scrollArea.prev?e.firstPanel():e.lastPanel():this.findNearestPanelAt(n)},e.findNearestPanelAt=function(t){for(var e,n=1/0,i=0,r=this.panelManager.allPanels();i<r.length;i++){var o=r[i];if(o){var s=o.getPosition(),a=s+o.getSize(),l=Hn(t,s,a)?0:Math.min(Math.abs(s-t),Math.abs(a-t));if(n<l)break;if(l===n&&Math.abs(t-e.getAnchorPosition())<Math.abs(t-o.getAnchorPosition()))break;n=l,e=o}}return e},e.findNearestIdenticalPanel=function(t){var i=t,r=1/0,o=this.getHangerPosition();return t.getIdenticalPanels().forEach(function(t){var e=t.getAnchorPosition(),n=Math.abs(e-o);n<r&&(i=t,r=n)}),i},e.findShortestPositionToPanel=function(t){var e=this.state,n=this.options,i=t.getAnchorPosition(),r=this.getHangerPosition(),o=Math.abs(r-i),s=e.scrollArea.next-e.scrollArea.prev;if(n.circular)return o<=s-o?i-e.relativeHangerPosition:r<i?i-e.relativeHangerPosition-s:i-e.relativeHangerPosition+s;var a=i-e.relativeHangerPosition;return this.canSetBoundMode()?Dn(a,e.scrollArea.prev,e.scrollArea.next):a},e.findEstimatedPosition=function(t){var e=this.getScrollArea(),n=t.getAnchorPosition()-this.getRelativeHangerPosition();return n=this.canSetBoundMode()?Dn(n,e.prev,e.next):n},e.addVisiblePanel=function(t){this.getVisibleIndexOf(t)<0&&this.visiblePanels.push(t)},e.enable=function(){this.panInput||this.createPanInput()},e.disable=function(){this.panInput&&(this.panInput.destroy(),this.panInput=null,this.stateMachine.transitTo(Cn))},e.insert=function(r,t){var n=this,e=this.panelManager.getLastIndex();if(r<0||e<r)return[];var o=this.state,i=this.options,s=zn(t).map(function(t,e){return new Wn(t,r+e,n)}).slice(0,e-r+1);if(s.length<=0)return[];var a,l,u=this.panelManager.insert(r,s);return this.resizePanels(s),this.currentPanel||(this.currentPanel=s[0],this.nearestPanel=s[0],a=s[0],l=this.findEstimatedPosition(a),o.position=l,this.updateAxesPosition(l),o.panelMaintainRatio=(a.getRelativeAnchorPosition()+i.gap/2)/(a.getSize()+i.gap)),this.updateCheckedIndexes({min:r,max:r}),o.checkedIndexes.forEach(function(t,e){var n=t[0],i=t[1];r<n&&o.checkedIndexes.splice(e,1,[n+u,i+u])}),this.resize(),s},e.replace=function(n,t){var i=this,e=this.state,r=this.options,o=this.panelManager,s=o.getLastIndex();if(n<0||s<n)return[];var a=zn(t).map(function(t,e){return new Wn(t,n+e,i)}).slice(0,s-n+1);if(a.length<=0)return[];o.replace(n,a).forEach(function(t){var e=i.getVisibleIndexOf(t);-1<e&&i.visiblePanels.splice(e,1)}),this.resizePanels(a);var l,u,h=this.currentPanel;return!h?(this.currentPanel=a[0],this.nearestPanel=a[0],l=a[0],u=this.findEstimatedPosition(l),e.position=u,this.updateAxesPosition(u),e.panelMaintainRatio=(l.getRelativeAnchorPosition()+r.gap/2)/(l.getSize()+r.gap)):Hn(h.getIndex(),n,n+a.length-1)&&(this.currentPanel=o.get(h.getIndex())),this.updateCheckedIndexes({min:n,max:n+a.length-1}),this.resize(),a},e.remove=function(t,e){void 0===e&&(e=1);var n=this.state;t=Math.max(t,0);var i,r=this.panelManager,o=this.getCurrentIndex(),s=r.remove(t,e);Hn(o,t,t+e-1)&&(i=Math.max(t-1,r.getRange().min),this.currentPanel=r.get(i)),0<e&&(this.updateCheckedIndexes({min:t-1,max:t+e}),this.visiblePanels=[]),r.getPanelCount()<=0&&(this.currentPanel=void 0,this.nearestPanel=void 0),this.resize();var a,l=n.scrollArea;return(n.position<l.prev||n.position>l.next)&&(a=Xn(n.position,l.prev,l.next,!1),this.moveCamera(a),this.updateAxesPosition(a)),s},e.updateAdaptiveSize=function(){var t,e,n,i,r,o,s=this.state,a=this.options,l=a.horizontal,u=this.getCurrentPanel();u&&(t=a.adaptive||!s.isAdaptiveCached,e=this.viewportElement.style,t&&(i=void 0,i=a.adaptive?(n=u.getBbox(),l?n.height:n.width):this.panelManager.originalPanels().reduce(function(t,e){var n=e.getBbox();return Math.max(t,l?n.height:n.width)},0),s.isAdaptiveCached||(r=this.updateBbox(),i=Math.max(i,l?r.height:r.width),s.isAdaptiveCached=!0),o=i+"px",l?(e.height=o,s.cachedBbox.height=i):(e.width=o,s.cachedBbox.width=i)))},e.updateCameraPosition=function(){var t,e,n,i=this.state,r=this.getCurrentPanel(),o=this.getCameraPosition(),s=this.stateMachine.getState(),a=this.moveType.is(fn.FREE_SCROLL),l=this.getRelativeHangerPosition(),u=this.options.gap/2;s.holding||s.playing?this.updateVisiblePanels():(n=a?(t=this.canSetBoundMode()&&(o===i.scrollArea.prev||o===i.scrollArea.next),e=this.getNearestPanel(),t||!e?o:e.getPosition()-u+(e.getSize()+2*u)*i.panelMaintainRatio-l):r?r.getAnchorPosition()-l:o,this.canSetBoundMode()&&(n=Dn(n,i.scrollArea.prev,i.scrollArea.next)),this.updateAxesPosition(n),this.moveCamera(n))},e.updateBbox=function(){var t=this.state,e=this.options,n=this.viewportElement;return t.cachedBbox||(t.cachedBbox=qn(n,e.useOffset)),t.cachedBbox},e.updatePlugins=function(){var e=this;this.plugins.forEach(function(t){t.update&&t.update(e.flicking)})},e.destroy=function(e){var t,n,i,r=this.state,o=this.flicking.getElement(),s=this.viewportElement,a=this.cameraElement,l=this.panelManager.originalPanels();for(var u in this.removePlugins(this.plugins),e.preserveUI||(Yn(s,r.originalViewportStyle),Yn(a,r.originalCameraStyle),r.isCameraGiven||this.options.renderExternal||(n=r.isViewportGiven?s:o,i=r.isViewportGiven?a:s,l.forEach(function(t){n.appendChild(t.getElement())}),n.removeChild(i))),this.axes.destroy(),null!==(t=this.panInput)&&void 0!==t&&t.destroy(),l.forEach(function(t){t.destroy(e)}),this)this[u]=null},e.restore=function(t){var e=t.panels,n=this.options.defaultIndex,i=this.cameraElement,r=this.panelManager;i.innerHTML=e.map(function(t){return t.html}).join(""),this.refreshPanels();var o=r.originalPanels(),s=[];e.forEach(function(t,e){var n=o[e];n.setIndex(t.index),s[t.index]=n}),r.replacePanels(s,[]),r.setCloneCount(0);var a=r.getPanelCount();this.currentPanel=0<a?r.get(t.index)||r.get(n)||r.firstPanel():void 0,this.visiblePanels=s.filter(function(t){return Boolean(t)}),this.resize(),this.axes.setTo({flick:t.position},0),this.moveCamera(t.position)},e.calcVisiblePanels=function(){var t=this.panelManager.allPanels();if(this.options.renderOnlyVisible){var e=this.getCameraPosition(),n=this.getSize(),i=this.nearestPanel,r=function(t,e,n){for(var i=[],r=t;;){var o=e(r);if(!o||n(o))break;i.push(o),r=o}return i},o=this.panelManager.getPanelCount(),s=function(t){return t.getIndex()+(t.getCloneIndex()+1)*o};return P([i],r(i,function(t){var e=t.nextSibling;return e&&e.getPosition()>=t.getPosition()?e:null},function(t){return t.getPosition()>=e+n}),r(i,function(t){var e=t.prevSibling;return e&&e.getPosition()<=t.getPosition()?e:null},function(t){return t.getPosition()+t.getSize()<=e})).sort(function(t,e){return s(t)-s(e)})}return t.filter(function(t){var e=t.getOutsetProgress();return-1<e&&e<1})},e.getCurrentPanel=function(){return this.currentPanel},e.getCurrentIndex=function(){var t=this.currentPanel;return t?t.getIndex():-1},e.getNearestPanel=function(){return this.nearestPanel},e.getCurrentProgress=function(){var t=this.stateMachine.getState(),e=t.playing||t.holding?this.nearestPanel:this.currentPanel,n=this.panelManager;if(!e)return NaN;var i=this.getScrollArea(),r=i.prev,o=i.next,s=this.getCameraPosition(),a=this.isOutOfBound(),l=e.prevSibling,u=e.nextSibling,h=this.getHangerPosition(),c=e.getAnchorPosition();a&&l&&u&&s<o&&h-l.getAnchorPosition()<c-h&&(u=(e=l).nextSibling,l=e.prevSibling,c=e.getAnchorPosition());var d,f=e.getIndex()+(e.getCloneIndex()+1)*n.getPanelCount(),p=e.getSize();a&&(o+(d=this.getRelativeHangerPosition())<c?h=c+h-d-o:c<r+d&&(h=c+h-d-r));var g=c<=h,v=this.options.gap,m=c,P=c;g?P=u?u.getAnchorPosition():c+p+v:m=l?l.getAnchorPosition():c-p-v;var y=(h-m)/(P-m);return(g?f:l?l.getIndex():f-1)+y},e.updateAxesPosition=function(t){var e=this.axes;e.off(),e.setTo({flick:t},0),e.on(this.axesHandlers)},e.getSize=function(){return this.state.size},e.getScrollArea=function(){return this.state.scrollArea},e.isOutOfBound=function(){var t=this.state,e=this.options,n=t.scrollArea;return!e.circular&&e.bound&&(t.position<=n.prev||t.position>=n.next)},e.canSetBoundMode=function(){var t=this.options;return t.bound&&!t.circular},e.getViewportElement=function(){return this.viewportElement},e.getCameraElement=function(){return this.cameraElement},e.getScrollAreaSize=function(){var t=this.state.scrollArea;return t.next-t.prev},e.getRelativeHangerPosition=function(){return this.state.relativeHangerPosition},e.getHangerPosition=function(){return this.state.position+this.state.relativeHangerPosition},e.getCameraPosition=function(){return this.state.position},e.getPositionOffset=function(){return this.state.positionOffset},e.getCheckedIndexes=function(){return this.state.checkedIndexes},e.getVisiblePanels=function(){return this.visiblePanels},e.setCurrentPanel=function(t){this.currentPanel=t},e.setLastIndex=function(t){var e=this.currentPanel,n=this.panelManager;n.setLastIndex(t),e&&e.getIndex()>t&&(this.currentPanel=n.lastPanel()),this.resize()},e.setVisiblePanels=function(t){this.visiblePanels=t},e.connectAxesHandler=function(t){var e=this.axes;this.axesHandlers=t,e.on(t)},e.addPlugins=function(t){var e=this,n=[].concat(t);return n.forEach(function(t){t.init(e.flicking)}),this.plugins=this.plugins.concat(n),this},e.removePlugins=function(t){var n=this,i=this.plugins;return[].concat(t).forEach(function(t){var e=i.indexOf(t);-1<e&&i.splice(e,1),t.destroy(n.flicking)}),this},e.updateCheckedIndexes=function(r){var o=this.state,s=0;o.checkedIndexes.concat().forEach(function(t,e){var n=t[0],i=t[1];r.min<=i&&r.max>=n&&(o.checkedIndexes.splice(e-s,1),s++)})},e.appendUncachedPanelElements=function(t){var e,n,i,r=this,o=this.options,s=document.createDocumentFragment();o.isEqualSize?(e=this.visiblePanels,n=o.isEqualSize,i={},this.visiblePanels=[],Object.keys(this.panelBboxes).forEach(function(t){i[t]=!0}),t.forEach(function(t){var e=t.getOverlappedClass(n);e&&!i[e]?(o.renderExternal||s.appendChild(t.getElement()),r.visiblePanels.push(t),i[e]=!0):e||(o.renderExternal||s.appendChild(t.getElement()),r.visiblePanels.push(t))}),e.forEach(function(t){r.addVisiblePanel(t)})):(o.renderExternal||t.forEach(function(t){return s.appendChild(t.getElement())}),this.visiblePanels=t.filter(function(t){return Boolean(t)})),o.renderExternal||this.cameraElement.appendChild(s)},e.updateClonePanels=function(){var t=this.panelManager;this.options.circular&&0<t.getPanelCount()&&(this.clonePanels(),this.updateClonedPanelPositions()),t.chainAllPanels()},e.getVisibleIndexOf=function(e){return Fn(this.visiblePanels,function(t){return t===e})},e.build=function(){this.setElements(),this.applyCSSValue(),this.setMoveType(),this.setAxesInstance(),this.refreshPanels(),this.setDefaultPanel(),this.resize(),this.moveToDefaultPanel()},e.setElements=function(){var t=this.state,e=this.options,n=this.flicking.getElement(),i=e.classPrefix,r=n.children[0],o=r&&Nn(r,i+"-viewport"),s=o?r:document.createElement("div"),a=o?s.children[0]:n.children[0],l=a&&Nn(a,i+"-camera"),u=l?a:document.createElement("div");l?t.originalCameraStyle={className:u.getAttribute("class"),style:u.getAttribute("style")}:(u.className=i+"-camera",Ln(o?s.children:n.children).forEach(function(t){u.appendChild(t)})),o?t.originalViewportStyle={className:s.getAttribute("class"),style:s.getAttribute("style")}:(s.className=i+"-viewport",n.appendChild(s)),l&&o||s.appendChild(u),this.viewportElement=s,this.cameraElement=u,t.isViewportGiven=o,t.isCameraGiven=l},e.applyCSSValue=function(){var t=this.options,e=this.viewportElement,n=this.cameraElement,i=this.viewportElement.style;_n(e,mn),_n(n,Pn),e.style.zIndex=""+t.zIndex,t.horizontal?(i.minHeight="100%",i.width="100%"):(i.minWidth="100%",i.height="100%"),t.overflow&&(i.overflow="visible"),this.panelManager=new Gn(this.cameraElement,t)},e.setMoveType=function(){var t=this.options.moveType;switch(t.type){case fn.SNAP:this.moveType=new ei(t.count);break;case fn.FREE_SCROLL:this.moveType=new ni;break;default:throw new Error("moveType is not correct!")}},e.setAxesInstance=function(){var t=this.state,e=this.options,n=t.scrollArea;this.axes=new sn({flick:{range:[n.prev,n.next],circular:e.circular,bounce:[0,0]}},{easing:e.panelEffect,deceleration:e.deceleration,interruptable:!0}),this.createPanInput()},e.refreshPanels=function(){var n=this,t=this.panelManager,e=Ln(this.cameraElement.children).map(function(t,e){return new Wn(t,e,n)});t.replacePanels(e,[]),this.visiblePanels=e.filter(function(t){return Boolean(t)})},e.setDefaultPanel=function(){var t=this.options,e=this.panelManager,n=this.panelManager.getRange(),i=Dn(t.defaultIndex,n.min,n.max);this.currentPanel=e.get(i)},e.clonePanels=function(){var t=this.state,e=this.options,r=this.panelManager,n=e.gap,i=t.size,o=r.firstPanel(),s=r.lastPanel();if(o){for(var a,l=r.originalPanels(),u=l.concat().reverse(),h=s.getPosition()+s.getSize()-o.getPosition()+n,c=o.getRelativeAnchorPosition(),d=this.getRelativeHangerPosition(),f=(d-c)%h,p=0,g=0,v=u;g<v.length;g++){if((P=v[g])&&f<=(p+=P.getSize()+n)){a=P;break}}for(var m,P,y=(i-d+c)%h,p=0,x=0,E=l;x<E.length;x++){if((P=E[x])&&y<=(p+=P.getSize()+n)){m=P;break}}var C=0!==a.getIndex()&&a.getIndex()<=m.getIndex(),b=Math.ceil((d+o.getSize()-c)/h)+Math.ceil((i-d+c)/h)-1+(C?1:0),w=r.getCloneCount();if(r.setCloneCount(b),!e.renderExternal)if(w<b)for(var S=this,I=w;I<b;I++)!function(e){var t,n=l.map(function(t){return t.clone(e)}),i=document.createDocumentFragment();n.forEach(function(t){return i.appendChild(t.getElement())}),S.cameraElement.appendChild(i),(t=S.visiblePanels).push.apply(t,n.filter(function(t){return Boolean(t)})),r.insertClones(e,0,n)}(I);else b<w&&r.removeClonesAfter(b)}},e.moveToDefaultPanel=function(){var t=this.state,e=this.panelManager,n=this.options,i=this.panelManager.getRange(),r=Dn(n.defaultIndex,i.min,i.max),o=e.get(r),s=0;o&&(s=o.getAnchorPosition()-t.relativeHangerPosition,s=this.canSetBoundMode()?Dn(s,t.scrollArea.prev,t.scrollArea.next):s),this.moveCamera(s),this.axes.setTo({flick:s},0)},e.updateSize=function(){var t=this.state,e=this.options,n=this.panelManager.originalPanels().filter(function(t){return Boolean(t)}),i=this.updateBbox(),r=t.size;t.size=e.horizontal?i.width:i.height,r!==t.size&&(t.relativeHangerPosition=Vn(e.hanger,t.size),t.infiniteThreshold=Vn(e.infiniteThreshold,t.size)),n.length<=0||this.resizePanels(n)},e.updateOriginalPanelPositions=function(){var t,e,n,i,r,o,s,a=this.options.gap,l=this.panelManager,u=l.firstPanel(),h=l.originalPanels();u&&(t=this.currentPanel,e=this.nearestPanel,n=this.stateMachine.getState(),i=this.state.scrollArea,s=u.getPosition(),r=u,e?r=!Hn(n.lastPosition+n.delta,i.prev,i.next)?t:e:0<u.getIndex()&&(r=t),o=h.slice(0,r.getIndex()+(r.getCloneIndex()+1)*h.length).reduce(function(t,e){return t+e.getSize()+a},0),s=r.getPosition()-o,h.forEach(function(t){var e=s,n=t.getSize();t.setPosition(e),s+=n+a}),this.options.renderOnlyVisible||h.forEach(function(t){return t.setPositionCSS()}))},e.updateClonedPanelPositions=function(){var t=this.state,e=this.options,n=this.panelManager,i=n.clonedPanels().reduce(function(t,e){return P(t,e)},[]).filter(function(t){return Boolean(t)}),r=t.scrollArea,o=n.firstPanel(),s=n.lastPanel();if(o){for(var a=s.getPosition()+s.getSize()-o.getPosition()+e.gap,l=0,u=i;l<u.length;l++){var h=(g=u[l]).getOriginalPanel(),c=a*(g.getCloneIndex()+1)+h.getPosition();g.setPosition(c)}for(var d=o.getPosition(),f=0,p=i.concat().reverse();f<p.length;f++){var g,v=(g=p[f]).getSize(),m=d-v-e.gap;if(m+v<=r.prev)break;g.setPosition(m),d=m}this.options.renderOnlyVisible||i.forEach(function(t){t.setPositionCSS()})}},e.updateVisiblePanelPositions=function(){var e=this;this.options.renderOnlyVisible&&this.visiblePanels.forEach(function(t){t.setPositionCSS(e.state.positionOffset)})},e.updateScrollArea=function(){var t,e,n,i=this.state,r=this.panelManager,o=this.options,s=this.axes,a=r.firstPanel(),l=r.lastPanel(),u=i.relativeHangerPosition;a?this.canSetBoundMode()?(n=l.getPosition()+l.getSize()-a.getPosition())>=i.size?i.scrollArea={prev:a.getPosition(),next:l.getPosition()+l.getSize()-i.size}:(t=Vn(o.anchor,n),e=a.getPosition()+Dn(t,n-(i.size-u),u),i.scrollArea={prev:e-u,next:e-u}):o.circular?(n=l.getPosition()+l.getSize()-a.getPosition()+o.gap,i.scrollArea={prev:a.getAnchorPosition()-u,next:n+a.getAnchorPosition()-u}):i.scrollArea={prev:a.getAnchorPosition()-u,next:l.getAnchorPosition()-u}:i.scrollArea={prev:0,next:0};var h,c,d,f=i.size,p=o.bounce;c=(d=p)&&d.constructor===Array?p.map(function(t){return Vn(t,f,vn.bounce)}):[h=Vn(p,f,vn.bounce),h];var g=s.axis.flick;g.range=[i.scrollArea.prev,i.scrollArea.next],g.bounce=c},e.checkNeedPanel=function(t){var e=this.state,n=this.options,i=this.panelManager,r=this.currentPanel,o=this.nearestPanel,s=this.stateMachine.getState();if(n.infinite){var a=n.gap,l=e.infiniteThreshold,u=i.getLastIndex();if(!(u<0))if(r&&o){for(var h=o.getPosition(),c=s.holding||s.playing?o:r;c;){var d,f=c.getIndex(),p=c.nextSibling,g=!(f===(x=i.lastPanel()).getIndex())&&p?p.getIndex():u+1,v=o.getPosition(),m=c.getPosition()+c.getSize()-(v-h)+a-l<=e.position+e.size;1<g-f&&m&&this.triggerNeedPanel({axesEvent:t,siblingPanel:c,direction:Tn.NEXT,indexRange:{min:f+1,max:g-1,length:g-f-1}}),n.circular&&f===u&&m&&(0<(d=(y=i.firstPanel())?y.getIndex():-1)&&this.triggerNeedPanel({axesEvent:t,siblingPanel:c,direction:Tn.NEXT,indexRange:{min:0,max:d-1,length:d}}));var P=i.lastPanel();if(P&&f===P.getIndex()||!m)break;c=c.nextSibling}for(c=o;c;){var y,x,E,C=e.position,b=c.getIndex(),w=c.prevSibling,S=!(b===(y=i.firstPanel()).getIndex())&&w?w.getIndex():-1,v=o.getPosition(),m=C<=c.getPosition()-(v-h)-a+l;1<b-S&&m&&this.triggerNeedPanel({axesEvent:t,siblingPanel:c,direction:Tn.PREV,indexRange:{min:S+1,max:b-1,length:b-S-1}}),n.circular&&0===b&&m&&(x=i.lastPanel())&&x.getIndex()<u&&(E=x.getIndex(),this.triggerNeedPanel({axesEvent:t,siblingPanel:c,direction:Tn.PREV,indexRange:{min:E+1,max:u,length:u-E}}));var I=i.firstPanel();if(I&&b===I.getIndex()||!m)break;c=c.prevSibling}}else this.triggerNeedPanel({axesEvent:t,siblingPanel:null,direction:null,indexRange:{min:0,max:u,length:u+1}})}},e.triggerNeedPanel=function(t){var r,e,o=this,n=t.axesEvent,s=t.siblingPanel,a=t.direction,l=t.indexRange,u=this.options,i=this.state.checkedIndexes,h=i.some(function(t){var e=t[0],n=t[1];return e===l.min||n===l.max}),c=this.flicking.hasOn(xn.NEED_PANEL);!h&&c&&(i.push([l.min,l.max]),r=s?s.getIndex():0,e=!!n&&n.isTrusted,this.triggerEvent(xn.NEED_PANEL,n,e,{index:r,panel:s,direction:a,range:l,fill:function(t){var e=o.panelManager;if(!s)return o.insert(e.getRange().max+1,t);var n=zn(t),i=a===Tn.NEXT?n.slice(0,l.length):n.slice(-l.length);return a===Tn.NEXT?u.circular&&r===e.getLastIndex()?o.insert(0,i):s.insertAfter(i):a===Tn.PREV?u.circular&&0===r?o.insert(l.max-i.length+1,i):s.insertBefore(i):o.insert(0,i)}}))},e.updateVisiblePanels=function(){var e=this.state,t=this.options,n=this.panelManager,i=this.stateMachine.getState(),r=this.cameraElement,o=t.renderExternal;if(t.renderOnlyVisible)if(this.nearestPanel){var s,a,l,u,h,c,d=this.visiblePanels,f=this.calcVisiblePanels(),p=this.checkVisiblePanelChange(d,f),g=p.addedPanels,v=p.removedPanels;g.length<=0&&v.length<=0||(i.holding?f.push.apply(f,v):(s=f[0].getPosition(),e.positionOffset=s),f.forEach(function(t){t.setPositionCSS(e.positionOffset)}),o||(i.holding||v.forEach(function(t){var e=t.getElement();e.parentNode&&r.removeChild(e)}),a=document.createDocumentFragment(),g.forEach(function(t){a.appendChild(t.getElement())}),r.appendChild(a)),l=f[0],u=f[f.length-1],c={min:(h=function(t){return t.getIndex()+(t.getCloneIndex()+1)*n.getPanelCount()})(l),max:h(u)},this.visiblePanels=f,this.flicking.trigger(xn.VISIBLE_CHANGE,{type:xn.VISIBLE_CHANGE,range:c}))}else for(this.visiblePanels=[];r.firstChild;)r.removeChild(r.firstChild)},e.checkVisiblePanelChange=function(i,r){var o=i.map(function(){return 0}),s=r.map(function(){return 0});return i.forEach(function(n,i){r.forEach(function(t,e){n===t&&(o[i]++,s[e]++)})}),{removedPanels:o.reduce(function(t,e,n){return 0===e?P(t,[i[n]]):t},[]),addedPanels:s.reduce(function(t,e,n){return 0===e?P(t,[r[n]]):t},[])}},e.resizePanels=function(t){var n,e,i,r=this.options,o=this.panelBboxes;!0!==r.isEqualSize?r.isEqualSize?(n=r.isEqualSize,t.forEach(function(t){var e=t.getOverlappedClass(n);e?(t.resize(o[e]),o[e]=t.getBbox()):t.resize()})):t.forEach(function(t){t.resize()}):(o.default||(e=t[0],o.default=e.getBbox()),i=o.default,t.forEach(function(t){t.resize(i)}))},e.createPanInput=function(){var t=this.options;this.panInput=new dn(this.viewportElement,{inputType:t.inputType,thresholdAngle:t.thresholdAngle,iOSEdgeSwipeThreshold:t.iOSEdgeSwipeThreshold,scale:t.horizontal?[-1,0]:[0,-1]}),this.axes.connect(t.horizontal?["flick",""]:["","flick"],this.panInput)},t}(),ri=function(d){function t(t,e){void 0===e&&(e={});var n,c=d.call(this)||this;if(c.contentsReadyChecker=null,c.isPanelChangedAtBeforeSync=!1,c.resize=function(){var t=c.viewport,e=c.options,n=c.getElement(),i=t.panelManager.allPanels();e.isConstantSize||i.forEach(function(t){return t.unCacheBbox()});var r=e.renderOnlyVisible&&!e.isConstantSize&&!0!==e.isEqualSize,o=n.parentElement,s=o.style.height;return o.style.height=o.offsetHeight+"px",t.unCacheBbox(),t.updateBbox(),r&&t.appendUncachedPanelElements(i),t.resize(),o.style.height=s,c},c.triggerEvent=function(t,e,n,i){void 0===i&&(i={});var r,o,s,a,l,u=c.viewport,h=!0;return u&&(r=u.stateMachine.getState(),s=(o=u.getScrollArea()).prev,a=o.next,l=Bn(u.getCameraPosition(),[s,s,a]),c.options.circular&&(l%=1),h=!d.prototype.trigger.call(c,t,Mn({type:t,index:c.getIndex(),panel:c.getCurrentPanel(),direction:r.direction,holding:r.holding,progress:l,axesEvent:e,isTrusted:n},i))),{onSuccess:function(t){return h||t(),this},onStopped:function(t){return h&&t(),this}}},c.moveCamera=function(t){var e,n,i,r,o=c.viewport,s=o.stateMachine.getState(),a=c.options,l=t.pos.flick,u=o.getCameraPosition();return t.isTrusted&&s.holding&&(e=a.horizontal?t.inputEvent.offsetX:t.inputEvent.offsetY,i=l-u,n=e<0==l<u,a.circular&&n&&(i=(0<i?-1:1)*(o.getScrollAreaSize()-Math.abs(i))),r=0===i?s.direction:0<i?Tn.NEXT:Tn.PREV,s.direction=r),s.delta+=t.delta.flick,o.moveCamera(l,t),c.triggerEvent(xn.MOVE,t,t.isTrusted).onStopped(function(){o.moveCamera(u,t)})},kn(t)){if(!(n=document.querySelector(t)))throw new Error("Base element doesn't exist.")}else{if(!t.nodeName||1!==t.nodeType)throw new Error("Element should be provided in string or HTMLElement.");n=t}c.wrapper=n,c.options=Mn({},vn,e);var i=c.options,r=i.moveType;return r in pn&&(i.moveType=pn[r]),c.viewport=new ii(c,c.options,c.triggerEvent),c.listenInput(),c.listenResize(),c}r(t,d);var e=t.prototype;return e.prev=function(t){var e,n=this.getCurrentPanel(),i=this.viewport.stateMachine.getState();return!n||i.type!==Cn||(e=n.prev())&&e.focus(t),this},e.next=function(t){var e,n=this.getCurrentPanel(),i=this.viewport.stateMachine.getState();return!n||i.type!==Cn||(e=n.next())&&e.focus(t),this},e.moveTo=function(t,e){var n=this.viewport,i=n.panelManager.get(t),r=n.stateMachine.getState();if(!i||r.type!==Cn)return this;var o,s,a,l,u=i.getAnchorPosition(),h=n.getHangerPosition(),c=i;this.options.circular&&(s=[u-(o=n.getScrollAreaSize()),u,u+o].reduce(function(t,e){return Math.abs(e-h)<Math.abs(t-h)?e:t},1/0)-i.getRelativeAnchorPosition(),a=i.getIdenticalPanels(),0<(l=s-u)?c=a[1]:l<0&&(c=a[a.length-1]),(c=c.clone(c.getCloneIndex(),!0)).setPosition(s));var d=this.getIndex();if(h===c.getAnchorPosition()&&d===t)return this;var f=i.getIndex()===n.getCurrentIndex()?"":xn.CHANGE;return n.moveTo(c,n.findEstimatedPosition(c),f,null,e),this},e.getIndex=function(){return this.viewport.getCurrentIndex()},e.getElement=function(){return this.wrapper},e.getSize=function(){return this.viewport.getSize()},e.getCurrentPanel=function(){var t=this.viewport.getCurrentPanel();return t||null},e.getPanel=function(t){var e=this.viewport.panelManager.get(t);return e||null},e.getAllPanels=function(t){var e=this.viewport.panelManager;return(t?e.allPanels():e.originalPanels()).filter(function(t){return!!t})},e.getVisiblePanels=function(){return this.viewport.calcVisiblePanels()},e.getPanelCount=function(){return this.viewport.panelManager.getPanelCount()},e.getCloneCount=function(){return this.viewport.panelManager.getCloneCount()},e.getLastIndex=function(){return this.viewport.panelManager.getLastIndex()},e.setLastIndex=function(t){return this.viewport.setLastIndex(t),this},e.isPlaying=function(){return this.viewport.stateMachine.getState().playing},e.enableInput=function(){return this.viewport.enable(),this},e.disableInput=function(){return this.viewport.disable(),this},e.getStatus=function(){var t=this.viewport,e=t.panelManager.originalPanels().filter(function(t){return!!t}).map(function(t){return{html:t.getElement().outerHTML,index:t.getIndex()}});return{index:t.getCurrentIndex(),panels:e,position:t.getCameraPosition()}},e.setStatus=function(t){this.viewport.restore(t)},e.addPlugins=function(t){return this.viewport.addPlugins(t),this},e.removePlugins=function(t){return this.viewport.removePlugins(t),this},e.destroy=function(t){var e;for(var n in void 0===t&&(t={}),this.off(),this.options.autoResize&&window.removeEventListener("resize",this.resize),this.viewport.destroy(t),null!==(e=this.contentsReadyChecker)&&void 0!==e&&e.destroy(),this)this[n]=null},e.prepend=function(t){var e=this.viewport,n=zn(t),i=Math.max(e.panelManager.getRange().min-n.length,0),r=e.insert(i,n);return this.checkContentsReady(r),r},e.append=function(t){var e=this.viewport,n=e.insert(e.panelManager.getRange().max+1,t);return this.checkContentsReady(n),n},e.replace=function(t,e){var n=this.viewport.replace(t,e);return this.checkContentsReady(n),n},e.remove=function(t,e){return void 0===e&&(e=1),this.viewport.remove(t,e)},e.getRenderingIndexes=function(t){var e=this.viewport,n=e.getVisiblePanels(),i=t.maintained.reduce(function(t,e){var n=e[0];return t[e[1]]=n,t},{}),r=t.list.length,o=t.added,s=P(n.map(function(t){return(e=t).getIndex()+(e.getCloneIndex()+1)*r;var e}).filter(function(t){return null!=i[t%r]}),o),a=e.panelManager.allPanels();return e.setVisiblePanels(s.map(function(t){return a[t]})),s},e.beforeSync=function(t){var e=this,n=t.maintained,s=t.added,i=t.changed,o=t.removed,r=this.viewport,a=r.panelManager,l=this.options.circular,u=a.getCloneCount(),h=a.clonedPanels(),c=r.getVisiblePanels().filter(function(e){return Fn(o,function(t){return t===e.getIndex()})<0});if(r.setVisiblePanels(c),s.length<=0&&o.length<=0&&i.length<=0&&u===h.length)return this;var d=a.originalPanels(),f=[],p=jn(u).map(function(){return[]});n.forEach(function(t){var e=t[0],n=t[1];f[n]=d[e],f[n].setIndex(n)}),s.forEach(function(t){f[t]=new Wn(null,t,e.viewport)}),l&&jn(u).forEach(function(i){var r=h[i],o=p[i];n.forEach(function(t){var e=t[0],n=t[1];o[n]=r?r[e]:f[n].clone(i,!1),o[n].setIndex(n)}),s.forEach(function(t){var e=f[t];o[t]=e.clone(i,!1)})}),s.forEach(function(t){r.updateCheckedIndexes({min:t,max:t})}),o.forEach(function(t){r.updateCheckedIndexes({min:t-1,max:t+1})});var g=r.getCheckedIndexes();g.forEach(function(t,e){var n=t[0],i=t[1],r=s.filter(function(t){return t<n&&a.has(t)}).length-o.filter(function(t){return t<n}).length;g.splice(e,1,[n+r,i+r])}),0<i.length&&n.forEach(function(t){var e=t[1];r.updateCheckedIndexes({min:e,max:e})}),a.replacePanels(f,p),this.isPanelChangedAtBeforeSync=!0},e.sync=function(t){var i=t.list,e=t.maintained,n=t.added,r=t.changed,o=t.removed;if(n.length<=0&&o.length<=0&&r.length<=0)return this;var s,a,l,u,h,c,d=this.viewport,f=this.options,p=f.renderOnlyVisible,g=f.circular,v=d.panelManager;p||(s=v.getRange(),c=t,g&&(a=s.max,l=i.length/(v.getCloneCount()+1)>>0,u=n.filter(function(t){return t<l}),h=o.filter(function(t){return t<=a}),c={added:u,maintained:e.filter(function(t){return t[0]<=a}),removed:h,changed:r.filter(function(t){return t[0]<=a})}),this.beforeSync(c));var m=p?d.getVisiblePanels():this.getAllPanels(!0);return n.forEach(function(t){var e=i[t],n=m[t];n.setElement(e),n.unCacheBbox()}),this.isPanelChangedAtBeforeSync&&(d.setVisiblePanels([]),this.isPanelChangedAtBeforeSync=!1),d.resize(),this},e.listenInput=function(){var n=this,t=n.viewport,i=t.stateMachine;n.eventContext={flicking:n,viewport:n.viewport,transitTo:i.transitTo,triggerEvent:n.triggerEvent,moveCamera:n.moveCamera,stopCamera:t.stopCamera};var r={};for(var e in En)!function(t){var e=En[t];r[e]=function(t){return i.fire(e,t,n.eventContext)}}(e);n.viewport.connectAxesHandler(r)},e.listenResize=function(){var t,e=this,n=this.options;n.autoResize&&window.addEventListener("resize",this.resize),n.resizeOnContentsReady&&((t=new M).on("preReady",function(){e.resize()}),t.on("readyElement",function(t){t.hasLoading&&t.isPreReadyOver&&e.resize()}),t.on("error",function(t){e.trigger(xn.CONTENT_ERROR,{type:xn.CONTENT_ERROR,element:t.element})}),t.check([this.wrapper]),this.contentsReadyChecker=t)},e.checkContentsReady=function(t){var e;null!==(e=this.contentsReadyChecker)&&void 0!==e&&e.check(t.map(function(t){return t.getElement()}))},t.VERSION="3.7.2",t.DIRECTION=Tn,t.EVENTS=xn,t}(t);return ri.withFlickingMethods=function(t,o){Object.keys(An).forEach(function(r){t[r]||(t[r]=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=(t=this[o])[r].apply(t,e);return i===this[o]?this:i})})},ri.DEFAULT_OPTIONS=vn,ri.MOVE_TYPE=fn,ri});
//# sourceMappingURL=flicking.pkgd.min.js.map
