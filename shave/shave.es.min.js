function shave(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===t||isNaN(t))throw Error("maxHeight is required");var n="string"==typeof e?document.querySelectorAll(e):e;if(n){var i=a.character||"&mldr;",r=a.classname||"js-shave",s="boolean"!=typeof a.spaces||a.spaces,o=a.charclassname||"js-shave-char",c='<span class="'.concat(o,'">').concat(i,"</span>");"length"in n||(n=[n]);for(var l=0;l<n.length;l+=1){var h=n[l],d=h.style,v=h.querySelector(".".concat(r)),f=void 0===h.textContent?"innerText":"textContent";v&&(h.removeChild(h.querySelector(".".concat(o))),h[f]=h[f]);var g=h[f],m=s?g.split(" "):g;if(!(m.length<2)){var p=d.height;d.height="auto";var u=d.maxHeight;if(d.maxHeight="none",h.offsetHeight<=t)d.height=p,d.maxHeight=u;else{for(var x=m.length-1,H=0,j=void 0;H<x;)j=H+x+1>>1,h[f]=s?m.slice(0,j).join(" "):m.slice(0,j),h.insertAdjacentHTML("beforeend",c),h.offsetHeight>t?x=j-1:H=j;h[f]=s?m.slice(0,x).join(" "):m.slice(0,x),h.insertAdjacentHTML("beforeend",c);var y=s?" ".concat(m.slice(x).join(" ")):m.slice(x),b=document.createTextNode(y),q=document.createElement("span");q.classList.add(r),q.style.display="none",q.appendChild(b),h.insertAdjacentElement("beforeend",q),d.height=p,d.maxHeight=u}}}}}export default shave;