function HeatCanvasBaiduLayer(t,a){a=a||{},this._map=t,this.heatmap=null,this.setp=a.step||1,this.degree=a.degree||HeatCanvas.LINEAR,this.opacity=a.opacity||.6,this.colorscheme=a.colorscheme||null,this.data=[];var e=this;this._map.addEventListener("dragend",function(){e.draw()}),this._map.addEventListener("dbclick",function(){e.draw()})}HeatCanvasBaiduLayer.prototype=new BMap.Overlay,HeatCanvasBaiduLayer.prototype.initialize=function(t){var a=document.createElement("div"),e=this._map.getSize();a.style.cssText="position:absolute;top:0;left:0;border:0",a.style.width="100%",a.style.height="100%";var i=document.createElement("canvas");i.style.width=e.width+"px",i.style.height=e.height+"px",i.width=e.width,i.height=e.height,i.style.opacity=this.opacity,a.appendChild(i),this.heatmap=new HeatCanvas(i);var h=this._map.getPanes();h.markerPane.appendChild(a),this._div=a},HeatCanvasBaiduLayer.prototype.pushData=function(t,a,e){this.data.push({lon:a,lat:t,v:e})},HeatCanvasBaiduLayer.prototype.draw=function(){var t=this._div,a=this._map.getSize(),e=this._map.pointToOverlayPixel(this._map.getBounds().getSouthWest()),i=this._map.pointToOverlayPixel(this._map.getBounds().getNorthEast());this._map.pointToOverlayPixel(this._map.getCenter());if(t.style.left=e.x+"px",t.style.top=i.y+"px",t.style.width=a.width+"px",t.style.height=a.height+"px",this.heatmap.clear(),this.data.length>0)for(var h=0,s=this.data.length;s>h;h++)latlon=new BMap.Point(this.data[h].lat,this.data[h].lon),localXY=this._map.pointToOverlayPixel(latlon),this.heatmap.push(Math.floor(localXY.x-e.x),Math.floor(localXY.y-i.y),this.data[h].v);this.heatmap.render(this.step,this.degree,this.colorscheme)};
//# sourceMappingURL=heatcanvas-baidumap.min.js.map