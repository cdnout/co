!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.objectPath=t()}(this,function(){"use strict";var t=Object.prototype.toString;function i(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function p(e){if(!e)return 1;if(y(e)&&0===e.length)return 1;if("string"!=typeof e){for(var t in e)if(i(e,t))return;return 1}}function a(e){return t.call(e)}var y=Array.isArray||function(e){return"[object Array]"===t.call(e)};function d(e){var t=parseInt(e);return t.toString()===e?t:e}function e(u){var f,c=function(r){return Object.keys(c).reduce(function(e,t){return"create"===t||"function"==typeof c[t]&&(e[t]=c[t].bind(c,r)),e},{})};function l(e,t){if(f(e,t))return e[t]}function s(e,t,r,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return s(e,t.split(".").map(d),r,n);var i=t[0],o=l(e,i);if(u.includeInheritedProps&&("__proto__"===i||"constructor"===i&&"function"==typeof o))throw new Error("For security reasons, object's magic properties cannot be set");return 1===t.length?(void 0!==o&&n||(e[i]=r),o):(void 0===o&&("number"==typeof t[1]?e[i]=[]:e[i]={}),s(e[i],t.slice(1),r,n))}return f=(u=u||{}).includeInheritedProps?function(){return!0}:function(e,t){return"number"==typeof t&&Array.isArray(e)||i(e,t)},c.has=function(e,t){if("number"==typeof t?t=[t]:"string"==typeof t&&(t=t.split(".")),!t||0===t.length)return!!e;for(var r=0;r<t.length;r++){var n=d(t[r]);if(!("number"==typeof n&&y(e)&&n<e.length||(u.includeInheritedProps?n in Object(e):i(e,n))))return!1;e=e[n]}return!0},c.ensureExists=function(e,t,r){return s(e,t,r,!0)},c.set=s,c.insert=function(e,t,r,n){var i=c.get(e,t);n=~~n,y(i)||(i=[],c.set(e,t,i)),i.splice(n,0,r)},c.empty=function(e,t){var r,n,i,o;if(!p(t)&&(null!=e&&(r=c.get(e,t)))){if("string"==typeof r)return c.set(e,t,"");if("boolean"==typeof(o=r)||"[object Boolean]"===a(o))return c.set(e,t,!1);if("number"==typeof r)return c.set(e,t,0);if(y(r))r.length=0;else{if("object"!=typeof(i=r)||"[object Object]"!==a(i))return c.set(e,t,null);for(n in r)f(r,n)&&delete r[n]}}},c.push=function(e,t){var r=c.get(e,t);y(r)||(r=[],c.set(e,t,r)),r.push.apply(r,Array.prototype.slice.call(arguments,2))},c.coalesce=function(e,t,r){for(var n,i=0,o=t.length;i<o;i++)if(void 0!==(n=c.get(e,t[i])))return n;return r},c.get=function(e,t,r){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return r;if("string"==typeof t)return c.get(e,t.split("."),r);var n=d(t[0]),i=l(e,n);return void 0===i?r:1===t.length?i:c.get(e[n],t.slice(1),r)},c.del=function(e,t){if("number"==typeof t&&(t=[t]),null==e)return e;if(p(t))return e;if("string"==typeof t)return c.del(e,t.split("."));var r=d(t[0]);return f(e,r)?1!==t.length?c.del(e[r],t.slice(1)):(y(e)?e.splice(r,1):delete e[r],e):e},c}var r=e();return r.create=e,r.withInheritedProps=e({includeInheritedProps:!0}),r});