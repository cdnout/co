import Mmenu from"../../core/oncanvas/mmenu.oncanvas";import*as DOM from"../../_modules/dom";export default function(a){var r=this,n=DOM.create("div.mm-navbar__breadcrumbs");a.append(n),this.bind("initNavbar:after",function(a){if(!a.querySelector(".mm-navbar__breadcrumbs")){DOM.children(a,".mm-navbar")[0].classList.add("mm-hidden");for(var n=[],e=DOM.create("span.mm-navbar__breadcrumbs"),t=a,m=!0;t;){if(!(t=t.closest(".mm-panel")).parentElement.matches(".mm-listitem_vertical")){var i=DOM.find(t,".mm-navbar__title span")[0];if(i){var s=i.textContent;s.length&&n.unshift(m?"<span>"+s+"</span>":'<a href="#'+t.id+'">'+s+"</a>")}m=!1}t=t.mmParent}r.conf.navbars.breadcrumbs.removeFirst&&n.shift(),e.innerHTML=n.join('<span class="mm-separator">'+r.conf.navbars.breadcrumbs.separator+"</span>"),DOM.children(a,".mm-navbar")[0].append(e)}}),this.bind("openPanel:start",function(a){var r=a.querySelector(".mm-navbar__breadcrumbs");n.innerHTML=r?r.innerHTML:""}),this.bind("initNavbar:after:sr-aria",function(a){DOM.find(a,".mm-breadcrumbs a").forEach(function(a){Mmenu.sr_aria(a,"owns",a.getAttribute("href").slice(1))})})};