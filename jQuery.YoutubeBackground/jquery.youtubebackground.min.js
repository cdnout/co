"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(l,n,i){var r=function(t){"undefined"==typeof YT&&void 0===n.loadingPlayer?(n.loadingPlayer=!0,n.dfd=l.Deferred(),n.onYouTubeIframeAPIReady=function(){n.onYouTubeIframeAPIReady=null,n.dfd.resolve("done"),t()}):"object"==typeof YT?t():n.dfd.done(function(e){t()})};YTPlayer={player:null,defaults:{ratio:16/9,videoId:"LSmgKRx5pBo",mute:!0,repeat:!0,width:l(n).width(),playButtonClass:"YTPlayer-play",pauseButtonClass:"YTPlayer-pause",muteButtonClass:"YTPlayer-mute",volumeUpClass:"YTPlayer-volume-up",volumeDownClass:"YTPlayer-volume-down",start:0,pauseOnScroll:!1,fitToBackground:!0,playerVars:{iv_load_policy:3,modestbranding:1,autoplay:1,controls:0,showinfo:0,wmode:"opaque",branding:0,autohide:0},events:null},init:function(e,t){var o,a=this;return a.userOptions=t,a.$body=l("body"),a.$node=l(e),a.$window=l(n),a.defaults.events={onReady:function(e){a.onPlayerReady(e),a.options.pauseOnScroll&&a.pauseOnScroll(),"function"==typeof a.options.callback&&a.options.callback.call(this)},onStateChange:function(e){1===e.data?(a.$node.find("img").fadeOut(400),a.$node.addClass("loaded")):0===e.data&&a.options.repeat&&a.player.seekTo(a.options.start)}},a.options=l.extend(!0,{},a.defaults,a.userOptions),a.options.height=Math.ceil(a.options.width/a.options.ratio),a.ID=(new Date).getTime(),a.holderID="YTPlayer-ID-"+a.ID,a.options.fitToBackground?a.createBackgroundVideo():a.createContainerVideo(),a.$window.on("resize.YTplayer"+a.ID,function(){a.resize(a)}),o=a.onYouTubeIframeAPIReady.bind(a),t=i.createElement("script"),e=i.getElementsByTagName("head")[0],"file://"==n.location.origin?t.src="http://www.youtube.com/iframe_api":t.src="//www.youtube.com/iframe_api",e.appendChild(t),t=e=null,r(o),a.resize(a),a},pauseOnScroll:function(){var e=this;e.$window.on("scroll.YTplayer"+e.ID,function(){1===e.player.getPlayerState()&&e.player.pauseVideo()}),e.$window.scrollStopped(function(){2===e.player.getPlayerState()&&e.player.playVideo()})},createContainerVideo:function(){var e=this,t=l('<div id="ytplayer-container'+e.ID+'" >                                    <div id="'+e.holderID+'" class="ytplayer-player-inline"></div>                                     </div>                                     <div id="ytplayer-shield" class="ytplayer-shield"></div>');e.$node.append(t),e.$YTPlayerString=t},createBackgroundVideo:function(){var e=this,t=l('<div id="ytplayer-container'+e.ID+'" class="ytplayer-container background">                                    <div id="'+e.holderID+'" class="ytplayer-player"></div>                                    </div>                                    <div id="ytplayer-shield" class="ytplayer-shield"></div>');e.$node.append(t),e.$YTPlayerString=t},resize:function(e){var t,o=e.$node,a=(o=!e.options.fitToBackground?e.$node:o).width(),n=o.height(),i=l("#"+e.holderID);a/e.options.ratio<n?(t=Math.ceil(n*e.options.ratio),i.width(t).height(n).css({position:"absolute",left:(a-t)/2,top:0})):(e=Math.ceil(a/e.options.ratio),i.width(a).height(e).css({position:"absolute",left:0,top:(n-e)/2})),o=i=null},onYouTubeIframeAPIReady:function(){var e=this;e.player=new n.YT.Player(e.holderID,e.options)},onPlayerReady:function(e){this.options.mute&&e.target.mute()},getPlayer:function(){return this.player},destroy:function(){var e=this;e.$node.removeData("yt-init").removeData("ytPlayer").removeClass("loaded"),e.$YTPlayerString.remove(),l(n).off("resize.YTplayer"+e.ID),l(n).off("scroll.YTplayer"+e.ID),e.$body=null,e.$node=null,e.$YTPlayerString=null,e.player.destroy(),e.player=null}},l.fn.scrollStopped=function(e){var t=l(this),o=this;t.scroll(function(){t.data("scrollTimeout")&&clearTimeout(t.data("scrollTimeout")),t.data("scrollTimeout",setTimeout(e,250,o))})},l.fn.YTPlayer=function(o){return this.each(function(){var e=this;l(e).data("yt-init",!0);var t=Object.create(YTPlayer);t.init(e,o),l.data(e,"ytPlayer",t)})}}(jQuery,window,document);